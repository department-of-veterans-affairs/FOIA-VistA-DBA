Released RT*2*38 SEQ #36
Extracted from mail message
**KIDS**:RT*2.0*38^

**INSTALL NAME**
RT*2.0*38
"BLD",4981,0)
RT*2.0*38^RECORD TRACKING^0^3030822^y
"BLD",4981,1,0)
^^2^2^3030815^^
"BLD",4981,1,1,0)
This patch modifies the the if condition at WHOTO^RTTR1 from 'OR' to 
"BLD",4981,1,2,0)
'AND'.
"BLD",4981,4,0)
^9.64PA^^
"BLD",4981,"ABPKG")
n
"BLD",4981,"KRN",0)
^9.67PA^8989.52^19
"BLD",4981,"KRN",.4,0)
.4
"BLD",4981,"KRN",.401,0)
.401
"BLD",4981,"KRN",.402,0)
.402
"BLD",4981,"KRN",.403,0)
.403
"BLD",4981,"KRN",.5,0)
.5
"BLD",4981,"KRN",.84,0)
.84
"BLD",4981,"KRN",3.6,0)
3.6
"BLD",4981,"KRN",3.8,0)
3.8
"BLD",4981,"KRN",9.2,0)
9.2
"BLD",4981,"KRN",9.8,0)
9.8
"BLD",4981,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4981,"KRN",9.8,"NM",1,0)
RTTR1^^0^B28901188
"BLD",4981,"KRN",9.8,"NM","B","RTTR1",1)

"BLD",4981,"KRN",19,0)
19
"BLD",4981,"KRN",19.1,0)
19.1
"BLD",4981,"KRN",101,0)
101
"BLD",4981,"KRN",409.61,0)
409.61
"BLD",4981,"KRN",771,0)
771
"BLD",4981,"KRN",870,0)
870
"BLD",4981,"KRN",8989.51,0)
8989.51
"BLD",4981,"KRN",8989.52,0)
8989.52
"BLD",4981,"KRN",8994,0)
8994
"BLD",4981,"KRN","B",.4,.4)

"BLD",4981,"KRN","B",.401,.401)

"BLD",4981,"KRN","B",.402,.402)

"BLD",4981,"KRN","B",.403,.403)

"BLD",4981,"KRN","B",.5,.5)

"BLD",4981,"KRN","B",.84,.84)

"BLD",4981,"KRN","B",3.6,3.6)

"BLD",4981,"KRN","B",3.8,3.8)

"BLD",4981,"KRN","B",9.2,9.2)

"BLD",4981,"KRN","B",9.8,9.8)

"BLD",4981,"KRN","B",19,19)

"BLD",4981,"KRN","B",19.1,19.1)

"BLD",4981,"KRN","B",101,101)

"BLD",4981,"KRN","B",409.61,409.61)

"BLD",4981,"KRN","B",771,771)

"BLD",4981,"KRN","B",870,870)

"BLD",4981,"KRN","B",8989.51,8989.51)

"BLD",4981,"KRN","B",8989.52,8989.52)

"BLD",4981,"KRN","B",8994,8994)

"BLD",4981,"QUES",0)
^9.62^^
"BLD",4981,"REQB",0)
^9.611^1^1
"BLD",4981,"REQB",1,0)
RT*2.0*33^1
"BLD",4981,"REQB","B","RT*2.0*33",1)

"MBREQ")
0
"PKG",72,-1)
1^1
"PKG",72,0)
RECORD TRACKING^RT^Medical Records and Film Jacket Tracking
"PKG",72,20,0)
^9.402P^^
"PKG",72,22,0)
^9.49I^1^1
"PKG",72,22,1,0)
2.0^2911022
"PKG",72,22,1,"PAH",1,0)
38^3030822
"PKG",72,22,1,"PAH",1,1,0)
^^2^2^3030822
"PKG",72,22,1,"PAH",1,1,1,0)
This patch modifies the the if condition at WHOTO^RTTR1 from 'OR' to 
"PKG",72,22,1,"PAH",1,1,2,0)
'AND'.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","RTTR1")
0^1^B28901188
"RTN","RTTR1",1,0)
RTTR1 ;ALB/PKE,JLU-Record Transfer Option ; 11/09/90  14:24 ; 1/16/03 4:23pm
"RTN","RTTR1",2,0)
 ;;2.0;Record Tracking;**6,33,38**;10/22/91 
"RTN","RTTR1",3,0)
 ;
"RTN","RTTR1",4,0)
PT W @IOF D EQUALS^RTUTL3
"RTN","RTTR1",5,0)
 W !,?20,XMB(CT) D LINE^RTUTL3 W !,"|    |",?20,"Station Name            Number      Mail Routing Symbol",?79,"|"
"RTN","RTTR1",6,0)
 Q
"RTN","RTTR1",7,0)
 ;
"RTN","RTTR1",8,0)
PN I $D(XMB(CT)) W !,"| 1a |",XMB(CT),?79,"|"
"RTN","RTTR1",9,0)
 I $D(XMB(CT+1)) W !,"| 1b |",XMB(CT+1),?79,"|"
"RTN","RTTR1",10,0)
 I $D(XMB(CT+2)) W !,"| 1c |",XMB(CT+2),?79,"|"
"RTN","RTTR1",11,0)
 Q
"RTN","RTTR1",12,0)
 ;
"RTN","RTTR1",13,0)
PN1 D LINE^RTUTL3
"RTN","RTTR1",14,0)
 W !,"| 4. NAME (Last,First,Middle)",?79,"|"
"RTN","RTTR1",15,0)
 Q
"RTN","RTTR1",16,0)
 ;
"RTN","RTTR1",17,0)
PN2 W !,"|  ",XMB(CT),?$X+46,"|"
"RTN","RTTR1",18,0)
 Q
"RTN","RTTR1",19,0)
 ;
"RTN","RTTR1",20,0)
PY5 D LINE^RTUTL3
"RTN","RTTR1",21,0)
 W !,"| 5a. [CN] ",XMB(CT),?39,"|","  [SS] ",XMB(CT+1),?79,"|"
"RTN","RTTR1",22,0)
 Q
"RTN","RTTR1",23,0)
 ;
"RTN","RTTR1",24,0)
PY6 D LINE^RTUTL3
"RTN","RTTR1",25,0)
 W !,"| 6.  [SN] ",XMB(CT),?79,"|"
"RTN","RTTR1",26,0)
 Q
"RTN","RTTR1",27,0)
 ;
"RTN","RTTR1",28,0)
PL16 D LINE^RTUTL3
"RTN","RTTR1",29,0)
 W !,"| 16.  FROM (Originating office)   ",XMB(CT)
"RTN","RTTR1",30,0)
 Q
"RTN","RTTR1",31,0)
 ;
"RTN","RTTR1",32,0)
PL16A W $C(13),"| 17.  Date ",XMB(CT+1),?$X+49,"|"
"RTN","RTTR1",33,0)
 Q
"RTN","RTTR1",34,0)
 ;
"RTN","RTTR1",35,0)
PL17 W $C(13),"| 18. Check when copy 2 is sent to Telecom  [",XMB(CT),"] UNIT ",?$X+26,"|"
"RTN","RTTR1",36,0)
 Q
"RTN","RTTR1",37,0)
 ;
"RTN","RTTR1",38,0)
REQ ;can screen also on domain entry to only select setup domains
"RTN","RTTR1",39,0)
 ;no laygo?
"RTN","RTTR1",40,0)
 ;entry for action on  transferred TO other
"RTN","RTTR1",41,0)
 ;need to format xmb(1-3)
"RTN","RTTR1",42,0)
4 ;1,2,3   Station Name, No,  Mail Routing
"RTN","RTTR1",43,0)
 S RTVAR=0
"RTN","RTTR1",44,0)
 S DIC="^RTV(195.9,",DIC("A")="Select Institution: ",DIC(0)="IAEQM"
"RTN","RTTR1",45,0)
 S DIC("S")="S Z0=^(0),Z=$P($P(Z0,U),"";"",2) I Z=""DIC(4,"",$P(Z0,U,3)="_+RTAPL
"RTN","RTTR1",46,0)
 S DIC("V")="I $P(Y(0),U,4)=""I"""
"RTN","RTTR1",47,0)
 K XMB,XMY
"RTN","RTTR1",48,0)
 S CT=1,XMB(CT)="REQUEST FOR TRANSFER OF VETERANS RECORDS "
"RTN","RTTR1",49,0)
 D PT
"RTN","RTTR1",50,0)
 ;
"RTN","RTTR1",51,0)
 S CT=2,DIC("B")=""
"RTN","RTTR1",52,0)
AGN F CT=CT:1:4 S DIC("A")="| 1"_$C(95+CT)_" |  " D ^DIC Q:Y<0  G:$D(RTB(+Y)) AGN S RTB(+Y)=CT,RTB=+Y,Y=$P(Y,"^",2) D NAM S XMB(CT)=$J(Y,25)_$J(N,18) D WHOTO K X0,X1,X2,X3
"RTN","RTTR1",53,0)
 I $D(DUOUT)!($D(DTOUT)) D EX Q
"RTN","RTTR1",54,0)
XXX ;S BL=".",$P(BL,".",50)=""
"RTN","RTTR1",55,0)
 K DIC
"RTN","RTTR1",56,0)
 D INST
"RTN","RTTR1",57,0)
 ;4 name ,5 cn    ssn , 6 sn
"RTN","RTTR1",58,0)
Y4 S DIC("A")="|  ",DIC("B")="",CT=5
"RTN","RTTR1",59,0)
 S DIC(0)="AIEMQZ",DIC="^DPT(" D PN1 S NDIC="N XMB D ^DIC" X NDIC K NDIC I $D(DUOUT)!($D(DTOUT))!(Y<1) D EX Q
"RTN","RTTR1",60,0)
 S XMB(CT)=$J($P(Y,"^",2),30)
"RTN","RTTR1",61,0)
 S CT=1 D PT
"RTN","RTTR1",62,0)
 S CT=2 D PN
"RTN","RTTR1",63,0)
 S CT=5 D PN1,PN2
"RTN","RTTR1",64,0)
 K DIC
"RTN","RTTR1",65,0)
 ;
"RTN","RTTR1",66,0)
Y5 S CT=6 I $D(^DPT(+Y,.31)) S J=$P(^(.31),U,3)
"RTN","RTTR1",67,0)
 E  S J=""
"RTN","RTTR1",68,0)
 S XMB(CT)=$S(J:J,1:"Unknown"),XMB(CT+1)=$S(+$P(Y(0),U,9):$P(Y(0),U,9),1:"Unknown")
"RTN","RTTR1",69,0)
 D PY5
"RTN","RTTR1",70,0)
 ;
"RTN","RTTR1",71,0)
Y6 S CT=8 I $D(^DPT(+Y,.32)) S J=$P(^(.32),U,8)
"RTN","RTTR1",72,0)
 E  S J=""
"RTN","RTTR1",73,0)
 S XMB(CT)=$S(J:J,1:"Unknown")
"RTN","RTTR1",74,0)
 D PY6
"RTN","RTTR1",75,0)
 ;
"RTN","RTTR1",76,0)
 K DUOUT,DTOUT D Y7^RTTR11 I $D(DUOUT)!($D(DTOUT)) D EX Q
"RTN","RTTR1",77,0)
 ;
"RTN","RTTR1",78,0)
L16 ;16 FROM (originating office)
"RTN","RTTR1",79,0)
 S CT=35
"RTN","RTTR1",80,0)
 ;saved incase want to make this field editable.
"RTN","RTTR1",81,0)
 ;S DIR("A")="| 16.  FROM (Originating office)  ",DIR(0)="FAO^1:40"
"RTN","RTTR1",82,0)
 ;D ^DIR I $D(DUOUT)!($D(DTOUT)) D EX Q
"RTN","RTTR1",83,0)
 ;K DIR
"RTN","RTTR1",84,0)
 S XMB(CT)=$S($D(RTDIV):$P(^DIC(4,RTDIV,0),U),1:"Unknown")
"RTN","RTTR1",85,0)
 D PL16
"RTN","RTTR1",86,0)
 ;
"RTN","RTTR1",87,0)
 D LINE^RTUTL3
"RTN","RTTR1",88,0)
 K X,Y,DIR
"RTN","RTTR1",89,0)
 S DIR(0)="D^::AET",DIR("A")="| 17.  Date  ? ",DIR("B")="NOW"
"RTN","RTTR1",90,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D EX Q
"RTN","RTTR1",91,0)
 D DD^%DT S XMB(CT+1)=Y
"RTN","RTTR1",92,0)
 D PL16A
"RTN","RTTR1",93,0)
 I $D(RTKEY) Q
"RTN","RTTR1",94,0)
 ;
"RTN","RTTR1",95,0)
L17 S CT=37
"RTN","RTTR1",96,0)
 I XMB(12)="" S XMB(CT)="" D XM1,LINE^RTUTL3 Q
"RTN","RTTR1",97,0)
 D LINE^RTUTL3
"RTN","RTTR1",98,0)
 S DIR("A")="| 18. Check when copy 2 is sent to Telecom  [ ] UNIT ",DIR(0)="YOA"
"RTN","RTTR1",99,0)
 D ^DIR I $D(DUOUT)!($D(DTOUT)) D EX Q
"RTN","RTTR1",100,0)
 S XMB(CT)=$S(Y=1:"X",1:"")
"RTN","RTTR1",101,0)
 D PL17
"RTN","RTTR1",102,0)
 D LINE^RTUTL3
"RTN","RTTR1",103,0)
 D XM1
"RTN","RTTR1",104,0)
XM S XMY(DUZ)="",XMB="RT REQUEST/NOTICE TRANSFER" D ^XMB K XMB
"RTN","RTTR1",105,0)
 D EX Q
"RTN","RTTR1",106,0)
 ;
"RTN","RTTR1",107,0)
BOR S DA=+Y,DR="[RT BORROWER SET-UP]",DIE="^RTV(195.9," D ^DIE K DE,DQ Q
"RTN","RTTR1",108,0)
NAM S Z="^"_$P(Y,";",2) I "^DIC(4,^"[(Z_"^"),$D(@(Z_+Y_",0)")) S Y=$P(^(0),"^"),N=$S($D(^(99)):$P(^(99),"^"),1:"") Q
"RTN","RTTR1",109,0)
 Q
"RTN","RTTR1",110,0)
WHOTO ;
"RTN","RTTR1",111,0)
 N RTQUIT
"RTN","RTTR1",112,0)
 I $D(^RTV(195.9,RTB,0)),$D(^(1)) S X0=$P(^(0),U,5),X1=^(1)
"RTN","RTTR1",113,0)
 E  Q
"RTN","RTTR1",114,0)
 ;X0 request prt ;X1 domain ;X2 remot mail grp ;x3 mail routing sym
"RTN","RTTR1",115,0)
 S X2=$P(X1,"^",2),X3=$P(X1,"^",3),XMB(CT)=XMB(CT)_$J(X3,25),X1=$P(X1,"^")
"RTN","RTTR1",116,0)
 I $G(X0)']""&($G(X2)']"") W !!,"Routing information for this Borrower/Location is incomplete - see Site Manager." S RTQUIT=1
"RTN","RTTR1",117,0)
 I '$L(X1) W !,"Domain for this Borrower/Loacation is missing - see Site Manager." S RTQUIT=1
"RTN","RTTR1",118,0)
 I $G(RTQUIT)=1 W !?20,"No message will be sent.",!!! Q
"RTN","RTTR1",119,0)
 I $D(^DIC(4.2,X1,0)) S X1=$P(^(0),"^")
"RTN","RTTR1",120,0)
 E  Q
"RTN","RTTR1",121,0)
 I '$L(X0),'$L(X2) Q
"RTN","RTTR1",122,0)
 S:$L(X0) AXMY("D."_X0_"@"_X1)=""
"RTN","RTTR1",123,0)
 S:$L(X2) AXMY("G."_X2_"@"_X1)=""
"RTN","RTTR1",124,0)
 Q
"RTN","RTTR1",125,0)
INST S AN=""
"RTN","RTTR1",126,0)
 F AZ=0:0 S AN=$O(AXMY(AN)) Q:AN=""  I $E(AN,$L(AN))="@" K AXMY(AN)
"RTN","RTTR1",127,0)
 S (AN,XMN)=0,XMDUZ=DUZ F AZ=0:0 S AN=$O(AXMY(AN)) Q:AN=""  S X=AN D INST^XMA21
"RTN","RTTR1",128,0)
 K AZ,AN,AXMY,XMN,XMM,XMQ,XMMG,XMDUZ Q
"RTN","RTTR1",129,0)
 ;
"RTN","RTTR1",130,0)
EX K RTB,DIR,CT,DA,DIE,DIC,DR,DTOUT,DUOUT,XMB,A,BL,C,N,X0,X1,X2,X3,XMY
"RTN","RTTR1",131,0)
 K RTVAR,RTV,Y,YZ,Z,X,Y Q
"RTN","RTTR1",132,0)
 ;
"RTN","RTTR1",133,0)
XM1 S CT=1 D PT^RTTR1
"RTN","RTTR1",134,0)
 S CT=2 D PN^RTTR1
"RTN","RTTR1",135,0)
 S CT=5 D PN1^RTTR1,PN2^RTTR1
"RTN","RTTR1",136,0)
 S CT=6 D PY5^RTTR1
"RTN","RTTR1",137,0)
 S CT=8 D PY6^RTTR1
"RTN","RTTR1",138,0)
 S CT=10 D LINE^RTUTL3 W ! D PY8^RTTR11
"RTN","RTTR1",139,0)
 S CT=12 D LINE^RTUTL3 W ! D PY11^RTTR11,LINE^RTUTL3
"RTN","RTTR1",140,0)
 W ! K DIR S DIR(0)="E" D ^DIR K DIR Q:'Y
"RTN","RTTR1",141,0)
 S CT=21 W ! D LINE^RTUTL3,PY13D^RTTR11 W ! D PY13^RTTR11,PY13A^RTTR11 W ! D PY13B^RTTR11,PY13C^RTTR11
"RTN","RTTR1",142,0)
 S CT=31 D LINE^RTUTL3,PL14^RTTR11 W ! D PL14A^RTTR11 W ! D PL14B^RTTR11
"RTN","RTTR1",143,0)
 S CT=33 D LINE^RTUTL3 W ! D PL15^RTTR11
"RTN","RTTR1",144,0)
 S CT=35 D PL16^RTTR1,LINE^RTUTL3 W ! D PL16A^RTTR1
"RTN","RTTR1",145,0)
 S CT=37 D LINE^RTUTL3 W ! D PL17^RTTR1,LINE^RTUTL3
"RTN","RTTR1",146,0)
 Q
"VER")
8.0^22
**END**
**END**
