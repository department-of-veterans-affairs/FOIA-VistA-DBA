$TXT Created by UNDERHILL,GARDNER at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Monday, 09/10/07 at 16:41
=============================================================================
Run Date: SEP 21, 2007                     Designation: OR*3*263
Package : OR - ORDER ENTRY/RESULTS REPORTING  Priority: Mandatory
Version : 3       SEQ #251                      Status: Released
                  Compliance Date: OCT 22, 2007
=============================================================================

Associated patches: (v)OR*3*25     <<= must be installed BEFORE `OR*3*263'
                    (v)OR*3*50     <<= must be installed BEFORE `OR*3*263'
                    (v)OR*3*95     <<= must be installed BEFORE `OR*3*263'
                    (v)OR*3*192    <<= must be installed BEFORE `OR*3*263'
                    (v)OR*3*215    <<= must be installed BEFORE `OR*3*263'

Subject: ADDRESSES MINOR ISSUES IN ORDER ENTRY

Category: 
  - Routine

Description:
============

 This patch will address a few issues:
 1.  When using the Search orders by Nature or Status [OR NATURE/STATUS
 ORDER SEARCH] option, if the user enters a start date of T-1 and an end
 date of T, the search will return no results.
  
 2. In the Search orders by Nature or Status [OR NATURE/STATUS ORDER 
 SEARCH] option, the help text for the date ranges state that the start
 date must be older than the end date. But the option will allow the user
 to enter an end date older than the start date.
  
 3. Creating a new menu by copying an existing menu is resulting in an 
 error.
  
 4. If a patient has only clinical procedures reports in the Procedures 
 (local only) section of the CPRS reports tab, the reports will not print 
 to a printer.
  
  
 REMEDY TICKET OVERVIEW:
 =======================
  
 Problem 1: HD0000000070067
 ----------
 When using the Search orders by Nature or Status [OR NATURE/STATUS 
 ORDER SEARCH] option, if the user enters a start date of T-1 and an end
 date of T the search will return no results.
  
 When the user does not input a date.time (example T@1200 or T-1@1200) the
 routine will automatically append times. So for a start date of T-1 
 (yesterday's date) the option will append .2359 to it. For an end date of
 T for Today the routine option will append .0001 to it. This gives
 start_date.2359 and end_date.0001. In effect making the search look for
 records between one minute before midnight to one minute after midnight.
 Unless the facility has placed orders in this two minute window of time,
 no records will be found.
  
 Solution:
 ---------
 Modify the option to append .0001 to the start date and .2359 to the end 
 date if the user enters dates but no times.
  
 Problem 2: HD0000000070067
 ----------
 In the Search orders by Nature or Status [OR NATURE/STATUS ORDER SEARCH] 
 option, the help text for the date ranges states that the start date must
 be older than the end date. But the option will allow the user to enter an
 end date older than the start date.
  
 Solution:
 ---------
 Modify the option to not allow the entry of an end date older than the 
 start date. If the user enters an end date older than the start date the
 option will display an error message and re-prompt for the start and end
 dates.
  
 Problem 3: HD0000000070542
 ----------
 Using the Enter/edit order menus [MN] under the ORDER MENU MANAGEMENT to 
 create a new menu by copying an existing menu, is resulting in screen
 error and an error in the error trap. The existing menu being copied is
 missing piece 2, DISPLAY TEXT. This is resulting in a <NULLSUBSCR> error
 during the build of the new menu while copying the existing menu. The
 routine ORCMEDIT is coded to assume that this field is not null. But since
 DISPLAY TEXT is not a required field, this will sometimes be null. This
 error does not prevent the new menu from being built, but it is annoying.
  
 Solution:
 ---------
 The solution is to modify routine ORCMEDIT to test DISPLAY TEXT to 
 determine if it is null. If it is null, then skip the part of the routine
 LRCMEDIT that copies the DISPLAY TEXT of the existing menu to the new
 menu.
  
 Problem 4:  HD0000000139223
 ----------
 If a patient has only clinical procedures reports in the Procedures 
 (local only) section of the CPRS reports tab, the reports will not print 
 to a printer.  If the patient has both Medicine and Clinical Procedure 
 reports, then both the Medicine and CP reports will print to a printer.
  
 Solution:
 ---------
 Modify ORWRPP1 and ORCHTAB5 to not check the Medicine index before 
 printing.
  
  
 ASSOCIATED REMEDY TICKET(S):
 ============================
 HD0000000070067 - SUX-0303-41946  Date/Time incorrect with order search
 HD0000000070542 - UNY-0204-10888  <NULLSUBSCR>MN1+11~ORCMEDIT
 HD0000000139223 - CP reports in the Procedures (local only) 
  
 ASSOCIATED TEST SITES:
 ======================
 Sioux Falls, SD
 Palo Alto HCS, CA 
 Mountain Home, TN
  
 INSTALLATION INSTRUCTIONS:
 ==========================
  This patch can be loaded with users in the system, but it should be
  installed during non-peak hours.  Installation time will be less than
  two minutes.
   
  1.  Choose the PackMan message containing this patch and invoke the
      INTALL/CHECK MESSAGE Packman option.
   
  2.  Start up the Kernel Installation and Distribution System Menu [XPD
      MAIN]:
   
             Edits and Distribution ...
             Utilities ...
             Installation ...
   
      Select Kernel Installation & Distribution System Option:
      Installation
   
             1      Load a Distribution
             2      Verify Checksums in Transport Global
             3      Print Transport Global
             4      Compare Transport Global to Current System
             5      Backup a Transport Global
             6      Install Package(s)
                    Restart Install of Package(s)
                    Unload a Distribution
   
  3.  From this menu, it is highly recommended that you use the following
      options (When prompted for the INSTALL NAME, enter OR*3.0*263):
   
      a.  Verify Checksums in Transport Global - This option will verify 
          the checksums of routines included in this patch.
      b.  Print Transport Global - This option will print out a list of all
          the componets exported in this patch.
      c.  Compare Transport Global to Current System - This option will 
          allow you to view all changes that will be made when this patch 
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      d.  Backup a Transport Global - This option will back up the current
          versions of the routines in this patch before it is installed.
   
  4.  Use the Install Package(s) option and select the package OR*3.0*263.
   
      a.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
          YES//", answer NO.
      b.  When prompted "Want to DISABLE Scheduled Options and Menu Options
          and Protocols? YES//", answer NO.
  
  
 ROUTINE SUMMARY:
 ===============
 The following routines are included in this patch. The second line of
 each of these routines now looks like:
  
    <tab>;;3.0;ORDER ENTRY/RESULTS REPORTING;**[Patch List]**;Dec 17, 1997
  
 CHECK^XTSUMBLD
                       Checksum       Checksum
      Routine Name     Before Patch   After Patch    Patch List
      ------------     ------------   ------------   -----------
      ORCHTAB5         716287         888820         25,263
      ORCMEDIT         13080119       13335765       8,46,95,263
      ORSNAST          12374440       13077367       50,263
      ORWRPP1          8989130        9161583        109,160,192,263

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**[Patch List]**;Dec 17, 1997;Build 9

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: ORCHTAB5
    Before:   B913656   After:  B1112113  **25,263**
Routine Name: ORCMEDIT
    Before: B35442976   After: B36080041  **8,46,95,263**
Routine Name: ORSNAST
    Before: B21819774   After: B24821393  **50,263**
Routine Name: ORWRPP1
    Before: B22861977   After: B23307424  **109,160,192,263**
 
Routine list of preceding patches: 25, 50, 95, 192

=============================================================================
User Information:
Entered By  : UNDERHILL,GARDNER D           Date Entered  : JUL 06, 2006
Completed By: CROSSMAN,PAM                  Date Completed: SEP 20, 2007
Released By : LECLAIR,RAY                   Date Released : SEP 21, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
