KIDS Distribution saved on Dec 14, 2000@09:34:37
ECX*3.0*33 12/14/2000
**KIDS**:ECX*3.0*33^

**INSTALL NAME**
ECX*3.0*33
"BLD",3077,0)
ECX*3.0*33^DSS EXTRACTS^0^3001214^y
"BLD",3077,4,0)
^9.64PA^727.825^21
"BLD",3077,4,727.1,0)
727.1
"BLD",3077,4,727.1,222)
y^n^f^^^^n
"BLD",3077,4,727.802,0)
727.802
"BLD",3077,4,727.802,222)
y^n^f^^^^n
"BLD",3077,4,727.804,0)
727.804
"BLD",3077,4,727.804,222)
y^y^f^^^^n
"BLD",3077,4,727.805,0)
727.805
"BLD",3077,4,727.805,222)
y^y^f^^^^n
"BLD",3077,4,727.806,0)
727.806
"BLD",3077,4,727.806,222)
y^y^f^^^^n
"BLD",3077,4,727.808,0)
727.808
"BLD",3077,4,727.808,222)
y^y^f^^^^n
"BLD",3077,4,727.809,0)
727.809
"BLD",3077,4,727.809,222)
y^y^f^^^^n
"BLD",3077,4,727.81,0)
727.81
"BLD",3077,4,727.81,222)
y^y^f^^^^n
"BLD",3077,4,727.811,0)
727.811
"BLD",3077,4,727.811,222)
y^y^f^^^^n
"BLD",3077,4,727.812,0)
727.812
"BLD",3077,4,727.812,222)
y^y^f^^^^n
"BLD",3077,4,727.813,0)
727.813
"BLD",3077,4,727.813,222)
y^y^f^^^^n
"BLD",3077,4,727.814,0)
727.814
"BLD",3077,4,727.814,222)
y^n^f^^^^n
"BLD",3077,4,727.815,0)
727.815
"BLD",3077,4,727.815,222)
y^n^f^^^^n
"BLD",3077,4,727.817,0)
727.817
"BLD",3077,4,727.817,222)
y^y^f^^^^n
"BLD",3077,4,727.819,0)
727.819
"BLD",3077,4,727.819,222)
y^y^f^^^^n
"BLD",3077,4,727.823,0)
727.823
"BLD",3077,4,727.823,222)
y^y^f^^^^n
"BLD",3077,4,727.824,0)
727.824
"BLD",3077,4,727.824,222)
y^y^f^^^^n
"BLD",3077,4,727.825,0)
727.825
"BLD",3077,4,727.825,222)
y^n^f^^^^n
"BLD",3077,4,727.826,0)
727.826
"BLD",3077,4,727.826,222)
y^n^f^^^^n
"BLD",3077,4,727.827,0)
727.827
"BLD",3077,4,727.827,222)
y^y^f^^^^n
"BLD",3077,4,727.831,0)
727.831
"BLD",3077,4,727.831,222)
y^y^f^^^^n
"BLD",3077,4,"B",727.1,727.1)

"BLD",3077,4,"B",727.802,727.802)

"BLD",3077,4,"B",727.804,727.804)

"BLD",3077,4,"B",727.805,727.805)

"BLD",3077,4,"B",727.806,727.806)

"BLD",3077,4,"B",727.808,727.808)

"BLD",3077,4,"B",727.809,727.809)

"BLD",3077,4,"B",727.81,727.81)

"BLD",3077,4,"B",727.811,727.811)

"BLD",3077,4,"B",727.812,727.812)

"BLD",3077,4,"B",727.813,727.813)

"BLD",3077,4,"B",727.814,727.814)

"BLD",3077,4,"B",727.815,727.815)

"BLD",3077,4,"B",727.817,727.817)

"BLD",3077,4,"B",727.819,727.819)

"BLD",3077,4,"B",727.823,727.823)

"BLD",3077,4,"B",727.824,727.824)

"BLD",3077,4,"B",727.825,727.825)

"BLD",3077,4,"B",727.826,727.826)

"BLD",3077,4,"B",727.827,727.827)

"BLD",3077,4,"B",727.831,727.831)

"BLD",3077,"ABPKG")
n
"BLD",3077,"INIT")
ECX333PT
"BLD",3077,"KRN",0)
^9.67PA^19^17
"BLD",3077,"KRN",.4,0)
.4
"BLD",3077,"KRN",.4,"NM",0)
^9.68A^^
"BLD",3077,"KRN",.401,0)
.401
"BLD",3077,"KRN",.401,"NM",0)
^9.68A^^
"BLD",3077,"KRN",.402,0)
.402
"BLD",3077,"KRN",.403,0)
.403
"BLD",3077,"KRN",.5,0)
.5
"BLD",3077,"KRN",.84,0)
.84
"BLD",3077,"KRN",3.6,0)
3.6
"BLD",3077,"KRN",3.8,0)
3.8
"BLD",3077,"KRN",9.2,0)
9.2
"BLD",3077,"KRN",9.8,0)
9.8
"BLD",3077,"KRN",9.8,"NM",0)
^9.68A^39^37
"BLD",3077,"KRN",9.8,"NM",1,0)
ECXUD^^0^B9284590
"BLD",3077,"KRN",9.8,"NM",2,0)
ECXTRT^^0^B36609351
"BLD",3077,"KRN",9.8,"NM",3,0)
ECXSURG^^0^B28082850
"BLD",3077,"KRN",9.8,"NM",4,0)
ECXADM^^0^B19698530
"BLD",3077,"KRN",9.8,"NM",5,0)
ECXDENT^^0^B7590580
"BLD",3077,"KRN",9.8,"NM",6,0)
ECXLABN^^0^B19549170
"BLD",3077,"KRN",9.8,"NM",7,0)
ECXLABR^^0^B11457441
"BLD",3077,"KRN",9.8,"NM",8,0)
ECXMOV^^0^B8644402
"BLD",3077,"KRN",9.8,"NM",9,0)
ECXMTL^^0^B17838639
"BLD",3077,"KRN",9.8,"NM",10,0)
ECXNURS^^0^B33231061
"BLD",3077,"KRN",9.8,"NM",11,0)
ECXOPRX^^0^B42063969
"BLD",3077,"KRN",9.8,"NM",12,0)
ECXPAI^^0^B7667566
"BLD",3077,"KRN",9.8,"NM",13,0)
ECXPIVD^^0^B13515272
"BLD",3077,"KRN",9.8,"NM",14,0)
ECXRAD^^0^B17410583
"BLD",3077,"KRN",9.8,"NM",15,0)
ECXSCNS^^0^B21764882
"BLD",3077,"KRN",9.8,"NM",16,0)
ECXSCXN^^0^B77670230
"BLD",3077,"KRN",9.8,"NM",17,0)
ECXTRANS^^0^B38599184
"BLD",3077,"KRN",9.8,"NM",18,0)
ECXUTL2^^0^B55699712
"BLD",3077,"KRN",9.8,"NM",19,0)
ECXUTL3^^0^B47901657
"BLD",3077,"KRN",9.8,"NM",20,0)
ECXSCX1^^0^B64225971
"BLD",3077,"KRN",9.8,"NM",21,0)
ECXPURG^^0^B14337889
"BLD",3077,"KRN",9.8,"NM",23,0)
ECXTRAC^^0^B49006451
"BLD",3077,"KRN",9.8,"NM",24,0)
ECXPRO^^0^B17843672
"BLD",3077,"KRN",9.8,"NM",25,0)
ECXPRO1^^0^B18999198
"BLD",3077,"KRN",9.8,"NM",26,0)
ECXAADM^^0^B45483901
"BLD",3077,"KRN",9.8,"NM",27,0)
ECXAMOV^^0^B75964135
"BLD",3077,"KRN",9.8,"NM",28,0)
ECXEC^^0^B22150796
"BLD",3077,"KRN",9.8,"NM",29,0)
ECXQSR^^0^B35103388
"BLD",3077,"KRN",9.8,"NM",30,0)
ECXPIVDN^^0^B21661994
"BLD",3077,"KRN",9.8,"NM",32,0)
ECXPRO2^^0^B11716093
"BLD",3077,"KRN",9.8,"NM",33,0)
ECXDVSNX^^0^B5856238
"BLD",3077,"KRN",9.8,"NM",34,0)
ECXARAD^^0^B37047484
"BLD",3077,"KRN",9.8,"NM",35,0)
ECXASUR^^0^B34767068
"BLD",3077,"KRN",9.8,"NM",36,0)
ECXAECS^^0^B40273391
"BLD",3077,"KRN",9.8,"NM",37,0)
ECXAECQ^^0^B27391507
"BLD",3077,"KRN",9.8,"NM",38,0)
ECXAPRO^^0^B43329946
"BLD",3077,"KRN",9.8,"NM",39,0)
ECXCPRO^^0^B31402157
"BLD",3077,"KRN",9.8,"NM","B","ECXAADM",26)

"BLD",3077,"KRN",9.8,"NM","B","ECXADM",4)

"BLD",3077,"KRN",9.8,"NM","B","ECXAECQ",37)

"BLD",3077,"KRN",9.8,"NM","B","ECXAECS",36)

"BLD",3077,"KRN",9.8,"NM","B","ECXAMOV",27)

"BLD",3077,"KRN",9.8,"NM","B","ECXAPRO",38)

"BLD",3077,"KRN",9.8,"NM","B","ECXARAD",34)

"BLD",3077,"KRN",9.8,"NM","B","ECXASUR",35)

"BLD",3077,"KRN",9.8,"NM","B","ECXCPRO",39)

"BLD",3077,"KRN",9.8,"NM","B","ECXDENT",5)

"BLD",3077,"KRN",9.8,"NM","B","ECXDVSNX",33)

"BLD",3077,"KRN",9.8,"NM","B","ECXEC",28)

"BLD",3077,"KRN",9.8,"NM","B","ECXLABN",6)

"BLD",3077,"KRN",9.8,"NM","B","ECXLABR",7)

"BLD",3077,"KRN",9.8,"NM","B","ECXMOV",8)

"BLD",3077,"KRN",9.8,"NM","B","ECXMTL",9)

"BLD",3077,"KRN",9.8,"NM","B","ECXNURS",10)

"BLD",3077,"KRN",9.8,"NM","B","ECXOPRX",11)

"BLD",3077,"KRN",9.8,"NM","B","ECXPAI",12)

"BLD",3077,"KRN",9.8,"NM","B","ECXPIVD",13)

"BLD",3077,"KRN",9.8,"NM","B","ECXPIVDN",30)

"BLD",3077,"KRN",9.8,"NM","B","ECXPRO",24)

"BLD",3077,"KRN",9.8,"NM","B","ECXPRO1",25)

"BLD",3077,"KRN",9.8,"NM","B","ECXPRO2",32)

"BLD",3077,"KRN",9.8,"NM","B","ECXPURG",21)

"BLD",3077,"KRN",9.8,"NM","B","ECXQSR",29)

"BLD",3077,"KRN",9.8,"NM","B","ECXRAD",14)

"BLD",3077,"KRN",9.8,"NM","B","ECXSCNS",15)

"BLD",3077,"KRN",9.8,"NM","B","ECXSCX1",20)

"BLD",3077,"KRN",9.8,"NM","B","ECXSCXN",16)

"BLD",3077,"KRN",9.8,"NM","B","ECXSURG",3)

"BLD",3077,"KRN",9.8,"NM","B","ECXTRAC",23)

"BLD",3077,"KRN",9.8,"NM","B","ECXTRANS",17)

"BLD",3077,"KRN",9.8,"NM","B","ECXTRT",2)

"BLD",3077,"KRN",9.8,"NM","B","ECXUD",1)

"BLD",3077,"KRN",9.8,"NM","B","ECXUTL2",18)

"BLD",3077,"KRN",9.8,"NM","B","ECXUTL3",19)

"BLD",3077,"KRN",19,0)
19
"BLD",3077,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",3077,"KRN",19,"NM",1,0)
ECX SET MAX LINES^^1^
"BLD",3077,"KRN",19,"NM",2,0)
ECXSCX^^0
"BLD",3077,"KRN",19,"NM","B","ECX SET MAX LINES",1)

"BLD",3077,"KRN",19,"NM","B","ECXSCX",2)

"BLD",3077,"KRN",19.1,0)
19.1
"BLD",3077,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",3077,"KRN",101,0)
101
"BLD",3077,"KRN",101,"NM",0)
^9.68A^^
"BLD",3077,"KRN",409.61,0)
409.61
"BLD",3077,"KRN",771,0)
771
"BLD",3077,"KRN",870,0)
870
"BLD",3077,"KRN",8994,0)
8994
"BLD",3077,"KRN","B",.4,.4)

"BLD",3077,"KRN","B",.401,.401)

"BLD",3077,"KRN","B",.402,.402)

"BLD",3077,"KRN","B",.403,.403)

"BLD",3077,"KRN","B",.5,.5)

"BLD",3077,"KRN","B",.84,.84)

"BLD",3077,"KRN","B",3.6,3.6)

"BLD",3077,"KRN","B",3.8,3.8)

"BLD",3077,"KRN","B",9.2,9.2)

"BLD",3077,"KRN","B",9.8,9.8)

"BLD",3077,"KRN","B",19,19)

"BLD",3077,"KRN","B",19.1,19.1)

"BLD",3077,"KRN","B",101,101)

"BLD",3077,"KRN","B",409.61,409.61)

"BLD",3077,"KRN","B",771,771)

"BLD",3077,"KRN","B",870,870)

"BLD",3077,"KRN","B",8994,8994)

"BLD",3077,"QUES",0)
^9.62^^
"BLD",3077,"REQB",0)
^9.611^1^1
"BLD",3077,"REQB",1,0)
ECX*3.0*32^1
"BLD",3077,"REQB","B","ECX*3.0*32",1)

"FIA",727.1)
EXTRACT DEFINITIONS
"FIA",727.1,0)
^ECX(727.1,
"FIA",727.1,0,0)
727.1
"FIA",727.1,0,1)
y^n^f^^^^n
"FIA",727.1,0,10)

"FIA",727.1,0,11)

"FIA",727.1,0,"RLRO")

"FIA",727.1,0,"VR")
3.0^ECX
"FIA",727.1,727.1)
0
"FIA",727.1,727.11)
0
"FIA",727.802)
ADMISSION EXTRACT
"FIA",727.802,0)
^ECX(727.802,
"FIA",727.802,0,0)
727.802
"FIA",727.802,0,1)
y^n^f^^^^n
"FIA",727.802,0,10)

"FIA",727.802,0,11)

"FIA",727.802,0,"RLRO")

"FIA",727.802,0,"VR")
3.0^ECX
"FIA",727.802,727.802)
0
"FIA",727.804)
CLINIC NOSHOW EXTRACT
"FIA",727.804,0)
^ECX(727.804,
"FIA",727.804,0,0)
727.804
"FIA",727.804,0,1)
y^y^f^^^^n
"FIA",727.804,0,10)

"FIA",727.804,0,11)

"FIA",727.804,0,"RLRO")

"FIA",727.804,0,"VR")
3.0^ECX
"FIA",727.804,727.804)
0
"FIA",727.805)
NURSING EXTRACT
"FIA",727.805,0)
^ECX(727.805,
"FIA",727.805,0,0)
727.805
"FIA",727.805,0,1)
y^y^f^^^^n
"FIA",727.805,0,10)

"FIA",727.805,0,11)

"FIA",727.805,0,"RLRO")

"FIA",727.805,0,"VR")
3.0^ECX
"FIA",727.805,727.805)
0
"FIA",727.806)
DENTAL EXTRACT
"FIA",727.806,0)
^ECX(727.806,
"FIA",727.806,0,0)
727.806
"FIA",727.806,0,1)
y^y^f^^^^n
"FIA",727.806,0,10)

"FIA",727.806,0,11)

"FIA",727.806,0,"RLRO")

"FIA",727.806,0,"VR")
3.0^ECX
"FIA",727.806,727.806)
0
"FIA",727.808)
PHYSICAL MOVEMENT EXTRACT
"FIA",727.808,0)
^ECX(727.808,
"FIA",727.808,0,0)
727.808
"FIA",727.808,0,1)
y^y^f^^^^n
"FIA",727.808,0,10)

"FIA",727.808,0,11)

"FIA",727.808,0,"RLRO")

"FIA",727.808,0,"VR")
3.0^ECX
"FIA",727.808,727.808)
0
"FIA",727.809)
UNIT DOSE LOCAL EXTRACT
"FIA",727.809,0)
^ECX(727.809,
"FIA",727.809,0,0)
727.809
"FIA",727.809,0,1)
y^y^f^^^^n
"FIA",727.809,0,10)

"FIA",727.809,0,11)

"FIA",727.809,0,"RLRO")

"FIA",727.809,0,"VR")
3.0^ECX
"FIA",727.809,727.809)
0
"FIA",727.81)
PRESCRIPTION EXTRACT
"FIA",727.81,0)
^ECX(727.81,
"FIA",727.81,0,0)
727.81
"FIA",727.81,0,1)
y^y^f^^^^n
"FIA",727.81,0,10)

"FIA",727.81,0,11)

"FIA",727.81,0,"RLRO")

"FIA",727.81,0,"VR")
3.0^ECX
"FIA",727.81,727.81)
0
"FIA",727.811)
SURGERY EXTRACT
"FIA",727.811,0)
^ECX(727.811,
"FIA",727.811,0,0)
727.811
"FIA",727.811,0,1)
y^y^f^^^^n
"FIA",727.811,0,10)

"FIA",727.811,0,11)

"FIA",727.811,0,"RLRO")

"FIA",727.811,0,"VR")
3.0^ECX
"FIA",727.811,727.811)
0
"FIA",727.812)
MENTAL HEALTH EXTRACT
"FIA",727.812,0)
^ECX(727.812,
"FIA",727.812,0,0)
727.812
"FIA",727.812,0,1)
y^y^f^^^^n
"FIA",727.812,0,10)

"FIA",727.812,0,11)

"FIA",727.812,0,"RLRO")

"FIA",727.812,0,"VR")
3.0^ECX
"FIA",727.812,727.812)
0
"FIA",727.813)
LABORATORY EXTRACT
"FIA",727.813,0)
^ECX(727.813,
"FIA",727.813,0,0)
727.813
"FIA",727.813,0,1)
y^y^f^^^^n
"FIA",727.813,0,10)

"FIA",727.813,0,11)

"FIA",727.813,0,"RLRO")

"FIA",727.813,0,"VR")
3.0^ECX
"FIA",727.813,727.813)
0
"FIA",727.814)
RADIOLOGY EXTRACT
"FIA",727.814,0)
^ECX(727.814,
"FIA",727.814,0,0)
727.814
"FIA",727.814,0,1)
y^n^f^^^^n
"FIA",727.814,0,10)

"FIA",727.814,0,11)

"FIA",727.814,0,"RLRO")

"FIA",727.814,0,"VR")
3.0^ECX
"FIA",727.814,727.814)
0
"FIA",727.815)
EVENT CAPTURE LOCAL EXTRACT
"FIA",727.815,0)
^ECX(727.815,
"FIA",727.815,0,0)
727.815
"FIA",727.815,0,1)
y^n^f^^^^n
"FIA",727.815,0,10)

"FIA",727.815,0,11)

"FIA",727.815,0,"RLRO")

"FIA",727.815,0,"VR")
3.0^ECX
"FIA",727.815,727.815)
0
"FIA",727.817)
TREATING SPECIALTY CHANGE EXTRACT
"FIA",727.817,0)
^ECX(727.817,
"FIA",727.817,0,0)
727.817
"FIA",727.817,0,1)
y^y^f^^^^n
"FIA",727.817,0,10)

"FIA",727.817,0,11)

"FIA",727.817,0,"RLRO")

"FIA",727.817,0,"VR")
3.0^ECX
"FIA",727.817,727.817)
0
"FIA",727.819)
IV DETAIL EXTRACT
"FIA",727.819,0)
^ECX(727.819,
"FIA",727.819,0,0)
727.819
"FIA",727.819,0,1)
y^y^f^^^^n
"FIA",727.819,0,10)

"FIA",727.819,0,11)

"FIA",727.819,0,"RLRO")

"FIA",727.819,0,"VR")
3.0^ECX
"FIA",727.819,727.819)
0
"FIA",727.823)
PAI EXTRACT
"FIA",727.823,0)
^ECX(727.823,
"FIA",727.823,0,0)
727.823
"FIA",727.823,0,1)
y^y^f^^^^n
"FIA",727.823,0,10)

"FIA",727.823,0,11)

"FIA",727.823,0,"RLRO")

"FIA",727.823,0,"VR")
3.0^ECX
"FIA",727.823,727.823)
0
"FIA",727.824)
LAB RESULTS EXTRACT
"FIA",727.824,0)
^ECX(727.824,
"FIA",727.824,0,0)
727.824
"FIA",727.824,0,1)
y^y^f^^^^n
"FIA",727.824,0,10)

"FIA",727.824,0,11)

"FIA",727.824,0,"RLRO")

"FIA",727.824,0,"VR")
3.0^ECX
"FIA",727.824,727.824)
0
"FIA",727.825)
QUASAR EXTRACT
"FIA",727.825,0)
^ECX(727.825,
"FIA",727.825,0,0)
727.825
"FIA",727.825,0,1)
y^n^f^^^^n
"FIA",727.825,0,10)

"FIA",727.825,0,11)

"FIA",727.825,0,"RLRO")

"FIA",727.825,0,"VR")
3.0^ECX
"FIA",727.825,727.825)
0
"FIA",727.826)
PROSTHETICS EXTRACT
"FIA",727.826,0)
^ECX(727.826,
"FIA",727.826,0,0)
727.826
"FIA",727.826,0,1)
y^n^f^^^^n
"FIA",727.826,0,10)

"FIA",727.826,0,11)

"FIA",727.826,0,"RLRO")

"FIA",727.826,0,"VR")
3.0^ECX
"FIA",727.826,727.826)
0
"FIA",727.827)
CLINIC EXTRACT
"FIA",727.827,0)
^ECX(727.827,
"FIA",727.827,0,0)
727.827
"FIA",727.827,0,1)
y^y^f^^^^n
"FIA",727.827,0,10)

"FIA",727.827,0,11)

"FIA",727.827,0,"RLRO")

"FIA",727.827,0,"VR")
3.0^ECX
"FIA",727.827,727.827)
0
"FIA",727.831)
DOM PRRTP SAARTP ETC
"FIA",727.831,0)
^ECX(727.831,
"FIA",727.831,0,0)
727.831P
"FIA",727.831,0,1)
y^y^f^^^^n
"FIA",727.831,0,10)

"FIA",727.831,0,11)

"FIA",727.831,0,"RLRO")

"FIA",727.831,0,"VR")
3.0^ECX
"FIA",727.831,727.831)
0
"INIT")
ECX333PT
"KRN",19,10128,-1)
0^2
"KRN",19,10128,0)
ECXSCX^Clinic Visit Extract^^R^^^^^^^^DSS EXTRACTS
"KRN",19,10128,1,0)
^19.06^5^5^3000629^^^^
"KRN",19,10128,1,1,0)
Extract Clinic visit data.
"KRN",19,10128,1,2,0)
This option provides the extract manager the ability to extract the
"KRN",19,10128,1,3,0)
clinic visit data for a selected date range. This data is stored in the
"KRN",19,10128,1,4,0)
CLINIC EXTRACT file (#727.827) 
"KRN",19,10128,1,5,0)
until data is transmitted to the commercial vendor.
"KRN",19,10128,25)
BEG^ECXSCXN
"KRN",19,10128,"U")
CLINIC VISIT EXTRACT
"KRN",19,11861,-1)
1^1
"KRN",19,11861,0)
ECX SET MAX LINES
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",513,-1)
1^1
"PKG",513,0)
DSS EXTRACTS^ECX^Decision Support System. (DSS)
"PKG",513,20,0)
^9.402P^^
"PKG",513,22,0)
^9.49I^1^1
"PKG",513,22,1,0)
3.0^2971222^2980112^11714
"PKG",513,22,1,"PAH",1,0)
33^3001214^100867
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
38
"RTN","ECX333PT")
0^^B8132331
"RTN","ECX333PT",1,0)
ECX333PT ;ALB/JAM - PATCH ECX*3.0*33 Post-Init Rtn ; 06/07/00
"RTN","ECX333PT",2,0)
 ;;3.0;DSS EXTRACTS;**33**;Jun 07, 2000
"RTN","ECX333PT",3,0)
 ;
"RTN","ECX333PT",4,0)
 ;post-init routine to add new entries to file 727.831 and add LAR codes
"RTN","ECX333PT",5,0)
 ;
"RTN","ECX333PT",6,0)
 D DOMADD
"RTN","ECX333PT",7,0)
 D ADD7272
"RTN","ECX333PT",8,0)
 Q
"RTN","ECX333PT",9,0)
DOMADD ;* add entries to file 727.831
"RTN","ECX333PT",10,0)
 ;
"RTN","ECX333PT",11,0)
 ;  ECXX is in format:
"RTN","ECX333PT",12,0)
 ;   TREATING SPECIALTY IEN TO ADD^DSS DOM CODE^IN/OUT CODE
"RTN","ECX333PT",13,0)
 ;
"RTN","ECX333PT",14,0)
 N ECX,ECXX,LOC,CODE,INOUT,X,Y,DIC,DA,DR,DLAYGO,DINUM
"RTN","ECX333PT",15,0)
 D MES^XPDUTL(" ")
"RTN","ECX333PT",16,0)
 D BMES^XPDUTL("Adding entries to DOM PRRTP SAARTP ETC File (#727.831)...")
"RTN","ECX333PT",17,0)
 F ECX=1:1 S ECXX=$P($T(NEW+ECX),";;",2) Q:ECXX="QUIT"  D
"RTN","ECX333PT",18,0)
 .S LOC=$P(ECXX,U),CODE=$P(ECXX,U,2),INOUT=$P(ECXX,U,3)
"RTN","ECX333PT",19,0)
 .I '$D(^ECX(727.831,LOC)) D  Q
"RTN","ECX333PT",20,0)
 ..S X=LOC,DINUM=X,DIC(0)="L",DLAYGO=727.831,DIC="^ECX(727.831,"
"RTN","ECX333PT",21,0)
 ..S DIC("DR")="2////^S X=CODE;3////^S X=INOUT"
"RTN","ECX333PT",22,0)
 ..D FILE^DICN I +Y>0 D  Q
"RTN","ECX333PT",23,0)
 ...D BMES^XPDUTL("  Treating Specialty "_LOC_"  ...successfully added.")
"RTN","ECX333PT",24,0)
 ..D BMES^XPDUTL("ERROR when attempting to add Treating Specialty "_LOC)
"RTN","ECX333PT",25,0)
 .D BMES^XPDUTL("  Treating Specialty "_LOC_" already added.")
"RTN","ECX333PT",26,0)
 Q
"RTN","ECX333PT",27,0)
NEW ;treating speciality ien to add^dss dom code^in/out code
"RTN","ECX333PT",28,0)
 ;;25^P^3
"RTN","ECX333PT",29,0)
 ;;26^T^3
"RTN","ECX333PT",30,0)
 ;;27^S^3
"RTN","ECX333PT",31,0)
 ;;28^H^3
"RTN","ECX333PT",32,0)
 ;;29^A^3
"RTN","ECX333PT",33,0)
 ;;37^D^3
"RTN","ECX333PT",34,0)
 ;;38^B^3
"RTN","ECX333PT",35,0)
 ;;39^C^3
"RTN","ECX333PT",36,0)
 ;;85^D^3
"RTN","ECX333PT",37,0)
 ;;86^D^3
"RTN","ECX333PT",38,0)
 ;;87^D^3
"RTN","ECX333PT",39,0)
 ;;88^D^3
"RTN","ECX333PT",40,0)
 ;;QUIT
"RTN","ECX333PT",41,0)
ADD7272 ;add entries to file #727.2
"RTN","ECX333PT",42,0)
 ;ECXX is in format: ien;test^source
"RTN","ECX333PT",43,0)
 N ECX,ECXX,DA,DIC,DINUM,DIE,DR,X,Y,TEST,SOURCE,CNT
"RTN","ECX333PT",44,0)
 D MES^XPDUTL(" ")
"RTN","ECX333PT",45,0)
 D MES^XPDUTL(" ")
"RTN","ECX333PT",46,0)
 D MES^XPDUTL(" Adding entries to DSS LAB TESTS File (#727.2)...")
"RTN","ECX333PT",47,0)
 D MES^XPDUTL(" ")
"RTN","ECX333PT",48,0)
 S $P(^DD(727.21,.01,0),U,5)="",CNT=0
"RTN","ECX333PT",49,0)
 F ECX=1:1 S ECXX=$P($T(NEW7272+ECX),";;",2) Q:ECXX="QUIT"  D
"RTN","ECX333PT",50,0)
 .S ECXDA=$P(ECXX,";",1),ECXX=$P(ECXX,";",2)
"RTN","ECX333PT",51,0)
 .Q:'$D(^ECX(727.2,1))
"RTN","ECX333PT",52,0)
 .I $D(^ECX(727.2,1,1,0)),'$D(^ECX(727.2,1,1,ECXDA,0)) D
"RTN","ECX333PT",53,0)
 ..S CNT=CNT+1
"RTN","ECX333PT",54,0)
 ..S TEST=$P(ECXX,U,1),SOURCE=$P(ECXX,U,2)
"RTN","ECX333PT",55,0)
 ..S DA(1)=1,DIC("P")=$P(^DD(727.2,1,0),U,2),DINUM=ECXDA
"RTN","ECX333PT",56,0)
 ..S X=TEST,DIC="^ECX(727.2,1,1,",DLAYGO=727.21,DIC(0)="LX",DIC("DR")="2///^S X=SOURCE"
"RTN","ECX333PT",57,0)
 ..K DD,DO D FILE^DICN K DLAYGO
"RTN","ECX333PT",58,0)
 ..D MES^XPDUTL(" ")
"RTN","ECX333PT",59,0)
 ..D MES^XPDUTL("    Adding "_TEST_" as entry #"_ECXDA_"... ok.")
"RTN","ECX333PT",60,0)
 ..D MES^XPDUTL(" ")
"RTN","ECX333PT",61,0)
 I CNT=0 D
"RTN","ECX333PT",62,0)
 .D MES^XPDUTL("    Entries already exist -- nothing added.")
"RTN","ECX333PT",63,0)
 .D MES^XPDUTL(" ")
"RTN","ECX333PT",64,0)
 S $P(^DD(727.21,.01,0),U,5)="K X"
"RTN","ECX333PT",65,0)
 Q
"RTN","ECX333PT",66,0)
 ;
"RTN","ECX333PT",67,0)
NEW7272 ;new records for file #727.2
"RTN","ECX333PT",68,0)
 ;;41;HEPATITIS A AB^B
"RTN","ECX333PT",69,0)
 ;;42;HEPATITIS A IGM AB^B
"RTN","ECX333PT",70,0)
 ;;43;HEPATITIS A, IGG AB^B
"RTN","ECX333PT",71,0)
 ;;44;BILIRUBIN, TOTAL^B
"RTN","ECX333PT",72,0)
 ;;45;ALT (TRANSFERASE ALANINE AMINO)^B
"RTN","ECX333PT",73,0)
 ;;46;HEPATITIS B CORE AB^B
"RTN","ECX333PT",74,0)
 ;;47;HEPATITIS B E AG^B
"RTN","ECX333PT",75,0)
 ;;48;PHOSPHATASE ALKALINE^B
"RTN","ECX333PT",76,0)
 ;;49;ALBUMIN^B
"RTN","ECX333PT",77,0)
 ;;QUIT
"RTN","ECXAADM")
0^26^B45483901
"RTN","ECXAADM",1,0)
ECXAADM ;ALB/JAP - ADM Extract Audit Report ;Oct 08, 1997
"RTN","ECXAADM",2,0)
 ;;3.0;DSS EXTRACTS;**8,33**;Dec 22, 1997
"RTN","ECXAADM",3,0)
EN ;entry point for ADM extract audit report
"RTN","ECXAADM",4,0)
 N %X,%Y,X,Y,DIC,DA,DR,DIQ,DIR,DIRUT,DTOUT,DUOUT
"RTN","ECXAADM",5,0)
 S ECXERR=0
"RTN","ECXAADM",6,0)
 ;ecxaud=0 for 'extract' audit
"RTN","ECXAADM",7,0)
 S ECXHEAD="ADM",ECXAUD=0
"RTN","ECXAADM",8,0)
 W !!,"Setup for ",ECXHEAD," Extract Audit Report --",!!
"RTN","ECXAADM",9,0)
 ;select extract
"RTN","ECXAADM",10,0)
 D AUDIT^ECXUTLA(ECXHEAD,.ECXERR,.ECXARRAY,ECXAUD)
"RTN","ECXAADM",11,0)
 Q:ECXERR
"RTN","ECXAADM",12,0)
 ;determine if facility is multidivisional
"RTN","ECXAADM",13,0)
 S DIC="^DG(43,",DA=1,DR="11;",DIQ="ECX",DIQ(0)="I" D EN^DIQ1
"RTN","ECXAADM",14,0)
 I +ECX(43,1,11,"I")=0 S ECXALL=1
"RTN","ECXAADM",15,0)
 I +ECX(43,1,11,"I")=1 D
"RTN","ECXAADM",16,0)
 .W !!
"RTN","ECXAADM",17,0)
 .S DIR(0)="Y",DIR("A")="Do you want the "_ECXHEAD_" extract audit report for all divisions"
"RTN","ECXAADM",18,0)
 .S DIR("B")="NO" D ^DIR K DIR
"RTN","ECXAADM",19,0)
 .I $G(DIRUT) S ECXERR=1 Q
"RTN","ECXAADM",20,0)
 .;if y=0 i.e., 'no', then ecxall=0 i.e., 'selected'
"RTN","ECXAADM",21,0)
 .S ECXALL=Y
"RTN","ECXAADM",22,0)
 I ECXERR=1 D  Q
"RTN","ECXAADM",23,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAADM",24,0)
 .D AUDIT^ECXKILL
"RTN","ECXAADM",25,0)
 ;select divisions/sites; all divisions if ecxall=1
"RTN","ECXAADM",26,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAADM",27,0)
 W !
"RTN","ECXAADM",28,0)
 D ADM^ECXDVSN(.ECXDIV,ECXALL,ECXSTART,ECXEND,.ECXERR)
"RTN","ECXAADM",29,0)
 I ECXERR=1 D  Q
"RTN","ECXAADM",30,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAADM",31,0)
 .D AUDIT^ECXKILL
"RTN","ECXAADM",32,0)
 ;determine output device and queue if requested
"RTN","ECXAADM",33,0)
 S ECXPGM="PROCESS^ECXAADM",ECXDESC="ADM Extract Audit Report"
"RTN","ECXAADM",34,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXALL")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")=""
"RTN","ECXAADM",35,0)
 W !
"RTN","ECXAADM",36,0)
 D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXAADM",37,0)
 I ECXSAVE("POP")=1 D  Q
"RTN","ECXAADM",38,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAADM",39,0)
 .D AUDIT^ECXKILL
"RTN","ECXAADM",40,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXAADM",41,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXAADM",42,0)
 .D PROCESS^ECXAADM
"RTN","ECXAADM",43,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXAADM",44,0)
 D HOME^%ZIS
"RTN","ECXAADM",45,0)
 D AUDIT^ECXKILL
"RTN","ECXAADM",46,0)
 Q
"RTN","ECXAADM",47,0)
 ;
"RTN","ECXAADM",48,0)
PROCESS ;process data in file #727.802
"RTN","ECXAADM",49,0)
 N X,Y,W,DATE,DIV,IEN,TL,ORDER,SORD,GTOT,STOT,WARD,QQFLG,CNT
"RTN","ECXAADM",50,0)
 K ^TMP($J,"ECXWARD"),^TMP($J,"ECXORDER")
"RTN","ECXAADM",51,0)
 S (CNT,QQFLG)=0
"RTN","ECXAADM",52,0)
 S ECXEXT=ECXARRAY("EXTRACT"),ECXDEF=ECXARRAY("DEF")
"RTN","ECXAADM",53,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAADM",54,0)
 ;get run date in external format
"RTN","ECXAADM",55,0)
 D NOW^%DTC S Y=$E(%,1,12) D DD^%DT S ECXRUN=Y
"RTN","ECXAADM",56,0)
 ;get ward info in ^tmp($j,"ecxward" and ^tmp($j,"ecxorder"
"RTN","ECXAADM",57,0)
 D WARDS^ECXUTLA(ECXALL,.ECXDIV)
"RTN","ECXAADM",58,0)
 S W="" F  S W=$O(^TMP($J,"ECXWARD",W)) Q:W=""  D
"RTN","ECXAADM",59,0)
 .S DIV=$P(^TMP($J,"ECXWARD",W),U,3),GTOT(DIV)=0,TL(W)=0,ORDER="" D
"RTN","ECXAADM",60,0)
 ..F  S ORDER=$O(^TMP($J,"ECXORDER",DIV,ORDER)) Q:ORDER=""  I $D(^(ORDER,1)) S STOT(DIV,ORDER)=0
"RTN","ECXAADM",61,0)
 ;get records in date range and ward set
"RTN","ECXAADM",62,0)
 S IEN="" F  S IEN=$O(^ECX(727.802,"AC",ECXEXT,IEN)) Q:IEN=""  D  Q:QQFLG
"RTN","ECXAADM",63,0)
 .S DATE=$P(^ECX(727.802,IEN,0),U,9),WARD=$P(^(0),U,28)
"RTN","ECXAADM",64,0)
 .;convert free text date to fm internal format date
"RTN","ECXAADM",65,0)
 .S $E(DATE,1,2)=$E(DATE,1,2)-17
"RTN","ECXAADM",66,0)
 .Q:$L(DATE)<7  Q:(DATE<ECXSTART)  Q:(DATE>ECXEND)
"RTN","ECXAADM",67,0)
 .;track missing wards
"RTN","ECXAADM",68,0)
 .I WARD="" D  Q
"RTN","ECXAADM",69,0)
 ..S ^TMP($J,"MISWRD")=$G(^TMP($J,"MISWRD"))+1,^("MISWRD",IEN)=""
"RTN","ECXAADM",70,0)
 .;if ward is among those selected, then tally admission data
"RTN","ECXAADM",71,0)
 .I $D(TL(WARD)) S TL(WARD)=TL(WARD)+1,CNT=CNT+1
"RTN","ECXAADM",72,0)
 .I $D(ZTQUEUED),(CNT>499),'(CNT#500),$$S^%ZTLOAD S QQFLG=1,ZTSTOP=1 K ZTREQ
"RTN","ECXAADM",73,0)
 ;after all the extract records are processed, set totals into ^tmp($j,"ecxorder"
"RTN","ECXAADM",74,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXAADM",75,0)
 S W="" F  S W=$O(TL(W)) Q:W=""  D
"RTN","ECXAADM",76,0)
 .S ORDER=$P(^TMP($J,"ECXWARD",W),U,1),DIV=$P(^(W),U,3)
"RTN","ECXAADM",77,0)
 .S $P(^TMP($J,"ECXORDER",DIV,ORDER),U,3)=TL(W)
"RTN","ECXAADM",78,0)
 ;determine ward group subtotal and division grandtotal
"RTN","ECXAADM",79,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXAADM",80,0)
 S DIV="" F  S DIV=$O(^TMP($J,"ECXORDER",DIV)) Q:DIV=""  S GTOT(DIV)=0 D
"RTN","ECXAADM",81,0)
 .S ORDER="",STOT=0 F  S ORDER=$O(^TMP($J,"ECXORDER",DIV,ORDER)) Q:ORDER=""  D
"RTN","ECXAADM",82,0)
 ..S TOT=$P(^TMP($J,"ECXORDER",DIV,ORDER),U,3),STOT=STOT+TOT,GTOT(DIV)=GTOT(DIV)+TOT
"RTN","ECXAADM",83,0)
 ..I $D(^TMP($J,"ECXORDER",DIV,ORDER,1)) S $P(^(1),U,3)=STOT,STOT=0
"RTN","ECXAADM",84,0)
 D PRINT
"RTN","ECXAADM",85,0)
 D AUDIT^ECXKILL
"RTN","ECXAADM",86,0)
 Q
"RTN","ECXAADM",87,0)
 ;
"RTN","ECXAADM",88,0)
PRINT ;print the admission data by division and ward order
"RTN","ECXAADM",89,0)
 N JJ,SS,LN,PG,QFLG,WRDNM,WRDTOT,GRPNM,GRPTOT,DATA,DATA1,DIC,DA,DR,DIR
"RTN","ECXAADM",90,0)
 N DIRUT,DTOUT,DUOUT,IEN,FAC,ADMDT
"RTN","ECXAADM",91,0)
 U IO
"RTN","ECXAADM",92,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXAADM",93,0)
 S (QFLG,PG)=0,$P(LN,"-",80)="",DIV=""
"RTN","ECXAADM",94,0)
 F  S DIV=$O(GTOT(DIV)) Q:DIV=""  D  Q:QFLG
"RTN","ECXAADM",95,0)
 .D HEADER Q:QFLG
"RTN","ECXAADM",96,0)
 .I GTOT(DIV)=0 D  Q
"RTN","ECXAADM",97,0)
 ..W !!,?5,"No admission data extracted for this medical center division.",!
"RTN","ECXAADM",98,0)
 .S ORDER="" F  S ORDER=$O(^TMP($J,"ECXORDER",DIV,ORDER)) Q:ORDER=""  D  Q:QFLG
"RTN","ECXAADM",99,0)
 ..S DATA=^TMP($J,"ECXORDER",DIV,ORDER) K DATA1 I $D(^(ORDER,1)) S DATA1=^(1)
"RTN","ECXAADM",100,0)
 ..S WRDNM=$P(DATA,U,2),WRDTOT=+$P(DATA,U,3)
"RTN","ECXAADM",101,0)
 ..;don't display inactive wards unless there is admission data
"RTN","ECXAADM",102,0)
 ..;don't attempt to group inactive/unordered wards
"RTN","ECXAADM",103,0)
 ..I ORDER>999990 K DATA1 I WRDTOT=0 Q
"RTN","ECXAADM",104,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAADM",105,0)
 ..W !,?5,WRDNM,?45,$$RJ^XLFSTR(WRDTOT,5," ")
"RTN","ECXAADM",106,0)
 ..;if data1 exists, then this is the end of a ward group so print group total
"RTN","ECXAADM",107,0)
 ..I $G(DATA1) D  Q:QFLG
"RTN","ECXAADM",108,0)
 ...S GRPNM=$P(DATA1,U,2),GRPTOT=$P(DATA1,U,3)
"RTN","ECXAADM",109,0)
 ...D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAADM",110,0)
 ...W !,?40,"----------"
"RTN","ECXAADM",111,0)
 ...W !,"Ward group "_GRPNM_" subtotal:",?45,$$RJ^XLFSTR(GRPTOT,5," ")
"RTN","ECXAADM",112,0)
 ...D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAADM",113,0)
 ...W !!
"RTN","ECXAADM",114,0)
 .D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAADM",115,0)
 .W !!,"Division "_$P(ECXDIV(DIV),U,2)_" Grand Total:",?45,$$RJ^XLFSTR(GTOT(DIV),5," ")
"RTN","ECXAADM",116,0)
 ;print patients with missing wards
"RTN","ECXAADM",117,0)
 I $D(^TMP($J,"MISWRD")) D
"RTN","ECXAADM",118,0)
 .S DIV="MISWRD",ECXDIV(DIV)="^^^^^*** MISSING WARDS ***^" D HEADER
"RTN","ECXAADM",119,0)
 .S WRDTOT=$G(^TMP($J,"MISWRD"))
"RTN","ECXAADM",120,0)
 .W !,?5,"MISSING WARD",?45,$$RJ^XLFSTR(WRDTOT,5," "),!!
"RTN","ECXAADM",121,0)
 .D HEAD
"RTN","ECXAADM",122,0)
 .S IEN="" F  S IEN=$O(^TMP($J,"MISWRD",IEN)) Q:'IEN  D  I QFLG Q
"RTN","ECXAADM",123,0)
 ..S DATA=$G(^ECX(727.802,IEN,0)),ADMDT=$P(DATA,U,9) Q:DATA=""
"RTN","ECXAADM",124,0)
 ..S FAC=$P(DATA,U,4) S:FAC'="" FAC=$$GET1^DIQ(40.8,FAC,.01,"E")
"RTN","ECXAADM",125,0)
 ..W !?2,$P(DATA,U,7),?8,$P(DATA,U,5),?25,$E(FAC,1,14),?45
"RTN","ECXAADM",126,0)
 ..W $E(ADMDT,5,6)_"/"_$E(ADMDT,7,8)_"/"_$E(ADMDT,1,4)," "
"RTN","ECXAADM",127,0)
 ..W $E($P(DATA,U,34),1,2)_":"_$E($P(DATA,U,34),3,4)
"RTN","ECXAADM",128,0)
 ..D:($Y+3>IOSL) HEADER,HEAD Q:QFLG
"RTN","ECXAADM",129,0)
 I $E(IOST)'="C" D
"RTN","ECXAADM",130,0)
 .W @IOF S PG=PG+1
"RTN","ECXAADM",131,0)
 .W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAADM",132,0)
 .W !,"DSS Extract Log #:       "_ECXEXT
"RTN","ECXAADM",133,0)
 .W !,"Date Range of Audit:     "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAADM",134,0)
 .W !,"Report Run Date/Time:    "_ECXRUN,?68,"Page: ",PG
"RTN","ECXAADM",135,0)
 .W !!,LN,!!
"RTN","ECXAADM",136,0)
 .S DIC="^ECX(727.1,",DA=ECXARRAY("DEF"),DR="1" D EN^DIQ
"RTN","ECXAADM",137,0)
 .W @IOF
"RTN","ECXAADM",138,0)
 I $E(IOST)="C",'QFLG D
"RTN","ECXAADM",139,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAADM",140,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXAADM",141,0)
 Q
"RTN","ECXAADM",142,0)
 ;
"RTN","ECXAADM",143,0)
HEAD ;header for missing wards
"RTN","ECXAADM",144,0)
 W !,?2,"NAME",?8,"PATIENT DFN",?25,"FACILITY",?45,"ADMISSION DATE"
"RTN","ECXAADM",145,0)
 W !,?2,"====",?8,"===========",?25,"========",?45,"=============="
"RTN","ECXAADM",146,0)
 Q
"RTN","ECXAADM",147,0)
 ;
"RTN","ECXAADM",148,0)
HEADER ;header and page control
"RTN","ECXAADM",149,0)
 N JJ,SS,DIR,DIRUT,DTOUT,DUOUT,DSSID
"RTN","ECXAADM",150,0)
 I $E(IOST)="C" D
"RTN","ECXAADM",151,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAADM",152,0)
 .I PG>0 S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXAADM",153,0)
 Q:QFLG
"RTN","ECXAADM",154,0)
 S DSSID=$P(ECXDIV(DIV),U,6)
"RTN","ECXAADM",155,0)
 W:$Y!($E(IOST)="C") @IOF S PG=PG+1
"RTN","ECXAADM",156,0)
 W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAADM",157,0)
 W !,"DSS Extract Log #:       "_ECXEXT
"RTN","ECXAADM",158,0)
 W !,"Date Range of Audit:     "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAADM",159,0)
 W !,"Report Run Date/Time:    "_ECXRUN
"RTN","ECXAADM",160,0)
 I DSSID="" W !,"Medical Center Division: "_$P(ECXDIV(DIV),U,2)_" ("_$P(ECXDIV(DIV),U,3)_")",?68,"Page: "_PG
"RTN","ECXAADM",161,0)
 I DSSID]"" W !,"Medical Center Division: "_$P(ECXDIV(DIV),U,2)_" ("_$P(ECXDIV(DIV),U,3)_")"_" <"_DSSID_">",?68,"Page: "_PG
"RTN","ECXAADM",162,0)
 W !!,?5,"Ward <DSS Dept.>",?40,"# of Admissions"
"RTN","ECXAADM",163,0)
 W !,LN,!
"RTN","ECXAADM",164,0)
 Q
"RTN","ECXADM")
0^4^B19698530
"RTN","ECXADM",1,0)
ECXADM ;ALB/JAP,BIR/DMA,CML,PTD-Admissions Extract ; [ 11/25/96  11:21 AM ]
"RTN","ECXADM",2,0)
 ;;3.0;DSS EXTRACTS;**1,4,11,8,13,24,33**;Dec 22, 1997
"RTN","ECXADM",3,0)
BEG ;entry point from option
"RTN","ECXADM",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXADM",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXADM",6,0)
 Q
"RTN","ECXADM",7,0)
 ;
"RTN","ECXADM",8,0)
START ; start package specific extract
"RTN","ECXADM",9,0)
 S QFLG=0
"RTN","ECXADM",10,0)
 S ECED=ECED+.3,ECD=ECSD1
"RTN","ECXADM",11,0)
 F  S ECD=$O(^DGPM("ATT1",ECD)),ECDA=0 Q:('ECD)!(ECD>ECED)  D
"RTN","ECXADM",12,0)
 .F  S ECDA=$O(^DGPM("ATT1",ECD,ECDA)) Q:ECDA=""  D
"RTN","ECXADM",13,0)
 ..I $D(^DGPM(ECDA,0)) D
"RTN","ECXADM",14,0)
 ...S EC=^DGPM(ECDA,0),ECXDFN=$P(EC,U,3) D GET
"RTN","ECXADM",15,0)
 Q
"RTN","ECXADM",16,0)
 ;
"RTN","ECXADM",17,0)
GET ;gather extract data
"RTN","ECXADM",18,0)
 N ADM,W,X
"RTN","ECXADM",19,0)
 ;patient demographics
"RTN","ECXADM",20,0)
 S ECXERR=0 D PAT(ECXDFN,ECD,.ECXERR)
"RTN","ECXADM",21,0)
 Q:ECXERR
"RTN","ECXADM",22,0)
 I $$ENROLLM^ECXUTL2(ECXDFN)
"RTN","ECXADM",23,0)
 S ECXFAC=$P($G(^DIC(42,+$P(EC,U,6),0)),U,11)
"RTN","ECXADM",24,0)
 ;admission data
"RTN","ECXADM",25,0)
 S ELGA=$P($G(^DIC(8,+$P(EC,U,20),0)),U,9)
"RTN","ECXADM",26,0)
 I ELGA S ELGA=$$ELIG^ECXUTL3(ELGA,ECXSVC)
"RTN","ECXADM",27,0)
 S (ECDRG,ECDIA)="",ECPTF=+$P(EC,U,16) I ECPTF,$D(^DGPT(ECPTF,"M")) D PTF
"RTN","ECXADM",28,0)
 ;use movement record date & time
"RTN","ECXADM",29,0)
 S ADM=$$INP^ECXUTL2(ECXDFN,ECD)
"RTN","ECXADM",30,0)
 S ECXA=$P(ADM,U),ECXMN=$P(ADM,U,2),ECXSPC=$P(ADM,U,3)
"RTN","ECXADM",31,0)
 S ECXDATE=$P(ADM,U,4)
"RTN","ECXADM",32,0)
 ;if movement# doesn't match cross-ref ien, then quit
"RTN","ECXADM",33,0)
 Q:ECXMN'=ECDA
"RTN","ECXADM",34,0)
 S ECTM=$$ECXTIME^ECXUTL(ECXDATE)
"RTN","ECXADM",35,0)
 S ECXDATE=$$ECXDATE^ECXUTL(ECXDATE,ECXYM)
"RTN","ECXADM",36,0)
 S W=$P(ADM,U,9)
"RTN","ECXADM",37,0)
 S ECXWRD=$P(W,";",1),ECXFAC=$P(W,";",2),ECXDSSD=$P(W,";",3)
"RTN","ECXADM",38,0)
 S ECXPRV=$P(ADM,U,7),ECXPRNPI="",ECXATT=$P(ADM,U,8),ECXATNPI=""
"RTN","ECXADM",39,0)
 S ECXDOM=$P(ADM,U,10)
"RTN","ECXADM",40,0)
 ;file data
"RTN","ECXADM",41,0)
 D FILE
"RTN","ECXADM",42,0)
 Q
"RTN","ECXADM",43,0)
 ;
"RTN","ECXADM",44,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;get patient demographic data
"RTN","ECXADM",45,0)
 N OK,X
"RTN","ECXADM",46,0)
 K ECXPAT
"RTN","ECXADM",47,0)
 S ECXDATE=$P(ECXDATE,".")
"RTN","ECXADM",48,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,ECXDATE,"1;2;3;4;5",.ECXPAT)
"RTN","ECXADM",49,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXADM",50,0)
 S ECXSSN=ECXPAT("SSN")
"RTN","ECXADM",51,0)
 S ECXPNM=ECXPAT("NAME")
"RTN","ECXADM",52,0)
 S ECXMPI=ECXPAT("MPI")
"RTN","ECXADM",53,0)
 S ECXSEX=ECXPAT("SEX")
"RTN","ECXADM",54,0)
 S ECXDOB=ECXPAT("DOB")
"RTN","ECXADM",55,0)
 S ECXELIG=ECXPAT("ELIG")
"RTN","ECXADM",56,0)
 S ECXVET=ECXPAT("VET")
"RTN","ECXADM",57,0)
 S ECXVNS=ECXPAT("VIETNAM")
"RTN","ECXADM",58,0)
 S ECXPOS=ECXPAT("POS")
"RTN","ECXADM",59,0)
 S ECXMNS=ECXPAT("MEANS")
"RTN","ECXADM",60,0)
 S ECXRACE=ECXPAT("RACE")
"RTN","ECXADM",61,0)
 S ECXRELG=ECXPAT("RELIGION")
"RTN","ECXADM",62,0)
 S ECXEMP=ECXPAT("EMPLOY")
"RTN","ECXADM",63,0)
 S ECXMAR=ECXPAT("MARITAL")
"RTN","ECXADM",64,0)
 S ECXPST=ECXPAT("POW STAT")
"RTN","ECXADM",65,0)
 S ECXRST=ECXPAT("IR STAT")
"RTN","ECXADM",66,0)
 S ECXAST=ECXPAT("AO STAT")
"RTN","ECXADM",67,0)
 S ECXMST=ECXPAT("MST STAT")
"RTN","ECXADM",68,0)
 S ECXSTATE=ECXPAT("STATE")
"RTN","ECXADM",69,0)
 S ECXCNTY=ECXPAT("COUNTY")
"RTN","ECXADM",70,0)
 S ECXZIP=ECXPAT("ZIP")
"RTN","ECXADM",71,0)
 S ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXADM",72,0)
 S ECXSVC=ECXPAT("SC%")
"RTN","ECXADM",73,0)
 S ECXPHI=ECXPAT("PHI")
"RTN","ECXADM",74,0)
 S ECXHI=+$$INSURED^IBCNS1(ECXDFN,ECXDATE)
"RTN","ECXADM",75,0)
 ;get primary care data
"RTN","ECXADM",76,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXADM",77,0)
 S ECPTTM=$P(X,U),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXADM",78,0)
 S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXADM",79,0)
 ;get sharing agreement data
"RTN","ECXADM",80,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXADM",81,0)
 D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXADM",82,0)
 Q
"RTN","ECXADM",83,0)
 ;
"RTN","ECXADM",84,0)
PTF ; get admitting DRG and diagnosis from PTF
"RTN","ECXADM",85,0)
 ;use number for DRG and .01 for diagnosis
"RTN","ECXADM",86,0)
 N EC,EC1
"RTN","ECXADM",87,0)
 S EC=1 I $D(^DGPT(ECPTF,"M",2,0)) S EC=2
"RTN","ECXADM",88,0)
 S EC1=+$P(^DGPT(ECPTF,"M",EC,0),U,5)
"RTN","ECXADM",89,0)
 S ECDRG=$P($G(^DGPT(ECPTF,"M",EC,"P")),U)
"RTN","ECXADM",90,0)
 S ECDIA=$P($G(^ICD9(EC1,0)),U)
"RTN","ECXADM",91,0)
 Q
"RTN","ECXADM",92,0)
 ;
"RTN","ECXADM",93,0)
FILE ;file the extract record
"RTN","ECXADM",94,0)
 ;node0
"RTN","ECXADM",95,0)
 ;facility^dfn^ssn^name^in/out^day^primary care team^sex^dob^
"RTN","ECXADM",96,0)
 ;religion^employment status^health ins^state^county^zip^
"RTN","ECXADM",97,0)
 ;eligibility^vet^vietnam^agent orange^radiation^pow^
"RTN","ECXADM",98,0)
 ;period of service^means test^marital status^
"RTN","ECXADM",99,0)
 ;ward^treating specialty^attending physician^mov #^DRG^diagnosis^
"RTN","ECXADM",100,0)
 ;time^primary care provider^race^primary ward provider
"RTN","ECXADM",101,0)
 ;node1
"RTN","ECXADM",102,0)
 ;mpi^dss dept^attending npi^pc provider npi^ward provider npi^
"RTN","ECXADM",103,0)
 ;admission elig^mst status^^sharing payor^
"RTN","ECXADM",104,0)
 ;sharing insurance^enrollment location^
"RTN","ECXADM",105,0)
 ;pc prov person class^assoc pc provider^assoc pc prov person class^
"RTN","ECXADM",106,0)
 ;assoc pc prov npi
"RTN","ECXADM",107,0)
 N DA,DIK
"RTN","ECXADM",108,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXADM",109,0)
 S ECODE=EC7_U_EC23_U_ECXFAC_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_3_U_ECXDATE_U
"RTN","ECXADM",110,0)
 S ECODE=ECODE_ECPTTM_U_ECXSEX_U_ECXDOB_U_ECXRELG_U
"RTN","ECXADM",111,0)
 S ECODE=ECODE_ECXEMP_U_ECXHI_U_ECXSTATE_U_ECXCNTY_U_ECXZIP_U
"RTN","ECXADM",112,0)
 S ECODE=ECODE_ECXELIG_U_ECXVET_U_ECXVNS_U_ECXAST_U_ECXRST_U_ECXPST_U
"RTN","ECXADM",113,0)
 S ECODE=ECODE_ECXPOS_U_ECXMNS_U_ECXMAR_U
"RTN","ECXADM",114,0)
 S ECODE=ECODE_ECXWRD_U_ECXSPC_U_ECXATT_U_ECDA_U_ECDRG_U_ECDIA_U
"RTN","ECXADM",115,0)
 S ECODE=ECODE_ECTM_U_ECPTPR_U_ECXRACE_U_ECXPRV_U
"RTN","ECXADM",116,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXATNPI_U_ECPTNPI_U_ECXPRNPI_U_ELGA_U
"RTN","ECXADM",117,0)
 S ECODE1=ECODE1_ECXMST_U_U_ECXPAYOR_U_ECXSAI_U_ECXENRL_U_ECCLAS_U
"RTN","ECXADM",118,0)
 S ECODE1=ECODE1_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXDOM_U_ECXCAT_U
"RTN","ECXADM",119,0)
 S ECODE1=ECODE1_ECXSTAT_U_ECXPRIOR_U_ECXPHI_U_$G(ECXEOP)
"RTN","ECXADM",120,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXADM",121,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXADM",122,0)
 Q
"RTN","ECXADM",123,0)
 ;
"RTN","ECXADM",124,0)
SETUP ;Set required input for ECXTRAC.
"RTN","ECXADM",125,0)
 S ECHEAD="ADM"
"RTN","ECXADM",126,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXADM",127,0)
 Q
"RTN","ECXADM",128,0)
 ;
"RTN","ECXADM",129,0)
LOCAL ; to extract nightly for local use not to be transmitted to TSI
"RTN","ECXADM",130,0)
 ; should be queued with a 1D frequency
"RTN","ECXADM",131,0)
 D SETUP,^ECXTLOCL,^ECXKILL Q
"RTN","ECXADM",132,0)
 ;
"RTN","ECXADM",133,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXADM",134,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXADM",135,0)
 ;
"RTN","ECXAECQ")
0^37^B27391507
"RTN","ECXAECQ",1,0)
ECXAECQ ;ALB/JAP - ECQ Extract Audit Report ;Oct 16, 1997
"RTN","ECXAECQ",2,0)
 ;;3.0;DSS EXTRACTS;**8,33**;Dec 22, 1997
"RTN","ECXAECQ",3,0)
 ;
"RTN","ECXAECQ",4,0)
EN ;entry point for ECQ extract audit report
"RTN","ECXAECQ",5,0)
 N %X,%Y,X,Y,DIC,DA,DR,DIQ,DIR
"RTN","ECXAECQ",6,0)
 S ECXERR=0
"RTN","ECXAECQ",7,0)
 ;ecxaud=0 for 'extract' audit
"RTN","ECXAECQ",8,0)
 S ECXHEAD="ECQ",ECXAUD=0
"RTN","ECXAECQ",9,0)
 W !!,"Setup for ",ECXHEAD," Extract Audit Report --",!!
"RTN","ECXAECQ",10,0)
 ;select extract
"RTN","ECXAECQ",11,0)
 D AUDIT^ECXUTLA(ECXHEAD,.ECXERR,.ECXARRAY,ECXAUD)
"RTN","ECXAECQ",12,0)
 Q:ECXERR
"RTN","ECXAECQ",13,0)
 ;currently, quasar does not accommodate multi-divisional sites
"RTN","ECXAECQ",14,0)
 S ECXALL=1
"RTN","ECXAECQ",15,0)
 D ECQ^ECXDVSN1(.ECXDIV,ECXALL,.ECXERR)
"RTN","ECXAECQ",16,0)
 I ECXERR=1 D  Q
"RTN","ECXAECQ",17,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAECQ",18,0)
 .D AUDIT^ECXKILL
"RTN","ECXAECQ",19,0)
 ;determine output device and queue if requested
"RTN","ECXAECQ",20,0)
 W !
"RTN","ECXAECQ",21,0)
 S ECXPGM="PROCESS^ECXAECQ",ECXDESC="ECQ Extract Audit Report"
"RTN","ECXAECQ",22,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXALL")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")=""
"RTN","ECXAECQ",23,0)
 W !
"RTN","ECXAECQ",24,0)
 D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXAECQ",25,0)
 I ECXSAVE("POP")=1 D  Q
"RTN","ECXAECQ",26,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAECQ",27,0)
 .D AUDIT^ECXKILL
"RTN","ECXAECQ",28,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXAECQ",29,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXAECQ",30,0)
 .D PROCESS^ECXAECQ
"RTN","ECXAECQ",31,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXAECQ",32,0)
 D HOME^%ZIS
"RTN","ECXAECQ",33,0)
 D AUDIT^ECXKILL
"RTN","ECXAECQ",34,0)
 Q
"RTN","ECXAECQ",35,0)
 ;
"RTN","ECXAECQ",36,0)
PROCESS ;process data in file #727.825
"RTN","ECXAECQ",37,0)
 N X,Y,W,DATA,DATE,DIV,DIVACK,IEN,LOC,UNIT,UNITN,VOL,PROC,PROCN,QQFLG,CNT
"RTN","ECXAECQ",38,0)
 K ^TMP($J,"ECXAUD"),^TMP($J,"ECXPROC")
"RTN","ECXAECQ",39,0)
 S (CNT,QQFLG)=0
"RTN","ECXAECQ",40,0)
 S ECXEXT=ECXARRAY("EXTRACT"),ECXDEF=ECXARRAY("DEF")
"RTN","ECXAECQ",41,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAECQ",42,0)
 ;get run date in external format
"RTN","ECXAECQ",43,0)
 D NOW^%DTC S Y=$E(%,1,12) D DD^%DT S ECXRUN=Y
"RTN","ECXAECQ",44,0)
 ;get the dss unit links for this division/site
"RTN","ECXAECQ",45,0)
 S DIV=0 F  S DIV=$O(ECXDIV(DIV)) Q:DIV=""  S DIVACK=$P(ECXDIV(DIV),U,1),ECXLINK(DIV)=^ACK(509850.8,DIVACK,"DSS")
"RTN","ECXAECQ",46,0)
 ;get extract records in date range
"RTN","ECXAECQ",47,0)
 S IEN="" F  S IEN=$O(^ECX(727.825,"AC",ECXEXT,IEN)) Q:IEN=""  D  Q:QQFLG
"RTN","ECXAECQ",48,0)
 .S DATA=^ECX(727.825,IEN,0),DATE=$P(DATA,U,9),DIV=$P(DATA,U,4)
"RTN","ECXAECQ",49,0)
 .;convert free text date to fm internal format date
"RTN","ECXAECQ",50,0)
 .S $E(DATE,1,2)=$E(DATE,1,2)-17
"RTN","ECXAECQ",51,0)
 .Q:$L(DATE)<7  Q:(DATE<ECXSTART)  Q:(DATE>ECXEND)
"RTN","ECXAECQ",52,0)
 .;if location is among those selected, then tally event capture data
"RTN","ECXAECQ",53,0)
 .I $D(ECXDIV(DIV)) D  Q:QQFLG
"RTN","ECXAECQ",54,0)
 ..;any quasar site that doesn't have links to dss is identified by "xx"
"RTN","ECXAECQ",55,0)
 ..S UNIT=$P(DATA,U,10) S LOC=$S(UNIT=$P(ECXLINK(DIV),U,1):"A",UNIT=$P(ECXLINK(DIV),U,2):"S",1:"XX")
"RTN","ECXAECQ",56,0)
 ..;any invalid cpt code is identified as "xxxxx"
"RTN","ECXAECQ",57,0)
 ..S PROC=$E($P(DATA,U,29),1,5),VOL=$P(DATA,U,13)
"RTN","ECXAECQ",58,0)
 ..S PROCN=$P($G(^ICPT(+PROC,0)),U,2),PROC="A"_PROC S:VOL="" VOL=1
"RTN","ECXAECQ",59,0)
 ..S:PROCN="" PROCN="Unknown"
"RTN","ECXAECQ",60,0)
 ..I '$D(^TMP($J,"ECXAUD",DIV,LOC,PROC)) S ^TMP($J,"ECXAUD",DIV,LOC,PROC)=0_U_PROCN
"RTN","ECXAECQ",61,0)
 ..S $P(^(PROC),U,1)=$P(^TMP($J,"ECXAUD",DIV,LOC,PROC),U,1)+VOL,CNT=CNT+1
"RTN","ECXAECQ",62,0)
 ..I $D(ZTQUEUED),(CNT>499),'(CNT#500),$$S^%ZTLOAD S QQFLG=1,ZTSTOP=1 K ZTREQ
"RTN","ECXAECQ",63,0)
 ;print the report
"RTN","ECXAECQ",64,0)
 D PRINT
"RTN","ECXAECQ",65,0)
 D AUDIT^ECXKILL
"RTN","ECXAECQ",66,0)
 Q
"RTN","ECXAECQ",67,0)
 ;
"RTN","ECXAECQ",68,0)
PRINT ;print quasar data by site and dss unit order
"RTN","ECXAECQ",69,0)
 N JJ,SS,LN,P,DIV,DIVNM,LOC,UNITN,PG,QFLG,GTOT,STOT,TOT,PROC,PROCN,DIR,DIRUT,DTOUT,DUOUT
"RTN","ECXAECQ",70,0)
 U IO
"RTN","ECXAECQ",71,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXAECQ",72,0)
 S (QFLG,PG)=0,$P(LN,"-",80)="",DIV=""
"RTN","ECXAECQ",73,0)
 F  S DIV=$O(ECXDIV(DIV)) Q:DIV=""  D  Q:QFLG
"RTN","ECXAECQ",74,0)
 .S DIVNM=$P(ECXDIV(DIV),U,2)_" ("_$P(ECXDIV(DIV),U,3)_")" D HEADER
"RTN","ECXAECQ",75,0)
 .S GTOT=0,STOT("A")=0,STOT("S")=0,STOT("XX")=0
"RTN","ECXAECQ",76,0)
 .I '$D(^TMP($J,"ECXAUD",DIV)) D  Q
"RTN","ECXAECQ",77,0)
 ..W !!,?5,"No data available for this QUASAR site.",!!
"RTN","ECXAECQ",78,0)
 .I $D(^TMP($J,"ECXAUD",DIV)) S LOC="" F  S LOC=$O(^TMP($J,"ECXAUD",DIV,LOC)) Q:LOC=""  D  Q:QFLG
"RTN","ECXAECQ",79,0)
 ..;write the unit name
"RTN","ECXAECQ",80,0)
 ..S UNITN=$S(LOC="A":"Audiology",LOC="S":"Speech Pathology",1:"Unknown"),PROC=""
"RTN","ECXAECQ",81,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !,UNITN,!
"RTN","ECXAECQ",82,0)
 ..F  S PROC=$O(^TMP($J,"ECXAUD",DIV,LOC,PROC)) Q:PROC=""  D  Q:QFLG
"RTN","ECXAECQ",83,0)
 ...S TOT=+^TMP($J,"ECXAUD",DIV,LOC,PROC),PROCN=$P(^(PROC),U,2),P=$E(PROC,2,99)
"RTN","ECXAECQ",84,0)
 ...S STOT(LOC)=STOT(LOC)+TOT,GTOT=GTOT+TOT
"RTN","ECXAECQ",85,0)
 ...D:($Y+3>IOSL) HEADER Q:QFLG  W !,?25,P,?35,$E(PROCN,1,30),?68,$$RJ^XLFSTR(TOT,5," ")
"RTN","ECXAECQ",86,0)
 ..;write the unit subtotal
"RTN","ECXAECQ",87,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !,?25,$E(LN,1,54)
"RTN","ECXAECQ",88,0)
 ..W !,"Total Volume for "_UNITN_":",?68,$$RJ^XLFSTR(STOT(LOC),5," "),!
"RTN","ECXAECQ",89,0)
 .;write the division grandtotal
"RTN","ECXAECQ",90,0)
 .D:($Y+3>IOSL) HEADER Q:QFLG  W !!,"Grand Total for Site "_DIVNM_":",?68,$$RJ^XLFSTR(GTOT,5," ")
"RTN","ECXAECQ",91,0)
 ;print the audit descriptive narrative
"RTN","ECXAECQ",92,0)
 I $E(IOST)'="C" D
"RTN","ECXAECQ",93,0)
 .W @IOF S PG=PG+1
"RTN","ECXAECQ",94,0)
 .W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAECQ",95,0)
 .W !,"DSS Extract Log #:       "_ECXEXT
"RTN","ECXAECQ",96,0)
 .W !,"Date Range of Audit:     "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAECQ",97,0)
 .W !,"Report Run Date/Time:    "_ECXRUN,?68,"Page: ",PG
"RTN","ECXAECQ",98,0)
 .W !!,LN,!!
"RTN","ECXAECQ",99,0)
 .S DIC="^ECX(727.1,",DA=ECXARRAY("DEF"),DR="1" D EN^DIQ
"RTN","ECXAECQ",100,0)
 I $E(IOST)="C",'QFLG D
"RTN","ECXAECQ",101,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAECQ",102,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXAECQ",103,0)
 Q
"RTN","ECXAECQ",104,0)
 ;
"RTN","ECXAECQ",105,0)
HEADER ;header and page control
"RTN","ECXAECQ",106,0)
 N JJ,SS
"RTN","ECXAECQ",107,0)
 I $E(IOST)="C" D
"RTN","ECXAECQ",108,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAECQ",109,0)
 .I PG>0 S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXAECQ",110,0)
 Q:QFLG
"RTN","ECXAECQ",111,0)
 W:$Y!($E(IOST)="C") @IOF S PG=PG+1
"RTN","ECXAECQ",112,0)
 W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAECQ",113,0)
 W !,"DSS Extract Log #:    "_ECXARRAY("EXTRACT")
"RTN","ECXAECQ",114,0)
 W !,"Date Range of Audit:  "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAECQ",115,0)
 W !,"Report Run Date/Time: "_ECXRUN
"RTN","ECXAECQ",116,0)
 W !,"QUASAR Site:          "_$P(ECXDIV(DIV),U,2)_" ("_$P(ECXDIV(DIV),U,3)_")",?68,"Page: "_PG
"RTN","ECXAECQ",117,0)
 W !!,"DSS Unit",?25,"Procedure",?68,"Volume"
"RTN","ECXAECQ",118,0)
 W !,LN,!
"RTN","ECXAECQ",119,0)
 Q
"RTN","ECXAECS")
0^36^B40273391
"RTN","ECXAECS",1,0)
ECXAECS ;ALB/JAP - ECS Extract Audit Report ;Oct 15, 1997
"RTN","ECXAECS",2,0)
 ;;3.0;DSS EXTRACTS;**8,33**;Dec 22, 1997
"RTN","ECXAECS",3,0)
 ;
"RTN","ECXAECS",4,0)
EN ;entry point for ECS extract audit report
"RTN","ECXAECS",5,0)
 N %X,%Y,X,Y,DIC,DA,DR,DIQ,DIR,CNT
"RTN","ECXAECS",6,0)
 S ECXERR=0
"RTN","ECXAECS",7,0)
 ;ecxaud=0 for 'extract' audit
"RTN","ECXAECS",8,0)
 S ECXHEAD="ECS",ECXAUD=0
"RTN","ECXAECS",9,0)
 W !!,"Setup for ",ECXHEAD," Extract Audit Report --",!!
"RTN","ECXAECS",10,0)
 ;select extract
"RTN","ECXAECS",11,0)
 D AUDIT^ECXUTLA(ECXHEAD,.ECXERR,.ECXARRAY,ECXAUD)
"RTN","ECXAECS",12,0)
 Q:ECXERR
"RTN","ECXAECS",13,0)
 ;determine if facility is multidivisional for event capture
"RTN","ECXAECS",14,0)
 S CNT=0,ECXD="" F  S ECXD=$O(^DIC(4,"LOC",ECXD)) Q:ECXD=""  S CNT=CNT+1
"RTN","ECXAECS",15,0)
 S ECXALL=1
"RTN","ECXAECS",16,0)
 I CNT>1 D
"RTN","ECXAECS",17,0)
 .W !!
"RTN","ECXAECS",18,0)
 .S DIR(0)="Y",DIR("A")="Do you want the "_ECXHEAD_" extract audit report for all Locations"
"RTN","ECXAECS",19,0)
 .S DIR("B")="NO" D ^DIR K DIR
"RTN","ECXAECS",20,0)
 .I $G(DIRUT) S ECXERR=1 Q
"RTN","ECXAECS",21,0)
 .;if y=0 i.e., 'no', then ecxall=0 i.e., 'selected'
"RTN","ECXAECS",22,0)
 .S ECXALL=Y
"RTN","ECXAECS",23,0)
 I ECXERR=1 D  Q
"RTN","ECXAECS",24,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAECS",25,0)
 .D AUDIT^ECXKILL
"RTN","ECXAECS",26,0)
 ;select divisions/sites; all ec locations if ecxall=1
"RTN","ECXAECS",27,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAECS",28,0)
 D ECS^ECXDVSN(.ECXDIV,ECXALL,.ECXERR)
"RTN","ECXAECS",29,0)
 I ECXERR=1 D  Q
"RTN","ECXAECS",30,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAECS",31,0)
 .D AUDIT^ECXKILL
"RTN","ECXAECS",32,0)
 ;determine output device and queue if requested
"RTN","ECXAECS",33,0)
 W !
"RTN","ECXAECS",34,0)
 S ECXPGM="PROCESS^ECXAECS",ECXDESC="ECS Extract Audit Report"
"RTN","ECXAECS",35,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXALL")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")=""
"RTN","ECXAECS",36,0)
 W !
"RTN","ECXAECS",37,0)
 D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXAECS",38,0)
 I ECXSAVE("POP")=1 D  Q
"RTN","ECXAECS",39,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAECS",40,0)
 .D AUDIT^ECXKILL
"RTN","ECXAECS",41,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXAECS",42,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXAECS",43,0)
 .D PROCESS^ECXAECS
"RTN","ECXAECS",44,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXAECS",45,0)
 D HOME^%ZIS
"RTN","ECXAECS",46,0)
 D AUDIT^ECXKILL
"RTN","ECXAECS",47,0)
 Q
"RTN","ECXAECS",48,0)
 ;
"RTN","ECXAECS",49,0)
PROCESS ;process data in file #727.815
"RTN","ECXAECS",50,0)
 N X,Y,W,DATA,DATE,DIV,IEN,UNIT,UNITN,CAT,CATN,VOL,PROC,PROCN,PIEN,PRI,PRXF,PRSYN,QQFLG,CNT
"RTN","ECXAECS",51,0)
 K ^TMP($J,"ECXAUD")
"RTN","ECXAECS",52,0)
 S (CNT,QQFLG)=0
"RTN","ECXAECS",53,0)
 S ECXEXT=ECXARRAY("EXTRACT"),ECXDEF=ECXARRAY("DEF")
"RTN","ECXAECS",54,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAECS",55,0)
 ;get run date in external format
"RTN","ECXAECS",56,0)
 D NOW^%DTC S Y=$E(%,1,12) D DD^%DT S ECXRUN=Y
"RTN","ECXAECS",57,0)
 ;get records in date range
"RTN","ECXAECS",58,0)
 S IEN="" F  S IEN=$O(^ECX(727.815,"AC",ECXEXT,IEN)) Q:IEN=""  D  Q:QQFLG
"RTN","ECXAECS",59,0)
 .S DATA=^ECX(727.815,IEN,0),DATE=$P(DATA,U,9),DIV=$P(DATA,U,4)
"RTN","ECXAECS",60,0)
 .;convert free text date to fm internal format date
"RTN","ECXAECS",61,0)
 .S $E(DATE,1,2)=$E(DATE,1,2)-17
"RTN","ECXAECS",62,0)
 .Q:$L(DATE)<7  Q:(DATE<ECXSTART)  Q:(DATE>ECXEND)
"RTN","ECXAECS",63,0)
 .;if location is among those selected, then tally event capture data
"RTN","ECXAECS",64,0)
 .I $D(ECXDIV(DIV)) D  Q:QQFLG
"RTN","ECXAECS",65,0)
 ..S UNIT=$P(DATA,U,10),UNITN=$P($G(^ECD(UNIT,0)),U,1),UNIT(UNITN)=UNIT
"RTN","ECXAECS",66,0)
 ..;if no category, then cat=0
"RTN","ECXAECS",67,0)
 ..S CAT=+$P(DATA,U,11),CATN="" S:+CAT CATN=$P($G(^EC(726,CAT,0)),U,1) S:CATN="" CATN="Unknown"
"RTN","ECXAECS",68,0)
 ..S VOL=$P(DATA,U,13) S:VOL="" VOL=1 S PROC=$E($P(DATA,U,12),1,5)
"RTN","ECXAECS",69,0)
 ..I '$D(^TMP($J,"ECXAUD",DIV,UNITN,CATN,PROC)) S ^TMP($J,"ECXAUD",DIV,UNITN,CATN,PROC)=0
"RTN","ECXAECS",70,0)
 ..S ^(PROC)=^TMP($J,"ECXAUD",DIV,UNITN,CATN,PROC)+VOL,CNT=CNT+1
"RTN","ECXAECS",71,0)
 ..I $D(ZTQUEUED),(CNT>499),'(CNT#500),$$S^%ZTLOAD S QQFLG=1,ZTSTOP=1 K ZTREQ Q
"RTN","ECXAECS",72,0)
 ..;get the procedure name and setup in global array
"RTN","ECXAECS",73,0)
 ..S PIEN=0,PROCN="" S:PROC'?5N PIEN=$O(^EC(725,"E",PROC,""))
"RTN","ECXAECS",74,0)
 ..;procedures from file #725
"RTN","ECXAECS",75,0)
 ..I +PIEN>0 D
"RTN","ECXAECS",76,0)
 ...S PROCN=$P($G(^EC(725,PIEN,0)),U,1)
"RTN","ECXAECS",77,0)
 ...S PRXF=PIEN_";EC(725,"
"RTN","ECXAECS",78,0)
 ...S PRI=+$O(^ECJ("AP",DIV,UNIT,CAT,PRXF,0)),PRSYN=$P($G(^ECJ(PRI,"PRO")),U,2)
"RTN","ECXAECS",79,0)
 ...I PRSYN]"" S PROCN=PRSYN
"RTN","ECXAECS",80,0)
 ..;procedures from file #81
"RTN","ECXAECS",81,0)
 ..I PIEN=0,PROCN="" D
"RTN","ECXAECS",82,0)
 ...S PIEN=$O(^ICPT("B",PROC,"")) I +PIEN>0 S PROCN=$P($G(^ICPT(PIEN,0)),U,2)
"RTN","ECXAECS",83,0)
 ...S PRXF=PIEN_";ICPT("
"RTN","ECXAECS",84,0)
 ...S PRI=+$O(^ECJ("AP",DIV,UNIT,CAT,PRXF,0)),PRSYN=$P($G(^ECJ(PRI,"PRO")),U,2)
"RTN","ECXAECS",85,0)
 ...I PRSYN]"" S PROCN=PRSYN
"RTN","ECXAECS",86,0)
 ..S:PROCN="" PROCN="Unknown"
"RTN","ECXAECS",87,0)
 ..S ^TMP($J,"ECXPROC",PROC)=PROCN
"RTN","ECXAECS",88,0)
 ;print the report
"RTN","ECXAECS",89,0)
 D PRINT
"RTN","ECXAECS",90,0)
 D AUDIT^ECXKILL
"RTN","ECXAECS",91,0)
 Q
"RTN","ECXAECS",92,0)
 ;
"RTN","ECXAECS",93,0)
PRINT ;print event capture data by location/division and dss unit order
"RTN","ECXAECS",94,0)
 N JJ,SS,P,PN,LN,NM,DIV,DIVNM,PG,QFLG,GTOT,PROC,STOT,TOT,DIR,DIRUT,DTOUT,DUOUT
"RTN","ECXAECS",95,0)
 U IO
"RTN","ECXAECS",96,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXAECS",97,0)
 S (QFLG,PG)=0,$P(LN,"-",80)="",DIV=""
"RTN","ECXAECS",98,0)
 F  S DIV=$O(ECXDIV(DIV)) Q:DIV=""  D  Q:QFLG
"RTN","ECXAECS",99,0)
 .S DIVNM=$P(ECXDIV(DIV),U,2)_" ("_DIV_")",GTOT=0 D HEADER
"RTN","ECXAECS",100,0)
 .I '$D(^TMP($J,"ECXAUD",DIV)) D  Q
"RTN","ECXAECS",101,0)
 ..W !!,?5,"No data available for this Event Capture Location.",!!
"RTN","ECXAECS",102,0)
 .I $D(^TMP($J,"ECXAUD",DIV)) S UNITN="" F  S UNITN=$O(^TMP($J,"ECXAUD",DIV,UNITN)) Q:UNITN=""  D  Q:QFLG
"RTN","ECXAECS",103,0)
 ..S STOT=0,UNIT=UNIT(UNITN),CATN=""
"RTN","ECXAECS",104,0)
 ..;write the unit name
"RTN","ECXAECS",105,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !,UNITN_" ("_UNIT_")",!
"RTN","ECXAECS",106,0)
 ..;initialize the proc array and set totals in array
"RTN","ECXAECS",107,0)
 ..F  S CATN=$O(^TMP($J,"ECXAUD",DIV,UNITN,CATN)) Q:CATN=""  K PROC S PROC="" D  Q:QFLG
"RTN","ECXAECS",108,0)
 ...;write the category name
"RTN","ECXAECS",109,0)
 ...D:($Y+3>IOSL) HEADER Q:QFLG  W !,?5,$E(CATN,1,25)
"RTN","ECXAECS",110,0)
 ...F  S PROC=$O(^TMP($J,"ECXAUD",DIV,UNITN,CATN,PROC)) Q:PROC=""  S TOT=^(PROC) D
"RTN","ECXAECS",111,0)
 ....S STOT=STOT+TOT,GTOT=GTOT+TOT,PROCN=""
"RTN","ECXAECS",112,0)
 ....I $D(^TMP($J,"ECXPROC",PROC)) S PROCN=^(PROC)
"RTN","ECXAECS",113,0)
 ....S PROC($$LJ^XLFSTR(PROC,6," ")_" "_PROCN)=TOT
"RTN","ECXAECS",114,0)
 ...S PN="" F  S PN=$O(PROC(PN)) Q:PN=""  S TOT=PROC(PN) D  Q:QFLG
"RTN","ECXAECS",115,0)
 ....;write procedure and total
"RTN","ECXAECS",116,0)
 ....W ?35,$E(PN,1,30),?68,$$RJ^XLFSTR(TOT,5," "),!
"RTN","ECXAECS",117,0)
 ..;write the unit subtotal
"RTN","ECXAECS",118,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !,?5,$E(LN,1,74)
"RTN","ECXAECS",119,0)
 ..W !,"Total Volume for Unit "_UNITN_" ("_UNIT_"):",?68,$$RJ^XLFSTR(STOT,5," "),!
"RTN","ECXAECS",120,0)
 .;write the division grandtotal
"RTN","ECXAECS",121,0)
 .D:($Y+3>IOSL) HEADER Q:QFLG  W !!,"Grand Total for Location "_DIVNM_":",?68,$$RJ^XLFSTR(GTOT,5," ")
"RTN","ECXAECS",122,0)
 ;print the audit descriptive narrative
"RTN","ECXAECS",123,0)
 I $E(IOST)'="C" D
"RTN","ECXAECS",124,0)
 .W @IOF S PG=PG+1
"RTN","ECXAECS",125,0)
 .W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAECS",126,0)
 .W !,"DSS Extract Log #:      "_ECXEXT
"RTN","ECXAECS",127,0)
 .W !,"Date Range of Audit:    "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAECS",128,0)
 .W !,"Report Run Date/Time:   "_ECXRUN,?68,"Page: ",PG
"RTN","ECXAECS",129,0)
 .W !!,LN,!!
"RTN","ECXAECS",130,0)
 .S DIC="^ECX(727.1,",DA=ECXARRAY("DEF"),DR="1" D EN^DIQ
"RTN","ECXAECS",131,0)
 I $E(IOST)="C",'QFLG D
"RTN","ECXAECS",132,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAECS",133,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXAECS",134,0)
 Q
"RTN","ECXAECS",135,0)
 ;
"RTN","ECXAECS",136,0)
HEADER ;header and page control
"RTN","ECXAECS",137,0)
 N JJ,SS
"RTN","ECXAECS",138,0)
 I $E(IOST)="C" D
"RTN","ECXAECS",139,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAECS",140,0)
 .I PG>0 S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXAECS",141,0)
 Q:QFLG
"RTN","ECXAECS",142,0)
 W:$Y!($E(IOST)="C") @IOF S PG=PG+1
"RTN","ECXAECS",143,0)
 W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAECS",144,0)
 W !,"DSS Extract Log #:      "_ECXARRAY("EXTRACT")
"RTN","ECXAECS",145,0)
 W !,"Date Range of Audit:    "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAECS",146,0)
 W !,"Report Run Date/Time:   "_ECXRUN
"RTN","ECXAECS",147,0)
 W !,"Event Capture Location: "_$P(ECXDIV(DIV),U,2)_" ("_DIV_")",?68,"Page: "_PG
"RTN","ECXAECS",148,0)
 W !!,"DSS Unit",!,?5,"Category",?35,"Procedure",?68,"Volume"
"RTN","ECXAECS",149,0)
 W !,LN,!
"RTN","ECXAECS",150,0)
 Q
"RTN","ECXAMOV")
0^27^B75964135
"RTN","ECXAMOV",1,0)
ECXAMOV ;ALB/JAP - MOV Extract Audit Report ;Oct 10, 1997
"RTN","ECXAMOV",2,0)
 ;;3.0;DSS EXTRACTS;**8,33**;Dec 22, 1997
"RTN","ECXAMOV",3,0)
 ;
"RTN","ECXAMOV",4,0)
EN ;entry point for MOV extract audit report
"RTN","ECXAMOV",5,0)
 N %X,%Y,X,Y,DIC,DA,DR,DIQ,DIR
"RTN","ECXAMOV",6,0)
 S ECXERR=0
"RTN","ECXAMOV",7,0)
 ;ecxaud=0 for 'extract' audit
"RTN","ECXAMOV",8,0)
 S ECXHEAD="MOV",ECXAUD=0
"RTN","ECXAMOV",9,0)
 W !!,"Setup for ",ECXHEAD," Extract Audit Report --",!!
"RTN","ECXAMOV",10,0)
 ;select extract
"RTN","ECXAMOV",11,0)
 D AUDIT^ECXUTLA(ECXHEAD,.ECXERR,.ECXARRAY,ECXAUD)
"RTN","ECXAMOV",12,0)
 Q:ECXERR
"RTN","ECXAMOV",13,0)
 ;determine if facility is multidivisional
"RTN","ECXAMOV",14,0)
 S DIC="^DG(43,",DA=1,DR="11;",DIQ="ECX",DIQ(0)="I" D EN^DIQ1
"RTN","ECXAMOV",15,0)
 I +ECX(43,1,11,"I")=0 S ECXALL=1
"RTN","ECXAMOV",16,0)
 I +ECX(43,1,11,"I")=1 D
"RTN","ECXAMOV",17,0)
 .W !!
"RTN","ECXAMOV",18,0)
 .S DIR(0)="Y",DIR("A")="Do you want the "_ECXHEAD_" extract audit report for all divisions"
"RTN","ECXAMOV",19,0)
 .S DIR("B")="NO" D ^DIR K DIR
"RTN","ECXAMOV",20,0)
 .I $G(DIRUT) S ECXERR=1 Q
"RTN","ECXAMOV",21,0)
 .;if y=0 i.e., 'no', then ecxall=0 i.e., 'selected'
"RTN","ECXAMOV",22,0)
 .S ECXALL=Y
"RTN","ECXAMOV",23,0)
 I ECXERR=1 D  Q
"RTN","ECXAMOV",24,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAMOV",25,0)
 .D AUDIT^ECXKILL
"RTN","ECXAMOV",26,0)
 ;select divisions/sites; all divisions if ecxall=1
"RTN","ECXAMOV",27,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAMOV",28,0)
 D MOV^ECXDVSN(.ECXDIV,ECXALL,ECXSTART,ECXEND,.ECXERR)
"RTN","ECXAMOV",29,0)
 I ECXERR=1 D  Q
"RTN","ECXAMOV",30,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAMOV",31,0)
 .D AUDIT^ECXKILL
"RTN","ECXAMOV",32,0)
 ;determine output device and queue if requested
"RTN","ECXAMOV",33,0)
 W !
"RTN","ECXAMOV",34,0)
 S ECXPGM="PROCESS^ECXAMOV",ECXDESC="MOV Extract Audit Report"
"RTN","ECXAMOV",35,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXALL")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")=""
"RTN","ECXAMOV",36,0)
 W !!,?5,"The format of this report requires a page or screen",!,?5,"width of 132 characters.",!
"RTN","ECXAMOV",37,0)
 D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXAMOV",38,0)
 I ECXSAVE("POP")=1 D  Q
"RTN","ECXAMOV",39,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAMOV",40,0)
 .D AUDIT^ECXKILL
"RTN","ECXAMOV",41,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXAMOV",42,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXAMOV",43,0)
 .D PROCESS^ECXAMOV
"RTN","ECXAMOV",44,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXAMOV",45,0)
 D HOME^%ZIS
"RTN","ECXAMOV",46,0)
 D AUDIT^ECXKILL
"RTN","ECXAMOV",47,0)
 Q
"RTN","ECXAMOV",48,0)
 ;
"RTN","ECXAMOV",49,0)
PROCESS ;process data in file #727.808
"RTN","ECXAMOV",50,0)
 N X,Y,W,JJ,DATE,DATA,DIV,IEN,MOV,TL,ORDER,SORD,GTOT,STOT,WARD,TMOV,QQFLG,CNT,LINETOT
"RTN","ECXAMOV",51,0)
 K ^TMP($J,"ECXWARD"),^TMP($J,"ECXORDER"),^TMP($J,"MISWRD")
"RTN","ECXAMOV",52,0)
 S (CNT,QQFLG)=0
"RTN","ECXAMOV",53,0)
 S ECXEXT=ECXARRAY("EXTRACT"),ECXDEF=ECXARRAY("DEF")
"RTN","ECXAMOV",54,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAMOV",55,0)
 ;get run date in external format
"RTN","ECXAMOV",56,0)
 D NOW^%DTC S Y=$E(%,1,12) D DD^%DT S ECXRUN=Y
"RTN","ECXAMOV",57,0)
 ;get ward info in ^tmp($j,"ecxward" and ^tmp($j,"ecxorder"
"RTN","ECXAMOV",58,0)
 D WARDS^ECXUTLA(ECXALL,.ECXDIV)
"RTN","ECXAMOV",59,0)
 ;setup up ^tmp($j,"mov", for legend
"RTN","ECXAMOV",60,0)
 S JJ=0 F  S JJ=$O(^DG(405.2,JJ)) Q:+JJ<1  S MOV=JJ D
"RTN","ECXAMOV",61,0)
 .S DATA=^DG(405.2,JJ,0),NM=$P(DATA,U,1),TYPE=$P(DATA,U,2)
"RTN","ECXAMOV",62,0)
 .S ^TMP($J,"MOV",TYPE,JJ)=NM
"RTN","ECXAMOV",63,0)
 F JJ=1:1:MOV S $P(TL,U,JJ)=0
"RTN","ECXAMOV",64,0)
 S W="" F  S W=$O(^TMP($J,"ECXWARD",W)) Q:W=""  D
"RTN","ECXAMOV",65,0)
 .S DIV=$P(^TMP($J,"ECXWARD",W),U,3) I '$D(GTOT(DIV)) F JJ=1:1:MOV S $P(GTOT(DIV),U,JJ)=0
"RTN","ECXAMOV",66,0)
 .S ^TMP($J,"TL",W)=TL
"RTN","ECXAMOV",67,0)
 .S ORDER="" D
"RTN","ECXAMOV",68,0)
 ..F  S ORDER=$O(^TMP($J,"ECXORDER",DIV,ORDER)) Q:ORDER=""  I $D(^(ORDER,1)) D
"RTN","ECXAMOV",69,0)
 ...F JJ=1:1:MOV S $P(STOT(DIV,ORDER),U,JJ)=0
"RTN","ECXAMOV",70,0)
 ;get records in date range and ward set
"RTN","ECXAMOV",71,0)
 S IEN="" F  S IEN=$O(^ECX(727.808,"AC",ECXEXT,IEN)) Q:IEN=""  D  Q:QQFLG
"RTN","ECXAMOV",72,0)
 .S DATA=^ECX(727.808,IEN,0),DATE=$P(DATA,U,9),WARD=$P(DATA,U,15),TMOV=$P(DATA,U,19)
"RTN","ECXAMOV",73,0)
 .;convert free text date to fm internal format date
"RTN","ECXAMOV",74,0)
 .S $E(DATE,1,2)=$E(DATE,1,2)-17
"RTN","ECXAMOV",75,0)
 .Q:$L(DATE)<7  Q:(DATE<ECXSTART)  Q:(DATE>ECXEND)
"RTN","ECXAMOV",76,0)
 .;track missing wards
"RTN","ECXAMOV",77,0)
 .I WARD="" D  Q
"RTN","ECXAMOV",78,0)
 ..S ^TMP($J,"MISWRD")=$G(^TMP($J,"MISWRD"))+1,^("MISWRD",IEN)=""
"RTN","ECXAMOV",79,0)
 .;if ward is among those selected, then tally movement data
"RTN","ECXAMOV",80,0)
 .I $D(^TMP($J,"TL",WARD)) D
"RTN","ECXAMOV",81,0)
 ..S $P(^TMP($J,"TL",WARD),U,TMOV)=$P(^TMP($J,"TL",WARD),U,TMOV)+1
"RTN","ECXAMOV",82,0)
 ..S ORDER=$P(^TMP($J,"ECXWARD",WARD),U,1),DIV=$P(^(WARD),U,3),$P(GTOT(DIV),U,TMOV)=$P(GTOT(DIV),U,TMOV)+1
"RTN","ECXAMOV",83,0)
 ..S SORD=ORDER-.01,SORD=$O(STOT(DIV,SORD)) I +SORD S $P(STOT(DIV,SORD),U,TMOV)=$P(STOT(DIV,SORD),U,TMOV)+1
"RTN","ECXAMOV",84,0)
 ..S CNT=CNT+1 I $D(ZTQUEUED),(CNT>499),'(CNT#500),$$S^%ZTLOAD S QQFLG=1,ZTSTOP=1 K ZTREQ
"RTN","ECXAMOV",85,0)
 ;after all the extract records are processed, set totals into ^tmp($j,"ecxorder"
"RTN","ECXAMOV",86,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXAMOV",87,0)
 S W="" F  S W=$O(^TMP($J,"TL",W)) Q:W=""  S TL(W)=^(W) D
"RTN","ECXAMOV",88,0)
 .S ORDER=$P(^TMP($J,"ECXWARD",W),U,1),DIV=$P(^(W),U,3)
"RTN","ECXAMOV",89,0)
 .S LINETOT=0 F JJ=1:1:MOV S $P(^TMP($J,"ECXORDER",DIV,ORDER),U,JJ+2)=$P(TL(W),U,JJ),LINETOT=LINETOT+$P(TL(W),U,JJ)
"RTN","ECXAMOV",90,0)
 .K TL(W)
"RTN","ECXAMOV",91,0)
 .;don't keep inactive wards unless there is movement data
"RTN","ECXAMOV",92,0)
 .I ORDER>999990,LINETOT=0 K ^TMP($J,"ECXORDER",DIV,ORDER)
"RTN","ECXAMOV",93,0)
 .I $D(^TMP($J,"ECXORDER",DIV,ORDER,1)) D
"RTN","ECXAMOV",94,0)
 ..;don't do group total on inactive/unordered wards
"RTN","ECXAMOV",95,0)
 ..I ORDER>999990 K ^TMP($J,"ECXORDER",DIV,ORDER,1) Q
"RTN","ECXAMOV",96,0)
 ..F JJ=1:1:MOV S $P(^TMP($J,"ECXORDER",DIV,ORDER,1),U,JJ+2)=$P(STOT(DIV,ORDER),U,JJ)
"RTN","ECXAMOV",97,0)
 D PRINT
"RTN","ECXAMOV",98,0)
 D AUDIT^ECXKILL
"RTN","ECXAMOV",99,0)
 Q
"RTN","ECXAMOV",100,0)
 ;
"RTN","ECXAMOV",101,0)
PRINT ;print the movement data by division and ward order
"RTN","ECXAMOV",102,0)
 N JJ,SS,LN,NM,TNM,PG,QFLG,WRDNM,WRDTOT,GRPNM,GRPTOT,DIVTOT,DATA,DATA1
"RTN","ECXAMOV",103,0)
 N TYPE,DIC,DA,DR,DIR,DIRUT,DTOUT,DUOUT,W1,W2,ADMDT,IEN,FAC
"RTN","ECXAMOV",104,0)
 U IO
"RTN","ECXAMOV",105,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXAMOV",106,0)
 S (QFLG,PG)=0,$P(LN,"-",132)="",DIV=""
"RTN","ECXAMOV",107,0)
 F  S DIV=$O(GTOT(DIV)) Q:DIV=""  D  Q:QFLG
"RTN","ECXAMOV",108,0)
 .F TYPE=2,3 S TNM=$S(TYPE=2:"Transfer",TYPE=3:"Discharge",1:"") D HEADER Q:QFLG  S MOV="",DIVTOT=0 D  Q:QFLG
"RTN","ECXAMOV",109,0)
 ..F  S MOV=$O(^TMP($J,"MOV",TYPE,MOV)) Q:MOV=""  S DIVTOT=DIVTOT+$P(GTOT(DIV),U,MOV)
"RTN","ECXAMOV",110,0)
 ..I DIVTOT=0 D  Q
"RTN","ECXAMOV",111,0)
 ...W !!,"No "_TNM_" data extracted for this medical center division.",!
"RTN","ECXAMOV",112,0)
 ..S ORDER="" F  S ORDER=$O(^TMP($J,"ECXORDER",DIV,ORDER)) Q:ORDER=""  D  Q:QFLG
"RTN","ECXAMOV",113,0)
 ...S DATA=^TMP($J,"ECXORDER",DIV,ORDER) K DATA1 I $D(^(ORDER,1)) S DATA1=^(1)
"RTN","ECXAMOV",114,0)
 ...S WRDNM=$P(DATA,U,2)
"RTN","ECXAMOV",115,0)
 ...I TYPE=3 S WRDNM=$P(WRDNM,"<",1),WRDNM=$E(WRDNM,1,14)
"RTN","ECXAMOV",116,0)
 ...I TYPE=2 D
"RTN","ECXAMOV",117,0)
 ....S W1=$P(WRDNM,"<",1),W2=$P(WRDNM,"<",2)
"RTN","ECXAMOV",118,0)
 ....S:W2="" WRDNM=$E(W1,1,14) S:W2]"" WRDNM=$$LJ^XLFSTR($E(W1,1,12),12," ")_" <"_W2
"RTN","ECXAMOV",119,0)
 ...D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAMOV",120,0)
 ...W !,WRDNM S TAB=$S(TYPE=2:20,1:10),LINETOT=0
"RTN","ECXAMOV",121,0)
 ...F  S MOV=$O(^TMP($J,"MOV",TYPE,MOV)) Q:MOV=""  D
"RTN","ECXAMOV",122,0)
 ....S WRDTOT=$P(DATA,U,2+MOV),TAB=TAB+6 W ?TAB,$$RJ^XLFSTR(WRDTOT,5," ") S LINETOT=LINETOT+WRDTOT
"RTN","ECXAMOV",123,0)
 ...S TAB=TAB+8 W ?TAB,$$RJ^XLFSTR(LINETOT,5," ")
"RTN","ECXAMOV",124,0)
 ...;if data1 exists, then this is the end of a ward group so print group totals
"RTN","ECXAMOV",125,0)
 ...I $G(DATA1) D  Q:QFLG
"RTN","ECXAMOV",126,0)
 ....S GRPNM=$P(DATA1,U,2) D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAMOV",127,0)
 ....W !,?18,$E(LN,1,113)
"RTN","ECXAMOV",128,0)
 ....D:($Y+3>IOSL) HEADER Q:QFLG  W !,"Ward group "_GRPNM_" subtotals:",!
"RTN","ECXAMOV",129,0)
 ....D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAMOV",130,0)
 ....S TAB=$S(TYPE=2:20,1:10),LINETOT=0
"RTN","ECXAMOV",131,0)
 ....F  S MOV=$O(^TMP($J,"MOV",TYPE,MOV)) Q:MOV=""  D
"RTN","ECXAMOV",132,0)
 .....S GRPTOT=$P(DATA1,U,2+MOV),TAB=TAB+6 W ?TAB,$$RJ^XLFSTR(GRPTOT,5," ") S LINETOT=LINETOT+GRPTOT
"RTN","ECXAMOV",133,0)
 ....S TAB=TAB+8 W ?TAB,$$RJ^XLFSTR(LINETOT,5," ")
"RTN","ECXAMOV",134,0)
 ....D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAMOV",135,0)
 ....W !!
"RTN","ECXAMOV",136,0)
 ..Q:QFLG
"RTN","ECXAMOV",137,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !!,"Division "_$P(ECXDIV(DIV),U,2)_" Grand Totals:",!
"RTN","ECXAMOV",138,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG
"RTN","ECXAMOV",139,0)
 ..S TAB=$S(TYPE=2:20,1:10),LINETOT=0
"RTN","ECXAMOV",140,0)
 ..F  S MOV=$O(^TMP($J,"MOV",TYPE,MOV)) Q:MOV=""  D
"RTN","ECXAMOV",141,0)
 ...S GTOT=$P(GTOT(DIV),U,MOV),TAB=TAB+6 W ?TAB,$$RJ^XLFSTR(GTOT,5," ") S LINETOT=LINETOT+GTOT
"RTN","ECXAMOV",142,0)
 ..S TAB=TAB+8 W ?TAB,$$RJ^XLFSTR(LINETOT,5," ")
"RTN","ECXAMOV",143,0)
 ..I $E(IOST)'="C" D LEGEND
"RTN","ECXAMOV",144,0)
 ;print patients with missing wards
"RTN","ECXAMOV",145,0)
 I $D(^TMP($J,"MISWRD")) D
"RTN","ECXAMOV",146,0)
 .S DIV="MISWRD",ECXDIV(DIV)="^^^^^*** MISSING WARDS ***^",TYPE=0
"RTN","ECXAMOV",147,0)
 .D HEADER S WRDTOT=$G(^TMP($J,"MISWRD"))
"RTN","ECXAMOV",148,0)
 .W !,?5,"MISSING WARD",?45,$$RJ^XLFSTR(WRDTOT,5," "),!!
"RTN","ECXAMOV",149,0)
 .D HEAD S IEN=""
"RTN","ECXAMOV",150,0)
 .F  S IEN=$O(^TMP($J,"MISWRD",IEN)) Q:'IEN  D  I QFLG Q
"RTN","ECXAMOV",151,0)
 ..S DATA=$G(^ECX(727.808,IEN,0)),ADMDT=$P(DATA,U,11) Q:DATA=""
"RTN","ECXAMOV",152,0)
 ..S FAC=$P(DATA,U,4) S:FAC'="" FAC=$$GET1^DIQ(42,FAC,.01,"E")
"RTN","ECXAMOV",153,0)
 ..W !?2,$P(DATA,U,7),?8,$P(DATA,U,5),?25,$E(FAC,1,14),?45
"RTN","ECXAMOV",154,0)
 ..W $E(ADMDT,5,6)_"/"_$E(ADMDT,7,8)_"/"_$E(ADMDT,1,4)," "
"RTN","ECXAMOV",155,0)
 ..W $E($P(DATA,U,22),1,2)_":"_$E($P(DATA,U,22),3,4)
"RTN","ECXAMOV",156,0)
 ..D:($Y+3>IOSL) HEADER,HEAD Q:QFLG
"RTN","ECXAMOV",157,0)
 I $E(IOST)'="C" D
"RTN","ECXAMOV",158,0)
 .W @IOF S PG=PG+1
"RTN","ECXAMOV",159,0)
 .W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAMOV",160,0)
 .W !,"DSS Extract Log #:       "_ECXEXT
"RTN","ECXAMOV",161,0)
 .W !,"Date Range of Audit:     "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAMOV",162,0)
 .W !,"Report Run Date/Time:    "_ECXRUN,?120,"Page: ",PG
"RTN","ECXAMOV",163,0)
 .W !!,LN,!!
"RTN","ECXAMOV",164,0)
 .S DIC="^ECX(727.1,",DA=ECXARRAY("DEF"),DR="1" D EN^DIQ
"RTN","ECXAMOV",165,0)
 I $E(IOST)="C",'QFLG D
"RTN","ECXAMOV",166,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAMOV",167,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXAMOV",168,0)
 Q
"RTN","ECXAMOV",169,0)
 ;
"RTN","ECXAMOV",170,0)
HEAD ;header for missing wards
"RTN","ECXAMOV",171,0)
 W !,?2,"NAME",?8,"PATIENT DFN",?25,"FACILITY",?45,"ADMISSION DATE"
"RTN","ECXAMOV",172,0)
 W !,?2,"====",?8,"===========",?25,"========",?45,"=============="
"RTN","ECXAMOV",173,0)
 Q
"RTN","ECXAMOV",174,0)
 ;
"RTN","ECXAMOV",175,0)
HEADER ;header and page control
"RTN","ECXAMOV",176,0)
 N JJ,SS,TAB,DSSID
"RTN","ECXAMOV",177,0)
 I $E(IOST)="C" D
"RTN","ECXAMOV",178,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAMOV",179,0)
 .I PG>0 S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXAMOV",180,0)
 Q:QFLG
"RTN","ECXAMOV",181,0)
 S DSSID=$P(ECXDIV(DIV),U,6)
"RTN","ECXAMOV",182,0)
 W:$Y!($E(IOST)="C") @IOF S PG=PG+1
"RTN","ECXAMOV",183,0)
 W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAMOV",184,0)
 W !,"DSS Extract Log #:       "_ECXEXT
"RTN","ECXAMOV",185,0)
 W !,"Date Range of Audit:     "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAMOV",186,0)
 W !,"Report Run Date/Time:    "_ECXRUN
"RTN","ECXAMOV",187,0)
 I DSSID="" W !,"Medical Center Division: "_$P(ECXDIV(DIV),U,2)_" ("_$P(ECXDIV(DIV),U,3)_")",?120,"Page: "_PG
"RTN","ECXAMOV",188,0)
 I DSSID]"" W !,"Medical Center Division: "_$P(ECXDIV(DIV),U,2)_" ("_$P(ECXDIV(DIV),U,3)_")"_" <"_DSSID_">",?120,"Page: "_PG
"RTN","ECXAMOV",189,0)
 S TAB=$S(TYPE=2:28,1:20) W !!
"RTN","ECXAMOV",190,0)
 I TYPE=2 W "Ward <DSS Dept.>",?TAB,"MAS Movement ("_TNM_") Types",!
"RTN","ECXAMOV",191,0)
 I TYPE=3 W "Ward",?TAB,"MAS Movement ("_TNM_") Types",!
"RTN","ECXAMOV",192,0)
 S MOV="",TAB=$S(TYPE=0:40,TYPE=2:20,1:10)
"RTN","ECXAMOV",193,0)
 F  S MOV=$O(^TMP($J,"MOV",TYPE,MOV)) Q:MOV=""  S TAB=TAB+6 W ?TAB,$$RJ^XLFSTR(MOV,5," ")
"RTN","ECXAMOV",194,0)
 S TAB=TAB+8 W ?TAB,$$RJ^XLFSTR("Total",5," ")
"RTN","ECXAMOV",195,0)
 W !,LN,!
"RTN","ECXAMOV",196,0)
 Q
"RTN","ECXAMOV",197,0)
 ;
"RTN","ECXAMOV",198,0)
LEGEND ;print legend for each report type
"RTN","ECXAMOV",199,0)
 N MOV,MOVNM
"RTN","ECXAMOV",200,0)
 D:($Y+10>IOSL) HEADER
"RTN","ECXAMOV",201,0)
 W !!,TNM_" Movements Legend --"
"RTN","ECXAMOV",202,0)
 S MOV="" F  S MOV=$O(^TMP($J,"MOV",TYPE,MOV)) Q:MOV=""  D  Q:MOV=""
"RTN","ECXAMOV",203,0)
 .S MOVNM=^TMP($J,"MOV",TYPE,MOV) W !,MOV,?4,"= ",$E(MOVNM,1,32)
"RTN","ECXAMOV",204,0)
 .S MOV=$O(^TMP($J,"MOV",TYPE,MOV)) Q:MOV=""  S MOVNM=^(MOV) W ?41,MOV,?44,"= ",$E(MOVNM,1,32)
"RTN","ECXAMOV",205,0)
 .S MOV=$O(^TMP($J,"MOV",TYPE,MOV)) Q:MOV=""  S MOVNM=^(MOV) W ?81,MOV,?84,"= ",$E(MOVNM,1,32)
"RTN","ECXAMOV",206,0)
 Q
"RTN","ECXAPRO")
0^38^B43329946
"RTN","ECXAPRO",1,0)
ECXAPRO ;ALB/JAP - PRO Extract Audit Report ; Nov 16, 1998
"RTN","ECXAPRO",2,0)
 ;;3.0;DSS EXTRACTS;**9,21,33**;Dec 22, 1997
"RTN","ECXAPRO",3,0)
 ;
"RTN","ECXAPRO",4,0)
EN ;entry point for PRO extract audit report
"RTN","ECXAPRO",5,0)
 N %X,%Y,DIV,X,Y,DIC,DA,DR,DIQ,DIR,DIRUT,DTOUT,DUOUT
"RTN","ECXAPRO",6,0)
 S ECXERR=0
"RTN","ECXAPRO",7,0)
 ;ecxaud=0 for 'extract' audit
"RTN","ECXAPRO",8,0)
 S ECXHEAD="PRO",ECXAUD=0
"RTN","ECXAPRO",9,0)
 W !!,"Setup for ",ECXHEAD," Extract Audit Report --",!!
"RTN","ECXAPRO",10,0)
 ;determine primary division
"RTN","ECXAPRO",11,0)
 S ECXPRIME=$$PDIV^ECXPUTL
"RTN","ECXAPRO",12,0)
 I ECXPRIME=0 D ^ECXKILL Q
"RTN","ECXAPRO",13,0)
 S DA=ECXPRIME,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99" D EN^DIQ1
"RTN","ECXAPRO",14,0)
 S ECXPRIME=ECXPRIME_U_$G(ECXDIC(4,DA,99,"I"))_U_$G(ECXDIC(4,DA,.01,"I"))
"RTN","ECXAPRO",15,0)
 ;select 1 or more prosthetics divisions for report
"RTN","ECXAPRO",16,0)
 D PRO^ECXDVSN2(DUZ,ECXPRIME,.ECXDIV,.ECXALL,.ECXERR)
"RTN","ECXAPRO",17,0)
 I ECXERR D  Q
"RTN","ECXAPRO",18,0)
 .D ^ECXKILL W !!,?5,"Try again later... exiting.",!
"RTN","ECXAPRO",19,0)
 ;select extract
"RTN","ECXAPRO",20,0)
 D AUDIT^ECXUTLA(ECXHEAD,.ECXERR,.ECXARRAY,ECXAUD)
"RTN","ECXAPRO",21,0)
 I ECXERR=1 D  Q
"RTN","ECXAPRO",22,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAPRO",23,0)
 .D AUDIT^ECXKILL
"RTN","ECXAPRO",24,0)
 ;if user's selected division doesn't match extract's division, then quit
"RTN","ECXAPRO",25,0)
 I +ECXPRIME'=ECXARRAY("DIV") D  Q
"RTN","ECXAPRO",26,0)
 .S DIV=+ECXARRAY("DIV") S:$D(^DIC(4,DIV,0)) DIV=$P(^(0),U,1)
"RTN","ECXAPRO",27,0)
 .W !!,?5,"Your primary division ("_$P(ECXPRIME,U,3)_") does not match the"
"RTN","ECXAPRO",28,0)
 .W !,?5,"division ("_DIV_") associated with Extract #"_ECXARRAY("EXTRACT")_"."
"RTN","ECXAPRO",29,0)
 .W !!,?5,"Try again... exiting.",!
"RTN","ECXAPRO",30,0)
 .I $E(IOST)="C" D
"RTN","ECXAPRO",31,0)
 ..S SS=20-$Y F JJ=1:1:SS W !
"RTN","ECXAPRO",32,0)
 ..S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXAPRO",33,0)
 ..W @IOF
"RTN","ECXAPRO",34,0)
 ;select summary or detail
"RTN","ECXAPRO",35,0)
 K DIR S DIR(0)="S^D:DETAIL;S:SUMMARY",DIR("A")="Type of Report",DIR("B")="SUMMARY"
"RTN","ECXAPRO",36,0)
 D ^DIR K DIR
"RTN","ECXAPRO",37,0)
 I $D(DIRUT)!($D(DTOUT)) D  Q
"RTN","ECXAPRO",38,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXAPRO",39,0)
 .D AUDIT^ECXKILL
"RTN","ECXAPRO",40,0)
 S ECXREPT=Y
"RTN","ECXAPRO",41,0)
 ;continue with detail report
"RTN","ECXAPRO",42,0)
 I ECXREPT="D" D
"RTN","ECXAPRO",43,0)
 .F  D ASK2^ECXAPRO2 Q:$D(DIRUT)!($D(DTOUT))
"RTN","ECXAPRO",44,0)
 ;continue with summary report
"RTN","ECXAPRO",45,0)
 I ECXREPT="S" D
"RTN","ECXAPRO",46,0)
 .S ECXPGM="TASK^ECXAPRO",ECXDESC="PRO Extract Audit Report"
"RTN","ECXAPRO",47,0)
 .S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")="",ECXSAVE("ECXREPT")="",ECXSAVE("ECXPRIME")="",ECXSAVE("ECXALL")=""
"RTN","ECXAPRO",48,0)
 .W !
"RTN","ECXAPRO",49,0)
 .;determine output device and queue if requested
"RTN","ECXAPRO",50,0)
 .D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE) I ECXSAVE("POP")=1 D  Q
"RTN","ECXAPRO",51,0)
 ..W !!,?5,"Try again later... exiting.",!
"RTN","ECXAPRO",52,0)
 ..D AUDIT^ECXKILL
"RTN","ECXAPRO",53,0)
 .I ECXSAVE("ZTSK")=0 D
"RTN","ECXAPRO",54,0)
 ..K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXAPRO",55,0)
 ..D PROCESS,DISP^ECXAPRO1
"RTN","ECXAPRO",56,0)
 ..;allow user to get details
"RTN","ECXAPRO",57,0)
 ..D ASK^ECXAPRO2
"RTN","ECXAPRO",58,0)
 ;clean-up and close
"RTN","ECXAPRO",59,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXAPRO",60,0)
 D HOME^%ZIS
"RTN","ECXAPRO",61,0)
 D AUDIT^ECXKILL
"RTN","ECXAPRO",62,0)
 Q
"RTN","ECXAPRO",63,0)
 ;
"RTN","ECXAPRO",64,0)
TASK ;entry point from taskmanager
"RTN","ECXAPRO",65,0)
 D PROCESS
"RTN","ECXAPRO",66,0)
 I ECXREPT="S" D DISP^ECXAPRO1
"RTN","ECXAPRO",67,0)
 I ECXREPT="D" D DISP^ECXAPRO2
"RTN","ECXAPRO",68,0)
 D AUDIT^ECXKILL
"RTN","ECXAPRO",69,0)
 Q
"RTN","ECXAPRO",70,0)
 ;
"RTN","ECXAPRO",71,0)
PROCESS ;process the data in file #727.826
"RTN","ECXAPRO",72,0)
 N J,CNT,CODE,COST,CPTNM,DATE,DESC,FLG,GN,IEN,KEY,LOC,LABLC,LABMC,NODE,PTNAM,PSASNM,QTY,QFLG,QQFLG,RD,SSN,STN,SRCE,TYPE
"RTN","ECXAPRO",73,0)
 K ^TMP($J)
"RTN","ECXAPRO",74,0)
 S (CNT,QQFLG)=0
"RTN","ECXAPRO",75,0)
 S ECXEXT=ECXARRAY("EXTRACT"),ECXDEF=ECXARRAY("DEF")
"RTN","ECXAPRO",76,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAPRO",77,0)
 D NOW^%DTC S Y=$E(%,1,12) D DD^%DT S ECXRUN=Y
"RTN","ECXAPRO",78,0)
 I ECXALL=0 S J=$O(ECXDIV(99),-1),ECXDIV=ECXDIV(J)
"RTN","ECXAPRO",79,0)
 I ECXALL=1 S ECXDIV=ECXPRIME
"RTN","ECXAPRO",80,0)
 S STN=$P(ECXDIV,U,2)
"RTN","ECXAPRO",81,0)
 ;initialize the prosthetics tmp global for cumulative data
"RTN","ECXAPRO",82,0)
 D CODE^ECXAPRO1
"RTN","ECXAPRO",83,0)
 ;gather extract data and sort by grouper number, calc flag, and nppd code
"RTN","ECXAPRO",84,0)
 S IEN="" F  S IEN=$O(^ECX(727.826,"AC",ECXEXT,IEN)) Q:IEN=""  D  Q:QQFLG
"RTN","ECXAPRO",85,0)
 .S ECXPRO=^ECX(727.826,IEN,0)_U_$P(^ECX(727.826,IEN,1),U,4)
"RTN","ECXAPRO",86,0)
 .S DATE=$P(ECXPRO,U,9)
"RTN","ECXAPRO",87,0)
 .S $E(DATE,1,2)=$E(DATE,1,2)-17
"RTN","ECXAPRO",88,0)
 .Q:$L(DATE)<7  Q:(DATE<ECXSTART)  Q:(DATE>ECXEND)
"RTN","ECXAPRO",89,0)
 .S DATE=$E(DATE,4,5)_"/"_$E(DATE,6,7)
"RTN","ECXAPRO",90,0)
 .S PTNAM=$P(ECXPRO,U,7),SSN=$E($P(ECXPRO,U,6),6,9)
"RTN","ECXAPRO",91,0)
 .S LOC=$P(ECXPRO,U,10),KEY=$P(ECXPRO,U,11),QTY=$P(ECXPRO,U,12)
"RTN","ECXAPRO",92,0)
 .S COST=$P(ECXPRO,U,25),LABLC=$P(ECXPRO,U,26),LABMC=$P(ECXPRO,U,27)
"RTN","ECXAPRO",93,0)
 .S GN=$P(ECXPRO,U,34),GN=$S(GN="":" ",1:GN)
"RTN","ECXAPRO",94,0)
 .;don't double count lab items
"RTN","ECXAPRO",95,0)
 .Q:LOC["LAB"
"RTN","ECXAPRO",96,0)
 .;duplicate the logic in sort^rmprn6 that sets cost=0 if form=4
"RTN","ECXAPRO",97,0)
 .I LOC["ORD" S COST=0
"RTN","ECXAPRO",98,0)
 .S LOC=$S(LOC["ORD":$P(LOC,"ORD",1),1:$P(LOC,"NONL",1))
"RTN","ECXAPRO",99,0)
 .;quit if feeder location isn't for division selected for report
"RTN","ECXAPRO",100,0)
 .I ECXALL=1,LOC'[STN Q
"RTN","ECXAPRO",101,0)
 .I ECXALL=0,LOC'=STN Q
"RTN","ECXAPRO",102,0)
 .S TYPE=$E(KEY,6),SRCE=$E(KEY,7)
"RTN","ECXAPRO",103,0)
 .S CPTNM=$P(ECXPRO,U,15),PSASNM=$P(ECXPRO,U,33)
"RTN","ECXAPRO",104,0)
 .D GETCODE(PSASNM,.NODE)
"RTN","ECXAPRO",105,0)
 .Q:NODE=""
"RTN","ECXAPRO",106,0)
 .S CODE=$S(TYPE="X":$P(NODE,U,3),1:$P(NODE,U,4))
"RTN","ECXAPRO",107,0)
 .S FLG=$P(NODE,U,2),DESC=$P(NODE,U,5)
"RTN","ECXAPRO",108,0)
 .S ^TMP($J,"RMPRGN",STN,GN,FLG,CODE,IEN)=TYPE_U_SRCE_U_QTY_U_COST_U_LABLC_U_LABMC_U_PSASNM_U_DESC_U_PTNAM_U_SSN_U_DATE_U_LOC
"RTN","ECXAPRO",109,0)
 ;accumulate summary & detail data
"RTN","ECXAPRO",110,0)
 S GN=""
"RTN","ECXAPRO",111,0)
 F  S GN=$O(^TMP($J,"RMPRGN",STN,GN)) Q:GN=""  D
"RTN","ECXAPRO",112,0)
 .S FLG=0
"RTN","ECXAPRO",113,0)
 .F  S FLG=$O(^TMP($J,"RMPRGN",STN,GN,FLG)) Q:FLG'>0  D
"RTN","ECXAPRO",114,0)
 ..I FLG=1 D GROUP S FLG=2 Q
"RTN","ECXAPRO",115,0)
 ..S CODE=0
"RTN","ECXAPRO",116,0)
 ..F  S CODE=$O(^TMP($J,"RMPRGN",STN,GN,FLG,CODE)) Q:CODE=""  D
"RTN","ECXAPRO",117,0)
 ...S RD=0
"RTN","ECXAPRO",118,0)
 ...F  S RD=$O(^TMP($J,"RMPRGN",STN,GN,FLG,CODE,RD)) Q:RD'>0  D
"RTN","ECXAPRO",119,0)
 ....S TYPE=$P(^TMP($J,"RMPRGN",STN,GN,FLG,CODE,RD),U,1),SRCE=$P(^(RD),U,2),QTY=$P(^(RD),U,3),COST=$P(^(RD),U,4)
"RTN","ECXAPRO",120,0)
 ....S ^TMP($J,CODE,RD)=^TMP($J,"RMPRGN",STN,GN,FLG,CODE,RD)
"RTN","ECXAPRO",121,0)
 ....I TYPE="X" D REP(CODE)
"RTN","ECXAPRO",122,0)
 ....I TYPE="N" D NEW(CODE)
"RTN","ECXAPRO",123,0)
 Q
"RTN","ECXAPRO",124,0)
 ;
"RTN","ECXAPRO",125,0)
GETCODE(PSAS,NODE) ;find the appropriate nppd code using psas hcpcs
"RTN","ECXAPRO",126,0)
 N DIC,X,Y,DESC,FLG,NU,REP
"RTN","ECXAPRO",127,0)
 S NODE=""
"RTN","ECXAPRO",128,0)
 S DIC="^RMPR(661.1,",DIC(0)="XZ",X=PSAS D ^DIC
"RTN","ECXAPRO",129,0)
 I Y=-1 S NODE=U_"2"_U_"R99 Z"_U_"999 Z"_U_"NO HCPCS" Q
"RTN","ECXAPRO",130,0)
 S DESC=$E($P(Y(0),U,2),1,20)
"RTN","ECXAPRO",131,0)
 S FLG=$P(Y(0),U,8) S:FLG="" FLG=2
"RTN","ECXAPRO",132,0)
 ;make sure each code at least 4 characters; group codes are 3 characters in tmp($j,rmprcode)
"RTN","ECXAPRO",133,0)
 S REP=$P(Y(0),U,6) S:$L(REP)=3 REP=REP_" " S:REP="" REP="R99 X"
"RTN","ECXAPRO",134,0)
 S NU=$P(Y(0),U,7) S:$L(NU)=3 NU=NU_" " S:NU="" NU="999 X"
"RTN","ECXAPRO",135,0)
 S NODE=U_FLG_U_REP_U_NU_U_DESC
"RTN","ECXAPRO",136,0)
 Q
"RTN","ECXAPRO",137,0)
 ;
"RTN","ECXAPRO",138,0)
GROUP ;total grouper to main key
"RTN","ECXAPRO",139,0)
 N BF,BL,BR,BCOST,BTCOST,COST,QTY,TYPE,SRCE
"RTN","ECXAPRO",140,0)
 S BF=0,BTCOST=0
"RTN","ECXAPRO",141,0)
 F  S BF=$O(^TMP($J,"RMPRGN",STN,GN,BF)) Q:BF'>0  D
"RTN","ECXAPRO",142,0)
 .S BL=0
"RTN","ECXAPRO",143,0)
 .F  S BL=$O(^TMP($J,"RMPRGN",STN,GN,BF,BL)) Q:BL=""  D
"RTN","ECXAPRO",144,0)
 ..S BR=0
"RTN","ECXAPRO",145,0)
 ..F  S BR=$O(^TMP($J,"RMPRGN",STN,GN,BF,BL,BR)) Q:BR'>0  D
"RTN","ECXAPRO",146,0)
 ...S BCOST=$P(^TMP($J,"RMPRGN",STN,GN,BF,BL,BR),U,4)
"RTN","ECXAPRO",147,0)
 ...S BTCOST=BTCOST+BCOST
"RTN","ECXAPRO",148,0)
 S BL=$O(^TMP($J,"RMPRGN",STN,GN,1,"")),BR=$O(^TMP($J,"RMPRGN",STN,GN,1,BL,""))
"RTN","ECXAPRO",149,0)
 ;calculate based on primary
"RTN","ECXAPRO",150,0)
 S TYPE=$P(^TMP($J,"RMPRGN",STN,GN,1,BL,BR),U,1),SRCE=$P(^(BR),U,2),QTY=$P(^(BR),U,3)
"RTN","ECXAPRO",151,0)
 S COST=BTCOST
"RTN","ECXAPRO",152,0)
 S ^TMP($J,BL,BR)=^TMP($J,"RMPRGN",STN,GN,1,BL,BR),$P(^TMP($J,BL,BR),U,4)=COST
"RTN","ECXAPRO",153,0)
 I TYPE="X" D REP(BL)
"RTN","ECXAPRO",154,0)
 I TYPE="N" D NEW(BL)
"RTN","ECXAPRO",155,0)
 Q
"RTN","ECXAPRO",156,0)
 ;
"RTN","ECXAPRO",157,0)
REP(C) ;calculate repair cost
"RTN","ECXAPRO",158,0)
 N LINE
"RTN","ECXAPRO",159,0)
 S LINE=C
"RTN","ECXAPRO",160,0)
 I LINE="R90 A" S SRCE="C",QTY=1
"RTN","ECXAPRO",161,0)
 I $G(^TMP($J,"R",STN,LINE))="" S ^TMP($J,"R",STN,LINE)=""
"RTN","ECXAPRO",162,0)
 I SRCE["V" S $P(^TMP($J,"R",STN,LINE),U,1)=$P(^TMP($J,"R",STN,LINE),U,1)+QTY
"RTN","ECXAPRO",163,0)
 I SRCE["C" S $P(^TMP($J,"R",STN,LINE),U,2)=$P(^TMP($J,"R",STN,LINE),U,2)+QTY
"RTN","ECXAPRO",164,0)
 S $P(^TMP($J,"R",STN,LINE),U,3)=$P(^TMP($J,"R",STN,LINE),U,3)+COST
"RTN","ECXAPRO",165,0)
 Q
"RTN","ECXAPRO",166,0)
 ;
"RTN","ECXAPRO",167,0)
NEW(C) ;calculate new costs
"RTN","ECXAPRO",168,0)
 N LINE
"RTN","ECXAPRO",169,0)
 S LINE=C
"RTN","ECXAPRO",170,0)
 I $G(^TMP($J,"N",STN,LINE))="" S ^TMP($J,"N",STN,LINE)=""
"RTN","ECXAPRO",171,0)
 I SRCE["V" S $P(^TMP($J,"N",STN,LINE),U,1)=$P(^TMP($J,"N",STN,LINE),U,1)+QTY
"RTN","ECXAPRO",172,0)
 I SRCE["C" S $P(^TMP($J,"N",STN,LINE),U,2)=$P(^TMP($J,"N",STN,LINE),U,2)+QTY
"RTN","ECXAPRO",173,0)
 S $P(^TMP($J,"N",STN,LINE),U,3)=$P(^TMP($J,"N",STN,LINE),U,3)+COST
"RTN","ECXAPRO",174,0)
 Q
"RTN","ECXARAD")
0^34^B37047484
"RTN","ECXARAD",1,0)
ECXARAD ;ALB/JAP - RAD Extract Audit Report ;Oct 16, 1997
"RTN","ECXARAD",2,0)
 ;;3.0;DSS EXTRACTS;**8,33**;Dec 22, 1997
"RTN","ECXARAD",3,0)
 ;
"RTN","ECXARAD",4,0)
EN ;entry point for RAD extract audit report
"RTN","ECXARAD",5,0)
 ;select extract
"RTN","ECXARAD",6,0)
 N %X,%Y,X,Y,DIC,DA,DR,DIQ,DIR,SITES,ECX
"RTN","ECXARAD",7,0)
 ;ecxaud=0 for 'extract' audit
"RTN","ECXARAD",8,0)
 S ECXERR=0
"RTN","ECXARAD",9,0)
 S ECXHEAD="RAD",ECXAUD=0
"RTN","ECXARAD",10,0)
 W !!,"Setup for ",ECXHEAD," Extract Audit Report --",!!
"RTN","ECXARAD",11,0)
 D AUDIT^ECXUTLA(ECXHEAD,.ECXERR,.ECXARRAY,ECXAUD)
"RTN","ECXARAD",12,0)
 Q:ECXERR
"RTN","ECXARAD",13,0)
 ;determine if facility is multidivisional
"RTN","ECXARAD",14,0)
 K ECX D FILE^DID(79,,"ENTRIES","ECX") S SITES=ECX("ENTRIES") K ECX
"RTN","ECXARAD",15,0)
 I SITES=1 S ECXALL=1
"RTN","ECXARAD",16,0)
 I SITES>1 D
"RTN","ECXARAD",17,0)
 .W !!
"RTN","ECXARAD",18,0)
 .S DIR(0)="Y",DIR("A")="Do you want the "_ECXHEAD_" extract audit report for all divisions"
"RTN","ECXARAD",19,0)
 .S DIR("B")="NO" D ^DIR K DIR
"RTN","ECXARAD",20,0)
 .I $G(DIRUT) S ECXERR=1 Q
"RTN","ECXARAD",21,0)
 .;if y=0 i.e., 'no', then ecxall=0 i.e., 'selected'
"RTN","ECXARAD",22,0)
 .S ECXALL=Y
"RTN","ECXARAD",23,0)
 I ECXERR=1 D  Q
"RTN","ECXARAD",24,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXARAD",25,0)
 .D AUDIT^ECXKILL
"RTN","ECXARAD",26,0)
 ;select divisions/sites; all divisions if ecxall=1
"RTN","ECXARAD",27,0)
 W !
"RTN","ECXARAD",28,0)
 S ECXSTART=ECXARRAY("START"),ECXEND=ECXARRAY("END")
"RTN","ECXARAD",29,0)
 D RAD^ECXDVSN2(.ECXDIV,ECXALL,.ECXERR)
"RTN","ECXARAD",30,0)
 I ECXERR=1 D  Q
"RTN","ECXARAD",31,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXARAD",32,0)
 .D AUDIT^ECXKILL
"RTN","ECXARAD",33,0)
 ;determine output device and queue if requested
"RTN","ECXARAD",34,0)
 S ECXPGM="PROCESS^ECXARAD",ECXDESC="RAD Extract Audit Report"
"RTN","ECXARAD",35,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXALL")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")=""
"RTN","ECXARAD",36,0)
 W !
"RTN","ECXARAD",37,0)
 D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXARAD",38,0)
 I ECXSAVE("POP")=1 D  Q
"RTN","ECXARAD",39,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXARAD",40,0)
 .D AUDIT^ECXKILL
"RTN","ECXARAD",41,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXARAD",42,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXARAD",43,0)
 .D PROCESS^ECXARAD
"RTN","ECXARAD",44,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXARAD",45,0)
 D HOME^%ZIS
"RTN","ECXARAD",46,0)
 D AUDIT^ECXKILL
"RTN","ECXARAD",47,0)
 Q
"RTN","ECXARAD",48,0)
 ;
"RTN","ECXARAD",49,0)
PROCESS ;process data in file #727.814
"RTN","ECXARAD",50,0)
 N X,Y,JJ,DIV,IEN,DATA,DATE,ECX,PAT,TYPE,IMNM,IMAB,PROC,PROCN,CPT,DIC,DIQ,DR,DA,QQFLG,CNT
"RTN","ECXARAD",51,0)
 K ^TMP($J,"ECXAUD")
"RTN","ECXARAD",52,0)
 S (CNT,QQFLG)=0
"RTN","ECXARAD",53,0)
 S ECXEXT=ECXARRAY("EXTRACT"),ECXDEF=ECXARRAY("DEF")
"RTN","ECXARAD",54,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXARAD",55,0)
 ;get run date in external format
"RTN","ECXARAD",56,0)
 D NOW^%DTC S Y=$E(%,1,12) D DD^%DT S ECXRUN=Y
"RTN","ECXARAD",57,0)
 ;setup array of imaging types
"RTN","ECXARAD",58,0)
 S TYPE=0 F  S TYPE=$O(^RA(79.2,TYPE)) Q:+TYPE<1  D
"RTN","ECXARAD",59,0)
 .K ECX S DIC="^RA(79.2,",DR=".01;3",DIQ="ECX",DIQ(0)="I",DA=TYPE D EN^DIQ1
"RTN","ECXARAD",60,0)
 .S TYPE(TYPE)=ECX(79.2,TYPE,.01,"I")_U_ECX(79.2,TYPE,3,"I")
"RTN","ECXARAD",61,0)
 ;get records within date range and radiology site(s)
"RTN","ECXARAD",62,0)
 S IEN="" F  S IEN=$O(^ECX(727.814,"AC",ECXEXT,IEN)) Q:IEN=""  D  Q:QQFLG
"RTN","ECXARAD",63,0)
 .S DATA=^ECX(727.814,IEN,0),DATE=$P(DATA,U,9),DIV=$P(DATA,U,4)
"RTN","ECXARAD",64,0)
 .;convert free text date to fm internal format date
"RTN","ECXARAD",65,0)
 .S $E(DATE,1,2)=$E(DATE,1,2)-17
"RTN","ECXARAD",66,0)
 .Q:$L(DATE)<7  Q:(DATE<ECXSTART)  Q:(DATE>ECXEND)
"RTN","ECXARAD",67,0)
 .Q:'$D(ECXDIV(DIV))
"RTN","ECXARAD",68,0)
 .S PAT=$P(DATA,U,8),TYPE=$P(DATA,U,21),PROC=$P(DATA,U,11)
"RTN","ECXARAD",69,0)
 .S CPT=$E($P(DATA,U,10),1,5),CPT="A"_$$RJ^XLFSTR(CPT,5,0)
"RTN","ECXARAD",70,0)
 .S IMNM=$P(TYPE(TYPE),U,1),IMAB=$P(TYPE(TYPE),U,2)
"RTN","ECXARAD",71,0)
 .K ECX S DIC="^RAMIS(71,",DR=".01",DIQ="ECX",DIQ(0)="I",DA=+PROC D EN^DIQ1
"RTN","ECXARAD",72,0)
 .S PROCN=$G(ECX(71,+PROC,.01,"I")) I PROCN="" S PROCN="Unknown"
"RTN","ECXARAD",73,0)
 .;tally procedures; 1st piece is outpatient total, 2nd piece is inpatient total
"RTN","ECXARAD",74,0)
 .I '$D(^TMP($J,"ECXAUD",DIV,IMNM,CPT)) S ^TMP($J,"ECXAUD",DIV,IMNM,CPT)=0_U_0_U_PROCN
"RTN","ECXARAD",75,0)
 .I PAT=1 S $P(^(CPT),U,1)=$P(^TMP($J,"ECXAUD",DIV,IMNM,CPT),U,1)+1,CNT=CNT+1
"RTN","ECXARAD",76,0)
 .I PAT=3 S $P(^(CPT),U,2)=$P(^TMP($J,"ECXAUD",DIV,IMNM,CPT),U,2)+1,CNT=CNT+1
"RTN","ECXARAD",77,0)
 .I $D(ZTQUEUED),(CNT>499),'(CNT#500),$$S^%ZTLOAD S QQFLG=1,ZTSTOP=1 K ZTREQ
"RTN","ECXARAD",78,0)
 ;print the report
"RTN","ECXARAD",79,0)
 D PRINT
"RTN","ECXARAD",80,0)
 D AUDIT^ECXKILL
"RTN","ECXARAD",81,0)
 Q
"RTN","ECXARAD",82,0)
 ;
"RTN","ECXARAD",83,0)
PRINT ;print the RAD audit report by radiology site
"RTN","ECXARAD",84,0)
 N LN,P,PG,QFLG,TOT,STOT,GTOT,DIVNM,IMAG,IMTYPE,T,SS,DIC,DIR,DR,DIRUT,DTOUT,DUOUT
"RTN","ECXARAD",85,0)
 U IO
"RTN","ECXARAD",86,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXARAD",87,0)
 S (QFLG,PG)=0,$P(LN,"-",80)="",DIV=""
"RTN","ECXARAD",88,0)
 ;arrange type array by name
"RTN","ECXARAD",89,0)
 S T=0 F  S T=$O(TYPE(T)) Q:T=""  S IMNM=$P(TYPE(T),U,1),IMAG(IMNM)=T
"RTN","ECXARAD",90,0)
 F  S DIV=$O(ECXDIV(DIV)) Q:DIV=""  D  Q:QFLG
"RTN","ECXARAD",91,0)
 .S DIVNM=$P(ECXDIV(DIV),U,2)_" ("_DIV_")",GTOT(1)=0,GTOT(3)=0 D HEADER
"RTN","ECXARAD",92,0)
 .I '$D(^TMP($J,"ECXAUD",DIV)) D  Q
"RTN","ECXARAD",93,0)
 ..W !!,?5,"No data available for this Radiology Division.",!!
"RTN","ECXARAD",94,0)
 .I $D(^TMP($J,"ECXAUD",DIV)) S IMNM="" F  S IMNM=$O(^TMP($J,"ECXAUD",DIV,IMNM)) Q:IMNM=""  D  Q:QFLG
"RTN","ECXARAD",95,0)
 ..S STOT(1)=0,STOT(3)=0,IMTYPE=IMAG(IMNM),CPT=""
"RTN","ECXARAD",96,0)
 ..;write the imaging type name
"RTN","ECXARAD",97,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !,IMNM_" ("_DIV_"-"_IMTYPE_")",!
"RTN","ECXARAD",98,0)
 ..F  S CPT=$O(^TMP($J,"ECXAUD",DIV,IMNM,CPT)) Q:CPT=""  S TOT(1)=$P(^(CPT),U,1),TOT(3)=$P(^(CPT),U,2),PROCN=$P(^(CPT),U,3) D  Q:QFLG
"RTN","ECXARAD",99,0)
 ...S STOT(1)=STOT(1)+TOT(1),STOT(3)=STOT(3)+TOT(3)
"RTN","ECXARAD",100,0)
 ...S GTOT(1)=GTOT(1)+TOT(1),GTOT(3)=GTOT(3)+TOT(3)
"RTN","ECXARAD",101,0)
 ...;write procedure and total
"RTN","ECXARAD",102,0)
 ...D:($Y+3>IOSL) HEADER Q:QFLG  W ?3,$E(CPT,2,6),?14,$E(PROCN,1,38),?60,$$RJ^XLFSTR(TOT(3),5," "),?70,$$RJ^XLFSTR(TOT(1),5," "),!
"RTN","ECXARAD",103,0)
 ..;write the unit subtotal
"RTN","ECXARAD",104,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !,?5,$E(LN,1,74)
"RTN","ECXARAD",105,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !,"Sub-totals for "_IMNM_" ("_DIV_"-"_IMTYPE_"):",?60,$$RJ^XLFSTR(STOT(3),5," "),?70,$$RJ^XLFSTR(STOT(1),5," "),!
"RTN","ECXARAD",106,0)
 .;write the division grandtotal
"RTN","ECXARAD",107,0)
 .D:($Y+3>IOSL) HEADER Q:QFLG  W !!,"Grand Total for Division "_DIVNM_":",?60,$$RJ^XLFSTR(GTOT(3),5," "),?70,$$RJ^XLFSTR(GTOT(1),5," ")
"RTN","ECXARAD",108,0)
 ;print the audit descriptive narrative
"RTN","ECXARAD",109,0)
 I $E(IOST)'="C" D
"RTN","ECXARAD",110,0)
 .W @IOF S PG=PG+1
"RTN","ECXARAD",111,0)
 .W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXARAD",112,0)
 .W !,"DSS Extract Log #:    "_ECXEXT
"RTN","ECXARAD",113,0)
 .W !,"Date Range of Audit:  "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXARAD",114,0)
 .W !,"Report Run Date/Time: "_ECXRUN,?68,"Page: ",PG
"RTN","ECXARAD",115,0)
 .W !!,LN,!!
"RTN","ECXARAD",116,0)
 .S DIC="^ECX(727.1,",DA=ECXARRAY("DEF"),DR="1" D EN^DIQ
"RTN","ECXARAD",117,0)
 I $E(IOST)="C",'QFLG D
"RTN","ECXARAD",118,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXARAD",119,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXARAD",120,0)
 Q
"RTN","ECXARAD",121,0)
 ;
"RTN","ECXARAD",122,0)
HEADER ;header and page control
"RTN","ECXARAD",123,0)
 N JJ,SS
"RTN","ECXARAD",124,0)
 I $E(IOST)="C" D
"RTN","ECXARAD",125,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXARAD",126,0)
 .I PG>0 S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXARAD",127,0)
 Q:QFLG
"RTN","ECXARAD",128,0)
 W:$Y!($E(IOST)="C") @IOF S PG=PG+1
"RTN","ECXARAD",129,0)
 W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXARAD",130,0)
 W !,"DSS Extract Log #:    "_ECXARRAY("EXTRACT")
"RTN","ECXARAD",131,0)
 W !,"Date Range of Audit:  "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXARAD",132,0)
 W !,"Report Run Date/Time: "_ECXRUN
"RTN","ECXARAD",133,0)
 W !,"Radiology Division:   "_$P(ECXDIV(DIV),U,2)_" ("_DIV_")",?60,"Page: "_PG
"RTN","ECXARAD",134,0)
 W !!,"Imaging Type (Feeder Location)",?60,"# of Procedures"
"RTN","ECXARAD",135,0)
 W !,?3,"CPT Code",?14,"Procedure",?60,"Inpt.",?70,"Outpt."
"RTN","ECXARAD",136,0)
 W !,LN,!
"RTN","ECXARAD",137,0)
 Q
"RTN","ECXASUR")
0^35^B34767068
"RTN","ECXASUR",1,0)
ECXASUR ;ALB/JAP - SUR Extract Audit Report ;Oct 22, 1997
"RTN","ECXASUR",2,0)
 ;;3.0;DSS EXTRACTS;**8,33**;Dec 22, 1997
"RTN","ECXASUR",3,0)
 ;
"RTN","ECXASUR",4,0)
EN ;entry point for SUR extract audit report
"RTN","ECXASUR",5,0)
 ;select extract
"RTN","ECXASUR",6,0)
 N %X,%Y,X,Y,DIC,DA,DR,DIQ,DIR,SITES,ECX
"RTN","ECXASUR",7,0)
 ;ecxaud=0 for 'extract' audit
"RTN","ECXASUR",8,0)
 S ECXERR=0
"RTN","ECXASUR",9,0)
 S ECXHEAD="SUR",ECXAUD=0
"RTN","ECXASUR",10,0)
 W !!,"Setup for ",ECXHEAD," Extract Audit Report --",!!
"RTN","ECXASUR",11,0)
 D AUDIT^ECXUTLA(ECXHEAD,.ECXERR,.ECXARRAY,ECXAUD)
"RTN","ECXASUR",12,0)
 Q:ECXERR
"RTN","ECXASUR",13,0)
 ;determine if facility is multidivisional
"RTN","ECXASUR",14,0)
 K ECX D FILE^DID(133,,"ENTRIES","ECX") S SITES=ECX("ENTRIES") K ECX
"RTN","ECXASUR",15,0)
 I SITES=1 S ECXALL=1
"RTN","ECXASUR",16,0)
 I SITES>1 D
"RTN","ECXASUR",17,0)
 .W !!
"RTN","ECXASUR",18,0)
 .S DIR(0)="Y",DIR("A")="Do you want the "_ECXHEAD_" extract audit report for all divisions"
"RTN","ECXASUR",19,0)
 .S DIR("B")="NO" D ^DIR K DIR
"RTN","ECXASUR",20,0)
 .I $G(DIRUT) S ECXERR=1 Q
"RTN","ECXASUR",21,0)
 .;if y=0 i.e., 'no', then ecxall=0 i.e., 'selected'
"RTN","ECXASUR",22,0)
 .S ECXALL=Y
"RTN","ECXASUR",23,0)
 I ECXERR=1 D  Q
"RTN","ECXASUR",24,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXASUR",25,0)
 .D AUDIT^ECXKILL
"RTN","ECXASUR",26,0)
 ;select divisions/sites; all divisions if ecxall=1
"RTN","ECXASUR",27,0)
 W !
"RTN","ECXASUR",28,0)
 S ECXSTART=ECXARRAY("START"),ECXEND=ECXARRAY("END")
"RTN","ECXASUR",29,0)
 D SUR^ECXDVSN2(.ECXDIV,ECXALL,.ECXERR)
"RTN","ECXASUR",30,0)
 I ECXERR=1 D  Q
"RTN","ECXASUR",31,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXASUR",32,0)
 .D AUDIT^ECXKILL
"RTN","ECXASUR",33,0)
 ;determine output device and queue if requested
"RTN","ECXASUR",34,0)
 S ECXPGM="PROCESS^ECXASUR",ECXDESC="SUR Extract Audit Report"
"RTN","ECXASUR",35,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXALL")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")=""
"RTN","ECXASUR",36,0)
 W !
"RTN","ECXASUR",37,0)
 D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXASUR",38,0)
 I ECXSAVE("POP")=1 D  Q
"RTN","ECXASUR",39,0)
 .W !!,?5,"Try again later... exiting.",!
"RTN","ECXASUR",40,0)
 .D AUDIT^ECXKILL
"RTN","ECXASUR",41,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXASUR",42,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXASUR",43,0)
 .D PROCESS^ECXASUR
"RTN","ECXASUR",44,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXASUR",45,0)
 D HOME^%ZIS
"RTN","ECXASUR",46,0)
 D AUDIT^ECXKILL
"RTN","ECXASUR",47,0)
 Q
"RTN","ECXASUR",48,0)
 ;
"RTN","ECXASUR",49,0)
PROCESS ;process data in file #727.811
"RTN","ECXASUR",50,0)
 N X,Y,JJ,DIV,IEN,DATA,DATE,CASE,CASES,OR,LOC,PROC,PROCN,PSI,CPT,DIC,QQFLG,CNT
"RTN","ECXASUR",51,0)
 K ^TMP($J,"ECXAUD"),^TMP($J,"ECXS")
"RTN","ECXASUR",52,0)
 S (CNT,QQFLG)=0
"RTN","ECXASUR",53,0)
 S ECXEXT=ECXARRAY("EXTRACT"),ECXDEF=ECXARRAY("DEF")
"RTN","ECXASUR",54,0)
 S X=ECXARRAY("START") D ^%DT S ECXSTART=Y S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXASUR",55,0)
 ;get run date in external format
"RTN","ECXASUR",56,0)
 D NOW^%DTC S Y=$E(%,1,12) D DD^%DT S ECXRUN=Y
"RTN","ECXASUR",57,0)
 ;get records within date range and surgery site(s)
"RTN","ECXASUR",58,0)
 S IEN="" F  S IEN=$O(^ECX(727.811,"AC",ECXEXT,IEN)) Q:IEN=""  D  Q:QQFLG
"RTN","ECXASUR",59,0)
 .S DATA=^ECX(727.811,IEN,0),DATA1=^(1),DATE=$P(DATA,U,9)
"RTN","ECXASUR",60,0)
 .S DIV=$P(DATA,U,4)
"RTN","ECXASUR",61,0)
 .;convert free text date to fm internal format date
"RTN","ECXASUR",62,0)
 .S $E(DATE,1,2)=$E(DATE,1,2)-17
"RTN","ECXASUR",63,0)
 .Q:$L(DATE)<7  Q:(DATE<ECXSTART)  Q:(DATE>ECXEND)
"RTN","ECXASUR",64,0)
 .Q:'$D(ECXDIV(DIV))
"RTN","ECXASUR",65,0)
 .S CASE=$P(DATA,U,10),OR=$P(DATA,U,12),PSI=$P(DATA,U,17)
"RTN","ECXASUR",66,0)
 .S PROC=$E($P(DATA1,U,11),1,5)
"RTN","ECXASUR",67,0)
 .Q:(PROC="")&(PSI="I")
"RTN","ECXASUR",68,0)
 .S (CPT,PROCN)="" I PROC]"" D
"RTN","ECXASUR",69,0)
 ..;from cpt code get procedure name; variable cpt should be same as variable proc
"RTN","ECXASUR",70,0)
 ..K Y S DIC="^ICPT(",DIC(0)="XZ",X=PROC D ^DIC
"RTN","ECXASUR",71,0)
 ..S CPT=$P($G(Y(0)),U,1),PROCN=$P($G(Y(0)),U,2)
"RTN","ECXASUR",72,0)
 .S:CPT="" CPT="Unknown" S:PROCN="" PROCN="Unknown" S CPT="A"_CPT
"RTN","ECXASUR",73,0)
 .S LOC=$S(OR="":2,1:1)
"RTN","ECXASUR",74,0)
 .;tally procedures by location and division
"RTN","ECXASUR",75,0)
 .I '$D(^TMP($J,"ECXAUD",DIV,LOC,CPT)) S ^TMP($J,"ECXAUD",DIV,LOC,CPT)=0_U_PROCN
"RTN","ECXASUR",76,0)
 .S $P(^(CPT),U,1)=$P(^TMP($J,"ECXAUD",DIV,LOC,CPT),U,1)+1,CNT=CNT+1
"RTN","ECXASUR",77,0)
 .I $D(ZTQUEUED),(CNT>499),'(CNT#500),$$S^%ZTLOAD S QQFLG=1,ZTSTOP=1 K ZTREQ Q
"RTN","ECXASUR",78,0)
 .I '$D(^TMP($J,"ECXS",DIV,LOC,CASE)) S ^TMP($J,"ECXS",DIV,LOC,CASE)=""
"RTN","ECXASUR",79,0)
 ;total cases for each division and location
"RTN","ECXASUR",80,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXASUR",81,0)
 S DIV="" F  S DIV=$O(^TMP($J,"ECXS",DIV)) Q:DIV=""  F LOC=1:1:2 S CASES(DIV,LOC)=0,CASE="" D
"RTN","ECXASUR",82,0)
 .F  S CASE=$O(^TMP($J,"ECXS",DIV,LOC,CASE)) Q:CASE=""  S CASES(DIV,LOC)=CASES(DIV,LOC)+1
"RTN","ECXASUR",83,0)
 K ^TMP($J,"ECXS")
"RTN","ECXASUR",84,0)
 ;print the report
"RTN","ECXASUR",85,0)
 D PRINT
"RTN","ECXASUR",86,0)
 D AUDIT^ECXKILL
"RTN","ECXASUR",87,0)
 Q
"RTN","ECXASUR",88,0)
 ;
"RTN","ECXASUR",89,0)
PRINT ;print the SUR audit report by location and division
"RTN","ECXASUR",90,0)
 N LN,PG,QFLG,TOT,GTOT,DIVNM,CPT,CPTN,PROCN,LOCNM,LOCNMC,SS,DIR,DR,DIRUT,DTOUT,DUOUT
"RTN","ECXASUR",91,0)
 U IO
"RTN","ECXASUR",92,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXASUR",93,0)
 S (QFLG,PG)=0,$P(LN,"-",80)="",DIV=""
"RTN","ECXASUR",94,0)
 F  S DIV=$O(ECXDIV(DIV)) Q:DIV=""  F LOC=1:1:2 D  Q:QFLG
"RTN","ECXASUR",95,0)
 .S DIVNM=$P(ECXDIV(DIV),U,2)_" ("_DIV_")",GTOT(1)=0,GTOT(2)=0
"RTN","ECXASUR",96,0)
 .S LOCNM=$S(LOC=1:"O.R. Surgical Procedures",1:"Non-O.R. Surgical Procedures")
"RTN","ECXASUR",97,0)
 .D HEADER
"RTN","ECXASUR",98,0)
 .I '$D(^TMP($J,"ECXAUD",DIV,LOC)) D
"RTN","ECXASUR",99,0)
 ..W !!,?3,"No data available for "_LOCNM_".",!!
"RTN","ECXASUR",100,0)
 .I $D(^TMP($J,"ECXAUD",DIV,LOC)) S CPT="" F  S CPT=$O(^TMP($J,"ECXAUD",DIV,LOC,CPT)) Q:CPT=""  S TOT(LOC)=$P(^(CPT),U,1),PROCN=$P(^(CPT),U,2),CPTN=$E(CPT,2,99) D  Q:QFLG
"RTN","ECXASUR",101,0)
 ..S GTOT(LOC)=GTOT(LOC)+TOT(LOC)
"RTN","ECXASUR",102,0)
 ..;write procedure and total
"RTN","ECXASUR",103,0)
 ..D:($Y+3>IOSL) HEADER Q:QFLG  W !,?3,CPTN,?14,$E(PROCN,1,40),?63,$$RJ^XLFSTR(TOT(LOC),5," ")
"RTN","ECXASUR",104,0)
 .;write the division totals
"RTN","ECXASUR",105,0)
 .D:($Y+3>IOSL) HEADER Q:QFLG  W !,?3,$E(LN,1,65)
"RTN","ECXASUR",106,0)
 .D:($Y+3>IOSL) HEADER Q:QFLG  W !!,"For Division "_DIVNM_"--"
"RTN","ECXASUR",107,0)
 .D:($Y+3>IOSL) HEADER Q:QFLG  W !,?3,"Total "_LOCNM_":",?63,$$RJ^XLFSTR(GTOT(LOC),5," ")
"RTN","ECXASUR",108,0)
 .S LOCNMC=$P(LOCNM,"Pro",1) S:'$D(CASES(DIV,LOC)) CASES(DIV,LOC)=0
"RTN","ECXASUR",109,0)
 .D:($Y+3>IOSL) HEADER Q:QFLG  W !,?3,"Total "_LOCNMC_"Cases:",?63,$$RJ^XLFSTR(CASES(DIV,LOC),5," ")
"RTN","ECXASUR",110,0)
 ;print the audit descriptive narrative
"RTN","ECXASUR",111,0)
 I $E(IOST)'="C" D
"RTN","ECXASUR",112,0)
 .W @IOF S PG=PG+1
"RTN","ECXASUR",113,0)
 .W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXASUR",114,0)
 .W !,"DSS Extract Log #:    "_ECXEXT
"RTN","ECXASUR",115,0)
 .W !,"Date Range of Audit:  "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXASUR",116,0)
 .W !,"Report Run Date/Time: "_ECXRUN,?68,"Page: ",PG
"RTN","ECXASUR",117,0)
 .W !!,LN,!!
"RTN","ECXASUR",118,0)
 .S DIC="^ECX(727.1,",DA=ECXARRAY("DEF"),DR="1" D EN^DIQ
"RTN","ECXASUR",119,0)
 I $E(IOST)="C",'QFLG D
"RTN","ECXASUR",120,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXASUR",121,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXASUR",122,0)
 Q
"RTN","ECXASUR",123,0)
 ;
"RTN","ECXASUR",124,0)
HEADER ;header and page control
"RTN","ECXASUR",125,0)
 N JJ,SS
"RTN","ECXASUR",126,0)
 I $E(IOST)="C" D
"RTN","ECXASUR",127,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXASUR",128,0)
 .I PG>0 S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXASUR",129,0)
 Q:QFLG
"RTN","ECXASUR",130,0)
 W:$Y!($E(IOST)="C") @IOF S PG=PG+1
"RTN","ECXASUR",131,0)
 W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXASUR",132,0)
 W !,"DSS Extract Log #:    "_ECXARRAY("EXTRACT")
"RTN","ECXASUR",133,0)
 W !,"Date Range of Audit:  "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXASUR",134,0)
 W !,"Report Run Date/Time: "_ECXRUN
"RTN","ECXASUR",135,0)
 W !,"Surgery Division:     "_$P(ECXDIV(DIV),U,2)_" ("_DIV_")",?63,"Page: "_PG
"RTN","ECXASUR",136,0)
 W !!,LOCNM
"RTN","ECXASUR",137,0)
 W !,?3,"CPT Code",?14,"Procedure",?63,"# of Procedures"
"RTN","ECXASUR",138,0)
 W !,LN,!
"RTN","ECXASUR",139,0)
 Q
"RTN","ECXCPRO")
0^39^B31402157
"RTN","ECXCPRO",1,0)
ECXCPRO ;ALB/JAP - PRO Extract YTD Report ; Dec 20, 1998
"RTN","ECXCPRO",2,0)
 ;;3.0;DSS EXTRACTS;**21,24,33**;Dec 22, 1997
"RTN","ECXCPRO",3,0)
 ;accumulates extract data by hcpcs code for all extracts in fiscal year date range
"RTN","ECXCPRO",4,0)
 ;if an extract has been purged, then totals will be falsely low
"RTN","ECXCPRO",5,0)
 ;if more than 1 extract exists for a particular month, then totals will be falsely high
"RTN","ECXCPRO",6,0)
 ;if site is multidivisional, then user can generate report for
"RTN","ECXCPRO",7,0)
 ;  any one division - data stored under divisional station# (e.g., 326 or 326AB)
"RTN","ECXCPRO",8,0)
 ;  or for entire facility - data stored under primary station# (e.g., 326) but includes data from all subdivisions
"RTN","ECXCPRO",9,0)
 ;if site is non-divisional, then data stored under facility station#
"RTN","ECXCPRO",10,0)
 ;
"RTN","ECXCPRO",11,0)
 ;
"RTN","ECXCPRO",12,0)
EN ;setup & queue
"RTN","ECXCPRO",13,0)
 N DIC,DA,DR,DIQ,DIR,DIRUT,DTOUT,DUOUT,DIV,LAST,OUT
"RTN","ECXCPRO",14,0)
 S ECXERR=0
"RTN","ECXCPRO",15,0)
 S ECXHEAD="PRO"
"RTN","ECXCPRO",16,0)
 W !!,"Setup for PRO Extract YTD HCPCS Report --",!
"RTN","ECXCPRO",17,0)
 ;determine primary division
"RTN","ECXCPRO",18,0)
 W !,"If you belong to more than one Primary Division, you must"
"RTN","ECXCPRO",19,0)
 W !,"select a Primary Division for the report.",!
"RTN","ECXCPRO",20,0)
 S ECXPRIME=$$PDIV^ECXPUTL
"RTN","ECXCPRO",21,0)
 I ECXPRIME=0 D ^ECXKILL Q
"RTN","ECXCPRO",22,0)
 S DA=ECXPRIME,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99" D EN^DIQ1
"RTN","ECXCPRO",23,0)
 S ECXPRIME=ECXPRIME_U_$G(ECXDIC(4,DA,99,"I"))_U_$G(ECXDIC(4,DA,.01,"I"))
"RTN","ECXCPRO",24,0)
 ;select 1 or more prosthetics divisions for report
"RTN","ECXCPRO",25,0)
 D PRO^ECXDVSN2(DUZ,ECXPRIME,.ECXDIV,.ECXALL,.ECXERR)
"RTN","ECXCPRO",26,0)
 I ECXERR D  Q
"RTN","ECXCPRO",27,0)
 .D ^ECXKILL W !!,?5,"Try again later... exiting.",!
"RTN","ECXCPRO",28,0)
 ;determine fiscal year of report
"RTN","ECXCPRO",29,0)
 S DIR(0)="SMBA^C:CURRENT;P:PREVIOUS",DIR("A")="Select C(urrent) or P(revious) Fiscal Year: ",DIR("B")="CURRENT"
"RTN","ECXCPRO",30,0)
 W ! K X,Y D ^DIR K DIR
"RTN","ECXCPRO",31,0)
 I $D(DUOUT)!($D(DTOUT)) D  Q
"RTN","ECXCPRO",32,0)
 .D ^ECXKILL W !!,?5,"Try again later... exiting.",!
"RTN","ECXCPRO",33,0)
 I Y="C" D
"RTN","ECXCPRO",34,0)
 .S X=$$CYFY^ECXUTL1(DT),ECXARRAY("START")=$P(X,U,3),ECXARRAY("END")=$P(X,U,4)
"RTN","ECXCPRO",35,0)
 I Y="P" D
"RTN","ECXCPRO",36,0)
 .S YR=$E(DT,1,3),MON=$E(DT,4,5) S:+MON<10 YR=YR-1 S X1=YR_"0930"
"RTN","ECXCPRO",37,0)
 .S X=$$CYFY^ECXUTL1(X1),ECXARRAY("START")=$P(X,U,3),ECXARRAY("END")=$P(X,U,4)
"RTN","ECXCPRO",38,0)
 .K C,MON,YR,X1
"RTN","ECXCPRO",39,0)
 ;setup variables for taskmanager
"RTN","ECXCPRO",40,0)
 S ECXPGM="PROCESS^ECXCPRO",ECXDESC="PRO Extract YTD Lab Report"
"RTN","ECXCPRO",41,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")="",ECXSAVE("ECXPRIME")="",ECXSAVE("ECXALL")=""
"RTN","ECXCPRO",42,0)
 ;determine output device and queue if requested
"RTN","ECXCPRO",43,0)
 W !!,"Please note: The PRO Extract YTD HCPCS Report requires 132 columns."
"RTN","ECXCPRO",44,0)
 W !,"             Select an appropriate device for output."
"RTN","ECXCPRO",45,0)
 W ! D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXCPRO",46,0)
 I ECXSAVE("POP")=1 W ! D ^ECXKILL Q
"RTN","ECXCPRO",47,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXCPRO",48,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXCPRO",49,0)
 .D PROCESS
"RTN","ECXCPRO",50,0)
 ;clean-up and close
"RTN","ECXCPRO",51,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXCPRO",52,0)
 D HOME^%ZIS
"RTN","ECXCPRO",53,0)
 Q
"RTN","ECXCPRO",54,0)
 ;
"RTN","ECXCPRO",55,0)
PROCESS ;begin processing
"RTN","ECXCPRO",56,0)
 N DIVISION,E,EXTRACT,REC,NODE0,NODE1,LASTDAY
"RTN","ECXCPRO",57,0)
 K ^TMP($J,"ECXP") S LASTDAY=""
"RTN","ECXCPRO",58,0)
 ;determine which extracts contain data for report
"RTN","ECXCPRO",59,0)
 S (EXTRACT,E)=0
"RTN","ECXCPRO",60,0)
 F  S E=$O(^ECX(727,"E",ECXHEAD,E)) Q:'E  D
"RTN","ECXCPRO",61,0)
 .Q:'$D(^ECX(727,E,0))
"RTN","ECXCPRO",62,0)
 .Q:$P($G(^ECX(727,E,0)),U,4)<ECXARRAY("START")
"RTN","ECXCPRO",63,0)
 .Q:$P($G(^ECX(727,E,0)),U,4)>ECXARRAY("END")
"RTN","ECXCPRO",64,0)
 .Q:$G(^ECX(727,E,"DIV"))'=+ECXPRIME
"RTN","ECXCPRO",65,0)
 .S EXTRACT(E)=^ECX(727,E,0)
"RTN","ECXCPRO",66,0)
 .I $P(EXTRACT(E),U,5)>LASTDAY S LASTDAY=$P(EXTRACT(E),U,5)
"RTN","ECXCPRO",67,0)
 ;setup array of station numbers included in report
"RTN","ECXCPRO",68,0)
 F DIV=0:0 S DIV=$O(ECXDIV(DIV)) Q:'DIV  S ECXSTAT=$P(ECXDIV(DIV),U,2),DIVISION(ECXSTAT)=ECXDIV(DIV)
"RTN","ECXCPRO",69,0)
 ;get the extract data
"RTN","ECXCPRO",70,0)
 S E=0 F  S E=$O(EXTRACT(E)) Q:'E  S REC=0 I $D(^ECX(727.826,"AC",E)) F  S REC=$O(^ECX(727.826,"AC",E,REC)) Q:'REC  D
"RTN","ECXCPRO",71,0)
 .S NODE0=$G(^ECX(727.826,REC,0)),NODE1=$G(^ECX(727.826,REC,1)) Q:NODE0=""
"RTN","ECXCPRO",72,0)
 .S (ECXCTAMT,ECXLLC,ECXLMC)=0
"RTN","ECXCPRO",73,0)
 .S ECXFELOC=$P(NODE0,U,10),ECXFEKEY=$P(NODE0,U,11)
"RTN","ECXCPRO",74,0)
 .S ECXHCPC=$E(ECXFEKEY,1,5),ECXTYPE=$E(ECXFEKEY,6),ECXSRCE=$E(ECXFEKEY,7)
"RTN","ECXCPRO",75,0)
 .S ECXQTY=$P(NODE0,U,12),ECXCTAMT=$P(NODE0,U,25),ECXGRPR=$P(NODE1,U,4)
"RTN","ECXCPRO",76,0)
 .I ECXFELOC["NONL" S ECXSTAT=$P(ECXFELOC,"NONL",1),ECXFORM="NONL"
"RTN","ECXCPRO",77,0)
 .;if this station is lab requesting station, then count lab transaction
"RTN","ECXCPRO",78,0)
 .I ECXFELOC["ORD" D
"RTN","ECXCPRO",79,0)
 ..S ECXSTAT=$P(ECXFELOC,"ORD",1),ECXFORM="ORD"
"RTN","ECXCPRO",80,0)
 ..S ECXLLC=$P(NODE0,U,26),ECXLMC=$P(NODE0,U,27)
"RTN","ECXCPRO",81,0)
 .;ignore record for receiving station feeder location
"RTN","ECXCPRO",82,0)
 .Q:ECXFELOC["LAB"
"RTN","ECXCPRO",83,0)
 .;ignore record if division not included in this report
"RTN","ECXCPRO",84,0)
 .Q:ECXSTAT=""  Q:'$D(DIVISION(ECXSTAT))
"RTN","ECXCPRO",85,0)
 .;if combining data from all subdivisions, then set in ^tmp using primary station#
"RTN","ECXCPRO",86,0)
 .I ECXALL=1 S ECXSTAT=$P(ECXPRIME,U,2)
"RTN","ECXCPRO",87,0)
 .;be sure there's no padding on cost variables
"RTN","ECXCPRO",88,0)
 .S ECXCTAMT=+$TR(ECXCTAMT," ",0),ECXLLC=+$TR(ECXLLC," ",0),ECXLMC=+$TR(ECXLMC," ",0)
"RTN","ECXCPRO",89,0)
 .;tmp global holds - com qty^com cost^va nonlab qty^va nonlab cost^lab qty^lab labor cost^lab matrl cost
"RTN","ECXCPRO",90,0)
 .I '$D(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC)) S ^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC)="0^0^0^0^0^0^0"
"RTN","ECXCPRO",91,0)
 .I ECXSRCE="C",ECXFORM="NONL" D
"RTN","ECXCPRO",92,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,1)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,1)+ECXQTY
"RTN","ECXCPRO",93,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,2)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,2)+ECXCTAMT
"RTN","ECXCPRO",94,0)
 .I ECXSRCE="V",ECXFORM="NONL" D
"RTN","ECXCPRO",95,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,3)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,3)+ECXQTY
"RTN","ECXCPRO",96,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,4)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,4)+ECXCTAMT
"RTN","ECXCPRO",97,0)
 .I ECXFORM="ORD" D
"RTN","ECXCPRO",98,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,5)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,5)+ECXQTY
"RTN","ECXCPRO",99,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,6)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,6)+ECXLLC
"RTN","ECXCPRO",100,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,7)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,7)+ECXLMC
"RTN","ECXCPRO",101,0)
 ;setup hcpcs descriptions
"RTN","ECXCPRO",102,0)
 D HCPCS
"RTN","ECXCPRO",103,0)
 ;print report
"RTN","ECXCPRO",104,0)
 D PRINT^ECXCPRO1
"RTN","ECXCPRO",105,0)
 ;cleanup
"RTN","ECXCPRO",106,0)
 D AUDIT^ECXKILL
"RTN","ECXCPRO",107,0)
 Q
"RTN","ECXCPRO",108,0)
 ;
"RTN","ECXCPRO",109,0)
HCPCS ;setup hcpcs cross-reference
"RTN","ECXCPRO",110,0)
 N H,CPT,CPTNM,DESC
"RTN","ECXCPRO",111,0)
 S H=0
"RTN","ECXCPRO",112,0)
 F  S H=$O(^RMPR(661.1,H)) Q:+H<1  D
"RTN","ECXCPRO",113,0)
 .;don't skip inactive hcpcs in case doing previous fy
"RTN","ECXCPRO",114,0)
 .S CPTNM="",CPT=$P(^RMPR(661.1,H,0),U,4)
"RTN","ECXCPRO",115,0)
 .I +CPT>0 S CPTNM=$P(^ICPT(CPT,0),U,1),DESC=$E($P(^ICPT(CPT,0),U,2),1,26)
"RTN","ECXCPRO",116,0)
 .Q:CPTNM=""
"RTN","ECXCPRO",117,0)
 .S ^TMP($J,"HCPCS",CPTNM)=DESC
"RTN","ECXCPRO",118,0)
 Q
"RTN","ECXDENT")
0^5^B7590580
"RTN","ECXDENT",1,0)
ECXDENT ;ALB/JAP,BIR/DMA,PTD-Dental Extract for DSS ; [ 11/22/96  5:23 PM ]
"RTN","ECXDENT",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,24,33**;Dec 22, 1997
"RTN","ECXDENT",3,0)
BEG ;entry point from option
"RTN","ECXDENT",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXDENT",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXDENT",6,0)
 Q
"RTN","ECXDENT",7,0)
 ;
"RTN","ECXDENT",8,0)
START ;start package specific extract
"RTN","ECXDENT",9,0)
 N DATA,X,Y
"RTN","ECXDENT",10,0)
 K ECXDD D FIELD^DID(220.5,.01,,"SPECIFIER","ECXDD")
"RTN","ECXDENT",11,0)
 S ECPRO=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXDENT",12,0)
 S ECED=ECED+.3,ECD=ECSD1,QFLG=0
"RTN","ECXDENT",13,0)
 F  S ECD=$O(^DENT(221,"B",ECD)),ECXJ=0 Q:('ECD)!(ECD>ECED)!(QFLG)  D
"RTN","ECXDENT",14,0)
 .F  S ECXJ=$O(^DENT(221,"B",ECD,ECXJ)) Q:'ECXJ  D  Q:QFLG
"RTN","ECXDENT",15,0)
 ..Q:'$D(^DENT(221,ECXJ,0)) 
"RTN","ECXDENT",16,0)
 ..S DATA=^DENT(221,ECXJ,0),$P(DATA,U,50)="" D STUFF
"RTN","ECXDENT",17,0)
 Q
"RTN","ECXDENT",18,0)
STUFF ;get data
"RTN","ECXDENT",19,0)
 K ECXPAT
"RTN","ECXDENT",20,0)
 S ECXDFN=+$P(DATA,U,4),OK=$$PAT^ECXUTL3(ECXDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXDENT",21,0)
 Q:'OK
"RTN","ECXDENT",22,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXDENT",23,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECD),ECXA=$P(X,U),ECXMN=$P(X,U,2)
"RTN","ECXDENT",24,0)
 S ECXTS=$P(X,U,3),ECXDOM=$P(X,U,10)
"RTN","ECXDENT",25,0)
 S ECDEN=$P(DATA,U,3),ECDEN=$P($G(^DENT(220.5,ECDEN,0)),U)
"RTN","ECXDENT",26,0)
 S:ECDEN]"" ECDEN=ECPRO_ECDEN S ECDENNPI=""
"RTN","ECXDENT",27,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECD,"."),ECPRO)
"RTN","ECXDENT",28,0)
 S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXDENT",29,0)
 S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXDENT",30,0)
 S ECXDSSD=""
"RTN","ECXDENT",31,0)
 D FILE
"RTN","ECXDENT",32,0)
 Q
"RTN","ECXDENT",33,0)
 ;
"RTN","ECXDENT",34,0)
FILE ;file record
"RTN","ECXDENT",35,0)
 ;node0
"RTN","ECXDENT",36,0)
 ;inst^dfn^ssn^name^in/out ECXA^day^provider^screen/complete^admin proc^
"RTN","ECXDENT",37,0)
 ;x-rays ex^x-rays int^prophy natural^prophy denture^op room^
"RTN","ECXDENT",38,0)
 ;neoplasm malig^
"RTN","ECXDENT",39,0)
 ;neoplasm removed^biopsy/smear^fracture^pat category^other sig surg^
"RTN","ECXDENT",40,0)
 ;surface restored^root canal^periodontal quads (surg)^
"RTN","ECXDENT",41,0)
 ;perio quads (root plane)^
"RTN","ECXDENT",42,0)
 ;patient ed^spot check exam^indiv crowns^posts & cores^
"RTN","ECXDENT",43,0)
 ;fixed partials (abut)^fixed partials (pont)^removable partials^
"RTN","ECXDENT",44,0)
 ;complete dentures^prosthetic repair^
"RTN","ECXDENT",45,0)
 ;splints & spec procs^extractions^surg extractions^other sig treatment^
"RTN","ECXDENT",46,0)
 ;div^completion/termination^interdisc consult^evaluation^
"RTN","ECXDENT",47,0)
 ;pre-auth 2nd opinion^
"RTN","ECXDENT",48,0)
 ;spot check discrepancy^mov #^treat spec^primary care team^
"RTN","ECXDENT",49,0)
 ;primary care provider^time
"RTN","ECXDENT",50,0)
 ;node1
"RTN","ECXDENT",51,0)
 ;mpi^dss dept^provider npi^pc provider npi^pc prov person class^
"RTN","ECXDENT",52,0)
 ;assoc pc prov^assoc pc prov person class^assoc pc prov npi^
"RTN","ECXDENT",53,0)
 ;dom ECXDOM^extended op ECXEOI
"RTN","ECXDENT",54,0)
 ;
"RTN","ECXDENT",55,0)
 N DA,DIK
"RTN","ECXDENT",56,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXDENT",57,0)
 S ECODE=EC7_U_EC23_U
"RTN","ECXDENT",58,0)
 S ECODE=ECODE_$P(DATA,U,40)_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXDENT",59,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL($P(DATA,U),ECXYM)_U_ECDEN_U
"RTN","ECXDENT",60,0)
 S ECODE=ECODE_$P(DATA,U,7,9)_U_$P(DATA,U,11,20)_U_$P(DATA,U,22,38)_U
"RTN","ECXDENT",61,0)
 S ECODE=ECODE_$P(DATA,U,40,45)_U_ECXMN_U_ECXTS_U
"RTN","ECXDENT",62,0)
 S ECODE=ECODE_ECPTTM_U_ECPTPR_U_$$ECXTIME^ECXUTL($P(DATA,U))_U
"RTN","ECXDENT",63,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECDENNPI_U_ECPTNPI_U_ECCLAS_U_ECASPR_U
"RTN","ECXDENT",64,0)
 S ECODE1=ECODE1_ECCLAS2_U_ECASNPI_U_ECXDOM_U_$G(ECXEOI)
"RTN","ECXDENT",65,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXDENT",66,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXDENT",67,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXDENT",68,0)
 Q
"RTN","ECXDENT",69,0)
 ;
"RTN","ECXDENT",70,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXDENT",71,0)
 S ECHEAD="DEN"
"RTN","ECXDENT",72,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXDENT",73,0)
 Q
"RTN","ECXDENT",74,0)
 ;
"RTN","ECXDENT",75,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXDENT",76,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXDVSNX")
0^33^B5856238
"RTN","ECXDVSNX",1,0)
ECXDVSNX ;ALB/JAP - Division Identifier for DSS ;July 16, 1998
"RTN","ECXDVSNX",2,0)
 ;;3.0;DSS EXTRACTS;**8,24,33**;Dec 22, 1997
"RTN","ECXDVSNX",3,0)
 ;
"RTN","ECXDVSNX",4,0)
EN ;entry point from menu option
"RTN","ECXDVSNX",5,0)
 ;user adds any division to file #727.3
"RTN","ECXDVSNX",6,0)
 N D,L,X,Y,YR,MON,FY,OUT,%,DIR,DIRUT,DTOUT,DUOUT,DIC,DIE,DR
"RTN","ECXDVSNX",7,0)
 D NOW^%DTC S ECX=$$FMTE^XLFDT(%,"5D"),YR=+$P(ECX,"/",3),MON=+$P(ECX,"/",1),FY=$S(MON<10:YR,1:YR+1)
"RTN","ECXDVSNX",8,0)
 S ECXFY=FY-1700,ECFYB=ECXFY-1_"1000",ECFYE=ECXFY_"1001"
"RTN","ECXDVSNX",9,0)
 ;get all divisions active during this fiscal year
"RTN","ECXDVSNX",10,0)
 D ALL^ECXDVSN2(.ECXDIV,1,ECFYB,ECFYE,.ECXERR)
"RTN","ECXDVSNX",11,0)
 D SELECT
"RTN","ECXDVSNX",12,0)
 G EXIT
"RTN","ECXDVSNX",13,0)
 Q
"RTN","ECXDVSNX",14,0)
 ;
"RTN","ECXDVSNX",15,0)
SELECT ;select division
"RTN","ECXDVSNX",16,0)
 S DIR(0)="PAO^40.8",DIR("A")="Select Medical Center Division: " K X,Y
"RTN","ECXDVSNX",17,0)
 S DIR("S")="I $D(ECXDIV(+Y))" K X,Y D ^DIR K DIR Q:$D(DIRUT)
"RTN","ECXDVSNX",18,0)
 S ECXDIV=+Y
"RTN","ECXDVSNX",19,0)
 W !!,"Division:",?20,$P(ECXDIV(ECXDIV),U,2)
"RTN","ECXDVSNX",20,0)
 I $P(ECXDIV(ECXDIV),U,5)=0 W "   **Inactive**"
"RTN","ECXDVSNX",21,0)
 W !,"Station number:",?20,$P(ECXDIV(ECXDIV),U,3)
"RTN","ECXDVSNX",22,0)
 W !,"Primary division?:",?20,$S(+$P(ECXDIV(ECXDIV),U,4):"Yes",1:"No")
"RTN","ECXDVSNX",23,0)
 S DR="1;",DIQ(0)="E",DIQ="ECX",DA=ECXDIV,DIC="^ECX(727.3," K ECX D EN^DIQ1
"RTN","ECXDVSNX",24,0)
 ;if division already has a dss identifier, then display it
"RTN","ECXDVSNX",25,0)
 I $G(ECX(727.3,ECXDIV,1,"E"))]"" D  Q:$D(DTOUT)  G:Y=0 SELECT
"RTN","ECXDVSNX",26,0)
 .W !,"DSS Identifier:",?20,ECX(727.3,ECXDIV,1,"E"),!
"RTN","ECXDVSNX",27,0)
 .S DIR(0)="YA",DIR("A")="Do you want to change this identifier? ",DIR("B")="NO"
"RTN","ECXDVSNX",28,0)
 .K X,Y D ^DIR K DIR
"RTN","ECXDVSNX",29,0)
 ;allow user to enter/edit dss division identifier
"RTN","ECXDVSNX",30,0)
 S OUT=0
"RTN","ECXDVSNX",31,0)
 F  D  Q:$D(DIRUT)!(OUT=1)
"RTN","ECXDVSNX",32,0)
 .W !
"RTN","ECXDVSNX",33,0)
 .S DIR(0)="FA^1:1",DIR("A")="Enter the DSS Division Identifier: "
"RTN","ECXDVSNX",34,0)
 .K X,Y D ^DIR K DIR Q:$D(DIRUT)
"RTN","ECXDVSNX",35,0)
 .I X?.P!(X?.L)!($L(X)>1)!(X="0") W !,"Invalid ...try again.",! Q
"RTN","ECXDVSNX",36,0)
 .I '$$CHKCODE(X,ECXDIV) W !,"Already used for another division ...try again.",! Q
"RTN","ECXDVSNX",37,0)
 .S ECXID=X,OUT=1
"RTN","ECXDVSNX",38,0)
 G:$D(DUOUT) SELECT
"RTN","ECXDVSNX",39,0)
 Q:$D(DTOUT)
"RTN","ECXDVSNX",40,0)
 ;if selected division isn't in file #727.3, then add it
"RTN","ECXDVSNX",41,0)
 I '$D(ECX(727.3,ECXDIV)) D
"RTN","ECXDVSNX",42,0)
 .S (X,DINUM)=ECXDIV,DIC(0)="L",DLAYGO=727.3,DIC="^ECX(727.3,"
"RTN","ECXDVSNX",43,0)
 .K DD,DO D FILE^DICN K DINUM,DLAYGO,X,Y
"RTN","ECXDVSNX",44,0)
 ;update with new identifier
"RTN","ECXDVSNX",45,0)
 S DIE="^ECX(727.3,",DA=ECXDIV,DR="1////^S X=ECXID;" D ^DIE
"RTN","ECXDVSNX",46,0)
 W !!
"RTN","ECXDVSNX",47,0)
 G SELECT
"RTN","ECXDVSNX",48,0)
 ;
"RTN","ECXDVSNX",49,0)
EXIT ;common exit point
"RTN","ECXDVSNX",50,0)
 K ECX,ECXDIV,ECXERR,ECXFY,ECFYB,ECFYE
"RTN","ECXDVSNX",51,0)
 Q
"RTN","ECXDVSNX",52,0)
 ;
"RTN","ECXDVSNX",53,0)
CHKCODE(X,ECXDIV) ;make sure dss identifier is unique
"RTN","ECXDVSNX",54,0)
 I '$D(^ECX(727.3,"C",X)) Q 1
"RTN","ECXDVSNX",55,0)
 S XX=$O(^ECX(727.3,"C",X,0))
"RTN","ECXDVSNX",56,0)
 I XX'=ECXDIV Q 0
"RTN","ECXDVSNX",57,0)
 Q 1
"RTN","ECXEC")
0^28^B22150796
"RTN","ECXEC",1,0)
ECXEC ;ALB/JAP,BIR/JLP,PTD-DSS Event Capture Extract  [ 02/14/97   2:26 PM ]
"RTN","ECXEC",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,24,27,33**;Dec 22, 1997
"RTN","ECXEC",3,0)
BEG ;entry point from option
"RTN","ECXEC",4,0)
 I '$D(^ECH) W !,"Event Capture is not initialized",!! Q
"RTN","ECXEC",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXEC",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXEC",7,0)
 Q
"RTN","ECXEC",8,0)
START ;begin EC extract
"RTN","ECXEC",9,0)
 N X,Y
"RTN","ECXEC",10,0)
 S ECED=ECED+.3,ECLL=0
"RTN","ECXEC",11,0)
 K ^TMP("EC",$J)
"RTN","ECXEC",12,0)
 F  S ECLL=$O(^ECH("AC1",ECLL)),ECD=ECSD-.1 Q:'ECLL  D
"RTN","ECXEC",13,0)
 .F  S ECD=$O(^ECH("AC1",ECLL,ECD)),ECDA=0 Q:(ECD>ECED)!('ECD)  D
"RTN","ECXEC",14,0)
 ..F  S ECDA=$O(^ECH("AC1",ECLL,ECD,ECDA)) Q:'ECDA  D UPDATE
"RTN","ECXEC",15,0)
 Q
"RTN","ECXEC",16,0)
 ;
"RTN","ECXEC",17,0)
UPDATE ;sets record and updates counters
"RTN","ECXEC",18,0)
 S ECCH=^ECH(ECDA,0),ECL=$P(ECCH,U,4),ECXDFN=$P(ECCH,U,2)
"RTN","ECXEC",19,0)
 S ECDT=$P(ECCH,U,3),ECM=$P(ECCH,U,6),ECC=$P(ECCH,U,8)
"RTN","ECXEC",20,0)
 Q:'$$PATDEM^ECXUTL2(ECXDFN,ECDT,"1;3;5;")
"RTN","ECXEC",21,0)
 S ECTM=$$ECXTIME^ECXUTL(ECDT),ECP=$P(ECCH,U,9)
"RTN","ECXEC",22,0)
 Q:ECP']""
"RTN","ECXEC",23,0)
 S ECO=$P(ECCH,U,12),ECV=$P(ECCH,U,10),ECDU=$P(ECCH,U,7)
"RTN","ECXEC",24,0)
 S ECXUNIT=$G(^ECD(ECDU,0)),ECCS=+$P(ECXUNIT,U,4),ECDCM=$P(ECXUNIT,U,5)
"RTN","ECXEC",25,0)
 S ECUSTOP=$P(ECXUNIT,U,10),ECUPCE=$P(ECXUNIT,U,14)
"RTN","ECXEC",26,0)
 S ICD9=$P($G(^ECH(ECDA,"P")),U,2) S:ICD9="" ICD9=" "
"RTN","ECXEC",27,0)
 S ECXICD9=$P($G(^ICD9(ICD9,0)),U)
"RTN","ECXEC",28,0)
 F I=1:1:4 S @("ECXICD9"_I)=""
"RTN","ECXEC",29,0)
 S (CNT,I)=0
"RTN","ECXEC",30,0)
 F  S CNT=$O(^ECH(ECDA,"DX",CNT)) Q:'CNT  D  Q:I>3
"RTN","ECXEC",31,0)
 .S ICD9=$P($G(^ECH(ECDA,"DX",CNT,0)),U) D:ICD9'=""
"RTN","ECXEC",32,0)
 ..S I=I+1,@("ECXICD9"_I)=$P($G(^ICD9(ICD9,0)),U)
"RTN","ECXEC",33,0)
 ;derivation of dss identifier depends on whether dss unit is 
"RTN","ECXEC",34,0)
 ;set to send data to pce
"RTN","ECXEC",35,0)
 S ECAC=$P($G(ECCH),U,19)
"RTN","ECXEC",36,0)
 ;if this is a record that 'goes to pce', then get the dss identifier
"RTN","ECXEC",37,0)
 ;from the clinic stop codes
"RTN","ECXEC",38,0)
 S (ECAC1S,ECAC2S)="000"
"RTN","ECXEC",39,0)
 I ECUPCE="A"!(ECUPCE="O"&(ECXA=1)) D
"RTN","ECXEC",40,0)
 .D:+ECAC
"RTN","ECXEC",41,0)
 ..S ECAC1=$P($G(^SC(+ECAC,0)),U,7),ECAC2=$P($G(^(0)),U,18)
"RTN","ECXEC",42,0)
 ..I 'ECAC2 S ECAC2S="000"
"RTN","ECXEC",43,0)
 ..I 'ECAC1 S (ECAC1S,ECAC2S)="000" Q
"RTN","ECXEC",44,0)
 ..S ECAC1S=$P($G(^DIC(40.7,+ECAC1,0)),U,2)
"RTN","ECXEC",45,0)
 ..S ECAC2S=$P($G(^DIC(40.7,+ECAC2,0)),U,2)
"RTN","ECXEC",46,0)
 ..S ECAC1S=$$RJ^XLFSTR(ECAC1S,3,0),ECAC2S=$$RJ^XLFSTR(ECAC2S,3,0)
"RTN","ECXEC",47,0)
 .S:'ECAC (ECAC1S,ECAC2S)="000"
"RTN","ECXEC",48,0)
 ;if this record doesn't go to pce, then get the dss idetifier
"RTN","ECXEC",49,0)
 ;from the dss unit
"RTN","ECXEC",50,0)
 I ECUPCE=""!(ECUPCE="N")!(ECUPCE="O"&(ECXA=3)) D
"RTN","ECXEC",51,0)
 .I +ECUSTOP D
"RTN","ECXEC",52,0)
 ..S ECAC1S=$P($G(^DIC(40.7,+ECUSTOP,0)),U,2)
"RTN","ECXEC",53,0)
 ..S ECAC1S=$$RJ^XLFSTR(ECAC1S,3,0),ECAC2S="000"
"RTN","ECXEC",54,0)
 .I 'ECUSTOP D
"RTN","ECXEC",55,0)
 ..S (ECAC1S,ECAC2S)="000"
"RTN","ECXEC",56,0)
 S ECDSS=ECAC1S_ECAC2S,(ECXDSSD,ECXDIV)=""
"RTN","ECXEC",57,0)
 ;setup provider(s) as'2'_ien
"RTN","ECXEC",58,0)
 S (ECU1A,ECU2A,ECU3A,ECU1NPI,ECU2NPI,ECU3NPI,ECXPPC1,ECXPPC2,ECXPPC3)=""
"RTN","ECXEC",59,0)
 S ECU=$P(ECCH,U,11)
"RTN","ECXEC",60,0)
 S:$L(ECU) ECXPPC1=$$PRVCLASS^ECXUTL(ECU,ECDT),ECU1A="2"_$P(ECU,";")
"RTN","ECXEC",61,0)
 S ECU2=$P(ECCH,U,15)
"RTN","ECXEC",62,0)
 S:$L(ECU2) ECXPPC2=$$PRVCLASS^ECXUTL(ECU2,ECDT),ECU2A="2"_$P(ECU2,";")
"RTN","ECXEC",63,0)
 S ECU3=$P(ECCH,U,17)
"RTN","ECXEC",64,0)
 S:$L(ECU3) ECXPPC3=$$PRVCLASS^ECXUTL(ECU3,ECDT),ECU3A="2"_$P(ECU3,";")
"RTN","ECXEC",65,0)
 ;change for version 2 where ECP is a variable pointer and we want to
"RTN","ECXEC",66,0)
 ;expand it category = category or null if stored as 0
"RTN","ECXEC",67,0)
 D:ECP[";"
"RTN","ECXEC",68,0)
 .S ECP=$S(ECP["ICPT":$P(^ICPT(+ECP,0),U)_"01",ECP<90000:$P(^EC(725,+ECP,0),U,2)_"N",1:$P(^EC(725,+ECP,0),U,2)_"L"),ECC=$S(ECC:ECC,1:"")
"RTN","ECXEC",69,0)
 ;pick up EC to PCE data from "P" in File 721
"RTN","ECXEC",70,0)
 S ECPCE=$G(^ECH(ECDA,"P"))
"RTN","ECXEC",71,0)
 S ECPCE1=$P(ECPCE,U),ECPCE2=$P(ECPCE,U,2),ECPCE3=$P(ECPCE,U,3)
"RTN","ECXEC",72,0)
 S ECPCE4=$P(ECPCE,U,4),ECPCE5=$P(ECPCE,U,5),ECPCE6=$P(ECPCE,U,6)
"RTN","ECXEC",73,0)
 S ECPCE7=$S($P(ECPCE,U,7)=1:"Y",1:"N"),ECXMST=$P(ECPCE,U,9)
"RTN","ECXEC",74,0)
 S ECXCMOD=""
"RTN","ECXEC",75,0)
 I $D(^ECH(ECDA,"MOD")) D
"RTN","ECXEC",76,0)
 .S MOD=0,M=""
"RTN","ECXEC",77,0)
 .F  S MOD=$O(^ECH(ECDA,"MOD",MOD)) Q:'MOD  S M=$P(^(MOD,0),U) D
"RTN","ECXEC",78,0)
 ..I M S ECXCMOD=ECXCMOD_M_";"
"RTN","ECXEC",79,0)
 .K MOD,M
"RTN","ECXEC",80,0)
 S:ECP?1.N ECP=$$CPT^ECXUTL3($E(ECP,1,5),"",ECV)
"RTN","ECXEC",81,0)
 S ECXCPT=$$CPT^ECXUTL3(ECPCE1,ECXCMOD,ECV)
"RTN","ECXEC",82,0)
 D FILE
"RTN","ECXEC",83,0)
 Q
"RTN","ECXEC",84,0)
 ;
"RTN","ECXEC",85,0)
FILE ;file record in #727.815
"RTN","ECXEC",86,0)
 ;node0
"RTN","ECXEC",87,0)
 ;ecode=inst ECL^dfn ECXDFN^ssn ECXSSN^name^i/o status ECXA^day^
"RTN","ECXEC",88,0)
 ;DSS unit ECDU^category ECC^procedure ECP^volume ECV^
"RTN","ECXEC",89,0)
 ;cost center ECCS^ordering sec ECO^section ^
"RTN","ECXEC",90,0)
 ;provider ECU1A^^prov 2 ECU2A^^prov 3 ECU3A^^^mov # ECXMN^
"RTN","ECXEC",91,0)
 ;treat spec ECXTS^time ECTM^
"RTN","ECXEC",92,0)
 ;primary care team^primary care provider^pce cpt code (ECXCPT)^
"RTN","ECXEC",93,0)
 ;primary icd-9 code ICD9^secondary icd-9 ICD91^secondary icd-9 ICD92^
"RTN","ECXEC",94,0)
 ;secondary icd-9 ICD93^secondary icd-9 ICD94^
"RTN","ECXEC",95,0)
 ;agent orange^radiation exposure ECPCC3^
"RTN","ECXEC",96,0)
 ;environmental contaminants ECPTTM^service connected ECPTPR^
"RTN","ECXEC",97,0)
 ;sent to pce ECPCE^^dss identifier ECDSS^dss dept
"RTN","ECXEC",98,0)
 ;node1
"RTN","ECXEC",99,0)
 ;mpi ECXMPI^provider npi ECXPRV2^provider #2 npi ECU2NPI^
"RTN","ECXEC",100,0)
 ;provider #3 npi ECU3NPI^^
"RTN","ECXEC",101,0)
 ;pc provider npi ECPTNPI^pc prov person class ECCLAS^
"RTN","ECXEC",102,0)
 ;assoc pc prov ECASPR^assoc pc prov person class ECCLAS2^
"RTN","ECXEC",103,0)
 ;assoc pc prov npi ECASNPI^
"RTN","ECXEC",104,0)
 ;divison ECXDIV^mst status ECXMST^dom ECXDOM^date of birth ECXDOB^
"RTN","ECXEC",105,0)
 ;enrollment category ECXCAT^ enrollment status ECXSTAT^
"RTN","ECXEC",106,0)
 ;enrollment priorty ECXPRIOR^period of service ECXPOS^
"RTN","ECXEC",107,0)
 ;purple heart indicator ECXPHI^extended outpatient indicator ECXEOI
"RTN","ECXEC",108,0)
 N DA,DIK
"RTN","ECXEC",109,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXEC",110,0)
 S ECODE=EC7_U_EC23_U_ECL_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXEC",111,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECDT,ECXYM)_U_ECDU_U_ECC_U
"RTN","ECXEC",112,0)
 S ECODE=ECODE_ECP_U_ECV_U_ECCS_U_ECO_U_ECM_U_ECU1A_U_ECXPPC1_U
"RTN","ECXEC",113,0)
 S ECODE=ECODE_ECU2A_U_ECXPPC2_U_ECU3A_U_ECXPPC3_U_U_ECXMN_U
"RTN","ECXEC",114,0)
 S ECODE=ECODE_ECXTS_U_ECTM_U
"RTN","ECXEC",115,0)
 S ECODE=ECODE_ECPTTM_U_ECPTPR_U_ECXCPT_U_ECXICD9_U
"RTN","ECXEC",116,0)
 S ECODE=ECODE_ECXICD91_U_ECXICD92_U_ECXICD93_U
"RTN","ECXEC",117,0)
 S ECODE=ECODE_ECXICD94_U_ECPCE3_U_ECPCE4_U_ECPCE5_U
"RTN","ECXEC",118,0)
 S ECODE=ECODE_ECPCE6_U_ECPCE7_U_U_ECDSS_U_U
"RTN","ECXEC",119,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECU1NPI_U_ECU2NPI_U_ECU3NPI_U_ECCLAS_U
"RTN","ECXEC",120,0)
 S ECODE1=ECODE1_ECPTNPI_U_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXDIV_U
"RTN","ECXEC",121,0)
 S ECODE1=ECODE1_ECXMST_U_ECXDOM_U_ECXDOB_U_ECXCAT_U_ECXSTAT_U
"RTN","ECXEC",122,0)
 S ECODE1=ECODE1_ECXPRIOR_U_ECXPOS_U_ECXPHI_U_$G(ECXEOI)
"RTN","ECXEC",123,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXEC",124,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXEC",125,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD
"RTN","ECXEC",126,0)
 Q
"RTN","ECXEC",127,0)
 ;
"RTN","ECXEC",128,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXEC",129,0)
 S ECHEAD="ECS"
"RTN","ECXEC",130,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXEC",131,0)
 Q
"RTN","ECXEC",132,0)
 ;
"RTN","ECXEC",133,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXEC",134,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXLABN")
0^6^B19549170
"RTN","ECXLABN",1,0)
ECXLABN ;ALB/JAP,BIR/CML-Lab Extract for DSS (New Format - With LMIP Codes) ; [ 11/22/96  5:14 PM ]
"RTN","ECXLABN",2,0)
 ;;3.0;DSS EXTRACTS;**1,11,8,13,28,24,30,31,32,33**;Dec 22, 1997
"RTN","ECXLABN",3,0)
BEG ;entry point
"RTN","ECXLABN",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXLABN",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXLABN",6,0)
 Q
"RTN","ECXLABN",7,0)
 ;
"RTN","ECXLABN",8,0)
START ; entry when queued
"RTN","ECXLABN",9,0)
 K ^LRO(64.03),^TMP($J,"ECXP")
"RTN","ECXLABN",10,0)
 S LRSDT=ECSD,LREDT=ECED,QFLG=0
"RTN","ECXLABN",11,0)
 D ^LRCAPDSS
"RTN","ECXLABN",12,0)
 ;quit if no completion date for API compile
"RTN","ECXLABN",13,0)
 I '$P($G(^LRO(64.03,1,1,1,0)),U,4) Q
"RTN","ECXLABN",14,0)
 ;quit if tasked and user sends stop request
"RTN","ECXLABN",15,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD D  Q
"RTN","ECXLABN",16,0)
 .S QFLG=1
"RTN","ECXLABN",17,0)
 .K ^LRO(64.03) S ^LRO(64.03,0)="WKLD LOG FILE^64.03^"
"RTN","ECXLABN",18,0)
 ;otherwise, continue
"RTN","ECXLABN",19,0)
 K ECXDD D FIELD^DID(64.03,1,,"SPECIFIER","ECXDD")
"RTN","ECXLABN",20,0)
 S ECPROF=$E(+$P(ECXDD("SPECIFIER"),"P",2)),ECLRN=1 K ECXDD
"RTN","ECXLABN",21,0)
 F  S ECLRN=$O(^LRO(64.03,ECLRN)) Q:'ECLRN  D  Q:QFLG
"RTN","ECXLABN",22,0)
 .Q:'$D(^LRO(64.03,ECLRN,0))
"RTN","ECXLABN",23,0)
 .S EC1=^LRO(64.03,ECLRN,0),ECDOC=ECPROF_$P(EC1,U,2),ECDOCNPI=""
"RTN","ECXLABN",24,0)
 .S ECLOC=$P(EC1,U,15),EC=$P(EC1,U,3)
"RTN","ECXLABN",25,0)
 .I EC]"" D GET
"RTN","ECXLABN",26,0)
 K ^LRO(64.03),^TMP($J,"ECXP") S ^LRO(64.03,0)="WKLD LOG FILE^64.03^"
"RTN","ECXLABN",27,0)
 K ECDOCNPI,ECXAGC,ECXL1,ECXL2
"RTN","ECXLABN",28,0)
 Q
"RTN","ECXLABN",29,0)
 ;
"RTN","ECXLABN",30,0)
GET ;get data
"RTN","ECXLABN",31,0)
 N X,ECXSTN
"RTN","ECXLABN",32,0)
 S ECF=$S($P(EC,";",2)="DPT(":2,$P(EC,";",2)="LRT(67,":67,1:0) Q:'ECF
"RTN","ECXLABN",33,0)
 S ECIFN=$P(EC,";")
"RTN","ECXLABN",34,0)
 ;resolve ecloc
"RTN","ECXLABN",35,0)
 S ECXL1=+$P(ECLOC,";",1),ECXL2=$P(ECLOC,";",2)
"RTN","ECXLABN",36,0)
 I ECF=2 S ECLOC=$S(ECXL1>0:ECXL1,1:"") I ECXL2]"",ECXL2'="SC(" S ECLOC=""
"RTN","ECXLABN",37,0)
 I ECF=67 D  S ECLOC=ECXSTN
"RTN","ECXLABN",38,0)
 .S (ECXSTN,ECXAGC)=""
"RTN","ECXLABN",39,0)
 .I (ECXL2'="DIC(4,")!('$D(^DIC(4,ECXL1))) S ECXSTN="XXXXX",ECXAGC="XX" Q
"RTN","ECXLABN",40,0)
 .S ECXSTN=$P(^DIC(4,ECXL1,"99"),U,1),ECXAGC=$E($P(^(99),U,5),1,2)
"RTN","ECXLABN",41,0)
 .S:ECXSTN="" ECXSTN="ZZZZZ" S:ECXAGC="" ECXAGC="ZZ"
"RTN","ECXLABN",42,0)
 S ECDT=$P(EC1,U,13),ECD=$P(ECDT,"."),ECTM=$$ECXTIME^ECXUTL(ECDT)
"RTN","ECXLABN",43,0)
 S ECWKLD=$P(EC1,U,11),ECWK="" I $D(^LAM(ECWKLD,0)) S ECWK=$P(^(0),U,2)
"RTN","ECXLABN",44,0)
 S ECTREAT=$P(EC1,U,10)
"RTN","ECXLABN",45,0)
 I ECTREAT S ECTREAT=$P($G(^DIC(45.7,+ECTREAT,0)),U,2)
"RTN","ECXLABN",46,0)
 S (ECNA,ECSN,ECMN,ECPTTM,ECPTPR,ECCLAS)="",ECA=1,ECXERR=0
"RTN","ECXLABN",47,0)
 S (ECPTNPI,ECASPR,ECCLAS2,ECASNPI)=""
"RTN","ECXLABN",48,0)
 ;get the patient data if record is in file #2
"RTN","ECXLABN",49,0)
 I ECF=2 D PAT(ECIFN,$P(ECD,"."),.ECXERR)
"RTN","ECXLABN",50,0)
 Q:ECXERR
"RTN","ECXLABN",51,0)
 ;get patient data if record is in file #67
"RTN","ECXLABN",52,0)
 I ECF=67 S ECSN="000123456",ECNA="RFRL" I $D(^LRT(67,ECIFN,0)) D
"RTN","ECXLABN",53,0)
 .S ECXMPI="",EC0=^LRT(67,ECIFN,0),ECNA=$E($P($P(EC0,U),",")_"    ",1,4)
"RTN","ECXLABN",54,0)
 .S ECSN=$P(EC0,U,9) D
"RTN","ECXLABN",55,0)
 ..S ECNA=$TR(ECNA,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ECXLABN",56,0)
 ..I ECSN="" S ECSN="000123456" Q
"RTN","ECXLABN",57,0)
 ..S ECSN=$TR(ECSN," "),ECSN=$TR(ECSN,"-")
"RTN","ECXLABN",58,0)
 ..I ($L(ECSN)<9)!($L(ECSN)>10) S ECSN="000123456" Q
"RTN","ECXLABN",59,0)
 ..I $L(ECSN)=9,ECSN'?9N S ECSN="000123456" Q
"RTN","ECXLABN",60,0)
 ..I $L(ECSN)=10,ECSN'?9N1"P" S ECSN="000123456"
"RTN","ECXLABN",61,0)
 ;create extract record only if patient name and accession area exist
"RTN","ECXLABN",62,0)
 S (ECXDOM,ECXDSSD)=""
"RTN","ECXLABN",63,0)
 S X=$G(^ECX(727.831,+ECTREAT,0)) S:X'="" ECXDOM=$P(X,U,2),ECA=$P(X,U,3)
"RTN","ECXLABN",64,0)
 I ECNA]"" S ECT=$P(EC1,U,8),ECURG=$P(EC1,U,9),EC=+$P(EC1,U,7) I EC D
"RTN","ECXLABN",65,0)
 .S:ECF=2 ECACA=EC_U_$P($G(^LRO(68,EC,0)),U,11)
"RTN","ECXLABN",66,0)
 .S:ECF=67 ECACA=ECXAGC_U_$P($G(^LRO(68,EC,0)),U,11)
"RTN","ECXLABN",67,0)
 .D FILE
"RTN","ECXLABN",68,0)
 Q
"RTN","ECXLABN",69,0)
 ;
"RTN","ECXLABN",70,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;get/set patient data
"RTN","ECXLABN",71,0)
 N X,OK,PT
"RTN","ECXLABN",72,0)
 ;get data
"RTN","ECXLABN",73,0)
 I $D(^TMP($J,"ECXP",ECXDFN)) D
"RTN","ECXLABN",74,0)
 .S PT=^TMP($J,"ECXP",ECXDFN),ECNA=$P(PT,U)
"RTN","ECXLABN",75,0)
 .S ECSN=$P(PT,U,2),ECXMPI=$P(PT,U,3)
"RTN","ECXLABN",76,0)
 ;set data and save for later
"RTN","ECXLABN",77,0)
 I '$D(^TMP($J,"ECXP",ECXDFN)) D  Q:'OK
"RTN","ECXLABN",78,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECSD,"."),"1;",.ECXPAT)
"RTN","ECXLABN",79,0)
 .I 'OK S ECXERR=1 Q
"RTN","ECXLABN",80,0)
 .S ECNA=ECXPAT("NAME"),ECSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXLABN",81,0)
 .S ^TMP($J,"ECXP",ECXDFN)=ECNA_U_ECSN_U_ECXMPI
"RTN","ECXLABN",82,0)
 ;get date specific data
"RTN","ECXLABN",83,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE),ECA=$P(X,U),ECMN=$P(X,U,2)
"RTN","ECXLABN",84,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."),ECPROF)
"RTN","ECXLABN",85,0)
 S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXLABN",86,0)
 S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXLABN",87,0)
 Q
"RTN","ECXLABN",88,0)
 ;
"RTN","ECXLABN",89,0)
FILE ;file record
"RTN","ECXLABN",90,0)
 ;node0
"RTN","ECXLABN",91,0)
 ;facility^patient number^SSN (or equivalent)^name^in/out ECA^
"RTN","ECXLABN",92,0)
 ;day^accession area^abbreviation^test^urgency^treating spec^
"RTN","ECXLABN",93,0)
 ;location^provider and file^
"RTN","ECXLABN",94,0)
 ;movement number^file^time^workload code^primary care team^
"RTN","ECXLABN",95,0)
 ;primary care provider
"RTN","ECXLABN",96,0)
 ;node1
"RTN","ECXLABN",97,0)
 ;mpi^dss dept^provider npi^pc provider npi^pc prov person class^
"RTN","ECXLABN",98,0)
 ;assoc pc prov^assoc pc prov person class^assoc pc prov npi^
"RTN","ECXLABN",99,0)
 ;dom ECXDOM^extended op ECXEOI
"RTN","ECXLABN",100,0)
 N DA,DIK
"RTN","ECXLABN",101,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXLABN",102,0)
 S ECODE=EC7_U_EC23_U_ECINST_U_ECIFN_U_ECSN_U_ECNA_U_ECA_U
"RTN","ECXLABN",103,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECD,ECXYM)_U_ECACA_U_ECT_U_ECURG_U
"RTN","ECXLABN",104,0)
 S ECODE=ECODE_ECTREAT_U_ECLOC_U_ECDOC_U_ECMN_U_ECF_U_ECTM_U_ECWK_U
"RTN","ECXLABN",105,0)
 S ECODE=ECODE_ECPTTM_U_ECPTPR_U
"RTN","ECXLABN",106,0)
 ;(ECACA=acc area^abbreviation)
"RTN","ECXLABN",107,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECDOCNPI_U_ECPTNPI_U_ECCLAS_U_ECASPR_U
"RTN","ECXLABN",108,0)
 S ECODE1=ECODE1_ECCLAS2_U_ECASNPI_U_ECXDOM_U_$G(ECXEOI)
"RTN","ECXLABN",109,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXLABN",110,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXLABN",111,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXLABN",112,0)
 Q
"RTN","ECXLABN",113,0)
 ;
"RTN","ECXLABN",114,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXLABN",115,0)
 S ECHEAD="LAB"
"RTN","ECXLABN",116,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXLABN",117,0)
 Q
"RTN","ECXLABN",118,0)
 ;
"RTN","ECXLABN",119,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXLABN",120,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXLABR")
0^7^B11457441
"RTN","ECXLABR",1,0)
ECXLABR ;ALB/JAP,BIR/CML-LAR Extract for DSS (New Format - With LMIP Codes) ; [ 03/05/97  2:55 PM ]
"RTN","ECXLABR",2,0)
 ;;3.0;DSS EXTRACTS;**8,24,33**;Dec 22, 1997
"RTN","ECXLABR",3,0)
BEG ;entry point from option
"RTN","ECXLABR",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXLABR",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXLABR",6,0)
 Q
"RTN","ECXLABR",7,0)
 ;
"RTN","ECXLABR",8,0)
START ; entry when queued
"RTN","ECXLABR",9,0)
 N X,OK
"RTN","ECXLABR",10,0)
 K ^LAR(64.036) S LRSDT=ECSD,LREDT=ECED
"RTN","ECXLABR",11,0)
 D ^LRCAPDAR
"RTN","ECXLABR",12,0)
 ;quit if no completion date for API compile
"RTN","ECXLABR",13,0)
 I '$P($G(^LAR(64.036,1,2,1,0)),U,4) Q
"RTN","ECXLABR",14,0)
 ;build local array of workload codes for local lab tests linked to
"RTN","ECXLABR",15,0)
 ;DSS tests
"RTN","ECXLABR",16,0)
 K ECLOC S ECDTST=0
"RTN","ECXLABR",17,0)
 F  S ECDTST=$O(^ECX(727.2,1,1,ECDTST)) Q:('ECDTST)  S ECLTST=0 D
"RTN","ECXLABR",18,0)
 .F  S ECLTST=$O(^ECX(727.2,1,1,ECDTST,"LOC",ECLTST)) Q:'ECLTST  D
"RTN","ECXLABR",19,0)
 ..S ECLTIEN=+^ECX(727.2,1,1,ECDTST,"LOC",ECLTST,0)
"RTN","ECXLABR",20,0)
 ..S ECWCDA=+$G(^LAB(60,ECLTIEN,64))
"RTN","ECXLABR",21,0)
 ..I ECWCDA S ECWC=$P(^LAM(ECWCDA,0),U,2),ECLOC(ECWCDA)=ECWC
"RTN","ECXLABR",22,0)
 K ECLTIEN
"RTN","ECXLABR",23,0)
 ;process temporary lab file #64.036
"RTN","ECXLABR",24,0)
 S QFLG=0,ECLRN=1
"RTN","ECXLABR",25,0)
 F  S ECLRN=$O(^LAR(64.036,ECLRN)) Q:('ECLRN)!(QFLG)  D
"RTN","ECXLABR",26,0)
 .I $D(^LAR(64.036,ECLRN,0))  D
"RTN","ECXLABR",27,0)
 ..S EC1=^LAR(64.036,ECLRN,0),ECF=$P(EC1,U,2)
"RTN","ECXLABR",28,0)
 ..Q:ECF=""
"RTN","ECXLABR",29,0)
 ..S ECXDFN=$P(EC1,U,3)
"RTN","ECXLABR",30,0)
 ..S ECXTIME=$S($P(EC1,U,10)="":"000300",1:$P(EC1,U,10))
"RTN","ECXLABR",31,0)
 ..S ECXDATE=$P(EC1,U,6)_"."_$P(EC1,U,7)
"RTN","ECXLABR",32,0)
 ..S ECORDT=$$ECXDATE^ECXUTL($P(EC1,U,4),ECXYM)
"RTN","ECXLABR",33,0)
 ..S ECORTM=$$ECXTIME^ECXUTL($P(EC1,U,4)_"."_$P(EC1,U,5))
"RTN","ECXLABR",34,0)
 ..S ECREDT=$$ECXDATE^ECXUTL($P(EC1,U,6),ECXYM)
"RTN","ECXLABR",35,0)
 ..S ECRETM=$$ECXTIME^ECXUTL($P(EC1,U,6)_"."_$P(EC1,U,7))
"RTN","ECXLABR",36,0)
 ..S ECSCDT=$$ECXDATE^ECXUTL($P(EC1,U,9),ECXYM)
"RTN","ECXLABR",37,0)
 ..S ECSCTM=$$ECXTIME^ECXUTL($P(EC1,U,9)_"."_$P(EC1,U,10))
"RTN","ECXLABR",38,0)
 ..S (ECXDOM,ECXDSSD,ECXPNM,ECXSSN,ECXA,ECXMN,ECXTS)=""
"RTN","ECXLABR",39,0)
 ..I ECF=2 D  Q:'OK
"RTN","ECXLABR",40,0)
 ...K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,ECXDATE,"1;",.ECXPAT)
"RTN","ECXLABR",41,0)
 ...Q:'OK
"RTN","ECXLABR",42,0)
 ...S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXLABR",43,0)
 ...S X=$$INP^ECXUTL2(ECXDFN,ECXDATE),ECXA=$P(X,U)
"RTN","ECXLABR",44,0)
 ...S ECXMN=$P(X,U,2),ECXTS=$P(X,U,3),ECXDOM=$P(X,U,10)
"RTN","ECXLABR",45,0)
 ..;allow for referral patients in future??
"RTN","ECXLABR",46,0)
 ..;I ECF=67 S ECSN="000123456",ECNA="RFRL"
"RTN","ECXLABR",47,0)
 ..;loop on results multiple
"RTN","ECXLABR",48,0)
 ..S ECRES=0
"RTN","ECXLABR",49,0)
 ..F  S ECRES=$O(^LAR(64.036,ECLRN,1,ECRES)) Q:('ECRES)!(QFLG)  D
"RTN","ECXLABR",50,0)
 ...I $D(^LAR(64.036,ECLRN,1,ECRES,0)) D  Q:QFLG
"RTN","ECXLABR",51,0)
 ....S EC2=^LAR(64.036,ECLRN,1,ECRES,0),ECN=$P(EC2,U),ECRS=$P(EC2,U,2)
"RTN","ECXLABR",52,0)
 ....S ECHL=$E($P(EC2,U,3)),ECWC=+$P(EC2,U,4)
"RTN","ECXLABR",53,0)
 ....S ECWC=$S($D(ECLOC(ECWC)):ECLOC(ECWC),1:"")
"RTN","ECXLABR",54,0)
 ....I ECWC]"" D FILE
"RTN","ECXLABR",55,0)
 K ^LAR(64.036) S ^LAR(64.036,0)="LAB DSS LAR EXTRACT^64.036^"
"RTN","ECXLABR",56,0)
 Q
"RTN","ECXLABR",57,0)
 ;
"RTN","ECXLABR",58,0)
FILE ;file record
"RTN","ECXLABR",59,0)
 ;node0
"RTN","ECXLABR",60,0)
 ;facility (ECINST)^dfn (ECXDFN)^ssn (ECXSSN)^name(ECXPNM)^in/out (ECXA)^
"RTN","ECXLABR",61,0)
 ;day(ECSCDT)^
"RTN","ECXLABR",62,0)
 ;lab test code (ECN)^results (ECRS)^hi/lo indicator (ECHL)^
"RTN","ECXLABR",63,0)
 ;date ordered (ECORDT)^time ordered (ECORTM)^date ready (ECREDT)^
"RTN","ECXLABR",64,0)
 ;time ready (ECRETM)^
"RTN","ECXLABR",65,0)
 ;movement file # (ECXTS)^treating specialty (ECXTS)^
"RTN","ECXLABR",66,0)
 ;workload code(ECWC)^
"RTN","ECXLABR",67,0)
 ;node1
"RTN","ECXLABR",68,0)
 ;mpi (ECXMPI)^dss dept (ECXDSSD)^dom (ECXDOM)^time (ECSCTM)^
"RTN","ECXLABR",69,0)
 ;extended op (ECXEOP)
"RTN","ECXLABR",70,0)
 N DA,DIK
"RTN","ECXLABR",71,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXLABR",72,0)
 S ECODE=EC7_U_EC23_U_ECINST_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXLABR",73,0)
 S ECODE=ECODE_ECSCDT_U_$$RJ^XLFSTR(ECN,4,0)_U_ECRS_U_ECHL_U_ECORDT_U
"RTN","ECXLABR",74,0)
 S ECODE=ECODE_$$LJ^XLFSTR(ECORTM,6,0)_U
"RTN","ECXLABR",75,0)
 S ECODE=ECODE_ECREDT_U_$$LJ^XLFSTR(ECRETM,6,0)_U_ECXMN_U_ECXTS_U_ECWC_U
"RTN","ECXLABR",76,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXDOM_U_ECSCTM_U_$G(ECXEOP)
"RTN","ECXLABR",77,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXLABR",78,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXLABR",79,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXLABR",80,0)
 Q
"RTN","ECXLABR",81,0)
 ;
"RTN","ECXLABR",82,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXLABR",83,0)
 S ECHEAD="LAR"
"RTN","ECXLABR",84,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXLABR",85,0)
 Q
"RTN","ECXLABR",86,0)
 ;
"RTN","ECXLABR",87,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXLABR",88,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXMOV")
0^8^B8644402
"RTN","ECXMOV",1,0)
ECXMOV ;ALB/JAP,BIR/DMA,PTD-Transfer and Discharge Extract ; 10/29/96 13:36
"RTN","ECXMOV",2,0)
 ;;3.0;DSS EXTRACTS;**8,24,33**;Dec 22, 1997
"RTN","ECXMOV",3,0)
BEG ;entry point from option
"RTN","ECXMOV",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXMOV",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXMOV",6,0)
 Q
"RTN","ECXMOV",7,0)
 ;
"RTN","ECXMOV",8,0)
START ; start package specific extract
"RTN","ECXMOV",9,0)
 N W,WTO,X1,X2,X
"RTN","ECXMOV",10,0)
 K ECXDD D FIELD^DID(405,.19,,"SPECIFIER","ECXDD")
"RTN","ECXMOV",11,0)
 S ECPRO=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXMOV",12,0)
 S ECED=ECED+.3,QFLG=0
"RTN","ECXMOV",13,0)
 F ECM=2,3 S ECARG="ATT"_ECM,ECD=ECSD1 D  Q:QFLG
"RTN","ECXMOV",14,0)
 .F  S ECD=$O(^DGPM(ECARG,ECD)),ECDA=0 Q:('ECD)!(ECD>ECED)  D  Q:QFLG
"RTN","ECXMOV",15,0)
 ..F  S ECDA=$O(^DGPM(ECARG,ECD,ECDA)) Q:'ECDA  D  Q:QFLG
"RTN","ECXMOV",16,0)
 ...Q:'$D(^DGPM(ECDA,0))  S EC=^(0)
"RTN","ECXMOV",17,0)
 ...S ECXDFN=+$P(EC,U,3),ECMT=$P(EC,U,18),ECXDATE=$P(ECD,".")
"RTN","ECXMOV",18,0)
 ...K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,ECXDATE,"1;",.ECXPAT)
"RTN","ECXMOV",19,0)
 ...I 'OK K ECXPAT Q
"RTN","ECXMOV",20,0)
 ...S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXMOV",21,0)
 ...S ECTM=$$ECXTIME^ECXUTL(ECD)
"RTN","ECXMOV",22,0)
 ...S WTO=$P(EC,U,6),ECXWTO=$P($G(^DIC(42,+WTO,44)),U)
"RTN","ECXMOV",23,0)
 ...S X=$$INP^ECXUTL2(ECXDFN,ECXDATE),ECXA=$P(X,U),ECXDOM=$P(X,U,10)
"RTN","ECXMOV",24,0)
 ...;reset EC to admission movement
"RTN","ECXMOV",25,0)
 ...S ECCA=$P(EC,U,14),EC=^DGPM(ECCA,0),ECA=$P(EC,U)
"RTN","ECXMOV",26,0)
 ...;if date of previous xfer movement is greater than admit date,
"RTN","ECXMOV",27,0)
 ...;then reset EC to that previous xfer movement
"RTN","ECXMOV",28,0)
 ...S ECDL=9999999.9999999-ECD,ECDL=+$O(^DGPM("ATID2",ECXDFN,ECDL))
"RTN","ECXMOV",29,0)
 ...S ECDAL=+$O(^DGPM("ATID2",ECXDFN,ECDL,0))
"RTN","ECXMOV",30,0)
 ...I $D(^DGPM(ECDAL,0)),$P(^(0),U)>$P(EC,U) S EC=^(0)
"RTN","ECXMOV",31,0)
 ...;losing ward is either previous xfer ward or admission ward
"RTN","ECXMOV",32,0)
 ...S (ECXWRD,ECXFAC,ECXDSSD)=""
"RTN","ECXMOV",33,0)
 ...S W=$P(EC,U,6) I W'="" D
"RTN","ECXMOV",34,0)
 ....S ECXWRD=$P($G(^DIC(42,W,44)),U),ECXFAC=$P($G(^DIC(42,W,0)),U,11)
"RTN","ECXMOV",35,0)
 ....S ECXDSSD=$P($G(^ECX(727.4,W,0)),U,2)
"RTN","ECXMOV",36,0)
 ...S ECDI=$S(ECM=2:"",1:$$ECXDATE^ECXUTL(ECD,ECXYM))
"RTN","ECXMOV",37,0)
 ...S X1=ECD,X2=$P(EC,U) D ^%DTC S ECXLOS=X
"RTN","ECXMOV",38,0)
 ...D FILE
"RTN","ECXMOV",39,0)
 Q
"RTN","ECXMOV",40,0)
 ;
"RTN","ECXMOV",41,0)
FILE ;file the extract record
"RTN","ECXMOV",42,0)
 ;node0
"RTN","ECXMOV",43,0)
 ;fac ECXFAC^dfn ECXDFN^ssn ECXSSN^name ECXPNM^in/out ECXA^
"RTN","ECXMOV",44,0)
 ;day (ECA)^^adm date (ECD)^disc date ECDI^mov # ECDA^
"RTN","ECXMOV",45,0)
 ;type ECM^losing ward ECXWARD^treat spec ^los ECXLOS^^
"RTN","ECXMOV",46,0)
 ;movement type ECMT^mov time ECTM^gaining ward ECXWTO^
"RTN","ECXMOV",47,0)
 ;adm time (ECA)^^^
"RTN","ECXMOV",48,0)
 ;node1
"RTN","ECXMOV",49,0)
 ;mpi ECXMPI^dss dept ECXDSSD^dom ECXDOM^extended outpatient ECXEOI
"RTN","ECXMOV",50,0)
 N DA,DIK
"RTN","ECXMOV",51,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXMOV",52,0)
 S ECODE=EC7_U_EC23_U_ECXFAC_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_3_U
"RTN","ECXMOV",53,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECD,ECXYM)_U_U
"RTN","ECXMOV",54,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECA,ECXYM)_U_ECDI_U_ECDA_U_ECM_U_ECXWRD_U
"RTN","ECXMOV",55,0)
 S ECODE=ECODE_U_ECXLOS_U_U_ECMT_U_ECTM_U_ECXWTO_U
"RTN","ECXMOV",56,0)
 S ECODE=ECODE_$$ECXTIME^ECXUTL(ECA)_U_U_U
"RTN","ECXMOV",57,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXDOM_U_$G(ECXEOI)
"RTN","ECXMOV",58,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXMOV",59,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXMOV",60,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXMOV",61,0)
 Q
"RTN","ECXMOV",62,0)
 ;
"RTN","ECXMOV",63,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXMOV",64,0)
 S ECHEAD="MOV"
"RTN","ECXMOV",65,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXMOV",66,0)
 Q
"RTN","ECXMOV",67,0)
 ;
"RTN","ECXMOV",68,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXMOV",69,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXMTL")
0^9^B17838639
"RTN","ECXMTL",1,0)
ECXMTL ;ALB/JAP - DSS Mental Health Extract ; 05/26/1999
"RTN","ECXMTL",2,0)
 ;;3.0;DSS EXTRACTS;**24,30,33**;Dec 22, 1997
"RTN","ECXMTL",3,0)
 ;
"RTN","ECXMTL",4,0)
BEG ;entry point from option
"RTN","ECXMTL",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXMTL",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXMTL",7,0)
 Q
"RTN","ECXMTL",8,0)
 ;
"RTN","ECXMTL",9,0)
START ;entry point from tasked job
"RTN","ECXMTL",10,0)
 S QFLG=0
"RTN","ECXMTL",11,0)
 ;get first record #
"RTN","ECXMTL",12,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1)
"RTN","ECXMTL",13,0)
 ;call mh/dss api for extract record creation
"RTN","ECXMTL",14,0)
 ;variables ecfile,ecxym,ecinst,ecsd,eced passed in by taskmanager
"RTN","ECXMTL",15,0)
 S ECXSEQ=EC7,ECXECX=$P(EC23,U,2),ECXERR=0
"RTN","ECXMTL",16,0)
 ;call mh api to create extract records
"RTN","ECXMTL",17,0)
 S X="YSDSS" X ^%ZOSF("TEST") I '$T S QFLG=1 Q
"RTN","ECXMTL",18,0)
 D UPD^YSDSS(ECFILE,.ECXSEQ,ECXYM,ECXECX,ECINST,ECSD,ECED,.ECXERR)
"RTN","ECXMTL",19,0)
 Q:ECXERR
"RTN","ECXMTL",20,0)
 Q:QFLG
"RTN","ECXMTL",21,0)
 ;if no error, continue
"RTN","ECXMTL",22,0)
 D UPDATE
"RTN","ECXMTL",23,0)
 Q
"RTN","ECXMTL",24,0)
 ;
"RTN","ECXMTL",25,0)
UPDATE ;add non-mh data to each record created by mh api
"RTN","ECXMTL",26,0)
 N JJ
"RTN","ECXMTL",27,0)
 S EC7=EC7+1
"RTN","ECXMTL",28,0)
 F JJ=EC7:1:ECXSEQ Q:QFLG  D
"RTN","ECXMTL",29,0)
 .Q:'$D(^ECX(ECFILE,JJ,0))
"RTN","ECXMTL",30,0)
 .S ECXDFN=$P(^ECX(ECFILE,JJ,0),U,5),ECXDATE=$P(^ECX(ECFILE,JJ,0),U,9),ECXPRV=$P(^ECX(ECFILE,JJ,0),U,18)
"RTN","ECXMTL",31,0)
 .S ECXSCNUM=$P(^ECX(ECFILE,JJ,0),U,23),ECXSCNAM=$P(^ECX(ECFILE,JJ,0),U,24)
"RTN","ECXMTL",32,0)
 .D PAT(ECXDFN,ECXDATE)
"RTN","ECXMTL",33,0)
 .S (ECXPRCLS,ECXPRNPI,ECXDIV)="" I ECXPRV D PROV(.ECXPRV,ECXDATE)
"RTN","ECXMTL",34,0)
 .S ECXDSSI=""
"RTN","ECXMTL",35,0)
 .S ECXDATE=$$ECXDATE^ECXUTL(ECXDATE,ECXYM)
"RTN","ECXMTL",36,0)
 .;adjust scale name & scale number
"RTN","ECXMTL",37,0)
 .S ECXSCNAM=$E(ECXSCNAM,1,10)
"RTN","ECXMTL",38,0)
 .I ECXSCNUM]"",ECXSCNUM'=+ECXSCNUM S ECXSCNUM=+$E(ECXSCNUM,2,99)
"RTN","ECXMTL",39,0)
 .D FILE
"RTN","ECXMTL",40,0)
 Q
"RTN","ECXMTL",41,0)
 ;
"RTN","ECXMTL",42,0)
PAT(ECXDFN,ECXDATE) ;determine in/outpatient status, demographics, primary care
"RTN","ECXMTL",43,0)
 N OK
"RTN","ECXMTL",44,0)
 S (ECXPNM,ECXSSN,ECXMPI)=""
"RTN","ECXMTL",45,0)
 K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,ECXDATE,"1;3;5;",.ECXPAT)
"RTN","ECXMTL",46,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXMTL",47,0)
 ;2001 changes
"RTN","ECXMTL",48,0)
 S ECXPHI=$G(ECXPAT("PHI")),ECXPOS=ECXPAT("POS")
"RTN","ECXMTL",49,0)
 I $$ENROLLM^ECXUTL2(ECXDFN)
"RTN","ECXMTL",50,0)
 ;get primary care data
"RTN","ECXMTL",51,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,ECXDATE),ECPTTM=$P(X,U)
"RTN","ECXMTL",52,0)
 S ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXMTL",53,0)
 S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXMTL",54,0)
 ;get inpatient data
"RTN","ECXMTL",55,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE),ECXDOM=$P(X,U,10)
"RTN","ECXMTL",56,0)
 S ECXA=$P(X,U),ECXADMDT=$P($P(X,U,4),"."),ECXDCDT=$P($P(X,U,6),".")
"RTN","ECXMTL",57,0)
 S ECXWPRV=$P(X,U,7),ECXATT=$P(X,U,8)
"RTN","ECXMTL",58,0)
 I ECXADMDT S ECXADMDT=$$ECXDATE^ECXUTL(ECXADMDT,ECXYM)
"RTN","ECXMTL",59,0)
 I ECXDCDT S ECXDCDT=$$ECXDATE^ECXUTL(ECXDCDT,ECXYM)
"RTN","ECXMTL",60,0)
 Q
"RTN","ECXMTL",61,0)
 ;
"RTN","ECXMTL",62,0)
PROV(ECXPRV,ECXDATE) ;get provider data
"RTN","ECXMTL",63,0)
 N INST,DGIEN,ARR,DIC,DR,DA,DIQ
"RTN","ECXMTL",64,0)
 S ECXPRCLS=$$PRVCLASS^ECXUTL(ECXPRV,ECXDATE)
"RTN","ECXMTL",65,0)
 S ECXPRNPI=""
"RTN","ECXMTL",66,0)
 ;get division identifier using provider
"RTN","ECXMTL",67,0)
 S ECXDIV=""
"RTN","ECXMTL",68,0)
 S IEN=0 F  D  Q:'IEN  Q:'INST  Q:ECXDIV
"RTN","ECXMTL",69,0)
 .;get pointer to file #4 from provider record
"RTN","ECXMTL",70,0)
 .I '$D(^VA(200,ECXPRV,0)) Q
"RTN","ECXMTL",71,0)
 .S IEN=$O(^VA(200,ECXPRV,2,IEN))
"RTN","ECXMTL",72,0)
 .Q:'IEN
"RTN","ECXMTL",73,0)
 .S DIC="^VA(200,",DR="16",DA=ECXPRV
"RTN","ECXMTL",74,0)
 .S DR(200.02)=".01",DA(200.02)=IEN,DIQ="ARR",DIQ(0)="I"
"RTN","ECXMTL",75,0)
 .D EN^DIQ1
"RTN","ECXMTL",76,0)
 .S INST=$G(ARR(200.02,IEN,.01,"I"))
"RTN","ECXMTL",77,0)
 .Q:'INST
"RTN","ECXMTL",78,0)
 .;get medical center division
"RTN","ECXMTL",79,0)
 .S DGIEN=$O(^DG(40.8,"AD",INST,0)) I DGIEN D
"RTN","ECXMTL",80,0)
 ..S ECXDIV=$P($G(^ECX(727.3,DGIEN,0)),U,2)
"RTN","ECXMTL",81,0)
 S ECXPRV="2"_ECXPRV
"RTN","ECXMTL",82,0)
 Q
"RTN","ECXMTL",83,0)
 ;
"RTN","ECXMTL",84,0)
FILE ;file record in #727.812
"RTN","ECXMTL",85,0)
 ;node0
"RTN","ECXMTL",86,0)
 ;facility^dfn^ssn ECXSSN^name ECXPNM^i/o status ECXA^
"RTN","ECXMTL",87,0)
 ;day ECXDATE^division ECXDIV^admit date ECXADMDT^
"RTN","ECXMTL",88,0)
 ;d/c date ECXDCDT^dss id ECXDSSI^pc team ECPTTM^pc provider ECPTPR^
"RTN","ECXMTL",89,0)
 ;pc provider npi ECPTNPI^pc prov person class ECCLAS^
"RTN","ECXMTL",90,0)
 ;provider ECXPRV^provider npi ECXPRNPI^prov person class ECXPRCLS^
"RTN","ECXMTL",91,0)
 ;test name ECXSCNAM(?)^test ien ECXSCNUM(?)^scale number^scale name^test score^scale score^
"RTN","ECXMTL",92,0)
 ;attend phys^ward provider
"RTN","ECXMTL",93,0)
 ;node1
"RTN","ECXMTL",94,0)
 ;mpi^assoc pc provider^assoc pc provider npi^
"RTN","ECXMTL",95,0)
 ;assoc pc prov person class^asi class^asi special
"RTN","ECXMTL",96,0)
 N DA,DIK,STR
"RTN","ECXMTL",97,0)
 I $P(^ECX(ECFILE,JJ,0),U,21)="ASI" S $P(^ECX(ECFILE,JJ,1),U,7)=ECXDATE
"RTN","ECXMTL",98,0)
 S $P(^ECX(ECFILE,JJ,0),U,6,9)=ECXSSN_U_ECXPNM_U_ECXA_U_ECXDATE
"RTN","ECXMTL",99,0)
 S STR=ECXDIV_U_ECXADMDT_U_ECXDCDT_U_ECXDSSI_U_ECPTTM_U_ECPTPR_U
"RTN","ECXMTL",100,0)
 S STR=STR_ECPTNPI_U_ECCLAS,$P(^ECX(ECFILE,JJ,0),U,10,17)=STR,STR=""
"RTN","ECXMTL",101,0)
 S $P(^ECX(ECFILE,JJ,0),U,18,20)=ECXPRV_U_ECXPRNPI_U_ECXPRCLS
"RTN","ECXMTL",102,0)
 S $P(^ECX(ECFILE,JJ,0),U,23,24)=ECXSCNUM_U_ECXSCNAM
"RTN","ECXMTL",103,0)
 S $P(^ECX(ECFILE,JJ,0),U,27,29)=ECXATT_U_ECXWPRV_U
"RTN","ECXMTL",104,0)
 I '$D(^ECX(ECFILE,JJ,1)) S ^ECX(727.812,JJ,1)="^^^^^"
"RTN","ECXMTL",105,0)
 S $P(^ECX(ECFILE,JJ,1),U,1,4)=ECXMPI_U_ECASPR_U_ECASNPI_U_ECCLAS2
"RTN","ECXMTL",106,0)
 S STR=ECXPHI_U_ECXDOM_U_ECXCAT_U_ECXSTAT_U_ECXPRIOR_U_ECXPOS_U
"RTN","ECXMTL",107,0)
 S STR=STR_$G(ECXEOP)
"RTN","ECXMTL",108,0)
 S $P(^ECX(ECFILE,JJ,1),U,8,14)=STR
"RTN","ECXMTL",109,0)
 S DA=JJ,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXMTL",110,0)
 S ECRN=ECRN+1
"RTN","ECXMTL",111,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXMTL",112,0)
 Q
"RTN","ECXMTL",113,0)
 ;
"RTN","ECXMTL",114,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXMTL",115,0)
 S ECHEAD="MTL"
"RTN","ECXMTL",116,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXMTL",117,0)
 Q
"RTN","ECXMTL",118,0)
 ;
"RTN","ECXMTL",119,0)
QUE ;Entry point for the background requeuing handled by ECXTAUTO.
"RTN","ECXMTL",120,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL
"RTN","ECXMTL",121,0)
 Q
"RTN","ECXNURS")
0^10^B33231061
"RTN","ECXNURS",1,0)
ECXNURS ;ALB/JAP,BIR/DMA,PTD-Nursing Extract for DSS ; 11/01/96 10:16
"RTN","ECXNURS",2,0)
 ;;3.0;DSS EXTRACTS;**8,14,22,24,33**;Dec 22, 1997
"RTN","ECXNURS",3,0)
BEG ;entry point from option
"RTN","ECXNURS",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXNURS",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXNURS",6,0)
 Q
"RTN","ECXNURS",7,0)
 ;
"RTN","ECXNURS",8,0)
START ;entry when queued
"RTN","ECXNURS",9,0)
 ;store in ^tmp by patient and date/time
"RTN","ECXNURS",10,0)
 N CNT,INP,FIRSTDAY,LASTDAY
"RTN","ECXNURS",11,0)
 S QFLG=0,CNT=0
"RTN","ECXNURS",12,0)
 K ^TMP("ECX",$J)
"RTN","ECXNURS",13,0)
 S FIRSTDAY=$P(ECSD1,".")+1,LASTDAY=$P(ECED,".")
"RTN","ECXNURS",14,0)
 S ECED=ECED+.3,ECD=ECSD1
"RTN","ECXNURS",15,0)
 F  S ECD=$O(^NURSA(214.6,"B",ECD)),ECDA=0 Q:'ECD  Q:ECD>ECED  D  Q:QFLG
"RTN","ECXNURS",16,0)
 .F  S ECDA=$O(^NURSA(214.6,"B",ECD,ECDA)) Q:'ECDA  D  Q:QFLG
"RTN","ECXNURS",17,0)
 ..K LOC S DIC=214.6,DIQ(0)="I",DA=ECDA,DIQ="LOC",DR=".01;.02;1;3;4;6;7;8"
"RTN","ECXNURS",18,0)
 ..D EN^DIQ1 K DIQ,DIC,DA,DR
"RTN","ECXNURS",19,0)
 ..F J=.01,.02,1,3,4,6,7,8 S EC(J)=LOC(214.6,ECDA,J,"I")
"RTN","ECXNURS",20,0)
 ..Q:EC(8)'=""
"RTN","ECXNURS",21,0)
 ..S INP=$$INP^ECXUTL2(EC(.02),EC(.01))
"RTN","ECXNURS",22,0)
 ..Q:+INP=1
"RTN","ECXNURS",23,0)
 ..; retain latest classification per day per patient
"RTN","ECXNURS",24,0)
 ..S ^TMP("ECX",$J,EC(.02),$P(EC(.01),"."))=EC(1)_U_EC(3)_U_EC(4)_U_EC(6)_U_EC(7)_U_$P(INP,U,1,6)_U_EC(.01)_U_$P(INP,U,10)
"RTN","ECXNURS",25,0)
 ..K LOC(214.6,ECDA),EC,INP
"RTN","ECXNURS",26,0)
 ..S CNT=CNT+1
"RTN","ECXNURS",27,0)
 ..I $D(ZTQUEUED),(CNT>499),'(CNT#500),$$S^%ZTLOAD S QFLG=1
"RTN","ECXNURS",28,0)
 I QFLG K ^TMP("ECX",$J) Q
"RTN","ECXNURS",29,0)
 D RESOLVE
"RTN","ECXNURS",30,0)
 D FILE
"RTN","ECXNURS",31,0)
 K ^TMP("ECX",$J)
"RTN","ECXNURS",32,0)
 ;
"RTN","ECXNURS",33,0)
RESOLVE ;process ^tmp by patient
"RTN","ECXNURS",34,0)
 N DFN,TM,ECD,ECDPREV,ECDNEW,OLDWARD,NEWWARD,NEWDT
"RTN","ECXNURS",35,0)
 S DFN=0
"RTN","ECXNURS",36,0)
 F  S DFN=$O(^TMP("ECX",$J,DFN)) S ECD=0 Q:'DFN  D
"RTN","ECXNURS",37,0)
 .;remove any classifications for day of discharge
"RTN","ECXNURS",38,0)
 .F  S ECD=$O(^TMP("ECX",$J,DFN,ECD)) Q:'ECD  D
"RTN","ECXNURS",39,0)
 ..I ECD=$P($P(^TMP("ECX",$J,DFN,ECD),U,11),".") K ^TMP("ECX",$J,DFN,ECD)
"RTN","ECXNURS",40,0)
 .;proceed only if ^tmp remains
"RTN","ECXNURS",41,0)
 .Q:'$D(^TMP("ECX",$J,DFN))
"RTN","ECXNURS",42,0)
 .;proceed with fill-in only if processing more than 3 days' data
"RTN","ECXNURS",43,0)
 .Q:LASTDAY<(FIRSTDAY+2)
"RTN","ECXNURS",44,0)
 .;fill-in records for any missing days per inpatient episode
"RTN","ECXNURS",45,0)
 .K TM S ECD=0
"RTN","ECXNURS",46,0)
 .F  S ECD=$O(^TMP("ECX",$J,DFN,ECD)) Q:'ECD   D
"RTN","ECXNURS",47,0)
 ..S TM(ECD)=$P(^TMP("ECX",$J,DFN,ECD),U,9)
"RTN","ECXNURS",48,0)
 .S (ECD,ECDPREV)=0
"RTN","ECXNURS",49,0)
 .F  S ECD=$O(TM(ECD)) Q:'ECD  D
"RTN","ECXNURS",50,0)
 ..I ECDPREV=0 S ECDPREV=ECD Q
"RTN","ECXNURS",51,0)
 ..I (ECD-ECDPREV)>1,+TM(ECD)=+TM(ECDPREV) D
"RTN","ECXNURS",52,0)
 ...F ECDNEW=ECDPREV+1:1:ECD-1 S ^TMP("ECX",$J,DFN,ECDNEW)=^TMP("ECX",$J,DFN,ECDPREV) D
"RTN","ECXNURS",53,0)
 ....S NEWWARD="",OLDWARD=$P(^TMP("ECX",$J,DFN,ECDPREV),U,10)
"RTN","ECXNURS",54,0)
 ....D NEWWARD(ECDNEW,OLDWARD,.NEWWARD)
"RTN","ECXNURS",55,0)
 ....Q:'NEWWARD
"RTN","ECXNURS",56,0)
 ....S $P(^TMP("ECX",$J,DFN,ECDNEW),U,4)=$P(NEWWARD,U,1)
"RTN","ECXNURS",57,0)
 ....S $P(^TMP("ECX",$J,DFN,ECDNEW),U,5)=$P(NEWWARD,U,2)
"RTN","ECXNURS",58,0)
 ..S ECDPREV=ECD
"RTN","ECXNURS",59,0)
 .;fill-in to end of extract date range
"RTN","ECXNURS",60,0)
 .K TM S ECD=0
"RTN","ECXNURS",61,0)
 .F  S ECD=$O(^TMP("ECX",$J,DFN,ECD)) Q:'ECD   D
"RTN","ECXNURS",62,0)
 ..S TM(ECD)=$P(^TMP("ECX",$J,DFN,ECD),U,11)
"RTN","ECXNURS",63,0)
 .S ECD=$O(TM(""),-1),DCDT=+TM(ECD)
"RTN","ECXNURS",64,0)
 .;if last day in date range is after last classification date
"RTN","ECXNURS",65,0)
 .I LASTDAY>ECD D
"RTN","ECXNURS",66,0)
 ..;if there is no d/c date
"RTN","ECXNURS",67,0)
 ..I DCDT=0 F ECDNEW=ECD+1:1:LASTDAY D  Q
"RTN","ECXNURS",68,0)
 ...I '$D(^TMP("ECX",$J,DFN,ECDNEW)) S ^TMP("ECX",$J,DFN,ECDNEW)=^TMP("ECX",$J,DFN,ECD)
"RTN","ECXNURS",69,0)
 ...S NEWWARD="",OLDWARD=$P(^TMP("ECX",$J,DFN,ECD),U,10)
"RTN","ECXNURS",70,0)
 ...D NEWWARD(ECDNEW,OLDWARD,.NEWWARD)
"RTN","ECXNURS",71,0)
 ...Q:'NEWWARD
"RTN","ECXNURS",72,0)
 ...S $P(^TMP("ECX",$J,DFN,ECDNEW),U,4)=$P(NEWWARD,U,1)
"RTN","ECXNURS",73,0)
 ...S $P(^TMP("ECX",$J,DFN,ECDNEW),U,5)=$P(NEWWARD,U,2)
"RTN","ECXNURS",74,0)
 ..;if d/c date is after last classification date
"RTN","ECXNURS",75,0)
 ..I $P(DCDT,".")>ECD S NEWDT=$S($P(DCDT,".")>LASTDAY:LASTDAY,1:($P(DCDT,".")-1)) F ECDNEW=ECD+1:1:NEWDT D  Q
"RTN","ECXNURS",76,0)
 ...I '$D(^TMP("ECX",$J,DFN,ECDNEW)) S ^TMP("ECX",$J,DFN,ECDNEW)=^TMP("ECX",$J,DFN,ECD)
"RTN","ECXNURS",77,0)
 ...S NEWWARD="",OLDWARD=$P(^TMP("ECX",$J,DFN,ECD),U,10)
"RTN","ECXNURS",78,0)
 ...D NEWWARD(ECDNEW,OLDWARD,.NEWWARD)
"RTN","ECXNURS",79,0)
 ...Q:'NEWWARD
"RTN","ECXNURS",80,0)
 ...S $P(^TMP("ECX",$J,DFN,ECDNEW),U,4)=$P(NEWWARD,U,1)
"RTN","ECXNURS",81,0)
 ...S $P(^TMP("ECX",$J,DFN,ECDNEW),U,5)=$P(NEWWARD,U,2)
"RTN","ECXNURS",82,0)
 Q
"RTN","ECXNURS",83,0)
 ;
"RTN","ECXNURS",84,0)
NEWWARD(ECDNEW,OLDWARD,NEWWARD) ;get new nursing location
"RTN","ECXNURS",85,0)
 ; input  ECDNEW  = date of care
"RTN","ECXNURS",86,0)
 ;        OLDWARD = pointer to file #42, previous mas ward
"RTN","ECXNURS",87,0)
 ;        NEWWARD = null
"RTN","ECXNURS",88,0)
 ; output NEWWARD = new nursing location^new nursing bedsection
"RTN","ECXNURS",89,0)
 ;                  OR "^", if new ward same as previous ward or
"RTN","ECXNURS",90,0)
 ;could not be resolved
"RTN","ECXNURS",91,0)
 ;if the new ward is mapped to multiple nursing locations, get the
"RTN","ECXNURS",92,0)
 ;first active location
"RTN","ECXNURS",93,0)
 N NEWW,NEWLOC,NEWSEC,OUT,DA,DR,DIC,DIQ,LOC,INP
"RTN","ECXNURS",94,0)
 S INP=$$INP^ECXUTL2(DFN,ECDNEW)
"RTN","ECXNURS",95,0)
 S NEWWARD=$P(INP,U,5)
"RTN","ECXNURS",96,0)
 I NEWWARD=OLDWARD S NEWWARD=""
"RTN","ECXNURS",97,0)
 Q:'NEWWARD
"RTN","ECXNURS",98,0)
 S (NEWW,NEWW2,NEWLOC,NEWSEC)="",OUT=0
"RTN","ECXNURS",99,0)
 F  S NEWW=$O(^NURSF(211.4,"C",NEWWARD,NEWW)) Q:OUT  Q:+NEWW<1  D
"RTN","ECXNURS",100,0)
 .S DIC=211.4,DIQ(0)="I",DIQ="LOC",DA=NEWW,DR="1;1.5"
"RTN","ECXNURS",101,0)
 .D EN^DIQ1 K DIQ,DIC,DA,DR
"RTN","ECXNURS",102,0)
 .Q:LOC(211.4,NEWW,1,"I")="I"
"RTN","ECXNURS",103,0)
 .Q:LOC(211.4,NEWW,1.5,"I")="I"
"RTN","ECXNURS",104,0)
 .S JJ=$O(^NURSF(211.4,"C",NEWWARD,NEWW,""))
"RTN","ECXNURS",105,0)
 .S DIC=211.4,DIQ(0)="I",DIQ="LOC",DA=NEWW,DA(211.41)=JJ,DR="2",DR(211.41)=".01;1"
"RTN","ECXNURS",106,0)
 .D EN^DIQ1 K DIQ,DIC,DA,DR
"RTN","ECXNURS",107,0)
 .Q:NEWWARD'=LOC(211.41,JJ,.01,"I")
"RTN","ECXNURS",108,0)
 .S NEWLOC=NEWW,NEWSEC=LOC(211.41,JJ,1,"I"),OUT=1
"RTN","ECXNURS",109,0)
 I (NEWLOC="")!(NEWSEC="") S NEWWARD="" Q
"RTN","ECXNURS",110,0)
 S NEWWARD=NEWLOC_U_NEWSEC
"RTN","ECXNURS",111,0)
 Q
"RTN","ECXNURS",112,0)
 ;
"RTN","ECXNURS",113,0)
FILE ;file extract records
"RTN","ECXNURS",114,0)
 ;node0
"RTN","ECXNURS",115,0)
 ;inst^dfn^ssn^name^in/out (ECXA)^date^acuity level(category)^entered by^
"RTN","ECXNURS",116,0)
 ;classifier^nurs location^nursing bed section^mov #^treat spec^adm date^
"RTN","ECXNURS",117,0)
 ;adm time
"RTN","ECXNURS",118,0)
 ;node1
"RTN","ECXNURS",119,0)
 ;mpi^dss dept^dom (ECXDOM)^extended op (ECXEOI)
"RTN","ECXNURS",120,0)
 N DA,DIK
"RTN","ECXNURS",121,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1)
"RTN","ECXNURS",122,0)
 S DFN=0,QFLG=0
"RTN","ECXNURS",123,0)
 F  S DFN=$O(^TMP("ECX",$J,DFN)) Q:'DFN  D  Q:QFLG
"RTN","ECXNURS",124,0)
 .S ECXDSSD=""
"RTN","ECXNURS",125,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(DFN,DT,"1;",.ECXPAT)
"RTN","ECXNURS",126,0)
 .Q:'OK
"RTN","ECXNURS",127,0)
 .S ECXDFN=DFN,ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN")
"RTN","ECXNURS",128,0)
 .S ECXMPI=ECXPAT("MPI"),ECD=0
"RTN","ECXNURS",129,0)
 .;file patient's classification data
"RTN","ECXNURS",130,0)
 .F  S ECD=$O(^TMP("ECX",$J,DFN,ECD)) Q:'ECD   D
"RTN","ECXNURS",131,0)
 ..S ECC=$P(^TMP("ECX",$J,DFN,ECD),U,1,5),ECMN=$P(^(ECD),U,7)
"RTN","ECXNURS",132,0)
 ..S ECTS=$P(^(ECD),U,8),ECA=$P(^(ECD),U,9),ECXDOM=$P(^(ECD),U,13)
"RTN","ECXNURS",133,0)
 ..S ECXACU=$P(ECC,U,1),ECXEB=$P(ECC,U,2),ECXCLS=$P(ECC,U,3)
"RTN","ECXNURS",134,0)
 ..S ECXNLOC=$P(ECC,U,4),ECXNBED=$P(ECC,U,5)
"RTN","ECXNURS",135,0)
 ..S EC7=EC7+1
"RTN","ECXNURS",136,0)
 ..S ECODE=EC7_U_EC23_U_ECINST_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_"3"_U
"RTN","ECXNURS",137,0)
 ..S ECODE=ECODE_$$ECXDATE^ECXUTL(ECD,ECXYM)_U
"RTN","ECXNURS",138,0)
 ..S ECODE=ECODE_ECXACU_U_ECXEB_U_ECXCLS_U_ECXNLOC_U_ECXNBED_U
"RTN","ECXNURS",139,0)
 ..S ECODE=ECODE_ECMN_U_ECTS_U_$$ECXDATE^ECXUTL(ECA,ECXYM)_U
"RTN","ECXNURS",140,0)
 ..S ECODE=ECODE_$$ECXTIME^ECXUTL(ECA)_U
"RTN","ECXNURS",141,0)
 ..S ECODE1=ECXMPI_U_ECXDSSD_U_ECXDOM_U_$G(ECXEOP)
"RTN","ECXNURS",142,0)
 ..S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXNURS",143,0)
 ..S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXNURS",144,0)
 ..I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXNURS",145,0)
 Q
"RTN","ECXNURS",146,0)
 ;
"RTN","ECXNURS",147,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXNURS",148,0)
 S ECHEAD="NUR"
"RTN","ECXNURS",149,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXNURS",150,0)
 Q
"RTN","ECXNURS",151,0)
 ;
"RTN","ECXNURS",152,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXNURS",153,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXOPRX")
0^11^B42063969
"RTN","ECXOPRX",1,0)
ECXOPRX ;ALB/JAP,BIR/DMA,CML,PTD-Prescription Extract for DSS ; [ 03/26/97  2:09 PM ]
"RTN","ECXOPRX",2,0)
 ;;3.0;DSS EXTRACTS;**10,11,8,13,24,30,33**;Dec 22, 1997
"RTN","ECXOPRX",3,0)
 ;
"RTN","ECXOPRX",4,0)
BEG ;entry point from option
"RTN","ECXOPRX",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXOPRX",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXOPRX",7,0)
 Q
"RTN","ECXOPRX",8,0)
START ;entry when queued
"RTN","ECXOPRX",9,0)
 N X,DA,DIC,DIQ,DR
"RTN","ECXOPRX",10,0)
 S QFLG=0
"RTN","ECXOPRX",11,0)
 I '$D(ECINST) D
"RTN","ECXOPRX",12,0)
 .S ECINST=+$P(^ECX(728,1,0),U) K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXOPRX",13,0)
 .D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXOPRX",14,0)
 ;before V6
"RTN","ECXOPRX",15,0)
 S ECPROF=6
"RTN","ECXOPRX",16,0)
 S ECD=$O(^PSRX("AL",0)) I ECD,ECD<ECSD1 G V6
"RTN","ECXOPRX",17,0)
 S ECED=ECED+.3,ECREF=1,ECD=ECSD1
"RTN","ECXOPRX",18,0)
 F  S ECD=$O(^PSRX("AD",ECD)),ECRX=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECRX=$O(^PSRX("AD",ECD,ECRX)),ECRFL="" Q:'ECRX  F  S ECRFL=$O(^PSRX("AD",ECD,ECRX,ECRFL)) Q:ECRFL=""  D STUFF Q:QFLG
"RTN","ECXOPRX",19,0)
 Q
"RTN","ECXOPRX",20,0)
 ;
"RTN","ECXOPRX",21,0)
V6 ;version 6 or better
"RTN","ECXOPRX",22,0)
 K ^TMP($J,"ECXP")
"RTN","ECXOPRX",23,0)
 S ECPROF=2
"RTN","ECXOPRX",24,0)
 S ECED=ECED+.3,ECREF=1,ECD=ECSD1
"RTN","ECXOPRX",25,0)
 F  S ECD=$O(^PSRX("AL",ECD)),ECRX=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECRX=$O(^PSRX("AL",ECD,ECRX)),ECRFL="" Q:'ECRX  F  S ECRFL=$O(^PSRX("AL",ECD,ECRX,ECRFL)) Q:ECRFL=""  D STUFF Q:QFLG
"RTN","ECXOPRX",26,0)
 Q:QFLG
"RTN","ECXOPRX",27,0)
 S ECREF="P",ECD=ECSD1
"RTN","ECXOPRX",28,0)
 F  S ECD=$O(^PSRX("AM",ECD)),ECRX=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECRX=$O(^PSRX("AM",ECD,ECRX)),ECRFL="" Q:'ECRX  F  S ECRFL=$O(^PSRX("AM",ECD,ECRX,ECRFL)) Q:ECRFL=""  D STUFF Q:QFLG
"RTN","ECXOPRX",29,0)
 K ^TMP($J,"ECXP")
"RTN","ECXOPRX",30,0)
 Q
"RTN","ECXOPRX",31,0)
 ;
"RTN","ECXOPRX",32,0)
STUFF ;get data
"RTN","ECXOPRX",33,0)
 S ECDATA=^PSRX(ECRX,0)
"RTN","ECXOPRX",34,0)
 I ECRFL S ECDATA1=$G(^PSRX(ECRX,ECREF,ECRFL,0)) I ECDATA1="" Q
"RTN","ECXOPRX",35,0)
 ;ecref set to 1 in extract+5 and v6+1 and to "P" in v6+2
"RTN","ECXOPRX",36,0)
 ;refill nodes and partial nodes are identical in layout
"RTN","ECXOPRX",37,0)
 ;fills (ie., ecrfl=0) and refills (ie.,ecrfl>0) from the "AL" cross-reference, partials from the "AM"
"RTN","ECXOPRX",38,0)
 S ECXDATE=ECD
"RTN","ECXOPRX",39,0)
 S ECXPROV=$P(ECDATA,U,4),ECDRG=+$P(ECDATA,U,6)
"RTN","ECXOPRX",40,0)
 ;get patient specific data
"RTN","ECXOPRX",41,0)
 S ECXDFN=$P(ECDATA,U,2),ECXERR=0
"RTN","ECXOPRX",42,0)
 D PAT(ECXDFN,ECXDATE,.ECXERR)
"RTN","ECXOPRX",43,0)
 Q:ECXERR
"RTN","ECXOPRX",44,0)
 I 'ECRFL D
"RTN","ECXOPRX",45,0)
 .S ECMW=$P(ECDATA,U,11),ECQTY=+$P(ECDATA,U,7),ECXDIV=$S($D(^PSRX(ECRX,2)):$P(^(2),U,9),1:1)
"RTN","ECXOPRX",46,0)
 .S ECPRC=+$P(ECDATA,U,17),ECOPAY=$P($G(^PSRX(ECRX,"IB")),U,2)]""
"RTN","ECXOPRX",47,0)
 .S ECXPROV="" S:$P(ECDATA,U,4)]"" ECXPROV=$P(ECDATA,U,4)
"RTN","ECXOPRX",48,0)
 I ECRFL D
"RTN","ECXOPRX",49,0)
 .S ECMW=$P(ECDATA1,U,2),ECQTY=+$P(ECDATA1,U,4),ECXDIV=$S(+$P(ECDATA1,U,9):$P(ECDATA1,U,9),1:1)
"RTN","ECXOPRX",50,0)
 .S ECPRC=+$P(ECDATA1,U,11),ECOPAY=$P($G(^PSRX(ECRX,1,ECRFL,"IB")),U)]""
"RTN","ECXOPRX",51,0)
 .S ECXPROV="" S:$P(ECDATA1,U,17)]"" ECXPROV=$P(ECDATA1,U,17)
"RTN","ECXOPRX",52,0)
 S (ECXPROVN,ECXPROVP)="" I ECXPROV]"" D
"RTN","ECXOPRX",53,0)
 .S ECXPROVP=$$PRVCLASS^ECXUTL(ECXPROV,ECSD1),ECXPROVN=""
"RTN","ECXOPRX",54,0)
 .S ECXPROV=ECPROF_ECXPROV
"RTN","ECXOPRX",55,0)
 S ECXCOST=$J((ECQTY*ECPRC),1,2)
"RTN","ECXOPRX",56,0)
 S ECDS=$S(ECRFL:$P(ECDATA1,U,10),1:$P(ECDATA,U,8))
"RTN","ECXOPRX",57,0)
 S ECCAT=$P(^PSDRUG(ECDRG,0),U,2),ECINV=$P(^(0),U,3)["I",ECINV=$S(ECINV:"I",1:"")
"RTN","ECXOPRX",58,0)
 S ECUI=$P($G(^PSDRUG(ECDRG,660)),U,8)
"RTN","ECXOPRX",59,0)
 S ECNDC=$P($G(^PSDRUG(ECDRG,2)),U,4),ECNFC=$$RJ^XLFSTR($P(ECNDC,"-"),6,0)_$$RJ^XLFSTR($P(ECNDC,"-",2),4,0)_$$RJ^XLFSTR($P(ECNDC,"-",3),2,0),ECNFC=$TR(ECNFC,"*",0)
"RTN","ECXOPRX",60,0)
 S ECNDF=$G(^PSDRUG(ECDRG,"ND")),P1=$P(ECNDF,U),P3=$P(ECNDF,U,3)
"RTN","ECXOPRX",61,0)
 S X="PSNAPIS" X ^%ZOSF("TEST") I $T S ECNFC=$$DSS^PSNAPIS(P1,P3,ECXYM)_ECNFC
"RTN","ECXOPRX",62,0)
 I $L(ECNFC)=12 S ECNFC=$$RJ^XLFSTR(P1,4,0)_$$RJ^XLFSTR(P3,3,0)_ECNFC
"RTN","ECXOPRX",63,0)
 S ECXDSSD=""
"RTN","ECXOPRX",64,0)
 I ECMW="M" S ECMW=1 I $D(^PSRX("AR",ECD,ECRX)) S ECMW=2
"RTN","ECXOPRX",65,0)
 I ECMW="W" S ECMW=""
"RTN","ECXOPRX",66,0)
 S ECXNEW="" I ECRFL=0 S ECXNEW=1
"RTN","ECXOPRX",67,0)
 D FILE
"RTN","ECXOPRX",68,0)
 Q
"RTN","ECXOPRX",69,0)
 ;
"RTN","ECXOPRX",70,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;Determine in/outpatient status, movement number, primary care team and provider.
"RTN","ECXOPRX",71,0)
 N OK,X,PT
"RTN","ECXOPRX",72,0)
 ;get patient data if saved
"RTN","ECXOPRX",73,0)
 I $D(^TMP($J,"ECXP",ECXDFN)) D
"RTN","ECXOPRX",74,0)
 .S PT=^TMP($J,"ECXP",ECXDFN),ECXSSN=$P(PT,U),ECXPNM=$P(PT,U,2)
"RTN","ECXOPRX",75,0)
 .S ECXMPI=$P(PT,U,3),ECXSEX=$P(PT,U,4),ECXDOB=$P(PT,U,5)
"RTN","ECXOPRX",76,0)
 .S ECXELIG=$P(PT,U,6),ECXVET=$P(PT,U,7),ECXRACE=$P(PT,U,8)
"RTN","ECXOPRX",77,0)
 .S ECXPST=$P(PT,U,9),ECXPLOC=$P(PT,U,10),ECXRST=$P(PT,U,11)
"RTN","ECXOPRX",78,0)
 .S ECXAST=$P(PT,U,12),ECXMST=$P(PT,U,13),ECXSTATE=$P(PT,U,14)
"RTN","ECXOPRX",79,0)
 .S ECXCNTY=$P(PT,U,15),ECXZIP=$P(PT,U,16),ECXENRL=$P(PT,U,17)
"RTN","ECXOPRX",80,0)
 .S ECXPAYOR=$P(PT,U,18),ECXSAI=$P(PT,U,19)
"RTN","ECXOPRX",81,0)
 ;set patient data
"RTN","ECXOPRX",82,0)
 I '$D(^TMP($J,"ECXP",ECXDFN)) D  Q:'OK
"RTN","ECXOPRX",83,0)
 .K ECXPAT
"RTN","ECXOPRX",84,0)
 .S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECSD1,"."),"1;2;3;5",.ECXPAT)
"RTN","ECXOPRX",85,0)
 .I 'OK S ECXERR=1 Q
"RTN","ECXOPRX",86,0)
 .S ECXSSN=ECXPAT("SSN"),ECXPNM=ECXPAT("NAME"),ECXMPI=ECXPAT("MPI")
"RTN","ECXOPRX",87,0)
 .S ECXSEX=ECXPAT("SEX"),ECXDOB=ECXPAT("DOB"),ECXELIG=ECXPAT("ELIG")
"RTN","ECXOPRX",88,0)
 .S ECXVET=ECXPAT("VET"),ECXRACE=ECXPAT("RACE"),ECXPST=ECXPAT("POW STAT")
"RTN","ECXOPRX",89,0)
 .S ECXPLOC=ECXPAT("POW LOC"),ECXRST=ECXPAT("IR STAT")
"RTN","ECXOPRX",90,0)
 .S ECXAST=ECXPAT("AO STAT"),ECXMST=ECXPAT("MST STAT")
"RTN","ECXOPRX",91,0)
 .S ECXSTATE=ECXPAT("STATE"),ECXCNTY=ECXPAT("COUNTY")
"RTN","ECXOPRX",92,0)
 .S ECXZIP=ECXPAT("ZIP"),ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXOPRX",93,0)
 .;2001 changes
"RTN","ECXOPRX",94,0)
 .S ECXCNHU=$P($G(^DPT(ECXDFN,"NHC")),U),ECXPHI=ECXPAT("PHI")
"RTN","ECXOPRX",95,0)
 .S ECXPOS=ECXPAT("POS")
"RTN","ECXOPRX",96,0)
 .I $$ENROLLM^ECXUTL2(ECXDFN)
"RTN","ECXOPRX",97,0)
 .;get sharing agreement data
"RTN","ECXOPRX",98,0)
 .S (ECXPAYOR,ECXSAI)=""
"RTN","ECXOPRX",99,0)
 .D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXOPRX",100,0)
 .;save for later
"RTN","ECXOPRX",101,0)
 .S ^TMP($J,"ECXP",ECXDFN)=ECXSSN_U_ECXPNM_U_ECXMPI_U_ECXSEX_U_ECXDOB_U_ECXELIG_U_ECXVET_U_ECXRACE_U_ECXPST_U_ECXPLOC_U_ECXRST_U_ECXAST_U_ECXMST_U_ECXSTATE_U_ECXCNTY_U_ECXZIP_U_ECXENRL_U_ECXPAYOR_U_ECXSAI
"RTN","ECXOPRX",102,0)
 ;get inpatient data
"RTN","ECXOPRX",103,0)
 S ECXA=1,(ECXDOM,ECXMN,ECXTS)=""
"RTN","ECXOPRX",104,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE) D
"RTN","ECXOPRX",105,0)
 .Q:$P($P(X,U,6),".")=ECXDATE
"RTN","ECXOPRX",106,0)
 .S ECXA=$P(X,U),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3),ECXDOM=$P(X,U,10)
"RTN","ECXOPRX",107,0)
 ;get primary care data
"RTN","ECXOPRX",108,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXOPRX",109,0)
 S ECPTTM=$P(X,U),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXOPRX",110,0)
 S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXOPRX",111,0)
 Q
"RTN","ECXOPRX",112,0)
 ;
"RTN","ECXOPRX",113,0)
FILE ;file record
"RTN","ECXOPRX",114,0)
 ;node0
"RTN","ECXOPRX",115,0)
 ;inst^dfn^ssn^name^in/out ECXA^day^division^provider^drug category^mail^
"RTN","ECXOPRX",116,0)
 ;placeholder1^new^placeholder2^qty^cost^placeholder3^
"RTN","ECXOPRX",117,0)
 ;mov #^treat spec^placeholder4^unit of issue^dob^elig^vet^copay^
"RTN","ECXOPRX",118,0)
 ;feeder key^investigational^days supply^primary care team^
"RTN","ECXOPRX",119,0)
 ;primary care provider^time^race
"RTN","ECXOPRX",120,0)
 ;node1
"RTN","ECXOPRX",121,0)
 ;mpi^dss dept^sex^zip+4^provider npi^pc provider npi^state^county^
"RTN","ECXOPRX",122,0)
 ;pc prov person class^pow status^pow location^
"RTN","ECXOPRX",123,0)
 ;ir status^ao status^sharing agree. payor^sharing agree. ins.^
"RTN","ECXOPRX",124,0)
 ;mst status^enroll loc^assoc pc provider^assoc pc prov person class^
"RTN","ECXOPRX",125,0)
 ;assoc pc prov npi^dom ECXDOM^purple heart ECXPHI^
"RTN","ECXOPRX",126,0)
 ;enrollment category ECXCAT^enrollment status ECXSTST^
"RTN","ECXOPRX",127,0)
 ;enrollment priority ECXPRIOR^cnhu status ECXCNHU^
"RTN","ECXOPRX",128,0)
 ;period of service ECXPOS^extended outpatient ECXEOI
"RTN","ECXOPRX",129,0)
 N DA,DIK
"RTN","ECXOPRX",130,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXOPRX",131,0)
 S ECODE=EC7_U_EC23_U_ECINST_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXOPRX",132,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECXDIV_U
"RTN","ECXOPRX",133,0)
 S ECODE=ECODE_ECXPROV_U_ECCAT_U_ECMW_U_ECXPROVP_U_ECXNEW_U_U_ECQTY_U
"RTN","ECXOPRX",134,0)
 S ECODE=ECODE_ECXCOST_U_U_ECXMN_U_ECXTS_U_U_ECUI_U_ECXDOB_U
"RTN","ECXOPRX",135,0)
 S ECODE=ECODE_ECXELIG_U_ECXVET_U_ECOPAY_U_ECNFC_U_ECINV_U_ECDS_U
"RTN","ECXOPRX",136,0)
 S ECODE=ECODE_ECPTTM_U_ECPTPR_U_$$ECXTIME^ECXUTL(ECXDATE)_U_ECXRACE_U
"RTN","ECXOPRX",137,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXSEX_U_ECXZIP_U_ECXPROVN_U_ECPTNPI_U
"RTN","ECXOPRX",138,0)
 S ECODE1=ECODE1_ECXSTATE_U_ECXCNTY_U_ECCLAS_U_ECXPST_U_ECXPLOC_U
"RTN","ECXOPRX",139,0)
 S ECODE1=ECODE1_ECXRST_U_ECXAST_U_ECXPAYOR_U_ECXSAI_U_ECXMST_U_ECXENRL_U
"RTN","ECXOPRX",140,0)
 S ECODE1=ECODE1_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXDOM_U_ECXPHI_U
"RTN","ECXOPRX",141,0)
 S ECODE1=ECODE1_ECXCAT_U_ECXSTAT_U_ECXPRIOR_U_ECXCNHU_U_ECXPOS_U
"RTN","ECXOPRX",142,0)
 S ECODE1=ECODE1_$G(ECXEOI)
"RTN","ECXOPRX",143,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXOPRX",144,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXOPRX",145,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXOPRX",146,0)
 Q
"RTN","ECXOPRX",147,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXOPRX",148,0)
 S ECHEAD="PRE"
"RTN","ECXOPRX",149,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXOPRX",150,0)
 Q
"RTN","ECXOPRX",151,0)
 ;
"RTN","ECXOPRX",152,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXOPRX",153,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPAI")
0^12^B7667566
"RTN","ECXPAI",1,0)
ECXPAI ;ALB/JAP,BIR/DMA,PTD-PAI Extract from File 45.9 ; 10/30/96 14:25
"RTN","ECXPAI",2,0)
 ;;3.0;DSS EXTRACTS;**8,20,24,33**;Dec 22, 1997
"RTN","ECXPAI",3,0)
BEG ;entry point from option
"RTN","ECXPAI",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXPAI",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXPAI",6,0)
 Q
"RTN","ECXPAI",7,0)
 ;
"RTN","ECXPAI",8,0)
START ; start package specific extract
"RTN","ECXPAI",9,0)
 N OK
"RTN","ECXPAI",10,0)
 S QFLG=0
"RTN","ECXPAI",11,0)
 S ECED=ECED+.3,ECD=ECSD1
"RTN","ECXPAI",12,0)
 F  S ECD=$O(^DG(45.9,"AA",ECD)),ECF=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECF=$O(^DG(45.9,"AA",ECD,ECF)) Q:'ECF  I $D(^DG(45.9,ECF,0)) S EC=^(0),ECXDFN=+EC,ECTD=$P(EC,U,7) D  Q:QFLG
"RTN","ECXPAI",13,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXPAI",14,0)
 .Q:'OK
"RTN","ECXPAI",15,0)
 .S X=$$INP^ECXUTL2(ECXDFN,$P(ECD,"."))
"RTN","ECXPAI",16,0)
 .S ECXA=$P(X,U),ECXDOM=$P(X,U,10),ECXPNM=ECXPAT("NAME")
"RTN","ECXPAI",17,0)
 .S ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI"),ECXRACE=ECXPAT("RACE")
"RTN","ECXPAI",18,0)
 .S ECXDSSD="",ECDA=0
"RTN","ECXPAI",19,0)
 .F  S ECDA=+$O(^DGPM("APCA",ECXDFN,ECDA)),ECTD1=ECTD-.0001 Q:'ECDA  I $D(^DGPM(ECDA,0)) F  S ECTD1=+$O(^DGPM("APCA",ECXDFN,ECDA,ECTD1)) Q:'ECTD1  Q:ECTD1>(ECTD+.3)  D  Q:QFLG
"RTN","ECXPAI",20,0)
 ..S EC1=0 F  S EC1=+$O(^DGPM("APCA",ECXDFN,ECDA,ECTD1,EC1)) Q:'EC1  I $D(^DGPM(EC1,0)),$P(^(0),U,2)'=3 S ECADM=$P(^DGPM(ECDA,0),U) D  Q:QFLG
"RTN","ECXPAI",21,0)
 ...D FILE
"RTN","ECXPAI",22,0)
 Q
"RTN","ECXPAI",23,0)
 ;
"RTN","ECXPAI",24,0)
FILE ;file record
"RTN","ECXPAI",25,0)
 ;^dfn^ssn^name^i/o (ECXA)^day^admission date^admission time^
"RTN","ECXPAI",26,0)
 ;admission/transfer date^admission/transfer time^race
"RTN","ECXPAI",27,0)
 ;node1
"RTN","ECXPAI",28,0)
 ;mpi^dss dept^dom^extended out patient
"RTN","ECXPAI",29,0)
 N DA,DIK
"RTN","ECXPAI",30,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1)
"RTN","ECXPAI",31,0)
 S ECODEZ="" I EC7>0 S ECODEZ=^ECX(ECFILE,EC7,0)
"RTN","ECXPAI",32,0)
 S ECODE=U_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_3_U
"RTN","ECXPAI",33,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECD,ECXYM)_U
"RTN","ECXPAI",34,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECADM,ECXYM)_U
"RTN","ECXPAI",35,0)
 S ECODE=ECODE_$$ECXTIME^ECXUTL(ECADM)_U_$$ECXDATE^ECXUTL(ECTD1,ECXYM)_U
"RTN","ECXPAI",36,0)
 S ECODE=ECODE_$$ECXTIME^ECXUTL(ECTD1)_U_ECXRACE_U
"RTN","ECXPAI",37,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXDOM_U_$G(ECXEOP)
"RTN","ECXPAI",38,0)
 Q:$P(ECODE,U,4,14)=$P(ECODEZ,U,4,14)
"RTN","ECXPAI",39,0)
 I $P(ECODE,U,3,7)=$P(ECODEZ,U,5,9),$P(ECODE,U,10)=$P(ECODEZ,U,12),$P(ECODE,U,8,9)'=$P(ECODEZ,10,11) D  Q
"RTN","ECXPAI",40,0)
 .S $P(^ECX(ECFILE,EC7,0),U,10,11)=$P(ECODE,U,8,9)
"RTN","ECXPAI",41,0)
 S EC7=EC7+1
"RTN","ECXPAI",42,0)
 S ^ECX(ECFILE,EC7,0)=EC7_U_EC23_ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXPAI",43,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXPAI",44,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXPAI",45,0)
 Q
"RTN","ECXPAI",46,0)
 ;
"RTN","ECXPAI",47,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXPAI",48,0)
 S ECHEAD="PAS"
"RTN","ECXPAI",49,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXPAI",50,0)
 Q
"RTN","ECXPAI",51,0)
 ;
"RTN","ECXPAI",52,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXPAI",53,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPIVD")
0^13^B13515272
"RTN","ECXPIVD",1,0)
ECXPIVD ;ALB/JAP,BIR/DMA,CML,PTD-Extract from IV STATS File (#50.8) ; [ 12/05/96  10:41 AM ]
"RTN","ECXPIVD",2,0)
 ;;3.0;DSS EXTRACTS;**10,11,8,13,24,33**;Dec 22, 1997
"RTN","ECXPIVD",3,0)
BEG ;entry point from option
"RTN","ECXPIVD",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXPIVD",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXPIVD",6,0)
 Q
"RTN","ECXPIVD",7,0)
 ;
"RTN","ECXPIVD",8,0)
START ; start package specific extract
"RTN","ECXPIVD",9,0)
 N X
"RTN","ECXPIVD",10,0)
 S QFLG=0
"RTN","ECXPIVD",11,0)
 S ECED=ECED+.3
"RTN","ECXPIVD",12,0)
 K ^TMP($J)
"RTN","ECXPIVD",13,0)
 S ECIV=0 F  S ECIV=$O(^PS(50.8,ECIV)),ECD=ECSD1 Q:'ECIV  F  S ECD=$O(^PS(50.8,ECIV,2,ECD)) Q:'ECD  Q:ECD>ECED  K ^TMP($J) D  Q:QFLG
"RTN","ECXPIVD",14,0)
 .;go thru AC crossreference to get pointers to 52.6 and 52.7
"RTN","ECXPIVD",15,0)
 .F ECJ=52.6,52.7 S ECK=0 F  S ECK=$O(^PS(50.8,ECIV,2,ECD,2,"AC",ECJ,ECK)),ECL=0 Q:'ECK  F   S ECL=$O(^PS(50.8,ECIV,2,ECD,2,"AC",ECJ,ECK,ECL)) Q:'ECL  S ^TMP($J,ECL,ECK)=""
"RTN","ECXPIVD",16,0)
 .S ECI=0 F  S ECI=$O(^PS(50.8,ECIV,2,ECD,2,ECI)) Q:'ECI  I $D(^(ECI,0)) S ECC=$P(^(0),U,5),ECF=+$P(^(0),U,7),ECDRG=+$O(^TMP($J,ECI,0)),EC50=+$P($G(^PS(ECF,ECDRG,0)),U,2) D  Q:QFLG
"RTN","ECXPIVD",17,0)
 ..S ECCAT=$P($G(^PSDRUG(EC50,0)),U,2),ECNDC=$P($G(^(2)),U,4),ECNDF=$G(^("ND")),ECINV=$P(^(0),U,3),ECINV=$S(ECINV["I":"I",1:"")
"RTN","ECXPIVD",18,0)
 ..S ECNFC=$$RJ^XLFSTR($P(ECNDC,"-"),6,0)_$$RJ^XLFSTR($P(ECNDC,"-",2),4,0)_$$RJ^XLFSTR($P(ECNDC,"-",3),2,0),ECNFC=$TR(ECNFC,"*",0)
"RTN","ECXPIVD",19,0)
 ..S P1=$P(ECNDF,U),P3=$P(ECNDF,U,3)
"RTN","ECXPIVD",20,0)
 ..S X="PSNAPIS" X ^%ZOSF("TEST") I $T S ECNFC=$$DSS^PSNAPIS(P1,P3,ECXYM)_ECNFC
"RTN","ECXPIVD",21,0)
 ..I $L(ECNFC)=12 S ECNFC=$$RJ^XLFSTR(P1,4,0)_$$RJ^XLFSTR(P3,3,0)_ECNFC
"RTN","ECXPIVD",22,0)
 ..S ECDFN=0 F  S ECDFN=$O(^PS(50.8,ECIV,2,ECD,2,ECI,1,ECDFN)) Q:'ECDFN  I $D(^(ECDFN,0)) S EC=^(0),ECQ=$P(EC,U,2)-$P(EC,U,3)-$P(EC,U,6),ECCS=ECQ*ECC,ECW=$P(EC,U,5) I ECQ D  Q:QFLG
"RTN","ECXPIVD",23,0)
 ...I $D(^DPT(ECDFN,0)) S EC1=^(0),(ECWD,ECMN,ECTS,ECADM,ECXDSSI,ECXDSSD)="" D
"RTN","ECXPIVD",24,0)
 ....K ECXPAT S OK=$$PAT^ECXUTL3(ECDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXPIVD",25,0)
 ....Q:'OK
"RTN","ECXPIVD",26,0)
 ....S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXPIVD",27,0)
 ....S X=$$PRIMARY^ECXUTL2(ECDFN,$P(ECD,"."))
"RTN","ECXPIVD",28,0)
 ....S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXPIVD",29,0)
 ....I ECW=.5 S ECWD="CLI"
"RTN","ECXPIVD",30,0)
 ....I ECW<.5 S ECWD=$P($G(^DIC(42,+ECW,44)),U)
"RTN","ECXPIVD",31,0)
 ....S X=$$INP^ECXUTL2(DFN,ECD),ECXA=$P(X,U),ECMN=$P(X,U,2)
"RTN","ECXPIVD",32,0)
 ....S ECTS=$P(X,U,3),ECADM=$P(X,U,4),ECXDOM=$P(X,U,10)
"RTN","ECXPIVD",33,0)
 ....D FILE K P1,P3
"RTN","ECXPIVD",34,0)
 Q
"RTN","ECXPIVD",35,0)
 ;
"RTN","ECXPIVD",36,0)
FILE ;file record
"RTN","ECXPIVD",37,0)
 ;node0
"RTN","ECXPIVD",38,0)
 ;fac^dfn^ssn^name^i/o (ECXA)^day^va class^qty^ward^
"RTN","ECXPIVD",39,0)
 ;cost^movement #^treat spec^ndc^investigational^
"RTN","ECXPIVD",40,0)
 ;iv dispensing fee^new feeder key^total doses^
"RTN","ECXPIVD",41,0)
 ;primary care team^primary care provider^
"RTN","ECXPIVD",42,0)
 ;ivp time^adm date^adm time^dss identifier
"RTN","ECXPIVD",43,0)
 ;node1
"RTN","ECXPIVD",44,0)
 ;mpi^dss dept^pc provider npi^pc prov person class^assoc pc provider^
"RTN","ECXPIVD",45,0)
 ;assoc pc prov person class^assoc pc prov npi^dom^extended outpatient
"RTN","ECXPIVD",46,0)
 N DA,DIK
"RTN","ECXPIVD",47,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXPIVD",48,0)
 S ECODE=EC7_U_EC23_U_ECINST_U_ECDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXPIVD",49,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECD,ECXYM)_U_ECCAT_U_ECQ_U
"RTN","ECXPIVD",50,0)
 S ECODE=ECODE_ECWD_U_ECCS_U_ECMN_U_ECTS_U_ECNDC_U
"RTN","ECXPIVD",51,0)
 S ECODE=ECODE_ECINV_U_U_U_U_U
"RTN","ECXPIVD",52,0)
 S ECODE=ECODE_ECPTTM_U_ECPTPR_U_"000000"_U
"RTN","ECXPIVD",53,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECADM,ECXYM)_U_$$ECXTIME^ECXUTL(ECADM)_U
"RTN","ECXPIVD",54,0)
 S ECODE=ECODE_ECXDSSI_U
"RTN","ECXPIVD",55,0)
 ;if this is an outpatient, send null for admission date and
"RTN","ECXPIVD",56,0)
 ; "000000" for admission time
"RTN","ECXPIVD",57,0)
 I ECW=.5 S $P(ECODE,U,24)="",$P(ECODE,U,25)="000000"
"RTN","ECXPIVD",58,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECPTNPI_U_ECCLAS_U_ECASPR_U_ECCLAS2_U
"RTN","ECXPIVD",59,0)
 S ECODE1=ECODE1_ECASNPI_U_ECXDOM_U_$G(ECXEOI)
"RTN","ECXPIVD",60,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXPIVD",61,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXPIVD",62,0)
 I $D(ZTQUEUED),ECRN>499,'(ECRN#500),$$S^%ZTLOAD S QFLG=1
"RTN","ECXPIVD",63,0)
 Q
"RTN","ECXPIVD",64,0)
 ;
"RTN","ECXPIVD",65,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXPIVD",66,0)
 S ECHEAD="IVP"
"RTN","ECXPIVD",67,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXPIVD",68,0)
 ;variables ecver and ecrtn will be reset in routine ecxtrac
"RTN","ECXPIVD",69,0)
 ; if appropriate
"RTN","ECXPIVD",70,0)
 S ECVER=3
"RTN","ECXPIVD",71,0)
 Q
"RTN","ECXPIVD",72,0)
 ;
"RTN","ECXPIVD",73,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXPIVD",74,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPIVDN")
0^30^B21661994
"RTN","ECXPIVDN",1,0)
ECXPIVDN ;ALB/JAP,BIR/DMA,CML,PTD-Extract from IV EXTRACT DATA File (#728.113) ; [ 03/26/97  2:10 PM ]
"RTN","ECXPIVDN",2,0)
 ;;3.0;DSS EXTRACTS;**10,11,8,13,24,33**;Dec 22, 1997
"RTN","ECXPIVDN",3,0)
START ; start package specific extract
"RTN","ECXPIVDN",4,0)
 N DIC,DA,DR,DIQ,DFN
"RTN","ECXPIVDN",5,0)
 S QFLG=0
"RTN","ECXPIVDN",6,0)
 I '$D(ECINST) D
"RTN","ECXPIVDN",7,0)
 .S ECINST=+$P(^ECX(728,1,0),U) K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPIVDN",8,0)
 .D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPIVDN",9,0)
 S ECED=ECED+.3
"RTN","ECXPIVDN",10,0)
 K ^TMP($J)
"RTN","ECXPIVDN",11,0)
 S ECD=ECSD1
"RTN","ECXPIVDN",12,0)
 F  S ECD=$O(^ECX(728.113,"A",ECD)),DFN=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S DFN=$O(^ECX(728.113,"A",ECD,DFN)),ON=0  Q:'DFN  F  S ON=$O(^ECX(728.113,"A",ECD,DFN,ON)),DA=0 Q:'ON  K ^TMP($J) S ECVOL=0 D  Q:QFLG
"RTN","ECXPIVDN",13,0)
 .S ECXERR=0 D DEMOG(DFN,ECD,.ECXERR)
"RTN","ECXPIVDN",14,0)
 .Q:ECXERR
"RTN","ECXPIVDN",15,0)
 .F  S DA=$O(^ECX(728.113,"A",ECD,DFN,ON,DA)) Q:'DA  Q:QFLG  I $D(^ECX(728.113,DA,0)) S EC=^(0) D  Q:QFLG
"RTN","ECXPIVDN",16,0)
 ..S DRG=$P(EC,U,4) I $P(EC,U,8)]"" D
"RTN","ECXPIVDN",17,0)
 ...I '$D(^TMP($J,"A",DRG)) S ^(DRG)=$P(EC,U,7,8),^(DRG,1)=0,^(2)=$P(EC,U,12)
"RTN","ECXPIVDN",18,0)
 ...S ^(1)=^TMP($J,"A",DRG,1)+$S($P(EC,U,6)=1:1,$P(EC,U,6)=4:0,1:-1)
"RTN","ECXPIVDN",19,0)
 ..I $P(EC,U,9) D
"RTN","ECXPIVDN",20,0)
 ...I '$D(^TMP($J,"S",DRG)) S ^(DRG)=$P(EC,U,9)_"^ML",^(DRG,1)=0,^(2)=$P(EC,U,12),ECVOL=$P(EC,U,9)+ECVOL
"RTN","ECXPIVDN",21,0)
 ...S ^(1)=^TMP($J,"S",DRG,1)+$S($P(EC,U,6)=1:1,$P(EC,U,6)=4:0,1:-1)
"RTN","ECXPIVDN",22,0)
 ..S ECTYP=$P(EC,U,11),ECTOTC=0,ECDTTM=$$ECXTIME^ECXUTL($P(EC,U,5))
"RTN","ECXPIVDN",23,0)
 .;looped thru all DAs for this order - now put it together
"RTN","ECXPIVDN",24,0)
 .;leave the next line in case the decision is made to send volume designations
"RTN","ECXPIVDN",25,0)
 .;I ECTYP="H" S ECTYP=ECTYP_$S(ECVOL'>1000:1,ECVOL'>2000:2,1:3)
"RTN","ECXPIVDN",26,0)
 .S ECXDSSI="",ECXDSSD=""
"RTN","ECXPIVDN",27,0)
 .F SA="S","A" S DRG="" F  S DRG=$O(^TMP($J,SA,DRG)) Q:DRG=""  I $D(^PSDRUG(DRG,0)) D  Q:QFLG
"RTN","ECXPIVDN",28,0)
 ..S ECST=^TMP($J,SA,DRG),ECXCNT=^(DRG,1),ECXCOST=^(2),ECXCOST=ECXCOST*ECXCNT
"RTN","ECXPIVDN",29,0)
 ..S EC0=^PSDRUG(DRG,0),ECVACL=$P(EC0,U,2),EC2=$G(^(2)),ECND=$G(^("ND"))
"RTN","ECXPIVDN",30,0)
 ..;if outpatient get division from iv rm; get dss identifier for clinic
"RTN","ECXPIVDN",31,0)
 ..I ECXA=1 D
"RTN","ECXPIVDN",32,0)
 ...S ECXW=.5
"RTN","ECXPIVDN",33,0)
 ...I $D(^PS(55,DFN,"IV",ON,2)) S ECIVRM=$P(^(2),U,2),ECXDIV=$P(^PS(59.5,ECIVRM,0),U,4)
"RTN","ECXPIVDN",34,0)
 ...S CLIN=+$P(EC,U,13),(ECXP1,ECXP2)="000"
"RTN","ECXPIVDN",35,0)
 ...S ECXCL=$G(^ECX(728.44,CLIN,0)) Q:ECXCL=""
"RTN","ECXPIVDN",36,0)
 ...S ECSC=$P(ECXCL,U,4),ECCSC=$P(ECXCL,U,5)
"RTN","ECXPIVDN",37,0)
 ...I ECSC="" S ECSC=$P(ECXCL,U,2),ECCSC=$P(ECXCL,U,3)
"RTN","ECXPIVDN",38,0)
 ...I ECSC S ECXP1=$$RJ^XLFSTR(ECSC,3,0),ECXP2=$$RJ^XLFSTR(ECCSC,3,0)
"RTN","ECXPIVDN",39,0)
 ...I ECSC="" S ECSC=$P($G(^SC(ECXSC,0)),U,7),ECCSC=$P($G(^SC(ECXSC,0)),U,18) I ECSC D
"RTN","ECXPIVDN",40,0)
 ....S ECXP1=$P($G(^DIC(40.7,ECSC,0)),U,2) S:ECCSC]"" ECXP2=$P($G(^DIC(40.7,ECCSC,0)),U,2)
"RTN","ECXPIVDN",41,0)
 ....S ECXP1=$$RJ^XLFSTR(ECXP1,3,0),ECXP2=$$RJ^XLFSTR(ECXP2,3,0)
"RTN","ECXPIVDN",42,0)
 ...S ECXDSSI=ECXP1_ECXP2
"RTN","ECXPIVDN",43,0)
 ..S ECINV=$P(EC0,U,3),ECINV=$S(ECINV["I":"I",1:"")
"RTN","ECXPIVDN",44,0)
 ..S ECST=ECXCNT*ECST_" "_$P(ECST,U,2)
"RTN","ECXPIVDN",45,0)
 ..S ECNDC=$P(EC2,U,4),ECNFC=$$RJ^XLFSTR($P(ECNDC,"-"),6,0)_$$RJ^XLFSTR($P(ECNDC,"-",2),4,0)_$$RJ^XLFSTR($P(ECNDC,"-",3),2,0),ECNFC=$TR(ECNFC,"*",0)
"RTN","ECXPIVDN",46,0)
 ..S P1=$P(ECND,U),P3=$P(ECND,U,3)
"RTN","ECXPIVDN",47,0)
 ..S X="PSNAPIS" X ^%ZOSF("TEST") I $T S ECNFC=$$DSS^PSNAPIS(P1,P3,ECXYM)_ECNFC
"RTN","ECXPIVDN",48,0)
 ..I $L(ECNFC)=12 S ECNFC=$$RJ^XLFSTR(P1,4,0)_$$RJ^XLFSTR(P3,3,0)_ECNFC
"RTN","ECXPIVDN",49,0)
 ..D FILE
"RTN","ECXPIVDN",50,0)
 K ^TMP($J),CLIN,DA,DFN,DIC,DIK,DRG,ON,SA,X,Y,P1,P3
"RTN","ECXPIVDN",51,0)
 Q
"RTN","ECXPIVDN",52,0)
 ;
"RTN","ECXPIVDN",53,0)
DEMOG(ECXDFN,ECXDATE,ECXERR) ;get patient demographics, primary care, and inpatient data
"RTN","ECXPIVDN",54,0)
 N X
"RTN","ECXPIVDN",55,0)
 K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;",.ECXPAT)
"RTN","ECXPIVDN",56,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXPIVDN",57,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXPIVDN",58,0)
 ;get primary care data
"RTN","ECXPIVDN",59,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXPIVDN",60,0)
 S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXPIVDN",61,0)
 S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXPIVDN",62,0)
 ;get inpatient data
"RTN","ECXPIVDN",63,0)
 S (ECXA,ECXMN,ECXADM,ECXTS,ECXW,ECXDIV)=""
"RTN","ECXPIVDN",64,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXPIVDN",65,0)
 S ECXA=$P(X,U),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3),ECXADM=$P(X,U,4)
"RTN","ECXPIVDN",66,0)
 S W=$P(X,U,9),ECXDOM=$P(X,U,10),ECXW=$P(W,";"),ECXDIV=$P(W,";",2)
"RTN","ECXPIVDN",67,0)
 Q
"RTN","ECXPIVDN",68,0)
 ;
"RTN","ECXPIVDN",69,0)
FILE ;file record
"RTN","ECXPIVDN",70,0)
 ;node0
"RTN","ECXPIVDN",71,0)
 ;fac^dfn^ssn^name^i/o^day^va class^qty^ward^cost^movement #^treat spec^ndc^investigational^iv dispensing fee^new feeder key^total doses^
"RTN","ECXPIVDN",72,0)
 ;primary care team^primary care provider^ivp time^adm date^adm time^dss identifier
"RTN","ECXPIVDN",73,0)
 ;node1
"RTN","ECXPIVDN",74,0)
 ;mpi^dss dept^pc provider npi^pc prov person class^assoc pc provider^assoc pc prov person class^assoc pc prov npi
"RTN","ECXPIVDN",75,0)
 N DA,DIK
"RTN","ECXPIVDN",76,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXPIVDN",77,0)
 S ECODE=EC7_U_EC23_U_ECXDIV_U_DFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXPIVDN",78,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECD,ECXYM)_U_ECVACL_U_ECXCNT_U_ECXW_U
"RTN","ECXPIVDN",79,0)
 S ECODE=ECODE_ECXCOST_U_ECXMN_U_ECXTS_U_ECNDC_U_ECINV_U_ECTYP_U_ECNFC_U
"RTN","ECXPIVDN",80,0)
 S ECODE=ECODE_ECST_U_ECPTTM_U_ECPTPR_U_ECDTTM_U
"RTN","ECXPIVDN",81,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECXADM,ECXYM)_U
"RTN","ECXPIVDN",82,0)
 S ECODE=ECODE_$$ECXTIME^ECXUTL(ECXADM)_U_ECXDSSI_U
"RTN","ECXPIVDN",83,0)
 ;if this is an outpatient, send null for admission date and "000000" for admission time
"RTN","ECXPIVDN",84,0)
 I ECXA=1 S $P(ECODE,U,24)="",$P(ECODE,U,25)="000000"
"RTN","ECXPIVDN",85,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECPTNPI_U_ECCLAS_U_ECASPR_U_ECCLAS2_U
"RTN","ECXPIVDN",86,0)
 S ECODE1=ECODE1_ECASNPI_U_ECXDOM_U_$G(ECXEOI)
"RTN","ECXPIVDN",87,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXPIVDN",88,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXPIVDN",89,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXPIVDN",90,0)
 Q
"RTN","ECXPIVDN",91,0)
 ;
"RTN","ECXPIVDN",92,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXPIVDN",93,0)
 S ECHEAD="IVP"
"RTN","ECXPIVDN",94,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXPIVDN",95,0)
 ;variables ecver and ecrtn will be reset in routine ecxtrac if appropriate
"RTN","ECXPIVDN",96,0)
 S ECVER=7
"RTN","ECXPIVDN",97,0)
 Q
"RTN","ECXPIVDN",98,0)
 ;
"RTN","ECXPIVDN",99,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXPIVDN",100,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPRO")
0^24^B17843672
"RTN","ECXPRO",1,0)
ECXPRO ;ALB/GTS - Prosthetics Extract for DSS ; July 16, 1998
"RTN","ECXPRO",2,0)
 ;;3.0;DSS EXTRACTS;**9,13,15,21,24,33**;Dec 22, 1997
"RTN","ECXPRO",3,0)
BEG ;entry point from option
"RTN","ECXPRO",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXPRO",5,0)
 D:+ECINST>0 ^ECXTRAC D ^ECXKILL
"RTN","ECXPRO",6,0)
 Q
"RTN","ECXPRO",7,0)
 ;
"RTN","ECXPRO",8,0)
START ;start package specific extract
"RTN","ECXPRO",9,0)
 ;
"RTN","ECXPRO",10,0)
 ; Input
"RTN","ECXPRO",11,0)
 ;  ECSD1   - FM formated Beginning Date (Set by ECXTRAC)
"RTN","ECXPRO",12,0)
 ;  ECED    - FM formated End Date (Set by ECXTRAC)
"RTN","ECXPRO",13,0)
 ;  ECSDN   - Externally formated Start Date (Set by ECXTRAC)
"RTN","ECXPRO",14,0)
 ;  ECEDN   - Externally formated End Date (Set by ECXTRAC)
"RTN","ECXPRO",15,0)
 ;  EC      - IEN from file #727 (Set by ECXTRAC)
"RTN","ECXPRO",16,0)
 ;  ECXYM   - Year and Month of extract (YYYYMM)
"RTN","ECXPRO",17,0)
 ;  ECXINST - IEN for division in file #4
"RTN","ECXPRO",18,0)
 ;  ECINST  - Station number of selected division
"RTN","ECXPRO",19,0)
 ;
"RTN","ECXPRO",20,0)
 N ECXLNE,ECXCT,ECXDACT,ECX0,ECXLB,ECXED1,ECINSTSV,ECXLNSTR,ECXP
"RTN","ECXPRO",21,0)
 N DIC,DR,DA,DIQ,CPTCODE
"RTN","ECXPRO",22,0)
 D ECXBUL^ECXPRO2(.ECXLNE,ECSDN,ECEDN,EC)
"RTN","ECXPRO",23,0)
 S QFLG=0,ECXLNSTR=ECXLNE,ECXED1=ECED+.9999,ECXCT=ECSD1
"RTN","ECXPRO",24,0)
 F  S ECXCT=$O(^RMPR(660,"CT",ECXCT)) Q:(ECXCT>ECXED1)!('ECXCT)!(QFLG=1)  D
"RTN","ECXPRO",25,0)
 .S ECXDACT=0
"RTN","ECXPRO",26,0)
 .F  S ECXDACT=$O(^RMPR(660,"CT",ECXCT,ECXDACT)) Q:('ECXDACT)!(QFLG=1)  D
"RTN","ECXPRO",27,0)
 ..;* initialize variables
"RTN","ECXPRO",28,0)
 ..S (ECXDFN,ECXPNM,ECXSSN,ECXSEX,ECXSTAT,ECXDATE,ECXTYPE,ECXSRCE)=""
"RTN","ECXPRO",29,0)
 ..S (ECXHCPCS,ECXPHCPC,ECXRQST,ECXRCST,ECXFORM,ECXCTAMT,ECXLLC)=""
"RTN","ECXPRO",30,0)
 ..S (ECXLMC,ECXGRPR,ECXBILST,ECXQTY,ECXFELOC,ECXFEKEY,ECXA)=""
"RTN","ECXPRO",31,0)
 ..S (ECPTTM,ECPTPR,ECXAST,ECXRST,ECXEST,ECXELIG,ECXVET,ECXZIP)=""
"RTN","ECXPRO",32,0)
 ..S (ECXDOB,ECXDSSD,ECXICD9)=""
"RTN","ECXPRO",33,0)
 ..F I=1:1:4 S @("ECXICD9"_I)=""
"RTN","ECXPRO",34,0)
 ..Q:'$D(^RMPR(660,ECXDACT,0))
"RTN","ECXPRO",35,0)
 ..S ECX0=^RMPR(660,ECXDACT,0),ECXLB=$G(^RMPR(660,ECXDACT,"LB"))
"RTN","ECXPRO",36,0)
 ..K ECXP S DIC="^RMPR(660,",DR=".02;11",DA=ECXDACT,DIQ(0)="EI"
"RTN","ECXPRO",37,0)
 ..S DIQ="ECXP" D EN^DIQ1
"RTN","ECXPRO",38,0)
 ..S ECXDFN=$G(ECXP(660,ECXDACT,.02,"I"))
"RTN","ECXPRO",39,0)
 ..S ECXFORM=$G(ECXP(660,ECXDACT,11,"E"))_U_$G(ECXP(660,ECXDACT,11,"I"))
"RTN","ECXPRO",40,0)
 ..Q:'$$PATDEM^ECXUTL2(ECXDFN,ECXCT)
"RTN","ECXPRO",41,0)
 ..D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXPRO",42,0)
 ..Q:'$$NTEG^ECXPRO1(ECXDFN,.ECXLNE,ECXDACT,ECX0,ECXLB,ECINST,ECXFORM)
"RTN","ECXPRO",43,0)
 ..D PROSINFO^ECXPRO1(ECXDACT,ECXLB,ECX0,ECXFORM)
"RTN","ECXPRO",44,0)
 ..S CPTCODE=$E(ECXHCPCS,1,5)
"RTN","ECXPRO",45,0)
 ..I ECXFORM["-3" F ECXLAB="LAB","ORD" D
"RTN","ECXPRO",46,0)
 ...D FEEDINFO^ECXPRO2(ECXSRCE,CPTCODE,ECXTYPE,ECXSTAT2,ECXRQST,ECXRCST,ECXLAB)
"RTN","ECXPRO",47,0)
 ...Q:ECXFELOC=""  D FILE
"RTN","ECXPRO",48,0)
 ..I ECXFORM'["-3" S ECXLAB="NONL" D
"RTN","ECXPRO",49,0)
 ...D FEEDINFO^ECXPRO2(ECXSRCE,CPTCODE,ECXTYPE,ECXSTAT2,ECXRQST,ECXRCST,ECXLAB)
"RTN","ECXPRO",50,0)
 ...Q:ECXFELOC=""  D FILE
"RTN","ECXPRO",51,0)
 ;* Send the Exception message
"RTN","ECXPRO",52,0)
 I ECXLNSTR<ECXLNE DO
"RTN","ECXPRO",53,0)
 .K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXPRO",54,0)
 .S XMDUZ=.5
"RTN","ECXPRO",55,0)
 .S XMSUB=ECINST_" - Prosthetics DSS Exception Message",XMN=0
"RTN","ECXPRO",56,0)
 .S XMTEXT="^TMP(""ECX-PRO EXC"",$J,"
"RTN","ECXPRO",57,0)
 .D ^XMD
"RTN","ECXPRO",58,0)
 K ^TMP("ECX-PRO EXC",$J),XMDUZ,XMSUB,XMTEXT,XMY
"RTN","ECXPRO",59,0)
 Q
"RTN","ECXPRO",60,0)
 ;
"RTN","ECXPRO",61,0)
FILE ;file extract record
"RTN","ECXPRO",62,0)
 ;node0
"RTN","ECXPRO",63,0)
 ;facility^dfn (ECXDFN)^ssn (ECXSSN)^name (ECXPNM)^in/out (ECXA)^
"RTN","ECXPRO",64,0)
 ;day^feeder location^
"RTN","ECXPRO",65,0)
 ;feeder key^qty^pc team^pc provider^hcpcs^icd9 (ECXICD9)^
"RTN","ECXPRO",66,0)
 ;icd9-1 (ECXICD91)^icd9-2 (ECXICD92)^icd9-3 (ECXICD93)^
"RTN","ECXPRO",67,0)
 ;icd9-4 (ECXICD94)^agent orange^radiation^env contam^eligibility^
"RTN","ECXPRO",68,0)
 ;cost^lab labor cost^lab matl cost^billing status^
"RTN","ECXPRO",69,0)
 ;vet^transacton type^req station^rec station^file#661.1 ien
"RTN","ECXPRO",70,0)
 ;node1
"RTN","ECXPRO",71,0)
 ;zip^dob^sex^amis grouper^pc prov npi^mpi^dss dept^
"RTN","ECXPRO",72,0)
 ;pc prov person class^race^pow status^pow loc^
"RTN","ECXPRO",73,0)
 ;sharing agree payor^sharing agree ins^mst status^
"RTN","ECXPRO",74,0)
 ;enroll loc^state^county^assoc pc provider^
"RTN","ECXPRO",75,0)
 ;assoc pc prov person class^assoc pc prov npi
"RTN","ECXPRO",76,0)
 ;dom (ECXDOM)^purple heart indicator (ECXPHI)^
"RTN","ECXPRO",77,0)
 ;enrollment Category (ECXCAT)^enrollment status (ECXSTAT)^
"RTN","ECXPRO",78,0)
 ;enrollment priority (ECXPRIOR)^cnhu status (ECXCNHU)^
"RTN","ECXPRO",79,0)
 ;period of service (ECXPOS)^extended outpatient indicator (ECXEOI)
"RTN","ECXPRO",80,0)
 N DA,DIK
"RTN","ECXPRO",81,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXPRO",82,0)
 S ECODE=EC7_U_EC23_U_ECINST_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXPRO",83,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECXFELOC_U
"RTN","ECXPRO",84,0)
 S ECODE=ECODE_ECXFEKEY_U_ECXQTY_U_ECPTTM_U_ECPTPR_U_ECXHCPCS_U
"RTN","ECXPRO",85,0)
 S ECODE=ECODE_ECXICD9_U_ECXICD91_U_ECXICD92_U_ECXICD93_U_ECXICD94_U
"RTN","ECXPRO",86,0)
 S ECODE=ECODE_ECXAST_U_ECXRST_U_ECXEST_U_ECXELIG_U_ECXCTAMT_U_ECXLLC_U
"RTN","ECXPRO",87,0)
 S ECODE=ECODE_ECXLMC_U_ECXBILST_U_ECXVET_U_ECXTYPE_U_ECXRQST_U_ECXRCST_U
"RTN","ECXPRO",88,0)
 S ECODE=ECODE_ECXPHCPC_U
"RTN","ECXPRO",89,0)
 S ECODE1=ECXZIP_U_ECXDOB_U_ECXSEX_U_ECXGRPR_U_ECPTNPI_U_ECXMPI_U
"RTN","ECXPRO",90,0)
 S ECODE1=ECODE1_ECXDSSD_U_ECCLAS_U_ECXRACE_U_ECXPST_U_ECXPLOC_U
"RTN","ECXPRO",91,0)
 S ECODE1=ECODE1_ECXPAYOR_U_ECXSAI_U_ECXMST_U_ECXENRL_U_ECXSTATE_U
"RTN","ECXPRO",92,0)
 S ECODE1=ECODE1_ECXCNTY_U_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXDOM_U
"RTN","ECXPRO",93,0)
 S ECODE1=ECODE1_ECXCAT_U_ECXSTAT_U_ECXPRIOR_U_ECXPHI_U_ECXPOS_U
"RTN","ECXPRO",94,0)
 S ECODE1=ECODE1_$G(ECXEOI)
"RTN","ECXPRO",95,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXPRO",96,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXPRO",97,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXPRO",98,0)
 Q
"RTN","ECXPRO",99,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXPRO",100,0)
 S ECHEAD="PRO"
"RTN","ECXPRO",101,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXPRO",102,0)
 S ECINST=$$PDIV^ECXPUTL
"RTN","ECXPRO",103,0)
 Q
"RTN","ECXPRO",104,0)
 ;
"RTN","ECXPRO",105,0)
 ;**Note: LOCAL and QUE are carry over from protocols set by other
"RTN","ECXPRO",106,0)
 ;        routines.
"RTN","ECXPRO",107,0)
LOCAL ;to extract nightly for local use not to be transmitted to TSI
"RTN","ECXPRO",108,0)
 ;QUEUE with 1D frequency
"RTN","ECXPRO",109,0)
 D SETUP,^ECXTLOCL,^ECXKILL Q
"RTN","ECXPRO",110,0)
 ;
"RTN","ECXPRO",111,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXPRO",112,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPRO1")
0^25^B18999198
"RTN","ECXPRO1",1,0)
ECXPRO1 ;ALB/GTS - Prosthetics Extract for DSS (Continued) ; July 16, 1998
"RTN","ECXPRO1",2,0)
 ;;3.0;DSS EXTRACTS;**9,11,13,15,21,24,33**;Dec 22, 1997
"RTN","ECXPRO1",3,0)
 ;
"RTN","ECXPRO1",4,0)
NTEG(ECXDFN,ECXLNE,ECXPIEN,ECXN0,ECXNLB,ECINST,ECXFORM) ;** Check for required fields
"RTN","ECXPRO1",5,0)
 ;   Input
"RTN","ECXPRO1",6,0)
 ;    ECXDFN   - ien in file #2
"RTN","ECXPRO1",7,0)
 ;    ECXLNE   - line number variable (passed by reference)
"RTN","ECXPRO1",8,0)
 ;    ECXPIEN  - IEN for the Prosthetics record
"RTN","ECXPRO1",9,0)
 ;    ECXN0    - zero node of the Prosthetics record
"RTN","ECXPRO1",10,0)
 ;    ECXNLB   - LB node of the Prosthetics record
"RTN","ECXPRO1",11,0)
 ;    ECINST   - station number being extracted
"RTN","ECXPRO1",12,0)
 ;    ECXFORM  - Form Requested On
"RTN","ECXPRO1",13,0)
 ;   Output (to be KILLed by calling routine)
"RTN","ECXPRO1",14,0)
 ;    ^TMP("ECX-PRO EXC",$J) - Array for the exception message       
"RTN","ECXPRO1",15,0)
 ;    ECXLNE                 - The number of the next line in the msg
"RTN","ECXPRO1",16,0)
 ;    ECXSTAT2               - Patient Station Number
"RTN","ECXPRO1",17,0)
 ;    ECXDATE                - Delivery Date of Prosthesis
"RTN","ECXPRO1",18,0)
 ;    ECXTYPE                - Type of Transaction work performed
"RTN","ECXPRO1",19,0)
 ;    ECXSRCE                - Source of prosthesis
"RTN","ECXPRO1",20,0)
 ;    ECXHCPCS               - CPT/HCPCS code for prosthesis
"RTN","ECXPRO1",21,0)
 ;    ECXRQST                - Requesting Station
"RTN","ECXPRO1",22,0)
 ;    ECXRCST                - Receiving Station
"RTN","ECXPRO1",23,0)
 ;    ECXPHCPC               - PSAS HCPCS code; if 'unknown', then use CPT/HCPCS code 
"RTN","ECXPRO1",24,0)
 ;   Output (KILLed by NTEG)
"RTN","ECXPRO1",25,0)
 ;    ECXMISS                - 1 indicates missing information
"RTN","ECXPRO1",26,0)
 ;    ECXGOOD                - 0 indicates record should not be extracted
"RTN","ECXPRO1",27,0)
 ;
"RTN","ECXPRO1",28,0)
 N ECXGOOD,ECXMISS
"RTN","ECXPRO1",29,0)
 S (ECXRCST,ECXRQST)="",ECXGOOD=1,ECXSTAT2=$P(ECXN0,U,10)
"RTN","ECXPRO1",30,0)
 I ECXSTAT2]"" D
"RTN","ECXPRO1",31,0)
 .K ECXDIC
"RTN","ECXPRO1",32,0)
 .S DA=ECXSTAT2,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPRO1",33,0)
 .D EN^DIQ1 S ECXSTAT2=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPRO1",34,0)
 .S:(ECINST'=$E(ECXSTAT2,1,3)) ECXGOOD=0 ;*Screen for incorrect Station
"RTN","ECXPRO1",35,0)
 ;
"RTN","ECXPRO1",36,0)
 ;** Screen out records
"RTN","ECXPRO1",37,0)
 S:($P(ECXN0,U,17)'="") ECXGOOD=0 ;*SHIP/DEL is not NULL
"RTN","ECXPRO1",38,0)
 S:($P(ECXN0,U,26)'="") ECXGOOD=0 ;*PICKUP/DEL is not NULL
"RTN","ECXPRO1",39,0)
 S:(+($P($G(^RMPR(660,ECXPIEN,"AM")),U,2))=1) ECXGOOD=0 ;*NO ADMIN CT=1
"RTN","ECXPRO1",40,0)
 S:(($P(ECXN0,U,15))'="") ECXGOOD=0 ;*HISTORICAL DATA is not NULL
"RTN","ECXPRO1",41,0)
 ;
"RTN","ECXPRO1",42,0)
 S ECXDATE=$P(ECXN0,U,12),ECXTYPE=$P(ECXN0,U,4),ECXSRCE=$P(ECXN0,U,14)
"RTN","ECXPRO1",43,0)
 S ECXHCPCS=$P($G(^ICPT(+$P(ECXN0,U,22),0)),U,1),ECXCMOD=""
"RTN","ECXPRO1",44,0)
 S ECXHCPCS=$$CPT^ECXUTL3(ECXHCPCS,ECXCMOD)
"RTN","ECXPRO1",45,0)
 ;get psas hcpcs code from file #661.1
"RTN","ECXPRO1",46,0)
 S ECXPHCPC=$P($G(^RMPR(660,ECXPIEN,1)),U,4) D
"RTN","ECXPRO1",47,0)
 .I +ECXPHCPC S ECXPHCPC=$P($G(^RMPR(661.1,ECXPHCPC,0)),U,1)
"RTN","ECXPRO1",48,0)
 .I ECXPHCPC="UNKNOWN" S ECXPHCPC=$E(ECXHCPCS,1,5)
"RTN","ECXPRO1",49,0)
 ;
"RTN","ECXPRO1",50,0)
 ;* Get Requesting Station Number
"RTN","ECXPRO1",51,0)
 I ECXFORM["-3" D
"RTN","ECXPRO1",52,0)
 .S ECXRQST=$P(ECXNLB,U,1)
"RTN","ECXPRO1",53,0)
 .I ECXRQST]"" D
"RTN","ECXPRO1",54,0)
 ..S DA=ECXRQST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPRO1",55,0)
 ..D EN^DIQ1 S ECXRQST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPRO1",56,0)
 S:(ECXFORM'["-3") ECXRQST=""
"RTN","ECXPRO1",57,0)
 ;
"RTN","ECXPRO1",58,0)
 ;* Screen out records
"RTN","ECXPRO1",59,0)
 S:(+$P(ECXFORM,U,2)=13) ECXGOOD=0 ;*FORM REQUESTED ON = 13
"RTN","ECXPRO1",60,0)
 ;
"RTN","ECXPRO1",61,0)
 ;* Get Receiving Station Number
"RTN","ECXPRO1",62,0)
 I ECXFORM["-3" D
"RTN","ECXPRO1",63,0)
 .S ECXRCST=$P(ECXNLB,U,4)
"RTN","ECXPRO1",64,0)
 .I ECXRCST]"" D
"RTN","ECXPRO1",65,0)
 ..S DA=ECXRCST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPRO1",66,0)
 ..D EN^DIQ1 S ECXRCST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPRO1",67,0)
 S:(ECXFORM'["-3") ECXRCST=""
"RTN","ECXPRO1",68,0)
 ;
"RTN","ECXPRO1",69,0)
 ;** Check for integrity and set up the problem variable if right DIV
"RTN","ECXPRO1",70,0)
 I ECXGOOD D CHK
"RTN","ECXPRO1",71,0)
 Q ECXGOOD
"RTN","ECXPRO1",72,0)
 ;
"RTN","ECXPRO1",73,0)
CHK ;*Check variables
"RTN","ECXPRO1",74,0)
 ; Input
"RTN","ECXPRO1",75,0)
 ;  Variables set in and Output from NTEG^ECXPRO1
"RTN","ECXPRO1",76,0)
 ; Output
"RTN","ECXPRO1",77,0)
 ;  ^TMP("ECX-PRO EXC",$J,   - Global of records with integrity problems
"RTN","ECXPRO1",78,0)
 ;
"RTN","ECXPRO1",79,0)
 S ECXMISS=""
"RTN","ECXPRO1",80,0)
 I ECXSTAT2']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",81,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",82,0)
 I ECXDFN=0 S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",83,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",84,0)
 ;I ECXSSN']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",85,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",86,0)
 ;I ECXNA="    " S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",87,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",88,0)
 I ECXDATE']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",89,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",90,0)
 I ECXTYPE']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",91,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",92,0)
 I ECXSRCE']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",93,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",94,0)
 I ECXHCPCS']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",95,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",96,0)
 I ECXFORM["-3" D
"RTN","ECXPRO1",97,0)
 .I ECXRQST']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",98,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",99,0)
 I ECXFORM']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",100,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",101,0)
 I ECXFORM["-3" D
"RTN","ECXPRO1",102,0)
 .I ECXRCST']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",103,0)
 I ECXMISS'="^^^^^^^^^^" D
"RTN","ECXPRO1",104,0)
 .S ECXGOOD=0
"RTN","ECXPRO1",105,0)
 .D ECXMISLN^ECXPRO2(ECXMISS,.ECXLNE,ECXPIEN)
"RTN","ECXPRO1",106,0)
 Q
"RTN","ECXPRO1",107,0)
 ;
"RTN","ECXPRO1",108,0)
PROSINFO(ECXDA,ECXLB,ECX0,ECXFORM) ;*Get Prosthetics Information
"RTN","ECXPRO1",109,0)
 ;
"RTN","ECXPRO1",110,0)
 ;  Input
"RTN","ECXPRO1",111,0)
 ;    ECDA    - The IEN for the Prosthetics record
"RTN","ECXPRO1",112,0)
 ;    ECX0    - The zero node of the Prosthetics record
"RTN","ECXPRO1",113,0)
 ;    ECXLB   - The LB node of the Prosthetics record
"RTN","ECXPRO1",114,0)
 ;    ECXFORM - The Form Requested On (to determine Lab transactions)
"RTN","ECXPRO1",115,0)
 ;
"RTN","ECXPRO1",116,0)
 ;  Output (to be KILLed by calling routine)
"RTN","ECXPRO1",117,0)
 ;    ECXCTAMT   - The Cost of Transaction
"RTN","ECXPRO1",118,0)
 ;    ECXLLC     - The Lab Labor Cost
"RTN","ECXPRO1",119,0)
 ;    ECXLMC     - The Lab Material Cost
"RTN","ECXPRO1",120,0)
 ;    ECXGRPR    - The AMIS Grouper number
"RTN","ECXPRO1",121,0)
 ;    ECXBILST   - The Billing Status
"RTN","ECXPRO1",122,0)
 ;    ECXQTY     - The Quantity
"RTN","ECXPRO1",123,0)
 ;
"RTN","ECXPRO1",124,0)
 N FRAC
"RTN","ECXPRO1",125,0)
 S (ECXLLC,ECXLMC,ECXCTAMT)="",ECXBILST=$P($G(^RMPR(660,ECXDA,"AM")),U,3)
"RTN","ECXPRO1",126,0)
 S ECXQTY=$P(ECX0,U,7)
"RTN","ECXPRO1",127,0)
 S:(+ECXQTY=0) ECXQTY=1
"RTN","ECXPRO1",128,0)
 S ECXGRPR=$P($G(^RMPR(660,ECXDA,"AMS")),U,1),ECXCTAMT=$P(ECX0,U,16)
"RTN","ECXPRO1",129,0)
 I ECXFORM["-3" D
"RTN","ECXPRO1",130,0)
 .S ECXCTAMT=$P(ECXLB,U,9),ECXLLC=$P(ECXLB,U,7),ECXLMC=$P(ECXLB,U,8)
"RTN","ECXPRO1",131,0)
 S:ECXCTAMT="" ECXCTAMT=0 S:ECXCTAMT>999999 ECXCTAMT=999999
"RTN","ECXPRO1",132,0)
 S:ECXLLC="" ECXLLC=0 S:ECXLLC>999999 ECXLLC=999999
"RTN","ECXPRO1",133,0)
 S:ECXLMC="" ECXLMC=0 S:ECXLMC>999999 ECXLMC=999999
"RTN","ECXPRO1",134,0)
 S FRAC=+$P(ECXCTAMT,".",2),ECXCTAMT=$P(ECXCTAMT,"."),FRAC=FRAC/50
"RTN","ECXPRO1",135,0)
 S:FRAC>1 ECXCTAMT=ECXCTAMT+1
"RTN","ECXPRO1",136,0)
 S FRAC=+$P(ECXLLC,".",2),ECXLLC=$P(ECXLLC,"."),FRAC=FRAC/50
"RTN","ECXPRO1",137,0)
 S:FRAC>1 ECXLLC=ECXLLC+1
"RTN","ECXPRO1",138,0)
 S FRAC=+$P(ECXLMC,".",2),ECXLMC=$P(ECXLMC,"."),FRAC=FRAC/50
"RTN","ECXPRO1",139,0)
 S:FRAC>1 ECXLMC=ECXLMC+1
"RTN","ECXPRO1",140,0)
 Q
"RTN","ECXPRO2")
0^32^B11716093
"RTN","ECXPRO2",1,0)
ECXPRO2 ;ALB/GTS - Prosthetics Extract for DSS (Continued) ; July 16, 1998
"RTN","ECXPRO2",2,0)
 ;;3.0;DSS EXTRACTS;**9,15,21,24,33**;Dec 22, 1997
"RTN","ECXPRO2",3,0)
 ;
"RTN","ECXPRO2",4,0)
ECXBUL(ECXLNE,ECXEBDT,ECXEEDT,ECNUM) ;* Set up the header for the exception msg
"RTN","ECXPRO2",5,0)
 ;
"RTN","ECXPRO2",6,0)
 ;   Input
"RTN","ECXPRO2",7,0)
 ;    ECXLNE  - The line number variable (passed by reference)
"RTN","ECXPRO2",8,0)
 ;    ECXEBDT - The Externally formated beginning date
"RTN","ECXPRO2",9,0)
 ;    ECXEEDT - The Externally formated ending date
"RTN","ECXPRO2",10,0)
 ;    ECNUM   - The Extract reference number
"RTN","ECXPRO2",11,0)
 ;
"RTN","ECXPRO2",12,0)
 ;   Output
"RTN","ECXPRO2",13,0)
 ;    ^TMP("ECX-PRO EXC",$J) - Array for the exception message
"RTN","ECXPRO2",14,0)
 ;    ECXLNE                 - The number of the next line in the msg
"RTN","ECXPRO2",15,0)
 ;
"RTN","ECXPRO2",16,0)
 S ^TMP("ECX-PRO EXC",$J,1)=" "
"RTN","ECXPRO2",17,0)
 S ^TMP("ECX-PRO EXC",$J,2)="The DSS-Prosthetic Extract #"_ECNUM_" for "_ECXEBDT_" through "_ECXEEDT
"RTN","ECXPRO2",18,0)
 S ^TMP("ECX-PRO EXC",$J,3)="has completed.  The following is a list of Prosthetics records that were NOT"
"RTN","ECXPRO2",19,0)
 S ^TMP("ECX-PRO EXC",$J,4)="extracted due to missing information in the Record of Pros Appliance/Repair"
"RTN","ECXPRO2",20,0)
 S ^TMP("ECX-PRO EXC",$J,5)="file (#660).  The Prosthetics record may be reviewed and the missing"
"RTN","ECXPRO2",21,0)
 S ^TMP("ECX-PRO EXC",$J,6)="information completed.  Once the missing information has been entered, it"
"RTN","ECXPRO2",22,0)
 S ^TMP("ECX-PRO EXC",$J,7)="will be necessary to re-generate the Prosthetics Extract for the above noted"
"RTN","ECXPRO2",23,0)
 S ^TMP("ECX-PRO EXC",$J,8)="date range."
"RTN","ECXPRO2",24,0)
 S ^TMP("ECX-PRO EXC",$J,9)=" "
"RTN","ECXPRO2",25,0)
 S ^TMP("ECX-PRO EXC",$J,10)="If you do not intend to transmit Prosthetics Extract #"_ECNUM_", then please"
"RTN","ECXPRO2",26,0)
 S ^TMP("ECX-PRO EXC",$J,11)="purge it before generating a new extract for the same date range."
"RTN","ECXPRO2",27,0)
 S ^TMP("ECX-PRO EXC",$J,12)=" "
"RTN","ECXPRO2",28,0)
 S ^TMP("ECX-PRO EXC",$J,13)=" "
"RTN","ECXPRO2",29,0)
 S ^TMP("ECX-PRO EXC",$J,14)=" PROSTHETICS FILE (#660)         MISSING DATA"
"RTN","ECXPRO2",30,0)
 S ^TMP("ECX-PRO EXC",$J,15)="       IEN                         ELEMENTS"
"RTN","ECXPRO2",31,0)
 S ^TMP("ECX-PRO EXC",$J,16)=" "
"RTN","ECXPRO2",32,0)
 S ECXLNE=15
"RTN","ECXPRO2",33,0)
 Q
"RTN","ECXPRO2",34,0)
 ;
"RTN","ECXPRO2",35,0)
ECXMISLN(ECXMISS,ECXLNE,ECXPIEN) ;** Report Missing Lines
"RTN","ECXPRO2",36,0)
 N ECXPCE,ECXFIRST,ECXFIELD
"RTN","ECXPRO2",37,0)
 S ECXFIRST=1
"RTN","ECXPRO2",38,0)
 F ECXPCE=1:1:11 DO
"RTN","ECXPRO2",39,0)
 .I +$P(ECXMISS,"^",ECXPCE) DO
"RTN","ECXPRO2",40,0)
 ..S ECXFIELD=$P($T(ECXFLD+ECXPCE),";;",2)
"RTN","ECXPRO2",41,0)
 ..I 'ECXFIRST S ^TMP("ECX-PRO EXC",$J,ECXLNE)="                                   "_ECXFIELD
"RTN","ECXPRO2",42,0)
 ..I ECXFIRST DO
"RTN","ECXPRO2",43,0)
 ...S ^TMP("ECX-PRO EXC",$J,ECXLNE)="       "_ECXPIEN_"                          "_ECXFIELD
"RTN","ECXPRO2",44,0)
 ...S ECXFIRST=0
"RTN","ECXPRO2",45,0)
 ..S ECXLNE=ECXLNE+1
"RTN","ECXPRO2",46,0)
 S ^TMP("ECX-PRO EXC",$J,ECXLNE)=" "
"RTN","ECXPRO2",47,0)
 S ECXLNE=ECXLNE+1
"RTN","ECXPRO2",48,0)
 Q
"RTN","ECXPRO2",49,0)
 ;
"RTN","ECXPRO2",50,0)
ECXFLD ;* Missing Required fields
"RTN","ECXPRO2",51,0)
 ;;STATION
"RTN","ECXPRO2",52,0)
 ;;PATIENT NAME (Invalid)
"RTN","ECXPRO2",53,0)
 ;;SSN
"RTN","ECXPRO2",54,0)
 ;;NAME (In Patient file - #2)
"RTN","ECXPRO2",55,0)
 ;;DELIVERY DATE
"RTN","ECXPRO2",56,0)
 ;;TYPE OF TRANSACTION
"RTN","ECXPRO2",57,0)
 ;;SOURCE
"RTN","ECXPRO2",58,0)
 ;;HCPCS
"RTN","ECXPRO2",59,0)
 ;;REQUESTING STATION
"RTN","ECXPRO2",60,0)
 ;;FORM REQUESTED ON
"RTN","ECXPRO2",61,0)
 ;;RECEIVING STATION
"RTN","ECXPRO2",62,0)
 Q
"RTN","ECXPRO2",63,0)
 ;
"RTN","ECXPRO2",64,0)
FEEDINFO(ECXSRCE,ECXHCPCS,ECXTYPE,ECXSTAT2,ECXRQST,ECXRCST,ECXLAB) ;Get Feeder Key and Feeder Location
"RTN","ECXPRO2",65,0)
 ;   Input
"RTN","ECXPRO2",66,0)
 ;    ECXSTAT2   - Station Number for extract
"RTN","ECXPRO2",67,0)
 ;    ECXTYPE   - Type of Transaction work performed
"RTN","ECXPRO2",68,0)
 ;    ECXSRCE   - Source of prosthesis
"RTN","ECXPRO2",69,0)
 ;    ECXHCPCS  - HCPCS code for prosthesis
"RTN","ECXPRO2",70,0)
 ;    ECXRQST   - Requesting Station
"RTN","ECXPRO2",71,0)
 ;    ECXRCST   - Receiving Station
"RTN","ECXPRO2",72,0)
 ;    ECXLAB    - Lab or non-Lab 
"RTN","ECXPRO2",73,0)
 ;   Output (to be KILLed by calling routine)
"RTN","ECXPRO2",74,0)
 ;    ECXFELOC  - Feeder Location
"RTN","ECXPRO2",75,0)
 ;    ECXFEKEY  - Feeder Key
"RTN","ECXPRO2",76,0)
 ;
"RTN","ECXPRO2",77,0)
 ;* NOTE: If a Station # <> Requesting Station
"RTN","ECXPRO2",78,0)
 ;*         AND
"RTN","ECXPRO2",79,0)
 ;*       Station # <> Receiving Station,
"RTN","ECXPRO2",80,0)
 ;*       then Feeder Location will be NULL.  
"RTN","ECXPRO2",81,0)
 ;
"RTN","ECXPRO2",82,0)
 S ECXFELOC=""
"RTN","ECXPRO2",83,0)
 S ECXFEKEY=ECXHCPCS_$S(ECXTYPE="X":"X",1:"N")_ECXSRCE
"RTN","ECXPRO2",84,0)
 ;
"RTN","ECXPRO2",85,0)
 ;* If processing a Non-Lab Transaction
"RTN","ECXPRO2",86,0)
 I ECXLAB="NONL" D  Q
"RTN","ECXPRO2",87,0)
 .S ECXFELOC=ECXSTAT2_"NONL"
"RTN","ECXPRO2",88,0)
 ;
"RTN","ECXPRO2",89,0)
 ;* If processing a Lab Transaction
"RTN","ECXPRO2",90,0)
 I ECXLAB="LAB" D  Q
"RTN","ECXPRO2",91,0)
 .I ECXSTAT2=ECXRCST D
"RTN","ECXPRO2",92,0)
 ..S ECXFELOC=ECXRCST_"LAB"
"RTN","ECXPRO2",93,0)
 ..S ECXFEKEY=ECXFEKEY_ECXRQST_"REQ"
"RTN","ECXPRO2",94,0)
 I ECXLAB="ORD" D  Q
"RTN","ECXPRO2",95,0)
 .I ECXSTAT2=ECXRQST D
"RTN","ECXPRO2",96,0)
 ..S ECXFELOC=ECXRQST_"ORD"
"RTN","ECXPRO2",97,0)
 ..S ECXFEKEY=ECXFEKEY_ECXRCST_"REC"
"RTN","ECXPRO2",98,0)
 ;
"RTN","ECXPRO2",99,0)
 Q
"RTN","ECXPURG")
0^21^B14337889
"RTN","ECXPURG",1,0)
ECXPURG ;BIR/CML-Driver for Purge of DSS Data from Local Extract & Holding Files ; [ 12/03/96  5:19 PM ]
"RTN","ECXPURG",2,0)
 ;;3.0;DSS EXTRACTS;**9,24,33**;Dec 22, 1997
"RTN","ECXPURG",3,0)
EN ;entry point from option
"RTN","ECXPURG",4,0)
 W @IOF,!!,"This option will allow you to purge:"
"RTN","ECXPURG",5,0)
 W !,"1. individual or a range of DSS extracts, or"
"RTN","ECXPURG",6,0)
 W !,"2. data that resides in the ""holding files"" for the IVP and UDP extracts."
"RTN","ECXPURG",7,0)
 W !!,"Care must be taken for several reasons:"
"RTN","ECXPURG",8,0)
 W !!,"-  You can purge ANY existing extract.  This includes transmitted and non-"
"RTN","ECXPURG",9,0)
 W !,"   transmitted extracts as well as extracts that did not run to completion"
"RTN","ECXPURG",10,0)
 W !,"   due to errors or system problems."
"RTN","ECXPURG",11,0)
 W !,"-  Choosing a range of extracts (or a broad date range for the ""holding"
"RTN","ECXPURG",12,0)
 W !,"   files"") could mean an excessively large number of records and be very"
"RTN","ECXPURG",13,0)
 W !,"   CPU intensive.  Please be sure to queue this purge for off-hours and"
"RTN","ECXPURG",14,0)
 W !,"   limit the number of extracts to be purged per a single queued session."
"RTN","ECXPURG",15,0)
 W !,"-  The IVP and UDP ""holding"" files are intermediate files that are"
"RTN","ECXPURG",16,0)
 W !,"   populated ""realtime"" by inpatient pharmacy activity.  These files are"
"RTN","ECXPURG",17,0)
 W !,"   then used to generate the IVP and UDP extracts and CANNOT be recreated."
"RTN","ECXPURG",18,0)
 W !,"   Once they are purged for a date range, extracts can no longer be"
"RTN","ECXPURG",19,0)
 W !,"   generated for that time period."
"RTN","ECXPURG",20,0)
 ;
"RTN","ECXPURG",21,0)
 K DIR W !
"RTN","ECXPURG",22,0)
 S DIR(0)="SAM^E:Extract Files;I:IVP Holding File;U:UDP Holding File"
"RTN","ECXPURG",23,0)
 S DIR("A")="Purge (E)xtract files, (I)VP data, or (U)DP data? "
"RTN","ECXPURG",24,0)
 D ^DIR K DIR G:$D(DIRUT) QUIT S ECY=Y
"RTN","ECXPURG",25,0)
 I ECY="E" D ^ECXPURG1 I $D(ECLOC) S ZTSAVE("ECLOC(")="",ZTIO="",ZTRTN="PUR1^ECXPURG",ZTDESC="DSS - Purge of Extract Files" D QUE
"RTN","ECXPURG",26,0)
 I ECY="I" D DATES^ECXPURG1 I $D(ECBDT)&($D(ECEDT)) S (ZTSAVE("ECBDT"),ZTSAVE("ECEDT"))="",ZTIO="",ZTRTN="PUR2^ECXPURG",ZTDESC="DSS - Purge of IVP Holding File" D QUE
"RTN","ECXPURG",27,0)
 I ECY="U" D DATES^ECXPURG1 I $D(ECBDT)&($D(ECEDT)) S (ZTSAVE("ECBDT"),ZTSAVE("ECEDT"))="",ZTIO="",ZTRTN="PUR3^ECXPURG",ZTDESC="DSS - Purge of UDP Holding File" D QUE
"RTN","ECXPURG",28,0)
QUIT ;
"RTN","ECXPURG",29,0)
 K %X,%Y,EC,ECBDT,ECDATE,ECDT,ECEDT,ECEX,ECFR,ECLOC,ECRC,ECTO,ECTRN,ECTYP,ECY,HDT,HI,JJ,LN,LO,PG,QFLG,SS,X,Y,ZTSK
"RTN","ECXPURG",30,0)
 K ECXDIV
"RTN","ECXPURG",31,0)
 S:$D(ZTQUEUED) ZTREQ="@"
"RTN","ECXPURG",32,0)
 Q
"RTN","ECXPURG",33,0)
QUE W $C(7),$C(7),!!?3,"<<This purge should be queued to run during non-peak hours.>>",!
"RTN","ECXPURG",34,0)
 D ^%ZTLOAD
"RTN","ECXPURG",35,0)
 I $D(ZTSK) W !,"Request queued as Task #",ZTSK,".",!
"RTN","ECXPURG",36,0)
 Q
"RTN","ECXPURG",37,0)
 ;
"RTN","ECXPURG",38,0)
PUR1 ; entry point for queued purge job of extract files
"RTN","ECXPURG",39,0)
 S ECDA=0 F  S ECDA=$O(ECLOC(ECDA)) Q:'ECDA  D
"RTN","ECXPURG",40,0)
 .S ECFILE=^ECX(727,ECDA,"FILE"),ECJ=0
"RTN","ECXPURG",41,0)
 .F  S ECJ=$O(^ECX(ECFILE,"AC",ECDA,ECJ)) Q:'ECJ  S DIK="^ECX("_ECFILE_",",DA=ECJ D ^DIK K DIK,DA
"RTN","ECXPURG",42,0)
 .S ^ECX(727,ECDA,"PURG")=DT
"RTN","ECXPURG",43,0)
 D QUIT
"RTN","ECXPURG",44,0)
 Q
"RTN","ECXPURG",45,0)
 ;
"RTN","ECXPURG",46,0)
PUR2 ; entry point for queued purge job of IVP holding file (#728.113)
"RTN","ECXPURG",47,0)
 F ECDT=ECBDT-1:0 S ECDT=$O(^ECX(728.113,"A",ECDT)) Q:'ECDT  Q:ECDT>ECEDT  S ECPT=0 F  S ECPT=$O(^ECX(728.113,"A",ECDT,ECPT)) Q:'ECPT  D
"RTN","ECXPURG",48,0)
 .S ECOR=0 F  S ECOR=$O(^ECX(728.113,"A",ECDT,ECPT,ECOR)) Q:'ECOR  D
"RTN","ECXPURG",49,0)
 ..S ECREC=0 F  S ECREC=$O(^ECX(728.113,"A",ECDT,ECPT,ECOR,ECREC)) Q:'ECREC  D
"RTN","ECXPURG",50,0)
 ...S DIK="^ECX(728.113,",DA=ECREC D ^DIK K DIK,DA
"RTN","ECXPURG",51,0)
 D QUIT
"RTN","ECXPURG",52,0)
 Q
"RTN","ECXPURG",53,0)
 ;
"RTN","ECXPURG",54,0)
PUR3 ; entry point for queued purge job of UDP holding file (#728.904)
"RTN","ECXPURG",55,0)
 F ECDT=ECBDT-1:0 S ECDT=$O(^ECX(728.904,"A",ECDT)) Q:'ECDT  Q:ECDT>ECEDT  D
"RTN","ECXPURG",56,0)
 .S ECREC=0 F  S ECREC=$O(^ECX(728.904,"A",ECDT,ECREC)) Q:'ECREC  D
"RTN","ECXPURG",57,0)
 ..S DIK="^ECX(728.904,",DA=ECREC D ^DIK K DIK,DA
"RTN","ECXPURG",58,0)
 D QUIT
"RTN","ECXPURG",59,0)
 Q
"RTN","ECXQSR")
0^29^B35103388
"RTN","ECXQSR",1,0)
ECXQSR ;ALB/JAP,BIR/PTD-DSS QUASAR Extract ; 02/14/97 14:07
"RTN","ECXQSR",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,26,24,34,33**;Dec 22, 1997
"RTN","ECXQSR",3,0)
BEG ;entry point from option
"RTN","ECXQSR",4,0)
 I '$O(^ACK(509850.8,0)) W !,"You must be using the Quality Audiology & Speech Pathology",!,"Audit & Review (QUASAR) software to run this extract.",!! Q
"RTN","ECXQSR",5,0)
 I '$D(^ACK(509850.8,1,"DSS")) W !,"Linkage has not been established between QUASAR and the DSS UNIT file (#724).",!! Q
"RTN","ECXQSR",6,0)
 I '$O(^ACK(509850.6,0)) W !,"There is no data in the A&SP CLINIC VISIT file (#509850.6).",!! Q
"RTN","ECXQSR",7,0)
 D SETUP I ECFILE="" Q
"RTN","ECXQSR",8,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXQSR",9,0)
 Q
"RTN","ECXQSR",10,0)
 ;
"RTN","ECXQSR",11,0)
START ;entry point from tasked job
"RTN","ECXQSR",12,0)
 N ERR,ECXQDT
"RTN","ECXQSR",13,0)
 S QFLG=0,ECED=ECED+.9,ECD=ECSD1,ECXQV=""
"RTN","ECXQSR",14,0)
 D QINST I $D(ERR) Q
"RTN","ECXQSR",15,0)
 S ECL=+^ACK(509850.8,1,0),ECLINK=^ACK(509850.8,1,"DSS")
"RTN","ECXQSR",16,0)
 F  S ECD=$O(^ACK(509850.6,"B",ECD)),ECDA=0 Q:(ECD>ECED)!('ECD)!(QFLG)  D
"RTN","ECXQSR",17,0)
 .I +ECXQV=3,ECD<ECXQDT S ECXQV=2.0
"RTN","ECXQSR",18,0)
 .F  S ECDA=$O(^ACK(509850.6,"B",ECD,ECDA)) Q:'ECDA  D UPDATE Q:QFLG
"RTN","ECXQSR",19,0)
 Q
"RTN","ECXQSR",20,0)
 ;
"RTN","ECXQSR",21,0)
QINST ;Get installed information for QUASAR
"RTN","ECXQSR",22,0)
 N ARR,IENS,QVIEN,INTIEN
"RTN","ECXQSR",23,0)
 S ECXQDT=""
"RTN","ECXQSR",24,0)
 D FILE^DID(509850.6,,"VERSION","ARR","ERR")
"RTN","ECXQSR",25,0)
 S ECXQV=$G(ARR("VERSION")) I +ECXQV=0 S ERR=1 Q
"RTN","ECXQSR",26,0)
 S QVIEN=$$FIND1^DIC(9.4,"","X","QUASAR") I +QVIEN<1 S ERR=1 Q
"RTN","ECXQSR",27,0)
 S IENS=","_QVIEN_","
"RTN","ECXQSR",28,0)
 S INTIEN=$$FIND1^DIC(9.49,IENS,"X",ECXQV) I +INTIEN<1 S ERR=1 Q
"RTN","ECXQSR",29,0)
 S IENS=INTIEN_","_QVIEN,ECXQDT=$$GET1^DIQ(9.49,IENS,2,"I")
"RTN","ECXQSR",30,0)
 Q
"RTN","ECXQSR",31,0)
 ;
"RTN","ECXQSR",32,0)
UPDATE ;create record for each unique CPT code for clinic visit 
"RTN","ECXQSR",33,0)
 N ARY,ECZNODE,LOC,MOD,STR,VOL,XX
"RTN","ECXQSR",34,0)
 Q:'$D(^ACK(509850.6,ECDA,0))
"RTN","ECXQSR",35,0)
 S ECZNODE=^ACK(509850.6,ECDA,0),EC2NODE=$G(^ACK(509850.6,ECDA,2))
"RTN","ECXQSR",36,0)
 S ECDT=$P(ECZNODE,U),ECDAY=$$ECXDATE^ECXUTL(ECDT,ECXYM)
"RTN","ECXQSR",37,0)
 S ECTIME=$$ECXTIME^ECXUTL(ECDT) S:$P(ECDT,".",2)="" ECTIME="000000"
"RTN","ECXQSR",38,0)
 S ECXDFN=$P(ECZNODE,U,2)
"RTN","ECXQSR",39,0)
 Q:'$$PATDEM^ECXUTL2(ECXDFN,ECD,"1;3;5")
"RTN","ECXQSR",40,0)
 S (ECHL,ECXDSSD)="",ECXDIV=$P($G(^ACK(509850.6,ECDA,5)),U)
"RTN","ECXQSR",41,0)
 S ECSTOP=$P(EC2NODE,U) Q:ECSTOP=""
"RTN","ECXQSR",42,0)
 S (ECHLS,ECHL2S)="000",ECAC=$P($G(ECZNODE),U,6)
"RTN","ECXQSR",43,0)
 I ECAC D
"RTN","ECXQSR",44,0)
 .S ECHL=+$P($G(^SC(ECAC,0)),U,7),ECHL2=+$P($G(^(0)),U,18) I ECHL D
"RTN","ECXQSR",45,0)
 ..S ECHLS=$P($G(^DIC(40.7,+ECHL,0)),U,2)
"RTN","ECXQSR",46,0)
 ..S ECHL2S=$P($G(^DIC(40.7,+ECHL2,0)),U,2)
"RTN","ECXQSR",47,0)
 ..S ECHLS=$$RJ^XLFSTR(ECHLS,3,0),ECHL2S=$$RJ^XLFSTR(ECHL2S,3,0)
"RTN","ECXQSR",48,0)
 S ECDSS=ECHLS_ECHL2S
"RTN","ECXQSR",49,0)
 S ECDU=$S(ECSTOP["A":$P(ECLINK,U),ECSTOP["S":$P(ECLINK,U,2),1:"")
"RTN","ECXQSR",50,0)
 Q:'ECDU
"RTN","ECXQSR",51,0)
 S ECDSSU=$G(^ECD(ECDU,0)),ECCS=+$P(ECDSSU,U,4),(ECO,ECM)=+$P(ECDSSU,U,3)
"RTN","ECXQSR",52,0)
 Q:'$O(^ACK(509850.6,ECDA,3,0))
"RTN","ECXQSR",53,0)
 ;Create local array of procedure codes and # of times each procedure
"RTN","ECXQSR",54,0)
 ; was performed.
"RTN","ECXQSR",55,0)
 F I=1:1:4 S @("ECXICD9"_I)=""
"RTN","ECXQSR",56,0)
 S (ECDIA,ECXMST,ECXPPC,ECXPRV1,ECXPRV2,ECXPRV3,ECUN1NPI)=""
"RTN","ECXQSR",57,0)
 ;if QUASAR v2
"RTN","ECXQSR",58,0)
 I +ECXQV=2 D
"RTN","ECXQSR",59,0)
 .S ECXPRV1=$P(EC2NODE,U,7),ECXPRV2=$P(EC2NODE,U,3)
"RTN","ECXQSR",60,0)
 .S ECXPRV3=$P(EC2NODE,U,5),ECPN=0
"RTN","ECXQSR",61,0)
 .F  S ECPN=$O(^ACK(509850.6,ECDA,3,ECPN)) Q:'ECPN  D
"RTN","ECXQSR",62,0)
 ..S XX=^ACK(509850.6,ECDA,3,ECPN,0),XX=$P(XX,U)
"RTN","ECXQSR",63,0)
 ..S XX=$P($G(^ACK(509850.4,XX,0)),U),ECXCPT=$E($$CPT^ECXUTL3(XX),1,5)
"RTN","ECXQSR",64,0)
 ..I ECXCPT]"" D
"RTN","ECXQSR",65,0)
 ...I '$D(LOC(ECXCPT)) S LOC(ECXCPT)=0_U_ECXCPT
"RTN","ECXQSR",66,0)
 ...S $P(LOC(ECXCPT),U)=$P(LOC(ECXCPT),U)+1
"RTN","ECXQSR",67,0)
 .S ECIEN=$O(^ACK(509850.6,ECDA,1,0))
"RTN","ECXQSR",68,0)
 .S ECDIA=$P($G(^ICD9(+$G(^ACK(509850.6,ECDA,1,ECIEN,0)),0)),U)
"RTN","ECXQSR",69,0)
 .F I=1:1:4 S ECIEN=$O(^ACK(509850.6,ECDA,1,ECIEN)) Q:'+ECIEN  D
"RTN","ECXQSR",70,0)
 ..S @("ECXICD9"_I)=$P($G(^ICD9(+$P(^ACK(509850.6,ECDA,1,ECIEN,0),U),0)),U)
"RTN","ECXQSR",71,0)
 ;if QUASAR v3
"RTN","ECXQSR",72,0)
 I +ECXQV=3 D
"RTN","ECXQSR",73,0)
 .N CPT,DIA,I,J,MOD,MOD1,P,STR,VOL
"RTN","ECXQSR",74,0)
 .S ECPN=0,ECXPRV1=$P(EC2NODE,U,3)
"RTN","ECXQSR",75,0)
 .S ECXMST=$P(EC2NODE,U,9),ECXMST=$S(ECXMST=1:"Y",ECXMST=0:"N",1:"")
"RTN","ECXQSR",76,0)
 .S ECXPRV2=$G(^ACK(509850.6,ECDA,2.7,1,0))
"RTN","ECXQSR",77,0)
 .S ECXPRV3=$G(^ACK(509850.6,ECDA,2.7,2,0))
"RTN","ECXQSR",78,0)
 .F  S ECPN=$O(^ACK(509850.6,ECDA,3,ECPN)) Q:'ECPN  D
"RTN","ECXQSR",79,0)
 ..S CPT=^ACK(509850.6,ECDA,3,ECPN,0),ECXCPT=$P(CPT,U) Q:'ECXCPT
"RTN","ECXQSR",80,0)
 ..S ECXMOD="",ECXVOL=1,MOD=0,VOL=+$P(CPT,U,3) S:VOL ECXVOL=VOL
"RTN","ECXQSR",81,0)
 ..S ECXCPT=$E($$CPT^ECXUTL3(ECXCPT),1,5),ECXVOL=ECXVOL+$G(LOC(ECXCPT))
"RTN","ECXQSR",82,0)
 ..S LOC(ECXCPT)=ECXVOL_U_ECXCPT
"RTN","ECXQSR",83,0)
 ..F  S MOD=$O(^ACK(509850.6,ECDA,3,ECPN,1,MOD)) Q:'MOD  D
"RTN","ECXQSR",84,0)
 ...S MOD1=+^ACK(509850.6,ECDA,3,ECPN,1,MOD,0) D:MOD1
"RTN","ECXQSR",85,0)
 ....S ECXMOD=ECXMOD_MOD1_";"
"RTN","ECXQSR",86,0)
 ..F I=1:1:$L(ECXMOD,";") I $G(ARY(ECXCPT))'[$P(ECXMOD,";",I) D
"RTN","ECXQSR",87,0)
 ...S ARY(ECXCPT)=$G(ARY(ECXCPT))_$P(ECXMOD,";",I)_";"
"RTN","ECXQSR",88,0)
 .S ECIEN=0
"RTN","ECXQSR",89,0)
 .F  S ECIEN=$O(^ACK(509850.6,ECDA,1,ECIEN)) Q:'ECIEN  D
"RTN","ECXQSR",90,0)
 ..S DIA=^ACK(509850.6,ECDA,1,ECIEN,0)
"RTN","ECXQSR",91,0)
 ..S P=$P(DIA,U,2),P=$S(P=1:"P",1:"S"),CNT=$G(STR(P))+1
"RTN","ECXQSR",92,0)
 ..S STR(P,CNT)=$P($G(^ICD9(+DIA,0)),U),STR(P)=CNT
"RTN","ECXQSR",93,0)
 .S ECDIA=$G(STR("P",1))
"RTN","ECXQSR",94,0)
 .F I=1:1:4 Q:'$D(STR("P",I+1))  S @("ECXICD9"_I)=STR("P",I)
"RTN","ECXQSR",95,0)
 .S:ECDIA="" ECDIA=$G(STR("S",1)),I=2
"RTN","ECXQSR",96,0)
 .F J=I:1:4 Q:'$D(STR("S",J))  S @("ECXICD9"_J)=STR("S",J)
"RTN","ECXQSR",97,0)
 Q:('$D(LOC))!('$O(^ACK(509850.6,ECDA,1,0)))
"RTN","ECXQSR",98,0)
 ;set up Provider Person class
"RTN","ECXQSR",99,0)
 S (ECXCPT,ECXPPC1,ECXPPC2,ECXPPC3)=""
"RTN","ECXQSR",100,0)
 S:ECXPRV1'="" ECXPPC1=$$PRVCLASS^ECXUTL(ECXPRV1,ECD),ECXPRV1=2_ECXPRV1
"RTN","ECXQSR",101,0)
 S:ECXPRV2'="" ECXPPC2=$$PRVCLASS^ECXUTL(ECXPRV2,ECD),ECXPRV2=2_ECXPRV2
"RTN","ECXQSR",102,0)
 S:ECXPRV3'="" ECXPPC3=$$PRVCLASS^ECXUTL(ECXPRV3,ECD),ECXPRV3=2_ECXPRV3
"RTN","ECXQSR",103,0)
 ;Loop through array of unique procedures. Create record in ECODE.
"RTN","ECXQSR",104,0)
 S CPT=""
"RTN","ECXQSR",105,0)
 F  S CPT=$O(LOC(CPT)) Q:CPT=""  D
"RTN","ECXQSR",106,0)
 .S ECV=+LOC(CPT),(ECP,ECXCPT)=$$CPT^ECXUTL3(CPT,$G(ARY(CPT)),ECV)
"RTN","ECXQSR",107,0)
 .D FILE
"RTN","ECXQSR",108,0)
 K CPT,ECP,ECV,LOC
"RTN","ECXQSR",109,0)
 Q
"RTN","ECXQSR",110,0)
 ;
"RTN","ECXQSR",111,0)
FILE ;file record in #727.825
"RTN","ECXQSR",112,0)
 ;node0
"RTN","ECXQSR",113,0)
 ;inst^dfn ECXDFN^ssn ECXSSN^name ECXPNM^i/o status ECXA^
"RTN","ECXQSR",114,0)
 ;day ECDAY^DSS unit ECDU^^
"RTN","ECXQSR",115,0)
 ;category ECPTTM^procedure ECP^volume ECV^
"RTN","ECXQSR",116,0)
 ;cost center ^ordering sec ^section^
"RTN","ECXQSR",117,0)
 ;provider ECXPRV1^ECXPPC1^ECXPRV2^ECXPPC2^ECXPRV3^ECXPPC3^
"RTN","ECXQSR",118,0)
 ;mov # ECXMN^treat spec ECXTS^time ECTIME^
"RTN","ECXQSR",119,0)
 ;primary care team ECPTTM^
"RTN","ECXQSR",120,0)
 ;primary care provider ECPTPR^pce cpt code & modifers ECXCPT^
"RTN","ECXQSR",121,0)
 ;primary icd-9 code ECDIA^secondary icd-9 #1 ECXICD91^
"RTN","ECXQSR",122,0)
 ;secondary icd-9 #2 ECXICD92^secondary icd-9 #3 ECXICD93^
"RTN","ECXQSR",123,0)
 ;secondary icd-9 #4 ECXICD94^agent orange ECXAST^
"RTN","ECXQSR",124,0)
 ;radiation exposure ECRE^
"RTN","ECXQSR",125,0)
 ;environmental contaminants ECENV^
"RTN","ECXQSR",126,0)
 ;service connected ECSC^sent to pce^^dss identifier ECDSS^placeholder
"RTN","ECXQSR",127,0)
 ;node1
"RTN","ECXQSR",128,0)
 ;mpi ECXNPI^dss dept ECXDSSD^provider npi ECUN1NPI^^^
"RTN","ECXQSR",129,0)
 ;pc prov person class ECPTNPI^assoc pc provider ECASPR^
"RTN","ECXQSR",130,0)
 ;assoc pc prov person class ECCLAS2^assoc pc provider npi ECASNPI^
"RTN","ECXQSR",131,0)
 ;divison ECXDIV^dom ECXDOM^enrollment category ECXCAT^
"RTN","ECXQSR",132,0)
 ;enrollment status ECXSTAT^enrollment priority ECXPRIOR^
"RTN","ECXQSR",133,0)
 ;period of service ECXPOS^purple heart ECXPHI^extended outpatient ECXEOI
"RTN","ECXQSR",134,0)
 N DA,DIK
"RTN","ECXQSR",135,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXQSR",136,0)
 S ECODE=EC7_U_EC23_U
"RTN","ECXQSR",137,0)
 S ECODE=ECODE_ECL_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_ECDAY_U_ECDU_U_U
"RTN","ECXQSR",138,0)
 S ECODE=ECODE_ECP_U_ECV_U_ECCS_U_ECO_U_ECM_U_ECXPRV1_U_ECXPPC1_U
"RTN","ECXQSR",139,0)
 S ECODE=ECODE_ECXPRV2_U_ECXPPC2_U_ECXPRV3_U_ECXPPC3_U_U
"RTN","ECXQSR",140,0)
 S ECODE=ECODE_ECXMN_U_ECXTS_U_ECTIME_U_ECPTTM_U
"RTN","ECXQSR",141,0)
 S ECODE=ECODE_ECPTPR_U_ECXCPT_U_ECDIA_U_ECXICD91_U_ECXICD92_U
"RTN","ECXQSR",142,0)
 S ECODE=ECODE_ECXICD93_U_ECXICD94_U_ECXAST_U_ECXRST_U_ECXEST_U
"RTN","ECXQSR",143,0)
 S ECODE=ECODE_ECSC_U_"N"_U_U_ECDSS_U_U
"RTN","ECXQSR",144,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECUN1NPI_U_U_U_ECCLAS_U_ECPTNPI_U_ECASPR_U
"RTN","ECXQSR",145,0)
 S ECODE1=ECODE1_ECCLAS2_U_ECASNPI_U_ECXDIV_U_ECXMST_U_ECXDOM_U
"RTN","ECXQSR",146,0)
 S ECODE1=ECODE1_ECXDOB_U_ECXCAT_U_ECXSTAT_U_ECXPRIOR_U_ECXPOS_U
"RTN","ECXQSR",147,0)
 S ECODE1=ECODE1_ECXPHI_U_$G(ECXEOI)
"RTN","ECXQSR",148,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXQSR",149,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXQSR",150,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD
"RTN","ECXQSR",151,0)
 Q
"RTN","ECXQSR",152,0)
 ;
"RTN","ECXQSR",153,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXQSR",154,0)
 S ECHEAD="ECQ"
"RTN","ECXQSR",155,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXQSR",156,0)
 Q
"RTN","ECXQSR",157,0)
 ;
"RTN","ECXQSR",158,0)
QUE ;Entry point for the background requeuing handled by ECXTAUTO.
"RTN","ECXQSR",159,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXRAD")
0^14^B17410583
"RTN","ECXRAD",1,0)
ECXRAD ;ALB/JAP,BIR/PDW,PTD-Extract for Radiology ; [ 11/27/96  10:47 AM ]
"RTN","ECXRAD",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,16,24,33**;Dec 22, 1997
"RTN","ECXRAD",3,0)
BEG ;entry point from option
"RTN","ECXRAD",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXRAD",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXRAD",6,0)
 Q
"RTN","ECXRAD",7,0)
 ;
"RTN","ECXRAD",8,0)
START ;start rad extract
"RTN","ECXRAD",9,0)
 S QFLG=0
"RTN","ECXRAD",10,0)
 K ECXDD D FIELD^DID(70.03,14,,"SPECIFIER","ECXDD") S ECPROF=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXRAD",11,0)
 S ECXDFN="",ECDT=ECSD-.1,ECED1=ECED+.3
"RTN","ECXRAD",12,0)
 F  S ECDT=$O(^RADPT("AR",ECDT)) Q:ECDT>ECED1!(ECDT'>0)  D  Q:QFLG
"RTN","ECXRAD",13,0)
 .S ECXDFN=""
"RTN","ECXRAD",14,0)
 .F  S ECXDFN=$O(^RADPT("AR",ECDT,ECXDFN)) Q:ECXDFN=""  I '$D(^TMP("ECL",$J,ECXDFN)) D GET Q:QFLG
"RTN","ECXRAD",15,0)
 K ^TMP("ECL",$J)
"RTN","ECXRAD",16,0)
 Q
"RTN","ECXRAD",17,0)
 ;
"RTN","ECXRAD",18,0)
GET ;get data
"RTN","ECXRAD",19,0)
 N X,SUB,TYPE
"RTN","ECXRAD",20,0)
 S ^TMP("ECL",$J,ECXDFN)=""
"RTN","ECXRAD",21,0)
 ;with dfn get all exams within date range
"RTN","ECXRAD",22,0)
 S ECXMDT=ECSD-.1
"RTN","ECXRAD",23,0)
 F  S ECXMDT=$O(^RADPT(ECXDFN,"DT","B",ECXMDT)) Q:((ECXMDT>ECED1)!(ECXMDT=""))  D  Q:QFLG
"RTN","ECXRAD",24,0)
 .S ECTM=$$ECXTIME^ECXUTL(ECXMDT) S:ECTM>235959 ECTM=235959
"RTN","ECXRAD",25,0)
 .S ECXDAY=$$ECXDATE^ECXUTL(ECXMDT,ECXYM)
"RTN","ECXRAD",26,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXMDT,"."),"1;",.ECXPAT)
"RTN","ECXRAD",27,0)
 .Q:'OK
"RTN","ECXRAD",28,0)
 .S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXRAD",29,0)
 .S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXMDT,"."),ECPROF)
"RTN","ECXRAD",30,0)
 .S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXRAD",31,0)
 .S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXRAD",32,0)
 .S X=$$INP^ECXUTL2(ECXDFN,ECXMDT),ECXA=$P(X,U),ECXMN=$P(X,U,2)
"RTN","ECXRAD",33,0)
 .S ECXTS=$P(X,U,3),ECXDOM=$P(X,U,10)
"RTN","ECXRAD",34,0)
 .;for dfn & date get exam(s) ien
"RTN","ECXRAD",35,0)
 .S ECXMDA=""
"RTN","ECXRAD",36,0)
 .F  S ECXMDA=$O(^RADPT(ECXDFN,"DT","B",ECXMDT,ECXMDA)) Q:+ECXMDA=0  D
"RTN","ECXRAD",37,0)
 ..S ECXDIV=$P(^RADPT(ECXDFN,"DT",ECXMDA,0),U,3),ECLOC=$P(^(0),U,4),ECTY=$P(^(0),U,2)
"RTN","ECXRAD",38,0)
 ..;procedures and modifiers for specific exam (case numbers)
"RTN","ECXRAD",39,0)
 ..;ward/clinic,service,provider,diagnostic code
"RTN","ECXRAD",40,0)
 ..S ECCN=0
"RTN","ECXRAD",41,0)
 ..F  S ECCN=$O(^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN)) Q:ECCN'>0  D
"RTN","ECXRAD",42,0)
 ...S ECCA=^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN,0)
"RTN","ECXRAD",43,0)
 ...S ECXW=$P(ECCA,U,6),ECXW=$P($G(^DIC(42,+ECXW,44)),U)
"RTN","ECXRAD",44,0)
 ...S:ECXW="" ECXW=$P(ECCA,U,8)
"RTN","ECXRAD",45,0)
 ...S ECXDSSD=""
"RTN","ECXRAD",46,0)
 ...S ECS=$P(ECCA,U,7),ECDOC=ECPROF_$P(ECCA,U,14),ECDOCNPI="",ECDI=$P(ECCA,U,13)
"RTN","ECXRAD",47,0)
 ...S ECPRO=$P(ECCA,U,2),ECSTAT=$P($G(^RA(72,+$P(ECCA,U,3),0)),U,3)
"RTN","ECXRAD",48,0)
 ...Q:'ECPRO 
"RTN","ECXRAD",49,0)
 ...Q:+ECSTAT=0
"RTN","ECXRAD",50,0)
 ...;get CPT code & modifiers
"RTN","ECXRAD",51,0)
 ...S ECPT=+$P($G(^RAMIS(71,+ECPRO,0)),U,9),ECXCMOD=""
"RTN","ECXRAD",52,0)
 ...;quit if this is a 'parent' procedure
"RTN","ECXRAD",53,0)
 ...S TYPE=$P($G(^RAMIS(71,+ECPRO,0)),U,6)
"RTN","ECXRAD",54,0)
 ...Q:((ECPT=0)&(TYPE="P"))
"RTN","ECXRAD",55,0)
 ...;if site is using radiology with cpt modifiers then get them
"RTN","ECXRAD",56,0)
 ...K ARR,ERR D FIELD^DID(70.03,135,,"LABEL","ARR","ERR")
"RTN","ECXRAD",57,0)
 ...I $D(ARR("LABEL")) D
"RTN","ECXRAD",58,0)
 ....K ARR,ERR D FIELD^DID(70.03,135,,"GLOBAL SUBSCRIPT LOCATION","ARR","ERR")
"RTN","ECXRAD",59,0)
 ....Q:$D(ERR("DIERR"))
"RTN","ECXRAD",60,0)
 ....S SUB=$P(ARR("GLOBAL SUBSCRIPT LOCATION"),";") S ECMOD=0
"RTN","ECXRAD",61,0)
 ....Q:'$D(^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN,SUB))
"RTN","ECXRAD",62,0)
 ....F  S ECMOD=$O(^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN,SUB,ECMOD)) Q:ECMOD'>0  S ECXCMOD=ECXCMOD_$P(^(ECMOD,0),U)_";"
"RTN","ECXRAD",63,0)
 ...S ECXCPT=$$CPT^ECXUTL3(ECPT,ECXCMOD)
"RTN","ECXRAD",64,0)
 ...;get procedure radiology modifiers
"RTN","ECXRAD",65,0)
 ...S ECMOD=0,ECMODS=""
"RTN","ECXRAD",66,0)
 ...F  S ECMOD=$O(^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN,"M",ECMOD)) Q:ECMOD'>0  S ECMODS=ECMODS_$P(^(ECMOD,0),U)_";"
"RTN","ECXRAD",67,0)
 ...D FILE
"RTN","ECXRAD",68,0)
 Q
"RTN","ECXRAD",69,0)
 ;
"RTN","ECXRAD",70,0)
FILE ;file record
"RTN","ECXRAD",71,0)
 ;node0
"RTN","ECXRAD",72,0)
 ;rad div^dfn^ssn^name^in/out (ECXA)^day^cpt code^procedure^img loc^ward^ser^diag code^req physician^
"RTN","ECXRAD",73,0)
 ;modifiers^mov #^treat spec^time^imaging type^primary care team^primary care provider
"RTN","ECXRAD",74,0)
 ;node1
"RTN","ECXRAD",75,0)
 ;mpi^dss dept^req physician npi^pc provider npi^pc prov person class^assoc pc provider^assoc pc prov person class^assoc pc prov npi^dom^extended op
"RTN","ECXRAD",76,0)
 N DA,DIK
"RTN","ECXRAD",77,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXRAD",78,0)
 S ECODE=EC7_U_EC23_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXRAD",79,0)
 S ECODE=ECODE_ECXDAY_U_ECXCPT_U_ECPRO_U_ECLOC_U_ECXW_U_ECS_U_ECDI_U
"RTN","ECXRAD",80,0)
 S ECODE=ECODE_ECDOC_U_ECMODS_U_ECXMN_U_ECXTS_U_ECTM_U_ECTY_U_ECPTTM_U
"RTN","ECXRAD",81,0)
 S ECODE=ECODE_ECPTPR_U
"RTN","ECXRAD",82,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECDOCNPI_U_ECPTNPI_U_ECCLAS_U_ECASPR_U
"RTN","ECXRAD",83,0)
 S ECODE1=ECODE1_ECCLAS2_U_ECASNPI_U_ECXDOM_U_$G(ECXEOP)
"RTN","ECXRAD",84,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXRAD",85,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXRAD",86,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXRAD",87,0)
 Q
"RTN","ECXRAD",88,0)
 ;
"RTN","ECXRAD",89,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXRAD",90,0)
 S ECHEAD="RAD"
"RTN","ECXRAD",91,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXRAD",92,0)
 Q
"RTN","ECXSCNS")
0^15^B21764882
"RTN","ECXSCNS",1,0)
ECXSCNS ;ALB/JAP,BIR/DMA,PTD-No Show Clinic Extract ; [ 11/22/96  5:48 PM ]
"RTN","ECXSCNS",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,20,24,30,33**;Dec 22, 1997
"RTN","ECXSCNS",3,0)
BEG ;entry point from option
"RTN","ECXSCNS",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXSCNS",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXSCNS",6,0)
 Q
"RTN","ECXSCNS",7,0)
 ;
"RTN","ECXSCNS",8,0)
START ;start package specific extract
"RTN","ECXSCNS",9,0)
 N DIC,DA,DIQ,SC,ECD,ECDA,LOCARR,JI,X,Y
"RTN","ECXSCNS",10,0)
 K ^TMP($J,"ECXS"),^TMP($J,"ECXCL")
"RTN","ECXSCNS",11,0)
 S (QFLG,SC)=0,ECED=ECED+.3
"RTN","ECXSCNS",12,0)
 ;get clinics - default appt length, type, division, provider, etc.
"RTN","ECXSCNS",13,0)
 F  S SC=$O(^SC(SC)) Q:'SC  D
"RTN","ECXSCNS",14,0)
 .K LOCARR S DIC=44,DA=SC,DR="2;3.5;16;1912",DIQ(0)="I",DIQ="LOCARR" D EN^DIQ1
"RTN","ECXSCNS",15,0)
 .S ALEN=+$G(LOCARR(44,SC,1912,"I")),^TMP($J,"ECXCL",SC)=ALEN,ALEN=$$RJ^XLFSTR(ALEN,3,0)
"RTN","ECXSCNS",16,0)
 .S ^TMP($J,"ECXCL",SC)=^TMP($J,"ECXCL",SC)_"^"_ALEN_"^"_$G(LOCARR(44,SC,2,"I"))_"^"_+$G(LOCARR(44,SC,3.5,"I"))
"RTN","ECXSCNS",17,0)
 .S ECXPROV=LOCARR(44,SC,16,"I"),ECXPROVP="",ECXPROVN="" I ECXPROV D
"RTN","ECXSCNS",18,0)
 ..S ECXPROVP=$$PRVCLASS^ECXUTL(ECXPROV,ECSD1)
"RTN","ECXSCNS",19,0)
 ..S ECXPROV="2"_ECXPROV
"RTN","ECXSCNS",20,0)
 .S ^TMP($J,"ECXCL",SC)=^TMP($J,"ECXCL",SC)_"^"_ECXPROV_"^"_ECXPROVP_"^"_ECXPROVN
"RTN","ECXSCNS",21,0)
 .D FEEDER^ECXSCX1(SC,ECSD1,.ECXP1,.ECXP2,.ECXP3,.ECXSEND,.ECXDIV)
"RTN","ECXSCNS",22,0)
 .K ECXP1,ECXP2,ECXP3,ECXSEND,ECXDIV
"RTN","ECXSCNS",23,0)
 ;extract
"RTN","ECXSCNS",24,0)
 S SC=0
"RTN","ECXSCNS",25,0)
 F  S SC=$O(^SC(SC)) Q:('SC)!(QFLG)  I $D(^TMP($J,"ECXCL",SC)) S EC=^TMP($J,"ECXCL",SC) I $P(EC,U,3)="C" D  Q:QFLG
"RTN","ECXSCNS",26,0)
 .D FEEDER^ECXSCX1(SC,ECSD1,.ECXP1,.ECXP2,.ECXP3,.ECXSEND,.ECXDIV)
"RTN","ECXSCNS",27,0)
 .Q:ECXSEND=6
"RTN","ECXSCNS",28,0)
 .S ECXDSS=ECXP1_ECXP2,ECXDSSD=""
"RTN","ECXSCNS",29,0)
 .;get default provider for clinic
"RTN","ECXSCNS",30,0)
 .S (ECXPROV,ECXPROVP,ECXPROVN)=""
"RTN","ECXSCNS",31,0)
 .S ECXPROV=$P($G(^TMP($J,"ECXCL",SC)),U,5) I ECXPROV D
"RTN","ECXSCNS",32,0)
 ..S ECXPROVP=$P(^TMP($J,"ECXCL",SC),U,6),ECXPROVN=$P(^TMP($J,"ECXCL",SC),U,7)
"RTN","ECXSCNS",33,0)
 .;find appts in date range
"RTN","ECXSCNS",34,0)
 .S ECD=ECSD1
"RTN","ECXSCNS",35,0)
 .F  S ECD=$O(^SC(SC,"S",ECD)) Q:('ECD)!(ECD>ECED)  D  Q:QFLG
"RTN","ECXSCNS",36,0)
 ..;get noshows only - no data in check-in/check-out node
"RTN","ECXSCNS",37,0)
 ..S JI=0 F  S JI=$O(^SC(SC,"S",ECD,JI)) Q:'JI  S ECDA=0 F  S ECDA=$O(^SC(SC,"S",ECD,JI,ECDA)) Q:'ECDA  I $D(^(ECDA,0)),$S('$D(^("C")):1,1:^("C")="") D
"RTN","ECXSCNS",38,0)
 ...S ECXDFN=$P(^SC(SC,"S",ECD,JI,ECDA,0),U) Q:ECXDFN=""
"RTN","ECXSCNS",39,0)
 ...S ECXDATE=ECD,ECXERR=0
"RTN","ECXSCNS",40,0)
 ...I $D(^DPT(ECXDFN,"S",ECD,0)) D
"RTN","ECXSCNS",41,0)
 ....Q:$P(^DPT(ECXDFN,"S",ECD,0),U)'=SC  Q:$P(^(0),U,2)'["N"
"RTN","ECXSCNS",42,0)
 ....D PAT(ECXDFN,ECXDATE,.ECXERR)
"RTN","ECXSCNS",43,0)
 ....Q:ECXERR
"RTN","ECXSCNS",44,0)
 ....;log noshows only for outpatients
"RTN","ECXSCNS",45,0)
 ....I ECXA=1 D FILE
"RTN","ECXSCNS",46,0)
 K ^TMP($J,"ECXS"),^TMP($J,"ECXCL")
"RTN","ECXSCNS",47,0)
 Q
"RTN","ECXSCNS",48,0)
 ;
"RTN","ECXSCNS",49,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;get patient demographic data
"RTN","ECXSCNS",50,0)
 N OK,X
"RTN","ECXSCNS",51,0)
 ;set patient data
"RTN","ECXSCNS",52,0)
 S OK=1
"RTN","ECXSCNS",53,0)
 K ECXPAT
"RTN","ECXSCNS",54,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;2;3;5",.ECXPAT)
"RTN","ECXSCNS",55,0)
 I 'OK S ECXERR=1 Q
"RTN","ECXSCNS",56,0)
 S ECXSSN=ECXPAT("SSN")
"RTN","ECXSCNS",57,0)
 S ECXPNM=ECXPAT("NAME"),ECXMPI=ECXPAT("MPI")
"RTN","ECXSCNS",58,0)
 S ECXSEX=ECXPAT("SEX"),ECXDOB=ECXPAT("DOB")
"RTN","ECXSCNS",59,0)
 S ECXELIG=ECXPAT("ELIG"),ECXVET=ECXPAT("VET")
"RTN","ECXSCNS",60,0)
 S ECXRACE=ECXPAT("RACE"),ECXPST=ECXPAT("POW STAT")
"RTN","ECXSCNS",61,0)
 S ECXPLOC=ECXPAT("POW LOC"),ECXRST=ECXPAT("IR STAT")
"RTN","ECXSCNS",62,0)
 S ECXAST=ECXPAT("AO STAT"),ECXMST=ECXPAT("MST STAT")
"RTN","ECXSCNS",63,0)
 S ECXSTATE=ECXPAT("STATE"),ECXCNTY=ECXPAT("COUNTY")
"RTN","ECXSCNS",64,0)
 S ECXZIP=ECXPAT("ZIP"),ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXSCNS",65,0)
 ;2001 changes
"RTN","ECXSCNS",66,0)
 S ECXPOS=ECXPAT("POS") I $$ENROLLM^ECXUTL2(ECXDFN)
"RTN","ECXSCNS",67,0)
 ;get sharing agreement data
"RTN","ECXSCNS",68,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXSCNS",69,0)
 D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXSCNS",70,0)
 ;get inpatient data
"RTN","ECXSCNS",71,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXSCNS",72,0)
 S ECXA=$P(X,U),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3),ECXDOM=$P(X,U,10)
"RTN","ECXSCNS",73,0)
 Q:ECXA'=1
"RTN","ECXSCNS",74,0)
 ;get primary care data
"RTN","ECXSCNS",75,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXSCNS",76,0)
 S ECPTTM=$P(X,U,1)
"RTN","ECXSCNS",77,0)
 S ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXSCNS",78,0)
 S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXSCNS",79,0)
 Q
"RTN","ECXSCNS",80,0)
 ;
"RTN","ECXSCNS",81,0)
FILE ;file record
"RTN","ECXSCNS",82,0)
 ;node0
"RTN","ECXSCNS",83,0)
 ;fac^dfn^ssn^name^in/out (ECXA)^day^^mov #^treat spec^dob^elig^
"RTN","ECXSCNS",84,0)
 ;vet^time^primary care team^primary care provider^
"RTN","ECXSCNS",85,0)
 ;provider^race^dss identifier
"RTN","ECXSCNS",86,0)
 ;node1
"RTN","ECXSCNS",87,0)
 ;mpi^dss dept^pc provider npi^provider npi^
"RTN","ECXSCNS",88,0)
 ;pc prov person class^provider person class^
"RTN","ECXSCNS",89,0)
 ;pow status^pow loc^ir status^ao status
"RTN","ECXSCNS",90,0)
 ;sharing agree payor^sharing agree ins^mst status^
"RTN","ECXSCNS",91,0)
 ;enroll loc^state^county^zip^sex^assoc pc prov^
"RTN","ECXSCNS",92,0)
 ;assoc pc prov person class^assoc pc prov npi
"RTN","ECXSCNS",93,0)
 N DA,DIK
"RTN","ECXSCNS",94,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXSCNS",95,0)
 S ECODE=EC7_U_EC23_U
"RTN","ECXSCNS",96,0)
 S ECODE=ECODE_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXSCNS",97,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U
"RTN","ECXSCNS",98,0)
 S ECODE=ECODE_U_ECXMN_U_ECXTS_U_ECXDOB_U_ECXELIG_U_ECXVET_U
"RTN","ECXSCNS",99,0)
 S ECODE=ECODE_$$ECXTIME^ECXUTL(ECXDATE)_U_ECPTTM_U_ECPTPR_U_ECXPROV_U
"RTN","ECXSCNS",100,0)
 S ECODE=ECODE_ECXRACE_U_ECXDSS_U
"RTN","ECXSCNS",101,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECPTNPI_U_ECXPROVN_U_ECCLAS_U_ECXPROVP_U
"RTN","ECXSCNS",102,0)
 S ECODE1=ECODE1_ECXPST_U_ECXPLOC_U_ECXRST_U_ECXAST_U
"RTN","ECXSCNS",103,0)
 S ECODE1=ECODE1_ECXPAYOR_U_ECXSAI_U_ECXMST_U_ECXENRL_U_ECXSTATE_U
"RTN","ECXSCNS",104,0)
 S ECODE1=ECODE1_ECXCNTY_U_ECXZIP_U_ECXSEX_U_ECASPR_U_ECCLAS2_U
"RTN","ECXSCNS",105,0)
 S ECODE1=ECODE1_ECASNPI_U_ECXDOM_U_ECXCAT_U_ECXSTAT_U_ECXPRIOR_U
"RTN","ECXSCNS",106,0)
 S ECODE1=ECODE1_ECXPOS_U_$G(ECXEOP)
"RTN","ECXSCNS",107,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXSCNS",108,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXSCNS",109,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSCNS",110,0)
 Q
"RTN","ECXSCNS",111,0)
 ;
"RTN","ECXSCNS",112,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXSCNS",113,0)
 S ECHEAD="NOS"
"RTN","ECXSCNS",114,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXSCNS",115,0)
 Q
"RTN","ECXSCNS",116,0)
 ;
"RTN","ECXSCNS",117,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXSCNS",118,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXSCX1")
0^20^B64225971
"RTN","ECXSCX1",1,0)
ECXSCX1 ;ALB/JAP,BIR/DMA-Clinic Extract Message ; 20 Mar 95 / 11:10 AM [ 12/03/96  1:32 PM ]
"RTN","ECXSCX1",2,0)
 ;;3.0;DSS EXTRACTS;**8,28,24,27,29,30,31,33**;Dec 22, 1997
"RTN","ECXSCX1",3,0)
EN ;entry point from ecxscx
"RTN","ECXSCX1",4,0)
 N ECX
"RTN","ECXSCX1",5,0)
 ;send missing clinic message
"RTN","ECXSCX1",6,0)
 S ECX=$O(^TMP($J,"ECXS","MISS",0)) D
"RTN","ECXSCX1",7,0)
 .Q:ECX=""
"RTN","ECXSCX1",8,0)
 .S XMSUB="MISSING CLINICS in File #728.44",XMDUZ="DSS SYSTEM"
"RTN","ECXSCX1",9,0)
 .K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXSCX1",10,0)
 .F ECX=1:1:5 S ^TMP($J,"ECXS","MISS",ECX,0)=$P($T(MSG+ECX),";;",2)
"RTN","ECXSCX1",11,0)
 .S XMTEXT="^TMP($J,""ECXS"",""MISS""," D ^XMD
"RTN","ECXSCX1",12,0)
 ;send no division message
"RTN","ECXSCX1",13,0)
 S ECX=$O(^TMP($J,"ECXS","DIV",0)) D
"RTN","ECXSCX1",14,0)
 .Q:ECX=""
"RTN","ECXSCX1",15,0)
 .S XMSUB="CLINICS w/o DIVISION Data",XMDUZ="DSS SYSTEM"
"RTN","ECXSCX1",16,0)
 .K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXSCX1",17,0)
 .F ECX=1:1:5 S ^TMP($J,"ECXS","DIV",ECX,0)=$P($T(MSG2+ECX),";;",2)
"RTN","ECXSCX1",18,0)
 .S XMTEXT="^TMP($J,""ECXS"",""DIV""," D ^XMD
"RTN","ECXSCX1",19,0)
 ;cleanup
"RTN","ECXSCX1",20,0)
 K ^TMP($J,"ECXS")
"RTN","ECXSCX1",21,0)
 Q
"RTN","ECXSCX1",22,0)
MSG ;text for missing clinic
"RTN","ECXSCX1",23,0)
 ;;The following clinics have not been entered into the CLINIC AND
"RTN","ECXSCX1",24,0)
 ;;STOP CODES file (#728.44).  If any listed clinic is currently
"RTN","ECXSCX1",25,0)
 ;;active, please use the options 'Create DSS Clinic Stop Code File'
"RTN","ECXSCX1",26,0)
 ;;and 'Enter/Edit DSS Stop Codes for Clinics' to update this file.
"RTN","ECXSCX1",27,0)
 ;;  
"RTN","ECXSCX1",28,0)
 ;
"RTN","ECXSCX1",29,0)
MSG2 ;text for missing division
"RTN","ECXSCX1",30,0)
 ;;The following clinics in the HOSPITAL LOCATION file (#44) have not
"RTN","ECXSCX1",31,0)
 ;;been assigned to a division from the MEDICAL CENTER DIVISION file 
"RTN","ECXSCX1",32,0)
 ;;(#40.8).  CLI extract records associated with these clinics have
"RTN","ECXSCX1",33,0)
 ;;been given a default Division identifier of "1".
"RTN","ECXSCX1",34,0)
 ;;
"RTN","ECXSCX1",35,0)
 ;
"RTN","ECXSCX1",36,0)
MISS ;load ^tmp if clinic missing from #728.44
"RTN","ECXSCX1",37,0)
 N DAT,ID,RD
"RTN","ECXSCX1",38,0)
 S (ID,RD)=""
"RTN","ECXSCX1",39,0)
 S DAT=$G(^SC(SC,"I")) I DAT]"" S ID=+DAT,RD=$P(DAT,U,2)
"RTN","ECXSCX1",40,0)
 ;ignore inactive clinics
"RTN","ECXSCX1",41,0)
 I ID,ID<DT I 'RD!(RD>DT) Q
"RTN","ECXSCX1",42,0)
 I '$D(^TMP($J,"ECXS","ECXMISS")) S ^TMP($J,"ECXS","ECXMISS")=10
"RTN","ECXSCX1",43,0)
 S ECXMISS=^TMP($J,"ECXS","ECXMISS")
"RTN","ECXSCX1",44,0)
 S ^TMP($J,"ECXS","MISS",ECXMISS,0)=$J(SC,6)_"    "_$$LJ^XLFSTR($P(^SC(SC,0),U),40)_ECSC_"/"_ECCSC
"RTN","ECXSCX1",45,0)
 S ^TMP($J,"ECXS","ECXMISS")=ECXMISS+1
"RTN","ECXSCX1",46,0)
 Q
"RTN","ECXSCX1",47,0)
 ;
"RTN","ECXSCX1",48,0)
NODIV ;load ^tmp if clinic w/o division
"RTN","ECXSCX1",49,0)
 N DAT,ID,RD
"RTN","ECXSCX1",50,0)
 S (ID,RD)=""
"RTN","ECXSCX1",51,0)
 S DAT=$G(^SC(SC,"I")) I DAT]"" S ID=+DAT,RD=$P(DAT,U,2)
"RTN","ECXSCX1",52,0)
 ;ignore inactive clinics
"RTN","ECXSCX1",53,0)
 I ID,ID<DT I 'RD!(RD>DT) Q
"RTN","ECXSCX1",54,0)
 I '$D(^TMP($J,"ECXS","ECXMISS")) S ^TMP($J,"ECXS","ECXMISS")=10
"RTN","ECXSCX1",55,0)
 S ECXMISS=^TMP($J,"ECXS","ECXMISS")
"RTN","ECXSCX1",56,0)
 S ^TMP($J,"ECXS","DIV",ECXMISS,0)=$J(SC,6)_"    "_$$LJ^XLFSTR($P(^SC(SC,0),U),40)
"RTN","ECXSCX1",57,0)
 S ^TMP($J,"ECXS","ECXMISS")=ECXMISS+1
"RTN","ECXSCX1",58,0)
 Q
"RTN","ECXSCX1",59,0)
 ;
"RTN","ECXSCX1",60,0)
FEEDER(ECXSC,ECXSD,ECXP1,ECXP2,ECXP3,ECXSEND,ECXDIV) ;get transmission style and feeder key variables
"RTN","ECXSCX1",61,0)
 ;feeder key = primary stop code_secondary stop code_length of appointment_national clinic code_noshow indicator
"RTN","ECXSCX1",62,0)
 ;   input
"RTN","ECXSCX1",63,0)
 ;   ECXSC = ien of clinic in file #44 (required)
"RTN","ECXSCX1",64,0)
 ;   ECXSD  = start date of extract date range (required)
"RTN","ECXSCX1",65,0)
 ;   ECXP1,ECXP2,ECXP3,ECXSEND passed by reference (required)
"RTN","ECXSCX1",66,0)
 ;   output (passed-by-reference variables)
"RTN","ECXSCX1",67,0)
 ;   ECXP1  = primary stop code
"RTN","ECXSCX1",68,0)
 ;   ECXP2  = secondary stop code
"RTN","ECXSCX1",69,0)
 ;   ECXP3  = field #7 of file #728.44
"RTN","ECXSCX1",70,0)
 ;   ECXSEND = field #5 of file #728.44
"RTN","ECXSCX1",71,0)
 ;   ECXDIV  = field #3.5 of file #44
"RTN","ECXSCX1",72,0)
 N ECSC,ECCSC,ECSD1,ECXNC,ECXMISS,CLIN,SC
"RTN","ECXSCX1",73,0)
 S (ECXP1,ECXP2)="000",ECXP3="0000"
"RTN","ECXSCX1",74,0)
 S ECXSEND=1,ECXDIV=0
"RTN","ECXSCX1",75,0)
 Q:+ECXSC=0
"RTN","ECXSCX1",76,0)
 ;get needed data from ^tmp
"RTN","ECXSCX1",77,0)
 I $D(^TMP($J,"ECXS","SC",ECXSC)) D
"RTN","ECXSCX1",78,0)
 .S CLIN=^TMP($J,"ECXS","SC",ECXSC)
"RTN","ECXSCX1",79,0)
 .S ECXP1=$P(CLIN,U),ECXP2=$P(CLIN,U,2),ECXP3=$P(CLIN,U,3),ECXSEND=$P(CLIN,U,4),ECXDIV=$P(CLIN,U,5)
"RTN","ECXSCX1",80,0)
 .S ECXDIV=+$P($G(^TMP($J,"ECXCL",ECXSC)),U,4) S:ECXDIV=0 ECXDIV=1
"RTN","ECXSCX1",81,0)
 ;otherwise, set needed data in ^tmp
"RTN","ECXSCX1",82,0)
 I '$D(^TMP($J,"ECXS","SC",ECXSC)) D
"RTN","ECXSCX1",83,0)
 .;get division or send no division msg
"RTN","ECXSCX1",84,0)
 .S ECXDIV=+$P($G(^TMP($J,"ECXCL",ECXSC)),U,4)
"RTN","ECXSCX1",85,0)
 .I ECXDIV=0 S SC=ECXSC D NODIV S ECXDIV=1
"RTN","ECXSCX1",86,0)
 .;get other data from file #44 if no #727.44 record; send missing clinic msg
"RTN","ECXSCX1",87,0)
 .I '$D(^ECX(728.44,ECXSC,0)) D
"RTN","ECXSCX1",88,0)
 ..S ECSC=+$P($G(^SC(ECXSC,0)),U,7),ECCSC=+$P(^(0),U,18)
"RTN","ECXSCX1",89,0)
 ..S SC=ECXSC,ECSD1=ECXSD D MISS
"RTN","ECXSCX1",90,0)
 ..S:ECSC ECXP1=$P($G(^DIC(40.7,ECSC,0)),U,2),ECXP1=$$RJ^XLFSTR(+ECXP1,3,0)
"RTN","ECXSCX1",91,0)
 .;otherwise get other data from file #728.44
"RTN","ECXSCX1",92,0)
 .S EC=$G(^ECX(728.44,ECXSC,0)) D
"RTN","ECXSCX1",93,0)
 ..Q:EC=""
"RTN","ECXSCX1",94,0)
 ..S ECXSEND=$P(EC,U,6)
"RTN","ECXSCX1",95,0)
 ..Q:ECXSEND=6
"RTN","ECXSCX1",96,0)
 ..S ECSC=+$P(EC,U,4),ECCSC=+$P(EC,U,5)
"RTN","ECXSCX1",97,0)
 ..I 'ECSC S ECSC=+$P(EC,U,2),ECCSC=+$P(EC,U,3)
"RTN","ECXSCX1",98,0)
 ..I ECSC S ECXP1=$$RJ^XLFSTR(ECSC,3,0),ECXP2=$$RJ^XLFSTR(ECCSC,3,0)
"RTN","ECXSCX1",99,0)
 ..;if primary stop not valid, use file #44 record
"RTN","ECXSCX1",100,0)
 ..I 'ECSC S ECSC=+$P($G(^SC(ECXSC,0)),U,7),ECCSC=+$P($G(^(0)),U,18) I ECSC D
"RTN","ECXSCX1",101,0)
 ...S ECXP1=+$P($G(^DIC(40.7,ECSC,0)),U,2)
"RTN","ECXSCX1",102,0)
 ...S:ECCSC ECXP2=+$P($G(^DIC(40.7,ECCSC,0)),U,2)
"RTN","ECXSCX1",103,0)
 ...S ECXP1=$$RJ^XLFSTR(ECXP1,3,0),ECXP2=$$RJ^XLFSTR(ECXP2,3,0)
"RTN","ECXSCX1",104,0)
 .;for action code=1, secondary stop code is always "000"
"RTN","ECXSCX1",105,0)
 .I ECXSEND=1 S ECXP2="000"
"RTN","ECXSCX1",106,0)
 .;action code of 2 or 3 should not be used, but continue to follow v2t11 logic
"RTN","ECXSCX1",107,0)
 .I ECXSEND=2 S ECXP1=ECXP2,ECXP2="000"
"RTN","ECXSCX1",108,0)
 .;for action code=4, need to get national clinic code
"RTN","ECXSCX1",109,0)
 .I ECXSEND=4 D
"RTN","ECXSCX1",110,0)
 ..S ECXNC=+$P($G(^ECX(728.44,ECXSC,0)),U,8)
"RTN","ECXSCX1",111,0)
 ..I ECXNC S ECXNC=$P($G(^ECX(728.441,ECXNC,0)),U),ECXP3=$$RJ^XLFSTR(ECXNC,4,0)
"RTN","ECXSCX1",112,0)
 .;set data in ^tmp
"RTN","ECXSCX1",113,0)
 .S ^TMP($J,"ECXS","SC",ECXSC)=ECXP1_U_ECXP2_U_ECXP3_U_ECXSEND
"RTN","ECXSCX1",114,0)
 Q
"RTN","ECXSCX1",115,0)
 ;
"RTN","ECXSCX1",116,0)
VISIT(ECXDFN,ECXVISIT,ECXVIST,ECXERR) ;get visit specific data
"RTN","ECXSCX1",117,0)
 ;input  ECXVISIT  = pointer to file #9000010
"RTN","ECXSCX1",118,0)
 ;       ECXSVC  = sc percentage
"RTN","ECXSCX1",119,0)
 ;output ECXVSIT = data array
"RTN","ECXSCX1",120,0)
 ;       ECXERR  = 1 indicates error; otherwise, 0
"RTN","ECXSCX1",121,0)
 N AO,ARRAY,CM,CNT,CPT,DA,DATE,DA,DIQ,ICD,ICD9,IR,LEN,M,MOD,MST,NUM
"RTN","ECXSCX1",122,0)
 N PROV,PROVPC,REC,VAL,VISIT,X,Y
"RTN","ECXSCX1",123,0)
 S ECXERR=0,VISIT=ECXVISIT
"RTN","ECXSCX1",124,0)
 S (ECXVIST("AO"),ECXVIST("IR"))=""
"RTN","ECXSCX1",125,0)
 S (ECXVIST("MST"),ECXVIST("PROV"),ECXVIST("PROV CLASS"))=""
"RTN","ECXSCX1",126,0)
 S (ECXVIST("PROV NPI"),ECXVIST("SOURCE"))=""
"RTN","ECXSCX1",127,0)
 F I="P",1,2,3,4 S ECXVIST("ICD9"_I)=""
"RTN","ECXSCX1",128,0)
 F I=1:1:8 S ECXVIST("CPT"_I)=""
"RTN","ECXSCX1",129,0)
 D ENCEVENT^PXAPI(VISIT)
"RTN","ECXSCX1",130,0)
 I $O(^TMP("PXKENC",$J,VISIT,""))']"" K ECXVIST S ECXERR=1
"RTN","ECXSCX1",131,0)
 Q:ECXERR
"RTN","ECXSCX1",132,0)
 S DATE=$P($P(^TMP("PXKENC",$J,VISIT,"VST",VISIT,0),U,1),".",1)
"RTN","ECXSCX1",133,0)
 S ECXVIST("SOURCE")=$P($G(^TMP("PXKENC",$J,VISIT,"VST",VISIT,812)),U,3)
"RTN","ECXSCX1",134,0)
 ;get icd9 codes upto 5; else use 799.9
"RTN","ECXSCX1",135,0)
 K ARY S ICD("P")=0,ICD("S")=0,(ARY,REC)=""
"RTN","ECXSCX1",136,0)
 F  S REC=$O(^TMP("PXKENC",$J,VISIT,"POV",REC)) Q:REC=""  D
"RTN","ECXSCX1",137,0)
 .S VAL=^TMP("PXKENC",$J,VISIT,"POV",REC,0) Q:'VAL
"RTN","ECXSCX1",138,0)
 .I $P(VAL,U,12)="P" D
"RTN","ECXSCX1",139,0)
 ..S:'$D(ARY("P",+VAL)) CNT=ICD("P")+1,ICD("P",CNT)=+VAL,ICD("P")=CNT
"RTN","ECXSCX1",140,0)
 ..S ARY("P",+VAL)=""
"RTN","ECXSCX1",141,0)
 .I $P(VAL,U,12)'="P" D
"RTN","ECXSCX1",142,0)
 ..S:'$D(ARY("S",+VAL)) CNT=ICD("S")+1,ICD("S",CNT)=+VAL,ICD("S")=CNT
"RTN","ECXSCX1",143,0)
 ..S ARY("S",+VAL)=""
"RTN","ECXSCX1",144,0)
 S CNT=0,ECXVIST("ICD9P")=$P($G(^ICD9(+$G(ICD("P",1),0),0)),U)
"RTN","ECXSCX1",145,0)
 F I=2:1 Q:'$D(ICD("P",I))  D  Q:CNT>4
"RTN","ECXSCX1",146,0)
 .S CNT=CNT+1,ECXVIST("ICD9"_CNT)=$P($G(^ICD9(ICD("P",I),0)),U)
"RTN","ECXSCX1",147,0)
 I CNT<4 F I=1:1:8 Q:'$D(ICD("S",I))  D  Q:CNT>4
"RTN","ECXSCX1",148,0)
 .I '$D(ARY("P",ICD("S",I))) D
"RTN","ECXSCX1",149,0)
 ..S CNT=CNT+1,ECXVIST("ICD9"_CNT)=$P($G(^ICD9(ICD("S",I),0)),U)
"RTN","ECXSCX1",150,0)
 S:(ECXVIST("ICD9P")="")&(ECXVIST("ICD91")="") ECXVIST("ICD9P")="799.9"
"RTN","ECXSCX1",151,0)
 ;get first provider designated as primary
"RTN","ECXSCX1",152,0)
 ;if no primary, then get first physician provider
"RTN","ECXSCX1",153,0)
 ;if no physician, then get first provider
"RTN","ECXSCX1",154,0)
 S (PROV,PROVPC)=""
"RTN","ECXSCX1",155,0)
 I $O(^TMP("PXKENC",$J,VISIT,"PRV",0)) D
"RTN","ECXSCX1",156,0)
 .S (REC,VAL)=0 D
"RTN","ECXSCX1",157,0)
 ..F  S REC=$O(^TMP("PXKENC",$J,VISIT,"PRV",REC)) Q:('REC)!(VAL)  D
"RTN","ECXSCX1",158,0)
 ...S:($P(^(REC,0),U,4)="P") VAL=+^(0)
"RTN","ECXSCX1",159,0)
 ...S PROV=VAL,PROVPC=$$PRVCLASS^ECXUTL(PROV,DATE)
"RTN","ECXSCX1",160,0)
 .I 'VAL S (REC,VAL)=0 D
"RTN","ECXSCX1",161,0)
 ..F  S REC=$O(^TMP("PXKENC",$J,VISIT,"PRV",REC)) Q:('REC)!(VAL)  D
"RTN","ECXSCX1",162,0)
 ...S (PROV,VAL)=+^(REC,0)
"RTN","ECXSCX1",163,0)
 ...S PROVPC=$$PRVCLASS^ECXUTL(PROV,DATE) Q:PROVPC=""
"RTN","ECXSCX1",164,0)
 ...S NUM=$E(PROVPC,2,7) S:(NUM<110000)!(NUM>119999) VAL=0,PROVPC=""
"RTN","ECXSCX1",165,0)
 .I 'VAL D
"RTN","ECXSCX1",166,0)
 ..S REC=$O(^TMP("PXKENC",$J,VISIT,"PRV",0)) Q:('REC)!(VAL)
"RTN","ECXSCX1",167,0)
 ..S VAL=+^(REC,0),PROV=VAL,PROVPC=$$PRVCLASS^ECXUTL(PROV,DATE)
"RTN","ECXSCX1",168,0)
 .S:PROV]"" PROV="2"_PROV
"RTN","ECXSCX1",169,0)
 S ECXVIST("PROV")=PROV,ECXVIST("PROV CLASS")=PROVPC
"RTN","ECXSCX1",170,0)
 S ECXVIST("PROV NPI")=""
"RTN","ECXSCX1",171,0)
 ;get cpt codes upto 8 & modifiers upto 5
"RTN","ECXSCX1",172,0)
 S CNT=1,PROV=$E(PROV,2,99)
"RTN","ECXSCX1",173,0)
 D:$O(^TMP("PXKENC",$J,VISIT,"CPT",0))
"RTN","ECXSCX1",174,0)
 .S REC=0 D:PROV]""
"RTN","ECXSCX1",175,0)
 ..F  S REC=$O(^TMP("PXKENC",$J,VISIT,"CPT",REC)) Q:'REC  D  Q:CNT>8
"RTN","ECXSCX1",176,0)
 ...S CPT="",NODE=$G(^TMP("PXKENC",$J,VISIT,"CPT",REC,12))
"RTN","ECXSCX1",177,0)
 ...Q:NODE=""
"RTN","ECXSCX1",178,0)
 ...S NOD1=$S($P(NODE,U,4)=PROV:^TMP("PXKENC",$J,VISIT,"CPT",REC,0),1:"")
"RTN","ECXSCX1",179,0)
 ...Q:$P(NOD1,U)=""
"RTN","ECXSCX1",180,0)
 ...S Q="00"_+$P(NOD1,U,16),Q=$S(+Q:$E(Q,$L(Q)-1,$L(Q)),1:"01")
"RTN","ECXSCX1",181,0)
 ...S CPT=$P(NOD1,U),M=0,MOD=""
"RTN","ECXSCX1",182,0)
 ...F I=1:1:5 S M=$O(^TMP("PXKENC",$J,VISIT,"CPT",REC,1,M)) Q:'M  D
"RTN","ECXSCX1",183,0)
 ....S MOD=MOD_$S(MOD'="":";",1:"")
"RTN","ECXSCX1",184,0)
 ....S MOD=MOD_$P(^TMP("PXKENC",$J,VISIT,"CPT",REC,1,M,0),U)
"RTN","ECXSCX1",185,0)
 ...S ECXVIST("CPT"_CNT)=$$CPT^ECXUTL3(CPT,MOD,Q),CNT=CNT+1
"RTN","ECXSCX1",186,0)
 ...K ^TMP("PXKENC",$J,VISIT,"CPT",REC)
"RTN","ECXSCX1",187,0)
 ..Q:CNT>8
"RTN","ECXSCX1",188,0)
 .Q:CNT>8  S REC=0
"RTN","ECXSCX1",189,0)
 .F  S REC=$O(^TMP("PXKENC",$J,VISIT,"CPT",REC)) Q:'REC  D  Q:CNT>8
"RTN","ECXSCX1",190,0)
 ..S CPT="",NOD1=$G(^TMP("PXKENC",$J,VISIT,"CPT",REC,0))
"RTN","ECXSCX1",191,0)
 ..Q:$P(NOD1,U)=""
"RTN","ECXSCX1",192,0)
 ..S Q="00"_+$P(NOD1,U,16),Q=$S(+Q:$E(Q,$L(Q)-1,$L(Q)),1:"01")
"RTN","ECXSCX1",193,0)
 ..S CPT=$P(NOD1,U),M=0,MOD=""
"RTN","ECXSCX1",194,0)
 ..F I=1:1:5 S M=$O(^TMP("PXKENC",$J,VISIT,"CPT",REC,1,M)) Q:'M  D
"RTN","ECXSCX1",195,0)
 ...S MOD=MOD_$S(MOD'="":";",1:"")
"RTN","ECXSCX1",196,0)
 ...S MOD=MOD_$P(^TMP("PXKENC",$J,VISIT,"CPT",REC,1,M,0),U)
"RTN","ECXSCX1",197,0)
 ..S ECXVIST("CPT"_CNT)=$$CPT^ECXUTL3(CPT,MOD,Q),CNT=CNT+1
"RTN","ECXSCX1",198,0)
 ..K ^TMP("PXKENC",$J,VISIT,"CPT",REC)
"RTN","ECXSCX1",199,0)
 ..Q:CNT>8
"RTN","ECXSCX1",200,0)
 S:ECXVIST("CPT1")="" ECXVIST("CPT1")=9919901
"RTN","ECXSCX1",201,0)
 ;ao, ir, mst
"RTN","ECXSCX1",202,0)
 S (AO,IR,MST)=""
"RTN","ECXSCX1",203,0)
 I $D(^TMP("PXKENC",$J,VISIT,"VST",VISIT,800)) D
"RTN","ECXSCX1",204,0)
 .S AO=$P(^TMP("PXKENC",$J,VISIT,"VST",VISIT,800),U,2)
"RTN","ECXSCX1",205,0)
 .S IR=$P(^TMP("PXKENC",$J,VISIT,"VST",VISIT,800),U,3),MST=$P(^(800),U,5)
"RTN","ECXSCX1",206,0)
 .S ECXVIST("AO")=$S(AO=0:"N",AO=1:"Y",1:"")
"RTN","ECXSCX1",207,0)
 .S ECXVIST("IR")=$S(IR=0:"N",IR=1:"Y",1:"")
"RTN","ECXSCX1",208,0)
 .S ECXVIST("MST")=$S(MST=0:"N",MST=1:"Y",1:"")
"RTN","ECXSCX1",209,0)
 Q
"RTN","ECXSCXN")
0^16^B77670230
"RTN","ECXSCXN",1,0)
ECXSCXN ;ALB/JAP  Clinic Extract ; 05/14/99
"RTN","ECXSCXN",2,0)
 ;;3.0;DSS EXTRACTS;**24,27,29,30,31,32,33**;Dec 22, 1997
"RTN","ECXSCXN",3,0)
 ;
"RTN","ECXSCXN",4,0)
BEG ;entry point from option
"RTN","ECXSCXN",5,0)
 D SETUP Q:ECFILE=""  D ^ECXTRAC,^ECXKILL
"RTN","ECXSCXN",6,0)
 Q
"RTN","ECXSCXN",7,0)
 ;
"RTN","ECXSCXN",8,0)
START ;entry point from taskmgr
"RTN","ECXSCXN",9,0)
 N DIC,EXNUM,I,LOCARR,OUT,P1,P2,P3,PROCESS,SOURCE,STOP,STATUS,TOSEND,TIU
"RTN","ECXSCXN",10,0)
 N X,Y
"RTN","ECXSCXN",11,0)
 F I=1:1:8 S @("ECXCPT"_I)=""
"RTN","ECXSCXN",12,0)
 F I=1:1:4 S @("ECXICD9"_I)=""
"RTN","ECXSCXN",13,0)
 S (OUT,QFLG,ECRN)=0,(ECXICD9P,ECXOBI)=""
"RTN","ECXSCXN",14,0)
 K ^TMP($J,"ECXS"),^TMP($J,"ECXCL")
"RTN","ECXSCXN",15,0)
 ;get ien for tiu in file #839.7
"RTN","ECXSCXN",16,0)
 S DIC="^PX(839.7,",DIC(0)="X",X="TEXT INTEGRATION UTILITIES"
"RTN","ECXSCXN",17,0)
 D ^DIC S TIU=+Y,ECED=ECED+.3,ECXCLIN=0 K DIC,Y
"RTN","ECXSCXN",18,0)
 ;get clinic default appt length, type, division
"RTN","ECXSCXN",19,0)
 F  S ECXCLIN=$O(^SC(ECXCLIN)) Q:'ECXCLIN  D
"RTN","ECXSCXN",20,0)
 .K LOCARR S DIC=44,DA=ECXCLIN,DR="2;3.5;1912",DIQ(0)="I",DIQ="LOCARR"
"RTN","ECXSCXN",21,0)
 .D EN^DIQ1
"RTN","ECXSCXN",22,0)
 .Q:$G(LOCARR(44,ECXCLIN,2,"I"))'="C"
"RTN","ECXSCXN",23,0)
 .S ALEN=+$G(LOCARR(44,ECXCLIN,1912,"I"))
"RTN","ECXSCXN",24,0)
 .S ^TMP($J,"ECXCL",ECXCLIN)=ALEN,ALEN=$$RJ^XLFSTR(ALEN,3,0)
"RTN","ECXSCXN",25,0)
 .S ^TMP($J,"ECXCL",ECXCLIN)=^TMP($J,"ECXCL",ECXCLIN)_"^"_ALEN_"^"_$G(LOCARR(44,ECXCLIN,2,"I"))_"^"_+$G(LOCARR(44,ECXCLIN,3.5,"I"))
"RTN","ECXSCXN",26,0)
 .D FEEDER^ECXSCX1(ECXCLIN,ECSD1,.P1,.P2,.P3,.TOSEND,.ECXDIV)
"RTN","ECXSCXN",27,0)
 .K P1,P2,P3,TOSEND,ECXDIV
"RTN","ECXSCXN",28,0)
 ;get from file #44 any no-shows & get encounters from #409.68
"RTN","ECXSCXN",29,0)
 D NOSHOW(ECSD1,ECED),ENCNTR(ECSD1,ECED)
"RTN","ECXSCXN",30,0)
 ;send missing clinic msg
"RTN","ECXSCXN",31,0)
 D:$D(^TMP($J,"ECXS")) EN^ECXSCX1
"RTN","ECXSCXN",32,0)
 K ^TMP($J,"ECXS"),^TMP($J,"ECXCL")
"RTN","ECXSCXN",33,0)
 Q
"RTN","ECXSCXN",34,0)
 ;
"RTN","ECXSCXN",35,0)
ENCNTR(ECSD1,ECED) ;search file #409.68 for encounter data
"RTN","ECXSCXN",36,0)
 N CHKOUT,ECD,JJ,K,OUT,PNODE,PP,STATUS,STOP
"RTN","ECXSCXN",37,0)
 S ECD=ECSD1
"RTN","ECXSCXN",38,0)
 F  S ECD=$O(^SCE("B",ECD)) Q:('ECD!(ECD>ECED))!(QFLG)  S ECXIEN=0 D
"RTN","ECXSCXN",39,0)
 .F  S ECXIEN=$O(^SCE("B",ECD,ECXIEN)) Q:'ECXIEN  D  Q:QFLG
"RTN","ECXSCXN",40,0)
 ..Q:'$D(^SCE(ECXIEN,0))
"RTN","ECXSCXN",41,0)
 ..D INTPAT K LOCARR S DIC=409.68,DA=ECXIEN
"RTN","ECXSCXN",42,0)
 ..S DR=".01;.02;.03;.04;.05;.06;.07;.08;.12;.13",DIQ(0)="I",DIQ="LOCARR"
"RTN","ECXSCXN",43,0)
 ..D EN^DIQ1
"RTN","ECXSCXN",44,0)
 ..S ECXTI=$P($$FMTE^XLFDT(+$G(LOCARR(409.68,ECXIEN,.01,"I")),1),"@",2)
"RTN","ECXSCXN",45,0)
 ..S ECXTI=$E(($TR(ECXTI,":","")_"000000"),1,6)
"RTN","ECXSCXN",46,0)
 ..S:ECXTI="000000" ECXTI="000300"
"RTN","ECXSCXN",47,0)
 ..S STOP=+$G(LOCARR(409.68,ECXIEN,.03,"I"))
"RTN","ECXSCXN",48,0)
 ..S CHKOUT=+$G(LOCARR(409.68,ECXIEN,.07,"I"))
"RTN","ECXSCXN",49,0)
 ..S PROCESS=+$G(LOCARR(409.68,ECXIEN,.08,"I"))
"RTN","ECXSCXN",50,0)
 ..S STATUS=$G(LOCARR(409.68,ECXIEN,.12,"I"))
"RTN","ECXSCXN",51,0)
 ..S ECXDFN=+$G(LOCARR(409.68,ECXIEN,.02,"I"))
"RTN","ECXSCXN",52,0)
 ..Q:(ECXDFN=0)!('CHKOUT)
"RTN","ECXSCXN",53,0)
 ..S:STATUS="" STATUS="ZZ" S STATUS=";"_STATUS_";"
"RTN","ECXSCXN",54,0)
 ..Q:";3;4;5;6;7;9;10;13;"[STATUS
"RTN","ECXSCXN",55,0)
 ..Q:('STOP)!(PROCESS=4)!(+$G(LOCARR(409.68,ECXIEN,.06,"I")))
"RTN","ECXSCXN",56,0)
 ..S ECXDATE=+$G(LOCARR(409.68,ECXIEN,.01,"I"))
"RTN","ECXSCXN",57,0)
 ..S ECXCLIN=+$G(LOCARR(409.68,ECXIEN,.04,"I"))
"RTN","ECXSCXN",58,0)
 ..Q:$P($G(^TMP($J,"ECXCL",ECXCLIN)),U,3)'="C"
"RTN","ECXSCXN",59,0)
 ..S ECXVISIT=+$G(LOCARR(409.68,ECXIEN,.05,"I"))
"RTN","ECXSCXN",60,0)
 ..S ECXENEL=+$G(LOCARR(409.68,ECXIEN,.13,"I"))
"RTN","ECXSCXN",61,0)
 ..Q:'ECXVISIT
"RTN","ECXSCXN",62,0)
 ..S ECXERR=0
"RTN","ECXSCXN",63,0)
 ..D PAT1(ECXDFN,ECXDATE,.ECXERR) Q:ECXERR
"RTN","ECXSCXN",64,0)
 ..D FEEDER^ECXSCX1(ECXCLIN,ECSD1,.P1,.P2,.P3,.TOSEND,.ECXDIV)
"RTN","ECXSCXN",65,0)
 ..Q:TOSEND=6
"RTN","ECXSCXN",66,0)
 ..K LOCARR S DIC=40.7,DA=STOP,DR="1",DIQ(0)="I",DIQ="LOCARR" D EN^DIQ1
"RTN","ECXSCXN",67,0)
 ..S ECXSTOP=$$RJ^XLFSTR($G(LOCARR(40.7,STOP,1,"I")),3,0)
"RTN","ECXSCXN",68,0)
 ..;get date specific patient data
"RTN","ECXSCXN",69,0)
 ..D PAT2(ECXDFN,ECXDATE)
"RTN","ECXSCXN",70,0)
 ..;get visit specific data
"RTN","ECXSCXN",71,0)
 ..S ECXERR=0 D VISIT^ECXSCX1(ECXDFN,ECXVISIT,.ECXVIST,.ECXERR) Q:ECXERR
"RTN","ECXSCXN",72,0)
 ..F I=1:1:8 S @("ECXCPT"_I)=$G(ECXVIST("CPT"_I))
"RTN","ECXSCXN",73,0)
 ..S ECXICD9P=$G(ECXVIST("ICD9P"))
"RTN","ECXSCXN",74,0)
 ..F I=1:1:4 S @("ECXICD9"_I)=$G(ECXVIST("ICD9"_I))
"RTN","ECXSCXN",75,0)
 ..S SOURCE=ECXVIST("SOURCE"),ECXAO=ECXVIST("AO"),ECXIR=ECXVIST("IR")
"RTN","ECXSCXN",76,0)
 ..S ECXMIL=ECXVIST("MST"),ECXPROV=ECXVIST("PROV")
"RTN","ECXSCXN",77,0)
 ..S ECXPROVP=ECXVIST("PROV CLASS"),ECXPROVN=ECXVIST("PROV NPI")
"RTN","ECXSCXN",78,0)
 ..K LOCARR S DIC=8,DA=ECXENEL,DR="8",DIQ(0)="I",DIQ="LOCARR" D EN^DIQ1
"RTN","ECXSCXN",79,0)
 ..S ECXENEL=+$G(LOCARR(8,ECXENEL,8,"I"))
"RTN","ECXSCXN",80,0)
 ..S:ECXENEL ECXENEL=$$ELIG^ECXUTL3(ECXENEL,ECXSVC)
"RTN","ECXSCXN",81,0)
 ..;setup feeder key and file in extract records
"RTN","ECXSCXN",82,0)
 ..S (ECXKEY,ECXDSSD)=""
"RTN","ECXSCXN",83,0)
 ..;xray (105) or lab (108)
"RTN","ECXSCXN",84,0)
 ..I (ECXSTOP=105)!(ECXSTOP=108) D  Q
"RTN","ECXSCXN",85,0)
 ...S ECXKEY=ECXSTOP_"00003000000" D FILE
"RTN","ECXSCXN",86,0)
 ..;appointments
"RTN","ECXSCXN",87,0)
 ..I PROCESS=1 D  Q
"RTN","ECXSCXN",88,0)
 ...;get appt length
"RTN","ECXSCXN",89,0)
 ...S (ALEN,JJ,OUT)=0
"RTN","ECXSCXN",90,0)
 ...F  S JJ=$O(^SC(ECXCLIN,"S",ECXDATE,JJ)) Q:('JJ)!(OUT)  S K=0 D
"RTN","ECXSCXN",91,0)
 ....F  S K=$O(^SC(ECXCLIN,"S",ECXDATE,JJ,K)) Q:('K)!(OUT)  D
"RTN","ECXSCXN",92,0)
 .....S ECXOBI=$G(^SC(ECXCLIN,"S",ECXDATE,JJ,K,"OB"))
"RTN","ECXSCXN",93,0)
 .....S PP=$P($G(^SC(ECXCLIN,"S",ECXDATE,JJ,K,0)),U)
"RTN","ECXSCXN",94,0)
 .....S:PP=ECXDFN OUT=1,ALEN=$P(^(0),U,2),ALEN=$$RJ^XLFSTR(ALEN,3,0)
"RTN","ECXSCXN",95,0)
 .....S:+ALEN=0 ALEN=$P($G(^TMP($J,"ECXCL",ECXCLIN)),U,2)
"RTN","ECXSCXN",96,0)
 ....S ECXSTOP=P1
"RTN","ECXSCXN",97,0)
 ....I TOSEND'=3 S ECXKEY=P1_P2_ALEN_P3_"0" D FILE
"RTN","ECXSCXN",98,0)
 ....I TOSEND=3 S ECXKEY=P1_"000"_ALEN_P3_"0" D FILE
"RTN","ECXSCXN",99,0)
 ....I TOSEND=3 S ECXKEY=P2_"000"_ALEN_P3_"0" D FILE
"RTN","ECXSCXN",100,0)
 ....S PNODE=$G(^DPT(ECXDFN,"S",ECXDATE,0))
"RTN","ECXSCXN",101,0)
 ....I $P(PNODE,U,1)=ECXCLIN,$P(PNODE,U,5) D
"RTN","ECXSCXN",102,0)
 .....S ECXKEY="10700003000000",ECXSTOP="107" D FILE
"RTN","ECXSCXN",103,0)
 ..I PROCESS=2 D  Q
"RTN","ECXSCXN",104,0)
 ...S ALEN=0
"RTN","ECXSCXN",105,0)
 ...I SOURCE=TIU S ALEN=$P($G(^TMP($J,"ECXCL",ECXCLIN)),U,2)
"RTN","ECXSCXN",106,0)
 ...S:+ALEN=0 ALEN="030" S ECXKEY=P1_P2_ALEN_P3_"0",ECXSTOP=P1
"RTN","ECXSCXN",107,0)
 ...D FILE
"RTN","ECXSCXN",108,0)
 ..;dispositions
"RTN","ECXSCXN",109,0)
 ..I PROCESS=3 D  Q
"RTN","ECXSCXN",110,0)
 ...S ECXKEY=ECXSTOP_"47906000000" D FILE
"RTN","ECXSCXN",111,0)
 Q
"RTN","ECXSCXN",112,0)
 ;
"RTN","ECXSCXN",113,0)
NOSHOW(ECXSD,ECXED) ;get noshows from file #44
"RTN","ECXSCXN",114,0)
 ;      ECXSD  = start date
"RTN","ECXSCXN",115,0)
 ;      ECXED  = end date
"RTN","ECXSCXN",116,0)
 N ALEN,CLIN,JDATE,JJ,KNODE,NOSHOW,PP,STATUS
"RTN","ECXSCXN",117,0)
 S CLIN=0
"RTN","ECXSCXN",118,0)
 F  S CLIN=$O(^TMP($J,"ECXCL",CLIN)) Q:'CLIN  D
"RTN","ECXSCXN",119,0)
 .Q:$P($G(^TMP($J,"ECXCL",CLIN)),U,3)'="C"
"RTN","ECXSCXN",120,0)
 .S (P1,P2,P3)=""
"RTN","ECXSCXN",121,0)
 .D FEEDER^ECXSCX1(CLIN,ECXSD,.P1,.P2,.P3,.TOSEND,.ECXDIV)
"RTN","ECXSCXN",122,0)
 .Q:TOSEND=6
"RTN","ECXSCXN",123,0)
 .;find appts in date range
"RTN","ECXSCXN",124,0)
 .S JDATE=ECXSD,(ALEN,NOSHOW)=""
"RTN","ECXSCXN",125,0)
 .F  S JDATE=$O(^SC(CLIN,"S",JDATE)) Q:'JDATE  Q:JDATE>ECXED  D
"RTN","ECXSCXN",126,0)
 ..S ECXDATE=JDATE,JJ=0,ECXTI=$P($$FMTE^XLFDT(JDATE,1),"@",2)
"RTN","ECXSCXN",127,0)
 ..S ECXTI=$E(($TR(ECXTI,":","")_"000000"),1,6)
"RTN","ECXSCXN",128,0)
 ..S:ECXTI="000000" ECXTI="000300"
"RTN","ECXSCXN",129,0)
 ..;get noshows only - no data in check-in/check-out node
"RTN","ECXSCXN",130,0)
 ..F  S JJ=$O(^SC(CLIN,"S",JDATE,JJ)) Q:'JJ  D
"RTN","ECXSCXN",131,0)
 ...S K=0
"RTN","ECXSCXN",132,0)
 ...F  S K=$O(^SC(CLIN,"S",JDATE,JJ,K)) Q:'K  D
"RTN","ECXSCXN",133,0)
 ....S PP=$G(^SC(CLIN,"S",JDATE,JJ,K,0)),ECXDFN=$P(PP,U) Q:ECXDFN=""
"RTN","ECXSCXN",134,0)
 ....S NODE=$G(^DPT(ECXDFN,"S",JDATE,0))
"RTN","ECXSCXN",135,0)
 ....Q:(NODE="")!($P(NODE,U)'=CLIN)
"RTN","ECXSCXN",136,0)
 ....S ECXOBI=$G(^SC(CLIN,"S",JDATE,JJ,K,"OB"))
"RTN","ECXSCXN",137,0)
 ....S STATUS=$P(NODE,U,2),NOSHOW=$S(STATUS="N":"N",STATUS="NA":"N",1:"")
"RTN","ECXSCXN",138,0)
 ....Q:NOSHOW=""  D INTPAT S ECXERR=0
"RTN","ECXSCXN",139,0)
 ....D PAT1(ECXDFN,ECXDATE,.ECXERR) Q:ECXERR
"RTN","ECXSCXN",140,0)
 ....S ALEN=$P(PP,U,2),ALEN=$$RJ^XLFSTR(ALEN,3,0)
"RTN","ECXSCXN",141,0)
 ....D PAT2(ECXDFN,ECXDATE)
"RTN","ECXSCXN",142,0)
 ....S:+ALEN=0 ALEN=$P($G(^TMP($J,"ECXCL",CLIN)),U,2)
"RTN","ECXSCXN",143,0)
 ....S ECXCLIN=CLIN,ECXSTOP=P1 S:ECXICD9P="" ECXICD9P="799.9"
"RTN","ECXSCXN",144,0)
 ....S:ECXCPT1="" ECXCPT1="9919901"
"RTN","ECXSCXN",145,0)
 ....S (ECXDSSD,ECXENEL,ECXIR,ECXAO,ECXMIL,ECXPROV,ECXPROVP,ECXPROVN)=""
"RTN","ECXSCXN",146,0)
 ....I TOSEND'=3 S ECXKEY=P1_P2_ALEN_P3_NOSHOW D FILE
"RTN","ECXSCXN",147,0)
 ....I TOSEND=3 S ECXKEY=P1_"000"_ALEN_P3_NOSHOW D FILE
"RTN","ECXSCXN",148,0)
 ....I TOSEND=3 S ECXKEY=P2_"000"_ALEN_P3_NOSHOW D FILE
"RTN","ECXSCXN",149,0)
 ....;create a record for noshow appended ekg
"RTN","ECXSCXN",150,0)
 ....D:$P(NODE,U,5)
"RTN","ECXSCXN",151,0)
 .....S ECXKEY="1070000300000N",ECXSTOP="107" D FILE
"RTN","ECXSCXN",152,0)
 Q
"RTN","ECXSCXN",153,0)
 ;
"RTN","ECXSCXN",154,0)
INTPAT ;initialize pateint variables
"RTN","ECXSCXN",155,0)
 S (ECXSSN,ECXPNM,ECPTPR,ECCLAS,ECPTNPI,ECASPR,ECCLAS2,ECASNPI,ECXZIP)=""
"RTN","ECXSCXN",156,0)
 S (ECPTTM,ECXPAYOR,ECXSAI,ECXVET,ECXRACE,ECXENRL,ECXMPI,ECXSEX)=""
"RTN","ECXSCXN",157,0)
 S (ECXDOB,ECXELIG,ECXPST,ECXPLOC,ECXRST,ECXAST,ECXMST,ECXSTATE)=""
"RTN","ECXSCXN",158,0)
 S ECXCNTY=""
"RTN","ECXSCXN",159,0)
 Q
"RTN","ECXSCXN",160,0)
 ;
"RTN","ECXSCXN",161,0)
PAT1(ECXDFN,ECXDATE,ECXERR)     ;get patient demographic data
"RTN","ECXSCXN",162,0)
 N ECXPAT,K,OK,X
"RTN","ECXSCXN",163,0)
 S ECXERR=0
"RTN","ECXSCXN",164,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;2;3;4;5",.ECXPAT)
"RTN","ECXSCXN",165,0)
 I 'OK S ECXERR=1 Q
"RTN","ECXSCXN",166,0)
 S ECXSSN=ECXPAT("SSN"),ECXPNM=ECXPAT("NAME"),ECXMPI=ECXPAT("MPI")
"RTN","ECXSCXN",167,0)
 S ECXSEX=ECXPAT("SEX"),ECXDOB=ECXPAT("DOB"),ECXELIG=ECXPAT("ELIG")
"RTN","ECXSCXN",168,0)
 S ECXVET=ECXPAT("VET"),ECXSVC=ECXPAT("SC%"),ECXRACE=ECXPAT("RACE")
"RTN","ECXSCXN",169,0)
 S ECXPST=ECXPAT("POW STAT"),ECXPLOC=ECXPAT("POW LOC")
"RTN","ECXSCXN",170,0)
 S ECXRST=ECXPAT("IR STAT"),ECXAST=ECXPAT("AO STAT")
"RTN","ECXSCXN",171,0)
 S ECXMST=ECXPAT("MST STAT"),ECXSTATE=ECXPAT("STATE")
"RTN","ECXSCXN",172,0)
 S ECXCNTY=ECXPAT("COUNTY"),ECXZIP=ECXPAT("ZIP")
"RTN","ECXSCXN",173,0)
 S ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXSCXN",174,0)
 ; changes for 2001
"RTN","ECXSCXN",175,0)
 S ECXPOS=ECXPAT("POS"),ECXPHI=ECXPAT("PHI")
"RTN","ECXSCXN",176,0)
 I $$ENROLLM^ECXUTL2(ECXDFN)
"RTN","ECXSCXN",177,0)
 ;get sharing agreement data
"RTN","ECXSCXN",178,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXSCXN",179,0)
 D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXSCXN",180,0)
 Q
"RTN","ECXSCXN",181,0)
 ;
"RTN","ECXSCXN",182,0)
PAT2(ECXDFN,ECXDATE)    ;get date specific patient data
"RTN","ECXSCXN",183,0)
 N K,X
"RTN","ECXSCXN",184,0)
 ;get primary care data
"RTN","ECXSCXN",185,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXSCXN",186,0)
 S ECPTTM=$P(X,U),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4)
"RTN","ECXSCXN",187,0)
 S ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXSCXN",188,0)
 ;get inpatient data
"RTN","ECXSCXN",189,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE),ECXA=$P(X,U),ECXTS=$P(X,U,3)
"RTN","ECXSCXN",190,0)
 S ECXDOM=$P(X,U,10)
"RTN","ECXSCXN",191,0)
 Q
"RTN","ECXSCXN",192,0)
 ;
"RTN","ECXSCXN",193,0)
FILE ;record setup for file #727.827
"RTN","ECXSCXN",194,0)
 N STR
"RTN","ECXSCXN",195,0)
 S EC7=$O(^ECX(727.827,999999999),-1),EC7=EC7+1
"RTN","ECXSCXN",196,0)
 S STR(0)=EC7_U_EC23_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXSCXN",197,0)
 S STR(0)=STR(0)_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECXKEY_U
"RTN","ECXSCXN",198,0)
 S STR(0)=STR(0)_ECXOBI_U_ECXCLIN_U_ECXTS_U_ECXTI_U_ECPTTM_U
"RTN","ECXSCXN",199,0)
 S STR(0)=STR(0)_ECPTPR_U_ECCLAS_U_ECXPROV_U_ECXPROVP_U
"RTN","ECXSCXN",200,0)
 S STR(0)=STR(0)_ECXCPT1_U_ECXCPT2_U_ECXCPT3_U_ECXCPT4_U_ECXCPT5_U
"RTN","ECXSCXN",201,0)
 S STR(1)=ECXCPT6_U_ECXCPT7_U_ECXCPT8_U_ECXICD9P_U_ECXICD91_U
"RTN","ECXSCXN",202,0)
 S STR(1)=STR(1)_ECXICD92_U_ECXICD93_U
"RTN","ECXSCXN",203,0)
 S STR(1)=STR(1)_ECXICD94_U_ECXDOB_U_ECXELIG_U_ECXVET_U_ECXRACE_U
"RTN","ECXSCXN",204,0)
 S STR(1)=STR(1)_ECXPST_U_ECXPLOC_U_ECXRST_U_ECXIR_U_ECXAST_U_ECXAO_U
"RTN","ECXSCXN",205,0)
 S STR(1)=STR(1)_ECXMPI_U_ECXDSSD_U_ECXSEX_U_ECXZIP_U_$G(ECXPCPNP)_U
"RTN","ECXSCXN",206,0)
 S STR(1)=STR(1)_$G(ECXNPIPR)_U_ECXENEL_U_ECXMST_U_ECXMIL_U_ECXPAYOR_U
"RTN","ECXSCXN",207,0)
 S STR(1)=STR(1)_ECXSAI_U_ECXENRL_U_ECXSTATE_U_ECXCNTY_U
"RTN","ECXSCXN",208,0)
 S STR(1)=STR(1)_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXDOM_U_ECXCAT_U
"RTN","ECXSCXN",209,0)
 S STR(2)=ECXSTAT_U_ECXPRIOR_U_ECXPHI_U_ECXPOS_U_$G(ECXEOI)
"RTN","ECXSCXN",210,0)
 D FILE2(727.827,EC7,.STR) S ECRN=ECRN+1,$P(^ECX(727.827,0),U,3)=EC7
"RTN","ECXSCXN",211,0)
 Q
"RTN","ECXSCXN",212,0)
 ;
"RTN","ECXSCXN",213,0)
FILE2(ECXFILE,EC7,ECODE) ;file record
"RTN","ECXSCXN",214,0)
 N DA,DIK,X S X=""
"RTN","ECXSCXN",215,0)
 F  S X=$O(ECODE(X)) Q:X=""  S ^ECX(ECXFILE,EC7,X)=ECODE(X)
"RTN","ECXSCXN",216,0)
 S DA=EC7,DIK="^ECX("_ECXFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXSCXN",217,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSCXN",218,0)
 Q
"RTN","ECXSCXN",219,0)
 ;
"RTN","ECXSCXN",220,0)
SETUP   ;set required input for ECXTRAC
"RTN","ECXSCXN",221,0)
 S ECHEAD="CLI"
"RTN","ECXSCXN",222,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXSCXN",223,0)
 Q
"RTN","ECXSURG")
0^3^B28082850
"RTN","ECXSURG",1,0)
ECXSURG ;ALB/JAP,BIR/DMA,PTD-Surgery Extract for DSS ; [ 03/20/97  3:04 PM ]
"RTN","ECXSURG",2,0)
 ;;3.0;DSS EXTRACTS;**1,11,8,13,25,24,33**;Dec 22, 1997
"RTN","ECXSURG",3,0)
BEG ;entry point from option
"RTN","ECXSURG",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXSURG",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXSURG",6,0)
 Q
"RTN","ECXSURG",7,0)
 ;
"RTN","ECXSURG",8,0)
START ;
"RTN","ECXSURG",9,0)
 S QFLG=0,ECED=ECED+.3,ECD=ECSD1
"RTN","ECXSURG",10,0)
 F  S ECD=$O(^SRF("AC",ECD)),ECD0=0 Q:('ECD)!(ECD>ECED)!(QFLG)  D
"RTN","ECXSURG",11,0)
 .F  S ECD0=$O(^SRF("AC",ECD,ECD0)) Q:'ECD0  D
"RTN","ECXSURG",12,0)
 ..I $D(^SRF(ECD0,0)) S ECXDFN=+$P(^(0),U,1) D STUFF Q:QFLG
"RTN","ECXSURG",13,0)
 Q
"RTN","ECXSURG",14,0)
 ;
"RTN","ECXSURG",15,0)
STUFF ;gather data
"RTN","ECXSURG",16,0)
 N J,X,Y,PP,DATA1,DATA2,DATAOP,ARR,ERR,SUB,MOD
"RTN","ECXSURG",17,0)
 S ECXDATE=ECD,ECXERR=0
"RTN","ECXSURG",18,0)
 Q:'$$PATDEM^ECXUTL2(ECXDFN,ECXDATE,"1;2;3;5;")
"RTN","ECXSURG",19,0)
 ;S ECXA1=$P(^SRF(ECD0,0),U,12),ECXA=$S(ECXA1="O":1,ECXA1="I":3,1:"")
"RTN","ECXSURG",20,0)
 ;I $L(ECXDOM) S ECXA=3
"RTN","ECXSURG",21,0)
 S ECXADD=$$ECXDATE^ECXUTL($P(ECXINP,U,4),ECXYM),EC0=^SRF(ECD0,0)
"RTN","ECXSURG",22,0)
 S DATA1=$S($D(^SRF(ECD0,.1)):^(.1),1:"")
"RTN","ECXSURG",23,0)
 S DATA2=$S($D(^SRF(ECD0,.2)):^(.2),1:"")
"RTN","ECXSURG",24,0)
 S DATAOP=$S($D(^SRF(ECD0,"OP")):^("OP"),1:"")
"RTN","ECXSURG",25,0)
 S ECNO=$G(^SRF(ECD0,"NON"))
"RTN","ECXSURG",26,0)
 ;quit if cancelled or no pt. in oper. rm. time
"RTN","ECXSURG",27,0)
 S ECCAN=$G(^SRF(ECD0,30))>0
"RTN","ECXSURG",28,0)
 I ECCAN!('$P(DATA2,U,10)&($P(ECNO,U)'="Y")) Q
"RTN","ECXSURG",29,0)
 ;get data
"RTN","ECXSURG",30,0)
 S ECSR=$P(DATA1,U,4),(ECATNPI,ECSANPI,ECSRNPI)="",ECAT=$P(DATA1,U,13)
"RTN","ECXSURG",31,0)
 S ECXTM=$$ECXTIME^ECXUTL($P(DATA2,U,10))
"RTN","ECXSURG",32,0)
 S ECXDIV=$S($D(^SRF(ECD0,8)):^(8),1:ECINST)
"RTN","ECXSURG",33,0)
 S ECSA=$P($G(^SRF(ECD0,.3)),U,4),ECO=$P(EC0,U,2)
"RTN","ECXSURG",34,0)
 S ECORTY=$P($G(^SRS(+ECO,2)),U),ECO=$P($G(^SRS(+ECO,0)),U)
"RTN","ECXSURG",35,0)
 S ECSS=$P($G(^SRO(137.45,+$P(EC0,U,4),0)),U,2)
"RTN","ECXSURG",36,0)
 S ECSS=$$RJ^XLFSTR($P($G(^DIC(45.3,+ECSS,0)),U),3,0)
"RTN","ECXSURG",37,0)
 S:ECSS="000" ECSS="999"
"RTN","ECXSURG",38,0)
 ;look for non-OR
"RTN","ECXSURG",39,0)
 S (ECNT,ECNL,ECXDSSD)=""
"RTN","ECXSURG",40,0)
 I $P(ECNO,U)="Y" D
"RTN","ECXSURG",41,0)
 .S ECSR=$P(ECNO,U,6),ECAT=$P(ECNO,U,7)
"RTN","ECXSURG",42,0)
 .S ECXTM=$$ECXTIME^ECXUTL($P(ECNO,U,4))
"RTN","ECXSURG",43,0)
 .S A1=$P(ECNO,U,5),A2=$P(ECNO,U,4),TIME="##" D:(A1&A2) TIME S ECNT=TIME
"RTN","ECXSURG",44,0)
 .S ECNL=+$P(ECNO,U,2),ECNL=$P($G(^ECX(728.44,ECNL,0)),U,9)
"RTN","ECXSURG",45,0)
 .S:ECNL="" ECNL="UNKNOWN"
"RTN","ECXSURG",46,0)
 ;get service of attending surgeon
"RTN","ECXSURG",47,0)
 S ECATSV=$P($G(^DIC(49,+$G(^VA(200,+ECAT,5)),730)),U)
"RTN","ECXSURG",48,0)
 ;add leading 2s for pointer to 200
"RTN","ECXSURG",49,0)
 S:ECAT ECAT="2"_ECAT S:ECSR ECSR="2"_ECSR S:ECSA ECSA="2"_ECSA
"RTN","ECXSURG",50,0)
 ;anesthesia technique
"RTN","ECXSURG",51,0)
 S ECANE="",PP=""
"RTN","ECXSURG",52,0)
 I $D(^SRF(ECD0,6,0)) S ECXJ=0 D
"RTN","ECXSURG",53,0)
 .F  S ECXJ=$O(^SRF(ECD0,6,ECXJ)) Q:('ECXJ)!(ECANE]"")  D
"RTN","ECXSURG",54,0)
 ..S PP=$P($G(^(ECXJ,0)),U,3) S:PP="Y" ECANE=$P(^(0),U,1)
"RTN","ECXSURG",55,0)
 .I ECANE="" S ECXJ=$O(^SRF(ECD0,6,0)) I ECXJ S ECANE=$P(^SRF(ECD0,6,ECXJ,0),U,1)
"RTN","ECXSURG",56,0)
 ;get primary procedure
"RTN","ECXSURG",57,0)
 ;ecode0=p^cpt code^^patient time^operation time^anesthesia time
"RTN","ECXSURG",58,0)
 S ECPT=+$P(DATAOP,U,2),ECXCMOD=""
"RTN","ECXSURG",59,0)
 K ARR,ERR D FIELD^DID(130,28,,"LABEL","ARR","ERR") I $D(ARR("LABEL")) D
"RTN","ECXSURG",60,0)
 .K ARR,ERR D FIELD^DID(130,28,,"GLOBAL SUBSCRIPT LOCATION","ARR","ERR")
"RTN","ECXSURG",61,0)
 .Q:$D(ERR("DIERR"))
"RTN","ECXSURG",62,0)
 .S SUB=$P(ARR("GLOBAL SUBSCRIPT LOCATION"),";"),MOD=0
"RTN","ECXSURG",63,0)
 .F  S MOD=$O(^SRF(ECD0,SUB,MOD)) Q:MOD'>0  D
"RTN","ECXSURG",64,0)
 ..S ECXCMOD=ECXCMOD_$P(^(MOD,0),U)_";"
"RTN","ECXSURG",65,0)
 S ECXCPT=$$CPT^ECXUTL3(ECPT,ECXCMOD)
"RTN","ECXSURG",66,0)
 S ECODE0="P"_U_U  ;ECPT_U
"RTN","ECXSURG",67,0)
 F J="10,12","2,3","1,4" D
"RTN","ECXSURG",68,0)
 .S A2=$P(DATA2,U,$P(J,",")),A1=$P(DATA2,U,$P(J,",",2)),TIME="##"
"RTN","ECXSURG",69,0)
 .I (A1&A2)&(+J'=2) D TIME
"RTN","ECXSURG",70,0)
 .I (A1&A2)&(+J=2) D
"RTN","ECXSURG",71,0)
 ..S TIME=$TR($J($$FMDIFF^XLFDT(A1,A2,2)/900,4,0)," ")
"RTN","ECXSURG",72,0)
 ..S:TIME<0 TIME="###"
"RTN","ECXSURG",73,0)
 .S ECODE0=ECODE0_U_TIME K TIME
"RTN","ECXSURG",74,0)
 S ECRR=""
"RTN","ECXSURG",75,0)
 I $D(^SRF(ECD0,1.1)) D
"RTN","ECXSURG",76,0)
 .S A1=$P(^(1.1),U,8),A2=$P(^(1.1),U,7),TIME="##" D:(A1&A2) TIME
"RTN","ECXSURG",77,0)
 .S ECRR=TIME K TIME
"RTN","ECXSURG",78,0)
 I ECNL]"" S $P(ECODE0,U,5)=ECNT
"RTN","ECXSURG",79,0)
 D FILE
"RTN","ECXSURG",80,0)
 ;get secondary procedures
"RTN","ECXSURG",81,0)
 ;ecode0=s^cpt code
"RTN","ECXSURG",82,0)
 S ECXJ=0
"RTN","ECXSURG",83,0)
 F  S ECXJ=$O(^SRF(ECD0,13,ECXJ)) Q:'ECXJ  I $D(^(ECXJ,0)),$D(^(2)),$P(^(2),U)]"" D
"RTN","ECXSURG",84,0)
 .S ECPT=$P(^SRF(ECD0,13,ECXJ,2),U),ECXCMOD=""
"RTN","ECXSURG",85,0)
 .K ARR,ERR
"RTN","ECXSURG",86,0)
 .D FIELD^DID(130.16,4,,"LABEL","ARR","ERR") I $D(ARR("LABEL")) D
"RTN","ECXSURG",87,0)
 ..K ARR,ERR
"RTN","ECXSURG",88,0)
 ..D FIELD^DID(130.16,4,,"GLOBAL SUBSCRIPT LOCATION","ARR","ERR")
"RTN","ECXSURG",89,0)
 ..Q:$D(ERR("DIERR"))
"RTN","ECXSURG",90,0)
 ..S SUB=$P(ARR("GLOBAL SUBSCRIPT LOCATION"),";"),MOD=0
"RTN","ECXSURG",91,0)
 ..F  S MOD=$O(^SRF(ECD0,13,ECXJ,SUB,MOD)) Q:MOD'>0  S ECXCMOD=ECXCMOD_$P(^(MOD,0),U)_";"
"RTN","ECXSURG",92,0)
 .S ECXCPT=$$CPT^ECXUTL3(ECPT,ECXCMOD)
"RTN","ECXSURG",93,0)
 .S ECODE0="S"_U   ;_ECPT
"RTN","ECXSURG",94,0)
 .D FILE
"RTN","ECXSURG",95,0)
 ;get prostheses
"RTN","ECXSURG",96,0)
 ;ecode0=i^^^^^^prosthesis^quantity
"RTN","ECXSURG",97,0)
 S ECXJ=0
"RTN","ECXSURG",98,0)
 F  S ECXJ=$O(^SRF(ECD0,1,ECXJ)) Q:'ECXJ  I $D(^(ECXJ,0)) D
"RTN","ECXSURG",99,0)
 .S ECXP=+^SRF(ECD0,1,ECXJ,0),ECXQ=$P($G(^(1)),U,2) S:'ECXQ ECXQ=1
"RTN","ECXSURG",100,0)
 .S ECODE0="I"_U_U_U_U_U_U_ECXP_U_ECXQ
"RTN","ECXSURG",101,0)
 .D FILE
"RTN","ECXSURG",102,0)
 Q
"RTN","ECXSURG",103,0)
 ;
"RTN","ECXSURG",104,0)
FILE ;file record
"RTN","ECXSURG",105,0)
 ;node0
"RTN","ECXSURG",106,0)
 ;division^dfn^ssn^name^in/out (ECXA)^day^case #^
"RTN","ECXSURG",107,0)
 ;surg specialty^or room #^
"RTN","ECXSURG",108,0)
 ;surgeon^attending^anesthesia supervisor^anesthesia technique^
"RTN","ECXSURG",109,0)
 ;primary/secondary/prostheses^cpt^^pt time^op time^anes time^
"RTN","ECXSURG",110,0)
 ;prostheses^qty^^
"RTN","ECXSURG",111,0)
 ;movement number^treating speciality^cancelled^time^or type^
"RTN","ECXSURG",112,0)
 ;attending's service^non-or dss id^recovery room time^^
"RTN","ECXSURG",113,0)
 ;primary care team^primary care provider^admission date
"RTN","ECXSURG",114,0)
 ;node1
"RTN","ECXSURG",115,0)
 ;mpi^dss dept^surgeon npi^attending npi^anes supervisor npi^
"RTN","ECXSURG",116,0)
 ;pc provider npi^pc prov person class^
"RTN","ECXSURG",117,0)
 ;assoc pc provider^assoc pc prov person class^assoc pc prov npi^
"RTN","ECXSURG",118,0)
 ;cpt&modifiers ECXCPT^dom ECXDOM^enrollment category ECXCAT^
"RTN","ECXSURG",119,0)
 ;enrollment status ECXSTAT^enrollment priority ECXPRIOR^
"RTN","ECXSURG",120,0)
 ;period of service ECXPOS^purple heart indicator ECXPHI^
"RTN","ECXSURG",121,0)
 ;extended outpatient ECXEOI
"RTN","ECXSURG",122,0)
 N DA,DIK,STR
"RTN","ECXSURG",123,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXSURG",124,0)
 S ECODE=EC7_U_EC23_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U
"RTN","ECXSURG",125,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECD0_U_ECSS_U_ECO_U
"RTN","ECXSURG",126,0)
 S ECODE=ECODE_ECSR_U_ECAT_U_ECSA_U_ECANE_U_ECODE0_U
"RTN","ECXSURG",127,0)
 S STR=ECXMN_U_ECXTS_U_$S(ECCAN:"C",1:"")_U_ECXTM_U_ECORTY_U_ECATSV_U
"RTN","ECXSURG",128,0)
 S STR=STR_ECNL_U_ECRR_U_U_ECPTTM_U_ECPTPR_U_ECXADD_U
"RTN","ECXSURG",129,0)
 S $P(ECODE,U,26,38)=STR
"RTN","ECXSURG",130,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECSRNPI_U_ECATNPI_U_ECSANPI_U_ECPTNPI_U
"RTN","ECXSURG",131,0)
 S ECODE1=ECODE1_ECCLAS_U_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXCPT_U_ECXDOM_U
"RTN","ECXSURG",132,0)
 S ECODE1=ECODE1_ECXCAT_U_ECXSTAT_U_ECXPRIOR_U_ECXPOS_U_ECXPHI_U
"RTN","ECXSURG",133,0)
 S ECODE1=ECODE1_$G(ECXEOI)
"RTN","ECXSURG",134,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXSURG",135,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXSURG",136,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSURG",137,0)
 ;
"RTN","ECXSURG",138,0)
TIME ; given date/time get increment
"RTN","ECXSURG",139,0)
 ;A1=later, A2=earlier, TIME=difference
"RTN","ECXSURG",140,0)
 N CON
"RTN","ECXSURG",141,0)
 S CON=$P($G(^SRF(ECD0,"CON")),U)
"RTN","ECXSURG",142,0)
 I 'CON D
"RTN","ECXSURG",143,0)
 .S TIME=$J($TR($J($$FMDIFF^XLFDT(A1,A2,2)/900,4,0)," "),2,1)
"RTN","ECXSURG",144,0)
 .S:TIME>"99.0" TIME="99.0"
"RTN","ECXSURG",145,0)
 I CON D
"RTN","ECXSURG",146,0)
 .S TIME=$J(($TR($J($$FMDIFF^XLFDT(A1,A2,2)/900,4,0)," ")/2),2,1)
"RTN","ECXSURG",147,0)
 .S:TIME>"99.5" TIME="99.5"
"RTN","ECXSURG",148,0)
 S:TIME<0 TIME="###"
"RTN","ECXSURG",149,0)
 Q
"RTN","ECXSURG",150,0)
 ;
"RTN","ECXSURG",151,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXSURG",152,0)
 S ECHEAD="SUR"
"RTN","ECXSURG",153,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXSURG",154,0)
 Q
"RTN","ECXSURG",155,0)
 ;
"RTN","ECXSURG",156,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXSURG",157,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXTRAC")
0^23^B49006451
"RTN","ECXTRAC",1,0)
ECXTRAC ;ALB/GTS,JAP,BIR/DMA,CML-Package Extracts for DSS ; 11/08/96 15:37
"RTN","ECXTRAC",2,0)
 ;;3.0;DSS EXTRACTS;**9,8,14,24,30,33**;Dec 22, 1997
"RTN","ECXTRAC",3,0)
 ;Date range, queuing and message sending for package extracts
"RTN","ECXTRAC",4,0)
 ;Input ECPACK   printed name of package (e.g. Lab, Prescriptions)
"RTN","ECXTRAC",5,0)
 ;      ECNODE   in file 728 where last date is stored
"RTN","ECXTRAC",6,0)
 ;      ECPIECE  piece of node where last date is stored
"RTN","ECXTRAC",7,0)
 ;      ECRTN    in the form of START^ROUTINE
"RTN","ECXTRAC",8,0)
 ;      ECGRP    name of local mail group to receive summary message
"RTN","ECXTRAC",9,0)
 ;               (MUST BE 1 TO 5 UPPER CASE ALPHA - NO SPACES)
"RTN","ECXTRAC",10,0)
 ;      ECFILE   file number of the local editing file
"RTN","ECXTRAC",11,0)
 ; generates EC23=2nd and 3rd piece of zero node in local editing file
"RTN","ECXTRAC",12,0)
 ;               =YYMM of end date^pointer to 727
"RTN","ECXTRAC",13,0)
 ;
"RTN","ECXTRAC",14,0)
EN ;entry point
"RTN","ECXTRAC",15,0)
 N OUT,CHKFLG
"RTN","ECXTRAC",16,0)
 I '$D(ECNODE) S ECNODE=7
"RTN","ECXTRAC",17,0)
 I '$D(ECHEAD) S ECHEAD=" "
"RTN","ECXTRAC",18,0)
 I $P($G(^ECX(728,1,ECNODE+.1)),U,ECPIECE)]"" D  Q
"RTN","ECXTRAC",19,0)
 .W !!,$C(7),ECPACK," extract is already scheduled to run",!!
"RTN","ECXTRAC",20,0)
 .D PAUSE
"RTN","ECXTRAC",21,0)
 W @IOF,!,"Extract ",ECPACK," Information for DSS",!!
"RTN","ECXTRAC",22,0)
 S:'$D(ECINST) ECINST=+$P(^ECX(728,1,0),U)
"RTN","ECXTRAC",23,0)
 S ECXINST=ECINST
"RTN","ECXTRAC",24,0)
 K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXTRAC",25,0)
 D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXTRAC",26,0)
 ;* get last date for all extracts except prosthetics
"RTN","ECXTRAC",27,0)
 I ECGRP'="PRO" D
"RTN","ECXTRAC",28,0)
 .S ECLDT=$S($D(^ECX(728,1,ECNODE)):$P(^(ECNODE),U,ECPIECE),1:2610624)
"RTN","ECXTRAC",29,0)
 .S:ECLDT="" ECLDT=2610624
"RTN","ECXTRAC",30,0)
 ;* get last date for prosthetics
"RTN","ECXTRAC",31,0)
 I ECGRP="PRO" D
"RTN","ECXTRAC",32,0)
 .N ECXDA1
"RTN","ECXTRAC",33,0)
 .S ECXDA1=$O(^ECX(728,0))
"RTN","ECXTRAC",34,0)
 .I $D(^ECX(728,ECXDA1,1,ECXINST,0)) D
"RTN","ECXTRAC",35,0)
 ..S ECLDT=$P(^ECX(728,ECXDA1,1,ECXINST,0),U,2)
"RTN","ECXTRAC",36,0)
 .I '$D(^ECX(728,ECXDA1,1,ECXINST,0)) D
"RTN","ECXTRAC",37,0)
 ..S DA(1)=ECXDA1
"RTN","ECXTRAC",38,0)
 ..S DIC(0)="L" K ECXDD
"RTN","ECXTRAC",39,0)
 ..D FIELD^DID(728,59,,"SPECIFIER","ECXDD")
"RTN","ECXTRAC",40,0)
 ..S DIC("P")=ECXDD("SPECIFIER") K ECXDD
"RTN","ECXTRAC",41,0)
 ..S DIC="^ECX(728,"_DA(1)_",1,",X=ECXINST,DINUM=X
"RTN","ECXTRAC",42,0)
 ..K DD,DO D FILE^DICN
"RTN","ECXTRAC",43,0)
 ..K DIC,X,DINUM,Y,DA
"RTN","ECXTRAC",44,0)
 ..S ECLDT=2610624
"RTN","ECXTRAC",45,0)
 S OUT=0
"RTN","ECXTRAC",46,0)
 F  S (ECED,ECSD)="" D  Q:OUT
"RTN","ECXTRAC",47,0)
 .K %DT S %DT="AEX",%DT("A")="Starting with Date: " D ^%DT
"RTN","ECXTRAC",48,0)
 .I Y<0 S OUT=1 Q
"RTN","ECXTRAC",49,0)
 .S ECSD=Y
"RTN","ECXTRAC",50,0)
 .K %DT S %DT="AEX",%DT("A")="Ending with Date: " D ^%DT
"RTN","ECXTRAC",51,0)
 .I Y<0 S OUT=1 Q
"RTN","ECXTRAC",52,0)
 .I Y<ECSD D  Q
"RTN","ECXTRAC",53,0)
 ..W !!,"The ending date cannot be earlier than the starting date."
"RTN","ECXTRAC",54,0)
 ..W !,"Please try again.",!!
"RTN","ECXTRAC",55,0)
 .I $E(Y,1,5)'=$E(ECSD,1,5) D  Q
"RTN","ECXTRAC",56,0)
 ..W !!,"Beginning and ending dates must be in the same month and year."
"RTN","ECXTRAC",57,0)
 ..W !,"Please try again.",!!
"RTN","ECXTRAC",58,0)
 .S ECED=Y
"RTN","ECXTRAC",59,0)
 .I ECLDT'<ECSD D  Q
"RTN","ECXTRAC",60,0)
 ..W !!,"The ",ECPACK," information has already been extracted through ",$$FMTE^XLFDT(ECLDT),"."
"RTN","ECXTRAC",61,0)
 ..W !,"Please enter a new date range.",!!
"RTN","ECXTRAC",62,0)
 .S OUT=1
"RTN","ECXTRAC",63,0)
 I ECED]"",ECSD]"" D QUE
"RTN","ECXTRAC",64,0)
 Q
"RTN","ECXTRAC",65,0)
 ;
"RTN","ECXTRAC",66,0)
QUE ;queue extract
"RTN","ECXTRAC",67,0)
 N CHKFLG
"RTN","ECXTRAC",68,0)
 ;if extract is ivp (i.e., file=727.819) and data in the intermediate file use new format
"RTN","ECXTRAC",69,0)
 I ECFILE=727.819 D  Q:CHKFLG
"RTN","ECXTRAC",70,0)
 .S CHKFLG=0
"RTN","ECXTRAC",71,0)
 .S X="PSIVSTAT" X ^%ZOSF("TEST") I '$T Q
"RTN","ECXTRAC",72,0)
 .I '$D(^ECX(728.113,"A")) S CHKFLG=1 D NOIVP Q
"RTN","ECXTRAC",73,0)
 .S DATE=$O(^ECX(728.113,"A",ECED+1),-1) I DATE<ECSD S CHKFLG=1 D NOIVP Q
"RTN","ECXTRAC",74,0)
 .D CHK^ECXDIVIV Q:CHKFLG
"RTN","ECXTRAC",75,0)
 .D CHK2
"RTN","ECXTRAC",76,0)
 .S ECRTN="START^ECXPIVDN",ECVER=7
"RTN","ECXTRAC",77,0)
 I '$D(ECNODE) S ECNODE=7
"RTN","ECXTRAC",78,0)
 I '$D(ECHEAD) S ECHEAD=""
"RTN","ECXTRAC",79,0)
 S ECSDN=$$FMTE^XLFDT(ECSD),ECEDN=$$FMTE^XLFDT(ECED),ECSD1=ECSD-.1
"RTN","ECXTRAC",80,0)
 K ZTSAVE
"RTN","ECXTRAC",81,0)
 S (ZTSAVE("ECINST"),ZTSAVE("ECED"),ZTSAVE("ECSD"),ZTSAVE("ECSD1"),ZTSAVE("ECEDN"),ZTSAVE("ECSDN"))=""
"RTN","ECXTRAC",82,0)
 S (ZTSAVE("ECPACK"),ZTSAVE("ECPIECE"),ZTSAVE("ECRTN"),ZTSAVE("ECGRP"),ZTSAVE("ECNODE"),ZTSAVE("ECFILE"),ZTSAVE("ECHEAD"),ZTSAVE("ECVER"))=""
"RTN","ECXTRAC",83,0)
 S (ZTSAVE("ECINST"),ZTSAVE("ECXINST"))=""
"RTN","ECXTRAC",84,0)
 S ZTDESC=ECPACK_" EXTRACT: "_ECSDN_" TO "_ECEDN,ZTRTN="START^ECXTRAC",ZTIO=""
"RTN","ECXTRAC",85,0)
 D ^%ZTLOAD
"RTN","ECXTRAC",86,0)
 I $D(ZTSK) D
"RTN","ECXTRAC",87,0)
 .S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)="R"
"RTN","ECXTRAC",88,0)
 .W !,"Request queued as Task #",ZTSK,".",!
"RTN","ECXTRAC",89,0)
 .D PAUSE
"RTN","ECXTRAC",90,0)
 Q
"RTN","ECXTRAC",91,0)
 ;
"RTN","ECXTRAC",92,0)
NOIVP ;cannot generate ivp message
"RTN","ECXTRAC",93,0)
 W !!,?5,"There does not appear to be any data in the IV EXTRACT DATA"
"RTN","ECXTRAC",94,0)
 W !,?5,"file (#728.113) for the selected date range."
"RTN","ECXTRAC",95,0)
 W !!,?5,"The IVP extract cannot be generated."
"RTN","ECXTRAC",96,0)
 D PAUSE
"RTN","ECXTRAC",97,0)
 Q
"RTN","ECXTRAC",98,0)
 ;
"RTN","ECXTRAC",99,0)
START ; entry when queued
"RTN","ECXTRAC",100,0)
 S QFLG=0
"RTN","ECXTRAC",101,0)
 L +^ECX(727,0) S EC=$P(^ECX(727,0),U,3)+1,$P(^(0),U,3,4)=EC_U_EC L -^ECX(727,0)
"RTN","ECXTRAC",102,0)
 S ^ECX(727,EC,0)=EC_U_DT_U_ECPACK_U_ECSD_U_$E(ECED,1,7)
"RTN","ECXTRAC",103,0)
 S ^ECX(727,EC,"HEAD")=ECHEAD
"RTN","ECXTRAC",104,0)
 S:ECFILE=727.816 ECFILE=727.827 S ^ECX(727,EC,"FILE")=ECFILE
"RTN","ECXTRAC",105,0)
 S ^ECX(727,EC,"GRP")=ECGRP
"RTN","ECXTRAC",106,0)
 I $D(ECVER) S ^ECX(727,EC,"VER")=ECVER
"RTN","ECXTRAC",107,0)
 S ^ECX(727,EC,"DIV")=ECXINST
"RTN","ECXTRAC",108,0)
 S DA=EC,DIK="^ECX(727," D IX^DIK K DIK,DA
"RTN","ECXTRAC",109,0)
 S ECRN=0,ECXYM=$$ECXYM^ECXUTL(ECED),EC23=ECXYM_U_EC
"RTN","ECXTRAC",110,0)
 S ECXSTART=$P($$HTE^XLFDT($H),":",1,2),ECXNOW=$H
"RTN","ECXTRAC",111,0)
 ;do specific extract
"RTN","ECXTRAC",112,0)
 D @ECRTN
"RTN","ECXTRAC",113,0)
 ;if task gets stop request, set ztstop and quit
"RTN","ECXTRAC",114,0)
 I QFLG D  Q
"RTN","ECXTRAC",115,0)
 .S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)="",ZTSTOP=1
"RTN","ECXTRAC",116,0)
 .D QKILL
"RTN","ECXTRAC",117,0)
 .D QMSG
"RTN","ECXTRAC",118,0)
 .D ^ECXKILL
"RTN","ECXTRAC",119,0)
 ;* set last date for all extracts except prosthetics
"RTN","ECXTRAC",120,0)
 S:(ECGRP'="PRO") $P(^ECX(728,1,ECNODE),U,ECPIECE)=$P(ECED,".")
"RTN","ECXTRAC",121,0)
 ;* set last date for prosthetics
"RTN","ECXTRAC",122,0)
 I ECGRP="PRO" D
"RTN","ECXTRAC",123,0)
 .N ECXDA1
"RTN","ECXTRAC",124,0)
 .S ECXDA1=$O(^ECX(728,0))
"RTN","ECXTRAC",125,0)
 .S $P(^ECX(728,ECXDA1,1,ECXINST,0),U,2)=$P(ECED,".")
"RTN","ECXTRAC",126,0)
 S TIME=$P($$HTE^XLFDT($H),":",1,2)
"RTN","ECXTRAC",127,0)
 S $P(^ECX(727,$P(EC23,U,2),0),U,6)=ECRN
"RTN","ECXTRAC",128,0)
 ;set piece 3 and 4 of the zero node
"RTN","ECXTRAC",129,0)
 S ECLAST=$O(^ECX(ECFILE,99999999),-1),ECTOTAL=$P(^ECX(ECFILE,0),U,4)+ECRN,$P(^(0),U,3,4)=ECLAST_U_ECTOTAL K ECLAST,ECTOTAL
"RTN","ECXTRAC",130,0)
 D MSG
"RTN","ECXTRAC",131,0)
 S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)=""
"RTN","ECXTRAC",132,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ECXTRAC",133,0)
 Q
"RTN","ECXTRAC",134,0)
 ;
"RTN","ECXTRAC",135,0)
MSG ; send message to mail group 'DSS-ECGRP'
"RTN","ECXTRAC",136,0)
 S XMSUB=ECINST_" - "_ECPACK_" EXTRACT FOR DSS",XMDUZ="DSS SYSTEM"
"RTN","ECXTRAC",137,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTRAC",138,0)
 S ECMSG(1,0)="The DSS-"_ECPACK_" extract (#"_$P(EC23,U,2)_") for "_ECSDN
"RTN","ECXTRAC",139,0)
 S ECMSG(2,0)="through "_ECEDN_" was begun on "_$P(ECXSTART,"@")_" at "_$P(ECXSTART,"@",2)
"RTN","ECXTRAC",140,0)
 S ECMSG(3,0)="and completed on "_$P(TIME,"@")_" at "_$P(TIME,"@",2)_"."
"RTN","ECXTRAC",141,0)
 S ECMSG(4,0)=" "
"RTN","ECXTRAC",142,0)
 S ECMSG(5,0)="A total of "_ECRN_" records were written."
"RTN","ECXTRAC",143,0)
 S ECMSG(6,0)=" "
"RTN","ECXTRAC",144,0)
 S ECMSG(7,0)="Extract time was [HH:MM:SS] "_$$HDIFF^XLFDT($H,ECXNOW,3)
"RTN","ECXTRAC",145,0)
 S ECMSG(8,0)=" "
"RTN","ECXTRAC",146,0)
 S XMTEXT="ECMSG("
"RTN","ECXTRAC",147,0)
 D ^XMD
"RTN","ECXTRAC",148,0)
 Q
"RTN","ECXTRAC",149,0)
 ;
"RTN","ECXTRAC",150,0)
QMSG ; send abort message to mail group 'DSS-ECGRP'
"RTN","ECXTRAC",151,0)
 S XMSUB=ECINST_" - "_ECPACK_" EXTRACT FOR DSS",XMDUZ="DSS SYSTEM"
"RTN","ECXTRAC",152,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTRAC",153,0)
 S ECMSG(1,0)="The DSS-"_ECPACK_" extract (#"_$P(EC23,U,2)_") for "_ECSDN
"RTN","ECXTRAC",154,0)
 S ECMSG(2,0)="through "_ECEDN_" was begun on "_$P(ECXSTART,"@")_" at "_$P(ECXSTART,"@",2)_"."
"RTN","ECXTRAC",155,0)
 S ECMSG(3,0)=" "
"RTN","ECXTRAC",156,0)
 S ECMSG(4,0)="A user stop request was received by Taskmanager which caused processing"
"RTN","ECXTRAC",157,0)
 S ECMSG(5,0)="to terminate before completion.  Any records which may have been created"
"RTN","ECXTRAC",158,0)
 S ECMSG(6,0)="in file #"_ECFILE_" for this extract have been deleted."
"RTN","ECXTRAC",159,0)
 S ECMSG(7,0)=" "
"RTN","ECXTRAC",160,0)
 S XMTEXT="ECMSG("
"RTN","ECXTRAC",161,0)
 D ^XMD
"RTN","ECXTRAC",162,0)
 Q
"RTN","ECXTRAC",163,0)
 ;
"RTN","ECXTRAC",164,0)
QKILL ;delete records created for any extract stopped at user request
"RTN","ECXTRAC",165,0)
 N ECX,FILE,IEN,DA,DIK
"RTN","ECXTRAC",166,0)
 S FILE="^ECX("_ECFILE_","
"RTN","ECXTRAC",167,0)
 S ECX=$P(EC23,U,2)
"RTN","ECXTRAC",168,0)
 F  S IEN=$O(^ECX(ECFILE,999999999),-1) Q:($P(^ECX(ECFILE,IEN,0),U,3)'=ECX)  D
"RTN","ECXTRAC",169,0)
 .S DIK=FILE,DA=IEN D ^DIK
"RTN","ECXTRAC",170,0)
 Q
"RTN","ECXTRAC",171,0)
 ;
"RTN","ECXTRAC",172,0)
CHK2 ;iv extract check - all active iv rooms to have a division
"RTN","ECXTRAC",173,0)
 S EC=0
"RTN","ECXTRAC",174,0)
 F  S EC=$O(^PS(59.5,EC)) Q:'EC  I '$P(^PS(59.5,EC,0),U,4) D  Q:CHKFLG
"RTN","ECXTRAC",175,0)
 .S CHKFLG=$S('$G(^PS(59.5,EC,"I")):1,$G(^PS(59.5,EC,"I"))>DT:1,1:0)
"RTN","ECXTRAC",176,0)
 .I CHKFLG D
"RTN","ECXTRAC",177,0)
 ..W !!,"All active IV Rooms in the IV Room file (#59.5) must have a ""DIVISION""",!,"assigned to run this extract!"
"RTN","ECXTRAC",178,0)
 ..W !!,"This information can be entered using the DSS Extract Manager's Maintenance ",!,"option ""Enter/Edit IV Room Division""."
"RTN","ECXTRAC",179,0)
 ..D PAUSE
"RTN","ECXTRAC",180,0)
 Q
"RTN","ECXTRAC",181,0)
 ;
"RTN","ECXTRAC",182,0)
PAUSE ;pause screen
"RTN","ECXTRAC",183,0)
 S OUT=0
"RTN","ECXTRAC",184,0)
 I $E(IOST)="C" D
"RTN","ECXTRAC",185,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXTRAC",186,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXTRAC",187,0)
 I 'Y S OUT=1
"RTN","ECXTRAC",188,0)
 W !!
"RTN","ECXTRAC",189,0)
 Q
"RTN","ECXTRANS")
0^17^B38599184
"RTN","ECXTRANS",1,0)
ECXTRANS ;ALB/GTS,JAP,BIR/DMA-Extract from Local Editing Files and Transmit ; [ 11/26/96  2:13 PM ]
"RTN","ECXTRANS",2,0)
 ;;3.0;DSS EXTRACTS;**2,9,12,8,13,14,23,24,33**;Dec 22, 1997
"RTN","ECXTRANS",3,0)
EN ;entry point
"RTN","ECXTRANS",4,0)
 N ECDA,ECRE,ECTMP,ECCHK,ECDIVVR,ECXDIQ,JJ,SS,OUT,DIR,DUOUT
"RTN","ECXTRANS",5,0)
 N DTOUT,DIRUT,DIC,X,Y
"RTN","ECXTRANS",6,0)
 I $G(^ECX(728,1,"QUEUE"))'?1"DM"1U D  Q
"RTN","ECXTRANS",7,0)
 .W !,"You have not defined a proper transmission queue"
"RTN","ECXTRANS",8,0)
 .W !,"for entry number 1 in the DSS EXTRACTS file (#728)."
"RTN","ECXTRANS",9,0)
 .W !,"No transmission allowed."
"RTN","ECXTRANS",10,0)
 .D PAUSE
"RTN","ECXTRANS",11,0)
 S ECXQUEUE=$G(^ECX(728,1,"QUEUE"))
"RTN","ECXTRANS",12,0)
 ;** check divisions for transmission
"RTN","ECXTRANS",13,0)
 S ECCHK=$$DIV4^XUSER(.ECTMP,DUZ)
"RTN","ECXTRANS",14,0)
 I 'ECCHK D  Q
"RTN","ECXTRANS",15,0)
 .W !,"You do not have any divisions defined in your user set up and cannot transmit."
"RTN","ECXTRANS",16,0)
 .S DIR(0)="FAO^1:1",DIR("A")="Hit Return to continue." D ^DIR K DIR,X,Y
"RTN","ECXTRANS",17,0)
 W !!,"Your user setup will only allow you to transmit extracts from the"
"RTN","ECXTRANS",18,0)
 W !," following divisions:",!
"RTN","ECXTRANS",19,0)
 S ECDIVVR=""
"RTN","ECXTRANS",20,0)
 F  S ECDIVVR=$O(ECTMP(ECDIVVR)) Q:'(+ECDIVVR)  D
"RTN","ECXTRANS",21,0)
 .K ECXDIC S DA=ECDIVVR,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01"
"RTN","ECXTRANS",22,0)
 .D EN^DIQ1 W !,"   ",$G(ECXDIC(4,DA,.01,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXTRANS",23,0)
 W !!,"If you can't select an extract, it is probably from another division.",!
"RTN","ECXTRANS",24,0)
 D PAUSE Q:OUT
"RTN","ECXTRANS",25,0)
 S ECRE="",DIC="^ECX(727,",DIC(0)="AEQM"
"RTN","ECXTRANS",26,0)
 S DIC("A")="Transmit which extract: "
"RTN","ECXTRANS",27,0)
 S DIC("S")="I '$D(^ECX(727,+Y,""L"")),'$D(^ECX(727,+Y,""PURG"")),$D(ECTMP(+$P($G(^ECX(727,+Y,""DIV"")),U,1)))"
"RTN","ECXTRANS",28,0)
 D ^DIC
"RTN","ECXTRANS",29,0)
 I Y<0 W !! Q
"RTN","ECXTRANS",30,0)
 ;get data on extract
"RTN","ECXTRANS",31,0)
 S DR="1;2;3;4;5;6;15",(ECDA,DA)=+Y,DIQ(0)="E",DIQ="ECXDIQ" D EN^DIQ1
"RTN","ECXTRANS",32,0)
 W !!,ECXDIQ(727,ECDA,6,"E")_" Extract (#"_ECDA_")",?42,"Records:    ",ECXDIQ(727,ECDA,5,"E")
"RTN","ECXTRANS",33,0)
 W !,"Generated on: ",ECXDIQ(727,ECDA,1,"E"),?42,"Start date: ",ECXDIQ(727,ECDA,3,"E")
"RTN","ECXTRANS",34,0)
 W !,"Division:     ",$E(ECXDIQ(727,ECDA,15,"E"),1,26),?42,"End date:   ",ECXDIQ(727,ECDA,4,"E")
"RTN","ECXTRANS",35,0)
 W !!,"MailMan transmission of the "_ECXDIQ(727,ECDA,2,"E")_" extract is set to a"
"RTN","ECXTRANS",36,0)
 W !,"limit of 131,000 bytes per message.  Each extract record ends with a ^~."
"RTN","ECXTRANS",37,0)
 I $G(^ECX(727,ECDA,"TR")) S ECX=^("TR") D  Q:OUT
"RTN","ECXTRANS",38,0)
 .S OUT=0
"RTN","ECXTRANS",39,0)
 .W !!,"This extract was transmitted on ",$TR($$FMTE^XLFDT(ECX,"5DF")," ","0")
"RTN","ECXTRANS",40,0)
 .K ECX S DIR(0)="Y",DIR("A")="Do you want to retransmit " D ^DIR K DIR
"RTN","ECXTRANS",41,0)
 .I 'Y S OUT=1 Q
"RTN","ECXTRANS",42,0)
 .K ^ECX(727,ECDA,"TR")
"RTN","ECXTRANS",43,0)
 .S ECRE="re"
"RTN","ECXTRANS",44,0)
 S ECTYPE=$P(^ECX(727,ECDA,0),U,3),ECIEN=+$O(^ECX(727.1,"AC",ECTYPE,0))
"RTN","ECXTRANS",45,0)
 S ECPIECE=$P($G(^ECX(727.1,ECIEN,0)),U,10)
"RTN","ECXTRANS",46,0)
 I ECPIECE>0,$P($G(^ECX(728,1,7.1)),U,ECPIECE)]"" D  Q
"RTN","ECXTRANS",47,0)
 .D MES^XPDUTL(" ")
"RTN","ECXTRANS",48,0)
 .D MES^XPDUTL("An "_ECTYPE_" Extract is currently running or scheduled to run.")
"RTN","ECXTRANS",49,0)
 .D MES^XPDUTL("Please wait until that job has completed before attempting")
"RTN","ECXTRANS",50,0)
 .D MES^XPDUTL("this transmission.")
"RTN","ECXTRANS",51,0)
 .D MES^XPDUTL(" ")
"RTN","ECXTRANS",52,0)
 .D PAUSE
"RTN","ECXTRANS",53,0)
 S ZTSK=$G(^ECX(727,ECDA,"Q"))
"RTN","ECXTRANS",54,0)
 I ZTSK D STAT^%ZTLOAD I ZTSK(0) I ZTSK(1)<3 D  Q
"RTN","ECXTRANS",55,0)
 .W !!,"Task ",ZTSK," is already queued to transmit this extract."
"RTN","ECXTRANS",56,0)
 .K ZTSK
"RTN","ECXTRANS",57,0)
 .D PAUSE
"RTN","ECXTRANS",58,0)
 S ZTSAVE("ECDA")="",ZTSAVE("ECXQUEUE")="",ZTSAVE("ECRE")=""
"RTN","ECXTRANS",59,0)
 S ZTRTN="START^ECXTRANS",ZTIO=""
"RTN","ECXTRANS",60,0)
 S ZTDESC="Transmission of extract # "_ECDA
"RTN","ECXTRANS",61,0)
 W !! D ^%ZTLOAD
"RTN","ECXTRANS",62,0)
 I $D(ZTSK) D
"RTN","ECXTRANS",63,0)
 .W !,"Request queued as Task #",ZTSK,"."
"RTN","ECXTRANS",64,0)
 .S ^ECX(727,ECDA,"Q")=ZTSK K ZTSK
"RTN","ECXTRANS",65,0)
 .D PAUSE
"RTN","ECXTRANS",66,0)
 Q
"RTN","ECXTRANS",67,0)
 ; entry point fr task
"RTN","ECXTRANS",68,0)
START N DA,DIC,DIQ,DR,ECAR1,ECAR2,ECC1,ECC2,ECED,ECGPR,ECF,ECGRP,ECHEAD,ECINST
"RTN","ECXTRANS",69,0)
 N ECMAX,ECMAXR,ECMSN,ECPACK,ECSIZ,ECVER,ECXDIC,I,J
"RTN","ECXTRANS",70,0)
 N STR,STRCNT,X
"RTN","ECXTRANS",71,0)
 S:$P(^ECX(727,ECDA,0),U,3)'="Prosthetics" ECINST=$P(^ECX(728,1,0),U)
"RTN","ECXTRANS",72,0)
 S:$P(^ECX(727,ECDA,0),U,3)="Prosthetics" ECINST=$P(^("DIV"),U)
"RTN","ECXTRANS",73,0)
 S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXTRANS",74,0)
 D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I"))
"RTN","ECXTRANS",75,0)
 S ECF=^ECX(727,ECDA,"FILE"),ECHEAD=^("HEAD"),ECGRP=^("GRP")
"RTN","ECXTRANS",76,0)
 S ECED=$P(^(0),U,5),ECPACK=$P(^(0),U,3),ECVER=$G(^("VER"))
"RTN","ECXTRANS",77,0)
 S:'ECVER ECVER=1 S ECVER=$$RJ^XLFSTR(ECVER,3,0)
"RTN","ECXTRANS",78,0)
 I ECPACK["(setup)" S ECXQUEUE="DMU"
"RTN","ECXTRANS",79,0)
 K ^TMP($J)
"RTN","ECXTRANS",80,0)
 S ECHD(1)=ECINST_ECHEAD_$$ECXYM^ECXUTL(ECED)_ECVER
"RTN","ECXTRANS",81,0)
 S ECMAX=130000,ECMAXR=250,ECLN=2,ECMSN=1,(ECRN,ECSIZ)=0,J=""
"RTN","ECXTRANS",82,0)
 F  S J=$O(^ECX(ECF,"AC",ECDA,J)) Q:('J)  D
"RTN","ECXTRANS",83,0)
 .M ECAR1=^ECX(ECF,J) S (ECAR2,ECC2)=1,(ECAR2(ECC2),ECC1)=""
"RTN","ECXTRANS",84,0)
 .F  S ECC1=$O(ECAR1(ECC1)) Q:ECC1=""  D
"RTN","ECXTRANS",85,0)
 ..S:ECC1=0 ECAR1(ECC1)=$P(ECAR1(ECC1),"^",4,999)
"RTN","ECXTRANS",86,0)
 ..S ECAR2(ECC2)=ECAR2(ECC2)_ECAR1(ECC1) I $L(ECAR2(ECC2))>ECMAXR D
"RTN","ECXTRANS",87,0)
 ...F I=ECMAXR:-1:1 Q:$E(ECAR2(ECC2),I)="^"
"RTN","ECXTRANS",88,0)
 ...S (X,ECAR2)=ECAR2+1,ECAR2(X)=$E(ECAR2(ECC2),I+1,$L(ECAR2(ECC2)))
"RTN","ECXTRANS",89,0)
 ...S ECAR2(ECC2)=$E(ECAR2(ECC2),1,I),ECC2=X
"RTN","ECXTRANS",90,0)
 .S ECAR2(ECC2)=ECAR2(ECC2)_"^~",ECRN=ECRN+1,X=""
"RTN","ECXTRANS",91,0)
 .F  S X=$O(ECAR2(X)) Q:X=""  D
"RTN","ECXTRANS",92,0)
 ..S ^TMP($J,ECMSN,ECLN,0)=ECAR2(X),ECLN=ECLN+1,ECSIZ=ECSIZ+$L(ECAR2(X))
"RTN","ECXTRANS",93,0)
 .K ECAR1,ECAR2
"RTN","ECXTRANS",94,0)
 .I (ECSIZ>ECMAX),($O(^ECX(ECF,"AC",ECDA,J))) D
"RTN","ECXTRANS",95,0)
 ..S ECLN=2,ECMSN=ECMSN+1,ECSIZ=0
"RTN","ECXTRANS",96,0)
 ;quit if user stopped task
"RTN","ECXTRANS",97,0)
 I $$S^%ZTLOAD D CLEAN Q
"RTN","ECXTRANS",98,0)
 ;generate mailman messages to aac
"RTN","ECXTRANS",99,0)
 S ECXLNCNT=9,(ECXXMZ,STRCNT)=0,STR=""
"RTN","ECXTRANS",100,0)
 F ECMS=1:1:ECMSN D
"RTN","ECXTRANS",101,0)
 .D SEND(.ECXXMZ)
"RTN","ECXTRANS",102,0)
 .S STR=STR_$$RJ^XLFSTR(ECXXMZ,18," "),STRCNT=STRCNT+1 I STRCNT=4 D
"RTN","ECXTRANS",103,0)
 ..S ^TMP($J,"LOC",ECXLNCNT,0)=STR,ECXLNCNT=ECXLNCNT+1
"RTN","ECXTRANS",104,0)
 ..S STR="",STRCNT=0
"RTN","ECXTRANS",105,0)
 I STR]"" S ^TMP($J,"LOC",ECXLNCNT,0)=STR
"RTN","ECXTRANS",106,0)
 ;send msg to local dss grp
"RTN","ECXTRANS",107,0)
 D SENDLOC,CLEAN
"RTN","ECXTRANS",108,0)
 Q
"RTN","ECXTRANS",109,0)
 ;
"RTN","ECXTRANS",110,0)
SEND(ECXXMZ) ;send individual messages
"RTN","ECXTRANS",111,0)
 N ECXDD,DA,DIC,DIE,DINUM,X,XMDUZ,XMTEXT,XMSUB,XMY,XMZ
"RTN","ECXTRANS",112,0)
 S XMSUB="("_ECGRP_") "_ECINST_" - "_ECPACK_" DSS EXTRACT, MESSAGE "_ECMS_" OF "_ECMSN
"RTN","ECXTRANS",113,0)
 S XMDUZ="DSS SYSTEM",^TMP($J,ECMS,1,0)=ECHD(1)
"RTN","ECXTRANS",114,0)
 ;S XMY(DUZ)=""
"RTN","ECXTRANS",115,0)
 S XMY("XXX@Q-"_ECXQUEUE_".VA.GOV")=""
"RTN","ECXTRANS",116,0)
 S XMTEXT="^TMP($J,ECMS,"
"RTN","ECXTRANS",117,0)
 D ^XMD
"RTN","ECXTRANS",118,0)
 S ECXXMZ=XMZ
"RTN","ECXTRANS",119,0)
 ;store msg# in extract log
"RTN","ECXTRANS",120,0)
 D FIELD^DID(727,301,"","SPECIFIER","ECXDD")
"RTN","ECXTRANS",121,0)
 S DA(1)=ECDA,DIC(0)="L",DIC("P")=ECXDD("SPECIFIER")
"RTN","ECXTRANS",122,0)
 S DIC="^ECX(727,"_DA(1)_",1,",X=XMZ,DINUM=X
"RTN","ECXTRANS",123,0)
 K DD,DO D FILE^DICN
"RTN","ECXTRANS",124,0)
 Q
"RTN","ECXTRANS",125,0)
 ;
"RTN","ECXTRANS",126,0)
SENDLOC ; send message to mail group 'DSS-ECGRP'
"RTN","ECXTRANS",127,0)
 S TIME=$P($$HTE^XLFDT($H),":",1,2)
"RTN","ECXTRANS",128,0)
 S XMSUB=ECINST_" - "_ECPACK_" EXTRACT FOR DSS",XMDUZ="DSS SYSTEM"
"RTN","ECXTRANS",129,0)
 K XMY S XMY(DUZ)="",XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTRANS",130,0)
 S ^TMP($J,"LOC",1,0)="The DSS "_ECPACK_" ("_ECHEAD_") extract, #"_ECDA_","
"RTN","ECXTRANS",131,0)
 S ^TMP($J,"LOC",2,0)="was "_ECRE_"transmitted on "_$P(TIME,"@")_" at "_$P(TIME,"@",2)_". "
"RTN","ECXTRANS",132,0)
 S ^TMP($J,"LOC",3,0)=" "
"RTN","ECXTRANS",133,0)
 S ^TMP($J,"LOC",4,0)="Maximum number of Bytes (characters) per message: 131,000 "
"RTN","ECXTRANS",134,0)
 S ^TMP($J,"LOC",5,0)=" "
"RTN","ECXTRANS",135,0)
 S ^TMP($J,"LOC",6,0)="A total of "_ECRN_" records were written."
"RTN","ECXTRANS",136,0)
 S ^TMP($J,"LOC",7,0)="A total of "_ECMSN_" messages were sent."
"RTN","ECXTRANS",137,0)
 S ^TMP($J,"LOC",8,0)="    Message numbers :"
"RTN","ECXTRANS",138,0)
 S XMTEXT="^TMP($J,""LOC"","
"RTN","ECXTRANS",139,0)
 D ^XMD
"RTN","ECXTRANS",140,0)
 S ^ECX(727,ECDA,"TR")=DT
"RTN","ECXTRANS",141,0)
 Q
"RTN","ECXTRANS",142,0)
 ;
"RTN","ECXTRANS",143,0)
CLEAN ;clean-up
"RTN","ECXTRANS",144,0)
 S ZTREQ="@"
"RTN","ECXTRANS",145,0)
 K ^TMP($J),^ECX(727,ECDA,"Q"),XMDUZ,XMTEXT,XMSUB,XMY,XMZ
"RTN","ECXTRANS",146,0)
 K ECDA,ECRE,ECTMP,ECCHK,ECDIVVR,ECXDIQ,ECXMAX,ECXMSG
"RTN","ECXTRANS",147,0)
 D ^ECXKILL
"RTN","ECXTRANS",148,0)
 I $$S^%ZTLOAD K ZTREQ S ZTSTOP=1
"RTN","ECXTRANS",149,0)
 Q
"RTN","ECXTRANS",150,0)
 ;
"RTN","ECXTRANS",151,0)
PAUSE ;pause screen
"RTN","ECXTRANS",152,0)
 S OUT=0
"RTN","ECXTRANS",153,0)
 I $E(IOST)="C" D
"RTN","ECXTRANS",154,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXTRANS",155,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXTRANS",156,0)
 I 'Y S OUT=1
"RTN","ECXTRANS",157,0)
 W !!
"RTN","ECXTRANS",158,0)
 Q
"RTN","ECXTRT")
0^2^B36609351
"RTN","ECXTRT",1,0)
ECXTRT ;ALB/JAP,BIR/DMA,CML,PTD-Treating Specialty Change Extract ; [ 01/10/97  4:33 PM ]
"RTN","ECXTRT",2,0)
 ;;3.0;DSS EXTRACTS;**1,8,17,24,33**;Dec 22, 1997
"RTN","ECXTRT",3,0)
BEG ;entry point from option
"RTN","ECXTRT",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXTRT",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXTRT",6,0)
 Q
"RTN","ECXTRT",7,0)
 ;
"RTN","ECXTRT",8,0)
START ; start package specific extract
"RTN","ECXTRT",9,0)
 N LOC,TRT,SPC
"RTN","ECXTRT",10,0)
 S QFLG=0
"RTN","ECXTRT",11,0)
 K ECXDD D FIELD^DID(405,.19,,"SPECIFIER","ECXDD")
"RTN","ECXTRT",12,0)
 S ECPRO=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXTRT",13,0)
 K ^TMP($J,"ECXTMP") S TRT=0
"RTN","ECXTRT",14,0)
 F  S TRT=$O(^DIC(45.7,TRT)) Q:+TRT=0  S SPC=$P(^DIC(45.7,TRT,0),U,2),^TMP($J,"ECXTMP",TRT)=SPC
"RTN","ECXTRT",15,0)
 S ECED=ECED+.3,ECD=ECSD1
"RTN","ECXTRT",16,0)
 ;loop through type 6 movements to get treating specialty and provider changes
"RTN","ECXTRT",17,0)
 F  S ECD=$O(^DGPM("ATT6",ECD)),ECDA=0 Q:('ECD)!(ECD>ECED)!(QFLG)  F  S ECDA=$O(^DGPM("ATT6",ECD,ECDA)) Q:'ECDA  D  Q:QFLG
"RTN","ECXTRT",18,0)
 .I $D(^DGPM(ECDA,0)) S EC=^(0),ECXDFN=+$P(EC,U,3) D  Q:QFLG
"RTN","ECXTRT",19,0)
 ..S ECXMVD1=$P(EC,U,1)
"RTN","ECXTRT",20,0)
 ..K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXMVD1,"."),"1;",.ECXPAT)
"RTN","ECXTRT",21,0)
 ..I 'OK K ECXPAT Q
"RTN","ECXTRT",22,0)
 ..S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXTRT",23,0)
 ..S ECMT=$P(EC,U,18),ECXADM=$P(EC,U,14),ECXADT=$P($G(^DGPM(ECXADM,0)),U)
"RTN","ECXTRT",24,0)
 ..S X=$$INP^ECXUTL2(ECXDFN,$P(ECXMVD1,"."))
"RTN","ECXTRT",25,0)
 ..S ECXA=$P(X,U),ECXDOM=$P(X,U,10)
"RTN","ECXTRT",26,0)
 ..;skip the record if its the admission treat. spec. change for this episode of care
"RTN","ECXTRT",27,0)
 ..Q:ECXADM=$P(EC,U,24)
"RTN","ECXTRT",28,0)
 ..S (ECXLOS,ECXLOSA,ECXLOSP)="" S ECXDSSD=""
"RTN","ECXTRT",29,0)
 ..K LOC D SETLOC(ECXDFN,ECXADM,ECPRO,.LOC)
"RTN","ECXTRT",30,0)
 ..;get data for current (new) ts movement
"RTN","ECXTRT",31,0)
 ..S ECD1=9999999.9999999-ECXMVD1
"RTN","ECXTRT",32,0)
 ..D FINDLOC(ECD1,.LOC,.ECXSPCN,.ECXPRVN,.ECXATTN,.ECXMOVN,.ECXTRTN)
"RTN","ECXTRT",33,0)
 ..Q:ECXSPCN=""
"RTN","ECXTRT",34,0)
 ..S ECD2=$O(LOC(ECD1)) Q:ECD2=""
"RTN","ECXTRT",35,0)
 ..S ECXMVD2=9999999.9999999-ECD2
"RTN","ECXTRT",36,0)
 ..;get data for previous (losing) ts movement
"RTN","ECXTRT",37,0)
 ..D FINDLOC(ECD2,.LOC,.ECXSPCL,.ECXPRVL,.ECXATTL,.ECXMOVL,.ECXTRTL)
"RTN","ECXTRT",38,0)
 ..;if ts has changed, find los on losing ts
"RTN","ECXTRT",39,0)
 ..D:ECXTRTL'=ECXTRTN PREVTRT^ECXTRT1(.LOC,ECD1,ECD2,ECXTRTL,.ECXLOS)
"RTN","ECXTRT",40,0)
 ..;whether ts has changed or not, see if primary provider has changed
"RTN","ECXTRT",41,0)
 ..;dont bother if there's no data on current primary provider or no change in provider
"RTN","ECXTRT",42,0)
 ..D:(ECXPRVN'="")&(ECXPRVN'=ECXPRVL) PREVPRV^ECXTRT1(.LOC,ECD1,ECXPRVN,ECD2,.ECXPRVL,.ECXLOSP)
"RTN","ECXTRT",43,0)
 ..;whether ts has changed or not, see if attending physician has changed
"RTN","ECXTRT",44,0)
 ..;dont bother if theres no data on current attending physician or no change in attending
"RTN","ECXTRT",45,0)
 ..D:(ECXATTN'="")&(ECXATTN'=ECXATTL) PREVATT^ECXTRT1(.LOC,ECD1,ECXATTN,ECD2,.ECXATTL,.ECXLOSA)
"RTN","ECXTRT",46,0)
 ..S ECXDATE=$$ECXDATE^ECXUTL(ECXMVD1,ECXYM),ECXTIME=$$ECXTIME^ECXUTL(ECXMVD1)
"RTN","ECXTRT",47,0)
 ..S ECXADMDT=$$ECXDATE^ECXUTL(ECXADT,ECXYM),ECXADMTM=$$ECXTIME^ECXUTL(ECXADT),ECXDCDT=""
"RTN","ECXTRT",48,0)
 ..S (ECXALNPI,ECXANNPI,ECXPLNPI,ECXPNNPI)=""
"RTN","ECXTRT",49,0)
 ..D FILE
"RTN","ECXTRT",50,0)
 ;for nhcu episodes with intervening asih stays, the los calculated here is not accurate,
"RTN","ECXTRT",51,0)
 ;but it never has been; this is best solution within current extract framework;
"RTN","ECXTRT",52,0)
 ;at discharge the los calculated for nhcu apisodes will be the los since admission w/o asih los subtracted;
"RTN","ECXTRT",53,0)
 ;
"RTN","ECXTRT",54,0)
 ;loop through discharges to get last treating specialty
"RTN","ECXTRT",55,0)
 S ECD=ECSD1
"RTN","ECXTRT",56,0)
 F  S ECD=$O(^DGPM("ATT3",ECD)),ECDA=0 Q:'ECD  Q:ECD>ECED  F  S ECDA=$O(^DGPM("ATT3",ECD,ECDA)) Q:'ECDA  D  Q:QFLG
"RTN","ECXTRT",57,0)
 .I $D(^DGPM(ECDA,0)) S EC=^(0),ECXDFN=+$P(EC,U,3) D  Q:QFLG
"RTN","ECXTRT",58,0)
 ..S ECXMVD1=$P(EC,U,1)
"RTN","ECXTRT",59,0)
 ..K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXMVD1,"."),"1;",.ECXPAT)
"RTN","ECXTRT",60,0)
 ..I 'OK K ECXPAT Q
"RTN","ECXTRT",61,0)
 ..S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXTRT",62,0)
 ..S (ECXDATE,ECXDCDT)=$$ECXDATE^ECXUTL(ECXMVD1,ECXYM),ECXTIME=$$ECXTIME^ECXUTL(ECXMVD1)
"RTN","ECXTRT",63,0)
 ..S ECMT=$P(EC,U,18),ECXADM=$P(EC,U,14),ECXADT=$P($G(^DGPM(ECXADM,0)),U,1)
"RTN","ECXTRT",64,0)
 ..S ECXADMDT=$$ECXDATE^ECXUTL(ECXADT,ECXYM),ECXADMTM=$$ECXTIME^ECXUTL(ECXADT)
"RTN","ECXTRT",65,0)
 ..S (ECXTRTN,ECXSPCN,ECXPRVN,ECXATTN)="" S (ECXLOS,ECXLOSA,ECXLOSP)="" S ECXDSSD=""
"RTN","ECXTRT",66,0)
 ..K LOC D SETLOC(ECXDFN,ECXADM,ECPRO,.LOC)
"RTN","ECXTRT",67,0)
 ..S ECD1=9999999.9999999-ECXMVD1
"RTN","ECXTRT",68,0)
 ..;get ts change just before d/c
"RTN","ECXTRT",69,0)
 ..S ECD2=$O(LOC(ECD1)),ECXMVD2=9999999.9999999-ECD2
"RTN","ECXTRT",70,0)
 ..D FINDLOC(ECD2,.LOC,.ECXSPCL,.ECXPRVL,.ECXATTL,.ECXMOVL,.ECXTRTL)
"RTN","ECXTRT",71,0)
 ..;if closest ts change is admission ts, cant go back any further
"RTN","ECXTRT",72,0)
 ..S TRT=$O(LOC(ECD2,0)),REC=$O(LOC(ECD2,TRT,0))
"RTN","ECXTRT",73,0)
 ..I REC=ECXADM D
"RTN","ECXTRT",74,0)
 ...S X1=ECXMVD1,X2=ECXMVD2 D ^%DTC S ECXLOS=X
"RTN","ECXTRT",75,0)
 ...I ECXPRVL'="" S X1=ECXMVD1,X2=ECXMVD2 D ^%DTC S ECXLOSP=X
"RTN","ECXTRT",76,0)
 ...I ECXATTL'="" S X1=ECXMVD1,X2=ECXMVD2 D ^%DTC S ECXLOSA=X
"RTN","ECXTRT",77,0)
 ..;otherwise, need to find when change to last ts occurred
"RTN","ECXTRT",78,0)
 ..I REC'=ECXADM D
"RTN","ECXTRT",79,0)
 ...D PREVTRT^ECXTRT1(.LOC,ECD1,ECD2,ECXTRTL,.ECXLOS)
"RTN","ECXTRT",80,0)
 ...D PREVPRV^ECXTRT1(.LOC,ECD1,ECXPRVN,ECD2,.ECXPRVL,.ECXLOSP)
"RTN","ECXTRT",81,0)
 ...D PREVATT^ECXTRT1(.LOC,ECD1,ECXATTN,ECD2,.ECXATTL,.ECXLOSA)
"RTN","ECXTRT",82,0)
 ..S:ECXLOS>9999 ECXLOS=9999 S:ECXLOSA>9999 ECXLOSA=9999
"RTN","ECXTRT",83,0)
 ..S:ECXLOSP>9999 ECXLOSP=9999
"RTN","ECXTRT",84,0)
 ..S (ECXALNPI,ECXANNPI,ECXPLNPI,ECXPNNPI)=""
"RTN","ECXTRT",85,0)
 ..D FILE
"RTN","ECXTRT",86,0)
 Q
"RTN","ECXTRT",87,0)
 ;
"RTN","ECXTRT",88,0)
SETLOC(ECXDFN,ECXADM,ECXPRO,ECXLOC) ;setup the local array from the ATS index
"RTN","ECXTRT",89,0)
 ; output
"RTN","ECXTRT",90,0)
 ; ECXLOC = local array (passed by reference)
"RTN","ECXTRT",91,0)
 ;
"RTN","ECXTRT",92,0)
 N SUB3,SUB4,SUB5,SPC,PRV,ATT,MOV
"RTN","ECXTRT",93,0)
 S SUB3=0
"RTN","ECXTRT",94,0)
 F  S SUB3=$O(^DGPM("ATS",ECXDFN,ECXADM,SUB3)) Q:SUB3=""  D
"RTN","ECXTRT",95,0)
 .S (SUB4,SUB5)=0
"RTN","ECXTRT",96,0)
 .S SUB4=$O(^DGPM("ATS",ECXDFN,ECXADM,SUB3,SUB4))
"RTN","ECXTRT",97,0)
 .S SUB5=$O(^DGPM("ATS",ECXDFN,ECXADM,SUB3,SUB4,SUB5))
"RTN","ECXTRT",98,0)
 .S ECXLOC(SUB3,SUB4,SUB5)="",SPC=$G(^TMP($J,"ECXTMP",SUB4))
"RTN","ECXTRT",99,0)
 .S DATA=$G(^DGPM(SUB5,0)),PRV=$P(DATA,U,8),ATT=$P(DATA,U,19)
"RTN","ECXTRT",100,0)
 .S MOV=$P(DATA,U,14)
"RTN","ECXTRT",101,0)
 .S:PRV]"" PRV=ECXPRO_PRV S:ATT]"" ATT=ECXPRO_ATT
"RTN","ECXTRT",102,0)
 .S ECXLOC(SUB3,SUB4,SUB5)=SPC_U_PRV_U_ATT_U_MOV
"RTN","ECXTRT",103,0)
 Q
"RTN","ECXTRT",104,0)
 ;
"RTN","ECXTRT",105,0)
FINDLOC(ECXTSD,ECXLOC,ECXSPC,ECXPRV,ECXATT,ECXMOV,ECXTRT) ;find local array node for current ts movement
"RTN","ECXTRT",106,0)
 ;   input
"RTN","ECXTRT",107,0)
 ;   ECXTSD = inverse date/time for current ts movement; required
"RTN","ECXTRT",108,0)
 ;   ECXLOC = local array; passed by reference; required
"RTN","ECXTRT",109,0)
 ;   output; data from record contained in MOVE
"RTN","ECXTRT",110,0)
 ;   ECXSPC = piece 1 of LOC (passed by reference)
"RTN","ECXTRT",111,0)
 ;   ECXPRV = piece 2 of LOC concatenated to PRO (passed by reference)
"RTN","ECXTRT",112,0)
 ;   ECXATT = piece 3 of LOC concatenated to PRO (passed by reference)
"RTN","ECXTRT",113,0)
 ;   ECXMOV = piece 4 of LOC (passed by reference)
"RTN","ECXTRT",114,0)
 ;   ECXTRT = pointer to file #45.7
"RTN","ECXTRT",115,0)
 ;
"RTN","ECXTRT",116,0)
 N SUB3,SUB4,SUB5,LOC
"RTN","ECXTRT",117,0)
 S (ECXSPC,ECXPRV,ECXATT,ECXMOV)=""
"RTN","ECXTRT",118,0)
 S SUB3=ECXTSD
"RTN","ECXTRT",119,0)
 I $D(ECXLOC(SUB3)) D
"RTN","ECXTRT",120,0)
 .S SUB4=$O(ECXLOC(SUB3,0)),SUB5=$O(ECXLOC(SUB3,SUB4,0))
"RTN","ECXTRT",121,0)
 .S LOC=ECXLOC(SUB3,SUB4,SUB5),ECXTRT=SUB4,ECXSPC=$P(LOC,U)
"RTN","ECXTRT",122,0)
 .S ECXPRV=$P(LOC,U,2),ECXATT=$P(LOC,U,3),ECXMOV=$P(LOC,U,4)
"RTN","ECXTRT",123,0)
 Q
"RTN","ECXTRT",124,0)
 ;
"RTN","ECXTRT",125,0)
FILE ;file the extract record
"RTN","ECXTRT",126,0)
 ;node0
"RTN","ECXTRT",127,0)
 ;^dfn^ssn^name^i/o (ECXA)^date^product^adm date^d/c date^
"RTN","ECXTRT",128,0)
 ;mov#^type^new ts^losing ts^losing ts los^
"RTN","ECXTRT",129,0)
 ;losing attending^movement type^time^adm time^new provider^
"RTN","ECXTRT",130,0)
 ;new attending^losing provider
"RTN","ECXTRT",131,0)
 ;node1
"RTN","ECXTRT",132,0)
 ;mpi^dss dept^losing attending npi^new provider npi^new attending npi^
"RTN","ECXTRT",133,0)
 ;losing provider npi^losing attending los^losing provider los^dom^
"RTN","ECXTRT",134,0)
 ;extended outpatient
"RTN","ECXTRT",135,0)
 ;
"RTN","ECXTRT",136,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXTRT",137,0)
 S ECODE=EC7_U_EC23_U_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_3_U_ECXDATE_U_U
"RTN","ECXTRT",138,0)
 S ECODE=ECODE_ECXADMDT_U_ECXDCDT_U_ECDA_U_6_U_ECXSPCN_U_ECXSPCL_U
"RTN","ECXTRT",139,0)
 S ECODE=ECODE_ECXLOS_U_ECXATTL_U_ECMT_U_ECXTIME_U_ECXADMTM_U_ECXPRVN_U
"RTN","ECXTRT",140,0)
 S ECODE=ECODE_ECXATTN_U_ECXPRVL_U
"RTN","ECXTRT",141,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXALNPI_U_ECXPNNPI_U_ECXANNPI_U_ECXPLNPI_U
"RTN","ECXTRT",142,0)
 S ECODE1=ECODE1_ECXLOSA_U_ECXLOSP_U_ECXDOM_U_$G(ECXEOP)
"RTN","ECXTRT",143,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXTRT",144,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXTRT",145,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXTRT",146,0)
 Q
"RTN","ECXTRT",147,0)
 ;
"RTN","ECXTRT",148,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXTRT",149,0)
 S ECHEAD="TRT"
"RTN","ECXTRT",150,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXTRT",151,0)
 Q
"RTN","ECXTRT",152,0)
 ;
"RTN","ECXTRT",153,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXTRT",154,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL
"RTN","ECXTRT",155,0)
 Q
"RTN","ECXUD")
0^1^B9284590
"RTN","ECXUD",1,0)
ECXUD ;ALB/JAP,BIR/DMA,PTD-Extract from UNIT DOSE EXTRACT DATA File (#728.904) ; 11/01/96 14:35
"RTN","ECXUD",2,0)
 ;;3.0;DSS EXTRACTS;**10,8,24,33**;Dec 22, 1997
"RTN","ECXUD",3,0)
BEG ;entry point from option
"RTN","ECXUD",4,0)
 I '$O(^ECX(728.904,"A",0)) W !,"There are no unit dose orders to extract",!! R X:5 K X Q
"RTN","ECXUD",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXUD",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXUD",7,0)
 Q
"RTN","ECXUD",8,0)
 ;
"RTN","ECXUD",9,0)
START ;start package specific extract
"RTN","ECXUD",10,0)
 S QFLG=0
"RTN","ECXUD",11,0)
 S ECED=ECED+.3
"RTN","ECXUD",12,0)
 F ECD=ECSD1:0 S ECD=$O(^ECX(728.904,"A",ECD)) Q:'ECD  Q:ECD>ECED  Q:QFLG  D
"RTN","ECXUD",13,0)
 .S ECXJ=0 F  S ECXJ=$O(^ECX(728.904,"A",ECD,ECXJ)) Q:'ECXJ  Q:QFLG  I $D(^ECX(728.904,ECXJ,0)) D
"RTN","ECXUD",14,0)
 ..S DATA=^ECX(728.904,ECXJ,0),^(1)=$P(EC23,U,2),^ECX(728.904,"AC",$P(EC23,U,2),ECXJ)="" D STUFF
"RTN","ECXUD",15,0)
 Q
"RTN","ECXUD",16,0)
 ;
"RTN","ECXUD",17,0)
STUFF ;get data
"RTN","ECXUD",18,0)
 N X,W,OK,P1,P3
"RTN","ECXUD",19,0)
 S ECXDFN=$P(DATA,U,2)
"RTN","ECXUD",20,0)
 K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXUD",21,0)
 Q:'OK
"RTN","ECXUD",22,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXUD",23,0)
 S ECXPRO=$P(DATA,U,7),ECXPRO=$E($P(ECXPRO,";",2))_$P(ECXPRO,";")
"RTN","ECXUD",24,0)
 S ECXPRNPI=""
"RTN","ECXUD",25,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECD),ECXA=$P(X,U),ECXMN=$P(X,U,2)
"RTN","ECXUD",26,0)
 S ECXTS=$P(X,U,3),ECXADM=$P(X,U,4),ECXDOM=$P(X,U,10),W=$P(DATA,U,6)
"RTN","ECXUD",27,0)
 S ECXDIV=$P($G(^DIC(42,+W,0)),U,11),ECXW=$P($G(^DIC(42,+W,44)),U)
"RTN","ECXUD",28,0)
 S ECXUDDT=$$ECXDATE^ECXUTL($P(DATA,U,3),ECXYM)
"RTN","ECXUD",29,0)
 S ECXUDTM=$E($P($P(DATA,U,3),".",2)_"000000",1,6)
"RTN","ECXUD",30,0)
 S ECXQTY=$P(DATA,U,5),ECXCOST=$P(DATA,U,8)
"RTN","ECXUD",31,0)
 S ECCAT=$P(^PSDRUG(+$P(DATA,U,4),0),U,2),ECINV=$P(^(0),U,3)
"RTN","ECXUD",32,0)
 S ECINV=$S(ECINV["I":"I",1:"")
"RTN","ECXUD",33,0)
 S ECNDC=$P($G(^PSDRUG(+$P(DATA,U,4),2)),U,4),ECNDF=$G(^("ND"))
"RTN","ECXUD",34,0)
 S ECNFC=$$RJ^XLFSTR($P(ECNDC,"-"),6,0)_$$RJ^XLFSTR($P(ECNDC,"-",2),4,0)_$$RJ^XLFSTR($P(ECNDC,"-",3),2,0),ECNFC=$TR(ECNFC,"*",0)
"RTN","ECXUD",35,0)
 S P1=$P(ECNDF,U),P3=$P(ECNDF,U,3),X="PSNAPIS"
"RTN","ECXUD",36,0)
 X ^%ZOSF("TEST") I $T S ECNFC=$$DSS^PSNAPIS(P1,P3,ECXYM)_ECNFC
"RTN","ECXUD",37,0)
 I $L(ECNFC)=12 S ECNFC=$$RJ^XLFSTR(P1,4,0)_$$RJ^XLFSTR(P3,3,0)_ECNFC
"RTN","ECXUD",38,0)
 S ECXDSSD=""
"RTN","ECXUD",39,0)
 D FILE
"RTN","ECXUD",40,0)
 Q
"RTN","ECXUD",41,0)
 ;
"RTN","ECXUD",42,0)
FILE ;file record
"RTN","ECXUD",43,0)
 ;node0
"RTN","ECXUD",44,0)
 ;facility^dfn^ssn^name^in/out^day^drug category^quantity^ward^provider^
"RTN","ECXUD",45,0)
 ;cost^mov #^treat spec^ndc^new feeder key^investigational^udp time^
"RTN","ECXUD",46,0)
 ;adm date^adm time
"RTN","ECXUD",47,0)
 ;node1
"RTN","ECXUD",48,0)
 ;mpi^dss dept^provider npi^dom^extended op
"RTN","ECXUD",49,0)
 N DA,DIK
"RTN","ECXUD",50,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXUD",51,0)
 S ECODE=EC7_U_EC23_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_3_U
"RTN","ECXUD",52,0)
 S ECODE=ECODE_ECXUDDT_U_ECCAT_U_ECXQTY_U_ECXW_U_ECXPRO_U_ECXCOST_U
"RTN","ECXUD",53,0)
 S ECODE=ECODE_ECXMN_U_ECXTS_U_ECNDC_U_ECNFC_U_ECINV_U_ECXUDTM_U
"RTN","ECXUD",54,0)
 S ECODE=ECODE_$$ECXDATE^ECXUTL(ECXADM,ECXYM)_U
"RTN","ECXUD",55,0)
 S ECODE=ECODE_$$ECXTIME^ECXUTL(ECXADM)_U
"RTN","ECXUD",56,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXPRNPI_U_ECXDOM_U_$G(ECXOPI)
"RTN","ECXUD",57,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXUD",58,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX1^DIK K DIK,DA
"RTN","ECXUD",59,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXUD",60,0)
 Q
"RTN","ECXUD",61,0)
 ;
"RTN","ECXUD",62,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXUD",63,0)
 S ECHEAD="UDP"
"RTN","ECXUD",64,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXUD",65,0)
 Q
"RTN","ECXUD",66,0)
 ;
"RTN","ECXUD",67,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXUD",68,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL
"RTN","ECXUD",69,0)
 Q
"RTN","ECXUTL2")
0^18^B55699712
"RTN","ECXUTL2",1,0)
ECXUTL2 ;ALB/JAP - Utilities for DSS Extracts (cont.) ;Aug 5, 1998
"RTN","ECXUTL2",2,0)
 ;;3.0;DSS EXTRACTS;**8,13,23,24,33**;Dec 22, 1997
"RTN","ECXUTL2",3,0)
 ;
"RTN","ECXUTL2",4,0)
ECXDEF(ECXHEAD,ECXPACK,ECXGRP,ECXFILE,ECXRTN,ECXPIECE,ECXVER) ;variables specific to extract from file #727.1
"RTN","ECXUTL2",5,0)
 ;   input 
"RTN","ECXUTL2",6,0)
 ;   ECXHEAD = extract header code
"RTN","ECXUTL2",7,0)
 ;   all other formal list parameters passed by reference
"RTN","ECXUTL2",8,0)
 ;   output
"RTN","ECXUTL2",9,0)
 ;   ECXPACK = type field (#7)
"RTN","ECXUTL2",10,0)
 ;   ECXGRP  = group field (#9)
"RTN","ECXUTL2",11,0)
 ;   ECXFILE = file number field (#1)
"RTN","ECXUTL2",12,0)
 ;   ECXRTN  = routine field (#4)
"RTN","ECXUTL2",13,0)
 ;   ECXPIECE= running piece field (#11)
"RTN","ECXUTL2",14,0)
 ;   ECXVER  = dss version
"RTN","ECXUTL2",15,0)
 ;
"RTN","ECXUTL2",16,0)
 N ECXIEN,ECXARR,DIC,DA,DR,DIQ
"RTN","ECXUTL2",17,0)
 S (ECXPACK,ECXGRP,ECXFILE,ECXRTN,ECXPIECE,ECXVER)="",ECXIEN=0
"RTN","ECXUTL2",18,0)
 S ECXIEN=+$O(^ECX(727.1,"C",ECXHEAD,ECXIEN))
"RTN","ECXUTL2",19,0)
 I ECXIEN=0 D  Q
"RTN","ECXUTL2",20,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",21,0)
 .D MES^XPDUTL(" It appears that you may have a problem with File #727.1 --")
"RTN","ECXUTL2",22,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",23,0)
 .D MES^XPDUTL(" The "_ECHEAD_" Extract is not properly defined.")
"RTN","ECXUTL2",24,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",25,0)
 .D MES^XPDUTL(" Contact National VISTA Support for further assistance.")
"RTN","ECXUTL2",26,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",27,0)
 .I $E(IOST)="C" D
"RTN","ECXUTL2",28,0)
 ..S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXUTL2",29,0)
 ..S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXUTL2",30,0)
 .W !!
"RTN","ECXUTL2",31,0)
 S DIC="^ECX(727.1,",DA=ECXIEN,DR=".01;1;4;7;9;11",DIQ="ECXARR"
"RTN","ECXUTL2",32,0)
 D EN^DIQ1
"RTN","ECXUTL2",33,0)
 S ECXPACK=ECXARR(727.1,ECXIEN,7)
"RTN","ECXUTL2",34,0)
 ;if this is an inactive extract type, skip it
"RTN","ECXUTL2",35,0)
 I ECXPACK["Inactive" D  Q
"RTN","ECXUTL2",36,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",37,0)
 .D MES^XPDUTL(" The "_ECHEAD_" Extract is no longer active/valid.")
"RTN","ECXUTL2",38,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",39,0)
 .D MES^XPDUTL(" Contact National VISTA Support for further assistance.")
"RTN","ECXUTL2",40,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",41,0)
 .I $E(IOST)="C" D
"RTN","ECXUTL2",42,0)
 ..S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXUTL2",43,0)
 ..S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXUTL2",44,0)
 .W !!
"RTN","ECXUTL2",45,0)
 S ECXGRP=ECXARR(727.1,ECXIEN,9)
"RTN","ECXUTL2",46,0)
 S ECXFILE=ECXARR(727.1,ECXIEN,1)
"RTN","ECXUTL2",47,0)
 S ECXRTN="START^"_ECXARR(727.1,ECXIEN,4)
"RTN","ECXUTL2",48,0)
 S ECXPIECE=ECXARR(727.1,ECXIEN,11)
"RTN","ECXUTL2",49,0)
 ;version of dss/tsi in Austin as specified by btso
"RTN","ECXUTL2",50,0)
 S ECXVER=7
"RTN","ECXUTL2",51,0)
 Q
"RTN","ECXUTL2",52,0)
 ;
"RTN","ECXUTL2",53,0)
PATDEM(DFN,DT1,PAR,FLG) ; determine patient information
"RTN","ECXUTL2",54,0)
 ;  DFN   =
"RTN","ECXUTL2",55,0)
 ;  DT    =
"RTN","ECXUTL2",56,0)
 ;  PAR   =
"RTN","ECXUTL2",57,0)
 ;  FLG   =
"RTN","ECXUTL2",58,0)
 N DT2,PAT,OK,X
"RTN","ECXUTL2",59,0)
 D KPATDEM
"RTN","ECXUTL2",60,0)
 S FLG=$G(FLG),PAR=$S($D(PAR):PAR,1:"1;2;3;4;5;"),DT2=$P(DT1,".")
"RTN","ECXUTL2",61,0)
 Q:'$$PAT^ECXUTL3(DFN,DT2,PAR,.PAT) 0
"RTN","ECXUTL2",62,0)
 S ECXMPI=PAT("MPI")
"RTN","ECXUTL2",63,0)
 I PAR["1" D
"RTN","ECXUTL2",64,0)
 .S ECXSSN=PAT("SSN"),ECXPNM=PAT("NAME"),ECXDOB=PAT("DOB")
"RTN","ECXUTL2",65,0)
 .S ECXSEX=PAT("SEX"),ECXREL=PAT("RELIGION"),ECXRACE=PAT("RACE")
"RTN","ECXUTL2",66,0)
 .S ECXMAR=PAT("MARITAL")
"RTN","ECXUTL2",67,0)
 I PAR["2" D
"RTN","ECXUTL2",68,0)
 .S ECXCNTY=PAT("COUNTY"),ECXSTATE=PAT("STATE"),ECXZIP=PAT("ZIP")
"RTN","ECXUTL2",69,0)
 I PAR["3" D
"RTN","ECXUTL2",70,0)
 .S ECXPOS=PAT("POS"),ECSC=PAT("SC STAT"),ECXSVC=PAT("SC%")
"RTN","ECXUTL2",71,0)
 .S ECXVET=PAT("VET"),ECXMEAN=PAT("MEANS"),ECXELIG=PAT("ELIG")
"RTN","ECXUTL2",72,0)
 .S ECXENRL=PAT("ENROLL LOC")
"RTN","ECXUTL2",73,0)
 I PAR["4" S ECXEMP=PAT("EMPLOY")
"RTN","ECXUTL2",74,0)
 I PAR["5" D
"RTN","ECXUTL2",75,0)
 .S ECXVIET=PAT("VIETNAM"),ECXAST=PAT("AO STAT"),ECXRST=PAT("IR STAT")
"RTN","ECXUTL2",76,0)
 .S ECXEST=PAT("EC STAT"),ECXPST=PAT("POW STAT"),ECXPLOC=PAT("POW LOC")
"RTN","ECXUTL2",77,0)
 .S ECXPHI=PAT("PHI"),ECXMST=PAT("MST STAT")
"RTN","ECXUTL2",78,0)
 I PAR["6" D
"RTN","ECXUTL2",79,0)
 .S (ECXPAYOR,ECXSAI)="" D VISN19(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXUTL2",80,0)
 S ECXCNHU=$P($G(^DPT(DFN,"NHC")),U)
"RTN","ECXUTL2",81,0)
 I FLG'[3 D
"RTN","ECXUTL2",82,0)
 .S X=$$PRIMARY(DFN,DT2),ECPTTM=$P(X,U),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3)
"RTN","ECXUTL2",83,0)
 .S ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6)
"RTN","ECXUTL2",84,0)
 .S ECASNPI=$P(X,U,7)
"RTN","ECXUTL2",85,0)
 I FLG'[2 D
"RTN","ECXUTL2",86,0)
 .S ECXINP=$$INP^ECXUTL2(DFN,DT1),ECXA=$P(ECXINP,U),ECXMN=$P(ECXINP,U,2)
"RTN","ECXUTL2",87,0)
 .S ECXTS=$P(ECXINP,U,3),ECXDOM=$P(ECXINP,U,10)
"RTN","ECXUTL2",88,0)
 I FLG'[1 S X=$$ENROLLM(DFN)
"RTN","ECXUTL2",89,0)
 Q 1
"RTN","ECXUTL2",90,0)
 ;
"RTN","ECXUTL2",91,0)
KPATDEM ;
"RTN","ECXUTL2",92,0)
 K ECAO,ECASNPI,ECASPR,ECCLAS,ECCLAS2,ECENV,ECPTNPI,ECPTPR,ECPTTM
"RTN","ECXUTL2",93,0)
 K ECRE,ECSC,ECXA,ECXAST,ECXCAT,ECXCNTY,ECXCNHU,ECXEST,ECXENRL,ECXDOB
"RTN","ECXUTL2",94,0)
 K ECXDOM,ECXELIG,ECXINP,ECXMPI,ECXMN,ECXNM,ECXPHI,ECXPLOC,ECXMEAN,ECXMST
"RTN","ECXUTL2",95,0)
 K ECXPAYOR,ECXPNM,ECXPOS,ECXPRIOR,ECXPST,ECXRACE,ECXREL,ECXRST,ECXSAI
"RTN","ECXUTL2",96,0)
 K ECXSEX,ECXSSN,ECXSTAT,ECXSTATE,ECXSVC,ECXTS,ECXVIET,ECXZIP,VA,VAERR
"RTN","ECXUTL2",97,0)
 Q
"RTN","ECXUTL2",98,0)
 ;
"RTN","ECXUTL2",99,0)
ENROLLM(DFN,RNDT) ;determines enrollment status, category and priority
"RTN","ECXUTL2",100,0)
 ; input
"RTN","ECXUTL2",101,0)
 ;    DFN      = IEN from Patient file (Required)
"RTN","ECXUTL2",102,0)
 ;    RNDT     = Entract Run Date
"RTN","ECXUTL2",103,0)
 ; output
"RTN","ECXUTL2",104,0)
 ;    ECXSTAT  = Enrollment status
"RTN","ECXUTL2",105,0)
 ;    ECXPRIOR = Enrollment priority
"RTN","ECXUTL2",106,0)
 ;    ECXCAT   = Enrollment priority
"RTN","ECXUTL2",107,0)
 ;    return value 0 if no data found, 1 if data found
"RTN","ECXUTL2",108,0)
 ;
"RTN","ECXUTL2",109,0)
 N CAT,PRIOR,STAT,X,X1,X2,ENRIEN,ENR,FL
"RTN","ECXUTL2",110,0)
 S (ECXCAT,ECXPRIOR,ECXSTAT)=""
"RTN","ECXUTL2",111,0)
 I $G(DFN)="" Q 0
"RTN","ECXUTL2",112,0)
 ;find current enrollment when status=2 or 19
"RTN","ECXUTL2",113,0)
 S STAT=$$STATUS^DGENA(DFN),PRIOR=$$PRIORITY^DGENA(DFN)
"RTN","ECXUTL2",114,0)
 S CAT=$$CATEGORY^DGENA4(DFN,STAT)
"RTN","ECXUTL2",115,0)
 I "^2^19^"[("^"_STAT_"^") S ECXSTAT=STAT,ECXPRIOR=PRIOR,ECXCAT=CAT Q 1
"RTN","ECXUTL2",116,0)
 ;find previous enrollment
"RTN","ECXUTL2",117,0)
 S ENRIEN=$$FINDCUR^DGENA(DFN) I ENRIEN="" Q 0
"RTN","ECXUTL2",118,0)
 I $G(RNDT)="" D NOW^%DTC S RNDT=X
"RTN","ECXUTL2",119,0)
 S RNDT=($E(RNDT,1,3)-1)_$E(RNDT,4,7),FL=0
"RTN","ECXUTL2",120,0)
 F  S ENRIEN=$$FINDPRI^DGENA(ENRIEN) Q:'ENRIEN  D  Q:FL
"RTN","ECXUTL2",121,0)
 . S ENR=$$GET^DGENA(ENRIEN,.ENR)
"RTN","ECXUTL2",122,0)
 . I "^2^19^"[("^"_ENR("STATUS")_"^"),ENR("EFFDATE")>RNDT D
"RTN","ECXUTL2",123,0)
 . . S ECXSTAT=ENR("STATUS"),ECXPRIOR=ENR("PRIORITY"),FL=1
"RTN","ECXUTL2",124,0)
 . . S ECXCAT=$$CATEGORY^DGENA4(DFN,ECXSTAT)
"RTN","ECXUTL2",125,0)
 I FL Q 1
"RTN","ECXUTL2",126,0)
 ;no enrollment status found =2 or 19
"RTN","ECXUTL2",127,0)
 S ECXSTAT=STAT,ECXPRIOR=PRIOR,ECXCAT=CAT
"RTN","ECXUTL2",128,0)
 Q 1
"RTN","ECXUTL2",129,0)
 ;
"RTN","ECXUTL2",130,0)
PRIMARY(ECXDFN,ECXDATE,ECXPREFX) ;determine patient's pc team and pc provider
"RTN","ECXUTL2",131,0)
 ; input
"RTN","ECXUTL2",132,0)
 ; ECXDFN    = file #2 ien (required)
"RTN","ECXUTL2",133,0)
 ; ECXDATE   = date of interest (required)
"RTN","ECXUTL2",134,0)
 ; ECXPREFX  = prefix for provider data (optional)
"RTN","ECXUTL2",135,0)
 ;             defaults to "2" if not specified otherwise
"RTN","ECXUTL2",136,0)
 ; output
"RTN","ECXUTL2",137,0)
 ; ECXPRIME  = pc team ien^prefix_pc provider ien^pc provider person class^pc provider npi
"RTN","ECXUTL2",138,0)
 ;             ^prefix_assoc pc provider ien^assoc pc provider person class^assoc pc provider npi
"RTN","ECXUTL2",139,0)
 ;
"RTN","ECXUTL2",140,0)
 N ECPTTM,ECPTPR,ECCLAS,ECPRIME,ECASPR,ECCLAS2
"RTN","ECXUTL2",141,0)
 S:'$D(ECXPREFX) ECXPREFX=2 S:(+ECXPREFX=0) ECXPREFX=2
"RTN","ECXUTL2",142,0)
 ;get pc team data
"RTN","ECXUTL2",143,0)
 S ECPTTM=+$$OUTPTTM^SDUTL3(ECXDFN,ECXDATE) S:ECPTTM=0 ECPTTM=""
"RTN","ECXUTL2",144,0)
 ;get primary pc provider data
"RTN","ECXUTL2",145,0)
 S ECPTPR=+$$OUTPTPR^SDUTL3(ECXDFN,ECXDATE)
"RTN","ECXUTL2",146,0)
 S ECCLAS="" I ECPTPR>0 S ECCLAS=$$PRVCLASS^ECXUTL(ECPTPR,ECXDATE)
"RTN","ECXUTL2",147,0)
 S:ECPTPR=0 ECPTPR="" S:ECPTPR]"" ECPTPR=ECXPREFX_ECPTPR
"RTN","ECXUTL2",148,0)
 S ECPTNPI=""
"RTN","ECXUTL2",149,0)
 ;assoc pc provider call ok if routine scapmca from patch177 is present
"RTN","ECXUTL2",150,0)
 S ECASPR=""
"RTN","ECXUTL2",151,0)
 S X="SCAPMCA" X ^%ZOSF("TEST") I $T D
"RTN","ECXUTL2",152,0)
 .S ECASPR=+$$OUTPTAP^SDUTL3(ECXDFN,ECXDATE)
"RTN","ECXUTL2",153,0)
 S ECCLAS2="" I ECASPR>0 S ECCLAS2=$$PRVCLASS^ECXUTL(ECASPR,ECXDATE)
"RTN","ECXUTL2",154,0)
 S:ECASPR=0 ECASPR="" S:ECASPR]"" ECASPR=ECXPREFX_ECASPR
"RTN","ECXUTL2",155,0)
 S ECASNPI=""
"RTN","ECXUTL2",156,0)
 ;assemble
"RTN","ECXUTL2",157,0)
 S ECXPRIME=ECPTTM_U_ECPTPR_U_ECCLAS_U_ECPTNPI_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXUTL2",158,0)
 Q ECXPRIME
"RTN","ECXUTL2",159,0)
 ;
"RTN","ECXUTL2",160,0)
INP(ECXDFN,ECXDATE) ; check for inpatient status
"RTN","ECXUTL2",161,0)
 ; input
"RTN","ECXUTL2",162,0)
 ; ECXDFN  = file #2 ien (required)
"RTN","ECXUTL2",163,0)
 ; ECXDATE = date of interest (required)
"RTN","ECXUTL2",164,0)
 ; output
"RTN","ECXUTL2",165,0)
 ; ECXINP  = patient status^movment # (file #405 ien)
"RTN","ECXUTL2",166,0)
 ;       current treat. spec. (file #42.4 ien)^admission date/time^
"RTN","ECXUTL2",167,0)
 ;       current ward (file #42 ien)^discharge date/time^
"RTN","ECXUTL2",168,0)
 ;       ward provider^attending phys.^ward (file #44 ien);facility
"RTN","ECXUTL2",169,0)
 ;       (file #40.8 ien);dss dept^dom
"RTN","ECXUTL2",170,0)
 ;           where patient status = 3 for inpatient
"RTN","ECXUTL2",171,0)
 ;                                = 1 for outpatient
"RTN","ECXUTL2",172,0)
 ;
"RTN","ECXUTL2",173,0)
 N DFN,DSSDEPT,ECA,ECADM,ECMN,ECTS,ECWARD,ECDC,ECXINP,ECXPRO
"RTN","ECXUTL2",174,0)
 N ECXATP,ECXDD,ECXDOM,ECXPROF,ECXPWP,ECXWW,FAC,VAIP,WRD
"RTN","ECXUTL2",175,0)
 D FIELD^DID(405,.19,,"SPECIFIER","ECXDD")
"RTN","ECXUTL2",176,0)
 S ECXPROF=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXUTL2",177,0)
 S DFN=ECXDFN,ECA=1
"RTN","ECXUTL2",178,0)
 S (DSSDEPT,ECMN,ECTS,ECADM,ECWARD,ECDC,ECXATP,ECXPWP,ECXWW,WRD,FAC)=""
"RTN","ECXUTL2",179,0)
 S VAIP("D")=ECXDATE D IN5^VADPT
"RTN","ECXUTL2",180,0)
 S ECMN=$G(VAIP(1))
"RTN","ECXUTL2",181,0)
 I ECMN D
"RTN","ECXUTL2",182,0)
 .S ECA=3,ECTS=+$P($G(^DIC(45.7,+VAIP(8),0)),U,2) S:ECTS=0 ECTS=""
"RTN","ECXUTL2",183,0)
 .S ECADM=+$G(VAIP(13,1)) S:ECADM=0 ECADM=""
"RTN","ECXUTL2",184,0)
 .S ECWARD=+$G(VAIP(5)) S:ECWARD=0 ECWARD=""
"RTN","ECXUTL2",185,0)
 .I ECWARD D
"RTN","ECXUTL2",186,0)
 ..S WRD=+$P($G(^DIC(42,+ECWARD,44)),U)
"RTN","ECXUTL2",187,0)
 ..S FAC=$P($G(^DIC(42,+ECWARD,0)),U,11)
"RTN","ECXUTL2",188,0)
 ..S DSSDEPT=$P($G(^ECX(727.4,ECWARD,0)),U,2)
"RTN","ECXUTL2",189,0)
 .S ECXWW=WRD_";"_FAC_";"_DSSDEPT,ECDC=+$G(VAIP(17,1)) S:ECDC=0 ECDC=""
"RTN","ECXUTL2",190,0)
 .S ECXPWP=+VAIP(7) S:ECXPWP=0 ECXPWP=""
"RTN","ECXUTL2",191,0)
 .S ECXATP=+VAIP(18) S:ECXATP=0 ECXATP=""
"RTN","ECXUTL2",192,0)
 .;prefix file #200 iens
"RTN","ECXUTL2",193,0)
 .S:ECXPWP ECXPWP=ECXPROF_ECXPWP S:ECXATP ECXATP=ECXPROF_ECXATP
"RTN","ECXUTL2",194,0)
 S ECXDOM=$G(^ECX(727.831,+ECTS,0))
"RTN","ECXUTL2",195,0)
 S:ECXDOM'="" ECXA=$P(ECXDOM,U,3),ECXDOM=$P(ECXDOM,U,2)
"RTN","ECXUTL2",196,0)
 S ECXINP=ECA_U_ECMN_U_ECTS_U_ECADM_U_ECWARD_U_ECDC_U_ECXPWP_U_ECXATP_U_ECXWW_U_ECXDOM
"RTN","ECXUTL2",197,0)
 Q ECXINP
"RTN","ECXUTL2",198,0)
 ;
"RTN","ECXUTL2",199,0)
VISN19(ECXDFN,ECXPAYOR,ECXSAI) ;visn 19 sharing agreement data
"RTN","ECXUTL2",200,0)
 ; input  ECXDFN = patient file ien
"RTN","ECXUTL2",201,0)
 ; output ECXPAYOR, ECXSAI (passed by reference)
"RTN","ECXUTL2",202,0)
 ;
"RTN","ECXUTL2",203,0)
 N JJ,ALIAS,INSUR,DIC,DIQ,DA,DR,ECXARY,ECXERR,ECXDA
"RTN","ECXUTL2",204,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXUTL2",205,0)
 D GETS^DIQ(2,ECXDFN,"1*,","I","ECXARY","ECXERR")
"RTN","ECXUTL2",206,0)
 I $D(ECXERR) Q
"RTN","ECXUTL2",207,0)
 S JJ=0 F  S JJ=$O(ECXARY(2.01,JJ)) Q:JJ=""  D  I ECXPAYOR]"" Q
"RTN","ECXUTL2",208,0)
 . S ALIAS=$G(ECXARY(2.01,JJ,.01,"I"))
"RTN","ECXUTL2",209,0)
 . S ECXPAYOR=$S(ALIAS="SHARING AGREEMENT":"A",ALIAS="TRICARE":"B",ALIAS="CAT C":"C",ALIAS="CATEGORY C":"C",ALIAS="CHAMPVA":"D",ALIAS="CHAMPUS":"E",1:"")
"RTN","ECXUTL2",210,0)
 K ECXARY,ECXERR
"RTN","ECXUTL2",211,0)
 I ECXPAYOR]"" D GETS^DIQ(2,ECXDFN,".3121*,","I","ECXARY","ECXERR") D
"RTN","ECXUTL2",212,0)
 . I $D(ECXERR) Q
"RTN","ECXUTL2",213,0)
 . S JJ=0,ECXDA=$O(ECXARY(2.312,JJ)) I ECXDA="" Q
"RTN","ECXUTL2",214,0)
 . S DA=$G(ECXARY(2.312,ECXDA,.01,"I")) I DA="" Q
"RTN","ECXUTL2",215,0)
 . S INSUR=$$GET1^DIQ(36,DA,".01","I","","ECXERR")
"RTN","ECXUTL2",216,0)
 . I '$D(ECXERR) S ECXSAI=$E(ECXARY(2.312,ECXDA,.01,"I"),1,11)
"RTN","ECXUTL2",217,0)
 Q
"RTN","ECXUTL3")
0^19^B47901657
"RTN","ECXUTL3",1,0)
ECXUTL3 ;ALB/GTS - Utilities for DSS Extracts ;October 2, 1998
"RTN","ECXUTL3",2,0)
 ;;3.0;DSS EXTRACTS;**11,24,32,33**;Dec 22,1997
"RTN","ECXUTL3",3,0)
 ;
"RTN","ECXUTL3",4,0)
OUTPTTM(ECXDFN,ECXDT) ;* Return PC Team from PCMM files or DPT
"RTN","ECXUTL3",5,0)
 ; Variables -
"RTN","ECXUTL3",6,0)
 ;            ECXDFN - IEN from Patient file (Required)
"RTN","ECXUTL3",7,0)
 ;            ECXDT  - Relevant Date for Primary Care Team
"RTN","ECXUTL3",8,0)
 ;                      (Defaults to DT)
"RTN","ECXUTL3",9,0)
 ;
"RTN","ECXUTL3",10,0)
 ; Returned: ECXTM -
"RTN","ECXUTL3",11,0)
 ;            Pointer to team file (#404.51)
"RTN","ECXUTL3",12,0)
 ;            or, if error or none defined, returns 0
"RTN","ECXUTL3",13,0)
 ;
"RTN","ECXUTL3",14,0)
 Q:'$G(ECXDFN) 0 ;** Quit if ECXDFN not defined
"RTN","ECXUTL3",15,0)
 N ECXTM
"RTN","ECXUTL3",16,0)
 S:'$D(ECXDT) ECXDT=DT
"RTN","ECXUTL3",17,0)
 I $T(OUTPTTM^SDUTL3)[",SCDATE" D
"RTN","ECXUTL3",18,0)
 .S ECXTM=+$$OUTPTTM^SDUTL3(ECXDFN,ECXDT)
"RTN","ECXUTL3",19,0)
 I $T(OUTPTTM^SDUTL3)'[",SCDATE" D
"RTN","ECXUTL3",20,0)
 .S ECXTM=+$$OUTPTTM^SDUTL3(ECXDFN)
"RTN","ECXUTL3",21,0)
 I ECXTM=0 D
"RTN","ECXUTL3",22,0)
 .S ECXTM=+$P($G(^DPT(+ECXDFN,"PC")),U,2)
"RTN","ECXUTL3",23,0)
 Q ECXTM
"RTN","ECXUTL3",24,0)
 ;
"RTN","ECXUTL3",25,0)
OUTPTPR(ECXDFN,ECXDT) ;* Return PC Provider from PCMM files or DPT
"RTN","ECXUTL3",26,0)
 ; Variables -
"RTN","ECXUTL3",27,0)
 ;            ECXDFN - IEN from Patient file (Required)
"RTN","ECXUTL3",28,0)
 ;            ECXDT  - Relevant Date for Primary Care Provider
"RTN","ECXUTL3",29,0)
 ;                      (Defaults to DT)
"RTN","ECXUTL3",30,0)
 ;
"RTN","ECXUTL3",31,0)
 ; Returned: ECXPR -
"RTN","ECXUTL3",32,0)
 ;            Pointer to file #200 
"RTN","ECXUTL3",33,0)
 ;            or, if error or none defined, returns a 0
"RTN","ECXUTL3",34,0)
 ;
"RTN","ECXUTL3",35,0)
 Q:'$G(ECXDFN) 0 ;** Quit if ECXDFN not defined
"RTN","ECXUTL3",36,0)
 N ECXPR
"RTN","ECXUTL3",37,0)
 S:'$D(ECXDT) ECXDT=DT
"RTN","ECXUTL3",38,0)
 I $T(OUTPTPR^SDUTL3)[",SCDATE" D
"RTN","ECXUTL3",39,0)
 .S ECXPR=+$$OUTPTPR^SDUTL3(ECXDFN,ECXDT)
"RTN","ECXUTL3",40,0)
 I $T(OUTPTPR^SDUTL3)'[",SCDATE" D
"RTN","ECXUTL3",41,0)
 .S ECXPR=+$$OUTPTPR^SDUTL3(ECXDFN)
"RTN","ECXUTL3",42,0)
 I ECXPR=0 D
"RTN","ECXUTL3",43,0)
 .S ECXPR=+$G(^DPT(+ECXDFN,"PC"))
"RTN","ECXUTL3",44,0)
 Q ECXPR
"RTN","ECXUTL3",45,0)
 ;
"RTN","ECXUTL3",46,0)
PAT(ECXDFN,ECXDATE,ECXDATA,ECXPAT) ;Return basic patient data for extract
"RTN","ECXUTL3",47,0)
 ; Will not return data associated with test patients (SSN begin w 00000)
"RTN","ECXUTL3",48,0)
 ; Variables -
"RTN","ECXUTL3",49,0)
 ;  Input  ECXDFN - Patient internal entry number, DFN file#2; required
"RTN","ECXUTL3",50,0)
 ;         ECXDATE- Date used to get specific data from GETSTAT^DGMSTAPI
"RTN","ECXUTL3",51,0)
 ;                  for MST. If no date, defaults to today's date,
"RTN","ECXUTL3",52,0)
 ;                  standard FM format, optional
"RTN","ECXUTL3",53,0)
 ;         ECXDATA- Code indicating which data to return, optional.
"RTN","ECXUTL3",54,0)
 ;                  If code not specified then returns all. Codes are:
"RTN","ECXUTL3",55,0)
 ;                  1 - DEM^VADPT (demographic data)
"RTN","ECXUTL3",56,0)
 ;                  2 - ADD^VADPT (current address)
"RTN","ECXUTL3",57,0)
 ;                  3 - ELIG^VADPT (eligibility & enrollment location)
"RTN","ECXUTL3",58,0)
 ;                  4 - OPD^VADPT (other patient data)
"RTN","ECXUTL3",59,0)
 ;                  5 - SVC^VADPT & GETSTAT^DGMSTAPI (service & MST inf)
"RTN","ECXUTL3",60,0)
 ;         ECXPAT(- Passed by referece; required
"RTN","ECXUTL3",61,0)
 ;
"RTN","ECXUTL3",62,0)
 ;  Output:
"RTN","ECXUTL3",63,0)
 ;         ECXPAT   0 error or test patient no data in ECXPAT array
"RTN","ECXUTL3",64,0)
 ;                  1 data returneed in ECXPAT array
"RTN","ECXUTL3",65,0)
 ;         ECXPAT(  Local array with patient data.
"RTN","ECXUTL3",66,0)
 ;
"RTN","ECXUTL3",67,0)
 N SSN,I,ECXCOD,ECXDAT,DFN,VAPA,VADM,VAEL,VAPD,VASV,STR,ECXAR,DIC,DIQ
"RTN","ECXUTL3",68,0)
 N DA,DR,PELG,MELIG,ZIP,MPI
"RTN","ECXUTL3",69,0)
 I ECXDFN="" Q 0
"RTN","ECXUTL3",70,0)
 S SSN=$$GET1^DIQ(2,ECXDFN,.09,"I"),DFN=ECXDFN,ECXPAT=0
"RTN","ECXUTL3",71,0)
 I $E(SSN,1,5)="00000"!(SSN="") K ECXPAT Q 0  ;test patient
"RTN","ECXUTL3",72,0)
 S STR="NAME;SSN;DOB;SEX;RACE;RELIGION;STATE;COUNTY;ZIP;SC%;MEANS;ELIG;"
"RTN","ECXUTL3",73,0)
 S STR=STR_"EMPLOY;AO STAT;IR STAT;EC STAT;POW STAT;POW LOC;MST STAT;"
"RTN","ECXUTL3",74,0)
 S STR=STR_"ENROLL LOC;MPI;VIETNAM;POS;MARITAL"
"RTN","ECXUTL3",75,0)
 ;initialize return array values
"RTN","ECXUTL3",76,0)
 F I=1:1 S ECXDAT=$P(STR,";",I) Q:ECXDAT=""  S ECXPAT(ECXDAT)=""
"RTN","ECXUTL3",77,0)
 F I=1:1:$L(ECXDATA,";") S ECXDAT=$P(ECXDATA,";",I) I ECXDAT'="" D
"RTN","ECXUTL3",78,0)
 . S ECXCOD(ECXDAT)=""
"RTN","ECXUTL3",79,0)
 ;get icn if mpi installed
"RTN","ECXUTL3",80,0)
 S X="MPIF001" X ^%ZOSF("TEST") I $T D
"RTN","ECXUTL3",81,0)
 . S MPI=$$GETICN^MPIF001(DFN)
"RTN","ECXUTL3",82,0)
 . S MPI=$E(MPI,"V",1),ECXPAT("MPI")=MPI
"RTN","ECXUTL3",83,0)
 D  ;get demographic data
"RTN","ECXUTL3",84,0)
 . I ECXDATA'="",'$D(ECXCOD(1)) Q
"RTN","ECXUTL3",85,0)
 . D DEM^VADPT
"RTN","ECXUTL3",86,0)
 . S ECXPAT("NAME")=$E($P(VADM(1),",")_"    ",1,4)
"RTN","ECXUTL3",87,0)
 . S ECXPAT("SSN")=$P(VADM(2),U),ECXPAT("MARITAL")=$P(VADM(10),U)
"RTN","ECXUTL3",88,0)
 . S ECXPAT("DOB")=$$ECXDOB^ECXUTL($P(VADM(3),U))
"RTN","ECXUTL3",89,0)
 . S ECXPAT("SEX")=$P(VADM(5),U),ECXPAT("RELIGION")=$P(VADM(9),U)
"RTN","ECXUTL3",90,0)
 . S DIC=10,DR=2,DA=+VADM(8),DIQ="ECXAR",DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",91,0)
 . S ECXPAT("RACE")=$G(ECXAR(10,DA,DR,"I")),ECXPAT=1
"RTN","ECXUTL3",92,0)
 D  ;get address information
"RTN","ECXUTL3",93,0)
 . I ECXDATA'="",'$D(ECXCOD(2)) Q
"RTN","ECXUTL3",94,0)
 . D ADD^VADPT
"RTN","ECXUTL3",95,0)
 . S DIC=5,DR=2,DA=+VAPA(5),DIQ="ECXAR",DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",96,0)
 . S ECXPAT("STATE")=$G(ECXAR(5,DA,DR,"I"))
"RTN","ECXUTL3",97,0)
 . S DIC=5,DA=+VAPA(5),DR=3,DR(5.01)=2,DA(5.01)=+VAPA(7),DIQ="ECXAR"
"RTN","ECXUTL3",98,0)
 . S DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",99,0)
 . S ECXPAT("COUNTY")=$G(ECXAR(5.01,DA(5.01),2,"I"))
"RTN","ECXUTL3",100,0)
 . S ECXPAT("ZIP")=$P(VAPA(11),U,2),ECXPAT=1
"RTN","ECXUTL3",101,0)
 D  ;get eligibility information
"RTN","ECXUTL3",102,0)
 . I ECXDATA'="",'$D(ECXCOD(3)) Q
"RTN","ECXUTL3",103,0)
 . D ELIG^VADPT
"RTN","ECXUTL3",104,0)
 . S PELG=$P(VAEL(1),U),MELIG=$S(PELG="":"",1:$$GET1^DIQ(8,PELG,8,"I"))
"RTN","ECXUTL3",105,0)
 . S ECXPAT("POS")=$P($G(^DIC(21,+VAEL(2),0)),U,3)
"RTN","ECXUTL3",106,0)
 . S ECXPAT("SC STAT")=$S(+VAEL(3):"Y",+VAEL(3)=0:"N",1:"")
"RTN","ECXUTL3",107,0)
 . S ECXPAT("SC%")=$P(VAEL(3),U,2)
"RTN","ECXUTL3",108,0)
 . S ECXPAT("VET")=$S(VAEL(4):"Y",VAEL(4)=0:"N",1:"")
"RTN","ECXUTL3",109,0)
 . S ECXPAT("MEANS")=$P(VAEL(9),U),ECXPAT=1
"RTN","ECXUTL3",110,0)
 . S ECXPAT("ELIG")=$$ELIG(MELIG,ECXPAT("SC%"))
"RTN","ECXUTL3",111,0)
 . ;get enrollment location
"RTN","ECXUTL3",112,0)
 . S DIC=2,DR=27.02,DA=ECXDFN,DIQ="ECXAR",DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",113,0)
 . S ECXDAT=$G(ECXAR(2,ECXDFN,DR,"I")) I ECXDAT K ECXAR D
"RTN","ECXUTL3",114,0)
 . . S DIC=4,DA=ECXDAT,DR=99,DIQ="ECXAR",DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",115,0)
 . . S ECXPAT("ENROLL LOC")=ECXAR(4,ECXDAT,DR,"I")
"RTN","ECXUTL3",116,0)
 D  ;get other patient information
"RTN","ECXUTL3",117,0)
 . I ECXDATA'="",'$D(ECXCOD(4)) Q
"RTN","ECXUTL3",118,0)
 . D OPD^VADPT
"RTN","ECXUTL3",119,0)
 . S ECXPAT("EMPLOY")=$P(VAPD(7),U),ECXPAT=1
"RTN","ECXUTL3",120,0)
 D  ;get service information
"RTN","ECXUTL3",121,0)
 . I ECXDATA'="",'$D(ECXCOD(5)) Q
"RTN","ECXUTL3",122,0)
 . D SVC^VADPT
"RTN","ECXUTL3",123,0)
 . S ECXPAT("VIETNAM")=$S(VASV(1):"Y",VASV(2)=0:"N",1:"U")
"RTN","ECXUTL3",124,0)
 . S ECXPAT("AO STAT")=$S(VASV(2):"Y",VASV(2)=0:"N",1:"U")
"RTN","ECXUTL3",125,0)
 . S ECXPAT("IR STAT")=$S(VASV(3):"Y",VASV(3)=0:"N",1:"U")
"RTN","ECXUTL3",126,0)
 . S ECXPAT("EC STAT")=$$GET1^DIQ(2,ECXDFN,.322013,"I")
"RTN","ECXUTL3",127,0)
 . S ECXPAT("POW STAT")=$S(VASV(4):"Y",VASV(4)=0:"N",1:"U")
"RTN","ECXUTL3",128,0)
 . S ECXPAT("POW LOC")=$P(VASV(4,3),U),ECXPAT=1
"RTN","ECXUTL3",129,0)
 . S ECXPAT("PHI")=""  ; PURPLE HEART INDICATOR
"RTN","ECXUTL3",130,0)
 . ;get patient current MST status
"RTN","ECXUTL3",131,0)
 . I ECXDATE'="",ECXDATE'["." S ECXDATE=ECXDATE+.9
"RTN","ECXUTL3",132,0)
 . S X="DGMSTAPI" X ^%ZOSF("TEST") I $T D
"RTN","ECXUTL3",133,0)
 . . S ECXDAT=$$GETSTAT^DGMSTAPI(DFN,ECXDATE)
"RTN","ECXUTL3",134,0)
 . . S ECXPAT("MST STAT")=$S(+ECXDAT>0:$P(ECXDAT,U,2),1:"")
"RTN","ECXUTL3",135,0)
 I 'ECXPAT K ECXPAT Q 0
"RTN","ECXUTL3",136,0)
 Q 1
"RTN","ECXUTL3",137,0)
 ;
"RTN","ECXUTL3",138,0)
ELIG(ECXELIG,ECXSVCP) ;Converts veteran eligibility code to NPCD code
"RTN","ECXUTL3",139,0)
 ; Variables -
"RTN","ECXUTL3",140,0)
 ;  Input  ECXELIG - Pointer to MAS ELIGIBILITY CODE file #8.1
"RTN","ECXUTL3",141,0)
 ;         ECXSVCP - Number value rep. service connected percentage.
"RTN","ECXUTL3",142,0)
 ;
"RTN","ECXUTL3",143,0)
 ;  Output:
"RTN","ECXUTL3",144,0)
 ;         ECXNCPD  NPCD Eligibility Code
"RTN","ECXUTL3",145,0)
 ;
"RTN","ECXUTL3",146,0)
 N TEXT,IEN,SCPER,FND,NPCD,I,ECXBG,ECXEN,ECXNPCD
"RTN","ECXUTL3",147,0)
 I ECXELIG="" Q ""
"RTN","ECXUTL3",148,0)
 F I=1:1 S TEXT=$P($T(ELGTXT+I),";",3,999) Q:TEXT="END"  D  I $D(NPCD) Q
"RTN","ECXUTL3",149,0)
 . S IEN=$P(TEXT,";"),SCPER=$P(TEXT,";",2)
"RTN","ECXUTL3",150,0)
 . I ECXELIG=IEN D
"RTN","ECXUTL3",151,0)
 . . I SCPER="" S NPCD=$P(TEXT,";",3) Q
"RTN","ECXUTL3",152,0)
 . . S ECXBG=$S($E(SCPER)="<":0,$E(SCPER)=">":$P(SCPER,">",2)+1,SCPER["-":+SCPER,1:"")
"RTN","ECXUTL3",153,0)
 . . S ECXEN=$S($E(SCPER)="<":$P(SCPER,"<",2),$E(SCPER)=">":100,SCPER["-":$P(SCPER,"-",2),1:"")
"RTN","ECXUTL3",154,0)
 . . I ECXSVCP'<ECXBG,ECXSVCP'>ECXEN S NPCD=$P(TEXT,";",3)
"RTN","ECXUTL3",155,0)
 S ECXNPCD=$G(NPCD)
"RTN","ECXUTL3",156,0)
 Q ECXNPCD
"RTN","ECXUTL3",157,0)
ELGTXT ;Eligibility codes
"RTN","ECXUTL3",158,0)
 ;;1;>49;10;SC 50-100%
"RTN","ECXUTL3",159,0)
 ;;2;;20;Aid & Attendance
"RTN","ECXUTL3",160,0)
 ;;15;;21;Housebound
"RTN","ECXUTL3",161,0)
 ;;16;;22;Mexican Border War
"RTN","ECXUTL3",162,0)
 ;;17;;23;WWI
"RTN","ECXUTL3",163,0)
 ;;18;;24;POW
"RTN","ECXUTL3",164,0)
 ;;3;40-49;30;SC 40-49%
"RTN","ECXUTL3",165,0)
 ;;3;30-39;31;SC 30-39%
"RTN","ECXUTL3",166,0)
 ;;3;20-29;32;SC 20-29%
"RTN","ECXUTL3",167,0)
 ;;3;10-19;33;SC 10-19%
"RTN","ECXUTL3",168,0)
 ;;3;<10;34;SC less than 10%
"RTN","ECXUTL3",169,0)
 ;;4;;40;NSC - VA Pension
"RTN","ECXUTL3",170,0)
 ;;5;;50;NSC
"RTN","ECXUTL3",171,0)
 ;;21;;60;Catastrophic Disability
"RTN","ECXUTL3",172,0)
 ;;12;;101;CHAMPVA
"RTN","ECXUTL3",173,0)
 ;;13;;102;Collateral of Veteran
"RTN","ECXUTL3",174,0)
 ;;14;;103;Employee
"RTN","ECXUTL3",175,0)
 ;;6;;104;Other Federal Agency
"RTN","ECXUTL3",176,0)
 ;;7;;105;Allied Veteran
"RTN","ECXUTL3",177,0)
 ;;8;;106;Humanitarian Emergency
"RTN","ECXUTL3",178,0)
 ;;9;;107;Sharing Agreement
"RTN","ECXUTL3",179,0)
 ;;10;;108;;Reimbursable Insurance
"RTN","ECXUTL3",180,0)
 ;;19;;109;;TRICARE/CHAMPUS
"RTN","ECXUTL3",181,0)
 ;;END
"RTN","ECXUTL3",182,0)
 ;
"RTN","ECXUTL3",183,0)
CPT(ECXCPT,ECXMOD,ECXQUA) ;Returns a str with CPT code and modifier codes
"RTN","ECXUTL3",184,0)
 ;Return string is composed of a 5 character CPT code 2 character quanity
"RTN","ECXUTL3",185,0)
 ;plus up to 5 modifier codes, 2 characters each.
"RTN","ECXUTL3",186,0)
 ; Variables -
"RTN","ECXUTL3",187,0)
 ;  Input  ECXCPT  - Pointer value to the CPT file (#81)
"RTN","ECXUTL3",188,0)
 ;         ECXMOD - A string with pointer values to the CPT
"RTN","ECXUTL3",189,0)
 ;                   MODIFIER file (#81.3) separated by ";"
"RTN","ECXUTL3",190,0)
 ;         ECXQUA  - Number of time this procedure performed
"RTN","ECXUTL3",191,0)
 ;
"RTN","ECXUTL3",192,0)
 ;  Output:
"RTN","ECXUTL3",193,0)
 ;         CPTMOD  - String of up to 17 characters, 5 character CPT
"RTN","ECXUTL3",194,0)
 ;                   code 2 character quanity plus up to 5 2-character
"RTN","ECXUTL3",195,0)
 ;                   code modifiers.
"RTN","ECXUTL3",196,0)
 ;
"RTN","ECXUTL3",197,0)
 N CPT,MOD,I,CPTMOD
"RTN","ECXUTL3",198,0)
 S ECXQUA=$G(ECXQUA,"01"),ECXMOD=$G(ECXMOD)
"RTN","ECXUTL3",199,0)
 S:$L(ECXQUA)'=2 ECXQUA="0"_ECXQUA
"RTN","ECXUTL3",200,0)
 S CPT=$$CPT^ICPTCOD(ECXCPT,"") I +CPT=-1 Q ""
"RTN","ECXUTL3",201,0)
 S CPT=$P(CPT,U,2)_ECXQUA
"RTN","ECXUTL3",202,0)
 F I=1:1:99 I $P(ECXMOD,";",I)'="" D
"RTN","ECXUTL3",203,0)
 . S MOD=$$MOD^ICPTMOD($P(ECXMOD,";",I),"I","")
"RTN","ECXUTL3",204,0)
 . I +MOD>0,$P(MOD,U,2)'="99" S CPT=CPT_$P(MOD,U,2)
"RTN","ECXUTL3",205,0)
 S CPTMOD=$TR($E(CPT,1,17)," ")
"RTN","ECXUTL3",206,0)
 Q CPTMOD
"RTN","ECXUTL3",207,0)
 ;
"RTN","ECXUTL3",208,0)
CPTOUT(ECXCPT) ;output transform for CPT code plus modifiers
"RTN","ECXUTL3",209,0)
 ;input  ECXCPT  - character string of CPT code plus modifiers (required)
"RTN","ECXUTL3",210,0)
 ;
"RTN","ECXUTL3",211,0)
 N J,CPTX,MOD,MODS,MODX,CPTMOD
"RTN","ECXUTL3",212,0)
 Q:$G(ECXCPT)="" ""
"RTN","ECXUTL3",213,0)
 S (CPTMOD,MODX)=""
"RTN","ECXUTL3",214,0)
 S CPTX="("_+$E(ECXCPT,6,7)_") "_$E(ECXCPT,1,5),MODS=$E(ECXCPT,8,17)
"RTN","ECXUTL3",215,0)
 F J=1:2:9 S MOD=$E(MODS,J,J+1) Q:MOD=""  D
"RTN","ECXUTL3",216,0)
 .I J>1 S MODX=MODX_", "_MOD Q
"RTN","ECXUTL3",217,0)
 .S MODX=MODX_"-"_MOD
"RTN","ECXUTL3",218,0)
 S:$L(CPTX)>3 CPTMOD=CPTMOD_CPTX_MODX
"RTN","ECXUTL3",219,0)
 Q CPTMOD
"SEC","^DIC",727.804,727.804,0,"AUDIT")
@
"SEC","^DIC",727.804,727.804,0,"DD")
@
"SEC","^DIC",727.804,727.804,0,"DEL")
@
"SEC","^DIC",727.804,727.804,0,"LAYGO")
@
"SEC","^DIC",727.804,727.804,0,"RD")
@
"SEC","^DIC",727.804,727.804,0,"WR")
@
"SEC","^DIC",727.805,727.805,0,"AUDIT")
@
"SEC","^DIC",727.805,727.805,0,"DD")
@
"SEC","^DIC",727.805,727.805,0,"DEL")
@
"SEC","^DIC",727.805,727.805,0,"LAYGO")
@
"SEC","^DIC",727.805,727.805,0,"RD")
@
"SEC","^DIC",727.805,727.805,0,"WR")
@
"SEC","^DIC",727.806,727.806,0,"AUDIT")
@
"SEC","^DIC",727.806,727.806,0,"DD")
@
"SEC","^DIC",727.806,727.806,0,"DEL")
@
"SEC","^DIC",727.806,727.806,0,"LAYGO")
@
"SEC","^DIC",727.806,727.806,0,"RD")
@
"SEC","^DIC",727.806,727.806,0,"WR")
@
"SEC","^DIC",727.808,727.808,0,"AUDIT")
@
"SEC","^DIC",727.808,727.808,0,"DD")
@
"SEC","^DIC",727.808,727.808,0,"DEL")
@
"SEC","^DIC",727.808,727.808,0,"LAYGO")
@
"SEC","^DIC",727.808,727.808,0,"RD")
@
"SEC","^DIC",727.808,727.808,0,"WR")
@
"SEC","^DIC",727.809,727.809,0,"AUDIT")
@
"SEC","^DIC",727.809,727.809,0,"DD")
@
"SEC","^DIC",727.809,727.809,0,"DEL")
@
"SEC","^DIC",727.809,727.809,0,"LAYGO")
@
"SEC","^DIC",727.809,727.809,0,"RD")
@
"SEC","^DIC",727.809,727.809,0,"WR")
@
"SEC","^DIC",727.81,727.81,0,"AUDIT")
@
"SEC","^DIC",727.81,727.81,0,"DD")
@
"SEC","^DIC",727.81,727.81,0,"DEL")
@
"SEC","^DIC",727.81,727.81,0,"LAYGO")
@
"SEC","^DIC",727.81,727.81,0,"RD")
@
"SEC","^DIC",727.81,727.81,0,"WR")
@
"SEC","^DIC",727.811,727.811,0,"AUDIT")
@
"SEC","^DIC",727.811,727.811,0,"DD")
@
"SEC","^DIC",727.811,727.811,0,"DEL")
@
"SEC","^DIC",727.811,727.811,0,"LAYGO")
@
"SEC","^DIC",727.811,727.811,0,"RD")
@
"SEC","^DIC",727.811,727.811,0,"WR")
@
"SEC","^DIC",727.812,727.812,0,"AUDIT")
@
"SEC","^DIC",727.812,727.812,0,"DD")
@
"SEC","^DIC",727.812,727.812,0,"DEL")
@
"SEC","^DIC",727.812,727.812,0,"LAYGO")
@
"SEC","^DIC",727.812,727.812,0,"RD")
@
"SEC","^DIC",727.812,727.812,0,"WR")
@
"SEC","^DIC",727.813,727.813,0,"AUDIT")
@
"SEC","^DIC",727.813,727.813,0,"DD")
@
"SEC","^DIC",727.813,727.813,0,"DEL")
@
"SEC","^DIC",727.813,727.813,0,"LAYGO")
@
"SEC","^DIC",727.813,727.813,0,"RD")
@
"SEC","^DIC",727.813,727.813,0,"WR")
@
"SEC","^DIC",727.817,727.817,0,"AUDIT")
@
"SEC","^DIC",727.817,727.817,0,"DD")
@
"SEC","^DIC",727.817,727.817,0,"DEL")
@
"SEC","^DIC",727.817,727.817,0,"LAYGO")
@
"SEC","^DIC",727.817,727.817,0,"RD")
@
"SEC","^DIC",727.817,727.817,0,"WR")
@
"SEC","^DIC",727.819,727.819,0,"AUDIT")
@
"SEC","^DIC",727.819,727.819,0,"DD")
@
"SEC","^DIC",727.819,727.819,0,"DEL")
@
"SEC","^DIC",727.819,727.819,0,"LAYGO")
@
"SEC","^DIC",727.819,727.819,0,"RD")
@
"SEC","^DIC",727.819,727.819,0,"WR")
@
"SEC","^DIC",727.823,727.823,0,"AUDIT")
@
"SEC","^DIC",727.823,727.823,0,"DD")
@
"SEC","^DIC",727.823,727.823,0,"DEL")
@
"SEC","^DIC",727.823,727.823,0,"LAYGO")
@
"SEC","^DIC",727.823,727.823,0,"RD")
@
"SEC","^DIC",727.823,727.823,0,"WR")
@
"SEC","^DIC",727.824,727.824,0,"AUDIT")
@
"SEC","^DIC",727.824,727.824,0,"DD")
@
"SEC","^DIC",727.824,727.824,0,"DEL")
@
"SEC","^DIC",727.824,727.824,0,"LAYGO")
@
"SEC","^DIC",727.824,727.824,0,"RD")
@
"SEC","^DIC",727.824,727.824,0,"WR")
@
"SEC","^DIC",727.827,727.827,0,"AUDIT")
@
"SEC","^DIC",727.827,727.827,0,"DD")
@
"SEC","^DIC",727.827,727.827,0,"DEL")
@
"SEC","^DIC",727.827,727.827,0,"LAYGO")
@
"SEC","^DIC",727.827,727.827,0,"RD")
@
"SEC","^DIC",727.827,727.827,0,"WR")
@
"SEC","^DIC",727.831,727.831,0,"AUDIT")
@
"SEC","^DIC",727.831,727.831,0,"DD")
@
"SEC","^DIC",727.831,727.831,0,"DEL")
@
"SEC","^DIC",727.831,727.831,0,"LAYGO")
@
"SEC","^DIC",727.831,727.831,0,"RD")
@
"SEC","^DIC",727.831,727.831,0,"WR")
@
"VER")
8.0^22.0
"^DD",727.1,727.1,0)
FIELD^^11^12
"^DD",727.1,727.1,0,"DDA")
N
"^DD",727.1,727.1,0,"DT")
2990327
"^DD",727.1,727.1,0,"IX","AC",727.1,7)

"^DD",727.1,727.1,0,"IX","AF",727.1,1)

"^DD",727.1,727.1,0,"IX","B",727.1,.01)

"^DD",727.1,727.1,0,"IX","C",727.1,8)

"^DD",727.1,727.1,0,"NM","EXTRACT DEFINITIONS")

"^DD",727.1,727.1,0,"VRPK")
ECX
"^DD",727.1,727.1,.01,0)
EXTRACT NAME^RFI^^0;1^K:$L(X)>30!($L(X)<1) X
"^DD",727.1,727.1,.01,1,0)
^.1
"^DD",727.1,727.1,.01,1,1,0)
727.1^B
"^DD",727.1,727.1,.01,1,1,1)
S ^ECX(727.1,"B",$E(X,1,30),DA)=""
"^DD",727.1,727.1,.01,1,1,2)
K ^ECX(727.1,"B",$E(X,1,30),DA)
"^DD",727.1,727.1,.01,3)
Answer must be 1-30 characters in length.
"^DD",727.1,727.1,.01,21,0)
^^1^1^2930415^^^^
"^DD",727.1,727.1,.01,21,1,0)
The name of the extract.
"^DD",727.1,727.1,.01,"DT")
2950421
"^DD",727.1,727.1,1,0)
FILE NUMBER^RNJ7,3I^^0;2^K:+X'=X!(X>728)!(X<727)!(X?.E1"."4N.N) X
"^DD",727.1,727.1,1,1,0)
^.1
"^DD",727.1,727.1,1,1,1,0)
727.1^AF
"^DD",727.1,727.1,1,1,1,1)
S ^ECX(727.1,"AF",$E(X,1,30),DA)=""
"^DD",727.1,727.1,1,1,1,2)
K ^ECX(727.1,"AF",$E(X,1,30),DA)
"^DD",727.1,727.1,1,1,1,3)
DO NOT DELETE
"^DD",727.1,727.1,1,1,1,"%D",0)
^^2^2^2930415^^
"^DD",727.1,727.1,1,1,1,"%D",1,0)
This cross reference is essential for determing the frequency and date
"^DD",727.1,727.1,1,1,1,"%D",2,0)
range for package extracts.  Do not delete.
"^DD",727.1,727.1,1,1,1,"DT")
2930129
"^DD",727.1,727.1,1,3)
Type a Number between 727 and 728, 3 Decimal Digits
"^DD",727.1,727.1,1,21,0)
^^1^1^2930129^
"^DD",727.1,727.1,1,21,1,0)
The number of the file into which this extract places data.
"^DD",727.1,727.1,1,23,0)
^^4^4^2930129^
"^DD",727.1,727.1,1,23,1,0)
The AF cross reference on this file is used by the extract routines,
"^DD",727.1,727.1,1,23,2,0)
using the variable ECFILE, to determine the frequency with which the
"^DD",727.1,727.1,1,23,3,0)
extract is run and, from the frequency, the starting and ending days
"^DD",727.1,727.1,1,23,4,0)
for the extract.
"^DD",727.1,727.1,1,"DT")
2940428
"^DD",727.1,727.1,2,0)
FREQUENCY^S^D:DAILY;W:WEEKLY;M:MONTHLY;^0;3^Q
"^DD",727.1,727.1,2,21,0)
^^5^5^2940225^^^^
"^DD",727.1,727.1,2,21,1,0)
This field determines the frequency with which this extract will be
"^DD",727.1,727.1,2,21,2,0)
run.  Daily extracts are run for a single day, T-X, where X is the
"^DD",727.1,727.1,2,21,3,0)
number entered in the DAYS AGO field in this file.  Weekly extracts
"^DD",727.1,727.1,2,21,4,0)
are run for the week ending on T-X.  Monthly extracts are run for
"^DD",727.1,727.1,2,21,5,0)
the previous month.
"^DD",727.1,727.1,2,23,0)
^^2^2^2940225^^^^
"^DD",727.1,727.1,2,23,1,0)
This field is used by the extract routines to determine the starting
"^DD",727.1,727.1,2,23,2,0)
and ending dates for the extract.
"^DD",727.1,727.1,2,"DT")
2940225
"^DD",727.1,727.1,3,0)
DAYS AGO^RNJ2,0^^0;4^K:+X'=X!(X>30)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.1,727.1,3,3)
Type a Number between 1 and 30, 0 Decimal Digits
"^DD",727.1,727.1,3,21,0)
^^4^4^2930811^^
"^DD",727.1,727.1,3,21,1,0)
This field is used for daily and weekly extracts to determine how
"^DD",727.1,727.1,3,21,2,0)
many days ago the extract should look for data.  For daily extracts,
"^DD",727.1,727.1,3,21,3,0)
the date would be T-X, for weekly extracts, the date range would
"^DD",727.1,727.1,3,21,4,0)
be from T-X-7 to T-X.
"^DD",727.1,727.1,3,23,0)
^^2^2^2930811^^
"^DD",727.1,727.1,3,23,1,0)
Used by the extract routines to determine the date for a daily extract
"^DD",727.1,727.1,3,23,2,0)
or the date range for a weekly extract.
"^DD",727.1,727.1,3,"DT")
2930129
"^DD",727.1,727.1,4,0)
ROUTINE^FI^^ROU;1^K:$L(X)>8!($L(X)<1)!'(X?1"ECX".UN) X
"^DD",727.1,727.1,4,3)
Answer must be 1-8 characters in length.
"^DD",727.1,727.1,4,21,0)
^^2^2^2930811^^
"^DD",727.1,727.1,4,21,1,0)
The name of the routine which performs this extract.  Data is loaded
"^DD",727.1,727.1,4,21,2,0)
into this field at creation time as should not be edited in the field
"^DD",727.1,727.1,4,23,0)
^^4^4^2930811^^
"^DD",727.1,727.1,4,23,1,0)
Data in this field is used to queue the initial extract.  Once the
"^DD",727.1,727.1,4,23,2,0)
extract manager specifies the frequency, days offset, start date
"^DD",727.1,727.1,4,23,3,0)
(which is not a data element in this file), the extract setup
"^DD",727.1,727.1,4,23,4,0)
calls %ZTLOAD to queue QUE^routine at the proper time.
"^DD",727.1,727.1,4,"DT")
2940324
"^DD",727.1,727.1,5,0)
OFFSET^NJ2,0^^0;5^K:+X'=X!(X>60)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.1,727.1,5,3)
The offset, in days, for the daily local extract
"^DD",727.1,727.1,5,21,0)
^^2^2^2980706^^
"^DD",727.1,727.1,5,21,1,0)
This field is used by the local daily extract to determine how many days
"^DD",727.1,727.1,5,21,2,0)
back to look for data
"^DD",727.1,727.1,5,"DT")
2930827
"^DD",727.1,727.1,6,0)
QUEUED^SI^1:YES;^0;6^Q
"^DD",727.1,727.1,6,21,0)
^^6^6^2990601^^^
"^DD",727.1,727.1,6,21,1,0)
This field is set by the software when the extract is queued to
"^DD",727.1,727.1,6,21,2,0)
run.  Once this field is set, other data elements should be
"^DD",727.1,727.1,6,21,3,0)
changed only with extreme care.  Changing either the frequency or
"^DD",727.1,727.1,6,21,4,0)
the days ago field could result in a date range being missed and
"^DD",727.1,727.1,6,21,5,0)
not extracted for trasmission to TSI.
"^DD",727.1,727.1,6,21,6,0)
 
"^DD",727.1,727.1,6,"DT")
2940324
"^DD",727.1,727.1,7,0)
TYPE^RF^^0;7^K:$L(X)>30!($L(X)<3) X
"^DD",727.1,727.1,7,1,0)
^.1
"^DD",727.1,727.1,7,1,1,0)
727.1^AC
"^DD",727.1,727.1,7,1,1,1)
S ^ECX(727.1,"AC",$E(X,1,30),DA)=""
"^DD",727.1,727.1,7,1,1,2)
K ^ECX(727.1,"AC",$E(X,1,30),DA)
"^DD",727.1,727.1,7,1,1,"DT")
2980706
"^DD",727.1,727.1,7,3)
Answer must be 3-30 characters in length.
"^DD",727.1,727.1,7,21,0)
^^3^3^2970925^
"^DD",727.1,727.1,7,21,1,0)
This is the print name for the extract.  It has an important use in
"^DD",727.1,727.1,7,21,2,0)
supplying a data element to the TYPE field (#2) of the DSS EXTRACT
"^DD",727.1,727.1,7,21,3,0)
LOG file (#727).
"^DD",727.1,727.1,7,23,0)
^^5^5^2970925^
"^DD",727.1,727.1,7,23,1,0)
A free text field; only 1st character is capitalized.  Used as
"^DD",727.1,727.1,7,23,2,0)
print name for the extract.
"^DD",727.1,727.1,7,23,3,0)
 
"^DD",727.1,727.1,7,23,4,0)
This data element is also hard-coded into the SETUP code unit of
"^DD",727.1,727.1,7,23,5,0)
each extract routine using variable ECPACK.
"^DD",727.1,727.1,7,"DT")
2980706
"^DD",727.1,727.1,8,0)
HEADER CODE^RF^^0;8^K:$L(X)>3!($L(X)<3) X
"^DD",727.1,727.1,8,1,0)
^.1
"^DD",727.1,727.1,8,1,1,0)
727.1^C
"^DD",727.1,727.1,8,1,1,1)
S ^ECX(727.1,"C",$E(X,1,30),DA)=""
"^DD",727.1,727.1,8,1,1,2)
K ^ECX(727.1,"C",$E(X,1,30),DA)
"^DD",727.1,727.1,8,1,1,3)
Do not delete this cross-reference.
"^DD",727.1,727.1,8,1,1,"%D",0)
^^2^2^2970925^
"^DD",727.1,727.1,8,1,1,"%D",1,0)
This cross-reference will be used by all the extract audit report
"^DD",727.1,727.1,8,1,1,"%D",2,0)
routines to obtain defining information on the extract.
"^DD",727.1,727.1,8,1,1,"DT")
2970925
"^DD",727.1,727.1,8,3)
Answer must be 3 characters in length.
"^DD",727.1,727.1,8,21,0)
^^2^2^2970925^^
"^DD",727.1,727.1,8,21,1,0)
The unique 3-letter identifier code for the extract type.  Needed for
"^DD",727.1,727.1,8,21,2,0)
the header record in each extract transmission.
"^DD",727.1,727.1,8,23,0)
^^4^4^2970925^^
"^DD",727.1,727.1,8,23,1,0)
A 3-character identifying code; each character is an uppercase alpha.
"^DD",727.1,727.1,8,23,2,0)
 
"^DD",727.1,727.1,8,23,3,0)
This data element is also hard-coded into the SETUP code unit of
"^DD",727.1,727.1,8,23,4,0)
each extract routine using variable ECHEAD.
"^DD",727.1,727.1,8,"DT")
2970925
"^DD",727.1,727.1,9,0)
GROUP^RF^^0;9^K:$L(X)>5!($L(X)<2) X
"^DD",727.1,727.1,9,3)
Answer must be 2-5 characters in length.
"^DD",727.1,727.1,9,21,0)
^^1^1^2970925^
"^DD",727.1,727.1,9,21,1,0)
This code identifies the data group to which the extract belongs.
"^DD",727.1,727.1,9,23,0)
^^4^4^2970925^
"^DD",727.1,727.1,9,23,1,0)
A 2-5 character identifying code; each character is an uppercase alpha.
"^DD",727.1,727.1,9,23,2,0)
 
"^DD",727.1,727.1,9,23,3,0)
This data element is also hard-coded into the SETUP code unit of
"^DD",727.1,727.1,9,23,4,0)
each extract routine using variable ECGRP.
"^DD",727.1,727.1,9,"DT")
2970925
"^DD",727.1,727.1,10,0)
AUDIT DESCRIPTION^727.11^^1;0
"^DD",727.1,727.1,11,0)
RUNNING PIECE^RNJ2,0^^0;10^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.1,727.1,11,3)
Type a Number between 1 and 99, 0 Decimal Digits
"^DD",727.1,727.1,11,21,0)
^^3^3^2980706^^
"^DD",727.1,727.1,11,21,1,0)
This numeric provides the position of the data element which indicates
"^DD",727.1,727.1,11,21,2,0)
whether an extract of this type is currently running or is queued to
"^DD",727.1,727.1,11,21,3,0)
run.
"^DD",727.1,727.1,11,23,0)
^^2^2^2980706^
"^DD",727.1,727.1,11,23,1,0)
The piece of the ^ECX(728,1,7.1) node indicated in this field will
"^DD",727.1,727.1,11,23,2,0)
contain an "R", if the extract is currently running or queued to run.
"^DD",727.1,727.1,11,"DT")
2980706
"^DD",727.1,727.11,0)
AUDIT DESCRIPTION SUB-FIELD^^.01^1
"^DD",727.1,727.11,0,"DT")
2971030
"^DD",727.1,727.11,0,"NM","AUDIT DESCRIPTION")

"^DD",727.1,727.11,0,"UP")
727.1
"^DD",727.1,727.11,.01,0)
AUDIT DESCRIPTION^WL^^0;1^Q
"^DD",727.1,727.11,.01,21,0)
^^2^2^2971030^^
"^DD",727.1,727.11,.01,21,1,0)
The information contained here provides user instructions on the 
"^DD",727.1,727.11,.01,21,2,0)
recommended method for verifying the extract audit report.
"^DD",727.1,727.11,.01,"DT")
2971030
"^DD",727.802,727.802,0)
FIELD^^57^57
"^DD",727.802,727.802,0,"DDA")
N
"^DD",727.802,727.802,0,"DIK")
ECX802
"^DD",727.802,727.802,0,"DIKOLD")
ECX802
"^DD",727.802,727.802,0,"DT")
3000912
"^DD",727.802,727.802,0,"IX","AC",727.802,2)

"^DD",727.802,727.802,0,"NM","ADMISSION EXTRACT")

"^DD",727.802,727.802,0,"VRPK")
ECX
"^DD",727.802,727.802,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.802,727.802,.01,.1)
Sequence Number
"^DD",727.802,727.802,.01,1,0)
^.1^^0
"^DD",727.802,727.802,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.802,727.802,.01,21,0)
^.001^1^1^3000906^^^^
"^DD",727.802,727.802,.01,21,1,0)
The record number for this extract entry.
"^DD",727.802,727.802,.01,23,0)
^.001^1^1^3000906^^^^
"^DD",727.802,727.802,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.802,727.802,.01,"DT")
3000906
"^DD",727.802,727.802,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.802,727.802,1,.1)
Year/Month
"^DD",727.802,727.802,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.802,727.802,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.802,727.802,1,3)
Answer must be 6 characters in length.
"^DD",727.802,727.802,1,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,1,21,1,0)
A six character string representing the year and the month
"^DD",727.802,727.802,1,21,2,0)
for which this extract was performed.
"^DD",727.802,727.802,1,23,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.802,727.802,1,"DT")
2971002
"^DD",727.802,727.802,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.802,727.802,2,.1)
Extract Number
"^DD",727.802,727.802,2,1,0)
^.1
"^DD",727.802,727.802,2,1,1,0)
727.802^AC
"^DD",727.802,727.802,2,1,1,1)
S ^ECX(727.802,"AC",$E(X,1,30),DA)=""
"^DD",727.802,727.802,2,1,1,2)
K ^ECX(727.802,"AC",$E(X,1,30),DA)
"^DD",727.802,727.802,2,1,1,3)
DO NOT DELETE.
"^DD",727.802,727.802,2,1,1,"%D",0)
^^2^2^2990511^^^^
"^DD",727.802,727.802,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.802,727.802,2,1,1,"%D",2,0)
in this file.
"^DD",727.802,727.802,2,1,1,"DT")
2910802
"^DD",727.802,727.802,2,3)
Enter the extract number for this entry.
"^DD",727.802,727.802,2,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.802,727.802,2,21,2,0)
extract.
"^DD",727.802,727.802,2,23,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.802,727.802,2,23,2,0)
pick up the header for the mail message.
"^DD",727.802,727.802,2,"DT")
2960731
"^DD",727.802,727.802,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.802,727.802,3,.1)
Facility
"^DD",727.802,727.802,3,3)
Enter the station number where this extract was performed.
"^DD",727.802,727.802,3,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.802,727.802,3,23,0)
^^3^3^2990505^^^^
"^DD",727.802,727.802,3,23,1,0)
An indicator of the division where this event happened.  It is derived
"^DD",727.802,727.802,3,23,2,0)
from the DIVISION field (.015) of the WARD LOCATION file (#42) which
"^DD",727.802,727.802,3,23,3,0)
points to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.802,727.802,3,"DT")
2961014
"^DD",727.802,727.802,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.802,727.802,4,.1)
Patient No. - DFN
"^DD",727.802,727.802,4,3)
Enter the name of the patient for this extract record.
"^DD",727.802,727.802,4,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.802,727.802,4,23,0)
^^3^3^2990505^^^^
"^DD",727.802,727.802,4,23,1,0)
Pointer to the PATIENT file (#2). This data represents the patient DFN. 
"^DD",727.802,727.802,4,23,2,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405), 
"^DD",727.802,727.802,4,23,3,0)
the PATIENT NO. - DFN data is derived from the PATIENT field (.03).
"^DD",727.802,727.802,4,"DT")
2961014
"^DD",727.802,727.802,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.802,727.802,5,.1)
Social Security Number
"^DD",727.802,727.802,5,3)

"^DD",727.802,727.802,5,21,0)
^^4^4^2990505^^^^
"^DD",727.802,727.802,5,21,1,0)
The patient's social security number.
"^DD",727.802,727.802,5,21,2,0)
 
"^DD",727.802,727.802,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.802,727.802,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.802,727.802,5,23,0)
^^6^6^2990505^^^^
"^DD",727.802,727.802,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.802,727.802,5,23,2,0)
(4) in the ADMISSION EXTRACT file (#727.802), SSN data is derived from 
"^DD",727.802,727.802,5,23,3,0)
the SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.802,727.802,5,23,4,0)
 
"^DD",727.802,727.802,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.802,727.802,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.802,727.802,5,"DT")
2960731
"^DD",727.802,727.802,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.802,727.802,6,.1)
Name
"^DD",727.802,727.802,6,3)
Your answer must be 4 characters in length.
"^DD",727.802,727.802,6,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.802,727.802,6,23,0)
^^4^4^2990505^^^
"^DD",727.802,727.802,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,6,23,2,0)
in the ADMISSION EXTRACT file (#727.802), NAME data is derived from the
"^DD",727.802,727.802,6,23,3,0)
NAME field  (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.802,727.802,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.802,727.802,6,"DT")
2960731
"^DD",727.802,727.802,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.802,727.802,7,.1)
In Out Patient Indicator
"^DD",727.802,727.802,7,3)

"^DD",727.802,727.802,7,21,0)
^^2^2^2990602^^^^
"^DD",727.802,727.802,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.802,727.802,7,21,2,0)
this extract entry.
"^DD",727.802,727.802,7,23,0)
^^2^2^2990602^^^^
"^DD",727.802,727.802,7,23,1,0)
For the Admission extract this field is set to 3, indicating inpatient 
"^DD",727.802,727.802,7,23,2,0)
status in the LOCATION TYPE file (#40.9).
"^DD",727.802,727.802,7,"DT")
2960731
"^DD",727.802,727.802,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.802,727.802,8,.1)
Day
"^DD",727.802,727.802,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.802,727.802,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.802,727.802,8,3)
Answer must be 8 characters in length.
"^DD",727.802,727.802,8,21,0)
^^2^2^2990507^^^^
"^DD",727.802,727.802,8,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.802,727.802,8,21,2,0)
occurred.
"^DD",727.802,727.802,8,23,0)
^^8^8^2990507^^^^
"^DD",727.802,727.802,8,23,1,0)
Data source:
"^DD",727.802,727.802,8,23,2,0)
 
"^DD",727.802,727.802,8,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.802,727.802,8,23,4,0)
 
"^DD",727.802,727.802,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.802,727.802,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.802,727.802,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.802,727.802,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.802,727.802,8,"DT")
2970924
"^DD",727.802,727.802,9,0)
PRIMARY CARE TEAM^F^^0;10^K:$L(X)>4!($L(X)<1) X
"^DD",727.802,727.802,9,.1)
Primary Care Team
"^DD",727.802,727.802,9,3)
Enter primary care team assigned to this patient.
"^DD",727.802,727.802,9,21,0)
^^1^1^2961030^^^^
"^DD",727.802,727.802,9,21,1,0)
The primary care team assigned to this patient.
"^DD",727.802,727.802,9,23,0)
^^6^6^2961030^^^^
"^DD",727.802,727.802,9,23,1,0)
Using the DATE/TIME field (.01) from the PATIENT MOVEMENT file (#405) 
"^DD",727.802,727.802,9,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.802,727.802,9,23,3,0)
in the ADMISSION EXTRACT file (#727.802), a call is made to the 
"^DD",727.802,727.802,9,23,4,0)
Scheduling API, OUTPTTM^SDUTL3. The API returns the team's internal 
"^DD",727.802,727.802,9,23,5,0)
entry number and name from the TEAM file (#404.51). Only the pointer 
"^DD",727.802,727.802,9,23,6,0)
(IEN) to File 404.51 is transmitted.
"^DD",727.802,727.802,9,"DT")
2961030
"^DD",727.802,727.802,10,0)
SEX^S^M:MALE;F:FEMALE;^0;11^Q
"^DD",727.802,727.802,10,.1)
Sex
"^DD",727.802,727.802,10,3)
Enter the patient's sex.
"^DD",727.802,727.802,10,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,10,21,1,0)
Data is M if this patient is a male, or F if female.
"^DD",727.802,727.802,10,23,0)
^^3^3^2990505^^
"^DD",727.802,727.802,10,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,10,23,2,0)
in the ADMISSION EXTRACT file (#727.802), this data is derived from the
"^DD",727.802,727.802,10,23,3,0)
SEX field (.02) in the PATIENT file (#2).
"^DD",727.802,727.802,10,"DT")
2960801
"^DD",727.802,727.802,11,0)
DATE OF BIRTH^FO^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.802,727.802,11,.1)
Date of Birth
"^DD",727.802,727.802,11,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.802,727.802,11,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.802,727.802,11,3)
Answer must be 8 characters in length.
"^DD",727.802,727.802,11,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,11,21,1,0)
The patient's date of birth between December 31,1870 and today's date
"^DD",727.802,727.802,11,21,2,0)
represented by an 8-character numeric string.
"^DD",727.802,727.802,11,23,0)
^^9^9^2990505^^^^
"^DD",727.802,727.802,11,23,1,0)
Data source:
"^DD",727.802,727.802,11,23,2,0)
 
"^DD",727.802,727.802,11,23,3,0)
PATIENT MOVEMENT file (#405); PATIENT field (#.03)
"^DD",727.802,727.802,11,23,4,0)
   then to PATIENT file (#2); DATE OF BIRTH field (#.03)
"^DD",727.802,727.802,11,23,5,0)
 
"^DD",727.802,727.802,11,23,6,0)
If Date of Birth cannot be determined, then January 1, 1942, is
"^DD",727.802,727.802,11,23,7,0)
used as default.  The data element is always exactly 8 numberic
"^DD",727.802,727.802,11,23,8,0)
characters in length.  Format is YYYYMMDD.  Year 2000 compliant
"^DD",727.802,727.802,11,23,9,0)
per vendor.
"^DD",727.802,727.802,11,"DT")
2970924
"^DD",727.802,727.802,12,0)
RELIGION^P13'^DIC(13,^0;13^Q
"^DD",727.802,727.802,12,.1)
Religion
"^DD",727.802,727.802,12,3)
Enter the patient's religious preference.
"^DD",727.802,727.802,12,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,12,21,1,0)
The current religious preference of this patient.
"^DD",727.802,727.802,12,23,0)
^^4^4^2990510^^
"^DD",727.802,727.802,12,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,12,23,2,0)
in the ADMISSION EXTRACT file (#727.802), RELIGION data is derived from
"^DD",727.802,727.802,12,23,3,0)
the RELIGIOUS PREFERENCE field (#.08) in the PATIENT file (#2). It is a
"^DD",727.802,727.802,12,23,4,0)
pointer to the RELIGION file (#13).
"^DD",727.802,727.802,12,"DT")
2960801
"^DD",727.802,727.802,13,0)
EMPLOYMENT STATUS^S^1:EMPLOYED FULL TIME;2:EMPLOYED PART TIME;3:NOT EMPLOYED;4:SELF EMPLOYED;5:RETIRED;6:ACTIVE DUTY MILITARY;9:UNKNOWN;^0;14^Q
"^DD",727.802,727.802,13,.1)
Employment Status
"^DD",727.802,727.802,13,3)
Select the appropriate employment status.
"^DD",727.802,727.802,13,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,13,21,1,0)
The patient's current employment status.
"^DD",727.802,727.802,13,23,0)
^^4^4^2990510^^
"^DD",727.802,727.802,13,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,13,23,2,0)
in the ADMISSION EXTRACT file (#727.802), EMPLOYMENT STATUS data is
"^DD",727.802,727.802,13,23,3,0)
derived from the EMPLOYMENT STATUS field (#.31115) in the PATIENT file
"^DD",727.802,727.802,13,23,4,0)
(#2).
"^DD",727.802,727.802,13,"DT")
2960801
"^DD",727.802,727.802,14,0)
HEALTH INSURANCE^S^Y:YES;N:NO;U:UNKNOWN;^0;15^Q
"^DD",727.802,727.802,14,.1)
Health Insurance
"^DD",727.802,727.802,14,3)
Select the appropriate health insurance status.
"^DD",727.802,727.802,14,21,0)
^^2^2^2990510^^^^
"^DD",727.802,727.802,14,21,1,0)
Data is Y if the patient is covered by a health insurance policy, N if
"^DD",727.802,727.802,14,21,2,0)
the patient isn't covered by any policy, or U if unknown.
"^DD",727.802,727.802,14,23,0)
^^4^4^2990510^^^^
"^DD",727.802,727.802,14,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.802,727.802,14,23,2,0)
(#4) in the ADMISSION EXTRACT file (#727.802), a call is made to the 
"^DD",727.802,727.802,14,23,3,0)
Integrated Billing API, INSURED^IBCNS1. The API returns 1 if the 
"^DD",727.802,727.802,14,23,4,0)
patient is insured, or 0 if the patient is uninsured.
"^DD",727.802,727.802,14,"DT")
2960801
"^DD",727.802,727.802,15,0)
STATE^F^^0;16^K:$L(X)>2!($L(X)<2) X
"^DD",727.802,727.802,15,.1)
State
"^DD",727.802,727.802,15,3)
Enter the VA STATE CODE for this patient.
"^DD",727.802,727.802,15,21,0)
^^1^1^2980708^^^^
"^DD",727.802,727.802,15,21,1,0)
The state in which the patient resides.
"^DD",727.802,727.802,15,23,0)
^^5^5^2980708^^
"^DD",727.802,727.802,15,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,15,23,2,0)
in the ADMISSION EXTRACT file (#727.802), STATE data is derived from the
"^DD",727.802,727.802,15,23,3,0)
STATE field (.115) in the PATIENT file (#2) which points to the STATE file
"^DD",727.802,727.802,15,23,4,0)
(#5). For the STATE file entry, data transmitted is the two character VA
"^DD",727.802,727.802,15,23,5,0)
STATE CODE, field (2).
"^DD",727.802,727.802,15,"DT")
2960801
"^DD",727.802,727.802,16,0)
COUNTY^F^^0;17^K:$L(X)>3!($L(X)<3) X
"^DD",727.802,727.802,16,.1)

"^DD",727.802,727.802,16,3)

"^DD",727.802,727.802,16,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,16,21,1,0)
County in which the patient resides.
"^DD",727.802,727.802,16,23,0)
^^6^6^2990505^^^^
"^DD",727.802,727.802,16,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,16,23,2,0)
in the ADMISSION EXTRACT file (#727.802), data is taken from the
"^DD",727.802,727.802,16,23,3,0)
COUNTY field (.117) in the PATIENT file (#2), which points to a subfile
"^DD",727.802,727.802,16,23,4,0)
record in the COUNTY multiple field (#3) of the STATE file (#5).  The
"^DD",727.802,727.802,16,23,5,0)
three character VA COUNTY CODE field (#2) within the COUNTY multiple 
"^DD",727.802,727.802,16,23,6,0)
field (#3) is used.
"^DD",727.802,727.802,16,"DT")
2990505
"^DD",727.802,727.802,17,0)
ZIP+4^F^^0;18^K:$L(X)>10!($L(X)<5) X
"^DD",727.802,727.802,17,.1)

"^DD",727.802,727.802,17,3)

"^DD",727.802,727.802,17,21,0)
^^1^1^2990524^^^^
"^DD",727.802,727.802,17,21,1,0)
Zip code for the city in which the patient resides.
"^DD",727.802,727.802,17,23,0)
^^3^3^2990524^^^^
"^DD",727.802,727.802,17,23,1,0)
The patient's zipcode with optional 4-digit extension as found in
"^DD",727.802,727.802,17,23,2,0)
the ZIP+4 field (#.1112) of the patient's record in the PATIENT
"^DD",727.802,727.802,17,23,3,0)
file (#2).
"^DD",727.802,727.802,17,"DT")
2990517
"^DD",727.802,727.802,18,0)
ELIGIBILITY^F^^0;19^K:$L(X)>3!($L(X)<1) X
"^DD",727.802,727.802,18,.1)
Eligibility
"^DD",727.802,727.802,18,3)
Answer must be 1-3 characters in length.
"^DD",727.802,727.802,18,21,0)
^^1^1^2990607^^^^
"^DD",727.802,727.802,18,21,1,0)
Appropriate eligibility code based on veteran or non-veteran status.
"^DD",727.802,727.802,18,23,0)
^^11^11^2990607^^^^
"^DD",727.802,727.802,18,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,18,23,2,0)
in the ADMISSION EXTRACT file (#727.802), ELIGIBILITY data is derived from
"^DD",727.802,727.802,18,23,3,0)
the PRIMARY ELIGIBILITY CODE field (.361) in the PATIENT file (#2).
"^DD",727.802,727.802,18,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8).
"^DD",727.802,727.802,18,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (8) in the
"^DD",727.802,727.802,18,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS
"^DD",727.802,727.802,18,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.802,727.802,18,23,8,0)
 
"^DD",727.802,727.802,18,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.802,727.802,18,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.802,727.802,18,23,11,0)
two or three numeric characters.
"^DD",727.802,727.802,18,"DT")
2980708
"^DD",727.802,727.802,19,0)
VETERAN^S^Y:YES;N:NO;^0;20^Q
"^DD",727.802,727.802,19,.1)
Veteran
"^DD",727.802,727.802,19,3)
Select the appropriate veteran status for this patient.
"^DD",727.802,727.802,19,21,0)
^^1^1^2961014^^^^
"^DD",727.802,727.802,19,21,1,0)
Data is Y if this patient is a veteran, N if not.
"^DD",727.802,727.802,19,23,0)
^^3^3^2961014^^
"^DD",727.802,727.802,19,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,19,23,2,0)
in the ADMISSION EXTRACT file (#727.802), VETERAN data is derived from the
"^DD",727.802,727.802,19,23,3,0)
VETERAN (Y/N)? field (1901) in the PATIENT file (#2).
"^DD",727.802,727.802,19,"DT")
2960801
"^DD",727.802,727.802,20,0)
VIETNAM^S^Y:YES;N:NO;U:UNKNOWN;^0;21^Q
"^DD",727.802,727.802,20,.1)
Vietnam
"^DD",727.802,727.802,20,3)
Select the appropriate Vietnam service status for this patient.
"^DD",727.802,727.802,20,21,0)
^^1^1^2990524^^^^
"^DD",727.802,727.802,20,21,1,0)
Data is Y if this patient served in Vietnam, N if not, or U if unknown.
"^DD",727.802,727.802,20,23,0)
^^3^3^2990524^^
"^DD",727.802,727.802,20,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,20,23,2,0)
in the ADMISSION EXTRACT file (#727.802), VIETNAM data is derived from the
"^DD",727.802,727.802,20,23,3,0)
VIETNAM SERVICE INDICATED? field (.32101) in the PATIENT file (#2).
"^DD",727.802,727.802,20,"DT")
2960801
"^DD",727.802,727.802,21,0)
AGENT ORANGE STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;22^Q
"^DD",727.802,727.802,21,.1)

"^DD",727.802,727.802,21,3)

"^DD",727.802,727.802,21,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,21,21,1,0)
Data is Y if this patient was exposed to agent orange, N if not, or U if
"^DD",727.802,727.802,21,21,2,0)
unknown.
"^DD",727.802,727.802,21,23,0)
^^6^6^2990505^^^
"^DD",727.802,727.802,21,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,21,23,2,0)
in the ADMISSION EXTRACT file (#727.802), AGENT ORANGE data is derived
"^DD",727.802,727.802,21,23,3,0)
from the AGENT ORANGE EXPOS. INDICATED? field (.32102) in the PATIENT file
"^DD",727.802,727.802,21,23,4,0)
(#2).
"^DD",727.802,727.802,21,23,5,0)
  
"^DD",727.802,727.802,21,23,6,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.802,727.802,21,"DT")
2990505
"^DD",727.802,727.802,22,0)
RADIATION STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;23^Q
"^DD",727.802,727.802,22,.1)

"^DD",727.802,727.802,22,3)

"^DD",727.802,727.802,22,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,22,21,1,0)
Data is Y if this patient claims exposure to ionizing radiation, N if 
"^DD",727.802,727.802,22,21,2,0)
not, or U if unknown.
"^DD",727.802,727.802,22,23,0)
^^5^5^2990505^^^
"^DD",727.802,727.802,22,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,22,23,2,0)
in the ADMISSION EXTRACT file (#727.802), RADIATION data is derived from
"^DD",727.802,727.802,22,23,3,0)
the RADIATION EXPOSURE INDICATED? field (.32103) in the PATIENT file (#2).
"^DD",727.802,727.802,22,23,4,0)
 
"^DD",727.802,727.802,22,23,5,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.802,727.802,22,"DT")
2990505
"^DD",727.802,727.802,23,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;24^Q
"^DD",727.802,727.802,23,.1)

"^DD",727.802,727.802,23,3)

"^DD",727.802,727.802,23,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,23,21,1,0)
Data is Y if this patient was confined as a prisoner of war, N if not,
"^DD",727.802,727.802,23,21,2,0)
or U if unknown.
"^DD",727.802,727.802,23,23,0)
^^5^5^2990505^^^
"^DD",727.802,727.802,23,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,23,23,2,0)
in the ADMISSION EXTRACT file (#727.802), POW data is derived from the POW
"^DD",727.802,727.802,23,23,3,0)
STATUS INDICATED? field (.525) in the PATIENT file (#2).
"^DD",727.802,727.802,23,23,4,0)
 
"^DD",727.802,727.802,23,23,5,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.802,727.802,23,"DT")
2990505
"^DD",727.802,727.802,24,0)
PERIOD OF SERVICE^F^^0;25^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,24,.1)
Period of Service
"^DD",727.802,727.802,24,3)
Enter the period of service code from the PERIOD OF SERVICE file (#21).
"^DD",727.802,727.802,24,21,0)
^^2^2^2990524^^^^
"^DD",727.802,727.802,24,21,1,0)
The period of service which best classifies this patient based on 
"^DD",727.802,727.802,24,21,2,0)
eligibility code.
"^DD",727.802,727.802,24,23,0)
^^7^7^2990524^^^
"^DD",727.802,727.802,24,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,24,23,2,0)
in the ADMISSION EXTRACT file (#727.802), PERIOD OF SERVICE data is
"^DD",727.802,727.802,24,23,3,0)
derived from the PERIOD OF SERVICE field (#.323) in the PATIENT file (#2).
"^DD",727.802,727.802,24,23,4,0)
This field is a pointer to the PERIOD OF SERVICE file (#21). Using the
"^DD",727.802,727.802,24,23,5,0)
period of service pointer, the data is derived from the CODE field (#.03)
"^DD",727.802,727.802,24,23,6,0)
in the PERIOD OF SERVICE file (#21). This code is a single alpha numeric
"^DD",727.802,727.802,24,23,7,0)
character.
"^DD",727.802,727.802,24,"DT")
2960801
"^DD",727.802,727.802,25,0)
MEANS TEST^S^A:CATEGORY A;B:CATEGORY B;C:CATEGORY C;P:PENDING ADJUDICATION;R:REQUIRES MEANS TEST;N:MEANS TEST NOT REQUIRED;E:EXEMPT;I:INCOMPLETE;L:NO LONGER APPLICABLE;M:NON-EXEMPT;^0;26^Q
"^DD",727.802,727.802,25,.1)
Means Test
"^DD",727.802,727.802,25,3)
Select the appropriate means test category.
"^DD",727.802,727.802,25,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,25,21,1,0)
The current means test category for this patient.
"^DD",727.802,727.802,25,23,0)
^^6^6^2990510^^
"^DD",727.802,727.802,25,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,25,23,2,0)
in the ADMISSION EXTRACT file (#727.802), MEANS TEST data is derived from
"^DD",727.802,727.802,25,23,3,0)
the CURRENT MEANS TEST STATUS field (#.14) in the PATIENT file (#2). This
"^DD",727.802,727.802,25,23,4,0)
field is a pointer to the MEANS TEST STATUS file (#408.32).  Using the
"^DD",727.802,727.802,25,23,5,0)
means test pointer, the data is derived from the CODE field (#.02) in the
"^DD",727.802,727.802,25,23,6,0)
MEANS TEST STATUS file (#408.32).
"^DD",727.802,727.802,25,"DT")
2961024
"^DD",727.802,727.802,26,0)
MARITAL STATUS^P11'^DIC(11,^0;27^Q
"^DD",727.802,727.802,26,.1)
Marital Status
"^DD",727.802,727.802,26,3)
Enter the marital status for this patient.
"^DD",727.802,727.802,26,21,0)
^^1^1^2990524^^^^
"^DD",727.802,727.802,26,21,1,0)
Current marital status for this patient.
"^DD",727.802,727.802,26,23,0)
^^4^4^2990524^^^
"^DD",727.802,727.802,26,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,26,23,2,0)
in the ADMISSION EXTRACT file (#727.802), MARITAL STATUS data is derived
"^DD",727.802,727.802,26,23,3,0)
from the MARITAL STATUS field (#.05) in the PATIENT file (#2). MARITAL
"^DD",727.802,727.802,26,23,4,0)
STATUS is a pointer to the MARITAL STATUS file (#11).
"^DD",727.802,727.802,26,"DT")
2960801
"^DD",727.802,727.802,27,0)
WARD^P44'^SC(^0;28^Q
"^DD",727.802,727.802,27,.1)
Ward
"^DD",727.802,727.802,27,3)
Enter the current ward location for this patient.
"^DD",727.802,727.802,27,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,27,21,1,0)
Current ward for this patient.
"^DD",727.802,727.802,27,23,0)
^^8^8^2990512^^^^
"^DD",727.802,727.802,27,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) and 
"^DD",727.802,727.802,27,23,2,0)
the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) in the
"^DD",727.802,727.802,27,23,3,0)
ADMISSION EXTRACT file (#727.802), WARD data is derived from the WARD
"^DD",727.802,727.802,27,23,4,0)
LOCATION field (#.06) in the PATIENT MOVEMENT file (#405). This ward data
"^DD",727.802,727.802,27,23,5,0)
is a pointer to the WARD LOCATION file (#42). Using the ward pointer, the
"^DD",727.802,727.802,27,23,6,0)
data is derived from the HOSPITAL LOCATION FILE POINTER field (#44) in the
"^DD",727.802,727.802,27,23,7,0)
WARD LOCATION file (#42) which is a pointer to the HOSPITAL LOCATION file
"^DD",727.802,727.802,27,23,8,0)
(#44).
"^DD",727.802,727.802,27,"DT")
2960806
"^DD",727.802,727.802,28,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;29^Q
"^DD",727.802,727.802,28,.1)
Treating Specialty
"^DD",727.802,727.802,28,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.802,727.802,28,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,28,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.802,727.802,28,23,0)
^^8^8^2990512^^^^
"^DD",727.802,727.802,28,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) and 
"^DD",727.802,727.802,28,23,2,0)
the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4) in the
"^DD",727.802,727.802,28,23,3,0)
ADMISSION EXTRACT file (#727.802), TREATING SPECIALTY data is derived from
"^DD",727.802,727.802,28,23,4,0)
the FACILITY TREATING SPECIALTY field (#.09) in the PATIENT MOVEMENT file
"^DD",727.802,727.802,28,23,5,0)
(#405). This facility treating specialty data is a pointer to the FACILITY
"^DD",727.802,727.802,28,23,6,0)
TREATING SPECIALTY file (#45.7). Using the SPECIALTY field (#1) in the
"^DD",727.802,727.802,28,23,7,0)
FACILITY TREATING SPECIALTY file (#45.7), the pointer to the SPECIALTY
"^DD",727.802,727.802,28,23,8,0)
file (#42.4) is obtained.
"^DD",727.802,727.802,28,"DT")
2960918
"^DD",727.802,727.802,29,0)
ATTENDING PHYSICIAN^F^^0;30^K:$L(X)>11!($L(X)<1) X
"^DD",727.802,727.802,29,.1)
Attending Physician
"^DD",727.802,727.802,29,3)
Enter attending physician for this patient.
"^DD",727.802,727.802,29,21,0)
^^1^1^2980608^^^^
"^DD",727.802,727.802,29,21,1,0)
The attending physician assigned to this patient with this movement.
"^DD",727.802,727.802,29,23,0)
^^6^6^2980608^^^^
"^DD",727.802,727.802,29,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) and
"^DD",727.802,727.802,29,23,2,0)
the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) in the
"^DD",727.802,727.802,29,23,3,0)
ADMISSION EXTRACT file (#727.802), ATTENDING PHYSICIAN data is derived
"^DD",727.802,727.802,29,23,4,0)
from the ATTENDING PHYSICIAN field (.19) in the PATIENT MOVEMENT file
"^DD",727.802,727.802,29,23,5,0)
(#405). This attending physician data is a pointer to the NEW PERSON file
"^DD",727.802,727.802,29,23,6,0)
(#200). This data is stored as "2"_pointer value.
"^DD",727.802,727.802,29,"DT")
2961015
"^DD",727.802,727.802,30,0)
MOVEMENT FILE #^P405'^DGPM(^0;31^Q
"^DD",727.802,727.802,30,.1)

"^DD",727.802,727.802,30,3)
Enter the current movement number for this patient.
"^DD",727.802,727.802,30,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,30,21,1,0)
Current movement number for this patient.
"^DD",727.802,727.802,30,23,0)
^^5^5^2990510^^^^
"^DD",727.802,727.802,30,23,1,0)
Pointer to the PATIENT MOVEMENT file (#405). Using the "ATT1" cross 
"^DD",727.802,727.802,30,23,2,0)
reference on the PATIENT MOVEMENT file (#405) and the patient pointer 
"^DD",727.802,727.802,30,23,3,0)
(DFN) stored in the PATIENT NO. - DFN field (#4) in the ADMISSION EXTRACT
"^DD",727.802,727.802,30,23,4,0)
file (#727.802), this is a pointer to the file #405 record for the
"^DD",727.802,727.802,30,23,5,0)
patient's admission.
"^DD",727.802,727.802,30,"DT")
2990510
"^DD",727.802,727.802,31,0)
DRG^P80.2'^ICD(^0;32^Q
"^DD",727.802,727.802,31,3)
Enter the appropriate DRG for this patient.
"^DD",727.802,727.802,31,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,31,21,1,0)
Current DRG for this patient with this movement.
"^DD",727.802,727.802,31,23,0)
^^7^7^2990510^^^
"^DD",727.802,727.802,31,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) and
"^DD",727.802,727.802,31,23,2,0)
the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4) in the
"^DD",727.802,727.802,31,23,3,0)
ADMISSION EXTRACT file (#727.802), DRG data is derived from the PTF ENTRY
"^DD",727.802,727.802,31,23,4,0)
field (#,16) in PATIENT MOVEMENT file (#405). This PTF entry data is a
"^DD",727.802,727.802,31,23,5,0)
pointer to the PTF file (#45). Uses the TRANSFER DRG field (#20) within the
"^DD",727.802,727.802,31,23,6,0)
501 field (#50) multiple in the PTF file (#45) to obtain the pointer value
"^DD",727.802,727.802,31,23,7,0)
to the DRG file (#80.2).
"^DD",727.802,727.802,31,"DT")
2910803
"^DD",727.802,727.802,32,0)
DIAGNOSIS^F^^0;33^K:$L(X)>7!($L(X)<1) X
"^DD",727.802,727.802,32,.1)
Diagnosis
"^DD",727.802,727.802,32,3)
Your answer must be 1 to 7 characters in length.
"^DD",727.802,727.802,32,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,32,21,1,0)
ICD diagnosis for this patient.
"^DD",727.802,727.802,32,23,0)
^^9^9^2990510^^^
"^DD",727.802,727.802,32,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) 
"^DD",727.802,727.802,32,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4) in
"^DD",727.802,727.802,32,23,3,0)
the ADMISSION EXTRACT file (#727.802), DIAGNOSIS data is derived from the
"^DD",727.802,727.802,32,23,4,0)
PTF ENTRY field (.16) in the PATIENT MOVEMENT file (#405).  This PTF entry
"^DD",727.802,727.802,32,23,5,0)
data is a pointer to the PTF file (#45). Uses the ICD 1 field (#5) within
"^DD",727.802,727.802,32,23,6,0)
the 501 field (#50) multiple in the PTF file (#45) to obtain the pointer
"^DD",727.802,727.802,32,23,7,0)
value to the ICD DIAGNOSIS file (#80). This ICD diagnosis pointer value is
"^DD",727.802,727.802,32,23,8,0)
used to pull the DIAGNOSIS data from the CODE NUMBER field (#.01) in the
"^DD",727.802,727.802,32,23,9,0)
ICD DIAGNOSIS file (#80).
"^DD",727.802,727.802,32,"DT")
2961024
"^DD",727.802,727.802,33,0)
TIME^FO^^0;34^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.802,727.802,33,.1)
Time
"^DD",727.802,727.802,33,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.802,727.802,33,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.802,727.802,33,3)
Answer must be 6 characters in length.
"^DD",727.802,727.802,33,21,0)
^^2^2^2970922^^^^
"^DD",727.802,727.802,33,21,1,0)
A 6-character numeric string which represents the time of day at
"^DD",727.802,727.802,33,21,2,0)
which the admission occurred.
"^DD",727.802,727.802,33,23,0)
^^6^6^2970922^^^^
"^DD",727.802,727.802,33,23,1,0)
Data source:
"^DD",727.802,727.802,33,23,2,0)
 
"^DD",727.802,727.802,33,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.802,727.802,33,23,4,0)
 
"^DD",727.802,727.802,33,23,5,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.802,727.802,33,23,6,0)
cannot be determined, then "000300" is used as default.
"^DD",727.802,727.802,33,"DT")
2970924
"^DD",727.802,727.802,34,0)
PRIMARY CARE PROVIDER^F^^0;35^K:$L(X)>11!($L(X)<1) X
"^DD",727.802,727.802,34,.1)
Primary Care Provider
"^DD",727.802,727.802,34,3)
Enter primary care provider assigned to this patient.
"^DD",727.802,727.802,34,21,0)
^^1^1^2980708^^^^
"^DD",727.802,727.802,34,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.802,727.802,34,23,0)
^^8^8^2980708^^^^
"^DD",727.802,727.802,34,23,1,0)
Using the DATE/TIME field (.01) from the PATIENT MOVEMENT file (#405) 
"^DD",727.802,727.802,34,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.802,727.802,34,23,3,0)
in the ADMISSION EXTRACT file (#727.802), a call is made to the 
"^DD",727.802,727.802,34,23,4,0)
Scheduling API, OUTPTPR^SDUTL3. The API returns the provider's internal 
"^DD",727.802,727.802,34,23,5,0)
entry number and name from the NEW PERSON file (#200). 
"^DD",727.802,727.802,34,23,6,0)
 
"^DD",727.802,727.802,34,23,7,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.802,727.802,34,23,8,0)
is "200".
"^DD",727.802,727.802,34,"DT")
2961015
"^DD",727.802,727.802,35,0)
RACE^F^^0;36^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,35,.1)
Race
"^DD",727.802,727.802,35,3)
Enter race ABBREVIATION for this patient.
"^DD",727.802,727.802,35,21,0)
^^1^1^2990606^^^^
"^DD",727.802,727.802,35,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.802,727.802,35,23,0)
^^3^3^2990606^^^^
"^DD",727.802,727.802,35,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.802,727.802,35,23,2,0)
RACE data is shown as the ABBREVIATION field (2) of the RACE file (#10)
"^DD",727.802,727.802,35,23,3,0)
entry pointed to by the RACE field (.06) in the PATIENT file (#2).
"^DD",727.802,727.802,35,"DT")
2961014
"^DD",727.802,727.802,36,0)
PRIMARY WARD PROVIDER^F^^0;37^K:$L(X)>11!($L(X)<1) X
"^DD",727.802,727.802,36,3)
Answer must be 1-11 characters in length.
"^DD",727.802,727.802,36,21,0)
^^2^2^2980608^^^^
"^DD",727.802,727.802,36,21,1,0)
The Primary Provider associated with the Facility Treating Specialty
"^DD",727.802,727.802,36,21,2,0)
for this Admission.
"^DD",727.802,727.802,36,23,0)
^^10^10^2980608^^^^
"^DD",727.802,727.802,36,23,1,0)
Source:
"^DD",727.802,727.802,36,23,2,0)
field #.08; file #405
"^DD",727.802,727.802,36,23,3,0)
 
"^DD",727.802,727.802,36,23,4,0)
The PRIMARY CARE PHYSICIAN field (#.08) associated with the PATIENT
"^DD",727.802,727.802,36,23,5,0)
MOVEMENT file (#405) record for the Treating Specialty Change record
"^DD",727.802,727.802,36,23,6,0)
related to the Admission record.
"^DD",727.802,727.802,36,23,7,0)
 
"^DD",727.802,727.802,36,23,8,0)
The value obtained is a pointer to the NEW PERSON file (#200).  A "2"
"^DD",727.802,727.802,36,23,9,0)
is prefixed to the pointer value to indicate that it points to file
"^DD",727.802,727.802,36,23,10,0)
#200.
"^DD",727.802,727.802,36,"DT")
2980126
"^DD",727.802,727.802,37,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.802,727.802,37,3)
Answer must be 1-10 characters in length.
"^DD",727.802,727.802,37,21,0)
^^1^1^2990507^^
"^DD",727.802,727.802,37,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.802,727.802,37,23,0)
^^2^2^2990507^^
"^DD",727.802,727.802,37,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.802,727.802,37,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.802,727.802,37,"DT")
2990504
"^DD",727.802,727.802,38,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.802,727.802,38,3)
Answer must be 4-10 characters in length.
"^DD",727.802,727.802,38,21,0)
^^2^2^2990702^^^^
"^DD",727.802,727.802,38,21,1,0)
The DSS Department code for the ward.  Must contain at least
"^DD",727.802,727.802,38,21,2,0)
four characters to be a valid code.
"^DD",727.802,727.802,38,23,0)
^^15^15^2990702^^^^
"^DD",727.802,727.802,38,23,1,0)
The DSS Department code for the ward associated with the admission
"^DD",727.802,727.802,38,23,2,0)
movement record.  This code is found in the DSS WARD file (#727.4)
"^DD",727.802,727.802,38,23,3,0)
using the value of the WARD LOCATION field (#.06) of the PATIENT
"^DD",727.802,727.802,38,23,4,0)
MOVEMENT file (#405) record for the patient's admission movement.
"^DD",727.802,727.802,38,23,5,0)
The value found in WARD LOCATION is a pointer to the WARD LOCATION
"^DD",727.802,727.802,38,23,6,0)
file (#42).
"^DD",727.802,727.802,38,23,7,0)
 
"^DD",727.802,727.802,38,23,8,0)
Each record in file #727.4 has a #.01 field which points to a record
"^DD",727.802,727.802,38,23,9,0)
in file #42, and the internal entry number of the file #727.4 is set
"^DD",727.802,727.802,38,23,10,0)
to be the same as the record in file #42 to which it points.  Therefore,
"^DD",727.802,727.802,38,23,11,0)
the WARD LOCATION field (#.06) can be used as a pointer to file #727.4
"^DD",727.802,727.802,38,23,12,0)
as well.
"^DD",727.802,727.802,38,23,13,0)
  
"^DD",727.802,727.802,38,23,14,0)
Data for this field is taken from the DSS DEPARTMENT field (#1) of
"^DD",727.802,727.802,38,23,15,0)
the file #727.4 record.
"^DD",727.802,727.802,38,"DT")
2980708
"^DD",727.802,727.802,39,0)
ATTENDING PHYSICIAN NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.802,727.802,39,3)
Answer must be 1-8 characters in length.
"^DD",727.802,727.802,39,21,0)
^^1^1^2990506^
"^DD",727.802,727.802,39,21,1,0)
The Attending Physician's National Provider Identifier code.
"^DD",727.802,727.802,39,23,0)
^^4^4^2990506^
"^DD",727.802,727.802,39,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.802,727.802,39,23,2,0)
field will hold the Attending Physician NPI.
"^DD",727.802,727.802,39,23,3,0)
   
"^DD",727.802,727.802,39,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.802,727.802,39,"DT")
2990506
"^DD",727.802,727.802,40,0)
PC PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.802,727.802,40,3)
Answer must be 1-8 characters in length.
"^DD",727.802,727.802,40,21,0)
^^1^1^2990506^
"^DD",727.802,727.802,40,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.802,727.802,40,23,0)
^^4^4^2990506^
"^DD",727.802,727.802,40,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.802,727.802,40,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.802,727.802,40,23,3,0)
   
"^DD",727.802,727.802,40,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.802,727.802,40,"DT")
2990506
"^DD",727.802,727.802,41,0)
PRIMARY WARD PROVIDER NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.802,727.802,41,3)
Answer must be 1-8 characters in length.
"^DD",727.802,727.802,41,21,0)
^^1^1^2990506^
"^DD",727.802,727.802,41,21,1,0)
The Primary Ward Provider's National Provider Identifier code.
"^DD",727.802,727.802,41,23,0)
^^4^4^2990506^
"^DD",727.802,727.802,41,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.802,727.802,41,23,2,0)
field will hold the Primary Ward Provider NPI.
"^DD",727.802,727.802,41,23,3,0)
   
"^DD",727.802,727.802,41,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.802,727.802,41,"DT")
2990506
"^DD",727.802,727.802,42,0)
ADMISSION ELIGIBILITY^F^^1;6^K:$L(X)>3!($L(X)<1) X
"^DD",727.802,727.802,42,3)
Answer must be 1-3 characters in length.
"^DD",727.802,727.802,42,21,0)
^^1^1^2990504^^^
"^DD",727.802,727.802,42,21,1,0)
The eligibility of the patient for this specific admission.
"^DD",727.802,727.802,42,23,0)
^^11^11^2990504^^^
"^DD",727.802,727.802,42,23,1,0)
The Admission Eligibility is derived from the ADMITTING ELIGIBILITY
"^DD",727.802,727.802,42,23,2,0)
field (#.2) of the PATIENT MOVEMENT file (#405) record associated 
"^DD",727.802,727.802,42,23,3,0)
with this patient admission.
"^DD",727.802,727.802,42,23,4,0)
 
"^DD",727.802,727.802,42,23,5,0)
Field (#.2) points to the ELIGIBILITY CODE file (#8).  Then the
"^DD",727.802,727.802,42,23,6,0)
MAS ELIGIBILITY CODE field (#8) of file #8 points to the MAS
"^DD",727.802,727.802,42,23,7,0)
ELIGIBILITY CODE file (#8.1).  
"^DD",727.802,727.802,42,23,8,0)
 
"^DD",727.802,727.802,42,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.802,727.802,42,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.802,727.802,42,23,11,0)
two or three numeric characters.
"^DD",727.802,727.802,42,"DT")
2980708
"^DD",727.802,727.802,43,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^1;7^Q
"^DD",727.802,727.802,43,3)

"^DD",727.802,727.802,43,21,0)
^^5^5^2990505^^^^
"^DD",727.802,727.802,43,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.802,727.802,43,21,2,0)
Possible status values are:
"^DD",727.802,727.802,43,21,3,0)
Y = Yes, screened reports MST
"^DD",727.802,727.802,43,21,4,0)
N = Screened, does not report MST
"^DD",727.802,727.802,43,21,5,0)
D = Screened, declines to answer
"^DD",727.802,727.802,43,23,0)
^^5^5^2990505^^^^
"^DD",727.802,727.802,43,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.802,727.802,43,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.802,727.802,43,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.802,727.802,43,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.802,727.802,43,23,5,0)
field and the date in the DAY field.
"^DD",727.802,727.802,43,"DT")
2990505
"^DD",727.802,727.802,45,0)
SHARING AGREEMENT PAYOR^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,45,3)
Answer must be 1 character in length.
"^DD",727.802,727.802,45,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,45,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.802,727.802,45,23,0)
14^^15^15^2990505^^^^
"^DD",727.802,727.802,45,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.802,727.802,45,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.802,727.802,45,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.802,727.802,45,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.802,727.802,45,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.802,727.802,45,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.802,727.802,45,23,7,0)
  
"^DD",727.802,727.802,45,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.802,727.802,45,23,9,0)
field is obtained by the following conversion:
"^DD",727.802,727.802,45,23,10,0)
SHARING AGREEMENT = A
"^DD",727.802,727.802,45,23,11,0)
TRICARE = B
"^DD",727.802,727.802,45,23,12,0)
CAT C = C
"^DD",727.802,727.802,45,23,13,0)
CATEGORY C = C
"^DD",727.802,727.802,45,23,14,0)
CHAMPVA = D
"^DD",727.802,727.802,45,23,15,0)
CHAMPUS = E
"^DD",727.802,727.802,45,"DT")
2990504
"^DD",727.802,727.802,46,0)
SHARING AGREEMENT INSURANCE^F^^1;10^K:$L(X)>11!($L(X)<1) X
"^DD",727.802,727.802,46,3)
Answer must be 1-11 characters in length.
"^DD",727.802,727.802,46,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,46,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.802,727.802,46,21,2,0)
sharing agreement.
"^DD",727.802,727.802,46,23,0)
^^5^5^2990505^^^^
"^DD",727.802,727.802,46,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.802,727.802,46,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.802,727.802,46,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.802,727.802,46,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.802,727.802,46,23,5,0)
The data is stored as free text.
"^DD",727.802,727.802,46,"DT")
2990504
"^DD",727.802,727.802,47,0)
ENROLLMENT LOCATION^F^^1;11^K:$L(X)>5!($L(X)<3) X
"^DD",727.802,727.802,47,3)
Answer must be 3-5 characters in length.
"^DD",727.802,727.802,47,21,0)
^^2^2^2990505^^
"^DD",727.802,727.802,47,21,1,0)
The facility that the patient chooses to designate as his 
"^DD",727.802,727.802,47,21,2,0)
preferred location for care.
"^DD",727.802,727.802,47,23,0)
^^5^5^2990505^^
"^DD",727.802,727.802,47,23,1,0)
The PREFERRED FACILITY field (# 27.02) of the PATIENT file (#2)
"^DD",727.802,727.802,47,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.802,727.802,47,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.802,727.802,47,23,4,0)
(# 27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.802,727.802,47,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.802,727.802,47,"DT")
2980713
"^DD",727.802,727.802,48,0)
PC PROVIDER PERSON CLASS^F^^1;12^K:$L(X)>7!($L(X)<7) X
"^DD",727.802,727.802,48,3)
Answer must be 7 characters in length.
"^DD",727.802,727.802,48,21,0)
^^2^2^2981027^^
"^DD",727.802,727.802,48,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.802,727.802,48,21,2,0)
associated with this record.
"^DD",727.802,727.802,48,23,0)
^^6^6^2981027^^
"^DD",727.802,727.802,48,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.802,727.802,48,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.802,727.802,48,23,3,0)
extract record.
"^DD",727.802,727.802,48,23,4,0)
  
"^DD",727.802,727.802,48,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.802,727.802,48,23,6,0)
7 characters in length.
"^DD",727.802,727.802,48,"DT")
2981026
"^DD",727.802,727.802,49,0)
ASSOCIATE PC PROVIDER^F^^1;13^K:$L(X)>11!($L(X)<2) X
"^DD",727.802,727.802,49,3)
Answer must be 2-11 characters in length.
"^DD",727.802,727.802,49,21,0)
^^4^4^2990504^
"^DD",727.802,727.802,49,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.802,727.802,49,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.802,727.802,49,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.802,727.802,49,21,4,0)
character 2.
"^DD",727.802,727.802,49,23,0)
^^2^2^2990504^
"^DD",727.802,727.802,49,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.802,727.802,49,23,2,0)
the PCMM application.
"^DD",727.802,727.802,49,"DT")
2990504
"^DD",727.802,727.802,50,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;14^K:$L(X)>7!($L(X)<7) X
"^DD",727.802,727.802,50,3)
Answer must be 7 characters in length.
"^DD",727.802,727.802,50,21,0)
^^4^4^2990505^^
"^DD",727.802,727.802,50,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.802,727.802,50,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.802,727.802,50,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.802,727.802,50,21,4,0)
exactly 7 characters in length. 
"^DD",727.802,727.802,50,23,0)
^^3^3^2990505^^
"^DD",727.802,727.802,50,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.802,727.802,50,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.802,727.802,50,23,3,0)
PERS is the IEN from file #200.
"^DD",727.802,727.802,50,"DT")
2990504
"^DD",727.802,727.802,51,0)
ASSOCIATE PC PROVIDER NPI^F^^1;15^K:$L(X)>8!($L(X)<1) X
"^DD",727.802,727.802,51,3)
Answer must be 1-8 characters in length.
"^DD",727.802,727.802,51,21,0)
^^1^1^2990506^
"^DD",727.802,727.802,51,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.802,727.802,51,23,0)
^^4^4^2990506^
"^DD",727.802,727.802,51,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.802,727.802,51,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.802,727.802,51,23,3,0)
   
"^DD",727.802,727.802,51,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.802,727.802,51,"DT")
2990506
"^DD",727.802,727.802,52,0)
DOM, PRRTP AND SAARTP^F^^1;16^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,52,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.802,727.802,52,21,0)
^^7^7^3001017^
"^DD",727.802,727.802,52,21,1,0)
 Indicates if a patient is admitted to a DOM, PRRTP, or a SAARTP at the
"^DD",727.802,727.802,52,21,2,0)
time hospital service is provided. 
"^DD",727.802,727.802,52,21,3,0)
Domicilliary
"^DD",727.802,727.802,52,21,4,0)
 
"^DD",727.802,727.802,52,21,5,0)
(DOM)
"^DD",727.802,727.802,52,21,6,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.802,727.802,52,21,7,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.802,727.802,52,"DT")
3001011
"^DD",727.802,727.802,53,0)
ENROLLMENT CATEGORY^F^^1;17^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,53,3)
Answer must be 1 character in length.
"^DD",727.802,727.802,53,21,0)
^^1^1^3001011^
"^DD",727.802,727.802,53,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.802,727.802,53,"DT")
3000614
"^DD",727.802,727.802,54,0)
ENROLLMENT STATUS^F^^1;18^K:$L(X)>2!($L(X)<1) X
"^DD",727.802,727.802,54,3)
Answer must be 1-2 characters in length.
"^DD",727.802,727.802,54,21,0)
^^1^1^3001011^
"^DD",727.802,727.802,54,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.802,727.802,54,"DT")
3000614
"^DD",727.802,727.802,55,0)
ENROLLMENT PRIORITY^F^^1;19^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,55,3)
Answer must be 1 character in length.
"^DD",727.802,727.802,55,21,0)
^^1^1^3001011^
"^DD",727.802,727.802,55,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.802,727.802,55,"DT")
3000620
"^DD",727.802,727.802,56,0)
PURPLE HEART INDICATOR^S^Y:YES;N:NO;U:UNKNOWN;^1;20^Q
"^DD",727.802,727.802,56,3)
Purple Heart Indicator is as of yet not defined.  It will be (Y)es, (N)o or (U)nknow.
"^DD",727.802,727.802,56,21,0)
^^1^1^3001011^
"^DD",727.802,727.802,56,21,1,0)
Indicates whether or not a patient is a Purple Heart recipient. 
"^DD",727.802,727.802,56,"DT")
3000912
"^DD",727.802,727.802,57,0)
EXTENDED OUTPATIENT INDICATOR^F^^1;21^K:$L(X)>4!($L(X)<1) X
"^DD",727.802,727.802,57,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.802,727.802,57,21,0)
^^1^1^3001018^
"^DD",727.802,727.802,57,21,1,0)
Indicates if a patient is an Extended Outpatient. 
"^DD",727.802,727.802,57,"DT")
3000912
"^DD",727.804,727.804,0)
FIELD^^48^48
"^DD",727.804,727.804,0,"DDA")
N
"^DD",727.804,727.804,0,"DIK")
ECX804
"^DD",727.804,727.804,0,"DIKOLD")
ECX804
"^DD",727.804,727.804,0,"DT")
3000614
"^DD",727.804,727.804,0,"IX","AC",727.804,2)

"^DD",727.804,727.804,0,"NM","CLINIC NOSHOW EXTRACT")

"^DD",727.804,727.804,0,"VRPK")
ECX
"^DD",727.804,727.804,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.804,727.804,.01,.1)

"^DD",727.804,727.804,.01,1,0)
^.1^^0
"^DD",727.804,727.804,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.804,727.804,.01,21,0)
^^1^1^2990505^^^^
"^DD",727.804,727.804,.01,21,1,0)
The record number for this extract entry.
"^DD",727.804,727.804,.01,23,0)
^^1^1^2990505^^^^
"^DD",727.804,727.804,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.804,727.804,.01,"DT")
2990505
"^DD",727.804,727.804,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.804,727.804,1,.1)
Year/Month
"^DD",727.804,727.804,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.804,727.804,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.804,727.804,1,3)
Answer must be 6 characters in length.
"^DD",727.804,727.804,1,21,0)
^^2^2^2970918^^^^
"^DD",727.804,727.804,1,21,1,0)
A six character string representing the year and the month
"^DD",727.804,727.804,1,21,2,0)
for which this extract was performed.
"^DD",727.804,727.804,1,23,0)
^^1^1^2970918^^^^
"^DD",727.804,727.804,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.804,727.804,1,"DT")
2970924
"^DD",727.804,727.804,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.804,727.804,2,.1)
Extract Number
"^DD",727.804,727.804,2,1,0)
^.1
"^DD",727.804,727.804,2,1,1,0)
727.804^AC
"^DD",727.804,727.804,2,1,1,1)
S ^ECX(727.804,"AC",$E(X,1,30),DA)=""
"^DD",727.804,727.804,2,1,1,2)
K ^ECX(727.804,"AC",$E(X,1,30),DA)
"^DD",727.804,727.804,2,1,1,3)
DO NOT DELETE.
"^DD",727.804,727.804,2,1,1,"%D",0)
^^2^2^2960808^^
"^DD",727.804,727.804,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.804,727.804,2,1,1,"%D",2,0)
in this file.
"^DD",727.804,727.804,2,1,1,"DT")
2910802
"^DD",727.804,727.804,2,3)
Enter the extract number for this extract.
"^DD",727.804,727.804,2,21,0)
^^2^2^2960814^^^^
"^DD",727.804,727.804,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.804,727.804,2,21,2,0)
extract.
"^DD",727.804,727.804,2,23,0)
^^2^2^2960814^^^^
"^DD",727.804,727.804,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.804,727.804,2,23,2,0)
pick up the header for the mail message.
"^DD",727.804,727.804,2,"DT")
2960814
"^DD",727.804,727.804,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.804,727.804,3,.1)
Facility
"^DD",727.804,727.804,3,3)
Enter the station number where this extract was performed.
"^DD",727.804,727.804,3,21,0)
^^1^1^2961014^^^^
"^DD",727.804,727.804,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.804,727.804,3,23,0)
^^3^3^2961014^^^^
"^DD",727.804,727.804,3,23,1,0)
An indicator of the division where this event happened.  It is derived
"^DD",727.804,727.804,3,23,2,0)
from the DIVISION field (3.5) of the HOSPITAL LOCATION file (#44) which
"^DD",727.804,727.804,3,23,3,0)
points to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.804,727.804,3,"DT")
2961014
"^DD",727.804,727.804,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.804,727.804,4,.1)
Patient No. - DFN
"^DD",727.804,727.804,4,3)
Enter the name of the patient for this extract record.
"^DD",727.804,727.804,4,21,0)
^^1^1^2990504^^^^
"^DD",727.804,727.804,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.804,727.804,4,23,0)
^^4^4^2990504^^^^
"^DD",727.804,727.804,4,23,1,0)
Pointer to the NAME field (.01) of the PATIENT file (#2). This data 
"^DD",727.804,727.804,4,23,2,0)
represents the patient DFN. PATIENT NO. - DFN data is derived from the
"^DD",727.804,727.804,4,23,3,0)
PATIENT field (.01) within the APPOINTMENT field (1900) multiple of the
"^DD",727.804,727.804,4,23,4,0)
HOSPITAL LOCATION file (#44).
"^DD",727.804,727.804,4,"DT")
2961014
"^DD",727.804,727.804,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.804,727.804,5,.1)
Social Security Number
"^DD",727.804,727.804,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.804,727.804,5,21,0)
^^4^4^2990504^^^^
"^DD",727.804,727.804,5,21,1,0)
The patient's social security number.
"^DD",727.804,727.804,5,21,2,0)
 
"^DD",727.804,727.804,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.804,727.804,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.804,727.804,5,23,0)
^^6^6^2990504^^
"^DD",727.804,727.804,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.804,727.804,5,23,2,0)
in the CLINIC NOSHOW EXTRACT file (#727.804), SSN data is derived from the
"^DD",727.804,727.804,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.804,727.804,5,23,4,0)
 
"^DD",727.804,727.804,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.804,727.804,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.804,727.804,5,"DT")
2960814
"^DD",727.804,727.804,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.804,727.804,6,.1)
Name
"^DD",727.804,727.804,6,3)
Your answer must be 4 characters in length.
"^DD",727.804,727.804,6,21,0)
^^1^1^2960814^^^^
"^DD",727.804,727.804,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.804,727.804,6,23,0)
^^4^4^2961014^
"^DD",727.804,727.804,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.804,727.804,6,23,2,0)
in the CLINIC NOSHOW EXTRACT file (#727.804), NAME data is derived from
"^DD",727.804,727.804,6,23,3,0)
the NAME field (.01) in the PATIENT file (#2). The first four characters
"^DD",727.804,727.804,6,23,4,0)
of the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.804,727.804,6,"DT")
2960814
"^DD",727.804,727.804,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.804,727.804,7,.1)
In Out Patient Indicator
"^DD",727.804,727.804,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.804,727.804,7,21,0)
^^2^2^2960814^^^^
"^DD",727.804,727.804,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.804,727.804,7,21,2,0)
this extract entry.
"^DD",727.804,727.804,7,23,0)
^^4^4^2960814^
"^DD",727.804,727.804,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.804,727.804,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.804,727.804,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.804,727.804,7,23,4,0)
inpatient status.
"^DD",727.804,727.804,7,"DT")
2960814
"^DD",727.804,727.804,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.804,727.804,8,.1)
Day
"^DD",727.804,727.804,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.804,727.804,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.804,727.804,8,3)
Answer must be 8 characters in length.
"^DD",727.804,727.804,8,21,0)
^^2^2^2970918^^^^
"^DD",727.804,727.804,8,21,1,0)
This 8-character string represents the date on which the clinic
"^DD",727.804,727.804,8,21,2,0)
appointment was scheduled to occur.
"^DD",727.804,727.804,8,23,0)
^^10^10^2970923^^^^
"^DD",727.804,727.804,8,23,1,0)
Data source:
"^DD",727.804,727.804,8,23,2,0)
 
"^DD",727.804,727.804,8,23,3,0)
HOSPITAL LOCATION file (#44); APPOINTMENT sub-file (#44.001);
"^DD",727.804,727.804,8,23,4,0)
   APPOINTMENT DATE/TIME field (#.01)
"^DD",727.804,727.804,8,23,5,0)
 
"^DD",727.804,727.804,8,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.804,727.804,8,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.804,727.804,8,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.804,727.804,8,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.804,727.804,8,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.804,727.804,8,"DT")
2970924
"^DD",727.804,727.804,9,0)
PLACEHOLDER1^F^^0;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,9,.1)
Placeholder1
"^DD",727.804,727.804,9,3)
Answer must be 1 character in length.
"^DD",727.804,727.804,9,21,0)
^^1^1^2970915^^^^
"^DD",727.804,727.804,9,21,1,0)
A placeholder for future use.
"^DD",727.804,727.804,9,"DT")
2970915
"^DD",727.804,727.804,10,0)
MOVEMENT FILE #^P405'^DGPM(^0;11^Q
"^DD",727.804,727.804,10,.1)
Movement File Number
"^DD",727.804,727.804,10,3)
Enter the patient movement number associated with this extract record.
"^DD",727.804,727.804,10,21,0)
^^1^1^2960814^^
"^DD",727.804,727.804,10,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.804,727.804,10,23,0)
^^4^4^2961014^^^^
"^DD",727.804,727.804,10,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.804,727.804,10,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.804,727.804,10,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.804,727.804,10,23,4,0)
(#405).
"^DD",727.804,727.804,10,"DT")
2960814
"^DD",727.804,727.804,12,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;12^Q
"^DD",727.804,727.804,12,.1)
Treating Specialty
"^DD",727.804,727.804,12,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.804,727.804,12,21,0)
^^2^2^2960814^^^
"^DD",727.804,727.804,12,21,1,0)
Enter the name of the treating specialty associated with this extract 
"^DD",727.804,727.804,12,21,2,0)
record.
"^DD",727.804,727.804,12,23,0)
^^6^6^2961015^^^^
"^DD",727.804,727.804,12,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.804,727.804,12,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.804,727.804,12,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.804,727.804,12,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.804,727.804,12,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.804,727.804,12,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.804,727.804,12,"DT")
2960814
"^DD",727.804,727.804,13,0)
DATE OF BIRTH^FO^^0;13^K:$L(X)>8!($L(X)<8) X
"^DD",727.804,727.804,13,.1)
Date of Birth
"^DD",727.804,727.804,13,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.804,727.804,13,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.804,727.804,13,3)
Answer must be 8 characters in length.
"^DD",727.804,727.804,13,21,0)
^^1^1^2970918^^^^
"^DD",727.804,727.804,13,21,1,0)
The patient's date of birth between December 31,1870 and today's date.
"^DD",727.804,727.804,13,23,0)
^^10^10^2971113^^^^
"^DD",727.804,727.804,13,23,1,0)
Data source:
"^DD",727.804,727.804,13,23,2,0)
 
"^DD",727.804,727.804,13,23,3,0)
HOSPITAL LOCATION file (#44); APPOINTMENT sub-file (#44.0001);
"^DD",727.804,727.804,13,23,4,0)
   PATIENT sub-file (#44.003); PATIENT field (#.01)
"^DD",727.804,727.804,13,23,5,0)
   then to PATIENT file (#2); DATE OF BIRTH field (#.03)
"^DD",727.804,727.804,13,23,6,0)
 
"^DD",727.804,727.804,13,23,7,0)
If Date of Birth cannot be determined, then January 1, 1942, is
"^DD",727.804,727.804,13,23,8,0)
used as default.  The data element is always exactly 8 numberic
"^DD",727.804,727.804,13,23,9,0)
characters in length.  Format is YYYYMMDD.  Year 2000 compliant
"^DD",727.804,727.804,13,23,10,0)
per vendor.
"^DD",727.804,727.804,13,"DT")
2970924
"^DD",727.804,727.804,14,0)
ELIGIBILITY^F^^0;14^K:$L(X)>3!($L(X)<1) X
"^DD",727.804,727.804,14,.1)
Eligibility
"^DD",727.804,727.804,14,3)
Answer must be 1-3 characters in length.
"^DD",727.804,727.804,14,21,0)
^^1^1^2990504^^^^
"^DD",727.804,727.804,14,21,1,0)
Appropriate eligibility code based on veteran or non-veteran status.
"^DD",727.804,727.804,14,23,0)
^^11^11^2990504^^^^
"^DD",727.804,727.804,14,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.804,727.804,14,23,2,0)
in the CLINIC NOSHOW EXTRACT file (#727.804), ELIGIBILITY data is derived 
"^DD",727.804,727.804,14,23,3,0)
from the PRIMARY ELIGIBILITY CODE field (.361) in the PATIENT file (#2).
"^DD",727.804,727.804,14,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8).
"^DD",727.804,727.804,14,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (8) in the
"^DD",727.804,727.804,14,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS
"^DD",727.804,727.804,14,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.804,727.804,14,23,8,0)
 
"^DD",727.804,727.804,14,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.804,727.804,14,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.804,727.804,14,23,11,0)
two or three numeric characters.
"^DD",727.804,727.804,14,"DT")
2990504
"^DD",727.804,727.804,15,0)
VETERAN^S^Y:YES;N:NO;^0;15^Q
"^DD",727.804,727.804,15,.1)
Veteran
"^DD",727.804,727.804,15,3)
Select the appropriate veteran status for this patient.
"^DD",727.804,727.804,15,21,0)
^^1^1^2960814^^
"^DD",727.804,727.804,15,21,1,0)
Data is Y if the patient is a veteran, N if not.
"^DD",727.804,727.804,15,23,0)
^^3^3^2961014^
"^DD",727.804,727.804,15,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.804,727.804,15,23,2,0)
in the CLINIC NOSHOW EXTRACT file (#727.804), VETERAN data is derived from
"^DD",727.804,727.804,15,23,3,0)
the VETERAN (Y/N)? field (1901) in the PATIENT file (#2).
"^DD",727.804,727.804,15,"DT")
2960814
"^DD",727.804,727.804,16,0)
TIME^FO^^0;16^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.804,727.804,16,.1)
Time
"^DD",727.804,727.804,16,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.804,727.804,16,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.804,727.804,16,3)
Answer must be 6 characters in length.
"^DD",727.804,727.804,16,21,0)
^^2^2^2970918^^^^
"^DD",727.804,727.804,16,21,1,0)
A 6-character data element which represents the time for which
"^DD",727.804,727.804,16,21,2,0)
the appointment was scheduled.
"^DD",727.804,727.804,16,23,0)
^^8^8^2970918^^^^
"^DD",727.804,727.804,16,23,1,0)
A six-character string of format HHMMSS which represents the time
"^DD",727.804,727.804,16,23,2,0)
(military time) of the appointment.
"^DD",727.804,727.804,16,23,3,0)
 
"^DD",727.804,727.804,16,23,4,0)
HOSPITAL LOCATION file (#44); APPOINTMENT sub-file (#44.001);
"^DD",727.804,727.804,16,23,5,0)
   APPOINTMENT DATA/TIME field (#.01)
"^DD",727.804,727.804,16,23,6,0)
  
"^DD",727.804,727.804,16,23,7,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.804,727.804,16,23,8,0)
cannot be determined, then "000300" is used as default.
"^DD",727.804,727.804,16,"DT")
2970924
"^DD",727.804,727.804,17,0)
PRIMARY CARE TEAM^F^^0;17^K:$L(X)>4!($L(X)<1) X
"^DD",727.804,727.804,17,.1)
Primary Care Team
"^DD",727.804,727.804,17,3)
Enter primary care team assigned to this patient.
"^DD",727.804,727.804,17,21,0)
^^1^1^2961106^^
"^DD",727.804,727.804,17,21,1,0)
The primary care team assigned to this patient.
"^DD",727.804,727.804,17,23,0)
^^7^7^2961106^
"^DD",727.804,727.804,17,23,1,0)
Using the APPOINTMENT DATE/TIME field (.01) in the APPOINTMENT field 
"^DD",727.804,727.804,17,23,2,0)
(1900) multiple of the HOSPITAL LOCATION file (#44) and the patient 
"^DD",727.804,727.804,17,23,3,0)
pointer (DFN) stored in the PATIENT NO. - DFN field (4) in the CLINIC 
"^DD",727.804,727.804,17,23,4,0)
NOSHOW EXTRACT file (#727.804), a call is made to the Scheduling API, 
"^DD",727.804,727.804,17,23,5,0)
OUTPTTM^SDUTL3. The API returns the team's internal entry number and 
"^DD",727.804,727.804,17,23,6,0)
name from the TEAM file (#404.51). Only the pointer (IEN) to File 
"^DD",727.804,727.804,17,23,7,0)
404.51 is transmitted.
"^DD",727.804,727.804,17,"DT")
2961106
"^DD",727.804,727.804,18,0)
PRIMARY CARE PROVIDER^F^^0;18^K:$L(X)>11!($L(X)<1) X
"^DD",727.804,727.804,18,.1)
Primary Care Provider
"^DD",727.804,727.804,18,3)
Enter primary care provider assigned to this patient.
"^DD",727.804,727.804,18,21,0)
^^1^1^2980708^^^
"^DD",727.804,727.804,18,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.804,727.804,18,23,0)
^^9^9^2980708^^^
"^DD",727.804,727.804,18,23,1,0)
Using the APPOINTMENT DATE/TIME field (.01) in the APPOINTMENT field 
"^DD",727.804,727.804,18,23,2,0)
(1900) multiple of the HOSPITAL LOCATION file (#44) and the patient 
"^DD",727.804,727.804,18,23,3,0)
pointer (DFN) stored in the PATIENT NO. - DFN field (4) in the CLINIC 
"^DD",727.804,727.804,18,23,4,0)
NOSHOW EXTRACT file (#727.804), a call is made to the Scheduling API, 
"^DD",727.804,727.804,18,23,5,0)
OUTPTPR^SDUTL3. The API returns the provider's internal entry number 
"^DD",727.804,727.804,18,23,6,0)
and name from the NEW PERSON file (#200). 
"^DD",727.804,727.804,18,23,7,0)
 
"^DD",727.804,727.804,18,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.804,727.804,18,23,9,0)
is "200".
"^DD",727.804,727.804,18,"DT")
2961015
"^DD",727.804,727.804,19,0)
PROVIDER^F^^0;19^K:$L(X)>11!($L(X)<1) X
"^DD",727.804,727.804,19,.1)
Provider
"^DD",727.804,727.804,19,3)
Enter provider for this record.
"^DD",727.804,727.804,19,21,0)
^^1^1^2980925^^^
"^DD",727.804,727.804,19,21,1,0)
The provider assigned to this patient.
"^DD",727.804,727.804,19,23,0)
^^1^1^2980925^^^
"^DD",727.804,727.804,19,23,1,0)
This field marked as a placeholder for future use.
"^DD",727.804,727.804,19,"DT")
2961015
"^DD",727.804,727.804,20,0)
RACE^F^^0;20^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,20,.1)
Race
"^DD",727.804,727.804,20,3)
Enter race ABBREVIATION for this patient.
"^DD",727.804,727.804,20,21,0)
^^1^1^2961106^^^
"^DD",727.804,727.804,20,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.804,727.804,20,23,0)
^^3^3^2961106^^
"^DD",727.804,727.804,20,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.804,727.804,20,23,2,0)
RACE data is shown as the ABBREVIATION of the RACE file (#10) entry
"^DD",727.804,727.804,20,23,3,0)
pointed to by the RACE field (.06) in the PATIENT file (#2).
"^DD",727.804,727.804,20,"DT")
2961014
"^DD",727.804,727.804,21,0)
DSS IDENTIFIER^F^^0;21^K:$L(X)>6!($L(X)<6) X
"^DD",727.804,727.804,21,.1)
DSS Identifier
"^DD",727.804,727.804,21,3)
Answer must be 6 characters in length.
"^DD",727.804,727.804,21,21,0)
^^3^3^2971106^^^
"^DD",727.804,727.804,21,21,1,0)
The DSS Identifier consists of the primary and secondary stop codes
"^DD",727.804,727.804,21,21,2,0)
associated with this clinic.  It is exactly 6 numeric characters in 
"^DD",727.804,727.804,21,21,3,0)
length.
"^DD",727.804,727.804,21,23,0)
^^19^19^2971113^^^^
"^DD",727.804,727.804,21,23,1,0)
Data source:
"^DD",727.804,727.804,21,23,2,0)
 
"^DD",727.804,727.804,21,23,3,0)
CLINICS AND STOP CODES file (#728.44); DSS STOP CODE field (#3)
"^DD",727.804,727.804,21,23,4,0)
   and DSS CREDIT STOP CODE field (#4)
"^DD",727.804,727.804,21,23,5,0)
  
"^DD",727.804,727.804,21,23,6,0)
If field #3 is null, then use
"^DD",727.804,727.804,21,23,7,0)
   CLINICS AND STOP CODES file (#728.44); STOP CODE field (#1)
"^DD",727.804,727.804,21,23,8,0)
   and CREDIT STOP CODE (#2)
"^DD",727.804,727.804,21,23,9,0)
  
"^DD",727.804,727.804,21,23,10,0)
If field #1 is null, then use
"^DD",727.804,727.804,21,23,11,0)
   HOSPITAL LOCATION file (#44); STOP CODE NUMBER field (#8)
"^DD",727.804,727.804,21,23,12,0)
   and CREDIT STOP CODE field (#2503)
"^DD",727.804,727.804,21,23,13,0)
  
"^DD",727.804,727.804,21,23,14,0)
If field #8 is null, then use default of "000000".
"^DD",727.804,727.804,21,23,15,0)
 
"^DD",727.804,727.804,21,23,16,0)
However, if the ACTION TO SEND field (#5) of file #728.44 for
"^DD",727.804,727.804,21,23,17,0)
the clinic is set to "1" (i.e., SEND STOP CODE), then ONLY the
"^DD",727.804,727.804,21,23,18,0)
primary stop code is used.  The secondary stop code (i.e., credit
"^DD",727.804,727.804,21,23,19,0)
stop code) is set to "000".
"^DD",727.804,727.804,21,"DT")
2970915
"^DD",727.804,727.804,22,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.804,727.804,22,3)
Answer must be 1-10 characters in length.
"^DD",727.804,727.804,22,21,0)
^^1^1^2990504^
"^DD",727.804,727.804,22,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.804,727.804,22,23,0)
^^2^2^2990504^
"^DD",727.804,727.804,22,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.804,727.804,22,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.804,727.804,22,"DT")
2990504
"^DD",727.804,727.804,23,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.804,727.804,23,3)
Answer must be 4-10 characters in length.
"^DD",727.804,727.804,23,21,0)
^^1^1^2990506^
"^DD",727.804,727.804,23,21,1,0)
The DSS Department Code for the clinic product.
"^DD",727.804,727.804,23,23,0)
^^2^2^2990506^
"^DD",727.804,727.804,23,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.804,727.804,23,23,2,0)
Field is set to null.
"^DD",727.804,727.804,23,"DT")
2990506
"^DD",727.804,727.804,24,0)
PC PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.804,727.804,24,3)
Answer must be 1-8 characters in length.
"^DD",727.804,727.804,24,21,0)
^^1^1^2990506^
"^DD",727.804,727.804,24,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.804,727.804,24,23,0)
^^4^4^2990506^
"^DD",727.804,727.804,24,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.804,727.804,24,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.804,727.804,24,23,3,0)
   
"^DD",727.804,727.804,24,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.804,727.804,24,"DT")
2990506
"^DD",727.804,727.804,25,0)
PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.804,727.804,25,3)
Answer must be 1-8 characters in length.
"^DD",727.804,727.804,25,21,0)
^^1^1^2990506^^^^
"^DD",727.804,727.804,25,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.804,727.804,25,23,0)
^^4^4^2990506^^^
"^DD",727.804,727.804,25,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.804,727.804,25,23,2,0)
field will hold the Provider NPI.
"^DD",727.804,727.804,25,23,3,0)
   
"^DD",727.804,727.804,25,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.804,727.804,25,"DT")
2990506
"^DD",727.804,727.804,26,0)
PC PROVIDER PERSON CLASS^F^^1;5^K:$L(X)>7!($L(X)<7) X
"^DD",727.804,727.804,26,3)
Answer must be 7 characters in length.
"^DD",727.804,727.804,26,21,0)
^^2^2^2981026^
"^DD",727.804,727.804,26,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.804,727.804,26,21,2,0)
associated with this record.
"^DD",727.804,727.804,26,23,0)
^^6^6^2981026^
"^DD",727.804,727.804,26,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.804,727.804,26,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.804,727.804,26,23,3,0)
extract record.
"^DD",727.804,727.804,26,23,4,0)
  
"^DD",727.804,727.804,26,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.804,727.804,26,23,6,0)
7 characters in length.
"^DD",727.804,727.804,26,"DT")
2981026
"^DD",727.804,727.804,27,0)
PROVIDER PERSON CLASS^F^^1;6^K:$L(X)>7!($L(X)<7) X
"^DD",727.804,727.804,27,3)
Answer must be 7 characters in length.
"^DD",727.804,727.804,27,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,27,21,1,0)
The VA code associated with the active Person Class of the provider.
"^DD",727.804,727.804,27,23,0)
^^3^3^2990505^
"^DD",727.804,727.804,27,23,1,0)
A call to $$GET^XUA4A72(PERS,DATE) will be made using the IEN in the
"^DD",727.804,727.804,27,23,2,0)
PROVIDER and the date in the DAY field.  The VA Code is always of the
"^DD",727.804,727.804,27,23,3,0)
form "V"_six numeric digits; exactly 7 characters in length. 
"^DD",727.804,727.804,27,"DT")
2990505
"^DD",727.804,727.804,28,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;7^Q
"^DD",727.804,727.804,28,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,28,21,1,0)
The patient's POW status. May be set to Y(es), N(o), or U(nknown).
"^DD",727.804,727.804,28,23,0)
^^2^2^2990505^^^
"^DD",727.804,727.804,28,23,1,0)
PATIENT file (#2); POW STATUS INDICATED? field (#.525).
"^DD",727.804,727.804,28,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.804,727.804,28,"DT")
2990505
"^DD",727.804,727.804,29,0)
POW LOCATION^P22'^DIC(22,^1;8^Q
"^DD",727.804,727.804,29,21,0)
^^9^9^2990505^
"^DD",727.804,727.804,29,21,1,0)
If POW Status is indicated, then this is the POW confinement
"^DD",727.804,727.804,29,21,2,0)
location/period. 
"^DD",727.804,727.804,29,21,3,0)
 
"^DD",727.804,727.804,29,21,4,0)
 1      WORLD WAR I
"^DD",727.804,727.804,29,21,5,0)
 2      WORLD WAR II - EUROPE
"^DD",727.804,727.804,29,21,6,0)
 3      WORLD WAR II - PACIFIC
"^DD",727.804,727.804,29,21,7,0)
 4      KOREAN
"^DD",727.804,727.804,29,21,8,0)
 5      VIETNAM
"^DD",727.804,727.804,29,21,9,0)
 6      OTHER
"^DD",727.804,727.804,29,23,0)
^^3^3^2990505^^
"^DD",727.804,727.804,29,23,1,0)
PATIENT file (#2); POW CONFINEMENT LOCATION field (#.526).  This is a
"^DD",727.804,727.804,29,23,2,0)
pointer value to the POW PERIOD file (#22).
"^DD",727.804,727.804,29,23,3,0)
The location indicator is returned by SVC^VADPT.
"^DD",727.804,727.804,29,"DT")
2990505
"^DD",727.804,727.804,30,0)
RADIATION STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;9^Q
"^DD",727.804,727.804,30,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,30,21,1,0)
The patient's Ionizing Radiation status. (Y/N/U)
"^DD",727.804,727.804,30,23,0)
^^2^2^2990505^
"^DD",727.804,727.804,30,23,1,0)
PATIENT file (#2); RADIATION EXPOSURE INDICATED? field (#.32103).
"^DD",727.804,727.804,30,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.804,727.804,30,"DT")
2990505
"^DD",727.804,727.804,31,0)
AGENT ORANGE STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;10^Q
"^DD",727.804,727.804,31,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,31,21,1,0)
The patient's Agent Orange status.
"^DD",727.804,727.804,31,23,0)
^^2^2^2990505^
"^DD",727.804,727.804,31,23,1,0)
PATIENT file (#2); AGENT ORANGE EXPOS. INDICATED? field (#.32102).
"^DD",727.804,727.804,31,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.804,727.804,31,"DT")
2990505
"^DD",727.804,727.804,32,0)
SHARING AGREEMENT PAYOR^F^^1;11^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,32,3)
Answer must be 1 character in length.
"^DD",727.804,727.804,32,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,32,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.804,727.804,32,23,0)
^^15^15^2990505^
"^DD",727.804,727.804,32,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.804,727.804,32,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.804,727.804,32,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.804,727.804,32,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.804,727.804,32,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.804,727.804,32,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.804,727.804,32,23,7,0)
  
"^DD",727.804,727.804,32,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.804,727.804,32,23,9,0)
field is obtained by the following conversion:
"^DD",727.804,727.804,32,23,10,0)
SHARING AGREEMENT = A
"^DD",727.804,727.804,32,23,11,0)
TRICARE = B
"^DD",727.804,727.804,32,23,12,0)
CAT C = C
"^DD",727.804,727.804,32,23,13,0)
CATEGORY C = C
"^DD",727.804,727.804,32,23,14,0)
CHAMPVA = D
"^DD",727.804,727.804,32,23,15,0)
CHAMPUS = E
"^DD",727.804,727.804,32,"DT")
2990505
"^DD",727.804,727.804,33,0)
SHARING AGREEMENT INSURANCE^F^^1;12^K:$L(X)>11!($L(X)<1) X
"^DD",727.804,727.804,33,3)
Answer must be 1-11 characters in length.
"^DD",727.804,727.804,33,21,0)
^^2^2^2990505^
"^DD",727.804,727.804,33,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.804,727.804,33,21,2,0)
sharing agreement.
"^DD",727.804,727.804,33,23,0)
^^5^5^2990505^
"^DD",727.804,727.804,33,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.804,727.804,33,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.804,727.804,33,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.804,727.804,33,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.804,727.804,33,23,5,0)
The data is stored as free text.
"^DD",727.804,727.804,33,"DT")
2990505
"^DD",727.804,727.804,34,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^1;13^Q
"^DD",727.804,727.804,34,21,0)
^^5^5^2990505^^
"^DD",727.804,727.804,34,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.804,727.804,34,21,2,0)
Possible status values are:
"^DD",727.804,727.804,34,21,3,0)
Y = Yes, screened reports MST
"^DD",727.804,727.804,34,21,4,0)
N = Screened, does not report MST
"^DD",727.804,727.804,34,21,5,0)
D = Screened, declines to answer
"^DD",727.804,727.804,34,23,0)
^^5^5^2990505^^
"^DD",727.804,727.804,34,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.804,727.804,34,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.804,727.804,34,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.804,727.804,34,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.804,727.804,34,23,5,0)
field and the date in the DAY field.
"^DD",727.804,727.804,34,"DT")
2990505
"^DD",727.804,727.804,35,0)
ENROLLMENT LOCATION^F^^1;14^K:$L(X)>5!($L(X)<3) X
"^DD",727.804,727.804,35,3)
Answer must be 3-5 characters in length.
"^DD",727.804,727.804,35,21,0)
^^2^2^2990505^
"^DD",727.804,727.804,35,21,1,0)
The facility that the patient chooses to designate as his
"^DD",727.804,727.804,35,21,2,0)
preferred location for care.
"^DD",727.804,727.804,35,23,0)
^^5^5^2990505^
"^DD",727.804,727.804,35,23,1,0)
The PREFERRED FACILITY field (# 27.02) of the PATIENT file (#2)
"^DD",727.804,727.804,35,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.804,727.804,35,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.804,727.804,35,23,4,0)
(# 27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.804,727.804,35,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.804,727.804,35,"DT")
2990505
"^DD",727.804,727.804,36,0)
STATE^F^^1;15^K:$L(X)>2!($L(X)<2) X
"^DD",727.804,727.804,36,3)
Answer must be 2 characters in length.
"^DD",727.804,727.804,36,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,36,21,1,0)
The state in which the patient resides.
"^DD",727.804,727.804,36,23,0)
^^4^4^2990505^^
"^DD",727.804,727.804,36,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.804,727.804,36,23,2,0)
in the extract record, data is derived from the STATE field (#.115) in the
"^DD",727.804,727.804,36,23,3,0)
PATIENT file (#2) which points to the STATE file (#5).  From the STATE file
"^DD",727.804,727.804,36,23,4,0)
record, the two-character VA STATE CODE field (#2) is used.
"^DD",727.804,727.804,36,"DT")
2990505
"^DD",727.804,727.804,37,0)
COUNTY^F^^1;16^K:$L(X)>3!($L(X)<3) X
"^DD",727.804,727.804,37,3)
Answer must be 3 characters in length.
"^DD",727.804,727.804,37,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,37,21,1,0)
The county in which the patient resides.
"^DD",727.804,727.804,37,23,0)
^^5^5^2990505^^
"^DD",727.804,727.804,37,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.804,727.804,37,23,2,0)
(#4) in the extract record, data is derived from the COUNTY field (#.117)
"^DD",727.804,727.804,37,23,3,0)
in the PATIENT file (#2), which points to a subfile record in the COUNTY
"^DD",727.804,727.804,37,23,4,0)
multiple field (#3) of the STATE file (#5).  The three-character VA COUNTY
"^DD",727.804,727.804,37,23,5,0)
CODE field (#2) within the COUNTY multiple field is used.
"^DD",727.804,727.804,37,"DT")
2990505
"^DD",727.804,727.804,38,0)
ZIP+4^F^^1;17^K:$L(X)>10!($L(X)<5) X
"^DD",727.804,727.804,38,3)
Answer must be 5-10 characters in length.
"^DD",727.804,727.804,38,21,0)
^^2^2^2990505^
"^DD",727.804,727.804,38,21,1,0)
The patient's Zipcode with optional 4-digit extension.
"^DD",727.804,727.804,38,21,2,0)
For example: 11223-1234
"^DD",727.804,727.804,38,23,0)
^^1^1^2990505^
"^DD",727.804,727.804,38,23,1,0)
PATIENT file (#2); ZIP+4 field (#.1112).
"^DD",727.804,727.804,38,"DT")
2990505
"^DD",727.804,727.804,39,0)
SEX^RS^M:MALE;F:FEMALE;^1;18^Q
"^DD",727.804,727.804,39,21,0)
^^1^1^2990506^
"^DD",727.804,727.804,39,21,1,0)
Data is M if this patient is a male, or F if female.
"^DD",727.804,727.804,39,23,0)
^^3^3^2990506^
"^DD",727.804,727.804,39,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4),
"^DD",727.804,727.804,39,23,2,0)
this data element is derived from the SEX field (#.02) in the PATIENT 
"^DD",727.804,727.804,39,23,3,0)
file (#2).
"^DD",727.804,727.804,39,"DT")
2990506
"^DD",727.804,727.804,40,0)
ASSOCIATE PC PROVIDER^F^^1;19^K:$L(X)>11!($L(X)<2) X
"^DD",727.804,727.804,40,3)
Answer must be 2-11 characters in length.
"^DD",727.804,727.804,40,21,0)
^^4^4^2990505^
"^DD",727.804,727.804,40,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.804,727.804,40,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.804,727.804,40,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.804,727.804,40,21,4,0)
character 2.
"^DD",727.804,727.804,40,23,0)
^^2^2^2990505^
"^DD",727.804,727.804,40,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.804,727.804,40,23,2,0)
the PCMM application.
"^DD",727.804,727.804,40,"DT")
2990505
"^DD",727.804,727.804,41,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;20^K:$L(X)>7!($L(X)<7) X
"^DD",727.804,727.804,41,3)
Answer must be 7 characters in length.
"^DD",727.804,727.804,41,21,0)
^^4^4^2990505^
"^DD",727.804,727.804,41,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.804,727.804,41,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.804,727.804,41,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.804,727.804,41,21,4,0)
exactly 7 characters in length. 
"^DD",727.804,727.804,41,23,0)
^^3^3^2990505^
"^DD",727.804,727.804,41,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.804,727.804,41,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.804,727.804,41,23,3,0)
PERS is the IEN from file #200.
"^DD",727.804,727.804,41,"DT")
2990505
"^DD",727.804,727.804,42,0)
ASSOCIATE PC PROVIDER NPI^F^^1;21^K:$L(X)>8!($L(X)<1) X
"^DD",727.804,727.804,42,3)
Answer must be 1-8 characters in length.
"^DD",727.804,727.804,42,21,0)
^^1^1^2990506^
"^DD",727.804,727.804,42,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.804,727.804,42,23,0)
^^2^2^2990506^
"^DD",727.804,727.804,42,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.804,727.804,42,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.804,727.804,42,"DT")
2990506
"^DD",727.804,727.804,43,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;22^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,43,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.804,727.804,43,21,0)
^^7^7^3001011^
"^DD",727.804,727.804,43,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.804,727.804,43,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.804,727.804,43,21,3,0)
 
"^DD",727.804,727.804,43,21,4,0)
 
"^DD",727.804,727.804,43,21,5,0)
Domiciliary (DOM)
"^DD",727.804,727.804,43,21,6,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.804,727.804,43,21,7,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.804,727.804,43,"DT")
3001010
"^DD",727.804,727.804,44,0)
ENROLLMENT CATEGORY^F^^1;23^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,44,3)
Answer must be 1 character in length.
"^DD",727.804,727.804,44,21,0)
^.001^1^1^3001013^^
"^DD",727.804,727.804,44,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.804,727.804,44,"DT")
3000614
"^DD",727.804,727.804,45,0)
ENROLLMENT STATUS^F^^1;24^K:$L(X)>2!($L(X)<1) X
"^DD",727.804,727.804,45,3)
Answer must be 1-2 characters in length.
"^DD",727.804,727.804,45,21,0)
^^1^1^3001011^
"^DD",727.804,727.804,45,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.804,727.804,45,"DT")
3000614
"^DD",727.804,727.804,46,0)
ENROLLMENT PRIORITY^F^^1;25^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,46,3)
Answer must be 1 character in length.
"^DD",727.804,727.804,46,21,0)
^^1^1^3001011^
"^DD",727.804,727.804,46,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.804,727.804,46,"DT")
3000614
"^DD",727.804,727.804,47,0)
PERIOD OF SERVICE^F^^1;26^K:$L(X)>4!($L(X)<1) X
"^DD",727.804,727.804,47,3)
Answer must be 1-4 characters in length.
"^DD",727.804,727.804,47,21,0)
^^2^2^3001011^
"^DD",727.804,727.804,47,21,1,0)
The period of service that best classifies the patient based on
"^DD",727.804,727.804,47,21,2,0)
eligibility code.
"^DD",727.804,727.804,47,"DT")
3000614
"^DD",727.804,727.804,48,0)
EXTENDED OP INDICATOR^F^^1;27^K:$L(X)>4!($L(X)<1) X
"^DD",727.804,727.804,48,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.804,727.804,48,21,0)
^^1^1^3001011^
"^DD",727.804,727.804,48,21,1,0)
Indicates that a patient is an Extended Outpatient
"^DD",727.804,727.804,48,"DT")
3000614
"^DD",727.805,727.805,0)
FIELD^^21^22
"^DD",727.805,727.805,0,"DIK")
ECX805
"^DD",727.805,727.805,0,"DIKOLD")
ECX805
"^DD",727.805,727.805,0,"DT")
3000614
"^DD",727.805,727.805,0,"IX","AC",727.805,2)

"^DD",727.805,727.805,0,"NM","NURSING EXTRACT")

"^DD",727.805,727.805,0,"VRPK")
ECX
"^DD",727.805,727.805,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.805,727.805,.01,.1)
Sequence Number
"^DD",727.805,727.805,.01,1,0)
^.1^^0
"^DD",727.805,727.805,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.805,727.805,.01,21,0)
^^1^1^2960815^^^^
"^DD",727.805,727.805,.01,21,1,0)
The record number for this extract entry.
"^DD",727.805,727.805,.01,23,0)
^^1^1^2960815^^
"^DD",727.805,727.805,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.805,727.805,.01,"DT")
2980812
"^DD",727.805,727.805,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.805,727.805,1,.1)
Year/Month
"^DD",727.805,727.805,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.805,727.805,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.805,727.805,1,3)
Answer must be 6 characters in length.
"^DD",727.805,727.805,1,21,0)
2^^2^2^2970918^^
"^DD",727.805,727.805,1,21,1,0)
A six character string representing the year and the month
"^DD",727.805,727.805,1,21,2,0)
for which this extract was performed.
"^DD",727.805,727.805,1,23,0)
^^1^1^2970918^^^^
"^DD",727.805,727.805,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.805,727.805,1,"DT")
2970924
"^DD",727.805,727.805,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.805,727.805,2,.1)
Extract Number
"^DD",727.805,727.805,2,1,0)
^.1
"^DD",727.805,727.805,2,1,1,0)
727.805^AC
"^DD",727.805,727.805,2,1,1,1)
S ^ECX(727.805,"AC",$E(X,1,30),DA)=""
"^DD",727.805,727.805,2,1,1,2)
K ^ECX(727.805,"AC",$E(X,1,30),DA)
"^DD",727.805,727.805,2,1,1,3)
DO NOT DELETE.
"^DD",727.805,727.805,2,1,1,"%D",0)
^^2^2^2960808^^
"^DD",727.805,727.805,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.805,727.805,2,1,1,"%D",2,0)
in this file.
"^DD",727.805,727.805,2,1,1,"DT")
2910802
"^DD",727.805,727.805,2,3)
Enter the extract number for this extract.
"^DD",727.805,727.805,2,21,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.805,727.805,2,21,2,0)
extract.
"^DD",727.805,727.805,2,23,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.805,727.805,2,23,2,0)
pick up the header for the mail message.
"^DD",727.805,727.805,2,"DT")
2960815
"^DD",727.805,727.805,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.805,727.805,3,.1)
Facility
"^DD",727.805,727.805,3,3)
Enter the station number where this extract was performed.
"^DD",727.805,727.805,3,21,0)
^^1^1^2961017^^^^
"^DD",727.805,727.805,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.805,727.805,3,23,0)
^^4^4^2961017^^^^
"^DD",727.805,727.805,3,23,1,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.805,727.805,3,23,2,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.805,727.805,3,23,3,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.805,727.805,3,23,4,0)
the INSTITUTION file (#4).
"^DD",727.805,727.805,3,"DT")
2961017
"^DD",727.805,727.805,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.805,727.805,4,.1)
Patient No. - DFN
"^DD",727.805,727.805,4,3)
Enter the name of the patient for this extract record.
"^DD",727.805,727.805,4,21,0)
^^1^1^2990504^^^^
"^DD",727.805,727.805,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.805,727.805,4,23,0)
^^3^3^2990504^^
"^DD",727.805,727.805,4,23,1,0)
Pointer to the NAME field (.01) of the PATIENT file (#2). This data 
"^DD",727.805,727.805,4,23,2,0)
represents the patient DFN. PATIENT NO. - DFN data is derived from the
"^DD",727.805,727.805,4,23,3,0)
NAME field (.02) of the NURS CLASSIFICATION file (#214.6).
"^DD",727.805,727.805,4,"DT")
2961017
"^DD",727.805,727.805,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.805,727.805,5,.1)
Social Security Number
"^DD",727.805,727.805,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.805,727.805,5,21,0)
^^4^4^2990504^^^^
"^DD",727.805,727.805,5,21,1,0)
The patient's social security number.
"^DD",727.805,727.805,5,21,2,0)
 
"^DD",727.805,727.805,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.805,727.805,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.805,727.805,5,23,0)
^^6^6^2990504^^^
"^DD",727.805,727.805,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.805,727.805,5,23,2,0)
in the NURSING EXTRACT file (#727.805), SSN data is derived from the
"^DD",727.805,727.805,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.805,727.805,5,23,4,0)
 
"^DD",727.805,727.805,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.805,727.805,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.805,727.805,5,"DT")
2960815
"^DD",727.805,727.805,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.805,727.805,6,.1)
Name
"^DD",727.805,727.805,6,3)
Your answer must be 4 characters in length.
"^DD",727.805,727.805,6,21,0)
^^1^1^2960815^^^^
"^DD",727.805,727.805,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.805,727.805,6,23,0)
^^4^4^2961017^
"^DD",727.805,727.805,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.805,727.805,6,23,2,0)
in the NURSING EXTRACT file (#727.805), NAME data is derived from the NAME
"^DD",727.805,727.805,6,23,3,0)
field (.01) in the PATIENT file (#2). The first four characters of the
"^DD",727.805,727.805,6,23,4,0)
first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.805,727.805,6,"DT")
2960815
"^DD",727.805,727.805,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.805,727.805,7,.1)
In Out Patient Indicator
"^DD",727.805,727.805,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.805,727.805,7,21,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.805,727.805,7,21,2,0)
this extract entry.
"^DD",727.805,727.805,7,23,0)
^^2^2^2960815^^^
"^DD",727.805,727.805,7,23,1,0)
For the Nursing extract this field is set to 3, indicating inpatient 
"^DD",727.805,727.805,7,23,2,0)
status in the LOCATION TYPE file (#40.9).
"^DD",727.805,727.805,7,"DT")
2960815
"^DD",727.805,727.805,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.805,727.805,8,.1)
Day
"^DD",727.805,727.805,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.805,727.805,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.805,727.805,8,3)
Answer must be 8 characters in length.
"^DD",727.805,727.805,8,21,0)
^^2^2^2970918^^^^
"^DD",727.805,727.805,8,21,1,0)
This 8-character string represents the date on which the Nursing
"^DD",727.805,727.805,8,21,2,0)
classification was done.
"^DD",727.805,727.805,8,23,0)
^^9^9^2970923^^^^
"^DD",727.805,727.805,8,23,1,0)
Data source:
"^DD",727.805,727.805,8,23,2,0)
 
"^DD",727.805,727.805,8,23,3,0)
NURS CLASSIFICATION file (#214.6); CLASSIFICATION DATE/TIME field (#.01)
"^DD",727.805,727.805,8,23,4,0)
 
"^DD",727.805,727.805,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.805,727.805,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.805,727.805,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.805,727.805,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.805,727.805,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.805,727.805,8,"DT")
2970924
"^DD",727.805,727.805,9,0)
ACUITY LEVEL^F^^0;10^K:$L(X)>1!($L(X)<1)!'("ABCDEFGHP12345"[X) X
"^DD",727.805,727.805,9,.1)
Acuity Level
"^DD",727.805,727.805,9,3)
Your answer must be 1 character in length.
"^DD",727.805,727.805,9,21,0)
^^1^1^2960815^^^^
"^DD",727.805,727.805,9,21,1,0)
The patient's current Nursing AMIS classification or acuity rating.
"^DD",727.805,727.805,9,23,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,9,23,1,0)
ACUITY LEVEL is derived from the CATEGORY field (1) in the NURS 
"^DD",727.805,727.805,9,23,2,0)
CLASSIFICATION file (#214.6).
"^DD",727.805,727.805,9,"DT")
2960815
"^DD",727.805,727.805,10,0)
ENTERED BY^S^C:COMPUTER;U:USER;^0;11^Q
"^DD",727.805,727.805,10,.1)
Entered By
"^DD",727.805,727.805,10,3)
Enter C if computer generated, or U if user generated.
"^DD",727.805,727.805,10,21,0)
^^2^2^2960815^^
"^DD",727.805,727.805,10,21,1,0)
Enter C if the classification was computer generated, or U if it was 
"^DD",727.805,727.805,10,21,2,0)
user (RN) generated.
"^DD",727.805,727.805,10,23,0)
^^2^2^2960815^^
"^DD",727.805,727.805,10,23,1,0)
ENTERED BY is derived from the ENTERED BY field (3) in the NURS 
"^DD",727.805,727.805,10,23,2,0)
CLASSIFICATION file (#214.6).
"^DD",727.805,727.805,10,"DT")
2960815
"^DD",727.805,727.805,11,0)
CLASSIFIER^P200'^VA(200,^0;12^Q
"^DD",727.805,727.805,11,.1)
Classifier
"^DD",727.805,727.805,11,3)
Enter the name of the person who made the classification.
"^DD",727.805,727.805,11,21,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,11,21,1,0)
Identifies the person making the classification.  Pointer to the 
"^DD",727.805,727.805,11,21,2,0)
NEW PERSON FILE (#200)
"^DD",727.805,727.805,11,23,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,11,23,1,0)
CLASSIFIER is derived from the CLASSIFIER field (4) in the NURS 
"^DD",727.805,727.805,11,23,2,0)
CLASSIFICATION file (#214.6).
"^DD",727.805,727.805,11,"DT")
2960815
"^DD",727.805,727.805,12,0)
NURSE LOCATION^P211.4'^NURSF(211.4,^0;13^Q
"^DD",727.805,727.805,12,.1)
Nurse Location
"^DD",727.805,727.805,12,3)
Enter the ward on which the patient is classified.
"^DD",727.805,727.805,12,21,0)
^^2^2^2990512^^^^
"^DD",727.805,727.805,12,21,1,0)
Ward on which the patient is classified. Points to the NURS LOCATION 
"^DD",727.805,727.805,12,21,2,0)
file (#211.4).
"^DD",727.805,727.805,12,23,0)
^^3^3^2990512^^^^
"^DD",727.805,727.805,12,23,1,0)
NURSE LOCATION is derived from the NURS LOCATION field (6) in the NURS 
"^DD",727.805,727.805,12,23,2,0)
CLASSIFICATION file (#214.6) which is a pointer to the NURS LOCATION 
"^DD",727.805,727.805,12,23,3,0)
file (#211.4).
"^DD",727.805,727.805,12,"DT")
2960815
"^DD",727.805,727.805,13,0)
NURSING BEDSECTION^P213.3'^NURSF(213.3,^0;14^Q
"^DD",727.805,727.805,13,.1)
Nursing Bedsection
"^DD",727.805,727.805,13,3)
Enter the nursing bedsection for which the patient is classified.
"^DD",727.805,727.805,13,21,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,13,21,1,0)
Nursing bedsection for which the patient is classified. Points to the 
"^DD",727.805,727.805,13,21,2,0)
NURS AMIS WARD file (#213.3).
"^DD",727.805,727.805,13,23,0)
^^3^3^2960815^^^
"^DD",727.805,727.805,13,23,1,0)
NURSING BEDSECTION is derived from the NURSING BED SECTION field (7) in 
"^DD",727.805,727.805,13,23,2,0)
the NURS CLASSIFICATION file (#214.6) which is a pointer to the NURS 
"^DD",727.805,727.805,13,23,3,0)
AMIS WARD file (#213.3).
"^DD",727.805,727.805,13,"DT")
2960815
"^DD",727.805,727.805,14,0)
MOVEMENT FILE #^P405'^DGPM(^0;15^Q
"^DD",727.805,727.805,14,.1)
Movement File Number
"^DD",727.805,727.805,14,3)
Enter the patient movement number associated with this extract record.
"^DD",727.805,727.805,14,21,0)
^^1^1^2960815^^
"^DD",727.805,727.805,14,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.805,727.805,14,23,0)
^^4^4^2960815^^
"^DD",727.805,727.805,14,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.805,727.805,14,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.805,727.805,14,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.805,727.805,14,23,4,0)
(#405).
"^DD",727.805,727.805,14,"DT")
2960815
"^DD",727.805,727.805,15,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;16^Q
"^DD",727.805,727.805,15,.1)
Treating Specialty
"^DD",727.805,727.805,15,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.805,727.805,15,21,0)
^^1^1^2960815^^^
"^DD",727.805,727.805,15,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.805,727.805,15,23,0)
^^6^6^2990512^^^^
"^DD",727.805,727.805,15,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.805,727.805,15,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.805,727.805,15,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.805,727.805,15,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.805,727.805,15,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.805,727.805,15,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.805,727.805,15,"DT")
2960815
"^DD",727.805,727.805,16,0)
ADMISSION DATE^FO^^0;17^K:$L(X)>8!($L(X)<8) X
"^DD",727.805,727.805,16,.1)
Admission Date
"^DD",727.805,727.805,16,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.805,727.805,16,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.805,727.805,16,3)
Answer must be 8 characters in length.
"^DD",727.805,727.805,16,21,0)
^^2^2^2970918^^^^
"^DD",727.805,727.805,16,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.805,727.805,16,21,2,0)
for this patient occurred.
"^DD",727.805,727.805,16,23,0)
^^10^10^2971113^^^^
"^DD",727.805,727.805,16,23,1,0)
Data source:
"^DD",727.805,727.805,16,23,2,0)
 
"^DD",727.805,727.805,16,23,3,0)
NURS CLASSIFICATION file (#214.6); NAME field (#.02)
"^DD",727.805,727.805,16,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.805,727.805,16,23,5,0)
 
"^DD",727.805,727.805,16,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.805,727.805,16,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.805,727.805,16,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.805,727.805,16,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.805,727.805,16,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.805,727.805,16,"DT")
2970924
"^DD",727.805,727.805,17,0)
ADMISSION TIME^FO^^0;18^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.805,727.805,17,.1)
Admission Time
"^DD",727.805,727.805,17,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.805,727.805,17,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.805,727.805,17,3)
Answer must be 6 characters in length.
"^DD",727.805,727.805,17,21,0)
^^2^2^2970918^^^^
"^DD",727.805,727.805,17,21,1,0)
A 6-character numeric string which represents the time of day at
"^DD",727.805,727.805,17,21,2,0)
which the patient admission occurred.
"^DD",727.805,727.805,17,23,0)
^^6^6^2971113^^^^
"^DD",727.805,727.805,17,23,1,0)
Data source:
"^DD",727.805,727.805,17,23,2,0)
 
"^DD",727.805,727.805,17,23,3,0)
NURS CLASSIFICATION file (#214.6); NAME field (#.02)
"^DD",727.805,727.805,17,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.805,727.805,17,23,5,0)
 
"^DD",727.805,727.805,17,23,6,0)
Format is YYYYMMDD; Year 2000 compliant per vendor.
"^DD",727.805,727.805,17,"DT")
2970924
"^DD",727.805,727.805,18,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.805,727.805,18,3)
Answer must be 1-10 characters in length.
"^DD",727.805,727.805,18,21,0)
^^1^1^2990504^
"^DD",727.805,727.805,18,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.805,727.805,18,23,0)
^^2^2^2990504^
"^DD",727.805,727.805,18,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.805,727.805,18,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.805,727.805,18,"DT")
2990504
"^DD",727.805,727.805,19,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.805,727.805,19,3)
Answer must be 4-10 characters in length.
"^DD",727.805,727.805,19,21,0)
^^1^1^2990506^^^
"^DD",727.805,727.805,19,21,1,0)
The DSS Department Code for the ward product.
"^DD",727.805,727.805,19,23,0)
^^2^2^2990506^^
"^DD",727.805,727.805,19,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.805,727.805,19,23,2,0)
Field is set to null.
"^DD",727.805,727.805,19,"DT")
2990506
"^DD",727.805,727.805,20,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;3^K:$L(X)>1!($L(X)<1) X
"^DD",727.805,727.805,20,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.805,727.805,20,21,0)
^^8^8^3001020^
"^DD",727.805,727.805,20,21,1,0)
 
"^DD",727.805,727.805,20,21,2,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is
"^DD",727.805,727.805,20,21,3,0)
admitted to either a DOM, PRRTP or SAARTP at the time hospital
"^DD",727.805,727.805,20,21,4,0)
service is provided.
"^DD",727.805,727.805,20,21,5,0)
Domiciliary
"^DD",727.805,727.805,20,21,6,0)
(DOM)
"^DD",727.805,727.805,20,21,7,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.805,727.805,20,21,8,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.805,727.805,20,"DT")
3001010
"^DD",727.805,727.805,21,0)
EXTENDED OP INDICATOR^F^^1;4^K:$L(X)>4!($L(X)<1) X
"^DD",727.805,727.805,21,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.805,727.805,21,21,0)
^^1^1^3001020^
"^DD",727.805,727.805,21,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.805,727.805,21,"DT")
3000614
"^DD",727.806,727.806,0)
FIELD^^60^61
"^DD",727.806,727.806,0,"DDA")
N
"^DD",727.806,727.806,0,"DIK")
ECX806
"^DD",727.806,727.806,0,"DIKOLD")
ECX806
"^DD",727.806,727.806,0,"DT")
3000614
"^DD",727.806,727.806,0,"IX","AC",727.806,2)

"^DD",727.806,727.806,0,"NM","DENTAL EXTRACT")

"^DD",727.806,727.806,0,"VRPK")
ECX
"^DD",727.806,727.806,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.806,727.806,.01,.1)
Sequence Number
"^DD",727.806,727.806,.01,1,0)
^.1^^0
"^DD",727.806,727.806,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.806,727.806,.01,21,0)
^^1^1^2960909^^^^
"^DD",727.806,727.806,.01,21,1,0)
The record number for this extract entry.
"^DD",727.806,727.806,.01,23,0)
^^1^1^2960909^^^
"^DD",727.806,727.806,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.806,727.806,.01,"DT")
2980812
"^DD",727.806,727.806,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.806,727.806,1,.1)
Year/Month
"^DD",727.806,727.806,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.806,727.806,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.806,727.806,1,3)
Answer must be 6 characters in length.
"^DD",727.806,727.806,1,21,0)
^^2^2^2970918^^^^
"^DD",727.806,727.806,1,21,1,0)
A six character string representing the year and the month
"^DD",727.806,727.806,1,21,2,0)
for which this extract was performed.
"^DD",727.806,727.806,1,23,0)
^^1^1^2970918^^^^
"^DD",727.806,727.806,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.806,727.806,1,"DT")
2970924
"^DD",727.806,727.806,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.806,727.806,2,.1)
Extract Number
"^DD",727.806,727.806,2,1,0)
^.1
"^DD",727.806,727.806,2,1,1,0)
727.806^AC
"^DD",727.806,727.806,2,1,1,1)
S ^ECX(727.806,"AC",$E(X,1,30),DA)=""
"^DD",727.806,727.806,2,1,1,2)
K ^ECX(727.806,"AC",$E(X,1,30),DA)
"^DD",727.806,727.806,2,1,1,3)
DO NOT DELETE.
"^DD",727.806,727.806,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.806,727.806,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.806,727.806,2,1,1,"%D",2,0)
in this file.
"^DD",727.806,727.806,2,1,1,"DT")
2910802
"^DD",727.806,727.806,2,3)
Enter the extract number for this extract.
"^DD",727.806,727.806,2,21,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.806,727.806,2,21,2,0)
extract.
"^DD",727.806,727.806,2,23,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.806,727.806,2,23,2,0)
pick up the header for the mail message.
"^DD",727.806,727.806,2,"DT")
2960909
"^DD",727.806,727.806,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.806,727.806,3,.1)
Facility
"^DD",727.806,727.806,3,3)
Enter the station number where this extract was performed.
"^DD",727.806,727.806,3,21,0)
^^1^1^2990702^^^^
"^DD",727.806,727.806,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.806,727.806,3,23,0)
^^3^3^2990702^^^^
"^DD",727.806,727.806,3,23,1,0)
An indicator of the division where this event happened. It is derived 
"^DD",727.806,727.806,3,23,2,0)
from the STATION.DIVISION field (.3) of the DENTAL TREATMENT (AMIS) file 
"^DD",727.806,727.806,3,23,3,0)
(#221).
"^DD",727.806,727.806,3,"DT")
2961016
"^DD",727.806,727.806,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.806,727.806,4,.1)
Patient No. - DFN
"^DD",727.806,727.806,4,3)
Enter the name of the patient for this extract record.
"^DD",727.806,727.806,4,21,0)
^^1^1^2990504^^^^
"^DD",727.806,727.806,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.806,727.806,4,23,0)
^^2^2^2990504^^^^
"^DD",727.806,727.806,4,23,1,0)
Derived from the PATIENT (POINTER) field (3) in the DENTAL TREATMENT 
"^DD",727.806,727.806,4,23,2,0)
(AMIS) file (#221). This field is a pointer to the PATIENT file (#2).
"^DD",727.806,727.806,4,"DT")
2961016
"^DD",727.806,727.806,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.806,727.806,5,.1)
Social Security Number
"^DD",727.806,727.806,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.806,727.806,5,21,0)
^^4^4^2990504^^^^
"^DD",727.806,727.806,5,21,1,0)
The patient's social security number.
"^DD",727.806,727.806,5,21,2,0)
 
"^DD",727.806,727.806,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.806,727.806,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.806,727.806,5,23,0)
^^6^6^2990504^^^^
"^DD",727.806,727.806,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.806,727.806,5,23,2,0)
(4) in the DENTAL EXTRACT file (#727.806), SSN data is derived from the 
"^DD",727.806,727.806,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.806,727.806,5,23,4,0)
 
"^DD",727.806,727.806,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.806,727.806,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.806,727.806,5,"DT")
2960909
"^DD",727.806,727.806,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.806,727.806,6,.1)
Name
"^DD",727.806,727.806,6,3)
Your answer must be 4 characters in length.
"^DD",727.806,727.806,6,21,0)
^^1^1^2961021^^^^
"^DD",727.806,727.806,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.806,727.806,6,23,0)
^^4^4^2961021^^^^
"^DD",727.806,727.806,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.806,727.806,6,23,2,0)
(4) in the DENTAL EXTRACT file (#727.806), NAME data is derived from the 
"^DD",727.806,727.806,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of 
"^DD",727.806,727.806,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.806,727.806,6,"DT")
2960909
"^DD",727.806,727.806,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.806,727.806,7,.1)
In Out Patient Indicator
"^DD",727.806,727.806,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.806,727.806,7,21,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.806,727.806,7,21,2,0)
this extract entry.
"^DD",727.806,727.806,7,23,0)
^^4^4^2960909^^^
"^DD",727.806,727.806,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.806,727.806,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.806,727.806,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.806,727.806,7,23,4,0)
inpatient status.
"^DD",727.806,727.806,7,"DT")
2960909
"^DD",727.806,727.806,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.806,727.806,8,.1)
Day
"^DD",727.806,727.806,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.806,727.806,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.806,727.806,8,3)
Answer must be 8 characters in length.
"^DD",727.806,727.806,8,21,0)
^^2^2^2970918^^^^
"^DD",727.806,727.806,8,21,1,0)
This 8-character string represents the date on which the Dental
"^DD",727.806,727.806,8,21,2,0)
procedure was performed.
"^DD",727.806,727.806,8,23,0)
^^9^9^2970923^^^^
"^DD",727.806,727.806,8,23,1,0)
Data source:
"^DD",727.806,727.806,8,23,2,0)
 
"^DD",727.806,727.806,8,23,3,0)
DENTAL TREATMENT (AMIS) file (#221); DATE field (#.01)
"^DD",727.806,727.806,8,23,4,0)
 
"^DD",727.806,727.806,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.806,727.806,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.806,727.806,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.806,727.806,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.806,727.806,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.806,727.806,8,"DT")
2970924
"^DD",727.806,727.806,9,0)
PROVIDER^F^^0;10^K:$L(X)>11!($L(X)<1) X
"^DD",727.806,727.806,9,.1)
Provider
"^DD",727.806,727.806,9,3)
Enter provider who saw this patient.
"^DD",727.806,727.806,9,21,0)
^^1^1^2980608^^^^
"^DD",727.806,727.806,9,21,1,0)
Provider of medical care for this patient for this extract.
"^DD",727.806,727.806,9,23,0)
^^4^4^2980608^^^^
"^DD",727.806,727.806,9,23,1,0)
Provider is derived from the DENTAL PROVIDER field (.5) in the DENTAL 
"^DD",727.806,727.806,9,23,2,0)
TREATMENT (AMIS) file. DENTAL PROVIDER is a pointer to the DENTAL 
"^DD",727.806,727.806,9,23,3,0)
PROVIDER file (#220.5). It is preceded by a 1 if it is a pointer to File 
"^DD",727.806,727.806,9,23,4,0)
16 or a 2 if it is a pointer to File 200.
"^DD",727.806,727.806,9,"DT")
2961016
"^DD",727.806,727.806,10,0)
SCREENING/COMPLETE EXAM^S^S:SCREENING;C:COMPLETE;^0;11^Q
"^DD",727.806,727.806,10,.1)
Screening/Complete Exam
"^DD",727.806,727.806,10,3)
Select S for screening or C for complete exam.
"^DD",727.806,727.806,10,21,0)
^^1^1^2960909^^^
"^DD",727.806,727.806,10,21,1,0)
Exam will be S for screening or C for complete.
"^DD",727.806,727.806,10,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,10,23,1,0)
Derived from the SCREENING/COMPLETE EXAM field (6) of the DENTAL 
"^DD",727.806,727.806,10,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,10,"DT")
2960909
"^DD",727.806,727.806,11,0)
ADMIN PROCEDURE^S^1:ADMIN PROCEDURE;^0;12^Q
"^DD",727.806,727.806,11,.1)
Admin Procedure
"^DD",727.806,727.806,11,3)
Enter 1 or A for an administrative procedure.
"^DD",727.806,727.806,11,21,0)
^^3^3^2960909^^^
"^DD",727.806,727.806,11,21,1,0)
An entry should be made in this field when a case, a service or a 
"^DD",727.806,727.806,11,21,2,0)
procedure has been administratively completed or terminated without an 
"^DD",727.806,727.806,11,21,3,0)
actual patient visit (i.e., chart review, telephone call, death, etc.).
"^DD",727.806,727.806,11,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,11,23,1,0)
Derived from the ADMIN PROCEDURE field (7) of the DENTAL TREATMENT 
"^DD",727.806,727.806,11,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,11,"DT")
2960909
"^DD",727.806,727.806,12,0)
X-RAYS EXTRAORAL #^NJ1,0^^0;13^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,12,.1)
Number of Extraoral X-Rays
"^DD",727.806,727.806,12,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,12,21,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,12,21,1,0)
Enter the number of EXTRAORAL radiographs taken on this patient for 
"^DD",727.806,727.806,12,21,2,0)
panoramic, cephalometric or other extraoral procedures.
"^DD",727.806,727.806,12,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,12,23,1,0)
Derived from the X-RAYS EXTRAORAL # field (8) of the DENTAL TREATMENT 
"^DD",727.806,727.806,12,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,12,"DT")
2960910
"^DD",727.806,727.806,13,0)
X-RAYS INTRAORAL #^NJ2,0^^0;14^K:+X'=X!(X>24)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,13,.1)
Number of Intraoral X-Rays
"^DD",727.806,727.806,13,3)
Enter a number between 0 and 24, 0 decimal digits.
"^DD",727.806,727.806,13,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,13,21,1,0)
Enter the number of INTRAORAL radiographs taken for this patient for PA, 
"^DD",727.806,727.806,13,21,2,0)
bitewing, occlusal and other intraoral procedures.
"^DD",727.806,727.806,13,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,13,23,1,0)
Derived from the X-RAYS INTRAORAL # field (10) of the DENTAL TREATMENT 
"^DD",727.806,727.806,13,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,13,"DT")
2960910
"^DD",727.806,727.806,14,0)
PROPHY NATURAL DENTITION^S^1:YES;^0;15^Q
"^DD",727.806,727.806,14,.1)
Prophy Natural Dentition
"^DD",727.806,727.806,14,3)
Enter a 1 or Y for yes.
"^DD",727.806,727.806,14,21,0)
^^3^3^2960909^^^
"^DD",727.806,727.806,14,21,1,0)
In special circumstances, when a patient is of such a difficult nature
"^DD",727.806,727.806,14,21,2,0)
that two or more appointments are needed to complete the prophylaxis,
"^DD",727.806,727.806,14,21,3,0)
credit for each treatment episode may be recorded.
"^DD",727.806,727.806,14,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,14,23,1,0)
Derived from the PROPHY NATURAL DENTITION field (11) of the DENTAL 
"^DD",727.806,727.806,14,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,14,"DT")
2960909
"^DD",727.806,727.806,15,0)
PROPHY DENTURE^S^1:YES;^0;16^Q
"^DD",727.806,727.806,15,.1)
Prophy Denture
"^DD",727.806,727.806,15,3)
Enter a 1 or Y for yes if the patient had one or more complete and/or partial removable prostheses cleaned and polished by any provider.
"^DD",727.806,727.806,15,21,0)
^^3^3^2960909^^^
"^DD",727.806,727.806,15,21,1,0)
If a patient had a prophylaxis of natural dentition and a removable
"^DD",727.806,727.806,15,21,2,0)
prosthesis cleaned on the same visit, an entry can be made for both
"^DD",727.806,727.806,15,21,3,0)
procedures.
"^DD",727.806,727.806,15,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,15,23,1,0)
Derived from the PROPHY DENTURE field (12) of the DENTAL TREATMENT 
"^DD",727.806,727.806,15,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,15,"DT")
2960909
"^DD",727.806,727.806,16,0)
OPERATING ROOM^S^1:YES;^0;17^Q
"^DD",727.806,727.806,16,.1)
Operating Room
"^DD",727.806,727.806,16,3)
Enter a 1 or Y for yes if this patient was treated in the operating room.
"^DD",727.806,727.806,16,21,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,16,21,1,0)
Patient was treated in the operating room. These cases must be credited 
"^DD",727.806,727.806,16,21,2,0)
to a dental staff provider or a dental consultant or attending.
"^DD",727.806,727.806,16,23,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,16,23,1,0)
Derived from the OPERATING ROOM field (38) of the DENTAL TREATMENT 
"^DD",727.806,727.806,16,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,16,"DT")
2960909
"^DD",727.806,727.806,17,0)
NEOPLASM CONFIRMED MALIGNANT #^NJ1,0^^0;18^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,17,.1)
Number of Neoplasm Confirmed Malignant
"^DD",727.806,727.806,17,3)
Enter a number between 0 and 2, 0 decimal digits.
"^DD",727.806,727.806,17,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,17,21,1,0)
The number of confirmed malignant neoplasms initially recognized by
"^DD",727.806,727.806,17,21,2,0)
a member of the Dental Service.
"^DD",727.806,727.806,17,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,17,23,1,0)
Derived from the NEOPLASM CONFIRMED MALIGNANT # field (14) of the DENTAL 
"^DD",727.806,727.806,17,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,17,"DT")
2960910
"^DD",727.806,727.806,18,0)
NEOPLASM REMOVED #^NJ1,0^^0;19^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,18,.1)
Number of Neoplasm Removed
"^DD",727.806,727.806,18,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,18,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,18,21,1,0)
The number of neoplasms removed including excisional biopsies.
"^DD",727.806,727.806,18,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,18,23,1,0)
Derived from the NEOPLASM REMOVED # field (15) of the DENTAL TREATMENT 
"^DD",727.806,727.806,18,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,18,"DT")
2960910
"^DD",727.806,727.806,19,0)
BIOPSY/SMEAR #^NJ1,0^^0;20^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,19,.1)
Number of Biopsies/Smears
"^DD",727.806,727.806,19,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,19,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,19,21,1,0)
The number of incisional biopsies plus the number of cytological smears
"^DD",727.806,727.806,19,21,2,0)
taken.
"^DD",727.806,727.806,19,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,19,23,1,0)
Derived from the BIOPSY/SMEAR # field (16) of the DENTAL TREATMENT 
"^DD",727.806,727.806,19,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,19,"DT")
2960910
"^DD",727.806,727.806,20,0)
FRACTURE #^NJ1,0^^0;21^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,20,.1)
Number of Fractures
"^DD",727.806,727.806,20,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,20,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,20,21,1,0)
The number of maxillofacial fractures (surgical sites or procedures)
"^DD",727.806,727.806,20,21,2,0)
reduced.
"^DD",727.806,727.806,20,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,20,23,1,0)
Derived from the FRACTURE # field (17) of the DENTAL TREATMENT (AMIS) 
"^DD",727.806,727.806,20,23,2,0)
file (#221).
"^DD",727.806,727.806,20,"DT")
2960910
"^DD",727.806,727.806,21,0)
PATIENT CATEGORY^P220.2'^DIC(220.2,^0;22^Q
"^DD",727.806,727.806,21,.1)
Patient Category
"^DD",727.806,727.806,21,3)
Select the appropriate patient category for this sitting.
"^DD",727.806,727.806,21,21,0)
^^1^1^2961021^^^^
"^DD",727.806,727.806,21,21,1,0)
The appropriate patient category for this dental sitting.
"^DD",727.806,727.806,21,23,0)
^^3^3^2961021^^^^
"^DD",727.806,727.806,21,23,1,0)
Derived from the PATIENT CATEGORY field (4.5) of the DENTAL TREATMENT 
"^DD",727.806,727.806,21,23,2,0)
(AMIS) file (#221). This field is a pointer to the DENTAL CLASSIFICATION 
"^DD",727.806,727.806,21,23,3,0)
file (#220.2).
"^DD",727.806,727.806,21,"DT")
2960909
"^DD",727.806,727.806,22,0)
OTHER SIGNIF. SURG. (CTV)^NJ2,0^^0;23^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,22,.1)
Other Signif. Surg. (CTV)
"^DD",727.806,727.806,22,3)
Enter a number between 0 and 99, 0 decimal digits.
"^DD",727.806,727.806,22,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,22,21,1,0)
The weighted value (CTV's) for the surgical procedure performed.
"^DD",727.806,727.806,22,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,22,23,1,0)
Derived from the OTHER SIGNIF. SURG. (CTV) field (19) of the DENTAL 
"^DD",727.806,727.806,22,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,22,"DT")
2960909
"^DD",727.806,727.806,23,0)
SURFACES RESTORED #^NJ2,0^^0;24^K:+X'=X!(X>24)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,23,.1)
Number of Surfaces Restored
"^DD",727.806,727.806,23,3)
Enter a number between 0 and 24, 0 decimal digits.
"^DD",727.806,727.806,23,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,23,21,1,0)
The number of surfaces restored with permanent restorative material.
"^DD",727.806,727.806,23,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,23,23,1,0)
Derived from the SURFACES RESTORED # field (21) of the DENTAL TREATMENT 
"^DD",727.806,727.806,23,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,23,"DT")
2960910
"^DD",727.806,727.806,24,0)
ROOT CANAL THERAPY #^NJ1,0^^0;25^K:+X'=X!(X>8)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,24,.1)
Number of Root Canal Therapy
"^DD",727.806,727.806,24,3)
Enter a number between 0 and 8, 0 decimal digits.
"^DD",727.806,727.806,24,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,24,21,1,0)
The number of root canals permanently filled.
"^DD",727.806,727.806,24,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,24,23,1,0)
Derived from the ROOT CANAL THERAPY # field (22) of the DENTAL TREATMENT 
"^DD",727.806,727.806,24,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,24,"DT")
2960910
"^DD",727.806,727.806,25,0)
PERIDONTAL QUADS (SURGICAL) #^NJ1,0^^0;26^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,25,.1)
Peridontal Quads (Surgical) Number
"^DD",727.806,727.806,25,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,25,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,25,21,1,0)
The number of quadrant equivalents of periodontal surgery.
"^DD",727.806,727.806,25,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,25,23,1,0)
Derived from the PERIODONTAL QUADS (SURGICAL) # field (23) of the DENTAL 
"^DD",727.806,727.806,25,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,25,"DT")
2960909
"^DD",727.806,727.806,26,0)
PERIO QUADS (ROOT PLANE) #^NJ1,0^^0;27^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,26,.1)
Number of Perio Quads (Root Plane)
"^DD",727.806,727.806,26,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,26,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,26,21,1,0)
The number of quadrant equivalents of subgingival curettage and/or
"^DD",727.806,727.806,26,21,2,0)
root planing.
"^DD",727.806,727.806,26,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,26,23,1,0)
Derived from the PERIO QUADS (ROOT PLANE) # field (24) of the DENTAL 
"^DD",727.806,727.806,26,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,26,"DT")
2960910
"^DD",727.806,727.806,27,0)
PATIENT ED (CTV)^S^0:NONE;3:INDIVIDUAL;4:GROUP;^0;28^Q
"^DD",727.806,727.806,27,.1)
Patient Ed (CTV)
"^DD",727.806,727.806,27,3)
Enter a 0 or N for none, a 3 or I for individual, or a 4 or G for group patient instruction.
"^DD",727.806,727.806,27,21,0)
^^1^1^2960909^^^^
"^DD",727.806,727.806,27,21,1,0)
The weighted value of preventive dentistry instructions.
"^DD",727.806,727.806,27,23,0)
^^3^3^2960909^^^^
"^DD",727.806,727.806,27,23,1,0)
Derived from the PATIENT ED. (CTV) field (25) of the DENTAL TREATMENT 
"^DD",727.806,727.806,27,23,2,0)
(AMIS) file (#221). Your answer must be 0 for none, 3 for individual or 
"^DD",727.806,727.806,27,23,3,0)
4 for group.
"^DD",727.806,727.806,27,"DT")
2960909
"^DD",727.806,727.806,28,0)
SPOT CHECK EXAM^S^1:STAFF;3:FEE;^0;29^Q
"^DD",727.806,727.806,28,.1)
Spot Check Exam
"^DD",727.806,727.806,28,3)
Enter a 1 or S for staff dentist or a 3 or F for fee dentist.
"^DD",727.806,727.806,28,21,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,28,21,1,0)
Spot check examination was performed on this patient by staff or a fee
"^DD",727.806,727.806,28,21,2,0)
dentist.
"^DD",727.806,727.806,28,23,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,28,23,1,0)
Derived from the SPOT CHECK EXAM field (6.7) of the DENTAL TREATMENT 
"^DD",727.806,727.806,28,23,2,0)
(AMIS) file (#221). Your answer must be 1 for staff or 3 for fee.
"^DD",727.806,727.806,28,"DT")
2960909
"^DD",727.806,727.806,29,0)
INDIVIDUAL CROWNS #^NJ2,0^^0;30^K:+X'=X!(X>28)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,29,.1)
Number of Individual Crowns
"^DD",727.806,727.806,29,3)
Enter a number between 0 and 28, 0 decimal digits.
"^DD",727.806,727.806,29,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,29,21,1,0)
The number of permanent crowns cemented.
"^DD",727.806,727.806,29,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,29,23,1,0)
Derived from the INDIVIDUAL CROWNS # field (27) of the DENTAL TREATMENT 
"^DD",727.806,727.806,29,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,29,"DT")
2960910
"^DD",727.806,727.806,30,0)
POST & CORES #^NJ2,0^^0;31^K:+X'=X!(X>28)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,30,.1)
Number of Post and Cores
"^DD",727.806,727.806,30,3)
Enter a number between 0 and 28, 0 decimal digits.
"^DD",727.806,727.806,30,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,30,21,1,0)
The number of teeth on which a post/core or overdenture coping was
"^DD",727.806,727.806,30,21,2,0)
cemented.
"^DD",727.806,727.806,30,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,30,23,1,0)
Derived from the POST & CORES # field (28) of the DENTAL TREATMENT 
"^DD",727.806,727.806,30,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,30,"DT")
2960910
"^DD",727.806,727.806,31,0)
FIXED PARTIALS (ABUT) #^NJ2,0^^0;32^K:+X'=X!(X>24)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,31,.1)
Number of Fixed Partials (Abut)
"^DD",727.806,727.806,31,3)
Enter a number between 0 and 24, 0 decimal digits.
"^DD",727.806,727.806,31,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,31,21,1,0)
The number of abut units contained in the fixed prosthesis inserted.
"^DD",727.806,727.806,31,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,31,23,1,0)
Derived from the FIXED PARTIALS (ABUT) # field (29) of the DENTAL 
"^DD",727.806,727.806,31,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,31,"DT")
2960910
"^DD",727.806,727.806,32,0)
FIXED PARTIALS (PONT ONLY) #^NJ2,0^^0;33^K:+X'=X!(X>28)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,32,.1)
Number of Fixed Partials (Pont Only)
"^DD",727.806,727.806,32,3)
Enter a number between 0 and 28, 0 decimal digits.
"^DD",727.806,727.806,32,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,32,21,1,0)
The number of PONTIC UNITS contained in the fixed prosthesis inserted.
"^DD",727.806,727.806,32,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,32,23,1,0)
Derived from the FIXED PARTIALS (PONT ONLY) # field (30) of the DENTAL 
"^DD",727.806,727.806,32,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,32,"DT")
2960910
"^DD",727.806,727.806,33,0)
REMOVABLE PARTIALS #^NJ1,0^^0;34^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,33,.1)
Number of Removable Partials
"^DD",727.806,727.806,33,3)
Enter a number between 0 and 2, 0 decimal digits.
"^DD",727.806,727.806,33,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,33,21,1,0)
The number of R.P.D.s that were delivered to the patient.
"^DD",727.806,727.806,33,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,33,23,1,0)
Derived from the REMOVABLE PARTIALS # field (31) of the DENTAL TREATMENT 
"^DD",727.806,727.806,33,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,33,"DT")
2960910
"^DD",727.806,727.806,34,0)
COMPLETE DENTURES #^NJ1,0^^0;35^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,34,.1)
Number of Complete Dentures
"^DD",727.806,727.806,34,3)
Enter a number between 0 and 2, 0 decimal digits.
"^DD",727.806,727.806,34,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,34,21,1,0)
The number of COMPLETE DENTURE units (each separate prosthesis is one
"^DD",727.806,727.806,34,21,2,0)
unit) delivered to the patient.
"^DD",727.806,727.806,34,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,34,23,1,0)
Derived from the COMPLETE DENTURES # field (32) of the DENTAL TREATMENT 
"^DD",727.806,727.806,34,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,34,"DT")
2960910
"^DD",727.806,727.806,35,0)
PROSTHETIC REPAIR #^NJ1,0^^0;36^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,35,.1)
Number of Prosthetic Repairs
"^DD",727.806,727.806,35,3)
Enter a number between 0 and 2, 0 decimal digits.
"^DD",727.806,727.806,35,21,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,35,21,1,0)
The number of removable dentures and special appliances that were 
"^DD",727.806,727.806,35,21,2,0)
repaired for this patient.
"^DD",727.806,727.806,35,22)
type a number between 0 and 2.
"^DD",727.806,727.806,35,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,35,23,1,0)
Derived from the PROSTHETIC REPAIR # field (33) of the DENTAL TREATMENT 
"^DD",727.806,727.806,35,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,35,"DT")
2960910
"^DD",727.806,727.806,36,0)
SPLINT AND SPEC. PROCESS (CTV)^NJ2,0^^0;37^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,36,.1)
Splint and Spec. Process (CTV)
"^DD",727.806,727.806,36,3)
Enter a number between 0 and 99, 0 decimal digits.
"^DD",727.806,727.806,36,21,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,36,21,1,0)
Contains the weighted values (CTV) assigned to special appliance 
"^DD",727.806,727.806,36,21,2,0)
delivered to or disposed of for the patient.
"^DD",727.806,727.806,36,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,36,23,1,0)
Derived from the SPLINTS & SPEC. PROCS. (CTV) field (34) of the DENTAL 
"^DD",727.806,727.806,36,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,36,"DT")
2960909
"^DD",727.806,727.806,37,0)
EXTRACTIONS #^NJ2,0^^0;38^K:+X'=X!(X>29)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,37,.1)
Number of Extractions
"^DD",727.806,727.806,37,3)
Enter a number between 0 and 29, 0 decimal digits.
"^DD",727.806,727.806,37,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,37,21,1,0)
The number of non-impacted (erupted) teeth extracted. These are simple 
"^DD",727.806,727.806,37,21,2,0)
extractions where no surgical techniques are involved.
"^DD",727.806,727.806,37,22)
Enter a whole # between 0-29.
"^DD",727.806,727.806,37,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,37,23,1,0)
Derived from the EXTRACTIONS # field (35) of the DENTAL TREATMENT (AMIS) 
"^DD",727.806,727.806,37,23,2,0)
file (#221).
"^DD",727.806,727.806,37,"DT")
2960910
"^DD",727.806,727.806,38,0)
SURGICAL EXTRACTIONS #^NJ1,0^^0;39^K:+X'=X!(X>6)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,38,.1)
Number of Surgical Extractions
"^DD",727.806,727.806,38,3)
Enter a number between 0 and 6 indicating the number of teeth surgically extracted.
"^DD",727.806,727.806,38,21,0)
^^3^3^2960909^^
"^DD",727.806,727.806,38,21,1,0)
This includes any type of impaction or an erupted tooth where an 
"^DD",727.806,727.806,38,21,2,0)
intentional flap is required. Also includes all post-operative care and 
"^DD",727.806,727.806,38,21,3,0)
instructions.
"^DD",727.806,727.806,38,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,38,23,1,0)
Derived from the SURGICAL EXTRACTIONS # field (36) of the DENTAL 
"^DD",727.806,727.806,38,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,38,"DT")
2960910
"^DD",727.806,727.806,39,0)
OTHER SIG TREATMENT (CTV)^NJ2,0^^0;40^K:+X'=X!(X>39)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,39,.1)
Other Significant Treatment (CTV)
"^DD",727.806,727.806,39,3)
Enter a whole number between 0 and 39 indicating the weighted values (CTV) of the procedure performed.
"^DD",727.806,727.806,39,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,39,21,1,0)
Contains weighted values for procedures (CTV).
"^DD",727.806,727.806,39,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,39,23,1,0)
Derived from the OTHER SIGNIFICANT TREAT (CTV) field (37) of the DENTAL 
"^DD",727.806,727.806,39,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,39,"DT")
2960909
"^DD",727.806,727.806,40,0)
DIVISION (STATION DIVISION)^F^^0;41^K:$L(X)>7!($L(X)<1) X
"^DD",727.806,727.806,40,.1)
Division (Station Division)
"^DD",727.806,727.806,40,3)
Answer must be 1-7 characters in length.
"^DD",727.806,727.806,40,21,0)
^^1^1^2960909^^^^
"^DD",727.806,727.806,40,21,1,0)
Contains the appropriate station number for this entry.
"^DD",727.806,727.806,40,23,0)
^^3^3^2960909^^^^
"^DD",727.806,727.806,40,23,1,0)
Derived from the STATION.DIVISION field (.3) of the DENTAL TREATMENT 
"^DD",727.806,727.806,40,23,2,0)
(AMIS) file (#221). This field matches a STATION.DIVISION field (.01) 
"^DD",727.806,727.806,40,23,3,0)
entry in the DENTAL SITE PARAMETERS file (#225).
"^DD",727.806,727.806,40,"DT")
2990517
"^DD",727.806,727.806,41,0)
COMPLETIONS/TERMINATIONS^S^2:COMPLETION;3:TERMINATION;^0;42^Q
"^DD",727.806,727.806,41,.1)
Completions/Terminations
"^DD",727.806,727.806,41,3)
Enter 2 or C for a completion, or 3 or T for a termination.
"^DD",727.806,727.806,41,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,41,21,1,0)
Contains a code indicating completion or termination of a case.
"^DD",727.806,727.806,41,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,41,23,1,0)
Derived from the COMPLETIONS/TERMINATIONS field (7.1) of the DENTAL 
"^DD",727.806,727.806,41,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,41,"DT")
2960909
"^DD",727.806,727.806,42,0)
INTERDISCIPLINARY CONSULT^S^1:INTERDISCIPLINARY CONSULT;^0;43^Q
"^DD",727.806,727.806,42,.1)
Interdisciplinary Consult
"^DD",727.806,727.806,42,3)
Enter 1 or I for Interdisciplinary consult.
"^DD",727.806,727.806,42,21,0)
^^1^1^2960910^^^^
"^DD",727.806,727.806,42,21,1,0)
Contains all consults instituted via forms 513 and 10-10m.
"^DD",727.806,727.806,42,23,0)
^^2^2^2960910^^^^
"^DD",727.806,727.806,42,23,1,0)
Derived from the INTERDISCIPLINARY CONSULT field (6.2) of the DENTAL 
"^DD",727.806,727.806,42,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,42,"DT")
2960910
"^DD",727.806,727.806,43,0)
EVALUATIONS^S^1:Evaluation;^0;44^Q
"^DD",727.806,727.806,43,.1)
Evaluations
"^DD",727.806,727.806,43,3)
Enter a 1 or an E for an evaluation.
"^DD",727.806,727.806,43,21,0)
^^1^1^2960910^^^
"^DD",727.806,727.806,43,21,1,0)
Describes the professional evaluations not to exceed one per visit.
"^DD",727.806,727.806,43,23,0)
^^2^2^2960910^^^
"^DD",727.806,727.806,43,23,1,0)
Derived from the EVALUATION field (6.4) of the DENTAL TREATMENT (AMIS) 
"^DD",727.806,727.806,43,23,2,0)
file (#221).
"^DD",727.806,727.806,43,"DT")
2960910
"^DD",727.806,727.806,44,0)
PRE AUTHORIZATION/2ND OPINION^S^2:PRE-AUTH/2ND OPINION;^0;45^Q
"^DD",727.806,727.806,44,.1)
Pre-authorization/2nd Opinion
"^DD",727.806,727.806,44,3)
Enter a 2 for a pre-authorization/second opinion exam.
"^DD",727.806,727.806,44,21,0)
^^4^4^2960910^^
"^DD",727.806,727.806,44,21,1,0)
A pre-authorization exam is performed on a fee basis patient in order
"^DD",727.806,727.806,44,21,2,0)
to determine treatment needs prior to authorization of the patient to
"^DD",727.806,727.806,44,21,3,0)
a fee-for-service provider.  A second opinion exam is performed when
"^DD",727.806,727.806,44,21,4,0)
the original estimate on a fee basis dental case exceeds $500.00.
"^DD",727.806,727.806,44,23,0)
^^2^2^2960910^^
"^DD",727.806,727.806,44,23,1,0)
Derived from the PRE AUTH/2ND OPINION EXAM field (6.6) of the DENTAL 
"^DD",727.806,727.806,44,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,44,"DT")
2960910
"^DD",727.806,727.806,45,0)
SPOT CHECK DISCREPANCY^NJ1,0^^0;46^K:+X'=X!(X>3)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,45,.1)
Spot Check Discrepancy
"^DD",727.806,727.806,45,3)
Enter a number between 0 and 3, 0 decimal digits.
"^DD",727.806,727.806,45,21,0)
^^3^3^2960910^^^
"^DD",727.806,727.806,45,21,1,0)
Indicates the category of discrepancy. 1 is a minor discrepancy only. 
"^DD",727.806,727.806,45,21,2,0)
2 is a major discrepancy, quality only. 3 is a major discrepancy, 
"^DD",727.806,727.806,45,21,3,0)
misrepresentation only.
"^DD",727.806,727.806,45,23,0)
^^2^2^2960910^^^
"^DD",727.806,727.806,45,23,1,0)
Derived from the SPOT CHECK DISCREPANCY # field (6.8) of the DENTAL 
"^DD",727.806,727.806,45,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,45,"DT")
2960910
"^DD",727.806,727.806,46,0)
MOVEMENT FILE #^P405'^DGPM(^0;47^Q
"^DD",727.806,727.806,46,.1)
Movement File Number
"^DD",727.806,727.806,46,3)
Enter the patient movement number associated with this extract record.
"^DD",727.806,727.806,46,21,0)
^^1^1^2960910^^
"^DD",727.806,727.806,46,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.806,727.806,46,23,0)
^^4^4^2960910^^
"^DD",727.806,727.806,46,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.806,727.806,46,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.806,727.806,46,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.806,727.806,46,23,4,0)
(#405).
"^DD",727.806,727.806,46,"DT")
2960910
"^DD",727.806,727.806,47,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;48^Q
"^DD",727.806,727.806,47,.1)
Treating Specialty
"^DD",727.806,727.806,47,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.806,727.806,47,21,0)
^^1^1^2960910^^^^
"^DD",727.806,727.806,47,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.806,727.806,47,23,0)
^^6^6^2990512^^^^
"^DD",727.806,727.806,47,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.806,727.806,47,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.806,727.806,47,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.806,727.806,47,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.806,727.806,47,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.806,727.806,47,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.806,727.806,47,"DT")
2960910
"^DD",727.806,727.806,48,0)
PRIMARY CARE TEAM^F^^0;49^K:$L(X)>4!($L(X)<1) X
"^DD",727.806,727.806,48,.1)
Primary Care Team
"^DD",727.806,727.806,48,3)
Enter primary care team assigned to this patient.
"^DD",727.806,727.806,48,21,0)
^^1^1^2961031^^^^
"^DD",727.806,727.806,48,21,1,0)
The primary care team assigned to this patient.
"^DD",727.806,727.806,48,23,0)
^^6^6^2961031^^
"^DD",727.806,727.806,48,23,1,0)
Using the DATE field (.01) from the DENTAL TREATMENT (AMIS) file (#221) 
"^DD",727.806,727.806,48,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.806,727.806,48,23,3,0)
in the DENTAL EXTRACT file (#727.806), a call is made to the Scheduling 
"^DD",727.806,727.806,48,23,4,0)
API, OUTPTTM^SDUTL3. The API returns the team's internal entry number 
"^DD",727.806,727.806,48,23,5,0)
and name from the TEAM file (#404.51). Only the pointer (IEN) to File 
"^DD",727.806,727.806,48,23,6,0)
404.51 is transmitted.
"^DD",727.806,727.806,48,"DT")
2961031
"^DD",727.806,727.806,49,0)
PRIMARY CARE PROVIDER^F^^0;50^K:$L(X)>11!($L(X)<1) X
"^DD",727.806,727.806,49,.1)
Primary Care Provider
"^DD",727.806,727.806,49,3)
Enter primary care provider assigned to this patient.
"^DD",727.806,727.806,49,21,0)
^^1^1^2980819^^^^
"^DD",727.806,727.806,49,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.806,727.806,49,23,0)
^^8^8^2980819^^^^
"^DD",727.806,727.806,49,23,1,0)
Using the DATE field (.01) from the DENTAL TREATMENT (AMIS) file (#221) 
"^DD",727.806,727.806,49,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.806,727.806,49,23,3,0)
in the DENTAL EXTRACT file (#727.806), a call is made to the Scheduling 
"^DD",727.806,727.806,49,23,4,0)
API, OUTPTPR^SDUTL3. The API returns the provider's internal entry 
"^DD",727.806,727.806,49,23,5,0)
number and name from the NEW PERSON file (#200). 
"^DD",727.806,727.806,49,23,6,0)
 
"^DD",727.806,727.806,49,23,7,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.806,727.806,49,23,8,0)
is "200".
"^DD",727.806,727.806,49,"DT")
2961016
"^DD",727.806,727.806,50,0)
TIME^FO^^0;51^K:$L(X)>6!($L(X)<6) X
"^DD",727.806,727.806,50,.1)
Time
"^DD",727.806,727.806,50,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.806,727.806,50,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.806,727.806,50,3)
Answer must be 6 characters in length.
"^DD",727.806,727.806,50,21,0)
^^2^2^2970918^^^^
"^DD",727.806,727.806,50,21,1,0)
A 6-character numeric string which represents the Dental 
"^DD",727.806,727.806,50,21,2,0)
procedure time.
"^DD",727.806,727.806,50,23,0)
^^6^6^2970918^^^^
"^DD",727.806,727.806,50,23,1,0)
Data source:
"^DD",727.806,727.806,50,23,2,0)
 
"^DD",727.806,727.806,50,23,3,0)
DENTAL TREATMENT (AMIS) file (#221); DATE field (#.01)
"^DD",727.806,727.806,50,23,4,0)
 
"^DD",727.806,727.806,50,23,5,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.806,727.806,50,23,6,0)
cannot be determined, then "000300" is used as default.
"^DD",727.806,727.806,50,"DT")
2970924
"^DD",727.806,727.806,51,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.806,727.806,51,3)
Answer must be 1-10 characters in length.
"^DD",727.806,727.806,51,21,0)
^^1^1^2990504^
"^DD",727.806,727.806,51,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.806,727.806,51,23,0)
^^2^2^2990504^
"^DD",727.806,727.806,51,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.806,727.806,51,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.806,727.806,51,"DT")
2990504
"^DD",727.806,727.806,52,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.806,727.806,52,3)
Answer must be 4-10 characters in length.
"^DD",727.806,727.806,52,21,0)
^^1^1^2990506^
"^DD",727.806,727.806,52,21,1,0)
The DSS Department Code for the Dental product.
"^DD",727.806,727.806,52,23,0)
^^2^2^2990506^
"^DD",727.806,727.806,52,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.806,727.806,52,23,2,0)
Field is set to null.
"^DD",727.806,727.806,52,"DT")
2990506
"^DD",727.806,727.806,53,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.806,727.806,53,3)
Answer must be 1-8 characters in length.
"^DD",727.806,727.806,53,21,0)
^^1^1^2990506^
"^DD",727.806,727.806,53,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.806,727.806,53,23,0)
^^4^4^2990506^
"^DD",727.806,727.806,53,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.806,727.806,53,23,2,0)
field will hold the Provider NPI.
"^DD",727.806,727.806,53,23,3,0)
   
"^DD",727.806,727.806,53,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.806,727.806,53,"DT")
2990506
"^DD",727.806,727.806,54,0)
PC PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.806,727.806,54,3)
Answer must be 1-8 characters in length.
"^DD",727.806,727.806,54,21,0)
^^1^1^2990506^^^
"^DD",727.806,727.806,54,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.806,727.806,54,23,0)
^^4^4^2990506^^
"^DD",727.806,727.806,54,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.806,727.806,54,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.806,727.806,54,23,3,0)
   
"^DD",727.806,727.806,54,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.806,727.806,54,"DT")
2990506
"^DD",727.806,727.806,55,0)
PC PROVIDER PERSON CLASS^F^^1;5^K:$L(X)>7!($L(X)<7) X
"^DD",727.806,727.806,55,3)
Answer must be 7 characters in length.
"^DD",727.806,727.806,55,21,0)
^^2^2^2981026^
"^DD",727.806,727.806,55,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.806,727.806,55,21,2,0)
associated with this record.
"^DD",727.806,727.806,55,23,0)
^^6^6^2981026^
"^DD",727.806,727.806,55,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.806,727.806,55,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.806,727.806,55,23,3,0)
extract record.
"^DD",727.806,727.806,55,23,4,0)
  
"^DD",727.806,727.806,55,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.806,727.806,55,23,6,0)
7 characters in length.
"^DD",727.806,727.806,55,"DT")
2981026
"^DD",727.806,727.806,56,0)
ASSOCIATE PC PROVIDER^F^^1;6^K:$L(X)>11!($L(X)<2) X
"^DD",727.806,727.806,56,3)
Answer must be 2-11 characters in length.
"^DD",727.806,727.806,56,21,0)
^^4^4^2990504^
"^DD",727.806,727.806,56,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.806,727.806,56,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.806,727.806,56,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.806,727.806,56,21,4,0)
character 2.
"^DD",727.806,727.806,56,23,0)
^^2^2^2990504^
"^DD",727.806,727.806,56,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.806,727.806,56,23,2,0)
the PCMM application.
"^DD",727.806,727.806,56,"DT")
2990504
"^DD",727.806,727.806,57,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;7^K:$L(X)>7!($L(X)<7) X
"^DD",727.806,727.806,57,3)
Answer must be 7 characters in length.
"^DD",727.806,727.806,57,21,0)
^^4^4^2990505^^
"^DD",727.806,727.806,57,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.806,727.806,57,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.806,727.806,57,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.806,727.806,57,21,4,0)
exactly 7 characters in length. 
"^DD",727.806,727.806,57,23,0)
^^3^3^2990505^^
"^DD",727.806,727.806,57,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.806,727.806,57,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.806,727.806,57,23,3,0)
PERS is the IEN from file #200.
"^DD",727.806,727.806,57,"DT")
2990504
"^DD",727.806,727.806,58,0)
ASSOCIATE PC PROVIDER NPI^F^^1;8^K:$L(X)>8!($L(X)<1) X
"^DD",727.806,727.806,58,3)
Answer must be 1-8 characters in length.
"^DD",727.806,727.806,58,21,0)
^^1^1^2990507^
"^DD",727.806,727.806,58,21,1,0)
The Associate Primary Care PRovider's National Provider Identifier.
"^DD",727.806,727.806,58,23,0)
^^2^2^2990507^
"^DD",727.806,727.806,58,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.806,727.806,58,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.806,727.806,58,"DT")
2990507
"^DD",727.806,727.806,59,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.806,727.806,59,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.806,727.806,59,21,0)
^.001^8^8^3001012^^
"^DD",727.806,727.806,59,21,1,0)
 
"^DD",727.806,727.806,59,21,2,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is
"^DD",727.806,727.806,59,21,3,0)
admitted to either a DOM, PRRTP or SAARTP at the time hospital
"^DD",727.806,727.806,59,21,4,0)
service is provided.
"^DD",727.806,727.806,59,21,5,0)
Domiciliary
"^DD",727.806,727.806,59,21,6,0)
(DOM)
"^DD",727.806,727.806,59,21,7,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.806,727.806,59,21,8,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.806,727.806,59,"DT")
3001010
"^DD",727.806,727.806,60,0)
EXTENDED OP INDICATOR^F^^1;10^K:$L(X)>4!($L(X)<1) X
"^DD",727.806,727.806,60,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.806,727.806,60,21,0)
^^1^1^3001012^
"^DD",727.806,727.806,60,21,1,0)
Indicates if a patient will become an Extended Outpatient.
"^DD",727.806,727.806,60,"DT")
3000614
"^DD",727.808,727.808,0)
FIELD^^27^28
"^DD",727.808,727.808,0,"DIK")
ECX808
"^DD",727.808,727.808,0,"DIKOLD")
ECX808
"^DD",727.808,727.808,0,"DT")
3000614
"^DD",727.808,727.808,0,"IX","AC",727.808,2)

"^DD",727.808,727.808,0,"NM","PHYSICAL MOVEMENT EXTRACT")

"^DD",727.808,727.808,0,"VRPK")
ECX
"^DD",727.808,727.808,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.808,727.808,.01,.1)
Sequence Number
"^DD",727.808,727.808,.01,1,0)
^.1^^0
"^DD",727.808,727.808,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.808,727.808,.01,21,0)
^^1^1^2960910^^^^
"^DD",727.808,727.808,.01,21,1,0)
The record number for this extract entry.
"^DD",727.808,727.808,.01,23,0)
^^1^1^2960910^^^^
"^DD",727.808,727.808,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.808,727.808,.01,"DT")
2980812
"^DD",727.808,727.808,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.808,727.808,1,.1)
Year/Month
"^DD",727.808,727.808,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.808,727.808,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.808,727.808,1,3)
Answer must be 6 characters in length.
"^DD",727.808,727.808,1,21,0)
^^2^2^2970922^^^^
"^DD",727.808,727.808,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.808,727.808,1,21,2,0)
for which this extract was performed.
"^DD",727.808,727.808,1,23,0)
^^1^1^2970922^^^^
"^DD",727.808,727.808,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.808,727.808,1,"DT")
2970924
"^DD",727.808,727.808,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.808,727.808,2,.1)
Extract Number
"^DD",727.808,727.808,2,1,0)
^.1
"^DD",727.808,727.808,2,1,1,0)
727.808^AC
"^DD",727.808,727.808,2,1,1,1)
S ^ECX(727.808,"AC",$E(X,1,30),DA)=""
"^DD",727.808,727.808,2,1,1,2)
K ^ECX(727.808,"AC",$E(X,1,30),DA)
"^DD",727.808,727.808,2,1,1,3)
DO NOT DELETE.
"^DD",727.808,727.808,2,1,1,"%D",0)
^^2^2^2961009^^
"^DD",727.808,727.808,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.808,727.808,2,1,1,"%D",2,0)
in this file.
"^DD",727.808,727.808,2,1,1,"DT")
2910802
"^DD",727.808,727.808,2,3)
Enter the extract number for this extract.
"^DD",727.808,727.808,2,21,0)
^^2^2^2960910^^^^
"^DD",727.808,727.808,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.808,727.808,2,21,2,0)
extract.
"^DD",727.808,727.808,2,23,0)
^^2^2^2960910^^^^
"^DD",727.808,727.808,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.808,727.808,2,23,2,0)
pick up the header for the mail message.
"^DD",727.808,727.808,2,"DT")
2960910
"^DD",727.808,727.808,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.808,727.808,3,.1)
Facility
"^DD",727.808,727.808,3,3)
Enter the station number where this extract was performed.
"^DD",727.808,727.808,3,21,0)
^^1^1^2961014^^^^
"^DD",727.808,727.808,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.808,727.808,3,23,0)
^^3^3^2961014^^^^
"^DD",727.808,727.808,3,23,1,0)
An indicator of the division where this event happened.  It is derived
"^DD",727.808,727.808,3,23,2,0)
from the DIVISION field (.015) of the WARD LOCATION file (#42) which
"^DD",727.808,727.808,3,23,3,0)
points to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.808,727.808,3,"DT")
2961014
"^DD",727.808,727.808,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.808,727.808,4,.1)
Patient No. - DFN
"^DD",727.808,727.808,4,3)
Enter the name of the patient for this extract record.
"^DD",727.808,727.808,4,21,0)
^^1^1^2990504^^^^
"^DD",727.808,727.808,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.808,727.808,4,23,0)
^^4^4^2990504^^^
"^DD",727.808,727.808,4,23,1,0)
Pointer to the PATIENT file (#2). This data represents the patient DFN. 
"^DD",727.808,727.808,4,23,2,0)
Using the "ATT2" or "ATT3" cross reference on the PATIENT MOVEMENT file 
"^DD",727.808,727.808,4,23,3,0)
(#405), the PATIENT NO. - DFN data is derived from the PATIENT field
"^DD",727.808,727.808,4,23,4,0)
(.03).
"^DD",727.808,727.808,4,"DT")
2961014
"^DD",727.808,727.808,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.808,727.808,5,.1)
Social Security Number
"^DD",727.808,727.808,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.808,727.808,5,21,0)
^^4^4^2990504^^^^
"^DD",727.808,727.808,5,21,1,0)
The patient's social security number.
"^DD",727.808,727.808,5,21,2,0)
 
"^DD",727.808,727.808,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.808,727.808,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.808,727.808,5,23,0)
^^6^6^2990504^^^
"^DD",727.808,727.808,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.808,727.808,5,23,2,0)
in the PHYSICAL MOVEMENT EXTRACT file (#727.808), SSN data is derived from
"^DD",727.808,727.808,5,23,3,0)
the SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.808,727.808,5,23,4,0)
 
"^DD",727.808,727.808,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.808,727.808,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.808,727.808,5,"DT")
2960911
"^DD",727.808,727.808,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.808,727.808,6,.1)
Name
"^DD",727.808,727.808,6,3)
Your answer must be 4 characters in length.
"^DD",727.808,727.808,6,21,0)
^^1^1^2961021^^^^
"^DD",727.808,727.808,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.808,727.808,6,23,0)
^^5^5^2961021^^
"^DD",727.808,727.808,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.808,727.808,6,23,2,0)
in the PHYSICAL MOVEMENT EXTRACT file (#727.808), NAME data is derived
"^DD",727.808,727.808,6,23,3,0)
from the NAME field (.01) in the PATIENT file (#2). The first four
"^DD",727.808,727.808,6,23,4,0)
characters of the first "," piece are used, padded with trailing spaces
"^DD",727.808,727.808,6,23,5,0)
if necessary.
"^DD",727.808,727.808,6,"DT")
2960911
"^DD",727.808,727.808,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.808,727.808,7,.1)
In Out Patient Indicator
"^DD",727.808,727.808,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.808,727.808,7,21,0)
^^2^2^2960911^^^^
"^DD",727.808,727.808,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.808,727.808,7,21,2,0)
this extract entry.
"^DD",727.808,727.808,7,23,0)
^^2^2^2961014^^^^
"^DD",727.808,727.808,7,23,1,0)
For the Physical Movement extract this field is set to 3, indicating 
"^DD",727.808,727.808,7,23,2,0)
inpatient status in the LOCATION TYPE file (#40.9).
"^DD",727.808,727.808,7,"DT")
2960911
"^DD",727.808,727.808,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.808,727.808,8,.1)
Day
"^DD",727.808,727.808,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,8,3)
Answer must be 8 characters in length.
"^DD",727.808,727.808,8,21,0)
^^2^2^2970922^^^^
"^DD",727.808,727.808,8,21,1,0)
This 8-character numeric string represents the date of the physical
"^DD",727.808,727.808,8,21,2,0)
movement.
"^DD",727.808,727.808,8,23,0)
^^9^9^2970923^^^^
"^DD",727.808,727.808,8,23,1,0)
Data source:
"^DD",727.808,727.808,8,23,2,0)
 
"^DD",727.808,727.808,8,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,8,23,4,0)
 
"^DD",727.808,727.808,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.808,727.808,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.808,727.808,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.808,727.808,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.808,727.808,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.808,727.808,8,"DT")
2970924
"^DD",727.808,727.808,9,0)
PRODUCT^F^^0;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.808,727.808,9,.1)
Product
"^DD",727.808,727.808,9,3)
Your answer must be 1 character in length.
"^DD",727.808,727.808,9,21,0)
^^2^2^2960911^^
"^DD",727.808,727.808,9,21,1,0)
The product or feeder key for this extract as defined by the DSS 
"^DD",727.808,727.808,9,21,2,0)
Program Office.
"^DD",727.808,727.808,9,23,0)
^^1^1^2961014^^^^
"^DD",727.808,727.808,9,23,1,0)
For the Physical Movement extract, the PRODUCT field is null.
"^DD",727.808,727.808,9,"DT")
2960911
"^DD",727.808,727.808,10,0)
ADMISSION DATE^FO^^0;11^K:$L(X)>8!($L(X)<8) X
"^DD",727.808,727.808,10,.1)
Admission Date
"^DD",727.808,727.808,10,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,10,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,10,3)
Answer must be 8 characters in length.
"^DD",727.808,727.808,10,21,0)
^^2^2^2970923^^^^
"^DD",727.808,727.808,10,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.808,727.808,10,21,2,0)
associated with this physical movement occurred.
"^DD",727.808,727.808,10,23,0)
^^10^10^2971113^^^^
"^DD",727.808,727.808,10,23,1,0)
Data source:
"^DD",727.808,727.808,10,23,2,0)
 
"^DD",727.808,727.808,10,23,3,0)
PATIENT MOVEMENT file (#405); ADMISSION/CHECK-IN MOVEMENT field (#.14)
"^DD",727.808,727.808,10,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,10,23,5,0)
 
"^DD",727.808,727.808,10,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.808,727.808,10,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.808,727.808,10,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.808,727.808,10,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.808,727.808,10,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.808,727.808,10,"DT")
2970924
"^DD",727.808,727.808,11,0)
DISCHARGE DATE^FO^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.808,727.808,11,.1)
Discharge Date
"^DD",727.808,727.808,11,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,11,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,11,3)
Answer must be 8 characters in length.
"^DD",727.808,727.808,11,21,0)
^^2^2^2990507^^^^
"^DD",727.808,727.808,11,21,1,0)
This 8-character string represents the date on which the Discharge
"^DD",727.808,727.808,11,21,2,0)
occurred for discharge-type movements.
"^DD",727.808,727.808,11,23,0)
^^8^8^2990507^^^^
"^DD",727.808,727.808,11,23,1,0)
Data source:
"^DD",727.808,727.808,11,23,2,0)
 
"^DD",727.808,727.808,11,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,11,23,4,0)
 
"^DD",727.808,727.808,11,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.808,727.808,11,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.808,727.808,11,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.808,727.808,11,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.808,727.808,11,"DT")
2970924
"^DD",727.808,727.808,12,0)
MOVEMENT FILE #^P405'^DGPM(^0;13^Q
"^DD",727.808,727.808,12,.1)
Movement File Number
"^DD",727.808,727.808,12,3)
Enter the patient movement number associated with this extract record.
"^DD",727.808,727.808,12,21,0)
^^1^1^2960911^^
"^DD",727.808,727.808,12,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.808,727.808,12,23,0)
^^3^3^2961014^^^
"^DD",727.808,727.808,12,23,1,0)
The ^DGPM("ATT2" or "ATT3",DATE,D0) cross reference is used to 
"^DD",727.808,727.808,12,23,2,0)
obtain the current movement number associated with this patient. 
"^DD",727.808,727.808,12,23,3,0)
It is a pointer to the PATIENT MOVEMENT file (#405).
"^DD",727.808,727.808,12,"DT")
2960911
"^DD",727.808,727.808,13,0)
TYPE^F^^0;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.808,727.808,13,.1)
Type
"^DD",727.808,727.808,13,3)
Your answer must be 1 character in length.
"^DD",727.808,727.808,13,21,0)
^^2^2^2960911^^^^
"^DD",727.808,727.808,13,21,1,0)
The type of movement for this patient, either transfer (2) or 
"^DD",727.808,727.808,13,21,2,0)
discharge (3).
"^DD",727.808,727.808,13,23,0)
^^2^2^2961014^^^^
"^DD",727.808,727.808,13,23,1,0)
Using the "ATT"_TYPE cross reference where TYPE=2 (transfer) or 
"^DD",727.808,727.808,13,23,2,0)
TYPE=3 (discharge).
"^DD",727.808,727.808,13,"DT")
2960911
"^DD",727.808,727.808,14,0)
LOSING WARD^P44'^SC(^0;15^Q
"^DD",727.808,727.808,14,.1)
Losing Ward
"^DD",727.808,727.808,14,3)
Enter the ward from which this patient was transferred.
"^DD",727.808,727.808,14,21,0)
^^1^1^2960911^^^^
"^DD",727.808,727.808,14,21,1,0)
The ward from which this patient was transferred.
"^DD",727.808,727.808,14,23,0)
^^4^4^2961014^^^^
"^DD",727.808,727.808,14,23,1,0)
LOSING WARD is derived from HOSPITAL LOCATION FILE POINTER field (44) of 
"^DD",727.808,727.808,14,23,2,0)
the WARD LOCATION file (#42) as pointed to by the WARD LOCATION field 
"^DD",727.808,727.808,14,23,3,0)
(.06) of the PATIENT MOVEMENT file (#405). LOSING WARD is a pointer to 
"^DD",727.808,727.808,14,23,4,0)
the HOSPITAL LOCATION file (#44).
"^DD",727.808,727.808,14,"DT")
2960911
"^DD",727.808,727.808,15,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;16^Q
"^DD",727.808,727.808,15,.1)
Treating Specialty
"^DD",727.808,727.808,15,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.808,727.808,15,21,0)
^^1^1^2960911^^^^
"^DD",727.808,727.808,15,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.808,727.808,15,23,0)
^^1^1^2961015^^^^
"^DD",727.808,727.808,15,23,1,0)
For the Physical Movement extract, the TREATING SPECIALTY field is null.
"^DD",727.808,727.808,15,"DT")
2960911
"^DD",727.808,727.808,16,0)
LOSING WARD LOS^NJ4,0^^0;17^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.808,727.808,16,.1)
Losing Ward LOS
"^DD",727.808,727.808,16,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",727.808,727.808,16,21,0)
^^1^1^2980120^^^^
"^DD",727.808,727.808,16,21,1,0)
Length of stay on losing ward.
"^DD",727.808,727.808,16,23,0)
^^8^8^2980120^^^^
"^DD",727.808,727.808,16,23,1,0)
Calculated as current movement date minus the date (DATE/TIME 
"^DD",727.808,727.808,16,23,2,0)
field (#.01) of the PATIENT MOVEMENT file (#405)) of the previous
"^DD",727.808,727.808,16,23,3,0)
physical movement.
"^DD",727.808,727.808,16,23,4,0)
OR 
"^DD",727.808,727.808,16,23,5,0)
Calculated as current movement date minus the date (DATE/TIME
"^DD",727.808,727.808,16,23,6,0)
field (#.01) of the PATIENT MOVEMENT file (#405) record pointed
"^DD",727.808,727.808,16,23,7,0)
to by the ADMISSION/CHECK-IN MOVEMENT field (#.14) of the 
"^DD",727.808,727.808,16,23,8,0)
current movement record.
"^DD",727.808,727.808,16,"DT")
2980120
"^DD",727.808,727.808,17,0)
PLACEHOLDER1^F^^0;18^K:$L(X)>11!($L(X)<1) X
"^DD",727.808,727.808,17,.1)
Placeholder1
"^DD",727.808,727.808,17,3)

"^DD",727.808,727.808,17,21,0)
^^1^1^2980120^^^^
"^DD",727.808,727.808,17,21,1,0)
A placeholder.
"^DD",727.808,727.808,17,23,0)
^^1^1^2980120^^^^
"^DD",727.808,727.808,17,23,1,0)
For future development; always set to null.
"^DD",727.808,727.808,17,"DT")
2980120
"^DD",727.808,727.808,18,0)
MOVEMENT TYPE^P405.2'^DG(405.2,^0;19^Q
"^DD",727.808,727.808,18,.1)
Movement Type
"^DD",727.808,727.808,18,3)
Enter the patient movement type associated with this extract record.
"^DD",727.808,727.808,18,21,0)
^^1^1^2970723^^^^
"^DD",727.808,727.808,18,21,1,0)
THE MAS movement type for this movement.
"^DD",727.808,727.808,18,23,0)
^^3^3^2970723^^^^
"^DD",727.808,727.808,18,23,1,0)
MOVEMENT TYPE is derived from the MAS MOVEMENT TYPE field (.18) of 
"^DD",727.808,727.808,18,23,2,0)
the PATIENT MOVEMENT file (#405). It is a pointer to the MAS MOVEMENT 
"^DD",727.808,727.808,18,23,3,0)
TYPE file (#405.2).
"^DD",727.808,727.808,18,"DT")
2960911
"^DD",727.808,727.808,19,0)
MOV TIME^FO^^0;20^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.808,727.808,19,.1)
MOV Time
"^DD",727.808,727.808,19,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.808,727.808,19,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.808,727.808,19,3)
Answer must be 6 characters in length.
"^DD",727.808,727.808,19,21,0)
^^2^2^2970922^^^^
"^DD",727.808,727.808,19,21,1,0)
This 6-character numeric string represents the time of day at
"^DD",727.808,727.808,19,21,2,0)
which the physical movement occurred.
"^DD",727.808,727.808,19,23,0)
^^6^6^2970923^^^^
"^DD",727.808,727.808,19,23,1,0)
Data source:
"^DD",727.808,727.808,19,23,2,0)
 
"^DD",727.808,727.808,19,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,19,23,4,0)
 
"^DD",727.808,727.808,19,23,5,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.808,727.808,19,23,6,0)
cannot be determined, then "000300" is used as default.
"^DD",727.808,727.808,19,"DT")
2970924
"^DD",727.808,727.808,20,0)
GAINING WARD^P44'^SC(^0;21^Q
"^DD",727.808,727.808,20,.1)
Gaining Ward
"^DD",727.808,727.808,20,3)
Enter the ward to which this patient was moved.
"^DD",727.808,727.808,20,21,0)
^^2^2^2961014^^^
"^DD",727.808,727.808,20,21,1,0)
The ward to which this patient was moved. This is null for discharge 
"^DD",727.808,727.808,20,21,2,0)
type movements.
"^DD",727.808,727.808,20,23,0)
^^4^4^2961014^^^
"^DD",727.808,727.808,20,23,1,0)
GAINING WARD is derived from the HOSPITAL LOCATION FILE POINTER field 
"^DD",727.808,727.808,20,23,2,0)
(44) of the WARD LOCATION file (#42) as pointed to by the WARD LOCATION 
"^DD",727.808,727.808,20,23,3,0)
field (.06) of the PATIENT MOVEMENT file (#405). GAINING WARD is a 
"^DD",727.808,727.808,20,23,4,0)
pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.808,727.808,20,"DT")
2960911
"^DD",727.808,727.808,21,0)
ADMISSION TIME^FO^^0;22^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.808,727.808,21,.1)
Admission Time
"^DD",727.808,727.808,21,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.808,727.808,21,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.808,727.808,21,3)
Answer must be 6 characters in length.
"^DD",727.808,727.808,21,21,0)
^^2^2^2970922^^^^
"^DD",727.808,727.808,21,21,1,0)
A 6-character numeric string which represents the time of day at
"^DD",727.808,727.808,21,21,2,0)
which the admission associated with the physical movement occurred.
"^DD",727.808,727.808,21,23,0)
^^7^7^2971113^^^^
"^DD",727.808,727.808,21,23,1,0)
Data source:
"^DD",727.808,727.808,21,23,2,0)
 
"^DD",727.808,727.808,21,23,3,0)
PATIENT MOVEMENT file (#405); ADMISSION/CHECK-IN MOVEMENT field (#.14)
"^DD",727.808,727.808,21,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,21,23,5,0)
 
"^DD",727.808,727.808,21,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.808,727.808,21,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.808,727.808,21,"DT")
2970924
"^DD",727.808,727.808,22,0)
PLACEHOLDER2^F^^0;23^K:$L(X)>11!($L(X)<1) X
"^DD",727.808,727.808,22,.1)
Placeholder2
"^DD",727.808,727.808,22,3)
Answer must be 1-11 characters in length.
"^DD",727.808,727.808,22,21,0)
^^1^1^2980120^^
"^DD",727.808,727.808,22,21,1,0)
A placeholder.
"^DD",727.808,727.808,22,23,0)
^^1^1^2980120^^
"^DD",727.808,727.808,22,23,1,0)
For future development; always set to null.
"^DD",727.808,727.808,22,"DT")
2980120
"^DD",727.808,727.808,23,0)
PLACEHOLDER3^F^^0;24^K:$L(X)>11!($L(X)<1) X
"^DD",727.808,727.808,23,.1)
Placeholder3
"^DD",727.808,727.808,23,3)
Answer must be 1-11 characters in length.
"^DD",727.808,727.808,23,21,0)
^^1^1^2980120^^
"^DD",727.808,727.808,23,21,1,0)
To be used for future development; currently set to null.
"^DD",727.808,727.808,23,23,0)
^^1^1^2980120^^
"^DD",727.808,727.808,23,23,1,0)
For future development; always set to null.
"^DD",727.808,727.808,23,"DT")
2980120
"^DD",727.808,727.808,24,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.808,727.808,24,3)
Answer must be 1-10 characters in length.
"^DD",727.808,727.808,24,21,0)
^^1^1^2990504^
"^DD",727.808,727.808,24,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.808,727.808,24,23,0)
^^2^2^2990504^
"^DD",727.808,727.808,24,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.808,727.808,24,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.808,727.808,24,"DT")
2990504
"^DD",727.808,727.808,25,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.808,727.808,25,3)
Answer must be 4-10 characters in length.
"^DD",727.808,727.808,25,21,0)
^^2^2^2990510^^^^
"^DD",727.808,727.808,25,21,1,0)
The DSS Department code for the Losing Ward.  Must contain at least
"^DD",727.808,727.808,25,21,2,0)
four characters to be a valid code.
"^DD",727.808,727.808,25,23,0)
^^15^15^2990510^^
"^DD",727.808,727.808,25,23,1,0)
The DSS Department code for the ward associated with the physical
"^DD",727.808,727.808,25,23,2,0)
movement record.  This code is found in the DSS WARD file (#727.4)
"^DD",727.808,727.808,25,23,3,0)
using the value of the WARD LOCATION field (#.06) of the PATIENT
"^DD",727.808,727.808,25,23,4,0)
MOVEMENT file (#405) record for the patient's admission movement.
"^DD",727.808,727.808,25,23,5,0)
The value found in WARD LOCATION is a pointer to the WARD LOCATION
"^DD",727.808,727.808,25,23,6,0)
file (#42).
"^DD",727.808,727.808,25,23,7,0)
 
"^DD",727.808,727.808,25,23,8,0)
Each record in file #727.4 has a #.01 field which points to a record
"^DD",727.808,727.808,25,23,9,0)
in file #42, and the internal entry number of the file #727.4 is set
"^DD",727.808,727.808,25,23,10,0)
to be the same as the record in file #42 to which it points.  Therefore,
"^DD",727.808,727.808,25,23,11,0)
the WARD LOCATION field (#.06) can be used as a pointer to file #727.4
"^DD",727.808,727.808,25,23,12,0)
as well.
"^DD",727.808,727.808,25,23,13,0)
  
"^DD",727.808,727.808,25,23,14,0)
Data for this field is taken from the DSS DEPARTMENT field (#1) of
"^DD",727.808,727.808,25,23,15,0)
the file #727.4 record for the Losing Ward.
"^DD",727.808,727.808,25,"DT")
2980708
"^DD",727.808,727.808,26,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;3^K:$L(X)>1!($L(X)<1) X
"^DD",727.808,727.808,26,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.808,727.808,26,21,0)
^^6^6^3001106^
"^DD",727.808,727.808,26,21,1,0)
Indicates if a patient is admitted to a a DOM, PRRTP, or a
"^DD",727.808,727.808,26,21,2,0)
SARRTP at the time that the hospital service is provided. 
"^DD",727.808,727.808,26,21,3,0)
Domiciliary
"^DD",727.808,727.808,26,21,4,0)
(DOM)
"^DD",727.808,727.808,26,21,5,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.808,727.808,26,21,6,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.808,727.808,26,"DT")
3001010
"^DD",727.808,727.808,27,0)
EXTENDED OP INDICATOR^F^^1;4^K:$L(X)>4!($L(X)<1) X
"^DD",727.808,727.808,27,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.808,727.808,27,21,0)
^^1^1^3001011^
"^DD",727.808,727.808,27,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.808,727.808,27,"DT")
3000614
"^DD",727.809,727.809,0)
FIELD^^26^27
"^DD",727.809,727.809,0,"DDA")
N
"^DD",727.809,727.809,0,"DIK")
ECX809
"^DD",727.809,727.809,0,"DIKOLD")
ECX809
"^DD",727.809,727.809,0,"DT")
3000614
"^DD",727.809,727.809,0,"IX","AC",727.809,2)

"^DD",727.809,727.809,0,"NM","UNIT DOSE LOCAL EXTRACT")

"^DD",727.809,727.809,0,"VRPK")
ECX
"^DD",727.809,727.809,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.809,727.809,.01,.1)
Sequence Number
"^DD",727.809,727.809,.01,1,0)
^.1^^0
"^DD",727.809,727.809,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.809,727.809,.01,21,0)
^^1^1^2960913^^^^
"^DD",727.809,727.809,.01,21,1,0)
The record number for this extract entry.
"^DD",727.809,727.809,.01,23,0)
^^1^1^2960913^^^
"^DD",727.809,727.809,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.809,727.809,.01,"DT")
2980812
"^DD",727.809,727.809,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.809,727.809,1,.1)
Year/Month
"^DD",727.809,727.809,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.809,727.809,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.809,727.809,1,3)
Answer must be 6 characters in length.
"^DD",727.809,727.809,1,21,0)
^^2^2^2970922^^^^
"^DD",727.809,727.809,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.809,727.809,1,21,2,0)
for which this extract was performed.
"^DD",727.809,727.809,1,23,0)
^^1^1^2970922^^^^
"^DD",727.809,727.809,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.809,727.809,1,"DT")
2970924
"^DD",727.809,727.809,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.809,727.809,2,.1)
Extract Number
"^DD",727.809,727.809,2,1,0)
^.1
"^DD",727.809,727.809,2,1,1,0)
727.809^AC
"^DD",727.809,727.809,2,1,1,1)
S ^ECX(727.809,"AC",$E(X,1,30),DA)=""
"^DD",727.809,727.809,2,1,1,2)
K ^ECX(727.809,"AC",$E(X,1,30),DA)
"^DD",727.809,727.809,2,1,1,3)
DO NOT DELETE.
"^DD",727.809,727.809,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.809,727.809,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.809,727.809,2,1,1,"%D",2,0)
in this file.
"^DD",727.809,727.809,2,1,1,"DT")
2910802
"^DD",727.809,727.809,2,3)
Enter the extract number for this extract.
"^DD",727.809,727.809,2,21,0)
^^2^2^2960913^^^^
"^DD",727.809,727.809,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.809,727.809,2,21,2,0)
extract.
"^DD",727.809,727.809,2,23,0)
^^2^2^2960913^^^^
"^DD",727.809,727.809,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.809,727.809,2,23,2,0)
pick up the header for the mail message.
"^DD",727.809,727.809,2,"DT")
2960913
"^DD",727.809,727.809,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.809,727.809,3,.1)
Facility
"^DD",727.809,727.809,3,3)
Enter the station number where this extract was performed.
"^DD",727.809,727.809,3,21,0)
^^1^1^2960913^^^^
"^DD",727.809,727.809,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.809,727.809,3,23,0)
^^3^3^2960913^^^^
"^DD",727.809,727.809,3,23,1,0)
An indicator of the division where this event happened. It is derived
"^DD",727.809,727.809,3,23,2,0)
from the DIVISION field (.015) of the WARD LOCATION file (#42) which
"^DD",727.809,727.809,3,23,3,0)
points to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.809,727.809,3,"DT")
2961018
"^DD",727.809,727.809,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.809,727.809,4,.1)
Patient No. - DFN
"^DD",727.809,727.809,4,3)
Enter the name of the patient for this extract record.
"^DD",727.809,727.809,4,21,0)
^^1^1^2990504^^^^
"^DD",727.809,727.809,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.809,727.809,4,23,0)
^^3^3^2990504^^^^
"^DD",727.809,727.809,4,23,1,0)
Pointer to the NAME field (.01) of the PATIENT file (#2). PATIENT NO. -
"^DD",727.809,727.809,4,23,2,0)
DFN data is derived from the DFN field (1) of the UNIT DOSE EXTRACT 
"^DD",727.809,727.809,4,23,3,0)
DATA file (#728.904).
"^DD",727.809,727.809,4,"DT")
2961018
"^DD",727.809,727.809,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.809,727.809,5,.1)
Social Security Number
"^DD",727.809,727.809,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.809,727.809,5,21,0)
^^4^4^2990504^^^^
"^DD",727.809,727.809,5,21,1,0)
The patient's social security number.
"^DD",727.809,727.809,5,21,2,0)
 
"^DD",727.809,727.809,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.809,727.809,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.809,727.809,5,23,0)
^^6^6^2990504^^^^
"^DD",727.809,727.809,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.809,727.809,5,23,2,0)
in the UNIT DOSE LOCAL EXTRACT file (#727.809), SSN data is derived from
"^DD",727.809,727.809,5,23,3,0)
the SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.809,727.809,5,23,4,0)
 
"^DD",727.809,727.809,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.809,727.809,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.809,727.809,5,"DT")
2960913
"^DD",727.809,727.809,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.809,727.809,6,.1)
Name
"^DD",727.809,727.809,6,3)
Your answer must be 4 characters in length.
"^DD",727.809,727.809,6,21,0)
^^1^1^2961021^^^^
"^DD",727.809,727.809,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.809,727.809,6,23,0)
^^4^4^2961021^^
"^DD",727.809,727.809,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.809,727.809,6,23,2,0)
in the UNIT DOSE LOCAL EXTRACT file (#727.809), NAME data is derived from
"^DD",727.809,727.809,6,23,3,0)
the NAME field (.01) in the PATIENT file (#2). The first four characters
"^DD",727.809,727.809,6,23,4,0)
of the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.809,727.809,6,"DT")
2960913
"^DD",727.809,727.809,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.809,727.809,7,.1)
In Out Patient Indicator
"^DD",727.809,727.809,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.809,727.809,7,21,0)
^^2^2^2960913^^^^
"^DD",727.809,727.809,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.809,727.809,7,21,2,0)
extract entry.
"^DD",727.809,727.809,7,23,0)
^^2^2^2960913^^^
"^DD",727.809,727.809,7,23,1,0)
For the Unit Dose Local extract this field is set to 3, indicating 
"^DD",727.809,727.809,7,23,2,0)
inpatient status in the LOCATION TYPE file (#40.9).
"^DD",727.809,727.809,7,"DT")
2960913
"^DD",727.809,727.809,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.809,727.809,8,.1)
Day
"^DD",727.809,727.809,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.809,727.809,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.809,727.809,8,3)
Answer must be 8 characters in length.
"^DD",727.809,727.809,8,21,0)
^^2^2^2970922^^^^
"^DD",727.809,727.809,8,21,1,0)
This 8-character string represents the date on which the Unit Dose 
"^DD",727.809,727.809,8,21,2,0)
event (dispense or return) occurred.
"^DD",727.809,727.809,8,23,0)
^^15^15^2970923^^^^
"^DD",727.809,727.809,8,23,1,0)
Data source:
"^DD",727.809,727.809,8,23,2,0)
 
"^DD",727.809,727.809,8,23,3,0)
(1) UNIT DOSE EXTRACT DATA file (#728.904); DATE field (#2)
"^DD",727.809,727.809,8,23,4,0)
Data is inserted in this field by Pharmacy routines PSGPLF and
"^DD",727.809,727.809,8,23,5,0)
PSGAMSA; these routines derive the data from --
"^DD",727.809,727.809,8,23,6,0)
(2) UNIT DOSE PICK LIST STATS file (#57.6); DATE field (#.01)
"^DD",727.809,727.809,8,23,7,0)
    PICK LIST file (#53.5); START DATE/TIME field (#.03)
"^DD",727.809,727.809,8,23,8,0)
    or
"^DD",727.809,727.809,8,23,9,0)
    DT (i.e., FileMan variable for Today's Date)
"^DD",727.809,727.809,8,23,10,0)
 
"^DD",727.809,727.809,8,23,11,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.809,727.809,8,23,12,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.809,727.809,8,23,13,0)
then a default is used.  The default date value is the value of the 
"^DD",727.809,727.809,8,23,14,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.809,727.809,8,23,15,0)
Year 2000 compliant per vendor.
"^DD",727.809,727.809,8,"DT")
2970924
"^DD",727.809,727.809,9,0)
VA DRUG CLASSIFICATION^F^^0;10^K:$L(X)>5!($L(X)<5) X
"^DD",727.809,727.809,9,.1)
VA Drug Classification
"^DD",727.809,727.809,9,3)
Your answer must be 5 characters in length.
"^DD",727.809,727.809,9,21,0)
^^1^1^2990510^^^^
"^DD",727.809,727.809,9,21,1,0)
The VA Drug Classification for the item in this order.
"^DD",727.809,727.809,9,23,0)
^^3^3^2990510^^^^
"^DD",727.809,727.809,9,23,1,0)
Derived from the VA CLASSIFICATION field (#2) in the DRUG file (#50) 
"^DD",727.809,727.809,9,23,2,0)
for the drug identified by the DRUG field (#3) in the UNIT DOSE EXTRACT 
"^DD",727.809,727.809,9,23,3,0)
DATA file (#728.904).
"^DD",727.809,727.809,9,"DT")
2960913
"^DD",727.809,727.809,10,0)
QUANTITY^NJ8,2^^0;11^K:+X'=X!(X>10000)!(X<0)!(X?.E1"."3N.N) X
"^DD",727.809,727.809,10,.1)
Quantity
"^DD",727.809,727.809,10,3)
Enter a number between 0 and 10000, 2 decimal digits.
"^DD",727.809,727.809,10,21,0)
^^1^1^2960913^^^^
"^DD",727.809,727.809,10,21,1,0)
Quantity dispensed.
"^DD",727.809,727.809,10,23,0)
^^2^2^2960913^^^^
"^DD",727.809,727.809,10,23,1,0)
QUANTITY is derived from the QUANTITY field (4) of the UNIT DOSE EXTRACT 
"^DD",727.809,727.809,10,23,2,0)
DATA file (#728.904).
"^DD",727.809,727.809,10,"DT")
2960913
"^DD",727.809,727.809,11,0)
WARD^P44'^SC(^0;12^Q
"^DD",727.809,727.809,11,.1)
Ward
"^DD",727.809,727.809,11,3)
Enter the ward location for this patient.
"^DD",727.809,727.809,11,21,0)
^^1^1^2960913^^
"^DD",727.809,727.809,11,21,1,0)
This is the location of the patient when he received the medication.
"^DD",727.809,727.809,11,23,0)
^^5^5^2960913^^^
"^DD",727.809,727.809,11,23,1,0)
Ward is derived from the WARD field (5) in the UNIT DOSE EXTRACT DATA 
"^DD",727.809,727.809,11,23,2,0)
file (#728.904) which is a pointer to the WARD LOCATION file (#42). 
"^DD",727.809,727.809,11,23,3,0)
Using the ward pointer, the data is derived from the HOSPITAL LOCATION 
"^DD",727.809,727.809,11,23,4,0)
FILE POINTER field (44) in the WARD LOCATION file (#42) which is a 
"^DD",727.809,727.809,11,23,5,0)
pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.809,727.809,11,"DT")
2960913
"^DD",727.809,727.809,12,0)
PROVIDER^F^^0;13^K:$L(X)>11!($L(X)<1) X
"^DD",727.809,727.809,12,.1)
Provider
"^DD",727.809,727.809,12,3)
Enter provider assigned to this patient.
"^DD",727.809,727.809,12,21,0)
^^1^1^2980608^^^^
"^DD",727.809,727.809,12,21,1,0)
The provider assigned to this patient.
"^DD",727.809,727.809,12,23,0)
^^3^3^2980608^^^^
"^DD",727.809,727.809,12,23,1,0)
PROVIDER data is derived from the PROVIDER field (6) of the UNIT DOSE 
"^DD",727.809,727.809,12,23,2,0)
EXTRACT DATA file (#728.904). It is a pointer to the NEW PERSON file 
"^DD",727.809,727.809,12,23,3,0)
(#200). This data is stored as "2"_pointer value.
"^DD",727.809,727.809,12,"DT")
2961018
"^DD",727.809,727.809,13,0)
COST^NJ8,2^^0;14^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",727.809,727.809,13,.1)
Cost
"^DD",727.809,727.809,13,3)
Enter a dollar amount between 0 and 10000, 2 decimal digits.
"^DD",727.809,727.809,13,21,0)
^^1^1^2990510^^^^
"^DD",727.809,727.809,13,21,1,0)
Cost of drug dispensed for this patient.
"^DD",727.809,727.809,13,23,0)
^^2^2^2990510^^^^
"^DD",727.809,727.809,13,23,1,0)
COST data is derived from the TOTAL COST field (7) of the UNIT DOSE 
"^DD",727.809,727.809,13,23,2,0)
EXTRACT DATA file (#728.904).
"^DD",727.809,727.809,13,"DT")
2960913
"^DD",727.809,727.809,14,0)
MOVEMENT FILE #^P405'^DGPM(^0;15^Q
"^DD",727.809,727.809,14,.1)
Movement File Number
"^DD",727.809,727.809,14,3)
Enter the patient movement number associated with this extract record.
"^DD",727.809,727.809,14,21,0)
^^1^1^2960913^^
"^DD",727.809,727.809,14,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.809,727.809,14,23,0)
^^4^4^2960913^^
"^DD",727.809,727.809,14,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.809,727.809,14,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.809,727.809,14,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.809,727.809,14,23,4,0)
(#405).
"^DD",727.809,727.809,14,"DT")
2960913
"^DD",727.809,727.809,15,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;16^Q
"^DD",727.809,727.809,15,.1)
Treating Specialty
"^DD",727.809,727.809,15,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.809,727.809,15,21,0)
^^1^1^2960913^^^
"^DD",727.809,727.809,15,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.809,727.809,15,23,0)
^^6^6^2960913^^^
"^DD",727.809,727.809,15,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.809,727.809,15,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.809,727.809,15,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.809,727.809,15,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.809,727.809,15,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.809,727.809,15,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.809,727.809,15,"DT")
2960913
"^DD",727.809,727.809,16,0)
NDC^F^^0;17^K:$L(X)>15!($L(X)<1) X
"^DD",727.809,727.809,16,.1)
National Drug Code
"^DD",727.809,727.809,16,3)
Your answer must be 1 to 15 characters in length.
"^DD",727.809,727.809,16,21,0)
^^1^1^2990510^^^
"^DD",727.809,727.809,16,21,1,0)
This is the National Drug Code for the drug/supply item in this order.
"^DD",727.809,727.809,16,23,0)
^^3^3^2990510^^^^
"^DD",727.809,727.809,16,23,1,0)
Derived from the NDC field (#31) in the DRUG file (#50) for the drug 
"^DD",727.809,727.809,16,23,2,0)
identified by the DRUG field (#3) in the UNIT DOSE EXTRACT DATA file 
"^DD",727.809,727.809,16,23,3,0)
(#728.904).
"^DD",727.809,727.809,16,"DT")
2960913
"^DD",727.809,727.809,17,0)
NEW FEEDER KEY^F^^0;18^K:$L(X)>19!($L(X)<17) X
"^DD",727.809,727.809,17,.1)
New Feeder Key
"^DD",727.809,727.809,17,3)
Answer must be 17-19 characters in length.
"^DD",727.809,727.809,17,21,0)
^^5^5^2990510^^^^
"^DD",727.809,727.809,17,21,1,0)
The Feeder Key for the drug in this record.  The format of the Feeder Key
"^DD",727.809,727.809,17,21,2,0)
depends on the version of NATIONAL DRUG FILE installed at the site.  If the
"^DD",727.809,727.809,17,21,3,0)
site is running NDF v4.0 (or later), the Feeder Key has a 17-digit format.
"^DD",727.809,727.809,17,21,4,0)
If the site is running an earlier version of NDF, then the Feeder Key has
"^DD",727.809,727.809,17,21,5,0)
a 19-digit format.
"^DD",727.809,727.809,17,23,0)
^^20^20^2990510^^^^
"^DD",727.809,727.809,17,23,1,0)
NEW FEEDER KEY is derived for the drug identified by the DRUG field 
"^DD",727.809,727.809,17,23,2,0)
(#6) in the PRESCRIPTION file (#52), which is a pointer to the DRUG
"^DD",727.809,727.809,17,23,3,0)
file (#50).
"^DD",727.809,727.809,17,23,4,0)
  
"^DD",727.809,727.809,17,23,5,0)
If the sites is running a version of NDF prior to NDF v4.0:
"^DD",727.809,727.809,17,23,6,0)
The NATIONAL DRUG FILE ENTRY field (#20) from the DRUG file (#50),
"^DD",727.809,727.809,17,23,7,0)
which is a pointer to the NATIONAL DRUG file (#50.6), is padded to
"^DD",727.809,727.809,17,23,8,0)
4 digits.  The PSNDF VA PRODUCT NAME ENTRY field (#22) from the 
"^DD",727.809,727.809,17,23,9,0)
DRUG file (#50), which is a pointer to the VA Product Name in the
"^DD",727.809,727.809,17,23,10,0)
NATIONAL DRUG file (#50.6), is padded to 3 digits. These two data
"^DD",727.809,727.809,17,23,11,0)
elements are concatenated together to form a 7-digit string.
"^DD",727.809,727.809,17,23,12,0)
This is concatenated with a 12-digit code derived from the NDC field
"^DD",727.809,727.809,17,23,13,0)
(#31) from the DRUG file (#50) to form a 19-digit Feeder Key.
"^DD",727.809,727.809,17,23,14,0)
  
"^DD",727.809,727.809,17,23,15,0)
If the site is running NDF v4.0 (or later):
"^DD",727.809,727.809,17,23,16,0)
The PSNDF VA PRODUCT NAME ENTRY field (#22) from the DRUG file (#50), 
"^DD",727.809,727.809,17,23,17,0)
which is a pointer to the VA PRODUCT file (#50.68) is padded to 5
"^DD",727.809,727.809,17,23,18,0)
digits.  This is concatenated with a 12-digit code derived from the
"^DD",727.809,727.809,17,23,19,0)
NDC field (#31) from the DRUG file (#50) to form a 17-digit Feeder
"^DD",727.809,727.809,17,23,20,0)
Key.
"^DD",727.809,727.809,17,"DT")
2990510
"^DD",727.809,727.809,18,0)
INVESTIGATIONAL^S^I:INVESTIGATIONAL;^0;19^Q
"^DD",727.809,727.809,18,.1)
Investigational
"^DD",727.809,727.809,18,3)
Enter I if the drug is investigational.
"^DD",727.809,727.809,18,21,0)
^^2^2^2960913^^
"^DD",727.809,727.809,18,21,1,0)
This field contains the letter I if the drug in this record is 
"^DD",727.809,727.809,18,21,2,0)
investigational. Otherwise it is null.
"^DD",727.809,727.809,18,23,0)
^^2^2^2960913^^
"^DD",727.809,727.809,18,23,1,0)
Derived from the DEA, SPECIAL HDLG field (3) in the DRUG file (#50).
"^DD",727.809,727.809,18,23,2,0)
If the DEA, SPECIAL HDLG field contains an I, this field is set to I.
"^DD",727.809,727.809,18,"DT")
2960913
"^DD",727.809,727.809,19,0)
UDP TIME^FO^^0;20^K:$L(X)>6!($L(X)<6) X
"^DD",727.809,727.809,19,.1)
UDP Time
"^DD",727.809,727.809,19,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.809,727.809,19,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.809,727.809,19,3)
Answer must be 6 characters in length.
"^DD",727.809,727.809,19,21,0)
^^1^1^2970918^^^^
"^DD",727.809,727.809,19,21,1,0)
A 6-character numeric string representing a time data element.
"^DD",727.809,727.809,19,23,0)
^^15^15^2970918^^^^
"^DD",727.809,727.809,19,23,1,0)
Data source:
"^DD",727.809,727.809,19,23,2,0)
 
"^DD",727.809,727.809,19,23,3,0)
(1) UNIT DOSE EXTRACT DATA file (#728.904); DATE field (#2)
"^DD",727.809,727.809,19,23,4,0)
Data is inserted in this field by Pharmacy routines PSGPLF and
"^DD",727.809,727.809,19,23,5,0)
PSGAMSA; these routines derive the data from --
"^DD",727.809,727.809,19,23,6,0)
(2) UNIT DOSE PICK LIST STATS file (#57.6); DATE field (#.01)
"^DD",727.809,727.809,19,23,7,0)
    PICK LIST file (#53.5); START DATE/TIME field (#.03)
"^DD",727.809,727.809,19,23,8,0)
    where only the 1st "." piece (date) is used.
"^DD",727.809,727.809,19,23,9,0)
    or
"^DD",727.809,727.809,19,23,10,0)
    DT (i.e., FileMan variable for Today's Date)
"^DD",727.809,727.809,19,23,11,0)
 
"^DD",727.809,727.809,19,23,12,0)
The source for this data element does NOT provide any time information;
"^DD",727.809,727.809,19,23,13,0)
only date is provided.  Consequently, the UDP TIME field is always
"^DD",727.809,727.809,19,23,14,0)
set to "000000".
"^DD",727.809,727.809,19,23,15,0)
 
"^DD",727.809,727.809,19,"DT")
2970924
"^DD",727.809,727.809,20,0)
ADMISSION DATE^FO^^0;21^K:$L(X)>8!($L(X)<8) X
"^DD",727.809,727.809,20,.1)
Admission Date
"^DD",727.809,727.809,20,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.809,727.809,20,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.809,727.809,20,3)
Answer must be 8 characters in length.
"^DD",727.809,727.809,20,21,0)
^^2^2^2970922^^^^
"^DD",727.809,727.809,20,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.809,727.809,20,21,2,0)
associated with this Unit Dose event occurred.
"^DD",727.809,727.809,20,23,0)
^^10^10^2971113^^^^
"^DD",727.809,727.809,20,23,1,0)
Data source:
"^DD",727.809,727.809,20,23,2,0)
 
"^DD",727.809,727.809,20,23,3,0)
UNIT DOSE EXTRACT DATA file (#728.904); DFN field (#1)
"^DD",727.809,727.809,20,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.809,727.809,20,23,5,0)
 
"^DD",727.809,727.809,20,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.809,727.809,20,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.809,727.809,20,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.809,727.809,20,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.809,727.809,20,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.809,727.809,20,"DT")
2970924
"^DD",727.809,727.809,21,0)
ADMISSION TIME^FO^^0;22^K:$L(X)>6!($L(X)<6) X
"^DD",727.809,727.809,21,.1)
Admission Time
"^DD",727.809,727.809,21,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.809,727.809,21,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.809,727.809,21,3)
Answer must be 6 characters in length.
"^DD",727.809,727.809,21,21,0)
^^2^2^2970922^^^^
"^DD",727.809,727.809,21,21,1,0)
A 6-character numeric string which represents the time of day at
"^DD",727.809,727.809,21,21,2,0)
which the admission associated with the Unit Dose event occurred.
"^DD",727.809,727.809,21,23,0)
^^12^12^2971113^^^^
"^DD",727.809,727.809,21,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns 
"^DD",727.809,727.809,21,23,2,0)
the internal file number of the admission associated with this movement. 
"^DD",727.809,727.809,21,23,3,0)
ADMISSION TIME is derived from the DATE/TIME field (.01) of the PATIENT 
"^DD",727.809,727.809,21,23,4,0)
MOVEMENT file (#405) for the movement found in VAIP(13). ADMISSION TIME 
"^DD",727.809,727.809,21,23,5,0)
is padded with trailing zeros to six digits.
"^DD",727.809,727.809,21,23,6,0)
Data source:
"^DD",727.809,727.809,21,23,7,0)
 
"^DD",727.809,727.809,21,23,8,0)
UNIT DOSE EXTRACT DATA file (#728.904); DFN field (#1)
"^DD",727.809,727.809,21,23,9,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.809,727.809,21,23,10,0)
 
"^DD",727.809,727.809,21,23,11,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.809,727.809,21,23,12,0)
cannot be determined, then "000300" is used as default.
"^DD",727.809,727.809,21,"DT")
2970924
"^DD",727.809,727.809,22,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.809,727.809,22,3)
Answer must be 1-10 characters in length.
"^DD",727.809,727.809,22,21,0)
^^1^1^2990504^
"^DD",727.809,727.809,22,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.809,727.809,22,23,0)
^^2^2^2990504^
"^DD",727.809,727.809,22,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.809,727.809,22,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.809,727.809,22,"DT")
2990504
"^DD",727.809,727.809,23,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.809,727.809,23,3)
Answer must be 4-10 characters in length.
"^DD",727.809,727.809,23,21,0)
^^1^1^2990506^
"^DD",727.809,727.809,23,21,1,0)
The DSS Department Code for the Pharmacy product.
"^DD",727.809,727.809,23,23,0)
^^2^2^2990506^
"^DD",727.809,727.809,23,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.809,727.809,23,23,2,0)
Field is set to null.
"^DD",727.809,727.809,23,"DT")
2990506
"^DD",727.809,727.809,24,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.809,727.809,24,3)
Answer must be 1-8 characters in length.
"^DD",727.809,727.809,24,21,0)
^^1^1^2990506^^
"^DD",727.809,727.809,24,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.809,727.809,24,23,0)
^^4^4^2990506^^
"^DD",727.809,727.809,24,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.809,727.809,24,23,2,0)
field will hold the Provider NPI.
"^DD",727.809,727.809,24,23,3,0)
   
"^DD",727.809,727.809,24,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.809,727.809,24,"DT")
2990506
"^DD",727.809,727.809,25,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;4^K:$L(X)>1!($L(X)<1) X
"^DD",727.809,727.809,25,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.809,727.809,25,21,0)
^^5^5^3001020^
"^DD",727.809,727.809,25,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.809,727.809,25,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.809,727.809,25,21,3,0)
Domiciliary (DOM)
"^DD",727.809,727.809,25,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.809,727.809,25,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.809,727.809,25,"DT")
3001010
"^DD",727.809,727.809,26,0)
EXTENDED OUTPATIENT INDICATOR^F^^1;5^K:$L(X)>4!($L(X)<1) X
"^DD",727.809,727.809,26,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.809,727.809,26,21,0)
^^1^1^3001020^
"^DD",727.809,727.809,26,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.809,727.809,26,"DT")
3000614
"^DD",727.81,727.81,0)
FIELD^^61^62
"^DD",727.81,727.81,0,"DDA")
N
"^DD",727.81,727.81,0,"DIK")
ECX810
"^DD",727.81,727.81,0,"DIKOLD")
ECX810
"^DD",727.81,727.81,0,"DT")
3001005
"^DD",727.81,727.81,0,"IX","AC",727.81,2)

"^DD",727.81,727.81,0,"NM","PRESCRIPTION EXTRACT")

"^DD",727.81,727.81,0,"VRPK")
ECX
"^DD",727.81,727.81,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.81,727.81,.01,.1)
Sequence Number
"^DD",727.81,727.81,.01,1,0)
^.1^^0
"^DD",727.81,727.81,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.81,727.81,.01,21,0)
^^1^1^2960918^^^^
"^DD",727.81,727.81,.01,21,1,0)
The record number for this extract entry.
"^DD",727.81,727.81,.01,23,0)
^^1^1^2960918^^^
"^DD",727.81,727.81,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.81,727.81,.01,"DT")
2980812
"^DD",727.81,727.81,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.81,727.81,1,.1)
Year/Month
"^DD",727.81,727.81,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.81,727.81,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.81,727.81,1,3)
Answer must be 6 characters in length.
"^DD",727.81,727.81,1,21,0)
^^2^2^2970918^^^^
"^DD",727.81,727.81,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.81,727.81,1,21,2,0)
for which this extract was performed.
"^DD",727.81,727.81,1,23,0)
^^1^1^2970918^^^^
"^DD",727.81,727.81,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.81,727.81,1,"DT")
2970924
"^DD",727.81,727.81,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.81,727.81,2,.1)
Extract Number
"^DD",727.81,727.81,2,1,0)
^.1
"^DD",727.81,727.81,2,1,1,0)
727.81^AC
"^DD",727.81,727.81,2,1,1,1)
S ^ECX(727.81,"AC",$E(X,1,30),DA)=""
"^DD",727.81,727.81,2,1,1,2)
K ^ECX(727.81,"AC",$E(X,1,30),DA)
"^DD",727.81,727.81,2,1,1,3)
DO NOT DELETE.
"^DD",727.81,727.81,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.81,727.81,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.81,727.81,2,1,1,"%D",2,0)
in this file.
"^DD",727.81,727.81,2,1,1,"DT")
2910802
"^DD",727.81,727.81,2,3)
Enter the extract number for this extract.
"^DD",727.81,727.81,2,21,0)
^^2^2^2960918^^^^
"^DD",727.81,727.81,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.81,727.81,2,21,2,0)
extract.
"^DD",727.81,727.81,2,23,0)
^^2^2^2960918^^^^
"^DD",727.81,727.81,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.81,727.81,2,23,2,0)
pick up the header for the mail message.
"^DD",727.81,727.81,2,"DT")
2960918
"^DD",727.81,727.81,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.81,727.81,3,.1)
Facility
"^DD",727.81,727.81,3,3)
Enter the station number where this extract was performed.
"^DD",727.81,727.81,3,21,0)
^^1^1^2960918^^^^
"^DD",727.81,727.81,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.81,727.81,3,23,0)
^^4^4^2960918^^^^
"^DD",727.81,727.81,3,23,1,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.81,727.81,3,23,2,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.81,727.81,3,23,3,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.81,727.81,3,23,4,0)
the INSTITUTION file (#4).
"^DD",727.81,727.81,3,"DT")
2961015
"^DD",727.81,727.81,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.81,727.81,4,.1)
Patient No. - DFN
"^DD",727.81,727.81,4,3)
Enter the name of the patient for this extract record.
"^DD",727.81,727.81,4,21,0)
^^1^1^2990504^^^^
"^DD",727.81,727.81,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.81,727.81,4,23,0)
^^3^3^2990504^^^^
"^DD",727.81,727.81,4,23,1,0)
Derived from the PATIENT field (2) in the PRESCRIPTION file (#52). 
"^DD",727.81,727.81,4,23,2,0)
PATIENT NO. - DFN is a pointer to the NAME field (.01) of the PATIENT 
"^DD",727.81,727.81,4,23,3,0)
file (#2). This data represents the patient DFN.
"^DD",727.81,727.81,4,"DT")
2961015
"^DD",727.81,727.81,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.81,727.81,5,.1)
Social Security Number
"^DD",727.81,727.81,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.81,727.81,5,21,0)
^^4^4^2990504^^^^
"^DD",727.81,727.81,5,21,1,0)
The patient's social security number.
"^DD",727.81,727.81,5,21,2,0)
 
"^DD",727.81,727.81,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.81,727.81,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.81,727.81,5,23,0)
^^6^6^2990504^^^
"^DD",727.81,727.81,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.81,727.81,5,23,2,0)
in the PRESCRIPTION EXTRACT file (#727.81), SSN data is derived from the
"^DD",727.81,727.81,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.81,727.81,5,23,4,0)
 
"^DD",727.81,727.81,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.81,727.81,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.81,727.81,5,"DT")
2960918
"^DD",727.81,727.81,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.81,727.81,6,.1)
Name
"^DD",727.81,727.81,6,3)
Your answer must be 4 characters in length.
"^DD",727.81,727.81,6,21,0)
^^1^1^2961021^^^^
"^DD",727.81,727.81,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.81,727.81,6,23,0)
^^4^4^2961021^^
"^DD",727.81,727.81,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.81,727.81,6,23,2,0)
in the PRESCRIPTION EXTRACT file (#727.81), NAME data is derived from the
"^DD",727.81,727.81,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.81,727.81,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.81,727.81,6,"DT")
2960918
"^DD",727.81,727.81,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.81,727.81,7,.1)
In Out Patient Indicator
"^DD",727.81,727.81,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.81,727.81,7,21,0)
^^2^2^2960918^^^^
"^DD",727.81,727.81,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.81,727.81,7,21,2,0)
this extract entry.
"^DD",727.81,727.81,7,23,0)
^^4^4^2960918^^^
"^DD",727.81,727.81,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.81,727.81,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.81,727.81,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.81,727.81,7,23,4,0)
inpatient status.
"^DD",727.81,727.81,7,"DT")
2960918
"^DD",727.81,727.81,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.81,727.81,8,.1)
Day
"^DD",727.81,727.81,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.81,727.81,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.81,727.81,8,3)
Answer must be 8 characters in length.
"^DD",727.81,727.81,8,21,0)
^^2^2^2970918^^^^
"^DD",727.81,727.81,8,21,1,0)
This 8-character string represents the date on which the Prescription
"^DD",727.81,727.81,8,21,2,0)
fill/refill was released.
"^DD",727.81,727.81,8,23,0)
^^19^19^2971113^^^^
"^DD",727.81,727.81,8,23,1,0)
If the version of Outpatient Pharmacy is prior to V. 6.0, DAY is 
"^DD",727.81,727.81,8,23,2,0)
derived from $E(DATE,6,7) where date is the FILL DATE field (22) of 
"^DD",727.81,727.81,8,23,3,0)
the PRESCRIPTION file (#52).
"^DD",727.81,727.81,8,23,4,0)
  
"^DD",727.81,727.81,8,23,5,0)
Data source for Outpatient Pharmacy v6.0 and later:
"^DD",727.81,727.81,8,23,6,0)
 
"^DD",727.81,727.81,8,23,7,0)
PRESCRIPTION file (#52); REFILL sub-file (#52.1); 
"^DD",727.81,727.81,8,23,8,0)
   RELEASED DATE/TIME field (#17)
"^DD",727.81,727.81,8,23,9,0)
   
"^DD",727.81,727.81,8,23,10,0)
or
"^DD",727.81,727.81,8,23,11,0)
   
"^DD",727.81,727.81,8,23,12,0)
PRESCRIPTION file (#52); PARTIAL DATE sub-file (#52.2);
"^DD",727.81,727.81,8,23,13,0)
   RELEASED DATE/TIME field (#8)
"^DD",727.81,727.81,8,23,14,0)
 
"^DD",727.81,727.81,8,23,15,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.81,727.81,8,23,16,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.81,727.81,8,23,17,0)
then a default is used.  The default date value is the value of the 
"^DD",727.81,727.81,8,23,18,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.81,727.81,8,23,19,0)
Year 2000 compliant per vendor.
"^DD",727.81,727.81,8,"DT")
2970924
"^DD",727.81,727.81,9,0)
DIVISION^P59'^PS(59,^0;10^Q
"^DD",727.81,727.81,9,.1)
Division
"^DD",727.81,727.81,9,3)
Enter the outpatient pharmacy site.
"^DD",727.81,727.81,9,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,9,21,1,0)
The outpatient pharmacy site for this extract entry.
"^DD",727.81,727.81,9,23,0)
^^7^7^2961015^^^^
"^DD",727.81,727.81,9,23,1,0)
For new prescriptions, DIVISION is derived from the DIVISION field 
"^DD",727.81,727.81,9,23,2,0)
(20) of the PRESCRIPTION file (#52). For refill prescriptions, 
"^DD",727.81,727.81,9,23,3,0)
DIVISION is derived from the DIVISION field (8) within the REFILL 
"^DD",727.81,727.81,9,23,4,0)
multiple (52) of the PRESCRIPTION file (#52). For partial prescriptions, 
"^DD",727.81,727.81,9,23,5,0)
DIVISION is derived from the DIVISION field (.09) within the PARTIAL 
"^DD",727.81,727.81,9,23,6,0)
DATE multiple (60) of the PRESCRIPTION file (#52). DIVISION is a pointer 
"^DD",727.81,727.81,9,23,7,0)
to the OUTPATIENT SITE file (#59)
"^DD",727.81,727.81,9,"DT")
2960918
"^DD",727.81,727.81,10,0)
PROVIDER^F^^0;11^K:$L(X)>11!($L(X)<1) X
"^DD",727.81,727.81,10,.1)
Provider
"^DD",727.81,727.81,10,3)
Enter provider for this record.
"^DD",727.81,727.81,10,21,0)
^^1^1^2980608^^^^
"^DD",727.81,727.81,10,21,1,0)
The provider assigned to this patient.
"^DD",727.81,727.81,10,23,0)
^^9^9^2980608^^^^
"^DD",727.81,727.81,10,23,1,0)
Derived from the PROVIDER field (4) in the PRESCRIPTION file (#52) 
"^DD",727.81,727.81,10,23,2,0)
for new prescriptions, or from the PROVIDER field (15) within the REFILL 
"^DD",727.81,727.81,10,23,3,0)
multiple (52) in the PRESCRIPTION file (#52) for refill prescriptions, 
"^DD",727.81,727.81,10,23,4,0)
or from the PROVIDER field (6) within the PARTIAL DATE multiple (60) in 
"^DD",727.81,727.81,10,23,5,0)
the PRESCRIPTION file (#52) for partial prescriptions.
"^DD",727.81,727.81,10,23,6,0)
  
"^DD",727.81,727.81,10,23,7,0)
If PROVIDER is a pointer to the NEW PERSON file (#200), it is stored as 
"^DD",727.81,727.81,10,23,8,0)
"2"_pointer value. If PROVIDER is a pointer to the PROVIDER file (#6), 
"^DD",727.81,727.81,10,23,9,0)
it is stored as "6"_pointer value.
"^DD",727.81,727.81,10,"DT")
2961015
"^DD",727.81,727.81,11,0)
VA DRUG CLASSIFICATION^F^^0;12^K:$L(X)>5!($L(X)<5) X
"^DD",727.81,727.81,11,.1)
VA Drug Classification
"^DD",727.81,727.81,11,3)
Your answer must be 5 characters in length.
"^DD",727.81,727.81,11,21,0)
^^1^1^2980702^^
"^DD",727.81,727.81,11,21,1,0)
The VA Drug Classification for the drug/supply item in this prescription.
"^DD",727.81,727.81,11,23,0)
^^2^2^2980702^^
"^DD",727.81,727.81,11,23,1,0)
Derived from the VA CLASSIFICATION field (2) in the DRUG file (#50) for
"^DD",727.81,727.81,11,23,2,0)
the drug identified by the DRUG field (6) in the PRESCRIPTION file (#52).
"^DD",727.81,727.81,11,"DT")
2960918
"^DD",727.81,727.81,12,0)
MAIL^F^^0;13^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,12,.1)
Mail
"^DD",727.81,727.81,12,3)
Your answer must be 1 character in length.
"^DD",727.81,727.81,12,21,0)
^^2^2^2990525^^^^
"^DD",727.81,727.81,12,21,1,0)
Data will be 1 if this prescription was mailed from the VAMC or a 2 
"^DD",727.81,727.81,12,21,2,0)
if mailed from a CMOP.
"^DD",727.81,727.81,12,23,0)
^^6^6^2990525^^^^
"^DD",727.81,727.81,12,23,1,0)
Derived from the MAIL/WINDOW field (#11) in the PRESCRIPTION file 
"^DD",727.81,727.81,12,23,2,0)
(#52) for new prescriptions, or from the MAIL/WINDOW field (#2) within 
"^DD",727.81,727.81,12,23,3,0)
the REFILL multiple (#52) in the PRESCRIPTION file (#52) for refill 
"^DD",727.81,727.81,12,23,4,0)
prescriptions, or from the MAIL/WINDOW field (#.02) within the PARTIAL 
"^DD",727.81,727.81,12,23,5,0)
DATE multiple (#60) in the PRESCRIPTION file (#52) for partial 
"^DD",727.81,727.81,12,23,6,0)
prescriptions.
"^DD",727.81,727.81,12,"DT")
2960918
"^DD",727.81,727.81,13,0)
PROVIDER PERSON CLASS^F^^0;14^K:$L(X)>7!($L(X)<7) X
"^DD",727.81,727.81,13,.1)

"^DD",727.81,727.81,13,3)
Answer must be 7 characters in length.
"^DD",727.81,727.81,13,21,0)
^^1^1^2990505^^^
"^DD",727.81,727.81,13,21,1,0)
The VA code associate with the active Person Class of the provider.
"^DD",727.81,727.81,13,23,0)
^^3^3^2990505^^^
"^DD",727.81,727.81,13,23,1,0)
A call to $$GET^XUA4A72(PERS,DATE) will be made using the IEN in the
"^DD",727.81,727.81,13,23,2,0)
PROVIDER and the date in the DAY field.  The VA Code is always of the
"^DD",727.81,727.81,13,23,3,0)
form "V"_six numeric digits; exactly 7 characters in length. 
"^DD",727.81,727.81,13,"DT")
2990505
"^DD",727.81,727.81,14,0)
NEW^F^^0;15^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,14,.1)
New
"^DD",727.81,727.81,14,3)
Your answer must be 1 character in length.
"^DD",727.81,727.81,14,21,0)
^^1^1^2980702^^^^
"^DD",727.81,727.81,14,21,1,0)
Data will be 1 if this is a new prescription.
"^DD",727.81,727.81,14,23,0)
^^17^17^2980702^^^
"^DD",727.81,727.81,14,23,1,0)
If the version of Outpatient Pharmacy is prior to V. 6.0, examine 
"^DD",727.81,727.81,14,23,2,0)
the "AD" cross reference on the FILL DATE field (22) of the 
"^DD",727.81,727.81,14,23,3,0)
PRESCRIPTION file (#52) for new prescriptions or the REFILL DATE 
"^DD",727.81,727.81,14,23,4,0)
field (.01) within the REFILL multiple (52) of the PRESCRIPTION 
"^DD",727.81,727.81,14,23,5,0)
file (#52) for refill prescriptions. Cross reference is 
"^DD",727.81,727.81,14,23,6,0)
^PSRX("AD",DATE,D0,REFILL# or 0 for new RX).
"^DD",727.81,727.81,14,23,7,0)
  
"^DD",727.81,727.81,14,23,8,0)
If the version of Outpatient Pharmacy is V. 6.0 or greater:
"^DD",727.81,727.81,14,23,9,0)
1.  Examine the "AL" cross reference on the RELEASED DATE/TIME 
"^DD",727.81,727.81,14,23,10,0)
field (31) of the PRESCRIPTION file (#52) for new prescriptions or the 
"^DD",727.81,727.81,14,23,11,0)
RELEASED DATE/TIME field (17) within the REFILL multiple (52) of the 
"^DD",727.81,727.81,14,23,12,0)
PRESCRIPTION file (#52) for refill prescriptions. Cross reference is 
"^DD",727.81,727.81,14,23,13,0)
^PSRX("AL",DATE,D0,REFILL# or 0 for new RX).
"^DD",727.81,727.81,14,23,14,0)
2.  Examine the "AM" cross reference on the RELEASED DATE/TIME 
"^DD",727.81,727.81,14,23,15,0)
field (8) within the PARTIAL DATE multiple (60) of the PRESCRIPTION 
"^DD",727.81,727.81,14,23,16,0)
file (#52) for partial prescriptions. Cross reference is 
"^DD",727.81,727.81,14,23,17,0)
^PSRX("AM",DATE,D0,PARTIAL_REFILL#).
"^DD",727.81,727.81,14,"DT")
2960918
"^DD",727.81,727.81,15,0)
PLACEHOLDER2^F^^0;16^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,15,.1)
Placeholder2
"^DD",727.81,727.81,15,3)
Your answer must be 1 character in length.
"^DD",727.81,727.81,15,21,0)
^^1^1^2961021^^
"^DD",727.81,727.81,15,21,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,15,23,0)
^^1^1^2961021^^
"^DD",727.81,727.81,15,23,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,15,"DT")
2961015
"^DD",727.81,727.81,16,0)
QUANTITY^F^^0;17^K:$L(X)>8!($L(X)<1) X
"^DD",727.81,727.81,16,.1)
Quantity
"^DD",727.81,727.81,16,3)
Answer must be 1-8 characters in length
"^DD",727.81,727.81,16,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,16,21,1,0)
Quantity of drug dispensed.
"^DD",727.81,727.81,16,23,0)
^^5^5^2961015^^^^
"^DD",727.81,727.81,16,23,1,0)
Derived from the QTY field (7) in the PRESCRIPTION file (#52) for new 
"^DD",727.81,727.81,16,23,2,0)
prescriptions, or from the QTY field (1) within the REFILL multiple (52) 
"^DD",727.81,727.81,16,23,3,0)
in the PRESCRIPTION file (#52) for refill prescriptions, or from the QTY 
"^DD",727.81,727.81,16,23,4,0)
field (.04) within the PARTIAL DATE multiple (60) in the PRESCRIPTION 
"^DD",727.81,727.81,16,23,5,0)
file (#52) for partial prescriptions.
"^DD",727.81,727.81,16,"DT")
3001005
"^DD",727.81,727.81,17,0)
COST^NJ8,2^^0;18^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",727.81,727.81,17,.1)
Cost
"^DD",727.81,727.81,17,3)
Enter a dollar amount between 0 and 10000, 2 decimal digits.
"^DD",727.81,727.81,17,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,17,21,1,0)
Cost of drug dispensed.
"^DD",727.81,727.81,17,23,0)
^^14^14^2961015^^^^
"^DD",727.81,727.81,17,23,1,0)
Cost is calculated as quantity * price.
"^DD",727.81,727.81,17,23,2,0)
  
"^DD",727.81,727.81,17,23,3,0)
Quantity is derived from the QTY field (7) in the PRESCRIPTION file 
"^DD",727.81,727.81,17,23,4,0)
(#52) for new prescriptions, or from the QTY field (1) within the REFILL 
"^DD",727.81,727.81,17,23,5,0)
multiple (52) in the PRESCRIPTION file (#52) for refill prescriptions, 
"^DD",727.81,727.81,17,23,6,0)
or from the QTY field (.04) within the PARTIAL DATE multiple (60) in the 
"^DD",727.81,727.81,17,23,7,0)
PRESCRIPTION file (#52) for partial prescriptions.
"^DD",727.81,727.81,17,23,8,0)
  
"^DD",727.81,727.81,17,23,9,0)
Price is derived from the UNIT PRICE OF DRUG is field (17) in the 
"^DD",727.81,727.81,17,23,10,0)
PRESCRIPTION file (#52) for new prescriptions, or from the CURRENT UNIT 
"^DD",727.81,727.81,17,23,11,0)
PRICE OF DRUG field (1.2) within the REFILL multiple (52) in the 
"^DD",727.81,727.81,17,23,12,0)
PRESCRIPTION file (#52) for refill prescriptions, or from the CURRENT 
"^DD",727.81,727.81,17,23,13,0)
UNIT PRICE OF DRUG field (.042) within the PARTIAL DATE multiple (60) in 
"^DD",727.81,727.81,17,23,14,0)
the PRESCRIPTION file (#52) for partial prescriptions.
"^DD",727.81,727.81,17,"DT")
2960918
"^DD",727.81,727.81,18,0)
PLACEHOLDER3^F^^0;19^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,18,.1)
Placeholder3
"^DD",727.81,727.81,18,3)
Answer must be 1 character in length.
"^DD",727.81,727.81,18,21,0)
^^1^1^2961021^^
"^DD",727.81,727.81,18,21,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,18,23,0)
^^1^1^2961021^^^
"^DD",727.81,727.81,18,23,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,18,"DT")
2961015
"^DD",727.81,727.81,19,0)
MOVEMENT FILE #^P405'^DGPM(^0;20^Q
"^DD",727.81,727.81,19,.1)
Movement File Number
"^DD",727.81,727.81,19,3)
Enter the patient movement number associated with this extract record.
"^DD",727.81,727.81,19,21,0)
^^1^1^2961015^^^^
"^DD",727.81,727.81,19,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.81,727.81,19,23,0)
^^4^4^2961015^^^^
"^DD",727.81,727.81,19,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.81,727.81,19,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.81,727.81,19,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.81,727.81,19,23,4,0)
(#405).
"^DD",727.81,727.81,19,"DT")
2960918
"^DD",727.81,727.81,20,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;21^Q
"^DD",727.81,727.81,20,.1)
Treating Specialty
"^DD",727.81,727.81,20,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.81,727.81,20,21,0)
^^3^3^2961015^^^^
"^DD",727.81,727.81,20,21,1,0)
The treating specialty assigned to this patient when the prescription 
"^DD",727.81,727.81,20,21,2,0)
was issued, if the patient was an inpatient at that time. Otherwise, 
"^DD",727.81,727.81,20,21,3,0)
this field is null.
"^DD",727.81,727.81,20,23,0)
^^6^6^2990512^^^^
"^DD",727.81,727.81,20,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.81,727.81,20,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.81,727.81,20,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.81,727.81,20,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.81,727.81,20,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.81,727.81,20,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.81,727.81,20,"DT")
2960918
"^DD",727.81,727.81,21,0)
PLACEHOLDER4^F^^0;22^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,21,.1)
Placeholder4
"^DD",727.81,727.81,21,3)
Your answer must be 1 character in length.
"^DD",727.81,727.81,21,21,0)
^^1^1^2961021^^
"^DD",727.81,727.81,21,21,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,21,23,0)
^^1^1^2961021^^
"^DD",727.81,727.81,21,23,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,21,"DT")
2961015
"^DD",727.81,727.81,22,0)
UNIT OF ISSUE^F^^0;23^K:$L(X)>10!($L(X)<1) X
"^DD",727.81,727.81,22,.1)
Unit of Issue
"^DD",727.81,727.81,22,3)
Answer must be 1-10 characters in length.
"^DD",727.81,727.81,22,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,22,21,1,0)
This units in which this item was dispensed.
"^DD",727.81,727.81,22,23,0)
^^3^3^2961015^^^
"^DD",727.81,727.81,22,23,1,0)
Derived from the DISPENSE UNIT field (14.5) in the DRUG file (#50) 
"^DD",727.81,727.81,22,23,2,0)
for the drug identified by the DRUG field (6) in the PRESCRIPTION 
"^DD",727.81,727.81,22,23,3,0)
file (#52).
"^DD",727.81,727.81,22,"DT")
2961015
"^DD",727.81,727.81,23,0)
DATE OF BIRTH^FO^^0;24^K:$L(X)>8!($L(X)<8) X
"^DD",727.81,727.81,23,.1)
Date of Birth
"^DD",727.81,727.81,23,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.81,727.81,23,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.81,727.81,23,3)
Answer must be 8 characters in length.
"^DD",727.81,727.81,23,21,0)
^^2^2^2970918^^^^
"^DD",727.81,727.81,23,21,1,0)
The patient's date of birth between December 31,1870 and today's date
"^DD",727.81,727.81,23,21,2,0)
represented by an 8-character numeric string.
"^DD",727.81,727.81,23,23,0)
^^9^9^2971113^^^^
"^DD",727.81,727.81,23,23,1,0)
Data source:
"^DD",727.81,727.81,23,23,2,0)
 
"^DD",727.81,727.81,23,23,3,0)
PRESCRIPTION file (#52); PATIENT field (#2)
"^DD",727.81,727.81,23,23,4,0)
   then to PATIENT file (#2); DATE OF BIRTH field (#.03)
"^DD",727.81,727.81,23,23,5,0)
 
"^DD",727.81,727.81,23,23,6,0)
If Date of Birth cannot be determined, then January 1, 1942, is
"^DD",727.81,727.81,23,23,7,0)
used as default.  The data element is always exactly 8 numberic
"^DD",727.81,727.81,23,23,8,0)
characters in length.  Format is YYYYMMDD.  Year 2000 compliant
"^DD",727.81,727.81,23,23,9,0)
per vendor.
"^DD",727.81,727.81,23,"DT")
2970924
"^DD",727.81,727.81,24,0)
ELIGIBILITY^RF^^0;25^K:$L(X)>3!($L(X)<1) X
"^DD",727.81,727.81,24,.1)
Eligibility
"^DD",727.81,727.81,24,3)
Answer must be 1-3 characters in length.
"^DD",727.81,727.81,24,21,0)
^^1^1^2990504^^^^
"^DD",727.81,727.81,24,21,1,0)
Appropriate eligibility code based on veteran or non-veteran status.
"^DD",727.81,727.81,24,23,0)
^^11^11^2990504^^^^
"^DD",727.81,727.81,24,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.81,727.81,24,23,2,0)
in the PRESCRIPTION EXTRACT file (#727.81), ELIGIBILITY data is derived 
"^DD",727.81,727.81,24,23,3,0)
from the PRIMARY ELIGIBILITY CODE field (.361) in the PATIENT file (#2). 
"^DD",727.81,727.81,24,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8). 
"^DD",727.81,727.81,24,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (8) in the 
"^DD",727.81,727.81,24,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS 
"^DD",727.81,727.81,24,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.81,727.81,24,23,8,0)
 
"^DD",727.81,727.81,24,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.81,727.81,24,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.81,727.81,24,23,11,0)
two or three numeric characters.
"^DD",727.81,727.81,24,"DT")
2990504
"^DD",727.81,727.81,25,0)
VETERAN^S^Y:YES;N:NO;^0;26^Q
"^DD",727.81,727.81,25,.1)
Veteran
"^DD",727.81,727.81,25,3)
Select the appropriate veteran status for this patient.
"^DD",727.81,727.81,25,21,0)
^^1^1^2961021^^^^
"^DD",727.81,727.81,25,21,1,0)
Data is Y if the patient is a veteran, N if not.
"^DD",727.81,727.81,25,23,0)
^^3^3^2961021^^
"^DD",727.81,727.81,25,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.81,727.81,25,23,2,0)
in the PRESCRIPTION EXTRACT file (#727.81), VETERAN data is derived from
"^DD",727.81,727.81,25,23,3,0)
the VETERAN (Y/N)? field (1901) in the PATIENT file (#2).
"^DD",727.81,727.81,25,"DT")
2960918
"^DD",727.81,727.81,26,0)
COPAY^RS^1:YES;0:NO;^0;27^Q
"^DD",727.81,727.81,26,.1)
Copay
"^DD",727.81,727.81,26,3)
Enter 1 if this prescription was billed for copay.
"^DD",727.81,727.81,26,21,0)
^^1^1^2961015^^^^
"^DD",727.81,727.81,26,21,1,0)
This field indicates whether this prescription was billed for copay.
"^DD",727.81,727.81,26,23,0)
^^5^5^2961015^^^^
"^DD",727.81,727.81,26,23,1,0)
Derived from the existence of the IB NUMBER field (106) in the 
"^DD",727.81,727.81,26,23,2,0)
PRESCRIPTION file (#52) for new prescriptions or from the IB NUMBER 
"^DD",727.81,727.81,26,23,3,0)
field (9) within the REFILL multiple (52) in the PRESCRIPTION file 
"^DD",727.81,727.81,26,23,4,0)
(#52) for refill prescriptions. If that field is not null, the 
"^DD",727.81,727.81,26,23,5,0)
prescription was billed for copay and this field is set to 1.
"^DD",727.81,727.81,26,"DT")
2960918
"^DD",727.81,727.81,27,0)
FEEDER KEY^RF^^0;28^K:$L(X)>19!($L(X)<17) X
"^DD",727.81,727.81,27,.1)
Feeder Key
"^DD",727.81,727.81,27,3)
Answer must be 17-19 characters in length.
"^DD",727.81,727.81,27,21,0)
^^5^5^2990510^^^^
"^DD",727.81,727.81,27,21,1,0)
The Feeder Key for the drug in this record.  The format of the Feeder Key
"^DD",727.81,727.81,27,21,2,0)
depends on the version of NATIONAL DRUG FILE installed at the site.  If the
"^DD",727.81,727.81,27,21,3,0)
site is running NDF v4.0 (or later), the Feeder Key has a 17-digit format.
"^DD",727.81,727.81,27,21,4,0)
If the site is running an earlier version of NDF, then the Feeder Key has
"^DD",727.81,727.81,27,21,5,0)
a 19-digit format.
"^DD",727.81,727.81,27,23,0)
^^20^20^2990510^^^^
"^DD",727.81,727.81,27,23,1,0)
FEEDER KEY is derived for the drug identified by the DRUG field (#6) 
"^DD",727.81,727.81,27,23,2,0)
in the PRESCRIPTION file (#52), which is a pointer to the DRUG file
"^DD",727.81,727.81,27,23,3,0)
(#50).
"^DD",727.81,727.81,27,23,4,0)
  
"^DD",727.81,727.81,27,23,5,0)
If the sites is running a version of NDF prior to NDF v4.0:
"^DD",727.81,727.81,27,23,6,0)
The NATIONAL DRUG FILE ENTRY field (#20) from the DRUG file (#50),
"^DD",727.81,727.81,27,23,7,0)
which is a pointer to the NATIONAL DRUG file (#50.6), is padded to
"^DD",727.81,727.81,27,23,8,0)
4 digits.  The PSNDF VA PRODUCT NAME ENTRY field (#22) from the 
"^DD",727.81,727.81,27,23,9,0)
DRUG file (#50), which is a pointer to the VA Product Name in the
"^DD",727.81,727.81,27,23,10,0)
NATIONAL DRUG file (#50.6), is padded to 3 digits. These two data
"^DD",727.81,727.81,27,23,11,0)
elements are concatenated together to form a 7-digit string.
"^DD",727.81,727.81,27,23,12,0)
This is concatenated with a 12-digit code derived from the NDC field
"^DD",727.81,727.81,27,23,13,0)
(#31) from the DRUG file (#50) to form a 19-digit Feeder Key.
"^DD",727.81,727.81,27,23,14,0)
  
"^DD",727.81,727.81,27,23,15,0)
If the site is running NDF v4.0 (or later):
"^DD",727.81,727.81,27,23,16,0)
The PSNDF VA PRODUCT NAME ENTRY field (#22) from the DRUG file (#50), 
"^DD",727.81,727.81,27,23,17,0)
which is a pointer to the VA PRODUCT file (#50.68) is padded to 5
"^DD",727.81,727.81,27,23,18,0)
digits.  This is concatenated with a 12-digit code derived from the
"^DD",727.81,727.81,27,23,19,0)
NDC field (#31) from the DRUG file (#50) to form a 17-digit Feeder
"^DD",727.81,727.81,27,23,20,0)
Key.
"^DD",727.81,727.81,27,"DT")
2990510
"^DD",727.81,727.81,28,0)
INVESTIGATIONAL^S^I:INVESTIGATIONAL;^0;29^Q
"^DD",727.81,727.81,28,.1)
Investigational
"^DD",727.81,727.81,28,3)
Enter I if the drug is investigational.
"^DD",727.81,727.81,28,21,0)
^^2^2^2961015^^^
"^DD",727.81,727.81,28,21,1,0)
This field contains the letter I if the drug in this record is 
"^DD",727.81,727.81,28,21,2,0)
investigational. Otherwise it is null.
"^DD",727.81,727.81,28,23,0)
^^2^2^2961015^^^^
"^DD",727.81,727.81,28,23,1,0)
Derived from the DEA, SPECIAL HDLG field (3) in the DRUG file (#50).
"^DD",727.81,727.81,28,23,2,0)
If the DEA, SPECIAL HDLG field contains an I, this field is set to I.
"^DD",727.81,727.81,28,"DT")
2960918
"^DD",727.81,727.81,29,0)
DAYS SUPPLY^NJ3,0^^0;30^K:+X'=X!(X>999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.81,727.81,29,.1)
Days Supply
"^DD",727.81,727.81,29,3)
Enter a number between 1 and 31, 0 decimal digits.
"^DD",727.81,727.81,29,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,29,21,1,0)
The number of days covered by this prescription.
"^DD",727.81,727.81,29,23,0)
^^6^6^2961015^^^
"^DD",727.81,727.81,29,23,1,0)
Derived from the DAYS SUPPLY field (8) in the PRESCRIPTION file 
"^DD",727.81,727.81,29,23,2,0)
(#52) for new prescriptions, or from the DAYS SUPPLY field (1.1) 
"^DD",727.81,727.81,29,23,3,0)
within the REFILL multiple (52) in the PRESCRIPTION file (#52) for 
"^DD",727.81,727.81,29,23,4,0)
refill prescriptions, or from the DAYS SUPPLY field (.041) within the 
"^DD",727.81,727.81,29,23,5,0)
PARTIAL DATE multiple (60) in the PRESCRIPTION file (#52) for partial 
"^DD",727.81,727.81,29,23,6,0)
prescriptions.
"^DD",727.81,727.81,29,"DT")
2960918
"^DD",727.81,727.81,30,0)
PRIMARY CARE TEAM^F^^0;31^K:$L(X)>4!($L(X)<1) X
"^DD",727.81,727.81,30,.1)
Primary Care Team
"^DD",727.81,727.81,30,3)
Enter primary care team assigned to this patient.
"^DD",727.81,727.81,30,21,0)
^^1^1^2961030^^^^
"^DD",727.81,727.81,30,21,1,0)
The primary care team assigned to this patient.
"^DD",727.81,727.81,30,23,0)
^^6^6^2961030^^^
"^DD",727.81,727.81,30,23,1,0)
Using the RELEASED DATE/TIME (V. 6 or >) field or the FILL DATE (V. <6)
"^DD",727.81,727.81,30,23,2,0)
field from the PRESCRIPTION file (#52) and the patient pointer (DFN)
"^DD",727.81,727.81,30,23,3,0)
stored in the PATIENT NO. - DFN field (4) in the PRESCRIPTION EXTRACT
"^DD",727.81,727.81,30,23,4,0)
file (#727.81), a call is made to the Scheduling API, OUTPTTM^SDUTL3. 
"^DD",727.81,727.81,30,23,5,0)
The API returns the team's internal entry number and name from the TEAM 
"^DD",727.81,727.81,30,23,6,0)
file (#404.51). Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.81,727.81,30,"DT")
2961030
"^DD",727.81,727.81,31,0)
PRIMARY CARE PROVIDER^F^^0;32^K:$L(X)>11!($L(X)<1) X
"^DD",727.81,727.81,31,.1)
Primary Care Provider
"^DD",727.81,727.81,31,3)
Enter primary care provider assigned to this patient.
"^DD",727.81,727.81,31,21,0)
^^1^1^2980708^^^^
"^DD",727.81,727.81,31,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.81,727.81,31,23,0)
^^9^9^2980708^^^^
"^DD",727.81,727.81,31,23,1,0)
Using the RELEASED DATE/TIME (V. 6 or >) field or the FILL DATE (V. <6)
"^DD",727.81,727.81,31,23,2,0)
field from the PRESCRIPTION file (#52) and the patient pointer (DFN)
"^DD",727.81,727.81,31,23,3,0)
stored in the PATIENT NO. - DFN field (4) in the PRESCRIPTION EXTRACT
"^DD",727.81,727.81,31,23,4,0)
file (#727.81), a call is made to the Scheduling API, OUTPTPR^SDUTL3. 
"^DD",727.81,727.81,31,23,5,0)
The API returns the provider's internal entry number and name from the 
"^DD",727.81,727.81,31,23,6,0)
NEW PERSON file (#200). 
"^DD",727.81,727.81,31,23,7,0)
 
"^DD",727.81,727.81,31,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.81,727.81,31,23,9,0)
is "200".
"^DD",727.81,727.81,31,"DT")
2961015
"^DD",727.81,727.81,32,0)
TIME^FO^^0;33^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.81,727.81,32,.1)
Time
"^DD",727.81,727.81,32,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.81,727.81,32,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.81,727.81,32,3)
Answer must be 6 characters in length.
"^DD",727.81,727.81,32,21,0)
^^2^2^2970918^^^^
"^DD",727.81,727.81,32,21,1,0)
A 6-character numeric string that represents the time of day at
"^DD",727.81,727.81,32,21,2,0)
which the Presription fill/refill was released.
"^DD",727.81,727.81,32,23,0)
^^15^15^2971113^^^^
"^DD",727.81,727.81,32,23,1,0)
If the version of Outpatient Pharmacy is prior to V. 6.0, TIME is 
"^DD",727.81,727.81,32,23,2,0)
derived from the FILL DATE field (22) of the PRESCRIPTION file (#52).
"^DD",727.81,727.81,32,23,3,0)
  
"^DD",727.81,727.81,32,23,4,0)
Data source for Outpatient Pharmacy v6.0 and later:
"^DD",727.81,727.81,32,23,5,0)
 
"^DD",727.81,727.81,32,23,6,0)
PRESCRIPTION file (#52); REFILL sub-file (#52.1); 
"^DD",727.81,727.81,32,23,7,0)
   RELEASED DATE/TIME field (#17)
"^DD",727.81,727.81,32,23,8,0)
   
"^DD",727.81,727.81,32,23,9,0)
or
"^DD",727.81,727.81,32,23,10,0)
   
"^DD",727.81,727.81,32,23,11,0)
PRESCRIPTION file (#52); PARTIAL DATE sub-file (#52.2);
"^DD",727.81,727.81,32,23,12,0)
   RELEASED DATE/TIME field (#8)
"^DD",727.81,727.81,32,23,13,0)
  
"^DD",727.81,727.81,32,23,14,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.81,727.81,32,23,15,0)
cannot be determined, then "000300" is used as default.
"^DD",727.81,727.81,32,"DT")
2970924
"^DD",727.81,727.81,33,0)
RACE^F^^0;34^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,33,.1)
Race
"^DD",727.81,727.81,33,3)
Enter race ABBREVIATION for this patient.
"^DD",727.81,727.81,33,21,0)
^^1^1^2961029^^^^
"^DD",727.81,727.81,33,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.81,727.81,33,23,0)
^^3^3^2961029^^^
"^DD",727.81,727.81,33,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.81,727.81,33,23,2,0)
RACE data is shown as the ABBREVIATION field (2) of the RACE file (#10)
"^DD",727.81,727.81,33,23,3,0)
entry pointed to by the RACE field (.06) in the PATIENT file (#2).
"^DD",727.81,727.81,33,"DT")
2961015
"^DD",727.81,727.81,34,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.81,727.81,34,3)
Answer must be 1-10 characters in length.
"^DD",727.81,727.81,34,21,0)
^^1^1^2990504^
"^DD",727.81,727.81,34,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.81,727.81,34,23,0)
^^2^2^2990504^
"^DD",727.81,727.81,34,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.81,727.81,34,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.81,727.81,34,"DT")
2990504
"^DD",727.81,727.81,35,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.81,727.81,35,3)
Answer must be 4-10 characters in length.
"^DD",727.81,727.81,35,21,0)
^^1^1^2990506^
"^DD",727.81,727.81,35,21,1,0)
The DSS Department Code for the Pharmacy product.
"^DD",727.81,727.81,35,23,0)
^^2^2^2990506^
"^DD",727.81,727.81,35,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.81,727.81,35,23,2,0)
Field is set to null.
"^DD",727.81,727.81,35,"DT")
2990506
"^DD",727.81,727.81,36,0)
SEX^S^M:MALE;F:FEMALE;^1;3^Q
"^DD",727.81,727.81,36,21,0)
^^1^1^2980708^
"^DD",727.81,727.81,36,21,1,0)
The sex of the patient.  M(ale) or F(emale).
"^DD",727.81,727.81,36,23,0)
^^2^2^2980708^
"^DD",727.81,727.81,36,23,1,0)
Data is taken from the SEX field (#.02) of the patient's record in
"^DD",727.81,727.81,36,23,2,0)
the PATIENT file (#2).
"^DD",727.81,727.81,36,"DT")
2980708
"^DD",727.81,727.81,37,0)
ZIP+4^F^^1;4^K:$L(X)>10!($L(X)<5) X
"^DD",727.81,727.81,37,3)
Answer must be 5-10 characters in length.
"^DD",727.81,727.81,37,21,0)
^^1^1^2980708^
"^DD",727.81,727.81,37,21,1,0)
The patient's zipcode with optional 4-digit extension.
"^DD",727.81,727.81,37,23,0)
^^3^3^2980708^
"^DD",727.81,727.81,37,23,1,0)
The patient's zipcode with optional 4-digit extension as found in
"^DD",727.81,727.81,37,23,2,0)
the ZIP+4 field (#.1112) of the patient's record in the PATIENT
"^DD",727.81,727.81,37,23,3,0)
file (#2).
"^DD",727.81,727.81,37,"DT")
2980708
"^DD",727.81,727.81,38,0)
PROVIDER NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.81,727.81,38,3)
Answer must be 1-8 characters in length.
"^DD",727.81,727.81,38,21,0)
^^1^1^2990506^
"^DD",727.81,727.81,38,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.81,727.81,38,23,0)
^^2^2^2990506^
"^DD",727.81,727.81,38,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.81,727.81,38,23,2,0)
field will hold the Provider NPI.
"^DD",727.81,727.81,38,"DT")
2990506
"^DD",727.81,727.81,39,0)
PC PROVIDER NPI^F^^1;6^K:$L(X)>8!($L(X)<1) X
"^DD",727.81,727.81,39,3)
Answer must be 1-8 characters in length.
"^DD",727.81,727.81,39,21,0)
^^1^1^2990506^
"^DD",727.81,727.81,39,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.81,727.81,39,23,0)
^^4^4^2990506^
"^DD",727.81,727.81,39,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.81,727.81,39,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.81,727.81,39,23,3,0)
   
"^DD",727.81,727.81,39,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.81,727.81,39,"DT")
2990506
"^DD",727.81,727.81,40,0)
STATE^F^^1;7^K:$L(X)>2!($L(X)<2) X
"^DD",727.81,727.81,40,3)
Answer must be 2 characters in length.
"^DD",727.81,727.81,40,21,0)
^^1^1^2980713^^
"^DD",727.81,727.81,40,21,1,0)
The state in which the patient resides.
"^DD",727.81,727.81,40,23,0)
^^4^4^2980713^^
"^DD",727.81,727.81,40,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.81,727.81,40,23,2,0)
in the ADMISSION EXTRACT file (#727.802), data is derived from the STATE
"^DD",727.81,727.81,40,23,3,0)
field (#.115) in the PATIENT file (#2) which points to the STATE file (#5).
"^DD",727.81,727.81,40,23,4,0)
From the STATE file record, use the two character VA STATE CODE field (#2).
"^DD",727.81,727.81,40,"DT")
2980708
"^DD",727.81,727.81,41,0)
COUNTY^F^^1;8^K:$L(X)>3!($L(X)<3) X
"^DD",727.81,727.81,41,3)
Answer must be 3 characters in length.
"^DD",727.81,727.81,41,21,0)
^^1^1^2980713^^
"^DD",727.81,727.81,41,21,1,0)
The county in which the patient resides.
"^DD",727.81,727.81,41,23,0)
^^9^9^2980713^^
"^DD",727.81,727.81,41,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.81,727.81,41,23,2,0)
in the ADMISSION EXTRACT file (#727.802), data is taken from the
"^DD",727.81,727.81,41,23,3,0)
COUNTY field (#.117) in the PATIENT file (#2) which points to a subfile
"^DD",727.81,727.81,41,23,4,0)
record in the COUNTY multiple field (#3) of the STATE file (#5).  A pointer 
"^DD",727.81,727.81,41,23,5,0)
to the STATE file (#5) is obtained from the STATE field (#.115) of the 
"^DD",727.81,727.81,41,23,6,0)
file #2 record.
"^DD",727.81,727.81,41,23,7,0)
  
"^DD",727.81,727.81,41,23,8,0)
From the subfile record of field #3 of file #5, use the value of the 
"^DD",727.81,727.81,41,23,9,0)
VA COUNTY CODE field (#2).
"^DD",727.81,727.81,41,"DT")
2980708
"^DD",727.81,727.81,42,0)
PC PROVIDER PERSON CLASS^F^^1;9^K:$L(X)>7!($L(X)<7) X
"^DD",727.81,727.81,42,3)
Answer must be 7 characters in length.
"^DD",727.81,727.81,42,21,0)
^^2^2^2981026^
"^DD",727.81,727.81,42,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.81,727.81,42,21,2,0)
associated with this record.
"^DD",727.81,727.81,42,23,0)
^^6^6^2981026^
"^DD",727.81,727.81,42,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.81,727.81,42,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.81,727.81,42,23,3,0)
extract record.
"^DD",727.81,727.81,42,23,4,0)
  
"^DD",727.81,727.81,42,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.81,727.81,42,23,6,0)
7 characters in length.
"^DD",727.81,727.81,42,"DT")
2981026
"^DD",727.81,727.81,43,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;10^Q
"^DD",727.81,727.81,43,3)

"^DD",727.81,727.81,43,21,0)
^^1^1^2990505^
"^DD",727.81,727.81,43,21,1,0)
The patient's POW status. May be set to Y(es), N(o), or U(nknown).
"^DD",727.81,727.81,43,23,0)
^^2^2^2990505^^
"^DD",727.81,727.81,43,23,1,0)
PATIENT file (#2); POW STATUS INDICATED? field (#.525).
"^DD",727.81,727.81,43,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.81,727.81,43,"DT")
2990505
"^DD",727.81,727.81,44,0)
POW LOCATION^P22'^DIC(22,^1;11^Q
"^DD",727.81,727.81,44,21,0)
^^9^9^2990505^
"^DD",727.81,727.81,44,21,1,0)
If POW Status is indicated, then this is the POW confinement
"^DD",727.81,727.81,44,21,2,0)
location/period. 
"^DD",727.81,727.81,44,21,3,0)
 
"^DD",727.81,727.81,44,21,4,0)
 1      WORLD WAR I
"^DD",727.81,727.81,44,21,5,0)
 2      WORLD WAR II - EUROPE
"^DD",727.81,727.81,44,21,6,0)
 3      WORLD WAR II - PACIFIC
"^DD",727.81,727.81,44,21,7,0)
 4      KOREAN
"^DD",727.81,727.81,44,21,8,0)
 5      VIETNAM
"^DD",727.81,727.81,44,21,9,0)
 6      OTHER
"^DD",727.81,727.81,44,23,0)
^^3^3^2990505^^
"^DD",727.81,727.81,44,23,1,0)
PATIENT file (#2); POW CONFINEMENT LOCATION field (#.526).  This is a
"^DD",727.81,727.81,44,23,2,0)
pointer value to the POW PERIOD file (#22).
"^DD",727.81,727.81,44,23,3,0)
The location indicator is returned by SVC^VADPT.
"^DD",727.81,727.81,44,"DT")
2990505
"^DD",727.81,727.81,45,0)
RADIATION STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;12^Q
"^DD",727.81,727.81,45,21,0)
^^1^1^2990505^
"^DD",727.81,727.81,45,21,1,0)
The patient's Ionizing Radiation status. (Y/N/U)
"^DD",727.81,727.81,45,23,0)
^^2^2^2990505^
"^DD",727.81,727.81,45,23,1,0)
PATIENT file (#2); RADIATION EXPOSURE INDICATED? field (#.32103).
"^DD",727.81,727.81,45,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.81,727.81,45,"DT")
2990505
"^DD",727.81,727.81,46,0)
AGENT ORANGE STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;13^Q
"^DD",727.81,727.81,46,21,0)
^^1^1^2990505^^
"^DD",727.81,727.81,46,21,1,0)
The patient's Agent Orange status.
"^DD",727.81,727.81,46,23,0)
^^2^2^2990505^^
"^DD",727.81,727.81,46,23,1,0)
PATIENT file (#2); AGENT ORANGE EXPOS. INDICATED? field (#.32102).
"^DD",727.81,727.81,46,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.81,727.81,46,"DT")
2990505
"^DD",727.81,727.81,47,0)
SHARING AGREEMENT PAYOR^F^^1;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,47,3)
Answer must be 1 character in length.
"^DD",727.81,727.81,47,21,0)
^^1^1^2990505^
"^DD",727.81,727.81,47,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.81,727.81,47,23,0)
^^15^15^2990505^
"^DD",727.81,727.81,47,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.81,727.81,47,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.81,727.81,47,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.81,727.81,47,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.81,727.81,47,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.81,727.81,47,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.81,727.81,47,23,7,0)
  
"^DD",727.81,727.81,47,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.81,727.81,47,23,9,0)
field is obtained by the following conversion:
"^DD",727.81,727.81,47,23,10,0)
SHARING AGREEMENT = A
"^DD",727.81,727.81,47,23,11,0)
TRICARE = B
"^DD",727.81,727.81,47,23,12,0)
CAT C = C
"^DD",727.81,727.81,47,23,13,0)
CATEGORY C = C
"^DD",727.81,727.81,47,23,14,0)
CHAMPVA = D
"^DD",727.81,727.81,47,23,15,0)
CHAMPUS = E
"^DD",727.81,727.81,47,"DT")
2990505
"^DD",727.81,727.81,48,0)
SHARING AGREEMENT INSURANCE^F^^1;15^K:$L(X)>11!($L(X)<1) X
"^DD",727.81,727.81,48,3)
Answer must be 1-11 characters in length.
"^DD",727.81,727.81,48,21,0)
^^2^2^2990505^^
"^DD",727.81,727.81,48,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.81,727.81,48,21,2,0)
sharing agreement.
"^DD",727.81,727.81,48,23,0)
^^5^5^2990505^^
"^DD",727.81,727.81,48,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.81,727.81,48,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.81,727.81,48,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.81,727.81,48,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.81,727.81,48,23,5,0)
The data is stored as free text.
"^DD",727.81,727.81,48,"DT")
2990505
"^DD",727.81,727.81,49,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^1;16^Q
"^DD",727.81,727.81,49,21,0)
^^5^5^2990505^
"^DD",727.81,727.81,49,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.81,727.81,49,21,2,0)
Possible status values are:
"^DD",727.81,727.81,49,21,3,0)
Y = Yes, screened reports MST
"^DD",727.81,727.81,49,21,4,0)
N = Screened, does not report MST
"^DD",727.81,727.81,49,21,5,0)
D = Screened, declines to answer
"^DD",727.81,727.81,49,23,0)
^^5^5^2990505^
"^DD",727.81,727.81,49,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.81,727.81,49,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.81,727.81,49,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.81,727.81,49,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.81,727.81,49,23,5,0)
field and the date in the DAY field.
"^DD",727.81,727.81,49,"DT")
2990505
"^DD",727.81,727.81,50,0)
ENROLLMENT LOCATION^F^^1;17^K:$L(X)>5!($L(X)<3) X
"^DD",727.81,727.81,50,3)
Answer must be 3-5 characters in length.
"^DD",727.81,727.81,50,21,0)
^^2^2^2990505^
"^DD",727.81,727.81,50,21,1,0)
The facility that the patient chooses to designate as his
"^DD",727.81,727.81,50,21,2,0)
preferred location for care.
"^DD",727.81,727.81,50,23,0)
^^5^5^2990505^
"^DD",727.81,727.81,50,23,1,0)
The PREFERRED FACILITY field (# 27.02) of the PATIENT file (#2)
"^DD",727.81,727.81,50,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.81,727.81,50,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.81,727.81,50,23,4,0)
(# 27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.81,727.81,50,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.81,727.81,50,"DT")
2990505
"^DD",727.81,727.81,51,0)
ASSOCIATE PC PROVIDER^F^^1;18^K:$L(X)>11!($L(X)<2) X
"^DD",727.81,727.81,51,3)
Answer must be 2-11 characters in length.
"^DD",727.81,727.81,51,21,0)
^^4^4^2990505^
"^DD",727.81,727.81,51,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.81,727.81,51,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.81,727.81,51,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.81,727.81,51,21,4,0)
character 2.
"^DD",727.81,727.81,51,23,0)
^^2^2^2990505^
"^DD",727.81,727.81,51,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.81,727.81,51,23,2,0)
the PCMM application.
"^DD",727.81,727.81,51,"DT")
2990505
"^DD",727.81,727.81,52,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;19^K:$L(X)>7!($L(X)<7) X
"^DD",727.81,727.81,52,3)
Answer must be 7 characters in length.
"^DD",727.81,727.81,52,21,0)
^^4^4^2990505^
"^DD",727.81,727.81,52,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.81,727.81,52,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.81,727.81,52,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.81,727.81,52,21,4,0)
exactly 7 characters in length. 
"^DD",727.81,727.81,52,23,0)
^^3^3^2990505^
"^DD",727.81,727.81,52,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.81,727.81,52,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.81,727.81,52,23,3,0)
PERS is the IEN from file #200.
"^DD",727.81,727.81,52,"DT")
2990505
"^DD",727.81,727.81,53,0)
ASSOCIATE PC PROVIDER NPI^F^^1;20^K:$L(X)>8!($L(X)<1) X
"^DD",727.81,727.81,53,3)
Answer must be 1-8 characters in length.
"^DD",727.81,727.81,53,21,0)
^^1^1^2990506^
"^DD",727.81,727.81,53,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.81,727.81,53,23,0)
^^4^4^2990506^
"^DD",727.81,727.81,53,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.81,727.81,53,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.81,727.81,53,23,3,0)
   
"^DD",727.81,727.81,53,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.81,727.81,53,"DT")
2990506
"^DD",727.81,727.81,54,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;21^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,54,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.81,727.81,54,21,0)
^^8^8^3001020^
"^DD",727.81,727.81,54,21,1,0)
 
"^DD",727.81,727.81,54,21,2,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is
"^DD",727.81,727.81,54,21,3,0)
admitted to either a DOM, PRRTP or SAARTP at the time hospital
"^DD",727.81,727.81,54,21,4,0)
service is provided.
"^DD",727.81,727.81,54,21,5,0)
Domiciliary
"^DD",727.81,727.81,54,21,6,0)
(DOM)
"^DD",727.81,727.81,54,21,7,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.81,727.81,54,21,8,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.81,727.81,54,"DT")
3001010
"^DD",727.81,727.81,55,0)
PURPLE HEART INDICATOR^S^Y:YES;N:NO;^1;22^Q
"^DD",727.81,727.81,55,3)
Purple Heart Indicator is as of yet not defined.  It will be (Y)es, (N)o or (U)nknow.
"^DD",727.81,727.81,55,21,0)
^^1^1^3001020^
"^DD",727.81,727.81,55,21,1,0)
Indicates whether or not a patient is a Purple Heart recipient.
"^DD",727.81,727.81,55,"DT")
3000614
"^DD",727.81,727.81,56,0)
ENROLLMENT CATEGORY^F^^1;23^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,56,3)
Answer must be 1 character in length.
"^DD",727.81,727.81,56,21,0)
^^1^1^3001020^
"^DD",727.81,727.81,56,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.81,727.81,56,"DT")
3000614
"^DD",727.81,727.81,57,0)
ENROLLMENT STATUS^F^^1;24^K:$L(X)>2!($L(X)<1) X
"^DD",727.81,727.81,57,3)
Answer must be 1-2 characters in length.
"^DD",727.81,727.81,57,21,0)
^^1^1^3001020^
"^DD",727.81,727.81,57,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.81,727.81,57,"DT")
3000614
"^DD",727.81,727.81,58,0)
ENROLLMENT PRIORITY^F^^1;25^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,58,3)
Answer must be 1 character in length.
"^DD",727.81,727.81,58,21,0)
^^1^1^3001020^
"^DD",727.81,727.81,58,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.81,727.81,58,"DT")
3000614
"^DD",727.81,727.81,59,0)
CNHU STATUS^F^^1;26^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,59,3)
Answer must be 1 character in length.
"^DD",727.81,727.81,59,"DT")
3000614
"^DD",727.81,727.81,60,0)
PERIOD OF SERVICE^F^^1;27^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,60,3)
Answer must be 1 character in length.
"^DD",727.81,727.81,60,21,0)
^^2^2^3001020^
"^DD",727.81,727.81,60,21,1,0)
The period of service that best classifies the patient based on
"^DD",727.81,727.81,60,21,2,0)
eligibility code.
"^DD",727.81,727.81,60,23,0)
^^2^2^3001020^
"^DD",727.81,727.81,60,23,1,0)
Period of Service is derived from the Period of Service field (#.323) in
"^DD",727.81,727.81,60,23,2,0)
the Patient file (#2).
"^DD",727.81,727.81,60,"DT")
3000614
"^DD",727.81,727.81,61,0)
EXTENDED OUTPATIEND INDICATOR^F^^1;28^K:$L(X)>4!($L(X)<1) X
"^DD",727.81,727.81,61,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.81,727.81,61,21,0)
^^1^1^3001020^
"^DD",727.81,727.81,61,21,1,0)
Indicates that a patient is an Extended Outpatient
"^DD",727.81,727.81,61,"DT")
3000713
"^DD",727.811,727.811,0)
FIELD^^54^52
"^DD",727.811,727.811,0,"DIK")
ECX811
"^DD",727.811,727.811,0,"DIKOLD")
ECX811
"^DD",727.811,727.811,0,"DT")
3000620
"^DD",727.811,727.811,0,"IX","AC",727.811,2)

"^DD",727.811,727.811,0,"NM","SURGERY EXTRACT")

"^DD",727.811,727.811,0,"VRPK")
ECX
"^DD",727.811,727.811,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.811,727.811,.01,.1)
Sequence Number
"^DD",727.811,727.811,.01,1,0)
^.1^^0
"^DD",727.811,727.811,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.811,727.811,.01,21,0)
^^1^1^2961002^^^^
"^DD",727.811,727.811,.01,21,1,0)
The record number for this extract entry.
"^DD",727.811,727.811,.01,23,0)
^^1^1^2961002^^^
"^DD",727.811,727.811,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.811,727.811,.01,"DT")
2980812
"^DD",727.811,727.811,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.811,727.811,1,.1)
Year/Month
"^DD",727.811,727.811,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.811,727.811,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.811,727.811,1,3)
Answer must be 6 characters in length.
"^DD",727.811,727.811,1,21,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,1,21,1,0)
A six character string representing the year and the month
"^DD",727.811,727.811,1,21,2,0)
for which this extract was performed.
"^DD",727.811,727.811,1,23,0)
^^1^1^2970912^^^^
"^DD",727.811,727.811,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.811,727.811,1,"DT")
2970924
"^DD",727.811,727.811,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.811,727.811,2,.1)
Extract Number
"^DD",727.811,727.811,2,1,0)
^.1
"^DD",727.811,727.811,2,1,1,0)
727.811^AC
"^DD",727.811,727.811,2,1,1,1)
S ^ECX(727.811,"AC",$E(X,1,30),DA)=""
"^DD",727.811,727.811,2,1,1,2)
K ^ECX(727.811,"AC",$E(X,1,30),DA)
"^DD",727.811,727.811,2,1,1,3)
DO NOT DELETE.
"^DD",727.811,727.811,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.811,727.811,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.811,727.811,2,1,1,"%D",2,0)
in this file.
"^DD",727.811,727.811,2,1,1,"DT")
2910802
"^DD",727.811,727.811,2,3)
Enter the extract number for this extract.
"^DD",727.811,727.811,2,21,0)
^^2^2^2961002^^^^
"^DD",727.811,727.811,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.811,727.811,2,21,2,0)
extract.
"^DD",727.811,727.811,2,23,0)
^^2^2^2961002^^^^
"^DD",727.811,727.811,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.811,727.811,2,23,2,0)
pick up the header for the mail message.
"^DD",727.811,727.811,2,"DT")
2961002
"^DD",727.811,727.811,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.811,727.811,3,.1)
Facility
"^DD",727.811,727.811,3,3)
Answer must be 1-7 characters in length.
"^DD",727.811,727.811,3,21,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,3,21,1,0)
Identifies the Surgery site/division for this extract record.
"^DD",727.811,727.811,3,21,2,0)
It represents the station number from the INSTITUTION file (#4).
"^DD",727.811,727.811,3,23,0)
^^7^7^2970912^^^^
"^DD",727.811,727.811,3,23,1,0)
If there is data in the DIVISION field (50) of the SURGERY file (#130) 
"^DD",727.811,727.811,3,23,2,0)
for the extract record, this pointer to the INSTITUTION file (#4) is 
"^DD",727.811,727.811,3,23,3,0)
used. Otherwise, FACILITY is derived as follows. Using the NAME field 
"^DD",727.811,727.811,3,23,4,0)
(#.01) pointer from the DSS EXTRACTS file (#728), FACILITY is derived 
"^DD",727.811,727.811,3,23,5,0)
from the STATION NUMBER field (#99) for that pointer number in the 
"^DD",727.811,727.811,3,23,6,0)
INSTITUTION file (#4). An indicator of the division where this event 
"^DD",727.811,727.811,3,23,7,0)
happened.
"^DD",727.811,727.811,3,"DT")
2970911
"^DD",727.811,727.811,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.811,727.811,4,.1)
Patient No. - DFN
"^DD",727.811,727.811,4,3)
Enter the name of the patient for this extract record.
"^DD",727.811,727.811,4,21,0)
^^1^1^2990504^^^^
"^DD",727.811,727.811,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.811,727.811,4,23,0)
^^3^3^2990504^^^
"^DD",727.811,727.811,4,23,1,0)
Derived from the PATIENT (.01) field in the SURGERY file (#130). 
"^DD",727.811,727.811,4,23,2,0)
PATIENT NO. - DFN is a pointer to the NAME field (.01) of the PATIENT 
"^DD",727.811,727.811,4,23,3,0)
file (#2). This data represents the patient DFN.
"^DD",727.811,727.811,4,"DT")
2961018
"^DD",727.811,727.811,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.811,727.811,5,.1)
Social Security Number
"^DD",727.811,727.811,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.811,727.811,5,21,0)
^^4^4^2990504^^^^
"^DD",727.811,727.811,5,21,1,0)
The patient's social security number.
"^DD",727.811,727.811,5,21,2,0)
 
"^DD",727.811,727.811,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.811,727.811,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.811,727.811,5,23,0)
^^6^6^2990504^^^
"^DD",727.811,727.811,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.811,727.811,5,23,2,0)
in the SURGERY EXTRACT file (#727.811), SSN data is derived from the
"^DD",727.811,727.811,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.811,727.811,5,23,4,0)
 
"^DD",727.811,727.811,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.811,727.811,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.811,727.811,5,"DT")
2961002
"^DD",727.811,727.811,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.811,727.811,6,.1)
Name
"^DD",727.811,727.811,6,3)
Your answer must be 4 characters in length.
"^DD",727.811,727.811,6,21,0)
^^1^1^2961021^^^^
"^DD",727.811,727.811,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.811,727.811,6,23,0)
^^4^4^2961021^^^
"^DD",727.811,727.811,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.811,727.811,6,23,2,0)
in the SURGERY EXTRACT file (#727.811), NAME data is derived from the NAME
"^DD",727.811,727.811,6,23,3,0)
field (.01) in the PATIENT file (#2). The first four characters of the
"^DD",727.811,727.811,6,23,4,0)
first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.811,727.811,6,"DT")
2961002
"^DD",727.811,727.811,7,0)
IN OUT PATIENT INDICATOR^F^^0;8^K:$L(X)>3!($L(X)<1) X
"^DD",727.811,727.811,7,.1)
In Out Patient Indicator
"^DD",727.811,727.811,7,3)
Answer must be 1-3 characters in length.
"^DD",727.811,727.811,7,21,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.811,727.811,7,21,2,0)
this extract.
"^DD",727.811,727.811,7,23,0)
^^4^4^2970912^^^^
"^DD",727.811,727.811,7,23,1,0)
Derived from the IN/OUT-PATIENT STATUS field (.011) in the SURGERY file 
"^DD",727.811,727.811,7,23,2,0)
(#130) for the extract record. If IN/OUT-PATIENT STATUS is an I, this 
"^DD",727.811,727.811,7,23,3,0)
field is set to 3 indicating inpatient status. Otherwise it is set to 1 
"^DD",727.811,727.811,7,23,4,0)
indicating outpatient status.
"^DD",727.811,727.811,7,"DT")
2970911
"^DD",727.811,727.811,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.811,727.811,8,.1)
Day
"^DD",727.811,727.811,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.811,727.811,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.811,727.811,8,3)
Answer must be 8 characters in length.
"^DD",727.811,727.811,8,21,0)
^^2^2^2980126^^^^
"^DD",727.811,727.811,8,21,1,0)
This 8-character string represents the date on which the procedure
"^DD",727.811,727.811,8,21,2,0)
associated with this Surgery extract record was performed.
"^DD",727.811,727.811,8,23,0)
^^9^9^2980126^^^^
"^DD",727.811,727.811,8,23,1,0)
Date source:
"^DD",727.811,727.811,8,23,2,0)
 
"^DD",727.811,727.811,8,23,3,0)
SURGERY file (#130); DATE OF OPERATION field (#.09)
"^DD",727.811,727.811,8,23,4,0)
 
"^DD",727.811,727.811,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.811,727.811,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.811,727.811,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.811,727.811,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.811,727.811,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.811,727.811,8,"DT")
2970924
"^DD",727.811,727.811,9,0)
CASE NUMBER^F^^0;10^K:$L(X)>12!($L(X)<1) X
"^DD",727.811,727.811,9,.1)
Case Number
"^DD",727.811,727.811,9,3)
Answer must be 1-12 characters in length.
"^DD",727.811,727.811,9,21,0)
^^1^1^2970912^^^^
"^DD",727.811,727.811,9,21,1,0)
This character string represents in IEN in the SURGERY file (#130).
"^DD",727.811,727.811,9,23,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,9,23,1,0)
CASE NUMBER is the internal entry number (IEN) of the entry from the 
"^DD",727.811,727.811,9,23,2,0)
SURGERY file (#130) for this extract record. 
"^DD",727.811,727.811,9,"DT")
2970911
"^DD",727.811,727.811,10,0)
SURGICAL SPECIALTY^F^^0;11^K:$L(X)>3!($L(X)<3)!'(X?3N) X
"^DD",727.811,727.811,10,.1)
Surgical Specialty
"^DD",727.811,727.811,10,3)
Your answer must be 3 characters in length.
"^DD",727.811,727.811,10,21,0)
^^1^1^2970729^^^^
"^DD",727.811,727.811,10,21,1,0)
The surgical specialty credited for doing this operative procedure.
"^DD",727.811,727.811,10,23,0)
^^6^6^2970729^^^^
"^DD",727.811,727.811,10,23,1,0)
Derived from the NATIONAL SURGICAL SPECIALTY field (1) in the LOCAL 
"^DD",727.811,727.811,10,23,2,0)
SURGICAL SPECIALTY file (#137.45) for the pointer value found in the 
"^DD",727.811,727.811,10,23,3,0)
SURGERY SPECIALTY field (.04) of the SURGERY file (#130). SURGICAL 
"^DD",727.811,727.811,10,23,4,0)
SPECIALTY is the three digit CODE field (.01) from the SURGICAL 
"^DD",727.811,727.811,10,23,5,0)
SPECIALTY file (#45.3). If no surgical specialty is found, this field 
"^DD",727.811,727.811,10,23,6,0)
is sent as 999.
"^DD",727.811,727.811,10,"DT")
2961002
"^DD",727.811,727.811,11,0)
OR ROOM NUMBER^F^^0;12^K:$L(X)>6!($L(X)<1) X
"^DD",727.811,727.811,11,.1)
OR Room Number
"^DD",727.811,727.811,11,3)
Answer must be 1-6 characters in length.
"^DD",727.811,727.811,11,21,0)
^^3^3^2970912^^^^
"^DD",727.811,727.811,11,21,1,0)
This character string represents an IEN to the HOSPITAL LOCATION
"^DD",727.811,727.811,11,21,2,0)
file (#44) for the operating room where the principal operation
"^DD",727.811,727.811,11,21,3,0)
was performed.
"^DD",727.811,727.811,11,23,0)
^^5^5^2970912^^^^
"^DD",727.811,727.811,11,23,1,0)
Derived from the OPERATING ROOM field (#.02) in the SURGERY file (#130). 
"^DD",727.811,727.811,11,23,2,0)
Field #.02 points to the OPERATING ROOM file (#131.7), which in turn is 
"^DD",727.811,727.811,11,23,3,0)
a pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.811,727.811,11,23,4,0)
 
"^DD",727.811,727.811,11,23,5,0)
The character string stored in this field represents an IEN in file #44.
"^DD",727.811,727.811,11,"DT")
2970911
"^DD",727.811,727.811,12,0)
SURGEON^F^^0;13^K:$L(X)>11!($L(X)<1) X
"^DD",727.811,727.811,12,.1)
Surgeon
"^DD",727.811,727.811,12,3)
Enter person performing the major portion of the principal operative procedure.
"^DD",727.811,727.811,12,21,0)
^^2^2^2980608^^^^
"^DD",727.811,727.811,12,21,1,0)
The person performing the major portion of the principal operative
"^DD",727.811,727.811,12,21,2,0)
procedure.
"^DD",727.811,727.811,12,23,0)
^^5^5^2980608^^^^
"^DD",727.811,727.811,12,23,1,0)
Derived from the SURGEON field (.14) in the SURGERY file (#130) for 
"^DD",727.811,727.811,12,23,2,0)
the surgical case. If the case is a non-OR surgical procedure, the 
"^DD",727.811,727.811,12,23,3,0)
PROVIDER field (123) from the SURGERY file (#130) is used. In either 
"^DD",727.811,727.811,12,23,4,0)
occurrence, it is a pointer to the NEW PERSON file (#200). This data 
"^DD",727.811,727.811,12,23,5,0)
is stored as "2"_pointer value.
"^DD",727.811,727.811,12,"DT")
2961018
"^DD",727.811,727.811,13,0)
ATTENDING SURGEON^F^^0;14^K:$L(X)>11!($L(X)<1) X
"^DD",727.811,727.811,13,.1)
Attending Surgeon
"^DD",727.811,727.811,13,3)
The attending staff surgeon responsible for this case.
"^DD",727.811,727.811,13,21,0)
^^1^1^2980608^^^^
"^DD",727.811,727.811,13,21,1,0)
The attending staff surgeon responsible for this case.
"^DD",727.811,727.811,13,23,0)
^^5^5^2980608^^^^
"^DD",727.811,727.811,13,23,1,0)
Derived from the ATTEND SURG field (.164) in the SURGERY file (#130) 
"^DD",727.811,727.811,13,23,2,0)
for the surgical case. If the case is a non-OR surgical procedure, the 
"^DD",727.811,727.811,13,23,3,0)
ATTEND PROVIDER field (124) from the SURGERY file (#130) is used. In 
"^DD",727.811,727.811,13,23,4,0)
either occurrence, it is a pointer to the NEW PERSON file (#200). This 
"^DD",727.811,727.811,13,23,5,0)
data is stored as "2"_pointer value.
"^DD",727.811,727.811,13,"DT")
2961018
"^DD",727.811,727.811,14,0)
ANESTHESIA SUPERVISOR^F^^0;15^K:$L(X)>11!($L(X)<1) X
"^DD",727.811,727.811,14,.1)
Anesthesia Supervisor
"^DD",727.811,727.811,14,3)
Enter the anesthesiology staff supervisor.
"^DD",727.811,727.811,14,21,0)
^^1^1^2980608^^^^
"^DD",727.811,727.811,14,21,1,0)
This is the anesthesiology staff supervisor.
"^DD",727.811,727.811,14,23,0)
^^3^3^2980608^^^^
"^DD",727.811,727.811,14,23,1,0)
Derived from the ANESTHESIOLOGIST SUPVR field (.34) in the SURGERY 
"^DD",727.811,727.811,14,23,2,0)
file (#130) for the surgical case. This field is a pointer to the NEW 
"^DD",727.811,727.811,14,23,3,0)
PERSON file (#200) and is stored as "2"_pointer value.
"^DD",727.811,727.811,14,"DT")
2961018
"^DD",727.811,727.811,15,0)
ANESTHESIA TECHNIQUE^S^S:SPINAL;E:EPIDURAL;O:OTHER;G:GENERAL;M:MONITORED ANESTHESIA CARE;L:LOCAL;^0;16^Q
"^DD",727.811,727.811,15,.1)
Anesthesia Technique
"^DD",727.811,727.811,15,3)
Enter the anesthesia technique used for this surgical case.
"^DD",727.811,727.811,15,21,0)
^^2^2^2970729^^^^
"^DD",727.811,727.811,15,21,1,0)
The code corresponding to the type of anesthesia technique used 
"^DD",727.811,727.811,15,21,2,0)
during this case.
"^DD",727.811,727.811,15,23,0)
^^3^3^2970729^^^^
"^DD",727.811,727.811,15,23,1,0)
Derived from the ANESTHESIA TECHNIQUE field (.01) within the ANESTHESIA 
"^DD",727.811,727.811,15,23,2,0)
TECHNIQUE multiple (.37) of the SURGERY file (#130). This anesthesia 
"^DD",727.811,727.811,15,23,3,0)
technique is the principal technique.
"^DD",727.811,727.811,15,"DT")
2961002
"^DD",727.811,727.811,16,0)
PRIMARY/SECONDARY/PROSTHETICS^F^^0;17^K:$L(X)>1!($L(X)<1) X
"^DD",727.811,727.811,16,.1)
Primary/Secondary/Prosthetics
"^DD",727.811,727.811,16,3)
Your answer must be 1 character in length.
"^DD",727.811,727.811,16,21,0)
^^1^1^2970729^^^^
"^DD",727.811,727.811,16,21,1,0)
The indicator if this is a primary, secondary or prostheses.
"^DD",727.811,727.811,16,23,0)
^^4^4^2970729^^^^
"^DD",727.811,727.811,16,23,1,0)
Data is P for primary when the extract record is for a principal 
"^DD",727.811,727.811,16,23,2,0)
procedure. It is S for secondary when the extract record is for other 
"^DD",727.811,727.811,16,23,3,0)
procedure. It is I for implants (prostheses) when the extract record is 
"^DD",727.811,727.811,16,23,4,0)
for a prosthesis item.
"^DD",727.811,727.811,16,"DT")
2961002
"^DD",727.811,727.811,17,0)
CPT^F^^0;18^K:$L(X)>8!($L(X)<5) X
"^DD",727.811,727.811,17,.1)
Current Procedural Terminology
"^DD",727.811,727.811,17,3)
Enter CPT Code, "-", and 2 character modifier.
"^DD",727.811,727.811,17,21,0)
^^2^2^2990505^^^^
"^DD",727.811,727.811,17,21,1,0)
The Current Procedural Terminology (CPT) code for the operative 
"^DD",727.811,727.811,17,21,2,0)
procedure.
"^DD",727.811,727.811,17,23,0)
^^6^6^2990505^^^^
"^DD",727.811,727.811,17,23,1,0)
For the principal procedure, CPT is derived from the CPT CODE field 
"^DD",727.811,727.811,17,23,2,0)
(.01) in the CPT file (#81) as defined by the PRINCIPAL PROCEDURE CODE 
"^DD",727.811,727.811,17,23,3,0)
field (27) in the SURGERY file (#130).
"^DD",727.811,727.811,17,23,4,0)
If the extract record is for a secondary procedure, CPT is derived 
"^DD",727.811,727.811,17,23,5,0)
from the OTHER PROCEDURE CPT CODE field (3) within the OTHER PROCEDURES 
"^DD",727.811,727.811,17,23,6,0)
multiple (.42) in the SURGERY file (#130).
"^DD",727.811,727.811,17,"DT")
2961018
"^DD",727.811,727.811,19,0)
PATIENT TIME^F^^0;20^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,19,.1)
Patient Time
"^DD",727.811,727.811,19,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.811,727.811,19,21,0)
^.001^1^1^3000804^^^^
"^DD",727.811,727.811,19,21,1,0)
The time, in 15 minute increments, the patient was in the OR.
"^DD",727.811,727.811,19,23,0)
^.001^2^2^3000804^^^^
"^DD",727.811,727.811,19,23,1,0)
Derived from the TIME PAT OUT OR field (.232) minus the TIME PAT IN OR 
"^DD",727.811,727.811,19,23,2,0)
field (.205) in the SURGERY file (#130).
"^DD",727.811,727.811,19,"DT")
3000804
"^DD",727.811,727.811,20,0)
OPERATION TIME^F^^0;21^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,20,.1)
Operation Time
"^DD",727.811,727.811,20,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.811,727.811,20,21,0)
^.001^1^1^3000804^^^^
"^DD",727.811,727.811,20,21,1,0)
The time, in 15 minute increments, of the principal operative procedure.
"^DD",727.811,727.811,20,23,0)
^.001^5^5^3000804^^^^
"^DD",727.811,727.811,20,23,1,0)
Derived from the TIME OPERATION ENDS field (.23) minus the TIME OPERATION 
"^DD",727.811,727.811,20,23,2,0)
BEGAN field (.22) in the SURGERY file (#130) for the surgical case. If the 
"^DD",727.811,727.811,20,23,3,0)
case is a non-OR surgical precede, OPERATION TIME is derived from the TIME 
"^DD",727.811,727.811,20,23,4,0)
PROCEDURE ENDED field (122) minus the TIME PROCEDURE BEGAN field (121) in 
"^DD",727.811,727.811,20,23,5,0)
the SURGERY file (#130).
"^DD",727.811,727.811,20,"DT")
2961002
"^DD",727.811,727.811,21,0)
ANESTHESIA TIME^F^^0;22^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,21,.1)
Anesthesia Time
"^DD",727.811,727.811,21,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.811,727.811,21,21,0)
^.001^1^1^3000804^^^^
"^DD",727.811,727.811,21,21,1,0)
The time, in 15 minute increments, of the anesthesia care administered.
"^DD",727.811,727.811,21,23,0)
^.001^2^2^3000804^^^^
"^DD",727.811,727.811,21,23,1,0)
Derived from the ANES CARE END TIME field (.24) minus the ANES CARE START 
"^DD",727.811,727.811,21,23,2,0)
TIME field (.21) in the SURGERY file (#130).
"^DD",727.811,727.811,21,"DT")
2961002
"^DD",727.811,727.811,22,0)
PROSTHESIS^F^^0;23^K:$L(X)>10!($L(X)<1) X
"^DD",727.811,727.811,22,.1)
Prosthesis
"^DD",727.811,727.811,22,3)
Answer must be 1-10 characters in length.
"^DD",727.811,727.811,22,21,0)
^^2^2^2990510^^^^
"^DD",727.811,727.811,22,21,1,0)
The character string in this field represents an IEN in the 
"^DD",727.811,727.811,22,21,2,0)
PROSTHESIS file (#130.9).
"^DD",727.811,727.811,22,23,0)
^^6^6^2990510^^^
"^DD",727.811,727.811,22,23,1,0)
Derived from the PROSTHESIS ITEM field (#.01) within the PROSTHESIS 
"^DD",727.811,727.811,22,23,2,0)
INSTALLED multiple (#.47) in the SURGERY file (#130). PROSTHESIS ITEM  
"^DD",727.811,727.811,22,23,3,0)
is a pointer to the PROSTHESIS file (#131.9).
"^DD",727.811,727.811,22,23,4,0)
 
"^DD",727.811,727.811,22,23,5,0)
The character string in this field represents an IEN in the PROSTHESIS
"^DD",727.811,727.811,22,23,6,0)
file (#130.9).
"^DD",727.811,727.811,22,"DT")
2970911
"^DD",727.811,727.811,23,0)
QUANTITY^NJ2,0^^0;24^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.811,727.811,23,.1)
Quantity
"^DD",727.811,727.811,23,3)
Type a Number between 1 and 99, 0 Decimal Digits
"^DD",727.811,727.811,23,21,0)
^^1^1^2970912^^^^
"^DD",727.811,727.811,23,21,1,0)
The quantity of the prosthetic device used for this operative procedure.
"^DD",727.811,727.811,23,23,0)
^^3^3^2970912^^^^
"^DD",727.811,727.811,23,23,1,0)
Derived from the QUANTITY field (#7) within the PROSTHESIS INSTALLED 
"^DD",727.811,727.811,23,23,2,0)
multiple (#.47) in the SURGERY file (#130) for the PROSTHESIS ITEM 
"^DD",727.811,727.811,23,23,3,0)
referred to in the PROSTHESIS field (#22) of this file.
"^DD",727.811,727.811,23,"DT")
2970911
"^DD",727.811,727.811,25,0)
MOVEMENT FILE #^P405'^DGPM(^0;26^Q
"^DD",727.811,727.811,25,.1)
Movement File Number
"^DD",727.811,727.811,25,3)
Enter the patient movement number associated with this extract record.
"^DD",727.811,727.811,25,21,0)
^^1^1^2961002^^^
"^DD",727.811,727.811,25,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.811,727.811,25,23,0)
^^4^4^2961002^^^
"^DD",727.811,727.811,25,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.811,727.811,25,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.811,727.811,25,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.811,727.811,25,23,4,0)
(#405).
"^DD",727.811,727.811,25,"DT")
2961002
"^DD",727.811,727.811,26,0)
TREATING SPECIALTY^F^^0;27^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,26,.1)
Treating Specialty
"^DD",727.811,727.811,26,3)
Answer must be 1-4 characters in length.
"^DD",727.811,727.811,26,21,0)
^^2^2^2990510^^^^
"^DD",727.811,727.811,26,21,1,0)
The character string in this field represents an IEN in the 
"^DD",727.811,727.811,26,21,2,0)
SPECIALTY file (#42.4).
"^DD",727.811,727.811,26,23,0)
^^9^9^2990512^^^^
"^DD",727.811,727.811,26,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.811,727.811,26,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.811,727.811,26,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.811,727.811,26,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.811,727.811,26,23,5,0)
(#45.7), is used to get the SPECIALTY field (#1) which points to the 
"^DD",727.811,727.811,26,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.811,727.811,26,23,7,0)
 
"^DD",727.811,727.811,26,23,8,0)
That pointer value is stored here as a character string; this field
"^DD",727.811,727.811,26,23,9,0)
represents and IEN in file #42.4.
"^DD",727.811,727.811,26,"DT")
2970911
"^DD",727.811,727.811,27,0)
CANCELLED^S^C:C;^0;28^Q
"^DD",727.811,727.811,27,.1)
Cancelled
"^DD",727.811,727.811,27,3)
Enter C if the procedure was cancelled.
"^DD",727.811,727.811,27,21,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,27,21,1,0)
If set, this field indicates that the surgical procedure was cancelled 
"^DD",727.811,727.811,27,21,2,0)
after being started.
"^DD",727.811,727.811,27,23,0)
^^7^7^2970912^^^^
"^DD",727.811,727.811,27,23,1,0)
If cancellation information exists (^SRF(D0,30)) or
"^DD",727.811,727.811,27,23,2,0)
for a regular procedure (not a non-OR procedure ^SRF(D0,NON)), 
"^DD",727.811,727.811,27,23,3,0)
there is no data in the TIME PAT IN OR field (.205),
"^DD",727.811,727.811,27,23,4,0)
then the extract record is not sent as per 2/7/94 decision.
"^DD",727.811,727.811,27,23,5,0)
 
"^DD",727.811,727.811,27,23,6,0)
This field is being retained for backward compatibility; essentially
"^DD",727.811,727.811,27,23,7,0)
it serves as a placeholder in the data line.
"^DD",727.811,727.811,27,"DT")
2970911
"^DD",727.811,727.811,28,0)
TIME^FO^^0;29^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.811,727.811,28,.1)
Time
"^DD",727.811,727.811,28,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.811,727.811,28,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.811,727.811,28,3)
Answer must be 6 characters in length.
"^DD",727.811,727.811,28,21,0)
^^1^1^2970912^^^^
"^DD",727.811,727.811,28,21,1,0)
The military time when the patient entered the OR.
"^DD",727.811,727.811,28,23,0)
^^6^6^2970923^^^^
"^DD",727.811,727.811,28,23,1,0)
Data source:
"^DD",727.811,727.811,28,23,2,0)
 
"^DD",727.811,727.811,28,23,3,0)
SURGERY file (#130); TIME PAT IN OR field (#.205)
"^DD",727.811,727.811,28,23,4,0)
 
"^DD",727.811,727.811,28,23,5,0)
The character string is always consists of exactly 6 numerics.  The
"^DD",727.811,727.811,28,23,6,0)
field default is "000300" for Year 2000 compliance per vendor.
"^DD",727.811,727.811,28,"DT")
2970924
"^DD",727.811,727.811,29,0)
OR TYPE^F^^0;30^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,29,.1)
OR Type
"^DD",727.811,727.811,29,3)
Answer must be 1-4 characters in length.
"^DD",727.811,727.811,29,21,0)
^^3^3^2990510^^^^
"^DD",727.811,727.811,29,21,1,0)
The OR TYPE of the operating room where this procedure was done.
"^DD",727.811,727.811,29,21,2,0)
This field is a character string which represents an IEN in the
"^DD",727.811,727.811,29,21,3,0)
OPERATING ROOM TYPE file (#134).
"^DD",727.811,727.811,29,23,0)
^^7^7^2990510^^^^
"^DD",727.811,727.811,29,23,1,0)
For the OPERATING ROOM field (#.02) identified in the SURGERY file 
"^DD",727.811,727.811,29,23,2,0)
(#130), OR TYPE is derived from the TYPE field (#9) in the OPERATING 
"^DD",727.811,727.811,29,23,3,0)
ROOM file (#131.7). It is a pointer to the OPERATING ROOM TYPE file 
"^DD",727.811,727.811,29,23,4,0)
(#134) which is a national standard operating room types list.
"^DD",727.811,727.811,29,23,5,0)
 
"^DD",727.811,727.811,29,23,6,0)
That pointer value is stored here as a character string; this field
"^DD",727.811,727.811,29,23,7,0)
then represents an IEN in file #134.
"^DD",727.811,727.811,29,"DT")
2970911
"^DD",727.811,727.811,30,0)
ATTENDING'S SERVICE^F^^0;31^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,30,.1)
Attending's Service
"^DD",727.811,727.811,30,3)
Answer must be 1-4 characters in length.
"^DD",727.811,727.811,30,21,0)
^.001^3^3^3001101^^^^
"^DD",727.811,727.811,30,21,1,0)
The service to which the attending surgeon is assigned.
"^DD",727.811,727.811,30,21,2,0)
The character string in this field represents an IEN in the NATIONAL
"^DD",727.811,727.811,30,21,3,0)
SERVICE file (#730).
"^DD",727.811,727.811,30,23,0)
^.001^10^10^3001101^^^^
"^DD",727.811,727.811,30,23,1,0)
ATTENDING'S SERVICE is an IEN in the NATIONAL SERVICE file (#730). 
"^DD",727.811,727.811,30,23,2,0)
 
"^DD",727.811,727.811,30,23,3,0)
It is derived from the SERVICE/SECTION field (#29) in the NEW PERSON file 
"^DD",727.811,727.811,30,23,4,0)
(#200) for the ATTENDING SURGEON field (#13) in the SURGERY EXTRACT file 
"^DD",727.811,727.811,30,23,5,0)
(#727.811) which is a pointer to the SERVICE/SECTION file (#49). 
"^DD",727.811,727.811,30,23,6,0)
The pointer value found in the NATIONAL SERVICE field (#730) of the 
"^DD",727.811,727.811,30,23,7,0)
SERVICE/SECTION file (#49) points to the NATIONAL SERVICE file (#730). 
"^DD",727.811,727.811,30,23,8,0)
 
"^DD",727.811,727.811,30,23,9,0)
The pointer value to file #730 is stored in this field as a character
"^DD",727.811,727.811,30,23,10,0)
string.
"^DD",727.811,727.811,30,"DT")
2970911
"^DD",727.811,727.811,31,0)
NON-OR DSS IDENTIFIER^F^^0;32^K:$L(X)>10!($L(X)<1) X
"^DD",727.811,727.811,31,.1)

"^DD",727.811,727.811,31,3)
Your answer must be 1 to 10 characters in length.
"^DD",727.811,727.811,31,21,0)
^^1^1^2990510^^^^
"^DD",727.811,727.811,31,21,1,0)
The DSS UNIT IDENTIFIER for the non-OR location for this procedure.
"^DD",727.811,727.811,31,23,0)
^^5^5^2990510^^^^
"^DD",727.811,727.811,31,23,1,0)
For a non-OR procedure, the NON-OR LOCATION field (119) in the SURGERY 
"^DD",727.811,727.811,31,23,2,0)
file (#130) points to the HOSPITAL LOCATION file (#44). The pointer is 
"^DD",727.811,727.811,31,23,3,0)
used to examine the DSS UNIT IDENTIFIER field (8) in the CLINIC AND STOP 
"^DD",727.811,727.811,31,23,4,0)
CODES file (#728.44), to determine if this clinic is used for non-OR 
"^DD",727.811,727.811,31,23,5,0)
surgical procedures.
"^DD",727.811,727.811,31,"DT")
2990510
"^DD",727.811,727.811,32,0)
RECOVERY ROOM (PACU) TIME^F^^0;33^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,32,.1)
Recovery Room (PACU) Time
"^DD",727.811,727.811,32,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.811,727.811,32,21,0)
^.001^2^2^3000804^^^^
"^DD",727.811,727.811,32,21,1,0)
The time, in 15 minute increments, that the patient spent in the
"^DD",727.811,727.811,32,21,2,0)
post anesthesia care unit.
"^DD",727.811,727.811,32,23,0)
^.001^2^2^3000804^^^^
"^DD",727.811,727.811,32,23,1,0)
Derived from the PAC(U) DISCH TIME field (1.18) minus the ADMIT PAC(U) 
"^DD",727.811,727.811,32,23,2,0)
TIME field (1.17) in the SURGERY file (#130).
"^DD",727.811,727.811,32,"DT")
2961002
"^DD",727.811,727.811,34,0)
PRIMARY CARE TEAM^F^^0;35^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,34,.1)
Primary Care Team
"^DD",727.811,727.811,34,3)
Enter primary care team assigned to this patient.
"^DD",727.811,727.811,34,21,0)
^^1^1^2961031^^^^
"^DD",727.811,727.811,34,21,1,0)
The primary care team assigned to this patient.
"^DD",727.811,727.811,34,23,0)
^^6^6^2961031^^^
"^DD",727.811,727.811,34,23,1,0)
Using the DATE OF OPERATION field (.09) from the SURGERY file (#130) 
"^DD",727.811,727.811,34,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.811,727.811,34,23,3,0)
in the SURGERY EXTRACT file (#727.811), a call is made to the Scheduling 
"^DD",727.811,727.811,34,23,4,0)
API, OUTPTTM^SDUTL3. The API returns the team's internal entry number 
"^DD",727.811,727.811,34,23,5,0)
and name from the TEAM file (#404.51). Only the pointer (IEN) to File 
"^DD",727.811,727.811,34,23,6,0)
404.51 is transmitted.
"^DD",727.811,727.811,34,"DT")
2961031
"^DD",727.811,727.811,35,0)
PRIMARY CARE PROVIDER^F^^0;36^K:$L(X)>11!($L(X)<1) X
"^DD",727.811,727.811,35,.1)
Primary Care Provider
"^DD",727.811,727.811,35,3)
Enter primary care provider assigned to this patient.
"^DD",727.811,727.811,35,21,0)
^^1^1^2980708^^^^
"^DD",727.811,727.811,35,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.811,727.811,35,23,0)
^^8^8^2980708^^^^
"^DD",727.811,727.811,35,23,1,0)
Using the DATE OF OPERATION field (.09) from the SURGERY file (#130) 
"^DD",727.811,727.811,35,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.811,727.811,35,23,3,0)
in the SURGERY EXTRACT file (#727.811), a call is made to the Scheduling 
"^DD",727.811,727.811,35,23,4,0)
API, OUTPTPR^SDUTL3. The API returns the provider's internal entry 
"^DD",727.811,727.811,35,23,5,0)
number and name from the NEW PERSON file (#200). 
"^DD",727.811,727.811,35,23,6,0)
 
"^DD",727.811,727.811,35,23,7,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.811,727.811,35,23,8,0)
is "200".
"^DD",727.811,727.811,35,"DT")
2961018
"^DD",727.811,727.811,36,0)
ADMISSION DATE^FO^^0;37^K:$L(X)>8!($L(X)<8) X
"^DD",727.811,727.811,36,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.811,727.811,36,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.811,727.811,36,3)
Answer must be 8 characters in length.
"^DD",727.811,727.811,36,21,0)
^^2^2^2980130^^^^
"^DD",727.811,727.811,36,21,1,0)
This 8-character string represents the date on which the Admission
"^DD",727.811,727.811,36,21,2,0)
associated with this Surgery extract record took place.
"^DD",727.811,727.811,36,23,0)
^^8^8^2980130^^^^
"^DD",727.811,727.811,36,23,1,0)
Source:
"^DD",727.811,727.811,36,23,2,0)
field #.01; file #405
"^DD",727.811,727.811,36,23,3,0)
 
"^DD",727.811,727.811,36,23,4,0)
If the patient on whom the surgical procedure was performed was an
"^DD",727.811,727.811,36,23,5,0)
inpatient on the procedure date, then a call to IN5^VADPT returns
"^DD",727.811,727.811,36,23,6,0)
the Admission Date in VAIP(13,1).
"^DD",727.811,727.811,36,23,7,0)
 
"^DD",727.811,727.811,36,23,8,0)
The date is expanded to Y2K format appropriate to DSS of YYYYMMDD.
"^DD",727.811,727.811,36,"DT")
2970924
"^DD",727.811,727.811,37,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.811,727.811,37,3)
Answer must be 1-10 characters in length.
"^DD",727.811,727.811,37,21,0)
^^1^1^2990504^
"^DD",727.811,727.811,37,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.811,727.811,37,23,0)
^^2^2^2990504^
"^DD",727.811,727.811,37,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.811,727.811,37,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.811,727.811,37,"DT")
2990504
"^DD",727.811,727.811,38,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.811,727.811,38,3)
Answer must be 4-10 characters in length.
"^DD",727.811,727.811,38,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,38,21,1,0)
The DSS Department Code for the Surgery product.
"^DD",727.811,727.811,38,23,0)
^^2^2^2990506^
"^DD",727.811,727.811,38,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.811,727.811,38,23,2,0)
Field is set to null.
"^DD",727.811,727.811,38,"DT")
2990506
"^DD",727.811,727.811,39,0)
SURGEON NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,39,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,39,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,39,21,1,0)
The Surgeon's National Provider Identifier code.
"^DD",727.811,727.811,39,23,0)
^^2^2^2990506^
"^DD",727.811,727.811,39,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,39,23,2,0)
field will hold the Surgeon NPI.
"^DD",727.811,727.811,39,"DT")
2990506
"^DD",727.811,727.811,40,0)
ATTENDING SURGEON NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,40,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,40,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,40,21,1,0)
The Attending Surgeon's National Provider Identifier code.
"^DD",727.811,727.811,40,23,0)
^^4^4^2990506^
"^DD",727.811,727.811,40,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,40,23,2,0)
field will hold the Attending Surgeon NPI.
"^DD",727.811,727.811,40,23,3,0)
   
"^DD",727.811,727.811,40,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.811,727.811,40,"DT")
2990506
"^DD",727.811,727.811,41,0)
ANESTHESIA SUPERVISOR NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,41,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,41,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,41,21,1,0)
The Anesthesia Supervisor's National Provider Identifier code.
"^DD",727.811,727.811,41,23,0)
^^4^4^2990506^
"^DD",727.811,727.811,41,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,41,23,2,0)
field will hold the Anesthesia Supervisor NPI.
"^DD",727.811,727.811,41,23,3,0)
   
"^DD",727.811,727.811,41,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.811,727.811,41,"DT")
2990506
"^DD",727.811,727.811,42,0)
PC PROVIDER NPI^F^^1;6^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,42,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,42,21,0)
^^1^1^2990506^^^
"^DD",727.811,727.811,42,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.811,727.811,42,23,0)
^^4^4^2990506^^
"^DD",727.811,727.811,42,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,42,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.811,727.811,42,23,3,0)
   
"^DD",727.811,727.811,42,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.811,727.811,42,"DT")
2990506
"^DD",727.811,727.811,43,0)
PC PROVIDER PERSON CLASS^F^^1;7^K:$L(X)>7!($L(X)<7) X
"^DD",727.811,727.811,43,3)
Answer must be 7 characters in length.
"^DD",727.811,727.811,43,21,0)
^^2^2^2981026^
"^DD",727.811,727.811,43,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.811,727.811,43,21,2,0)
associated with this record.
"^DD",727.811,727.811,43,23,0)
^^6^6^2981026^
"^DD",727.811,727.811,43,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.811,727.811,43,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.811,727.811,43,23,3,0)
extract record.
"^DD",727.811,727.811,43,23,4,0)
  
"^DD",727.811,727.811,43,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.811,727.811,43,23,6,0)
7 characters in length.
"^DD",727.811,727.811,43,"DT")
2981026
"^DD",727.811,727.811,44,0)
ASSOCIATE PC PROVIDER^F^^1;8^K:$L(X)>11!($L(X)<2) X
"^DD",727.811,727.811,44,3)
Answer must be 2-11 characters in length.
"^DD",727.811,727.811,44,21,0)
^^4^4^2990505^
"^DD",727.811,727.811,44,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.811,727.811,44,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.811,727.811,44,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.811,727.811,44,21,4,0)
character 2.
"^DD",727.811,727.811,44,23,0)
^^2^2^2990505^
"^DD",727.811,727.811,44,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.811,727.811,44,23,2,0)
the PCMM application.
"^DD",727.811,727.811,44,"DT")
2990505
"^DD",727.811,727.811,45,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;9^K:$L(X)>7!($L(X)<7) X
"^DD",727.811,727.811,45,3)
Answer must be 7 characters in length.
"^DD",727.811,727.811,45,21,0)
^^4^4^2990505^
"^DD",727.811,727.811,45,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.811,727.811,45,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.811,727.811,45,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.811,727.811,45,21,4,0)
exactly 7 characters in length. 
"^DD",727.811,727.811,45,23,0)
^^3^3^2990505^
"^DD",727.811,727.811,45,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.811,727.811,45,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.811,727.811,45,23,3,0)
PERS is the IEN from file #200.
"^DD",727.811,727.811,45,"DT")
2990505
"^DD",727.811,727.811,46,0)
ASSOCIATE PC PROVIDER NPI^F^^1;10^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,46,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,46,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,46,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.811,727.811,46,23,0)
^^4^4^2990506^
"^DD",727.811,727.811,46,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,46,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.811,727.811,46,23,3,0)
   
"^DD",727.811,727.811,46,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.811,727.811,46,"DT")
2990506
"^DD",727.811,727.811,47,0)
CPT CODE QUANTITY MODIFIERS^F^^1;11^K:$L(X)>17!($L(X)<1) X
"^DD",727.811,727.811,47,3)
Answer must be 1-17 characters in length.
"^DD",727.811,727.811,47,21,0)
^^2^2^3001020^
"^DD",727.811,727.811,47,21,1,0)
Displays CPT code, how many times it appears in the record, and its
"^DD",727.811,727.811,47,21,2,0)
associated modifiers.
"^DD",727.811,727.811,47,"DT")
3000620
"^DD",727.811,727.811,48,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;12^K:$L(X)>1!($L(X)<1) X
"^DD",727.811,727.811,48,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.811,727.811,48,21,0)
^^5^5^3001020^
"^DD",727.811,727.811,48,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.811,727.811,48,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.811,727.811,48,21,3,0)
Domiciliary (DOM)
"^DD",727.811,727.811,48,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.811,727.811,48,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.811,727.811,48,"DT")
3001010
"^DD",727.811,727.811,49,0)
ENROLLMENT CATEGORY^F^^1;13^K:$L(X)>1!($L(X)<1) X
"^DD",727.811,727.811,49,3)
Answer must be 1 character in length.
"^DD",727.811,727.811,49,21,0)
^^1^1^3001020^
"^DD",727.811,727.811,49,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.811,727.811,49,"DT")
3000620
"^DD",727.811,727.811,50,0)
ENROLLMENT STATUS^F^^1;14^K:$L(X)>2!($L(X)<1) X
"^DD",727.811,727.811,50,3)
Answer must be 1-2 characters in length.
"^DD",727.811,727.811,50,21,0)
^^1^1^3001020^
"^DD",727.811,727.811,50,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.811,727.811,50,"DT")
3000620
"^DD",727.811,727.811,51,0)
ENROLLMENT PRIORITY^F^^1;15^K:$L(X)>1!($L(X)<1) X
"^DD",727.811,727.811,51,3)
Answer must be 1 character in length.
"^DD",727.811,727.811,51,21,0)
^^1^1^3001020^
"^DD",727.811,727.811,51,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.811,727.811,51,"DT")
3000620
"^DD",727.811,727.811,52,0)
PERIOD OF SERVICE^F^^1;16^K:$L(X)>1!($L(X)<1) X
"^DD",727.811,727.811,52,3)
Answer must be 1 character in length.
"^DD",727.811,727.811,52,21,0)
^.001^2^2^3001020^^
"^DD",727.811,727.811,52,21,1,0)
The period of service that best classifies the patient based on
"^DD",727.811,727.811,52,21,2,0)
eligibility code. 
"^DD",727.811,727.811,52,23,0)
^^2^2^3001020^
"^DD",727.811,727.811,52,23,1,0)
Period of Service is derived from the Period of Service field (#.323) in
"^DD",727.811,727.811,52,23,2,0)
the Patient file (#2)
"^DD",727.811,727.811,52,"DT")
3000620
"^DD",727.811,727.811,53,0)
PURPLE HEART INDICATOR^S^Y:YES;N:NO;^1;17^Q
"^DD",727.811,727.811,53,3)
Purple Heart Indicator is as of yet not defined.  It will be (Y)es, (N)o or (U)nknow.
"^DD",727.811,727.811,53,21,0)
^^1^1^3001020^
"^DD",727.811,727.811,53,21,1,0)
Indicates whether or not a patient is a Purple Heart recipient.
"^DD",727.811,727.811,53,"DT")
3000620
"^DD",727.811,727.811,54,0)
EXTENDED OUTPATIENT INDICATOR^F^^1;18^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,54,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.811,727.811,54,21,0)
^^1^1^3001020^
"^DD",727.811,727.811,54,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.811,727.811,54,"DT")
3000620
"^DD",727.812,727.812,0)
FIELD^^41^42
"^DD",727.812,727.812,0,"DDA")
N
"^DD",727.812,727.812,0,"DT")
3000614
"^DD",727.812,727.812,0,"IX","AC",727.812,2)

"^DD",727.812,727.812,0,"NM","MENTAL HEALTH EXTRACT")

"^DD",727.812,727.812,0,"VRPK")
ECX
"^DD",727.812,727.812,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.812,727.812,.01,1,0)
^.1^^0
"^DD",727.812,727.812,.01,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",727.812,727.812,.01,21,0)
^^1^1^2990505^
"^DD",727.812,727.812,.01,21,1,0)
The record number for this extract entry.
"^DD",727.812,727.812,.01,23,0)
^^2^2^2990505^
"^DD",727.812,727.812,.01,23,1,0)
The internal entry number (IEN) for this record. 
"^DD",727.812,727.812,.01,23,2,0)
This entry is DINUMed.
"^DD",727.812,727.812,.01,"DT")
2990726
"^DD",727.812,727.812,1,0)
YEAR MONTH^RF^^0;2^K:$L(X)>6!($L(X)<6) X
"^DD",727.812,727.812,1,3)
Answer must be 6 characters in length.
"^DD",727.812,727.812,1,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,1,21,1,0)
A six character string representing the year and the month
"^DD",727.812,727.812,1,21,2,0)
for which this extract was performed.
"^DD",727.812,727.812,1,23,0)
^^1^1^2990505^
"^DD",727.812,727.812,1,23,1,0)
Format is YYYYMM; Year 2000 compliant.
"^DD",727.812,727.812,1,"DT")
2990505
"^DD",727.812,727.812,2,0)
EXTRACT NUMBER^RP727'^ECX(727,^0;3^Q
"^DD",727.812,727.812,2,1,0)
^.1
"^DD",727.812,727.812,2,1,1,0)
727.812^AC^MUMPS
"^DD",727.812,727.812,2,1,1,1)
S ^ECX(727.812,"AC",$E(X,1,30),DA)=""
"^DD",727.812,727.812,2,1,1,2)
K ^ECX(727.812,"AC",$E(X,1,30),DA)
"^DD",727.812,727.812,2,1,1,3)
DO NOT DELETE
"^DD",727.812,727.812,2,1,1,"%D",0)
^^2^2^2990726^^
"^DD",727.812,727.812,2,1,1,"%D",1,0)
The "AC" cross-reference is essential for managing and purging data
"^DD",727.812,727.812,2,1,1,"%D",2,0)
in this file.
"^DD",727.812,727.812,2,1,1,"DT")
2990511
"^DD",727.812,727.812,2,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.812,727.812,2,21,2,0)
extract.
"^DD",727.812,727.812,2,23,0)
^^2^2^2990505^
"^DD",727.812,727.812,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.812,727.812,2,23,2,0)
pick up the header for the MailMan transmission message.
"^DD",727.812,727.812,2,"DT")
2990511
"^DD",727.812,727.812,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<3) X
"^DD",727.812,727.812,3,3)
Answer must be 3-7 characters in length.
"^DD",727.812,727.812,3,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,3,21,1,0)
Identifies the facility associated with the extract data by its 
"^DD",727.812,727.812,3,21,2,0)
station number.
"^DD",727.812,727.812,3,23,0)
^^2^2^2990505^
"^DD",727.812,727.812,3,23,1,0)
STATION NUMBER field (#99) of the INSTITUTION file (#4) record
"^DD",727.812,727.812,3,23,2,0)
pointed to by the NAME field (#.01) of the DSS EXTRACTS file (#728).
"^DD",727.812,727.812,3,"DT")
2990505
"^DD",727.812,727.812,4,0)
PATIENT NO. - DFN^RP2'^DPT(^0;5^Q
"^DD",727.812,727.812,4,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,4,21,1,0)
Internal entry number of the PATIENT file (#2) record identifying the
"^DD",727.812,727.812,4,21,2,0)
patient associated with the Mental Health information.
"^DD",727.812,727.812,4,23,0)
^^5^5^2990505^
"^DD",727.812,727.812,4,23,1,0)
One of three possible sources:
"^DD",727.812,727.812,4,23,2,0)
(1) NAME field (#.01) of the PSYCH INSTRUMENT PATIENT file (#601.2)
"^DD",727.812,727.812,4,23,3,0)
(2) NAME field (#.02) of the ADDICTION SEVERITY INDEX file (#604)
"^DD",727.812,727.812,4,23,4,0)
(3) PATIENT NAME field (#.02) of the DIAGNOSTIC RESULTS - MENTAL 
"^DD",727.812,727.812,4,23,5,0)
    HEALTH file (#627.8)
"^DD",727.812,727.812,4,"DT")
2990505
"^DD",727.812,727.812,5,0)
SSN^RF^^0;6^K:$L(X)>10!($L(X)<9) X
"^DD",727.812,727.812,5,3)
Answer must be 9-10 characters in length.
"^DD",727.812,727.812,5,21,0)
^^4^4^2990505^
"^DD",727.812,727.812,5,21,1,0)
The patient's social security number.
"^DD",727.812,727.812,5,21,2,0)
 
"^DD",727.812,727.812,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.812,727.812,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.812,727.812,5,23,0)
^^6^6^2990505^
"^DD",727.812,727.812,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.812,727.812,5,23,2,0)
(#4) of this extract file (#727.812), SSN data is derived from 
"^DD",727.812,727.812,5,23,3,0)
the SOCIAL SECURITY NUMBER field (#.09) in the PATIENT file (#2).
"^DD",727.812,727.812,5,23,4,0)
 
"^DD",727.812,727.812,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.812,727.812,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.812,727.812,5,"DT")
2990505
"^DD",727.812,727.812,6,0)
NAME^RF^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.812,727.812,6,3)
Answer must be 4 characters in length.
"^DD",727.812,727.812,6,21,0)
^^1^1^2990505^
"^DD",727.812,727.812,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.812,727.812,6,23,0)
^^4^4^2990505^
"^DD",727.812,727.812,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.812,727.812,6,23,2,0)
(#4) of this extract file (#727.812), NAME data is derived from the
"^DD",727.812,727.812,6,23,3,0)
NAME field (#.01) in the PATIENT file (#2). The first four characters of
"^DD",727.812,727.812,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.812,727.812,6,"DT")
2990505
"^DD",727.812,727.812,7,0)
IN OUT PATIENT INDICATOR^RF^^0;8^K:$L(X)>1!($L(X)<1) X
"^DD",727.812,727.812,7,3)
Answer must be 1 character in length.
"^DD",727.812,727.812,7,21,0)
^^2^2^2990519^^
"^DD",727.812,727.812,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient on the
"^DD",727.812,727.812,7,21,2,0)
date in the DAY field (#8) for this extract record.
"^DD",727.812,727.812,7,23,0)
^^8^8^2990519^^
"^DD",727.812,727.812,7,23,1,0)
This status indicator corresponds to an internal entry number in the 
"^DD",727.812,727.812,7,23,2,0)
LOCATION TYPE file (#40.9), where IEN=1 is the Clinic location, 
"^DD",727.812,727.812,7,23,3,0)
and IEN=3 is the Ward location.
"^DD",727.812,727.812,7,23,4,0)
  
"^DD",727.812,727.812,7,23,5,0)
This field is initialized to a 1, indicating an outpatient status. 
"^DD",727.812,727.812,7,23,6,0)
If a call to IN5^VADPT (using the patient DFN and the event date) 
"^DD",727.812,727.812,7,23,7,0)
returns a patient movement number, then the field is reset to a 3 
"^DD",727.812,727.812,7,23,8,0)
indicating inpatient status.
"^DD",727.812,727.812,7,"DT")
2990505
"^DD",727.812,727.812,8,0)
DAY^RF^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.812,727.812,8,3)
Answer must be 8 characters in length.
"^DD",727.812,727.812,8,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,8,21,1,0)
Date in format YYYYMMDD; date with which the Mental Health extract
"^DD",727.812,727.812,8,21,2,0)
data is associated.
"^DD",727.812,727.812,8,23,0)
^^13^13^2990505^^^
"^DD",727.812,727.812,8,23,1,0)
One of three possible sources:
"^DD",727.812,727.812,8,23,2,0)
(1) COMPLETION DATE field (#.01) of the DATE field (#1), #601.22 
"^DD",727.812,727.812,8,23,3,0)
    sub-file, of the (#1) INSTRUMENT field, #601.21 sub-file, of 
"^DD",727.812,727.812,8,23,4,0)
    the PSYCH INSTRUMENT PATIENT file (#601.1)
"^DD",727.812,727.812,8,23,5,0)
(2) DATE OF INTERVIEW field (#.05) of the ADDICTION SEVERITY INDEX 
"^DD",727.812,727.812,8,23,6,0)
    file (#604)
"^DD",727.812,727.812,8,23,7,0)
(3) DATE/TIME OF DIAGNOSIS  field (#.03) of the DIAGNOSTIC RESULTS - 
"^DD",727.812,727.812,8,23,8,0)
    MENTAL HEALTH file (#627.8)
"^DD",727.812,727.812,8,23,9,0)
  
"^DD",727.812,727.812,8,23,10,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.812,727.812,8,23,11,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.812,727.812,8,23,12,0)
then a default is used.  The default date value is the value of the 
"^DD",727.812,727.812,8,23,13,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.812,727.812,8,"DT")
2990505
"^DD",727.812,727.812,9,0)
DIVISION^RF^^0;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.812,727.812,9,3)
Answer must be 1 character in length.
"^DD",727.812,727.812,9,21,0)
^^4^4^2990526^^
"^DD",727.812,727.812,9,21,1,0)
The medical center division associated with the extract data. For DSS
"^DD",727.812,727.812,9,21,2,0)
purposes, this must correspond to the labor pool that generated the 
"^DD",727.812,727.812,9,21,3,0)
workload. The division identifier is taken from the DSS DIVISION 
"^DD",727.812,727.812,9,21,4,0)
IDENTIFIER file (#727.3).
"^DD",727.812,727.812,9,23,0)
^^17^17^2990526^^
"^DD",727.812,727.812,9,23,1,0)
A pointer to the NEW PERSON file (#200) is obtained from one of three
"^DD",727.812,727.812,9,23,2,0)
possible sources:
"^DD",727.812,727.812,9,23,3,0)
(1) ORDERED BY field (#2) of the DATE field (#1), #601.22 sub-file, of
"^DD",727.812,727.812,9,23,4,0)
the (#1) INSTRUMENT field, #601.21 sub-file, of the PSYCH INSTRUMENT 
"^DD",727.812,727.812,9,23,5,0)
PATIENT file (#601.1)
"^DD",727.812,727.812,9,23,6,0)
(2) INTERVIEWER field (#.09) of the ADDICTION SEVERITY INDEX file (#604)
"^DD",727.812,727.812,9,23,7,0)
(3) DIAGNOSIS BY field (#.04) of the DIAGNOSTIC RESULTS - MENTAL HEALTH
"^DD",727.812,727.812,9,23,8,0)
file (#627.8)
"^DD",727.812,727.812,9,23,9,0)
  
"^DD",727.812,727.812,9,23,10,0)
The DIVISION field is then derived as follows:
"^DD",727.812,727.812,9,23,11,0)
(1) A pointer to the INSTITUTION file (#4) is obtained using the pointer
"^DD",727.812,727.812,9,23,12,0)
to file #200. This is taken from the DIVISION field (#.01) of the first
"^DD",727.812,727.812,9,23,13,0)
sub-record of the DIVISION field (#16), sub-file #200.02. 
"^DD",727.812,727.812,9,23,14,0)
(2) A record in the MEDICAL CENTER DIVISION file (#40.8) which points 
"^DD",727.812,727.812,9,23,15,0)
to the same file #4 record
"^DD",727.812,727.812,9,23,16,0)
(3) The IDENTIFIER field (#1) of the DSS DIVISION IDENTIFIER file 
"^DD",727.812,727.812,9,23,17,0)
(#727.3) record which points to the same Medical Center Division.
"^DD",727.812,727.812,9,"DT")
2990506
"^DD",727.812,727.812,10,0)
ADMISSION DATE^F^^0;11^K:$L(X)>8!($L(X)<8) X
"^DD",727.812,727.812,10,3)
Answer must be 8 characters in length.
"^DD",727.812,727.812,10,21,0)
^^3^3^2990507^
"^DD",727.812,727.812,10,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.812,727.812,10,21,2,0)
occurred, if the patient referenced in the PATIENT NO. - DFN field is
"^DD",727.812,727.812,10,21,3,0)
an inpatient on the date shown in the DAY field.
"^DD",727.812,727.812,10,23,0)
^^5^5^2990507^
"^DD",727.812,727.812,10,23,1,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.812,727.812,10,23,2,0)
 
"^DD",727.812,727.812,10,23,3,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.812,727.812,10,23,4,0)
is YYYYMMDD; for example, 19970923.  The standard FM date for the 
"^DD",727.812,727.812,10,23,5,0)
admission is returned by IN5^VADPT.
"^DD",727.812,727.812,10,"DT")
2990506
"^DD",727.812,727.812,11,0)
DISCHARGE DATE^F^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.812,727.812,11,3)
Answer must be 8 characters in length.
"^DD",727.812,727.812,11,21,0)
^^4^4^2990507^
"^DD",727.812,727.812,11,21,1,0)
This 8-character string represents the date on which the discharge
"^DD",727.812,727.812,11,21,2,0)
occurred, if the patient referenced in the PATIENT NO. - DFN field
"^DD",727.812,727.812,11,21,3,0)
was an inpatient on the date shown in the DAY field, but has been
"^DD",727.812,727.812,11,21,4,0)
discharged before the run date of the extract.
"^DD",727.812,727.812,11,23,0)
^^5^5^2990507^
"^DD",727.812,727.812,11,23,1,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.812,727.812,11,23,2,0)
 
"^DD",727.812,727.812,11,23,3,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.812,727.812,11,23,4,0)
is YYYYMMDD; for example, 19970923.  The standard FM date for the 
"^DD",727.812,727.812,11,23,5,0)
discharge is returned by IN5^VADPT.
"^DD",727.812,727.812,11,"DT")
2990506
"^DD",727.812,727.812,12,0)
DSS IDENTIFIER^F^^0;13^K:$L(X)>6!($L(X)<6) X
"^DD",727.812,727.812,12,3)
Answer must be 6 characters in length.
"^DD",727.812,727.812,12,21,0)
^^5^5^2990507^
"^DD",727.812,727.812,12,21,1,0)
The DSS Identifier is defined as the stop code pair associated with an
"^DD",727.812,727.812,12,21,2,0)
outpatient encounter.  The Mental Health data currently being extracted
"^DD",727.812,727.812,12,21,3,0)
cannot be associated with a specific patient encounter.  Therefore, a 
"^DD",727.812,727.812,12,21,4,0)
new unique DSS Identifier will be used for every Mental Health extract
"^DD",727.812,727.812,12,21,5,0)
record.
"^DD",727.812,727.812,12,23,0)
^^2^2^2990507^
"^DD",727.812,727.812,12,23,1,0)
The DSS Identifier has not yet been determined.  The field will be set
"^DD",727.812,727.812,12,23,2,0)
to null.
"^DD",727.812,727.812,12,"DT")
2990506
"^DD",727.812,727.812,13,0)
PRIMARY CARE TEAM^F^^0;14^K:$L(X)>4!($L(X)<1) X
"^DD",727.812,727.812,13,3)
Answer must be 1-4 characters in length.
"^DD",727.812,727.812,13,21,0)
^^1^1^2990507^
"^DD",727.812,727.812,13,21,1,0)
The Primary Care Team assigned to this patient.
"^DD",727.812,727.812,13,23,0)
^^5^5^2990507^
"^DD",727.812,727.812,13,23,1,0)
The date in the DAY field ((#8) along with the patient pointer in the
"^DD",727.812,727.812,13,23,2,0)
PATIENT NO. - DFN field (#4) of the extract record is used to make a
"^DD",727.812,727.812,13,23,3,0)
call to the Scheduling API, OUTPTTM^SDUTL3.  The pointer (IEN) to the 
"^DD",727.812,727.812,13,23,4,0)
TEAM file (#404.51), retuned by the API, is used.  The data is stored
"^DD",727.812,727.812,13,23,5,0)
as free text.
"^DD",727.812,727.812,13,"DT")
2990506
"^DD",727.812,727.812,14,0)
PRIMARY CARE PROVIDER^F^^0;15^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,14,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,14,21,0)
^^1^1^2990507^
"^DD",727.812,727.812,14,21,1,0)
The Primary Care Provider assigned to this patient.
"^DD",727.812,727.812,14,23,0)
^^7^7^2990507^
"^DD",727.812,727.812,14,23,1,0)
The date in the DAY field ((#8) along with the patient pointer in the
"^DD",727.812,727.812,14,23,2,0)
PATIENT NO. - DFN field (#4) of the extract record is used to make a
"^DD",727.812,727.812,14,23,3,0)
call to the Scheduling API, OUTPTTM^SDUTL3.  The pointer (IEN) to the 
"^DD",727.812,727.812,14,23,4,0)
NEW PERSON file (#200), retuned by the API, is used.
"^DD",727.812,727.812,14,23,5,0)
 
"^DD",727.812,727.812,14,23,6,0)
A "2" is prefixed to the pointer value to indicate that the source
"^DD",727.812,727.812,14,23,7,0)
file is "200", and the data is stored as free text.
"^DD",727.812,727.812,14,"DT")
2990506
"^DD",727.812,727.812,15,0)
PC PROVIDER NPI^F^^0;16^K:$L(X)>8!($L(X)<1) X
"^DD",727.812,727.812,15,3)
Answer must be 1-8 characters in length.
"^DD",727.812,727.812,15,21,0)
^^1^1^2990507^^
"^DD",727.812,727.812,15,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.812,727.812,15,23,0)
^^4^4^2990507^^
"^DD",727.812,727.812,15,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.812,727.812,15,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.812,727.812,15,23,3,0)
   
"^DD",727.812,727.812,15,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.812,727.812,15,"DT")
2990506
"^DD",727.812,727.812,16,0)
PC PROVIDER PERSON CLASS^F^^0;17^K:$L(X)>7!($L(X)<7) X
"^DD",727.812,727.812,16,3)
Answer must be 7 characters in length.
"^DD",727.812,727.812,16,21,0)
^^4^4^2990507^^
"^DD",727.812,727.812,16,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.812,727.812,16,21,2,0)
of the Primary Care Provider as assigned by through the PCMM application.
"^DD",727.812,727.812,16,21,3,0)
The VA Code is always of the form "V"_six numeric digits; exactly 7 
"^DD",727.812,727.812,16,21,4,0)
characters in length. 
"^DD",727.812,727.812,16,23,0)
^^3^3^2990507^^
"^DD",727.812,727.812,16,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.812,727.812,16,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.812,727.812,16,23,3,0)
PERS is the IEN from file #200.
"^DD",727.812,727.812,16,"DT")
2990506
"^DD",727.812,727.812,17,0)
PROVIDER^RF^^0;18^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,17,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,17,21,0)
^^2^2^2990507^
"^DD",727.812,727.812,17,21,1,0)
The person who administered or ordered the Mental Health test/interview
"^DD",727.812,727.812,17,21,2,0)
associated with this extract record.
"^DD",727.812,727.812,17,23,0)
^^11^11^2990507^
"^DD",727.812,727.812,17,23,1,0)
A pointer to the NEW PERSON file (#200) is obtained from one of three
"^DD",727.812,727.812,17,23,2,0)
possible sources:
"^DD",727.812,727.812,17,23,3,0)
(1) ORDERED BY field (#2) of the DATE field (#1), #601.22 sub-file, of
"^DD",727.812,727.812,17,23,4,0)
the (#1) INSTRUMENT field, #601.21 sub-file, of the PSYCH INSTRUMENT 
"^DD",727.812,727.812,17,23,5,0)
PATIENT file (#601.2).
"^DD",727.812,727.812,17,23,6,0)
(2) INTERVIEWER field (#.09) of the ADDICTION SEVERITY INDEX file (#604).
"^DD",727.812,727.812,17,23,7,0)
(3) DIAGNOSIS BY field (#.04) of the DIAGNOSTIC RESULTS - MENTAL HEALTH
"^DD",727.812,727.812,17,23,8,0)
file (#627.8).
"^DD",727.812,727.812,17,23,9,0)
  
"^DD",727.812,727.812,17,23,10,0)
A numeric character 2 is prefixed to the IEN, and it is stored as free
"^DD",727.812,727.812,17,23,11,0)
text.
"^DD",727.812,727.812,17,"DT")
2990506
"^DD",727.812,727.812,18,0)
PROVIDER NPI^F^^0;19^K:$L(X)>8!($L(X)<1) X
"^DD",727.812,727.812,18,3)
Answer must be 1-8 characters in length.
"^DD",727.812,727.812,18,21,0)
^^1^1^2990507^^
"^DD",727.812,727.812,18,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.812,727.812,18,23,0)
^^4^4^2990507^^
"^DD",727.812,727.812,18,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.812,727.812,18,23,2,0)
field will hold the Provider NPI.
"^DD",727.812,727.812,18,23,3,0)
   
"^DD",727.812,727.812,18,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.812,727.812,18,"DT")
2990506
"^DD",727.812,727.812,19,0)
PROVIDER PERSON CLASS^F^^0;20^K:$L(X)>7!($L(X)<7) X
"^DD",727.812,727.812,19,3)
Answer must be 7 characters in length.
"^DD",727.812,727.812,19,21,0)
^^3^3^2990507^^
"^DD",727.812,727.812,19,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.812,727.812,19,21,2,0)
of the Provider. The VA Code is always of the form "V"_six numeric digits;
"^DD",727.812,727.812,19,21,3,0)
exactly 7 characters in length. 
"^DD",727.812,727.812,19,23,0)
^^3^3^2990507^^^
"^DD",727.812,727.812,19,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.812,727.812,19,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.812,727.812,19,23,3,0)
PERS is the IEN from file #200.
"^DD",727.812,727.812,19,"DT")
2990506
"^DD",727.812,727.812,20,0)
TEST NAME^RF^^0;21^K:$L(X)>5!($L(X)<3) X
"^DD",727.812,727.812,20,3)
Answer must be 3-5 characters in length.
"^DD",727.812,727.812,20,21,0)
^^2^2^2990507^
"^DD",727.812,727.812,20,21,1,0)
The acronym that represents the name of test, interview, or diagnostic data
"^DD",727.812,727.812,20,21,2,0)
contained in this extract record.
"^DD",727.812,727.812,20,23,0)
^^11^11^2990507^
"^DD",727.812,727.812,20,23,1,0)
The acronym placed in this field will depend upon which Mental Health file
"^DD",727.812,727.812,20,23,2,0)
is the source of the data.
"^DD",727.812,727.812,20,23,3,0)
  
"^DD",727.812,727.812,20,23,4,0)
(1) If data is extracted from the PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,20,23,5,0)
then TEST NAME is derived from the INSTRUMENT field (#.01) of the MH
"^DD",727.812,727.812,20,23,6,0)
INSTRUMENT file (#601) which is pointed to by the INSTRUMENT field (#.01)
"^DD",727.812,727.812,20,23,7,0)
of the INSTRUMENT field (#1), sub-file #601.21, of file #601.2.
"^DD",727.812,727.812,20,23,8,0)
(2) If data is extracted from the ADDICTION SEVERITY INDEX file (#604),
"^DD",727.812,727.812,20,23,9,0)
then TEST NAME is ASI.
"^DD",727.812,727.812,20,23,10,0)
(3) If data is extracted from the DIAGNOSTIC RESULTS - MENTAL HEALTH file 
"^DD",727.812,727.812,20,23,11,0)
(#627.8), then TEST NAME is GAF.
"^DD",727.812,727.812,20,"DT")
2990506
"^DD",727.812,727.812,21,0)
TEST IEN^NJ4,0^^0;22^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.812,727.812,21,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",727.812,727.812,21,21,0)
^^2^2^2990510^^
"^DD",727.812,727.812,21,21,1,0)
The internal entry number in the MH INSTRUMENT file (#601) for the test
"^DD",727.812,727.812,21,21,2,0)
data, if appropriate.
"^DD",727.812,727.812,21,23,0)
^^8^8^2990510^^
"^DD",727.812,727.812,21,23,1,0)
If data is extracted from the PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,21,23,2,0)
then TEST IEN will be the internal entry number of file MH INSTRUMENT
"^DD",727.812,727.812,21,23,3,0)
file (#601) contained in the INSTRUMENT field (#.01) of the INSTRUMENT
"^DD",727.812,727.812,21,23,4,0)
field (#1), sub-file #601.21, of file #601.2.
"^DD",727.812,727.812,21,23,5,0)
  
"^DD",727.812,727.812,21,23,6,0)
If data is extracted form the ADDICTION SEVERITY INDEX file (#604) or
"^DD",727.812,727.812,21,23,7,0)
the DIAGNOSTIC RESULTS - MENTAL HEALTH file (#627.8), then TEST IEN
"^DD",727.812,727.812,21,23,8,0)
is null.
"^DD",727.812,727.812,21,"DT")
2990506
"^DD",727.812,727.812,22,0)
SCALE NUMBER^NJ3,0^^0;23^K:+X'=X!(X>999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.812,727.812,22,3)
Type a Number between 0 and 999, 0 Decimal Digits
"^DD",727.812,727.812,22,21,0)
^^2^2^2990728^^
"^DD",727.812,727.812,22,21,1,0)
SCALE NUMBER is an identifying element for data extracted from PSYCH
"^DD",727.812,727.812,22,21,2,0)
INSTRUMENT PATIENT file (#601.2).
"^DD",727.812,727.812,22,23,0)
^^8^8^2990728^^
"^DD",727.812,727.812,22,23,1,0)
If data is extracted from PSYCH INSTRUMENT PATIENT file (#601.2), then
"^DD",727.812,727.812,22,23,2,0)
this field contains data taken from the SCALE NUMBER field (#.01) of
"^DD",727.812,727.812,22,23,3,0)
the TEST SCALE NUMBER field (#16), sub-file #601.01, of the MH 
"^DD",727.812,727.812,22,23,4,0)
INSTRUMENT file (#601).
"^DD",727.812,727.812,22,23,5,0)
  
"^DD",727.812,727.812,22,23,6,0)
If data is extracted form the ADDICTION SEVERITY INDEX file (#604) or
"^DD",727.812,727.812,22,23,7,0)
the DIAGNOSTIC RESULTS - MENTAL HEALTH file (#627.8), then SCALE
"^DD",727.812,727.812,22,23,8,0)
NUMBER is null.
"^DD",727.812,727.812,22,"DT")
2990729
"^DD",727.812,727.812,23,0)
SCALE NAME^F^^0;24^K:$L(X)>10!($L(X)<3) X
"^DD",727.812,727.812,23,3)
Answer must be 3-10 characters in length.
"^DD",727.812,727.812,23,21,0)
^^3^3^2990507^
"^DD",727.812,727.812,23,21,1,0)
SCALE NAME is an identifying element for data extracted from PSYCH
"^DD",727.812,727.812,23,21,2,0)
INSTRUMENT PATIENT file (#601.2) or from the ADDICTION SEVERITY
"^DD",727.812,727.812,23,21,3,0)
INDEX file (#604).
"^DD",727.812,727.812,23,23,0)
^^12^12^2990507^
"^DD",727.812,727.812,23,23,1,0)
If data is extracted from PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,23,23,2,0)
then this field contains data taken from the SCALE NAME field (#.5)
"^DD",727.812,727.812,23,23,3,0)
of the TEST SCALE NUMBER field (#16), sub-file #601.01, of the MH
"^DD",727.812,727.812,23,23,4,0)
INSTRUMENT file (#601).
"^DD",727.812,727.812,23,23,5,0)
  
"^DD",727.812,727.812,23,23,6,0)
If data is extracted from the ADDICTION SEVERITY INDEX file (#604),
"^DD",727.812,727.812,23,23,7,0)
then SCALE NAME will be one of the seven standard composite score
"^DD",727.812,727.812,23,23,8,0)
names which are part of the ASI evaluation.  These are Medical,
"^DD",727.812,727.812,23,23,9,0)
Emp/Sup, Alcohol, Drug, Legal, Family, and Psych.
"^DD",727.812,727.812,23,23,10,0)
  
"^DD",727.812,727.812,23,23,11,0)
If data is extracted from the DIAGNOSTIC RESULTS - MENTAL HEALTH
"^DD",727.812,727.812,23,23,12,0)
file (#627.8), then SCALE NAME is null.
"^DD",727.812,727.812,23,"DT")
2990729
"^DD",727.812,727.812,24,0)
TEST SCORE^F^^0;25^K:$L(X)>5!($L(X)<1) X
"^DD",727.812,727.812,24,3)
Answer must be 1-5 characters in length.
"^DD",727.812,727.812,24,21,0)
^^3^3^2990507^
"^DD",727.812,727.812,24,21,1,0)
TEST SCORE contains the score for a Mental Health test, which is
"^DD",727.812,727.812,24,21,2,0)
expressed as a single, overall score, and which is not expressed as
"^DD",727.812,727.812,24,21,3,0)
one or more scale scores.
"^DD",727.812,727.812,24,23,0)
^^13^13^2990507^
"^DD",727.812,727.812,24,23,1,0)
If data is extracted from PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,24,23,2,0)
the TEST SCORE field will contain the resulting score calculated for
"^DD",727.812,727.812,24,23,3,0)
the following tests: DOM80, DOM81, DOM82, and DOMG.  For all other
"^DD",727.812,727.812,24,23,4,0)
tests contained in the MH INSTRUMENT file (#601) that are pointed to
"^DD",727.812,727.812,24,23,5,0)
by the INSTRUMENT field (#.01) of the INSTRUMENT field (#1), sub-file
"^DD",727.812,727.812,24,23,6,0)
#601.21, of file #601.2, TEST SCORE will be set to null.
"^DD",727.812,727.812,24,23,7,0)
  
"^DD",727.812,727.812,24,23,8,0)
If data is extracted from the ADDICTION SEVERITY INDEX file (#604),
"^DD",727.812,727.812,24,23,9,0)
then TEST SCORE will be set to null.
"^DD",727.812,727.812,24,23,10,0)
  
"^DD",727.812,727.812,24,23,11,0)
If data is extracted from the DIAGNOSTIC RESULTS - MENTAL HEALTH file
"^DD",727.812,727.812,24,23,12,0)
(#627.8), the TEST SCORE will contain data from the AXIS 5 field (#65)
"^DD",727.812,727.812,24,23,13,0)
of file #627.8.
"^DD",727.812,727.812,24,"DT")
2990506
"^DD",727.812,727.812,25,0)
SCALE SCORE^F^^0;26^K:$L(X)>6!($L(X)<1) X
"^DD",727.812,727.812,25,3)
Answer must be 1-6 characters in length.
"^DD",727.812,727.812,25,21,0)
^^2^2^2990507^
"^DD",727.812,727.812,25,21,1,0)
SCALE SCORE contains the score of one scale of a Mental Health 
"^DD",727.812,727.812,25,21,2,0)
test, which is expressed as one or more scale scores.
"^DD",727.812,727.812,25,23,0)
^^15^15^2990507^
"^DD",727.812,727.812,25,23,1,0)
If data is extracted from PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,25,23,2,0)
the SCALE SCORE field will contain the resulting score calculated
"^DD",727.812,727.812,25,23,3,0)
for one scale associated with the following tests: BDI, CRS, CAGE,
"^DD",727.812,727.812,25,23,4,0)
or ZUNG.  For all other tests contained in the MH INSTRUMENT file
"^DD",727.812,727.812,25,23,5,0)
(#601) that are pointed to by the INSTRUMENT field (#.01) of the
"^DD",727.812,727.812,25,23,6,0)
INSTRUMENT field (#1), sub-file #601.21, of file #601.2, SCALE SCORE
"^DD",727.812,727.812,25,23,7,0)
will be set to null.
"^DD",727.812,727.812,25,23,8,0)
  
"^DD",727.812,727.812,25,23,9,0)
If data is extracted from the ADDICTION SEVERITY INDEX file (#604),
"^DD",727.812,727.812,25,23,10,0)
then SCALE SCORE will be the score associated with one of the seven
"^DD",727.812,727.812,25,23,11,0)
standard composite score names that are part of the ASI evaluation.
"^DD",727.812,727.812,25,23,12,0)
These are Medical, Emp/Sup, Alcohol, Drug, Legal, Family, and Psych.
"^DD",727.812,727.812,25,23,13,0)
  
"^DD",727.812,727.812,25,23,14,0)
If data is extracted from the DIAGNOSTIC RESULTS - MENTAL HEALTH file
"^DD",727.812,727.812,25,23,15,0)
(#627.8), the SCALE SCORE will be null.
"^DD",727.812,727.812,25,"DT")
2990506
"^DD",727.812,727.812,26,0)
ATTENDING PHYSICIAN^F^^0;27^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,26,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,26,21,0)
^^4^4^2991014^^
"^DD",727.812,727.812,26,21,1,0)
If the patient identified in the PATIENT NO.  DFN field (#4) was
"^DD",727.812,727.812,26,21,2,0)
an inpatient on the date contained the DAY field (#8), then ATTENDING
"^DD",727.812,727.812,26,21,3,0)
PHYSICIAN will refer to the provider who was the ward-attending
"^DD",727.812,727.812,26,21,4,0)
physician for the patient.
"^DD",727.812,727.812,26,23,0)
^^5^5^2991014^^
"^DD",727.812,727.812,26,23,1,0)
Data will be taken from the ATTENDING PHYSICIAN field (#.19) of
"^DD",727.812,727.812,26,23,2,0)
the PATIENT MOVEMENT file (#405) record for a treating specialty
"^DD",727.812,727.812,26,23,3,0)
movement.  Using the date in the DAY field (#8) and the patient
"^DD",727.812,727.812,26,23,4,0)
pointer stored in the PATIENT NO. - DFN field (#4), a call is made
"^DD",727.812,727.812,26,23,5,0)
to IN5^VADPT which returns the pertinent patient movement data.
"^DD",727.812,727.812,26,"DT")
2990506
"^DD",727.812,727.812,27,0)
WARD PROVIDER^F^^0;28^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,27,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,27,21,0)
^^4^4^2991014^^
"^DD",727.812,727.812,27,21,1,0)
If the patient identified in the PATIENT NO.  DFN field (#4) was
"^DD",727.812,727.812,27,21,2,0)
an inpatient on the date contained the DAY field (#8), then WARD
"^DD",727.812,727.812,27,21,3,0)
PROVIDER will refer to the provider who was the primary ward
"^DD",727.812,727.812,27,21,4,0)
provider for the patient.
"^DD",727.812,727.812,27,23,0)
^^5^5^2991014^^
"^DD",727.812,727.812,27,23,1,0)
Data will be taken from the PRIAMRY CARE PHYSICIAN field (#.08) of
"^DD",727.812,727.812,27,23,2,0)
the PATIENT MOVEMENT file (#405) record for a treating specialty
"^DD",727.812,727.812,27,23,3,0)
movement.  Using the date in the DAY field (#8) and the patient
"^DD",727.812,727.812,27,23,4,0)
pointer stored in the PATIENT NO. - DFN field (#4), a call is made
"^DD",727.812,727.812,27,23,5,0)
to IN5^VADPT which returns the pertinent patient movement data.
"^DD",727.812,727.812,27,"DT")
2990506
"^DD",727.812,727.812,28,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.812,727.812,28,3)
Answer must be 1-10 characters in length.
"^DD",727.812,727.812,28,21,0)
^^1^1^2990507^
"^DD",727.812,727.812,28,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.812,727.812,28,23,0)
^^2^2^2990507^
"^DD",727.812,727.812,28,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.812,727.812,28,23,2,0)
in an FY2000 enhancement to the VistA system.
"^DD",727.812,727.812,28,"DT")
2990506
"^DD",727.812,727.812,29,0)
ASSOCIATE PC PROVIDER^F^^1;2^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,29,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,29,21,0)
^^4^4^2990507^
"^DD",727.812,727.812,29,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.812,727.812,29,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.812,727.812,29,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.812,727.812,29,21,4,0)
character 2.
"^DD",727.812,727.812,29,23,0)
^^2^2^2990507^
"^DD",727.812,727.812,29,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.812,727.812,29,23,2,0)
the PCMM application.
"^DD",727.812,727.812,29,"DT")
2990506
"^DD",727.812,727.812,30,0)
ASSOCIATE PC PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.812,727.812,30,3)
Answer must be 1-8 characters in length.
"^DD",727.812,727.812,30,21,0)
^^1^1^2990507^^
"^DD",727.812,727.812,30,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.812,727.812,30,23,0)
^^2^2^2990507^^
"^DD",727.812,727.812,30,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.812,727.812,30,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.812,727.812,30,"DT")
2990506
"^DD",727.812,727.812,31,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;4^K:$L(X)>7!($L(X)<7) X
"^DD",727.812,727.812,31,3)
Answer must be 7 characters in length.
"^DD",727.812,727.812,31,21,0)
^^4^4^2990507^^
"^DD",727.812,727.812,31,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.812,727.812,31,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.812,727.812,31,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.812,727.812,31,21,4,0)
exactly 7 characters in length. 
"^DD",727.812,727.812,31,23,0)
^^3^3^2990507^^
"^DD",727.812,727.812,31,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.812,727.812,31,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.812,727.812,31,23,3,0)
PERS is the IEN from file #200.
"^DD",727.812,727.812,31,"DT")
2990506
"^DD",727.812,727.812,32,0)
CLASS FOR ASI^S^1:FULL;2:LITE;3:FOLLOW-UP;^1;5^Q
"^DD",727.812,727.812,32,21,0)
^^4^4^2990507^^
"^DD",727.812,727.812,32,21,1,0)
Classification for ASI data only.
"^DD",727.812,727.812,32,21,2,0)
1 = FULL
"^DD",727.812,727.812,32,21,3,0)
2 = LITE
"^DD",727.812,727.812,32,21,4,0)
3 = FOLLOW-UP
"^DD",727.812,727.812,32,23,0)
^^1^1^2990507^^
"^DD",727.812,727.812,32,23,1,0)
CLASS field (#.04) of the ADDICTION SEVERITY INDEX file (#604).
"^DD",727.812,727.812,32,"DT")
2990506
"^DD",727.812,727.812,33,0)
SPECIAL FOR ASI^S^1:PATIENT TERMINATED;2:PATIENT REFUSED;3:PATIENT UNABLE TO RESPOND;N:INTERVIEW COMPLETED;^1;6^Q
"^DD",727.812,727.812,33,21,0)
^^5^5^2990506^
"^DD",727.812,727.812,33,21,1,0)
Signifies completion status for ASI data only.
"^DD",727.812,727.812,33,21,2,0)
1 = PATIENT TERMINATED 
"^DD",727.812,727.812,33,21,3,0)
2 = PATIENT REFUSED 
"^DD",727.812,727.812,33,21,4,0)
3 = PATIENT UNABLE TO RESPOND
"^DD",727.812,727.812,33,21,5,0)
N = INTERVIEW COMPLETED
"^DD",727.812,727.812,33,23,0)
^^1^1^2990506^
"^DD",727.812,727.812,33,23,1,0)
SPECIAL field (#.11) of the ADDICTION SEVERITY INDEX file (#604).
"^DD",727.812,727.812,33,"DT")
2990506
"^DD",727.812,727.812,34,0)
ASI ENCOUNTER DATE^D^^1;7^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",727.812,727.812,34,21,0)
^^1^1^3001019^
"^DD",727.812,727.812,34,21,1,0)
The date the patient had the ASI encounter.
"^DD",727.812,727.812,34,23,0)
^^1^1^3001019^
"^DD",727.812,727.812,34,23,1,0)
The ASI Encounter Date is derived from the ASI Progress Note.
"^DD",727.812,727.812,34,"DT")
3000614
"^DD",727.812,727.812,35,0)
PURPLE HEART INDICATOR^S^Y:YES;N:NO;^1;8^Q
"^DD",727.812,727.812,35,3)
Purple Heart Indicator is as of yet not defined.  It will be (Y)es, (N)o or (U)nknow.
"^DD",727.812,727.812,35,21,0)
^^1^1^3001019^
"^DD",727.812,727.812,35,21,1,0)
Indicates whether or not a patient is a Purple Heart recipient.
"^DD",727.812,727.812,35,"DT")
3000614
"^DD",727.812,727.812,36,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.812,727.812,36,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.812,727.812,36,21,0)
^^5^5^3001019^
"^DD",727.812,727.812,36,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.812,727.812,36,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.812,727.812,36,21,3,0)
Domiciliary (DOM)
"^DD",727.812,727.812,36,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.812,727.812,36,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.812,727.812,36,"DT")
3001010
"^DD",727.812,727.812,37,0)
ENROLLMENT CATEGORY^F^^1;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.812,727.812,37,3)
Answer must be 1 character in length.
"^DD",727.812,727.812,37,21,0)
^^1^1^3001019^
"^DD",727.812,727.812,37,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.812,727.812,37,"DT")
3000614
"^DD",727.812,727.812,38,0)
ENROLLMENT STATUS^F^^1;11^K:$L(X)>2!($L(X)<1) X
"^DD",727.812,727.812,38,3)
Answer must be 1-2 characters in length.
"^DD",727.812,727.812,38,21,0)
^^1^1^3001020^
"^DD",727.812,727.812,38,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.812,727.812,38,"DT")
3000614
"^DD",727.812,727.812,39,0)
ENROLLMENT PRIORITY^F^^1;12^K:$L(X)>1!($L(X)<1) X
"^DD",727.812,727.812,39,3)
Answer must be 1 character in length.
"^DD",727.812,727.812,39,21,0)
^^1^1^3001020^
"^DD",727.812,727.812,39,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.812,727.812,39,"DT")
3000614
"^DD",727.812,727.812,40,0)
PERIOD OF SERVICE^F^^1;13^K:$L(X)>1!($L(X)<1) X
"^DD",727.812,727.812,40,3)
Answer must be 1 character in length.
"^DD",727.812,727.812,40,21,0)
^^2^2^3001020^
"^DD",727.812,727.812,40,21,1,0)
The period of service that best classifies the patient based on
"^DD",727.812,727.812,40,21,2,0)
eligibility code.
"^DD",727.812,727.812,40,23,0)
^^2^2^3001020^
"^DD",727.812,727.812,40,23,1,0)
Period of Service is derived from the Period of Service field (#.323) in
"^DD",727.812,727.812,40,23,2,0)
the Patient file (#2).
"^DD",727.812,727.812,40,"DT")
3000614
"^DD",727.812,727.812,41,0)
EXTENDED OP INDICATOR^F^^1;14^K:$L(X)>4!($L(X)<1) X
"^DD",727.812,727.812,41,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.812,727.812,41,21,0)
^^1^1^3001020^
"^DD",727.812,727.812,41,21,1,0)
Indicates that a patient is an Extended Outpatient
"^DD",727.812,727.812,41,"DT")
3000614
"^DD",727.813,727.813,0)
FIELD^^31^32
"^DD",727.813,727.813,0,"DDA")
N
"^DD",727.813,727.813,0,"DIK")
ECX813
"^DD",727.813,727.813,0,"DIKOLD")
ECX813
"^DD",727.813,727.813,0,"DT")
3000614
"^DD",727.813,727.813,0,"IX","AC",727.813,2)

"^DD",727.813,727.813,0,"NM","LABORATORY EXTRACT")

"^DD",727.813,727.813,0,"VRPK")
ECX
"^DD",727.813,727.813,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.813,727.813,.01,.1)
Sequence Number
"^DD",727.813,727.813,.01,1,0)
^.1^^0
"^DD",727.813,727.813,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.813,727.813,.01,21,0)
^^1^1^2960730^^^^
"^DD",727.813,727.813,.01,21,1,0)
The record number for this extract entry.
"^DD",727.813,727.813,.01,23,0)
^^1^1^2960730^^^^
"^DD",727.813,727.813,.01,23,1,0)
The internal entry number (IEN) for this record.  This entry is DINUMed.
"^DD",727.813,727.813,.01,"DT")
2980812
"^DD",727.813,727.813,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.813,727.813,1,.1)
Year/Month
"^DD",727.813,727.813,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.813,727.813,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.813,727.813,1,3)
Answer must be 6 characters in length.
"^DD",727.813,727.813,1,21,0)
^^2^2^2970922^^^^
"^DD",727.813,727.813,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.813,727.813,1,21,2,0)
for which this extract was performed.
"^DD",727.813,727.813,1,23,0)
^^1^1^2970922^^^^
"^DD",727.813,727.813,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.813,727.813,1,"DT")
2970924
"^DD",727.813,727.813,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.813,727.813,2,.1)
Extract Number
"^DD",727.813,727.813,2,1,0)
^.1
"^DD",727.813,727.813,2,1,1,0)
727.813^AC
"^DD",727.813,727.813,2,1,1,1)
S ^ECX(727.813,"AC",$E(X,1,30),DA)=""
"^DD",727.813,727.813,2,1,1,2)
K ^ECX(727.813,"AC",$E(X,1,30),DA)
"^DD",727.813,727.813,2,1,1,3)
DO NOT DELETE.
"^DD",727.813,727.813,2,1,1,"%D",0)
^^2^2^2960808^^^^
"^DD",727.813,727.813,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.813,727.813,2,1,1,"%D",2,0)
in this file.
"^DD",727.813,727.813,2,1,1,"DT")
2910802
"^DD",727.813,727.813,2,3)
Enter the extract number for this extract.
"^DD",727.813,727.813,2,21,0)
^^2^2^2960730^^^^
"^DD",727.813,727.813,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.813,727.813,2,21,2,0)
extract.
"^DD",727.813,727.813,2,23,0)
^^2^2^2960730^^^^
"^DD",727.813,727.813,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.813,727.813,2,23,2,0)
pick up the header for the mail message.
"^DD",727.813,727.813,2,"DT")
2960730
"^DD",727.813,727.813,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.813,727.813,3,.1)
Facility
"^DD",727.813,727.813,3,3)
Answer must be 1-7 characters in length.
"^DD",727.813,727.813,3,21,0)
^^1^1^2990510^^^^
"^DD",727.813,727.813,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.813,727.813,3,23,0)
^^4^4^2990510^^^^
"^DD",727.813,727.813,3,23,1,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.813,727.813,3,23,2,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.813,727.813,3,23,3,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.813,727.813,3,23,4,0)
the INSTITUTION file (#4).
"^DD",727.813,727.813,3,"DT")
2990510
"^DD",727.813,727.813,4,0)
PATIENT NO. - DFN^NJ2,0^^0;5^K:+X'=X!(X>10)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.813,727.813,4,.1)
Patient No. - DFN
"^DD",727.813,727.813,4,3)
Enter a number between 0 and 999999999, 0 decimal digits.
"^DD",727.813,727.813,4,21,0)
^^10^10^2990504^^^
"^DD",727.813,727.813,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.813,727.813,4,21,2,0)
  
"^DD",727.813,727.813,4,21,3,0)
The entity to which this extract applies. 
"^DD",727.813,727.813,4,21,4,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,4,21,5,0)
It could be an inpatient, a referral patient, or a research subject 
"^DD",727.813,727.813,4,21,6,0)
(which could be a patient, animal, tissue sample, etc.).
"^DD",727.813,727.813,4,21,7,0)
 
"^DD",727.813,727.813,4,21,8,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,4,21,9,0)
The patient to whom this extract applies. It could be an inpatient or a 
"^DD",727.813,727.813,4,21,10,0)
referral patient.
"^DD",727.813,727.813,4,23,0)
^^10^10^2990504^^^
"^DD",727.813,727.813,4,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,4,23,2,0)
Internal entry number in the PATIENT file (#2), or the REFERRAL  
"^DD",727.813,727.813,4,23,3,0)
file (#67), or the RESEARCH file (#67.1). Derived from the NAME field 
"^DD",727.813,727.813,4,23,4,0)
(.03) as defined from the PARENT FILE field (.02) in the LAB DATA file 
"^DD",727.813,727.813,4,23,5,0)
(#63).
"^DD",727.813,727.813,4,23,6,0)
 
"^DD",727.813,727.813,4,23,7,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,4,23,8,0)
Internal entry number in the PATIENT file (#2) or the REFERRAL PATIENT 
"^DD",727.813,727.813,4,23,9,0)
file (#67).  Derived from the NAME field (.03) as defined from the PARENT
"^DD",727.813,727.813,4,23,10,0)
FILE field (.02) in the LAB DATA file (#63).
"^DD",727.813,727.813,4,"DT")
2961017
"^DD",727.813,727.813,5,0)
SSN IDENTIFYING NUMBER^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.813,727.813,5,.1)
Social Security Identifying Number
"^DD",727.813,727.813,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.813,727.813,5,21,0)
^^5^5^2990504^^^^
"^DD",727.813,727.813,5,21,1,0)
The patient's social security number or the identifying number for a
"^DD",727.813,727.813,5,21,2,0)
non-patient entity.
"^DD",727.813,727.813,5,21,3,0)
 
"^DD",727.813,727.813,5,21,4,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.813,727.813,5,21,5,0)
patient" and will not be included in the extract.  
"^DD",727.813,727.813,5,23,0)
^^16^16^2990504^^^^
"^DD",727.813,727.813,5,23,1,0)
SSN or identifying number as defined by one of two methods:
"^DD",727.813,727.813,5,23,2,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,5,23,3,0)
   If the PARENT FILE field (.02) in the LAB DATA file (#63) is
"^DD",727.813,727.813,5,23,4,0)
   a. PATIENT file (#2) = SOCIAL SECURITY NUMBER field (.09)
"^DD",727.813,727.813,5,23,5,0)
   b. REFERRAL PATIENT file (#67) = "000123456"
"^DD",727.813,727.813,5,23,6,0)
   c. RESEARCH file (#67.1) = "888888888"
"^DD",727.813,727.813,5,23,7,0)
 
"^DD",727.813,727.813,5,23,8,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,5,23,9,0)
   If the PATIENT field (9) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,5,23,10,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,5,23,11,0)
   field (.03) multiple of the WKLD DATA file (#64.1) is
"^DD",727.813,727.813,5,23,12,0)
   a. PATIENT file (#2) = SOCIAL SECURITY NUMBER field (.09)
"^DD",727.813,727.813,5,23,13,0)
   b. REFERRAL PATIENT file (#67) = "000123456"
"^DD",727.813,727.813,5,23,14,0)
 
"^DD",727.813,727.813,5,23,15,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.813,727.813,5,23,16,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.813,727.813,5,"DT")
2961017
"^DD",727.813,727.813,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.813,727.813,6,.1)
Name
"^DD",727.813,727.813,6,3)
Your answer must be 4 characters in length.
"^DD",727.813,727.813,6,21,0)
^^1^1^2961127^^^^
"^DD",727.813,727.813,6,21,1,0)
The first four characters of the patient's last name or entity's name.
"^DD",727.813,727.813,6,23,0)
^^16^16^2961127^^
"^DD",727.813,727.813,6,23,1,0)
Free text first four characters of the patient's or entity's last name 
"^DD",727.813,727.813,6,23,2,0)
as determined by one of two methods:
"^DD",727.813,727.813,6,23,3,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,6,23,4,0)
   If the PARENT FILE field (.02) in the LAB DATA file (#63) is 
"^DD",727.813,727.813,6,23,5,0)
   a. PATIENT file (#2) = NAME field (.01) in the PATIENT file (#2). 
"^DD",727.813,727.813,6,23,6,0)
   b. REFERRAL PATIENT file (#67) = "RFRL"
"^DD",727.813,727.813,6,23,7,0)
   c. RESEARCH file (#67.1) = "RSCH"
"^DD",727.813,727.813,6,23,8,0)
 
"^DD",727.813,727.813,6,23,9,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,6,23,10,0)
   If the PATIENT field (9) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,6,23,11,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,6,23,12,0)
   field (.03) multiple of the WKLD DATA file (#64.1) is
"^DD",727.813,727.813,6,23,13,0)
   a. PATIENT file (#2) = NAME field (.01) in the PATIENT file (#2). 
"^DD",727.813,727.813,6,23,14,0)
   b. REFERRAL PATIENT file (#67) = "RFRL"
"^DD",727.813,727.813,6,23,15,0)
 
"^DD",727.813,727.813,6,23,16,0)
If necessary, trailing spaces are padded to equal 4 characters. 
"^DD",727.813,727.813,6,"AUDIT")

"^DD",727.813,727.813,6,"DT")
2960730
"^DD",727.813,727.813,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.813,727.813,7,.1)
In Out Patient Indicator
"^DD",727.813,727.813,7,3)
Enter 1 to indicate outpatient status, 3 for inpatient status.
"^DD",727.813,727.813,7,21,0)
^^2^2^2960730^^^^
"^DD",727.813,727.813,7,21,1,0)
Indicates whether the patient or entity was an inpatient or an 
"^DD",727.813,727.813,7,21,2,0)
outpatient for this extract.  
"^DD",727.813,727.813,7,23,0)
^^4^4^2960730^^^^
"^DD",727.813,727.813,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status.  If 
"^DD",727.813,727.813,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.813,727.813,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.813,727.813,7,23,4,0)
inpatient status. 
"^DD",727.813,727.813,7,"DT")
2960731
"^DD",727.813,727.813,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.813,727.813,8,.1)
Day
"^DD",727.813,727.813,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.813,727.813,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.813,727.813,8,3)
Answer must be 8 characters in length.
"^DD",727.813,727.813,8,21,0)
^^2^2^3000309^^^^
"^DD",727.813,727.813,8,21,1,0)
This 8-character numeric string represents the collected date of
"^DD",727.813,727.813,8,21,2,0)
the Laboratory test.
"^DD",727.813,727.813,8,23,0)
^^16^16^3000309^^^^
"^DD",727.813,727.813,8,23,1,0)
Data source --
"^DD",727.813,727.813,8,23,2,0)
 
"^DD",727.813,727.813,8,23,3,0)
For Lab Extract:
"^DD",727.813,727.813,8,23,4,0)
   Data is inserted in this field by Laboratory routine ECXLABN
"^DD",727.813,727.813,8,23,5,0)
   and is derived from WKLD LOG file (#64.03) DATE/TIME COLLECTED 
"^DD",727.813,727.813,8,23,6,0)
   field (#12).
"^DD",727.813,727.813,8,23,7,0)
      The value in field #12 of file #64.03 originated from 
"^DD",727.813,727.813,8,23,8,0)
      routine LRCAPDSS and is derived from WKLD DATA file (#64.1); 
"^DD",727.813,727.813,8,23,9,0)
      sub-file ACCESSION WKLD CODE TIME (#64.1111); INVERSE DATE 
"^DD",727.813,727.813,8,23,10,0)
      COMPLETED field (#21)
"^DD",727.813,727.813,8,23,11,0)
 
"^DD",727.813,727.813,8,23,12,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.813,727.813,8,23,13,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.813,727.813,8,23,14,0)
then a default is used.  The default date value is the value of the 
"^DD",727.813,727.813,8,23,15,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.813,727.813,8,23,16,0)
Year 2000 compliant per vendor.
"^DD",727.813,727.813,8,"DT")
2970924
"^DD",727.813,727.813,9,0)
ACCESSION AREA^F^^0;10^K:$L(X)>5!($L(X)<1) X
"^DD",727.813,727.813,9,.1)
Accession Area
"^DD",727.813,727.813,9,3)
Answer must be 1-5 characters in length.
"^DD",727.813,727.813,9,21,0)
^^5^5^2990510^^^^
"^DD",727.813,727.813,9,21,1,0)
If the patient is a regular medical center patient, this field holds
"^DD",727.813,727.813,9,21,2,0)
a pointer to file #68.
"^DD",727.813,727.813,9,21,3,0)
 
"^DD",727.813,727.813,9,21,4,0)
If the patient is a referral, this field holds the Agency Code of
"^DD",727.813,727.813,9,21,5,0)
the referring Institution.
"^DD",727.813,727.813,9,23,0)
^^22^22^2990510^^^^
"^DD",727.813,727.813,9,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,9,23,2,0)
   AREA field (.01) in the ACCESSION file (#68) as pointed to by the 
"^DD",727.813,727.813,9,23,3,0)
   ACCESSION AREA field (3) within the TEST multiple (6) within the 
"^DD",727.813,727.813,9,23,4,0)
   SPECIMEN multiple (1) of the LAB ORDER ENTRY file (#69). 
"^DD",727.813,727.813,9,23,5,0)
 
"^DD",727.813,727.813,9,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,9,23,7,0)
   Source:
"^DD",727.813,727.813,9,23,8,0)
   Field #14; file #64.03
"^DD",727.813,727.813,9,23,9,0)
   File d#6; sub-file #64.1111; sub-file #64.111; sub-file #64.11;
"^DD",727.813,727.813,9,23,10,0)
     file #64.1
"^DD",727.813,727.813,9,23,11,0)
   OR
"^DD",727.813,727.813,9,23,12,0)
   Field #14; file #64.03
"^DD",727.813,727.813,9,23,13,0)
   Field #95; file #4
"^DD",727.813,727.813,9,23,14,0)
  
"^DD",727.813,727.813,9,23,15,0)
   For laboratory procedure on a routine medical center patient,
"^DD",727.813,727.813,9,23,16,0)
   this field will contain the internal record number of the 
"^DD",727.813,727.813,9,23,17,0)
   Accession Area in the ACCESSION file (#68).
"^DD",727.813,727.813,9,23,18,0)
  
"^DD",727.813,727.813,9,23,19,0)
   For procedure on a referral patient, this field will contain
"^DD",727.813,727.813,9,23,20,0)
   the 2-character Agency Code from the AGENCY CODE field (#95)
"^DD",727.813,727.813,9,23,21,0)
   of the INSTITUTION file (#4) record which represents the 
"^DD",727.813,727.813,9,23,22,0)
   referring Institution.
"^DD",727.813,727.813,9,"DT")
2980120
"^DD",727.813,727.813,10,0)
ABBREVIATION^F^^0;11^K:$L(X)>5!($L(X)<1) X
"^DD",727.813,727.813,10,.1)
Abbreviation
"^DD",727.813,727.813,10,3)
Your answer must be 1 to 5 characters in length.
"^DD",727.813,727.813,10,21,0)
^^1^1^2990510^^^^
"^DD",727.813,727.813,10,21,1,0)
The abbreviation for the accession area associated with this event.
"^DD",727.813,727.813,10,23,0)
^^10^10^2990510^^^^
"^DD",727.813,727.813,10,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,10,23,2,0)
   ABBREVIATION field (.09) of the ACCESSION file (#68) as pointed to by 
"^DD",727.813,727.813,10,23,3,0)
   the ACCESSION AREA field (3) within the TEST multiple (6) within the 
"^DD",727.813,727.813,10,23,4,0)
   SPECIMEN # multiple (1) of the LAB ORDER ENTRY file (#69).
"^DD",727.813,727.813,10,23,5,0)
 
"^DD",727.813,727.813,10,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,10,23,7,0)
   ABBREVIATION field (.09) in the ACCESSION file (#68) as pointed to by 
"^DD",727.813,727.813,10,23,8,0)
   the MAJ. SECT. field (6) of the ACCESSION WKLD CODE TIME field 
"^DD",727.813,727.813,10,23,9,0)
   (1) multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,10,23,10,0)
   field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,10,"DT")
2960730
"^DD",727.813,727.813,11,0)
TEST^P60'^LAB(60,^0;12^Q
"^DD",727.813,727.813,11,.1)
Test
"^DD",727.813,727.813,11,3)
Enter the lab test for this entry.
"^DD",727.813,727.813,11,21,0)
^^1^1^2990510^^^^
"^DD",727.813,727.813,11,21,1,0)
The lab test associated with this event for this patient or entity.  
"^DD",727.813,727.813,11,23,0)
^^10^10^2990510^^^^
"^DD",727.813,727.813,11,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,11,23,2,0)
   NAME field (.01) in the LABORATORY TEST FILE (#60) as pointed to by 
"^DD",727.813,727.813,11,23,3,0)
   TEST/PROCEDURE field (.01) of the TEST multiple (6) within the 
"^DD",727.813,727.813,11,23,4,0)
   SPECIMEN # multiple (1) of the LAB ORDER ENTRY file (#69).
"^DD",727.813,727.813,11,23,5,0)
 
"^DD",727.813,727.813,11,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,11,23,7,0)
   NAME field (.01) in the LABORATORY TEST FILE (#60) as pointed to by
"^DD",727.813,727.813,11,23,8,0)
   the LAB TEST field (1) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,11,23,9,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,11,23,10,0)
   field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,11,"DT")
2960730
"^DD",727.813,727.813,12,0)
URGENCY OF TEST^P62.05'^LAB(62.05,^0;13^Q
"^DD",727.813,727.813,12,.1)
Urgency of Test
"^DD",727.813,727.813,12,3)
Enter urgency of test completed.
"^DD",727.813,727.813,12,21,0)
^^1^1^2990510^^^^
"^DD",727.813,727.813,12,21,1,0)
The urgency of the test completed.
"^DD",727.813,727.813,12,23,0)
^^10^10^2990510^^^^
"^DD",727.813,727.813,12,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,12,23,2,0)
   URGENCY field (.01) in the URGENCY FILE (#62.05) as pointed to by 
"^DD",727.813,727.813,12,23,3,0)
   URGENCY field (1) of the TEST multiple (6) within the SPECIMEN # 
"^DD",727.813,727.813,12,23,4,0)
   multiple (1) of the LAB ORDER ENTRY file (#69). 
"^DD",727.813,727.813,12,23,5,0)
 
"^DD",727.813,727.813,12,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,12,23,7,0)
   URGENCY field (.01) in the URGENCY FILE (#62.05) as pointed to by
"^DD",727.813,727.813,12,23,8,0)
   the URGENCY field (22) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,12,23,9,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,12,23,10,0)
   field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,12,"DT")
2960730
"^DD",727.813,727.813,13,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;14^Q
"^DD",727.813,727.813,13,.1)
Treating Specialty
"^DD",727.813,727.813,13,3)
Enter treating specialty for this patient or entity.
"^DD",727.813,727.813,13,21,0)
^^2^2^2960730^^^^
"^DD",727.813,727.813,13,21,1,0)
Indicates treating specialty for this patient or entity.  Will be set to 
"^DD",727.813,727.813,13,21,2,0)
null for outpatients.  
"^DD",727.813,727.813,13,23,0)
^^14^14^2960730^^^^
"^DD",727.813,727.813,13,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,13,23,2,0)
   This field is initialized to a null, indicating an outpatient 
"^DD",727.813,727.813,13,23,3,0)
   status. If a call to IN5^VADPT (using the patient IEN and the event 
"^DD",727.813,727.813,13,23,4,0)
   date) returns a patient movement number (indicating inpatient 
"^DD",727.813,727.813,13,23,5,0)
   status), then the value of VAIP(8), which is the pointer to the 
"^DD",727.813,727.813,13,23,6,0)
   FACILITY TREATING SPECIALTY file (#45.7), is used to get the 
"^DD",727.813,727.813,13,23,7,0)
   SPECIALTY field (1) which points to the SPECIALTY file (#42.4). 
"^DD",727.813,727.813,13,23,8,0)
 
"^DD",727.813,727.813,13,23,9,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,13,23,10,0)
   NAME field (.01) in the SPECIALTY file (#42.4), as pointed to by the 
"^DD",727.813,727.813,13,23,11,0)
   NAME field (.01) in the FACILITY TREATING SPECIALTY file (#45.7), as 
"^DD",727.813,727.813,13,23,12,0)
   pointed to by the TREATING SPECIALTY field (16) of the ACCESSION WKLD 
"^DD",727.813,727.813,13,23,13,0)
   CODE TIME field (1) multiple within the WKLD CODE field (1) multiple 
"^DD",727.813,727.813,13,23,14,0)
   within the DATE field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,13,"DT")
2960730
"^DD",727.813,727.813,14,0)
LOCATION^F^^0;15^K:$L(X)>20!($L(X)<1) X
"^DD",727.813,727.813,14,.1)
Location
"^DD",727.813,727.813,14,3)
Answer must be 1-20 characters in length.
"^DD",727.813,727.813,14,21,0)
^^1^1^2990701^^^^
"^DD",727.813,727.813,14,21,1,0)
The service/location from which the original order came.
"^DD",727.813,727.813,14,23,0)
^^14^14^2990701^^^^
"^DD",727.813,727.813,14,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,14,23,2,0)
   NAME field (.01) of the HOSPITAL LOCATION file (#44) as pointed to by 
"^DD",727.813,727.813,14,23,3,0)
   the ORDERING LOCATION field (23) within the SPECIMEN # multiple (1) 
"^DD",727.813,727.813,14,23,4,0)
   of the LAB ORDER ENTRY file (#69). 
"^DD",727.813,727.813,14,23,5,0)
 
"^DD",727.813,727.813,14,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,14,23,7,0)
   NAME field (.01) of the HOSPITAL LOCATION file (#44) as pointed to by 
"^DD",727.813,727.813,14,23,8,0)
   the ORDERING LOCATION field (20) of the ACCESSION WKLD CODE TIME 
"^DD",727.813,727.813,14,23,9,0)
   field (1) multiple within the WKLD CODE field (1) multiple within the 
"^DD",727.813,727.813,14,23,10,0)
   DATE field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,14,23,11,0)
 
"^DD",727.813,727.813,14,23,12,0)
In the case of the Lab Extract with LMIP Codes, this field may sometimes 
"^DD",727.813,727.813,14,23,13,0)
be null since Lab allows "non-standard" locations to be entered and 
"^DD",727.813,727.813,14,23,14,0)
these entries would be of no help to the purpose of this extract.
"^DD",727.813,727.813,14,"DT")
2980708
"^DD",727.813,727.813,15,0)
PROVIDER^F^^0;16^K:$L(X)>11!($L(X)<1) X
"^DD",727.813,727.813,15,.1)
Provider
"^DD",727.813,727.813,15,3)
Enter provider for this record.
"^DD",727.813,727.813,15,21,0)
^^1^1^2980708^^^^
"^DD",727.813,727.813,15,21,1,0)
The provider assigned to this patient or entity.  
"^DD",727.813,727.813,15,23,0)
^^14^14^2980708^^^^
"^DD",727.813,727.813,15,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,15,23,2,0)
   NAME field (.01) of the PROVIDER file (#6) or the NAME field (.01) of 
"^DD",727.813,727.813,15,23,3,0)
   the NEW PERSON file (#200) as pointed to by the PROVIDER field (7) 
"^DD",727.813,727.813,15,23,4,0)
   within the SPECIMEN # multiple (1) of the LAB ORDER ENTRY file (#69). 
"^DD",727.813,727.813,15,23,5,0)
 
"^DD",727.813,727.813,15,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,15,23,7,0)
   NAME field (.01) of the PROVIDER file (#6) or the NAME field (.01) of 
"^DD",727.813,727.813,15,23,8,0)
   the NEW PERSON file (#200) as pointed to by the PROVIDER field (15) 
"^DD",727.813,727.813,15,23,9,0)
   of the ACCESSION WKLD CODE TIME field (1) multiple within the WKLD 
"^DD",727.813,727.813,15,23,10,0)
   CODE field (1) multiple within the DATE field (.03) multiple of the 
"^DD",727.813,727.813,15,23,11,0)
   WKLD DATA file (#64.1).
"^DD",727.813,727.813,15,23,12,0)
 
"^DD",727.813,727.813,15,23,13,0)
The pointer value for the provider will be prefixed by "6" if found in
"^DD",727.813,727.813,15,23,14,0)
file #6; it will be prefixed by "2" if found in file #200.
"^DD",727.813,727.813,15,"DT")
2961017
"^DD",727.813,727.813,16,0)
MOVEMENT FILE #^P405'^DGPM(^0;17^Q
"^DD",727.813,727.813,16,.1)
Movement File Number
"^DD",727.813,727.813,16,3)
Enter the movement number associated with this patient or null for an entity. 
"^DD",727.813,727.813,16,21,0)
^^3^3^2960731^^^^
"^DD",727.813,727.813,16,21,1,0)
Movement number from the PATIENT MOVEMENT file (#405) associated with 
"^DD",727.813,727.813,16,21,2,0)
this event for a patient.  This field will be set to null for non-
"^DD",727.813,727.813,16,21,3,0)
patient or outpatient events.
"^DD",727.813,727.813,16,23,0)
^^5^5^2960731^^^^
"^DD",727.813,727.813,16,23,1,0)
This field is initialized to a null, indicating an outpatient status.  
"^DD",727.813,727.813,16,23,2,0)
If a call to IN5^VADPT (using the patient IEN and the event date) 
"^DD",727.813,727.813,16,23,3,0)
returns a patient movement number (indicating inpatient status), then 
"^DD",727.813,727.813,16,23,4,0)
this field is set to the value of VAIP(1), which is the pointer to the 
"^DD",727.813,727.813,16,23,5,0)
PATIENT MOVEMENT file (#405). 
"^DD",727.813,727.813,16,"DT")
2960730
"^DD",727.813,727.813,17,0)
FILE^F^^0;18^K:$L(X)>5!($L(X)<1) X
"^DD",727.813,727.813,17,.1)
File
"^DD",727.813,727.813,17,3)
Your answer must be 1 to 5 characters in length.
"^DD",727.813,727.813,17,21,0)
^^2^2^2990510^^^^
"^DD",727.813,727.813,17,21,1,0)
Parent file from which entity was extracted, i.e., PATIENT file (#2), 
"^DD",727.813,727.813,17,21,2,0)
REFERRAL PATIENT file (#67), or RESEARCH file (#67.1).
"^DD",727.813,727.813,17,23,0)
^^14^14^2990510^^^^
"^DD",727.813,727.813,17,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,17,23,2,0)
   If the PARENT FILE field (.02) of the LAB DATA file (#63) as pointed 
"^DD",727.813,727.813,17,23,3,0)
   to by the LRDFN field (.01) within the SPECIMEN # multiple (1) of the 
"^DD",727.813,727.813,17,23,4,0)
   LAB ORDER ENTRY file (#69) is
"^DD",727.813,727.813,17,23,5,0)
   a. 2 = PATIENT file (#2)
"^DD",727.813,727.813,17,23,6,0)
   b. 67 = REFERRAL PATIENT file (#67)
"^DD",727.813,727.813,17,23,7,0)
   c. 67.1 = RESEARCH file (#67.1).
"^DD",727.813,727.813,17,23,8,0)
 
"^DD",727.813,727.813,17,23,9,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,17,23,10,0)
   If the PATIENT field (9) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,17,23,11,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,17,23,12,0)
   field (.03) contains
"^DD",727.813,727.813,17,23,13,0)
   a. ^DPT( = PATIENT file (#2)
"^DD",727.813,727.813,17,23,14,0)
   b. ^LRT(67, = REFERRAL PATIENT file (#67)
"^DD",727.813,727.813,17,"DT")
2961022
"^DD",727.813,727.813,18,0)
TIME^FO^^0;19^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.813,727.813,18,.1)
Time
"^DD",727.813,727.813,18,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.813,727.813,18,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.813,727.813,18,3)
Answer must be 6 characters in length.
"^DD",727.813,727.813,18,21,0)
^^2^2^3000309^^^^
"^DD",727.813,727.813,18,21,1,0)
A 6-character numeric string that represents the time of day
"^DD",727.813,727.813,18,21,2,0)
at which the Laboratory test was collected.
"^DD",727.813,727.813,18,23,0)
^^13^13^3000309^^^^
"^DD",727.813,727.813,18,23,1,0)
Data source --
"^DD",727.813,727.813,18,23,2,0)
 
"^DD",727.813,727.813,18,23,3,0)
For Lab Extract:
"^DD",727.813,727.813,18,23,4,0)
   Data is inserted in this field by Laboratory routine ECXLABN
"^DD",727.813,727.813,18,23,5,0)
   and is derived from WKLD LOG file (#64.03) DATE/TIME COLLECTED
"^DD",727.813,727.813,18,23,6,0)
   field (#12).
"^DD",727.813,727.813,18,23,7,0)
      The value in field #12 of file #64.03 originated from
"^DD",727.813,727.813,18,23,8,0)
      routine LRCAPDSS and is derived from WKLD DATA file (#64.1);
"^DD",727.813,727.813,18,23,9,0)
      sub-file ACCESSION WKLD CODE TIME (#64.1111); INVERSE DATE
"^DD",727.813,727.813,18,23,10,0)
      COMPLETED field (#21)
"^DD",727.813,727.813,18,23,11,0)
 
"^DD",727.813,727.813,18,23,12,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.813,727.813,18,23,13,0)
cannot be determined, then "000300" is used as default.
"^DD",727.813,727.813,18,"DT")
2970924
"^DD",727.813,727.813,19,0)
WORKLOAD CODE^F^^0;20^K:$L(X)>10!($L(X)<1) X
"^DD",727.813,727.813,19,.1)
Workload Code
"^DD",727.813,727.813,19,3)
Your answer must be 1 to 10 characters in length.
"^DD",727.813,727.813,19,21,0)
^^3^3^2990510^^^^
"^DD",727.813,727.813,19,21,1,0)
For Lab Extract with LMIP Codes, this is the workload code for this event.
"^DD",727.813,727.813,19,21,2,0)
This corresponds to a CAP code.  For Lab Extract without LMIP Codes, this
"^DD",727.813,727.813,19,21,3,0)
field is set to null.
"^DD",727.813,727.813,19,23,0)
^^7^7^2990510^^^^
"^DD",727.813,727.813,19,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,19,23,2,0)
   This field is set to null.  
"^DD",727.813,727.813,19,23,3,0)
 
"^DD",727.813,727.813,19,23,4,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,19,23,5,0)
   WKLD CODE field (1) of the WKLD CODE file (#64) as pointed to by the
"^DD",727.813,727.813,19,23,6,0)
   WKLD CODE field (.01) of the WKLD CODE field (1) multiple within the
"^DD",727.813,727.813,19,23,7,0)
   DATE field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,19,"DT")
2961017
"^DD",727.813,727.813,20,0)
PRIMARY CARE TEAM^F^^0;21^K:$L(X)>4!($L(X)<1) X
"^DD",727.813,727.813,20,.1)
Primary Care Team
"^DD",727.813,727.813,20,3)
Enter primary care team assigned to this patient.
"^DD",727.813,727.813,20,21,0)
^^1^1^2961101^^^
"^DD",727.813,727.813,20,21,1,0)
The primary care team assigned to this patient.
"^DD",727.813,727.813,20,23,0)
^^12^12^2961101^
"^DD",727.813,727.813,20,23,1,0)
The ACCESSION DATE is defined by one of two methods. For Lab Extract 
"^DD",727.813,727.813,20,23,2,0)
without LMIP Codes, ACCESSION DATE is defined by the DATE ORDERED field 
"^DD",727.813,727.813,20,23,3,0)
(.01) of the LAB ORDER ENTRY file (#69). For Lab Extract with LMIP 
"^DD",727.813,727.813,20,23,4,0)
Codes, ACCESSION DATE is defined by the DATE ORDERED field (11) of the 
"^DD",727.813,727.813,20,23,5,0)
ACCESSION WKLD CODE TIME field (1) multiple within the WKLD CODE field 
"^DD",727.813,727.813,20,23,6,0)
(1) multiple within the DATE field (.03) multiple of the WKLD DATA file 
"^DD",727.813,727.813,20,23,7,0)
(#64.1).
"^DD",727.813,727.813,20,23,8,0)
  
"^DD",727.813,727.813,20,23,9,0)
Using the ACCESSION DATE and the patient pointer (DFN) stored in the 
"^DD",727.813,727.813,20,23,10,0)
PATIENT NO. - DFN field (4) in the LABORATORY EXTRACT file (#727.813), a 
"^DD",727.813,727.813,20,23,11,0)
call is made to the Scheduling API, OUTPTTM^SDUTL3. The API returns the 
"^DD",727.813,727.813,20,23,12,0)
team's internal entry number and name from the TEAM file (#404.51). Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.813,727.813,20,"DT")
2961101
"^DD",727.813,727.813,21,0)
PRIMARY CARE PROVIDER^F^^0;22^K:$L(X)>11!($L(X)<1) X
"^DD",727.813,727.813,21,.1)
Primary Care Provider
"^DD",727.813,727.813,21,3)
Enter primary care provider assigned to this patient.
"^DD",727.813,727.813,21,21,0)
^^1^1^2980708^^^^
"^DD",727.813,727.813,21,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.813,727.813,21,23,0)
^^16^16^2980708^^^
"^DD",727.813,727.813,21,23,1,0)
The ACCESSION DATE is defined by one of two methods. For Lab Extract 
"^DD",727.813,727.813,21,23,2,0)
without LMIP Codes, ACCESSION DATE is defined by the DATE ORDERED field 
"^DD",727.813,727.813,21,23,3,0)
(.01) of the LAB ORDER ENTRY file (#69). For Lab Extract with LMIP 
"^DD",727.813,727.813,21,23,4,0)
Codes, ACCESSION DATE is defined by the DATE ORDERED field (11) of the 
"^DD",727.813,727.813,21,23,5,0)
ACCESSION WKLD CODE TIME field (1) multiple within the WKLD CODE field 
"^DD",727.813,727.813,21,23,6,0)
(1) multiple within the DATE field (.03) multiple of the WKLD DATA file 
"^DD",727.813,727.813,21,23,7,0)
(#64.1).
"^DD",727.813,727.813,21,23,8,0)
  
"^DD",727.813,727.813,21,23,9,0)
Using the ACCESSION DATE and the patient pointer (DFN) stored in the 
"^DD",727.813,727.813,21,23,10,0)
PATIENT NO. - DFN field (4) in the LABORATORY EXTRACT file (#727.813), a 
"^DD",727.813,727.813,21,23,11,0)
call is made to the Scheduling API, OUTPTPR^SDUTL3. The API returns the 
"^DD",727.813,727.813,21,23,12,0)
provider's internal entry number and name from the NEW PERSON file 
"^DD",727.813,727.813,21,23,13,0)
(#200). 
"^DD",727.813,727.813,21,23,14,0)
 
"^DD",727.813,727.813,21,23,15,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.813,727.813,21,23,16,0)
is "200".
"^DD",727.813,727.813,21,"DT")
2961017
"^DD",727.813,727.813,22,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.813,727.813,22,3)
Answer must be 1-10 characters in length.
"^DD",727.813,727.813,22,21,0)
^^1^1^2990504^
"^DD",727.813,727.813,22,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.813,727.813,22,23,0)
^^2^2^2990504^
"^DD",727.813,727.813,22,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.813,727.813,22,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.813,727.813,22,"DT")
2990504
"^DD",727.813,727.813,23,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.813,727.813,23,3)
Answer must be 4-10 characters in length.
"^DD",727.813,727.813,23,21,0)
^^1^1^2990506^
"^DD",727.813,727.813,23,21,1,0)
The DSS Department Code for the Laboratory product.
"^DD",727.813,727.813,23,23,0)
^^2^2^2990506^
"^DD",727.813,727.813,23,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.813,727.813,23,23,2,0)
Field is set to null.
"^DD",727.813,727.813,23,"DT")
2990506
"^DD",727.813,727.813,24,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.813,727.813,24,3)
Answer must be 1-8 characters in length.
"^DD",727.813,727.813,24,21,0)
^^1^1^2990506^
"^DD",727.813,727.813,24,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.813,727.813,24,23,0)
^^4^4^2990506^
"^DD",727.813,727.813,24,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.813,727.813,24,23,2,0)
field will hold the Provider NPI.
"^DD",727.813,727.813,24,23,3,0)
   
"^DD",727.813,727.813,24,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.813,727.813,24,"DT")
2990506
"^DD",727.813,727.813,25,0)
PC PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.813,727.813,25,3)
Answer must be 1-8 characters in length.
"^DD",727.813,727.813,25,21,0)
^^1^1^2990506^^^
"^DD",727.813,727.813,25,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.813,727.813,25,23,0)
^^4^4^2990506^^
"^DD",727.813,727.813,25,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.813,727.813,25,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.813,727.813,25,23,3,0)
   
"^DD",727.813,727.813,25,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.813,727.813,25,"DT")
2990506
"^DD",727.813,727.813,26,0)
PC PROVIDER PERSON CLASS^F^^1;5^K:$L(X)>7!($L(X)<7) X
"^DD",727.813,727.813,26,3)
Answer must be 7 characters in length.
"^DD",727.813,727.813,26,21,0)
^^2^2^2981026^
"^DD",727.813,727.813,26,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.813,727.813,26,21,2,0)
associated with this record.
"^DD",727.813,727.813,26,23,0)
^^6^6^2981026^
"^DD",727.813,727.813,26,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.813,727.813,26,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.813,727.813,26,23,3,0)
extract record.
"^DD",727.813,727.813,26,23,4,0)
  
"^DD",727.813,727.813,26,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.813,727.813,26,23,6,0)
7 characters in length.
"^DD",727.813,727.813,26,"DT")
2981026
"^DD",727.813,727.813,27,0)
ASSOCIATE PC PROVIDER^F^^1;6^K:$L(X)>11!($L(X)<2) X
"^DD",727.813,727.813,27,3)
Answer must be 2-11 characters in length.
"^DD",727.813,727.813,27,21,0)
^^4^4^2990505^^
"^DD",727.813,727.813,27,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.813,727.813,27,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.813,727.813,27,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.813,727.813,27,21,4,0)
character 2.
"^DD",727.813,727.813,27,23,0)
^^2^2^2990505^^
"^DD",727.813,727.813,27,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.813,727.813,27,23,2,0)
the PCMM application.
"^DD",727.813,727.813,27,"DT")
2990504
"^DD",727.813,727.813,28,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;7^K:$L(X)>7!($L(X)<7) X
"^DD",727.813,727.813,28,3)
Answer must be 7 characters in length.
"^DD",727.813,727.813,28,21,0)
^^4^4^2990505^^^
"^DD",727.813,727.813,28,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.813,727.813,28,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.813,727.813,28,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.813,727.813,28,21,4,0)
exactly 7 characters in length. 
"^DD",727.813,727.813,28,23,0)
^^3^3^2990505^^^
"^DD",727.813,727.813,28,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.813,727.813,28,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.813,727.813,28,23,3,0)
PERS is the IEN from file #200.
"^DD",727.813,727.813,28,"DT")
2990504
"^DD",727.813,727.813,29,0)
ASSOCIATE PC PROVIDER NPI^F^^1;8^K:$L(X)>8!($L(X)<1) X
"^DD",727.813,727.813,29,3)
Answer must be 1-8 characters in length.
"^DD",727.813,727.813,29,21,0)
^^1^1^2990507^
"^DD",727.813,727.813,29,21,1,0)
The Associate Primary Care Provider's National Provider Identifier.
"^DD",727.813,727.813,29,23,0)
^^2^2^2990507^
"^DD",727.813,727.813,29,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.813,727.813,29,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.813,727.813,29,"DT")
2990507
"^DD",727.813,727.813,30,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.813,727.813,30,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.813,727.813,30,21,0)
^.001^5^5^3001023^^
"^DD",727.813,727.813,30,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.813,727.813,30,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.813,727.813,30,21,3,0)
Domiciliary (DOM)
"^DD",727.813,727.813,30,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.813,727.813,30,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.813,727.813,30,"DT")
3001010
"^DD",727.813,727.813,31,0)
EXTENDED OP INDICATOR^F^^1;10^K:$L(X)>4!($L(X)<1) X
"^DD",727.813,727.813,31,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.813,727.813,31,21,0)
^^1^1^3001019^
"^DD",727.813,727.813,31,21,1,0)
Indicates that a patient is an Extended Outpatient.
"^DD",727.813,727.813,31,"DT")
3000614
"^DD",727.814,727.814,0)
FIELD^^32^33
"^DD",727.814,727.814,0,"DIK")
ECX814
"^DD",727.814,727.814,0,"DIKOLD")
ECX814
"^DD",727.814,727.814,0,"DT")
3000614
"^DD",727.814,727.814,0,"IX","AC",727.814,2)

"^DD",727.814,727.814,0,"NM","RADIOLOGY EXTRACT")

"^DD",727.814,727.814,0,"VRPK")
ECX
"^DD",727.814,727.814,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.814,727.814,.01,.1)
Sequence Number
"^DD",727.814,727.814,.01,1,0)
^.1^^0
"^DD",727.814,727.814,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.814,727.814,.01,21,0)
^.001^1^1^3000606^^^^
"^DD",727.814,727.814,.01,21,1,0)
The record number for this extract entry.
"^DD",727.814,727.814,.01,23,0)
^.001^1^1^3000606^^^^
"^DD",727.814,727.814,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.814,727.814,.01,"DT")
2980812
"^DD",727.814,727.814,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.814,727.814,1,.1)
Year/Month
"^DD",727.814,727.814,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.814,727.814,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.814,727.814,1,3)
Answer must be 6 characters in length.
"^DD",727.814,727.814,1,21,0)
^^2^2^2970918^^^^
"^DD",727.814,727.814,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.814,727.814,1,21,2,0)
for which this extract was performed.
"^DD",727.814,727.814,1,23,0)
^^1^1^2970918^^^^
"^DD",727.814,727.814,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.814,727.814,1,"DT")
2970924
"^DD",727.814,727.814,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.814,727.814,2,.1)
Extract Number
"^DD",727.814,727.814,2,1,0)
^.1
"^DD",727.814,727.814,2,1,1,0)
727.814^AC
"^DD",727.814,727.814,2,1,1,1)
S ^ECX(727.814,"AC",$E(X,1,30),DA)=""
"^DD",727.814,727.814,2,1,1,2)
K ^ECX(727.814,"AC",$E(X,1,30),DA)
"^DD",727.814,727.814,2,1,1,3)
DO NOT DELETE.
"^DD",727.814,727.814,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.814,727.814,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.814,727.814,2,1,1,"%D",2,0)
in this file.
"^DD",727.814,727.814,2,1,1,"DT")
2910802
"^DD",727.814,727.814,2,3)
Enter the extract number for this extract.
"^DD",727.814,727.814,2,21,0)
^^2^2^2961004^^^^
"^DD",727.814,727.814,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.814,727.814,2,21,2,0)
extract.
"^DD",727.814,727.814,2,23,0)
^^2^2^2961004^^^^
"^DD",727.814,727.814,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.814,727.814,2,23,2,0)
pick up the header for the mail message.
"^DD",727.814,727.814,2,"DT")
2961004
"^DD",727.814,727.814,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.814,727.814,3,.1)
Facility
"^DD",727.814,727.814,3,3)
Enter the station number where this extract was performed.
"^DD",727.814,727.814,3,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.814,727.814,3,23,0)
^^4^4^2971113^^^^
"^DD",727.814,727.814,3,23,1,0)
Derived from the HOSPITAL DIVISION field (3) within the REGISTERED 
"^DD",727.814,727.814,3,23,2,0)
EXAMS multiple (2) in the RAD/NUC MED PATIENT file (#70). HOSPITAL 
"^DD",727.814,727.814,3,23,3,0)
DIVISION points to the RAD/NUC MED DIVISION file (#79) which in turn 
"^DD",727.814,727.814,3,23,4,0)
points to the INSTITUTION file (#4).
"^DD",727.814,727.814,3,"DT")
2961017
"^DD",727.814,727.814,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.814,727.814,4,.1)
Patient No. - DFN
"^DD",727.814,727.814,4,3)
Enter the name of the patient for this extract record.
"^DD",727.814,727.814,4,21,0)
^^1^1^2990504^^^^
"^DD",727.814,727.814,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.814,727.814,4,23,0)
^^3^3^2990504^^^^
"^DD",727.814,727.814,4,23,1,0)
Derived from the NAME field (.01) of the RAD/NUC MED PATIENT file (#70), 
"^DD",727.814,727.814,4,23,2,0)
which is DINUMed to the PATIENT file (#2). This data represents the 
"^DD",727.814,727.814,4,23,3,0)
patient DFN.
"^DD",727.814,727.814,4,"DT")
2961018
"^DD",727.814,727.814,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.814,727.814,5,.1)
Social Security Number
"^DD",727.814,727.814,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.814,727.814,5,21,0)
^^4^4^2990504^^^^
"^DD",727.814,727.814,5,21,1,0)
The patient's social security number.
"^DD",727.814,727.814,5,21,2,0)
 
"^DD",727.814,727.814,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.814,727.814,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.814,727.814,5,23,0)
^^6^6^2990504^^^
"^DD",727.814,727.814,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.814,727.814,5,23,2,0)
in the RADIOLOGY EXTRACT file (#727.814), SSN data is derived from the
"^DD",727.814,727.814,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.814,727.814,5,23,4,0)
 
"^DD",727.814,727.814,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.814,727.814,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.814,727.814,5,"DT")
2961004
"^DD",727.814,727.814,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.814,727.814,6,.1)
Name
"^DD",727.814,727.814,6,3)
Your answer must be 4 characters in length.
"^DD",727.814,727.814,6,21,0)
^^1^1^2961022^^^^
"^DD",727.814,727.814,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.814,727.814,6,23,0)
^^4^4^2961022^^
"^DD",727.814,727.814,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.814,727.814,6,23,2,0)
in the RADIOLOGY EXTRACT file (#727.814), NAME data is derived from the
"^DD",727.814,727.814,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.814,727.814,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.814,727.814,6,"DT")
2961004
"^DD",727.814,727.814,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.814,727.814,7,.1)
In Out Patient Indicator
"^DD",727.814,727.814,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.814,727.814,7,21,0)
^^2^2^2970724^^^^
"^DD",727.814,727.814,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.814,727.814,7,21,2,0)
extract entry.
"^DD",727.814,727.814,7,23,0)
^^4^4^2970724^^^^
"^DD",727.814,727.814,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.814,727.814,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.814,727.814,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.814,727.814,7,23,4,0)
inpatient status.
"^DD",727.814,727.814,7,"DT")
2961004
"^DD",727.814,727.814,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.814,727.814,8,.1)
Day
"^DD",727.814,727.814,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.814,727.814,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.814,727.814,8,3)
Answer must be 8 characters in length.
"^DD",727.814,727.814,8,21,0)
^^2^2^2970918^^^^
"^DD",727.814,727.814,8,21,1,0)
An 8-character numeric string that represents the date on which the
"^DD",727.814,727.814,8,21,2,0)
Radiology procedure was performed.
"^DD",727.814,727.814,8,23,0)
^^10^10^2970923^^^^
"^DD",727.814,727.814,8,23,1,0)
Data source:
"^DD",727.814,727.814,8,23,2,0)
 
"^DD",727.814,727.814,8,23,3,0)
RAD/NUC MED PATIENT file (#70); REGISTERED EXAMS sub-file (#70.02)
"^DD",727.814,727.814,8,23,4,0)
   EXAM DATE field (#.01)
"^DD",727.814,727.814,8,23,5,0)
 
"^DD",727.814,727.814,8,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.814,727.814,8,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.814,727.814,8,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.814,727.814,8,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.814,727.814,8,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.814,727.814,8,"DT")
2970924
"^DD",727.814,727.814,9,0)
CPT CODE & MODIFIERS^FO^^0;10^K:$L(X)>15!($L(X)<5) X
"^DD",727.814,727.814,9,.1)

"^DD",727.814,727.814,9,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.814,727.814,9,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.814,727.814,9,3)
Answer must be 5-15 characters in length.
"^DD",727.814,727.814,9,21,0)
^^5^5^2990505^^^^
"^DD",727.814,727.814,9,21,1,0)
The Current Procedural Terminology (CPT) code for the radiology 
"^DD",727.814,727.814,9,21,2,0)
procedure performed.
"^DD",727.814,727.814,9,21,3,0)
 
"^DD",727.814,727.814,9,21,4,0)
The 5 character CPT Code is followed by upto five (5) 2-character CPT
"^DD",727.814,727.814,9,21,5,0)
code modifiers.
"^DD",727.814,727.814,9,23,0)
^^9^9^2990505^^^^
"^DD",727.814,727.814,9,23,1,0)
Derived from the CPT CODE field (9) in the RAD/NUC MED PROCEDURES file 
"^DD",727.814,727.814,9,23,2,0)
(#71) for the procedure identified in the RADIOLOGY PROCEDURE field (2) 
"^DD",727.814,727.814,9,23,3,0)
of the EXAMINATIONS multiple (50) of the REGISTERED EXAMS multiple (2) 
"^DD",727.814,727.814,9,23,4,0)
in the RAD/NUC MED PATIENT file (#70). CPT CODE is a pointer to the CPT 
"^DD",727.814,727.814,9,23,5,0)
CODE field (.01) in the CPT file (#81).
"^DD",727.814,727.814,9,23,6,0)
 
"^DD",727.814,727.814,9,23,7,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the CPT
"^DD",727.814,727.814,9,23,8,0)
MODIFIER file (#81.3).  It is not known at this time where the Radiology
"^DD",727.814,727.814,9,23,9,0)
package will store those modifiers.
"^DD",727.814,727.814,9,"DT")
2990614
"^DD",727.814,727.814,10,0)
PROCEDURE^P71'^RAMIS(71,^0;11^Q
"^DD",727.814,727.814,10,.1)
Procedure
"^DD",727.814,727.814,10,3)
Enter the radiology procedure associated with this case.
"^DD",727.814,727.814,10,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,10,21,1,0)
The radiology procedure associated with this case.
"^DD",727.814,727.814,10,23,0)
^^4^4^2971113^^^^
"^DD",727.814,727.814,10,23,1,0)
Derived from the RADIOLOGY PROCEDURE field (2) within the EXAMINATIONS 
"^DD",727.814,727.814,10,23,2,0)
multiple (50) of the REGISTERED EXAMS multiple (2) of the RAD/NUC MED 
"^DD",727.814,727.814,10,23,3,0)
PATIENT file (#70). This field in a pointer to the RAD/NUC MED
"^DD",727.814,727.814,10,23,4,0)
PROCEDURES file (#71).
"^DD",727.814,727.814,10,"DT")
2961004
"^DD",727.814,727.814,11,0)
IMAGING LOCATION^P79.1'^RA(79.1,^0;12^Q
"^DD",727.814,727.814,11,.1)
Imaging Location
"^DD",727.814,727.814,11,3)
Enter name of the imaging location where this radiology exam was performed.
"^DD",727.814,727.814,11,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,11,21,1,0)
The imaging location where this radiology exam was performed.
"^DD",727.814,727.814,11,23,0)
^^3^3^2971113^^^^
"^DD",727.814,727.814,11,23,1,0)
Derived from the IMAGING LOCATION field (4) within the REGISTERED EXAMS 
"^DD",727.814,727.814,11,23,2,0)
multiple (2) of the RAD/NUC MED PATIENT file (#70). It is a pointer to the 
"^DD",727.814,727.814,11,23,3,0)
IMAGING LOCATIONS file (#79.1).
"^DD",727.814,727.814,11,"DT")
2961004
"^DD",727.814,727.814,12,0)
LOCATION (WARD OR CLINIC)^P44'^SC(^0;13^Q
"^DD",727.814,727.814,12,.1)
Location (Ward or Clinic)
"^DD",727.814,727.814,12,3)
Enter the ward or clinic of the patient at the time of the radiologic exam.
"^DD",727.814,727.814,12,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,12,21,1,0)
The patient's ward or clinic location.
"^DD",727.814,727.814,12,23,0)
^^10^10^2971113^^^^
"^DD",727.814,727.814,12,23,1,0)
Derived from the WARD field (6) within the EXAMINATIONS multiple (50) of 
"^DD",727.814,727.814,12,23,2,0)
the REGISTERED EXAMS multiple (2) of the RAD/NUC MED PATIENT file (#70). 
"^DD",727.814,727.814,12,23,3,0)
Using this WARD LOCATION file (#42) pointer, the data is derived from 
"^DD",727.814,727.814,12,23,4,0)
the HOSPITAL LOCATION FILE POINTER field (44) in the WARD LOCATION file 
"^DD",727.814,727.814,12,23,5,0)
(#42) which is a pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.814,727.814,12,23,6,0)
  
"^DD",727.814,727.814,12,23,7,0)
If the patient is not assigned to a ward, data is derived from the 
"^DD",727.814,727.814,12,23,8,0)
PRINCIPAL CLINIC field (8) within the EXAMINATIONS multiple (50) of the 
"^DD",727.814,727.814,12,23,9,0)
REGISTERED EXAMS multiple (2) of the RAD/NUC MED PATIENT file (#70). 
"^DD",727.814,727.814,12,23,10,0)
PRINCIPAL CLINIC is a pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.814,727.814,12,"DT")
2961004
"^DD",727.814,727.814,13,0)
SERVICE^P49'^DIC(49,^0;14^Q
"^DD",727.814,727.814,13,.1)
Service
"^DD",727.814,727.814,13,3)
Enter the name of the service.
"^DD",727.814,727.814,13,21,0)
^^1^1^2961004^^^^
"^DD",727.814,727.814,13,21,1,0)
Indicates the name of the service treating the patient.
"^DD",727.814,727.814,13,23,0)
^^3^3^2971113^^^^
"^DD",727.814,727.814,13,23,1,0)
Derived from the SERVICE field (7) within the EXAMINATIONS multiple (50) 
"^DD",727.814,727.814,13,23,2,0)
of the REGISTERED EXAMS multiple (2) of the RAD/NUC MED PATIENT file 
"^DD",727.814,727.814,13,23,3,0)
(#70). SERVICE is a pointer to the HOSPITAL SERVICE file (#49).
"^DD",727.814,727.814,13,"DT")
2961004
"^DD",727.814,727.814,14,0)
DIAGNOSTIC CODE^P78.3'^RA(78.3,^0;15^Q
"^DD",727.814,727.814,14,.1)
Diagnostic Code
"^DD",727.814,727.814,14,3)
Enter the diagnostic code associated with this exam.
"^DD",727.814,727.814,14,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,14,21,1,0)
Indicates the diagnostic code associated with this exam.
"^DD",727.814,727.814,14,23,0)
^^4^4^2971113^^^^
"^DD",727.814,727.814,14,23,1,0)
Derived from the PRIMARY DIAGNOSTIC CODE field (13) within the 
"^DD",727.814,727.814,14,23,2,0)
EXAMINATIONS multiple (50) of the REGISTERED EXAMS multiple (2) of 
"^DD",727.814,727.814,14,23,3,0)
the RAD/NUC MED PATIENT file (#70). DIAGNOSTIC CODE is a pointer to 
"^DD",727.814,727.814,14,23,4,0)
the DIAGNOSTIC CODES file (#78.3).
"^DD",727.814,727.814,14,"DT")
2961004
"^DD",727.814,727.814,15,0)
REQUESTING PHYSICIAN^F^^0;16^K:$L(X)>11!($L(X)<1) X
"^DD",727.814,727.814,15,.1)
Requesting Physician
"^DD",727.814,727.814,15,3)
Your answer must be 1 to 11 characters in length.
"^DD",727.814,727.814,15,21,0)
^^1^1^2980608^^^^
"^DD",727.814,727.814,15,21,1,0)
Indicates the person requesting this radiology exam.
"^DD",727.814,727.814,15,23,0)
^^6^6^2980608^^^^
"^DD",727.814,727.814,15,23,1,0)
Derived from the REQUESTING PHYSICIAN field (14) within the EXAMINATIONS 
"^DD",727.814,727.814,15,23,2,0)
multiple (50) of the REGISTERED EXAMS multiple (2) of the RAD/NUC MED 
"^DD",727.814,727.814,15,23,3,0)
PATIENT file (#70). If REQUESTING PHYSICIAN is a pointer to the NEW 
"^DD",727.814,727.814,15,23,4,0)
PERSON file (#200), it is stored as "2"_pointer value. If REQUESTING 
"^DD",727.814,727.814,15,23,5,0)
PHYSICIAN is a pointer to the PROVIDER file (#6), it is stored as 
"^DD",727.814,727.814,15,23,6,0)
"6"_pointer value.
"^DD",727.814,727.814,15,"DT")
2961018
"^DD",727.814,727.814,16,0)
MODIFIERS^F^^0;17^K:$L(X)>15!($L(X)<1) X
"^DD",727.814,727.814,16,.1)
Modifiers
"^DD",727.814,727.814,16,3)
Your answer must be 1 to 15 characters in length.
"^DD",727.814,727.814,16,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,16,21,1,0)
Indicates radiology modifiers associated with this exam.
"^DD",727.814,727.814,16,23,0)
^^5^5^2971113^^^^
"^DD",727.814,727.814,16,23,1,0)
Derived from the MODIFIERS field (.01) within the MODIFIERS multiple 
"^DD",727.814,727.814,16,23,2,0)
(#125) of the EXAMINATIONS multiple (50) within the REGISTERED EXAMS 
"^DD",727.814,727.814,16,23,3,0)
multiple (2) of the RAD/NUC MED PATIENT file (#70). This field consists of 
"^DD",727.814,727.814,16,23,4,0)
a string of pointers to the PROCEDURE MODIFIERS file (#71.2) separated 
"^DD",727.814,727.814,16,23,5,0)
by semi-colons (;).
"^DD",727.814,727.814,16,"DT")
2961022
"^DD",727.814,727.814,17,0)
MOVEMENT FILE #^P405'^DGPM(^0;18^Q
"^DD",727.814,727.814,17,.1)
Movement File Number
"^DD",727.814,727.814,17,3)
Enter the patient movement number associated with this extract record.
"^DD",727.814,727.814,17,21,0)
^^1^1^2961004^^
"^DD",727.814,727.814,17,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.814,727.814,17,23,0)
^^4^4^2961004^^
"^DD",727.814,727.814,17,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.814,727.814,17,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.814,727.814,17,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.814,727.814,17,23,4,0)
(#405).
"^DD",727.814,727.814,17,"DT")
2961004
"^DD",727.814,727.814,18,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;19^Q
"^DD",727.814,727.814,18,.1)
Treating Specialty
"^DD",727.814,727.814,18,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.814,727.814,18,21,0)
^^1^1^2961004^^
"^DD",727.814,727.814,18,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.814,727.814,18,23,0)
^^6^6^2961004^^^
"^DD",727.814,727.814,18,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.814,727.814,18,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.814,727.814,18,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.814,727.814,18,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.814,727.814,18,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.814,727.814,18,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.814,727.814,18,"DT")
2961004
"^DD",727.814,727.814,19,0)
TIME^FO^^0;20^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.814,727.814,19,.1)
Time
"^DD",727.814,727.814,19,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.814,727.814,19,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.814,727.814,19,3)
Answer must be 6 characters in length.
"^DD",727.814,727.814,19,21,0)
^^2^2^2971113^^^^
"^DD",727.814,727.814,19,21,1,0)
A 6-character numeric string that represents the time of day when
"^DD",727.814,727.814,19,21,2,0)
this Radiology procedure was performed.
"^DD",727.814,727.814,19,23,0)
^^7^7^2971113^^^^
"^DD",727.814,727.814,19,23,1,0)
Data source:
"^DD",727.814,727.814,19,23,2,0)
 
"^DD",727.814,727.814,19,23,3,0)
RAD/NUC MED PATIENT file (#70); REGISTERED EXAMS sub-file (#70.02)
"^DD",727.814,727.814,19,23,4,0)
   EXAM DATE field (#.01)
"^DD",727.814,727.814,19,23,5,0)
 
"^DD",727.814,727.814,19,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.814,727.814,19,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.814,727.814,19,"DT")
2970924
"^DD",727.814,727.814,20,0)
IMAGING TYPE^P79.2'^RA(79.2,^0;21^Q
"^DD",727.814,727.814,20,.1)
Imaging Type
"^DD",727.814,727.814,20,3)
Enter the type of imaging used for this radiology exam.
"^DD",727.814,727.814,20,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,20,21,1,0)
The type of imaging used for this radiology exam.
"^DD",727.814,727.814,20,23,0)
^^3^3^2971113^^^^
"^DD",727.814,727.814,20,23,1,0)
Derived from the TYPE OF IMAGING field (2) within the REGISTERED EXAMS 
"^DD",727.814,727.814,20,23,2,0)
multiple (2) of the RAD/NUC MED PATIENT file (#70). It is a pointer to the 
"^DD",727.814,727.814,20,23,3,0)
IMAGING TYPE file (#79.2).
"^DD",727.814,727.814,20,"DT")
2961004
"^DD",727.814,727.814,21,0)
PRIMARY CARE TEAM^F^^0;22^K:$L(X)>4!($L(X)<1) X
"^DD",727.814,727.814,21,.1)
Primary Care Team
"^DD",727.814,727.814,21,3)
Enter primary care team assigned to this patient.
"^DD",727.814,727.814,21,21,0)
^^1^1^2961031^^^
"^DD",727.814,727.814,21,21,1,0)
The primary care team assigned to this patient.
"^DD",727.814,727.814,21,23,0)
^^6^6^2971113^^^
"^DD",727.814,727.814,21,23,1,0)
Using the EXAM DATE field (.01) within the REGISTERED EXAMS multiple 
"^DD",727.814,727.814,21,23,2,0)
(2) of the RAD/NUC MED PATIENT file (#70) and the patient pointer (DFN) 
"^DD",727.814,727.814,21,23,3,0)
stored in the PATIENT NO. - DFN field (4) in the RADIOLOGY EXTRACT file 
"^DD",727.814,727.814,21,23,4,0)
(#727.814), a call is made to the Scheduling API, OUTPTTM^SDUTL3. The 
"^DD",727.814,727.814,21,23,5,0)
API returns the team's internal entry number and name from the TEAM file 
"^DD",727.814,727.814,21,23,6,0)
(#404.51). Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.814,727.814,21,"DT")
2961031
"^DD",727.814,727.814,22,0)
PRIMARY CARE PROVIDER^F^^0;23^K:$L(X)>11!($L(X)<1) X
"^DD",727.814,727.814,22,.1)
Primary Care Provider
"^DD",727.814,727.814,22,3)
Enter primary care provider assigned to this patient.
"^DD",727.814,727.814,22,21,0)
^^1^1^2980708^^^^
"^DD",727.814,727.814,22,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.814,727.814,22,23,0)
^^9^9^2980708^^^^
"^DD",727.814,727.814,22,23,1,0)
Using the EXAM DATE field (.01) within the REGISTERED EXAMS multiple 
"^DD",727.814,727.814,22,23,2,0)
(2) of the RAD/NUC MED PATIENT file (#70) and the patient pointer (DFN) 
"^DD",727.814,727.814,22,23,3,0)
stored in the PATIENT NO. - DFN field (4) in the RADIOLOGY EXTRACT file 
"^DD",727.814,727.814,22,23,4,0)
(#727.814), a call is made to the Scheduling API, OUTPTPR^SDUTL3. The 
"^DD",727.814,727.814,22,23,5,0)
API returns the provider's internal entry number and name from the NEW 
"^DD",727.814,727.814,22,23,6,0)
PERSON file (#200). 
"^DD",727.814,727.814,22,23,7,0)
 
"^DD",727.814,727.814,22,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.814,727.814,22,23,9,0)
is "200".
"^DD",727.814,727.814,22,"DT")
2961018
"^DD",727.814,727.814,23,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.814,727.814,23,3)
Answer must be 1-10 characters in length.
"^DD",727.814,727.814,23,21,0)
^^1^1^2990504^
"^DD",727.814,727.814,23,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.814,727.814,23,23,0)
^^2^2^2990504^
"^DD",727.814,727.814,23,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.814,727.814,23,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.814,727.814,23,"DT")
2990504
"^DD",727.814,727.814,24,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.814,727.814,24,3)
Answer must be 4-10 characters in length.
"^DD",727.814,727.814,24,21,0)
^^1^1^2990506^
"^DD",727.814,727.814,24,21,1,0)
The DSS Department Code for the Radiology product.
"^DD",727.814,727.814,24,23,0)
^^2^2^2990506^
"^DD",727.814,727.814,24,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.814,727.814,24,23,2,0)
Field is set to null.
"^DD",727.814,727.814,24,"DT")
2990506
"^DD",727.814,727.814,25,0)
REQUESTING PHYSICIAN NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.814,727.814,25,3)
Answer must be 1-8 characters in length.
"^DD",727.814,727.814,25,21,0)
^^1^1^2990506^
"^DD",727.814,727.814,25,21,1,0)
The Requesting Physician's National Provider Identifier code.
"^DD",727.814,727.814,25,23,0)
^^4^4^2990506^
"^DD",727.814,727.814,25,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.814,727.814,25,23,2,0)
field will hold the Requesting Physician NPI.
"^DD",727.814,727.814,25,23,3,0)
   
"^DD",727.814,727.814,25,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.814,727.814,25,"DT")
2990506
"^DD",727.814,727.814,26,0)
PC PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.814,727.814,26,3)
Answer must be 1-8 characters in length.
"^DD",727.814,727.814,26,21,0)
^^1^1^2990506^
"^DD",727.814,727.814,26,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.814,727.814,26,23,0)
^^4^4^2990506^
"^DD",727.814,727.814,26,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.814,727.814,26,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.814,727.814,26,23,3,0)
   
"^DD",727.814,727.814,26,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.814,727.814,26,"DT")
2990506
"^DD",727.814,727.814,27,0)
PC PROVIDER PERSON CLASS^F^^1;5^K:$L(X)>7!($L(X)<7) X
"^DD",727.814,727.814,27,3)
Answer must be 7 characters in length.
"^DD",727.814,727.814,27,21,0)
^^2^2^2981026^
"^DD",727.814,727.814,27,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.814,727.814,27,21,2,0)
associated with this record.
"^DD",727.814,727.814,27,23,0)
^^6^6^2981026^
"^DD",727.814,727.814,27,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.814,727.814,27,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.814,727.814,27,23,3,0)
extract record.
"^DD",727.814,727.814,27,23,4,0)
  
"^DD",727.814,727.814,27,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.814,727.814,27,23,6,0)
7 characters in length.
"^DD",727.814,727.814,27,"DT")
2981026
"^DD",727.814,727.814,28,0)
ASSOCIATE PC PROVIDER^F^^1;6^K:$L(X)>11!($L(X)<2) X
"^DD",727.814,727.814,28,3)
Answer must be 2-11 characters in length.
"^DD",727.814,727.814,28,21,0)
^^4^4^2990505^
"^DD",727.814,727.814,28,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.814,727.814,28,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.814,727.814,28,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.814,727.814,28,21,4,0)
character 2.
"^DD",727.814,727.814,28,23,0)
^^2^2^2990505^
"^DD",727.814,727.814,28,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.814,727.814,28,23,2,0)
the PCMM application.
"^DD",727.814,727.814,28,"DT")
2990505
"^DD",727.814,727.814,29,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;7^K:$L(X)>7!($L(X)<7) X
"^DD",727.814,727.814,29,3)
Answer must be 7 characters in length.
"^DD",727.814,727.814,29,21,0)
^^4^4^2990505^^
"^DD",727.814,727.814,29,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.814,727.814,29,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.814,727.814,29,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.814,727.814,29,21,4,0)
exactly 7 characters in length. 
"^DD",727.814,727.814,29,23,0)
^^3^3^2990505^^
"^DD",727.814,727.814,29,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.814,727.814,29,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.814,727.814,29,23,3,0)
PERS is the IEN from file #200.
"^DD",727.814,727.814,29,"DT")
2990505
"^DD",727.814,727.814,30,0)
ASSOCIATE PC PROVIDER NPI^F^^1;8^K:$L(X)>8!($L(X)<1) X
"^DD",727.814,727.814,30,3)
Answer must be 1-8 characters in length.
"^DD",727.814,727.814,30,21,0)
^^1^1^2990507^
"^DD",727.814,727.814,30,21,1,0)
The Associate Primary Care Provider's National Provider Identifier.
"^DD",727.814,727.814,30,23,0)
^^2^2^2990507^
"^DD",727.814,727.814,30,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.814,727.814,30,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.814,727.814,30,"DT")
2990507
"^DD",727.814,727.814,31,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.814,727.814,31,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.814,727.814,31,21,0)
^^5^5^3001020^
"^DD",727.814,727.814,31,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.814,727.814,31,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.814,727.814,31,21,3,0)
Domiciliary (DOM)
"^DD",727.814,727.814,31,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.814,727.814,31,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.814,727.814,31,"DT")
3001010
"^DD",727.814,727.814,32,0)
EXTENDED OUTPATIENT INDICATOR^F^^1;10^K:$L(X)>4!($L(X)<1) X
"^DD",727.814,727.814,32,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.814,727.814,32,21,0)
^^1^1^3001020^
"^DD",727.814,727.814,32,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.814,727.814,32,"DT")
3000614
"^DD",727.815,727.815,0)
FIELD^^61^61
"^DD",727.815,727.815,0,"DDA")
N
"^DD",727.815,727.815,0,"DIK")
ECX815
"^DD",727.815,727.815,0,"DIKOLD")
ECX815
"^DD",727.815,727.815,0,"DT")
3000802
"^DD",727.815,727.815,0,"IX","AC",727.815,2)

"^DD",727.815,727.815,0,"NM","EVENT CAPTURE LOCAL EXTRACT")

"^DD",727.815,727.815,0,"VRPK")
ECX
"^DD",727.815,727.815,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.815,727.815,.01,.1)
Sequence Number
"^DD",727.815,727.815,.01,1,0)
^.1^^0
"^DD",727.815,727.815,.01,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",727.815,727.815,.01,21,0)
^^1^1^2960401^^^^
"^DD",727.815,727.815,.01,21,1,0)
The record number for this extract entry.
"^DD",727.815,727.815,.01,23,0)
^^2^2^2960401^^^^
"^DD",727.815,727.815,.01,23,1,0)
The internal entry number (IEN) for this record.
"^DD",727.815,727.815,.01,23,2,0)
This entry is DINUMed.
"^DD",727.815,727.815,.01,"DT")
2980812
"^DD",727.815,727.815,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.815,727.815,1,.1)
Year/Month
"^DD",727.815,727.815,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.815,727.815,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.815,727.815,1,3)
Answer must be 6 characters in length.
"^DD",727.815,727.815,1,21,0)
^^2^2^2970922^^^^
"^DD",727.815,727.815,1,21,1,0)
A six character string representing the year and the month
"^DD",727.815,727.815,1,21,2,0)
for which this extract was performed.
"^DD",727.815,727.815,1,23,0)
^^1^1^2970922^^^^
"^DD",727.815,727.815,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.815,727.815,1,"DT")
2970924
"^DD",727.815,727.815,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.815,727.815,2,.1)
Extract Number
"^DD",727.815,727.815,2,1,0)
^.1
"^DD",727.815,727.815,2,1,1,0)
727.815^AC
"^DD",727.815,727.815,2,1,1,1)
S ^ECX(727.815,"AC",$E(X,1,30),DA)=""
"^DD",727.815,727.815,2,1,1,2)
K ^ECX(727.815,"AC",$E(X,1,30),DA)
"^DD",727.815,727.815,2,1,1,3)
DO NOT DELETE
"^DD",727.815,727.815,2,1,1,"%D",0)
^^2^2^2960401^
"^DD",727.815,727.815,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.815,727.815,2,1,1,"%D",2,0)
in this file.
"^DD",727.815,727.815,2,1,1,"DT")
2910802
"^DD",727.815,727.815,2,3)
Enter the extract number for this extract.
"^DD",727.815,727.815,2,21,0)
^^1^1^2970603^^^^
"^DD",727.815,727.815,2,21,1,0)
The DSS extract log entry for this Event Capture extract.
"^DD",727.815,727.815,2,23,0)
^^2^2^2970603^^^^
"^DD",727.815,727.815,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose
"^DD",727.815,727.815,2,23,2,0)
is to pick up the header for the mail message.
"^DD",727.815,727.815,2,"DT")
2950317
"^DD",727.815,727.815,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,3,.1)
Facility
"^DD",727.815,727.815,3,3)
Enter the station number where this extract was performed.
"^DD",727.815,727.815,3,21,0)
1^^1^1^2960401^^^
"^DD",727.815,727.815,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.815,727.815,3,23,0)
^^3^3^2960401^^^^
"^DD",727.815,727.815,3,23,1,0)
A free text field that represents the STATION NUMBER field (99)
"^DD",727.815,727.815,3,23,2,0)
from the INSTITUTION file (#4). It is derived from the LOCATION
"^DD",727.815,727.815,3,23,3,0)
field (3) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,3,"DT")
2951204
"^DD",727.815,727.815,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.815,727.815,4,.1)
Patient No. - DFN
"^DD",727.815,727.815,4,3)
Enter the name of the patient for this extract record.
"^DD",727.815,727.815,4,21,0)
1^^1^1^2990504^^^^
"^DD",727.815,727.815,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.815,727.815,4,23,0)
^^3^3^2990504^^^^
"^DD",727.815,727.815,4,23,1,0)
A pointer to the PATIENT file (#2). This patient pointer is
"^DD",727.815,727.815,4,23,2,0)
pulled from the PATIENT field (1) in the EVENT CAPTURE
"^DD",727.815,727.815,4,23,3,0)
PATIENT file (#721).
"^DD",727.815,727.815,4,"DT")
2971030
"^DD",727.815,727.815,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.815,727.815,5,.1)
Social Security Number
"^DD",727.815,727.815,5,3)
Enter the social security number for this patient's extract record.
"^DD",727.815,727.815,5,21,0)
^^5^5^2990504^^^^
"^DD",727.815,727.815,5,21,1,0)
The social security number (SSN) for the patient associated
"^DD",727.815,727.815,5,21,2,0)
with this extract record.
"^DD",727.815,727.815,5,21,3,0)
 
"^DD",727.815,727.815,5,21,4,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.815,727.815,5,21,5,0)
patient" and will not be included in the extract.  
"^DD",727.815,727.815,5,23,0)
^^5^5^2990504^^^^
"^DD",727.815,727.815,5,23,1,0)
The social security number extracted from the SSN field (.09)
"^DD",727.815,727.815,5,23,2,0)
from the PATIENT file (#2).
"^DD",727.815,727.815,5,23,3,0)
 
"^DD",727.815,727.815,5,23,4,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.815,727.815,5,23,5,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.815,727.815,5,"DT")
2910802
"^DD",727.815,727.815,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.815,727.815,6,.1)
Name
"^DD",727.815,727.815,6,3)
Enter the first four characters of this patients last name.
"^DD",727.815,727.815,6,21,0)
^^2^2^2960401^^^^
"^DD",727.815,727.815,6,21,1,0)
The first four characters of the patient's last name associated
"^DD",727.815,727.815,6,21,2,0)
with this extract record.
"^DD",727.815,727.815,6,23,0)
^^4^4^2960401^^^
"^DD",727.815,727.815,6,23,1,0)
Free text first four characters of the patients last name.
"^DD",727.815,727.815,6,23,2,0)
This is extracted from the patient's name stored in the
"^DD",727.815,727.815,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). If necessary,
"^DD",727.815,727.815,6,23,4,0)
trailing spaces are padded to equal 4 characters.
"^DD",727.815,727.815,6,"DT")
2910802
"^DD",727.815,727.815,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.815,727.815,7,.1)
In Out Patient Indicator
"^DD",727.815,727.815,7,3)
Enter 1 for outpatient or 3 for inpatient.
"^DD",727.815,727.815,7,21,0)
^^2^2^2960401^^^^
"^DD",727.815,727.815,7,21,1,0)
This indicates whether this patient was an inpatient or an 
"^DD",727.815,727.815,7,21,2,0)
outpatient for this extract record.
"^DD",727.815,727.815,7,23,0)
^^3^3^2960401^^^^
"^DD",727.815,727.815,7,23,1,0)
A pointer to the LOCATION TYPE file (#40.9).
"^DD",727.815,727.815,7,23,2,0)
This field will be a 3 if the patient was listed as an inpatient
"^DD",727.815,727.815,7,23,3,0)
for this record. The field will be a 1 if listed as an outpatient.
"^DD",727.815,727.815,7,"DT")
2910802
"^DD",727.815,727.815,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.815,727.815,8,.1)
Day
"^DD",727.815,727.815,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.815,727.815,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.815,727.815,8,3)
Answer must be 8 characters in length.
"^DD",727.815,727.815,8,21,0)
^^3^3^2970922^^^^
"^DD",727.815,727.815,8,21,1,0)
This 8-character string represents the date on which the procedure
"^DD",727.815,727.815,8,21,2,0)
associated with this Event Capture Patient extract record
"^DD",727.815,727.815,8,21,3,0)
was performed.
"^DD",727.815,727.815,8,23,0)
^^9^9^2970923^^^^
"^DD",727.815,727.815,8,23,1,0)
The day when this event occurred. Date is pulled from the
"^DD",727.815,727.815,8,23,2,0)
DATE/TIME OF PROCEDURE field (2) in the EVENT CAPTURE
"^DD",727.815,727.815,8,23,3,0)
PATIENT file (#721). 
"^DD",727.815,727.815,8,23,4,0)
 
"^DD",727.815,727.815,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.815,727.815,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.815,727.815,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.815,727.815,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.815,727.815,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.815,727.815,8,"DT")
2970924
"^DD",727.815,727.815,9,0)
DSS UNIT^P724'^ECD(^0;10^Q
"^DD",727.815,727.815,9,.1)
DSS Unit
"^DD",727.815,727.815,9,3)
Enter the name of the DSS unit for this extract record.
"^DD",727.815,727.815,9,21,0)
^^1^1^2990702^^^
"^DD",727.815,727.815,9,21,1,0)
This is the name of the DSS unit for this extract record.
"^DD",727.815,727.815,9,23,0)
^^3^3^2990702^^^^
"^DD",727.815,727.815,9,23,1,0)
A pointer to the DSS UNIT file (#724). DSS unit pointer
"^DD",727.815,727.815,9,23,2,0)
is pulled from the DSS UNIT field (6) in the EVENT CAPTURE
"^DD",727.815,727.815,9,23,3,0)
PATIENT file (#721).
"^DD",727.815,727.815,9,"DT")
2910828
"^DD",727.815,727.815,10,0)
CATEGORY^F^^0;11^K:$L(X)>6!($L(X)<1) X
"^DD",727.815,727.815,10,.1)
Category
"^DD",727.815,727.815,10,3)
Answer must be 1-6 characters in length.
"^DD",727.815,727.815,10,21,0)
1^^2^2^2970911^^^
"^DD",727.815,727.815,10,21,1,0)
This field contains the IEN in file #726 for the Category associated
"^DD",727.815,727.815,10,21,2,0)
with this extract record.
"^DD",727.815,727.815,10,23,0)
^^4^4^2970911^^^^
"^DD",727.815,727.815,10,23,1,0)
A character string which represents the IEN of the Category
"^DD",727.815,727.815,10,23,2,0)
in the EVENT CAPTURE CATEGORY file (#726).
"^DD",727.815,727.815,10,23,3,0)
Category is pulled from the CATEGORY field (7) in the
"^DD",727.815,727.815,10,23,4,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,10,"DT")
2970911
"^DD",727.815,727.815,11,0)
PROCEDURE^F^^0;12^K:$L(X)>8!($L(X)<5) X
"^DD",727.815,727.815,11,.1)
Procedure
"^DD",727.815,727.815,11,3)
Answer must be 5-8 characters in length.
"^DD",727.815,727.815,11,21,0)
1^^2^2^2990806^^^^
"^DD",727.815,727.815,11,21,1,0)
This field contains the name of the procedure selected
"^DD",727.815,727.815,11,21,2,0)
for this extract record.
"^DD",727.815,727.815,11,23,0)
^^7^7^2990806^^^^
"^DD",727.815,727.815,11,23,1,0)
The procedure pointer is pulled from the PROCEDURE field (8)
"^DD",727.815,727.815,11,23,2,0)
in the EVENT CAPTURE PATIENT file (#721). It is the CPT
"^DD",727.815,727.815,11,23,3,0)
code for procedures from the CPT file (#81). For national
"^DD",727.815,727.815,11,23,4,0)
procedures from the EC NATIONAL PROCEDURE file (#725),
"^DD",727.815,727.815,11,23,5,0)
it is the NATIONAL NUMBER field (1)_"N". For local procedures
"^DD",727.815,727.815,11,23,6,0)
from the EC NATIONAL PROCEDURE file (#725), it is the NATIONAL
"^DD",727.815,727.815,11,23,7,0)
NUMBER field (1)_"L".
"^DD",727.815,727.815,11,"DT")
2971030
"^DD",727.815,727.815,12,0)
VOLUME^NJ4,0^^0;13^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.815,727.815,12,.1)
Volume
"^DD",727.815,727.815,12,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",727.815,727.815,12,21,0)
^^1^1^2960401^^
"^DD",727.815,727.815,12,21,1,0)
This field tracks the volume of this specific procedure performed.
"^DD",727.815,727.815,12,23,0)
^^3^3^2960401^^
"^DD",727.815,727.815,12,23,1,0)
Numeric volume for this procedure associated with this extract
"^DD",727.815,727.815,12,23,2,0)
record. Volume is pulled from the VOLUME field (9) in the
"^DD",727.815,727.815,12,23,3,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,12,"DT")
2911108
"^DD",727.815,727.815,13,0)
COST CENTER^F^^0;14^K:$L(X)>8!($L(X)<6) X
"^DD",727.815,727.815,13,.1)
Cost Center
"^DD",727.815,727.815,13,3)
Enter the cost center associated with this extract record.
"^DD",727.815,727.815,13,21,0)
^^1^1^2990510^^^^
"^DD",727.815,727.815,13,21,1,0)
This is the cost center associated with this extract record.
"^DD",727.815,727.815,13,23,0)
^^3^3^2990510^^^^
"^DD",727.815,727.815,13,23,1,0)
A pointer to the COST CENTER file (#420.1). Cost center
"^DD",727.815,727.815,13,23,2,0)
is derived from the COST CENTER field (3) in the DSS UNIT
"^DD",727.815,727.815,13,23,3,0)
file (#724).
"^DD",727.815,727.815,13,"DT")
2951204
"^DD",727.815,727.815,14,0)
ORDERING SECTION^F^^0;15^K:$L(X)>3!($L(X)<1) X
"^DD",727.815,727.815,14,.1)
Ordering Section
"^DD",727.815,727.815,14,3)
Answer must be 1-3 characters in length.
"^DD",727.815,727.815,14,21,0)
^^2^2^2970912^^^^
"^DD",727.815,727.815,14,21,1,0)
This is the IEN in file #723 of the Ordering Section associated with
"^DD",727.815,727.815,14,21,2,0)
this extract record.
"^DD",727.815,727.815,14,23,0)
^^4^4^2970912^^^^
"^DD",727.815,727.815,14,23,1,0)
This character string represents the IEN of the Ordering Section
"^DD",727.815,727.815,14,23,2,0)
in the MEDICAL SPECIALTY file (#723).
"^DD",727.815,727.815,14,23,3,0)
The Ordering Section is pulled from the ORDERING SECTION field (#11) 
"^DD",727.815,727.815,14,23,4,0)
in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,14,"DT")
2990517
"^DD",727.815,727.815,15,0)
SECTION^F^^0;16^K:$L(X)>3!($L(X)<1) X
"^DD",727.815,727.815,15,.1)
Section
"^DD",727.815,727.815,15,3)
Answer must be 1-3 characters in length.
"^DD",727.815,727.815,15,21,0)
^^2^2^2970912^^^^
"^DD",727.815,727.815,15,21,1,0)
This is the IEN in file #723 of the Medical Specialty of the DSS Unit 
"^DD",727.815,727.815,15,21,2,0)
associated with this extract record.
"^DD",727.815,727.815,15,23,0)
^^4^4^2970912^^^^
"^DD",727.815,727.815,15,23,1,0)
This character string represents an IEN in the MEDICAL
"^DD",727.815,727.815,15,23,2,0)
SPECIALTY file (#723).
"^DD",727.815,727.815,15,23,3,0)
The data is pulled from the SECTION field (#5) in the EVENT
"^DD",727.815,727.815,15,23,4,0)
CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,15,"DT")
2990517
"^DD",727.815,727.815,16,0)
PROVIDER^F^^0;17^K:$L(X)>11!($L(X)<2) X
"^DD",727.815,727.815,16,.1)
Provider
"^DD",727.815,727.815,16,3)
Answer must be 2-11 characters in length.
"^DD",727.815,727.815,16,21,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,16,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.815,727.815,16,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.815,727.815,16,21,3,0)
It represents the Provider who performed the procedure associated
"^DD",727.815,727.815,16,21,4,0)
with the Event Capture Patient record.
"^DD",727.815,727.815,16,23,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,16,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.815,727.815,16,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.815,727.815,16,23,3,0)
Data is derived from the PROVIDER field (#10) in the EVENT CAPTURE 
"^DD",727.815,727.815,16,23,4,0)
PATIENT file (#721).
"^DD",727.815,727.815,16,"DT")
2990517
"^DD",727.815,727.815,17,0)
PROVIDER PERSON CLASS^F^^0;18^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,17,3)
Answer must be 1-7 characters in length.
"^DD",727.815,727.815,17,21,0)
^^2^2^3001016^
"^DD",727.815,727.815,17,21,1,0)
Provider Person class is the VA code of the Person Class of the Provider
"^DD",727.815,727.815,17,21,2,0)
as of the date of this record.  
"^DD",727.815,727.815,17,23,0)
^^2^2^3001016^
"^DD",727.815,727.815,17,23,1,0)
Provider Person Class is derived from the New Person File #200, field
"^DD",727.815,727.815,17,23,2,0)
(#5):file #8932.1.
"^DD",727.815,727.815,17,"DT")
3000801
"^DD",727.815,727.815,18,0)
PROVIDER #2^F^^0;19^K:$L(X)>11!($L(X)<2) X
"^DD",727.815,727.815,18,.1)
Provider #2
"^DD",727.815,727.815,18,3)
Answer must be 2-11 characters in length.
"^DD",727.815,727.815,18,21,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,18,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.815,727.815,18,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.815,727.815,18,21,3,0)
It represents the assisting Provider who performed the procedure 
"^DD",727.815,727.815,18,21,4,0)
associated with the Event Capture Patient record.
"^DD",727.815,727.815,18,23,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,18,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.815,727.815,18,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.815,727.815,18,23,3,0)
Data is pulled from the PROVIDER #2 field (#16) in the EVENT CAPTURE
"^DD",727.815,727.815,18,23,4,0)
PATIENT file (#721).
"^DD",727.815,727.815,18,"DT")
2990517
"^DD",727.815,727.815,19,0)
PROVIDER #2 PERSON CLASS^F^^0;20^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,19,3)
Answer must be 1-7 characters in length.
"^DD",727.815,727.815,19,21,0)
^.001^3^3^3001103^^
"^DD",727.815,727.815,19,21,1,0)
Provider #2
"^DD",727.815,727.815,19,21,2,0)
Person class is the VA code of the Person Class of the Provider
"^DD",727.815,727.815,19,21,3,0)
as of the date of this record
"^DD",727.815,727.815,19,23,0)
^.001^2^2^3001103^^^^
"^DD",727.815,727.815,19,23,1,0)
Provider Person Class is derived from the New Person File #200, field
"^DD",727.815,727.815,19,23,2,0)
(#5):file #8932.1.
"^DD",727.815,727.815,19,"DT")
3001103
"^DD",727.815,727.815,20,0)
PROVIDER #3^F^^0;21^K:$L(X)>11!($L(X)<2) X
"^DD",727.815,727.815,20,.1)
Provider #3
"^DD",727.815,727.815,20,3)
Answer must be 2-11 characters in length.
"^DD",727.815,727.815,20,21,0)
1^^4^4^2980608^^^^
"^DD",727.815,727.815,20,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.815,727.815,20,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.815,727.815,20,21,3,0)
It represents an assisting Provider who performed the procedure 
"^DD",727.815,727.815,20,21,4,0)
associated with the Event Capture Patient record.
"^DD",727.815,727.815,20,23,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,20,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.815,727.815,20,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.815,727.815,20,23,3,0)
Data is pulled from the PROVIDER #3 field (#17) in the EVENT CAPTURE
"^DD",727.815,727.815,20,23,4,0)
PATIENT file (#721).
"^DD",727.815,727.815,20,"DT")
2990517
"^DD",727.815,727.815,21,0)
PROVIDER #3 PERSON CLASS^F^^0;22^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,21,21,0)
^^3^3^3001103^
"^DD",727.815,727.815,21,21,1,0)
Provider #3
"^DD",727.815,727.815,21,21,2,0)
Person class is the VA code of the Person Class of the Provider
"^DD",727.815,727.815,21,21,3,0)
as of the date of this record.  
"^DD",727.815,727.815,21,23,0)
^.001^2^2^3001103^^
"^DD",727.815,727.815,21,23,1,0)
Provider Person Class is derived from the New Person File #200, field
"^DD",727.815,727.815,21,23,2,0)
(#5):file #8932.1.
"^DD",727.815,727.815,21,"DT")
3001103
"^DD",727.815,727.815,22,0)
PLACEHOLDER4^F^^0;23^Q
"^DD",727.815,727.815,23,0)
MOVEMENT FILE #^P405'^DGPM(^0;24^Q
"^DD",727.815,727.815,23,.1)
Movement File Number
"^DD",727.815,727.815,23,3)
Enter the patient movement number associated with this extract record.
"^DD",727.815,727.815,23,21,0)
^^1^1^2960401^^^^
"^DD",727.815,727.815,23,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.815,727.815,23,23,0)
^^1^1^2960401^^^^
"^DD",727.815,727.815,23,23,1,0)
A pointer to the PATIENT MOVEMENT file (#405).
"^DD",727.815,727.815,23,"DT")
2911216
"^DD",727.815,727.815,24,0)
TREATING SPECIALTY^F^^0;25^K:$L(X)>6!($L(X)<1) X
"^DD",727.815,727.815,24,.1)
Treating Specialty
"^DD",727.815,727.815,24,3)
Answer must be 1-6 characters in length.
"^DD",727.815,727.815,24,21,0)
^^3^3^2970912^^^^
"^DD",727.815,727.815,24,21,1,0)
The IEN in file #42.4 of the Specialty associated with the patient
"^DD",727.815,727.815,24,21,2,0)
on the date of the Event Capture procedure.  Only applicable
"^DD",727.815,727.815,24,21,3,0)
if the patient was an inpatient on the date of the procedure.
"^DD",727.815,727.815,24,23,0)
^^8^8^2970912^^^^
"^DD",727.815,727.815,24,23,1,0)
A character string which represents an IEN in the SPECIALTY file (#42.4).
"^DD",727.815,727.815,24,23,2,0)
 
"^DD",727.815,727.815,24,23,3,0)
This field is initialized to a null, indicating an outpatient status. If
"^DD",727.815,727.815,24,23,4,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a
"^DD",727.815,727.815,24,23,5,0)
patient movement number (indicating inpatient status), then the value of
"^DD",727.815,727.815,24,23,6,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.815,727.815,24,23,7,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.815,727.815,24,23,8,0)
SPECIALTY file (#42.4).
"^DD",727.815,727.815,24,"DT")
2970911
"^DD",727.815,727.815,25,0)
TIME^FO^^0;26^K:$L(X)>6!($L(X)<6) X
"^DD",727.815,727.815,25,.1)
Time
"^DD",727.815,727.815,25,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.815,727.815,25,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.815,727.815,25,3)
Answer must be 6 characters in length.
"^DD",727.815,727.815,25,21,0)
^^1^1^2970922^^^^
"^DD",727.815,727.815,25,21,1,0)
The time when the Event Capture procedure was performed.
"^DD",727.815,727.815,25,23,0)
^^9^9^2970922^^^^
"^DD",727.815,727.815,25,23,1,0)
A six-character string of format HHMMSS which represents the time
"^DD",727.815,727.815,25,23,2,0)
(military time) when the procedure was performed.
"^DD",727.815,727.815,25,23,3,0)
 
"^DD",727.815,727.815,25,23,4,0)
Time is extracted from the date information pulled from the
"^DD",727.815,727.815,25,23,5,0)
DATE/TIME OF PROCEDURE field (#2) in the EVENT CAPTURE
"^DD",727.815,727.815,25,23,6,0)
PATIENT file (#721). 
"^DD",727.815,727.815,25,23,7,0)
 
"^DD",727.815,727.815,25,23,8,0)
A default of "000300" will be used if field #2 of file #721 does
"^DD",727.815,727.815,25,23,9,0)
not have a time portion.
"^DD",727.815,727.815,25,"DT")
2970924
"^DD",727.815,727.815,26,0)
PRIMARY CARE TEAM^F^^0;27^K:$L(X)>4!($L(X)<1) X
"^DD",727.815,727.815,26,.1)
Primary Care Team
"^DD",727.815,727.815,26,3)
Enter primary care team assigned to this patient.
"^DD",727.815,727.815,26,21,0)
^^1^1^2961106^^^
"^DD",727.815,727.815,26,21,1,0)
The primary care team assigned to this patient.
"^DD",727.815,727.815,26,23,0)
^^6^6^2961106^
"^DD",727.815,727.815,26,23,1,0)
Using the DATE/TIME OF PROCEDURE field (2) from the EVENT CAPTURE 
"^DD",727.815,727.815,26,23,2,0)
PATIENT file (#721) and the patient pointer (DFN) stored in the PATIENT 
"^DD",727.815,727.815,26,23,3,0)
NO. - DFN field (4) in the EVENT CAPTURE LOCAL EXTRACT file (#727.815), 
"^DD",727.815,727.815,26,23,4,0)
a call is made to the Scheduling API, OUTPTTM^SDUTL3. The API returns 
"^DD",727.815,727.815,26,23,5,0)
the team's internal entry number and name from the TEAM file (#404.51). 
"^DD",727.815,727.815,26,23,6,0)
Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.815,727.815,26,"DT")
2961106
"^DD",727.815,727.815,27,0)
PRIMARY CARE PROVIDER^F^^0;28^K:$L(X)>11!($L(X)<1) X
"^DD",727.815,727.815,27,.1)
Primary Care Provider
"^DD",727.815,727.815,27,3)
Enter primary care provider assigned to this patient.
"^DD",727.815,727.815,27,21,0)
^^1^1^2980708^^^^
"^DD",727.815,727.815,27,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.815,727.815,27,23,0)
^^9^9^2980708^^^
"^DD",727.815,727.815,27,23,1,0)
Using the DATE/TIME OF PROCEDURE field (2) from the EVENT CAPTURE 
"^DD",727.815,727.815,27,23,2,0)
PATIENT file (#721) and the patient pointer (DFN) stored in the PATIENT 
"^DD",727.815,727.815,27,23,3,0)
NO. - DFN field (4) in the EVENT CAPTURE LOCAL EXTRACT file (#727.815), 
"^DD",727.815,727.815,27,23,4,0)
a call is made to the Scheduling API, OUTPTPR^SDUTL3. The API returns 
"^DD",727.815,727.815,27,23,5,0)
the provider's internal entry number and name from the NEW PERSON file 
"^DD",727.815,727.815,27,23,6,0)
(#200). 
"^DD",727.815,727.815,27,23,7,0)
 
"^DD",727.815,727.815,27,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.815,727.815,27,23,9,0)
is "200".
"^DD",727.815,727.815,27,"DT")
2961017
"^DD",727.815,727.815,28,0)
PCE CPT CODE & MODIFIERS^FO^^0;29^K:$L(X)>15!($L(X)<5) X
"^DD",727.815,727.815,28,.1)

"^DD",727.815,727.815,28,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.815,727.815,28,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.815,727.815,28,3)
Answer must be 5-15 characters in length.
"^DD",727.815,727.815,28,21,0)
^^5^5^2990507^^^^
"^DD",727.815,727.815,28,21,1,0)
The Current Procedural Terminology (CPT) code for the procedure 
"^DD",727.815,727.815,28,21,2,0)
performed.
"^DD",727.815,727.815,28,21,3,0)
 
"^DD",727.815,727.815,28,21,4,0)
The 5 character CPT Code is followed by upto five (5) 2-character CPT
"^DD",727.815,727.815,28,21,5,0)
code modifiers.
"^DD",727.815,727.815,28,23,0)
^^6^6^2990507^^^^
"^DD",727.815,727.815,28,23,1,0)
PCE CPT CODE is derived from the PCE CPT CODE field (#19) in the EVENT 
"^DD",727.815,727.815,28,23,2,0)
CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,28,23,3,0)
 
"^DD",727.815,727.815,28,23,4,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the CPT
"^DD",727.815,727.815,28,23,5,0)
MODIFIER file (#81.3).  It is not known at this time where the Event
"^DD",727.815,727.815,28,23,6,0)
Capture package will store those modifiers.
"^DD",727.815,727.815,28,"DT")
2990614
"^DD",727.815,727.815,29,0)
ICD-9 CODE^F^^0;30^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,29,.1)
ICD-9 Code
"^DD",727.815,727.815,29,3)
Enter the ICD-9 code for this record.
"^DD",727.815,727.815,29,21,0)
^.001^1^1^3001013^^^^
"^DD",727.815,727.815,29,21,1,0)
The ICD-9 for the procedure performed.
"^DD",727.815,727.815,29,23,0)
^.001^3^3^3001013^^^^
"^DD",727.815,727.815,29,23,1,0)
ICD-9 CODE is derived from the ICD-9 CODE field (20) in the EVENT 
"^DD",727.815,727.815,29,23,2,0)
CAPTURE PATIENT file (#721) which points to the ICD DIAGNOSIS file 
"^DD",727.815,727.815,29,23,3,0)
(#80).
"^DD",727.815,727.815,29,"DT")
2961106
"^DD",727.815,727.815,30,0)
SECONDARY ICD9 CODE #1^F^^0;31^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,30,3)
Enter the ICD-9 code for this record.
"^DD",727.815,727.815,30,21,0)
1
"^DD",727.815,727.815,30,21,1,0)
The ICD-9 for the procedure performed.
"^DD",727.815,727.815,30,23,0)
^.001^3^3^3001016^^^^
"^DD",727.815,727.815,30,23,1,0)
ICD-9 CODE is derived from the ICD-9 CODE field (20) in the EVENT 
"^DD",727.815,727.815,30,23,2,0)
CAPTURE PATIENT file (#721) which points to the ICD DIAGNOSIS file 
"^DD",727.815,727.815,30,23,3,0)
(#80).
"^DD",727.815,727.815,30,"DT")
3001102
"^DD",727.815,727.815,31,0)
SECONDARY ICD9 CODE #2^F^^0;32^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,31,.1)
SECONDARY ICD9 CODE #2
"^DD",727.815,727.815,31,3)
Enter the ICD-9 code for this record.
"^DD",727.815,727.815,31,21,0)
^.001^1^1^3001018^^^^
"^DD",727.815,727.815,31,21,1,0)
The ICD-9 for the procedure performed.
"^DD",727.815,727.815,31,23,0)
^.001^3^3^3001018^^^^
"^DD",727.815,727.815,31,23,1,0)
ICD-9 CODE is derived from the ICD-9 CODE field (20) in the EVENT 
"^DD",727.815,727.815,31,23,2,0)
CAPTURE PATIENT file (#721) which points to the ICD DIAGNOSIS file 
"^DD",727.815,727.815,31,23,3,0)
(#80).
"^DD",727.815,727.815,31,"DT")
3001018
"^DD",727.815,727.815,32,0)
SECONDARY ICD9 CODE #3^F^^0;33^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,32,.1)
SECONDARY ICD9 CODE #3
"^DD",727.815,727.815,32,3)
Enter the ICD-9 code for this record.
"^DD",727.815,727.815,32,21,0)
^.001^1^1^3001018^^^^
"^DD",727.815,727.815,32,21,1,0)
The ICD-9 for the procedure performed.
"^DD",727.815,727.815,32,23,0)
^.001^3^3^3001018^^^^
"^DD",727.815,727.815,32,23,1,0)
ICD-9 CODE is derived from the ICD-9 CODE field (20) in the EVENT 
"^DD",727.815,727.815,32,23,2,0)
CAPTURE PATIENT file (#721) which points to the ICD DIAGNOSIS file 
"^DD",727.815,727.815,32,23,3,0)
(#80).
"^DD",727.815,727.815,32,"DT")
3001018
"^DD",727.815,727.815,33,0)
SECONDARY ICD9 CODE #4^F^^0;34^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,33,.1)
SECONMDARY ICD9 CODE #4
"^DD",727.815,727.815,33,3)
Enter the ICD-9 code for this record.
"^DD",727.815,727.815,33,21,0)
^.001^1^1^3001018^^^^
"^DD",727.815,727.815,33,21,1,0)
The ICD-9 for the procedure performed.
"^DD",727.815,727.815,33,23,0)
^.001^3^3^3001018^^^^
"^DD",727.815,727.815,33,23,1,0)
ICD-9 CODE is derived from the ICD-9 CODE field (20) in the EVENT 
"^DD",727.815,727.815,33,23,2,0)
CAPTURE PATIENT file (#721) which points to the ICD DIAGNOSIS file 
"^DD",727.815,727.815,33,23,3,0)
(#80).
"^DD",727.815,727.815,33,"DT")
3001018
"^DD",727.815,727.815,34,0)
AGENT ORANGE^S^Y:YES;N:NO;U:UNKNOWN;^0;35^Q
"^DD",727.815,727.815,34,.1)
Agent Orange
"^DD",727.815,727.815,34,3)
Select the appropriate agent orange status for this patient.
"^DD",727.815,727.815,34,21,0)
^.001^2^2^3001016^^^^
"^DD",727.815,727.815,34,21,1,0)
Data is Y if this patient was exposed to agent orange, N if not, 
"^DD",727.815,727.815,34,21,2,0)
or U if unknown.
"^DD",727.815,727.815,34,23,0)
^.001^2^2^3001016^^^^
"^DD",727.815,727.815,34,23,1,0)
AGENT ORANGE data is derived from the AGENT ORANGE field (21) in the 
"^DD",727.815,727.815,34,23,2,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,34,"DT")
2961017
"^DD",727.815,727.815,35,0)
RADIATION EXPOSURE^S^Y:YES;N:NO;U:UNKNOWN;^0;36^Q
"^DD",727.815,727.815,35,.1)
Radiation Exposure
"^DD",727.815,727.815,35,3)
Select the appropriate radiation status for this patient.
"^DD",727.815,727.815,35,21,0)
^.001^2^2^3001016^^^^
"^DD",727.815,727.815,35,21,1,0)
Data is Y if this patient claims exposure to ionizing radiation, 
"^DD",727.815,727.815,35,21,2,0)
N if not, or U if unknown.
"^DD",727.815,727.815,35,23,0)
^.001^2^2^3001016^^^^
"^DD",727.815,727.815,35,23,1,0)
RADIATION EXPOSURE data is derived from the RADIATION EXPOSURE field 
"^DD",727.815,727.815,35,23,2,0)
(22) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,35,"DT")
2961017
"^DD",727.815,727.815,36,0)
ENVIRONMENTAL CONTAMINANTS^S^Y:YES;N:NO;U:UNKNOWN;^0;37^Q
"^DD",727.815,727.815,36,.1)
Environmental Contaminants
"^DD",727.815,727.815,36,3)
Select the appropriate environmental contaminants status for this patient.
"^DD",727.815,727.815,36,21,0)
^.001^2^2^3001018^^^^
"^DD",727.815,727.815,36,21,1,0)
Data is Y if this patient claims exposure to environmental contaminants, 
"^DD",727.815,727.815,36,21,2,0)
N if not, U if unknown.
"^DD",727.815,727.815,36,23,0)
^.001^2^2^3001018^^^^
"^DD",727.815,727.815,36,23,1,0)
ENVIRONMENTAL CONTAMINANTS data is derived from the ENVIRONMENTAL 
"^DD",727.815,727.815,36,23,2,0)
CONTAMINANTS field (23) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,36,"DT")
2961017
"^DD",727.815,727.815,37,0)
SERVICE CONNECTED^S^Y:YES;N:NO;^0;38^Q
"^DD",727.815,727.815,37,.1)
Service Connected
"^DD",727.815,727.815,37,3)
Select the appropriate service connected status for this patient.
"^DD",727.815,727.815,37,21,0)
^^1^1^2961119^^^^
"^DD",727.815,727.815,37,21,1,0)
Data is Y if this patient is service connected, N if not.
"^DD",727.815,727.815,37,23,0)
^^2^2^2961119^^^^
"^DD",727.815,727.815,37,23,1,0)
SERVICE CONNECTED data is derived from the SERVICE CONNECTED field (24) 
"^DD",727.815,727.815,37,23,2,0)
in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,37,"DT")
2961017
"^DD",727.815,727.815,38,0)
SENT TO PCE^S^Y:YES;N:NO;^0;39^Q
"^DD",727.815,727.815,38,.1)
Sent to PCE
"^DD",727.815,727.815,38,3)
Enter Y if data has been sent to PCE, N if not.
"^DD",727.815,727.815,38,21,0)
^^1^1^2961119^^
"^DD",727.815,727.815,38,21,1,0)
This field flags data that has been sent from Event Capture to PCE.
"^DD",727.815,727.815,38,23,0)
^^1^1^2961119^^
"^DD",727.815,727.815,38,23,1,0)
Record is flagged Y when sent to PCE, N or null if not sent.
"^DD",727.815,727.815,38,"DT")
2961022
"^DD",727.815,727.815,39,0)
PLACEHOLDER5^^^0;40^Q
"^DD",727.815,727.815,40,0)
DSS IDENTIFIER^F^^0;41^K:$L(X)>6!($L(X)<6) X
"^DD",727.815,727.815,40,.1)
DSS Identifier
"^DD",727.815,727.815,40,3)
Answer must be 6 characters in length.
"^DD",727.815,727.815,40,21,0)
^^4^4^2970912^^^^
"^DD",727.815,727.815,40,21,1,0)
The DSS Identifier represents the primary and secondary stop codes of
"^DD",727.815,727.815,40,21,2,0)
the Associated Clinic in the Event Capture Patient record, OR it is
"^DD",727.815,727.815,40,21,3,0)
the Associated Stop Code of the DSS Unit in the Event Capture Patient
"^DD",727.815,727.815,40,21,4,0)
record.  This data element is always exactly 6 characters in length.
"^DD",727.815,727.815,40,23,0)
^^22^22^2971113^^^^
"^DD",727.815,727.815,40,23,1,0)
The DSS Identifier represents the primary and secondary stop codes of
"^DD",727.815,727.815,40,23,2,0)
the Associated Clinic in the Event Capture Patient record, OR it is
"^DD",727.815,727.815,40,23,3,0)
the Associated Stop Code of the DSS Unit in the Event Capture Patient
"^DD",727.815,727.815,40,23,4,0)
record.  This data element is always exactly 6 characters in length.
"^DD",727.815,727.815,40,23,5,0)
 
"^DD",727.815,727.815,40,23,6,0)
If the secondary stop code is not known, then "000" will be 
"^DD",727.815,727.815,40,23,7,0)
used as the 2nd 3-characters. If the primary stop code is not
"^DD",727.815,727.815,40,23,8,0)
known, then "000000" will be used.  If the DSS Unit does not have
"^DD",727.815,727.815,40,23,9,0)
an Associated Stop Code, then "000000" will be used.
"^DD",727.815,727.815,40,23,10,0)
 
"^DD",727.815,727.815,40,23,11,0)
The source of the data is:
"^DD",727.815,727.815,40,23,12,0)
 
"^DD",727.815,727.815,40,23,13,0)
   (1) EVENT CAPTURE PATIENT file (#721); ASSOCIATED CLINIC field (#26)
"^DD",727.815,727.815,40,23,14,0)
   (2) HOSPITAL LOCATION file (#44); STOP CODE NUMBER field (#8)
"^DD",727.815,727.815,40,23,15,0)
       and CREDIT STOP CODE field (#2503)
"^DD",727.815,727.815,40,23,16,0)
   (3) CLINIC STOP file (#40.7); AMIS REPORTING STOP CODE field (#1)
"^DD",727.815,727.815,40,23,17,0)
  
"^DD",727.815,727.815,40,23,18,0)
OR
"^DD",727.815,727.815,40,23,19,0)
  
"^DD",727.815,727.815,40,23,20,0)
   (1) EVENT CAPTURE PATIENT file (#721); DSS UNIT field (#6)
"^DD",727.815,727.815,40,23,21,0)
   (2) DSS UNIT file (#724); ASSOCIATED STOP CODE field (#9)
"^DD",727.815,727.815,40,23,22,0)
   (3) CLINIC STOP file (#40.7); AMIS REPORTING STOP CODE field (#1)
"^DD",727.815,727.815,40,"DT")
2970911
"^DD",727.815,727.815,41,0)
PLACEHOLDER1^F^^0;42^K:$L(X)>1!($L(X)<1) X
"^DD",727.815,727.815,41,.1)

"^DD",727.815,727.815,41,3)
Answer must be 1 character in length.
"^DD",727.815,727.815,41,21,0)
^^1^1^2980708^^^^
"^DD",727.815,727.815,41,21,1,0)
Placeholder; null.
"^DD",727.815,727.815,41,"DT")
2980708
"^DD",727.815,727.815,42,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.815,727.815,42,3)
Answer must be 1-10 characters in length.
"^DD",727.815,727.815,42,21,0)
^^1^1^2990505^^
"^DD",727.815,727.815,42,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.815,727.815,42,23,0)
^^2^2^2990505^^
"^DD",727.815,727.815,42,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.815,727.815,42,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.815,727.815,42,"DT")
2990504
"^DD",727.815,727.815,43,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.815,727.815,43,3)
Answer must be 4-10 characters in length.
"^DD",727.815,727.815,43,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,43,21,1,0)
The DSS Department Code for the patient care product.
"^DD",727.815,727.815,43,23,0)
^^2^2^2990506^
"^DD",727.815,727.815,43,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.815,727.815,43,23,2,0)
Field is set to null.
"^DD",727.815,727.815,43,"DT")
2990506
"^DD",727.815,727.815,44,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,44,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,44,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,44,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.815,727.815,44,23,0)
^^4^4^2990506^
"^DD",727.815,727.815,44,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,44,23,2,0)
field will hold the Provider NPI.
"^DD",727.815,727.815,44,23,3,0)
   
"^DD",727.815,727.815,44,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,44,"DT")
2990506
"^DD",727.815,727.815,45,0)
PROVIDER #2 NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,45,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,45,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,45,21,1,0)
The second Provider's National Provider Identifier code.
"^DD",727.815,727.815,45,23,0)
^^4^4^2990506^
"^DD",727.815,727.815,45,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,45,23,2,0)
field will hold the second Provider NPI.
"^DD",727.815,727.815,45,23,3,0)
   
"^DD",727.815,727.815,45,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,45,"DT")
2990506
"^DD",727.815,727.815,46,0)
PROVIDER #3 NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,46,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,46,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,46,21,1,0)
The third Provider's National Provider Identifier code.
"^DD",727.815,727.815,46,23,0)
^^4^4^2990506^
"^DD",727.815,727.815,46,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,46,23,2,0)
field will hold the third Provider NPI.
"^DD",727.815,727.815,46,23,3,0)
   
"^DD",727.815,727.815,46,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,46,"DT")
2990506
"^DD",727.815,727.815,47,0)
PC PROVIDER PERSON CLASS^F^^1;6^K:$L(X)>7!($L(X)<7) X
"^DD",727.815,727.815,47,3)
Answer must be 7 characters in length.
"^DD",727.815,727.815,47,21,0)
^^2^2^2981103^^^
"^DD",727.815,727.815,47,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.815,727.815,47,21,2,0)
associated with this record.
"^DD",727.815,727.815,47,23,0)
^^6^6^2981103^^
"^DD",727.815,727.815,47,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.815,727.815,47,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.815,727.815,47,23,3,0)
extract record.
"^DD",727.815,727.815,47,23,4,0)
  
"^DD",727.815,727.815,47,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.815,727.815,47,23,6,0)
7 characters in length.
"^DD",727.815,727.815,47,"DT")
2981103
"^DD",727.815,727.815,48,0)
PC PROVIDER NPI^F^^1;7^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,48,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,48,21,0)
^^1^1^2990729^^^
"^DD",727.815,727.815,48,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.815,727.815,48,23,0)
^^4^4^2990729^^^
"^DD",727.815,727.815,48,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,48,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.815,727.815,48,23,3,0)
   
"^DD",727.815,727.815,48,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,48,"DT")
2990506
"^DD",727.815,727.815,49,0)
ASSOCIATE PC PROVIDER^F^^1;8^K:$L(X)>11!($L(X)<2) X
"^DD",727.815,727.815,49,3)
Answer must be 2-11 characters in length.
"^DD",727.815,727.815,49,21,0)
^^4^4^2990506^
"^DD",727.815,727.815,49,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.815,727.815,49,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.815,727.815,49,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.815,727.815,49,21,4,0)
character 2.
"^DD",727.815,727.815,49,23,0)
^^2^2^2990506^
"^DD",727.815,727.815,49,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.815,727.815,49,23,2,0)
the PCMM application.
"^DD",727.815,727.815,49,"DT")
2990506
"^DD",727.815,727.815,50,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;9^K:$L(X)>7!($L(X)<7) X
"^DD",727.815,727.815,50,3)
Answer must be 7 characters in length.
"^DD",727.815,727.815,50,21,0)
^^4^4^2990506^
"^DD",727.815,727.815,50,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.815,727.815,50,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.815,727.815,50,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.815,727.815,50,21,4,0)
exactly 7 characters in length. 
"^DD",727.815,727.815,50,23,0)
^^3^3^2990506^
"^DD",727.815,727.815,50,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.815,727.815,50,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.815,727.815,50,23,3,0)
PERS is the IEN from file #200.
"^DD",727.815,727.815,50,"DT")
2990506
"^DD",727.815,727.815,51,0)
ASSOCIATE PC PROVIDER NPI^F^^1;10^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,51,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,51,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,51,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.815,727.815,51,23,0)
^^4^4^2990506^
"^DD",727.815,727.815,51,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,51,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.815,727.815,51,23,3,0)
   
"^DD",727.815,727.815,51,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,51,"DT")
2990506
"^DD",727.815,727.815,52,0)
DIVISION^F^^1;11^K:$L(X)>7!($L(X)<3) X
"^DD",727.815,727.815,52,3)
Answer must be 3-7 characters in length.
"^DD",727.815,727.815,52,21,0)
^^1^1^2990806^
"^DD",727.815,727.815,52,21,1,0)
The Division field will not be used in the Event Capture extract.
"^DD",727.815,727.815,52,23,0)
^^1^1^2990806^
"^DD",727.815,727.815,52,23,1,0)
The Division field will always be null.
"^DD",727.815,727.815,52,"DT")
2990806
"^DD",727.815,727.815,53,0)
MST STATUS^F^^1;12^K:$L(X)>1!($L(X)<1) X
"^DD",727.815,727.815,53,3)
Answer must be 1 character in length.
"^DD",727.815,727.815,53,21,0)
^^3^3^3001016^
"^DD",727.815,727.815,53,21,1,0)
 
"^DD",727.815,727.815,53,21,2,0)
An indicator if a veteran reports he/she is a victim of sexual trauma that
"^DD",727.815,727.815,53,21,3,0)
occurred while on active duty.
"^DD",727.815,727.815,53,23,0)
^^2^2^3001016^
"^DD",727.815,727.815,53,23,1,0)
MST Status is derived from the MST History file (#29.11) MST status field
"^DD",727.815,727.815,53,23,2,0)
(#3). 
"^DD",727.815,727.815,53,"DT")
3000802
"^DD",727.815,727.815,54,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;13^K:$L(X)>1!($L(X)<1) X
"^DD",727.815,727.815,54,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.815,727.815,54,21,0)
^^5^5^3001018^
"^DD",727.815,727.815,54,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.815,727.815,54,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.815,727.815,54,21,3,0)
Domiciliary (DOM)
"^DD",727.815,727.815,54,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.815,727.815,54,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.815,727.815,54,"DT")
3001010
"^DD",727.815,727.815,55,0)
DATE OF BIRTH^F^^1;14^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,55,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,55,21,0)
^^3^3^3001018^
"^DD",727.815,727.815,55,21,1,0)
When a patient was born. Possible values for Date of Birth are between
"^DD",727.815,727.815,55,21,2,0)
December 31, 1870 and today's date. This is represented by an 8-character
"^DD",727.815,727.815,55,21,3,0)
numeric string in the YYYYMMDD format. 
"^DD",727.815,727.815,55,"DT")
3000802
"^DD",727.815,727.815,56,0)
ENROLLMENT CATEGORY^F^^1;15^K:$L(X)>1!($L(X)<1) X
"^DD",727.815,727.815,56,3)
Answer must be 1 character in length.
"^DD",727.815,727.815,56,21,0)
^^1^1^3001018^
"^DD",727.815,727.815,56,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.815,727.815,56,"DT")
3000802
"^DD",727.815,727.815,57,0)
ENROLLMENT STATUS^F^^1;16^K:$L(X)>2!($L(X)<1) X
"^DD",727.815,727.815,57,3)
Answer must be 1-2 characters in length.
"^DD",727.815,727.815,57,21,0)
^^1^1^3001018^
"^DD",727.815,727.815,57,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.815,727.815,57,"DT")
3000802
"^DD",727.815,727.815,58,0)
ENROLLMENT PRIORITY^F^^1;17^K:$L(X)>1!($L(X)<1) X
"^DD",727.815,727.815,58,3)
Answer must be 1 character in length.
"^DD",727.815,727.815,58,21,0)
^^1^1^3001018^
"^DD",727.815,727.815,58,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.815,727.815,58,"DT")
3000802
"^DD",727.815,727.815,59,0)
PERIOD OF SERVICE^F^^1;18^K:$L(X)>1!($L(X)<1) X
"^DD",727.815,727.815,59,3)
Answer must be 1 character in length.
"^DD",727.815,727.815,59,21,0)
^^2^2^3001018^
"^DD",727.815,727.815,59,21,1,0)
The period of service that best classifies the patient based on
"^DD",727.815,727.815,59,21,2,0)
eligibility code. 
"^DD",727.815,727.815,59,23,0)
^^2^2^3001018^
"^DD",727.815,727.815,59,23,1,0)
Period of Service is derived from the Period of Service field (#.323) in
"^DD",727.815,727.815,59,23,2,0)
the Patient file (#2). 
"^DD",727.815,727.815,59,"DT")
3000802
"^DD",727.815,727.815,60,0)
PURPLE HEART INDICATOR^F^^1;19^K:$L(X)>1!($L(X)<1) X
"^DD",727.815,727.815,60,3)
Purple Heart Indicator is as of yet not defined.  It will be (Y)es, (N)o or (U)nknow.
"^DD",727.815,727.815,60,21,0)
^^1^1^3001018^
"^DD",727.815,727.815,60,21,1,0)
Indicates whether or not a patient is a Purple Heart recipient.
"^DD",727.815,727.815,60,"DT")
3000802
"^DD",727.815,727.815,61,0)
EXTENDED OUTPATIENT INDICATOR^F^^1;20^K:$L(X)>4!($L(X)<1) X
"^DD",727.815,727.815,61,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.815,727.815,61,21,0)
^^1^1^3001018^
"^DD",727.815,727.815,61,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.815,727.815,61,"DT")
3000802
"^DD",727.817,727.817,0)
FIELD^^33^34
"^DD",727.817,727.817,0,"DDA")
N
"^DD",727.817,727.817,0,"DIK")
ECX817
"^DD",727.817,727.817,0,"DIKOLD")
ECX817
"^DD",727.817,727.817,0,"DT")
3000614
"^DD",727.817,727.817,0,"IX","AC",727.817,2)

"^DD",727.817,727.817,0,"NM","TREATING SPECIALTY CHANGE EXTRACT")

"^DD",727.817,727.817,0,"VRPK")
ECX
"^DD",727.817,727.817,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.817,727.817,.01,.1)
Sequence Number
"^DD",727.817,727.817,.01,1,0)
^.1^^0
"^DD",727.817,727.817,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.817,727.817,.01,21,0)
^^1^1^2961004^^^^
"^DD",727.817,727.817,.01,21,1,0)
The record number for this extract entry.
"^DD",727.817,727.817,.01,23,0)
^^1^1^2961004^^^^
"^DD",727.817,727.817,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.817,727.817,.01,"DT")
2980812
"^DD",727.817,727.817,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.817,727.817,1,.1)
Year/Month
"^DD",727.817,727.817,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.817,727.817,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.817,727.817,1,3)
Answer must be 6 characters in length.
"^DD",727.817,727.817,1,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.817,727.817,1,21,2,0)
for which this extract was performed.
"^DD",727.817,727.817,1,23,0)
^^1^1^2970922^^^^
"^DD",727.817,727.817,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.817,727.817,1,"DT")
2970924
"^DD",727.817,727.817,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.817,727.817,2,.1)
Extract Number
"^DD",727.817,727.817,2,1,0)
^.1
"^DD",727.817,727.817,2,1,1,0)
727.817^AC
"^DD",727.817,727.817,2,1,1,1)
S ^ECX(727.817,"AC",$E(X,1,30),DA)=""
"^DD",727.817,727.817,2,1,1,2)
K ^ECX(727.817,"AC",$E(X,1,30),DA)
"^DD",727.817,727.817,2,1,1,3)
DO NOT DELETE.
"^DD",727.817,727.817,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.817,727.817,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.817,727.817,2,1,1,"%D",2,0)
in this file.
"^DD",727.817,727.817,2,1,1,"DT")
2910802
"^DD",727.817,727.817,2,3)
Enter the extract number for this extract.
"^DD",727.817,727.817,2,21,0)
^^2^2^2961004^^^^
"^DD",727.817,727.817,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.817,727.817,2,21,2,0)
extract.
"^DD",727.817,727.817,2,23,0)
^^2^2^2961004^^^^
"^DD",727.817,727.817,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.817,727.817,2,23,2,0)
pick up the header for the mail message.
"^DD",727.817,727.817,2,"DT")
2961004
"^DD",727.817,727.817,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.817,727.817,3,.1)
Facility
"^DD",727.817,727.817,3,3)
Enter the station number where this extract was performed.
"^DD",727.817,727.817,3,21,0)
^^1^1^2980723^^^^
"^DD",727.817,727.817,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.817,727.817,3,23,0)
^^1^1^2980723^^^^
"^DD",727.817,727.817,3,23,1,0)
For the Treating Specialty Change extract, the FACILITY field is null.
"^DD",727.817,727.817,3,"DT")
2961015
"^DD",727.817,727.817,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.817,727.817,4,.1)
Patient No. - DFN
"^DD",727.817,727.817,4,3)
Enter the name of the patient for this extract record.
"^DD",727.817,727.817,4,21,0)
^^1^1^2990504^^^^
"^DD",727.817,727.817,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.817,727.817,4,23,0)
^^3^3^2990504^^^^
"^DD",727.817,727.817,4,23,1,0)
Derived from the PATIENT field (.03) in the PATIENT MOVEMENT file 
"^DD",727.817,727.817,4,23,2,0)
(#405), which is a pointer to the PATIENT file (#2). This data 
"^DD",727.817,727.817,4,23,3,0)
represents the patient DFN.
"^DD",727.817,727.817,4,"DT")
2961015
"^DD",727.817,727.817,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.817,727.817,5,.1)
Social Security Number
"^DD",727.817,727.817,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.817,727.817,5,21,0)
^^4^4^2990504^^^^
"^DD",727.817,727.817,5,21,1,0)
The patient's social security number.
"^DD",727.817,727.817,5,21,2,0)
 
"^DD",727.817,727.817,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.817,727.817,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.817,727.817,5,23,0)
^^7^7^2990504^^^
"^DD",727.817,727.817,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN 
"^DD",727.817,727.817,5,23,2,0)
field (4) in the TREATING SPECIALTY CHANGE EXTRACT file (#727.817), 
"^DD",727.817,727.817,5,23,3,0)
SSN data is derived from the SOCIAL SECURITY NUMBER field (.09) in 
"^DD",727.817,727.817,5,23,4,0)
the PATIENT file (#2).
"^DD",727.817,727.817,5,23,5,0)
 
"^DD",727.817,727.817,5,23,6,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.817,727.817,5,23,7,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.817,727.817,5,"DT")
2961004
"^DD",727.817,727.817,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.817,727.817,6,.1)
Name
"^DD",727.817,727.817,6,3)
Your answer must be 4 characters in length.
"^DD",727.817,727.817,6,21,0)
^^1^1^2961023^^^^
"^DD",727.817,727.817,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.817,727.817,6,23,0)
^^5^5^2961023^^
"^DD",727.817,727.817,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN 
"^DD",727.817,727.817,6,23,2,0)
field (4) in the TREATING SPECIALTY CHANGE EXTRACT file (#727.817), 
"^DD",727.817,727.817,6,23,3,0)
NAME data is derived from the NAME field (.01) in the PATIENT file 
"^DD",727.817,727.817,6,23,4,0)
(#2). The first four characters of the first "," piece are used, 
"^DD",727.817,727.817,6,23,5,0)
padded with trailing spaces if necessary.
"^DD",727.817,727.817,6,"DT")
2961004
"^DD",727.817,727.817,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.817,727.817,7,.1)
In Out Patient Indicator
"^DD",727.817,727.817,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.817,727.817,7,21,0)
^^2^2^2961004^^^^
"^DD",727.817,727.817,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.817,727.817,7,21,2,0)
extract entry.
"^DD",727.817,727.817,7,23,0)
^^2^2^2961004^^^
"^DD",727.817,727.817,7,23,1,0)
For the Treating Specialty Change extract this field is set to 3, 
"^DD",727.817,727.817,7,23,2,0)
indicating inpatient status in the LOCATION TYPE file (#40.9).
"^DD",727.817,727.817,7,"DT")
2961004
"^DD",727.817,727.817,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.817,727.817,8,.1)
Day
"^DD",727.817,727.817,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,8,3)
Answer must be 8 characters in length.
"^DD",727.817,727.817,8,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,8,21,1,0)
An 8-character numeric string that represents the date on which
"^DD",727.817,727.817,8,21,2,0)
the Treating Specialty change took place.
"^DD",727.817,727.817,8,23,0)
^^9^9^2970923^^^^
"^DD",727.817,727.817,8,23,1,0)
Data source:
"^DD",727.817,727.817,8,23,2,0)
 
"^DD",727.817,727.817,8,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.817,727.817,8,23,4,0)
 
"^DD",727.817,727.817,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.817,727.817,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.817,727.817,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.817,727.817,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.817,727.817,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.817,727.817,8,"DT")
2970924
"^DD",727.817,727.817,9,0)
PRODUCT^F^^0;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.817,727.817,9,.1)
Product
"^DD",727.817,727.817,9,3)
The product or feeder key for this extract.
"^DD",727.817,727.817,9,21,0)
^^1^1^2961015^^^
"^DD",727.817,727.817,9,21,1,0)
The product or feeder key for this extract.
"^DD",727.817,727.817,9,23,0)
^^1^1^2961015^^^
"^DD",727.817,727.817,9,23,1,0)
For the Treating Specialty Change extract, the PRODUCT field is null.
"^DD",727.817,727.817,9,"DT")
2961004
"^DD",727.817,727.817,9,"V",0)
^.12P
"^DD",727.817,727.817,10,0)
ADMISSION DATE^FO^^0;11^K:$L(X)>8!($L(X)<8) X
"^DD",727.817,727.817,10,.1)
Admission Date
"^DD",727.817,727.817,10,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,10,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,10,3)
Answer must be 8 characters in length.
"^DD",727.817,727.817,10,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,10,21,1,0)
An 8-character numeric string that represents the date of the Admission
"^DD",727.817,727.817,10,21,2,0)
associated with this Treating Specialty change.
"^DD",727.817,727.817,10,23,0)
^^10^10^2970923^^^^
"^DD",727.817,727.817,10,23,1,0)
Data source:
"^DD",727.817,727.817,10,23,2,0)
 
"^DD",727.817,727.817,10,23,3,0)
PATIENT MOVEMENT file (#405); ADMISSION/CHECK-IN MOVEMENT field (#.14)
"^DD",727.817,727.817,10,23,4,0)
PATIENT MOVEMENT FILE (#405); DATE/TIME (#.01)
"^DD",727.817,727.817,10,23,5,0)
 
"^DD",727.817,727.817,10,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.817,727.817,10,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.817,727.817,10,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.817,727.817,10,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.817,727.817,10,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.817,727.817,10,"DT")
2970924
"^DD",727.817,727.817,11,0)
DISCHARGE DATE^FO^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.817,727.817,11,.1)
Discharge Date
"^DD",727.817,727.817,11,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,11,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,11,3)
Answer must be 8 characters in length.
"^DD",727.817,727.817,11,21,0)
^^3^3^2970922^^^^
"^DD",727.817,727.817,11,21,1,0)
An 8-character numeric string that represents the date of Discharge
"^DD",727.817,727.817,11,21,2,0)
associated with this Treating Specialty change, if it is the last
"^DD",727.817,727.817,11,21,3,0)
specialty change prior to discharge.  Otherwise, this field is null.
"^DD",727.817,727.817,11,23,0)
^^9^9^2970923^^^^
"^DD",727.817,727.817,11,23,1,0)
Data source:
"^DD",727.817,727.817,11,23,2,0)
 
"^DD",727.817,727.817,11,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.817,727.817,11,23,4,0)
 
"^DD",727.817,727.817,11,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.817,727.817,11,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.817,727.817,11,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.817,727.817,11,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.817,727.817,11,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.817,727.817,11,"DT")
2970924
"^DD",727.817,727.817,12,0)
MOVEMENT FILE #^P405'^DGPM(^0;13^Q
"^DD",727.817,727.817,12,.1)
Movement File Number
"^DD",727.817,727.817,12,3)
Enter the patient movement number associated with this extract record.
"^DD",727.817,727.817,12,21,0)
^^1^1^2961004^^
"^DD",727.817,727.817,12,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.817,727.817,12,23,0)
^^3^3^2961004^^
"^DD",727.817,727.817,12,23,1,0)
The ^DGPM("ATT3" or "ATT6",DATE,D0) cross reference is used to 
"^DD",727.817,727.817,12,23,2,0)
obtain the current movement number associated with this patient. 
"^DD",727.817,727.817,12,23,3,0)
It is a pointer to the PATIENT MOVEMENT file (#405).
"^DD",727.817,727.817,12,"DT")
2961004
"^DD",727.817,727.817,13,0)
TYPE^F^^0;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.817,727.817,13,.1)
Type
"^DD",727.817,727.817,13,3)
Your answer must be 1 character in length.
"^DD",727.817,727.817,13,21,0)
^^1^1^2970708^^^^
"^DD",727.817,727.817,13,21,1,0)
The type of movement for this patient.
"^DD",727.817,727.817,13,23,0)
^^1^1^2970708^^^^
"^DD",727.817,727.817,13,23,1,0)
Using the "ATT"_TYPE cross reference where TYPE=6 (specialty change).
"^DD",727.817,727.817,13,"DT")
2961004
"^DD",727.817,727.817,14,0)
NEW TREATING SPECIALTY^P42.4'^DIC(42.4,^0;15^Q
"^DD",727.817,727.817,14,.1)
New Treating Specialty
"^DD",727.817,727.817,14,3)

"^DD",727.817,727.817,14,21,0)
^^2^2^2980120^^^^
"^DD",727.817,727.817,14,21,1,0)
The Specialty associated with the Facility Treating Specialty to which
"^DD",727.817,727.817,14,21,2,0)
patient is being moved.
"^DD",727.817,727.817,14,23,0)
^^9^9^2980120^
"^DD",727.817,727.817,14,23,1,0)
Source:
"^DD",727.817,727.817,14,23,2,0)
Field #.09; file #405
"^DD",727.817,727.817,14,23,3,0)
Field #1; file #45.7
"^DD",727.817,727.817,14,23,4,0)
 
"^DD",727.817,727.817,14,23,5,0)
Internal entry number of SPECIALTY file (#42.4) derived from SPECIALTY
"^DD",727.817,727.817,14,23,6,0)
field (#1) of FACILITY TREATING SPECIALTY file (#45.7) record pointed
"^DD",727.817,727.817,14,23,7,0)
to by FACILITY TREATING SPECIALTY field (#.09) of PATIENT MOVEMENT 
"^DD",727.817,727.817,14,23,8,0)
file (#405) record.  The movement record is the current treating 
"^DD",727.817,727.817,14,23,9,0)
specialty movement.
"^DD",727.817,727.817,14,"DT")
2980120
"^DD",727.817,727.817,15,0)
LOSING TREATING SPECIALTY^P42.4'^DIC(42.4,^0;16^Q
"^DD",727.817,727.817,15,.1)
Losing Treating Specialty
"^DD",727.817,727.817,15,3)

"^DD",727.817,727.817,15,21,0)
^^4^4^2980120^^^^
"^DD",727.817,727.817,15,21,1,0)
The Specialty associated with the losing Facility Treating Specialty
"^DD",727.817,727.817,15,21,2,0)
for this patient movement.  If this movement is not an actual treating
"^DD",727.817,727.817,15,21,3,0)
specialty change, then it is possible for this field to be the same as
"^DD",727.817,727.817,15,21,4,0)
NEW TREATING SPECIALTY field (#14).
"^DD",727.817,727.817,15,23,0)
^^12^12^2980120^^^^
"^DD",727.817,727.817,15,23,1,0)
Using the "ATT3" or "ATT6" cross reference on the PATIENT MOVEMENT file 
"^DD",727.817,727.817,15,23,2,0)
(#405) and the patient pointer (DFN) stored in the PATIENT NO. - DFN 
"^DD",727.817,727.817,15,23,3,0)
field (4) in the TREATING SPECIALTY CHANGE EXTRACT file (#727.817), 
"^DD",727.817,727.817,15,23,4,0)
NEW TREATING SPECIALTY data is derived from the FACILITY TREATING 
"^DD",727.817,727.817,15,23,5,0)
SPECIALTY field (.09) in the PATIENT MOVEMENT file (#405). This facility 
"^DD",727.817,727.817,15,23,6,0)
treating specialty data is a pointer to the FACILITY TREATING SPECIALTY 
"^DD",727.817,727.817,15,23,7,0)
file (#45.7). Using the SPECIALTY field (1) in the FACILITY TREATING 
"^DD",727.817,727.817,15,23,8,0)
SPECIALTY file (#45.7), the pointer to the SPECIALTY file (#42.4) is 
"^DD",727.817,727.817,15,23,9,0)
obtained.
"^DD",727.817,727.817,15,23,10,0)
 
"^DD",727.817,727.817,15,23,11,0)
This Specialty is then the LOSING Specialty for the Treating Specialty
"^DD",727.817,727.817,15,23,12,0)
change occurring on the date in the TRT extract record.  
"^DD",727.817,727.817,15,"DT")
2980120
"^DD",727.817,727.817,16,0)
LOSING TREATING SPECIALTY LOS^NJ4,0^^0;17^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.817,727.817,16,.1)
Losing TS LOS
"^DD",727.817,727.817,16,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",727.817,727.817,16,21,0)
^^1^1^2980723^^^^
"^DD",727.817,727.817,16,21,1,0)
The length of stay on the losing treating specialty.
"^DD",727.817,727.817,16,23,0)
^^7^7^2980723^^^^
"^DD",727.817,727.817,16,23,1,0)
Calculated as current treating specialty date minus the date (DATE/TIME 
"^DD",727.817,727.817,16,23,2,0)
field (.01) of the PATIENT MOVEMENT file (#405)) of the last treating 
"^DD",727.817,727.817,16,23,3,0)
specialty change.
"^DD",727.817,727.817,16,23,4,0)
 
"^DD",727.817,727.817,16,23,5,0)
This field will only be used for actual treating specialty changes.  
"^DD",727.817,727.817,16,23,6,0)
For file #405 records which reflect provider-only changes this 
"^DD",727.817,727.817,16,23,7,0)
field will be null.
"^DD",727.817,727.817,16,"DT")
2980116
"^DD",727.817,727.817,17,0)
LOSING ATTENDING PHYSICIAN^F^^0;18^K:$L(X)>11!($L(X)<1) X
"^DD",727.817,727.817,17,.1)
Losing Attending Physician
"^DD",727.817,727.817,17,3)
Enter attending physician assigned to this patient.
"^DD",727.817,727.817,17,21,0)
^^2^2^2980609^^^^
"^DD",727.817,727.817,17,21,1,0)
The Attending Physician associated with the previous treating
"^DD",727.817,727.817,17,21,2,0)
specialty change record in file #405.
"^DD",727.817,727.817,17,23,0)
^^4^4^2980609^^^^
"^DD",727.817,727.817,17,23,1,0)
Derived from the ATTENDING PHYSICIAN field (.19) of the PATIENT MOVEMENT 
"^DD",727.817,727.817,17,23,2,0)
file (#405). If ATTENDING PHYSICIAN is a pointer to the NEW PERSON file 
"^DD",727.817,727.817,17,23,3,0)
(#200), it is stored as "2"_pointer value. If ATTENDING PHYSICIAN is a 
"^DD",727.817,727.817,17,23,4,0)
pointer to the PROVIDER file (#6), it is stored as "6"_pointer value.
"^DD",727.817,727.817,17,"DT")
2980120
"^DD",727.817,727.817,18,0)
MOVEMENT TYPE^P405.2'^DG(405.2,^0;19^Q
"^DD",727.817,727.817,18,.1)
Movement Type
"^DD",727.817,727.817,18,3)
Enter the patient movement number associated with this extract record.
"^DD",727.817,727.817,18,21,0)
^^1^1^2970708^^^
"^DD",727.817,727.817,18,21,1,0)
The MAS movement type for this movement.
"^DD",727.817,727.817,18,23,0)
^^3^3^2970708^^^
"^DD",727.817,727.817,18,23,1,0)
MOVEMENT TYPE is derived from the MAS MOVEMENT TYPE field (.18) of 
"^DD",727.817,727.817,18,23,2,0)
the PATIENT MOVEMENT file (#405). It is a pointer to the MAS MOVEMENT 
"^DD",727.817,727.817,18,23,3,0)
TYPE file (#405.2).
"^DD",727.817,727.817,18,"DT")
2961004
"^DD",727.817,727.817,19,0)
TRT TIME^FO^^0;20^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.817,727.817,19,.1)
TRT Time
"^DD",727.817,727.817,19,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.817,727.817,19,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.817,727.817,19,3)
Answer must be 6 characters in length.
"^DD",727.817,727.817,19,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,19,21,1,0)
A 6-character numeric string representing the time of day when the
"^DD",727.817,727.817,19,21,2,0)
Treating Specialty change took place.
"^DD",727.817,727.817,19,23,0)
^^7^7^2970922^^^^
"^DD",727.817,727.817,19,23,1,0)
Data source:
"^DD",727.817,727.817,19,23,2,0)
 
"^DD",727.817,727.817,19,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01);
"^DD",727.817,727.817,19,23,4,0)
   2nd "." piece only.
"^DD",727.817,727.817,19,23,5,0)
 
"^DD",727.817,727.817,19,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.817,727.817,19,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.817,727.817,19,"DT")
2970924
"^DD",727.817,727.817,20,0)
ADMISSION TIME^FO^^0;21^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.817,727.817,20,.1)
Admission Time
"^DD",727.817,727.817,20,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.817,727.817,20,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.817,727.817,20,3)
Answer must be 6 characters in length.
"^DD",727.817,727.817,20,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,20,21,1,0)
A 6-character numeric string that represent the time of day of the
"^DD",727.817,727.817,20,21,2,0)
Admission associated with this Treating Specialty change.
"^DD",727.817,727.817,20,23,0)
^^7^7^2970922^^^^
"^DD",727.817,727.817,20,23,1,0)
Data source:
"^DD",727.817,727.817,20,23,2,0)
 
"^DD",727.817,727.817,20,23,3,0)
PATIENT MOVEMENT file (#405); ADMISSION/CHECK-IN MOVEMENT field (#.14)
"^DD",727.817,727.817,20,23,4,0)
PATIENT MOVEMENT FILE (#405); DATE/TIME (#.01)
"^DD",727.817,727.817,20,23,5,0)
 
"^DD",727.817,727.817,20,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.817,727.817,20,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.817,727.817,20,"DT")
2970924
"^DD",727.817,727.817,21,0)
NEW PRIMARY WARD PROVIDER^F^^0;22^K:$L(X)>11!($L(X)<1) X
"^DD",727.817,727.817,21,.1)
New Primary Ward Provider
"^DD",727.817,727.817,21,3)
Answer must be 1-11 characters in length.
"^DD",727.817,727.817,21,21,0)
^^2^2^2980608^^^^
"^DD",727.817,727.817,21,21,1,0)
The new Primary Provider associated with the current patient
"^DD",727.817,727.817,21,21,2,0)
movement record in file #405.
"^DD",727.817,727.817,21,23,0)
^^10^10^2980608^^^^
"^DD",727.817,727.817,21,23,1,0)
Source:
"^DD",727.817,727.817,21,23,2,0)
Field #.08; file #405
"^DD",727.817,727.817,21,23,3,0)
  
"^DD",727.817,727.817,21,23,4,0)
Internal entry number of NEW PERSON file (#200) derived from the 
"^DD",727.817,727.817,21,23,5,0)
PRIMARY CARE PHYSICIAN field (#.08) of the PATIENT MOVEMENT file
"^DD",727.817,727.817,21,23,6,0)
(#405). The movement record here is the current treating specialty
"^DD",727.817,727.817,21,23,7,0)
movement.
"^DD",727.817,727.817,21,23,8,0)
  
"^DD",727.817,727.817,21,23,9,0)
A "2" is prefixed to this pointer value, if the pointer references
"^DD",727.817,727.817,21,23,10,0)
file #200.
"^DD",727.817,727.817,21,"DT")
2980120
"^DD",727.817,727.817,22,0)
NEW ATTENDING PHYSICIAN^F^^0;23^K:$L(X)>11!($L(X)<1) X
"^DD",727.817,727.817,22,.1)
New Attending Physician
"^DD",727.817,727.817,22,3)
Answer must be 1-11 characters in length.
"^DD",727.817,727.817,22,21,0)
^^2^2^2980608^^^
"^DD",727.817,727.817,22,21,1,0)
The new Attending Physician associated with the current patient
"^DD",727.817,727.817,22,21,2,0)
movement record in file #405.
"^DD",727.817,727.817,22,23,0)
^^10^10^2980608^^^
"^DD",727.817,727.817,22,23,1,0)
Source:
"^DD",727.817,727.817,22,23,2,0)
Field #.19; file #405
"^DD",727.817,727.817,22,23,3,0)
  
"^DD",727.817,727.817,22,23,4,0)
Internal entry number of NEW PERSON file (#200) derived from the 
"^DD",727.817,727.817,22,23,5,0)
ATTENDING PHYSICIAN field (#.19) of the PATIENT MOVEMENT file
"^DD",727.817,727.817,22,23,6,0)
(#405). The movement record here is the current treating specialty
"^DD",727.817,727.817,22,23,7,0)
movement.
"^DD",727.817,727.817,22,23,8,0)
  
"^DD",727.817,727.817,22,23,9,0)
A "2" is prefixed to this pointer value, if the pointer references
"^DD",727.817,727.817,22,23,10,0)
file #200.
"^DD",727.817,727.817,22,"DT")
2980120
"^DD",727.817,727.817,23,0)
LOSING PRIMARY WARD PROVIDER^F^^0;24^K:$L(X)>11!($L(X)<1) X
"^DD",727.817,727.817,23,.1)
Losing Primary Ward Provider
"^DD",727.817,727.817,23,3)
Answer must be 1-11 characters in length.
"^DD",727.817,727.817,23,21,0)
^^2^2^2980609^^^^
"^DD",727.817,727.817,23,21,1,0)
The losing Primary Provider for the patient movement; i.e., the Primary
"^DD",727.817,727.817,23,21,2,0)
Provider of the previous treating specialty chnage record.
"^DD",727.817,727.817,23,23,0)
^^11^11^2980609^^^^
"^DD",727.817,727.817,23,23,1,0)
Source:
"^DD",727.817,727.817,23,23,2,0)
Field #.08; file #405
"^DD",727.817,727.817,23,23,3,0)
  
"^DD",727.817,727.817,23,23,4,0)
Internal entry number of NEW PERSON file (#200) derived from the
"^DD",727.817,727.817,23,23,5,0)
PRIMARY CARE PHYSICIAN field (#.08) of the PATIENT MOVEMENT file 
"^DD",727.817,727.817,23,23,6,0)
(#405). The movement record is not the current treating specialty 
"^DD",727.817,727.817,23,23,7,0)
movement, but the one which corresponds to the previous treating 
"^DD",727.817,727.817,23,23,8,0)
specialty or provider change.
"^DD",727.817,727.817,23,23,9,0)
  
"^DD",727.817,727.817,23,23,10,0)
A "2" is prefixed to this pointer value, if the pointer references
"^DD",727.817,727.817,23,23,11,0)
file #200.
"^DD",727.817,727.817,23,"DT")
2980120
"^DD",727.817,727.817,24,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.817,727.817,24,3)
Answer must be 1-10 characters in length.
"^DD",727.817,727.817,24,21,0)
^^1^1^2990504^
"^DD",727.817,727.817,24,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.817,727.817,24,23,0)
^^2^2^2990504^
"^DD",727.817,727.817,24,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.817,727.817,24,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.817,727.817,24,"DT")
2990504
"^DD",727.817,727.817,25,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.817,727.817,25,3)
Answer must be 4-10 characters in length.
"^DD",727.817,727.817,25,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,25,21,1,0)
The DSS Department Code for the ward product.
"^DD",727.817,727.817,25,23,0)
^^2^2^2990506^
"^DD",727.817,727.817,25,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.817,727.817,25,23,2,0)
Field is set to null.
"^DD",727.817,727.817,25,"DT")
2990506
"^DD",727.817,727.817,26,0)
LOSING ATTENDING PHYSICIAN NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.817,727.817,26,3)
Answer must be 1-8 characters in length.
"^DD",727.817,727.817,26,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,26,21,1,0)
The Losing Attending Physician's National Provider Identifier code.
"^DD",727.817,727.817,26,23,0)
^^4^4^2990506^
"^DD",727.817,727.817,26,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.817,727.817,26,23,2,0)
field will hold the Losing Attending Physician NPI.
"^DD",727.817,727.817,26,23,3,0)
   
"^DD",727.817,727.817,26,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.817,727.817,26,"DT")
2990506
"^DD",727.817,727.817,27,0)
NEW PRIMARY WARD PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.817,727.817,27,3)
Answer must be 1-8 characters in length.
"^DD",727.817,727.817,27,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,27,21,1,0)
The New Primary Ward Provider's National Provider Identifier code.
"^DD",727.817,727.817,27,23,0)
^^4^4^2990506^
"^DD",727.817,727.817,27,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.817,727.817,27,23,2,0)
field will hold the New Primary Ward Provider NPI.
"^DD",727.817,727.817,27,23,3,0)
   
"^DD",727.817,727.817,27,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.817,727.817,27,"DT")
2990506
"^DD",727.817,727.817,28,0)
NEW ATTENDING PHYSICIAN NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.817,727.817,28,3)
Answer must be 1-8 characters in length.
"^DD",727.817,727.817,28,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,28,21,1,0)
The New Attending Physician's National Provider Identifier code.
"^DD",727.817,727.817,28,23,0)
^^4^4^2990506^
"^DD",727.817,727.817,28,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.817,727.817,28,23,2,0)
field will hold the New Attending Physician NPI.
"^DD",727.817,727.817,28,23,3,0)
   
"^DD",727.817,727.817,28,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.817,727.817,28,"DT")
2990506
"^DD",727.817,727.817,29,0)
LOSING PRIMARY WARD PROV. NPI^F^^1;6^K:$L(X)>8!($L(X)<1) X
"^DD",727.817,727.817,29,3)
Answer must be 1-8 characters in length.
"^DD",727.817,727.817,29,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,29,21,1,0)
The Losing Primary Ward Provider's National Provider Identifier code.
"^DD",727.817,727.817,29,23,0)
^^4^4^2990506^
"^DD",727.817,727.817,29,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.817,727.817,29,23,2,0)
field will hold the Losing Primary Ward Provider NPI.
"^DD",727.817,727.817,29,23,3,0)
   
"^DD",727.817,727.817,29,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.817,727.817,29,"DT")
2990506
"^DD",727.817,727.817,30,0)
ATTENDING PHYSICIAN LOS^NJ4,0^^1;7^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.817,727.817,30,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",727.817,727.817,30,21,0)
^^1^1^2980714^
"^DD",727.817,727.817,30,21,1,0)
The patient's length of stay with the losing attending physician.
"^DD",727.817,727.817,30,"DT")
2980723
"^DD",727.817,727.817,31,0)
PRIMARY WARD PROVIDER LOS^NJ4,0^^1;8^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.817,727.817,31,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",727.817,727.817,31,21,0)
^^1^1^2980714^
"^DD",727.817,727.817,31,21,1,0)
The patient's length of stay with the losing primary ward provider.
"^DD",727.817,727.817,31,"DT")
2980723
"^DD",727.817,727.817,32,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.817,727.817,32,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.817,727.817,32,21,0)
^.001^8^8^3001012^^
"^DD",727.817,727.817,32,21,1,0)
 
"^DD",727.817,727.817,32,21,2,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is
"^DD",727.817,727.817,32,21,3,0)
admitted to either a DOM, PRRTP or SAARTP at the time hospital
"^DD",727.817,727.817,32,21,4,0)
service is provided.
"^DD",727.817,727.817,32,21,5,0)
Domiciliary
"^DD",727.817,727.817,32,21,6,0)
(DOM)
"^DD",727.817,727.817,32,21,7,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.817,727.817,32,21,8,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.817,727.817,32,"DT")
3001010
"^DD",727.817,727.817,33,0)
EXTENDED OP INDICATOR^F^^1;10^K:$L(X)>4!($L(X)<1) X
"^DD",727.817,727.817,33,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.817,727.817,33,21,0)
^^1^1^3001012^
"^DD",727.817,727.817,33,21,1,0)
Indicates if a patient will become an Extended Outpatient. 
"^DD",727.817,727.817,33,"DT")
3000614
"^DD",727.819,727.819,0)
FIELD^^35^35
"^DD",727.819,727.819,0,"DDA")
N
"^DD",727.819,727.819,0,"DIK")
ECX819
"^DD",727.819,727.819,0,"DIKOLD")
ECX819
"^DD",727.819,727.819,0,"DT")
3000614
"^DD",727.819,727.819,0,"IX","AC",727.819,2)

"^DD",727.819,727.819,0,"NM","IV DETAIL EXTRACT")

"^DD",727.819,727.819,0,"VRPK")
ECX
"^DD",727.819,727.819,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.819,727.819,.01,.1)
Sequence Number
"^DD",727.819,727.819,.01,1,0)
^.1^^0
"^DD",727.819,727.819,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.819,727.819,.01,21,0)
^^1^1^2960925^^^^
"^DD",727.819,727.819,.01,21,1,0)
The record number for this extract entry.
"^DD",727.819,727.819,.01,23,0)
^^1^1^2960925^^^
"^DD",727.819,727.819,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.819,727.819,.01,"DT")
2980812
"^DD",727.819,727.819,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.819,727.819,1,.1)
Year/Month
"^DD",727.819,727.819,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.819,727.819,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.819,727.819,1,3)
Answer must be 6 characters in length.
"^DD",727.819,727.819,1,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.819,727.819,1,21,2,0)
for which this extract was performed.
"^DD",727.819,727.819,1,23,0)
^^1^1^2970922^^^^
"^DD",727.819,727.819,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.819,727.819,1,"DT")
2970924
"^DD",727.819,727.819,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.819,727.819,2,.1)
Extract Number
"^DD",727.819,727.819,2,1,0)
^.1
"^DD",727.819,727.819,2,1,1,0)
727.819^AC
"^DD",727.819,727.819,2,1,1,1)
S ^ECX(727.819,"AC",$E(X,1,30),DA)=""
"^DD",727.819,727.819,2,1,1,2)
K ^ECX(727.819,"AC",$E(X,1,30),DA)
"^DD",727.819,727.819,2,1,1,3)
DO NOT DELETE.
"^DD",727.819,727.819,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.819,727.819,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.819,727.819,2,1,1,"%D",2,0)
in this file.
"^DD",727.819,727.819,2,1,1,"DT")
2910802
"^DD",727.819,727.819,2,3)
Enter the extract number for this extract.
"^DD",727.819,727.819,2,21,0)
^^2^2^2960925^^^^
"^DD",727.819,727.819,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.819,727.819,2,21,2,0)
extract.
"^DD",727.819,727.819,2,23,0)
^^2^2^2960925^^^^
"^DD",727.819,727.819,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.819,727.819,2,23,2,0)
pick up the header for the mail message.
"^DD",727.819,727.819,2,"DT")
2960925
"^DD",727.819,727.819,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.819,727.819,3,.1)
Facility
"^DD",727.819,727.819,3,3)
Enter the station number where this extract was performed.
"^DD",727.819,727.819,3,21,0)
^^1^1^2990810^^^^
"^DD",727.819,727.819,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.819,727.819,3,23,0)
^^14^14^2990810^^^^
"^DD",727.819,727.819,3,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,3,23,2,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.819,727.819,3,23,3,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.819,727.819,3,23,4,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.819,727.819,3,23,5,0)
the INSTITUTION file (#4).
"^DD",727.819,727.819,3,23,6,0)
  
"^DD",727.819,727.819,3,23,7,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,3,23,8,0)
For inpatients: 
"^DD",727.819,727.819,3,23,9,0)
Derived from the DIVISION field (3.5) in the HOSPITAL LOCATION 
"^DD",727.819,727.819,3,23,10,0)
file (#44) for the ward identified in the WARD LOCATION file (#42).
"^DD",727.819,727.819,3,23,11,0)
For outpatients with IV orders: 
"^DD",727.819,727.819,3,23,12,0)
Derived from the DIVISION field (.02) in the IV ROOM file (#59.5) for 
"^DD",727.819,727.819,3,23,13,0)
the IV room identified by the IV ROOM field (.22) in the IV multiple 
"^DD",727.819,727.819,3,23,14,0)
(100) of the PHARMACY PATIENT file (#55).
"^DD",727.819,727.819,3,"DT")
2961017
"^DD",727.819,727.819,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.819,727.819,4,.1)
Patient No. - DFN
"^DD",727.819,727.819,4,3)
Enter the name of the patient for this extract record.
"^DD",727.819,727.819,4,21,0)
^^1^1^2990504^^^^
"^DD",727.819,727.819,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.819,727.819,4,23,0)
^^10^10^2990504^^
"^DD",727.819,727.819,4,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,4,23,2,0)
Derived from the PATIENT field (.01) within the PATIENT multiple 
"^DD",727.819,727.819,4,23,3,0)
(8) within the IV DRUG multiple (2) within the DATE multiple (2) of 
"^DD",727.819,727.819,4,23,4,0)
the IV STATS file (#50.8). PATIENT NO. - DFN is a pointer to the NAME
"^DD",727.819,727.819,4,23,5,0)
field (.01) of the PATIENT file (#2). This data represents the patient
"^DD",727.819,727.819,4,23,6,0)
DFN.
"^DD",727.819,727.819,4,23,7,0)
  
"^DD",727.819,727.819,4,23,8,0)
For sites running Inpatient Medications V. 4.5 or higher: Pointer to the
"^DD",727.819,727.819,4,23,9,0)
NAME field (.01) of the PATIENT file (#2). PATIENT NO. - DFN data is
"^DD",727.819,727.819,4,23,10,0)
derived from the DFN field (1) of the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,4,"DT")
2961017
"^DD",727.819,727.819,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.819,727.819,5,.1)
Social Security Number
"^DD",727.819,727.819,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.819,727.819,5,21,0)
^^4^4^2990504^^^^
"^DD",727.819,727.819,5,21,1,0)
The patient's social security number.
"^DD",727.819,727.819,5,21,2,0)
 
"^DD",727.819,727.819,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.819,727.819,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.819,727.819,5,23,0)
^^6^6^2990504^^
"^DD",727.819,727.819,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.819,727.819,5,23,2,0)
in the IV DETAIL EXTRACT file (#727.819), SSN data is derived from the
"^DD",727.819,727.819,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.819,727.819,5,23,4,0)
 
"^DD",727.819,727.819,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.819,727.819,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.819,727.819,5,"DT")
2960925
"^DD",727.819,727.819,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.819,727.819,6,.1)
Name
"^DD",727.819,727.819,6,3)
Your answer must be 4 characters in length.
"^DD",727.819,727.819,6,21,0)
^^1^1^2960925^^^^
"^DD",727.819,727.819,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.819,727.819,6,23,0)
^^4^4^2961017^
"^DD",727.819,727.819,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.819,727.819,6,23,2,0)
in the IV DETAIL EXTRACT file (#727.819), NAME data is derived from the
"^DD",727.819,727.819,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.819,727.819,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.819,727.819,6,"DT")
2960925
"^DD",727.819,727.819,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.819,727.819,7,.1)
In Out Patient Indicator
"^DD",727.819,727.819,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.819,727.819,7,21,0)
^^2^2^2960925^^^^
"^DD",727.819,727.819,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.819,727.819,7,21,2,0)
extract entry.
"^DD",727.819,727.819,7,23,0)
^^12^12^2960925^^^
"^DD",727.819,727.819,7,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,7,23,2,0)
Derived from the WARD PTR field (4) of the PATIENT multiple (8) within 
"^DD",727.819,727.819,7,23,3,0)
the IV DRUG multiple (2) within the DATE multiple (2) of the IV STATS 
"^DD",727.819,727.819,7,23,4,0)
file (#50.8). If the WARD PTR value is equal to .5, the IN OUT PATIENT 
"^DD",727.819,727.819,7,23,5,0)
INDICATOR field is set to 1 indicating an outpatient status or else it 
"^DD",727.819,727.819,7,23,6,0)
is set to 3 indicating inpatient status.
"^DD",727.819,727.819,7,23,7,0)
  
"^DD",727.819,727.819,7,23,8,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,7,23,9,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.819,727.819,7,23,10,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.819,727.819,7,23,11,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.819,727.819,7,23,12,0)
inpatient status.
"^DD",727.819,727.819,7,"DT")
2960925
"^DD",727.819,727.819,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.819,727.819,8,.1)
Day
"^DD",727.819,727.819,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.819,727.819,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.819,727.819,8,3)
Answer must be 8 characters in length.
"^DD",727.819,727.819,8,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,8,21,1,0)
An 8-character numeric string that represents the date on which the
"^DD",727.819,727.819,8,21,2,0)
IV medication was dispensed.
"^DD",727.819,727.819,8,23,0)
^^15^15^2970923^^^^
"^DD",727.819,727.819,8,23,1,0)
Data source:
"^DD",727.819,727.819,8,23,2,0)
  
"^DD",727.819,727.819,8,23,3,0)
For sites running a version prior to Inpatient Medications v4.5 --
"^DD",727.819,727.819,8,23,4,0)
IV STATS file (#50.8); DATE sub-file (#50.803); DATE field (#.01)
"^DD",727.819,727.819,8,23,5,0)
 
"^DD",727.819,727.819,8,23,6,0)
For sites running Inpatient Medications v4.5 or higher:
"^DD",727.819,727.819,8,23,7,0)
IV EXTRACT DATA file (#728.113); DATE/TIME field (#4)
"^DD",727.819,727.819,8,23,8,0)
which is set by routine PSIVSTAT and is always the current date/time,
"^DD",727.819,727.819,8,23,9,0)
i.e., NOW.
"^DD",727.819,727.819,8,23,10,0)
 
"^DD",727.819,727.819,8,23,11,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.819,727.819,8,23,12,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.819,727.819,8,23,13,0)
then a default is used.  The default date value is the value of the 
"^DD",727.819,727.819,8,23,14,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.819,727.819,8,23,15,0)
Year 2000 compliant per vendor.
"^DD",727.819,727.819,8,"DT")
2970924
"^DD",727.819,727.819,9,0)
VA DRUG CLASSIFICATION^F^^0;10^K:$L(X)>5!($L(X)<5) X
"^DD",727.819,727.819,9,.1)
VA Drug Classification
"^DD",727.819,727.819,9,3)
Your answer must be 5 characters in length.
"^DD",727.819,727.819,9,21,0)
^^1^1^2961127^^^^
"^DD",727.819,727.819,9,21,1,0)
The VA Drug Classification for the item in this order.
"^DD",727.819,727.819,9,23,0)
^^18^18^2971113^^^^
"^DD",727.819,727.819,9,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,9,23,2,0)
Derived from the VA CLASSIFICATION field (2) in the DRUG file (#50) 
"^DD",727.819,727.819,9,23,3,0)
for the drug identified by the GENERIC DRUG field (1) in either the 
"^DD",727.819,727.819,9,23,4,0)
IV ADDITIVES file (#52.6) for additives or the IV SOLUTIONS file 
"^DD",727.819,727.819,9,23,5,0)
(#52.7) for solutions.
"^DD",727.819,727.819,9,23,6,0)
  
"^DD",727.819,727.819,9,23,7,0)
Using the "AC" cross reference on the IV STATS file (#50.8) and a 
"^DD",727.819,727.819,9,23,8,0)
^TMP( array built from the "AC" cross reference, GENERIC DRUG is 
"^DD",727.819,727.819,9,23,9,0)
derived from the following:
"^DD",727.819,727.819,9,23,10,0)
 the IV DRUG field (.01),
"^DD",727.819,727.819,9,23,11,0)
 the TYPE field (6), and
"^DD",727.819,727.819,9,23,12,0)
 the IEN of the additive or solution for the IV DRUG within the IV DRUG 
"^DD",727.819,727.819,9,23,13,0)
 multiple (2) of the DATE multiple (2) of the IV STATS file (#50.8).
"^DD",727.819,727.819,9,23,14,0)
  
"^DD",727.819,727.819,9,23,15,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,9,23,16,0)
Derived from the VA CLASSIFICATION field (2) in the DRUG file (#50) 
"^DD",727.819,727.819,9,23,17,0)
for the drug identified by the DRUG field (3) in the IV EXTRACT DATA 
"^DD",727.819,727.819,9,23,18,0)
file (#728.113).
"^DD",727.819,727.819,9,"DT")
2960925
"^DD",727.819,727.819,10,0)
QUANTITY^NJ8,2^^0;11^K:+X'=X!(X>10000)!(X<0)!(X?.E1"."3N.N) X
"^DD",727.819,727.819,10,.1)
Quantity
"^DD",727.819,727.819,10,3)
Enter a number between 0 and 10000, 2 decimal digits.
"^DD",727.819,727.819,10,21,0)
^^1^1^2990511^^^^
"^DD",727.819,727.819,10,21,1,0)
Quantity dispensed.
"^DD",727.819,727.819,10,23,0)
^^12^12^2990511^^^^
"^DD",727.819,727.819,10,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,10,23,2,0)
Derived from the DISPENSED UNITS (PATIENT) field (1) minus the RETURNED 
"^DD",727.819,727.819,10,23,3,0)
UNITS (PATIENT) field (2) minus the CANCELED UNITS (PATIENT) field (5). 
"^DD",727.819,727.819,10,23,4,0)
These fields are in the PATIENT multiple (8) of the IV DRUG multiple (2) 
"^DD",727.819,727.819,10,23,5,0)
within the DATE multiple (2) of the IV STATS file (#50.8).
"^DD",727.819,727.819,10,23,6,0)
  
"^DD",727.819,727.819,10,23,7,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,10,23,8,0)
Quantity is calculated by incrementing a counter based upon the value 
"^DD",727.819,727.819,10,23,9,0)
found in the TRANSACTION TYPE field (5) in the IV EXTRACT DATA file 
"^DD",727.819,727.819,10,23,10,0)
(#728.113). If TRANSACTION TYPE equals 1 for DISPENSED, the counter is 
"^DD",727.819,727.819,10,23,11,0)
incremented by 1; if 4 for CANCELED, no change is made to the counter; 
"^DD",727.819,727.819,10,23,12,0)
if 2 for RETURNED or 3 for DESTROYED, the counter is decremented by 1.
"^DD",727.819,727.819,10,"DT")
2960925
"^DD",727.819,727.819,11,0)
WARD^P44'^SC(^0;12^Q
"^DD",727.819,727.819,11,.1)
Ward
"^DD",727.819,727.819,11,3)
Enter the ward location for this patient.
"^DD",727.819,727.819,11,21,0)
^^1^1^2990810^^^^
"^DD",727.819,727.819,11,21,1,0)
The ward on which this patient's IV drug was administered.
"^DD",727.819,727.819,11,23,0)
^^16^16^2990810^^^^
"^DD",727.819,727.819,11,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,11,23,2,0)
Ward is derived from the WARD PTR field (4) in the PATIENT multiple 
"^DD",727.819,727.819,11,23,3,0)
(8) of the IV DRUG multiple (2) within the DATE multiple (2) of the 
"^DD",727.819,727.819,11,23,4,0)
IV STATS file (#50.8) which is a pointer to the WARD LOCATION file 
"^DD",727.819,727.819,11,23,5,0)
(#42). Using the ward pointer, the data is derived from the HOSPITAL 
"^DD",727.819,727.819,11,23,6,0)
LOCATION FILE POINTER field (44) in the WARD LOCATION file (#42) which 
"^DD",727.819,727.819,11,23,7,0)
is a pointer to the HOSPITAL LOCATION file (#44). For outpatient IVs, 
"^DD",727.819,727.819,11,23,8,0)
WARD is set to "CLI".
"^DD",727.819,727.819,11,23,9,0)
  
"^DD",727.819,727.819,11,23,10,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,11,23,11,0)
This field is initialized to .5, indicating an outpatient status. A 
"^DD",727.819,727.819,11,23,12,0)
call is made to IN5^VADPT using the patient IEN and the event date. 
"^DD",727.819,727.819,11,23,13,0)
If data is returned identifying an inpatient episode, the value of 
"^DD",727.819,727.819,11,23,14,0)
VAIP(5), ward location, is used to get the HOSPITAL LOCATION FILE 
"^DD",727.819,727.819,11,23,15,0)
POINTER field (44) in the WARD LOCATION file (#42) which is a pointer 
"^DD",727.819,727.819,11,23,16,0)
to the HOSPITAL LOCATION file (#44).
"^DD",727.819,727.819,11,"DT")
2960925
"^DD",727.819,727.819,13,0)
COST^NJ8,2^^0;13^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",727.819,727.819,13,.1)
Cost
"^DD",727.819,727.819,13,3)
Enter a dollar amount between 0 and 10000, 2 decimal digits.
"^DD",727.819,727.819,13,21,0)
^^1^1^2960925^^
"^DD",727.819,727.819,13,21,1,0)
Cost of drug dispensed for this patient.
"^DD",727.819,727.819,13,23,0)
^^10^10^2960925^^^
"^DD",727.819,727.819,13,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,13,23,2,0)
COST is derived from the QUANTITY field (10) in the IV DETAIL EXTRACT 
"^DD",727.819,727.819,13,23,3,0)
file (#727.819) multiplied by the price. Price comes from the AVERAGE 
"^DD",727.819,727.819,13,23,4,0)
DRUG COST PER UNIT field (4) of the IV DRUG multiple (2) within the DATE 
"^DD",727.819,727.819,13,23,5,0)
multiple (2) of the IV STATS file (#50.8).
"^DD",727.819,727.819,13,23,6,0)
  
"^DD",727.819,727.819,13,23,7,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,13,23,8,0)
Calculated by multiplying the COST field (12) in the IV EXTRACT DATA 
"^DD",727.819,727.819,13,23,9,0)
file (#728.113) by the QUANTITY field (10) in the IV DETAIL EXTRACT 
"^DD",727.819,727.819,13,23,10,0)
file (#727.819) above.
"^DD",727.819,727.819,13,"DT")
2960925
"^DD",727.819,727.819,14,0)
MOVEMENT FILE #^P405'^DGPM(^0;14^Q
"^DD",727.819,727.819,14,.1)
Movement File Number
"^DD",727.819,727.819,14,3)
Enter the patient movement number associated with this extract record.
"^DD",727.819,727.819,14,21,0)
^^1^1^2961017^^^
"^DD",727.819,727.819,14,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.819,727.819,14,23,0)
^^4^4^2961017^^^
"^DD",727.819,727.819,14,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.819,727.819,14,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.819,727.819,14,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.819,727.819,14,23,4,0)
(#405).
"^DD",727.819,727.819,14,"DT")
2960925
"^DD",727.819,727.819,15,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;15^Q
"^DD",727.819,727.819,15,.1)
Treating Specialty
"^DD",727.819,727.819,15,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.819,727.819,15,21,0)
^^1^1^2960925^^^
"^DD",727.819,727.819,15,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.819,727.819,15,23,0)
^^6^6^2960925^^^
"^DD",727.819,727.819,15,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.819,727.819,15,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.819,727.819,15,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.819,727.819,15,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.819,727.819,15,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.819,727.819,15,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.819,727.819,15,"DT")
2960925
"^DD",727.819,727.819,16,0)
NDC^F^^0;16^K:$L(X)>15!($L(X)<1) X
"^DD",727.819,727.819,16,.1)
National Drug Code
"^DD",727.819,727.819,16,3)
Your answer must be 1 to 15 characters in length.
"^DD",727.819,727.819,16,21,0)
^^1^1^2990511^^^^
"^DD",727.819,727.819,16,21,1,0)
This is the National Drug Code for the drug/supply item in this order.
"^DD",727.819,727.819,16,23,0)
^^17^17^2990511^^^^
"^DD",727.819,727.819,16,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,16,23,2,0)
Derived from the NDC field (31) in the DRUG file (#50) for the drug 
"^DD",727.819,727.819,16,23,3,0)
identified by the GENERIC DRUG field (1) in either the IV ADDITIVES 
"^DD",727.819,727.819,16,23,4,0)
file (#52.6) for additives or the IV SOLUTIONS file (#52.7) for 
"^DD",727.819,727.819,16,23,5,0)
solutions.
"^DD",727.819,727.819,16,23,6,0)
  
"^DD",727.819,727.819,16,23,7,0)
Using the "AC" cross reference on the IV STATS file (#50.8) and a 
"^DD",727.819,727.819,16,23,8,0)
^TMP( array built from the "AC" cross reference, GENERIC DRUG is 
"^DD",727.819,727.819,16,23,9,0)
derived from the following:
"^DD",727.819,727.819,16,23,10,0)
 the IV DRUG field (.01),
"^DD",727.819,727.819,16,23,11,0)
 the TYPE field (6), and
"^DD",727.819,727.819,16,23,12,0)
 the IEN of the additive or solution for the IV DRUG within the IV DRUG 
"^DD",727.819,727.819,16,23,13,0)
 multiple (2) of the DATE multiple (2) of the IV STATS file (#50.8).
"^DD",727.819,727.819,16,23,14,0)
  
"^DD",727.819,727.819,16,23,15,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,16,23,16,0)
Derived from the NDC field (31) in the DRUG file (#50) for the drug 
"^DD",727.819,727.819,16,23,17,0)
identified by the DRUG field (3) in the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,16,"DT")
2960925
"^DD",727.819,727.819,17,0)
INVESTIGATIONAL^S^I:INVESTIGATIONAL;^0;17^Q
"^DD",727.819,727.819,17,.1)
Investigational
"^DD",727.819,727.819,17,3)
Enter I if the drug is investigational.
"^DD",727.819,727.819,17,21,0)
^^2^2^2990511^^^
"^DD",727.819,727.819,17,21,1,0)
This field contains the letter I if the drug in this record is 
"^DD",727.819,727.819,17,21,2,0)
investigational. Otherwise it is null.
"^DD",727.819,727.819,17,23,0)
^^2^2^2990511^^^
"^DD",727.819,727.819,17,23,1,0)
Derived from the DEA, SPECIAL HDLG field (3) in the DRUG file (#50).
"^DD",727.819,727.819,17,23,2,0)
If the DEA, SPECIAL HDLG field contains an I, this field is set to I.
"^DD",727.819,727.819,17,"DT")
2960925
"^DD",727.819,727.819,18,0)
PHARMACY IV DISPENSING FEE^F^^0;18^K:$L(X)>2!($L(X)<1) X
"^DD",727.819,727.819,18,.1)
Pharmacy IV Dispensing Fee
"^DD",727.819,727.819,18,3)
Your answer must be 1 to 2 characters in length.
"^DD",727.819,727.819,18,21,0)
^^2^2^2990511^^^^
"^DD",727.819,727.819,18,21,1,0)
The type of IV dispensed - A for admixture, C for chemotherapy, 
"^DD",727.819,727.819,18,21,2,0)
H for hyperal, P for piggyback, or S for syringe.
"^DD",727.819,727.819,18,23,0)
^^12^12^2990511^^^
"^DD",727.819,727.819,18,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,18,23,2,0)
This field is set to null.
"^DD",727.819,727.819,18,23,3,0)
  
"^DD",727.819,727.819,18,23,4,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,18,23,5,0)
Derived from the TYPE field (11) of the IV EXTRACT DATA file (#728.113). 
"^DD",727.819,727.819,18,23,6,0)
TYPE is the type of IV dispensed - A for admixture, C for chemotherapy, 
"^DD",727.819,727.819,18,23,7,0)
H for hyperal, P for piggyback, or S for syringe.
"^DD",727.819,727.819,18,23,8,0)
  
"^DD",727.819,727.819,18,23,9,0)
If the TYPE is H for hyperal (TPN), the SOLUTION VOLUME is calculated. 
"^DD",727.819,727.819,18,23,10,0)
This field is sent as H1 if the volume is less than or equal 1000 ML, 
"^DD",727.819,727.819,18,23,11,0)
H2 if the volume is less than or equal 2000 ML, and H3 if the volume is 
"^DD",727.819,727.819,18,23,12,0)
greater than 2000 ML.
"^DD",727.819,727.819,18,"DT")
2960925
"^DD",727.819,727.819,19,0)
NEW FEEDER KEY^F^^0;19^K:$L(X)>19!($L(X)<17) X
"^DD",727.819,727.819,19,.1)
New Feeder Key
"^DD",727.819,727.819,19,3)
Answer must be 17-19 characters in length.
"^DD",727.819,727.819,19,21,0)
^^5^5^2990510^^^^
"^DD",727.819,727.819,19,21,1,0)
The Feeder Key for the drug in this record.  The format of the Feeder Key
"^DD",727.819,727.819,19,21,2,0)
depends on the version of NATIONAL DRUG FILE installed at the site.  If the
"^DD",727.819,727.819,19,21,3,0)
site is running NDF v4.0 (or later), the Feeder Key has a 17-digit format.
"^DD",727.819,727.819,19,21,4,0)
If the site is running an earlier version of NDF, then the Feeder Key has
"^DD",727.819,727.819,19,21,5,0)
a 19-digit format.
"^DD",727.819,727.819,19,23,0)
^^20^20^2990510^^^^
"^DD",727.819,727.819,19,23,1,0)
NEW FEEDER KEY is derived for the drug identified by the DRUG field 
"^DD",727.819,727.819,19,23,2,0)
(#6) in the PRESCRIPTION file (#52), which is a pointer to the DRUG
"^DD",727.819,727.819,19,23,3,0)
file (#50).
"^DD",727.819,727.819,19,23,4,0)
  
"^DD",727.819,727.819,19,23,5,0)
If the sites is running a version of NDF prior to NDF v4.0:
"^DD",727.819,727.819,19,23,6,0)
The NATIONAL DRUG FILE ENTRY field (#20) from the DRUG file (#50),
"^DD",727.819,727.819,19,23,7,0)
which is a pointer to the NATIONAL DRUG file (#50.6), is padded to
"^DD",727.819,727.819,19,23,8,0)
4 digits.  The PSNDF VA PRODUCT NAME ENTRY field (#22) from the 
"^DD",727.819,727.819,19,23,9,0)
DRUG file (#50), which is a pointer to the VA Product Name in the
"^DD",727.819,727.819,19,23,10,0)
NATIONAL DRUG file (#50.6), is padded to 3 digits. These two data
"^DD",727.819,727.819,19,23,11,0)
elements are concatenated together to form a 7-digit string.
"^DD",727.819,727.819,19,23,12,0)
This is concatenated with a 12-digit code derived from the NDC field
"^DD",727.819,727.819,19,23,13,0)
(#31) from the DRUG file (#50) to form a 19-digit Feeder Key.
"^DD",727.819,727.819,19,23,14,0)
  
"^DD",727.819,727.819,19,23,15,0)
If the site is running NDF v4.0 (or later):
"^DD",727.819,727.819,19,23,16,0)
The PSNDF VA PRODUCT NAME ENTRY field (#22) from the DRUG file (#50), 
"^DD",727.819,727.819,19,23,17,0)
which is a pointer to the VA PRODUCT file (#50.68) is padded to 5
"^DD",727.819,727.819,19,23,18,0)
digits.  This is concatenated with a 12-digit code derived from the
"^DD",727.819,727.819,19,23,19,0)
NDC field (#31) from the DRUG file (#50) to form a 17-digit Feeder
"^DD",727.819,727.819,19,23,20,0)
Key.
"^DD",727.819,727.819,19,"DT")
2990510
"^DD",727.819,727.819,20,0)
TOTAL DOSES PER DAY^F^^0;20^K:$L(X)>20!($L(X)<1) X
"^DD",727.819,727.819,20,.1)
Total Doses Per Day
"^DD",727.819,727.819,20,3)
Your answer must be 1 to 20 characters in length.
"^DD",727.819,727.819,20,21,0)
^^1^1^2990511^^^
"^DD",727.819,727.819,20,21,1,0)
The total doses per day including units.
"^DD",727.819,727.819,20,23,0)
^^9^9^2990511^^^
"^DD",727.819,727.819,20,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,20,23,2,0)
This field is set to null.
"^DD",727.819,727.819,20,23,3,0)
  
"^DD",727.819,727.819,20,23,4,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,20,23,5,0)
For additives, TOTAL DOSES PER DAY is derived from the ADDITIVE STRENGTH 
"^DD",727.819,727.819,20,23,6,0)
field (6) and the ADDITIVE STRENGTH UNITS field (7) from the IV EXTRACT 
"^DD",727.819,727.819,20,23,7,0)
DATA file (#728.113).
"^DD",727.819,727.819,20,23,8,0)
For solutions, TOTAL DOSES PER DAY is derived from the SOLUTION VOLUME
"^DD",727.819,727.819,20,23,9,0)
field (8), recorded in MLs, from the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,20,"DT")
2960925
"^DD",727.819,727.819,21,0)
PRIMARY CARE TEAM^F^^0;21^K:$L(X)>4!($L(X)<1) X
"^DD",727.819,727.819,21,.1)
Primary Care Team
"^DD",727.819,727.819,21,3)
Enter primary care team assigned to this patient.
"^DD",727.819,727.819,21,21,0)
^^1^1^2961104^^^^
"^DD",727.819,727.819,21,21,1,0)
The primary care team assigned to this patient.
"^DD",727.819,727.819,21,23,0)
^^11^11^2961104^^^^
"^DD",727.819,727.819,21,23,1,0)
DATE is defined by one of two methods. For sites running a version of 
"^DD",727.819,727.819,21,23,2,0)
Inpatient Medications prior to V. 4.5, DATE is defined by the DATE field 
"^DD",727.819,727.819,21,23,3,0)
(.01) of the DATE multiple (2) in the IV STATS file (#50.8). For sites 
"^DD",727.819,727.819,21,23,4,0)
running Inpatient Medications V. 4.5 or higher, DATE is defined by the 
"^DD",727.819,727.819,21,23,5,0)
DATE/TIME field (4) of the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,21,23,6,0)
  
"^DD",727.819,727.819,21,23,7,0)
Using the DATE and the patient pointer (DFN) stored in the PATIENT NO. - 
"^DD",727.819,727.819,21,23,8,0)
DFN field (4) in the IV DETAIL EXTRACT file (#727.819), a call is made 
"^DD",727.819,727.819,21,23,9,0)
to the Scheduling API, OUTPTTM^SDUTL3. The API returns the team's 
"^DD",727.819,727.819,21,23,10,0)
internal entry number and name from the TEAM file (#404.51). Only the 
"^DD",727.819,727.819,21,23,11,0)
pointer (IEN) to File 404.51 is transmitted.
"^DD",727.819,727.819,21,"DT")
2961104
"^DD",727.819,727.819,22,0)
PRIMARY CARE PROVIDER^F^^0;22^K:$L(X)>11!($L(X)<1) X
"^DD",727.819,727.819,22,.1)
Primary Care Provider
"^DD",727.819,727.819,22,3)
Enter primary care provider assigned to this patient.
"^DD",727.819,727.819,22,21,0)
^^1^1^2980708^^^^
"^DD",727.819,727.819,22,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.819,727.819,22,23,0)
^^13^13^2980708^^^^
"^DD",727.819,727.819,22,23,1,0)
DATE is defined by one of two methods. For sites running a version of 
"^DD",727.819,727.819,22,23,2,0)
Inpatient Medications prior to V. 4.5, DATE is defined by the DATE field 
"^DD",727.819,727.819,22,23,3,0)
(.01) of the DATE multiple (2) in the IV STATS file (#50.8). For sites 
"^DD",727.819,727.819,22,23,4,0)
running Inpatient Medications V. 4.5 or higher, DATE is defined by the 
"^DD",727.819,727.819,22,23,5,0)
DATE/TIME field (4) of the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,22,23,6,0)
  
"^DD",727.819,727.819,22,23,7,0)
Using the DATE and the patient pointer (DFN) stored in the PATIENT NO. - 
"^DD",727.819,727.819,22,23,8,0)
DFN field (4) in the IV DETAIL EXTRACT file (#727.819), a call is made 
"^DD",727.819,727.819,22,23,9,0)
to the Scheduling API, OUTPTPR^SDUTL3. The API returns the provider's 
"^DD",727.819,727.819,22,23,10,0)
internal entry number and name from the NEW PERSON file (#200). 
"^DD",727.819,727.819,22,23,11,0)
 
"^DD",727.819,727.819,22,23,12,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.819,727.819,22,23,13,0)
is "200".
"^DD",727.819,727.819,22,"DT")
2961017
"^DD",727.819,727.819,23,0)
IVP TIME^FO^^0;23^K:$L(X)>6!($L(X)<6) X
"^DD",727.819,727.819,23,.1)
IVP Time
"^DD",727.819,727.819,23,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.819,727.819,23,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.819,727.819,23,3)
Answer must be 6 characters in length.
"^DD",727.819,727.819,23,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,23,21,1,0)
A 6-character numeric string representing the time of day when the IV
"^DD",727.819,727.819,23,21,2,0)
medication was dispensed.
"^DD",727.819,727.819,23,23,0)
^^12^12^2970922^^^^
"^DD",727.819,727.819,23,23,1,0)
Data source:
"^DD",727.819,727.819,23,23,2,0)
 
"^DD",727.819,727.819,23,23,3,0)
For sites running a version prior to Inpatient Medications v4.5 --
"^DD",727.819,727.819,23,23,4,0)
IV STATS file (#50.8); DATE sub-file (#50.803); DATE field (#.01)
"^DD",727.819,727.819,23,23,5,0)
 
"^DD",727.819,727.819,23,23,6,0)
For sites running Inpatient Medications v4.5 or higher:
"^DD",727.819,727.819,23,23,7,0)
IV EXTRACT DATA file (#728.113); DATE/TIME field (#4)
"^DD",727.819,727.819,23,23,8,0)
which is set by routine PSIVSTAT and is always the current date/time,
"^DD",727.819,727.819,23,23,9,0)
i.e., NOW.
"^DD",727.819,727.819,23,23,10,0)
 
"^DD",727.819,727.819,23,23,11,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.819,727.819,23,23,12,0)
cannot be determined, then "000300" is used as default.
"^DD",727.819,727.819,23,"DT")
2970924
"^DD",727.819,727.819,24,0)
ADMISSION DATE^FO^^0;24^K:$L(X)>8!($L(X)<8) X
"^DD",727.819,727.819,24,.1)
Admission Date
"^DD",727.819,727.819,24,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.819,727.819,24,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.819,727.819,24,3)
Answer must be 8 characters in length.
"^DD",727.819,727.819,24,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,24,21,1,0)
An 8-character numeric string that represents the Admission date for
"^DD",727.819,727.819,24,21,2,0)
IV medications dispensed to inpatients.
"^DD",727.819,727.819,24,23,0)
^^10^10^2971113^^^^
"^DD",727.819,727.819,24,23,1,0)
Data source:
"^DD",727.819,727.819,24,23,2,0)
 
"^DD",727.819,727.819,24,23,3,0)
IV EXTRACT DATA file (#728.113); DFN field (#1)
"^DD",727.819,727.819,24,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.819,727.819,24,23,5,0)
 
"^DD",727.819,727.819,24,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.819,727.819,24,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.819,727.819,24,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.819,727.819,24,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.819,727.819,24,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.819,727.819,24,"DT")
2970924
"^DD",727.819,727.819,25,0)
ADMISSION TIME^FO^^0;25^K:$L(X)>6!($L(X)<6) X
"^DD",727.819,727.819,25,.1)
Admission Time
"^DD",727.819,727.819,25,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.819,727.819,25,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.819,727.819,25,3)
Answer must be 6 characters in length.
"^DD",727.819,727.819,25,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,25,21,1,0)
A 6-character numeric string that represents the time of the patient's
"^DD",727.819,727.819,25,21,2,0)
Admission for IV medications dispensed to inpatients.
"^DD",727.819,727.819,25,23,0)
^^7^7^2971113^^^^
"^DD",727.819,727.819,25,23,1,0)
Data source:
"^DD",727.819,727.819,25,23,2,0)
 
"^DD",727.819,727.819,25,23,3,0)
IV EXTRACT DATA file (#728.113); DFN field (#1)
"^DD",727.819,727.819,25,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.819,727.819,25,23,5,0)
 
"^DD",727.819,727.819,25,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.819,727.819,25,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.819,727.819,25,"DT")
2970924
"^DD",727.819,727.819,26,0)
DSS IDENTIFIER FOR ENCOUNTER^F^^0;26^K:$L(X)>6!($L(X)<6) X
"^DD",727.819,727.819,26,3)
Answer must be 6 characters in length.
"^DD",727.819,727.819,26,21,0)
^^3^3^2980925^^^^
"^DD",727.819,727.819,26,21,1,0)
If the IV was provided to an outpatient, this field contains the
"^DD",727.819,727.819,26,21,2,0)
DSS Identifier for the clinic associated with the outpatient
"^DD",727.819,727.819,26,21,3,0)
encounter.
"^DD",727.819,727.819,26,23,0)
1^^3^3^2980925^^
"^DD",727.819,727.819,26,23,1,0)
File #728.113 contains a pointer to HOSPITAL LOCATION (file #44).
"^DD",727.819,727.819,26,23,2,0)
Using this pointer, obtain the primary and secondary clinic
"^DD",727.819,727.819,26,23,3,0)
stop codes from the CLINIC AND STOP CODES file (#728.44).
"^DD",727.819,727.819,26,"DT")
2970922
"^DD",727.819,727.819,27,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.819,727.819,27,3)
Answer must be 1-10 characters in length.
"^DD",727.819,727.819,27,21,0)
^^1^1^2990504^
"^DD",727.819,727.819,27,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.819,727.819,27,23,0)
^^2^2^2990504^
"^DD",727.819,727.819,27,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.819,727.819,27,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.819,727.819,27,"DT")
2990504
"^DD",727.819,727.819,28,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.819,727.819,28,3)
Answer must be 4-10 characters in length.
"^DD",727.819,727.819,28,21,0)
^^1^1^2990506^
"^DD",727.819,727.819,28,21,1,0)
The DSS Department Code for the Pharmacy product.
"^DD",727.819,727.819,28,23,0)
^^2^2^2990506^
"^DD",727.819,727.819,28,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.819,727.819,28,23,2,0)
Field is set to null.
"^DD",727.819,727.819,28,"DT")
2990506
"^DD",727.819,727.819,29,0)
PC PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.819,727.819,29,3)
Answer must be 1-8 characters in length.
"^DD",727.819,727.819,29,21,0)
^^1^1^2990506^^^^
"^DD",727.819,727.819,29,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.819,727.819,29,23,0)
^^4^4^2990506^^
"^DD",727.819,727.819,29,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.819,727.819,29,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.819,727.819,29,23,3,0)
   
"^DD",727.819,727.819,29,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.819,727.819,29,"DT")
2990506
"^DD",727.819,727.819,30,0)
PC PROVIDER PERSON CLASS^F^^1;4^K:$L(X)>7!($L(X)<7) X
"^DD",727.819,727.819,30,3)
Answer must be 7 characters in length.
"^DD",727.819,727.819,30,21,0)
^^2^2^2981026^
"^DD",727.819,727.819,30,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.819,727.819,30,21,2,0)
associated with this record.
"^DD",727.819,727.819,30,23,0)
^^6^6^2981026^
"^DD",727.819,727.819,30,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.819,727.819,30,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.819,727.819,30,23,3,0)
extract record.
"^DD",727.819,727.819,30,23,4,0)
  
"^DD",727.819,727.819,30,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.819,727.819,30,23,6,0)
7 characters in length.
"^DD",727.819,727.819,30,"DT")
2981026
"^DD",727.819,727.819,31,0)
ASSOCIATE PC PROVIDER^F^^1;5^K:$L(X)>11!($L(X)<2) X
"^DD",727.819,727.819,31,3)
Answer must be 2-11 characters in length.
"^DD",727.819,727.819,31,21,0)
^^4^4^2990504^
"^DD",727.819,727.819,31,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.819,727.819,31,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.819,727.819,31,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.819,727.819,31,21,4,0)
character 2.
"^DD",727.819,727.819,31,23,0)
^^2^2^2990504^
"^DD",727.819,727.819,31,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.819,727.819,31,23,2,0)
the PCMM application.
"^DD",727.819,727.819,31,"DT")
2990504
"^DD",727.819,727.819,32,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;6^K:$L(X)>7!($L(X)<7) X
"^DD",727.819,727.819,32,3)
Answer must be 7 characters in length.
"^DD",727.819,727.819,32,21,0)
^^4^4^2990505^^
"^DD",727.819,727.819,32,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.819,727.819,32,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.819,727.819,32,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.819,727.819,32,21,4,0)
exactly 7 characters in length. 
"^DD",727.819,727.819,32,23,0)
^^3^3^2990505^^
"^DD",727.819,727.819,32,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.819,727.819,32,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.819,727.819,32,23,3,0)
PERS is the IEN from file #200.
"^DD",727.819,727.819,32,"DT")
2990504
"^DD",727.819,727.819,33,0)
ASSOCIATE PC PROVIDER NPI^F^^1;7^K:$L(X)>8!($L(X)<1) X
"^DD",727.819,727.819,33,3)
Answer must be 1-8 characters in length.
"^DD",727.819,727.819,33,21,0)
^^1^1^2990506^^
"^DD",727.819,727.819,33,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.819,727.819,33,23,0)
^^4^4^2990506^^
"^DD",727.819,727.819,33,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.819,727.819,33,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.819,727.819,33,23,3,0)
   
"^DD",727.819,727.819,33,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.819,727.819,33,"DT")
2990506
"^DD",727.819,727.819,34,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;8^K:$L(X)>1!($L(X)<1) X
"^DD",727.819,727.819,34,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.819,727.819,34,21,0)
^^5^5^3001019^
"^DD",727.819,727.819,34,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.819,727.819,34,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.819,727.819,34,21,3,0)
Domiciliary (DOM)
"^DD",727.819,727.819,34,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.819,727.819,34,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.819,727.819,34,"DT")
3001010
"^DD",727.819,727.819,35,0)
EXTENDED OP INDICATOR^F^^1;9^K:$L(X)>4!($L(X)<1) X
"^DD",727.819,727.819,35,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.819,727.819,35,21,0)
^^1^1^3001019^
"^DD",727.819,727.819,35,21,1,0)
Indicates that a patient is an Extended Outpatient
"^DD",727.819,727.819,35,"DT")
3000614
"^DD",727.823,727.823,0)
FIELD^^17^18
"^DD",727.823,727.823,0,"DDA")
N
"^DD",727.823,727.823,0,"DIK")
ECX823
"^DD",727.823,727.823,0,"DIKOLD")
ECX823
"^DD",727.823,727.823,0,"DT")
3000614
"^DD",727.823,727.823,0,"IX","AC",727.823,2)

"^DD",727.823,727.823,0,"NM","PAI EXTRACT")

"^DD",727.823,727.823,0,"VRPK")
ECX
"^DD",727.823,727.823,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.823,727.823,.01,.1)
Sequence Number
"^DD",727.823,727.823,.01,1,0)
^.1^^0
"^DD",727.823,727.823,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.823,727.823,.01,21,0)
^^1^1^2961008^^^^
"^DD",727.823,727.823,.01,21,1,0)
The record number for this extract entry.
"^DD",727.823,727.823,.01,23,0)
^^1^1^2961008^^^^
"^DD",727.823,727.823,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.823,727.823,.01,"DT")
2980812
"^DD",727.823,727.823,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.823,727.823,1,.1)
Year/Month
"^DD",727.823,727.823,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.823,727.823,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.823,727.823,1,3)
Answer must be 6 characters in length.
"^DD",727.823,727.823,1,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.823,727.823,1,21,2,0)
for which this extract was performed.
"^DD",727.823,727.823,1,23,0)
^^1^1^2970922^^^^
"^DD",727.823,727.823,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.823,727.823,1,"DT")
2970924
"^DD",727.823,727.823,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.823,727.823,2,.1)
Extract Number
"^DD",727.823,727.823,2,1,0)
^.1
"^DD",727.823,727.823,2,1,1,0)
727.823^AC
"^DD",727.823,727.823,2,1,1,1)
S ^ECX(727.823,"AC",$E(X,1,30),DA)=""
"^DD",727.823,727.823,2,1,1,2)
K ^ECX(727.823,"AC",$E(X,1,30),DA)
"^DD",727.823,727.823,2,1,1,3)
DO NOT DELETE.
"^DD",727.823,727.823,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.823,727.823,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.823,727.823,2,1,1,"%D",2,0)
in this file.
"^DD",727.823,727.823,2,1,1,"DT")
2910802
"^DD",727.823,727.823,2,3)
Enter the extract number for this extract.
"^DD",727.823,727.823,2,21,0)
^^2^2^2961008^^^^
"^DD",727.823,727.823,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.823,727.823,2,21,2,0)
extract.
"^DD",727.823,727.823,2,23,0)
^^2^2^2961008^^^^
"^DD",727.823,727.823,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.823,727.823,2,23,2,0)
pick up the header for the mail message.
"^DD",727.823,727.823,2,"DT")
2961008
"^DD",727.823,727.823,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.823,727.823,3,.1)
Facility
"^DD",727.823,727.823,3,3)
Enter the station number where this extract was performed.
"^DD",727.823,727.823,3,21,0)
^^1^1^2961014^^^^
"^DD",727.823,727.823,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.823,727.823,3,23,0)
^^1^1^2961014^^^^
"^DD",727.823,727.823,3,23,1,0)
For the PAI extract, the FACILITY field is null.
"^DD",727.823,727.823,3,"DT")
2961014
"^DD",727.823,727.823,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.823,727.823,4,.1)
Patient No. - DFN
"^DD",727.823,727.823,4,3)
Enter the name of the patient for this extract record.
"^DD",727.823,727.823,4,21,0)
^^1^1^2990504^^^^
"^DD",727.823,727.823,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.823,727.823,4,23,0)
^^2^2^2990504^^^^
"^DD",727.823,727.823,4,23,1,0)
Derived from the NAME field (.01) in the PAF file (#45.9). NAME is a 
"^DD",727.823,727.823,4,23,2,0)
pointer to the PATIENT file (#2). This data represents the patient DFN.
"^DD",727.823,727.823,4,"DT")
2961015
"^DD",727.823,727.823,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.823,727.823,5,.1)
Social Security Number
"^DD",727.823,727.823,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.823,727.823,5,21,0)
^^4^4^2990504^^^^
"^DD",727.823,727.823,5,21,1,0)
The patient's social security number.
"^DD",727.823,727.823,5,21,2,0)
 
"^DD",727.823,727.823,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.823,727.823,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.823,727.823,5,23,0)
^^6^6^2990504^^
"^DD",727.823,727.823,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.823,727.823,5,23,2,0)
in the PAI EXTRACT file (#727.823), SSN data is derived from the SOCIAL
"^DD",727.823,727.823,5,23,3,0)
SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.823,727.823,5,23,4,0)
 
"^DD",727.823,727.823,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.823,727.823,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.823,727.823,5,"DT")
2961008
"^DD",727.823,727.823,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.823,727.823,6,.1)
Name
"^DD",727.823,727.823,6,3)
Your answer must be 4 characters in length.
"^DD",727.823,727.823,6,21,0)
^^1^1^2961015^^^^
"^DD",727.823,727.823,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.823,727.823,6,23,0)
^^4^4^2961015^
"^DD",727.823,727.823,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.823,727.823,6,23,2,0)
in the PAI EXTRACT file (#727.823), NAME data is derived from the NAME
"^DD",727.823,727.823,6,23,3,0)
field (.01) in the PATIENT file (#2). The first four characters of the
"^DD",727.823,727.823,6,23,4,0)
first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.823,727.823,6,"DT")
2961008
"^DD",727.823,727.823,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.823,727.823,7,.1)
In Out Patient Indicator
"^DD",727.823,727.823,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.823,727.823,7,21,0)
^^2^2^2961015^^^^
"^DD",727.823,727.823,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.823,727.823,7,21,2,0)
extract entry.
"^DD",727.823,727.823,7,23,0)
^^2^2^2961015^^^^
"^DD",727.823,727.823,7,23,1,0)
For the PAI extract this field is set to 3, indicating inpatient status 
"^DD",727.823,727.823,7,23,2,0)
in the LOCATION TYPE file (#40.9).
"^DD",727.823,727.823,7,"DT")
2961008
"^DD",727.823,727.823,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.823,727.823,8,.1)
Day
"^DD",727.823,727.823,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,8,3)
Answer must be 8 characters in length.
"^DD",727.823,727.823,8,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,8,21,1,0)
A 6-character numeric string that represents tha date on which the
"^DD",727.823,727.823,8,21,2,0)
patient classification occurred.
"^DD",727.823,727.823,8,23,0)
^^9^9^2970923^^^^
"^DD",727.823,727.823,8,23,1,0)
Data source:
"^DD",727.823,727.823,8,23,2,0)
 
"^DD",727.823,727.823,8,23,3,0)
PAF file (#45.9); ASSESSMENT DATE field (#2)
"^DD",727.823,727.823,8,23,4,0)
 
"^DD",727.823,727.823,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.823,727.823,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.823,727.823,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.823,727.823,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.823,727.823,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.823,727.823,8,"DT")
2970924
"^DD",727.823,727.823,9,0)
ADMISSION DATE^RFO^^0;10^K:$L(X)>8!($L(X)<8) X
"^DD",727.823,727.823,9,.1)
Admission Date
"^DD",727.823,727.823,9,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,9,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,9,3)
Answer must be 8 characters in length.
"^DD",727.823,727.823,9,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,9,21,1,0)
This 8-character string represents the date on which the
"^DD",727.823,727.823,9,21,2,0)
patient Admission took place.
"^DD",727.823,727.823,9,23,0)
^^11^11^2971113^^^^
"^DD",727.823,727.823,9,23,1,0)
DATE.
"^DD",727.823,727.823,9,23,2,0)
Data source:
"^DD",727.823,727.823,9,23,3,0)
 
"^DD",727.823,727.823,9,23,4,0)
PAF file (#45.9); DATE OF ADMISSION/TRANSFER IN field (#7)
"^DD",727.823,727.823,9,23,5,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.823,727.823,9,23,6,0)
 
"^DD",727.823,727.823,9,23,7,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.823,727.823,9,23,8,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.823,727.823,9,23,9,0)
then a default is used.  The default date value is the value of the 
"^DD",727.823,727.823,9,23,10,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.823,727.823,9,23,11,0)
Year 2000 compliant per vendor.
"^DD",727.823,727.823,9,"DT")
2970924
"^DD",727.823,727.823,10,0)
ADMISSION TIME^FO^^0;11^K:$L(X)>6!($L(X)<6) X
"^DD",727.823,727.823,10,.1)
Admission Time
"^DD",727.823,727.823,10,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.823,727.823,10,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.823,727.823,10,3)
Answer must be 6 characters in length.
"^DD",727.823,727.823,10,21,0)
^^2^2^2970922^^^
"^DD",727.823,727.823,10,21,1,0)
A 6-character numeric string that represents the time of day
"^DD",727.823,727.823,10,21,2,0)
at which the patient Admission occurred.
"^DD",727.823,727.823,10,23,0)
^^12^12^2971113^^^^
"^DD",727.823,727.823,10,23,1,0)
Derived by using the DATE OF ADMISSION/TRANSFER IN field (7) in the 
"^DD",727.823,727.823,10,23,2,0)
PAF file (#45.9) to find the corresponding admission in the PATIENT 
"^DD",727.823,727.823,10,23,3,0)
MOVEMENT file (#405). The TIME portion of the DATE/TIME field (.01) 
"^DD",727.823,727.823,10,23,4,0)
for that admission in the PATIENT MOVEMENT file (#405) is the ADMISSION 
"^DD",727.823,727.823,10,23,5,0)
TIME, padded with trailing zeroes to six digits.
"^DD",727.823,727.823,10,23,6,0)
Data source:
"^DD",727.823,727.823,10,23,7,0)
 
"^DD",727.823,727.823,10,23,8,0)
PAF file (#45.9); DATE OF ADMISSION/TRANSFER IN field (#7)
"^DD",727.823,727.823,10,23,9,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.823,727.823,10,23,10,0)
 
"^DD",727.823,727.823,10,23,11,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.823,727.823,10,23,12,0)
cannot be determined, then "000300" is used as default.
"^DD",727.823,727.823,10,"DT")
2970924
"^DD",727.823,727.823,11,0)
TRANSFER/ADMISSION DATE^FO^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.823,727.823,11,.1)
Transfer/Admission Date
"^DD",727.823,727.823,11,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,11,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,11,3)
Answer must be 8 characters in length.
"^DD",727.823,727.823,11,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,11,21,1,0)
An 8-character numeric string that represents the date on which the
"^DD",727.823,727.823,11,21,2,0)
patient was admitted or transferred to the long-term ward.
"^DD",727.823,727.823,11,23,0)
^^9^9^2970923^^^^
"^DD",727.823,727.823,11,23,1,0)
Data source:
"^DD",727.823,727.823,11,23,2,0)
 
"^DD",727.823,727.823,11,23,3,0)
PAF file (#45.9); DATE OF ADMISSION/TRANSFER in field (#7)
"^DD",727.823,727.823,11,23,4,0)
 
"^DD",727.823,727.823,11,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.823,727.823,11,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.823,727.823,11,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.823,727.823,11,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.823,727.823,11,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.823,727.823,11,"DT")
2970924
"^DD",727.823,727.823,12,0)
TRANSFER/ADMISSION TIME^FO^^0;13^K:$L(X)>6!($L(X)<6) X
"^DD",727.823,727.823,12,.1)
Transfer/Admission Time
"^DD",727.823,727.823,12,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.823,727.823,12,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.823,727.823,12,3)
Answer must be 6 characters in length.
"^DD",727.823,727.823,12,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,12,21,1,0)
A 6-character numeric string that represents the time of day at which
"^DD",727.823,727.823,12,21,2,0)
the patient's admission or transfer to the long-term ward occurred.
"^DD",727.823,727.823,12,23,0)
^^6^6^2970922^^^^
"^DD",727.823,727.823,12,23,1,0)
Data source:
"^DD",727.823,727.823,12,23,2,0)
 
"^DD",727.823,727.823,12,23,3,0)
PAF file (#45.9); DATE OF ADMISSION/TRANSFER in field (#7)
"^DD",727.823,727.823,12,23,4,0)
 
"^DD",727.823,727.823,12,23,5,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.823,727.823,12,23,6,0)
cannot be determined, then "000300" is used as default.
"^DD",727.823,727.823,12,"DT")
2970924
"^DD",727.823,727.823,13,0)
RACE^F^^0;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.823,727.823,13,.1)
Race
"^DD",727.823,727.823,13,3)
Enter race ABBREVIATION for this patient.
"^DD",727.823,727.823,13,21,0)
^^1^1^2961015^^
"^DD",727.823,727.823,13,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.823,727.823,13,23,0)
^^3^3^2961015^
"^DD",727.823,727.823,13,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.823,727.823,13,23,2,0)
RACE data is shown as the ABBREVIATION field (2) of the RACE file (#10)
"^DD",727.823,727.823,13,23,3,0)
entry pointed to by the RACE field (.06) in the PATIENT file (#2).
"^DD",727.823,727.823,13,"DT")
2961015
"^DD",727.823,727.823,14,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.823,727.823,14,3)
Answer must be 1-10 characters in length.
"^DD",727.823,727.823,14,21,0)
^^1^1^2990504^
"^DD",727.823,727.823,14,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.823,727.823,14,23,0)
^^2^2^2990504^
"^DD",727.823,727.823,14,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.823,727.823,14,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.823,727.823,14,"DT")
2990504
"^DD",727.823,727.823,15,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.823,727.823,15,3)
Answer must be 4-10 characters in length.
"^DD",727.823,727.823,15,21,0)
^^1^1^2990506^^^
"^DD",727.823,727.823,15,21,1,0)
The DSS Department Code for the patient care product.
"^DD",727.823,727.823,15,23,0)
^^2^2^2990506^^
"^DD",727.823,727.823,15,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.823,727.823,15,23,2,0)
Field is set to null.
"^DD",727.823,727.823,15,"DT")
2990506
"^DD",727.823,727.823,16,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;3^K:$L(X)>1!($L(X)<1) X
"^DD",727.823,727.823,16,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.823,727.823,16,21,0)
^^8^8^3001011^
"^DD",727.823,727.823,16,21,1,0)
 
"^DD",727.823,727.823,16,21,2,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is
"^DD",727.823,727.823,16,21,3,0)
admitted to either a DOM, PRRTP or SAARTP at the time hospital
"^DD",727.823,727.823,16,21,4,0)
service is provided.
"^DD",727.823,727.823,16,21,5,0)
Domiciliary
"^DD",727.823,727.823,16,21,6,0)
(DOM)
"^DD",727.823,727.823,16,21,7,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.823,727.823,16,21,8,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.823,727.823,16,"DT")
3001010
"^DD",727.823,727.823,17,0)
EXTENDED OP INDICATOR^F^^1;4^K:$L(X)>4!($L(X)<1) X
"^DD",727.823,727.823,17,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.823,727.823,17,21,0)
^.001^1^1^3001012^^
"^DD",727.823,727.823,17,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.823,727.823,17,"DT")
3000614
"^DD",727.824,727.824,0)
FIELD^^24^24
"^DD",727.824,727.824,0,"DDA")
N
"^DD",727.824,727.824,0,"DIK")
ECX824
"^DD",727.824,727.824,0,"DIKOLD")
ECX824
"^DD",727.824,727.824,0,"DT")
3000614
"^DD",727.824,727.824,0,"IX","AC",727.824,2)

"^DD",727.824,727.824,0,"NM","LAB RESULTS EXTRACT")

"^DD",727.824,727.824,0,"VRPK")
ECX
"^DD",727.824,727.824,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.824,727.824,.01,.1)
Sequence Number
"^DD",727.824,727.824,.01,1,0)
^.1^^0
"^DD",727.824,727.824,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.824,727.824,.01,21,0)
^^1^1^2961009^^^^
"^DD",727.824,727.824,.01,21,1,0)
The record number for this extract entry.
"^DD",727.824,727.824,.01,23,0)
^^1^1^2961009^^^
"^DD",727.824,727.824,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.824,727.824,.01,"DT")
2980812
"^DD",727.824,727.824,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.824,727.824,1,.1)
Year/Month
"^DD",727.824,727.824,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.824,727.824,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.824,727.824,1,3)
Answer must be 6 characters in length.
"^DD",727.824,727.824,1,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.824,727.824,1,21,2,0)
for which this extract was performed.
"^DD",727.824,727.824,1,23,0)
^^1^1^2970923^^^^
"^DD",727.824,727.824,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.824,727.824,1,"DT")
2970924
"^DD",727.824,727.824,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.824,727.824,2,.1)
Extract Number
"^DD",727.824,727.824,2,1,0)
^.1
"^DD",727.824,727.824,2,1,1,0)
727.824^AC
"^DD",727.824,727.824,2,1,1,1)
S ^ECX(727.824,"AC",$E(X,1,30),DA)=""
"^DD",727.824,727.824,2,1,1,2)
K ^ECX(727.824,"AC",$E(X,1,30),DA)
"^DD",727.824,727.824,2,1,1,3)
DO NOT DELETE.
"^DD",727.824,727.824,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.824,727.824,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.824,727.824,2,1,1,"%D",2,0)
in this file.
"^DD",727.824,727.824,2,1,1,"DT")
2910802
"^DD",727.824,727.824,2,3)
Enter the extract number for this extract.
"^DD",727.824,727.824,2,21,0)
^^2^2^2961009^^^^
"^DD",727.824,727.824,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.824,727.824,2,21,2,0)
extract.
"^DD",727.824,727.824,2,23,0)
^^2^2^2961009^^^^
"^DD",727.824,727.824,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.824,727.824,2,23,2,0)
pick up the header for the mail message.
"^DD",727.824,727.824,2,"DT")
2961009
"^DD",727.824,727.824,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.824,727.824,3,.1)
Facility
"^DD",727.824,727.824,3,3)
Enter the station number where this extract was performed.
"^DD",727.824,727.824,3,21,0)
^^1^1^2961009^^^^
"^DD",727.824,727.824,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.824,727.824,3,23,0)
^^4^4^2961009^^^
"^DD",727.824,727.824,3,23,1,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.824,727.824,3,23,2,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.824,727.824,3,23,3,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.824,727.824,3,23,4,0)
the INSTITUTION file (#4).
"^DD",727.824,727.824,3,"DT")
2961018
"^DD",727.824,727.824,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.824,727.824,4,.1)
Patient No. - DFN
"^DD",727.824,727.824,4,3)
Enter the name of the patient for this extract record.
"^DD",727.824,727.824,4,21,0)
^^1^1^2990504^^^^
"^DD",727.824,727.824,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.824,727.824,4,23,0)
^^3^3^2990504^^^^
"^DD",727.824,727.824,4,23,1,0)
Pointer to the NAME field (.01) of the PATIENT file (#2). This data 
"^DD",727.824,727.824,4,23,2,0)
represents the patient DFN. PATIENT NO. - DFN data is derived from the
"^DD",727.824,727.824,4,23,3,0)
NAME field (.03) in the LAB DATA file.(#63)
"^DD",727.824,727.824,4,"DT")
2961018
"^DD",727.824,727.824,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.824,727.824,5,.1)
Social Security Number
"^DD",727.824,727.824,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.824,727.824,5,21,0)
^^4^4^2990504^^^^
"^DD",727.824,727.824,5,21,1,0)
The patient's social security number.
"^DD",727.824,727.824,5,21,2,0)
 
"^DD",727.824,727.824,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.824,727.824,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.824,727.824,5,23,0)
^^6^6^2990504^^
"^DD",727.824,727.824,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT No. - DFN field (4)
"^DD",727.824,727.824,5,23,2,0)
in the LAB RESULTS EXTRACT file (#727.824), SSN data is derived from the
"^DD",727.824,727.824,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.824,727.824,5,23,4,0)
 
"^DD",727.824,727.824,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.824,727.824,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.824,727.824,5,"DT")
2961009
"^DD",727.824,727.824,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.824,727.824,6,.1)
Name
"^DD",727.824,727.824,6,3)
Your answer must be 4 characters in length.
"^DD",727.824,727.824,6,21,0)
^^1^1^2961018^^^^
"^DD",727.824,727.824,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.824,727.824,6,23,0)
^^4^4^2961018^
"^DD",727.824,727.824,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT No. - DFN field (4)
"^DD",727.824,727.824,6,23,2,0)
in the LAB RESULTS EXTRACT file (#727.824), NAME data is derived from the
"^DD",727.824,727.824,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.824,727.824,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.824,727.824,6,"DT")
2961009
"^DD",727.824,727.824,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.824,727.824,7,.1)
In Out Patient Indicator
"^DD",727.824,727.824,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.824,727.824,7,21,0)
^^2^2^2961009^^^^
"^DD",727.824,727.824,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.824,727.824,7,21,2,0)
extract entry.
"^DD",727.824,727.824,7,23,0)
^^4^4^2961009^^^
"^DD",727.824,727.824,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.824,727.824,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.824,727.824,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.824,727.824,7,23,4,0)
inpatient status.
"^DD",727.824,727.824,7,"DT")
2961009
"^DD",727.824,727.824,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.824,727.824,8,.1)
Day
"^DD",727.824,727.824,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,8,3)
Answer must be 8 characters in length.
"^DD",727.824,727.824,8,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,8,21,1,0)
An 8-character numeric string that represents the date on which
"^DD",727.824,727.824,8,21,2,0)
the Laboratory test result was ready for reporting.
"^DD",727.824,727.824,8,23,0)
^^12^12^2971113^^^^
"^DD",727.824,727.824,8,23,1,0)
Data source:
"^DD",727.824,727.824,8,23,2,0)
 
"^DD",727.824,727.824,8,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,8,23,4,0)
   
"^DD",727.824,727.824,8,23,5,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,8,23,6,0)
   DATE REPORT COMPLETED field (#.03)
"^DD",727.824,727.824,8,23,7,0)
 
"^DD",727.824,727.824,8,23,8,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.824,727.824,8,23,9,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.824,727.824,8,23,10,0)
then a default is used.  The default date value is the value of the 
"^DD",727.824,727.824,8,23,11,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.824,727.824,8,23,12,0)
Year 2000 compliant per vendor.
"^DD",727.824,727.824,8,"DT")
2970924
"^DD",727.824,727.824,9,0)
TEST CODE^RF^^0;10^K:$L(X)>4!($L(X)<4)!'(X?4N) X
"^DD",727.824,727.824,9,.1)
Test Code
"^DD",727.824,727.824,9,3)
Your answer must be 4 characters in length.
"^DD",727.824,727.824,9,21,0)
^^1^1^2990511^^^^
"^DD",727.824,727.824,9,21,1,0)
The coded value of the lab test as specified by the vendor.
"^DD",727.824,727.824,9,23,0)
^^4^4^2990511^^^^
"^DD",727.824,727.824,9,23,1,0)
The internal entry number of the test in the DSS LAB TEST multiple
"^DD",727.824,727.824,9,23,2,0)
field (#1), sub-file #727.21, of the DSS LAB TESTS file (#727.2).
"^DD",727.824,727.824,9,23,3,0)
The IEN is padded on the left with zeroes so that the data element
"^DD",727.824,727.824,9,23,4,0)
is always exactly 4 digits.
"^DD",727.824,727.824,9,"DT")
2961009
"^DD",727.824,727.824,10,0)
RESULTS^NJ10,4^^0;11^K:+X'=X!(X>10000)!(X<-10000)!(X?.E1"."5N.N) X
"^DD",727.824,727.824,10,.1)
Results
"^DD",727.824,727.824,10,3)
Enter a number between -10000 and 10000, 4 decimal digits.
"^DD",727.824,727.824,10,21,0)
^^1^1^2961009^^
"^DD",727.824,727.824,10,21,1,0)
The result of the lab test.
"^DD",727.824,727.824,10,23,0)
^^3^3^2961009^
"^DD",727.824,727.824,10,23,1,0)
Results of the test identified in the CHEM, HEM, TOX, RIA, SER, etc. 
"^DD",727.824,727.824,10,23,2,0)
multiple (4) within the LAB DATA file (#63). (First "^" piece of 
"^DD",727.824,727.824,10,23,3,0)
^LR(LRDFN,"CH",INVERSE_DATE,TEST_IEN).)
"^DD",727.824,727.824,10,"DT")
2961009
"^DD",727.824,727.824,12,0)
HI/LO INDICATOR^S^H:HIGH;L:LOW;^0;12^Q
"^DD",727.824,727.824,12,.1)
Hi/Lo Indicator
"^DD",727.824,727.824,12,3)
Enter H for high or L for low.
"^DD",727.824,727.824,12,21,0)
^^1^1^2961009^^
"^DD",727.824,727.824,12,21,1,0)
An indication of whether the results were abnormally high or low.
"^DD",727.824,727.824,12,23,0)
^^3^3^2961009^
"^DD",727.824,727.824,12,23,1,0)
Results indicator of the test identified in the CHEM, HEM, TOX, RIA, 
"^DD",727.824,727.824,12,23,2,0)
SER, etc. multiple (4) within the LAB DATA file (#63). (Second "^" 
"^DD",727.824,727.824,12,23,3,0)
piece of ^LR(LRDFN,"CH",INVERSE_DATE,TEST_IEN).)
"^DD",727.824,727.824,12,"DT")
2961009
"^DD",727.824,727.824,13,0)
DATE ORDERED^FO^^0;13^K:$L(X)>8!($L(X)<8) X
"^DD",727.824,727.824,13,.1)
Date Ordered
"^DD",727.824,727.824,13,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,13,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,13,3)
Answer must be 8 characters in length.
"^DD",727.824,727.824,13,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,13,21,1,0)
An 8-character numeric string that represents the date on which
"^DD",727.824,727.824,13,21,2,0)
the Laboratory test was ordered.
"^DD",727.824,727.824,13,23,0)
^^12^12^2971113^^^^
"^DD",727.824,727.824,13,23,1,0)
Data source:
"^DD",727.824,727.824,13,23,2,0)
 
"^DD",727.824,727.824,13,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,13,23,4,0)
   
"^DD",727.824,727.824,13,23,5,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,13,23,6,0)
   DATE/TIME SPECIMEN TAKEN field (#.01)
"^DD",727.824,727.824,13,23,7,0)
 
"^DD",727.824,727.824,13,23,8,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.824,727.824,13,23,9,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.824,727.824,13,23,10,0)
then a default is used.  The default date value is the value of the 
"^DD",727.824,727.824,13,23,11,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.824,727.824,13,23,12,0)
Year 2000 compliant per vendor.
"^DD",727.824,727.824,13,"DT")
2970924
"^DD",727.824,727.824,14,0)
TIME ORDERED^FO^^0;14^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.824,727.824,14,.1)
Time Ordered
"^DD",727.824,727.824,14,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.824,727.824,14,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.824,727.824,14,3)
Answer must be 6 characters in length
"^DD",727.824,727.824,14,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,14,21,1,0)
A 6-character numeric string that represents the time of day at which
"^DD",727.824,727.824,14,21,2,0)
the Laboratory test was ordered.
"^DD",727.824,727.824,14,23,0)
^^8^8^2970923^^^^
"^DD",727.824,727.824,14,23,1,0)
Data source:
"^DD",727.824,727.824,14,23,2,0)
 
"^DD",727.824,727.824,14,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,14,23,4,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,14,23,5,0)
   DATE/TIME SPECIMEN TAKEN field (#.01)
"^DD",727.824,727.824,14,23,6,0)
 
"^DD",727.824,727.824,14,23,7,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.824,727.824,14,23,8,0)
cannot be determined, then "000300" is used as default.
"^DD",727.824,727.824,14,"DT")
2970924
"^DD",727.824,727.824,15,0)
DATE RESULTS READY^FO^^0;15^K:$L(X)>8!($L(X)<8) X
"^DD",727.824,727.824,15,.1)
Date Results Ready
"^DD",727.824,727.824,15,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,15,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,15,3)
Answer must be 8 characters in length.
"^DD",727.824,727.824,15,21,0)
^^2^2^2970923^^^
"^DD",727.824,727.824,15,21,1,0)
An 8-character numeric string that represents the date on which
"^DD",727.824,727.824,15,21,2,0)
the Laboratory test result was ready for reporting.
"^DD",727.824,727.824,15,23,0)
^^12^12^2971113^^^^
"^DD",727.824,727.824,15,23,1,0)
Data source:
"^DD",727.824,727.824,15,23,2,0)
 
"^DD",727.824,727.824,15,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,15,23,4,0)
  
"^DD",727.824,727.824,15,23,5,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,15,23,6,0)
   DATE REPORT COMPLETED field (#.03)
"^DD",727.824,727.824,15,23,7,0)
 
"^DD",727.824,727.824,15,23,8,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.824,727.824,15,23,9,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.824,727.824,15,23,10,0)
then a default is used.  The default date value is the value of the 
"^DD",727.824,727.824,15,23,11,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.824,727.824,15,23,12,0)
Year 2000 compliant per vendor.
"^DD",727.824,727.824,15,"DT")
2970924
"^DD",727.824,727.824,16,0)
TIME RESULTS READY^RFO^^0;16^K:$L(X)>6!($L(X)<6) X
"^DD",727.824,727.824,16,.1)
Time Results Ready
"^DD",727.824,727.824,16,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.824,727.824,16,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.824,727.824,16,3)
Answer must be 6 characters in length.
"^DD",727.824,727.824,16,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,16,21,1,0)
A 6-character numeric string that represents the time of day at
"^DD",727.824,727.824,16,21,2,0)
which the Laboratory test result was ready for reporting.
"^DD",727.824,727.824,16,23,0)
^^9^9^2971113^^^^
"^DD",727.824,727.824,16,23,1,0)
Data source:
"^DD",727.824,727.824,16,23,2,0)
 
"^DD",727.824,727.824,16,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,16,23,4,0)
   
"^DD",727.824,727.824,16,23,5,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,16,23,6,0)
   DATE REPORT COMPLETED field (#.03)
"^DD",727.824,727.824,16,23,7,0)
 
"^DD",727.824,727.824,16,23,8,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.824,727.824,16,23,9,0)
cannot be determined, then "000300" is used as default.
"^DD",727.824,727.824,16,"DT")
2970924
"^DD",727.824,727.824,17,0)
MOVEMENT FILE #^P405'^DGPM(^0;17^Q
"^DD",727.824,727.824,17,.1)
Movement File Number
"^DD",727.824,727.824,17,3)
Enter the patient movement number associated with this extract record.
"^DD",727.824,727.824,17,21,0)
^^1^1^2961009^
"^DD",727.824,727.824,17,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.824,727.824,17,23,0)
^^4^4^2961009^
"^DD",727.824,727.824,17,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.824,727.824,17,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.824,727.824,17,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.824,727.824,17,23,4,0)
(#405).
"^DD",727.824,727.824,17,"DT")
2961009
"^DD",727.824,727.824,18,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;18^Q
"^DD",727.824,727.824,18,.1)
Treating Specialty
"^DD",727.824,727.824,18,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.824,727.824,18,21,0)
^^1^1^2961009^
"^DD",727.824,727.824,18,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.824,727.824,18,23,0)
^^6^6^2961009^
"^DD",727.824,727.824,18,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.824,727.824,18,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.824,727.824,18,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.824,727.824,18,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.824,727.824,18,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.824,727.824,18,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.824,727.824,18,"DT")
2961009
"^DD",727.824,727.824,19,0)
WORKLOAD CODE^F^^0;19^K:$L(X)>10!($L(X)<1) X
"^DD",727.824,727.824,19,.1)
Workload Code
"^DD",727.824,727.824,19,3)
Enter the workload code for this event.
"^DD",727.824,727.824,19,21,0)
^^1^1^2990511^^^^
"^DD",727.824,727.824,19,21,1,0)
The workload code for this event which corresponds to a CAP code.
"^DD",727.824,727.824,19,23,0)
^^4^4^2990511^^^^
"^DD",727.824,727.824,19,23,1,0)
WKLD CODE field (1) of the WKLD CODE file (#64) as pointed to by the 
"^DD",727.824,727.824,19,23,2,0)
NATIONAL VA LAB CODE field (64) of the LABORATORY TEST file (#60) as
"^DD",727.824,727.824,19,23,3,0)
pointed to by the LOCAL LAB TEST NAME field (1) multiple within the DSS
"^DD",727.824,727.824,19,23,4,0)
LAB TEST field (1) multiple of the DSS LAB TESTS file (#727.2).
"^DD",727.824,727.824,19,"DT")
2961018
"^DD",727.824,727.824,20,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.824,727.824,20,3)
Answer must be 1-10 characters in length.
"^DD",727.824,727.824,20,21,0)
^^1^1^2990504^
"^DD",727.824,727.824,20,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.824,727.824,20,23,0)
^^2^2^2990504^
"^DD",727.824,727.824,20,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.824,727.824,20,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.824,727.824,20,"DT")
2990504
"^DD",727.824,727.824,21,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.824,727.824,21,3)
Answer must be 4-10 characters in length.
"^DD",727.824,727.824,21,21,0)
^^1^1^2990506^^^
"^DD",727.824,727.824,21,21,1,0)
The DSS Department Code for the Laboratory product.
"^DD",727.824,727.824,21,23,0)
^^2^2^2990506^^
"^DD",727.824,727.824,21,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.824,727.824,21,23,2,0)
Field is set to null.
"^DD",727.824,727.824,21,"DT")
2990506
"^DD",727.824,727.824,22,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;3^K:$L(X)>1!($L(X)<1) X
"^DD",727.824,727.824,22,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.824,727.824,22,21,0)
^^5^5^3001020^
"^DD",727.824,727.824,22,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.824,727.824,22,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.824,727.824,22,21,3,0)
Domiciliary (DOM)
"^DD",727.824,727.824,22,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.824,727.824,22,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.824,727.824,22,"DT")
3001010
"^DD",727.824,727.824,23,0)
TIME COLLECTED^F^^1;4^K:$L(X)>6!($L(X)<1) X
"^DD",727.824,727.824,23,3)
Answer must be 1-6 characters in length.
"^DD",727.824,727.824,23,21,0)
^^1^1^3001020^
"^DD",727.824,727.824,23,21,1,0)
Time of day specimen was collected.
"^DD",727.824,727.824,23,"DT")
3000614
"^DD",727.824,727.824,24,0)
EXTENDED OUTPATIENT INDICATOR^F^^1;5^K:$L(X)>4!($L(X)<1) X
"^DD",727.824,727.824,24,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.824,727.824,24,21,0)
^^1^1^3001020^
"^DD",727.824,727.824,24,21,1,0)
Indicates that a patient is an Extended Outpatient
"^DD",727.824,727.824,24,"DT")
3000614
"^DD",727.825,727.825,0)
FIELD^^61^61
"^DD",727.825,727.825,0,"DDA")
N
"^DD",727.825,727.825,0,"DIK")
ECX825
"^DD",727.825,727.825,0,"DIKOLD")
ECX825
"^DD",727.825,727.825,0,"DT")
3000802
"^DD",727.825,727.825,0,"IX","AC",727.815,2)

"^DD",727.825,727.825,0,"IX","AC",727.825,2)

"^DD",727.825,727.825,0,"NM","QUASAR EXTRACT")

"^DD",727.825,727.825,0,"VRPK")
ECX
"^DD",727.825,727.825,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.825,727.825,.01,.1)
Sequence Number
"^DD",727.825,727.825,.01,1,0)
^.1^^0
"^DD",727.825,727.825,.01,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",727.825,727.825,.01,21,0)
^^1^1^2960401^^^^
"^DD",727.825,727.825,.01,21,1,0)
The record number for this extract entry.
"^DD",727.825,727.825,.01,23,0)
^^2^2^2960401^^^^
"^DD",727.825,727.825,.01,23,1,0)
The internal entry number (IEN) for this record.
"^DD",727.825,727.825,.01,23,2,0)
This entry is DINUMed.
"^DD",727.825,727.825,.01,"DT")
2980812
"^DD",727.825,727.825,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.825,727.825,1,.1)
Year/Month
"^DD",727.825,727.825,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.825,727.825,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.825,727.825,1,3)
Answer must be 6 characters in length.
"^DD",727.825,727.825,1,21,0)
^^2^2^2970922^^^^
"^DD",727.825,727.825,1,21,1,0)
A six character string representing the year and the month
"^DD",727.825,727.825,1,21,2,0)
for which this extract was performed.
"^DD",727.825,727.825,1,23,0)
^^1^1^2970922^^^^
"^DD",727.825,727.825,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.825,727.825,1,"DT")
2970924
"^DD",727.825,727.825,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.825,727.825,2,.1)
Extract Number
"^DD",727.825,727.825,2,1,0)
^.1
"^DD",727.825,727.825,2,1,1,0)
727.815^AC
"^DD",727.825,727.825,2,1,1,1)
S ^ECX(727.825,"AC",$E(X,1,30),DA)=""
"^DD",727.825,727.825,2,1,1,2)
K ^ECX(727.825,"AC",$E(X,1,30),DA)
"^DD",727.825,727.825,2,1,1,3)
DO NOT DELETE
"^DD",727.825,727.825,2,1,1,"%D",0)
^.101^2^2^3001024^^
"^DD",727.825,727.825,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.825,727.825,2,1,1,"%D",2,0)
in this file.
"^DD",727.825,727.825,2,1,1,"DT")
2910802
"^DD",727.825,727.825,2,3)
Enter the extract number for this extract.
"^DD",727.825,727.825,2,21,0)
^^1^1^2970603^^^^
"^DD",727.825,727.825,2,21,1,0)
The DSS extract log entry for this Event Capture extract.
"^DD",727.825,727.825,2,21,2,0)
for this extract.
"^DD",727.825,727.825,2,23,0)
^^2^2^2970603^^^^
"^DD",727.825,727.825,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose
"^DD",727.825,727.825,2,23,2,0)
is to pick up the header for the mail message.
"^DD",727.825,727.825,2,"DT")
2950317
"^DD",727.825,727.825,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,3,.1)
Facility
"^DD",727.825,727.825,3,3)
Enter the station number where this extract was performed.
"^DD",727.825,727.825,3,21,0)
1^^1^1^2960401^^^
"^DD",727.825,727.825,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.825,727.825,3,23,0)
^^3^3^2960401^^^^
"^DD",727.825,727.825,3,23,1,0)
A free text field that represents the STATION NUMBER field (99)
"^DD",727.825,727.825,3,23,2,0)
from the INSTITUTION file (#4). It is derived from the LOCATION
"^DD",727.825,727.825,3,23,3,0)
field (3) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,3,"DT")
2951204
"^DD",727.825,727.825,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.825,727.825,4,.1)
Patient No. - DFN
"^DD",727.825,727.825,4,3)
Enter the name of the patient for this extract record.
"^DD",727.825,727.825,4,21,0)
1^^1^1^2990504^^^^
"^DD",727.825,727.825,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.825,727.825,4,23,0)
^^3^3^2990504^^^^
"^DD",727.825,727.825,4,23,1,0)
A pointer to the PATIENT file (#2). This patient pointer is
"^DD",727.825,727.825,4,23,2,0)
pulled from the PATIENT field (1) in the EVENT CAPTURE
"^DD",727.825,727.825,4,23,3,0)
PATIENT file (#721).
"^DD",727.825,727.825,4,23,4,0)
PATIENT file (#2).
"^DD",727.825,727.825,4,"DT")
2971030
"^DD",727.825,727.825,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.825,727.825,5,.1)
Social Security Number
"^DD",727.825,727.825,5,3)
Enter the social security number for this patient's extract record.
"^DD",727.825,727.825,5,21,0)
^^5^5^2990504^^^^
"^DD",727.825,727.825,5,21,1,0)
The social security number (SSN) for the patient associated
"^DD",727.825,727.825,5,21,2,0)
with this extract record.
"^DD",727.825,727.825,5,21,3,0)
 
"^DD",727.825,727.825,5,21,4,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.825,727.825,5,21,5,0)
patient" and will not be included in the extract.  
"^DD",727.825,727.825,5,23,0)
^^5^5^2990504^^^^
"^DD",727.825,727.825,5,23,1,0)
The social security number extracted from the SSN field (.09)
"^DD",727.825,727.825,5,23,2,0)
from the PATIENT file (#2).
"^DD",727.825,727.825,5,23,3,0)
 
"^DD",727.825,727.825,5,23,4,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.825,727.825,5,23,5,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.825,727.825,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.825,727.825,5,"DT")
2910802
"^DD",727.825,727.825,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.825,727.825,6,.1)
Name
"^DD",727.825,727.825,6,3)
Enter the first four characters of this patients last name.
"^DD",727.825,727.825,6,21,0)
^^2^2^2960401^^^^
"^DD",727.825,727.825,6,21,1,0)
The first four characters of the patient's last name associated
"^DD",727.825,727.825,6,21,2,0)
with this extract record.
"^DD",727.825,727.825,6,23,0)
^^4^4^2960401^^^
"^DD",727.825,727.825,6,23,1,0)
Free text first four characters of the patients last name.
"^DD",727.825,727.825,6,23,2,0)
This is extracted from the patient's name stored in the
"^DD",727.825,727.825,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). If necessary,
"^DD",727.825,727.825,6,23,4,0)
trailing spaces are padded to equal 4 characters.
"^DD",727.825,727.825,6,"DT")
2910802
"^DD",727.825,727.825,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.825,727.825,7,.1)
In Out Patient Indicator
"^DD",727.825,727.825,7,3)
Enter 1 for outpatient or 3 for inpatient.
"^DD",727.825,727.825,7,21,0)
^^2^2^2960401^^^^
"^DD",727.825,727.825,7,21,1,0)
This indicates whether this patient was an inpatient or an 
"^DD",727.825,727.825,7,21,2,0)
outpatient for this extract record.
"^DD",727.825,727.825,7,23,0)
^^3^3^2960401^^^^
"^DD",727.825,727.825,7,23,1,0)
A pointer to the LOCATION TYPE file (#40.9).
"^DD",727.825,727.825,7,23,2,0)
This field will be a 3 if the patient was listed as an inpatient
"^DD",727.825,727.825,7,23,3,0)
for this record. The field will be a 1 if listed as an outpatient.
"^DD",727.825,727.825,7,23,4,0)
inpatient status.
"^DD",727.825,727.825,7,"DT")
2910802
"^DD",727.825,727.825,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.825,727.825,8,.1)
Day
"^DD",727.825,727.825,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.825,727.825,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.825,727.825,8,3)
Answer must be 8 characters in length.
"^DD",727.825,727.825,8,21,0)
^^3^3^2970922^^^^
"^DD",727.825,727.825,8,21,1,0)
This 8-character string represents the date on which the procedure
"^DD",727.825,727.825,8,21,2,0)
associated with this Event Capture Patient extract record
"^DD",727.825,727.825,8,21,3,0)
was performed.
"^DD",727.825,727.825,8,23,0)
^^9^9^2970923^^^^
"^DD",727.825,727.825,8,23,1,0)
The day when this event occurred. Date is pulled from the
"^DD",727.825,727.825,8,23,2,0)
DATE/TIME OF PROCEDURE field (2) in the EVENT CAPTURE
"^DD",727.825,727.825,8,23,3,0)
PATIENT file (#721). 
"^DD",727.825,727.825,8,23,4,0)
 
"^DD",727.825,727.825,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.825,727.825,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.825,727.825,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.825,727.825,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.825,727.825,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.825,727.825,8,"DT")
2970924
"^DD",727.825,727.825,9,0)
DSS UNIT^P724'^ECD(^0;10^Q
"^DD",727.825,727.825,9,.1)
DSS Unit
"^DD",727.825,727.825,9,3)
Enter the name of the DSS unit for this extract record.
"^DD",727.825,727.825,9,21,0)
^^1^1^2990702^^^
"^DD",727.825,727.825,9,21,1,0)
This is the name of the DSS unit for this extract record.
"^DD",727.825,727.825,9,23,0)
^^3^3^2990702^^^^
"^DD",727.825,727.825,9,23,1,0)
A pointer to the DSS UNIT file (#724). DSS unit pointer
"^DD",727.825,727.825,9,23,2,0)
is pulled from the DSS UNIT field (6) in the EVENT CAPTURE
"^DD",727.825,727.825,9,23,3,0)
PATIENT file (#721).
"^DD",727.825,727.825,9,23,4,0)
(#509850.8).
"^DD",727.825,727.825,9,"DT")
2910828
"^DD",727.825,727.825,10,0)
CATEGORY^F^^0;11^K:$L(X)>6!($L(X)<1) X
"^DD",727.825,727.825,10,.1)
Category
"^DD",727.825,727.825,10,3)
Answer must be 1-6 characters in length.
"^DD",727.825,727.825,10,21,0)
1^^2^2^2970911^^^
"^DD",727.825,727.825,10,21,1,0)
This field contains the IEN in file #726 for the Category associated
"^DD",727.825,727.825,10,21,2,0)
with this extract record.
"^DD",727.825,727.825,10,23,0)
^^4^4^2970911^^^^
"^DD",727.825,727.825,10,23,1,0)
A character string which represents the IEN of the Category
"^DD",727.825,727.825,10,23,2,0)
in the EVENT CAPTURE CATEGORY file (#726).
"^DD",727.825,727.825,10,23,3,0)
Category is pulled from the CATEGORY field (7) in the
"^DD",727.825,727.825,10,23,4,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,10,"DT")
2970911
"^DD",727.825,727.825,11,0)
PROCEDURE^F^^0;12^K:$L(X)>8!($L(X)<5) X
"^DD",727.825,727.825,11,.1)
Procedure
"^DD",727.825,727.825,11,3)
Answer must be 5-8 characters in length.
"^DD",727.825,727.825,11,21,0)
1^^2^2^2990806^^^^
"^DD",727.825,727.825,11,21,1,0)
This field contains the name of the procedure selected
"^DD",727.825,727.825,11,21,2,0)
for this extract record.
"^DD",727.825,727.825,11,23,0)
^^7^7^2990806^^^^
"^DD",727.825,727.825,11,23,1,0)
The procedure pointer is pulled from the PROCEDURE field (8)
"^DD",727.825,727.825,11,23,2,0)
in the EVENT CAPTURE PATIENT file (#721). It is the CPT
"^DD",727.825,727.825,11,23,3,0)
code for procedures from the CPT file (#81). For national
"^DD",727.825,727.825,11,23,4,0)
procedures from the EC NATIONAL PROCEDURE file (#725),
"^DD",727.825,727.825,11,23,5,0)
it is the NATIONAL NUMBER field (1)_"N". For local procedures
"^DD",727.825,727.825,11,23,6,0)
from the EC NATIONAL PROCEDURE file (#725), it is the NATIONAL
"^DD",727.825,727.825,11,23,7,0)
NUMBER field (1)_"L".
"^DD",727.825,727.825,11,"DT")
2971030
"^DD",727.825,727.825,12,0)
VOLUME^NJ4,0^^0;13^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.825,727.825,12,.1)
Volume
"^DD",727.825,727.825,12,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",727.825,727.825,12,21,0)
^^1^1^2960401^^
"^DD",727.825,727.825,12,21,1,0)
This field tracks the volume of this specific procedure performed.
"^DD",727.825,727.825,12,23,0)
^^3^3^2960401^^
"^DD",727.825,727.825,12,23,1,0)
Numeric volume for this procedure associated with this extract
"^DD",727.825,727.825,12,23,2,0)
record. Volume is pulled from the VOLUME field (9) in the
"^DD",727.825,727.825,12,23,3,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,12,"DT")
2911108
"^DD",727.825,727.825,13,0)
COST CENTER^F^^0;14^K:$L(X)>8!($L(X)<6) X
"^DD",727.825,727.825,13,.1)
Cost Center
"^DD",727.825,727.825,13,3)
Enter the cost center associated with this extract record.
"^DD",727.825,727.825,13,21,0)
^^1^1^2990510^^^^
"^DD",727.825,727.825,13,21,1,0)
This is the cost center associated with this extract record.
"^DD",727.825,727.825,13,23,0)
^^3^3^2990510^^^^
"^DD",727.825,727.825,13,23,1,0)
A pointer to the COST CENTER file (#420.1). Cost center
"^DD",727.825,727.825,13,23,2,0)
is derived from the COST CENTER field (3) in the DSS UNIT
"^DD",727.825,727.825,13,23,3,0)
file (#724).
"^DD",727.825,727.825,13,23,4,0)
(727.8252) in the A&SP SITE PARAMETER file (#509850.8).
"^DD",727.825,727.825,13,"DT")
2951204
"^DD",727.825,727.825,14,0)
ORDERING SECTION^F^^0;15^K:$L(X)>3!($L(X)<1) X
"^DD",727.825,727.825,14,.1)
Ordering Section
"^DD",727.825,727.825,14,3)
Answer must be 1-3 characters in length.
"^DD",727.825,727.825,14,21,0)
^^2^2^2970912^^^^
"^DD",727.825,727.825,14,21,1,0)
This is the IEN in file #723 of the Ordering Section associated with
"^DD",727.825,727.825,14,21,2,0)
this extract record.
"^DD",727.825,727.825,14,23,0)
^^4^4^2970912^^^^
"^DD",727.825,727.825,14,23,1,0)
This character string represents the IEN of the Ordering Section
"^DD",727.825,727.825,14,23,2,0)
in the MEDICAL SPECIALTY file (#723).
"^DD",727.825,727.825,14,23,3,0)
The Ordering Section is pulled from the ORDERING SECTION field (#11) 
"^DD",727.825,727.825,14,23,4,0)
in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,14,23,5,0)
(#727.8251) or from the SPEECH PATHOLOGY DSS UNIT LINK field (#727.8252) 
"^DD",727.825,727.825,14,23,6,0)
in the A&SP SITE PARAMETER file (#509850.8).
"^DD",727.825,727.825,14,"DT")
2990517
"^DD",727.825,727.825,15,0)
SECTION^F^^0;16^K:$L(X)>3!($L(X)<1) X
"^DD",727.825,727.825,15,.1)
Section
"^DD",727.825,727.825,15,3)
Answer must be 1-3 characters in length.
"^DD",727.825,727.825,15,21,0)
^^2^2^2970912^^^^
"^DD",727.825,727.825,15,21,1,0)
This is the IEN in file #723 of the Medical Specialty of the DSS Unit 
"^DD",727.825,727.825,15,21,2,0)
associated with this extract record.
"^DD",727.825,727.825,15,23,0)
^^4^4^2970912^^^^
"^DD",727.825,727.825,15,23,1,0)
This character string represents an IEN in the MEDICAL
"^DD",727.825,727.825,15,23,2,0)
SPECIALTY file (#723).
"^DD",727.825,727.825,15,23,3,0)
The data is pulled from the SECTION field (#5) in the EVENT
"^DD",727.825,727.825,15,23,4,0)
CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,15,23,5,0)
or from the SPEECH PATHOLOGY DSS UNIT LINK field (#727.8252) in the  
"^DD",727.825,727.825,15,23,6,0)
A&SP SITE PARAMETER file (#509850.8).
"^DD",727.825,727.825,15,"DT")
2990517
"^DD",727.825,727.825,16,0)
PROVIDER^F^^0;17^K:$L(X)>11!($L(X)<2) X
"^DD",727.825,727.825,16,.1)
Provider
"^DD",727.825,727.825,16,3)
Answer must be 2-11 characters in length.
"^DD",727.825,727.825,16,21,0)
^^4^4^2980608^^^^
"^DD",727.825,727.825,16,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.825,727.825,16,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.825,727.825,16,21,3,0)
It represents the Provider who performed the procedure associated
"^DD",727.825,727.825,16,21,4,0)
with the Event Capture Patient record.
"^DD",727.825,727.825,16,23,0)
^^4^4^2980608^^^^
"^DD",727.825,727.825,16,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.825,727.825,16,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.825,727.825,16,23,3,0)
Data is derived from the PROVIDER field (#10) in the EVENT CAPTURE 
"^DD",727.825,727.825,16,23,4,0)
PATIENT file (#721).
"^DD",727.825,727.825,16,"DT")
2990517
"^DD",727.825,727.825,17,0)
PROVIDER PERSON CLASS^F^^0;18^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,17,3)
Answer must be 1-7 characters in length.
"^DD",727.825,727.825,17,21,0)
^^2^2^3001012^
"^DD",727.825,727.825,17,21,1,0)
Provider Person class is the VA code of the Person Class of the Provider as 
"^DD",727.825,727.825,17,21,2,0)
of the date of this record.
"^DD",727.825,727.825,17,"DT")
3000801
"^DD",727.825,727.825,18,0)
PROVIDER #2^F^^0;19^K:$L(X)>11!($L(X)<2) X
"^DD",727.825,727.825,18,.1)
Provider #2
"^DD",727.825,727.825,18,3)
Answer must be 2-11 characters in length.
"^DD",727.825,727.825,18,21,0)
^^4^4^2980608^^^^
"^DD",727.825,727.825,18,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.825,727.825,18,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.825,727.825,18,21,3,0)
It represents the assisting Provider who performed the procedure 
"^DD",727.825,727.825,18,21,4,0)
associated with the Event Capture Patient record.
"^DD",727.825,727.825,18,23,0)
^^4^4^2980608^^^^
"^DD",727.825,727.825,18,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.825,727.825,18,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.825,727.825,18,23,3,0)
Data is pulled from the PROVIDER #2 field (#16) in the EVENT CAPTURE
"^DD",727.825,727.825,18,23,4,0)
PATIENT file (#721).
"^DD",727.825,727.825,18,"DT")
2990517
"^DD",727.825,727.825,19,0)
PROVIDER #2 PERSON CLASS^F^^0;20^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,19,3)
Answer must be 1-7 characters in length.
"^DD",727.825,727.825,19,21,0)
^.001^2^2^3001103^^^
"^DD",727.825,727.825,19,21,1,0)
Provider2 Person class is the VA code of the Person Class of the Provider
"^DD",727.825,727.825,19,21,2,0)
as of the date of this record.
"^DD",727.825,727.825,19,"DT")
3001103
"^DD",727.825,727.825,20,0)
PROVIDER #3^F^^0;21^K:$L(X)>11!($L(X)<2) X
"^DD",727.825,727.825,20,.1)
Provider #3
"^DD",727.825,727.825,20,3)
Answer must be 2-11 characters in length.
"^DD",727.825,727.825,20,21,0)
1^.001^4^4^3001103^^^^
"^DD",727.825,727.825,20,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.825,727.825,20,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.825,727.825,20,21,3,0)
It represents an assisting Provider who performed the procedure 
"^DD",727.825,727.825,20,21,4,0)
associated with the Event Capture Patient record.
"^DD",727.825,727.825,20,23,0)
^.001^4^4^3001103^^^^
"^DD",727.825,727.825,20,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.825,727.825,20,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.825,727.825,20,23,3,0)
Data is pulled from the PROVIDER #3 field (#17) in the EVENT CAPTURE
"^DD",727.825,727.825,20,23,4,0)
PATIENT file (#721).
"^DD",727.825,727.825,20,"DT")
2990517
"^DD",727.825,727.825,21,0)
PROVIDER #3 PERSON CLASS^F^^0;22^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,21,21,0)
2
"^DD",727.825,727.825,21,21,1,0)
Provider3 Person class is the VA code of the Person Class of the Provider
"^DD",727.825,727.825,21,21,2,0)
as of the date of this record.
"^DD",727.825,727.825,21,"DT")
3001103
"^DD",727.825,727.825,22,0)
PLACEHOLDER4^F^^0;23^Q
"^DD",727.825,727.825,23,0)
MOVEMENT FILE #^P405'^DGPM(^0;24^Q
"^DD",727.825,727.825,23,.1)
Movement File Number
"^DD",727.825,727.825,23,3)
Enter the patient movement number associated with this extract record.
"^DD",727.825,727.825,23,21,0)
^^1^1^2960401^^^^
"^DD",727.825,727.825,23,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.825,727.825,23,23,0)
^^1^1^2960401^^^^
"^DD",727.825,727.825,23,23,1,0)
A pointer to the PATIENT MOVEMENT file (#405).
"^DD",727.825,727.825,23,"DT")
2911216
"^DD",727.825,727.825,24,0)
TREATING SPECIALTY^F^^0;25^K:$L(X)>6!($L(X)<1) X
"^DD",727.825,727.825,24,.1)
Treating Specialty
"^DD",727.825,727.825,24,3)
Answer must be 1-6 characters in length.
"^DD",727.825,727.825,24,21,0)
^^3^3^2970912^^^^
"^DD",727.825,727.825,24,21,1,0)
The IEN in file #42.4 of the Specialty associated with the patient
"^DD",727.825,727.825,24,21,2,0)
on the date of the Event Capture procedure.  Only applicable
"^DD",727.825,727.825,24,21,3,0)
if the patient was an inpatient on the date of the procedure.
"^DD",727.825,727.825,24,23,0)
^^8^8^2970912^^^^
"^DD",727.825,727.825,24,23,1,0)
A character string which represents an IEN in the SPECIALTY file (#42.4).
"^DD",727.825,727.825,24,23,2,0)
 
"^DD",727.825,727.825,24,23,3,0)
This field is initialized to a null, indicating an outpatient status. If
"^DD",727.825,727.825,24,23,4,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a
"^DD",727.825,727.825,24,23,5,0)
patient movement number (indicating inpatient status), then the value of
"^DD",727.825,727.825,24,23,6,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.825,727.825,24,23,7,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.825,727.825,24,23,8,0)
SPECIALTY file (#42.4).
"^DD",727.825,727.825,24,"DT")
2970911
"^DD",727.825,727.825,25,0)
TIME^FO^^0;26^K:$L(X)>6!($L(X)<6) X
"^DD",727.825,727.825,25,.1)
Time
"^DD",727.825,727.825,25,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.825,727.825,25,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.825,727.825,25,3)
Answer must be 6 characters in length.
"^DD",727.825,727.825,25,21,0)
^^1^1^2970922^^^^
"^DD",727.825,727.825,25,21,1,0)
The time when the Event Capture procedure was performed.
"^DD",727.825,727.825,25,21,2,0)
on the date of the Event Capture procedure.  Only applicable
"^DD",727.825,727.825,25,21,3,0)
if the patient was an inpatient on the date of the procedure.
"^DD",727.825,727.825,25,23,0)
^^9^9^2970922^^^^
"^DD",727.825,727.825,25,23,1,0)
A six-character string of format HHMMSS which represents the time
"^DD",727.825,727.825,25,23,2,0)
(military time) when the procedure was performed.
"^DD",727.825,727.825,25,23,3,0)
 
"^DD",727.825,727.825,25,23,4,0)
Time is extracted from the date information pulled from the
"^DD",727.825,727.825,25,23,5,0)
DATE/TIME OF PROCEDURE field (#2) in the EVENT CAPTURE
"^DD",727.825,727.825,25,23,6,0)
PATIENT file (#721). 
"^DD",727.825,727.825,25,23,7,0)
 
"^DD",727.825,727.825,25,23,8,0)
A default of "000300" will be used if field #2 of file #721 does
"^DD",727.825,727.825,25,23,9,0)
not have a time portion.
"^DD",727.825,727.825,25,"DT")
2970924
"^DD",727.825,727.825,26,0)
PRIMARY CARE TEAM^F^^0;27^K:$L(X)>4!($L(X)<1) X
"^DD",727.825,727.825,26,.1)
Primary Care Team
"^DD",727.825,727.825,26,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.825,727.825,26,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.825,727.825,26,3)
Enter primary care team assigned to this patient.
"^DD",727.825,727.825,26,21,0)
^^1^1^2961106^^^
"^DD",727.825,727.825,26,21,1,0)
The primary care team assigned to this patient.
"^DD",727.825,727.825,26,21,2,0)
was performed.
"^DD",727.825,727.825,26,23,0)
^^6^6^2961106^
"^DD",727.825,727.825,26,23,1,0)
Using the DATE/TIME OF PROCEDURE field (2) from the EVENT CAPTURE 
"^DD",727.825,727.825,26,23,2,0)
PATIENT file (#721) and the patient pointer (DFN) stored in the PATIENT 
"^DD",727.825,727.825,26,23,3,0)
NO. - DFN field (4) in the EVENT CAPTURE LOCAL EXTRACT file (#727.815), 
"^DD",727.825,727.825,26,23,4,0)
a call is made to the Scheduling API, OUTPTTM^SDUTL3. The API returns 
"^DD",727.825,727.825,26,23,5,0)
the team's internal entry number and name from the TEAM file (#404.51). 
"^DD",727.825,727.825,26,23,6,0)
Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.825,727.825,26,"DT")
2961106
"^DD",727.825,727.825,27,0)
PRIMARY CARE PROVIDER^F^^0;28^K:$L(X)>11!($L(X)<1) X
"^DD",727.825,727.825,27,.1)
Primary Care Provider
"^DD",727.825,727.825,27,3)
Enter primary care provider assigned to this patient.
"^DD",727.825,727.825,27,21,0)
^^1^1^2980708^^^^
"^DD",727.825,727.825,27,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.825,727.825,27,23,0)
^^9^9^2980708^^^
"^DD",727.825,727.825,27,23,1,0)
Using the DATE/TIME OF PROCEDURE field (2) from the EVENT CAPTURE 
"^DD",727.825,727.825,27,23,2,0)
PATIENT file (#721) and the patient pointer (DFN) stored in the PATIENT 
"^DD",727.825,727.825,27,23,3,0)
NO. - DFN field (4) in the EVENT CAPTURE LOCAL EXTRACT file (#727.815), 
"^DD",727.825,727.825,27,23,4,0)
a call is made to the Scheduling API, OUTPTPR^SDUTL3. The API returns 
"^DD",727.825,727.825,27,23,5,0)
the provider's internal entry number and name from the NEW PERSON file 
"^DD",727.825,727.825,27,23,6,0)
(#200). 
"^DD",727.825,727.825,27,23,7,0)
 
"^DD",727.825,727.825,27,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.825,727.825,27,23,9,0)
is "200".
"^DD",727.825,727.825,27,"DT")
2961017
"^DD",727.825,727.825,28,0)
PCE CPT CODE & MODIFIERS^FO^^0;29^K:$L(X)>15!($L(X)<5) X
"^DD",727.825,727.825,28,.1)

"^DD",727.825,727.825,28,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.825,727.825,28,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.825,727.825,28,3)
Answer must be 5-15 characters in length.
"^DD",727.825,727.825,28,21,0)
^.001^5^5^3001012^^^^
"^DD",727.825,727.825,28,21,1,0)
The Current Procedural Terminology (CPT) code for the procedure 
"^DD",727.825,727.825,28,21,2,0)
performed.
"^DD",727.825,727.825,28,21,3,0)
 
"^DD",727.825,727.825,28,21,4,0)
The 5 character CPT Code is followed by upto five (5) 2-character CPT
"^DD",727.825,727.825,28,21,5,0)
code modifiers.
"^DD",727.825,727.825,28,23,0)
^.001^6^6^3001012^^^^
"^DD",727.825,727.825,28,23,1,0)
PCE CPT CODE is derived from the PCE CPT CODE field (#19) in the EVENT 
"^DD",727.825,727.825,28,23,2,0)
CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,28,23,3,0)
 
"^DD",727.825,727.825,28,23,4,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the CPT
"^DD",727.825,727.825,28,23,5,0)
MODIFIER file (#81.3).  It is not known at this time where the Event
"^DD",727.825,727.825,28,23,6,0)
Capture package will store those modifiers.
"^DD",727.825,727.825,28,23,7,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.825,727.825,28,23,8,0)
is "200".
"^DD",727.825,727.825,28,"DT")
2990614
"^DD",727.825,727.825,29,0)
ICD-9 CODE^F^^0;30^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,29,.1)
ICD-9 Code
"^DD",727.825,727.825,29,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.825,727.825,29,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.825,727.825,29,3)
Enter the ICD-9 code for this record.
"^DD",727.825,727.825,29,21,0)
^.001^1^1^3001013^^^^
"^DD",727.825,727.825,29,21,1,0)
The ICD-9 for the procedure performed.
"^DD",727.825,727.825,29,21,2,0)
extract record.
"^DD",727.825,727.825,29,21,3,0)
 
"^DD",727.825,727.825,29,21,4,0)
The 5 character CPT Code is followed by upto five (5) 2-character CPT
"^DD",727.825,727.825,29,21,5,0)
code modifiers.
"^DD",727.825,727.825,29,23,0)
^.001^3^3^3001013^^^^
"^DD",727.825,727.825,29,23,1,0)
ICD-9 CODE is derived from the ICD-9 CODE field (20) in the EVENT 
"^DD",727.825,727.825,29,23,2,0)
CAPTURE PATIENT file (#721) which points to the ICD DIAGNOSIS file 
"^DD",727.825,727.825,29,23,3,0)
(#80).
"^DD",727.825,727.825,29,23,4,0)
 
"^DD",727.825,727.825,29,23,5,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the CPT
"^DD",727.825,727.825,29,23,6,0)
MODIFIER file (#81.3).  It is not known at this time where the QUASAR
"^DD",727.825,727.825,29,23,7,0)
package will store those modifiers.
"^DD",727.825,727.825,29,"DT")
2961106
"^DD",727.825,727.825,30,0)
SECONDARY ICD9 CODE #1^F^^0;31^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,30,.1)
ICD-9 Code
"^DD",727.825,727.825,30,3)
Answer must be 1-7 characters in length.
"^DD",727.825,727.825,30,21,0)
^.001^1^1^3001016^^^^
"^DD",727.825,727.825,30,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.825,727.825,30,23,0)
^.001^7^7^3001016^^^^
"^DD",727.825,727.825,30,23,1,0)
The diagnostic code pointer is derived from the first entry in the 
"^DD",727.825,727.825,30,23,2,0)
DIAGNOSTIC CODE field (38) in the A&SP CLINIC VISIT file (#509850.6). It 
"^DD",727.825,727.825,30,23,3,0)
is a pointer to the A&SP DIAGNOSTIC CONDITION file (#509850.1) which is 
"^DD",727.825,727.825,30,23,4,0)
a DINUMed pointer to the ICD DIAGNOSIS file (#80). The first code 
"^DD",727.825,727.825,30,23,5,0)
entered is always assumed to be the primary complaint. Subsequent codes 
"^DD",727.825,727.825,30,23,6,0)
are assumed to be secondary complaints. Using the pointer, ICD-9 CODE is 
"^DD",727.825,727.825,30,23,7,0)
derived from the ICD DIAGNOSIS file (#80).
"^DD",727.825,727.825,30,"DT")
3000801
"^DD",727.825,727.825,31,0)
SECONDARY ICD9 CODE #2^F^^0;32^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,31,.1)

"^DD",727.825,727.825,31,3)
Answer must be 1-7 characters in length.
"^DD",727.825,727.825,31,21,0)
^.001^1^1^3001016^^^^
"^DD",727.825,727.825,31,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.825,727.825,31,21,2,0)
DIAGNOSTIC CODE field (3) in the A&SP CLINIC VISIT file (#509850.6). It 
"^DD",727.825,727.825,31,21,3,0)
is a pointer to the A&SP DIAGNOSTIC CONDITION file (#509850.1) which is 
"^DD",727.825,727.825,31,21,4,0)
a DINUMed pointer to the ICD DIAGNOSIS file (#80). The first code 
"^DD",727.825,727.825,31,21,5,0)
entered is always assumed to be the primary complaint. Subsequent codes 
"^DD",727.825,727.825,31,21,6,0)
are assumed to be secondary complaints. Using the pointer, ICD-9 CODE is 
"^DD",727.825,727.825,31,21,7,0)
derived from the ICD DIAGNOSIS file (#80).
"^DD",727.825,727.825,31,23,0)
^.001^7^7^3001016^^^^
"^DD",727.825,727.825,31,23,1,0)
The diagnostic code pointer is derived from the first entry in the 
"^DD",727.825,727.825,31,23,2,0)
DIAGNOSTIC CODE field (38) in the A&SP CLINIC VISIT file (#509850.6). It 
"^DD",727.825,727.825,31,23,3,0)
is a pointer to the A&SP DIAGNOSTIC CONDITION file (#509850.1) which is 
"^DD",727.825,727.825,31,23,4,0)
a DINUMed pointer to the ICD DIAGNOSIS file (#80). The first code 
"^DD",727.825,727.825,31,23,5,0)
entered is always assumed to be the primary complaint. Subsequent codes 
"^DD",727.825,727.825,31,23,6,0)
are assumed to be secondary complaints. Using the pointer, ICD-9 CODE is 
"^DD",727.825,727.825,31,23,7,0)
derived from the ICD DIAGNOSIS file (#80).
"^DD",727.825,727.825,31,"DT")
3001013
"^DD",727.825,727.825,32,0)
SECONDARY ICD9 CODE #3^F^^0;33^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,32,.1)

"^DD",727.825,727.825,32,3)
Answer must be 1-7 characters in length.
"^DD",727.825,727.825,32,21,0)
^.001^1^1^3001016^^^^
"^DD",727.825,727.825,32,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.825,727.825,32,23,0)
^.001^7^7^3001016^^^^
"^DD",727.825,727.825,32,23,1,0)
The diagnostic code pointer is derived from the first entry in the 
"^DD",727.825,727.825,32,23,2,0)
DIAGNOSTIC CODE field (38) in the A&SP CLINIC VISIT file (#509850.6). It 
"^DD",727.825,727.825,32,23,3,0)
is a pointer to the A&SP DIAGNOSTIC CONDITION file (#509850.1) which is 
"^DD",727.825,727.825,32,23,4,0)
a DINUMed pointer to the ICD DIAGNOSIS file (#80). The first code 
"^DD",727.825,727.825,32,23,5,0)
entered is always assumed to be the primary complaint. Subsequent codes 
"^DD",727.825,727.825,32,23,6,0)
are assumed to be secondary complaints. Using the pointer, ICD-9 CODE is 
"^DD",727.825,727.825,32,23,7,0)
derived from the ICD DIAGNOSIS file (#80).
"^DD",727.825,727.825,32,"DT")
3001013
"^DD",727.825,727.825,33,0)
SECONDARY ICD9 CODE #4^F^^0;34^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,33,.1)

"^DD",727.825,727.825,33,3)
Answer must be 1-7 characters in length.
"^DD",727.825,727.825,33,21,0)
^.001^1^1^3001016^^^^
"^DD",727.825,727.825,33,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.825,727.825,33,21,2,0)
DIAGNOSTIC CODE field (3) in the A&SP CLINIC VISIT file (#509850.6). It 
"^DD",727.825,727.825,33,21,3,0)
is a pointer to the A&SP DIAGNOSTIC CONDITION file (#509850.1) which is 
"^DD",727.825,727.825,33,21,4,0)
a DINUMed pointer to the ICD DIAGNOSIS file (#80). The first code 
"^DD",727.825,727.825,33,21,5,0)
entered is always assumed to be the primary complaint. Subsequent codes 
"^DD",727.825,727.825,33,21,6,0)
are assumed to be secondary complaints. Using the pointer, ICD-9 CODE is 
"^DD",727.825,727.825,33,21,7,0)
derived from the ICD DIAGNOSIS file (#80).
"^DD",727.825,727.825,33,23,0)
^.001^7^7^3001016^^^^
"^DD",727.825,727.825,33,23,1,0)
The diagnostic code pointer is derived from the first entry in the 
"^DD",727.825,727.825,33,23,2,0)
DIAGNOSTIC CODE field (38) in the A&SP CLINIC VISIT file (#509850.6). It 
"^DD",727.825,727.825,33,23,3,0)
is a pointer to the A&SP DIAGNOSTIC CONDITION file (#509850.1) which is 
"^DD",727.825,727.825,33,23,4,0)
a DINUMed pointer to the ICD DIAGNOSIS file (#80). The first code 
"^DD",727.825,727.825,33,23,5,0)
entered is always assumed to be the primary complaint. Subsequent codes 
"^DD",727.825,727.825,33,23,6,0)
are assumed to be secondary complaints. Using the pointer, ICD-9 CODE is 
"^DD",727.825,727.825,33,23,7,0)
derived from the ICD DIAGNOSIS file (#80).
"^DD",727.825,727.825,33,"DT")
3001013
"^DD",727.825,727.825,34,0)
AGENT ORANGE^S^Y:YES;N:NO;U:UNKNOWN;^0;35^Q
"^DD",727.825,727.825,34,.1)
Agent Orange
"^DD",727.825,727.825,34,3)
Select the appropriate agent orange status for this patient.
"^DD",727.825,727.825,34,21,0)
^.001^2^2^3001016^^^^
"^DD",727.825,727.825,34,21,1,0)
Data is Y if this patient was exposed to agent orange, N if not, 
"^DD",727.825,727.825,34,21,2,0)
or U if unknown.
"^DD",727.825,727.825,34,23,0)
^.001^2^2^3001016^^^^
"^DD",727.825,727.825,34,23,1,0)
AGENT ORANGE data is derived from the AGENT ORANGE field (21) in the 
"^DD",727.825,727.825,34,23,2,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,34,23,3,0)
from the SERVICE CONNECTED? field (.301) in the PATIENT file (#2).
"^DD",727.825,727.825,34,"DT")
2961017
"^DD",727.825,727.825,35,0)
RADIATION EXPOSURE^S^Y:YES;N:NO;U:UNKNOWN;^0;36^Q
"^DD",727.825,727.825,35,.1)
Radiation Exposure
"^DD",727.825,727.825,35,3)
Select the appropriate radiation status for this patient.
"^DD",727.825,727.825,35,21,0)
^.001^2^2^3001016^^^^
"^DD",727.825,727.825,35,21,1,0)
Data is Y if this patient claims exposure to ionizing radiation, 
"^DD",727.825,727.825,35,21,2,0)
N if not, or U if unknown.
"^DD",727.825,727.825,35,23,0)
^.001^2^2^3001016^^^^
"^DD",727.825,727.825,35,23,1,0)
RADIATION EXPOSURE data is derived from the RADIATION EXPOSURE field 
"^DD",727.825,727.825,35,23,2,0)
(22) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,35,"DT")
2961017
"^DD",727.825,727.825,36,0)
ENVIRONMENTAL CONTAMINANTS^S^Y:YES;N:NO;U:UNKNOWN;^0;37^Q
"^DD",727.825,727.825,36,.1)
Environmental Contaminants
"^DD",727.825,727.825,36,3)
Select the appropriate environmental contaminants status for this patient.
"^DD",727.825,727.825,36,21,0)
^.001^2^2^3001016^^^^
"^DD",727.825,727.825,36,21,1,0)
Data is Y if this patient claims exposure to environmental contaminants, 
"^DD",727.825,727.825,36,21,2,0)
N if not, U if unknown.
"^DD",727.825,727.825,36,23,0)
^.001^2^2^3001016^^^^
"^DD",727.825,727.825,36,23,1,0)
ENVIRONMENTAL CONTAMINANTS data is derived from the ENVIRONMENTAL 
"^DD",727.825,727.825,36,23,2,0)
CONTAMINANTS field (23) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,36,"DT")
2961017
"^DD",727.825,727.825,37,0)
SERVICE CONNECTED^S^Y:YES;N:NO;^0;38^Q
"^DD",727.825,727.825,37,.1)
Service Connected
"^DD",727.825,727.825,37,3)
Select the appropriate service connected status for this patient.
"^DD",727.825,727.825,37,21,0)
^.001^1^1^3001016^^^^
"^DD",727.825,727.825,37,21,1,0)
Data is Y if this patient is service connected, N if not.
"^DD",727.825,727.825,37,21,2,0)
clinic associated with the A&SP CLINIC VISIT (file #509850.6) 
"^DD",727.825,727.825,37,21,3,0)
record.  This identifier will be exactly 6 characters in length.  
"^DD",727.825,727.825,37,21,4,0)
The first 3 characters will identify the primary stop code.  
"^DD",727.825,727.825,37,21,5,0)
The second three characters will identify the credit stop code, 
"^DD",727.825,727.825,37,21,6,0)
if any.
"^DD",727.825,727.825,37,23,0)
^.001^2^2^3001016^^^^
"^DD",727.825,727.825,37,23,1,0)
SERVICE CONNECTED data is derived from the SERVICE CONNECTED field (24) 
"^DD",727.825,727.825,37,23,2,0)
in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.825,727.825,37,23,3,0)
record.  This identifier will be exactly 6 characters in length.  
"^DD",727.825,727.825,37,23,4,0)
The first 3 characters will identify the primary stop code.  
"^DD",727.825,727.825,37,23,5,0)
The second three characters will identify the secondary stop
"^DD",727.825,727.825,37,23,6,0)
code.  If the secondary stop code (credit stop code) is not
"^DD",727.825,727.825,37,23,7,0)
known, then "000" will be used as the last 3 characters of the
"^DD",727.825,727.825,37,23,8,0)
data element.
"^DD",727.825,727.825,37,23,9,0)
  
"^DD",727.825,727.825,37,23,10,0)
Data source:
"^DD",727.825,727.825,37,23,11,0)
 
"^DD",727.825,727.825,37,23,12,0)
   (1) A&SP CLINIC VISIT file (#509850.6); CLINIC LOCATION field (#2.6)
"^DD",727.825,727.825,37,23,13,0)
   (2) HOSPITAL LOCATION file (#44); STOP CODE NUMBER field (#8) 
"^DD",727.825,727.825,37,23,14,0)
       and CREDIT STOP CODE field (#2503)
"^DD",727.825,727.825,37,23,15,0)
   (3) CLINIC STOP file (#40.7); AMIS REPORTING STOP CODE field (#1)
"^DD",727.825,727.825,37,"DT")
2961017
"^DD",727.825,727.825,38,0)
SENT TO PCE^S^Y:YES;N:NO;^0;39^Q
"^DD",727.825,727.825,38,.1)
Sent to PCE
"^DD",727.825,727.825,38,3)
Enter Y if data has been sent to PCE, N if not.
"^DD",727.825,727.825,38,21,0)
^.001^1^1^3001016^^^
"^DD",727.825,727.825,38,21,1,0)
This field flags data that has been sent from Event Capture to PCE.
"^DD",727.825,727.825,38,23,0)
^.001^1^1^3001016^^^
"^DD",727.825,727.825,38,23,1,0)
Record is flagged Y when sent to PCE, N or null if not sent.
"^DD",727.825,727.825,38,"DT")
2961022
"^DD",727.825,727.825,39,0)
PLACEHOLDER5^^^0;40^Q
"^DD",727.825,727.825,39,3)
Answer must be 1-10 characters in length.
"^DD",727.825,727.825,39,21,0)
^^1^1^2990504^
"^DD",727.825,727.825,39,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.825,727.825,39,23,0)
^^2^2^2990504^
"^DD",727.825,727.825,39,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.825,727.825,39,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.825,727.825,39,"DT")
2990504
"^DD",727.825,727.825,40,0)
DSS IDENTIFIER^F^^0;41^K:$L(X)>6!($L(X)<6) X
"^DD",727.825,727.825,40,.1)
DSS Identifier
"^DD",727.825,727.825,40,3)
Answer must be 6 characters in length.
"^DD",727.825,727.825,40,21,0)
^.001^4^4^3001016^^^^
"^DD",727.825,727.825,40,21,1,0)
The DSS Identifier represents the primary and secondary stop codes of
"^DD",727.825,727.825,40,21,2,0)
the Associated Clinic in the Event Capture Patient record, OR it is
"^DD",727.825,727.825,40,21,3,0)
the Associated Stop Code of the DSS Unit in the Event Capture Patient
"^DD",727.825,727.825,40,21,4,0)
record.  This data element is always exactly 6 characters in length.
"^DD",727.825,727.825,40,23,0)
^.001^22^22^3001016^^^^
"^DD",727.825,727.825,40,23,1,0)
The DSS Identifier represents the primary and secondary stop codes of
"^DD",727.825,727.825,40,23,2,0)
the Associated Clinic in the Event Capture Patient record, OR it is
"^DD",727.825,727.825,40,23,3,0)
the Associated Stop Code of the DSS Unit in the Event Capture Patient
"^DD",727.825,727.825,40,23,4,0)
record.  This data element is always exactly 6 characters in length.
"^DD",727.825,727.825,40,23,5,0)
 
"^DD",727.825,727.825,40,23,6,0)
If the secondary stop code is not known, then "000" will be 
"^DD",727.825,727.825,40,23,7,0)
used as the 2nd 3-characters. If the primary stop code is not
"^DD",727.825,727.825,40,23,8,0)
known, then "000000" will be used.  If the DSS Unit does not have
"^DD",727.825,727.825,40,23,9,0)
an Associated Stop Code, then "000000" will be used.
"^DD",727.825,727.825,40,23,10,0)
 
"^DD",727.825,727.825,40,23,11,0)
The source of the data is:
"^DD",727.825,727.825,40,23,12,0)
 
"^DD",727.825,727.825,40,23,13,0)
   (1) EVENT CAPTURE PATIENT file (#721); ASSOCIATED CLINIC field (#26)
"^DD",727.825,727.825,40,23,14,0)
   (2) HOSPITAL LOCATION file (#44); STOP CODE NUMBER field (#8)
"^DD",727.825,727.825,40,23,15,0)
       and CREDIT STOP CODE field (#2503)
"^DD",727.825,727.825,40,23,16,0)
   (3) CLINIC STOP file (#40.7); AMIS REPORTING STOP CODE field (#1)
"^DD",727.825,727.825,40,23,17,0)
  
"^DD",727.825,727.825,40,23,18,0)
OR
"^DD",727.825,727.825,40,23,19,0)
  
"^DD",727.825,727.825,40,23,20,0)
   (1) EVENT CAPTURE PATIENT file (#721); DSS UNIT field (#6)
"^DD",727.825,727.825,40,23,21,0)
   (2) DSS UNIT file (#724); ASSOCIATED STOP CODE field (#9)
"^DD",727.825,727.825,40,23,22,0)
   (3) CLINIC STOP file (#40.7); AMIS REPORTING STOP CODE field (#1)
"^DD",727.825,727.825,40,"DT")
2970911
"^DD",727.825,727.825,41,0)
PLACEHOLDER1^F^^0;42^K:$L(X)>1!($L(X)<1) X
"^DD",727.825,727.825,41,.1)

"^DD",727.825,727.825,41,3)
Answer must be 1 character in length.
"^DD",727.825,727.825,41,21,0)
^^1^1^2980708^^^^
"^DD",727.825,727.825,41,21,1,0)
Placeholder; null.
"^DD",727.825,727.825,41,23,0)
^^4^4^2990506^
"^DD",727.825,727.825,41,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,41,23,2,0)
field will hold the Provider NPI.
"^DD",727.825,727.825,41,23,3,0)
   
"^DD",727.825,727.825,41,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,41,"DT")
2980708
"^DD",727.825,727.825,42,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.825,727.825,42,3)
Answer must be 1-10 characters in length.
"^DD",727.825,727.825,42,21,0)
^^1^1^2990505^^
"^DD",727.825,727.825,42,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.825,727.825,42,23,0)
^^2^2^2990505^^
"^DD",727.825,727.825,42,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.825,727.825,42,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.825,727.825,42,23,3,0)
   
"^DD",727.825,727.825,42,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,42,"DT")
2990504
"^DD",727.825,727.825,43,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.825,727.825,43,3)
Answer must be 4-10 characters in length.
"^DD",727.825,727.825,43,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,43,21,1,0)
The DSS Department Code for the patient care product.
"^DD",727.825,727.825,43,23,0)
^^2^2^2990506^
"^DD",727.825,727.825,43,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.825,727.825,43,23,2,0)
Field is set to null.
"^DD",727.825,727.825,43,23,3,0)
   
"^DD",727.825,727.825,43,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,43,"DT")
2990506
"^DD",727.825,727.825,44,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,44,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,44,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,44,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.825,727.825,44,21,2,0)
associated with this record.
"^DD",727.825,727.825,44,23,0)
^^4^4^2990506^
"^DD",727.825,727.825,44,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,44,23,2,0)
field will hold the Provider NPI.
"^DD",727.825,727.825,44,23,3,0)
   
"^DD",727.825,727.825,44,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,44,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.825,727.825,44,23,6,0)
7 characters in length.
"^DD",727.825,727.825,44,"DT")
2990506
"^DD",727.825,727.825,45,0)
PROVIDER #2 NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,45,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,45,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,45,21,1,0)
The second Provider's National Provider Identifier code.
"^DD",727.825,727.825,45,23,0)
^^4^4^2990506^
"^DD",727.825,727.825,45,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,45,23,2,0)
field will hold the second Provider NPI.
"^DD",727.825,727.825,45,23,3,0)
   
"^DD",727.825,727.825,45,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,45,"DT")
2990506
"^DD",727.825,727.825,46,0)
PROVIDER #3 NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,46,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,46,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,46,21,1,0)
The third Provider's National Provider Identifier code.
"^DD",727.825,727.825,46,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.825,727.825,46,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.825,727.825,46,21,4,0)
character 2.
"^DD",727.825,727.825,46,23,0)
^^4^4^2990506^
"^DD",727.825,727.825,46,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,46,23,2,0)
field will hold the third Provider NPI.
"^DD",727.825,727.825,46,23,3,0)
   
"^DD",727.825,727.825,46,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,46,"DT")
2990506
"^DD",727.825,727.825,47,0)
PC PROVIDER PERSON CLASS^F^^1;6^K:$L(X)>7!($L(X)<7) X
"^DD",727.825,727.825,47,3)
Answer must be 7 characters in length.
"^DD",727.825,727.825,47,21,0)
^^2^2^2981103^^^
"^DD",727.825,727.825,47,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.825,727.825,47,21,2,0)
associated with this record.
"^DD",727.825,727.825,47,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.825,727.825,47,21,4,0)
exactly 7 characters in length. 
"^DD",727.825,727.825,47,23,0)
^^6^6^2981103^^
"^DD",727.825,727.825,47,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.825,727.825,47,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.825,727.825,47,23,3,0)
extract record.
"^DD",727.825,727.825,47,23,4,0)
  
"^DD",727.825,727.825,47,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.825,727.825,47,23,6,0)
7 characters in length.
"^DD",727.825,727.825,47,"DT")
2981103
"^DD",727.825,727.825,48,0)
PC PROVIDER NPI^F^^1;7^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,48,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,48,21,0)
^^1^1^2990729^^^
"^DD",727.825,727.825,48,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.825,727.825,48,23,0)
^^4^4^2990729^^^
"^DD",727.825,727.825,48,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,48,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.825,727.825,48,23,3,0)
   
"^DD",727.825,727.825,48,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,48,"DT")
2990506
"^DD",727.825,727.825,49,0)
ASSOCIATE PC PROVIDER^F^^1;8^K:$L(X)>11!($L(X)<2) X
"^DD",727.825,727.825,49,3)
Answer must be 2-11 characters in length.
"^DD",727.825,727.825,49,21,0)
^^4^4^2990506^
"^DD",727.825,727.825,49,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.825,727.825,49,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.825,727.825,49,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.825,727.825,49,21,4,0)
character 2.
"^DD",727.825,727.825,49,23,0)
^^2^2^2990506^
"^DD",727.825,727.825,49,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.825,727.825,49,23,2,0)
the PCMM application.
"^DD",727.825,727.825,49,23,3,0)
to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.825,727.825,49,23,4,0)
 
"^DD",727.825,727.825,49,23,5,0)
Using the INSTITUTION FILE POINTER field (#.07) of the file #40.8
"^DD",727.825,727.825,49,23,6,0)
record, the STATION NUMBER field (#99) will be obtained from the
"^DD",727.825,727.825,49,23,7,0)
INSTITUTION file (#4).
"^DD",727.825,727.825,49,"DT")
2990506
"^DD",727.825,727.825,50,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;9^K:$L(X)>7!($L(X)<7) X
"^DD",727.825,727.825,50,3)
Answer must be 7 characters in length.
"^DD",727.825,727.825,50,21,0)
^^4^4^2990506^
"^DD",727.825,727.825,50,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.825,727.825,50,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.825,727.825,50,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.825,727.825,50,21,4,0)
exactly 7 characters in length. 
"^DD",727.825,727.825,50,23,0)
^^3^3^2990506^
"^DD",727.825,727.825,50,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.825,727.825,50,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.825,727.825,50,23,3,0)
PERS is the IEN from file #200.
"^DD",727.825,727.825,50,"DT")
2990506
"^DD",727.825,727.825,51,0)
ASSOCIATE PC PROVIDER NPI^F^^1;10^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,51,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,51,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,51,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.825,727.825,51,23,0)
^^4^4^2990506^
"^DD",727.825,727.825,51,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,51,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.825,727.825,51,23,3,0)
   
"^DD",727.825,727.825,51,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,51,"DT")
2990506
"^DD",727.825,727.825,52,0)
DIVISION^F^^1;11^K:$L(X)>7!($L(X)<3) X
"^DD",727.825,727.825,52,3)
Answer must be 3-7 characters in length.
"^DD",727.825,727.825,52,21,0)
^.001^2^2^3001011^^^^
"^DD",727.825,727.825,52,21,1,0)
This is the division at which the visit took place.  The division entered 
"^DD",727.825,727.825,52,21,2,0)
must be defined in the MEDICAL CENTER DIVISION file.
"^DD",727.825,727.825,52,23,0)
^.001^3^3^3001011^^^^
"^DD",727.825,727.825,52,23,1,0)
The DIVISION field for this file is obtained from the DIVISION field (#60), of
"^DD",727.825,727.825,52,23,2,0)
the AS&P CLINIC VISIT file (#509850.6), which points to the MEDICAL CENTER
"^DD",727.825,727.825,52,23,3,0)
DIVISION file (#40.8).
"^DD",727.825,727.825,52,"DT")
2990806
"^DD",727.825,727.825,53,0)
MST STATUS^F^^1;12^K:$L(X)>1!($L(X)<1) X
"^DD",727.825,727.825,53,3)
Answer must be 1 character in length.
"^DD",727.825,727.825,53,21,0)
^^2^2^3001016^
"^DD",727.825,727.825,53,21,1,0)
An indicator if a veteran reports he/she is a victim of sexual trauma that
"^DD",727.825,727.825,53,21,2,0)
occurred while on active duty.
"^DD",727.825,727.825,53,23,0)
^^2^2^3001016^
"^DD",727.825,727.825,53,23,1,0)
MST Status is derived from the MST History file (#29.11) MST status field
"^DD",727.825,727.825,53,23,2,0)
(#3).
"^DD",727.825,727.825,53,"DT")
3000802
"^DD",727.825,727.825,54,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;13^K:$L(X)>1!($L(X)<1) X
"^DD",727.825,727.825,54,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.825,727.825,54,21,0)
^^5^5^3001016^
"^DD",727.825,727.825,54,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.825,727.825,54,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.825,727.825,54,21,3,0)
Domiciliary (DOM)
"^DD",727.825,727.825,54,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.825,727.825,54,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.825,727.825,54,"DT")
3001010
"^DD",727.825,727.825,55,0)
DATE OF BIRTH^F^^1;14^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,55,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,55,21,0)
^^3^3^3001016^
"^DD",727.825,727.825,55,21,1,0)
When a patient was born. Possible values for Date of Birth are between
"^DD",727.825,727.825,55,21,2,0)
December 31, 1870 and today's date. This is represented by an 8-character
"^DD",727.825,727.825,55,21,3,0)
numeric string in the YYYYMMDD format. 
"^DD",727.825,727.825,55,"DT")
3000802
"^DD",727.825,727.825,56,0)
ENROLLMENT CATEGORY^F^^1;15^K:$L(X)>1!($L(X)<1) X
"^DD",727.825,727.825,56,3)
Answer must be 1 character in length.
"^DD",727.825,727.825,56,21,0)
^^1^1^3001016^
"^DD",727.825,727.825,56,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.825,727.825,56,"DT")
3000802
"^DD",727.825,727.825,57,0)
ENROLLMENT STATUS^F^^1;16^K:$L(X)>2!($L(X)<1) X
"^DD",727.825,727.825,57,3)
Answer must be 1-2 characters in length.
"^DD",727.825,727.825,57,21,0)
^^1^1^3001016^
"^DD",727.825,727.825,57,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.825,727.825,57,"DT")
3000802
"^DD",727.825,727.825,58,0)
ENROLLMENT PRIORITY^F^^1;17^K:$L(X)>1!($L(X)<1) X
"^DD",727.825,727.825,58,3)
Answer must be 1 character in length.
"^DD",727.825,727.825,58,21,0)
^^1^1^3001016^
"^DD",727.825,727.825,58,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.825,727.825,58,"DT")
3000802
"^DD",727.825,727.825,59,0)
PERIOD OF SERVICE^F^^1;18^K:$L(X)>1!($L(X)<1) X
"^DD",727.825,727.825,59,3)
Answer must be 1 character in length.
"^DD",727.825,727.825,59,21,0)
^.001^2^2^3001016^^
"^DD",727.825,727.825,59,21,1,0)
The period of service that best classifies the patient based on
"^DD",727.825,727.825,59,21,2,0)
eligibility code. 
"^DD",727.825,727.825,59,23,0)
^^2^2^3001016^
"^DD",727.825,727.825,59,23,1,0)
Period of Service is derived from the Period of Service field (#.323) in
"^DD",727.825,727.825,59,23,2,0)
the Patient file (#2).
"^DD",727.825,727.825,59,"DT")
3000802
"^DD",727.825,727.825,60,0)
PURPLE HEART INDICATOR^F^^1;19^K:$L(X)>1!($L(X)<1) X
"^DD",727.825,727.825,60,3)
Purple Heart Indicator is as of yet not defined.  It will be (Y)es, (N)o or (U)nknow.
"^DD",727.825,727.825,60,21,0)
^^1^1^3001016^
"^DD",727.825,727.825,60,21,1,0)
Indicates whether or not a patient is a Purple Heart recipient.
"^DD",727.825,727.825,60,"DT")
3000802
"^DD",727.825,727.825,61,0)
EXTENDED OUTPATIENT INDICATOR^F^^1;20^K:$L(X)>4!($L(X)<1) X
"^DD",727.825,727.825,61,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.825,727.825,61,21,0)
^^1^1^3001016^
"^DD",727.825,727.825,61,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.825,727.825,61,"DT")
3000802
"^DD",727.826,727.826,0)
FIELD^^59^55
"^DD",727.826,727.826,0,"DDA")
N
"^DD",727.826,727.826,0,"DIK")
ECX826
"^DD",727.826,727.826,0,"DIKOLD")
ECX826
"^DD",727.826,727.826,0,"DT")
3001005
"^DD",727.826,727.826,0,"IX","AC",727.826,2)

"^DD",727.826,727.826,0,"NM","PROSTHETICS EXTRACT")

"^DD",727.826,727.826,0,"VRPK")
ECX
"^DD",727.826,727.826,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.826,727.826,.01,.1)
Sequence Number
"^DD",727.826,727.826,.01,1,0)
^.1^^0
"^DD",727.826,727.826,.01,3)
Enter a Number between 1 and 999999999, 0 Decimal Digits.
"^DD",727.826,727.826,.01,10)
Software generated for each individual record in the extract.
"^DD",727.826,727.826,.01,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,.01,21,1,0)
The Record Number for this extract entry.  Included in the Header for the
"^DD",727.826,727.826,.01,21,2,0)
extract.  The file is DINUMed on this field.
"^DD",727.826,727.826,.01,23,0)
^^1^1^2980714^^
"^DD",727.826,727.826,.01,23,1,0)
The Internal Entry Number (IEN) for this record.  The entry is DINUMed.
"^DD",727.826,727.826,.01,"DT")
2981215
"^DD",727.826,727.826,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.826,727.826,1,.1)
Year Month
"^DD",727.826,727.826,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.826,727.826,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.826,727.826,1,3)
Answer must be six characters in length.
"^DD",727.826,727.826,1,10)
Software generated for all records in the extracted year and month.
"^DD",727.826,727.826,1,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,1,21,1,0)
Six digit textual number representing the year and month the extract was
"^DD",727.826,727.826,1,21,2,0)
completed.  Included in the Header for the extract.
"^DD",727.826,727.826,1,23,0)
^^1^1^2980714^^
"^DD",727.826,727.826,1,23,1,0)
Generated by the extract software (ECXTRAC and ECXPRO).
"^DD",727.826,727.826,1,"DT")
2980714
"^DD",727.826,727.826,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.826,727.826,2,.1)
Extract Number
"^DD",727.826,727.826,2,1,0)
^.1
"^DD",727.826,727.826,2,1,1,0)
727.826^AC
"^DD",727.826,727.826,2,1,1,1)
S ^ECX(727.826,"AC",$E(X,1,30),DA)=""
"^DD",727.826,727.826,2,1,1,2)
K ^ECX(727.826,"AC",$E(X,1,30),DA)
"^DD",727.826,727.826,2,1,1,3)
DO NOT DELETE!
"^DD",727.826,727.826,2,1,1,"%D",0)
^^2^2^2980722^
"^DD",727.826,727.826,2,1,1,"%D",1,0)
This cross reference is essential for purging and managing data in this
"^DD",727.826,727.826,2,1,1,"%D",2,0)
file.
"^DD",727.826,727.826,2,1,1,"DT")
2980722
"^DD",727.826,727.826,2,3)
Enter the extract number for this extract.
"^DD",727.826,727.826,2,10)
Software generated from the associated entry in the Extract Log file.
"^DD",727.826,727.826,2,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,2,21,1,0)
Corresponding entry in the DSS Extract Log file (#727) for this extract.
"^DD",727.826,727.826,2,21,2,0)
Used to identify the header in the extract transmission.
"^DD",727.826,727.826,2,23,0)
^^1^1^2980714^
"^DD",727.826,727.826,2,23,1,0)
Generated by the extract software (ECXTRAC and ECXPRO).
"^DD",727.826,727.826,2,"DT")
2980722
"^DD",727.826,727.826,3,0)
FACILITY^RF^^0;4^K:$L(X)>5!($L(X)<3) X
"^DD",727.826,727.826,3,.1)
Facility
"^DD",727.826,727.826,3,3)
Answer must be 3-5 characters in length.
"^DD",727.826,727.826,3,10)
Station field (#8) in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,3,21,0)
^^2^2^2981116^^^^
"^DD",727.826,727.826,3,21,1,0)
The Station Number of the Facility where the Prosthetics transaction is
"^DD",727.826,727.826,3,21,2,0)
completed.
"^DD",727.826,727.826,3,23,0)
^^3^3^2981116^^^^
"^DD",727.826,727.826,3,23,1,0)
The Station Number is expected to be at least 3 characters in length.
"^DD",727.826,727.826,3,23,2,0)
If the Station Number is longer than 5 characters, the first 5 characters
"^DD",727.826,727.826,3,23,3,0)
will be stored in this field.  
"^DD",727.826,727.826,3,"DT")
2981116
"^DD",727.826,727.826,4,0)
PATIENT NO. DFN^RP2'^DPT(^0;5^Q
"^DD",727.826,727.826,4,.1)
Patient No. DFN
"^DD",727.826,727.826,4,3)
Enter the name of the patient for this extract record.
"^DD",727.826,727.826,4,10)
PATIENT NAME (#.02) of the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,4,21,0)
^^4^4^2990504^^^
"^DD",727.826,727.826,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.826,727.826,4,21,2,0)
 
"^DD",727.826,727.826,4,21,3,0)
PATIENT NO. DFN is the DFN of the patient for whom the prosthetic device
"^DD",727.826,727.826,4,21,4,0)
is provided.  This field is required for creation of the extract record.
"^DD",727.826,727.826,4,23,0)
^^4^4^2990504^^
"^DD",727.826,727.826,4,23,1,0)
PATIENT NAME field (#.02) of the RECORD OF PROS APPLIANCE/REPAIR file
"^DD",727.826,727.826,4,23,2,0)
(#660).  This in turns points to the NAME field (#.01) of the PROSTHETICS
"^DD",727.826,727.826,4,23,3,0)
PROSTHETICS PATIENT file (#665).  This then points to the NAME field (.01)
"^DD",727.826,727.826,4,23,4,0)
of the PATIENT file (#2).
"^DD",727.826,727.826,4,"DT")
2980714
"^DD",727.826,727.826,5,0)
SSN^RFX^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.826,727.826,5,.1)
Social Security Number
"^DD",727.826,727.826,5,3)
Enter the Patient's Social Security Number.
"^DD",727.826,727.826,5,10)
Derived from the patient in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,5,21,0)
^^5^5^2990504^^^
"^DD",727.826,727.826,5,21,1,0)
The patient's Social Security Number.  This field is required for creation
"^DD",727.826,727.826,5,21,2,0)
of the extract record.
"^DD",727.826,727.826,5,21,3,0)
 
"^DD",727.826,727.826,5,21,4,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.826,727.826,5,21,5,0)
patient" and will not be included in the extract.  
"^DD",727.826,727.826,5,23,0)
^^7^7^2990504^^
"^DD",727.826,727.826,5,23,1,0)
SSN is derived from the PATIENT NAME field (#.02) of the RECORD OF PROS
"^DD",727.826,727.826,5,23,2,0)
APPLIANCE/REPAIR file (#660).  This in turn points to the NAME field (#.01)
"^DD",727.826,727.826,5,23,3,0)
of the PROSTHETICS PATIENT file (#665).  This then points to the SSN field
"^DD",727.826,727.826,5,23,4,0)
(#.09) of the PATIENT file (#2).
"^DD",727.826,727.826,5,23,5,0)
 
"^DD",727.826,727.826,5,23,6,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.826,727.826,5,23,7,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.826,727.826,5,"DT")
2980714
"^DD",727.826,727.826,6,0)
NAME^RF^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.826,727.826,6,.1)
Name
"^DD",727.826,727.826,6,3)
Enter the first four characters of the patient's last name.
"^DD",727.826,727.826,6,10)
Derived from the patient in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,6,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,6,21,1,0)
The first four characters of the patient's last name.  This field is
"^DD",727.826,727.826,6,21,2,0)
required for creation of the extract record.
"^DD",727.826,727.826,6,23,0)
^^4^4^2980714^
"^DD",727.826,727.826,6,23,1,0)
NAME is derived from the PATIENT NAME field (#.02) of the RECORD OF PROS
"^DD",727.826,727.826,6,23,2,0)
APPLIANCE/REPAIR file (#660).  This in turn points to the NAME field
"^DD",727.826,727.826,6,23,3,0)
(#.01) of the PROSTHETICS PATIENT file (#665).  If the patient's last 
"^DD",727.826,727.826,6,23,4,0)
name is shorter than 4 characters, spaces will pad the end of the field.
"^DD",727.826,727.826,6,"DT")
2980714
"^DD",727.826,727.826,7,0)
IN OUTPATIENT INDICATOR^RP40.9'^DIC(40.9,^0;8^Q
"^DD",727.826,727.826,7,.1)
IN Outpatient Indicator
"^DD",727.826,727.826,7,3)
Enter 1 (Clinic) to indicate outpatient and 3 (Ward) to indicate inpatient.
"^DD",727.826,727.826,7,10)
Initialized to 1.  If IN5^VADPT returns a patient movement number, the value is 3.
"^DD",727.826,727.826,7,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for the
"^DD",727.826,727.826,7,21,2,0)
Prosthetic service extracted.
"^DD",727.826,727.826,7,23,0)
^^4^4^2980714^
"^DD",727.826,727.826,7,23,1,0)
The field is initiatlized to 1, indicating an outpatient status.  If a call
"^DD",727.826,727.826,7,23,2,0)
to IN5^VADPT (using the patient IEN and the event date) returns a patient
"^DD",727.826,727.826,7,23,3,0)
movement number, then the field is set to 3 (indicating an inpatient
"^DD",727.826,727.826,7,23,4,0)
status).
"^DD",727.826,727.826,7,"DT")
2980714
"^DD",727.826,727.826,8,0)
DATE OF SERVICE^RFO^^0;9^K:$L(X)>8!($L(X)<8)!'(X?8N) X
"^DD",727.826,727.826,8,.1)
Date of Service
"^DD",727.826,727.826,8,1,0)
^.1
"^DD",727.826,727.826,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.826,727.826,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.826,727.826,8,3)
Enter the delivery date of the patient's prosthetic record.
"^DD",727.826,727.826,8,10)
The DELIVERY DATE (#10) in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,8,21,0)
^^4^4^2981106^^^
"^DD",727.826,727.826,8,21,1,0)
DATE OF SERVICE is defined as the Delivery Date of the patient's prosthetic
"^DD",727.826,727.826,8,21,2,0)
record and is used as the determining date range when generating the
"^DD",727.826,727.826,8,21,3,0)
Prosthetics Extract.  This field is required for creation of the extract
"^DD",727.826,727.826,8,21,4,0)
record.
"^DD",727.826,727.826,8,23,0)
^^2^2^2981106^^
"^DD",727.826,727.826,8,23,1,0)
DATE OF SERVICE is derived from the DELIVERY DATE (#10) in the RECORD OF
"^DD",727.826,727.826,8,23,2,0)
PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,8,"DT")
2980722
"^DD",727.826,727.826,9,0)
FEEDER LOCATION^RF^^0;10^K:$L(X)>10!($L(X)<6) X
"^DD",727.826,727.826,9,.1)
Feeder Location
"^DD",727.826,727.826,9,3)
Answer must be 6-10 characters in length.
"^DD",727.826,727.826,9,10)
Data in the RECORD OF PROS APPLIANCE/REPAIR file (#660).  See Technical Description.
"^DD",727.826,727.826,9,21,0)
^^27^27^2990511^^^^
"^DD",727.826,727.826,9,21,1,0)
If this is a Lab Transaction and the extract header and/or Prosthetic
"^DD",727.826,727.826,9,21,2,0)
    Station is equal to the Receiving Station, the FEEDER LOCATION is
"^DD",727.826,727.826,9,21,3,0)
    constructed as follows:
"^DD",727.826,727.826,9,21,4,0)
1) 3-digit station number of the Receiving Station, concatenated with LAB. 
"^DD",727.826,727.826,9,21,5,0)
    An example is XXXLAB, where XXX is the Receiving Station number, or
"^DD",727.826,727.826,9,21,6,0)
2) 5-digit station number of the Receiving Station  (includes the 2-letter
"^DD",727.826,727.826,9,21,7,0)
    division suffix)  concatenated with LAB.  An example is XXXXXLAB, where
"^DD",727.826,727.826,9,21,8,0)
    XXXXX is the Receiving Station number.
"^DD",727.826,727.826,9,21,9,0)
  
"^DD",727.826,727.826,9,21,10,0)
If this is a Lab Transaction and the extract header and/or Prosthetic
"^DD",727.826,727.826,9,21,11,0)
    Station is equal to the Requesting Station, the FEEDER LOCATION is
"^DD",727.826,727.826,9,21,12,0)
    constructed as follows:
"^DD",727.826,727.826,9,21,13,0)
1) 3-digit station number of the Requesting Station, concatenated with ORD.
"^DD",727.826,727.826,9,21,14,0)
    An example is XXXORD, where XXX is the Requesting Station number, or
"^DD",727.826,727.826,9,21,15,0)
2) 5-digit station number of the Requesting Station (includes the 2-letter
"^DD",727.826,727.826,9,21,16,0)
    division suffix) concatenated with ORD.  An example is XXXXXORD, where
"^DD",727.826,727.826,9,21,17,0)
    XXXXX is the Requesting Station number.
"^DD",727.826,727.826,9,21,18,0)
 
"^DD",727.826,727.826,9,21,19,0)
If this is not a Lab Transaction, the FEEDER LOCATION is constructed as
"^DD",727.826,727.826,9,21,20,0)
    follows:
"^DD",727.826,727.826,9,21,21,0)
1) 3-digit Station number concatenated with NONL.  An example is XXXNONL,
"^DD",727.826,727.826,9,21,22,0)
    where XXX is the Station number, or
"^DD",727.826,727.826,9,21,23,0)
2) 5-digit Station number (includes the 2-letter division suffix),
"^DD",727.826,727.826,9,21,24,0)
    concatenated with NONL.  An example is XXXXXNONL, where XXXXX is the
"^DD",727.826,727.826,9,21,25,0)
    Station number.
"^DD",727.826,727.826,9,21,26,0)
 
"^DD",727.826,727.826,9,21,27,0)
This field is required for creation of the extract record.
"^DD",727.826,727.826,9,23,0)
^^9^9^2990511^^^^
"^DD",727.826,727.826,9,23,1,0)
Data for the FEEDER LOCATION (FDR LOC) is derived from the RECORD OF PROS
"^DD",727.826,727.826,9,23,2,0)
    APPLIANCE/REPAIR file (#660).  Depending how the FEEDER LOCATION is
"^DD",727.826,727.826,9,23,3,0)
    constructed, data is derived from the following fields in the RECORD OF
"^DD",727.826,727.826,9,23,4,0)
    PROS APPLIANCE/REPAIR file (#660):
"^DD",727.826,727.826,9,23,5,0)
1) RECEIVING STATION (#70).  RECEIVING STATION is a pointer to the
"^DD",727.826,727.826,9,23,6,0)
    INSTITUTION file (#4).
"^DD",727.826,727.826,9,23,7,0)
2) REQUESTING STATION (#40).  RECEIVING STATION is a pointer to the
"^DD",727.826,727.826,9,23,8,0)
    INSTITUTION file (#4).
"^DD",727.826,727.826,9,23,9,0)
3) STATION (#8).  STATION is a pointer to the INSTITUTION file (#4).
"^DD",727.826,727.826,9,"DT")
2981224
"^DD",727.826,727.826,10,0)
FEEDER KEY^RF^^0;11^K:$L(X)>20!($L(X)<7) X
"^DD",727.826,727.826,10,.1)
Feeder Key
"^DD",727.826,727.826,10,3)
Answer must be 7-20 characters in length.
"^DD",727.826,727.826,10,10)
Data in the RECORD OF PROS APPLIANCE/REPAIR file (#660).  See Technical Description.
"^DD",727.826,727.826,10,21,0)
^^39^39^2981117^^^
"^DD",727.826,727.826,10,21,1,0)
FEEDER KEY is the concatenation of the following elements.  They are listed
"^DD",727.826,727.826,10,21,2,0)
    in the order they are to appear in the FEEDER KEY.
"^DD",727.826,727.826,10,21,3,0)
 
"^DD",727.826,727.826,10,21,4,0)
1) HCPCS Code - This is the 5-digit HCPCS Code in the patient's prosthetic
"^DD",727.826,727.826,10,21,5,0)
    record.
"^DD",727.826,727.826,10,21,6,0)
 
"^DD",727.826,727.826,10,21,7,0)
2) Type of Transaction - This is the Type of Transaction code in the
"^DD",727.826,727.826,10,21,8,0)
      patient's prosthetic record.
"^DD",727.826,727.826,10,21,9,0)
   (a) If Type of Transaction in the patient's prosthetic record is "X"
"^DD",727.826,727.826,10,21,10,0)
       (Repair), the Type of Transaction code in the FEEDER KEY is X.
"^DD",727.826,727.826,10,21,11,0)
   (b) If the Type of Transaction in the patient's prosthetic record is 
"^DD",727.826,727.826,10,21,12,0)
       "I" (Initial Issue),  "R" (Replace) or "S" (Spare), the Type of
"^DD",727.826,727.826,10,21,13,0)
       Transaction code in the FEEDER KEY is N.
"^DD",727.826,727.826,10,21,14,0)
   (c) Type of Transaction is considered the first suffix of the FEEDER
"^DD",727.826,727.826,10,21,15,0)
       KEY.
"^DD",727.826,727.826,10,21,16,0)
 
"^DD",727.826,727.826,10,21,17,0)
3) Source - This is the Source in the patient's prosthetic record.
"^DD",727.826,727.826,10,21,18,0)
   (a) If Source in the patient's prosthetic record is VA, the Source code
"^DD",727.826,727.826,10,21,19,0)
       in the FEEDER KEY is V (VA).
"^DD",727.826,727.826,10,21,20,0)
   (b) If Source in the patient's prosthetic record is Commercial, the
"^DD",727.826,727.826,10,21,21,0)
       Source code in the FEEDER KEY is C (Commercial).
"^DD",727.826,727.826,10,21,22,0)
   (c) Source is considered the second suffix of the FEEDER KEY.
"^DD",727.826,727.826,10,21,23,0)
 
"^DD",727.826,727.826,10,21,24,0)
4) Station - If this is a Lab Transaction, the station is either the
"^DD",727.826,727.826,10,21,25,0)
      Requesting or Receiving Station.  
"^DD",727.826,727.826,10,21,26,0)
   (a) 3-digit Receiving Station concatenated with REC if the FEEDER
"^DD",727.826,727.826,10,21,27,0)
       LOCATION ends in ORD, or
"^DD",727.826,727.826,10,21,28,0)
   (b) 5-digit Receiving Station (includes the 2-letter division suffix)
"^DD",727.826,727.826,10,21,29,0)
       concatenated with REC if the FEEDER LOCATION ends in ORD, or
"^DD",727.826,727.826,10,21,30,0)
   (c) 3-digit Requesting Station concatenated with REQ if the FEEDER
"^DD",727.826,727.826,10,21,31,0)
       LOCATION ends in LAB, or
"^DD",727.826,727.826,10,21,32,0)
   (d) 5-digit Requesting Station (includes the 2-letter division suffix)
"^DD",727.826,727.826,10,21,33,0)
       concatenated with REQ if the FEEDER LOCATION ends in LAB.
"^DD",727.826,727.826,10,21,34,0)
   (e) Station is considered the third suffix of the FEEDER KEY.
"^DD",727.826,727.826,10,21,35,0)
 
"^DD",727.826,727.826,10,21,36,0)
5) If this is a Non-Lab Transaction, there is no third suffix for the
"^DD",727.826,727.826,10,21,37,0)
      FEEDER KEY.
"^DD",727.826,727.826,10,21,38,0)
 
"^DD",727.826,727.826,10,21,39,0)
This field is required for creation of the extract record.
"^DD",727.826,727.826,10,23,0)
^^13^13^2981117^^^
"^DD",727.826,727.826,10,23,1,0)
Data for the FEEDER KEY is derived from the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,10,23,2,0)
    file (#660).  Depending how the FEEDER KEY is constructed, the
"^DD",727.826,727.826,10,23,3,0)
    components for the FEEDER KEY are derived from the following fields in
"^DD",727.826,727.826,10,23,4,0)
    the RECORD OF PROS APPLIANCE/REPAIR file (#660):
"^DD",727.826,727.826,10,23,5,0)
1) HCPCS (#4.1) - HCPCS is a pointer to the CPT CODE field (#.01) of the
"^DD",727.826,727.826,10,23,6,0)
    CPT file (#81)
"^DD",727.826,727.826,10,23,7,0)
2) TYPE OF TRANSACTION (#2)
"^DD",727.826,727.826,10,23,8,0)
3) SOURCE (#12)
"^DD",727.826,727.826,10,23,9,0)
4) RECEIVING STATION (#70).  RECEIVING STATION is a pointer to the
"^DD",727.826,727.826,10,23,10,0)
    INSTITUTION file (#4).
"^DD",727.826,727.826,10,23,11,0)
5) REQUESTING STATION (#40).  REQUESTING STATION is a pointer to the
"^DD",727.826,727.826,10,23,12,0)
    INSTITUTION file (#4).
"^DD",727.826,727.826,10,23,13,0)
6) STATION (#8).  STATION is a pointer to the INSTITUTION file (#4).
"^DD",727.826,727.826,10,"DT")
2981224
"^DD",727.826,727.826,11,0)
QUANTITY^F^^0;12^K:$L(X)>8!($L(X)<1) X
"^DD",727.826,727.826,11,.1)
Quantity
"^DD",727.826,727.826,11,3)
Answer must be 1-8 characters in length
"^DD",727.826,727.826,11,10)
QUANTITY is derived from the QTY (#5) in RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,11,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,11,21,1,0)
QUANTITY is defined as the number of units issues or repaired as indicated
"^DD",727.826,727.826,11,21,2,0)
in the patient's prosthetic record.
"^DD",727.826,727.826,11,23,0)
^^3^3^2981117^^^^
"^DD",727.826,727.826,11,23,1,0)
Derived from the QTY field (#5) in the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,11,23,2,0)
file (#660).  If the quantity is not known, a default value of 1 will
"^DD",727.826,727.826,11,23,3,0)
be assigned to the extract record.  
"^DD",727.826,727.826,11,"DT")
3001005
"^DD",727.826,727.826,12,0)
PRIMARY CARE TEAM^F^^0;13^K:$L(X)>4!($L(X)<1) X
"^DD",727.826,727.826,12,.1)
Primary Care Team
"^DD",727.826,727.826,12,3)
Answer must be 1-4 characters in length.
"^DD",727.826,727.826,12,10)
OUTPTTM^SDUTL3 returns the teams IEN from the Team file (404.51).
"^DD",727.826,727.826,12,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,12,21,1,0)
PRIMARY CARE TEAM indicates the primary care team entry assigned to the
"^DD",727.826,727.826,12,21,2,0)
patient for whom the prosthetic service is provided.
"^DD",727.826,727.826,12,23,0)
^^3^3^2981117^^^^
"^DD",727.826,727.826,12,23,1,0)
From the DATE OF SERVICE field and the patient's DFN, OUTPTTM^SDUTL3
"^DD",727.826,727.826,12,23,2,0)
returns the teams IEN from the TEAM file (404.51).  This pointer is
"^DD",727.826,727.826,12,23,3,0)
transmitted to Austin.  
"^DD",727.826,727.826,12,"DT")
2981116
"^DD",727.826,727.826,13,0)
PRIMARY CARE PROVIDER^F^^0;14^K:$L(X)>11!($L(X)<2) X
"^DD",727.826,727.826,13,.1)
Primary Care Provider
"^DD",727.826,727.826,13,3)
Answer must be 2-11 characters in length.
"^DD",727.826,727.826,13,10)

"^DD",727.826,727.826,13,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,13,21,1,0)
PRIMARY CARE PROVIDER is the primary care provider of the patient for
"^DD",727.826,727.826,13,21,2,0)
whom the prosthetic service is provided.
"^DD",727.826,727.826,13,23,0)
^^3^3^2981117^^^^
"^DD",727.826,727.826,13,23,1,0)
From the DATE OF SERVICE field and the patient's DFN, OUTPTPR^SDUTL3
"^DD",727.826,727.826,13,23,2,0)
returns the provider's New Person file record IEN.  The New Person IEN
"^DD",727.826,727.826,13,23,3,0)
is transmitted to Austin with "2" concatenated on the front.  
"^DD",727.826,727.826,13,"DT")
2981117
"^DD",727.826,727.826,14,0)
PCE CPT/HCPCS CODE & MODIFIERS^RFO^^0;15^K:$L(X)>15!($L(X)<5) X
"^DD",727.826,727.826,14,.1)

"^DD",727.826,727.826,14,1,0)
^.1
"^DD",727.826,727.826,14,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.826,727.826,14,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.826,727.826,14,3)
Answer must be 5-15 characters in length.
"^DD",727.826,727.826,14,10)
Derived from the HCPCS field (4.1) in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,14,21,0)
^^5^5^2990507^^^^
"^DD",727.826,727.826,14,21,1,0)
The CPT code identified by the Prosthesis HCPCS.  This field is required
"^DD",727.826,727.826,14,21,2,0)
for creation of the extract record.
"^DD",727.826,727.826,14,21,3,0)
 
"^DD",727.826,727.826,14,21,4,0)
The 5 character CPT/HCPCS Code is followed by upto five (5) 2-character
"^DD",727.826,727.826,14,21,5,0)
CPT code modifiers.
"^DD",727.826,727.826,14,23,0)
^^7^7^2990507^^^^
"^DD",727.826,727.826,14,23,1,0)
PCE CPT/HCPCS CODE is derived from the HCPCS (#4.1) field in the RECORD
"^DD",727.826,727.826,14,23,2,0)
OF PROS APPLIANCE/REPAIR file (#660).  HCPCS (#4.1) is a pointer to the
"^DD",727.826,727.826,14,23,3,0)
respective CPT CODE field (#.01) in the CPT file (#81).
"^DD",727.826,727.826,14,23,4,0)
 
"^DD",727.826,727.826,14,23,5,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the
"^DD",727.826,727.826,14,23,6,0)
CPT MODIFIER file (#81.3).  It is not known at this time where the 
"^DD",727.826,727.826,14,23,7,0)
Prosthetics package will store those modifiers.
"^DD",727.826,727.826,14,"DT")
2990614
"^DD",727.826,727.826,15,0)
ICD-9 CODE^F^^0;16^K:$L(X)>7!($L(X)<1) X
"^DD",727.826,727.826,15,.1)
ICD-9 Code
"^DD",727.826,727.826,15,3)
Enter the Prosthetics ICD-9 code.
"^DD",727.826,727.826,15,10)
No source currently exists in Prosthetics.  This field will be populated at a future time.
"^DD",727.826,727.826,15,21,0)
^.001^1^1^3000801^^^^
"^DD",727.826,727.826,15,21,1,0)
ICD-9 CODE is the diagnostic code for the patient's prosthetic record.
"^DD",727.826,727.826,15,23,0)
^.001^2^2^3000801^^^^
"^DD",727.826,727.826,15,23,1,0)
This field is not yet used by the Prosthetics Extract as the ICD-9 field
"^DD",727.826,727.826,15,23,2,0)
is not available in Prosthetics.
"^DD",727.826,727.826,15,"DT")
2980714
"^DD",727.826,727.826,16,0)
SECONDARY ICD-9 CODE 1^F^^0;17^K:$L(X)>7!($L(X)<1) X
"^DD",727.826,727.826,16,.1)

"^DD",727.826,727.826,16,3)
Answer must be 1-7 characters in length.
"^DD",727.826,727.826,16,10)

"^DD",727.826,727.826,16,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,16,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.826,727.826,16,"DT")
3000801
"^DD",727.826,727.826,17,0)
SECONDARY ICD-9 CODE 2^F^^0;18^K:$L(X)>7!($L(X)<1) X
"^DD",727.826,727.826,17,.1)

"^DD",727.826,727.826,17,3)
Answer must be 1-7 characters in length.
"^DD",727.826,727.826,17,10)

"^DD",727.826,727.826,17,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,17,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.826,727.826,17,"DT")
3000801
"^DD",727.826,727.826,18,0)
SECONDARY ICD-9 CODE 3^F^^0;19^K:$L(X)>7!($L(X)<1) X
"^DD",727.826,727.826,18,.1)

"^DD",727.826,727.826,18,3)
Answer must be 1-7 characters in length.
"^DD",727.826,727.826,18,10)

"^DD",727.826,727.826,18,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,18,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.826,727.826,18,"DT")
3000801
"^DD",727.826,727.826,19,0)
SECONDARY ICD-9 CODE 4^F^^0;20^K:$L(X)>7!($L(X)<1) X
"^DD",727.826,727.826,19,.1)

"^DD",727.826,727.826,19,3)
Answer must be 1-7 characters in length.
"^DD",727.826,727.826,19,10)

"^DD",727.826,727.826,19,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,19,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.826,727.826,19,"DT")
3000801
"^DD",727.826,727.826,20,0)
AGENT ORANGE STATUS^S^Y:Agent Orange exposure claimed;N:Agent Orange exposure not claimed;U:Agent Orange exposure not known;^0;21^Q
"^DD",727.826,727.826,20,.1)
Agent Orange Status
"^DD",727.826,727.826,20,3)
Enter Y - Agent Orange exposure; N - No Agent Orange exposure; U - Agent Orange Exposure is unknown
"^DD",727.826,727.826,20,10)
AGENT ORANGE EXPOS. INDICATED field (#.32102) from the Patient file (#2) as derived from DFN.
"^DD",727.826,727.826,20,21,0)
^^2^2^2990505^^^^
"^DD",727.826,727.826,20,21,1,0)
AGENT ORANGE STATUS indicates if the prosthetics patient claims exposure
"^DD",727.826,727.826,20,21,2,0)
to Agent Orange.
"^DD",727.826,727.826,20,23,0)
^^6^6^2990505^^^
"^DD",727.826,727.826,20,23,1,0)
This field is derived from the AGENT ORANGE EXPOS. INDICATED field
"^DD",727.826,727.826,20,23,2,0)
(#.32102) in the Patient file (#2) using the patient's DFN.  The field will
"^DD",727.826,727.826,20,23,3,0)
have a NULL value if the Patient file (#2) record does not indicate a
"^DD",727.826,727.826,20,23,4,0)
status.
"^DD",727.826,727.826,20,23,5,0)
 
"^DD",727.826,727.826,20,23,6,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.826,727.826,20,"DT")
2980714
"^DD",727.826,727.826,21,0)
RADIATION EXPOSURE STATUS^S^Y:Radiation Exposure claimed;N:Radiation Exposure not claimed;U:Radiation Exposure not known;^0;22^Q
"^DD",727.826,727.826,21,.1)
Radiation Exposure Status
"^DD",727.826,727.826,21,3)
Enter Y - Radiation exposure; N - No Radiation exposure; U - Radiation Exposure is unknown
"^DD",727.826,727.826,21,10)
RADIATION EXPOSURE INDICATED field (#.32103) from the Patient file (#2) as derived from DFN.
"^DD",727.826,727.826,21,21,0)
^^2^2^2990505^^^
"^DD",727.826,727.826,21,21,1,0)
RADIATION EXPOSURE STATUS indicates if the prosthetics patient claims
"^DD",727.826,727.826,21,21,2,0)
exposure to radiation.
"^DD",727.826,727.826,21,23,0)
^^5^5^2990505^^^
"^DD",727.826,727.826,21,23,1,0)
This field is derived from the RADIATION EXPOSURE INDICATED field (#.32103)
"^DD",727.826,727.826,21,23,2,0)
in the Patient file (#2) using the patient's DFN.  This field will have
"^DD",727.826,727.826,21,23,3,0)
a NULL value if the Patient file (#2) record does not indicate a status.
"^DD",727.826,727.826,21,23,4,0)
 
"^DD",727.826,727.826,21,23,5,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.826,727.826,21,"DT")
2980714
"^DD",727.826,727.826,22,0)
ENVIRONMENT CONTAMINANTS STAT^S^Y:Environmental Contaminants exposure claimed;N:Environmental Contaminants exposure not claimed;U:Environmental Contaminants exposure not known;^0;23^Q
"^DD",727.826,727.826,22,.1)
Environmental Contaminants Status
"^DD",727.826,727.826,22,3)
Enter Y - Environmental Contaminants exposure; N - No Environmental Contaminants exposure; U - Environmental Contaminants exposure is unknown
"^DD",727.826,727.826,22,10)
ENVIRONMENTAL CONTAMINANTS field (#.322013) from the Patient file (#2) as derived from DFN.
"^DD",727.826,727.826,22,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,22,21,1,0)
ENVIRONMENT CONTAMINANTS STAT indicates if the prosthetics patient
"^DD",727.826,727.826,22,21,2,0)
claims exposure to Environmental Contaminants.
"^DD",727.826,727.826,22,23,0)
^^3^3^2980714^
"^DD",727.826,727.826,22,23,1,0)
This field is derived from the ENVIRONMENTAL CONTAMINANTS field (#.322013)
"^DD",727.826,727.826,22,23,2,0)
in the Patient file (#2) using the patient's DFN.  The field will have
"^DD",727.826,727.826,22,23,3,0)
a NULL value if the Patient file (#2) record does not indicate a status.
"^DD",727.826,727.826,22,"DT")
2980714
"^DD",727.826,727.826,23,0)
PATIENT ELIGIBILITY^F^^0;24^K:$L(X)>3!($L(X)<1) X
"^DD",727.826,727.826,23,.1)
Patient Eligibility
"^DD",727.826,727.826,23,3)
Answer must be 1-3 characters in length.
"^DD",727.826,727.826,23,10)
PATIENT ELIGIBILITY field (#.361) from the Patient file (#2) as derived from DFN.
"^DD",727.826,727.826,23,21,0)
^^1^1^2990504^^^^
"^DD",727.826,727.826,23,21,1,0)
PATIENT ELIGIBILITY is the patient's primary eligibility code.
"^DD",727.826,727.826,23,23,0)
^^11^11^2990504^^^^
"^DD",727.826,727.826,23,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.826,727.826,23,23,2,0)
in the PROSTHETICS EXTRACT file (#727.826), ELIGIBILITY data is derived from
"^DD",727.826,727.826,23,23,3,0)
the PRIMARY ELIGIBILITY CODE field (.361) in the PATIENT file (#2).
"^DD",727.826,727.826,23,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8).
"^DD",727.826,727.826,23,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (8) in the
"^DD",727.826,727.826,23,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS
"^DD",727.826,727.826,23,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.826,727.826,23,23,8,0)
 
"^DD",727.826,727.826,23,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.826,727.826,23,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.826,727.826,23,23,11,0)
two or three numeric characters.
"^DD",727.826,727.826,23,"DT")
2981117
"^DD",727.826,727.826,24,0)
COST OF TRANSACTION^F^^0;25^K:$L(X)>6!($L(X)<1) X
"^DD",727.826,727.826,24,.1)
Cost of Transaction
"^DD",727.826,727.826,24,3)
Answer must be 1-6 characters in length.
"^DD",727.826,727.826,24,10)
TOTAL COST (#14) or TOTAL LAB COST (#48) from the RECORD OF PROS APPLIANCE/REPAIR file.
"^DD",727.826,727.826,24,21,0)
^^24^24^2990511^^^
"^DD",727.826,727.826,24,21,1,0)
COST OF TRANSACTION is the value found in TOTAL COST in the patient's
"^DD",727.826,727.826,24,21,2,0)
    prosthetic record when the Form Requested On is one of the following.
"^DD",727.826,727.826,24,21,3,0)
    These forms designate commercial acquisition methods:
"^DD",727.826,727.826,24,21,4,0)
1)  PSC, represented by 1.
"^DD",727.826,727.826,24,21,5,0)
2)  2421, represented by 2.
"^DD",727.826,727.826,24,21,6,0)
3)  2237, represented by 3.
"^DD",727.826,727.826,24,21,7,0)
4)  2529-7, represented by 5.
"^DD",727.826,727.826,24,21,8,0)
5)  2474, represented by 6.
"^DD",727.826,727.826,24,21,9,0)
6)  2431, represented by 7.
"^DD",727.826,727.826,24,21,10,0)
7)  2914, represented by 8.
"^DD",727.826,727.826,24,21,11,0)
8)  OTHER, represented by 9.
"^DD",727.826,727.826,24,21,12,0)
9)  2520, represented by 10.
"^DD",727.826,727.826,24,21,13,0)
10) VISA, represented by 14
"^DD",727.826,727.826,24,21,14,0)
 
"^DD",727.826,727.826,24,21,15,0)
COST OF TRANSACTION is the value found in TOTAL LAB COST in the patient's
"^DD",727.826,727.826,24,21,16,0)
    prosthetic record when the Form Requested On is the following
"^DD",727.826,727.826,24,21,17,0)
    (designating a Lab Transaction): 
"^DD",727.826,727.826,24,21,18,0)
1)  2529-3, represented by 4.
"^DD",727.826,727.826,24,21,19,0)
 
"^DD",727.826,727.826,24,21,20,0)
COST OF TRANSACTION has a value of zero when the Form Requested On is one
"^DD",727.826,727.826,24,21,21,0)
    of the following, which designates a stock or inventory issue:
"^DD",727.826,727.826,24,21,22,0)
1)  STOCK ISSUE, represented by 11.
"^DD",727.826,727.826,24,21,23,0)
2)  INVENTORY ISSUE, represented by 12.
"^DD",727.826,727.826,24,21,24,0)
 
"^DD",727.826,727.826,24,23,0)
^^7^7^2990511^^^
"^DD",727.826,727.826,24,23,1,0)
COST OF TRANSACTION is derived from the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,24,23,2,0)
    file (#660).  Depending on how the COST OF TRANSACTION is constructed,
"^DD",727.826,727.826,24,23,3,0)
    data is derived from the following fields in the RECORD OF PROS
"^DD",727.826,727.826,24,23,4,0)
    APPLIANCE/REPAIR file (#660):
"^DD",727.826,727.826,24,23,5,0)
1) TOTAL COST (#14)
"^DD",727.826,727.826,24,23,6,0)
2) TOTAL LAB COST (#48)
"^DD",727.826,727.826,24,23,7,0)
3) FORM REQUESTED ON (#11)
"^DD",727.826,727.826,24,"DT")
2981215
"^DD",727.826,727.826,25,0)
LAB LABOR COST^F^^0;26^K:$L(X)>6!($L(X)<1) X
"^DD",727.826,727.826,25,.1)
Lab Labor Cost
"^DD",727.826,727.826,25,3)
Answer must be 1-6 characters in length.
"^DD",727.826,727.826,25,10)
TOTAL LABOR COST (#46) in the RECORD OF PROS APPLIANCE/REPAIR file.
"^DD",727.826,727.826,25,21,0)
^^1^1^2981117^^^^
"^DD",727.826,727.826,25,21,1,0)
The LAB LABOR COST is the total cost of labor to perform the job.
"^DD",727.826,727.826,25,23,0)
^^13^13^2981117^^^
"^DD",727.826,727.826,25,23,1,0)
LAB LABOR COST is derived from the TOTAL LABOR COST (#46) in the RECORD
"^DD",727.826,727.826,25,23,2,0)
OF PROS APPLIANCE/REPAIR file.  The following algorithm is defined:
"^DD",727.826,727.826,25,23,3,0)
 
"^DD",727.826,727.826,25,23,4,0)
a) If the patient's prosthetic record indicates a Lab Transaction, the
"^DD",727.826,727.826,25,23,5,0)
   value of LAB LABOR COST is equal to the value found for TOTAL LABOR
"^DD",727.826,727.826,25,23,6,0)
   COST.
"^DD",727.826,727.826,25,23,7,0)
 
"^DD",727.826,727.826,25,23,8,0)
b) If the patient's prosthetic record is not a Lab Transaction, the value
"^DD",727.826,727.826,25,23,9,0)
   of LAB LABOR COST is zero.
"^DD",727.826,727.826,25,23,10,0)
 
"^DD",727.826,727.826,25,23,11,0)
c) If LAB LABOR COST is not known, and the patient's prosthetic record
"^DD",727.826,727.826,25,23,12,0)
   indicates a Lab Transaction, a zero value is assigned to the extract
"^DD",727.826,727.826,25,23,13,0)
   record.
"^DD",727.826,727.826,25,"DT")
2981117
"^DD",727.826,727.826,26,0)
LAB MATERIAL COST^F^^0;27^K:$L(X)>6!($L(X)<1) X
"^DD",727.826,727.826,26,.1)
Lab Material Cost
"^DD",727.826,727.826,26,3)
Answer must be 1-6 characters in length.
"^DD",727.826,727.826,26,10)
TOTAL MATERIAL COST (#47) in the RECORD OF PROS APPLIANCE/REPAIR file.
"^DD",727.826,727.826,26,21,0)
^^2^2^2981117^^^
"^DD",727.826,727.826,26,21,1,0)
LAB MATERIAL COST is the cost of all materials required to complete the
"^DD",727.826,727.826,26,21,2,0)
prosthesis.
"^DD",727.826,727.826,26,23,0)
^^16^16^2981117^^
"^DD",727.826,727.826,26,23,1,0)
The LAB MATERIAL COST is derived from the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,26,23,2,0)
according to the following algorithm:
"^DD",727.826,727.826,26,23,3,0)
a) If the patient's prosthetic record indicates a Lab Transaction, the
"^DD",727.826,727.826,26,23,4,0)
   value of LAB MATERIAL COST is equal to the value found for TOTAL
"^DD",727.826,727.826,26,23,5,0)
   MATERIAL COST.
"^DD",727.826,727.826,26,23,6,0)
 
"^DD",727.826,727.826,26,23,7,0)
b) If the patient's prosthetic record is not a Lab Transaction, the value
"^DD",727.826,727.826,26,23,8,0)
   of LAB MATERIAL COST is zero.
"^DD",727.826,727.826,26,23,9,0)
 
"^DD",727.826,727.826,26,23,10,0)
c) If LAB MATERIAL COST is not known, and the patient's prosthetic record
"^DD",727.826,727.826,26,23,11,0)
   indicates a Lab Transaction, a zero value is assigned to the extract
"^DD",727.826,727.826,26,23,12,0)
   record.
"^DD",727.826,727.826,26,23,13,0)
 
"^DD",727.826,727.826,26,23,14,0)
d) LAB MATERIAL COST shall allow for values which are reported in dollars
"^DD",727.826,727.826,26,23,15,0)
   and cents.  The actual value shall be extracted, including the decimal
"^DD",727.826,727.826,26,23,16,0)
   point.
"^DD",727.826,727.826,26,"DT")
2981117
"^DD",727.826,727.826,27,0)
BILLING STATUS^S^1:SC/OP (Service Connected Outpatient);2:SC/IP (Service Connected Inpatient);3:NSC/IP (Non Service Connected Inpatient);4:NSC/OP (Non Service Connected Outpatient);5:Other (Patient Category unknown);^0;28^Q
"^DD",727.826,727.826,27,.1)
Billing Status
"^DD",727.826,727.826,27,3)
Enter the Prosthetic Patient Category for utilization.
"^DD",727.826,727.826,27,10)
BILLING STATUS is derived from PATIENT CATEGORY in the RECORD OF PROS APPLIANCE/REPAIR file (#660)
"^DD",727.826,727.826,27,21,0)
^^1^1^2990511^^^
"^DD",727.826,727.826,27,21,1,0)
BILLING STATUS is the prosthetics utilization status.
"^DD",727.826,727.826,27,23,0)
^^3^3^2990511^^
"^DD",727.826,727.826,27,23,1,0)
BILLING STATUS is derived from the PATIENT CATEGORY field (#62) in the
"^DD",727.826,727.826,27,23,2,0)
RECORD OF PROS APPLIANCE/REPAIR file (#660) for the prosthetic device
"^DD",727.826,727.826,27,23,3,0)
record extracted.
"^DD",727.826,727.826,27,"DT")
2980715
"^DD",727.826,727.826,28,0)
VET/NON VET^S^Y:Patient is a veteran;N:Patient is not a veteran;^0;29^Q
"^DD",727.826,727.826,28,.1)
Vet/Non Vet
"^DD",727.826,727.826,28,3)
Enter Y to indicate the patient is a veteran and N to indicate the patient is not a veteran.
"^DD",727.826,727.826,28,10)
VET/NON VET is derived from the VETERAN (Y/N) field in the Patient file using DFN.
"^DD",727.826,727.826,28,21,0)
^^1^1^2980715^^
"^DD",727.826,727.826,28,21,1,0)
VET/NON VET indicates if the patient is a veteran.
"^DD",727.826,727.826,28,23,0)
^^3^3^2980715^
"^DD",727.826,727.826,28,23,1,0)
VET/NON VET is pulled from the VETERAN (Y/N) field (#1901) in the Patient
"^DD",727.826,727.826,28,23,2,0)
file (#2).  If the veteran's status is not known, a NULL value will be
"^DD",727.826,727.826,28,23,3,0)
assigned to the the VET/NON VET field.
"^DD",727.826,727.826,28,"DT")
2980715
"^DD",727.826,727.826,29,0)
TYPE OF TRANSACTION^S^I:Initial issue;R:Replacement;S:Spare;X:Repair;^0;30^Q
"^DD",727.826,727.826,29,.1)
Type of Transaction
"^DD",727.826,727.826,29,3)
Enter I to indicate an initial prosthetic issue, R for replacement, S for a spare prosthesis and X for a repaired prosthesis.
"^DD",727.826,727.826,29,10)
TYPE OF TRANSACTION field (#2) in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,29,21,0)
^^2^2^2981222^^^
"^DD",727.826,727.826,29,21,1,0)
TYPE OF TRANSACTION is the code that best describes the prosthetic
"^DD",727.826,727.826,29,21,2,0)
transaction.
"^DD",727.826,727.826,29,23,0)
^^3^3^2981222^^
"^DD",727.826,727.826,29,23,1,0)
The TYPE OF TRANSACTION is derived from the TYPE OF TRANSACTION field (#2)
"^DD",727.826,727.826,29,23,2,0)
in the RECORD OF PROS APPLIANCE/REPAIR file (#660).  If the TYPE OF
"^DD",727.826,727.826,29,23,3,0)
TRANSACTION is not known, NULL is assigned to the field.
"^DD",727.826,727.826,29,"DT")
2980715
"^DD",727.826,727.826,30,0)
REQUESTING STATION^F^^0;31^K:$L(X)>5!($L(X)<3) X
"^DD",727.826,727.826,30,.1)
Requesting Station
"^DD",727.826,727.826,30,3)
Answer must be 3-5 characters in length.
"^DD",727.826,727.826,30,10)
STATION NUMBER (#99) in the INSTITUTION file pointed to by REQESTING STATION in file #660.
"^DD",727.826,727.826,30,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,30,21,1,0)
REQUESTING STATION is the facility that initiates the request for a Lab
"^DD",727.826,727.826,30,21,2,0)
prosthetic.
"^DD",727.826,727.826,30,23,0)
^^4^4^2981117^^^
"^DD",727.826,727.826,30,23,1,0)
REQUESTING STATION is derived by pulling the STATION NUMBER in the
"^DD",727.826,727.826,30,23,2,0)
INSTITUTION file (#4) as pointed to by the REQUESTING STATION (#40) in the
"^DD",727.826,727.826,30,23,3,0)
RECORD OF PROS APPLIANCE/REPAIR (#660).  Only the first five characters
"^DD",727.826,727.826,30,23,4,0)
of the STATION NUMBER will be extracted.  
"^DD",727.826,727.826,30,"DT")
2981117
"^DD",727.826,727.826,31,0)
RECEIVING STATION^F^^0;32^K:$L(X)>5!($L(X)<3) X
"^DD",727.826,727.826,31,.1)
Receiving Station
"^DD",727.826,727.826,31,3)
Answer must be 3-5 characters in length.
"^DD",727.826,727.826,31,10)
STATION NUMBER (#99) in the INSTITUTION file pointed to by RECEIVING STATION in file #660.
"^DD",727.826,727.826,31,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,31,21,1,0)
RECEIVING STATION is the Lab facility filling the Lab request and providing
"^DD",727.826,727.826,31,21,2,0)
the prosthetic to the REQUESTING STATION.
"^DD",727.826,727.826,31,23,0)
^^4^4^2981117^^^
"^DD",727.826,727.826,31,23,1,0)
RECEIVING STATION is derived by pulling the STATION NUMBER in the 
"^DD",727.826,727.826,31,23,2,0)
INSTITUTION file (#4) as pointed to by the RECEIVING STATION (#70) in the
"^DD",727.826,727.826,31,23,3,0)
RECORD OF PROS APPLIANCE/REPAIR (#660).  Only the first five characters
"^DD",727.826,727.826,31,23,4,0)
of the STATION NUMBER will be extracted.  
"^DD",727.826,727.826,31,"DT")
2981117
"^DD",727.826,727.826,32,0)
PSAS HCPCS CODE^F^^0;33^K:$L(X)>15!($L(X)<5) X
"^DD",727.826,727.826,32,3)
Answer must be 5-15 characters in length.
"^DD",727.826,727.826,32,10)

"^DD",727.826,727.826,32,21,0)
^^2^2^2990105^^^^
"^DD",727.826,727.826,32,21,1,0)
This field is used to hold the PSAS HCPCS Code from the Prosthetics
"^DD",727.826,727.826,32,21,2,0)
record being extracted.
"^DD",727.826,727.826,32,23,0)
^^4^4^2990105^^^
"^DD",727.826,727.826,32,23,1,0)
The PSAS HCPCS field (#4.5) of the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,32,23,2,0)
file (#660) is used.  It is a pointer to the PROSTHETICS HCPCS file 
"^DD",727.826,727.826,32,23,3,0)
(#661.1).  The HCPCS field (#.01) of file #661.1 is placed in this
"^DD",727.826,727.826,32,23,4,0)
extract record field.
"^DD",727.826,727.826,32,"DT")
2990802
"^DD",727.826,727.826,33,0)
ZIP CODE^F^^1;1^K:$L(X)>10!($L(X)<5) X
"^DD",727.826,727.826,33,.1)
ZIP Code
"^DD",727.826,727.826,33,3)
Enter the ZIP or ZIP+4 for the prosthetics patient.
"^DD",727.826,727.826,33,10)
ZIP+4 (.1112) in the Patient file (#2) as referenced by DFN.
"^DD",727.826,727.826,33,21,0)
^^2^2^2980715^^
"^DD",727.826,727.826,33,21,1,0)
ZIP CODE is the patient ZIP+4 as indicated in the patient's Patient file
"^DD",727.826,727.826,33,21,2,0)
(#2) record.
"^DD",727.826,727.826,33,23,0)
^^3^3^2980715^
"^DD",727.826,727.826,33,23,1,0)
ZIP CODE is derived from the ZIP+4 field in the Patient file for the
"^DD",727.826,727.826,33,23,2,0)
record indicated by the (prosthetics patient) DFN.  The value of ZIP CODE
"^DD",727.826,727.826,33,23,3,0)
may be either the 5 digit ZIP CODE or the ZIP+4 code.
"^DD",727.826,727.826,33,"DT")
2980715
"^DD",727.826,727.826,34,0)
DATE OF BIRTH^FO^^1;2^K:$L(X)>8!($L(X)<8) X
"^DD",727.826,727.826,34,.1)
Date of Birth
"^DD",727.826,727.826,34,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.826,727.826,34,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.826,727.826,34,3)
Enter the patient's birthday in the format YYYYMMDD.
"^DD",727.826,727.826,34,10)
DATE OF BIRTH (#.03) in the Patient file.
"^DD",727.826,727.826,34,21,0)
^^1^1^2990505^^^
"^DD",727.826,727.826,34,21,1,0)
The patient data of birth.
"^DD",727.826,727.826,34,23,0)
^^3^3^2990505^^
"^DD",727.826,727.826,34,23,1,0)
DATE OF BIRTH is derived from the DATE OF BIRTH field (#.03) in the
"^DD",727.826,727.826,34,23,2,0)
Patient file (#2) referenced by the patient's DFN.  DATE OF BIRTH will be
"^DD",727.826,727.826,34,23,3,0)
stored in the format YYYYMMDD.
"^DD",727.826,727.826,34,"DT")
2980715
"^DD",727.826,727.826,35,0)
SEX^S^M:MALE;F:FEMALE;^1;3^Q
"^DD",727.826,727.826,35,.1)

"^DD",727.826,727.826,35,3)

"^DD",727.826,727.826,35,10)
SEX (.02) in the Patient file (#2) as referenced by DFN.
"^DD",727.826,727.826,35,21,0)
^^1^1^2990505^^^^
"^DD",727.826,727.826,35,21,1,0)
Data is M if this patient is a male, or F if female.
"^DD",727.826,727.826,35,23,0)
^^3^3^2990505^^^^
"^DD",727.826,727.826,35,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4),
"^DD",727.826,727.826,35,23,2,0)
this data element is derived from the SEX field (#.02) in the PATIENT 
"^DD",727.826,727.826,35,23,3,0)
file (#2).
"^DD",727.826,727.826,35,"DT")
2990505
"^DD",727.826,727.826,36,0)
AMIS GROUPER^NJ8,0^^1;4^K:+X'=X!(X>99999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.826,727.826,36,.1)
AMIS Grouper
"^DD",727.826,727.826,36,1,0)
^.1
"^DD",727.826,727.826,36,3)
Enter the specific grouper number that is used to indicate what parts combine to create a prosthetic device.
"^DD",727.826,727.826,36,10)
AMIS GROUPER field (#68) of the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,36,21,0)
^^2^2^2980715^^^
"^DD",727.826,727.826,36,21,1,0)
AMIS GROUPER holds the AMIS Grouper number that indicates what items
"^DD",727.826,727.826,36,21,2,0)
combine to create a prosthetic device.
"^DD",727.826,727.826,36,23,0)
^^3^3^2980715^^
"^DD",727.826,727.826,36,23,1,0)
AMIS GROUPER is derived from the AMIS GROUPER field (#68) in the RECORD OF
"^DD",727.826,727.826,36,23,2,0)
PROS APPLIANCE/REPAIR file (#660).  The field is used to sort prosthetic
"^DD",727.826,727.826,36,23,3,0)
items that combine to create a prosthesis.  Decimals are not allowed.
"^DD",727.826,727.826,36,"DT")
2980722
"^DD",727.826,727.826,37,0)
PRIMARY CARE PROVIDER NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.826,727.826,37,.1)
Primary Care Provider NPI
"^DD",727.826,727.826,37,3)
Enter the National Provider Index for the Primary Care Provider.
"^DD",727.826,727.826,37,10)
Not yet available.
"^DD",727.826,727.826,37,21,0)
^^2^2^2980715^^
"^DD",727.826,727.826,37,21,1,0)
This field is a placeholder that will be populated when the NPI becomes
"^DD",727.826,727.826,37,21,2,0)
available.
"^DD",727.826,727.826,37,23,0)
^^1^1^2980715^
"^DD",727.826,727.826,37,23,1,0)
The National Provider Index is not yet available.
"^DD",727.826,727.826,37,"DT")
2980715
"^DD",727.826,727.826,38,0)
MASTER PATIENT INDEX^F^^1;6^K:$L(X)>10!($L(X)<1) X
"^DD",727.826,727.826,38,.1)
Master Patient Index
"^DD",727.826,727.826,38,3)
Enter the Master Patient Index for the prosthetics patient.
"^DD",727.826,727.826,38,10)
Not yet available.
"^DD",727.826,727.826,38,21,0)
^^2^2^2990504^^^
"^DD",727.826,727.826,38,21,1,0)
This field is a placeholder that will be populated when the MPI becomes
"^DD",727.826,727.826,38,21,2,0)
available.
"^DD",727.826,727.826,38,23,0)
^^1^1^2990504^^
"^DD",727.826,727.826,38,23,1,0)
The data for this field is not yet available.
"^DD",727.826,727.826,38,"DT")
2980715
"^DD",727.826,727.826,39,0)
DSS DEPT^F^^1;7^K:$L(X)>10!($L(X)<1) X
"^DD",727.826,727.826,39,.1)
DSS Department
"^DD",727.826,727.826,39,3)
Enter the DSS Department for the product team completing the prosthetics work.
"^DD",727.826,727.826,39,10)
Not yet available.
"^DD",727.826,727.826,39,21,0)
^^2^2^2990520^^^
"^DD",727.826,727.826,39,21,1,0)
This field is a placeholder that will be populated when the DSS Department
"^DD",727.826,727.826,39,21,2,0)
becomes available.
"^DD",727.826,727.826,39,23,0)
^^1^1^2990520^^
"^DD",727.826,727.826,39,23,1,0)
The data for this field is not yet available.
"^DD",727.826,727.826,39,"DT")
2980715
"^DD",727.826,727.826,40,0)
PC PROVIDER PERSON CLASS^F^^1;8^K:$L(X)>7!($L(X)<7) X
"^DD",727.826,727.826,40,3)
Answer must be 7 characters in length.
"^DD",727.826,727.826,40,21,0)
^^2^2^2981026^
"^DD",727.826,727.826,40,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.826,727.826,40,21,2,0)
associated with this record.
"^DD",727.826,727.826,40,23,0)
^^6^6^2981026^
"^DD",727.826,727.826,40,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.826,727.826,40,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.826,727.826,40,23,3,0)
extract record.
"^DD",727.826,727.826,40,23,4,0)
  
"^DD",727.826,727.826,40,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.826,727.826,40,23,6,0)
7 characters in length.
"^DD",727.826,727.826,40,"DT")
2981026
"^DD",727.826,727.826,41,0)
RACE^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,41,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,41,21,0)
^^1^1^2990505^
"^DD",727.826,727.826,41,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.826,727.826,41,23,0)
^^5^5^2990505^
"^DD",727.826,727.826,41,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.826,727.826,41,23,2,0)
RACE data is shown as the ABBREVIATION field (#2) of the RACE file (#10)
"^DD",727.826,727.826,41,23,3,0)
entry pointed to by the RACE field (#.06) in the PATIENT file (#2).
"^DD",727.826,727.826,41,23,4,0)
 
"^DD",727.826,727.826,41,23,5,0)
Patient race is returned by DEM^VADPT.
"^DD",727.826,727.826,41,"DT")
2990505
"^DD",727.826,727.826,42,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;10^Q
"^DD",727.826,727.826,42,21,0)
^^1^1^2990505^^
"^DD",727.826,727.826,42,21,1,0)
The patient's POW status. May be set to Y(es), N(o), or U(nknown).
"^DD",727.826,727.826,42,23,0)
^^2^2^2990505^^
"^DD",727.826,727.826,42,23,1,0)
PATIENT file (#2); POW STATUS INDICATED? field (#.525).
"^DD",727.826,727.826,42,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.826,727.826,42,"DT")
2990505
"^DD",727.826,727.826,43,0)
POW LOCATION^F^^1;11^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,43,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,43,21,0)
^^9^9^2990505^
"^DD",727.826,727.826,43,21,1,0)
If POW Status is indicated, then this is the POW confinement
"^DD",727.826,727.826,43,21,2,0)
location/period. 
"^DD",727.826,727.826,43,21,3,0)
 
"^DD",727.826,727.826,43,21,4,0)
 1      WORLD WAR I
"^DD",727.826,727.826,43,21,5,0)
 2      WORLD WAR II - EUROPE
"^DD",727.826,727.826,43,21,6,0)
 3      WORLD WAR II - PACIFIC
"^DD",727.826,727.826,43,21,7,0)
 4      KOREAN
"^DD",727.826,727.826,43,21,8,0)
 5      VIETNAM
"^DD",727.826,727.826,43,21,9,0)
 6      OTHER
"^DD",727.826,727.826,43,23,0)
^^3^3^2990505^
"^DD",727.826,727.826,43,23,1,0)
PATIENT file (#2); POW CONFINEMENT LOCATION field (#.526).  This is a
"^DD",727.826,727.826,43,23,2,0)
pointer value to the POW PERIOD file (#22).
"^DD",727.826,727.826,43,23,3,0)
The location indicator is returned by SVC^VADPT.
"^DD",727.826,727.826,43,"DT")
2990505
"^DD",727.826,727.826,44,0)
SHARING AGREEMENT PAYOR^F^^1;12^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,44,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,44,21,0)
^^1^1^2990505^
"^DD",727.826,727.826,44,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.826,727.826,44,23,0)
^^15^15^2990505^
"^DD",727.826,727.826,44,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.826,727.826,44,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.826,727.826,44,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.826,727.826,44,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.826,727.826,44,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.826,727.826,44,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.826,727.826,44,23,7,0)
  
"^DD",727.826,727.826,44,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.826,727.826,44,23,9,0)
field is obtained by the following conversion:
"^DD",727.826,727.826,44,23,10,0)
SHARING AGREEMENT = A
"^DD",727.826,727.826,44,23,11,0)
TRICARE = B
"^DD",727.826,727.826,44,23,12,0)
CAT C = C
"^DD",727.826,727.826,44,23,13,0)
CATEGORY C = C
"^DD",727.826,727.826,44,23,14,0)
CHAMPVA = D
"^DD",727.826,727.826,44,23,15,0)
CHAMPUS = E
"^DD",727.826,727.826,44,"DT")
2990505
"^DD",727.826,727.826,45,0)
SHARING AGREEMENT INSURANCE^F^^1;13^K:$L(X)>11!($L(X)<1) X
"^DD",727.826,727.826,45,3)
Answer must be 1-11 characters in length.
"^DD",727.826,727.826,45,21,0)
^^2^2^2990505^
"^DD",727.826,727.826,45,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.826,727.826,45,21,2,0)
sharing agreement.
"^DD",727.826,727.826,45,23,0)
^^5^5^2990505^
"^DD",727.826,727.826,45,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.826,727.826,45,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.826,727.826,45,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.826,727.826,45,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.826,727.826,45,23,5,0)
The data is stored as free text.
"^DD",727.826,727.826,45,"DT")
2990505
"^DD",727.826,727.826,46,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^1;14^Q
"^DD",727.826,727.826,46,21,0)
^^5^5^2990505^
"^DD",727.826,727.826,46,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.826,727.826,46,21,2,0)
Possible status values are:
"^DD",727.826,727.826,46,21,3,0)
Y = Yes, screened reports MST
"^DD",727.826,727.826,46,21,4,0)
N = Screened, does not report MST
"^DD",727.826,727.826,46,21,5,0)
D = Screened, declines to answer
"^DD",727.826,727.826,46,23,0)
^^5^5^2990505^
"^DD",727.826,727.826,46,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.826,727.826,46,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.826,727.826,46,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.826,727.826,46,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.826,727.826,46,23,5,0)
field and the date in the DAY field.
"^DD",727.826,727.826,46,"DT")
2990505
"^DD",727.826,727.826,47,0)
ENROLLMENT LOCATION^F^^1;15^K:$L(X)>5!($L(X)<3) X
"^DD",727.826,727.826,47,3)
Answer must be 3-5 characters in length.
"^DD",727.826,727.826,47,21,0)
^^2^2^2990505^
"^DD",727.826,727.826,47,21,1,0)
The facility that the patient chooses to designate as his
"^DD",727.826,727.826,47,21,2,0)
preferred location for care.
"^DD",727.826,727.826,47,23,0)
^^5^5^2990505^
"^DD",727.826,727.826,47,23,1,0)
The PREFERRED FACILITY field (# 27.02) of the PATIENT file (#2)
"^DD",727.826,727.826,47,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.826,727.826,47,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.826,727.826,47,23,4,0)
(# 27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.826,727.826,47,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.826,727.826,47,"DT")
2990505
"^DD",727.826,727.826,48,0)
STATE^F^^1;16^K:$L(X)>2!($L(X)<2) X
"^DD",727.826,727.826,48,3)
Answer must be 2 characters in length.
"^DD",727.826,727.826,48,21,0)
^^1^1^2990505^
"^DD",727.826,727.826,48,21,1,0)
The state in which the patient resides.
"^DD",727.826,727.826,48,23,0)
^^4^4^2990505^^
"^DD",727.826,727.826,48,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.826,727.826,48,23,2,0)
in the extract record, data is derived from the STATE field (#.115) in the
"^DD",727.826,727.826,48,23,3,0)
PATIENT file (#2) which points to the STATE file (#5).  From the STATE file
"^DD",727.826,727.826,48,23,4,0)
record, the two-character VA STATE CODE field (#2) is used.
"^DD",727.826,727.826,48,"DT")
2990505
"^DD",727.826,727.826,49,0)
COUNTY^F^^1;17^K:$L(X)>3!($L(X)<3) X
"^DD",727.826,727.826,49,3)
Answer must be 3 characters in length.
"^DD",727.826,727.826,49,21,0)
^^1^1^2990505^
"^DD",727.826,727.826,49,21,1,0)
The county in which the patient resides.
"^DD",727.826,727.826,49,23,0)
^^5^5^2990505^^
"^DD",727.826,727.826,49,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.826,727.826,49,23,2,0)
(#4) in the extract record, data is derived from the COUNTY field (#.117)
"^DD",727.826,727.826,49,23,3,0)
in the PATIENT file (#2), which points to a subfile record in the COUNTY
"^DD",727.826,727.826,49,23,4,0)
multiple field (#3) of the STATE file (#5).  The three-character VA COUNTY
"^DD",727.826,727.826,49,23,5,0)
CODE field (#2) within the COUNTY multiple field is used.
"^DD",727.826,727.826,49,"DT")
2990505
"^DD",727.826,727.826,50,0)
ASSOCIATE PC PROVIDER^F^^1;18^K:$L(X)>11!($L(X)<2) X
"^DD",727.826,727.826,50,3)
Answer must be 2-11 characters in length.
"^DD",727.826,727.826,50,21,0)
^^4^4^2990505^
"^DD",727.826,727.826,50,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.826,727.826,50,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.826,727.826,50,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.826,727.826,50,21,4,0)
character 2.
"^DD",727.826,727.826,50,23,0)
^^2^2^2990505^
"^DD",727.826,727.826,50,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.826,727.826,50,23,2,0)
the PCMM application.
"^DD",727.826,727.826,50,"DT")
2990505
"^DD",727.826,727.826,51,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;19^K:$L(X)>7!($L(X)<7) X
"^DD",727.826,727.826,51,3)
Answer must be 7 characters in length.
"^DD",727.826,727.826,51,21,0)
^^4^4^2990505^
"^DD",727.826,727.826,51,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.826,727.826,51,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.826,727.826,51,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.826,727.826,51,21,4,0)
exactly 7 characters in length. 
"^DD",727.826,727.826,51,23,0)
^^3^3^2990505^
"^DD",727.826,727.826,51,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.826,727.826,51,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.826,727.826,51,23,3,0)
PERS is the IEN from file #200.
"^DD",727.826,727.826,51,"DT")
2990505
"^DD",727.826,727.826,52,0)
ASSOCIATE PC PROVIDER NPI^F^^1;20^K:$L(X)>8!($L(X)<1) X
"^DD",727.826,727.826,52,3)
Answer must be 1-8 characters in length.
"^DD",727.826,727.826,52,21,0)
^^1^1^2990506^
"^DD",727.826,727.826,52,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.826,727.826,52,23,0)
^^4^4^2990506^
"^DD",727.826,727.826,52,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.826,727.826,52,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.826,727.826,52,23,3,0)
   
"^DD",727.826,727.826,52,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.826,727.826,52,"DT")
2990506
"^DD",727.826,727.826,53,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;21^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,53,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.826,727.826,53,21,0)
^^7^7^3001020^
"^DD",727.826,727.826,53,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is
"^DD",727.826,727.826,53,21,2,0)
admitted to either a DOM, PRRTP or SAARTP at the time hospital
"^DD",727.826,727.826,53,21,3,0)
service is provided.
"^DD",727.826,727.826,53,21,4,0)
Domiciliary
"^DD",727.826,727.826,53,21,5,0)
(DOM)
"^DD",727.826,727.826,53,21,6,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.826,727.826,53,21,7,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.826,727.826,53,"DT")
3001010
"^DD",727.826,727.826,54,0)
ENROLLMENT CATEGORY^F^^1;22^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,54,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,54,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,54,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.826,727.826,54,"DT")
3000801
"^DD",727.826,727.826,55,0)
ENROLLMENT STATUS^F^^1;23^K:$L(X)>2!($L(X)<1) X
"^DD",727.826,727.826,55,3)
Answer must be 1-2 characters in length.
"^DD",727.826,727.826,55,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,55,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.826,727.826,55,"DT")
3000801
"^DD",727.826,727.826,56,0)
ENROLLMENT PRIORITY^F^^1;24^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,56,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,56,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,56,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.826,727.826,56,"DT")
3000801
"^DD",727.826,727.826,57,0)
PURPLE HEART INDICATOR^S^Y:YES;N:NO;^1;25^Q
"^DD",727.826,727.826,57,3)
Purple Heart Indicator is as of yet not defined.  It will be (Y)es, (N)o or (U)nknow.
"^DD",727.826,727.826,57,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,57,21,1,0)
Indicates whether or not a patient is a Purple Heart recipient.
"^DD",727.826,727.826,57,"DT")
3000801
"^DD",727.826,727.826,58,0)
PERIOD OF SERVICE^F^^1;26^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,58,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,58,21,0)
^^2^2^3001020^
"^DD",727.826,727.826,58,21,1,0)
The period of service that best classifies the patient based on
"^DD",727.826,727.826,58,21,2,0)
eligibility code. 
"^DD",727.826,727.826,58,"DT")
3000801
"^DD",727.826,727.826,59,0)
EXTENDED OUTPATIENT INDICATOR^F^^1;27^K:$L(X)>4!($L(X)<1) X
"^DD",727.826,727.826,59,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.826,727.826,59,21,0)
^^1^1^3001020^
"^DD",727.826,727.826,59,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.826,727.826,59,"DT")
3000801
"^DD",727.827,727.827,0)
FIELD^^65^66
"^DD",727.827,727.827,0,"DDA")
N
"^DD",727.827,727.827,0,"DIK")
ECX827
"^DD",727.827,727.827,0,"DIKOLD")
ECX827
"^DD",727.827,727.827,0,"DT")
3000927
"^DD",727.827,727.827,0,"IX","AC",727.827,2)

"^DD",727.827,727.827,0,"NM","CLINIC EXTRACT")

"^DD",727.827,727.827,0,"VRPK")
ECX
"^DD",727.827,727.827,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.827,727.827,.01,.1)
Sequence Number
"^DD",727.827,727.827,.01,1,0)
^.1^^0
"^DD",727.827,727.827,.01,3)
Enter a Number between 1 and 999999999, 0 Decimal Digits.
"^DD",727.827,727.827,.01,10)
Software generated for each individual record in the extract.
"^DD",727.827,727.827,.01,21,0)
^^2^2^2980714^^
"^DD",727.827,727.827,.01,21,1,0)
The Record Number for this extract entry.  Included in the Header for the
"^DD",727.827,727.827,.01,21,2,0)
extract.  The file is DINUMed on this field.
"^DD",727.827,727.827,.01,23,0)
^^1^1^2980714^^
"^DD",727.827,727.827,.01,23,1,0)
The Internal Entry Number (IEN) for this record.  The entry is DINUMed.
"^DD",727.827,727.827,.01,"DT")
2981215
"^DD",727.827,727.827,1,0)
YEAR MONTH^RNJ6,0^^0;2^K:+X'=X!(X>999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.827,727.827,1,3)
Answer must be 6 characters in lenght.  YYYYMM
"^DD",727.827,727.827,1,"DT")
3000509
"^DD",727.827,727.827,2,0)
EXTRACT NUMBER^RP727'^ECX(727,^0;3^Q
"^DD",727.827,727.827,2,1,0)
^.1
"^DD",727.827,727.827,2,1,1,0)
727.827^AC
"^DD",727.827,727.827,2,1,1,1)
S ^ECX(727.827,"AC",$E(X,1,30),DA)=""
"^DD",727.827,727.827,2,1,1,2)
K ^ECX(727.827,"AC",$E(X,1,30),DA)
"^DD",727.827,727.827,2,1,1,"DT")
3000509
"^DD",727.827,727.827,2,"DT")
3000509
"^DD",727.827,727.827,3,0)
FACILITY^RF^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.827,727.827,3,3)
Answer must be 1-7 characters in length.
"^DD",727.827,727.827,3,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.827,727.827,3,"DT")
3000509
"^DD",727.827,727.827,4,0)
PATIENT NO. - DFN^RP2'^DPT(^0;5^Q
"^DD",727.827,727.827,4,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.827,727.827,4,"DT")
3000509
"^DD",727.827,727.827,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9) X
"^DD",727.827,727.827,5,3)
Answer must be 9-10 characters in length.
"^DD",727.827,727.827,5,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,5,21,1,0)
The patient's social security number.
"^DD",727.827,727.827,5,"DT")
3000509
"^DD",727.827,727.827,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.827,727.827,6,3)
Answer must be 4 characters in length.
"^DD",727.827,727.827,6,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.827,727.827,6,"DT")
3000509
"^DD",727.827,727.827,7,0)
IN/OUT PATIENT INDICATOR^F^^0;8^K:$L(X)>1!($L(X)<1) X
"^DD",727.827,727.827,7,3)
Answer must be 1 character in length.
"^DD",727.827,727.827,7,21,0)
^^2^2^3001101^
"^DD",727.827,727.827,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this
"^DD",727.827,727.827,7,21,2,0)
extract entry.
"^DD",727.827,727.827,7,"DT")
3000509
"^DD",727.827,727.827,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.827,727.827,8,.1)
Day
"^DD",727.827,727.827,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.827,727.827,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.827,727.827,8,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,8,21,1,0)
This 8-character string represents the date on which the visit occurred.
"^DD",727.827,727.827,8,"DT")
3000509
"^DD",727.827,727.827,9,0)
FEEDER KEY^F^^0;10^K:$L(X)>14!($L(X)<14) X
"^DD",727.827,727.827,9,3)
Answer must be 14 characters in length.
"^DD",727.827,727.827,9,21,0)
^^4^4^3001101^
"^DD",727.827,727.827,9,21,1,0)
14-character code in the form of SSSCCCTTTPPPPN.  The transmission style
"^DD",727.827,727.827,9,21,2,0)
chosen for the clinic determines these characters.  Includes stop code,
"^DD",727.827,727.827,9,21,3,0)
credit stop code, or alternate stop codes, and time length of appointment,
"^DD",727.827,727.827,9,21,4,0)
clinic alpha indicator, and no show flag.
"^DD",727.827,727.827,9,"DT")
3000509
"^DD",727.827,727.827,10,0)
OVERBOOKED INDICATOR^S^O:OVERBOOKED;^0;11^Q
"^DD",727.827,727.827,10,3)
O for Overbooked. Null for anything else.
"^DD",727.827,727.827,10,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,10,21,1,0)
Indicates if this was an overbook appointment for this appointment.
"^DD",727.827,727.827,10,"DT")
3000927
"^DD",727.827,727.827,11,0)
CLINIC NAME^P44'^SC(^0;12^Q
"^DD",727.827,727.827,11,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,11,21,1,0)
HOSPITAL LOCATION file #44
"^DD",727.827,727.827,11,"DT")
3000509
"^DD",727.827,727.827,12,0)
TREATING SPECIALITY^P42.4'^DIC(42.4,^0;13^Q
"^DD",727.827,727.827,12,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,12,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.827,727.827,12,"DT")
3000509
"^DD",727.827,727.827,13,0)
TIME^F^^0;14^K:$L(X)>6!($L(X)<6) X
"^DD",727.827,727.827,13,3)
Answer must be 6 characters in length.
"^DD",727.827,727.827,13,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,13,21,1,0)
Time for this clinic visit (6-digit military time)
"^DD",727.827,727.827,13,"DT")
3000509
"^DD",727.827,727.827,14,0)
PRIMARY CARE TEAM^F^^0;15^K:$L(X)>4!($L(X)<1) X
"^DD",727.827,727.827,14,3)
Answer must be 1-4 characters in length.
"^DD",727.827,727.827,14,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,14,21,1,0)
TEAM file (#404.51)
"^DD",727.827,727.827,14,"DT")
3000509
"^DD",727.827,727.827,15,0)
PRIMARY CARE PROVIDER^F^^0;16^K:$L(X)>11!($L(X)<2) X
"^DD",727.827,727.827,15,3)
Answer must be 2-11 characters in length.
"^DD",727.827,727.827,15,21,0)
^^2^2^3001101^
"^DD",727.827,727.827,15,21,1,0)
The primary care provider assigned to this patient through the PCMM
"^DD",727.827,727.827,15,21,2,0)
module.
"^DD",727.827,727.827,15,"DT")
3000509
"^DD",727.827,727.827,16,0)
PRIMARY CARE PRV PERSON CLASS^F^^0;17^K:$L(X)>7!($L(X)<7) X
"^DD",727.827,727.827,16,3)
Answer must be 7 characters in length.
"^DD",727.827,727.827,16,21,0)
^^2^2^3001101^
"^DD",727.827,727.827,16,21,1,0)
The VA code of the Person Class of the Primary Care Provider as of the
"^DD",727.827,727.827,16,21,2,0)
date of this extract record. 
"^DD",727.827,727.827,16,"DT")
3000509
"^DD",727.827,727.827,17,0)
PROVIDER^F^^0;18^K:$L(X)>11!($L(X)<2) X
"^DD",727.827,727.827,17,3)
Answer must be 2-11 characters in length.
"^DD",727.827,727.827,17,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,17,21,1,0)
The provider associated with the patient encounter.
"^DD",727.827,727.827,17,"DT")
3000509
"^DD",727.827,727.827,18,0)
PROVIDER PERSON CLASS^F^^0;19^K:$L(X)>7!($L(X)<7) X
"^DD",727.827,727.827,18,3)
Answer must be 7 characters in length.
"^DD",727.827,727.827,18,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,18,21,1,0)
The VA Code of the Person Class of the Provider for this record.
"^DD",727.827,727.827,18,"DT")
3000509
"^DD",727.827,727.827,19,0)
CPT CODE QTY & MODIFIERS #1^F^^0;20^K:$L(X)>17!($L(X)<1) X
"^DD",727.827,727.827,19,3)
Answer must be 1-17 characters in length.
"^DD",727.827,727.827,19,21,0)
^.001^2^2^3001103^^
"^DD",727.827,727.827,19,21,1,0)
5 character CPT Code, the Quantity or how many times the unique code
"^DD",727.827,727.827,19,21,2,0)
appears in the record, and up to 5 two character CPT modifiers.
"^DD",727.827,727.827,19,"DT")
3001103
"^DD",727.827,727.827,20,0)
CPT CODE QTY & MODIFIERS #2^F^^0;21^K:$L(X)>17!($L(X)<1) X
"^DD",727.827,727.827,20,3)
Answer must be 1-17 characters in length.
"^DD",727.827,727.827,20,21,0)
^.001^2^2^3001103^^
"^DD",727.827,727.827,20,21,1,0)
5 character CPT Code, the Quantity or how many times the unique code
"^DD",727.827,727.827,20,21,2,0)
appears in the record, and up to 5 two character CPT modifiers. 
"^DD",727.827,727.827,20,"DT")
3001103
"^DD",727.827,727.827,21,0)
CPT CODE QTY & MODIFIERS #3^F^^0;22^K:$L(X)>17!($L(X)<1) X
"^DD",727.827,727.827,21,3)
Answer must be 1-17 characters in length.
"^DD",727.827,727.827,21,21,0)
^.001^2^2^3001103^^
"^DD",727.827,727.827,21,21,1,0)
5 character CPT Code, the Quantity or how many times the unique code
"^DD",727.827,727.827,21,21,2,0)
appears in the record, and up to 5 two character CPT modifiers.
"^DD",727.827,727.827,21,"DT")
3001103
"^DD",727.827,727.827,22,0)
CPT CODE QTY & MODIFIERS #4^F^^0;23^K:$L(X)>17!($L(X)<1) X
"^DD",727.827,727.827,22,3)
Answer must be 1-17 characters in length.
"^DD",727.827,727.827,22,21,0)
^^2^2^3001101^
"^DD",727.827,727.827,22,21,1,0)
5 character CPT Code, the Quantity or how many times the unique code
"^DD",727.827,727.827,22,21,2,0)
appears in the record, and up to 5 two character CPT modifiers.
"^DD",727.827,727.827,22,"DT")
3001103
"^DD",727.827,727.827,23,0)
CPT CODE QTY AND MODIFERS #5^F^^0;24^K:$L(X)>17!($L(X)<1) X
"^DD",727.827,727.827,23,3)
Answer must be 1-17 characters in length.
"^DD",727.827,727.827,23,21,0)
^.001^2^2^3001103^^^
"^DD",727.827,727.827,23,21,1,0)
5 character CPT Code, the Quantity or how many times the unique code
"^DD",727.827,727.827,23,21,2,0)
appears in the record, and up to 5 two character CPT modifiers.
"^DD",727.827,727.827,23,"DT")
3001103
"^DD",727.827,727.827,24,0)
CPT CODE QTY AND MODIFIERS #6^F^^1;1^K:$L(X)>17!($L(X)<1) X
"^DD",727.827,727.827,24,3)
Answer must be 1-17 characters in length.
"^DD",727.827,727.827,24,21,0)
^.001^2^2^3001103^^
"^DD",727.827,727.827,24,21,1,0)
5 character CPT Code, the Quantity or how many times the unique code
"^DD",727.827,727.827,24,21,2,0)
appears in the record, and up to 5 two character CPT modifiers.
"^DD",727.827,727.827,24,"DT")
3001103
"^DD",727.827,727.827,25,0)
CPT CODE QTY AND MODIFERS #7^F^^1;2^K:$L(X)>17!($L(X)<1) X
"^DD",727.827,727.827,25,3)
Answer must be 1-17 characters in length.
"^DD",727.827,727.827,25,21,0)
^^2^2^3001101^
"^DD",727.827,727.827,25,21,1,0)
5 character CPT Code, the Quantity or how many times the unique code
"^DD",727.827,727.827,25,21,2,0)
appears in the record, and up to 5 two character CPT modifiers.
"^DD",727.827,727.827,25,"DT")
3001103
"^DD",727.827,727.827,26,0)
CPT CODE QTY AND MODIFIERS #8^F^^1;3^K:$L(X)>17!($L(X)<1) X
"^DD",727.827,727.827,26,3)
Answer must be 1-17 characters in length.
"^DD",727.827,727.827,26,21,0)
^^2^2^3001101^
"^DD",727.827,727.827,26,21,1,0)
5 character CPT Code, the Quantity or how many times the unique code
"^DD",727.827,727.827,26,21,2,0)
appears in the record, and up to 5 two character CPT modifiers.
"^DD",727.827,727.827,26,"DT")
3001103
"^DD",727.827,727.827,27,0)
PRIMARY ICD9 CODE^F^^1;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.827,727.827,27,3)
Answer must be 1-7 characters in length.
"^DD",727.827,727.827,27,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,27,21,1,0)
The ICD-9 code(s) for this clinic visit.
"^DD",727.827,727.827,27,"DT")
3000509
"^DD",727.827,727.827,28,0)
SECONDARY ICD9 1^F^^1;5^K:$L(X)>7!($L(X)<1) X
"^DD",727.827,727.827,28,3)
Answer must be 1-7 characters in length.
"^DD",727.827,727.827,28,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,28,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.827,727.827,28,"DT")
3000509
"^DD",727.827,727.827,29,0)
SECONDARY ICD9 2^F^^1;6^K:$L(X)>7!($L(X)<1) X
"^DD",727.827,727.827,29,3)
Answer must be 1-7 characters in length.
"^DD",727.827,727.827,29,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,29,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.827,727.827,29,"DT")
3000509
"^DD",727.827,727.827,30,0)
SECONDARY ICD9 3^F^^1;7^K:$L(X)>7!($L(X)<1) X
"^DD",727.827,727.827,30,3)
Answer must be 1-7 characters in length.
"^DD",727.827,727.827,30,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,30,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.827,727.827,30,"DT")
3000509
"^DD",727.827,727.827,31,0)
SECONDARY ICD9 4^F^^1;8^K:$L(X)>7!($L(X)<1) X
"^DD",727.827,727.827,31,3)
Answer must be 1-7 characters in length.
"^DD",727.827,727.827,31,21,0)
^^1^1^3001101^
"^DD",727.827,727.827,31,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.827,727.827,31,"DT")
3000509
"^DD",727.827,727.827,32,0)
DATE OF BIRTH^F^^1;9^K:$L(X)>8!($L(X)<1) X
"^DD",727.827,727.827,32,3)
Answer must be 1-8 characters in length.
"^DD",727.827,727.827,32,21,0)
^.001^3^3^3001102^^
"^DD",727.827,727.827,32,21,1,0)
When a patient was born. Possible values for Date of Birth are between
"^DD",727.827,727.827,32,21,2,0)
December 31, 1870 and today's date. This is represented by an 8-character
"^DD",727.827,727.827,32,21,3,0)
numeric string in the YYYYMMDD format.
"^DD",727.827,727.827,32,"DT")
3000615
"^DD",727.827,727.827,33,0)
ELIGIBILITY^F^^1;10^K:$L(X)>3!($L(X)<3) X
"^DD",727.827,727.827,33,3)
Answer must be 3 characters in length.
"^DD",727.827,727.827,33,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,33,21,1,0)
Appropriate eligibility code based on veteran or non-veteran status.
"^DD",727.827,727.827,33,"DT")
3000509
"^DD",727.827,727.827,34,0)
VETERAN^S^N:NO;Y:YES;^1;11^Q
"^DD",727.827,727.827,34,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,34,21,1,0)
Data is Y if this patient is a veteran, N if not.
"^DD",727.827,727.827,34,"DT")
3000509
"^DD",727.827,727.827,35,0)
RACE^F^^1;12^K:$L(X)>1!($L(X)<1) X
"^DD",727.827,727.827,35,3)
Answer must be 1 character in length.
"^DD",727.827,727.827,35,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,35,21,1,0)
Race abbreviation for this patient. 
"^DD",727.827,727.827,35,"DT")
3000509
"^DD",727.827,727.827,36,0)
POW STATUS^S^N:NO;Y:YES;^1;13^Q
"^DD",727.827,727.827,36,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,36,21,1,0)
The patient's POW status.
"^DD",727.827,727.827,36,"DT")
3000509
"^DD",727.827,727.827,37,0)
POW LOCATION^F^^1;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.827,727.827,37,3)
Answer must be 1 character in length.
"^DD",727.827,727.827,37,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,37,21,1,0)
If POW Status is indicated, this is the POW confinement location/period.
"^DD",727.827,727.827,37,"DT")
3000509
"^DD",727.827,727.827,38,0)
RADIATION STATUS^S^N:NO;Y:YES;^1;15^Q
"^DD",727.827,727.827,38,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,38,21,1,0)
Data is Y if this patient claims exposure to ionizing radiation, N if not.
"^DD",727.827,727.827,38,"DT")
3000509
"^DD",727.827,727.827,39,0)
RADIATION ENCOUNTER INDICATOR^S^N:NO;Y:YES;^1;16^Q
"^DD",727.827,727.827,39,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,39,21,1,0)
Treatment related to radiation exposure?  (Y/N)
"^DD",727.827,727.827,39,"DT")
3000509
"^DD",727.827,727.827,40,0)
AGENT ORANGE STATUS^S^N:NO;Y:YES;U:UNKOWN;^1;17^Q
"^DD",727.827,727.827,40,21,0)
^.001^1^1^3001103^^
"^DD",727.827,727.827,40,21,1,0)
Data is Y if this patient was exposed to agent orange, N if not.
"^DD",727.827,727.827,40,"DT")
3001103
"^DD",727.827,727.827,41,0)
AGENT ORANGE ENC INDICATOR^S^N:NO;Y:YES;^1;18^Q
"^DD",727.827,727.827,41,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,41,21,1,0)
Treatment related to Agent Orange exposure?  (Y/N)
"^DD",727.827,727.827,41,"DT")
3000509
"^DD",727.827,727.827,42,0)
MASTER PATIENT INDEX^F^^1;19^K:$L(X)>10!($L(X)<10) X
"^DD",727.827,727.827,42,3)
Answer must be 10 characters in length.
"^DD",727.827,727.827,42,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,42,21,1,0)
Unique national VA patient identifier
"^DD",727.827,727.827,42,"DT")
3000509
"^DD",727.827,727.827,43,0)
DSS DEPARTMENT^F^^1;20^K:$L(X)>10!($L(X)<1) X
"^DD",727.827,727.827,43,3)
Answer must be 1-10 characters in length.
"^DD",727.827,727.827,43,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,43,21,1,0)
The DSS Department Code for the patient care product.
"^DD",727.827,727.827,43,"DT")
3000509
"^DD",727.827,727.827,44,0)
SEX^S^M:MALE;F:FEMALE;^1;21^Q
"^DD",727.827,727.827,44,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,44,21,1,0)
M for Male; F for Female
"^DD",727.827,727.827,44,"DT")
3000509
"^DD",727.827,727.827,45,0)
ZIP+4^F^^1;22^K:$L(X)>10!($L(X)<5) X
"^DD",727.827,727.827,45,3)
Answer must be 5-10 characters in length.
"^DD",727.827,727.827,45,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,45,21,1,0)
5-digit Zip code or nnnnn-nnnn Zip+4.
"^DD",727.827,727.827,45,"DT")
3000509
"^DD",727.827,727.827,46,0)
NPI PRIMARY CARE PROVIDER^F^^1;23^K:$L(X)>8!($L(X)<1) X
"^DD",727.827,727.827,46,3)
Answer must be 1-8 characters in length.
"^DD",727.827,727.827,46,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,46,21,1,0)
Null. 
"^DD",727.827,727.827,46,"DT")
3000509
"^DD",727.827,727.827,47,0)
NPI PROVIDER NPI^F^^1;24^K:$L(X)>8!($L(X)<1) X
"^DD",727.827,727.827,47,3)
Answer must be 1-8 characters in length.
"^DD",727.827,727.827,47,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,47,21,1,0)
Null. 
"^DD",727.827,727.827,47,"DT")
3000509
"^DD",727.827,727.827,48,0)
ENCOUNTER ELIGIBILITY^F^^1;25^K:$L(X)>3!($L(X)<3) X
"^DD",727.827,727.827,48,3)
Answer must be 3 characters in length.
"^DD",727.827,727.827,48,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,48,21,1,0)
An eligibility code associated with the patient visit.
"^DD",727.827,727.827,48,"DT")
3000509
"^DD",727.827,727.827,49,0)
MST STATUS^S^N:NO;Y:YES;U:UNKNOWN;D:DENIED;^1;26^Q
"^DD",727.827,727.827,49,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,49,21,1,0)
Military sexual trauma? (Y/N/U/D)
"^DD",727.827,727.827,49,"DT")
3000509
"^DD",727.827,727.827,50,0)
MST ENCOUNTER INDICATOR^S^N:NO;Y:YES;^1;27^Q
"^DD",727.827,727.827,50,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,50,21,1,0)
Treatment related to Military Sexual Trauma?  (Y/N)
"^DD",727.827,727.827,50,"DT")
3000509
"^DD",727.827,727.827,51,0)
SHARING AGREEMENT PAYOR^F^^1;28^K:$L(X)>1!($L(X)<1) X
"^DD",727.827,727.827,51,3)
Answer must be 1 character in length.
"^DD",727.827,727.827,51,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,51,21,1,0)
An indicator used for patients participating in sharing agreements
"^DD",727.827,727.827,51,"DT")
3000509
"^DD",727.827,727.827,52,0)
SHARING AGREEMENT INSURANCE CO^F^^1;29^K:$L(X)>11!($L(X)<1) X
"^DD",727.827,727.827,52,3)
Answer must be 1-11 characters in length.
"^DD",727.827,727.827,52,21,0)
^^2^2^3001102^
"^DD",727.827,727.827,52,21,1,0)
Used to indicate insurer(s) for patients who participate in sharing
"^DD",727.827,727.827,52,21,2,0)
agreements.
"^DD",727.827,727.827,52,"DT")
3000509
"^DD",727.827,727.827,53,0)
ENROLLMENT LOCATION^F^^1;30^K:$L(X)>7!($L(X)<1) X
"^DD",727.827,727.827,53,3)
Answer must be 1-7 characters in length.
"^DD",727.827,727.827,53,21,0)
^^2^2^3001102^
"^DD",727.827,727.827,53,21,1,0)
The facility that the patient chooses to designate as his preferred
"^DD",727.827,727.827,53,21,2,0)
location for care.  
"^DD",727.827,727.827,53,"DT")
3000509
"^DD",727.827,727.827,54,0)
STATE CODE^F^^1;31^K:$L(X)>2!($L(X)<2) X
"^DD",727.827,727.827,54,3)
Answer must be 2 characters in length.
"^DD",727.827,727.827,54,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,54,21,1,0)
The state in which the patient resides.
"^DD",727.827,727.827,54,"DT")
3000509
"^DD",727.827,727.827,55,0)
COUNTY CODE^F^^1;32^K:$L(X)>3!($L(X)<3) X
"^DD",727.827,727.827,55,3)
Answer must be 3 characters in length.
"^DD",727.827,727.827,55,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,55,21,1,0)
County in which the patient resides.
"^DD",727.827,727.827,55,"DT")
3000509
"^DD",727.827,727.827,56,0)
ASSOCIATE PC PROVIDER^F^^1;33^K:$L(X)>11!($L(X)<1) X
"^DD",727.827,727.827,56,3)
Answer must be 1-11 characters in length.
"^DD",727.827,727.827,56,21,0)
^^2^2^3001102^
"^DD",727.827,727.827,56,21,1,0)
The associate primary care provider assigned to this patient through the
"^DD",727.827,727.827,56,21,2,0)
PCMM module.
"^DD",727.827,727.827,56,"DT")
3000509
"^DD",727.827,727.827,57,0)
ASSOCIATE PC PROV PERSON CLASS^F^^1;34^K:$L(X)>7!($L(X)<1) X
"^DD",727.827,727.827,57,3)
Answer must be 1-7 characters in length.
"^DD",727.827,727.827,57,21,0)
^^2^2^3001102^
"^DD",727.827,727.827,57,21,1,0)
The VA code of the Person Class of the Associate Primary Care Provider as
"^DD",727.827,727.827,57,21,2,0)
of the date of this extract record.
"^DD",727.827,727.827,57,"DT")
3000509
"^DD",727.827,727.827,58,0)
ASSOCIATE PC PROVIDER NPI^F^^1;35^K:$L(X)>8!($L(X)<1) X
"^DD",727.827,727.827,58,3)
Answer must be 1-8 characters in length.
"^DD",727.827,727.827,58,21,0)
^.001^1^1^3001102^^
"^DD",727.827,727.827,58,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.827,727.827,58,"DT")
3000509
"^DD",727.827,727.827,59,0)
DOM,PRRTP AND SAARTP INDICATOR^F^^1;36^K:$L(X)>1!($L(X)<1) X
"^DD",727.827,727.827,59,3)
Answer must be 1 character in length. DOM, PRRTP and SARTP Indicator indicates the patient status at the time of hospital service.
"^DD",727.827,727.827,59,21,0)
^^5^5^3001102^
"^DD",727.827,727.827,59,21,1,0)
DOM, PRRTP and SAARTP Indicator indicates if the patient is admitted to
"^DD",727.827,727.827,59,21,2,0)
either a DOM, PRRTP or SAARTP at the time hospital service is provided.
"^DD",727.827,727.827,59,21,3,0)
Domiciliary (DOM)
"^DD",727.827,727.827,59,21,4,0)
Psychiatric Residential Rehabilitation Treatment Program (PRRTP)
"^DD",727.827,727.827,59,21,5,0)
Substance Abuse Residential Rehabiltation Treatment Program (SARRTP)
"^DD",727.827,727.827,59,"DT")
3001010
"^DD",727.827,727.827,60,0)
ENROLLMENT CATEGORY^F^^1;37^K:$L(X)>1!($L(X)<1) X
"^DD",727.827,727.827,60,3)
Answer must be 1 character in length.
"^DD",727.827,727.827,60,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,60,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.827,727.827,60,"DT")
3000509
"^DD",727.827,727.827,61,0)
ENROLLMENT STATUS^F^^2;1^K:$L(X)>2!($L(X)<1) X
"^DD",727.827,727.827,61,3)
Answer must be 1-2 characters in length.
"^DD",727.827,727.827,61,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,61,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.827,727.827,61,"DT")
3000509
"^DD",727.827,727.827,62,0)
ENROLLMENT PRIORITY^F^^2;2^K:$L(X)>1!($L(X)<1) X
"^DD",727.827,727.827,62,3)
Answer must be 1 character in length.
"^DD",727.827,727.827,62,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,62,21,1,0)
Derived from the Patient Enrollment File #27.11
"^DD",727.827,727.827,62,"DT")
3000509
"^DD",727.827,727.827,63,0)
PURPLE HEART INDICATOR^S^N:NO;Y:YES;^2;3^Q
"^DD",727.827,727.827,63,3)
Purple Heart Indicator is as of yet not defined.  It will be (Y)es, (N)o or (U)nknow.
"^DD",727.827,727.827,63,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,63,21,1,0)
Indicates whether or not a patient is a Purple Heart recipient. 
"^DD",727.827,727.827,63,"DT")
3000509
"^DD",727.827,727.827,64,0)
PERIOD OF SERVICE^F^^2;4^K:$L(X)>1!($L(X)<1) X
"^DD",727.827,727.827,64,3)
Answer must be 1 character in length.
"^DD",727.827,727.827,64,21,0)
^^2^2^3001102^
"^DD",727.827,727.827,64,21,1,0)
The period of service, which best classifies this patient based on
"^DD",727.827,727.827,64,21,2,0)
eligibility code
"^DD",727.827,727.827,64,"DT")
3000509
"^DD",727.827,727.827,65,0)
EXTENDED OP INDICATOR^F^^2;5^K:$L(X)>4!($L(X)<1) X
"^DD",727.827,727.827,65,3)
Answer must be 1-4 characters in length. This field has yet to be defined by BTSO.
"^DD",727.827,727.827,65,21,0)
^^1^1^3001102^
"^DD",727.827,727.827,65,21,1,0)
Indicates that a patient is an Extended Outpatient. 
"^DD",727.827,727.827,65,"DT")
3000509
"^DD",727.831,727.831,0)
FIELD^^3^3
"^DD",727.831,727.831,0,"DDA")
N
"^DD",727.831,727.831,0,"DT")
3000606
"^DD",727.831,727.831,0,"IX","B",727.831,.01)

"^DD",727.831,727.831,0,"NM","DOM PRRTP SAARTP ETC")

"^DD",727.831,727.831,0,"VRPK")
ECX
"^DD",727.831,727.831,.01,0)
LOCATION^RP42.4'^DIC(42.4,^0;1^S:$D(X) DINUM=X
"^DD",727.831,727.831,.01,.1)
TREATING SPECIALTY LOCATION
"^DD",727.831,727.831,.01,1,0)
^.1
"^DD",727.831,727.831,.01,1,1,0)
727.831^B
"^DD",727.831,727.831,.01,1,1,1)
S ^ECX(727.831,"B",$E(X,1,30),DA)=""
"^DD",727.831,727.831,.01,1,1,2)
K ^ECX(727.831,"B",$E(X,1,30),DA)
"^DD",727.831,727.831,.01,3)
Enter treating speciality as indicated in file 42.4.
"^DD",727.831,727.831,.01,10)
Data is a pointer to file 42.4
"^DD",727.831,727.831,.01,21,0)
^.001^3^3^3000606^^^^
"^DD",727.831,727.831,.01,21,1,0)
The treating specialty location.  This field points to file 42.4. This file 
"^DD",727.831,727.831,.01,21,2,0)
is maintained by the DSS package and should not be altered in any way.  This 
"^DD",727.831,727.831,.01,21,3,0)
field is DINUMed.
"^DD",727.831,727.831,.01,"DT")
3000606
"^DD",727.831,727.831,2,0)
DSS DOM CODE^RF^^0;2^K:$L(X)>1!($L(X)<1) X
"^DD",727.831,727.831,2,3)
Answer must be 1 character in length.
"^DD",727.831,727.831,2,"DT")
3000606
"^DD",727.831,727.831,3,0)
IN/OUT CODE^NJ2,0^^0;3^K:+X'=X!(X>10)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.831,727.831,3,3)
Type a Number between 0 and 10, 0 Decimal Digits
"^DD",727.831,727.831,3,"DT")
3000606
"^DIC",727.1,727.1,0)
EXTRACT DEFINITIONS^1
"^DIC",727.1,727.1,0,"GL")
^ECX(727.1,
"^DIC",727.1,727.1,"%D",0)
^^6^6^2990914^^^^
"^DIC",727.1,727.1,"%D",1,0)
This file provides a mechanism for sites to tailor the running of
"^DIC",727.1,727.1,"%D",2,0)
package extracts by defining the frequency (daily, weekly, or monthly)
"^DIC",727.1,727.1,"%D",3,0)
with which the extracts will run and the number of days in the past
"^DIC",727.1,727.1,"%D",4,0)
for which data will be extracted.  The EXTRACT NAME field (#.01) and
"^DIC",727.1,727.1,"%D",5,0)
the FILE NUMBER field (#1) are national standard entries, exported with
"^DIC",727.1,727.1,"%D",6,0)
the file, and should not be edited locally.
"^DIC",727.1,"B","EXTRACT DEFINITIONS",727.1)

"^DIC",727.802,727.802,0)
ADMISSION EXTRACT
"^DIC",727.802,727.802,0,"GL")
^ECX(727.802,
"^DIC",727.802,727.802,"%",0)
^1.005^^
"^DIC",727.802,727.802,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.802,727.802,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.802,727.802,"%D",2,0)
System (DSS) Program Office for the MAS Admission extract from existing 
"^DIC",727.802,727.802,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.802,727.802,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.802,727.802,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.802,727.802,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.802,727.802,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.802,727.802,"%D",8,0)
  
"^DIC",727.802,727.802,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.802,727.802,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.802,727.802,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.802,727.802,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.802,727.802,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.802,727.802,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.802,727.802,"%D",15,0)
modified.
"^DIC",727.802,727.802,"%D",16,0)
  
"^DIC",727.802,727.802,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.802,"B","ADMISSION EXTRACT",727.802)

"^DIC",727.804,727.804,0)
CLINIC NOSHOW EXTRACT
"^DIC",727.804,727.804,0,"GL")
^ECX(727.804,
"^DIC",727.804,727.804,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.804,727.804,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.804,727.804,"%D",2,0)
System (DSS) Program Office for the MAS Clinic No Show extract from 
"^DIC",727.804,727.804,"%D",3,0)
existing DHCP files. Entries into this file are made by extracting data 
"^DIC",727.804,727.804,"%D",4,0)
from several files. Once approved by the DSS site manager, entries in 
"^DIC",727.804,727.804,"%D",5,0)
this file are loaded into an electronic mail message and sent to the 
"^DIC",727.804,727.804,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.804,727.804,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.804,727.804,"%D",8,0)
  
"^DIC",727.804,727.804,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.804,727.804,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.804,727.804,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.804,727.804,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.804,727.804,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.804,727.804,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.804,727.804,"%D",15,0)
modified.
"^DIC",727.804,727.804,"%D",16,0)
  
"^DIC",727.804,727.804,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.804,"B","CLINIC NOSHOW EXTRACT",727.804)

"^DIC",727.805,727.805,0)
NURSING EXTRACT
"^DIC",727.805,727.805,0,"GL")
^ECX(727.805,
"^DIC",727.805,727.805,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.805,727.805,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.805,727.805,"%D",2,0)
System (DSS) Program Office for the Nursing extract from existing 
"^DIC",727.805,727.805,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.805,727.805,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.805,727.805,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.805,727.805,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.805,727.805,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.805,727.805,"%D",8,0)
  
"^DIC",727.805,727.805,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.805,727.805,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.805,727.805,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.805,727.805,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.805,727.805,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.805,727.805,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.805,727.805,"%D",15,0)
modified.
"^DIC",727.805,727.805,"%D",16,0)
  
"^DIC",727.805,727.805,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.805,"B","NURSING EXTRACT",727.805)

"^DIC",727.806,727.806,0)
DENTAL EXTRACT
"^DIC",727.806,727.806,0,"GL")
^ECX(727.806,
"^DIC",727.806,727.806,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.806,727.806,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.806,727.806,"%D",2,0)
System (DSS) Program Office for the Dental extract from existing 
"^DIC",727.806,727.806,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.806,727.806,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.806,727.806,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.806,727.806,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.806,727.806,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.806,727.806,"%D",8,0)
  
"^DIC",727.806,727.806,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.806,727.806,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.806,727.806,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.806,727.806,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.806,727.806,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.806,727.806,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.806,727.806,"%D",15,0)
modified.
"^DIC",727.806,727.806,"%D",16,0)
  
"^DIC",727.806,727.806,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.806,"B","DENTAL EXTRACT",727.806)

"^DIC",727.808,727.808,0)
PHYSICAL MOVEMENT EXTRACT
"^DIC",727.808,727.808,0,"GL")
^ECX(727.808,
"^DIC",727.808,727.808,"%D",0)
^^18^18^2990222^^^^
"^DIC",727.808,727.808,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.808,727.808,"%D",2,0)
System (DSS) Program Office for the MAS Physical Movement (Transfer and 
"^DIC",727.808,727.808,"%D",3,0)
Discharge) extract from existing DHCP files. Entries into this file are 
"^DIC",727.808,727.808,"%D",4,0)
made by extracting data from several files. Once approved by the DSS 
"^DIC",727.808,727.808,"%D",5,0)
site manager, entries in this file are loaded into an electronic mail 
"^DIC",727.808,727.808,"%D",6,0)
message and sent to the commercial vendor. This file is intended to be 
"^DIC",727.808,727.808,"%D",7,0)
used for validation purposes only. Entries should be made only by the 
"^DIC",727.808,727.808,"%D",8,0)
extract load routine.
"^DIC",727.808,727.808,"%D",9,0)
  
"^DIC",727.808,727.808,"%D",10,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.808,727.808,"%D",11,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.808,727.808,"%D",12,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.808,727.808,"%D",13,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.808,727.808,"%D",14,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.808,727.808,"%D",15,0)
feature for managing and purging data in this file and should not be
"^DIC",727.808,727.808,"%D",16,0)
modified.
"^DIC",727.808,727.808,"%D",17,0)
  
"^DIC",727.808,727.808,"%D",18,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.808,"B","PHYSICAL MOVEMENT EXTRACT",727.808)

"^DIC",727.809,727.809,0)
UNIT DOSE LOCAL EXTRACT
"^DIC",727.809,727.809,0,"GL")
^ECX(727.809,
"^DIC",727.809,727.809,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.809,727.809,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.809,727.809,"%D",2,0)
System (DSS) Program Office for the Pharmacy Unit Dose extract from 
"^DIC",727.809,727.809,"%D",3,0)
existing DHCP files. Entries into this file are made by extracting data 
"^DIC",727.809,727.809,"%D",4,0)
from several files. Once approved by the DSS site manager, entries in 
"^DIC",727.809,727.809,"%D",5,0)
this file are loaded into an electronic mail message and sent to the 
"^DIC",727.809,727.809,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.809,727.809,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.809,727.809,"%D",8,0)
  
"^DIC",727.809,727.809,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.809,727.809,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.809,727.809,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.809,727.809,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.809,727.809,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.809,727.809,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.809,727.809,"%D",15,0)
modified.
"^DIC",727.809,727.809,"%D",16,0)
  
"^DIC",727.809,727.809,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.809,"B","UNIT DOSE LOCAL EXTRACT",727.809)

"^DIC",727.81,727.81,0)
PRESCRIPTION EXTRACT
"^DIC",727.81,727.81,0,"GL")
^ECX(727.81,
"^DIC",727.81,727.81,"%D",0)
^^18^18^2990222^^^^
"^DIC",727.81,727.81,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.81,727.81,"%D",2,0)
System (DSS) Program Office for the Pharmacy Outpatient (Prescription) 
"^DIC",727.81,727.81,"%D",3,0)
extract from existing DHCP files. Entries into this file are made by 
"^DIC",727.81,727.81,"%D",4,0)
extracting data from several files. Once approved by the DSS site 
"^DIC",727.81,727.81,"%D",5,0)
manager, entries in this file are loaded into an electronic mail message 
"^DIC",727.81,727.81,"%D",6,0)
and sent to the commercial vendor. This file is intended to be used for 
"^DIC",727.81,727.81,"%D",7,0)
validation purposes only. Entries should be made only by the extract 
"^DIC",727.81,727.81,"%D",8,0)
load routine.
"^DIC",727.81,727.81,"%D",9,0)
  
"^DIC",727.81,727.81,"%D",10,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.81,727.81,"%D",11,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.81,727.81,"%D",12,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.81,727.81,"%D",13,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.81,727.81,"%D",14,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.81,727.81,"%D",15,0)
feature for managing and purging data in this file and should not be
"^DIC",727.81,727.81,"%D",16,0)
modified.
"^DIC",727.81,727.81,"%D",17,0)
  
"^DIC",727.81,727.81,"%D",18,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.81,"B","PRESCRIPTION EXTRACT",727.81)

"^DIC",727.811,727.811,0)
SURGERY EXTRACT
"^DIC",727.811,727.811,0,"GL")
^ECX(727.811,
"^DIC",727.811,727.811,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.811,727.811,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.811,727.811,"%D",2,0)
System (DSS) Program Office for the Surgery extract from existing 
"^DIC",727.811,727.811,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.811,727.811,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.811,727.811,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.811,727.811,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.811,727.811,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.811,727.811,"%D",8,0)
  
"^DIC",727.811,727.811,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.811,727.811,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.811,727.811,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.811,727.811,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.811,727.811,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.811,727.811,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.811,727.811,"%D",15,0)
modified.
"^DIC",727.811,727.811,"%D",16,0)
  
"^DIC",727.811,727.811,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.811,"B","SURGERY EXTRACT",727.811)

"^DIC",727.812,727.812,0)
MENTAL HEALTH EXTRACT^727.812
"^DIC",727.812,727.812,0,"GL")
^ECX(727.812,
"^DIC",727.812,"B","MENTAL HEALTH EXTRACT",727.812)

"^DIC",727.813,727.813,0)
LABORATORY EXTRACT
"^DIC",727.813,727.813,0,"GL")
^ECX(727.813,
"^DIC",727.813,727.813,"%D",0)
^^22^22^2990222^^^^
"^DIC",727.813,727.813,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.813,727.813,"%D",2,0)
System (DSS) Program Office for the Laboratory extract from existing 
"^DIC",727.813,727.813,"%D",3,0)
DHCP files. Entries into this file are made by extracting data by two 
"^DIC",727.813,727.813,"%D",4,0)
different methods depending upon whether or not LMIP codes are used. 
"^DIC",727.813,727.813,"%D",5,0)
Using LMIP codes, the data are extracted, in large part, from the WKLD 
"^DIC",727.813,727.813,"%D",6,0)
LOG file (#64.03) which is populated by a routine provided by the 
"^DIC",727.813,727.813,"%D",7,0)
Laboratory development team.  Not using LMIP codes, the data are derived 
"^DIC",727.813,727.813,"%D",8,0)
from several Lab files as well as from several other DHCP files. Once 
"^DIC",727.813,727.813,"%D",9,0)
approved by the DSS site manager, entries in this file are loaded into 
"^DIC",727.813,727.813,"%D",10,0)
an electronic mail message and sent to the commercial vendor. This file 
"^DIC",727.813,727.813,"%D",11,0)
is intended to be used for validation purposes only. Entries should be 
"^DIC",727.813,727.813,"%D",12,0)
made only by the extract load routine.
"^DIC",727.813,727.813,"%D",13,0)
  
"^DIC",727.813,727.813,"%D",14,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.813,727.813,"%D",15,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.813,727.813,"%D",16,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.813,727.813,"%D",17,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.813,727.813,"%D",18,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.813,727.813,"%D",19,0)
feature for managing and purging data in this file and should not be
"^DIC",727.813,727.813,"%D",20,0)
modified.
"^DIC",727.813,727.813,"%D",21,0)
  
"^DIC",727.813,727.813,"%D",22,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.813,"B","LABORATORY EXTRACT",727.813)

"^DIC",727.814,727.814,0)
RADIOLOGY EXTRACT
"^DIC",727.814,727.814,0,"GL")
^ECX(727.814,
"^DIC",727.814,727.814,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.814,727.814,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.814,727.814,"%D",2,0)
System (DSS) Program Office for the Radiology extract from existing 
"^DIC",727.814,727.814,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.814,727.814,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.814,727.814,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.814,727.814,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.814,727.814,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.814,727.814,"%D",8,0)
  
"^DIC",727.814,727.814,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.814,727.814,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.814,727.814,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.814,727.814,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.814,727.814,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.814,727.814,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.814,727.814,"%D",15,0)
modified.
"^DIC",727.814,727.814,"%D",16,0)
  
"^DIC",727.814,727.814,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.814,"B","RADIOLOGY EXTRACT",727.814)

"^DIC",727.815,727.815,0)
EVENT CAPTURE LOCAL EXTRACT^727.815
"^DIC",727.815,727.815,0,"GL")
^ECX(727.815,
"^DIC",727.815,727.815,"%D",0)
^^19^19^2990222^^^^
"^DIC",727.815,727.815,"%D",1,0)
This file contains data elements as specified by the Decision
"^DIC",727.815,727.815,"%D",2,0)
Support System (DSS) Program Office for the Event Capture
"^DIC",727.815,727.815,"%D",3,0)
extract from the existing Event Capture DHCP files. Entries
"^DIC",727.815,727.815,"%D",4,0)
into this file are made by extracting data from several files.
"^DIC",727.815,727.815,"%D",5,0)
Once approved by the DSS site manager, entries in this file
"^DIC",727.815,727.815,"%D",6,0)
are loaded into an electronic mail message and sent to the 
"^DIC",727.815,727.815,"%D",7,0)
commercial vendor. This file is intended to be used for
"^DIC",727.815,727.815,"%D",8,0)
validation purposes only. Entries should be made only by the
"^DIC",727.815,727.815,"%D",9,0)
extract load routine.
"^DIC",727.815,727.815,"%D",10,0)
 
"^DIC",727.815,727.815,"%D",11,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.815,727.815,"%D",12,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.815,727.815,"%D",13,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.815,727.815,"%D",14,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.815,727.815,"%D",15,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.815,727.815,"%D",16,0)
feature for managing and purging data in this file and should not be
"^DIC",727.815,727.815,"%D",17,0)
modified.
"^DIC",727.815,727.815,"%D",18,0)
  
"^DIC",727.815,727.815,"%D",19,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.815,"B","EVENT CAPTURE LOCAL EXTRACT",727.815)

"^DIC",727.817,727.817,0)
TREATING SPECIALTY CHANGE EXTRACT
"^DIC",727.817,727.817,0,"GL")
^ECX(727.817,
"^DIC",727.817,727.817,"%D",0)
^^18^18^2990222^^^^
"^DIC",727.817,727.817,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.817,727.817,"%D",2,0)
System (DSS) Program Office for the MAS Treating Specialty Change 
"^DIC",727.817,727.817,"%D",3,0)
extract from existing DHCP files. Entries into this file are made by 
"^DIC",727.817,727.817,"%D",4,0)
extracting data from several files. Once approved by the DSS site 
"^DIC",727.817,727.817,"%D",5,0)
manager, entries in this file are loaded into an electronic mail message 
"^DIC",727.817,727.817,"%D",6,0)
and sent to the commercial vendor. This file is intended to be used for 
"^DIC",727.817,727.817,"%D",7,0)
validation purposes only. Entries should be made only by the extract 
"^DIC",727.817,727.817,"%D",8,0)
load routine.
"^DIC",727.817,727.817,"%D",9,0)
  
"^DIC",727.817,727.817,"%D",10,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.817,727.817,"%D",11,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.817,727.817,"%D",12,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.817,727.817,"%D",13,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.817,727.817,"%D",14,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.817,727.817,"%D",15,0)
feature for managing and purging data in this file and should not be
"^DIC",727.817,727.817,"%D",16,0)
modified.
"^DIC",727.817,727.817,"%D",17,0)
  
"^DIC",727.817,727.817,"%D",18,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.817,"B","TREATING SPECIALTY CHANGE EXTRACT",727.817)

"^DIC",727.819,727.819,0)
IV DETAIL EXTRACT
"^DIC",727.819,727.819,0,"GL")
^ECX(727.819,
"^DIC",727.819,727.819,"%",0)
^1.005^^0
"^DIC",727.819,727.819,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.819,727.819,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.819,727.819,"%D",2,0)
System (DSS) Program Office for the Pharmacy IV extract from existing 
"^DIC",727.819,727.819,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.819,727.819,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.819,727.819,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.819,727.819,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.819,727.819,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.819,727.819,"%D",8,0)
  
"^DIC",727.819,727.819,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.819,727.819,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.819,727.819,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.819,727.819,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.819,727.819,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.819,727.819,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.819,727.819,"%D",15,0)
modified.
"^DIC",727.819,727.819,"%D",16,0)
  
"^DIC",727.819,727.819,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.819,"B","IV DETAIL EXTRACT",727.819)

"^DIC",727.823,727.823,0)
PAI EXTRACT
"^DIC",727.823,727.823,0,"GL")
^ECX(727.823,
"^DIC",727.823,727.823,"%D",0)
^^18^18^2990222^^
"^DIC",727.823,727.823,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.823,727.823,"%D",2,0)
System (DSS) Program Office for the Patient Assessment Instrument (PAI) 
"^DIC",727.823,727.823,"%D",3,0)
extract from existing DHCP files. Entries into this file are made by 
"^DIC",727.823,727.823,"%D",4,0)
extracting data from the PAF file (#45.9). Once approved by the DSS site 
"^DIC",727.823,727.823,"%D",5,0)
manager, entries in this file are loaded into an electronic mail message 
"^DIC",727.823,727.823,"%D",6,0)
and sent to the commercial vendor. This file is intended to be used for 
"^DIC",727.823,727.823,"%D",7,0)
validation purposes only. Entries should be made only by the extract 
"^DIC",727.823,727.823,"%D",8,0)
load routine.
"^DIC",727.823,727.823,"%D",9,0)
  
"^DIC",727.823,727.823,"%D",10,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.823,727.823,"%D",11,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.823,727.823,"%D",12,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.823,727.823,"%D",13,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.823,727.823,"%D",14,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.823,727.823,"%D",15,0)
feature for managing and purging data in this file and should not be
"^DIC",727.823,727.823,"%D",16,0)
modified.
"^DIC",727.823,727.823,"%D",17,0)
  
"^DIC",727.823,727.823,"%D",18,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.823,"B","PAI EXTRACT",727.823)

"^DIC",727.824,727.824,0)
LAB RESULTS EXTRACT
"^DIC",727.824,727.824,0,"GL")
^ECX(727.824,
"^DIC",727.824,727.824,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.824,727.824,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.824,727.824,"%D",2,0)
System (DSS) Program Office for the Laboratory Results extract from 
"^DIC",727.824,727.824,"%D",3,0)
existing DHCP files. Entries into this file are made by extracting data 
"^DIC",727.824,727.824,"%D",4,0)
from several files. Once approved by the DSS site manager, entries in 
"^DIC",727.824,727.824,"%D",5,0)
this file are loaded into an electronic mail message and sent to the 
"^DIC",727.824,727.824,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.824,727.824,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.824,727.824,"%D",8,0)
  
"^DIC",727.824,727.824,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.824,727.824,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.824,727.824,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.824,727.824,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.824,727.824,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.824,727.824,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.824,727.824,"%D",15,0)
modified.
"^DIC",727.824,727.824,"%D",16,0)
  
"^DIC",727.824,727.824,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.824,"B","LAB RESULTS EXTRACT",727.824)

"^DIC",727.825,727.825,0)
QUASAR EXTRACT^727.825
"^DIC",727.825,727.825,0,"GL")
^ECX(727.825,
"^DIC",727.825,727.825,"%",0)
^1.005^^
"^DIC",727.825,727.825,"%D",0)
^^17^17^3000906^^^^
"^DIC",727.825,727.825,"%D",1,0)
This file contains data elements as specified by the Decision Support
"^DIC",727.825,727.825,"%D",2,0)
System (DSS) Program Office for the QUASAR extract from existing QUASAR
"^DIC",727.825,727.825,"%D",3,0)
DHCP files. Entries into this file are made by extracting data
"^DIC",727.825,727.825,"%D",4,0)
from several files.  Once approved by the DSS site manager, entries in
"^DIC",727.825,727.825,"%D",5,0)
this file are loaded into an electronic mail message and sent to the
"^DIC",727.825,727.825,"%D",6,0)
commercial vendor. This file is intended to be used for validation
"^DIC",727.825,727.825,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.825,727.825,"%D",8,0)
  
"^DIC",727.825,727.825,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.825,727.825,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.825,727.825,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.825,727.825,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.825,727.825,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.825,727.825,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.825,727.825,"%D",15,0)
modified.
"^DIC",727.825,727.825,"%D",16,0)
  
"^DIC",727.825,727.825,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.825,"B","QUASAR EXTRACT",727.825)

"^DIC",727.826,727.826,0)
PROSTHETICS EXTRACT^727.826
"^DIC",727.826,727.826,0,"GL")
^ECX(727.826,
"^DIC",727.826,727.826,"%",0)
^1.005^1^1
"^DIC",727.826,727.826,"%",1,0)
ECX
"^DIC",727.826,727.826,"%","B","ECX",1)

"^DIC",727.826,727.826,"%D",0)
^^21^21^2990222^^^^
"^DIC",727.826,727.826,"%D",1,0)
This file contains the data elements as specified by the Decision Support
"^DIC",727.826,727.826,"%D",2,0)
System (DSS) Program Office for the Prosthetics extract from existing
"^DIC",727.826,727.826,"%D",3,0)
VISTA files.  Entries into this file are made by extracting data that
"^DIC",727.826,727.826,"%D",4,0)
originates in the Prosthetics RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DIC",727.826,727.826,"%D",5,0)
Information respective to the patient for which Prosthetic information
"^DIC",727.826,727.826,"%D",6,0)
is extracted is pulled from the PIMS Patient file (#2).  Once the extracts
"^DIC",727.826,727.826,"%D",7,0)
(making up the records in this file) are approved by the extract manager,
"^DIC",727.826,727.826,"%D",8,0)
entries in this file are loaded into mail messages and transmitted to
"^DIC",727.826,727.826,"%D",9,0)
the commercial vendor.  This file is intended to be used for validation
"^DIC",727.826,727.826,"%D",10,0)
purposes only.  Entries in this file should be made only by the extract
"^DIC",727.826,727.826,"%D",11,0)
load routine.
"^DIC",727.826,727.826,"%D",12,0)
 
"^DIC",727.826,727.826,"%D",13,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.826,727.826,"%D",14,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.826,727.826,"%D",15,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.826,727.826,"%D",16,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.826,727.826,"%D",17,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.826,727.826,"%D",18,0)
feature for managing and purging data in this file and should not be
"^DIC",727.826,727.826,"%D",19,0)
modified.
"^DIC",727.826,727.826,"%D",20,0)
  
"^DIC",727.826,727.826,"%D",21,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.826,"B","PROSTHETICS EXTRACT",727.826)

"^DIC",727.827,727.827,0)
CLINIC EXTRACT^727.827
"^DIC",727.827,727.827,0,"GL")
^ECX(727.827,
"^DIC",727.827,727.827,"%",0)
^1.005^^
"^DIC",727.827,727.827,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.827,727.827,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.827,727.827,"%D",2,0)
System (DSS) Program Office for the Clinic extract from existing 
"^DIC",727.827,727.827,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.827,727.827,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.827,727.827,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.827,727.827,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.827,727.827,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.827,727.827,"%D",8,0)
  
"^DIC",727.827,727.827,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.827,727.827,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.827,727.827,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.827,727.827,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.827,727.827,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.827,727.827,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.827,727.827,"%D",15,0)
modified.
"^DIC",727.827,727.827,"%D",16,0)
  
"^DIC",727.827,727.827,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.827,"B","CLINIC EXTRACT",727.827)

"^DIC",727.831,727.831,0)
DOM PRRTP SAARTP ETC^727.831
"^DIC",727.831,727.831,0,"GL")
^ECX(727.831,
"^DIC",727.831,727.831,"%",0)
^1.005^^0
"^DIC",727.831,"B","DOM PRRTP SAARTP ETC",727.831)

**END**
**END**
