Released XT*7.3*82 SEQ #67
Extracted from mail message
**KIDS**:XT*7.3*82^

**INSTALL NAME**
XT*7.3*82
"BLD",792,0)
XT*7.3*82^TOOLKIT^0^3031103^y
"BLD",792,1,0)
^^2^2^3031103^
"BLD",792,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"BLD",792,1,2,0)
Patch XT*7.3*82.
"BLD",792,4,0)
^9.64PA^^
"BLD",792,"KRN",0)
^9.67PA^8989.52^19
"BLD",792,"KRN",.4,0)
.4
"BLD",792,"KRN",.401,0)
.401
"BLD",792,"KRN",.402,0)
.402
"BLD",792,"KRN",.403,0)
.403
"BLD",792,"KRN",.5,0)
.5
"BLD",792,"KRN",.84,0)
.84
"BLD",792,"KRN",3.6,0)
3.6
"BLD",792,"KRN",3.8,0)
3.8
"BLD",792,"KRN",9.2,0)
9.2
"BLD",792,"KRN",9.8,0)
9.8
"BLD",792,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",792,"KRN",9.8,"NM",1,0)
XPAR^^0^B21549244
"BLD",792,"KRN",9.8,"NM","B","XPAR",1)

"BLD",792,"KRN",19,0)
19
"BLD",792,"KRN",19.1,0)
19.1
"BLD",792,"KRN",101,0)
101
"BLD",792,"KRN",409.61,0)
409.61
"BLD",792,"KRN",771,0)
771
"BLD",792,"KRN",870,0)
870
"BLD",792,"KRN",8989.51,0)
8989.51
"BLD",792,"KRN",8989.52,0)
8989.52
"BLD",792,"KRN",8994,0)
8994
"BLD",792,"KRN","B",.4,.4)

"BLD",792,"KRN","B",.401,.401)

"BLD",792,"KRN","B",.402,.402)

"BLD",792,"KRN","B",.403,.403)

"BLD",792,"KRN","B",.5,.5)

"BLD",792,"KRN","B",.84,.84)

"BLD",792,"KRN","B",3.6,3.6)

"BLD",792,"KRN","B",3.8,3.8)

"BLD",792,"KRN","B",9.2,9.2)

"BLD",792,"KRN","B",9.8,9.8)

"BLD",792,"KRN","B",19,19)

"BLD",792,"KRN","B",19.1,19.1)

"BLD",792,"KRN","B",101,101)

"BLD",792,"KRN","B",409.61,409.61)

"BLD",792,"KRN","B",771,771)

"BLD",792,"KRN","B",870,870)

"BLD",792,"KRN","B",8989.51,8989.51)

"BLD",792,"KRN","B",8989.52,8989.52)

"BLD",792,"KRN","B",8994,8994)

"BLD",792,"QUES",0)
^9.62^^
"BLD",792,"REQB",0)
^9.611^1^1
"BLD",792,"REQB",1,0)
XT*7.3*79^2
"BLD",792,"REQB","B","XT*7.3*79",1)

"MBREQ")
0
"PKG",6,-1)
1^1
"PKG",6,0)
TOOLKIT^XT^PROGRAMMERS OPTIONS, MULTI. TERM LOOKUP^
"PKG",6,20,0)
^9.402P^^
"PKG",6,22,0)
^9.49I^1^1
"PKG",6,22,1,0)
7.3^2961029^2970513^2
"PKG",6,22,1,"PAH",1,0)
82^3031103
"PKG",6,22,1,"PAH",1,1,0)
^^2^2^3031103
"PKG",6,22,1,"PAH",1,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"PKG",6,22,1,"PAH",1,1,2,0)
Patch XT*7.3*82.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XPAR")
0^1^B21549244
"RTN","XPAR",1,0)
XPAR ; SLC/KCM - Parameters File Calls ;11/03/2003  16:17
"RTN","XPAR",2,0)
 ;;7.3;TOOLKIT;**26,60,63,79,82**;Apr 25, 1995
"RTN","XPAR",3,0)
 ;
"RTN","XPAR",4,0)
 ; (Need to add proper locking)
"RTN","XPAR",5,0)
 ;
"RTN","XPAR",6,0)
 ; Calls to Add/Change/Delete Parameters
"RTN","XPAR",7,0)
 ;  ENT: entity, required (internal or external form)
"RTN","XPAR",8,0)
 ;  PAR: parameter, required (internal or external form)
"RTN","XPAR",9,0)
 ; INST: instance, defaults to 1 (external or `internal)
"RTN","XPAR",10,0)
 ;  VAL: value, defaults to "" (external or 'internal)
"RTN","XPAR",11,0)
 ; .ERR: returns error (0 if none, otherwise "1^error text")
"RTN","XPAR",12,0)
 ;
"RTN","XPAR",13,0)
ADD(ENT,PAR,INST,VAL,ERR) ; add new parameter instance
"RTN","XPAR",14,0)
 N TYP S TYP="A"
"RTN","XPAR",15,0)
 D UPD
"RTN","XPAR",16,0)
 Q
"RTN","XPAR",17,0)
CHG(ENT,PAR,INST,VAL,ERR) ; change parameter value for a given instance
"RTN","XPAR",18,0)
 N TYP S TYP="C"
"RTN","XPAR",19,0)
 D UPD
"RTN","XPAR",20,0)
 Q
"RTN","XPAR",21,0)
DEL(ENT,PAR,INST,ERR) ; delete a parameter instance
"RTN","XPAR",22,0)
 N TYP,VAL S TYP="D"
"RTN","XPAR",23,0)
 D UPD
"RTN","XPAR",24,0)
 Q
"RTN","XPAR",25,0)
REP(ENT,PAR,INST,NEWINST,ERR) ; replace existing instance value
"RTN","XPAR",26,0)
 N TYP,VAL S TYP="R"
"RTN","XPAR",27,0)
 D UPD
"RTN","XPAR",28,0)
 Q
"RTN","XPAR",29,0)
PUT(ENT,PAR,INST,VAL,ERR) ; add/update, bypassing input transforms
"RTN","XPAR",30,0)
PUT1 ;                       ; called here from old entry point EN^ORXP
"RTN","XPAR",31,0)
 N TYP,XPARCHK           ; XPARVCHK undefined to bypass validation
"RTN","XPAR",32,0)
 D UPD1
"RTN","XPAR",33,0)
 Q
"RTN","XPAR",34,0)
EN(ENT,PAR,INST,VAL,ERR) ; add/change/delete parameters
"RTN","XPAR",35,0)
 N TYP
"RTN","XPAR",36,0)
UPD ;                       ; enter here if transaction type known
"RTN","XPAR",37,0)
 N XPARCHK S XPARCHK=""
"RTN","XPAR",38,0)
UPD1 ;                       ; enter here if data already validated
"RTN","XPAR",39,0)
 S ERR=0,INST=$G(INST,1),VAL=$G(VAL)
"RTN","XPAR",40,0)
 I ($L(ENT,"^")>1)!(ENT["ALL") S ERR=$$ERR^XPARDD(89895007) Q  ;no lists
"RTN","XPAR",41,0)
 D INTERN^XPAR1 Q:ERR
"RTN","XPAR",42,0)
 I '$D(TYP) S TYP=$S(VAL="@":"D",+$O(^XTV(8989.5,"AC",PAR,ENT,INST,0)):"C",1:"A")
"RTN","XPAR",43,0)
 I TYP="A" G DOADD^XPAR2 ; use GO to emulate case statement
"RTN","XPAR",44,0)
 I TYP="C" G DOCHG^XPAR2
"RTN","XPAR",45,0)
 I TYP="D" G DODEL^XPAR2
"RTN","XPAR",46,0)
 I TYP="R" G DOREP^XPAR2
"RTN","XPAR",47,0)
 Q
"RTN","XPAR",48,0)
NDEL(ENT,PAR,ERR) ; Delete all instances of a parameter for an entity
"RTN","XPAR",49,0)
 N INST,DA
"RTN","XPAR",50,0)
 I ($L(ENT,"^")>1)!(ENT["ALL") S ERR=$$ERR^XPARDD(89895007) Q
"RTN","XPAR",51,0)
 S ERR=0 D INTERN^XPAR1 Q:ERR
"RTN","XPAR",52,0)
 S INST="",DIK="^XTV(8989.5,"
"RTN","XPAR",53,0)
 F  S INST=$O(^XTV(8989.5,"AC",PAR,ENT,INST)) Q:INST=""  D
"RTN","XPAR",54,0)
 . S DA=$O(^XTV(8989.5,"AC",PAR,ENT,INST,0))
"RTN","XPAR",55,0)
 . D ^DIK
"RTN","XPAR",56,0)
 Q
"RTN","XPAR",57,0)
 ;
"RTN","XPAR",58,0)
 ;  Calls to Retrieve Values for Parameters --------------------------
"RTN","XPAR",59,0)
 ;  ENT: entity, required, may take on several forms -
"RTN","XPAR",60,0)
 ;           internal vptr: ien;GLO(FN,
"RTN","XPAR",61,0)
 ;           external vptr: prefix.entryname
"RTN","XPAR",62,0)
 ;      'use current' form: prefix
"RTN","XPAR",63,0)
 ;            chained list: use any of above, ^ delimited, or 'ALL'
"RTN","XPAR",64,0)
 ;  PAR: parameter, required (internal or external form)
"RTN","XPAR",65,0)
 ; .ERR: returns error (0 if none, otherwise "error number^text")
"RTN","XPAR",66,0)
 ;
"RTN","XPAR",67,0)
GET(ENT,PAR,INST,FMT) ; function - returns a parameter value
"RTN","XPAR",68,0)
 ; INST: instance, defaults to 1 (external or `internal)
"RTN","XPAR",69,0)
 ;  FMT: format of returned data, defaults to "Q" (internal values)
"RTN","XPAR",70,0)
 ;       "Q" - quick, returns internal value
"RTN","XPAR",71,0)
 ;       "I" - internal, returns internal value, inst must be internal
"RTN","XPAR",72,0)
 ;       "E" - external, returns external value
"RTN","XPAR",73,0)
 ;       "B" - both, returns internal value^external value
"RTN","XPAR",74,0)
 N ERR,XPARCHK,XPARGET
"RTN","XPAR",75,0)
 S ERR=0,FMT=$G(FMT,"Q"),INST=$G(INST,1),XPARGET="" S:FMT'="I" XPARCHK=""
"RTN","XPAR",76,0)
 D INTERN^XPAR1 I ERR Q ""
"RTN","XPAR",77,0)
 N VAL S VAL=$G(^XTV(8989.5,"AC",PAR,ENT,INST))
"RTN","XPAR",78,0)
 I FMT="I"!(FMT="Q") Q VAL
"RTN","XPAR",79,0)
 I FMT="E",$L(VAL) Q $$EXT^XPARDD(VAL,PAR)
"RTN","XPAR",80,0)
 I FMT="B",$L(VAL) Q VAL_"^"_$$EXT^XPARDD(VAL,PAR)
"RTN","XPAR",81,0)
 Q ""
"RTN","XPAR",82,0)
GETWP(WPTEXT,ENT,PAR,INST,ERR) ; get value of word processing type
"RTN","XPAR",83,0)
 ; .WPTEXT: array in which the word processing text is returned
"RTN","XPAR",84,0)
 ;          WPTEXT      contains the title (VALUE field)
"RTN","XPAR",85,0)
 ;          WPTEXT(n,0) contains the actual text
"RTN","XPAR",86,0)
 ;    INST: instance, defaults to 1 (internal only - XPARCHK not defined)
"RTN","XPAR",87,0)
 N IEN,I,XPARGET,XPARCHK K WPTEXT
"RTN","XPAR",88,0)
 S ERR=0,INST=$G(INST,1),XPARGET=""
"RTN","XPAR",89,0)
 D INTERN^XPAR1 Q:ERR
"RTN","XPAR",90,0)
 S IEN=$O(^XTV(8989.5,"AC",PAR,ENT,INST,0)) Q:'IEN
"RTN","XPAR",91,0)
 M WPTEXT=^XTV(8989.5,IEN,2) S WPTEXT=^(1) K WPTEXT(0)
"RTN","XPAR",92,0)
 Q
"RTN","XPAR",93,0)
GETLST(LIST,ENT,PAR,FMT,ERR,GBL) ; return all parameter instances for an entity
"RTN","XPAR",94,0)
 ; .LIST: array in which instances are returned
"RTN","XPAR",95,0)
 ;   FMT: format of returned data, defaults to "Q" (internal values)
"RTN","XPAR",96,0)
 ;        "I" - internal  instance)=internal value
"RTN","XPAR",97,0)
 ;        "Q" - quick,    #)=internal instance^internal value
"RTN","XPAR",98,0)
 ;        "E" - external, #)=external instance^external value
"RTN","XPAR",99,0)
 ;        "B" - both,     #,"N")=internal instance^external instance
"RTN","XPAR",100,0)
 ;                        #,"V")=internal value^external value
"RTN","XPAR",101,0)
 ;        "N" - external instance)=internal value^external value
"RTN","XPAR",102,0)
 ;   GBL: Set to 1 if LIST holds a Closed Global root
"RTN","XPAR",103,0)
 N INST,EINST,VAL,XPARGET,XPARCHK,ROOT ;leave XPARCHK undefined
"RTN","XPAR",104,0)
 S ERR=0,INST="",FMT=$G(FMT,"Q"),XPARGET=""
"RTN","XPAR",105,0)
 ;Setup ROOT
"RTN","XPAR",106,0)
 I '$G(GBL) K LIST S ROOT=$NA(LIST)
"RTN","XPAR",107,0)
 I $G(GBL) D  Q:ERR
"RTN","XPAR",108,0)
 . I $E($G(LIST),1)'="^" S ERR=$$ERR^XPARDD(89895015) Q
"RTN","XPAR",109,0)
 . S ROOT=LIST
"RTN","XPAR",110,0)
 . Q
"RTN","XPAR",111,0)
 ;
"RTN","XPAR",112,0)
 S @ROOT=0
"RTN","XPAR",113,0)
 D INTERN^XPAR1 Q:ERR
"RTN","XPAR",114,0)
 F  S INST=$O(^XTV(8989.5,"AC",PAR,ENT,INST)) Q:INST=""  D
"RTN","XPAR",115,0)
 . S @ROOT=@ROOT+1,VAL=^XTV(8989.5,"AC",PAR,ENT,INST)
"RTN","XPAR",116,0)
 . I FMT="I" S @ROOT@(INST)=VAL Q
"RTN","XPAR",117,0)
 . I FMT="Q" S @ROOT@(@ROOT)=INST_U_VAL Q
"RTN","XPAR",118,0)
 . S VAL=VAL_U_$$EXT^XPARDD(VAL,PAR)
"RTN","XPAR",119,0)
 . S EINST=INST_U_$$EXT^XPARDD(INST,PAR,"I")
"RTN","XPAR",120,0)
 . I FMT="E" S @ROOT@(@ROOT)=$P(EINST,"^",2)_U_$P(VAL,"^",2) Q
"RTN","XPAR",121,0)
 . I FMT="B" S @ROOT@(@ROOT,"N")=EINST,@ROOT@(@ROOT,"V")=VAL Q
"RTN","XPAR",122,0)
 . I FMT="N" S @ROOT@($P(EINST,"^",2))=VAL Q
"RTN","XPAR",123,0)
 Q
"RTN","XPAR",124,0)
ENVAL(LIST,PAR,INST,ERR,GBL) ; return all parameter instances
"RTN","XPAR",125,0)
 ; .LIST: array of returned entity/instance/values in the format:
"RTN","XPAR",126,0)
 ;        LIST(entity,instance)=value  (LIST = # of array elements)
"RTN","XPAR",127,0)
 ;        or a Closed Global root  ($NA(^TMP($J)))
"RTN","XPAR",128,0)
 ;   PAR: parameter in external or internal format
"RTN","XPAR",129,0)
 ;  INST: instance (optional) in external or internal format
"RTN","XPAR",130,0)
 ;   ERR: error (0 if no error found)
"RTN","XPAR",131,0)
 ;   GBL: Set to 1 if LIST holds a Closed Global root
"RTN","XPAR",132,0)
 N ENT,VAL,XPARGET,ROOT
"RTN","XPAR",133,0)
 S ENT="",VAL="",ERR=0,XPARGET=""
"RTN","XPAR",134,0)
 ;Setup ROOT
"RTN","XPAR",135,0)
 I '$G(GBL) K LIST S ROOT=$NA(LIST)
"RTN","XPAR",136,0)
 I $G(GBL) D  Q:ERR
"RTN","XPAR",137,0)
 . I $E($G(LIST),1)'="^" S ERR=$$ERR^XPARDD(89895015) Q
"RTN","XPAR",138,0)
 . S ROOT=LIST
"RTN","XPAR",139,0)
 . Q
"RTN","XPAR",140,0)
 ;
"RTN","XPAR",141,0)
 S @ROOT=0
"RTN","XPAR",142,0)
 ; -- parameter to internal format:
"RTN","XPAR",143,0)
 I PAR'?1.N S PAR=+$O(^XTV(8989.51,"B",PAR,0))
"RTN","XPAR",144,0)
 I '$D(^XTV(8989.51,PAR,0)) S ERR=$$ERR^XPARDD(89895001) Q  ;missing par
"RTN","XPAR",145,0)
 ; -- instance
"RTN","XPAR",146,0)
 I $L($G(INST)) D VALID^XPARDD(PAR,.INST,"I",.ERR) Q:ERR
"RTN","XPAR",147,0)
 F  S ENT=$O(^XTV(8989.5,"AC",PAR,ENT)) Q:ENT=""  D
"RTN","XPAR",148,0)
 . I $L($G(INST)) D
"RTN","XPAR",149,0)
 .. S VAL=$G(^XTV(8989.5,"AC",PAR,ENT,INST))
"RTN","XPAR",150,0)
 .. S:$L($G(VAL)) @ROOT@(ENT,INST)=VAL,@ROOT=@ROOT+1
"RTN","XPAR",151,0)
 . I '$L($G(INST)) D
"RTN","XPAR",152,0)
 .. S INST="" F  S INST=$O(^XTV(8989.5,"AC",PAR,ENT,INST)) Q:INST=""  D
"RTN","XPAR",153,0)
 ... S VAL=$G(^XTV(8989.5,"AC",PAR,ENT,INST))
"RTN","XPAR",154,0)
 ... S:$L($G(VAL)) @ROOT@(ENT,INST)=VAL,@ROOT=@ROOT+1
"RTN","XPAR",155,0)
 Q
"VER")
8.0^22.0
**END**
**END**
