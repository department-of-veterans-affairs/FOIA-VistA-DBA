$TXT Created by ANZALDUA,CAROL at VAHVSS.FO-ALBANY.MED.VA.GOV  (KIDS) on THURSDAY, 12/05/02 at 10:28
=============================================================================
Run Date: DEC 12, 2002                     Designation: LR*5.2*283
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #223                     Status: Released
                  Compliance Date: JAN 12, 2003
=============================================================================

Associated patches: (v)LR*5.2*201  <<= must be installed BEFORE `LR*5.2*283'
                    (v)LR*5.2*279  <<= must be installed BEFORE `LR*5.2*283'
                    (v)XU*8*217    <<= must be installed BEFORE `LR*5.2*283'

Subject: LAB RESULTS REPORTING

Category: 
  - Routine
  - Enhancement (Mandatory)

Description: 
============

 ***********************************************************************
      KERNEL PATCH XU*8*217 MUST BE INSTALLED BEFORE LR*5.2*283
 ***********************************************************************
  
  This patch to the Laboratory package does not contain any changes to the 
 VISTA BLOOD BANK Software as defined by the VHA DIRECTIVE 99-053 titled 
 VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
       The purpose of the LAB RESULTS REPORTING patch, LR*5.2*283, is to 
 enhance the VistA Laboratory software to print the name and address of the 
 laboratory that performed a test procedure on patients' laboratory reports. 
  Currently the physical address of the laboratory where the test is 
 performed is not provided on laboratory reports, which is a Joint 
 Commission on Accreditation of Healthcare Organizations (JCAHO) and College 
 of American Pathologists (CAP) deficiency.  This patch will resolve any 
 existing data quality issues concerning the lack of the performing 
 laboratory name and address on patient's reports therefore bringing VA 
 laboratories into compliance with JCAHO and CAP standards.
      All Cumulative and Interim Reports are modified to include the 
 performing lab site (PLS) name and address information in the body of the 
 report.  The performing lab site for each test is noted by the internal 
 entry number of the performing lab site in the INSTITUTION file (#4).  All 
 Cumulative Report options are modified to the interim report format and 
 will include the address page(s) which will be printed at the end of the 
 report.  Site codes are available for chemistry tests only.  There will be 
 no site codes printed for microbiology or anatomic pathology tests at this 
 time because they are unavailable.
  
  ********************
  Below is an example of modified interim report format with the performing 
 lab site names, addresses and site codes printed on a separate page:
  
  Printed at:                                                                
  
                                               page 1
  Dallas Medical Center (428)   123 Lancaster Dallas, TX 75050
  
  BLOW,BILLIE                              Report date: 04/25/20 2:49 pm
       SSN: ***********    SEX: F    DOB: 12/29/1956    LOC: 5N
  
         Provider: BEAR,GUMMY O
         Specimen: SERUM
  Accession [UID]: CH 0425 1 [0421150001]
  
                       Specimen Collection date: 04/25/2002 14:48
         Test Name       Result  Units   Ref. Range      Site Code
         ANION GAP       9 L     meq/L   10 - 22         [123]
         CAL OSM         276    mOsm/L  275 - 300        [428]
         CREATININE      1.1     mg/dL   .8 - 1.2        [456]
         UREA NITROGEN   8 L     mg/dL   11 - 24         [456]
         GLUCOSE         104     mg/dL   60 - 123        [428]
         Eval: This one has an interpretation.
         SODIUM          144     meq/L   135 - 145       [987]
         POTASSIUM       4.5     meq/L   3.8 - 5.3       [428]
         CHLORIDE        105     meq/L   100 - 108       [428]
         CO2             30      meq/L   23 - 31         [428]
         CALCIUM         8.5 L   mg/dL   9 - 11          [428]
         AMYLASE         65      IU/L    14 - 110        [428]
  Comment: Demonstration purposes 
  =======================================================================
         KEY: "L"=Abnormal low, "H"=Abnormal high, "*"=Critical value
  
  BLOW,BILLIE                ***********  04/25/2002 2:49 pm
  
  
                                                                  Page 2
  BLOW,BILLIE              ***********           04/25/2002 2:49 pm
  
  PERFORMING LAB SITES
  [123]  Oklahoma City    713 East 13  OKC, OK 73113
  
  [456]  Muskogee         500 Honor Heights Drive  Muskogee, OK 74401
  
  [987]  Lab Quest        624 Downtown Ave   Somewhere, USA
  
  
  MODIFIED OPTIONS:
  ================
  
  NAME: LRAC DISCHARGE         MENU TEXT: Patient Lab Discharge Summary 
  (Manual)
    TYPE: run routine 
     DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM FORMAT.  The report 
 prints site codes for tests and prints a separate page(s) at the end of the 
 report which lists the performing lab name, address and site code.  This 
 option will print interim reports for a selected patient within a given 
 time period. 
   The printout will go inverse date order.  This report will output all 
 tests for the time period specified.  This option will only print verified 
 results. 
     ROUTINE: CUM^LRRP2
   
  NAME: LRAC PT     MENU TEXT: Reprint cumulative on a given patient
    TYPE: run routine
   DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM REPORT FORMAT. The 
 report prints site codes for tests and prints a separate page(s) at the end 
 of the report which lists the performing lab name, address and site code.  
 This option will print interim reports for a selected patient within a 
 given time period. 
   The printout will go inverse date order.  This report will output all 
 tests for the time period specified.  This option will only print verified 
 results.
    ROUTINE: CUM^LRRP2
  
  NAME: LRAC LOC     MENU TEXT: Reprint cumulative on a given location
    TYPE: run routine 
   DESCRIPTION:   THIS OPTION NOW PRINTS IN THE INTERIM FORMAT. The report 
 prints site codes for tests and prints a separate page(s) at the end of the 
 report which lists the performing lab name, address and site code.
    This option reports all verified results from one location for one day.
 ROUTINE: CUMSGLE^LRRS 
 
  NAME: LRAC LOC-LOC     MENU TEXT: Reprint cumulative from location to 
  location
    TYPE: run routine 
   DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM REPORT FORMAT.  The 
 report prints site codes for tests and prints a separate page(s) at the end 
 of the report which lists the performing lab name, address and site code.
  Detailed report format for all data for one day sorted by location. This 
 option will only print verified results.  The date chosen for this report 
 is the collection date.  If a test is ordered on one day and verified on 
 the next day,you must select the order date to see the report with this 
 option.
    ROUTINE: CUM^LRRS
   
  NAME: LRAC 1 PAGE     MENU TEXT: Reprint a permanent page from cumulative
    TYPE: run routine  
   DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM REPORT FORMAT.  The 
 report prints site codes for tests and prints a separate page(s) at the end 
 of the report which lists the performing lab name, address and site code.
  This option will print interim reports for a selected patient within a 
  given time period.  The printout will go inverse date order.  This report 
 will output all tests for the time period specified.  This option will only 
 print 
  verified results.  
    ROUTINE: CUM^LRRP2 
  
  NAME: LRAC MANUAL     MENU TEXT: Manual queuing of cumulative
    TYPE: run routine      
   DESCRIPTION:   THIS OPTION PRINTS IN THE INTERIM REPORT FORMAT.  The 
  report prints site codes for tests and prints a separate page(s) at the 
 end of the report which lists the performing lab name, address and site 
 code.
  This option will print interim reports for a selected patient within a 
  given time period.  The printout will go inverse date order.  This report 
 will output all tests for the time period specified.  This option will only 
 print 
  verified results.  
    ROUTINE: CUM^LRRP2
  
  NAME: LRAC FULL PATIENT SUMMARY     MENU TEXT: Print a full patient 
 summary
  TYPE: run routine    
  DESCRIPTION:   Prints a full patient summary using the interim report 
  format.  It simply captures all lab data on a patient and prints the 
 performing lab sites and addresses on a separate page(s).  
  ROUTINE: SUM^LRACM2
   
  NAME: LRRD      MENU TEXT: Interim report by provider
  TYPE: run routine      
  DESCRIPTION:   This option is used to obtain all data on one day for 
  selected providers.  All providers may be selected or a range of providers 
 (this may be helpful if obtaining reports for all providers but you wish to 
 split the load between multiple printers).  Multiple selections are allowed 
 for selecting specific providers.  All reports are sorted by provider name. 
 If no results are available for a provider, the option will print the 
 provider's name followed by the next provider's name.  This option is an 
 alternative to having the Interim report tasked to the taskmanager.  Only 
 verified results will be printed.  This option is not part of the 
 cumulative report and should not be charted.  The date chosen for this 
 report is the collection date.  If a test is ordered on one day and 
 verified on the next, you have to select the order date to see the report.  
 The report prints site codes for tests.  
  You will be asked if you would like to print an address page.  The address 
 page prints on a separate page(s) at the end of the report and lists the 
 performing lab name, address and site code. 
  ROUTINE: LRRD
   
  NAME: LRRD BY MD     MENU TEXT: Interim reports for 1 provider (manual 
 queue)
  TYPE: run routine    
  DESCRIPTION:   This option reports all verified results for one day for 
 one provider.  The user will request the date and provider.  This option 
 will only print verified results.  The date requested should be the date 
 the lab work was collected.  This option is to be used for information only 
 and should not be charted.  The report prints site codes for tests.  
  You will be asked if you would like to print an address page.  The address 
 page prints on a separate page(s) at the end of the report and lists the 
 performing lab name, address and site code.  
  ROUTINE: SINGLE^LRRD
  
  NAME: LRRP3     MENU TEXT: Interim report for chosen tests
  TYPE: run routine              
  DESCRIPTION:   This report will display results in inverse date order.  
  The option allows the user to select a specific test or panel of tests for 
 a specified time period.  Regardless of whether the orders have been 
 purged, the results may be displayed.  The report should not be charted.  
 The report prints site codes for tests.  
  You will be asked if you would like to print an address page.  The address 
 page prints on a separate page(s) at the end of the report and lists the 
 performing lab name, address and site code.  
  ROUTINE: LRRP3
  
  NAME: LRRP2     MENU TEXT: Interim report  
  TYPE: run routine   
  DESCRIPTION:   This option will print or display interim reports for a
  selected patient, within a given time period.  The printout will go in 
  inverse date order.  This report will output all tests for the time period 
 specified.  If no results are available, the option will ask for another 
 patient.  This option will only print verified results.  The report prints 
 site codes for tests.  
  You will be asked if you would like to print an address page.  The address 
 page prints on a separate page(s) at the end of the report and lists the 
 performing lab name, address and site code.  
  ROUTINE: LRRP2         
  
  NAME: LRRS     MENU TEXT: Interim reports by location (manual queue)
  TYPE: run routine             
  DESCRIPTION:   Detailed report format for all data for one day sorted by 
 location.  This option is an alternative to having the Interim report 
 tasked to the taskmanager.  For tasking, see option LRTASK DAILY INTERIM 1. 
  If no results are available for a location, the option will print out the 
 location heading followed by the next location heading.  This option will 
 only print verified results, is not part of the cumulative report and 
 should not be charted.  The date chosen for this report is the collection 
 date.  If a test is ordered on one day and verified on the next day, you 
 must select the order date to see the report with this option.  The report 
 prints site codes for tests.  
  You will be asked if you would like to print an address page.  The address 
 page prints on a separate page(s) at the end of the report and lists the 
 performing lab name, address and site code.
  ROUTINE: LRRS12
  
  NAME: LRRSP     MENU TEXT: Interim report for selected tests as ordered
  TYPE: run routine          
  DESCRIPTION:   Detailed report format for an individual patient.  Report 
 is done for selected tests as they are ordered.  If the orders have been 
 purged, the results will not be found because the result look-up is 
 dependent on the orders.  This option allows the user to select a specific 
 test or panel, or select the "ANY" test default which will output all the 
 verified tests for that patient during the time period specified.  If no 
 results are available, the option will ask for another patient.  This 
 option will only print verified results and should be used for information 
 only.  The option should not be charted.    The report prints site codes 
 for tests.  
  You will be asked if you would like to print an address page.  The address 
 page prints on a separate page(s) at the end of the report and lists the 
 performing lab name, address and site code.
  ROUTINE: LRRSP 
  
  NAME: LRRS BY LOC     MENU TEXT: Interim reports for 1 location (manual 
 queue)
  TYPE: run routine              
  DESCRIPTION:   This option reports all verified results from one location 
 for one day.  The user will request the date and location.  This option 
 will only print verified results.  This option is to be used for 
 information only and should not be charted.    The report prints site codes 
 for tests.  
  You will be asked if you would like to print an address page.  The address 
 page prints on a separate page(s) at the end of the report and lists the 
 performing lab name, address and site code.
  ROUTINE: SINGLE^LRRS
  
  NAME: LRTASK CUM    MENU TEXT: TASK THE CUMULATIVE TO RUN EACH NITE
    TYPE: run routine             
   DESCRIPTION:   THIS OPTION NOW PRINTS IN THE INTERIM REPORT FORMAT.  The 
 report prints site codes for tests and prints a separate page(s) at the end 
 of the report which lists the performing lab name, address and site code. 
  This function is automatically run by the TaskManager.  This is the daily 
 interim cumulative report.  
    ROUTINE: AIDQ^LRRP2                   
    SCHEDULING RECOMMENDED: YES
  
  
  Testing Sites:
 ==============
  Detroit VAMC
  Little Rock VAMC
  Asheville VAMC
  Bay Pines VAMC
  Muskogee VAMC
  VISN 2
  
  ROUTINE SUMMARY
  ===============
    The following routines are included in this patch.  The second line
    of each of these routines now looks like:
    <tab> ;;5.2;LAB SERVICE;<patchlist>;Sep 27, 1994
   
                      Checksum       Checksum
  
  
     Routine Name     Before Patch   After Patch    Patch List
     ------------     ------------   -----------    ------------
     LR283            N/A             4564779       283 (Deleted by KIDS)
     LRACM2           9935205         10300781      201,283 
     LRMIPC           4251892         4206392       121,283
     LRMIPSZ1         12406819        12393254      283
     LRRD             8518201         8109636       221,283
     LRRK             5712336         5740293       283
     LRRP             11856365        11838355      195,221,283
     LRRP1            7638502         8015031       153,221,283
     LRRP2            14561533        15278779      106,121,221,283
     LRRP3            8171424         8443889       283
     LRRS             8707990         8838761       283
     LRRS12           3898956         3814610       1,283
     LRRSP            3969248         4067808       121,283
     LRVER4           18527473        19639169    14,42,112,121,140,171,
                                                     153,188,279,283
     LRVER5           14580554        14564045      42,153,283
     LRVR4            8664360         8885386     14,42,121,153,221,263,
                                                     279,283
     LRVR5            11729747        11950773      1,42,153,263,283
  
   Sites should use CHECK^XTSUMBLD to verify checksums.
 
 
  
 
  ASSOCIATED NOIS:
  ================
  
  TUC-1101-60420
  FGH-0401-32373
  VAC-0401-21831
  ALB-1298-50579
  AMA-1198-70074
  GNH-0298-42213
  HVH-1097-11793 
  STX-1101-70707
  
  When users select the Interim report for selected tests as ordered
  [LRRSP] option and enters a patient who requires a means test an undefined 
 variable error occurred.  This undefined variable I at BEGIN in routine 
 LRRSP has been fixed.  
  
  ASSOCIATED NOIS:
  ================
  
  SBY-0301-31020
  TOG-0101-12404
  MOU-0101-30818
  DAY-1197-40980
  ASH-1100-30244
  
  The Interim reports by location (manual queue) [LRRS] option does not      
  
  operate properly when "Selected Locations" are selected.  No output is     
  
  produced.  This problem is fixed.
  
  ASSOCIATED NOIS:
  ================
  
  WPB-0100-32328
  SLC-1299-51576
  SFC-1299-60391
  
  A problem with Interim report by provider [LRRD] option which prints 
 numerous provider name pages equal to the number of days the report is 
 queued to print when printing a hard copy is fixed.  The provider name in 
 large letters pages are no longer printed.
  
  ASSOCIATED NOIS:
  ================
  
  IOW-0897-20334
  PUG-0198-52088
 
 **********************************************************************
 
 INSTALLATION INSTRUCTIONS
 =========================
  
   The install time for this patch is less than 2 minutes. This patch
   can be installed when Laboratory users are on the system.
   Suggested time to install: Off peak hours when cumulative and interim 
   reports are not running.
  
  
 NOTE: Kernel patches must be current on the target system
       to avoid problems loading and/or installing this patch.
       
 ***** Kernel patch XU*8.0*217 must be installed prior to this patch.*****
       This patch contains the physical location address fields and an
       option to edit these fields.  Each site must assign the 
       responsibility of data entry for the lab sites/institutions.
       The person(s) responsible should be assigned the Kernel 
       IMF address edit [XUMF IMF ADD EDIT] option to edit the physical address.
 
       Patch installation needs to be coordinated with the Laboratory
       Information Manager (LIM/ADPAC).
  
  
   1.  If any of the above routines are mapped, disable mapping for them.
  
   2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   3.  The patch has now been loaded into a Transport global on your
       system.  You now need to use KIDS to install the transport global.
  
   4.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   5.  Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   6.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
       If you wish to preserve a copy of the routines exported in this 
       patch prior to installation, you should use the 'Backup a Transport
       Global' option at this time.  You may also compare the routines in
       your production account to the routines in the patch by using the
       'Compare a Transport Global to Current System' option.
  
  
   8.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LR*5.2*283'.
  
       If prompted ' Want KIDS to Rebuild Menu Trees Upon Completion of 
       Install? YES//' choose 'NO'.
  
       If prompted ' Want KIDS to INHIBIT LOGONs during the install? YES// '
       choose 'NO'.
  
       If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', choose 'NO'.
  
   9. On a mapped system, rebuild your map set.
  
  10. Routine LR283 will be deleted after successful patch installation.
  
  
 

Routine Information:
====================

Routine Name:
  - LRACM2


Routine Checksum:

Routine Name:
  - LRRD


Routine Checksum:

Routine Name:
  - LRRK


Routine Checksum:

Routine Name:
  - LRRP


Routine Checksum:

Routine Name:
  - LRRP1


Routine Checksum:

Routine Name:
  - LRRP2


Routine Checksum:

Routine Name:
  - LRRS


Routine Checksum:

Routine Name:
  - LRRS12


Routine Checksum:

Routine Name:
  - LRRSP


Routine Checksum:

Routine Name:
  - LR283


Routine Checksum:

Routine Name:
  - LRVER4


Routine Checksum:

Routine Name:
  - LRVER5


Routine Checksum:

Routine Name:
  - LRVR4


Routine Checksum:

Routine Name:
  - LRVR5


Routine Checksum:

Routine Name:
  - LRMIPSZ1


Routine Checksum:

Routine Name:
  - LRMIPC


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : ANZALDUA,CAROL                 Date Entered : APR 24, 2002
Completed By: ELIJAH,VICKEY                 Date Completed: DEC 10, 2002
Released By : LECLAIR,RAY                   Date Released : DEC 12, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
