Released EAS*1*5 SEQ #4
Extracted from mail message
**KIDS**:EAS*1.0*5^

**INSTALL NAME**
EAS*1.0*5
"BLD",3449,0)
EAS*1.0*5^ENROLLMENT APPLICATION SYSTEM^0^3011128^y
"BLD",3449,4,0)
^9.64PA^408.32^6
"BLD",3449,4,408.21,0)
408.21
"BLD",3449,4,408.21,222)
y^n^f^^^^n
"BLD",3449,4,408.22,0)
408.22
"BLD",3449,4,408.22,2,0)
^9.641^408.22^1
"BLD",3449,4,408.22,2,408.22,0)
INCOME RELATION  (File-top level)
"BLD",3449,4,408.22,2,408.22,1,0)
^9.6411^.16^3
"BLD",3449,4,408.22,2,408.22,1,.14,0)
MARRIED THIS YEAR
"BLD",3449,4,408.22,2,408.22,1,.15,0)
LIVING WITH PATIENT
"BLD",3449,4,408.22,2,408.22,1,.16,0)
RESIDING IN THE COMMUNITY
"BLD",3449,4,408.22,222)
y^n^p^^^^n
"BLD",3449,4,408.31,0)
408.31
"BLD",3449,4,408.31,2,0)
^9.641^408.31^1
"BLD",3449,4,408.31,2,408.31,0)
ANNUAL MEANS TEST  (File-top level)
"BLD",3449,4,408.31,2,408.31,1,0)
^9.6411^2.07^2
"BLD",3449,4,408.31,2,408.31,1,.11,0)
AGREED TO PAY DEDUCTIBLE
"BLD",3449,4,408.31,2,408.31,1,2.07,0)
REASON FOR EXEMPTION
"BLD",3449,4,408.31,222)
y^n^p^^^^n
"BLD",3449,4,408.32,0)
408.32
"BLD",3449,4,408.32,222)
n^n^f^^n^^y^m^n
"BLD",3449,4,408.33,0)
408.33
"BLD",3449,4,408.33,222)
n^n^f^^n^^y^m^n
"BLD",3449,4,714.1,0)
714.1
"BLD",3449,4,714.1,222)
y^n^f^^n^^y^r^n
"BLD",3449,4,"APDD",408.22,408.22)

"BLD",3449,4,"APDD",408.22,408.22,.14)

"BLD",3449,4,"APDD",408.22,408.22,.15)

"BLD",3449,4,"APDD",408.22,408.22,.16)

"BLD",3449,4,"APDD",408.31,408.31)

"BLD",3449,4,"APDD",408.31,408.31,.11)

"BLD",3449,4,"APDD",408.31,408.31,2.07)

"BLD",3449,4,"B",408.21,408.21)

"BLD",3449,4,"B",408.22,408.22)

"BLD",3449,4,"B",408.31,408.31)

"BLD",3449,4,"B",408.32,408.32)

"BLD",3449,4,"B",408.33,408.33)

"BLD",3449,4,"B",714.1,714.1)

"BLD",3449,"ABPKG")
n
"BLD",3449,"KRN",0)
^9.67PA^19^17
"BLD",3449,"KRN",.4,0)
.4
"BLD",3449,"KRN",.401,0)
.401
"BLD",3449,"KRN",.402,0)
.402
"BLD",3449,"KRN",.402,"NM",0)
^9.68A^6^6
"BLD",3449,"KRN",.402,"NM",1,0)
EASEC COMPLETE LTC CO-PAY TEST    FILE #408.31^408.31^0
"BLD",3449,"KRN",.402,"NM",2,0)
EASEC ENTER/EDIT ASSETS    FILE #408.21^408.21^0
"BLD",3449,"KRN",.402,"NM",3,0)
EASEC ENTER/EDIT INCOME    FILE #408.21^408.21^0
"BLD",3449,"KRN",.402,"NM",4,0)
EASEC ENTER/EDIT EXPENSES    FILE #408.21^408.21^0
"BLD",3449,"KRN",.402,"NM",5,0)
EASEC EDIT DEPENDENTS    FILE #408.22^408.22^0
"BLD",3449,"KRN",.402,"NM",6,0)
EASEC EDIT MARITAL STATUS    FILE #408.22^408.22^0
"BLD",3449,"KRN",.402,"NM","B","EASEC COMPLETE LTC CO-PAY TEST    FILE #408.31",1)

"BLD",3449,"KRN",.402,"NM","B","EASEC EDIT DEPENDENTS    FILE #408.22",5)

"BLD",3449,"KRN",.402,"NM","B","EASEC EDIT MARITAL STATUS    FILE #408.22",6)

"BLD",3449,"KRN",.402,"NM","B","EASEC ENTER/EDIT ASSETS    FILE #408.21",2)

"BLD",3449,"KRN",.402,"NM","B","EASEC ENTER/EDIT EXPENSES    FILE #408.21",4)

"BLD",3449,"KRN",.402,"NM","B","EASEC ENTER/EDIT INCOME    FILE #408.21",3)

"BLD",3449,"KRN",.403,0)
.403
"BLD",3449,"KRN",.5,0)
.5
"BLD",3449,"KRN",.84,0)
.84
"BLD",3449,"KRN",3.6,0)
3.6
"BLD",3449,"KRN",3.8,0)
3.8
"BLD",3449,"KRN",9.2,0)
9.2
"BLD",3449,"KRN",9.8,0)
9.8
"BLD",3449,"KRN",9.8,"NM",0)
^9.68A^38^38
"BLD",3449,"KRN",9.8,"NM",1,0)
EASECA^^0^B8341150
"BLD",3449,"KRN",9.8,"NM",2,0)
EASECDEP^^0^B6426681
"BLD",3449,"KRN",9.8,"NM",3,0)
EASECDP0^^0^B8874314
"BLD",3449,"KRN",9.8,"NM",4,0)
EASECDP1^^0^B8986731
"BLD",3449,"KRN",9.8,"NM",5,0)
EASECDP2^^0^B21522203
"BLD",3449,"KRN",9.8,"NM",6,0)
EASECDP3^^0^B7484740
"BLD",3449,"KRN",9.8,"NM",7,0)
EASECDP4^^0^B13788503
"BLD",3449,"KRN",9.8,"NM",8,0)
EASECDPE^^0^B1604540
"BLD",3449,"KRN",9.8,"NM",9,0)
EASECDPH^^0^B12873324
"BLD",3449,"KRN",9.8,"NM",10,0)
EASECE^^0^B6904693
"BLD",3449,"KRN",9.8,"NM",11,0)
EASECED^^0^B10533794
"BLD",3449,"KRN",9.8,"NM",12,0)
EASECED1^^0^B25623032
"BLD",3449,"KRN",9.8,"NM",13,0)
EASECED2^^0^B3924760
"BLD",3449,"KRN",9.8,"NM",14,0)
EASECED3^^0^B11235850
"BLD",3449,"KRN",9.8,"NM",15,0)
EASEC100^^0^B53688630
"BLD",3449,"KRN",9.8,"NM",16,0)
EASEC101^^0^B19783888
"BLD",3449,"KRN",9.8,"NM",17,0)
EASEC102^^0^B32951194
"BLD",3449,"KRN",9.8,"NM",18,0)
EASEC103^^0^B20434200
"BLD",3449,"KRN",9.8,"NM",19,0)
EASEC10E^^0^B18258585
"BLD",3449,"KRN",9.8,"NM",20,0)
EASECDD^^0^B35789462
"BLD",3449,"KRN",9.8,"NM",21,0)
EASECPC^^0^B83933926
"BLD",3449,"KRN",9.8,"NM",22,0)
EASECV^^0^B10345832
"BLD",3449,"KRN",9.8,"NM",23,0)
EASECSC^^0^B3785856
"BLD",3449,"KRN",9.8,"NM",24,0)
EASECSC1^^0^B26351362
"BLD",3449,"KRN",9.8,"NM",25,0)
EASECSC2^^0^B19118222
"BLD",3449,"KRN",9.8,"NM",26,0)
EASECSC3^^0^B2145477
"BLD",3449,"KRN",9.8,"NM",27,0)
EASECSC4^^0^B8881538
"BLD",3449,"KRN",9.8,"NM",28,0)
EASECSC5^^0^B12847621
"BLD",3449,"KRN",9.8,"NM",29,0)
EASECSC6^^0^B10705759
"BLD",3449,"KRN",9.8,"NM",30,0)
EASECSCC^^0^B23155600
"BLD",3449,"KRN",9.8,"NM",31,0)
EASECSCR^^0^B13888429
"BLD",3449,"KRN",9.8,"NM",32,0)
EASECSCU^^0^B8874112
"BLD",3449,"KRN",9.8,"NM",33,0)
EASECSU3^^0^B6803286
"BLD",3449,"KRN",9.8,"NM",34,0)
EASECU^^0^B2001495
"BLD",3449,"KRN",9.8,"NM",35,0)
EASECU2^^0^B4688841
"BLD",3449,"KRN",9.8,"NM",36,0)
EASECU21^^0^B3057005
"BLD",3449,"KRN",9.8,"NM",37,0)
EASECU23^^0^B10365010
"BLD",3449,"KRN",9.8,"NM",38,0)
EASECCAL^^0^B5479512
"BLD",3449,"KRN",9.8,"NM","B","EASEC100",15)

"BLD",3449,"KRN",9.8,"NM","B","EASEC101",16)

"BLD",3449,"KRN",9.8,"NM","B","EASEC102",17)

"BLD",3449,"KRN",9.8,"NM","B","EASEC103",18)

"BLD",3449,"KRN",9.8,"NM","B","EASEC10E",19)

"BLD",3449,"KRN",9.8,"NM","B","EASECA",1)

"BLD",3449,"KRN",9.8,"NM","B","EASECCAL",38)

"BLD",3449,"KRN",9.8,"NM","B","EASECDD",20)

"BLD",3449,"KRN",9.8,"NM","B","EASECDEP",2)

"BLD",3449,"KRN",9.8,"NM","B","EASECDP0",3)

"BLD",3449,"KRN",9.8,"NM","B","EASECDP1",4)

"BLD",3449,"KRN",9.8,"NM","B","EASECDP2",5)

"BLD",3449,"KRN",9.8,"NM","B","EASECDP3",6)

"BLD",3449,"KRN",9.8,"NM","B","EASECDP4",7)

"BLD",3449,"KRN",9.8,"NM","B","EASECDPE",8)

"BLD",3449,"KRN",9.8,"NM","B","EASECDPH",9)

"BLD",3449,"KRN",9.8,"NM","B","EASECE",10)

"BLD",3449,"KRN",9.8,"NM","B","EASECED",11)

"BLD",3449,"KRN",9.8,"NM","B","EASECED1",12)

"BLD",3449,"KRN",9.8,"NM","B","EASECED2",13)

"BLD",3449,"KRN",9.8,"NM","B","EASECED3",14)

"BLD",3449,"KRN",9.8,"NM","B","EASECPC",21)

"BLD",3449,"KRN",9.8,"NM","B","EASECSC",23)

"BLD",3449,"KRN",9.8,"NM","B","EASECSC1",24)

"BLD",3449,"KRN",9.8,"NM","B","EASECSC2",25)

"BLD",3449,"KRN",9.8,"NM","B","EASECSC3",26)

"BLD",3449,"KRN",9.8,"NM","B","EASECSC4",27)

"BLD",3449,"KRN",9.8,"NM","B","EASECSC5",28)

"BLD",3449,"KRN",9.8,"NM","B","EASECSC6",29)

"BLD",3449,"KRN",9.8,"NM","B","EASECSCC",30)

"BLD",3449,"KRN",9.8,"NM","B","EASECSCR",31)

"BLD",3449,"KRN",9.8,"NM","B","EASECSCU",32)

"BLD",3449,"KRN",9.8,"NM","B","EASECSU3",33)

"BLD",3449,"KRN",9.8,"NM","B","EASECU",34)

"BLD",3449,"KRN",9.8,"NM","B","EASECU2",35)

"BLD",3449,"KRN",9.8,"NM","B","EASECU21",36)

"BLD",3449,"KRN",9.8,"NM","B","EASECU23",37)

"BLD",3449,"KRN",9.8,"NM","B","EASECV",22)

"BLD",3449,"KRN",19,0)
19
"BLD",3449,"KRN",19,"NM",0)
^9.68A^6^6
"BLD",3449,"KRN",19,"NM",1,0)
EASEC LTC COPAY MENU^^0
"BLD",3449,"KRN",19,"NM",2,0)
EASEC LTC COPAY PRINT^^0
"BLD",3449,"KRN",19,"NM",3,0)
EASEC LTC COPAY TEST ADD^^0
"BLD",3449,"KRN",19,"NM",4,0)
EASEC LTC COPAY TEST EDIT^^0
"BLD",3449,"KRN",19,"NM",5,0)
EASEC LTC COPAY TEST PRINT^^0
"BLD",3449,"KRN",19,"NM",6,0)
EASEC LTC COPAY TEST VIEW^^0
"BLD",3449,"KRN",19,"NM","B","EASEC LTC COPAY MENU",1)

"BLD",3449,"KRN",19,"NM","B","EASEC LTC COPAY PRINT",2)

"BLD",3449,"KRN",19,"NM","B","EASEC LTC COPAY TEST ADD",3)

"BLD",3449,"KRN",19,"NM","B","EASEC LTC COPAY TEST EDIT",4)

"BLD",3449,"KRN",19,"NM","B","EASEC LTC COPAY TEST PRINT",5)

"BLD",3449,"KRN",19,"NM","B","EASEC LTC COPAY TEST VIEW",6)

"BLD",3449,"KRN",19.1,0)
19.1
"BLD",3449,"KRN",101,0)
101
"BLD",3449,"KRN",101,"NM",0)
^9.68A^10^10
"BLD",3449,"KRN",101,"NM",1,0)
EASEC LTC COPAY DEPENDENT ADD^^0
"BLD",3449,"KRN",101,"NM",2,0)
EASEC LTC COPAY DEPENDENT ADDDEP^^0
"BLD",3449,"KRN",101,"NM",3,0)
EASEC LTC COPAY DEPENDENT DEMO^^0
"BLD",3449,"KRN",101,"NM",4,0)
EASEC LTC COPAY DEPENDENT EFFECTIVE^^0
"BLD",3449,"KRN",101,"NM",5,0)
EASEC LTC COPAY DEPENDENT EXPAND^^0
"BLD",3449,"KRN",101,"NM",6,0)
EASEC LTC COPAY DEPENDENT EXPAND MENU^^0
"BLD",3449,"KRN",101,"NM",7,0)
EASEC LTC COPAY DEPENDENT MARR^^0
"BLD",3449,"KRN",101,"NM",8,0)
EASEC LTC COPAY DEPENDENT MENU^^0
"BLD",3449,"KRN",101,"NM",9,0)
EASEC LTC COPAY DEPENDENT REMOVE^^0
"BLD",3449,"KRN",101,"NM",10,0)
EASEC LTC COPAY DEPENDENT SPOUSE DEMO^^0
"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT ADD",1)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT ADDDEP",2)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT DEMO",3)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT EFFECTIVE",4)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT EXPAND",5)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT EXPAND MENU",6)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT MARR",7)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT MENU",8)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT REMOVE",9)

"BLD",3449,"KRN",101,"NM","B","EASEC LTC COPAY DEPENDENT SPOUSE DEMO",10)

"BLD",3449,"KRN",409.61,0)
409.61
"BLD",3449,"KRN",409.61,"NM",0)
^9.68A^2^2
"BLD",3449,"KRN",409.61,"NM",1,0)
EASEC DEPENDENTS^^0
"BLD",3449,"KRN",409.61,"NM",2,0)
EASEC EXPAND PROFILE^^0
"BLD",3449,"KRN",409.61,"NM","B","EASEC DEPENDENTS",1)

"BLD",3449,"KRN",409.61,"NM","B","EASEC EXPAND PROFILE",2)

"BLD",3449,"KRN",771,0)
771
"BLD",3449,"KRN",870,0)
870
"BLD",3449,"KRN",8994,0)
8994
"BLD",3449,"KRN","B",.4,.4)

"BLD",3449,"KRN","B",.401,.401)

"BLD",3449,"KRN","B",.402,.402)

"BLD",3449,"KRN","B",.403,.403)

"BLD",3449,"KRN","B",.5,.5)

"BLD",3449,"KRN","B",.84,.84)

"BLD",3449,"KRN","B",3.6,3.6)

"BLD",3449,"KRN","B",3.8,3.8)

"BLD",3449,"KRN","B",9.2,9.2)

"BLD",3449,"KRN","B",9.8,9.8)

"BLD",3449,"KRN","B",19,19)

"BLD",3449,"KRN","B",19.1,19.1)

"BLD",3449,"KRN","B",101,101)

"BLD",3449,"KRN","B",409.61,409.61)

"BLD",3449,"KRN","B",771,771)

"BLD",3449,"KRN","B",870,870)

"BLD",3449,"KRN","B",8994,8994)

"BLD",3449,"QUES",0)
^9.62^^
"BLD",3449,"REQB",0)
^9.611^1^1
"BLD",3449,"REQB",1,0)
DG*5.3*397^2
"BLD",3449,"REQB","B","DG*5.3*397",1)

"DATA",408.32,1,0)
REQUIRED^R^N^^^^^^^^^^^^^^^^1
"DATA",408.32,1,"D",0)
^408.321^3^3^2980511^^^^
"DATA",408.32,1,"D",1,0)
This status is assigned by the system, typically through registration.
"DATA",408.32,1,"D",2,0)
All veterans whose primary eligibility is NSC require a means test.
"DATA",408.32,1,"D",3,0)
There are conditional exemptions as determined by legislation.
"DATA",408.32,1,"E",0)
^408.3275DA^1^1
"DATA",408.32,1,"E",1,0)
2860701^1
"DATA",408.32,2,0)
PENDING ADJUDICATION^P^D^^^^^^^^^^^^^^^^1
"DATA",408.32,2,"D",0)
^^5^5^2930203^^^^
"DATA",408.32,2,"D",1,0)
This status is indirectly assigned by the user.  If a veteran's income
"DATA",408.32,2,"D",2,0)
places him or her in a mandatory care category, but the income plus
"DATA",408.32,2,"D",3,0)
net worth exceeds the annual property threshold the case can be sent
"DATA",408.32,2,"D",4,0)
to adjudication.  The veteran is considered to be a Category C and
"DATA",408.32,2,"D",5,0)
must agree to make the co-payment until the case is adjudicated.
"DATA",408.32,2,"E",0)
^408.3275DA^1^1
"DATA",408.32,2,"E",1,0)
2860701^1
"DATA",408.32,3,0)
NO LONGER REQUIRED^N^N^^^^^^^^^^^^^^^^1
"DATA",408.32,3,"D",0)
^^4^4^2980511^^^^
"DATA",408.32,3,"D",1,0)
This status is assigned by the system, typically through registration.
"DATA",408.32,3,"D",2,0)
This status is assigned when a veteran no longer requires a means test.
"DATA",408.32,3,"D",3,0)
This may occur if the primary eligibility changes o one of the
"DATA",408.32,3,"D",4,0)
conditional exeptions is applied.
"DATA",408.32,3,"E",0)
^408.3275DA^1^1
"DATA",408.32,3,"E",1,0)
2860701^1
"DATA",408.32,4,0)
CATEGORY A^A^M^^^^^^^^^^^^^^^^1
"DATA",408.32,4,"D",0)
^408.321^6^6^2921217^^^^
"DATA",408.32,4,"D",1,0)
This status is assigned by the system or the user.  If a veteran's
"DATA",408.32,4,"D",2,0)
income is below the annual threshold for this category, the means test
"DATA",408.32,4,"D",3,0)
is assigned this status and subsequent category of care.  This is
"DATA",408.32,4,"D",4,0)
determined when the user completes the means test for a veteran.
"DATA",408.32,4,"D",5,0)
This status can also be assigned by the user when adjudicating
"DATA",408.32,4,"D",6,0)
a means test.
"DATA",408.32,4,"E",0)
^408.3275DA^1^1
"DATA",408.32,4,"E",1,0)
2860701^1
"DATA",408.32,4,"MSG")
Veteran is eligible and provision of hospital care is mandatory
"DATA",408.32,5,0)
CATEGORY B^B^M^^^^^^^^^^^^^^^^1
"DATA",408.32,5,"D",0)
^^6^6^2921217^^^
"DATA",408.32,5,"D",1,0)
This status is assigned by the system or the user.  If a veteran's
"DATA",408.32,5,"D",2,0)
income is below the annual threshold for this category, the means test
"DATA",408.32,5,"D",3,0)
is assigned this status and subsequent category of care.  This
"DATA",408.32,5,"D",4,0)
is determined when the user completes the means test for a veteran.
"DATA",408.32,5,"D",5,0)
This status can also be assigned by the user when adjudicating a
"DATA",408.32,5,"D",6,0)
means test.
"DATA",408.32,5,"E",0)
^408.3275DA^3^2
"DATA",408.32,5,"E",1,0)
2860701^1
"DATA",408.32,5,"E",3,0)
2910101^0
"DATA",408.32,5,"MSG")
Veteran is eligible on a space available basis
"DATA",408.32,6,0)
CATEGORY C^C^D^^^^^^^^^^^^^^^^1
"DATA",408.32,6,"D",0)
^^5^5^2921217^^
"DATA",408.32,6,"D",1,0)
This status is assigned by the system or the user.  If a veteran's
"DATA",408.32,6,"D",2,0)
income does not fall under any of the other thresholds, this status
"DATA",408.32,6,"D",3,0)
and subsequent category of care is assigned.  This is determined
"DATA",408.32,6,"D",4,0)
when the user completes the means test for a veteran.  This status
"DATA",408.32,6,"D",5,0)
can also be assigned by the user when adjudicating a means test.
"DATA",408.32,6,"E",0)
^408.3275DA^1^1
"DATA",408.32,6,"E",1,0)
2860701^1
"DATA",408.32,7,0)
EXEMPT^E^N^^^^^^^^^^^^^^^^2
"DATA",408.32,7,"D",0)
^408.321^3^3^3010815^^
"DATA",408.32,7,"D",1,0)
This status is determined by the billing package.  This is determined 
"DATA",408.32,7,"D",2,0)
when the user completes the co-pay test for a veteran.  This status can 
"DATA",408.32,7,"D",3,0)
also be assigned by the user when adjudicating a means test.
"DATA",408.32,7,"E",0)
^408.3275DA^1^1
"DATA",408.32,7,"E",1,0)
2921001^1
"DATA",408.32,8,0)
NON-EXEMPT^M^N^^^^^^^^^^^^^^^^2
"DATA",408.32,8,"D",0)
^^3^3^2930302^^^
"DATA",408.32,8,"D",1,0)
This status is determined by the billing package.  This is determined 
"DATA",408.32,8,"D",2,0)
when the user completes the co-pay test for a veteran.  This status can 
"DATA",408.32,8,"D",3,0)
also be assigned by the user when adjudicating a means test.
"DATA",408.32,8,"E",0)
^408.3275DA^1^1
"DATA",408.32,8,"E",1,0)
2921001^1
"DATA",408.32,9,0)
INCOMPLETE^I^N^^^^^^^^^^^^^^^^2
"DATA",408.32,9,"D",0)
^^1^1^2980511^^^^
"DATA",408.32,9,"D",1,0)
This status is assigned to the co-pays test until the test is completed.
"DATA",408.32,9,"E",0)
^408.3275DA^2^1
"DATA",408.32,9,"E",2,0)
2921029^1
"DATA",408.32,10,0)
NO LONGER APPLICABLE^L^N^^^^^^^^^^^^^^^^2
"DATA",408.32,10,"D",0)
^^3^3^2980511^^^^
"DATA",408.32,10,"D",1,0)
This status is assigned by the system, through registration.  This status
"DATA",408.32,10,"D",2,0)
is assigned when a veteran is no longer applicable to apply for a co-pay
"DATA",408.32,10,"D",3,0)
test.
"DATA",408.32,10,"E",0)
^408.3275DA^1^1
"DATA",408.32,10,"E",1,0)
2921029^1
"DATA",408.32,11,0)
PENDING ADJUDICATION^P^N^^^^^^^^^^^^^^^^2
"DATA",408.32,11,"D",0)
^^4^4^2930316^^^^
"DATA",408.32,11,"D",1,0)
This status is indirectly assigned by the user.  If a veteran's income
"DATA",408.32,11,"D",2,0)
places him or her in a mandatory care category, but the income plus
"DATA",408.32,11,"D",3,0)
net worth exceeds the annual property threshold the case can be sent
"DATA",408.32,11,"D",4,0)
to adjudication.  
"DATA",408.32,11,"E",0)
^408.3275DA^1^1
"DATA",408.32,11,"E",1,0)
2921029^0
"DATA",408.32,12,0)
EXEMPT^X^N^^^^^^^^^^^^^^^^3
"DATA",408.32,12,"D",0)
^^2^2^3010815^
"DATA",408.32,12,"D",1,0)
This status indicates that a veteran is exempt from Long Term Care
"DATA",408.32,12,"D",2,0)
co-payments.
"DATA",408.32,12,"E",0)
^408.3275DA^1^1
"DATA",408.32,12,"E",1,0)
3010815^1
"DATA",408.32,13,0)
NON-EXEMPT^T^N^^^^^^^^^^^^^^^^3
"DATA",408.32,13,"D",0)
^408.321^2^2^3010830^^
"DATA",408.32,13,"D",1,0)
This status indicates that a veteran is obligated to pay Long Term Care
"DATA",408.32,13,"D",2,0)
co-payments.
"DATA",408.32,13,"E",0)
^408.3275DA^1^1
"DATA",408.32,13,"E",1,0)
3010815^1
"DATA",408.33,1,0)
MEANS TEST
"DATA",408.33,2,0)
CO-PAY EXEMPTION TEST
"DATA",408.33,3,0)
LTC CO-PAY TEST
"DATA",714.1,1,0)
COMPENSABLE SC DISABILITY^1
"DATA",714.1,2,0)
INCOME BELOW LTC THRESHOLD^1
"DATA",714.1,3,0)
LTC FOR SC DISABILITY^1
"DATA",714.1,4,0)
LTC BEGAN PRIOR TO 11/30/1999^1
"DATA",714.1,5,0)
LTC FOR EXPOSURE TO ENVIRONMENTAL CONTAMINANTS (GULF WAR)^1
"DATA",714.1,6,0)
LTC FOR AGENT ORANGE EXPOSURE^1
"DATA",714.1,7,0)
LTC FOR RADIATION EXPOSURE^1
"DATA",714.1,8,0)
LTC FOR TREATMENT RELATED TO MST^1
"DATA",714.1,9,0)
LTC RELATED TO CANCER OF THE HEAD AND NECK^1
"DATA",714.1,10,0)
LTC FOR POST GULF WAR COMBAT EXPOSURE^0
"DATA",714.1,11,0)
LTC RELATED TO HOSPICE/PALLIATIVE CARE^1
"FIA",408.21)
INDIVIDUAL ANNUAL INCOME
"FIA",408.21,0)
^DGMT(408.21,
"FIA",408.21,0,0)
408.21ID
"FIA",408.21,0,1)
y^n^f^^^^n
"FIA",408.21,0,10)

"FIA",408.21,0,11)

"FIA",408.21,0,"RLRO")

"FIA",408.21,0,"VR")
1.0^EAS
"FIA",408.21,408.21)
0
"FIA",408.22)
INCOME RELATION
"FIA",408.22,0)
^DGMT(408.22,
"FIA",408.22,0,0)
408.22IP
"FIA",408.22,0,1)
y^n^p^^^^n
"FIA",408.22,0,10)

"FIA",408.22,0,11)

"FIA",408.22,0,"RLRO")

"FIA",408.22,0,"VR")
1.0^EAS
"FIA",408.22,408.22)
1
"FIA",408.22,408.22,.14)

"FIA",408.22,408.22,.15)

"FIA",408.22,408.22,.16)

"FIA",408.31)
ANNUAL MEANS TEST
"FIA",408.31,0)
^DGMT(408.31,
"FIA",408.31,0,0)
408.31ID
"FIA",408.31,0,1)
y^n^p^^^^n
"FIA",408.31,0,10)

"FIA",408.31,0,11)

"FIA",408.31,0,"RLRO")

"FIA",408.31,0,"VR")
1.0^EAS
"FIA",408.31,408.31)
1
"FIA",408.31,408.31,.11)

"FIA",408.31,408.31,2.07)

"FIA",408.32)
MEANS TEST STATUS
"FIA",408.32,0)
^DG(408.32,
"FIA",408.32,0,0)
408.32I
"FIA",408.32,0,1)
n^n^f^^n^^y^m^n
"FIA",408.32,0,10)

"FIA",408.32,0,11)

"FIA",408.32,0,"RLRO")

"FIA",408.32,0,"VR")
1.0^EAS
"FIA",408.32,408.32)
0
"FIA",408.32,408.321)
0
"FIA",408.32,408.3275)
0
"FIA",408.33)
TYPE OF TEST
"FIA",408.33,0)
^DG(408.33,
"FIA",408.33,0,0)
408.33
"FIA",408.33,0,1)
n^n^f^^n^^y^m^n
"FIA",408.33,0,10)

"FIA",408.33,0,11)

"FIA",408.33,0,"RLRO")

"FIA",408.33,0,"VR")
1.0^EAS
"FIA",408.33,408.33)
0
"FIA",714.1)
LTC CO-PAY EXEMPTION
"FIA",714.1,0)
^EAS(714.1,
"FIA",714.1,0,0)
714.1
"FIA",714.1,0,1)
y^n^f^^n^^y^r^n
"FIA",714.1,0,10)

"FIA",714.1,0,11)

"FIA",714.1,0,"RLRO")

"FIA",714.1,0,"VR")
1.0^EAS
"FIA",714.1,714.1)
0
"KRN",.402,2609,-1)
0^2
"KRN",.402,2609,0)
EASEC ENTER/EDIT ASSETS^3010919.1608^@^408.21^^@^3011024
"KRN",.402,2609,"DIAB",2,0,408.21,1)
2.01;"CASH"
"KRN",.402,2609,"DIAB",5,0,408.21,1)
2.02;"STOCKS, BONDS, MUTUAL FUNDS, SEP'S"
"KRN",.402,2609,"DIAB",8,0,408.21,0)
2.07;"OTHER RESIDENCES/LAND/FARM OR RANCH"
"KRN",.402,2609,"DR",1,408.21)
K DGFIN;I '$D(DGDR) W !,*7,"Variable DGDR must be defined!" S Y="@999";S:DGDR'["101" Y="@102";@101;2.06;@102;S:DGDR'["102" Y="@103";2.07OTHER RESIDENCES/LAND/FARM OR RANCH~;@103;S:DGDR'["103" Y="@104";2.08;@104;
"KRN",.402,2609,"DR",1,408.21,1)
S:DGDR'["104" Y="@105";2.01CASH~;@105;S:DGDR'["105" Y="@106";2.02STOCKS, BONDS, MUTUAL FUNDS, SEP'S~;@106;S:DGDR'["106" Y="@998";2.09;@998;S DGFIN="";@999;
"KRN",.402,2610,-1)
0^4
"KRN",.402,2610,0)
EASEC ENTER/EDIT EXPENSES^3010809.1529^@^408.21^^@^3011024
"KRN",.402,2610,"DIAB",5,0,408.21,0)
1.03;"EDUCATION"
"KRN",.402,2610,"DIAB",8,0,408.21,0)
1.02;"FUNERAL AND BURIAL"
"KRN",.402,2610,"DIAB",10,0,408.21,1)
1.01;"NON-REIMBURSED MEDICAL EXPENSES"
"KRN",.402,2610,"DR",1,408.21)
K DGFIN;I '$D(DGDR) W !,*7,"Variable DGDR must be defined!" S Y="@999";S:DGDR'["101" Y="@102";@101;1.03EDUCATION~;@102;S:DGDR'["102" Y="@103";1.02FUNERAL AND BURIAL~;@103;S:DGDR'["103" Y="@104";1.04;@104;S:DGDR'["104" Y="@105";
"KRN",.402,2610,"DR",1,408.21,1)
1.05;@105;S:DGDR'["105" Y="@106";1.06;@106;S:DGDR'["106" Y="@107";1.07;@107;S:DGDR'["107" Y="@108";1.01NON-REIMBURSED MEDICAL EXPENSES~;@108;S:DGDR'["108" Y="@109";1.08;@109;S:DGDR'["109" Y="@110";1.09;@110;S:DGDR'["110" Y="@111";
"KRN",.402,2610,"DR",1,408.21,2)
1.1;@111;S:DGDR'["111" Y="@998";1.11;@998;S DGFIN="";@999;
"KRN",.402,2611,-1)
0^3
"KRN",.402,2611,0)
EASEC ENTER/EDIT INCOME^3010919.1611^@^408.21^^@^3011024
"KRN",.402,2611,"DIAB",1,0,408.21,2)
.19;"SPOUSE VA DISABILITY/COMPENSATION"
"KRN",.402,2611,"DIAB",2,0,408.21,1)
.15;"INTEREST/DIVIDENDS"
"KRN",.402,2611,"DIAB",5,0,408.21,0)
.14;"CURRENT INCOME"
"KRN",.402,2611,"DIAB",5,0,408.21,3)
.17;"OTHER INCOME"
"KRN",.402,2611,"DIAB",7,0,408.21,2)
.16;"OTHER COMPENSATION (WORKERS COMP/BLACK LUNG)"
"KRN",.402,2611,"DIAB",8,0,408.21,0)
.08;"SOCIAL SECURITY RETIREMENT/DISABILITY"
"KRN",.402,2611,"DIAB",8,0,408.21,1)
.09;"CIVIL SERVICE RETIREMENT"
"KRN",.402,2611,"DR",1,408.21)
K DGFIN;I '$D(DGDR)!('$D(DGPRTY)) W !,*7,"Variable DGDR and DGPRTY must be defined!" S Y="@999";S:DGDR'["101" Y="@102";@101;.14CURRENT INCOME~;@102;S:DGDR'["102" Y="@103";.08SOCIAL SECURITY RETIREMENT/DISABILITY~;@103;
"KRN",.402,2611,"DR",1,408.21,1)
S:DGDR'["103" Y="@104";.15INTEREST/DIVIDENDS~;@104;S:DGDR'["104" Y="@105";.06;@105;S:DGDR'["105" Y="@106";.09CIVIL SERVICE RETIREMENT~;@106;S:DGDR'["106" Y="@107";.1;@107;S:DGDR'["107" Y="@108";.07;@108;S:DGDR'["108" Y="@109";
"KRN",.402,2611,"DR",1,408.21,2)
.19SPOUSE VA DISABILITY/COMPENSATION~;@109;S:DGDR'["109" Y="@110";.12;@110;S:DGDR'["110" Y="@111";.16OTHER COMPENSATION (WORKERS COMP/BLACK LUNG)~;@111;S:DGDR'["111" Y="@112";.11;@112;S:DGDR'["112" Y="@113";.13;@113;
"KRN",.402,2611,"DR",1,408.21,3)
S:DGDR'["113" Y="@114";.2;@114;S:DGDR'["114" Y="@998";.17OTHER INCOME~;@998;S DGFIN="";@999;
"KRN",.402,2612,-1)
0^1
"KRN",.402,2612,0)
EASEC COMPLETE LTC CO-PAY TEST^3010906.1351^@^408.31^^@^3011024
"KRN",.402,2612,"DIAB",1,0,408.31,3)
50;"COMMENTS"
"KRN",.402,2612,"DIAB",9,0,408.31,2)
.07;REQ
"KRN",.402,2612,"DR",1,408.31)
K DGFIN;I '$D(DGMTS)!('$D(DGINT))!('$D(DGDET))!('$D(DGNWT))!('$D(DGND)) W !,*7,"Variables DGMTS, DGINT, DGDET, DGNWT, and DGND must be defined!" S Y="@999";S:'$P(^DGMT(408.31,DA,0),U,14)&('$D(DGREF)) Y="@20";
"KRN",.402,2612,"DR",1,408.31,1)
.14///^S X=$S($D(DGREF):1,1:"@");@20;.03////^S X=DGMTS;2.07////^S X=$S(DGMTS=12:$G(DGRE),1:"@");.04////^S X=$S('$D(DGREF):DGINT,1:"@");.15////^S X=$S('$D(DGREF):DGDET,1:"@");.05////^S X=$S('$D(DGREF):DGNWT,1:"@");.18////^S X=DGND;
"KRN",.402,2612,"DR",1,408.31,2)
.06////^S X=DUZ;S:$P(^DGMT(408.31,DA,0),U,7) Y="@30";.07///^S X=$S(DGMTDT=DT:"NOW",1:DGMTDT);2.05////^S X=$$GETSITE^DGMTU4(.DUZ);@30;2.02///^S X="NOW";.11////^S X=$S($D(DGAGR):DGAGR,1:"@");S:DGMTDT'<DT Y="@998";.07R~;@998;
"KRN",.402,2612,"DR",1,408.31,3)
50COMMENTS~;S DGFIN="";@999;
"KRN",.402,2613,-1)
0^6
"KRN",.402,2613,0)
EASEC EDIT MARITAL STATUS^3010820.1633^@^408.22^^@^3011024
"KRN",.402,2613,"DIAB",2,0,408.22,1)
.16;REQ;"IS YOUR SPOUSE RESIDING IN THE COMMUNITY"
"KRN",.402,2613,"DIAB",4,0,408.22,1)
.15;REQ;"ARE YOU LIVING WITH YOUR SPOUSE"
"KRN",.402,2613,"DIAB",5,0,408.22,0)
.14//^S X=$S("^2^5^"[(U_$S($D(^DPT(DFN,0)):$P(^(0),U,5),1:"")_U)!($D(DGREL("S"))):"YES",1:"NO");REQ;T
"KRN",.402,2613,"DIAB",8,0,408.22,1)
.08//^S X=$S($D(DGREL("C")):"YES",1:"");REQ;T
"KRN",.402,2613,"DR",1,408.22)
K DGFIN;I '$D(DFN)!('$D(DGDR)) W !,*7,"Variables DFN and DGDR must be defined!" S Y="@999";S:DGDR'["101" Y="@102";@101;.14T~R~//^S X=$S("^2^5^"[(U_$S($D(^DPT(DFN,0)):$P(^(0),U,5),1:"")_U)!($D(DGREL("S"))):"YES",1:"NO");
"KRN",.402,2613,"DR",1,408.22,1)
S:'X Y="@102";.16IS YOUR SPOUSE RESIDING IN THE COMMUNITY~R~;S:'X Y="@102";.15ARE YOU LIVING WITH YOUR SPOUSE~R~;S:X Y="@102";@102;S:DGDR'["102" Y="@998";.08T~R~//^S X=$S($D(DGREL("C")):"YES",1:"");@998;S DGFIN="";@999;
"KRN",.402,2614,-1)
0^5
"KRN",.402,2614,0)
EASEC EDIT DEPENDENTS^3010821.1359^@^408.22^^@^3011011
"KRN",.402,2614,"DIAB",2,0,408.22,0)
.16;"IS THE CHILD LIVING IN THE COMMUNITY"
"KRN",.402,2614,"DIAB",4,0,408.22,0)
.15;"IS THE CHILD LIVING WITH YOU"
"KRN",.402,2614,"DR",1,408.22)
K DGFIN;.16IS THE CHILD LIVING IN THE COMMUNITY~;S:'X Y="@998";.15IS THE CHILD LIVING WITH YOU~;@998;S DGFIN="";
"KRN",19,11065,-1)
0^3
"KRN",19,11065,0)
EASEC LTC COPAY TEST ADD^Add a New LTC Co-payment Test^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM^^1^1
"KRN",19,11065,1,0)
^^4^4^3010918^
"KRN",19,11065,1,1,0)
This option will add a new Long Term Care Co-payment Test for a patient.
"KRN",19,11065,1,2,0)
The information entered will be from the 10-10EC Application for Extended
"KRN",19,11065,1,3,0)
Care.  If all the required information is entered, the test can be
"KRN",19,11065,1,4,0)
completed and the 10-10EC form can be printed.
"KRN",19,11065,15)
K DGMTYPT
"KRN",19,11065,20)
S DGMTYPT=3 D EN^EASECA
"KRN",19,11065,"U")
ADD A NEW LTC CO-PAYMENT TEST
"KRN",19,11066,-1)
0^4
"KRN",19,11066,0)
EASEC LTC COPAY TEST EDIT^Edit an Existing LTC Co-payment Test^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM^y^1^1
"KRN",19,11066,1,0)
^^3^3^3010918^
"KRN",19,11066,1,1,0)
This option will enable the user to make changes to data in an existing
"KRN",19,11066,1,2,0)
Long Term Care Co-payment Test.  If all the required information is
"KRN",19,11066,1,3,0)
entered, the test can be completed and the 10-10EC form can be printed.
"KRN",19,11066,15)
K DGMTYPT
"KRN",19,11066,20)
S DGMTYPT=3 D EN^EASECE
"KRN",19,11066,"U")
EDIT AN EXISTING LTC CO-PAYMEN
"KRN",19,11067,-1)
0^6
"KRN",19,11067,0)
EASEC LTC COPAY TEST VIEW^View a LTC Co-payment Test^^A^^^^^^^^^y^1^1
"KRN",19,11067,1,0)
^^3^3^3010816^
"KRN",19,11067,1,1,0)
This option will display all of the screens containing the information for
"KRN",19,11067,1,2,0)
a selected Long Term Care Co-payment Test.  This option does not allow
"KRN",19,11067,1,3,0)
editing.
"KRN",19,11067,15)
K DGMTYPT
"KRN",19,11067,20)
S DGMTYPT=3 D EN^EASECV
"KRN",19,11067,"U")
VIEW A LTC CO-PAYMENT TEST
"KRN",19,11068,-1)
0^2
"KRN",19,11068,0)
EASEC LTC COPAY PRINT^Calculated LTC Co-payments Print^^A^^^^^^^^^y^1^1
"KRN",19,11068,1,0)
^19.06^2^2^3010905^^
"KRN",19,11068,1,1,0)
This option will enable the user to display or print the calculated Long
"KRN",19,11068,1,2,0)
Term Care co-payments for a selected veteran.
"KRN",19,11068,15)
K DGMTYPT
"KRN",19,11068,20)
S DGMTYPT=3 D EN^EASECPC
"KRN",19,11068,"U")
CALCULATED LTC CO-PAYMENTS PRI
"KRN",19,11069,-1)
0^1
"KRN",19,11069,0)
EASEC LTC COPAY MENU^LTC Co-payments Menu^^M^^^^^^^^^y
"KRN",19,11069,1,0)
^^2^2^3010816^^
"KRN",19,11069,1,1,0)
This is the menu that will contain the options for the Long Term Care
"KRN",19,11069,1,2,0)
Co-payments application.
"KRN",19,11069,10,0)
^19.01IP^5^5
"KRN",19,11069,10,1,0)
11065^^1
"KRN",19,11069,10,1,"^")
EASEC LTC COPAY TEST ADD
"KRN",19,11069,10,2,0)
11066^^2
"KRN",19,11069,10,2,"^")
EASEC LTC COPAY TEST EDIT
"KRN",19,11069,10,3,0)
11067^^3
"KRN",19,11069,10,3,"^")
EASEC LTC COPAY TEST VIEW
"KRN",19,11069,10,4,0)
11068^^5
"KRN",19,11069,10,4,"^")
EASEC LTC COPAY PRINT
"KRN",19,11069,10,5,0)
11146^^4
"KRN",19,11069,10,5,"^")
EASEC LTC COPAY TEST PRINT
"KRN",19,11069,99)
58703,39059
"KRN",19,11069,"U")
LTC CO-PAYMENTS MENU
"KRN",19,11146,-1)
0^5
"KRN",19,11146,0)
EASEC LTC COPAY TEST PRINT^Print Application for Extended Care (1010-EC)^^R^^^^^^^^ENROLLMENT APPLICATION SYSTEM^y
"KRN",19,11146,1,0)
^19.06^2^2^3010910^^^
"KRN",19,11146,1,1,0)
This menu option will allow the selection and printing of an Extended Care
"KRN",19,11146,1,2,0)
Copay test.
"KRN",19,11146,25)
OEN^EASEC10E
"KRN",19,11146,"U")
PRINT APPLICATION FOR EXTENDED
"KRN",101,3311,-1)
0^2
"KRN",101,3311,0)
EASEC LTC COPAY DEPENDENT ADDDEP^Spouse/Dependent Add^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3311,1,0)
^^1^1^3010819^
"KRN",101,3311,1,1,0)
This will allow the user to add a new spouse or dependent.
"KRN",101,3311,20)
D ADDEP^EASECDP4
"KRN",101,3311,99)
58703,39056
"KRN",101,3312,-1)
0^8
"KRN",101,3312,0)
EASEC LTC COPAY DEPENDENT MENU^LTC Co-payment Test Dependents^^M^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3312,1,0)
^101.06^1^1^3010823^^
"KRN",101,3312,1,1,0)
This is used for the LTC Co-payment application.
"KRN",101,3312,4)
40^3
"KRN",101,3312,10,0)
^101.01PA^8^7
"KRN",101,3312,10,1,0)
3311^DA^11^
"KRN",101,3312,10,1,"^")
EASEC LTC COPAY DEPENDENT ADDDEP
"KRN",101,3312,10,2,0)
3313^MT^21^
"KRN",101,3312,10,2,"^")
EASEC LTC COPAY DEPENDENT MARR
"KRN",101,3312,10,3,0)
3316^AD^22^
"KRN",101,3312,10,3,"^")
EASEC LTC COPAY DEPENDENT ADD
"KRN",101,3312,10,4,0)
3315^DD^13^
"KRN",101,3312,10,4,"^")
EASEC LTC COPAY DEPENDENT DEMO
"KRN",101,3312,10,5,0)
3314^ES^12^
"KRN",101,3312,10,5,"^")
EASEC LTC COPAY DEPENDENT SPOUSE DEMO
"KRN",101,3312,10,6,0)
3317^RE^23^
"KRN",101,3312,10,6,"^")
EASEC LTC COPAY DEPENDENT REMOVE
"KRN",101,3312,10,8,0)
3320^XD^24^
"KRN",101,3312,10,8,"^")
EASEC LTC COPAY DEPENDENT EXPAND
"KRN",101,3312,26)
D SHOW^VALM
"KRN",101,3312,28)
Select Action:
"KRN",101,3312,99)
58703,39056
"KRN",101,3313,-1)
0^7
"KRN",101,3313,0)
EASEC LTC COPAY DEPENDENT MARR^Marital/Dependent Info^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3313,15)
S VALMBCK="R"
"KRN",101,3313,20)
D EN3^EASECDP2
"KRN",101,3313,99)
58703,39056
"KRN",101,3314,-1)
0^10
"KRN",101,3314,0)
EASEC LTC COPAY DEPENDENT SPOUSE DEMO^Edit Spouse Demographics^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3314,15)
S VALMBCK="R"
"KRN",101,3314,20)
D EN^EASECDP4
"KRN",101,3314,99)
58703,39056
"KRN",101,3315,-1)
0^3
"KRN",101,3315,0)
EASEC LTC COPAY DEPENDENT DEMO^Edit Dependent Demographics^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3315,20)
D EDITDEP^EASECDP4
"KRN",101,3315,99)
58703,39056
"KRN",101,3316,-1)
0^1
"KRN",101,3316,0)
EASEC LTC COPAY DEPENDENT ADD^Add to LTC Co-pay Test^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3316,20)
D EN1^EASECDP2
"KRN",101,3316,99)
58703,39056
"KRN",101,3317,-1)
0^9
"KRN",101,3317,0)
EASEC LTC COPAY DEPENDENT REMOVE^Remove from LTC Co-pay Test^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3317,20)
D EN2^EASECDP2
"KRN",101,3317,99)
58703,39056
"KRN",101,3318,-1)
0^4
"KRN",101,3318,0)
EASEC LTC COPAY DEPENDENT EFFECTIVE^Edit Effective Date^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3318,1,0)
^^1^1^3010823^
"KRN",101,3318,1,1,0)
This will allow the user to edit an effective date of a dependent.
"KRN",101,3318,20)
D EN^EASECDP1
"KRN",101,3318,99)
58703,39056
"KRN",101,3319,-1)
0^6
"KRN",101,3319,0)
EASEC LTC COPAY DEPENDENT EXPAND MENU^LTC Co-payment Test Dependent Expand Menu^^M^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3319,1,0)
^^2^2^3010823^
"KRN",101,3319,1,1,0)
This is the menu that contains the actions for the LTC Co-payment Test
"KRN",101,3319,1,2,0)
Dependent Expand screen.
"KRN",101,3319,10,0)
^101.01PA^1^1
"KRN",101,3319,10,1,0)
3318^EE^11^
"KRN",101,3319,10,1,1)

"KRN",101,3319,10,1,"^")
EASEC LTC COPAY DEPENDENT EFFECTIVE
"KRN",101,3319,26)
D SHOW^VALM
"KRN",101,3319,28)
Select Action:
"KRN",101,3319,99)
58703,39056
"KRN",101,3320,-1)
0^5
"KRN",101,3320,0)
EASEC LTC COPAY DEPENDENT EXPAND^Expand Dependent^^A^^^^^^^^ENROLLMENT APPLICATION SYSTEM
"KRN",101,3320,1,0)
^^2^2^3010823^
"KRN",101,3320,1,1,0)
This allows the user to select a specific dependent and view more
"KRN",101,3320,1,2,0)
information about that dependent and edit the effective dates.
"KRN",101,3320,15)
K ^TMP("DGMTEP",$J)
"KRN",101,3320,20)
D SEL^DGDEPU,RETDEP^EASECDP0,^EASECDPE
"KRN",101,3320,99)
58703,39056
"KRN",409.61,562,-1)
0^1
"KRN",409.61,562,0)
EASEC DEPENDENTS^1^^80^5^14^1^1^Dependent^EASEC LTC COPAY DEPENDENT MENU^Spouse/Dependents Module^1
"KRN",409.61,562,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,562,"ARRAY")
 ^TMP("DGDEP",$J)
"KRN",409.61,562,"COL",0)
^409.621^5^5
"KRN",409.61,562,"COL",1,0)
DEP #^2^2
"KRN",409.61,562,"COL",2,0)
NAME^9^22^Patient/Dependent
"KRN",409.61,562,"COL",3,0)
RELATION^32^20^Relationship
"KRN",409.61,562,"COL",4,0)
LTC^4^3^LTC
"KRN",409.61,562,"COL",5,0)
ACTIVE^63^6^Active
"KRN",409.61,562,"COL","B","ACTIVE",5)

"KRN",409.61,562,"COL","B","DEP #",1)

"KRN",409.61,562,"COL","B","LTC",4)

"KRN",409.61,562,"COL","B","NAME",2)

"KRN",409.61,562,"COL","B","RELATION",3)

"KRN",409.61,562,"FNL")
D ENQ^EASECDEP,CLEAR^VALM1
"KRN",409.61,562,"HDR")
D HDR^EASECDEP
"KRN",409.61,562,"HLP")
S VAR="HELPTXT" D ^EASECDPH
"KRN",409.61,562,"INIT")
D INIT^EASECDEP
"KRN",409.61,563,-1)
0^2
"KRN",409.61,563,0)
EASEC EXPAND PROFILE^1^^^5^17^1^^^EASEC LTC COPAY DEPENDENT EXPAND MENU^Expand Dependent^1
"KRN",409.61,563,"ARRAY")
 ^TMP("DGMTEP",$J)
"KRN",409.61,563,"FNL")
D EXIT^EASECDP1
"KRN",409.61,563,"HDR")
D HDR^EASECDPE
"KRN",409.61,563,"HLP")
S VAR="HLPTXT1" D ^EASECDPH
"KRN",409.61,563,"INIT")
D INIT^EASECDPE
"MBREQ")
0
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",17,409.61)
409.61;17;1;;;;;;;LMDEL^XPDIA1
"ORD",17,409.61,0)
LIST TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",551,-1)
1^1
"PKG",551,0)
ENROLLMENT APPLICATION SYSTEM^EAS^ENROLLMENT
"PKG",551,20,0)
^9.402P^^
"PKG",551,22,0)
^9.49I^1^1
"PKG",551,22,1,0)
1.0^3010315^3010523^66481
"PKG",551,22,1,"PAH",1,0)
5^3011128^123456800
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
38
"RTN","EASEC100")
0^15^B53688630
"RTN","EASEC100",1,0)
EASEC100 ;ALB/BRM - Print 1010EC LTC Enrollment form ; 10/1/01 7:14am
"RTN","EASEC100",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASEC100",3,0)
 ;
"RTN","EASEC100",4,0)
 ; This routine is called by EASEC10E to gather veteran data to be
"RTN","EASEC100",5,0)
 ; printed in the 1010EC (Long Term Care) form.
"RTN","EASEC100",6,0)
 ;
"RTN","EASEC100",7,0)
GETDATA(EASDFN,EAINFO) ;get veterans LTC data to be printed
"RTN","EASEC100",8,0)
 ;Input:
"RTN","EASEC100",9,0)
 ;   EASDFN - DFN for the Patient file (#2)
"RTN","EASEC100",10,0)
 ;Output:
"RTN","EASEC100",11,0)
 ;   ^TMP("1010EC",$J
"RTN","EASEC100",12,0)
 ;
"RTN","EASEC100",13,0)
 N EASROOT,DGINC,DGINR,DGREL,DGDEP
"RTN","EASEC100",14,0)
 S EASROOT="^TMP(""1010EC"",$J,"_EASDFN_","
"RTN","EASEC100",15,0)
 ; data for section 1
"RTN","EASEC100",16,0)
 D DATA1(EASDFN,.EAINFO,EASROOT)
"RTN","EASEC100",17,0)
 ; data for section 2
"RTN","EASEC100",18,0)
 D DATA2(EASDFN,EASROOT)
"RTN","EASEC100",19,0)
 ; data for section 3
"RTN","EASEC100",20,0)
 D DATA3(EASDFN,.EAINFO,EASROOT,.DGINC)
"RTN","EASEC100",21,0)
 ; data for section 4 and part of section 5
"RTN","EASEC100",22,0)
 D DATA4(EASDFN,EASROOT,.DGINC)
"RTN","EASEC100",23,0)
 ; data for section 5
"RTN","EASEC100",24,0)
 D DATA5(EASDFN,EASROOT,.DGINC)
"RTN","EASEC100",25,0)
 ; data for section 6
"RTN","EASEC100",26,0)
 D DATA6(EASDFN,EASROOT,.DGINC)
"RTN","EASEC100",27,0)
 ; data for section 8
"RTN","EASEC100",28,0)
 D DATA8(EASROOT,.EAINFO)
"RTN","EASEC100",29,0)
 Q
"RTN","EASEC100",30,0)
 ;
"RTN","EASEC100",31,0)
DATA1(EASDFN,EAINFO,EASROOT) ;data for section 1
"RTN","EASEC100",32,0)
 N EASINS,INSTMP,MDATA,EASROOT1,MPA,MPB,MPADT,MPBDT,MCN
"RTN","EASEC100",33,0)
 S EASROOT1=EASROOT_"1)"
"RTN","EASEC100",34,0)
 S @EASROOT1@(1)=$G(EAINFO("VET"))                     ;name
"RTN","EASEC100",35,0)
 S @EASROOT1@(2)=$G(EAINFO("SSN"))                      ;ssn
"RTN","EASEC100",36,0)
 S @EASROOT1@(3)=$$GET1^DIQ(2,EASDFN_",",".381","E")   ;medicaid
"RTN","EASEC100",37,0)
 ; **  determine medicare info
"RTN","EASEC100",38,0)
 S EASINS=0,(MPA,MPB)="NO",(MPADT,MPBDT,MCN)=""
"RTN","EASEC100",39,0)
 S MDATA=$$GETWNR^IBCNSMM1    ;
"RTN","EASEC100",40,0)
 I +MDATA D  ;
"RTN","EASEC100",41,0)
 .F  S EASINS=$O(^DPT(EASDFN,.312,EASINS)) Q:'EASINS  D
"RTN","EASEC100",42,0)
 ..S INSTMP=$G(^DPT(EASDFN,.312,EASINS,0))
"RTN","EASEC100",43,0)
 ..Q:$P(INSTMP,"^")'=+MDATA
"RTN","EASEC100",44,0)
 ..I $P(INSTMP,"^",18)=$P(MDATA,"^",3) S MPA="YES",MPADT=$$FMTE^XLFDT($P(INSTMP,"^",8)),MCN=$P(INSTMP,"^",2) Q
"RTN","EASEC100",45,0)
 ..I $P(INSTMP,"^",18)=$P(MDATA,"^",5) S MPB="YES",MPBDT=$$FMTE^XLFDT($P(INSTMP,"^",8)),MCN=$P(INSTMP,"^",2) Q
"RTN","EASEC100",46,0)
 S @EASROOT1@(4)=MPA      ;medicare part a
"RTN","EASEC100",47,0)
 S @EASROOT1@(5)=MPADT    ;medicare part a effective date
"RTN","EASEC100",48,0)
 S @EASROOT1@(6)=MPB      ;medicare part b
"RTN","EASEC100",49,0)
 S @EASROOT1@(7)=MPBDT    ;medicare part b effective date
"RTN","EASEC100",50,0)
 S @EASROOT1@(8)=MCN      ;medicare claim number
"RTN","EASEC100",51,0)
 Q
"RTN","EASEC100",52,0)
DATA2(EASDFN,EASROOT) ;data for section 2
"RTN","EASEC100",53,0)
 N EASINS,X,Z,EASROOT2,EASINS,CNT,NUM,EASIN1I,GRPIEN,INSUR
"RTN","EASEC100",54,0)
 S EASROOT2=EASROOT_"2)"
"RTN","EASEC100",55,0)
 S @EASROOT2@(1)=$$GET1^DIQ(2,EASDFN_",",".3192","E")  ;covered by ins
"RTN","EASEC100",56,0)
 F X=2:1:22 S @EASROOT2@(X)=""
"RTN","EASEC100",57,0)
 F I=3,10,17 F Z=.111:.001:.116 S @EASROOT2@(I,Z)=""
"RTN","EASEC100",58,0)
 S EASINS=0,CNT=2
"RTN","EASEC100",59,0)
 F  S EASINS=$O(^DPT(EASDFN,.312,EASINS)) Q:'EASINS!(CNT>16)  D
"RTN","EASEC100",60,0)
 .S EASIN1I=EASINS_","_EASDFN_","
"RTN","EASEC100",61,0)
 .D GETS^DIQ(2.312,EASIN1I,".18;1;16;17;","IE","INSUR")
"RTN","EASEC100",62,0)
 .S @EASROOT2@(CNT+3)=$G(INSUR(2.312,EASIN1I,17,"E"))  ;insured name
"RTN","EASEC100",63,0)
 .S @EASROOT2@(CNT+4)=$G(INSUR(2.312,EASIN1I,16,"E"))  ;relationship
"RTN","EASEC100",64,0)
 .S @EASROOT2@(CNT+5)=$G(INSUR(2.312,EASIN1I,1,"E"))  ;policy #
"RTN","EASEC100",65,0)
 .S GRPIEN=$G(INSUR(2.312,EASIN1I,.18,"I"))  ;group ien/name
"RTN","EASEC100",66,0)
 .S:GRPIEN @EASROOT2@(CNT+6)=$$GET1^DIQ(355.3,GRPIEN_",",".03","E")
"RTN","EASEC100",67,0)
 .D INSDAT(EASINS,CNT)
"RTN","EASEC100",68,0)
 .S CNT=CNT+7
"RTN","EASEC100",69,0)
 Q
"RTN","EASEC100",70,0)
INSDAT(EASINS,CNT) ;obtain insurance information from the insurance file (#36)
"RTN","EASEC100",71,0)
 Q:'EASINS
"RTN","EASEC100",72,0)
 N X,INSDAT,ERR
"RTN","EASEC100",73,0)
 D GETS^DIQ(36,EASINS_",",".01;.111:.116;.131","E","INSDAT","ERR")
"RTN","EASEC100",74,0)
 Q:$D(ERR)
"RTN","EASEC100",75,0)
 S @EASROOT2@(CNT)=$G(INSDAT(36,EASINS_",",.01,"E"))  ;insurance name
"RTN","EASEC100",76,0)
 F X=.111:.001:.116 S @EASROOT2@((CNT+1),X)=$G(INSDAT(36,EASINS_",",X,"E"))  ;insurance address
"RTN","EASEC100",77,0)
 S @EASROOT2@(CNT+2)=$G(INSDAT(36,EASINS_",",.131,"E"))  ;ins. phone
"RTN","EASEC100",78,0)
 Q
"RTN","EASEC100",79,0)
DATA3(EASDFN,EAINFO,EASROOT,DGINC) ;data for section 3
"RTN","EASEC100",80,0)
 N INFO13,DEP1,DEP,X,I,EASROOT3,SSN
"RTN","EASEC100",81,0)
 S EASROOT3=EASROOT_"3)"
"RTN","EASEC100",82,0)
 F X=1:1:11 S @EASROOT3@(X)=""
"RTN","EASEC100",83,0)
 D ALL^EASECU21(EASDFN,"SCV",EAINFO("MTDT"))
"RTN","EASEC100",84,0)
 D:$D(DGREL("S"))
"RTN","EASEC100",85,0)
 .S INFO13=$G(^DGPR(408.13,+$P(DGREL("S"),"^",2),0))
"RTN","EASEC100",86,0)
 .S @EASROOT3@(1)=$P(INFO13,"^")  ;Spouse Name
"RTN","EASEC100",87,0)
 .S SSN=$P(INFO13,"^",9)          ;Spouse SSN
"RTN","EASEC100",88,0)
 .S @EASROOT3@(3)=$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,9)
"RTN","EASEC100",89,0)
 .S:$G(DGINR("V")) @EASROOT3@(2)=$$GET1^DIQ(408.22,DGINR("V"),".16","E")                               ;Spouse Residing in the Community?
"RTN","EASEC100",90,0)
 Q:'$D(DGREL("C"))
"RTN","EASEC100",91,0)
 S DEP=""
"RTN","EASEC100",92,0)
 F  S DEP=$O(DGREL("C",DEP)) Q:'DEP!(DEP>2)  D
"RTN","EASEC100",93,0)
 .Q:'$D(^DGPR(408.13,+$P(DGREL("C",DEP),"^",2),0))
"RTN","EASEC100",94,0)
 .S INFO13=$G(^DGPR(408.13,+$P(DGREL("C",DEP),"^",2),0))
"RTN","EASEC100",95,0)
 .S DEP1=$S(DEP=1:4,DEP=2:8)
"RTN","EASEC100",96,0)
 .S @EASROOT3@(DEP1)=$P(INFO13,"^")                   ;Dependent Name
"RTN","EASEC100",97,0)
 .S @EASROOT3@(DEP1+1)=$$FMTE^XLFDT($P(INFO13,"^",3))  ;Dependent DOB
"RTN","EASEC100",98,0)
 .S SSN=$P(INFO13,"^",9)                               ;Dependent SSN
"RTN","EASEC100",99,0)
 .S @EASROOT3@(DEP1+2)=$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,9)
"RTN","EASEC100",100,0)
 .S:$G(DGINR("C",DEP)) @EASROOT3@(DEP1+3)=$$GET1^DIQ(408.22,DGINR("C",DEP),".16","E")                  ;Dependent Living in Community?
"RTN","EASEC100",101,0)
 Q
"RTN","EASEC100",102,0)
DATA4(EASDFN,EASROOT,DGINC) ;data for section 4 and the first part of 5
"RTN","EASEC100",103,0)
 N EASROOT4,EASROOT5,ASSET
"RTN","EASEC100",104,0)
 S EASROOT4=EASROOT_"4)"
"RTN","EASEC100",105,0)
 S EASROOT5=EASROOT_"5)"
"RTN","EASEC100",106,0)
 D GETS^DIQ(408.21,DGINC("V"),"2.01;2.02;2.06:2.09","I","ASSET")
"RTN","EASEC100",107,0)
 S @EASROOT4@(1)=+$G(ASSET(408.21,DGINC("V")_",",2.06,"I")) ;Residence
"RTN","EASEC100",108,0)
 S @EASROOT4@(2)=+$G(ASSET(408.21,DGINC("V")_",",2.07,"I")) ;Land/Farm
"RTN","EASEC100",109,0)
 S @EASROOT4@(3)=+$G(ASSET(408.21,DGINC("V")_",",2.08,"I")) ;Vehicles
"RTN","EASEC100",110,0)
 S @EASROOT4@(4)=@EASROOT4@(1)+@EASROOT4@(2)+@EASROOT4@(3) ;Sub-total
"RTN","EASEC100",111,0)
 S @EASROOT5@(1)=+$G(ASSET(408.21,DGINC("V")_",",2.01,"I")) ;Cash
"RTN","EASEC100",112,0)
 S @EASROOT5@(2)=+$G(ASSET(408.21,DGINC("V")_",",2.02,"I")) ;Stocks
"RTN","EASEC100",113,0)
 S @EASROOT5@(3)=+$G(ASSET(408.21,DGINC("V")_",",2.09,"I")) ;Other
"RTN","EASEC100",114,0)
 S @EASROOT5@(4)=@EASROOT5@(1)+@EASROOT5@(2)+@EASROOT5@(3) ;Sub-total
"RTN","EASEC100",115,0)
 S @EASROOT5@(5)=@EASROOT4@(4)+@EASROOT5@(4)  ;Total Assets
"RTN","EASEC100",116,0)
 Q
"RTN","EASEC100",117,0)
DATA5(EASDFN,EASROOT,DGINC) ;data for section 5 (the rest of it)
"RTN","EASEC100",118,0)
 N EASROOT5,ASSETV,ASSETS,NUM,X,ASSETRT,IENS,I
"RTN","EASEC100",119,0)
 S EASROOT5=EASROOT_"5)"
"RTN","EASEC100",120,0)
 F I=6:1:33 S @EASROOT5@(I)=""
"RTN","EASEC100",121,0)
 F X="V","S" Q:'$D(DGINC(X))  D  ;
"RTN","EASEC100",122,0)
 .D GETS^DIQ(408.21,+DGINC(X),".06:.2","I","ASSET"_X)
"RTN","EASEC100",123,0)
 .S NUM=$S(X="V":6,X="S":7)
"RTN","EASEC100",124,0)
 .S IENS=+DGINC(X)_","
"RTN","EASEC100",125,0)
 .S ASSETRT="ASSET"_X_"(408.21,"_""""_IENS_""""_","
"RTN","EASEC100",126,0)
 .S @EASROOT5@(NUM)=+$G(@(ASSETRT_".14,""I"")"))    ;Gross Income
"RTN","EASEC100",127,0)
 .S @EASROOT5@(NUM+2)=+$G(@(ASSETRT_".08,""I"")"))  ;Soc. Security
"RTN","EASEC100",128,0)
 .S @EASROOT5@(NUM+4)=+$G(@(ASSETRT_".15,""I"")"))  ;Interest/Div
"RTN","EASEC100",129,0)
 .S @EASROOT5@(NUM+6)=+$G(@(ASSETRT_".06,""I"")"))  ;Retire/Pension
"RTN","EASEC100",130,0)
 .S @EASROOT5@(NUM+8)=+$G(@(ASSETRT_".09,""I"")"))  ;Civil Service
"RTN","EASEC100",131,0)
 .S @EASROOT5@(NUM+10)=+$G(@(ASSETRT_".1,""I"")"))  ;US Railroad
"RTN","EASEC100",132,0)
 .S @EASROOT5@(NUM+12)=+$G(@(ASSETRT_".07,""I"")"))  ;VA Pension
"RTN","EASEC100",133,0)
 .S @EASROOT5@(NUM+14)=+$G(@(ASSETRT_".19,""I"")"))  ;Spouse Disab
"RTN","EASEC100",134,0)
 .S @EASROOT5@(NUM+16)=+$G(@(ASSETRT_".12,""I"")"))  ;Unemployment
"RTN","EASEC100",135,0)
 .S @EASROOT5@(NUM+18)=+$G(@(ASSETRT_".16,""I"")"))  ;Workers Comp,etc
"RTN","EASEC100",136,0)
 .S @EASROOT5@(NUM+20)=+$G(@(ASSETRT_".11,""I"")"))  ;Military Retire
"RTN","EASEC100",137,0)
 .S @EASROOT5@(NUM+22)=+$G(@(ASSETRT_".13,""I"")"))  ;Other Retire
"RTN","EASEC100",138,0)
 .S @EASROOT5@(NUM+24)=+$G(@(ASSETRT_".2,""I"")"))  ;Court Mandated
"RTN","EASEC100",139,0)
 .S @EASROOT5@(NUM+26)=+$G(@(ASSETRT_".17,""I"")"))  ;Other Income
"RTN","EASEC100",140,0)
 Q
"RTN","EASEC100",141,0)
DATA6(EASDFN,EASROOT,DGINC) ;
"RTN","EASEC100",142,0)
 N IENS,EXPRT,EASROOT6,EXPENSE
"RTN","EASEC100",143,0)
 S EASROOT6=EASROOT_"6)"
"RTN","EASEC100",144,0)
 D GETS^DIQ(408.21,+DGINC("V"),"1.01:1.11","I","EXPENSE")
"RTN","EASEC100",145,0)
 S IENS=+DGINC("V")_","
"RTN","EASEC100",146,0)
 S EXPRT="EXPENSE(408.21,"_""""_IENS_""""_","
"RTN","EASEC100",147,0)
 S @EASROOT6@(1)=+$G(@(EXPRT_"1.03,""I"")"))  ;Education
"RTN","EASEC100",148,0)
 S @EASROOT6@(2)=+$G(@(EXPRT_"1.02,""I"")"))  ;Funeral and Burial
"RTN","EASEC100",149,0)
 S @EASROOT6@(3)=+$G(@(EXPRT_"1.04,""I"")"))  ;Rent/Mortgage
"RTN","EASEC100",150,0)
 S @EASROOT6@(4)=+$G(@(EXPRT_"1.05,""I"")"))  ;Utilities
"RTN","EASEC100",151,0)
 S @EASROOT6@(5)=+$G(@(EXPRT_"1.06,""I"")"))  ;Car Payment
"RTN","EASEC100",152,0)
 S @EASROOT6@(6)=+$G(@(EXPRT_"1.07,""I"")"))  ;Food
"RTN","EASEC100",153,0)
 S @EASROOT6@(7)=+$G(@(EXPRT_"1.01,""I"")"))  ;Medical Expenses
"RTN","EASEC100",154,0)
 S @EASROOT6@(8)=+$G(@(EXPRT_"1.08,""I"")"))  ;Court-Ordered Payments
"RTN","EASEC100",155,0)
 S @EASROOT6@(9)=+$G(@(EXPRT_"1.09,""I"")"))  ;Insurance
"RTN","EASEC100",156,0)
 S @EASROOT6@(10)=+$G(@(EXPRT_"1.1,""I"")"))  ;Taxes (Income, etc)
"RTN","EASEC100",157,0)
 S @EASROOT6@(11)=+$G(@(EXPRT_"1.11,""I"")"))  ;Taxes (Property, etc)
"RTN","EASEC100",158,0)
 Q
"RTN","EASEC100",159,0)
DATA8(EASROOT,EAINFO) ;get the word processing field for section 8
"RTN","EASEC100",160,0)
 N LINE,X,EASROOT8,IENS,WP
"RTN","EASEC100",161,0)
 S EASROOT8=EASROOT_"8)",LINE=0
"RTN","EASEC100",162,0)
 Q:'EAINFO("DGMTIEN")
"RTN","EASEC100",163,0)
 S IENS=EAINFO("DGMTIEN")_","
"RTN","EASEC100",164,0)
 S X=$$GET1^DIQ(408.31,IENS,50,"","WP")
"RTN","EASEC100",165,0)
 F  S LINE=$O(WP(LINE)) Q:'LINE  S @EASROOT8@(LINE)=$G(WP(LINE))
"RTN","EASEC100",166,0)
 Q
"RTN","EASEC101")
0^16^B19783888
"RTN","EASEC101",1,0)
EASEC101 ;ALB/BRM - Print 1010EC LTC Enrollment Form ; 9/6/01 9:46am
"RTN","EASEC101",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASEC101",3,0)
 ;
"RTN","EASEC101",4,0)
 ; Called from ^EASEC10E to print page 1 of the 1010EC
"RTN","EASEC101",5,0)
 ;
"RTN","EASEC101",6,0)
PAGE1(EALNE,EAINFO,EASDFN) ;Print page 1
"RTN","EASEC101",7,0)
 N X,EASROOT
"RTN","EASEC101",8,0)
 S EASROOT="^TMP(""1010EC"",$J,"_EASDFN_","
"RTN","EASEC101",9,0)
 D HDRMAIN^EASEC10E(.EALNE)
"RTN","EASEC101",10,0)
 D SEC1
"RTN","EASEC101",11,0)
 D SEC2
"RTN","EASEC101",12,0)
 D SEC3
"RTN","EASEC101",13,0)
 D DISCLAIM
"RTN","EASEC101",14,0)
 D FT^EASEC10E(.EALNE,.EAINFO)
"RTN","EASEC101",15,0)
 Q
"RTN","EASEC101",16,0)
SEC1 ;print section 1 - General Information
"RTN","EASEC101",17,0)
 N EAS1
"RTN","EASEC101",18,0)
 S EAS1=EASROOT_"1)"
"RTN","EASEC101",19,0)
 W !,"1. Veteran's Name",?100,"|2. Social Security Number"
"RTN","EASEC101",20,0)
 W !?3,@EAS1@(1),?100,"|",?104,@EAS1@(2),?131,$C(13) X EAINFO("L")
"RTN","EASEC101",21,0)
 ;
"RTN","EASEC101",22,0)
 W !?26,"Answer Yes or No where applicable (Otherwise provide the requested information)",?131,$C(13) X EAINFO("L")
"RTN","EASEC101",23,0)
 ;
"RTN","EASEC101",24,0)
 W !,"3. Are You Eligible for Medicaid?"
"RTN","EASEC101",25,0)
 W ?36,"|3A. Are You Enrolled in Medicare Part A (Hospital Insurance)"
"RTN","EASEC101",26,0)
 W ?100,"|3B. Effective Date (If ""Yes"")"
"RTN","EASEC101",27,0)
 W !?3,@EAS1@(3),?36,"|",?41,@EAS1@(4),?100,"|",?105,@EAS1@(5),?131,$C(13) X EAINFO("L")
"RTN","EASEC101",28,0)
 ;
"RTN","EASEC101",29,0)
 W !,"4. Are You Enrolled in Medicare Part B (Medical Insurance)"
"RTN","EASEC101",30,0)
 W ?63,"|4A. Effective Date (If ""Yes"")"
"RTN","EASEC101",31,0)
 W ?97,"|4B. Medicare Claim Number"
"RTN","EASEC101",32,0)
 W !?3,@EAS1@(6),?63,"|",?68,@EAS1@(7),?97,"|",?102,@EAS1@(8),?131,$C(13) X EAINFO("L")
"RTN","EASEC101",33,0)
 Q
"RTN","EASEC101",34,0)
SEC2 ;print section 2 - Insurance Information
"RTN","EASEC101",35,0)
 N EAS2,X
"RTN","EASEC101",36,0)
 S EAS2=EASROOT_"2)"
"RTN","EASEC101",37,0)
 ;
"RTN","EASEC101",38,0)
 W !?48,"SECTION II - INSURANCE INFORMATION",!,EALNE("D")
"RTN","EASEC101",39,0)
 ;
"RTN","EASEC101",40,0)
 W !,"5. Are You Covered By Health Insurance (including coverage through a spouse)? (If ""Yes"", provide the following information for"
"RTN","EASEC101",41,0)
 W !?3,"all insurance company(s) providing coverage to you.)"
"RTN","EASEC101",42,0)
 W !?3,@EAS2@(1),?131,$C(13) X EAINFO("L")
"RTN","EASEC101",43,0)
 ;
"RTN","EASEC101",44,0)
 F X=2,9,16 D  ;loop through insurance companies
"RTN","EASEC101",45,0)
 .W !,$S(X=2:6,X=9:7,X=16:8)_". Name of Insurance Company"
"RTN","EASEC101",46,0)
 .W ?40,"|"_$S(X=2:6,X=9:7,X=16:8)_"A. Address of Insurance Company"
"RTN","EASEC101",47,0)
 .W ?90,"|"_$S(X=2:6,X=9:7,X=16:8)_"B. Phone Number of Insurance Company"
"RTN","EASEC101",48,0)
 .W !?3,@EAS2@(X),?40,"|",?45,@EAS2@(X+1,.111),?90,"|",?95,@EAS2@(X+2),?131,$C(13)
"RTN","EASEC101",49,0)
 .W:$G(@EAS2@(X+1,.112))'="" !?40,"|",?45,@EAS2@(X+1,.112),?90,"|",?131,$C(13)
"RTN","EASEC101",50,0)
 .W:$G(@EAS2@(X+1,.113))'="" !?40,"|",?45,@EAS2@(X+1,.113),?90,"|",?131,$C(13)
"RTN","EASEC101",51,0)
 .W !?40,"|",?45,@EAS2@(X+1,.114) W:@EAS2@(X+1,.114)]"" ","
"RTN","EASEC101",52,0)
 .W @EAS2@(X+1,.115)," ",@EAS2@(X+1,.116),?90,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC101",53,0)
 .;
"RTN","EASEC101",54,0)
 .W !,$S(X=2:6,X=9:7,X=16:8)_"C. Name of Policy Holder"
"RTN","EASEC101",55,0)
 .W ?40,"|"_$S(X=2:6,X=9:7,X=16:8)_"D. Relationship of Policy Holder"
"RTN","EASEC101",56,0)
 .W ?75,"|"_$S(X=2:6,X=9:7,X=16:8)_"E. Policy Number"
"RTN","EASEC101",57,0)
 .W ?100,"|"_$S(X=2:6,X=9:7,X=16:8)_"F. Group Name and/or Number"
"RTN","EASEC101",58,0)
 .W !?4,@EAS2@(X+3),?40,"|",?45,@EAS2@(X+4),?75,"|"
"RTN","EASEC101",59,0)
 .W ?80,@EAS2@(X+5),?100,"|",?105,@EAS2@(X+6),$C(13) X EAINFO("L")
"RTN","EASEC101",60,0)
 Q
"RTN","EASEC101",61,0)
SEC3 ;print section 3 - Spouse/Dependent Information
"RTN","EASEC101",62,0)
 N X,EAS3
"RTN","EASEC101",63,0)
 S EAS3=EASROOT_"3)"
"RTN","EASEC101",64,0)
 W !?44,"SECTION III - SPOUSE/DEPENDENT INFORMATION",!,EALNE("D")
"RTN","EASEC101",65,0)
 ;
"RTN","EASEC101",66,0)
 W !,"9. Spouse's Name (Last,First,MI)"
"RTN","EASEC101",67,0)
 W !?3,@EAS3@(1),?131,$C(13) X EAINFO("L")
"RTN","EASEC101",68,0)
 ;
"RTN","EASEC101",69,0)
 W !,"9A. Spouse Residing in the Community?"
"RTN","EASEC101",70,0)
 W ?90,"|9B. Spouse's Social Security Number"
"RTN","EASEC101",71,0)
 W !?4,@EAS3@(2),?90,"|",?95,@EAS3@(3),?131,$C(13) X EAINFO("L")
"RTN","EASEC101",72,0)
 ;
"RTN","EASEC101",73,0)
 F X=4,8 D  ;loop through dependents
"RTN","EASEC101",74,0)
 .W !,$S(X=4:10,X=8:11)_". Dependent's Name (Last, First, MI)"
"RTN","EASEC101",75,0)
 .W ?55,"|",$S(X=4:10,X=8:11)_"A. Dependent's Date of Birth"
"RTN","EASEC101",76,0)
 .W ?90,"|",$S(X=4:10,X=8:11)_"B. Dependent's Social Security Number"
"RTN","EASEC101",77,0)
 .W !?4,@EAS3@(X),?55,"|",?61,@EAS3@(X+1),?90,"|",?96,@EAS3@(X+2),?131,$C(13) X EAINFO("L")
"RTN","EASEC101",78,0)
 .;
"RTN","EASEC101",79,0)
 .W !,$S(X=4:10,X=8:11)_"C. Dependent Residing in the Community?"
"RTN","EASEC101",80,0)
 .W !?5,@EAS3@(X+3),?131,$C(13) X EAINFO("L")
"RTN","EASEC101",81,0)
 Q
"RTN","EASEC101",82,0)
DISCLAIM ;
"RTN","EASEC101",83,0)
 W !,"We need to collect information regarding income, assets, and "
"RTN","EASEC101",84,0)
 W "expenses for you and your spouse.  If you do not wish to provide this"
"RTN","EASEC101",85,0)
 W !,"information you must sign agreeing to make copayments and will "
"RTN","EASEC101",86,0)
 W "be charged the maximum copayment amount for all services.  See the"
"RTN","EASEC101",87,0)
 W !,"top of page 2, read, sign, and date."
"RTN","EASEC101",88,0)
 Q
"RTN","EASEC102")
0^17^B32951194
"RTN","EASEC102",1,0)
EASEC102 ;ALB/BRM - Print 1010EC LTC Enrollment form ; 9/20/01 12:25pm
"RTN","EASEC102",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASEC102",3,0)
 ;
"RTN","EASEC102",4,0)
 ; Called from ^EASEC10E to print page 2 of the 1010EC
"RTN","EASEC102",5,0)
 ;
"RTN","EASEC102",6,0)
PAGE2(EALNE,EAINFO,EASDFN) ;Print page 2
"RTN","EASEC102",7,0)
 N X,EASROOT
"RTN","EASEC102",8,0)
 S EASROOT="^TMP(""1010EC"",$J,"_EASDFN_","
"RTN","EASEC102",9,0)
 D HDR^EASEC10E(.EALNE,.EAINFO)
"RTN","EASEC102",10,0)
 D SIGN
"RTN","EASEC102",11,0)
 D SEC4
"RTN","EASEC102",12,0)
 D SEC5
"RTN","EASEC102",13,0)
 D FT^EASEC10E(.EALNE,.EAINFO)
"RTN","EASEC102",14,0)
 Q
"RTN","EASEC102",15,0)
SIGN ;print disclaimer and signature block to refuse income data
"RTN","EASEC102",16,0)
 ;
"RTN","EASEC102",17,0)
 W !,"I do not wish to provide my detailed financial information.  "
"RTN","EASEC102",18,0)
 W "I understand that I will be assessed the maximum copayment amount for"
"RTN","EASEC102",19,0)
 W !,"extended care services and agree to pay the applicable VA copayment as required by law.",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",20,0)
 W !,"Signature",?100,"| Date",!?100,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",21,0)
 Q
"RTN","EASEC102",22,0)
 ;
"RTN","EASEC102",23,0)
SEC4 ; print section 4 - Fixed Assets (Veteran and Spouse)
"RTN","EASEC102",24,0)
 N EAS4
"RTN","EASEC102",25,0)
 S EAS4=EASROOT_"4)"
"RTN","EASEC102",26,0)
 W !?23,"SECTION IV - FIXED ASSETS (VETERAN AND SPOUSE)",?100,"|",?113,"VALUE",!,EALNE("D")
"RTN","EASEC102",27,0)
 ;
"RTN","EASEC102",28,0)
 W !,"1. Residence (Market value minus any outstanding mortgage or "
"RTN","EASEC102",29,0)
 W "lien - exclude if veteran",?100,"|",?105,"$",$J(@EAS4@(1),12,2)
"RTN","EASEC102",30,0)
 W !?3,"receiving only non-institutional services or spouse or "
"RTN","EASEC102",31,0)
 W "dependent residing in community).",?100,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",32,0)
 ;
"RTN","EASEC102",33,0)
 W !,"2. Other Residences/Land/Farm or Ranch (Market value minus any "
"RTN","EASEC102",34,0)
 W "outstanding mortgage or lien)",?100,"|",?105,"$",$J(@EAS4@(2),12,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",35,0)
 ;
"RTN","EASEC102",36,0)
 W !,"3. Vehicle(s)* (Exclude vehicle if veteran is receiving only "
"RTN","EASEC102",37,0)
 W "non-institutional services or spouse",?100,"|",?105,"$",$J(@EAS4@(3),12,2)
"RTN","EASEC102",38,0)
 W !?3,"or dependent residing in community). *(Value minus any "
"RTN","EASEC102",39,0)
 W "outstanding lien.)",?100,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",40,0)
 ;
"RTN","EASEC102",41,0)
 W !?62,"| SUBTOTAL (Sum of lines 1 through 3)",?100,"|",?105,"$",$J(@EAS4@(4),12,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",42,0)
 Q
"RTN","EASEC102",43,0)
SEC5 ; print section 5 - Liquid Assets (Veteran and Spouse)
"RTN","EASEC102",44,0)
 N EAS5
"RTN","EASEC102",45,0)
 S EAS5=EASROOT_"5)"
"RTN","EASEC102",46,0)
 W !?23,"SECTION V - LIQUID ASSETS (VETERAN AND SPOUSE)",?100,"|",?113,"VALUE",!,EALNE("D")
"RTN","EASEC102",47,0)
 ;
"RTN","EASEC102",48,0)
 W !,"1. Cash, e.g., interest, dividends from IRA, 401K's and other "
"RTN","EASEC102",49,0)
 W "tax deferred annuities ",?100,"|",?105,"$",$J(@EAS5@(1),12,2)
"RTN","EASEC102",50,0)
 W !?3,"(including checking, savings, money market, etc.)"
"RTN","EASEC102",51,0)
 W ?100,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",52,0)
 ;
"RTN","EASEC102",53,0)
 W !,"2. Stocks, bonds, mutual funds, SEP's, and other retirement "
"RTN","EASEC102",54,0)
 W "accounts (e.g., IRA, 401K,",?100,"|",?105,"$",$J(@EAS5@(2),12,2)
"RTN","EASEC102",55,0)
 W !?3,"annuities, self-employed person)",?100,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",56,0)
 ;
"RTN","EASEC102",57,0)
 W !,"3. Other Liquid Assets (Includes such items as stamp or coin "
"RTN","EASEC102",58,0)
 W "collections, art work, collectibles",?100,"|"
"RTN","EASEC102",59,0)
 W !?3,"minus amount owed; excludes burial plots, household furniture and other household goods,",?100,"|",?105,"$",$J(@EAS5@(3),12,2)
"RTN","EASEC102",60,0)
 W !?3,"clothing, jewlery and personal items).",?100,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",61,0)
 ;
"RTN","EASEC102",62,0)
 W !?62,"| SUBTOTAL (Sum of lines 1 through 3)",?100,"|",?105,"$",$J(@EAS5@(4),12,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",63,0)
 ;
"RTN","EASEC102",64,0)
 W !,"SUM OF ALL LINES FIXED AND LIQUID ASSETS",?62,"|"
"RTN","EASEC102",65,0)
 W ?83,"TOTAL ASSETS",?100,"|",?105,"$",$J(@EAS5@(5),12,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",66,0)
 ;
"RTN","EASEC102",67,0)
 W !?45,"CATEGORY",?97,"|",?102,"VETERAN",?113,"|",?119,"SPOUSE",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",68,0)
 ;
"RTN","EASEC102",69,0)
 W !,"Current income, e.g. gross income (including, but not limited "
"RTN","EASEC102",70,0)
 W "to, wages and income from",?97,"| $",$J(@EAS5@(6),10,2),?113,"| $",$J(@EAS5@(7),10,2)
"RTN","EASEC102",71,0)
 W !,"a business, bonuses, tips, severance pay, accrued benefits, "
"RTN","EASEC102",72,0)
 W "cash gifts)",?97,"|",?113,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",73,0)
 ;
"RTN","EASEC102",74,0)
 W !,"Social Security Retirement/Disability",?97,"| $",$J(@EAS5@(8),10,2),?113,"| $",$J(@EAS5@(9),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",75,0)
 ;
"RTN","EASEC102",76,0)
 W !,"Interest/dividends (i.e., interest income, standard dividend "
"RTN","EASEC102",77,0)
 W "income from non tax deferred",?97,"| $",$J(@EAS5@(10),10,2),?113,"| $",$J(@EAS5@(11),10,2)
"RTN","EASEC102",78,0)
 W !,"annuities)",?97,"|",?113,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC102",79,0)
 ;
"RTN","EASEC102",80,0)
 W !,"Retirement and Pension income",?97,"| $",$J(@EAS5@(12),10,2),?113,"| $",$J(@EAS5@(13),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",81,0)
 ;
"RTN","EASEC102",82,0)
 W !,"Civil Service Retirement",?97,"| $",$J(@EAS5@(14),10,2),?113,"| $",$J(@EAS5@(15),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",83,0)
 ;
"RTN","EASEC102",84,0)
 W !,"US Railroad Retirement",?97,"| $",$J(@EAS5@(16),10,2),?113,"| $",$J(@EAS5@(17),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",85,0)
 ;
"RTN","EASEC102",86,0)
 W !,"VA Pension",?97,"| $",$J(@EAS5@(18),10,2),?113,"| $",$J(@EAS5@(19),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",87,0)
 ;
"RTN","EASEC102",88,0)
 W !,"Spouse VA disability/compensation",?97,"| $",$J(@EAS5@(20),10,2),?113,"| $",$J(@EAS5@(21),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",89,0)
 ;
"RTN","EASEC102",90,0)
 W !,"Unemployment Benefits/Compensation",?97,"| $",$J(@EAS5@(22),10,2),?113,"| $",$J(@EAS5@(23),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",91,0)
 ;
"RTN","EASEC102",92,0)
 W !,"Other compensation, e.g. Workers Compensation and Black Lung",?97,"| $",$J(@EAS5@(24),10,2),?113,"| $",$J(@EAS5@(25),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",93,0)
 ;
"RTN","EASEC102",94,0)
 W !,"Military Retirement",?97,"| $",$J(@EAS5@(26),10,2),?113,"| $",$J(@EAS5@(27),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",95,0)
 ;
"RTN","EASEC102",96,0)
 W !,"Other Retirement",?97,"| $",$J(@EAS5@(28),10,2),?113,"| $",$J(@EAS5@(29),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",97,0)
 ;
"RTN","EASEC102",98,0)
 W !,"Court Mandated (e.g. alimony, child support) (Veteran and Spouse)",?97,"| $",$J(@EAS5@(30),10,2),?113,"| $",$J(@EAS5@(31),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC102",99,0)
 ;
"RTN","EASEC102",100,0)
 W !,"Other Income (i.e., inheritance amounts, tort settlement "
"RTN","EASEC102",101,0)
 W "payments)",?97,"| $",$J(@EAS5@(32),10,2),?113,"| $",$J(@EAS5@(33),10,2)
"RTN","EASEC102",102,0)
 Q
"RTN","EASEC103")
0^18^B20434200
"RTN","EASEC103",1,0)
EASEC103 ;ALB/BRM - Print 1010EC LTC Enrollment form ; 9/7/01 9:49am
"RTN","EASEC103",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASEC103",3,0)
 ;
"RTN","EASEC103",4,0)
 ; Called from ^EASEC10E to print page 3 of the 1010EC
"RTN","EASEC103",5,0)
 ;
"RTN","EASEC103",6,0)
PAGE3(EALNE,EAINFO,EASDFN) ;Print page 3
"RTN","EASEC103",7,0)
 N X,EASROOT
"RTN","EASEC103",8,0)
 S EASROOT="^TMP(""1010EC"",$J,"_EASDFN_","
"RTN","EASEC103",9,0)
 D HDR^EASEC10E(.EALNE,.EAINFO)
"RTN","EASEC103",10,0)
 D SEC6
"RTN","EASEC103",11,0)
 D SEC7
"RTN","EASEC103",12,0)
 D SEC8
"RTN","EASEC103",13,0)
 D FT^EASEC10E(.EALNE,.EAINFO)
"RTN","EASEC103",14,0)
 Q
"RTN","EASEC103",15,0)
 ;
"RTN","EASEC103",16,0)
SEC6 ; print section 6 - Expenses
"RTN","EASEC103",17,0)
 N EAS6
"RTN","EASEC103",18,0)
 S EAS6=EASROOT_"6)"
"RTN","EASEC103",19,0)
 ;
"RTN","EASEC103",20,0)
 W !?55,"SECTION VI - EXPENSES",!,EALNE("D")
"RTN","EASEC103",21,0)
 W !?54,"ITEMS",?113,"|",?119,"AMOUNT",?131,$C(13) X EAINFO("L")
"RTN","EASEC103",22,0)
 W !,"1. Education (veteran, spouse or dependent)",?113,"| $",$J(@EAS6@(1),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",23,0)
 W !,"2. Funeral and Burial (spouse or child)",?113,"| $",$J(@EAS6@(2),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",24,0)
 W !,"3. Rent/Mortgage",?113,"| $",$J(@EAS6@(3),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",25,0)
 W !,"4. Utilities",?113,"| $",$J(@EAS6@(4),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",26,0)
 W !,"5. Car Payment Only (excludes gas, insurance, parking fees)",?113,"| $",$J(@EAS6@(5),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",27,0)
 W !,"6. Food",?113,"| $",$J(@EAS6@(6),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",28,0)
 W !,"7. Non-reimbursed medical expenses",?113,"| $",$J(@EAS6@(7),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",29,0)
 W !,"8. Court-ordered payments",?113,"| $",$J(@EAS6@(8),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",30,0)
 W !,"9. Insurance (exclude life insurance)",?113,"| $",$J(@EAS6@(9),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",31,0)
 W !,"10. Taxes (on any amount include in gross income, property, personal)",?113,"| $",$J(@EAS6@(10),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",32,0)
 W !,"11. Taxes (Property, personal)",?113,"| $",$J(@EAS6@(11),10,2),?131,$C(13) X EAINFO("L")
"RTN","EASEC103",33,0)
 Q
"RTN","EASEC103",34,0)
SEC7 ;print section 7 - Consent for Assignment of Benefits
"RTN","EASEC103",35,0)
 W !?42,"SECTION VII - CONSENT FOR ASSIGNMENT OF BENEFITS",!,EALNE("D")
"RTN","EASEC103",36,0)
 W !,"I hereby authorize the Department of Veterans Affairs to disclose any such history, diagnostic and treatment information from my"
"RTN","EASEC103",37,0)
 W !,"medical records to the contractor of any health plan contract under which I am apparently eligible for medical care or payment of"
"RTN","EASEC103",38,0)
 W !,"the expense of care or to any other party against whom liability is asserted.  I understand that I may revoke this authorization at"
"RTN","EASEC103",39,0)
 W !,"any time, except to the extent that action has already been taken in reliance on it.  Without my express revocation, this consent"
"RTN","EASEC103",40,0)
 W !,"will automatically expire when all action arising from VA's claim for reimbursement from my medical care has been completed."
"RTN","EASEC103",41,0)
 W !,"I authorize payment of medical benefits to VA for any services for which payment is accepted.",?131,$C(13) X EAINFO("L")
"RTN","EASEC103",42,0)
 W !,"Signature",?100,"| Date",!?100,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC103",43,0)
 Q
"RTN","EASEC103",44,0)
SEC8 ;print section 8 - Consent and Agreement to make copayments
"RTN","EASEC103",45,0)
 N I,WPLINE,EAS8,WPCNT
"RTN","EASEC103",46,0)
 S EAS8=EASROOT_"8)",WPLINE=0,WPCNT=1
"RTN","EASEC103",47,0)
 W !?39,"SECTION VIII - CONSENT AND AGREEMENT TO MAKE COPAYMENTS",!,EALNE("D")
"RTN","EASEC103",48,0)
 W !,"Completion of this form with signature of the Veteran or veteran's representative is certification that the veteran/representative"
"RTN","EASEC103",49,0)
 W !,"has received a copy of the Privacy Act Statement and agrees to make appropriate copayments."
"RTN","EASEC103",50,0)
 W !!,"I certify the foregoing statement(s) are true and correct to the best of my knowledge and belief and agree to make the applicable"
"RTN","EASEC103",51,0)
 W !,"copayment for extended care services as required by law.",?131,$C(13) X EAINFO("L")
"RTN","EASEC103",52,0)
 W !,"Signature",?100,"| Date",!?100,"|",?131,$C(13) X EAINFO("L")
"RTN","EASEC103",53,0)
 W !,"Additional Comments:"
"RTN","EASEC103",54,0)
 D:$D(EAS8)
"RTN","EASEC103",55,0)
 .F  S WPLINE=$O(@EAS8@(WPLINE)) Q:'WPLINE  S WPCNT=WPCNT+1 W !,@EAS8@(WPLINE)
"RTN","EASEC103",56,0)
 F I=WPCNT:1:14 W !
"RTN","EASEC103",57,0)
 Q
"RTN","EASEC10E")
0^19^B18258585
"RTN","EASEC10E",1,0)
EASEC10E ;ALB/BRM - Print 1010EC LTC Enrollment form ; 9/20/01 1:46pm
"RTN","EASEC10E",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASEC10E",3,0)
 ;
"RTN","EASEC10E",4,0)
 ; The EASEC10* routines print a version of the OMB approved
"RTN","EASEC10E",5,0)
 ; VA10-10EC form (Long Term Care).
"RTN","EASEC10E",6,0)
 ;
"RTN","EASEC10E",7,0)
 ; No Local modifications to these routines will be made.  Any changes
"RTN","EASEC10E",8,0)
 ; will be provided through the National Patch Module release process.
"RTN","EASEC10E",9,0)
 ;
"RTN","EASEC10E",10,0)
 Q
"RTN","EASEC10E",11,0)
OEN ;Entry point to print an LTC Co-Pay test from the menu option
"RTN","EASEC10E",12,0)
 ;
"RTN","EASEC10E",13,0)
 N DIC,DFN,DGMTI,ZTSK,DGMSGF
"RTN","EASEC10E",14,0)
 S DGMSGF=1  ;this flag is set to suppress the financial query
"RTN","EASEC10E",15,0)
 S DIC("S")="I $D(^DGMT(408.31,""AID"",3,+Y))"
"RTN","EASEC10E",16,0)
 S DIC="^DPT(",DIC(0)="AEMQ" W ! D ^DIC K DIC G Q:Y<0 S DFN=+Y
"RTN","EASEC10E",17,0)
 S DIC("A")="Select DATE OF TEST: "
"RTN","EASEC10E",18,0)
 I $D(^DGMT(408.31,+$$LST^EASECU(DFN,"",3),0)) S DIC("B")=$P(^(0),"^")
"RTN","EASEC10E",19,0)
 S DIC("S")="I $P(^(0),U,2)=DFN,$P(^(0),U,19)=3"
"RTN","EASEC10E",20,0)
 S DIC="^DGMT(408.31,",DIC(0)="EQZ" W ! D EN^DGMTLK K DIC G Q:Y<0
"RTN","EASEC10E",21,0)
 S DGMTI=+Y
"RTN","EASEC10E",22,0)
 S ZTSK=$$QUE(DFN,DGMTI)
"RTN","EASEC10E",23,0)
Q Q
"RTN","EASEC10E",24,0)
QUE(DFN,DGMTIEN) ; queue the 1010EC print job
"RTN","EASEC10E",25,0)
 ; Input:
"RTN","EASEC10E",26,0)
 ;       DFN - Internal entry number for the #2 (Patient) file
"RTN","EASEC10E",27,0)
 ; Output:
"RTN","EASEC10E",28,0)
 ;       ZTSK - Task Number returned from call to Task Manager
"RTN","EASEC10E",29,0)
 ;
"RTN","EASEC10E",30,0)
 N ZTDESC,ZTIO,ZTRTN,ZTSAVE,ZTSK,ZUSR,POP,X,ERR
"RTN","EASEC10E",31,0)
 W !!?5,$C(7),"This output requires a 132 column printer."
"RTN","EASEC10E",32,0)
 W !?5,"Output to SCREEN will be unreadable.",!
"RTN","EASEC10E",33,0)
 K IOP,%ZIS
"RTN","EASEC10E",34,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","EASEC10E",35,0)
 I $D(IO("Q")) D  Q +$G(ZTSK)
"RTN","EASEC10E",36,0)
 .S ZTSAVE("ZUSR")=+$G(DUZ)
"RTN","EASEC10E",37,0)
 .S ZTRTN="EN^EASEC10E("_DFN_","_$G(DGMTIEN)_")",ZTDESC="1010EC PRINT"
"RTN","EASEC10E",38,0)
 .D ^%ZTLOAD
"RTN","EASEC10E",39,0)
 .D ^%ZISC,HOME^%ZIS
"RTN","EASEC10E",40,0)
 .W !,$S($D(ZTSK):"REQUEST QUEUED!",1:"REQUEST CANCELLED!")
"RTN","EASEC10E",41,0)
 D EN(DFN,$G(DGMTIEN))
"RTN","EASEC10E",42,0)
EXIT D ^%ZISC,HOME^%ZIS
"RTN","EASEC10E",43,0)
 Q +$G(ZTSK)
"RTN","EASEC10E",44,0)
 ;
"RTN","EASEC10E",45,0)
EN(EASDFN,DGMTIEN) ; Entry point to print the 1010EC form
"RTN","EASEC10E",46,0)
 ; Input:
"RTN","EASEC10E",47,0)
 ;    EASDFN  - Internal entry number for the #2 (Patient) file
"RTN","EASEC10E",48,0)
 ;    DTMTDT  - Date of Long Term Care Test to print
"RTN","EASEC10E",49,0)
 ;    DGMTIEN - IEN of the Long term Care test in the #408.31 file
"RTN","EASEC10E",50,0)
 ;
"RTN","EASEC10E",51,0)
 U IO
"RTN","EASEC10E",52,0)
 Q:'$G(EASDFN)
"RTN","EASEC10E",53,0)
 N EALNE,EAINFO
"RTN","EASEC10E",54,0)
 S:$G(DGMTIEN) EAINFO("DGMTIEN")=DGMTIEN
"RTN","EASEC10E",55,0)
 ; set-up print variables
"RTN","EASEC10E",56,0)
 D SETUP(.EALNE,.EAINFO,EASDFN)
"RTN","EASEC10E",57,0)
 ; get veteran data to be printed
"RTN","EASEC10E",58,0)
 D GETDATA^EASEC100(EASDFN,.EAINFO)
"RTN","EASEC10E",59,0)
 ; print page 1
"RTN","EASEC10E",60,0)
 D PAGE1^EASEC101(.EALNE,.EAINFO,EASDFN)
"RTN","EASEC10E",61,0)
 ; print page 2
"RTN","EASEC10E",62,0)
 D PAGE2^EASEC102(.EALNE,.EAINFO,EASDFN)
"RTN","EASEC10E",63,0)
 ; print page 3
"RTN","EASEC10E",64,0)
 D PAGE3^EASEC103(.EALNE,.EAINFO,EASDFN)
"RTN","EASEC10E",65,0)
 ;
"RTN","EASEC10E",66,0)
ENQUIT ; cleanup temp globals after printing has completed
"RTN","EASEC10E",67,0)
 K ^TMP("1010EC",$J,EASDFN)
"RTN","EASEC10E",68,0)
 Q
"RTN","EASEC10E",69,0)
 ;
"RTN","EASEC10E",70,0)
SETUP(EALNE,EAINFO,EASDFN) ;setup print variables
"RTN","EASEC10E",71,0)
 ; Input:
"RTN","EASEC10E",72,0)
 ;   EALNE - Line format array
"RTN","EASEC10E",73,0)
 ;   EAINFO - Misc data array
"RTN","EASEC10E",74,0)
 ;      ("CLRK")    - Clerk's Initials
"RTN","EASEC10E",75,0)
 ;      ("PGE")     - Page number
"RTN","EASEC10E",76,0)
 ;      ("PD")      - Print Date
"RTN","EASEC10E",77,0)
 ;      ("VET")     - Veteran's Name
"RTN","EASEC10E",78,0)
 ;      ("SSN")     - Veteran's SSN
"RTN","EASEC10E",79,0)
 ;      ("MTDT")    - Long Term Care Test date
"RTN","EASEC10E",80,0)
 ;      ("DGMTIEN") - ien of LTC Test in 408.31 
"RTN","EASEC10E",81,0)
 ;   EASDFN - DFN of applicant in the Patient file (#2)
"RTN","EASEC10E",82,0)
 ;
"RTN","EASEC10E",83,0)
 N X,SSN
"RTN","EASEC10E",84,0)
 ;
"RTN","EASEC10E",85,0)
 ;Build Line array for printout
"RTN","EASEC10E",86,0)
 S EALNE("ULC")=$S('($D(IOST)#2):"-",IOST["C-":"-",1:"_")
"RTN","EASEC10E",87,0)
 S EALNE("D")="",EALNE("DD")="",EALNE("UL")=""
"RTN","EASEC10E",88,0)
 S $P(EALNE("D"),"-",131)="",$P(EALNE("DD"),"=",131)="",$P(EALNE("UL"),EALNE("ULC"),131)=""
"RTN","EASEC10E",89,0)
 S EAINFO("L")="W !,EALNE(""UL"")"
"RTN","EASEC10E",90,0)
 S:EALNE("ULC")'="-" EAINFO("L")=$TR(EAINFO("L"),"!,")
"RTN","EASEC10E",91,0)
 ;
"RTN","EASEC10E",92,0)
 ;Get clerk's initials
"RTN","EASEC10E",93,0)
 S ZUSR=$G(ZUSR)
"RTN","EASEC10E",94,0)
 S:$G(ZUSR)="" ZUSR=$G(DUZ)
"RTN","EASEC10E",95,0)
 I +ZUSR>0 D
"RTN","EASEC10E",96,0)
 .S EAINFO("CLRK")=$$GET1^DIQ(200,ZUSR,1)
"RTN","EASEC10E",97,0)
 .I EAINFO("CLRK")']"" D
"RTN","EASEC10E",98,0)
 ..S X=$$GET1^DIQ(200,ZUSR,.01)
"RTN","EASEC10E",99,0)
 ..S EAINFO("CLRK")=$E($P(X,",",2),1)_$E($P(X,","),1)
"RTN","EASEC10E",100,0)
 E  D
"RTN","EASEC10E",101,0)
 .S EAINFO("CLRK")="unk"
"RTN","EASEC10E",102,0)
 ;
"RTN","EASEC10E",103,0)
 ;Get LTC Test date (if it is not passed, use latest LTC test date)
"RTN","EASEC10E",104,0)
 I $G(EAINFO("DGMTIEN")) S EAINFO("MTDT")=$$GET1^DIQ(408.31,EAINFO("DGMTIEN"),.01,"I")
"RTN","EASEC10E",105,0)
 E  D  ;
"RTN","EASEC10E",106,0)
 .N MTDTNEG
"RTN","EASEC10E",107,0)
 .S MTDTNEG=+$O(^DGMT(408.31,"AID",3,EASDFN,""))
"RTN","EASEC10E",108,0)
 .S EAINFO("MTDT")=$TR(MTDTNEG,"-")
"RTN","EASEC10E",109,0)
 .S EAINFO("DGMTIEN")=$O(^DGMT(408.31,"AID",3,EASDFN,MTDTNEG,""))
"RTN","EASEC10E",110,0)
 ;
"RTN","EASEC10E",111,0)
 ;Set data elements
"RTN","EASEC10E",112,0)
 S EAINFO("PGE")=0
"RTN","EASEC10E",113,0)
 S EAINFO("PD")=$$FMTE^XLFDT($$NOW^XLFDT)
"RTN","EASEC10E",114,0)
 S EAINFO("VET")=$$GET1^DIQ(2,EASDFN_",",.01)
"RTN","EASEC10E",115,0)
 S SSN=$$GET1^DIQ(2,EASDFN_",",.09)
"RTN","EASEC10E",116,0)
 S EAINFO("SSN")=$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,9)
"RTN","EASEC10E",117,0)
 Q
"RTN","EASEC10E",118,0)
 ;
"RTN","EASEC10E",119,0)
HDRMAIN(EALNE) ;
"RTN","EASEC10E",120,0)
 W @IOF
"RTN","EASEC10E",121,0)
 W !,EALNE("DD")
"RTN","EASEC10E",122,0)
 W !,"D E P A R T M E N T   O F   V E T E R A N S   A F F A I R S",?90,"APPLICATION FOR EXTENDED CARE SERVICES",!,EALNE("DD")
"RTN","EASEC10E",123,0)
 W !?50,"SECTION I - GENERAL INFORMATION",!,EALNE("D")
"RTN","EASEC10E",124,0)
 Q
"RTN","EASEC10E",125,0)
 ;
"RTN","EASEC10E",126,0)
HDR(EALNE,EAINFO) ;
"RTN","EASEC10E",127,0)
 W @IOF
"RTN","EASEC10E",128,0)
 W EALNE("DD")
"RTN","EASEC10E",129,0)
 W !,"APPLICATION FOR EXTENDED CARE SERVICES, Continued"
"RTN","EASEC10E",130,0)
 W ?65,"| Veteran's Name",?100,"| Social Security Number"
"RTN","EASEC10E",131,0)
 W !?65,"| ",EAINFO("VET"),?100,"| ",EAINFO("SSN")
"RTN","EASEC10E",132,0)
 W !,EALNE("DD")
"RTN","EASEC10E",133,0)
 Q
"RTN","EASEC10E",134,0)
 ;
"RTN","EASEC10E",135,0)
FT(EALNE,EAINFO) ;
"RTN","EASEC10E",136,0)
 N %,Y
"RTN","EASEC10E",137,0)
 W !,EALNE("DD")
"RTN","EASEC10E",138,0)
 W !,"VA FORM 10-10EC DEC 2000",?40,"PRINTED: ",EAINFO("PD")
"RTN","EASEC10E",139,0)
 W ?80,"Clerk: ",EAINFO("CLRK")
"RTN","EASEC10E",140,0)
 S EAINFO("PGE")=EAINFO("PGE")+1
"RTN","EASEC10E",141,0)
 W ?120,"Page ",EAINFO("PGE"),?131,$C(13)
"RTN","EASEC10E",142,0)
 Q
"RTN","EASECA")
0^1^B8341150
"RTN","EASECA",1,0)
EASECA ;ALB/PHH - Add a New LTC Co-Pay Test ;10 AUG 2001
"RTN","EASECA",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECA",3,0)
 ;
"RTN","EASECA",4,0)
EN ;Entry point to add a new LTC Co-Pay test
"RTN","EASECA",5,0)
 N DGMDOD S DGMDOD=""
"RTN","EASECA",6,0)
 I $D(DGMTDFN)#2 K DGMTDFN
"RTN","EASECA",7,0)
 S DIC="^DPT(",DIC(0)="AEMQ" W ! D ^DIC K DIC G Q:Y<0 S (DFN,DGMTDFN)=+Y
"RTN","EASECA",8,0)
 I $P($G(^DPT(DFN,.35)),U)'="" S DGMDOD=$P(^DPT(DFN,.35),U)
"RTN","EASECA",9,0)
 I $G(DGMDOD) W !,"Patient died on: ",$$FMTE^XLFDT(DGMDOD,"1D") Q
"RTN","EASECA",10,0)
 ;
"RTN","EASECA",11,0)
 S DGLDT=$$LST^EASECU(DFN,"",DGMTYPT),DGLD=$P(DGLDT,U,2),DGLDYR=$E(DGLD,1,3)_"1231"
"RTN","EASECA",12,0)
 ;
"RTN","EASECA",13,0)
DT S %DT("A")="DATE OF TEST: ",%DT="AEX",%DT(0)="-NOW",%DT("B")="NOW" W ! D ^%DT K %DT G Q:Y<0 S DGMTDT=Y
"RTN","EASECA",14,0)
 ;I DGMTDT<3011001 W !?3,*7,"The date of test cannot be before 10/01/2001." G DT
"RTN","EASECA",15,0)
 I DGLD,DGMTDT<DGLD W !?3,*7,"The date of test cannot be before the last date of test on " S Y=DGLD X ^DD("DD") W Y,"." G DT
"RTN","EASECA",16,0)
 I DGLD S X1=DGMTDT,X2=DGLD D ^%DTC I X<365,DGMTDT'>DGLDYR D  G EN
"RTN","EASECA",17,0)
 .W !?3,*7,"An LTC Co-Pay Test already exists on " S Y=DGLD X ^DD("DD") W Y,"."
"RTN","EASECA",18,0)
 .S DGTTYP="LTC COPAY "
"RTN","EASECA",19,0)
 .W !,$S($P($G(^DG(408.34,+$P($G(^DGMT(408.31,+DGLDT,0)),U,23),0)),U)="VAMC":"   Use the 'EASEC "_DGTTYP_"TEST EDIT' Option.",1:"   Use the 'EASEC "_DGTTYP_"TEST VIEW' Option.")
"RTN","EASECA",20,0)
 ;
"RTN","EASECA",21,0)
PRINT I "^P^A^C^"[(U_$P(DGLDT,U,4)_U) S %=1 W !,"Do you wish to print the LTC Co-Pay test" D YN^DICN G:%=-1 Q I %Y["?" W !!,"This will print the LTC Co-Pay test information.",! G PRINT
"RTN","EASECA",22,0)
 I $G(%)=1 S DGX=DGMTDT,DGMTDT=DGLD,DGMTI=+DGLDT,DGOPT="" D OEN^EASEC10E S DGMTDT=DGX K DGX
"RTN","EASECA",23,0)
 D ADD G EN:DGMTI<0
"RTN","EASECA",24,0)
 S DGMTACT="ADD",DGMTROU="EN^EASECA" G EN^EASECSC
"RTN","EASECA",25,0)
 ;
"RTN","EASECA",26,0)
Q K DA,DFN,DGADDF,DGBL,DGFL,DGFLD,DGIRO,DGLD,DGLDT,DGLDYR,DGMTACT,DGMTCOR,DGMTDT,DGMTI,DGMTROU,DGREQF,DGTTYP,DGMTYPT,DGVI,DGVO,X,X1,X2,Y
"RTN","EASECA",27,0)
 Q
"RTN","EASECA",28,0)
 ;
"RTN","EASECA",29,0)
ADD ;Add LTC Co-Pay test
"RTN","EASECA",30,0)
 ; Input  -- DFN     Patient IEN
"RTN","EASECA",31,0)
 ;           DGMTDT  Date
"RTN","EASECA",32,0)
 ;           DGMTYPT Type of Test 3 = LTC Co-Pay
"RTN","EASECA",33,0)
 ; Output -- DGMTI   Annual LTC Copay Test IEN
"RTN","EASECA",34,0)
 N DA,DD,DIC,DIK,DINUM,DLAYGO,DO,DS,X,D0
"RTN","EASECA",35,0)
 ;
"RTN","EASECA",36,0)
 S X=DGMTDT,(DIC,DIK)="^DGMT(408.31,",DIC(0)="L",DLAYGO=408.31
"RTN","EASECA",37,0)
 D FILE^DICN S DGMTI=+Y
"RTN","EASECA",38,0)
 I DGMTI>0 L +^DGMT(408.31,DGMTI) D
"RTN","EASECA",39,0)
 .S ^DGMT(408.31,DGMTI,0)=DGMTDT_"^"_DFN_"^^^^^^^^^^^^^^^^^"_DGMTYPT_"^^^^"_1,DA=DGMTI
"RTN","EASECA",40,0)
 .S $P(^DGMT(408.31,DGMTI,2),"^",5)=$$GETSITE^DGMTU4(.DUZ)
"RTN","EASECA",41,0)
 .D IX1^DIK L -^DGMT(408.31,DGMTI)
"RTN","EASECA",42,0)
ADDQ Q
"RTN","EASECCAL")
0^38^B5479512
"RTN","EASECCAL",1,0)
EASECCAL ;ALB/LBD - Calculate LTC co-payment ;27 AUG 2001
"RTN","EASECCAL",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECCAL",3,0)
 ;
"RTN","EASECCAL",4,0)
 ; Input --   DFN    Patient IEN
"RTN","EASECCAL",5,0)
 ;            MNTH   Month for the LTC co-pay calculation
"RTN","EASECCAL",6,0)
 ; Output --  COPAY  String containing co-payment calculation
"RTN","EASECCAL",7,0)
 ;                    = 0: no completed LTC co-pay test on file
"RTN","EASECCAL",8,0)
 ;                    piece 1: LTC co-pay test status
"RTN","EASECCAL",9,0)
 ;                          2: If Exempt, Reason for Exemption
"RTN","EASECCAL",10,0)
 ;                          3: Calculated LTC co-payment for IP 
"RTN","EASECCAL",11,0)
 ;                               (1-180 days)
"RTN","EASECCAL",12,0)
 ;                          4: Calculated LTC co-payment for IP
"RTN","EASECCAL",13,0)
 ;                               (181+ days)
"RTN","EASECCAL",14,0)
 ;                          5: Calculated LTC co-payment for OP
"RTN","EASECCAL",15,0)
 ;
"RTN","EASECCAL",16,0)
COPAY(DFN,MNTH) ;
"RTN","EASECCAL",17,0)
 N DAYS,IPMAX,OPMAX,LST,DGMT,DGMTI,DGMTS,DGMTDT,DGSTA,ERR,X1,X2
"RTN","EASECCAL",18,0)
 I 'DFN!('MNTH) S COPAY=0 G Q
"RTN","EASECCAL",19,0)
 S DAYS=$E(MNTH,6,7),IPMAX=97*DAYS,OPMAX=15*DAYS
"RTN","EASECCAL",20,0)
 ; Get last completed LTC co-pay test
"RTN","EASECCAL",21,0)
 S LST=$$LST^EASECU(DFN,MNTH,"3") I +LST=0 S COPAY=0 G Q
"RTN","EASECCAL",22,0)
 S DGMTI=$P(LST,U),DGMTDT=$P(LST,U,2),DGSTA=$P(LST,U,3)
"RTN","EASECCAL",23,0)
 ; If LTC co-pay test status is not NON-EXEMPT or EXEMPT, quit
"RTN","EASECCAL",24,0)
 I DGSTA'="NON-EXEMPT",DGSTA'="EXEMPT" S COPAY=0 G Q
"RTN","EASECCAL",25,0)
 ; If LTC co-pay test is more than a year old, quit
"RTN","EASECCAL",26,0)
 S X1=MNTH,X2=DGMTDT D ^%DTC I X>365 S COPAY=0 G Q
"RTN","EASECCAL",27,0)
 S DGMT(0)=$G(^DGMT(408.31,DGMTI,0)),DGMTS=$P(DGMT(0),U,3)
"RTN","EASECCAL",28,0)
 S COPAY=DGMTS_U
"RTN","EASECCAL",29,0)
 ; If test status = 'EXEMPT', get Reason for Exemption
"RTN","EASECCAL",30,0)
 I DGSTA="EXEMPT" S COPAY=COPAY_$P($G(^DGMT(408.31,DGMTI,2)),U,7)
"RTN","EASECCAL",31,0)
 ; If veteran declined to give financial info, co-pay = max monthly co-pay
"RTN","EASECCAL",32,0)
 I $P(DGMT(0),U,14) S COPAY=COPAY_U_IPMAX_U_IPMAX_OPMAX G Q
"RTN","EASECCAL",33,0)
 ; Get total income, assets and expenses for veteran (and spouse)
"RTN","EASECCAL",34,0)
 D FINTOT I $G(ERR) G Q
"RTN","EASECCAL",35,0)
 ; Calculate co-payments
"RTN","EASECCAL",36,0)
 D CALC
"RTN","EASECCAL",37,0)
Q ; Quit and return COPAY
"RTN","EASECCAL",38,0)
 Q COPAY
"RTN","EASECCAL",39,0)
 ;
"RTN","EASECCAL",40,0)
FINTOT ; Get total income, assets and expenses for veteran (and spouse)
"RTN","EASECCAL",41,0)
 N DGDC,DGDEP,DGDET,DGERR,DGIN0,DGIN1,DGIN2,DGINI,DGINT,DGINTF,DGIRI
"RTN","EASECCAL",42,0)
 N DGNC,DGND,DGNWT,DGNWTF,DGPRI,DGVINI,DGVIR0,DGVIRI
"RTN","EASECCAL",43,0)
 S ERR=0
"RTN","EASECCAL",44,0)
 S DGPRI=$O(^DGPR(408.12,"C",DFN_";DPT(",0)) I 'DGPRI S ERR=1 Q
"RTN","EASECCAL",45,0)
 D GETIENS^EASECU2(DFN,DGPRI,DGMTDT) I '$G(DGIRI),'$G(DGINI) S ERR=1 Q
"RTN","EASECCAL",46,0)
 S DGVIRI=DGIRI,DGVINI=DGINI
"RTN","EASECCAL",47,0)
 D DEP^EASECSU3
"RTN","EASECCAL",48,0)
 D INC^EASECSU3
"RTN","EASECCAL",49,0)
 I DGINT=0,DGDET=0,DGNWT=0 S ERR=1 Q
"RTN","EASECCAL",50,0)
 ; Does spouse reside in community?  Does spouse live with patient?
"RTN","EASECCAL",51,0)
 S SRIC=$P(DGVIR0,U,16),SLIV=$P(DGVIR0,U,15)
"RTN","EASECCAL",52,0)
 ; Divide totals by 12 to get monthly amounts
"RTN","EASECCAL",53,0)
 S INC=DGINT/12,EXP=DGDET/12,AST=DGNWT/12
"RTN","EASECCAL",54,0)
 ; Calculate total monthly allowance:
"RTN","EASECCAL",55,0)
 ; 20*number of days in month*(veteran+spouse(if married and spouse
"RTN","EASECCAL",56,0)
 ;   resides in the community))
"RTN","EASECCAL",57,0)
 S ALLOW=20*DAYS*(1+SRIC)
"RTN","EASECCAL",58,0)
 Q
"RTN","EASECCAL",59,0)
 ;
"RTN","EASECCAL",60,0)
CALC ; Calculate co-payments
"RTN","EASECCAL",61,0)
 ; Calculation for IP services up to 180 days and OP services:
"RTN","EASECCAL",62,0)
 ;   Income-Allowance-Expenses
"RTN","EASECCAL",63,0)
 S CCPY=INC-ALLOW-EXP
"RTN","EASECCAL",64,0)
 S (OPCPY,IPCPY1)=(CCPY+.5)\1
"RTN","EASECCAL",65,0)
 ; Calculation for IP services 181+ days, add in assets
"RTN","EASECCAL",66,0)
 S CCPY=CCPY+AST
"RTN","EASECCAL",67,0)
 ;If veteran is single or spouse does not reside in the community,
"RTN","EASECCAL",68,0)
 ;add expenses back in
"RTN","EASECCAL",69,0)
 I 'DGSP!('SRIC) S CCPY=CCPY+EXP
"RTN","EASECCAL",70,0)
 S IPCPY2=(CCPY+.5)\1
"RTN","EASECCAL",71,0)
 S COPAY=COPAY_U_IPCPY1_U_IPCPY2_U_OPCPY
"RTN","EASECCAL",72,0)
 K CCPY,INC,ALLOW,EXP,AST,OPCPY,IPCPY1,IPCPY2,DGSP,SRIC,SLIV
"RTN","EASECCAL",73,0)
 Q
"RTN","EASECDD")
0^20^B35789462
"RTN","EASECDD",1,0)
EASECDD ;ALB/LBD - Executable help for fields in file #408.21  ;4 SEP 2001
"RTN","EASECDD",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDD",3,0)
 ;
"RTN","EASECDD",4,0)
8 ; Social Security
"RTN","EASECDD",5,0)
 W !,?8,"Enter in this field the annual amount of Social Security"
"RTN","EASECDD",6,0)
 W !,?8,"received during the current calendar year."
"RTN","EASECDD",7,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",8,0)
 S X="?"
"RTN","EASECDD",9,0)
 Q
"RTN","EASECDD",10,0)
9 ; US Civil Service
"RTN","EASECDD",11,0)
 W !,?8,"Enter in this field the annual amount of U.S. Civil Service"
"RTN","EASECDD",12,0)
 W !,?8,"received during the current calendar year."
"RTN","EASECDD",13,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",14,0)
 S X="?"
"RTN","EASECDD",15,0)
 Q
"RTN","EASECDD",16,0)
10 ; US Railroad Retirement
"RTN","EASECDD",17,0)
 W !,?8,"Enter in this field the annual amount of U.S. Railroad Retirement"
"RTN","EASECDD",18,0)
 W !,?8,"received during the current calendar year."
"RTN","EASECDD",19,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",20,0)
 S X="?"
"RTN","EASECDD",21,0)
 Q
"RTN","EASECDD",22,0)
11 ; Military Retirement
"RTN","EASECDD",23,0)
 W !,?8,"Enter in this field the annual amount of Military Retirement"
"RTN","EASECDD",24,0)
 W !,?8,"received during the current calendar year."
"RTN","EASECDD",25,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",26,0)
 S X="?"
"RTN","EASECDD",27,0)
 Q
"RTN","EASECDD",28,0)
12 ; Unemployment Compensation
"RTN","EASECDD",29,0)
 W !,?8,"Enter in this field the annual amount of Unemployment Compensation"
"RTN","EASECDD",30,0)
 W !,?8,"received during the current calendar year."
"RTN","EASECDD",31,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",32,0)
 S X="?"
"RTN","EASECDD",33,0)
 Q
"RTN","EASECDD",34,0)
13 ; Other Retirement
"RTN","EASECDD",35,0)
 W !,?8,"Enter in this field the annual amount of Other Retirement received"
"RTN","EASECDD",36,0)
 W !,?8,"during the current calendar year.  This includes company, state,"
"RTN","EASECDD",37,0)
 W !,?8,"local, etc."
"RTN","EASECDD",38,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",39,0)
 S X="?"
"RTN","EASECDD",40,0)
 Q
"RTN","EASECDD",41,0)
14 ; Total Income from Employment
"RTN","EASECDD",42,0)
 W !,?8,"Enter in this field the annual amount of Gross Income received during"
"RTN","EASECDD",43,0)
 W !,?8,"the current year.  This includes, but is not limited to, wages and"
"RTN","EASECDD",44,0)
 W !,?8,"income from a business, bonuses, tips, severance pay, accrued"
"RTN","EASECDD",45,0)
 W !,?8,"benefits, cash gifts."
"RTN","EASECDD",46,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",47,0)
 S X="?"
"RTN","EASECDD",48,0)
 Q
"RTN","EASECDD",49,0)
15 ; Interest, Dividend or Annuity
"RTN","EASECDD",50,0)
 W !,?8,"Enter in this field the annual amount of Interest and Dividend"
"RTN","EASECDD",51,0)
 W !,?8,"Income received during the current calendar year (i.e., interest"
"RTN","EASECDD",52,0)
 W !,?8,"income, standard dividend income from non tax deferred annuities)."
"RTN","EASECDD",53,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",54,0)
 S X="?"
"RTN","EASECDD",55,0)
 Q
"RTN","EASECDD",56,0)
16 ; Workers Comp or Black Lung
"RTN","EASECDD",57,0)
 W !,?8,"Enter in this field the annual amount of Workers Compensation or"
"RTN","EASECDD",58,0)
 W !,?8,"Black Lung Benefits received during the current calendar year."
"RTN","EASECDD",59,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",60,0)
 S X="?"
"RTN","EASECDD",61,0)
 Q
"RTN","EASECDD",62,0)
17 ; All Other Income
"RTN","EASECDD",63,0)
 W !,?8,"Enter in this field the annual amount of All Other Income"
"RTN","EASECDD",64,0)
 W !,?8,"received during the current calendar year (i.e., inheritance amounts,"
"RTN","EASECDD",65,0)
 W !,?8,"tort settlement payments)."
"RTN","EASECDD",66,0)
 W !!,?8,"A monthly amount can be entered with an '*' after it.",!
"RTN","EASECDD",67,0)
 S X="?"
"RTN","EASECDD",68,0)
 Q
"RTN","EASECDD",69,0)
101 ; Medical Expenses
"RTN","EASECDD",70,0)
 W !,?8,"Enter in this field the total amount of unreimbursed medical expenses"
"RTN","EASECDD",71,0)
 W !,?8,"paid by the veteran during the current calendar year.  The expenses"
"RTN","EASECDD",72,0)
 W !,?8,"can be for the veteran or for members of the veteran's family."
"RTN","EASECDD",73,0)
 W !,?8,"Reportable medical expenses include amounts paid for the following:"
"RTN","EASECDD",74,0)
 W !,?8,"fees of physicians, dentists, and other providers of health services;"
"RTN","EASECDD",75,0)
 W !,?8,"hospital and nursing home fees; medical insurance premiums (including"
"RTN","EASECDD",76,0)
 W !,?8,"the Medicare premium); drugs and medicines; eyeglasses; any other"
"RTN","EASECDD",77,0)
 W !,?8,"expenses that are reasonable related to medical care.  The expenses"
"RTN","EASECDD",78,0)
 W !,?8,"must actually have been paid by the veteran.  Do not list expenses"
"RTN","EASECDD",79,0)
 W !,?8,"which have not been paid or which have been paid by someone other"
"RTN","EASECDD",80,0)
 W !,?8,"than the veteran.  Do not list expenses which the veteran has paid if"
"RTN","EASECDD",81,0)
 W !,?8,"the veteran expects to receive reimbursement from insurance or some"
"RTN","EASECDD",82,0)
 W !,?8,"other source."
"RTN","EASECDD",83,0)
 S X="?"
"RTN","EASECDD",84,0)
 Q
"RTN","EASECDD",85,0)
102 ; Funeral and Burial Expenses
"RTN","EASECDD",86,0)
 W !,?8,"Enter in this field amounts paid by the veteran during the current"
"RTN","EASECDD",87,0)
 W !,?8,"calendar year for funeral or burial expenses of the veteran's"
"RTN","EASECDD",88,0)
 W !,?8,"spouse or child.  Do not report amounts paid for funeral or"
"RTN","EASECDD",89,0)
 W !,?8,"burial expenses of other relatives such as parents, siblings, etc."
"RTN","EASECDD",90,0)
 S X="?"
"RTN","EASECDD",91,0)
 Q
"RTN","EASECDD",92,0)
103 ; Educational Expenses
"RTN","EASECDD",93,0)
 W !,?8,"Enter in this field the total amount paid by the veteran for"
"RTN","EASECDD",94,0)
 W !,?8,"educational expenses during the current calendar year.  This"
"RTN","EASECDD",95,0)
 W !,?8,"includes educational expenses for the veteran, spouse and children."
"RTN","EASECDD",96,0)
 W !,?8,"Educational expenses are tuition, fees, and books if enrolled in a"
"RTN","EASECDD",97,0)
 W !,?8,"program of education."
"RTN","EASECDD",98,0)
 S X="?"
"RTN","EASECDD",99,0)
 Q
"RTN","EASECDD",100,0)
201 ; Cash
"RTN","EASECDD",101,0)
 W !,?8,"Enter in this field cash and amounts in bank accounts.  This"
"RTN","EASECDD",102,0)
 W !,?8,"includes checking accounts, savings accounts, money markets,"
"RTN","EASECDD",103,0)
 W !,?8,"interest, dividends from IRA, 401K's, and other tax deferred"
"RTN","EASECDD",104,0)
 W !,?8,"annuities."
"RTN","EASECDD",105,0)
 S X="?"
"RTN","EASECDD",106,0)
 Q
"RTN","EASECDD",107,0)
202 ; Stock, bonds, mutual funds
"RTN","EASECDD",108,0)
 W !,?8,"Enter in this field the current value of stocks, bonds, mutual"
"RTN","EASECDD",109,0)
 W !,?8,"funds, SEP's, and other retirement accounts (e.g., IRA, 401K,"
"RTN","EASECDD",110,0)
 W !,?8,"annuities, self-employed person)."
"RTN","EASECDD",111,0)
 S X="?"
"RTN","EASECDD",112,0)
 Q
"RTN","EASECDEP")
0^2^B6426681
"RTN","EASECDEP",1,0)
EASECDEP ;ALB/LBD Dependent Driver ;18 AUG 2001
"RTN","EASECDEP",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDEP",3,0)
 ;This routine was modified from DGDEP for LTC Co-pay
"RTN","EASECDEP",4,0)
EN ;
"RTN","EASECDEP",5,0)
 S VALMBCK=""
"RTN","EASECDEP",6,0)
 D WAIT^DICD,EN^VALM("EASEC DEPENDENTS")
"RTN","EASECDEP",7,0)
 S VALMBCK="R"
"RTN","EASECDEP",8,0)
ENQ K DEP,DGCNT,DGDEP,DGIR0,DGINI,DGLN,DGPRI,DGREL,^TMP("DGDEP",$J)
"RTN","EASECDEP",9,0)
 Q
"RTN","EASECDEP",10,0)
 ;
"RTN","EASECDEP",11,0)
PAT ; Patient Lookup
"RTN","EASECDEP",12,0)
 N DIC,Y
"RTN","EASECDEP",13,0)
 S DIC="^DPT(",DIC(0)="AEMQZ" D ^DIC I Y'>0 G PATQ
"RTN","EASECDEP",14,0)
 I ($G(DTOUT)!$G(DUOUT)) G PATQ
"RTN","EASECDEP",15,0)
 S DFN=+Y
"RTN","EASECDEP",16,0)
PATQ Q
"RTN","EASECDEP",17,0)
 ;
"RTN","EASECDEP",18,0)
HDR ; Header
"RTN","EASECDEP",19,0)
 N VA,VAERR
"RTN","EASECDEP",20,0)
 D PID^VADPT
"RTN","EASECDEP",21,0)
 S X="",VALMHDR(1)="                     MARITAL STATUS/DEPENDENTS, SCREEN <3>"
"RTN","EASECDEP",22,0)
 S VALMHDR(2)=$E($P("Patient: "_$G(^DPT(DFN,0)),"^",1),1,30)_" ("_VA("PID")_")"
"RTN","EASECDEP",23,0)
 S X=$S($D(^DPT(DFN,.1)):"Ward: "_^(.1),1:"Outpatient")
"RTN","EASECDEP",24,0)
 S VALMHDR(2)=$$SETSTR^VALM1(X,VALMHDR(2),80-$L(X),$L(X))
"RTN","EASECDEP",25,0)
HDRQ Q
"RTN","EASECDEP",26,0)
 ;
"RTN","EASECDEP",27,0)
INIT ; Find all dependents
"RTN","EASECDEP",28,0)
 K DGDEP("DGDEP",$J),^TMP("DGDEP",$J)
"RTN","EASECDEP",29,0)
 N CNT,DGDATE,DGDDEP0,DGINCP,DGINI,DGIRI,DGWHERE
"RTN","EASECDEP",30,0)
 D NEW^EASECED1 ; Sets up veteran in person file
"RTN","EASECDEP",31,0)
 ; Get all active dependents
"RTN","EASECDEP",32,0)
 D ALL^EASECU21(DFN,"VSD",$S($G(DGMTDT):DGMTDT,1:DT),"IPR",$G(DGMTI))
"RTN","EASECDEP",33,0)
 ;
"RTN","EASECDEP",34,0)
 ; Get all dependents active and inactive
"RTN","EASECDEP",35,0)
 S (CNT,DGDEP)=0,DGLN=1
"RTN","EASECDEP",36,0)
 F  S DGDEP=$O(^DGPR(408.12,"B",DFN,DGDEP)) Q:'DGDEP  D
"RTN","EASECDEP",37,0)
 .N DGDEP0 S CNT=CNT+1
"RTN","EASECDEP",38,0)
 .S DGDEP0=^DGPR(408.12,DGDEP,0)
"RTN","EASECDEP",39,0)
 .D GETIENS^EASECU2(DFN,+DGDEP,$S($G(DGMTDT):DGMTDT,1:DT)) ;Get Annual Income IEN and Income Person IEN
"RTN","EASECDEP",40,0)
 .S DGWHERE=$P(DGDEP0,U,3)
"RTN","EASECDEP",41,0)
 .S DGINCP=$G(@("^"_$P(DGWHERE,";",2)_+DGWHERE_",0)"))
"RTN","EASECDEP",42,0)
 .S DGDEP("DGDEP",$J,$P(DGDEP0,U,2),CNT)=DGINCP
"RTN","EASECDEP",43,0)
 .S $P(DGDEP("DGDEP",$J,$P(DGDEP0,U,2),CNT),U,20)=DGDEP
"RTN","EASECDEP",44,0)
 .S $P(DGDEP("DGDEP",$J,$P(DGDEP0,U,2),CNT),U,21)=$S($G(DGINI):DGINI,1:$G(DGINC))
"RTN","EASECDEP",45,0)
 .S $P(DGDEP("DGDEP",$J,$P(DGDEP0,U,2),CNT),U,22)=$S($G(DGIRI):DGIRI,1:$G(DGINR))
"RTN","EASECDEP",46,0)
 .N DGEDATE S DGEDATE=0
"RTN","EASECDEP",47,0)
 .F  S DGEDATE=$O(^DGPR(408.12,DGDEP,"E",DGEDATE)) Q:'DGEDATE  D
"RTN","EASECDEP",48,0)
 ..S DGDATE=^DGPR(408.12,DGDEP,"E",DGEDATE,0)
"RTN","EASECDEP",49,0)
 ..S DGDEP("DGDEP",$J,$P(DGDEP0,U,2),CNT,-$P(DGDATE,U))=DGDATE
"RTN","EASECDEP",50,0)
 D RETDEP^EASECDP0
"RTN","EASECDEP",51,0)
 S VALMCNT=DGLN-1
"RTN","EASECDEP",52,0)
 Q
"RTN","EASECDEP",53,0)
 ;
"RTN","EASECDEP",54,0)
SET(X) ; Set in array
"RTN","EASECDEP",55,0)
 ;
"RTN","EASECDEP",56,0)
 S ^TMP("DGDEP",$J,DGLN,0)=X,^TMP("DGDEP",$J,"IDX",CNT,CNT)=""
"RTN","EASECDEP",57,0)
 S DGLN=DGLN+1
"RTN","EASECDEP",58,0)
 Q
"RTN","EASECDP0")
0^3^B8874314
"RTN","EASECDP0",1,0)
EASECDP0 ;ALB/LBD Dependent Driver (con't) ;20 AUG 2001
"RTN","EASECDP0",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDP0",3,0)
 ;NOTE: This routine was modified from DGDEP0 for LTC co-pay
"RTN","EASECDP0",4,0)
 ;
"RTN","EASECDP0",5,0)
RETDEP ;Return printable data of dependents
"RTN","EASECDP0",6,0)
 Q:'$D(DGDEP("DGDEP",$J))
"RTN","EASECDP0",7,0)
 N ACT,ACTIVE,CNT,CNTR,DEP,DGII,DGX,EDATE,INCOME,INCPER,MORE,NAME,RELATE
"RTN","EASECDP0",8,0)
 F DGII=0:0 S DGII=$O(DGDEP(DGII)) Q:'DGII  K DGDEP(DGII) ; clear dependent array
"RTN","EASECDP0",9,0)
 S RELATE=0,CNT=1
"RTN","EASECDP0",10,0)
 ;
"RTN","EASECDP0",11,0)
 F  S RELATE=$O(DGDEP("DGDEP",$J,RELATE)) Q:'RELATE  D
"RTN","EASECDP0",12,0)
 .;
"RTN","EASECDP0",13,0)
 .S MORE=0
"RTN","EASECDP0",14,0)
 .F  S MORE=$O(DGDEP("DGDEP",$J,RELATE,MORE)) Q:'MORE  S DEP=DGDEP("DGDEP",$J,RELATE,MORE) D  S CNT=CNT+1,DGCNT=CNT-1
"RTN","EASECDP0",15,0)
 ..;
"RTN","EASECDP0",16,0)
 ..S $P(DGDEP(CNT),U,2)=$P($G(^DG(408.11,RELATE,0)),U)
"RTN","EASECDP0",17,0)
 ..S NAME=$P(DEP,U),$P(DGDEP(CNT),U)=$P(DEP,U)
"RTN","EASECDP0",18,0)
 ..S $P(DGDEP(CNT),U,3)=$S($P(DEP,U,2)="M":"Male",$P(DEP,U,2)="F":"Female",1:"Unknown"),$P(DGDEP(CNT),U,20)=$P(DEP,U,20)
"RTN","EASECDP0",19,0)
 ..S $P(DGDEP(CNT),U,21)=$P(DEP,U,21),$P(DGDEP(CNT),U,22)=$P(DEP,U,22)
"RTN","EASECDP0",20,0)
 ..N Y S Y=$P(DEP,U,3) D DD^%DT S $P(DGDEP(CNT),U,4)=Y
"RTN","EASECDP0",21,0)
 ..I $P(DEP,U,9) S $P(DGDEP(CNT),U,5)=$E($P(DEP,U,9),1,3)_"-"_$E($P(DEP,U,9),4,5)_"-"_$E($P(DEP,U,9),6,9)
"RTN","EASECDP0",22,0)
 ..;
"RTN","EASECDP0",23,0)
 ..S INCOME=$P(DGDEP("DGDEP",$J,RELATE,MORE),U,21)
"RTN","EASECDP0",24,0)
 ..S INCPER=$P(DGDEP("DGDEP",$J,RELATE,MORE),U,22)
"RTN","EASECDP0",25,0)
 ..I RELATE=1 D SELF("",NAME,RELATE,"",DGDEP(1),$G(DGMTI),CNT)
"RTN","EASECDP0",26,0)
 ..S ACT=$O(DGDEP("DGDEP",$J,RELATE,MORE,"")) Q:'ACT  S ACT=DGDEP("DGDEP",$J,RELATE,MORE,+ACT)
"RTN","EASECDP0",27,0)
 ..I RELATE=1 D SELF(INCPER,NAME,RELATE,ACT,DGDEP(1),$G(DGMTI),CNT)
"RTN","EASECDP0",28,0)
 ..I RELATE=2 D DEP(INCPER,NAME,RELATE,ACT,DGDEP(CNT),$G(DGMTI),$G(DGMTACT),CNT)
"RTN","EASECDP0",29,0)
 ..I RELATE>2 D DEP(INCPER,NAME,RELATE,ACT,DGDEP(CNT),$G(DGMTI),$G(DGMTACT),CNT)
"RTN","EASECDP0",30,0)
 ..S EDATE="",CNTR=0
"RTN","EASECDP0",31,0)
 ..F  S EDATE=$O(DGDEP("DGDEP",$J,RELATE,MORE,EDATE)) Q:EDATE']""  S ACTIVE=DGDEP("DGDEP",$J,RELATE,MORE,EDATE) D
"RTN","EASECDP0",32,0)
 ...;
"RTN","EASECDP0",33,0)
 ...N Y S Y=+ACTIVE D DD^%DT S DGDEP(CNT,EDATE)=Y
"RTN","EASECDP0",34,0)
 ...S $P(DGDEP(CNT,EDATE),U,2)=$S($P(ACTIVE,U,2)=1:"Active",1:"Inactive")
"RTN","EASECDP0",35,0)
 ...S $P(DGDEP(CNT,EDATE),U,3)=$P(ACTIVE,U,3)
"RTN","EASECDP0",36,0)
 K DGDEP("DGDEP",$J)
"RTN","EASECDP0",37,0)
 Q
"RTN","EASECDP0",38,0)
 ;
"RTN","EASECDP0",39,0)
SELF(INCPER,NAME,RELATE,ACT,DGDEP,DGMTI,CNT) ;
"RTN","EASECDP0",40,0)
 I $G(DGMTI),$G(DGMTACT)="VEW" G SELFQ
"RTN","EASECDP0",41,0)
 I $G(DGMTI) D ADD^EASECDP2(DFN,DGDEP,DGMTI)
"RTN","EASECDP0",42,0)
SELFQ I INCPER D SELF^EASECDP3(INCPER,NAME,RELATE,ACT,$G(DGMTI),CNT)
"RTN","EASECDP0",43,0)
 Q
"RTN","EASECDP0",44,0)
 ;
"RTN","EASECDP0",45,0)
DEP(INCPER,NAME,RELATE,ACT,DGDEP,DGMTI,DGMTACT,CNT) ;
"RTN","EASECDP0",46,0)
 ;
"RTN","EASECDP0",47,0)
 I $G(DGMTI),$G(DGMTACT)="VEW" G DEP1
"RTN","EASECDP0",48,0)
 I $G(DGMTI),$P(ACT,U,2),$G(DGMTACT)="ADD",'$G(DGREMOVE) D ADD^EASECDP2(DFN,DGDEP,DGMTI)
"RTN","EASECDP0",49,0)
DEP1 I RELATE=2 D SELF^EASECDP3(INCPER,NAME,RELATE,ACT,$G(DGMTI),CNT) G DEPQ
"RTN","EASECDP0",50,0)
 I INCPER D CHILD^EASECDP3(INCPER,NAME,RELATE,ACT,$G(DGMTI),$G(DGMTACT),CNT)
"RTN","EASECDP0",51,0)
DEPQ Q
"RTN","EASECDP1")
0^4^B8986731
"RTN","EASECDP1",1,0)
EASECDP1 ;ALB/LBD List One Dependent/Edit Effective Dates ;22 AUG 2001
"RTN","EASECDP1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDP1",3,0)
 ;
"RTN","EASECDP1",4,0)
LSTDEP(DGDEP) ;List Depentdents
"RTN","EASECDP1",5,0)
 N DEP,CNT S CNT=0
"RTN","EASECDP1",6,0)
 F  S CNT=$O(DGDEP(CNT)) Q:'CNT  D ONE(CNT)
"RTN","EASECDP1",7,0)
 Q
"RTN","EASECDP1",8,0)
 ;
"RTN","EASECDP1",9,0)
ONE(CNT) ; List one dependent
"RTN","EASECDP1",10,0)
 ;
"RTN","EASECDP1",11,0)
 N DGLN S DGLN=1
"RTN","EASECDP1",12,0)
 ;
"RTN","EASECDP1",13,0)
 S X="",X=$$SETSTR^VALM1("SSN: ",X,4,5)
"RTN","EASECDP1",14,0)
 S X=$$SETSTR^VALM1($P(DGDEP(CNT),U,5),X,9,24)
"RTN","EASECDP1",15,0)
 S X=$$SETSTR^VALM1("Sex: ",X,52,5)
"RTN","EASECDP1",16,0)
 S X=$$SETSTR^VALM1($P(DGDEP(CNT),U,3),X,58,7)
"RTN","EASECDP1",17,0)
 D SET(X)
"RTN","EASECDP1",18,0)
 ;
"RTN","EASECDP1",19,0)
 S X="",X=$$SETSTR^VALM1("DOB: ",X,4,5)
"RTN","EASECDP1",20,0)
 S X=$$SETSTR^VALM1($P(DGDEP(CNT),U,4),X,9,24)
"RTN","EASECDP1",21,0)
 D SET(X)
"RTN","EASECDP1",22,0)
 ;
"RTN","EASECDP1",23,0)
 S DEP=""
"RTN","EASECDP1",24,0)
 F  S DEP=$O(DGDEP(CNT,DEP)) Q:DEP']""  D
"RTN","EASECDP1",25,0)
 .S X="",X=$$SETSTR^VALM1("Status: ",X,1,8)
"RTN","EASECDP1",26,0)
 .S X=$$SETSTR^VALM1($P(DGDEP(CNT,DEP),U,2),X,9,24)
"RTN","EASECDP1",27,0)
 .S X=$$SETSTR^VALM1("Effective Date: ",X,41,16)
"RTN","EASECDP1",28,0)
 .S X=$$SETSTR^VALM1($P(DGDEP(CNT,DEP),U),X,58,20)
"RTN","EASECDP1",29,0)
 .D SET(X)
"RTN","EASECDP1",30,0)
 .D SET("")
"RTN","EASECDP1",31,0)
 S VALMCNT=DGLN-1
"RTN","EASECDP1",32,0)
 Q
"RTN","EASECDP1",33,0)
 ;
"RTN","EASECDP1",34,0)
SET(X) ;Set up array
"RTN","EASECDP1",35,0)
 S ^TMP("DGMTEP",$J,DGLN,0)=X
"RTN","EASECDP1",36,0)
 S DGLN=DGLN+1
"RTN","EASECDP1",37,0)
 Q
"RTN","EASECDP1",38,0)
 ;
"RTN","EASECDP1",39,0)
EXIT ;
"RTN","EASECDP1",40,0)
 K ^TMP("DGMTEP",$J)
"RTN","EASECDP1",41,0)
 Q
"RTN","EASECDP1",42,0)
 ;
"RTN","EASECDP1",43,0)
EN ; Effective Dates
"RTN","EASECDP1",44,0)
 S VALMBCK=""
"RTN","EASECDP1",45,0)
 I $D(DGMTI),$G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G ENQ
"RTN","EASECDP1",46,0)
 I '$D(DGMTI),$G(DGRPV)=1 W !,"Not while viewing" H 2 G ENQ
"RTN","EASECDP1",47,0)
 D EDIT
"RTN","EASECDP1",48,0)
 I DGW=1 D  I $G(DGERR) W !,"Cannot inactivate veteran" K DGERR G EN
"RTN","EASECDP1",49,0)
 .S DATE=$O(DGDEP(1,""))
"RTN","EASECDP1",50,0)
 .S ACTIVE=$P(DGDEP(1,DATE),U,2)
"RTN","EASECDP1",51,0)
 .I ACTIVE="Inactive" S DGERR=1
"RTN","EASECDP1",52,0)
ENQ S VALMBCK="R"
"RTN","EASECDP1",53,0)
 Q
"RTN","EASECDP1",54,0)
 ;
"RTN","EASECDP1",55,0)
EDIT ; Edit Effective Dates
"RTN","EASECDP1",56,0)
 ;  values for DGFLG:
"RTN","EASECDP1",57,0)
 ;     DGFLG = 1   IVM effective date
"RTN","EASECDP1",58,0)
 ;
"RTN","EASECDP1",59,0)
 N DA,DR,DIE,DIC,DATE,DGEDIT,DGEE,Y
"RTN","EASECDP1",60,0)
 S DGFLG=0,DGEDIT=1
"RTN","EASECDP1",61,0)
 S DGPR=$S($G(DGW):$P(DGDEP(DGW),U,20),1:$P(DGDEP,U,20))
"RTN","EASECDP1",62,0)
 S DIE="^DGPR(408.12,",DA=DGPR,DR="75"
"RTN","EASECDP1",63,0)
 S DR(2,408.1275)="I $P($G(^DGPR(408.12,DGPR,""E"",DA,0)),U,3) S Y=0,DGFLG=1;S:$P($G(^DGPR(408.12,DGPR,""E"",DA,0)),U,2)']"""" DIE(""NO^"")="""";.01;.02"
"RTN","EASECDP1",64,0)
 D ^DIE
"RTN","EASECDP1",65,0)
 I DGFLG W !!,"Cannot edit date added by IVM." H 2 G EDITQ
"RTN","EASECDP1",66,0)
 S DATE=0,DATE=$O(^DGPR(408.12,$P(DGDEP(DGW),U,20),"E",DATE))
"RTN","EASECDP1",67,0)
 I 'DATE W !!,"There has to be an effective date for this person." H 2 G EDIT
"RTN","EASECDP1",68,0)
EDITQ K DGDEP,DGFLG D INIT^EASECDEP
"RTN","EASECDP1",69,0)
 K ^TMP("DGMTEP",$J) D ONE(DGW)
"RTN","EASECDP1",70,0)
 Q
"RTN","EASECDP1",71,0)
 ;
"RTN","EASECDP1",72,0)
DOB(DA,X) ;CHECK EFFECTIVE DATE AGAINST DOB
"RTN","EASECDP1",73,0)
 N DGFILE,X1
"RTN","EASECDP1",74,0)
 S DGFILE=$P($G(^DGPR(408.12,DA,0)),U,3),X1=$P(DGFILE,";"),DGFILE=$S(DGFILE["DGPR":"^DGPR(408.13,",1:"^DPT(")
"RTN","EASECDP1",75,0)
 I X<$P($G(@(DGFILE_X1_",0)")),U,3) D
"RTN","EASECDP1",76,0)
 . W !,"  <<EFFECTIVE DATE may not precede Date Of Birth>>",$C(7)
"RTN","EASECDP1",77,0)
 . S X=0
"RTN","EASECDP1",78,0)
 Q X
"RTN","EASECDP2")
0^5^B21522203
"RTN","EASECDP2",1,0)
EASECDP2 ;ALB/LBD Dependent Utilities ;19 AUG 2001
"RTN","EASECDP2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDP2",3,0)
 ;
"RTN","EASECDP2",4,0)
 ; NOTE: This routine was modified from DGDEP2 for LTC Co-pay
"RTN","EASECDP2",5,0)
 ;
"RTN","EASECDP2",6,0)
EN1 ; Add dependent to means test
"RTN","EASECDP2",7,0)
 ;
"RTN","EASECDP2",8,0)
 N DGSAVE,DGMTD,DGSAVE1
"RTN","EASECDP2",9,0)
 I '$G(DGMTI),$G(DGMTYPT)'=3 W !,"Not a LTC co-pay test - use LTC co-pay test options." H 2 G EN1Q
"RTN","EASECDP2",10,0)
 I $G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G EN1Q
"RTN","EASECDP2",11,0)
 S VALMBCK="",DGSAVE=VALMLST,DGSAVE1=VALMBG
"RTN","EASECDP2",12,0)
 S VALMBG=1,VALMLST=DGCNT D SEL^VALM2 S VALMBG=DGSAVE1,VALMLST=DGSAVE G EN1Q:'$O(VALMY(0))
"RTN","EASECDP2",13,0)
 N CTR S CTR=0 F  S CTR=$O(VALMY(CTR)) Q:'CTR  D
"RTN","EASECDP2",14,0)
 .D ADD(DFN,DGDEP(CTR),$G(DGMTI))
"RTN","EASECDP2",15,0)
 S DGMTD=$S($G(DGMTI):$P(^DGMT(408.31,DGMTI,0),U),1:DT)
"RTN","EASECDP2",16,0)
 D ALL^EASECU21(DFN,"VSC",DGMTD,"IPR",DGMTI)
"RTN","EASECDP2",17,0)
 K DGDEP D INIT^EASECDEP
"RTN","EASECDP2",18,0)
EN1Q S VALMBCK="R" Q
"RTN","EASECDP2",19,0)
 ;
"RTN","EASECDP2",20,0)
ADD(DFN,DGDEP,DGMTI) ;Add
"RTN","EASECDP2",21,0)
 N DA,DR,DIE,DGMTD,DGIRI
"RTN","EASECDP2",22,0)
 I '$G(DGMTI),$G(DGMTYPT)'=3 W !,"Not a LTC co-pay test - use LTC co-pay test options." H 2 G ADDQ
"RTN","EASECDP2",23,0)
 I $G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." G ADDQ
"RTN","EASECDP2",24,0)
 S DGMTR=$O(^DG(408.11,"B",$P(DGDEP,U,2),"")) I '$P(^DG(408.11,DGMTR,0),U,4) D  G ADDQ
"RTN","EASECDP2",25,0)
 .W !,"Cannot add a "_$P(DGDEP,U,2)_" as a dependent to the LTC co-pay test." H 2
"RTN","EASECDP2",26,0)
 S DGMTD=$S($G(DGMTI):$P($G(^DGMT(408.31,DGMTI,0)),U),1:DT)
"RTN","EASECDP2",27,0)
 D GETIENS^EASECU2(DFN,$P(DGDEP,U,20),DGMTD)
"RTN","EASECDP2",28,0)
 S DA=DGIRI
"RTN","EASECDP2",29,0)
 S DIE="^DGMT(408.22,",DR="31////"_DGMTI
"RTN","EASECDP2",30,0)
 D ^DIE
"RTN","EASECDP2",31,0)
ADDQ Q
"RTN","EASECDP2",32,0)
 ;
"RTN","EASECDP2",33,0)
EN2 ; Remove dependent from means test
"RTN","EASECDP2",34,0)
 ;
"RTN","EASECDP2",35,0)
 N DGSAVE1,DGSAVE2,DGMTD
"RTN","EASECDP2",36,0)
 I '$G(DGMTI),$G(DGMTYPT)'=3 W !,"Not a LTC co-pay test - use LTC co-pay test options." H 2 G EN2Q
"RTN","EASECDP2",37,0)
 I $G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G EN2Q
"RTN","EASECDP2",38,0)
 S VALMBCK="",DGSAVE1=VALMBG,DGSAVE2=VALMLST,VALMBG=2
"RTN","EASECDP2",39,0)
 S VALMLST=DGCNT D SEL^VALM2 S VALMBG=DGSAVE1,VALMLST=DGSAVE2 G EN1Q:'$O(VALMY(0))
"RTN","EASECDP2",40,0)
 N CTR S CTR=0 F  S CTR=$O(VALMY(CTR)) Q:'CTR  D
"RTN","EASECDP2",41,0)
 .D REMOVE(DFN,DGDEP(CTR),$G(DGMTI))
"RTN","EASECDP2",42,0)
 S DGMTD=$S($G(DGMTI):$P(^DGMT(408.31,DGMTI,0),U),1:DT)
"RTN","EASECDP2",43,0)
 D ALL^EASECU21(DFN,"VSC",DGMTD,"IPR",DGMTI)
"RTN","EASECDP2",44,0)
EN2Q S VALMBCK="R" Q
"RTN","EASECDP2",45,0)
 ;
"RTN","EASECDP2",46,0)
REMOVE(DFN,DGDEP,DGMTI) ;Remove
"RTN","EASECDP2",47,0)
 N DA,DR,DIE,DGMTD
"RTN","EASECDP2",48,0)
 I '$G(DGMTI),$G(DGMTYPT)'=3 W !,"Not a LTC co-pay test - use LTC co-pay test options." H 2 G REMOVEQ
"RTN","EASECDP2",49,0)
 I $G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G EN2Q
"RTN","EASECDP2",50,0)
 S DGMTD=$S($G(DGMTI):$P($G(^DGMT(408.31,DGMTI,0)),U),1:DT)
"RTN","EASECDP2",51,0)
 D GETIENS^EASECU2(DFN,$P(DGDEP,U,20),DGMTD)
"RTN","EASECDP2",52,0)
 S DA=DGIRI
"RTN","EASECDP2",53,0)
 S DIE="^DGMT(408.22,",DR="31////@"
"RTN","EASECDP2",54,0)
 D ^DIE S DGREMOVE=1
"RTN","EASECDP2",55,0)
 K DGDEP D INIT^EASECDEP
"RTN","EASECDP2",56,0)
REMOVEQ K DGREMOVE Q
"RTN","EASECDP2",57,0)
 ;
"RTN","EASECDP2",58,0)
EN3 ; Edit dependent demo
"RTN","EASECDP2",59,0)
 ;
"RTN","EASECDP2",60,0)
 S VALMBCK=""
"RTN","EASECDP2",61,0)
 N DGSAVE1,DGSAVE2,DGMTD,DGBEG,I
"RTN","EASECDP2",62,0)
 I $G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G EN3Q
"RTN","EASECDP2",63,0)
 I '$D(DGMTI),$G(DGRPV)=1 W !,"Not while viewing" H 2 G EN3Q
"RTN","EASECDP2",64,0)
 S VALMBCK="",DGSAVE1=VALMBG,DGSAVE2=VALMLST,VALMBG=1
"RTN","EASECDP2",65,0)
 S VALMLST=DGCNT D SEL^VALM2 S VALMBG=DGSAVE1,VALMLST=DGSAVE2 G EN1Q:'$O(VALMY(0))
"RTN","EASECDP2",66,0)
 N CTR S CTR=0 F  S CTR=$O(VALMY(CTR)) Q:'CTR  D
"RTN","EASECDP2",67,0)
 .D EDITD(DFN,DGDEP(CTR),CTR,$G(DGMTI))
"RTN","EASECDP2",68,0)
 S VALMBCK="R"
"RTN","EASECDP2",69,0)
 K DGDEP D INIT^EASECDEP
"RTN","EASECDP2",70,0)
EN3Q Q
"RTN","EASECDP2",71,0)
 ;
"RTN","EASECDP2",72,0)
EDITD(DFN,DGDEP,DGW,DGMTI) ; Edit
"RTN","EASECDP2",73,0)
 N DA,DR,DIE,DGMTDT,SPOUSE,DGREL,DGDR,CNT,RELATION
"RTN","EASECDP2",74,0)
 I $G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G EDITDQ
"RTN","EASECDP2",75,0)
 W !!,$P(DGDEP,U)
"RTN","EASECDP2",76,0)
 I '$G(DGMTI),$P(DGDEP,U,2)="SELF" D  G EDITDQ
"RTN","EASECDP2",77,0)
 .S DGREL("V")=$P(DGDEP,U,20) D SPOUSE^EASECED2
"RTN","EASECDP2",78,0)
 I '$G(DGMTI) W !,"Can only input information for veteran." H 2 G EN3Q
"RTN","EASECDP2",79,0)
 S DGMTDT=$P(^DGMT(408.31,DGMTI,0),U)
"RTN","EASECDP2",80,0)
 I $P(DGDEP,U,2)="SPOUSE" W !,"Married information is entered under the veteran." H 2 G EDITDQ
"RTN","EASECDP2",81,0)
 I $P(DGDEP,U,2)="SELF" D  G EDITDQ
"RTN","EASECDP2",82,0)
 .S DGDR=101
"RTN","EASECDP2",83,0)
 .D GETREL^DGMTU11(DFN,"S",$S($G(DGMTDT):DGMTDT,1:DT))
"RTN","EASECDP2",84,0)
 .S DA=DGVIRI,DIE="^DGMT(408.22,",DR="[EASEC EDIT MARITAL STATUS]" D ^DIE K DA,DIE,DR
"RTN","EASECDP2",85,0)
 .I $G(DGMTI),$G(DGREL("S")) D
"RTN","EASECDP2",86,0)
 ..S SPOUSE=+DGREL("S")
"RTN","EASECDP2",87,0)
 ..D INIT^EASECDEP
"RTN","EASECDP2",88,0)
 ..S CNT=0 F  S CNT=$O(DGDEP(CNT)) Q:'CNT  I $P(DGDEP(CNT),U,20)=SPOUSE D ADD(DFN,DGDEP(CNT),DGMTI)
"RTN","EASECDP2",89,0)
 S RELATION=$O(^DG(408.11,"B",$P(DGDEP,U,2),""))
"RTN","EASECDP2",90,0)
 I '$P(^DG(408.11,+RELATION,0),U,4) W !,"Not applicable for LTC co-pay test" H 2 G EDITDQ
"RTN","EASECDP2",91,0)
 S DGPRI=$P(DGDEP,U,20)
"RTN","EASECDP2",92,0)
 D EDT
"RTN","EASECDP2",93,0)
 I $G(DGFL)'<0 D ADD(DFN,DGDEP,DGMTI)
"RTN","EASECDP2",94,0)
EDITDQ ;
"RTN","EASECDP2",95,0)
 Q
"RTN","EASECDP2",96,0)
 ;
"RTN","EASECDP2",97,0)
EDT ;Edit dependent child data
"RTN","EASECDP2",98,0)
 ; NOTE: this code was modified from DGMTSC11
"RTN","EASECDP2",99,0)
 N DA,DGERR,DGFIN,DGINI,DGIRI,DIE,DR
"RTN","EASECDP2",100,0)
 D GETIENS^EASECU2(DFN,+DGPRI,DGMTDT) G EDTQ:DGERR
"RTN","EASECDP2",101,0)
 S DA=DGIRI,DIE="^DGMT(408.22,",DR="[EASEC EDIT DEPENDENTS]" D ^DIE
"RTN","EASECDP2",102,0)
 S:'$D(DGFIN) DGFL=$S($D(DTOUT):-2,$D(DUOUT):-1,($D(Y))=10:-1,1:0)
"RTN","EASECDP2",103,0)
EDTQ Q
"RTN","EASECDP3")
0^6^B7484740
"RTN","EASECDP3",1,0)
EASECDP3 ;ALB/LBD - Dependents display ; 20 AUG 2001
"RTN","EASECDP3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDP3",3,0)
 ;NOTE: This routine was modified from DGDEP3 for LTC co-pay
"RTN","EASECDP3",4,0)
 ;
"RTN","EASECDP3",5,0)
SELF(INCPER,NAME,RELATE,ACT,DGMTI,CNT) ; Display information concerning veteran
"RTN","EASECDP3",6,0)
 ;
"RTN","EASECDP3",7,0)
 S DGX="",DGX=$$SETSTR^VALM1(CNT,DGX,3,3)
"RTN","EASECDP3",8,0)
 I $G(DGMTI),INCPER,($P($G(^DGMT(408.22,+INCPER,"MT")),U)=DGMTI) S DGX=$$SETSTR^VALM1("*",DGX,5,1)
"RTN","EASECDP3",9,0)
 S DGX=$$SETSTR^VALM1(NAME,DGX,9,22)
"RTN","EASECDP3",10,0)
 S DGX=$$SETSTR^VALM1($P($G(^DG(408.11,RELATE,0)),U),DGX,32,30)
"RTN","EASECDP3",11,0)
 S DGX=$$SETSTR^VALM1($S($P(ACT,U,2)=1:"*",1:""),DGX,65,1)
"RTN","EASECDP3",12,0)
 D SET^EASECDEP(DGX)
"RTN","EASECDP3",13,0)
 ;
"RTN","EASECDP3",14,0)
 Q:RELATE=2
"RTN","EASECDP3",15,0)
 S INCPER=^DGMT(408.22,INCPER,0)
"RTN","EASECDP3",16,0)
 S DGX="",DGX=$$SETSTR^VALM1("Married This Year: ",DGX,18,19)
"RTN","EASECDP3",17,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,14):"Yes",$P(INCPER,U,14)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","EASECDP3",18,0)
 D SET^EASECDEP(DGX)
"RTN","EASECDP3",19,0)
 ;
"RTN","EASECDP3",20,0)
 Q:'$G(DGMTI)
"RTN","EASECDP3",21,0)
 I $P(INCPER,U,14)=1 D
"RTN","EASECDP3",22,0)
 .S DGX="",DGX=$$SETSTR^VALM1("Spouse Residing in Community: ",DGX,7,30)
"RTN","EASECDP3",23,0)
 .S DGX=$$SETSTR^VALM1($S($P(INCPER,U,16):"Yes",$P(INCPER,U,16)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","EASECDP3",24,0)
 .D SET^EASECDEP(DGX)
"RTN","EASECDP3",25,0)
 .Q:$P(INCPER,U,16)=0
"RTN","EASECDP3",26,0)
 .S DGX="",DGX=$$SETSTR^VALM1("Living with Spouse: ",DGX,17,20)
"RTN","EASECDP3",27,0)
 .S DGX=$$SETSTR^VALM1($S($P(INCPER,U,15):"Yes",$P(INCPER,U,15)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","EASECDP3",28,0)
 .D SET^EASECDEP(DGX)
"RTN","EASECDP3",29,0)
 ;
"RTN","EASECDP3",30,0)
 Q
"RTN","EASECDP3",31,0)
 ;
"RTN","EASECDP3",32,0)
CHILD(INCPER,NAME,RELATE,ACT,DGMTI,DGMTACT,CNT) ; Display information concerning dependents
"RTN","EASECDP3",33,0)
 ;
"RTN","EASECDP3",34,0)
 S DGX="",DGX=$$SETSTR^VALM1(CNT,DGX,3,3)
"RTN","EASECDP3",35,0)
 I $G(DGMTI),INCPER,($P($G(^DGMT(408.22,+INCPER,"MT")),U)=DGMTI) S DGX=$$SETSTR^VALM1("*",DGX,5,1)
"RTN","EASECDP3",36,0)
 S DGX=$$SETSTR^VALM1(NAME,DGX,9,22)
"RTN","EASECDP3",37,0)
 S DGX=$$SETSTR^VALM1($P($G(^DG(408.11,RELATE,0)),U),DGX,32,30)
"RTN","EASECDP3",38,0)
 S DGX=$$SETSTR^VALM1($S($P(ACT,U,2)=1:"*",1:""),DGX,65,1)
"RTN","EASECDP3",39,0)
 D SET^EASECDEP(DGX)
"RTN","EASECDP3",40,0)
 ;
"RTN","EASECDP3",41,0)
 Q:'$G(DGMTI)!('$P($G(^DG(408.11,RELATE,0)),U,4))
"RTN","EASECDP3",42,0)
 S INCPER=^DGMT(408.22,INCPER,0)
"RTN","EASECDP3",43,0)
 S DGX="",DGX=$$SETSTR^VALM1("Dependent Residing in Community: ",DGX,4,33)
"RTN","EASECDP3",44,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,16):"Yes",$P(INCPER,U,16)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","EASECDP3",45,0)
 D SET^EASECDEP(DGX)
"RTN","EASECDP3",46,0)
 G:$P(INCPER,U,16)=0 CHILDQ
"RTN","EASECDP3",47,0)
 S DGX="",DGX=$$SETSTR^VALM1("Dependent Living with You: ",DGX,10,27)
"RTN","EASECDP3",48,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,15):"Yes",$P(INCPER,U,15)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","EASECDP3",49,0)
 D SET^EASECDEP(DGX)
"RTN","EASECDP3",50,0)
CHILDQ Q
"RTN","EASECDP4")
0^7^B13788503
"RTN","EASECDP4",1,0)
EASECDP4 ;ALB/LBD - Dependents Utilities (con't) ;19 AUG 2001
"RTN","EASECDP4",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDP4",3,0)
 ; NOTE: This routine was modified from DGDEP4 for LTC Co-pay
"RTN","EASECDP4",4,0)
 ;
"RTN","EASECDP4",5,0)
EN ; Spouse Demographics
"RTN","EASECDP4",6,0)
 N BEG,CNT,END,FLAG,QUIT,DGERR S CNT=0
"RTN","EASECDP4",7,0)
 I $G(DGMTI),$G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G ENQ
"RTN","EASECDP4",8,0)
 I '$D(DGMTI),$G(DGRPV)=1 W !,"Not while viewing" H 2 G ENQ
"RTN","EASECDP4",9,0)
 F  S CNT=$O(DGDEP(CNT)) Q:'CNT  D
"RTN","EASECDP4",10,0)
 .I $P(DGDEP(CNT),U,2)="SPOUSE" S FLAG=$G(FLAG)+1
"RTN","EASECDP4",11,0)
 I '$G(FLAG) W !,"There is no spouse to choose from." H 2 G ENQ
"RTN","EASECDP4",12,0)
 I $G(FLAG)>1 D  G:'$G(DGERR) EN1
"RTN","EASECDP4",13,0)
 .S BEG=2,END=FLAG+1 D SEL^DGDEPU Q:$G(DGERR)
"RTN","EASECDP4",14,0)
 .S DGREL("S")=$P(DGDEP(DGW),U,20)_U_$P(^DGPR(408.12,+$P(DGDEP(DGW),U,20),0),U,3)
"RTN","EASECDP4",15,0)
 I $G(DGERR) G ENQ
"RTN","EASECDP4",16,0)
 I '$G(DGREL("S")) S DGREL("S")=$P(DGDEP(2),U,20)_U_$P(^DGPR(408.12,+$P(DGDEP(2),U,20),0),U,3)
"RTN","EASECDP4",17,0)
EN1 S DGPRI=$P(DGDEP(1),U,20),DGIRI=$P(DGDEP(1),U,22) D SPOUSE1^EASECSC3
"RTN","EASECDP4",18,0)
ENQ D INIT^EASECDEP
"RTN","EASECDP4",19,0)
 Q
"RTN","EASECDP4",20,0)
 ;
"RTN","EASECDP4",21,0)
 ;
"RTN","EASECDP4",22,0)
ADDEP ; Add a new dependent
"RTN","EASECDP4",23,0)
 ;
"RTN","EASECDP4",24,0)
 N DGANS
"RTN","EASECDP4",25,0)
 S VALMBCK=""
"RTN","EASECDP4",26,0)
 I $G(DGMTI),$G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G ADDEPQ
"RTN","EASECDP4",27,0)
 I '$D(DGMTI),$G(DGRPV)=1 W !,"Not while viewing" H 2 G ADDEPQ
"RTN","EASECDP4",28,0)
 S DIR(0)="S^S:Spouse;D:Dependent",DIR("A")="Do you want to add (S)pouse or (D)ependent"
"RTN","EASECDP4",29,0)
 D ^DIR S DGANS=Y K DIR,Y I DGANS="D",$G(DGMTI) S DGANS="C"
"RTN","EASECDP4",30,0)
 I $D(DIRUT) G ADDEPQ
"RTN","EASECDP4",31,0)
 D GETREL^DGMTU11(DFN,"S",$S($G(DGMTD):DGMTD,1:DT))
"RTN","EASECDP4",32,0)
 I DGANS="S",$G(DGREL("S")) W !,"An active spouse is currently on file.  Use the 'ES - Edit Spouse'",!,"action to edit." H 3 G ADDEPQ
"RTN","EASECDP4",33,0)
 I DGANS="S",$G(DGMTI) S CNT=0 F  S CNT=$O(DGDEP(CNT)) Q:'CNT  I $P(DGDEP(CNT),U,2)="SPOUSE" D REMOVE^EASECDP2(DFN,DGDEP(CNT),DGMTI)
"RTN","EASECDP4",34,0)
 D CLEAR^VALM1
"RTN","EASECDP4",35,0)
 D ADD^EASECED(DFN,DGANS,$S($G(DGMTI):$P(^DGMT(408.31,DGMTI,0),U),1:DT))
"RTN","EASECDP4",36,0)
 S PERSON=DGPRI
"RTN","EASECDP4",37,0)
 I DGFL=-1!(DGFL=-2) G ADDEPQ
"RTN","EASECDP4",38,0)
 D INIT^EASECDEP
"RTN","EASECDP4",39,0)
 I $G(DGMTI) D
"RTN","EASECDP4",40,0)
 .N CNT
"RTN","EASECDP4",41,0)
 .S CNT=0
"RTN","EASECDP4",42,0)
 .F  S CNT=$O(DGDEP(CNT)) Q:'CNT  I $P(DGDEP(CNT),U,20)=PERSON D
"RTN","EASECDP4",43,0)
 ..D ADD^EASECDP2(DFN,DGDEP(CNT),DGMTI)
"RTN","EASECDP4",44,0)
 ..D EDITD^EASECDP2(DFN,DGDEP(CNT),CNT,DGMTI)
"RTN","EASECDP4",45,0)
ADDEPQ S VALMBCK="R"
"RTN","EASECDP4",46,0)
 D INIT^EASECDEP
"RTN","EASECDP4",47,0)
 K DGFL Q
"RTN","EASECDP4",48,0)
 ;
"RTN","EASECDP4",49,0)
EDITDEP ; Edit dependent demo
"RTN","EASECDP4",50,0)
 ;
"RTN","EASECDP4",51,0)
 S VALMBCK=""
"RTN","EASECDP4",52,0)
 N DGSAVE1,DGSAVE2,DGMTD,DGBEG,I
"RTN","EASECDP4",53,0)
 I $G(DGMTI),$G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G EDITDEPQ
"RTN","EASECDP4",54,0)
 I '$D(DGMTI),$G(DGRPV)=1 W !,"Not while viewing" H 2 G EDITDEPQ
"RTN","EASECDP4",55,0)
 S I=0 F  S I=$O(DGDEP(I)) Q:'I!($G(DGBEG))  I $P(DGDEP(I),U,2)'="SELF",$P(DGDEP(I),U,2)'="SPOUSE" S DGBEG=I
"RTN","EASECDP4",56,0)
 S VALMBCK="",DGSAVE1=VALMBG,DGSAVE2=VALMLST,VALMBG=$S($G(DGBEG):DGBEG,1:0)
"RTN","EASECDP4",57,0)
 S VALMLST=DGCNT D SEL^VALM2 S VALMBG=DGSAVE1,VALMLST=DGSAVE2 G EDITDEPQ:'$O(VALMY(0))
"RTN","EASECDP4",58,0)
 N CTR S CTR=0 F  S CTR=$O(VALMY(CTR)) Q:'CTR  D
"RTN","EASECDP4",59,0)
 .D EDITC(DFN,DGDEP(CTR),CTR,$G(DGMTI))
"RTN","EASECDP4",60,0)
EDITDEPQ S VALMBCK="R"
"RTN","EASECDP4",61,0)
 K DGDEP D INIT^EASECDEP
"RTN","EASECDP4",62,0)
 Q
"RTN","EASECDP4",63,0)
 ;
"RTN","EASECDP4",64,0)
EDITC(DFN,DGDEP,DGW,DGMTI) ; Edit
"RTN","EASECDP4",65,0)
 N DA,DR,DIE,DGMTDT,DEP,DGSAVE
"RTN","EASECDP4",66,0)
 S DGMTDT=$S($G(DGMTI):$P(^DGMT(408.31,+DGMTI,0),U),1:DT)
"RTN","EASECDP4",67,0)
 I $G(DGMTI),$G(DGMTACT)="VEW" W !,"Cannot edit when viewing a LTC co-pay test." H 2 G EDITCQ
"RTN","EASECDP4",68,0)
 S DEP=$S($G(DGMTI):"C",1:"D"),DGSAVE=DGDEP
"RTN","EASECDP4",69,0)
 D GETREL^DGMTU11(DFN,DEP,$S($G(DGMTDT):DGMTDT,1:DT),$G(DGMTI))
"RTN","EASECDP4",70,0)
 S DGDEP=DGSAVE
"RTN","EASECDP4",71,0)
 N CNTR
"RTN","EASECDP4",72,0)
 S CNTR=0
"RTN","EASECDP4",73,0)
 F  S CNTR=$O(DGREL(DEP,CNTR)) Q:'CNTR  I $P(DGDEP,U,20)=+DGREL(DEP,CNTR) D
"RTN","EASECDP4",74,0)
 .D EDIT^EASECED(DGREL(DEP,CNTR),DEP)
"RTN","EASECDP4",75,0)
EDITCQ ;
"RTN","EASECDP4",76,0)
 K ^TMP("DGMTEP",$J)
"RTN","EASECDP4",77,0)
 Q
"RTN","EASECDPE")
0^8^B1604540
"RTN","EASECDPE",1,0)
EASECDPE ;ALB/LBD - Dependents Extended Display ;22 AUG 2001
"RTN","EASECDPE",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDPE",3,0)
 ;
"RTN","EASECDPE",4,0)
EN ; Selection of dependent
"RTN","EASECDPE",5,0)
 G ENQ:'$D(DGW)!$G(DGERR)=1
"RTN","EASECDPE",6,0)
 K DGDEP("DGMTEP",$J)
"RTN","EASECDPE",7,0)
 S VALMBCK=""
"RTN","EASECDPE",8,0)
 N DGWIDTH,DGPT,DGSC
"RTN","EASECDPE",9,0)
 W ! D WAIT^DICD,EN^VALM("EASEC EXPAND PROFILE")
"RTN","EASECDPE",10,0)
ENQ S VALMBCK="R" Q
"RTN","EASECDPE",11,0)
 ;
"RTN","EASECDPE",12,0)
HDR ; Header
"RTN","EASECDPE",13,0)
 N VA,VAERR
"RTN","EASECDPE",14,0)
 D PID^VADPT
"RTN","EASECDPE",15,0)
 S VALMHDR(1)=$E($P("Patient: "_$G(^DPT(DFN,0)),"^",1),1,30)_" ("_VA("BID")_")"
"RTN","EASECDPE",16,0)
 S X=$S($D(^DPT(DFN,.1)):"Ward: "_^(.1),1:"Outpatient")
"RTN","EASECDPE",17,0)
 S VALMHDR(1)=$$SETSTR^VALM1(X,VALMHDR(1),81-$L(X),$L(X))
"RTN","EASECDPE",18,0)
 S X="",VALMHDR(2)=$$SETSTR^VALM1(X,"Dependent #: "_DGW_" "_$P(DGDEP(DGW),U)_"("_$P(DGDEP(DGW),U,2)_")",81-$L(X),$L(X))
"RTN","EASECDPE",19,0)
 Q
"RTN","EASECDPE",20,0)
 ;
"RTN","EASECDPE",21,0)
INIT ;
"RTN","EASECDPE",22,0)
 N VA,VAERR,DGFSTCOL,DGSECCOL
"RTN","EASECDPE",23,0)
 D PID^VADPT
"RTN","EASECDPE",24,0)
 D ONE^EASECDP1(DGW)
"RTN","EASECDPE",25,0)
 Q
"RTN","EASECDPE",26,0)
 ;
"RTN","EASECDPE",27,0)
FNL ;
"RTN","EASECDPE",28,0)
 D CLEAN^VALM10
"RTN","EASECDPE",29,0)
 Q
"RTN","EASECDPH")
0^9^B12873324
"RTN","EASECDPH",1,0)
EASECDPH ;ALB/LBD - LTC Co-pay Test Dependent - Help ;22 AUG 2001
"RTN","EASECDPH",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECDPH",3,0)
 ;NOTE: This routine was modified from DGDEPH for LTC Co-pay
"RTN","EASECDPH",4,0)
 ;
"RTN","EASECDPH",5,0)
HLP ; -- help for list
"RTN","EASECDPH",6,0)
 N DGX
"RTN","EASECDPH",7,0)
 I $D(X),X'["??" D HLPS G HLPQ
"RTN","EASECDPH",8,0)
 D CLEAR^VALM1
"RTN","EASECDPH",9,0)
 F I=1:1 S DGX=$P($T(@VAR+I),";",3,99) Q:DGX="$END"  D PAUSE^VALM1:DGX="$PAUSE" Q:'Y  W !,$S(DGX["$PAUSE":"",1:DGX)
"RTN","EASECDPH",10,0)
HLPQ S VALMBCK="R" K SDX,Y S X="" Q
"RTN","EASECDPH",11,0)
 ;
"RTN","EASECDPH",12,0)
HLPS ; -- short help
"RTN","EASECDPH",13,0)
 S X="?" W !,"Enter action by typing the name or the abbreviation.",! Q
"RTN","EASECDPH",14,0)
 ;
"RTN","EASECDPH",15,0)
HELPTXT ; -- help text
"RTN","EASECDPH",16,0)
 ;;Enter action by typing the name or abbreviation.
"RTN","EASECDPH",17,0)
 ;;
"RTN","EASECDPH",18,0)
 ;;DA - Spouse/Dependent Add (Not available when viewing)
"RTN","EASECDPH",19,0)
 ;;  This allows the user to add a new dependent.  The dependent can
"RTN","EASECDPH",20,0)
 ;;  either be a spouse or other dependents.  It will ask the LTC
"RTN","EASECDPH",21,0)
 ;;  co-pay test information questions if the dependent is added when
"RTN","EASECDPH",22,0)
 ;;  adding or editing a LTC co-pay test.
"RTN","EASECDPH",23,0)
 ;;
"RTN","EASECDPH",24,0)
 ;;ES - Edit Spouse Demographics (Not available when viewing)
"RTN","EASECDPH",25,0)
 ;;  This allows the user to edit the demographics related to the spouse.
"RTN","EASECDPH",26,0)
 ;;  e.g. Name, DOB, SSN, etc.
"RTN","EASECDPH",27,0)
 ;;
"RTN","EASECDPH",28,0)
 ;;DD - Edit Dependent Demographics (Not available when viewing)
"RTN","EASECDPH",29,0)
 ;;  This allows the user to edit the demographics related to dependents.
"RTN","EASECDPH",30,0)
 ;;  e.g. Name, DOB, SSN, etc.
"RTN","EASECDPH",31,0)
 ;;
"RTN","EASECDPH",32,0)
 ;;$PAUSE
"RTN","EASECDPH",33,0)
 ;;
"RTN","EASECDPH",34,0)
 ;;
"RTN","EASECDPH",35,0)
 ;;MT - Marital/Dependent Info (Not available when viewing)
"RTN","EASECDPH",36,0)
 ;;  This allows the user to edit the veteran's marital status and
"RTN","EASECDPH",37,0)
 ;;  spouse or dependent information specific to the LTC co-pay test,
"RTN","EASECDPH",38,0)
 ;;  such as 'Residing in the Community' or 'Living with Spouse'.
"RTN","EASECDPH",39,0)
 ;;
"RTN","EASECDPH",40,0)
 ;;AD - Add Dependent to LTC Co-Pay Test (Not available when viewing)
"RTN","EASECDPH",41,0)
 ;;  This allows the user to add selected dependents to the LTC co-pay 
"RTN","EASECDPH",42,0)
 ;;  test from the above list.  The dependent does not have to currently 
"RTN","EASECDPH",43,0)
 ;;  be an active dependent.  This will only be allowed if the user is
"RTN","EASECDPH",44,0)
 ;;  adding or editing a LTC co-pay test.
"RTN","EASECDPH",45,0)
 ;;
"RTN","EASECDPH",46,0)
 ;;RE - Remove from LTC Co-Pay Test (Not available when viewing)
"RTN","EASECDPH",47,0)
 ;;  This allows the user to select dependent(s) to be removed from
"RTN","EASECDPH",48,0)
 ;;  the LTC co-pay test.  This will only be allowed if the user is
"RTN","EASECDPH",49,0)
 ;;  adding or editing a LTC co-pay test.
"RTN","EASECDPH",50,0)
 ;;$PAUSE
"RTN","EASECDPH",51,0)
 ;;
"RTN","EASECDPH",52,0)
 ;;XD - Expand Dependent
"RTN","EASECDPH",53,0)
 ;;  Allows user to select a specific dependent and view more information
"RTN","EASECDPH",54,0)
 ;;  about that dependent.  The user can also select an action to edit
"RTN","EASECDPH",55,0)
 ;;  the effective dates for that dependent.
"RTN","EASECDPH",56,0)
 ;;
"RTN","EASECDPH",57,0)
 ;;$PAUSE
"RTN","EASECDPH",58,0)
 ;;$END
"RTN","EASECDPH",59,0)
 Q
"RTN","EASECDPH",60,0)
HLPTXT1 ;help text for DI - Display Info Menu
"RTN","EASECDPH",61,0)
 ;;EE - Edit Effective Dates (Not available when viewing)
"RTN","EASECDPH",62,0)
 ;;  This allows the user to edit the effective dates for a dependent.
"RTN","EASECDPH",63,0)
 ;;  They also may add an effective date.
"RTN","EASECDPH",64,0)
 ;;
"RTN","EASECDPH",65,0)
 ;;$PAUSE
"RTN","EASECDPH",66,0)
 ;;$END
"RTN","EASECE")
0^10^B6904693
"RTN","EASECE",1,0)
EASECE ;ALB/PHH - Edit an Existing LTC Co-Pay Test ;17 AUG 2001
"RTN","EASECE",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECE",3,0)
 ;
"RTN","EASECE",4,0)
EN ;Entry point to edit an existing LTC co-pay test
"RTN","EASECE",5,0)
 N DGMDOD S DGMDOD=""
"RTN","EASECE",6,0)
 I DGMTYPT=3 S DIC("S")="I $D(^DGMT(408.31,""AID"",DGMTYPT,+Y))"
"RTN","EASECE",7,0)
 I $D(DGMTDFN)#2 K DGMTDFN
"RTN","EASECE",8,0)
 S DIC="^DPT(",DIC(0)="AEMQ" W ! D ^DIC K DIC G Q:Y<0 S (DFN,DGMTDFN)=+Y
"RTN","EASECE",9,0)
 I $P($G(^DPT(DFN,.35)),U)'="" S DGMDOD=$P(^DPT(DFN,.35),U)
"RTN","EASECE",10,0)
 I $G(DGMDOD) W !,"Patient died on: ",$$FMTE^XLFDT(DGMDOD,"1D") Q
"RTN","EASECE",11,0)
 ;
"RTN","EASECE",12,0)
DT S DIC("A")="Select DATE OF TEST: "
"RTN","EASECE",13,0)
 I $D(^DGMT(408.31,+$$LST^EASECU(DFN,"",DGMTYPT),0)) S DIC("B")=$P(^(0),"^")
"RTN","EASECE",14,0)
 S DIC("S")="I $P(^(0),U,2)=DFN,$P(^(0),U,19)=DGMTYPT"
"RTN","EASECE",15,0)
 S DIC="^DGMT(408.31,",DIC(0)="EQZ" W ! D EN^DGMTLK K DIC G Q:Y<0
"RTN","EASECE",16,0)
 S DGMTI=+Y,DGMTDT=$P(Y,"^",2),DGMT0=Y(0)
"RTN","EASECE",17,0)
 ;
"RTN","EASECE",18,0)
 ;If test is uneditable, print error message and allow user to view test
"RTN","EASECE",19,0)
 ;or print 10/10EC
"RTN","EASECE",20,0)
 ;
"RTN","EASECE",21,0)
 I '$P($G(^DG(408.34,+$P(Y(0),U,23),0)),U,2) D  D:$G(DGMTERR) VIEWPRT G EN
"RTN","EASECE",22,0)
 .W !!?3,*7,"Warning: Uneditable LTC Co-Pay test.  The source of this test is "_$S($$SR^DGMTAUD1(Y(0))]"":$$SR^DGMTAUD1(Y(0)),1:"UNKNOWN")
"RTN","EASECE",23,0)
 .W !?12,"which has been flagged as an uneditable source.",!
"RTN","EASECE",24,0)
 .S DIR("A")="Would you like to view the LTC Co-Pay test or print the 10/10F",DIR("B")="NO",DIR(0)="Y"
"RTN","EASECE",25,0)
 .D ^DIR K DIR S DGMTERR=Y I $D(DTOUT)!($D(DUOUT)) K DGMTERR,DTOUT,DUOUT
"RTN","EASECE",26,0)
 I "^3^10^"[("^"_$P(Y(0),"^",3)_"^") W !?3,*7,"LTC Co-Pay test is NO LONGER "_$S(DGMTYPT=3:"REQUIRED",1:"APPLICABLE")_", it cannot be edited." G EN
"RTN","EASECE",27,0)
 D DISPLAY^EASECU23(DGMTI,DGMTYPT),PAUSE I $D(DTOUT)!($D(DUOUT)) K DTOUT,DUOUT G EN
"RTN","EASECE",28,0)
 ;
"RTN","EASECE",29,0)
 S DGMTACT="EDT",DGMTROU="EN^EASECE" G EN^EASECSC
"RTN","EASECE",30,0)
 ;
"RTN","EASECE",31,0)
Q K DFN,DGMTACT,DGMTDT,DGMTERR,DGMT0,DGMTI,DGMTROU,DGMTYPT,DGMTX,DTOUT,DUOUT,X,Y
"RTN","EASECE",32,0)
 Q
"RTN","EASECE",33,0)
 ;
"RTN","EASECE",34,0)
PAUSE S DIR(0)="E" D ^DIR
"RTN","EASECE",35,0)
 Q
"RTN","EASECE",36,0)
 ;
"RTN","EASECE",37,0)
VIEWPRT ; Select 1 to view an uneditable means test or 2 to print a 10/10EC
"RTN","EASECE",38,0)
 ;
"RTN","EASECE",39,0)
 S DIR(0)="S^1:View LTC Co-Pay Test;2:Print LTC Co-Pay Test 10/10EC",DIR("A")="Select Choice"
"RTN","EASECE",40,0)
 D ^DIR S DGMTANS=Y G:$D(DTOUT)!($D(DUOUT)) VIEWPRTQ
"RTN","EASECE",41,0)
 I DGMTANS=1 D EN1^EASECV
"RTN","EASECE",42,0)
 I DGMTANS=2 D OEN^EASEC10E
"RTN","EASECE",43,0)
VIEWPRTQ ;
"RTN","EASECE",44,0)
 K DGMTANS,DIR,DTOUT,DUOUT,Y
"RTN","EASECE",45,0)
 Q
"RTN","EASECED")
0^11^B10533794
"RTN","EASECED",1,0)
EASECED ;ALB/LBD - INCOME SCREENING DATA FOR EDIT ; 19 AUG 2001
"RTN","EASECED",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECED",3,0)
 ; Handles editing of dependent info
"RTN","EASECED",4,0)
 ; CHANGES TO THIS ROUTINE SHOULD BE COORDINATED WITH THE MEANS TEST
"RTN","EASECED",5,0)
 ; DEVELOPER.  MANY CALLS IN THIS ROUTINE (ADD, EDIT, INACT, ETC.) ARE
"RTN","EASECED",6,0)
 ; CALLED FROM MEANS TEST OR ARE MIMICKED THERE.
"RTN","EASECED",7,0)
 ;
"RTN","EASECED",8,0)
 ; NOTE: This routine was modified from DGRPEIS for LTC Co-pay
"RTN","EASECED",9,0)
 ; In:   DFN as IEN of PATIENT file
"RTN","EASECED",10,0)
 ;       DGDR as string of items selected for editing
"RTN","EASECED",11,0)
 ;Out:   DGFL as -2 if time-out, -1 if up-arrow
"RTN","EASECED",12,0)
EN S DGFL=0
"RTN","EASECED",13,0)
 S DGISDT=$E(DT,1,3)_"0000"
"RTN","EASECED",14,0)
 S DGRP(0)=$G(^DPT(DFN,0)) D NEW^EASECED1,GETREL^DGMTU11(DFN,"VSD",DGISDT)
"RTN","EASECED",15,0)
 I DGDR[801 D SPOUSE^EASECED2 S DGPREF=$G(DGREL("S")) G Q:DGFL I DGSPFL D:DGPREF EDIT(DGPREF,"S") I 'DGPREF D ADD(DFN,"S")
"RTN","EASECED",16,0)
 K DGSPFL,DGPREF
"RTN","EASECED",17,0)
Q Q
"RTN","EASECED",18,0)
 ;
"RTN","EASECED",19,0)
ADD(DFN,DGTYPE,DGTSTDT) ; subroutine to add to files 408.12 & 408.13
"RTN","EASECED",20,0)
 ; In -- DFN as the IEN of file 2 for the vet
"RTN","EASECED",21,0)
 ;       DGTYPE as C for mt children or D for all deps
"RTN","EASECED",22,0)
 ;            S for spouse (default spouse)
"RTN","EASECED",23,0)
 ;       DGTSTDT - optional test date
"RTN","EASECED",24,0)
 ;Out -- DGPRI as patient relation IEN
"RTN","EASECED",25,0)
 ;       DGIPI as income person IEN
"RTN","EASECED",26,0)
 ;       DGFL as -2 if time-out, -1 if '^', 0 otherwise
"RTN","EASECED",27,0)
 N ANS,DA,PROMPT,SPOUSE,TYPE
"RTN","EASECED",28,0)
 I '$D(DGTSTDT) N DGTSTDT S DGTSTDT=$S($D(DGMTDT):DGMTDT,1:DT)
"RTN","EASECED",29,0)
 S DGFL=$G(DGFL)
"RTN","EASECED",30,0)
 S DGTYPE=$G(DGTYPE),SPOUSE=$S(DGTYPE']"":1,DGTYPE="C":0,DGTYPE="D":0,1:1)
"RTN","EASECED",31,0)
 S DGFL=$G(DGFL),PROMPT="NAME^SEX^DATE OF BIRTH^^^^^^SSN",TYPE=$S(SPOUSE:"SPOUSE'S ",DGTYPE="D":"DEPENDENT'S ",1:"CHILD'S ")
"RTN","EASECED",32,0)
 F DGRPI=.01:.01:.03,.09 D  I DGFL Q
"RTN","EASECED",33,0)
 . K DIR S DIR(0)="408.13,"_DGRPI I DGRPI=.01 S DIR(0)=DIR(0)_"O"
"RTN","EASECED",34,0)
 . I DGRPI=.02,SPOUSE S X=$P($G(^DPT(DFN,0)),"^",2) I X]"" S DIR("B")=$S(X="F":"MALE",1:"FEMALE") ; default spouse sex
"RTN","EASECED",35,0)
 . S:DGRPI=.03 DIR(0)=DIR(0)_"^^"_"S %DT=""EP"" D ^%DT S X=Y K:($E(DGTSTDT,1,3)_1231)<X X"
"RTN","EASECED",36,0)
 . S DIR("A")=TYPE_$P(PROMPT,"^",DGRPI*100)
"RTN","EASECED",37,0)
 . D ^DIR
"RTN","EASECED",38,0)
 . I $D(DTOUT)!$D(DUOUT) S DGFL=$S($D(DUOUT):$S(DGRPI=.09:"",1:-1),1:-2) Q
"RTN","EASECED",39,0)
 . I DGRPI=.01,(Y']"") S DGFL=-1 Q
"RTN","EASECED",40,0)
 . S ANS(DGRPI)=Y
"RTN","EASECED",41,0)
 . I DGRPI=.03,$D(ANS(.03)) S X2=ANS(.03),X1=DT D ^%DTC I 'SPOUSE S AGE=(X/365.25) W ?62,"(AGE: "_$P(AGE,".")_")" I AGE>17 D WRT^EASECED3
"RTN","EASECED",42,0)
 I '$D(ANS(.01)) S DGFL=0 G ADDQ
"RTN","EASECED",43,0)
 I DGFL=-2!'$D(ANS(.03)) W !?3,$C(7),"Incomplete Entry...Deleted" G ADDQ
"RTN","EASECED",44,0)
 S DGRP0ND=ANS(.01)_"^"_ANS(.02)_"^"_ANS(.03)_"^^^^^^"_$G(ANS(.09)) D NEWIP^EASECED1
"RTN","EASECED",45,0)
ADDQ K DGRP0ND,DGRPI,DIR,DIRUT,DTOUT,DUOUT
"RTN","EASECED",46,0)
 Q
"RTN","EASECED",47,0)
INACT ; prompt to inactivate a patient relation
"RTN","EASECED",48,0)
 ;     Input -- DGREL("D") array of dependents
"RTN","EASECED",49,0)
 ;              DGDEP as number of deps (from GETREL call)
"RTN","EASECED",50,0)
 N ACT,DGDT,IEN,X
"RTN","EASECED",51,0)
 S DGFL=$G(DGFL)
"RTN","EASECED",52,0)
 I 'DGDEP W !!,"No dependents to inactivate!" Q
"RTN","EASECED",53,0)
 W !!,"Enter a number 1-",DGDEP," to indicate the dependent you wish to inactivate: " R X:DTIME
"RTN","EASECED",54,0)
 I '$T S DGFL=-2 Q
"RTN","EASECED",55,0)
 I X["^" S DGFL=-1 Q
"RTN","EASECED",56,0)
 I X']"" Q
"RTN","EASECED",57,0)
 I X["?" W !!,"Enter a number 1-",DGDEP," indicating the number of the dependent you wish to inactivate" G INACT
"RTN","EASECED",58,0)
 I $D(DGREL("D",X)) S X=DGREL("D",X) D SETUP^EASECED1 Q  ; check for IVM dependents
"RTN","EASECED",59,0)
 S X=$G(DGREL("C",X)) I 'X G INACT ; check for MT deps
"RTN","EASECED",60,0)
 D SETUP^EASECED1
"RTN","EASECED",61,0)
 Q
"RTN","EASECED",62,0)
EDIT(DGPREF,DGTYPE,DATE) ; edit demographic data for a dep
"RTN","EASECED",63,0)
 ;    Input -- DGPREF as returned by GETREL^DGMTU11 for dep to edit
"RTN","EASECED",64,0)
 ;             DGTYPE as D if all deps or C if MT children only
"RTN","EASECED",65,0)
 ;                    S for spouse (optional - spouse if not defined)
"RTN","EASECED",66,0)
 ;             DATE [optional] as income screening year/default= last yr
"RTN","EASECED",67,0)
 ;   Output -- DGFL as -2 if timeout, -1 if '^', or 0 o/w
"RTN","EASECED",68,0)
 N DOB,DGACT,RELATION,UPARROW,X,Y,DGEDDEP
"RTN","EASECED",69,0)
 D EDIT^EASECED3
"RTN","EASECED",70,0)
 Q
"RTN","EASECED1")
0^12^B25623032
"RTN","EASECED1",1,0)
EASECED1 ;ALB/LBD - CALLS TO ADD NEW PATIENT RELATIONS AND INCOME PERSONS ;18 AUG 2001
"RTN","EASECED1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECED1",3,0)
 ;NOTE: This routine was modified from DGRPEIS1 for LTC Co-pay
"RTN","EASECED1",4,0)
 ;Adds entries to FILES #408.12 & 408.13
"RTN","EASECED1",5,0)
 ;
"RTN","EASECED1",6,0)
NEW ;check if data in FILE #408.12
"RTN","EASECED1",7,0)
 ;out - DGPRI=IFN of #408.12
"RTN","EASECED1",8,0)
 ;      DGFL [-1='^'/-2=time-out]
"RTN","EASECED1",9,0)
 N DGRPDOB,DGRP0ND
"RTN","EASECED1",10,0)
 I '$D(DGTSTDT) N DGTSTDT S DGTSTDT=$S($D(DGMTDT):DGMTDT,1:DT)
"RTN","EASECED1",11,0)
 S DGPRI=$O(^DGPR(408.12,"C",DFN_";DPT(",0)),DGFL=$G(DGFL)
"RTN","EASECED1",12,0)
 I '$D(^DGPR(408.12,+DGPRI,0)) S DGRP0ND=DFN_"^"_1_"^"_DFN_";DPT(",DGRPDOB=$P($G(^DPT(+DFN,0)),"^",3) D NEWPR
"RTN","EASECED1",13,0)
 S DGIRI=$O(^DGMT(408.22,"B",DFN,0))
"RTN","EASECED1",14,0)
 I '$D(^DGMT(408.22,+DGIRI,0)) D GETIENS^EASECU2(DFN,+DGPRI,DGTSTDT)
"RTN","EASECED1",15,0)
 Q
"RTN","EASECED1",16,0)
NEWIP ;Add relation to #408.13 file
"RTN","EASECED1",17,0)
 ; In - DFN=IEN of File #2
"RTN","EASECED1",18,0)
 ;      DGRP0ND=0 node of 408.13
"RTN","EASECED1",19,0)
 ;Out - DGIPI=408.13 IEN
"RTN","EASECED1",20,0)
 K DINUM N DGRPDOB,DGSEX,I,X
"RTN","EASECED1",21,0)
 S DGRPDOB=$P(DGRP0ND,"^",3),DGSEX=$P(DGRP0ND,"^",2)
"RTN","EASECED1",22,0)
 S (DIK,DIC)="^DGPR(408.13,",DIC(0)="L",DLAYGO=408.13,X=$P(DGRP0ND,"^",1) K DD,DO D FILE^DICN S (DGIPI,DA)=+Y K DLAYGO
"RTN","EASECED1",23,0)
 L +^DGPR(408.13,+DGIPI) S ^DGPR(408.13,+DGIPI,0)=DGRP0ND D IX1^DIK L -^DGPR(408.13,+DGIPI)
"RTN","EASECED1",24,0)
 S Y=DGIPI,DGRP0ND=DFN_"^"_$S(SPOUSE:2,1:"")_"^"_+Y_";DGPR(408.13,"
"RTN","EASECED1",25,0)
 ;FALLS THRU!
"RTN","EASECED1",26,0)
NEWPR ;Add entry to file #408.12
"RTN","EASECED1",27,0)
 ;In - DGRP0ND=0 node of 408.12
"RTN","EASECED1",28,0)
 ;     DGRPDOB=DOB of relation
"RTN","EASECED1",29,0)
 ;Out - DGPRI=IFN of new 408.12 entry
"RTN","EASECED1",30,0)
 K DINUM N DOB,X
"RTN","EASECED1",31,0)
 I '$D(DGTSTDT) N DGTSTDT S DGTSTDT=$S($D(DGMTDT):DGMTDT,1:DT)
"RTN","EASECED1",32,0)
 S DOB=$G(DGRPDOB) I 'DOB S DOB=$E(DGTSTDT,1,3)-1_"0101" ; use dob for effective date...default = Jan 1 of prior year
"RTN","EASECED1",33,0)
DIC I $P(DGRP0ND,"^",2)']"" S DIC="^DG(408.11,",DIC(0)="AEQMZ",DIC("A")="RELATIONSHIP: ",DIC("S")="I Y>2,""E""_DGSEX[$P(^(0),""^"",3),$S(DGTYPE=""D"":1,Y<7:1,1:0)" D ^DIC I '$D(DTOUT),(Y'>0) W $C(7),"   Required!!" G DIC
"RTN","EASECED1",34,0)
 I $D(DTOUT) K DTOUT S DGFL=-2 G NEWPRQ
"RTN","EASECED1",35,0)
 I $P(DGRP0ND,"^",2)']"" S $P(DGRP0ND,"^",2)=+Y
"RTN","EASECED1",36,0)
 D ACT^EASECED2 I DGFL<0 D  G NEWPRQ
"RTN","EASECED1",37,0)
 .W !?3,$C(7),"Entry incomplete...deleted",!
"RTN","EASECED1",38,0)
 .Q:'$G(DA)!($G(DIK)'="^DGPR(408.13,")  ;defined for deps in newip
"RTN","EASECED1",39,0)
 .D ^DIK
"RTN","EASECED1",40,0)
 S (DIK,DIC)="^DGPR(408.12,",DIC(0)="L",DLAYGO=408.12,X=+DGRP0ND K DD,DO D FILE^DICN S DGPRI=+Y K DLAYGO
"RTN","EASECED1",41,0)
 S DA=+DGPRI L +^DGPR(408.12,+DGPRI) S ^DGPR(408.12,+DGPRI,0)=DGRP0ND,^DGPR(408.12,+DGPRI,"E",0)="^408.1275D^1^1",^(1,0)=DGACT_"^"_1 D IX1^DIK L -^DGPR(408.12,+DGPRI)
"RTN","EASECED1",42,0)
 D RESET^DGMTU11(DFN,DGTSTDT,$G(DGMTI))
"RTN","EASECED1",43,0)
 S Y=DGPRI
"RTN","EASECED1",44,0)
NEWPRQ K DGACT,DGSEX,DGRPDOB,DA,DIC,DIK,DIRUT,DTOUT,DUOUT,X,Y
"RTN","EASECED1",45,0)
 Q
"RTN","EASECED1",46,0)
SETUP ; called from SPINACT / sets vars for ASOF tag
"RTN","EASECED1",47,0)
 N FNAME S FNAME=$P($$NAME^DGMTU1(+X),",",2)
"RTN","EASECED1",48,0)
 S ACT=$O(^DGPR(408.12,+X,"E","AID","")),ACT=$O(^(+ACT,0)),ACT=$G(^DGPR(408.12,+X,"E",+ACT,0))
"RTN","EASECED1",49,0)
 I $P(ACT,"^",2)']"" Q  ; never active
"RTN","EASECED1",50,0)
 I '$P(ACT,U,2) D  Q
"RTN","EASECED1",51,0)
 .W !,"Dependent has been inactivated as of "
"RTN","EASECED1",52,0)
 .S Y=+ACT
"RTN","EASECED1",53,0)
 .D DD^%DT W Y H 3
"RTN","EASECED1",54,0)
 S IEN=+X
"RTN","EASECED1",55,0)
ASOF ;ask as of date
"RTN","EASECED1",56,0)
 N LYR,SPOUSE,DGXDT
"RTN","EASECED1",57,0)
 I '$D(DGTSTDT) N DGTSTDT S DGTSTDT=$S($D(DGMTDT):DGMTDT,1:DT)
"RTN","EASECED1",58,0)
 S SPOUSE=$S($P($G(^DGPR(408.12,+IEN,0)),"^",2)=2:1,1:0)
"RTN","EASECED1",59,0)
 S LYR=$E($$LYR^DGMTSCU1(DGTSTDT),1,3)_1231
"RTN","EASECED1",60,0)
 ;I 'SPOUSE S LYR=$E($$LYR^DGMTSCU1(LYR),1,3)_1231
"RTN","EASECED1",61,0)
 K DIR S DIR(0)="D^"_+ACT_":"_LYR_":AEP",DIR("A")="Date "_FNAME_" no longer a dependent"
"RTN","EASECED1",62,0)
 S DIR("?",1)="Enter the date this person was no longer a dependent of the veteran.",DIR("?",2)="This could include a date of death or the date a child turned 18 for"
"RTN","EASECED1",63,0)
 S DIR("?",3)="children.  For a spouse, this would be the date of divorce or date ",DIR("?",4)="of death of the spouse.  Date must be after the person became a"
"RTN","EASECED1",64,0)
 S DIR("?",5)="dependent, but prior to 12/31/"_($E(LYR,1,3)+1700)_"."
"RTN","EASECED1",65,0)
 I 'SPOUSE S DIR("?",6)=" ",DIR("?",7)="A person should only be inactivated if the individual was not a",DIR("?",8)="dependent at any time during the prior calendar year."
"RTN","EASECED1",66,0)
 S DIR("?")=" "
"RTN","EASECED1",67,0)
 I SPOUSE S DIR("?",6)=" ",DIR("?",7)="A spouse should be inactivated if the spouse and veteran were not",DIR("?",8)="married as of 12/31/"_($E(LYR,1,3)+1700)_"."
"RTN","EASECED1",68,0)
 D ^DIR K DIR
"RTN","EASECED1",69,0)
 I $D(DTOUT)!$D(DUOUT) S DGFL=$S($D(DTOUT):-2,1:-1) Q
"RTN","EASECED1",70,0)
 S DGXDT=Y
"RTN","EASECED1",71,0)
 I $E(Y,1,3)=$E(LYR,1,3) D  Q:'$G(Y)
"RTN","EASECED1",72,0)
 .N DIR,DIRUT,DIROUT,DTOUT,DUOUT
"RTN","EASECED1",73,0)
 .W !!,"Warning: Data will be used if dependent was active at least one day in a"
"RTN","EASECED1",74,0)
 .W !,"year.  Data will not be used if inactivation is prior to 1/1/"_($E(LYR,1,3)+1700)_" or it"
"RTN","EASECED1",75,0)
 .W !,"is equal to the activation date."
"RTN","EASECED1",76,0)
 .S DIR(0)="Y",DIR("B")="NO",DIR("A")="Do you wish to inactivate this dependent on the selected date?"
"RTN","EASECED1",77,0)
 .D ^DIR
"RTN","EASECED1",78,0)
 S DA(1)=IEN,DIC="^DGPR(408.12,"_DA(1)_",""E"",",X=DGXDT,DIC(0)="L",DLAYGO=408.1275 D ^DIC S DIE=DIC,DA=+Y,DR=".02////0" D ^DIE
"RTN","EASECED1",79,0)
 D RESET^DGMTU11(DFN)
"RTN","EASECED1",80,0)
ASOFQ K DA,DIC,DIE,DIR,DIRUT,DLAYGO,DR,DTOUT,DUOUT,X,Y
"RTN","EASECED1",81,0)
 Q
"RTN","EASECED2")
0^13^B3924760
"RTN","EASECED2",1,0)
EASECED2 ;ALB/LBD - EDIT INCOME SCREENING DATA ;20 AUG 2001
"RTN","EASECED2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECED2",3,0)
 ;NOTE: This routine was modified from DGRPEIS2 for LTC Co-pay
"RTN","EASECED2",4,0)
 ;
"RTN","EASECED2",5,0)
 ;
"RTN","EASECED2",6,0)
SPOUSE ; make sure marital status, spouse is up-to-date
"RTN","EASECED2",7,0)
 ; input -- DFN
"RTN","EASECED2",8,0)
 ;          DGREL("V") as returned from GETREL for veteran
"RTN","EASECED2",9,0)
 ;  used -- DGSPFL as VETS marital status
"RTN","EASECED2",10,0)
 N DGMS
"RTN","EASECED2",11,0)
 D GETIENS^EASECU2(DFN,+DGREL("V"),DT)
"RTN","EASECED2",12,0)
 S DGMS=$P($G(^DIC(11,+$P($G(^DPT(DFN,0)),"^",5),0)),"^",3),DGMS=$S("^M^S^"[("^"_DGMS_"^"):"YES",DGMS']"":"",1:"NO")
"RTN","EASECED2",13,0)
 D GETREL^DGMTU11(DFN,"S",DT,$G(DGMTI)) I $D(DGREL("S")) S DGMS="YES"
"RTN","EASECED2",14,0)
 ;
"RTN","EASECED2",15,0)
SPOUSE1 S DIE="^DGMT(408.22,",DA=DGIRI,DR=".05"_$S($G(DGMTI):"///",1:"//")_"^S X=DGMS" D ^DIE K DIE,DA,DR
"RTN","EASECED2",16,0)
 S DGSPFL=$P($G(^DGMT(408.22,DGIRI,0)),"^",5)
"RTN","EASECED2",17,0)
 Q
"RTN","EASECED2",18,0)
 ;
"RTN","EASECED2",19,0)
ACT ; ask date active as of (use dob if KIDS)
"RTN","EASECED2",20,0)
 ; In:  DOB
"RTN","EASECED2",21,0)
 ;      DGRP0ND as 0 node of PATIENT RELATION file (relation=piece 2)
"RTN","EASECED2",22,0)
 ;Out:  DGACT as date patient should be activated as of
"RTN","EASECED2",23,0)
 ;      DGFL as -1 if '^' or -2 if time-out
"RTN","EASECED2",24,0)
 N RELATION,X,Y
"RTN","EASECED2",25,0)
 S DGFL=$G(DGFL),RELATION=$P(DGRP0ND,"^",2)
"RTN","EASECED2",26,0)
 I RELATION=1 S DGACT=DOB Q  ;use DOB is self
"RTN","EASECED2",27,0)
 I "^3^4^"[("^"_RELATION_"^") S Y=DOB X ^DD("DD") S DIR("B")=Y ;if son or daughter, use DOB as default
"RTN","EASECED2",28,0)
 ;
"RTN","EASECED2",29,0)
READ ; get active as of date
"RTN","EASECED2",30,0)
 ; DIR("B") set before entry
"RTN","EASECED2",31,0)
 ; DOB passed in as input
"RTN","EASECED2",32,0)
 N DGDT,DGISDT,DGDTSPEC
"RTN","EASECED2",33,0)
 I '$D(DGTSTDT) N DGTSTDT S DGTSTDT=$S($D(DGMTDT):DGMTDT,1:DT)
"RTN","EASECED2",34,0)
 S DGDT=$E(DGTSTDT,1,3)_"1231",DGISDT=$E(DGDT,1,3)+1700,DGACT=DOB
"RTN","EASECED2",35,0)
 S DGDTSPEC=$S($G(DGEDDEP):":EPX",1:":EP")
"RTN","EASECED2",36,0)
 S DIR(0)="D^"_DOB_":"_DGDT_DGDTSPEC,DIR("A")="EFFECTIVE DATE"
"RTN","EASECED2",37,0)
 S DIR("?")="^D HELP1^EASECED3(DGISDT)"
"RTN","EASECED2",38,0)
 D ^DIR K DIR I Y'>0 S DGFL=$S($D(DTOUT):-2,$D(DUOUT)!$D(DIRUT):-1,1:0) G ACTQ:DGFL,READ
"RTN","EASECED2",39,0)
 S DGACT=Y
"RTN","EASECED2",40,0)
ACTQ K DIRUT,DTOUT,DUOUT
"RTN","EASECED2",41,0)
 Q
"RTN","EASECED3")
0^14^B11235850
"RTN","EASECED3",1,0)
EASECED3 ;ALB/LBD - INCOME SCREENING DATA (CON'T) ;21 AUG 2001
"RTN","EASECED3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECED3",3,0)
 ;NOTE: This routine has been modified from DGRPEIS3 for LTC Co-pay
"RTN","EASECED3",4,0)
 ;
"RTN","EASECED3",5,0)
HELP ; Display information when veteran's DOB is past the income year
"RTN","EASECED3",6,0)
 ;
"RTN","EASECED3",7,0)
 W !!,"Please return to screen 8 and check the veteran's effective date."
"RTN","EASECED3",8,0)
 W !,"The effective date was created based on the veteran's date of birth."
"RTN","EASECED3",9,0)
 W !,"You might also want to check the date of birth for this veteran."
"RTN","EASECED3",10,0)
 W ! S DIR(0)="E" D ^DIR K DIR W !
"RTN","EASECED3",11,0)
 Q
"RTN","EASECED3",12,0)
 ;
"RTN","EASECED3",13,0)
WRT ; Write age statement
"RTN","EASECED3",14,0)
 Q:'$G(DGMTI)
"RTN","EASECED3",15,0)
 W !!,"This dependent is 18 years or older.  To list this person as a dependent"
"RTN","EASECED3",16,0)
 W !,"they have to be:"
"RTN","EASECED3",17,0)
 W !,"     1.  An UNMARRIED child who is under the age of 18."
"RTN","EASECED3",18,0)
 W !,"     2.  Between the ages of 18 and 23 and attending school."
"RTN","EASECED3",19,0)
 W !,"     3.  An unmarried child over the age of 17 who became permanently"
"RTN","EASECED3",20,0)
 W !,"         incapable of self support before the age of 18."
"RTN","EASECED3",21,0)
 Q
"RTN","EASECED3",22,0)
 ;
"RTN","EASECED3",23,0)
EDIT ;CALLED FROM ROUTINE DGRPEIS
"RTN","EASECED3",24,0)
 S DGEDDEP=1
"RTN","EASECED3",25,0)
 S DGFL=$G(DGFL)
"RTN","EASECED3",26,0)
 S DATE=$S($G(DATE):DATE,1:DT)
"RTN","EASECED3",27,0)
 S X=$P(DGPREF,"^",2)
"RTN","EASECED3",28,0)
 S DGTYPE=$G(DGTYPE),DGTYPE=$S(DGTYPE']"":"S",DGTYPE="C":"C",DGTYPE="D":"D",1:"S")
"RTN","EASECED3",29,0)
 S DIE="^"_$P(X,";",2),DA=+X,DR=".01;.02;.03;.09;S UPARROW=1" K DG,DQ D ^DIE I $D(DTOUT)!$D(DUOUT)!'$D(UPARROW) S DGFL=$S($D(DTOUT):-2,1:-1) G EDITQ
"RTN","EASECED3",30,0)
 S DOB=$P($G(@(DIE_DA_",0)")),"^",3)
"RTN","EASECED3",31,0)
 I DGTYPE'="S" K UPARROW S DIE="^DGPR(408.12,",DA=+DGPREF,DR=".02;S UPARROW=1" K DG,DQ D ^DIE I $D(DTOUT)!$D(DUOUT)!'$D(UPARROW) S DGFL=$S($D(DTOUT):-2,1:-1)
"RTN","EASECED3",32,0)
 S RELATION=$P($G(^DGPR(408.12,+DGPREF,0)),"^",2)
"RTN","EASECED3",33,0)
 S DGX=$O(^DGPR(408.12,+DGPREF,"E","AID","")),DGMIEN=$O(^(+DGX,0))
"RTN","EASECED3",34,0)
EDACTDT I $G(^DGPR(408.12,+DGPREF,"E",+DGMIEN,0)) D  G:$G(DGFL)<0 EDITQ
"RTN","EASECED3",35,0)
 .S (DGACT,Y)=+^DGPR(408.12,+DGPREF,"E",+DGMIEN,0) X ^DD("DD")
"RTN","EASECED3",36,0)
 .S DIR("B")=Y
"RTN","EASECED3",37,0)
 .D READ^EASECED2
"RTN","EASECED3",38,0)
 .I -DGACT'=DGX W !,"Use 'Expand Dependent' option to change effective date." H 2 S DGFL=-1 Q
"RTN","EASECED3",39,0)
 .Q:$G(DGFL)<0
"RTN","EASECED3",40,0)
 .S DIE="^DGPR(408.12,"_+DGPREF_",""E"",",DA(1)=+DGPREF,DA=DGMIEN,DR=".01///"_DGACT
"RTN","EASECED3",41,0)
 .D ^DIE
"RTN","EASECED3",42,0)
 I DGTYPE="S" S X=+DGPREF D SETUP^EASECED1
"RTN","EASECED3",43,0)
 K DGACT,DGMIEN,RELATION,DA,DIE,DR,UPARROW,DTOUT,DUOUT,DIRUT
"RTN","EASECED3",44,0)
EDITQ K DA,DIE,DIRUT,DR,DTOUT,DUOUT
"RTN","EASECED3",45,0)
 Q
"RTN","EASECED3",46,0)
 ;
"RTN","EASECED3",47,0)
HELP1(DGISDT) ; Displays the help for the active/inactive prompt
"RTN","EASECED3",48,0)
 ;
"RTN","EASECED3",49,0)
 D CLEAR^VALM1
"RTN","EASECED3",50,0)
 W !,"Enter the date this person first became a dependent of the veteran."
"RTN","EASECED3",51,0)
 W !,"In the case of a spouse, this would be the date of marriage.  For"
"RTN","EASECED3",52,0)
 W !,"a parent or other dependent, this would be the date the dependent"
"RTN","EASECED3",53,0)
 W !,"moved in.  For a child, this would be the date of birth or date of"
"RTN","EASECED3",54,0)
 W !,"adoption."
"RTN","EASECED3",55,0)
 W !," "
"RTN","EASECED3",56,0)
 W !,"Date must be before DEC 31, "_DGISDT_" as dependents are collected for the"
"RTN","EASECED3",57,0)
 W !,"prior calendar year only."
"RTN","EASECED3",58,0)
 S VALMBCK="R"
"RTN","EASECED3",59,0)
 Q
"RTN","EASECPC")
0^21^B83933926
"RTN","EASECPC",1,0)
EASECPC ;ALB/PHH - LTC Co-Payment Report; 29-AUG-2001
"RTN","EASECPC",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECPC",3,0)
 ;
"RTN","EASECPC",4,0)
 ; This routine produces a calculated LTC Co-Payment for a veteran.
"RTN","EASECPC",5,0)
 ;
"RTN","EASECPC",6,0)
EN N PAGE,DFN,DGMTI,DGMTDT,DGSTA,MODE,MARIT
"RTN","EASECPC",7,0)
 S DTIME=$G(DTIME,300),PAGE=0,(DFN,DGMTI,DGMTDT,DGSTA,MARIT)="",MODE=1
"RTN","EASECPC",8,0)
 Q:$$GETDFN
"RTN","EASECPC",9,0)
 Q:$$GETSDATE
"RTN","EASECPC",10,0)
 Q:$$EXEMPT
"RTN","EASECPC",11,0)
 S MARIT=$$MARIT
"RTN","EASECPC",12,0)
 D QUEUE
"RTN","EASECPC",13,0)
 Q
"RTN","EASECPC",14,0)
GETDFN() ; Get the veteran's DFN
"RTN","EASECPC",15,0)
 N DIC,DTOUT,DUOUT,X,Y
"RTN","EASECPC",16,0)
 W !
"RTN","EASECPC",17,0)
 S DIC="^DPT(",DIC(0)="AEMZQ",DIC("S")="I $D(^DGMT(408.31,""AID"",3,+Y))"
"RTN","EASECPC",18,0)
 D ^DIC
"RTN","EASECPC",19,0)
 Q:$D(DTOUT)!($D(DUOUT)) 1
"RTN","EASECPC",20,0)
 Q:Y<0 1
"RTN","EASECPC",21,0)
 S DFN=+Y
"RTN","EASECPC",22,0)
 Q 0
"RTN","EASECPC",23,0)
GETSDATE() ; Get the Start Date
"RTN","EASECPC",24,0)
 N LST,DIC,DTOUT,DUOUT,X,Y
"RTN","EASECPC",25,0)
 W !
"RTN","EASECPC",26,0)
 S LST=$$LST^EASECU(DFN,"",3)
"RTN","EASECPC",27,0)
 S DIC("A")="Select DATE OF TEST: "
"RTN","EASECPC",28,0)
 I $D(^DGMT(408.31,+LST,0)) S DIC("B")=$P(^DGMT(408.31,+LST,0),"^")
"RTN","EASECPC",29,0)
 S DIC("S")="I $P(^(0),U,2)=DFN,$P(^(0),U,19)=3"
"RTN","EASECPC",30,0)
 S DIC="^DGMT(408.31,",DIC(0)="EQZ"
"RTN","EASECPC",31,0)
 D EN^DGMTLK
"RTN","EASECPC",32,0)
 Q:$D(DTOUT)!($D(DUOUT)) 1
"RTN","EASECPC",33,0)
 Q:Y<0 1
"RTN","EASECPC",34,0)
 S DGMTI=+Y,DGMTDT=$P(Y,U,2)
"RTN","EASECPC",35,0)
 S DGSTA=$$MTS^EASECU(DFN,$P(^DGMT(408.31,DGMTI,0),U,3))
"RTN","EASECPC",36,0)
 S DGSTA=$P(DGSTA,"^")
"RTN","EASECPC",37,0)
 Q 0
"RTN","EASECPC",38,0)
EXEMPT() ; Check for Test Status
"RTN","EASECPC",39,0)
 N LTCTS
"RTN","EASECPC",40,0)
 S LTCTS=$P($G(^DGMT(408.31,DGMTI,0)),U,3)
"RTN","EASECPC",41,0)
 I LTCTS="" D  Q 1
"RTN","EASECPC",42,0)
 .W !!,"This LTC Co-Pay Test has not yet been completed for this veteran!"
"RTN","EASECPC",43,0)
 S ESTAT=$P($G(^DG(408.32,LTCTS,0)),U)
"RTN","EASECPC",44,0)
 I ESTAT="EXEMPT" D  Q 1
"RTN","EASECPC",45,0)
 .W !!,"This veteran is ",ESTAT," from a Co-Pay Test!"
"RTN","EASECPC",46,0)
 I ESTAT'="NON-EXEMPT" D  Q 1
"RTN","EASECPC",47,0)
 .W !!,"This LTC Co-Pay Test record contains an invalid test status!"
"RTN","EASECPC",48,0)
 .W !,"DFN: ",DGMTI,!,"Test Status: ",LTCTS
"RTN","EASECPC",49,0)
 Q 0
"RTN","EASECPC",50,0)
MARIT() ; Define Maritual Status
"RTN","EASECPC",51,0)
 N DGPRI,DGVIRI,SRIC
"RTN","EASECPC",52,0)
 S DGPRI=$O(^DGPR(408.12,"C",DFN_";DPT(",0))
"RTN","EASECPC",53,0)
 D GETIENS^EASECU2(DFN,DGPRI,DGMTDT)
"RTN","EASECPC",54,0)
 S DGVIRI=DGIRI
"RTN","EASECPC",55,0)
 D DEP^EASECSU3
"RTN","EASECPC",56,0)
 S SRIC=$P(DGVIR0,U,16)
"RTN","EASECPC",57,0)
 Q DGSP_"^"_SRIC
"RTN","EASECPC",58,0)
QUEUE ; Get report device. Queue report if requested.
"RTN","EASECPC",59,0)
 N MSG
"RTN","EASECPC",60,0)
 S MSG(1)=""
"RTN","EASECPC",61,0)
 S MSG(2)="This report may take a long time to generate.  It is recommended that the report"
"RTN","EASECPC",62,0)
 S MSG(3)="be queued to print."
"RTN","EASECPC",63,0)
 S MSG(4)=""
"RTN","EASECPC",64,0)
 D BMES^XPDUTL(.MSG)
"RTN","EASECPC",65,0)
 K IOP,%ZIS
"RTN","EASECPC",66,0)
 S %ZIS="MQ"
"RTN","EASECPC",67,0)
 D ^%ZIS I POP W !!,"Report Cancelled!" Q
"RTN","EASECPC",68,0)
 I $D(IO("Q")) D  Q
"RTN","EASECPC",69,0)
 .S ZTRTN="START^EASECPC"
"RTN","EASECPC",70,0)
 .S ZTDESC="LTC Co-Pay Calculation Report"
"RTN","EASECPC",71,0)
 .S (ZTSAVE("DFN"),ZTSAVE("DGMTI"),ZTSAVE("DGMTDT"),ZTSAVE("DGSTA"))=""
"RTN","EASECPC",72,0)
 .S (ZTSAVE("MODE"),ZTSAVE("PAGE"),ZTSAVE("MARIT"))=""
"RTN","EASECPC",73,0)
 .D ^%ZTLOAD
"RTN","EASECPC",74,0)
 .W !!,"Report "_$S($D(ZTSK):"Queued!",1:"Cancelled!")
"RTN","EASECPC",75,0)
 .D HOME^%ZIS
"RTN","EASECPC",76,0)
 D START,^%ZISC
"RTN","EASECPC",77,0)
 Q
"RTN","EASECPC",78,0)
INITHDR ; Initialize the Report Header
"RTN","EASECPC",79,0)
 N %,%H,%I,X,CDATE
"RTN","EASECPC",80,0)
 D NOW^%DTC
"RTN","EASECPC",81,0)
 S CDATE=X
"RTN","EASECPC",82,0)
 S HDR(1)=$$FMTE^XLFDT(CDATE)
"RTN","EASECPC",83,0)
 S HDR(2)=""
"RTN","EASECPC",84,0)
 I MODE S HDR(3)="        LONG TERM CARE ESTIMATED CO-PAYMENTS FOR INSTITUTIONAL SERVICES"
"RTN","EASECPC",85,0)
 I 'MODE S HDR(3)="      LONG TERM CARE ESTIMATED CO-PAYMENTS FOR NON-INSTITUTIONAL SERVICES"
"RTN","EASECPC",86,0)
 S HDR(4)=""
"RTN","EASECPC",87,0)
 S HDR(5)=""
"RTN","EASECPC",88,0)
 Q
"RTN","EASECPC",89,0)
HEADER ; Print the header
"RTN","EASECPC",90,0)
 N LTCIDX,PGHDR
"RTN","EASECPC",91,0)
 S PAGE=$G(PAGE,0),PAGE=PAGE+1,PGHDR="Page: "_$J(PAGE,3)
"RTN","EASECPC",92,0)
 W #
"RTN","EASECPC",93,0)
 S LTCIDX="",LTCIDX=$O(HDR(LTCIDX))
"RTN","EASECPC",94,0)
 W HDR(LTCIDX),?71,PGHDR
"RTN","EASECPC",95,0)
 F  S LTCIDX=$O(HDR(LTCIDX)) Q:LTCIDX=""  D
"RTN","EASECPC",96,0)
 .W !,HDR(LTCIDX)
"RTN","EASECPC",97,0)
 Q
"RTN","EASECPC",98,0)
START ; Generate Report
"RTN","EASECPC",99,0)
 N CRT,HDR
"RTN","EASECPC",100,0)
 S CRT=$S($E(IOST,1,2)="C-":1,1:0)
"RTN","EASECPC",101,0)
 S MODE=1 U IO W ! D PRINT W !     ; Institutional
"RTN","EASECPC",102,0)
 I CRT Q:$$PAUSE(0)
"RTN","EASECPC",103,0)
 D:'CRT NOTETXT
"RTN","EASECPC",104,0)
 S MODE=0 U IO W ! D PRINT W !     ; Non-institutional
"RTN","EASECPC",105,0)
 I CRT Q:$$PAUSE(0)
"RTN","EASECPC",106,0)
 D:'CRT NOTETXT
"RTN","EASECPC",107,0)
 I CRT D
"RTN","EASECPC",108,0)
 .K HDR(3),HDR(4),HDR(5)
"RTN","EASECPC",109,0)
 .D HEADER,NOTETXT
"RTN","EASECPC",110,0)
 U 0
"RTN","EASECPC",111,0)
 I $G(ZTSK) S ZTREQ="@"
"RTN","EASECPC",112,0)
 Q
"RTN","EASECPC",113,0)
PRINT ; Print the Report
"RTN","EASECPC",114,0)
 N PAT0,NAME,SSN,DOB,ARRY,HDTEXT,SIDX,EIDX,MNTH
"RTN","EASECPC",115,0)
 D INITHDR
"RTN","EASECPC",116,0)
 S PAT0=$G(^DPT(DFN,0)),NAME=$P(PAT0,"^"),SSN=$P(PAT0,"^",9),DOB=$P(PAT0,"^",3)
"RTN","EASECPC",117,0)
 ;
"RTN","EASECPC",118,0)
 D BLDTBL(DGMTDT,.ARRY)
"RTN","EASECPC",119,0)
 D DETFIG(.ARRY)
"RTN","EASECPC",120,0)
 S HDTEXT="TOTAL INCOME - TOTAL EXPENSES - TOTAL ALLOWANCE"
"RTN","EASECPC",121,0)
 D HEADER
"RTN","EASECPC",122,0)
 W NAME,?35,SSN,?62,"DOB: ",$$FMTE^XLFDT(DOB)
"RTN","EASECPC",123,0)
 W !,$S(+MARIT:"MARRIED",1:"SINGLE")
"RTN","EASECPC",124,0)
 I +MARIT,$P(MARIT,"^",2) W ?15,"SPOUSE RESIDING IN THE COMMUNITY"
"RTN","EASECPC",125,0)
 W !,"LTC REPORT START DATE: ",$$FMTE^XLFDT(DGMTDT)
"RTN","EASECPC",126,0)
 W !!!,"LTC CO-PAYMENTS FOR DAYS 1-180",!,"CO-PAY CALC: ",HDTEXT
"RTN","EASECPC",127,0)
 S SIDX=1,EIDX=6
"RTN","EASECPC",128,0)
 W ! D PRINTROW("TOT INCOME    ",SIDX,EIDX,3)
"RTN","EASECPC",129,0)
 D PRINTROW("TOT EXPENSES  ",SIDX,EIDX,4)
"RTN","EASECPC",130,0)
 D PRINTROW("TOT ALLOWANCE ",SIDX,EIDX,5)
"RTN","EASECPC",131,0)
 W ! D PRINTROW("CALC CO-PAY   ",SIDX,EIDX,6)
"RTN","EASECPC",132,0)
 D PRINTROW("MAX CO-PAY    ",SIDX,EIDX,7)
"RTN","EASECPC",133,0)
 D PRINTROW("VET MAX CO-PAY",SIDX,EIDX,8)
"RTN","EASECPC",134,0)
 W !,"              "
"RTN","EASECPC",135,0)
 F MNTH=1:1:6 W $J($P(ARRY(MNTH),"^"),11)
"RTN","EASECPC",136,0)
 ;
"RTN","EASECPC",137,0)
 I MODE,'+MARIT S HDTEXT="(TOTAL ASSETS + TOTAL INCOME) - TOTAL ALLOWANCE"
"RTN","EASECPC",138,0)
 I MODE,+MARIT S HDTEXT="(TOTAL ASSETS + TOTAL INCOME) - TOTAL EXPENSES - TOTAL ALLOWANCE"
"RTN","EASECPC",139,0)
 W !!,"LTC CO-PAYMENTS FOR DAYS 181+"
"RTN","EASECPC",140,0)
 W !,"CO-PAY CALC: ",HDTEXT,!
"RTN","EASECPC",141,0)
 S SIDX=7,EIDX=12
"RTN","EASECPC",142,0)
 I MODE D PRINTROW("TOT ASSETS    ",SIDX,EIDX,9)
"RTN","EASECPC",143,0)
 D PRINTROW("TOT INCOME    ",SIDX,EIDX,3)
"RTN","EASECPC",144,0)
 I 'MODE!MARIT D PRINTROW("TOT EXPENSES  ",SIDX,EIDX,4)
"RTN","EASECPC",145,0)
 D PRINTROW("TOT ALLOWANCE ",SIDX,EIDX,5)
"RTN","EASECPC",146,0)
 W ! D PRINTROW("CALC CO-PAY   ",SIDX,EIDX,6)
"RTN","EASECPC",147,0)
 D PRINTROW("MAX CO-PAY    ",SIDX,EIDX,7)
"RTN","EASECPC",148,0)
 D PRINTROW("VET MAX CO-PAY",SIDX,EIDX,8)
"RTN","EASECPC",149,0)
 W !,"              "
"RTN","EASECPC",150,0)
 F MNTH=7:1:12 W $J($P(ARRY(MNTH),"^"),11)
"RTN","EASECPC",151,0)
 Q
"RTN","EASECPC",152,0)
PRINTROW(TEXT,SIDX,EIDX,NODE) ; Print the Rows
"RTN","EASECPC",153,0)
 N MNTH
"RTN","EASECPC",154,0)
 W !,TEXT
"RTN","EASECPC",155,0)
 F MNTH=SIDX:1:EIDX W $J($S($P(ARRY(MNTH),"^",NODE)[".":$P($P(ARRY(MNTH),"^",NODE),"."),1:$P(ARRY(MNTH),"^",NODE)),11)
"RTN","EASECPC",156,0)
 Q
"RTN","EASECPC",157,0)
PAUSE(RESP) ; Prompt user for next page or quit
"RTN","EASECPC",158,0)
 N DIR,DIRUT,DUOUT,DTOUT,U,X,Y
"RTN","EASECPC",159,0)
 S DIR(0)="E"
"RTN","EASECPC",160,0)
 D ^DIR
"RTN","EASECPC",161,0)
 I 'Y S RESP=1
"RTN","EASECPC",162,0)
 Q RESP
"RTN","EASECPC",163,0)
BLDTBL(DATE,ARRY) ; Build the Month/Year Table
"RTN","EASECPC",164,0)
 N IDX,FMNYR
"RTN","EASECPC",165,0)
 K ARRY
"RTN","EASECPC",166,0)
 S DATE=$$FMTHL7^XLFDT(DGMTDT)
"RTN","EASECPC",167,0)
 S FMNYR=$E(DATE,1,6)_"00"
"RTN","EASECPC",168,0)
 F IDX=1:1:12 D
"RTN","EASECPC",169,0)
 .S ARRY(IDX)=$$UP^XLFSTR($$FMTE^XLFDT($$HL7TFM^XLFDT(FMNYR)))
"RTN","EASECPC",170,0)
 .S ARRY(IDX)=$P(ARRY(IDX)," ")_"'"_$E($P(ARRY(IDX)," ",2),3,4)
"RTN","EASECPC",171,0)
 .S $P(ARRY(IDX),"^",2)=$E(FMNYR,5,6)
"RTN","EASECPC",172,0)
 .S FMNYR=$E(FMNYR,1,4)_$E(FMNYR,5,6)+1_"00"
"RTN","EASECPC",173,0)
 .S:$E(FMNYR,5,6)=13 FMNYR=$E(FMNYR,1,4)+1_"0100"
"RTN","EASECPC",174,0)
 Q
"RTN","EASECPC",175,0)
DETFIG(ARRY) ; Determine Figures
"RTN","EASECPC",176,0)
 ; Variables:  Marit:     0 = Single         1 = Married
"RTN","EASECPC",177,0)
 ;             Mode:      0 = Out-Patient    1 = In-Patient
"RTN","EASECPC",178,0)
 ;             FLAG180:   0 = 180 or Less    1 = 181+
"RTN","EASECPC",179,0)
 ;             RIC:       0 = Not in Com.    1 = Reside in Com.
"RTN","EASECPC",180,0)
 ;             LWP:       0 = Not live w/    1 = Living w/ Pat.
"RTN","EASECPC",181,0)
 ;
"RTN","EASECPC",182,0)
 N DGDC,DGDEP,DGERR,DGFL,DGIN0,DGIN1,DGIN2,DGDET,DGINT,DGNWT
"RTN","EASECPC",183,0)
 N DGMTSC,DGNC,DGND,DGNWTF,DGSP,DGVINI,DGVIR0,DGVIRI,DGVPRI
"RTN","EASECPC",184,0)
 N INC,FXAST,LQAST,EXP
"RTN","EASECPC",185,0)
 N TAST,TINC,TEXP
"RTN","EASECPC",186,0)
 ;
"RTN","EASECPC",187,0)
 D SETUP^EASECSCU,DEP^EASECSU3,INC^EASECSU3
"RTN","EASECPC",188,0)
 S RIC=+$P(DGVIR0,U,16)
"RTN","EASECPC",189,0)
 S LWP=+$P(DGVIR0,U,15)
"RTN","EASECPC",190,0)
 S INC=DGINT,EXP=DGDET
"RTN","EASECPC",191,0)
 ;
"RTN","EASECPC",192,0)
 F FLAG180=0,1 D
"RTN","EASECPC",193,0)
 .S FXAST=+$P($G(DGIN2("V")),"^",6)
"RTN","EASECPC",194,0)
 .S FXAST=FXAST+$P($G(DGIN2("V")),"^",7)
"RTN","EASECPC",195,0)
 .S FXAST=FXAST+$P($G(DGIN2("V")),"^",8)
"RTN","EASECPC",196,0)
 .S LQAST=+$P($G(DGIN2("V")),"^")
"RTN","EASECPC",197,0)
 .S LQAST=LQAST+$P($G(DGIN2("V")),"^",2)
"RTN","EASECPC",198,0)
 .S LQAST=LQAST+$P($G(DGIN2("V")),"^",9)
"RTN","EASECPC",199,0)
 .I 'MODE S (FXAST,LQAST)=0
"RTN","EASECPC",200,0)
 .I MODE D
"RTN","EASECPC",201,0)
 ..I '+MARIT D
"RTN","EASECPC",202,0)
 ...I 'FLAG180 S (FXAST,LQAST)=0 Q
"RTN","EASECPC",203,0)
 ...S EXP=0
"RTN","EASECPC",204,0)
 ...I RIC S FXAST=FXAST-(+$P($G(DGIN2("V")),"^",6))-(+$P($G(DGIN2("V")),"^",8)) Q
"RTN","EASECPC",205,0)
 ...S FXAST=FXAST-(+$P($G(DGIN2("V")),"^",8))
"RTN","EASECPC",206,0)
 ..;
"RTN","EASECPC",207,0)
 ..I +MARIT D
"RTN","EASECPC",208,0)
 ...I 'FLAG180 S (FXAST,LQAST)=0 Q
"RTN","EASECPC",209,0)
 ...I RIC D  Q
"RTN","EASECPC",210,0)
 ....I 'LWP S FXAST=FXAST-(+$P($G(DGIN2("V")),"^",6)),FXAST=FXAST-(+$P($G(DGIN2("V")),"^",8)) Q
"RTN","EASECPC",211,0)
 ....S FXAST=FXAST-(+$P($G(DGIN2("V")),"^",6))-(+$P($G(DGIN2("V")),"^",8))
"RTN","EASECPC",212,0)
 ...S FXAST=FXAST-(+$P($G(DGIN2("V")),"^",8))
"RTN","EASECPC",213,0)
 .S TAST=(FXAST+LQAST)/12,TINC=INC/12,TEXP=EXP/12
"RTN","EASECPC",214,0)
 .;
"RTN","EASECPC",215,0)
 .; Build both tables: 1-180 days and 181+ days
"RTN","EASECPC",216,0)
 .F IDX=$S(FLAG180:7,1:1):1:$S(FLAG180:12,1:6) D
"RTN","EASECPC",217,0)
 ..S DAYS=$$DOM($P(ARRY(IDX),"^",2))
"RTN","EASECPC",218,0)
 ..S ALLOW=$$CALCALLW(DAYS)
"RTN","EASECPC",219,0)
 ..S CALCCPY=$$CALCCPY
"RTN","EASECPC",220,0)
 ..S MAXCPY=$$CALCMAX(DAYS)
"RTN","EASECPC",221,0)
 ..S VETMAX=$$VETMAX(CALCCPY,MAXCPY)
"RTN","EASECPC",222,0)
 ..S $P(ARRY(IDX),"^",3)=TINC
"RTN","EASECPC",223,0)
 ..S $P(ARRY(IDX),"^",4)=TEXP
"RTN","EASECPC",224,0)
 ..S $P(ARRY(IDX),"^",5)=ALLOW
"RTN","EASECPC",225,0)
 ..S $P(ARRY(IDX),"^",6)=CALCCPY
"RTN","EASECPC",226,0)
 ..S $P(ARRY(IDX),"^",7)=MAXCPY
"RTN","EASECPC",227,0)
 ..S $P(ARRY(IDX),"^",8)=VETMAX
"RTN","EASECPC",228,0)
 ..S:FLAG180 $P(ARRY(IDX),"^",9)=TAST
"RTN","EASECPC",229,0)
 Q
"RTN","EASECPC",230,0)
CALCCPY() ; Calculate the Co-Pay Amount
"RTN","EASECPC",231,0)
 ;
"RTN","EASECPC",232,0)
 Q TAST+TINC-ALLOW-TEXP
"RTN","EASECPC",233,0)
DOM(MNTH) ; Days in Month
"RTN","EASECPC",234,0)
 ; Returns: number of days in a month
"RTN","EASECPC",235,0)
 N DAYS,HL7DATE
"RTN","EASECPC",236,0)
 I "04060911"[MNTH S DAYS=30 Q DAYS
"RTN","EASECPC",237,0)
 I MNTH="02" D  Q DAYS
"RTN","EASECPC",238,0)
 .S DAYS=28
"RTN","EASECPC",239,0)
 .S HL7DATE=$$FMTHL7^XLFDT(DGMTDT)
"RTN","EASECPC",240,0)
 .S:$E(HL7DATE,1,4)#4=0 DAYS=29
"RTN","EASECPC",241,0)
 S DAYS=31
"RTN","EASECPC",242,0)
 Q DAYS
"RTN","EASECPC",243,0)
CALCALLW(DAYS) ; Calculate the Allowance
"RTN","EASECPC",244,0)
 N ALLOW,DGPRI,DGVIRI,SRIC
"RTN","EASECPC",245,0)
 S ALLOW=20
"RTN","EASECPC",246,0)
 S DGPRI=$O(^DGPR(408.12,"C",DFN_";DPT(",0))
"RTN","EASECPC",247,0)
 D GETIENS^EASECU2(DFN,DGPRI,DGMTDT)
"RTN","EASECPC",248,0)
 S DGVIRI=DGIRI
"RTN","EASECPC",249,0)
 D DEP^EASECSU3
"RTN","EASECPC",250,0)
 S SRIC=$P(DGVIR0,U,16)
"RTN","EASECPC",251,0)
 Q ALLOW*DAYS*(1+SRIC)
"RTN","EASECPC",252,0)
CALCMAX(DAYS) ; Calculate the Maximum Co-Pay Amount
"RTN","EASECPC",253,0)
 ;
"RTN","EASECPC",254,0)
 Q $S(MODE:97,1:15)*DAYS
"RTN","EASECPC",255,0)
VETMAX(CALCCPY,MAXCPY) ; Calculate the Veteran Maximum Co-Pay Amount
"RTN","EASECPC",256,0)
 ;
"RTN","EASECPC",257,0)
 Q:CALCCPY<0 0
"RTN","EASECPC",258,0)
 Q:CALCCPY<MAXCPY CALCCPY
"RTN","EASECPC",259,0)
 Q MAXCPY
"RTN","EASECPC",260,0)
NOTETXT ; Write the Note message
"RTN","EASECPC",261,0)
 W !!,"IMPORTANT NOTICE: The co-payment amounts shown in this report are"
"RTN","EASECPC",262,0)
 W " estimates",!,"based on calculations of the co-payment amount for "
"RTN","EASECPC",263,0)
 W "an entire month. The",!,"co-payment amounts will be adjusted to "
"RTN","EASECPC",264,0)
 W "reflect the actual start date of LTC",!,"services and the "
"RTN","EASECPC",265,0)
 W "co-payment exemption for the first 21 days of service. The VET",!
"RTN","EASECPC",266,0)
 W "MAX CO-PAY amount is based on the assumption that the veteran "
"RTN","EASECPC",267,0)
 W "will be",!,"responsible to pay the lesser of EITHER the calculated"
"RTN","EASECPC",268,0)
 W " co-pay (CALC CO-PAY) OR",!,"the maximum co-pay (MAX CO-PAY).  "
"RTN","EASECPC",269,0)
 W "In the event that the calculated co-pay",!,"(CALC CO-PAY) is a "
"RTN","EASECPC",270,0)
 W "negative figure, the veteran maximum co-pay (VET MAX CO-PAY)",!
"RTN","EASECPC",271,0)
 W "will be adjusted to zero (0)."
"RTN","EASECPC",272,0)
 Q
"RTN","EASECSC")
0^23^B3785856
"RTN","EASECSC",1,0)
EASECSC ;ALB/LBD - LTC Co-Pay Test Screen Driver ;10 AUG 2001
"RTN","EASECSC",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSC",3,0)
 ;
"RTN","EASECSC",4,0)
 ;A series of screens used to collect the LTC Co-pay Test data
"RTN","EASECSC",5,0)
 ; Input  -- DFN      Patient IEN
"RTN","EASECSC",6,0)
 ;           DGMTACT  Menu Action  (ie, ADD to Add a New Test)
"RTN","EASECSC",7,0)
 ;           DGMTDT   Date of Test
"RTN","EASECSC",8,0)
 ;           DGMTI    Annual Means Test IEN
"RTN","EASECSC",9,0)
 ;           DGMTYPT  Type of Test 3=LTC COPAY
"RTN","EASECSC",10,0)
 ;           DGMTROU  Option Routine Return
"RTN","EASECSC",11,0)
 ; Output -- None
"RTN","EASECSC",12,0)
 ;NOTE: This routine was modified from DGMTSC for LTC Co-pay
"RTN","EASECSC",13,0)
 ;
"RTN","EASECSC",14,0)
EN ;Entry point for LTC co-pay test screen driver
"RTN","EASECSC",15,0)
 D HOME^%ZIS,SETUP^EASECSCU I DGERR D MG G Q1
"RTN","EASECSC",16,0)
EN1 ;Entry point to edit LTC co-pay test if incomplete
"RTN","EASECSC",17,0)
 S DGMTSCI=+$O(DGMTSC(0)) G @($$ROU^EASECSCU(DGMTSCI))
"RTN","EASECSC",18,0)
 ;
"RTN","EASECSC",19,0)
Q I DGMTACT'="VEW" D:$G(DGX)'="^" EN^EASECSCC I DGERR G EN1:$$EDT
"RTN","EASECSC",20,0)
Q1 ;
"RTN","EASECSC",21,0)
 K %,DGBL,DGDC,DGDEP,DGDR,DGFCOL,DGFL,DGMT0,DGMTA,DGMTINF,DGMTOUT,DGMTP,DGMTPAR,DGMTSC,DGMTSCI,DGREL,DGRNG,DGRPPR,DGSCOL,DGSEL,DGSELTY,DGVI,DGVINI,DGVIRI,DGVO,DGVPRI,DGX,DGY,DTOUT,DUOUT,Y,Z
"RTN","EASECSC",22,0)
 ;
"RTN","EASECSC",23,0)
 ;Update the TEST-DETERMINED STATUS field (#2.03) in the ANNUAL MEANS
"RTN","EASECSC",24,0)
 ;TEST file (408.31) when adding a means or copay test, completing a 
"RTN","EASECSC",25,0)
 ;means test, or editing a means or copay test.
"RTN","EASECSC",26,0)
 ;I "ADDCOMEDT"[DGMTACT D SAVESTAT^DGMTU4(DGMTI,DGERR)
"RTN","EASECSC",27,0)
 K DGERR
"RTN","EASECSC",28,0)
 ;
"RTN","EASECSC",29,0)
 G @(DGMTROU)
"RTN","EASECSC",30,0)
 ;
"RTN","EASECSC",31,0)
MG ;Print set-up error messages
"RTN","EASECSC",32,0)
 I $D(DGVPRI),DGVPRI'>0 W !!?3,"Patient Relation cannot be setup for patient."
"RTN","EASECSC",33,0)
 I $D(DGVINI),DGVINI'>0 W !!?3,"Individual Annual Income cannot be setup for patient."
"RTN","EASECSC",34,0)
 ;I $D(DGMTPAR),DGMTPAR']"",DGMTYPT=1 W !!?3,"Means Test Thresholds are not defined."
"RTN","EASECSC",35,0)
 W !?3,*7,"Please contact your site manager."
"RTN","EASECSC",36,0)
 Q
"RTN","EASECSC",37,0)
 ;
"RTN","EASECSC",38,0)
EDT() ;Edit means/copay test if incomplete
"RTN","EASECSC",39,0)
 N DIR,Y
"RTN","EASECSC",40,0)
 S DIR("A")="Do you wish to edit the LTC co-pay test"
"RTN","EASECSC",41,0)
 S DIR("B")="YES",DIR(0)="Y" D ^DIR
"RTN","EASECSC",42,0)
 Q +$G(Y)
"RTN","EASECSC1")
0^24^B26351362
"RTN","EASECSC1",1,0)
EASECSC1 ;ALB/PHH - LTC Co-Pay Test Screen Military Service ;18 AUG 2001
"RTN","EASECSC1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSC1",3,0)
 ;
"RTN","EASECSC1",4,0)
 ; Input  -- DFN      Patient IEN
"RTN","EASECSC1",5,0)
 ;           DGMTACT  LTC Co-Pay Test Action
"RTN","EASECSC1",6,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSC1",7,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","EASECSC1",8,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","EASECSC1",9,0)
 ; Output -- None
"RTN","EASECSC1",10,0)
 ;
"RTN","EASECSC1",11,0)
EN ;Entry point
"RTN","EASECSC1",12,0)
 D ^DGRPV
"RTN","EASECSC1",13,0)
 D EASECRP6
"RTN","EASECSC1",14,0)
 S X="^2"
"RTN","EASECSC1",15,0)
 S:$$PAUSE(0) X="^"
"RTN","EASECSC1",16,0)
 G EN1^EASECSCR
"RTN","EASECSC1",17,0)
 Q
"RTN","EASECSC1",18,0)
PAUSE(RESP) ; Prompt user for next page or quit
"RTN","EASECSC1",19,0)
 N DIR,DIRUT,DUOUT,DTOUT,U,X,Y
"RTN","EASECSC1",20,0)
 S DIR(0)="E"
"RTN","EASECSC1",21,0)
 D ^DIR
"RTN","EASECSC1",22,0)
 I 'Y S RESP=1
"RTN","EASECSC1",23,0)
 Q RESP
"RTN","EASECSC1",24,0)
 ;
"RTN","EASECSC1",25,0)
EASECRP6 ; Display the screen
"RTN","EASECSC1",26,0)
 ; Note: This section was copied from ^DGRP6 and modified specifically
"RTN","EASECSC1",27,0)
 ;       to work with LTC.
"RTN","EASECSC1",28,0)
 ;
"RTN","EASECSC1",29,0)
 S (DGRPS,DGMTSCI)=1 D HD^EASECSCU F I=.32,.321,.322,.36,.52,.53 S DGRP(I)=$S($D(^DPT(DFN,I)):^(I),1:"")
"RTN","EASECSC1",30,0)
 S (DGRPW,Z)=1 D WW S Z="    Service Branch",Z1=24 D WW1^DGRPV S Z="   Service #",Z1=19 D WW1^DGRPV S Z="   Entered",Z1=12 D WW1^DGRPV S Z="   Separated",Z1=12 D WW1^DGRPV W "   Discharge"
"RTN","EASECSC1",31,0)
 W !?4,"--------------",?27,"---------",?46,"-------",?58,"---------",?70,"---------"
"RTN","EASECSC1",32,0)
 S DGRPX=DGRP(.32),DGRPSV=4 D S I $P(DGRPX,"^",19)="Y" S DGRPSV=9 D S I $P(DGRPX,"^",20)="Y" S DGRPSV=14 D S
"RTN","EASECSC1",33,0)
 S Z=2,DGRPX=DGRP(.52) D WW W "           POW: " S X=5,Z1=6 D YN W "From: " S X=7,Z1=13 D DAT W "To: " S X=8,Z1=12 D DAT W "War: ",$S($D(^DIC(22,+$P(DGRPX,"^",6),0)):$P(^(0),"^",2),1:"")
"RTN","EASECSC1",34,0)
 S Z=3 D WW W "        Combat: " S X=11,Z1=6 D YN W "From: " S X=13,Z1=13 D DAT W "To: " S X=14,Z1=12 D DAT W "Loc: ",$S($D(^DIC(22,+$P(DGRPX,"^",12),0)):$P(^(0),"^",2),1:"")
"RTN","EASECSC1",35,0)
 S Z=4,DGRPX=DGRP(.321) D WW W "       Vietnam: " S X=1,Z1=6 D YN W "From: " S X=4,Z1=13 D DAT W "To: " S X=5,X1=13 D DAT
"RTN","EASECSC1",36,0)
 S Z=5 D WW W "      A/O Exp.: " S X=2,Z1=7 D YN W "Reg: " S X=7,Z1=11 D DAT W "Exam: " S X=9,Z1=11 D DAT W "A/O#: ",$P(DGRPX,"^",10)
"RTN","EASECSC1",37,0)
 S Z=6 D WW W "      ION Rad.: " S X=3,Z1=7 D YN W "Reg: " S X=11,Z1=9 D DAT W "Method: " S X=$P(DGRPX,"^",12) W $S(X="B":"BOTH",X="T":"NUCLEAR TESTING",X="N":"NAGASAKI/HIROSHIMA",1:"")
"RTN","EASECSC1",38,0)
 S DGRPX=DGRP(.322)
"RTN","EASECSC1",39,0)
 F DGX=1,4,7,10 S X=DGX,Z=DGX-1/3+7 D WW W:DGX<10 " " W $S(DGX=1:"      Lebanon",DGX=4:"      Grenada",DGX=7:"       Panama",1:"      Gulf War"),": " S Z1=6 D YN W "From: " S X=DGX+1,Z1=13 D DAT W "To: " S X=DGX+2,Z1=12 D DAT
"RTN","EASECSC1",40,0)
 S Z=11 D WW W "       Somalia: " S (DGX,X)=16,Z1=6 D YN W "From: " S X=17,Z1=13 D DAT W "To: " S X=18,Z1=12 D DAT
"RTN","EASECSC1",41,0)
 S Z=12 D WW W "    Env Contam: " S X=13,Z1=7 D YN W "Reg: " S X=14,Z1=11 D DAT W "Exam: " S X=15,Z1=10 D DAT
"RTN","EASECSC1",42,0)
 S Z=13 D WW S X=$P(DGRP(.36),"^",2)
"RTN","EASECSC1",43,0)
 W "     Mil Disab: ",$S(X=0:"NO",X=1:"YES",X=2:"YES",X=3:"UNK",1:"UNANSWERED") I X]"",(X'=3) W ", Applicant is ",$S('X:"NOT ",1:""),"retired from military due to disability." I X=2 D MR
"RTN","EASECSC1",44,0)
 S Z=14 D WW W "      Dent Inj: " S DGRPX=DGRP(.36),X=8,Z1=28 D YN W "Teeth Extracted: " S X=9,Z1=9 D YN S DGRPD=0 I $P(DGRPX,"^",8)="Y",$P(DGRPX,"^",9)="Y" S DGRPD=1
"RTN","EASECSC1",45,0)
 I DGRPD S I1="" F I=0:0 S I=$O(^DPT(DFN,.37,I)) Q:'I  S I1=1,DGRPX=^(I,0) D DEN
"RTN","EASECSC1",46,0)
 S DGRPX=DGRP(.322)
"RTN","EASECSC1",47,0)
 S Z=15 D WW W "    Yugoslavia: " S (DGX,X)=19,Z1=6 D YN W "From: " S X=20,Z1=13 D DAT W "To: " S X=21,Z1=12 D DAT
"RTN","EASECSC1",48,0)
 S Z=16 D WW W "  Purple Heart: " S DGRPX=DGRP(.53),X=1 D YN D
"RTN","EASECSC1",49,0)
 . I $P($G(DGRPX),U)="Y",($P($G(DGRPX),U,2)]"") W ?26,"PH Status: "_$S($P($G(DGRPX),U,2)="1":"Pending",$P($G(DGRPX),U,2)="2":"In Process",$P($G(DGRPX),U,2)="3":"Confirmed",1:"")
"RTN","EASECSC1",50,0)
 I $P($G(DGRPX),U)="N" D
"RTN","EASECSC1",51,0)
 . S DGX=$P(DGRPX,U,3)
"RTN","EASECSC1",52,0)
 . S DGX=$S($G(DGX)=1:"UNACCEPTABLE DOCUMENTATION",$G(DGX)=2:"NO DOCUMENTATION REC'D",$G(DGX)=3:"ENTERED IN ERROR",$G(DGX)=4:"UNSUPPORTED PURPLE HEART",$G(DGX)=5:"VAMC",$G(DGX)=6:"UNDELIVERABLE MAIL",1:"")
"RTN","EASECSC1",53,0)
 . I $G(DGX)]"" W ?26,"PH Remarks: "_$S($G(DGX)]"":$G(DGX),1:"")
"RTN","EASECSC1",54,0)
 S Z=17 D WW W "    N/T Radium: " D     ;N/T Radium Treatment expos.
"RTN","EASECSC1",55,0)
 . N DGNT S DGRPX=$$GETCUR^DGNTAPI(DFN,"DGNT") W $G(DGNT("INTRP"))
"RTN","EASECSC1",56,0)
Q K DGRPD,DGRPSV
"RTN","EASECSC1",57,0)
 Q
"RTN","EASECSC1",58,0)
YN S Z=$S($P(DGRPX,"^",X)="Y":"YES",$P(DGRPX,"^",X)="N":"NO",$P(DGRPX,"^",X)="U":"UNK",1:"") D WW1^DGRPV Q
"RTN","EASECSC1",59,0)
DAT S Z=$P(DGRPX,"^",X) I Z']"" S Z=""
"RTN","EASECSC1",60,0)
 E  S Z=$$FMTE^XLFDT(Z,"5DZ")
"RTN","EASECSC1",61,0)
 D WW1^DGRPV Q
"RTN","EASECSC1",62,0)
DEN W !?3," Trt Date: " S X=1,Z1=10 D DAT W "Cond.: ",$E($P(DGRPX,"^",2),1,45) Q
"RTN","EASECSC1",63,0)
S W !?4,$S($D(^DIC(23,+$P(DGRPX,"^",DGRPSV+1),0)):$E($P(^(0),"^",1),1,24),1:DGRPU),?27,$S($P(DGRPX,"^",DGRPSV+4)]"":$P(DGRPX,"^",DGRPSV+4),1:DGRPU)
"RTN","EASECSC1",64,0)
 F I=2,3 S X=$P(DGRPX,"^",DGRPSV+I),X=$S(X]"":$$FMTE^XLFDT(X,"5DZ"),1:"UNKNOWN") W ?$S(I=2:46,1:58),X
"RTN","EASECSC1",65,0)
 W ?70,$S($D(^DIC(25,+$P(DGRPX,"^",DGRPSV),0)):$E($P(^(0),"^",1),1,9),1:"UNKNOWN") Q
"RTN","EASECSC1",66,0)
MR W !?19,"Receiving Military retirement in lieu of VA Compensation." Q
"RTN","EASECSC1",67,0)
WW ;Write number on screens for display and/or edit (Z=number)
"RTN","EASECSC1",68,0)
 ; NOTE: This section was copied from WW^DGRPV and modified specifically
"RTN","EASECSC1",69,0)
 ;       for LTC.  The code calling ^DGRPV has been redirected here.
"RTN","EASECSC1",70,0)
 W:DGRPW !
"RTN","EASECSC1",71,0)
 Q
"RTN","EASECSC2")
0^25^B19118222
"RTN","EASECSC2",1,0)
EASECSC2 ;ALB/PHH - LTC Co-Pay Test Screen Eligibility Information ;18 AUG 2001
"RTN","EASECSC2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSC2",3,0)
 ;
"RTN","EASECSC2",4,0)
 ; Input  -- DFN      Patient IEN
"RTN","EASECSC2",5,0)
 ;           DGMTACT  LTC Co-Pay Test Action
"RTN","EASECSC2",6,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSC2",7,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","EASECSC2",8,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","EASECSC2",9,0)
 ; Output -- None
"RTN","EASECSC2",10,0)
 ;
"RTN","EASECSC2",11,0)
EN ;Entry point
"RTN","EASECSC2",12,0)
 D ^DGRPV
"RTN","EASECSC2",13,0)
 D EASECRP7
"RTN","EASECSC2",14,0)
 S X="^3"
"RTN","EASECSC2",15,0)
 S:$$PAUSE(0) X="^"
"RTN","EASECSC2",16,0)
 G EN1^EASECSCR
"RTN","EASECSC2",17,0)
 Q
"RTN","EASECSC2",18,0)
PAUSE(RESP) ; Prompt user for next page or quit
"RTN","EASECSC2",19,0)
 N DIR,DIRUT,DUOUT,DTOUT,U,X,Y
"RTN","EASECSC2",20,0)
 S DIR(0)="E"
"RTN","EASECSC2",21,0)
 D ^DIR
"RTN","EASECSC2",22,0)
 I 'Y S RESP=1
"RTN","EASECSC2",23,0)
 Q RESP
"RTN","EASECSC2",24,0)
 ;
"RTN","EASECSC2",25,0)
EASECRP7 ; Display the screen
"RTN","EASECSC2",26,0)
 ; Note: This section was copied from ^DGRP7 and modified specifically
"RTN","EASECSC2",27,0)
 ;       to work with LTC.
"RTN","EASECSC2",28,0)
 ;
"RTN","EASECSC2",29,0)
 N DGCASH,DGMBCK
"RTN","EASECSC2",30,0)
 S (DGRPS,DGMTSCI)=2 D HD^EASECSCU F I=0,.29,.3,.31,.32,.36,.362,"TYPE","VET" S DGRP(I)=$S($D(^DPT(DFN,I)):^(I),1:"")
"RTN","EASECSC2",31,0)
 S (DGRPW,Z)=1 D WW W "          Patient Type: " S DGRPX=DGRP("TYPE"),Z=$S($D(^DG(391,+DGRPX,0)):$P(^(0),"^",1),1:DGRPU),Z1=36 D WW1^DGRPV W "Veteran: " S DGRPX=DGRP("VET"),(X,Z1)=1 D YN
"RTN","EASECSC2",32,0)
 W !?9,"Svc Connected: " S DGRPX=DGRP(.3),X=1,Z1=33,DGNA=$S($P(DGRP("VET"),"^",1)="Y":0,1:1) D YN2 W "SC Percent: " W:$E(Z)'="Y" "N/A" I $E(Z)="Y" D
"RTN","EASECSC2",33,0)
 .S X=$P(DGRPX,"^",2) W $S(X="":"UNANSWERED",1:+X_"%")
"RTN","EASECSC2",34,0)
 .S X=$P(DGRP(.3),"^",1),DGNA=$S(X'="Y":1,1:0)
"RTN","EASECSC2",35,0)
 .W !?19,"P&T: " S X=4,Z1=31 D YN2 W "Unemployable: " S X=5,Z1=0 D YN2
"RTN","EASECSC2",36,0)
 .W !?9,"SC Award Date: ",$$DATENP^DG1010P0(DGRPX,12)
"RTN","EASECSC2",37,0)
 W !?9,"Rated Incomp.: " S X=$$YN2^DG1010P0(DGRP(.29),12) W X D:X["Y"
"RTN","EASECSC2",38,0)
 .W "   Date (CIVIL): ",$$DATENP^DG1010P0(DGRP(.29),2)
"RTN","EASECSC2",39,0)
 .W "    Date (VA): ",$$DATENP^DG1010P0(DGRP(.29),1)
"RTN","EASECSC2",40,0)
 S DGRPX=DGRP(.31) W !?10,"Claim Number: ",$S($P(DGRPX,"^",3)]"":$P(DGRPX,"^",3),1:DGRPU),!?11,"Folder Loc.: ",$$POINT^DG1010P0(DGRP(.31),4,4)
"RTN","EASECSC2",41,0)
 S Z=2 D WW ;monetary benefits section
"RTN","EASECSC2",42,0)
 W "      Aid & Attendance: " S Z=$$YN2^DG1010P0(DGRP(.362),12) D MBCK S Z1=33 D WW1^DGRPV
"RTN","EASECSC2",43,0)
 W "Housebound: ",$$YN2^DG1010P0(DGRP(.362),13) D MBCK
"RTN","EASECSC2",44,0)
 W !?12,"VA Pension: " S Z=$$YN2^DG1010P0(DGRP(.362),14) D MBCK S Z1=30 D WW1^DGRPV
"RTN","EASECSC2",45,0)
 W "VA Disability: ",$$YN2^DG1010P0(DGRP(.3),11) D MBCK
"RTN","EASECSC2",46,0)
 W !?4,"Total Check Amount: " S X=$$DISP^DG1010P0(DGRP(.362),20,'DGMBCK) W $S(X:"$"_X,1:X)
"RTN","EASECSC2",47,0)
 W !?10,"GI Insurance: " S Z=$$YN2^DG1010P0(DGRP(.362),17) S Z1=37 D WW1^DGRPV
"RTN","EASECSC2",48,0)
 W "Amount: " S X=$$DISP^DG1010P0(DGRP(.362),6) W $S(X:"$"_X,1:X)
"RTN","EASECSC2",49,0)
 S Z=3 D WW S DGRPE=+DGRP(.36),Z=$S($D(^DIC(8,+DGRPE,0)):$P(^(0),"^",1),1:DGRPU)
"RTN","EASECSC2",50,0)
 W "     Primary Elig Code: ",Z D AAC1^DGLOCK2 I DGAAC(1)]"" W !?8,"Agency/Country: ",$S($D(^DIC(35,+$P(DGRP(.3),"^",9),0)):$P(^(0),"^",1),1:DGRPU)
"RTN","EASECSC2",51,0)
 W !?4,"Other Elig Code(s): " S I1="" F I=0:0 S I=$O(^DPT("AEL",DFN,I)) Q:'I  I $D(^DIC(8,+I,0)),I'=DGRPE S I1=I1+1 W:I1>1 !?24 W $P(^(0),"^",1)
"RTN","EASECSC2",52,0)
 W:'I1 "NO ADDITIONAL ELIGIBILITIES IDENTIFIED"
"RTN","EASECSC2",53,0)
 S DGRPX=+$P(DGRP(.32),"^",3) W !?5,"Period of Service: ",$S($D(^DIC(21,+DGRPX,0)):$P(^(0),"^",1),1:DGRPU)
"RTN","EASECSC2",54,0)
 D ^DGYZODS G:'DGODS CONT S DGRPX=$S($D(^DPT(DFN,"ODS")):^("ODS"),1:"") W !?6,"Recalled to Duty: ",$S($P(DGRPX,"^",2)=1:"FROM NATIONAL GUARDS",$P(DGRPX,"^",2)=2:"FROM RESERVES",$P(DGRPX,"^",2)=0:"NO",1:DGRPU)
"RTN","EASECSC2",55,0)
 W !?18,"Rank: ",$S($D(^DIC(25002.1,+$P(DGRPX,"^",3),0)):$P(^(0),"^",1),1:DGRPU)
"RTN","EASECSC2",56,0)
CONT ;print sc disabilities (per patient)
"RTN","EASECSC2",57,0)
 W ! S Z=4 D WW W "    Service Connected Conditions as stated by applicant" S X="",$P(X,"-",52)="" W !?4,X
"RTN","EASECSC2",58,0)
 W !?4 S I3=0 F I=0:0 S I=$O(^DPT(DFN,.373,I)) Q:'I  S I1=$P(^(I,0),"^",1)_" ("_+$P(^(0),"^",2)_"%), ",I3=I W:(79-$X)<$L(I1) !?4 W I1
"RTN","EASECSC2",59,0)
 W:'I3 ?4,"NONE STATED"
"RTN","EASECSC2",60,0)
Q K DGAAC,DGNA,DGODS,DGRP,DGRPE,DGRPX,I,I1,I2,I3,X,X1,Z,Z1
"RTN","EASECSC2",61,0)
 Q
"RTN","EASECSC2",62,0)
YN S Z=$S($P(DGRPX,"^",X)="Y":"YES",$P(DGRPX,"^",X)="N":"NO",$P(DGRPX,"^",X)="U":"UNKNOWN",1:"UNANSWERED") D WW1^DGRPV
"RTN","EASECSC2",63,0)
 Q
"RTN","EASECSC2",64,0)
YN2 S Z=$S(DGNA:"N/A",$P(DGRPX,"^",X)="Y":"YES",$P(DGRPX,"^",X)="N":"NO",$P(DGRPX,"^",X)="U":"UNKNOWN",1:"UNANSWERED") D WW1^DGRPV
"RTN","EASECSC2",65,0)
 Q
"RTN","EASECSC2",66,0)
MBCK ;flag for any MB Y/N fields = yes
"RTN","EASECSC2",67,0)
 S DGMBCK=$S($G(DGMBCK):1,(X="Y"):1,1:0)
"RTN","EASECSC2",68,0)
 Q
"RTN","EASECSC2",69,0)
WW ;Write number on screens for display and/or edit (Z=number)
"RTN","EASECSC2",70,0)
 ; NOTE: This section was copied from WW^DGRPV and modified specifically
"RTN","EASECSC2",71,0)
 ;       for LTC.  The code calling ^DGRPV has been redirected here.
"RTN","EASECSC2",72,0)
 W:DGRPW !
"RTN","EASECSC2",73,0)
 Q
"RTN","EASECSC3")
0^26^B2145477
"RTN","EASECSC3",1,0)
EASECSC3 ;ALB/PHH - LTC Co-Pay Test Screen Marital Status/Dependents ;13 AUG 2001
"RTN","EASECSC3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSC3",3,0)
 ;
"RTN","EASECSC3",4,0)
 ;NOTE: This routine was modified from DGMTSC1 for LTC Co-Pay
"RTN","EASECSC3",5,0)
 ; Input  -- DFN      Patient IEN
"RTN","EASECSC3",6,0)
 ;           DGMTACT  LTC Co-Pay Test Action
"RTN","EASECSC3",7,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSC3",8,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","EASECSC3",9,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","EASECSC3",10,0)
 ; Output -- None
"RTN","EASECSC3",11,0)
 ;
"RTN","EASECSC3",12,0)
EN ;Entry point for marital status/dependent screen
"RTN","EASECSC3",13,0)
 D DIS
"RTN","EASECSC3",14,0)
 S X="^4" G EN1^EASECSCR
"RTN","EASECSC3",15,0)
 ;
"RTN","EASECSC3",16,0)
DIS ;Display marital status/dependent information
"RTN","EASECSC3",17,0)
 N DGDEP,DGINR,DGREL,DGVIR0,X
"RTN","EASECSC3",18,0)
 D ALL^EASECU21(DFN,"CS",DGMTDT,"PR",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSC3",19,0)
 D EN^EASECDEP,DEP
"RTN","EASECSC3",20,0)
DISQ Q
"RTN","EASECSC3",21,0)
 ;
"RTN","EASECSC3",22,0)
SPOUSE ;Add/Edit spouse demographic data
"RTN","EASECSC3",23,0)
 N DGFL,DGIPI,DGPRI,DGREL,DGPRTY
"RTN","EASECSC3",24,0)
 D GETREL^DGMTU11(DFN,"S",$E($S($G(DGMTDT):DGMTDT,1:DT),1,3)_"0000",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSC3",25,0)
SPOUSE1 S DGPRTY="S",DGPRI=$G(DGREL("S"))
"RTN","EASECSC3",26,0)
 D:DGPRI EDIT^EASECED(DGPRI,DGPRTY)
"RTN","EASECSC3",27,0)
 D ADD^EASECED(DFN,DGPRTY):'DGPRI
"RTN","EASECSC3",28,0)
 I DGFL<0 S DGMTOUT=1
"RTN","EASECSC3",29,0)
SPOUSEQ Q
"RTN","EASECSC3",30,0)
 ;
"RTN","EASECSC3",31,0)
DEP ;Update number of dependent children
"RTN","EASECSC3",32,0)
 N DA,DGDEP,DGREL,DIE,DR
"RTN","EASECSC3",33,0)
 D GETREL^DGMTU11(DFN,"C",$E(DGMTDT,1,3)_"0000",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSC3",34,0)
 S DA=DGVIRI,DIE="^DGMT(408.22,",DR=".08////^S X="_$S(DGDEP:1,1:0)_";.13///"_$S(DGDEP:DGDEP,1:"@") D ^DIE
"RTN","EASECSC3",35,0)
 Q
"RTN","EASECSC4")
0^27^B8881538
"RTN","EASECSC4",1,0)
EASECSC4 ;ALB/PHH - LTC Co-Pay Test Screen Assets ;10 AUG 2001
"RTN","EASECSC4",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSC4",3,0)
 ;
"RTN","EASECSC4",4,0)
 ; Input  -- DFN      Patient IEN
"RTN","EASECSC4",5,0)
 ;           DGMTDT   Date of Test
"RTN","EASECSC4",6,0)
 ;           DGMTYPT  Type of Test 3=LTC Co-Pay
"RTN","EASECSC4",7,0)
 ;           DGMTPAR  Annual Test Parameter Array
"RTN","EASECSC4",8,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSC4",9,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","EASECSC4",10,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","EASECSC4",11,0)
 ; Output -- None
"RTN","EASECSC4",12,0)
 ;
"RTN","EASECSC4",13,0)
EN ;Entry point for net worth screen
"RTN","EASECSC4",14,0)
 S DGMTSCI=4 D HD^EASECSCU
"RTN","EASECSC4",15,0)
 D DIS
"RTN","EASECSC4",16,0)
 S DGRNG="1-6" G EN^EASECSCR
"RTN","EASECSC4",17,0)
 ;
"RTN","EASECSC4",18,0)
EN1 ;Entry point for read processor return
"RTN","EASECSC4",19,0)
 D ALL^EASECU21(DFN,"S",DGMTDT,"IPR",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSC4",20,0)
 I DGX!($G(DGSELTY)["V") S DGPRI=DGVPRI,DGPRTY="V" D EDT
"RTN","EASECSC4",21,0)
 I '$G(DGMTOUT)&($G(DGSEL)["S")&(DGX!($G(DGSELTY)["S")) S DGPRI=+DGREL("S"),DGPRTY="S" D EDT
"RTN","EASECSC4",22,0)
Q K DGCNT,DGDEP,DGDR,DGMTOUT,DGPRI,DGPRTY,DGREL,DGSEL,DGSELTY,DGX,DGY,DTOUT,DUOUT,Y
"RTN","EASECSC4",23,0)
 G EN
"RTN","EASECSC4",24,0)
 ;
"RTN","EASECSC4",25,0)
DIS ;Display net worth
"RTN","EASECSC4",26,0)
 N DGCAT,DGDC,DGDET,DGIN0,DGIN1,DGIN2,DGINT,DGINTF,DGMTS,DGNC,DGND,DGNWT,DGNWTF,DGSP,DGTYC,DGTHA,DGTHB,DGVIR0,DGCNT
"RTN","EASECSC4",27,0)
 D DEP^EASECSU3,INC^EASECSU3 S DGCNT=1
"RTN","EASECSC4",28,0)
 W !?39,"Veteran" W:DGSP " and Spouse" W ?73,"Total"
"RTN","EASECSC4",29,0)
 W !?36,"------------------------------------------"
"RTN","EASECSC4",30,0)
 D HIGH^DGMTSCU1(1,DGMTACT),FLD(.DGIN2,6,"Residence")
"RTN","EASECSC4",31,0)
 D HIGH^DGMTSCU1(2,DGMTACT),FLD(.DGIN2,7,"Other Residences/Land/Farm/or Ranch")
"RTN","EASECSC4",32,0)
 D HIGH^DGMTSCU1(3,DGMTACT),FLD(.DGIN2,8,"Vehicle(s)")
"RTN","EASECSC4",33,0)
 D HIGH^DGMTSCU1(4,DGMTACT),FLD(.DGIN2,1,"Cash")
"RTN","EASECSC4",34,0)
 D HIGH^DGMTSCU1(5,DGMTACT),FLD(.DGIN2,2,"Stocks, Bonds, Mutual Funds, SEP's")
"RTN","EASECSC4",35,0)
 D HIGH^DGMTSCU1(6,DGMTACT),FLD(.DGIN2,9,"Other Liquid Assets")
"RTN","EASECSC4",36,0)
 W !?56,"Total -->",?66,$J($$AMT^DGMTSCU1(DGNWT),12)
"RTN","EASECSC4",37,0)
DISQ Q
"RTN","EASECSC4",38,0)
 ;
"RTN","EASECSC4",39,0)
FLD(DGIN,DGPCE,DGTXT) ;Display income fields
"RTN","EASECSC4",40,0)
 ;
"RTN","EASECSC4",41,0)
 ;    Input -- DGIN as Individual Annual Income 0 node for vet,
"RTN","EASECSC4",42,0)
 ;                  spouse, and dependents
"RTN","EASECSC4",43,0)
 ;             DGRPCE as piece position wanted
"RTN","EASECSC4",44,0)
 ;             DGTXT as income description
"RTN","EASECSC4",45,0)
 ;
"RTN","EASECSC4",46,0)
 ;             Also keeps running total if DGGTOT is defined (grand
"RTN","EASECSC4",47,0)
 ;                  total)
"RTN","EASECSC4",48,0)
 ;
"RTN","EASECSC4",49,0)
 N DGTOT,I
"RTN","EASECSC4",50,0)
 I '$D(DGBL) S $P(DGBL," ",26)=""
"RTN","EASECSC4",51,0)
 W:DGCNT<10 " "
"RTN","EASECSC4",52,0)
 W " ",$E(DGTXT_DGBL,1,26)
"RTN","EASECSC4",53,0)
 W $J($$AMT^DGMTSCU1($P(DGIN("V"),"^",DGPCE)),15)
"RTN","EASECSC4",54,0)
 W "      "
"RTN","EASECSC4",55,0)
 W " ",$S($D(DGIN("D")):$J($$AMT^DGMTSCU1($P(DGIN("D"),"^",DGPCE)),11),1:$E(DGBL,1,11))
"RTN","EASECSC4",56,0)
 S DGTOT="",I="" F  S I=$O(DGIN(I)) Q:I=""  I $P(DGIN(I),"^",DGPCE)]"" S DGTOT=DGTOT+$P(DGIN(I),"^",DGPCE)
"RTN","EASECSC4",57,0)
 W "  ",$J($$AMT^DGMTSCU1(DGTOT),12)
"RTN","EASECSC4",58,0)
 S DGCNT=DGCNT+1
"RTN","EASECSC4",59,0)
 Q
"RTN","EASECSC4",60,0)
 ;
"RTN","EASECSC4",61,0)
EDT ;Edit net worth fields
"RTN","EASECSC4",62,0)
 N DA,DGERR,DGFIN,DGINI,DGIN2,DGIRI,DIE,DR
"RTN","EASECSC4",63,0)
 D GETIENS^EASECU2(DFN,DGPRI,DGMTDT) G EDTQ:DGERR
"RTN","EASECSC4",64,0)
 I $G(DGSEL)]"" W !!,"NAME: ",$$NAME^DGMTU1(DGPRI)
"RTN","EASECSC4",65,0)
 S DGIN2=$G(^DGMT(408.21,DGINI,2))
"RTN","EASECSC4",66,0)
 S DA=DGINI,DIE="^DGMT(408.21,",DR="[EASEC ENTER/EDIT ASSETS]" D ^DIE S:'$D(DGFIN) DGMTOUT=1
"RTN","EASECSC4",67,0)
 I DGIN2'=$G(^DGMT(408.21,DGINI,2)) D
"RTN","EASECSC4",68,0)
 .S DR="103////^S X=DUZ;104///^S X=""NOW"""
"RTN","EASECSC4",69,0)
 .I '$G(^DGMT(408.21,DGINI,"MT")) S DR=DR_";31////^S X=$G(DGMTI)"
"RTN","EASECSC4",70,0)
 .D ^DIE
"RTN","EASECSC4",71,0)
EDTQ Q
"RTN","EASECSC5")
0^28^B12847621
"RTN","EASECSC5",1,0)
EASECSC5 ;ALB/PHH - LTC Co-Pay Test Screen Income ;13 AUG 2001
"RTN","EASECSC5",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSC5",3,0)
 ;
"RTN","EASECSC5",4,0)
 ; Input  -- DFN      Patient IEN
"RTN","EASECSC5",5,0)
 ;           DGMTDT   Date of Test
"RTN","EASECSC5",6,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSC5",7,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","EASECSC5",8,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","EASECSC5",9,0)
 ;           DGMTI    LTC Co-Pay Test IEN
"RTN","EASECSC5",10,0)
 ; Output -- None
"RTN","EASECSC5",11,0)
 ;
"RTN","EASECSC5",12,0)
EN ;Entry point for calendar year income screen
"RTN","EASECSC5",13,0)
 S DGMTSCI=5 D HD^EASECSCU
"RTN","EASECSC5",14,0)
 D DIS
"RTN","EASECSC5",15,0)
 S DGRNG="1-14" G EN^EASECSCR
"RTN","EASECSC5",16,0)
 ;
"RTN","EASECSC5",17,0)
EN1 ;Entry point for read processor return
"RTN","EASECSC5",18,0)
 D ALL^EASECU21(DFN,"CS",DGMTDT,"IPR",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSC5",19,0)
 I DGX!($G(DGSELTY)["V") S DGPRI=DGVPRI,DGPRTY="V" D EDT
"RTN","EASECSC5",20,0)
 I '$G(DGMTOUT)&($G(DGSEL)["S")&(DGX!($G(DGSELTY)["S")) S DGPRI=+DGREL("S"),DGPRTY="S" D EDT
"RTN","EASECSC5",21,0)
 I '$G(DGMTOUT)&($G(DGSEL)["C")&(DGX!($G(DGSELTY)["C")) S DGPRTY="C",DGCNT=0 F  S DGCNT=$O(DGREL("C",DGCNT)) Q:'DGCNT!($G(DGMTOUT))  D
"RTN","EASECSC5",22,0)
 .D CHK^DGMTSCU2 I Y S DGPRI=+DGREL("C",DGCNT) D EDT
"RTN","EASECSC5",23,0)
Q K DGCNT,DGDEP,DGDR,DGMTOUT,DGPRI,DGPRTY,DGREL,DGSEL,DGSELTY,DGX,DGY,DTOUT,DUOUT,Y
"RTN","EASECSC5",24,0)
 G EN
"RTN","EASECSC5",25,0)
 ;
"RTN","EASECSC5",26,0)
DIS ;Display income
"RTN","EASECSC5",27,0)
 N DGDC,DGDET,DGIN0,DGIN1,DGIN2,DGINT,DGINTF,DGNC,DGND,DGNWT,DGNWTF,DGSP,DGVIR0,DGCNT
"RTN","EASECSC5",28,0)
 D DEP^EASECSU3,INC^EASECSU3 S DGCNT=1
"RTN","EASECSC5",29,0)
 W !!?39,"Veteran" W:DGSP ?56,"Spouse" W ?73,"Total"
"RTN","EASECSC5",30,0)
 W !?36,"------------------------------------------"
"RTN","EASECSC5",31,0)
 D HIGH^DGMTSCU1(1,DGMTACT),FLD(.DGIN0,14,"Current Income")
"RTN","EASECSC5",32,0)
 D HIGH^DGMTSCU1(2,DGMTACT),FLD(.DGIN0,8,"Soc. Sec. Retire/Disable")
"RTN","EASECSC5",33,0)
 D HIGH^DGMTSCU1(3,DGMTACT),FLD(.DGIN0,15,"Interest/Dividends")
"RTN","EASECSC5",34,0)
 D HIGH^DGMTSCU1(4,DGMTACT),FLD(.DGIN0,6,"Retirement/Pension Income")
"RTN","EASECSC5",35,0)
 D HIGH^DGMTSCU1(5,DGMTACT),FLD(.DGIN0,9,"Civil Service Retirement")
"RTN","EASECSC5",36,0)
 D HIGH^DGMTSCU1(6,DGMTACT),FLD(.DGIN0,10,"U.S. Railroad Retirement")
"RTN","EASECSC5",37,0)
 D HIGH^DGMTSCU1(7,DGMTACT),FLD(.DGIN0,7,"VA Pension")
"RTN","EASECSC5",38,0)
 D HIGH^DGMTSCU1(8,DGMTACT),FLD(.DGIN0,19,"Spouse VA Disable/Compens")
"RTN","EASECSC5",39,0)
 D HIGH^DGMTSCU1(9,DGMTACT),FLD(.DGIN0,12,"Unemployment Benefit/Comp")
"RTN","EASECSC5",40,0)
 D HIGH^DGMTSCU1(10,DGMTACT),FLD(.DGIN0,16,"Other Compensation")
"RTN","EASECSC5",41,0)
 D HIGH^DGMTSCU1(11,DGMTACT),FLD(.DGIN0,11,"Military Retirement")
"RTN","EASECSC5",42,0)
 D HIGH^DGMTSCU1(12,DGMTACT),FLD(.DGIN0,13,"Other Retirement")
"RTN","EASECSC5",43,0)
 D HIGH^DGMTSCU1(13,DGMTACT),FLD(.DGIN0,20,"Court Mandated")
"RTN","EASECSC5",44,0)
 D HIGH^DGMTSCU1(14,DGMTACT),FLD(.DGIN0,17,"Other Income")
"RTN","EASECSC5",45,0)
 W !?56,"Total -->",?66,$J($$AMT^DGMTSCU1(DGINT),12)
"RTN","EASECSC5",46,0)
 Q
"RTN","EASECSC5",47,0)
 ;
"RTN","EASECSC5",48,0)
FLD(DGIN,DGPCE,DGTXT) ;Display income fields
"RTN","EASECSC5",49,0)
 ;
"RTN","EASECSC5",50,0)
 ;    Input -- DGIN as Individual Annual Income 0 node for vet,
"RTN","EASECSC5",51,0)
 ;                  spouse, and dependents
"RTN","EASECSC5",52,0)
 ;             DGPCE as piece position wanted
"RTN","EASECSC5",53,0)
 ;             DGTXT as income description
"RTN","EASECSC5",54,0)
 ;
"RTN","EASECSC5",55,0)
 ;             Also keeps running total if DGGTOT is defined (grand
"RTN","EASECSC5",56,0)
 ;                  total)
"RTN","EASECSC5",57,0)
 ;
"RTN","EASECSC5",58,0)
 N DGTOT,I
"RTN","EASECSC5",59,0)
 I '$D(DGBL) S $P(DGBL," ",26)=""
"RTN","EASECSC5",60,0)
 W:DGCNT<10 " "
"RTN","EASECSC5",61,0)
 W " ",$E(DGTXT_DGBL,1,26)
"RTN","EASECSC5",62,0)
 W $J($$AMT^DGMTSCU1($P(DGIN("V"),"^",DGPCE)),15)
"RTN","EASECSC5",63,0)
 W " ",$S($D(DGIN("S")):$J($$AMT^DGMTSCU1($P(DGIN("S"),"^",DGPCE)),15),1:$E(DGBL,1,15))
"RTN","EASECSC5",64,0)
 W "  "
"RTN","EASECSC5",65,0)
 S DGTOT="",I="" F  S I=$O(DGIN(I)) Q:I=""  I $P(DGIN(I),"^",DGPCE)]"" S DGTOT=DGTOT+$P(DGIN(I),"^",DGPCE)
"RTN","EASECSC5",66,0)
 W "  ",$J($$AMT^DGMTSCU1(DGTOT),12)
"RTN","EASECSC5",67,0)
 S DGCNT=DGCNT+1
"RTN","EASECSC5",68,0)
 Q
"RTN","EASECSC5",69,0)
 ;
"RTN","EASECSC5",70,0)
EDT ;Edit income fields
"RTN","EASECSC5",71,0)
 N DA,DGERR,DGFIN,DGINI,DGIN0,DGIRI,DIE,DR
"RTN","EASECSC5",72,0)
 D GETIENS^EASECU2(DFN,DGPRI,DGMTDT) G EDTQ:DGERR
"RTN","EASECSC5",73,0)
 I $G(DGSEL)]"" W !!,"NAME: ",$$NAME^DGMTU1(DGPRI)
"RTN","EASECSC5",74,0)
 S DGIN0=$G(^DGMT(408.21,DGINI,0))
"RTN","EASECSC5",75,0)
 S DA=DGINI,DIE="^DGMT(408.21,",DR="[EASEC ENTER/EDIT INCOME]" D ^DIE S:'$D(DGFIN) DGMTOUT=1
"RTN","EASECSC5",76,0)
 I DGIN0'=$G(^DGMT(408.21,DGINI,0)) D
"RTN","EASECSC5",77,0)
 .S DR="103////^S X=DUZ;104///^S X=""NOW"""
"RTN","EASECSC5",78,0)
 .I '$G(^DGMT(408.21,DGINI,"MT")) S DR=DR_";31////^S X=$G(DGMTI)"
"RTN","EASECSC5",79,0)
 .D ^DIE
"RTN","EASECSC5",80,0)
EDTQ Q
"RTN","EASECSC6")
0^29^B10705759
"RTN","EASECSC6",1,0)
EASECSC6 ;ALB/PHH - LTC Co-Pay Test Screen Deductible Expense ;13 AUG 2001
"RTN","EASECSC6",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSC6",3,0)
 ;
"RTN","EASECSC6",4,0)
 ; Input  -- DFN      Patient IEN
"RTN","EASECSC6",5,0)
 ;           DGMTDT   Date of Test
"RTN","EASECSC6",6,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSC6",7,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","EASECSC6",8,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","EASECSC6",9,0)
 ;           DGMTI    LTC Co-Pay Test IEN
"RTN","EASECSC6",10,0)
 ; Output -- None
"RTN","EASECSC6",11,0)
 ;
"RTN","EASECSC6",12,0)
EN ;Entry point for expense screen
"RTN","EASECSC6",13,0)
 S DGMTSCI=6 D HD^EASECSCU
"RTN","EASECSC6",14,0)
 D DIS
"RTN","EASECSC6",15,0)
 S DGRNG="1-11" G EN^EASECSCR
"RTN","EASECSC6",16,0)
 ;
"RTN","EASECSC6",17,0)
EN1 ;Entry point for read processor return
"RTN","EASECSC6",18,0)
 D ALL^EASECU21(DFN,"CS",DGMTDT,"IPR",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSC6",19,0)
 I DGX!($G(DGSELTY)["V") S DGPRI=DGVPRI,DGPRTY="V" D EDT
"RTN","EASECSC6",20,0)
 I '$G(DGMTOUT)&($G(DGSEL)["S")&(DGX!($G(DGSELTY)["S")) S DGPRI=+DGREL("S"),DGPRTY="S" D EDT
"RTN","EASECSC6",21,0)
 I '$G(DGMTOUT)&($G(DGSEL)["C")&(DGX!($G(DGSELTY)["C")) S DGPRTY="C",DGCNT=0 F  S DGCNT=$O(DGREL("C",DGCNT)) Q:'DGCNT!($G(DGMTOUT))  D
"RTN","EASECSC6",22,0)
 .D CHK^DGMTSCU2 I Y S DGPRI=+DGREL("C",DGCNT) D EDT
"RTN","EASECSC6",23,0)
Q K DGCNT,DGDEP,DGDR,DGMTOUT,DGPRI,DGPRTY,DGREL,DGSEL,DGSELTY,DGX,DGY,DTOUT,DUOUT,Y
"RTN","EASECSC6",24,0)
 G EN
"RTN","EASECSC6",25,0)
 ;
"RTN","EASECSC6",26,0)
DIS ;Display deductible expenses
"RTN","EASECSC6",27,0)
 N DGDC,DGDET,DGIN0,DGIN1,DGIN2,DGINT,DGINTF,DGNC,DGND,DGNWT,DGNWTF,DGSP,DGVIR0,DGCNT
"RTN","EASECSC6",28,0)
 D DEP^EASECSU3,INC^EASECSU3 S DGCNT=1
"RTN","EASECSC6",29,0)
 W !!?39,"Veteran" W:DGSP " and Spouse" W ?73,"Total"
"RTN","EASECSC6",30,0)
 W !?36,"------------------------------------------"
"RTN","EASECSC6",31,0)
 D HIGH^DGMTSCU1(1,DGMTACT),FLD(.DGIN1,3,"Education")
"RTN","EASECSC6",32,0)
 D HIGH^DGMTSCU1(2,DGMTACT),FLD(.DGIN1,2,"Funeral and Burial")
"RTN","EASECSC6",33,0)
 D HIGH^DGMTSCU1(3,DGMTACT),FLD(.DGIN1,4,"Rent/Mortgage")
"RTN","EASECSC6",34,0)
 D HIGH^DGMTSCU1(4,DGMTACT),FLD(.DGIN1,5,"Utilities")
"RTN","EASECSC6",35,0)
 D HIGH^DGMTSCU1(5,DGMTACT),FLD(.DGIN1,6,"Car Payment Only")
"RTN","EASECSC6",36,0)
 D HIGH^DGMTSCU1(6,DGMTACT),FLD(.DGIN1,7,"Food")
"RTN","EASECSC6",37,0)
 D HIGH^DGMTSCU1(7,DGMTACT),FLD(.DGIN1,1,"Non-reimbursed medical expenses")
"RTN","EASECSC6",38,0)
 D HIGH^DGMTSCU1(8,DGMTACT),FLD(.DGIN1,8,"Court-ordered payments")
"RTN","EASECSC6",39,0)
 D HIGH^DGMTSCU1(9,DGMTACT),FLD(.DGIN1,9,"Insurance")
"RTN","EASECSC6",40,0)
 D HIGH^DGMTSCU1(10,DGMTACT),FLD(.DGIN1,10,"Taxes")
"RTN","EASECSC6",41,0)
 D HIGH^DGMTSCU1(11,DGMTACT),FLD(.DGIN1,11,"Taxes (Property, Personal)")
"RTN","EASECSC6",42,0)
 W !?56,"Total -->",?66,$J($$AMT^DGMTSCU1(DGDET),12)
"RTN","EASECSC6",43,0)
 Q
"RTN","EASECSC6",44,0)
 ;
"RTN","EASECSC6",45,0)
FLD(DGIN,DGPCE,DGTXT) ;Display income fields
"RTN","EASECSC6",46,0)
 ;
"RTN","EASECSC6",47,0)
 ;    Input -- DGIN as Individual Annual Income 0 node for vet,
"RTN","EASECSC6",48,0)
 ;                  spouse, and dependents
"RTN","EASECSC6",49,0)
 ;             DGPCE as piece position wanted
"RTN","EASECSC6",50,0)
 ;             DGTXT as income description
"RTN","EASECSC6",51,0)
 ;
"RTN","EASECSC6",52,0)
 ;             Also keeps running total if DGGTOT is defined (grand
"RTN","EASECSC6",53,0)
 ;                  total)
"RTN","EASECSC6",54,0)
 ;
"RTN","EASECSC6",55,0)
 N DGTOT,I
"RTN","EASECSC6",56,0)
 I '$D(DGBL) S $P(DGBL," ",26)=""
"RTN","EASECSC6",57,0)
 W:DGCNT<10 " "
"RTN","EASECSC6",58,0)
 W " ",$E(DGTXT_DGBL,1,26)
"RTN","EASECSC6",59,0)
 W $J($$AMT^DGMTSCU1($P(DGIN("V"),"^",DGPCE)),15)
"RTN","EASECSC6",60,0)
 W "                  "
"RTN","EASECSC6",61,0)
 S DGTOT="",I="" F  S I=$O(DGIN(I)) Q:I=""  I $P(DGIN(I),"^",DGPCE)]"" S DGTOT=DGTOT+$P(DGIN(I),"^",DGPCE)
"RTN","EASECSC6",62,0)
 W "  ",$J($$AMT^DGMTSCU1(DGTOT),12)
"RTN","EASECSC6",63,0)
 S DGCNT=DGCNT+1
"RTN","EASECSC6",64,0)
 Q
"RTN","EASECSC6",65,0)
 ;
"RTN","EASECSC6",66,0)
EDT ;Edit income fields
"RTN","EASECSC6",67,0)
 N DA,DGERR,DGFIN,DGINI,DGIN0,DGIRI,DIE,DR
"RTN","EASECSC6",68,0)
 D GETIENS^EASECU2(DFN,DGPRI,DGMTDT) G EDTQ:DGERR
"RTN","EASECSC6",69,0)
 I $G(DGSEL)]"" W !!,"NAME: ",$$NAME^DGMTU1(DGPRI)
"RTN","EASECSC6",70,0)
 S DGIN1=$G(^DGMT(408.21,DGINI,1))
"RTN","EASECSC6",71,0)
 S DA=DGINI,DIE="^DGMT(408.21,",DR="[EASEC ENTER/EDIT EXPENSES]" D ^DIE S:'$D(DGFIN) DGMTOUT=1
"RTN","EASECSC6",72,0)
 I DGIN1'=$G(^DGMT(408.21,DGINI,1)) D
"RTN","EASECSC6",73,0)
 .S DR="103////^S X=DUZ;104///^S X=""NOW"""
"RTN","EASECSC6",74,0)
 .I '$G(^DGMT(408.21,DGINI,"MT")) S DR=DR_";31////^S X=$G(DGMTI)"
"RTN","EASECSC6",75,0)
 .D ^DIE
"RTN","EASECSC6",76,0)
EDTQ Q
"RTN","EASECSCC")
0^30^B23155600
"RTN","EASECSCC",1,0)
EASECSCC ;ALB/LBD - LTC Co-Pay Test Screen Completion;13 AUG 2001 ; 9/4/01 10:21am
"RTN","EASECSCC",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSCC",3,0)
 ;
"RTN","EASECSCC",4,0)
 ;NOTE: This routine was modified from DGMTSCC for LTC Co-pay
"RTN","EASECSCC",5,0)
 ; Input  -- DFN      Patient IEN
"RTN","EASECSCC",6,0)
 ;           DGMTACT  Menu Action
"RTN","EASECSCC",7,0)
 ;           DGMTDT   Date of Test
"RTN","EASECSCC",8,0)
 ;           DGMTYPT  Type of Test 3=LTC COPAY
"RTN","EASECSCC",9,0)
 ;           DGMTPAR  Annual Means Test Parameters
"RTN","EASECSCC",10,0)
 ;           DGMTI    Annual Means Test IEN
"RTN","EASECSCC",11,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSCC",12,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","EASECSCC",13,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","EASECSCC",14,0)
 ; Output -- DGERR    1=INCOMPLETE and 0=COMPLETE
"RTN","EASECSCC",15,0)
 ;
"RTN","EASECSCC",16,0)
EN N DGCAT,DGCOMF,DGDC,DGDET,DGIN0,DGIN1,DGIN2,DGINT,DGINTF,DGMTS,DGNC,DGND,DGNWT,DGNWTF,DGREF1,DGSP,DGTYC,DGTHA,DGTHB,DGVIR0,DGCOPS,DGCOST,DGRE,DGSTA,DGAGR
"RTN","EASECSCC",17,0)
 S DGERR=0
"RTN","EASECSCC",18,0)
 I DGMTACT="ADD" D COM I 'Y!($D(DTOUT))!($D(DUOUT)) G Q
"RTN","EASECSCC",19,0)
 S DGCOMF=1 D DEP^EASECSU3,INC^EASECSU3
"RTN","EASECSCC",20,0)
 ; Did vet refuse to give income info
"RTN","EASECSCC",21,0)
 I 'DGINTF,'DGNWTF S DGREF1="" D REF G Q:$D(DTOUT)!($D(DUOUT))
"RTN","EASECSCC",22,0)
 ; Check if test can be completed
"RTN","EASECSCC",23,0)
 D CHK I DGERR W !?3,*7,"LTC co-pay test cannot be completed." G Q
"RTN","EASECSCC",24,0)
 ; Get test status (Exempt or Non-Exempt)
"RTN","EASECSCC",25,0)
 D STA G Q:$D(DTOUT)!($D(DUOUT))
"RTN","EASECSCC",26,0)
 ; Does vet agree to pay co-payments
"RTN","EASECSCC",27,0)
 I $G(DGSTA)="NON-EXEMPT" D AGREE G Q:$D(DTOUT)!($D(DUOUT))
"RTN","EASECSCC",28,0)
 S DA=DGMTI,DIE="^DGMT(408.31,",DIE("NO^")="",DR="[EASEC COMPLETE LTC CO-PAY TEST]" D ^DIE K DA,DIE,DR I '$D(DGFIN) S DGERR=1 G Q
"RTN","EASECSCC",29,0)
 W !?3,"...The LTC co-pay test has been completed with a status of ",DGSTA,"..."
"RTN","EASECSCC",30,0)
 D PRT
"RTN","EASECSCC",31,0)
 ;
"RTN","EASECSCC",32,0)
Q K DGFIN,DGREF,DTOUT,DUOUT,Y
"RTN","EASECSCC",33,0)
 Q
"RTN","EASECSCC",34,0)
 ;
"RTN","EASECSCC",35,0)
COM ;Check if user wants to complete the LTC co-pay test
"RTN","EASECSCC",36,0)
 N DIR
"RTN","EASECSCC",37,0)
 S DIR("A")="Do you wish to complete the LTC co-pay test"
"RTN","EASECSCC",38,0)
 S DIR("B")="YES",DIR(0)="Y" D ^DIR
"RTN","EASECSCC",39,0)
 Q
"RTN","EASECSCC",40,0)
 ;
"RTN","EASECSCC",41,0)
REF ;Check if patient declines to provide income information
"RTN","EASECSCC",42,0)
 N DIR,Y
"RTN","EASECSCC",43,0)
 S DIR("A")="DECLINES TO GIVE INCOME INFORMATION"
"RTN","EASECSCC",44,0)
 I $P($G(^DGMT(408.31,DGMTI,0)),"^",14)]"" S DIR("B")=$$YN^DGMTSCU1($P(^(0),"^",14))
"RTN","EASECSCC",45,0)
 S DIR("?")="Answer 'Y' or 'N'."
"RTN","EASECSCC",46,0)
 S DIR("?",1)="Enter whether the veteran declines to provide income information."
"RTN","EASECSCC",47,0)
 S DIR(0)="Y" D ^DIR K DIR G REFQ:$D(DTOUT)!($D(DUOUT))
"RTN","EASECSCC",48,0)
 S:Y DGREF=""
"RTN","EASECSCC",49,0)
REFQ Q
"RTN","EASECSCC",50,0)
 ;
"RTN","EASECSCC",51,0)
CHK ;Check if LTC co-pay test can be completed
"RTN","EASECSCC",52,0)
 N DGA,DGD,DGDEP,DGREL,DGL,DGM,I
"RTN","EASECSCC",53,0)
 D GETREL^DGMTU11(DFN,"CS",$E(DGMTDT,1,3)_"0000",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSCC",54,0)
 S DGM=$P(DGVIR0,"^",14),DGL=$P(DGVIR0,"^",15),DGD=$P(DGVIR0,"^",8)
"RTN","EASECSCC",55,0)
 I DGM']""!(DGM&(DGL']"")) W !?3,"Marital section must be completed." S DGERR=1
"RTN","EASECSCC",56,0)
 I DGM,'$D(DGREL("S")) W !?3,"Married is 'YES'.  An active spouse for this means test does not exist." S DGERR=1
"RTN","EASECSCC",57,0)
 I 'DGM,$D(DGREL("S")) W !?3,"An active spouse exists for this LTC co-pay test. Married should be 'YES'." S DGERR=1
"RTN","EASECSCC",58,0)
 I DGD']"" W !?3,"Dependent Children section must be completed." S DGERR=1
"RTN","EASECSCC",59,0)
 I DGD,'$D(DGREL("C")) W !?3,"Dependent Children is 'YES'.  No active children exist." S DGERR=1
"RTN","EASECSCC",60,0)
 I 'DGD,$D(DGREL("C")) W !?3,"Active children exist.  Dependent Children should be 'YES'." S DGERR=1
"RTN","EASECSCC",61,0)
 I DGDET>DGINT W !?3,"Patient's deductible expenses cannot exceed income." S DGERR=1
"RTN","EASECSCC",62,0)
 Q:$G(DGERR)
"RTN","EASECSCC",63,0)
 N CNT,ACT,DGDEP,FLAG,DGINCP
"RTN","EASECSCC",64,0)
 D INIT^EASECDEP S CNT=0 D
"RTN","EASECSCC",65,0)
 .F  S CNT=$O(DGDEP(CNT)) Q:'CNT  I $P(DGDEP(CNT),U,2)="SPOUSE" D  Q:$G(DGERR)
"RTN","EASECSCC",66,0)
 ..D GETIENS^EASECU2(DFN,$P(DGDEP(CNT),U,20),DGMTDT)
"RTN","EASECSCC",67,0)
 ..S DGINCP=$G(^DGMT(408.22,+DGIRI,"MT")) S:DGINCP FLAG=$G(FLAG)+1
"RTN","EASECSCC",68,0)
 ..I $G(FLAG)>1 W !?3,"Patient has more than one spouse for this means test." S DGERR=1
"RTN","EASECSCC",69,0)
 Q
"RTN","EASECSCC",70,0)
 ;
"RTN","EASECSCC",71,0)
STA ;Ask test status
"RTN","EASECSCC",72,0)
 N DIR,Y
"RTN","EASECSCC",73,0)
 S DGMTS=$P($G(^DGMT(408.31,DGMTI,0)),U,3)
"RTN","EASECSCC",74,0)
 I DGMTS S DGSTA=$P($G(^DG(408.32,DGMTS,0)),U)
"RTN","EASECSCC",75,0)
 S DIR("A")="LTC CO-PAY TEST STATUS" S:$D(DGSTA) DIR("B")=DGSTA
"RTN","EASECSCC",76,0)
 S DIR(0)="P^408.32:EM",DIR("S")="I $P(^(0),U,19)=3"
"RTN","EASECSCC",77,0)
 D ^DIR K DIR Q:'Y!($D(DTOUT))!($D(DUOUT))
"RTN","EASECSCC",78,0)
 S DGMTS=+Y,DGSTA=$P(Y,U,2) Q:DGSTA="NON-EXEMPT"
"RTN","EASECSCC",79,0)
 ;If Exempt, ask reason for exemption
"RTN","EASECSCC",80,0)
 S DIR("A")="REASON FOR EXEMPTION"
"RTN","EASECSCC",81,0)
 S DGRE=$P($G(^DGMT(408.31,DGMTI,2)),U,7)
"RTN","EASECSCC",82,0)
 I DGRE S DIR("B")=$P($G(^EAS(714.1,DGRE,0)),U)
"RTN","EASECSCC",83,0)
 S DIR("S")="I $P(^(0),U,2)"
"RTN","EASECSCC",84,0)
 S DIR(0)="P^714.1:EM" D ^DIR K DIR I 'Y!($D(DTOUT))!($D(DUOUT)) D  G STA
"RTN","EASECSCC",85,0)
 .W !!,"A reason for exemption must be entered for an Exempt status.",!
"RTN","EASECSCC",86,0)
 S DGRE=+Y
"RTN","EASECSCC",87,0)
 Q
"RTN","EASECSCC",88,0)
AGREE ;Ask if vet agrees to pay co-payment
"RTN","EASECSCC",89,0)
 N DIR,Y
"RTN","EASECSCC",90,0)
 S DIR("A")="AGREES TO PAY CO-PAYMENTS"
"RTN","EASECSCC",91,0)
 I $P($G(^DGMT(408.31,DGMTI,0)),U,11)]"" S DIR("B")=$$YN^DGMTSCU1($P(^(0),U,11))
"RTN","EASECSCC",92,0)
 S DIR("?")="Answer 'Y' or 'N'."
"RTN","EASECSCC",93,0)
 S DIR("?",1)="Enter in this field whether the veteran agrees to pay the"
"RTN","EASECSCC",94,0)
 S DIR("?",2)="LTC co-payments.  The veteran must also sign the 1010EC form"
"RTN","EASECSCC",95,0)
 S DIR("?",3)="agreeing to pay the co-payments."
"RTN","EASECSCC",96,0)
 S DIR(0)="Y" D ^DIR K DIR Q:$D(DTOUT)!($D(DUOUT))
"RTN","EASECSCC",97,0)
 S DGAGR=Y
"RTN","EASECSCC",98,0)
 Q
"RTN","EASECSCC",99,0)
PRT ;Print Extended Care Services test (1010EC)
"RTN","EASECSCC",100,0)
 N DIR,Y,X,ZTSK
"RTN","EASECSCC",101,0)
 S DIR("A")="PRINT 10-10EC"
"RTN","EASECSCC",102,0)
 S DIR("B")="YES",DIR(0)="Y" D ^DIR G PRTQ:'Y!($D(DTOUT))!($D(DUOUT))
"RTN","EASECSCC",103,0)
 S ZTSK=$$QUE^EASEC10E(DFN,DGMTI)
"RTN","EASECSCC",104,0)
PRTQ Q
"RTN","EASECSCR")
0^31^B13888429
"RTN","EASECSCR",1,0)
EASECSCR ;ALB/LBD - LTC Co-Pay Test Screen Read Processor;10 AUG 2001
"RTN","EASECSCR",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSCR",3,0)
 ;
"RTN","EASECSCR",4,0)
 ;NOTE: This routine was modified from DGMTSCR for LTC Co-pay
"RTN","EASECSCR",5,0)
 ; Input  -- DGRNG    Range of selectable items
"RTN","EASECSCR",6,0)
 ;           DGMTACT  Means Test Action
"RTN","EASECSCR",7,0)
 ;           DGMTSC   Screen Driver Array
"RTN","EASECSCR",8,0)
 ;           DGMTSCI  Screen number
"RTN","EASECSCR",9,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSCR",10,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","EASECSCR",11,0)
 ; Output -- DGDR     Template tags  (ie, 101,102,103,104)
"RTN","EASECSCR",12,0)
 ;           DGX      User input - maybe modified (ie, 1-4) 
"RTN","EASECSCR",13,0)
 ;           DGY      Items selected in expanded form  (ie, 1,2,3,4)
"RTN","EASECSCR",14,0)
 ;    Returned for screen 2 and 4:
"RTN","EASECSCR",15,0)
 ;           DGSEL    Column selections available  (ie, V, S, C)
"RTN","EASECSCR",16,0)
 ;           DGSELTY  User input - column selected  (ie, V or S or C)
"RTN","EASECSCR",17,0)
 ;
"RTN","EASECSCR",18,0)
EN K DGDR,DGSEL,DGSELTY,DGX,DGY,I D FEED
"RTN","EASECSCR",19,0)
 I $G(DGSCR1) S X="" G EN1
"RTN","EASECSCR",20,0)
 W !,DGVI,"<RET>",DGVO," to CONTINUE," W:DGMTACT'="VEW" " ",DGVI,DGRNG,DGVO," or ",DGVI,"'ALL' ",DGVO,"to EDIT," W DGVI," ^N",DGVO," for screen N, or ",DGVI,"'^'",DGVO," to EXIT: " R X:DTIME S:'$T X="^"
"RTN","EASECSCR",21,0)
EN1 K DGSCR1 S DGX=$$UPPER^DGUTL(X)
"RTN","EASECSCR",22,0)
 I DGX="^" G Q^EASECSC
"RTN","EASECSCR",23,0)
 I DGX?1"^".N,$D(DGMTSC(+$P(DGX,"^",2))) G @($$ROU^EASECSCU(+$P(DGX,"^",2)))
"RTN","EASECSCR",24,0)
 I DGMTACT'="VEW",DGMTSCI=5 D SEL I DGSEL[$E(DGX),$E(DGX,2)?1N S DGSELTY=$E(DGX),DGX=$P(DGX,DGSELTY,2)
"RTN","EASECSCR",25,0)
 I DGMTACT'="VEW",$E(DGX)="A" S X=DGX,Z="^ALL" D IN^DGHELP S:%'=-1 DGX=DGRNG
"RTN","EASECSCR",26,0)
 I DGX["?" D HLP G Q^EASECSC:$D(DTOUT)!($D(DUOUT)),@($$ROU^EASECSCU(DGMTSCI))
"RTN","EASECSCR",27,0)
 I DGX="",$O(DGMTSC(DGMTSCI)) G @($$ROU^EASECSCU($O(DGMTSC(DGMTSCI))))
"RTN","EASECSCR",28,0)
 I DGX="" G Q^EASECSC
"RTN","EASECSCR",29,0)
 I DGMTACT'="VEW" D PRO I $D(DGSELTY) S DGX=DGSELTY_DGX
"RTN","EASECSCR",30,0)
 S:DGMTACT="VEW" DGERR=1 I DGERR D HLP G @($$ROU^EASECSCU(DGMTSCI))
"RTN","EASECSCR",31,0)
Q G @($$ROURET^EASECSCU(DGMTSCI))
"RTN","EASECSCR",32,0)
 ;
"RTN","EASECSCR",33,0)
FEED ;Line feed to the bottom of the screen
"RTN","EASECSCR",34,0)
 N DGB,I
"RTN","EASECSCR",35,0)
 S DGB=$S('IOSL:24,1:IOSL)-5 F I=$Y:1:DGB W !
"RTN","EASECSCR",36,0)
 Q
"RTN","EASECSCR",37,0)
 ;
"RTN","EASECSCR",38,0)
SEL ;Check available column selections for Veteran, Spouse or Children
"RTN","EASECSCR",39,0)
 N DGDC,DGNC,DGND,DGSP,DGVIR0,DGX
"RTN","EASECSCR",40,0)
 D DEP^EASECSU3
"RTN","EASECSCR",41,0)
 S DGSEL="V"_$S(DGSP:"S",1:"")
"RTN","EASECSCR",42,0)
SELQ Q
"RTN","EASECSCR",43,0)
 ;
"RTN","EASECSCR",44,0)
HLP ;Help display
"RTN","EASECSCR",45,0)
 N DGIOM,DGLNE,DGMTSCR,DIR,I,X
"RTN","EASECSCR",46,0)
 S DGHLPF=1 D HD^EASECSCU
"RTN","EASECSCR",47,0)
 W !!,"Enter <RET> to continue to the next available screen."
"RTN","EASECSCR",48,0)
 I DGMTACT'="VEW" W !,"Enter an available item number from ",DGRNG," to edit.",!,"The items should be separated by commas or a range of numbers",!,"separated by a dash, or a combination of commas and dashes."
"RTN","EASECSCR",49,0)
 I DGMTACT'="VEW",DGMTSCI=5,$D(DGSEL) W !,"To edit a specific column, enter 'V'",$S(DGSEL["S":", 'S'",1:"")," in front of the selected items."
"RTN","EASECSCR",50,0)
 I DGMTACT'="VEW" W !,"Enter 'ALL' to edit all available items on the screen."
"RTN","EASECSCR",51,0)
 W !,"Enter '^N' to jump to a select screen.  Enter '^' to exit."
"RTN","EASECSCR",52,0)
 W !!,"AVAILABLE SCREENS"
"RTN","EASECSCR",53,0)
 S I=0 F  S I=$O(DGMTSC(I)) Q:'I  W !,"[",+$$SCR^EASECSCU(I),"]  ",$P($$SCR^EASECSCU(I),";",2)
"RTN","EASECSCR",54,0)
 S DGLNE="",DGIOM=$S('IOM:80,1:IOM),$P(DGLNE,"=",(DGIOM-1))=""
"RTN","EASECSCR",55,0)
 W !,DGLNE S DIR(0)="E" D ^DIR
"RTN","EASECSCR",56,0)
 Q
"RTN","EASECSCR",57,0)
 ;
"RTN","EASECSCR",58,0)
PRO ;Process user selection; cnt - dash - parse - selection
"RTN","EASECSCR",59,0)
 N DGC,DGD,DGP,DGS
"RTN","EASECSCR",60,0)
 S DGC=0,DGERR=0,DGY="",DGDR=""
"RTN","EASECSCR",61,0)
PARSE S DGC=DGC+1,DGP=$P(DGX,",",DGC) G PROQ:DGP=""
"RTN","EASECSCR",62,0)
 I DGP?.N1"-".N S DGD="" F DGS=$P(DGP,"-"):1:$P(DGP,"-",2) D CHK Q:DGERR
"RTN","EASECSCR",63,0)
 I '$D(DGD) S DGS=DGP D CHK
"RTN","EASECSCR",64,0)
 K DGD G PROQ:DGERR,PARSE
"RTN","EASECSCR",65,0)
PROQ Q
"RTN","EASECSCR",66,0)
 ;
"RTN","EASECSCR",67,0)
CHK I $D(DGD),+$P(DGP,"-",2)<+$P(DGP,"-",1) S DGERR=1
"RTN","EASECSCR",68,0)
 I 'DGERR,DGS'?.N S DGERR=1
"RTN","EASECSCR",69,0)
 I 'DGERR&(DGS>$P(DGRNG,"-",2)!(DGS<$P(DGRNG,"-"))) S DGERR=1
"RTN","EASECSCR",70,0)
 I 'DGERR S DGY=DGY_$S($L(DGY):",",1:"")_DGS,DGDR=DGDR_$S($L(DGDR):",",1:"")_(DGS+100)
"RTN","EASECSCR",71,0)
 Q
"RTN","EASECSCU")
0^32^B8874112
"RTN","EASECSCU",1,0)
EASECSCU ;ALB/LBD - LTC Co-Pay Test Screen Driver Utilities ;10 AUG 2001
"RTN","EASECSCU",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSCU",3,0)
 ;
"RTN","EASECSCU",4,0)
 ;NOTE: This routine was modified from DGMTSCU for LTC Co-pay
"RTN","EASECSCU",5,0)
SETUP ;Set-up the screen driver array and required screen variables
"RTN","EASECSCU",6,0)
 ; Input  -- DFN              Patient IEN
"RTN","EASECSCU",7,0)
 ;           DGMTDT           Date of Test
"RTN","EASECSCU",8,0)
 ;           DGMTYPT          Type of Test
"RTN","EASECSCU",9,0)
 ; Output -- DGMTSC           Screen Driver Array
"RTN","EASECSCU",10,0)
 ;           DGVPRI           Veteran Patient Relation IEN
"RTN","EASECSCU",11,0)
 ;           DGVINI           Veteran Individual Annual Income IEN
"RTN","EASECSCU",12,0)
 ;           DGVIRI           Veteran Income Relation IEN
"RTN","EASECSCU",13,0)
 ;           DGMTPAR          Annual Means Test Parameter Array
"RTN","EASECSCU",14,0)
 ;           DGERR            1=ERROR and 0=NO ERROR
"RTN","EASECSCU",15,0)
 N DGINI,DGIRI,DGLY,DGPRI,DGPRTY,DGSCR,I,X
"RTN","EASECSCU",16,0)
 K DGMTSC S DGERR=0,DGLY=$$LYR^DGMTSCU1(DGMTDT)
"RTN","EASECSCU",17,0)
 F I=1:1 S X=$P($T(SCRNS+I),";;",2) Q:X="QUIT"  S DGMTSC(+X)=X
"RTN","EASECSCU",18,0)
 D NEW^EASECED1 S:DGPRI'>0 DGERR=1 G Q:DGERR S DGVPRI=DGPRI
"RTN","EASECSCU",19,0)
 D GETIENS^EASECU2(DFN,DGPRI,DGMTDT) G Q:DGERR S DGVINI=DGINI,DGVIRI=DGIRI
"RTN","EASECSCU",20,0)
 D PAR S:DGMTPAR="" DGERR=1
"RTN","EASECSCU",21,0)
Q Q
"RTN","EASECSCU",22,0)
 ;
"RTN","EASECSCU",23,0)
PAR ;Annual Means Test Parameters
"RTN","EASECSCU",24,0)
 ; Input  -- DGLY             Last Year
"RTN","EASECSCU",25,0)
 ; Output -- DGMTPAR          Means Test Parameter 0th node
"RTN","EASECSCU",26,0)
 ;    Returned if the current year's parameters are not available:
"RTN","EASECSCU",27,0)
 ;           DGMTPAR("PREV")  Previous Year Income Parameters
"RTN","EASECSCU",28,0)
 S DGMTPAR=$S($D(^DG(43,1,"MT",DGLY+10000,0)):^(0),1:"")
"RTN","EASECSCU",29,0)
 I DGMTPAR']"",$D(^DG(43,1,"MT",DGLY,0)) S DGMTPAR=^(0),DGMTPAR("PREV")=""
"RTN","EASECSCU",30,0)
 Q
"RTN","EASECSCU",31,0)
 ;
"RTN","EASECSCU",32,0)
HD ;Print screen header
"RTN","EASECSCU",33,0)
 ; Input  -- DGMTSCI  Screen number
"RTN","EASECSCU",34,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","EASECSCU",35,0)
 ;           DGMTDT   Date of Test
"RTN","EASECSCU",36,0)
 ;           DGHLPF   Help Flag  (Optional)
"RTN","EASECSCU",37,0)
 ; Output -- Screen Header
"RTN","EASECSCU",38,0)
 N DGHDR,DGIOM,DGLNE,DGMTSCR,DGTAB,Y
"RTN","EASECSCU",39,0)
 S:'$D(DGHLPF) DGHLPF=0
"RTN","EASECSCU",40,0)
 S DGLNE="",DGIOM=$S('IOM:80,1:IOM),$P(DGLNE,"=",(DGIOM-1))=""
"RTN","EASECSCU",41,0)
 S DGHDR=$P($$SCR(DGMTSCI),";",2)_", SCREEN <"_+$$SCR(DGMTSCI)_"> "_$S(DGHLPF:"HELP",1:"")
"RTN","EASECSCU",42,0)
 S DGTAB=DGIOM-$L(DGHDR)\2
"RTN","EASECSCU",43,0)
 S (DGVI,DGVO)="" I $S('$D(IOST(0)):1,'$D(^DG(43,1,0)):1,'$P(^DG(43,1,0),"^",36):1,$D(^DG(43,1,"TERM",IOST(0))):1,1:0) G HDNH ;goto HDNH if not high intensity
"RTN","EASECSCU",44,0)
 S X="IOINHI;IOINLOW" D ENDR^%ZISS K X S DGVI=IOINHI,DGVO=IOINLOW S X=132 X ^%ZOSF("RM")
"RTN","EASECSCU",45,0)
HDNH ;
"RTN","EASECSCU",46,0)
 W @IOF W ?DGTAB,DGVI,DGHDR,DGVO
"RTN","EASECSCU",47,0)
 I 'DGHLPF W !,$$NAME^DGMTU1(DGVPRI),"  ",$$SSN^DGMTU1(DGVPRI),?(DGIOM-26),"LTC CO-PAY TEST FOR " S Y=$E(DGMTDT,1,3)_"0000" X ^DD("DD") W Y
"RTN","EASECSCU",48,0)
 W !,DGLNE
"RTN","EASECSCU",49,0)
 K DGHLPF Q
"RTN","EASECSCU",50,0)
 ;
"RTN","EASECSCU",51,0)
SCR(DGMTSCI) ;Screen name and number
"RTN","EASECSCU",52,0)
 ;         Input  -- DGMTSCI  Screen number
"RTN","EASECSCU",53,0)
 ;         Output -- Screen number;Screen name
"RTN","EASECSCU",54,0)
 N DGMTSCR
"RTN","EASECSCU",55,0)
 S DGMTSCR=$P($G(DGMTSC(DGMTSCI)),";",1,2)
"RTN","EASECSCU",56,0)
 Q $G(DGMTSCR)
"RTN","EASECSCU",57,0)
 ;
"RTN","EASECSCU",58,0)
ROU(DGMTSCI) ;Screen entry routine
"RTN","EASECSCU",59,0)
 ;         Input  -- DGMTSCI  Screen number
"RTN","EASECSCU",60,0)
 ;         Output -- Routine name
"RTN","EASECSCU",61,0)
 N DGROU
"RTN","EASECSCU",62,0)
 S DGROU=$P($G(DGMTSC(DGMTSCI)),";",3)
"RTN","EASECSCU",63,0)
 Q $G(DGROU)
"RTN","EASECSCU",64,0)
 ;
"RTN","EASECSCU",65,0)
ROURET(DGMTSCI) ;Screen read processor return routine
"RTN","EASECSCU",66,0)
 ;         Input  -- DGMTSCI  Screen number
"RTN","EASECSCU",67,0)
 ;         Output -- Routine name
"RTN","EASECSCU",68,0)
 N DGROU
"RTN","EASECSCU",69,0)
 S DGROU=$P($G(DGMTSC(DGMTSCI)),";",4)
"RTN","EASECSCU",70,0)
 Q $G(DGROU)
"RTN","EASECSCU",71,0)
 ;
"RTN","EASECSCU",72,0)
SCRNS ;Screen Number;Screen Name;Screen Entry Routine;Reader Return Routine
"RTN","EASECSCU",73,0)
 ;;1;MILITARY SERVICE DATA;EN^EASECSC1;EN1^EASECSC1
"RTN","EASECSCU",74,0)
 ;;2;ELIGIBILITY STATUS DATA;EN^EASECSC2;EN1^EASECSC2
"RTN","EASECSCU",75,0)
 ;;3;MARITAL STATUS/DEPENDENTS;EN^EASECSC3;EN1^EASECSC3
"RTN","EASECSCU",76,0)
 ;;4;FIXED AND LIQUID ASSETS;EN^EASECSC4;EN1^EASECSC4
"RTN","EASECSCU",77,0)
 ;;5;CURRENT CALENDAR YEAR GROSS INCOME;EN^EASECSC5;EN1^EASECSC5
"RTN","EASECSCU",78,0)
 ;;6;DEDUCTIBLE EXPENSES;EN^EASECSC6;EN1^EASECSC6
"RTN","EASECSCU",79,0)
 ;;QUIT
"RTN","EASECSU3")
0^33^B6803286
"RTN","EASECSU3",1,0)
EASECSU3 ;ALB/LBD - LTC Co-Pay Test Screen Variable Utilities Cont. ;14 AUG 2001
"RTN","EASECSU3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECSU3",3,0)
 ;
"RTN","EASECSU3",4,0)
INC ;Determine income, expense and net worth
"RTN","EASECSU3",5,0)
 ; Input  -- DFN      Patient file IEN
"RTN","EASECSU3",6,0)
 ;           DGCOMF   LTC Co-Pay Test Completion Flag  (Optional)
"RTN","EASECSU3",7,0)
 ;                    (1 if completing LTC co-pay test)
"RTN","EASECSU3",8,0)
 ;           DGMTDT   Date of Test
"RTN","EASECSU3",9,0)
 ;           DGMTI    Annual Means Test IEN
"RTN","EASECSU3",10,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","EASECSU3",11,0)
 ;           DGSP     Spouse 1=YES and 0=NO (mt income)
"RTN","EASECSU3",12,0)
 ;           DGDC     Dependent children 1=YES and 0=NO (mt income)
"RTN","EASECSU3",13,0)
 ;           DGMTPAR  Annual Means Test Parameters
"RTN","EASECSU3",14,0)
 ; Output -- DGIN0    Annual Income 0th node array (income)
"RTN","EASECSU3",15,0)
 ;           DGIN1    Annual Income 1 node array (expense)
"RTN","EASECSU3",16,0)
 ;           DGIN2    Annual Income 2 node array (net worth)
"RTN","EASECSU3",17,0)
 ;           DGINT    Total income
"RTN","EASECSU3",18,0)
 ;           DGDET    Total deductible expenses
"RTN","EASECSU3",19,0)
 ;           DGNWT    Total net worth
"RTN","EASECSU3",20,0)
 ;           DGINTF   Income flag
"RTN","EASECSU3",21,0)
 ;           DGNWTF   Net worth flag
"RTN","EASECSU3",22,0)
 N DGCNT,DGINC,DGINR,I,J,Y
"RTN","EASECSU3",23,0)
 D ALL^EASECU21(DFN,"VCS",DGMTDT,"IR",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSU3",24,0)
 S DGIN0("V")=$G(^DGMT(408.21,DGVINI,0)),DGIN1("V")=$G(^(1)),DGIN2("V")=$G(^(2))
"RTN","EASECSU3",25,0)
 S DGINT=$$TOT^DGMTSCU1(DGIN0("V"),6,17)+$$TOT^DGMTSCU1(DGIN0("V"),19,20)
"RTN","EASECSU3",26,0)
 S DGDET=$$TOT^DGMTSCU1(DGIN1("V"),1,11)
"RTN","EASECSU3",27,0)
 S DGNWT=$$TOT^DGMTSCU1(DGIN2("V"),1,4)+$$TOT^DGMTSCU1(DGIN2("V"),6,9)
"RTN","EASECSU3",28,0)
 I $G(DGCOMF) D MT(DGINR("V"),DGMTI)
"RTN","EASECSU3",29,0)
 I DGSP S (DGIN0("S"),DGIN1("S"),DGIN2("S"))="" D SPOUSE:$D(DGINC("S"))
"RTN","EASECSU3",30,0)
 ; dependent child income is not included for LTC co-pay test
"RTN","EASECSU3",31,0)
 ;I DGDC S (DGIN0("C"),DGIN1("C"))="",DGCNT=0 F  S DGCNT=$O(DGINC("C",DGCNT)) Q:'DGCNT  D CHK^DGMTSCU2,CHILD:Y
"RTN","EASECSU3",32,0)
 S DGINTF=$S(DGINT:1,1:0)
"RTN","EASECSU3",33,0)
 S DGNWTF=$S(DGNWT:1,1:0)
"RTN","EASECSU3",34,0)
 Q
"RTN","EASECSU3",35,0)
 ;
"RTN","EASECSU3",36,0)
SPOUSE ;Determine spouse income and net worth
"RTN","EASECSU3",37,0)
 S DGIN0("S")=$G(^DGMT(408.21,DGINC("S"),0)),DGIN1("S")=$G(^(1)),DGIN2("S")=$G(^(2))
"RTN","EASECSU3",38,0)
 S DGINT=DGINT+$$TOT^DGMTSCU1(DGIN0("S"),6,17)+$$TOT^DGMTSCU1(DGIN0("S"),19,20)
"RTN","EASECSU3",39,0)
 I $G(DGCOMF) D MT(DGINR("S"),DGMTI)
"RTN","EASECSU3",40,0)
SPOUSEQ Q
"RTN","EASECSU3",41,0)
 ;
"RTN","EASECSU3",42,0)
CHILD ;Determine total dependent children(s) income and expense
"RTN","EASECSU3",43,0)
 N DGCE,DGEMP,I,X
"RTN","EASECSU3",44,0)
 S X=$G(^DGMT(408.21,DGINC("C",DGCNT),0)) F I=8:1:17 I $P(X,"^",I)]"" S $P(DGIN0("C"),"^",I)=$P(DGIN0("C"),"^",I)+$P(X,"^",I)
"RTN","EASECSU3",45,0)
 S DGEMP=$P(X,"^",14),DGINT=DGINT+$$TOT^DGMTSCU1(X,8,17)
"RTN","EASECSU3",46,0)
 S X=$G(^DGMT(408.21,DGINC("C",DGCNT),1)) I $P(X,"^",3)]"" S $P(DGIN1("C"),"^",3)=$P(DGIN1("C"),"^",3)+$P(X,"^",3)
"RTN","EASECSU3",47,0)
 S DGCE=(DGEMP-$P(DGMTPAR,"^",17))-$P(X,"^",3)
"RTN","EASECSU3",48,0)
 S DGDET=DGDET+DGEMP-$S($G(DGCE)>0:DGCE,1:0)
"RTN","EASECSU3",49,0)
 I $G(DGCOMF) D MT(DGINR("C",DGCNT),DGMTI)
"RTN","EASECSU3",50,0)
CHILDQ Q
"RTN","EASECSU3",51,0)
 ;
"RTN","EASECSU3",52,0)
MT(DGINR,DGMTI) ;Update Income Relation file with Means Test IEN
"RTN","EASECSU3",53,0)
 ;         Input  -- DGINR  Income Relation IEN
"RTN","EASECSU3",54,0)
 ;                   DGMTI  Annual Means Test IEN
"RTN","EASECSU3",55,0)
 ;         Output -- Update Means Test IEN
"RTN","EASECSU3",56,0)
 N DA,DIE,DR
"RTN","EASECSU3",57,0)
 S DA=DGINR,DIE="^DGMT(408.22,",DR="31////^S X="_DGMTI D ^DIE
"RTN","EASECSU3",58,0)
 Q
"RTN","EASECSU3",59,0)
 ;
"RTN","EASECSU3",60,0)
DEP ;Determine dependent data
"RTN","EASECSU3",61,0)
 ; Input  -- DFN     Patient file IEN
"RTN","EASECSU3",62,0)
 ;           DGMTDT  Date of Test
"RTN","EASECSU3",63,0)
 ;           DGVIRI  Veteran Income Relation IEN
"RTN","EASECSU3",64,0)
 ; Output -- DGVIR0  Veteran Income Relation 0th node
"RTN","EASECSU3",65,0)
 ;           DGSP    Spouse 1=YES and 0=NO (mt income)
"RTN","EASECSU3",66,0)
 ;           DGDC    Dependent children 1=YES and 0=NO (mt income)
"RTN","EASECSU3",67,0)
 ;           DGNC    Number of dependent children
"RTN","EASECSU3",68,0)
 ;           DGND    Total number of dependents
"RTN","EASECSU3",69,0)
 N DGCNT,DGDEP,DGINR,DGREL,Y
"RTN","EASECSU3",70,0)
 S DGVIR0=$G(^DGMT(408.22,DGVIRI,0)) D ALL^EASECU21(DFN,"SC",DGMTDT,"PR",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECSU3",71,0)
 ;Include spouse's income for LTC co-pay if vet is married
"RTN","EASECSU3",72,0)
 S DGSP=$S('$P(DGVIR0,"^",14):0,'$G(DGREL("S")):0,1:1)
"RTN","EASECSU3",73,0)
 ;Child's income is not included for LTC co-pay test
"RTN","EASECSU3",74,0)
 S DGDC=0
"RTN","EASECSU3",75,0)
 S DGNC=+$P(DGVIR0,"^",13)
"RTN","EASECSU3",76,0)
 S DGND=DGSP+DGNC
"RTN","EASECSU3",77,0)
 Q
"RTN","EASECU")
0^34^B2001495
"RTN","EASECU",1,0)
EASECU ;ALB/PHH - LTC Co-Pay Test Utilities ; 22 AUG 2001
"RTN","EASECU",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECU",3,0)
 ;
"RTN","EASECU",4,0)
LST(DFN,DGDT,DGMTYPT) ;Last LTC Co-Pay test for a patient
"RTN","EASECU",5,0)
 ;         Input  -- DFN   Patient IEN
"RTN","EASECU",6,0)
 ;                   DGDT  Date/Time  (Optional- default today@2359)
"RTN","EASECU",7,0)
 ;                DGMTYPT  Type of Test (Optional - if not defined 
"RTN","EASECU",8,0)
 ;                                       LTC Co-Pay will be assumed)
"RTN","EASECU",9,0)
 ;         Output -- LTC Co-Pay Test IEN^Date of Test
"RTN","EASECU",10,0)
 ;                   ^Status Name^Status Code^Source of Test
"RTN","EASECU",11,0)
 N DGIDT,DGMTFL1,DGMTI,DGNOD,Y I '$D(DGMTYPT) S DGMTYPT=3
"RTN","EASECU",12,0)
 S DGIDT=$S($G(DGDT)>0:-DGDT,1:-DT) S:'$P(DGIDT,".",2) DGIDT=DGIDT_.2359
"RTN","EASECU",13,0)
 F  S DGIDT=+$O(^DGMT(408.31,"AID",DGMTYPT,DFN,DGIDT)) Q:'DGIDT!$G(DGMTFL1)  D
"RTN","EASECU",14,0)
 .F DGMTI=0:0 S DGMTI=+$O(^DGMT(408.31,"AID",DGMTYPT,DFN,DGIDT,DGMTI)) Q:'DGMTI!$G(DGMTFL1)  D
"RTN","EASECU",15,0)
 ..S DGNOD=$G(^DGMT(408.31,DGMTI,0)) I DGNOD S DGMTFL1=1,Y=DGMTI_"^"_$P(^(0),"^")_"^"_$$MTS(DFN,+$P(^(0),"^",3))_"^"_$P(DGNOD,"^",23)
"RTN","EASECU",16,0)
 Q $G(Y)
"RTN","EASECU",17,0)
 ;
"RTN","EASECU",18,0)
MTS(DFN,DGMTS) ;LTC Co-Pay test status -- default current
"RTN","EASECU",19,0)
 ;         Input  -- DFN    Patient IEN
"RTN","EASECU",20,0)
 ;                   DGMTS  LTC Co-Pay Test Status IEN  (Optional)
"RTN","EASECU",21,0)
 ;         Output -- Status Name^Status Code
"RTN","EASECU",22,0)
 N Y
"RTN","EASECU",23,0)
 S DGMTS=$S($G(DGMTS)>0:DGMTS,1:$P($G(^DPT(DFN,0)),"^",14))
"RTN","EASECU",24,0)
 I DGMTS S Y=$P($G(^DG(408.32,DGMTS,0)),"^",1,2)
"RTN","EASECU",25,0)
 Q $G(Y)
"RTN","EASECU2")
0^35^B4688841
"RTN","EASECU2",1,0)
EASECU2 ;ALB/LBD - Income Utilities ;14 AUG 2001
"RTN","EASECU2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECU2",3,0)
 ;
"RTN","EASECU2",4,0)
GETIENS(DFN,DGPRI,DGDT) ;Look-up individual annual income and income relation
"RTN","EASECU2",5,0)
 ;                 Input  -- DFN    Patient file IEN
"RTN","EASECU2",6,0)
 ;                           DGPRI  Patient Relation IEN
"RTN","EASECU2",7,0)
 ;                           DGDT   Date/Time
"RTN","EASECU2",8,0)
 ;                 Output -- DGINI  Individual Annual Income IEN
"RTN","EASECU2",9,0)
 ;                           DGIRI  Income Relation IEN
"RTN","EASECU2",10,0)
 ;                           DGERR  1=ERROR and 0=NO ERROR
"RTN","EASECU2",11,0)
 S DGERR=0
"RTN","EASECU2",12,0)
 S DGINI=$$GETIN(DFN,DGPRI,DGDT) S:DGINI<0 DGERR=1
"RTN","EASECU2",13,0)
 I 'DGERR S DGIRI=$$GETIR(DFN,DGINI) S:DGIRI<0 DGERR=1
"RTN","EASECU2",14,0)
 Q
"RTN","EASECU2",15,0)
 ;
"RTN","EASECU2",16,0)
GETIN(DFN,DGPRI,DGDT) ;Look-up individual annual income
"RTN","EASECU2",17,0)
 ;                Add a new entry if one is not found
"RTN","EASECU2",18,0)
 ;                 Input  -- DFN    Patient file IEN
"RTN","EASECU2",19,0)
 ;                           DGPRI  Patient Relation IEN
"RTN","EASECU2",20,0)
 ;                           DGDT   Date/Time
"RTN","EASECU2",21,0)
 ;                 Output -- Individual Annual Income IEN 
"RTN","EASECU2",22,0)
 N DGINI,DGYR
"RTN","EASECU2",23,0)
 S DGYR=$E(DGDT,1,3)_"0000"
"RTN","EASECU2",24,0)
 ; get IEN of individual annual income for LTC co-pay (test type 3)
"RTN","EASECU2",25,0)
 S DGINI=+$$IAI^DGMTU3(DGPRI,DGYR,3)
"RTN","EASECU2",26,0)
 I '$D(^DGMT(408.21,DGINI,0)) S DGINI=$$ADDIN(DFN,DGPRI,DGYR)
"RTN","EASECU2",27,0)
GETINQ Q $S(DGINI>0:DGINI,1:-1)
"RTN","EASECU2",28,0)
 ;
"RTN","EASECU2",29,0)
ADDIN(DFN,DGPRI,DGYR) ;Add a new individual annual income entry
"RTN","EASECU2",30,0)
 ;                 Input  -- DFN    Patient file IEN
"RTN","EASECU2",31,0)
 ;                           DGPRI  Patient Relation IEN
"RTN","EASECU2",32,0)
 ;                           DGYR   Test Year
"RTN","EASECU2",33,0)
 ;                 Output -- New Individual Annual Income IEN 
"RTN","EASECU2",34,0)
 N DA,DD,DGINI,DGNOW,DIC,DIK,DINUM,DLAYGO,DO,X,Y,%
"RTN","EASECU2",35,0)
 D NOW^%DTC S DGNOW=%
"RTN","EASECU2",36,0)
 S X=DGYR,(DIC,DIK)="^DGMT(408.21,",DIC(0)="L",DLAYGO=408.21
"RTN","EASECU2",37,0)
 D FILE^DICN S DGINI=+Y
"RTN","EASECU2",38,0)
 I DGINI>0 D
"RTN","EASECU2",39,0)
 .L +^DGMT(408.21,DGINI)
"RTN","EASECU2",40,0)
 .S $P(^DGMT(408.21,DGINI,0),"^",2)=DGPRI,^("USR")=DUZ_"^"_DGNOW
"RTN","EASECU2",41,0)
 .I $G(DGMTI) S ^DGMT(408.21,DGINI,"MT")=DGMTI
"RTN","EASECU2",42,0)
 .S DA=DGINI D IX1^DIK L -^DGMT(408.21,DGINI)
"RTN","EASECU2",43,0)
ADDINQ Q $S(DGINI>0:DGINI,1:-1)
"RTN","EASECU2",44,0)
 ;
"RTN","EASECU2",45,0)
GETIR(DFN,DGINI) ;Look-up income relation
"RTN","EASECU2",46,0)
 ;                Add a new entry if one is not found
"RTN","EASECU2",47,0)
 ;                 Input  -- DFN    Patient file IEN
"RTN","EASECU2",48,0)
 ;                           DGINI  Individual Annual Income IEN
"RTN","EASECU2",49,0)
 ;                 Output -- Income Relation IEN
"RTN","EASECU2",50,0)
 N DGIRI
"RTN","EASECU2",51,0)
 S DGIRI=+$O(^DGMT(408.22,"AIND",DGINI,0))
"RTN","EASECU2",52,0)
 I '$D(^DGMT(408.22,DGIRI,0)) S DGIRI=$$ADDIR(DFN,DGINI)
"RTN","EASECU2",53,0)
GETIRQ Q $S(DGIRI>0:DGIRI,1:-1)
"RTN","EASECU2",54,0)
 ;
"RTN","EASECU2",55,0)
ADDIR(DFN,DGINI) ;Add a new income relation entry
"RTN","EASECU2",56,0)
 ;                 Input  -- DFN    Patient file IEN
"RTN","EASECU2",57,0)
 ;                           DGINI  Individual Annual Income IEN
"RTN","EASECU2",58,0)
 ;                 Output -- New Income Relation IEN
"RTN","EASECU2",59,0)
 N DA,DD,DGIRI,DIC,DIK,DINUM,DLAYGO,DO,X,Y
"RTN","EASECU2",60,0)
 S X=DFN,(DIC,DIK)="^DGMT(408.22,",DIC(0)="L",DLAYGO=408.22
"RTN","EASECU2",61,0)
 D FILE^DICN S DGIRI=+Y
"RTN","EASECU2",62,0)
 I DGIRI>0 L +^DGMT(408.22,DGIRI) S $P(^DGMT(408.22,DGIRI,0),"^",2)=DGINI,DA=DGIRI D IX1^DIK L -^DGMT(408.22,DGIRI)
"RTN","EASECU2",63,0)
ADDIRQ Q $S(DGIRI>0:DGIRI,1:-1)
"RTN","EASECU21")
0^36^B3057005
"RTN","EASECU21",1,0)
EASECU21 ;ALB/LBD - Income Utilities Cont. ;14 AUG 2001
"RTN","EASECU21",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECU21",3,0)
 ;
"RTN","EASECU21",4,0)
 ; This routine was modified from DGMTU21 for LTC Co-pay
"RTN","EASECU21",5,0)
 ;
"RTN","EASECU21",6,0)
ALL(DFN,DGTYPE,DGDT,DGRTY,DGMT) ;Select patient relation, individual annual
"RTN","EASECU21",7,0)
 ;                        income and income relation arrays of internal
"RTN","EASECU21",8,0)
 ;                        entry numbers
"RTN","EASECU21",9,0)
 ;                         Input  -- DFN     Patient file IEN
"RTN","EASECU21",10,0)
 ;                                   DGTYPE  Type of Relation which can
"RTN","EASECU21",11,0)
 ;                                           contain:
"RTN","EASECU21",12,0)
 ;                                           V for veteran
"RTN","EASECU21",13,0)
 ;                                           S for spouse
"RTN","EASECU21",14,0)
 ;                                           C for dependent children
"RTN","EASECU21",15,0)
 ;                                                 or
"RTN","EASECU21",16,0)
 ;                                           D for all dependents
"RTN","EASECU21",17,0)
 ;                                   DGDT    Date/Time
"RTN","EASECU21",18,0)
 ;                                   DGRTY   Type of Array to Return
"RTN","EASECU21",19,0)
 ;                                           which can contain:
"RTN","EASECU21",20,0)
 ;                                           I for Ind Annual Income
"RTN","EASECU21",21,0)
 ;                                           P for Patient Relation
"RTN","EASECU21",22,0)
 ;                                           R for Income Relation
"RTN","EASECU21",23,0)
 ;                                           (Optional - default IPR)
"RTN","EASECU21",24,0)
 ;                                   DGMT    IFN of Means Test (optional)
"RTN","EASECU21",25,0)
 ;                 Output -- DGREL   Patient Relation IEN Array
"RTN","EASECU21",26,0)
 ;                           DGINC   Individual Annual Income IEN Array
"RTN","EASECU21",27,0)
 ;                           DGINR   Income Relation IEN Array
"RTN","EASECU21",28,0)
 ;                           DGDEP   Number of Dependents
"RTN","EASECU21",29,0)
 K DGINC,DGINR,DGREL
"RTN","EASECU21",30,0)
 N DGCNT,DGLY,DGPRTY
"RTN","EASECU21",31,0)
 ; for LTC co-pay DGLY is set to current year
"RTN","EASECU21",32,0)
 S:'$D(DGRTY) DGRTY="IPR" S DGLY=$E(DGDT,1,3)_"0000"
"RTN","EASECU21",33,0)
 D GETREL^DGMTU11(DFN,DGTYPE,DGLY,$G(DGMT))
"RTN","EASECU21",34,0)
 S DGPRTY="" F  S DGPRTY=$O(DGREL(DGPRTY)) Q:DGPRTY=""  D SET
"RTN","EASECU21",35,0)
 I DGRTY'["P" K DGREL
"RTN","EASECU21",36,0)
ALLQ Q
"RTN","EASECU21",37,0)
 ;
"RTN","EASECU21",38,0)
SET ;Set individual annual income and income relation arrays
"RTN","EASECU21",39,0)
 N DGCNT,DGPRI,DGINI,DGIRI
"RTN","EASECU21",40,0)
 I "CD"[DGPRTY S DGCNT=0 F  S DGCNT=$O(DGREL(DGPRTY,DGCNT)) Q:'DGCNT  D
"RTN","EASECU21",41,0)
 .S DGPRI=+DGREL(DGPRTY,DGCNT) D GET
"RTN","EASECU21",42,0)
 .I DGINI,DGRTY["I" S DGINC(DGPRTY,DGCNT)=DGINI
"RTN","EASECU21",43,0)
 .I DGIRI,DGRTY["R" S DGINR(DGPRTY,DGCNT)=DGIRI
"RTN","EASECU21",44,0)
 I "SV"[DGPRTY D
"RTN","EASECU21",45,0)
 .S DGPRI=+DGREL(DGPRTY) D GET
"RTN","EASECU21",46,0)
 .I DGINI,DGRTY["I" S DGINC(DGPRTY)=DGINI
"RTN","EASECU21",47,0)
 .I DGIRI,DGRTY["R" S DGINR(DGPRTY)=DGIRI
"RTN","EASECU21",48,0)
 Q
"RTN","EASECU21",49,0)
 ;
"RTN","EASECU21",50,0)
GET ;Look-up individual annual income and income relation IEN
"RTN","EASECU21",51,0)
 S DGINI=+$$IAI^DGMTU3(DGPRI,DGLY,$S($G(DGMT):$P($G(^DGMT(408.31,DGMT,0)),"^",19),1:1))
"RTN","EASECU21",52,0)
 S DGIRI=+$O(^DGMT(408.22,"AIND",DGINI,0))
"RTN","EASECU21",53,0)
 Q
"RTN","EASECU23")
0^37^B10365010
"RTN","EASECU23",1,0)
EASECU23 ;ALB/PHH - Display LTC Co-Pay test information; 17 AUG 2001
"RTN","EASECU23",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECU23",3,0)
 ;
"RTN","EASECU23",4,0)
DISPLAY(DGMTI,DGMTYPT) ;Display LTC Co-Pay test data
"RTN","EASECU23",5,0)
 ;          Input:  DGMTI - IEN of LTC Co-Pay
"RTN","EASECU23",6,0)
 ;                  DGMTYPT - Type of Test
"RTN","EASECU23",7,0)
 ;         Output:  None
"RTN","EASECU23",8,0)
 N DGFCOL,DGSCOL,DGMTDIS,DGMTWP,WP,X,X1,Y,Z,DGSOURCE
"RTN","EASECU23",9,0)
 S (DGMTWP,WP)=0,DGFCOL=24,DGSCOL=65
"RTN","EASECU23",10,0)
 S DGMTDIS=^DGMT(408.31,DGMTI,0) I $D(^("C")) F  S DGMTWP=$O(^DGMT(408.31,DGMTI,"C",DGMTWP)) Q:'DGMTWP  S DGMTDIS(DGMTWP)=^(DGMTWP,0)
"RTN","EASECU23",11,0)
 S X="",X=$$SETSTR^VALM1("Patient:",X,15,8)
"RTN","EASECU23",12,0)
 S X=$$SETSTR^VALM1($P(^DPT($P(DGMTDIS,U,2),0),U),X,DGFCOL,25)
"RTN","EASECU23",13,0)
 S X=$$SETSTR^VALM1("Date of Test:",X,51,13)
"RTN","EASECU23",14,0)
 S X=$$SETSTR^VALM1($$FTIME^DGMTUTL($P(DGMTDIS,U)),X,DGSCOL,15)
"RTN","EASECU23",15,0)
 W !!,X
"RTN","EASECU23",16,0)
 S X="",X=$$SETSTR^VALM1("Total Dependents:",X,6,17)
"RTN","EASECU23",17,0)
 S X=$$SETSTR^VALM1($P(DGMTDIS,U,18),X,DGFCOL,25)
"RTN","EASECU23",18,0)
 S X=$$SETSTR^VALM1("Type Of Test:",X,51,13)
"RTN","EASECU23",19,0)
 S X=$$SETSTR^VALM1($P($G(^DG(408.33,+$P(DGMTDIS,U,19),0)),U),X,DGSCOL,15)
"RTN","EASECU23",20,0)
 W !,X
"RTN","EASECU23",21,0)
 S X="",X=$$SETSTR^VALM1("Status:",X,16,7)
"RTN","EASECU23",22,0)
 S X=$$SETSTR^VALM1($S($P(DGMTDIS,U,3)'="":$P(^DG(408.32,$P(DGMTDIS,U,3),0),U),1:"In Process"),X,DGFCOL,25)
"RTN","EASECU23",23,0)
 S X=$$SETSTR^VALM1("Date/Time Completed:",X,44,20)
"RTN","EASECU23",24,0)
 S X=$$SETSTR^VALM1($S($P(DGMTDIS,U,7)'="":$$FTIME^DGMTUTL($P(DGMTDIS,U,7)),1:""),X,DGSCOL,15)
"RTN","EASECU23",25,0)
 W !,X
"RTN","EASECU23",26,0)
 I $P(DGMTDIS,U,3)=12 D
"RTN","EASECU23",27,0)
 .N EXERSN
"RTN","EASECU23",28,0)
 .S X="",X=$$SETSTR^VALM1("Reason:",X,16,7),EXERSN=$P($G(^DGMT(408.31,DGMTI,2)),U,7)
"RTN","EASECU23",29,0)
 .S X=$$SETSTR^VALM1($S(EXERSN'="":$P(^EAS(714.1,EXERSN,0),"^"),1:""),X,DGFCOL,56)
"RTN","EASECU23",30,0)
 .W !,X
"RTN","EASECU23",31,0)
 S X="",X=$$SETSTR^VALM1("Source Of Test:",X,49,15)
"RTN","EASECU23",32,0)
 S DGSOURCE=$$SR^DGMTAUD1(DGMTDIS)
"RTN","EASECU23",33,0)
 I DGSOURCE="OTHER FACILITY" S DGSOURCE=$P($G(^DGMT(408.31,DGMTI,2)),"^",5)
"RTN","EASECU23",34,0)
 S X=$$SETSTR^VALM1(DGSOURCE,X,DGSCOL,15)
"RTN","EASECU23",35,0)
 W !,X
"RTN","EASECU23",36,0)
 S X="",X=$$SETSTR^VALM1("Income:",X,16,7)
"RTN","EASECU23",37,0)
 S X=$$SETSTR^VALM1($S($P(DGMTDIS,U,4)'="":"$"_$P(DGMTDIS,U,4),1:""),X,DGFCOL,25)
"RTN","EASECU23",38,0)
 S X=$$SETSTR^VALM1("Completed By:",X,51,13)
"RTN","EASECU23",39,0)
 S X=$$SETSTR^VALM1($P($G(^VA(200,+$P(DGMTDIS,U,6),0)),U),X,DGSCOL,15)
"RTN","EASECU23",40,0)
 W !,X
"RTN","EASECU23",41,0)
 S X="",X=$$SETSTR^VALM1("Assets:",X,16,7)
"RTN","EASECU23",42,0)
 S X=$$SETSTR^VALM1($S($P(DGMTDIS,U,5)'="":"$"_$P(DGMTDIS,U,5),1:""),X,DGFCOL,25)
"RTN","EASECU23",43,0)
 W !,X
"RTN","EASECU23",44,0)
 S X="",X=$$SETSTR^VALM1("Deductible Expenses:",X,3,20)
"RTN","EASECU23",45,0)
 S X=$$SETSTR^VALM1($S($P(DGMTDIS,U,15)'="":"$"_$P(DGMTDIS,U,15),1:""),X,DGFCOL,25)
"RTN","EASECU23",46,0)
 W !,X
"RTN","EASECU23",47,0)
 S X=""
"RTN","EASECU23",48,0)
 S X=$$SETSTR^VALM1("Declines Income Info:",X,2,21)
"RTN","EASECU23",49,0)
 S X=$$SETSTR^VALM1($S($P(DGMTDIS,U,14)=1:"YES",$P(DGMTDIS,U,14)=0:"NO",1:""),X,DGFCOL,25)
"RTN","EASECU23",50,0)
 S X=$$SETSTR^VALM1("Agrees to Pay Co-Payments:",X,38,26)
"RTN","EASECU23",51,0)
 S X=$$SETSTR^VALM1($S($P(DGMTDIS,U,11)=1:"YES",$P(DGMTDIS,U,11)=0:"NO",1:""),X,DGSCOL,15)
"RTN","EASECU23",52,0)
 W !,X
"RTN","EASECU23",53,0)
 S (X,Y)=""
"RTN","EASECU23",54,0)
 I $G(^DGMT(408.31,DGMTI,"PURGE"))'="" D
"RTN","EASECU23",55,0)
 .S X=$$SETSTR^VALM1("Income Data Purged:",X,45,19)
"RTN","EASECU23",56,0)
 .S X1=^DGMT(408.31,DGMTI,"PURGE")
"RTN","EASECU23",57,0)
 .S X=$$SETSTR^VALM1($$FTIME^DGMTUTL(X1),X,DGSCOL,15)
"RTN","EASECU23",58,0)
 W !,X
"RTN","EASECU23",59,0)
 ;
"RTN","EASECU23",60,0)
 S (X,Y,Z)=""
"RTN","EASECU23",61,0)
 W !,"Comment(s):" F  S WP=$O(DGMTDIS(WP)) Q:'WP  D
"RTN","EASECU23",62,0)
 .W !,DGMTDIS(WP)
"RTN","EASECU23",63,0)
 W !
"RTN","EASECU23",64,0)
 Q
"RTN","EASECV")
0^22^B10345832
"RTN","EASECV",1,0)
EASECV ;ALB/PHH - View an LTC Co-Pay Test ; 20 AUG 2001
"RTN","EASECV",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**5**;Mar 15, 2001
"RTN","EASECV",3,0)
 ;
"RTN","EASECV",4,0)
EN ;Entry point to view an LTC Co-Pay test
"RTN","EASECV",5,0)
 S DIC("S")="I $D(^DGMT(408.31,""AID"",3,+Y))"
"RTN","EASECV",6,0)
 S DIC="^DPT(",DIC(0)="AEMQ" W ! D ^DIC K DIC G Q:Y<0 S DFN=+Y
"RTN","EASECV",7,0)
 ;
"RTN","EASECV",8,0)
DT S DIC("A")="Select DATE OF TEST: "
"RTN","EASECV",9,0)
 I $D(^DGMT(408.31,+$$LST^EASECU(DFN,"",DGMTYPT),0)) S DIC("B")=$P(^(0),"^")
"RTN","EASECV",10,0)
 S DIC("S")="I $P(^(0),U,2)=DFN,$P(^(0),U,19)=DGMTYPT"
"RTN","EASECV",11,0)
 S DIC="^DGMT(408.31,",DIC(0)="EQZ" W ! D EN^DGMTLK K DIC G Q:Y<0
"RTN","EASECV",12,0)
 S DGMTI=+Y,DGMTDT=$P(Y,"^",2),DGMT0=Y(0)
"RTN","EASECV",13,0)
 ;
"RTN","EASECV",14,0)
EN1 ;Entry point to view an uneditable test
"RTN","EASECV",15,0)
 ;JAN;12/13/00;DG*5.3*346;Change G EN to G EN1Q.  This allowed the code to quit back to VIEWPRT+4^EASECE, then back to DT+9^EASECE then GO to EN^EASECE.
"RTN","EASECV",16,0)
 D DIS I $D(DTOUT)!($D(DUOUT))!($G(DGERR)) K DGERR,DTOUT,DUOUT G EN1Q
"RTN","EASECV",17,0)
 S DGMTACT="VEW",DGMTROU=$S($G(DGMTERR):"EN1Q^EASECV",1:"EN^EASECV") G EN^EASECSC
"RTN","EASECV",18,0)
 ;
"RTN","EASECV",19,0)
Q K DFN,DGMTACT,DGMTDT,DGMTERR,DGMTI,DGMT0,DGMTROU,DGMTYPT,DTOUT,DUOUT,X,Y
"RTN","EASECV",20,0)
EN1Q Q
"RTN","EASECV",21,0)
 ;
"RTN","EASECV",22,0)
DIS ;Display LTC Co-Pay test data
"RTN","EASECV",23,0)
 N DA,DGCONTOT,DGDEP,DGINC,DGINR,DGREL,DIC,DIR,DR,Y
"RTN","EASECV",24,0)
 D ALL^EASECU21(DFN,"VSC",DGMTDT,"IPR",$S($G(DGMTI):DGMTI,1:""))
"RTN","EASECV",25,0)
 D DISPLAY^EASECU23(DGMTI,DGMTYPT)
"RTN","EASECV",26,0)
 I '$D(DGREL("V"))!('$D(DGINC("V")))!('$D(DGINR("V"))) W !?2,*7,"** DETAILED LTC CO-PAY TEST INCOME INFORMATION IS NOT AVAILABLE **",! S DGERR=1
"RTN","EASECV",27,0)
 I '$G(DGERR),$D(^DGMT(408.21,+$G(DGINC("V")),"TOT")),$P(DGMT0,"^",4)]"" S DGCONTOT=^("TOT") D CHK
"RTN","EASECV",28,0)
 I '$G(DGERR),$P(DGMT0,"^",3)=3 W !?2,*7,"** LTC COPAY TEST IS NO LONGER REQUIRED INCOME INFORMATION MAY NOT BE ACCURATE **",!
"RTN","EASECV",29,0)
 I '$G(DGERR),$P(DGMT0,"^",3)=10 W !?2,*7,"** LTC COPAY TEST IS NO LONGER APPLICABLE INCOME INFORMATION MAY NOT BE ACCURATE **",!
"RTN","EASECV",30,0)
 S DIR(0)="E" D ^DIR
"RTN","EASECV",31,0)
 Q
"RTN","EASECV",32,0)
 ;
"RTN","EASECV",33,0)
CHK ;Check for spouse and children totals NOT converted 
"RTN","EASECV",34,0)
 N DGCTOT,DGSTOT,DGVIR0
"RTN","EASECV",35,0)
 S DGVIR0=$G(^DGMT(408.22,+$G(DGINR("V")),0))
"RTN","EASECV",36,0)
 I '$D(DGINC("S")),$P(DGVIR0,"^",5),($P(DGCONTOT,"^")]""!($P(DGCONTOT,"^",2)]"")) S DGSTOT=$P(DGCONTOT,"^",1,2)
"RTN","EASECV",37,0)
 I '$D(DGINC("C")),$P(DGVIR0,"^",8),($P(DGCONTOT,"^",3)]""!($P(DGCONTOT,"^",4)]"")) S DGCTOT=$P(DGCONTOT,"^",3,4)
"RTN","EASECV",38,0)
 D WRT:$D(DGSTOT)!($D(DGCTOT))
"RTN","EASECV",39,0)
 Q
"RTN","EASECV",40,0)
 ;
"RTN","EASECV",41,0)
WRT ;Write spouse and children totals NOT converted
"RTN","EASECV",42,0)
 W !?2,*7,"DETAILED LTC COPAY TEST INCOME INFORMATION COULD NOT BE CONVERTED FOR THE",!?2,"FOLLOWING RELATIONS ASSOCIATED WITH THIS LTC COPAY TEST:"
"RTN","EASECV",43,0)
 W !!?27,"INCOME",?37,"NET WORTH",!?27,"------",?37,"---------"
"RTN","EASECV",44,0)
 W:$D(DGSTOT) !?2,"SPOUSE",?22,$J($$AMT^DGMTSCU1($P(DGSTOT,"^")),11),?35,$J($$AMT^DGMTSCU1($P(DGSTOT,"^",2)),11)
"RTN","EASECV",45,0)
 W:$D(DGCTOT) !?2,"CHILDREN",?22,$J($$AMT^DGMTSCU1($P(DGCTOT,"^")),11),?35,$J($$AMT^DGMTSCU1($P(DGCTOT,"^",2)),11)
"RTN","EASECV",46,0)
 W !!?2,"TO COLLECT THE NEW DETAILED DEPENDENT DEMOGRAPHIC AND INCOME INFORMATION",!?2,"THE LTC COPAY TEST WOULD HAVE TO BE EDITED.",!
"RTN","EASECV",47,0)
 Q
"VER")
8.0^22
"^DD",408.21,408.21,0)
FIELD^^104^48
"^DD",408.21,408.21,0,"DDA")
N
"^DD",408.21,408.21,0,"DIK")
DGMTXX1
"^DD",408.21,408.21,0,"DIKOLD")
DGMTXX1
"^DD",408.21,408.21,0,"DT")
3010920
"^DD",408.21,408.21,0,"ID",.02)
W ""
"^DD",408.21,408.21,0,"ID","WRITE")
D ID^DGMTDD3
"^DD",408.21,408.21,0,"IX","AI",408.21,.01)

"^DD",408.21,408.21,0,"IX","AI2",408.21,.02)

"^DD",408.21,408.21,0,"IX","AIX14",408.21,.14)

"^DD",408.21,408.21,0,"IX","AIX204",408.21,2.04)

"^DD",408.21,408.21,0,"IX","AM",408.21,31)

"^DD",408.21,408.21,0,"IX","B",408.21,.01)

"^DD",408.21,408.21,0,"IX","C",408.21,.02)

"^DD",408.21,408.21,0,"NM","INDIVIDUAL ANNUAL INCOME")

"^DD",408.21,408.21,0,"PT",408.22,.02)

"^DD",408.21,408.21,0,"VRPK")
EAS
"^DD",408.21,408.21,.01,0)
YEAR^RD^^0;1^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",408.21,408.21,.01,1,0)
^.1
"^DD",408.21,408.21,.01,1,1,0)
408.21^B
"^DD",408.21,408.21,.01,1,1,1)
S ^DGMT(408.21,"B",$E(X,1,30),DA)=""
"^DD",408.21,408.21,.01,1,1,2)
K ^DGMT(408.21,"B",$E(X,1,30),DA)
"^DD",408.21,408.21,.01,1,1,"%D",0)
^^1^1^2920326^
"^DD",408.21,408.21,.01,1,1,"%D",1,0)
This cross-reference allows look-up by year.
"^DD",408.21,408.21,.01,1,2,0)
408.21^AI^MUMPS
"^DD",408.21,408.21,.01,1,2,1)
S:$P(^DGMT(408.21,DA,0),U,2) ^DGMT(408.21,"AI",+$P(^(0),U,2),-X,DA)=""
"^DD",408.21,408.21,.01,1,2,2)
K ^DGMT(408.21,"AI",+$P(^DGMT(408.21,DA,0),U,2),-X,DA)
"^DD",408.21,408.21,.01,1,2,"%D",0)
^^2^2^2920414^^
"^DD",408.21,408.21,.01,1,2,"%D",1,0)
This cross-reference can be used to sort by patient by inverse
"^DD",408.21,408.21,.01,1,2,"%D",2,0)
year by internal entry number.
"^DD",408.21,408.21,.01,1,2,"DT")
2920414
"^DD",408.21,408.21,.01,3)
Enter in this field the year the income information is being collected for.
"^DD",408.21,408.21,.01,21,0)
^^2^2^2920324^^
"^DD",408.21,408.21,.01,21,1,0)
Enter in this field the year the income information is being collected
"^DD",408.21,408.21,.01,21,2,0)
for.
"^DD",408.21,408.21,.01,"DT")
2920414
"^DD",408.21,408.21,.02,0)
PATIENT RELATION^RP408.12'OI^DGPR(408.12,^0;2^Q
"^DD",408.21,408.21,.02,1,0)
^.1
"^DD",408.21,408.21,.02,1,1,0)
408.21^AI2^MUMPS
"^DD",408.21,408.21,.02,1,1,1)
S ^DGMT(408.21,"AI",X,-$P(^DGMT(408.21,DA,0),U),DA)=""
"^DD",408.21,408.21,.02,1,1,2)
K ^DGMT(408.21,"AI",X,-$P(^DGMT(408.21,DA,0),U),DA)
"^DD",408.21,408.21,.02,1,1,"%D",0)
^^2^2^2920326^
"^DD",408.21,408.21,.02,1,1,"%D",1,0)
This cross-referencs can be used to sort by patient by inverse
"^DD",408.21,408.21,.02,1,1,"%D",2,0)
year by internal entry number.
"^DD",408.21,408.21,.02,1,1,"DT")
2920121
"^DD",408.21,408.21,.02,1,2,0)
408.21^C
"^DD",408.21,408.21,.02,1,2,1)
S ^DGMT(408.21,"C",$E(X,1,30),DA)=""
"^DD",408.21,408.21,.02,1,2,2)
K ^DGMT(408.21,"C",$E(X,1,30),DA)
"^DD",408.21,408.21,.02,1,2,"%D",0)
^^1^1^2920326^
"^DD",408.21,408.21,.02,1,2,"%D",1,0)
This cross-reference allows look-up by patient relation.
"^DD",408.21,408.21,.02,1,2,"DT")
2920317
"^DD",408.21,408.21,.02,2)
S Y(0)=Y D NAM^DGMTDD3
"^DD",408.21,408.21,.02,2.1)
D NAM^DGMTDD3
"^DD",408.21,408.21,.02,3)
Enter in this field the patient or relation whose annual income information is being collected.
"^DD",408.21,408.21,.02,21,0)
^^2^2^2920324^
"^DD",408.21,408.21,.02,21,1,0)
Enter in this field the patient or relation whose annual income
"^DD",408.21,408.21,.02,21,2,0)
information is being collected.
"^DD",408.21,408.21,.02,"DT")
2920324
"^DD",408.21,408.21,.06,0)
RETIREMENT AND PENSION^NJ10,2X^^0;6^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.06,3)
Type a Dollar amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.06,21,0)
^^4^4^3010906^
"^DD",408.21,408.21,.06,21,1,0)
Enter in this field the annual amount of Retirement and Pension
"^DD",408.21,408.21,.06,21,2,0)
received during the current calendar year.
"^DD",408.21,408.21,.06,21,3,0)
 
"^DD",408.21,408.21,.06,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.06,"DT")
3010905
"^DD",408.21,408.21,.07,0)
VA PENSION^NJ10,2X^^0;7^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.07,3)
Type a Dollar amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.07,21,0)
^^4^4^3010906^
"^DD",408.21,408.21,.07,21,1,0)
Enter in this field the annual amount of VA Pension received during
"^DD",408.21,408.21,.07,21,2,0)
the current calendar year.
"^DD",408.21,408.21,.07,21,3,0)
 
"^DD",408.21,408.21,.07,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.07,"DT")
3010905
"^DD",408.21,408.21,.08,0)
SOCIAL SECURITY (NOT SSI)^NJ10,2X^^0;8^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.08,.1)
ANNUAL SOCIAL SECURITY (NOT SSI)
"^DD",408.21,408.21,.08,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.08,4)
D:$G(DGMTYPT)=3 8^EASECDD
"^DD",408.21,408.21,.08,21,0)
^.001^4^4^3010921^^^^
"^DD",408.21,408.21,.08,21,1,0)
Enter in this field the annual amount of Social Security received
"^DD",408.21,408.21,.08,21,2,0)
during the previous calendar year.  Do not include SSI.
"^DD",408.21,408.21,.08,21,3,0)
 
"^DD",408.21,408.21,.08,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.08,23,0)
^.001^2^2^3010921^^^^
"^DD",408.21,408.21,.08,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.08,23,2,0)
applications maintain the field.
"^DD",408.21,408.21,.08,"DT")
3010806
"^DD",408.21,408.21,.09,0)
U.S. CIVIL SERVICE^NJ8,2X^^0;9^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.09,.1)
ANNUAL U.S. CIVIL SERVICE
"^DD",408.21,408.21,.09,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.09,4)
D:$G(DGMTYPT)=3 9^EASECDD
"^DD",408.21,408.21,.09,21,0)
^.001^4^4^3010905^^^
"^DD",408.21,408.21,.09,21,1,0)
Enter in this field the annual amount of U.S. Civil Service received
"^DD",408.21,408.21,.09,21,2,0)
during the previous calendar year.
"^DD",408.21,408.21,.09,21,3,0)
 
"^DD",408.21,408.21,.09,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.09,23,0)
^.001^2^2^3010905^^
"^DD",408.21,408.21,.09,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.09,23,2,0)
applications maintain the field.
"^DD",408.21,408.21,.09,"DT")
3010910
"^DD",408.21,408.21,.1,0)
U.S. RAILROAD RETIREMENT^NJ8,2X^^0;10^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.1,.1)
ANNUAL U.S. RAILROAD RETIREMENT
"^DD",408.21,408.21,.1,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.1,4)
D:$G(DGMTYPT)=3 10^EASECDD
"^DD",408.21,408.21,.1,21,0)
^.001^4^4^3010905^^^
"^DD",408.21,408.21,.1,21,1,0)
Enter in this field the annual amount of U.S. Railroad Retirement
"^DD",408.21,408.21,.1,21,2,0)
received during the previous calendar year.
"^DD",408.21,408.21,.1,21,3,0)
 
"^DD",408.21,408.21,.1,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.1,23,0)
^.001^2^2^3010905^^
"^DD",408.21,408.21,.1,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.1,23,2,0)
applications maintain the field.
"^DD",408.21,408.21,.1,"DT")
3010910
"^DD",408.21,408.21,.11,0)
MILITARY RETIREMENT^NJ8,2X^^0;11^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.11,.1)
ANNUAL MILITARY RETIREMENT
"^DD",408.21,408.21,.11,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.11,4)
D:$G(DGMTYPT)=3 11^EASECDD
"^DD",408.21,408.21,.11,21,0)
^.001^4^4^3010905^^^^
"^DD",408.21,408.21,.11,21,1,0)
Enter in this field the annual amount of Military Retirement received
"^DD",408.21,408.21,.11,21,2,0)
during the previous calendar year.
"^DD",408.21,408.21,.11,21,3,0)
 
"^DD",408.21,408.21,.11,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.11,23,0)
^.001^2^2^3010905^^^^
"^DD",408.21,408.21,.11,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.11,23,2,0)
applications maintain the field.
"^DD",408.21,408.21,.11,"DT")
3010910
"^DD",408.21,408.21,.12,0)
UNEMPLOYMENT COMPENSATION^NJ8,2X^^0;12^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.12,.1)
ANNUAL UNEMPLOYMENT COMPENSATION
"^DD",408.21,408.21,.12,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.12,4)
D:$G(DGMTYPT)=3 12^EASECDD
"^DD",408.21,408.21,.12,21,0)
^.001^4^4^3010905^^^^
"^DD",408.21,408.21,.12,21,1,0)
Enter in this field the annual amount of Unemployment Compensation
"^DD",408.21,408.21,.12,21,2,0)
received during the previous calendar year.
"^DD",408.21,408.21,.12,21,3,0)
 
"^DD",408.21,408.21,.12,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.12,23,0)
^.001^2^2^3010905^^^
"^DD",408.21,408.21,.12,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.12,23,2,0)
applications maintain the field.
"^DD",408.21,408.21,.12,"DT")
3010910
"^DD",408.21,408.21,.13,0)
OTHER RETIREMENT^NJ8,2X^^0;13^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.13,.1)
ANNUAL OTHER RETIREMENT
"^DD",408.21,408.21,.13,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.13,4)
D:$G(DGMTYPT)=3 13^EASECDD
"^DD",408.21,408.21,.13,21,0)
^.001^5^5^3010905^^^^
"^DD",408.21,408.21,.13,21,1,0)
Enter in this field the annual amount of Other Retirement received
"^DD",408.21,408.21,.13,21,2,0)
during the previous calendar year.  This includes company, state,
"^DD",408.21,408.21,.13,21,3,0)
local, etc.
"^DD",408.21,408.21,.13,21,4,0)
 
"^DD",408.21,408.21,.13,21,5,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.13,23,0)
^.001^2^2^3010905^^
"^DD",408.21,408.21,.13,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.13,23,2,0)
applications maintain the field.
"^DD",408.21,408.21,.13,"DT")
3010910
"^DD",408.21,408.21,.14,0)
TOTAL INCOME FROM EMPLOYMENT^NJ9,2X^^0;14^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.14,.1)
ANNUAL TOTAL INCOME FROM EMPLOYMENT
"^DD",408.21,408.21,.14,1,0)
^.1
"^DD",408.21,408.21,.14,1,1,0)
408.21^AIX14^MUMPS
"^DD",408.21,408.21,.14,1,1,1)
D EMP^DGMTDD3
"^DD",408.21,408.21,.14,1,1,2)
I $D(^DGMT(408.21,DA,0)),$P(^(0),U,14)="" D EMP^DGMTDD3
"^DD",408.21,408.21,.14,1,1,"%D",0)
^^4^4^2920412^^^^
"^DD",408.21,408.21,.14,1,1,"%D",1,0)
This mumps cross-reference works like a "trigger" cross-reference.
"^DD",408.21,408.21,.14,1,1,"%D",2,0)
If the patient has a child with no employment income, or the child's
"^DD",408.21,408.21,.14,1,1,"%D",3,0)
employment income minus the income exclusion is not greater than 0 any
"^DD",408.21,408.21,.14,1,1,"%D",4,0)
corresponding educational expenses on file for the year are deleted.
"^DD",408.21,408.21,.14,1,1,"DT")
2920412
"^DD",408.21,408.21,.14,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.14,4)
D:$G(DGMTYPT)=3 14^EASECDD
"^DD",408.21,408.21,.14,21,0)
^.001^5^5^3010905^^^^
"^DD",408.21,408.21,.14,21,1,0)
Enter in this field the annual amount of Total Income from Employment
"^DD",408.21,408.21,.14,21,2,0)
received during the previous calendar year.  This includes wages,
"^DD",408.21,408.21,.14,21,3,0)
salary, earnings and tips.
"^DD",408.21,408.21,.14,21,4,0)
 
"^DD",408.21,408.21,.14,21,5,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.14,23,0)
^.001^2^2^3010905^^^
"^DD",408.21,408.21,.14,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.14,23,2,0)
applications maintain this field.
"^DD",408.21,408.21,.14,"DT")
3010910
"^DD",408.21,408.21,.15,0)
INTEREST, DIVIDEND, OR ANNUITY^NJ8,2X^^0;15^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.15,.1)
ANNUAL INTEREST, DIVIDEND OR ANNUITY INCOME
"^DD",408.21,408.21,.15,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.15,4)
D:$G(DGMTYPT)=3 15^EASECDD
"^DD",408.21,408.21,.15,21,0)
^.001^4^4^3010905^^^^
"^DD",408.21,408.21,.15,21,1,0)
Enter in this field the annual amount of Interest, Dividend, or
"^DD",408.21,408.21,.15,21,2,0)
Annuity Income received during the previous calendar year.
"^DD",408.21,408.21,.15,21,3,0)
 
"^DD",408.21,408.21,.15,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.15,23,0)
^.001^2^2^3010905^^^
"^DD",408.21,408.21,.15,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.15,23,2,0)
applications maintain this field.
"^DD",408.21,408.21,.15,"DT")
3010910
"^DD",408.21,408.21,.16,0)
WORKERS COMP. OR BLACK LUNG^NJ8,2X^^0;16^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.16,.1)
ANNUAL WORKERS COMPENSATION OR BLACK LUNG BENEFITS
"^DD",408.21,408.21,.16,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.16,4)
D:$G(DGMTYPT)=3 16^EASECDD
"^DD",408.21,408.21,.16,21,0)
^.001^4^4^3010905^^^^
"^DD",408.21,408.21,.16,21,1,0)
Enter in this field the annual amount of Workers Compensation or
"^DD",408.21,408.21,.16,21,2,0)
Black Lung Benefits received during the previous calendar year.
"^DD",408.21,408.21,.16,21,3,0)
 
"^DD",408.21,408.21,.16,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.16,23,0)
^.001^2^2^3010905^^^^
"^DD",408.21,408.21,.16,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.16,23,2,0)
applications maintain the field.
"^DD",408.21,408.21,.16,"DT")
3010910
"^DD",408.21,408.21,.17,0)
ALL OTHER INCOME^NJ9,2X^^0;17^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.17,.1)
ANNUAL ALL OTHER INCOME
"^DD",408.21,408.21,.17,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.17,4)
D:$G(DGMTYPT)=3 17^EASECDD
"^DD",408.21,408.21,.17,21,0)
15^.001^15^15^3010905^^
"^DD",408.21,408.21,.17,21,1,0)
Enter in this field the annual amount of All Other Income received
"^DD",408.21,408.21,.17,21,2,0)
during the previous calendar year.
"^DD",408.21,408.21,.17,21,3,0)
 
"^DD",408.21,408.21,.17,21,4,0)
Business or Farm Income.  Net income from operation of a farm or other
"^DD",408.21,408.21,.17,21,5,0)
business is countable.  If a veteran reports this type of income, have
"^DD",408.21,408.21,.17,21,6,0)
the veteran complete VA Form 21-4165, Pension Claim Questionaire for
"^DD",408.21,408.21,.17,21,7,0)
Farm Income, or VA Form 21-4185, Report of Income from Property or
"^DD",408.21,408.21,.17,21,8,0)
Business.  Subtract the veteran's business or farm expenses from
"^DD",408.21,408.21,.17,21,9,0)
gross income.  The result should be entered in this field.  If the
"^DD",408.21,408.21,.17,21,10,0)
veteran or veteran's spouse or child receives a salary from the business,
"^DD",408.21,408.21,.17,21,11,0)
it should be reported in the 'Total Income from Employment' field.
"^DD",408.21,408.21,.17,21,12,0)
Also, note that depreciation is not a deductible expense for VA
"^DD",408.21,408.21,.17,21,13,0)
purposes.
"^DD",408.21,408.21,.17,21,14,0)
 
"^DD",408.21,408.21,.17,21,15,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.17,23,0)
^.001^2^2^3010905^^
"^DD",408.21,408.21,.17,23,1,0)
This field is shared by Income Screening and Means Test.  Both
"^DD",408.21,408.21,.17,23,2,0)
applications maintain this field.
"^DD",408.21,408.21,.17,"DT")
3010910
"^DD",408.21,408.21,.18,0)
COPIED DATA^S^1:YES;0:NO;^0;18^Q
"^DD",408.21,408.21,.18,3)
If YES, this data has been copied using the Income Screen COPY function without editing
"^DD",408.21,408.21,.18,5,1,0)
408.21^104^1
"^DD",408.21,408.21,.18,21,0)
^^4^4^2930304^^^
"^DD",408.21,408.21,.18,21,1,0)
This field is used to track the use of the Income Screen COPY function.
"^DD",408.21,408.21,.18,21,2,0)
NULL = COPY function has never been used on this record
"^DD",408.21,408.21,.18,21,3,0)
YES  = COPY function has been used and no editing has been done
"^DD",408.21,408.21,.18,21,4,0)
NO   = COPY function has been used but record was selected for editing
"^DD",408.21,408.21,.18,23,0)
^^4^4^2930304^^^
"^DD",408.21,408.21,.18,23,1,0)
This field is used to track the use of the Income Screen COPY function.
"^DD",408.21,408.21,.18,23,2,0)
If the COPY function has NEVER been used for this record this value
"^DD",408.21,408.21,.18,23,3,0)
should be null.  The LAST EDITED ON (#104) field has a trigger to
"^DD",408.21,408.21,.18,23,4,0)
change a YES value to a NO.
"^DD",408.21,408.21,.18,"DT")
2930203
"^DD",408.21,408.21,.19,0)
SPOUSE VA DISABILITY/COMP^NJ10,2X^^0;19^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.19,3)
Type a Dollar amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.19,21,0)
^^4^4^3010906^
"^DD",408.21,408.21,.19,21,1,0)
Enter in this field the annual amount for Spouse VA Disability and
"^DD",408.21,408.21,.19,21,2,0)
Compensation received during the current calendar year.
"^DD",408.21,408.21,.19,21,3,0)
 
"^DD",408.21,408.21,.19,21,4,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.19,"DT")
3010905
"^DD",408.21,408.21,.2,0)
COURT MANDATED^NJ10,2X^^0;20^S:X["$" X=$P(X,"$",2) X:X["*" "S X=X*12 W ""  "",X" K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,.2,3)
Type a Dollar amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,.2,21,0)
^^5^5^3010906^
"^DD",408.21,408.21,.2,21,1,0)
Enter in this field the annual amount of Court Mandated income (such
"^DD",408.21,408.21,.2,21,2,0)
as alimony or child support) received during the current calendar
"^DD",408.21,408.21,.2,21,3,0)
year.
"^DD",408.21,408.21,.2,21,4,0)
 
"^DD",408.21,408.21,.2,21,5,0)
A monthly amount can be entered with an '*' after it.
"^DD",408.21,408.21,.2,"DT")
3010905
"^DD",408.21,408.21,.21,0)
YEARS ESTIMATED TAXABLE INCOME^NJ15,2^^0;21^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>999999999999)!(X<0) X
"^DD",408.21,408.21,.21,.1)
LAST YEAR'S ESTIMATED "HOUSEHOLD" TAXABLE INCOME
"^DD",408.21,408.21,.21,3)
Type a Dollar Amount between 0 and 999999999999, 2 Decimal Digits
"^DD",408.21,408.21,.21,21,0)
^^2^2^2961218^
"^DD",408.21,408.21,.21,21,1,0)
Last Year's Estimated "Household" Taxable Income which will be used
"^DD",408.21,408.21,.21,21,2,0)
to make preliminary prima facie financial eligibility determinations.
"^DD",408.21,408.21,.21,"DT")
2961205
"^DD",408.21,408.21,1.01,0)
MEDICAL EXPENSES^NJ8,2X^^1;1^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.01,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.01,4)
D:$G(DGMTYPT)=3 101^EASECDD
"^DD",408.21,408.21,1.01,21,0)
^.001^13^13^3010906^^^
"^DD",408.21,408.21,1.01,21,1,0)
Enter in this field the total amount of unreimbursed medical expenses
"^DD",408.21,408.21,1.01,21,2,0)
paid by the veteran during the previous calendar year.  The expenses
"^DD",408.21,408.21,1.01,21,3,0)
can be for the veteran or for members of the veteran's family.
"^DD",408.21,408.21,1.01,21,4,0)
Reportable medical expenses include amounts paid for the following:
"^DD",408.21,408.21,1.01,21,5,0)
fees of physicians, dentists, and other providers of health services;
"^DD",408.21,408.21,1.01,21,6,0)
hospital and nursing home fees; medical insurance premiums (including
"^DD",408.21,408.21,1.01,21,7,0)
the Medicare premium); drugs and medicines; eyeglasses; any other
"^DD",408.21,408.21,1.01,21,8,0)
expenses that are reasonable related to medical care.  The expenses
"^DD",408.21,408.21,1.01,21,9,0)
must actually have been paid by the veteran.  Do not list expenses
"^DD",408.21,408.21,1.01,21,10,0)
which have not been paid or which have been paid by someone other
"^DD",408.21,408.21,1.01,21,11,0)
than the veteran.  Do not list expenses which the veteran has paid if
"^DD",408.21,408.21,1.01,21,12,0)
the veteran expects to receive reimbursement from insurance or some
"^DD",408.21,408.21,1.01,21,13,0)
other source.
"^DD",408.21,408.21,1.01,"DT")
3010910
"^DD",408.21,408.21,1.02,0)
FUNERAL AND BURIAL EXPENSES^NJ8,2X^^1;2^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X D:$G(DGMTYPT)'=3 FUN^DGMTDD3:$D(X)
"^DD",408.21,408.21,1.02,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.02,4)
D:$G(DGMTYPT)=3 102^EASECDD
"^DD",408.21,408.21,1.02,21,0)
^.001^4^4^3010906^^
"^DD",408.21,408.21,1.02,21,1,0)
Enter in this field amounts paid by the veteran during the previous
"^DD",408.21,408.21,1.02,21,2,0)
calendar year for funeral or burial expenses of the veteran's
"^DD",408.21,408.21,1.02,21,3,0)
spouse or child.  Do not report amounts paid for funeral or
"^DD",408.21,408.21,1.02,21,4,0)
burial expenses of other relatives such as parents, siblings, etc.
"^DD",408.21,408.21,1.02,"DT")
3010910
"^DD",408.21,408.21,1.03,0)
EDUCATIONAL EXPENSES^NJ8,2X^^1;3^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.03,3)

"^DD",408.21,408.21,1.03,4)
D:$G(DGMTYPT)'=3 EDHLP^DGMTDD3 D:$G(DGMTYPT)=3 103^EASECDD
"^DD",408.21,408.21,1.03,21,0)
^.001^2^2^3010906^^^^
"^DD",408.21,408.21,1.03,21,1,0)
Enter amounts paid by the veteran during the previous calendar year
"^DD",408.21,408.21,1.03,21,2,0)
for educational expenses.
"^DD",408.21,408.21,1.03,"DT")
2941130
"^DD",408.21,408.21,1.04,0)
RENT/MORTGAGE^NJ10,2^^1;4^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.04,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.04,21,0)
^^2^2^3010911^
"^DD",408.21,408.21,1.04,21,1,0)
Enter in this field the annual amount paid for Rent or Mortgage during
"^DD",408.21,408.21,1.04,21,2,0)
the current calendar year.
"^DD",408.21,408.21,1.04,"DT")
3010911
"^DD",408.21,408.21,1.05,0)
UTILITIES^NJ10,2^^1;5^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.05,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.05,21,0)
^^2^2^3010911^
"^DD",408.21,408.21,1.05,21,1,0)
Enter in this field the annual amount paid for Utilities during the
"^DD",408.21,408.21,1.05,21,2,0)
current calendar year.
"^DD",408.21,408.21,1.05,"DT")
3010911
"^DD",408.21,408.21,1.06,0)
CAR PAYMENT^NJ10,2^^1;6^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.06,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.06,21,0)
^.001^3^3^3010911^^
"^DD",408.21,408.21,1.06,21,1,0)
Enter in this field the annual amount paid for Car Payments during the
"^DD",408.21,408.21,1.06,21,2,0)
current calendar year.  This amount excludes gas, insurance, and parking
"^DD",408.21,408.21,1.06,21,3,0)
fees.
"^DD",408.21,408.21,1.06,"DT")
3010911
"^DD",408.21,408.21,1.07,0)
FOOD^NJ10,2^^1;7^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.07,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.07,21,0)
^^2^2^3010911^
"^DD",408.21,408.21,1.07,21,1,0)
Enter in this field the annual amount paid for Food during the current
"^DD",408.21,408.21,1.07,21,2,0)
calendar year.
"^DD",408.21,408.21,1.07,"DT")
3010911
"^DD",408.21,408.21,1.08,0)
COURT-ORDERED PAYMENTS^NJ10,2^^1;8^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.08,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.08,21,0)
^^2^2^3010911^
"^DD",408.21,408.21,1.08,21,1,0)
Enter in this field the annual amount paid for Court-Ordered Payments
"^DD",408.21,408.21,1.08,21,2,0)
during this current calendar year.
"^DD",408.21,408.21,1.08,"DT")
3010911
"^DD",408.21,408.21,1.09,0)
INSURANCE^NJ10,2^^1;9^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.09,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.09,21,0)
^.001^2^2^3010911^^
"^DD",408.21,408.21,1.09,21,1,0)
Enter in this field the annual amount paid for Insurance during the current
"^DD",408.21,408.21,1.09,21,2,0)
calendar year.  This amount should exclude life insurance.
"^DD",408.21,408.21,1.09,"DT")
3010911
"^DD",408.21,408.21,1.1,0)
TAXES^NJ10,2^^1;10^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.1,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.1,21,0)
^.001^2^2^3010920^^^
"^DD",408.21,408.21,1.1,21,1,0)
Enter in this field the annual amount paid for Taxes during the current
"^DD",408.21,408.21,1.1,21,2,0)
calendar year on any amount included in gross income, property, personal.
"^DD",408.21,408.21,1.1,"DT")
3010911
"^DD",408.21,408.21,1.11,0)
TAXES(PROPERTY,PERSONAL)^NJ10,2^^1;11^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,1.11,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,1.11,21,0)
^.001^2^2^3010920^^
"^DD",408.21,408.21,1.11,21,1,0)
Enter in this field the total amount of Taxes (personal, property)
"^DD",408.21,408.21,1.11,21,2,0)
paid during the current calendar year.
"^DD",408.21,408.21,1.11,"DT")
3010911
"^DD",408.21,408.21,2.01,0)
CASH, AMOUNTS IN BANK ACCOUNTS^NJ9,2X^^2;1^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X D NET^DGMTDD3:$D(X)
"^DD",408.21,408.21,2.01,.1)
CASH, AMOUNTS IN BANK ACCOUNTS (INCLUDE IRA'S)
"^DD",408.21,408.21,2.01,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.01,4)
D:$G(DGMTYPT)=3 201^EASECDD
"^DD",408.21,408.21,2.01,21,0)
^.001^3^3^3010920^^
"^DD",408.21,408.21,2.01,21,1,0)
Enter in this field cash and amounts in bank accounts.  This includes
"^DD",408.21,408.21,2.01,21,2,0)
checking accounts, savings accounts, Individual Retirement Accounts,
"^DD",408.21,408.21,2.01,21,3,0)
certificate of deposit, etc.
"^DD",408.21,408.21,2.01,"DT")
3010920
"^DD",408.21,408.21,2.02,0)
STOCKS AND BONDS^NJ9,2X^^2;2^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X D NET^DGMTDD3:$D(X)
"^DD",408.21,408.21,2.02,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.02,4)
D:$G(DGMTYPT)=3 202^EASECDD
"^DD",408.21,408.21,2.02,21,0)
^.001^3^3^3010920^^^^
"^DD",408.21,408.21,2.02,21,1,0)
Enter in this field stocks, bonds, and similar assets.  The reportable
"^DD",408.21,408.21,2.02,21,2,0)
value of the stock or bond is the amount of money that the asset
"^DD",408.21,408.21,2.02,21,3,0)
would bring if it were cashed out today.
"^DD",408.21,408.21,2.02,"DT")
2941130
"^DD",408.21,408.21,2.03,0)
REAL PROPERTY^NJ9,2X^^2;3^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X D NET^DGMTDD3:$D(X)
"^DD",408.21,408.21,2.03,.1)
REAL PROPERTY (NOT INCLUDING PRIMARY RESIDENCE)
"^DD",408.21,408.21,2.03,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.03,21,0)
^^11^11^2920723^^^^
"^DD",408.21,408.21,2.03,21,1,0)
Enter in this field the current value, less mortgages or other
"^DD",408.21,408.21,2.03,21,2,0)
encumbrances, of any real property (land and buildings) owned.
"^DD",408.21,408.21,2.03,21,3,0)
Do not report the value of the veteran's primary residence.
"^DD",408.21,408.21,2.03,21,4,0)
If the veteran's primary residence is a multifamily dwelling, report
"^DD",408.21,408.21,2.03,21,5,0)
the value of the building less the value of the unit occupied by
"^DD",408.21,408.21,2.03,21,6,0)
the veteran.  If the veteran lives on a farm, report the value
"^DD",408.21,408.21,2.03,21,7,0)
of the farm less the value of the house occupied by the veteran
"^DD",408.21,408.21,2.03,21,8,0)
and a reasonable surrounding area.  NOTE:  Since the veteran's primary
"^DD",408.21,408.21,2.03,21,9,0)
residence is not reported as an asset, the mortgage may NOT be reported
"^DD",408.21,408.21,2.03,21,10,0)
as a debt.  In addition, the value of any other property owned by the
"^DD",408.21,408.21,2.03,21,11,0)
veteran or spouse will be calculated in the same manner.
"^DD",408.21,408.21,2.03,"DT")
2941130
"^DD",408.21,408.21,2.04,0)
OTHER PROPERTY OR ASSETS^NJ9,2X^^2;4^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X D NET^DGMTDD3:$D(X)
"^DD",408.21,408.21,2.04,.1)
OTHER PROPERTY NOT SHOWN ELSEWHERE
"^DD",408.21,408.21,2.04,1,0)
^.1
"^DD",408.21,408.21,2.04,1,1,0)
408.21^AIX204^MUMPS
"^DD",408.21,408.21,2.04,1,1,1)
I $D(^DGMT(408.21,DA,2)),$P(^(2),U,4)=0 D OTH^DGMTDD3
"^DD",408.21,408.21,2.04,1,1,2)
I $D(^DGMT(408.21,DA,2)),$P(^(2),U,4)="" D OTH^DGMTDD3
"^DD",408.21,408.21,2.04,1,1,"DT")
2920325
"^DD",408.21,408.21,2.04,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.04,21,0)
^^4^4^2920723^^
"^DD",408.21,408.21,2.04,21,1,0)
Enter in this field the current market value of other property owned.
"^DD",408.21,408.21,2.04,21,2,0)
However, do not report the value of household effects or vehicles
"^DD",408.21,408.21,2.04,21,3,0)
regularly used for family transportation.  Other property may include
"^DD",408.21,408.21,2.04,21,4,0)
an art or stamp collection.
"^DD",408.21,408.21,2.04,"DT")
2941130
"^DD",408.21,408.21,2.05,0)
DEBTS^NJ9,2X^^2;5^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X D DEB^DGMTDD3:$D(X)
"^DD",408.21,408.21,2.05,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.05,21,0)
^^3^3^2920325^^^
"^DD",408.21,408.21,2.05,21,1,0)
Enter in this field debts that will reduce the value of the property
"^DD",408.21,408.21,2.05,21,2,0)
listed in 'OTHER PROPERTY OR ASSETS'.  It cannot exceed the 'OTHER
"^DD",408.21,408.21,2.05,21,3,0)
PROPERTY OR ASSETS'.  DO NOT ENTER ANY CREDIT CARD DEBTS.
"^DD",408.21,408.21,2.05,"DT")
2941130
"^DD",408.21,408.21,2.06,0)
RESIDENCE^NJ10,2^^2;6^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0)!(X?.E1"."3.N) X
"^DD",408.21,408.21,2.06,3)
Type a Dollar amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.06,21,0)
^^4^4^3010809^
"^DD",408.21,408.21,2.06,21,1,0)
Enter in this field the current market value, minus any outstanding
"^DD",408.21,408.21,2.06,21,2,0)
mortgage or lien, of the veteran's primary residence.  Do not enter an
"^DD",408.21,408.21,2.06,21,3,0)
amount in this field if the veteran is receiving only non-institutional
"^DD",408.21,408.21,2.06,21,4,0)
services, or there is a spouse or dependent residing in the community.
"^DD",408.21,408.21,2.06,"DT")
3010809
"^DD",408.21,408.21,2.07,0)
OTHER RESIDENCES/LAND/FARM^NJ,^^2;7^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0)!(X?.E1"."3.N) X
"^DD",408.21,408.21,2.07,3)
Type a Dollar amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.07,21,0)
^^3^3^3010809^
"^DD",408.21,408.21,2.07,21,1,0)
Enter in this field the current market value, minus any outstanding
"^DD",408.21,408.21,2.07,21,2,0)
mortgages or liens, of the veteran's other residence(s), land, farm or
"^DD",408.21,408.21,2.07,21,3,0)
ranch.
"^DD",408.21,408.21,2.07,"DT")
3010809
"^DD",408.21,408.21,2.08,0)
VEHICLE(S)^NJ10,2^^2;8^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,2.08,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.08,21,0)
^.001^4^4^3010920^^^^
"^DD",408.21,408.21,2.08,21,1,0)
Enter in this field the current value, minus any outstanding liens, of
"^DD",408.21,408.21,2.08,21,2,0)
any vehicle(s) owned by the veteran.  Exclude a vehicle if the veteran
"^DD",408.21,408.21,2.08,21,3,0)
is receiving only non-institutional care, or there is a spouse or 
"^DD",408.21,408.21,2.08,21,4,0)
dependent residing in the community.
"^DD",408.21,408.21,2.08,"DT")
3010920
"^DD",408.21,408.21,2.09,0)
OTHER LIQUID ASSETS^NJ10,2^^2;9^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0)!(X?.E1"."3.N) X
"^DD",408.21,408.21,2.09,3)
Type a Dollar amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,2.09,21,0)
^.001^4^4^3010920^^
"^DD",408.21,408.21,2.09,21,1,0)
Enter in this field the current value of such items as stamp or coin
"^DD",408.21,408.21,2.09,21,2,0)
collections, art work, and collectibles minus any amount owed.  Exclude
"^DD",408.21,408.21,2.09,21,3,0)
from this amount the value of burial plots, household furniture and 
"^DD",408.21,408.21,2.09,21,4,0)
other household goods, clothing, jewelry, and personal items.
"^DD",408.21,408.21,2.09,"DT")
3010809
"^DD",408.21,408.21,31,0)
*ANNUAL MEANS TEST^P408.31'^DGMT(408.31,^MT;1^Q
"^DD",408.21,408.21,31,.1)
ANNUAL MEANS TEST
"^DD",408.21,408.21,31,1,0)
^.1
"^DD",408.21,408.21,31,1,1,0)
408.21^AM
"^DD",408.21,408.21,31,1,1,1)
S ^DGMT(408.21,"AM",$E(X,1,30),DA)=""
"^DD",408.21,408.21,31,1,1,2)
K ^DGMT(408.21,"AM",$E(X,1,30),DA)
"^DD",408.21,408.21,31,1,1,"DT")
2920413
"^DD",408.21,408.21,31,3)
This field contains the means test associated with this income.
"^DD",408.21,408.21,31,9)
^
"^DD",408.21,408.21,31,21,0)
^.001^4^4^3011011^^^^
"^DD",408.21,408.21,31,21,1,0)
This field is filled in by the system.  It contains the financial test
"^DD",408.21,408.21,31,21,2,0)
associated with this individual annual income.  It is not required;
"^DD",408.21,408.21,31,21,3,0)
since all income records will not necessarily be associated with
"^DD",408.21,408.21,31,21,4,0)
a financial test.
"^DD",408.21,408.21,31,"DT")
2941219
"^DD",408.21,408.21,91,0)
TOTAL SPOUSE INCOME^NJ10,2X^^TOT;1^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>99999999)!(X<0) X
"^DD",408.21,408.21,91,3)
Type a Dollar Amount between 0 and 99999999, 2 Decimal Digits
"^DD",408.21,408.21,91,9)
^
"^DD",408.21,408.21,91,21,0)
^^2^2^2920324^
"^DD",408.21,408.21,91,21,1,0)
This field contains the total income for a spouse prior to
"^DD",408.21,408.21,91,21,2,0)
moving to the new income structure in MAS v5.2.
"^DD",408.21,408.21,91,"DT")
2941130
"^DD",408.21,408.21,92,0)
TOTAL SPOUSE NET WORTH^NJ10,2X^^TOT;2^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>99999999)!(X<0) X
"^DD",408.21,408.21,92,3)
Type a Dollar Amount between 0 and 99999999, 2 Decimal Digits
"^DD",408.21,408.21,92,9)
^
"^DD",408.21,408.21,92,21,0)
^^2^2^2920324^^
"^DD",408.21,408.21,92,21,1,0)
This field contains the total net worth for a spouse prior to
"^DD",408.21,408.21,92,21,2,0)
moving to the new income structure in MAS v5.2.
"^DD",408.21,408.21,92,"DT")
2941130
"^DD",408.21,408.21,93,0)
TOTAL CHILDREN INCOME^NJ10,2X^^TOT;3^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>99999999)!(X<0) X
"^DD",408.21,408.21,93,3)
Type a Dollar Amount between 0 and 99999999, 2 Decimal Digits
"^DD",408.21,408.21,93,9)
^
"^DD",408.21,408.21,93,21,0)
^^2^2^2920324^^
"^DD",408.21,408.21,93,21,1,0)
This field contains the total income for children prior to
"^DD",408.21,408.21,93,21,2,0)
moving to the new income structure in MAS v5.2.
"^DD",408.21,408.21,93,"DT")
2941130
"^DD",408.21,408.21,94,0)
TOTAL CHILDREN NET WORTH^NJ10,2X^^TOT;4^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>99999999)!(X<0) X
"^DD",408.21,408.21,94,3)
Type a Dollar Amount between 0 and 99999999, 2 Decimal Digits
"^DD",408.21,408.21,94,9)
^
"^DD",408.21,408.21,94,21,0)
^^5^5^2920324^^
"^DD",408.21,408.21,94,21,1,0)
This field contains the total net worth for children prior to
"^DD",408.21,408.21,94,21,2,0)
moving to the new income structure in MAS v5.2.
"^DD",408.21,408.21,94,21,3,0)
 
"^DD",408.21,408.21,94,21,4,0)
With the new version net worth will no longer be collected for
"^DD",408.21,408.21,94,21,5,0)
children.
"^DD",408.21,408.21,94,"DT")
2941130
"^DD",408.21,408.21,95,0)
TOTAL VETERAN STOCKS, BONDS^NJ9,2X^^TOT;5^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",408.21,408.21,95,.1)
TOTAL VETERAN STOCKS, BONDS, BANK DEP.
"^DD",408.21,408.21,95,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",408.21,408.21,95,9)
^
"^DD",408.21,408.21,95,21,0)
^^5^5^2920324^
"^DD",408.21,408.21,95,21,1,0)
This field contains the veteran's stocks and bonds prior to
"^DD",408.21,408.21,95,21,2,0)
moving to the new income structure in MAS v5.2.
"^DD",408.21,408.21,95,21,3,0)
 
"^DD",408.21,408.21,95,21,4,0)
With the new version cash has been combined with the stocks
"^DD",408.21,408.21,95,21,5,0)
and bonds.
"^DD",408.21,408.21,95,"DT")
2941130
"^DD",408.21,408.21,101,0)
ENTERED BY^RP200'^VA(200,^USR;1^Q
"^DD",408.21,408.21,101,3)
This field contains the user who entered the income information.
"^DD",408.21,408.21,101,21,0)
^^1^1^2920324^^
"^DD",408.21,408.21,101,21,1,0)
This field contains the user who entered the income information.
"^DD",408.21,408.21,101,"DT")
2920110
"^DD",408.21,408.21,102,0)
ENTERED ON^RD^^USR;2^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",408.21,408.21,102,3)
This field contains the date/time the income information was entered.
"^DD",408.21,408.21,102,21,0)
^^1^1^2920324^
"^DD",408.21,408.21,102,21,1,0)
This field contains the date/time the income information was entered.
"^DD",408.21,408.21,102,"DT")
2920110
"^DD",408.21,408.21,103,0)
LAST EDITED BY^RP200'^VA(200,^USR;3^Q
"^DD",408.21,408.21,103,1,0)
^.1^^0
"^DD",408.21,408.21,103,3)
This field contains the last user to edit the income information.
"^DD",408.21,408.21,103,21,0)
^^1^1^2920324^^
"^DD",408.21,408.21,103,21,1,0)
This field contains the last user to edit the income information.
"^DD",408.21,408.21,103,"DT")
2930203
"^DD",408.21,408.21,104,0)
LAST EDITED ON^RD^^USR;4^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",408.21,408.21,104,1,0)
^.1
"^DD",408.21,408.21,104,1,1,0)
^^TRIGGER^408.21^.18
"^DD",408.21,408.21,104,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X I $P($G(^DGMT(408.21,DA,0)),U,18) I X S X=DIV S Y(1)=$S($D(^DGMT(408.21,D0,0)):^(0),1:"") S X=$P(Y(1),U,18),X=X S DIU=X K Y S X=DIV S X=0 X ^DD(408.21,104,1,1,1.4)
"^DD",408.21,408.21,104,1,1,1.4)
S DIH=$S($D(^DGMT(408.21,DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,18)=DIV,DIH=408.21,DIG=.18 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",408.21,408.21,104,1,1,2)
Q
"^DD",408.21,408.21,104,1,1,"%D",0)
^^2^2^2930208^
"^DD",408.21,408.21,104,1,1,"%D",1,0)
If the 'COPIED DATA' (#.18) field is 'YES', when the 'LAST EDITED
"^DD",408.21,408.21,104,1,1,"%D",2,0)
ON' (#104) field is modified, the value of 'COPIED DATA' is set to 'NO'.
"^DD",408.21,408.21,104,1,1,"CREATE CONDITION")
I $P($G(^DGMT(408.21,DA,0)),U,18)
"^DD",408.21,408.21,104,1,1,"CREATE VALUE")
S X=0
"^DD",408.21,408.21,104,1,1,"DELETE VALUE")
NO EFFECT
"^DD",408.21,408.21,104,1,1,"DT")
2930208
"^DD",408.21,408.21,104,1,1,"FIELD")
#.18
"^DD",408.21,408.21,104,3)
This field contains the last date/time the income information was edited.
"^DD",408.21,408.21,104,21,0)
^^1^1^2920324^
"^DD",408.21,408.21,104,21,1,0)
This field contains the last date/time the income information was edited.
"^DD",408.21,408.21,104,"DT")
2930208
"^DD",408.22,408.22,.14,0)
MARRIED THIS YEAR^S^1:YES;0:NO;^0;14^Q
"^DD",408.22,408.22,.14,.1)
IS YOUR MARITAL STATUS EITHER MARRIED OR SEPARATED
"^DD",408.22,408.22,.14,1,0)
^.1
"^DD",408.22,408.22,.14,1,1,0)
^^TRIGGER^408.22^.15
"^DD",408.22,408.22,.14,1,1,1)
X ^DD(408.22,.14,1,1,1.3) I X S X=DIV S Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P(Y(1),U,15),X=X S DIU=X K Y S X="" S DIH=$G(^DGMT(408.22,DIV(0),0)),DIV=X S $P(^(0),U,15)=DIV,DIH=408.22,DIG=.15 D ^DICR
"^DD",408.22,408.22,.14,1,1,1.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$C(59)_$P($G(^DD(408.22,.14,0)),U,3) S X=$P($P(Y(1),$C(59)_Y(0)_":",2),$C(59),1)="NO"
"^DD",408.22,408.22,.14,1,1,2)
X ^DD(408.22,.14,1,1,2.3) I X S X=DIV S Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P(Y(1),U,15),X=X S DIU=X K Y S X="" S DIH=$G(^DGMT(408.22,DIV(0),0)),DIV=X S $P(^(0),U,15)=DIV,DIH=408.22,DIG=.15 D ^DICR
"^DD",408.22,408.22,.14,1,1,2.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(2)=$C(59)_$P($G(^DD(408.22,.14,0)),U,3),Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P($P(Y(2),$C(59)_$P(Y(1),U,14)_":",2),$C(59),1)=""
"^DD",408.22,408.22,.14,1,1,"%D",0)
^^3^3^3010822^
"^DD",408.22,408.22,.14,1,1,"%D",1,0)
This triggered cross-reference will update the Living With Patient field
"^DD",408.22,408.22,.14,1,1,"%D",2,0)
(#.15).  If Married This Year="NO", the Living With Patient field will be
"^DD",408.22,408.22,.14,1,1,"%D",3,0)
deleted.
"^DD",408.22,408.22,.14,1,1,"CREATE CONDITION")
#.14="NO"
"^DD",408.22,408.22,.14,1,1,"CREATE VALUE")
@
"^DD",408.22,408.22,.14,1,1,"DELETE CONDITION")
#.14=""
"^DD",408.22,408.22,.14,1,1,"DELETE VALUE")
@
"^DD",408.22,408.22,.14,1,1,"FIELD")
#.15
"^DD",408.22,408.22,.14,1,2,0)
^^TRIGGER^408.22^.16
"^DD",408.22,408.22,.14,1,2,1)
X ^DD(408.22,.14,1,2,1.3) I X S X=DIV S Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P(Y(1),U,16),X=X S DIU=X K Y S X="" S DIH=$G(^DGMT(408.22,DIV(0),0)),DIV=X S $P(^(0),U,16)=DIV,DIH=408.22,DIG=.16 D ^DICR
"^DD",408.22,408.22,.14,1,2,1.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$C(59)_$P($G(^DD(408.22,.14,0)),U,3) S X=$P($P(Y(1),$C(59)_Y(0)_":",2),$C(59),1)="NO"
"^DD",408.22,408.22,.14,1,2,2)
X ^DD(408.22,.14,1,2,2.3) I X S X=DIV S Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P(Y(1),U,16),X=X S DIU=X K Y S X="" S DIH=$G(^DGMT(408.22,DIV(0),0)),DIV=X S $P(^(0),U,16)=DIV,DIH=408.22,DIG=.16 D ^DICR
"^DD",408.22,408.22,.14,1,2,2.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(2)=$C(59)_$P($G(^DD(408.22,.14,0)),U,3),Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P($P(Y(2),$C(59)_$P(Y(1),U,14)_":",2),$C(59),1)=""
"^DD",408.22,408.22,.14,1,2,"%D",0)
^^3^3^3010822^
"^DD",408.22,408.22,.14,1,2,"%D",1,0)
This trigger cross-reference will update the Residing In The Community
"^DD",408.22,408.22,.14,1,2,"%D",2,0)
field (#.16).  If Married This Year="NO", the Residing In The Community
"^DD",408.22,408.22,.14,1,2,"%D",3,0)
field will be deleted.
"^DD",408.22,408.22,.14,1,2,"CREATE CONDITION")
#.14="NO"
"^DD",408.22,408.22,.14,1,2,"CREATE VALUE")
@
"^DD",408.22,408.22,.14,1,2,"DELETE CONDITION")
#.14=""
"^DD",408.22,408.22,.14,1,2,"DELETE VALUE")
@
"^DD",408.22,408.22,.14,1,2,"DT")
3010822
"^DD",408.22,408.22,.14,1,2,"FIELD")
#.16
"^DD",408.22,408.22,.14,21,0)
^.001^2^2^3010822^^
"^DD",408.22,408.22,.14,21,1,0)
Enter 'YES' in this field if the veteran's marital status currently is
"^DD",408.22,408.22,.14,21,2,0)
either married or separated.  Otherwise, enter 'NO'.
"^DD",408.22,408.22,.14,"DT")
3010822
"^DD",408.22,408.22,.15,0)
LIVING WITH PATIENT^S^1:YES;0:NO;^0;15^Q
"^DD",408.22,408.22,.15,5,1,0)
408.22^.14^1
"^DD",408.22,408.22,.15,5,2,0)
408.22^.16^1
"^DD",408.22,408.22,.15,21,0)
^.001^1^1^3010822^^
"^DD",408.22,408.22,.15,21,1,0)
Enter whether the veteran and relation are living together.
"^DD",408.22,408.22,.15,"DT")
3010822
"^DD",408.22,408.22,.16,0)
RESIDING IN THE COMMUNITY^S^1:YES;0:NO;^0;16^Q
"^DD",408.22,408.22,.16,1,0)
^.1
"^DD",408.22,408.22,.16,1,1,0)
^^TRIGGER^408.22^.15
"^DD",408.22,408.22,.16,1,1,1)
X ^DD(408.22,.16,1,1,1.3) I X S X=DIV S Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P(Y(1),U,15),X=X S DIU=X K Y S X=DIV S X="NO" S DIH=$G(^DGMT(408.22,DIV(0),0)),DIV=X S $P(^(0),U,15)=DIV,DIH=408.22,DIG=.15 D ^DICR
"^DD",408.22,408.22,.16,1,1,1.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$C(59)_$P($G(^DD(408.22,.16,0)),U,3) S X=$P($P(Y(1),$C(59)_Y(0)_":",2),$C(59),1)="NO"
"^DD",408.22,408.22,.16,1,1,2)
X ^DD(408.22,.16,1,1,2.3) I X S X=DIV S Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P(Y(1),U,15),X=X S DIU=X K Y S X="" S DIH=$G(^DGMT(408.22,DIV(0),0)),DIV=X S $P(^(0),U,15)=DIV,DIH=408.22,DIG=.15 D ^DICR
"^DD",408.22,408.22,.16,1,1,2.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(2)=$C(59)_$P($G(^DD(408.22,.16,0)),U,3),Y(1)=$S($D(^DGMT(408.22,D0,0)):^(0),1:"") S X=$P($P(Y(2),$C(59)_$P(Y(1),U,16)_":",2),$C(59),1)=""
"^DD",408.22,408.22,.16,1,1,"%D",0)
^^2^2^3010822^
"^DD",408.22,408.22,.16,1,1,"%D",1,0)
This trigger cross-reference will update the Living With Patient field
"^DD",408.22,408.22,.16,1,1,"%D",2,0)
(#.15). If Residing in the Community="NO", then Living With Patient="NO".
"^DD",408.22,408.22,.16,1,1,"CREATE CONDITION")
RESIDING IN THE COMMUNITY="NO"
"^DD",408.22,408.22,.16,1,1,"CREATE VALUE")
"NO"
"^DD",408.22,408.22,.16,1,1,"DELETE CONDITION")
RESIDING IN THE COMMUNITY=""
"^DD",408.22,408.22,.16,1,1,"DELETE VALUE")
@
"^DD",408.22,408.22,.16,1,1,"FIELD")
#.15
"^DD",408.22,408.22,.16,5,1,0)
408.22^.14^2
"^DD",408.22,408.22,.16,21,0)
^.001^2^2^3010822^^
"^DD",408.22,408.22,.16,21,1,0)
Enter 'YES' if the spouse or dependent is residing in the community.
"^DD",408.22,408.22,.16,21,2,0)
Enter 'NO' if the spouse or dependent is institutionalized.
"^DD",408.22,408.22,.16,"DT")
3010822
"^DD",408.31,408.31,.11,0)
AGREED TO PAY DEDUCTIBLE^S^1:YES;0:NO;^0;11^Q
"^DD",408.31,408.31,.11,1,0)
^.1
"^DD",408.31,408.31,.11,1,1,0)
408.31^AAPD^MUMPS
"^DD",408.31,408.31,.11,1,1,1)
D:$G(DGMTYPT)'=3 AUTOUPD^DGENA2(+$P(^DGMT(408.31,DA,0),U,2),2)
"^DD",408.31,408.31,.11,1,1,2)
D:$G(DGMTYPT)'=3 AUTOUPD^DGENA2(+$P(^DGMT(408.31,DA,0),U,2),2)
"^DD",408.31,408.31,.11,1,1,"%D",0)
^.101^2^2^3010919^^^
"^DD",408.31,408.31,.11,1,1,"%D",1,0)
Trigger to update Enrollment when updating the Agree to Pay Deductible
"^DD",408.31,408.31,.11,1,1,"%D",2,0)
field. Trigger routine is not called for a LTC co-pay test (type of test=3).
"^DD",408.31,408.31,.11,1,1,"DT")
3010906
"^DD",408.31,408.31,.11,3)
Enter in this field whether the veteran agrees to pay the deductible.  The veteran must also sign the 1010f form agreeing to pay the deductible.
"^DD",408.31,408.31,.11,21,0)
^^3^3^2920326^^^^
"^DD",408.31,408.31,.11,21,1,0)
Enter in this field whether the veteran agrees to pay the
"^DD",408.31,408.31,.11,21,2,0)
deductible.  The veteran must also sign the 1010f form agreeing
"^DD",408.31,408.31,.11,21,3,0)
to pay the deductible.
"^DD",408.31,408.31,.11,"DT")
3010906
"^DD",408.31,408.31,2.07,0)
REASON FOR EXEMPTION^*P714.1'^EAS(714.1,^2;7^S DIC("S")="I $P(^(0),U,2)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",408.31,408.31,2.07,12)
Only Active file entries can be selected.
"^DD",408.31,408.31,2.07,12.1)
S DIC("S")="I $P(^(0),U,2)"
"^DD",408.31,408.31,2.07,21,0)
^.001^1^1^3010816^^^^
"^DD",408.31,408.31,2.07,21,1,0)
Select the reason why the veteran qualifies for an exemption from Long Term Care co-payments.
"^DD",408.31,408.31,2.07,"DT")
3010816
"^DD",408.32,408.32,0)
FIELD^^100^8
"^DD",408.32,408.32,0,"DT")
2921230
"^DD",408.32,408.32,0,"ID",.019)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DG(408.33,+$P(^(0),U,19),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(408.33,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",408.32,408.32,0,"IX","AC",408.32,.019)

"^DD",408.32,408.32,0,"IX","AC1",408.32,.02)

"^DD",408.32,408.32,0,"IX","B",408.32,.01)

"^DD",408.32,408.32,0,"IX","C",408.32,.02)

"^DD",408.32,408.32,0,"NM","MEANS TEST STATUS")

"^DD",408.32,408.32,0,"PT",2,.14)

"^DD",408.32,408.32,0,"PT",27.11,50.14)

"^DD",408.32,408.32,0,"PT",301.6,1.01)

"^DD",408.32,408.32,0,"PT",408.31,.03)

"^DD",408.32,408.32,0,"PT",408.31,2.03)

"^DD",408.32,408.32,.001,0)
ENTRY NUMBER^NJ3,0I^^ ^K:+X'=X!(X>100)!(X<1)!(X?.E1"."1N.N) X
"^DD",408.32,408.32,.001,3)
Type a Number between 1 and 100, 0 Decimal Digits
"^DD",408.32,408.32,.001,21,0)
^^1^1^2920408^
"^DD",408.32,408.32,.001,21,1,0)
Enter in this field the internal entry number associated with this status.
"^DD",408.32,408.32,.001,"DT")
2920114
"^DD",408.32,408.32,.01,0)
NAME^RFI^^0;1^K:$L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E) X
"^DD",408.32,408.32,.01,1,0)
^.1
"^DD",408.32,408.32,.01,1,1,0)
408.32^B
"^DD",408.32,408.32,.01,1,1,1)
S ^DG(408.32,"B",$E(X,1,30),DA)=""
"^DD",408.32,408.32,.01,1,1,2)
K ^DG(408.32,"B",$E(X,1,30),DA)
"^DD",408.32,408.32,.01,1,1,"%D",0)
^^1^1^2920408^
"^DD",408.32,408.32,.01,1,1,"%D",1,0)
This cross-reference allows look-up by name.
"^DD",408.32,408.32,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",408.32,408.32,.01,21,0)
^^1^1^2921228^^
"^DD",408.32,408.32,.01,21,1,0)
Enter in this field the name of the financial test status.
"^DD",408.32,408.32,.01,"DEL",1,0)
I 1 W !,*7,"Deletion of a means test status is not allowed."
"^DD",408.32,408.32,.01,"DT")
2930202
"^DD",408.32,408.32,.019,0)
TYPE OF TEST^RP408.33'I^DG(408.33,^0;19^Q
"^DD",408.32,408.32,.019,1,0)
^.1
"^DD",408.32,408.32,.019,1,1,0)
408.32^AC^MUMPS
"^DD",408.32,408.32,.019,1,1,1)
S:$P(^DG(408.32,DA,0),U,2) ^DG(408.32,"AC",X,+$P(^(0),U,2),DA)=""
"^DD",408.32,408.32,.019,1,1,2)
K ^DG(408.32,"AC",X,+$P(^DG(408.32,DA,0),U,2),DA)
"^DD",408.32,408.32,.019,1,1,"%D",0)
^^2^2^2921230^
"^DD",408.32,408.32,.019,1,1,"%D",1,0)
This cross reference can be used to sort by type of test by code by
"^DD",408.32,408.32,.019,1,1,"%D",2,0)
internal entry number.
"^DD",408.32,408.32,.019,1,1,"DT")
2921230
"^DD",408.32,408.32,.019,3)
Enter the type of test associated with the status.
"^DD",408.32,408.32,.019,"DT")
2930202
"^DD",408.32,408.32,.02,0)
CODE^RFI^^0;2^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>1!($L(X)<1) X
"^DD",408.32,408.32,.02,1,0)
^.1
"^DD",408.32,408.32,.02,1,1,0)
408.32^C
"^DD",408.32,408.32,.02,1,1,1)
S ^DG(408.32,"C",$E(X,1,30),DA)=""
"^DD",408.32,408.32,.02,1,1,2)
K ^DG(408.32,"C",$E(X,1,30),DA)
"^DD",408.32,408.32,.02,1,1,"%D",0)
^^1^1^2920408^
"^DD",408.32,408.32,.02,1,1,"%D",1,0)
This cross-reference allows look-up by code.
"^DD",408.32,408.32,.02,1,1,"DT")
2920107
"^DD",408.32,408.32,.02,1,2,0)
408.32^AC1^MUMPS
"^DD",408.32,408.32,.02,1,2,1)
S:$P(^DG(408.32,DA,0),U,19) ^DG(408.32,"AC",+$P(^(0),U,19),X,DA)=""
"^DD",408.32,408.32,.02,1,2,2)
K ^DG(408.32,"AC",+$P(^DG(408.32,DA,0),U,19),X,DA)
"^DD",408.32,408.32,.02,1,2,"%D",0)
^^2^2^2921230^^^^
"^DD",408.32,408.32,.02,1,2,"%D",1,0)
This cross reference can be used to sort by type of test by code by
"^DD",408.32,408.32,.02,1,2,"%D",2,0)
internal entry number.
"^DD",408.32,408.32,.02,1,2,"DT")
2921230
"^DD",408.32,408.32,.02,3)
Answer must be 1 character in length.
"^DD",408.32,408.32,.02,21,0)
^^1^1^2921228^^
"^DD",408.32,408.32,.02,21,1,0)
Enter in this field the code associated with the financial test status.
"^DD",408.32,408.32,.02,"DT")
2930302
"^DD",408.32,408.32,.03,0)
TYPE OF CARE^RS^D:DISCRETIONARY;M:MANDATORY;N:NOT APPLICABLE;^0;3^Q
"^DD",408.32,408.32,.03,3)
Enter in this field the type of care the financial test status is associated with.
"^DD",408.32,408.32,.03,21,0)
^^2^2^2921228^^
"^DD",408.32,408.32,.03,21,1,0)
Enter in this field the type of care the financial test status is
"^DD",408.32,408.32,.03,21,2,0)
associated with.
"^DD",408.32,408.32,.03,"DT")
2920224
"^DD",408.32,408.32,50,0)
DESCRIPTION^408.321^^D;0
"^DD",408.32,408.32,50,21,0)
^^1^1^2921228^^
"^DD",408.32,408.32,50,21,1,0)
Enter in this field the description associated with the financial test status.
"^DD",408.32,408.32,75,0)
EFFECTIVE DATE^408.3275DA^^E;0
"^DD",408.32,408.32,75,21,0)
^^1^1^2921228^^
"^DD",408.32,408.32,75,21,1,0)
Enter in this field the effective date of the financial test status.
"^DD",408.32,408.32,100,0)
MESSAGE^F^^MSG;1^K:$L(X)>80!($L(X)<1) X
"^DD",408.32,408.32,100,3)
Answer must be 1-80 characters in length.
"^DD",408.32,408.32,100,21,0)
^^1^1^2921228^^
"^DD",408.32,408.32,100,21,1,0)
Enter in this field the message associated with the financial test status.
"^DD",408.32,408.32,100,"DT")
2920214
"^DD",408.32,408.321,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",408.32,408.321,0,"DT")
2920103
"^DD",408.32,408.321,0,"NM","DESCRIPTION")

"^DD",408.32,408.321,0,"UP")
408.32
"^DD",408.32,408.321,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",408.32,408.321,.01,3)
Enter in this field the description associated with the means test status.
"^DD",408.32,408.321,.01,21,0)
^^1^1^2920408^
"^DD",408.32,408.321,.01,21,1,0)
Enter in this field the description associated with the means test status.
"^DD",408.32,408.321,.01,"DT")
2920103
"^DD",408.32,408.3275,0)
EFFECTIVE DATE SUB-FIELD^^.02^2
"^DD",408.32,408.3275,0,"DT")
2920221
"^DD",408.32,408.3275,0,"IX","AID",408.3275,.01)

"^DD",408.32,408.3275,0,"IX","B",408.3275,.01)

"^DD",408.32,408.3275,0,"NM","EFFECTIVE DATE")

"^DD",408.32,408.3275,0,"UP")
408.32
"^DD",408.32,408.3275,.01,0)
EFFECTIVE DATE^RD^^0;1^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",408.32,408.3275,.01,1,0)
^.1
"^DD",408.32,408.3275,.01,1,1,0)
408.3275^B
"^DD",408.32,408.3275,.01,1,1,1)
S ^DG(408.32,DA(1),"E","B",$E(X,1,30),DA)=""
"^DD",408.32,408.3275,.01,1,1,2)
K ^DG(408.32,DA(1),"E","B",$E(X,1,30),DA)
"^DD",408.32,408.3275,.01,1,1,"%D",0)
^^1^1^2920408^
"^DD",408.32,408.3275,.01,1,1,"%D",1,0)
This cross-reference allows look-up by effective date.
"^DD",408.32,408.3275,.01,1,2,0)
408.3275^AID^MUMPS
"^DD",408.32,408.3275,.01,1,2,1)
S ^DG(408.32,DA(1),"E","AID",-X,DA)=""
"^DD",408.32,408.3275,.01,1,2,2)
K ^DG(408.32,DA(1),"E","AID",-X,DA)
"^DD",408.32,408.3275,.01,1,2,"%D",0)
^^3^3^2920408^
"^DD",408.32,408.3275,.01,1,2,"%D",1,0)
This cross-reference can be used to sort by means test status
"^DD",408.32,408.3275,.01,1,2,"%D",2,0)
internal entry number by inverse effective data by internal
"^DD",408.32,408.3275,.01,1,2,"%D",3,0)
entry number of the effective date.
"^DD",408.32,408.3275,.01,1,2,"DT")
2920221
"^DD",408.32,408.3275,.01,3)
Enter in this field the effective date of the financial test status.
"^DD",408.32,408.3275,.01,21,0)
^^1^1^2921228^^^
"^DD",408.32,408.3275,.01,21,1,0)
Enter in this field the effective date of the financial test status.
"^DD",408.32,408.3275,.01,"DT")
2920221
"^DD",408.32,408.3275,.02,0)
ACTIVE^RS^1:YES;0:NO;^0;2^Q
"^DD",408.32,408.3275,.02,3)
Enter in this field whether or not the effective date of the financial test status is active.
"^DD",408.32,408.3275,.02,21,0)
^^2^2^2921228^^^
"^DD",408.32,408.3275,.02,21,1,0)
Enter in this field whether or not the effective date of the financial test
"^DD",408.32,408.3275,.02,21,2,0)
status is active.
"^DD",408.32,408.3275,.02,"DT")
2920221
"^DD",408.33,408.33,0)
FIELD^^.01^2
"^DD",408.33,408.33,0,"DDA")
N
"^DD",408.33,408.33,0,"DT")
2921224
"^DD",408.33,408.33,0,"IX","B",408.33,.01)

"^DD",408.33,408.33,0,"NM","TYPE OF TEST")

"^DD",408.33,408.33,0,"PT",408.31,.019)

"^DD",408.33,408.33,0,"PT",408.32,.019)

"^DD",408.33,408.33,0,"PT",408.41,.019)

"^DD",408.33,408.33,.001,0)
NUMBER^NJ3,0I^^ ^K:+X'=X!(X>100)!(X<1)!(X?.E1"."1N.N) X
"^DD",408.33,408.33,.001,3)
Type a Number between 1 and 100, 0 Decimal Digits
"^DD",408.33,408.33,.001,21,0)
^.001^2^2^3000407^^
"^DD",408.33,408.33,.001,21,1,0)
Enter in this field the internal entry number associated with this type of
"^DD",408.33,408.33,.001,21,2,0)
test.
"^DD",408.33,408.33,.001,"DT")
2930126
"^DD",408.33,408.33,.01,0)
NAME^RFI^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",408.33,408.33,.01,1,0)
^.1
"^DD",408.33,408.33,.01,1,1,0)
408.33^B
"^DD",408.33,408.33,.01,1,1,1)
S ^DG(408.33,"B",$E(X,1,30),DA)=""
"^DD",408.33,408.33,.01,1,1,2)
K ^DG(408.33,"B",$E(X,1,30),DA)
"^DD",408.33,408.33,.01,3)
Answer must be 3-30 characters in length.
"^DD",408.33,408.33,.01,21,0)
^.001^1^1^3000407^^
"^DD",408.33,408.33,.01,21,1,0)
Enter in this field the name of the type of test.
"^DD",408.33,408.33,.01,"DT")
2930126
"^DD",714.1,714.1,0)
FIELD^^.02^3
"^DD",714.1,714.1,0,"DDA")
N
"^DD",714.1,714.1,0,"DT")
3010816
"^DD",714.1,714.1,0,"IX","B",714.1,.01)

"^DD",714.1,714.1,0,"NM","LTC CO-PAY EXEMPTION")

"^DD",714.1,714.1,0,"PT",408.31,2.07)

"^DD",714.1,714.1,0,"VRPK")
EAS
"^DD",714.1,714.1,.001,0)
NUMBER^NJ4,0^^ ^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1.N) X
"^DD",714.1,714.1,.001,3)
Type a number between 1 and 9999, 0 Decimal Digits
"^DD",714.1,714.1,.001,"DT")
3010815
"^DD",714.1,714.1,.01,0)
NAME^RF^^0;1^K:$L(X)>65!($L(X)<3)!'(X'?1P.E) X
"^DD",714.1,714.1,.01,1,0)
^.1
"^DD",714.1,714.1,.01,1,1,0)
714.1^B
"^DD",714.1,714.1,.01,1,1,1)
S ^EAS(714.1,"B",$E(X,1,30),DA)=""
"^DD",714.1,714.1,.01,1,1,2)
K ^EAS(714.1,"B",$E(X,1,30),DA)
"^DD",714.1,714.1,.01,3)
Answer must be 3-65 characters in length
"^DD",714.1,714.1,.01,"DT")
3010815
"^DD",714.1,714.1,.02,0)
ACTIVE?^S^0:NO;1:YES;^0;2^Q
"^DD",714.1,714.1,.02,21,0)
^.001^1^1^3010816^^
"^DD",714.1,714.1,.02,21,1,0)
This field indicates if the LTC co-pay exemption is active and can be selected as a reason for exemption from LTC co-payments.
"^DD",714.1,714.1,.02,"DT")
3010816
"^DIC",408.21,408.21,0)
INDIVIDUAL ANNUAL INCOME
"^DIC",408.21,408.21,0,"GL")
^DGMT(408.21,
"^DIC",408.21,408.21,"%D",0)
^^3^3^2950307^^^^
"^DIC",408.21,408.21,"%D",1,0)
This file contains the individual annual income for a veteran
"^DIC",408.21,408.21,"%D",2,0)
and any applicable relations.  This income information is
"^DIC",408.21,408.21,"%D",3,0)
used in registration and means test.
"^DIC",408.21,"B","INDIVIDUAL ANNUAL INCOME",408.21)

"^DIC",408.32,408.32,0)
MEANS TEST STATUS
"^DIC",408.32,408.32,0,"GL")
^DG(408.32,
"^DIC",408.32,408.32,"%D",0)
^^1^1^2990427^^
"^DIC",408.32,408.32,"%D",1,0)
This file contains the statuses associated with the means test.
"^DIC",408.32,"B","MEANS TEST STATUS",408.32)

"^DIC",408.33,408.33,0)
TYPE OF TEST^408.33
"^DIC",408.33,408.33,0,"GL")
^DG(408.33,
"^DIC",408.33,408.33,"%D",0)
^^2^2^2930114^^
"^DIC",408.33,408.33,"%D",1,0)
This file contains the types of test assoicated with financial data
"^DIC",408.33,408.33,"%D",2,0)
collected.
"^DIC",408.33,"B","TYPE OF TEST",408.33)

"^DIC",714.1,714.1,0)
LTC CO-PAY EXEMPTION^714.1
"^DIC",714.1,714.1,0,"GL")
^EAS(714.1,
"^DIC",714.1,714.1,"%",0)
^1.005^^0
"^DIC",714.1,714.1,"%D",0)
^^4^4^3010813^
"^DIC",714.1,714.1,"%D",1,0)
This file contains the reasons why a veteran would qualify for an
"^DIC",714.1,714.1,"%D",2,0)
exemption from Long Term Care co-payments.  This file is pointed to by the
"^DIC",714.1,714.1,"%D",3,0)
Reason for Exemption field (#2.07) in the Annual Means Test file
"^DIC",714.1,714.1,"%D",4,0)
(#408.31).
"^DIC",714.1,"B","LTC CO-PAY EXEMPTION",714.1)

**END**
**END**
