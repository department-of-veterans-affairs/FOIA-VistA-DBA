KIDS Distribution saved on Oct 03, 2003@12:20:13
COPYRIGHT CITY AND COUNTY DATA HAS BEEN REMOVED
**KIDS**:XU*8.0*292^

**INSTALL NAME**
XU*8.0*292
"BLD",5133,0)
XU*8.0*292^KERNEL^0^3031003^y
"BLD",5133,1,0)
^^2^2^3030623^
"BLD",5133,1,1,0)
See patch XU*8*292 in the National Patch Module on FORUM for complete
"BLD",5133,1,2,0)
information on this patch.
"BLD",5133,4,0)
^9.64PA^5.13^2
"BLD",5133,4,5.12,0)
5.12
"BLD",5133,4,5.12,222)
y^y^f^^^^n^^
"BLD",5133,4,5.12,224)

"BLD",5133,4,5.13,0)
5.13
"BLD",5133,4,5.13,222)
y^y^f^^^^n^^
"BLD",5133,4,5.13,224)

"BLD",5133,4,"B",5.12,5.12)

"BLD",5133,4,"B",5.13,5.13)

"BLD",5133,"INI")

"BLD",5133,"INIT")
XIPPOST
"BLD",5133,"KRN",0)
^9.67PA^8989.52^19
"BLD",5133,"KRN",.4,0)
.4
"BLD",5133,"KRN",.401,0)
.401
"BLD",5133,"KRN",.402,0)
.402
"BLD",5133,"KRN",.403,0)
.403
"BLD",5133,"KRN",.5,0)
.5
"BLD",5133,"KRN",.84,0)
.84
"BLD",5133,"KRN",3.6,0)
3.6
"BLD",5133,"KRN",3.8,0)
3.8
"BLD",5133,"KRN",9.2,0)
9.2
"BLD",5133,"KRN",9.8,0)
9.8
"BLD",5133,"KRN",9.8,"NM",0)
^9.68A^3^3
"BLD",5133,"KRN",9.8,"NM",1,0)
XIPUTIL^^0^B27295612
"BLD",5133,"KRN",9.8,"NM",2,0)
XIPXREF^^0^B325675
"BLD",5133,"KRN",9.8,"NM",3,0)
XIPUTIL1^^0^B4647613
"BLD",5133,"KRN",9.8,"NM","B","XIPUTIL",1)

"BLD",5133,"KRN",9.8,"NM","B","XIPUTIL1",3)

"BLD",5133,"KRN",9.8,"NM","B","XIPXREF",2)

"BLD",5133,"KRN",19,0)
19
"BLD",5133,"KRN",19.1,0)
19.1
"BLD",5133,"KRN",101,0)
101
"BLD",5133,"KRN",409.61,0)
409.61
"BLD",5133,"KRN",771,0)
771
"BLD",5133,"KRN",870,0)
870
"BLD",5133,"KRN",8989.51,0)
8989.51
"BLD",5133,"KRN",8989.52,0)
8989.52
"BLD",5133,"KRN",8994,0)
8994
"BLD",5133,"KRN","B",.4,.4)

"BLD",5133,"KRN","B",.401,.401)

"BLD",5133,"KRN","B",.402,.402)

"BLD",5133,"KRN","B",.403,.403)

"BLD",5133,"KRN","B",.5,.5)

"BLD",5133,"KRN","B",.84,.84)

"BLD",5133,"KRN","B",3.6,3.6)

"BLD",5133,"KRN","B",3.8,3.8)

"BLD",5133,"KRN","B",9.2,9.2)

"BLD",5133,"KRN","B",9.8,9.8)

"BLD",5133,"KRN","B",19,19)

"BLD",5133,"KRN","B",19.1,19.1)

"BLD",5133,"KRN","B",101,101)

"BLD",5133,"KRN","B",409.61,409.61)

"BLD",5133,"KRN","B",771,771)

"BLD",5133,"KRN","B",870,870)

"BLD",5133,"KRN","B",8989.51,8989.51)

"BLD",5133,"KRN","B",8989.52,8989.52)

"BLD",5133,"KRN","B",8994,8994)

"BLD",5133,"PRE")
XIPENV
"BLD",5133,"QUES",0)
^9.62^^
"BLD",5133,"REQB",0)
^9.611^1^1
"BLD",5133,"REQB",1,0)
XU*8.0*246^2
"BLD",5133,"REQB","B","XU*8.0*246",1)

"FIA",5.12)
POSTAL CODE
"FIA",5.12,0)
^XIP(5.12,
"FIA",5.12,0,0)
5.12I
"FIA",5.12,0,1)
y^y^f^^^^n^^
"FIA",5.12,0,10)

"FIA",5.12,0,11)

"FIA",5.12,0,"RLRO")

"FIA",5.12,0,"VR")
8.0^XU
"FIA",5.12,5.12)
0
"FIA",5.13)
COUNTY CODE
"FIA",5.13,0)
^XIP(5.13,
"FIA",5.13,0,0)
5.13
"FIA",5.13,0,1)
y^y^f^^^^n^^
"FIA",5.13,0,10)

"FIA",5.13,0,11)

"FIA",5.13,0,"RLRO")

"FIA",5.13,0,"VR")
8.0^XU
"FIA",5.13,5.13)
0
"INIT")
XIPPOST
"IX",5.12,5.12,"AD",0)
5.12^AD^Used to keep track of records that have changes^MU^^R^IR^I^5.12^^^^^S
"IX",5.12,5.12,"AD",.1,0)
^^10^10^3030602^
"IX",5.12,5.12,"AD",.1,1,0)
This cross reference is used to keep track of any field changes that are 
"IX",5.12,5.12,"AD",.1,2,0)
made during updates via the USPS's 'Address Information System' the are 
"IX",5.12,5.12,"AD",.1,3,0)
obtained from the 'City State Product - Detail Record'.  The format of 
"IX",5.12,5.12,"AD",.1,4,0)
the cross reference is:
"IX",5.12,5.12,"AD",.1,5,0)
 
"IX",5.12,5.12,"AD",.1,6,0)
  S ^XIP(5.12,"AD",<ien>)=""
"IX",5.12,5.12,"AD",.1,7,0)
 
"IX",5.12,5.12,"AD",.1,8,0)
If there are any changes to one or more of the field values, then 
"IX",5.12,5.12,"AD",.1,9,0)
a background job will transmit the record to all of the VAMC's via a MFN 
"IX",5.12,5.12,"AD",.1,10,0)
message.
"IX",5.12,5.12,"AD",1)
D:'$D(XIPSEED) X512AD^XIPXREF
"IX",5.12,5.12,"AD",2)
Q
"IX",5.12,5.12,"AD",2.5)
K ^XIP(5.12,"AD")
"IX",5.12,5.12,"AD",11.1,0)
^.114IA^9^9
"IX",5.12,5.12,"AD",11.1,1,0)
1^F^5.12^.01^^^F
"IX",5.12,5.12,"AD",11.1,2,0)
2^F^5.12^1^^^F
"IX",5.12,5.12,"AD",11.1,3,0)
3^F^5.12^2^^^F
"IX",5.12,5.12,"AD",11.1,4,0)
4^F^5.12^3^^^F
"IX",5.12,5.12,"AD",11.1,5,0)
5^F^5.12^4^^^F
"IX",5.12,5.12,"AD",11.1,6,0)
6^F^5.12^5^^^F
"IX",5.12,5.12,"AD",11.1,7,0)
7^F^5.12^6^^^F
"IX",5.12,5.12,"AD",11.1,8,0)
8^F^5.12^7^^^F
"IX",5.12,5.12,"AD",11.1,9,0)
9^F^5.12^8^^^F
"IX",5.13,5.13,"AC",0)
5.13^AC^Cross Reference Used To Keep Track Of Field Changes^MU^^R^IR^I^5.13^^^^^A
"IX",5.13,5.13,"AC",.1,0)
^^10^10^3030710^
"IX",5.13,5.13,"AC",.1,1,0)
This cross reference is used to keep track of any field changes that are
"IX",5.13,5.13,"AC",.1,2,0)
made during updates via the USPS's 'Address Information System' the are
"IX",5.13,5.13,"AC",.1,3,0)
obtained from the 'City State Product - Detail Record'.  The format of the
"IX",5.13,5.13,"AC",.1,4,0)
cross reference is: 
"IX",5.13,5.13,"AC",.1,5,0)
                     
"IX",5.13,5.13,"AC",.1,6,0)
                      S ^XIP(5.13,"AC",<ien>)="" 
"IX",5.13,5.13,"AC",.1,7,0)
                     
"IX",5.13,5.13,"AC",.1,8,0)
If there are any changes to one or more of the field values, then a
"IX",5.13,5.13,"AC",.1,9,0)
background job will transmit the record to all of the VAMC's via a MFN
"IX",5.13,5.13,"AC",.1,10,0)
message.
"IX",5.13,5.13,"AC",1)
D:'$D(XIPSEED) X513AC^XIPXREF
"IX",5.13,5.13,"AC",2)
Q
"IX",5.13,5.13,"AC",2.5)
K ^XIP(5.13,"AC")
"IX",5.13,5.13,"AC",11.1,0)
^.114IA^4^4
"IX",5.13,5.13,"AC",11.1,1,0)
1^F^5.13^.01^^^F
"IX",5.13,5.13,"AC",11.1,2,0)
2^F^5.13^1^^^F
"IX",5.13,5.13,"AC",11.1,3,0)
3^F^5.13^2^^^F
"IX",5.13,5.13,"AC",11.1,4,0)
4^F^5.13^3^^^F
"IX",5.13,5.13,"D",0)
5.13^D^Uniqueness Index for File #5.13^R^^R^IR^I^5.13^^^^^LS
"IX",5.13,5.13,"D",1)
S ^XIP(5.13,"D",X(1),X(2),X(3),DA)=""
"IX",5.13,5.13,"D",2)
K ^XIP(5.13,"D",X(1),X(2),X(3),DA)
"IX",5.13,5.13,"D",2.5)
K ^XIP(5.13,"D")
"IX",5.13,5.13,"D",11.1,0)
^.114IA^3^3
"IX",5.13,5.13,"D",11.1,1,0)
1^F^5.13^.01^^1
"IX",5.13,5.13,"D",11.1,2,0)
2^F^5.13^1^^2
"IX",5.13,5.13,"D",11.1,3,0)
3^F^5.13^2^^3
"MBREQ")
0
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^^
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^3020529^2960606^1
"PKG",3,22,1,"PAH",1,0)
292^3031003^1
"PKG",3,22,1,"PAH",1,1,0)
^^2^2^3031003
"PKG",3,22,1,"PAH",1,1,1,0)
See patch XU*8*292 in the National Patch Module on FORUM for complete
"PKG",3,22,1,"PAH",1,1,2,0)
information on this patch.
"PRE")
XIPENV
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
5
"RTN","XIPENV")
0^^B22288437
"RTN","XIPENV",1,0)
XIPENV ;ALB/BRM,OIFO/SO - STANDARD ENVIRONMENT CHK FOR XIP PACKAGE;12:02 PM  8 Jul 2003
"RTN","XIPENV",2,0)
 ;;8.0;KERNEL;**292**;Jul 10, 1995
"RTN","XIPENV",3,0)
 ;
"RTN","XIPENV",4,0)
 ; This routine is executed from the top for the environment check
"RTN","XIPENV",5,0)
 ; portion of the install.
"RTN","XIPENV",6,0)
ENVCHK ; Environment check to ensure the STATE file has all of the
"RTN","XIPENV",7,0)
 ; necessary entries to properly point the 5.12 and 5.13 files to
"RTN","XIPENV",8,0)
 ; the appropriate entry.
"RTN","XIPENV",9,0)
 ;
"RTN","XIPENV",10,0)
 N TAG,DATA,SFIPS,ST,STATE,FIXST,OLDST,IEN5,DISPTXT
"RTN","XIPENV",11,0)
STCHK ; Check STATE(#5) for problems
"RTN","XIPENV",12,0)
 F TAG=1:1 Q:TAG=99999  I $T(@TAG)]"" D
"RTN","XIPENV",13,0)
 .S DATA=$P($T(@TAG),";;",2),ST=$P(DATA,"^",2)
"RTN","XIPENV",14,0)
 .S STATE=$P(DATA,"^"),SFIPS=$P(DATA,"^",3)
"RTN","XIPENV",15,0)
 .S IEN5=$O(^DIC(5,"C",ST,""))
"RTN","XIPENV",16,0)
 .S:'IEN5 IEN5=$O(^DIC(5,"B",STATE,""))
"RTN","XIPENV",17,0)
 .S:'IEN5 IEN5=$O(^DIC(5,"C",SFIPS,""))
"RTN","XIPENV",18,0)
 .Q:$P($G(^DIC(5,+IEN5,0)),"^",1,3)=DATA
"RTN","XIPENV",19,0)
 .S OLDSTATE=$P($G(^DIC(5,+IEN5,0)),"^",2) S:OLDSTATE="" OLDSTATE=0_"^"_ST
"RTN","XIPENV",20,0)
 .S FIXST(ST)=DATA,OLDST(OLDSTATE)=$P($G(^DIC(5,+IEN5,0)),"^",1,3)
"RTN","XIPENV",21,0)
 I '$D(FIXST) D MES^XPDUTL("  Your STATE(#5) file is fine.") Q
"RTN","XIPENV",22,0)
 S XPDQUIT=2
"RTN","XIPENV",23,0)
 D BMES^XPDUTL("  ******************************************************************")
"RTN","XIPENV",24,0)
 D MES^XPDUTL("    The following State file (#5) entries are missing or need editing.")
"RTN","XIPENV",25,0)
 D MES^XPDUTL("    If you uncomfortable using the instructions in the patch to make the")
"RTN","XIPENV",26,0)
 D MES^XPDUTL("    corrections, please log a NOIS for assistance in resolving this issue.")
"RTN","XIPENV",27,0)
 D BMES^XPDUTL("  ******************************************************************")
"RTN","XIPENV",28,0)
 D BMES^XPDUTL("  Your site shows the following:")
"RTN","XIPENV",29,0)
 D MES^XPDUTL("      ABBREVIATION    VA STATE CODE    STATE NAME")
"RTN","XIPENV",30,0)
 D MES^XPDUTL("      ------------    -------------    ----------")
"RTN","XIPENV",31,0)
 S ST="" F  S ST=$O(OLDST(ST)) Q:ST=""  D
"RTN","XIPENV",32,0)
 .S DISPTXT="      "_$J($P(OLDST(ST),"^",2),7)_"         "_$J($P(OLDST(ST),"^",3),7)_"          "_$P(OLDST(ST),"^")
"RTN","XIPENV",33,0)
 .D MES^XPDUTL(DISPTXT)
"RTN","XIPENV",34,0)
 D BMES^XPDUTL("  The below entries should be added and/or corrected as follows:")
"RTN","XIPENV",35,0)
 D MES^XPDUTL("      ABBREVIATION    VA STATE CODE    STATE NAME")
"RTN","XIPENV",36,0)
 D MES^XPDUTL("      ------------    -------------    ----------")
"RTN","XIPENV",37,0)
 S ST="" F  S ST=$O(FIXST(ST)) Q:ST=""  D
"RTN","XIPENV",38,0)
 .D MES^XPDUTL("      "_$J($P(FIXST(ST),"^",2),7)_"         "_$J($P(FIXST(ST),"^",3),7)_"          "_$P(FIXST(ST),"^"))
"RTN","XIPENV",39,0)
 ;
"RTN","XIPENV",40,0)
PTCHK ; Check 5.12 & 5.13 for unknown "PT" nodes
"RTN","XIPENV",41,0)
 ; IA# 4136
"RTN","XIPENV",42,0)
 I $D(^DD(5.12,0,"PT")) D
"RTN","XIPENV",43,0)
 . N FILE
"RTN","XIPENV",44,0)
 . S FILE=0
"RTN","XIPENV",45,0)
 . F  S FILE=$O(^DD(5.12,0,"PT",FILE)) Q:'FILE  D
"RTN","XIPENV",46,0)
 .. N FIELD
"RTN","XIPENV",47,0)
 .. S FIELD=0
"RTN","XIPENV",48,0)
 .. F  S FIELD=$O(^DD(5.12,0,"PT",FILE,FIELD)) Q:'FIELD  D
"RTN","XIPENV",49,0)
 ... N X
"RTN","XIPENV",50,0)
 ... S X="  File #: "_FILE_"  Field #: "_FIELD_" is Pointing To File # 5.12.  Please remove this dependency!"
"RTN","XIPENV",51,0)
 ... D MES^XPDUTL(X) S XPDQUIT=1
"RTN","XIPENV",52,0)
 ;
"RTN","XIPENV",53,0)
 ; IA# 4137
"RTN","XIPENV",54,0)
 N FILE
"RTN","XIPENV",55,0)
 S FILE=0
"RTN","XIPENV",56,0)
 F  S FILE=$O(^DD(5.13,0,"PT",FILE)) Q:'FILE  I FILE'=5.12 D
"RTN","XIPENV",57,0)
 . N FIELD
"RTN","XIPENV",58,0)
 . S FIELD=0
"RTN","XIPENV",59,0)
 . F  S FIELD=$O(^DD(5.13,0,"PT",FILE,FIELD)) Q:'FIELD  D
"RTN","XIPENV",60,0)
 .. N X
"RTN","XIPENV",61,0)
 .. S X="  File #: "_FILE_"  Field #: "_FIELD_" is Pointing To File # 5.13.  Please remove this dependency!"
"RTN","XIPENV",62,0)
 .. D MES^XPDUTL(X) S XPDQUIT=2
"RTN","XIPENV",63,0)
 I '$D(XPDQUIT) D
"RTN","XIPENV",64,0)
 . N X
"RTN","XIPENV",65,0)
 . S X="Your STATE(#5) file is fine.  No unknown ""PT"" where found.  Continuing the installation."
"RTN","XIPENV",66,0)
 . D MES^XPDUTL(X)
"RTN","XIPENV",67,0)
 ;
"RTN","XIPENV",68,0)
 ; End of Envirment Check
"RTN","XIPENV",69,0)
 Q
"RTN","XIPENV",70,0)
 ;
"RTN","XIPENV",71,0)
 ; **** Below Data is used to validate state file - do not modify ****
"RTN","XIPENV",72,0)
 ; The '^' pieces are as follows:
"RTN","XIPENV",73,0)
 ; $P(#1)=NAME, $P(#2)=ABBV, and $P(#3)=VA STATE CODE
"RTN","XIPENV",74,0)
1 ;;ALABAMA^AL^01
"RTN","XIPENV",75,0)
2 ;;ALASKA^AK^02
"RTN","XIPENV",76,0)
4 ;;ARIZONA^AZ^04
"RTN","XIPENV",77,0)
5 ;;ARKANSAS^AR^05
"RTN","XIPENV",78,0)
6 ;;CALIFORNIA^CA^06
"RTN","XIPENV",79,0)
8 ;;COLORADO^CO^08
"RTN","XIPENV",80,0)
9 ;;CONNECTICUT^CT^09
"RTN","XIPENV",81,0)
10 ;;DELAWARE^DE^10
"RTN","XIPENV",82,0)
11 ;;DISTRICT OF COLUMBIA^DC^11
"RTN","XIPENV",83,0)
12 ;;FLORIDA^FL^12
"RTN","XIPENV",84,0)
13 ;;GEORGIA^GA^13
"RTN","XIPENV",85,0)
15 ;;HAWAII^HI^15
"RTN","XIPENV",86,0)
16 ;;IDAHO^ID^16
"RTN","XIPENV",87,0)
17 ;;ILLINOIS^IL^17
"RTN","XIPENV",88,0)
18 ;;INDIANA^IN^18
"RTN","XIPENV",89,0)
19 ;;IOWA^IA^19
"RTN","XIPENV",90,0)
20 ;;KANSAS^KS^20
"RTN","XIPENV",91,0)
21 ;;KENTUCKY^KY^21
"RTN","XIPENV",92,0)
22 ;;LOUISIANA^LA^22
"RTN","XIPENV",93,0)
23 ;;MAINE^ME^23
"RTN","XIPENV",94,0)
24 ;;MARYLAND^MD^24
"RTN","XIPENV",95,0)
25 ;;MASSACHUSETTS^MA^25
"RTN","XIPENV",96,0)
26 ;;MICHIGAN^MI^26
"RTN","XIPENV",97,0)
27 ;;MINNESOTA^MN^27
"RTN","XIPENV",98,0)
28 ;;MISSISSIPPI^MS^28
"RTN","XIPENV",99,0)
29 ;;MISSOURI^MO^29
"RTN","XIPENV",100,0)
30 ;;MONTANA^MT^30
"RTN","XIPENV",101,0)
31 ;;NEBRASKA^NE^31
"RTN","XIPENV",102,0)
32 ;;NEVADA^NV^32
"RTN","XIPENV",103,0)
33 ;;NEW HAMPSHIRE^NH^33
"RTN","XIPENV",104,0)
34 ;;NEW JERSEY^NJ^34
"RTN","XIPENV",105,0)
35 ;;NEW MEXICO^NM^35
"RTN","XIPENV",106,0)
36 ;;NEW YORK^NY^36
"RTN","XIPENV",107,0)
37 ;;NORTH CAROLINA^NC^37
"RTN","XIPENV",108,0)
38 ;;NORTH DAKOTA^ND^38
"RTN","XIPENV",109,0)
39 ;;OHIO^OH^39
"RTN","XIPENV",110,0)
40 ;;OKLAHOMA^OK^40
"RTN","XIPENV",111,0)
41 ;;OREGON^OR^41
"RTN","XIPENV",112,0)
42 ;;PENNSYLVANIA^PA^42
"RTN","XIPENV",113,0)
44 ;;RHODE ISLAND^RI^44
"RTN","XIPENV",114,0)
45 ;;SOUTH CAROLINA^SC^45
"RTN","XIPENV",115,0)
46 ;;SOUTH DAKOTA^SD^46
"RTN","XIPENV",116,0)
47 ;;TENNESSEE^TN^47
"RTN","XIPENV",117,0)
48 ;;TEXAS^TX^48
"RTN","XIPENV",118,0)
49 ;;UTAH^UT^49
"RTN","XIPENV",119,0)
50 ;;VERMONT^VT^50
"RTN","XIPENV",120,0)
51 ;;VIRGINIA^VA^51
"RTN","XIPENV",121,0)
53 ;;WASHINGTON^WA^53
"RTN","XIPENV",122,0)
54 ;;WEST VIRGINIA^WV^54
"RTN","XIPENV",123,0)
55 ;;WISCONSIN^WI^55
"RTN","XIPENV",124,0)
56 ;;WYOMING^WY^56
"RTN","XIPENV",125,0)
60 ;;AMERICAN SAMOA^AS^60
"RTN","XIPENV",126,0)
64 ;;FEDERATED STATES OF MICRONESIA^FM^64
"RTN","XIPENV",127,0)
66 ;;GUAM^GU^66
"RTN","XIPENV",128,0)
68 ;;MARSHALL ISLANDS^MH^68
"RTN","XIPENV",129,0)
69 ;;NORTHERN MARIANA ISLANDS^MP^69
"RTN","XIPENV",130,0)
70 ;;PALAU^PW^70
"RTN","XIPENV",131,0)
72 ;;PUERTO RICO^PR^72
"RTN","XIPENV",132,0)
78 ;;VIRGIN ISLANDS^VI^78
"RTN","XIPENV",133,0)
85 ;;ARMED FORCES AMER (EXC CANADA)^AA^85
"RTN","XIPENV",134,0)
87 ;;ARMED FORCES AF,EU,ME,CA^AE^87
"RTN","XIPENV",135,0)
88 ;;ARMED FORCES PACIFIC^AP^88
"RTN","XIPENV",136,0)
99999 ;;LAST LINE
"RTN","XIPPOST")
0^^B10187016
"RTN","XIPPOST",1,0)
XIPPOST ;ALB/BRM/OIFO/SO - STANDARD POST INSTALL FOR XIP;12:09 PM  24 Jul 2003
"RTN","XIPPOST",2,0)
 ;;8.0;KERNEL;**292**;Jul 10, 1995
"RTN","XIPPOST",3,0)
 ;
"RTN","XIPPOST",4,0)
POST ; post install - correct state file pointers for 5.12 and 5.13
"RTN","XIPPOST",5,0)
 K ^DD(5.12,0,"ID",8) ; IA #4140
"RTN","XIPPOST",6,0)
 D
"RTN","XIPPOST",7,0)
 . ;Re-index STATE file "C" x-ref
"RTN","XIPPOST",8,0)
 . N DIK
"RTN","XIPPOST",9,0)
 . K ^DIC(5,"C")
"RTN","XIPPOST",10,0)
 . S DIK="^DIC(5,"
"RTN","XIPPOST",11,0)
 . S DIK(1)="1^C"
"RTN","XIPPOST",12,0)
 . D ENALL^DIK
"RTN","XIPPOST",13,0)
 . S DIK(1)="2^C"
"RTN","XIPPOST",14,0)
 . D ENALL^DIK
"RTN","XIPPOST",15,0)
 D RP512
"RTN","XIPPOST",16,0)
 D RP513
"RTN","XIPPOST",17,0)
 D ADDID
"RTN","XIPPOST",18,0)
 D ADDCOU
"RTN","XIPPOST",19,0)
 Q
"RTN","XIPPOST",20,0)
 ;
"RTN","XIPPOST",21,0)
RP512 ;Repoint Field #3 to proper STATE(#5) file entry
"RTN","XIPPOST",22,0)
 N IEN512,XIPSEED
"RTN","XIPPOST",23,0)
 S XIPSEED=1 ; Prevent "AD" xref from firing
"RTN","XIPPOST",24,0)
 D BMES^XPDUTL("   Updating State File pointers in file #5.12")
"RTN","XIPPOST",25,0)
 S IEN512=0
"RTN","XIPPOST",26,0)
 F  S IEN512=$O(^XIP(5.12,IEN512)) Q:'IEN512  D
"RTN","XIPPOST",27,0)
 . N IEN5,IEN513,VACODE
"RTN","XIPPOST",28,0)
 . S IEN513=$P($G(^XIP(5.12,IEN512,0)),"^",3) ;Get pointer to 5.13
"RTN","XIPPOST",29,0)
 . D
"RTN","XIPPOST",30,0)
 .. N DIERR,XIPERR
"RTN","XIPPOST",31,0)
 .. S VACODE=$$GET1^DIQ(5.13,IEN513_",",.01,"","","XIPERR")
"RTN","XIPPOST",32,0)
 .. S VACODE=$E(VACODE,1,2)
"RTN","XIPPOST",33,0)
 . S IEN5=0,IEN5=+$O(^DIC(5,"C",VACODE,IEN5))
"RTN","XIPPOST",34,0)
 . I IEN5 D  Q
"RTN","XIPPOST",35,0)
 .. N DIERR,XIPERR
"RTN","XIPPOST",36,0)
 .. S FDA("XIP",5.12,IEN512_",",3)=IEN5
"RTN","XIPPOST",37,0)
 .. D FILE^DIE("","FDA(""XIP"")","XIPERR")
"RTN","XIPPOST",38,0)
 .. I $D(XIPERR) D
"RTN","XIPPOST",39,0)
 ... N X
"RTN","XIPPOST",40,0)
 ... S X="File: 5.12 IEN: "_IEN512_" "_XIPERR("DIERR",1,"TEXT",1)
"RTN","XIPPOST",41,0)
 ... D BMES^XPDUTL(X)
"RTN","XIPPOST",42,0)
 . I 'IEN5 D  Q
"RTN","XIPPOST",43,0)
 .. N X
"RTN","XIPPOST",44,0)
 .. S X="File: 5.12 IEN: "_IEN512_"VA STATE CODE: "_VACODE_" is invalid."
"RTN","XIPPOST",45,0)
 .. D BMES^XPDUTL(X)
"RTN","XIPPOST",46,0)
 D BMES^XPDUTL("  Finished repointing file #5.12")
"RTN","XIPPOST",47,0)
 Q
"RTN","XIPPOST",48,0)
 ;
"RTN","XIPPOST",49,0)
RP513 ;Repoint Field #2 to proper STATE(#5) file entry
"RTN","XIPPOST",50,0)
 N IEN513,XIPSEED,VACODE
"RTN","XIPPOST",51,0)
 S XIPSEED=1 ; Prevent "AC" xref from firing
"RTN","XIPPOST",52,0)
 S IEN513=0
"RTN","XIPPOST",53,0)
 D BMES^XPDUTL("   Updating State File pointers in file #5.13")
"RTN","XIPPOST",54,0)
 F  S IEN513=$O(^XIP(5.13,IEN513)) Q:'IEN513  D
"RTN","XIPPOST",55,0)
 . N IEN5
"RTN","XIPPOST",56,0)
 . S VACODE=$P(^XIP(5.13,IEN513,0),"^")
"RTN","XIPPOST",57,0)
 . S VACODE=$E(VACODE,1,2)
"RTN","XIPPOST",58,0)
 . S IEN5=0,IEN5=+$O(^DIC(5,"C",VACODE,0))
"RTN","XIPPOST",59,0)
 . I 'IEN5 D  Q
"RTN","XIPPOST",60,0)
 .. S X="File: 5.13 IEN: "_IEN513_"VA STATE CODE: "_VACODE_" is invalid."
"RTN","XIPPOST",61,0)
 .. D BMES^XPDUTL(X)
"RTN","XIPPOST",62,0)
 . D
"RTN","XIPPOST",63,0)
 .. N DIERR,XIPERR
"RTN","XIPPOST",64,0)
 .. S FDA("XIP",5.13,IEN513_",",2)=IEN5
"RTN","XIPPOST",65,0)
 .. D FILE^DIE("","FDA(""XIP"")","XIPERR")
"RTN","XIPPOST",66,0)
 .. I $D(XIPERR) D
"RTN","XIPPOST",67,0)
 ... S X="File: 5.13 IEN: "_IEN513_" "_XIPERR("DIERR",1,"TEXT",1)
"RTN","XIPPOST",68,0)
 ... D BMES^XPDUTL(X)
"RTN","XIPPOST",69,0)
 D BMES^XPDUTL(" Finished repointing file #5.13")
"RTN","XIPPOST",70,0)
 Q
"RTN","XIPPOST",71,0)
 ;
"RTN","XIPPOST",72,0)
ADDID ; Add Write ID node & Up date $P#2 of File Header
"RTN","XIPPOST",73,0)
 S ^DD(5.12,0,"ID","W1")="D EN^DDIOL($P(^(0),U,2)_""  ""_$P(^(0),U,6)_""  ""_$P(^(0),U,7),"""",""?0"")"
"RTN","XIPPOST",74,0)
 S $P(^XIP(5.12,0),"^",2)="5.12I"
"RTN","XIPPOST",75,0)
 Q
"RTN","XIPPOST",76,0)
 ;
"RTN","XIPPOST",77,0)
ADDCOU ; Add '000' Counties to State File for Armed Forces
"RTN","XIPPOST",78,0)
 N VACODE
"RTN","XIPPOST",79,0)
 F VACODE=85,87,88 D
"RTN","XIPPOST",80,0)
 . N DIERR,XIPERR,STATE,VACOUC
"RTN","XIPPOST",81,0)
 . S STATE=0
"RTN","XIPPOST",82,0)
 . S STATE=+$O(^DIC(5,"C",VACODE,STATE))
"RTN","XIPPOST",83,0)
 . Q:'STATE
"RTN","XIPPOST",84,0)
 . S VACOUC=0
"RTN","XIPPOST",85,0)
 . S VACOUC=$$FIND1^DIC(5.01,","_STATE_",","X","000","C","","XIPERR")
"RTN","XIPPOST",86,0)
 . Q:$D(DIERR)
"RTN","XIPPOST",87,0)
 . Q:VACOUC
"RTN","XIPPOST",88,0)
 . N DA,DIC
"RTN","XIPPOST",89,0)
 . S DA(1)=STATE
"RTN","XIPPOST",90,0)
 . S DIC="^DIC(5,"_DA(1)_",1,"
"RTN","XIPPOST",91,0)
 . S DIC(0)="FL"
"RTN","XIPPOST",92,0)
 . S X="ARMED FORCES"
"RTN","XIPPOST",93,0)
 . N DD,DO
"RTN","XIPPOST",94,0)
 . D FILE^DICN
"RTN","XIPPOST",95,0)
 . S DIE=DIC K DIC
"RTN","XIPPOST",96,0)
 . S DA=+Y
"RTN","XIPPOST",97,0)
 . S DR="2////"_"000"
"RTN","XIPPOST",98,0)
 . D ^DIE
"RTN","XIPPOST",99,0)
 Q
"RTN","XIPUTIL")
0^1^B27295612
"RTN","XIPUTIL",1,0)
XIPUTIL ;ALB/BRM,OIFO/SO - POSTAL AND COUNTY CODE APIS ;2:16 PM  10 Jul 2003
"RTN","XIPUTIL",2,0)
 ;;8.0;KERNEL;**246,292**;Jul 10, 1995
"RTN","XIPUTIL",3,0)
 ;
"RTN","XIPUTIL",4,0)
 ; this routine holds APIs used to extract data from the
"RTN","XIPUTIL",5,0)
 ; County Code (#5.13) and Postal Code (#5.12) files.
"RTN","XIPUTIL",6,0)
 ;
"RTN","XIPUTIL",7,0)
 Q
"RTN","XIPUTIL",8,0)
 ;
"RTN","XIPUTIL",9,0)
POSTAL(PCODE,XIP) ; return all data for the Prefered City for a postal code
"RTN","XIPUTIL",10,0)
 ;
"RTN","XIPUTIL",11,0)
 ; INPUT
"RTN","XIPUTIL",12,0)
 ;     PCODE - Postal Code for which to return the data
"RTN","XIPUTIL",13,0)
 ;
"RTN","XIPUTIL",14,0)
 ; OUTPUT
"RTN","XIPUTIL",15,0)
 ;     XIP("POSTAL CODE") - the value used to lookup postal data
"RTN","XIPUTIL",16,0)
 ;     XIP("CITY") - the city that the USPS assigned to this PCODE
"RTN","XIPUTIL",17,0)
 ;     XIP("COUNTY") - The county associated with this PCODE
"RTN","XIPUTIL",18,0)
 ;     XIP("COUNTY POINTER") - pointer to the county in file #5.13
"RTN","XIPUTIL",19,0)
 ;     XIP("STATE") - The state associated with this PCODE
"RTN","XIPUTIL",20,0)
 ;     XIP("STATE POINTER") - pointer to the state in file #5
"RTN","XIPUTIL",21,0)
 ;     XIP("CITY KEY") - USPS's assigned city key
"RTN","XIPUTIL",22,0)
 ;     XIP("PREFERRED CITY KEY") - USPS's Prefered (DEFAULT) city key
"RTN","XIPUTIL",23,0)
 ;     XIP("CITY ABBREVIATION") - USPS's assigned abbreviation
"RTN","XIPUTIL",24,0)
 ;     XIP("UNIQUE KEY") - a unique look-up value
"RTN","XIPUTIL",25,0)
 ;     XIP("FIPS CODE") - 5 digit FIPS code associated with the county
"RTN","XIPUTIL",26,0)
 ;     XIP("ERROR") - returns errors encountered during look-up
"RTN","XIPUTIL",27,0)
 ;
"RTN","XIPUTIL",28,0)
 I $G(PCODE)']"" S XIP("ERROR")="Missing Input Parameter" Q
"RTN","XIPUTIL",29,0)
 N X,ERR512,XIP512,XIPTMP,X,Y,DA,D,DIQ,DIC,IENS,XIPERR,LPCODE
"RTN","XIPUTIL",30,0)
 ; initialize the XIP data array
"RTN","XIPUTIL",31,0)
 D INITXIP(.XIP)
"RTN","XIPUTIL",32,0)
 ; initialize additional XIP subscripts
"RTN","XIPUTIL",33,0)
 F X="CITY","COUNTY POINTER","POSTAL CODE","CITY KEY","PREFERRED CITY KEY","CITY ABBREVIATION","UNIQUE KEY" S XIP(X)=""
"RTN","XIPUTIL",34,0)
 K XIP("INACTIVE DATE") ;Inactive dates are screen out
"RTN","XIPUTIL",35,0)
 ; if input parameter (PCODE) is less than 5 characters, quit w/error
"RTN","XIPUTIL",36,0)
 I $L(PCODE)<5 S XIP("ERROR")="PCODE entered was less than 5 characters." Q
"RTN","XIPUTIL",37,0)
 S (LPCODE,XIP("POSTAL CODE"))=$E(PCODE,1,5)
"RTN","XIPUTIL",38,0)
 S XIP512=0
"RTN","XIPUTIL",39,0)
 D
"RTN","XIPUTIL",40,0)
 . N DIERR,XIPERR,FIELDS,I,D512,S512
"RTN","XIPUTIL",41,0)
 . S FIELDS="@;5;6"
"RTN","XIPUTIL",42,0)
 . S S512="I $P(^(0),U,5)=""""" ; Screen out INACTIVE Zip Codes
"RTN","XIPUTIL",43,0)
 . D LIST^DIC(5.12,"",FIELDS,"P","","",LPCODE,"B",S512,"","D512","XIPERR")
"RTN","XIPUTIL",44,0)
 . Q:$D(DIERR)
"RTN","XIPUTIL",45,0)
 . S I=0
"RTN","XIPUTIL",46,0)
 . F  S I=$O(D512("DILIST",I)) Q:'I  D
"RTN","XIPUTIL",47,0)
 .. I $P(D512("DILIST",I,0),"^",2)=$P(D512("DILIST",I,0),"^",3) S XIP512=$P(D512("DILIST",I,0),"^",1)
"RTN","XIPUTIL",48,0)
 I 'XIP512 S XIP("ERROR")="Postal Code cannot be found" Q
"RTN","XIPUTIL",49,0)
 N X
"RTN","XIPUTIL",50,0)
 S X=^XIP(5.12,XIP512,0)
"RTN","XIPUTIL",51,0)
 S XIP("CITY")=$P(X,"^",2)
"RTN","XIPUTIL",52,0)
 S XIP("COUNTY POINTER")=$P(X,"^",3)
"RTN","XIPUTIL",53,0)
 S XIP("STATE POINTER")=$P(X,"^",4)
"RTN","XIPUTIL",54,0)
 S XIP("INACTIVE DATE")=$P(X,"^",5)
"RTN","XIPUTIL",55,0)
 S XIP("CITY KEY")=$P(X,"^",6)
"RTN","XIPUTIL",56,0)
 S XIP("PREFERRED CITY KEY")=$P(X,"^",7)
"RTN","XIPUTIL",57,0)
 S XIP("CITY ABBREVIATION")=$P(X,"^",8)
"RTN","XIPUTIL",58,0)
 S XIP("UNIQUE KEY")=$P(X,"^",9)
"RTN","XIPUTIL",59,0)
 S XIP("STATE")=$P($G(^DIC(5,+XIP("STATE POINTER"),0)),"^")
"RTN","XIPUTIL",60,0)
 S XIP("COUNTY")=$P($G(^XIP(5.13,+XIP("COUNTY POINTER"),0)),"^",2)
"RTN","XIPUTIL",61,0)
 S XIP("FIPS CODE")=$P($G(^XIP(5.13,+XIP("COUNTY POINTER"),0)),"^")
"RTN","XIPUTIL",62,0)
 Q
"RTN","XIPUTIL",63,0)
 ;
"RTN","XIPUTIL",64,0)
INITXIP(ARRY) ;initialize the county code array
"RTN","XIPUTIL",65,0)
 F X="COUNTY","STATE","STATE POINTER","INACTIVE DATE","FIPS CODE" S ARRY(X)=""
"RTN","XIPUTIL",66,0)
 Q
"RTN","XIPUTIL",67,0)
 ;
"RTN","XIPUTIL",68,0)
FIPS(PCODE) ;API to return the FIPS code associated with the postal code
"RTN","XIPUTIL",69,0)
 ;
"RTN","XIPUTIL",70,0)
 ;INPUT:
"RTN","XIPUTIL",71,0)
 ;     PCODE - Postal code
"RTN","XIPUTIL",72,0)
 ;OUTPUT:
"RTN","XIPUTIL",73,0)
 ;      5 digit FIPS code associated with the entered postal code
"RTN","XIPUTIL",74,0)
 ;   or "0^error message" if a processing error occurs
"RTN","XIPUTIL",75,0)
 ;
"RTN","XIPUTIL",76,0)
 Q:PCODE']"" "0^Missing Input Parameter"
"RTN","XIPUTIL",77,0)
 Q:$L(PCODE)<5 "0^Input Parameter is less than 5 characters"
"RTN","XIPUTIL",78,0)
 ;
"RTN","XIPUTIL",79,0)
 N IEN512,IEN513,FIPS
"RTN","XIPUTIL",80,0)
 I $L(PCODE)>5 S PCODE=$E(PCODE,1,5)
"RTN","XIPUTIL",81,0)
 S IEN512=0
"RTN","XIPUTIL",82,0)
 D
"RTN","XIPUTIL",83,0)
 . N DIERR,XIPERR,FIELDS,XIPTMP,I
"RTN","XIPUTIL",84,0)
 . S FIELDS="@;5;6"
"RTN","XIPUTIL",85,0)
 . D LIST^DIC(5.12,"",FIELDS,"P","","",PCODE,"","","","XIPTMP","XIPERR")
"RTN","XIPUTIL",86,0)
 . Q:$D(DIERR)
"RTN","XIPUTIL",87,0)
 . S I=0
"RTN","XIPUTIL",88,0)
 . F  S I=$O(XIPTMP("DILIST",I)) Q:'I  D
"RTN","XIPUTIL",89,0)
 .. I $P(XIPTMP("DILIST",I,0),"^",2)=$P(XIPTMP("DILIST",I,0),"^",3) S IEN512=$P(XIPTMP("DILIST",I,0),"^",1)
"RTN","XIPUTIL",90,0)
 Q:'IEN512 "0^Postal Code not found"
"RTN","XIPUTIL",91,0)
 S IEN513=$P($G(^XIP(5.12,IEN512,0)),"^",3)
"RTN","XIPUTIL",92,0)
 Q:'IEN513 "0^County cannot be determined"
"RTN","XIPUTIL",93,0)
 S FIPS=$$GET1^DIQ(5.13,IEN513_",",.01)
"RTN","XIPUTIL",94,0)
 Q:FIPS FIPS
"RTN","XIPUTIL",95,0)
 Q "0^FIPS Code cannot be determined"
"RTN","XIPUTIL",96,0)
 ;
"RTN","XIPUTIL",97,0)
CCODE(FIPS,XIPC) ; return all data related to a FIPS county code
"RTN","XIPUTIL",98,0)
 ;
"RTN","XIPUTIL",99,0)
 ; INPUT
"RTN","XIPUTIL",100,0)
 ;     FIPS - 5 digit FIPS County Code for which to return the data
"RTN","XIPUTIL",101,0)
 ;
"RTN","XIPUTIL",102,0)
 ; OUTPUT
"RTN","XIPUTIL",103,0)
 ;     XIPC("FIPS CODE") - 5 digit FIPS county code
"RTN","XIPUTIL",104,0)
 ;     XIPC("COUNTY") - The county associated with this FIPS code
"RTN","XIPUTIL",105,0)
 ;     XIPC("STATE") - The state associated with this FIPS code
"RTN","XIPUTIL",106,0)
 ;     XIPC("STATE POINTER") - pointer to the state in file #5
"RTN","XIPUTIL",107,0)
 ;     XIPC("INACTIVE DATE") - date this FIPS code was inactivated
"RTN","XIPUTIL",108,0)
 ;     XIPC("LATITUDE") - The estimated Latitude of the county
"RTN","XIPUTIL",109,0)
 ;     XIPC("LONGITUDE") - The estimated Longitude of the county
"RTN","XIPUTIL",110,0)
 ;     XIPC("ERROR") - returns errors encountered during look-up
"RTN","XIPUTIL",111,0)
 ;
"RTN","XIPUTIL",112,0)
 I $G(FIPS)']"" S XIPC("ERROR")="Missing Input Parameter" Q
"RTN","XIPUTIL",113,0)
 ;
"RTN","XIPUTIL",114,0)
 N X,XIPCTMP,XIP513,ERR513,IENS
"RTN","XIPUTIL",115,0)
 ; initialize the XIPC data array
"RTN","XIPUTIL",116,0)
 D INITXIP(.XIPC)
"RTN","XIPUTIL",117,0)
 S XIPC("LATITUDE")="",XIPC("LONGITUDE")=""
"RTN","XIPUTIL",118,0)
 S XIPC("FIPS CODE")=FIPS
"RTN","XIPUTIL",119,0)
 ; if input parameter (FIPS) is less than 5 characters, quit w/error
"RTN","XIPUTIL",120,0)
 I $G(FIPS)'?5N S XIPC("ERROR")="FIPS Code input parameter is not valid."  Q
"RTN","XIPUTIL",121,0)
 ;
"RTN","XIPUTIL",122,0)
 S XIP513=0
"RTN","XIPUTIL",123,0)
 D
"RTN","XIPUTIL",124,0)
 . N DIERR,XIPERR
"RTN","XIPUTIL",125,0)
 . S XIP513=$$FIND1^DIC(5.13,,"BOX",FIPS,"","","XIPERR")
"RTN","XIPUTIL",126,0)
 I 'XIP513 D  Q:'XIP513
"RTN","XIPUTIL",127,0)
 .S XIP513=$O(^XIP(5.13,"B",FIPS,""))
"RTN","XIPUTIL",128,0)
 .I XIP513 S XIPC("ERROR")="Multiple entries exist for FIPS code" Q
"RTN","XIPUTIL",129,0)
 .S XIPC("ERROR")="Entered FIPS Code could not be found"
"RTN","XIPUTIL",130,0)
 D
"RTN","XIPUTIL",131,0)
 . N DIERR
"RTN","XIPUTIL",132,0)
 . D GETS^DIQ(5.13,XIP513_",","**","IE","XIPCTMP","ERR513")
"RTN","XIPUTIL",133,0)
 I $D(ERR513) S XIPC("ERROR")="Error occurred while retrieving County Code data" Q
"RTN","XIPUTIL",134,0)
 ;put data into array
"RTN","XIPUTIL",135,0)
 S XIP513=XIP513_","
"RTN","XIPUTIL",136,0)
 S XIPC("COUNTY")=$G(XIPCTMP(5.13,XIP513,1,"E"))
"RTN","XIPUTIL",137,0)
 S XIPC("STATE")=$G(XIPCTMP(5.13,XIP513,2,"E"))
"RTN","XIPUTIL",138,0)
 S XIPC("STATE POINTER")=$G(XIPCTMP(5.13,XIP513,2,"I"))
"RTN","XIPUTIL",139,0)
 S XIPC("INACTIVE DATE")=$G(XIPCTMP(5.13,XIP513,3,"I"))
"RTN","XIPUTIL",140,0)
 S XIPC("LATITUDE")=$G(XIPCTMP(5.13,XIP513,4,"E"))
"RTN","XIPUTIL",141,0)
 S XIPC("LONGITUDE")=$G(XIPCTMP(5.13,XIP513,5,"E"))
"RTN","XIPUTIL",142,0)
 Q
"RTN","XIPUTIL",143,0)
FIPSCHK(FIPS) ; does this FIPS code exist?
"RTN","XIPUTIL",144,0)
 Q:$G(FIPS)']"" 0
"RTN","XIPUTIL",145,0)
 Q:$L(FIPS)<5 0
"RTN","XIPUTIL",146,0)
 Q +$O(^XIP(5.13,"B",FIPS,""))
"RTN","XIPUTIL",147,0)
 ;
"RTN","XIPUTIL",148,0)
POSTALB(PCODE,XIP) ; return all data related to a postal code
"RTN","XIPUTIL",149,0)
 ;
"RTN","XIPUTIL",150,0)
 ; INPUT
"RTN","XIPUTIL",151,0)
 ;     PCODE - Postal Code for which to return the data
"RTN","XIPUTIL",152,0)
 ;
"RTN","XIPUTIL",153,0)
 ; OUTPUT
"RTN","XIPUTIL",154,0)
 ;     XIP(n) - the number of primary subscripts
"RTN","XIPUTIL",155,0)
 ;     XIP(n,"POSTAL CODE") - the value used to lookup postal data
"RTN","XIPUTIL",156,0)
 ;     XIP(n,"CITY") - the city that the USPS assigned to this PCODE
"RTN","XIPUTIL",157,0)
 ;     XIP(n,"COUNTY") - The county associated with this PCODE
"RTN","XIPUTIL",158,0)
 ;     XIP(n,"COUNTY POINTER") - pointer to the county in file #5.13
"RTN","XIPUTIL",159,0)
 ;     XIP(n,"STATE") - The state associated with this PCODE
"RTN","XIPUTIL",160,0)
 ;     XIP(n,"STATE POINTER") - pointer to the state in file #5
"RTN","XIPUTIL",161,0)
 ;     XIP(n,"INACTIVE DATE") - date on which this PCODE was inactivated
"RTN","XIPUTIL",162,0)
 ;     XIP(n"CITY KEY") - USPS's assigned city key
"RTN","XIPUTIL",163,0)
 ;     XIP(n,"PREFERRED CITY KEY") - USPS's Preferred (DEFAULT) city key
"RTN","XIPUTIL",164,0)
 ;     XIP(n,"CITY ABBREVIATION") - USPS's assigned abbreviation
"RTN","XIPUTIL",165,0)
 ;     XIP(n,"UNIQUE KEY") - a unique look-up value
"RTN","XIPUTIL",166,0)
 ;     XIP(n,"FIPS CODE") - 5 digit FIPS code associated with the county
"RTN","XIPUTIL",167,0)
 ;     XIP("ERROR") - returns errors encountered during look-up
"RTN","XIPUTIL",168,0)
 ;
"RTN","XIPUTIL",169,0)
 S XIP=0
"RTN","XIPUTIL",170,0)
 I $G(PCODE)']"" S XIP("ERROR")="Missing Input Parameter" Q
"RTN","XIPUTIL",171,0)
 N X,ERR512,XIP512,XIPTMP,X,Y,DA,D,DIQ,DIC,IENS,XIPERR,LPCODE
"RTN","XIPUTIL",172,0)
 ; if input parameter (PCODE) is less than 5 characters, quit w/error
"RTN","XIPUTIL",173,0)
 I $L(PCODE)<5 S XIP("ERROR")="PCODE entered was less than 5 characters." Q
"RTN","XIPUTIL",174,0)
 ;
"RTN","XIPUTIL",175,0)
 S LPCODE=$E(PCODE,1,5)
"RTN","XIPUTIL",176,0)
 D PBC^XIPUTIL1 ; Continue processing
"RTN","XIPUTIL",177,0)
 Q
"RTN","XIPUTIL1")
0^3^B4647613
"RTN","XIPUTIL1",1,0)
XIPUTIL1 ;OIFO/SO- CONTINUATION OF ROUTINE XIPUTIL;2:15 PM  10 Jul 2003
"RTN","XIPUTIL1",2,0)
 ;;8.0;KERNEL;**292**;Jul 10, 1995
"RTN","XIPUTIL1",3,0)
 ; Continuation of API POSTALB
"RTN","XIPUTIL1",4,0)
 Q
"RTN","XIPUTIL1",5,0)
 ;
"RTN","XIPUTIL1",6,0)
PBC ; POSTALB's Continuation Entry Point
"RTN","XIPUTIL1",7,0)
 ;
"RTN","XIPUTIL1",8,0)
 ; INPUT
"RTN","XIPUTIL1",9,0)
 ;     PCODE - Postal Code for which to return the data
"RTN","XIPUTIL1",10,0)
 ;
"RTN","XIPUTIL1",11,0)
 ; OUTPUT
"RTN","XIPUTIL1",12,0)
 ;     XIP(n) - the number of primary subscripts
"RTN","XIPUTIL1",13,0)
 ;     XIP(n,"POSTAL CODE") - the value used to lookup postal data
"RTN","XIPUTIL1",14,0)
 ;     XIP(n,"CITY") - the city that the USPS assigned to this PCODE
"RTN","XIPUTIL1",15,0)
 ;     XIP(n,"COUNTY") - The county associated with this PCODE
"RTN","XIPUTIL1",16,0)
 ;     XIP(n,"COUNTY POINTER") - pointer to the county in file #5.13
"RTN","XIPUTIL1",17,0)
 ;     XIP(n,"STATE") - The state associated with this PCODE
"RTN","XIPUTIL1",18,0)
 ;     XIP(n,"STATE POINTER") - pointer to the state in file #5
"RTN","XIPUTIL1",19,0)
 ;     XIP(n"CITY KEY") - USPS's assigned city key
"RTN","XIPUTIL1",20,0)
 ;     XIP(n,"PREFERRED CITY KEY") - USPS's Preferred (DEFAULT) city key
"RTN","XIPUTIL1",21,0)
 ;     XIP(n,"CITY ABBREVIATION") - USPS's assigned abbreviation
"RTN","XIPUTIL1",22,0)
 ;     XIP(n,"UNIQUE KEY") - a unique look-up value
"RTN","XIPUTIL1",23,0)
 ;     XIP(n,"FIPS CODE") - 5 digit FIPS code associated with the county
"RTN","XIPUTIL1",24,0)
 ;     XIP("ERROR") - returns errors encountered during look-up
"RTN","XIPUTIL1",25,0)
 ;
"RTN","XIPUTIL1",26,0)
 N D512,XIPERR
"RTN","XIPUTIL1",27,0)
 S XIP=0
"RTN","XIPUTIL1",28,0)
 D
"RTN","XIPUTIL1",29,0)
 . N DIERR,FIELDS,S512
"RTN","XIPUTIL1",30,0)
 . S FIELDS="@;.01"
"RTN","XIPUTIL1",31,0)
 . S S512="I $P(^(0),U,5)=""""" ; Screen out INACTIVE Zip Codes
"RTN","XIPUTIL1",32,0)
 . D LIST^DIC(5.12,"",FIELDS,"P","","",LPCODE,"B",S512,"","D512","XIPERR")
"RTN","XIPUTIL1",33,0)
 . Q
"RTN","XIPUTIL1",34,0)
 I $D(XIPERR) S XIP("ERROR")=XIPERR("DIERR",1,"TEXT",1) Q
"RTN","XIPUTIL1",35,0)
 I +D512("DILIST",0)=0 S XIP("ERROR")="Postal Code cannot be found" Q
"RTN","XIPUTIL1",36,0)
 N I,I1
"RTN","XIPUTIL1",37,0)
 S I=0
"RTN","XIPUTIL1",38,0)
 F I1=0:1 S I=$O(D512("DILIST",I)) Q:'I  D
"RTN","XIPUTIL1",39,0)
 . N X
"RTN","XIPUTIL1",40,0)
 . S XIP512=+$P(D512("DILIST",I,0),"^")
"RTN","XIPUTIL1",41,0)
 . S X=^XIP(5.12,XIP512,0)
"RTN","XIPUTIL1",42,0)
 . S XIP(I,"POSTAL CODE")=LPCODE
"RTN","XIPUTIL1",43,0)
 . S XIP(I,"CITY")=$P(X,"^",2)
"RTN","XIPUTIL1",44,0)
 . I $P(X,"^",6)=$P(X,"^",7) S XIP(I,"CITY")=XIP(I,"CITY")_"*" ; Indicate this is the DEFAULT city
"RTN","XIPUTIL1",45,0)
 . S XIP(I,"COUNTY POINTER")=$P(X,"^",3)
"RTN","XIPUTIL1",46,0)
 . S XIP(I,"STATE POINTER")=$P(X,"^",4)
"RTN","XIPUTIL1",47,0)
 . S XIP(I,"CITY KEY")=$P(X,"^",6)
"RTN","XIPUTIL1",48,0)
 . S XIP(I,"PREFERRED CITY KEY")=$P(X,"^",7)
"RTN","XIPUTIL1",49,0)
 . S XIP(I,"CITY ABBREVIATION")=$P(X,"^",8)
"RTN","XIPUTIL1",50,0)
 . S XIP(I,"UNIQUE KEY")=$P(X,"^",9)
"RTN","XIPUTIL1",51,0)
 . S XIP(I,"STATE")=$P($G(^DIC(5,+XIP(I,"STATE POINTER"),0)),"^")
"RTN","XIPUTIL1",52,0)
 . S XIP(I,"COUNTY")=$P($G(^XIP(5.13,+XIP(I,"COUNTY POINTER"),0)),"^",2)
"RTN","XIPUTIL1",53,0)
 . S XIP(I,"FIPS CODE")=$P($G(^XIP(5.13,+XIP(I,"COUNTY POINTER"),0)),"^")
"RTN","XIPUTIL1",54,0)
 S XIP=I1
"RTN","XIPUTIL1",55,0)
 Q
"RTN","XIPXREF")
0^2^B325675
"RTN","XIPXREF",1,0)
XIPXREF ;OIFO/SO- CONTAINS ANYCROSS REFERENCE LOGIC;5:20 AM  21 Jun 2003
"RTN","XIPXREF",2,0)
 ;;8.0;KERNEL;**292**;Jul 10, 1995
"RTN","XIPXREF",3,0)
 ;
"RTN","XIPXREF",4,0)
X512AD ;Cross-reference to determine if any changes have been made to
"RTN","XIPXREF",5,0)
 ;a record during the Update process
"RTN","XIPXREF",6,0)
 N XIPXREF
"RTN","XIPXREF",7,0)
 S XIPXREF=0
"RTN","XIPXREF",8,0)
 D CHK
"RTN","XIPXREF",9,0)
 I XIPXREF S ^XIP(5.12,"AD",DA)=""
"RTN","XIPXREF",10,0)
 Q
"RTN","XIPXREF",11,0)
 ;
"RTN","XIPXREF",12,0)
X513AC ;
"RTN","XIPXREF",13,0)
 N XIPXREF
"RTN","XIPXREF",14,0)
 S XIPXREF=0
"RTN","XIPXREF",15,0)
 D CHK
"RTN","XIPXREF",16,0)
 I XIPXREF S ^XIP(5.13,"AC",DA)=""
"RTN","XIPXREF",17,0)
 Q
"RTN","XIPXREF",18,0)
 ;
"RTN","XIPXREF",19,0)
CHK ;Compare the X1(n) array to X2(n) array
"RTN","XIPXREF",20,0)
 N I
"RTN","XIPXREF",21,0)
 S I=0
"RTN","XIPXREF",22,0)
 F  S I=$O(X1(I)) Q:I<1  D
"RTN","XIPXREF",23,0)
 . I X1(I)'=X2(I) S XIPXREF=1
"RTN","XIPXREF",24,0)
 Q
"SEC","^DIC",5.12,5.12,0,"AUDIT")
@
"SEC","^DIC",5.12,5.12,0,"DD")
@
"SEC","^DIC",5.12,5.12,0,"DEL")
@
"SEC","^DIC",5.12,5.12,0,"LAYGO")
@
"SEC","^DIC",5.12,5.12,0,"RD")

"SEC","^DIC",5.12,5.12,0,"WR")
@
"SEC","^DIC",5.13,5.13,0,"AUDIT")
@
"SEC","^DIC",5.13,5.13,0,"DD")
@
"SEC","^DIC",5.13,5.13,0,"DEL")
@
"SEC","^DIC",5.13,5.13,0,"LAYGO")
@
"SEC","^DIC",5.13,5.13,0,"RD")

"SEC","^DIC",5.13,5.13,0,"WR")
@
"VER")
8.0^22.0
"^DD",5.12,5.12,0)
FIELD^^8^9
"^DD",5.12,5.12,0,"DDA")
N
"^DD",5.12,5.12,0,"DT")
3030603
"^DD",5.12,5.12,0,"ID","W1")
D EN^DDIOL($P(^(0),U,2)_"  "_$P(^(0),U,6)_"  "_$P(^(0),U,7),"","?0")
"^DD",5.12,5.12,0,"IX","AC",5.12,2)

"^DD",5.12,5.12,0,"IX","B",5.12,.01)

"^DD",5.12,5.12,0,"IX","C",5.12,1)

"^DD",5.12,5.12,0,"IX","D",5.12,5)

"^DD",5.12,5.12,0,"IX","E",5.12,8)

"^DD",5.12,5.12,0,"NM","POSTAL CODE")

"^DD",5.12,5.12,0,"VRPK")
XU
"^DD",5.12,5.12,.01,0)
MAIL CODE^RF^^0;1^K:$L(X)>12!($L(X)<3) X
"^DD",5.12,5.12,.01,.1)

"^DD",5.12,5.12,.01,1,0)
^.1
"^DD",5.12,5.12,.01,1,1,0)
5.12^B
"^DD",5.12,5.12,.01,1,1,1)
S ^XIP(5.12,"B",$E(X,1,30),DA)=""
"^DD",5.12,5.12,.01,1,1,2)
K ^XIP(5.12,"B",$E(X,1,30),DA)
"^DD",5.12,5.12,.01,3)
Please enter the Postal Code
"^DD",5.12,5.12,.01,21,0)
^.001^3^3^3030710^^^^
"^DD",5.12,5.12,.01,21,1,0)
This field holds recognized postal codes.  Although this file will only 
"^DD",5.12,5.12,.01,21,2,0)
start with US postal codes, it may be expanded in the future to also 
"^DD",5.12,5.12,.01,21,3,0)
contain postal codes from other countries.
"^DD",5.12,5.12,.01,23,0)
^^7^7^3030710^
"^DD",5.12,5.12,.01,23,1,0)
This value is currently obtained from the USPS AIS City-State file.  The
"^DD",5.12,5.12,.01,23,2,0)
data in the file is located at:
"^DD",5.12,5.12,.01,23,3,0)
                                 
"^DD",5.12,5.12,.01,23,4,0)
  Field Reference Number: 2
"^DD",5.12,5.12,.01,23,5,0)
  Field Description: ZIP code
"^DD",5.12,5.12,.01,23,6,0)
  Logical Length: 5
"^DD",5.12,5.12,.01,23,7,0)
  Relative Position From/Thru: 02-06
"^DD",5.12,5.12,.01,"DT")
3030610
"^DD",5.12,5.12,1,0)
CITY^F^^0;2^K:$L(X)>28!($L(X)<3) X
"^DD",5.12,5.12,1,1,0)
^.1
"^DD",5.12,5.12,1,1,1,0)
5.12^C
"^DD",5.12,5.12,1,1,1,1)
S ^XIP(5.12,"C",$E(X,1,30),DA)=""
"^DD",5.12,5.12,1,1,1,2)
K ^XIP(5.12,"C",$E(X,1,30),DA)
"^DD",5.12,5.12,1,1,1,"DT")
3020627
"^DD",5.12,5.12,1,3)
Please enter the City associated with this Postal Code.
"^DD",5.12,5.12,1,21,0)
^.001^1^1^3030529^^
"^DD",5.12,5.12,1,21,1,0)
This field holds the city represented by this Postal Code.
"^DD",5.12,5.12,1,23,0)
^^7^7^3030529^
"^DD",5.12,5.12,1,23,1,0)
This value is currently obtained from the USPS AIS City-State file.  The
"^DD",5.12,5.12,1,23,2,0)
data in the file is located at:
"^DD",5.12,5.12,1,23,3,0)
 
"^DD",5.12,5.12,1,23,4,0)
  Field Reference Number: 5
"^DD",5.12,5.12,1,23,5,0)
  Field Description: City State Name
"^DD",5.12,5.12,1,23,6,0)
  Logical Length: 28
"^DD",5.12,5.12,1,23,7,0)
  Relative Position From/Thru: 14-41
"^DD",5.12,5.12,1,"DT")
3030610
"^DD",5.12,5.12,2,0)
COUNTY^P5.13'^XIP(5.13,^0;3^Q
"^DD",5.12,5.12,2,1,0)
^.1
"^DD",5.12,5.12,2,1,1,0)
5.12^AC
"^DD",5.12,5.12,2,1,1,1)
S ^XIP(5.12,"AC",$E(X,1,30),DA)=""
"^DD",5.12,5.12,2,1,1,2)
K ^XIP(5.12,"AC",$E(X,1,30),DA)
"^DD",5.12,5.12,2,1,1,"DT")
3020910
"^DD",5.12,5.12,2,3)
Please enter the county associated with this Postal Code.
"^DD",5.12,5.12,2,21,0)
^.001^2^2^3030626^^^
"^DD",5.12,5.12,2,21,1,0)
This field contains a pointer to the County that this Postal Code is 
"^DD",5.12,5.12,2,21,2,0)
within.
"^DD",5.12,5.12,2,"DT")
3030626
"^DD",5.12,5.12,3,0)
STATE^P5'^DIC(5,^0;4^Q
"^DD",5.12,5.12,3,3)
Please enter the State associated with this Postal Code.
"^DD",5.12,5.12,3,21,0)
^^2^2^3020703^
"^DD",5.12,5.12,3,21,1,0)
This field contains a pointer to the State File to represent the state 
"^DD",5.12,5.12,3,21,2,0)
associated with this Postal Code.
"^DD",5.12,5.12,3,"DT")
3030610
"^DD",5.12,5.12,4,0)
INACTIVE DATE^D^^0;5^S %DT="EX" D ^%DT S X=Y K:X<1 X
"^DD",5.12,5.12,4,3)
Please enter the Inactive Date for this Postal Code.
"^DD",5.12,5.12,4,21,0)
^^1^1^3020703^
"^DD",5.12,5.12,4,21,1,0)
This is the date that the Postal Code became Inactive.
"^DD",5.12,5.12,4,"DT")
3030610
"^DD",5.12,5.12,5,0)
CITY KEY^RF^^0;6^K:$L(X)>6!($L(X)<6) X
"^DD",5.12,5.12,5,1,0)
^.1
"^DD",5.12,5.12,5,1,1,0)
5.12^D
"^DD",5.12,5.12,5,1,1,1)
S ^XIP(5.12,"D",$E(X,1,30),DA)=""
"^DD",5.12,5.12,5,1,1,2)
K ^XIP(5.12,"D",$E(X,1,30),DA)
"^DD",5.12,5.12,5,1,1,"DT")
3030529
"^DD",5.12,5.12,5,1,2,0)
^^TRIGGER^5.12^8
"^DD",5.12,5.12,5,1,2,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^XIP(5.12,D0,0)):^(0),1:"") S X=$P(Y(1),U,9),X=X S DIU=X K Y X ^DD(5.12,5,1,2,1.1) S DIH=$G(^XIP(5.12,DIV(0),0)),DIV=X S $P(^(0),U,9)=DIV,DIH=5.12,DIG=8 D ^DICR
"^DD",5.12,5.12,5,1,2,1.1)
S X=DIV S Y(1)=$S($D(^XIP(5.12,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),Y(2)=$G(X) S X=DIV,Y=X,X=Y(2),X=X_Y
"^DD",5.12,5.12,5,1,2,2)
Q
"^DD",5.12,5.12,5,1,2,"%D",0)
^^3^3^3030710^
"^DD",5.12,5.12,5,1,2,"%D",1,0)
The field value is created by the concatenation of the MAIL CODE(#.01)
"^DD",5.12,5.12,5,1,2,"%D",2,0)
field and the CITY KEY(#5) that creates a unique key for lookups. The
"^DD",5.12,5.12,5,1,2,"%D",3,0)
value is stuffed into the UNIQUE KEY(#8).
"^DD",5.12,5.12,5,1,2,"CREATE VALUE")
((#.01)_(#5))
"^DD",5.12,5.12,5,1,2,"DELETE VALUE")
NO EFFECT
"^DD",5.12,5.12,5,1,2,"DT")
3030603
"^DD",5.12,5.12,5,1,2,"FIELD")
UNI
"^DD",5.12,5.12,5,3)
Answer must be 6 characters in length.
"^DD",5.12,5.12,5,21,0)
^.001^1^1^3030710^^^
"^DD",5.12,5.12,5,21,1,0)
This is the unique City State Key that has been assigned by the USPS.
"^DD",5.12,5.12,5,23,0)
^.001^7^7^3030710^^
"^DD",5.12,5.12,5,23,1,0)
This value is currently obtained from the USPS AIS City-State file.  The
"^DD",5.12,5.12,5,23,2,0)
data in the file is located at:
"^DD",5.12,5.12,5,23,3,0)
 
"^DD",5.12,5.12,5,23,4,0)
  Field Reference Number: 3
"^DD",5.12,5.12,5,23,5,0)
  Field Description: City State Key
"^DD",5.12,5.12,5,23,6,0)
  Logical Length: 6
"^DD",5.12,5.12,5,23,7,0)
  Relative Position From/Thru: 07-12
"^DD",5.12,5.12,5,"DT")
3030610
"^DD",5.12,5.12,6,0)
PREFERRED CITY KEY^RF^^0;7^K:$L(X)>6!($L(X)<6) X
"^DD",5.12,5.12,6,3)
Answer must be 6 characters in length.
"^DD",5.12,5.12,6,21,0)
^.001^1^1^3030710^^^
"^DD",5.12,5.12,6,21,1,0)
This key is assigned by USPS.
"^DD",5.12,5.12,6,23,0)
^^11^11^3030710^
"^DD",5.12,5.12,6,23,1,0)
This value is currently obtained from the USPS AIS City-State file.  The
"^DD",5.12,5.12,6,23,2,0)
data in the file is located at:
"^DD",5.12,5.12,6,23,3,0)
 
"^DD",5.12,5.12,6,23,4,0)
  Field Reference Number: 9
"^DD",5.12,5.12,6,23,5,0)
  Field Description: Preferred Last Line City State Key
"^DD",5.12,5.12,6,23,6,0)
  Logical Length: 6
"^DD",5.12,5.12,6,23,7,0)
  Relative Position From/Thru: 57-62
"^DD",5.12,5.12,6,23,8,0)
 
"^DD",5.12,5.12,6,23,9,0)
If this field equals 'UNIQUE CITY KEY' then this city is considered the
"^DD",5.12,5.12,6,23,10,0)
DEFAULT city.  On the other hand, if this is not equal to 'UNIQUE CITY
"^DD",5.12,5.12,6,23,11,0)
KEY' then the city is considered an ACCEPTABLE city.
"^DD",5.12,5.12,6,"DT")
3030710
"^DD",5.12,5.12,7,0)
CITY ABBREVIATION^F^^0;8^K:$L(X)>13!($L(X)<1) X
"^DD",5.12,5.12,7,3)
Answer must be 1-13 characters in length.
"^DD",5.12,5.12,7,21,0)
^.001^1^1^3030529^^
"^DD",5.12,5.12,7,21,1,0)
This field contains the USPS's city abbreviation.
"^DD",5.12,5.12,7,23,0)
^^7^7^3030529^
"^DD",5.12,5.12,7,23,1,0)
This value is currently obtained from the USPS AIS City-State file.  The
"^DD",5.12,5.12,7,23,2,0)
data in the file is located at:
"^DD",5.12,5.12,7,23,3,0)
  
"^DD",5.12,5.12,7,23,4,0)
  Field Reference Number: 6
"^DD",5.12,5.12,7,23,5,0)
  Field Description: City State Name Abbreviation
"^DD",5.12,5.12,7,23,6,0)
  Logical Length: 13
"^DD",5.12,5.12,7,23,7,0)
  Relative Position From/Thru: 42-54
"^DD",5.12,5.12,7,"DT")
3030610
"^DD",5.12,5.12,8,0)
UNIQUE KEY (VA)^RF^^0;9^K:$L(X)>18!($L(X)<9) X
"^DD",5.12,5.12,8,1,0)
^.1
"^DD",5.12,5.12,8,1,1,0)
5.12^E
"^DD",5.12,5.12,8,1,1,1)
S ^XIP(5.12,"E",$E(X,1,30),DA)=""
"^DD",5.12,5.12,8,1,1,2)
K ^XIP(5.12,"E",$E(X,1,30),DA)
"^DD",5.12,5.12,8,1,1,"DT")
3030603
"^DD",5.12,5.12,8,3)
Answer must be 9-18 characters in length.
"^DD",5.12,5.12,8,5,1,0)
5.12^5^2
"^DD",5.12,5.12,8,9)
^
"^DD",5.12,5.12,8,21,0)
^.001^3^3^3030710^^
"^DD",5.12,5.12,8,21,1,0)
This field is the value when the MAIL CODE(#.01) and the CITY KEY(#6) are 
"^DD",5.12,5.12,8,21,2,0)
concatenated.  The purpose of this field is to create a unique lookup 
"^DD",5.12,5.12,8,21,3,0)
value using the "E" cross-reference.
"^DD",5.12,5.12,8,23,0)
^^17^17^3030710^
"^DD",5.12,5.12,8,23,1,0)
A single Zip code can represent multiple City names or an individual 
"^DD",5.12,5.12,8,23,2,0)
City name can represent multiple Zip Code.  But each object in and of 
"^DD",5.12,5.12,8,23,3,0)
themselves are unique, a combination of these two unique properties will 
"^DD",5.12,5.12,8,23,4,0)
create a unique lookup value.  For example:
"^DD",5.12,5.12,8,23,5,0)
 
"^DD",5.12,5.12,8,23,6,0)
 Case A:
"^DD",5.12,5.12,8,23,7,0)
 Zip code: 26452
"^DD",5.12,5.12,8,23,8,0)
 City Name: VALLEY CHAPEL, City Key: X2A444, Unique Key: 26452X2A444
"^DD",5.12,5.12,8,23,9,0)
 City Name: WESTON, City Key: X29362, Unique Key: 26452X29362
"^DD",5.12,5.12,8,23,10,0)
 
"^DD",5.12,5.12,8,23,11,0)
 Case B:
"^DD",5.12,5.12,8,23,12,0)
 City: HAGERSTOWN, City Key: V23622, Zip code: 21740 UKey: 21740V23622
"^DD",5.12,5.12,8,23,13,0)
 City: HAGERSTOWN, City Key: V23622, Zip code: 21741, UKey: 21741V23622
"^DD",5.12,5.12,8,23,14,0)
 City: HAGERSTOWN, City Key: V23622, Zip code: 21742, UKey: 21742V23622
"^DD",5.12,5.12,8,23,15,0)
 City: HAGERSTOWN, City Key: V23622, Zip code: 21746, UKey: 21746V23622 
"^DD",5.12,5.12,8,23,16,0)
 City: HAGERSTOWN, City Key: V23622, Zip code: 21747, UKey: 21747V23622
"^DD",5.12,5.12,8,23,17,0)
 <and so on>
"^DD",5.12,5.12,8,"DT")
3030619
"^DD",5.13,5.13,0)
FIELD^^5^6
"^DD",5.13,5.13,0,"DDA")
N
"^DD",5.13,5.13,0,"DT")
3030619
"^DD",5.13,5.13,0,"IX","B",5.13,.01)

"^DD",5.13,5.13,0,"IX","C",5.13,1)

"^DD",5.13,5.13,0,"NM","COUNTY CODE")

"^DD",5.13,5.13,0,"PT",5.12,2)

"^DD",5.13,5.13,0,"VRPK")
XU
"^DD",5.13,5.13,.01,0)
FIPS CODE^RF^^0;1^K:$L(X)>5!($L(X)<3)!'(X'?1P.E) X
"^DD",5.13,5.13,.01,1,0)
^.1
"^DD",5.13,5.13,.01,1,1,0)
5.13^B
"^DD",5.13,5.13,.01,1,1,1)
S ^XIP(5.13,"B",$E(X,1,30),DA)=""
"^DD",5.13,5.13,.01,1,1,2)
K ^XIP(5.13,"B",$E(X,1,30),DA)
"^DD",5.13,5.13,.01,3)
Please enter the 5-digit FIPS code for this county.
"^DD",5.13,5.13,.01,21,0)
^.001^3^3^3030711^^
"^DD",5.13,5.13,.01,21,1,0)
This field contains a 5-digit number representing the Federal Information 
"^DD",5.13,5.13,.01,21,2,0)
Processing Standard for a state and county.  The first 2 digits represent 
"^DD",5.13,5.13,.01,21,3,0)
the state, and the last 3 digits represent the county.
"^DD",5.13,5.13,.01,"DT")
3030621
"^DD",5.13,5.13,1,0)
COUNTY NAME^F^^0;2^K:$L(X)>25!($L(X)<3) X
"^DD",5.13,5.13,1,1,0)
^.1
"^DD",5.13,5.13,1,1,1,0)
5.13^C
"^DD",5.13,5.13,1,1,1,1)
S ^XIP(5.13,"C",$E(X,1,30),DA)=""
"^DD",5.13,5.13,1,1,1,2)
K ^XIP(5.13,"C",$E(X,1,30),DA)
"^DD",5.13,5.13,1,1,1,"DT")
3020528
"^DD",5.13,5.13,1,3)
Answer must be 3-25 characters in length
"^DD",5.13,5.13,1,21,0)
^^1^1^3020703^
"^DD",5.13,5.13,1,21,1,0)
This field holds the name associated with this county.
"^DD",5.13,5.13,1,"DT")
3030621
"^DD",5.13,5.13,2,0)
STATE^P5'^DIC(5,^0;3^Q
"^DD",5.13,5.13,2,21,0)
^^1^1^3020703^
"^DD",5.13,5.13,2,21,1,0)
This field holds the state that this county is within.
"^DD",5.13,5.13,2,"DT")
3030621
"^DD",5.13,5.13,3,0)
INACTIVE DATE^D^^0;4^S %DT="EX" D ^%DT S X=Y K:X<1 X
"^DD",5.13,5.13,3,3)
Please enter an Inactive Date for this County FIPS.
"^DD",5.13,5.13,3,21,0)
^^1^1^3020703^
"^DD",5.13,5.13,3,21,1,0)
This is the date that the 5-digit FIPS became inactive.
"^DD",5.13,5.13,3,"DT")
3030621
"^DD",5.13,5.13,4,0)
LATITUDE (EST)^F^^0;5^K:$L(X)>6!($L(X)<6) X
"^DD",5.13,5.13,4,3)
Answer must be 6 characters in length.
"^DD",5.13,5.13,4,21,0)
^^6^6^3030619^
"^DD",5.13,5.13,4,21,1,0)
This field the estimated Latitude in <degrees>:<minutes>N or
"^DD",5.13,5.13,4,21,2,0)
<degrees>:<minutes>S of the County as given by the United States
"^DD",5.13,5.13,4,21,3,0)
Geological Survey (USGS).
"^DD",5.13,5.13,4,21,4,0)
 
"^DD",5.13,5.13,4,21,5,0)
 N is North of the Equator.
"^DD",5.13,5.13,4,21,6,0)
 S is South of the Equator.
"^DD",5.13,5.13,4,"DT")
3030619
"^DD",5.13,5.13,5,0)
LONGITUDE (EST)^F^^0;6^K:$L(X)>7!($L(X)<7) X
"^DD",5.13,5.13,5,3)
Answer must be 7 characters in length.
"^DD",5.13,5.13,5,21,0)
^^6^6^3030710^
"^DD",5.13,5.13,5,21,1,0)
This field is the estimated Longitude in <degrees:<minutes>E or 
"^DD",5.13,5.13,5,21,2,0)
<degrees>:<minutes>W of the County as given by the United States
"^DD",5.13,5.13,5,21,3,0)
Geological Survey (USGS).
"^DD",5.13,5.13,5,21,4,0)
 
"^DD",5.13,5.13,5,21,5,0)
 E is East of the Prime Meridian.
"^DD",5.13,5.13,5,21,6,0)
 W is West of the Prime Meridian.
"^DD",5.13,5.13,5,"DT")
3030619
"^DIC",5.12,5.12,0)
POSTAL CODE^5.12
"^DIC",5.12,5.12,0,"GL")
^XIP(5.12,
"^DIC",5.12,5.12,"%",0)
^1.005^1^1
"^DIC",5.12,5.12,"%",1,0)
XU
"^DIC",5.12,5.12,"%","B","XU",1)

"^DIC",5.12,5.12,"%D",0)
^^6^6^3030701^
"^DIC",5.12,5.12,"%D",1,0)
*** NOTICE: DO NOT POINT DIRECTLY TO THIS FILE UNTILL YOU GET AN IA ***
"^DIC",5.12,5.12,"%D",2,0)
 
"^DIC",5.12,5.12,"%D",3,0)
This file will store all known Postal Codes as well as other associated 
"^DIC",5.12,5.12,"%D",4,0)
information related to the Postal Code.  Although the original data in
"^DIC",5.12,5.12,"%D",5,0)
this file will only contain US Postal Code, the file has been designed to 
"^DIC",5.12,5.12,"%D",6,0)
allow non-US Postal Codes to be added in the future if desired.
"^DIC",5.12,"B","POSTAL CODE",5.12)

"^DIC",5.13,5.13,0)
COUNTY CODE^5.13
"^DIC",5.13,5.13,0,"GL")
^XIP(5.13,
"^DIC",5.13,5.13,"%",0)
^1.005^^0
"^DIC",5.13,5.13,"%D",0)
^^6^6^3030701^
"^DIC",5.13,5.13,"%D",1,0)
*** NOTICE: DO NOT POINT DIRECTLY TO THIS FILE UNTILL YOU GET AN IA ***
"^DIC",5.13,5.13,"%D",2,0)
*** The ONLY file that is allowed to point directly to this file is the:
"^DIC",5.13,5.13,"%D",3,0)
    POSTAL CODE(#5.12) file ***
"^DIC",5.13,5.13,"%D",4,0)
 
"^DIC",5.13,5.13,"%D",5,0)
This file contains all known US County FIPS codes according to the USGS, 
"^DIC",5.13,5.13,"%D",6,0)
HUD, and USPS.
"^DIC",5.13,"B","COUNTY CODE",5.13)

**END**
**END**
