KIDS Distribution saved on Oct 15, 1999@08:24:59
ECX*3*24 - DSS FY2000 UPDATE
**KIDS**:ECX*3.0*24^YS*5.01*56^

**INSTALL NAME**
ECX*3.0*24
"BLD",1890,0)
ECX*3.0*24^DSS EXTRACTS^0^2991015^y
"BLD",1890,1,0)
^^1^1^2990603^
"BLD",1890,1,1,0)
DSS FY2000 Update
"BLD",1890,4,0)
^9.64PA^727.802^22
"BLD",1890,4,727.5,0)
727.5
"BLD",1890,4,727.5,222)
y^y^f^^n^^n^o^n
"BLD",1890,4,727.802,0)
727.802
"BLD",1890,4,727.802,222)
y^n^f^^^^n
"BLD",1890,4,727.804,0)
727.804
"BLD",1890,4,727.804,222)
y^n^f^^^^n
"BLD",1890,4,727.805,0)
727.805
"BLD",1890,4,727.805,222)
y^n^f^^^^n
"BLD",1890,4,727.806,0)
727.806
"BLD",1890,4,727.806,222)
y^n^f^^^^n
"BLD",1890,4,727.808,0)
727.808
"BLD",1890,4,727.808,222)
y^n^f^^^^n
"BLD",1890,4,727.809,0)
727.809
"BLD",1890,4,727.809,222)
y^n^f^^^^n
"BLD",1890,4,727.81,0)
727.81
"BLD",1890,4,727.81,222)
y^n^f^^^^n
"BLD",1890,4,727.811,0)
727.811
"BLD",1890,4,727.811,222)
y^n^f^^^^n
"BLD",1890,4,727.812,0)
727.812
"BLD",1890,4,727.812,222)
y^n^f^^^^n
"BLD",1890,4,727.813,0)
727.813
"BLD",1890,4,727.813,222)
y^n^f^^^^n
"BLD",1890,4,727.814,0)
727.814
"BLD",1890,4,727.814,222)
y^n^f^^^^n
"BLD",1890,4,727.815,0)
727.815
"BLD",1890,4,727.815,222)
y^n^f^^^^n
"BLD",1890,4,727.816,0)
727.816
"BLD",1890,4,727.816,222)
y^y^f^^^^n
"BLD",1890,4,727.817,0)
727.817
"BLD",1890,4,727.817,222)
y^y^f^^^^n
"BLD",1890,4,727.818,0)
727.818
"BLD",1890,4,727.818,222)
y^y^f^^^^n
"BLD",1890,4,727.819,0)
727.819
"BLD",1890,4,727.819,222)
y^n^f^^^^n
"BLD",1890,4,727.823,0)
727.823
"BLD",1890,4,727.823,222)
y^n^f^^^^n
"BLD",1890,4,727.824,0)
727.824
"BLD",1890,4,727.824,222)
y^n^f^^^^n
"BLD",1890,4,727.825,0)
727.825
"BLD",1890,4,727.825,222)
y^n^f^^^^n
"BLD",1890,4,727.826,0)
727.826
"BLD",1890,4,727.826,222)
y^n^f^^^^n
"BLD",1890,4,728,0)
728
"BLD",1890,4,728,222)
y^n^f^^^^n
"BLD",1890,4,"B",727.5,727.5)

"BLD",1890,4,"B",727.802,727.802)

"BLD",1890,4,"B",727.804,727.804)

"BLD",1890,4,"B",727.805,727.805)

"BLD",1890,4,"B",727.806,727.806)

"BLD",1890,4,"B",727.808,727.808)

"BLD",1890,4,"B",727.809,727.809)

"BLD",1890,4,"B",727.81,727.81)

"BLD",1890,4,"B",727.811,727.811)

"BLD",1890,4,"B",727.812,727.812)

"BLD",1890,4,"B",727.813,727.813)

"BLD",1890,4,"B",727.814,727.814)

"BLD",1890,4,"B",727.815,727.815)

"BLD",1890,4,"B",727.816,727.816)

"BLD",1890,4,"B",727.817,727.817)

"BLD",1890,4,"B",727.818,727.818)

"BLD",1890,4,"B",727.819,727.819)

"BLD",1890,4,"B",727.823,727.823)

"BLD",1890,4,"B",727.824,727.824)

"BLD",1890,4,"B",727.825,727.825)

"BLD",1890,4,"B",727.826,727.826)

"BLD",1890,4,"B",728,728)

"BLD",1890,"INID")
^n
"BLD",1890,"INIT")
ECX324PT
"BLD",1890,"KRN",0)
^9.67PA^19^18
"BLD",1890,"KRN",.4,0)
.4
"BLD",1890,"KRN",.401,0)
.401
"BLD",1890,"KRN",.402,0)
.402
"BLD",1890,"KRN",.403,0)
.403
"BLD",1890,"KRN",.5,0)
.5
"BLD",1890,"KRN",.84,0)
.84
"BLD",1890,"KRN",3.6,0)
3.6
"BLD",1890,"KRN",3.8,0)
3.8
"BLD",1890,"KRN",3.8,"NM",0)
^9.68A^1^1
"BLD",1890,"KRN",3.8,"NM",1,0)
DSS-MTL^^0
"BLD",1890,"KRN",3.8,"NM","B","DSS-MTL",1)

"BLD",1890,"KRN",9.2,0)
9.2
"BLD",1890,"KRN",9.8,0)
9.8
"BLD",1890,"KRN",9.8,"NM",0)
^9.68A^44^44
"BLD",1890,"KRN",9.8,"NM",1,0)
ECX324PT^^0^B32872103
"BLD",1890,"KRN",9.8,"NM",2,0)
ECX324MH^^0^B4124468
"BLD",1890,"KRN",9.8,"NM",3,0)
ECXADM^^0^B18105686
"BLD",1890,"KRN",9.8,"NM",4,0)
ECXDENT^^0^B7325270
"BLD",1890,"KRN",9.8,"NM",5,0)
ECXDVSN2^^0^B40080633
"BLD",1890,"KRN",9.8,"NM",6,0)
ECXDVSNX^^0^B6385618
"BLD",1890,"KRN",9.8,"NM",7,0)
ECXEC^^0^B17249712
"BLD",1890,"KRN",9.8,"NM",8,0)
ECXKILL^^0^B15198099
"BLD",1890,"KRN",9.8,"NM",9,0)
ECXLABN^^0^B16678497
"BLD",1890,"KRN",9.8,"NM",10,0)
ECXLABR^^0^B10438432
"BLD",1890,"KRN",9.8,"NM",11,0)
ECXMOV^^0^B8957075
"BLD",1890,"KRN",9.8,"NM",12,0)
ECXMTL^^0^B15247236
"BLD",1890,"KRN",9.8,"NM",13,0)
ECXNURS^^0^B32184271
"BLD",1890,"KRN",9.8,"NM",14,0)
ECXOPRX^^0^B29873489
"BLD",1890,"KRN",9.8,"NM",15,0)
ECXPAI^^0^B7499944
"BLD",1890,"KRN",9.8,"NM",16,0)
ECXPIVD^^0^B13252556
"BLD",1890,"KRN",9.8,"NM",17,0)
ECXPIVDN^^0^B21968782
"BLD",1890,"KRN",9.8,"NM",18,0)
ECXPRO^^0^B15988280
"BLD",1890,"KRN",9.8,"NM",19,0)
ECXPRO1^^0^B31625633
"BLD",1890,"KRN",9.8,"NM",20,0)
ECXPRO2^^0^B11691305
"BLD",1890,"KRN",9.8,"NM",21,0)
ECXQSR^^0^B23467897
"BLD",1890,"KRN",9.8,"NM",22,0)
ECXRAD^^0^B17063758
"BLD",1890,"KRN",9.8,"NM",23,0)
ECXSCLD^^0^B61218025
"BLD",1890,"KRN",9.8,"NM",24,0)
ECXSCNS^^0^B15587168
"BLD",1890,"KRN",9.8,"NM",25,0)
ECXSCX1^^0^B43864831
"BLD",1890,"KRN",9.8,"NM",26,0)
ECXSCXN^^0^B62075178
"BLD",1890,"KRN",9.8,"NM",27,0)
ECXSURG^^0^B29437048
"BLD",1890,"KRN",9.8,"NM",28,0)
ECXTRAC^^0^B49157846
"BLD",1890,"KRN",9.8,"NM",29,0)
ECXTRANS^^0^B46002076
"BLD",1890,"KRN",9.8,"NM",30,0)
ECXTRT^^0^B35161355
"BLD",1890,"KRN",9.8,"NM",31,0)
ECXUD^^0^B9226505
"BLD",1890,"KRN",9.8,"NM",32,0)
ECXUTL2^^0^B27839754
"BLD",1890,"KRN",9.8,"NM",33,0)
ECXUTL3^^0^B46653535
"BLD",1890,"KRN",9.8,"NM",34,0)
ECXAMTL^^0^B31481343
"BLD",1890,"KRN",9.8,"NM",35,0)
ECXSETU1^^0^B27989181
"BLD",1890,"KRN",9.8,"NM",36,0)
ECXSETUP^^0^B26676278
"BLD",1890,"KRN",9.8,"NM",37,0)
ECXPIV1^^0^B306338
"BLD",1890,"KRN",9.8,"NM",38,0)
ECXPURG^^0^B15050523
"BLD",1890,"KRN",9.8,"NM",39,0)
ECXNDC^^0^B15382914
"BLD",1890,"KRN",9.8,"NM",40,0)
ECXDEFIN^^0^B43403193
"BLD",1890,"KRN",9.8,"NM",41,0)
ECXTAUTO^^0^B29951781
"BLD",1890,"KRN",9.8,"NM",42,0)
ECXPURG1^^0^B31669124
"BLD",1890,"KRN",9.8,"NM",43,0)
ECXCPRO^^0^B31400737
"BLD",1890,"KRN",9.8,"NM",44,0)
ECXLPRO^^0^B25266908
"BLD",1890,"KRN",9.8,"NM","B","ECX324MH",2)

"BLD",1890,"KRN",9.8,"NM","B","ECX324PT",1)

"BLD",1890,"KRN",9.8,"NM","B","ECXADM",3)

"BLD",1890,"KRN",9.8,"NM","B","ECXAMTL",34)

"BLD",1890,"KRN",9.8,"NM","B","ECXCPRO",43)

"BLD",1890,"KRN",9.8,"NM","B","ECXDEFIN",40)

"BLD",1890,"KRN",9.8,"NM","B","ECXDENT",4)

"BLD",1890,"KRN",9.8,"NM","B","ECXDVSN2",5)

"BLD",1890,"KRN",9.8,"NM","B","ECXDVSNX",6)

"BLD",1890,"KRN",9.8,"NM","B","ECXEC",7)

"BLD",1890,"KRN",9.8,"NM","B","ECXKILL",8)

"BLD",1890,"KRN",9.8,"NM","B","ECXLABN",9)

"BLD",1890,"KRN",9.8,"NM","B","ECXLABR",10)

"BLD",1890,"KRN",9.8,"NM","B","ECXLPRO",44)

"BLD",1890,"KRN",9.8,"NM","B","ECXMOV",11)

"BLD",1890,"KRN",9.8,"NM","B","ECXMTL",12)

"BLD",1890,"KRN",9.8,"NM","B","ECXNDC",39)

"BLD",1890,"KRN",9.8,"NM","B","ECXNURS",13)

"BLD",1890,"KRN",9.8,"NM","B","ECXOPRX",14)

"BLD",1890,"KRN",9.8,"NM","B","ECXPAI",15)

"BLD",1890,"KRN",9.8,"NM","B","ECXPIV1",37)

"BLD",1890,"KRN",9.8,"NM","B","ECXPIVD",16)

"BLD",1890,"KRN",9.8,"NM","B","ECXPIVDN",17)

"BLD",1890,"KRN",9.8,"NM","B","ECXPRO",18)

"BLD",1890,"KRN",9.8,"NM","B","ECXPRO1",19)

"BLD",1890,"KRN",9.8,"NM","B","ECXPRO2",20)

"BLD",1890,"KRN",9.8,"NM","B","ECXPURG",38)

"BLD",1890,"KRN",9.8,"NM","B","ECXPURG1",42)

"BLD",1890,"KRN",9.8,"NM","B","ECXQSR",21)

"BLD",1890,"KRN",9.8,"NM","B","ECXRAD",22)

"BLD",1890,"KRN",9.8,"NM","B","ECXSCLD",23)

"BLD",1890,"KRN",9.8,"NM","B","ECXSCNS",24)

"BLD",1890,"KRN",9.8,"NM","B","ECXSCX1",25)

"BLD",1890,"KRN",9.8,"NM","B","ECXSCXN",26)

"BLD",1890,"KRN",9.8,"NM","B","ECXSETU1",35)

"BLD",1890,"KRN",9.8,"NM","B","ECXSETUP",36)

"BLD",1890,"KRN",9.8,"NM","B","ECXSURG",27)

"BLD",1890,"KRN",9.8,"NM","B","ECXTAUTO",41)

"BLD",1890,"KRN",9.8,"NM","B","ECXTRAC",28)

"BLD",1890,"KRN",9.8,"NM","B","ECXTRANS",29)

"BLD",1890,"KRN",9.8,"NM","B","ECXTRT",30)

"BLD",1890,"KRN",9.8,"NM","B","ECXUD",31)

"BLD",1890,"KRN",9.8,"NM","B","ECXUTL2",32)

"BLD",1890,"KRN",9.8,"NM","B","ECXUTL3",33)

"BLD",1890,"KRN",19,0)
19
"BLD",1890,"KRN",19,"NM",0)
^9.68A^11^11
"BLD",1890,"KRN",19,"NM",1,0)
ECXSCX^^0
"BLD",1890,"KRN",19,"NM",2,0)
ECXMTL^^0
"BLD",1890,"KRN",19,"NM",3,0)
ECX MTL SOURCE AUDIT^^0
"BLD",1890,"KRN",19,"NM",4,0)
ECXMENU^^2
"BLD",1890,"KRN",19,"NM",5,0)
ECX SOURCE AUDITS^^2
"BLD",1890,"KRN",19,"NM",6,0)
ECX DIVISION ID^^0
"BLD",1890,"KRN",19,"NM",7,0)
ECX DSSDEPT DECODE^^0
"BLD",1890,"KRN",19,"NM",8,0)
ECX DSSDEPT MGMT^^0
"BLD",1890,"KRN",19,"NM",9,0)
ECX SET MAX LINES^^0
"BLD",1890,"KRN",19,"NM",10,0)
ECX WARD DSSDEPT^^0
"BLD",1890,"KRN",19,"NM",11,0)
ECX PRO LAB REPORT^^0
"BLD",1890,"KRN",19,"NM","B","ECX DIVISION ID",6)

"BLD",1890,"KRN",19,"NM","B","ECX DSSDEPT DECODE",7)

"BLD",1890,"KRN",19,"NM","B","ECX DSSDEPT MGMT",8)

"BLD",1890,"KRN",19,"NM","B","ECX MTL SOURCE AUDIT",3)

"BLD",1890,"KRN",19,"NM","B","ECX PRO LAB REPORT",11)

"BLD",1890,"KRN",19,"NM","B","ECX SET MAX LINES",9)

"BLD",1890,"KRN",19,"NM","B","ECX SOURCE AUDITS",5)

"BLD",1890,"KRN",19,"NM","B","ECX WARD DSSDEPT",10)

"BLD",1890,"KRN",19,"NM","B","ECXMENU",4)

"BLD",1890,"KRN",19,"NM","B","ECXMTL",2)

"BLD",1890,"KRN",19,"NM","B","ECXSCX",1)

"BLD",1890,"KRN",19.1,0)
19.1
"BLD",1890,"KRN",101,0)
101
"BLD",1890,"KRN",409.61,0)
409.61
"BLD",1890,"KRN",771,0)
771
"BLD",1890,"KRN",869.2,0)
869.2
"BLD",1890,"KRN",870,0)
870
"BLD",1890,"KRN",8994,0)
8994
"BLD",1890,"KRN","B",.4,.4)

"BLD",1890,"KRN","B",.401,.401)

"BLD",1890,"KRN","B",.402,.402)

"BLD",1890,"KRN","B",.403,.403)

"BLD",1890,"KRN","B",.5,.5)

"BLD",1890,"KRN","B",.84,.84)

"BLD",1890,"KRN","B",3.6,3.6)

"BLD",1890,"KRN","B",3.8,3.8)

"BLD",1890,"KRN","B",9.2,9.2)

"BLD",1890,"KRN","B",9.8,9.8)

"BLD",1890,"KRN","B",19,19)

"BLD",1890,"KRN","B",19.1,19.1)

"BLD",1890,"KRN","B",101,101)

"BLD",1890,"KRN","B",409.61,409.61)

"BLD",1890,"KRN","B",771,771)

"BLD",1890,"KRN","B",869.2,869.2)

"BLD",1890,"KRN","B",870,870)

"BLD",1890,"KRN","B",8994,8994)

"BLD",1890,"QUES",0)
^9.62^^
"BLD",1890,"REQB",0)
^9.611^4^4
"BLD",1890,"REQB",1,0)
ECX*3.0*21^2
"BLD",1890,"REQB",2,0)
ECX*3.0*25^2
"BLD",1890,"REQB",3,0)
ECX*3.0*26^2
"BLD",1890,"REQB",4,0)
ECX*3.0*28^2
"BLD",1890,"REQB","B","ECX*3.0*21",1)

"BLD",1890,"REQB","B","ECX*3.0*25",2)

"BLD",1890,"REQB","B","ECX*3.0*26",3)

"BLD",1890,"REQB","B","ECX*3.0*28",4)

"FIA",727.5)
DSS MH TESTS
"FIA",727.5,0)
^ECX(727.5,
"FIA",727.5,0,0)
727.5P
"FIA",727.5,0,1)
y^y^f^^n^^n^o^n
"FIA",727.5,0,10)

"FIA",727.5,0,11)

"FIA",727.5,0,"RLRO")

"FIA",727.5,0,"VR")
3.0^ECX
"FIA",727.5,727.5)
0
"FIA",727.5,727.51)
0
"FIA",727.802)
ADMISSION EXTRACT
"FIA",727.802,0)
^ECX(727.802,
"FIA",727.802,0,0)
727.802
"FIA",727.802,0,1)
y^n^f^^^^n
"FIA",727.802,0,10)

"FIA",727.802,0,11)

"FIA",727.802,0,"RLRO")

"FIA",727.802,0,"VR")
3.0^ECX
"FIA",727.802,727.802)
0
"FIA",727.804)
CLINIC NOSHOW EXTRACT
"FIA",727.804,0)
^ECX(727.804,
"FIA",727.804,0,0)
727.804
"FIA",727.804,0,1)
y^n^f^^^^n
"FIA",727.804,0,10)

"FIA",727.804,0,11)

"FIA",727.804,0,"RLRO")

"FIA",727.804,0,"VR")
3.0^ECX
"FIA",727.804,727.804)
0
"FIA",727.805)
NURSING EXTRACT
"FIA",727.805,0)
^ECX(727.805,
"FIA",727.805,0,0)
727.805
"FIA",727.805,0,1)
y^n^f^^^^n
"FIA",727.805,0,10)

"FIA",727.805,0,11)

"FIA",727.805,0,"RLRO")

"FIA",727.805,0,"VR")
3.0^ECX
"FIA",727.805,727.805)
0
"FIA",727.806)
DENTAL EXTRACT
"FIA",727.806,0)
^ECX(727.806,
"FIA",727.806,0,0)
727.806
"FIA",727.806,0,1)
y^n^f^^^^n
"FIA",727.806,0,10)

"FIA",727.806,0,11)

"FIA",727.806,0,"RLRO")

"FIA",727.806,0,"VR")
3.0^ECX
"FIA",727.806,727.806)
0
"FIA",727.808)
PHYSICAL MOVEMENT EXTRACT
"FIA",727.808,0)
^ECX(727.808,
"FIA",727.808,0,0)
727.808
"FIA",727.808,0,1)
y^n^f^^^^n
"FIA",727.808,0,10)

"FIA",727.808,0,11)

"FIA",727.808,0,"RLRO")

"FIA",727.808,0,"VR")
3.0^ECX
"FIA",727.808,727.808)
0
"FIA",727.809)
UNIT DOSE LOCAL EXTRACT
"FIA",727.809,0)
^ECX(727.809,
"FIA",727.809,0,0)
727.809
"FIA",727.809,0,1)
y^n^f^^^^n
"FIA",727.809,0,10)

"FIA",727.809,0,11)

"FIA",727.809,0,"RLRO")

"FIA",727.809,0,"VR")
3.0^ECX
"FIA",727.809,727.809)
0
"FIA",727.81)
PRESCRIPTION EXTRACT
"FIA",727.81,0)
^ECX(727.81,
"FIA",727.81,0,0)
727.81
"FIA",727.81,0,1)
y^n^f^^^^n
"FIA",727.81,0,10)

"FIA",727.81,0,11)

"FIA",727.81,0,"RLRO")

"FIA",727.81,0,"VR")
3.0^ECX
"FIA",727.81,727.81)
0
"FIA",727.811)
SURGERY EXTRACT
"FIA",727.811,0)
^ECX(727.811,
"FIA",727.811,0,0)
727.811
"FIA",727.811,0,1)
y^n^f^^^^n
"FIA",727.811,0,10)

"FIA",727.811,0,11)

"FIA",727.811,0,"RLRO")

"FIA",727.811,0,"VR")
3.0^ECX
"FIA",727.811,727.811)
0
"FIA",727.812)
MENTAL HEALTH EXTRACT
"FIA",727.812,0)
^ECX(727.812,
"FIA",727.812,0,0)
727.812
"FIA",727.812,0,1)
y^n^f^^^^n
"FIA",727.812,0,10)

"FIA",727.812,0,11)

"FIA",727.812,0,"RLRO")

"FIA",727.812,0,"VR")
3.0^ECX
"FIA",727.812,727.812)
0
"FIA",727.813)
LABORATORY EXTRACT
"FIA",727.813,0)
^ECX(727.813,
"FIA",727.813,0,0)
727.813
"FIA",727.813,0,1)
y^n^f^^^^n
"FIA",727.813,0,10)

"FIA",727.813,0,11)

"FIA",727.813,0,"RLRO")

"FIA",727.813,0,"VR")
3.0^ECX
"FIA",727.813,727.813)
0
"FIA",727.814)
RADIOLOGY EXTRACT
"FIA",727.814,0)
^ECX(727.814,
"FIA",727.814,0,0)
727.814
"FIA",727.814,0,1)
y^n^f^^^^n
"FIA",727.814,0,10)

"FIA",727.814,0,11)

"FIA",727.814,0,"RLRO")

"FIA",727.814,0,"VR")
3.0^ECX
"FIA",727.814,727.814)
0
"FIA",727.815)
EVENT CAPTURE LOCAL EXTRACT
"FIA",727.815,0)
^ECX(727.815,
"FIA",727.815,0,0)
727.815
"FIA",727.815,0,1)
y^n^f^^^^n
"FIA",727.815,0,10)

"FIA",727.815,0,11)

"FIA",727.815,0,"RLRO")

"FIA",727.815,0,"VR")
3.0^ECX
"FIA",727.815,727.815)
0
"FIA",727.816)
CLINIC I EXTRACT
"FIA",727.816,0)
^ECX(727.816,
"FIA",727.816,0,0)
727.816
"FIA",727.816,0,1)
y^y^f^^^^n
"FIA",727.816,0,10)

"FIA",727.816,0,11)

"FIA",727.816,0,"RLRO")

"FIA",727.816,0,"VR")
3.0^ECX
"FIA",727.816,727.816)
0
"FIA",727.817)
TREATING SPECIALTY CHANGE EXTRACT
"FIA",727.817,0)
^ECX(727.817,
"FIA",727.817,0,0)
727.817
"FIA",727.817,0,1)
y^y^f^^^^n
"FIA",727.817,0,10)

"FIA",727.817,0,11)

"FIA",727.817,0,"RLRO")

"FIA",727.817,0,"VR")
3.0^ECX
"FIA",727.817,727.817)
0
"FIA",727.818)
CLINIC II EXTRACT
"FIA",727.818,0)
^ECX(727.818,
"FIA",727.818,0,0)
727.818
"FIA",727.818,0,1)
y^y^f^^^^n
"FIA",727.818,0,10)

"FIA",727.818,0,11)

"FIA",727.818,0,"RLRO")

"FIA",727.818,0,"VR")
3.0^ECX
"FIA",727.818,727.818)
0
"FIA",727.819)
IV DETAIL EXTRACT
"FIA",727.819,0)
^ECX(727.819,
"FIA",727.819,0,0)
727.819
"FIA",727.819,0,1)
y^n^f^^^^n
"FIA",727.819,0,10)

"FIA",727.819,0,11)

"FIA",727.819,0,"RLRO")

"FIA",727.819,0,"VR")
3.0^ECX
"FIA",727.819,727.819)
0
"FIA",727.823)
PAI EXTRACT
"FIA",727.823,0)
^ECX(727.823,
"FIA",727.823,0,0)
727.823
"FIA",727.823,0,1)
y^n^f^^^^n
"FIA",727.823,0,10)

"FIA",727.823,0,11)

"FIA",727.823,0,"RLRO")

"FIA",727.823,0,"VR")
3.0^ECX
"FIA",727.823,727.823)
0
"FIA",727.824)
LAB RESULTS EXTRACT
"FIA",727.824,0)
^ECX(727.824,
"FIA",727.824,0,0)
727.824
"FIA",727.824,0,1)
y^n^f^^^^n
"FIA",727.824,0,10)

"FIA",727.824,0,11)

"FIA",727.824,0,"RLRO")

"FIA",727.824,0,"VR")
3.0^ECX
"FIA",727.824,727.824)
0
"FIA",727.825)
QUASAR EXTRACT
"FIA",727.825,0)
^ECX(727.825,
"FIA",727.825,0,0)
727.825
"FIA",727.825,0,1)
y^n^f^^^^n
"FIA",727.825,0,10)

"FIA",727.825,0,11)

"FIA",727.825,0,"RLRO")

"FIA",727.825,0,"VR")
3.0^ECX
"FIA",727.825,727.825)
0
"FIA",727.826)
PROSTHETICS EXTRACT
"FIA",727.826,0)
^ECX(727.826,
"FIA",727.826,0,0)
727.826
"FIA",727.826,0,1)
y^n^f^^^^n
"FIA",727.826,0,10)

"FIA",727.826,0,11)

"FIA",727.826,0,"RLRO")

"FIA",727.826,0,"VR")
3.0^ECX
"FIA",727.826,727.826)
0
"FIA",728)
DSS EXTRACTS
"FIA",728,0)
^ECX(728,
"FIA",728,0,0)
728P
"FIA",728,0,1)
y^n^f^^^^n
"FIA",728,0,10)

"FIA",728,0,11)

"FIA",728,0,"RLRO")

"FIA",728,0,"VR")
3.0^ECX
"FIA",728,728)
0
"FIA",728,728.059)
0
"INIT")
ECX324PT
"KRN",3.8,241,-1)
0^1
"KRN",3.8,241,0)
DSS-MTL^PU^n^^^0^
"KRN",3.8,241,2,0)
^^2^2^2990913^^^^
"KRN",3.8,241,2,1,0)
This mail group contains users responsible for DSS extracts.  A
"KRN",3.8,241,2,2,0)
message is sent to this group upon completion of package extracts.
"KRN",3.8,241,3)

"KRN",19,10119,-1)
2^4
"KRN",19,10119,0)
ECXMENU^Package Extracts^^M^11714^ECXMGR^^^^^^513
"KRN",19,10119,10,0)
^19.01PI^22^22
"KRN",19,10119,10,13,0)
10128^CLI^15
"KRN",19,10119,10,13,"^")
ECXSCX
"KRN",19,10119,10,22,0)
11347^MTL^47
"KRN",19,10119,10,22,"^")
ECXMTL
"KRN",19,10119,"U")
PACKAGE EXTRACTS
"KRN",19,10128,-1)
0^1
"KRN",19,10128,0)
ECXSCX^Clinic Visit Extract^^R^^^^^^^^DSS EXTRACTS
"KRN",19,10128,1,0)
^^5^5^2990519^^^^
"KRN",19,10128,1,1,0)
Extract Clinic visit data.
"KRN",19,10128,1,2,0)
This option provides the extract manager the ability to extract the
"KRN",19,10128,1,3,0)
clinic visit data for a selected date range. This data is stored in the
"KRN",19,10128,1,4,0)
CLINIC I EXTRACT file (#727.816) and in the CLINIC II EXTRACT file
"KRN",19,10128,1,5,0)
(#727.818) until data is transmitted to the commercial vendor.
"KRN",19,10128,25)
BEG^ECXSCXN
"KRN",19,10128,"U")
CLINIC VISIT EXTRACT
"KRN",19,10149,-1)
2^5
"KRN",19,10149,0)
ECX SOURCE AUDITS^Extract Audit Reports Menu^^M^11714^^^^^^^513
"KRN",19,10149,10,0)
^19.01PI^14^14
"KRN",19,10149,10,14,0)
11348^MTL^32
"KRN",19,10149,10,14,"^")
ECX MTL SOURCE AUDIT
"KRN",19,10149,"U")
EXTRACT AUDIT REPORTS MENU
"KRN",19,10850,-1)
0^6
"KRN",19,10850,0)
ECX DIVISION ID^Enter/Edit DSS Division Identifier^^R^^ECXMGR^^^^^^DSS EXTRACTS
"KRN",19,10850,1,0)
^^3^3^2980721^^
"KRN",19,10850,1,1,0)
This option should only be used by the DSS Site Manager to enter or
"KRN",19,10850,1,2,0)
edit the DSS Division Identifier associated with any medical center
"KRN",19,10850,1,3,0)
division.
"KRN",19,10850,25)
EN^ECXDVSNX
"KRN",19,10850,"U")
ENTER/EDIT DSS DIVISION IDENTI
"KRN",19,10851,-1)
0^10
"KRN",19,10851,0)
ECX WARD DSSDEPT^Enter/Edit DSS Ward^^R^^ECXMGR^^^^^^DSS EXTRACTS
"KRN",19,10851,1,0)
^^3^3^2980721^
"KRN",19,10851,1,1,0)
This option should only be used by the DSS Site Manager to enter or
"KRN",19,10851,1,2,0)
edit the DSS Department code associated with each medical center
"KRN",19,10851,1,3,0)
ward.
"KRN",19,10851,25)
EN^ECXWRDX
"KRN",19,10851,"U")
ENTER/EDIT DSS WARD
"KRN",19,10852,-1)
0^7
"KRN",19,10852,0)
ECX DSSDEPT DECODE^Decode a DSS Department Code^^R^^^^^^^^DSS EXTRACTS
"KRN",19,10852,1,0)
^^12^12^2980721^
"KRN",19,10852,1,1,0)
This option will allow the user to enter a 4-character string, which
"KRN",19,10852,1,2,0)
will then be 'decoded' as if it were a DSS Department code.
"KRN",19,10852,1,3,0)
 
"KRN",19,10852,1,4,0)
DSS Department codes are of the format
"KRN",19,10852,1,5,0)
 
"KRN",19,10852,1,6,0)
   ABBCxxx
"KRN",19,10852,1,7,0)
   where: A = DSS Clinical Service code
"KRN",19,10852,1,8,0)
         BB = DSS Production Unit code
"KRN",19,10852,1,9,0)
          C = DSS Division Identifier code
"KRN",19,10852,1,10,0)
        xxx = suffix (optional)
"KRN",19,10852,1,11,0)
 
"KRN",19,10852,1,12,0)
Only the ABBC portion is decoded.
"KRN",19,10852,25)
DECODE^ECXDSSD
"KRN",19,10852,"U")
DECODE A DSS DEPARTMENT CODE
"KRN",19,10853,-1)
0^8
"KRN",19,10853,0)
ECX DSSDEPT MGMT^DSS Department Management^^M^^^^^^^^DSS EXTRACTS
"KRN",19,10853,1,0)
^^2^2^2980721^
"KRN",19,10853,1,1,0)
This menu holds the set of options needed for DSS Department management
"KRN",19,10853,1,2,0)
functions.
"KRN",19,10853,10,0)
^19.01IP^4^4
"KRN",19,10853,10,1,0)
10850^1^1
"KRN",19,10853,10,1,"^")
ECX DIVISION ID
"KRN",19,10853,10,2,0)
10851^2^2
"KRN",19,10853,10,2,"^")
ECX WARD DSSDEPT
"KRN",19,10853,10,4,0)
10852^4^4
"KRN",19,10853,10,4,"^")
ECX DSSDEPT DECODE
"KRN",19,10853,99)
57622,30713
"KRN",19,10853,"U")
DSS DEPARTMENT MANAGEMENT
"KRN",19,11237,-1)
0^11
"KRN",19,11237,0)
ECX PRO LAB REPORT^Prosthetics (PRO) YTD Laboratory Report^^R^^^^^^^^DSS EXTRACTS
"KRN",19,11237,1,0)
^^10^10^2990324^^^
"KRN",19,11237,1,1,0)
This report option will list PRO extract data by HCPCS code for items 
"KRN",19,11237,1,2,0)
produced within the Prosthetics laboratories of the facilty.  Data is
"KRN",19,11237,1,3,0)
accumulated from all extract records for extracts dated within the 
"KRN",19,11237,1,4,0)
beginning and end of a fiscal year.  
"KRN",19,11237,1,5,0)
  
"KRN",19,11237,1,6,0)
If the site is non-divisional, data is reported under the facility Station
"KRN",19,11237,1,7,0)
Number.
"KRN",19,11237,1,8,0)
  
"KRN",19,11237,1,9,0)
If the site is multi-divisional (for Prosthetics), data is reported for
"KRN",19,11237,1,10,0)
for all divisions belonging to the same primary station/division.
"KRN",19,11237,25)
EN^ECXLPRO
"KRN",19,11237,"U")
PROSTHETICS (PRO) YTD LABORATO
"KRN",19,11338,-1)
0^9
"KRN",19,11338,0)
ECX SET MAX LINES^Set Maximum Line Count for Transmission^^R^^ECXMGR^^^^^^DSS EXTRACTS
"KRN",19,11338,1,0)
^^8^8^2990416^^^
"KRN",19,11338,1,1,0)
This option allows the DSS Site Manager to set the maximum number
"KRN",19,11338,1,2,0)
of lines per transmission message for any extract type.
"KRN",19,11338,1,3,0)
 
"KRN",19,11338,1,4,0)
The default value is 200 lines per message.  Certain extracts,
"KRN",19,11338,1,5,0)
such as CLI and ADM, are known to require fewer lines per message
"KRN",19,11338,1,6,0)
(i.e., 100 to 150).  It may be possible to set some extracts to
"KRN",19,11338,1,7,0)
line counts greater than 200, but caution must be exercised.
"KRN",19,11338,1,8,0)
Messages which are larger than 32 Kbytes will be rejected by AAC.
"KRN",19,11338,25)
SETMAX^ECXUTL2
"KRN",19,11338,99.1)
57988,44790
"KRN",19,11338,"U")
SET MAXIMUM LINE COUNT FOR TRA
"KRN",19,11347,-1)
0^2
"KRN",19,11347,0)
ECXMTL^Mental Health Extract^^R^^^^^^^^DSS EXTRACTS
"KRN",19,11347,1,0)
^^4^4^2990527^
"KRN",19,11347,1,1,0)
This option provides the extract manager the ability to extract Mental 
"KRN",19,11347,1,2,0)
Health diagnostic data for a selected date range. This data is stored 
"KRN",19,11347,1,3,0)
in the MENTAL HEALTH EXTRACT file (#727.812) until the data is 
"KRN",19,11347,1,4,0)
transmitted to the commercial vendor.  
"KRN",19,11347,25)
BEG^ECXMTL
"KRN",19,11347,"U")
MENTAL HEALTH EXTRACT
"KRN",19,11348,-1)
0^3
"KRN",19,11348,0)
ECX MTL SOURCE AUDIT^Mental Health (MTL) Extract Audit^^R^^^^^^^^DSS EXTRACTS
"KRN",19,11348,1,0)
^^16^16^2990603^
"KRN",19,11348,1,1,0)
This option will generate a report from the MENTAL HEALTH EXTRACT
"KRN",19,11348,1,2,0)
file (#727.812) which will allow the DSS extract manager to
"KRN",19,11348,1,3,0)
verify extract data before transmission to the Austin Automation
"KRN",19,11348,1,4,0)
Center.
"KRN",19,11348,1,5,0)
  
"KRN",19,11348,1,6,0)
The following VistA application reports should be of assistance
"KRN",19,11348,1,7,0)
in the verification process:
"KRN",19,11348,1,8,0)
  
"KRN",19,11348,1,9,0)
Report Title - USAGE STATISTICS
"KRN",19,11348,1,10,0)
Menu Option -  Usage Statistics [YSMUSE]
"KRN",19,11348,1,11,0)
   
"KRN",19,11348,1,12,0)
Report Title - Addiction Severity Index Status Report
"KRN",19,11348,1,13,0)
Menu Option - Site Report by Date [YSAS MANAGEMENT REPORT]
"KRN",19,11348,1,14,0)
  
"KRN",19,11348,1,15,0)
Be sure that the extract audit report and the external application
"KRN",19,11348,1,16,0)
report are generated for the same date or date range.
"KRN",19,11348,25)
EN^ECXAMTL
"KRN",19,11348,"U")
MENTAL HEALTH (MTL) EXTRACT AU
"MBREQ")
0
"ORD",11,3.8)
3.8;11;;;MAILG^XPDTA1;MAILGF1^XPDIA1;MAILGE1^XPDIA1;MAILGF2^XPDIA1
"ORD",11,3.8,0)
MAIL GROUP
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",513,-1)
1^1
"PKG",513,0)
DSS EXTRACTS^ECX^Decision Support System. (DSS)
"PKG",513,20,0)
^9.402P^^
"PKG",513,22,0)
^9.49I^1^1
"PKG",513,22,1,0)
3.0^2971222^2980112^11714
"PKG",513,22,1,"PAH",1,0)
24^2991015
"PKG",513,22,1,"PAH",1,1,0)
^^1^1^2991015
"PKG",513,22,1,"PAH",1,1,1,0)
DSS FY2000 Update
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
44
"RTN","ECX324MH")
0^2^B4124468
"RTN","ECX324MH",1,0)
ECX324MH ;ALB/JAP - PATCH ECX*3*24 Post-Install for MTL ; June 3, 1999
"RTN","ECX324MH",2,0)
 ;;3.0;DSS EXTRACTS;**24**;Dec 22, 1997
"RTN","ECX324MH",3,0)
 ;
"RTN","ECX324MH",4,0)
EN ;Entry point
"RTN","ECX324MH",5,0)
 ;update file #727.5 with new record data
"RTN","ECX324MH",6,0)
 N DIC,DIE,DA,DR,DLAYGO,X,Y,DATA,DATE,IEN,HEAD,MAX,NAME,ECX,ECXX
"RTN","ECX324MH",7,0)
 D MES^XPDUTL("Updating DSS MH TESTS file (#727.5) with data based on")
"RTN","ECX324MH",8,0)
 D MES^XPDUTL("your site's MH INSTRUMENT file (#601)...")
"RTN","ECX324MH",9,0)
 D MES^XPDUTL(" ")
"RTN","ECX324MH",10,0)
 F ECX=1:1 S ECXX=$P($T(TEXT+ECX),";;",2) Q:ECXX="QUIT"  D
"RTN","ECX324MH",11,0)
 .S IEN=$P(ECXX,";",1),DATA=$P(ECXX,";",2),NAME=$P(DATA,U,1),DATE=$P(DATA,U,2)
"RTN","ECX324MH",12,0)
 .S DIC="^YTT(601,",DIC(0)="XO",X=NAME D ^DIC
"RTN","ECX324MH",13,0)
 .Q:Y=-1
"RTN","ECX324MH",14,0)
 .K X,Y,DD,DO S DIC="^ECX(727.5,",DIC(0)="L",DLAYGO=727.5,X=NAME,DINUM=IEN
"RTN","ECX324MH",15,0)
 .D FILE^DICN
"RTN","ECX324MH",16,0)
 .I Y=-1 D  Q
"RTN","ECX324MH",17,0)
 ..I $D(^ECX(727.5,IEN)),$P(^ECX(727.5,IEN,0),U)=NAME D  Q
"RTN","ECX324MH",18,0)
 ...D MES^XPDUTL("   Entry #"_IEN_" for "_NAME_" already exists in File #727.5.")
"RTN","ECX324MH",19,0)
 ...D MES^XPDUTL(" ")
"RTN","ECX324MH",20,0)
 ..D MES^XPDUTL("   WARNING: Could not update entry #"_IEN_" for "_NAME_" in File #727.5.")
"RTN","ECX324MH",21,0)
 ..D MES^XPDUTL("            Please consult with NVS for DSS EXTRACTS support.")
"RTN","ECX324MH",22,0)
 ..D MES^XPDUTL(" ")
"RTN","ECX324MH",23,0)
 .D MES^XPDUTL("   Setting record #"_IEN_" for the "_NAME_" in File #727.5 ...")
"RTN","ECX324MH",24,0)
 .K X,Y,DD,DO,DINUM
"RTN","ECX324MH",25,0)
 .S DIC="^ECX(727.5,"_IEN_",1,",DIC(0)="L",DLAYGO=727.51,DIC("P")=$P(^DD(727.5,1,0),U,2),DA(1)=IEN,DA=1,X=DATE
"RTN","ECX324MH",26,0)
 .D FILE^DICN
"RTN","ECX324MH",27,0)
 .D MES^XPDUTL(" ok.")
"RTN","ECX324MH",28,0)
 .D MES^XPDUTL(" ")
"RTN","ECX324MH",29,0)
 Q
"RTN","ECX324MH",30,0)
 ;
"RTN","ECX324MH",31,0)
TEXT ;data for file #727.5 records
"RTN","ECX324MH",32,0)
 ;;1;CRS^2991001
"RTN","ECX324MH",33,0)
 ;;2;ZUNG^2991001
"RTN","ECX324MH",34,0)
 ;;3;BDI^2991001
"RTN","ECX324MH",35,0)
 ;;4;CAGE^2991001
"RTN","ECX324MH",36,0)
 ;;5;DOM80^2991001
"RTN","ECX324MH",37,0)
 ;;6;DOM81^2991001
"RTN","ECX324MH",38,0)
 ;;7;DOM82^2991001
"RTN","ECX324MH",39,0)
 ;;8;DOMG^2991001
"RTN","ECX324MH",40,0)
 ;;QUIT
"RTN","ECX324PT")
0^1^B32872103
"RTN","ECX324PT",1,0)
ECX324PT ;ALB/JAP - PATCH ECX*3*24 Post-Install ; June 3, 1999
"RTN","ECX324PT",2,0)
 ;;3.0;DSS EXTRACTS;**24**;Dec 22, 1997
"RTN","ECX324PT",3,0)
 ;
"RTN","ECX324PT",4,0)
POST ;Entry point
"RTN","ECX324PT",5,0)
 N DIC,DIE,DA,DR,DINUM,X,Y,J,IEN,ECXX,DATA,NAME,FILE,FREQ,TYPE,HEAD,MAX,GRP,PIECE,ROU,XF
"RTN","ECX324PT",6,0)
 ;inactivate fy99 clinic extract; record #2
"RTN","ECX324PT",7,0)
 S XF=$P(^ECX(727.1,2,0),U,2)
"RTN","ECX324PT",8,0)
 I XF'=727.803 D  Q
"RTN","ECX324PT",9,0)
 .D MES^XPDUTL("   WARNING: Could not find FY1999 Clinic Visit Extract definition in")
"RTN","ECX324PT",10,0)
 .D MES^XPDUTL("            File #727.1 in order to inactivate.")
"RTN","ECX324PT",11,0)
 .D MES^XPDUTL(" ")
"RTN","ECX324PT",12,0)
 .D MES^XPDUTL("            No further updates attempted.  Exiting...")
"RTN","ECX324PT",13,0)
 .D MES^XPDUTL(" ")
"RTN","ECX324PT",14,0)
 .D MES^XPDUTL("            Please consult with NVS for DSS EXTRACTS support.")
"RTN","ECX324PT",15,0)
 .D MES^XPDUTL(" ")
"RTN","ECX324PT",16,0)
 S DIE="^ECX(727.1,",DA=2,HEAD="ZZZ",TYPE="Clinic/Inactive",DR="7///^S X=TYPE;8///^S X=HEAD" D ^DIE
"RTN","ECX324PT",17,0)
 D MES^XPDUTL("OK... Clinic Visit Extract (CLI) for FY1999 has been inactivated.")
"RTN","ECX324PT",18,0)
 D MES^XPDUTL(" ")
"RTN","ECX324PT",19,0)
 ;update file #727.1 with new record data
"RTN","ECX324PT",20,0)
 D MES^XPDUTL("Updating EXTRACT DEFINITIONS file (#727.1) with new extract")
"RTN","ECX324PT",21,0)
 D MES^XPDUTL("definitions...")
"RTN","ECX324PT",22,0)
 D MES^XPDUTL(" ")
"RTN","ECX324PT",23,0)
 F J=1:1 S ECXX=$P($T(TEXT+J),";;",2) Q:ECXX="QUIT"  D
"RTN","ECX324PT",24,0)
 .K DD,DO
"RTN","ECX324PT",25,0)
 .S IEN=$P(ECXX,";",1),DATA=$P(ECXX,";",2),NAME=$P(DATA,U,1)
"RTN","ECX324PT",26,0)
 .S FILE=$P(DATA,U,2),FREQ=$P(DATA,U,3),TYPE=$P(DATA,U,7),HEAD=$P(DATA,U,8)
"RTN","ECX324PT",27,0)
 .S GRP=$P(DATA,U,9),PIECE=$P(DATA,U,10),MAX=$P(DATA,U,11),ROU=$P(DATA,U,12)
"RTN","ECX324PT",28,0)
 .K X,Y S DIC="^ECX(727.1,",DIC(0)="L",X=NAME,DINUM=IEN
"RTN","ECX324PT",29,0)
 .S DIC("DR")="1///"_FILE_";2///"_FREQ_";7///"_TYPE_";8///"_HEAD_";9///"_GRP_";11///"_PIECE_";12///"_MAX_";4///"_ROU
"RTN","ECX324PT",30,0)
 .D FILE^DICN
"RTN","ECX324PT",31,0)
 .I Y=-1 D  Q
"RTN","ECX324PT",32,0)
 ..I $D(^ECX(727.1,IEN)),$O(^ECX(727.1,"AF",FILE,0))=IEN D  Q
"RTN","ECX324PT",33,0)
 ...D MES^XPDUTL("   Entry #"_IEN_" for "_NAME_" extract already exists.")
"RTN","ECX324PT",34,0)
 ...D MES^XPDUTL(" ")
"RTN","ECX324PT",35,0)
 ..D MES^XPDUTL("   WARNING: Could not update entry #"_IEN_" for "_NAME_" extract.")
"RTN","ECX324PT",36,0)
 ..D MES^XPDUTL("            Please consult with NVS for DSS EXTRACTS support.")
"RTN","ECX324PT",37,0)
 ..D MES^XPDUTL(" ")
"RTN","ECX324PT",38,0)
 .D MES^XPDUTL("   Setting record #"_IEN_" for the "_NAME_" extract... ok.")
"RTN","ECX324PT",39,0)
 .D MES^XPDUTL(" ")
"RTN","ECX324PT",40,0)
 ;set audit description for mental health
"RTN","ECX324PT",41,0)
 I '$D(^ECX(727.1,11,1)) D
"RTN","ECX324PT",42,0)
 .K DIE,DIC,DR,DA
"RTN","ECX324PT",43,0)
 .F J=1:1 S ECXX=$P($T(MTL+J),";;",2) Q:ECXX="QUIT"  S ^TMP($J,"WP",J)=ECXX
"RTN","ECX324PT",44,0)
 .D WP^DIE(727.1,"11,",10,,"^TMP($J,""WP"")")
"RTN","ECX324PT",45,0)
 .K ^TMP($J,"WP")
"RTN","ECX324PT",46,0)
 ;set all frequency fields to "m" in file #727.1
"RTN","ECX324PT",47,0)
 S J=0 F  S J=$O(^ECX(727.1,J)) Q:'J  D
"RTN","ECX324PT",48,0)
 .S $P(^ECX(727.1,J,0),U,3)="M",$P(^(0),U,4)="",$P(^(0),U,5)="",$P(^(0),U,6)=""
"RTN","ECX324PT",49,0)
 ;set entries in file #727.5
"RTN","ECX324PT",50,0)
 D EN^ECX324MH
"RTN","ECX324PT",51,0)
 D OPT
"RTN","ECX324PT",52,0)
 D ADD7272
"RTN","ECX324PT",53,0)
 Q
"RTN","ECX324PT",54,0)
 ;
"RTN","ECX324PT",55,0)
TEXT ;data for file #727.1 records
"RTN","ECX324PT",56,0)
 ;;11;MENTAL HEALTH^727.812^M^^^^Mental Health^MTL^MTL^24^200^ECXMTL
"RTN","ECX324PT",57,0)
 ;;21;CLINIC I^727.816^M^^^^Clinic^CLI^SCX^25^200^ECXSCXN
"RTN","ECX324PT",58,0)
 ;;22;CLINIC II^727.818^M^^^^Clinic II^CLJ^SCX^26^200^ECXSCXN
"RTN","ECX324PT",59,0)
 ;;QUIT
"RTN","ECX324PT",60,0)
 ;
"RTN","ECX324PT",61,0)
OPT ;place option back in-service
"RTN","ECX324PT",62,0)
 N OPT,DIC,DIE,DA,DR,X,Y
"RTN","ECX324PT",63,0)
 S DIC="^DIC(19,",DIC(0)="XO",X="ECXDEFINE"
"RTN","ECX324PT",64,0)
 D ^DIC
"RTN","ECX324PT",65,0)
 S OPT=+Y
"RTN","ECX324PT",66,0)
 Q:OPT<1
"RTN","ECX324PT",67,0)
 S DIE=DIC,DA=OPT,DR="2///^S X=""@"""
"RTN","ECX324PT",68,0)
 D ^DIE
"RTN","ECX324PT",69,0)
 D MES^XPDUTL(" ")
"RTN","ECX324PT",70,0)
 D MES^XPDUTL(" ")
"RTN","ECX324PT",71,0)
 D MES^XPDUTL("   Setting option ECXDEFINE back in-service... ok.")
"RTN","ECX324PT",72,0)
 D MES^XPDUTL(" ")
"RTN","ECX324PT",73,0)
 Q
"RTN","ECX324PT",74,0)
 ;
"RTN","ECX324PT",75,0)
MTL ;audit description for mental health
"RTN","ECX324PT",76,0)
 ;;Verify against: Usage Statistics, Site Report by Date
"RTN","ECX324PT",77,0)
 ;;Menu Option:    Usage Statistics [YSMUSE], Site Report by Date [YSAS 
"RTN","ECX324PT",78,0)
 ;;                MANAGEMENT REPORT]
"RTN","ECX324PT",79,0)
 ;;  
"RTN","ECX324PT",80,0)
 ;;The 'Usage Statistics' report in the MENTAL HEALTH VistA software should be 
"RTN","ECX324PT",81,0)
 ;;used to verify the Psych instrument segment of the DSS MTL Extract Audit
"RTN","ECX324PT",82,0)
 ;;report.  It must be noted that the Usage report is produced based on month 
"RTN","ECX324PT",83,0)
 ;;and year, the days are ignored.
"RTN","ECX324PT",84,0)
 ;;  
"RTN","ECX324PT",85,0)
 ;;The 'Site Report by Date' should be used to verify the ASI segment on the
"RTN","ECX324PT",86,0)
 ;;DSS MTL Extract Audit Report.  It is possible that the figures on the DSS
"RTN","ECX324PT",87,0)
 ;;MTL report may be higher than those on the Site Report.  The reason being
"RTN","ECX324PT",88,0)
 ;;that the MENTAL HEALTH 'Site Report' does not currently display test that
"RTN","ECX324PT",89,0)
 ;;are inactive.  The DSS MTL Extract Audit Report will report both active
"RTN","ECX324PT",90,0)
 ;;and inactive tests performed during a specified date range.
"RTN","ECX324PT",91,0)
 ;;  
"RTN","ECX324PT",92,0)
 ;;Currently, there is no report in the MENTAL HEALTH VistA package to verify
"RTN","ECX324PT",93,0)
 ;;the GAF segment on the DSS MTL Extract Audit Report. However, the general
"RTN","ECX324PT",94,0)
 ;;format seen in the MENTAL HEALTH VistA, Print GAF's by Clinic/Date [YSGAF
"RTN","ECX324PT",95,0)
 ;;PRINT CLINIC] is being followed.
"RTN","ECX324PT",96,0)
 ;;QUIT
"RTN","ECX324PT",97,0)
 ;
"RTN","ECX324PT",98,0)
ADD7272 ;add entries to file #727.2
"RTN","ECX324PT",99,0)
 ;ECXX is in format: ien;test^source
"RTN","ECX324PT",100,0)
 N ECX,ECXX,DA,DIC,DINUM,DIE,DR,X,Y,TEST,SOURCE,CNT
"RTN","ECX324PT",101,0)
 D MES^XPDUTL(" ")
"RTN","ECX324PT",102,0)
 D MES^XPDUTL(" ")
"RTN","ECX324PT",103,0)
 D MES^XPDUTL(" Adding entries to DSS LAB TESTS File (#727.2)...")
"RTN","ECX324PT",104,0)
 D MES^XPDUTL(" ")
"RTN","ECX324PT",105,0)
 S $P(^DD(727.21,.01,0),U,5)="",CNT=0
"RTN","ECX324PT",106,0)
 F ECX=1:1 S ECXX=$P($T(NEW7272+ECX),";;",2) Q:ECXX="QUIT"  D
"RTN","ECX324PT",107,0)
 .S ECXDA=$P(ECXX,";",1),ECXX=$P(ECXX,";",2)
"RTN","ECX324PT",108,0)
 .Q:'$D(^ECX(727.2,1))
"RTN","ECX324PT",109,0)
 .I $D(^ECX(727.2,1,1,0)),'$D(^ECX(727.2,1,1,ECXDA,0)) D
"RTN","ECX324PT",110,0)
 ..S CNT=CNT+1
"RTN","ECX324PT",111,0)
 ..S TEST=$P(ECXX,U,1),SOURCE=$P(ECXX,U,2)
"RTN","ECX324PT",112,0)
 ..S DA(1)=1,DIC("P")=$P(^DD(727.2,1,0),U,2),DINUM=ECXDA
"RTN","ECX324PT",113,0)
 ..S X=TEST,DIC="^ECX(727.2,1,1,",DLAYGO=727.21,DIC(0)="LX",DIC("DR")="2///^S X=SOURCE"
"RTN","ECX324PT",114,0)
 ..K DD,DO D FILE^DICN K DLAYGO
"RTN","ECX324PT",115,0)
 ..D MES^XPDUTL(" ")
"RTN","ECX324PT",116,0)
 ..D MES^XPDUTL("    Adding "_TEST_" as entry #"_ECXDA_"... ok.")
"RTN","ECX324PT",117,0)
 ..D MES^XPDUTL(" ")
"RTN","ECX324PT",118,0)
 I CNT=0 D
"RTN","ECX324PT",119,0)
 .D MES^XPDUTL("    Entries already exist -- nothing added.")
"RTN","ECX324PT",120,0)
 .D MES^XPDUTL(" ")
"RTN","ECX324PT",121,0)
 S $P(^DD(727.21,.01,0),U,5)="K X"
"RTN","ECX324PT",122,0)
 Q
"RTN","ECX324PT",123,0)
 ;
"RTN","ECX324PT",124,0)
NEW7272 ;new records for file #727.2
"RTN","ECX324PT",125,0)
 ;;32;MICROALBUMIN^U
"RTN","ECX324PT",126,0)
 ;;33;HEPATITIS B SURFACE ANTIBODY^B
"RTN","ECX324PT",127,0)
 ;;34;HEPATITIS C ANTIBODY^B
"RTN","ECX324PT",128,0)
 ;;35;HIV ANTIBODY^B
"RTN","ECX324PT",129,0)
 ;;36;CD4 RATIO (T CELL SCREEN)^B
"RTN","ECX324PT",130,0)
 ;;37;HCV-QUANTITATIVE BY PCR^B
"RTN","ECX324PT",131,0)
 ;;38;HIV VIRAL LOAD^B
"RTN","ECX324PT",132,0)
 ;;39;HCV-QUALITATIVE BY PCR^B
"RTN","ECX324PT",133,0)
 ;;40;HIV 1 BY EIA^B
"RTN","ECX324PT",134,0)
 ;;QUIT
"RTN","ECXADM")
0^3^B18105686
"RTN","ECXADM",1,0)
ECXADM ;ALB/JAP,BIR/DMA,CML,PTD-Admissions Extract ; [ 11/25/96  11:21 AM ]
"RTN","ECXADM",2,0)
 ;;3.0;DSS EXTRACTS;**1,4,11,8,13,24**;Dec 22, 1997
"RTN","ECXADM",3,0)
BEG ;entry point from option
"RTN","ECXADM",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXADM",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXADM",6,0)
 Q
"RTN","ECXADM",7,0)
 ;
"RTN","ECXADM",8,0)
START ; start package specific extract
"RTN","ECXADM",9,0)
 S QFLG=0
"RTN","ECXADM",10,0)
 S ECED=ECED+.3
"RTN","ECXADM",11,0)
 S ECD=ECSD1 F  S ECD=$O(^DGPM("ATT1",ECD)),ECDA=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECDA=$O(^DGPM("ATT1",ECD,ECDA)) Q:'ECDA  D
"RTN","ECXADM",12,0)
 .I $D(^DGPM(ECDA,0)) D  Q:QFLG 
"RTN","ECXADM",13,0)
 ..S EC=^DGPM(ECDA,0),ECXDFN=$P(EC,U,3) D GET Q:QFLG
"RTN","ECXADM",14,0)
 Q
"RTN","ECXADM",15,0)
 ;
"RTN","ECXADM",16,0)
GET ;gather extract data
"RTN","ECXADM",17,0)
 N W,X,ADM
"RTN","ECXADM",18,0)
 ;patient demographics
"RTN","ECXADM",19,0)
 S ECXERR=0,ECXDATE=ECD D PAT(ECXDFN,ECXDATE,.ECXERR)
"RTN","ECXADM",20,0)
 Q:ECXERR
"RTN","ECXADM",21,0)
 ;admission data
"RTN","ECXADM",22,0)
 S ELGA=$P($G(^DIC(8,+$P(EC,U,20),0)),U,9) I ELGA S ELGA=$$ELIG^ECXUTL3(ELGA,ECXSVC)
"RTN","ECXADM",23,0)
 S (ECDRG,ECDIA)="",ECPTF=+$P(EC,U,16) I ECPTF,$D(^DGPT(ECPTF,"M")) D PTF
"RTN","ECXADM",24,0)
 ;use movement record date & time
"RTN","ECXADM",25,0)
 S ECXDATE=ECD S ADM=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXADM",26,0)
 S ECXA=$P(ADM,U,1),ECXMN=$P(ADM,U,2),ECXSPC=$P(ADM,U,3),ECXDATE=$P(ADM,U,4)
"RTN","ECXADM",27,0)
 ;if movement# doesn't match cross-ref ien, then quit
"RTN","ECXADM",28,0)
 Q:ECXMN'=ECDA
"RTN","ECXADM",29,0)
 S ECTM=$$ECXTIME^ECXUTL(ECXDATE),ECXDATE=$$ECXDATE^ECXUTL(ECXDATE,ECXYM)
"RTN","ECXADM",30,0)
 S W=$P(ADM,U,9),ECXWRD=$P(W,";",1),ECXFAC=$P(W,";",2),ECXDSSD=$P(W,";",3)
"RTN","ECXADM",31,0)
 S ECXPRV=$P(ADM,U,7),ECXPRNPI="",ECXATT=$P(ADM,U,8),ECXATNPI=""
"RTN","ECXADM",32,0)
 ;file data
"RTN","ECXADM",33,0)
 D FILE
"RTN","ECXADM",34,0)
 Q
"RTN","ECXADM",35,0)
 ;
"RTN","ECXADM",36,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;get patient demographic data
"RTN","ECXADM",37,0)
 N OK,X
"RTN","ECXADM",38,0)
 K ECXPAT
"RTN","ECXADM",39,0)
 S ECXDATE=$P(ECXDATE,".")
"RTN","ECXADM",40,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,ECXDATE,"1;2;3;4;5",.ECXPAT)
"RTN","ECXADM",41,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXADM",42,0)
 S ECXSSN=ECXPAT("SSN")
"RTN","ECXADM",43,0)
 S ECXPNM=ECXPAT("NAME")
"RTN","ECXADM",44,0)
 S ECXMPI=ECXPAT("MPI")
"RTN","ECXADM",45,0)
 S ECXSEX=ECXPAT("SEX")
"RTN","ECXADM",46,0)
 S ECXDOB=ECXPAT("DOB")
"RTN","ECXADM",47,0)
 S ECXELIG=ECXPAT("ELIG")
"RTN","ECXADM",48,0)
 S ECXVET=ECXPAT("VET")
"RTN","ECXADM",49,0)
 S ECXVNS=ECXPAT("VIETNAM")
"RTN","ECXADM",50,0)
 S ECXPOS=ECXPAT("POS")
"RTN","ECXADM",51,0)
 S ECXMNS=ECXPAT("MEANS")
"RTN","ECXADM",52,0)
 S ECXRACE=ECXPAT("RACE")
"RTN","ECXADM",53,0)
 S ECXRELG=ECXPAT("RELIGION")
"RTN","ECXADM",54,0)
 S ECXEMP=ECXPAT("EMPLOY")
"RTN","ECXADM",55,0)
 S ECXMAR=ECXPAT("MARITAL")
"RTN","ECXADM",56,0)
 S ECXPST=ECXPAT("POW STAT")
"RTN","ECXADM",57,0)
 S ECXRST=ECXPAT("IR STAT")
"RTN","ECXADM",58,0)
 S ECXAST=ECXPAT("AO STAT")
"RTN","ECXADM",59,0)
 S ECXMST=ECXPAT("MST STAT")
"RTN","ECXADM",60,0)
 S ECXSTATE=ECXPAT("STATE")
"RTN","ECXADM",61,0)
 S ECXCNTY=ECXPAT("COUNTY")
"RTN","ECXADM",62,0)
 S ECXZIP=ECXPAT("ZIP")
"RTN","ECXADM",63,0)
 S ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXADM",64,0)
 S ECXSVC=ECXPAT("SC%")
"RTN","ECXADM",65,0)
 S ECXHI=+$$INSURED^IBCNS1(ECXDFN,ECXDATE)
"RTN","ECXADM",66,0)
 ;get primary care data
"RTN","ECXADM",67,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXADM",68,0)
 S ECPTTM=$P(X,U,1)
"RTN","ECXADM",69,0)
 S ECPTPR=$P(X,U,2)
"RTN","ECXADM",70,0)
 S ECCLAS=$P(X,U,3)
"RTN","ECXADM",71,0)
 S ECPTNPI=$P(X,U,4)
"RTN","ECXADM",72,0)
 S ECASPR=$P(X,U,5)
"RTN","ECXADM",73,0)
 S ECCLAS2=$P(X,U,6)
"RTN","ECXADM",74,0)
 S ECASNPI=$P(X,U,7)
"RTN","ECXADM",75,0)
 ;get sharing agreement data
"RTN","ECXADM",76,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXADM",77,0)
 D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXADM",78,0)
 Q
"RTN","ECXADM",79,0)
 ;
"RTN","ECXADM",80,0)
PTF ; get admitting DRG and diagnosis from PTF
"RTN","ECXADM",81,0)
 ;use number for DRG and .01 for diagnosis
"RTN","ECXADM",82,0)
 N EC,EC1
"RTN","ECXADM",83,0)
 S EC=1 I $D(^DGPT(ECPTF,"M",2,0)) S EC=2
"RTN","ECXADM",84,0)
 S EC1=+$P(^DGPT(ECPTF,"M",EC,0),U,5),ECDRG=$P($G(^DGPT(ECPTF,"M",EC,"P")),U)
"RTN","ECXADM",85,0)
 S ECDIA=$P($G(^ICD9(EC1,0)),U)
"RTN","ECXADM",86,0)
 Q
"RTN","ECXADM",87,0)
 ;
"RTN","ECXADM",88,0)
FILE ;file the extract record
"RTN","ECXADM",89,0)
 ;node0
"RTN","ECXADM",90,0)
 ;facility^dfn^ssn^name^in/out^day^primary care team^sex^dob^religion^employment status^health ins^state^county^zip^
"RTN","ECXADM",91,0)
 ;eligibility^vet^vietnam^agent orange^radiation^pow^period of service^means test^marital status^
"RTN","ECXADM",92,0)
 ;ward^treating specialty^attending physician^mov #^DRG^diagnosis^time^primary care provider^race^primary ward provider
"RTN","ECXADM",93,0)
 ;node1
"RTN","ECXADM",94,0)
 ;mpi^dss dept^attending npi^pc provider npi^ward provider npi^admission elig^mst status^^sharing payor^sharing insurance^enrollment location^
"RTN","ECXADM",95,0)
 ;pc prov person class^assoc pc provider^assoc pc prov person class^assoc pc prov npi
"RTN","ECXADM",96,0)
 N DA,DIK
"RTN","ECXADM",97,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXADM",98,0)
 S ECODE=EC7_U_EC23
"RTN","ECXADM",99,0)
 S ECODE=ECODE_U_ECXFAC_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_ECXDATE_U_ECPTTM_U_ECXSEX_U_ECXDOB_U_ECXRELG
"RTN","ECXADM",100,0)
 S ECODE=ECODE_U_ECXEMP_U_ECXHI_U_ECXSTATE_U_ECXCNTY_U_ECXZIP
"RTN","ECXADM",101,0)
 S ECODE=ECODE_U_ECXELIG_U_ECXVET_U_ECXVNS_U_ECXAST_U_ECXRST_U_ECXPST_U_ECXPOS_U_ECXMNS_U_ECXMAR
"RTN","ECXADM",102,0)
 S ECODE=ECODE_U_ECXWRD_U_ECXSPC_U_ECXATT_U_ECDA_U_ECDRG_U_ECDIA_U_ECTM_U_ECPTPR_U_ECXRACE_U_ECXPRV
"RTN","ECXADM",103,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXATNPI_U_ECPTNPI_U_ECXPRNPI_U_ELGA
"RTN","ECXADM",104,0)
 S ECODE1=ECODE1_U_ECXMST_U_U_ECXPAYOR_U_ECXSAI_U_ECXENRL_U_ECCLAS_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXADM",105,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXADM",106,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXADM",107,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXADM",108,0)
 Q
"RTN","ECXADM",109,0)
 ;
"RTN","ECXADM",110,0)
SETUP ;Set required input for ECXTRAC.
"RTN","ECXADM",111,0)
 S ECHEAD="ADM"
"RTN","ECXADM",112,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXADM",113,0)
 Q
"RTN","ECXADM",114,0)
 ;
"RTN","ECXADM",115,0)
LOCAL ; to extract nightly for local use not to be transmitted to TSI
"RTN","ECXADM",116,0)
 ; should be queued with a 1D frequency
"RTN","ECXADM",117,0)
 D SETUP,^ECXTLOCL,^ECXKILL Q
"RTN","ECXADM",118,0)
 ;
"RTN","ECXADM",119,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXADM",120,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXADM",121,0)
 ;
"RTN","ECXAMTL")
0^34^B31481343
"RTN","ECXAMTL",1,0)
ECXAMTL ;ALB/JAM - MTL Extract Audit Report; May 24, 1999
"RTN","ECXAMTL",2,0)
 ;;3.0;DSS EXTRACTS;**24**;May 24, 1999
"RTN","ECXAMTL",3,0)
EN ;entry point for MTL extract audit report
"RTN","ECXAMTL",4,0)
 N %X,%Y
"RTN","ECXAMTL",5,0)
 ;ecxaud=0 for 'extract' audit
"RTN","ECXAMTL",6,0)
 S ECXERR=0
"RTN","ECXAMTL",7,0)
 S ECXHEAD="MTL",ECXAUD=0
"RTN","ECXAMTL",8,0)
 W !!,"Setup for ",ECXHEAD," Extract Audit Report --",!!
"RTN","ECXAMTL",9,0)
 ;select extract
"RTN","ECXAMTL",10,0)
 D AUDIT^ECXUTLA(ECXHEAD,.ECXERR,.ECXARRAY,ECXAUD) I ECXERR D  Q
"RTN","ECXAMTL",11,0)
 . K ECXHEAD,ECXAUD,ECXERR
"RTN","ECXAMTL",12,0)
 ;get facility/division
"RTN","ECXAMTL",13,0)
 S ECXALL=1
"RTN","ECXAMTL",14,0)
 D MTL^ECXDVSN2(.ECXDIV,ECXALL,.ECXERR) I ECXERR D AUDIT^ECXKILL Q
"RTN","ECXAMTL",15,0)
 ;select output device and queue report if requested
"RTN","ECXAMTL",16,0)
 S ECXPGM="PROCESS^ECXAMTL",ECXDESC="MTL Extract Audit Report"
"RTN","ECXAMTL",17,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXALL")="",ECXSAVE("ECXDIV(")=""
"RTN","ECXAMTL",18,0)
 S ECXSAVE("ECXARRAY(")="" W !
"RTN","ECXAMTL",19,0)
 D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXAMTL",20,0)
 I ECXSAVE("POP")=1 D  Q
"RTN","ECXAMTL",21,0)
 . W !!,?5,"Try again later... exiting.",!
"RTN","ECXAMTL",22,0)
 . D AUDIT^ECXKILL
"RTN","ECXAMTL",23,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXAMTL",24,0)
 . K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXAMTL",25,0)
 . D PROCESS^ECXAMTL
"RTN","ECXAMTL",26,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXAMTL",27,0)
 D HOME^%ZIS
"RTN","ECXAMTL",28,0)
 D AUDIT^ECXKILL
"RTN","ECXAMTL",29,0)
 Q
"RTN","ECXAMTL",30,0)
PROCESS ;process data in file #727.812
"RTN","ECXAMTL",31,0)
 N DAY,MTLDAT,MTLDAT1,SSN,NAME,EXN,IEN,ASI,SPC,TSTNAM,PROV,DATND,TSTSC
"RTN","ECXAMTL",32,0)
 N NODE
"RTN","ECXAMTL",33,0)
 K ^TMP($J,"ECXMTL") S EXN=ECXARRAY("EXTRACT")
"RTN","ECXAMTL",34,0)
 ;set start and end date in interal format
"RTN","ECXAMTL",35,0)
 S X=ECXARRAY("START") S %DT="" D ^%DT S ECXSTART=Y
"RTN","ECXAMTL",36,0)
 S X=ECXARRAY("END") D ^%DT S ECXEND=Y
"RTN","ECXAMTL",37,0)
 ;get run date in external format
"RTN","ECXAMTL",38,0)
 D NOW^%DTC S Y=$E(%,1,12) D DD^%DT S ECXRUN=Y
"RTN","ECXAMTL",39,0)
 ;get records for specified date range within extract
"RTN","ECXAMTL",40,0)
 S IEN=0 F  S IEN=$O(^ECX(727.812,"AC",EXN,IEN)) Q:'IEN  D
"RTN","ECXAMTL",41,0)
 . S MTLDAT=^ECX(727.812,IEN,0),MTLDAT1=$G(^ECX(727.812,IEN,1))
"RTN","ECXAMTL",42,0)
 . ;convert date to fileman internal format
"RTN","ECXAMTL",43,0)
 . S DAY=$P(MTLDAT,U,9),$E(DAY,1,2)=$E(DAY,1,2)-17 Q:$L(DAY)<7
"RTN","ECXAMTL",44,0)
 . I DAY<ECXSTART!(DAY>ECXEND) Q
"RTN","ECXAMTL",45,0)
 . S SSN=$P(MTLDAT,U,6),NAME=$P(MTLDAT,U,7),TSTNAM=$P(MTLDAT,U,21)
"RTN","ECXAMTL",46,0)
 . S PROV=$P(MTLDAT,U,18)
"RTN","ECXAMTL",47,0)
 . S:PROV'="" PROV=$$GET1^DIQ(200,$E(PROV,2,999),.01,"I")
"RTN","ECXAMTL",48,0)
 . S TSTSC=$P(MTLDAT,U,25),ASI=$P(MTLDAT1,U,5),SPC=$P(MTLDAT1,U,6)
"RTN","ECXAMTL",49,0)
 . ;determine next level for ^TMP($J,"ECXMTL",
"RTN","ECXAMTL",50,0)
 . Q:TSTNAM=""  S NODE=TSTNAM I TSTNAM'="ASI",TSTNAM'="GAF" S NODE="PI"
"RTN","ECXAMTL",51,0)
 . ;data to be stored at node in ^TMP($J,"ECXMTL,NODE
"RTN","ECXAMTL",52,0)
 . S DATND=$S(NODE="ASI":ASI_U_SPC,NODE="GAF":TSTSC_U_PROV,1:"")
"RTN","ECXAMTL",53,0)
 . ;store data in ^TMP($J,"ECXMTL",NODE
"RTN","ECXAMTL",54,0)
 . I NODE="PI" D  Q
"RTN","ECXAMTL",55,0)
 . . I '$D(^TMP($J,"ECXMTL",NODE,TSTNAM,NAME,SSN,DAY)) D
"RTN","ECXAMTL",56,0)
 . . . S ^TMP($J,"ECXMTL",NODE,TSTNAM,NAME,SSN,DAY)=DATND
"RTN","ECXAMTL",57,0)
 . . . S ^TMP($J,"ECXMTL",NODE,TSTNAM)=$G(^TMP($J,"ECXMTL",NODE,TSTNAM))+1
"RTN","ECXAMTL",58,0)
 . I '$D(^TMP($J,"ECXMTL",NODE,NAME,SSN,DAY)) D
"RTN","ECXAMTL",59,0)
 . . S ^TMP($J,"ECXMTL",NODE,NAME,SSN,DAY)=DATND
"RTN","ECXAMTL",60,0)
 D PRINT,AUDIT^ECXKILL
"RTN","ECXAMTL",61,0)
 Q
"RTN","ECXAMTL",62,0)
PRINT ;print the MTL audit report
"RTN","ECXAMTL",63,0)
 N ND,NAM,SSN,DAY,PITOT,GAFTOT,ASI,INSTOT,CNT,DIV,QFL,LN,I,CLS,SPC,ASISP
"RTN","ECXAMTL",64,0)
 N PG,ASITOT,ASISPTOT
"RTN","ECXAMTL",65,0)
 U IO
"RTN","ECXAMTL",66,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXAMTL",67,0)
 S (ASITOT,ASISPTOT,QFL,PG,CNT)=0,$P(LN,"-",74)="",DIV=$O(ECXDIV(""))
"RTN","ECXAMTL",68,0)
 F I=1:1:3,999 S (ASI(I),ASISP(I))=0 D
"RTN","ECXAMTL",69,0)
 . S ASI(I,0)=$S(I=1:"Full",I=2:"Lite",I=3:"Follow-up",1:"Unspecified")
"RTN","ECXAMTL",70,0)
 . S ASISP(I,0)=$S(I=1:"Terminated",I=2:"Refused",I=3:"Unable",1:"Unspecified")
"RTN","ECXAMTL",71,0)
 S ASISP(0)=0,ASISP(0,0)="Completed" D HEADER
"RTN","ECXAMTL",72,0)
 S ND="" F  S ND=$O(^TMP($J,"ECXMTL",ND)) Q:ND=""  D  I QFL Q
"RTN","ECXAMTL",73,0)
 . S CNT=CNT+1 D H1 S NAM="" I ($Y+3)>IOSL D HEADER I QFL Q
"RTN","ECXAMTL",74,0)
 . I ND="PI" D  Q
"RTN","ECXAMTL",75,0)
 . . F  S NAM=$O(^TMP($J,"ECXMTL",ND,NAM)) Q:NAM=""  D  I QFL Q
"RTN","ECXAMTL",76,0)
 . . . S INSTOT=^TMP($J,"ECXMTL",ND,NAM)
"RTN","ECXAMTL",77,0)
 . . . D:($Y+3)>IOSL HEADER Q:QFL  W ?5,NAM,?32,$J(INSTOT,8),!
"RTN","ECXAMTL",78,0)
 . . . S PITOT=$G(PITOT)+INSTOT
"RTN","ECXAMTL",79,0)
 . . I ($Y+3)>IOSL D HEADER I QFL Q
"RTN","ECXAMTL",80,0)
 . . W ?5,LN,!,?5,"Total",?30,$J(PITOT,10),!
"RTN","ECXAMTL",81,0)
 . F  S NAM=$O(^TMP($J,"ECXMTL",ND,NAM)) Q:NAM=""  S SSN="" D  I QFL Q
"RTN","ECXAMTL",82,0)
 . .F  S SSN=$O(^TMP($J,"ECXMTL",ND,NAM,SSN)) Q:SSN=""  S DAY="" D  Q:QFL
"RTN","ECXAMTL",83,0)
 . . . F  S DAY=$O(^TMP($J,"ECXMTL",ND,NAM,SSN,DAY)) Q:DAY=""  D P1 Q:QFL
"RTN","ECXAMTL",84,0)
 . I QFL Q
"RTN","ECXAMTL",85,0)
 . ;print GAF total
"RTN","ECXAMTL",86,0)
 . I ND="GAF" D  Q
"RTN","ECXAMTL",87,0)
 . . D:($Y+3)>IOSL HEADER Q:QFL  W ?5,LN,!,?5,"Total: ",GAFTOT,!
"RTN","ECXAMTL",88,0)
 . ;print ASI totals
"RTN","ECXAMTL",89,0)
 . I ND="ASI" D  Q
"RTN","ECXAMTL",90,0)
 . . D:($Y+3)>IOSL HEADER Q:QFL  W ?5,LN,! S (CLS,SPC)=-1
"RTN","ECXAMTL",91,0)
 . . F I=1:1:5 D  Q:(CLS="")&(SPC="")  I QFL Q
"RTN","ECXAMTL",92,0)
 . . . I ($Y+3)>IOSL D HEADER I QFL Q
"RTN","ECXAMTL",93,0)
 . . . I CLS'="" S CLS=$O(ASI(CLS)) D:CLS'=""
"RTN","ECXAMTL",94,0)
 . . . . W ?29,$J(ASI(CLS),8)," ",ASI(CLS,0)
"RTN","ECXAMTL",95,0)
 . . . . S ASITOT=ASITOT+ASI(CLS)
"RTN","ECXAMTL",96,0)
 . . . I SPC'="" S SPC=$O(ASISP(SPC)) D:SPC'=""
"RTN","ECXAMTL",97,0)
 . . . . W ?50,$J(ASISP(SPC),8)," ",ASISP(SPC,0) D
"RTN","ECXAMTL",98,0)
 . . . . S ASISPTOT=ASISPTOT+ASISP(SPC)
"RTN","ECXAMTL",99,0)
 . . . W !
"RTN","ECXAMTL",100,0)
 . . Q:QFL  W ?5,LN,!,?27,$J(ASITOT,10),?48,$J(ASISPTOT,10)," ","Total"
"RTN","ECXAMTL",101,0)
 Q
"RTN","ECXAMTL",102,0)
P1 ;print ASI and GAF records
"RTN","ECXAMTL",103,0)
 N DATND,DATE
"RTN","ECXAMTL",104,0)
 S DATND=^TMP($J,"ECXMTL",ND,NAM,SSN,DAY)
"RTN","ECXAMTL",105,0)
 S DATE=$E(DAY,4,5)_"/"_$E(DAY,6,7)_"/"_($E(DAY)+17)_$E(DAY,2,3)
"RTN","ECXAMTL",106,0)
 D:($Y+3)>IOSL HEADER Q:QFL  W ?5,NAM,?14,$E(SSN,$L(SSN)-3,$L(SSN))
"RTN","ECXAMTL",107,0)
 I ND="ASI" D  Q
"RTN","ECXAMTL",108,0)
 . S CLS=$P(DATND,U),SPC=$P(DATND,U,2)
"RTN","ECXAMTL",109,0)
 . W ?21,DATE,?36,$S(CLS=1:"Full",CLS=2:"Lite",CLS=3:"F-up",1:""),?57,SPC,!
"RTN","ECXAMTL",110,0)
 . S:CLS="" CLS=999 S:SPC="" SPC=999 S:SPC="N" SPC=0
"RTN","ECXAMTL",111,0)
 . S ASI(CLS)=$G(ASI(CLS))+1,ASISP(SPC)=$G(ASISP(SPC))+1
"RTN","ECXAMTL",112,0)
 I ND="GAF" D  Q
"RTN","ECXAMTL",113,0)
 . W ?21,DATE,?36,$P(DATND,U,2),!
"RTN","ECXAMTL",114,0)
 . S GAFTOT=$G(GAFTOT)+1
"RTN","ECXAMTL",115,0)
 Q
"RTN","ECXAMTL",116,0)
HEADER ;header and page control
"RTN","ECXAMTL",117,0)
 N JJ,SS
"RTN","ECXAMTL",118,0)
 I $E(IOST)="C" D  I QFL Q
"RTN","ECXAMTL",119,0)
 . S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXAMTL",120,0)
 . I PG S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFL=1
"RTN","ECXAMTL",121,0)
 W:PG!($E(IOST)="C") @IOF S PG=PG+1
"RTN","ECXAMTL",122,0)
 W !,ECXARRAY("TYPE")_" ("_ECXHEAD_") Extract Audit Report"
"RTN","ECXAMTL",123,0)
 W !,"DSS Extract Log #:    "_ECXARRAY("EXTRACT")
"RTN","ECXAMTL",124,0)
 W !,"Date Range of Audit:  "_ECXARRAY("START")_" to "_ECXARRAY("END")
"RTN","ECXAMTL",125,0)
 W !,"Report Run Date/Time: "_ECXRUN
"RTN","ECXAMTL",126,0)
 I $P(ECXDIV(DIV),U)="" D
"RTN","ECXAMTL",127,0)
 . S $P(ECXDIV(DIV),U)=$P(ECXDIV(DIV),U,3)
"RTN","ECXAMTL",128,0)
 . I $P(ECXDIV(DIV),U)="" S $P(ECXDIV(DIV),U)="Unknown"
"RTN","ECXAMTL",129,0)
 W !,"Facility:             "_$P(ECXDIV(DIV),U)
"RTN","ECXAMTL",130,0)
 W " ("_$P(ECXDIV(DIV),U,4)_")",?68,"Page: "_PG
"RTN","ECXAMTL",131,0)
H1 I $G(ND)'="" D
"RTN","ECXAMTL",132,0)
 . W !!,CNT,".",?5
"RTN","ECXAMTL",133,0)
 . I ND="PI" W "Psych Instruments segment",!! Q
"RTN","ECXAMTL",134,0)
 . W ND," segment",!!
"RTN","ECXAMTL",135,0)
 . W ?5,"Name",?14,"SSN",?21
"RTN","ECXAMTL",136,0)
 . I ND="ASI" W "Interview",?36,"Class",?54,"Special"
"RTN","ECXAMTL",137,0)
 . I ND="GAF" W "Date",?36,"Clinician"
"RTN","ECXAMTL",138,0)
 . W !,?5,LN,!
"RTN","ECXAMTL",139,0)
 Q
"RTN","ECXCPRO")
0^43^B31400737
"RTN","ECXCPRO",1,0)
ECXCPRO ;ALB/JAP - PRO Extract YTD Report ; Dec 20, 1998
"RTN","ECXCPRO",2,0)
 ;;3.0;DSS EXTRACTS;**21,24**;Dec 22, 1997
"RTN","ECXCPRO",3,0)
 ;accumulates extract data by hcpcs code for all extracts in fiscal year date range
"RTN","ECXCPRO",4,0)
 ;if an extract has been purged, then totals will be falsely low
"RTN","ECXCPRO",5,0)
 ;if more than 1 extract exists for a particular month, then totals will be falsely high
"RTN","ECXCPRO",6,0)
 ;if site is multidivisional, then user can generate report for
"RTN","ECXCPRO",7,0)
 ;  any one division - data stored under divisional station# (e.g., 326 or 326AB)
"RTN","ECXCPRO",8,0)
 ;  or for entire facility - data stored under primary station# (e.g., 326) but includes data from all subdivisions
"RTN","ECXCPRO",9,0)
 ;if site is non-divisional, then data stored under facility station#
"RTN","ECXCPRO",10,0)
 ;
"RTN","ECXCPRO",11,0)
 ;
"RTN","ECXCPRO",12,0)
EN ;setup & queue
"RTN","ECXCPRO",13,0)
 N DIC,DA,DR,DIQ,DIR,DIRUT,DTOUT,DUOUT,DIV,LAST,OUT
"RTN","ECXCPRO",14,0)
 S ECXERR=0
"RTN","ECXCPRO",15,0)
 S ECXHEAD="PRO"
"RTN","ECXCPRO",16,0)
 W !!,"Setup for PRO Extract YTD HCPCS Report --",!
"RTN","ECXCPRO",17,0)
 ;determine primary division
"RTN","ECXCPRO",18,0)
 W !,"If you belong to more than one Primary Division, you must"
"RTN","ECXCPRO",19,0)
 W !,"select a Primary Division for the report.",!
"RTN","ECXCPRO",20,0)
 S ECXPRIME=$$PDIV^ECXPUTL
"RTN","ECXCPRO",21,0)
 I ECXPRIME=0 D ^ECXKILL Q
"RTN","ECXCPRO",22,0)
 S DA=ECXPRIME,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99" D EN^DIQ1
"RTN","ECXCPRO",23,0)
 S ECXPRIME=ECXPRIME_U_$G(ECXDIC(4,DA,99,"I"))_U_$G(ECXDIC(4,DA,.01,"I"))
"RTN","ECXCPRO",24,0)
 ;select 1 or more prosthetics divisions for report
"RTN","ECXCPRO",25,0)
 D PRO^ECXDVSN2(DUZ,ECXPRIME,.ECXDIV,.ECXALL,.ECXERR)
"RTN","ECXCPRO",26,0)
 I ECXERR D  Q
"RTN","ECXCPRO",27,0)
 .D ^ECXKILL W !!,?5,"Try again later... exiting.",!
"RTN","ECXCPRO",28,0)
 ;determine fiscal year of report
"RTN","ECXCPRO",29,0)
 S DIR(0)="SMBA^C:CURRENT;P:PREVIOUS",DIR("A")="Select C(urrent) or P(revious) Fiscal Year: ",DIR("B")="CURRENT"
"RTN","ECXCPRO",30,0)
 W ! K X,Y D ^DIR K DIR
"RTN","ECXCPRO",31,0)
 I $D(DUOUT)!($D(DTOUT)) D  Q
"RTN","ECXCPRO",32,0)
 .D ^ECXKILL W !!,?5,"Try again later... exiting.",!
"RTN","ECXCPRO",33,0)
 I Y="C" D
"RTN","ECXCPRO",34,0)
 .S X=$$CYFY^ECXUTL1(DT),ECXARRAY("START")=$P(X,U,3),ECXARRAY("END")=$P(X,U,4)
"RTN","ECXCPRO",35,0)
 I Y="P" D
"RTN","ECXCPRO",36,0)
 .S YR=$E(DT,1,3),MON=$E(DT,4,5) S:+MON<10 YR=YR-1 S X1=YR_"0930"
"RTN","ECXCPRO",37,0)
 .S X=$$CYFY^ECXUTL1(X1),ECXARRAY("START")=$P(X,U,3),ECXARRAY("END")=$P(X,U,4)
"RTN","ECXCPRO",38,0)
 .K C,MON,YR,X1
"RTN","ECXCPRO",39,0)
 ;setup variables for taskmanager
"RTN","ECXCPRO",40,0)
 S ECXPGM="PROCESS^ECXCPRO",ECXDESC="PRO Extract YTD Lab Report"
"RTN","ECXCPRO",41,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")="",ECXSAVE("ECXPRIME")="",ECXSAVE("ECXALL")=""
"RTN","ECXCPRO",42,0)
 ;determine output device and queue if requested
"RTN","ECXCPRO",43,0)
 W !!,"Please note: The PRO Extract YTD HCPCS Report requires 132 columns."
"RTN","ECXCPRO",44,0)
 W !,"             Select an appropriate device for output."
"RTN","ECXCPRO",45,0)
 W ! D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXCPRO",46,0)
 I ECXSAVE("POP")=1 W ! D ^ECXKILL Q
"RTN","ECXCPRO",47,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXCPRO",48,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXCPRO",49,0)
 .D PROCESS
"RTN","ECXCPRO",50,0)
 ;clean-up and close
"RTN","ECXCPRO",51,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXCPRO",52,0)
 D HOME^%ZIS
"RTN","ECXCPRO",53,0)
 Q
"RTN","ECXCPRO",54,0)
 ;
"RTN","ECXCPRO",55,0)
PROCESS ;begin processing
"RTN","ECXCPRO",56,0)
 N DIVISION,E,EXTRACT,REC,NODE0,NODE1,LASTDAY
"RTN","ECXCPRO",57,0)
 K ^TMP($J,"ECXP") S LASTDAY=""
"RTN","ECXCPRO",58,0)
 ;determine which extracts contain data for report
"RTN","ECXCPRO",59,0)
 S (EXTRACT,E)=0
"RTN","ECXCPRO",60,0)
 F  S E=$O(^ECX(727,"E",ECXHEAD,E)) Q:'E  D
"RTN","ECXCPRO",61,0)
 .Q:'$D(^ECX(727,E,0))
"RTN","ECXCPRO",62,0)
 .Q:$P($G(^ECX(727,E,0)),U,4)<ECXARRAY("START")
"RTN","ECXCPRO",63,0)
 .Q:$P($G(^ECX(727,E,0)),U,4)>ECXARRAY("END")
"RTN","ECXCPRO",64,0)
 .Q:$G(^ECX(727,E,"DIV"))'=+ECXPRIME
"RTN","ECXCPRO",65,0)
 .S EXTRACT(E)=^ECX(727,E,0)
"RTN","ECXCPRO",66,0)
 .I $P(EXTRACT(E),U,5)>LASTDAY S LASTDAY=$P(EXTRACT(E),U,5)
"RTN","ECXCPRO",67,0)
 ;setup array of station numbers included in report
"RTN","ECXCPRO",68,0)
 F DIV=0:0 S DIV=$O(ECXDIV(DIV)) Q:'DIV  S ECXSTAT=$P(ECXDIV(DIV),U,2),DIVISION(ECXSTAT)=ECXDIV(DIV)
"RTN","ECXCPRO",69,0)
 ;get the extract data
"RTN","ECXCPRO",70,0)
 S E=0 F  S E=$O(EXTRACT(E)) Q:'E  S REC=0 I $D(^ECX(727.826,"AC",E)) F  S REC=$O(^ECX(727.826,"AC",E,REC)) Q:'REC  D
"RTN","ECXCPRO",71,0)
 .S NODE0=$G(^ECX(727.826,REC,0)),NODE1=$G(^ECX(727.826,REC,1)) Q:NODE0=""
"RTN","ECXCPRO",72,0)
 .S (ECXCTAMT,ECXLLC,ECXLMC)=0
"RTN","ECXCPRO",73,0)
 .S ECXFELOC=$P(NODE0,U,10),ECXFEKEY=$P(NODE0,U,11)
"RTN","ECXCPRO",74,0)
 .S ECXHCPC=$E(ECXFEKEY,1,5),ECXTYPE=$E(ECXFEKEY,6),ECXSRCE=$E(ECXFEKEY,7)
"RTN","ECXCPRO",75,0)
 .S ECXQTY=$P(NODE0,U,12),ECXCTAMT=$P(NODE0,U,21),ECXGRPR=$P(NODE1,U,4)
"RTN","ECXCPRO",76,0)
 .I ECXFELOC["NONL" S ECXSTAT=$P(ECXFELOC,"NONL",1),ECXFORM="NONL"
"RTN","ECXCPRO",77,0)
 .;if this station is lab requesting station, then count lab transaction
"RTN","ECXCPRO",78,0)
 .I ECXFELOC["ORD" D
"RTN","ECXCPRO",79,0)
 ..S ECXSTAT=$P(ECXFELOC,"ORD",1),ECXFORM="ORD"
"RTN","ECXCPRO",80,0)
 ..S ECXLLC=$P(NODE0,U,22),ECXLMC=$P(NODE0,U,23)
"RTN","ECXCPRO",81,0)
 .;ignore record for receiving station feeder location
"RTN","ECXCPRO",82,0)
 .Q:ECXFELOC["LAB"
"RTN","ECXCPRO",83,0)
 .;ignore record if division not included in this report
"RTN","ECXCPRO",84,0)
 .Q:ECXSTAT=""  Q:'$D(DIVISION(ECXSTAT))
"RTN","ECXCPRO",85,0)
 .;if combining data from all subdivisions, then set in ^tmp using primary station#
"RTN","ECXCPRO",86,0)
 .I ECXALL=1 S ECXSTAT=$P(ECXPRIME,U,2)
"RTN","ECXCPRO",87,0)
 .;be sure there's no padding on cost variables
"RTN","ECXCPRO",88,0)
 .S ECXCTAMT=+$TR(ECXCTAMT," ",0),ECXLLC=+$TR(ECXLLC," ",0),ECXLMC=+$TR(ECXLMC," ",0)
"RTN","ECXCPRO",89,0)
 .;tmp global holds - com qty^com cost^va nonlab qty^va nonlab cost^lab qty^lab labor cost^lab matrl cost
"RTN","ECXCPRO",90,0)
 .I '$D(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC)) S ^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC)="0^0^0^0^0^0^0"
"RTN","ECXCPRO",91,0)
 .I ECXSRCE="C",ECXFORM="NONL" D
"RTN","ECXCPRO",92,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,1)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,1)+ECXQTY
"RTN","ECXCPRO",93,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,2)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,2)+ECXCTAMT
"RTN","ECXCPRO",94,0)
 .I ECXSRCE="V",ECXFORM="NONL" D
"RTN","ECXCPRO",95,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,3)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,3)+ECXQTY
"RTN","ECXCPRO",96,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,4)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,4)+ECXCTAMT
"RTN","ECXCPRO",97,0)
 .I ECXFORM="ORD" D
"RTN","ECXCPRO",98,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,5)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,5)+ECXQTY
"RTN","ECXCPRO",99,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,6)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,6)+ECXLLC
"RTN","ECXCPRO",100,0)
 ..S $P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,7)=$P(^TMP($J,"ECXP",ECXSTAT,ECXTYPE,ECXHCPC),U,7)+ECXLMC
"RTN","ECXCPRO",101,0)
 ;setup hcpcs descriptions
"RTN","ECXCPRO",102,0)
 D HCPCS
"RTN","ECXCPRO",103,0)
 ;print report
"RTN","ECXCPRO",104,0)
 D PRINT^ECXCPRO1
"RTN","ECXCPRO",105,0)
 ;cleanup
"RTN","ECXCPRO",106,0)
 D AUDIT^ECXKILL
"RTN","ECXCPRO",107,0)
 Q
"RTN","ECXCPRO",108,0)
 ;
"RTN","ECXCPRO",109,0)
HCPCS ;setup hcpcs cross-reference
"RTN","ECXCPRO",110,0)
 N H,CPT,CPTNM,DESC
"RTN","ECXCPRO",111,0)
 S H=0
"RTN","ECXCPRO",112,0)
 F  S H=$O(^RMPR(661.1,H)) Q:+H<1  D
"RTN","ECXCPRO",113,0)
 .;don't skip inactive hcpcs in case doing previous fy
"RTN","ECXCPRO",114,0)
 .S CPTNM="",CPT=$P(^RMPR(661.1,H,0),U,4)
"RTN","ECXCPRO",115,0)
 .I +CPT>0 S CPTNM=$P(^ICPT(CPT,0),U,1),DESC=$E($P(^ICPT(CPT,0),U,2),1,26)
"RTN","ECXCPRO",116,0)
 .Q:CPTNM=""
"RTN","ECXCPRO",117,0)
 .S ^TMP($J,"HCPCS",CPTNM)=DESC
"RTN","ECXCPRO",118,0)
 Q
"RTN","ECXDEFIN")
0^40^B43403193
"RTN","ECXDEFIN",1,0)
ECXDEFIN ;ALB/JAP,BIR/DMA-Define Extract Formats for Auto Queuing ; 17 Mar 95 / 9:55 AM
"RTN","ECXDEFIN",2,0)
 ;;3.0;DSS EXTRACTS;**24**;Dec 22, 1997
"RTN","ECXDEFIN",3,0)
EN ;entry point from option
"RTN","ECXDEFIN",4,0)
 N OUT,DIC,DIR,DIQ,DIRUT,DTOUT,DUOUT,DA,DR,X,Y,J,JJ
"RTN","ECXDEFIN",5,0)
 D MES^XPDUTL(" ")
"RTN","ECXDEFIN",6,0)
 D MES^XPDUTL("This option allows you to queue the generation of a specific DSS extract.")
"RTN","ECXDEFIN",7,0)
 D MES^XPDUTL("The extract will then be automatically requeued to run next month and")
"RTN","ECXDEFIN",8,0)
 D MES^XPDUTL("each subsequent month until the end of the fiscal year.  It will be")
"RTN","ECXDEFIN",9,0)
 D MES^XPDUTL("requeued to run on the same day of each month at the same time of day.")
"RTN","ECXDEFIN",10,0)
 D MES^XPDUTL(" ")
"RTN","ECXDEFIN",11,0)
 S DIC="727.1",DIC(0)="AEQLMZ",ECF=0 D ^DIC
"RTN","ECXDEFIN",12,0)
 Q:Y<0  Q:$D(DTOUT)  Q:$D(DUOUT)
"RTN","ECXDEFIN",13,0)
 S (DA,ECDA)=+Y,ECDATA=Y(0),ECROU=^ECX(727.1,ECDA,"ROU"),X="SETUP^"_ECROU D @X
"RTN","ECXDEFIN",14,0)
 I '$D(ECNODE) S ECNODE=7
"RTN","ECXDEFIN",15,0)
 ;don't allow setup if more than 1 primary prosthetics division
"RTN","ECXDEFIN",16,0)
 I ECGRP="PRO" D  Q:OUT>1
"RTN","ECXDEFIN",17,0)
 .S OUT=0,J=0
"RTN","ECXDEFIN",18,0)
 .S ECXDA1=$O(^ECX(728,0))
"RTN","ECXDEFIN",19,0)
 .F  S J=$O(^ECX(728,ECXDA1,1,J)) Q:'J  I $D(^ECX(728,ECXDA1,1,J,0)) S OUT=OUT+1
"RTN","ECXDEFIN",20,0)
 .I OUT>1 D
"RTN","ECXDEFIN",21,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",22,0)
 ..D MES^XPDUTL("This DSS site is responsible for Prosthetics data from")
"RTN","ECXDEFIN",23,0)
 ..D MES^XPDUTL("more than one Primary Prosthetics Division.  Therefore,")
"RTN","ECXDEFIN",24,0)
 ..D MES^XPDUTL("the PRO extract may not be setup for automatic requeue.")
"RTN","ECXDEFIN",25,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",26,0)
 ..D MES^XPDUTL("Please use the Prosthetics Extract option on the Package")
"RTN","ECXDEFIN",27,0)
 ..D MES^XPDUTL("Extracts menu to generate the monthly PRO extract for each")
"RTN","ECXDEFIN",28,0)
 ..D MES^XPDUTL("Primary Prosthetics Division.  Exiting...")
"RTN","ECXDEFIN",29,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",30,0)
 .I $E(IOST)="C" D
"RTN","ECXDEFIN",31,0)
 ..S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXDEFIN",32,0)
 ..S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXDEFIN",33,0)
 ;don't allow setup if extract has never been run or if 1st extract of fiscal year
"RTN","ECXDEFIN",34,0)
 I ECGRP'="PRO" D
"RTN","ECXDEFIN",35,0)
 .S ECLDT=$P($G(^ECX(728,1,ECNODE)),U,ECPIECE)
"RTN","ECXDEFIN",36,0)
 I ECGRP="PRO" D
"RTN","ECXDEFIN",37,0)
 .S ECLDT=""
"RTN","ECXDEFIN",38,0)
 .S ECXDA1=$O(^ECX(728,0))
"RTN","ECXDEFIN",39,0)
 .I $D(^ECX(728,ECXDA1,1,ECXINST,0)) S ECLDT=$P(^ECX(728,ECXDA1,1,ECXINST,0),U,2)
"RTN","ECXDEFIN",40,0)
 I ECLDT="" D MSG Q
"RTN","ECXDEFIN",41,0)
 S X=$$CYFY^ECXUTL1(DT)
"RTN","ECXDEFIN",42,0)
 I ECLDT=$$FMADD^XLFDT($P(X,U,3),-1) D MSG Q
"RTN","ECXDEFIN",43,0)
 ;check if extract already queued to run
"RTN","ECXDEFIN",44,0)
 I $P(ECDATA,"^",6) D  Q
"RTN","ECXDEFIN",45,0)
 .F J=1:1 S X=$P($T(WARN+J),";",3,300) Q:X="QUIT"  W !,?5,X
"RTN","ECXDEFIN",46,0)
 .S DIR(0)="YA",DIR("A")="Do you wish to proceed? ",DIR("B")="N" K DIRUT,DUOUT,DTOUT
"RTN","ECXDEFIN",47,0)
 .D ^DIR K DIR
"RTN","ECXDEFIN",48,0)
 .I Y D QUEUE
"RTN","ECXDEFIN",49,0)
 D QUEUE
"RTN","ECXDEFIN",50,0)
 Q
"RTN","ECXDEFIN",51,0)
 ;
"RTN","ECXDEFIN",52,0)
QUEUE ;queue thru taskmanager
"RTN","ECXDEFIN",53,0)
 N ZTIO,ZTRTN,ZTDESC,ZTDTH,OUT,MONTH
"RTN","ECXDEFIN",54,0)
 D MES^XPDUTL(" ")
"RTN","ECXDEFIN",55,0)
 S OUT=0
"RTN","ECXDEFIN",56,0)
 F  D  Q:OUT
"RTN","ECXDEFIN",57,0)
 .D MES^XPDUTL(" ")
"RTN","ECXDEFIN",58,0)
 .S %DT="AEXR",%DT(0)=$$NOW^XLFDT+.0002,%DT("A")="Queue to run at what date/time?  "
"RTN","ECXDEFIN",59,0)
 .D ^%DT K %DT
"RTN","ECXDEFIN",60,0)
 .S ECD=Y
"RTN","ECXDEFIN",61,0)
 .I ECD<0 S OUT=1
"RTN","ECXDEFIN",62,0)
 .I $E(ECD,6,7)>28 D  Q
"RTN","ECXDEFIN",63,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",64,0)
 ..D MES^XPDUTL("Monthly extracts must be queued for a date not greater than the 28th.")
"RTN","ECXDEFIN",65,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",66,0)
 .S OUT=1
"RTN","ECXDEFIN",67,0)
 I ECD>DT D
"RTN","ECXDEFIN",68,0)
 .S:'$D(ECINST) ECINST=+$P(^ECX(728,1,0),U)
"RTN","ECXDEFIN",69,0)
 .S ECXINST=ECINST
"RTN","ECXDEFIN",70,0)
 .K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXDEFIN",71,0)
 .D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXDEFIN",72,0)
 .;get last date for all extracts except prosthetics
"RTN","ECXDEFIN",73,0)
 .I ECGRP'="PRO" D
"RTN","ECXDEFIN",74,0)
 ..S ECLDT=$S($D(^ECX(728,1,ECNODE)):$P(^(ECNODE),U,ECPIECE),1:2610624)
"RTN","ECXDEFIN",75,0)
 .;get last date for prosthetics
"RTN","ECXDEFIN",76,0)
 .I ECGRP="PRO" D
"RTN","ECXDEFIN",77,0)
 ..S ECLDT=""
"RTN","ECXDEFIN",78,0)
 ..S ECXDA1=$O(^ECX(728,0))
"RTN","ECXDEFIN",79,0)
 ..I $D(^ECX(728,ECXDA1,1,ECXINST,0)) S ECLDT=$P(^ECX(728,ECXDA1,1,ECXINST,0),U,2)
"RTN","ECXDEFIN",80,0)
 .;ecldt should be valid so continue
"RTN","ECXDEFIN",81,0)
 .I ECLDT D  Q:'$G(Y)  Q:$D(DIRUT)
"RTN","ECXDEFIN",82,0)
 ..S ECFDT=$$LASTMON(ECD)
"RTN","ECXDEFIN",83,0)
 ..;change to 1st day of month
"RTN","ECXDEFIN",84,0)
 ..S $E(ECFDT,6,7)="01"
"RTN","ECXDEFIN",85,0)
 ..S ECDIF=$$FMDIFF^XLFDT(ECFDT,ECLDT)
"RTN","ECXDEFIN",86,0)
 ..Q:ECDIF=1
"RTN","ECXDEFIN",87,0)
 ..S Y=$E(ECFDT,1,5)_"00" D DD^%DT S MONTH=Y K Y
"RTN","ECXDEFIN",88,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",89,0)
 ..D MES^XPDUTL("The last date for the "_ECHEAD_" extract was "_$$FMTE^XLFDT(ECLDT)_".")
"RTN","ECXDEFIN",90,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",91,0)
 ..D MES^XPDUTL("When the extract is run using the queue date/time you supplied, data")
"RTN","ECXDEFIN",92,0)
 ..D MES^XPDUTL("for the month of "_MONTH_" will be extracted.")
"RTN","ECXDEFIN",93,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",94,0)
 ..I ECDIF>1 D MES^XPDUTL("It appears that there is a period of time for which data will not be extracted.")
"RTN","ECXDEFIN",95,0)
 ..I ECDIF<0 D MES^XPDUTL("It appears that you may be duplicating previously extracted data.")
"RTN","ECXDEFIN",96,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",97,0)
 ..S DIR(0)="YA",DIR("A")="Do you wish to proceed? ",DIR("B")="N" K DIRUT,DUOUT,DTOUT
"RTN","ECXDEFIN",98,0)
 ..D ^DIR K DIR
"RTN","ECXDEFIN",99,0)
 .S ZTRTN="QUE^"_ECROU,ZTDESC=ECPACK_" EXTRACT",ZTIO="",ZTDTH=ECD
"RTN","ECXDEFIN",100,0)
 .D ^%ZTLOAD
"RTN","ECXDEFIN",101,0)
 .I $G(ZTSK) D
"RTN","ECXDEFIN",102,0)
 ..S $P(^ECX(727.1,ECDA,0),"^",6)=1
"RTN","ECXDEFIN",103,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",104,0)
 ..D MES^XPDUTL("Request queued as Task #"_ZTSK)
"RTN","ECXDEFIN",105,0)
 ..D MES^XPDUTL("with automatic monthly requeue.")
"RTN","ECXDEFIN",106,0)
 ..D MES^XPDUTL(" ")
"RTN","ECXDEFIN",107,0)
 ..I $E(IOST)="C" D
"RTN","ECXDEFIN",108,0)
 ...S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXDEFIN",109,0)
 ...S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXDEFIN",110,0)
 K ECD,ECDA,ECDATA,ECDIF,ECF,ECFDT,ECFILE,ECGRP,ECHEAD,ECLDT,ECPIECE,ECPACK,ECROU,ECINST,ECNODE,ECXDA1,ECXINST
"RTN","ECXDEFIN",111,0)
 Q
"RTN","ECXDEFIN",112,0)
 ;
"RTN","ECXDEFIN",113,0)
WARN ;
"RTN","ECXDEFIN",114,0)
 ;;  
"RTN","ECXDEFIN",115,0)
 ;;It appears that the extract has already been queued to run.  If you make 
"RTN","ECXDEFIN",116,0)
 ;;changes now, there is a possibility that data for a particular date range
"RTN","ECXDEFIN",117,0)
 ;;may be omitted from the extract process and not transmitted to AAC.
"RTN","ECXDEFIN",118,0)
 ;; 
"RTN","ECXDEFIN",119,0)
 ;;Before continuing, you should carefully review the extract history for
"RTN","ECXDEFIN",120,0)
 ;;this extract.  You should also verify that this extract is not currently
"RTN","ECXDEFIN",121,0)
 ;;queued to run in the future.
"RTN","ECXDEFIN",122,0)
 ;;  
"RTN","ECXDEFIN",123,0)
 ;;QUIT
"RTN","ECXDEFIN",124,0)
 ;
"RTN","ECXDEFIN",125,0)
MSG ;
"RTN","ECXDEFIN",126,0)
 D MES^XPDUTL(" ")
"RTN","ECXDEFIN",127,0)
 I ECLDT="" D
"RTN","ECXDEFIN",128,0)
 .D MES^XPDUTL("Automatic requeue may not be setup for a DSS extract")
"RTN","ECXDEFIN",129,0)
 .D MES^XPDUTL("which has never been previously generated.")
"RTN","ECXDEFIN",130,0)
 I ECLDT D
"RTN","ECXDEFIN",131,0)
 .D MES^XPDUTL("Automatic requeue may not be setup to generate the October")
"RTN","ECXDEFIN",132,0)
 .D MES^XPDUTL("extract of the current fiscal year.")
"RTN","ECXDEFIN",133,0)
 D MES^XPDUTL(" ")
"RTN","ECXDEFIN",134,0)
 D MES^XPDUTL("Please use the appropriate option on the Package Extracts")
"RTN","ECXDEFIN",135,0)
 D MES^XPDUTL("menu to generate the first monthly "_ECHEAD_" extract of")
"RTN","ECXDEFIN",136,0)
 D MES^XPDUTL("the current fiscal year.  Exiting...")
"RTN","ECXDEFIN",137,0)
 D MES^XPDUTL(" ")
"RTN","ECXDEFIN",138,0)
 I $E(IOST)="C" D
"RTN","ECXDEFIN",139,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXDEFIN",140,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXDEFIN",141,0)
 Q
"RTN","ECXDEFIN",142,0)
 ;
"RTN","ECXDEFIN",143,0)
NEXTMON(ECXDATE) ;get date for date+(1 month)
"RTN","ECXDEFIN",144,0)
 ;input ECXDATE = FM date or date/time [required]
"RTN","ECXDEFIN",145,0)
 ;                where day of month is cannot be greater than 28
"RTN","ECXDEFIN",146,0)
 ;output returns FM date or date/time; next month, but same day of month
"RTN","ECXDEFIN",147,0)
 N DATE,ECXNEXT,X1,X2,X
"RTN","ECXDEFIN",148,0)
 S DATE=$P(ECXDATE,".")
"RTN","ECXDEFIN",149,0)
 I +$E(DATE,6,7)>28 S $E(DATE,6,7)="28"
"RTN","ECXDEFIN",150,0)
 S X1=DATE,X2=30 D C^%DTC
"RTN","ECXDEFIN",151,0)
 S ECXNEXT=X
"RTN","ECXDEFIN",152,0)
 I $E(ECXNEXT,6,7)'=$E(ECXDATE,6,7) S $E(ECXNEXT,6,7)=$E(ECXDATE,6,7)
"RTN","ECXDEFIN",153,0)
 I $P(ECXDATE,".",2) S $P(ECXNEXT,".",2)=$P(ECXDATE,".",2)
"RTN","ECXDEFIN",154,0)
 Q ECXNEXT
"RTN","ECXDEFIN",155,0)
 ;
"RTN","ECXDEFIN",156,0)
LASTMON(ECXDATE) ;get last day of previous month
"RTN","ECXDEFIN",157,0)
 ;input ECXDATE = FM date or date/time [required]
"RTN","ECXDEFIN",158,0)
 ;output returns FM date; previous month, last day of month
"RTN","ECXDEFIN",159,0)
 N DATE,ECXLAST,X1,X2,X
"RTN","ECXDEFIN",160,0)
 S DATE=$P(ECXDATE,"."),DATE=$E(DATE,1,5)_"01"
"RTN","ECXDEFIN",161,0)
 S X1=DATE,X2=-1 D C^%DTC
"RTN","ECXDEFIN",162,0)
 S ECXLAST=X
"RTN","ECXDEFIN",163,0)
 Q ECXLAST
"RTN","ECXDENT")
0^4^B7325270
"RTN","ECXDENT",1,0)
ECXDENT ;ALB/JAP,BIR/DMA,PTD-Dental Extract for DSS ; [ 11/22/96  5:23 PM ]
"RTN","ECXDENT",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,24**;Dec 22, 1997
"RTN","ECXDENT",3,0)
BEG ;entry point from option
"RTN","ECXDENT",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXDENT",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXDENT",6,0)
 Q
"RTN","ECXDENT",7,0)
 ;
"RTN","ECXDENT",8,0)
START ;start package specific extract
"RTN","ECXDENT",9,0)
 N DATA,X,Y
"RTN","ECXDENT",10,0)
 S QFLG=0
"RTN","ECXDENT",11,0)
 K ECXDD D FIELD^DID(220.5,.01,,"SPECIFIER","ECXDD") S ECPRO=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXDENT",12,0)
 S ECED=ECED+.3,ECD=ECSD1
"RTN","ECXDENT",13,0)
 F  S ECD=$O(^DENT(221,"B",ECD)),ECXJ=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECXJ=$O(^DENT(221,"B",ECD,ECXJ)) Q:'ECXJ  D  Q:QFLG
"RTN","ECXDENT",14,0)
 .Q:'$D(^DENT(221,ECXJ,0)) 
"RTN","ECXDENT",15,0)
 .S DATA=^DENT(221,ECXJ,0),$P(DATA,U,50)="" D STUFF
"RTN","ECXDENT",16,0)
 Q
"RTN","ECXDENT",17,0)
STUFF ;get data
"RTN","ECXDENT",18,0)
 S ECXDFN=+$P(DATA,U,4)
"RTN","ECXDENT",19,0)
 K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXDENT",20,0)
 Q:'OK
"RTN","ECXDENT",21,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXDENT",22,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECD),ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3)
"RTN","ECXDENT",23,0)
 S ECDEN=$P(DATA,U,3),ECDEN=$P($G(^DENT(220.5,ECDEN,0)),U) S:ECDEN]"" ECDEN=ECPRO_ECDEN S ECDENNPI=""
"RTN","ECXDENT",24,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECD,"."),ECPRO)
"RTN","ECXDENT",25,0)
 S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXDENT",26,0)
 S ECXDSSD=""
"RTN","ECXDENT",27,0)
 D FILE
"RTN","ECXDENT",28,0)
 Q
"RTN","ECXDENT",29,0)
 ;
"RTN","ECXDENT",30,0)
FILE ;file record
"RTN","ECXDENT",31,0)
 ;node0
"RTN","ECXDENT",32,0)
 ;inst^dfn^ssn^name^in/out^day^provider^screen/complete^admin proc^x-rays ex^x-rays int^prophy natural^prophy denture^op room^neoplasm malig^
"RTN","ECXDENT",33,0)
 ;neoplasm removed^biopsy/smear^fracture^pat category^other sig surg^surface restored^root canal^periodontal quads (surg)^perio quads (root plane)^
"RTN","ECXDENT",34,0)
 ;patient ed^spot check exam^indiv crowns^posts & cores^fixed partials (abut)^fixed partials (pont)^removable partials^complete dentures^prosthetic repair^
"RTN","ECXDENT",35,0)
 ;splints & spec procs^extractions^surg extractions^other sig treatment^div^completion/termination^interdisc consult^evaluation^pre-auth 2nd opinion^
"RTN","ECXDENT",36,0)
 ;spot check discrepancy^mov #^treat spec^primary care team^primary care provider^time
"RTN","ECXDENT",37,0)
 ;node1
"RTN","ECXDENT",38,0)
 ;mpi^dss dept^provider npi^pc provider npi^pc prov person class^assoc pc prov^assoc pc prov person class^assoc pc prov npi
"RTN","ECXDENT",39,0)
 N DA,DIK
"RTN","ECXDENT",40,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXDENT",41,0)
 S ECODE=EC7_U_EC23
"RTN","ECXDENT",42,0)
 S ECODE=ECODE_U_$P(DATA,U,40)_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL($P(DATA,U),ECXYM)_U_ECDEN
"RTN","ECXDENT",43,0)
 S ECODE=ECODE_U_$P(DATA,U,7,9)_U_$P(DATA,U,11,20)_U_$P(DATA,U,22,38)_U_$P(DATA,U,40,45)_U_ECXMN_U_ECXTS
"RTN","ECXDENT",44,0)
 S ECODE=ECODE_U_ECPTTM_U_ECPTPR_U_$$ECXTIME^ECXUTL($P(DATA,U))
"RTN","ECXDENT",45,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECDENNPI_U_ECPTNPI_U_ECCLAS_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXDENT",46,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXDENT",47,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXDENT",48,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXDENT",49,0)
 Q
"RTN","ECXDENT",50,0)
 ;
"RTN","ECXDENT",51,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXDENT",52,0)
 S ECHEAD="DEN"
"RTN","ECXDENT",53,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXDENT",54,0)
 Q
"RTN","ECXDENT",55,0)
 ;
"RTN","ECXDENT",56,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXDENT",57,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXDVSN2")
0^5^B40080633
"RTN","ECXDVSN2",1,0)
ECXDVSN2 ;ALB/JAP - Division selection utility (cont.) ;Sep 30, 1997
"RTN","ECXDVSN2",2,0)
 ;;3.0;DSS EXTRACTS;**14,24**;Dec 22, 1997
"RTN","ECXDVSN2",3,0)
 ;
"RTN","ECXDVSN2",4,0)
RAD(ECXDIV,ECXALL,ECXERR) ;setup division/site information for RAD extract audit report
"RTN","ECXDVSN2",5,0)
 ;   input
"RTN","ECXDVSN2",6,0)
 ;   ECXDIV = passed by reference array variable (required)
"RTN","ECXDVSN2",7,0)
 ;   ECXALL = 0/1 (optional)
"RTN","ECXDVSN2",8,0)
 ;            '0' indicates user to select radiology division;
"RTN","ECXDVSN2",9,0)
 ;            '1' indicates 'all' radiology divisions selected or only one division
"RTN","ECXDVSN2",10,0)
 ;                exists in file #79; default is '1'
"RTN","ECXDVSN2",11,0)
 ;   output
"RTN","ECXDVSN2",12,0)
 ;   ECXDIV = data for radiology division/site;
"RTN","ECXDVSN2",13,0)
 ;            ECXDIV(ien in file #79)=ien in file #4^name^station number
"RTN","ECXDVSN2",14,0)
 ;   ECXERR = 0/1
"RTN","ECXDVSN2",15,0)
 ;            if input problem, then '1' returned
"RTN","ECXDVSN2",16,0)
 N X,Y,DIC,DA,DUOUT,DTOUT,DR,DIQ,OUT,ECXARR,ECXD,ECXIEN
"RTN","ECXDVSN2",17,0)
 S:'$D(ECXALL) ECXALL=1 S:ECXALL="" ECXALL=1
"RTN","ECXDVSN2",18,0)
 S ECXERR=0,ECXD=""
"RTN","ECXDVSN2",19,0)
 ;if ecxall=1, then all radiology divisions/sites are selected
"RTN","ECXDVSN2",20,0)
 I ECXALL=1 D
"RTN","ECXDVSN2",21,0)
 .;ecxd=ecxien; both are iens in file #4
"RTN","ECXDVSN2",22,0)
 .F  S ECXD=$O(^RA(79,"B",ECXD)) Q:ECXD=""  S ECXIEN=$O(^(ECXD,"")) D
"RTN","ECXDVSN2",23,0)
 ..K ECXARR S DA=ECXIEN,DIC="^DIC(4,",DR=".01;99",DIQ="ECXARR" D EN^DIQ1
"RTN","ECXDVSN2",24,0)
 ..I $D(ECXARR) S ECXDIV(ECXIEN)=ECXIEN_U_ECXARR(4,ECXIEN,.01)_U_ECXARR(4,ECXIEN,99)
"RTN","ECXDVSN2",25,0)
 ;if ecxall=0, user selects radiology divisions/sites
"RTN","ECXDVSN2",26,0)
 I ECXALL=0 S OUT=0 D
"RTN","ECXDVSN2",27,0)
 .F  Q:OUT!ECXERR  D
"RTN","ECXDVSN2",28,0)
 ..S DIC="^RA(79,",DIC(0)="AEMQ" K X,Y D ^DIC
"RTN","ECXDVSN2",29,0)
 ..I $G(DUOUT)!($G(DTOUT)) S OUT=1,ECXERR=1 Q
"RTN","ECXDVSN2",30,0)
 ..I Y=-1,X="" S OUT=1 Q
"RTN","ECXDVSN2",31,0)
 ..S (ECXIEN,DA)=+Y K ECXARR S DIC="^DIC(4,",DR=".01;99",DIQ="ECXARR" D EN^DIQ1
"RTN","ECXDVSN2",32,0)
 ..I $D(ECXARR) S ECXDIV(ECXIEN)=ECXIEN_U_ECXARR(4,ECXIEN,.01)_U_ECXARR(4,ECXIEN,99)
"RTN","ECXDVSN2",33,0)
 I ECXERR=1 K ECXDIV
"RTN","ECXDVSN2",34,0)
 I '$D(ECXDIV) S ECXERR=1
"RTN","ECXDVSN2",35,0)
 Q
"RTN","ECXDVSN2",36,0)
 ;
"RTN","ECXDVSN2",37,0)
MTL(ECXDIV,ECXALL,ECXERR) ;setup division/site information for MTL extract audit report
"RTN","ECXDVSN2",38,0)
 ;   input
"RTN","ECXDVSN2",39,0)
 ;   ECXDIV = passed by reference array variable (required)
"RTN","ECXDVSN2",40,0)
 ;   ECXALL = 0/1 (optional)
"RTN","ECXDVSN2",41,0)
 ;            '0' not valid; mental health is non-divisional
"RTN","ECXDVSN2",42,0)
 ;            '1' indicates 'all' divisions selected or only one 
"RTN","ECXDVSN2",43,0)
 ;                exists in file #602; default is '1'
"RTN","ECXDVSN2",44,0)
 ;   output
"RTN","ECXDVSN2",45,0)
 ;   ECXDIV = data for site;
"RTN","ECXDVSN2",46,0)
 ;            ECXDIV(ien in file #602)=name in file #602^ien in file #4^name in file #4^station number
"RTN","ECXDVSN2",47,0)
 ;   ECXERR = 0/1
"RTN","ECXDVSN2",48,0)
 ;            if error, then '1' returned; otherwise 0
"RTN","ECXDVSN2",49,0)
 N X,Y,DIC,DA,DR,DIQ,DATE,ECXARR,ECXIEN,SITE,DSITE,YSITE
"RTN","ECXDVSN2",50,0)
 S ECXALL=1
"RTN","ECXDVSN2",51,0)
 S ECXERR=0,ECXD=""
"RTN","ECXDVSN2",52,0)
 ;ecxall=0 is not valid; mental health application is non-divisional
"RTN","ECXDVSN2",53,0)
 ;ecxall=1; get mh site name from file #602
"RTN","ECXDVSN2",54,0)
 ;because mh site is free text, use dss site pointer to file #4
"RTN","ECXDVSN2",55,0)
 I ECXALL=1 D
"RTN","ECXDVSN2",56,0)
 .S X=$O(^YSA(602,"B",ECXD))
"RTN","ECXDVSN2",57,0)
 .I X="" S ECXERR=1 Q
"RTN","ECXDVSN2",58,0)
 .S ECXIEN=$O(^(X,""))
"RTN","ECXDVSN2",59,0)
 .K ECXARR S DA=ECXIEN,DIC="^YSA(602,",DR=".01",DIQ="ECXARR" D EN^DIQ1
"RTN","ECXDVSN2",60,0)
 .I '$D(ECXARR) S ECXERR=1 Q
"RTN","ECXDVSN2",61,0)
 .S YSITE=ECXARR(602,ECXIEN,.01)
"RTN","ECXDVSN2",62,0)
 .S DSSITE=$P($G(^ECX(728,1,0)),U)
"RTN","ECXDVSN2",63,0)
 .I 'DSSITE S ECXERR=1 Q
"RTN","ECXDVSN2",64,0)
 .K ECXARR S DA=DSSITE,DIC="^DIC(4,",DR=".01;99",DIQ="ECXARR" D EN^DIQ1
"RTN","ECXDVSN2",65,0)
 .S DATA=DSSITE_U_ECXARR(4,DSSITE,.01)_U_ECXARR(4,DSSITE,99)
"RTN","ECXDVSN2",66,0)
 .;name in file#602^file#4 pointer^name in file #4^station number with suffix
"RTN","ECXDVSN2",67,0)
 .S ECXDIV(ECXIEN)=YSITE_U_DATA
"RTN","ECXDVSN2",68,0)
 I ECXERR=1 K ECXDIV
"RTN","ECXDVSN2",69,0)
 I '$D(ECXDIV) S ECXERR=1
"RTN","ECXDVSN2",70,0)
 Q
"RTN","ECXDVSN2",71,0)
 ;
"RTN","ECXDVSN2",72,0)
SUR(ECXDIV,ECXALL,ECXERR) ;setup division/site information for SUR extract audit report
"RTN","ECXDVSN2",73,0)
 ;   input
"RTN","ECXDVSN2",74,0)
 ;   ECXDIV = passed by reference array variable (required)
"RTN","ECXDVSN2",75,0)
 ;   ECXALL = 0/1 (optional)
"RTN","ECXDVSN2",76,0)
 ;            '0' indicates user to select surgery division;
"RTN","ECXDVSN2",77,0)
 ;            '1' indicates 'all' surgery divisions selected or only one division
"RTN","ECXDVSN2",78,0)
 ;                exists in file #133; default is '1'
"RTN","ECXDVSN2",79,0)
 ;   output
"RTN","ECXDVSN2",80,0)
 ;   ECXDIV = data for surgery division/site;
"RTN","ECXDVSN2",81,0)
 ;            ECXDIV(ien in file #133)=ien in file #4^name^station number
"RTN","ECXDVSN2",82,0)
 ;   ECXERR = 0/1
"RTN","ECXDVSN2",83,0)
 ;            if input problem, then '1' returned
"RTN","ECXDVSN2",84,0)
 N X,Y,DIC,DA,DUOUT,DTOUT,DR,DIQ,OUT,ECXARR,ECXD,ECXIEN
"RTN","ECXDVSN2",85,0)
 S:'$D(ECXALL) ECXALL=1 S:ECXALL="" ECXALL=1
"RTN","ECXDVSN2",86,0)
 S ECXERR=0,ECXD=""
"RTN","ECXDVSN2",87,0)
 ;if ecxall=1, then all surgery divisions/sites are selected
"RTN","ECXDVSN2",88,0)
 I ECXALL=1 D
"RTN","ECXDVSN2",89,0)
 .F  S ECXD=$O(^SRO(133,"B",ECXD)) Q:ECXD=""  S ECXIEN=$O(^(ECXD,"")) D
"RTN","ECXDVSN2",90,0)
 ..K ECXARR S DA=ECXD,DIC="^DIC(4,",DR=".01;99",DIQ="ECXARR" D EN^DIQ1
"RTN","ECXDVSN2",91,0)
 ..I $D(ECXARR) S ECXDIV(ECXD)=ECXIEN_U_ECXARR(4,ECXD,.01)_U_ECXARR(4,ECXD,99)
"RTN","ECXDVSN2",92,0)
 ;if ecxall=0, user selects surgery divisions/sites
"RTN","ECXDVSN2",93,0)
 I ECXALL=0 S OUT=0 D
"RTN","ECXDVSN2",94,0)
 .F  Q:OUT!ECXERR  D
"RTN","ECXDVSN2",95,0)
 ..S DIC="^SRO(133,",DIC(0)="AEMQ" K X,Y D ^DIC
"RTN","ECXDVSN2",96,0)
 ..I $G(DUOUT)!($G(DTOUT)) S OUT=1,ECXERR=1 Q
"RTN","ECXDVSN2",97,0)
 ..I Y=-1,X="" S OUT=1 Q
"RTN","ECXDVSN2",98,0)
 ..S ECXIEN=+Y,(ECXD,DA)=$P(Y,U,2) K ECXARR S DIC="^DIC(4,",DR=".01;99",DIQ="ECXARR" D EN^DIQ1
"RTN","ECXDVSN2",99,0)
 ..I $D(ECXARR) S ECXDIV(ECXD)=ECXIEN_U_ECXARR(4,ECXD,.01)_U_ECXARR(4,ECXD,99)
"RTN","ECXDVSN2",100,0)
 I ECXERR=1 K ECXDIV
"RTN","ECXDVSN2",101,0)
 I '$D(ECXDIV) S ECXERR=1
"RTN","ECXDVSN2",102,0)
 Q
"RTN","ECXDVSN2",103,0)
 ;
"RTN","ECXDVSN2",104,0)
PRO(ECXDUZ,ECXPRIME,ECXDIV,ECXALL,ECXERR) ;setup division/site information for PRO extract reports
"RTN","ECXDVSN2",105,0)
 ;   input
"RTN","ECXDVSN2",106,0)
 ;   ECXDUX   = ien in file#200 for user
"RTN","ECXDVSN2",107,0)
 ;   ECXPRIME = primary division ien in file #4 (required)
"RTN","ECXDVSN2",108,0)
 ;   all other variables passed by reference
"RTN","ECXDVSN2",109,0)
 ;   output
"RTN","ECXDVSN2",110,0)
 ;   ECXALL = 0 (one subdivision)
"RTN","ECXDVSN2",111,0)
 ;            1 (all divisions related to primary division)
"RTN","ECXDVSN2",112,0)
 ;   ECXDIV = data array for prosthetics division/site;
"RTN","ECXDVSN2",113,0)
 ;            ECXDIV(n)=ien in file #4^name^station number
"RTN","ECXDVSN2",114,0)
 ;   ECXERR = 0/1
"RTN","ECXDVSN2",115,0)
 ;            if input problem, then '1' returned
"RTN","ECXDVSN2",116,0)
 N X,Y,DA,DR,DUOUT,DTOUT,DIRUT,DIC,DIQ,DIR,OUT,ECXARR
"RTN","ECXDVSN2",117,0)
 S ECXERR=0
"RTN","ECXDVSN2",118,0)
 I +ECXPRIME=0 S ECXERR=1
"RTN","ECXDVSN2",119,0)
 I '$D(^DIC(4,+ECXPRIME)) S ECXERR=1
"RTN","ECXDVSN2",120,0)
 D PDIV3^ECXPUTL(ECXDUZ,ECXPRIME,.ECXDIV)
"RTN","ECXDVSN2",121,0)
 I ECXDIV(1)=0 S ECXERR=1 Q
"RTN","ECXDVSN2",122,0)
 S ECXALL=1
"RTN","ECXDVSN2",123,0)
 S LAST=$O(ECXDIV(99),-1) I LAST>1 D
"RTN","ECXDVSN2",124,0)
 .W !!,"You may select ONE or ALL of the following:",!
"RTN","ECXDVSN2",125,0)
 .F DIV=1:1:LAST D
"RTN","ECXDVSN2",126,0)
 ..W !,"("_DIV_")",?6,$P(ECXDIV(DIV),U,2),?14,$P(ECXDIV(DIV),U,3)
"RTN","ECXDVSN2",127,0)
 .S DIR(0)="SMBA^A:ALL;O:ONE",DIR("A")="Select O(ne) or A(ll): ",DIR("B")="ALL"
"RTN","ECXDVSN2",128,0)
 .W ! K X,Y D ^DIR K DIR
"RTN","ECXDVSN2",129,0)
 .I $D(DUOUT)!($D(DTOUT)) K ECXDIV S OUT=1 Q
"RTN","ECXDVSN2",130,0)
 .Q:Y="A"
"RTN","ECXDVSN2",131,0)
 .S OUT=0 F  D  Q:OUT
"RTN","ECXDVSN2",132,0)
 ..S DIR(0)="NA^1:99:0",DIR("A")="Which one?: ",DIR("?")="^D HELP^ECXDVSN2"
"RTN","ECXDVSN2",133,0)
 ..W ! K X,Y D ^DIR K DIR
"RTN","ECXDVSN2",134,0)
 ..I $D(ECXDIV(+Y)) S DIV=+Y,OUT=1,ECXALL=0 Q
"RTN","ECXDVSN2",135,0)
 ..I $D(DUOUT)!($D(DTOUT)) K ECXDIV S OUT=1 Q
"RTN","ECXDVSN2",136,0)
 .Q:'$D(ECXDIV)
"RTN","ECXDVSN2",137,0)
 .F X=1:1:LAST I X'=DIV K ECXDIV(X)
"RTN","ECXDVSN2",138,0)
 I '$D(ECXDIV) S ECXERR=1
"RTN","ECXDVSN2",139,0)
 Q
"RTN","ECXDVSN2",140,0)
 ;
"RTN","ECXDVSN2",141,0)
HELP ;help for dir in pro
"RTN","ECXDVSN2",142,0)
 W !,"A response is required from the following:",!
"RTN","ECXDVSN2",143,0)
 F DIV=1:1:LAST D
"RTN","ECXDVSN2",144,0)
 .W !,"("_DIV_")",?6,$P(ECXDIV(DIV),U,2),?14,$P(ECXDIV(DIV),U,3)
"RTN","ECXDVSN2",145,0)
 W !,"Or ""^"" to exit."
"RTN","ECXDVSN2",146,0)
 Q
"RTN","ECXDVSN2",147,0)
 ;
"RTN","ECXDVSN2",148,0)
ALL(ECXDIV,ECXALL,ECXSTART,ECXEND,ECXERR) ;general purpose division information
"RTN","ECXDVSN2",149,0)
 ;   input
"RTN","ECXDVSN2",150,0)
 ;   ECXDIV = array of divisions selected (required)
"RTN","ECXDVSN2",151,0)
 ;            passed by reference array to contain
"RTN","ECXDVSN2",152,0)
 ;            selected divisions;
"RTN","ECXDVSN2",153,0)
 ;   ECXALL = 1/0 (optional)
"RTN","ECXDVSN2",154,0)
 ;            1==> user wants all divisions OR
"RTN","ECXDVSN2",155,0)
 ;                 facility is non-divisional
"RTN","ECXDVSN2",156,0)
 ;            0==> user wants to select some divisions
"RTN","ECXDVSN2",157,0)
 ;            if ECXALL not defined, then assume 1
"RTN","ECXDVSN2",158,0)
 ;   ECXSTART = start date of date range (optional)
"RTN","ECXDVSN2",159,0)
 ;   ECXEND   = end date of date range (optional)
"RTN","ECXDVSN2",160,0)
 ;   ECXERR   = passed by reference for error return (required)
"RTN","ECXDVSN2",161,0)
 ;   output
"RTN","ECXDVSN2",162,0)
 ;   ECXDIV = array of divisions selected from file #40.8;
"RTN","ECXDVSN2",163,0)
 ;   ECXDIV(ien in file #40.8) = ien in file #4^name^station number^primary indicator^active indicator^dss id
"RTN","ECXDVSN2",164,0)
 ;   error CODE
"RTN","ECXDVSN2",165,0)
 ;   ECXERR   = 1, if input problem occurs
"RTN","ECXDVSN2",166,0)
 ;              0, otherwise
"RTN","ECXDVSN2",167,0)
 ;
"RTN","ECXDVSN2",168,0)
 N OUT,DIC,X,Y,NM,ECXD,ECXIEN,ECXDIEN,ECXACT,ECXNAME,ECXNUM
"RTN","ECXDVSN2",169,0)
 S (OUT,ECXERR)=0
"RTN","ECXDVSN2",170,0)
 ;if start date or end date missing, then both default to today
"RTN","ECXDVSN2",171,0)
 I '$G(ECXSTART)!('$G(ECXEND)) S (ECXSTART,ECXEND)=DT
"RTN","ECXDVSN2",172,0)
 S:'$D(ECXALL) ECXALL=1 S:ECXALL="" ECXALL=1
"RTN","ECXDVSN2",173,0)
 I ECXALL=1 D
"RTN","ECXDVSN2",174,0)
 .S NM="" F  S NM=$O(^DG(40.8,"B",NM)) Q:NM=""  S ECXIEN=$O(^(NM,"")) D
"RTN","ECXDVSN2",175,0)
 ..K Y S DIC="^DG(40.8,",DIC(0)="NZ",X=ECXIEN D ^DIC
"RTN","ECXDVSN2",176,0)
 ..Q:Y=-1
"RTN","ECXDVSN2",177,0)
 ..S ECXNAME=$P(Y(0),U,1),ECXNUM=$P(Y(0),U,2),ECXDIEN=$P(Y(0),U,7)
"RTN","ECXDVSN2",178,0)
 ..S ECXDIV(ECXIEN)=ECXDIEN_U_ECXNAME_U_ECXNUM
"RTN","ECXDVSN2",179,0)
 ..D ACTDIV^ECXDVSN(ECXIEN,ECXSTART,ECXEND,.ECXD,.ECXACT)
"RTN","ECXDVSN2",180,0)
 ..S ECXDIV(ECXIEN)=ECXDIV(ECXIEN)_U_ECXD_U_ECXACT
"RTN","ECXDVSN2",181,0)
 ..I $D(^ECX(727.3,ECXIEN)) D
"RTN","ECXDVSN2",182,0)
 ...S ECXDIV(ECXIEN)=ECXDIV(ECXIEN)_U_$P($G(^ECX(727.3,ECXIEN,0)),U,2)
"RTN","ECXDVSN2",183,0)
 I ECXALL=0 F  Q:OUT!ECXERR  D
"RTN","ECXDVSN2",184,0)
 .K Y S DIC="^DG(40.8,",DIC(0)="AEMQZ"
"RTN","ECXDVSN2",185,0)
 .D ^DIC I $G(DUOUT)!($G(DTOUT)) S OUT=1,ECXERR=1 Q
"RTN","ECXDVSN2",186,0)
 .I Y=-1,X="" S OUT=1 Q
"RTN","ECXDVSN2",187,0)
 .S ECXIEN=+Y,ECXNAME=$P(Y(0),U,1),ECXNUM=$P(Y(0),U,2),ECXDIEN=$P(Y(0),U,7)
"RTN","ECXDVSN2",188,0)
 .S ECXDIV(ECXIEN)=ECXDIEN_U_ECXNAME_U_ECXNUM
"RTN","ECXDVSN2",189,0)
 .D ACTDIV^ECXDVSN(ECXIEN,ECXSTART,ECXEND,.ECXD,.ECXACT)
"RTN","ECXDVSN2",190,0)
 .S ECXDIV(ECXIEN)=ECXDIV(ECXIEN)_U_ECXD_U_ECXACT
"RTN","ECXDVSN2",191,0)
 .I $D(^ECX(727.3,ECXIEN)) D
"RTN","ECXDVSN2",192,0)
 ..S ECXDIV(ECXIEN)=ECXDIV(ECXIEN)_U_$P($G(^ECX(727.3,ECXIEN,0)),U,2)
"RTN","ECXDVSN2",193,0)
 .I 'ECXACT W !!,?5,"Please note: Division "_ECXNUM_" was not active during",!,?5,"             selected date range.",!
"RTN","ECXDVSN2",194,0)
 I ECXERR=1 K ECXDIV
"RTN","ECXDVSN2",195,0)
 I '$D(ECXDIV) S ECXERR=1
"RTN","ECXDVSN2",196,0)
 Q
"RTN","ECXDVSNX")
0^6^B6385618
"RTN","ECXDVSNX",1,0)
ECXDVSNX ;ALB/JAP - Division Identifier for DSS ;July 16, 1998
"RTN","ECXDVSNX",2,0)
 ;;3.0;DSS EXTRACTS;**8,24**;Dec 22, 1997
"RTN","ECXDVSNX",3,0)
 ;
"RTN","ECXDVSNX",4,0)
EN ;entry point from menu option
"RTN","ECXDVSNX",5,0)
 ;user adds any division to file #727.3
"RTN","ECXDVSNX",6,0)
 N D,L,X,Y,YR,MON,FY,CODES,OUT,%,DIR,DIRUT,DTOUT,DUOUT,DIC,DIE,DR
"RTN","ECXDVSNX",7,0)
 D NOW^%DTC S ECX=$$FMTE^XLFDT(%,"5D"),YR=+$P(ECX,"/",3),MON=+$P(ECX,"/",1),FY=$S(MON<10:YR,1:YR+1)
"RTN","ECXDVSNX",8,0)
 S ECXFY=FY-1700,ECFYB=ECXFY-1_"1000",ECFYE=ECXFY_"1001"
"RTN","ECXDVSNX",9,0)
 ;get all divisions active during this fiscal year
"RTN","ECXDVSNX",10,0)
 D ALL^ECXDVSN2(.ECXDIV,1,ECFYB,ECFYE,.ECXERR)
"RTN","ECXDVSNX",11,0)
 S CODES="" F D=0:0 S D=$O(ECXDIV(D)) Q:D=""  S CODES=CODES_D_":"_$P(ECXDIV(D),U,2)_";"
"RTN","ECXDVSNX",12,0)
 S L=$L(CODES),CODES=$E(CODES,1,L-1)
"RTN","ECXDVSNX",13,0)
 D SELECT
"RTN","ECXDVSNX",14,0)
 G EXIT
"RTN","ECXDVSNX",15,0)
 Q
"RTN","ECXDVSNX",16,0)
 ;
"RTN","ECXDVSNX",17,0)
SELECT ;select division
"RTN","ECXDVSNX",18,0)
 W !!
"RTN","ECXDVSNX",19,0)
 S DIR(0)="SAO^"_CODES,DIR("A")="Select Medical Center Division: " K X,Y
"RTN","ECXDVSNX",20,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ECXDVSNX",21,0)
 S ECXDIV=+Y
"RTN","ECXDVSNX",22,0)
 W !!,"Division:",?20,$P(ECXDIV(ECXDIV),U,2)
"RTN","ECXDVSNX",23,0)
 I $P(ECXDIV(ECXDIV),U,5)=0 W "   **Inactive**"
"RTN","ECXDVSNX",24,0)
 W !,"Station number:",?20,$P(ECXDIV(ECXDIV),U,3)
"RTN","ECXDVSNX",25,0)
 W !,"Primary division?:",?20,$S(+$P(ECXDIV(ECXDIV),U,4):"Yes",1:"No")
"RTN","ECXDVSNX",26,0)
 S DR="1;",DIQ(0)="E",DIQ="ECX",DA=ECXDIV,DIC="^ECX(727.3," K ECX D EN^DIQ1
"RTN","ECXDVSNX",27,0)
 ;if division already has a dss identifier, then display it
"RTN","ECXDVSNX",28,0)
 I $G(ECX(727.3,ECXDIV,1,"E"))]"" D  Q:$D(DTOUT)  G:Y=0 SELECT
"RTN","ECXDVSNX",29,0)
 .W !,"DSS Identifier:",?20,ECX(727.3,ECXDIV,1,"E"),!
"RTN","ECXDVSNX",30,0)
 .S DIR(0)="YA",DIR("A")="Do you want to change this identifier? ",DIR("B")="NO"
"RTN","ECXDVSNX",31,0)
 .K X,Y D ^DIR K DIR
"RTN","ECXDVSNX",32,0)
 ;allow user to enter/edit dss division identifier
"RTN","ECXDVSNX",33,0)
 S OUT=0
"RTN","ECXDVSNX",34,0)
 F  D  Q:$D(DIRUT)!(OUT=1)
"RTN","ECXDVSNX",35,0)
 .W !
"RTN","ECXDVSNX",36,0)
 .S DIR(0)="FA^1:1",DIR("A")="Enter the DSS Division Identifier: "
"RTN","ECXDVSNX",37,0)
 .K X,Y D ^DIR K DIR Q:$D(DIRUT)
"RTN","ECXDVSNX",38,0)
 .I X?.P!(X?.L)!($L(X)>1)!(X="0") W !,"Invalid ...try again.",! Q
"RTN","ECXDVSNX",39,0)
 .I '$$CHKCODE(X,ECXDIV) W !,"Already used for another division ...try again.",! Q
"RTN","ECXDVSNX",40,0)
 .S ECXID=X,OUT=1
"RTN","ECXDVSNX",41,0)
 G:$D(DUOUT) SELECT
"RTN","ECXDVSNX",42,0)
 Q:$D(DTOUT)
"RTN","ECXDVSNX",43,0)
 ;if selected division isn't in file #727.3, then add it
"RTN","ECXDVSNX",44,0)
 I '$D(ECX(727.3,ECXDIV)) D
"RTN","ECXDVSNX",45,0)
 .S (X,DINUM)=ECXDIV,DIC(0)="L",DLAYGO=727.3,DIC="^ECX(727.3,"
"RTN","ECXDVSNX",46,0)
 .K DD,DO D FILE^DICN K DINUM,DLAYGO,X,Y
"RTN","ECXDVSNX",47,0)
 ;update with new identifier
"RTN","ECXDVSNX",48,0)
 S DIE="^ECX(727.3,",DA=ECXDIV,DR="1////^S X=ECXID;" D ^DIE
"RTN","ECXDVSNX",49,0)
 W !!
"RTN","ECXDVSNX",50,0)
 G SELECT
"RTN","ECXDVSNX",51,0)
 ;
"RTN","ECXDVSNX",52,0)
EXIT ;common exit point
"RTN","ECXDVSNX",53,0)
 K ECX,ECXDIV,ECXERR,ECXFY,ECFYB,ECFYE
"RTN","ECXDVSNX",54,0)
 Q
"RTN","ECXDVSNX",55,0)
 ;
"RTN","ECXDVSNX",56,0)
CHKCODE(X,ECXDIV) ;make sure dss identifier is unique
"RTN","ECXDVSNX",57,0)
 I '$D(^ECX(727.3,"C",X)) Q 1
"RTN","ECXDVSNX",58,0)
 S XX=$O(^ECX(727.3,"C",X,0))
"RTN","ECXDVSNX",59,0)
 I XX'=ECXDIV Q 0
"RTN","ECXDVSNX",60,0)
 Q 1
"RTN","ECXEC")
0^7^B17249712
"RTN","ECXEC",1,0)
ECXEC ;ALB/JAP,BIR/JLP,PTD-DSS Event Capture Extract  [ 02/14/97   2:26 PM ]
"RTN","ECXEC",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,24**;Dec 22, 1997
"RTN","ECXEC",3,0)
BEG ;entry point from option
"RTN","ECXEC",4,0)
 I '$D(^ECH) W !,"Event Capture is not initialized",!! Q
"RTN","ECXEC",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXEC",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXEC",7,0)
 Q
"RTN","ECXEC",8,0)
START ;begin EC extract
"RTN","ECXEC",9,0)
 N X,Y
"RTN","ECXEC",10,0)
 S QFLG=0
"RTN","ECXEC",11,0)
 S ECED=ECED+.3
"RTN","ECXEC",12,0)
 K ^TMP("EC",$J)
"RTN","ECXEC",13,0)
 S ECLL=0
"RTN","ECXEC",14,0)
 F  S ECLL=$O(^ECH("AC1",ECLL)),ECD=ECSD-.1 Q:('ECLL)!(QFLG)  F  S ECD=$O(^ECH("AC1",ECLL,ECD)),ECDA=0 Q:(ECD>ECED)!('ECD)!(QFLG)  D
"RTN","ECXEC",15,0)
 .F  S ECDA=$O(^ECH("AC1",ECLL,ECD,ECDA)) Q:'ECDA  D UPDATE Q:QFLG
"RTN","ECXEC",16,0)
 Q
"RTN","ECXEC",17,0)
 ;
"RTN","ECXEC",18,0)
UPDATE ;sets record and updates counters
"RTN","ECXEC",19,0)
 S ECCH=^ECH(ECDA,0),ECL=$P(ECCH,U,4),ECXDFN=$P(ECCH,U,2),ECDT=$P(ECCH,U,3),ECM=$P(ECCH,U,6),ECC=$P(ECCH,U,8),ECTM=$$ECXTIME^ECXUTL(ECDT)
"RTN","ECXEC",20,0)
 K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECDT,"."),"1;",.ECXPAT)
"RTN","ECXEC",21,0)
 Q:'OK
"RTN","ECXEC",22,0)
 S ECXSSN=ECXPAT("SSN"),ECXPNM=ECXPAT("NAME"),ECXMPI=ECXPAT("MPI")
"RTN","ECXEC",23,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECDT,"."))
"RTN","ECXEC",24,0)
 S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXEC",25,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECDT),ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3)
"RTN","ECXEC",26,0)
 S ECP=$P(ECCH,U,9)
"RTN","ECXEC",27,0)
 Q:ECP']""
"RTN","ECXEC",28,0)
 S ECO=$P(ECCH,U,12),ECV=$P(ECCH,U,10),ECDU=$P(ECCH,U,7)
"RTN","ECXEC",29,0)
 S ECXUNIT=$G(^ECD(ECDU,0)),ECCS=+$P(ECXUNIT,U,4),ECDCM=$P(ECXUNIT,U,5),ECUSTOP=$P(ECXUNIT,U,10),ECUPCE=$P(ECXUNIT,U,14)
"RTN","ECXEC",30,0)
 ;derivation of dss identifier depends on whether dss unit is set to send data to pce
"RTN","ECXEC",31,0)
 S ECAC=$P($G(ECCH),U,19)
"RTN","ECXEC",32,0)
 ;if this is a record that 'goes to pce', then get the dss identifier from the clinic stop codes
"RTN","ECXEC",33,0)
 S (ECAC1S,ECAC2S)="000"
"RTN","ECXEC",34,0)
 I ECUPCE="A"!(ECUPCE="O"&(ECXA=1)) D
"RTN","ECXEC",35,0)
 .I +ECAC D
"RTN","ECXEC",36,0)
 ..S ECAC1=$P($G(^SC(+ECAC,0)),U,7),ECAC2=$P($G(^(0)),U,18)
"RTN","ECXEC",37,0)
 ..I 'ECAC2 S ECAC2S="000"
"RTN","ECXEC",38,0)
 ..I 'ECAC1 S (ECAC1S,ECAC2S)="000" Q
"RTN","ECXEC",39,0)
 ..S ECAC1S=$P($G(^DIC(40.7,+ECAC1,0)),U,2),ECAC2S=$P($G(^DIC(40.7,+ECAC2,0)),U,2)
"RTN","ECXEC",40,0)
 ..S ECAC1S=$$RJ^XLFSTR(ECAC1S,3,0),ECAC2S=$$RJ^XLFSTR(ECAC2S,3,0)
"RTN","ECXEC",41,0)
 .I 'ECAC D
"RTN","ECXEC",42,0)
 ..S (ECAC1S,ECAC2S)="000"
"RTN","ECXEC",43,0)
 ;if this record doesn't go to pce, then get the dss idetifier from the dss unit
"RTN","ECXEC",44,0)
 I ECUPCE=""!(ECUPCE="N")!(ECUPCE="O"&(ECXA=3)) D
"RTN","ECXEC",45,0)
 .I +ECUSTOP D
"RTN","ECXEC",46,0)
 ..S ECAC1S=$P($G(^DIC(40.7,+ECUSTOP,0)),U,2),ECAC1S=$$RJ^XLFSTR(ECAC1S,3,0)
"RTN","ECXEC",47,0)
 ..S ECAC2S="000"
"RTN","ECXEC",48,0)
 .I 'ECUSTOP D
"RTN","ECXEC",49,0)
 ..S (ECAC1S,ECAC2S)="000"
"RTN","ECXEC",50,0)
 S ECDSS=ECAC1S_ECAC2S
"RTN","ECXEC",51,0)
 S ECXDSSD="",ECXDIV=""
"RTN","ECXEC",52,0)
 ;setup provider(s) as'2'_ien
"RTN","ECXEC",53,0)
 S (ECU1A,ECU2A,ECU3A)="",(ECU1NPI,ECU2NPI,ECU3NPI)=""
"RTN","ECXEC",54,0)
 S ECU=$P(ECCH,U,11) S:ECU ECU1A="2"_$P(ECU,";")
"RTN","ECXEC",55,0)
 S ECU2=$P(ECCH,U,15) S:ECU2 ECU2A="2"_$P(ECU2,";")
"RTN","ECXEC",56,0)
 S ECU3=$P(ECCH,U,17) S:ECU3 ECU3A="2"_$P(ECU3,";")
"RTN","ECXEC",57,0)
 ;change for version 2 where ECP is a variable pointer and we want to expand it
"RTN","ECXEC",58,0)
 ;category = category or null if stored as 0
"RTN","ECXEC",59,0)
 I ECP[";" S ECP=$S(ECP["ICPT":$P(^ICPT(+ECP,0),U),ECP<90000:$P(^EC(725,+ECP,0),U,2)_"N",1:$P(^EC(725,+ECP,0),U,2)_"L"),ECC=$S(ECC:ECC,1:"")
"RTN","ECXEC",60,0)
 ;pick up EC to PCE data from "P" in File 721
"RTN","ECXEC",61,0)
 S ECPCE=$G(^ECH(ECDA,"P"))
"RTN","ECXEC",62,0)
 S ECPCE1=$P(ECPCE,U),ECPCE2=$P(ECPCE,U,2),ECPCE3=$P(ECPCE,U,3),ECPCE4=$P(ECPCE,U,4),ECPCE5=$P(ECPCE,U,5),ECPCE6=$P(ECPCE,U,6)
"RTN","ECXEC",63,0)
 S ECPCE7=$S($P(ECPCE,U,7)=1:"Y",1:"N")
"RTN","ECXEC",64,0)
 S ECXCMOD="",ECXCPT=$$CPT^ECXUTL3(ECPCE1,ECXCMOD)
"RTN","ECXEC",65,0)
 S ECPCE=ECXCPT_U_ECPCE2_U_ECPCE3_U_ECPCE4_U_ECPCE5_U_ECPCE6_U_ECPCE7
"RTN","ECXEC",66,0)
 D FILE
"RTN","ECXEC",67,0)
 Q
"RTN","ECXEC",68,0)
 ;
"RTN","ECXEC",69,0)
FILE ;file record in #727.815
"RTN","ECXEC",70,0)
 ;node0
"RTN","ECXEC",71,0)
 ;ecode=inst^dfn^ssn^name^i/o status^day^DSS unit^category^procedure^volume^cost center^ordering sec^section^
"RTN","ECXEC",72,0)
 ;provider^^prov 2^^prov 3^^^mov #^treat spec^time^primary care team^primary care provider^pce cpt code^
"RTN","ECXEC",73,0)
 ;icd-9 code^agent orange^radiation exposure^environmental contaminants^service connected^sent to pce^^dss identifier^dss dept
"RTN","ECXEC",74,0)
 ;node1
"RTN","ECXEC",75,0)
 ;mpi^provider npi^provider #2 npi^provider #3 npi^pc provider npi^pc prov person class^
"RTN","ECXEC",76,0)
 ;assoc pc prov^assoc pc prov person class^assoc pc prov npi
"RTN","ECXEC",77,0)
 N DA,DIK
"RTN","ECXEC",78,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXEC",79,0)
 S ECODE=EC7_U_EC23
"RTN","ECXEC",80,0)
 S ECODE=ECODE_U_ECL_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL(ECDT,ECXYM)_U_ECDU_U_ECC_U_ECP_U_ECV_U_ECCS_U_ECO_U_ECM_U_ECU1A
"RTN","ECXEC",81,0)
 S ECODE=ECODE_U_U_ECU2A_U_U_ECU3A_U_U_U_ECXMN_U_ECXTS_U_ECTM_U_ECPTTM_U_ECPTPR_U_ECPCE_U_U_ECDSS_U
"RTN","ECXEC",82,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECU1NPI_U_ECU2NPI_U_ECU3NPI_U_ECCLAS_U_ECPTNPI_U_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXDIV
"RTN","ECXEC",83,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXEC",84,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXEC",85,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXEC",86,0)
 Q
"RTN","ECXEC",87,0)
 ;
"RTN","ECXEC",88,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXEC",89,0)
 S ECHEAD="ECS"
"RTN","ECXEC",90,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXEC",91,0)
 Q
"RTN","ECXEC",92,0)
 ;
"RTN","ECXEC",93,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXEC",94,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXKILL")
0^8^B15198099
"RTN","ECXKILL",1,0)
ECXKILL ;BIR/DMA,PTD-Kill Local Variables ; 02/06/97 10:25 [ 03/27/97  12:43 PM ]
"RTN","ECXKILL",2,0)
 ;;3.0;DSS EXTRACTS;**9,8,21,24**;Dec 22, 1997
"RTN","ECXKILL",3,0)
 K %,%DT,%Y,%ZIS,A,A1,A2,ABR,B,BY,D,D0,D1,DA,DAT,DATA,DATA1,DATA2,DATA6,DATAOP,DD,DFN,DHDH,DIC,DIE,DIK,DINUM,DIQ
"RTN","ECXKILL",4,0)
 K DIR,DIRUT,DO,DR,DTOUT,DUOUT,EC,EC0,EC1,EC10,EC11,EC16,EC2,EC23,EC2NODE,EC3,EC42,EC50,EC6,EC7,ECA,ECAC,ECACA,ECAD,ECADM,ECALL
"RTN","ECXKILL",5,0)
 K ECANE,ECAO,ECARG,ECAS,ECAT,ECATSV,ECB,ECC,ECCA,ECCAN,ECCAT,ECCH,ECCN,ECCNT,ECCS,ECCSC,ECD,ECD0,ECD1,ECDA,ECDAL,ECDAT
"RTN","ECXKILL",6,0)
 K ECDATA,ECDATA1,ECDATE,ECDEN,ECDEX,ECDF,ECDFN,ECDFN0,ECDI,ECDIA,ECDIF,ECDIV,ECDL,ECDN,ECDNEW,ECDO,ECDOC,ECDR,ECDRG,ECDS,ECDSSU,ECDT,ECDTTM
"RTN","ECXKILL",7,0)
 K ECDU,ECEC0,ECED,ECED1,ECEDN,ECEDNEW,ECF,ECF1,ECFD,ECFDT,ECFILE,ECFK,ECFL,ECFR,ECGRP,ECH,ECHD,ECHEAD,ECI,ECID,ECIEN,ECIFN,ECIN
"RTN","ECXKILL",8,0)
 K ECINST,ECINV,ECIV,ECJ,ECK,ECL,ECL1,ECLAN,ECLAST,ECLDT,ECLINK,ECLIST,ECLL,ECLN,ECLOC,ECLRN,ECLX,ECLY,ECM,ECMAX,ECMIN
"RTN","ECXKILL",9,0)
 K ECXMISS,ECMN,ECMOD,ECMODS,ECMORE,ECMS,ECMSG,ECMSN,ECMT,ECMW,ECMY,ECN,ECNA,ECNDC,ECNDF,ECNFC,ECNL,ECNO,ECNODE,ECNOGO
"RTN","ECXKILL",10,0)
 K ECNT,ECO,ECO0,ECO1,ECO2,ECOB,ECODE,ECODE0,ECODE1,ECOLD,ECONE,ECOPAY,ECOPAYT,ECORTY,ECOS,ECP,ECPACK,ECPCE,ECPCE1,ECPCE2,ECPCE3,ECPCE4,ECPCE5,ECPCE6,ECPCE7,ECPIECE,ECPN,ECPRC,ECPRO
"RTN","ECXKILL",11,0)
 K ECPROF,ECPT,ECPTF,ECPTPR,ECPTTM,ECQ,ECQT,ECQTY,ECRD,ECRE,ECRED,ECREF,ECRFL,ECRN,ECROU,ECRR,ECRS,ECRSD,ECRTN,ECRX,ECS,ECSA,ECSC
"RTN","ECXKILL",12,0)
 K ECSD,ECSD1,ECSDN,ECSN,ECSR,ECSS,ECST,ECSTOP,ECSU,ECT,ECT1,ECTD,ECTD1,ECTEMP,ECTM,ECTNTL,ECTOTAL,ECTREAT,ECTRT,ECTS,ECTY
"RTN","ECXKILL",13,0)
 K ECUD,ECUI,ECUN,ECUN1,ECUNIT,ECURG,ECUT,ECUT2,ECUT3,ECV,ECW,ECWC,ECWD,ECX,ECXB,ECXLNCNT,ECXMDA,ECXMDT,ECXNOW,ECXQUEUE,ECXS,ECXSTART
"RTN","ECXKILL",14,0)
 K ECY,ECYM,ECZ,ECZNODE,ELIG,ENL,FAC,FLDS,FR,I,ID,IOP,J,K,L,LOC,LOS,LRDFN,OPC,P,P1,P11,P2,P3,POP,Q,RD,RESP,QFLG
"RTN","ECXKILL",15,0)
 K SC,SRDA,SRNM,STC,SU,TEN,TES,TIME,TO,TOT,VAERR,VAIP,W,X,X1,X2,XMDUZ,XMER,XMFROM,XMREC,XMRG,XMSER,XMSUB
"RTN","ECXKILL",16,0)
 K XMTEXT,XMY,XMZ,XQMSG,XQSOP,XQSUB,XX,Y,ZTDESC,ZTDTH,ZTIO,ZTRTN,ZTSAVE,ZTSK,ECSTA,ECCTY,STATE,COUNTY,ECVER
"RTN","ECXKILL",17,0)
 K ECCPT,ECEKG,ECICD,ECPROV,ECREC,ECVAL,ECVIS,NCNTR,PTADT,STOP,ECIVRM,ECOR,ECWK,ECWKLD,LREDT,LRSDT,FD,ECHL,ECARSC
"RTN","ECXKILL",18,0)
 K ECDTST,ECLTST,ECODE2,ECORDT,ECORTM,ECRDDT,ECRDTM,ECRES,ECWCDA,ECXINST,ECX2TME
"RTN","ECXKILL",19,0)
 K ECXATT,ECXATTL,ECXATTN,ECXLOS,ECXLOSA,ECXLOSP,ECXPRV,ECXPRVL,ECXPRVN,ECXTRT,ECXTRTL,ECXTRTN,ECXSPC,ECXSPCL,ECXSPCN
"RTN","ECXKILL",20,0)
 K ECCSC,ECXSC,ECXP1,ECXP2,ECXP3,ECXDSSI,ECXDSSD,ECXYM,ECXDIV,ECXDAY,ECXSSN,ECXDATE,ECXPNM,ECXDFN,ECXA
"RTN","ECXKILL",21,0)
 K ECPTNPI,ECCLAS,ECCLAS2,ECASPR,ECASNPI,ECSRNPI,ECATNPI,ECSANPI,ECXCPT,ECXCMOD
"RTN","ECXKILL",22,0)
 K ECXFAC,ECXMN,ECXTS,ECXENEL,ECXSAI,ECXPAYOR,ECXAST,ECXEST,ECXRST,ECXMST,ECXMIL,ECXPST,ECXPLOC,ECXPOS,ECXSEX,ECXDOB
"RTN","ECXKILL",23,0)
 K ECXRELG,ECXEMP,ECXHI,ECXSTATE,ECXCNTY,ECXZIP,ECXMAR,ECXRACE,ECXVET,ECXVNS,ECXELIG,ECXENRL
"RTN","ECXKILL",24,0)
 K ECXPRNPI,ECXPRCLS,ECXWPRV,ECXW,ECXCNT,ECXCOST,ECXADM,ECXPROV,ECXPROVP,ECXPROVN,ECXBILST
"RTN","ECXKILL",25,0)
 K ECU1A,ECU2A,ECU3A,ECU1NPI,ECU2NPI,ECU3NPI,ECDENNPI,ECXWRD,ECXWTO
"RTN","ECXKILL",26,0)
 ;
"RTN","ECXKILL",27,0)
AUDIT ;kill audit report variables, close slave printer
"RTN","ECXKILL",28,0)
 K ECX,ECXARRAY,ECXACC,ECXALL,ECXAUD,ECXCODE,ECXD,ECXDEF,ECXDESC,ECXDIV,ECXRCST,ECXRQST
"RTN","ECXKILL",29,0)
 K ECXEND,ECXERR,ECXEXT,ECXHEAD,ECXLOC,ECXPGM,ECXPHCPC,ECXPRIME,ECXPRO,ECXREPT,ECXRUN,ECXSAVE,ECXSTART,ECXSRCE
"RTN","ECXKILL",30,0)
 K ECXCTAMT,ECXFEKEY,ECXFELOC,ECXFORM,ECXGRPR,ECXHCPC,ECXPHCPC,ECXHCPCS,ECXLAB,ECXLLC,ECXLMC,ECXQTY,ECXREQ,ECXSTAT,ECXTYPE
"RTN","ECXKILL",31,0)
 K IO("Q"),POP,DIR,DIC,DIE,DA,DR,DO,DIRUT,DUOUT,DTOUT
"RTN","ECXKILL",32,0)
 K ^TMP($J)
"RTN","ECXKILL",33,0)
 I IO=IO(0),IOST'="C" D ^%ZISC
"RTN","ECXKILL",34,0)
 Q
"RTN","ECXLABN")
0^9^B16678497
"RTN","ECXLABN",1,0)
ECXLABN ;ALB/JAP,BIR/CML-Lab Extract for DSS (New Format - With LMIP Codes) ; [ 11/22/96  5:14 PM ]
"RTN","ECXLABN",2,0)
 ;;3.0;DSS EXTRACTS;**1,11,8,13,28,24**;Dec 22, 1997
"RTN","ECXLABN",3,0)
BEG ;entry point
"RTN","ECXLABN",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXLABN",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXLABN",6,0)
 Q
"RTN","ECXLABN",7,0)
 ;
"RTN","ECXLABN",8,0)
START ; entry when queued
"RTN","ECXLABN",9,0)
 S QFLG=0
"RTN","ECXLABN",10,0)
 K ^LRO(64.03)
"RTN","ECXLABN",11,0)
 S LRSDT=ECSD,LREDT=ECED
"RTN","ECXLABN",12,0)
 D ^LRCAPDSS
"RTN","ECXLABN",13,0)
 ;quit if no completion date for API compile
"RTN","ECXLABN",14,0)
 I '$P($G(^LRO(64.03,1,1,1,0)),U,4) Q
"RTN","ECXLABN",15,0)
 ;quit if tasked and user sends stop request
"RTN","ECXLABN",16,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD D  Q
"RTN","ECXLABN",17,0)
 .S QFLG=1
"RTN","ECXLABN",18,0)
 .K ^LRO(64.03) S ^LRO(64.03,0)="WKLD LOG FILE^64.03^"
"RTN","ECXLABN",19,0)
 ;otherwise, continue
"RTN","ECXLABN",20,0)
 K ECXDD D FIELD^DID(64.03,1,,"SPECIFIER","ECXDD") S ECPROF=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXLABN",21,0)
 S ECLRN=1
"RTN","ECXLABN",22,0)
 F  S ECLRN=$O(^LRO(64.03,ECLRN)) Q:'ECLRN  D  Q:QFLG
"RTN","ECXLABN",23,0)
 .Q:'$D(^LRO(64.03,ECLRN,0))
"RTN","ECXLABN",24,0)
 .S EC1=^LRO(64.03,ECLRN,0)
"RTN","ECXLABN",25,0)
 .S ECDOC=ECPROF_$P(EC1,U,2),ECDOCNPI=""
"RTN","ECXLABN",26,0)
 .S ECLOC=$P(EC1,U,15),EC=$P(EC1,U,3)
"RTN","ECXLABN",27,0)
 .I EC]"" D GET
"RTN","ECXLABN",28,0)
 K ^LRO(64.03) S ^LRO(64.03,0)="WKLD LOG FILE^64.03^"
"RTN","ECXLABN",29,0)
 Q
"RTN","ECXLABN",30,0)
 ;
"RTN","ECXLABN",31,0)
GET ;get data
"RTN","ECXLABN",32,0)
 N X
"RTN","ECXLABN",33,0)
 S ECF=$S($P(EC,";",2)="DPT(":2,$P(EC,";",2)="LRT(67,":67,1:0) Q:'ECF
"RTN","ECXLABN",34,0)
 S ECIFN=$P(EC,";")
"RTN","ECXLABN",35,0)
 ;resolve ecloc
"RTN","ECXLABN",36,0)
 S ECXL1=+$P(ECLOC,";",1),ECXL2=$P(ECLOC,";",2)
"RTN","ECXLABN",37,0)
 I ECF=2 S ECLOC=$S(ECXL1>0:ECXL1,1:"") I ECXL2]"",ECXL2'="SC(" S ECLOC=""
"RTN","ECXLABN",38,0)
 I ECF=67 D  S ECLOC=ECXSTN
"RTN","ECXLABN",39,0)
 .S (ECXSTN,ECXAGC)=""
"RTN","ECXLABN",40,0)
 .I ECXL2'="DIC(4," S ECXSTN="XXXXX",ECXAGC="XX" Q
"RTN","ECXLABN",41,0)
 .I '$D(^DIC(4,ECXL1)) S ECXSTN="XXXXX",ECXAGC="XX" Q
"RTN","ECXLABN",42,0)
 .I $D(^DIC(4,ECXL1)) S ECXSTN=$P(^DIC(4,ECXL1,"99"),U,1),ECXAGC=$E($P(^(99),U,5),1,2) S:ECXSTN="" ECXSTN="ZZZZZ" S:ECXAGC="" ECXAGC="ZZ"
"RTN","ECXLABN",43,0)
 S ECDT=$P(EC1,U,13),ECD=$P(ECDT,"."),ECTM=$$ECXTIME^ECXUTL(ECDT)
"RTN","ECXLABN",44,0)
 S ECWKLD=$P(EC1,U,11),ECWK="" I $D(^LAM(ECWKLD,0)) S ECWK=$P(^(0),U,2)
"RTN","ECXLABN",45,0)
 S ECTREAT=$P(EC1,U,10) I ECTREAT S ECTREAT=$P($G(^DIC(45.7,+ECTREAT,0)),U,2)
"RTN","ECXLABN",46,0)
 S (ECNA,ECSN,ECMN,ECPTTM,ECPTPR,ECCLAS)="",ECA=1
"RTN","ECXLABN",47,0)
 ;get the patient data if record is in file #2
"RTN","ECXLABN",48,0)
 I ECF=2 D
"RTN","ECXLABN",49,0)
 .S ECXDFN=ECIFN
"RTN","ECXLABN",50,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXLABN",51,0)
 .Q:'OK
"RTN","ECXLABN",52,0)
 .S ECNA=ECXPAT("NAME"),ECSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXLABN",53,0)
 .S X=$$INP^ECXUTL2(ECXDFN,ECD),ECA=$P(X,U,1),ECMN=$P(X,U,2)
"RTN","ECXLABN",54,0)
 .S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECD,"."),ECPROF)
"RTN","ECXLABN",55,0)
 .S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXLABN",56,0)
 ;get patient data if record is in file #67
"RTN","ECXLABN",57,0)
 I ECF=67 S ECSN="000123456",ECNA="RFRL" I $D(^LRT(67,ECIFN,0)) D
"RTN","ECXLABN",58,0)
 .S EC0=^LRT(67,ECIFN,0),ECNA=$E($P($P(EC0,U),",")_"    ",1,4),ECSN=$P(EC0,U,9) D
"RTN","ECXLABN",59,0)
 ..S ECNA=$TR(ECNA,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ECXLABN",60,0)
 ..I ECSN="" S ECSN="000123456" Q
"RTN","ECXLABN",61,0)
 ..S ECSN=$TR(ECSN," "),ECSN=$TR(ECSN,"-")
"RTN","ECXLABN",62,0)
 ..I ($L(ECSN)<9)!($L(ECSN)>10) S ECSN="000123456" Q
"RTN","ECXLABN",63,0)
 ..I $L(ECSN)=9,ECSN'?9N S ECSN="000123456" Q
"RTN","ECXLABN",64,0)
 ..I $L(ECSN)=10,ECSN'?9N1"P" S ECSN="000123456"
"RTN","ECXLABN",65,0)
 ;create extract record only if patient name and accession area exist
"RTN","ECXLABN",66,0)
 S ECXDSSD=""
"RTN","ECXLABN",67,0)
 I ECNA]"" S ECT=$P(EC1,U,8),ECURG=$P(EC1,U,9),EC=+$P(EC1,U,7) I EC D
"RTN","ECXLABN",68,0)
 .S:ECF=2 ECACA=EC_U_$P($G(^LRO(68,EC,0)),U,11) S:ECF=67 ECACA=ECXAGC_U_$P($G(^LRO(68,EC,0)),U,11)
"RTN","ECXLABN",69,0)
 .D FILE
"RTN","ECXLABN",70,0)
 Q
"RTN","ECXLABN",71,0)
 ;
"RTN","ECXLABN",72,0)
FILE ;file record
"RTN","ECXLABN",73,0)
 ;node0
"RTN","ECXLABN",74,0)
 ;facility^patient number^SSN (or equivalent)^name^in/out^day^accession area^abbreviation^test^urgency^treating spec^location^provider and file^
"RTN","ECXLABN",75,0)
 ;movement number^file^time^workload code^primary care team^primary care provider
"RTN","ECXLABN",76,0)
 ;node1
"RTN","ECXLABN",77,0)
 ;mpi^dss dept^provider npi^pc provider npi^pc prov person class^assoc pc prov^assoc pc prov person class^assoc pc prov npi
"RTN","ECXLABN",78,0)
 N DA,DIK
"RTN","ECXLABN",79,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXLABN",80,0)
 S ECODE=EC7_U_EC23
"RTN","ECXLABN",81,0)
 S ECODE=ECODE_U_ECINST_U_ECIFN_U_ECSN_U_ECNA_U_ECA_U_$$ECXDATE^ECXUTL(ECD,ECXYM)_U_ECACA_U_ECT_U_ECURG_U_ECTREAT_U_ECLOC_U_ECDOC_U_ECMN_U_ECF_U_ECTM_U_ECWK_U_ECPTTM_U_ECPTPR
"RTN","ECXLABN",82,0)
 ;(ECACA=acc area^abbreviation)
"RTN","ECXLABN",83,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECDOCNPI_U_ECPTNPI_U_ECCLAS_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXLABN",84,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXLABN",85,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXLABN",86,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXLABN",87,0)
 Q
"RTN","ECXLABN",88,0)
 ;
"RTN","ECXLABN",89,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXLABN",90,0)
 S ECHEAD="LAB"
"RTN","ECXLABN",91,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXLABN",92,0)
 Q
"RTN","ECXLABN",93,0)
 ;
"RTN","ECXLABN",94,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXLABN",95,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXLABR")
0^10^B10438432
"RTN","ECXLABR",1,0)
ECXLABR ;ALB/JAP,BIR/CML-LAR Extract for DSS (New Format - With LMIP Codes) ; [ 03/05/97  2:55 PM ]
"RTN","ECXLABR",2,0)
 ;;3.0;DSS EXTRACTS;**8,24**;Dec 22, 1997
"RTN","ECXLABR",3,0)
BEG ;entry point from option
"RTN","ECXLABR",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXLABR",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXLABR",6,0)
 Q
"RTN","ECXLABR",7,0)
 ;
"RTN","ECXLABR",8,0)
START ; entry when queued
"RTN","ECXLABR",9,0)
 N X,OK
"RTN","ECXLABR",10,0)
 K ^LAR(64.036) S LRSDT=ECSD,LREDT=ECED
"RTN","ECXLABR",11,0)
 D ^LRCAPDAR
"RTN","ECXLABR",12,0)
 ;quit if no completion date for API compile
"RTN","ECXLABR",13,0)
 I '$P($G(^LAR(64.036,1,2,1,0)),U,4) Q
"RTN","ECXLABR",14,0)
 ;build local array of workload codes for local lab tests linked to DSS tests
"RTN","ECXLABR",15,0)
 K ECLOC S ECDTST=0
"RTN","ECXLABR",16,0)
 F  S ECDTST=$O(^ECX(727.2,1,1,ECDTST)) Q:'ECDTST  S ECLTST=0 F  S ECLTST=$O(^ECX(727.2,1,1,ECDTST,"LOC",ECLTST)) Q:'ECLTST  D
"RTN","ECXLABR",17,0)
 .S ECLTIEN=+^ECX(727.2,1,1,ECDTST,"LOC",ECLTST,0)
"RTN","ECXLABR",18,0)
 .S ECWCDA=+$G(^LAB(60,ECLTIEN,64)) I ECWCDA S ECWC=$P(^LAM(ECWCDA,0),U,2),ECLOC(ECWCDA)=ECWC
"RTN","ECXLABR",19,0)
 K ECLTIEN
"RTN","ECXLABR",20,0)
 ;process temporary lab file #64.036
"RTN","ECXLABR",21,0)
 S QFLG=0
"RTN","ECXLABR",22,0)
 S ECLRN=1 F  S ECLRN=$O(^LAR(64.036,ECLRN)) Q:'ECLRN  Q:QFLG  I $D(^LAR(64.036,ECLRN,0))  D
"RTN","ECXLABR",23,0)
 .S EC1=^LAR(64.036,ECLRN,0),ECF=$P(EC1,U,2)
"RTN","ECXLABR",24,0)
 .Q:ECF=""
"RTN","ECXLABR",25,0)
 .S ECXDFN=$P(EC1,U,3)
"RTN","ECXLABR",26,0)
 .S ECXDATE=$P(EC1,U,6)_"."_$P(EC1,U,7),ECORDT=$$ECXDATE^ECXUTL($P(EC1,U,4),ECXYM),ECORTM=$$ECXTIME^ECXUTL($P(EC1,U,4)_"."_$P(EC1,U,5))
"RTN","ECXLABR",27,0)
 .S ECRDDT=$$ECXDATE^ECXUTL($P(EC1,U,6),ECXYM),ECRDTM=$$ECXTIME^ECXUTL($P(EC1,U,6)_"."_$P(EC1,U,7))
"RTN","ECXLABR",28,0)
 .S (ECXPNM,ECXSSN,ECXA,ECXMN,ECXTS)="",ECXDSSD=""
"RTN","ECXLABR",29,0)
 .I ECF=2 D  Q:'OK
"RTN","ECXLABR",30,0)
 ..K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,ECXDATE,"1;",.ECXPAT)
"RTN","ECXLABR",31,0)
 ..Q:'OK
"RTN","ECXLABR",32,0)
 ..S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXLABR",33,0)
 ..S X=$$INP^ECXUTL2(ECXDFN,ECXDATE),ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3)
"RTN","ECXLABR",34,0)
 .;allow for referral patients in future??
"RTN","ECXLABR",35,0)
 .;I ECF=67 S ECSN="000123456",ECNA="RFRL"
"RTN","ECXLABR",36,0)
 .;loop on results multiple
"RTN","ECXLABR",37,0)
 .S ECRES=0
"RTN","ECXLABR",38,0)
 .F  S ECRES=$O(^LAR(64.036,ECLRN,1,ECRES)) Q:('ECRES)!(QFLG)  I $D(^LAR(64.036,ECLRN,1,ECRES,0)) D  Q:QFLG
"RTN","ECXLABR",39,0)
 ..S EC2=^LAR(64.036,ECLRN,1,ECRES,0)
"RTN","ECXLABR",40,0)
 ..S ECN=$P(EC2,U),ECRS=$P(EC2,U,2),ECHL=$E($P(EC2,U,3)),ECWC=+$P(EC2,U,4) S ECWC=$S($D(ECLOC(ECWC)):ECLOC(ECWC),1:"")
"RTN","ECXLABR",41,0)
 ..I ECWC]"" D FILE
"RTN","ECXLABR",42,0)
 K ^LAR(64.036) S ^LAR(64.036,0)="LAB DSS LAR EXTRACT^64.036^"
"RTN","ECXLABR",43,0)
 Q
"RTN","ECXLABR",44,0)
 ;
"RTN","ECXLABR",45,0)
FILE ;file record
"RTN","ECXLABR",46,0)
 ;node0
"RTN","ECXLABR",47,0)
 ;facility^dfn^ssn^name(4)^in/out^day(ready)^lab test code^results^hi/lo indicator^date ordered^time ordered^date ready^time ready^movement file #^treating specialty^workload code(64)
"RTN","ECXLABR",48,0)
 ;node1
"RTN","ECXLABR",49,0)
 ;mpi^dss dept
"RTN","ECXLABR",50,0)
 N DA,DIK
"RTN","ECXLABR",51,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXLABR",52,0)
 S ECODE=EC7_U_EC23
"RTN","ECXLABR",53,0)
 S ECODE=ECODE_U_ECINST_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_ECRDDT
"RTN","ECXLABR",54,0)
 S ECODE=ECODE_U_$$RJ^XLFSTR(ECN,4,0)_U_ECRS_U_ECHL_U_ECORDT_U_$$LJ^XLFSTR(ECORTM,6,0)_U_ECRDDT_U_$$LJ^XLFSTR(ECRDTM,6,0)_U_ECXMN_U_ECXTS_U_ECWC
"RTN","ECXLABR",55,0)
 S ECODE1=ECXMPI_U_ECXDSSD
"RTN","ECXLABR",56,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXLABR",57,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXLABR",58,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXLABR",59,0)
 Q
"RTN","ECXLABR",60,0)
 ;
"RTN","ECXLABR",61,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXLABR",62,0)
 S ECHEAD="LAR"
"RTN","ECXLABR",63,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXLABR",64,0)
 Q
"RTN","ECXLABR",65,0)
 ;
"RTN","ECXLABR",66,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXLABR",67,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXLPRO")
0^44^B25266908
"RTN","ECXLPRO",1,0)
ECXLPRO ;ALB/JAP - PRO Extract YTD Lab Report ; Feb 17, 1999
"RTN","ECXLPRO",2,0)
 ;;3.0;DSS EXTRACTS;**21,24**;Dec 22, 1997
"RTN","ECXLPRO",3,0)
 ;for data associated with prosthetic items produced by facility laboratory
"RTN","ECXLPRO",4,0)
 ;accumulates extract data by hcpcs code for all extracts in fiscal year date range
"RTN","ECXLPRO",5,0)
 ;if an extract has been purged, then totals will be falsely low
"RTN","ECXLPRO",6,0)
 ;if more than 1 extract exists for a particular month, then totals will be falsely high
"RTN","ECXLPRO",7,0)
 ;if site is multidivisional, then user can generate report for
"RTN","ECXLPRO",8,0)
 ;  any one division - data stored under divisional station# (e.g., 326 or 326AB)
"RTN","ECXLPRO",9,0)
 ;  or for entire facility - data stored under primary station# (e.g., 326) but includes data from all subdivisions
"RTN","ECXLPRO",10,0)
 ;if site is non-divisional, then data stored under facility station#
"RTN","ECXLPRO",11,0)
 ;
"RTN","ECXLPRO",12,0)
EN ;setup & queue
"RTN","ECXLPRO",13,0)
 N DIC,DA,DR,DIQ,DIR,DIRUT,DTOUT,DUOUT,DIV,LAST,OUT
"RTN","ECXLPRO",14,0)
 S ECXERR=0
"RTN","ECXLPRO",15,0)
 S ECXHEAD="PRO"
"RTN","ECXLPRO",16,0)
 W !!,"Setup for PRO Extract YTD Laboratory Report --",!
"RTN","ECXLPRO",17,0)
 ;determine primary division
"RTN","ECXLPRO",18,0)
 W !,"If you belong to more than one Primary Division, you must"
"RTN","ECXLPRO",19,0)
 W !,"select a Primary Division for the report.",!
"RTN","ECXLPRO",20,0)
 S ECXPRIME=$$PDIV^ECXPUTL
"RTN","ECXLPRO",21,0)
 I ECXPRIME=0 D ^ECXKILL Q
"RTN","ECXLPRO",22,0)
 S DA=ECXPRIME,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99" D EN^DIQ1
"RTN","ECXLPRO",23,0)
 S ECXPRIME=ECXPRIME_U_$G(ECXDIC(4,DA,99,"I"))_U_$G(ECXDIC(4,DA,.01,"I"))
"RTN","ECXLPRO",24,0)
 ;get all prosthetics divisions for report
"RTN","ECXLPRO",25,0)
 S ECXALL=1
"RTN","ECXLPRO",26,0)
 D PDIV3^ECXPUTL(DUZ,ECXPRIME,.ECXDIV)
"RTN","ECXLPRO",27,0)
 I ECXERR D  Q
"RTN","ECXLPRO",28,0)
 .D ^ECXKILL W !!,?5,"Try again later... exiting.",!
"RTN","ECXLPRO",29,0)
 ;determine fiscal year of report
"RTN","ECXLPRO",30,0)
 S DIR(0)="SMBA^C:CURRENT;P:PREVIOUS",DIR("A")="Select C(urrent) or P(revious) Fiscal Year: ",DIR("B")="CURRENT"
"RTN","ECXLPRO",31,0)
 W ! K X,Y D ^DIR K DIR
"RTN","ECXLPRO",32,0)
 I $D(DUOUT)!($D(DTOUT)) D  Q
"RTN","ECXLPRO",33,0)
 .D ^ECXKILL W !!,?5,"Try again later... exiting.",!
"RTN","ECXLPRO",34,0)
 I Y="C" D
"RTN","ECXLPRO",35,0)
 .S X=$$CYFY^ECXUTL1(DT),ECXARRAY("START")=$P(X,U,3),ECXARRAY("END")=$P(X,U,4)
"RTN","ECXLPRO",36,0)
 I Y="P" D
"RTN","ECXLPRO",37,0)
 .S YR=$E(DT,1,3),MON=$E(DT,4,5) S:+MON<10 YR=YR-1 S X1=YR_"0930"
"RTN","ECXLPRO",38,0)
 .S X=$$CYFY^ECXUTL1(X1),ECXARRAY("START")=$P(X,U,3),ECXARRAY("END")=$P(X,U,4)
"RTN","ECXLPRO",39,0)
 .K C,MON,YR,X1
"RTN","ECXLPRO",40,0)
 ;setup variables for taskmanager
"RTN","ECXLPRO",41,0)
 S ECXPGM="PROCESS^ECXLPRO",ECXDESC="PRO Extract YTD HCPCS Report"
"RTN","ECXLPRO",42,0)
 S ECXSAVE("ECXHEAD")="",ECXSAVE("ECXDIV(")="",ECXSAVE("ECXARRAY(")="",ECXSAVE("ECXPRIME")="",ECXSAVE("ECXALL")=""
"RTN","ECXLPRO",43,0)
 ;determine output device and queue if requested
"RTN","ECXLPRO",44,0)
 W !!,"Please note: The PRO Extract YTD Laboratory Report requires 132 columns."
"RTN","ECXLPRO",45,0)
 W !,"             Select an appropriate device for output."
"RTN","ECXLPRO",46,0)
 W ! D DEVICE^ECXUTLA(ECXPGM,ECXDESC,.ECXSAVE)
"RTN","ECXLPRO",47,0)
 I ECXSAVE("POP")=1 W ! D ^ECXKILL Q
"RTN","ECXLPRO",48,0)
 I ECXSAVE("ZTSK")=0 D
"RTN","ECXLPRO",49,0)
 .K ECXSAVE,ECXPGM,ECXDESC
"RTN","ECXLPRO",50,0)
 .D PROCESS
"RTN","ECXLPRO",51,0)
 ;clean-up and close
"RTN","ECXLPRO",52,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXLPRO",53,0)
 D HOME^%ZIS
"RTN","ECXLPRO",54,0)
 Q
"RTN","ECXLPRO",55,0)
 ;
"RTN","ECXLPRO",56,0)
PROCESS ;begin processing
"RTN","ECXLPRO",57,0)
 N DIVISION,E,EXTRACT,REC,NODE0,NODE1,LASTDAY
"RTN","ECXLPRO",58,0)
 K ^TMP($J,"ECXP") S LASTDAY=""
"RTN","ECXLPRO",59,0)
 ;determine which extracts contain data for report
"RTN","ECXLPRO",60,0)
 S (EXTRACT,E)=0
"RTN","ECXLPRO",61,0)
 F  S E=$O(^ECX(727,"E",ECXHEAD,E)) Q:'E  D
"RTN","ECXLPRO",62,0)
 .Q:'$D(^ECX(727,E,0))
"RTN","ECXLPRO",63,0)
 .Q:$P($G(^ECX(727,E,0)),U,4)<ECXARRAY("START")
"RTN","ECXLPRO",64,0)
 .Q:$P($G(^ECX(727,E,0)),U,4)>ECXARRAY("END")
"RTN","ECXLPRO",65,0)
 .Q:$G(^ECX(727,E,"DIV"))'=+ECXPRIME
"RTN","ECXLPRO",66,0)
 .S EXTRACT(E)=^ECX(727,E,0)
"RTN","ECXLPRO",67,0)
 .I $P(EXTRACT(E),U,5)>LASTDAY S LASTDAY=$P(EXTRACT(E),U,5)
"RTN","ECXLPRO",68,0)
 ;setup array of station numbers included in report
"RTN","ECXLPRO",69,0)
 F DIV=0:0 S DIV=$O(ECXDIV(DIV)) Q:'DIV  S ECXSTAT=$P(ECXDIV(DIV),U,2),DIVISION(ECXSTAT)=ECXDIV(DIV)
"RTN","ECXLPRO",70,0)
 ;get the extract data
"RTN","ECXLPRO",71,0)
 S E=0 F  S E=$O(EXTRACT(E)) Q:'E  S REC=0 I $D(^ECX(727.826,"AC",E)) F  S REC=$O(^ECX(727.826,"AC",E,REC)) Q:'REC  D
"RTN","ECXLPRO",72,0)
 .S NODE0=$G(^ECX(727.826,REC,0)),NODE1=$G(^ECX(727.826,REC,1)) Q:NODE0=""
"RTN","ECXLPRO",73,0)
 .S (ECXCTAMT,ECXLLC,ECXLMC)=0
"RTN","ECXLPRO",74,0)
 .S ECXFELOC=$P(NODE0,U,10),ECXFEKEY=$P(NODE0,U,11)
"RTN","ECXLPRO",75,0)
 .;ignore any record which isn't for lab receiving station
"RTN","ECXLPRO",76,0)
 .Q:ECXFELOC'["LAB"
"RTN","ECXLPRO",77,0)
 .S ECXHCPC=$E(ECXFEKEY,1,5),ECXTYPE=$E(ECXFEKEY,6),ECXREQ=$P($E(ECXFEKEY,8,99),"REQ",1)
"RTN","ECXLPRO",78,0)
 .S ECXQTY=$P(NODE0,U,12),ECXCTAMT=$P(NODE0,U,21),ECXGRPR=$P(NODE1,U,4)
"RTN","ECXLPRO",79,0)
 .S ECXSTAT=$P(ECXFELOC,"LAB",1),ECXFORM="LAB"
"RTN","ECXLPRO",80,0)
 .S ECXLLC=$P(NODE0,U,22),ECXLMC=$P(NODE0,U,23)
"RTN","ECXLPRO",81,0)
 .;ignore record if division not included in this report
"RTN","ECXLPRO",82,0)
 .Q:ECXSTAT=""  Q:'$D(DIVISION(ECXSTAT))
"RTN","ECXLPRO",83,0)
 .;set in ^tmp using primary station#; determine if requesting station is same as or part of this station
"RTN","ECXLPRO",84,0)
 .S ECXLAB="",ECXSTAT=+ECXSTAT,ECXLAB=$S(ECXREQ'[ECXSTAT:"OTHER",1:"SAME")
"RTN","ECXLPRO",85,0)
 .;be sure there's no padding on cost variables
"RTN","ECXLPRO",86,0)
 .S ECXCTAMT=+$TR(ECXCTAMT," ",0),ECXLLC=+$TR(ECXLLC," ",0),ECXLMC=+$TR(ECXLMC," ",0)
"RTN","ECXLPRO",87,0)
 .;tmp global holds - lab qty^lab labor cost^lab matrl cost
"RTN","ECXLPRO",88,0)
 .I '$D(^TMP($J,"ECXP",ECXTYPE,ECXHCPC)) S ^TMP($J,"ECXP",ECXTYPE,ECXHCPC,"SAME")="0^0^0",^TMP($J,"ECXP",ECXTYPE,ECXHCPC,"OTHER")="0^0^0"
"RTN","ECXLPRO",89,0)
 .S $P(^TMP($J,"ECXP",ECXTYPE,ECXHCPC,ECXLAB),U,1)=$P(^TMP($J,"ECXP",ECXTYPE,ECXHCPC,ECXLAB),U,1)+ECXQTY
"RTN","ECXLPRO",90,0)
 .S $P(^TMP($J,"ECXP",ECXTYPE,ECXHCPC,ECXLAB),U,2)=$P(^TMP($J,"ECXP",ECXTYPE,ECXHCPC,ECXLAB),U,2)+ECXLLC
"RTN","ECXLPRO",91,0)
 .S $P(^TMP($J,"ECXP",ECXTYPE,ECXHCPC,ECXLAB),U,3)=$P(^TMP($J,"ECXP",ECXTYPE,ECXHCPC,ECXLAB),U,3)+ECXLMC
"RTN","ECXLPRO",92,0)
 ;setup hcpcs descriptions
"RTN","ECXLPRO",93,0)
 D HCPCS
"RTN","ECXLPRO",94,0)
 ;print report
"RTN","ECXLPRO",95,0)
 D PRINT^ECXLPRO1
"RTN","ECXLPRO",96,0)
 ;cleanup
"RTN","ECXLPRO",97,0)
 D AUDIT^ECXKILL
"RTN","ECXLPRO",98,0)
 Q
"RTN","ECXLPRO",99,0)
 ;
"RTN","ECXLPRO",100,0)
HCPCS ;setup hcpcs cross-reference
"RTN","ECXLPRO",101,0)
 N H,CPT,CPTNM,DESC
"RTN","ECXLPRO",102,0)
 S H=0
"RTN","ECXLPRO",103,0)
 F  S H=$O(^RMPR(661.1,H)) Q:+H<1  D
"RTN","ECXLPRO",104,0)
 .;don't skip inactive hcpcs in case doing previous fy
"RTN","ECXLPRO",105,0)
 .S CPTNM="",CPT=$P(^RMPR(661.1,H,0),U,4)
"RTN","ECXLPRO",106,0)
 .I +CPT>0 S CPTNM=$P(^ICPT(CPT,0),U,1),DESC=$E($P(^ICPT(CPT,0),U,2),1,26)
"RTN","ECXLPRO",107,0)
 .Q:CPTNM=""
"RTN","ECXLPRO",108,0)
 .S ^TMP($J,"HCPCS",CPTNM)=DESC
"RTN","ECXLPRO",109,0)
 Q
"RTN","ECXMOV")
0^11^B8957075
"RTN","ECXMOV",1,0)
ECXMOV ;ALB/JAP,BIR/DMA,PTD-Transfer and Discharge Extract ; 10/29/96 13:36
"RTN","ECXMOV",2,0)
 ;;3.0;DSS EXTRACTS;**8,24**;Dec 22, 1997
"RTN","ECXMOV",3,0)
BEG ;entry point from option
"RTN","ECXMOV",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXMOV",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXMOV",6,0)
 Q
"RTN","ECXMOV",7,0)
 ;
"RTN","ECXMOV",8,0)
START ; start package specific extract
"RTN","ECXMOV",9,0)
 N W,WTO,X1,X2,X
"RTN","ECXMOV",10,0)
 S QFLG=0
"RTN","ECXMOV",11,0)
 K ECXDD D FIELD^DID(405,.19,,"SPECIFIER","ECXDD") S ECPRO=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXMOV",12,0)
 S ECED=ECED+.3
"RTN","ECXMOV",13,0)
 F ECM=2,3 S ECARG="ATT"_ECM,ECD=ECSD1 Q:QFLG  F  S ECD=$O(^DGPM(ECARG,ECD)),ECDA=0 Q:'ECD  Q:ECD>ECED  D  Q:QFLG
"RTN","ECXMOV",14,0)
 .F  S ECDA=$O(^DGPM(ECARG,ECD,ECDA)) Q:'ECDA  I $D(^DGPM(ECDA,0)) S EC=^(0) D  Q:QFLG
"RTN","ECXMOV",15,0)
 ..S ECXDFN=+$P(EC,U,3),ECMT=$P(EC,U,18)
"RTN","ECXMOV",16,0)
 ..S ECXDATE=$P(ECD,".")
"RTN","ECXMOV",17,0)
 ..K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,ECXDATE,"1;",.ECXPAT)
"RTN","ECXMOV",18,0)
 ..I 'OK K ECXPAT Q
"RTN","ECXMOV",19,0)
 ..S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXMOV",20,0)
 ..S ECTM=$$ECXTIME^ECXUTL(ECD)
"RTN","ECXMOV",21,0)
 ..S WTO=$P(EC,U,6),ECXWTO=$P($G(^DIC(42,+WTO,44)),U)
"RTN","ECXMOV",22,0)
 ..;reset EC to admission movement
"RTN","ECXMOV",23,0)
 ..S ECCA=$P(EC,U,14),EC=^DGPM(ECCA,0),ECA=$P(EC,U)
"RTN","ECXMOV",24,0)
 ..;if date of previous xfer movement is greater than admit date, then reset EC to that previous xfer movement
"RTN","ECXMOV",25,0)
 ..S ECDL=9999999.9999999-ECD,ECDL=+$O(^DGPM("ATID2",ECXDFN,ECDL)),ECDAL=+$O(^DGPM("ATID2",ECXDFN,ECDL,0)) I $D(^DGPM(ECDAL,0)),$P(^(0),U)>$P(EC,U) S EC=^(0)
"RTN","ECXMOV",26,0)
 ..;losing ward is either previous xfer ward or admission ward
"RTN","ECXMOV",27,0)
 ..S (ECXWRD,ECXFAC,ECXDSSD)=""
"RTN","ECXMOV",28,0)
 ..S W=$P(EC,U,6),ECXWRD=$P($G(^DIC(42,W,44)),U),ECXFAC=$P($G(^DIC(42,W,0)),U,11),ECXDSSD=$P($G(^ECX(727.4,W,0)),U,2)
"RTN","ECXMOV",29,0)
 ..S ECDI=$S(ECM=2:"",1:$$ECXDATE^ECXUTL(ECD,ECXYM))
"RTN","ECXMOV",30,0)
 ..S X1=ECD,X2=$P(EC,U) D ^%DTC S ECXLOS=X
"RTN","ECXMOV",31,0)
 ..D FILE
"RTN","ECXMOV",32,0)
 Q
"RTN","ECXMOV",33,0)
 ;
"RTN","ECXMOV",34,0)
FILE ;file the extract record
"RTN","ECXMOV",35,0)
 ;node0
"RTN","ECXMOV",36,0)
 ;fac^dfn^ssn^name^in/out^day^^adm date^disc date^mov #^type^losing ward^treat spec^los^^movement type^mov time^gaining ward^adm time^^
"RTN","ECXMOV",37,0)
 ;node1
"RTN","ECXMOV",38,0)
 ;mpi^dss dept
"RTN","ECXMOV",39,0)
 N DA,DIK
"RTN","ECXMOV",40,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXMOV",41,0)
 S ECODE=EC7_U_EC23
"RTN","ECXMOV",42,0)
 S ECODE=ECODE_U_ECXFAC_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_"3"_U_$$ECXDATE^ECXUTL(ECD,ECXYM)_U
"RTN","ECXMOV",43,0)
 S ECODE=ECODE_U_$$ECXDATE^ECXUTL(ECA,ECXYM)_U_ECDI_U_ECDA_U_ECM_U_ECXWRD_U_U_ECXLOS_U_U_ECMT_U_ECTM_U_ECXWTO_U_$$ECXTIME^ECXUTL(ECA)_U_U
"RTN","ECXMOV",44,0)
 S ECODE1=ECXMPI_U_ECXDSSD
"RTN","ECXMOV",45,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXMOV",46,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXMOV",47,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXMOV",48,0)
 Q
"RTN","ECXMOV",49,0)
 ;
"RTN","ECXMOV",50,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXMOV",51,0)
 S ECHEAD="MOV"
"RTN","ECXMOV",52,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXMOV",53,0)
 Q
"RTN","ECXMOV",54,0)
 ;
"RTN","ECXMOV",55,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXMOV",56,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXMTL")
0^12^B15247236
"RTN","ECXMTL",1,0)
ECXMTL ;ALB/JAP - DSS Mental Health Extract ; 05/26/1999
"RTN","ECXMTL",2,0)
 ;;3.0;DSS EXTRACTS;**24**;Dec 22, 1997
"RTN","ECXMTL",3,0)
 ;
"RTN","ECXMTL",4,0)
BEG ;entry point from option
"RTN","ECXMTL",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXMTL",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXMTL",7,0)
 Q
"RTN","ECXMTL",8,0)
 ;
"RTN","ECXMTL",9,0)
START ;entry point from tasked job
"RTN","ECXMTL",10,0)
 S QFLG=0
"RTN","ECXMTL",11,0)
 ;get first record #
"RTN","ECXMTL",12,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1)
"RTN","ECXMTL",13,0)
 ;call mh/dss api for extract record creation
"RTN","ECXMTL",14,0)
 ;variables ecfile,ecxym,ecinst,ecsd,eced passed in by taskmanager
"RTN","ECXMTL",15,0)
 S ECXSEQ=EC7,ECXECX=$P(EC23,U,2),ECXERR=0
"RTN","ECXMTL",16,0)
 ;call mh api to create extract records
"RTN","ECXMTL",17,0)
 S X="YSDSS" X ^%ZOSF("TEST") I '$T S QFLG=1 Q
"RTN","ECXMTL",18,0)
 D UPD^YSDSS(ECFILE,.ECXSEQ,ECXYM,ECXECX,ECINST,ECSD,ECED,.ECXERR)
"RTN","ECXMTL",19,0)
 I ECXERR S QFLG=1 Q
"RTN","ECXMTL",20,0)
 Q:QFLG
"RTN","ECXMTL",21,0)
 ;if no error, continue
"RTN","ECXMTL",22,0)
 D UPDATE
"RTN","ECXMTL",23,0)
 Q
"RTN","ECXMTL",24,0)
 ;
"RTN","ECXMTL",25,0)
UPDATE ;add non-mh data to each record created by mh api
"RTN","ECXMTL",26,0)
 N JJ
"RTN","ECXMTL",27,0)
 S EC7=EC7+1
"RTN","ECXMTL",28,0)
 F JJ=EC7:1:ECXSEQ Q:QFLG  D
"RTN","ECXMTL",29,0)
 .Q:'$D(^ECX(ECFILE,JJ,0))
"RTN","ECXMTL",30,0)
 .S ECXDFN=$P(^ECX(ECFILE,JJ,0),U,5),ECXDATE=$P(^ECX(ECFILE,JJ,0),U,9),ECXPRV=$P(^ECX(ECFILE,JJ,0),U,18)
"RTN","ECXMTL",31,0)
 .S ECXSCNUM=$P(^ECX(ECFILE,JJ,0),U,23),ECXSCNAM=$P(^ECX(ECFILE,JJ,0),U,24)
"RTN","ECXMTL",32,0)
 .D PAT(ECXDFN,ECXDATE)
"RTN","ECXMTL",33,0)
 .S (ECXPRCLS,ECXPRNPI,ECXDIV)="" I ECXPRV D PROV(.ECXPRV,ECXDATE)
"RTN","ECXMTL",34,0)
 .S ECXDSSI=""
"RTN","ECXMTL",35,0)
 .S ECXDATE=$$ECXDATE^ECXUTL(ECXDATE,ECXYM)
"RTN","ECXMTL",36,0)
 .;adjust scale name & scale number
"RTN","ECXMTL",37,0)
 .S ECXSCNAM=$E(ECXSCNAM,1,10)
"RTN","ECXMTL",38,0)
 .I ECXSCNUM]"",ECXSCNUM'=+ECXSCNUM S ECXSCNUM=+$E(ECXSCNUM,2,99)
"RTN","ECXMTL",39,0)
 .D FILE
"RTN","ECXMTL",40,0)
 Q
"RTN","ECXMTL",41,0)
 ;
"RTN","ECXMTL",42,0)
PAT(ECXDFN,ECXDATE) ;determine in/outpatient status, demographics, primary care
"RTN","ECXMTL",43,0)
 N OK
"RTN","ECXMTL",44,0)
 S (ECXPNM,ECXSSN,ECXMPI)=""
"RTN","ECXMTL",45,0)
 K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,ECXDATE,"1;",.ECXPAT)
"RTN","ECXMTL",46,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXMTL",47,0)
 ;get primary care data
"RTN","ECXMTL",48,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXMTL",49,0)
 S ECPTTM=$P(X,U,1)
"RTN","ECXMTL",50,0)
 S ECPTPR=$P(X,U,2)
"RTN","ECXMTL",51,0)
 S ECCLAS=$P(X,U,3)
"RTN","ECXMTL",52,0)
 S ECPTNPI=$P(X,U,4)
"RTN","ECXMTL",53,0)
 S ECASPR=$P(X,U,5)
"RTN","ECXMTL",54,0)
 S ECCLAS2=$P(X,U,6)
"RTN","ECXMTL",55,0)
 S ECASNPI=$P(X,U,7)
"RTN","ECXMTL",56,0)
 ;get inpatient data
"RTN","ECXMTL",57,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXMTL",58,0)
 S ECXA=$P(X,U,1),ECXADMDT=$P($P(X,U,4),"."),ECXDCDT=$P($P(X,U,6),".")
"RTN","ECXMTL",59,0)
 S ECXWPRV=$P(X,U,7),ECXATT=$P(X,U,8)
"RTN","ECXMTL",60,0)
 I ECXADMDT S ECXADMDT=$$ECXDATE^ECXUTL(ECXADMDT,ECXYM)
"RTN","ECXMTL",61,0)
 I ECXDCDT S ECXDCDT=$$ECXDATE^ECXUTL(ECXDCDT,ECXYM)
"RTN","ECXMTL",62,0)
 Q
"RTN","ECXMTL",63,0)
 ;
"RTN","ECXMTL",64,0)
PROV(ECXPRV,ECXDATE) ;get provider data
"RTN","ECXMTL",65,0)
 N INST,DGIEN,ARR,DIC,DR,DA,DIQ
"RTN","ECXMTL",66,0)
 S ECXPRCLS=$$PRVCLASS^ECXUTL(ECXPRV,ECXDATE)
"RTN","ECXMTL",67,0)
 S ECXPRNPI=""
"RTN","ECXMTL",68,0)
 ;get division identifier using provider
"RTN","ECXMTL",69,0)
 S ECXDIV=""
"RTN","ECXMTL",70,0)
 S IEN=0 F  D  Q:'IEN  Q:'INST  Q:ECXDIV
"RTN","ECXMTL",71,0)
 .;get pointer to file #4 from provider record
"RTN","ECXMTL",72,0)
 .I '$D(^VA(200,ECXPRV,0)) Q
"RTN","ECXMTL",73,0)
 .S IEN=$O(^VA(200,ECXPRV,2,IEN))
"RTN","ECXMTL",74,0)
 .Q:'IEN
"RTN","ECXMTL",75,0)
 .S DIC="^VA(200,",DR="16",DA=ECXPRV
"RTN","ECXMTL",76,0)
 .S DR(200.02)=".01",DA(200.02)=IEN,DIQ="ARR",DIQ(0)="I"
"RTN","ECXMTL",77,0)
 .D EN^DIQ1
"RTN","ECXMTL",78,0)
 .S INST=$G(ARR(200.02,IEN,.01,"I"))
"RTN","ECXMTL",79,0)
 .Q:'INST
"RTN","ECXMTL",80,0)
 .;get medical center division
"RTN","ECXMTL",81,0)
 .S DGIEN=$O(^DG(40.8,"AD",INST,0)) I DGIEN D
"RTN","ECXMTL",82,0)
 ..S ECXDIV=$P($G(^ECX(727.3,DGIEN,0)),U,2)
"RTN","ECXMTL",83,0)
 S ECXPRV="2"_ECXPRV
"RTN","ECXMTL",84,0)
 Q
"RTN","ECXMTL",85,0)
 ;
"RTN","ECXMTL",86,0)
FILE ;file record in #727.812
"RTN","ECXMTL",87,0)
 ;node0
"RTN","ECXMTL",88,0)
 ;facility^dfn^ssn^name^i/o status^day^division^admit date^d/c date^dss id^pc team^pc provider^pc provider npi^pc prov person class^
"RTN","ECXMTL",89,0)
 ;provider^provider npi^prov person class^test name^test ien^scale number^scale name^test score^scale score^attend phys^ward provider
"RTN","ECXMTL",90,0)
 ;node1
"RTN","ECXMTL",91,0)
 ;mpi^assoc pc provider^assoc pc provider npi^assoc pc prov person class^asi class^asi special
"RTN","ECXMTL",92,0)
 N DA,DIK
"RTN","ECXMTL",93,0)
 S $P(^ECX(ECFILE,JJ,0),U,6,9)=ECXSSN_U_ECXPNM_U_ECXA_U_ECXDATE
"RTN","ECXMTL",94,0)
 S $P(^ECX(ECFILE,JJ,0),U,10,17)=ECXDIV_U_ECXADMDT_U_ECXDCDT_U_ECXDSSI_U_ECPTTM_U_ECPTPR_U_ECPTNPI_U_ECCLAS
"RTN","ECXMTL",95,0)
 S $P(^ECX(ECFILE,JJ,0),U,18,20)=ECXPRV_U_ECXPRNPI_U_ECXPRCLS
"RTN","ECXMTL",96,0)
 S $P(^ECX(ECFILE,JJ,0),U,23,24)=ECXSCNUM_U_ECXSCNAM
"RTN","ECXMTL",97,0)
 S $P(^ECX(ECFILE,JJ,0),U,27,28)=ECXATT_U_ECXWPRV
"RTN","ECXMTL",98,0)
 I '$D(^ECX(ECFILE,JJ,1)) S ^ECX(727.812,JJ,1)="^^^^^"
"RTN","ECXMTL",99,0)
 S $P(^ECX(ECFILE,JJ,1),U,1,4)=ECXMPI_U_ECASPR_U_ECASNPI_U_ECCLAS2
"RTN","ECXMTL",100,0)
 S DA=JJ,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXMTL",101,0)
 S ECRN=ECRN+1
"RTN","ECXMTL",102,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXMTL",103,0)
 Q
"RTN","ECXMTL",104,0)
 ;
"RTN","ECXMTL",105,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXMTL",106,0)
 S ECHEAD="MTL"
"RTN","ECXMTL",107,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXMTL",108,0)
 Q
"RTN","ECXMTL",109,0)
 ;
"RTN","ECXMTL",110,0)
QUE ;Entry point for the background requeuing handled by ECXTAUTO.
"RTN","ECXMTL",111,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL
"RTN","ECXMTL",112,0)
 Q
"RTN","ECXNDC")
0^39^B15382914
"RTN","ECXNDC",1,0)
ECXNDC ;ALB/JAP BIR/CML - Lookup Routine for NDC's ; [ 08/29/96  2:16 PM ]
"RTN","ECXNDC",2,0)
 ;;3.0;DSS EXTRACTS;**10,11,24**;Dec 22, 1997
"RTN","ECXNDC",3,0)
EN ;entry point from option
"RTN","ECXNDC",4,0)
 N F5068,QFLG
"RTN","ECXNDC",5,0)
 S F5068=0 I $T(PSNAPIS+1^PSNAPIS)[";;4.0;" S F5068=1
"RTN","ECXNDC",6,0)
 W @IOF
"RTN","ECXNDC",7,0)
 W !!,"Pharmacy Feeder Keys for DSS are built in the following manner."
"RTN","ECXNDC",8,0)
 I 'F5068 D NDF3 Q:QFLG
"RTN","ECXNDC",9,0)
 I F5068 D NDF4 Q:QFLG
"RTN","ECXNDC",10,0)
 W @IOF
"RTN","ECXNDC",11,0)
 W !,"This option will allow lookups on the local DRUG file (#50) using "
"RTN","ECXNDC",12,0)
 W !,"NDCs from DSS Pharmacy Feeder Keys that have been rejected because"
"RTN","ECXNDC",13,0)
 I 'F5068 D
"RTN","ECXNDC",14,0)
 .W !,"the first seven characters are zeros. (Ex. ""0000000051079014120"")"
"RTN","ECXNDC",15,0)
 I F5068 D
"RTN","ECXNDC",16,0)
 .W !,"the first five characters are zeros in a 17 character Feeder Key."
"RTN","ECXNDC",17,0)
 .W !,"(Ex. ""00000051079014120"")"
"RTN","ECXNDC",18,0)
 .W !,"OR"
"RTN","ECXNDC",19,0)
 .W !,"the first seven characters are zeros in a 19 character Feeder Key."
"RTN","ECXNDC",20,0)
 .W !,"(Ex. ""0000000051079014120"")"
"RTN","ECXNDC",21,0)
 W !!,"This would occur when a pharmacy item has not been matched to the"
"RTN","ECXNDC",22,0)
 W !,"the National Drug File (NDF)."
"RTN","ECXNDC",23,0)
 W !!,"Enter the NDC (last twelve characters) from a rejected feeder key"
"RTN","ECXNDC",24,0)
 W !,"to display information from the local DRUG file for any drug which"
"RTN","ECXNDC",25,0)
 W !,"has that NDC."
"RTN","ECXNDC",26,0)
 D ASK
"RTN","ECXNDC",27,0)
 K %,%H,%Y,DRG,DRGNM,ECD,LN,POP,X,Y,DUOUT,DTOUT
"RTN","ECXNDC",28,0)
 Q
"RTN","ECXNDC",29,0)
ASK ;select ndc for lookup
"RTN","ECXNDC",30,0)
 K DUOUT,DTOUT
"RTN","ECXNDC",31,0)
 W !!!,"Enter 12 numeric characters at the prompt or <cr> to exit.",!
"RTN","ECXNDC",32,0)
 S DIC=50,DIC(0)="QEA",D="NDC",DIC("A")="Select NDC: "
"RTN","ECXNDC",33,0)
 D MIX^DIC1
"RTN","ECXNDC",34,0)
 Q:Y<0  Q:($D(DUOUT)!$D(DTOUT))
"RTN","ECXNDC",35,0)
 S DRG=+Y
"RTN","ECXNDC",36,0)
 S DA=DRG,DR=".01;2;31;14.5;16",DIQ="ECXDIQ",DIQ(0)="E" D EN^DIQ1
"RTN","ECXNDC",37,0)
 K LN S DRGNM=ECXDIQ(50,DRG,.01,"E"),$P(LN,"-",$L(DRGNM)+1)=""
"RTN","ECXNDC",38,0)
 W !!,DRGNM,!,LN
"RTN","ECXNDC",39,0)
 W !,"NDC:           ",ECXDIQ(50,DRG,31,"E"),?40,"VA Classification:       ",ECXDIQ(50,DRG,2,"E")
"RTN","ECXNDC",40,0)
 W !,"Dispense Unit: ",ECXDIQ(50,DRG,14.5,"E"),?40,"Price per Dispense Unit: ",ECXDIQ(50,DRG,16,"E")
"RTN","ECXNDC",41,0)
 K ECXDIQ,X,Y,DIC,DA,DR,DIQ,DRG,ECXDIQ
"RTN","ECXNDC",42,0)
 G ASK
"RTN","ECXNDC",43,0)
 ;
"RTN","ECXNDC",44,0)
NDF3 ;before ndf v4
"RTN","ECXNDC",45,0)
 S QFLG=0
"RTN","ECXNDC",46,0)
 W !!,"Your site is running NATIONAL DRUG FILE (NDF) v3.18, so"
"RTN","ECXNDC",47,0)
 W !,"PHA Feeder Keys are composed of 19 numeric characters."
"RTN","ECXNDC",48,0)
 W !!?5,"Ex. ""0016006000003073531""   where characters:"
"RTN","ECXNDC",49,0)
 W !!?5,"1-4 (0016)          = pointer to the NATIONAL DRUG file (#50.6)"
"RTN","ECXNDC",50,0)
 W !?5,"5-7 (006)           = pointer to VA PRODUCT NAME subfile (#50.68)"
"RTN","ECXNDC",51,0)
 W !?5,"                      of the NATIONAL DRUG file (#50.6)"
"RTN","ECXNDC",52,0)
 W !?5,"8-19 (000003073531) = NDC from the local DRUG file (#50)"
"RTN","ECXNDC",53,0)
 I $E(IOST)="C" D
"RTN","ECXNDC",54,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXNDC",55,0)
 .S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXNDC",56,0)
 Q
"RTN","ECXNDC",57,0)
 ;
"RTN","ECXNDC",58,0)
NDF4 ;after ndf v4
"RTN","ECXNDC",59,0)
 S QFLG=0
"RTN","ECXNDC",60,0)
 W !!,"Your site is running NATIONAL DRUG FILE (NDF) v4.0."
"RTN","ECXNDC",61,0)
 W !,"If Pharmacy data is dated after September 30, 1998,"
"RTN","ECXNDC",62,0)
 W !,"then PHA Feeder Keys are composed of 17 numeric characters."
"RTN","ECXNDC",63,0)
 W !!?5,"Ex. ""12006000003073531""   where characters:"
"RTN","ECXNDC",64,0)
 W !?5,"1-5 (12006)         = pointer to VA PRODUCT NAME file (#50.68)"
"RTN","ECXNDC",65,0)
 W !?5,"6-17 (000003073531) = NDC from the local DRUG file (#50)"
"RTN","ECXNDC",66,0)
 W !!,"If Pharmacy data is dated prior to October 1, 1998,"
"RTN","ECXNDC",67,0)
 W !,"then PHA Feeder Keys are composed of 19 numeric characters."
"RTN","ECXNDC",68,0)
 W !!?5,"Ex. ""0016006000003073531""   where characters:"
"RTN","ECXNDC",69,0)
 W !!?5,"1-4 (0016)          = pointer to the NATIONAL DRUG file (#50.6)"
"RTN","ECXNDC",70,0)
 W !?5,"5-7 (006)           = pointer to VA PRODUCT NAME subfile (#50.68)"
"RTN","ECXNDC",71,0)
 W !?5,"                      of the NATIONAL DRUG file (#50.6)"
"RTN","ECXNDC",72,0)
 W !?5,"8-19 (000003073531) = NDC from the local DRUG file (#50)"
"RTN","ECXNDC",73,0)
 I $E(IOST)="C" D
"RTN","ECXNDC",74,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXNDC",75,0)
 .S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXNDC",76,0)
 Q
"RTN","ECXNURS")
0^13^B32184271
"RTN","ECXNURS",1,0)
ECXNURS ;ALB/JAP,BIR/DMA,PTD-Nursing Extract for DSS ; 11/01/96 10:16
"RTN","ECXNURS",2,0)
 ;;3.0;DSS EXTRACTS;**8,14,22,24**;Dec 22, 1997
"RTN","ECXNURS",3,0)
BEG ;entry point from option
"RTN","ECXNURS",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXNURS",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXNURS",6,0)
 Q
"RTN","ECXNURS",7,0)
 ;
"RTN","ECXNURS",8,0)
START ;entry when queued
"RTN","ECXNURS",9,0)
 ;store in ^tmp by patient and date/time
"RTN","ECXNURS",10,0)
 N CNT,INP,FIRSTDAY,LASTDAY
"RTN","ECXNURS",11,0)
 S QFLG=0,CNT=0
"RTN","ECXNURS",12,0)
 K ^TMP("ECX",$J)
"RTN","ECXNURS",13,0)
 S FIRSTDAY=$P(ECSD1,".")+1,LASTDAY=$P(ECED,".")
"RTN","ECXNURS",14,0)
 S ECED=ECED+.3,ECD=ECSD1
"RTN","ECXNURS",15,0)
 F  S ECD=$O(^NURSA(214.6,"B",ECD)),ECDA=0 Q:'ECD  Q:ECD>ECED  D  Q:QFLG
"RTN","ECXNURS",16,0)
 .F  S ECDA=$O(^NURSA(214.6,"B",ECD,ECDA)) Q:'ECDA  D  Q:QFLG
"RTN","ECXNURS",17,0)
 ..K LOC S DIC=214.6,DIQ(0)="I",DA=ECDA,DIQ="LOC",DR=".01;.02;1;3;4;6;7;8"
"RTN","ECXNURS",18,0)
 ..D EN^DIQ1 K DIQ,DIC,DA,DR
"RTN","ECXNURS",19,0)
 ..F J=.01,.02,1,3,4,6,7,8 S EC(J)=LOC(214.6,ECDA,J,"I")
"RTN","ECXNURS",20,0)
 ..Q:EC(8)'=""
"RTN","ECXNURS",21,0)
 ..S INP=$$INP^ECXUTL2(EC(.02),EC(.01))
"RTN","ECXNURS",22,0)
 ..Q:+INP=1
"RTN","ECXNURS",23,0)
 ..; retain latest classification per day per patient
"RTN","ECXNURS",24,0)
 ..S ^TMP("ECX",$J,EC(.02),$P(EC(.01),"."))=EC(1)_U_EC(3)_U_EC(4)_U_EC(6)_U_EC(7)_U_$P(INP,U,1,6)_U_EC(.01)
"RTN","ECXNURS",25,0)
 ..K LOC(214.6,ECDA),EC,INP
"RTN","ECXNURS",26,0)
 ..S CNT=CNT+1
"RTN","ECXNURS",27,0)
 ..I $D(ZTQUEUED),(CNT>499),'(CNT#500),$$S^%ZTLOAD S QFLG=1
"RTN","ECXNURS",28,0)
 I QFLG K ^TMP("ECX",$J) Q
"RTN","ECXNURS",29,0)
 D RESOLVE
"RTN","ECXNURS",30,0)
 D FILE
"RTN","ECXNURS",31,0)
 K ^TMP("ECX",$J)
"RTN","ECXNURS",32,0)
 ;
"RTN","ECXNURS",33,0)
RESOLVE ;process ^tmp by patient
"RTN","ECXNURS",34,0)
 N DFN,TM,ECD,ECDPREV,ECDNEW,OLDWARD,NEWWARD,NEWDT
"RTN","ECXNURS",35,0)
 S DFN=0
"RTN","ECXNURS",36,0)
 F  S DFN=$O(^TMP("ECX",$J,DFN)) S ECD=0 Q:'DFN  D
"RTN","ECXNURS",37,0)
 .;remove any classifications for day of discharge
"RTN","ECXNURS",38,0)
 .F  S ECD=$O(^TMP("ECX",$J,DFN,ECD)) Q:'ECD  D
"RTN","ECXNURS",39,0)
 ..I ECD=$P($P(^TMP("ECX",$J,DFN,ECD),U,11),".") K ^TMP("ECX",$J,DFN,ECD)
"RTN","ECXNURS",40,0)
 .;proceed only if ^tmp remains
"RTN","ECXNURS",41,0)
 .Q:'$D(^TMP("ECX",$J,DFN))
"RTN","ECXNURS",42,0)
 .;proceed with fill-in only if processing more than 3 days' data
"RTN","ECXNURS",43,0)
 .Q:LASTDAY<(FIRSTDAY+2)
"RTN","ECXNURS",44,0)
 .;fill-in records for any missing days per inpatient episode
"RTN","ECXNURS",45,0)
 .K TM S ECD=0
"RTN","ECXNURS",46,0)
 .F  S ECD=$O(^TMP("ECX",$J,DFN,ECD)) Q:'ECD   D
"RTN","ECXNURS",47,0)
 ..S TM(ECD)=$P(^TMP("ECX",$J,DFN,ECD),U,9)
"RTN","ECXNURS",48,0)
 .S (ECD,ECDPREV)=0
"RTN","ECXNURS",49,0)
 .F  S ECD=$O(TM(ECD)) Q:'ECD  D
"RTN","ECXNURS",50,0)
 ..I ECDPREV=0 S ECDPREV=ECD Q
"RTN","ECXNURS",51,0)
 ..I (ECD-ECDPREV)>1,+TM(ECD)=+TM(ECDPREV) D
"RTN","ECXNURS",52,0)
 ...F ECDNEW=ECDPREV+1:1:ECD-1 S ^TMP("ECX",$J,DFN,ECDNEW)=^TMP("ECX",$J,DFN,ECDPREV) D
"RTN","ECXNURS",53,0)
 ....S NEWWARD="",OLDWARD=$P(^TMP("ECX",$J,DFN,ECDPREV),U,10)
"RTN","ECXNURS",54,0)
 ....D NEWWARD(ECDNEW,OLDWARD,.NEWWARD)
"RTN","ECXNURS",55,0)
 ....Q:'NEWWARD
"RTN","ECXNURS",56,0)
 ....S $P(^TMP("ECX",$J,DFN,ECDNEW),U,4)=$P(NEWWARD,U,1)
"RTN","ECXNURS",57,0)
 ....S $P(^TMP("ECX",$J,DFN,ECDNEW),U,5)=$P(NEWWARD,U,2)
"RTN","ECXNURS",58,0)
 ..S ECDPREV=ECD
"RTN","ECXNURS",59,0)
 .;fill-in to end of extract date range
"RTN","ECXNURS",60,0)
 .K TM S ECD=0
"RTN","ECXNURS",61,0)
 .F  S ECD=$O(^TMP("ECX",$J,DFN,ECD)) Q:'ECD   D
"RTN","ECXNURS",62,0)
 ..S TM(ECD)=$P(^TMP("ECX",$J,DFN,ECD),U,11)
"RTN","ECXNURS",63,0)
 .S ECD=$O(TM(""),-1),DCDT=+TM(ECD)
"RTN","ECXNURS",64,0)
 .;if last day in date range is after last classification date
"RTN","ECXNURS",65,0)
 .I LASTDAY>ECD D
"RTN","ECXNURS",66,0)
 ..;if there is no d/c date
"RTN","ECXNURS",67,0)
 ..I DCDT=0 F ECDNEW=ECD+1:1:LASTDAY D  Q
"RTN","ECXNURS",68,0)
 ...I '$D(^TMP("ECX",$J,DFN,ECDNEW)) S ^TMP("ECX",$J,DFN,ECDNEW)=^TMP("ECX",$J,DFN,ECD)
"RTN","ECXNURS",69,0)
 ...S NEWWARD="",OLDWARD=$P(^TMP("ECX",$J,DFN,ECD),U,10)
"RTN","ECXNURS",70,0)
 ...D NEWWARD(ECDNEW,OLDWARD,.NEWWARD)
"RTN","ECXNURS",71,0)
 ...Q:'NEWWARD
"RTN","ECXNURS",72,0)
 ...S $P(^TMP("ECX",$J,DFN,ECDNEW),U,4)=$P(NEWWARD,U,1)
"RTN","ECXNURS",73,0)
 ...S $P(^TMP("ECX",$J,DFN,ECDNEW),U,5)=$P(NEWWARD,U,2)
"RTN","ECXNURS",74,0)
 ..;if d/c date is after last classification date
"RTN","ECXNURS",75,0)
 ..I $P(DCDT,".")>ECD S NEWDT=$S($P(DCDT,".")>LASTDAY:LASTDAY,1:($P(DCDT,".")-1)) F ECDNEW=ECD+1:1:NEWDT D  Q
"RTN","ECXNURS",76,0)
 ...I '$D(^TMP("ECX",$J,DFN,ECDNEW)) S ^TMP("ECX",$J,DFN,ECDNEW)=^TMP("ECX",$J,DFN,ECD)
"RTN","ECXNURS",77,0)
 ...S NEWWARD="",OLDWARD=$P(^TMP("ECX",$J,DFN,ECD),U,10)
"RTN","ECXNURS",78,0)
 ...D NEWWARD(ECDNEW,OLDWARD,.NEWWARD)
"RTN","ECXNURS",79,0)
 ...Q:'NEWWARD
"RTN","ECXNURS",80,0)
 ...S $P(^TMP("ECX",$J,DFN,ECDNEW),U,4)=$P(NEWWARD,U,1)
"RTN","ECXNURS",81,0)
 ...S $P(^TMP("ECX",$J,DFN,ECDNEW),U,5)=$P(NEWWARD,U,2)
"RTN","ECXNURS",82,0)
 Q
"RTN","ECXNURS",83,0)
 ;
"RTN","ECXNURS",84,0)
NEWWARD(ECDNEW,OLDWARD,NEWWARD) ;get new nursing location
"RTN","ECXNURS",85,0)
 ; input  ECDNEW  = date of care
"RTN","ECXNURS",86,0)
 ;        OLDWARD = pointer to file #42, previous mas ward
"RTN","ECXNURS",87,0)
 ;        NEWWARD = null
"RTN","ECXNURS",88,0)
 ; output NEWWARD = new nursing location^new nursing bedsection
"RTN","ECXNURS",89,0)
 ;                  OR "^", if new ward same as previous ward or could not be resolved
"RTN","ECXNURS",90,0)
 ;if the new ward is mapped to multiple nursing locations, get the first active location
"RTN","ECXNURS",91,0)
 N NEWW,NEWLOC,NEWSEC,OUT,DA,DR,DIC,DIQ,LOC,INP
"RTN","ECXNURS",92,0)
 S INP=$$INP^ECXUTL2(DFN,ECDNEW) S NEWWARD=$P(INP,U,5)
"RTN","ECXNURS",93,0)
 I NEWWARD=OLDWARD S NEWWARD=""
"RTN","ECXNURS",94,0)
 Q:'NEWWARD
"RTN","ECXNURS",95,0)
 S NEWW="",NEWLOC="",NEWSEC="",OUT=0
"RTN","ECXNURS",96,0)
 F  S NEWW=$O(^NURSF(211.4,"C",NEWWARD,NEWW)) Q:OUT  Q:+NEWW<1  D
"RTN","ECXNURS",97,0)
 .S DIC=211.4,DIQ(0)="I",DIQ="LOC",DA=NEWW,DR="1;1.5"
"RTN","ECXNURS",98,0)
 .D EN^DIQ1 K DIQ,DIC,DA,DR
"RTN","ECXNURS",99,0)
 .Q:LOC(211.4,NEWW,1,"I")="I"
"RTN","ECXNURS",100,0)
 .Q:LOC(211.4,NEWW,1.5,"I")="I"
"RTN","ECXNURS",101,0)
 .S JJ=$O(^NURSF(211.4,"C",NEWWARD,NEWW,""))
"RTN","ECXNURS",102,0)
 .S DIC=211.4,DIQ(0)="I",DIQ="LOC",DA=NEWW,DA(211.41)=JJ,DR="2",DR(211.41)=".01;1"
"RTN","ECXNURS",103,0)
 .D EN^DIQ1 K DIQ,DIC,DA,DR
"RTN","ECXNURS",104,0)
 .Q:NEWWARD'=LOC(211.41,JJ,.01,"I")
"RTN","ECXNURS",105,0)
 .S NEWLOC=NEWW,NEWSEC=LOC(211.41,JJ,1,"I"),OUT=1
"RTN","ECXNURS",106,0)
 I (NEWLOC="")!(NEWSEC="") S NEWWARD="" Q
"RTN","ECXNURS",107,0)
 S NEWWARD=NEWLOC_U_NEWSEC
"RTN","ECXNURS",108,0)
 Q
"RTN","ECXNURS",109,0)
 ;
"RTN","ECXNURS",110,0)
FILE ;file extract records
"RTN","ECXNURS",111,0)
 ;node0
"RTN","ECXNURS",112,0)
 ;inst^dfn^ssn^name^in/out^date^acuity level(category)^entered by^classifier^nurs location^nursing bed section^mov #^treat spec^adm date^adm time
"RTN","ECXNURS",113,0)
 ;node1
"RTN","ECXNURS",114,0)
 ;mpi^dss dept
"RTN","ECXNURS",115,0)
 N DA,DIK
"RTN","ECXNURS",116,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1)
"RTN","ECXNURS",117,0)
 S DFN=0,QFLG=0
"RTN","ECXNURS",118,0)
 F  S DFN=$O(^TMP("ECX",$J,DFN)) Q:'DFN  D  Q:QFLG
"RTN","ECXNURS",119,0)
 .S ECXDSSD=""
"RTN","ECXNURS",120,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(DFN,DT,"1;",.ECXPAT)
"RTN","ECXNURS",121,0)
 .Q:'OK
"RTN","ECXNURS",122,0)
 .S ECXDFN=DFN,ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXNURS",123,0)
 .S ECD=0
"RTN","ECXNURS",124,0)
 .;file patient's classification data
"RTN","ECXNURS",125,0)
 .F  S ECD=$O(^TMP("ECX",$J,DFN,ECD)) Q:'ECD   D
"RTN","ECXNURS",126,0)
 ..S ECC=$P(^TMP("ECX",$J,DFN,ECD),U,1,5),ECMN=$P(^(ECD),U,7),ECTS=$P(^(ECD),U,8),ECA=$P(^(ECD),U,9)
"RTN","ECXNURS",127,0)
 ..S ECXACU=$P(ECC,U,1),ECXEB=$P(ECC,U,2),ECXCLS=$P(ECC,U,3),ECXNLOC=$P(ECC,U,4),ECXNBED=$P(ECC,U,5)
"RTN","ECXNURS",128,0)
 ..S EC7=EC7+1
"RTN","ECXNURS",129,0)
 ..S ECODE=EC7_U_EC23
"RTN","ECXNURS",130,0)
 ..S ECODE=ECODE_U_ECINST_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_"3"_U_$$ECXDATE^ECXUTL(ECD,ECXYM)
"RTN","ECXNURS",131,0)
 ..S ECODE=ECODE_U_ECXACU_U_ECXEB_U_ECXCLS_U_ECXNLOC_U_ECXNBED
"RTN","ECXNURS",132,0)
 ..S ECODE=ECODE_U_ECMN_U_ECTS_U_$$ECXDATE^ECXUTL(ECA,ECXYM)_U_$$ECXTIME^ECXUTL(ECA)
"RTN","ECXNURS",133,0)
 ..S ECODE1=ECXMPI_U_ECXDSSD
"RTN","ECXNURS",134,0)
 ..S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXNURS",135,0)
 ..S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXNURS",136,0)
 ..I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXNURS",137,0)
 Q
"RTN","ECXNURS",138,0)
 ;
"RTN","ECXNURS",139,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXNURS",140,0)
 S ECHEAD="NUR"
"RTN","ECXNURS",141,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXNURS",142,0)
 Q
"RTN","ECXNURS",143,0)
 ;
"RTN","ECXNURS",144,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXNURS",145,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXOPRX")
0^14^B29873489
"RTN","ECXOPRX",1,0)
ECXOPRX ;ALB/JAP,BIR/DMA,CML,PTD-Prescription Extract for DSS ; [ 03/26/97  2:09 PM ]
"RTN","ECXOPRX",2,0)
 ;;3.0;DSS EXTRACTS;**10,11,8,13,24**;Dec 22, 1997
"RTN","ECXOPRX",3,0)
 ;
"RTN","ECXOPRX",4,0)
BEG ;entry point from option
"RTN","ECXOPRX",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXOPRX",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXOPRX",7,0)
 Q
"RTN","ECXOPRX",8,0)
START ;entry when queued
"RTN","ECXOPRX",9,0)
 N X,DA,DIC,DIQ,DR
"RTN","ECXOPRX",10,0)
 S QFLG=0
"RTN","ECXOPRX",11,0)
 I '$D(ECINST) D
"RTN","ECXOPRX",12,0)
 .S ECINST=+$P(^ECX(728,1,0),U) K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXOPRX",13,0)
 .D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXOPRX",14,0)
 ;before V6
"RTN","ECXOPRX",15,0)
 S ECPROF=6
"RTN","ECXOPRX",16,0)
 S ECD=$O(^PSRX("AL",0)) I ECD,ECD<ECSD1 G V6
"RTN","ECXOPRX",17,0)
 S ECED=ECED+.3,ECREF=1,ECD=ECSD1
"RTN","ECXOPRX",18,0)
 F  S ECD=$O(^PSRX("AD",ECD)),ECRX=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECRX=$O(^PSRX("AD",ECD,ECRX)),ECRFL="" Q:'ECRX  F  S ECRFL=$O(^PSRX("AD",ECD,ECRX,ECRFL)) Q:ECRFL=""  D STUFF Q:QFLG
"RTN","ECXOPRX",19,0)
 Q
"RTN","ECXOPRX",20,0)
 ;
"RTN","ECXOPRX",21,0)
V6 ;version 6 or better
"RTN","ECXOPRX",22,0)
 S ECPROF=2
"RTN","ECXOPRX",23,0)
 S ECED=ECED+.3,ECREF=1,ECD=ECSD1
"RTN","ECXOPRX",24,0)
 F  S ECD=$O(^PSRX("AL",ECD)),ECRX=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECRX=$O(^PSRX("AL",ECD,ECRX)),ECRFL="" Q:'ECRX  F  S ECRFL=$O(^PSRX("AL",ECD,ECRX,ECRFL)) Q:ECRFL=""  D STUFF Q:QFLG
"RTN","ECXOPRX",25,0)
 Q:QFLG
"RTN","ECXOPRX",26,0)
 S ECREF="P",ECD=ECSD1
"RTN","ECXOPRX",27,0)
 F  S ECD=$O(^PSRX("AM",ECD)),ECRX=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECRX=$O(^PSRX("AM",ECD,ECRX)),ECRFL="" Q:'ECRX  F  S ECRFL=$O(^PSRX("AM",ECD,ECRX,ECRFL)) Q:ECRFL=""  D STUFF Q:QFLG
"RTN","ECXOPRX",28,0)
 Q
"RTN","ECXOPRX",29,0)
 ;
"RTN","ECXOPRX",30,0)
STUFF ;get data
"RTN","ECXOPRX",31,0)
 S ECDATA=^PSRX(ECRX,0)
"RTN","ECXOPRX",32,0)
 I ECRFL S ECDATA1=$G(^PSRX(ECRX,ECREF,ECRFL,0)) I ECDATA1="" Q
"RTN","ECXOPRX",33,0)
 ;ecref set to 1 in extract+5 and v6+1 and to "P" in v6+2
"RTN","ECXOPRX",34,0)
 ;refill nodes and partial nodes are identical in layout
"RTN","ECXOPRX",35,0)
 ;fills (ie., ecrfl=0) and refills (ie.,ecrfl>0) from the "AL" cross-reference, partials from the "AM"
"RTN","ECXOPRX",36,0)
 S ECXDATE=ECD
"RTN","ECXOPRX",37,0)
 S ECXPROV=$P(ECDATA,U,4),ECDRG=+$P(ECDATA,U,6)
"RTN","ECXOPRX",38,0)
 ;get patient specific data
"RTN","ECXOPRX",39,0)
 S ECXDFN=$P(ECDATA,U,2),ECXERR=0
"RTN","ECXOPRX",40,0)
 D PAT(ECXDFN,ECXDATE,.ECXERR)
"RTN","ECXOPRX",41,0)
 Q:ECXERR
"RTN","ECXOPRX",42,0)
 I 'ECRFL D
"RTN","ECXOPRX",43,0)
 .S ECMW=$P(ECDATA,U,11),ECQTY=+$P(ECDATA,U,7),ECXDIV=$S($D(^PSRX(ECRX,2)):$P(^(2),U,9),1:1)
"RTN","ECXOPRX",44,0)
 .S ECPRC=+$P(ECDATA,U,17),ECOPAY=$P($G(^PSRX(ECRX,"IB")),U,2)]""
"RTN","ECXOPRX",45,0)
 .S ECXPROV="" S:$P(ECDATA,U,4)]"" ECXPROV=$P(ECDATA,U,4)
"RTN","ECXOPRX",46,0)
 I ECRFL D
"RTN","ECXOPRX",47,0)
 .S ECMW=$P(ECDATA1,U,2),ECQTY=+$P(ECDATA1,U,4),ECXDIV=$S(+$P(ECDATA1,U,9):$P(ECDATA1,U,9),1:1)
"RTN","ECXOPRX",48,0)
 .S ECPRC=+$P(ECDATA1,U,11),ECOPAY=$P($G(^PSRX(ECRX,1,ECRFL,"IB")),U)]""
"RTN","ECXOPRX",49,0)
 .S ECXPROV="" S:$P(ECDATA1,U,17)]"" ECXPROV=$P(ECDATA1,U,17)
"RTN","ECXOPRX",50,0)
 S (ECXPROVN,ECXPROVP)="" I ECXPROV]"" D
"RTN","ECXOPRX",51,0)
 .S ECXPROVP=$$PRVCLASS^ECXUTL(ECXPROV,ECSD1),ECXPROVN=""
"RTN","ECXOPRX",52,0)
 .S ECXPROV=ECXPROF_ECXPROV
"RTN","ECXOPRX",53,0)
 S ECXCOST=$J((ECQTY*ECPRC),1,2)
"RTN","ECXOPRX",54,0)
 S ECDS=$S(ECRFL:$P(ECDATA1,U,10),1:$P(ECDATA,U,8))
"RTN","ECXOPRX",55,0)
 S ECCAT=$P(^PSDRUG(ECDRG,0),U,2),ECINV=$P(^(0),U,3)["I",ECINV=$S(ECINV:"I",1:"")
"RTN","ECXOPRX",56,0)
 S ECUI=$P($G(^PSDRUG(ECDRG,660)),U,8)
"RTN","ECXOPRX",57,0)
 S ECNDC=$P($G(^PSDRUG(ECDRG,2)),U,4),ECNFC=$$RJ^XLFSTR($P(ECNDC,"-"),6,0)_$$RJ^XLFSTR($P(ECNDC,"-",2),4,0)_$$RJ^XLFSTR($P(ECNDC,"-",3),2,0),ECNFC=$TR(ECNFC,"*",0)
"RTN","ECXOPRX",58,0)
 S ECNDF=$G(^PSDRUG(ECDRG,"ND")),P1=$P(ECNDF,U),P3=$P(ECNDF,U,3)
"RTN","ECXOPRX",59,0)
 S X="PSNAPIS" X ^%ZOSF("TEST") I $T S ECNFC=$$DSS^PSNAPIS(P1,P3,ECXYM)_ECNFC
"RTN","ECXOPRX",60,0)
 I $L(ECNFC)=12 S ECNFC=$$RJ^XLFSTR(P1,4,0)_$$RJ^XLFSTR(P3,3,0)_ECNFC
"RTN","ECXOPRX",61,0)
 S ECXDSSD=""
"RTN","ECXOPRX",62,0)
 I ECMW="M" S ECMW=1 I $D(^PSRX("AR",ECD,ECRX)) S ECMW=2
"RTN","ECXOPRX",63,0)
 I ECMW="W" S ECMW=""
"RTN","ECXOPRX",64,0)
 S ECXNEW="" I ECRFL=0 S ECXNEW=1
"RTN","ECXOPRX",65,0)
 D FILE
"RTN","ECXOPRX",66,0)
 Q
"RTN","ECXOPRX",67,0)
 ;
"RTN","ECXOPRX",68,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;Determine in/outpatient status, movement number, primary care team and provider.
"RTN","ECXOPRX",69,0)
 N OK,X
"RTN","ECXOPRX",70,0)
 K ECXPAT
"RTN","ECXOPRX",71,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;2;3;5",.ECXPAT)
"RTN","ECXOPRX",72,0)
 I 'OK S ECXERR=1 Q
"RTN","ECXOPRX",73,0)
 S ECXSSN=ECXPAT("SSN")
"RTN","ECXOPRX",74,0)
 S ECXPNM=ECXPAT("NAME")
"RTN","ECXOPRX",75,0)
 S ECXMPI=ECXPAT("MPI")
"RTN","ECXOPRX",76,0)
 S ECXSEX=ECXPAT("SEX")
"RTN","ECXOPRX",77,0)
 S ECXDOB=ECXPAT("DOB")
"RTN","ECXOPRX",78,0)
 S ECXELIG=ECXPAT("ELIG")
"RTN","ECXOPRX",79,0)
 S ECXVET=ECXPAT("VET")
"RTN","ECXOPRX",80,0)
 S ECXRACE=ECXPAT("RACE")
"RTN","ECXOPRX",81,0)
 S ECXPST=ECXPAT("POW STAT")
"RTN","ECXOPRX",82,0)
 S ECXPLOC=ECXPAT("POW LOC")
"RTN","ECXOPRX",83,0)
 S ECXRST=ECXPAT("IR STAT")
"RTN","ECXOPRX",84,0)
 S ECXAST=ECXPAT("AO STAT")
"RTN","ECXOPRX",85,0)
 S ECXMST=ECXPAT("MST STAT")
"RTN","ECXOPRX",86,0)
 S ECXSTATE=ECXPAT("STATE")
"RTN","ECXOPRX",87,0)
 S ECXCNTY=ECXPAT("COUNTY")
"RTN","ECXOPRX",88,0)
 S ECXZIP=ECXPAT("ZIP")
"RTN","ECXOPRX",89,0)
 S ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXOPRX",90,0)
 ;get inpatient data
"RTN","ECXOPRX",91,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXOPRX",92,0)
 S ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3)
"RTN","ECXOPRX",93,0)
 ;get primary care data
"RTN","ECXOPRX",94,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXOPRX",95,0)
 S ECPTTM=$P(X,U,1)
"RTN","ECXOPRX",96,0)
 S ECPTPR=$P(X,U,2)
"RTN","ECXOPRX",97,0)
 S ECCLAS=$P(X,U,3)
"RTN","ECXOPRX",98,0)
 S ECPTNPI=$P(X,U,4)
"RTN","ECXOPRX",99,0)
 S ECASPR=$P(X,U,5)
"RTN","ECXOPRX",100,0)
 S ECCLAS2=$P(X,U,6)
"RTN","ECXOPRX",101,0)
 S ECASNPI=$P(X,U,7)
"RTN","ECXOPRX",102,0)
 ;get sharing agreement data
"RTN","ECXOPRX",103,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXOPRX",104,0)
 D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXOPRX",105,0)
 Q
"RTN","ECXOPRX",106,0)
 ;
"RTN","ECXOPRX",107,0)
FILE ;file record
"RTN","ECXOPRX",108,0)
 ;node0
"RTN","ECXOPRX",109,0)
 ;inst^dfn^ssn^name^in/out^day^division^provider^drug category^mail^placeholder1^new^placeholder2^qty^cost^placeholder3^
"RTN","ECXOPRX",110,0)
 ;mov #^treat spec^placeholder4^unit of issue^dob^elig^vet^copay^feeder key^investigational^days supply^primary care team^primary care provider^time^race
"RTN","ECXOPRX",111,0)
 ;node1
"RTN","ECXOPRX",112,0)
 ;mpi^dss dept^sex^zip+4^provider npi^pc provider npi^state^county^pc prov person class^pow status^pow location^
"RTN","ECXOPRX",113,0)
 ;ir status^ao status^sharing agree. payor^sharing agree. ins.^mst status^enroll loc^assoc pc provider^assoc pc prov person class^assoc pc prov npi
"RTN","ECXOPRX",114,0)
 N DA,DIK
"RTN","ECXOPRX",115,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXOPRX",116,0)
 S ECODE=EC7_U_EC23
"RTN","ECXOPRX",117,0)
 S ECODE=ECODE_U_ECINST_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECXDIV
"RTN","ECXOPRX",118,0)
 S ECODE=ECODE_U_ECXPROV_U_ECCAT_U_ECMW_U_ECXPROVP_U_ECXNEW_U_U_ECQTY_U_ECXCOST_U_U_ECXMN_U_ECXTS_U_U_ECUI_U_ECXDOB
"RTN","ECXOPRX",119,0)
 S ECODE=ECODE_U_ECXELIG_U_ECXVET_U_ECOPAY_U_ECNFC_U_ECINV_U_ECDS_U_ECPTTM_U_ECPTPR_U_$$ECXTIME^ECXUTL(ECXDATE)_U_ECXRACE
"RTN","ECXOPRX",120,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXSEX_U_ECXZIP_U_ECXPROVN_U_ECPTNPI_U_ECXSTATE_U_ECXCNTY_U_ECCLAS_U_ECXPST_U_ECXPLOC
"RTN","ECXOPRX",121,0)
 S ECODE1=ECODE1_U_ECXRST_U_ECXAST_U_ECXPAYOR_U_ECXSAI_U_ECXMST_U_ECXENRL_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXOPRX",122,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXOPRX",123,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXOPRX",124,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXOPRX",125,0)
 Q
"RTN","ECXOPRX",126,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXOPRX",127,0)
 S ECHEAD="PRE"
"RTN","ECXOPRX",128,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXOPRX",129,0)
 Q
"RTN","ECXOPRX",130,0)
 ;
"RTN","ECXOPRX",131,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXOPRX",132,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPAI")
0^15^B7499944
"RTN","ECXPAI",1,0)
ECXPAI ;ALB/JAP,BIR/DMA,PTD-PAI Extract from File 45.9 ; 10/30/96 14:25
"RTN","ECXPAI",2,0)
 ;;3.0;DSS EXTRACTS;**8,20,24**;Dec 22, 1997
"RTN","ECXPAI",3,0)
BEG ;entry point from option
"RTN","ECXPAI",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXPAI",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXPAI",6,0)
 Q
"RTN","ECXPAI",7,0)
 ;
"RTN","ECXPAI",8,0)
START ; start package specific extract
"RTN","ECXPAI",9,0)
 N OK
"RTN","ECXPAI",10,0)
 S QFLG=0
"RTN","ECXPAI",11,0)
 S ECED=ECED+.3,ECD=ECSD1
"RTN","ECXPAI",12,0)
 F  S ECD=$O(^DG(45.9,"AA",ECD)),ECF=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECF=$O(^DG(45.9,"AA",ECD,ECF)) Q:'ECF  I $D(^DG(45.9,ECF,0)) S EC=^(0),ECXDFN=+EC,ECTD=$P(EC,U,7) D  Q:QFLG
"RTN","ECXPAI",13,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXPAI",14,0)
 .Q:'OK
"RTN","ECXPAI",15,0)
 .S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI"),ECXRACE=ECXPAT("RACE")
"RTN","ECXPAI",16,0)
 .S ECXDSSD=""
"RTN","ECXPAI",17,0)
 .S ECDA=0 F  S ECDA=+$O(^DGPM("APCA",ECXDFN,ECDA)),ECTD1=ECTD-.0001 Q:'ECDA  I $D(^DGPM(ECDA,0)) F  S ECTD1=+$O(^DGPM("APCA",ECXDFN,ECDA,ECTD1)) Q:'ECTD1  Q:ECTD1>(ECTD+.3)  D  Q:QFLG
"RTN","ECXPAI",18,0)
 ..S EC1=0 F  S EC1=+$O(^DGPM("APCA",ECXDFN,ECDA,ECTD1,EC1)) Q:'EC1  I $D(^DGPM(EC1,0)),$P(^(0),U,2)'=3 S ECADM=$P(^DGPM(ECDA,0),U) D  Q:QFLG
"RTN","ECXPAI",19,0)
 ...D FILE
"RTN","ECXPAI",20,0)
 Q
"RTN","ECXPAI",21,0)
 ;
"RTN","ECXPAI",22,0)
FILE ;file record
"RTN","ECXPAI",23,0)
 ;^dfn^ssn^name^i/o^day^admission date^admission time^admission/transfer date^admission/transfer time^race
"RTN","ECXPAI",24,0)
 ;node1
"RTN","ECXPAI",25,0)
 ;mpi^dss dept
"RTN","ECXPAI",26,0)
 N DA,DIK
"RTN","ECXPAI",27,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1)
"RTN","ECXPAI",28,0)
 S ECODEZ="" I EC7>0 S ECODEZ=^ECX(ECFILE,EC7,0)
"RTN","ECXPAI",29,0)
 S ECODE=U_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_"3"_U_$$ECXDATE^ECXUTL(ECD,ECXYM)
"RTN","ECXPAI",30,0)
 S ECODE=ECODE_U_$$ECXDATE^ECXUTL(ECADM,ECXYM)_U_$$ECXTIME^ECXUTL(ECADM)_U_$$ECXDATE^ECXUTL(ECTD1,ECXYM)_U_$$ECXTIME^ECXUTL(ECTD1)_U_ECXRACE
"RTN","ECXPAI",31,0)
 S ECODE1=ECXMPI_U_ECXDSSD
"RTN","ECXPAI",32,0)
 Q:$P(ECODE,U,4,14)=$P(ECODEZ,U,4,14)
"RTN","ECXPAI",33,0)
 I $P(ECODE,U,3,7)=$P(ECODEZ,U,5,9),$P(ECODE,U,10)=$P(ECODEZ,U,12),$P(ECODE,U,8,9)'=$P(ECODEZ,10,11) D  Q
"RTN","ECXPAI",34,0)
 .S $P(^ECX(ECFILE,EC7,0),U,10,11)=$P(ECODE,U,8,9)
"RTN","ECXPAI",35,0)
 S EC7=EC7+1
"RTN","ECXPAI",36,0)
 S ^ECX(ECFILE,EC7,0)=EC7_U_EC23_ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXPAI",37,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXPAI",38,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXPAI",39,0)
 Q
"RTN","ECXPAI",40,0)
 ;
"RTN","ECXPAI",41,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXPAI",42,0)
 S ECHEAD="PAS"
"RTN","ECXPAI",43,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXPAI",44,0)
 Q
"RTN","ECXPAI",45,0)
 ;
"RTN","ECXPAI",46,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXPAI",47,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPIV1")
0^37^B306338
"RTN","ECXPIV1",1,0)
ECXPIV1 ;ALB/JAP,BIR/DMA-Store Data from IV Package into 728.113 ; 03 Nov 95 / 12:58 PM
"RTN","ECXPIV1",2,0)
 ;;3.0;DSS EXTRACTS;**8,24**;Dec 22, 1997
"RTN","ECXPIV1",3,0)
 ;called from the IV routine PSIVSTAT
"RTN","ECXPIV1",4,0)
 ;load IV data into intermediate file #728.113
"RTN","ECXPIV1",5,0)
 N DA,DIK
"RTN","ECXPIV1",6,0)
 I '$D(^ECX(728.113)) Q
"RTN","ECXPIV1",7,0)
 L +^ECX(728.113,0):1 Q:'$T
"RTN","ECXPIV1",8,0)
 S EC=$O(^ECX(728.113,999999999),-1),EC=EC+1
"RTN","ECXPIV1",9,0)
 S ^ECX(728.113,EC,0)=EC_U_ECUD L -^ECX(728.113,0)
"RTN","ECXPIV1",10,0)
 S DA=EC,DIK="^ECX(728.113," D IX^DIK
"RTN","ECXPIV1",11,0)
 K EC
"RTN","ECXPIV1",12,0)
 Q
"RTN","ECXPIVD")
0^16^B13252556
"RTN","ECXPIVD",1,0)
ECXPIVD ;ALB/JAP,BIR/DMA,CML,PTD-Extract from IV STATS File (#50.8) ; [ 12/05/96  10:41 AM ]
"RTN","ECXPIVD",2,0)
 ;;3.0;DSS EXTRACTS;**10,11,8,13,24**;Dec 22, 1997
"RTN","ECXPIVD",3,0)
BEG ;entry point from option
"RTN","ECXPIVD",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXPIVD",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXPIVD",6,0)
 Q
"RTN","ECXPIVD",7,0)
 ;
"RTN","ECXPIVD",8,0)
START ; start package specific extract
"RTN","ECXPIVD",9,0)
 N X
"RTN","ECXPIVD",10,0)
 S QFLG=0
"RTN","ECXPIVD",11,0)
 S ECED=ECED+.3
"RTN","ECXPIVD",12,0)
 K ^TMP($J)
"RTN","ECXPIVD",13,0)
 S ECIV=0 F  S ECIV=$O(^PS(50.8,ECIV)),ECD=ECSD1 Q:'ECIV  F  S ECD=$O(^PS(50.8,ECIV,2,ECD)) Q:'ECD  Q:ECD>ECED  K ^TMP($J) D  Q:QFLG
"RTN","ECXPIVD",14,0)
 .;go thru AC crossreference to get pointers to 52.6 and 52.7
"RTN","ECXPIVD",15,0)
 .F ECJ=52.6,52.7 S ECK=0 F  S ECK=$O(^PS(50.8,ECIV,2,ECD,2,"AC",ECJ,ECK)),ECL=0 Q:'ECK  F   S ECL=$O(^PS(50.8,ECIV,2,ECD,2,"AC",ECJ,ECK,ECL)) Q:'ECL  S ^TMP($J,ECL,ECK)=""
"RTN","ECXPIVD",16,0)
 .S ECI=0 F  S ECI=$O(^PS(50.8,ECIV,2,ECD,2,ECI)) Q:'ECI  I $D(^(ECI,0)) S ECC=$P(^(0),U,5),ECF=+$P(^(0),U,7),ECDRG=+$O(^TMP($J,ECI,0)),EC50=+$P($G(^PS(ECF,ECDRG,0)),U,2) D  Q:QFLG
"RTN","ECXPIVD",17,0)
 ..S ECCAT=$P($G(^PSDRUG(EC50,0)),U,2),ECNDC=$P($G(^(2)),U,4),ECNDF=$G(^("ND")),ECINV=$P(^(0),U,3),ECINV=$S(ECINV["I":"I",1:"")
"RTN","ECXPIVD",18,0)
 ..S ECNFC=$$RJ^XLFSTR($P(ECNDC,"-"),6,0)_$$RJ^XLFSTR($P(ECNDC,"-",2),4,0)_$$RJ^XLFSTR($P(ECNDC,"-",3),2,0),ECNFC=$TR(ECNFC,"*",0)
"RTN","ECXPIVD",19,0)
 ..S P1=$P(ECNDF,U),P3=$P(ECNDF,U,3)
"RTN","ECXPIVD",20,0)
 ..S X="PSNAPIS" X ^%ZOSF("TEST") I $T S ECNFC=$$DSS^PSNAPIS(P1,P3,ECXYM)_ECNFC
"RTN","ECXPIVD",21,0)
 ..I $L(ECNFC)=12 S ECNFC=$$RJ^XLFSTR(P1,4,0)_$$RJ^XLFSTR(P3,3,0)_ECNFC
"RTN","ECXPIVD",22,0)
 ..S ECDFN=0 F  S ECDFN=$O(^PS(50.8,ECIV,2,ECD,2,ECI,1,ECDFN)) Q:'ECDFN  I $D(^(ECDFN,0)) S EC=^(0),ECQ=$P(EC,U,2)-$P(EC,U,3)-$P(EC,U,6),ECCS=ECQ*ECC,ECW=$P(EC,U,5) I ECQ D  Q:QFLG
"RTN","ECXPIVD",23,0)
 ...I $D(^DPT(ECDFN,0)) S EC1=^(0),(ECWD,ECMN,ECTS,ECADM,ECXDSSI,ECXDSSD)="" D
"RTN","ECXPIVD",24,0)
 ....K ECXPAT S OK=$$PAT^ECXUTL3(ECDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXPIVD",25,0)
 ....Q:'OK
"RTN","ECXPIVD",26,0)
 ....S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXPIVD",27,0)
 ....S X=$$PRIMARY^ECXUTL2(ECDFN,$P(ECD,"."))
"RTN","ECXPIVD",28,0)
 ....S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXPIVD",29,0)
 ....I ECW=.5 S ECWD="CLI"
"RTN","ECXPIVD",30,0)
 ....I ECW<.5 S ECWD=$P($G(^DIC(42,+ECW,44)),U)
"RTN","ECXPIVD",31,0)
 ....S X=$$INP^ECXUTL2(DFN,ECD),ECA=$P(X,U,1),ECMN=$P(X,U,2),ECTS=$P(X,U,3),ECADM=$P(X,U,4)
"RTN","ECXPIVD",32,0)
 ....D FILE K P1,P3
"RTN","ECXPIVD",33,0)
 Q
"RTN","ECXPIVD",34,0)
 ;
"RTN","ECXPIVD",35,0)
FILE ;file record
"RTN","ECXPIVD",36,0)
 ;node0
"RTN","ECXPIVD",37,0)
 ;fac^dfn^ssn^name^i/o^day^va class^qty^ward^cost^movement #^treat spec^ndc^investigational^iv dispensing fee^new feeder key^total doses^primary care team^primary care provider^ivp time^adm date^adm time^dss identifier
"RTN","ECXPIVD",38,0)
 ;node1
"RTN","ECXPIVD",39,0)
 ;mpi^dss dept^pc provider npi^pc prov person class^assoc pc provider^assoc pc prov person class^assoc pc prov npi
"RTN","ECXPIVD",40,0)
 N DA,DIK
"RTN","ECXPIVD",41,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXPIVD",42,0)
 S ECODE=EC7_U_EC23
"RTN","ECXPIVD",43,0)
 S ECODE=ECODE_U_ECINST_U_ECDFN_U_ECXSSN_U_ECXPNM_U_ECA_U_$$ECXDATE^ECXUTL(ECD,ECXYM)_U_ECCAT_U_ECQ
"RTN","ECXPIVD",44,0)
 S ECODE=ECODE_U_ECWD_U_ECCS_U_ECMN_U_ECTS_U_ECNDC_U_ECINV_U_U_U_U_ECPTTM_U_ECPTPR_U_"000000"_U_$$ECXDATE^ECXUTL(ECADM,ECXYM)_U_$$ECXTIME^ECXUTL(ECADM)_U_ECXDSSI
"RTN","ECXPIVD",45,0)
 ;if this is an outpatient, send null for admission date and "000000" for admission time
"RTN","ECXPIVD",46,0)
 I ECW=.5 S $P(ECODE,U,24)="",$P(ECODE,U,25)="000000"
"RTN","ECXPIVD",47,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECPTNPI_U_ECCLAS_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXPIVD",48,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXPIVD",49,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXPIVD",50,0)
 I $D(ZTQUEUED),ECRN>499,'(ECRN#500),$$S^%ZTLOAD S QFLG=1
"RTN","ECXPIVD",51,0)
 Q
"RTN","ECXPIVD",52,0)
 ;
"RTN","ECXPIVD",53,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXPIVD",54,0)
 S ECHEAD="IVP"
"RTN","ECXPIVD",55,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXPIVD",56,0)
 ;variables ecver and ecrtn will be reset in routine ecxtrac if appropriate
"RTN","ECXPIVD",57,0)
 S ECVER=3
"RTN","ECXPIVD",58,0)
 Q
"RTN","ECXPIVD",59,0)
 ;
"RTN","ECXPIVD",60,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXPIVD",61,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPIVDN")
0^17^B21968782
"RTN","ECXPIVDN",1,0)
ECXPIVDN ;ALB/JAP,BIR/DMA,CML,PTD-Extract from IV EXTRACT DATA File (#728.113) ; [ 03/26/97  2:10 PM ]
"RTN","ECXPIVDN",2,0)
 ;;3.0;DSS EXTRACTS;**10,11,8,13,24**;Dec 22, 1997
"RTN","ECXPIVDN",3,0)
START ; start package specific extract
"RTN","ECXPIVDN",4,0)
 N DIC,DA,DR,DIQ,DFN
"RTN","ECXPIVDN",5,0)
 S QFLG=0
"RTN","ECXPIVDN",6,0)
 I '$D(ECINST) D
"RTN","ECXPIVDN",7,0)
 .S ECINST=+$P(^ECX(728,1,0),U) K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPIVDN",8,0)
 .D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPIVDN",9,0)
 S ECED=ECED+.3
"RTN","ECXPIVDN",10,0)
 K ^TMP($J)
"RTN","ECXPIVDN",11,0)
 S ECD=ECSD1
"RTN","ECXPIVDN",12,0)
 F  S ECD=$O(^ECX(728.113,"A",ECD)),DFN=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S DFN=$O(^ECX(728.113,"A",ECD,DFN)),ON=0  Q:'DFN  F  S ON=$O(^ECX(728.113,"A",ECD,DFN,ON)),DA=0 Q:'ON  K ^TMP($J) S ECVOL=0 D  Q:QFLG
"RTN","ECXPIVDN",13,0)
 .S ECXERR=0 D DEMOG(DFN,ECD,.ECXERR)
"RTN","ECXPIVDN",14,0)
 .Q:ECXERR
"RTN","ECXPIVDN",15,0)
 .F  S DA=$O(^ECX(728.113,"A",ECD,DFN,ON,DA)) Q:'DA  Q:QFLG  I $D(^ECX(728.113,DA,0)) S EC=^(0) D  Q:QFLG
"RTN","ECXPIVDN",16,0)
 ..S DRG=$P(EC,U,4) I $P(EC,U,8)]"" D
"RTN","ECXPIVDN",17,0)
 ...I '$D(^TMP($J,"A",DRG)) S ^(DRG)=$P(EC,U,7,8),^(DRG,1)=0,^(2)=$P(EC,U,12)
"RTN","ECXPIVDN",18,0)
 ...S ^(1)=^TMP($J,"A",DRG,1)+$S($P(EC,U,6)=1:1,$P(EC,U,6)=4:0,1:-1)
"RTN","ECXPIVDN",19,0)
 ..I $P(EC,U,9) D
"RTN","ECXPIVDN",20,0)
 ...I '$D(^TMP($J,"S",DRG)) S ^(DRG)=$P(EC,U,9)_"^ML",^(DRG,1)=0,^(2)=$P(EC,U,12),ECVOL=$P(EC,U,9)+ECVOL
"RTN","ECXPIVDN",21,0)
 ...S ^(1)=^TMP($J,"S",DRG,1)+$S($P(EC,U,6)=1:1,$P(EC,U,6)=4:0,1:-1)
"RTN","ECXPIVDN",22,0)
 ..S ECTYP=$P(EC,U,11),ECTOTC=0,ECDTTM=$$ECXTIME^ECXUTL($P(EC,U,5))
"RTN","ECXPIVDN",23,0)
 .;looped thru all DAs for this order - now put it together
"RTN","ECXPIVDN",24,0)
 .;leave the next line in case the decision is made to send volume designations
"RTN","ECXPIVDN",25,0)
 .;I ECTYP="H" S ECTYP=ECTYP_$S(ECVOL'>1000:1,ECVOL'>2000:2,1:3)
"RTN","ECXPIVDN",26,0)
 .S ECXDSSI="",ECXDSSD=""
"RTN","ECXPIVDN",27,0)
 .F SA="S","A" S DRG="" F  S DRG=$O(^TMP($J,SA,DRG)) Q:DRG=""  I $D(^PSDRUG(DRG,0)) D  Q:QFLG
"RTN","ECXPIVDN",28,0)
 ..S ECST=^TMP($J,SA,DRG),ECXCNT=^(DRG,1),ECXCOST=^(2),ECXCOST=ECXCOST*ECXCNT
"RTN","ECXPIVDN",29,0)
 ..S EC0=^PSDRUG(DRG,0),ECVACL=$P(EC0,U,2),EC2=$G(^(2)),ECND=$G(^("ND"))
"RTN","ECXPIVDN",30,0)
 ..;if outpatient get division from iv rm; get dss identifier for clinic
"RTN","ECXPIVDN",31,0)
 ..I ECXA=1 D
"RTN","ECXPIVDN",32,0)
 ...S ECXW=.5
"RTN","ECXPIVDN",33,0)
 ...I $D(^PS(55,DFN,"IV",ON,2)) S ECIVRM=$P(^(2),U,2),ECXDIV=$P(^PS(59.5,ECIVRM,0),U,4)
"RTN","ECXPIVDN",34,0)
 ...S CLIN=+$P(EC,U,13),(ECXP1,ECXP2)="000"
"RTN","ECXPIVDN",35,0)
 ...S ECXCL=$G(^ECX(728.44,CLIN,0)) Q:ECXCL=""
"RTN","ECXPIVDN",36,0)
 ...S ECSC=$P(ECXCL,U,4),ECCSC=$P(ECXCL,U,5)
"RTN","ECXPIVDN",37,0)
 ...I ECSC="" S ECSC=$P(ECXCL,U,2),ECCSC=$P(ECXCL,U,3)
"RTN","ECXPIVDN",38,0)
 ...I ECSC S ECXP1=$$RJ^XLFSTR(ECSC,3,0),ECXP2=$$RJ^XLFSTR(ECCSC,3,0)
"RTN","ECXPIVDN",39,0)
 ...I ECSC="" S ECSC=$P($G(^SC(ECXSC,0)),U,7),ECCSC=$P($G(^SC(ECXSC,0)),U,18) I ECSC D
"RTN","ECXPIVDN",40,0)
 ....S ECXP1=$P($G(^DIC(40.7,ECSC,0)),U,2) S:ECCSC]"" ECXP2=$P($G(^DIC(40.7,ECCSC,0)),U,2)
"RTN","ECXPIVDN",41,0)
 ....S ECXP1=$$RJ^XLFSTR(ECXP1,3,0),ECXP2=$$RJ^XLFSTR(ECXP2,3,0)
"RTN","ECXPIVDN",42,0)
 ...S ECXDSSI=ECXP1_ECXP2
"RTN","ECXPIVDN",43,0)
 ..S ECINV=$P(EC0,U,3),ECINV=$S(ECINV["I":"I",1:"")
"RTN","ECXPIVDN",44,0)
 ..S ECST=ECXCNT*ECST_" "_$P(ECST,U,2)
"RTN","ECXPIVDN",45,0)
 ..S ECNDC=$P(EC2,U,4),ECNFC=$$RJ^XLFSTR($P(ECNDC,"-"),6,0)_$$RJ^XLFSTR($P(ECNDC,"-",2),4,0)_$$RJ^XLFSTR($P(ECNDC,"-",3),2,0),ECNFC=$TR(ECNFC,"*",0)
"RTN","ECXPIVDN",46,0)
 ..S P1=$P(ECND,U),P3=$P(ECND,U,3)
"RTN","ECXPIVDN",47,0)
 ..S X="PSNAPIS" X ^%ZOSF("TEST") I $T S ECNFC=$$DSS^PSNAPIS(P1,P3,ECXYM)_ECNFC
"RTN","ECXPIVDN",48,0)
 ..I $L(ECNFC)=12 S ECNFC=$$RJ^XLFSTR(P1,4,0)_$$RJ^XLFSTR(P3,3,0)_ECNFC
"RTN","ECXPIVDN",49,0)
 ..D FILE
"RTN","ECXPIVDN",50,0)
 K ^TMP($J),CLIN,DA,DFN,DIC,DIK,DRG,ON,SA,X,Y,P1,P3
"RTN","ECXPIVDN",51,0)
 Q
"RTN","ECXPIVDN",52,0)
 ;
"RTN","ECXPIVDN",53,0)
DEMOG(ECXDFN,ECXDATE,ECXERR) ;get patient demographics, primary care, and inpatient data
"RTN","ECXPIVDN",54,0)
 N X
"RTN","ECXPIVDN",55,0)
 K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;",.ECXPAT)
"RTN","ECXPIVDN",56,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXPIVDN",57,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXPIVDN",58,0)
 ;get primary care data
"RTN","ECXPIVDN",59,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXPIVDN",60,0)
 S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXPIVDN",61,0)
 ;get inpatient data
"RTN","ECXPIVDN",62,0)
 S (ECXA,ECXMN,ECXADM,ECXTS,ECXW,ECXDIV)=""
"RTN","ECXPIVDN",63,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXPIVDN",64,0)
 S ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3),ECXADM=$P(X,U,4),W=$P(X,U,9),ECXW=$P(W,";",1),ECXDIV=$P(W,";",2)
"RTN","ECXPIVDN",65,0)
 Q
"RTN","ECXPIVDN",66,0)
 ;
"RTN","ECXPIVDN",67,0)
FILE ;file record
"RTN","ECXPIVDN",68,0)
 ;node0
"RTN","ECXPIVDN",69,0)
 ;fac^dfn^ssn^name^i/o^day^va class^qty^ward^cost^movement #^treat spec^ndc^investigational^iv dispensing fee^new feeder key^total doses^
"RTN","ECXPIVDN",70,0)
 ;primary care team^primary care provider^ivp time^adm date^adm time^dss identifier
"RTN","ECXPIVDN",71,0)
 ;node1
"RTN","ECXPIVDN",72,0)
 ;mpi^dss dept^pc provider npi^pc prov person class^assoc pc provider^assoc pc prov person class^assoc pc prov npi
"RTN","ECXPIVDN",73,0)
 N DA,DIK
"RTN","ECXPIVDN",74,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXPIVDN",75,0)
 S ECODE=EC7_U_EC23
"RTN","ECXPIVDN",76,0)
 S ECODE=ECODE_U_ECXDIV_U_DFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL(ECD,ECXYM)_U_ECVACL_U_ECXCNT_U_ECXW_U_ECXCOST_U_ECXMN_U_ECXTS
"RTN","ECXPIVDN",77,0)
 S ECODE=ECODE_U_ECNDC_U_ECINV_U_ECTYP_U_ECNFC_U_ECST_U_ECPTTM_U_ECPTPR_U_ECDTTM_U_$$ECXDATE^ECXUTL(ECXADM,ECXYM)_U_$$ECXTIME^ECXUTL(ECXADM)_U_ECXDSSI
"RTN","ECXPIVDN",78,0)
 ;if this is an outpatient, send null for admission date and "000000" for admission time
"RTN","ECXPIVDN",79,0)
 I ECXA=1 S $P(ECODE,U,24)="",$P(ECODE,U,25)="000000"
"RTN","ECXPIVDN",80,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECPTNPI_U_ECCLAS_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXPIVDN",81,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXPIVDN",82,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXPIVDN",83,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXPIVDN",84,0)
 Q
"RTN","ECXPIVDN",85,0)
 ;
"RTN","ECXPIVDN",86,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXPIVDN",87,0)
 S ECHEAD="IVP"
"RTN","ECXPIVDN",88,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXPIVDN",89,0)
 ;variables ecver and ecrtn will be reset in routine ecxtrac if appropriate
"RTN","ECXPIVDN",90,0)
 S ECVER=7
"RTN","ECXPIVDN",91,0)
 Q
"RTN","ECXPIVDN",92,0)
 ;
"RTN","ECXPIVDN",93,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXPIVDN",94,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPRO")
0^18^B15988280
"RTN","ECXPRO",1,0)
ECXPRO ;ALB/GTS - Prosthetics Extract for DSS ; July 16, 1998
"RTN","ECXPRO",2,0)
 ;;3.0;DSS EXTRACTS;**9,13,15,21,24**;Dec 22, 1997
"RTN","ECXPRO",3,0)
BEG ;entry point from option
"RTN","ECXPRO",4,0)
 D SETUP
"RTN","ECXPRO",5,0)
 I +ECINST>0 D ^ECXTRAC
"RTN","ECXPRO",6,0)
 D ^ECXKILL
"RTN","ECXPRO",7,0)
 Q
"RTN","ECXPRO",8,0)
 ;
"RTN","ECXPRO",9,0)
START ;start package specific extract
"RTN","ECXPRO",10,0)
 ;
"RTN","ECXPRO",11,0)
 ; Input
"RTN","ECXPRO",12,0)
 ;  ECSD1   - FM formated Beginning Date (Set by ECXTRAC)
"RTN","ECXPRO",13,0)
 ;  ECED    - FM formated End Date (Set by ECXTRAC)
"RTN","ECXPRO",14,0)
 ;  ECSDN   - Externally formated Start Date (Set by ECXTRAC)
"RTN","ECXPRO",15,0)
 ;  ECEDN   - Externally formated End Date (Set by ECXTRAC)
"RTN","ECXPRO",16,0)
 ;  EC      - IEN from file #727 (Set by ECXTRAC)
"RTN","ECXPRO",17,0)
 ;  ECXYM   - Year and Month of extract (YYYYMM)
"RTN","ECXPRO",18,0)
 ;  ECXINST - IEN for division in file #4
"RTN","ECXPRO",19,0)
 ;  ECINST  - Station number of selected division
"RTN","ECXPRO",20,0)
 ;
"RTN","ECXPRO",21,0)
 N ECXLNE,ECXCT,ECXDACT,ECX0,ECXLB,ECXED1,ECINSTSV,ECXLNSTR,ECXP,DIC,DR,DA,DIQ,CPTCODE
"RTN","ECXPRO",22,0)
 D ECXBUL^ECXPRO2(.ECXLNE,ECSDN,ECEDN,EC)
"RTN","ECXPRO",23,0)
 S QFLG=0
"RTN","ECXPRO",24,0)
 S ECXLNSTR=ECXLNE
"RTN","ECXPRO",25,0)
 S ECXED1=ECED+.9999
"RTN","ECXPRO",26,0)
 S ECXCT=ECSD1
"RTN","ECXPRO",27,0)
 F  S ECXCT=$O(^RMPR(660,"CT",ECXCT)) Q:(ECXCT>ECXED1)  Q:(+ECXCT=0)  Q:(QFLG=1)  D
"RTN","ECXPRO",28,0)
 .S ECXDACT=0
"RTN","ECXPRO",29,0)
 .F  S ECXDACT=$O(^RMPR(660,"CT",ECXCT,ECXDACT)) Q:(+ECXDACT=0)  Q:(QFLG=1)  D
"RTN","ECXPRO",30,0)
 ..;* initialize variables
"RTN","ECXPRO",31,0)
 ..S (ECXDFN,ECXPNM,ECXSSN,ECXSEX,ECXSTAT,ECXDATE,ECXTYPE,ECXSRCE,ECXHCPCS,ECXPHCPC,ECXRQST)=""
"RTN","ECXPRO",32,0)
 ..S (ECXRCST,ECXFORM,ECXCTAMT,ECXLLC,ECXLMC,ECXGRPR,ECXBILST,ECXQTY,ECXFELOC,ECXFEKEY)=""
"RTN","ECXPRO",33,0)
 ..S (ECXA,ECPTTM,ECPTPR,ECXAST,ECXRST,ECXEST,ECXELIG,ECXVET,ECXZIP,ECXDOB,ECXDSSD,ECXICD9)=""
"RTN","ECXPRO",34,0)
 ..Q:'$D(^RMPR(660,ECXDACT,0))
"RTN","ECXPRO",35,0)
 ..S ECX0=^RMPR(660,ECXDACT,0)
"RTN","ECXPRO",36,0)
 ..S ECXLB=$G(^RMPR(660,ECXDACT,"LB"))
"RTN","ECXPRO",37,0)
 ..K ECXP S DIC="^RMPR(660,",DR=".02;11",DA=ECXDACT,DIQ(0)="EI",DIQ="ECXP" D EN^DIQ1
"RTN","ECXPRO",38,0)
 ..S ECXDFN=$G(ECXP(660,ECXDACT,.02,"I"))
"RTN","ECXPRO",39,0)
 ..S ECXFORM=$G(ECXP(660,ECXDACT,11,"E"))_U_$G(ECXP(660,ECXDACT,11,"I"))
"RTN","ECXPRO",40,0)
 ..D PATINFO^ECXPRO1(ECXDFN,ECXCT,.ECXERR) I ECXERR=1 S ECXDFN=0
"RTN","ECXPRO",41,0)
 ..Q:'$$NTEG^ECXPRO1(ECXDFN,.ECXLNE,ECXDACT,ECX0,ECXLB,ECINST,ECXFORM)
"RTN","ECXPRO",42,0)
 ..D PROSINFO^ECXPRO1(ECXDACT,ECXLB,ECX0,ECXFORM)
"RTN","ECXPRO",43,0)
 ..S CPTCODE=$E(ECXHCPCS,1,5)
"RTN","ECXPRO",44,0)
 ..I ECXFORM["-3" F ECXLAB="LAB","ORD" D
"RTN","ECXPRO",45,0)
 ...D FEEDINFO^ECXPRO2(ECXSRCE,CPTCODE,ECXTYPE,ECXSTAT,ECXRQST,ECXRCST,ECXLAB)
"RTN","ECXPRO",46,0)
 ...Q:ECXFELOC=""
"RTN","ECXPRO",47,0)
 ...D FILE
"RTN","ECXPRO",48,0)
 ..I ECXFORM'["-3" S ECXLAB="NONL" D
"RTN","ECXPRO",49,0)
 ...D FEEDINFO^ECXPRO2(ECXSRCE,CPTCODE,ECXTYPE,ECXSTAT,ECXRQST,ECXRCST,ECXLAB)
"RTN","ECXPRO",50,0)
 ...Q:ECXFELOC=""
"RTN","ECXPRO",51,0)
 ...D FILE
"RTN","ECXPRO",52,0)
 ;* Send the Exception message
"RTN","ECXPRO",53,0)
 I ECXLNSTR<ECXLNE DO
"RTN","ECXPRO",54,0)
 .K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXPRO",55,0)
 .S XMDUZ=.5
"RTN","ECXPRO",56,0)
 .S XMSUB=ECINST_" - Prosthetics DSS Exception Message",XMN=0
"RTN","ECXPRO",57,0)
 .S XMTEXT="^TMP(""ECX-PRO EXC"",$J,"
"RTN","ECXPRO",58,0)
 .D ^XMD
"RTN","ECXPRO",59,0)
 K ^TMP("ECX-PRO EXC",$J),XMDUZ,XMSUB,XMTEXT,XMY
"RTN","ECXPRO",60,0)
 Q
"RTN","ECXPRO",61,0)
 ;
"RTN","ECXPRO",62,0)
FILE ;file extract record
"RTN","ECXPRO",63,0)
 ;node0
"RTN","ECXPRO",64,0)
 ;facility^dfn^ssn^name^in/out^day^feeder location^feeder key^qty^pc team^pc provider^hcpcs^icd9^
"RTN","ECXPRO",65,0)
 ;agent orange^radiation^env contam^eligibility^cost^lab labor cost^lab matl cost^
"RTN","ECXPRO",66,0)
 ;billing status^vet^transacton type^req station^rec station^file#661.1 ien
"RTN","ECXPRO",67,0)
 ;node1
"RTN","ECXPRO",68,0)
 ;zip^dob^sex^amis grouper^pc prov npi^mpi^dss dept^pc prov person class^race^pow status^pow loc^
"RTN","ECXPRO",69,0)
 ;sharing agree payor^sharing agree ins^mst status^enroll loc^state^county^assoc pc provider^assoc pc prov person class^assoc pc prov npi
"RTN","ECXPRO",70,0)
 N DA,DIK
"RTN","ECXPRO",71,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXPRO",72,0)
 S ECODE=EC7_U_EC23
"RTN","ECXPRO",73,0)
 S ECODE=ECODE_U_ECINST_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECXFELOC
"RTN","ECXPRO",74,0)
 S ECODE=ECODE_U_ECXFEKEY_U_ECXQTY_U_ECPTTM_U_ECPTPR_U_ECXHCPCS_U_ECXICD9
"RTN","ECXPRO",75,0)
 S ECODE=ECODE_U_ECXAST_U_ECXRST_U_ECXEST_U_ECXELIG_U_ECXCTAMT_U_ECXLLC_U_ECXLMC
"RTN","ECXPRO",76,0)
 S ECODE=ECODE_U_ECXBILST_U_ECXVET_U_ECXTYPE_U_ECXRQST_U_ECXRCST_U_ECXPHCPC
"RTN","ECXPRO",77,0)
 S ECODE1=ECXZIP_U_ECXDOB_U_ECXSEX_U_ECXGRPR_U_ECPTNPI_U_ECXMPI_U_ECXDSSD_U_ECCLAS_U_ECXRACE_U_ECXPST_U_ECXPLOC
"RTN","ECXPRO",78,0)
 S ECODE1=ECODE1_U_ECXPAYOR_U_ECXSAI_U_ECXMST_U_ECXENRL_U_ECXSTATE_U_ECXCNTY_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXPRO",79,0)
 S ^ECX(ECFILE,EC7,0)=ECODE
"RTN","ECXPRO",80,0)
 S ^ECX(ECFILE,EC7,1)=ECODE1
"RTN","ECXPRO",81,0)
 S ECRN=ECRN+1
"RTN","ECXPRO",82,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXPRO",83,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXPRO",84,0)
 Q
"RTN","ECXPRO",85,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXPRO",86,0)
 S ECHEAD="PRO"
"RTN","ECXPRO",87,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXPRO",88,0)
 S ECINST=$$PDIV^ECXPUTL
"RTN","ECXPRO",89,0)
 Q
"RTN","ECXPRO",90,0)
 ;
"RTN","ECXPRO",91,0)
 ;**Note: LOCAL and QUE are carry over from protocols set by other
"RTN","ECXPRO",92,0)
 ;        routines.
"RTN","ECXPRO",93,0)
LOCAL ;to extract nightly for local use not to be transmitted to TSI
"RTN","ECXPRO",94,0)
 ;QUEUE with 1D frequency
"RTN","ECXPRO",95,0)
 D SETUP,^ECXTLOCL,^ECXKILL Q
"RTN","ECXPRO",96,0)
 ;
"RTN","ECXPRO",97,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXPRO",98,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXPRO1")
0^19^B31625633
"RTN","ECXPRO1",1,0)
ECXPRO1 ;ALB/GTS - Prosthetics Extract for DSS (Continued) ; July 16, 1998
"RTN","ECXPRO1",2,0)
 ;;3.0;DSS EXTRACTS;**9,11,13,15,21,24**;Dec 22, 1997
"RTN","ECXPRO1",3,0)
 ;
"RTN","ECXPRO1",4,0)
NTEG(ECXDFN,ECXLNE,ECXPIEN,ECXN0,ECXNLB,ECINST,ECXFORM) ;** Check for required fields
"RTN","ECXPRO1",5,0)
 ;   Input
"RTN","ECXPRO1",6,0)
 ;    ECXDFN   - ien in file #2
"RTN","ECXPRO1",7,0)
 ;    ECXLNE   - line number variable (passed by reference)
"RTN","ECXPRO1",8,0)
 ;    ECXPIEN  - IEN for the Prosthetics record
"RTN","ECXPRO1",9,0)
 ;    ECXN0    - zero node of the Prosthetics record
"RTN","ECXPRO1",10,0)
 ;    ECXNLB   - LB node of the Prosthetics record
"RTN","ECXPRO1",11,0)
 ;    ECINST   - station number being extracted
"RTN","ECXPRO1",12,0)
 ;    ECXFORM  - Form Requested On
"RTN","ECXPRO1",13,0)
 ;   Output (to be KILLed by calling routine)
"RTN","ECXPRO1",14,0)
 ;    ^TMP("ECX-PRO EXC",$J) - Array for the exception message       
"RTN","ECXPRO1",15,0)
 ;    ECXLNE                 - The number of the next line in the msg
"RTN","ECXPRO1",16,0)
 ;    ECXSTAT                - Patient Station Number
"RTN","ECXPRO1",17,0)
 ;    ECXDATE                - Delivery Date of Prosthesis
"RTN","ECXPRO1",18,0)
 ;    ECXTYPE                - Type of Transaction work performed
"RTN","ECXPRO1",19,0)
 ;    ECXSRCE                - Source of prosthesis
"RTN","ECXPRO1",20,0)
 ;    ECXHCPCS               - CPT/HCPCS code for prosthesis
"RTN","ECXPRO1",21,0)
 ;    ECXRQST                - Requesting Station
"RTN","ECXPRO1",22,0)
 ;    ECXRCST                - Receiving Station
"RTN","ECXPRO1",23,0)
 ;    ECXPHCPC               - PSAS HCPCS code; if 'unknown', then use CPT/HCPCS code 
"RTN","ECXPRO1",24,0)
 ;   Output (KILLed by NTEG)
"RTN","ECXPRO1",25,0)
 ;    ECXMISS                - 1 indicates missing information
"RTN","ECXPRO1",26,0)
 ;    ECXGOOD                - 0 indicates record should not be extracted
"RTN","ECXPRO1",27,0)
 ;
"RTN","ECXPRO1",28,0)
 N ECXGOOD,ECXMISS
"RTN","ECXPRO1",29,0)
 S (ECXRCST,ECXRQST)=""
"RTN","ECXPRO1",30,0)
 S ECXGOOD=1
"RTN","ECXPRO1",31,0)
 ;
"RTN","ECXPRO1",32,0)
 ;* Get Facility Station Number
"RTN","ECXPRO1",33,0)
 S ECXSTAT=$P(ECXN0,U,10)
"RTN","ECXPRO1",34,0)
 I ECXSTAT]"" DO
"RTN","ECXPRO1",35,0)
 .K ECXDIC S DA=ECXSTAT,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPRO1",36,0)
 .D EN^DIQ1 S ECXSTAT=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPRO1",37,0)
 .S:(ECINST'=$E(ECXSTAT,1,3)) ECXGOOD=0 ;*Screen for incorrect Station
"RTN","ECXPRO1",38,0)
 ;
"RTN","ECXPRO1",39,0)
 ;** Screen out records
"RTN","ECXPRO1",40,0)
 S:($P(ECXN0,U,17)'="") ECXGOOD=0 ;*SHIP/DEL is not NULL
"RTN","ECXPRO1",41,0)
 S:($P(ECXN0,U,26)'="") ECXGOOD=0 ;*PICKUP/DEL is not NULL
"RTN","ECXPRO1",42,0)
 S:(+($P($G(^RMPR(660,ECXPIEN,"AM")),U,2))=1) ECXGOOD=0 ;*NO ADMIN CT=1
"RTN","ECXPRO1",43,0)
 S:(($P(ECXN0,U,15))'="") ECXGOOD=0 ;*HISTORICAL DATA is not NULL
"RTN","ECXPRO1",44,0)
 ;
"RTN","ECXPRO1",45,0)
 S ECXDATE=$P(ECXN0,U,12)
"RTN","ECXPRO1",46,0)
 S ECXTYPE=$P(ECXN0,U,4)
"RTN","ECXPRO1",47,0)
 S ECXSRCE=$P(ECXN0,U,14)
"RTN","ECXPRO1",48,0)
 S ECXHCPCS=$P($G(^ICPT(+$P(ECXN0,U,22),0)),U,1),ECXCMOD=""
"RTN","ECXPRO1",49,0)
 S ECXHCPCS=$$CPT^ECXUTL3(ECXHCPCS,ECXCMOD)
"RTN","ECXPRO1",50,0)
 ;get psas hcpcs code from file #661.1
"RTN","ECXPRO1",51,0)
 S ECXPHCPC=$P($G(^RMPR(660,ECXPIEN,1)),U,4) D
"RTN","ECXPRO1",52,0)
 .I +ECXPHCPC S ECXPHCPC=$P($G(^RMPR(661.1,ECXPHCPC,0)),U,1)
"RTN","ECXPRO1",53,0)
 .I ECXPHCPC="UNKNOWN" S ECXPHCPC=$E(ECXHCPCS,1,5)
"RTN","ECXPRO1",54,0)
 ;
"RTN","ECXPRO1",55,0)
 ;* Get Requesting Station Number
"RTN","ECXPRO1",56,0)
 I ECXFORM["-3" DO
"RTN","ECXPRO1",57,0)
 .S ECXRQST=$P(ECXNLB,U,1)
"RTN","ECXPRO1",58,0)
 .I ECXRQST]"" DO
"RTN","ECXPRO1",59,0)
 ..S DA=ECXRQST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPRO1",60,0)
 ..D EN^DIQ1 S ECXRQST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPRO1",61,0)
 S:(ECXFORM'["-3") ECXRQST=""
"RTN","ECXPRO1",62,0)
 ;
"RTN","ECXPRO1",63,0)
 ;* Screen out records
"RTN","ECXPRO1",64,0)
 S:(+$P(ECXFORM,U,2)=13) ECXGOOD=0 ;*FORM REQUESTED ON = 13
"RTN","ECXPRO1",65,0)
 ;
"RTN","ECXPRO1",66,0)
 ;* Get Receiving Station Number
"RTN","ECXPRO1",67,0)
 I ECXFORM["-3" DO
"RTN","ECXPRO1",68,0)
 .S ECXRCST=$P(ECXNLB,U,4)
"RTN","ECXPRO1",69,0)
 .I ECXRCST]"" DO
"RTN","ECXPRO1",70,0)
 ..S DA=ECXRCST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPRO1",71,0)
 ..D EN^DIQ1 S ECXRCST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPRO1",72,0)
 S:(ECXFORM'["-3") ECXRCST=""
"RTN","ECXPRO1",73,0)
 ;
"RTN","ECXPRO1",74,0)
 ;** Check for integrity and set up the problem variable if right DIV
"RTN","ECXPRO1",75,0)
 I ECXGOOD D CHK
"RTN","ECXPRO1",76,0)
 Q ECXGOOD
"RTN","ECXPRO1",77,0)
 ;
"RTN","ECXPRO1",78,0)
CHK ;*Check variables
"RTN","ECXPRO1",79,0)
 ; Input
"RTN","ECXPRO1",80,0)
 ;  Variables set in and Output from NTEG^ECXPRO1
"RTN","ECXPRO1",81,0)
 ; Output
"RTN","ECXPRO1",82,0)
 ;  ^TMP("ECX-PRO EXC",$J,   - Global of records with integrity problems
"RTN","ECXPRO1",83,0)
 ;
"RTN","ECXPRO1",84,0)
 S ECXMISS=""
"RTN","ECXPRO1",85,0)
 I ECXSTAT']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",86,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",87,0)
 I ECXDFN=0 S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",88,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",89,0)
 ;I ECXSSN']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",90,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",91,0)
 ;I ECXNA="    " S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",92,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",93,0)
 I ECXDATE']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",94,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",95,0)
 I ECXTYPE']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",96,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",97,0)
 I ECXSRCE']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",98,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",99,0)
 I ECXHCPCS']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",100,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",101,0)
 I ECXFORM["-3" D
"RTN","ECXPRO1",102,0)
 .I ECXRQST']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",103,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",104,0)
 I ECXFORM']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",105,0)
 S ECXMISS=ECXMISS_U
"RTN","ECXPRO1",106,0)
 I ECXFORM["-3" DO
"RTN","ECXPRO1",107,0)
 .I ECXRCST']"" S ECXMISS=ECXMISS_"1"
"RTN","ECXPRO1",108,0)
 I ECXMISS'="^^^^^^^^^^" DO
"RTN","ECXPRO1",109,0)
 .S ECXGOOD=0
"RTN","ECXPRO1",110,0)
 .D ECXMISLN^ECXPRO2(ECXMISS,.ECXLNE,ECXPIEN)
"RTN","ECXPRO1",111,0)
 Q
"RTN","ECXPRO1",112,0)
 ;
"RTN","ECXPRO1",113,0)
PROSINFO(ECXDA,ECXLB,ECX0,ECXFORM) ;*Get Prosthetics Information
"RTN","ECXPRO1",114,0)
 ;
"RTN","ECXPRO1",115,0)
 ;  Input
"RTN","ECXPRO1",116,0)
 ;    ECDA    - The IEN for the Prosthetics record
"RTN","ECXPRO1",117,0)
 ;    ECX0    - The zero node of the Prosthetics record
"RTN","ECXPRO1",118,0)
 ;    ECXLB   - The LB node of the Prosthetics record
"RTN","ECXPRO1",119,0)
 ;    ECXFORM - The Form Requested On (to determine Lab transactions)
"RTN","ECXPRO1",120,0)
 ;
"RTN","ECXPRO1",121,0)
 ;  Output (to be KILLed by calling routine)
"RTN","ECXPRO1",122,0)
 ;    ECXCTAMT   - The Cost of Transaction
"RTN","ECXPRO1",123,0)
 ;    ECXLLC     - The Lab Labor Cost
"RTN","ECXPRO1",124,0)
 ;    ECXLMC     - The Lab Material Cost
"RTN","ECXPRO1",125,0)
 ;    ECXGRPR    - The AMIS Grouper number
"RTN","ECXPRO1",126,0)
 ;    ECXBILST   - The Billing Status
"RTN","ECXPRO1",127,0)
 ;    ECXQTY     - The Quantity
"RTN","ECXPRO1",128,0)
 ;
"RTN","ECXPRO1",129,0)
 N FRAC
"RTN","ECXPRO1",130,0)
 S (ECXLLC,ECXLMC,ECXCTAMT)=""
"RTN","ECXPRO1",131,0)
 S ECXBILST=$P($G(^RMPR(660,ECXDA,"AM")),U,3)
"RTN","ECXPRO1",132,0)
 S ECXQTY=$P(ECX0,U,7)
"RTN","ECXPRO1",133,0)
 S:(+ECXQTY=0) ECXQTY=1
"RTN","ECXPRO1",134,0)
 S ECXGRPR=$P($G(^RMPR(660,ECXDA,"AMS")),U,1)
"RTN","ECXPRO1",135,0)
 S ECXCTAMT=$P(ECX0,U,16)
"RTN","ECXPRO1",136,0)
 I ECXFORM["-3" D
"RTN","ECXPRO1",137,0)
 .S ECXCTAMT=$P(ECXLB,U,9)
"RTN","ECXPRO1",138,0)
 .S ECXLLC=$P(ECXLB,U,7)
"RTN","ECXPRO1",139,0)
 .S ECXLMC=$P(ECXLB,U,8)
"RTN","ECXPRO1",140,0)
 S:ECXCTAMT="" ECXCTAMT=0 S:ECXCTAMT>999999 ECXCTAMT=999999
"RTN","ECXPRO1",141,0)
 S:ECXLLC="" ECXLLC=0 S:ECXLLC>999999 ECXLLC=999999
"RTN","ECXPRO1",142,0)
 S:ECXLMC="" ECXLMC=0 S:ECXLMC>999999 ECXLMC=999999
"RTN","ECXPRO1",143,0)
 S FRAC=+$P(ECXCTAMT,".",2),ECXCTAMT=$P(ECXCTAMT,"."),FRAC=FRAC/50 S:FRAC>1 ECXCTAMT=ECXCTAMT+1
"RTN","ECXPRO1",144,0)
 S FRAC=+$P(ECXLLC,".",2),ECXLLC=$P(ECXLLC,"."),FRAC=FRAC/50 S:FRAC>1 ECXLLC=ECXLLC+1
"RTN","ECXPRO1",145,0)
 S FRAC=+$P(ECXLMC,".",2),ECXLMC=$P(ECXLMC,"."),FRAC=FRAC/50 S:FRAC>1 ECXLMC=ECXLMC+1
"RTN","ECXPRO1",146,0)
 Q
"RTN","ECXPRO1",147,0)
 ;
"RTN","ECXPRO1",148,0)
PATINFO(ECXDFN,ECXDATE,ECXERR) ;* Get Patient Information
"RTN","ECXPRO1",149,0)
 ;  Input
"RTN","ECXPRO1",150,0)
 ;    EXCDFN  = ien to file #2
"RTN","ECXPRO1",151,0)
 ;    ECXDATE = delivery date of prosthetic
"RTN","ECXPRO1",152,0)
 ;  Output (to be KILLed by calling routine)
"RTN","ECXPRO1",153,0)
 ;    ECXA       - In/Outpatient indicator
"RTN","ECXPRO1",154,0)
 ;    ECPTTM     - Primary Care Team
"RTN","ECXPRO1",155,0)
 ;    ECPTPR     - Primary Care Providor
"RTN","ECXPRO1",156,0)
 ;    ECXAST     - Agent Orange indicator
"RTN","ECXPRO1",157,0)
 ;    ECXRST     - Radiation Exposure indicator
"RTN","ECXPRO1",158,0)
 ;    ECXEST     - Environmental Contaminants indicator
"RTN","ECXPRO1",159,0)
 ;    ECXELIG    - veteran's eligibility
"RTN","ECXPRO1",160,0)
 ;    ECXVET     - Vet/Non-Vet status
"RTN","ECXPRO1",161,0)
 ;    ECXZIP     - ZIP or ZIP+4
"RTN","ECXPRO1",162,0)
 ;    ECXDOB     - patient's birth date
"RTN","ECXPRO1",163,0)
 ;    ECXSEX     - Patient's Gender
"RTN","ECXPRO1",164,0)
 ;    ECXERR     - 1 if error; otherwise 0
"RTN","ECXPRO1",165,0)
 ;
"RTN","ECXPRO1",166,0)
 N OK,X
"RTN","ECXPRO1",167,0)
 S ECXERR=0
"RTN","ECXPRO1",168,0)
 K ECXPAT
"RTN","ECXPRO1",169,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;2;3;5",.ECXPAT)
"RTN","ECXPRO1",170,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXPRO1",171,0)
 S ECXSSN=ECXPAT("SSN")
"RTN","ECXPRO1",172,0)
 S ECXPNM=ECXPAT("NAME")
"RTN","ECXPRO1",173,0)
 S ECXMPI=ECXPAT("MPI")
"RTN","ECXPRO1",174,0)
 S ECXSEX=ECXPAT("SEX")
"RTN","ECXPRO1",175,0)
 S ECXDOB=ECXPAT("DOB")
"RTN","ECXPRO1",176,0)
 S ECXELIG=ECXPAT("ELIG")
"RTN","ECXPRO1",177,0)
 S ECXVET=ECXPAT("VET")
"RTN","ECXPRO1",178,0)
 S ECXRACE=ECXPAT("RACE")
"RTN","ECXPRO1",179,0)
 S ECXPST=ECXPAT("POW STAT")
"RTN","ECXPRO1",180,0)
 S ECXPLOC=ECXPAT("POW LOC")
"RTN","ECXPRO1",181,0)
 S ECXRST=ECXPAT("IR STAT")
"RTN","ECXPRO1",182,0)
 S ECXAST=ECXPAT("AO STAT")
"RTN","ECXPRO1",183,0)
 S ECXEST=ECXPAT("EC STAT")
"RTN","ECXPRO1",184,0)
 S ECXMST=ECXPAT("MST STAT")
"RTN","ECXPRO1",185,0)
 S ECXSTATE=ECXPAT("STATE")
"RTN","ECXPRO1",186,0)
 S ECXCNTY=ECXPAT("COUNTY")
"RTN","ECXPRO1",187,0)
 S ECXZIP=ECXPAT("ZIP")
"RTN","ECXPRO1",188,0)
 S ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXPRO1",189,0)
 ;get inpatient data
"RTN","ECXPRO1",190,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXPRO1",191,0)
 S ECXA=$P(X,U,1)
"RTN","ECXPRO1",192,0)
 ;get primary care data
"RTN","ECXPRO1",193,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXPRO1",194,0)
 S ECPTTM=$P(X,U,1)
"RTN","ECXPRO1",195,0)
 S ECPTPR=$P(X,U,2)
"RTN","ECXPRO1",196,0)
 S ECCLAS=$P(X,U,3)
"RTN","ECXPRO1",197,0)
 S ECPTNPI=$P(X,U,4)
"RTN","ECXPRO1",198,0)
 S ECASPR=$P(X,U,5)
"RTN","ECXPRO1",199,0)
 S ECCLAS2=$P(X,U,6)
"RTN","ECXPRO1",200,0)
 S ECASNPI=$P(X,U,7)
"RTN","ECXPRO1",201,0)
 ;get sharing agreement data
"RTN","ECXPRO1",202,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXPRO1",203,0)
 D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXPRO1",204,0)
 Q
"RTN","ECXPRO2")
0^20^B11691305
"RTN","ECXPRO2",1,0)
ECXPRO2 ;ALB/GTS - Prosthetics Extract for DSS (Continued) ; July 16, 1998
"RTN","ECXPRO2",2,0)
 ;;3.0;DSS EXTRACTS;**9,15,21,24**;Dec 22, 1997
"RTN","ECXPRO2",3,0)
 ;
"RTN","ECXPRO2",4,0)
ECXBUL(ECXLNE,ECXEBDT,ECXEEDT,ECNUM) ;* Set up the header for the exception msg
"RTN","ECXPRO2",5,0)
 ;
"RTN","ECXPRO2",6,0)
 ;   Input
"RTN","ECXPRO2",7,0)
 ;    ECXLNE  - The line number variable (passed by reference)
"RTN","ECXPRO2",8,0)
 ;    ECXEBDT - The Externally formated beginning date
"RTN","ECXPRO2",9,0)
 ;    ECXEEDT - The Externally formated ending date
"RTN","ECXPRO2",10,0)
 ;    ECNUM   - The Extract reference number
"RTN","ECXPRO2",11,0)
 ;
"RTN","ECXPRO2",12,0)
 ;   Output
"RTN","ECXPRO2",13,0)
 ;    ^TMP("ECX-PRO EXC",$J) - Array for the exception message
"RTN","ECXPRO2",14,0)
 ;    ECXLNE                 - The number of the next line in the msg
"RTN","ECXPRO2",15,0)
 ;
"RTN","ECXPRO2",16,0)
 S ^TMP("ECX-PRO EXC",$J,1)=" "
"RTN","ECXPRO2",17,0)
 S ^TMP("ECX-PRO EXC",$J,2)="The DSS-Prosthetic Extract #"_ECNUM_" for "_ECXEBDT_" through "_ECXEEDT
"RTN","ECXPRO2",18,0)
 S ^TMP("ECX-PRO EXC",$J,3)="has completed.  The following is a list of Prosthetics records that were NOT"
"RTN","ECXPRO2",19,0)
 S ^TMP("ECX-PRO EXC",$J,4)="extracted due to missing information in the Record of Pros Appliance/Repair"
"RTN","ECXPRO2",20,0)
 S ^TMP("ECX-PRO EXC",$J,5)="file (#660).  The Prosthetics record may be reviewed and the missing"
"RTN","ECXPRO2",21,0)
 S ^TMP("ECX-PRO EXC",$J,6)="information completed.  Once the missing information has been entered, it"
"RTN","ECXPRO2",22,0)
 S ^TMP("ECX-PRO EXC",$J,7)="will be necessary to re-generate the Prosthetics Extract for the above noted"
"RTN","ECXPRO2",23,0)
 S ^TMP("ECX-PRO EXC",$J,8)="date range."
"RTN","ECXPRO2",24,0)
 S ^TMP("ECX-PRO EXC",$J,9)=" "
"RTN","ECXPRO2",25,0)
 S ^TMP("ECX-PRO EXC",$J,10)="If you do not intend to transmit Prosthetics Extract #"_ECNUM_", then please"
"RTN","ECXPRO2",26,0)
 S ^TMP("ECX-PRO EXC",$J,11)="purge it before generating a new extract for the same date range."
"RTN","ECXPRO2",27,0)
 S ^TMP("ECX-PRO EXC",$J,12)=" "
"RTN","ECXPRO2",28,0)
 S ^TMP("ECX-PRO EXC",$J,13)=" "
"RTN","ECXPRO2",29,0)
 S ^TMP("ECX-PRO EXC",$J,14)=" PROSTHETICS FILE (#660)         MISSING DATA"
"RTN","ECXPRO2",30,0)
 S ^TMP("ECX-PRO EXC",$J,15)="       IEN                         ELEMENTS"
"RTN","ECXPRO2",31,0)
 S ^TMP("ECX-PRO EXC",$J,16)=" "
"RTN","ECXPRO2",32,0)
 S ECXLNE=15
"RTN","ECXPRO2",33,0)
 Q
"RTN","ECXPRO2",34,0)
 ;
"RTN","ECXPRO2",35,0)
ECXMISLN(ECXMISS,ECXLNE,ECXPIEN) ;** Report Missing Lines
"RTN","ECXPRO2",36,0)
 N ECXPCE,ECXFIRST,ECXFIELD
"RTN","ECXPRO2",37,0)
 S ECXFIRST=1
"RTN","ECXPRO2",38,0)
 F ECXPCE=1:1:11 DO
"RTN","ECXPRO2",39,0)
 .I +$P(ECXMISS,"^",ECXPCE) DO
"RTN","ECXPRO2",40,0)
 ..S ECXFIELD=$P($T(ECXFLD+ECXPCE),";;",2)
"RTN","ECXPRO2",41,0)
 ..I 'ECXFIRST S ^TMP("ECX-PRO EXC",$J,ECXLNE)="                                   "_ECXFIELD
"RTN","ECXPRO2",42,0)
 ..I ECXFIRST DO
"RTN","ECXPRO2",43,0)
 ...S ^TMP("ECX-PRO EXC",$J,ECXLNE)="       "_ECXPIEN_"                          "_ECXFIELD
"RTN","ECXPRO2",44,0)
 ...S ECXFIRST=0
"RTN","ECXPRO2",45,0)
 ..S ECXLNE=ECXLNE+1
"RTN","ECXPRO2",46,0)
 S ^TMP("ECX-PRO EXC",$J,ECXLNE)=" "
"RTN","ECXPRO2",47,0)
 S ECXLNE=ECXLNE+1
"RTN","ECXPRO2",48,0)
 Q
"RTN","ECXPRO2",49,0)
 ;
"RTN","ECXPRO2",50,0)
ECXFLD ;* Missing Required fields
"RTN","ECXPRO2",51,0)
 ;;STATION
"RTN","ECXPRO2",52,0)
 ;;PATIENT NAME (Invalid)
"RTN","ECXPRO2",53,0)
 ;;SSN
"RTN","ECXPRO2",54,0)
 ;;NAME (In Patient file - #2)
"RTN","ECXPRO2",55,0)
 ;;DELIVERY DATE
"RTN","ECXPRO2",56,0)
 ;;TYPE OF TRANSACTION
"RTN","ECXPRO2",57,0)
 ;;SOURCE
"RTN","ECXPRO2",58,0)
 ;;HCPCS
"RTN","ECXPRO2",59,0)
 ;;REQUESTING STATION
"RTN","ECXPRO2",60,0)
 ;;FORM REQUESTED ON
"RTN","ECXPRO2",61,0)
 ;;RECEIVING STATION
"RTN","ECXPRO2",62,0)
 Q
"RTN","ECXPRO2",63,0)
 ;
"RTN","ECXPRO2",64,0)
FEEDINFO(ECXSRCE,ECXHCPCS,ECXTYPE,ECXSTAT,ECXRQST,ECXRCST,ECXLAB) ;Get Feeder Key and Feeder Location
"RTN","ECXPRO2",65,0)
 ;   Input
"RTN","ECXPRO2",66,0)
 ;    ECXSTAT   - Station Number for extract
"RTN","ECXPRO2",67,0)
 ;    ECXTYPE   - Type of Transaction work performed
"RTN","ECXPRO2",68,0)
 ;    ECXSRCE   - Source of prosthesis
"RTN","ECXPRO2",69,0)
 ;    ECXHCPCS  - HCPCS code for prosthesis
"RTN","ECXPRO2",70,0)
 ;    ECXRQST   - Requesting Station
"RTN","ECXPRO2",71,0)
 ;    ECXRCST   - Receiving Station
"RTN","ECXPRO2",72,0)
 ;    ECXLAB    - Lab or non-Lab 
"RTN","ECXPRO2",73,0)
 ;   Output (to be KILLed by calling routine)
"RTN","ECXPRO2",74,0)
 ;    ECXFELOC  - Feeder Location
"RTN","ECXPRO2",75,0)
 ;    ECXFEKEY  - Feeder Key
"RTN","ECXPRO2",76,0)
 ;
"RTN","ECXPRO2",77,0)
 ;* NOTE: If a Station # <> Requesting Station
"RTN","ECXPRO2",78,0)
 ;*         AND
"RTN","ECXPRO2",79,0)
 ;*       Station # <> Receiving Station,
"RTN","ECXPRO2",80,0)
 ;*       then Feeder Location will be NULL.  
"RTN","ECXPRO2",81,0)
 ;
"RTN","ECXPRO2",82,0)
 S ECXFELOC=""
"RTN","ECXPRO2",83,0)
 S ECXFEKEY=ECXHCPCS_$S(ECXTYPE="X":"X",1:"N")_ECXSRCE
"RTN","ECXPRO2",84,0)
 ;
"RTN","ECXPRO2",85,0)
 ;* If processing a Non-Lab Transaction
"RTN","ECXPRO2",86,0)
 I ECXLAB="NONL" D  Q
"RTN","ECXPRO2",87,0)
 .S ECXFELOC=ECXSTAT_"NONL"
"RTN","ECXPRO2",88,0)
 ;
"RTN","ECXPRO2",89,0)
 ;* If processing a Lab Transaction
"RTN","ECXPRO2",90,0)
 I ECXLAB="LAB" D  Q
"RTN","ECXPRO2",91,0)
 .I ECXSTAT=ECXRCST D
"RTN","ECXPRO2",92,0)
 ..S ECXFELOC=ECXRCST_"LAB"
"RTN","ECXPRO2",93,0)
 ..S ECXFEKEY=ECXFEKEY_ECXRQST_"REQ"
"RTN","ECXPRO2",94,0)
 I ECXLAB="ORD" D  Q
"RTN","ECXPRO2",95,0)
 .I ECXSTAT=ECXRQST D
"RTN","ECXPRO2",96,0)
 ..S ECXFELOC=ECXRQST_"ORD"
"RTN","ECXPRO2",97,0)
 ..S ECXFEKEY=ECXFEKEY_ECXRCST_"REC"
"RTN","ECXPRO2",98,0)
 ;
"RTN","ECXPRO2",99,0)
 Q
"RTN","ECXPURG")
0^38^B15050523
"RTN","ECXPURG",1,0)
ECXPURG ;BIR/CML-Driver for Purge of DSS Data from Local Extract & Holding Files ; [ 12/03/96  5:19 PM ]
"RTN","ECXPURG",2,0)
 ;;3.0;DSS EXTRACTS;**9,24**;Dec 22, 1997
"RTN","ECXPURG",3,0)
EN ;entry point from option
"RTN","ECXPURG",4,0)
 W @IOF,!!,"This option will allow you to purge:"
"RTN","ECXPURG",5,0)
 W !,"1. individual or a range of DSS extracts, or"
"RTN","ECXPURG",6,0)
 W !,"2. data that resides in the ""holding files"" for the IVP and UDP extracts."
"RTN","ECXPURG",7,0)
 W !!,"Care must be taken for several reasons:"
"RTN","ECXPURG",8,0)
 W !!,"-  You can purge ANY existing extract.  This includes transmitted and non-"
"RTN","ECXPURG",9,0)
 W !,"   transmitted extracts as well as extracts that did not run to completion"
"RTN","ECXPURG",10,0)
 W !,"   due to errors or system problems."
"RTN","ECXPURG",11,0)
 W !,"-  Choosing a range of extracts (or a broad date range for the ""holding"
"RTN","ECXPURG",12,0)
 W !,"   files"") could mean an excessively large number of records and be very"
"RTN","ECXPURG",13,0)
 W !,"   CPU intensive.  Please be sure to queue this purge for off-hours and"
"RTN","ECXPURG",14,0)
 W !,"   limit the number of extracts to be purged per a single queued session."
"RTN","ECXPURG",15,0)
 W !,"-  The IVP and UDP ""holding"" files are intermediate files that are"
"RTN","ECXPURG",16,0)
 W !,"   populated ""realtime"" by inpatient pharmacy activity.  These files are"
"RTN","ECXPURG",17,0)
 W !,"   then used to generate the IVP and UDP extracts and CANNOT be recreated."
"RTN","ECXPURG",18,0)
 W !,"   Once they are purged for a date range, extracts can no longer be"
"RTN","ECXPURG",19,0)
 W !,"   generated for that time period."
"RTN","ECXPURG",20,0)
 ;
"RTN","ECXPURG",21,0)
 K DIR W !
"RTN","ECXPURG",22,0)
 S DIR(0)="SAM^E:Extract Files;I:IVP Holding File;U:UDP Holding File"
"RTN","ECXPURG",23,0)
 S DIR("A")="Purge (E)xtract files, (I)VP data, or (U)DP data? "
"RTN","ECXPURG",24,0)
 D ^DIR K DIR G:$D(DIRUT) QUIT S ECY=Y
"RTN","ECXPURG",25,0)
 I ECY="E" D ^ECXPURG1 I $D(ECLOC) S ZTSAVE("ECLOC(")="",ZTIO="",ZTRTN="PUR1^ECXPURG",ZTDESC="DSS - Purge of Extract Files" D QUE
"RTN","ECXPURG",26,0)
 I ECY="I" D DATES^ECXPURG1 I $D(ECBDT)&($D(ECEDT)) S (ZTSAVE("ECBDT"),ZTSAVE("ECEDT"))="",ZTIO="",ZTRTN="PUR2^ECXPURG",ZTDESC="DSS - Purge of IVP Holding File" D QUE
"RTN","ECXPURG",27,0)
 I ECY="U" D DATES^ECXPURG1 I $D(ECBDT)&($D(ECEDT)) S (ZTSAVE("ECBDT"),ZTSAVE("ECEDT"))="",ZTIO="",ZTRTN="PUR3^ECXPURG",ZTDESC="DSS - Purge of UDP Holding File" D QUE
"RTN","ECXPURG",28,0)
QUIT ;
"RTN","ECXPURG",29,0)
 K %X,%Y,EC,ECBDT,ECDATE,ECDT,ECEDT,ECEX,ECFR,ECLOC,ECRC,ECTO,ECTRN,ECTYP,ECY,HDT,HI,JJ,LN,LO,PG,QFLG,SS,X,Y,ZTSK
"RTN","ECXPURG",30,0)
 K ECXDIV
"RTN","ECXPURG",31,0)
 S:$D(ZTQUEUED) ZTREQ="@"
"RTN","ECXPURG",32,0)
 Q
"RTN","ECXPURG",33,0)
QUE W $C(7),$C(7),!!?3,"<<This purge should be queued to run during non-peak hours.>>",!
"RTN","ECXPURG",34,0)
 D ^%ZTLOAD
"RTN","ECXPURG",35,0)
 I $D(ZTSK) W !,"Request queued as Task #",ZTSK,".",!
"RTN","ECXPURG",36,0)
 Q
"RTN","ECXPURG",37,0)
 ;
"RTN","ECXPURG",38,0)
PUR1 ; entry point for queued purge job of extract files
"RTN","ECXPURG",39,0)
 S ECDA=0 F  S ECDA=$O(ECLOC(ECDA)) Q:'ECDA  D
"RTN","ECXPURG",40,0)
 .S ECFILE=^ECX(727,ECDA,"FILE"),ECJ=0
"RTN","ECXPURG",41,0)
 .F  S ECJ=$O(^ECX(ECFILE,"AC",ECDA,ECJ)) Q:'ECJ  S DIK="^ECX("_ECFILE_",",DA=ECJ D ^DIK K DIK,DA
"RTN","ECXPURG",42,0)
 .S ^ECX(727,ECDA,"PURG")=DT
"RTN","ECXPURG",43,0)
 .I ECFILE=727.816 D
"RTN","ECXPURG",44,0)
 ..S ECJ=0
"RTN","ECXPURG",45,0)
 ..F  S ECJ=$O(^ECX(727.818,"AC",ECDA,ECJ)) Q:'ECJ  S DIK="^ECX(727.818,",DA=ECJ D ^DIK K DIK,DA
"RTN","ECXPURG",46,0)
 D QUIT
"RTN","ECXPURG",47,0)
 Q
"RTN","ECXPURG",48,0)
 ;
"RTN","ECXPURG",49,0)
PUR2 ; entry point for queued purge job of IVP holding file (#728.113)
"RTN","ECXPURG",50,0)
 F ECDT=ECBDT-1:0 S ECDT=$O(^ECX(728.113,"A",ECDT)) Q:'ECDT  Q:ECDT>ECEDT  S ECPT=0 F  S ECPT=$O(^ECX(728.113,"A",ECDT,ECPT)) Q:'ECPT  D
"RTN","ECXPURG",51,0)
 .S ECOR=0 F  S ECOR=$O(^ECX(728.113,"A",ECDT,ECPT,ECOR)) Q:'ECOR  D
"RTN","ECXPURG",52,0)
 ..S ECREC=0 F  S ECREC=$O(^ECX(728.113,"A",ECDT,ECPT,ECOR,ECREC)) Q:'ECREC  D
"RTN","ECXPURG",53,0)
 ...S DIK="^ECX(728.113,",DA=ECREC D ^DIK K DIK,DA
"RTN","ECXPURG",54,0)
 D QUIT
"RTN","ECXPURG",55,0)
 Q
"RTN","ECXPURG",56,0)
 ;
"RTN","ECXPURG",57,0)
PUR3 ; entry point for queued purge job of UDP holding file (#728.904)
"RTN","ECXPURG",58,0)
 F ECDT=ECBDT-1:0 S ECDT=$O(^ECX(728.904,"A",ECDT)) Q:'ECDT  Q:ECDT>ECEDT  D
"RTN","ECXPURG",59,0)
 .S ECREC=0 F  S ECREC=$O(^ECX(728.904,"A",ECDT,ECREC)) Q:'ECREC  D
"RTN","ECXPURG",60,0)
 ..S DIK="^ECX(728.904,",DA=ECREC D ^DIK K DIK,DA
"RTN","ECXPURG",61,0)
 D QUIT
"RTN","ECXPURG",62,0)
 Q
"RTN","ECXPURG1")
0^42^B31669124
"RTN","ECXPURG1",1,0)
ECXPURG1 ;BIR/CML-Purge of DSS Extract Files (CONTINUED) ; [ 12/05/96  11:58 AM ]
"RTN","ECXPURG1",2,0)
 ;;3.0;DSS EXTRACTS;**2,9,8,24**;Dec 22, 1997
"RTN","ECXPURG1",3,0)
GET ;compile list of purgable extracts
"RTN","ECXPURG1",4,0)
 K HI,LO,ECBDT,ECEDT,ECLOC,^TMP("ECXPURG",$J)
"RTN","ECXPURG1",5,0)
 S QFLG=1 W !!,"...one moment please"
"RTN","ECXPURG1",6,0)
 S ECEX=0 F  S ECEX=$O(^ECX(727,ECEX)) Q:'ECEX  I '$G(^ECX(727,ECEX,"PURG")),$D(^ECX(727,ECEX,0)) S EC=^(0) D
"RTN","ECXPURG1",7,0)
 .S ^TMP("ECXPURG",$J,$P(EC,U,3),ECEX)="",ECLOC(ECEX)=$P(EC,U,3)_U_$P(EC,U,4,5)
"RTN","ECXPURG1",8,0)
 I '$D(^TMP("ECXPURG",$J)) W !!,"There are no extracts that can be purged at this time." G DONE
"RTN","ECXPURG1",9,0)
ASK1 ;ask for print
"RTN","ECXPURG1",10,0)
 W !
"RTN","ECXPURG1",11,0)
 K DIR S DIR(0)="Y",DIR("A")="Do you want to print a list of extracts that can be purged",DIR("B")="NO"
"RTN","ECXPURG1",12,0)
 D ^DIR K DIR I $D(DIRUT) K ECLOC G DONE
"RTN","ECXPURG1",13,0)
 G:'Y ASK2
"RTN","ECXPURG1",14,0)
 W !!,"The right margin for this report is 80.",!!
"RTN","ECXPURG1",15,0)
 K ZTSAVE S ZTSAVE("^TMP(""ECXPURG"",$J,")=""
"RTN","ECXPURG1",16,0)
 D EN^XUTMDEVQ("PRT^ECXPURG1","DSS - Print Purgable Extracts",.ZTSAVE) I 'POP G ASK2
"RTN","ECXPURG1",17,0)
 W !,"NO DEVICE SELECTED OR REPORT PRINTED!!"
"RTN","ECXPURG1",18,0)
ASK2 ;ask for extract range
"RTN","ECXPURG1",19,0)
 ;
"RTN","ECXPURG1",20,0)
 ;** Check divisions for purging
"RTN","ECXPURG1",21,0)
 N ECCHK,ECTMP
"RTN","ECXPURG1",22,0)
 S ECCHK=$$DIV4^XUSER(.ECTMP,DUZ)
"RTN","ECXPURG1",23,0)
 I 'ECCHK DO
"RTN","ECXPURG1",24,0)
 .W !,"You do not have any divisions defined in your user set up and can not purge."
"RTN","ECXPURG1",25,0)
 .S DIR(0)="FAO^1:1",DIR("A")="Hit Return to continue." D ^DIR K DIR,X,Y
"RTN","ECXPURG1",26,0)
 .K ECLOC
"RTN","ECXPURG1",27,0)
 ;
"RTN","ECXPURG1",28,0)
 I 'ECCHK G DONE  ;** (essentially) QUIT out of middle
"RTN","ECXPURG1",29,0)
 ;
"RTN","ECXPURG1",30,0)
 W !,"You will not be able to select an extract that is not from your division.",!
"RTN","ECXPURG1",31,0)
 S LO=$O(ECLOC(0)),HI=$O(ECLOC(" "),-1)
"RTN","ECXPURG1",32,0)
 S DIR(0)="L^"_LO_":"_HI_"",DIR("A")="Select extracts to be purged"
"RTN","ECXPURG1",33,0)
 S DIR("?",1)="Choose the number (or numbers) of the extracts you wish to purge,",DIR("?")="(E.g., 1-3,17,20 to choose 1 thru 3 and 17 and 20)."
"RTN","ECXPURG1",34,0)
 W ! D ^DIR K DIR I $D(DIRUT) K ECLOC G DONE
"RTN","ECXPURG1",35,0)
 S JJ=0,Y=","_Y F  S JJ=$O(ECLOC(JJ)) Q:'JJ  S JZ=","_JJ_"," I Y'[JZ K ECLOC(JJ)
"RTN","ECXPURG1",36,0)
 D DIVCHK(.ECLOC,.ECTMP)
"RTN","ECXPURG1",37,0)
 I '$D(ECLOC) W !!,"You have not chosen a valid extract number.  Try again." G GET
"RTN","ECXPURG1",38,0)
ASK3 W !!,"I will purge the following extract(s):"
"RTN","ECXPURG1",39,0)
 S JJ=0 F  S JJ=$O(ECLOC(JJ)) Q:'JJ  D
"RTN","ECXPURG1",40,0)
 .W !?5,"#",JJ," - ",$P(ECLOC(JJ),U)
"RTN","ECXPURG1",41,0)
 .W ?47,$TR($$FMTE^XLFDT($P(ECLOC(JJ),U,2),"5DF")," ","0")," to ",$TR($$FMTE^XLFDT($P(ECLOC(JJ),U,3),"5DF")," ","0")
"RTN","ECXPURG1",42,0)
 W !! K DIR S DIR(0)="Y",DIR("A")="Is this OK",DIR("B")="NO"
"RTN","ECXPURG1",43,0)
 S DIR("?",1)="    Enter:"
"RTN","ECXPURG1",44,0)
 S DIR("?",2)="      ""YES"" if you agree with this list and would like to proceed,"
"RTN","ECXPURG1",45,0)
 S DIR("?",3)="       ""NO"" if you would like to make a different selection, or"
"RTN","ECXPURG1",46,0)
 S DIR("?")="        ""^"" to exit option."
"RTN","ECXPURG1",47,0)
 D ^DIR K DIR I $D(DIRUT) K ECLOC G DONE
"RTN","ECXPURG1",48,0)
 I 'Y G GET
"RTN","ECXPURG1",49,0)
 ; at this point, the local array ECLOC( is passed back to ^ECXPURG
"RTN","ECXPURG1",50,0)
 G DONE
"RTN","ECXPURG1",51,0)
QUIT ;
"RTN","ECXPURG1",52,0)
 I $E(IOST)="C"&('QFLG) S DIR(0)="E" D  D ^DIR K DIR
"RTN","ECXPURG1",53,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXPURG1",54,0)
 W:$E(IOST)'="C" @IOF D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","ECXPURG1",55,0)
DONE K ^TMP("ECXPURG",$J),ZTSK Q
"RTN","ECXPURG1",56,0)
PRT ;print list of extracts
"RTN","ECXPURG1",57,0)
 S (PG,QFLG)=0,$P(LN,"-",81)="" D NOW^%DTC S Y=$E(%,1,12) X ^DD("DD") S HDT=Y D HDR
"RTN","ECXPURG1",58,0)
 S ECTYP="" F  S ECTYP=$O(^TMP("ECXPURG",$J,ECTYP)) Q:ECTYP=""  Q:QFLG  D:$Y+4>IOSL HDR Q:QFLG  W !!,ECTYP D
"RTN","ECXPURG1",59,0)
 .S ECEX=0 F  S ECEX=$O(^TMP("ECXPURG",$J,ECTYP,ECEX)) Q:'ECEX  Q:QFLG  I $D(^ECX(727,ECEX,0)) S EC=^(0) D
"RTN","ECXPURG1",60,0)
 ..S ECDT=$$FMTE^XLFDT($P(EC,U,2),"D")
"RTN","ECXPURG1",61,0)
 ..S ECFR=$TR($$FMTE^XLFDT($P(EC,U,4),"5DF")," ","0")
"RTN","ECXPURG1",62,0)
 ..S ECTO=$TR($$FMTE^XLFDT($P(EC,U,5),"5DF")," ","0")
"RTN","ECXPURG1",63,0)
 ..S ECRC=$P(EC,U,6) S:ECRC="" ECRC="Incomplete"
"RTN","ECXPURG1",64,0)
 ..S ECTRN=$$FMTE^XLFDT($G(^ECX(727,ECEX,"TR")),"D")
"RTN","ECXPURG1",65,0)
 ..S ECXDIV=$P($G(^ECX(727,ECEX,"DIV")),U,1) I ECXDIV D
"RTN","ECXPURG1",66,0)
 ...K ECXDIC S DA=ECXDIV,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXPURG1",67,0)
 ...D EN^DIQ1 S ECXDIV=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXPURG1",68,0)
 ..D:$Y+3>IOSL HDR Q:QFLG
"RTN","ECXPURG1",69,0)
 ..W !?1,ECEX,?11,ECDT,?25,ECFR,"-",ECTO,?48,$J(ECRC,9),?60,ECTRN,?75,ECXDIV
"RTN","ECXPURG1",70,0)
 G QUIT
"RTN","ECXPURG1",71,0)
HDR ;HEADER
"RTN","ECXPURG1",72,0)
 I $E(IOST)="C" S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXPURG1",73,0)
 I $E(IOST)="C",PG>0 S DIR(0)="E" W ! D ^DIR K DIR I 'Y S QFLG=1 Q
"RTN","ECXPURG1",74,0)
 S PG=PG+1 W:$Y!($E(IOST)="C") @IOF W !,"PURGABLE EXTRACTS",?72,"Page: ",PG,!,"Printed on ",HDT,!
"RTN","ECXPURG1",75,0)
 W !,"FEEDER SYS",?12,"EXTRACT,",!,"EXTRACT #",?12,"DATE",?33,"FROM-TO",?48,"RECORD CNT",?60,"TRANSMIT DATE",?75,"DIV",!,LN
"RTN","ECXPURG1",76,0)
 Q
"RTN","ECXPURG1",77,0)
DATES ;ask for date range for purge of holding files
"RTN","ECXPURG1",78,0)
 K HI,LO,ECBDT,ECEDT
"RTN","ECXPURG1",79,0)
 I ECY="I" D
"RTN","ECXPURG1",80,0)
 .I '$O(^ECX(728.113,0)) W !!,"You have no data in the IVP holding file (file #728.113) to purge." Q
"RTN","ECXPURG1",81,0)
 .S LO=$O(^ECX(728.113,"A",0)),HI=$O(^ECX(728.113,"A"," "),-1)
"RTN","ECXPURG1",82,0)
 I ECY="U" D
"RTN","ECXPURG1",83,0)
 .I '$O(^ECX(728.904,0)) W !!,"You have no data in the UDP holding file (file #728.904) to purge." Q
"RTN","ECXPURG1",84,0)
 .S LO=$O(^ECX(728.904,"A",0)),HI=$O(^ECX(728.904,"A"," "),-1)
"RTN","ECXPURG1",85,0)
 Q:$G(LO)=""
"RTN","ECXPURG1",86,0)
 W @IOF,!!,"This file currently holds ",$S(ECY="I":"IVP",1:"UDP")," data from <",$$FMTE^XLFDT(LO,"D"),"> to <",$$FMTE^XLFDT(HI,"D"),">."
"RTN","ECXPURG1",87,0)
 W ! K DIR S DIR(0)="DA^"_LO_":"_HI_":EPX",DIR("A")="Beginning date for purge: " D ^DIR K DIR I $D(DIRUT) K HI,LO Q
"RTN","ECXPURG1",88,0)
 S ECBDT=+Y
"RTN","ECXPURG1",89,0)
 K DIR S DIR(0)="DA^"_ECBDT_":"_HI_":EPX",DIR("A")="Ending date for purge: " D ^DIR K DIR I $D(DIRUT) K HI,LO,ECBDT Q
"RTN","ECXPURG1",90,0)
 S ECEDT=+Y
"RTN","ECXPURG1",91,0)
ASK4 ; ask to confirm date range
"RTN","ECXPURG1",92,0)
 W !!,"I will purge the ",$S(ECY="I":"IVP",1:"UDP")," holding file from <",$$FMTE^XLFDT(ECBDT,"D"),"> to <",$$FMTE^XLFDT(ECEDT,"D"),">."
"RTN","ECXPURG1",93,0)
 W $C(7),$C(7),!!?3,"** REMEMBER - Once this data is purged it CANNOT be recreated. **"
"RTN","ECXPURG1",94,0)
 W !! K DIR S DIR(0)="Y",DIR("A")="Is this OK",DIR("B")="NO"
"RTN","ECXPURG1",95,0)
 S DIR("?",1)="    Enter:"
"RTN","ECXPURG1",96,0)
 S DIR("?",2)="      ""YES"" if you agree with this date range and wish to proceed,"
"RTN","ECXPURG1",97,0)
 S DIR("?",3)="       ""NO"" if you would like to make a different selection, or"
"RTN","ECXPURG1",98,0)
 S DIR("?")="        ""^"" to exit option."
"RTN","ECXPURG1",99,0)
 D ^DIR K DIR I $D(DIRUT) K ECBDT,ECEDT Q 
"RTN","ECXPURG1",100,0)
 I 'Y G DATES
"RTN","ECXPURG1",101,0)
 ; at this point, ECBDT and ECEDT are passed back to ^ECXPURG
"RTN","ECXPURG1",102,0)
 Q
"RTN","ECXPURG1",103,0)
 ;
"RTN","ECXPURG1",104,0)
DIVCHK(ECLOC,ECTMP) ;**Remove extracts from ECLOC that are for user's div.
"RTN","ECXPURG1",105,0)
 N ECLPDA
"RTN","ECXPURG1",106,0)
 S ECLPDA=0
"RTN","ECXPURG1",107,0)
 F  S ECLPDA=$O(ECLOC(ECLPDA)) Q:(+ECLPDA=0)  DO
"RTN","ECXPURG1",108,0)
 .I '$D(ECTMP($P(^ECX(727,ECLPDA,"DIV"),U,1))) KILL ECLOC(ECLPDA)
"RTN","ECXPURG1",109,0)
 Q
"RTN","ECXQSR")
0^21^B23467897
"RTN","ECXQSR",1,0)
ECXQSR ;ALB/JAP,BIR/PTD-DSS QUASAR Extract ; 02/14/97 14:07
"RTN","ECXQSR",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,26,24**;Dec 22, 1997
"RTN","ECXQSR",3,0)
BEG ;entry point from option
"RTN","ECXQSR",4,0)
 I '$O(^ACK(509850.8,0)) W !,"You must be using the Quality Audiology & Speech Pathology",!,"Audit & Review (QUASAR) software to run this extract.",!! Q
"RTN","ECXQSR",5,0)
 I '$D(^ACK(509850.8,1,"DSS")) W !,"Linkage has not been established between QUASAR and the DSS UNIT file (#724).",!! Q
"RTN","ECXQSR",6,0)
 I '$O(^ACK(509850.6,0)) W !,"There is no data in the A&SP CLINIC VISIT file (#509850.6).",!! Q
"RTN","ECXQSR",7,0)
 D SETUP I ECFILE="" Q
"RTN","ECXQSR",8,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXQSR",9,0)
 Q
"RTN","ECXQSR",10,0)
 ;
"RTN","ECXQSR",11,0)
START ;entry point from tasked job
"RTN","ECXQSR",12,0)
 N ARR,ERR
"RTN","ECXQSR",13,0)
 S QFLG=0
"RTN","ECXQSR",14,0)
 S ECED=ECED+.9,ECD=ECSD1
"RTN","ECXQSR",15,0)
 S ECXQV="" D FILE^DID(509850.6,,"VERSION","ARR","ERR") S ECXQV=+$G(ARR("VERSION")) S:ECXQV=0 ECXQV=2
"RTN","ECXQSR",16,0)
 S ECL=+^ACK(509850.8,1,0),ECLINK=^ACK(509850.8,1,"DSS")
"RTN","ECXQSR",17,0)
 F  S ECD=$O(^ACK(509850.6,"B",ECD)),ECDA=0 Q:(ECD>ECED)!('ECD)  Q:QFLG  F  S ECDA=$O(^ACK(509850.6,"B",ECD,ECDA)) Q:'ECDA  D UPDATE Q:QFLG
"RTN","ECXQSR",18,0)
 Q
"RTN","ECXQSR",19,0)
 ;
"RTN","ECXQSR",20,0)
UPDATE ;create record for each unique CPT code for clinic visit 
"RTN","ECXQSR",21,0)
 N ECZNODE,MOD,VOL,XX,LOC
"RTN","ECXQSR",22,0)
 Q:'$D(^ACK(509850.6,ECDA,0))
"RTN","ECXQSR",23,0)
 S ECZNODE=^ACK(509850.6,ECDA,0),EC2NODE=$G(^ACK(509850.6,ECDA,2))
"RTN","ECXQSR",24,0)
 S ECDT=$P(ECZNODE,U),ECDAY=$$ECXDATE^ECXUTL(ECDT,ECXYM),ECTIME=$$ECXTIME^ECXUTL(ECDT) S:$P(ECDT,".",2)="" ECTIME="000000"
"RTN","ECXQSR",25,0)
 S ECXDFN=$P(ECZNODE,U,2)
"RTN","ECXQSR",26,0)
 S ECXERR=0 D INP(ECXDFN,ECDT,.ECXERR)
"RTN","ECXQSR",27,0)
 Q:ECXERR
"RTN","ECXQSR",28,0)
 S ECXDSSD="",ECXDIV=""
"RTN","ECXQSR",29,0)
 S ECSTOP=$P(EC2NODE,U) Q:ECSTOP=""
"RTN","ECXQSR",30,0)
 S ECHL="",(ECHLS,ECHL2S)="000",ECAC=$P($G(ECZNODE),U,6) I ECAC D
"RTN","ECXQSR",31,0)
 .S ECHL=+$P($G(^SC(ECAC,0)),U,7),ECHL2=+$P($G(^(0)),U,18) I ECHL D
"RTN","ECXQSR",32,0)
 ..S ECHLS=$P($G(^DIC(40.7,+ECHL,0)),U,2),ECHL2S=$P($G(^DIC(40.7,+ECHL2,0)),U,2)
"RTN","ECXQSR",33,0)
 ..S ECHLS=$$RJ^XLFSTR(ECHLS,3,0),ECHL2S=$$RJ^XLFSTR(ECHL2S,3,0)
"RTN","ECXQSR",34,0)
 S ECDSS=ECHLS_ECHL2S
"RTN","ECXQSR",35,0)
 S ECDU=$S(ECSTOP["A":$P(ECLINK,U),ECSTOP["S":$P(ECLINK,U,2),1:"") Q:'ECDU
"RTN","ECXQSR",36,0)
 S ECDSSU=$G(^ECD(ECDU,0)),ECCS=+$P(ECDSSU,U,4),(ECO,ECM)=+$P(ECDSSU,U,3)
"RTN","ECXQSR",37,0)
 S ECUN1=$P(EC2NODE,U,7) S:ECUN1]"" ECUN1=2_ECUN1
"RTN","ECXQSR",38,0)
 S ECUN1NPI=""
"RTN","ECXQSR",39,0)
 Q:'$O(^ACK(509850.6,ECDA,3,0))
"RTN","ECXQSR",40,0)
 ;Create local array of procedure codes and # of times each procedure was performed.
"RTN","ECXQSR",41,0)
 ;if QUASAR v2
"RTN","ECXQSR",42,0)
 I ECXQV=2 D
"RTN","ECXQSR",43,0)
 .S ECPN=0 F  S ECPN=$O(^ACK(509850.6,ECDA,3,ECPN)) Q:'ECPN  D
"RTN","ECXQSR",44,0)
 ..S XX=+^ACK(509850.6,ECDA,3,ECPN,0),XX=+$G(^ACK(509850.4,XX,0)),ECXCMOD=""
"RTN","ECXQSR",45,0)
 ..S ECXCPT=$$CPT^ECXUTL3(XX,ECXCMOD),ECP=$TR(ECXCPT," ","")
"RTN","ECXQSR",46,0)
 ..I ECP]"" D
"RTN","ECXQSR",47,0)
 ...I '$D(LOC(ECXCPT)) S LOC(ECXCPT)=0_U_ECP
"RTN","ECXQSR",48,0)
 ...S $P(LOC(ECXCPT),U)=$P(LOC(ECXCPT),U)+1
"RTN","ECXQSR",49,0)
 ;if QUASAR v3
"RTN","ECXQSR",50,0)
 I ECXQV=3 D
"RTN","ECXQSR",51,0)
 .S ECPN=0 F  S ECPN=$O(^ACK(509850.6,ECDA,3,ECPN)) Q:'ECPN  D
"RTN","ECXQSR",52,0)
 ..S XX=+^ACK(509850.6,ECDA,3,ECPN,0),ECXCPT=+$G(^ACK(509850.4,XX,0))
"RTN","ECXQSR",53,0)
 ..Q:'ECXCPT
"RTN","ECXQSR",54,0)
 ..S ECXVOL=1 S VOL=+$P($G(^ACK(509850.6,ECDA,3,ECPN,0)),U,3) I VOL S ECXVOL=VOL
"RTN","ECXQSR",55,0)
 ..S ECXCMOD="",MOD=0
"RTN","ECXQSR",56,0)
 ..F  S MOD=$O(^ACK(509850.6,ECDA,3,ECPN,1,MOD)) Q:'MOD  D
"RTN","ECXQSR",57,0)
 ...S XX=+^ACK(509850.6,ECDA,3,ECPN,1,MOD,0)
"RTN","ECXQSR",58,0)
 ...I XX S XX=+$G(^ACK(509850.5,XX,0)),ECXCMOD=ECXCMOD_XX_";"
"RTN","ECXQSR",59,0)
 ..S ECXCPT=$$CPT^ECXUTL3(ECXCPT,ECXCMOD)
"RTN","ECXQSR",60,0)
 ..S LOC(ECXCPT)=ECXVOL_U_$E(ECXCPT,1,5)
"RTN","ECXQSR",61,0)
 Q:'$D(LOC)
"RTN","ECXQSR",62,0)
 Q:'$O(^ACK(509850.6,ECDA,1,0))
"RTN","ECXQSR",63,0)
 S ECIEN=$O(^ACK(509850.6,ECDA,1,0)),ECDIA=+^ACK(509850.6,ECDA,1,ECIEN,0),ECDIA=$P($G(^ICD9(ECDIA,0)),U)
"RTN","ECXQSR",64,0)
 ;Loop through array of unique procedures. Create record in ECODE.
"RTN","ECXQSR",65,0)
 S ECXCPT=""
"RTN","ECXQSR",66,0)
 F  S ECXCPT=$O(LOC(ECXCPT)) Q:ECXCPT=""  S ECP=$P(LOC(ECXCPT),U,2),ECV=+LOC(ECXCPT) D FILE
"RTN","ECXQSR",67,0)
 K LOC
"RTN","ECXQSR",68,0)
 Q
"RTN","ECXQSR",69,0)
 ;
"RTN","ECXQSR",70,0)
FILE ;file record in #727.825
"RTN","ECXQSR",71,0)
 ;node0
"RTN","ECXQSR",72,0)
 ;inst^dfn^ssn^name^i/o status^day^DSS unit^category^procedure^volume^cost center^ordering sec^section^
"RTN","ECXQSR",73,0)
 ;provider^^^^^^^mov #^treat spec^time^primary care team^primary care provider^pce cpt code & modifers^
"RTN","ECXQSR",74,0)
 ;icd-9 code^agent orange^radiation exposure^environmental contaminants^service connected^sent to pce^^dss identifier^placeholder
"RTN","ECXQSR",75,0)
 ;node1
"RTN","ECXQSR",76,0)
 ;mpi^dss dept^provider npi^^^pc prov person class^assoc pc provider^assoc pc prov person class^assoc pc provider npi^pc provider npi
"RTN","ECXQSR",77,0)
 N DA,DIK
"RTN","ECXQSR",78,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXQSR",79,0)
 S ECODE=EC7_U_EC23
"RTN","ECXQSR",80,0)
 S ECODE=ECODE_U_ECL_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_ECDAY_U_ECDU_U_U_ECP_U_ECV_U_ECCS_U_ECO_U_ECM_U_ECUN1_U_U_U_U_U_U_U_ECXMN_U_ECXTS_U_ECTIME
"RTN","ECXQSR",81,0)
 S ECODE=ECODE_U_ECPTTM_U_ECPTPR_U_ECXCPT_U_ECDIA_U_ECAO_U_ECRE_U_ECENV_U_ECSC_U_"N"_U_U_ECDSS_U
"RTN","ECXQSR",82,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECUN1NPI_U_U_U_ECCLAS_U_ECPTNPI_U_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXDIV
"RTN","ECXQSR",83,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXQSR",84,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXQSR",85,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXQSR",86,0)
 Q
"RTN","ECXQSR",87,0)
 ;
"RTN","ECXQSR",88,0)
INP(ECXDFN,ECXDATE,ECXERR) ;determine in/outpatient status, demographics, primary care team and provider, eligibility, and service history.
"RTN","ECXQSR",89,0)
 ;input   ECXDFN  = ien to file #2
"RTN","ECXQSR",90,0)
 ;        ECXDATE = date of patient care
"RTN","ECXQSR",91,0)
 ; output ECXERR  = 1 if error,, otherwise 0
"RTN","ECXQSR",92,0)
 N OK
"RTN","ECXQSR",93,0)
 K ECXPAT
"RTN","ECXQSR",94,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;3;5",.ECXPAT)
"RTN","ECXQSR",95,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXQSR",96,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXQSR",97,0)
 S ECSC=ECXPAT("SC STAT"),ECAO=ECXPAT("AO STAT"),ECRE=ECXPAT("IR STAT"),ECENV=ECXPAT("EC STAT")
"RTN","ECXQSR",98,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXQSR",99,0)
 S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXQSR",100,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE),ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3)
"RTN","ECXQSR",101,0)
 Q
"RTN","ECXQSR",102,0)
 ;
"RTN","ECXQSR",103,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXQSR",104,0)
 S ECHEAD="ECQ"
"RTN","ECXQSR",105,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXQSR",106,0)
 Q
"RTN","ECXQSR",107,0)
 ;
"RTN","ECXQSR",108,0)
QUE ;Entry point for the background requeuing handled by ECXTAUTO.
"RTN","ECXQSR",109,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXRAD")
0^22^B17063758
"RTN","ECXRAD",1,0)
ECXRAD ;ALB/JAP,BIR/PDW,PTD-Extract for Radiology ; [ 11/27/96  10:47 AM ]
"RTN","ECXRAD",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,16,24**;Dec 22, 1997
"RTN","ECXRAD",3,0)
BEG ;entry point from option
"RTN","ECXRAD",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXRAD",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXRAD",6,0)
 Q
"RTN","ECXRAD",7,0)
 ;
"RTN","ECXRAD",8,0)
START ;start rad extract
"RTN","ECXRAD",9,0)
 S QFLG=0
"RTN","ECXRAD",10,0)
 K ECXDD D FIELD^DID(70.03,14,,"SPECIFIER","ECXDD") S ECPROF=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXRAD",11,0)
 S ECXDFN="",ECDT=ECSD-.1,ECED1=ECED+.3
"RTN","ECXRAD",12,0)
 F  S ECDT=$O(^RADPT("AR",ECDT)) Q:ECDT>ECED1!(ECDT'>0)  D  Q:QFLG
"RTN","ECXRAD",13,0)
 .S ECXDFN=""
"RTN","ECXRAD",14,0)
 .F  S ECXDFN=$O(^RADPT("AR",ECDT,ECXDFN)) Q:ECXDFN=""  I '$D(^TMP("ECL",$J,ECXDFN)) D GET Q:QFLG
"RTN","ECXRAD",15,0)
 K ^TMP("ECL",$J)
"RTN","ECXRAD",16,0)
 Q
"RTN","ECXRAD",17,0)
 ;
"RTN","ECXRAD",18,0)
GET ;get data
"RTN","ECXRAD",19,0)
 N X,SUB,TYPE
"RTN","ECXRAD",20,0)
 S ^TMP("ECL",$J,ECXDFN)=""
"RTN","ECXRAD",21,0)
 ;with dfn get all exams within date range
"RTN","ECXRAD",22,0)
 S ECXMDT=ECSD-.1
"RTN","ECXRAD",23,0)
 F  S ECXMDT=$O(^RADPT(ECXDFN,"DT","B",ECXMDT)) Q:((ECXMDT>ECED1)!(ECXMDT=""))  D  Q:QFLG
"RTN","ECXRAD",24,0)
 .S ECTM=$$ECXTIME^ECXUTL(ECXMDT) S:ECTM>235959 ECTM=235959
"RTN","ECXRAD",25,0)
 .S ECXDAY=$$ECXDATE^ECXUTL(ECXMDT,ECXYM)
"RTN","ECXRAD",26,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXMDT,"."),"1;",.ECXPAT)
"RTN","ECXRAD",27,0)
 .Q:'OK
"RTN","ECXRAD",28,0)
 .S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXRAD",29,0)
 .S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXMDT,"."),ECPROF)
"RTN","ECXRAD",30,0)
 .S ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2),ECCLAS=$P(X,U,3),ECPTNPI=$P(X,U,4),ECASPR=$P(X,U,5),ECCLAS2=$P(X,U,6),ECASNPI=$P(X,U,7)
"RTN","ECXRAD",31,0)
 .S X=$$INP^ECXUTL2(ECXDFN,ECXMDT),ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3)
"RTN","ECXRAD",32,0)
 .;for dfn & date get exam(s) ien
"RTN","ECXRAD",33,0)
 .S ECXMDA=""
"RTN","ECXRAD",34,0)
 .F  S ECXMDA=$O(^RADPT(ECXDFN,"DT","B",ECXMDT,ECXMDA)) Q:+ECXMDA=0  D
"RTN","ECXRAD",35,0)
 ..S ECXDIV=$P(^RADPT(ECXDFN,"DT",ECXMDA,0),U,3),ECLOC=$P(^(0),U,4),ECTY=$P(^(0),U,2)
"RTN","ECXRAD",36,0)
 ..;procedures and modifiers for specific exam (case numbers)
"RTN","ECXRAD",37,0)
 ..;ward/clinic,service,provider,diagnostic code
"RTN","ECXRAD",38,0)
 ..S ECCN=0
"RTN","ECXRAD",39,0)
 ..F  S ECCN=$O(^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN)) Q:ECCN'>0  D
"RTN","ECXRAD",40,0)
 ...S ECCA=^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN,0)
"RTN","ECXRAD",41,0)
 ...S ECXW=$P(ECCA,U,6),ECXW=$P($G(^DIC(42,+ECXW,44)),U)
"RTN","ECXRAD",42,0)
 ...S:ECXW="" ECXW=$P(ECCA,U,8)
"RTN","ECXRAD",43,0)
 ...S ECXDSSD=""
"RTN","ECXRAD",44,0)
 ...S ECS=$P(ECCA,U,7),ECDOC=ECPROF_$P(ECCA,U,14),ECDOCNPI="",ECDI=$P(ECCA,U,13)
"RTN","ECXRAD",45,0)
 ...S ECPRO=$P(ECCA,U,2),ECSTAT=$P($G(^RA(72,+$P(ECCA,U,3),0)),U,3)
"RTN","ECXRAD",46,0)
 ...Q:'ECPRO 
"RTN","ECXRAD",47,0)
 ...Q:+ECSTAT=0
"RTN","ECXRAD",48,0)
 ...;get CPT code & modifiers
"RTN","ECXRAD",49,0)
 ...S ECPT=+$P($G(^RAMIS(71,+ECPRO,0)),U,9),ECXCMOD=""
"RTN","ECXRAD",50,0)
 ...;quit if this is a 'parent' procedure
"RTN","ECXRAD",51,0)
 ...S TYPE=$P($G(^RAMIS(71,+ECPRO,0)),U,6)
"RTN","ECXRAD",52,0)
 ...Q:((ECPT=0)&(TYPE="P"))
"RTN","ECXRAD",53,0)
 ...;if site is using radiology with cpt modifiers then get them
"RTN","ECXRAD",54,0)
 ...K ARR,ERR D FIELD^DID(70.03,135,,"LABEL","ARR","ERR")
"RTN","ECXRAD",55,0)
 ...I $D(ARR("LABEL")) D
"RTN","ECXRAD",56,0)
 ....K ARR,ERR D FIELD^DID(70.03,135,,"GLOBAL SUBSCRIPT LOCATION","ARR","ERR")
"RTN","ECXRAD",57,0)
 ....Q:$D(ERR("DIERR"))
"RTN","ECXRAD",58,0)
 ....S SUB=$P(ARR("GLOBAL SUBSCRIPT LOCATION"),";") S ECMOD=0
"RTN","ECXRAD",59,0)
 ....Q:'$D(^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN,SUB))
"RTN","ECXRAD",60,0)
 ....F  S ECMOD=$O(^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN,SUB,ECMOD)) Q:ECMOD'>0  S ECXCMOD=ECXCMOD_$P(^(ECMOD,0),U)_";"
"RTN","ECXRAD",61,0)
 ...S ECXCPT=$$CPT^ECXUTL3(ECPT,ECXCMOD)
"RTN","ECXRAD",62,0)
 ...;get procedure radiology modifiers
"RTN","ECXRAD",63,0)
 ...S ECMOD=0,ECMODS=""
"RTN","ECXRAD",64,0)
 ...F  S ECMOD=$O(^RADPT(ECXDFN,"DT",ECXMDA,"P",ECCN,"M",ECMOD)) Q:ECMOD'>0  S ECMODS=ECMODS_$P(^(ECMOD,0),U)_";"
"RTN","ECXRAD",65,0)
 ...D FILE
"RTN","ECXRAD",66,0)
 Q
"RTN","ECXRAD",67,0)
 ;
"RTN","ECXRAD",68,0)
FILE ;file record
"RTN","ECXRAD",69,0)
 ;node0
"RTN","ECXRAD",70,0)
 ;rad div^dfn^ssn^name^in/out^day^cpt code^procedure^img loc^ward^ser^diag code^req physician^
"RTN","ECXRAD",71,0)
 ;modifiers^mov #^treat spec^time^imaging type^primary care team^primary care provider
"RTN","ECXRAD",72,0)
 ;node1
"RTN","ECXRAD",73,0)
 ;mpi^dss dept^req physician npi^pc provider npi^pc prov person class^assoc pc provider^assoc pc prov person class^assoc pc prov npi
"RTN","ECXRAD",74,0)
 N DA,DIK
"RTN","ECXRAD",75,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXRAD",76,0)
 S ECODE=EC7_U_EC23
"RTN","ECXRAD",77,0)
 S ECODE=ECODE_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_ECXDAY
"RTN","ECXRAD",78,0)
 S ECODE=ECODE_U_ECXCPT_U_ECPRO_U_ECLOC_U_ECXW_U_ECS_U_ECDI_U_ECDOC
"RTN","ECXRAD",79,0)
 S ECODE=ECODE_U_ECMODS_U_ECXMN_U_ECXTS_U_ECTM_U_ECTY_U_ECPTTM_U_ECPTPR
"RTN","ECXRAD",80,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECDOCNPI_U_ECPTNPI_U_ECCLAS_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXRAD",81,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXRAD",82,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXRAD",83,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXRAD",84,0)
 Q
"RTN","ECXRAD",85,0)
 ;
"RTN","ECXRAD",86,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXRAD",87,0)
 S ECHEAD="RAD"
"RTN","ECXRAD",88,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXRAD",89,0)
 Q
"RTN","ECXSCLD")
0^23^B61218025
"RTN","ECXSCLD",1,0)
ECXSCLD ;BIR/DMA,CML-Enter, Print and Edit Entries in 728.44 ; [ 12/12/96  4:14 PM ]
"RTN","ECXSCLD",2,0)
 ;;3.0;DSS EXTRACTS;**2,8,24**;Dec 22, 1997
"RTN","ECXSCLD",3,0)
EN ;entry point from option
"RTN","ECXSCLD",4,0)
 ;load entries
"RTN","ECXSCLD",5,0)
 W !!,"This option creates local entries in the DSS CLINIC AND STOP CODES file.",!
"RTN","ECXSCLD",6,0)
 I '$D(^ECX(728.44)) W !,"DSS Clinic stop code file does not exist",!! R X:5 K X Q
"RTN","ECXSCLD",7,0)
 K ZTSAVE S ZTDESC="Gather Clinic stop codes for DSS",ZTRTN="START^ECXSCLD",ZTIO="" D ^%ZTLOAD
"RTN","ECXSCLD",8,0)
 Q
"RTN","ECXSCLD",9,0)
START ; entry point
"RTN","ECXSCLD",10,0)
 S EC=0,ECNT=0 F  S EC=$O(^SC(EC)) Q:'EC  I $D(^(EC,0)) S ECD=^(0),DAT=$G(^("I")) I $P(ECD,U,3)="C" D FIX
"RTN","ECXSCLD",11,0)
 K DIK S DIK="^ECX(728.44,",DIK(1)=".01^B" D ENALL^DIK
"RTN","ECXSCLD",12,0)
 ;S $P(^ECX(728.44,0),U,3,4)=ECL_U_ECNT
"RTN","ECXSCLD",13,0)
 K ZTDESC,EC,J,ECD,ECD2,ECL,ECS,ECS2,ECP
"RTN","ECXSCLD",14,0)
 S ZTREQ="@" Q
"RTN","ECXSCLD",15,0)
 ;
"RTN","ECXSCLD",16,0)
FIX ; get stop codes and default style for feeder key
"RTN","ECXSCLD",17,0)
 ; 1 if no credit stop code - 5 if credit stop code exists
"RTN","ECXSCLD",18,0)
 K ECD2,ECS2 I $D(^ECX(728.44,EC,0)) S ECD2=^(0) F ECS=2,3 S ECS2(ECS)=$P(ECD2,U,ECS)
"RTN","ECXSCLD",19,0)
 S ID=+DAT,RD=$P(DAT,U,2)
"RTN","ECXSCLD",20,0)
 I $D(ECD2) D
"RTN","ECXSCLD",21,0)
 .I ID,ID'>DT I 'RD!(RD>DT) S:$P(ECD2,U,10)'=ID $P(ECD2,U,7)="" S $P(ECD2,U,10)=ID
"RTN","ECXSCLD",22,0)
 .I ID,RD,RD'>DT S:$P(ECD2,U,10) $P(ECD2,U,7)="" S $P(ECD2,U,10)=""
"RTN","ECXSCLD",23,0)
 .I ID,ID>DT S:$P(ECD2,U,10) $P(ECD2,U,7)="" S $P(ECD2,U,10)=""
"RTN","ECXSCLD",24,0)
 .I 'ID,$P(ECD2,U,10) S $P(ECD2,U,7)="",$P(ECD2,U,10)=""
"RTN","ECXSCLD",25,0)
 F ECS=7,18 S ECP=+$P(ECD,U,ECS),ECS(ECS)=$P($G(^DIC(40.7,ECP,0)),U,2)
"RTN","ECXSCLD",26,0)
 S ECDF=$S(ECS(18)]"":5,1:1) S:$P(ECD,U,17)="Y" ECDF=6 S:$G(^SC(EC,"OOS")) ECDF=6
"RTN","ECXSCLD",27,0)
 S ECL=EC,ECD=EC_U_ECS(7)_U_ECS(18)
"RTN","ECXSCLD",28,0)
 I '$D(ECD2) D
"RTN","ECXSCLD",29,0)
 .S $P(^ECX(728.44,EC,0),U,1,5)=ECD_U_ECS(7)_U_ECS(18),ECNT=ECNT+1,$P(^(0),U,6)=ECDF
"RTN","ECXSCLD",30,0)
 I $D(ECD2) D
"RTN","ECXSCLD",31,0)
 .S $P(ECD2,U,1,3)=ECD
"RTN","ECXSCLD",32,0)
 .I +ECS(7)'=+ECS2(2)!(+ECS(18)'=+ECS2(3)) S $P(ECD2,U,7)=""
"RTN","ECXSCLD",33,0)
 .S ^ECX(728.44,EC,0)=ECD2
"RTN","ECXSCLD",34,0)
 Q
"RTN","ECXSCLD",35,0)
 ;
"RTN","ECXSCLD",36,0)
PRINT ; print worksheet for updates
"RTN","ECXSCLD",37,0)
 I '$O(^ECX(728.44,0)) W !,"DSS Clinic stop code file does not exist",!! R X:5 K X Q
"RTN","ECXSCLD",38,0)
 W !!,"This option produces a worksheet of (A)ll DSS Clinic Stops or only the",!,"(U)nreviewed Clinic Stops that are awaiting approval.  Clinics that were"
"RTN","ECXSCLD",39,0)
 W !,"defined as ""inactive"" by MAS the last time the option ""Create DSS Clinic",!,"Stop Code File"" was run will be indicated with an ""*"".",!
"RTN","ECXSCLD",40,0)
 S DIR(0)="S^A:ALL;U:UNREVIEWED",DIR("A")="Enter ""A"" or ""U""",DIR("?",1)="Enter: ""A"" to print a worksheet of all DSS Clinic Stops,",DIR("?")="       ""U"" to print only the Clinic Stops that have not been approved."
"RTN","ECXSCLD",41,0)
 D ^DIR K DIR G END:$D(DIRUT) S ECALL=$E(Y)
"RTN","ECXSCLD",42,0)
 S %ZIS="Q" D ^%ZIS Q:POP
"RTN","ECXSCLD",43,0)
 I $D(IO("Q")) K ZTSAVE S ZTDESC="DSS clinic stop code work sheet",ZTRTN="SPRINT^ECXSCLD",ZTSAVE("ECALL")="" D ^%ZTLOAD,HOME^%ZIS Q
"RTN","ECXSCLD",44,0)
 U IO
"RTN","ECXSCLD",45,0)
SPRINT ; queued entry to print work sheet
"RTN","ECXSCLD",46,0)
 S QFLG=0,$P(LN,"-",81)="",PG=0
"RTN","ECXSCLD",47,0)
 S ECDATE=$O(^ECX(728.44,"A1","")) I ECDATE S ECDATE=-ECDATE,ECDATE=$$FMTE^XLFDT(ECDATE,"5DF"),ECDATE=$TR(ECDATE," ","0")
"RTN","ECXSCLD",48,0)
 K ^TMP("EC",$J) F J=0:0 S J=$O(^ECX(728.44,J)) Q:'J  I $D(^ECX(728.44,J,0)),$S(ECALL="A":1,1:$P(^(0),U,7)="") S ECSD=^(0) I $D(^SC(J,0)) S ECSC=$P(^(0),U),^TMP("EC",$J,ECSC)=$P(ECSD,U,2,200)
"RTN","ECXSCLD",49,0)
 D HEAD S ECSC="" I $O(^TMP("EC",$J,ECSC))="" W !!,"NO DATA FOUND FOR WORKSHEET.",! G END
"RTN","ECXSCLD",50,0)
 F J=1:1 S ECSC=$O(^TMP("EC",$J,ECSC)) Q:ECSC=""  S ECD=^(ECSC) D SHOWEM Q:QFLG
"RTN","ECXSCLD",51,0)
 I $E(IOST)="C",'QFLG D SS
"RTN","ECXSCLD",52,0)
 K ^TMP("EC",$J),J,ECSC,ECSD,ECDATE,QFLG,PG,LN,SS
"RTN","ECXSCLD",53,0)
 W:$Y @IOF D ^%ZISC S ZTREQ="@"
"RTN","ECXSCLD",54,0)
 Q
"RTN","ECXSCLD",55,0)
 ;
"RTN","ECXSCLD",56,0)
HEAD ; header for worksheet
"RTN","ECXSCLD",57,0)
 D SS Q:QFLG
"RTN","ECXSCLD",58,0)
 S PG=PG+1 W:$Y!($E(IOST)="C") @IOF W !,"WORKSHEET FOR DSS CLINIC STOPS",?72,"Page: ",PG
"RTN","ECXSCLD",59,0)
 I ECDATE]"" W !,"(last reviewed on ",ECDATE,")"
"RTN","ECXSCLD",60,0)
 E  W !,"(NEVER REVIEWED)"
"RTN","ECXSCLD",61,0)
 W !
"RTN","ECXSCLD",62,0)
 W !!,?1,"CLINIC",?33,"STOP",?40,"CREDIT",?49,"DSS",?56,"DSS",?65,"ACTION",?73,"NAT'L"
"RTN","ECXSCLD",63,0)
 W !,?33,"CODE",?40,"STOP",?49,"STOP",?56,"CREDIT",?73,"CODE",!,?1,"(* - currently inactive)",?40,"CODE",?49,"CODE",?56,"CODE",!,LN Q
"RTN","ECXSCLD",64,0)
 ;
"RTN","ECXSCLD",65,0)
SHOWEM ; list clinics for worksheet
"RTN","ECXSCLD",66,0)
 I $Y+4>IOSL D HEAD Q:QFLG
"RTN","ECXSCLD",67,0)
 W !!,$E(ECSC,1,30) W:$P(ECD,U,9)]"" "*" F J=1:1:5 W ?$P("33,40,49,56,68",",",J),$S($P(ECD,U,J):$P(ECD,U,J),J<3:"",1:"_____")
"RTN","ECXSCLD",68,0)
 S ECN=$P($G(^ECX(728.441,+$P(ECD,U,7),0)),U) W ?73,$S(ECN]"":ECN,1:"____")
"RTN","ECXSCLD",69,0)
 Q
"RTN","ECXSCLD",70,0)
SS ;SCROLL STOPS
"RTN","ECXSCLD",71,0)
 I $E(IOST)="C" S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXSCLD",72,0)
 I $E(IOST)="C",PG>0 S DIR(0)="E" W ! D ^DIR K DIR I 'Y S QFLG=1 Q
"RTN","ECXSCLD",73,0)
 Q
"RTN","ECXSCLD",74,0)
 ;
"RTN","ECXSCLD",75,0)
EDIT ; put in DSS stopcodes and which one to send
"RTN","ECXSCLD",76,0)
 N DIC,DIE,DR,DA,DIRUT,DTOUT,DUOUT,DIROUT,X,Y,OLDS,OLDC,STOP,CREDIT,OUT
"RTN","ECXSCLD",77,0)
 S OUT=0
"RTN","ECXSCLD",78,0)
 F  D  Q:OUT  ;update dss data in file #728.44
"RTN","ECXSCLD",79,0)
 .S (STOP,CREDIT,CLINIC)="" K DIRUT,DIR
"RTN","ECXSCLD",80,0)
 .;select clinic
"RTN","ECXSCLD",81,0)
 .W ! S DIC=728.44,DIC(0)="QEAMZ" D ^DIC
"RTN","ECXSCLD",82,0)
 .I ($D(DTOUT))!($D(DUOUT))!(X="") S OUT=1 Q
"RTN","ECXSCLD",83,0)
 .S CLINIC=+Y
"RTN","ECXSCLD",84,0)
 .S OLDS=$P(Y(0),U,4),OLDC=$P(Y(0),U,5)
"RTN","ECXSCLD",85,0)
 .W !!?5,"STOP CODE:     ",$P(Y(0),U,2),?30,"CREDIT STOP CODE:     ",$P(Y(0),U,3)
"RTN","ECXSCLD",86,0)
 .W !?5,"DSS STOP CODE: ",OLDS,?30,"DSS CREDIT STOP CODE: ",OLDC
"RTN","ECXSCLD",87,0)
 .;set stop code for clinic
"RTN","ECXSCLD",88,0)
 .W !!,"DSS Stop Code must be an active Stop Code from the"
"RTN","ECXSCLD",89,0)
 .W !,"CLINIC STOP file (#40.7).",!
"RTN","ECXSCLD",90,0)
 .S DIR(0)="P^40.7:EMZ",DIR("A")="Select DSS Stop Code"
"RTN","ECXSCLD",91,0)
 .S DIR("S")="I +$P(^DIC(40.7,+Y,0),U,3)'>0"
"RTN","ECXSCLD",92,0)
 .S DIR("?",1)="Inactive Stop Codes cannot be selected."
"RTN","ECXSCLD",93,0)
 .S DIR("?")="Select a Stop Code by NAME or by AMIS REPORTING STOP CODE."
"RTN","ECXSCLD",94,0)
 .D ^DIR
"RTN","ECXSCLD",95,0)
 .I $D(DTOUT)!($D(DIROUT)) S OUT=1 Q
"RTN","ECXSCLD",96,0)
 .I '$D(DIRUT) D
"RTN","ECXSCLD",97,0)
 ..S STOP=+Y I STOP D
"RTN","ECXSCLD",98,0)
 ...W !?5,"Updating..."
"RTN","ECXSCLD",99,0)
 ...S DIC="^DIC(40.7,",DA=STOP,DIQ(0)="E",DIQ="ARR",DR="1" D EN^DIQ1
"RTN","ECXSCLD",100,0)
 ...S STOP=ARR(40.7,STOP,1,"E")
"RTN","ECXSCLD",101,0)
 ...S DIE="^ECX(728.44,",DA=CLINIC,DR="3///"_STOP_";6///"_DT D ^DIE
"RTN","ECXSCLD",102,0)
 .;set credit stop for clinic
"RTN","ECXSCLD",103,0)
 .W !
"RTN","ECXSCLD",104,0)
 .K DIRUT,DIR
"RTN","ECXSCLD",105,0)
 .S DIR(0)="SA^E:EDIT;D:DELETE"
"RTN","ECXSCLD",106,0)
 .S DIR("A",1)="You may choose to Edit or Delete the DSS Credit Stop Code."
"RTN","ECXSCLD",107,0)
 .S DIR("A",2)=" "
"RTN","ECXSCLD",108,0)
 .S DIR("A")="Select E(dit) or D(elete): "
"RTN","ECXSCLD",109,0)
 .S DIR("B")="E"
"RTN","ECXSCLD",110,0)
 .D ^DIR S ECXY=Y
"RTN","ECXSCLD",111,0)
 .I $D(DTOUT)!($D(DIROUT)) S OUT=1 Q
"RTN","ECXSCLD",112,0)
 .I ECXY="E" D
"RTN","ECXSCLD",113,0)
 ..K DIRUT,DIR
"RTN","ECXSCLD",114,0)
 ..W !!,"DSS Credit Stop Code must be an active Stop Code from the"
"RTN","ECXSCLD",115,0)
 ..W !,"CLINIC STOP file (#40.7).",!
"RTN","ECXSCLD",116,0)
 ..S DIR(0)="P^40.7:EMZ",DIR("A")="Select DSS Credit Stop Code"
"RTN","ECXSCLD",117,0)
 ..S DIR("S")="I +$P(^DIC(40.7,+Y,0),U,3)'>0"
"RTN","ECXSCLD",118,0)
 ..S DIR("?",1)="Inactive Stop Codes cannot be selected."
"RTN","ECXSCLD",119,0)
 ..S DIR("?")="Select a Stop Code by NAME or by AMIS REPORTING STOP CODE."
"RTN","ECXSCLD",120,0)
 ..D ^DIR
"RTN","ECXSCLD",121,0)
 ..I $D(DTOUT)!($D(DIROUT)) S OUT=1 Q
"RTN","ECXSCLD",122,0)
 ..I '$D(DIRUT) D
"RTN","ECXSCLD",123,0)
 ...S CREDIT=+Y I CREDIT D
"RTN","ECXSCLD",124,0)
 ....W !?5,"Updating..."
"RTN","ECXSCLD",125,0)
 ....S DIC="^DIC(40.7,",DA=CREDIT,DIQ(0)="E",DIQ="ARR",DR="1" D EN^DIQ1
"RTN","ECXSCLD",126,0)
 ....S CREDIT=ARR(40.7,CREDIT,1,"E")
"RTN","ECXSCLD",127,0)
 ....S DIE="^ECX(728.44,",DA=CLINIC,DR="4///"_CREDIT_";6///"_DT D ^DIE
"RTN","ECXSCLD",128,0)
 .I ECXY="D" D
"RTN","ECXSCLD",129,0)
 ..W !?5,"Deleting..."
"RTN","ECXSCLD",130,0)
 ..S DIE="^ECX(728.44,",DA=CLINIC,DR="4///@;6///"_DT D ^DIE
"RTN","ECXSCLD",131,0)
 .;set other data
"RTN","ECXSCLD",132,0)
 .W !
"RTN","ECXSCLD",133,0)
 .K DIRUT
"RTN","ECXSCLD",134,0)
 .S DIE="^ECX(728.44,",DA=CLINIC,DR="5;S:X'=4 Y=6;7;6///"_DT_";8" D ^DIE
"RTN","ECXSCLD",135,0)
 .;update review date in case user up-arrowed out of last ^die call
"RTN","ECXSCLD",136,0)
 .S DIE="^ECX(728.44,",DA=CLINIC,DR="6///"_DT D ^DIE
"RTN","ECXSCLD",137,0)
 .K DA,DIC,DIE,DR,DIR,X,Y,DIRUT
"RTN","ECXSCLD",138,0)
 Q
"RTN","ECXSCLD",139,0)
APPROVE ; approve current DSS Stop and Credit Stop codes
"RTN","ECXSCLD",140,0)
 W !!,"This option allows you to mark the current clinic entries in the CLINICS AND",!,"STOP CODES file (#728.44) as ""reviewed"".  Those entries will then be omitted"
"RTN","ECXSCLD",141,0)
 W !,"from the list printed from the ""Clinic and DSS Stop Codes Print"" when you",!,"choose to print only ""unreviewed"" clinics.",!
"RTN","ECXSCLD",142,0)
 K DIR S DIR(0)="Y",DIR("A",1)="Are you ready to approve the reviewed information provided by the",DIR("A")="""Clinic and DSS Stop Codes Print""",DIR("B")="NO"
"RTN","ECXSCLD",143,0)
 S DIR("?",1)="   Enter:"
"RTN","ECXSCLD",144,0)
 S DIR("?",2)="     ""YES"" if you concur with the ""Clinic and DSS Stop Codes Print"","
"RTN","ECXSCLD",145,0)
 S DIR("?",3)="     ""NO"" or <RET> if you do not want to approve the current information,"
"RTN","ECXSCLD",146,0)
 S DIR("?")="     ""^"" to exit option."
"RTN","ECXSCLD",147,0)
 D ^DIR K DIR I 'Y!($D(DIRUT)) G END
"RTN","ECXSCLD",148,0)
 W ! S ZTRTN="APPLOOP^ECXSCLD",ZTIO="",ZTDESC="Approve DSS stop codes for clinic extract" D ^%ZTLOAD W !!,"...approval queued" G END
"RTN","ECXSCLD",149,0)
 ;
"RTN","ECXSCLD",150,0)
APPLOOP ; queued entry to approve action codes
"RTN","ECXSCLD",151,0)
 F EC=0:0 S EC=$O(^ECX(728.44,EC)) Q:'EC  I $D(^(EC,0)) S DA=EC,DIE="^ECX(728.44,",DR="6///"_DT D ^DIE
"RTN","ECXSCLD",152,0)
 S ZTREQ="@" G END
"RTN","ECXSCLD",153,0)
END K X,Y,DA,DR,DIC,DIE,QFLG,PG,LN
"RTN","ECXSCLD",154,0)
 Q
"RTN","ECXSCLD",155,0)
 ;
"RTN","ECXSCLD",156,0)
LOOK ;queued entry to check for new clinics
"RTN","ECXSCLD",157,0)
 S ECD=$E(DT,1,5)-1-($E(DT,4,5)="01"*8800),ECD0=ECD_"00",ECXMISS=10,ECGRP="SCX" K ^TMP("ECXS",$J)
"RTN","ECXSCLD",158,0)
 F EC=0:0 S EC=$O(^SC(EC)) Q:'EC  I $D(^(EC,0)),$P(^(0),U,3)="C",'$D(^ECX(728.44,EC)) S DAT=$G(^SC(EC,"I")) D
"RTN","ECXSCLD",159,0)
 .S ID=+DAT,RD=$P(DAT,U,2) I ID,ID<DT I 'RD!(RD>DT) Q
"RTN","ECXSCLD",160,0)
 .S ^TMP("ECXS",$J,ECXMISS,0)=$J(EC,6)_"    "_$$LJ^XLFSTR($P(^SC(EC,0),U),40),ECXMISS=ECXMISS+1
"RTN","ECXSCLD",161,0)
 D ^ECXSCX1
"RTN","ECXSCLD",162,0)
 Q
"RTN","ECXSCNS")
0^24^B15587168
"RTN","ECXSCNS",1,0)
ECXSCNS ;ALB/JAP,BIR/DMA,PTD-No Show Clinic Extract ; [ 11/22/96  5:48 PM ]
"RTN","ECXSCNS",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,13,20,24**;Dec 22, 1997
"RTN","ECXSCNS",3,0)
BEG ;entry point from option
"RTN","ECXSCNS",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXSCNS",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXSCNS",6,0)
 Q
"RTN","ECXSCNS",7,0)
 ;
"RTN","ECXSCNS",8,0)
START ;start package specific extract
"RTN","ECXSCNS",9,0)
 N DIC,DA,DIQ,SC,ECD,ECDA,LOCARR,X,Y
"RTN","ECXSCNS",10,0)
 S QFLG=0
"RTN","ECXSCNS",11,0)
 S ECED=ECED+.3
"RTN","ECXSCNS",12,0)
 S SC=0
"RTN","ECXSCNS",13,0)
 F  S SC=$O(^SC(SC)) Q:('SC)!(QFLG)  I $D(^(SC,0)) S EC=^(0) I $P(EC,U,3)="C" D  Q:QFLG
"RTN","ECXSCNS",14,0)
 .S ECXDIV=$P(EC,U,15)
"RTN","ECXSCNS",15,0)
 .D FEEDER^ECXSCX1(SC,ECSD1,.ECXP1,.ECXP2,.ECXP3,.ECXSEND)
"RTN","ECXSCNS",16,0)
 .Q:ECXSEND=6
"RTN","ECXSCNS",17,0)
 .S ECXDSS=ECXP1_ECXP2,ECXDSSD=""
"RTN","ECXSCNS",18,0)
 .;get default provider for clinic
"RTN","ECXSCNS",19,0)
 .S (ECXPROV,ECXPROVP,ECXPROVN)=""
"RTN","ECXSCNS",20,0)
 .K LOCARR S DIC=44,DA=SC,DR="16",DIQ(0)="I",DIQ="LOCARR" D EN^DIQ1
"RTN","ECXSCNS",21,0)
 .S ECXPROV=LOCARR(44,SC,16,"I") I ECXPROV D
"RTN","ECXSCNS",22,0)
 ..S ECXPROVP=$$PRVCLASS^ECXUTL(ECXPROV,ECSD1),ECXPROVN=""
"RTN","ECXSCNS",23,0)
 ..S ECXPROV="2"_ECXPROV
"RTN","ECXSCNS",24,0)
 .;find appts in date range
"RTN","ECXSCNS",25,0)
 .S ECD=ECSD1
"RTN","ECXSCNS",26,0)
 .F  S ECD=$O(^SC(SC,"S",ECD)) Q:'ECD  Q:ECD>ECED  D  Q:QFLG
"RTN","ECXSCNS",27,0)
 ..S ECDA=0
"RTN","ECXSCNS",28,0)
 ..;get noshows only - no data in check-in/check-out node
"RTN","ECXSCNS",29,0)
 ..F  S ECDA=$O(^SC(SC,"S",ECD,1,ECDA)) Q:'ECDA  I $D(^(ECDA,0)),$S('$D(^("C")):1,1:^("C")="") D
"RTN","ECXSCNS",30,0)
 ...S ECXDFN=$P(^SC(SC,"S",ECD,1,ECDA,0),U),ECXDATE=ECD,ECXERR=0
"RTN","ECXSCNS",31,0)
 ...I $D(^DPT(ECXDFN,"S",ECD,0)) D
"RTN","ECXSCNS",32,0)
 ....Q:$P(^DPT(ECXDFN,"S",ECD,0),U)'=SC  Q:$P(^(0),U,2)'["N"
"RTN","ECXSCNS",33,0)
 ....D PAT(ECXDFN,ECXDATE,.ECXERR)
"RTN","ECXSCNS",34,0)
 ....Q:ECXERR
"RTN","ECXSCNS",35,0)
 ....;log noshows only for outpatients
"RTN","ECXSCNS",36,0)
 ....I ECXA=1 D FILE
"RTN","ECXSCNS",37,0)
 Q
"RTN","ECXSCNS",38,0)
 ;
"RTN","ECXSCNS",39,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;Determine in/outpatient status, movement number, primary care team and provider.
"RTN","ECXSCNS",40,0)
 N OK,X
"RTN","ECXSCNS",41,0)
 K ECXPAT
"RTN","ECXSCNS",42,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;2;3;5",.ECXPAT)
"RTN","ECXSCNS",43,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXSCNS",44,0)
 S ECXSSN=ECXPAT("SSN")
"RTN","ECXSCNS",45,0)
 S ECXPNM=ECXPAT("NAME")
"RTN","ECXSCNS",46,0)
 S ECXMPI=ECXPAT("MPI")
"RTN","ECXSCNS",47,0)
 S ECXSEX=ECXPAT("SEX")
"RTN","ECXSCNS",48,0)
 S ECXDOB=ECXPAT("DOB")
"RTN","ECXSCNS",49,0)
 S ECXELIG=ECXPAT("ELIG")
"RTN","ECXSCNS",50,0)
 S ECXVET=ECXPAT("VET")
"RTN","ECXSCNS",51,0)
 S ECXRACE=ECXPAT("RACE")
"RTN","ECXSCNS",52,0)
 S ECXPST=ECXPAT("POW STAT")
"RTN","ECXSCNS",53,0)
 S ECXPLOC=ECXPAT("POW LOC")
"RTN","ECXSCNS",54,0)
 S ECXRST=ECXPAT("IR STAT")
"RTN","ECXSCNS",55,0)
 S ECXAST=ECXPAT("AO STAT")
"RTN","ECXSCNS",56,0)
 S ECXMST=ECXPAT("MST STAT")
"RTN","ECXSCNS",57,0)
 S ECXSTATE=ECXPAT("STATE")
"RTN","ECXSCNS",58,0)
 S ECXCNTY=ECXPAT("COUNTY")
"RTN","ECXSCNS",59,0)
 S ECXZIP=ECXPAT("ZIP")
"RTN","ECXSCNS",60,0)
 S ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXSCNS",61,0)
 ;get inpatient data
"RTN","ECXSCNS",62,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXSCNS",63,0)
 S ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3)
"RTN","ECXSCNS",64,0)
 ;get primary care data
"RTN","ECXSCNS",65,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXSCNS",66,0)
 S ECPTTM=$P(X,U,1)
"RTN","ECXSCNS",67,0)
 S ECPTPR=$P(X,U,2)
"RTN","ECXSCNS",68,0)
 S ECCLAS=$P(X,U,3)
"RTN","ECXSCNS",69,0)
 S ECPTNPI=$P(X,U,4)
"RTN","ECXSCNS",70,0)
 S ECASPR=$P(X,U,5)
"RTN","ECXSCNS",71,0)
 S ECCLAS2=$P(X,U,6)
"RTN","ECXSCNS",72,0)
 S ECASNPI=$P(X,U,7)
"RTN","ECXSCNS",73,0)
 ;get sharing agreement data
"RTN","ECXSCNS",74,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXSCNS",75,0)
 D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXSCNS",76,0)
 Q
"RTN","ECXSCNS",77,0)
 ;
"RTN","ECXSCNS",78,0)
FILE ;file record
"RTN","ECXSCNS",79,0)
 ;node0
"RTN","ECXSCNS",80,0)
 ;fac^dfn^ssn^name^in/out^day^^mov #^treat spec^dob^elig^vet^time^primary care team^primary care provider^provider^race^dss identifier
"RTN","ECXSCNS",81,0)
 ;node1
"RTN","ECXSCNS",82,0)
 ;mpi^dss dept^pc provider npi^provider npi^pc prov person class^provider person class^pow status^pow loc^ir status^ao status
"RTN","ECXSCNS",83,0)
 ;sharing agree payor^sharing agree ins^mst status^enroll loc^state^county^zip^sex^assoc pc prov^assoc pc prov person class^assoc pc prov npi
"RTN","ECXSCNS",84,0)
 N DA,DIK
"RTN","ECXSCNS",85,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXSCNS",86,0)
 S ECODE=EC7_U_EC23
"RTN","ECXSCNS",87,0)
 S ECODE=ECODE_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)
"RTN","ECXSCNS",88,0)
 S ECODE=ECODE_U_U_ECXMN_U_ECXTS_U_ECXDOB_U_ECXELIG_U_ECXVET_U_$$ECXTIME^ECXUTL(ECXDATE)_U_ECPTTM_U_ECPTPR_U_ECXPROV_U_ECXRACE_U_ECXDSS
"RTN","ECXSCNS",89,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECPTNPI_U_ECXPROVN_U_ECCLAS_U_ECXPROVP_U_ECXPST_U_ECXPLOC_U_ECXRST_U_ECXAST
"RTN","ECXSCNS",90,0)
 S ECODE1=ECODE1_U_ECXPAYOR_U_ECXSAI_U_ECXMST_U_ECXENRL_U_ECXSTATE_U_ECXCNTY_U_ECXZIP_U_ECXSEX_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXSCNS",91,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXSCNS",92,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXSCNS",93,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSCNS",94,0)
 Q
"RTN","ECXSCNS",95,0)
 ;
"RTN","ECXSCNS",96,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXSCNS",97,0)
 S ECHEAD="NOS"
"RTN","ECXSCNS",98,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXSCNS",99,0)
 Q
"RTN","ECXSCNS",100,0)
 ;
"RTN","ECXSCNS",101,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXSCNS",102,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXSCX1")
0^25^B43864831
"RTN","ECXSCX1",1,0)
ECXSCX1 ;ALB/JAP,BIR/DMA-Clinic Extract Message ; 20 Mar 95 / 11:10 AM [ 12/03/96  1:32 PM ]
"RTN","ECXSCX1",2,0)
 ;;3.0;DSS EXTRACTS;**8,28,24**;Dec 22, 1997
"RTN","ECXSCX1",3,0)
EN ;entry point from ecxscx
"RTN","ECXSCX1",4,0)
 N ECX
"RTN","ECXSCX1",5,0)
 S ECX=$O(^TMP($J,"ECXS",0)) Q:ECX=""
"RTN","ECXSCX1",6,0)
 S XMSUB="MISSING CLINICS",XMDUZ="DSS SYSTEM"
"RTN","ECXSCX1",7,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXSCX1",8,0)
 F ECX=1:1:6 S ^TMP($J,"ECXS",ECX,0)=$P($T(MSG+ECX),";",3,300)
"RTN","ECXSCX1",9,0)
 S XMTEXT="^TMP($J,""ECXS""," D ^XMD K ^TMP($J,"ECXS")
"RTN","ECXSCX1",10,0)
 Q
"RTN","ECXSCX1",11,0)
MSG ;Text for the leading lines of the missing clinic messages
"RTN","ECXSCX1",12,0)
 ;;The following clinics have not been entered into the CLINIC AND
"RTN","ECXSCX1",13,0)
 ;;STOP CODES file (#728.44).  If any listed clinic is currently
"RTN","ECXSCX1",14,0)
 ;;active, please use the options 'Create DSS Clinic Stop Code File'
"RTN","ECXSCX1",15,0)
 ;;and 'Enter/Edit DSS Stop Codes for Clinics' to update this file.
"RTN","ECXSCX1",16,0)
 ;; 
"RTN","ECXSCX1",17,0)
 ;
"RTN","ECXSCX1",18,0)
MISS ;load ^TMP for clinics missing from 728.44
"RTN","ECXSCX1",19,0)
 Q:'$O(^SC(SC,"S",ECSD1))  S DAT=$G(^SC(SC,"I")) I DAT]"" S ID=+DAT,RD=$P(DAT,U,2) I ID,ID<DT I 'RD!(RD>DT) Q
"RTN","ECXSCX1",20,0)
 ; no missing messages for inactive clinics
"RTN","ECXSCX1",21,0)
 I '$D(ECXMISS) S ECXMISS=10
"RTN","ECXSCX1",22,0)
 S ^TMP($J,"ECXS",ECXMISS,0)=$J(SC,6)_"    "_$$LJ^XLFSTR($P(^SC(SC,0),U),40)_ECSC_"/"_ECCSC,ECXMISS=ECXMISS+1
"RTN","ECXSCX1",23,0)
 Q
"RTN","ECXSCX1",24,0)
 ;
"RTN","ECXSCX1",25,0)
FEEDER(ECXSC,ECXSD,ECXP1,ECXP2,ECXP3,ECXSEND) ;get transmission style and feeder key variables
"RTN","ECXSCX1",26,0)
 ;feeder key is primary stop code_secondary stop code_length of appointment_national clinic code_noshow indicator
"RTN","ECXSCX1",27,0)
 ;   input
"RTN","ECXSCX1",28,0)
 ;   ECXSCX = ien of clinic in file #44 (required)
"RTN","ECXSCX1",29,0)
 ;   ECXSD  = start date of extract date range (required)
"RTN","ECXSCX1",30,0)
 ;   ECXP1,ECXP2,ECXP3,ECXSEND passed by reference (required)
"RTN","ECXSCX1",31,0)
 ;   output (passed-by-reference variables)
"RTN","ECXSCX1",32,0)
 ;   ECXP1  = primary stop code
"RTN","ECXSCX1",33,0)
 ;   ECXP2  = secondary stop code
"RTN","ECXSCX1",34,0)
 ;   ECXP3  = field #7 of file #728.44
"RTN","ECXSCX1",35,0)
 ;   ECXSEND = field #5 of file #728.44
"RTN","ECXSCX1",36,0)
 N ECSC,ECCSC,SC,ECSD1,ECXNC,ECXMISS
"RTN","ECXSCX1",37,0)
 S (ECXP1,ECXP2)="000",ECXP3="0000"
"RTN","ECXSCX1",38,0)
 S ECXSEND=1
"RTN","ECXSCX1",39,0)
 I '$D(^ECX(728.44,ECXSC,0)) D  Q
"RTN","ECXSCX1",40,0)
 .S ECSC=+$P($G(^SC(ECXSC,0)),U,7),ECCSC=+$P(^(0),U,18)
"RTN","ECXSCX1",41,0)
 .S SC=ECXSC,ECSD1=ECXSD D MISS^ECXSCX1
"RTN","ECXSCX1",42,0)
 .I ECSC S ECXP1=$P($G(^DIC(40.7,ECSC,0)),U,2),ECXP1=$$RJ^XLFSTR(+ECXP1,3,0)
"RTN","ECXSCX1",43,0)
 S EC=$G(^ECX(728.44,ECXSC,0)) Q:EC=""
"RTN","ECXSCX1",44,0)
 S ECXSEND=$P(EC,U,6)
"RTN","ECXSCX1",45,0)
 Q:ECXSEND=6
"RTN","ECXSCX1",46,0)
 S ECSC=+$P(EC,U,4),ECCSC=+$P(EC,U,5)
"RTN","ECXSCX1",47,0)
 I 'ECSC S ECSC=+$P(EC,U,2),ECCSC=+$P(EC,U,3)
"RTN","ECXSCX1",48,0)
 I ECSC S ECXP1=$$RJ^XLFSTR(ECSC,3,0),ECXP2=$$RJ^XLFSTR(ECCSC,3,0)
"RTN","ECXSCX1",49,0)
 I 'ECSC D
"RTN","ECXSCX1",50,0)
 .S ECSC=+$P($G(^SC(ECXSC,0)),U,7),ECCSC=+$P($G(^(0)),U,18) I ECSC D
"RTN","ECXSCX1",51,0)
 ..S ECXP1=+$P($G(^DIC(40.7,ECSC,0)),U,2) S:ECCSC ECXP2=+$P($G(^DIC(40.7,ECCSC,0)),U,2)
"RTN","ECXSCX1",52,0)
 ..S ECXP1=$$RJ^XLFSTR(ECXP1,3,0),ECXP2=$$RJ^XLFSTR(ECXP2,3,0)
"RTN","ECXSCX1",53,0)
 ;for action code=1, secondary stop code is always "000"
"RTN","ECXSCX1",54,0)
 I ECXSEND=1 S ECXP2="000" Q
"RTN","ECXSCX1",55,0)
 ;action code of 2 or 3 should not be used, but continue to follow v2t11 logic
"RTN","ECXSCX1",56,0)
 I ECXSEND=2 S ECXP1=ECXP2,ECXP2="000" Q
"RTN","ECXSCX1",57,0)
 I ECXSEND=3 Q
"RTN","ECXSCX1",58,0)
 ;for action code=4, need to get national clinic code
"RTN","ECXSCX1",59,0)
 I ECXSEND=4 D
"RTN","ECXSCX1",60,0)
 .S ECXNC=+$P($G(^ECX(728.44,ECXSC,0)),U,8)
"RTN","ECXSCX1",61,0)
 .I ECXNC S ECXNC=$P($G(^ECX(728.441,ECXNC,0)),U),ECXP3=$$RJ^XLFSTR(ECXNC,4,0)
"RTN","ECXSCX1",62,0)
 Q
"RTN","ECXSCX1",63,0)
 ;
"RTN","ECXSCX1",64,0)
CLINII(ECXRECS,ECXED) ;update file #727.818 0-node & file #728 for CLJ
"RTN","ECXSCX1",65,0)
 ;input ECXRECS = total # records created in file #727.818
"RTN","ECXSCX1",66,0)
 ;      ECXED   = end date for extract
"RTN","ECXSCX1",67,0)
 N HEAD,PACK,GROUP,FILE,ROUTINE,PIECE,VERSION,LAST,TOTAL
"RTN","ECXSCX1",68,0)
 S HEAD="CLJ"
"RTN","ECXSCX1",69,0)
 D ECXDEF^ECXUTL2(HEAD,.PACK,.GROUP,.FILE,.ROUTINE,.PIECE,.VERSION)
"RTN","ECXSCX1",70,0)
 S LAST=$O(^ECX(FILE,99999999),-1)
"RTN","ECXSCX1",71,0)
 S TOTAL=$P(^ECX(FILE,0),U,4)+ECXRECS
"RTN","ECXSCX1",72,0)
 S $P(^ECX(FILE,0),U,3,4)=LAST_U_TOTAL
"RTN","ECXSCX1",73,0)
 S $P(^ECX(728,1,7),U,PIECE)=ECXED
"RTN","ECXSCX1",74,0)
 S $P(^ECX(728,1,7.1),U,PIECE)=""
"RTN","ECXSCX1",75,0)
 Q
"RTN","ECXSCX1",76,0)
 ;
"RTN","ECXSCX1",77,0)
VISIT(ECXDFN,ECXVISIT,ECXVIST,ECXERR) ;get visit specific data
"RTN","ECXSCX1",78,0)
 ;input  ECXVISIT  = pointer to file #9000010
"RTN","ECXSCX1",79,0)
 ;       ECXSVC  = sc percentage
"RTN","ECXSCX1",80,0)
 ;output ECXVSIT = data array
"RTN","ECXSCX1",81,0)
 ;       ECXERR  = 1 indicates error; otherwise, 0 
"RTN","ECXSCX1",82,0)
 N DIC,DA,DIQ,X,Y,ARRAY,VISIT,REC,VAL,ICD9,DATE,PROV,CPT,MOD,AO,IR,MST
"RTN","ECXSCX1",83,0)
 S ECXERR=0,VISIT=ECXVISIT
"RTN","ECXSCX1",84,0)
 S ECXVIST("CPT")="",ECXVIST("ICD9")="",ECXVIST("AO")="",ECXVIST("IR")="",ECXVIST("MST")=""
"RTN","ECXSCX1",85,0)
 S ECXVIST("PROV")="",ECXVIST("PROV CLASS")="",ECXVIST("PROV NPI")="",ECXVIST("SOURCE")=""
"RTN","ECXSCX1",86,0)
 D ENCEVENT^PXAPI(VISIT)
"RTN","ECXSCX1",87,0)
 I $O(^TMP("PXKENC",$J,VISIT,""))']"" K ECXVIST S ECXERR=1
"RTN","ECXSCX1",88,0)
 Q:ECXERR
"RTN","ECXSCX1",89,0)
 S DATE=$P($P(^TMP("PXKENC",$J,VISIT,"VST",VISIT,0),U,1),".",1)
"RTN","ECXSCX1",90,0)
 S ECXVIST("SOURCE")=$P(^TMP("PXKENC",$J,VISIT,"VST",VISIT,812),U,3)
"RTN","ECXSCX1",91,0)
 ;get icd9 codes upto 9; else use 799.9
"RTN","ECXSCX1",92,0)
 S ECXVIST("ICD9")=""
"RTN","ECXSCX1",93,0)
 I $O(^TMP("PXKENC",$J,VISIT,"POV",0)) D
"RTN","ECXSCX1",94,0)
 .S (REC,VAL)=0
"RTN","ECXSCX1",95,0)
 .F  S REC=$O(^TMP("PXKENC",$J,VISIT,"POV",REC)) Q:'REC  D
"RTN","ECXSCX1",96,0)
 ..S VAL=+^TMP("PXKENC",$J,VISIT,"POV",REC,0)
"RTN","ECXSCX1",97,0)
 ..Q:'VAL
"RTN","ECXSCX1",98,0)
 ..K ARRAY S DIC=80,DA=VAL,DR=".01",DIQ(0)="E",DIQ="ARRAY" D EN^DIQ1
"RTN","ECXSCX1",99,0)
 ..S ICD9=ARRAY(80,VAL,.01,"E"),LEN=$L(ICD9)
"RTN","ECXSCX1",100,0)
 ..F L=LEN+1:1:7 S ICD9=ICD9_" "
"RTN","ECXSCX1",101,0)
 ..I $P(^TMP("PXKENC",$J,VISIT,"POV",REC,0),U,12)="P" S ECXVIST("ICD9")=ICD9_ECXVIST("ICD9")
"RTN","ECXSCX1",102,0)
 ..E  S ECXVIST("ICD9")=ECXVIST("ICD9")_ICD9
"RTN","ECXSCX1",103,0)
 I ECXVIST("ICD9")="" S ECXVIST("ICD9")="799.9  "
"RTN","ECXSCX1",104,0)
 I $L(ECXVIST("ICD9"))<63 S LEN=$L(ECXVIST("ICD9")) F L=LEN+1:1:63 S ECXVIST("ICD9")=ECXVIST("ICD9")_" "
"RTN","ECXSCX1",105,0)
 S ECXVIST("ICD9")=$E(ECXVIST("ICD9"),1,63)
"RTN","ECXSCX1",106,0)
 ;get first provider designated as primary
"RTN","ECXSCX1",107,0)
 ;if no primary, then get first physician provider
"RTN","ECXSCX1",108,0)
 ;if no physician, then get first provider
"RTN","ECXSCX1",109,0)
 S (PROV,PROVPC)=""
"RTN","ECXSCX1",110,0)
 I $O(^TMP("PXKENC",$J,VISIT,"PRV",0)) D
"RTN","ECXSCX1",111,0)
 .S (REC,VAL)=0 D
"RTN","ECXSCX1",112,0)
 ..F  S REC=$O(^TMP("PXKENC",$J,VISIT,"PRV",REC)) Q:'REC  Q:VAL  S:($P(^(REC,0),U,4)="P") VAL=+^(0) D
"RTN","ECXSCX1",113,0)
 ..S PROV=VAL,PROVPC=$$PRVCLASS^ECXUTL(PROV,DATE)
"RTN","ECXSCX1",114,0)
 .I 'VAL S (REC,VAL)=0 D
"RTN","ECXSCX1",115,0)
 ..F  S REC=$O(^TMP("PXKENC",$J,VISIT,"PRV",REC)) Q:'REC  Q:VAL  S VAL=+^(REC,0) D
"RTN","ECXSCX1",116,0)
 ...S PROV=VAL,PROVPC=$$PRVCLASS^ECXUTL(PROV,DATE) Q:PROVPC=""
"RTN","ECXSCX1",117,0)
 ...S NUM=$E(PROVPC,2,7) S:(NUM<110000)!(NUM>119999) VAL=0,PROVPC=""
"RTN","ECXSCX1",118,0)
 .I 'VAL D
"RTN","ECXSCX1",119,0)
 ..S REC=$O(^TMP("PXKENC",$J,VISIT,"PRV",0)) Q:'REC  Q:VAL  S VAL=+^(REC,0) D
"RTN","ECXSCX1",120,0)
 ...S PROV=VAL,PROVPC=$$PRVCLASS^ECXUTL(PROV,DATE)
"RTN","ECXSCX1",121,0)
 .S:PROV]"" PROV="2"_PROV
"RTN","ECXSCX1",122,0)
 S ECXVIST("PROV")=PROV,ECXVIST("PROV CLASS")=PROVPC,ECXVIST("PROV NPI")=""
"RTN","ECXSCX1",123,0)
 ;get cpt codes upto 8 & modifiers upto 5
"RTN","ECXSCX1",124,0)
 I $O(^TMP("PXKENC",$J,VISIT,"CPT",0)) D
"RTN","ECXSCX1",125,0)
 .S REC="",ECXVIST("CPT")=""
"RTN","ECXSCX1",126,0)
 .;if there's a primary provider, get cpt codes associated with that provider
"RTN","ECXSCX1",127,0)
 .I ECXVIST("PROV")]"" D
"RTN","ECXSCX1",128,0)
 ..S PROV=$E(ECXVIST("PROV"),2,99)
"RTN","ECXSCX1",129,0)
 ..F  S REC=$O(^TMP("PXKENC",$J,VISIT,"CPT",REC)) Q:'REC  S (CPT,MOD)="" D
"RTN","ECXSCX1",130,0)
 ...Q:'$D(^TMP("PXKENC",$J,VISIT,"CPT",REC,12)) 
"RTN","ECXSCX1",131,0)
 ...I $P(^TMP("PXKENC",$J,VISIT,"CPT",REC,12),U,4)=PROV S CPT=+^TMP("PXKENC",$J,VISIT,"CPT",REC,0)
"RTN","ECXSCX1",132,0)
 ...Q:'CPT
"RTN","ECXSCX1",133,0)
 ...S MOD="" I $D(^TMP("PXKENC",$J,VISIT,"CPT",REC,1)) S M=0 D
"RTN","ECXSCX1",134,0)
 ....F  S M=$O(^TMP("PXKENC",$J,VISIT,"CPT",REC,1,M)) Q:'M  S CM=+^TMP("PXKENC",$J,VISIT,"CPT",REC,1,M,0) I CM S MOD=MOD_CM_";"
"RTN","ECXSCX1",135,0)
 ...I $L(ECXVIST("CPT"))<120 S CPT=$$CPT^ECXUTL3(CPT,MOD),ECXVIST("CPT")=ECXVIST("CPT")_CPT
"RTN","ECXSCX1",136,0)
 ...K ^TMP("PXKENC",$J,VISIT,"CPT",REC)
"RTN","ECXSCX1",137,0)
 .;get more cpt codes if needed
"RTN","ECXSCX1",138,0)
 .I $L(ECXVIST("CPT"))<120 S REC="" D
"RTN","ECXSCX1",139,0)
 ..F  S REC=$O(^TMP("PXKENC",$J,VISIT,"CPT",REC)) Q:'REC  S (CPT,MOD)="" D
"RTN","ECXSCX1",140,0)
 ...S CPT=+^TMP("PXKENC",$J,VISIT,"CPT",REC,0)
"RTN","ECXSCX1",141,0)
 ...Q:'CPT
"RTN","ECXSCX1",142,0)
 ...S MOD="" I $D(^TMP("PXKENC",$J,VISIT,"CPT",REC,1)) S M=0 D
"RTN","ECXSCX1",143,0)
 ....F  S M=$O(^TMP("PXKENC",$J,VISIT,"CPT",REC,1,M)) Q:'M  S CM=+^TMP("PXKENC",$J,VISIT,"CPT",REC,1,M,0) I CM S MOD=MOD_CM_";"
"RTN","ECXSCX1",144,0)
 ...I $L(ECXVIST("CPT"))<120 S CPT=$$CPT^ECXUTL3(CPT,MOD),ECXVIST("CPT")=ECXVIST("CPT")_CPT
"RTN","ECXSCX1",145,0)
 .I ECXVIST("CPT")="" S ECXVIST("CPT")="99199"
"RTN","ECXSCX1",146,0)
 .S ECXVIST("CPT")=$E(ECXVIST("CPT"),1,120)
"RTN","ECXSCX1",147,0)
 .I $L(ECXVIST("CPT"))<120 S LEN=$L(ECXVIST("CPT")) F L=LEN+1:1:120 S ECXVIST("CPT")=ECXVIST("CPT")_" "
"RTN","ECXSCX1",148,0)
 ;ao, ir, mst
"RTN","ECXSCX1",149,0)
 S (AO,IR,MST)=""
"RTN","ECXSCX1",150,0)
 I $D(^TMP("PXKENC",$J,VISIT,"VST",VISIT,800)) D
"RTN","ECXSCX1",151,0)
 .S AO=$P(^TMP("PXKENC",$J,VISIT,"VST",VISIT,800),U,2),IR=$P(^(800),U,3),MST=$P(^(800),U,5)
"RTN","ECXSCX1",152,0)
 .S ECXVIST("AO")=$S(AO=0:"N",AO=1:"Y",1:"")
"RTN","ECXSCX1",153,0)
 .S ECXVIST("IR")=$S(IR=0:"N",IR=1:"Y",1:"")
"RTN","ECXSCX1",154,0)
 .S ECXVIST("MST")=$S(MST=0:"N",MST=1:"Y",1:"")
"RTN","ECXSCX1",155,0)
 Q
"RTN","ECXSCXN")
0^26^B62075178
"RTN","ECXSCXN",1,0)
ECXSCXN ;ALB/JAP  Clinic Extract ; 05/14/99
"RTN","ECXSCXN",2,0)
 ;;3.0;DSS EXTRACTS;**24**;Dec 22, 1997
"RTN","ECXSCXN",3,0)
 ;
"RTN","ECXSCXN",4,0)
BEG ;entry point from option
"RTN","ECXSCXN",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXSCXN",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXSCXN",7,0)
 Q
"RTN","ECXSCXN",8,0)
 ;
"RTN","ECXSCXN",9,0)
START ;entry point from taskmgr
"RTN","ECXSCXN",10,0)
 N DIC,OUT,TIU,LOCARR,PROCESS,STOP,STATUS,P1,P2,P3,TOSEND,SOURCE,EXNUM,X,Y
"RTN","ECXSCXN",11,0)
 S OUT=0,QFLG=0,ECRN=0
"RTN","ECXSCXN",12,0)
 K ^TMP($J,"ECXS"),^TMP($J,"ECXP")
"RTN","ECXSCXN",13,0)
 ;get ien for tiu in file #839.7
"RTN","ECXSCXN",14,0)
 S DIC="^PX(839.7,",DIC(0)="X",X="TEXT INTEGRATION UTILITIES" D ^DIC S TIU=+Y K DIC,Y
"RTN","ECXSCXN",15,0)
 S ECD=ECSD1,ECED=ECED+.3
"RTN","ECXSCXN",16,0)
 ;search file #409.68 for encounter data
"RTN","ECXSCXN",17,0)
 F  S ECD=$O(^SCE("B",ECD)) Q:'ECD!(ECD>ECED)  Q:QFLG  S ECXIEN=0 F  S ECXIEN=$O(^SCE("B",ECD,ECXIEN)) Q:'ECXIEN  D  Q:QFLG
"RTN","ECXSCXN",18,0)
 .Q:'$D(^SCE(ECXIEN,0))
"RTN","ECXSCXN",19,0)
 .;initalize variables
"RTN","ECXSCXN",20,0)
 .D INIT
"RTN","ECXSCXN",21,0)
 .K LOCARR S DIC=409.68,DA=ECXIEN,DR=".01;.02;.03;.04;.05;.06;.07;.08;.11;.12;.13",DIQ(0)="I",DIQ="LOCARR" D EN^DIQ1
"RTN","ECXSCXN",22,0)
 .S STOP=+$G(LOCARR(409.68,ECXIEN,.03,"I")),CHKOUT=+$G(LOCARR(409.68,ECXIEN,.07,"I")),PROCESS=+$G(LOCARR(409.68,ECXIEN,.08,"I")),STATUS=$G(LOCARR(409.68,ECXIEN,.12,"I"))
"RTN","ECXSCXN",23,0)
 .Q:'CHKOUT
"RTN","ECXSCXN",24,0)
 .S:STATUS="" STATUS="ZZ" S STATUS=";"_STATUS_";"
"RTN","ECXSCXN",25,0)
 .Q:";3;4;5;6;7;9;10;13;"[STATUS
"RTN","ECXSCXN",26,0)
 .Q:'STOP
"RTN","ECXSCXN",27,0)
 .Q:PROCESS=4
"RTN","ECXSCXN",28,0)
 .Q:+$G(LOCARR(409.68,ECXIEN,.06,"I"))
"RTN","ECXSCXN",29,0)
 .S ECXDATE=+$G(LOCARR(409.68,ECXIEN,.01,"I")),ECXDFN=+$G(LOCARR(409.68,ECXIEN,.02,"I")),ECXCLIN=+$G(LOCARR(409.68,ECXIEN,.04,"I"))
"RTN","ECXSCXN",30,0)
 .Q:$P($G(^SC(ECXCLIN,0)),U,3)'="C"
"RTN","ECXSCXN",31,0)
 .S ECXVISIT=+$G(LOCARR(409.68,ECXIEN,.05,"I")),ECXENEL=+$G(LOCARR(409.68,ECXIEN,.13,"I"))
"RTN","ECXSCXN",32,0)
 .S ECXDIV=+$G(LOCARR(409.68,ECXIEN,.11,"I")) S:ECXDIV=0 ECXDIV=1
"RTN","ECXSCXN",33,0)
 .D FEEDER^ECXSCX1(ECXCLIN,ECSD1,.P1,.P2,.P3,.TOSEND)
"RTN","ECXSCXN",34,0)
 .K LOCARR S DIC=40.7,DA=STOP,DR="1",DIQ(0)="I",DIQ="LOCARR" D EN^DIQ1
"RTN","ECXSCXN",35,0)
 .S ECXSTOP=$$RJ^XLFSTR($G(LOCARR(40.7,STOP,1,"I")),3,0)
"RTN","ECXSCXN",36,0)
 .;get patient demographics
"RTN","ECXSCXN",37,0)
 .D PAT(ECXDFN,ECXDATE,.ECXERR)
"RTN","ECXSCXN",38,0)
 .Q:ECXERR
"RTN","ECXSCXN",39,0)
 .;get visit specific data
"RTN","ECXSCXN",40,0)
 .Q:'ECXVISIT
"RTN","ECXSCXN",41,0)
 .D VISIT^ECXSCX1(ECXDFN,ECXVISIT,.ECXVIST,.ECXERR)
"RTN","ECXSCXN",42,0)
 .Q:ECXERR
"RTN","ECXSCXN",43,0)
 .S ECXCPT=ECXVIST("CPT"),ECXICD9=ECXVIST("ICD9"),SOURCE=ECXVIST("SOURCE")
"RTN","ECXSCXN",44,0)
 .S ECXAO=ECXVIST("AO"),ECXIR=ECXVIST("IR"),ECXMIL=ECXVIST("MST")
"RTN","ECXSCXN",45,0)
 .S ECXPROV=ECXVIST("PROV"),ECXPROVP=ECXVIST("PROV CLASS"),ECXPROVN=ECXVIST("PROV NPI")
"RTN","ECXSCXN",46,0)
 .K LOCARR S DIC=8,DA=ECXENEL,DR="8",DIQ(0)="I",DIQ="LOCARR" D EN^DIQ1
"RTN","ECXSCXN",47,0)
 .S ECXENEL=+$G(LOCARR(8,ECXENEL,8,"I")) I ECXENEL S ECXENEL=$$ELIG^ECXUTL3(ECXENEL,ECXSVC)
"RTN","ECXSCXN",48,0)
 .;setup feeder key and file in extract records
"RTN","ECXSCXN",49,0)
 .;xray (105) or lab (108)
"RTN","ECXSCXN",50,0)
 .I (ECXSTOP=105)!(ECXSTOP=108) D  Q
"RTN","ECXSCXN",51,0)
 ..S ECXKEY=ECXSTOP_"00002800000",ECXCLIN=""
"RTN","ECXSCXN",52,0)
 ..D FILE
"RTN","ECXSCXN",53,0)
 .;appointments
"RTN","ECXSCXN",54,0)
 .I PROCESS=1 D  Q
"RTN","ECXSCXN",55,0)
 ..Q:TOSEND=6
"RTN","ECXSCXN",56,0)
 ..;get appt length
"RTN","ECXSCXN",57,0)
 ..S JJ=0,ALEN=0 F  S JJ=$O(^SC(ECXCLIN,"S",ECXDATE,1,JJ)) Q:'JJ  D  Q:ALEN
"RTN","ECXSCXN",58,0)
 ...S PP=$P(^SC(ECXCLIN,"S",ECXDATE,1,JJ,0),U,1) I PP=ECXDFN S ALEN=$P(^(0),U,2)
"RTN","ECXSCXN",59,0)
 ..S ALEN=$$RJ^XLFSTR(ALEN,3,0)
"RTN","ECXSCXN",60,0)
 ..S ECXSTOP=P1
"RTN","ECXSCXN",61,0)
 ..I TOSEND'=3 S ECXKEY=P1_P2_ALEN_P3_"0" D FILE
"RTN","ECXSCXN",62,0)
 ..I TOSEND=3 S ECXKEY=P1_"000"_ALEN_P3_"0" D FILE
"RTN","ECXSCXN",63,0)
 ..I TOSEND=3 S ECXKEY=P2_"000"_ALEN_P3_"0" D FILE
"RTN","ECXSCXN",64,0)
 ..;create a record for appended ekg
"RTN","ECXSCXN",65,0)
 ..S PNODE=$G(^DPT(ECXDFN,"S",ECXDATE,0)) I $P(PNODE,U,1)=ECXCLIN,$P(PNODE,U,5) D
"RTN","ECXSCXN",66,0)
 ...S ECXKEY="10700002800000",ECXSTOP="107",ECXCLIN="" D FILE
"RTN","ECXSCXN",67,0)
 .;stop code additions
"RTN","ECXSCXN",68,0)
 .I PROCESS=2 D  Q
"RTN","ECXSCXN",69,0)
 ..Q:TOSEND=6
"RTN","ECXSCXN",70,0)
 ..S ALEN=0
"RTN","ECXSCXN",71,0)
 ..I SOURCE=TIU D
"RTN","ECXSCXN",72,0)
 ...K LOCARR S DIC=44,DA=ECXCLIN,DR="1912",DIQ(0)="I",DIQ="LOCARR" D EN^DIQ1
"RTN","ECXSCXN",73,0)
 ...S ALEN=$$RJ^XLFSTR($G(LOCARR(44,ECXCLIN,1912,"I")),3,0)
"RTN","ECXSCXN",74,0)
 ..S:ALEN=0 ALEN="029"
"RTN","ECXSCXN",75,0)
 ..S ECXKEY=P1_P2_ALEN_P3_"0",ECXSTOP=P1
"RTN","ECXSCXN",76,0)
 ..D FILE
"RTN","ECXSCXN",77,0)
 .;dispositions
"RTN","ECXSCXN",78,0)
 .I PROCESS=3 D  Q
"RTN","ECXSCXN",79,0)
 ..S ECXKEY=ECXSTOP_"47906000000",ECXCLIN=""
"RTN","ECXSCXN",80,0)
 ..D FILE
"RTN","ECXSCXN",81,0)
 .;pass thru file #2 to pick-up any noshows for this patient
"RTN","ECXSCXN",82,0)
 .I '$D(^TMP($J,"ECXP",ECXDFN)) D NOSHOW(ECXDFN,ECSD1,ECED)
"RTN","ECXSCXN",83,0)
 ;pass thru file #2 to pick-up any no-shows unaccounted for
"RTN","ECXSCXN",84,0)
 S ECXDFN=0 F  S ECXDFN=$O(^DPT(ECXDFN)) Q:'ECXDFN  D
"RTN","ECXSCXN",85,0)
 .D INIT S ECXDATE=ECSD1
"RTN","ECXSCXN",86,0)
 .Q:$D(^TMP($J,"ECXP",ECXDFN))
"RTN","ECXSCXN",87,0)
 .D PAT(ECXDFN,ECXDATE,.ECXERR)
"RTN","ECXSCXN",88,0)
 .Q:ECXERR
"RTN","ECXSCXN",89,0)
 .D NOSHOW(ECXDFN,ECSD1,ECED)
"RTN","ECXSCXN",90,0)
 ;send missing clinic msg
"RTN","ECXSCXN",91,0)
 D:$D(^TMP($J,"ECXS")) EN^ECXSCX1
"RTN","ECXSCXN",92,0)
 ;update for CLJ extract
"RTN","ECXSCXN",93,0)
 D CLINII^ECXSCX1(ECRN,$P(ECED,"."))
"RTN","ECXSCXN",94,0)
 Q
"RTN","ECXSCXN",95,0)
 ;
"RTN","ECXSCXN",96,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;get patient demographic data
"RTN","ECXSCXN",97,0)
 N OK,X
"RTN","ECXSCXN",98,0)
 K ECXPAT
"RTN","ECXSCXN",99,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;2;3;4;5",.ECXPAT)
"RTN","ECXSCXN",100,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXSCXN",101,0)
 S ECXSSN=ECXPAT("SSN")
"RTN","ECXSCXN",102,0)
 S ECXPNM=ECXPAT("NAME")
"RTN","ECXSCXN",103,0)
 S ECXMPI=ECXPAT("MPI")
"RTN","ECXSCXN",104,0)
 S ECXSEX=ECXPAT("SEX")
"RTN","ECXSCXN",105,0)
 S ECXDOB=ECXPAT("DOB")
"RTN","ECXSCXN",106,0)
 S ECXELIG=ECXPAT("ELIG")
"RTN","ECXSCXN",107,0)
 S ECXVET=ECXPAT("VET")
"RTN","ECXSCXN",108,0)
 S ECXSVC=ECXPAT("SC%")
"RTN","ECXSCXN",109,0)
 S ECXRACE=ECXPAT("RACE")
"RTN","ECXSCXN",110,0)
 S ECXPST=ECXPAT("POW STAT")
"RTN","ECXSCXN",111,0)
 S ECXPLOC=ECXPAT("POW LOC")
"RTN","ECXSCXN",112,0)
 S ECXRST=ECXPAT("IR STAT")
"RTN","ECXSCXN",113,0)
 S ECXAST=ECXPAT("AO STAT")
"RTN","ECXSCXN",114,0)
 S ECXMST=ECXPAT("MST STAT")
"RTN","ECXSCXN",115,0)
 S ECXSTATE=ECXPAT("STATE")
"RTN","ECXSCXN",116,0)
 S ECXCNTY=ECXPAT("COUNTY")
"RTN","ECXSCXN",117,0)
 S ECXZIP=ECXPAT("ZIP")
"RTN","ECXSCXN",118,0)
 S ECXENRL=ECXPAT("ENROLL LOC")
"RTN","ECXSCXN",119,0)
 ;get inpatient data
"RTN","ECXSCXN",120,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXSCXN",121,0)
 S ECXA=$P(X,U,1)
"RTN","ECXSCXN",122,0)
 S ECXTS=$P(X,U,3)
"RTN","ECXSCXN",123,0)
 ;get primary care data
"RTN","ECXSCXN",124,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXSCXN",125,0)
 S ECPTTM=$P(X,U,1)
"RTN","ECXSCXN",126,0)
 S ECPTPR=$P(X,U,2)
"RTN","ECXSCXN",127,0)
 S ECCLAS=$P(X,U,3)
"RTN","ECXSCXN",128,0)
 S ECPTNPI=$P(X,U,4)
"RTN","ECXSCXN",129,0)
 S ECASPR=$P(X,U,5)
"RTN","ECXSCXN",130,0)
 S ECCLAS2=$P(X,U,6)
"RTN","ECXSCXN",131,0)
 S ECASNPI=$P(X,U,7)
"RTN","ECXSCXN",132,0)
 ;get sharing agreement data
"RTN","ECXSCXN",133,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXSCXN",134,0)
 D VISN19^ECXUTL2(ECXDFN,.ECXPAYOR,.ECXSAI)
"RTN","ECXSCXN",135,0)
 Q
"RTN","ECXSCXN",136,0)
 ;
"RTN","ECXSCXN",137,0)
NOSHOW(ECXDFN,ECXSD,ECXED) ;file noshow data in file #2
"RTN","ECXSCXN",138,0)
 ;input ECXDFN = ien in file #2
"RTN","ECXSCXN",139,0)
 ;      ECXSD  = start date
"RTN","ECXSCXN",140,0)
 ;      ECXED  = end date
"RTN","ECXSCXN",141,0)
 N JJ,PP,JDATE,NODE,STATUS,CLIN,ALEN
"RTN","ECXSCXN",142,0)
 S JDATE=ECXSD
"RTN","ECXSCXN",143,0)
 F  S JDATE=$O(^DPT(ECXDFN,"S",JDATE)) Q:'JDATE  Q:JDATE>ECED  S NODE=^(JDATE,0) D
"RTN","ECXSCXN",144,0)
 .S CLIN=+$P(NODE,U,1),STATUS=$P(NODE,U,2),ECXDATE=JDATE
"RTN","ECXSCXN",145,0)
 .S NOSHOW=$S(STATUS="N":"N",STATUS="NA":"N",1:"")
"RTN","ECXSCXN",146,0)
 .Q:NOSHOW=""
"RTN","ECXSCXN",147,0)
 .Q:$P($G(^SC(CLIN,0)),U,3)'="C"
"RTN","ECXSCXN",148,0)
 .S (P1,P2,P3)="" D FEEDER^ECXSCX1(CLIN,ECXSD,.P1,.P2,.P3,.TOSEND)
"RTN","ECXSCXN",149,0)
 .Q:TOSEND=6
"RTN","ECXSCXN",150,0)
 .;get appt length
"RTN","ECXSCXN",151,0)
 .S JJ=0,ALEN=0 F  S JJ=$O(^SC(CLIN,"S",JDATE,1,JJ)) Q:'JJ  D  Q:ALEN
"RTN","ECXSCXN",152,0)
 ..S PP=$P(^SC(CLIN,"S",JDATE,1,JJ,0),U,1) I PP=ECXDFN S ALEN=$P(^(0),U,2)
"RTN","ECXSCXN",153,0)
 .S ALEN=$$RJ^XLFSTR(ALEN,3,0)
"RTN","ECXSCXN",154,0)
 .S ECXCLIN=CLIN,ECXSTOP=P1
"RTN","ECXSCXN",155,0)
 .S ECXCPT="99199" F L=6:1:120 S ECXCPT=ECXCPT_" "
"RTN","ECXSCXN",156,0)
 .S ECXICD9="799.9" F L=6:1:63 S ECXICD9=ECXICD9_" "
"RTN","ECXSCXN",157,0)
 .I TOSEND'=3 S ECXKEY=P1_P2_ALEN_P3_NOSHOW D FILE
"RTN","ECXSCXN",158,0)
 .I TOSEND=3 S ECXKEY=P1_"000"_ALEN_P3_NOSHOW D FILE
"RTN","ECXSCXN",159,0)
 .I TOSEND=3 S ECXKEY=P2_"000"_ALEN_P3_NOSHOW D FILE
"RTN","ECXSCXN",160,0)
 .;create a record for noshow appended ekg
"RTN","ECXSCXN",161,0)
 .S PNODE=$G(^DPT(ECXDFN,"S",ECXDATE,0)) I $P(PNODE,U,1)=ECXCLIN,$P(PNODE,U,5) D
"RTN","ECXSCXN",162,0)
 ..S ECXKEY="10700002800000",ECXSTOP="107",ECXCLIN="" D FILE
"RTN","ECXSCXN",163,0)
 .I $P($G(^DPT(ECXDFN,"S",ECXDATE,0)),U,5) S ECXKEY="1070000280000"_NOSHOW,ECXSTOP="107" D FILE
"RTN","ECXSCXN",164,0)
 S ^TMP($J,"ECXP",ECXDFN)=""
"RTN","ECXSCXN",165,0)
 Q
"RTN","ECXSCXN",166,0)
 ;
"RTN","ECXSCXN",167,0)
INIT ;initialize variables
"RTN","ECXSCXN",168,0)
 S ECXERR=0
"RTN","ECXSCXN",169,0)
 S (ECXSSN,ECXPNM,ECXA,ECXKEY,ECXTS,ECXENEL,ECPTPR,ECCLAS,ECPTNPI,ECASPR,ECCLAS2,ECASNPI,ECXCPT,ECPTTM)=""
"RTN","ECXSCXN",170,0)
 S (ECXSTOP,ECXCLIN,ECXKEY,ECXMPI,ECXSEX,ECXDOB,ECXELIG,ECXVET,ECXRACE,ECXPST,ECXPLOC,ECXRST,ECXAST,ECXMST,ECXSTATE,ECXCNTY,ECXZIP)=""
"RTN","ECXSCXN",171,0)
 S (ECXENRL,ECXPROV,ECXPROVP,ECXPROVN,ECXPAYOR,ECXSAI,ECXIR,ECXAO,ECXMIL,ECXDSSD,ECXICD9)=""
"RTN","ECXSCXN",172,0)
 Q
"RTN","ECXSCXN",173,0)
 ;
"RTN","ECXSCXN",174,0)
FILE ;record setup for files #727.816 & #727.818
"RTN","ECXSCXN",175,0)
 ;file #727.816 record
"RTN","ECXSCXN",176,0)
 ;node0
"RTN","ECXSCXN",177,0)
 ;facility^dfn^ssn^name^in/out status^day^feeder key^treat spec^encounter elig^pc provider^pc provider person class^pc prov npi
"RTN","ECXSCXN",178,0)
 ;assoc pc provider^assoc pc prov person class^assoc pc prov npi^clinic
"RTN","ECXSCXN",179,0)
 ;node1
"RTN","ECXSCXN",180,0)
 ;cpt&modifiers^pc team
"RTN","ECXSCXN",181,0)
 S EC7=$O(^ECX(727.816,999999999),-1),EC7=EC7+1
"RTN","ECXSCXN",182,0)
 S ECODE=EC7_U_EC23
"RTN","ECXSCXN",183,0)
 S ECODE=ECODE_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECXKEY
"RTN","ECXSCXN",184,0)
 S ECODE=ECODE_U_ECXTS_U_ECXENEL_U_ECPTPR_U_ECCLAS_U_ECPTNPI_U_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXCLIN
"RTN","ECXSCXN",185,0)
 S ECODE1=ECXCPT_U_ECPTTM
"RTN","ECXSCXN",186,0)
 D FILE2(727.816,EC7,ECODE,ECODE1)
"RTN","ECXSCXN",187,0)
 ;
"RTN","ECXSCXN",188,0)
 ;file #727.818 record
"RTN","ECXSCXN",189,0)
 ;node0
"RTN","ECXSCXN",190,0)
 ;facility^dfn^ssn^name^in/out status^day^primary stop^mpi^sex^dob^elig^vet^race^pow status^pow loc^ir status^ao status^mst status^
"RTN","ECXSCXN",191,0)
 ;state^county^zip^enroll loc^^provider^prov person class^prov npi^sa payor^sa insurance^ir encounter^ao encounter^mst encounter^dss dept
"RTN","ECXSCXN",192,0)
 ;node1
"RTN","ECXSCXN",193,0)
 ;icd9
"RTN","ECXSCXN",194,0)
 S ECODE=EC7_U_EC23
"RTN","ECXSCXN",195,0)
 S ECODE=ECODE_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECXSTOP_U_ECXMPI
"RTN","ECXSCXN",196,0)
 S ECODE=ECODE_U_ECXSEX_U_ECXDOB_U_ECXELIG_U_ECXVET_U_ECXRACE_U_ECXPST_U_ECXPLOC_U_ECXRST_U_ECXAST_U_ECXMST
"RTN","ECXSCXN",197,0)
 S ECODE=ECODE_U_ECXSTATE_U_ECXCNTY_U_ECXZIP_U_ECXENRL_U_U_ECXPROV_U_ECXPROVP_U_ECXPROVN_U_ECXPAYOR_U_ECXSAI_U_ECXIR_U_ECXAO_U_ECXMIL_U_ECXDSSD
"RTN","ECXSCXN",198,0)
 S ECODE1=ECXICD9
"RTN","ECXSCXN",199,0)
 D FILE2(727.818,EC7,ECODE,ECODE1)
"RTN","ECXSCXN",200,0)
 S ECRN=ECRN+1
"RTN","ECXSCXN",201,0)
 Q
"RTN","ECXSCXN",202,0)
 ;
"RTN","ECXSCXN",203,0)
FILE2(ECXFILE,EC7,ECODE,ECODE1) ;file record
"RTN","ECXSCXN",204,0)
 N DA,DIK,QFLG
"RTN","ECXSCXN",205,0)
 S ^ECX(ECXFILE,EC7,0)=ECODE,^ECX(ECXFILE,EC7,1)=ECODE1
"RTN","ECXSCXN",206,0)
 S DA=EC7,DIK="^ECX("_ECXFILE_"," D IX^DIK K DIK,DA
"RTN","ECXSCXN",207,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSCXN",208,0)
 Q
"RTN","ECXSCXN",209,0)
 ;
"RTN","ECXSCXN",210,0)
SETUP ;set required input for ECXTRAC
"RTN","ECXSCXN",211,0)
 S ECHEAD="CLI"
"RTN","ECXSCXN",212,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXSCXN",213,0)
 Q
"RTN","ECXSETU1")
0^35^B27989181
"RTN","ECXSETU1",1,0)
ECXSETU1 ;BIR/DMA,CML,PTD-Get Movements and Treating Speciality for Setup ; [ 01/10/97  4:34 PM ]
"RTN","ECXSETU1",2,0)
 ;;3.0;DSS EXTRACTS;**8,24**;Dec 22, 1997
"RTN","ECXSETU1",3,0)
EN ;entry point
"RTN","ECXSETU1",4,0)
 ;get movements
"RTN","ECXSETU1",5,0)
 S ECFILE=727.821,ECRN=0,QFLG=0
"RTN","ECXSETU1",6,0)
 F DFN=0:0 S DFN=$O(^TMP($J,DFN)) Q:'DFN  F ECCA=0:0 S ECCA=$O(^TMP($J,DFN,ECCA)) Q:'ECCA  S ECM=$O(^DGPM("APMV",DFN,ECCA,ECD0)) I ECM S ECDA=$O(^(ECM,0)) I ECDA,ECDA'=ECCA,$D(^DGPM(+ECDA,0)) S EC=^(0),DFN=+$P(EC,U,3) D  Q:QFLG
"RTN","ECXSETU1",7,0)
 .Q:'$D(^DPT(DFN,0))  S D0=^DPT(DFN,0),ECDAT=ECED,ECTM=$E($P(ECDAT,".",2)_"000000",1,6),ECXYM=$$ECXYM^ECXUTL(ECDAT),ECMT=$P(EC,U,18),ECMT=$S(ECMT<22:ECMT,ECMT<25:4,ECMT=25:3,ECMT=26:2,1:ECMT)
"RTN","ECXSETU1",8,0)
 .;from absence becomes transfer, from auth to unauth becomes to unauth
"RTN","ECXSETU1",9,0)
 .;from unauth to auth becomes to auth
"RTN","ECXSETU1",10,0)
 .S WTO=$P(EC,U,6),WTO=$P($G(^DIC(42,+WTO,44)),U)
"RTN","ECXSETU1",11,0)
 .S ECCA=$P(EC,U,14),EC=^DGPM(ECCA,0),ECA=$E($P(EC,U),".")
"RTN","ECXSETU1",12,0)
 .;use admit as previous transfer
"RTN","ECXSETU1",13,0)
 .S W=$P(EC,U,6),FAC=$P($G(^DIC(42,+W,0)),U,11),W=$P($G(^DIC(42,+W,44)),U)
"RTN","ECXSETU1",14,0)
 .S ECODE=FAC_U_DFN_U_$P(D0,U,9)_U_$E($P($P(D0,U),",")_"    ",1,4)_"^3^"_$$ECXDATE^ECXUTL(ECD,ECXYM)_U
"RTN","ECXSETU1",15,0)
 .S ECA=$P($G(^DGPM(+$P(EC,U,14),0)),U)
"RTN","ECXSETU1",16,0)
 .S X1=ECD,X2=$P(EC,U) D ^%DTC S LOS=X
"RTN","ECXSETU1",17,0)
 .S ECODE=ECODE_U_$$ECXDATE^ECXUTL(ECA,ECXYM)_"^^"_ECDA_"^2^"_W_"^^"_LOS_"^^"_ECMT_U_ECTM_U_WTO_U_$$ECXTIME^ECXUTL(ECA)_"^^"
"RTN","ECXSETU1",18,0)
 .;fac^dfn^ssn^name^in/out^day^^adm date^disc date^mov #^type^losing ward^treat spec ^los^attending physician^movement type^mov time^gaining ward^adm time
"RTN","ECXSETU1",19,0)
 .S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXSETU1",20,0)
 .S ^ECX(ECFILE,EC7,0)=EC7_U_ECXYM_U_U_ECODE,ECRN=ECRN+1
"RTN","ECXSETU1",21,0)
 .S $P(^ECX(ECFILE,EC7,1),U,2)=""
"RTN","ECXSETU1",22,0)
 .S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXSETU1",23,0)
 .I $D(ZTQUEUED),ECRN>499,'(ECRN#500),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSETU1",24,0)
 S ECLAST=$O(^ECX(ECFILE,999999999),-1),ECTOTAL=$P(^ECX(ECFILE,0),U,4)+ECRN,$P(^(0),U,3,4)=ECLAST_U_ECTOTAL K ECLAST,ECTOTAL
"RTN","ECXSETU1",25,0)
 I QFLG S ZTSTOP=1 Q
"RTN","ECXSETU1",26,0)
 ;
"RTN","ECXSETU1",27,0)
 ;get treating specialty
"RTN","ECXSETU1",28,0)
 S ECFILE=727.822,ECRN=0,QFLG=0
"RTN","ECXSETU1",29,0)
 F DFN=0:0 S DFN=$O(^TMP($J,DFN)) Q:'DFN  F ECCA=0:0 S ECCA=$O(^TMP($J,DFN,ECCA)) Q:'ECCA  S ECM=$O(^DGPM("ATS",DFN,ECCA,ECD0)) I ECM S EC=$O(^(ECM,0)),ECDA=+$O(^(+EC,0)) I $D(^DGPM(ECDA,0)) S EC=^(0) D  Q:QFLG
"RTN","ECXSETU1",30,0)
 .Q:'$D(^DPT(DFN,0))  S D0=^(0),ECMT=$P(EC,U,18),ECDAT=ECED,ECTM=$E($P(ECDAT,".",2)_"000000",1,6),ECXYM=$$ECXYM^ECXUTL(ECDAT)
"RTN","ECXSETU1",31,0)
 .S ECA=^DGPM($P(EC,U,14),0),EC=ECA
"RTN","ECXSETU1",32,0)
 .S X1=ECD,(ECA,X2)=$P(EC,U) D ^%DTC S LOS=X
"RTN","ECXSETU1",33,0)
 .S ECTRT="" F ECDA=ECCA:1:ECCA+10 S EC=$G(^DGPM(ECDA,0)) I $P(EC,U,14)=ECCA,$P(EC,U,2)=6 S ECTRT=$P($G(^DIC(45.7,+$P(EC,U,9),0)),U,2) Q
"RTN","ECXSETU1",34,0)
 .;get treating specialty associated with admission
"RTN","ECXSETU1",35,0)
 .S ECODE=U_DFN_U_$P(D0,U,9)_U_$E($P($P(D0,U),",")_"    ",1,4)_"^3^"_$$ECXDATE^ECXUTL(ECD,ECXYM)_"^^"_$$ECXDATE^ECXUTL(ECA,ECXYM)_"^^"_ECDA_"^6^^"_ECTRT_U_LOS
"RTN","ECXSETU1",36,0)
 .S ECODE=ECODE_U_ECPRO_$P(EC,U,19)_U_ECMT_U_ECTM_U_$$ECXTIME^ECXUTL(+ECA)_"^^^"
"RTN","ECXSETU1",37,0)
 .;fac^dfn^ssn^name^i/o^day^product^adm date^dis date^mov#^type^gaining ward^treat spec^duration^attending physician^movement type^trt time^adm time
"RTN","ECXSETU1",38,0)
 .S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXSETU1",39,0)
 .S ^ECX(ECFILE,EC7,0)=EC7_U_ECXYM_U_U_ECODE,ECRN=ECRN+1
"RTN","ECXSETU1",40,0)
 .S $P(^ECX(ECFILE,EC7,1),U,8)=""
"RTN","ECXSETU1",41,0)
 .S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXSETU1",42,0)
 .I $D(ZTQUEUED),ECRN>499,'(ECRN#500),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSETU1",43,0)
 S ECLAST=$O(^ECX(ECFILE,999999999),-1),ECTOTAL=$P(^ECX(ECFILE,0),U,4)+ECRN,$P(^(0),U,3,4)=ECLAST_U_ECTOTAL K ECLAST,ECTOTAL
"RTN","ECXSETU1",44,0)
 I QFLG S ZTSTOP=1 Q
"RTN","ECXSETU1",45,0)
 ;
"RTN","ECXSETU1",46,0)
LOAD ; into files 727.802, 727.808 and 727.818
"RTN","ECXSETU1",47,0)
 S ECCNT=0,ECVER=7
"RTN","ECXSETU1",48,0)
 I $$S^%ZTLOAD S ZTSTOP=1 K ^TMP($J) Q
"RTN","ECXSETU1",49,0)
 S ECFR=727.82,ECFILE=727.802,ECPACK="Admission (setup)",ECHEAD="ADM",ECGRP="ADMS",ECYM="" D MOVE
"RTN","ECXSETU1",50,0)
 I $$S^%ZTLOAD S ZTSTOP=1 K ^TMP($J) Q
"RTN","ECXSETU1",51,0)
 S ECFR=727.821,ECFILE=727.808,ECPACK="Movement (setup)",ECHEAD="MOV",ECGRP="MOVS",ECYM="" D MOVE
"RTN","ECXSETU1",52,0)
 I $$S^%ZTLOAD S ZTSTOP=1 K ^TMP($J) Q
"RTN","ECXSETU1",53,0)
 S ECFR=727.822,ECFILE=727.817,ECPACK="Treating specialty change (setup)",ECHEAD="TRT",ECGRP="TREAT",ECYM="" D MOVE
"RTN","ECXSETU1",54,0)
 S ^ECX(728,1,"S")=DT ;clear running flag set done date
"RTN","ECXSETU1",55,0)
 K XMY S Y=$$HTE^XLFDT($H)
"RTN","ECXSETU1",56,0)
 S XMDUZ="DSS SYSTEM",XMSUB="SETUP EXTRACT FOR DSS",XMY("G.DSS-ADMS@"_^XMB("NETNAME"))=""
"RTN","ECXSETU1",57,0)
 S ECM(1)="The DSS setup extract completed on "_$P(Y,"@")_" at "_$P(Y,"@",2),ECM(2)="A total of "_ECCNT_" extract file entries were created."
"RTN","ECXSETU1",58,0)
 S XMTEXT="ECM(" D ^XMD
"RTN","ECXSETU1",59,0)
 S ZTREQ="@" K ^TMP($J)
"RTN","ECXSETU1",60,0)
 Q
"RTN","ECXSETU1",61,0)
 ;
"RTN","ECXSETU1",62,0)
MOVE ;
"RTN","ECXSETU1",63,0)
 F  S ECYM=$O(^ECX(ECFR,"AM",ECYM)) Q:ECYM=""  D UP727 D
"RTN","ECXSETU1",64,0)
 .F EC0=0:0 S EC0=$O(^ECX(ECFR,"AM",ECYM,EC0)) Q:'EC0  S ECD=^ECX(ECFR,EC0,0),$P(ECD,U,3)=EC3 D
"RTN","ECXSETU1",65,0)
 ..S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXSETU1",66,0)
 ..S ^ECX(ECFILE,EC7,0)=EC7_U_$P(ECD,U,2,200),ECRN=ECRN+1 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXSETU1",67,0)
 ..S ^ECX(ECFILE,EC7,1)=^ECX(ECFR,EC0,1)
"RTN","ECXSETU1",68,0)
 ..S DIK="^ECX("_ECFR_",",DA=EC0 D ^DIK
"RTN","ECXSETU1",69,0)
 ..S ECCNT=ECCNT+1
"RTN","ECXSETU1",70,0)
 .S $P(^ECX(727,EC3,0),U,6)=ECRN
"RTN","ECXSETU1",71,0)
 .S ECLAST=$O(^ECX(ECFILE,999999999),-1),ECTOTAL=$P(^ECX(ECFILE,0),U,4)+ECRN,$P(^(0),U,3,4)=ECLAST_U_ECTOTAL K ECLAST,ECTOTAL
"RTN","ECXSETU1",72,0)
 Q
"RTN","ECXSETU1",73,0)
 ;
"RTN","ECXSETU1",74,0)
UP727 ;update file #727
"RTN","ECXSETU1",75,0)
 S EC=$P(^ECX(727,0),U,3)+1,$P(^(0),U,3,4)=EC_U_EC
"RTN","ECXSETU1",76,0)
 S ^ECX(727,EC,0)=EC_U_DT_U_ECPACK_U_ECED_U_ECED
"RTN","ECXSETU1",77,0)
 S ^ECX(727,EC,"HEAD")=ECHEAD
"RTN","ECXSETU1",78,0)
 S ^ECX(727,EC,"FILE")=ECFILE
"RTN","ECXSETU1",79,0)
 S ^ECX(727,EC,"GRP")=ECGRP,^ECX(727,EC,"DIV")=ECINST
"RTN","ECXSETU1",80,0)
 S DA=EC,DIK="^ECX(727," D IX^DIK K DA,DIK
"RTN","ECXSETU1",81,0)
 S ECRN=0,EC3=EC
"RTN","ECXSETU1",82,0)
 Q
"RTN","ECXSETUP")
0^36^B26676278
"RTN","ECXSETUP",1,0)
ECXSETUP ;ALB/JAP,BIR/DMA,CML,PTD-Generate Patient Population for a Given Day ; [ 11/25/96  11:26 AM ]
"RTN","ECXSETUP",2,0)
 ;;3.0;DSS EXTRACTS;**11,8,24**;Dec 22, 1997
"RTN","ECXSETUP",3,0)
EN ;entry point from option
"RTN","ECXSETUP",4,0)
 ;Pick a day, find everyone who was in the hospital on that day,
"RTN","ECXSETUP",5,0)
 ;find the corresponding admission and the last transfer and treating
"RTN","ECXSETUP",6,0)
 ;speciality change
"RTN","ECXSETUP",7,0)
 ;This routine should only be run once
"RTN","ECXSETUP",8,0)
 I '$D(DT) S DT=$$HTFM^XLFDT(+$H)
"RTN","ECXSETUP",9,0)
 I $P($G(^ECX(728,1,"S")),U,2)]"" W !,"The setup extract is already running.",! Q
"RTN","ECXSETUP",10,0)
 I $P($G(^ECX(728,1,"S")),U) W !,"The setup extract has already been run.",! Q
"RTN","ECXSETUP",11,0)
 W !!,"This option will extract the admission data and data for the last",!,"transfer and treating specialty change for all patients who",!,"were in the hospital on the day you select.",!!
"RTN","ECXSETUP",12,0)
 W !!,"NOTE - This will generate a snapshot of your inpatient population on the",!,"BEGINNING of the day you select, not the end of the day as MAS reports do.",!
"RTN","ECXSETUP",13,0)
 W "For example, for the inpatient setup extract if you choose October 1, 1994,",!,"the report will start at midnight at the beginning of the day."
"RTN","ECXSETUP",14,0)
 W "  For the MAS",!,"report, you would choose September 30, 1994.  The MAS report begins at midnight",!,"at the end of the day.",!!!
"RTN","ECXSETUP",15,0)
 S Y=$E(DT,1,3) S:'$E(DT,4) Y=Y-1 S ECDEX=$$FMTE^XLFDT(Y_"1001")
"RTN","ECXSETUP",16,0)
DATE S DIR(0)="D^::EXP",DIR("A")="Select the starting date ",DIR("B")=ECDEX D ^DIR K DIR G END:$D(DIRUT) S ECED=Y I Y>DT W !,"Date must be in the past",! G DATE
"RTN","ECXSETUP",17,0)
 S ECDEX=$$FMTE^XLFDT(Y)
"RTN","ECXSETUP",18,0)
 S ZTSAVE("ECED")="",ZTDESC="Find all inpatients on "_ECDEX,ZTIO="",ZTRTN="START^ECXSETUP" D ^%ZTLOAD
"RTN","ECXSETUP",19,0)
 I $D(ZTSK) W !,"Request queued as Task #",ZTSK,".",!
"RTN","ECXSETUP",20,0)
 G END
"RTN","ECXSETUP",21,0)
 ;
"RTN","ECXSETUP",22,0)
START ;queued entry point
"RTN","ECXSETUP",23,0)
 I $G(^ECX(728,1,"S"))]"",$G(^("S"))'="^" Q  ;already running or finished
"RTN","ECXSETUP",24,0)
 S $P(^ECX(728,1,"S"),U,2)="R" ; set run flag
"RTN","ECXSETUP",25,0)
 K ECXDD D FIELD^DID(405,.19,,"SPECIFIER","ECXDD") S ECPRO=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXSETUP",26,0)
 S ECPACK="Admission setup",ECPIECE=13,ECRTN="START^ECXSETUP",ECGRP="ADMS",ECHEAD="ADM",ECFILE=727.82,ECSD=ECED,ECD=ECED,ECVER=7
"RTN","ECXSETUP",27,0)
 S ECINST=+$P(^ECX(728,1,0),U) K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXSETUP",28,0)
 D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXSETUP",29,0)
 S ECRN=0,QFLG=0
"RTN","ECXSETUP",30,0)
 S ECD0=9999999.9999999-ECD
"RTN","ECXSETUP",31,0)
 K ^TMP($J)
"RTN","ECXSETUP",32,0)
 F DFN=0:0 S DFN=$O(^DGPM("ATID1",DFN)) Q:'DFN  S EC1=$O(^(DFN,ECD0)) I EC1 S ECDA=+$O(^(EC1,0)) I $D(^DGPM(ECDA,0)) D  Q:QFLG
"RTN","ECXSETUP",33,0)
 .S EC=^(0),ECX=+$P(EC,U,17),ECAS=$P(EC,U,18)=40 D:$S('ECX:1,'$D(^DGPM(ECX,0)):1,^DGPM(ECX,0)>ECD:1,1:0) GET I ECAS D GET1
"RTN","ECXSETUP",34,0)
 I QFLG S ZTSTOP=1 G END
"RTN","ECXSETUP",35,0)
 S ECLAST=$O(^ECX(ECFILE,999999999),-1),ECTOTAL=$P(^ECX(ECFILE,0),U,4)+ECRN,$P(^(0),U,3,4)=ECLAST_U_ECTOTAL K ECLAST,ECTOTAL
"RTN","ECXSETUP",36,0)
 G ^ECXSETU1
"RTN","ECXSETUP",37,0)
END K DIR,ECD,ECDEX,X,Y,ECD0,DFN,DA,EC0
"RTN","ECXSETUP",38,0)
 Q
"RTN","ECXSETUP",39,0)
 ;
"RTN","ECXSETUP",40,0)
GET ;
"RTN","ECXSETUP",41,0)
 Q:'$D(^DPT(DFN,0))
"RTN","ECXSETUP",42,0)
 S D0=^DPT(DFN,0)
"RTN","ECXSETUP",43,0)
 Q:$E($P(D0,U,9),1,5)="00000"
"RTN","ECXSETUP",44,0)
 S ECAD=$P(EC,U),^TMP($J,DFN,ECDA)=""
"RTN","ECXSETUP",45,0)
 S ECTM=$$ECXTIME^ECXUTL(ECAD),ECXYM=$$ECXYM^ECXUTL(ECED)
"RTN","ECXSETUP",46,0)
 S X=$$PRIMARY^ECXUTL2(DFN,ECD),ECPTTM=$P(X,U,1),ECPTPR=$P(X,U,2)
"RTN","ECXSETUP",47,0)
 S ECODE=DFN_U_$P(D0,U,9)_U_$E($P($P(D0,U),",")_"    ",1,4)_"^3^"_$$ECXDATE^ECXUTL(ECAD,ECXYM)_U_ECPTTM
"RTN","ECXSETUP",48,0)
 S ECODE=ECODE_U_$P(D0,U,2)_U_$$ECXDOB^ECXUTL($P(D0,U,3))_U_$P(D0,U,8)_U_$P($G(^DPT(DFN,.311)),U,15)_U_+$$INSURED^IBCNS1(DFN,ECD)
"RTN","ECXSETUP",49,0)
 S D1=$G(^DPT(DFN,.11)),ECSTA=$P(D1,U,5),STATE=$S(ECSTA:$P(^DIC(5,ECSTA,0),U,3),1:"")
"RTN","ECXSETUP",50,0)
 S ECCTY=$P(D1,U,7),COUNTY=$S(ECCTY:$P(^DIC(5,ECSTA,1,ECCTY,0),U,3),1:"")
"RTN","ECXSETUP",51,0)
 S ECODE=ECODE_U_STATE_U_COUNTY_U_$P(D1,U,6),D1=$P($G(^DIC(8,+$G(^DPT(DFN,.36)),0)),U,9) I D1 S D1=$C(D1+64)
"RTN","ECXSETUP",52,0)
 S ECM=$P($G(^DG(408.32,+$P(D0,U,14),0)),U,2)
"RTN","ECXSETUP",53,0)
 S ECODE=ECODE_U_D1_U_$P($G(^DPT(DFN,"VET")),U)_U_$P($G(^DPT(DFN,.321))_"^^^^",U,1,3)_U_$P($G(^DPT(DFN,.52)),U,5)_U_$P($G(^DIC(21,+$P($G(^DPT(DFN,.32)),U,3),0)),U,3)_U_ECM_U_$P(D0,U,5)
"RTN","ECXSETUP",54,0)
 S W=$P(EC,U,6),FAC=$P($G(^DIC(42,+W,0)),U,11),W=$P($G(^DIC(42,+W,44)),U)
"RTN","ECXSETUP",55,0)
 S ECTS="" F J=1:1:100 S ECT1=$G(^DGPM(ECDA+J,0)) I $P(ECT1,U,14)=ECDA,$P(ECT1,U,2)=6 S ECTS=ECT1 Q
"RTN","ECXSETUP",56,0)
 ;get corresponding Treating specialty - should be the next one, but must be close
"RTN","ECXSETUP",57,0)
 S ECODE=FAC_U_ECODE_U_W_U_$P($G(^DIC(45.7,+$P(ECTS,U,9),0)),U,2)_U_ECPRO_$P(ECTS,U,19)_U_ECDA
"RTN","ECXSETUP",58,0)
 S (ECDRG,ECDIA)="",ECPTF=+$P(EC,U,16) I ECPTF,$D(^DGPT(ECPTF,"M")) D PTF S ECODE=ECODE_U_ECDRG_U_ECDIA
"RTN","ECXSETUP",59,0)
 S $P(ECODE,U,31)=ECTM,$P(ECODE,U,32)=ECPTPR,$P(ECODE,U,33)=$P($G(^DIC(10,+$P(D0,U,6),0)),U,2)_"^"
"RTN","ECXSETUP",60,0)
 ;facility^dfn^ssn^name^in/out^day^primary care team^sex^dob^religion^employment status^health ins^state^county^zip^eligibility^
"RTN","ECXSETUP",61,0)
 ;vet^vietnam^agent orange^radiation^pow^period of service^means test^marital status^ward^treating specialty^
"RTN","ECXSETUP",62,0)
 ;attending physician^mov #^DRG^diagnosis^time^primary care provider^race
"RTN","ECXSETUP",63,0)
FILE ;file record
"RTN","ECXSETUP",64,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXSETUP",65,0)
 S ^ECX(ECFILE,EC7,0)=EC7_U_ECXYM_U_U_ECODE,ECRN=ECRN+1
"RTN","ECXSETUP",66,0)
 S $P(^ECX(ECFILE,EC7,1),U,12)=""
"RTN","ECXSETUP",67,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXSETUP",68,0)
 I $D(ZTQUEUED),ECRN>499,'(ECRN#500),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSETUP",69,0)
 Q
"RTN","ECXSETUP",70,0)
 ;
"RTN","ECXSETUP",71,0)
GET1 ;look again for admission if the one we found was ASIH (ECAS=1)
"RTN","ECXSETUP",72,0)
 F EC1=EC1:0 S EC1=$O(^DGPM("ATID1",DFN,EC1)) Q:'EC1  S ECDA=$O(^(EC1,0)) I ECDA,$D(^DGPM(ECDA,0)) S EC=^DGPM(ECDA,0) I $P(EC,U,18)'=40 S ECX=$P(EC,U,17) Q
"RTN","ECXSETUP",73,0)
 I EC1,ECDA,$S('ECX:1,'$D(^DGPM(ECX,0)):1,^DGPM(ECX,0)>ECD:1,1:0) D GET ; find the admission movement (not ASIH) for this ASIH movement
"RTN","ECXSETUP",74,0)
 Q
"RTN","ECXSETUP",75,0)
 ;
"RTN","ECXSETUP",76,0)
 ;
"RTN","ECXSETUP",77,0)
PTF ; get admitting DRG and diagnosis from PTF
"RTN","ECXSETUP",78,0)
 ;use number for DRG and .01 for diagnosis
"RTN","ECXSETUP",79,0)
 S EC=1 I $D(^DGPT(ECPTF,"M",2,0)) S EC=2
"RTN","ECXSETUP",80,0)
 S EC2=+$P(^DGPT(ECPTF,"M",EC,0),U,5),ECDRG=$P($G(^DGPT(ECPTF,"M",EC,"P")),U)
"RTN","ECXSETUP",81,0)
 S ECDIA=$P($G(^ICD9(EC2,0)),U) Q
"RTN","ECXSETUP",82,0)
 ;
"RTN","ECXSETUP",83,0)
 ;
"RTN","ECXSURG")
0^27^B29437048
"RTN","ECXSURG",1,0)
ECXSURG ;ALB/JAP,BIR/DMA,PTD-Surgery Extract for DSS ; [ 03/20/97  3:04 PM ]
"RTN","ECXSURG",2,0)
 ;;3.0;DSS EXTRACTS;**1,11,8,13,25,24**;Dec 22, 1997
"RTN","ECXSURG",3,0)
BEG ;entry point from option
"RTN","ECXSURG",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXSURG",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXSURG",6,0)
 Q
"RTN","ECXSURG",7,0)
 ;
"RTN","ECXSURG",8,0)
START ;
"RTN","ECXSURG",9,0)
 S QFLG=0
"RTN","ECXSURG",10,0)
 S ECED=ECED+.3
"RTN","ECXSURG",11,0)
 S ECD=ECSD1
"RTN","ECXSURG",12,0)
 F  S ECD=$O(^SRF("AC",ECD)),ECD0=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  D
"RTN","ECXSURG",13,0)
 .F  S ECD0=$O(^SRF("AC",ECD,ECD0)) Q:'ECD0  D
"RTN","ECXSURG",14,0)
 ..I $D(^SRF(ECD0,0)) S ECXDFN=+$P(^(0),U,1) D STUFF Q:QFLG
"RTN","ECXSURG",15,0)
 Q
"RTN","ECXSURG",16,0)
 ;
"RTN","ECXSURG",17,0)
STUFF ;gather data
"RTN","ECXSURG",18,0)
 N J,X,Y,PP,DATA1,DATA2,DATAOP,ARR,ERR,SUB,MOD
"RTN","ECXSURG",19,0)
 S ECXDATE=ECD,ECXERR=0
"RTN","ECXSURG",20,0)
 D PAT(ECXDFN,ECXDATE,.ECXERR)
"RTN","ECXSURG",21,0)
 Q:ECXERR
"RTN","ECXSURG",22,0)
 S EC0=^SRF(ECD0,0)
"RTN","ECXSURG",23,0)
 S DATA1=$S($D(^SRF(ECD0,.1)):^(.1),1:"")
"RTN","ECXSURG",24,0)
 S DATA2=$S($D(^SRF(ECD0,.2)):^(.2),1:"")
"RTN","ECXSURG",25,0)
 S DATAOP=$S($D(^SRF(ECD0,"OP")):^("OP"),1:"")
"RTN","ECXSURG",26,0)
 S ECNO=$G(^SRF(ECD0,"NON"))
"RTN","ECXSURG",27,0)
 ;quit if cancelled or no pt. in oper. rm. time
"RTN","ECXSURG",28,0)
 S ECCAN=$G(^SRF(ECD0,30))>0 I ECCAN!('$P(DATA2,U,10)&($P(ECNO,U)'="Y")) Q
"RTN","ECXSURG",29,0)
 ;get data
"RTN","ECXSURG",30,0)
 S ECSR=$P(DATA1,U,4),ECSRNPI=""
"RTN","ECXSURG",31,0)
 S ECAT=$P(DATA1,U,13),ECATNPI=""
"RTN","ECXSURG",32,0)
 S ECXTM=$$ECXTIME^ECXUTL($P(DATA2,U,10))
"RTN","ECXSURG",33,0)
 S ECXDIV=$S($D(^SRF(ECD0,8)):^(8),1:ECINST)
"RTN","ECXSURG",34,0)
 S ECSA=$P($G(^SRF(ECD0,.3)),U,4),ECSANPI=""
"RTN","ECXSURG",35,0)
 S ECO=$P(EC0,U,2),ECORTY=$P($G(^SRS(+ECO,2)),U),ECO=$P($G(^SRS(+ECO,0)),U)
"RTN","ECXSURG",36,0)
 S ECSS=$P($G(^SRO(137.45,+$P(EC0,U,4),0)),U,2)
"RTN","ECXSURG",37,0)
 S ECSS=$$RJ^XLFSTR($P($G(^DIC(45.3,+ECSS,0)),U),3,0) S:ECSS="000" ECSS="999"
"RTN","ECXSURG",38,0)
 S ECXDSSD=""
"RTN","ECXSURG",39,0)
 ;look for non-OR
"RTN","ECXSURG",40,0)
 S (ECNT,ECNL)=""
"RTN","ECXSURG",41,0)
 I $P(ECNO,U)="Y" D
"RTN","ECXSURG",42,0)
 .S ECSR=$P(ECNO,U,6),ECAT=$P(ECNO,U,7)
"RTN","ECXSURG",43,0)
 .S ECXTM=$$ECXTIME^ECXUTL($P(ECNO,U,4))
"RTN","ECXSURG",44,0)
 .S A1=$P(ECNO,U,5),A2=$P(ECNO,U,4),TIME="##" D:(A1&A2) TIME S ECNT=TIME
"RTN","ECXSURG",45,0)
 .S ECNL=+$P(ECNO,U,2),ECNL=$P($G(^ECX(728.44,ECNL,0)),U,9) I ECNL="" S ECNL="UNKNOWN"
"RTN","ECXSURG",46,0)
 ;get service of attending surgeon
"RTN","ECXSURG",47,0)
 S ECATSV=$P($G(^DIC(49,+$G(^VA(200,+ECAT,5)),730)),U)
"RTN","ECXSURG",48,0)
 ;add leading 2s for pointer to 200
"RTN","ECXSURG",49,0)
 S:ECAT ECAT="2"_ECAT S:ECSR ECSR="2"_ECSR S:ECSA ECSA="2"_ECSA
"RTN","ECXSURG",50,0)
 ;anesthesia technique
"RTN","ECXSURG",51,0)
 S ECANE="",PP=""
"RTN","ECXSURG",52,0)
 I $D(^SRF(ECD0,6,0)) S ECXJ=0 D
"RTN","ECXSURG",53,0)
 .F  S ECXJ=$O(^SRF(ECD0,6,ECXJ)) Q:'ECXJ  Q:ECANE]""  S PP=$P($G(^(ECXJ,0)),U,3) S:PP="Y" ECANE=$P(^(0),U,1)
"RTN","ECXSURG",54,0)
 .I ECANE="" S ECXJ=$O(^SRF(ECD0,6,0)) I ECXJ S ECANE=$P(^SRF(ECD0,6,ECXJ,0),U,1)
"RTN","ECXSURG",55,0)
 ;get primary procedure
"RTN","ECXSURG",56,0)
 ;ecode0=p^cpt code^^patient time^operation time^anesthesia time
"RTN","ECXSURG",57,0)
 S ECPT=+$P(DATAOP,U,2),ECXCMOD=""
"RTN","ECXSURG",58,0)
 K ARR,ERR D FIELD^DID(130,28,,"LABEL","ARR","ERR") I $D(ARR("LABEL")) D
"RTN","ECXSURG",59,0)
 .K ARR,ERR D FIELD^DID(130,28,,"GLOBAL SUBSCRIPT LOCATION","ARR","ERR")
"RTN","ECXSURG",60,0)
 .Q:$D(ERR("DIERR"))
"RTN","ECXSURG",61,0)
 .S SUB=$P(ARR("GLOBAL SUBSCRIPT LOCATION"),";"),MOD=0
"RTN","ECXSURG",62,0)
 .F  S MOD=$O(^SRF(ECD0,SUB,MOD)) Q:MOD'>0  S ECXCMOD=ECXCMOD_$P(^(MOD,0),U)_";"
"RTN","ECXSURG",63,0)
 S ECXCPT=$$CPT^ECXUTL3(ECPT,ECXCMOD),ECPT=$E(ECXCPT,1,5)
"RTN","ECXSURG",64,0)
 S ECODE0="P"_U_ECPT_U
"RTN","ECXSURG",65,0)
 F J="10,12","2,3","1,4" S A2=$P(DATA2,U,$P(J,",")),A1=$P(DATA2,U,$P(J,",",2)),TIME="##" D:(A1&A2) TIME S ECODE0=ECODE0_U_TIME K TIME
"RTN","ECXSURG",66,0)
 S ECRR="" I $D(^SRF(ECD0,1.1)) S A1=$P(^(1.1),U,8),A2=$P(^(1.1),U,7),TIME="##" D:(A1&A2) TIME S ECRR=TIME K TIME
"RTN","ECXSURG",67,0)
 I ECNL]"" S $P(ECODE0,U,5)=ECNT
"RTN","ECXSURG",68,0)
 D FILE
"RTN","ECXSURG",69,0)
 ;get secondary procedures
"RTN","ECXSURG",70,0)
 ;ecode0=s^cpt code
"RTN","ECXSURG",71,0)
 S ECXJ=0
"RTN","ECXSURG",72,0)
 F  S ECXJ=$O(^SRF(ECD0,13,ECXJ)) Q:'ECXJ  I $D(^(ECXJ,0)),$D(^(2)),$P(^(2),U)]"" D
"RTN","ECXSURG",73,0)
 .S ECPT=$P(^SRF(ECD0,13,ECXJ,2),U),ECXCMOD=""
"RTN","ECXSURG",74,0)
 .K ARR,ERR D FIELD^DID(130.16,4,,"LABEL","ARR","ERR") I $D(ARR("LABEL")) D
"RTN","ECXSURG",75,0)
 ..K ARR,ERR D FIELD^DID(130.16,4,,"GLOBAL SUBSCRIPT LOCATION","ARR","ERR")
"RTN","ECXSURG",76,0)
 ..Q:$D(ERR("DIERR"))
"RTN","ECXSURG",77,0)
 ..S SUB=$P(ARR("GLOBAL SUBSCRIPT LOCATION"),";"),MOD=0
"RTN","ECXSURG",78,0)
 ..F  S MOD=$O(^SRF(ECD0,13,ECXJ,SUB,MOD)) Q:MOD'>0  S ECXCMOD=ECXCMOD_$P(^(MOD,0),U)_";"
"RTN","ECXSURG",79,0)
 .S ECXCPT=$$CPT^ECXUTL3(ECPT,ECXCMOD),ECPT=$E(ECXCPT,1,5)
"RTN","ECXSURG",80,0)
 .S ECODE0="S"_U_ECPT
"RTN","ECXSURG",81,0)
 .D FILE
"RTN","ECXSURG",82,0)
 ;get prostheses
"RTN","ECXSURG",83,0)
 ;ecode0=i^^^^^^prosthesis^quantity
"RTN","ECXSURG",84,0)
 S ECXJ=0
"RTN","ECXSURG",85,0)
 F  S ECXJ=$O(^SRF(ECD0,1,ECXJ)) Q:'ECXJ  I $D(^(ECXJ,0)) D
"RTN","ECXSURG",86,0)
 .S ECXP=+^SRF(ECD0,1,ECXJ,0),ECXQ=$P($G(^(1)),U,2) S:'ECXQ ECXQ=1
"RTN","ECXSURG",87,0)
 .S ECODE0="I"_U_U_U_U_U_U_ECXP_U_ECXQ
"RTN","ECXSURG",88,0)
 .D FILE
"RTN","ECXSURG",89,0)
 Q
"RTN","ECXSURG",90,0)
 ;
"RTN","ECXSURG",91,0)
PAT(ECXDFN,ECXDATE,ECXERR) ;Determine in/outpatient status, movement number, primary care team and provider.
"RTN","ECXSURG",92,0)
 N OK,X
"RTN","ECXSURG",93,0)
 K ECXPAT
"RTN","ECXSURG",94,0)
 S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXDATE,"."),"1;2;3;5",.ECXPAT)
"RTN","ECXSURG",95,0)
 I 'OK S ECXERR=1 K ECXPAT Q
"RTN","ECXSURG",96,0)
 S ECXSSN=ECXPAT("SSN")
"RTN","ECXSURG",97,0)
 S ECXPNM=ECXPAT("NAME")
"RTN","ECXSURG",98,0)
 S ECXMPI=ECXPAT("MPI")
"RTN","ECXSURG",99,0)
 K ECXPAT
"RTN","ECXSURG",100,0)
 ;get inpatient data
"RTN","ECXSURG",101,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECXDATE)
"RTN","ECXSURG",102,0)
 S ECXA=$P(X,U,1),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3)
"RTN","ECXSURG",103,0)
 S ECXADD=$P(X,U,4),ECXADD=$$ECXDATE^ECXUTL(ECXADD,ECXYM)
"RTN","ECXSURG",104,0)
 ;get primary care data
"RTN","ECXSURG",105,0)
 S X=$$PRIMARY^ECXUTL2(ECXDFN,$P(ECXDATE,"."))
"RTN","ECXSURG",106,0)
 S ECPTTM=$P(X,U,1)
"RTN","ECXSURG",107,0)
 S ECPTPR=$P(X,U,2)
"RTN","ECXSURG",108,0)
 S ECCLAS=$P(X,U,3)
"RTN","ECXSURG",109,0)
 S ECPTNPI=$P(X,U,4)
"RTN","ECXSURG",110,0)
 S ECASPR=$P(X,U,5)
"RTN","ECXSURG",111,0)
 S ECCLAS2=$P(X,U,6)
"RTN","ECXSURG",112,0)
 S ECASNPI=$P(X,U,7)
"RTN","ECXSURG",113,0)
 Q
"RTN","ECXSURG",114,0)
 ;
"RTN","ECXSURG",115,0)
FILE ;file record
"RTN","ECXSURG",116,0)
 ;node0
"RTN","ECXSURG",117,0)
 ;division^dfn^ssn^name^in/out^day^case #^surg specialty^or room #^surgeon^attending^anesthesia supervisor^anesthesia technique^
"RTN","ECXSURG",118,0)
 ;primary/secondary/prostheses^cpt^^pt time^op time^anes time^prostheses^qty^^
"RTN","ECXSURG",119,0)
 ;movement number^treating speciality^cancelled^time^or type^attending's service^non-or dss id^recovery room time^^primary care team^primary care provider^admission date
"RTN","ECXSURG",120,0)
 ;node1
"RTN","ECXSURG",121,0)
 ;mpi^dss dept^surgeon npi^attending npi^anes supervisor npi^pc provider npi^pc prov person class^
"RTN","ECXSURG",122,0)
 ;assoc pc provider^assoc pc prov person class^assoc pc prov npi^cpt&modifiers
"RTN","ECXSURG",123,0)
 N DA,DIK
"RTN","ECXSURG",124,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXSURG",125,0)
 S ECODE=EC7_U_EC23
"RTN","ECXSURG",126,0)
 S ECODE=ECODE_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_ECXA_U_$$ECXDATE^ECXUTL(ECXDATE,ECXYM)_U_ECD0_U_ECSS_U_ECO_U_ECSR_U_ECAT_U_ECSA_U_ECANE
"RTN","ECXSURG",127,0)
 S ECODE=ECODE_U_ECODE0
"RTN","ECXSURG",128,0)
 S $P(ECODE,U,26,37)=ECXMN_U_ECXTS_U_$S(ECCAN:"C",1:"")_U_ECXTM_U_ECORTY_U_ECATSV_U_ECNL_U_ECRR_U_U_ECPTTM_U_ECPTPR_U_ECXADD
"RTN","ECXSURG",129,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECSRNPI_U_ECATNPI_U_ECSANPI_U_ECPTNPI_U_ECCLAS_U_ECASPR_U_ECCLAS2_U_ECASNPI_U_ECXCPT
"RTN","ECXSURG",130,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXSURG",131,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXSURG",132,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXSURG",133,0)
 ;
"RTN","ECXSURG",134,0)
TIME ; given date/time get increment
"RTN","ECXSURG",135,0)
 ;A1=later, A2=earlier, TIME=difference
"RTN","ECXSURG",136,0)
 S TIME=$TR($J($$FMDIFF^XLFDT(A1,A2,2)/900,6,0)," ") I TIME<0 S TIME="###"
"RTN","ECXSURG",137,0)
 Q
"RTN","ECXSURG",138,0)
 ;
"RTN","ECXSURG",139,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXSURG",140,0)
 S ECHEAD="SUR"
"RTN","ECXSURG",141,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXSURG",142,0)
 Q
"RTN","ECXSURG",143,0)
 ;
"RTN","ECXSURG",144,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXSURG",145,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL Q
"RTN","ECXTAUTO")
0^41^B29951781
"RTN","ECXTAUTO",1,0)
ECXTAUTO ;ALB/JAP,BIR/DMA-Background Queuing for Package Extracts ; 17 Mar 95 / 1:04 PM
"RTN","ECXTAUTO",2,0)
 ;;3.0;DSS EXTRACTS;**8,24**;Dec 22, 1997
"RTN","ECXTAUTO",3,0)
 ;generate extract & auto-requeue
"RTN","ECXTAUTO",4,0)
 ;
"RTN","ECXTAUTO",5,0)
QUE ;entry point from package extracts - determine start and stop date from 727.1
"RTN","ECXTAUTO",6,0)
 ;and variables from setup^routine
"RTN","ECXTAUTO",7,0)
 S EC=$O(^ECX(727.1,"AF",ECFILE,0))
"RTN","ECXTAUTO",8,0)
 S ECDT=$P($$HTFM^XLFDT(ZTDTH,1),".")
"RTN","ECXTAUTO",9,0)
 S ECED=$$LASTMON^ECXDEFIN(ECDT)
"RTN","ECXTAUTO",10,0)
 S ECSD=$E(ECED,1,5)_"01"
"RTN","ECXTAUTO",11,0)
 I '$D(ECNODE) S ECNODE=7
"RTN","ECXTAUTO",12,0)
 ;get station number; ecinst is defined only for prosthetics
"RTN","ECXTAUTO",13,0)
 ;automatic requeue can be setup only for site's with 1 primary prosthetics division
"RTN","ECXTAUTO",14,0)
 S:'$D(ECINST) ECINST=+$P(^ECX(728,1,0),U)
"RTN","ECXTAUTO",15,0)
 S ECXINST=ECINST
"RTN","ECXTAUTO",16,0)
 K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXTAUTO",17,0)
 D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXTAUTO",18,0)
 ;check if currently running
"RTN","ECXTAUTO",19,0)
 I $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)="R" D RUNMSG,REQUE Q
"RTN","ECXTAUTO",20,0)
 ;check if date range has been extracted
"RTN","ECXTAUTO",21,0)
 ;get last date for all extracts except prosthetics
"RTN","ECXTAUTO",22,0)
 I ECGRP'="PRO" D
"RTN","ECXTAUTO",23,0)
 .S ECLDT=$P($G(^ECX(728,1,ECNODE)),U,ECPIECE)
"RTN","ECXTAUTO",24,0)
 ;get last date for prosthetics
"RTN","ECXTAUTO",25,0)
 I ECGRP="PRO" D
"RTN","ECXTAUTO",26,0)
 .S ECLDT=""
"RTN","ECXTAUTO",27,0)
 .S ECXDA1=$O(^ECX(728,0))
"RTN","ECXTAUTO",28,0)
 .I $D(^ECX(728,ECXDA1,1,ECXINST,0)) S ECLDT=$P(^ECX(728,ECXDA1,1,ECXINST,0),U,2)
"RTN","ECXTAUTO",29,0)
 ;if last run date doesn't exist don't allow auto requeue to continue
"RTN","ECXTAUTO",30,0)
 I ECLDT="" S ZTREQ="@" Q
"RTN","ECXTAUTO",31,0)
 ;if last run date is last day of previous fy don't allow auto requeue to continue
"RTN","ECXTAUTO",32,0)
 S X=$$CYFY^ECXUTL1(DT)
"RTN","ECXTAUTO",33,0)
 I ECLDT=$$FMADD^XLFDT($P(X,U,3),-1) S ZTREQ="@" Q
"RTN","ECXTAUTO",34,0)
 ;otherwise continue to check data range
"RTN","ECXTAUTO",35,0)
 S ECFDT=$$FMADD^XLFDT(ECLDT,1)
"RTN","ECXTAUTO",36,0)
 I ECFDT>ECED D ERROR,REQUE Q
"RTN","ECXTAUTO",37,0)
 ;do specific extract
"RTN","ECXTAUTO",38,0)
 S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)="R"
"RTN","ECXTAUTO",39,0)
 S ECSDN=$$FMTE^XLFDT(ECSD),ECEDN=$$FMTE^XLFDT(ECED),ECSD1=ECSD-.1
"RTN","ECXTAUTO",40,0)
 L +^ECX(727,0) S EC=$P(^ECX(727,0),U,3)+1,$P(^(0),U,3,4)=EC_U_EC L -^ECX(727,0)
"RTN","ECXTAUTO",41,0)
 S ^ECX(727,EC,0)=EC_U_DT_U_ECPACK_U_ECSD_U_$E(ECED,1,7)
"RTN","ECXTAUTO",42,0)
 S ^ECX(727,EC,"HEAD")=ECHEAD
"RTN","ECXTAUTO",43,0)
 S ^ECX(727,EC,"FILE")=ECFILE
"RTN","ECXTAUTO",44,0)
 S ^ECX(727,EC,"GRP")=ECGRP
"RTN","ECXTAUTO",45,0)
 I $D(ECVER) S ^ECX(727,EC,"VER")=ECVER
"RTN","ECXTAUTO",46,0)
 S ^ECX(727,EC,"DIV")=ECXINST
"RTN","ECXTAUTO",47,0)
 S DA=EC,DIK="^ECX(727," D IX^DIK K DIK,DA
"RTN","ECXTAUTO",48,0)
 S ECRN=0,ECXYM=$$ECXYM^ECXUTL(ECED),EC23=ECXYM_U_EC
"RTN","ECXTAUTO",49,0)
 S ECXSTART=$P($$HTE^XLFDT($H),":",1,2),ECXNOW=$H
"RTN","ECXTAUTO",50,0)
 D @ECRTN
"RTN","ECXTAUTO",51,0)
 ;set last date for all extracts except prosthetics
"RTN","ECXTAUTO",52,0)
 S:(ECGRP'="PRO") $P(^ECX(728,1,ECNODE),U,ECPIECE)=$P(ECED,".")
"RTN","ECXTAUTO",53,0)
 ;set last date for prosthetics
"RTN","ECXTAUTO",54,0)
 I ECGRP="PRO" D
"RTN","ECXTAUTO",55,0)
 .S J=$O(^ECX(728,0))
"RTN","ECXTAUTO",56,0)
 .S $P(^ECX(728,J,1,ECXINST,0),U,2)=$P(ECED,".")
"RTN","ECXTAUTO",57,0)
 S TIME=$P($$HTE^XLFDT($H),":",1,2)
"RTN","ECXTAUTO",58,0)
 S $P(^ECX(727,$P(EC23,U,2),0),U,6)=ECRN
"RTN","ECXTAUTO",59,0)
 ;set piece 3 and 4 of the zero node
"RTN","ECXTAUTO",60,0)
 S ECLAST=$O(^ECX(ECFILE,99999999),-1),ECTOTAL=$P(^ECX(ECFILE,0),U,4)+ECRN,$P(^(0),U,3,4)=ECLAST_U_ECTOTAL K ECLAST,ECTOTAL
"RTN","ECXTAUTO",61,0)
 D MSG
"RTN","ECXTAUTO",62,0)
 S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)=""
"RTN","ECXTAUTO",63,0)
 D REQUE
"RTN","ECXTAUTO",64,0)
 Q
"RTN","ECXTAUTO",65,0)
 ;
"RTN","ECXTAUTO",66,0)
REQUE ;reque job for next time
"RTN","ECXTAUTO",67,0)
 S EC=$O(^ECX(727.1,"AF",ECFILE,0))
"RTN","ECXTAUTO",68,0)
 S ECFDT=$$HTFM^XLFDT(ZTDTH)
"RTN","ECXTAUTO",69,0)
 S ECFDT=$$NEXTMON^ECXDEFIN(ECFDT)
"RTN","ECXTAUTO",70,0)
 ;do not allow october extract to start from auto-requeue
"RTN","ECXTAUTO",71,0)
 I $E(ECFDT,4,5)="10" D  Q
"RTN","ECXTAUTO",72,0)
 .D FYMSG
"RTN","ECXTAUTO",73,0)
 .S $P(^ECX(727.1,ECDA,0),"^",6)=""
"RTN","ECXTAUTO",74,0)
 .S ZTREQ="@"
"RTN","ECXTAUTO",75,0)
 S ZTDTH=$$FMTH^XLFDT(ECFDT)
"RTN","ECXTAUTO",76,0)
 D REQ^%ZTLOAD
"RTN","ECXTAUTO",77,0)
 Q
"RTN","ECXTAUTO",78,0)
 ;
"RTN","ECXTAUTO",79,0)
MSG ; send message to mail group 'DSS-ECGRP'
"RTN","ECXTAUTO",80,0)
 S XMSUB=ECINST_" - "_ECPACK_" AUTO-REQUEUE EXTRACT FOR DSS",XMDUZ="DSS SYSTEM"
"RTN","ECXTAUTO",81,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTAUTO",82,0)
 S ECMSG(1,0)="The BACKGROUND DSS-"_ECPACK_" extract (#"_$P(EC23,U,2)_") for "_ECSDN,ECMSG(2,0)="through "_ECEDN_" was begun on "_$P(ECXSTART,"@")_" at "_$P(ECXSTART,"@",2)
"RTN","ECXTAUTO",83,0)
 S ECMSG(3,0)="and completed on "_$P(TIME,"@")_" at "_$P(TIME,"@",2)_"."
"RTN","ECXTAUTO",84,0)
 S ECMSG(4,0)=" ",ECMSG(5,0)="A total of "_ECRN_" records were written."
"RTN","ECXTAUTO",85,0)
 S ECMSG(6,0)=" ",ECMSG(7,0)="Extract time was [HH:MM:SS] "_$$HDIFF^XLFDT($H,ECXNOW,3),ECMSG(8,0)=" "
"RTN","ECXTAUTO",86,0)
 S XMTEXT="ECMSG(" D ^XMD
"RTN","ECXTAUTO",87,0)
 Q
"RTN","ECXTAUTO",88,0)
 ;
"RTN","ECXTAUTO",89,0)
ERROR ; send message when job was queued to extract data already extracted
"RTN","ECXTAUTO",90,0)
 S ECSDN=$$FMTE^XLFDT(ECSD),ECEDN=$$FMTE^XLFDT(ECED)
"RTN","ECXTAUTO",91,0)
 S XMSUB=ECINST_" - "_ECPACK_" BACKGROUND EXTRACT FAILURE",XMDUZ="DSS SYSTEM"
"RTN","ECXTAUTO",92,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTAUTO",93,0)
 S ECMSG(1,0)="The "_ECPACK_" extract was automatically requeued to extract"
"RTN","ECXTAUTO",94,0)
 S ECMSG(2,0)="data for "_ECSDN_" through "_ECEDN_"."
"RTN","ECXTAUTO",95,0)
 S ECMSG(3,0)="Data for this range of dates has already been extracted."
"RTN","ECXTAUTO",96,0)
 S ECMSG(4,0)=" "
"RTN","ECXTAUTO",97,0)
 S ECMSG(5,0)="The extract was NOT generated, but has been requeued to run"
"RTN","ECXTAUTO",98,0)
 S ECMSG(6,0)="next month. "
"RTN","ECXTAUTO",99,0)
 S XMTEXT="ECMSG(" D ^XMD
"RTN","ECXTAUTO",100,0)
 Q
"RTN","ECXTAUTO",101,0)
 ;
"RTN","ECXTAUTO",102,0)
FYMSG ; send message for october extract
"RTN","ECXTAUTO",103,0)
 S Y=$E(ECFDT,1,5)_"00" D DD^%DT
"RTN","ECXTAUTO",104,0)
 S XMSUB=ECINST_" - "_ECPACK_" BACKGROUND EXTRACT FAILURE",XMDUZ="DSS SYSTEM"
"RTN","ECXTAUTO",105,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTAUTO",106,0)
 S ECMSG(1,0)="There was an attempt to automatically requeue the "_ECPACK
"RTN","ECXTAUTO",107,0)
 S ECMSG(2,0)="extract for the month of "_Y_"."
"RTN","ECXTAUTO",108,0)
 S ECMSG(3,0)=" "
"RTN","ECXTAUTO",109,0)
 S ECMSG(4,0)="The extract was NOT generated.  The first extract of the new fiscal"
"RTN","ECXTAUTO",110,0)
 S ECMSG(5,0)="year will need to be queued to run after any required fiscal year"
"RTN","ECXTAUTO",111,0)
 S ECMSG(6,0)="update is installed."
"RTN","ECXTAUTO",112,0)
 S XMTEXT="ECMSG(" D ^XMD
"RTN","ECXTAUTO",113,0)
 Q
"RTN","ECXTAUTO",114,0)
 ;
"RTN","ECXTAUTO",115,0)
RUNMSG ;
"RTN","ECXTAUTO",116,0)
 S ECSDN=$$FMTE^XLFDT(ECSD),ECEDN=$$FMTE^XLFDT(ECED)
"RTN","ECXTAUTO",117,0)
 S XMSUB=ECINST_" - "_ECPACK_" BACKGROUND EXTRACT FAILURE",XMDUZ="DSS SYSTEM"
"RTN","ECXTAUTO",118,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTAUTO",119,0)
 S ECMSG(1,0)="The "_ECPACK_" extract was automatically requeued to extract"
"RTN","ECXTAUTO",120,0)
 S ECMSG(2,0)="data for "_ECSDN_" through "_ECEDN_"."
"RTN","ECXTAUTO",121,0)
 S ECMSG(3,0)="But a "_ECHEAD_" extract appears to be currently running."
"RTN","ECXTAUTO",122,0)
 S ECMSG(4,0)=" "
"RTN","ECXTAUTO",123,0)
 S ECMSG(5,0)="The requeued extract was NOT generated, but has been requeued"
"RTN","ECXTAUTO",124,0)
 S ECMSG(6,0)="for next month."
"RTN","ECXTAUTO",125,0)
 S XMTEXT="ECMSG(" D ^XMD
"RTN","ECXTAUTO",126,0)
 Q
"RTN","ECXTRAC")
0^28^B49157846
"RTN","ECXTRAC",1,0)
ECXTRAC ;ALB/GTS,JAP,BIR/DMA,CML-Package Extracts for DSS ; 11/08/96 15:37
"RTN","ECXTRAC",2,0)
 ;;3.0;DSS EXTRACTS;**9,8,14,24**;Dec 22, 1997
"RTN","ECXTRAC",3,0)
 ;Date range, queuing and message sending for package extracts
"RTN","ECXTRAC",4,0)
 ;Input ECPACK   printed name of package (e.g. Lab, Prescriptions)
"RTN","ECXTRAC",5,0)
 ;      ECNODE   in file 728 where last date is stored
"RTN","ECXTRAC",6,0)
 ;      ECPIECE  piece of node where last date is stored
"RTN","ECXTRAC",7,0)
 ;      ECRTN    in the form of START^ROUTINE
"RTN","ECXTRAC",8,0)
 ;      ECGRP    name of local mail group to receive summary message
"RTN","ECXTRAC",9,0)
 ;               (MUST BE 1 TO 5 UPPER CASE ALPHA - NO SPACES)
"RTN","ECXTRAC",10,0)
 ;      ECFILE   file number of the local editing file
"RTN","ECXTRAC",11,0)
 ; generates EC23=2nd and 3rd piece of zero node in local editing file
"RTN","ECXTRAC",12,0)
 ;               =YYMM of end date^pointer to 727
"RTN","ECXTRAC",13,0)
 ;
"RTN","ECXTRAC",14,0)
EN ;entry point
"RTN","ECXTRAC",15,0)
 N OUT,CHKFLG
"RTN","ECXTRAC",16,0)
 I '$D(ECNODE) S ECNODE=7
"RTN","ECXTRAC",17,0)
 I '$D(ECHEAD) S ECHEAD=" "
"RTN","ECXTRAC",18,0)
 I $P($G(^ECX(728,1,ECNODE+.1)),U,ECPIECE)]"" D  Q
"RTN","ECXTRAC",19,0)
 .W !!,$C(7),ECPACK," extract is already scheduled to run",!!
"RTN","ECXTRAC",20,0)
 .D PAUSE
"RTN","ECXTRAC",21,0)
 W @IOF,!,"Extract ",ECPACK," Information for DSS",!!
"RTN","ECXTRAC",22,0)
 S:'$D(ECINST) ECINST=+$P(^ECX(728,1,0),U)
"RTN","ECXTRAC",23,0)
 S ECXINST=ECINST
"RTN","ECXTRAC",24,0)
 K ECXDIC S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXTRAC",25,0)
 D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXTRAC",26,0)
 ;* get last date for all extracts except prosthetics
"RTN","ECXTRAC",27,0)
 I ECGRP'="PRO" D
"RTN","ECXTRAC",28,0)
 .S ECLDT=$S($D(^ECX(728,1,ECNODE)):$P(^(ECNODE),U,ECPIECE),1:2610624)
"RTN","ECXTRAC",29,0)
 .S:ECLDT="" ECLDT=2610624
"RTN","ECXTRAC",30,0)
 ;* get last date for prosthetics
"RTN","ECXTRAC",31,0)
 I ECGRP="PRO" D
"RTN","ECXTRAC",32,0)
 .N ECXDA1
"RTN","ECXTRAC",33,0)
 .S ECXDA1=$O(^ECX(728,0))
"RTN","ECXTRAC",34,0)
 .I $D(^ECX(728,ECXDA1,1,ECXINST,0)) D
"RTN","ECXTRAC",35,0)
 ..S ECLDT=$P(^ECX(728,ECXDA1,1,ECXINST,0),U,2)
"RTN","ECXTRAC",36,0)
 .I '$D(^ECX(728,ECXDA1,1,ECXINST,0)) D
"RTN","ECXTRAC",37,0)
 ..S DA(1)=ECXDA1
"RTN","ECXTRAC",38,0)
 ..S DIC(0)="L" K ECXDD
"RTN","ECXTRAC",39,0)
 ..D FIELD^DID(728,59,,"SPECIFIER","ECXDD")
"RTN","ECXTRAC",40,0)
 ..S DIC("P")=ECXDD("SPECIFIER") K ECXDD
"RTN","ECXTRAC",41,0)
 ..S DIC="^ECX(728,"_DA(1)_",1,",X=ECXINST,DINUM=X
"RTN","ECXTRAC",42,0)
 ..K DD,DO D FILE^DICN
"RTN","ECXTRAC",43,0)
 ..K DIC,X,DINUM,Y,DA
"RTN","ECXTRAC",44,0)
 ..S ECLDT=2610624
"RTN","ECXTRAC",45,0)
 S OUT=0
"RTN","ECXTRAC",46,0)
 F  S (ECED,ECSD)="" D  Q:OUT
"RTN","ECXTRAC",47,0)
 .K %DT S %DT="AEX",%DT("A")="Starting with Date: " D ^%DT
"RTN","ECXTRAC",48,0)
 .I Y<0 S OUT=1 Q
"RTN","ECXTRAC",49,0)
 .S ECSD=Y
"RTN","ECXTRAC",50,0)
 .K %DT S %DT="AEX",%DT("A")="Ending with Date: " D ^%DT
"RTN","ECXTRAC",51,0)
 .I Y<0 S OUT=1 Q
"RTN","ECXTRAC",52,0)
 .I Y<ECSD D  Q
"RTN","ECXTRAC",53,0)
 ..W !!,"The ending date cannot be earlier than the starting date."
"RTN","ECXTRAC",54,0)
 ..W !,"Please try again.",!!
"RTN","ECXTRAC",55,0)
 .I $E(Y,1,5)'=$E(ECSD,1,5) D  Q
"RTN","ECXTRAC",56,0)
 ..W !!,"Beginning and ending dates must be in the same month and year."
"RTN","ECXTRAC",57,0)
 ..W !,"Please try again.",!!
"RTN","ECXTRAC",58,0)
 .S ECED=Y
"RTN","ECXTRAC",59,0)
 .I ECLDT'<ECSD D  Q
"RTN","ECXTRAC",60,0)
 ..W !!,"The ",ECPACK," information has already been extracted through ",$$FMTE^XLFDT(ECLDT),"."
"RTN","ECXTRAC",61,0)
 ..W !,"Please enter a new date range.",!!
"RTN","ECXTRAC",62,0)
 .S OUT=1
"RTN","ECXTRAC",63,0)
 I ECED]"",ECSD]"" D QUE
"RTN","ECXTRAC",64,0)
 Q
"RTN","ECXTRAC",65,0)
 ;
"RTN","ECXTRAC",66,0)
QUE ;queue extract
"RTN","ECXTRAC",67,0)
 N CHKFLG
"RTN","ECXTRAC",68,0)
 ;if extract is ivp (i.e., file=727.819) and data in the intermediate file use new format
"RTN","ECXTRAC",69,0)
 I ECFILE=727.819 D  Q:CHKFLG
"RTN","ECXTRAC",70,0)
 .S CHKFLG=0
"RTN","ECXTRAC",71,0)
 .S X="PSIVSTAT" X ^%ZOSF("TEST") I '$T Q
"RTN","ECXTRAC",72,0)
 .I '$D(^ECX(728.113,"A")) S CHKFLG=1 Q
"RTN","ECXTRAC",73,0)
 .S DATE=$O(^ECX(728.113,"A",ECED+1),-1) I DATE<ECSD S CHKFLG=1 Q
"RTN","ECXTRAC",74,0)
 .D CHK^ECXDIVIV Q:CHKFLG
"RTN","ECXTRAC",75,0)
 .D CHK2
"RTN","ECXTRAC",76,0)
 .S ECRTN="START^ECXPIVDN",ECVER=7
"RTN","ECXTRAC",77,0)
 I '$D(ECNODE) S ECNODE=7
"RTN","ECXTRAC",78,0)
 I '$D(ECHEAD) S ECHEAD=""
"RTN","ECXTRAC",79,0)
 S ECSDN=$$FMTE^XLFDT(ECSD),ECEDN=$$FMTE^XLFDT(ECED),ECSD1=ECSD-.1
"RTN","ECXTRAC",80,0)
 K ZTSAVE
"RTN","ECXTRAC",81,0)
 S (ZTSAVE("ECINST"),ZTSAVE("ECED"),ZTSAVE("ECSD"),ZTSAVE("ECSD1"),ZTSAVE("ECEDN"),ZTSAVE("ECSDN"))=""
"RTN","ECXTRAC",82,0)
 S (ZTSAVE("ECPACK"),ZTSAVE("ECPIECE"),ZTSAVE("ECRTN"),ZTSAVE("ECGRP"),ZTSAVE("ECNODE"),ZTSAVE("ECFILE"),ZTSAVE("ECHEAD"),ZTSAVE("ECVER"))=""
"RTN","ECXTRAC",83,0)
 S (ZTSAVE("ECINST"),ZTSAVE("ECXINST"))=""
"RTN","ECXTRAC",84,0)
 S ZTDESC=ECPACK_" EXTRACT: "_ECSDN_" TO "_ECEDN,ZTRTN="START^ECXTRAC",ZTIO=""
"RTN","ECXTRAC",85,0)
 D ^%ZTLOAD
"RTN","ECXTRAC",86,0)
 I $D(ZTSK) D
"RTN","ECXTRAC",87,0)
 .S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)="R"
"RTN","ECXTRAC",88,0)
 .W !,"Request queued as Task #",ZTSK,".",!
"RTN","ECXTRAC",89,0)
 .D PAUSE
"RTN","ECXTRAC",90,0)
 Q
"RTN","ECXTRAC",91,0)
 ;
"RTN","ECXTRAC",92,0)
START ; entry when queued
"RTN","ECXTRAC",93,0)
 S QFLG=0
"RTN","ECXTRAC",94,0)
 L +^ECX(727,0) S EC=$P(^ECX(727,0),U,3)+1,$P(^(0),U,3,4)=EC_U_EC L -^ECX(727,0)
"RTN","ECXTRAC",95,0)
 S ^ECX(727,EC,0)=EC_U_DT_U_ECPACK_U_ECSD_U_$E(ECED,1,7)
"RTN","ECXTRAC",96,0)
 S ^ECX(727,EC,"HEAD")=ECHEAD
"RTN","ECXTRAC",97,0)
 S ^ECX(727,EC,"FILE")=ECFILE
"RTN","ECXTRAC",98,0)
 S ^ECX(727,EC,"GRP")=ECGRP
"RTN","ECXTRAC",99,0)
 I $D(ECVER) S ^ECX(727,EC,"VER")=ECVER
"RTN","ECXTRAC",100,0)
 S ^ECX(727,EC,"DIV")=ECXINST
"RTN","ECXTRAC",101,0)
 S DA=EC,DIK="^ECX(727," D IX^DIK K DIK,DA
"RTN","ECXTRAC",102,0)
 S ECRN=0,ECXYM=$$ECXYM^ECXUTL(ECED),EC23=ECXYM_U_EC
"RTN","ECXTRAC",103,0)
 S ECXSTART=$P($$HTE^XLFDT($H),":",1,2),ECXNOW=$H
"RTN","ECXTRAC",104,0)
 ;do specific extract
"RTN","ECXTRAC",105,0)
 D @ECRTN
"RTN","ECXTRAC",106,0)
 ;if task gets stop request, set ztstop and quit
"RTN","ECXTRAC",107,0)
 I QFLG D  Q
"RTN","ECXTRAC",108,0)
 .S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)="",ZTSTOP=1
"RTN","ECXTRAC",109,0)
 .D QKILL
"RTN","ECXTRAC",110,0)
 .D QMSG
"RTN","ECXTRAC",111,0)
 .D ^ECXKILL
"RTN","ECXTRAC",112,0)
 ;* set last date for all extracts except prosthetics
"RTN","ECXTRAC",113,0)
 S:(ECGRP'="PRO") $P(^ECX(728,1,ECNODE),U,ECPIECE)=$P(ECED,".")
"RTN","ECXTRAC",114,0)
 ;* set last date for prosthetics
"RTN","ECXTRAC",115,0)
 I ECGRP="PRO" D
"RTN","ECXTRAC",116,0)
 .N ECXDA1
"RTN","ECXTRAC",117,0)
 .S ECXDA1=$O(^ECX(728,0))
"RTN","ECXTRAC",118,0)
 .S $P(^ECX(728,ECXDA1,1,ECXINST,0),U,2)=$P(ECED,".")
"RTN","ECXTRAC",119,0)
 S TIME=$P($$HTE^XLFDT($H),":",1,2)
"RTN","ECXTRAC",120,0)
 S $P(^ECX(727,$P(EC23,U,2),0),U,6)=ECRN
"RTN","ECXTRAC",121,0)
 ;set piece 3 and 4 of the zero node
"RTN","ECXTRAC",122,0)
 S ECLAST=$O(^ECX(ECFILE,99999999),-1),ECTOTAL=$P(^ECX(ECFILE,0),U,4)+ECRN,$P(^(0),U,3,4)=ECLAST_U_ECTOTAL K ECLAST,ECTOTAL
"RTN","ECXTRAC",123,0)
 D MSG
"RTN","ECXTRAC",124,0)
 S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)=""
"RTN","ECXTRAC",125,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ECXTRAC",126,0)
 Q
"RTN","ECXTRAC",127,0)
 ;
"RTN","ECXTRAC",128,0)
MSG ; send message to mail group 'DSS-ECGRP'
"RTN","ECXTRAC",129,0)
 S XMSUB=ECINST_" - "_ECPACK_" EXTRACT FOR DSS",XMDUZ="DSS SYSTEM"
"RTN","ECXTRAC",130,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTRAC",131,0)
 S ECMSG(1,0)="The DSS-"_ECPACK_" extract (#"_$P(EC23,U,2)_") for "_ECSDN
"RTN","ECXTRAC",132,0)
 S ECMSG(2,0)="through "_ECEDN_" was begun on "_$P(ECXSTART,"@")_" at "_$P(ECXSTART,"@",2)
"RTN","ECXTRAC",133,0)
 S ECMSG(3,0)="and completed on "_$P(TIME,"@")_" at "_$P(TIME,"@",2)_"."
"RTN","ECXTRAC",134,0)
 S ECMSG(4,0)=" "
"RTN","ECXTRAC",135,0)
 S ECMSG(5,0)="A total of "_ECRN_" records were written."
"RTN","ECXTRAC",136,0)
 S ECMSG(6,0)=" "
"RTN","ECXTRAC",137,0)
 S ECMSG(7,0)="Extract time was [HH:MM:SS] "_$$HDIFF^XLFDT($H,ECXNOW,3)
"RTN","ECXTRAC",138,0)
 S ECMSG(8,0)=" "
"RTN","ECXTRAC",139,0)
 S XMTEXT="ECMSG("
"RTN","ECXTRAC",140,0)
 D ^XMD
"RTN","ECXTRAC",141,0)
 Q
"RTN","ECXTRAC",142,0)
 ;
"RTN","ECXTRAC",143,0)
QMSG ; send abort message to mail group 'DSS-ECGRP'
"RTN","ECXTRAC",144,0)
 S XMSUB=ECINST_" - "_ECPACK_" EXTRACT FOR DSS",XMDUZ="DSS SYSTEM"
"RTN","ECXTRAC",145,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTRAC",146,0)
 S ECMSG(1,0)="The DSS-"_ECPACK_" extract (#"_$P(EC23,U,2)_") for "_ECSDN
"RTN","ECXTRAC",147,0)
 S ECMSG(2,0)="through "_ECEDN_" was begun on "_$P(ECXSTART,"@")_" at "_$P(ECXSTART,"@",2)_"."
"RTN","ECXTRAC",148,0)
 S ECMSG(3,0)=" "
"RTN","ECXTRAC",149,0)
 S ECMSG(4,0)="A user stop request was received by Taskmanager which caused processing"
"RTN","ECXTRAC",150,0)
 S ECMSG(5,0)="to terminate before completion.  Any records which may have been created"
"RTN","ECXTRAC",151,0)
 I ECFILE'=727.816 S ECMSG(6,0)="in file #"_ECFILE_" for this extract have been deleted."
"RTN","ECXTRAC",152,0)
 I ECFILE=727.816 S ECMSG(6,0)="in files #"_ECFILE_" & #727.818 for this extract have been deleted."
"RTN","ECXTRAC",153,0)
 S ECMSG(7,0)=" "
"RTN","ECXTRAC",154,0)
 S XMTEXT="ECMSG("
"RTN","ECXTRAC",155,0)
 D ^XMD
"RTN","ECXTRAC",156,0)
 Q
"RTN","ECXTRAC",157,0)
 ;
"RTN","ECXTRAC",158,0)
QKILL ;delete records created for any extract stopped at user request
"RTN","ECXTRAC",159,0)
 N ECX,FILE,IEN,DA,DIK
"RTN","ECXTRAC",160,0)
 S FILE="^ECX("_ECFILE_","
"RTN","ECXTRAC",161,0)
 S ECX=$P(EC23,U,2)
"RTN","ECXTRAC",162,0)
 F  S IEN=$O(^ECX(ECFILE,999999999),-1) Q:($P(^ECX(ECFILE,IEN,0),U,3)'=ECX)  D
"RTN","ECXTRAC",163,0)
 .S DIK=FILE,DA=IEN D ^DIK
"RTN","ECXTRAC",164,0)
 ;if records in file #727.816 are deleted, do same for file #727.818
"RTN","ECXTRAC",165,0)
 I ECFILE=727.816,ECHEAD="SCX" D
"RTN","ECXTRAC",166,0)
 .F  S IEN=$O(^ECX(727.818,999999999),-1) Q:($P(^ECX(727.818,IEN,0),U,3)'=ECX)  D
"RTN","ECXTRAC",167,0)
 ..S DIK="^ECX(727.818,",DA=IEN D ^DIK
"RTN","ECXTRAC",168,0)
 Q
"RTN","ECXTRAC",169,0)
 ;
"RTN","ECXTRAC",170,0)
CHK2 ;iv extract check - all active iv rooms to have a division
"RTN","ECXTRAC",171,0)
 S EC=0
"RTN","ECXTRAC",172,0)
 F  S EC=$O(^PS(59.5,EC)) Q:'EC  I '$P(^PS(59.5,EC,0),U,4) D  Q:CHKFLG
"RTN","ECXTRAC",173,0)
 .S CHKFLG=$S('$G(^PS(59.5,EC,"I")):1,$G(^PS(59.5,EC,"I"))>DT:1,1:0)
"RTN","ECXTRAC",174,0)
 .I CHKFLG D
"RTN","ECXTRAC",175,0)
 ..W !!,"All active IV Rooms in the IV Room file (#59.5) must have a ""DIVISION""",!,"assigned to run this extract!"
"RTN","ECXTRAC",176,0)
 ..W !!,"This information can be entered using the DSS Extract Manager's Maintenance ",!,"option ""Enter/Edit IV Room Division""."
"RTN","ECXTRAC",177,0)
 ..D PAUSE
"RTN","ECXTRAC",178,0)
 Q
"RTN","ECXTRAC",179,0)
 ;
"RTN","ECXTRAC",180,0)
PAUSE ;pause screen
"RTN","ECXTRAC",181,0)
 S OUT=0
"RTN","ECXTRAC",182,0)
 I $E(IOST)="C" D
"RTN","ECXTRAC",183,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXTRAC",184,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXTRAC",185,0)
 I 'Y S OUT=1
"RTN","ECXTRAC",186,0)
 W !!
"RTN","ECXTRAC",187,0)
 Q
"RTN","ECXTRANS")
0^29^B46002076
"RTN","ECXTRANS",1,0)
ECXTRANS ;ALB/GTS,JAP,BIR/DMA-Extract from Local Editing Files and Transmit ; [ 11/26/96  2:13 PM ]
"RTN","ECXTRANS",2,0)
 ;;3.0;DSS EXTRACTS;**2,9,12,8,13,14,23,24**;Dec 22, 1997
"RTN","ECXTRANS",3,0)
EN ;entry point from option
"RTN","ECXTRANS",4,0)
 N ECDA,ECRE,ECTMP,ECCHK,ECDIVVR,ECXDIQ,JJ,SS,OUT,DIR,DUOUT,DTOUT,DIRUT,DIC,X,Y
"RTN","ECXTRANS",5,0)
 I $G(^ECX(728,1,"QUEUE"))'?1"DM"1U D  Q
"RTN","ECXTRANS",6,0)
 .W !,"You have not defined a proper transmission queue"
"RTN","ECXTRANS",7,0)
 .W !,"for entry number 1 in the DSS EXTRACTS file (#728)."
"RTN","ECXTRANS",8,0)
 .W !,"No transmission allowed."
"RTN","ECXTRANS",9,0)
 .D PAUSE
"RTN","ECXTRANS",10,0)
 S ECXQUEUE=$G(^ECX(728,1,"QUEUE"))
"RTN","ECXTRANS",11,0)
 ;** check divisions for transmission
"RTN","ECXTRANS",12,0)
 S ECCHK=$$DIV4^XUSER(.ECTMP,DUZ)
"RTN","ECXTRANS",13,0)
 I 'ECCHK D  Q
"RTN","ECXTRANS",14,0)
 .W !,"You do not have any divisions defined in your user set up and cannot transmit."
"RTN","ECXTRANS",15,0)
 .S DIR(0)="FAO^1:1",DIR("A")="Hit Return to continue." D ^DIR K DIR,X,Y
"RTN","ECXTRANS",16,0)
 W !!,"Your user setup will only allow you to transmit extracts from the"
"RTN","ECXTRANS",17,0)
 W !," following divisions:",!
"RTN","ECXTRANS",18,0)
 S ECDIVVR=""
"RTN","ECXTRANS",19,0)
 F  S ECDIVVR=$O(ECTMP(ECDIVVR)) Q:'(+ECDIVVR)  D
"RTN","ECXTRANS",20,0)
 .K ECXDIC S DA=ECDIVVR,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01"
"RTN","ECXTRANS",21,0)
 .D EN^DIQ1 W !,"   ",$G(ECXDIC(4,DA,.01,"I")) K DIC,DIQ,DA,DR,ECXDIC
"RTN","ECXTRANS",22,0)
 W !!,"If you can't select an extract, it is probably from another division.",!
"RTN","ECXTRANS",23,0)
 D PAUSE Q:OUT
"RTN","ECXTRANS",24,0)
 S ECRE="",DIC="^ECX(727,",DIC(0)="AEQM",DIC("A")="Transmit which extract: "
"RTN","ECXTRANS",25,0)
 S DIC("S")="I '$D(^ECX(727,+Y,""L"")),'$D(^ECX(727,+Y,""PURG"")),$D(ECTMP(+$P($G(^ECX(727,+Y,""DIV"")),U,1)))"
"RTN","ECXTRANS",26,0)
 D ^DIC
"RTN","ECXTRANS",27,0)
 I Y<0 W !! Q
"RTN","ECXTRANS",28,0)
 ;get data on extract
"RTN","ECXTRANS",29,0)
 S DR="1;2;3;4;5;6;15",(ECDA,DA)=+Y,DIQ(0)="E",DIQ="ECXDIQ" D EN^DIQ1
"RTN","ECXTRANS",30,0)
 ;get max. line count for extract type
"RTN","ECXTRANS",31,0)
 S ECXMAX=0,X=$O(^ECX(727.1,"C",ECXDIQ(727,ECDA,6,"E"),0)) S:X ECXMAX=+$P(^ECX(727.1,X,0),U,11) S:'ECXMAX ECXMAX=200
"RTN","ECXTRANS",32,0)
 W !!,ECXDIQ(727,ECDA,6,"E")_" Extract (#"_ECDA_")",?42,"Records:    ",ECXDIQ(727,ECDA,5,"E")
"RTN","ECXTRANS",33,0)
 W !,"Generated on: ",ECXDIQ(727,ECDA,1,"E"),?42,"Start date: ",ECXDIQ(727,ECDA,3,"E")
"RTN","ECXTRANS",34,0)
 W !,"Division:     ",$E(ECXDIQ(727,ECDA,15,"E"),1,26),?42,"End date:   ",ECXDIQ(727,ECDA,4,"E")
"RTN","ECXTRANS",35,0)
 W !!,"MailMan transmission of the "_ECXDIQ(727,ECDA,2,"E")_" extract is set to a"
"RTN","ECXTRANS",36,0)
 W !,"limit of "_ECXMAX_" lines per message.  Each line holds one extract record."
"RTN","ECXTRANS",37,0)
 I $G(^ECX(727,ECDA,"TR")) S ECX=^("TR") D  Q:OUT
"RTN","ECXTRANS",38,0)
 .S OUT=0
"RTN","ECXTRANS",39,0)
 .W !!,"This extract was transmitted on ",$TR($$FMTE^XLFDT(ECX,"5DF")," ","0")
"RTN","ECXTRANS",40,0)
 .K ECX S DIR(0)="Y",DIR("A")="Do you want to retransmit " D ^DIR K DIR
"RTN","ECXTRANS",41,0)
 .I 'Y S OUT=1 Q
"RTN","ECXTRANS",42,0)
 .K ^ECX(727,ECDA,"TR")
"RTN","ECXTRANS",43,0)
 .S ECRE="re"
"RTN","ECXTRANS",44,0)
 S ECTYPE=$P(^ECX(727,ECDA,0),U,3),ECIEN=+$O(^ECX(727.1,"AC",ECTYPE,0)) S ECPIECE=$P($G(^ECX(727.1,ECIEN,0)),U,10)
"RTN","ECXTRANS",45,0)
 I ECPIECE>0,$P($G(^ECX(728,1,7.1)),U,ECPIECE)]"" D  Q
"RTN","ECXTRANS",46,0)
 .D MES^XPDUTL(" ")
"RTN","ECXTRANS",47,0)
 .D MES^XPDUTL("An "_ECTYPE_" Extract is currently running or scheduled to run.")
"RTN","ECXTRANS",48,0)
 .D MES^XPDUTL("Please wait until that job has completed before attempting")
"RTN","ECXTRANS",49,0)
 .D MES^XPDUTL("this transmission.")
"RTN","ECXTRANS",50,0)
 .D MES^XPDUTL(" ")
"RTN","ECXTRANS",51,0)
 .D PAUSE
"RTN","ECXTRANS",52,0)
 S ZTSK=$G(^ECX(727,ECDA,"Q")) I ZTSK D STAT^%ZTLOAD I ZTSK(0) I ZTSK(1)<3 D  Q
"RTN","ECXTRANS",53,0)
 .W !!,"Task ",ZTSK," is already queued to transmit this extract."
"RTN","ECXTRANS",54,0)
 .K ZTSK
"RTN","ECXTRANS",55,0)
 .D PAUSE
"RTN","ECXTRANS",56,0)
 S ZTSAVE("ECDA")="",ZTSAVE("ECXQUEUE")="",ZTSAVE("ECRE")="",ZTSAVE("ECXMAX")="",ZTRTN="START^ECXTRANS",ZTIO="",ZTDESC="Transmission of extract # "_ECDA
"RTN","ECXTRANS",57,0)
 W !! D ^%ZTLOAD
"RTN","ECXTRANS",58,0)
 I $D(ZTSK) D
"RTN","ECXTRANS",59,0)
 .W !,"Request queued as Task #",ZTSK,"."
"RTN","ECXTRANS",60,0)
 .S ^ECX(727,ECDA,"Q")=ZTSK K ZTSK
"RTN","ECXTRANS",61,0)
 .D PAUSE
"RTN","ECXTRANS",62,0)
 Q
"RTN","ECXTRANS",63,0)
START ; entry point from task
"RTN","ECXTRANS",64,0)
 N DIC,DIQ,DA,DR,ECXDIC,STR,STRCNT
"RTN","ECXTRANS",65,0)
 S:$P(^ECX(727,ECDA,0),U,3)'="Prosthetics" ECINST=$P(^ECX(728,1,0),U)
"RTN","ECXTRANS",66,0)
 S:$P(^ECX(727,ECDA,0),U,3)="Prosthetics" ECINST=$P(^("DIV"),U)
"RTN","ECXTRANS",67,0)
 S DA=ECINST,DIC="^DIC(4,",DIQ(0)="I",DIQ="ECXDIC",DR=".01;99"
"RTN","ECXTRANS",68,0)
 D EN^DIQ1 S ECINST=$G(ECXDIC(4,DA,99,"I"))
"RTN","ECXTRANS",69,0)
 S ECF=^ECX(727,ECDA,"FILE"),ECHEAD=^("HEAD"),ECGRP=^("GRP"),ECED=$P(^(0),U,5),ECPACK=$P(^(0),U,3)
"RTN","ECXTRANS",70,0)
 S ECVER=$G(^("VER")) S:'ECVER ECVER=1 S ECVER=$$RJ^XLFSTR(ECVER,3,0)
"RTN","ECXTRANS",71,0)
 ;all setup extracts for all sites to go to queue DMU - Judy Sine 2/16/95
"RTN","ECXTRANS",72,0)
 I ECPACK["(setup)" S ECXQUEUE="DMU"
"RTN","ECXTRANS",73,0)
 ;all LAR extracts for fy96/fy97 for test sites go to queue DMW;BTSO/AAC 11/18/97
"RTN","ECXTRANS",74,0)
 I ECHEAD="LAR",+ECED<2971001 S ECXQUEUE="DMW"
"RTN","ECXTRANS",75,0)
 K ^TMP($J)
"RTN","ECXTRANS",76,0)
 S ECHD(1)=ECINST_ECHEAD_$$ECXYM^ECXUTL(ECED)_ECVER,ECRN=0,ECMSN=1,ECMIN=2,ECLN=ECMIN
"RTN","ECXTRANS",77,0)
 ;* check for and concat nodes 0 and 1 into one message line
"RTN","ECXTRANS",78,0)
 F J=0:0 S J=$O(^ECX(ECF,"AC",ECDA,J)) Q:'J  Q:$$S^%ZTLOAD  I $D(^ECX(ECF,J,0)) D
"RTN","ECXTRANS",79,0)
 .S ^TMP($J,ECMSN,ECLN,0)=$P(^ECX(ECF,J,0),U,4,100)
"RTN","ECXTRANS",80,0)
 .I $D(^ECX(ECF,J,1)) S ^TMP($J,ECMSN,ECLN,0)=^TMP($J,ECMSN,ECLN,0)_U_$P(^ECX(ECF,J,1),U,1,100)
"RTN","ECXTRANS",81,0)
 .S ^TMP($J,ECMSN,ECLN,0)=^TMP($J,ECMSN,ECLN,0)_U_"~"
"RTN","ECXTRANS",82,0)
 .S ECLN=ECLN+1,ECRN=ECRN+1
"RTN","ECXTRANS",83,0)
 .I ECLN>ECXMAX,$O(^ECX(ECF,"AC",ECDA,J)) S ECLN=ECMIN,ECMSN=ECMSN+1
"RTN","ECXTRANS",84,0)
 ;quit if user stopped task
"RTN","ECXTRANS",85,0)
 I $$S^%ZTLOAD D CLEAN Q
"RTN","ECXTRANS",86,0)
 ;generate mailman messages to aac
"RTN","ECXTRANS",87,0)
 S ECXLNCNT=9,STRCNT=0,STR="",ECXXMZ=0
"RTN","ECXTRANS",88,0)
 F ECMS=1:1:ECMSN D
"RTN","ECXTRANS",89,0)
 .D SEND(.ECXXMZ)
"RTN","ECXTRANS",90,0)
 .S STR=STR_$$RJ^XLFSTR(ECXXMZ,18," "),STRCNT=STRCNT+1 I STRCNT=4 D
"RTN","ECXTRANS",91,0)
 ..S ^TMP($J,"LOC",ECXLNCNT,0)=STR,ECXLNCNT=ECXLNCNT+1
"RTN","ECXTRANS",92,0)
 ..S STR="",STRCNT=0
"RTN","ECXTRANS",93,0)
 I STR]"" S ^TMP($J,"LOC",ECXLNCNT,0)=STR
"RTN","ECXTRANS",94,0)
 ;send msg to local dss grp
"RTN","ECXTRANS",95,0)
 D SENDLOC
"RTN","ECXTRANS",96,0)
 ;if clinic extract, send other portion
"RTN","ECXTRANS",97,0)
 I ECHEAD="CLI" D SENDCLJ
"RTN","ECXTRANS",98,0)
 D CLEAN
"RTN","ECXTRANS",99,0)
 Q
"RTN","ECXTRANS",100,0)
 ;
"RTN","ECXTRANS",101,0)
SEND(ECXXMZ) ;send individual messages
"RTN","ECXTRANS",102,0)
 N ECXDD,DA,DIC,DIE,DINUM,X,XMDUZ,XMTEXT,XMSUB,XMY,XMZ
"RTN","ECXTRANS",103,0)
 S XMSUB="("_ECGRP_") "_ECINST_" - "_ECPACK_" DSS EXTRACT, MESSAGE "_ECMS_" OF "_ECMSN
"RTN","ECXTRANS",104,0)
 S XMDUZ="DSS SYSTEM"
"RTN","ECXTRANS",105,0)
 S ^TMP($J,ECMS,1,0)=ECHD(1)
"RTN","ECXTRANS",106,0)
 S XMY("XXX@Q-"_ECXQUEUE_".VA.GOV")=""
"RTN","ECXTRANS",107,0)
 S XMTEXT="^TMP($J,ECMS,"
"RTN","ECXTRANS",108,0)
 D ^XMD
"RTN","ECXTRANS",109,0)
 S ECXXMZ=XMZ
"RTN","ECXTRANS",110,0)
 ;store msg# in extract log
"RTN","ECXTRANS",111,0)
 D FIELD^DID(727,301,,"SPECIFIER","ECXDD")
"RTN","ECXTRANS",112,0)
 S DA(1)=ECDA,DIC(0)="L",DIC("P")=ECXDD("SPECIFIER")
"RTN","ECXTRANS",113,0)
 S DIC="^ECX(727,"_DA(1)_",1,",X=XMZ,DINUM=X
"RTN","ECXTRANS",114,0)
 K DD,DO D FILE^DICN
"RTN","ECXTRANS",115,0)
 Q
"RTN","ECXTRANS",116,0)
 ;
"RTN","ECXTRANS",117,0)
SENDLOC ; send message to mail group 'DSS-ECGRP'
"RTN","ECXTRANS",118,0)
 S TIME=$P($$HTE^XLFDT($H),":",1,2)
"RTN","ECXTRANS",119,0)
 S XMSUB=ECINST_" - "_ECPACK_" EXTRACT FOR DSS",XMDUZ="DSS SYSTEM"
"RTN","ECXTRANS",120,0)
 K XMY S XMY("G.DSS-"_ECGRP_"@"_^XMB("NETNAME"))=""
"RTN","ECXTRANS",121,0)
 S ^TMP($J,"LOC",1,0)="The DSS "_ECPACK_" ("_ECHEAD_") extract, #"_ECDA_","
"RTN","ECXTRANS",122,0)
 S ^TMP($J,"LOC",2,0)="was "_ECRE_"transmitted on "_$P(TIME,"@")_" at "_$P(TIME,"@",2)_". "
"RTN","ECXTRANS",123,0)
 S ^TMP($J,"LOC",3,0)=" "
"RTN","ECXTRANS",124,0)
 S ^TMP($J,"LOC",4,0)="Maximum number of lines (records) per message: "_ECXMAX
"RTN","ECXTRANS",125,0)
 S ^TMP($J,"LOC",5,0)=" "
"RTN","ECXTRANS",126,0)
 S ^TMP($J,"LOC",6,0)="A total of "_ECRN_" records were written."
"RTN","ECXTRANS",127,0)
 S ^TMP($J,"LOC",7,0)="A total of "_ECMSN_" messages were sent."
"RTN","ECXTRANS",128,0)
 S ^TMP($J,"LOC",8,0)="    Message numbers :"
"RTN","ECXTRANS",129,0)
 S XMTEXT="^TMP($J,""LOC"","
"RTN","ECXTRANS",130,0)
 D ^XMD
"RTN","ECXTRANS",131,0)
 S ^ECX(727,ECDA,"TR")=DT
"RTN","ECXTRANS",132,0)
 Q
"RTN","ECXTRANS",133,0)
 ;
"RTN","ECXTRANS",134,0)
SENDCLJ ;send clj portion of clinic extract
"RTN","ECXTRANS",135,0)
 S ECHEAD="CLJ",ECF=727.818
"RTN","ECXTRANS",136,0)
 K ^TMP($J)
"RTN","ECXTRANS",137,0)
 S ECHD(1)=ECINST_ECHEAD_$$ECXYM^ECXUTL(ECED)_ECVER,ECRN=0,ECMSN=1,ECMIN=2,ECLN=ECMIN
"RTN","ECXTRANS",138,0)
 ;* check for and concat nodes 0 and 1 into one message line
"RTN","ECXTRANS",139,0)
 F J=0:0 S J=$O(^ECX(ECF,"AC",ECDA,J)) Q:'J  Q:$$S^%ZTLOAD  I $D(^ECX(ECF,J,0)) D
"RTN","ECXTRANS",140,0)
 .S ^TMP($J,ECMSN,ECLN,0)=$P(^ECX(ECF,J,0),U,4,100)
"RTN","ECXTRANS",141,0)
 .I $D(^ECX(ECF,J,1)) S ^TMP($J,ECMSN,ECLN,0)=^TMP($J,ECMSN,ECLN,0)_U_$P(^ECX(ECF,J,1),U,1,100)
"RTN","ECXTRANS",142,0)
 .S ^TMP($J,ECMSN,ECLN,0)=^TMP($J,ECMSN,ECLN,0)_U_"~"
"RTN","ECXTRANS",143,0)
 .S ECLN=ECLN+1,ECRN=ECRN+1
"RTN","ECXTRANS",144,0)
 .I ECLN>ECXMAX,$O(^ECX(ECF,"AC",ECDA,J)) S ECLN=ECMIN,ECMSN=ECMSN+1
"RTN","ECXTRANS",145,0)
 ;quit if user stopped task
"RTN","ECXTRANS",146,0)
 I $$S^%ZTLOAD D CLEAN Q
"RTN","ECXTRANS",147,0)
 ;generate mailman messages to aac
"RTN","ECXTRANS",148,0)
 S ECXLNCNT=9,STRCNT=0,STR="",ECXXMZ=0
"RTN","ECXTRANS",149,0)
 F ECMS=1:1:ECMSN D
"RTN","ECXTRANS",150,0)
 .D SEND(.ECXXMZ)
"RTN","ECXTRANS",151,0)
 .S STR=STR_$$RJ^XLFSTR(ECXXMZ,18," "),STRCNT=STRCNT+1 I STRCNT=4 D
"RTN","ECXTRANS",152,0)
 ..S ^TMP($J,"LOC",ECXLNCNT,0)=STR,ECXLNCNT=ECXLNCNT+1
"RTN","ECXTRANS",153,0)
 ..S STR="",STRCNT=0
"RTN","ECXTRANS",154,0)
 I STR]"" S ^TMP($J,"LOC",ECXLNCNT,0)=STR
"RTN","ECXTRANS",155,0)
 ;send msg to local dss grp
"RTN","ECXTRANS",156,0)
 D SENDLOC
"RTN","ECXTRANS",157,0)
 Q
"RTN","ECXTRANS",158,0)
 ;
"RTN","ECXTRANS",159,0)
CLEAN ;clean-up
"RTN","ECXTRANS",160,0)
 S ZTREQ="@"
"RTN","ECXTRANS",161,0)
 K ^TMP($J),^ECX(727,ECDA,"Q"),XMDUZ,XMTEXT,XMSUB,XMY,XMZ
"RTN","ECXTRANS",162,0)
 K ECDA,ECRE,ECTMP,ECCHK,ECDIVVR,ECXDIQ,ECXMAX,ECXMSG
"RTN","ECXTRANS",163,0)
 D ^ECXKILL
"RTN","ECXTRANS",164,0)
 I $$S^%ZTLOAD K ZTREQ S ZTSTOP=1
"RTN","ECXTRANS",165,0)
 Q
"RTN","ECXTRANS",166,0)
 ;
"RTN","ECXTRANS",167,0)
PAUSE ;pause screen
"RTN","ECXTRANS",168,0)
 S OUT=0
"RTN","ECXTRANS",169,0)
 I $E(IOST)="C" D
"RTN","ECXTRANS",170,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXTRANS",171,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXTRANS",172,0)
 I 'Y S OUT=1
"RTN","ECXTRANS",173,0)
 W !!
"RTN","ECXTRANS",174,0)
 Q
"RTN","ECXTRT")
0^30^B35161355
"RTN","ECXTRT",1,0)
ECXTRT ;ALB/JAP,BIR/DMA,CML,PTD-Treating Specialty Change Extract ; [ 01/10/97  4:33 PM ]
"RTN","ECXTRT",2,0)
 ;;3.0;DSS EXTRACTS;**1,8,17,24**;Dec 22, 1997
"RTN","ECXTRT",3,0)
BEG ;entry point from option
"RTN","ECXTRT",4,0)
 D SETUP I ECFILE="" Q
"RTN","ECXTRT",5,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXTRT",6,0)
 Q
"RTN","ECXTRT",7,0)
 ;
"RTN","ECXTRT",8,0)
START ; start package specific extract
"RTN","ECXTRT",9,0)
 N LOC,TRT,SPC
"RTN","ECXTRT",10,0)
 S QFLG=0
"RTN","ECXTRT",11,0)
 K ECXDD D FIELD^DID(405,.19,,"SPECIFIER","ECXDD") S ECPRO=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXTRT",12,0)
 K ^TMP($J,"ECXTMP") S TRT=0
"RTN","ECXTRT",13,0)
 F  S TRT=$O(^DIC(45.7,TRT)) Q:+TRT=0  S SPC=$P(^DIC(45.7,TRT,0),U,2),^TMP($J,"ECXTMP",TRT)=SPC
"RTN","ECXTRT",14,0)
 S ECED=ECED+.3,ECD=ECSD1
"RTN","ECXTRT",15,0)
 ;loop through type 6 movements to get treating specialty and provider changes
"RTN","ECXTRT",16,0)
 F  S ECD=$O(^DGPM("ATT6",ECD)),ECDA=0 Q:'ECD  Q:ECD>ECED  Q:QFLG  F  S ECDA=$O(^DGPM("ATT6",ECD,ECDA)) Q:'ECDA  D  Q:QFLG
"RTN","ECXTRT",17,0)
 .I $D(^DGPM(ECDA,0)) S EC=^(0),ECXDFN=+$P(EC,U,3) D  Q:QFLG
"RTN","ECXTRT",18,0)
 ..S ECXMVD1=$P(EC,U,1)
"RTN","ECXTRT",19,0)
 ..K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXMVD1,"."),"1;",.ECXPAT)
"RTN","ECXTRT",20,0)
 ..I 'OK K ECXPAT Q
"RTN","ECXTRT",21,0)
 ..S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXTRT",22,0)
 ..S ECMT=$P(EC,U,18),ECXADM=$P(EC,U,14),ECXADT=$P($G(^DGPM(ECXADM,0)),U,1)
"RTN","ECXTRT",23,0)
 ..;skip the record if its the admission treat. spec. change for this episode of care
"RTN","ECXTRT",24,0)
 ..Q:ECXADM=$P(EC,U,24)
"RTN","ECXTRT",25,0)
 ..S (ECXLOS,ECXLOSA,ECXLOSP)="" S ECXDSSD=""
"RTN","ECXTRT",26,0)
 ..K LOC D SETLOC(ECXDFN,ECXADM,ECPRO,.LOC)
"RTN","ECXTRT",27,0)
 ..;get data for current (new) ts movement
"RTN","ECXTRT",28,0)
 ..S ECD1=9999999.9999999-ECXMVD1
"RTN","ECXTRT",29,0)
 ..D FINDLOC(ECD1,.LOC,.ECXSPCN,.ECXPRVN,.ECXATTN,.ECXMOVN,.ECXTRTN)
"RTN","ECXTRT",30,0)
 ..Q:ECXSPCN=""
"RTN","ECXTRT",31,0)
 ..S ECD2=$O(LOC(ECD1)) Q:ECD2=""
"RTN","ECXTRT",32,0)
 ..S ECXMVD2=9999999.9999999-ECD2
"RTN","ECXTRT",33,0)
 ..;get data for previous (losing) ts movement
"RTN","ECXTRT",34,0)
 ..D FINDLOC(ECD2,.LOC,.ECXSPCL,.ECXPRVL,.ECXATTL,.ECXMOVL,.ECXTRTL)
"RTN","ECXTRT",35,0)
 ..;if ts has changed, find los on losing ts
"RTN","ECXTRT",36,0)
 ..D:ECXTRTL'=ECXTRTN PREVTRT^ECXTRT1(.LOC,ECD1,ECD2,ECXTRTL,.ECXLOS)
"RTN","ECXTRT",37,0)
 ..;whether ts has changed or not, see if primary provider has changed
"RTN","ECXTRT",38,0)
 ..;dont bother if there's no data on current primary provider or no change in provider
"RTN","ECXTRT",39,0)
 ..D:(ECXPRVN'="")&(ECXPRVN'=ECXPRVL) PREVPRV^ECXTRT1(.LOC,ECD1,ECXPRVN,ECD2,.ECXPRVL,.ECXLOSP)
"RTN","ECXTRT",40,0)
 ..;whether ts has changed or not, see if attending physician has changed
"RTN","ECXTRT",41,0)
 ..;dont bother if theres no data on current attending physician or no change in attending
"RTN","ECXTRT",42,0)
 ..D:(ECXATTN'="")&(ECXATTN'=ECXATTL) PREVATT^ECXTRT1(.LOC,ECD1,ECXATTN,ECD2,.ECXATTL,.ECXLOSA)
"RTN","ECXTRT",43,0)
 ..S ECXDATE=$$ECXDATE^ECXUTL(ECXMVD1,ECXYM),ECXTIME=$$ECXTIME^ECXUTL(ECXMVD1)
"RTN","ECXTRT",44,0)
 ..S ECXADMDT=$$ECXDATE^ECXUTL(ECXADT,ECXYM),ECXADMTM=$$ECXTIME^ECXUTL(ECXADT),ECXDCDT=""
"RTN","ECXTRT",45,0)
 ..S (ECXALNPI,ECXANNPI,ECXPLNPI,ECXPNNPI)=""
"RTN","ECXTRT",46,0)
 ..D FILE
"RTN","ECXTRT",47,0)
 ;for nhcu episodes with intervening asih stays, the los calculated here is not accurate,
"RTN","ECXTRT",48,0)
 ;but it never has been; this is best solution within current extract framework;
"RTN","ECXTRT",49,0)
 ;at discharge the los calculated for nhcu apisodes will be the los since admission w/o asih los subtracted;
"RTN","ECXTRT",50,0)
 ;
"RTN","ECXTRT",51,0)
 ;loop through discharges to get last treating specialty
"RTN","ECXTRT",52,0)
 S ECD=ECSD1
"RTN","ECXTRT",53,0)
 F  S ECD=$O(^DGPM("ATT3",ECD)),ECDA=0 Q:'ECD  Q:ECD>ECED  F  S ECDA=$O(^DGPM("ATT3",ECD,ECDA)) Q:'ECDA  D  Q:QFLG
"RTN","ECXTRT",54,0)
 .I $D(^DGPM(ECDA,0)) S EC=^(0),ECXDFN=+$P(EC,U,3) D  Q:QFLG
"RTN","ECXTRT",55,0)
 ..S ECXMVD1=$P(EC,U,1)
"RTN","ECXTRT",56,0)
 ..K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECXMVD1,"."),"1;",.ECXPAT)
"RTN","ECXTRT",57,0)
 ..I 'OK K ECXPAT Q
"RTN","ECXTRT",58,0)
 ..S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXTRT",59,0)
 ..S (ECXDATE,ECXDCDT)=$$ECXDATE^ECXUTL(ECXMVD1,ECXYM),ECXTIME=$$ECXTIME^ECXUTL(ECXMVD1)
"RTN","ECXTRT",60,0)
 ..S ECMT=$P(EC,U,18),ECXADM=$P(EC,U,14),ECXADT=$P($G(^DGPM(ECXADM,0)),U,1)
"RTN","ECXTRT",61,0)
 ..S ECXADMDT=$$ECXDATE^ECXUTL(ECXADT,ECXYM),ECXADMTM=$$ECXTIME^ECXUTL(ECXADT)
"RTN","ECXTRT",62,0)
 ..S (ECXTRTN,ECXSPCN,ECXPRVN,ECXATTN)="" S (ECXLOS,ECXLOSA,ECXLOSP)="" S ECXDSSD=""
"RTN","ECXTRT",63,0)
 ..K LOC D SETLOC(ECXDFN,ECXADM,ECPRO,.LOC)
"RTN","ECXTRT",64,0)
 ..S ECD1=9999999.9999999-ECXMVD1
"RTN","ECXTRT",65,0)
 ..;get ts change just before d/c
"RTN","ECXTRT",66,0)
 ..S ECD2=$O(LOC(ECD1)),ECXMVD2=9999999.9999999-ECD2
"RTN","ECXTRT",67,0)
 ..D FINDLOC(ECD2,.LOC,.ECXSPCL,.ECXPRVL,.ECXATTL,.ECXMOVL,.ECXTRTL)
"RTN","ECXTRT",68,0)
 ..;if closest ts change is admission ts, cant go back any further
"RTN","ECXTRT",69,0)
 ..S TRT=$O(LOC(ECD2,0)),REC=$O(LOC(ECD2,TRT,0))
"RTN","ECXTRT",70,0)
 ..I REC=ECXADM D
"RTN","ECXTRT",71,0)
 ...S X1=ECXMVD1,X2=ECXMVD2 D ^%DTC S ECXLOS=X
"RTN","ECXTRT",72,0)
 ...I ECXPRVL'="" S X1=ECXMVD1,X2=ECXMVD2 D ^%DTC S ECXLOSP=X
"RTN","ECXTRT",73,0)
 ...I ECXATTL'="" S X1=ECXMVD1,X2=ECXMVD2 D ^%DTC S ECXLOSA=X
"RTN","ECXTRT",74,0)
 ..;otherwise, need to find when change to last ts occurred
"RTN","ECXTRT",75,0)
 ..I REC'=ECXADM D
"RTN","ECXTRT",76,0)
 ...D PREVTRT^ECXTRT1(.LOC,ECD1,ECD2,ECXTRTL,.ECXLOS)
"RTN","ECXTRT",77,0)
 ...D PREVPRV^ECXTRT1(.LOC,ECD1,ECXPRVN,ECD2,.ECXPRVL,.ECXLOSP)
"RTN","ECXTRT",78,0)
 ...D PREVATT^ECXTRT1(.LOC,ECD1,ECXATTN,ECD2,.ECXATTL,.ECXLOSA)
"RTN","ECXTRT",79,0)
 ..S:ECXLOS>9999 ECXLOS=9999 S:ECXLOSA>9999 ECXLOSA=9999 S:ECXLOSP>9999 ECXLOSP=9999
"RTN","ECXTRT",80,0)
 ..S (ECXALNPI,ECXANNPI,ECXPLNPI,ECXPNNPI)=""
"RTN","ECXTRT",81,0)
 ..D FILE
"RTN","ECXTRT",82,0)
 Q
"RTN","ECXTRT",83,0)
 ;
"RTN","ECXTRT",84,0)
SETLOC(ECXDFN,ECXADM,ECXPRO,ECXLOC) ;setup the local array from the ATS index
"RTN","ECXTRT",85,0)
 ; output
"RTN","ECXTRT",86,0)
 ; ECXLOC = local array (passed by reference)
"RTN","ECXTRT",87,0)
 ;
"RTN","ECXTRT",88,0)
 N SUB3,SUB4,SUB5,SPC,PRV,ATT,MOV
"RTN","ECXTRT",89,0)
 S SUB3=0
"RTN","ECXTRT",90,0)
 F  S SUB3=$O(^DGPM("ATS",ECXDFN,ECXADM,SUB3)) Q:SUB3=""  D
"RTN","ECXTRT",91,0)
 .S (SUB4,SUB5)=0
"RTN","ECXTRT",92,0)
 .S SUB4=$O(^DGPM("ATS",ECXDFN,ECXADM,SUB3,SUB4)),SUB5=$O(^DGPM("ATS",ECXDFN,ECXADM,SUB3,SUB4,SUB5))
"RTN","ECXTRT",93,0)
 .S ECXLOC(SUB3,SUB4,SUB5)=""
"RTN","ECXTRT",94,0)
 .S SPC=$G(^TMP($J,"ECXTMP",SUB4))
"RTN","ECXTRT",95,0)
 .S DATA=$G(^DGPM(SUB5,0)),PRV=$P(DATA,U,8),ATT=$P(DATA,U,19),MOV=$P(DATA,U,14)
"RTN","ECXTRT",96,0)
 .S:PRV]"" PRV=ECXPRO_PRV S:ATT]"" ATT=ECXPRO_ATT
"RTN","ECXTRT",97,0)
 .S ECXLOC(SUB3,SUB4,SUB5)=SPC_U_PRV_U_ATT_U_MOV
"RTN","ECXTRT",98,0)
 Q
"RTN","ECXTRT",99,0)
 ;
"RTN","ECXTRT",100,0)
FINDLOC(ECXTSD,ECXLOC,ECXSPC,ECXPRV,ECXATT,ECXMOV,ECXTRT) ;find local array node for current ts movement
"RTN","ECXTRT",101,0)
 ;   input
"RTN","ECXTRT",102,0)
 ;   ECXTSD = inverse date/time for current ts movement; required
"RTN","ECXTRT",103,0)
 ;   ECXLOC = local array; passed by reference; required
"RTN","ECXTRT",104,0)
 ;   output; data from record contained in MOVE
"RTN","ECXTRT",105,0)
 ;   ECXSPC = piece 1 of LOC (passed by reference)
"RTN","ECXTRT",106,0)
 ;   ECXPRV = piece 2 of LOC concatenated to PRO (passed by reference)
"RTN","ECXTRT",107,0)
 ;   ECXATT = piece 3 of LOC concatenated to PRO (passed by reference)
"RTN","ECXTRT",108,0)
 ;   ECXMOV = piece 4 of LOC (passed by reference)
"RTN","ECXTRT",109,0)
 ;   ECXTRT = pointer to file #45.7
"RTN","ECXTRT",110,0)
 ;
"RTN","ECXTRT",111,0)
 N SUB3,SUB4,SUB5,LOC
"RTN","ECXTRT",112,0)
 S (ECXSPC,ECXPRV,ECXATT,ECXMOV)=""
"RTN","ECXTRT",113,0)
 S SUB3=ECXTSD
"RTN","ECXTRT",114,0)
 I $D(ECXLOC(SUB3)) D
"RTN","ECXTRT",115,0)
 .S SUB4=$O(ECXLOC(SUB3,0)),SUB5=$O(ECXLOC(SUB3,SUB4,0))
"RTN","ECXTRT",116,0)
 .S LOC=ECXLOC(SUB3,SUB4,SUB5)
"RTN","ECXTRT",117,0)
 .S ECXTRT=SUB4
"RTN","ECXTRT",118,0)
 .S ECXSPC=$P(LOC,U,1)
"RTN","ECXTRT",119,0)
 .S ECXPRV=$P(LOC,U,2)
"RTN","ECXTRT",120,0)
 .S ECXATT=$P(LOC,U,3)
"RTN","ECXTRT",121,0)
 .S ECXMOV=$P(LOC,U,4)
"RTN","ECXTRT",122,0)
 Q
"RTN","ECXTRT",123,0)
 ;
"RTN","ECXTRT",124,0)
FILE ;file the extract record
"RTN","ECXTRT",125,0)
 ;node0
"RTN","ECXTRT",126,0)
 ;^dfn^ssn^name^i/o^date^product^adm date^d/c date^mov#^type^new ts^losing ts^losing ts los
"RTN","ECXTRT",127,0)
 ;^losing attending^movement type^time^adm time^new provider^new attending^losing provider
"RTN","ECXTRT",128,0)
 ;node1
"RTN","ECXTRT",129,0)
 ;mpi^dss dept^losing attending npi^new provider npi^new attending npi^losing provider npi^losing attending los^losing provider los
"RTN","ECXTRT",130,0)
 ;
"RTN","ECXTRT",131,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXTRT",132,0)
 S ECODE=EC7_U_EC23_U_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_3_U_ECXDATE_U_U_ECXADMDT_U_ECXDCDT
"RTN","ECXTRT",133,0)
 S ECODE=ECODE_U_ECDA_U_6_U_ECXSPCN_U_ECXSPCL_U_ECXLOS_U_ECXATTL_U_ECMT_U_ECXTIME_U_ECXADMTM_U_ECXPRVN_U_ECXATTN_U_ECXPRVL
"RTN","ECXTRT",134,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXALNPI_U_ECXPNNPI_U_ECXANNPI_U_ECXPLNPI_U_ECXLOSA_U_ECXLOSP
"RTN","ECXTRT",135,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXTRT",136,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXTRT",137,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXTRT",138,0)
 Q
"RTN","ECXTRT",139,0)
 ;
"RTN","ECXTRT",140,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXTRT",141,0)
 S ECHEAD="TRT"
"RTN","ECXTRT",142,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXTRT",143,0)
 Q
"RTN","ECXTRT",144,0)
 ;
"RTN","ECXTRT",145,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXTRT",146,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL
"RTN","ECXTRT",147,0)
 Q
"RTN","ECXUD")
0^31^B9226505
"RTN","ECXUD",1,0)
ECXUD ;ALB/JAP,BIR/DMA,PTD-Extract from UNIT DOSE EXTRACT DATA File (#728.904) ; 11/01/96 14:35
"RTN","ECXUD",2,0)
 ;;3.0;DSS EXTRACTS;**10,8,24**;Dec 22, 1997
"RTN","ECXUD",3,0)
BEG ;entry point from option
"RTN","ECXUD",4,0)
 I '$O(^ECX(728.904,"A",0)) W !,"There are no unit dose orders to extract",!! R X:5 K X Q
"RTN","ECXUD",5,0)
 D SETUP I ECFILE="" Q
"RTN","ECXUD",6,0)
 D ^ECXTRAC,^ECXKILL
"RTN","ECXUD",7,0)
 Q
"RTN","ECXUD",8,0)
 ;
"RTN","ECXUD",9,0)
START ;start package specific extract
"RTN","ECXUD",10,0)
 S QFLG=0
"RTN","ECXUD",11,0)
 S ECED=ECED+.3
"RTN","ECXUD",12,0)
 F ECD=ECSD1:0 S ECD=$O(^ECX(728.904,"A",ECD)) Q:'ECD  Q:ECD>ECED  Q:QFLG  D
"RTN","ECXUD",13,0)
 .S ECXJ=0 F  S ECXJ=$O(^ECX(728.904,"A",ECD,ECXJ)) Q:'ECXJ  Q:QFLG  I $D(^ECX(728.904,ECXJ,0)) D
"RTN","ECXUD",14,0)
 ..S DATA=^ECX(728.904,ECXJ,0),^(1)=$P(EC23,U,2),^ECX(728.904,"AC",$P(EC23,U,2),ECXJ)="" D STUFF
"RTN","ECXUD",15,0)
 Q
"RTN","ECXUD",16,0)
 ;
"RTN","ECXUD",17,0)
STUFF ;get data
"RTN","ECXUD",18,0)
 N X,W,OK,P1,P3
"RTN","ECXUD",19,0)
 S ECXDFN=$P(DATA,U,2)
"RTN","ECXUD",20,0)
 K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,$P(ECD,"."),"1;",.ECXPAT)
"RTN","ECXUD",21,0)
 Q:'OK
"RTN","ECXUD",22,0)
 S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN"),ECXMPI=ECXPAT("MPI")
"RTN","ECXUD",23,0)
 S ECXPRO=$P(DATA,U,7),ECXPRO=$E($P(ECXPRO,";",2))_$P(ECXPRO,";"),ECXPRNPI=""
"RTN","ECXUD",24,0)
 S X=$$INP^ECXUTL2(ECXDFN,ECD),ECXMN=$P(X,U,2),ECXTS=$P(X,U,3),ECXADM=$P(X,U,4)
"RTN","ECXUD",25,0)
 S W=$P(DATA,U,6),ECXDIV=$P($G(^DIC(42,+W,0)),U,11),ECXW=$P($G(^DIC(42,+W,44)),U)
"RTN","ECXUD",26,0)
 S ECXUDDT=$$ECXDATE^ECXUTL($P(DATA,U,3),ECXYM),ECXUDTM=$E($P($P(DATA,U,3),".",2)_"000000",1,6)
"RTN","ECXUD",27,0)
 S ECXQTY=$P(DATA,U,5),ECXCOST=$P(DATA,U,8)
"RTN","ECXUD",28,0)
 S ECCAT=$P(^PSDRUG(+$P(DATA,U,4),0),U,2),ECINV=$P(^(0),U,3),ECINV=$S(ECINV["I":"I",1:"")
"RTN","ECXUD",29,0)
 S ECNDC=$P($G(^PSDRUG(+$P(DATA,U,4),2)),U,4),ECNDF=$G(^("ND"))
"RTN","ECXUD",30,0)
 S ECNFC=$$RJ^XLFSTR($P(ECNDC,"-"),6,0)_$$RJ^XLFSTR($P(ECNDC,"-",2),4,0)_$$RJ^XLFSTR($P(ECNDC,"-",3),2,0),ECNFC=$TR(ECNFC,"*",0)
"RTN","ECXUD",31,0)
 S P1=$P(ECNDF,U),P3=$P(ECNDF,U,3)
"RTN","ECXUD",32,0)
 S X="PSNAPIS" X ^%ZOSF("TEST") I $T S ECNFC=$$DSS^PSNAPIS(P1,P3,ECXYM)_ECNFC
"RTN","ECXUD",33,0)
 I $L(ECNFC)=12 S ECNFC=$$RJ^XLFSTR(P1,4,0)_$$RJ^XLFSTR(P3,3,0)_ECNFC
"RTN","ECXUD",34,0)
 S ECXDSSD=""
"RTN","ECXUD",35,0)
 D FILE
"RTN","ECXUD",36,0)
 Q
"RTN","ECXUD",37,0)
 ;
"RTN","ECXUD",38,0)
FILE ;file record
"RTN","ECXUD",39,0)
 ;node0
"RTN","ECXUD",40,0)
 ;facility^dfn^ssn^name^in/out^day^drug category^quantity^ward^provider^cost^mov #^treat spec^ndc^new feeder key^investigational^udp time^adm date^adm time
"RTN","ECXUD",41,0)
 ;node1
"RTN","ECXUD",42,0)
 ;mpi^dss dept^provider npi
"RTN","ECXUD",43,0)
 N DA,DIK
"RTN","ECXUD",44,0)
 S EC7=$O(^ECX(ECFILE,999999999),-1),EC7=EC7+1
"RTN","ECXUD",45,0)
 S ECODE=EC7_U_EC23
"RTN","ECXUD",46,0)
 S ECODE=ECODE_U_ECXDIV_U_ECXDFN_U_ECXSSN_U_ECXPNM_U_"3"_U_ECXUDDT_U_ECCAT_U_ECXQTY_U_ECXW_U_ECXPRO_U_ECXCOST_U_ECXMN_U_ECXTS
"RTN","ECXUD",47,0)
 S ECODE=ECODE_U_ECNDC_U_ECNFC_U_ECINV_U_ECXUDTM_U_$$ECXDATE^ECXUTL(ECXADM,ECXYM)_U_$$ECXTIME^ECXUTL(ECXADM)
"RTN","ECXUD",48,0)
 S ECODE1=ECXMPI_U_ECXDSSD_U_ECXPRNPI
"RTN","ECXUD",49,0)
 S ^ECX(ECFILE,EC7,0)=ECODE,^ECX(ECFILE,EC7,1)=ECODE1,ECRN=ECRN+1
"RTN","ECXUD",50,0)
 S DA=EC7,DIK="^ECX("_ECFILE_"," D IX^DIK K DIK,DA
"RTN","ECXUD",51,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S QFLG=1
"RTN","ECXUD",52,0)
 Q
"RTN","ECXUD",53,0)
 ;
"RTN","ECXUD",54,0)
SETUP ;Set required input for ECXTRAC
"RTN","ECXUD",55,0)
 S ECHEAD="UDP"
"RTN","ECXUD",56,0)
 D ECXDEF^ECXUTL2(ECHEAD,.ECPACK,.ECGRP,.ECFILE,.ECRTN,.ECPIECE,.ECVER)
"RTN","ECXUD",57,0)
 Q
"RTN","ECXUD",58,0)
 ;
"RTN","ECXUD",59,0)
QUE ; entry point for the background requeuing handled by ECXTAUTO
"RTN","ECXUD",60,0)
 D SETUP,QUE^ECXTAUTO,^ECXKILL
"RTN","ECXUD",61,0)
 Q
"RTN","ECXUTL2")
0^32^B27839754
"RTN","ECXUTL2",1,0)
ECXUTL2 ;ALB/JAP - Utilities for DSS Extracts (cont.) ;Aug 5, 1998
"RTN","ECXUTL2",2,0)
 ;;3.0;DSS EXTRACTS;**8,13,23,24**;Dec 22, 1997
"RTN","ECXUTL2",3,0)
 ;
"RTN","ECXUTL2",4,0)
ECXDEF(ECXHEAD,ECXPACK,ECXGRP,ECXFILE,ECXRTN,ECXPIECE,ECXVER) ;variables specific to extract from file #727.1
"RTN","ECXUTL2",5,0)
 ;   input 
"RTN","ECXUTL2",6,0)
 ;   ECXHEAD = extract header code
"RTN","ECXUTL2",7,0)
 ;   all other formal list parameters passed by reference
"RTN","ECXUTL2",8,0)
 ;   output
"RTN","ECXUTL2",9,0)
 ;   ECXPACK = type field (#7)
"RTN","ECXUTL2",10,0)
 ;   ECXGRP  = group field (#9)
"RTN","ECXUTL2",11,0)
 ;   ECXFILE = file number field (#1)
"RTN","ECXUTL2",12,0)
 ;   ECXRTN  = routine field (#4)
"RTN","ECXUTL2",13,0)
 ;   ECXPIECE= running piece field (#11)
"RTN","ECXUTL2",14,0)
 ;   ECXVER  = dss version
"RTN","ECXUTL2",15,0)
 ;
"RTN","ECXUTL2",16,0)
 N ECXIEN,ECXARR,DIC,DA,DR,DIQ
"RTN","ECXUTL2",17,0)
 S (ECXPACK,ECXGRP,ECXFILE,ECXRTN,ECXPIECE,ECXVER)="",ECXIEN=0
"RTN","ECXUTL2",18,0)
 S ECXIEN=+$O(^ECX(727.1,"C",ECXHEAD,ECXIEN)) I ECXIEN=0 D  Q
"RTN","ECXUTL2",19,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",20,0)
 .D MES^XPDUTL(" It appears that you may have a problem with File #727.1 --")
"RTN","ECXUTL2",21,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",22,0)
 .D MES^XPDUTL(" The "_ECHEAD_" Extract is not properly defined.")
"RTN","ECXUTL2",23,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",24,0)
 .D MES^XPDUTL(" Contact National VISTA Support for further assistance.")
"RTN","ECXUTL2",25,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",26,0)
 .I $E(IOST)="C" D
"RTN","ECXUTL2",27,0)
 ..S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXUTL2",28,0)
 ..S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXUTL2",29,0)
 .W !!
"RTN","ECXUTL2",30,0)
 S DIC="^ECX(727.1,",DA=ECXIEN,DR=".01;1;4;7;9;11",DIQ="ECXARR"
"RTN","ECXUTL2",31,0)
 D EN^DIQ1
"RTN","ECXUTL2",32,0)
 S ECXPACK=ECXARR(727.1,ECXIEN,7)
"RTN","ECXUTL2",33,0)
 ;if this is an inactive extract type, skip it
"RTN","ECXUTL2",34,0)
 I ECXPACK["Inactive" D  Q
"RTN","ECXUTL2",35,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",36,0)
 .D MES^XPDUTL(" The "_ECHEAD_" Extract is no longer active/valid.")
"RTN","ECXUTL2",37,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",38,0)
 .D MES^XPDUTL(" Contact National VISTA Support for further assistance.")
"RTN","ECXUTL2",39,0)
 .D MES^XPDUTL(" ")
"RTN","ECXUTL2",40,0)
 .I $E(IOST)="C" D
"RTN","ECXUTL2",41,0)
 ..S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXUTL2",42,0)
 ..S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXUTL2",43,0)
 .W !!
"RTN","ECXUTL2",44,0)
 S ECXGRP=ECXARR(727.1,ECXIEN,9)
"RTN","ECXUTL2",45,0)
 S ECXFILE=ECXARR(727.1,ECXIEN,1)
"RTN","ECXUTL2",46,0)
 S ECXRTN="START^"_ECXARR(727.1,ECXIEN,4)
"RTN","ECXUTL2",47,0)
 S ECXPIECE=ECXARR(727.1,ECXIEN,11)
"RTN","ECXUTL2",48,0)
 ;version of dss/tsi in Austin as specified by btso
"RTN","ECXUTL2",49,0)
 S ECXVER=7
"RTN","ECXUTL2",50,0)
 Q
"RTN","ECXUTL2",51,0)
 ;
"RTN","ECXUTL2",52,0)
SETMAX ;set maximum number of lines/message for extract type
"RTN","ECXUTL2",53,0)
 N DIC,DIE,DA,DR,DTOUT,DUOUT,X,Y,OUT
"RTN","ECXUTL2",54,0)
 W !
"RTN","ECXUTL2",55,0)
 S OUT=0
"RTN","ECXUTL2",56,0)
 F  Q:OUT  Q:$D(DUOUT)!($D(DTOUT))  D
"RTN","ECXUTL2",57,0)
 .W !
"RTN","ECXUTL2",58,0)
 .S DIC="^ECX(727.1,",DIC(0)="AEOMQZ" D ^DIC
"RTN","ECXUTL2",59,0)
 .Q:$D(DUOUT)!($D(DTOUT))  S:Y=-1 OUT=1 Q:OUT
"RTN","ECXUTL2",60,0)
 .S DIE=DIC,DA=+Y,DR="12" D ^DIE
"RTN","ECXUTL2",61,0)
 .Q:$D(DUOUT)!($D(DTOUT))
"RTN","ECXUTL2",62,0)
 W !!
"RTN","ECXUTL2",63,0)
 Q
"RTN","ECXUTL2",64,0)
 ;
"RTN","ECXUTL2",65,0)
PRIMARY(ECXDFN,ECXDATE,ECXPREFX) ;determine patient's pc team and pc provider
"RTN","ECXUTL2",66,0)
 ; input
"RTN","ECXUTL2",67,0)
 ; ECXDFN    = file #2 ien (required)
"RTN","ECXUTL2",68,0)
 ; ECXDATE   = date of interest (required)
"RTN","ECXUTL2",69,0)
 ; ECXPREFX  = prefix for provider data (optional)
"RTN","ECXUTL2",70,0)
 ;             defaults to "2" if not specified otherwise
"RTN","ECXUTL2",71,0)
 ; output
"RTN","ECXUTL2",72,0)
 ; ECXPRIME  = pc team ien^prefix_pc provider ien^pc provider person class^pc provider npi
"RTN","ECXUTL2",73,0)
 ;             ^prefix_assoc pc provider ien^assoc pc provider person class^assoc pc provider npi
"RTN","ECXUTL2",74,0)
 ;
"RTN","ECXUTL2",75,0)
 N ECPTTM,ECPTPR,ECCLAS,ECPRIME,ECASPR,ECCLAS2
"RTN","ECXUTL2",76,0)
 S:'$D(ECXPREFX) ECXPREFX=2 S:(+ECXPREFX=0) ECXPREFX=2
"RTN","ECXUTL2",77,0)
 ;get pc team data
"RTN","ECXUTL2",78,0)
 S ECPTTM=+$$OUTPTTM^SDUTL3(ECXDFN,ECXDATE) S:ECPTTM=0 ECPTTM=""
"RTN","ECXUTL2",79,0)
 ;get primary pc provider data
"RTN","ECXUTL2",80,0)
 S ECPTPR=+$$OUTPTPR^SDUTL3(ECXDFN,ECXDATE)
"RTN","ECXUTL2",81,0)
 S ECCLAS="" I ECPTPR>0 S ECCLAS=$$PRVCLASS^ECXUTL(ECPTPR,ECXDATE)
"RTN","ECXUTL2",82,0)
 S:ECPTPR=0 ECPTPR="" S:ECPTPR]"" ECPTPR=ECXPREFX_ECPTPR
"RTN","ECXUTL2",83,0)
 S ECPTNPI=""
"RTN","ECXUTL2",84,0)
 ;assoc pc provider call ok if routine scapmca from patch177 is present
"RTN","ECXUTL2",85,0)
 S ECASPR=""
"RTN","ECXUTL2",86,0)
 S X="SCAPMCA" X ^%ZOSF("TEST") I $T D
"RTN","ECXUTL2",87,0)
 .S ECASPR=+$$OUTPTAP^SDUTL3(ECXDFN,ECXDATE)
"RTN","ECXUTL2",88,0)
 S ECCLAS2="" I ECASPR>0 S ECCLAS2=$$PRVCLASS^ECXUTL(ECASPR,ECXDATE)
"RTN","ECXUTL2",89,0)
 S:ECASPR=0 ECASPR="" S:ECASPR]"" ECASPR=ECXPREFX_ECASPR
"RTN","ECXUTL2",90,0)
 S ECASNPI=""
"RTN","ECXUTL2",91,0)
 ;assemble
"RTN","ECXUTL2",92,0)
 S ECXPRIME=ECPTTM_U_ECPTPR_U_ECCLAS_U_ECPTNPI_U_ECASPR_U_ECCLAS2_U_ECASNPI
"RTN","ECXUTL2",93,0)
 Q ECXPRIME
"RTN","ECXUTL2",94,0)
 ;
"RTN","ECXUTL2",95,0)
INP(ECXDFN,ECXDATE) ; check for inpatient status
"RTN","ECXUTL2",96,0)
 ; input
"RTN","ECXUTL2",97,0)
 ; ECXDFN  = file #2 ien (required)
"RTN","ECXUTL2",98,0)
 ; ECXDATE = date of interest (required)
"RTN","ECXUTL2",99,0)
 ; output
"RTN","ECXUTL2",100,0)
 ; ECXINP  = patient status^movment # (file #405 ien)^current treat. spec. (file #42.4 ien)^admission date/time^current ward (file #42 ien)^discharge date/time
"RTN","ECXUTL2",101,0)
 ;           ^ward provider^attending phys.^ward (file #44 ien);facility (file #40.8 ien);dss dept
"RTN","ECXUTL2",102,0)
 ;           where patient status = 3 for inpatient
"RTN","ECXUTL2",103,0)
 ;                                = 1 for outpatient
"RTN","ECXUTL2",104,0)
 ;
"RTN","ECXUTL2",105,0)
 N DFN,VAIP,ECA,ECADM,ECMN,ECTS,ECWARD,ECDC,ECXINP,ECXPRO,ECXATP,ECXPWP,ECXWW,WRD,FAC,DSSDEPT
"RTN","ECXUTL2",106,0)
 K ECXDD D FIELD^DID(405,.19,,"SPECIFIER","ECXDD") S ECXPROF=$E(+$P(ECXDD("SPECIFIER"),"P",2)) K ECXDD
"RTN","ECXUTL2",107,0)
 S DFN=ECXDFN
"RTN","ECXUTL2",108,0)
 S ECA=1,(ECMN,ECTS,ECADM,ECWARD,ECDC,ECXINP,ECXATP,ECXPWP,ECXWW,WRD,FAC,DSSDEPT)=""
"RTN","ECXUTL2",109,0)
 K VAIP S VAIP("D")=ECXDATE D IN5^VADPT
"RTN","ECXUTL2",110,0)
 S ECMN=$G(VAIP(1))
"RTN","ECXUTL2",111,0)
 I ECMN D
"RTN","ECXUTL2",112,0)
 .S ECA=3
"RTN","ECXUTL2",113,0)
 .S ECTS=+$P($G(^DIC(45.7,+VAIP(8),0)),U,2) S:ECTS=0 ECTS=""
"RTN","ECXUTL2",114,0)
 .S ECADM=+$G(VAIP(13,1)) S:ECADM=0 ECADM=""
"RTN","ECXUTL2",115,0)
 .S ECWARD=+$G(VAIP(5)) S:ECWARD=0 ECWARD=""
"RTN","ECXUTL2",116,0)
 .I ECWARD S WRD=+$P($G(^DIC(42,+ECWARD,44)),U),FAC=$P($G(^DIC(42,+ECWARD,0)),U,11),DSSDEPT=$P($G(^ECX(727.4,ECWARD,0)),U,2)
"RTN","ECXUTL2",117,0)
 .S ECXWW=WRD_";"_FAC_";"_DSSDEPT
"RTN","ECXUTL2",118,0)
 .S ECDC=+$G(VAIP(17,1)) S:ECDC=0 ECDC=""
"RTN","ECXUTL2",119,0)
 .S ECXPWP=+VAIP(7) S:ECXPWP=0 ECXPWP="" S ECXATP=+VAIP(18) S:ECXATP=0 ECXATP=""
"RTN","ECXUTL2",120,0)
 .;prefix file #200 iens
"RTN","ECXUTL2",121,0)
 .S:ECXPWP ECXPWP=ECXPROF_ECXPWP S:ECXATP ECXATP=ECXPROF_ECXATP
"RTN","ECXUTL2",122,0)
 S ECXINP=ECA_U_ECMN_U_ECTS_U_ECADM_U_ECWARD_U_ECDC_U_ECXPWP_U_ECXATP_U_ECXWW
"RTN","ECXUTL2",123,0)
 Q ECXINP
"RTN","ECXUTL2",124,0)
 ;
"RTN","ECXUTL2",125,0)
VISN19(ECXDFN,ECXPAYOR,ECXSAI) ;visn 19 sharing agreement data
"RTN","ECXUTL2",126,0)
 ; input  ECXDFN = patient file ien
"RTN","ECXUTL2",127,0)
 ; output ECXPAYOR, ECXSAI (passed by reference)
"RTN","ECXUTL2",128,0)
 ;
"RTN","ECXUTL2",129,0)
 N JJ,ALIAS,INSUR,DIC,DIQ,DA,DR,ECXARY,ECXERR,ECXDA
"RTN","ECXUTL2",130,0)
 S (ECXPAYOR,ECXSAI)=""
"RTN","ECXUTL2",131,0)
 D GETS^DIQ(2,ECXDFN,"1*,","I","ECXARY","ECXERR")
"RTN","ECXUTL2",132,0)
 I $D(ECXERR) Q
"RTN","ECXUTL2",133,0)
 S JJ=0 F  S JJ=$O(ECXARY(2.01,JJ)) Q:JJ=""  D  I ECXPAYOR]"" Q
"RTN","ECXUTL2",134,0)
 . S ALIAS=$G(ECXARY(2.01,JJ,.01,"I"))
"RTN","ECXUTL2",135,0)
 . S ECXPAYOR=$S(ALIAS="SHARING AGREEMENT":"A",ALIAS="TRICARE":"B",ALIAS="CAT C":"C",ALIAS="CATEGORY C":"C",ALIAS="CHAMPVA":"D",ALIAS="CHAMPUS":"E",1:"")
"RTN","ECXUTL2",136,0)
 K ECXARY,ECXERR
"RTN","ECXUTL2",137,0)
 I ECXPAYOR]"" D GETS^DIQ(2,ECXDFN,".3121*,","I","ECXARY","ECXERR") D
"RTN","ECXUTL2",138,0)
 . I $D(ECXERR) Q
"RTN","ECXUTL2",139,0)
 . S JJ=0,ECXDA=$O(ECXARY(2.312,JJ)) I ECXDA="" Q
"RTN","ECXUTL2",140,0)
 . S DA=$G(ECXARY(2.312,ECXDA,.01,"I")) I DA="" Q
"RTN","ECXUTL2",141,0)
 . S INSUR=$$GET1^DIQ(36,DA,".01","I","","ECXERR")
"RTN","ECXUTL2",142,0)
 . I '$D(ECXERR) S ECXSAI=$E(ECXARY(2.312,ECXDA,.01,"I"),1,11)
"RTN","ECXUTL2",143,0)
 Q
"RTN","ECXUTL3")
0^33^B46653535
"RTN","ECXUTL3",1,0)
ECXUTL3 ;ALB/GTS - Utilities for DSS Extracts ;October 2, 1998
"RTN","ECXUTL3",2,0)
 ;;3.0;DSS EXTRACTS;**11,24**;Dec 22, 1997
"RTN","ECXUTL3",3,0)
 ;
"RTN","ECXUTL3",4,0)
OUTPTTM(ECXDFN,ECXDT) ;* Return PC Team from PCMM files or DPT
"RTN","ECXUTL3",5,0)
 ; Variables -
"RTN","ECXUTL3",6,0)
 ;            ECXDFN - IEN from Patient file (Required)
"RTN","ECXUTL3",7,0)
 ;            ECXDT  - Relevant Date for Primary Care Team
"RTN","ECXUTL3",8,0)
 ;                      (Defaults to DT)
"RTN","ECXUTL3",9,0)
 ;
"RTN","ECXUTL3",10,0)
 ; Returned: ECXTM -
"RTN","ECXUTL3",11,0)
 ;            Pointer to team file (#404.51)
"RTN","ECXUTL3",12,0)
 ;            or, if error or none defined, returns 0
"RTN","ECXUTL3",13,0)
 ;
"RTN","ECXUTL3",14,0)
 Q:'$G(ECXDFN) 0 ;** Quit if ECXDFN not defined
"RTN","ECXUTL3",15,0)
 N ECXTM
"RTN","ECXUTL3",16,0)
 S:'$D(ECXDT) ECXDT=DT
"RTN","ECXUTL3",17,0)
 I $T(OUTPTTM^SDUTL3)[",SCDATE" D
"RTN","ECXUTL3",18,0)
 .S ECXTM=+$$OUTPTTM^SDUTL3(ECXDFN,ECXDT)
"RTN","ECXUTL3",19,0)
 I $T(OUTPTTM^SDUTL3)'[",SCDATE" D
"RTN","ECXUTL3",20,0)
 .S ECXTM=+$$OUTPTTM^SDUTL3(ECXDFN)
"RTN","ECXUTL3",21,0)
 I ECXTM=0 D
"RTN","ECXUTL3",22,0)
 .S ECXTM=+$P($G(^DPT(+ECXDFN,"PC")),U,2)
"RTN","ECXUTL3",23,0)
 Q ECXTM
"RTN","ECXUTL3",24,0)
 ;
"RTN","ECXUTL3",25,0)
OUTPTPR(ECXDFN,ECXDT) ;* Return PC Provider from PCMM files or DPT
"RTN","ECXUTL3",26,0)
 ; Variables -
"RTN","ECXUTL3",27,0)
 ;            ECXDFN - IEN from Patient file (Required)
"RTN","ECXUTL3",28,0)
 ;            ECXDT  - Relevant Date for Primary Care Provider
"RTN","ECXUTL3",29,0)
 ;                      (Defaults to DT)
"RTN","ECXUTL3",30,0)
 ;
"RTN","ECXUTL3",31,0)
 ; Returned: ECXPR -
"RTN","ECXUTL3",32,0)
 ;            Pointer to file #200 
"RTN","ECXUTL3",33,0)
 ;            or, if error or none defined, returns a 0
"RTN","ECXUTL3",34,0)
 ;
"RTN","ECXUTL3",35,0)
 Q:'$G(ECXDFN) 0 ;** Quit if ECXDFN not defined
"RTN","ECXUTL3",36,0)
 N ECXPR
"RTN","ECXUTL3",37,0)
 S:'$D(ECXDT) ECXDT=DT
"RTN","ECXUTL3",38,0)
 I $T(OUTPTPR^SDUTL3)[",SCDATE" D
"RTN","ECXUTL3",39,0)
 .S ECXPR=+$$OUTPTPR^SDUTL3(ECXDFN,ECXDT)
"RTN","ECXUTL3",40,0)
 I $T(OUTPTPR^SDUTL3)'[",SCDATE" D
"RTN","ECXUTL3",41,0)
 .S ECXPR=+$$OUTPTPR^SDUTL3(ECXDFN)
"RTN","ECXUTL3",42,0)
 I ECXPR=0 D
"RTN","ECXUTL3",43,0)
 .S ECXPR=+$G(^DPT(+ECXDFN,"PC"))
"RTN","ECXUTL3",44,0)
 Q ECXPR
"RTN","ECXUTL3",45,0)
 ;
"RTN","ECXUTL3",46,0)
PAT(ECXDFN,ECXDATE,ECXDATA,ECXPAT) ;Return basic patient data for extract
"RTN","ECXUTL3",47,0)
 ; Will not return data associated with test patients (SSN begin w 00000)
"RTN","ECXUTL3",48,0)
 ; Variables -
"RTN","ECXUTL3",49,0)
 ;  Input  ECXDFN - Patient internal entry number, DFN file#2; required
"RTN","ECXUTL3",50,0)
 ;         ECXDATE- Date used to get specific data from GETSTAT^DGMSTAPI
"RTN","ECXUTL3",51,0)
 ;                  for MST. If no date, defaults to today's date,
"RTN","ECXUTL3",52,0)
 ;                  standard FM format, optional
"RTN","ECXUTL3",53,0)
 ;         ECXDATA- Code indicating which data to return, optional.
"RTN","ECXUTL3",54,0)
 ;                  If code not specified then returns all. Codes are:
"RTN","ECXUTL3",55,0)
 ;                  1 - DEM^VADPT (demographic data)
"RTN","ECXUTL3",56,0)
 ;                  2 - ADD^VADPT (current address)
"RTN","ECXUTL3",57,0)
 ;                  3 - ELIG^VADPT (eligibility & enrollment location)
"RTN","ECXUTL3",58,0)
 ;                  4 - OPD^VADPT (other patient data)
"RTN","ECXUTL3",59,0)
 ;                  5 - SVC^VADPT & GETSTAT^DGMSTAPI (service & MST inf)
"RTN","ECXUTL3",60,0)
 ;         ECXPAT(- Passed by referece; required
"RTN","ECXUTL3",61,0)
 ;
"RTN","ECXUTL3",62,0)
 ;  Output:
"RTN","ECXUTL3",63,0)
 ;         ECXPAT   0 error or test patient no data in ECXPAT array
"RTN","ECXUTL3",64,0)
 ;                  1 data returneed in ECXPAT array
"RTN","ECXUTL3",65,0)
 ;         ECXPAT(  Local array with patient data.
"RTN","ECXUTL3",66,0)
 ;
"RTN","ECXUTL3",67,0)
 N SSN,I,ECXCOD,ECXDAT,DFN,VAPA,VADM,VAEL,VAPD,VASV,STR,ECXAR,DIC,DIQ
"RTN","ECXUTL3",68,0)
 N DA,DR,PELG,MELIG,ZIP
"RTN","ECXUTL3",69,0)
 I ECXDFN="" Q 0
"RTN","ECXUTL3",70,0)
 S SSN=$$GET1^DIQ(2,ECXDFN,.09,"I"),DFN=ECXDFN,ECXPAT=0
"RTN","ECXUTL3",71,0)
 I $E(SSN,1,5)="00000"!(SSN="") K ECXPAT Q 0  ;test patient
"RTN","ECXUTL3",72,0)
 S STR="NAME;SSN;DOB;SEX;RACE;RELIGION;STATE;COUNTY;ZIP;SC%;MEANS;ELIG;"
"RTN","ECXUTL3",73,0)
 S STR=STR_"EMPLOY;AO STAT;IR STAT;EC STAT;POW STAT;POW LOC;MST STAT;"
"RTN","ECXUTL3",74,0)
 S STR=STR_"ENROLL LOC;MPI;VIETNAM;POS;MARITAL"
"RTN","ECXUTL3",75,0)
 ;initialize return array values
"RTN","ECXUTL3",76,0)
 F I=1:1 S ECXDAT=$P(STR,";",I) Q:ECXDAT=""  S ECXPAT(ECXDAT)=""
"RTN","ECXUTL3",77,0)
 F I=1:1:$L(ECXDATA,";") S ECXDAT=$P(ECXDATA,";",I) I ECXDAT'="" D
"RTN","ECXUTL3",78,0)
 . S ECXCOD(ECXDAT)=""
"RTN","ECXUTL3",79,0)
 ;get icn if mpi installed
"RTN","ECXUTL3",80,0)
 S X="MPIF001" X ^%ZOSF("TEST") I $T D
"RTN","ECXUTL3",81,0)
 . S MPI=$$GETICN^MPIF001(DFN)
"RTN","ECXUTL3",82,0)
 . S MPI=$E(MPI,"V",1),ECXPAT("MPI")=MPI
"RTN","ECXUTL3",83,0)
 D  ;get demographic data
"RTN","ECXUTL3",84,0)
 . I ECXDATA'="",'$D(ECXCOD(1)) Q
"RTN","ECXUTL3",85,0)
 . D DEM^VADPT
"RTN","ECXUTL3",86,0)
 . S ECXPAT("NAME")=$E($P(VADM(1),",")_"    ",1,4)
"RTN","ECXUTL3",87,0)
 . S ECXPAT("SSN")=$P(VADM(2),U),ECXPAT("MARITAL")=$P(VADM(10),U)
"RTN","ECXUTL3",88,0)
 . S ECXPAT("DOB")=$$ECXDOB^ECXUTL($P(VADM(3),U))
"RTN","ECXUTL3",89,0)
 . S ECXPAT("SEX")=$P(VADM(5),U),ECXPAT("RELIGION")=$P(VADM(9),U)
"RTN","ECXUTL3",90,0)
 . S DIC=10,DR=2,DA=+VADM(8),DIQ="ECXAR",DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",91,0)
 . S ECXPAT("RACE")=$G(ECXAR(10,DA,DR,"I")),ECXPAT=1
"RTN","ECXUTL3",92,0)
 D  ;get address information
"RTN","ECXUTL3",93,0)
 . I ECXDATA'="",'$D(ECXCOD(2)) Q
"RTN","ECXUTL3",94,0)
 . D ADD^VADPT
"RTN","ECXUTL3",95,0)
 . S DIC=5,DR=2,DA=+VAPA(5),DIQ="ECXAR",DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",96,0)
 . S ECXPAT("STATE")=$G(ECXAR(5,DA,DR,"I"))
"RTN","ECXUTL3",97,0)
 . S DIC=5,DA=+VAPA(5),DR=3,DR(5.01)=2,DA(5.01)=+VAPA(7),DIQ="ECXAR"
"RTN","ECXUTL3",98,0)
 . S DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",99,0)
 . S ECXPAT("COUNTY")=$G(ECXAR(5.01,DA(5.01),2,"I"))
"RTN","ECXUTL3",100,0)
 . S ECXPAT("ZIP")=$P(VAPA(11),U,2),ECXPAT=1
"RTN","ECXUTL3",101,0)
 D  ;get eligibility information
"RTN","ECXUTL3",102,0)
 . I ECXDATA'="",'$D(ECXCOD(3)) Q
"RTN","ECXUTL3",103,0)
 . D ELIG^VADPT
"RTN","ECXUTL3",104,0)
 . S PELG=$P(VAEL(1),U),MELIG=$S(PELG="":"",1:$$GET1^DIQ(8,PELG,8,"I"))
"RTN","ECXUTL3",105,0)
 . S ECXPAT("POS")=$P(VAEL(2),U) I ECXPAT("POS")'="" D
"RTN","ECXUTL3",106,0)
 . . S ECXPAT("POS")=$$GET1^DIQ(21,ECXPAT("POS"),.03,"I")
"RTN","ECXUTL3",107,0)
 . S ECXPAT("SC STAT")=$S(+VAEL(3):"Y",+VAEL(3)=0:"N",1:"")
"RTN","ECXUTL3",108,0)
 . S ECXPAT("SC%")=$P(VAEL(3),U,2)
"RTN","ECXUTL3",109,0)
 . S ECXPAT("VET")=$S(VAEL(4):"Y",VAEL(4)=0:"N",1:"")
"RTN","ECXUTL3",110,0)
 . S ECXPAT("MEANS")=$P(VAEL(9),U),ECXPAT=1
"RTN","ECXUTL3",111,0)
 . S ECXPAT("ELIG")=$$ELIG(MELIG,ECXPAT("SC%"))
"RTN","ECXUTL3",112,0)
 . ;get enrollment location
"RTN","ECXUTL3",113,0)
 . S DIC=2,DR=27.02,DA=ECXDFN,DIQ="ECXAR",DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",114,0)
 . S ECXDAT=$G(ECXAR(2,ECXDFN,DR,"I")) I ECXDAT K ECXAR D
"RTN","ECXUTL3",115,0)
 . . S DIC=4,DA=ECXDAT,DR=99,DIQ="ECXAR",DIQ(0)="I" D EN^DIQ1
"RTN","ECXUTL3",116,0)
 . . S ECXPAT("ENROLL LOC")=ECXAR(4,ECXDAT,DR,"I")
"RTN","ECXUTL3",117,0)
 D  ;get other patient information
"RTN","ECXUTL3",118,0)
 . I ECXDATA'="",'$D(ECXCOD(4)) Q
"RTN","ECXUTL3",119,0)
 . D OPD^VADPT
"RTN","ECXUTL3",120,0)
 . S ECXPAT("EMPLOY")=$P(VAPD(7),U),ECXPAT=1
"RTN","ECXUTL3",121,0)
 D  ;get service information
"RTN","ECXUTL3",122,0)
 . I ECXDATA'="",'$D(ECXCOD(5)) Q
"RTN","ECXUTL3",123,0)
 . D SVC^VADPT
"RTN","ECXUTL3",124,0)
 . S ECXPAT("VIETNAM")=$S(VASV(1):"Y",VASV(2)=0:"N",1:"U")
"RTN","ECXUTL3",125,0)
 . S ECXPAT("AO STAT")=$S(VASV(2):"Y",VASV(2)=0:"N",1:"U")
"RTN","ECXUTL3",126,0)
 . S ECXPAT("IR STAT")=$S(VASV(3):"Y",VASV(3)=0:"N",1:"U")
"RTN","ECXUTL3",127,0)
 . S ECXPAT("EC STAT")=$$GET1^DIQ(2,ECXDFN,.322013,"I")
"RTN","ECXUTL3",128,0)
 . S ECXPAT("POW STAT")=$S(VASV(4):"Y",VASV(4)=0:"N",1:"U")
"RTN","ECXUTL3",129,0)
 . S ECXPAT("POW LOC")=$P(VASV(4,3),U),ECXPAT=1
"RTN","ECXUTL3",130,0)
 . ;get patient current MST status
"RTN","ECXUTL3",131,0)
 . I ECXDATE'="",ECXDATE'["." S ECXDATE=ECXDATE+.9
"RTN","ECXUTL3",132,0)
 . S X="DGMSTAPI" X ^%ZOSF("TEST") I $T D
"RTN","ECXUTL3",133,0)
 . . S ECXDAT=$$GETSTAT^DGMSTAPI(DFN,ECXDATE)
"RTN","ECXUTL3",134,0)
 . . S ECXPAT("MST STAT")=$S(+ECXDAT>0:$P(ECXDAT,U,2),1:"")
"RTN","ECXUTL3",135,0)
 I 'ECXPAT K ECXPAT Q 0
"RTN","ECXUTL3",136,0)
 Q 1
"RTN","ECXUTL3",137,0)
 ;
"RTN","ECXUTL3",138,0)
ELIG(ECXELIG,ECXSVCP) ;Converts veteran eligibility code to NPCD code
"RTN","ECXUTL3",139,0)
 ; Variables -
"RTN","ECXUTL3",140,0)
 ;  Input  ECXELIG - Pointer to MAS ELIGIBILITY CODE file #8.1
"RTN","ECXUTL3",141,0)
 ;         ECXSVCP - Number value rep. service connected percentage.
"RTN","ECXUTL3",142,0)
 ;
"RTN","ECXUTL3",143,0)
 ;  Output:
"RTN","ECXUTL3",144,0)
 ;         ECXNCPD  NPCD Eligibility Code
"RTN","ECXUTL3",145,0)
 ;
"RTN","ECXUTL3",146,0)
 N TEXT,IEN,SCPER,FND,NPCD,I,ECXBG,ECXEN,ECXNPCD
"RTN","ECXUTL3",147,0)
 I ECXELIG="" Q ""
"RTN","ECXUTL3",148,0)
 F I=1:1 S TEXT=$P($T(ELGTXT+I),";",3,999) Q:TEXT="END"  D  I $D(NPCD) Q
"RTN","ECXUTL3",149,0)
 . S IEN=$P(TEXT,";"),SCPER=$P(TEXT,";",2)
"RTN","ECXUTL3",150,0)
 . I ECXELIG=IEN D
"RTN","ECXUTL3",151,0)
 . . I SCPER="" S NPCD=$P(TEXT,";",3) Q
"RTN","ECXUTL3",152,0)
 . . S ECXBG=$S($E(SCPER)="<":0,$E(SCPER)=">":$P(SCPER,">",2)+1,SCPER["-":+SCPER,1:"")
"RTN","ECXUTL3",153,0)
 . . S ECXEN=$S($E(SCPER)="<":$P(SCPER,"<",2),$E(SCPER)=">":100,SCPER["-":$P(SCPER,"-",2),1:"")
"RTN","ECXUTL3",154,0)
 . . I ECXSVCP'<ECXBG,ECXSVCP'>ECXEN S NPCD=$P(TEXT,";",3)
"RTN","ECXUTL3",155,0)
 S ECXNPCD=$G(NPCD)
"RTN","ECXUTL3",156,0)
 Q ECXNPCD
"RTN","ECXUTL3",157,0)
ELGTXT ;Eligibility codes
"RTN","ECXUTL3",158,0)
 ;;1;>49;10;SC 50-100%
"RTN","ECXUTL3",159,0)
 ;;2;;20;Aid & Attendance
"RTN","ECXUTL3",160,0)
 ;;15;;21;Housebound
"RTN","ECXUTL3",161,0)
 ;;16;;22;Mexican Border War
"RTN","ECXUTL3",162,0)
 ;;17;;23;WWI
"RTN","ECXUTL3",163,0)
 ;;18;;24;POW
"RTN","ECXUTL3",164,0)
 ;;3;40-49;30;SC 40-49%
"RTN","ECXUTL3",165,0)
 ;;3;30-39;31;SC 30-39%
"RTN","ECXUTL3",166,0)
 ;;3;20-29;32;SC 20-29%
"RTN","ECXUTL3",167,0)
 ;;3;10-19;33;SC 10-19%
"RTN","ECXUTL3",168,0)
 ;;3;<10;34;SC less than 10%
"RTN","ECXUTL3",169,0)
 ;;4;;40;NSC - VA Pension
"RTN","ECXUTL3",170,0)
 ;;5;;50;NSC
"RTN","ECXUTL3",171,0)
 ;;21;;60;Catastrophic Disability
"RTN","ECXUTL3",172,0)
 ;;12;;101;CHAMPVA
"RTN","ECXUTL3",173,0)
 ;;13;;102;Collateral of Veteran
"RTN","ECXUTL3",174,0)
 ;;14;;103;Employee
"RTN","ECXUTL3",175,0)
 ;;6;;104;Other Federal Agency
"RTN","ECXUTL3",176,0)
 ;;7;;105;Allied Veteran
"RTN","ECXUTL3",177,0)
 ;;8;;106;Humanitarian Emergency
"RTN","ECXUTL3",178,0)
 ;;9;;107;Sharing Agreement
"RTN","ECXUTL3",179,0)
 ;;10;;108;;Reimbursable Insurance
"RTN","ECXUTL3",180,0)
 ;;19;;109;;TRICARE/CHAMPUS
"RTN","ECXUTL3",181,0)
 ;;END
"RTN","ECXUTL3",182,0)
 ;
"RTN","ECXUTL3",183,0)
CPT(ECXCPT,ECXCMOD) ;Returns a string with CPT code and modifier codes
"RTN","ECXUTL3",184,0)
 ;Return string is composed of a 5 character CPT code plus up to 5
"RTN","ECXUTL3",185,0)
 ;modifier codes, 2 characters each.
"RTN","ECXUTL3",186,0)
 ; Variables -
"RTN","ECXUTL3",187,0)
 ;  Input  ECXCPT  - Pointer value to the CPT file (#81)
"RTN","ECXUTL3",188,0)
 ;         ECXCMOD - A string with pointer values to the CPT
"RTN","ECXUTL3",189,0)
 ;                   MODIFIER file (#81.3) separated by ";"
"RTN","ECXUTL3",190,0)
 ;
"RTN","ECXUTL3",191,0)
 ;  Output:
"RTN","ECXUTL3",192,0)
 ;         CPTMOD  - String of up to 15 characters, 5 character CPT
"RTN","ECXUTL3",193,0)
 ;                   code plus up to 5 2-character code modifiers.
"RTN","ECXUTL3",194,0)
 ;
"RTN","ECXUTL3",195,0)
 N CPT,ECXSTR,MOD,I,CPTMOD
"RTN","ECXUTL3",196,0)
 S $P(ECXSTR," ",15)=" "
"RTN","ECXUTL3",197,0)
 S CPT=$$CPT^ICPTCOD(ECXCPT,"") I +CPT=-1 Q ECXSTR
"RTN","ECXUTL3",198,0)
 S CPT=$P(CPT,U,2)
"RTN","ECXUTL3",199,0)
 F I=1:1:99 I $P(ECXCMOD,";",I)'="" D
"RTN","ECXUTL3",200,0)
 . S MOD=$$MOD^ICPTMOD($P(ECXCMOD,";",I),"I","")
"RTN","ECXUTL3",201,0)
 . I +MOD>0,$P(MOD,U,2)'="99" S CPT=CPT_$P(MOD,U,2)
"RTN","ECXUTL3",202,0)
 S CPTMOD=$E(CPT_ECXSTR,1,15)
"RTN","ECXUTL3",203,0)
 Q CPTMOD
"RTN","ECXUTL3",204,0)
 ;
"RTN","ECXUTL3",205,0)
CPTOUT(ECXCPT) ;output transform for CPT code plus modifiers
"RTN","ECXUTL3",206,0)
 ;input  ECXCPT  - 15 character string of CPT code plus modifiers (required)
"RTN","ECXUTL3",207,0)
 ;
"RTN","ECXUTL3",208,0)
 N J,CPTX,MOD,MODS,MODX
"RTN","ECXUTL3",209,0)
 S ECXCPT=$TR(ECXCPT," ","")
"RTN","ECXUTL3",210,0)
 S CPTX=$E(ECXCPT,1,5),MODS=$E(ECXCPT,6,15),MODX=""
"RTN","ECXUTL3",211,0)
 I MODS]"" S MODX=" - " D
"RTN","ECXUTL3",212,0)
 .F J=1:2:9 D
"RTN","ECXUTL3",213,0)
 ..S MOD=$E(MODS,J,J+1) I MOD]"" S:J=1 MODX=MODX_MOD S:J>1 MODX=MODX_","_MOD
"RTN","ECXUTL3",214,0)
 S CPTX=CPTX_MODX
"RTN","ECXUTL3",215,0)
 Q CPTX
"SEC","^DIC",727.5,727.5,0,"AUDIT")
@
"SEC","^DIC",727.5,727.5,0,"DD")
^
"SEC","^DIC",727.5,727.5,0,"DEL")
^
"SEC","^DIC",727.5,727.5,0,"LAYGO")
^
"SEC","^DIC",727.5,727.5,0,"WR")
^
"SEC","^DIC",727.816,727.816,0,"AUDIT")
@
"SEC","^DIC",727.816,727.816,0,"DD")
@
"SEC","^DIC",727.816,727.816,0,"DEL")
@
"SEC","^DIC",727.816,727.816,0,"LAYGO")
@
"SEC","^DIC",727.816,727.816,0,"RD")
@
"SEC","^DIC",727.816,727.816,0,"WR")
@
"SEC","^DIC",727.817,727.817,0,"AUDIT")
@
"SEC","^DIC",727.817,727.817,0,"DD")
@
"SEC","^DIC",727.817,727.817,0,"DEL")
@
"SEC","^DIC",727.817,727.817,0,"LAYGO")
@
"SEC","^DIC",727.817,727.817,0,"RD")
@
"SEC","^DIC",727.817,727.817,0,"WR")
@
"SEC","^DIC",727.818,727.818,0,"AUDIT")
@
"SEC","^DIC",727.818,727.818,0,"DD")
@
"SEC","^DIC",727.818,727.818,0,"DEL")
@
"SEC","^DIC",727.818,727.818,0,"LAYGO")
@
"SEC","^DIC",727.818,727.818,0,"RD")
@
"SEC","^DIC",727.818,727.818,0,"WR")
@
"VER")
8.0^22.0
"^DD",727.5,727.5,0)
FIELD^^1^2
"^DD",727.5,727.5,0,"DT")
2990511
"^DD",727.5,727.5,0,"IX","AC",727.51,.01)

"^DD",727.5,727.5,0,"IX","AX",727.51,.02)

"^DD",727.5,727.5,0,"IX","B",727.5,.01)

"^DD",727.5,727.5,0,"NM","DSS MH TESTS")

"^DD",727.5,727.5,.01,0)
TEST NAME^RP601'^YTT(601,^0;1^Q
"^DD",727.5,727.5,.01,1,0)
^.1
"^DD",727.5,727.5,.01,1,1,0)
727.5^B
"^DD",727.5,727.5,.01,1,1,1)
S ^ECX(727.5,"B",$E(X,1,30),DA)=""
"^DD",727.5,727.5,.01,1,1,2)
K ^ECX(727.5,"B",$E(X,1,30),DA)
"^DD",727.5,727.5,.01,3)

"^DD",727.5,727.5,.01,21,0)
^^2^2^2990511^
"^DD",727.5,727.5,.01,21,1,0)
A pointer to the MH INSTRUMENT file (#601) record which contains
"^DD",727.5,727.5,.01,21,2,0)
the test of interest.
"^DD",727.5,727.5,.01,23,0)
^^4^4^2990511^^
"^DD",727.5,727.5,.01,23,1,0)
Internal entry number in the MH INSTRUMENT file (#601).
"^DD",727.5,727.5,.01,23,2,0)
 
"^DD",727.5,727.5,.01,23,3,0)
New entries in file #727.5 should only be made by the program
"^DD",727.5,727.5,.01,23,4,0)
office, and will be distributed via national patch releases.
"^DD",727.5,727.5,.01,"DT")
2990511
"^DD",727.5,727.5,1,0)
ACTIVATION DATE^727.51DA^^1;0
"^DD",727.5,727.5,1,23,0)
^^3^3^2990511^^
"^DD",727.5,727.5,1,23,1,0)
Activation date data should not entered by the site.  Activiation
"^DD",727.5,727.5,1,23,2,0)
and inactivation dates are determined by the program office, and
"^DD",727.5,727.5,1,23,3,0)
will be distributed by national patch releases.
"^DD",727.5,727.51,0)
ACTIVATION DATE SUB-FIELD^^.02^2
"^DD",727.5,727.51,0,"DT")
2990511
"^DD",727.5,727.51,0,"IX","B",727.51,.01)

"^DD",727.5,727.51,0,"NM","ACTIVATION DATE")

"^DD",727.5,727.51,0,"UP")
727.5
"^DD",727.5,727.51,.01,0)
ACTIVATION DATE^D^^0;1^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",727.5,727.51,.01,1,0)
^.1
"^DD",727.5,727.51,.01,1,1,0)
727.51^B
"^DD",727.5,727.51,.01,1,1,1)
S ^ECX(727.5,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",727.5,727.51,.01,1,1,2)
K ^ECX(727.5,DA(1),1,"B",$E(X,1,30),DA)
"^DD",727.5,727.51,.01,1,2,0)
727.5^AC^MUMPS
"^DD",727.5,727.51,.01,1,2,1)
S ^ECX(727.5,"AC",DA(1),$E(X,1,30))=""
"^DD",727.5,727.51,.01,1,2,2)
K ^ECX(727.5,"AC",DA(1),$E(X,1,30))
"^DD",727.5,727.51,.01,1,2,3)
DO NOT DELETE
"^DD",727.5,727.51,.01,1,2,"%D",0)
^^4^4^2990715^^
"^DD",727.5,727.51,.01,1,2,"%D",1,0)
This is a cross-reference of TEST NAME (i.e., IEN in file #601)
"^DD",727.5,727.51,.01,1,2,"%D",2,0)
with ACTIVATION DATE.
"^DD",727.5,727.51,.01,1,2,"%D",3,0)
 
"^DD",727.5,727.51,.01,1,2,"%D",4,0)
So: ^ECX(727.5,"AC",test ien,activation date)=""
"^DD",727.5,727.51,.01,1,2,"DT")
2990715
"^DD",727.5,727.51,.01,21,0)
^^4^4^2990511^
"^DD",727.5,727.51,.01,21,1,0)
This is the date on which the Mental Health Instrument becomes
"^DD",727.5,727.51,.01,21,2,0)
"active" for DSS Extracts.  Result data for the test will be placed
"^DD",727.5,727.51,.01,21,3,0)
in the DSS Mental Health extract for tests completed on or after
"^DD",727.5,727.51,.01,21,4,0)
this date.
"^DD",727.5,727.51,.01,"DT")
2990715
"^DD",727.5,727.51,.02,0)
INACTIVATION DATE^D^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",727.5,727.51,.02,1,0)
^.1
"^DD",727.5,727.51,.02,1,1,0)
727.5^AX^MUMPS
"^DD",727.5,727.51,.02,1,1,1)
S ^ECX(727.5,"AX",DA(1),$E(X,1,30))=""
"^DD",727.5,727.51,.02,1,1,2)
K ^ECX(727.5,"AX",DA(1),$E(X,1,30))
"^DD",727.5,727.51,.02,1,1,3)
DO NOT DELETE
"^DD",727.5,727.51,.02,1,1,"%D",0)
^^4^4^2990715^^
"^DD",727.5,727.51,.02,1,1,"%D",1,0)
This is a cross-reference of TEST NAME (i.e., IEN in file #601)
"^DD",727.5,727.51,.02,1,1,"%D",2,0)
with INACTIVATION DATE.
"^DD",727.5,727.51,.02,1,1,"%D",3,0)
  
"^DD",727.5,727.51,.02,1,1,"%D",4,0)
So: ^ECX(727.5,"AX",test ien,inactivation date)=""
"^DD",727.5,727.51,.02,1,1,"DT")
2990715
"^DD",727.5,727.51,.02,21,0)
^^4^4^2990511^
"^DD",727.5,727.51,.02,21,1,0)
This is the date on which the Mental Health Instrument becomes
"^DD",727.5,727.51,.02,21,2,0)
"inactive" for DSS Extracts.  Result data for the test will not be 
"^DD",727.5,727.51,.02,21,3,0)
placed in the DSS Mental Health extract for tests completed on or after
"^DD",727.5,727.51,.02,21,4,0)
this date.
"^DD",727.5,727.51,.02,23,0)
^^3^3^2990511^
"^DD",727.5,727.51,.02,23,1,0)
Inactivation date data should not entered by the site.  Activiation
"^DD",727.5,727.51,.02,23,2,0)
and inactivation dates are determined by the program office, and
"^DD",727.5,727.51,.02,23,3,0)
will be distributed by national patch releases.
"^DD",727.5,727.51,.02,"DT")
2990715
"^DD",727.802,727.802,0)
FIELD^^51^51
"^DD",727.802,727.802,0,"DDA")
N
"^DD",727.802,727.802,0,"DIK")
ECX802
"^DD",727.802,727.802,0,"DIKOLD")
ECX802
"^DD",727.802,727.802,0,"DT")
2990517
"^DD",727.802,727.802,0,"IX","AC",727.802,2)

"^DD",727.802,727.802,0,"NM","ADMISSION EXTRACT")

"^DD",727.802,727.802,0,"VRPK")
DSS EXTRACTS
"^DD",727.802,727.802,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.802,727.802,.01,.1)
Sequence Number
"^DD",727.802,727.802,.01,1,0)
^.1^^0
"^DD",727.802,727.802,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.802,727.802,.01,21,0)
^^1^1^2960731^^^^
"^DD",727.802,727.802,.01,21,1,0)
The record number for this extract entry.
"^DD",727.802,727.802,.01,23,0)
^^1^1^2960731^^^
"^DD",727.802,727.802,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.802,727.802,.01,"DT")
2980812
"^DD",727.802,727.802,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.802,727.802,1,.1)
Year/Month
"^DD",727.802,727.802,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.802,727.802,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.802,727.802,1,3)
Answer must be 6 characters in length.
"^DD",727.802,727.802,1,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,1,21,1,0)
A six character string representing the year and the month
"^DD",727.802,727.802,1,21,2,0)
for which this extract was performed.
"^DD",727.802,727.802,1,23,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.802,727.802,1,"DT")
2971002
"^DD",727.802,727.802,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.802,727.802,2,.1)
Extract Number
"^DD",727.802,727.802,2,1,0)
^.1
"^DD",727.802,727.802,2,1,1,0)
727.802^AC
"^DD",727.802,727.802,2,1,1,1)
S ^ECX(727.802,"AC",$E(X,1,30),DA)=""
"^DD",727.802,727.802,2,1,1,2)
K ^ECX(727.802,"AC",$E(X,1,30),DA)
"^DD",727.802,727.802,2,1,1,3)
DO NOT DELETE.
"^DD",727.802,727.802,2,1,1,"%D",0)
^^2^2^2990511^^^^
"^DD",727.802,727.802,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.802,727.802,2,1,1,"%D",2,0)
in this file.
"^DD",727.802,727.802,2,1,1,"DT")
2910802
"^DD",727.802,727.802,2,3)
Enter the extract number for this entry.
"^DD",727.802,727.802,2,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.802,727.802,2,21,2,0)
extract.
"^DD",727.802,727.802,2,23,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.802,727.802,2,23,2,0)
pick up the header for the mail message.
"^DD",727.802,727.802,2,"DT")
2960731
"^DD",727.802,727.802,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.802,727.802,3,.1)
Facility
"^DD",727.802,727.802,3,3)
Enter the station number where this extract was performed.
"^DD",727.802,727.802,3,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.802,727.802,3,23,0)
^^3^3^2990505^^^^
"^DD",727.802,727.802,3,23,1,0)
An indicator of the division where this event happened.  It is derived
"^DD",727.802,727.802,3,23,2,0)
from the DIVISION field (.015) of the WARD LOCATION file (#42) which
"^DD",727.802,727.802,3,23,3,0)
points to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.802,727.802,3,"DT")
2961014
"^DD",727.802,727.802,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.802,727.802,4,.1)
Patient No. - DFN
"^DD",727.802,727.802,4,3)
Enter the name of the patient for this extract record.
"^DD",727.802,727.802,4,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.802,727.802,4,23,0)
^^3^3^2990505^^^^
"^DD",727.802,727.802,4,23,1,0)
Pointer to the PATIENT file (#2). This data represents the patient DFN. 
"^DD",727.802,727.802,4,23,2,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405), 
"^DD",727.802,727.802,4,23,3,0)
the PATIENT NO. - DFN data is derived from the PATIENT field (.03).
"^DD",727.802,727.802,4,"DT")
2961014
"^DD",727.802,727.802,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.802,727.802,5,.1)
Social Security Number
"^DD",727.802,727.802,5,3)

"^DD",727.802,727.802,5,21,0)
^^4^4^2990505^^^^
"^DD",727.802,727.802,5,21,1,0)
The patient's social security number.
"^DD",727.802,727.802,5,21,2,0)
 
"^DD",727.802,727.802,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.802,727.802,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.802,727.802,5,23,0)
^^6^6^2990505^^^^
"^DD",727.802,727.802,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.802,727.802,5,23,2,0)
(4) in the ADMISSION EXTRACT file (#727.802), SSN data is derived from 
"^DD",727.802,727.802,5,23,3,0)
the SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.802,727.802,5,23,4,0)
 
"^DD",727.802,727.802,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.802,727.802,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.802,727.802,5,"DT")
2960731
"^DD",727.802,727.802,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.802,727.802,6,.1)
Name
"^DD",727.802,727.802,6,3)
Your answer must be 4 characters in length.
"^DD",727.802,727.802,6,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.802,727.802,6,23,0)
^^4^4^2990505^^^
"^DD",727.802,727.802,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,6,23,2,0)
in the ADMISSION EXTRACT file (#727.802), NAME data is derived from the
"^DD",727.802,727.802,6,23,3,0)
NAME field  (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.802,727.802,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.802,727.802,6,"DT")
2960731
"^DD",727.802,727.802,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.802,727.802,7,.1)
In Out Patient Indicator
"^DD",727.802,727.802,7,3)

"^DD",727.802,727.802,7,21,0)
^^2^2^2990602^^^^
"^DD",727.802,727.802,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.802,727.802,7,21,2,0)
this extract entry.
"^DD",727.802,727.802,7,23,0)
^^2^2^2990602^^^^
"^DD",727.802,727.802,7,23,1,0)
For the Admission extract this field is set to 3, indicating inpatient 
"^DD",727.802,727.802,7,23,2,0)
status in the LOCATION TYPE file (#40.9).
"^DD",727.802,727.802,7,"DT")
2960731
"^DD",727.802,727.802,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.802,727.802,8,.1)
Day
"^DD",727.802,727.802,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.802,727.802,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.802,727.802,8,3)
Answer must be 8 characters in length.
"^DD",727.802,727.802,8,21,0)
^^2^2^2990507^^^^
"^DD",727.802,727.802,8,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.802,727.802,8,21,2,0)
occurred.
"^DD",727.802,727.802,8,23,0)
^^8^8^2990507^^^^
"^DD",727.802,727.802,8,23,1,0)
Data source:
"^DD",727.802,727.802,8,23,2,0)
 
"^DD",727.802,727.802,8,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.802,727.802,8,23,4,0)
 
"^DD",727.802,727.802,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.802,727.802,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.802,727.802,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.802,727.802,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.802,727.802,8,"DT")
2970924
"^DD",727.802,727.802,9,0)
PRIMARY CARE TEAM^F^^0;10^K:$L(X)>4!($L(X)<1) X
"^DD",727.802,727.802,9,.1)
Primary Care Team
"^DD",727.802,727.802,9,3)
Enter primary care team assigned to this patient.
"^DD",727.802,727.802,9,21,0)
^^1^1^2961030^^^^
"^DD",727.802,727.802,9,21,1,0)
The primary care team assigned to this patient.
"^DD",727.802,727.802,9,23,0)
^^6^6^2961030^^^^
"^DD",727.802,727.802,9,23,1,0)
Using the DATE/TIME field (.01) from the PATIENT MOVEMENT file (#405) 
"^DD",727.802,727.802,9,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.802,727.802,9,23,3,0)
in the ADMISSION EXTRACT file (#727.802), a call is made to the 
"^DD",727.802,727.802,9,23,4,0)
Scheduling API, OUTPTTM^SDUTL3. The API returns the team's internal 
"^DD",727.802,727.802,9,23,5,0)
entry number and name from the TEAM file (#404.51). Only the pointer 
"^DD",727.802,727.802,9,23,6,0)
(IEN) to File 404.51 is transmitted.
"^DD",727.802,727.802,9,"DT")
2961030
"^DD",727.802,727.802,10,0)
SEX^S^M:MALE;F:FEMALE;^0;11^Q
"^DD",727.802,727.802,10,.1)
Sex
"^DD",727.802,727.802,10,3)
Enter the patient's sex.
"^DD",727.802,727.802,10,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,10,21,1,0)
Data is M if this patient is a male, or F if female.
"^DD",727.802,727.802,10,23,0)
^^3^3^2990505^^
"^DD",727.802,727.802,10,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,10,23,2,0)
in the ADMISSION EXTRACT file (#727.802), this data is derived from the
"^DD",727.802,727.802,10,23,3,0)
SEX field (.02) in the PATIENT file (#2).
"^DD",727.802,727.802,10,"DT")
2960801
"^DD",727.802,727.802,11,0)
DATE OF BIRTH^FO^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.802,727.802,11,.1)
Date of Birth
"^DD",727.802,727.802,11,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.802,727.802,11,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.802,727.802,11,3)
Answer must be 8 characters in length.
"^DD",727.802,727.802,11,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,11,21,1,0)
The patient's date of birth between December 31,1870 and today's date
"^DD",727.802,727.802,11,21,2,0)
represented by an 8-character numeric string.
"^DD",727.802,727.802,11,23,0)
^^9^9^2990505^^^^
"^DD",727.802,727.802,11,23,1,0)
Data source:
"^DD",727.802,727.802,11,23,2,0)
 
"^DD",727.802,727.802,11,23,3,0)
PATIENT MOVEMENT file (#405); PATIENT field (#.03)
"^DD",727.802,727.802,11,23,4,0)
   then to PATIENT file (#2); DATE OF BIRTH field (#.03)
"^DD",727.802,727.802,11,23,5,0)
 
"^DD",727.802,727.802,11,23,6,0)
If Date of Birth cannot be determined, then January 1, 1942, is
"^DD",727.802,727.802,11,23,7,0)
used as default.  The data element is always exactly 8 numberic
"^DD",727.802,727.802,11,23,8,0)
characters in length.  Format is YYYYMMDD.  Year 2000 compliant
"^DD",727.802,727.802,11,23,9,0)
per vendor.
"^DD",727.802,727.802,11,"DT")
2970924
"^DD",727.802,727.802,12,0)
RELIGION^P13'^DIC(13,^0;13^Q
"^DD",727.802,727.802,12,.1)
Religion
"^DD",727.802,727.802,12,3)
Enter the patient's religious preference.
"^DD",727.802,727.802,12,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,12,21,1,0)
The current religious preference of this patient.
"^DD",727.802,727.802,12,23,0)
^^4^4^2990510^^
"^DD",727.802,727.802,12,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,12,23,2,0)
in the ADMISSION EXTRACT file (#727.802), RELIGION data is derived from
"^DD",727.802,727.802,12,23,3,0)
the RELIGIOUS PREFERENCE field (#.08) in the PATIENT file (#2). It is a
"^DD",727.802,727.802,12,23,4,0)
pointer to the RELIGION file (#13).
"^DD",727.802,727.802,12,"DT")
2960801
"^DD",727.802,727.802,13,0)
EMPLOYMENT STATUS^S^1:EMPLOYED FULL TIME;2:EMPLOYED PART TIME;3:NOT EMPLOYED;4:SELF EMPLOYED;5:RETIRED;6:ACTIVE DUTY MILITARY;9:UNKNOWN;^0;14^Q
"^DD",727.802,727.802,13,.1)
Employment Status
"^DD",727.802,727.802,13,3)
Select the appropriate employment status.
"^DD",727.802,727.802,13,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,13,21,1,0)
The patient's current employment status.
"^DD",727.802,727.802,13,23,0)
^^4^4^2990510^^
"^DD",727.802,727.802,13,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,13,23,2,0)
in the ADMISSION EXTRACT file (#727.802), EMPLOYMENT STATUS data is
"^DD",727.802,727.802,13,23,3,0)
derived from the EMPLOYMENT STATUS field (#.31115) in the PATIENT file
"^DD",727.802,727.802,13,23,4,0)
(#2).
"^DD",727.802,727.802,13,"DT")
2960801
"^DD",727.802,727.802,14,0)
HEALTH INSURANCE^S^Y:YES;N:NO;U:UNKNOWN;^0;15^Q
"^DD",727.802,727.802,14,.1)
Health Insurance
"^DD",727.802,727.802,14,3)
Select the appropriate health insurance status.
"^DD",727.802,727.802,14,21,0)
^^2^2^2990510^^^^
"^DD",727.802,727.802,14,21,1,0)
Data is Y if the patient is covered by a health insurance policy, N if
"^DD",727.802,727.802,14,21,2,0)
the patient isn't covered by any policy, or U if unknown.
"^DD",727.802,727.802,14,23,0)
^^4^4^2990510^^^^
"^DD",727.802,727.802,14,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.802,727.802,14,23,2,0)
(#4) in the ADMISSION EXTRACT file (#727.802), a call is made to the 
"^DD",727.802,727.802,14,23,3,0)
Integrated Billing API, INSURED^IBCNS1. The API returns 1 if the 
"^DD",727.802,727.802,14,23,4,0)
patient is insured, or 0 if the patient is uninsured.
"^DD",727.802,727.802,14,"DT")
2960801
"^DD",727.802,727.802,15,0)
STATE^F^^0;16^K:$L(X)>2!($L(X)<2) X
"^DD",727.802,727.802,15,.1)
State
"^DD",727.802,727.802,15,3)
Enter the VA STATE CODE for this patient.
"^DD",727.802,727.802,15,21,0)
^^1^1^2980708^^^^
"^DD",727.802,727.802,15,21,1,0)
The state in which the patient resides.
"^DD",727.802,727.802,15,23,0)
^^5^5^2980708^^
"^DD",727.802,727.802,15,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,15,23,2,0)
in the ADMISSION EXTRACT file (#727.802), STATE data is derived from the
"^DD",727.802,727.802,15,23,3,0)
STATE field (.115) in the PATIENT file (#2) which points to the STATE file
"^DD",727.802,727.802,15,23,4,0)
(#5). For the STATE file entry, data transmitted is the two character VA
"^DD",727.802,727.802,15,23,5,0)
STATE CODE, field (2).
"^DD",727.802,727.802,15,"DT")
2960801
"^DD",727.802,727.802,16,0)
COUNTY^F^^0;17^K:$L(X)>3!($L(X)<3) X
"^DD",727.802,727.802,16,.1)

"^DD",727.802,727.802,16,3)

"^DD",727.802,727.802,16,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,16,21,1,0)
County in which the patient resides.
"^DD",727.802,727.802,16,23,0)
^^6^6^2990505^^^^
"^DD",727.802,727.802,16,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,16,23,2,0)
in the ADMISSION EXTRACT file (#727.802), data is taken from the
"^DD",727.802,727.802,16,23,3,0)
COUNTY field (.117) in the PATIENT file (#2), which points to a subfile
"^DD",727.802,727.802,16,23,4,0)
record in the COUNTY multiple field (#3) of the STATE file (#5).  The
"^DD",727.802,727.802,16,23,5,0)
three character VA COUNTY CODE field (#2) within the COUNTY multiple 
"^DD",727.802,727.802,16,23,6,0)
field (#3) is used.
"^DD",727.802,727.802,16,"DT")
2990505
"^DD",727.802,727.802,17,0)
ZIP+4^F^^0;18^K:$L(X)>10!($L(X)<5) X
"^DD",727.802,727.802,17,.1)

"^DD",727.802,727.802,17,3)

"^DD",727.802,727.802,17,21,0)
^^1^1^2990524^^^^
"^DD",727.802,727.802,17,21,1,0)
Zip code for the city in which the patient resides.
"^DD",727.802,727.802,17,23,0)
^^3^3^2990524^^^^
"^DD",727.802,727.802,17,23,1,0)
The patient's zipcode with optional 4-digit extension as found in
"^DD",727.802,727.802,17,23,2,0)
the ZIP+4 field (#.1112) of the patient's record in the PATIENT
"^DD",727.802,727.802,17,23,3,0)
file (#2).
"^DD",727.802,727.802,17,"DT")
2990517
"^DD",727.802,727.802,18,0)
ELIGIBILITY^F^^0;19^K:$L(X)>3!($L(X)<1) X
"^DD",727.802,727.802,18,.1)
Eligibility
"^DD",727.802,727.802,18,3)
Answer must be 1-3 characters in length.
"^DD",727.802,727.802,18,21,0)
^^1^1^2990607^^^^
"^DD",727.802,727.802,18,21,1,0)
Appropriate eligibility code based on veteran or non-veteran status.
"^DD",727.802,727.802,18,23,0)
^^11^11^2990607^^^^
"^DD",727.802,727.802,18,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,18,23,2,0)
in the ADMISSION EXTRACT file (#727.802), ELIGIBILITY data is derived from
"^DD",727.802,727.802,18,23,3,0)
the PRIMARY ELIGIBILITY CODE field (.361) in the PATIENT file (#2).
"^DD",727.802,727.802,18,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8).
"^DD",727.802,727.802,18,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (8) in the
"^DD",727.802,727.802,18,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS
"^DD",727.802,727.802,18,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.802,727.802,18,23,8,0)
 
"^DD",727.802,727.802,18,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.802,727.802,18,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.802,727.802,18,23,11,0)
two or three numeric characters.
"^DD",727.802,727.802,18,"DT")
2980708
"^DD",727.802,727.802,19,0)
VETERAN^S^Y:YES;N:NO;^0;20^Q
"^DD",727.802,727.802,19,.1)
Veteran
"^DD",727.802,727.802,19,3)
Select the appropriate veteran status for this patient.
"^DD",727.802,727.802,19,21,0)
^^1^1^2961014^^^^
"^DD",727.802,727.802,19,21,1,0)
Data is Y if this patient is a veteran, N if not.
"^DD",727.802,727.802,19,23,0)
^^3^3^2961014^^
"^DD",727.802,727.802,19,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,19,23,2,0)
in the ADMISSION EXTRACT file (#727.802), VETERAN data is derived from the
"^DD",727.802,727.802,19,23,3,0)
VETERAN (Y/N)? field (1901) in the PATIENT file (#2).
"^DD",727.802,727.802,19,"DT")
2960801
"^DD",727.802,727.802,20,0)
VIETNAM^S^Y:YES;N:NO;U:UNKNOWN;^0;21^Q
"^DD",727.802,727.802,20,.1)
Vietnam
"^DD",727.802,727.802,20,3)
Select the appropriate Vietnam service status for this patient.
"^DD",727.802,727.802,20,21,0)
^^1^1^2990524^^^^
"^DD",727.802,727.802,20,21,1,0)
Data is Y if this patient served in Vietnam, N if not, or U if unknown.
"^DD",727.802,727.802,20,23,0)
^^3^3^2990524^^
"^DD",727.802,727.802,20,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,20,23,2,0)
in the ADMISSION EXTRACT file (#727.802), VIETNAM data is derived from the
"^DD",727.802,727.802,20,23,3,0)
VIETNAM SERVICE INDICATED? field (.32101) in the PATIENT file (#2).
"^DD",727.802,727.802,20,"DT")
2960801
"^DD",727.802,727.802,21,0)
AGENT ORANGE STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;22^Q
"^DD",727.802,727.802,21,.1)

"^DD",727.802,727.802,21,3)

"^DD",727.802,727.802,21,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,21,21,1,0)
Data is Y if this patient was exposed to agent orange, N if not, or U if
"^DD",727.802,727.802,21,21,2,0)
unknown.
"^DD",727.802,727.802,21,23,0)
^^6^6^2990505^^^
"^DD",727.802,727.802,21,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,21,23,2,0)
in the ADMISSION EXTRACT file (#727.802), AGENT ORANGE data is derived
"^DD",727.802,727.802,21,23,3,0)
from the AGENT ORANGE EXPOS. INDICATED? field (.32102) in the PATIENT file
"^DD",727.802,727.802,21,23,4,0)
(#2).
"^DD",727.802,727.802,21,23,5,0)
  
"^DD",727.802,727.802,21,23,6,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.802,727.802,21,"DT")
2990505
"^DD",727.802,727.802,22,0)
RADIATION STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;23^Q
"^DD",727.802,727.802,22,.1)

"^DD",727.802,727.802,22,3)

"^DD",727.802,727.802,22,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,22,21,1,0)
Data is Y if this patient claims exposure to ionizing radiation, N if 
"^DD",727.802,727.802,22,21,2,0)
not, or U if unknown.
"^DD",727.802,727.802,22,23,0)
^^5^5^2990505^^^
"^DD",727.802,727.802,22,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,22,23,2,0)
in the ADMISSION EXTRACT file (#727.802), RADIATION data is derived from
"^DD",727.802,727.802,22,23,3,0)
the RADIATION EXPOSURE INDICATED? field (.32103) in the PATIENT file (#2).
"^DD",727.802,727.802,22,23,4,0)
 
"^DD",727.802,727.802,22,23,5,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.802,727.802,22,"DT")
2990505
"^DD",727.802,727.802,23,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;24^Q
"^DD",727.802,727.802,23,.1)

"^DD",727.802,727.802,23,3)

"^DD",727.802,727.802,23,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,23,21,1,0)
Data is Y if this patient was confined as a prisoner of war, N if not,
"^DD",727.802,727.802,23,21,2,0)
or U if unknown.
"^DD",727.802,727.802,23,23,0)
^^5^5^2990505^^^
"^DD",727.802,727.802,23,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.802,727.802,23,23,2,0)
in the ADMISSION EXTRACT file (#727.802), POW data is derived from the POW
"^DD",727.802,727.802,23,23,3,0)
STATUS INDICATED? field (.525) in the PATIENT file (#2).
"^DD",727.802,727.802,23,23,4,0)
 
"^DD",727.802,727.802,23,23,5,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.802,727.802,23,"DT")
2990505
"^DD",727.802,727.802,24,0)
PERIOD OF SERVICE^F^^0;25^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,24,.1)
Period of Service
"^DD",727.802,727.802,24,3)
Enter the period of service code from the PERIOD OF SERVICE file (#21).
"^DD",727.802,727.802,24,21,0)
^^2^2^2990524^^^^
"^DD",727.802,727.802,24,21,1,0)
The period of service which best classifies this patient based on 
"^DD",727.802,727.802,24,21,2,0)
eligibility code.
"^DD",727.802,727.802,24,23,0)
^^7^7^2990524^^^
"^DD",727.802,727.802,24,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,24,23,2,0)
in the ADMISSION EXTRACT file (#727.802), PERIOD OF SERVICE data is
"^DD",727.802,727.802,24,23,3,0)
derived from the PERIOD OF SERVICE field (#.323) in the PATIENT file (#2).
"^DD",727.802,727.802,24,23,4,0)
This field is a pointer to the PERIOD OF SERVICE file (#21). Using the
"^DD",727.802,727.802,24,23,5,0)
period of service pointer, the data is derived from the CODE field (#.03)
"^DD",727.802,727.802,24,23,6,0)
in the PERIOD OF SERVICE file (#21). This code is a single alpha numeric
"^DD",727.802,727.802,24,23,7,0)
character.
"^DD",727.802,727.802,24,"DT")
2960801
"^DD",727.802,727.802,25,0)
MEANS TEST^S^A:CATEGORY A;B:CATEGORY B;C:CATEGORY C;P:PENDING ADJUDICATION;R:REQUIRES MEANS TEST;N:MEANS TEST NOT REQUIRED;E:EXEMPT;I:INCOMPLETE;L:NO LONGER APPLICABLE;M:NON-EXEMPT;^0;26^Q
"^DD",727.802,727.802,25,.1)
Means Test
"^DD",727.802,727.802,25,3)
Select the appropriate means test category.
"^DD",727.802,727.802,25,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,25,21,1,0)
The current means test category for this patient.
"^DD",727.802,727.802,25,23,0)
^^6^6^2990510^^
"^DD",727.802,727.802,25,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,25,23,2,0)
in the ADMISSION EXTRACT file (#727.802), MEANS TEST data is derived from
"^DD",727.802,727.802,25,23,3,0)
the CURRENT MEANS TEST STATUS field (#.14) in the PATIENT file (#2). This
"^DD",727.802,727.802,25,23,4,0)
field is a pointer to the MEANS TEST STATUS file (#408.32).  Using the
"^DD",727.802,727.802,25,23,5,0)
means test pointer, the data is derived from the CODE field (#.02) in the
"^DD",727.802,727.802,25,23,6,0)
MEANS TEST STATUS file (#408.32).
"^DD",727.802,727.802,25,"DT")
2961024
"^DD",727.802,727.802,26,0)
MARITAL STATUS^P11'^DIC(11,^0;27^Q
"^DD",727.802,727.802,26,.1)
Marital Status
"^DD",727.802,727.802,26,3)
Enter the marital status for this patient.
"^DD",727.802,727.802,26,21,0)
^^1^1^2990524^^^^
"^DD",727.802,727.802,26,21,1,0)
Current marital status for this patient.
"^DD",727.802,727.802,26,23,0)
^^4^4^2990524^^^
"^DD",727.802,727.802,26,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.802,727.802,26,23,2,0)
in the ADMISSION EXTRACT file (#727.802), MARITAL STATUS data is derived
"^DD",727.802,727.802,26,23,3,0)
from the MARITAL STATUS field (#.05) in the PATIENT file (#2). MARITAL
"^DD",727.802,727.802,26,23,4,0)
STATUS is a pointer to the MARITAL STATUS file (#11).
"^DD",727.802,727.802,26,"DT")
2960801
"^DD",727.802,727.802,27,0)
WARD^P44'^SC(^0;28^Q
"^DD",727.802,727.802,27,.1)
Ward
"^DD",727.802,727.802,27,3)
Enter the current ward location for this patient.
"^DD",727.802,727.802,27,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,27,21,1,0)
Current ward for this patient.
"^DD",727.802,727.802,27,23,0)
^^8^8^2990512^^^^
"^DD",727.802,727.802,27,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) and 
"^DD",727.802,727.802,27,23,2,0)
the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) in the
"^DD",727.802,727.802,27,23,3,0)
ADMISSION EXTRACT file (#727.802), WARD data is derived from the WARD
"^DD",727.802,727.802,27,23,4,0)
LOCATION field (#.06) in the PATIENT MOVEMENT file (#405). This ward data
"^DD",727.802,727.802,27,23,5,0)
is a pointer to the WARD LOCATION file (#42). Using the ward pointer, the
"^DD",727.802,727.802,27,23,6,0)
data is derived from the HOSPITAL LOCATION FILE POINTER field (#44) in the
"^DD",727.802,727.802,27,23,7,0)
WARD LOCATION file (#42) which is a pointer to the HOSPITAL LOCATION file
"^DD",727.802,727.802,27,23,8,0)
(#44).
"^DD",727.802,727.802,27,"DT")
2960806
"^DD",727.802,727.802,28,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;29^Q
"^DD",727.802,727.802,28,.1)
Treating Specialty
"^DD",727.802,727.802,28,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.802,727.802,28,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,28,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.802,727.802,28,23,0)
^^8^8^2990512^^^^
"^DD",727.802,727.802,28,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) and 
"^DD",727.802,727.802,28,23,2,0)
the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4) in the
"^DD",727.802,727.802,28,23,3,0)
ADMISSION EXTRACT file (#727.802), TREATING SPECIALTY data is derived from
"^DD",727.802,727.802,28,23,4,0)
the FACILITY TREATING SPECIALTY field (#.09) in the PATIENT MOVEMENT file
"^DD",727.802,727.802,28,23,5,0)
(#405). This facility treating specialty data is a pointer to the FACILITY
"^DD",727.802,727.802,28,23,6,0)
TREATING SPECIALTY file (#45.7). Using the SPECIALTY field (#1) in the
"^DD",727.802,727.802,28,23,7,0)
FACILITY TREATING SPECIALTY file (#45.7), the pointer to the SPECIALTY
"^DD",727.802,727.802,28,23,8,0)
file (#42.4) is obtained.
"^DD",727.802,727.802,28,"DT")
2960918
"^DD",727.802,727.802,29,0)
ATTENDING PHYSICIAN^F^^0;30^K:$L(X)>11!($L(X)<1) X
"^DD",727.802,727.802,29,.1)
Attending Physician
"^DD",727.802,727.802,29,3)
Enter attending physician for this patient.
"^DD",727.802,727.802,29,21,0)
^^1^1^2980608^^^^
"^DD",727.802,727.802,29,21,1,0)
The attending physician assigned to this patient with this movement.
"^DD",727.802,727.802,29,23,0)
^^6^6^2980608^^^^
"^DD",727.802,727.802,29,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) and
"^DD",727.802,727.802,29,23,2,0)
the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) in the
"^DD",727.802,727.802,29,23,3,0)
ADMISSION EXTRACT file (#727.802), ATTENDING PHYSICIAN data is derived
"^DD",727.802,727.802,29,23,4,0)
from the ATTENDING PHYSICIAN field (.19) in the PATIENT MOVEMENT file
"^DD",727.802,727.802,29,23,5,0)
(#405). This attending physician data is a pointer to the NEW PERSON file
"^DD",727.802,727.802,29,23,6,0)
(#200). This data is stored as "2"_pointer value.
"^DD",727.802,727.802,29,"DT")
2961015
"^DD",727.802,727.802,30,0)
MOVEMENT FILE #^P405'^DGPM(^0;31^Q
"^DD",727.802,727.802,30,.1)

"^DD",727.802,727.802,30,3)
Enter the current movement number for this patient.
"^DD",727.802,727.802,30,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,30,21,1,0)
Current movement number for this patient.
"^DD",727.802,727.802,30,23,0)
^^5^5^2990510^^^^
"^DD",727.802,727.802,30,23,1,0)
Pointer to the PATIENT MOVEMENT file (#405). Using the "ATT1" cross 
"^DD",727.802,727.802,30,23,2,0)
reference on the PATIENT MOVEMENT file (#405) and the patient pointer 
"^DD",727.802,727.802,30,23,3,0)
(DFN) stored in the PATIENT NO. - DFN field (#4) in the ADMISSION EXTRACT
"^DD",727.802,727.802,30,23,4,0)
file (#727.802), this is a pointer to the file #405 record for the
"^DD",727.802,727.802,30,23,5,0)
patient's admission.
"^DD",727.802,727.802,30,"DT")
2990510
"^DD",727.802,727.802,31,0)
DRG^P80.2'^ICD(^0;32^Q
"^DD",727.802,727.802,31,3)
Enter the appropriate DRG for this patient.
"^DD",727.802,727.802,31,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,31,21,1,0)
Current DRG for this patient with this movement.
"^DD",727.802,727.802,31,23,0)
^^7^7^2990510^^^
"^DD",727.802,727.802,31,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) and
"^DD",727.802,727.802,31,23,2,0)
the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4) in the
"^DD",727.802,727.802,31,23,3,0)
ADMISSION EXTRACT file (#727.802), DRG data is derived from the PTF ENTRY
"^DD",727.802,727.802,31,23,4,0)
field (#,16) in PATIENT MOVEMENT file (#405). This PTF entry data is a
"^DD",727.802,727.802,31,23,5,0)
pointer to the PTF file (#45). Uses the TRANSFER DRG field (#20) within the
"^DD",727.802,727.802,31,23,6,0)
501 field (#50) multiple in the PTF file (#45) to obtain the pointer value
"^DD",727.802,727.802,31,23,7,0)
to the DRG file (#80.2).
"^DD",727.802,727.802,31,"DT")
2910803
"^DD",727.802,727.802,32,0)
DIAGNOSIS^F^^0;33^K:$L(X)>7!($L(X)<1) X
"^DD",727.802,727.802,32,.1)
Diagnosis
"^DD",727.802,727.802,32,3)
Your answer must be 1 to 7 characters in length.
"^DD",727.802,727.802,32,21,0)
^^1^1^2990510^^^^
"^DD",727.802,727.802,32,21,1,0)
ICD diagnosis for this patient.
"^DD",727.802,727.802,32,23,0)
^^9^9^2990510^^^
"^DD",727.802,727.802,32,23,1,0)
Using the "ATT1" cross reference on the PATIENT MOVEMENT file (#405) 
"^DD",727.802,727.802,32,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4) in
"^DD",727.802,727.802,32,23,3,0)
the ADMISSION EXTRACT file (#727.802), DIAGNOSIS data is derived from the
"^DD",727.802,727.802,32,23,4,0)
PTF ENTRY field (.16) in the PATIENT MOVEMENT file (#405).  This PTF entry
"^DD",727.802,727.802,32,23,5,0)
data is a pointer to the PTF file (#45). Uses the ICD 1 field (#5) within
"^DD",727.802,727.802,32,23,6,0)
the 501 field (#50) multiple in the PTF file (#45) to obtain the pointer
"^DD",727.802,727.802,32,23,7,0)
value to the ICD DIAGNOSIS file (#80). This ICD diagnosis pointer value is
"^DD",727.802,727.802,32,23,8,0)
used to pull the DIAGNOSIS data from the CODE NUMBER field (#.01) in the
"^DD",727.802,727.802,32,23,9,0)
ICD DIAGNOSIS file (#80).
"^DD",727.802,727.802,32,"DT")
2961024
"^DD",727.802,727.802,33,0)
TIME^FO^^0;34^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.802,727.802,33,.1)
Time
"^DD",727.802,727.802,33,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.802,727.802,33,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.802,727.802,33,3)
Answer must be 6 characters in length.
"^DD",727.802,727.802,33,21,0)
^^2^2^2970922^^^^
"^DD",727.802,727.802,33,21,1,0)
A 6-character numeric string which represents the time of day at
"^DD",727.802,727.802,33,21,2,0)
which the admission occurred.
"^DD",727.802,727.802,33,23,0)
^^6^6^2970922^^^^
"^DD",727.802,727.802,33,23,1,0)
Data source:
"^DD",727.802,727.802,33,23,2,0)
 
"^DD",727.802,727.802,33,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.802,727.802,33,23,4,0)
 
"^DD",727.802,727.802,33,23,5,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.802,727.802,33,23,6,0)
cannot be determined, then "000300" is used as default.
"^DD",727.802,727.802,33,"DT")
2970924
"^DD",727.802,727.802,34,0)
PRIMARY CARE PROVIDER^F^^0;35^K:$L(X)>11!($L(X)<1) X
"^DD",727.802,727.802,34,.1)
Primary Care Provider
"^DD",727.802,727.802,34,3)
Enter primary care provider assigned to this patient.
"^DD",727.802,727.802,34,21,0)
^^1^1^2980708^^^^
"^DD",727.802,727.802,34,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.802,727.802,34,23,0)
^^8^8^2980708^^^^
"^DD",727.802,727.802,34,23,1,0)
Using the DATE/TIME field (.01) from the PATIENT MOVEMENT file (#405) 
"^DD",727.802,727.802,34,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.802,727.802,34,23,3,0)
in the ADMISSION EXTRACT file (#727.802), a call is made to the 
"^DD",727.802,727.802,34,23,4,0)
Scheduling API, OUTPTPR^SDUTL3. The API returns the provider's internal 
"^DD",727.802,727.802,34,23,5,0)
entry number and name from the NEW PERSON file (#200). 
"^DD",727.802,727.802,34,23,6,0)
 
"^DD",727.802,727.802,34,23,7,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.802,727.802,34,23,8,0)
is "200".
"^DD",727.802,727.802,34,"DT")
2961015
"^DD",727.802,727.802,35,0)
RACE^F^^0;36^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,35,.1)
Race
"^DD",727.802,727.802,35,3)
Enter race ABBREVIATION for this patient.
"^DD",727.802,727.802,35,21,0)
^^1^1^2990606^^^^
"^DD",727.802,727.802,35,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.802,727.802,35,23,0)
^^3^3^2990606^^^^
"^DD",727.802,727.802,35,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.802,727.802,35,23,2,0)
RACE data is shown as the ABBREVIATION field (2) of the RACE file (#10)
"^DD",727.802,727.802,35,23,3,0)
entry pointed to by the RACE field (.06) in the PATIENT file (#2).
"^DD",727.802,727.802,35,"DT")
2961014
"^DD",727.802,727.802,36,0)
PRIMARY WARD PROVIDER^F^^0;37^K:$L(X)>11!($L(X)<1) X
"^DD",727.802,727.802,36,3)
Answer must be 1-11 characters in length.
"^DD",727.802,727.802,36,21,0)
^^2^2^2980608^^^^
"^DD",727.802,727.802,36,21,1,0)
The Primary Provider associated with the Facility Treating Specialty
"^DD",727.802,727.802,36,21,2,0)
for this Admission.
"^DD",727.802,727.802,36,23,0)
^^10^10^2980608^^^^
"^DD",727.802,727.802,36,23,1,0)
Source:
"^DD",727.802,727.802,36,23,2,0)
field #.08; file #405
"^DD",727.802,727.802,36,23,3,0)
 
"^DD",727.802,727.802,36,23,4,0)
The PRIMARY CARE PHYSICIAN field (#.08) associated with the PATIENT
"^DD",727.802,727.802,36,23,5,0)
MOVEMENT file (#405) record for the Treating Specialty Change record
"^DD",727.802,727.802,36,23,6,0)
related to the Admission record.
"^DD",727.802,727.802,36,23,7,0)
 
"^DD",727.802,727.802,36,23,8,0)
The value obtained is a pointer to the NEW PERSON file (#200).  A "2"
"^DD",727.802,727.802,36,23,9,0)
is prefixed to the pointer value to indicate that it points to file
"^DD",727.802,727.802,36,23,10,0)
#200.
"^DD",727.802,727.802,36,"DT")
2980126
"^DD",727.802,727.802,37,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.802,727.802,37,3)
Answer must be 1-10 characters in length.
"^DD",727.802,727.802,37,21,0)
^^1^1^2990507^^
"^DD",727.802,727.802,37,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.802,727.802,37,23,0)
^^2^2^2990507^^
"^DD",727.802,727.802,37,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.802,727.802,37,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.802,727.802,37,"DT")
2990504
"^DD",727.802,727.802,38,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.802,727.802,38,3)
Answer must be 4-10 characters in length.
"^DD",727.802,727.802,38,21,0)
^^2^2^2990702^^^^
"^DD",727.802,727.802,38,21,1,0)
The DSS Department code for the ward.  Must contain at least
"^DD",727.802,727.802,38,21,2,0)
four characters to be a valid code.
"^DD",727.802,727.802,38,23,0)
^^15^15^2990702^^^^
"^DD",727.802,727.802,38,23,1,0)
The DSS Department code for the ward associated with the admission
"^DD",727.802,727.802,38,23,2,0)
movement record.  This code is found in the DSS WARD file (#727.4)
"^DD",727.802,727.802,38,23,3,0)
using the value of the WARD LOCATION field (#.06) of the PATIENT
"^DD",727.802,727.802,38,23,4,0)
MOVEMENT file (#405) record for the patient's admission movement.
"^DD",727.802,727.802,38,23,5,0)
The value found in WARD LOCATION is a pointer to the WARD LOCATION
"^DD",727.802,727.802,38,23,6,0)
file (#42).
"^DD",727.802,727.802,38,23,7,0)
 
"^DD",727.802,727.802,38,23,8,0)
Each record in file #727.4 has a #.01 field which points to a record
"^DD",727.802,727.802,38,23,9,0)
in file #42, and the internal entry number of the file #727.4 is set
"^DD",727.802,727.802,38,23,10,0)
to be the same as the record in file #42 to which it points.  Therefore,
"^DD",727.802,727.802,38,23,11,0)
the WARD LOCATION field (#.06) can be used as a pointer to file #727.4
"^DD",727.802,727.802,38,23,12,0)
as well.
"^DD",727.802,727.802,38,23,13,0)
  
"^DD",727.802,727.802,38,23,14,0)
Data for this field is taken from the DSS DEPARTMENT field (#1) of
"^DD",727.802,727.802,38,23,15,0)
the file #727.4 record.
"^DD",727.802,727.802,38,"DT")
2980708
"^DD",727.802,727.802,39,0)
ATTENDING PHYSICIAN NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.802,727.802,39,3)
Answer must be 1-8 characters in length.
"^DD",727.802,727.802,39,21,0)
^^1^1^2990506^
"^DD",727.802,727.802,39,21,1,0)
The Attending Physician's National Provider Identifier code.
"^DD",727.802,727.802,39,23,0)
^^4^4^2990506^
"^DD",727.802,727.802,39,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.802,727.802,39,23,2,0)
field will hold the Attending Physician NPI.
"^DD",727.802,727.802,39,23,3,0)
   
"^DD",727.802,727.802,39,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.802,727.802,39,"DT")
2990506
"^DD",727.802,727.802,40,0)
PC PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.802,727.802,40,3)
Answer must be 1-8 characters in length.
"^DD",727.802,727.802,40,21,0)
^^1^1^2990506^
"^DD",727.802,727.802,40,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.802,727.802,40,23,0)
^^4^4^2990506^
"^DD",727.802,727.802,40,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.802,727.802,40,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.802,727.802,40,23,3,0)
   
"^DD",727.802,727.802,40,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.802,727.802,40,"DT")
2990506
"^DD",727.802,727.802,41,0)
PRIMARY WARD PROVIDER NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.802,727.802,41,3)
Answer must be 1-8 characters in length.
"^DD",727.802,727.802,41,21,0)
^^1^1^2990506^
"^DD",727.802,727.802,41,21,1,0)
The Primary Ward Provider's National Provider Identifier code.
"^DD",727.802,727.802,41,23,0)
^^4^4^2990506^
"^DD",727.802,727.802,41,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.802,727.802,41,23,2,0)
field will hold the Primary Ward Provider NPI.
"^DD",727.802,727.802,41,23,3,0)
   
"^DD",727.802,727.802,41,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.802,727.802,41,"DT")
2990506
"^DD",727.802,727.802,42,0)
ADMISSION ELIGIBILITY^F^^1;6^K:$L(X)>3!($L(X)<1) X
"^DD",727.802,727.802,42,3)
Answer must be 1-3 characters in length.
"^DD",727.802,727.802,42,21,0)
^^1^1^2990504^^^
"^DD",727.802,727.802,42,21,1,0)
The eligibility of the patient for this specific admission.
"^DD",727.802,727.802,42,23,0)
^^11^11^2990504^^^
"^DD",727.802,727.802,42,23,1,0)
The Admission Eligibility is derived from the ADMITTING ELIGIBILITY
"^DD",727.802,727.802,42,23,2,0)
field (#.2) of the PATIENT MOVEMENT file (#405) record associated 
"^DD",727.802,727.802,42,23,3,0)
with this patient admission.
"^DD",727.802,727.802,42,23,4,0)
 
"^DD",727.802,727.802,42,23,5,0)
Field (#.2) points to the ELIGIBILITY CODE file (#8).  Then the
"^DD",727.802,727.802,42,23,6,0)
MAS ELIGIBILITY CODE field (#8) of file #8 points to the MAS
"^DD",727.802,727.802,42,23,7,0)
ELIGIBILITY CODE file (#8.1).  
"^DD",727.802,727.802,42,23,8,0)
 
"^DD",727.802,727.802,42,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.802,727.802,42,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.802,727.802,42,23,11,0)
two or three numeric characters.
"^DD",727.802,727.802,42,"DT")
2980708
"^DD",727.802,727.802,43,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^1;7^Q
"^DD",727.802,727.802,43,3)

"^DD",727.802,727.802,43,21,0)
^^5^5^2990505^^^^
"^DD",727.802,727.802,43,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.802,727.802,43,21,2,0)
Possible status values are:
"^DD",727.802,727.802,43,21,3,0)
Y = Yes, screened reports MST
"^DD",727.802,727.802,43,21,4,0)
N = Screened, does not report MST
"^DD",727.802,727.802,43,21,5,0)
D = Screened, declines to answer
"^DD",727.802,727.802,43,23,0)
^^5^5^2990505^^^^
"^DD",727.802,727.802,43,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.802,727.802,43,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.802,727.802,43,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.802,727.802,43,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.802,727.802,43,23,5,0)
field and the date in the DAY field.
"^DD",727.802,727.802,43,"DT")
2990505
"^DD",727.802,727.802,45,0)
SHARING AGREEMENT PAYOR^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.802,727.802,45,3)
Answer must be 1 character in length.
"^DD",727.802,727.802,45,21,0)
^^1^1^2990505^^^^
"^DD",727.802,727.802,45,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.802,727.802,45,23,0)
14^^15^15^2990505^^^^
"^DD",727.802,727.802,45,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.802,727.802,45,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.802,727.802,45,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.802,727.802,45,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.802,727.802,45,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.802,727.802,45,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.802,727.802,45,23,7,0)
  
"^DD",727.802,727.802,45,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.802,727.802,45,23,9,0)
field is obtained by the following conversion:
"^DD",727.802,727.802,45,23,10,0)
SHARING AGREEMENT = A
"^DD",727.802,727.802,45,23,11,0)
TRICARE = B
"^DD",727.802,727.802,45,23,12,0)
CAT C = C
"^DD",727.802,727.802,45,23,13,0)
CATEGORY C = C
"^DD",727.802,727.802,45,23,14,0)
CHAMPVA = D
"^DD",727.802,727.802,45,23,15,0)
CHAMPUS = E
"^DD",727.802,727.802,45,"DT")
2990504
"^DD",727.802,727.802,46,0)
SHARING AGREEMENT INSURANCE^F^^1;10^K:$L(X)>11!($L(X)<1) X
"^DD",727.802,727.802,46,3)
Answer must be 1-11 characters in length.
"^DD",727.802,727.802,46,21,0)
^^2^2^2990505^^^^
"^DD",727.802,727.802,46,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.802,727.802,46,21,2,0)
sharing agreement.
"^DD",727.802,727.802,46,23,0)
^^5^5^2990505^^^^
"^DD",727.802,727.802,46,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.802,727.802,46,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.802,727.802,46,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.802,727.802,46,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.802,727.802,46,23,5,0)
The data is stored as free text.
"^DD",727.802,727.802,46,"DT")
2990504
"^DD",727.802,727.802,47,0)
ENROLLMENT LOCATION^F^^1;11^K:$L(X)>5!($L(X)<3) X
"^DD",727.802,727.802,47,3)
Answer must be 3-5 characters in length.
"^DD",727.802,727.802,47,21,0)
^^2^2^2990505^^
"^DD",727.802,727.802,47,21,1,0)
The facility that the patient chooses to designate as his 
"^DD",727.802,727.802,47,21,2,0)
preferred location for care.
"^DD",727.802,727.802,47,23,0)
^^5^5^2990505^^
"^DD",727.802,727.802,47,23,1,0)
The PREFERRED FACILITY field (# 27.02) of the PATIENT file (#2)
"^DD",727.802,727.802,47,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.802,727.802,47,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.802,727.802,47,23,4,0)
(# 27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.802,727.802,47,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.802,727.802,47,"DT")
2980713
"^DD",727.802,727.802,48,0)
PC PROVIDER PERSON CLASS^F^^1;12^K:$L(X)>7!($L(X)<7) X
"^DD",727.802,727.802,48,3)
Answer must be 7 characters in length.
"^DD",727.802,727.802,48,21,0)
^^2^2^2981027^^
"^DD",727.802,727.802,48,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.802,727.802,48,21,2,0)
associated with this record.
"^DD",727.802,727.802,48,23,0)
^^6^6^2981027^^
"^DD",727.802,727.802,48,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.802,727.802,48,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.802,727.802,48,23,3,0)
extract record.
"^DD",727.802,727.802,48,23,4,0)
  
"^DD",727.802,727.802,48,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.802,727.802,48,23,6,0)
7 characters in length.
"^DD",727.802,727.802,48,"DT")
2981026
"^DD",727.802,727.802,49,0)
ASSOCIATE PC PROVIDER^F^^1;13^K:$L(X)>11!($L(X)<2) X
"^DD",727.802,727.802,49,3)
Answer must be 2-11 characters in length.
"^DD",727.802,727.802,49,21,0)
^^4^4^2990504^
"^DD",727.802,727.802,49,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.802,727.802,49,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.802,727.802,49,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.802,727.802,49,21,4,0)
character 2.
"^DD",727.802,727.802,49,23,0)
^^2^2^2990504^
"^DD",727.802,727.802,49,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.802,727.802,49,23,2,0)
the PCMM application.
"^DD",727.802,727.802,49,"DT")
2990504
"^DD",727.802,727.802,50,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;14^K:$L(X)>7!($L(X)<7) X
"^DD",727.802,727.802,50,3)
Answer must be 7 characters in length.
"^DD",727.802,727.802,50,21,0)
^^4^4^2990505^^
"^DD",727.802,727.802,50,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.802,727.802,50,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.802,727.802,50,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.802,727.802,50,21,4,0)
exactly 7 characters in length. 
"^DD",727.802,727.802,50,23,0)
^^3^3^2990505^^
"^DD",727.802,727.802,50,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.802,727.802,50,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.802,727.802,50,23,3,0)
PERS is the IEN from file #200.
"^DD",727.802,727.802,50,"DT")
2990504
"^DD",727.802,727.802,51,0)
ASSOCIATE PC PROVIDER NPI^F^^1;15^K:$L(X)>8!($L(X)<1) X
"^DD",727.802,727.802,51,3)
Answer must be 1-8 characters in length.
"^DD",727.802,727.802,51,21,0)
^^1^1^2990506^
"^DD",727.802,727.802,51,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.802,727.802,51,23,0)
^^4^4^2990506^
"^DD",727.802,727.802,51,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.802,727.802,51,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.802,727.802,51,23,3,0)
   
"^DD",727.802,727.802,51,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.802,727.802,51,"DT")
2990506
"^DD",727.804,727.804,0)
FIELD^^24^42
"^DD",727.804,727.804,0,"DDA")
N
"^DD",727.804,727.804,0,"DIK")
ECX804
"^DD",727.804,727.804,0,"DIKOLD")
ECX804
"^DD",727.804,727.804,0,"DT")
2990506
"^DD",727.804,727.804,0,"IX","AC",727.804,2)

"^DD",727.804,727.804,0,"NM","CLINIC NOSHOW EXTRACT")

"^DD",727.804,727.804,0,"VRPK")
DSS EXTRACTS
"^DD",727.804,727.804,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.804,727.804,.01,.1)

"^DD",727.804,727.804,.01,1,0)
^.1^^0
"^DD",727.804,727.804,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.804,727.804,.01,21,0)
^^1^1^2990505^^^^
"^DD",727.804,727.804,.01,21,1,0)
The record number for this extract entry.
"^DD",727.804,727.804,.01,23,0)
^^1^1^2990505^^^^
"^DD",727.804,727.804,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.804,727.804,.01,"DT")
2990505
"^DD",727.804,727.804,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.804,727.804,1,.1)
Year/Month
"^DD",727.804,727.804,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.804,727.804,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.804,727.804,1,3)
Answer must be 6 characters in length.
"^DD",727.804,727.804,1,21,0)
^^2^2^2970918^^^^
"^DD",727.804,727.804,1,21,1,0)
A six character string representing the year and the month
"^DD",727.804,727.804,1,21,2,0)
for which this extract was performed.
"^DD",727.804,727.804,1,23,0)
^^1^1^2970918^^^^
"^DD",727.804,727.804,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.804,727.804,1,"DT")
2970924
"^DD",727.804,727.804,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.804,727.804,2,.1)
Extract Number
"^DD",727.804,727.804,2,1,0)
^.1
"^DD",727.804,727.804,2,1,1,0)
727.804^AC
"^DD",727.804,727.804,2,1,1,1)
S ^ECX(727.804,"AC",$E(X,1,30),DA)=""
"^DD",727.804,727.804,2,1,1,2)
K ^ECX(727.804,"AC",$E(X,1,30),DA)
"^DD",727.804,727.804,2,1,1,3)
DO NOT DELETE.
"^DD",727.804,727.804,2,1,1,"%D",0)
^^2^2^2960808^^
"^DD",727.804,727.804,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.804,727.804,2,1,1,"%D",2,0)
in this file.
"^DD",727.804,727.804,2,1,1,"DT")
2910802
"^DD",727.804,727.804,2,3)
Enter the extract number for this extract.
"^DD",727.804,727.804,2,21,0)
^^2^2^2960814^^^^
"^DD",727.804,727.804,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.804,727.804,2,21,2,0)
extract.
"^DD",727.804,727.804,2,23,0)
^^2^2^2960814^^^^
"^DD",727.804,727.804,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.804,727.804,2,23,2,0)
pick up the header for the mail message.
"^DD",727.804,727.804,2,"DT")
2960814
"^DD",727.804,727.804,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.804,727.804,3,.1)
Facility
"^DD",727.804,727.804,3,3)
Enter the station number where this extract was performed.
"^DD",727.804,727.804,3,21,0)
^^1^1^2961014^^^^
"^DD",727.804,727.804,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.804,727.804,3,23,0)
^^3^3^2961014^^^^
"^DD",727.804,727.804,3,23,1,0)
An indicator of the division where this event happened.  It is derived
"^DD",727.804,727.804,3,23,2,0)
from the DIVISION field (3.5) of the HOSPITAL LOCATION file (#44) which
"^DD",727.804,727.804,3,23,3,0)
points to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.804,727.804,3,"DT")
2961014
"^DD",727.804,727.804,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.804,727.804,4,.1)
Patient No. - DFN
"^DD",727.804,727.804,4,3)
Enter the name of the patient for this extract record.
"^DD",727.804,727.804,4,21,0)
^^1^1^2990504^^^^
"^DD",727.804,727.804,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.804,727.804,4,23,0)
^^4^4^2990504^^^^
"^DD",727.804,727.804,4,23,1,0)
Pointer to the NAME field (.01) of the PATIENT file (#2). This data 
"^DD",727.804,727.804,4,23,2,0)
represents the patient DFN. PATIENT NO. - DFN data is derived from the
"^DD",727.804,727.804,4,23,3,0)
PATIENT field (.01) within the APPOINTMENT field (1900) multiple of the
"^DD",727.804,727.804,4,23,4,0)
HOSPITAL LOCATION file (#44).
"^DD",727.804,727.804,4,"DT")
2961014
"^DD",727.804,727.804,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.804,727.804,5,.1)
Social Security Number
"^DD",727.804,727.804,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.804,727.804,5,21,0)
^^4^4^2990504^^^^
"^DD",727.804,727.804,5,21,1,0)
The patient's social security number.
"^DD",727.804,727.804,5,21,2,0)
 
"^DD",727.804,727.804,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.804,727.804,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.804,727.804,5,23,0)
^^6^6^2990504^^
"^DD",727.804,727.804,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.804,727.804,5,23,2,0)
in the CLINIC NOSHOW EXTRACT file (#727.804), SSN data is derived from the
"^DD",727.804,727.804,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.804,727.804,5,23,4,0)
 
"^DD",727.804,727.804,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.804,727.804,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.804,727.804,5,"DT")
2960814
"^DD",727.804,727.804,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.804,727.804,6,.1)
Name
"^DD",727.804,727.804,6,3)
Your answer must be 4 characters in length.
"^DD",727.804,727.804,6,21,0)
^^1^1^2960814^^^^
"^DD",727.804,727.804,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.804,727.804,6,23,0)
^^4^4^2961014^
"^DD",727.804,727.804,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.804,727.804,6,23,2,0)
in the CLINIC NOSHOW EXTRACT file (#727.804), NAME data is derived from
"^DD",727.804,727.804,6,23,3,0)
the NAME field (.01) in the PATIENT file (#2). The first four characters
"^DD",727.804,727.804,6,23,4,0)
of the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.804,727.804,6,"DT")
2960814
"^DD",727.804,727.804,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.804,727.804,7,.1)
In Out Patient Indicator
"^DD",727.804,727.804,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.804,727.804,7,21,0)
^^2^2^2960814^^^^
"^DD",727.804,727.804,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.804,727.804,7,21,2,0)
this extract entry.
"^DD",727.804,727.804,7,23,0)
^^4^4^2960814^
"^DD",727.804,727.804,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.804,727.804,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.804,727.804,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.804,727.804,7,23,4,0)
inpatient status.
"^DD",727.804,727.804,7,"DT")
2960814
"^DD",727.804,727.804,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.804,727.804,8,.1)
Day
"^DD",727.804,727.804,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.804,727.804,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.804,727.804,8,3)
Answer must be 8 characters in length.
"^DD",727.804,727.804,8,21,0)
^^2^2^2970918^^^^
"^DD",727.804,727.804,8,21,1,0)
This 8-character string represents the date on which the clinic
"^DD",727.804,727.804,8,21,2,0)
appointment was scheduled to occur.
"^DD",727.804,727.804,8,23,0)
^^10^10^2970923^^^^
"^DD",727.804,727.804,8,23,1,0)
Data source:
"^DD",727.804,727.804,8,23,2,0)
 
"^DD",727.804,727.804,8,23,3,0)
HOSPITAL LOCATION file (#44); APPOINTMENT sub-file (#44.001);
"^DD",727.804,727.804,8,23,4,0)
   APPOINTMENT DATE/TIME field (#.01)
"^DD",727.804,727.804,8,23,5,0)
 
"^DD",727.804,727.804,8,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.804,727.804,8,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.804,727.804,8,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.804,727.804,8,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.804,727.804,8,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.804,727.804,8,"DT")
2970924
"^DD",727.804,727.804,9,0)
PLACEHOLDER1^F^^0;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,9,.1)
Placeholder1
"^DD",727.804,727.804,9,3)
Answer must be 1 character in length.
"^DD",727.804,727.804,9,21,0)
^^1^1^2970915^^^^
"^DD",727.804,727.804,9,21,1,0)
A placeholder for future use.
"^DD",727.804,727.804,9,"DT")
2970915
"^DD",727.804,727.804,10,0)
MOVEMENT FILE #^P405'^DGPM(^0;11^Q
"^DD",727.804,727.804,10,.1)
Movement File Number
"^DD",727.804,727.804,10,3)
Enter the patient movement number associated with this extract record.
"^DD",727.804,727.804,10,21,0)
^^1^1^2960814^^
"^DD",727.804,727.804,10,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.804,727.804,10,23,0)
^^4^4^2961014^^^^
"^DD",727.804,727.804,10,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.804,727.804,10,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.804,727.804,10,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.804,727.804,10,23,4,0)
(#405).
"^DD",727.804,727.804,10,"DT")
2960814
"^DD",727.804,727.804,12,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;12^Q
"^DD",727.804,727.804,12,.1)
Treating Specialty
"^DD",727.804,727.804,12,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.804,727.804,12,21,0)
^^2^2^2960814^^^
"^DD",727.804,727.804,12,21,1,0)
Enter the name of the treating specialty associated with this extract 
"^DD",727.804,727.804,12,21,2,0)
record.
"^DD",727.804,727.804,12,23,0)
^^6^6^2961015^^^^
"^DD",727.804,727.804,12,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.804,727.804,12,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.804,727.804,12,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.804,727.804,12,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.804,727.804,12,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.804,727.804,12,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.804,727.804,12,"DT")
2960814
"^DD",727.804,727.804,13,0)
DATE OF BIRTH^FO^^0;13^K:$L(X)>8!($L(X)<8) X
"^DD",727.804,727.804,13,.1)
Date of Birth
"^DD",727.804,727.804,13,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.804,727.804,13,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.804,727.804,13,3)
Answer must be 8 characters in length.
"^DD",727.804,727.804,13,21,0)
^^1^1^2970918^^^^
"^DD",727.804,727.804,13,21,1,0)
The patient's date of birth between December 31,1870 and today's date.
"^DD",727.804,727.804,13,23,0)
^^10^10^2971113^^^^
"^DD",727.804,727.804,13,23,1,0)
Data source:
"^DD",727.804,727.804,13,23,2,0)
 
"^DD",727.804,727.804,13,23,3,0)
HOSPITAL LOCATION file (#44); APPOINTMENT sub-file (#44.0001);
"^DD",727.804,727.804,13,23,4,0)
   PATIENT sub-file (#44.003); PATIENT field (#.01)
"^DD",727.804,727.804,13,23,5,0)
   then to PATIENT file (#2); DATE OF BIRTH field (#.03)
"^DD",727.804,727.804,13,23,6,0)
 
"^DD",727.804,727.804,13,23,7,0)
If Date of Birth cannot be determined, then January 1, 1942, is
"^DD",727.804,727.804,13,23,8,0)
used as default.  The data element is always exactly 8 numberic
"^DD",727.804,727.804,13,23,9,0)
characters in length.  Format is YYYYMMDD.  Year 2000 compliant
"^DD",727.804,727.804,13,23,10,0)
per vendor.
"^DD",727.804,727.804,13,"DT")
2970924
"^DD",727.804,727.804,14,0)
ELIGIBILITY^F^^0;14^K:$L(X)>3!($L(X)<1) X
"^DD",727.804,727.804,14,.1)
Eligibility
"^DD",727.804,727.804,14,3)
Answer must be 1-3 characters in length.
"^DD",727.804,727.804,14,21,0)
^^1^1^2990504^^^^
"^DD",727.804,727.804,14,21,1,0)
Appropriate eligibility code based on veteran or non-veteran status.
"^DD",727.804,727.804,14,23,0)
^^11^11^2990504^^^^
"^DD",727.804,727.804,14,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.804,727.804,14,23,2,0)
in the CLINIC NOSHOW EXTRACT file (#727.804), ELIGIBILITY data is derived 
"^DD",727.804,727.804,14,23,3,0)
from the PRIMARY ELIGIBILITY CODE field (.361) in the PATIENT file (#2).
"^DD",727.804,727.804,14,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8).
"^DD",727.804,727.804,14,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (8) in the
"^DD",727.804,727.804,14,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS
"^DD",727.804,727.804,14,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.804,727.804,14,23,8,0)
 
"^DD",727.804,727.804,14,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.804,727.804,14,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.804,727.804,14,23,11,0)
two or three numeric characters.
"^DD",727.804,727.804,14,"DT")
2990504
"^DD",727.804,727.804,15,0)
VETERAN^S^Y:YES;N:NO;^0;15^Q
"^DD",727.804,727.804,15,.1)
Veteran
"^DD",727.804,727.804,15,3)
Select the appropriate veteran status for this patient.
"^DD",727.804,727.804,15,21,0)
^^1^1^2960814^^
"^DD",727.804,727.804,15,21,1,0)
Data is Y if the patient is a veteran, N if not.
"^DD",727.804,727.804,15,23,0)
^^3^3^2961014^
"^DD",727.804,727.804,15,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.804,727.804,15,23,2,0)
in the CLINIC NOSHOW EXTRACT file (#727.804), VETERAN data is derived from
"^DD",727.804,727.804,15,23,3,0)
the VETERAN (Y/N)? field (1901) in the PATIENT file (#2).
"^DD",727.804,727.804,15,"DT")
2960814
"^DD",727.804,727.804,16,0)
TIME^FO^^0;16^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.804,727.804,16,.1)
Time
"^DD",727.804,727.804,16,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.804,727.804,16,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.804,727.804,16,3)
Answer must be 6 characters in length.
"^DD",727.804,727.804,16,21,0)
^^2^2^2970918^^^^
"^DD",727.804,727.804,16,21,1,0)
A 6-character data element which represents the time for which
"^DD",727.804,727.804,16,21,2,0)
the appointment was scheduled.
"^DD",727.804,727.804,16,23,0)
^^8^8^2970918^^^^
"^DD",727.804,727.804,16,23,1,0)
A six-character string of format HHMMSS which represents the time
"^DD",727.804,727.804,16,23,2,0)
(military time) of the appointment.
"^DD",727.804,727.804,16,23,3,0)
 
"^DD",727.804,727.804,16,23,4,0)
HOSPITAL LOCATION file (#44); APPOINTMENT sub-file (#44.001);
"^DD",727.804,727.804,16,23,5,0)
   APPOINTMENT DATA/TIME field (#.01)
"^DD",727.804,727.804,16,23,6,0)
  
"^DD",727.804,727.804,16,23,7,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.804,727.804,16,23,8,0)
cannot be determined, then "000300" is used as default.
"^DD",727.804,727.804,16,"DT")
2970924
"^DD",727.804,727.804,17,0)
PRIMARY CARE TEAM^F^^0;17^K:$L(X)>4!($L(X)<1) X
"^DD",727.804,727.804,17,.1)
Primary Care Team
"^DD",727.804,727.804,17,3)
Enter primary care team assigned to this patient.
"^DD",727.804,727.804,17,21,0)
^^1^1^2961106^^
"^DD",727.804,727.804,17,21,1,0)
The primary care team assigned to this patient.
"^DD",727.804,727.804,17,23,0)
^^7^7^2961106^
"^DD",727.804,727.804,17,23,1,0)
Using the APPOINTMENT DATE/TIME field (.01) in the APPOINTMENT field 
"^DD",727.804,727.804,17,23,2,0)
(1900) multiple of the HOSPITAL LOCATION file (#44) and the patient 
"^DD",727.804,727.804,17,23,3,0)
pointer (DFN) stored in the PATIENT NO. - DFN field (4) in the CLINIC 
"^DD",727.804,727.804,17,23,4,0)
NOSHOW EXTRACT file (#727.804), a call is made to the Scheduling API, 
"^DD",727.804,727.804,17,23,5,0)
OUTPTTM^SDUTL3. The API returns the team's internal entry number and 
"^DD",727.804,727.804,17,23,6,0)
name from the TEAM file (#404.51). Only the pointer (IEN) to File 
"^DD",727.804,727.804,17,23,7,0)
404.51 is transmitted.
"^DD",727.804,727.804,17,"DT")
2961106
"^DD",727.804,727.804,18,0)
PRIMARY CARE PROVIDER^F^^0;18^K:$L(X)>11!($L(X)<1) X
"^DD",727.804,727.804,18,.1)
Primary Care Provider
"^DD",727.804,727.804,18,3)
Enter primary care provider assigned to this patient.
"^DD",727.804,727.804,18,21,0)
^^1^1^2980708^^^
"^DD",727.804,727.804,18,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.804,727.804,18,23,0)
^^9^9^2980708^^^
"^DD",727.804,727.804,18,23,1,0)
Using the APPOINTMENT DATE/TIME field (.01) in the APPOINTMENT field 
"^DD",727.804,727.804,18,23,2,0)
(1900) multiple of the HOSPITAL LOCATION file (#44) and the patient 
"^DD",727.804,727.804,18,23,3,0)
pointer (DFN) stored in the PATIENT NO. - DFN field (4) in the CLINIC 
"^DD",727.804,727.804,18,23,4,0)
NOSHOW EXTRACT file (#727.804), a call is made to the Scheduling API, 
"^DD",727.804,727.804,18,23,5,0)
OUTPTPR^SDUTL3. The API returns the provider's internal entry number 
"^DD",727.804,727.804,18,23,6,0)
and name from the NEW PERSON file (#200). 
"^DD",727.804,727.804,18,23,7,0)
 
"^DD",727.804,727.804,18,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.804,727.804,18,23,9,0)
is "200".
"^DD",727.804,727.804,18,"DT")
2961015
"^DD",727.804,727.804,19,0)
PROVIDER^F^^0;19^K:$L(X)>11!($L(X)<1) X
"^DD",727.804,727.804,19,.1)
Provider
"^DD",727.804,727.804,19,3)
Enter provider for this record.
"^DD",727.804,727.804,19,21,0)
^^1^1^2980925^^^
"^DD",727.804,727.804,19,21,1,0)
The provider assigned to this patient.
"^DD",727.804,727.804,19,23,0)
^^1^1^2980925^^^
"^DD",727.804,727.804,19,23,1,0)
This field marked as a placeholder for future use.
"^DD",727.804,727.804,19,"DT")
2961015
"^DD",727.804,727.804,20,0)
RACE^F^^0;20^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,20,.1)
Race
"^DD",727.804,727.804,20,3)
Enter race ABBREVIATION for this patient.
"^DD",727.804,727.804,20,21,0)
^^1^1^2961106^^^
"^DD",727.804,727.804,20,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.804,727.804,20,23,0)
^^3^3^2961106^^
"^DD",727.804,727.804,20,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.804,727.804,20,23,2,0)
RACE data is shown as the ABBREVIATION of the RACE file (#10) entry
"^DD",727.804,727.804,20,23,3,0)
pointed to by the RACE field (.06) in the PATIENT file (#2).
"^DD",727.804,727.804,20,"DT")
2961014
"^DD",727.804,727.804,21,0)
DSS IDENTIFIER^F^^0;21^K:$L(X)>6!($L(X)<6) X
"^DD",727.804,727.804,21,.1)
DSS Identifier
"^DD",727.804,727.804,21,3)
Answer must be 6 characters in length.
"^DD",727.804,727.804,21,21,0)
^^3^3^2971106^^^
"^DD",727.804,727.804,21,21,1,0)
The DSS Identifier consists of the primary and secondary stop codes
"^DD",727.804,727.804,21,21,2,0)
associated with this clinic.  It is exactly 6 numeric characters in 
"^DD",727.804,727.804,21,21,3,0)
length.
"^DD",727.804,727.804,21,23,0)
^^19^19^2971113^^^^
"^DD",727.804,727.804,21,23,1,0)
Data source:
"^DD",727.804,727.804,21,23,2,0)
 
"^DD",727.804,727.804,21,23,3,0)
CLINICS AND STOP CODES file (#728.44); DSS STOP CODE field (#3)
"^DD",727.804,727.804,21,23,4,0)
   and DSS CREDIT STOP CODE field (#4)
"^DD",727.804,727.804,21,23,5,0)
  
"^DD",727.804,727.804,21,23,6,0)
If field #3 is null, then use
"^DD",727.804,727.804,21,23,7,0)
   CLINICS AND STOP CODES file (#728.44); STOP CODE field (#1)
"^DD",727.804,727.804,21,23,8,0)
   and CREDIT STOP CODE (#2)
"^DD",727.804,727.804,21,23,9,0)
  
"^DD",727.804,727.804,21,23,10,0)
If field #1 is null, then use
"^DD",727.804,727.804,21,23,11,0)
   HOSPITAL LOCATION file (#44); STOP CODE NUMBER field (#8)
"^DD",727.804,727.804,21,23,12,0)
   and CREDIT STOP CODE field (#2503)
"^DD",727.804,727.804,21,23,13,0)
  
"^DD",727.804,727.804,21,23,14,0)
If field #8 is null, then use default of "000000".
"^DD",727.804,727.804,21,23,15,0)
 
"^DD",727.804,727.804,21,23,16,0)
However, if the ACTION TO SEND field (#5) of file #728.44 for
"^DD",727.804,727.804,21,23,17,0)
the clinic is set to "1" (i.e., SEND STOP CODE), then ONLY the
"^DD",727.804,727.804,21,23,18,0)
primary stop code is used.  The secondary stop code (i.e., credit
"^DD",727.804,727.804,21,23,19,0)
stop code) is set to "000".
"^DD",727.804,727.804,21,"DT")
2970915
"^DD",727.804,727.804,22,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.804,727.804,22,3)
Answer must be 1-10 characters in length.
"^DD",727.804,727.804,22,21,0)
^^1^1^2990504^
"^DD",727.804,727.804,22,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.804,727.804,22,23,0)
^^2^2^2990504^
"^DD",727.804,727.804,22,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.804,727.804,22,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.804,727.804,22,"DT")
2990504
"^DD",727.804,727.804,23,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.804,727.804,23,3)
Answer must be 4-10 characters in length.
"^DD",727.804,727.804,23,21,0)
^^1^1^2990506^
"^DD",727.804,727.804,23,21,1,0)
The DSS Department Code for the clinic product.
"^DD",727.804,727.804,23,23,0)
^^2^2^2990506^
"^DD",727.804,727.804,23,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.804,727.804,23,23,2,0)
Field is set to null.
"^DD",727.804,727.804,23,"DT")
2990506
"^DD",727.804,727.804,24,0)
PC PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.804,727.804,24,3)
Answer must be 1-8 characters in length.
"^DD",727.804,727.804,24,21,0)
^^1^1^2990506^
"^DD",727.804,727.804,24,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.804,727.804,24,23,0)
^^4^4^2990506^
"^DD",727.804,727.804,24,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.804,727.804,24,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.804,727.804,24,23,3,0)
   
"^DD",727.804,727.804,24,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.804,727.804,24,"DT")
2990506
"^DD",727.804,727.804,25,0)
PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.804,727.804,25,3)
Answer must be 1-8 characters in length.
"^DD",727.804,727.804,25,21,0)
^^1^1^2990506^^^^
"^DD",727.804,727.804,25,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.804,727.804,25,23,0)
^^4^4^2990506^^^
"^DD",727.804,727.804,25,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.804,727.804,25,23,2,0)
field will hold the Provider NPI.
"^DD",727.804,727.804,25,23,3,0)
   
"^DD",727.804,727.804,25,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.804,727.804,25,"DT")
2990506
"^DD",727.804,727.804,26,0)
PC PROVIDER PERSON CLASS^F^^1;5^K:$L(X)>7!($L(X)<7) X
"^DD",727.804,727.804,26,3)
Answer must be 7 characters in length.
"^DD",727.804,727.804,26,21,0)
^^2^2^2981026^
"^DD",727.804,727.804,26,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.804,727.804,26,21,2,0)
associated with this record.
"^DD",727.804,727.804,26,23,0)
^^6^6^2981026^
"^DD",727.804,727.804,26,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.804,727.804,26,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.804,727.804,26,23,3,0)
extract record.
"^DD",727.804,727.804,26,23,4,0)
  
"^DD",727.804,727.804,26,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.804,727.804,26,23,6,0)
7 characters in length.
"^DD",727.804,727.804,26,"DT")
2981026
"^DD",727.804,727.804,27,0)
PROVIDER PERSON CLASS^F^^1;6^K:$L(X)>7!($L(X)<7) X
"^DD",727.804,727.804,27,3)
Answer must be 7 characters in length.
"^DD",727.804,727.804,27,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,27,21,1,0)
The VA code associated with the active Person Class of the provider.
"^DD",727.804,727.804,27,23,0)
^^3^3^2990505^
"^DD",727.804,727.804,27,23,1,0)
A call to $$GET^XUA4A72(PERS,DATE) will be made using the IEN in the
"^DD",727.804,727.804,27,23,2,0)
PROVIDER and the date in the DAY field.  The VA Code is always of the
"^DD",727.804,727.804,27,23,3,0)
form "V"_six numeric digits; exactly 7 characters in length. 
"^DD",727.804,727.804,27,"DT")
2990505
"^DD",727.804,727.804,28,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;7^Q
"^DD",727.804,727.804,28,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,28,21,1,0)
The patient's POW status. May be set to Y(es), N(o), or U(nknown).
"^DD",727.804,727.804,28,23,0)
^^2^2^2990505^^^
"^DD",727.804,727.804,28,23,1,0)
PATIENT file (#2); POW STATUS INDICATED? field (#.525).
"^DD",727.804,727.804,28,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.804,727.804,28,"DT")
2990505
"^DD",727.804,727.804,29,0)
POW LOCATION^P22'^DIC(22,^1;8^Q
"^DD",727.804,727.804,29,21,0)
^^9^9^2990505^
"^DD",727.804,727.804,29,21,1,0)
If POW Status is indicated, then this is the POW confinement
"^DD",727.804,727.804,29,21,2,0)
location/period. 
"^DD",727.804,727.804,29,21,3,0)
 
"^DD",727.804,727.804,29,21,4,0)
 1      WORLD WAR I
"^DD",727.804,727.804,29,21,5,0)
 2      WORLD WAR II - EUROPE
"^DD",727.804,727.804,29,21,6,0)
 3      WORLD WAR II - PACIFIC
"^DD",727.804,727.804,29,21,7,0)
 4      KOREAN
"^DD",727.804,727.804,29,21,8,0)
 5      VIETNAM
"^DD",727.804,727.804,29,21,9,0)
 6      OTHER
"^DD",727.804,727.804,29,23,0)
^^3^3^2990505^^
"^DD",727.804,727.804,29,23,1,0)
PATIENT file (#2); POW CONFINEMENT LOCATION field (#.526).  This is a
"^DD",727.804,727.804,29,23,2,0)
pointer value to the POW PERIOD file (#22).
"^DD",727.804,727.804,29,23,3,0)
The location indicator is returned by SVC^VADPT.
"^DD",727.804,727.804,29,"DT")
2990505
"^DD",727.804,727.804,30,0)
RADIATION STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;9^Q
"^DD",727.804,727.804,30,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,30,21,1,0)
The patient's Ionizing Radiation status. (Y/N/U)
"^DD",727.804,727.804,30,23,0)
^^2^2^2990505^
"^DD",727.804,727.804,30,23,1,0)
PATIENT file (#2); RADIATION EXPOSURE INDICATED? field (#.32103).
"^DD",727.804,727.804,30,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.804,727.804,30,"DT")
2990505
"^DD",727.804,727.804,31,0)
AGENT ORANGE STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;10^Q
"^DD",727.804,727.804,31,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,31,21,1,0)
The patient's Agent Orange status.
"^DD",727.804,727.804,31,23,0)
^^2^2^2990505^
"^DD",727.804,727.804,31,23,1,0)
PATIENT file (#2); AGENT ORANGE EXPOS. INDICATED? field (#.32102).
"^DD",727.804,727.804,31,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.804,727.804,31,"DT")
2990505
"^DD",727.804,727.804,32,0)
SHARING AGREEMENT PAYOR^F^^1;11^K:$L(X)>1!($L(X)<1) X
"^DD",727.804,727.804,32,3)
Answer must be 1 character in length.
"^DD",727.804,727.804,32,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,32,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.804,727.804,32,23,0)
^^15^15^2990505^
"^DD",727.804,727.804,32,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.804,727.804,32,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.804,727.804,32,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.804,727.804,32,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.804,727.804,32,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.804,727.804,32,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.804,727.804,32,23,7,0)
  
"^DD",727.804,727.804,32,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.804,727.804,32,23,9,0)
field is obtained by the following conversion:
"^DD",727.804,727.804,32,23,10,0)
SHARING AGREEMENT = A
"^DD",727.804,727.804,32,23,11,0)
TRICARE = B
"^DD",727.804,727.804,32,23,12,0)
CAT C = C
"^DD",727.804,727.804,32,23,13,0)
CATEGORY C = C
"^DD",727.804,727.804,32,23,14,0)
CHAMPVA = D
"^DD",727.804,727.804,32,23,15,0)
CHAMPUS = E
"^DD",727.804,727.804,32,"DT")
2990505
"^DD",727.804,727.804,33,0)
SHARING AGREEMENT INSURANCE^F^^1;12^K:$L(X)>11!($L(X)<1) X
"^DD",727.804,727.804,33,3)
Answer must be 1-11 characters in length.
"^DD",727.804,727.804,33,21,0)
^^2^2^2990505^
"^DD",727.804,727.804,33,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.804,727.804,33,21,2,0)
sharing agreement.
"^DD",727.804,727.804,33,23,0)
^^5^5^2990505^
"^DD",727.804,727.804,33,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.804,727.804,33,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.804,727.804,33,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.804,727.804,33,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.804,727.804,33,23,5,0)
The data is stored as free text.
"^DD",727.804,727.804,33,"DT")
2990505
"^DD",727.804,727.804,34,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^1;13^Q
"^DD",727.804,727.804,34,21,0)
^^5^5^2990505^^
"^DD",727.804,727.804,34,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.804,727.804,34,21,2,0)
Possible status values are:
"^DD",727.804,727.804,34,21,3,0)
Y = Yes, screened reports MST
"^DD",727.804,727.804,34,21,4,0)
N = Screened, does not report MST
"^DD",727.804,727.804,34,21,5,0)
D = Screened, declines to answer
"^DD",727.804,727.804,34,23,0)
^^5^5^2990505^^
"^DD",727.804,727.804,34,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.804,727.804,34,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.804,727.804,34,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.804,727.804,34,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.804,727.804,34,23,5,0)
field and the date in the DAY field.
"^DD",727.804,727.804,34,"DT")
2990505
"^DD",727.804,727.804,35,0)
ENROLLMENT LOCATION^F^^1;14^K:$L(X)>5!($L(X)<3) X
"^DD",727.804,727.804,35,3)
Answer must be 3-5 characters in length.
"^DD",727.804,727.804,35,21,0)
^^2^2^2990505^
"^DD",727.804,727.804,35,21,1,0)
The facility that the patient chooses to designate as his
"^DD",727.804,727.804,35,21,2,0)
preferred location for care.
"^DD",727.804,727.804,35,23,0)
^^5^5^2990505^
"^DD",727.804,727.804,35,23,1,0)
The PREFERRED FACILITY field (# 27.02) of the PATIENT file (#2)
"^DD",727.804,727.804,35,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.804,727.804,35,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.804,727.804,35,23,4,0)
(# 27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.804,727.804,35,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.804,727.804,35,"DT")
2990505
"^DD",727.804,727.804,36,0)
STATE^F^^1;15^K:$L(X)>2!($L(X)<2) X
"^DD",727.804,727.804,36,3)
Answer must be 2 characters in length.
"^DD",727.804,727.804,36,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,36,21,1,0)
The state in which the patient resides.
"^DD",727.804,727.804,36,23,0)
^^4^4^2990505^^
"^DD",727.804,727.804,36,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.804,727.804,36,23,2,0)
in the extract record, data is derived from the STATE field (#.115) in the
"^DD",727.804,727.804,36,23,3,0)
PATIENT file (#2) which points to the STATE file (#5).  From the STATE file
"^DD",727.804,727.804,36,23,4,0)
record, the two-character VA STATE CODE field (#2) is used.
"^DD",727.804,727.804,36,"DT")
2990505
"^DD",727.804,727.804,37,0)
COUNTY^F^^1;16^K:$L(X)>3!($L(X)<3) X
"^DD",727.804,727.804,37,3)
Answer must be 3 characters in length.
"^DD",727.804,727.804,37,21,0)
^^1^1^2990505^
"^DD",727.804,727.804,37,21,1,0)
The county in which the patient resides.
"^DD",727.804,727.804,37,23,0)
^^5^5^2990505^^
"^DD",727.804,727.804,37,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.804,727.804,37,23,2,0)
(#4) in the extract record, data is derived from the COUNTY field (#.117)
"^DD",727.804,727.804,37,23,3,0)
in the PATIENT file (#2), which points to a subfile record in the COUNTY
"^DD",727.804,727.804,37,23,4,0)
multiple field (#3) of the STATE file (#5).  The three-character VA COUNTY
"^DD",727.804,727.804,37,23,5,0)
CODE field (#2) within the COUNTY multiple field is used.
"^DD",727.804,727.804,37,"DT")
2990505
"^DD",727.804,727.804,38,0)
ZIP+4^F^^1;17^K:$L(X)>10!($L(X)<5) X
"^DD",727.804,727.804,38,3)
Answer must be 5-10 characters in length.
"^DD",727.804,727.804,38,21,0)
^^2^2^2990505^
"^DD",727.804,727.804,38,21,1,0)
The patient's Zipcode with optional 4-digit extension.
"^DD",727.804,727.804,38,21,2,0)
For example: 11223-1234
"^DD",727.804,727.804,38,23,0)
^^1^1^2990505^
"^DD",727.804,727.804,38,23,1,0)
PATIENT file (#2); ZIP+4 field (#.1112).
"^DD",727.804,727.804,38,"DT")
2990505
"^DD",727.804,727.804,39,0)
SEX^RS^M:MALE;F:FEMALE;^1;18^Q
"^DD",727.804,727.804,39,21,0)
^^1^1^2990506^
"^DD",727.804,727.804,39,21,1,0)
Data is M if this patient is a male, or F if female.
"^DD",727.804,727.804,39,23,0)
^^3^3^2990506^
"^DD",727.804,727.804,39,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4),
"^DD",727.804,727.804,39,23,2,0)
this data element is derived from the SEX field (#.02) in the PATIENT 
"^DD",727.804,727.804,39,23,3,0)
file (#2).
"^DD",727.804,727.804,39,"DT")
2990506
"^DD",727.804,727.804,40,0)
ASSOCIATE PC PROVIDER^F^^1;19^K:$L(X)>11!($L(X)<2) X
"^DD",727.804,727.804,40,3)
Answer must be 2-11 characters in length.
"^DD",727.804,727.804,40,21,0)
^^4^4^2990505^
"^DD",727.804,727.804,40,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.804,727.804,40,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.804,727.804,40,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.804,727.804,40,21,4,0)
character 2.
"^DD",727.804,727.804,40,23,0)
^^2^2^2990505^
"^DD",727.804,727.804,40,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.804,727.804,40,23,2,0)
the PCMM application.
"^DD",727.804,727.804,40,"DT")
2990505
"^DD",727.804,727.804,41,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;20^K:$L(X)>7!($L(X)<7) X
"^DD",727.804,727.804,41,3)
Answer must be 7 characters in length.
"^DD",727.804,727.804,41,21,0)
^^4^4^2990505^
"^DD",727.804,727.804,41,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.804,727.804,41,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.804,727.804,41,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.804,727.804,41,21,4,0)
exactly 7 characters in length. 
"^DD",727.804,727.804,41,23,0)
^^3^3^2990505^
"^DD",727.804,727.804,41,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.804,727.804,41,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.804,727.804,41,23,3,0)
PERS is the IEN from file #200.
"^DD",727.804,727.804,41,"DT")
2990505
"^DD",727.804,727.804,42,0)
ASSOCIATE PC PROVIDER NPI^F^^1;21^K:$L(X)>8!($L(X)<1) X
"^DD",727.804,727.804,42,3)
Answer must be 1-8 characters in length.
"^DD",727.804,727.804,42,21,0)
^^1^1^2990506^
"^DD",727.804,727.804,42,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.804,727.804,42,23,0)
^^2^2^2990506^
"^DD",727.804,727.804,42,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.804,727.804,42,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.804,727.804,42,"DT")
2990506
"^DD",727.805,727.805,0)
FIELD^^18^20
"^DD",727.805,727.805,0,"DIK")
ECX805
"^DD",727.805,727.805,0,"DIKOLD")
ECX805
"^DD",727.805,727.805,0,"DT")
2990506
"^DD",727.805,727.805,0,"IX","AC",727.805,2)

"^DD",727.805,727.805,0,"NM","NURSING EXTRACT")

"^DD",727.805,727.805,0,"VRPK")
DSS EXTRACTS
"^DD",727.805,727.805,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.805,727.805,.01,.1)
Sequence Number
"^DD",727.805,727.805,.01,1,0)
^.1^^0
"^DD",727.805,727.805,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.805,727.805,.01,21,0)
^^1^1^2960815^^^^
"^DD",727.805,727.805,.01,21,1,0)
The record number for this extract entry.
"^DD",727.805,727.805,.01,23,0)
^^1^1^2960815^^
"^DD",727.805,727.805,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.805,727.805,.01,"DT")
2980812
"^DD",727.805,727.805,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.805,727.805,1,.1)
Year/Month
"^DD",727.805,727.805,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.805,727.805,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.805,727.805,1,3)
Answer must be 6 characters in length.
"^DD",727.805,727.805,1,21,0)
2^^2^2^2970918^^
"^DD",727.805,727.805,1,21,1,0)
A six character string representing the year and the month
"^DD",727.805,727.805,1,21,2,0)
for which this extract was performed.
"^DD",727.805,727.805,1,23,0)
^^1^1^2970918^^^^
"^DD",727.805,727.805,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.805,727.805,1,"DT")
2970924
"^DD",727.805,727.805,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.805,727.805,2,.1)
Extract Number
"^DD",727.805,727.805,2,1,0)
^.1
"^DD",727.805,727.805,2,1,1,0)
727.805^AC
"^DD",727.805,727.805,2,1,1,1)
S ^ECX(727.805,"AC",$E(X,1,30),DA)=""
"^DD",727.805,727.805,2,1,1,2)
K ^ECX(727.805,"AC",$E(X,1,30),DA)
"^DD",727.805,727.805,2,1,1,3)
DO NOT DELETE.
"^DD",727.805,727.805,2,1,1,"%D",0)
^^2^2^2960808^^
"^DD",727.805,727.805,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.805,727.805,2,1,1,"%D",2,0)
in this file.
"^DD",727.805,727.805,2,1,1,"DT")
2910802
"^DD",727.805,727.805,2,3)
Enter the extract number for this extract.
"^DD",727.805,727.805,2,21,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.805,727.805,2,21,2,0)
extract.
"^DD",727.805,727.805,2,23,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.805,727.805,2,23,2,0)
pick up the header for the mail message.
"^DD",727.805,727.805,2,"DT")
2960815
"^DD",727.805,727.805,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.805,727.805,3,.1)
Facility
"^DD",727.805,727.805,3,3)
Enter the station number where this extract was performed.
"^DD",727.805,727.805,3,21,0)
^^1^1^2961017^^^^
"^DD",727.805,727.805,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.805,727.805,3,23,0)
^^4^4^2961017^^^^
"^DD",727.805,727.805,3,23,1,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.805,727.805,3,23,2,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.805,727.805,3,23,3,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.805,727.805,3,23,4,0)
the INSTITUTION file (#4).
"^DD",727.805,727.805,3,"DT")
2961017
"^DD",727.805,727.805,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.805,727.805,4,.1)
Patient No. - DFN
"^DD",727.805,727.805,4,3)
Enter the name of the patient for this extract record.
"^DD",727.805,727.805,4,21,0)
^^1^1^2990504^^^^
"^DD",727.805,727.805,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.805,727.805,4,23,0)
^^3^3^2990504^^
"^DD",727.805,727.805,4,23,1,0)
Pointer to the NAME field (.01) of the PATIENT file (#2). This data 
"^DD",727.805,727.805,4,23,2,0)
represents the patient DFN. PATIENT NO. - DFN data is derived from the
"^DD",727.805,727.805,4,23,3,0)
NAME field (.02) of the NURS CLASSIFICATION file (#214.6).
"^DD",727.805,727.805,4,"DT")
2961017
"^DD",727.805,727.805,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.805,727.805,5,.1)
Social Security Number
"^DD",727.805,727.805,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.805,727.805,5,21,0)
^^4^4^2990504^^^^
"^DD",727.805,727.805,5,21,1,0)
The patient's social security number.
"^DD",727.805,727.805,5,21,2,0)
 
"^DD",727.805,727.805,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.805,727.805,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.805,727.805,5,23,0)
^^6^6^2990504^^^
"^DD",727.805,727.805,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.805,727.805,5,23,2,0)
in the NURSING EXTRACT file (#727.805), SSN data is derived from the
"^DD",727.805,727.805,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.805,727.805,5,23,4,0)
 
"^DD",727.805,727.805,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.805,727.805,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.805,727.805,5,"DT")
2960815
"^DD",727.805,727.805,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.805,727.805,6,.1)
Name
"^DD",727.805,727.805,6,3)
Your answer must be 4 characters in length.
"^DD",727.805,727.805,6,21,0)
^^1^1^2960815^^^^
"^DD",727.805,727.805,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.805,727.805,6,23,0)
^^4^4^2961017^
"^DD",727.805,727.805,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.805,727.805,6,23,2,0)
in the NURSING EXTRACT file (#727.805), NAME data is derived from the NAME
"^DD",727.805,727.805,6,23,3,0)
field (.01) in the PATIENT file (#2). The first four characters of the
"^DD",727.805,727.805,6,23,4,0)
first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.805,727.805,6,"DT")
2960815
"^DD",727.805,727.805,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.805,727.805,7,.1)
In Out Patient Indicator
"^DD",727.805,727.805,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.805,727.805,7,21,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.805,727.805,7,21,2,0)
this extract entry.
"^DD",727.805,727.805,7,23,0)
^^2^2^2960815^^^
"^DD",727.805,727.805,7,23,1,0)
For the Nursing extract this field is set to 3, indicating inpatient 
"^DD",727.805,727.805,7,23,2,0)
status in the LOCATION TYPE file (#40.9).
"^DD",727.805,727.805,7,"DT")
2960815
"^DD",727.805,727.805,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.805,727.805,8,.1)
Day
"^DD",727.805,727.805,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.805,727.805,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.805,727.805,8,3)
Answer must be 8 characters in length.
"^DD",727.805,727.805,8,21,0)
^^2^2^2970918^^^^
"^DD",727.805,727.805,8,21,1,0)
This 8-character string represents the date on which the Nursing
"^DD",727.805,727.805,8,21,2,0)
classification was done.
"^DD",727.805,727.805,8,23,0)
^^9^9^2970923^^^^
"^DD",727.805,727.805,8,23,1,0)
Data source:
"^DD",727.805,727.805,8,23,2,0)
 
"^DD",727.805,727.805,8,23,3,0)
NURS CLASSIFICATION file (#214.6); CLASSIFICATION DATE/TIME field (#.01)
"^DD",727.805,727.805,8,23,4,0)
 
"^DD",727.805,727.805,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.805,727.805,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.805,727.805,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.805,727.805,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.805,727.805,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.805,727.805,8,"DT")
2970924
"^DD",727.805,727.805,9,0)
ACUITY LEVEL^F^^0;10^K:$L(X)>1!($L(X)<1)!'("ABCDEFGHP12345"[X) X
"^DD",727.805,727.805,9,.1)
Acuity Level
"^DD",727.805,727.805,9,3)
Your answer must be 1 character in length.
"^DD",727.805,727.805,9,21,0)
^^1^1^2960815^^^^
"^DD",727.805,727.805,9,21,1,0)
The patient's current Nursing AMIS classification or acuity rating.
"^DD",727.805,727.805,9,23,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,9,23,1,0)
ACUITY LEVEL is derived from the CATEGORY field (1) in the NURS 
"^DD",727.805,727.805,9,23,2,0)
CLASSIFICATION file (#214.6).
"^DD",727.805,727.805,9,"DT")
2960815
"^DD",727.805,727.805,10,0)
ENTERED BY^S^C:COMPUTER;U:USER;^0;11^Q
"^DD",727.805,727.805,10,.1)
Entered By
"^DD",727.805,727.805,10,3)
Enter C if computer generated, or U if user generated.
"^DD",727.805,727.805,10,21,0)
^^2^2^2960815^^
"^DD",727.805,727.805,10,21,1,0)
Enter C if the classification was computer generated, or U if it was 
"^DD",727.805,727.805,10,21,2,0)
user (RN) generated.
"^DD",727.805,727.805,10,23,0)
^^2^2^2960815^^
"^DD",727.805,727.805,10,23,1,0)
ENTERED BY is derived from the ENTERED BY field (3) in the NURS 
"^DD",727.805,727.805,10,23,2,0)
CLASSIFICATION file (#214.6).
"^DD",727.805,727.805,10,"DT")
2960815
"^DD",727.805,727.805,11,0)
CLASSIFIER^P200'^VA(200,^0;12^Q
"^DD",727.805,727.805,11,.1)
Classifier
"^DD",727.805,727.805,11,3)
Enter the name of the person who made the classification.
"^DD",727.805,727.805,11,21,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,11,21,1,0)
Identifies the person making the classification.  Pointer to the 
"^DD",727.805,727.805,11,21,2,0)
NEW PERSON FILE (#200)
"^DD",727.805,727.805,11,23,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,11,23,1,0)
CLASSIFIER is derived from the CLASSIFIER field (4) in the NURS 
"^DD",727.805,727.805,11,23,2,0)
CLASSIFICATION file (#214.6).
"^DD",727.805,727.805,11,"DT")
2960815
"^DD",727.805,727.805,12,0)
NURSE LOCATION^P211.4'^NURSF(211.4,^0;13^Q
"^DD",727.805,727.805,12,.1)
Nurse Location
"^DD",727.805,727.805,12,3)
Enter the ward on which the patient is classified.
"^DD",727.805,727.805,12,21,0)
^^2^2^2990512^^^^
"^DD",727.805,727.805,12,21,1,0)
Ward on which the patient is classified. Points to the NURS LOCATION 
"^DD",727.805,727.805,12,21,2,0)
file (#211.4).
"^DD",727.805,727.805,12,23,0)
^^3^3^2990512^^^^
"^DD",727.805,727.805,12,23,1,0)
NURSE LOCATION is derived from the NURS LOCATION field (6) in the NURS 
"^DD",727.805,727.805,12,23,2,0)
CLASSIFICATION file (#214.6) which is a pointer to the NURS LOCATION 
"^DD",727.805,727.805,12,23,3,0)
file (#211.4).
"^DD",727.805,727.805,12,"DT")
2960815
"^DD",727.805,727.805,13,0)
NURSING BEDSECTION^P213.3'^NURSF(213.3,^0;14^Q
"^DD",727.805,727.805,13,.1)
Nursing Bedsection
"^DD",727.805,727.805,13,3)
Enter the nursing bedsection for which the patient is classified.
"^DD",727.805,727.805,13,21,0)
^^2^2^2960815^^^^
"^DD",727.805,727.805,13,21,1,0)
Nursing bedsection for which the patient is classified. Points to the 
"^DD",727.805,727.805,13,21,2,0)
NURS AMIS WARD file (#213.3).
"^DD",727.805,727.805,13,23,0)
^^3^3^2960815^^^
"^DD",727.805,727.805,13,23,1,0)
NURSING BEDSECTION is derived from the NURSING BED SECTION field (7) in 
"^DD",727.805,727.805,13,23,2,0)
the NURS CLASSIFICATION file (#214.6) which is a pointer to the NURS 
"^DD",727.805,727.805,13,23,3,0)
AMIS WARD file (#213.3).
"^DD",727.805,727.805,13,"DT")
2960815
"^DD",727.805,727.805,14,0)
MOVEMENT FILE #^P405'^DGPM(^0;15^Q
"^DD",727.805,727.805,14,.1)
Movement File Number
"^DD",727.805,727.805,14,3)
Enter the patient movement number associated with this extract record.
"^DD",727.805,727.805,14,21,0)
^^1^1^2960815^^
"^DD",727.805,727.805,14,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.805,727.805,14,23,0)
^^4^4^2960815^^
"^DD",727.805,727.805,14,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.805,727.805,14,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.805,727.805,14,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.805,727.805,14,23,4,0)
(#405).
"^DD",727.805,727.805,14,"DT")
2960815
"^DD",727.805,727.805,15,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;16^Q
"^DD",727.805,727.805,15,.1)
Treating Specialty
"^DD",727.805,727.805,15,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.805,727.805,15,21,0)
^^1^1^2960815^^^
"^DD",727.805,727.805,15,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.805,727.805,15,23,0)
^^6^6^2990512^^^^
"^DD",727.805,727.805,15,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.805,727.805,15,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.805,727.805,15,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.805,727.805,15,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.805,727.805,15,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.805,727.805,15,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.805,727.805,15,"DT")
2960815
"^DD",727.805,727.805,16,0)
ADMISSION DATE^FO^^0;17^K:$L(X)>8!($L(X)<8) X
"^DD",727.805,727.805,16,.1)
Admission Date
"^DD",727.805,727.805,16,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.805,727.805,16,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.805,727.805,16,3)
Answer must be 8 characters in length.
"^DD",727.805,727.805,16,21,0)
^^2^2^2970918^^^^
"^DD",727.805,727.805,16,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.805,727.805,16,21,2,0)
for this patient occurred.
"^DD",727.805,727.805,16,23,0)
^^10^10^2971113^^^^
"^DD",727.805,727.805,16,23,1,0)
Data source:
"^DD",727.805,727.805,16,23,2,0)
 
"^DD",727.805,727.805,16,23,3,0)
NURS CLASSIFICATION file (#214.6); NAME field (#.02)
"^DD",727.805,727.805,16,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.805,727.805,16,23,5,0)
 
"^DD",727.805,727.805,16,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.805,727.805,16,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.805,727.805,16,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.805,727.805,16,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.805,727.805,16,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.805,727.805,16,"DT")
2970924
"^DD",727.805,727.805,17,0)
ADMISSION TIME^FO^^0;18^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.805,727.805,17,.1)
Admission Time
"^DD",727.805,727.805,17,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.805,727.805,17,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.805,727.805,17,3)
Answer must be 6 characters in length.
"^DD",727.805,727.805,17,21,0)
^^2^2^2970918^^^^
"^DD",727.805,727.805,17,21,1,0)
A 6-character numeric string which represents the time of day at
"^DD",727.805,727.805,17,21,2,0)
which the patient admission occurred.
"^DD",727.805,727.805,17,23,0)
^^6^6^2971113^^^^
"^DD",727.805,727.805,17,23,1,0)
Data source:
"^DD",727.805,727.805,17,23,2,0)
 
"^DD",727.805,727.805,17,23,3,0)
NURS CLASSIFICATION file (#214.6); NAME field (#.02)
"^DD",727.805,727.805,17,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.805,727.805,17,23,5,0)
 
"^DD",727.805,727.805,17,23,6,0)
Format is YYYYMMDD; Year 2000 compliant per vendor.
"^DD",727.805,727.805,17,"DT")
2970924
"^DD",727.805,727.805,18,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.805,727.805,18,3)
Answer must be 1-10 characters in length.
"^DD",727.805,727.805,18,21,0)
^^1^1^2990504^
"^DD",727.805,727.805,18,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.805,727.805,18,23,0)
^^2^2^2990504^
"^DD",727.805,727.805,18,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.805,727.805,18,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.805,727.805,18,"DT")
2990504
"^DD",727.805,727.805,19,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.805,727.805,19,3)
Answer must be 4-10 characters in length.
"^DD",727.805,727.805,19,21,0)
^^1^1^2990506^^^
"^DD",727.805,727.805,19,21,1,0)
The DSS Department Code for the ward product.
"^DD",727.805,727.805,19,23,0)
^^2^2^2990506^^
"^DD",727.805,727.805,19,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.805,727.805,19,23,2,0)
Field is set to null.
"^DD",727.805,727.805,19,"DT")
2990506
"^DD",727.806,727.806,0)
FIELD^^58^59
"^DD",727.806,727.806,0,"DDA")
N
"^DD",727.806,727.806,0,"DIK")
ECX806
"^DD",727.806,727.806,0,"DIKOLD")
ECX806
"^DD",727.806,727.806,0,"DT")
2990517
"^DD",727.806,727.806,0,"IX","AC",727.806,2)

"^DD",727.806,727.806,0,"NM","DENTAL EXTRACT")

"^DD",727.806,727.806,0,"VRPK")
DSS EXTRACTS
"^DD",727.806,727.806,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.806,727.806,.01,.1)
Sequence Number
"^DD",727.806,727.806,.01,1,0)
^.1^^0
"^DD",727.806,727.806,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.806,727.806,.01,21,0)
^^1^1^2960909^^^^
"^DD",727.806,727.806,.01,21,1,0)
The record number for this extract entry.
"^DD",727.806,727.806,.01,23,0)
^^1^1^2960909^^^
"^DD",727.806,727.806,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.806,727.806,.01,"DT")
2980812
"^DD",727.806,727.806,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.806,727.806,1,.1)
Year/Month
"^DD",727.806,727.806,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.806,727.806,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.806,727.806,1,3)
Answer must be 6 characters in length.
"^DD",727.806,727.806,1,21,0)
^^2^2^2970918^^^^
"^DD",727.806,727.806,1,21,1,0)
A six character string representing the year and the month
"^DD",727.806,727.806,1,21,2,0)
for which this extract was performed.
"^DD",727.806,727.806,1,23,0)
^^1^1^2970918^^^^
"^DD",727.806,727.806,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.806,727.806,1,"DT")
2970924
"^DD",727.806,727.806,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.806,727.806,2,.1)
Extract Number
"^DD",727.806,727.806,2,1,0)
^.1
"^DD",727.806,727.806,2,1,1,0)
727.806^AC
"^DD",727.806,727.806,2,1,1,1)
S ^ECX(727.806,"AC",$E(X,1,30),DA)=""
"^DD",727.806,727.806,2,1,1,2)
K ^ECX(727.806,"AC",$E(X,1,30),DA)
"^DD",727.806,727.806,2,1,1,3)
DO NOT DELETE.
"^DD",727.806,727.806,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.806,727.806,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.806,727.806,2,1,1,"%D",2,0)
in this file.
"^DD",727.806,727.806,2,1,1,"DT")
2910802
"^DD",727.806,727.806,2,3)
Enter the extract number for this extract.
"^DD",727.806,727.806,2,21,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.806,727.806,2,21,2,0)
extract.
"^DD",727.806,727.806,2,23,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.806,727.806,2,23,2,0)
pick up the header for the mail message.
"^DD",727.806,727.806,2,"DT")
2960909
"^DD",727.806,727.806,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.806,727.806,3,.1)
Facility
"^DD",727.806,727.806,3,3)
Enter the station number where this extract was performed.
"^DD",727.806,727.806,3,21,0)
^^1^1^2990702^^^^
"^DD",727.806,727.806,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.806,727.806,3,23,0)
^^3^3^2990702^^^^
"^DD",727.806,727.806,3,23,1,0)
An indicator of the division where this event happened. It is derived 
"^DD",727.806,727.806,3,23,2,0)
from the STATION.DIVISION field (.3) of the DENTAL TREATMENT (AMIS) file 
"^DD",727.806,727.806,3,23,3,0)
(#221).
"^DD",727.806,727.806,3,"DT")
2961016
"^DD",727.806,727.806,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.806,727.806,4,.1)
Patient No. - DFN
"^DD",727.806,727.806,4,3)
Enter the name of the patient for this extract record.
"^DD",727.806,727.806,4,21,0)
^^1^1^2990504^^^^
"^DD",727.806,727.806,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.806,727.806,4,23,0)
^^2^2^2990504^^^^
"^DD",727.806,727.806,4,23,1,0)
Derived from the PATIENT (POINTER) field (3) in the DENTAL TREATMENT 
"^DD",727.806,727.806,4,23,2,0)
(AMIS) file (#221). This field is a pointer to the PATIENT file (#2).
"^DD",727.806,727.806,4,"DT")
2961016
"^DD",727.806,727.806,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.806,727.806,5,.1)
Social Security Number
"^DD",727.806,727.806,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.806,727.806,5,21,0)
^^4^4^2990504^^^^
"^DD",727.806,727.806,5,21,1,0)
The patient's social security number.
"^DD",727.806,727.806,5,21,2,0)
 
"^DD",727.806,727.806,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.806,727.806,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.806,727.806,5,23,0)
^^6^6^2990504^^^^
"^DD",727.806,727.806,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.806,727.806,5,23,2,0)
(4) in the DENTAL EXTRACT file (#727.806), SSN data is derived from the 
"^DD",727.806,727.806,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.806,727.806,5,23,4,0)
 
"^DD",727.806,727.806,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.806,727.806,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.806,727.806,5,"DT")
2960909
"^DD",727.806,727.806,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.806,727.806,6,.1)
Name
"^DD",727.806,727.806,6,3)
Your answer must be 4 characters in length.
"^DD",727.806,727.806,6,21,0)
^^1^1^2961021^^^^
"^DD",727.806,727.806,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.806,727.806,6,23,0)
^^4^4^2961021^^^^
"^DD",727.806,727.806,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.806,727.806,6,23,2,0)
(4) in the DENTAL EXTRACT file (#727.806), NAME data is derived from the 
"^DD",727.806,727.806,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of 
"^DD",727.806,727.806,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.806,727.806,6,"DT")
2960909
"^DD",727.806,727.806,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.806,727.806,7,.1)
In Out Patient Indicator
"^DD",727.806,727.806,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.806,727.806,7,21,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.806,727.806,7,21,2,0)
this extract entry.
"^DD",727.806,727.806,7,23,0)
^^4^4^2960909^^^
"^DD",727.806,727.806,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.806,727.806,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.806,727.806,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.806,727.806,7,23,4,0)
inpatient status.
"^DD",727.806,727.806,7,"DT")
2960909
"^DD",727.806,727.806,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.806,727.806,8,.1)
Day
"^DD",727.806,727.806,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.806,727.806,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.806,727.806,8,3)
Answer must be 8 characters in length.
"^DD",727.806,727.806,8,21,0)
^^2^2^2970918^^^^
"^DD",727.806,727.806,8,21,1,0)
This 8-character string represents the date on which the Dental
"^DD",727.806,727.806,8,21,2,0)
procedure was performed.
"^DD",727.806,727.806,8,23,0)
^^9^9^2970923^^^^
"^DD",727.806,727.806,8,23,1,0)
Data source:
"^DD",727.806,727.806,8,23,2,0)
 
"^DD",727.806,727.806,8,23,3,0)
DENTAL TREATMENT (AMIS) file (#221); DATE field (#.01)
"^DD",727.806,727.806,8,23,4,0)
 
"^DD",727.806,727.806,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.806,727.806,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.806,727.806,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.806,727.806,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.806,727.806,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.806,727.806,8,"DT")
2970924
"^DD",727.806,727.806,9,0)
PROVIDER^F^^0;10^K:$L(X)>11!($L(X)<1) X
"^DD",727.806,727.806,9,.1)
Provider
"^DD",727.806,727.806,9,3)
Enter provider who saw this patient.
"^DD",727.806,727.806,9,21,0)
^^1^1^2980608^^^^
"^DD",727.806,727.806,9,21,1,0)
Provider of medical care for this patient for this extract.
"^DD",727.806,727.806,9,23,0)
^^4^4^2980608^^^^
"^DD",727.806,727.806,9,23,1,0)
Provider is derived from the DENTAL PROVIDER field (.5) in the DENTAL 
"^DD",727.806,727.806,9,23,2,0)
TREATMENT (AMIS) file. DENTAL PROVIDER is a pointer to the DENTAL 
"^DD",727.806,727.806,9,23,3,0)
PROVIDER file (#220.5). It is preceded by a 1 if it is a pointer to File 
"^DD",727.806,727.806,9,23,4,0)
16 or a 2 if it is a pointer to File 200.
"^DD",727.806,727.806,9,"DT")
2961016
"^DD",727.806,727.806,10,0)
SCREENING/COMPLETE EXAM^S^S:SCREENING;C:COMPLETE;^0;11^Q
"^DD",727.806,727.806,10,.1)
Screening/Complete Exam
"^DD",727.806,727.806,10,3)
Select S for screening or C for complete exam.
"^DD",727.806,727.806,10,21,0)
^^1^1^2960909^^^
"^DD",727.806,727.806,10,21,1,0)
Exam will be S for screening or C for complete.
"^DD",727.806,727.806,10,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,10,23,1,0)
Derived from the SCREENING/COMPLETE EXAM field (6) of the DENTAL 
"^DD",727.806,727.806,10,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,10,"DT")
2960909
"^DD",727.806,727.806,11,0)
ADMIN PROCEDURE^S^1:ADMIN PROCEDURE;^0;12^Q
"^DD",727.806,727.806,11,.1)
Admin Procedure
"^DD",727.806,727.806,11,3)
Enter 1 or A for an administrative procedure.
"^DD",727.806,727.806,11,21,0)
^^3^3^2960909^^^
"^DD",727.806,727.806,11,21,1,0)
An entry should be made in this field when a case, a service or a 
"^DD",727.806,727.806,11,21,2,0)
procedure has been administratively completed or terminated without an 
"^DD",727.806,727.806,11,21,3,0)
actual patient visit (i.e., chart review, telephone call, death, etc.).
"^DD",727.806,727.806,11,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,11,23,1,0)
Derived from the ADMIN PROCEDURE field (7) of the DENTAL TREATMENT 
"^DD",727.806,727.806,11,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,11,"DT")
2960909
"^DD",727.806,727.806,12,0)
X-RAYS EXTRAORAL #^NJ1,0^^0;13^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,12,.1)
Number of Extraoral X-Rays
"^DD",727.806,727.806,12,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,12,21,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,12,21,1,0)
Enter the number of EXTRAORAL radiographs taken on this patient for 
"^DD",727.806,727.806,12,21,2,0)
panoramic, cephalometric or other extraoral procedures.
"^DD",727.806,727.806,12,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,12,23,1,0)
Derived from the X-RAYS EXTRAORAL # field (8) of the DENTAL TREATMENT 
"^DD",727.806,727.806,12,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,12,"DT")
2960910
"^DD",727.806,727.806,13,0)
X-RAYS INTRAORAL #^NJ2,0^^0;14^K:+X'=X!(X>24)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,13,.1)
Number of Intraoral X-Rays
"^DD",727.806,727.806,13,3)
Enter a number between 0 and 24, 0 decimal digits.
"^DD",727.806,727.806,13,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,13,21,1,0)
Enter the number of INTRAORAL radiographs taken for this patient for PA, 
"^DD",727.806,727.806,13,21,2,0)
bitewing, occlusal and other intraoral procedures.
"^DD",727.806,727.806,13,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,13,23,1,0)
Derived from the X-RAYS INTRAORAL # field (10) of the DENTAL TREATMENT 
"^DD",727.806,727.806,13,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,13,"DT")
2960910
"^DD",727.806,727.806,14,0)
PROPHY NATURAL DENTITION^S^1:YES;^0;15^Q
"^DD",727.806,727.806,14,.1)
Prophy Natural Dentition
"^DD",727.806,727.806,14,3)
Enter a 1 or Y for yes.
"^DD",727.806,727.806,14,21,0)
^^3^3^2960909^^^
"^DD",727.806,727.806,14,21,1,0)
In special circumstances, when a patient is of such a difficult nature
"^DD",727.806,727.806,14,21,2,0)
that two or more appointments are needed to complete the prophylaxis,
"^DD",727.806,727.806,14,21,3,0)
credit for each treatment episode may be recorded.
"^DD",727.806,727.806,14,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,14,23,1,0)
Derived from the PROPHY NATURAL DENTITION field (11) of the DENTAL 
"^DD",727.806,727.806,14,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,14,"DT")
2960909
"^DD",727.806,727.806,15,0)
PROPHY DENTURE^S^1:YES;^0;16^Q
"^DD",727.806,727.806,15,.1)
Prophy Denture
"^DD",727.806,727.806,15,3)
Enter a 1 or Y for yes if the patient had one or more complete and/or partial removable prostheses cleaned and polished by any provider.
"^DD",727.806,727.806,15,21,0)
^^3^3^2960909^^^
"^DD",727.806,727.806,15,21,1,0)
If a patient had a prophylaxis of natural dentition and a removable
"^DD",727.806,727.806,15,21,2,0)
prosthesis cleaned on the same visit, an entry can be made for both
"^DD",727.806,727.806,15,21,3,0)
procedures.
"^DD",727.806,727.806,15,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,15,23,1,0)
Derived from the PROPHY DENTURE field (12) of the DENTAL TREATMENT 
"^DD",727.806,727.806,15,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,15,"DT")
2960909
"^DD",727.806,727.806,16,0)
OPERATING ROOM^S^1:YES;^0;17^Q
"^DD",727.806,727.806,16,.1)
Operating Room
"^DD",727.806,727.806,16,3)
Enter a 1 or Y for yes if this patient was treated in the operating room.
"^DD",727.806,727.806,16,21,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,16,21,1,0)
Patient was treated in the operating room. These cases must be credited 
"^DD",727.806,727.806,16,21,2,0)
to a dental staff provider or a dental consultant or attending.
"^DD",727.806,727.806,16,23,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,16,23,1,0)
Derived from the OPERATING ROOM field (38) of the DENTAL TREATMENT 
"^DD",727.806,727.806,16,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,16,"DT")
2960909
"^DD",727.806,727.806,17,0)
NEOPLASM CONFIRMED MALIGNANT #^NJ1,0^^0;18^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,17,.1)
Number of Neoplasm Confirmed Malignant
"^DD",727.806,727.806,17,3)
Enter a number between 0 and 2, 0 decimal digits.
"^DD",727.806,727.806,17,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,17,21,1,0)
The number of confirmed malignant neoplasms initially recognized by
"^DD",727.806,727.806,17,21,2,0)
a member of the Dental Service.
"^DD",727.806,727.806,17,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,17,23,1,0)
Derived from the NEOPLASM CONFIRMED MALIGNANT # field (14) of the DENTAL 
"^DD",727.806,727.806,17,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,17,"DT")
2960910
"^DD",727.806,727.806,18,0)
NEOPLASM REMOVED #^NJ1,0^^0;19^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,18,.1)
Number of Neoplasm Removed
"^DD",727.806,727.806,18,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,18,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,18,21,1,0)
The number of neoplasms removed including excisional biopsies.
"^DD",727.806,727.806,18,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,18,23,1,0)
Derived from the NEOPLASM REMOVED # field (15) of the DENTAL TREATMENT 
"^DD",727.806,727.806,18,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,18,"DT")
2960910
"^DD",727.806,727.806,19,0)
BIOPSY/SMEAR #^NJ1,0^^0;20^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,19,.1)
Number of Biopsies/Smears
"^DD",727.806,727.806,19,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,19,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,19,21,1,0)
The number of incisional biopsies plus the number of cytological smears
"^DD",727.806,727.806,19,21,2,0)
taken.
"^DD",727.806,727.806,19,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,19,23,1,0)
Derived from the BIOPSY/SMEAR # field (16) of the DENTAL TREATMENT 
"^DD",727.806,727.806,19,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,19,"DT")
2960910
"^DD",727.806,727.806,20,0)
FRACTURE #^NJ1,0^^0;21^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,20,.1)
Number of Fractures
"^DD",727.806,727.806,20,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,20,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,20,21,1,0)
The number of maxillofacial fractures (surgical sites or procedures)
"^DD",727.806,727.806,20,21,2,0)
reduced.
"^DD",727.806,727.806,20,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,20,23,1,0)
Derived from the FRACTURE # field (17) of the DENTAL TREATMENT (AMIS) 
"^DD",727.806,727.806,20,23,2,0)
file (#221).
"^DD",727.806,727.806,20,"DT")
2960910
"^DD",727.806,727.806,21,0)
PATIENT CATEGORY^P220.2'^DIC(220.2,^0;22^Q
"^DD",727.806,727.806,21,.1)
Patient Category
"^DD",727.806,727.806,21,3)
Select the appropriate patient category for this sitting.
"^DD",727.806,727.806,21,21,0)
^^1^1^2961021^^^^
"^DD",727.806,727.806,21,21,1,0)
The appropriate patient category for this dental sitting.
"^DD",727.806,727.806,21,23,0)
^^3^3^2961021^^^^
"^DD",727.806,727.806,21,23,1,0)
Derived from the PATIENT CATEGORY field (4.5) of the DENTAL TREATMENT 
"^DD",727.806,727.806,21,23,2,0)
(AMIS) file (#221). This field is a pointer to the DENTAL CLASSIFICATION 
"^DD",727.806,727.806,21,23,3,0)
file (#220.2).
"^DD",727.806,727.806,21,"DT")
2960909
"^DD",727.806,727.806,22,0)
OTHER SIGNIF. SURG. (CTV)^NJ2,0^^0;23^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,22,.1)
Other Signif. Surg. (CTV)
"^DD",727.806,727.806,22,3)
Enter a number between 0 and 99, 0 decimal digits.
"^DD",727.806,727.806,22,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,22,21,1,0)
The weighted value (CTV's) for the surgical procedure performed.
"^DD",727.806,727.806,22,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,22,23,1,0)
Derived from the OTHER SIGNIF. SURG. (CTV) field (19) of the DENTAL 
"^DD",727.806,727.806,22,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,22,"DT")
2960909
"^DD",727.806,727.806,23,0)
SURFACES RESTORED #^NJ2,0^^0;24^K:+X'=X!(X>24)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,23,.1)
Number of Surfaces Restored
"^DD",727.806,727.806,23,3)
Enter a number between 0 and 24, 0 decimal digits.
"^DD",727.806,727.806,23,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,23,21,1,0)
The number of surfaces restored with permanent restorative material.
"^DD",727.806,727.806,23,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,23,23,1,0)
Derived from the SURFACES RESTORED # field (21) of the DENTAL TREATMENT 
"^DD",727.806,727.806,23,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,23,"DT")
2960910
"^DD",727.806,727.806,24,0)
ROOT CANAL THERAPY #^NJ1,0^^0;25^K:+X'=X!(X>8)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,24,.1)
Number of Root Canal Therapy
"^DD",727.806,727.806,24,3)
Enter a number between 0 and 8, 0 decimal digits.
"^DD",727.806,727.806,24,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,24,21,1,0)
The number of root canals permanently filled.
"^DD",727.806,727.806,24,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,24,23,1,0)
Derived from the ROOT CANAL THERAPY # field (22) of the DENTAL TREATMENT 
"^DD",727.806,727.806,24,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,24,"DT")
2960910
"^DD",727.806,727.806,25,0)
PERIDONTAL QUADS (SURGICAL) #^NJ1,0^^0;26^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,25,.1)
Peridontal Quads (Surgical) Number
"^DD",727.806,727.806,25,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,25,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,25,21,1,0)
The number of quadrant equivalents of periodontal surgery.
"^DD",727.806,727.806,25,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,25,23,1,0)
Derived from the PERIODONTAL QUADS (SURGICAL) # field (23) of the DENTAL 
"^DD",727.806,727.806,25,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,25,"DT")
2960909
"^DD",727.806,727.806,26,0)
PERIO QUADS (ROOT PLANE) #^NJ1,0^^0;27^K:+X'=X!(X>4)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,26,.1)
Number of Perio Quads (Root Plane)
"^DD",727.806,727.806,26,3)
Enter a number between 0 and 4, 0 decimal digits.
"^DD",727.806,727.806,26,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,26,21,1,0)
The number of quadrant equivalents of subgingival curettage and/or
"^DD",727.806,727.806,26,21,2,0)
root planing.
"^DD",727.806,727.806,26,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,26,23,1,0)
Derived from the PERIO QUADS (ROOT PLANE) # field (24) of the DENTAL 
"^DD",727.806,727.806,26,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,26,"DT")
2960910
"^DD",727.806,727.806,27,0)
PATIENT ED (CTV)^S^0:NONE;3:INDIVIDUAL;4:GROUP;^0;28^Q
"^DD",727.806,727.806,27,.1)
Patient Ed (CTV)
"^DD",727.806,727.806,27,3)
Enter a 0 or N for none, a 3 or I for individual, or a 4 or G for group patient instruction.
"^DD",727.806,727.806,27,21,0)
^^1^1^2960909^^^^
"^DD",727.806,727.806,27,21,1,0)
The weighted value of preventive dentistry instructions.
"^DD",727.806,727.806,27,23,0)
^^3^3^2960909^^^^
"^DD",727.806,727.806,27,23,1,0)
Derived from the PATIENT ED. (CTV) field (25) of the DENTAL TREATMENT 
"^DD",727.806,727.806,27,23,2,0)
(AMIS) file (#221). Your answer must be 0 for none, 3 for individual or 
"^DD",727.806,727.806,27,23,3,0)
4 for group.
"^DD",727.806,727.806,27,"DT")
2960909
"^DD",727.806,727.806,28,0)
SPOT CHECK EXAM^S^1:STAFF;3:FEE;^0;29^Q
"^DD",727.806,727.806,28,.1)
Spot Check Exam
"^DD",727.806,727.806,28,3)
Enter a 1 or S for staff dentist or a 3 or F for fee dentist.
"^DD",727.806,727.806,28,21,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,28,21,1,0)
Spot check examination was performed on this patient by staff or a fee
"^DD",727.806,727.806,28,21,2,0)
dentist.
"^DD",727.806,727.806,28,23,0)
^^2^2^2960909^^^^
"^DD",727.806,727.806,28,23,1,0)
Derived from the SPOT CHECK EXAM field (6.7) of the DENTAL TREATMENT 
"^DD",727.806,727.806,28,23,2,0)
(AMIS) file (#221). Your answer must be 1 for staff or 3 for fee.
"^DD",727.806,727.806,28,"DT")
2960909
"^DD",727.806,727.806,29,0)
INDIVIDUAL CROWNS #^NJ2,0^^0;30^K:+X'=X!(X>28)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,29,.1)
Number of Individual Crowns
"^DD",727.806,727.806,29,3)
Enter a number between 0 and 28, 0 decimal digits.
"^DD",727.806,727.806,29,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,29,21,1,0)
The number of permanent crowns cemented.
"^DD",727.806,727.806,29,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,29,23,1,0)
Derived from the INDIVIDUAL CROWNS # field (27) of the DENTAL TREATMENT 
"^DD",727.806,727.806,29,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,29,"DT")
2960910
"^DD",727.806,727.806,30,0)
POST & CORES #^NJ2,0^^0;31^K:+X'=X!(X>28)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,30,.1)
Number of Post and Cores
"^DD",727.806,727.806,30,3)
Enter a number between 0 and 28, 0 decimal digits.
"^DD",727.806,727.806,30,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,30,21,1,0)
The number of teeth on which a post/core or overdenture coping was
"^DD",727.806,727.806,30,21,2,0)
cemented.
"^DD",727.806,727.806,30,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,30,23,1,0)
Derived from the POST & CORES # field (28) of the DENTAL TREATMENT 
"^DD",727.806,727.806,30,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,30,"DT")
2960910
"^DD",727.806,727.806,31,0)
FIXED PARTIALS (ABUT) #^NJ2,0^^0;32^K:+X'=X!(X>24)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,31,.1)
Number of Fixed Partials (Abut)
"^DD",727.806,727.806,31,3)
Enter a number between 0 and 24, 0 decimal digits.
"^DD",727.806,727.806,31,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,31,21,1,0)
The number of abut units contained in the fixed prosthesis inserted.
"^DD",727.806,727.806,31,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,31,23,1,0)
Derived from the FIXED PARTIALS (ABUT) # field (29) of the DENTAL 
"^DD",727.806,727.806,31,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,31,"DT")
2960910
"^DD",727.806,727.806,32,0)
FIXED PARTIALS (PONT ONLY) #^NJ2,0^^0;33^K:+X'=X!(X>28)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,32,.1)
Number of Fixed Partials (Pont Only)
"^DD",727.806,727.806,32,3)
Enter a number between 0 and 28, 0 decimal digits.
"^DD",727.806,727.806,32,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,32,21,1,0)
The number of PONTIC UNITS contained in the fixed prosthesis inserted.
"^DD",727.806,727.806,32,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,32,23,1,0)
Derived from the FIXED PARTIALS (PONT ONLY) # field (30) of the DENTAL 
"^DD",727.806,727.806,32,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,32,"DT")
2960910
"^DD",727.806,727.806,33,0)
REMOVABLE PARTIALS #^NJ1,0^^0;34^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,33,.1)
Number of Removable Partials
"^DD",727.806,727.806,33,3)
Enter a number between 0 and 2, 0 decimal digits.
"^DD",727.806,727.806,33,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,33,21,1,0)
The number of R.P.D.s that were delivered to the patient.
"^DD",727.806,727.806,33,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,33,23,1,0)
Derived from the REMOVABLE PARTIALS # field (31) of the DENTAL TREATMENT 
"^DD",727.806,727.806,33,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,33,"DT")
2960910
"^DD",727.806,727.806,34,0)
COMPLETE DENTURES #^NJ1,0^^0;35^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,34,.1)
Number of Complete Dentures
"^DD",727.806,727.806,34,3)
Enter a number between 0 and 2, 0 decimal digits.
"^DD",727.806,727.806,34,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,34,21,1,0)
The number of COMPLETE DENTURE units (each separate prosthesis is one
"^DD",727.806,727.806,34,21,2,0)
unit) delivered to the patient.
"^DD",727.806,727.806,34,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,34,23,1,0)
Derived from the COMPLETE DENTURES # field (32) of the DENTAL TREATMENT 
"^DD",727.806,727.806,34,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,34,"DT")
2960910
"^DD",727.806,727.806,35,0)
PROSTHETIC REPAIR #^NJ1,0^^0;36^K:+X'=X!(X>2)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,35,.1)
Number of Prosthetic Repairs
"^DD",727.806,727.806,35,3)
Enter a number between 0 and 2, 0 decimal digits.
"^DD",727.806,727.806,35,21,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,35,21,1,0)
The number of removable dentures and special appliances that were 
"^DD",727.806,727.806,35,21,2,0)
repaired for this patient.
"^DD",727.806,727.806,35,22)
type a number between 0 and 2.
"^DD",727.806,727.806,35,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,35,23,1,0)
Derived from the PROSTHETIC REPAIR # field (33) of the DENTAL TREATMENT 
"^DD",727.806,727.806,35,23,2,0)
(AMIS) file (#221).
"^DD",727.806,727.806,35,"DT")
2960910
"^DD",727.806,727.806,36,0)
SPLINT AND SPEC. PROCESS (CTV)^NJ2,0^^0;37^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,36,.1)
Splint and Spec. Process (CTV)
"^DD",727.806,727.806,36,3)
Enter a number between 0 and 99, 0 decimal digits.
"^DD",727.806,727.806,36,21,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,36,21,1,0)
Contains the weighted values (CTV) assigned to special appliance 
"^DD",727.806,727.806,36,21,2,0)
delivered to or disposed of for the patient.
"^DD",727.806,727.806,36,23,0)
^^2^2^2960909^^^
"^DD",727.806,727.806,36,23,1,0)
Derived from the SPLINTS & SPEC. PROCS. (CTV) field (34) of the DENTAL 
"^DD",727.806,727.806,36,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,36,"DT")
2960909
"^DD",727.806,727.806,37,0)
EXTRACTIONS #^NJ2,0^^0;38^K:+X'=X!(X>29)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,37,.1)
Number of Extractions
"^DD",727.806,727.806,37,3)
Enter a number between 0 and 29, 0 decimal digits.
"^DD",727.806,727.806,37,21,0)
^^2^2^2960909^^
"^DD",727.806,727.806,37,21,1,0)
The number of non-impacted (erupted) teeth extracted. These are simple 
"^DD",727.806,727.806,37,21,2,0)
extractions where no surgical techniques are involved.
"^DD",727.806,727.806,37,22)
Enter a whole # between 0-29.
"^DD",727.806,727.806,37,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,37,23,1,0)
Derived from the EXTRACTIONS # field (35) of the DENTAL TREATMENT (AMIS) 
"^DD",727.806,727.806,37,23,2,0)
file (#221).
"^DD",727.806,727.806,37,"DT")
2960910
"^DD",727.806,727.806,38,0)
SURGICAL EXTRACTIONS #^NJ1,0^^0;39^K:+X'=X!(X>6)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,38,.1)
Number of Surgical Extractions
"^DD",727.806,727.806,38,3)
Enter a number between 0 and 6 indicating the number of teeth surgically extracted.
"^DD",727.806,727.806,38,21,0)
^^3^3^2960909^^
"^DD",727.806,727.806,38,21,1,0)
This includes any type of impaction or an erupted tooth where an 
"^DD",727.806,727.806,38,21,2,0)
intentional flap is required. Also includes all post-operative care and 
"^DD",727.806,727.806,38,21,3,0)
instructions.
"^DD",727.806,727.806,38,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,38,23,1,0)
Derived from the SURGICAL EXTRACTIONS # field (36) of the DENTAL 
"^DD",727.806,727.806,38,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,38,"DT")
2960910
"^DD",727.806,727.806,39,0)
OTHER SIG TREATMENT (CTV)^NJ2,0^^0;40^K:+X'=X!(X>39)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,39,.1)
Other Significant Treatment (CTV)
"^DD",727.806,727.806,39,3)
Enter a whole number between 0 and 39 indicating the weighted values (CTV) of the procedure performed.
"^DD",727.806,727.806,39,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,39,21,1,0)
Contains weighted values for procedures (CTV).
"^DD",727.806,727.806,39,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,39,23,1,0)
Derived from the OTHER SIGNIFICANT TREAT (CTV) field (37) of the DENTAL 
"^DD",727.806,727.806,39,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,39,"DT")
2960909
"^DD",727.806,727.806,40,0)
DIVISION (STATION DIVISION)^F^^0;41^K:$L(X)>7!($L(X)<1) X
"^DD",727.806,727.806,40,.1)
Division (Station Division)
"^DD",727.806,727.806,40,3)
Answer must be 1-7 characters in length.
"^DD",727.806,727.806,40,21,0)
^^1^1^2960909^^^^
"^DD",727.806,727.806,40,21,1,0)
Contains the appropriate station number for this entry.
"^DD",727.806,727.806,40,23,0)
^^3^3^2960909^^^^
"^DD",727.806,727.806,40,23,1,0)
Derived from the STATION.DIVISION field (.3) of the DENTAL TREATMENT 
"^DD",727.806,727.806,40,23,2,0)
(AMIS) file (#221). This field matches a STATION.DIVISION field (.01) 
"^DD",727.806,727.806,40,23,3,0)
entry in the DENTAL SITE PARAMETERS file (#225).
"^DD",727.806,727.806,40,"DT")
2990517
"^DD",727.806,727.806,41,0)
COMPLETIONS/TERMINATIONS^S^2:COMPLETION;3:TERMINATION;^0;42^Q
"^DD",727.806,727.806,41,.1)
Completions/Terminations
"^DD",727.806,727.806,41,3)
Enter 2 or C for a completion, or 3 or T for a termination.
"^DD",727.806,727.806,41,21,0)
^^1^1^2960909^^
"^DD",727.806,727.806,41,21,1,0)
Contains a code indicating completion or termination of a case.
"^DD",727.806,727.806,41,23,0)
^^2^2^2960909^^
"^DD",727.806,727.806,41,23,1,0)
Derived from the COMPLETIONS/TERMINATIONS field (7.1) of the DENTAL 
"^DD",727.806,727.806,41,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,41,"DT")
2960909
"^DD",727.806,727.806,42,0)
INTERDISCIPLINARY CONSULT^S^1:INTERDISCIPLINARY CONSULT;^0;43^Q
"^DD",727.806,727.806,42,.1)
Interdisciplinary Consult
"^DD",727.806,727.806,42,3)
Enter 1 or I for Interdisciplinary consult.
"^DD",727.806,727.806,42,21,0)
^^1^1^2960910^^^^
"^DD",727.806,727.806,42,21,1,0)
Contains all consults instituted via forms 513 and 10-10m.
"^DD",727.806,727.806,42,23,0)
^^2^2^2960910^^^^
"^DD",727.806,727.806,42,23,1,0)
Derived from the INTERDISCIPLINARY CONSULT field (6.2) of the DENTAL 
"^DD",727.806,727.806,42,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,42,"DT")
2960910
"^DD",727.806,727.806,43,0)
EVALUATIONS^S^1:Evaluation;^0;44^Q
"^DD",727.806,727.806,43,.1)
Evaluations
"^DD",727.806,727.806,43,3)
Enter a 1 or an E for an evaluation.
"^DD",727.806,727.806,43,21,0)
^^1^1^2960910^^^
"^DD",727.806,727.806,43,21,1,0)
Describes the professional evaluations not to exceed one per visit.
"^DD",727.806,727.806,43,23,0)
^^2^2^2960910^^^
"^DD",727.806,727.806,43,23,1,0)
Derived from the EVALUATION field (6.4) of the DENTAL TREATMENT (AMIS) 
"^DD",727.806,727.806,43,23,2,0)
file (#221).
"^DD",727.806,727.806,43,"DT")
2960910
"^DD",727.806,727.806,44,0)
PRE AUTHORIZATION/2ND OPINION^S^2:PRE-AUTH/2ND OPINION;^0;45^Q
"^DD",727.806,727.806,44,.1)
Pre-authorization/2nd Opinion
"^DD",727.806,727.806,44,3)
Enter a 2 for a pre-authorization/second opinion exam.
"^DD",727.806,727.806,44,21,0)
^^4^4^2960910^^
"^DD",727.806,727.806,44,21,1,0)
A pre-authorization exam is performed on a fee basis patient in order
"^DD",727.806,727.806,44,21,2,0)
to determine treatment needs prior to authorization of the patient to
"^DD",727.806,727.806,44,21,3,0)
a fee-for-service provider.  A second opinion exam is performed when
"^DD",727.806,727.806,44,21,4,0)
the original estimate on a fee basis dental case exceeds $500.00.
"^DD",727.806,727.806,44,23,0)
^^2^2^2960910^^
"^DD",727.806,727.806,44,23,1,0)
Derived from the PRE AUTH/2ND OPINION EXAM field (6.6) of the DENTAL 
"^DD",727.806,727.806,44,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,44,"DT")
2960910
"^DD",727.806,727.806,45,0)
SPOT CHECK DISCREPANCY^NJ1,0^^0;46^K:+X'=X!(X>3)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.806,727.806,45,.1)
Spot Check Discrepancy
"^DD",727.806,727.806,45,3)
Enter a number between 0 and 3, 0 decimal digits.
"^DD",727.806,727.806,45,21,0)
^^3^3^2960910^^^
"^DD",727.806,727.806,45,21,1,0)
Indicates the category of discrepancy. 1 is a minor discrepancy only. 
"^DD",727.806,727.806,45,21,2,0)
2 is a major discrepancy, quality only. 3 is a major discrepancy, 
"^DD",727.806,727.806,45,21,3,0)
misrepresentation only.
"^DD",727.806,727.806,45,23,0)
^^2^2^2960910^^^
"^DD",727.806,727.806,45,23,1,0)
Derived from the SPOT CHECK DISCREPANCY # field (6.8) of the DENTAL 
"^DD",727.806,727.806,45,23,2,0)
TREATMENT (AMIS) file (#221).
"^DD",727.806,727.806,45,"DT")
2960910
"^DD",727.806,727.806,46,0)
MOVEMENT FILE #^P405'^DGPM(^0;47^Q
"^DD",727.806,727.806,46,.1)
Movement File Number
"^DD",727.806,727.806,46,3)
Enter the patient movement number associated with this extract record.
"^DD",727.806,727.806,46,21,0)
^^1^1^2960910^^
"^DD",727.806,727.806,46,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.806,727.806,46,23,0)
^^4^4^2960910^^
"^DD",727.806,727.806,46,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.806,727.806,46,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.806,727.806,46,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.806,727.806,46,23,4,0)
(#405).
"^DD",727.806,727.806,46,"DT")
2960910
"^DD",727.806,727.806,47,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;48^Q
"^DD",727.806,727.806,47,.1)
Treating Specialty
"^DD",727.806,727.806,47,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.806,727.806,47,21,0)
^^1^1^2960910^^^^
"^DD",727.806,727.806,47,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.806,727.806,47,23,0)
^^6^6^2990512^^^^
"^DD",727.806,727.806,47,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.806,727.806,47,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.806,727.806,47,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.806,727.806,47,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.806,727.806,47,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.806,727.806,47,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.806,727.806,47,"DT")
2960910
"^DD",727.806,727.806,48,0)
PRIMARY CARE TEAM^F^^0;49^K:$L(X)>4!($L(X)<1) X
"^DD",727.806,727.806,48,.1)
Primary Care Team
"^DD",727.806,727.806,48,3)
Enter primary care team assigned to this patient.
"^DD",727.806,727.806,48,21,0)
^^1^1^2961031^^^^
"^DD",727.806,727.806,48,21,1,0)
The primary care team assigned to this patient.
"^DD",727.806,727.806,48,23,0)
^^6^6^2961031^^
"^DD",727.806,727.806,48,23,1,0)
Using the DATE field (.01) from the DENTAL TREATMENT (AMIS) file (#221) 
"^DD",727.806,727.806,48,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.806,727.806,48,23,3,0)
in the DENTAL EXTRACT file (#727.806), a call is made to the Scheduling 
"^DD",727.806,727.806,48,23,4,0)
API, OUTPTTM^SDUTL3. The API returns the team's internal entry number 
"^DD",727.806,727.806,48,23,5,0)
and name from the TEAM file (#404.51). Only the pointer (IEN) to File 
"^DD",727.806,727.806,48,23,6,0)
404.51 is transmitted.
"^DD",727.806,727.806,48,"DT")
2961031
"^DD",727.806,727.806,49,0)
PRIMARY CARE PROVIDER^F^^0;50^K:$L(X)>11!($L(X)<1) X
"^DD",727.806,727.806,49,.1)
Primary Care Provider
"^DD",727.806,727.806,49,3)
Enter primary care provider assigned to this patient.
"^DD",727.806,727.806,49,21,0)
^^1^1^2980819^^^^
"^DD",727.806,727.806,49,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.806,727.806,49,23,0)
^^8^8^2980819^^^^
"^DD",727.806,727.806,49,23,1,0)
Using the DATE field (.01) from the DENTAL TREATMENT (AMIS) file (#221) 
"^DD",727.806,727.806,49,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.806,727.806,49,23,3,0)
in the DENTAL EXTRACT file (#727.806), a call is made to the Scheduling 
"^DD",727.806,727.806,49,23,4,0)
API, OUTPTPR^SDUTL3. The API returns the provider's internal entry 
"^DD",727.806,727.806,49,23,5,0)
number and name from the NEW PERSON file (#200). 
"^DD",727.806,727.806,49,23,6,0)
 
"^DD",727.806,727.806,49,23,7,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.806,727.806,49,23,8,0)
is "200".
"^DD",727.806,727.806,49,"DT")
2961016
"^DD",727.806,727.806,50,0)
TIME^FO^^0;51^K:$L(X)>6!($L(X)<6) X
"^DD",727.806,727.806,50,.1)
Time
"^DD",727.806,727.806,50,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.806,727.806,50,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.806,727.806,50,3)
Answer must be 6 characters in length.
"^DD",727.806,727.806,50,21,0)
^^2^2^2970918^^^^
"^DD",727.806,727.806,50,21,1,0)
A 6-character numeric string which represents the Dental 
"^DD",727.806,727.806,50,21,2,0)
procedure time.
"^DD",727.806,727.806,50,23,0)
^^6^6^2970918^^^^
"^DD",727.806,727.806,50,23,1,0)
Data source:
"^DD",727.806,727.806,50,23,2,0)
 
"^DD",727.806,727.806,50,23,3,0)
DENTAL TREATMENT (AMIS) file (#221); DATE field (#.01)
"^DD",727.806,727.806,50,23,4,0)
 
"^DD",727.806,727.806,50,23,5,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.806,727.806,50,23,6,0)
cannot be determined, then "000300" is used as default.
"^DD",727.806,727.806,50,"DT")
2970924
"^DD",727.806,727.806,51,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.806,727.806,51,3)
Answer must be 1-10 characters in length.
"^DD",727.806,727.806,51,21,0)
^^1^1^2990504^
"^DD",727.806,727.806,51,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.806,727.806,51,23,0)
^^2^2^2990504^
"^DD",727.806,727.806,51,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.806,727.806,51,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.806,727.806,51,"DT")
2990504
"^DD",727.806,727.806,52,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.806,727.806,52,3)
Answer must be 4-10 characters in length.
"^DD",727.806,727.806,52,21,0)
^^1^1^2990506^
"^DD",727.806,727.806,52,21,1,0)
The DSS Department Code for the Dental product.
"^DD",727.806,727.806,52,23,0)
^^2^2^2990506^
"^DD",727.806,727.806,52,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.806,727.806,52,23,2,0)
Field is set to null.
"^DD",727.806,727.806,52,"DT")
2990506
"^DD",727.806,727.806,53,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.806,727.806,53,3)
Answer must be 1-8 characters in length.
"^DD",727.806,727.806,53,21,0)
^^1^1^2990506^
"^DD",727.806,727.806,53,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.806,727.806,53,23,0)
^^4^4^2990506^
"^DD",727.806,727.806,53,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.806,727.806,53,23,2,0)
field will hold the Provider NPI.
"^DD",727.806,727.806,53,23,3,0)
   
"^DD",727.806,727.806,53,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.806,727.806,53,"DT")
2990506
"^DD",727.806,727.806,54,0)
PC PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.806,727.806,54,3)
Answer must be 1-8 characters in length.
"^DD",727.806,727.806,54,21,0)
^^1^1^2990506^^^
"^DD",727.806,727.806,54,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.806,727.806,54,23,0)
^^4^4^2990506^^
"^DD",727.806,727.806,54,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.806,727.806,54,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.806,727.806,54,23,3,0)
   
"^DD",727.806,727.806,54,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.806,727.806,54,"DT")
2990506
"^DD",727.806,727.806,55,0)
PC PROVIDER PERSON CLASS^F^^1;5^K:$L(X)>7!($L(X)<7) X
"^DD",727.806,727.806,55,3)
Answer must be 7 characters in length.
"^DD",727.806,727.806,55,21,0)
^^2^2^2981026^
"^DD",727.806,727.806,55,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.806,727.806,55,21,2,0)
associated with this record.
"^DD",727.806,727.806,55,23,0)
^^6^6^2981026^
"^DD",727.806,727.806,55,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.806,727.806,55,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.806,727.806,55,23,3,0)
extract record.
"^DD",727.806,727.806,55,23,4,0)
  
"^DD",727.806,727.806,55,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.806,727.806,55,23,6,0)
7 characters in length.
"^DD",727.806,727.806,55,"DT")
2981026
"^DD",727.806,727.806,56,0)
ASSOCIATE PC PROVIDER^F^^1;6^K:$L(X)>11!($L(X)<2) X
"^DD",727.806,727.806,56,3)
Answer must be 2-11 characters in length.
"^DD",727.806,727.806,56,21,0)
^^4^4^2990504^
"^DD",727.806,727.806,56,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.806,727.806,56,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.806,727.806,56,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.806,727.806,56,21,4,0)
character 2.
"^DD",727.806,727.806,56,23,0)
^^2^2^2990504^
"^DD",727.806,727.806,56,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.806,727.806,56,23,2,0)
the PCMM application.
"^DD",727.806,727.806,56,"DT")
2990504
"^DD",727.806,727.806,57,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;7^K:$L(X)>7!($L(X)<7) X
"^DD",727.806,727.806,57,3)
Answer must be 7 characters in length.
"^DD",727.806,727.806,57,21,0)
^^4^4^2990505^^
"^DD",727.806,727.806,57,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.806,727.806,57,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.806,727.806,57,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.806,727.806,57,21,4,0)
exactly 7 characters in length. 
"^DD",727.806,727.806,57,23,0)
^^3^3^2990505^^
"^DD",727.806,727.806,57,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.806,727.806,57,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.806,727.806,57,23,3,0)
PERS is the IEN from file #200.
"^DD",727.806,727.806,57,"DT")
2990504
"^DD",727.806,727.806,58,0)
ASSOCIATE PC PROVIDER NPI^F^^1;8^K:$L(X)>8!($L(X)<1) X
"^DD",727.806,727.806,58,3)
Answer must be 1-8 characters in length.
"^DD",727.806,727.806,58,21,0)
^^1^1^2990507^
"^DD",727.806,727.806,58,21,1,0)
The Associate Primary Care PRovider's National Provider Identifier.
"^DD",727.806,727.806,58,23,0)
^^2^2^2990507^
"^DD",727.806,727.806,58,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.806,727.806,58,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.806,727.806,58,"DT")
2990507
"^DD",727.808,727.808,0)
FIELD^^24^26
"^DD",727.808,727.808,0,"DIK")
ECX808
"^DD",727.808,727.808,0,"DIKOLD")
ECX808
"^DD",727.808,727.808,0,"DT")
2990504
"^DD",727.808,727.808,0,"IX","AC",727.808,2)

"^DD",727.808,727.808,0,"NM","PHYSICAL MOVEMENT EXTRACT")

"^DD",727.808,727.808,0,"VRPK")
DSS EXTRACTS
"^DD",727.808,727.808,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.808,727.808,.01,.1)
Sequence Number
"^DD",727.808,727.808,.01,1,0)
^.1^^0
"^DD",727.808,727.808,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.808,727.808,.01,21,0)
^^1^1^2960910^^^^
"^DD",727.808,727.808,.01,21,1,0)
The record number for this extract entry.
"^DD",727.808,727.808,.01,23,0)
^^1^1^2960910^^^^
"^DD",727.808,727.808,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.808,727.808,.01,"DT")
2980812
"^DD",727.808,727.808,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.808,727.808,1,.1)
Year/Month
"^DD",727.808,727.808,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.808,727.808,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.808,727.808,1,3)
Answer must be 6 characters in length.
"^DD",727.808,727.808,1,21,0)
^^2^2^2970922^^^^
"^DD",727.808,727.808,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.808,727.808,1,21,2,0)
for which this extract was performed.
"^DD",727.808,727.808,1,23,0)
^^1^1^2970922^^^^
"^DD",727.808,727.808,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.808,727.808,1,"DT")
2970924
"^DD",727.808,727.808,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.808,727.808,2,.1)
Extract Number
"^DD",727.808,727.808,2,1,0)
^.1
"^DD",727.808,727.808,2,1,1,0)
727.808^AC
"^DD",727.808,727.808,2,1,1,1)
S ^ECX(727.808,"AC",$E(X,1,30),DA)=""
"^DD",727.808,727.808,2,1,1,2)
K ^ECX(727.808,"AC",$E(X,1,30),DA)
"^DD",727.808,727.808,2,1,1,3)
DO NOT DELETE.
"^DD",727.808,727.808,2,1,1,"%D",0)
^^2^2^2961009^^
"^DD",727.808,727.808,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.808,727.808,2,1,1,"%D",2,0)
in this file.
"^DD",727.808,727.808,2,1,1,"DT")
2910802
"^DD",727.808,727.808,2,3)
Enter the extract number for this extract.
"^DD",727.808,727.808,2,21,0)
^^2^2^2960910^^^^
"^DD",727.808,727.808,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.808,727.808,2,21,2,0)
extract.
"^DD",727.808,727.808,2,23,0)
^^2^2^2960910^^^^
"^DD",727.808,727.808,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.808,727.808,2,23,2,0)
pick up the header for the mail message.
"^DD",727.808,727.808,2,"DT")
2960910
"^DD",727.808,727.808,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.808,727.808,3,.1)
Facility
"^DD",727.808,727.808,3,3)
Enter the station number where this extract was performed.
"^DD",727.808,727.808,3,21,0)
^^1^1^2961014^^^^
"^DD",727.808,727.808,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.808,727.808,3,23,0)
^^3^3^2961014^^^^
"^DD",727.808,727.808,3,23,1,0)
An indicator of the division where this event happened.  It is derived
"^DD",727.808,727.808,3,23,2,0)
from the DIVISION field (.015) of the WARD LOCATION file (#42) which
"^DD",727.808,727.808,3,23,3,0)
points to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.808,727.808,3,"DT")
2961014
"^DD",727.808,727.808,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.808,727.808,4,.1)
Patient No. - DFN
"^DD",727.808,727.808,4,3)
Enter the name of the patient for this extract record.
"^DD",727.808,727.808,4,21,0)
^^1^1^2990504^^^^
"^DD",727.808,727.808,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.808,727.808,4,23,0)
^^4^4^2990504^^^
"^DD",727.808,727.808,4,23,1,0)
Pointer to the PATIENT file (#2). This data represents the patient DFN. 
"^DD",727.808,727.808,4,23,2,0)
Using the "ATT2" or "ATT3" cross reference on the PATIENT MOVEMENT file 
"^DD",727.808,727.808,4,23,3,0)
(#405), the PATIENT NO. - DFN data is derived from the PATIENT field
"^DD",727.808,727.808,4,23,4,0)
(.03).
"^DD",727.808,727.808,4,"DT")
2961014
"^DD",727.808,727.808,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.808,727.808,5,.1)
Social Security Number
"^DD",727.808,727.808,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.808,727.808,5,21,0)
^^4^4^2990504^^^^
"^DD",727.808,727.808,5,21,1,0)
The patient's social security number.
"^DD",727.808,727.808,5,21,2,0)
 
"^DD",727.808,727.808,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.808,727.808,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.808,727.808,5,23,0)
^^6^6^2990504^^^
"^DD",727.808,727.808,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.808,727.808,5,23,2,0)
in the PHYSICAL MOVEMENT EXTRACT file (#727.808), SSN data is derived from
"^DD",727.808,727.808,5,23,3,0)
the SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.808,727.808,5,23,4,0)
 
"^DD",727.808,727.808,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.808,727.808,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.808,727.808,5,"DT")
2960911
"^DD",727.808,727.808,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.808,727.808,6,.1)
Name
"^DD",727.808,727.808,6,3)
Your answer must be 4 characters in length.
"^DD",727.808,727.808,6,21,0)
^^1^1^2961021^^^^
"^DD",727.808,727.808,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.808,727.808,6,23,0)
^^5^5^2961021^^
"^DD",727.808,727.808,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.808,727.808,6,23,2,0)
in the PHYSICAL MOVEMENT EXTRACT file (#727.808), NAME data is derived
"^DD",727.808,727.808,6,23,3,0)
from the NAME field (.01) in the PATIENT file (#2). The first four
"^DD",727.808,727.808,6,23,4,0)
characters of the first "," piece are used, padded with trailing spaces
"^DD",727.808,727.808,6,23,5,0)
if necessary.
"^DD",727.808,727.808,6,"DT")
2960911
"^DD",727.808,727.808,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.808,727.808,7,.1)
In Out Patient Indicator
"^DD",727.808,727.808,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.808,727.808,7,21,0)
^^2^2^2960911^^^^
"^DD",727.808,727.808,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.808,727.808,7,21,2,0)
this extract entry.
"^DD",727.808,727.808,7,23,0)
^^2^2^2961014^^^^
"^DD",727.808,727.808,7,23,1,0)
For the Physical Movement extract this field is set to 3, indicating 
"^DD",727.808,727.808,7,23,2,0)
inpatient status in the LOCATION TYPE file (#40.9).
"^DD",727.808,727.808,7,"DT")
2960911
"^DD",727.808,727.808,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.808,727.808,8,.1)
Day
"^DD",727.808,727.808,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,8,3)
Answer must be 8 characters in length.
"^DD",727.808,727.808,8,21,0)
^^2^2^2970922^^^^
"^DD",727.808,727.808,8,21,1,0)
This 8-character numeric string represents the date of the physical
"^DD",727.808,727.808,8,21,2,0)
movement.
"^DD",727.808,727.808,8,23,0)
^^9^9^2970923^^^^
"^DD",727.808,727.808,8,23,1,0)
Data source:
"^DD",727.808,727.808,8,23,2,0)
 
"^DD",727.808,727.808,8,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,8,23,4,0)
 
"^DD",727.808,727.808,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.808,727.808,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.808,727.808,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.808,727.808,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.808,727.808,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.808,727.808,8,"DT")
2970924
"^DD",727.808,727.808,9,0)
PRODUCT^F^^0;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.808,727.808,9,.1)
Product
"^DD",727.808,727.808,9,3)
Your answer must be 1 character in length.
"^DD",727.808,727.808,9,21,0)
^^2^2^2960911^^
"^DD",727.808,727.808,9,21,1,0)
The product or feeder key for this extract as defined by the DSS 
"^DD",727.808,727.808,9,21,2,0)
Program Office.
"^DD",727.808,727.808,9,23,0)
^^1^1^2961014^^^^
"^DD",727.808,727.808,9,23,1,0)
For the Physical Movement extract, the PRODUCT field is null.
"^DD",727.808,727.808,9,"DT")
2960911
"^DD",727.808,727.808,10,0)
ADMISSION DATE^FO^^0;11^K:$L(X)>8!($L(X)<8) X
"^DD",727.808,727.808,10,.1)
Admission Date
"^DD",727.808,727.808,10,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,10,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,10,3)
Answer must be 8 characters in length.
"^DD",727.808,727.808,10,21,0)
^^2^2^2970923^^^^
"^DD",727.808,727.808,10,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.808,727.808,10,21,2,0)
associated with this physical movement occurred.
"^DD",727.808,727.808,10,23,0)
^^10^10^2971113^^^^
"^DD",727.808,727.808,10,23,1,0)
Data source:
"^DD",727.808,727.808,10,23,2,0)
 
"^DD",727.808,727.808,10,23,3,0)
PATIENT MOVEMENT file (#405); ADMISSION/CHECK-IN MOVEMENT field (#.14)
"^DD",727.808,727.808,10,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,10,23,5,0)
 
"^DD",727.808,727.808,10,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.808,727.808,10,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.808,727.808,10,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.808,727.808,10,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.808,727.808,10,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.808,727.808,10,"DT")
2970924
"^DD",727.808,727.808,11,0)
DISCHARGE DATE^FO^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.808,727.808,11,.1)
Discharge Date
"^DD",727.808,727.808,11,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,11,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.808,727.808,11,3)
Answer must be 8 characters in length.
"^DD",727.808,727.808,11,21,0)
^^2^2^2990507^^^^
"^DD",727.808,727.808,11,21,1,0)
This 8-character string represents the date on which the Discharge
"^DD",727.808,727.808,11,21,2,0)
occurred for discharge-type movements.
"^DD",727.808,727.808,11,23,0)
^^8^8^2990507^^^^
"^DD",727.808,727.808,11,23,1,0)
Data source:
"^DD",727.808,727.808,11,23,2,0)
 
"^DD",727.808,727.808,11,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,11,23,4,0)
 
"^DD",727.808,727.808,11,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.808,727.808,11,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.808,727.808,11,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.808,727.808,11,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.808,727.808,11,"DT")
2970924
"^DD",727.808,727.808,12,0)
MOVEMENT FILE #^P405'^DGPM(^0;13^Q
"^DD",727.808,727.808,12,.1)
Movement File Number
"^DD",727.808,727.808,12,3)
Enter the patient movement number associated with this extract record.
"^DD",727.808,727.808,12,21,0)
^^1^1^2960911^^
"^DD",727.808,727.808,12,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.808,727.808,12,23,0)
^^3^3^2961014^^^
"^DD",727.808,727.808,12,23,1,0)
The ^DGPM("ATT2" or "ATT3",DATE,D0) cross reference is used to 
"^DD",727.808,727.808,12,23,2,0)
obtain the current movement number associated with this patient. 
"^DD",727.808,727.808,12,23,3,0)
It is a pointer to the PATIENT MOVEMENT file (#405).
"^DD",727.808,727.808,12,"DT")
2960911
"^DD",727.808,727.808,13,0)
TYPE^F^^0;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.808,727.808,13,.1)
Type
"^DD",727.808,727.808,13,3)
Your answer must be 1 character in length.
"^DD",727.808,727.808,13,21,0)
^^2^2^2960911^^^^
"^DD",727.808,727.808,13,21,1,0)
The type of movement for this patient, either transfer (2) or 
"^DD",727.808,727.808,13,21,2,0)
discharge (3).
"^DD",727.808,727.808,13,23,0)
^^2^2^2961014^^^^
"^DD",727.808,727.808,13,23,1,0)
Using the "ATT"_TYPE cross reference where TYPE=2 (transfer) or 
"^DD",727.808,727.808,13,23,2,0)
TYPE=3 (discharge).
"^DD",727.808,727.808,13,"DT")
2960911
"^DD",727.808,727.808,14,0)
LOSING WARD^P44'^SC(^0;15^Q
"^DD",727.808,727.808,14,.1)
Losing Ward
"^DD",727.808,727.808,14,3)
Enter the ward from which this patient was transferred.
"^DD",727.808,727.808,14,21,0)
^^1^1^2960911^^^^
"^DD",727.808,727.808,14,21,1,0)
The ward from which this patient was transferred.
"^DD",727.808,727.808,14,23,0)
^^4^4^2961014^^^^
"^DD",727.808,727.808,14,23,1,0)
LOSING WARD is derived from HOSPITAL LOCATION FILE POINTER field (44) of 
"^DD",727.808,727.808,14,23,2,0)
the WARD LOCATION file (#42) as pointed to by the WARD LOCATION field 
"^DD",727.808,727.808,14,23,3,0)
(.06) of the PATIENT MOVEMENT file (#405). LOSING WARD is a pointer to 
"^DD",727.808,727.808,14,23,4,0)
the HOSPITAL LOCATION file (#44).
"^DD",727.808,727.808,14,"DT")
2960911
"^DD",727.808,727.808,15,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;16^Q
"^DD",727.808,727.808,15,.1)
Treating Specialty
"^DD",727.808,727.808,15,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.808,727.808,15,21,0)
^^1^1^2960911^^^^
"^DD",727.808,727.808,15,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.808,727.808,15,23,0)
^^1^1^2961015^^^^
"^DD",727.808,727.808,15,23,1,0)
For the Physical Movement extract, the TREATING SPECIALTY field is null.
"^DD",727.808,727.808,15,"DT")
2960911
"^DD",727.808,727.808,16,0)
LOSING WARD LOS^NJ4,0^^0;17^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.808,727.808,16,.1)
Losing Ward LOS
"^DD",727.808,727.808,16,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",727.808,727.808,16,21,0)
^^1^1^2980120^^^^
"^DD",727.808,727.808,16,21,1,0)
Length of stay on losing ward.
"^DD",727.808,727.808,16,23,0)
^^8^8^2980120^^^^
"^DD",727.808,727.808,16,23,1,0)
Calculated as current movement date minus the date (DATE/TIME 
"^DD",727.808,727.808,16,23,2,0)
field (#.01) of the PATIENT MOVEMENT file (#405)) of the previous
"^DD",727.808,727.808,16,23,3,0)
physical movement.
"^DD",727.808,727.808,16,23,4,0)
OR 
"^DD",727.808,727.808,16,23,5,0)
Calculated as current movement date minus the date (DATE/TIME
"^DD",727.808,727.808,16,23,6,0)
field (#.01) of the PATIENT MOVEMENT file (#405) record pointed
"^DD",727.808,727.808,16,23,7,0)
to by the ADMISSION/CHECK-IN MOVEMENT field (#.14) of the 
"^DD",727.808,727.808,16,23,8,0)
current movement record.
"^DD",727.808,727.808,16,"DT")
2980120
"^DD",727.808,727.808,17,0)
PLACEHOLDER1^F^^0;18^K:$L(X)>11!($L(X)<1) X
"^DD",727.808,727.808,17,.1)
Placeholder1
"^DD",727.808,727.808,17,3)

"^DD",727.808,727.808,17,21,0)
^^1^1^2980120^^^^
"^DD",727.808,727.808,17,21,1,0)
A placeholder.
"^DD",727.808,727.808,17,23,0)
^^1^1^2980120^^^^
"^DD",727.808,727.808,17,23,1,0)
For future development; always set to null.
"^DD",727.808,727.808,17,"DT")
2980120
"^DD",727.808,727.808,18,0)
MOVEMENT TYPE^P405.2'^DG(405.2,^0;19^Q
"^DD",727.808,727.808,18,.1)
Movement Type
"^DD",727.808,727.808,18,3)
Enter the patient movement type associated with this extract record.
"^DD",727.808,727.808,18,21,0)
^^1^1^2970723^^^^
"^DD",727.808,727.808,18,21,1,0)
THE MAS movement type for this movement.
"^DD",727.808,727.808,18,23,0)
^^3^3^2970723^^^^
"^DD",727.808,727.808,18,23,1,0)
MOVEMENT TYPE is derived from the MAS MOVEMENT TYPE field (.18) of 
"^DD",727.808,727.808,18,23,2,0)
the PATIENT MOVEMENT file (#405). It is a pointer to the MAS MOVEMENT 
"^DD",727.808,727.808,18,23,3,0)
TYPE file (#405.2).
"^DD",727.808,727.808,18,"DT")
2960911
"^DD",727.808,727.808,19,0)
MOV TIME^FO^^0;20^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.808,727.808,19,.1)
MOV Time
"^DD",727.808,727.808,19,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.808,727.808,19,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.808,727.808,19,3)
Answer must be 6 characters in length.
"^DD",727.808,727.808,19,21,0)
^^2^2^2970922^^^^
"^DD",727.808,727.808,19,21,1,0)
This 6-character numeric string represents the time of day at
"^DD",727.808,727.808,19,21,2,0)
which the physical movement occurred.
"^DD",727.808,727.808,19,23,0)
^^6^6^2970923^^^^
"^DD",727.808,727.808,19,23,1,0)
Data source:
"^DD",727.808,727.808,19,23,2,0)
 
"^DD",727.808,727.808,19,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,19,23,4,0)
 
"^DD",727.808,727.808,19,23,5,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.808,727.808,19,23,6,0)
cannot be determined, then "000300" is used as default.
"^DD",727.808,727.808,19,"DT")
2970924
"^DD",727.808,727.808,20,0)
GAINING WARD^P44'^SC(^0;21^Q
"^DD",727.808,727.808,20,.1)
Gaining Ward
"^DD",727.808,727.808,20,3)
Enter the ward to which this patient was moved.
"^DD",727.808,727.808,20,21,0)
^^2^2^2961014^^^
"^DD",727.808,727.808,20,21,1,0)
The ward to which this patient was moved. This is null for discharge 
"^DD",727.808,727.808,20,21,2,0)
type movements.
"^DD",727.808,727.808,20,23,0)
^^4^4^2961014^^^
"^DD",727.808,727.808,20,23,1,0)
GAINING WARD is derived from the HOSPITAL LOCATION FILE POINTER field 
"^DD",727.808,727.808,20,23,2,0)
(44) of the WARD LOCATION file (#42) as pointed to by the WARD LOCATION 
"^DD",727.808,727.808,20,23,3,0)
field (.06) of the PATIENT MOVEMENT file (#405). GAINING WARD is a 
"^DD",727.808,727.808,20,23,4,0)
pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.808,727.808,20,"DT")
2960911
"^DD",727.808,727.808,21,0)
ADMISSION TIME^FO^^0;22^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.808,727.808,21,.1)
Admission Time
"^DD",727.808,727.808,21,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.808,727.808,21,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.808,727.808,21,3)
Answer must be 6 characters in length.
"^DD",727.808,727.808,21,21,0)
^^2^2^2970922^^^^
"^DD",727.808,727.808,21,21,1,0)
A 6-character numeric string which represents the time of day at
"^DD",727.808,727.808,21,21,2,0)
which the admission associated with the physical movement occurred.
"^DD",727.808,727.808,21,23,0)
^^7^7^2971113^^^^
"^DD",727.808,727.808,21,23,1,0)
Data source:
"^DD",727.808,727.808,21,23,2,0)
 
"^DD",727.808,727.808,21,23,3,0)
PATIENT MOVEMENT file (#405); ADMISSION/CHECK-IN MOVEMENT field (#.14)
"^DD",727.808,727.808,21,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.808,727.808,21,23,5,0)
 
"^DD",727.808,727.808,21,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.808,727.808,21,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.808,727.808,21,"DT")
2970924
"^DD",727.808,727.808,22,0)
PLACEHOLDER2^F^^0;23^K:$L(X)>11!($L(X)<1) X
"^DD",727.808,727.808,22,.1)
Placeholder2
"^DD",727.808,727.808,22,3)
Answer must be 1-11 characters in length.
"^DD",727.808,727.808,22,21,0)
^^1^1^2980120^^
"^DD",727.808,727.808,22,21,1,0)
A placeholder.
"^DD",727.808,727.808,22,23,0)
^^1^1^2980120^^
"^DD",727.808,727.808,22,23,1,0)
For future development; always set to null.
"^DD",727.808,727.808,22,"DT")
2980120
"^DD",727.808,727.808,23,0)
PLACEHOLDER3^F^^0;24^K:$L(X)>11!($L(X)<1) X
"^DD",727.808,727.808,23,.1)
Placeholder3
"^DD",727.808,727.808,23,3)
Answer must be 1-11 characters in length.
"^DD",727.808,727.808,23,21,0)
^^1^1^2980120^^
"^DD",727.808,727.808,23,21,1,0)
To be used for future development; currently set to null.
"^DD",727.808,727.808,23,23,0)
^^1^1^2980120^^
"^DD",727.808,727.808,23,23,1,0)
For future development; always set to null.
"^DD",727.808,727.808,23,"DT")
2980120
"^DD",727.808,727.808,24,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.808,727.808,24,3)
Answer must be 1-10 characters in length.
"^DD",727.808,727.808,24,21,0)
^^1^1^2990504^
"^DD",727.808,727.808,24,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.808,727.808,24,23,0)
^^2^2^2990504^
"^DD",727.808,727.808,24,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.808,727.808,24,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.808,727.808,24,"DT")
2990504
"^DD",727.808,727.808,25,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.808,727.808,25,3)
Answer must be 4-10 characters in length.
"^DD",727.808,727.808,25,21,0)
^^2^2^2990510^^^^
"^DD",727.808,727.808,25,21,1,0)
The DSS Department code for the Losing Ward.  Must contain at least
"^DD",727.808,727.808,25,21,2,0)
four characters to be a valid code.
"^DD",727.808,727.808,25,23,0)
^^15^15^2990510^^
"^DD",727.808,727.808,25,23,1,0)
The DSS Department code for the ward associated with the physical
"^DD",727.808,727.808,25,23,2,0)
movement record.  This code is found in the DSS WARD file (#727.4)
"^DD",727.808,727.808,25,23,3,0)
using the value of the WARD LOCATION field (#.06) of the PATIENT
"^DD",727.808,727.808,25,23,4,0)
MOVEMENT file (#405) record for the patient's admission movement.
"^DD",727.808,727.808,25,23,5,0)
The value found in WARD LOCATION is a pointer to the WARD LOCATION
"^DD",727.808,727.808,25,23,6,0)
file (#42).
"^DD",727.808,727.808,25,23,7,0)
 
"^DD",727.808,727.808,25,23,8,0)
Each record in file #727.4 has a #.01 field which points to a record
"^DD",727.808,727.808,25,23,9,0)
in file #42, and the internal entry number of the file #727.4 is set
"^DD",727.808,727.808,25,23,10,0)
to be the same as the record in file #42 to which it points.  Therefore,
"^DD",727.808,727.808,25,23,11,0)
the WARD LOCATION field (#.06) can be used as a pointer to file #727.4
"^DD",727.808,727.808,25,23,12,0)
as well.
"^DD",727.808,727.808,25,23,13,0)
  
"^DD",727.808,727.808,25,23,14,0)
Data for this field is taken from the DSS DEPARTMENT field (#1) of
"^DD",727.808,727.808,25,23,15,0)
the file #727.4 record for the Losing Ward.
"^DD",727.808,727.808,25,"DT")
2980708
"^DD",727.809,727.809,0)
FIELD^^23^25
"^DD",727.809,727.809,0,"DDA")
N
"^DD",727.809,727.809,0,"DIK")
ECX809
"^DD",727.809,727.809,0,"DIKOLD")
ECX809
"^DD",727.809,727.809,0,"DT")
2990510
"^DD",727.809,727.809,0,"IX","AC",727.809,2)

"^DD",727.809,727.809,0,"NM","UNIT DOSE LOCAL EXTRACT")

"^DD",727.809,727.809,0,"VRPK")
DSS EXTRACTS
"^DD",727.809,727.809,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.809,727.809,.01,.1)
Sequence Number
"^DD",727.809,727.809,.01,1,0)
^.1^^0
"^DD",727.809,727.809,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.809,727.809,.01,21,0)
^^1^1^2960913^^^^
"^DD",727.809,727.809,.01,21,1,0)
The record number for this extract entry.
"^DD",727.809,727.809,.01,23,0)
^^1^1^2960913^^^
"^DD",727.809,727.809,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.809,727.809,.01,"DT")
2980812
"^DD",727.809,727.809,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.809,727.809,1,.1)
Year/Month
"^DD",727.809,727.809,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.809,727.809,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.809,727.809,1,3)
Answer must be 6 characters in length.
"^DD",727.809,727.809,1,21,0)
^^2^2^2970922^^^^
"^DD",727.809,727.809,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.809,727.809,1,21,2,0)
for which this extract was performed.
"^DD",727.809,727.809,1,23,0)
^^1^1^2970922^^^^
"^DD",727.809,727.809,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.809,727.809,1,"DT")
2970924
"^DD",727.809,727.809,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.809,727.809,2,.1)
Extract Number
"^DD",727.809,727.809,2,1,0)
^.1
"^DD",727.809,727.809,2,1,1,0)
727.809^AC
"^DD",727.809,727.809,2,1,1,1)
S ^ECX(727.809,"AC",$E(X,1,30),DA)=""
"^DD",727.809,727.809,2,1,1,2)
K ^ECX(727.809,"AC",$E(X,1,30),DA)
"^DD",727.809,727.809,2,1,1,3)
DO NOT DELETE.
"^DD",727.809,727.809,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.809,727.809,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.809,727.809,2,1,1,"%D",2,0)
in this file.
"^DD",727.809,727.809,2,1,1,"DT")
2910802
"^DD",727.809,727.809,2,3)
Enter the extract number for this extract.
"^DD",727.809,727.809,2,21,0)
^^2^2^2960913^^^^
"^DD",727.809,727.809,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.809,727.809,2,21,2,0)
extract.
"^DD",727.809,727.809,2,23,0)
^^2^2^2960913^^^^
"^DD",727.809,727.809,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.809,727.809,2,23,2,0)
pick up the header for the mail message.
"^DD",727.809,727.809,2,"DT")
2960913
"^DD",727.809,727.809,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.809,727.809,3,.1)
Facility
"^DD",727.809,727.809,3,3)
Enter the station number where this extract was performed.
"^DD",727.809,727.809,3,21,0)
^^1^1^2960913^^^^
"^DD",727.809,727.809,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.809,727.809,3,23,0)
^^3^3^2960913^^^^
"^DD",727.809,727.809,3,23,1,0)
An indicator of the division where this event happened. It is derived
"^DD",727.809,727.809,3,23,2,0)
from the DIVISION field (.015) of the WARD LOCATION file (#42) which
"^DD",727.809,727.809,3,23,3,0)
points to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.809,727.809,3,"DT")
2961018
"^DD",727.809,727.809,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.809,727.809,4,.1)
Patient No. - DFN
"^DD",727.809,727.809,4,3)
Enter the name of the patient for this extract record.
"^DD",727.809,727.809,4,21,0)
^^1^1^2990504^^^^
"^DD",727.809,727.809,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.809,727.809,4,23,0)
^^3^3^2990504^^^^
"^DD",727.809,727.809,4,23,1,0)
Pointer to the NAME field (.01) of the PATIENT file (#2). PATIENT NO. -
"^DD",727.809,727.809,4,23,2,0)
DFN data is derived from the DFN field (1) of the UNIT DOSE EXTRACT 
"^DD",727.809,727.809,4,23,3,0)
DATA file (#728.904).
"^DD",727.809,727.809,4,"DT")
2961018
"^DD",727.809,727.809,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.809,727.809,5,.1)
Social Security Number
"^DD",727.809,727.809,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.809,727.809,5,21,0)
^^4^4^2990504^^^^
"^DD",727.809,727.809,5,21,1,0)
The patient's social security number.
"^DD",727.809,727.809,5,21,2,0)
 
"^DD",727.809,727.809,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.809,727.809,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.809,727.809,5,23,0)
^^6^6^2990504^^^^
"^DD",727.809,727.809,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.809,727.809,5,23,2,0)
in the UNIT DOSE LOCAL EXTRACT file (#727.809), SSN data is derived from
"^DD",727.809,727.809,5,23,3,0)
the SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.809,727.809,5,23,4,0)
 
"^DD",727.809,727.809,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.809,727.809,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.809,727.809,5,"DT")
2960913
"^DD",727.809,727.809,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.809,727.809,6,.1)
Name
"^DD",727.809,727.809,6,3)
Your answer must be 4 characters in length.
"^DD",727.809,727.809,6,21,0)
^^1^1^2961021^^^^
"^DD",727.809,727.809,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.809,727.809,6,23,0)
^^4^4^2961021^^
"^DD",727.809,727.809,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.809,727.809,6,23,2,0)
in the UNIT DOSE LOCAL EXTRACT file (#727.809), NAME data is derived from
"^DD",727.809,727.809,6,23,3,0)
the NAME field (.01) in the PATIENT file (#2). The first four characters
"^DD",727.809,727.809,6,23,4,0)
of the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.809,727.809,6,"DT")
2960913
"^DD",727.809,727.809,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.809,727.809,7,.1)
In Out Patient Indicator
"^DD",727.809,727.809,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.809,727.809,7,21,0)
^^2^2^2960913^^^^
"^DD",727.809,727.809,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.809,727.809,7,21,2,0)
extract entry.
"^DD",727.809,727.809,7,23,0)
^^2^2^2960913^^^
"^DD",727.809,727.809,7,23,1,0)
For the Unit Dose Local extract this field is set to 3, indicating 
"^DD",727.809,727.809,7,23,2,0)
inpatient status in the LOCATION TYPE file (#40.9).
"^DD",727.809,727.809,7,"DT")
2960913
"^DD",727.809,727.809,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.809,727.809,8,.1)
Day
"^DD",727.809,727.809,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.809,727.809,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.809,727.809,8,3)
Answer must be 8 characters in length.
"^DD",727.809,727.809,8,21,0)
^^2^2^2970922^^^^
"^DD",727.809,727.809,8,21,1,0)
This 8-character string represents the date on which the Unit Dose 
"^DD",727.809,727.809,8,21,2,0)
event (dispense or return) occurred.
"^DD",727.809,727.809,8,23,0)
^^15^15^2970923^^^^
"^DD",727.809,727.809,8,23,1,0)
Data source:
"^DD",727.809,727.809,8,23,2,0)
 
"^DD",727.809,727.809,8,23,3,0)
(1) UNIT DOSE EXTRACT DATA file (#728.904); DATE field (#2)
"^DD",727.809,727.809,8,23,4,0)
Data is inserted in this field by Pharmacy routines PSGPLF and
"^DD",727.809,727.809,8,23,5,0)
PSGAMSA; these routines derive the data from --
"^DD",727.809,727.809,8,23,6,0)
(2) UNIT DOSE PICK LIST STATS file (#57.6); DATE field (#.01)
"^DD",727.809,727.809,8,23,7,0)
    PICK LIST file (#53.5); START DATE/TIME field (#.03)
"^DD",727.809,727.809,8,23,8,0)
    or
"^DD",727.809,727.809,8,23,9,0)
    DT (i.e., FileMan variable for Today's Date)
"^DD",727.809,727.809,8,23,10,0)
 
"^DD",727.809,727.809,8,23,11,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.809,727.809,8,23,12,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.809,727.809,8,23,13,0)
then a default is used.  The default date value is the value of the 
"^DD",727.809,727.809,8,23,14,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.809,727.809,8,23,15,0)
Year 2000 compliant per vendor.
"^DD",727.809,727.809,8,"DT")
2970924
"^DD",727.809,727.809,9,0)
VA DRUG CLASSIFICATION^F^^0;10^K:$L(X)>5!($L(X)<5) X
"^DD",727.809,727.809,9,.1)
VA Drug Classification
"^DD",727.809,727.809,9,3)
Your answer must be 5 characters in length.
"^DD",727.809,727.809,9,21,0)
^^1^1^2990510^^^^
"^DD",727.809,727.809,9,21,1,0)
The VA Drug Classification for the item in this order.
"^DD",727.809,727.809,9,23,0)
^^3^3^2990510^^^^
"^DD",727.809,727.809,9,23,1,0)
Derived from the VA CLASSIFICATION field (#2) in the DRUG file (#50) 
"^DD",727.809,727.809,9,23,2,0)
for the drug identified by the DRUG field (#3) in the UNIT DOSE EXTRACT 
"^DD",727.809,727.809,9,23,3,0)
DATA file (#728.904).
"^DD",727.809,727.809,9,"DT")
2960913
"^DD",727.809,727.809,10,0)
QUANTITY^NJ8,2^^0;11^K:+X'=X!(X>10000)!(X<0)!(X?.E1"."3N.N) X
"^DD",727.809,727.809,10,.1)
Quantity
"^DD",727.809,727.809,10,3)
Enter a number between 0 and 10000, 2 decimal digits.
"^DD",727.809,727.809,10,21,0)
^^1^1^2960913^^^^
"^DD",727.809,727.809,10,21,1,0)
Quantity dispensed.
"^DD",727.809,727.809,10,23,0)
^^2^2^2960913^^^^
"^DD",727.809,727.809,10,23,1,0)
QUANTITY is derived from the QUANTITY field (4) of the UNIT DOSE EXTRACT 
"^DD",727.809,727.809,10,23,2,0)
DATA file (#728.904).
"^DD",727.809,727.809,10,"DT")
2960913
"^DD",727.809,727.809,11,0)
WARD^P44'^SC(^0;12^Q
"^DD",727.809,727.809,11,.1)
Ward
"^DD",727.809,727.809,11,3)
Enter the ward location for this patient.
"^DD",727.809,727.809,11,21,0)
^^1^1^2960913^^
"^DD",727.809,727.809,11,21,1,0)
This is the location of the patient when he received the medication.
"^DD",727.809,727.809,11,23,0)
^^5^5^2960913^^^
"^DD",727.809,727.809,11,23,1,0)
Ward is derived from the WARD field (5) in the UNIT DOSE EXTRACT DATA 
"^DD",727.809,727.809,11,23,2,0)
file (#728.904) which is a pointer to the WARD LOCATION file (#42). 
"^DD",727.809,727.809,11,23,3,0)
Using the ward pointer, the data is derived from the HOSPITAL LOCATION 
"^DD",727.809,727.809,11,23,4,0)
FILE POINTER field (44) in the WARD LOCATION file (#42) which is a 
"^DD",727.809,727.809,11,23,5,0)
pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.809,727.809,11,"DT")
2960913
"^DD",727.809,727.809,12,0)
PROVIDER^F^^0;13^K:$L(X)>11!($L(X)<1) X
"^DD",727.809,727.809,12,.1)
Provider
"^DD",727.809,727.809,12,3)
Enter provider assigned to this patient.
"^DD",727.809,727.809,12,21,0)
^^1^1^2980608^^^^
"^DD",727.809,727.809,12,21,1,0)
The provider assigned to this patient.
"^DD",727.809,727.809,12,23,0)
^^3^3^2980608^^^^
"^DD",727.809,727.809,12,23,1,0)
PROVIDER data is derived from the PROVIDER field (6) of the UNIT DOSE 
"^DD",727.809,727.809,12,23,2,0)
EXTRACT DATA file (#728.904). It is a pointer to the NEW PERSON file 
"^DD",727.809,727.809,12,23,3,0)
(#200). This data is stored as "2"_pointer value.
"^DD",727.809,727.809,12,"DT")
2961018
"^DD",727.809,727.809,13,0)
COST^NJ8,2^^0;14^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",727.809,727.809,13,.1)
Cost
"^DD",727.809,727.809,13,3)
Enter a dollar amount between 0 and 10000, 2 decimal digits.
"^DD",727.809,727.809,13,21,0)
^^1^1^2990510^^^^
"^DD",727.809,727.809,13,21,1,0)
Cost of drug dispensed for this patient.
"^DD",727.809,727.809,13,23,0)
^^2^2^2990510^^^^
"^DD",727.809,727.809,13,23,1,0)
COST data is derived from the TOTAL COST field (7) of the UNIT DOSE 
"^DD",727.809,727.809,13,23,2,0)
EXTRACT DATA file (#728.904).
"^DD",727.809,727.809,13,"DT")
2960913
"^DD",727.809,727.809,14,0)
MOVEMENT FILE #^P405'^DGPM(^0;15^Q
"^DD",727.809,727.809,14,.1)
Movement File Number
"^DD",727.809,727.809,14,3)
Enter the patient movement number associated with this extract record.
"^DD",727.809,727.809,14,21,0)
^^1^1^2960913^^
"^DD",727.809,727.809,14,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.809,727.809,14,23,0)
^^4^4^2960913^^
"^DD",727.809,727.809,14,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.809,727.809,14,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.809,727.809,14,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.809,727.809,14,23,4,0)
(#405).
"^DD",727.809,727.809,14,"DT")
2960913
"^DD",727.809,727.809,15,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;16^Q
"^DD",727.809,727.809,15,.1)
Treating Specialty
"^DD",727.809,727.809,15,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.809,727.809,15,21,0)
^^1^1^2960913^^^
"^DD",727.809,727.809,15,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.809,727.809,15,23,0)
^^6^6^2960913^^^
"^DD",727.809,727.809,15,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.809,727.809,15,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.809,727.809,15,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.809,727.809,15,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.809,727.809,15,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.809,727.809,15,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.809,727.809,15,"DT")
2960913
"^DD",727.809,727.809,16,0)
NDC^F^^0;17^K:$L(X)>15!($L(X)<1) X
"^DD",727.809,727.809,16,.1)
National Drug Code
"^DD",727.809,727.809,16,3)
Your answer must be 1 to 15 characters in length.
"^DD",727.809,727.809,16,21,0)
^^1^1^2990510^^^
"^DD",727.809,727.809,16,21,1,0)
This is the National Drug Code for the drug/supply item in this order.
"^DD",727.809,727.809,16,23,0)
^^3^3^2990510^^^^
"^DD",727.809,727.809,16,23,1,0)
Derived from the NDC field (#31) in the DRUG file (#50) for the drug 
"^DD",727.809,727.809,16,23,2,0)
identified by the DRUG field (#3) in the UNIT DOSE EXTRACT DATA file 
"^DD",727.809,727.809,16,23,3,0)
(#728.904).
"^DD",727.809,727.809,16,"DT")
2960913
"^DD",727.809,727.809,17,0)
NEW FEEDER KEY^F^^0;18^K:$L(X)>19!($L(X)<17) X
"^DD",727.809,727.809,17,.1)
New Feeder Key
"^DD",727.809,727.809,17,3)
Answer must be 17-19 characters in length.
"^DD",727.809,727.809,17,21,0)
^^5^5^2990510^^^^
"^DD",727.809,727.809,17,21,1,0)
The Feeder Key for the drug in this record.  The format of the Feeder Key
"^DD",727.809,727.809,17,21,2,0)
depends on the version of NATIONAL DRUG FILE installed at the site.  If the
"^DD",727.809,727.809,17,21,3,0)
site is running NDF v4.0 (or later), the Feeder Key has a 17-digit format.
"^DD",727.809,727.809,17,21,4,0)
If the site is running an earlier version of NDF, then the Feeder Key has
"^DD",727.809,727.809,17,21,5,0)
a 19-digit format.
"^DD",727.809,727.809,17,23,0)
^^20^20^2990510^^^^
"^DD",727.809,727.809,17,23,1,0)
NEW FEEDER KEY is derived for the drug identified by the DRUG field 
"^DD",727.809,727.809,17,23,2,0)
(#6) in the PRESCRIPTION file (#52), which is a pointer to the DRUG
"^DD",727.809,727.809,17,23,3,0)
file (#50).
"^DD",727.809,727.809,17,23,4,0)
  
"^DD",727.809,727.809,17,23,5,0)
If the sites is running a version of NDF prior to NDF v4.0:
"^DD",727.809,727.809,17,23,6,0)
The NATIONAL DRUG FILE ENTRY field (#20) from the DRUG file (#50),
"^DD",727.809,727.809,17,23,7,0)
which is a pointer to the NATIONAL DRUG file (#50.6), is padded to
"^DD",727.809,727.809,17,23,8,0)
4 digits.  The PSNDF VA PRODUCT NAME ENTRY field (#22) from the 
"^DD",727.809,727.809,17,23,9,0)
DRUG file (#50), which is a pointer to the VA Product Name in the
"^DD",727.809,727.809,17,23,10,0)
NATIONAL DRUG file (#50.6), is padded to 3 digits. These two data
"^DD",727.809,727.809,17,23,11,0)
elements are concatenated together to form a 7-digit string.
"^DD",727.809,727.809,17,23,12,0)
This is concatenated with a 12-digit code derived from the NDC field
"^DD",727.809,727.809,17,23,13,0)
(#31) from the DRUG file (#50) to form a 19-digit Feeder Key.
"^DD",727.809,727.809,17,23,14,0)
  
"^DD",727.809,727.809,17,23,15,0)
If the site is running NDF v4.0 (or later):
"^DD",727.809,727.809,17,23,16,0)
The PSNDF VA PRODUCT NAME ENTRY field (#22) from the DRUG file (#50), 
"^DD",727.809,727.809,17,23,17,0)
which is a pointer to the VA PRODUCT file (#50.68) is padded to 5
"^DD",727.809,727.809,17,23,18,0)
digits.  This is concatenated with a 12-digit code derived from the
"^DD",727.809,727.809,17,23,19,0)
NDC field (#31) from the DRUG file (#50) to form a 17-digit Feeder
"^DD",727.809,727.809,17,23,20,0)
Key.
"^DD",727.809,727.809,17,"DT")
2990510
"^DD",727.809,727.809,18,0)
INVESTIGATIONAL^S^I:INVESTIGATIONAL;^0;19^Q
"^DD",727.809,727.809,18,.1)
Investigational
"^DD",727.809,727.809,18,3)
Enter I if the drug is investigational.
"^DD",727.809,727.809,18,21,0)
^^2^2^2960913^^
"^DD",727.809,727.809,18,21,1,0)
This field contains the letter I if the drug in this record is 
"^DD",727.809,727.809,18,21,2,0)
investigational. Otherwise it is null.
"^DD",727.809,727.809,18,23,0)
^^2^2^2960913^^
"^DD",727.809,727.809,18,23,1,0)
Derived from the DEA, SPECIAL HDLG field (3) in the DRUG file (#50).
"^DD",727.809,727.809,18,23,2,0)
If the DEA, SPECIAL HDLG field contains an I, this field is set to I.
"^DD",727.809,727.809,18,"DT")
2960913
"^DD",727.809,727.809,19,0)
UDP TIME^FO^^0;20^K:$L(X)>6!($L(X)<6) X
"^DD",727.809,727.809,19,.1)
UDP Time
"^DD",727.809,727.809,19,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.809,727.809,19,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.809,727.809,19,3)
Answer must be 6 characters in length.
"^DD",727.809,727.809,19,21,0)
^^1^1^2970918^^^^
"^DD",727.809,727.809,19,21,1,0)
A 6-character numeric string representing a time data element.
"^DD",727.809,727.809,19,23,0)
^^15^15^2970918^^^^
"^DD",727.809,727.809,19,23,1,0)
Data source:
"^DD",727.809,727.809,19,23,2,0)
 
"^DD",727.809,727.809,19,23,3,0)
(1) UNIT DOSE EXTRACT DATA file (#728.904); DATE field (#2)
"^DD",727.809,727.809,19,23,4,0)
Data is inserted in this field by Pharmacy routines PSGPLF and
"^DD",727.809,727.809,19,23,5,0)
PSGAMSA; these routines derive the data from --
"^DD",727.809,727.809,19,23,6,0)
(2) UNIT DOSE PICK LIST STATS file (#57.6); DATE field (#.01)
"^DD",727.809,727.809,19,23,7,0)
    PICK LIST file (#53.5); START DATE/TIME field (#.03)
"^DD",727.809,727.809,19,23,8,0)
    where only the 1st "." piece (date) is used.
"^DD",727.809,727.809,19,23,9,0)
    or
"^DD",727.809,727.809,19,23,10,0)
    DT (i.e., FileMan variable for Today's Date)
"^DD",727.809,727.809,19,23,11,0)
 
"^DD",727.809,727.809,19,23,12,0)
The source for this data element does NOT provide any time information;
"^DD",727.809,727.809,19,23,13,0)
only date is provided.  Consequently, the UDP TIME field is always
"^DD",727.809,727.809,19,23,14,0)
set to "000000".
"^DD",727.809,727.809,19,23,15,0)
 
"^DD",727.809,727.809,19,"DT")
2970924
"^DD",727.809,727.809,20,0)
ADMISSION DATE^FO^^0;21^K:$L(X)>8!($L(X)<8) X
"^DD",727.809,727.809,20,.1)
Admission Date
"^DD",727.809,727.809,20,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.809,727.809,20,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.809,727.809,20,3)
Answer must be 8 characters in length.
"^DD",727.809,727.809,20,21,0)
^^2^2^2970922^^^^
"^DD",727.809,727.809,20,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.809,727.809,20,21,2,0)
associated with this Unit Dose event occurred.
"^DD",727.809,727.809,20,23,0)
^^10^10^2971113^^^^
"^DD",727.809,727.809,20,23,1,0)
Data source:
"^DD",727.809,727.809,20,23,2,0)
 
"^DD",727.809,727.809,20,23,3,0)
UNIT DOSE EXTRACT DATA file (#728.904); DFN field (#1)
"^DD",727.809,727.809,20,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.809,727.809,20,23,5,0)
 
"^DD",727.809,727.809,20,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.809,727.809,20,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.809,727.809,20,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.809,727.809,20,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.809,727.809,20,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.809,727.809,20,"DT")
2970924
"^DD",727.809,727.809,21,0)
ADMISSION TIME^FO^^0;22^K:$L(X)>6!($L(X)<6) X
"^DD",727.809,727.809,21,.1)
Admission Time
"^DD",727.809,727.809,21,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.809,727.809,21,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.809,727.809,21,3)
Answer must be 6 characters in length.
"^DD",727.809,727.809,21,21,0)
^^2^2^2970922^^^^
"^DD",727.809,727.809,21,21,1,0)
A 6-character numeric string which represents the time of day at
"^DD",727.809,727.809,21,21,2,0)
which the admission associated with the Unit Dose event occurred.
"^DD",727.809,727.809,21,23,0)
^^12^12^2971113^^^^
"^DD",727.809,727.809,21,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns 
"^DD",727.809,727.809,21,23,2,0)
the internal file number of the admission associated with this movement. 
"^DD",727.809,727.809,21,23,3,0)
ADMISSION TIME is derived from the DATE/TIME field (.01) of the PATIENT 
"^DD",727.809,727.809,21,23,4,0)
MOVEMENT file (#405) for the movement found in VAIP(13). ADMISSION TIME 
"^DD",727.809,727.809,21,23,5,0)
is padded with trailing zeros to six digits.
"^DD",727.809,727.809,21,23,6,0)
Data source:
"^DD",727.809,727.809,21,23,7,0)
 
"^DD",727.809,727.809,21,23,8,0)
UNIT DOSE EXTRACT DATA file (#728.904); DFN field (#1)
"^DD",727.809,727.809,21,23,9,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.809,727.809,21,23,10,0)
 
"^DD",727.809,727.809,21,23,11,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.809,727.809,21,23,12,0)
cannot be determined, then "000300" is used as default.
"^DD",727.809,727.809,21,"DT")
2970924
"^DD",727.809,727.809,22,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.809,727.809,22,3)
Answer must be 1-10 characters in length.
"^DD",727.809,727.809,22,21,0)
^^1^1^2990504^
"^DD",727.809,727.809,22,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.809,727.809,22,23,0)
^^2^2^2990504^
"^DD",727.809,727.809,22,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.809,727.809,22,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.809,727.809,22,"DT")
2990504
"^DD",727.809,727.809,23,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.809,727.809,23,3)
Answer must be 4-10 characters in length.
"^DD",727.809,727.809,23,21,0)
^^1^1^2990506^
"^DD",727.809,727.809,23,21,1,0)
The DSS Department Code for the Pharmacy product.
"^DD",727.809,727.809,23,23,0)
^^2^2^2990506^
"^DD",727.809,727.809,23,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.809,727.809,23,23,2,0)
Field is set to null.
"^DD",727.809,727.809,23,"DT")
2990506
"^DD",727.809,727.809,24,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.809,727.809,24,3)
Answer must be 1-8 characters in length.
"^DD",727.809,727.809,24,21,0)
^^1^1^2990506^^
"^DD",727.809,727.809,24,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.809,727.809,24,23,0)
^^4^4^2990506^^
"^DD",727.809,727.809,24,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.809,727.809,24,23,2,0)
field will hold the Provider NPI.
"^DD",727.809,727.809,24,23,3,0)
   
"^DD",727.809,727.809,24,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.809,727.809,24,"DT")
2990506
"^DD",727.81,727.81,0)
FIELD^^53^54
"^DD",727.81,727.81,0,"DDA")
N
"^DD",727.81,727.81,0,"DIK")
ECX810
"^DD",727.81,727.81,0,"DIKOLD")
ECX810
"^DD",727.81,727.81,0,"DT")
2990510
"^DD",727.81,727.81,0,"IX","AC",727.81,2)

"^DD",727.81,727.81,0,"NM","PRESCRIPTION EXTRACT")

"^DD",727.81,727.81,0,"VRPK")
DSS EXTRACTS
"^DD",727.81,727.81,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.81,727.81,.01,.1)
Sequence Number
"^DD",727.81,727.81,.01,1,0)
^.1^^0
"^DD",727.81,727.81,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.81,727.81,.01,21,0)
^^1^1^2960918^^^^
"^DD",727.81,727.81,.01,21,1,0)
The record number for this extract entry.
"^DD",727.81,727.81,.01,23,0)
^^1^1^2960918^^^
"^DD",727.81,727.81,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.81,727.81,.01,"DT")
2980812
"^DD",727.81,727.81,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.81,727.81,1,.1)
Year/Month
"^DD",727.81,727.81,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.81,727.81,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.81,727.81,1,3)
Answer must be 6 characters in length.
"^DD",727.81,727.81,1,21,0)
^^2^2^2970918^^^^
"^DD",727.81,727.81,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.81,727.81,1,21,2,0)
for which this extract was performed.
"^DD",727.81,727.81,1,23,0)
^^1^1^2970918^^^^
"^DD",727.81,727.81,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.81,727.81,1,"DT")
2970924
"^DD",727.81,727.81,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.81,727.81,2,.1)
Extract Number
"^DD",727.81,727.81,2,1,0)
^.1
"^DD",727.81,727.81,2,1,1,0)
727.81^AC
"^DD",727.81,727.81,2,1,1,1)
S ^ECX(727.81,"AC",$E(X,1,30),DA)=""
"^DD",727.81,727.81,2,1,1,2)
K ^ECX(727.81,"AC",$E(X,1,30),DA)
"^DD",727.81,727.81,2,1,1,3)
DO NOT DELETE.
"^DD",727.81,727.81,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.81,727.81,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.81,727.81,2,1,1,"%D",2,0)
in this file.
"^DD",727.81,727.81,2,1,1,"DT")
2910802
"^DD",727.81,727.81,2,3)
Enter the extract number for this extract.
"^DD",727.81,727.81,2,21,0)
^^2^2^2960918^^^^
"^DD",727.81,727.81,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.81,727.81,2,21,2,0)
extract.
"^DD",727.81,727.81,2,23,0)
^^2^2^2960918^^^^
"^DD",727.81,727.81,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.81,727.81,2,23,2,0)
pick up the header for the mail message.
"^DD",727.81,727.81,2,"DT")
2960918
"^DD",727.81,727.81,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.81,727.81,3,.1)
Facility
"^DD",727.81,727.81,3,3)
Enter the station number where this extract was performed.
"^DD",727.81,727.81,3,21,0)
^^1^1^2960918^^^^
"^DD",727.81,727.81,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.81,727.81,3,23,0)
^^4^4^2960918^^^^
"^DD",727.81,727.81,3,23,1,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.81,727.81,3,23,2,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.81,727.81,3,23,3,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.81,727.81,3,23,4,0)
the INSTITUTION file (#4).
"^DD",727.81,727.81,3,"DT")
2961015
"^DD",727.81,727.81,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.81,727.81,4,.1)
Patient No. - DFN
"^DD",727.81,727.81,4,3)
Enter the name of the patient for this extract record.
"^DD",727.81,727.81,4,21,0)
^^1^1^2990504^^^^
"^DD",727.81,727.81,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.81,727.81,4,23,0)
^^3^3^2990504^^^^
"^DD",727.81,727.81,4,23,1,0)
Derived from the PATIENT field (2) in the PRESCRIPTION file (#52). 
"^DD",727.81,727.81,4,23,2,0)
PATIENT NO. - DFN is a pointer to the NAME field (.01) of the PATIENT 
"^DD",727.81,727.81,4,23,3,0)
file (#2). This data represents the patient DFN.
"^DD",727.81,727.81,4,"DT")
2961015
"^DD",727.81,727.81,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.81,727.81,5,.1)
Social Security Number
"^DD",727.81,727.81,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.81,727.81,5,21,0)
^^4^4^2990504^^^^
"^DD",727.81,727.81,5,21,1,0)
The patient's social security number.
"^DD",727.81,727.81,5,21,2,0)
 
"^DD",727.81,727.81,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.81,727.81,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.81,727.81,5,23,0)
^^6^6^2990504^^^
"^DD",727.81,727.81,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.81,727.81,5,23,2,0)
in the PRESCRIPTION EXTRACT file (#727.81), SSN data is derived from the
"^DD",727.81,727.81,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.81,727.81,5,23,4,0)
 
"^DD",727.81,727.81,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.81,727.81,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.81,727.81,5,"DT")
2960918
"^DD",727.81,727.81,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.81,727.81,6,.1)
Name
"^DD",727.81,727.81,6,3)
Your answer must be 4 characters in length.
"^DD",727.81,727.81,6,21,0)
^^1^1^2961021^^^^
"^DD",727.81,727.81,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.81,727.81,6,23,0)
^^4^4^2961021^^
"^DD",727.81,727.81,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.81,727.81,6,23,2,0)
in the PRESCRIPTION EXTRACT file (#727.81), NAME data is derived from the
"^DD",727.81,727.81,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.81,727.81,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.81,727.81,6,"DT")
2960918
"^DD",727.81,727.81,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.81,727.81,7,.1)
In Out Patient Indicator
"^DD",727.81,727.81,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.81,727.81,7,21,0)
^^2^2^2960918^^^^
"^DD",727.81,727.81,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.81,727.81,7,21,2,0)
this extract entry.
"^DD",727.81,727.81,7,23,0)
^^4^4^2960918^^^
"^DD",727.81,727.81,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.81,727.81,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.81,727.81,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.81,727.81,7,23,4,0)
inpatient status.
"^DD",727.81,727.81,7,"DT")
2960918
"^DD",727.81,727.81,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.81,727.81,8,.1)
Day
"^DD",727.81,727.81,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.81,727.81,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.81,727.81,8,3)
Answer must be 8 characters in length.
"^DD",727.81,727.81,8,21,0)
^^2^2^2970918^^^^
"^DD",727.81,727.81,8,21,1,0)
This 8-character string represents the date on which the Prescription
"^DD",727.81,727.81,8,21,2,0)
fill/refill was released.
"^DD",727.81,727.81,8,23,0)
^^19^19^2971113^^^^
"^DD",727.81,727.81,8,23,1,0)
If the version of Outpatient Pharmacy is prior to V. 6.0, DAY is 
"^DD",727.81,727.81,8,23,2,0)
derived from $E(DATE,6,7) where date is the FILL DATE field (22) of 
"^DD",727.81,727.81,8,23,3,0)
the PRESCRIPTION file (#52).
"^DD",727.81,727.81,8,23,4,0)
  
"^DD",727.81,727.81,8,23,5,0)
Data source for Outpatient Pharmacy v6.0 and later:
"^DD",727.81,727.81,8,23,6,0)
 
"^DD",727.81,727.81,8,23,7,0)
PRESCRIPTION file (#52); REFILL sub-file (#52.1); 
"^DD",727.81,727.81,8,23,8,0)
   RELEASED DATE/TIME field (#17)
"^DD",727.81,727.81,8,23,9,0)
   
"^DD",727.81,727.81,8,23,10,0)
or
"^DD",727.81,727.81,8,23,11,0)
   
"^DD",727.81,727.81,8,23,12,0)
PRESCRIPTION file (#52); PARTIAL DATE sub-file (#52.2);
"^DD",727.81,727.81,8,23,13,0)
   RELEASED DATE/TIME field (#8)
"^DD",727.81,727.81,8,23,14,0)
 
"^DD",727.81,727.81,8,23,15,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.81,727.81,8,23,16,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.81,727.81,8,23,17,0)
then a default is used.  The default date value is the value of the 
"^DD",727.81,727.81,8,23,18,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.81,727.81,8,23,19,0)
Year 2000 compliant per vendor.
"^DD",727.81,727.81,8,"DT")
2970924
"^DD",727.81,727.81,9,0)
DIVISION^P59'^PS(59,^0;10^Q
"^DD",727.81,727.81,9,.1)
Division
"^DD",727.81,727.81,9,3)
Enter the outpatient pharmacy site.
"^DD",727.81,727.81,9,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,9,21,1,0)
The outpatient pharmacy site for this extract entry.
"^DD",727.81,727.81,9,23,0)
^^7^7^2961015^^^^
"^DD",727.81,727.81,9,23,1,0)
For new prescriptions, DIVISION is derived from the DIVISION field 
"^DD",727.81,727.81,9,23,2,0)
(20) of the PRESCRIPTION file (#52). For refill prescriptions, 
"^DD",727.81,727.81,9,23,3,0)
DIVISION is derived from the DIVISION field (8) within the REFILL 
"^DD",727.81,727.81,9,23,4,0)
multiple (52) of the PRESCRIPTION file (#52). For partial prescriptions, 
"^DD",727.81,727.81,9,23,5,0)
DIVISION is derived from the DIVISION field (.09) within the PARTIAL 
"^DD",727.81,727.81,9,23,6,0)
DATE multiple (60) of the PRESCRIPTION file (#52). DIVISION is a pointer 
"^DD",727.81,727.81,9,23,7,0)
to the OUTPATIENT SITE file (#59)
"^DD",727.81,727.81,9,"DT")
2960918
"^DD",727.81,727.81,10,0)
PROVIDER^F^^0;11^K:$L(X)>11!($L(X)<1) X
"^DD",727.81,727.81,10,.1)
Provider
"^DD",727.81,727.81,10,3)
Enter provider for this record.
"^DD",727.81,727.81,10,21,0)
^^1^1^2980608^^^^
"^DD",727.81,727.81,10,21,1,0)
The provider assigned to this patient.
"^DD",727.81,727.81,10,23,0)
^^9^9^2980608^^^^
"^DD",727.81,727.81,10,23,1,0)
Derived from the PROVIDER field (4) in the PRESCRIPTION file (#52) 
"^DD",727.81,727.81,10,23,2,0)
for new prescriptions, or from the PROVIDER field (15) within the REFILL 
"^DD",727.81,727.81,10,23,3,0)
multiple (52) in the PRESCRIPTION file (#52) for refill prescriptions, 
"^DD",727.81,727.81,10,23,4,0)
or from the PROVIDER field (6) within the PARTIAL DATE multiple (60) in 
"^DD",727.81,727.81,10,23,5,0)
the PRESCRIPTION file (#52) for partial prescriptions.
"^DD",727.81,727.81,10,23,6,0)
  
"^DD",727.81,727.81,10,23,7,0)
If PROVIDER is a pointer to the NEW PERSON file (#200), it is stored as 
"^DD",727.81,727.81,10,23,8,0)
"2"_pointer value. If PROVIDER is a pointer to the PROVIDER file (#6), 
"^DD",727.81,727.81,10,23,9,0)
it is stored as "6"_pointer value.
"^DD",727.81,727.81,10,"DT")
2961015
"^DD",727.81,727.81,11,0)
VA DRUG CLASSIFICATION^F^^0;12^K:$L(X)>5!($L(X)<5) X
"^DD",727.81,727.81,11,.1)
VA Drug Classification
"^DD",727.81,727.81,11,3)
Your answer must be 5 characters in length.
"^DD",727.81,727.81,11,21,0)
^^1^1^2980702^^
"^DD",727.81,727.81,11,21,1,0)
The VA Drug Classification for the drug/supply item in this prescription.
"^DD",727.81,727.81,11,23,0)
^^2^2^2980702^^
"^DD",727.81,727.81,11,23,1,0)
Derived from the VA CLASSIFICATION field (2) in the DRUG file (#50) for
"^DD",727.81,727.81,11,23,2,0)
the drug identified by the DRUG field (6) in the PRESCRIPTION file (#52).
"^DD",727.81,727.81,11,"DT")
2960918
"^DD",727.81,727.81,12,0)
MAIL^F^^0;13^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,12,.1)
Mail
"^DD",727.81,727.81,12,3)
Your answer must be 1 character in length.
"^DD",727.81,727.81,12,21,0)
^^2^2^2990525^^^^
"^DD",727.81,727.81,12,21,1,0)
Data will be 1 if this prescription was mailed from the VAMC or a 2 
"^DD",727.81,727.81,12,21,2,0)
if mailed from a CMOP.
"^DD",727.81,727.81,12,23,0)
^^6^6^2990525^^^^
"^DD",727.81,727.81,12,23,1,0)
Derived from the MAIL/WINDOW field (#11) in the PRESCRIPTION file 
"^DD",727.81,727.81,12,23,2,0)
(#52) for new prescriptions, or from the MAIL/WINDOW field (#2) within 
"^DD",727.81,727.81,12,23,3,0)
the REFILL multiple (#52) in the PRESCRIPTION file (#52) for refill 
"^DD",727.81,727.81,12,23,4,0)
prescriptions, or from the MAIL/WINDOW field (#.02) within the PARTIAL 
"^DD",727.81,727.81,12,23,5,0)
DATE multiple (#60) in the PRESCRIPTION file (#52) for partial 
"^DD",727.81,727.81,12,23,6,0)
prescriptions.
"^DD",727.81,727.81,12,"DT")
2960918
"^DD",727.81,727.81,13,0)
PROVIDER PERSON CLASS^F^^0;14^K:$L(X)>7!($L(X)<7) X
"^DD",727.81,727.81,13,.1)

"^DD",727.81,727.81,13,3)
Answer must be 7 characters in length.
"^DD",727.81,727.81,13,21,0)
^^1^1^2990505^^^
"^DD",727.81,727.81,13,21,1,0)
The VA code associate with the active Person Class of the provider.
"^DD",727.81,727.81,13,23,0)
^^3^3^2990505^^^
"^DD",727.81,727.81,13,23,1,0)
A call to $$GET^XUA4A72(PERS,DATE) will be made using the IEN in the
"^DD",727.81,727.81,13,23,2,0)
PROVIDER and the date in the DAY field.  The VA Code is always of the
"^DD",727.81,727.81,13,23,3,0)
form "V"_six numeric digits; exactly 7 characters in length. 
"^DD",727.81,727.81,13,"DT")
2990505
"^DD",727.81,727.81,14,0)
NEW^F^^0;15^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,14,.1)
New
"^DD",727.81,727.81,14,3)
Your answer must be 1 character in length.
"^DD",727.81,727.81,14,21,0)
^^1^1^2980702^^^^
"^DD",727.81,727.81,14,21,1,0)
Data will be 1 if this is a new prescription.
"^DD",727.81,727.81,14,23,0)
^^17^17^2980702^^^
"^DD",727.81,727.81,14,23,1,0)
If the version of Outpatient Pharmacy is prior to V. 6.0, examine 
"^DD",727.81,727.81,14,23,2,0)
the "AD" cross reference on the FILL DATE field (22) of the 
"^DD",727.81,727.81,14,23,3,0)
PRESCRIPTION file (#52) for new prescriptions or the REFILL DATE 
"^DD",727.81,727.81,14,23,4,0)
field (.01) within the REFILL multiple (52) of the PRESCRIPTION 
"^DD",727.81,727.81,14,23,5,0)
file (#52) for refill prescriptions. Cross reference is 
"^DD",727.81,727.81,14,23,6,0)
^PSRX("AD",DATE,D0,REFILL# or 0 for new RX).
"^DD",727.81,727.81,14,23,7,0)
  
"^DD",727.81,727.81,14,23,8,0)
If the version of Outpatient Pharmacy is V. 6.0 or greater:
"^DD",727.81,727.81,14,23,9,0)
1.  Examine the "AL" cross reference on the RELEASED DATE/TIME 
"^DD",727.81,727.81,14,23,10,0)
field (31) of the PRESCRIPTION file (#52) for new prescriptions or the 
"^DD",727.81,727.81,14,23,11,0)
RELEASED DATE/TIME field (17) within the REFILL multiple (52) of the 
"^DD",727.81,727.81,14,23,12,0)
PRESCRIPTION file (#52) for refill prescriptions. Cross reference is 
"^DD",727.81,727.81,14,23,13,0)
^PSRX("AL",DATE,D0,REFILL# or 0 for new RX).
"^DD",727.81,727.81,14,23,14,0)
2.  Examine the "AM" cross reference on the RELEASED DATE/TIME 
"^DD",727.81,727.81,14,23,15,0)
field (8) within the PARTIAL DATE multiple (60) of the PRESCRIPTION 
"^DD",727.81,727.81,14,23,16,0)
file (#52) for partial prescriptions. Cross reference is 
"^DD",727.81,727.81,14,23,17,0)
^PSRX("AM",DATE,D0,PARTIAL_REFILL#).
"^DD",727.81,727.81,14,"DT")
2960918
"^DD",727.81,727.81,15,0)
PLACEHOLDER2^F^^0;16^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,15,.1)
Placeholder2
"^DD",727.81,727.81,15,3)
Your answer must be 1 character in length.
"^DD",727.81,727.81,15,21,0)
^^1^1^2961021^^
"^DD",727.81,727.81,15,21,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,15,23,0)
^^1^1^2961021^^
"^DD",727.81,727.81,15,23,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,15,"DT")
2961015
"^DD",727.81,727.81,16,0)
QUANTITY^F^^0;17^K:$L(X)>4!($L(X)<1) X
"^DD",727.81,727.81,16,.1)
Quantity
"^DD",727.81,727.81,16,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.81,727.81,16,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,16,21,1,0)
Quantity of drug dispensed.
"^DD",727.81,727.81,16,23,0)
^^5^5^2961015^^^^
"^DD",727.81,727.81,16,23,1,0)
Derived from the QTY field (7) in the PRESCRIPTION file (#52) for new 
"^DD",727.81,727.81,16,23,2,0)
prescriptions, or from the QTY field (1) within the REFILL multiple (52) 
"^DD",727.81,727.81,16,23,3,0)
in the PRESCRIPTION file (#52) for refill prescriptions, or from the QTY 
"^DD",727.81,727.81,16,23,4,0)
field (.04) within the PARTIAL DATE multiple (60) in the PRESCRIPTION 
"^DD",727.81,727.81,16,23,5,0)
file (#52) for partial prescriptions.
"^DD",727.81,727.81,16,"DT")
2960918
"^DD",727.81,727.81,17,0)
COST^NJ8,2^^0;18^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",727.81,727.81,17,.1)
Cost
"^DD",727.81,727.81,17,3)
Enter a dollar amount between 0 and 10000, 2 decimal digits.
"^DD",727.81,727.81,17,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,17,21,1,0)
Cost of drug dispensed.
"^DD",727.81,727.81,17,23,0)
^^14^14^2961015^^^^
"^DD",727.81,727.81,17,23,1,0)
Cost is calculated as quantity * price.
"^DD",727.81,727.81,17,23,2,0)
  
"^DD",727.81,727.81,17,23,3,0)
Quantity is derived from the QTY field (7) in the PRESCRIPTION file 
"^DD",727.81,727.81,17,23,4,0)
(#52) for new prescriptions, or from the QTY field (1) within the REFILL 
"^DD",727.81,727.81,17,23,5,0)
multiple (52) in the PRESCRIPTION file (#52) for refill prescriptions, 
"^DD",727.81,727.81,17,23,6,0)
or from the QTY field (.04) within the PARTIAL DATE multiple (60) in the 
"^DD",727.81,727.81,17,23,7,0)
PRESCRIPTION file (#52) for partial prescriptions.
"^DD",727.81,727.81,17,23,8,0)
  
"^DD",727.81,727.81,17,23,9,0)
Price is derived from the UNIT PRICE OF DRUG is field (17) in the 
"^DD",727.81,727.81,17,23,10,0)
PRESCRIPTION file (#52) for new prescriptions, or from the CURRENT UNIT 
"^DD",727.81,727.81,17,23,11,0)
PRICE OF DRUG field (1.2) within the REFILL multiple (52) in the 
"^DD",727.81,727.81,17,23,12,0)
PRESCRIPTION file (#52) for refill prescriptions, or from the CURRENT 
"^DD",727.81,727.81,17,23,13,0)
UNIT PRICE OF DRUG field (.042) within the PARTIAL DATE multiple (60) in 
"^DD",727.81,727.81,17,23,14,0)
the PRESCRIPTION file (#52) for partial prescriptions.
"^DD",727.81,727.81,17,"DT")
2960918
"^DD",727.81,727.81,18,0)
PLACEHOLDER3^F^^0;19^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,18,.1)
Placeholder3
"^DD",727.81,727.81,18,3)
Answer must be 1 character in length.
"^DD",727.81,727.81,18,21,0)
^^1^1^2961021^^
"^DD",727.81,727.81,18,21,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,18,23,0)
^^1^1^2961021^^^
"^DD",727.81,727.81,18,23,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,18,"DT")
2961015
"^DD",727.81,727.81,19,0)
MOVEMENT FILE #^P405'^DGPM(^0;20^Q
"^DD",727.81,727.81,19,.1)
Movement File Number
"^DD",727.81,727.81,19,3)
Enter the patient movement number associated with this extract record.
"^DD",727.81,727.81,19,21,0)
^^1^1^2961015^^^^
"^DD",727.81,727.81,19,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.81,727.81,19,23,0)
^^4^4^2961015^^^^
"^DD",727.81,727.81,19,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.81,727.81,19,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.81,727.81,19,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.81,727.81,19,23,4,0)
(#405).
"^DD",727.81,727.81,19,"DT")
2960918
"^DD",727.81,727.81,20,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;21^Q
"^DD",727.81,727.81,20,.1)
Treating Specialty
"^DD",727.81,727.81,20,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.81,727.81,20,21,0)
^^3^3^2961015^^^^
"^DD",727.81,727.81,20,21,1,0)
The treating specialty assigned to this patient when the prescription 
"^DD",727.81,727.81,20,21,2,0)
was issued, if the patient was an inpatient at that time. Otherwise, 
"^DD",727.81,727.81,20,21,3,0)
this field is null.
"^DD",727.81,727.81,20,23,0)
^^6^6^2990512^^^^
"^DD",727.81,727.81,20,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.81,727.81,20,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.81,727.81,20,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.81,727.81,20,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.81,727.81,20,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.81,727.81,20,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.81,727.81,20,"DT")
2960918
"^DD",727.81,727.81,21,0)
PLACEHOLDER4^F^^0;22^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,21,.1)
Placeholder4
"^DD",727.81,727.81,21,3)
Your answer must be 1 character in length.
"^DD",727.81,727.81,21,21,0)
^^1^1^2961021^^
"^DD",727.81,727.81,21,21,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,21,23,0)
^^1^1^2961021^^
"^DD",727.81,727.81,21,23,1,0)
This field marked as a placeholder for future use.
"^DD",727.81,727.81,21,"DT")
2961015
"^DD",727.81,727.81,22,0)
UNIT OF ISSUE^F^^0;23^K:$L(X)>10!($L(X)<1) X
"^DD",727.81,727.81,22,.1)
Unit of Issue
"^DD",727.81,727.81,22,3)
Answer must be 1-10 characters in length.
"^DD",727.81,727.81,22,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,22,21,1,0)
This units in which this item was dispensed.
"^DD",727.81,727.81,22,23,0)
^^3^3^2961015^^^
"^DD",727.81,727.81,22,23,1,0)
Derived from the DISPENSE UNIT field (14.5) in the DRUG file (#50) 
"^DD",727.81,727.81,22,23,2,0)
for the drug identified by the DRUG field (6) in the PRESCRIPTION 
"^DD",727.81,727.81,22,23,3,0)
file (#52).
"^DD",727.81,727.81,22,"DT")
2961015
"^DD",727.81,727.81,23,0)
DATE OF BIRTH^FO^^0;24^K:$L(X)>8!($L(X)<8) X
"^DD",727.81,727.81,23,.1)
Date of Birth
"^DD",727.81,727.81,23,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.81,727.81,23,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.81,727.81,23,3)
Answer must be 8 characters in length.
"^DD",727.81,727.81,23,21,0)
^^2^2^2970918^^^^
"^DD",727.81,727.81,23,21,1,0)
The patient's date of birth between December 31,1870 and today's date
"^DD",727.81,727.81,23,21,2,0)
represented by an 8-character numeric string.
"^DD",727.81,727.81,23,23,0)
^^9^9^2971113^^^^
"^DD",727.81,727.81,23,23,1,0)
Data source:
"^DD",727.81,727.81,23,23,2,0)
 
"^DD",727.81,727.81,23,23,3,0)
PRESCRIPTION file (#52); PATIENT field (#2)
"^DD",727.81,727.81,23,23,4,0)
   then to PATIENT file (#2); DATE OF BIRTH field (#.03)
"^DD",727.81,727.81,23,23,5,0)
 
"^DD",727.81,727.81,23,23,6,0)
If Date of Birth cannot be determined, then January 1, 1942, is
"^DD",727.81,727.81,23,23,7,0)
used as default.  The data element is always exactly 8 numberic
"^DD",727.81,727.81,23,23,8,0)
characters in length.  Format is YYYYMMDD.  Year 2000 compliant
"^DD",727.81,727.81,23,23,9,0)
per vendor.
"^DD",727.81,727.81,23,"DT")
2970924
"^DD",727.81,727.81,24,0)
ELIGIBILITY^RF^^0;25^K:$L(X)>3!($L(X)<1) X
"^DD",727.81,727.81,24,.1)
Eligibility
"^DD",727.81,727.81,24,3)
Answer must be 1-3 characters in length.
"^DD",727.81,727.81,24,21,0)
^^1^1^2990504^^^^
"^DD",727.81,727.81,24,21,1,0)
Appropriate eligibility code based on veteran or non-veteran status.
"^DD",727.81,727.81,24,23,0)
^^11^11^2990504^^^^
"^DD",727.81,727.81,24,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.81,727.81,24,23,2,0)
in the PRESCRIPTION EXTRACT file (#727.81), ELIGIBILITY data is derived 
"^DD",727.81,727.81,24,23,3,0)
from the PRIMARY ELIGIBILITY CODE field (.361) in the PATIENT file (#2). 
"^DD",727.81,727.81,24,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8). 
"^DD",727.81,727.81,24,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (8) in the 
"^DD",727.81,727.81,24,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS 
"^DD",727.81,727.81,24,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.81,727.81,24,23,8,0)
 
"^DD",727.81,727.81,24,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.81,727.81,24,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.81,727.81,24,23,11,0)
two or three numeric characters.
"^DD",727.81,727.81,24,"DT")
2990504
"^DD",727.81,727.81,25,0)
VETERAN^S^Y:YES;N:NO;^0;26^Q
"^DD",727.81,727.81,25,.1)
Veteran
"^DD",727.81,727.81,25,3)
Select the appropriate veteran status for this patient.
"^DD",727.81,727.81,25,21,0)
^^1^1^2961021^^^^
"^DD",727.81,727.81,25,21,1,0)
Data is Y if the patient is a veteran, N if not.
"^DD",727.81,727.81,25,23,0)
^^3^3^2961021^^
"^DD",727.81,727.81,25,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.81,727.81,25,23,2,0)
in the PRESCRIPTION EXTRACT file (#727.81), VETERAN data is derived from
"^DD",727.81,727.81,25,23,3,0)
the VETERAN (Y/N)? field (1901) in the PATIENT file (#2).
"^DD",727.81,727.81,25,"DT")
2960918
"^DD",727.81,727.81,26,0)
COPAY^RS^1:YES;0:NO;^0;27^Q
"^DD",727.81,727.81,26,.1)
Copay
"^DD",727.81,727.81,26,3)
Enter 1 if this prescription was billed for copay.
"^DD",727.81,727.81,26,21,0)
^^1^1^2961015^^^^
"^DD",727.81,727.81,26,21,1,0)
This field indicates whether this prescription was billed for copay.
"^DD",727.81,727.81,26,23,0)
^^5^5^2961015^^^^
"^DD",727.81,727.81,26,23,1,0)
Derived from the existence of the IB NUMBER field (106) in the 
"^DD",727.81,727.81,26,23,2,0)
PRESCRIPTION file (#52) for new prescriptions or from the IB NUMBER 
"^DD",727.81,727.81,26,23,3,0)
field (9) within the REFILL multiple (52) in the PRESCRIPTION file 
"^DD",727.81,727.81,26,23,4,0)
(#52) for refill prescriptions. If that field is not null, the 
"^DD",727.81,727.81,26,23,5,0)
prescription was billed for copay and this field is set to 1.
"^DD",727.81,727.81,26,"DT")
2960918
"^DD",727.81,727.81,27,0)
FEEDER KEY^RF^^0;28^K:$L(X)>19!($L(X)<17) X
"^DD",727.81,727.81,27,.1)
Feeder Key
"^DD",727.81,727.81,27,3)
Answer must be 17-19 characters in length.
"^DD",727.81,727.81,27,21,0)
^^5^5^2990510^^^^
"^DD",727.81,727.81,27,21,1,0)
The Feeder Key for the drug in this record.  The format of the Feeder Key
"^DD",727.81,727.81,27,21,2,0)
depends on the version of NATIONAL DRUG FILE installed at the site.  If the
"^DD",727.81,727.81,27,21,3,0)
site is running NDF v4.0 (or later), the Feeder Key has a 17-digit format.
"^DD",727.81,727.81,27,21,4,0)
If the site is running an earlier version of NDF, then the Feeder Key has
"^DD",727.81,727.81,27,21,5,0)
a 19-digit format.
"^DD",727.81,727.81,27,23,0)
^^20^20^2990510^^^^
"^DD",727.81,727.81,27,23,1,0)
FEEDER KEY is derived for the drug identified by the DRUG field (#6) 
"^DD",727.81,727.81,27,23,2,0)
in the PRESCRIPTION file (#52), which is a pointer to the DRUG file
"^DD",727.81,727.81,27,23,3,0)
(#50).
"^DD",727.81,727.81,27,23,4,0)
  
"^DD",727.81,727.81,27,23,5,0)
If the sites is running a version of NDF prior to NDF v4.0:
"^DD",727.81,727.81,27,23,6,0)
The NATIONAL DRUG FILE ENTRY field (#20) from the DRUG file (#50),
"^DD",727.81,727.81,27,23,7,0)
which is a pointer to the NATIONAL DRUG file (#50.6), is padded to
"^DD",727.81,727.81,27,23,8,0)
4 digits.  The PSNDF VA PRODUCT NAME ENTRY field (#22) from the 
"^DD",727.81,727.81,27,23,9,0)
DRUG file (#50), which is a pointer to the VA Product Name in the
"^DD",727.81,727.81,27,23,10,0)
NATIONAL DRUG file (#50.6), is padded to 3 digits. These two data
"^DD",727.81,727.81,27,23,11,0)
elements are concatenated together to form a 7-digit string.
"^DD",727.81,727.81,27,23,12,0)
This is concatenated with a 12-digit code derived from the NDC field
"^DD",727.81,727.81,27,23,13,0)
(#31) from the DRUG file (#50) to form a 19-digit Feeder Key.
"^DD",727.81,727.81,27,23,14,0)
  
"^DD",727.81,727.81,27,23,15,0)
If the site is running NDF v4.0 (or later):
"^DD",727.81,727.81,27,23,16,0)
The PSNDF VA PRODUCT NAME ENTRY field (#22) from the DRUG file (#50), 
"^DD",727.81,727.81,27,23,17,0)
which is a pointer to the VA PRODUCT file (#50.68) is padded to 5
"^DD",727.81,727.81,27,23,18,0)
digits.  This is concatenated with a 12-digit code derived from the
"^DD",727.81,727.81,27,23,19,0)
NDC field (#31) from the DRUG file (#50) to form a 17-digit Feeder
"^DD",727.81,727.81,27,23,20,0)
Key.
"^DD",727.81,727.81,27,"DT")
2990510
"^DD",727.81,727.81,28,0)
INVESTIGATIONAL^S^I:INVESTIGATIONAL;^0;29^Q
"^DD",727.81,727.81,28,.1)
Investigational
"^DD",727.81,727.81,28,3)
Enter I if the drug is investigational.
"^DD",727.81,727.81,28,21,0)
^^2^2^2961015^^^
"^DD",727.81,727.81,28,21,1,0)
This field contains the letter I if the drug in this record is 
"^DD",727.81,727.81,28,21,2,0)
investigational. Otherwise it is null.
"^DD",727.81,727.81,28,23,0)
^^2^2^2961015^^^^
"^DD",727.81,727.81,28,23,1,0)
Derived from the DEA, SPECIAL HDLG field (3) in the DRUG file (#50).
"^DD",727.81,727.81,28,23,2,0)
If the DEA, SPECIAL HDLG field contains an I, this field is set to I.
"^DD",727.81,727.81,28,"DT")
2960918
"^DD",727.81,727.81,29,0)
DAYS SUPPLY^NJ3,0^^0;30^K:+X'=X!(X>999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.81,727.81,29,.1)
Days Supply
"^DD",727.81,727.81,29,3)
Enter a number between 1 and 31, 0 decimal digits.
"^DD",727.81,727.81,29,21,0)
^^1^1^2961015^^^
"^DD",727.81,727.81,29,21,1,0)
The number of days covered by this prescription.
"^DD",727.81,727.81,29,23,0)
^^6^6^2961015^^^
"^DD",727.81,727.81,29,23,1,0)
Derived from the DAYS SUPPLY field (8) in the PRESCRIPTION file 
"^DD",727.81,727.81,29,23,2,0)
(#52) for new prescriptions, or from the DAYS SUPPLY field (1.1) 
"^DD",727.81,727.81,29,23,3,0)
within the REFILL multiple (52) in the PRESCRIPTION file (#52) for 
"^DD",727.81,727.81,29,23,4,0)
refill prescriptions, or from the DAYS SUPPLY field (.041) within the 
"^DD",727.81,727.81,29,23,5,0)
PARTIAL DATE multiple (60) in the PRESCRIPTION file (#52) for partial 
"^DD",727.81,727.81,29,23,6,0)
prescriptions.
"^DD",727.81,727.81,29,"DT")
2960918
"^DD",727.81,727.81,30,0)
PRIMARY CARE TEAM^F^^0;31^K:$L(X)>4!($L(X)<1) X
"^DD",727.81,727.81,30,.1)
Primary Care Team
"^DD",727.81,727.81,30,3)
Enter primary care team assigned to this patient.
"^DD",727.81,727.81,30,21,0)
^^1^1^2961030^^^^
"^DD",727.81,727.81,30,21,1,0)
The primary care team assigned to this patient.
"^DD",727.81,727.81,30,23,0)
^^6^6^2961030^^^
"^DD",727.81,727.81,30,23,1,0)
Using the RELEASED DATE/TIME (V. 6 or >) field or the FILL DATE (V. <6)
"^DD",727.81,727.81,30,23,2,0)
field from the PRESCRIPTION file (#52) and the patient pointer (DFN)
"^DD",727.81,727.81,30,23,3,0)
stored in the PATIENT NO. - DFN field (4) in the PRESCRIPTION EXTRACT
"^DD",727.81,727.81,30,23,4,0)
file (#727.81), a call is made to the Scheduling API, OUTPTTM^SDUTL3. 
"^DD",727.81,727.81,30,23,5,0)
The API returns the team's internal entry number and name from the TEAM 
"^DD",727.81,727.81,30,23,6,0)
file (#404.51). Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.81,727.81,30,"DT")
2961030
"^DD",727.81,727.81,31,0)
PRIMARY CARE PROVIDER^F^^0;32^K:$L(X)>11!($L(X)<1) X
"^DD",727.81,727.81,31,.1)
Primary Care Provider
"^DD",727.81,727.81,31,3)
Enter primary care provider assigned to this patient.
"^DD",727.81,727.81,31,21,0)
^^1^1^2980708^^^^
"^DD",727.81,727.81,31,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.81,727.81,31,23,0)
^^9^9^2980708^^^^
"^DD",727.81,727.81,31,23,1,0)
Using the RELEASED DATE/TIME (V. 6 or >) field or the FILL DATE (V. <6)
"^DD",727.81,727.81,31,23,2,0)
field from the PRESCRIPTION file (#52) and the patient pointer (DFN)
"^DD",727.81,727.81,31,23,3,0)
stored in the PATIENT NO. - DFN field (4) in the PRESCRIPTION EXTRACT
"^DD",727.81,727.81,31,23,4,0)
file (#727.81), a call is made to the Scheduling API, OUTPTPR^SDUTL3. 
"^DD",727.81,727.81,31,23,5,0)
The API returns the provider's internal entry number and name from the 
"^DD",727.81,727.81,31,23,6,0)
NEW PERSON file (#200). 
"^DD",727.81,727.81,31,23,7,0)
 
"^DD",727.81,727.81,31,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.81,727.81,31,23,9,0)
is "200".
"^DD",727.81,727.81,31,"DT")
2961015
"^DD",727.81,727.81,32,0)
TIME^FO^^0;33^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.81,727.81,32,.1)
Time
"^DD",727.81,727.81,32,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.81,727.81,32,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.81,727.81,32,3)
Answer must be 6 characters in length.
"^DD",727.81,727.81,32,21,0)
^^2^2^2970918^^^^
"^DD",727.81,727.81,32,21,1,0)
A 6-character numeric string that represents the time of day at
"^DD",727.81,727.81,32,21,2,0)
which the Presription fill/refill was released.
"^DD",727.81,727.81,32,23,0)
^^15^15^2971113^^^^
"^DD",727.81,727.81,32,23,1,0)
If the version of Outpatient Pharmacy is prior to V. 6.0, TIME is 
"^DD",727.81,727.81,32,23,2,0)
derived from the FILL DATE field (22) of the PRESCRIPTION file (#52).
"^DD",727.81,727.81,32,23,3,0)
  
"^DD",727.81,727.81,32,23,4,0)
Data source for Outpatient Pharmacy v6.0 and later:
"^DD",727.81,727.81,32,23,5,0)
 
"^DD",727.81,727.81,32,23,6,0)
PRESCRIPTION file (#52); REFILL sub-file (#52.1); 
"^DD",727.81,727.81,32,23,7,0)
   RELEASED DATE/TIME field (#17)
"^DD",727.81,727.81,32,23,8,0)
   
"^DD",727.81,727.81,32,23,9,0)
or
"^DD",727.81,727.81,32,23,10,0)
   
"^DD",727.81,727.81,32,23,11,0)
PRESCRIPTION file (#52); PARTIAL DATE sub-file (#52.2);
"^DD",727.81,727.81,32,23,12,0)
   RELEASED DATE/TIME field (#8)
"^DD",727.81,727.81,32,23,13,0)
  
"^DD",727.81,727.81,32,23,14,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.81,727.81,32,23,15,0)
cannot be determined, then "000300" is used as default.
"^DD",727.81,727.81,32,"DT")
2970924
"^DD",727.81,727.81,33,0)
RACE^F^^0;34^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,33,.1)
Race
"^DD",727.81,727.81,33,3)
Enter race ABBREVIATION for this patient.
"^DD",727.81,727.81,33,21,0)
^^1^1^2961029^^^^
"^DD",727.81,727.81,33,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.81,727.81,33,23,0)
^^3^3^2961029^^^
"^DD",727.81,727.81,33,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.81,727.81,33,23,2,0)
RACE data is shown as the ABBREVIATION field (2) of the RACE file (#10)
"^DD",727.81,727.81,33,23,3,0)
entry pointed to by the RACE field (.06) in the PATIENT file (#2).
"^DD",727.81,727.81,33,"DT")
2961015
"^DD",727.81,727.81,34,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.81,727.81,34,3)
Answer must be 1-10 characters in length.
"^DD",727.81,727.81,34,21,0)
^^1^1^2990504^
"^DD",727.81,727.81,34,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.81,727.81,34,23,0)
^^2^2^2990504^
"^DD",727.81,727.81,34,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.81,727.81,34,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.81,727.81,34,"DT")
2990504
"^DD",727.81,727.81,35,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.81,727.81,35,3)
Answer must be 4-10 characters in length.
"^DD",727.81,727.81,35,21,0)
^^1^1^2990506^
"^DD",727.81,727.81,35,21,1,0)
The DSS Department Code for the Pharmacy product.
"^DD",727.81,727.81,35,23,0)
^^2^2^2990506^
"^DD",727.81,727.81,35,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.81,727.81,35,23,2,0)
Field is set to null.
"^DD",727.81,727.81,35,"DT")
2990506
"^DD",727.81,727.81,36,0)
SEX^S^M:MALE;F:FEMALE;^1;3^Q
"^DD",727.81,727.81,36,21,0)
^^1^1^2980708^
"^DD",727.81,727.81,36,21,1,0)
The sex of the patient.  M(ale) or F(emale).
"^DD",727.81,727.81,36,23,0)
^^2^2^2980708^
"^DD",727.81,727.81,36,23,1,0)
Data is taken from the SEX field (#.02) of the patient's record in
"^DD",727.81,727.81,36,23,2,0)
the PATIENT file (#2).
"^DD",727.81,727.81,36,"DT")
2980708
"^DD",727.81,727.81,37,0)
ZIP+4^F^^1;4^K:$L(X)>10!($L(X)<5) X
"^DD",727.81,727.81,37,3)
Answer must be 5-10 characters in length.
"^DD",727.81,727.81,37,21,0)
^^1^1^2980708^
"^DD",727.81,727.81,37,21,1,0)
The patient's zipcode with optional 4-digit extension.
"^DD",727.81,727.81,37,23,0)
^^3^3^2980708^
"^DD",727.81,727.81,37,23,1,0)
The patient's zipcode with optional 4-digit extension as found in
"^DD",727.81,727.81,37,23,2,0)
the ZIP+4 field (#.1112) of the patient's record in the PATIENT
"^DD",727.81,727.81,37,23,3,0)
file (#2).
"^DD",727.81,727.81,37,"DT")
2980708
"^DD",727.81,727.81,38,0)
PROVIDER NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.81,727.81,38,3)
Answer must be 1-8 characters in length.
"^DD",727.81,727.81,38,21,0)
^^1^1^2990506^
"^DD",727.81,727.81,38,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.81,727.81,38,23,0)
^^2^2^2990506^
"^DD",727.81,727.81,38,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.81,727.81,38,23,2,0)
field will hold the Provider NPI.
"^DD",727.81,727.81,38,"DT")
2990506
"^DD",727.81,727.81,39,0)
PC PROVIDER NPI^F^^1;6^K:$L(X)>8!($L(X)<1) X
"^DD",727.81,727.81,39,3)
Answer must be 1-8 characters in length.
"^DD",727.81,727.81,39,21,0)
^^1^1^2990506^
"^DD",727.81,727.81,39,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.81,727.81,39,23,0)
^^4^4^2990506^
"^DD",727.81,727.81,39,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.81,727.81,39,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.81,727.81,39,23,3,0)
   
"^DD",727.81,727.81,39,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.81,727.81,39,"DT")
2990506
"^DD",727.81,727.81,40,0)
STATE^F^^1;7^K:$L(X)>2!($L(X)<2) X
"^DD",727.81,727.81,40,3)
Answer must be 2 characters in length.
"^DD",727.81,727.81,40,21,0)
^^1^1^2980713^^
"^DD",727.81,727.81,40,21,1,0)
The state in which the patient resides.
"^DD",727.81,727.81,40,23,0)
^^4^4^2980713^^
"^DD",727.81,727.81,40,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.81,727.81,40,23,2,0)
in the ADMISSION EXTRACT file (#727.802), data is derived from the STATE
"^DD",727.81,727.81,40,23,3,0)
field (#.115) in the PATIENT file (#2) which points to the STATE file (#5).
"^DD",727.81,727.81,40,23,4,0)
From the STATE file record, use the two character VA STATE CODE field (#2).
"^DD",727.81,727.81,40,"DT")
2980708
"^DD",727.81,727.81,41,0)
COUNTY^F^^1;8^K:$L(X)>3!($L(X)<3) X
"^DD",727.81,727.81,41,3)
Answer must be 3 characters in length.
"^DD",727.81,727.81,41,21,0)
^^1^1^2980713^^
"^DD",727.81,727.81,41,21,1,0)
The county in which the patient resides.
"^DD",727.81,727.81,41,23,0)
^^9^9^2980713^^
"^DD",727.81,727.81,41,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.81,727.81,41,23,2,0)
in the ADMISSION EXTRACT file (#727.802), data is taken from the
"^DD",727.81,727.81,41,23,3,0)
COUNTY field (#.117) in the PATIENT file (#2) which points to a subfile
"^DD",727.81,727.81,41,23,4,0)
record in the COUNTY multiple field (#3) of the STATE file (#5).  A pointer 
"^DD",727.81,727.81,41,23,5,0)
to the STATE file (#5) is obtained from the STATE field (#.115) of the 
"^DD",727.81,727.81,41,23,6,0)
file #2 record.
"^DD",727.81,727.81,41,23,7,0)
  
"^DD",727.81,727.81,41,23,8,0)
From the subfile record of field #3 of file #5, use the value of the 
"^DD",727.81,727.81,41,23,9,0)
VA COUNTY CODE field (#2).
"^DD",727.81,727.81,41,"DT")
2980708
"^DD",727.81,727.81,42,0)
PC PROVIDER PERSON CLASS^F^^1;9^K:$L(X)>7!($L(X)<7) X
"^DD",727.81,727.81,42,3)
Answer must be 7 characters in length.
"^DD",727.81,727.81,42,21,0)
^^2^2^2981026^
"^DD",727.81,727.81,42,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.81,727.81,42,21,2,0)
associated with this record.
"^DD",727.81,727.81,42,23,0)
^^6^6^2981026^
"^DD",727.81,727.81,42,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.81,727.81,42,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.81,727.81,42,23,3,0)
extract record.
"^DD",727.81,727.81,42,23,4,0)
  
"^DD",727.81,727.81,42,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.81,727.81,42,23,6,0)
7 characters in length.
"^DD",727.81,727.81,42,"DT")
2981026
"^DD",727.81,727.81,43,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;10^Q
"^DD",727.81,727.81,43,3)

"^DD",727.81,727.81,43,21,0)
^^1^1^2990505^
"^DD",727.81,727.81,43,21,1,0)
The patient's POW status. May be set to Y(es), N(o), or U(nknown).
"^DD",727.81,727.81,43,23,0)
^^2^2^2990505^^
"^DD",727.81,727.81,43,23,1,0)
PATIENT file (#2); POW STATUS INDICATED? field (#.525).
"^DD",727.81,727.81,43,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.81,727.81,43,"DT")
2990505
"^DD",727.81,727.81,44,0)
POW LOCATION^P22'^DIC(22,^1;11^Q
"^DD",727.81,727.81,44,21,0)
^^9^9^2990505^
"^DD",727.81,727.81,44,21,1,0)
If POW Status is indicated, then this is the POW confinement
"^DD",727.81,727.81,44,21,2,0)
location/period. 
"^DD",727.81,727.81,44,21,3,0)
 
"^DD",727.81,727.81,44,21,4,0)
 1      WORLD WAR I
"^DD",727.81,727.81,44,21,5,0)
 2      WORLD WAR II - EUROPE
"^DD",727.81,727.81,44,21,6,0)
 3      WORLD WAR II - PACIFIC
"^DD",727.81,727.81,44,21,7,0)
 4      KOREAN
"^DD",727.81,727.81,44,21,8,0)
 5      VIETNAM
"^DD",727.81,727.81,44,21,9,0)
 6      OTHER
"^DD",727.81,727.81,44,23,0)
^^3^3^2990505^^
"^DD",727.81,727.81,44,23,1,0)
PATIENT file (#2); POW CONFINEMENT LOCATION field (#.526).  This is a
"^DD",727.81,727.81,44,23,2,0)
pointer value to the POW PERIOD file (#22).
"^DD",727.81,727.81,44,23,3,0)
The location indicator is returned by SVC^VADPT.
"^DD",727.81,727.81,44,"DT")
2990505
"^DD",727.81,727.81,45,0)
RADIATION STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;12^Q
"^DD",727.81,727.81,45,21,0)
^^1^1^2990505^
"^DD",727.81,727.81,45,21,1,0)
The patient's Ionizing Radiation status. (Y/N/U)
"^DD",727.81,727.81,45,23,0)
^^2^2^2990505^
"^DD",727.81,727.81,45,23,1,0)
PATIENT file (#2); RADIATION EXPOSURE INDICATED? field (#.32103).
"^DD",727.81,727.81,45,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.81,727.81,45,"DT")
2990505
"^DD",727.81,727.81,46,0)
AGENT ORANGE STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;13^Q
"^DD",727.81,727.81,46,21,0)
^^1^1^2990505^^
"^DD",727.81,727.81,46,21,1,0)
The patient's Agent Orange status.
"^DD",727.81,727.81,46,23,0)
^^2^2^2990505^^
"^DD",727.81,727.81,46,23,1,0)
PATIENT file (#2); AGENT ORANGE EXPOS. INDICATED? field (#.32102).
"^DD",727.81,727.81,46,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.81,727.81,46,"DT")
2990505
"^DD",727.81,727.81,47,0)
SHARING AGREEMENT PAYOR^F^^1;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.81,727.81,47,3)
Answer must be 1 character in length.
"^DD",727.81,727.81,47,21,0)
^^1^1^2990505^
"^DD",727.81,727.81,47,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.81,727.81,47,23,0)
^^15^15^2990505^
"^DD",727.81,727.81,47,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.81,727.81,47,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.81,727.81,47,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.81,727.81,47,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.81,727.81,47,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.81,727.81,47,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.81,727.81,47,23,7,0)
  
"^DD",727.81,727.81,47,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.81,727.81,47,23,9,0)
field is obtained by the following conversion:
"^DD",727.81,727.81,47,23,10,0)
SHARING AGREEMENT = A
"^DD",727.81,727.81,47,23,11,0)
TRICARE = B
"^DD",727.81,727.81,47,23,12,0)
CAT C = C
"^DD",727.81,727.81,47,23,13,0)
CATEGORY C = C
"^DD",727.81,727.81,47,23,14,0)
CHAMPVA = D
"^DD",727.81,727.81,47,23,15,0)
CHAMPUS = E
"^DD",727.81,727.81,47,"DT")
2990505
"^DD",727.81,727.81,48,0)
SHARING AGREEMENT INSURANCE^F^^1;15^K:$L(X)>11!($L(X)<1) X
"^DD",727.81,727.81,48,3)
Answer must be 1-11 characters in length.
"^DD",727.81,727.81,48,21,0)
^^2^2^2990505^^
"^DD",727.81,727.81,48,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.81,727.81,48,21,2,0)
sharing agreement.
"^DD",727.81,727.81,48,23,0)
^^5^5^2990505^^
"^DD",727.81,727.81,48,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.81,727.81,48,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.81,727.81,48,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.81,727.81,48,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.81,727.81,48,23,5,0)
The data is stored as free text.
"^DD",727.81,727.81,48,"DT")
2990505
"^DD",727.81,727.81,49,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^1;16^Q
"^DD",727.81,727.81,49,21,0)
^^5^5^2990505^
"^DD",727.81,727.81,49,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.81,727.81,49,21,2,0)
Possible status values are:
"^DD",727.81,727.81,49,21,3,0)
Y = Yes, screened reports MST
"^DD",727.81,727.81,49,21,4,0)
N = Screened, does not report MST
"^DD",727.81,727.81,49,21,5,0)
D = Screened, declines to answer
"^DD",727.81,727.81,49,23,0)
^^5^5^2990505^
"^DD",727.81,727.81,49,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.81,727.81,49,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.81,727.81,49,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.81,727.81,49,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.81,727.81,49,23,5,0)
field and the date in the DAY field.
"^DD",727.81,727.81,49,"DT")
2990505
"^DD",727.81,727.81,50,0)
ENROLLMENT LOCATION^F^^1;17^K:$L(X)>5!($L(X)<3) X
"^DD",727.81,727.81,50,3)
Answer must be 3-5 characters in length.
"^DD",727.81,727.81,50,21,0)
^^2^2^2990505^
"^DD",727.81,727.81,50,21,1,0)
The facility that the patient chooses to designate as his
"^DD",727.81,727.81,50,21,2,0)
preferred location for care.
"^DD",727.81,727.81,50,23,0)
^^5^5^2990505^
"^DD",727.81,727.81,50,23,1,0)
The PREFERRED FACILITY field (# 27.02) of the PATIENT file (#2)
"^DD",727.81,727.81,50,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.81,727.81,50,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.81,727.81,50,23,4,0)
(# 27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.81,727.81,50,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.81,727.81,50,"DT")
2990505
"^DD",727.81,727.81,51,0)
ASSOCIATE PC PROVIDER^F^^1;18^K:$L(X)>11!($L(X)<2) X
"^DD",727.81,727.81,51,3)
Answer must be 2-11 characters in length.
"^DD",727.81,727.81,51,21,0)
^^4^4^2990505^
"^DD",727.81,727.81,51,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.81,727.81,51,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.81,727.81,51,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.81,727.81,51,21,4,0)
character 2.
"^DD",727.81,727.81,51,23,0)
^^2^2^2990505^
"^DD",727.81,727.81,51,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.81,727.81,51,23,2,0)
the PCMM application.
"^DD",727.81,727.81,51,"DT")
2990505
"^DD",727.81,727.81,52,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;19^K:$L(X)>7!($L(X)<7) X
"^DD",727.81,727.81,52,3)
Answer must be 7 characters in length.
"^DD",727.81,727.81,52,21,0)
^^4^4^2990505^
"^DD",727.81,727.81,52,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.81,727.81,52,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.81,727.81,52,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.81,727.81,52,21,4,0)
exactly 7 characters in length. 
"^DD",727.81,727.81,52,23,0)
^^3^3^2990505^
"^DD",727.81,727.81,52,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.81,727.81,52,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.81,727.81,52,23,3,0)
PERS is the IEN from file #200.
"^DD",727.81,727.81,52,"DT")
2990505
"^DD",727.81,727.81,53,0)
ASSOCIATE PC PROVIDER NPI^F^^1;20^K:$L(X)>8!($L(X)<1) X
"^DD",727.81,727.81,53,3)
Answer must be 1-8 characters in length.
"^DD",727.81,727.81,53,21,0)
^^1^1^2990506^
"^DD",727.81,727.81,53,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.81,727.81,53,23,0)
^^4^4^2990506^
"^DD",727.81,727.81,53,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.81,727.81,53,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.81,727.81,53,23,3,0)
   
"^DD",727.81,727.81,53,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.81,727.81,53,"DT")
2990506
"^DD",727.811,727.811,0)
FIELD^^41^45
"^DD",727.811,727.811,0,"DIK")
ECX811
"^DD",727.811,727.811,0,"DIKOLD")
ECX811
"^DD",727.811,727.811,0,"DT")
2990506
"^DD",727.811,727.811,0,"IX","AC",727.811,2)

"^DD",727.811,727.811,0,"NM","SURGERY EXTRACT")

"^DD",727.811,727.811,0,"VRPK")
DSS EXTRACTS
"^DD",727.811,727.811,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.811,727.811,.01,.1)
Sequence Number
"^DD",727.811,727.811,.01,1,0)
^.1^^0
"^DD",727.811,727.811,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.811,727.811,.01,21,0)
^^1^1^2961002^^^^
"^DD",727.811,727.811,.01,21,1,0)
The record number for this extract entry.
"^DD",727.811,727.811,.01,23,0)
^^1^1^2961002^^^
"^DD",727.811,727.811,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.811,727.811,.01,"DT")
2980812
"^DD",727.811,727.811,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.811,727.811,1,.1)
Year/Month
"^DD",727.811,727.811,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.811,727.811,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.811,727.811,1,3)
Answer must be 6 characters in length.
"^DD",727.811,727.811,1,21,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,1,21,1,0)
A six character string representing the year and the month
"^DD",727.811,727.811,1,21,2,0)
for which this extract was performed.
"^DD",727.811,727.811,1,23,0)
^^1^1^2970912^^^^
"^DD",727.811,727.811,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.811,727.811,1,"DT")
2970924
"^DD",727.811,727.811,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.811,727.811,2,.1)
Extract Number
"^DD",727.811,727.811,2,1,0)
^.1
"^DD",727.811,727.811,2,1,1,0)
727.811^AC
"^DD",727.811,727.811,2,1,1,1)
S ^ECX(727.811,"AC",$E(X,1,30),DA)=""
"^DD",727.811,727.811,2,1,1,2)
K ^ECX(727.811,"AC",$E(X,1,30),DA)
"^DD",727.811,727.811,2,1,1,3)
DO NOT DELETE.
"^DD",727.811,727.811,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.811,727.811,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.811,727.811,2,1,1,"%D",2,0)
in this file.
"^DD",727.811,727.811,2,1,1,"DT")
2910802
"^DD",727.811,727.811,2,3)
Enter the extract number for this extract.
"^DD",727.811,727.811,2,21,0)
^^2^2^2961002^^^^
"^DD",727.811,727.811,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.811,727.811,2,21,2,0)
extract.
"^DD",727.811,727.811,2,23,0)
^^2^2^2961002^^^^
"^DD",727.811,727.811,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.811,727.811,2,23,2,0)
pick up the header for the mail message.
"^DD",727.811,727.811,2,"DT")
2961002
"^DD",727.811,727.811,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.811,727.811,3,.1)
Facility
"^DD",727.811,727.811,3,3)
Answer must be 1-7 characters in length.
"^DD",727.811,727.811,3,21,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,3,21,1,0)
Identifies the Surgery site/division for this extract record.
"^DD",727.811,727.811,3,21,2,0)
It represents the station number from the INSTITUTION file (#4).
"^DD",727.811,727.811,3,23,0)
^^7^7^2970912^^^^
"^DD",727.811,727.811,3,23,1,0)
If there is data in the DIVISION field (50) of the SURGERY file (#130) 
"^DD",727.811,727.811,3,23,2,0)
for the extract record, this pointer to the INSTITUTION file (#4) is 
"^DD",727.811,727.811,3,23,3,0)
used. Otherwise, FACILITY is derived as follows. Using the NAME field 
"^DD",727.811,727.811,3,23,4,0)
(#.01) pointer from the DSS EXTRACTS file (#728), FACILITY is derived 
"^DD",727.811,727.811,3,23,5,0)
from the STATION NUMBER field (#99) for that pointer number in the 
"^DD",727.811,727.811,3,23,6,0)
INSTITUTION file (#4). An indicator of the division where this event 
"^DD",727.811,727.811,3,23,7,0)
happened.
"^DD",727.811,727.811,3,"DT")
2970911
"^DD",727.811,727.811,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.811,727.811,4,.1)
Patient No. - DFN
"^DD",727.811,727.811,4,3)
Enter the name of the patient for this extract record.
"^DD",727.811,727.811,4,21,0)
^^1^1^2990504^^^^
"^DD",727.811,727.811,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.811,727.811,4,23,0)
^^3^3^2990504^^^
"^DD",727.811,727.811,4,23,1,0)
Derived from the PATIENT (.01) field in the SURGERY file (#130). 
"^DD",727.811,727.811,4,23,2,0)
PATIENT NO. - DFN is a pointer to the NAME field (.01) of the PATIENT 
"^DD",727.811,727.811,4,23,3,0)
file (#2). This data represents the patient DFN.
"^DD",727.811,727.811,4,"DT")
2961018
"^DD",727.811,727.811,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.811,727.811,5,.1)
Social Security Number
"^DD",727.811,727.811,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.811,727.811,5,21,0)
^^4^4^2990504^^^^
"^DD",727.811,727.811,5,21,1,0)
The patient's social security number.
"^DD",727.811,727.811,5,21,2,0)
 
"^DD",727.811,727.811,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.811,727.811,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.811,727.811,5,23,0)
^^6^6^2990504^^^
"^DD",727.811,727.811,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.811,727.811,5,23,2,0)
in the SURGERY EXTRACT file (#727.811), SSN data is derived from the
"^DD",727.811,727.811,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.811,727.811,5,23,4,0)
 
"^DD",727.811,727.811,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.811,727.811,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.811,727.811,5,"DT")
2961002
"^DD",727.811,727.811,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.811,727.811,6,.1)
Name
"^DD",727.811,727.811,6,3)
Your answer must be 4 characters in length.
"^DD",727.811,727.811,6,21,0)
^^1^1^2961021^^^^
"^DD",727.811,727.811,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.811,727.811,6,23,0)
^^4^4^2961021^^^
"^DD",727.811,727.811,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.811,727.811,6,23,2,0)
in the SURGERY EXTRACT file (#727.811), NAME data is derived from the NAME
"^DD",727.811,727.811,6,23,3,0)
field (.01) in the PATIENT file (#2). The first four characters of the
"^DD",727.811,727.811,6,23,4,0)
first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.811,727.811,6,"DT")
2961002
"^DD",727.811,727.811,7,0)
IN OUT PATIENT INDICATOR^F^^0;8^K:$L(X)>3!($L(X)<1) X
"^DD",727.811,727.811,7,.1)
In Out Patient Indicator
"^DD",727.811,727.811,7,3)
Answer must be 1-3 characters in length.
"^DD",727.811,727.811,7,21,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for
"^DD",727.811,727.811,7,21,2,0)
this extract.
"^DD",727.811,727.811,7,23,0)
^^4^4^2970912^^^^
"^DD",727.811,727.811,7,23,1,0)
Derived from the IN/OUT-PATIENT STATUS field (.011) in the SURGERY file 
"^DD",727.811,727.811,7,23,2,0)
(#130) for the extract record. If IN/OUT-PATIENT STATUS is an I, this 
"^DD",727.811,727.811,7,23,3,0)
field is set to 3 indicating inpatient status. Otherwise it is set to 1 
"^DD",727.811,727.811,7,23,4,0)
indicating outpatient status.
"^DD",727.811,727.811,7,"DT")
2970911
"^DD",727.811,727.811,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.811,727.811,8,.1)
Day
"^DD",727.811,727.811,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.811,727.811,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.811,727.811,8,3)
Answer must be 8 characters in length.
"^DD",727.811,727.811,8,21,0)
^^2^2^2980126^^^^
"^DD",727.811,727.811,8,21,1,0)
This 8-character string represents the date on which the procedure
"^DD",727.811,727.811,8,21,2,0)
associated with this Surgery extract record was performed.
"^DD",727.811,727.811,8,23,0)
^^9^9^2980126^^^^
"^DD",727.811,727.811,8,23,1,0)
Date source:
"^DD",727.811,727.811,8,23,2,0)
 
"^DD",727.811,727.811,8,23,3,0)
SURGERY file (#130); DATE OF OPERATION field (#.09)
"^DD",727.811,727.811,8,23,4,0)
 
"^DD",727.811,727.811,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.811,727.811,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.811,727.811,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.811,727.811,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.811,727.811,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.811,727.811,8,"DT")
2970924
"^DD",727.811,727.811,9,0)
CASE NUMBER^F^^0;10^K:$L(X)>12!($L(X)<1) X
"^DD",727.811,727.811,9,.1)
Case Number
"^DD",727.811,727.811,9,3)
Answer must be 1-12 characters in length.
"^DD",727.811,727.811,9,21,0)
^^1^1^2970912^^^^
"^DD",727.811,727.811,9,21,1,0)
This character string represents in IEN in the SURGERY file (#130).
"^DD",727.811,727.811,9,23,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,9,23,1,0)
CASE NUMBER is the internal entry number (IEN) of the entry from the 
"^DD",727.811,727.811,9,23,2,0)
SURGERY file (#130) for this extract record. 
"^DD",727.811,727.811,9,"DT")
2970911
"^DD",727.811,727.811,10,0)
SURGICAL SPECIALTY^F^^0;11^K:$L(X)>3!($L(X)<3)!'(X?3N) X
"^DD",727.811,727.811,10,.1)
Surgical Specialty
"^DD",727.811,727.811,10,3)
Your answer must be 3 characters in length.
"^DD",727.811,727.811,10,21,0)
^^1^1^2970729^^^^
"^DD",727.811,727.811,10,21,1,0)
The surgical specialty credited for doing this operative procedure.
"^DD",727.811,727.811,10,23,0)
^^6^6^2970729^^^^
"^DD",727.811,727.811,10,23,1,0)
Derived from the NATIONAL SURGICAL SPECIALTY field (1) in the LOCAL 
"^DD",727.811,727.811,10,23,2,0)
SURGICAL SPECIALTY file (#137.45) for the pointer value found in the 
"^DD",727.811,727.811,10,23,3,0)
SURGERY SPECIALTY field (.04) of the SURGERY file (#130). SURGICAL 
"^DD",727.811,727.811,10,23,4,0)
SPECIALTY is the three digit CODE field (.01) from the SURGICAL 
"^DD",727.811,727.811,10,23,5,0)
SPECIALTY file (#45.3). If no surgical specialty is found, this field 
"^DD",727.811,727.811,10,23,6,0)
is sent as 999.
"^DD",727.811,727.811,10,"DT")
2961002
"^DD",727.811,727.811,11,0)
OR ROOM NUMBER^F^^0;12^K:$L(X)>6!($L(X)<1) X
"^DD",727.811,727.811,11,.1)
OR Room Number
"^DD",727.811,727.811,11,3)
Answer must be 1-6 characters in length.
"^DD",727.811,727.811,11,21,0)
^^3^3^2970912^^^^
"^DD",727.811,727.811,11,21,1,0)
This character string represents an IEN to the HOSPITAL LOCATION
"^DD",727.811,727.811,11,21,2,0)
file (#44) for the operating room where the principal operation
"^DD",727.811,727.811,11,21,3,0)
was performed.
"^DD",727.811,727.811,11,23,0)
^^5^5^2970912^^^^
"^DD",727.811,727.811,11,23,1,0)
Derived from the OPERATING ROOM field (#.02) in the SURGERY file (#130). 
"^DD",727.811,727.811,11,23,2,0)
Field #.02 points to the OPERATING ROOM file (#131.7), which in turn is 
"^DD",727.811,727.811,11,23,3,0)
a pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.811,727.811,11,23,4,0)
 
"^DD",727.811,727.811,11,23,5,0)
The character string stored in this field represents an IEN in file #44.
"^DD",727.811,727.811,11,"DT")
2970911
"^DD",727.811,727.811,12,0)
SURGEON^F^^0;13^K:$L(X)>11!($L(X)<1) X
"^DD",727.811,727.811,12,.1)
Surgeon
"^DD",727.811,727.811,12,3)
Enter person performing the major portion of the principal operative procedure.
"^DD",727.811,727.811,12,21,0)
^^2^2^2980608^^^^
"^DD",727.811,727.811,12,21,1,0)
The person performing the major portion of the principal operative
"^DD",727.811,727.811,12,21,2,0)
procedure.
"^DD",727.811,727.811,12,23,0)
^^5^5^2980608^^^^
"^DD",727.811,727.811,12,23,1,0)
Derived from the SURGEON field (.14) in the SURGERY file (#130) for 
"^DD",727.811,727.811,12,23,2,0)
the surgical case. If the case is a non-OR surgical procedure, the 
"^DD",727.811,727.811,12,23,3,0)
PROVIDER field (123) from the SURGERY file (#130) is used. In either 
"^DD",727.811,727.811,12,23,4,0)
occurrence, it is a pointer to the NEW PERSON file (#200). This data 
"^DD",727.811,727.811,12,23,5,0)
is stored as "2"_pointer value.
"^DD",727.811,727.811,12,"DT")
2961018
"^DD",727.811,727.811,13,0)
ATTENDING SURGEON^F^^0;14^K:$L(X)>11!($L(X)<1) X
"^DD",727.811,727.811,13,.1)
Attending Surgeon
"^DD",727.811,727.811,13,3)
The attending staff surgeon responsible for this case.
"^DD",727.811,727.811,13,21,0)
^^1^1^2980608^^^^
"^DD",727.811,727.811,13,21,1,0)
The attending staff surgeon responsible for this case.
"^DD",727.811,727.811,13,23,0)
^^5^5^2980608^^^^
"^DD",727.811,727.811,13,23,1,0)
Derived from the ATTEND SURG field (.164) in the SURGERY file (#130) 
"^DD",727.811,727.811,13,23,2,0)
for the surgical case. If the case is a non-OR surgical procedure, the 
"^DD",727.811,727.811,13,23,3,0)
ATTEND PROVIDER field (124) from the SURGERY file (#130) is used. In 
"^DD",727.811,727.811,13,23,4,0)
either occurrence, it is a pointer to the NEW PERSON file (#200). This 
"^DD",727.811,727.811,13,23,5,0)
data is stored as "2"_pointer value.
"^DD",727.811,727.811,13,"DT")
2961018
"^DD",727.811,727.811,14,0)
ANESTHESIA SUPERVISOR^F^^0;15^K:$L(X)>11!($L(X)<1) X
"^DD",727.811,727.811,14,.1)
Anesthesia Supervisor
"^DD",727.811,727.811,14,3)
Enter the anesthesiology staff supervisor.
"^DD",727.811,727.811,14,21,0)
^^1^1^2980608^^^^
"^DD",727.811,727.811,14,21,1,0)
This is the anesthesiology staff supervisor.
"^DD",727.811,727.811,14,23,0)
^^3^3^2980608^^^^
"^DD",727.811,727.811,14,23,1,0)
Derived from the ANESTHESIOLOGIST SUPVR field (.34) in the SURGERY 
"^DD",727.811,727.811,14,23,2,0)
file (#130) for the surgical case. This field is a pointer to the NEW 
"^DD",727.811,727.811,14,23,3,0)
PERSON file (#200) and is stored as "2"_pointer value.
"^DD",727.811,727.811,14,"DT")
2961018
"^DD",727.811,727.811,15,0)
ANESTHESIA TECHNIQUE^S^S:SPINAL;E:EPIDURAL;O:OTHER;G:GENERAL;M:MONITORED ANESTHESIA CARE;L:LOCAL;^0;16^Q
"^DD",727.811,727.811,15,.1)
Anesthesia Technique
"^DD",727.811,727.811,15,3)
Enter the anesthesia technique used for this surgical case.
"^DD",727.811,727.811,15,21,0)
^^2^2^2970729^^^^
"^DD",727.811,727.811,15,21,1,0)
The code corresponding to the type of anesthesia technique used 
"^DD",727.811,727.811,15,21,2,0)
during this case.
"^DD",727.811,727.811,15,23,0)
^^3^3^2970729^^^^
"^DD",727.811,727.811,15,23,1,0)
Derived from the ANESTHESIA TECHNIQUE field (.01) within the ANESTHESIA 
"^DD",727.811,727.811,15,23,2,0)
TECHNIQUE multiple (.37) of the SURGERY file (#130). This anesthesia 
"^DD",727.811,727.811,15,23,3,0)
technique is the principal technique.
"^DD",727.811,727.811,15,"DT")
2961002
"^DD",727.811,727.811,16,0)
PRIMARY/SECONDARY/PROSTHETICS^F^^0;17^K:$L(X)>1!($L(X)<1) X
"^DD",727.811,727.811,16,.1)
Primary/Secondary/Prosthetics
"^DD",727.811,727.811,16,3)
Your answer must be 1 character in length.
"^DD",727.811,727.811,16,21,0)
^^1^1^2970729^^^^
"^DD",727.811,727.811,16,21,1,0)
The indicator if this is a primary, secondary or prostheses.
"^DD",727.811,727.811,16,23,0)
^^4^4^2970729^^^^
"^DD",727.811,727.811,16,23,1,0)
Data is P for primary when the extract record is for a principal 
"^DD",727.811,727.811,16,23,2,0)
procedure. It is S for secondary when the extract record is for other 
"^DD",727.811,727.811,16,23,3,0)
procedure. It is I for implants (prostheses) when the extract record is 
"^DD",727.811,727.811,16,23,4,0)
for a prosthesis item.
"^DD",727.811,727.811,16,"DT")
2961002
"^DD",727.811,727.811,17,0)
CPT^F^^0;18^K:$L(X)>8!($L(X)<5) X
"^DD",727.811,727.811,17,.1)
Current Procedural Terminology
"^DD",727.811,727.811,17,3)
Enter CPT Code, "-", and 2 character modifier.
"^DD",727.811,727.811,17,21,0)
^^2^2^2990505^^^^
"^DD",727.811,727.811,17,21,1,0)
The Current Procedural Terminology (CPT) code for the operative 
"^DD",727.811,727.811,17,21,2,0)
procedure.
"^DD",727.811,727.811,17,23,0)
^^6^6^2990505^^^^
"^DD",727.811,727.811,17,23,1,0)
For the principal procedure, CPT is derived from the CPT CODE field 
"^DD",727.811,727.811,17,23,2,0)
(.01) in the CPT file (#81) as defined by the PRINCIPAL PROCEDURE CODE 
"^DD",727.811,727.811,17,23,3,0)
field (27) in the SURGERY file (#130).
"^DD",727.811,727.811,17,23,4,0)
If the extract record is for a secondary procedure, CPT is derived 
"^DD",727.811,727.811,17,23,5,0)
from the OTHER PROCEDURE CPT CODE field (3) within the OTHER PROCEDURES 
"^DD",727.811,727.811,17,23,6,0)
multiple (.42) in the SURGERY file (#130).
"^DD",727.811,727.811,17,"DT")
2961018
"^DD",727.811,727.811,19,0)
PATIENT TIME^F^^0;20^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,19,.1)
Patient Time
"^DD",727.811,727.811,19,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.811,727.811,19,21,0)
^^1^1^2990510^^^^
"^DD",727.811,727.811,19,21,1,0)
The time, in 15 minute increments, the patient was in the OR.
"^DD",727.811,727.811,19,23,0)
^^2^2^2990510^^^^
"^DD",727.811,727.811,19,23,1,0)
Derived from the TIME PAT OUT OR field (.232) minus the TIME PAT IN OR 
"^DD",727.811,727.811,19,23,2,0)
field (.205) in the SURGERY file (#130).
"^DD",727.811,727.811,19,"DT")
2961002
"^DD",727.811,727.811,20,0)
OPERATION TIME^F^^0;21^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,20,.1)
Operation Time
"^DD",727.811,727.811,20,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.811,727.811,20,21,0)
^^1^1^2990510^^^^
"^DD",727.811,727.811,20,21,1,0)
The time, in 15 minute increments, of the principal operative procedure.
"^DD",727.811,727.811,20,23,0)
^^5^5^2990510^^^^
"^DD",727.811,727.811,20,23,1,0)
Derived from the TIME OPERATION ENDS field (.23) minus the TIME OPERATION 
"^DD",727.811,727.811,20,23,2,0)
BEGAN field (.22) in the SURGERY file (#130) for the surgical case. If the 
"^DD",727.811,727.811,20,23,3,0)
case is a non-OR surgical precede, OPERATION TIME is derived from the TIME 
"^DD",727.811,727.811,20,23,4,0)
PROCEDURE ENDED field (122) minus the TIME PROCEDURE BEGAN field (121) in 
"^DD",727.811,727.811,20,23,5,0)
the SURGERY file (#130).
"^DD",727.811,727.811,20,"DT")
2961002
"^DD",727.811,727.811,21,0)
ANESTHESIA TIME^F^^0;22^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,21,.1)
Anesthesia Time
"^DD",727.811,727.811,21,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.811,727.811,21,21,0)
^^1^1^2961002^^^
"^DD",727.811,727.811,21,21,1,0)
The time, in 15 minute increments, of the anesthesia care administered.
"^DD",727.811,727.811,21,23,0)
^^2^2^2961002^^^
"^DD",727.811,727.811,21,23,1,0)
Derived from the ANES CARE END TIME field (.24) minus the ANES CARE START 
"^DD",727.811,727.811,21,23,2,0)
TIME field (.21) in the SURGERY file (#130).
"^DD",727.811,727.811,21,"DT")
2961002
"^DD",727.811,727.811,22,0)
PROSTHESIS^F^^0;23^K:$L(X)>10!($L(X)<1) X
"^DD",727.811,727.811,22,.1)
Prosthesis
"^DD",727.811,727.811,22,3)
Answer must be 1-10 characters in length.
"^DD",727.811,727.811,22,21,0)
^^2^2^2990510^^^^
"^DD",727.811,727.811,22,21,1,0)
The character string in this field represents an IEN in the 
"^DD",727.811,727.811,22,21,2,0)
PROSTHESIS file (#130.9).
"^DD",727.811,727.811,22,23,0)
^^6^6^2990510^^^
"^DD",727.811,727.811,22,23,1,0)
Derived from the PROSTHESIS ITEM field (#.01) within the PROSTHESIS 
"^DD",727.811,727.811,22,23,2,0)
INSTALLED multiple (#.47) in the SURGERY file (#130). PROSTHESIS ITEM  
"^DD",727.811,727.811,22,23,3,0)
is a pointer to the PROSTHESIS file (#131.9).
"^DD",727.811,727.811,22,23,4,0)
 
"^DD",727.811,727.811,22,23,5,0)
The character string in this field represents an IEN in the PROSTHESIS
"^DD",727.811,727.811,22,23,6,0)
file (#130.9).
"^DD",727.811,727.811,22,"DT")
2970911
"^DD",727.811,727.811,23,0)
QUANTITY^NJ2,0^^0;24^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.811,727.811,23,.1)
Quantity
"^DD",727.811,727.811,23,3)
Type a Number between 1 and 99, 0 Decimal Digits
"^DD",727.811,727.811,23,21,0)
^^1^1^2970912^^^^
"^DD",727.811,727.811,23,21,1,0)
The quantity of the prosthetic device used for this operative procedure.
"^DD",727.811,727.811,23,23,0)
^^3^3^2970912^^^^
"^DD",727.811,727.811,23,23,1,0)
Derived from the QUANTITY field (#7) within the PROSTHESIS INSTALLED 
"^DD",727.811,727.811,23,23,2,0)
multiple (#.47) in the SURGERY file (#130) for the PROSTHESIS ITEM 
"^DD",727.811,727.811,23,23,3,0)
referred to in the PROSTHESIS field (#22) of this file.
"^DD",727.811,727.811,23,"DT")
2970911
"^DD",727.811,727.811,25,0)
MOVEMENT FILE #^P405'^DGPM(^0;26^Q
"^DD",727.811,727.811,25,.1)
Movement File Number
"^DD",727.811,727.811,25,3)
Enter the patient movement number associated with this extract record.
"^DD",727.811,727.811,25,21,0)
^^1^1^2961002^^^
"^DD",727.811,727.811,25,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.811,727.811,25,23,0)
^^4^4^2961002^^^
"^DD",727.811,727.811,25,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.811,727.811,25,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.811,727.811,25,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.811,727.811,25,23,4,0)
(#405).
"^DD",727.811,727.811,25,"DT")
2961002
"^DD",727.811,727.811,26,0)
TREATING SPECIALTY^F^^0;27^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,26,.1)
Treating Specialty
"^DD",727.811,727.811,26,3)
Answer must be 1-4 characters in length.
"^DD",727.811,727.811,26,21,0)
^^2^2^2990510^^^^
"^DD",727.811,727.811,26,21,1,0)
The character string in this field represents an IEN in the 
"^DD",727.811,727.811,26,21,2,0)
SPECIALTY file (#42.4).
"^DD",727.811,727.811,26,23,0)
^^9^9^2990512^^^^
"^DD",727.811,727.811,26,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.811,727.811,26,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.811,727.811,26,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.811,727.811,26,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.811,727.811,26,23,5,0)
(#45.7), is used to get the SPECIALTY field (#1) which points to the 
"^DD",727.811,727.811,26,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.811,727.811,26,23,7,0)
 
"^DD",727.811,727.811,26,23,8,0)
That pointer value is stored here as a character string; this field
"^DD",727.811,727.811,26,23,9,0)
represents and IEN in file #42.4.
"^DD",727.811,727.811,26,"DT")
2970911
"^DD",727.811,727.811,27,0)
CANCELLED^S^C:C;^0;28^Q
"^DD",727.811,727.811,27,.1)
Cancelled
"^DD",727.811,727.811,27,3)
Enter C if the procedure was cancelled.
"^DD",727.811,727.811,27,21,0)
^^2^2^2970912^^^^
"^DD",727.811,727.811,27,21,1,0)
If set, this field indicates that the surgical procedure was cancelled 
"^DD",727.811,727.811,27,21,2,0)
after being started.
"^DD",727.811,727.811,27,23,0)
^^7^7^2970912^^^^
"^DD",727.811,727.811,27,23,1,0)
If cancellation information exists (^SRF(D0,30)) or
"^DD",727.811,727.811,27,23,2,0)
for a regular procedure (not a non-OR procedure ^SRF(D0,NON)), 
"^DD",727.811,727.811,27,23,3,0)
there is no data in the TIME PAT IN OR field (.205),
"^DD",727.811,727.811,27,23,4,0)
then the extract record is not sent as per 2/7/94 decision.
"^DD",727.811,727.811,27,23,5,0)
 
"^DD",727.811,727.811,27,23,6,0)
This field is being retained for backward compatibility; essentially
"^DD",727.811,727.811,27,23,7,0)
it serves as a placeholder in the data line.
"^DD",727.811,727.811,27,"DT")
2970911
"^DD",727.811,727.811,28,0)
TIME^FO^^0;29^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.811,727.811,28,.1)
Time
"^DD",727.811,727.811,28,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.811,727.811,28,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.811,727.811,28,3)
Answer must be 6 characters in length.
"^DD",727.811,727.811,28,21,0)
^^1^1^2970912^^^^
"^DD",727.811,727.811,28,21,1,0)
The military time when the patient entered the OR.
"^DD",727.811,727.811,28,23,0)
^^6^6^2970923^^^^
"^DD",727.811,727.811,28,23,1,0)
Data source:
"^DD",727.811,727.811,28,23,2,0)
 
"^DD",727.811,727.811,28,23,3,0)
SURGERY file (#130); TIME PAT IN OR field (#.205)
"^DD",727.811,727.811,28,23,4,0)
 
"^DD",727.811,727.811,28,23,5,0)
The character string is always consists of exactly 6 numerics.  The
"^DD",727.811,727.811,28,23,6,0)
field default is "000300" for Year 2000 compliance per vendor.
"^DD",727.811,727.811,28,"DT")
2970924
"^DD",727.811,727.811,29,0)
OR TYPE^F^^0;30^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,29,.1)
OR Type
"^DD",727.811,727.811,29,3)
Answer must be 1-4 characters in length.
"^DD",727.811,727.811,29,21,0)
^^3^3^2990510^^^^
"^DD",727.811,727.811,29,21,1,0)
The OR TYPE of the operating room where this procedure was done.
"^DD",727.811,727.811,29,21,2,0)
This field is a character string which represents an IEN in the
"^DD",727.811,727.811,29,21,3,0)
OPERATING ROOM TYPE file (#134).
"^DD",727.811,727.811,29,23,0)
^^7^7^2990510^^^^
"^DD",727.811,727.811,29,23,1,0)
For the OPERATING ROOM field (#.02) identified in the SURGERY file 
"^DD",727.811,727.811,29,23,2,0)
(#130), OR TYPE is derived from the TYPE field (#9) in the OPERATING 
"^DD",727.811,727.811,29,23,3,0)
ROOM file (#131.7). It is a pointer to the OPERATING ROOM TYPE file 
"^DD",727.811,727.811,29,23,4,0)
(#134) which is a national standard operating room types list.
"^DD",727.811,727.811,29,23,5,0)
 
"^DD",727.811,727.811,29,23,6,0)
That pointer value is stored here as a character string; this field
"^DD",727.811,727.811,29,23,7,0)
then represents an IEN in file #134.
"^DD",727.811,727.811,29,"DT")
2970911
"^DD",727.811,727.811,30,0)
ATTENDING'S SERVICE^F^^0;31^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,30,.1)
Attending's Service
"^DD",727.811,727.811,30,3)
Answer must be 1-4 characters in length.
"^DD",727.811,727.811,30,21,0)
^^3^3^2970912^^^^
"^DD",727.811,727.811,30,21,1,0)
The service to which the attending surgeon is assigned.
"^DD",727.811,727.811,30,21,2,0)
The character string in this field represents an IEN in the NATIONAL
"^DD",727.811,727.811,30,21,3,0)
SERVICE file (#730).
"^DD",727.811,727.811,30,23,0)
^^10^10^2970912^^^^
"^DD",727.811,727.811,30,23,1,0)
ATTENDING'S SERVICE is an IEN in the NATIONAL SERVICE file (#730). 
"^DD",727.811,727.811,30,23,2,0)
 
"^DD",727.811,727.811,30,23,3,0)
It is derived from the SERVICE/SECTION field (#29) in the NEW PERSON file 
"^DD",727.811,727.811,30,23,4,0)
(#200) for the ATTENDING SURGEON field (#13) in the SURGERY EXTRACT file 
"^DD",727.811,727.811,30,23,5,0)
(#727.811) which is a pointer to the SERVICE/SECTION file (#49). 
"^DD",727.811,727.811,30,23,6,0)
The pointer value found in the NATIONAL SERVICE field (#730) of the 
"^DD",727.811,727.811,30,23,7,0)
SERVICE/SECTION file (#49) points to the NATIONAL SERVICE file (#730). 
"^DD",727.811,727.811,30,23,8,0)
 
"^DD",727.811,727.811,30,23,9,0)
The pointer value to file #730 is stored in this field as a character
"^DD",727.811,727.811,30,23,10,0)
string.
"^DD",727.811,727.811,30,"DT")
2970911
"^DD",727.811,727.811,31,0)
NON-OR DSS IDENTIFIER^F^^0;32^K:$L(X)>10!($L(X)<1) X
"^DD",727.811,727.811,31,.1)

"^DD",727.811,727.811,31,3)
Your answer must be 1 to 10 characters in length.
"^DD",727.811,727.811,31,21,0)
^^1^1^2990510^^^^
"^DD",727.811,727.811,31,21,1,0)
The DSS UNIT IDENTIFIER for the non-OR location for this procedure.
"^DD",727.811,727.811,31,23,0)
^^5^5^2990510^^^^
"^DD",727.811,727.811,31,23,1,0)
For a non-OR procedure, the NON-OR LOCATION field (119) in the SURGERY 
"^DD",727.811,727.811,31,23,2,0)
file (#130) points to the HOSPITAL LOCATION file (#44). The pointer is 
"^DD",727.811,727.811,31,23,3,0)
used to examine the DSS UNIT IDENTIFIER field (8) in the CLINIC AND STOP 
"^DD",727.811,727.811,31,23,4,0)
CODES file (#728.44), to determine if this clinic is used for non-OR 
"^DD",727.811,727.811,31,23,5,0)
surgical procedures.
"^DD",727.811,727.811,31,"DT")
2990510
"^DD",727.811,727.811,32,0)
RECOVERY ROOM (PACU) TIME^F^^0;33^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,32,.1)
Recovery Room (PACU) Time
"^DD",727.811,727.811,32,3)
Your answer must be 1 to 4 characters in length.
"^DD",727.811,727.811,32,21,0)
^^2^2^2961002^^^^
"^DD",727.811,727.811,32,21,1,0)
The time, in 15 minute increments, that the patient spent in the
"^DD",727.811,727.811,32,21,2,0)
post anesthesia care unit.
"^DD",727.811,727.811,32,23,0)
^^2^2^2961002^^^^
"^DD",727.811,727.811,32,23,1,0)
Derived from the PAC(U) DISCH TIME field (1.18) minus the ADMIT PAC(U) 
"^DD",727.811,727.811,32,23,2,0)
TIME field (1.17) in the SURGERY file (#130).
"^DD",727.811,727.811,32,"DT")
2961002
"^DD",727.811,727.811,34,0)
PRIMARY CARE TEAM^F^^0;35^K:$L(X)>4!($L(X)<1) X
"^DD",727.811,727.811,34,.1)
Primary Care Team
"^DD",727.811,727.811,34,3)
Enter primary care team assigned to this patient.
"^DD",727.811,727.811,34,21,0)
^^1^1^2961031^^^^
"^DD",727.811,727.811,34,21,1,0)
The primary care team assigned to this patient.
"^DD",727.811,727.811,34,23,0)
^^6^6^2961031^^^
"^DD",727.811,727.811,34,23,1,0)
Using the DATE OF OPERATION field (.09) from the SURGERY file (#130) 
"^DD",727.811,727.811,34,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.811,727.811,34,23,3,0)
in the SURGERY EXTRACT file (#727.811), a call is made to the Scheduling 
"^DD",727.811,727.811,34,23,4,0)
API, OUTPTTM^SDUTL3. The API returns the team's internal entry number 
"^DD",727.811,727.811,34,23,5,0)
and name from the TEAM file (#404.51). Only the pointer (IEN) to File 
"^DD",727.811,727.811,34,23,6,0)
404.51 is transmitted.
"^DD",727.811,727.811,34,"DT")
2961031
"^DD",727.811,727.811,35,0)
PRIMARY CARE PROVIDER^F^^0;36^K:$L(X)>11!($L(X)<1) X
"^DD",727.811,727.811,35,.1)
Primary Care Provider
"^DD",727.811,727.811,35,3)
Enter primary care provider assigned to this patient.
"^DD",727.811,727.811,35,21,0)
^^1^1^2980708^^^^
"^DD",727.811,727.811,35,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.811,727.811,35,23,0)
^^8^8^2980708^^^^
"^DD",727.811,727.811,35,23,1,0)
Using the DATE OF OPERATION field (.09) from the SURGERY file (#130) 
"^DD",727.811,727.811,35,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.811,727.811,35,23,3,0)
in the SURGERY EXTRACT file (#727.811), a call is made to the Scheduling 
"^DD",727.811,727.811,35,23,4,0)
API, OUTPTPR^SDUTL3. The API returns the provider's internal entry 
"^DD",727.811,727.811,35,23,5,0)
number and name from the NEW PERSON file (#200). 
"^DD",727.811,727.811,35,23,6,0)
 
"^DD",727.811,727.811,35,23,7,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.811,727.811,35,23,8,0)
is "200".
"^DD",727.811,727.811,35,"DT")
2961018
"^DD",727.811,727.811,36,0)
ADMISSION DATE^FO^^0;37^K:$L(X)>8!($L(X)<8) X
"^DD",727.811,727.811,36,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.811,727.811,36,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.811,727.811,36,3)
Answer must be 8 characters in length.
"^DD",727.811,727.811,36,21,0)
^^2^2^2980130^^^^
"^DD",727.811,727.811,36,21,1,0)
This 8-character string represents the date on which the Admission
"^DD",727.811,727.811,36,21,2,0)
associated with this Surgery extract record took place.
"^DD",727.811,727.811,36,23,0)
^^8^8^2980130^^^^
"^DD",727.811,727.811,36,23,1,0)
Source:
"^DD",727.811,727.811,36,23,2,0)
field #.01; file #405
"^DD",727.811,727.811,36,23,3,0)
 
"^DD",727.811,727.811,36,23,4,0)
If the patient on whom the surgical procedure was performed was an
"^DD",727.811,727.811,36,23,5,0)
inpatient on the procedure date, then a call to IN5^VADPT returns
"^DD",727.811,727.811,36,23,6,0)
the Admission Date in VAIP(13,1).
"^DD",727.811,727.811,36,23,7,0)
 
"^DD",727.811,727.811,36,23,8,0)
The date is expanded to Y2K format appropriate to DSS of YYYYMMDD.
"^DD",727.811,727.811,36,"DT")
2970924
"^DD",727.811,727.811,37,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.811,727.811,37,3)
Answer must be 1-10 characters in length.
"^DD",727.811,727.811,37,21,0)
^^1^1^2990504^
"^DD",727.811,727.811,37,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.811,727.811,37,23,0)
^^2^2^2990504^
"^DD",727.811,727.811,37,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.811,727.811,37,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.811,727.811,37,"DT")
2990504
"^DD",727.811,727.811,38,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.811,727.811,38,3)
Answer must be 4-10 characters in length.
"^DD",727.811,727.811,38,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,38,21,1,0)
The DSS Department Code for the Surgery product.
"^DD",727.811,727.811,38,23,0)
^^2^2^2990506^
"^DD",727.811,727.811,38,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.811,727.811,38,23,2,0)
Field is set to null.
"^DD",727.811,727.811,38,"DT")
2990506
"^DD",727.811,727.811,39,0)
SURGEON NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,39,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,39,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,39,21,1,0)
The Surgeon's National Provider Identifier code.
"^DD",727.811,727.811,39,23,0)
^^2^2^2990506^
"^DD",727.811,727.811,39,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,39,23,2,0)
field will hold the Surgeon NPI.
"^DD",727.811,727.811,39,"DT")
2990506
"^DD",727.811,727.811,40,0)
ATTENDING SURGEON NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,40,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,40,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,40,21,1,0)
The Attending Surgeon's National Provider Identifier code.
"^DD",727.811,727.811,40,23,0)
^^4^4^2990506^
"^DD",727.811,727.811,40,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,40,23,2,0)
field will hold the Attending Surgeon NPI.
"^DD",727.811,727.811,40,23,3,0)
   
"^DD",727.811,727.811,40,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.811,727.811,40,"DT")
2990506
"^DD",727.811,727.811,41,0)
ANESTHESIA SUPERVISOR NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,41,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,41,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,41,21,1,0)
The Anesthesia Supervisor's National Provider Identifier code.
"^DD",727.811,727.811,41,23,0)
^^4^4^2990506^
"^DD",727.811,727.811,41,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,41,23,2,0)
field will hold the Anesthesia Supervisor NPI.
"^DD",727.811,727.811,41,23,3,0)
   
"^DD",727.811,727.811,41,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.811,727.811,41,"DT")
2990506
"^DD",727.811,727.811,42,0)
PC PROVIDER NPI^F^^1;6^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,42,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,42,21,0)
^^1^1^2990506^^^
"^DD",727.811,727.811,42,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.811,727.811,42,23,0)
^^4^4^2990506^^
"^DD",727.811,727.811,42,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,42,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.811,727.811,42,23,3,0)
   
"^DD",727.811,727.811,42,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.811,727.811,42,"DT")
2990506
"^DD",727.811,727.811,43,0)
PC PROVIDER PERSON CLASS^F^^1;7^K:$L(X)>7!($L(X)<7) X
"^DD",727.811,727.811,43,3)
Answer must be 7 characters in length.
"^DD",727.811,727.811,43,21,0)
^^2^2^2981026^
"^DD",727.811,727.811,43,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.811,727.811,43,21,2,0)
associated with this record.
"^DD",727.811,727.811,43,23,0)
^^6^6^2981026^
"^DD",727.811,727.811,43,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.811,727.811,43,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.811,727.811,43,23,3,0)
extract record.
"^DD",727.811,727.811,43,23,4,0)
  
"^DD",727.811,727.811,43,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.811,727.811,43,23,6,0)
7 characters in length.
"^DD",727.811,727.811,43,"DT")
2981026
"^DD",727.811,727.811,44,0)
ASSOCIATE PC PROVIDER^F^^1;8^K:$L(X)>11!($L(X)<2) X
"^DD",727.811,727.811,44,3)
Answer must be 2-11 characters in length.
"^DD",727.811,727.811,44,21,0)
^^4^4^2990505^
"^DD",727.811,727.811,44,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.811,727.811,44,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.811,727.811,44,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.811,727.811,44,21,4,0)
character 2.
"^DD",727.811,727.811,44,23,0)
^^2^2^2990505^
"^DD",727.811,727.811,44,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.811,727.811,44,23,2,0)
the PCMM application.
"^DD",727.811,727.811,44,"DT")
2990505
"^DD",727.811,727.811,45,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;9^K:$L(X)>7!($L(X)<7) X
"^DD",727.811,727.811,45,3)
Answer must be 7 characters in length.
"^DD",727.811,727.811,45,21,0)
^^4^4^2990505^
"^DD",727.811,727.811,45,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.811,727.811,45,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.811,727.811,45,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.811,727.811,45,21,4,0)
exactly 7 characters in length. 
"^DD",727.811,727.811,45,23,0)
^^3^3^2990505^
"^DD",727.811,727.811,45,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.811,727.811,45,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.811,727.811,45,23,3,0)
PERS is the IEN from file #200.
"^DD",727.811,727.811,45,"DT")
2990505
"^DD",727.811,727.811,46,0)
ASSOCIATE PC PROVIDER NPI^F^^1;10^K:$L(X)>8!($L(X)<1) X
"^DD",727.811,727.811,46,3)
Answer must be 1-8 characters in length.
"^DD",727.811,727.811,46,21,0)
^^1^1^2990506^
"^DD",727.811,727.811,46,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.811,727.811,46,23,0)
^^4^4^2990506^
"^DD",727.811,727.811,46,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.811,727.811,46,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.811,727.811,46,23,3,0)
   
"^DD",727.811,727.811,46,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.811,727.811,46,"DT")
2990506
"^DD",727.811,727.811,47,0)
CPT CODE & MODIFIERS^RFO^^1;11^K:$L(X)>15!($L(X)<5) X
"^DD",727.811,727.811,47,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.811,727.811,47,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.811,727.811,47,3)
Answer must be 5-15 characters in length.
"^DD",727.811,727.811,47,21,0)
^^5^5^2990506^
"^DD",727.811,727.811,47,21,1,0)
The Current Procedural Terminology (CPT) code for the radiology 
"^DD",727.811,727.811,47,21,2,0)
procedure performed.
"^DD",727.811,727.811,47,21,3,0)
 
"^DD",727.811,727.811,47,21,4,0)
The 5 character CPT Code is followed by upto five (5) 2-character CPT
"^DD",727.811,727.811,47,21,5,0)
code modifiers.
"^DD",727.811,727.811,47,23,0)
^^13^13^2990506^
"^DD",727.811,727.811,47,23,1,0)
For the principal procedure, CPT Code is derived from the PRINCIPAL 
"^DD",727.811,727.811,47,23,2,0)
PROCEDURE CODE field (#27) in the SURGERY file (#130).
"^DD",727.811,727.811,47,23,3,0)
  
"^DD",727.811,727.811,47,23,4,0)
If the extract record is for a secondary procedure, CPT Code is derived 
"^DD",727.811,727.811,47,23,5,0)
from the OTHER PROCEDURE CPT CODE field (#3) within the OTHER PROCEDURES 
"^DD",727.811,727.811,47,23,6,0)
multiple (#.42) in the SURGERY file (#130).
"^DD",727.811,727.811,47,23,7,0)
  
"^DD",727.811,727.811,47,23,8,0)
In either case, CPT Code is the value of the CPT CODE field (#.01) 
"^DD",727.811,727.811,47,23,9,0)
in the pointed-to record in the CPT file (#81).
"^DD",727.811,727.811,47,23,10,0)
  
"^DD",727.811,727.811,47,23,11,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the CPT
"^DD",727.811,727.811,47,23,12,0)
MODIFIER file (#81.3).  It is not known at this time where the Surgery
"^DD",727.811,727.811,47,23,13,0)
package will store those modifiers.
"^DD",727.811,727.811,47,"DT")
2990614
"^DD",727.812,727.812,0)
FIELD^^33^34
"^DD",727.812,727.812,0,"DDA")
N
"^DD",727.812,727.812,0,"DT")
2990729
"^DD",727.812,727.812,0,"IX","AC",727.812,2)

"^DD",727.812,727.812,0,"NM","MENTAL HEALTH EXTRACT")

"^DD",727.812,727.812,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.812,727.812,.01,1,0)
^.1^^0
"^DD",727.812,727.812,.01,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",727.812,727.812,.01,21,0)
^^1^1^2990505^
"^DD",727.812,727.812,.01,21,1,0)
The record number for this extract entry.
"^DD",727.812,727.812,.01,23,0)
^^2^2^2990505^
"^DD",727.812,727.812,.01,23,1,0)
The internal entry number (IEN) for this record. 
"^DD",727.812,727.812,.01,23,2,0)
This entry is DINUMed.
"^DD",727.812,727.812,.01,"DT")
2990726
"^DD",727.812,727.812,1,0)
YEAR MONTH^RF^^0;2^K:$L(X)>6!($L(X)<6) X
"^DD",727.812,727.812,1,3)
Answer must be 6 characters in length.
"^DD",727.812,727.812,1,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,1,21,1,0)
A six character string representing the year and the month
"^DD",727.812,727.812,1,21,2,0)
for which this extract was performed.
"^DD",727.812,727.812,1,23,0)
^^1^1^2990505^
"^DD",727.812,727.812,1,23,1,0)
Format is YYYYMM; Year 2000 compliant.
"^DD",727.812,727.812,1,"DT")
2990505
"^DD",727.812,727.812,2,0)
EXTRACT NUMBER^RP727'^ECX(727,^0;3^Q
"^DD",727.812,727.812,2,1,0)
^.1
"^DD",727.812,727.812,2,1,1,0)
727.812^AC^MUMPS
"^DD",727.812,727.812,2,1,1,1)
S ^ECX(727.812,"AC",$E(X,1,30),DA)=""
"^DD",727.812,727.812,2,1,1,2)
K ^ECX(727.812,"AC",$E(X,1,30),DA)
"^DD",727.812,727.812,2,1,1,3)
DO NOT DELETE
"^DD",727.812,727.812,2,1,1,"%D",0)
^^2^2^2990726^^
"^DD",727.812,727.812,2,1,1,"%D",1,0)
The "AC" cross-reference is essential for managing and purging data
"^DD",727.812,727.812,2,1,1,"%D",2,0)
in this file.
"^DD",727.812,727.812,2,1,1,"DT")
2990511
"^DD",727.812,727.812,2,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.812,727.812,2,21,2,0)
extract.
"^DD",727.812,727.812,2,23,0)
^^2^2^2990505^
"^DD",727.812,727.812,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.812,727.812,2,23,2,0)
pick up the header for the MailMan transmission message.
"^DD",727.812,727.812,2,"DT")
2990511
"^DD",727.812,727.812,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<3) X
"^DD",727.812,727.812,3,3)
Answer must be 3-7 characters in length.
"^DD",727.812,727.812,3,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,3,21,1,0)
Identifies the facility associated with the extract data by its 
"^DD",727.812,727.812,3,21,2,0)
station number.
"^DD",727.812,727.812,3,23,0)
^^2^2^2990505^
"^DD",727.812,727.812,3,23,1,0)
STATION NUMBER field (#99) of the INSTITUTION file (#4) record
"^DD",727.812,727.812,3,23,2,0)
pointed to by the NAME field (#.01) of the DSS EXTRACTS file (#728).
"^DD",727.812,727.812,3,"DT")
2990505
"^DD",727.812,727.812,4,0)
PATIENT NO. - DFN^RP2'^DPT(^0;5^Q
"^DD",727.812,727.812,4,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,4,21,1,0)
Internal entry number of the PATIENT file (#2) record identifying the
"^DD",727.812,727.812,4,21,2,0)
patient associated with the Mental Health information.
"^DD",727.812,727.812,4,23,0)
^^5^5^2990505^
"^DD",727.812,727.812,4,23,1,0)
One of three possible sources:
"^DD",727.812,727.812,4,23,2,0)
(1) NAME field (#.01) of the PSYCH INSTRUMENT PATIENT file (#601.2)
"^DD",727.812,727.812,4,23,3,0)
(2) NAME field (#.02) of the ADDICTION SEVERITY INDEX file (#604)
"^DD",727.812,727.812,4,23,4,0)
(3) PATIENT NAME field (#.02) of the DIAGNOSTIC RESULTS - MENTAL 
"^DD",727.812,727.812,4,23,5,0)
    HEALTH file (#627.8)
"^DD",727.812,727.812,4,"DT")
2990505
"^DD",727.812,727.812,5,0)
SSN^RF^^0;6^K:$L(X)>10!($L(X)<9) X
"^DD",727.812,727.812,5,3)
Answer must be 9-10 characters in length.
"^DD",727.812,727.812,5,21,0)
^^4^4^2990505^
"^DD",727.812,727.812,5,21,1,0)
The patient's social security number.
"^DD",727.812,727.812,5,21,2,0)
 
"^DD",727.812,727.812,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.812,727.812,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.812,727.812,5,23,0)
^^6^6^2990505^
"^DD",727.812,727.812,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.812,727.812,5,23,2,0)
(#4) of this extract file (#727.812), SSN data is derived from 
"^DD",727.812,727.812,5,23,3,0)
the SOCIAL SECURITY NUMBER field (#.09) in the PATIENT file (#2).
"^DD",727.812,727.812,5,23,4,0)
 
"^DD",727.812,727.812,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.812,727.812,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.812,727.812,5,"DT")
2990505
"^DD",727.812,727.812,6,0)
NAME^RF^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.812,727.812,6,3)
Answer must be 4 characters in length.
"^DD",727.812,727.812,6,21,0)
^^1^1^2990505^
"^DD",727.812,727.812,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.812,727.812,6,23,0)
^^4^4^2990505^
"^DD",727.812,727.812,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.812,727.812,6,23,2,0)
(#4) of this extract file (#727.812), NAME data is derived from the
"^DD",727.812,727.812,6,23,3,0)
NAME field (#.01) in the PATIENT file (#2). The first four characters of
"^DD",727.812,727.812,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.812,727.812,6,"DT")
2990505
"^DD",727.812,727.812,7,0)
IN OUT PATIENT INDICATOR^RF^^0;8^K:$L(X)>1!($L(X)<1) X
"^DD",727.812,727.812,7,3)
Answer must be 1 character in length.
"^DD",727.812,727.812,7,21,0)
^^2^2^2990519^^
"^DD",727.812,727.812,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient on the
"^DD",727.812,727.812,7,21,2,0)
date in the DAY field (#8) for this extract record.
"^DD",727.812,727.812,7,23,0)
^^8^8^2990519^^
"^DD",727.812,727.812,7,23,1,0)
This status indicator corresponds to an internal entry number in the 
"^DD",727.812,727.812,7,23,2,0)
LOCATION TYPE file (#40.9), where IEN=1 is the Clinic location, 
"^DD",727.812,727.812,7,23,3,0)
and IEN=3 is the Ward location.
"^DD",727.812,727.812,7,23,4,0)
  
"^DD",727.812,727.812,7,23,5,0)
This field is initialized to a 1, indicating an outpatient status. 
"^DD",727.812,727.812,7,23,6,0)
If a call to IN5^VADPT (using the patient DFN and the event date) 
"^DD",727.812,727.812,7,23,7,0)
returns a patient movement number, then the field is reset to a 3 
"^DD",727.812,727.812,7,23,8,0)
indicating inpatient status.
"^DD",727.812,727.812,7,"DT")
2990505
"^DD",727.812,727.812,8,0)
DAY^RF^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.812,727.812,8,3)
Answer must be 8 characters in length.
"^DD",727.812,727.812,8,21,0)
^^2^2^2990505^
"^DD",727.812,727.812,8,21,1,0)
Date in format YYYYMMDD; date with which the Mental Health extract
"^DD",727.812,727.812,8,21,2,0)
data is associated.
"^DD",727.812,727.812,8,23,0)
^^13^13^2990505^^^
"^DD",727.812,727.812,8,23,1,0)
One of three possible sources:
"^DD",727.812,727.812,8,23,2,0)
(1) COMPLETION DATE field (#.01) of the DATE field (#1), #601.22 
"^DD",727.812,727.812,8,23,3,0)
    sub-file, of the (#1) INSTRUMENT field, #601.21 sub-file, of 
"^DD",727.812,727.812,8,23,4,0)
    the PSYCH INSTRUMENT PATIENT file (#601.1)
"^DD",727.812,727.812,8,23,5,0)
(2) DATE OF INTERVIEW field (#.05) of the ADDICTION SEVERITY INDEX 
"^DD",727.812,727.812,8,23,6,0)
    file (#604)
"^DD",727.812,727.812,8,23,7,0)
(3) DATE/TIME OF DIAGNOSIS  field (#.03) of the DIAGNOSTIC RESULTS - 
"^DD",727.812,727.812,8,23,8,0)
    MENTAL HEALTH file (#627.8)
"^DD",727.812,727.812,8,23,9,0)
  
"^DD",727.812,727.812,8,23,10,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.812,727.812,8,23,11,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.812,727.812,8,23,12,0)
then a default is used.  The default date value is the value of the 
"^DD",727.812,727.812,8,23,13,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.812,727.812,8,"DT")
2990505
"^DD",727.812,727.812,9,0)
DIVISION^RF^^0;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.812,727.812,9,3)
Answer must be 1 character in length.
"^DD",727.812,727.812,9,21,0)
^^4^4^2990526^^
"^DD",727.812,727.812,9,21,1,0)
The medical center division associated with the extract data. For DSS
"^DD",727.812,727.812,9,21,2,0)
purposes, this must correspond to the labor pool that generated the 
"^DD",727.812,727.812,9,21,3,0)
workload. The division identifier is taken from the DSS DIVISION 
"^DD",727.812,727.812,9,21,4,0)
IDENTIFIER file (#727.3).
"^DD",727.812,727.812,9,23,0)
^^17^17^2990526^^
"^DD",727.812,727.812,9,23,1,0)
A pointer to the NEW PERSON file (#200) is obtained from one of three
"^DD",727.812,727.812,9,23,2,0)
possible sources:
"^DD",727.812,727.812,9,23,3,0)
(1) ORDERED BY field (#2) of the DATE field (#1), #601.22 sub-file, of
"^DD",727.812,727.812,9,23,4,0)
the (#1) INSTRUMENT field, #601.21 sub-file, of the PSYCH INSTRUMENT 
"^DD",727.812,727.812,9,23,5,0)
PATIENT file (#601.1)
"^DD",727.812,727.812,9,23,6,0)
(2) INTERVIEWER field (#.09) of the ADDICTION SEVERITY INDEX file (#604)
"^DD",727.812,727.812,9,23,7,0)
(3) DIAGNOSIS BY field (#.04) of the DIAGNOSTIC RESULTS - MENTAL HEALTH
"^DD",727.812,727.812,9,23,8,0)
file (#627.8)
"^DD",727.812,727.812,9,23,9,0)
  
"^DD",727.812,727.812,9,23,10,0)
The DIVISION field is then derived as follows:
"^DD",727.812,727.812,9,23,11,0)
(1) A pointer to the INSTITUTION file (#4) is obtained using the pointer
"^DD",727.812,727.812,9,23,12,0)
to file #200. This is taken from the DIVISION field (#.01) of the first
"^DD",727.812,727.812,9,23,13,0)
sub-record of the DIVISION field (#16), sub-file #200.02. 
"^DD",727.812,727.812,9,23,14,0)
(2) A record in the MEDICAL CENTER DIVISION file (#40.8) which points 
"^DD",727.812,727.812,9,23,15,0)
to the same file #4 record
"^DD",727.812,727.812,9,23,16,0)
(3) The IDENTIFIER field (#1) of the DSS DIVISION IDENTIFIER file 
"^DD",727.812,727.812,9,23,17,0)
(#727.3) record which points to the same Medical Center Division.
"^DD",727.812,727.812,9,"DT")
2990506
"^DD",727.812,727.812,10,0)
ADMISSION DATE^F^^0;11^K:$L(X)>8!($L(X)<8) X
"^DD",727.812,727.812,10,3)
Answer must be 8 characters in length.
"^DD",727.812,727.812,10,21,0)
^^3^3^2990507^
"^DD",727.812,727.812,10,21,1,0)
This 8-character string represents the date on which the admission
"^DD",727.812,727.812,10,21,2,0)
occurred, if the patient referenced in the PATIENT NO. - DFN field is
"^DD",727.812,727.812,10,21,3,0)
an inpatient on the date shown in the DAY field.
"^DD",727.812,727.812,10,23,0)
^^5^5^2990507^
"^DD",727.812,727.812,10,23,1,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.812,727.812,10,23,2,0)
 
"^DD",727.812,727.812,10,23,3,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.812,727.812,10,23,4,0)
is YYYYMMDD; for example, 19970923.  The standard FM date for the 
"^DD",727.812,727.812,10,23,5,0)
admission is returned by IN5^VADPT.
"^DD",727.812,727.812,10,"DT")
2990506
"^DD",727.812,727.812,11,0)
DISCHARGE DATE^F^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.812,727.812,11,3)
Answer must be 8 characters in length.
"^DD",727.812,727.812,11,21,0)
^^4^4^2990507^
"^DD",727.812,727.812,11,21,1,0)
This 8-character string represents the date on which the discharge
"^DD",727.812,727.812,11,21,2,0)
occurred, if the patient referenced in the PATIENT NO. - DFN field
"^DD",727.812,727.812,11,21,3,0)
was an inpatient on the date shown in the DAY field, but has been
"^DD",727.812,727.812,11,21,4,0)
discharged before the run date of the extract.
"^DD",727.812,727.812,11,23,0)
^^5^5^2990507^
"^DD",727.812,727.812,11,23,1,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.812,727.812,11,23,2,0)
 
"^DD",727.812,727.812,11,23,3,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.812,727.812,11,23,4,0)
is YYYYMMDD; for example, 19970923.  The standard FM date for the 
"^DD",727.812,727.812,11,23,5,0)
discharge is returned by IN5^VADPT.
"^DD",727.812,727.812,11,"DT")
2990506
"^DD",727.812,727.812,12,0)
DSS IDENTIFIER^F^^0;13^K:$L(X)>6!($L(X)<6) X
"^DD",727.812,727.812,12,3)
Answer must be 6 characters in length.
"^DD",727.812,727.812,12,21,0)
^^5^5^2990507^
"^DD",727.812,727.812,12,21,1,0)
The DSS Identifier is defined as the stop code pair associated with an
"^DD",727.812,727.812,12,21,2,0)
outpatient encounter.  The Mental Health data currently being extracted
"^DD",727.812,727.812,12,21,3,0)
cannot be associated with a specific patient encounter.  Therefore, a 
"^DD",727.812,727.812,12,21,4,0)
new unique DSS Identifier will be used for every Mental Health extract
"^DD",727.812,727.812,12,21,5,0)
record.
"^DD",727.812,727.812,12,23,0)
^^2^2^2990507^
"^DD",727.812,727.812,12,23,1,0)
The DSS Identifier has not yet been determined.  The field will be set
"^DD",727.812,727.812,12,23,2,0)
to null.
"^DD",727.812,727.812,12,"DT")
2990506
"^DD",727.812,727.812,13,0)
PRIMARY CARE TEAM^F^^0;14^K:$L(X)>4!($L(X)<1) X
"^DD",727.812,727.812,13,3)
Answer must be 1-4 characters in length.
"^DD",727.812,727.812,13,21,0)
^^1^1^2990507^
"^DD",727.812,727.812,13,21,1,0)
The Primary Care Team assigned to this patient.
"^DD",727.812,727.812,13,23,0)
^^5^5^2990507^
"^DD",727.812,727.812,13,23,1,0)
The date in the DAY field ((#8) along with the patient pointer in the
"^DD",727.812,727.812,13,23,2,0)
PATIENT NO. - DFN field (#4) of the extract record is used to make a
"^DD",727.812,727.812,13,23,3,0)
call to the Scheduling API, OUTPTTM^SDUTL3.  The pointer (IEN) to the 
"^DD",727.812,727.812,13,23,4,0)
TEAM file (#404.51), retuned by the API, is used.  The data is stored
"^DD",727.812,727.812,13,23,5,0)
as free text.
"^DD",727.812,727.812,13,"DT")
2990506
"^DD",727.812,727.812,14,0)
PRIMARY CARE PROVIDER^F^^0;15^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,14,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,14,21,0)
^^1^1^2990507^
"^DD",727.812,727.812,14,21,1,0)
The Primary Care Provider assigned to this patient.
"^DD",727.812,727.812,14,23,0)
^^7^7^2990507^
"^DD",727.812,727.812,14,23,1,0)
The date in the DAY field ((#8) along with the patient pointer in the
"^DD",727.812,727.812,14,23,2,0)
PATIENT NO. - DFN field (#4) of the extract record is used to make a
"^DD",727.812,727.812,14,23,3,0)
call to the Scheduling API, OUTPTTM^SDUTL3.  The pointer (IEN) to the 
"^DD",727.812,727.812,14,23,4,0)
NEW PERSON file (#200), retuned by the API, is used.
"^DD",727.812,727.812,14,23,5,0)
 
"^DD",727.812,727.812,14,23,6,0)
A "2" is prefixed to the pointer value to indicate that the source
"^DD",727.812,727.812,14,23,7,0)
file is "200", and the data is stored as free text.
"^DD",727.812,727.812,14,"DT")
2990506
"^DD",727.812,727.812,15,0)
PC PROVIDER NPI^F^^0;16^K:$L(X)>8!($L(X)<1) X
"^DD",727.812,727.812,15,3)
Answer must be 1-8 characters in length.
"^DD",727.812,727.812,15,21,0)
^^1^1^2990507^^
"^DD",727.812,727.812,15,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.812,727.812,15,23,0)
^^4^4^2990507^^
"^DD",727.812,727.812,15,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.812,727.812,15,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.812,727.812,15,23,3,0)
   
"^DD",727.812,727.812,15,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.812,727.812,15,"DT")
2990506
"^DD",727.812,727.812,16,0)
PC PROVIDER PERSON CLASS^F^^0;17^K:$L(X)>7!($L(X)<7) X
"^DD",727.812,727.812,16,3)
Answer must be 7 characters in length.
"^DD",727.812,727.812,16,21,0)
^^4^4^2990507^^
"^DD",727.812,727.812,16,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.812,727.812,16,21,2,0)
of the Primary Care Provider as assigned by through the PCMM application.
"^DD",727.812,727.812,16,21,3,0)
The VA Code is always of the form "V"_six numeric digits; exactly 7 
"^DD",727.812,727.812,16,21,4,0)
characters in length. 
"^DD",727.812,727.812,16,23,0)
^^3^3^2990507^^
"^DD",727.812,727.812,16,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.812,727.812,16,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.812,727.812,16,23,3,0)
PERS is the IEN from file #200.
"^DD",727.812,727.812,16,"DT")
2990506
"^DD",727.812,727.812,17,0)
PROVIDER^RF^^0;18^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,17,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,17,21,0)
^^2^2^2990507^
"^DD",727.812,727.812,17,21,1,0)
The person who administered or ordered the Mental Health test/interview
"^DD",727.812,727.812,17,21,2,0)
associated with this extract record.
"^DD",727.812,727.812,17,23,0)
^^11^11^2990507^
"^DD",727.812,727.812,17,23,1,0)
A pointer to the NEW PERSON file (#200) is obtained from one of three
"^DD",727.812,727.812,17,23,2,0)
possible sources:
"^DD",727.812,727.812,17,23,3,0)
(1) ORDERED BY field (#2) of the DATE field (#1), #601.22 sub-file, of
"^DD",727.812,727.812,17,23,4,0)
the (#1) INSTRUMENT field, #601.21 sub-file, of the PSYCH INSTRUMENT 
"^DD",727.812,727.812,17,23,5,0)
PATIENT file (#601.2).
"^DD",727.812,727.812,17,23,6,0)
(2) INTERVIEWER field (#.09) of the ADDICTION SEVERITY INDEX file (#604).
"^DD",727.812,727.812,17,23,7,0)
(3) DIAGNOSIS BY field (#.04) of the DIAGNOSTIC RESULTS - MENTAL HEALTH
"^DD",727.812,727.812,17,23,8,0)
file (#627.8).
"^DD",727.812,727.812,17,23,9,0)
  
"^DD",727.812,727.812,17,23,10,0)
A numeric character 2 is prefixed to the IEN, and it is stored as free
"^DD",727.812,727.812,17,23,11,0)
text.
"^DD",727.812,727.812,17,"DT")
2990506
"^DD",727.812,727.812,18,0)
PROVIDER NPI^F^^0;19^K:$L(X)>8!($L(X)<1) X
"^DD",727.812,727.812,18,3)
Answer must be 1-8 characters in length.
"^DD",727.812,727.812,18,21,0)
^^1^1^2990507^^
"^DD",727.812,727.812,18,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.812,727.812,18,23,0)
^^4^4^2990507^^
"^DD",727.812,727.812,18,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.812,727.812,18,23,2,0)
field will hold the Provider NPI.
"^DD",727.812,727.812,18,23,3,0)
   
"^DD",727.812,727.812,18,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.812,727.812,18,"DT")
2990506
"^DD",727.812,727.812,19,0)
PROVIDER PERSON CLASS^F^^0;20^K:$L(X)>7!($L(X)<7) X
"^DD",727.812,727.812,19,3)
Answer must be 7 characters in length.
"^DD",727.812,727.812,19,21,0)
^^3^3^2990507^^
"^DD",727.812,727.812,19,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.812,727.812,19,21,2,0)
of the Provider. The VA Code is always of the form "V"_six numeric digits;
"^DD",727.812,727.812,19,21,3,0)
exactly 7 characters in length. 
"^DD",727.812,727.812,19,23,0)
^^3^3^2990507^^^
"^DD",727.812,727.812,19,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.812,727.812,19,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.812,727.812,19,23,3,0)
PERS is the IEN from file #200.
"^DD",727.812,727.812,19,"DT")
2990506
"^DD",727.812,727.812,20,0)
TEST NAME^RF^^0;21^K:$L(X)>5!($L(X)<3) X
"^DD",727.812,727.812,20,3)
Answer must be 3-5 characters in length.
"^DD",727.812,727.812,20,21,0)
^^2^2^2990507^
"^DD",727.812,727.812,20,21,1,0)
The acronym that represents the name of test, interview, or diagnostic data
"^DD",727.812,727.812,20,21,2,0)
contained in this extract record.
"^DD",727.812,727.812,20,23,0)
^^11^11^2990507^
"^DD",727.812,727.812,20,23,1,0)
The acronym placed in this field will depend upon which Mental Health file
"^DD",727.812,727.812,20,23,2,0)
is the source of the data.
"^DD",727.812,727.812,20,23,3,0)
  
"^DD",727.812,727.812,20,23,4,0)
(1) If data is extracted from the PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,20,23,5,0)
then TEST NAME is derived from the INSTRUMENT field (#.01) of the MH
"^DD",727.812,727.812,20,23,6,0)
INSTRUMENT file (#601) which is pointed to by the INSTRUMENT field (#.01)
"^DD",727.812,727.812,20,23,7,0)
of the INSTRUMENT field (#1), sub-file #601.21, of file #601.2.
"^DD",727.812,727.812,20,23,8,0)
(2) If data is extracted from the ADDICTION SEVERITY INDEX file (#604),
"^DD",727.812,727.812,20,23,9,0)
then TEST NAME is ASI.
"^DD",727.812,727.812,20,23,10,0)
(3) If data is extracted from the DIAGNOSTIC RESULTS - MENTAL HEALTH file 
"^DD",727.812,727.812,20,23,11,0)
(#627.8), then TEST NAME is GAF.
"^DD",727.812,727.812,20,"DT")
2990506
"^DD",727.812,727.812,21,0)
TEST IEN^NJ4,0^^0;22^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.812,727.812,21,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",727.812,727.812,21,21,0)
^^2^2^2990510^^
"^DD",727.812,727.812,21,21,1,0)
The internal entry number in the MH INSTRUMENT file (#601) for the test
"^DD",727.812,727.812,21,21,2,0)
data, if appropriate.
"^DD",727.812,727.812,21,23,0)
^^8^8^2990510^^
"^DD",727.812,727.812,21,23,1,0)
If data is extracted from the PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,21,23,2,0)
then TEST IEN will be the internal entry number of file MH INSTRUMENT
"^DD",727.812,727.812,21,23,3,0)
file (#601) contained in the INSTRUMENT field (#.01) of the INSTRUMENT
"^DD",727.812,727.812,21,23,4,0)
field (#1), sub-file #601.21, of file #601.2.
"^DD",727.812,727.812,21,23,5,0)
  
"^DD",727.812,727.812,21,23,6,0)
If data is extracted form the ADDICTION SEVERITY INDEX file (#604) or
"^DD",727.812,727.812,21,23,7,0)
the DIAGNOSTIC RESULTS - MENTAL HEALTH file (#627.8), then TEST IEN
"^DD",727.812,727.812,21,23,8,0)
is null.
"^DD",727.812,727.812,21,"DT")
2990506
"^DD",727.812,727.812,22,0)
SCALE NUMBER^NJ3,0^^0;23^K:+X'=X!(X>999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.812,727.812,22,3)
Type a Number between 0 and 999, 0 Decimal Digits
"^DD",727.812,727.812,22,21,0)
^^2^2^2990728^^
"^DD",727.812,727.812,22,21,1,0)
SCALE NUMBER is an identifying element for data extracted from PSYCH
"^DD",727.812,727.812,22,21,2,0)
INSTRUMENT PATIENT file (#601.2).
"^DD",727.812,727.812,22,23,0)
^^8^8^2990728^^
"^DD",727.812,727.812,22,23,1,0)
If data is extracted from PSYCH INSTRUMENT PATIENT file (#601.2), then
"^DD",727.812,727.812,22,23,2,0)
this field contains data taken from the SCALE NUMBER field (#.01) of
"^DD",727.812,727.812,22,23,3,0)
the TEST SCALE NUMBER field (#16), sub-file #601.01, of the MH 
"^DD",727.812,727.812,22,23,4,0)
INSTRUMENT file (#601).
"^DD",727.812,727.812,22,23,5,0)
  
"^DD",727.812,727.812,22,23,6,0)
If data is extracted form the ADDICTION SEVERITY INDEX file (#604) or
"^DD",727.812,727.812,22,23,7,0)
the DIAGNOSTIC RESULTS - MENTAL HEALTH file (#627.8), then SCALE
"^DD",727.812,727.812,22,23,8,0)
NUMBER is null.
"^DD",727.812,727.812,22,"DT")
2990729
"^DD",727.812,727.812,23,0)
SCALE NAME^F^^0;24^K:$L(X)>10!($L(X)<3) X
"^DD",727.812,727.812,23,3)
Answer must be 3-10 characters in length.
"^DD",727.812,727.812,23,21,0)
^^3^3^2990507^
"^DD",727.812,727.812,23,21,1,0)
SCALE NAME is an identifying element for data extracted from PSYCH
"^DD",727.812,727.812,23,21,2,0)
INSTRUMENT PATIENT file (#601.2) or from the ADDICTION SEVERITY
"^DD",727.812,727.812,23,21,3,0)
INDEX file (#604).
"^DD",727.812,727.812,23,23,0)
^^12^12^2990507^
"^DD",727.812,727.812,23,23,1,0)
If data is extracted from PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,23,23,2,0)
then this field contains data taken from the SCALE NAME field (#.5)
"^DD",727.812,727.812,23,23,3,0)
of the TEST SCALE NUMBER field (#16), sub-file #601.01, of the MH
"^DD",727.812,727.812,23,23,4,0)
INSTRUMENT file (#601).
"^DD",727.812,727.812,23,23,5,0)
  
"^DD",727.812,727.812,23,23,6,0)
If data is extracted from the ADDICTION SEVERITY INDEX file (#604),
"^DD",727.812,727.812,23,23,7,0)
then SCALE NAME will be one of the seven standard composite score
"^DD",727.812,727.812,23,23,8,0)
names which are part of the ASI evaluation.  These are Medical,
"^DD",727.812,727.812,23,23,9,0)
Emp/Sup, Alcohol, Drug, Legal, Family, and Psych.
"^DD",727.812,727.812,23,23,10,0)
  
"^DD",727.812,727.812,23,23,11,0)
If data is extracted from the DIAGNOSTIC RESULTS - MENTAL HEALTH
"^DD",727.812,727.812,23,23,12,0)
file (#627.8), then SCALE NAME is null.
"^DD",727.812,727.812,23,"DT")
2990729
"^DD",727.812,727.812,24,0)
TEST SCORE^F^^0;25^K:$L(X)>5!($L(X)<1) X
"^DD",727.812,727.812,24,3)
Answer must be 1-5 characters in length.
"^DD",727.812,727.812,24,21,0)
^^3^3^2990507^
"^DD",727.812,727.812,24,21,1,0)
TEST SCORE contains the score for a Mental Health test, which is
"^DD",727.812,727.812,24,21,2,0)
expressed as a single, overall score, and which is not expressed as
"^DD",727.812,727.812,24,21,3,0)
one or more scale scores.
"^DD",727.812,727.812,24,23,0)
^^13^13^2990507^
"^DD",727.812,727.812,24,23,1,0)
If data is extracted from PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,24,23,2,0)
the TEST SCORE field will contain the resulting score calculated for
"^DD",727.812,727.812,24,23,3,0)
the following tests: DOM80, DOM81, DOM82, and DOMG.  For all other
"^DD",727.812,727.812,24,23,4,0)
tests contained in the MH INSTRUMENT file (#601) that are pointed to
"^DD",727.812,727.812,24,23,5,0)
by the INSTRUMENT field (#.01) of the INSTRUMENT field (#1), sub-file
"^DD",727.812,727.812,24,23,6,0)
#601.21, of file #601.2, TEST SCORE will be set to null.
"^DD",727.812,727.812,24,23,7,0)
  
"^DD",727.812,727.812,24,23,8,0)
If data is extracted from the ADDICTION SEVERITY INDEX file (#604),
"^DD",727.812,727.812,24,23,9,0)
then TEST SCORE will be set to null.
"^DD",727.812,727.812,24,23,10,0)
  
"^DD",727.812,727.812,24,23,11,0)
If data is extracted from the DIAGNOSTIC RESULTS - MENTAL HEALTH file
"^DD",727.812,727.812,24,23,12,0)
(#627.8), the TEST SCORE will contain data from the AXIS 5 field (#65)
"^DD",727.812,727.812,24,23,13,0)
of file #627.8.
"^DD",727.812,727.812,24,"DT")
2990506
"^DD",727.812,727.812,25,0)
SCALE SCORE^F^^0;26^K:$L(X)>6!($L(X)<1) X
"^DD",727.812,727.812,25,3)
Answer must be 1-6 characters in length.
"^DD",727.812,727.812,25,21,0)
^^2^2^2990507^
"^DD",727.812,727.812,25,21,1,0)
SCALE SCORE contains the score of one scale of a Mental Health 
"^DD",727.812,727.812,25,21,2,0)
test, which is expressed as one or more scale scores.
"^DD",727.812,727.812,25,23,0)
^^15^15^2990507^
"^DD",727.812,727.812,25,23,1,0)
If data is extracted from PSYCH INSTRUMENT PATIENT file (#601.2),
"^DD",727.812,727.812,25,23,2,0)
the SCALE SCORE field will contain the resulting score calculated
"^DD",727.812,727.812,25,23,3,0)
for one scale associated with the following tests: BDI, CRS, CAGE,
"^DD",727.812,727.812,25,23,4,0)
or ZUNG.  For all other tests contained in the MH INSTRUMENT file
"^DD",727.812,727.812,25,23,5,0)
(#601) that are pointed to by the INSTRUMENT field (#.01) of the
"^DD",727.812,727.812,25,23,6,0)
INSTRUMENT field (#1), sub-file #601.21, of file #601.2, SCALE SCORE
"^DD",727.812,727.812,25,23,7,0)
will be set to null.
"^DD",727.812,727.812,25,23,8,0)
  
"^DD",727.812,727.812,25,23,9,0)
If data is extracted from the ADDICTION SEVERITY INDEX file (#604),
"^DD",727.812,727.812,25,23,10,0)
then SCALE SCORE will be the score associated with one of the seven
"^DD",727.812,727.812,25,23,11,0)
standard composite score names that are part of the ASI evaluation.
"^DD",727.812,727.812,25,23,12,0)
These are Medical, Emp/Sup, Alcohol, Drug, Legal, Family, and Psych.
"^DD",727.812,727.812,25,23,13,0)
  
"^DD",727.812,727.812,25,23,14,0)
If data is extracted from the DIAGNOSTIC RESULTS - MENTAL HEALTH file
"^DD",727.812,727.812,25,23,15,0)
(#627.8), the SCALE SCORE will be null.
"^DD",727.812,727.812,25,"DT")
2990506
"^DD",727.812,727.812,26,0)
ATTENDING PHYSICIAN^F^^0;27^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,26,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,26,21,0)
^^4^4^2991014^^
"^DD",727.812,727.812,26,21,1,0)
If the patient identified in the PATIENT NO.  DFN field (#4) was
"^DD",727.812,727.812,26,21,2,0)
an inpatient on the date contained the DAY field (#8), then ATTENDING
"^DD",727.812,727.812,26,21,3,0)
PHYSICIAN will refer to the provider who was the ward-attending
"^DD",727.812,727.812,26,21,4,0)
physician for the patient.
"^DD",727.812,727.812,26,23,0)
^^5^5^2991014^^
"^DD",727.812,727.812,26,23,1,0)
Data will be taken from the ATTENDING PHYSICIAN field (#.19) of
"^DD",727.812,727.812,26,23,2,0)
the PATIENT MOVEMENT file (#405) record for a treating specialty
"^DD",727.812,727.812,26,23,3,0)
movement.  Using the date in the DAY field (#8) and the patient
"^DD",727.812,727.812,26,23,4,0)
pointer stored in the PATIENT NO. - DFN field (#4), a call is made
"^DD",727.812,727.812,26,23,5,0)
to IN5^VADPT which returns the pertinent patient movement data.
"^DD",727.812,727.812,26,"DT")
2990506
"^DD",727.812,727.812,27,0)
WARD PROVIDER^F^^0;28^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,27,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,27,21,0)
^^4^4^2991014^^
"^DD",727.812,727.812,27,21,1,0)
If the patient identified in the PATIENT NO.  DFN field (#4) was
"^DD",727.812,727.812,27,21,2,0)
an inpatient on the date contained the DAY field (#8), then WARD
"^DD",727.812,727.812,27,21,3,0)
PROVIDER will refer to the provider who was the primary ward
"^DD",727.812,727.812,27,21,4,0)
provider for the patient.
"^DD",727.812,727.812,27,23,0)
^^5^5^2991014^^
"^DD",727.812,727.812,27,23,1,0)
Data will be taken from the PRIAMRY CARE PHYSICIAN field (#.08) of
"^DD",727.812,727.812,27,23,2,0)
the PATIENT MOVEMENT file (#405) record for a treating specialty
"^DD",727.812,727.812,27,23,3,0)
movement.  Using the date in the DAY field (#8) and the patient
"^DD",727.812,727.812,27,23,4,0)
pointer stored in the PATIENT NO. - DFN field (#4), a call is made
"^DD",727.812,727.812,27,23,5,0)
to IN5^VADPT which returns the pertinent patient movement data.
"^DD",727.812,727.812,27,"DT")
2990506
"^DD",727.812,727.812,28,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.812,727.812,28,3)
Answer must be 1-10 characters in length.
"^DD",727.812,727.812,28,21,0)
^^1^1^2990507^
"^DD",727.812,727.812,28,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.812,727.812,28,23,0)
^^2^2^2990507^
"^DD",727.812,727.812,28,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.812,727.812,28,23,2,0)
in an FY2000 enhancement to the VistA system.
"^DD",727.812,727.812,28,"DT")
2990506
"^DD",727.812,727.812,29,0)
ASSOCIATE PC PROVIDER^F^^1;2^K:$L(X)>11!($L(X)<2) X
"^DD",727.812,727.812,29,3)
Answer must be 2-11 characters in length.
"^DD",727.812,727.812,29,21,0)
^^4^4^2990507^
"^DD",727.812,727.812,29,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.812,727.812,29,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.812,727.812,29,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.812,727.812,29,21,4,0)
character 2.
"^DD",727.812,727.812,29,23,0)
^^2^2^2990507^
"^DD",727.812,727.812,29,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.812,727.812,29,23,2,0)
the PCMM application.
"^DD",727.812,727.812,29,"DT")
2990506
"^DD",727.812,727.812,30,0)
ASSOCIATE PC PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.812,727.812,30,3)
Answer must be 1-8 characters in length.
"^DD",727.812,727.812,30,21,0)
^^1^1^2990507^^
"^DD",727.812,727.812,30,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.812,727.812,30,23,0)
^^2^2^2990507^^
"^DD",727.812,727.812,30,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.812,727.812,30,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.812,727.812,30,"DT")
2990506
"^DD",727.812,727.812,31,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;4^K:$L(X)>7!($L(X)<7) X
"^DD",727.812,727.812,31,3)
Answer must be 7 characters in length.
"^DD",727.812,727.812,31,21,0)
^^4^4^2990507^^
"^DD",727.812,727.812,31,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.812,727.812,31,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.812,727.812,31,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.812,727.812,31,21,4,0)
exactly 7 characters in length. 
"^DD",727.812,727.812,31,23,0)
^^3^3^2990507^^
"^DD",727.812,727.812,31,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.812,727.812,31,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.812,727.812,31,23,3,0)
PERS is the IEN from file #200.
"^DD",727.812,727.812,31,"DT")
2990506
"^DD",727.812,727.812,32,0)
CLASS FOR ASI^S^1:FULL;2:LITE;3:FOLLOW-UP;^1;5^Q
"^DD",727.812,727.812,32,21,0)
^^4^4^2990507^^
"^DD",727.812,727.812,32,21,1,0)
Classification for ASI data only.
"^DD",727.812,727.812,32,21,2,0)
1 = FULL
"^DD",727.812,727.812,32,21,3,0)
2 = LITE
"^DD",727.812,727.812,32,21,4,0)
3 = FOLLOW-UP
"^DD",727.812,727.812,32,23,0)
^^1^1^2990507^^
"^DD",727.812,727.812,32,23,1,0)
CLASS field (#.04) of the ADDICTION SEVERITY INDEX file (#604).
"^DD",727.812,727.812,32,"DT")
2990506
"^DD",727.812,727.812,33,0)
SPECIAL FOR ASI^S^1:PATIENT TERMINATED;2:PATIENT REFUSED;3:PATIENT UNABLE TO RESPOND;N:INTERVIEW COMPLETED;^1;6^Q
"^DD",727.812,727.812,33,21,0)
^^5^5^2990506^
"^DD",727.812,727.812,33,21,1,0)
Signifies completion status for ASI data only.
"^DD",727.812,727.812,33,21,2,0)
1 = PATIENT TERMINATED 
"^DD",727.812,727.812,33,21,3,0)
2 = PATIENT REFUSED 
"^DD",727.812,727.812,33,21,4,0)
3 = PATIENT UNABLE TO RESPOND
"^DD",727.812,727.812,33,21,5,0)
N = INTERVIEW COMPLETED
"^DD",727.812,727.812,33,23,0)
^^1^1^2990506^
"^DD",727.812,727.812,33,23,1,0)
SPECIAL field (#.11) of the ADDICTION SEVERITY INDEX file (#604).
"^DD",727.812,727.812,33,"DT")
2990506
"^DD",727.813,727.813,0)
FIELD^^29^30
"^DD",727.813,727.813,0,"DDA")
N
"^DD",727.813,727.813,0,"DIK")
ECX813
"^DD",727.813,727.813,0,"DIKOLD")
ECX813
"^DD",727.813,727.813,0,"DT")
2990510
"^DD",727.813,727.813,0,"IX","AC",727.813,2)

"^DD",727.813,727.813,0,"NM","LABORATORY EXTRACT")

"^DD",727.813,727.813,0,"VRPK")
DSS EXTRACTS
"^DD",727.813,727.813,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.813,727.813,.01,.1)
Sequence Number
"^DD",727.813,727.813,.01,1,0)
^.1^^0
"^DD",727.813,727.813,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.813,727.813,.01,21,0)
^^1^1^2960730^^^^
"^DD",727.813,727.813,.01,21,1,0)
The record number for this extract entry.
"^DD",727.813,727.813,.01,23,0)
^^1^1^2960730^^^^
"^DD",727.813,727.813,.01,23,1,0)
The internal entry number (IEN) for this record.  This entry is DINUMed.
"^DD",727.813,727.813,.01,"DT")
2980812
"^DD",727.813,727.813,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.813,727.813,1,.1)
Year/Month
"^DD",727.813,727.813,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.813,727.813,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.813,727.813,1,3)
Answer must be 6 characters in length.
"^DD",727.813,727.813,1,21,0)
^^2^2^2970922^^^^
"^DD",727.813,727.813,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.813,727.813,1,21,2,0)
for which this extract was performed.
"^DD",727.813,727.813,1,23,0)
^^1^1^2970922^^^^
"^DD",727.813,727.813,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.813,727.813,1,"DT")
2970924
"^DD",727.813,727.813,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.813,727.813,2,.1)
Extract Number
"^DD",727.813,727.813,2,1,0)
^.1
"^DD",727.813,727.813,2,1,1,0)
727.813^AC
"^DD",727.813,727.813,2,1,1,1)
S ^ECX(727.813,"AC",$E(X,1,30),DA)=""
"^DD",727.813,727.813,2,1,1,2)
K ^ECX(727.813,"AC",$E(X,1,30),DA)
"^DD",727.813,727.813,2,1,1,3)
DO NOT DELETE.
"^DD",727.813,727.813,2,1,1,"%D",0)
^^2^2^2960808^^^^
"^DD",727.813,727.813,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.813,727.813,2,1,1,"%D",2,0)
in this file.
"^DD",727.813,727.813,2,1,1,"DT")
2910802
"^DD",727.813,727.813,2,3)
Enter the extract number for this extract.
"^DD",727.813,727.813,2,21,0)
^^2^2^2960730^^^^
"^DD",727.813,727.813,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.813,727.813,2,21,2,0)
extract.
"^DD",727.813,727.813,2,23,0)
^^2^2^2960730^^^^
"^DD",727.813,727.813,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.813,727.813,2,23,2,0)
pick up the header for the mail message.
"^DD",727.813,727.813,2,"DT")
2960730
"^DD",727.813,727.813,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.813,727.813,3,.1)
Facility
"^DD",727.813,727.813,3,3)
Answer must be 1-7 characters in length.
"^DD",727.813,727.813,3,21,0)
^^1^1^2990510^^^^
"^DD",727.813,727.813,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.813,727.813,3,23,0)
^^4^4^2990510^^^^
"^DD",727.813,727.813,3,23,1,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.813,727.813,3,23,2,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.813,727.813,3,23,3,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.813,727.813,3,23,4,0)
the INSTITUTION file (#4).
"^DD",727.813,727.813,3,"DT")
2990510
"^DD",727.813,727.813,4,0)
PATIENT NO. - DFN^NJ2,0^^0;5^K:+X'=X!(X>10)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.813,727.813,4,.1)
Patient No. - DFN
"^DD",727.813,727.813,4,3)
Enter a number between 0 and 999999999, 0 decimal digits.
"^DD",727.813,727.813,4,21,0)
^^10^10^2990504^^^
"^DD",727.813,727.813,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.813,727.813,4,21,2,0)
  
"^DD",727.813,727.813,4,21,3,0)
The entity to which this extract applies. 
"^DD",727.813,727.813,4,21,4,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,4,21,5,0)
It could be an inpatient, a referral patient, or a research subject 
"^DD",727.813,727.813,4,21,6,0)
(which could be a patient, animal, tissue sample, etc.).
"^DD",727.813,727.813,4,21,7,0)
 
"^DD",727.813,727.813,4,21,8,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,4,21,9,0)
The patient to whom this extract applies. It could be an inpatient or a 
"^DD",727.813,727.813,4,21,10,0)
referral patient.
"^DD",727.813,727.813,4,23,0)
^^10^10^2990504^^^
"^DD",727.813,727.813,4,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,4,23,2,0)
Internal entry number in the PATIENT file (#2), or the REFERRAL  
"^DD",727.813,727.813,4,23,3,0)
file (#67), or the RESEARCH file (#67.1). Derived from the NAME field 
"^DD",727.813,727.813,4,23,4,0)
(.03) as defined from the PARENT FILE field (.02) in the LAB DATA file 
"^DD",727.813,727.813,4,23,5,0)
(#63).
"^DD",727.813,727.813,4,23,6,0)
 
"^DD",727.813,727.813,4,23,7,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,4,23,8,0)
Internal entry number in the PATIENT file (#2) or the REFERRAL PATIENT 
"^DD",727.813,727.813,4,23,9,0)
file (#67).  Derived from the NAME field (.03) as defined from the PARENT
"^DD",727.813,727.813,4,23,10,0)
FILE field (.02) in the LAB DATA file (#63).
"^DD",727.813,727.813,4,"DT")
2961017
"^DD",727.813,727.813,5,0)
SSN IDENTIFYING NUMBER^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.813,727.813,5,.1)
Social Security Identifying Number
"^DD",727.813,727.813,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.813,727.813,5,21,0)
^^5^5^2990504^^^^
"^DD",727.813,727.813,5,21,1,0)
The patient's social security number or the identifying number for a
"^DD",727.813,727.813,5,21,2,0)
non-patient entity.
"^DD",727.813,727.813,5,21,3,0)
 
"^DD",727.813,727.813,5,21,4,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.813,727.813,5,21,5,0)
patient" and will not be included in the extract.  
"^DD",727.813,727.813,5,23,0)
^^16^16^2990504^^^^
"^DD",727.813,727.813,5,23,1,0)
SSN or identifying number as defined by one of two methods:
"^DD",727.813,727.813,5,23,2,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,5,23,3,0)
   If the PARENT FILE field (.02) in the LAB DATA file (#63) is
"^DD",727.813,727.813,5,23,4,0)
   a. PATIENT file (#2) = SOCIAL SECURITY NUMBER field (.09)
"^DD",727.813,727.813,5,23,5,0)
   b. REFERRAL PATIENT file (#67) = "000123456"
"^DD",727.813,727.813,5,23,6,0)
   c. RESEARCH file (#67.1) = "888888888"
"^DD",727.813,727.813,5,23,7,0)
 
"^DD",727.813,727.813,5,23,8,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,5,23,9,0)
   If the PATIENT field (9) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,5,23,10,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,5,23,11,0)
   field (.03) multiple of the WKLD DATA file (#64.1) is
"^DD",727.813,727.813,5,23,12,0)
   a. PATIENT file (#2) = SOCIAL SECURITY NUMBER field (.09)
"^DD",727.813,727.813,5,23,13,0)
   b. REFERRAL PATIENT file (#67) = "000123456"
"^DD",727.813,727.813,5,23,14,0)
 
"^DD",727.813,727.813,5,23,15,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.813,727.813,5,23,16,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.813,727.813,5,"DT")
2961017
"^DD",727.813,727.813,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.813,727.813,6,.1)
Name
"^DD",727.813,727.813,6,3)
Your answer must be 4 characters in length.
"^DD",727.813,727.813,6,21,0)
^^1^1^2961127^^^^
"^DD",727.813,727.813,6,21,1,0)
The first four characters of the patient's last name or entity's name.
"^DD",727.813,727.813,6,23,0)
^^16^16^2961127^^
"^DD",727.813,727.813,6,23,1,0)
Free text first four characters of the patient's or entity's last name 
"^DD",727.813,727.813,6,23,2,0)
as determined by one of two methods:
"^DD",727.813,727.813,6,23,3,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,6,23,4,0)
   If the PARENT FILE field (.02) in the LAB DATA file (#63) is 
"^DD",727.813,727.813,6,23,5,0)
   a. PATIENT file (#2) = NAME field (.01) in the PATIENT file (#2). 
"^DD",727.813,727.813,6,23,6,0)
   b. REFERRAL PATIENT file (#67) = "RFRL"
"^DD",727.813,727.813,6,23,7,0)
   c. RESEARCH file (#67.1) = "RSCH"
"^DD",727.813,727.813,6,23,8,0)
 
"^DD",727.813,727.813,6,23,9,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,6,23,10,0)
   If the PATIENT field (9) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,6,23,11,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,6,23,12,0)
   field (.03) multiple of the WKLD DATA file (#64.1) is
"^DD",727.813,727.813,6,23,13,0)
   a. PATIENT file (#2) = NAME field (.01) in the PATIENT file (#2). 
"^DD",727.813,727.813,6,23,14,0)
   b. REFERRAL PATIENT file (#67) = "RFRL"
"^DD",727.813,727.813,6,23,15,0)
 
"^DD",727.813,727.813,6,23,16,0)
If necessary, trailing spaces are padded to equal 4 characters. 
"^DD",727.813,727.813,6,"AUDIT")

"^DD",727.813,727.813,6,"DT")
2960730
"^DD",727.813,727.813,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.813,727.813,7,.1)
In Out Patient Indicator
"^DD",727.813,727.813,7,3)
Enter 1 to indicate outpatient status, 3 for inpatient status.
"^DD",727.813,727.813,7,21,0)
^^2^2^2960730^^^^
"^DD",727.813,727.813,7,21,1,0)
Indicates whether the patient or entity was an inpatient or an 
"^DD",727.813,727.813,7,21,2,0)
outpatient for this extract.  
"^DD",727.813,727.813,7,23,0)
^^4^4^2960730^^^^
"^DD",727.813,727.813,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status.  If 
"^DD",727.813,727.813,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.813,727.813,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.813,727.813,7,23,4,0)
inpatient status. 
"^DD",727.813,727.813,7,"DT")
2960731
"^DD",727.813,727.813,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.813,727.813,8,.1)
Day
"^DD",727.813,727.813,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.813,727.813,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.813,727.813,8,3)
Answer must be 8 characters in length.
"^DD",727.813,727.813,8,21,0)
^^2^2^2970922^^^^
"^DD",727.813,727.813,8,21,1,0)
This 8-character numeric string represents the order date of
"^DD",727.813,727.813,8,21,2,0)
the Laboratory test.
"^DD",727.813,727.813,8,23,0)
^^19^19^2970923^^^^
"^DD",727.813,727.813,8,23,1,0)
Data source --
"^DD",727.813,727.813,8,23,2,0)
 
"^DD",727.813,727.813,8,23,3,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,8,23,4,0)
   LAB ORDER ENTRY file (#69); SPECIMEN sub-file (#69.01);
"^DD",727.813,727.813,8,23,5,0)
      DATE/TIME ORDERED field (#5)
"^DD",727.813,727.813,8,23,6,0)
 
"^DD",727.813,727.813,8,23,7,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,8,23,8,0)
   WKLD LOG file (#64.03); DATE ORDERED field (#13)
"^DD",727.813,727.813,8,23,9,0)
   Data inserted in this field by Laboratory routine LRCAPDSS
"^DD",727.813,727.813,8,23,10,0)
   and is derived from:
"^DD",727.813,727.813,8,23,11,0)
   WKLD DATA file (#64.1); DATE sub-file (#64.11);
"^DD",727.813,727.813,8,23,12,0)
      WKLD CODE sub-file (#64.111); ACCESSION WKLD CODE TIME sub-file
"^DD",727.813,727.813,8,23,13,0)
      (#64.1111); DATA ORDERED field (#11)
"^DD",727.813,727.813,8,23,14,0)
 
"^DD",727.813,727.813,8,23,15,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.813,727.813,8,23,16,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.813,727.813,8,23,17,0)
then a default is used.  The default date value is the value of the 
"^DD",727.813,727.813,8,23,18,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.813,727.813,8,23,19,0)
Year 2000 compliant per vendor.
"^DD",727.813,727.813,8,"DT")
2970924
"^DD",727.813,727.813,9,0)
ACCESSION AREA^F^^0;10^K:$L(X)>5!($L(X)<1) X
"^DD",727.813,727.813,9,.1)
Accession Area
"^DD",727.813,727.813,9,3)
Answer must be 1-5 characters in length.
"^DD",727.813,727.813,9,21,0)
^^5^5^2990510^^^^
"^DD",727.813,727.813,9,21,1,0)
If the patient is a regular medical center patient, this field holds
"^DD",727.813,727.813,9,21,2,0)
a pointer to file #68.
"^DD",727.813,727.813,9,21,3,0)
 
"^DD",727.813,727.813,9,21,4,0)
If the patient is a referral, this field holds the Agency Code of
"^DD",727.813,727.813,9,21,5,0)
the referring Institution.
"^DD",727.813,727.813,9,23,0)
^^22^22^2990510^^^^
"^DD",727.813,727.813,9,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,9,23,2,0)
   AREA field (.01) in the ACCESSION file (#68) as pointed to by the 
"^DD",727.813,727.813,9,23,3,0)
   ACCESSION AREA field (3) within the TEST multiple (6) within the 
"^DD",727.813,727.813,9,23,4,0)
   SPECIMEN multiple (1) of the LAB ORDER ENTRY file (#69). 
"^DD",727.813,727.813,9,23,5,0)
 
"^DD",727.813,727.813,9,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,9,23,7,0)
   Source:
"^DD",727.813,727.813,9,23,8,0)
   Field #14; file #64.03
"^DD",727.813,727.813,9,23,9,0)
   File d#6; sub-file #64.1111; sub-file #64.111; sub-file #64.11;
"^DD",727.813,727.813,9,23,10,0)
     file #64.1
"^DD",727.813,727.813,9,23,11,0)
   OR
"^DD",727.813,727.813,9,23,12,0)
   Field #14; file #64.03
"^DD",727.813,727.813,9,23,13,0)
   Field #95; file #4
"^DD",727.813,727.813,9,23,14,0)
  
"^DD",727.813,727.813,9,23,15,0)
   For laboratory procedure on a routine medical center patient,
"^DD",727.813,727.813,9,23,16,0)
   this field will contain the internal record number of the 
"^DD",727.813,727.813,9,23,17,0)
   Accession Area in the ACCESSION file (#68).
"^DD",727.813,727.813,9,23,18,0)
  
"^DD",727.813,727.813,9,23,19,0)
   For procedure on a referral patient, this field will contain
"^DD",727.813,727.813,9,23,20,0)
   the 2-character Agency Code from the AGENCY CODE field (#95)
"^DD",727.813,727.813,9,23,21,0)
   of the INSTITUTION file (#4) record which represents the 
"^DD",727.813,727.813,9,23,22,0)
   referring Institution.
"^DD",727.813,727.813,9,"DT")
2980120
"^DD",727.813,727.813,10,0)
ABBREVIATION^F^^0;11^K:$L(X)>5!($L(X)<1) X
"^DD",727.813,727.813,10,.1)
Abbreviation
"^DD",727.813,727.813,10,3)
Your answer must be 1 to 5 characters in length.
"^DD",727.813,727.813,10,21,0)
^^1^1^2990510^^^^
"^DD",727.813,727.813,10,21,1,0)
The abbreviation for the accession area associated with this event.
"^DD",727.813,727.813,10,23,0)
^^10^10^2990510^^^^
"^DD",727.813,727.813,10,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,10,23,2,0)
   ABBREVIATION field (.09) of the ACCESSION file (#68) as pointed to by 
"^DD",727.813,727.813,10,23,3,0)
   the ACCESSION AREA field (3) within the TEST multiple (6) within the 
"^DD",727.813,727.813,10,23,4,0)
   SPECIMEN # multiple (1) of the LAB ORDER ENTRY file (#69).
"^DD",727.813,727.813,10,23,5,0)
 
"^DD",727.813,727.813,10,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,10,23,7,0)
   ABBREVIATION field (.09) in the ACCESSION file (#68) as pointed to by 
"^DD",727.813,727.813,10,23,8,0)
   the MAJ. SECT. field (6) of the ACCESSION WKLD CODE TIME field 
"^DD",727.813,727.813,10,23,9,0)
   (1) multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,10,23,10,0)
   field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,10,"DT")
2960730
"^DD",727.813,727.813,11,0)
TEST^P60'^LAB(60,^0;12^Q
"^DD",727.813,727.813,11,.1)
Test
"^DD",727.813,727.813,11,3)
Enter the lab test for this entry.
"^DD",727.813,727.813,11,21,0)
^^1^1^2990510^^^^
"^DD",727.813,727.813,11,21,1,0)
The lab test associated with this event for this patient or entity.  
"^DD",727.813,727.813,11,23,0)
^^10^10^2990510^^^^
"^DD",727.813,727.813,11,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,11,23,2,0)
   NAME field (.01) in the LABORATORY TEST FILE (#60) as pointed to by 
"^DD",727.813,727.813,11,23,3,0)
   TEST/PROCEDURE field (.01) of the TEST multiple (6) within the 
"^DD",727.813,727.813,11,23,4,0)
   SPECIMEN # multiple (1) of the LAB ORDER ENTRY file (#69).
"^DD",727.813,727.813,11,23,5,0)
 
"^DD",727.813,727.813,11,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,11,23,7,0)
   NAME field (.01) in the LABORATORY TEST FILE (#60) as pointed to by
"^DD",727.813,727.813,11,23,8,0)
   the LAB TEST field (1) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,11,23,9,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,11,23,10,0)
   field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,11,"DT")
2960730
"^DD",727.813,727.813,12,0)
URGENCY OF TEST^P62.05'^LAB(62.05,^0;13^Q
"^DD",727.813,727.813,12,.1)
Urgency of Test
"^DD",727.813,727.813,12,3)
Enter urgency of test completed.
"^DD",727.813,727.813,12,21,0)
^^1^1^2990510^^^^
"^DD",727.813,727.813,12,21,1,0)
The urgency of the test completed.
"^DD",727.813,727.813,12,23,0)
^^10^10^2990510^^^^
"^DD",727.813,727.813,12,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,12,23,2,0)
   URGENCY field (.01) in the URGENCY FILE (#62.05) as pointed to by 
"^DD",727.813,727.813,12,23,3,0)
   URGENCY field (1) of the TEST multiple (6) within the SPECIMEN # 
"^DD",727.813,727.813,12,23,4,0)
   multiple (1) of the LAB ORDER ENTRY file (#69). 
"^DD",727.813,727.813,12,23,5,0)
 
"^DD",727.813,727.813,12,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,12,23,7,0)
   URGENCY field (.01) in the URGENCY FILE (#62.05) as pointed to by
"^DD",727.813,727.813,12,23,8,0)
   the URGENCY field (22) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,12,23,9,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,12,23,10,0)
   field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,12,"DT")
2960730
"^DD",727.813,727.813,13,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;14^Q
"^DD",727.813,727.813,13,.1)
Treating Specialty
"^DD",727.813,727.813,13,3)
Enter treating specialty for this patient or entity.
"^DD",727.813,727.813,13,21,0)
^^2^2^2960730^^^^
"^DD",727.813,727.813,13,21,1,0)
Indicates treating specialty for this patient or entity.  Will be set to 
"^DD",727.813,727.813,13,21,2,0)
null for outpatients.  
"^DD",727.813,727.813,13,23,0)
^^14^14^2960730^^^^
"^DD",727.813,727.813,13,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,13,23,2,0)
   This field is initialized to a null, indicating an outpatient 
"^DD",727.813,727.813,13,23,3,0)
   status. If a call to IN5^VADPT (using the patient IEN and the event 
"^DD",727.813,727.813,13,23,4,0)
   date) returns a patient movement number (indicating inpatient 
"^DD",727.813,727.813,13,23,5,0)
   status), then the value of VAIP(8), which is the pointer to the 
"^DD",727.813,727.813,13,23,6,0)
   FACILITY TREATING SPECIALTY file (#45.7), is used to get the 
"^DD",727.813,727.813,13,23,7,0)
   SPECIALTY field (1) which points to the SPECIALTY file (#42.4). 
"^DD",727.813,727.813,13,23,8,0)
 
"^DD",727.813,727.813,13,23,9,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,13,23,10,0)
   NAME field (.01) in the SPECIALTY file (#42.4), as pointed to by the 
"^DD",727.813,727.813,13,23,11,0)
   NAME field (.01) in the FACILITY TREATING SPECIALTY file (#45.7), as 
"^DD",727.813,727.813,13,23,12,0)
   pointed to by the TREATING SPECIALTY field (16) of the ACCESSION WKLD 
"^DD",727.813,727.813,13,23,13,0)
   CODE TIME field (1) multiple within the WKLD CODE field (1) multiple 
"^DD",727.813,727.813,13,23,14,0)
   within the DATE field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,13,"DT")
2960730
"^DD",727.813,727.813,14,0)
LOCATION^F^^0;15^K:$L(X)>20!($L(X)<1) X
"^DD",727.813,727.813,14,.1)
Location
"^DD",727.813,727.813,14,3)
Answer must be 1-20 characters in length.
"^DD",727.813,727.813,14,21,0)
^^1^1^2990701^^^^
"^DD",727.813,727.813,14,21,1,0)
The service/location from which the original order came.
"^DD",727.813,727.813,14,23,0)
^^14^14^2990701^^^^
"^DD",727.813,727.813,14,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,14,23,2,0)
   NAME field (.01) of the HOSPITAL LOCATION file (#44) as pointed to by 
"^DD",727.813,727.813,14,23,3,0)
   the ORDERING LOCATION field (23) within the SPECIMEN # multiple (1) 
"^DD",727.813,727.813,14,23,4,0)
   of the LAB ORDER ENTRY file (#69). 
"^DD",727.813,727.813,14,23,5,0)
 
"^DD",727.813,727.813,14,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,14,23,7,0)
   NAME field (.01) of the HOSPITAL LOCATION file (#44) as pointed to by 
"^DD",727.813,727.813,14,23,8,0)
   the ORDERING LOCATION field (20) of the ACCESSION WKLD CODE TIME 
"^DD",727.813,727.813,14,23,9,0)
   field (1) multiple within the WKLD CODE field (1) multiple within the 
"^DD",727.813,727.813,14,23,10,0)
   DATE field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,14,23,11,0)
 
"^DD",727.813,727.813,14,23,12,0)
In the case of the Lab Extract with LMIP Codes, this field may sometimes 
"^DD",727.813,727.813,14,23,13,0)
be null since Lab allows "non-standard" locations to be entered and 
"^DD",727.813,727.813,14,23,14,0)
these entries would be of no help to the purpose of this extract.
"^DD",727.813,727.813,14,"DT")
2980708
"^DD",727.813,727.813,15,0)
PROVIDER^F^^0;16^K:$L(X)>11!($L(X)<1) X
"^DD",727.813,727.813,15,.1)
Provider
"^DD",727.813,727.813,15,3)
Enter provider for this record.
"^DD",727.813,727.813,15,21,0)
^^1^1^2980708^^^^
"^DD",727.813,727.813,15,21,1,0)
The provider assigned to this patient or entity.  
"^DD",727.813,727.813,15,23,0)
^^14^14^2980708^^^^
"^DD",727.813,727.813,15,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,15,23,2,0)
   NAME field (.01) of the PROVIDER file (#6) or the NAME field (.01) of 
"^DD",727.813,727.813,15,23,3,0)
   the NEW PERSON file (#200) as pointed to by the PROVIDER field (7) 
"^DD",727.813,727.813,15,23,4,0)
   within the SPECIMEN # multiple (1) of the LAB ORDER ENTRY file (#69). 
"^DD",727.813,727.813,15,23,5,0)
 
"^DD",727.813,727.813,15,23,6,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,15,23,7,0)
   NAME field (.01) of the PROVIDER file (#6) or the NAME field (.01) of 
"^DD",727.813,727.813,15,23,8,0)
   the NEW PERSON file (#200) as pointed to by the PROVIDER field (15) 
"^DD",727.813,727.813,15,23,9,0)
   of the ACCESSION WKLD CODE TIME field (1) multiple within the WKLD 
"^DD",727.813,727.813,15,23,10,0)
   CODE field (1) multiple within the DATE field (.03) multiple of the 
"^DD",727.813,727.813,15,23,11,0)
   WKLD DATA file (#64.1).
"^DD",727.813,727.813,15,23,12,0)
 
"^DD",727.813,727.813,15,23,13,0)
The pointer value for the provider will be prefixed by "6" if found in
"^DD",727.813,727.813,15,23,14,0)
file #6; it will be prefixed by "2" if found in file #200.
"^DD",727.813,727.813,15,"DT")
2961017
"^DD",727.813,727.813,16,0)
MOVEMENT FILE #^P405'^DGPM(^0;17^Q
"^DD",727.813,727.813,16,.1)
Movement File Number
"^DD",727.813,727.813,16,3)
Enter the movement number associated with this patient or null for an entity. 
"^DD",727.813,727.813,16,21,0)
^^3^3^2960731^^^^
"^DD",727.813,727.813,16,21,1,0)
Movement number from the PATIENT MOVEMENT file (#405) associated with 
"^DD",727.813,727.813,16,21,2,0)
this event for a patient.  This field will be set to null for non-
"^DD",727.813,727.813,16,21,3,0)
patient or outpatient events.
"^DD",727.813,727.813,16,23,0)
^^5^5^2960731^^^^
"^DD",727.813,727.813,16,23,1,0)
This field is initialized to a null, indicating an outpatient status.  
"^DD",727.813,727.813,16,23,2,0)
If a call to IN5^VADPT (using the patient IEN and the event date) 
"^DD",727.813,727.813,16,23,3,0)
returns a patient movement number (indicating inpatient status), then 
"^DD",727.813,727.813,16,23,4,0)
this field is set to the value of VAIP(1), which is the pointer to the 
"^DD",727.813,727.813,16,23,5,0)
PATIENT MOVEMENT file (#405). 
"^DD",727.813,727.813,16,"DT")
2960730
"^DD",727.813,727.813,17,0)
FILE^F^^0;18^K:$L(X)>5!($L(X)<1) X
"^DD",727.813,727.813,17,.1)
File
"^DD",727.813,727.813,17,3)
Your answer must be 1 to 5 characters in length.
"^DD",727.813,727.813,17,21,0)
^^2^2^2990510^^^^
"^DD",727.813,727.813,17,21,1,0)
Parent file from which entity was extracted, i.e., PATIENT file (#2), 
"^DD",727.813,727.813,17,21,2,0)
REFERRAL PATIENT file (#67), or RESEARCH file (#67.1).
"^DD",727.813,727.813,17,23,0)
^^14^14^2990510^^^^
"^DD",727.813,727.813,17,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,17,23,2,0)
   If the PARENT FILE field (.02) of the LAB DATA file (#63) as pointed 
"^DD",727.813,727.813,17,23,3,0)
   to by the LRDFN field (.01) within the SPECIMEN # multiple (1) of the 
"^DD",727.813,727.813,17,23,4,0)
   LAB ORDER ENTRY file (#69) is
"^DD",727.813,727.813,17,23,5,0)
   a. 2 = PATIENT file (#2)
"^DD",727.813,727.813,17,23,6,0)
   b. 67 = REFERRAL PATIENT file (#67)
"^DD",727.813,727.813,17,23,7,0)
   c. 67.1 = RESEARCH file (#67.1).
"^DD",727.813,727.813,17,23,8,0)
 
"^DD",727.813,727.813,17,23,9,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,17,23,10,0)
   If the PATIENT field (9) of the ACCESSION WKLD CODE TIME field (1) 
"^DD",727.813,727.813,17,23,11,0)
   multiple within the WKLD CODE field (1) multiple within the DATE 
"^DD",727.813,727.813,17,23,12,0)
   field (.03) contains
"^DD",727.813,727.813,17,23,13,0)
   a. ^DPT( = PATIENT file (#2)
"^DD",727.813,727.813,17,23,14,0)
   b. ^LRT(67, = REFERRAL PATIENT file (#67)
"^DD",727.813,727.813,17,"DT")
2961022
"^DD",727.813,727.813,18,0)
TIME^FO^^0;19^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.813,727.813,18,.1)
Time
"^DD",727.813,727.813,18,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.813,727.813,18,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.813,727.813,18,3)
Answer must be 6 characters in length.
"^DD",727.813,727.813,18,21,0)
^^2^2^2970918^^^^
"^DD",727.813,727.813,18,21,1,0)
A 6-character numeric string that represents the time of day
"^DD",727.813,727.813,18,21,2,0)
at which the Laboratory test was ordered.
"^DD",727.813,727.813,18,23,0)
^^18^18^2970918^^^^
"^DD",727.813,727.813,18,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,18,23,2,0)
 
"^DD",727.813,727.813,18,23,3,0)
Data source --
"^DD",727.813,727.813,18,23,4,0)
 
"^DD",727.813,727.813,18,23,5,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,18,23,6,0)
   LAB ORDER ENTRY file (#69); SPECIMEN sub-file (#69.01);
"^DD",727.813,727.813,18,23,7,0)
      DATE/TIME ORDERED field (#5)
"^DD",727.813,727.813,18,23,8,0)
 
"^DD",727.813,727.813,18,23,9,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,18,23,10,0)
   WKLD LOG file (#64.03); DATE ORDERED field (#13)
"^DD",727.813,727.813,18,23,11,0)
   Data inserted in this field by Laboratory routine LRCAPDSS
"^DD",727.813,727.813,18,23,12,0)
   and is derived from:
"^DD",727.813,727.813,18,23,13,0)
   WKLD DATA file (#64.1); DATE sub-file (#64.11);
"^DD",727.813,727.813,18,23,14,0)
      WKLD CODE sub-file (#64.111); ACCESSION WKLD CODE TIME sub-file
"^DD",727.813,727.813,18,23,15,0)
      (#64.1111); DATA ORDERED field (#11)
"^DD",727.813,727.813,18,23,16,0)
 
"^DD",727.813,727.813,18,23,17,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.813,727.813,18,23,18,0)
cannot be determined, then "000300" is used as default.
"^DD",727.813,727.813,18,"DT")
2970924
"^DD",727.813,727.813,19,0)
WORKLOAD CODE^F^^0;20^K:$L(X)>10!($L(X)<1) X
"^DD",727.813,727.813,19,.1)
Workload Code
"^DD",727.813,727.813,19,3)
Your answer must be 1 to 10 characters in length.
"^DD",727.813,727.813,19,21,0)
^^3^3^2990510^^^^
"^DD",727.813,727.813,19,21,1,0)
For Lab Extract with LMIP Codes, this is the workload code for this event.
"^DD",727.813,727.813,19,21,2,0)
This corresponds to a CAP code.  For Lab Extract without LMIP Codes, this
"^DD",727.813,727.813,19,21,3,0)
field is set to null.
"^DD",727.813,727.813,19,23,0)
^^7^7^2990510^^^^
"^DD",727.813,727.813,19,23,1,0)
1. For Lab Extract without LMIP Codes:
"^DD",727.813,727.813,19,23,2,0)
   This field is set to null.  
"^DD",727.813,727.813,19,23,3,0)
 
"^DD",727.813,727.813,19,23,4,0)
2. For Lab Extract with LMIP Codes:
"^DD",727.813,727.813,19,23,5,0)
   WKLD CODE field (1) of the WKLD CODE file (#64) as pointed to by the
"^DD",727.813,727.813,19,23,6,0)
   WKLD CODE field (.01) of the WKLD CODE field (1) multiple within the
"^DD",727.813,727.813,19,23,7,0)
   DATE field (.03) multiple of the WKLD DATA file (#64.1).
"^DD",727.813,727.813,19,"DT")
2961017
"^DD",727.813,727.813,20,0)
PRIMARY CARE TEAM^F^^0;21^K:$L(X)>4!($L(X)<1) X
"^DD",727.813,727.813,20,.1)
Primary Care Team
"^DD",727.813,727.813,20,3)
Enter primary care team assigned to this patient.
"^DD",727.813,727.813,20,21,0)
^^1^1^2961101^^^
"^DD",727.813,727.813,20,21,1,0)
The primary care team assigned to this patient.
"^DD",727.813,727.813,20,23,0)
^^12^12^2961101^
"^DD",727.813,727.813,20,23,1,0)
The ACCESSION DATE is defined by one of two methods. For Lab Extract 
"^DD",727.813,727.813,20,23,2,0)
without LMIP Codes, ACCESSION DATE is defined by the DATE ORDERED field 
"^DD",727.813,727.813,20,23,3,0)
(.01) of the LAB ORDER ENTRY file (#69). For Lab Extract with LMIP 
"^DD",727.813,727.813,20,23,4,0)
Codes, ACCESSION DATE is defined by the DATE ORDERED field (11) of the 
"^DD",727.813,727.813,20,23,5,0)
ACCESSION WKLD CODE TIME field (1) multiple within the WKLD CODE field 
"^DD",727.813,727.813,20,23,6,0)
(1) multiple within the DATE field (.03) multiple of the WKLD DATA file 
"^DD",727.813,727.813,20,23,7,0)
(#64.1).
"^DD",727.813,727.813,20,23,8,0)
  
"^DD",727.813,727.813,20,23,9,0)
Using the ACCESSION DATE and the patient pointer (DFN) stored in the 
"^DD",727.813,727.813,20,23,10,0)
PATIENT NO. - DFN field (4) in the LABORATORY EXTRACT file (#727.813), a 
"^DD",727.813,727.813,20,23,11,0)
call is made to the Scheduling API, OUTPTTM^SDUTL3. The API returns the 
"^DD",727.813,727.813,20,23,12,0)
team's internal entry number and name from the TEAM file (#404.51). Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.813,727.813,20,"DT")
2961101
"^DD",727.813,727.813,21,0)
PRIMARY CARE PROVIDER^F^^0;22^K:$L(X)>11!($L(X)<1) X
"^DD",727.813,727.813,21,.1)
Primary Care Provider
"^DD",727.813,727.813,21,3)
Enter primary care provider assigned to this patient.
"^DD",727.813,727.813,21,21,0)
^^1^1^2980708^^^^
"^DD",727.813,727.813,21,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.813,727.813,21,23,0)
^^16^16^2980708^^^
"^DD",727.813,727.813,21,23,1,0)
The ACCESSION DATE is defined by one of two methods. For Lab Extract 
"^DD",727.813,727.813,21,23,2,0)
without LMIP Codes, ACCESSION DATE is defined by the DATE ORDERED field 
"^DD",727.813,727.813,21,23,3,0)
(.01) of the LAB ORDER ENTRY file (#69). For Lab Extract with LMIP 
"^DD",727.813,727.813,21,23,4,0)
Codes, ACCESSION DATE is defined by the DATE ORDERED field (11) of the 
"^DD",727.813,727.813,21,23,5,0)
ACCESSION WKLD CODE TIME field (1) multiple within the WKLD CODE field 
"^DD",727.813,727.813,21,23,6,0)
(1) multiple within the DATE field (.03) multiple of the WKLD DATA file 
"^DD",727.813,727.813,21,23,7,0)
(#64.1).
"^DD",727.813,727.813,21,23,8,0)
  
"^DD",727.813,727.813,21,23,9,0)
Using the ACCESSION DATE and the patient pointer (DFN) stored in the 
"^DD",727.813,727.813,21,23,10,0)
PATIENT NO. - DFN field (4) in the LABORATORY EXTRACT file (#727.813), a 
"^DD",727.813,727.813,21,23,11,0)
call is made to the Scheduling API, OUTPTPR^SDUTL3. The API returns the 
"^DD",727.813,727.813,21,23,12,0)
provider's internal entry number and name from the NEW PERSON file 
"^DD",727.813,727.813,21,23,13,0)
(#200). 
"^DD",727.813,727.813,21,23,14,0)
 
"^DD",727.813,727.813,21,23,15,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.813,727.813,21,23,16,0)
is "200".
"^DD",727.813,727.813,21,"DT")
2961017
"^DD",727.813,727.813,22,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.813,727.813,22,3)
Answer must be 1-10 characters in length.
"^DD",727.813,727.813,22,21,0)
^^1^1^2990504^
"^DD",727.813,727.813,22,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.813,727.813,22,23,0)
^^2^2^2990504^
"^DD",727.813,727.813,22,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.813,727.813,22,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.813,727.813,22,"DT")
2990504
"^DD",727.813,727.813,23,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.813,727.813,23,3)
Answer must be 4-10 characters in length.
"^DD",727.813,727.813,23,21,0)
^^1^1^2990506^
"^DD",727.813,727.813,23,21,1,0)
The DSS Department Code for the Laboratory product.
"^DD",727.813,727.813,23,23,0)
^^2^2^2990506^
"^DD",727.813,727.813,23,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.813,727.813,23,23,2,0)
Field is set to null.
"^DD",727.813,727.813,23,"DT")
2990506
"^DD",727.813,727.813,24,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.813,727.813,24,3)
Answer must be 1-8 characters in length.
"^DD",727.813,727.813,24,21,0)
^^1^1^2990506^
"^DD",727.813,727.813,24,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.813,727.813,24,23,0)
^^4^4^2990506^
"^DD",727.813,727.813,24,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.813,727.813,24,23,2,0)
field will hold the Provider NPI.
"^DD",727.813,727.813,24,23,3,0)
   
"^DD",727.813,727.813,24,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.813,727.813,24,"DT")
2990506
"^DD",727.813,727.813,25,0)
PC PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.813,727.813,25,3)
Answer must be 1-8 characters in length.
"^DD",727.813,727.813,25,21,0)
^^1^1^2990506^^^
"^DD",727.813,727.813,25,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.813,727.813,25,23,0)
^^4^4^2990506^^
"^DD",727.813,727.813,25,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.813,727.813,25,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.813,727.813,25,23,3,0)
   
"^DD",727.813,727.813,25,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.813,727.813,25,"DT")
2990506
"^DD",727.813,727.813,26,0)
PC PROVIDER PERSON CLASS^F^^1;5^K:$L(X)>7!($L(X)<7) X
"^DD",727.813,727.813,26,3)
Answer must be 7 characters in length.
"^DD",727.813,727.813,26,21,0)
^^2^2^2981026^
"^DD",727.813,727.813,26,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.813,727.813,26,21,2,0)
associated with this record.
"^DD",727.813,727.813,26,23,0)
^^6^6^2981026^
"^DD",727.813,727.813,26,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.813,727.813,26,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.813,727.813,26,23,3,0)
extract record.
"^DD",727.813,727.813,26,23,4,0)
  
"^DD",727.813,727.813,26,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.813,727.813,26,23,6,0)
7 characters in length.
"^DD",727.813,727.813,26,"DT")
2981026
"^DD",727.813,727.813,27,0)
ASSOCIATE PC PROVIDER^F^^1;6^K:$L(X)>11!($L(X)<2) X
"^DD",727.813,727.813,27,3)
Answer must be 2-11 characters in length.
"^DD",727.813,727.813,27,21,0)
^^4^4^2990505^^
"^DD",727.813,727.813,27,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.813,727.813,27,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.813,727.813,27,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.813,727.813,27,21,4,0)
character 2.
"^DD",727.813,727.813,27,23,0)
^^2^2^2990505^^
"^DD",727.813,727.813,27,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.813,727.813,27,23,2,0)
the PCMM application.
"^DD",727.813,727.813,27,"DT")
2990504
"^DD",727.813,727.813,28,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;7^K:$L(X)>7!($L(X)<7) X
"^DD",727.813,727.813,28,3)
Answer must be 7 characters in length.
"^DD",727.813,727.813,28,21,0)
^^4^4^2990505^^^
"^DD",727.813,727.813,28,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.813,727.813,28,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.813,727.813,28,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.813,727.813,28,21,4,0)
exactly 7 characters in length. 
"^DD",727.813,727.813,28,23,0)
^^3^3^2990505^^^
"^DD",727.813,727.813,28,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.813,727.813,28,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.813,727.813,28,23,3,0)
PERS is the IEN from file #200.
"^DD",727.813,727.813,28,"DT")
2990504
"^DD",727.813,727.813,29,0)
ASSOCIATE PC PROVIDER NPI^F^^1;8^K:$L(X)>8!($L(X)<1) X
"^DD",727.813,727.813,29,3)
Answer must be 1-8 characters in length.
"^DD",727.813,727.813,29,21,0)
^^1^1^2990507^
"^DD",727.813,727.813,29,21,1,0)
The Associate Primary Care Provider's National Provider Identifier.
"^DD",727.813,727.813,29,23,0)
^^2^2^2990507^
"^DD",727.813,727.813,29,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.813,727.813,29,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.813,727.813,29,"DT")
2990507
"^DD",727.814,727.814,0)
FIELD^^30^31
"^DD",727.814,727.814,0,"DIK")
ECX814
"^DD",727.814,727.814,0,"DIKOLD")
ECX814
"^DD",727.814,727.814,0,"DT")
2990507
"^DD",727.814,727.814,0,"IX","AC",727.814,2)

"^DD",727.814,727.814,0,"NM","RADIOLOGY EXTRACT")

"^DD",727.814,727.814,0,"VRPK")
DSS EXTRACTS
"^DD",727.814,727.814,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.814,727.814,.01,.1)
Sequence Number
"^DD",727.814,727.814,.01,1,0)
^.1^^0
"^DD",727.814,727.814,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.814,727.814,.01,21,0)
^^1^1^2961004^^^^
"^DD",727.814,727.814,.01,21,1,0)
The record number for this extract entry.
"^DD",727.814,727.814,.01,23,0)
^^1^1^2961004^^^
"^DD",727.814,727.814,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.814,727.814,.01,"DT")
2980812
"^DD",727.814,727.814,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.814,727.814,1,.1)
Year/Month
"^DD",727.814,727.814,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.814,727.814,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.814,727.814,1,3)
Answer must be 6 characters in length.
"^DD",727.814,727.814,1,21,0)
^^2^2^2970918^^^^
"^DD",727.814,727.814,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.814,727.814,1,21,2,0)
for which this extract was performed.
"^DD",727.814,727.814,1,23,0)
^^1^1^2970918^^^^
"^DD",727.814,727.814,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.814,727.814,1,"DT")
2970924
"^DD",727.814,727.814,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.814,727.814,2,.1)
Extract Number
"^DD",727.814,727.814,2,1,0)
^.1
"^DD",727.814,727.814,2,1,1,0)
727.814^AC
"^DD",727.814,727.814,2,1,1,1)
S ^ECX(727.814,"AC",$E(X,1,30),DA)=""
"^DD",727.814,727.814,2,1,1,2)
K ^ECX(727.814,"AC",$E(X,1,30),DA)
"^DD",727.814,727.814,2,1,1,3)
DO NOT DELETE.
"^DD",727.814,727.814,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.814,727.814,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.814,727.814,2,1,1,"%D",2,0)
in this file.
"^DD",727.814,727.814,2,1,1,"DT")
2910802
"^DD",727.814,727.814,2,3)
Enter the extract number for this extract.
"^DD",727.814,727.814,2,21,0)
^^2^2^2961004^^^^
"^DD",727.814,727.814,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.814,727.814,2,21,2,0)
extract.
"^DD",727.814,727.814,2,23,0)
^^2^2^2961004^^^^
"^DD",727.814,727.814,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.814,727.814,2,23,2,0)
pick up the header for the mail message.
"^DD",727.814,727.814,2,"DT")
2961004
"^DD",727.814,727.814,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.814,727.814,3,.1)
Facility
"^DD",727.814,727.814,3,3)
Enter the station number where this extract was performed.
"^DD",727.814,727.814,3,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.814,727.814,3,23,0)
^^4^4^2971113^^^^
"^DD",727.814,727.814,3,23,1,0)
Derived from the HOSPITAL DIVISION field (3) within the REGISTERED 
"^DD",727.814,727.814,3,23,2,0)
EXAMS multiple (2) in the RAD/NUC MED PATIENT file (#70). HOSPITAL 
"^DD",727.814,727.814,3,23,3,0)
DIVISION points to the RAD/NUC MED DIVISION file (#79) which in turn 
"^DD",727.814,727.814,3,23,4,0)
points to the INSTITUTION file (#4).
"^DD",727.814,727.814,3,"DT")
2961017
"^DD",727.814,727.814,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.814,727.814,4,.1)
Patient No. - DFN
"^DD",727.814,727.814,4,3)
Enter the name of the patient for this extract record.
"^DD",727.814,727.814,4,21,0)
^^1^1^2990504^^^^
"^DD",727.814,727.814,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.814,727.814,4,23,0)
^^3^3^2990504^^^^
"^DD",727.814,727.814,4,23,1,0)
Derived from the NAME field (.01) of the RAD/NUC MED PATIENT file (#70), 
"^DD",727.814,727.814,4,23,2,0)
which is DINUMed to the PATIENT file (#2). This data represents the 
"^DD",727.814,727.814,4,23,3,0)
patient DFN.
"^DD",727.814,727.814,4,"DT")
2961018
"^DD",727.814,727.814,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.814,727.814,5,.1)
Social Security Number
"^DD",727.814,727.814,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.814,727.814,5,21,0)
^^4^4^2990504^^^^
"^DD",727.814,727.814,5,21,1,0)
The patient's social security number.
"^DD",727.814,727.814,5,21,2,0)
 
"^DD",727.814,727.814,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.814,727.814,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.814,727.814,5,23,0)
^^6^6^2990504^^^
"^DD",727.814,727.814,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.814,727.814,5,23,2,0)
in the RADIOLOGY EXTRACT file (#727.814), SSN data is derived from the
"^DD",727.814,727.814,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.814,727.814,5,23,4,0)
 
"^DD",727.814,727.814,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.814,727.814,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.814,727.814,5,"DT")
2961004
"^DD",727.814,727.814,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.814,727.814,6,.1)
Name
"^DD",727.814,727.814,6,3)
Your answer must be 4 characters in length.
"^DD",727.814,727.814,6,21,0)
^^1^1^2961022^^^^
"^DD",727.814,727.814,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.814,727.814,6,23,0)
^^4^4^2961022^^
"^DD",727.814,727.814,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.814,727.814,6,23,2,0)
in the RADIOLOGY EXTRACT file (#727.814), NAME data is derived from the
"^DD",727.814,727.814,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.814,727.814,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.814,727.814,6,"DT")
2961004
"^DD",727.814,727.814,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.814,727.814,7,.1)
In Out Patient Indicator
"^DD",727.814,727.814,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.814,727.814,7,21,0)
^^2^2^2970724^^^^
"^DD",727.814,727.814,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.814,727.814,7,21,2,0)
extract entry.
"^DD",727.814,727.814,7,23,0)
^^4^4^2970724^^^^
"^DD",727.814,727.814,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.814,727.814,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.814,727.814,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.814,727.814,7,23,4,0)
inpatient status.
"^DD",727.814,727.814,7,"DT")
2961004
"^DD",727.814,727.814,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.814,727.814,8,.1)
Day
"^DD",727.814,727.814,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.814,727.814,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.814,727.814,8,3)
Answer must be 8 characters in length.
"^DD",727.814,727.814,8,21,0)
^^2^2^2970918^^^^
"^DD",727.814,727.814,8,21,1,0)
An 8-character numeric string that represents the date on which the
"^DD",727.814,727.814,8,21,2,0)
Radiology procedure was performed.
"^DD",727.814,727.814,8,23,0)
^^10^10^2970923^^^^
"^DD",727.814,727.814,8,23,1,0)
Data source:
"^DD",727.814,727.814,8,23,2,0)
 
"^DD",727.814,727.814,8,23,3,0)
RAD/NUC MED PATIENT file (#70); REGISTERED EXAMS sub-file (#70.02)
"^DD",727.814,727.814,8,23,4,0)
   EXAM DATE field (#.01)
"^DD",727.814,727.814,8,23,5,0)
 
"^DD",727.814,727.814,8,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.814,727.814,8,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.814,727.814,8,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.814,727.814,8,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.814,727.814,8,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.814,727.814,8,"DT")
2970924
"^DD",727.814,727.814,9,0)
CPT CODE & MODIFIERS^FO^^0;10^K:$L(X)>15!($L(X)<5) X
"^DD",727.814,727.814,9,.1)

"^DD",727.814,727.814,9,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.814,727.814,9,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.814,727.814,9,3)
Answer must be 5-15 characters in length.
"^DD",727.814,727.814,9,21,0)
^^5^5^2990505^^^^
"^DD",727.814,727.814,9,21,1,0)
The Current Procedural Terminology (CPT) code for the radiology 
"^DD",727.814,727.814,9,21,2,0)
procedure performed.
"^DD",727.814,727.814,9,21,3,0)
 
"^DD",727.814,727.814,9,21,4,0)
The 5 character CPT Code is followed by upto five (5) 2-character CPT
"^DD",727.814,727.814,9,21,5,0)
code modifiers.
"^DD",727.814,727.814,9,23,0)
^^9^9^2990505^^^^
"^DD",727.814,727.814,9,23,1,0)
Derived from the CPT CODE field (9) in the RAD/NUC MED PROCEDURES file 
"^DD",727.814,727.814,9,23,2,0)
(#71) for the procedure identified in the RADIOLOGY PROCEDURE field (2) 
"^DD",727.814,727.814,9,23,3,0)
of the EXAMINATIONS multiple (50) of the REGISTERED EXAMS multiple (2) 
"^DD",727.814,727.814,9,23,4,0)
in the RAD/NUC MED PATIENT file (#70). CPT CODE is a pointer to the CPT 
"^DD",727.814,727.814,9,23,5,0)
CODE field (.01) in the CPT file (#81).
"^DD",727.814,727.814,9,23,6,0)
 
"^DD",727.814,727.814,9,23,7,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the CPT
"^DD",727.814,727.814,9,23,8,0)
MODIFIER file (#81.3).  It is not known at this time where the Radiology
"^DD",727.814,727.814,9,23,9,0)
package will store those modifiers.
"^DD",727.814,727.814,9,"DT")
2990614
"^DD",727.814,727.814,10,0)
PROCEDURE^P71'^RAMIS(71,^0;11^Q
"^DD",727.814,727.814,10,.1)
Procedure
"^DD",727.814,727.814,10,3)
Enter the radiology procedure associated with this case.
"^DD",727.814,727.814,10,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,10,21,1,0)
The radiology procedure associated with this case.
"^DD",727.814,727.814,10,23,0)
^^4^4^2971113^^^^
"^DD",727.814,727.814,10,23,1,0)
Derived from the RADIOLOGY PROCEDURE field (2) within the EXAMINATIONS 
"^DD",727.814,727.814,10,23,2,0)
multiple (50) of the REGISTERED EXAMS multiple (2) of the RAD/NUC MED 
"^DD",727.814,727.814,10,23,3,0)
PATIENT file (#70). This field in a pointer to the RAD/NUC MED
"^DD",727.814,727.814,10,23,4,0)
PROCEDURES file (#71).
"^DD",727.814,727.814,10,"DT")
2961004
"^DD",727.814,727.814,11,0)
IMAGING LOCATION^P79.1'^RA(79.1,^0;12^Q
"^DD",727.814,727.814,11,.1)
Imaging Location
"^DD",727.814,727.814,11,3)
Enter name of the imaging location where this radiology exam was performed.
"^DD",727.814,727.814,11,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,11,21,1,0)
The imaging location where this radiology exam was performed.
"^DD",727.814,727.814,11,23,0)
^^3^3^2971113^^^^
"^DD",727.814,727.814,11,23,1,0)
Derived from the IMAGING LOCATION field (4) within the REGISTERED EXAMS 
"^DD",727.814,727.814,11,23,2,0)
multiple (2) of the RAD/NUC MED PATIENT file (#70). It is a pointer to the 
"^DD",727.814,727.814,11,23,3,0)
IMAGING LOCATIONS file (#79.1).
"^DD",727.814,727.814,11,"DT")
2961004
"^DD",727.814,727.814,12,0)
LOCATION (WARD OR CLINIC)^P44'^SC(^0;13^Q
"^DD",727.814,727.814,12,.1)
Location (Ward or Clinic)
"^DD",727.814,727.814,12,3)
Enter the ward or clinic of the patient at the time of the radiologic exam.
"^DD",727.814,727.814,12,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,12,21,1,0)
The patient's ward or clinic location.
"^DD",727.814,727.814,12,23,0)
^^10^10^2971113^^^^
"^DD",727.814,727.814,12,23,1,0)
Derived from the WARD field (6) within the EXAMINATIONS multiple (50) of 
"^DD",727.814,727.814,12,23,2,0)
the REGISTERED EXAMS multiple (2) of the RAD/NUC MED PATIENT file (#70). 
"^DD",727.814,727.814,12,23,3,0)
Using this WARD LOCATION file (#42) pointer, the data is derived from 
"^DD",727.814,727.814,12,23,4,0)
the HOSPITAL LOCATION FILE POINTER field (44) in the WARD LOCATION file 
"^DD",727.814,727.814,12,23,5,0)
(#42) which is a pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.814,727.814,12,23,6,0)
  
"^DD",727.814,727.814,12,23,7,0)
If the patient is not assigned to a ward, data is derived from the 
"^DD",727.814,727.814,12,23,8,0)
PRINCIPAL CLINIC field (8) within the EXAMINATIONS multiple (50) of the 
"^DD",727.814,727.814,12,23,9,0)
REGISTERED EXAMS multiple (2) of the RAD/NUC MED PATIENT file (#70). 
"^DD",727.814,727.814,12,23,10,0)
PRINCIPAL CLINIC is a pointer to the HOSPITAL LOCATION file (#44).
"^DD",727.814,727.814,12,"DT")
2961004
"^DD",727.814,727.814,13,0)
SERVICE^P49'^DIC(49,^0;14^Q
"^DD",727.814,727.814,13,.1)
Service
"^DD",727.814,727.814,13,3)
Enter the name of the service.
"^DD",727.814,727.814,13,21,0)
^^1^1^2961004^^^^
"^DD",727.814,727.814,13,21,1,0)
Indicates the name of the service treating the patient.
"^DD",727.814,727.814,13,23,0)
^^3^3^2971113^^^^
"^DD",727.814,727.814,13,23,1,0)
Derived from the SERVICE field (7) within the EXAMINATIONS multiple (50) 
"^DD",727.814,727.814,13,23,2,0)
of the REGISTERED EXAMS multiple (2) of the RAD/NUC MED PATIENT file 
"^DD",727.814,727.814,13,23,3,0)
(#70). SERVICE is a pointer to the HOSPITAL SERVICE file (#49).
"^DD",727.814,727.814,13,"DT")
2961004
"^DD",727.814,727.814,14,0)
DIAGNOSTIC CODE^P78.3'^RA(78.3,^0;15^Q
"^DD",727.814,727.814,14,.1)
Diagnostic Code
"^DD",727.814,727.814,14,3)
Enter the diagnostic code associated with this exam.
"^DD",727.814,727.814,14,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,14,21,1,0)
Indicates the diagnostic code associated with this exam.
"^DD",727.814,727.814,14,23,0)
^^4^4^2971113^^^^
"^DD",727.814,727.814,14,23,1,0)
Derived from the PRIMARY DIAGNOSTIC CODE field (13) within the 
"^DD",727.814,727.814,14,23,2,0)
EXAMINATIONS multiple (50) of the REGISTERED EXAMS multiple (2) of 
"^DD",727.814,727.814,14,23,3,0)
the RAD/NUC MED PATIENT file (#70). DIAGNOSTIC CODE is a pointer to 
"^DD",727.814,727.814,14,23,4,0)
the DIAGNOSTIC CODES file (#78.3).
"^DD",727.814,727.814,14,"DT")
2961004
"^DD",727.814,727.814,15,0)
REQUESTING PHYSICIAN^F^^0;16^K:$L(X)>11!($L(X)<1) X
"^DD",727.814,727.814,15,.1)
Requesting Physician
"^DD",727.814,727.814,15,3)
Your answer must be 1 to 11 characters in length.
"^DD",727.814,727.814,15,21,0)
^^1^1^2980608^^^^
"^DD",727.814,727.814,15,21,1,0)
Indicates the person requesting this radiology exam.
"^DD",727.814,727.814,15,23,0)
^^6^6^2980608^^^^
"^DD",727.814,727.814,15,23,1,0)
Derived from the REQUESTING PHYSICIAN field (14) within the EXAMINATIONS 
"^DD",727.814,727.814,15,23,2,0)
multiple (50) of the REGISTERED EXAMS multiple (2) of the RAD/NUC MED 
"^DD",727.814,727.814,15,23,3,0)
PATIENT file (#70). If REQUESTING PHYSICIAN is a pointer to the NEW 
"^DD",727.814,727.814,15,23,4,0)
PERSON file (#200), it is stored as "2"_pointer value. If REQUESTING 
"^DD",727.814,727.814,15,23,5,0)
PHYSICIAN is a pointer to the PROVIDER file (#6), it is stored as 
"^DD",727.814,727.814,15,23,6,0)
"6"_pointer value.
"^DD",727.814,727.814,15,"DT")
2961018
"^DD",727.814,727.814,16,0)
MODIFIERS^F^^0;17^K:$L(X)>15!($L(X)<1) X
"^DD",727.814,727.814,16,.1)
Modifiers
"^DD",727.814,727.814,16,3)
Your answer must be 1 to 15 characters in length.
"^DD",727.814,727.814,16,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,16,21,1,0)
Indicates radiology modifiers associated with this exam.
"^DD",727.814,727.814,16,23,0)
^^5^5^2971113^^^^
"^DD",727.814,727.814,16,23,1,0)
Derived from the MODIFIERS field (.01) within the MODIFIERS multiple 
"^DD",727.814,727.814,16,23,2,0)
(#125) of the EXAMINATIONS multiple (50) within the REGISTERED EXAMS 
"^DD",727.814,727.814,16,23,3,0)
multiple (2) of the RAD/NUC MED PATIENT file (#70). This field consists of 
"^DD",727.814,727.814,16,23,4,0)
a string of pointers to the PROCEDURE MODIFIERS file (#71.2) separated 
"^DD",727.814,727.814,16,23,5,0)
by semi-colons (;).
"^DD",727.814,727.814,16,"DT")
2961022
"^DD",727.814,727.814,17,0)
MOVEMENT FILE #^P405'^DGPM(^0;18^Q
"^DD",727.814,727.814,17,.1)
Movement File Number
"^DD",727.814,727.814,17,3)
Enter the patient movement number associated with this extract record.
"^DD",727.814,727.814,17,21,0)
^^1^1^2961004^^
"^DD",727.814,727.814,17,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.814,727.814,17,23,0)
^^4^4^2961004^^
"^DD",727.814,727.814,17,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.814,727.814,17,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.814,727.814,17,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.814,727.814,17,23,4,0)
(#405).
"^DD",727.814,727.814,17,"DT")
2961004
"^DD",727.814,727.814,18,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;19^Q
"^DD",727.814,727.814,18,.1)
Treating Specialty
"^DD",727.814,727.814,18,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.814,727.814,18,21,0)
^^1^1^2961004^^
"^DD",727.814,727.814,18,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.814,727.814,18,23,0)
^^6^6^2961004^^^
"^DD",727.814,727.814,18,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.814,727.814,18,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.814,727.814,18,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.814,727.814,18,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.814,727.814,18,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.814,727.814,18,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.814,727.814,18,"DT")
2961004
"^DD",727.814,727.814,19,0)
TIME^FO^^0;20^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.814,727.814,19,.1)
Time
"^DD",727.814,727.814,19,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.814,727.814,19,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.814,727.814,19,3)
Answer must be 6 characters in length.
"^DD",727.814,727.814,19,21,0)
^^2^2^2971113^^^^
"^DD",727.814,727.814,19,21,1,0)
A 6-character numeric string that represents the time of day when
"^DD",727.814,727.814,19,21,2,0)
this Radiology procedure was performed.
"^DD",727.814,727.814,19,23,0)
^^7^7^2971113^^^^
"^DD",727.814,727.814,19,23,1,0)
Data source:
"^DD",727.814,727.814,19,23,2,0)
 
"^DD",727.814,727.814,19,23,3,0)
RAD/NUC MED PATIENT file (#70); REGISTERED EXAMS sub-file (#70.02)
"^DD",727.814,727.814,19,23,4,0)
   EXAM DATE field (#.01)
"^DD",727.814,727.814,19,23,5,0)
 
"^DD",727.814,727.814,19,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.814,727.814,19,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.814,727.814,19,"DT")
2970924
"^DD",727.814,727.814,20,0)
IMAGING TYPE^P79.2'^RA(79.2,^0;21^Q
"^DD",727.814,727.814,20,.1)
Imaging Type
"^DD",727.814,727.814,20,3)
Enter the type of imaging used for this radiology exam.
"^DD",727.814,727.814,20,21,0)
^^1^1^2971113^^^^
"^DD",727.814,727.814,20,21,1,0)
The type of imaging used for this radiology exam.
"^DD",727.814,727.814,20,23,0)
^^3^3^2971113^^^^
"^DD",727.814,727.814,20,23,1,0)
Derived from the TYPE OF IMAGING field (2) within the REGISTERED EXAMS 
"^DD",727.814,727.814,20,23,2,0)
multiple (2) of the RAD/NUC MED PATIENT file (#70). It is a pointer to the 
"^DD",727.814,727.814,20,23,3,0)
IMAGING TYPE file (#79.2).
"^DD",727.814,727.814,20,"DT")
2961004
"^DD",727.814,727.814,21,0)
PRIMARY CARE TEAM^F^^0;22^K:$L(X)>4!($L(X)<1) X
"^DD",727.814,727.814,21,.1)
Primary Care Team
"^DD",727.814,727.814,21,3)
Enter primary care team assigned to this patient.
"^DD",727.814,727.814,21,21,0)
^^1^1^2961031^^^
"^DD",727.814,727.814,21,21,1,0)
The primary care team assigned to this patient.
"^DD",727.814,727.814,21,23,0)
^^6^6^2971113^^^
"^DD",727.814,727.814,21,23,1,0)
Using the EXAM DATE field (.01) within the REGISTERED EXAMS multiple 
"^DD",727.814,727.814,21,23,2,0)
(2) of the RAD/NUC MED PATIENT file (#70) and the patient pointer (DFN) 
"^DD",727.814,727.814,21,23,3,0)
stored in the PATIENT NO. - DFN field (4) in the RADIOLOGY EXTRACT file 
"^DD",727.814,727.814,21,23,4,0)
(#727.814), a call is made to the Scheduling API, OUTPTTM^SDUTL3. The 
"^DD",727.814,727.814,21,23,5,0)
API returns the team's internal entry number and name from the TEAM file 
"^DD",727.814,727.814,21,23,6,0)
(#404.51). Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.814,727.814,21,"DT")
2961031
"^DD",727.814,727.814,22,0)
PRIMARY CARE PROVIDER^F^^0;23^K:$L(X)>11!($L(X)<1) X
"^DD",727.814,727.814,22,.1)
Primary Care Provider
"^DD",727.814,727.814,22,3)
Enter primary care provider assigned to this patient.
"^DD",727.814,727.814,22,21,0)
^^1^1^2980708^^^^
"^DD",727.814,727.814,22,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.814,727.814,22,23,0)
^^9^9^2980708^^^^
"^DD",727.814,727.814,22,23,1,0)
Using the EXAM DATE field (.01) within the REGISTERED EXAMS multiple 
"^DD",727.814,727.814,22,23,2,0)
(2) of the RAD/NUC MED PATIENT file (#70) and the patient pointer (DFN) 
"^DD",727.814,727.814,22,23,3,0)
stored in the PATIENT NO. - DFN field (4) in the RADIOLOGY EXTRACT file 
"^DD",727.814,727.814,22,23,4,0)
(#727.814), a call is made to the Scheduling API, OUTPTPR^SDUTL3. The 
"^DD",727.814,727.814,22,23,5,0)
API returns the provider's internal entry number and name from the NEW 
"^DD",727.814,727.814,22,23,6,0)
PERSON file (#200). 
"^DD",727.814,727.814,22,23,7,0)
 
"^DD",727.814,727.814,22,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.814,727.814,22,23,9,0)
is "200".
"^DD",727.814,727.814,22,"DT")
2961018
"^DD",727.814,727.814,23,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.814,727.814,23,3)
Answer must be 1-10 characters in length.
"^DD",727.814,727.814,23,21,0)
^^1^1^2990504^
"^DD",727.814,727.814,23,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.814,727.814,23,23,0)
^^2^2^2990504^
"^DD",727.814,727.814,23,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.814,727.814,23,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.814,727.814,23,"DT")
2990504
"^DD",727.814,727.814,24,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.814,727.814,24,3)
Answer must be 4-10 characters in length.
"^DD",727.814,727.814,24,21,0)
^^1^1^2990506^
"^DD",727.814,727.814,24,21,1,0)
The DSS Department Code for the Radiology product.
"^DD",727.814,727.814,24,23,0)
^^2^2^2990506^
"^DD",727.814,727.814,24,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.814,727.814,24,23,2,0)
Field is set to null.
"^DD",727.814,727.814,24,"DT")
2990506
"^DD",727.814,727.814,25,0)
REQUESTING PHYSICIAN NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.814,727.814,25,3)
Answer must be 1-8 characters in length.
"^DD",727.814,727.814,25,21,0)
^^1^1^2990506^
"^DD",727.814,727.814,25,21,1,0)
The Requesting Physician's National Provider Identifier code.
"^DD",727.814,727.814,25,23,0)
^^4^4^2990506^
"^DD",727.814,727.814,25,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.814,727.814,25,23,2,0)
field will hold the Requesting Physician NPI.
"^DD",727.814,727.814,25,23,3,0)
   
"^DD",727.814,727.814,25,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.814,727.814,25,"DT")
2990506
"^DD",727.814,727.814,26,0)
PC PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.814,727.814,26,3)
Answer must be 1-8 characters in length.
"^DD",727.814,727.814,26,21,0)
^^1^1^2990506^
"^DD",727.814,727.814,26,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.814,727.814,26,23,0)
^^4^4^2990506^
"^DD",727.814,727.814,26,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.814,727.814,26,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.814,727.814,26,23,3,0)
   
"^DD",727.814,727.814,26,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.814,727.814,26,"DT")
2990506
"^DD",727.814,727.814,27,0)
PC PROVIDER PERSON CLASS^F^^1;5^K:$L(X)>7!($L(X)<7) X
"^DD",727.814,727.814,27,3)
Answer must be 7 characters in length.
"^DD",727.814,727.814,27,21,0)
^^2^2^2981026^
"^DD",727.814,727.814,27,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.814,727.814,27,21,2,0)
associated with this record.
"^DD",727.814,727.814,27,23,0)
^^6^6^2981026^
"^DD",727.814,727.814,27,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.814,727.814,27,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.814,727.814,27,23,3,0)
extract record.
"^DD",727.814,727.814,27,23,4,0)
  
"^DD",727.814,727.814,27,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.814,727.814,27,23,6,0)
7 characters in length.
"^DD",727.814,727.814,27,"DT")
2981026
"^DD",727.814,727.814,28,0)
ASSOCIATE PC PROVIDER^F^^1;6^K:$L(X)>11!($L(X)<2) X
"^DD",727.814,727.814,28,3)
Answer must be 2-11 characters in length.
"^DD",727.814,727.814,28,21,0)
^^4^4^2990505^
"^DD",727.814,727.814,28,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.814,727.814,28,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.814,727.814,28,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.814,727.814,28,21,4,0)
character 2.
"^DD",727.814,727.814,28,23,0)
^^2^2^2990505^
"^DD",727.814,727.814,28,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.814,727.814,28,23,2,0)
the PCMM application.
"^DD",727.814,727.814,28,"DT")
2990505
"^DD",727.814,727.814,29,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;7^K:$L(X)>7!($L(X)<7) X
"^DD",727.814,727.814,29,3)
Answer must be 7 characters in length.
"^DD",727.814,727.814,29,21,0)
^^4^4^2990505^^
"^DD",727.814,727.814,29,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.814,727.814,29,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.814,727.814,29,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.814,727.814,29,21,4,0)
exactly 7 characters in length. 
"^DD",727.814,727.814,29,23,0)
^^3^3^2990505^^
"^DD",727.814,727.814,29,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.814,727.814,29,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.814,727.814,29,23,3,0)
PERS is the IEN from file #200.
"^DD",727.814,727.814,29,"DT")
2990505
"^DD",727.814,727.814,30,0)
ASSOCIATE PC PROVIDER NPI^F^^1;8^K:$L(X)>8!($L(X)<1) X
"^DD",727.814,727.814,30,3)
Answer must be 1-8 characters in length.
"^DD",727.814,727.814,30,21,0)
^^1^1^2990507^
"^DD",727.814,727.814,30,21,1,0)
The Associate Primary Care Provider's National Provider Identifier.
"^DD",727.814,727.814,30,23,0)
^^2^2^2990507^
"^DD",727.814,727.814,30,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.814,727.814,30,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.814,727.814,30,"DT")
2990507
"^DD",727.815,727.815,0)
FIELD^^49^44
"^DD",727.815,727.815,0,"DDA")
N
"^DD",727.815,727.815,0,"DIK")
ECX815
"^DD",727.815,727.815,0,"DIKOLD")
ECX815
"^DD",727.815,727.815,0,"DT")
2990806
"^DD",727.815,727.815,0,"IX","AC",727.815,2)

"^DD",727.815,727.815,0,"NM","EVENT CAPTURE LOCAL EXTRACT")

"^DD",727.815,727.815,0,"VRPK")
DSS EXTRACTS
"^DD",727.815,727.815,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.815,727.815,.01,.1)
Sequence Number
"^DD",727.815,727.815,.01,1,0)
^.1^^0
"^DD",727.815,727.815,.01,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",727.815,727.815,.01,21,0)
^^1^1^2960401^^^^
"^DD",727.815,727.815,.01,21,1,0)
The record number for this extract entry.
"^DD",727.815,727.815,.01,23,0)
^^2^2^2960401^^^^
"^DD",727.815,727.815,.01,23,1,0)
The internal entry number (IEN) for this record.
"^DD",727.815,727.815,.01,23,2,0)
This entry is DINUMed.
"^DD",727.815,727.815,.01,"DT")
2980812
"^DD",727.815,727.815,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.815,727.815,1,.1)
Year/Month
"^DD",727.815,727.815,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.815,727.815,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.815,727.815,1,3)
Answer must be 6 characters in length.
"^DD",727.815,727.815,1,21,0)
^^2^2^2970922^^^^
"^DD",727.815,727.815,1,21,1,0)
A six character string representing the year and the month
"^DD",727.815,727.815,1,21,2,0)
for which this extract was performed.
"^DD",727.815,727.815,1,23,0)
^^1^1^2970922^^^^
"^DD",727.815,727.815,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.815,727.815,1,"DT")
2970924
"^DD",727.815,727.815,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.815,727.815,2,.1)
Extract Number
"^DD",727.815,727.815,2,1,0)
^.1
"^DD",727.815,727.815,2,1,1,0)
727.815^AC
"^DD",727.815,727.815,2,1,1,1)
S ^ECX(727.815,"AC",$E(X,1,30),DA)=""
"^DD",727.815,727.815,2,1,1,2)
K ^ECX(727.815,"AC",$E(X,1,30),DA)
"^DD",727.815,727.815,2,1,1,3)
DO NOT DELETE
"^DD",727.815,727.815,2,1,1,"%D",0)
^^2^2^2960401^
"^DD",727.815,727.815,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.815,727.815,2,1,1,"%D",2,0)
in this file.
"^DD",727.815,727.815,2,1,1,"DT")
2910802
"^DD",727.815,727.815,2,3)
Enter the extract number for this extract.
"^DD",727.815,727.815,2,21,0)
^^1^1^2970603^^^^
"^DD",727.815,727.815,2,21,1,0)
The DSS extract log entry for this Event Capture extract.
"^DD",727.815,727.815,2,23,0)
^^2^2^2970603^^^^
"^DD",727.815,727.815,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose
"^DD",727.815,727.815,2,23,2,0)
is to pick up the header for the mail message.
"^DD",727.815,727.815,2,"DT")
2950317
"^DD",727.815,727.815,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,3,.1)
Facility
"^DD",727.815,727.815,3,3)
Enter the station number where this extract was performed.
"^DD",727.815,727.815,3,21,0)
1^^1^1^2960401^^^
"^DD",727.815,727.815,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.815,727.815,3,23,0)
^^3^3^2960401^^^^
"^DD",727.815,727.815,3,23,1,0)
A free text field that represents the STATION NUMBER field (99)
"^DD",727.815,727.815,3,23,2,0)
from the INSTITUTION file (#4). It is derived from the LOCATION
"^DD",727.815,727.815,3,23,3,0)
field (3) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,3,"DT")
2951204
"^DD",727.815,727.815,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.815,727.815,4,.1)
Patient No. - DFN
"^DD",727.815,727.815,4,3)
Enter the name of the patient for this extract record.
"^DD",727.815,727.815,4,21,0)
1^^1^1^2990504^^^^
"^DD",727.815,727.815,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.815,727.815,4,23,0)
^^3^3^2990504^^^^
"^DD",727.815,727.815,4,23,1,0)
A pointer to the PATIENT file (#2). This patient pointer is
"^DD",727.815,727.815,4,23,2,0)
pulled from the PATIENT field (1) in the EVENT CAPTURE
"^DD",727.815,727.815,4,23,3,0)
PATIENT file (#721).
"^DD",727.815,727.815,4,"DT")
2971030
"^DD",727.815,727.815,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.815,727.815,5,.1)
Social Security Number
"^DD",727.815,727.815,5,3)
Enter the social security number for this patient's extract record.
"^DD",727.815,727.815,5,21,0)
^^5^5^2990504^^^^
"^DD",727.815,727.815,5,21,1,0)
The social security number (SSN) for the patient associated
"^DD",727.815,727.815,5,21,2,0)
with this extract record.
"^DD",727.815,727.815,5,21,3,0)
 
"^DD",727.815,727.815,5,21,4,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.815,727.815,5,21,5,0)
patient" and will not be included in the extract.  
"^DD",727.815,727.815,5,23,0)
^^5^5^2990504^^^^
"^DD",727.815,727.815,5,23,1,0)
The social security number extracted from the SSN field (.09)
"^DD",727.815,727.815,5,23,2,0)
from the PATIENT file (#2).
"^DD",727.815,727.815,5,23,3,0)
 
"^DD",727.815,727.815,5,23,4,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.815,727.815,5,23,5,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.815,727.815,5,"DT")
2910802
"^DD",727.815,727.815,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.815,727.815,6,.1)
Name
"^DD",727.815,727.815,6,3)
Enter the first four characters of this patients last name.
"^DD",727.815,727.815,6,21,0)
^^2^2^2960401^^^^
"^DD",727.815,727.815,6,21,1,0)
The first four characters of the patient's last name associated
"^DD",727.815,727.815,6,21,2,0)
with this extract record.
"^DD",727.815,727.815,6,23,0)
^^4^4^2960401^^^
"^DD",727.815,727.815,6,23,1,0)
Free text first four characters of the patients last name.
"^DD",727.815,727.815,6,23,2,0)
This is extracted from the patient's name stored in the
"^DD",727.815,727.815,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). If necessary,
"^DD",727.815,727.815,6,23,4,0)
trailing spaces are padded to equal 4 characters.
"^DD",727.815,727.815,6,"DT")
2910802
"^DD",727.815,727.815,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.815,727.815,7,.1)
In Out Patient Indicator
"^DD",727.815,727.815,7,3)
Enter 1 for outpatient or 3 for inpatient.
"^DD",727.815,727.815,7,21,0)
^^2^2^2960401^^^^
"^DD",727.815,727.815,7,21,1,0)
This indicates whether this patient was an inpatient or an 
"^DD",727.815,727.815,7,21,2,0)
outpatient for this extract record.
"^DD",727.815,727.815,7,23,0)
^^3^3^2960401^^^^
"^DD",727.815,727.815,7,23,1,0)
A pointer to the LOCATION TYPE file (#40.9).
"^DD",727.815,727.815,7,23,2,0)
This field will be a 3 if the patient was listed as an inpatient
"^DD",727.815,727.815,7,23,3,0)
for this record. The field will be a 1 if listed as an outpatient.
"^DD",727.815,727.815,7,"DT")
2910802
"^DD",727.815,727.815,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.815,727.815,8,.1)
Day
"^DD",727.815,727.815,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.815,727.815,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.815,727.815,8,3)
Answer must be 8 characters in length.
"^DD",727.815,727.815,8,21,0)
^^3^3^2970922^^^^
"^DD",727.815,727.815,8,21,1,0)
This 8-character string represents the date on which the procedure
"^DD",727.815,727.815,8,21,2,0)
associated with this Event Capture Patient extract record
"^DD",727.815,727.815,8,21,3,0)
was performed.
"^DD",727.815,727.815,8,23,0)
^^9^9^2970923^^^^
"^DD",727.815,727.815,8,23,1,0)
The day when this event occurred. Date is pulled from the
"^DD",727.815,727.815,8,23,2,0)
DATE/TIME OF PROCEDURE field (2) in the EVENT CAPTURE
"^DD",727.815,727.815,8,23,3,0)
PATIENT file (#721). 
"^DD",727.815,727.815,8,23,4,0)
 
"^DD",727.815,727.815,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.815,727.815,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.815,727.815,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.815,727.815,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.815,727.815,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.815,727.815,8,"DT")
2970924
"^DD",727.815,727.815,9,0)
DSS UNIT^P724'^ECD(^0;10^Q
"^DD",727.815,727.815,9,.1)
DSS Unit
"^DD",727.815,727.815,9,3)
Enter the name of the DSS unit for this extract record.
"^DD",727.815,727.815,9,21,0)
^^1^1^2990702^^^
"^DD",727.815,727.815,9,21,1,0)
This is the name of the DSS unit for this extract record.
"^DD",727.815,727.815,9,23,0)
^^3^3^2990702^^^^
"^DD",727.815,727.815,9,23,1,0)
A pointer to the DSS UNIT file (#724). DSS unit pointer
"^DD",727.815,727.815,9,23,2,0)
is pulled from the DSS UNIT field (6) in the EVENT CAPTURE
"^DD",727.815,727.815,9,23,3,0)
PATIENT file (#721).
"^DD",727.815,727.815,9,"DT")
2910828
"^DD",727.815,727.815,10,0)
CATEGORY^F^^0;11^K:$L(X)>6!($L(X)<1) X
"^DD",727.815,727.815,10,.1)
Category
"^DD",727.815,727.815,10,3)
Answer must be 1-6 characters in length.
"^DD",727.815,727.815,10,21,0)
1^^2^2^2970911^^^
"^DD",727.815,727.815,10,21,1,0)
This field contains the IEN in file #726 for the Category associated
"^DD",727.815,727.815,10,21,2,0)
with this extract record.
"^DD",727.815,727.815,10,23,0)
^^4^4^2970911^^^^
"^DD",727.815,727.815,10,23,1,0)
A character string which represents the IEN of the Category
"^DD",727.815,727.815,10,23,2,0)
in the EVENT CAPTURE CATEGORY file (#726).
"^DD",727.815,727.815,10,23,3,0)
Category is pulled from the CATEGORY field (7) in the
"^DD",727.815,727.815,10,23,4,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,10,"DT")
2970911
"^DD",727.815,727.815,11,0)
PROCEDURE^F^^0;12^K:$L(X)>8!($L(X)<5) X
"^DD",727.815,727.815,11,.1)
Procedure
"^DD",727.815,727.815,11,3)
Answer must be 5-8 characters in length.
"^DD",727.815,727.815,11,21,0)
1^^2^2^2990806^^^^
"^DD",727.815,727.815,11,21,1,0)
This field contains the name of the procedure selected
"^DD",727.815,727.815,11,21,2,0)
for this extract record.
"^DD",727.815,727.815,11,23,0)
^^7^7^2990806^^^^
"^DD",727.815,727.815,11,23,1,0)
The procedure pointer is pulled from the PROCEDURE field (8)
"^DD",727.815,727.815,11,23,2,0)
in the EVENT CAPTURE PATIENT file (#721). It is the CPT
"^DD",727.815,727.815,11,23,3,0)
code for procedures from the CPT file (#81). For national
"^DD",727.815,727.815,11,23,4,0)
procedures from the EC NATIONAL PROCEDURE file (#725),
"^DD",727.815,727.815,11,23,5,0)
it is the NATIONAL NUMBER field (1)_"N". For local procedures
"^DD",727.815,727.815,11,23,6,0)
from the EC NATIONAL PROCEDURE file (#725), it is the NATIONAL
"^DD",727.815,727.815,11,23,7,0)
NUMBER field (1)_"L".
"^DD",727.815,727.815,11,"DT")
2971030
"^DD",727.815,727.815,12,0)
VOLUME^NJ4,0^^0;13^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.815,727.815,12,.1)
Volume
"^DD",727.815,727.815,12,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",727.815,727.815,12,21,0)
^^1^1^2960401^^
"^DD",727.815,727.815,12,21,1,0)
This field tracks the volume of this specific procedure performed.
"^DD",727.815,727.815,12,23,0)
^^3^3^2960401^^
"^DD",727.815,727.815,12,23,1,0)
Numeric volume for this procedure associated with this extract
"^DD",727.815,727.815,12,23,2,0)
record. Volume is pulled from the VOLUME field (9) in the
"^DD",727.815,727.815,12,23,3,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,12,"DT")
2911108
"^DD",727.815,727.815,13,0)
COST CENTER^F^^0;14^K:$L(X)>8!($L(X)<6) X
"^DD",727.815,727.815,13,.1)
Cost Center
"^DD",727.815,727.815,13,3)
Enter the cost center associated with this extract record.
"^DD",727.815,727.815,13,21,0)
^^1^1^2990510^^^^
"^DD",727.815,727.815,13,21,1,0)
This is the cost center associated with this extract record.
"^DD",727.815,727.815,13,23,0)
^^3^3^2990510^^^^
"^DD",727.815,727.815,13,23,1,0)
A pointer to the COST CENTER file (#420.1). Cost center
"^DD",727.815,727.815,13,23,2,0)
is derived from the COST CENTER field (3) in the DSS UNIT
"^DD",727.815,727.815,13,23,3,0)
file (#724).
"^DD",727.815,727.815,13,"DT")
2951204
"^DD",727.815,727.815,14,0)
ORDERING SECTION^F^^0;15^K:$L(X)>3!($L(X)<1) X
"^DD",727.815,727.815,14,.1)
Ordering Section
"^DD",727.815,727.815,14,3)
Answer must be 1-3 characters in length.
"^DD",727.815,727.815,14,21,0)
^^2^2^2970912^^^^
"^DD",727.815,727.815,14,21,1,0)
This is the IEN in file #723 of the Ordering Section associated with
"^DD",727.815,727.815,14,21,2,0)
this extract record.
"^DD",727.815,727.815,14,23,0)
^^4^4^2970912^^^^
"^DD",727.815,727.815,14,23,1,0)
This character string represents the IEN of the Ordering Section
"^DD",727.815,727.815,14,23,2,0)
in the MEDICAL SPECIALTY file (#723).
"^DD",727.815,727.815,14,23,3,0)
The Ordering Section is pulled from the ORDERING SECTION field (#11) 
"^DD",727.815,727.815,14,23,4,0)
in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,14,"DT")
2990517
"^DD",727.815,727.815,15,0)
SECTION^F^^0;16^K:$L(X)>3!($L(X)<1) X
"^DD",727.815,727.815,15,.1)
Section
"^DD",727.815,727.815,15,3)
Answer must be 1-3 characters in length.
"^DD",727.815,727.815,15,21,0)
^^2^2^2970912^^^^
"^DD",727.815,727.815,15,21,1,0)
This is the IEN in file #723 of the Medical Specialty of the DSS Unit 
"^DD",727.815,727.815,15,21,2,0)
associated with this extract record.
"^DD",727.815,727.815,15,23,0)
^^4^4^2970912^^^^
"^DD",727.815,727.815,15,23,1,0)
This character string represents an IEN in the MEDICAL
"^DD",727.815,727.815,15,23,2,0)
SPECIALTY file (#723).
"^DD",727.815,727.815,15,23,3,0)
The data is pulled from the SECTION field (#5) in the EVENT
"^DD",727.815,727.815,15,23,4,0)
CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,15,"DT")
2990517
"^DD",727.815,727.815,16,0)
PROVIDER^F^^0;17^K:$L(X)>11!($L(X)<2) X
"^DD",727.815,727.815,16,.1)
Provider
"^DD",727.815,727.815,16,3)
Answer must be 2-11 characters in length.
"^DD",727.815,727.815,16,21,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,16,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.815,727.815,16,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.815,727.815,16,21,3,0)
It represents the Provider who performed the procedure associated
"^DD",727.815,727.815,16,21,4,0)
with the Event Capture Patient record.
"^DD",727.815,727.815,16,23,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,16,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.815,727.815,16,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.815,727.815,16,23,3,0)
Data is derived from the PROVIDER field (#10) in the EVENT CAPTURE 
"^DD",727.815,727.815,16,23,4,0)
PATIENT file (#721).
"^DD",727.815,727.815,16,"DT")
2990517
"^DD",727.815,727.815,18,0)
PROVIDER #2^F^^0;19^K:$L(X)>11!($L(X)<2) X
"^DD",727.815,727.815,18,.1)
Provider #2
"^DD",727.815,727.815,18,3)
Answer must be 2-11 characters in length.
"^DD",727.815,727.815,18,21,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,18,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.815,727.815,18,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.815,727.815,18,21,3,0)
It represents the assisting Provider who performed the procedure 
"^DD",727.815,727.815,18,21,4,0)
associated with the Event Capture Patient record.
"^DD",727.815,727.815,18,23,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,18,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.815,727.815,18,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.815,727.815,18,23,3,0)
Data is pulled from the PROVIDER #2 field (#16) in the EVENT CAPTURE
"^DD",727.815,727.815,18,23,4,0)
PATIENT file (#721).
"^DD",727.815,727.815,18,"DT")
2990517
"^DD",727.815,727.815,20,0)
PROVIDER #3^F^^0;21^K:$L(X)>11!($L(X)<2) X
"^DD",727.815,727.815,20,.1)
Provider #3
"^DD",727.815,727.815,20,3)
Answer must be 2-11 characters in length.
"^DD",727.815,727.815,20,21,0)
1^^4^4^2980608^^^^
"^DD",727.815,727.815,20,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.815,727.815,20,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.815,727.815,20,21,3,0)
It represents an assisting Provider who performed the procedure 
"^DD",727.815,727.815,20,21,4,0)
associated with the Event Capture Patient record.
"^DD",727.815,727.815,20,23,0)
^^4^4^2980608^^^^
"^DD",727.815,727.815,20,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.815,727.815,20,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).
"^DD",727.815,727.815,20,23,3,0)
Data is pulled from the PROVIDER #3 field (#17) in the EVENT CAPTURE
"^DD",727.815,727.815,20,23,4,0)
PATIENT file (#721).
"^DD",727.815,727.815,20,"DT")
2990517
"^DD",727.815,727.815,24,0)
MOVEMENT FILE #^P405'^DGPM(^0;24^Q
"^DD",727.815,727.815,24,.1)
Movement File Number
"^DD",727.815,727.815,24,3)
Enter the patient movement number associated with this extract record.
"^DD",727.815,727.815,24,21,0)
^^1^1^2960401^^^^
"^DD",727.815,727.815,24,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.815,727.815,24,23,0)
^^1^1^2960401^^^^
"^DD",727.815,727.815,24,23,1,0)
A pointer to the PATIENT MOVEMENT file (#405).
"^DD",727.815,727.815,24,"DT")
2911216
"^DD",727.815,727.815,25,0)
TREATING SPECIALTY^F^^0;25^K:$L(X)>6!($L(X)<1) X
"^DD",727.815,727.815,25,.1)
Treating Specialty
"^DD",727.815,727.815,25,3)
Answer must be 1-6 characters in length.
"^DD",727.815,727.815,25,21,0)
^^3^3^2970912^^^^
"^DD",727.815,727.815,25,21,1,0)
The IEN in file #42.4 of the Specialty associated with the patient
"^DD",727.815,727.815,25,21,2,0)
on the date of the Event Capture procedure.  Only applicable
"^DD",727.815,727.815,25,21,3,0)
if the patient was an inpatient on the date of the procedure.
"^DD",727.815,727.815,25,23,0)
^^8^8^2970912^^^^
"^DD",727.815,727.815,25,23,1,0)
A character string which represents an IEN in the SPECIALTY file (#42.4).
"^DD",727.815,727.815,25,23,2,0)
 
"^DD",727.815,727.815,25,23,3,0)
This field is initialized to a null, indicating an outpatient status. If
"^DD",727.815,727.815,25,23,4,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a
"^DD",727.815,727.815,25,23,5,0)
patient movement number (indicating inpatient status), then the value of
"^DD",727.815,727.815,25,23,6,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.815,727.815,25,23,7,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.815,727.815,25,23,8,0)
SPECIALTY file (#42.4).
"^DD",727.815,727.815,25,"DT")
2970911
"^DD",727.815,727.815,26,0)
TIME^FO^^0;26^K:$L(X)>6!($L(X)<6) X
"^DD",727.815,727.815,26,.1)
Time
"^DD",727.815,727.815,26,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.815,727.815,26,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.815,727.815,26,3)
Answer must be 6 characters in length.
"^DD",727.815,727.815,26,21,0)
^^1^1^2970922^^^^
"^DD",727.815,727.815,26,21,1,0)
The time when the Event Capture procedure was performed.
"^DD",727.815,727.815,26,23,0)
^^9^9^2970922^^^^
"^DD",727.815,727.815,26,23,1,0)
A six-character string of format HHMMSS which represents the time
"^DD",727.815,727.815,26,23,2,0)
(military time) when the procedure was performed.
"^DD",727.815,727.815,26,23,3,0)
 
"^DD",727.815,727.815,26,23,4,0)
Time is extracted from the date information pulled from the
"^DD",727.815,727.815,26,23,5,0)
DATE/TIME OF PROCEDURE field (#2) in the EVENT CAPTURE
"^DD",727.815,727.815,26,23,6,0)
PATIENT file (#721). 
"^DD",727.815,727.815,26,23,7,0)
 
"^DD",727.815,727.815,26,23,8,0)
A default of "000300" will be used if field #2 of file #721 does
"^DD",727.815,727.815,26,23,9,0)
not have a time portion.
"^DD",727.815,727.815,26,"DT")
2970924
"^DD",727.815,727.815,27,0)
PRIMARY CARE TEAM^F^^0;27^K:$L(X)>4!($L(X)<1) X
"^DD",727.815,727.815,27,.1)
Primary Care Team
"^DD",727.815,727.815,27,3)
Enter primary care team assigned to this patient.
"^DD",727.815,727.815,27,21,0)
^^1^1^2961106^^^
"^DD",727.815,727.815,27,21,1,0)
The primary care team assigned to this patient.
"^DD",727.815,727.815,27,23,0)
^^6^6^2961106^
"^DD",727.815,727.815,27,23,1,0)
Using the DATE/TIME OF PROCEDURE field (2) from the EVENT CAPTURE 
"^DD",727.815,727.815,27,23,2,0)
PATIENT file (#721) and the patient pointer (DFN) stored in the PATIENT 
"^DD",727.815,727.815,27,23,3,0)
NO. - DFN field (4) in the EVENT CAPTURE LOCAL EXTRACT file (#727.815), 
"^DD",727.815,727.815,27,23,4,0)
a call is made to the Scheduling API, OUTPTTM^SDUTL3. The API returns 
"^DD",727.815,727.815,27,23,5,0)
the team's internal entry number and name from the TEAM file (#404.51). 
"^DD",727.815,727.815,27,23,6,0)
Only the pointer (IEN) to File 404.51 is transmitted.
"^DD",727.815,727.815,27,"DT")
2961106
"^DD",727.815,727.815,28,0)
PRIMARY CARE PROVIDER^F^^0;28^K:$L(X)>11!($L(X)<1) X
"^DD",727.815,727.815,28,.1)
Primary Care Provider
"^DD",727.815,727.815,28,3)
Enter primary care provider assigned to this patient.
"^DD",727.815,727.815,28,21,0)
^^1^1^2980708^^^^
"^DD",727.815,727.815,28,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.815,727.815,28,23,0)
^^9^9^2980708^^^
"^DD",727.815,727.815,28,23,1,0)
Using the DATE/TIME OF PROCEDURE field (2) from the EVENT CAPTURE 
"^DD",727.815,727.815,28,23,2,0)
PATIENT file (#721) and the patient pointer (DFN) stored in the PATIENT 
"^DD",727.815,727.815,28,23,3,0)
NO. - DFN field (4) in the EVENT CAPTURE LOCAL EXTRACT file (#727.815), 
"^DD",727.815,727.815,28,23,4,0)
a call is made to the Scheduling API, OUTPTPR^SDUTL3. The API returns 
"^DD",727.815,727.815,28,23,5,0)
the provider's internal entry number and name from the NEW PERSON file 
"^DD",727.815,727.815,28,23,6,0)
(#200). 
"^DD",727.815,727.815,28,23,7,0)
 
"^DD",727.815,727.815,28,23,8,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.815,727.815,28,23,9,0)
is "200".
"^DD",727.815,727.815,28,"DT")
2961017
"^DD",727.815,727.815,29,0)
PCE CPT CODE & MODIFIERS^FO^^0;29^K:$L(X)>15!($L(X)<5) X
"^DD",727.815,727.815,29,.1)

"^DD",727.815,727.815,29,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.815,727.815,29,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.815,727.815,29,3)
Answer must be 5-15 characters in length.
"^DD",727.815,727.815,29,21,0)
^^5^5^2990507^^^^
"^DD",727.815,727.815,29,21,1,0)
The Current Procedural Terminology (CPT) code for the procedure 
"^DD",727.815,727.815,29,21,2,0)
performed.
"^DD",727.815,727.815,29,21,3,0)
 
"^DD",727.815,727.815,29,21,4,0)
The 5 character CPT Code is followed by upto five (5) 2-character CPT
"^DD",727.815,727.815,29,21,5,0)
code modifiers.
"^DD",727.815,727.815,29,23,0)
^^6^6^2990507^^^^
"^DD",727.815,727.815,29,23,1,0)
PCE CPT CODE is derived from the PCE CPT CODE field (#19) in the EVENT 
"^DD",727.815,727.815,29,23,2,0)
CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,29,23,3,0)
 
"^DD",727.815,727.815,29,23,4,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the CPT
"^DD",727.815,727.815,29,23,5,0)
MODIFIER file (#81.3).  It is not known at this time where the Event
"^DD",727.815,727.815,29,23,6,0)
Capture package will store those modifiers.
"^DD",727.815,727.815,29,"DT")
2990614
"^DD",727.815,727.815,30,0)
ICD-9 CODE^F^^0;30^K:$L(X)>7!($L(X)<1) X
"^DD",727.815,727.815,30,.1)
ICD-9 Code
"^DD",727.815,727.815,30,3)
Enter the ICD-9 code for this record.
"^DD",727.815,727.815,30,21,0)
^^1^1^2961119^^^^
"^DD",727.815,727.815,30,21,1,0)
The ICD-9 for the procedure performed.
"^DD",727.815,727.815,30,23,0)
^^3^3^2961119^^
"^DD",727.815,727.815,30,23,1,0)
ICD-9 CODE is derived from the ICD-9 CODE field (20) in the EVENT 
"^DD",727.815,727.815,30,23,2,0)
CAPTURE PATIENT file (#721) which points to the ICD DIAGNOSIS file 
"^DD",727.815,727.815,30,23,3,0)
(#80).
"^DD",727.815,727.815,30,"DT")
2961106
"^DD",727.815,727.815,31,0)
AGENT ORANGE^S^Y:YES;N:NO;U:UNKNOWN;^0;31^Q
"^DD",727.815,727.815,31,.1)
Agent Orange
"^DD",727.815,727.815,31,3)
Select the appropriate agent orange status for this patient.
"^DD",727.815,727.815,31,21,0)
^^2^2^2990505^^^^
"^DD",727.815,727.815,31,21,1,0)
Data is Y if this patient was exposed to agent orange, N if not, 
"^DD",727.815,727.815,31,21,2,0)
or U if unknown.
"^DD",727.815,727.815,31,23,0)
^^2^2^2990505^^^^
"^DD",727.815,727.815,31,23,1,0)
AGENT ORANGE data is derived from the AGENT ORANGE field (21) in the 
"^DD",727.815,727.815,31,23,2,0)
EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,31,"DT")
2961017
"^DD",727.815,727.815,32,0)
RADIATION EXPOSURE^S^Y:YES;N:NO;U:UNKNOWN;^0;32^Q
"^DD",727.815,727.815,32,.1)
Radiation Exposure
"^DD",727.815,727.815,32,3)
Select the appropriate radiation status for this patient.
"^DD",727.815,727.815,32,21,0)
^^2^2^2961119^^^^
"^DD",727.815,727.815,32,21,1,0)
Data is Y if this patient claims exposure to ionizing radiation, 
"^DD",727.815,727.815,32,21,2,0)
N if not, or U if unknown.
"^DD",727.815,727.815,32,23,0)
^^2^2^2961119^^^^
"^DD",727.815,727.815,32,23,1,0)
RADIATION EXPOSURE data is derived from the RADIATION EXPOSURE field 
"^DD",727.815,727.815,32,23,2,0)
(22) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,32,"DT")
2961017
"^DD",727.815,727.815,33,0)
ENVIRONMENTAL CONTAMINANTS^S^Y:YES;N:NO;U:UNKNOWN;^0;33^Q
"^DD",727.815,727.815,33,.1)
Environmental Contaminants
"^DD",727.815,727.815,33,3)
Select the appropriate environmental contaminants status for this patient.
"^DD",727.815,727.815,33,21,0)
^^2^2^2961119^^^^
"^DD",727.815,727.815,33,21,1,0)
Data is Y if this patient claims exposure to environmental contaminants, 
"^DD",727.815,727.815,33,21,2,0)
N if not, U if unknown.
"^DD",727.815,727.815,33,23,0)
^^2^2^2961119^^^
"^DD",727.815,727.815,33,23,1,0)
ENVIRONMENTAL CONTAMINANTS data is derived from the ENVIRONMENTAL 
"^DD",727.815,727.815,33,23,2,0)
CONTAMINANTS field (23) in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,33,"DT")
2961017
"^DD",727.815,727.815,34,0)
SERVICE CONNECTED^S^Y:YES;N:NO;^0;34^Q
"^DD",727.815,727.815,34,.1)
Service Connected
"^DD",727.815,727.815,34,3)
Select the appropriate service connected status for this patient.
"^DD",727.815,727.815,34,21,0)
^^1^1^2961119^^^^
"^DD",727.815,727.815,34,21,1,0)
Data is Y if this patient is service connected, N if not.
"^DD",727.815,727.815,34,23,0)
^^2^2^2961119^^^^
"^DD",727.815,727.815,34,23,1,0)
SERVICE CONNECTED data is derived from the SERVICE CONNECTED field (24) 
"^DD",727.815,727.815,34,23,2,0)
in the EVENT CAPTURE PATIENT file (#721).
"^DD",727.815,727.815,34,"DT")
2961017
"^DD",727.815,727.815,35,0)
SENT TO PCE^S^Y:YES;N:NO;^0;35^Q
"^DD",727.815,727.815,35,.1)
Sent to PCE
"^DD",727.815,727.815,35,3)
Enter Y if data has been sent to PCE, N if not.
"^DD",727.815,727.815,35,21,0)
^^1^1^2961119^^
"^DD",727.815,727.815,35,21,1,0)
This field flags data that has been sent from Event Capture to PCE.
"^DD",727.815,727.815,35,23,0)
^^1^1^2961119^^
"^DD",727.815,727.815,35,23,1,0)
Record is flagged Y when sent to PCE, N or null if not sent.
"^DD",727.815,727.815,35,"DT")
2961022
"^DD",727.815,727.815,37,0)
DSS IDENTIFIER^F^^0;37^K:$L(X)>6!($L(X)<6) X
"^DD",727.815,727.815,37,.1)
DSS Identifier
"^DD",727.815,727.815,37,3)
Answer must be 6 characters in length.
"^DD",727.815,727.815,37,21,0)
^^4^4^2970912^^^^
"^DD",727.815,727.815,37,21,1,0)
The DSS Identifier represents the primary and secondary stop codes of
"^DD",727.815,727.815,37,21,2,0)
the Associated Clinic in the Event Capture Patient record, OR it is
"^DD",727.815,727.815,37,21,3,0)
the Associated Stop Code of the DSS Unit in the Event Capture Patient
"^DD",727.815,727.815,37,21,4,0)
record.  This data element is always exactly 6 characters in length.
"^DD",727.815,727.815,37,23,0)
^^22^22^2971113^^^^
"^DD",727.815,727.815,37,23,1,0)
The DSS Identifier represents the primary and secondary stop codes of
"^DD",727.815,727.815,37,23,2,0)
the Associated Clinic in the Event Capture Patient record, OR it is
"^DD",727.815,727.815,37,23,3,0)
the Associated Stop Code of the DSS Unit in the Event Capture Patient
"^DD",727.815,727.815,37,23,4,0)
record.  This data element is always exactly 6 characters in length.
"^DD",727.815,727.815,37,23,5,0)
 
"^DD",727.815,727.815,37,23,6,0)
If the secondary stop code is not known, then "000" will be 
"^DD",727.815,727.815,37,23,7,0)
used as the 2nd 3-characters. If the primary stop code is not
"^DD",727.815,727.815,37,23,8,0)
known, then "000000" will be used.  If the DSS Unit does not have
"^DD",727.815,727.815,37,23,9,0)
an Associated Stop Code, then "000000" will be used.
"^DD",727.815,727.815,37,23,10,0)
 
"^DD",727.815,727.815,37,23,11,0)
The source of the data is:
"^DD",727.815,727.815,37,23,12,0)
 
"^DD",727.815,727.815,37,23,13,0)
   (1) EVENT CAPTURE PATIENT file (#721); ASSOCIATED CLINIC field (#26)
"^DD",727.815,727.815,37,23,14,0)
   (2) HOSPITAL LOCATION file (#44); STOP CODE NUMBER field (#8)
"^DD",727.815,727.815,37,23,15,0)
       and CREDIT STOP CODE field (#2503)
"^DD",727.815,727.815,37,23,16,0)
   (3) CLINIC STOP file (#40.7); AMIS REPORTING STOP CODE field (#1)
"^DD",727.815,727.815,37,23,17,0)
  
"^DD",727.815,727.815,37,23,18,0)
OR
"^DD",727.815,727.815,37,23,19,0)
  
"^DD",727.815,727.815,37,23,20,0)
   (1) EVENT CAPTURE PATIENT file (#721); DSS UNIT field (#6)
"^DD",727.815,727.815,37,23,21,0)
   (2) DSS UNIT file (#724); ASSOCIATED STOP CODE field (#9)
"^DD",727.815,727.815,37,23,22,0)
   (3) CLINIC STOP file (#40.7); AMIS REPORTING STOP CODE field (#1)
"^DD",727.815,727.815,37,"DT")
2970911
"^DD",727.815,727.815,38,0)
PLACEHOLDER1^F^^0;38^K:$L(X)>1!($L(X)<1) X
"^DD",727.815,727.815,38,.1)

"^DD",727.815,727.815,38,3)
Answer must be 1 character in length.
"^DD",727.815,727.815,38,21,0)
^^1^1^2980708^^^^
"^DD",727.815,727.815,38,21,1,0)
Placeholder; null.
"^DD",727.815,727.815,38,"DT")
2980708
"^DD",727.815,727.815,39,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.815,727.815,39,3)
Answer must be 1-10 characters in length.
"^DD",727.815,727.815,39,21,0)
^^1^1^2990505^^
"^DD",727.815,727.815,39,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.815,727.815,39,23,0)
^^2^2^2990505^^
"^DD",727.815,727.815,39,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.815,727.815,39,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.815,727.815,39,"DT")
2990504
"^DD",727.815,727.815,40,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.815,727.815,40,3)
Answer must be 4-10 characters in length.
"^DD",727.815,727.815,40,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,40,21,1,0)
The DSS Department Code for the patient care product.
"^DD",727.815,727.815,40,23,0)
^^2^2^2990506^
"^DD",727.815,727.815,40,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.815,727.815,40,23,2,0)
Field is set to null.
"^DD",727.815,727.815,40,"DT")
2990506
"^DD",727.815,727.815,41,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,41,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,41,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,41,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.815,727.815,41,23,0)
^^4^4^2990506^
"^DD",727.815,727.815,41,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,41,23,2,0)
field will hold the Provider NPI.
"^DD",727.815,727.815,41,23,3,0)
   
"^DD",727.815,727.815,41,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,41,"DT")
2990506
"^DD",727.815,727.815,42,0)
PROVIDER #2 NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,42,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,42,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,42,21,1,0)
The second Provider's National Provider Identifier code.
"^DD",727.815,727.815,42,23,0)
^^4^4^2990506^
"^DD",727.815,727.815,42,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,42,23,2,0)
field will hold the second Provider NPI.
"^DD",727.815,727.815,42,23,3,0)
   
"^DD",727.815,727.815,42,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,42,"DT")
2990506
"^DD",727.815,727.815,43,0)
PROVIDER #3 NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,43,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,43,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,43,21,1,0)
The third Provider's National Provider Identifier code.
"^DD",727.815,727.815,43,23,0)
^^4^4^2990506^
"^DD",727.815,727.815,43,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,43,23,2,0)
field will hold the third Provider NPI.
"^DD",727.815,727.815,43,23,3,0)
   
"^DD",727.815,727.815,43,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,43,"DT")
2990506
"^DD",727.815,727.815,44,0)
PC PROVIDER PERSON CLASS^F^^1;6^K:$L(X)>7!($L(X)<7) X
"^DD",727.815,727.815,44,3)
Answer must be 7 characters in length.
"^DD",727.815,727.815,44,21,0)
^^2^2^2981103^^^
"^DD",727.815,727.815,44,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.815,727.815,44,21,2,0)
associated with this record.
"^DD",727.815,727.815,44,23,0)
^^6^6^2981103^^
"^DD",727.815,727.815,44,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.815,727.815,44,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.815,727.815,44,23,3,0)
extract record.
"^DD",727.815,727.815,44,23,4,0)
  
"^DD",727.815,727.815,44,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.815,727.815,44,23,6,0)
7 characters in length.
"^DD",727.815,727.815,44,"DT")
2981103
"^DD",727.815,727.815,45,0)
PC PROVIDER NPI^F^^1;7^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,45,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,45,21,0)
^^1^1^2990729^^^
"^DD",727.815,727.815,45,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.815,727.815,45,23,0)
^^4^4^2990729^^^
"^DD",727.815,727.815,45,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,45,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.815,727.815,45,23,3,0)
   
"^DD",727.815,727.815,45,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,45,"DT")
2990506
"^DD",727.815,727.815,46,0)
ASSOCIATE PC PROVIDER^F^^1;8^K:$L(X)>11!($L(X)<2) X
"^DD",727.815,727.815,46,3)
Answer must be 2-11 characters in length.
"^DD",727.815,727.815,46,21,0)
^^4^4^2990506^
"^DD",727.815,727.815,46,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.815,727.815,46,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.815,727.815,46,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.815,727.815,46,21,4,0)
character 2.
"^DD",727.815,727.815,46,23,0)
^^2^2^2990506^
"^DD",727.815,727.815,46,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.815,727.815,46,23,2,0)
the PCMM application.
"^DD",727.815,727.815,46,"DT")
2990506
"^DD",727.815,727.815,47,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;9^K:$L(X)>7!($L(X)<7) X
"^DD",727.815,727.815,47,3)
Answer must be 7 characters in length.
"^DD",727.815,727.815,47,21,0)
^^4^4^2990506^
"^DD",727.815,727.815,47,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.815,727.815,47,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.815,727.815,47,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.815,727.815,47,21,4,0)
exactly 7 characters in length. 
"^DD",727.815,727.815,47,23,0)
^^3^3^2990506^
"^DD",727.815,727.815,47,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.815,727.815,47,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.815,727.815,47,23,3,0)
PERS is the IEN from file #200.
"^DD",727.815,727.815,47,"DT")
2990506
"^DD",727.815,727.815,48,0)
ASSOCIATE PC PROVIDER NPI^F^^1;10^K:$L(X)>8!($L(X)<1) X
"^DD",727.815,727.815,48,3)
Answer must be 1-8 characters in length.
"^DD",727.815,727.815,48,21,0)
^^1^1^2990506^
"^DD",727.815,727.815,48,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.815,727.815,48,23,0)
^^4^4^2990506^
"^DD",727.815,727.815,48,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.815,727.815,48,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.815,727.815,48,23,3,0)
   
"^DD",727.815,727.815,48,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.815,727.815,48,"DT")
2990506
"^DD",727.815,727.815,49,0)
DIVISION^F^^1;11^K:$L(X)>7!($L(X)<3) X
"^DD",727.815,727.815,49,3)
Answer must be 3-7 characters in length.
"^DD",727.815,727.815,49,21,0)
^^1^1^2990806^
"^DD",727.815,727.815,49,21,1,0)
The Division field will not be used in the Event Capture extract.
"^DD",727.815,727.815,49,23,0)
^^1^1^2990806^
"^DD",727.815,727.815,49,23,1,0)
The Division field will always be null.
"^DD",727.815,727.815,49,"DT")
2990806
"^DD",727.816,727.816,0)
FIELD^^20^21
"^DD",727.816,727.816,0,"DDA")
N
"^DD",727.816,727.816,0,"DT")
2990510
"^DD",727.816,727.816,0,"IX","AC",727.816,2)

"^DD",727.816,727.816,0,"NM","CLINIC I EXTRACT")

"^DD",727.816,727.816,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.816,727.816,.01,1,0)
^.1^^0
"^DD",727.816,727.816,.01,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",727.816,727.816,.01,21,0)
^^1^1^2990505^
"^DD",727.816,727.816,.01,21,1,0)
The record number for this extract entry.
"^DD",727.816,727.816,.01,23,0)
^^2^2^2990505^
"^DD",727.816,727.816,.01,23,1,0)
The internal entry number (IEN) for this record. 
"^DD",727.816,727.816,.01,23,2,0)
This entry is DINUMed.
"^DD",727.816,727.816,.01,"DT")
2990726
"^DD",727.816,727.816,1,0)
YEAR MONTH^RF^^0;2^K:$L(X)>6!($L(X)<6) X
"^DD",727.816,727.816,1,3)
Answer must be 6 characters in length.
"^DD",727.816,727.816,1,21,0)
^^2^2^2990505^
"^DD",727.816,727.816,1,21,1,0)
A six character string representing the year and the month
"^DD",727.816,727.816,1,21,2,0)
for which this extract was performed.
"^DD",727.816,727.816,1,23,0)
^^1^1^2990505^
"^DD",727.816,727.816,1,23,1,0)
Format is YYYYMM; Year 2000 compliant.
"^DD",727.816,727.816,1,"DT")
2990505
"^DD",727.816,727.816,2,0)
EXTRACT NUMBER^RP727'^ECX(727,^0;3^Q
"^DD",727.816,727.816,2,1,0)
^.1
"^DD",727.816,727.816,2,1,1,0)
727.816^AC^MUMPS
"^DD",727.816,727.816,2,1,1,1)
S ^ECX(727.816,"AC",$E(X,1,30),DA)=""
"^DD",727.816,727.816,2,1,1,2)
K ^ECX(727.816,"AC",$E(X,1,30),DA)
"^DD",727.816,727.816,2,1,1,3)
DO NOT DELETE
"^DD",727.816,727.816,2,1,1,"%D",0)
^^2^2^2990726^^
"^DD",727.816,727.816,2,1,1,"%D",1,0)
The "AC" cross-reference is essential for managing and purging data
"^DD",727.816,727.816,2,1,1,"%D",2,0)
in this file.
"^DD",727.816,727.816,2,1,1,"DT")
2990511
"^DD",727.816,727.816,2,21,0)
^^2^2^2990505^
"^DD",727.816,727.816,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.816,727.816,2,21,2,0)
extract.
"^DD",727.816,727.816,2,23,0)
^^2^2^2990505^
"^DD",727.816,727.816,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.816,727.816,2,23,2,0)
pick up the header for the MailMan transmission message.
"^DD",727.816,727.816,2,"DT")
2990511
"^DD",727.816,727.816,3,0)
FACILITY^RF^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.816,727.816,3,3)
Answer must be 1-7 characters in length.
"^DD",727.816,727.816,3,21,0)
^^1^1^2990505^
"^DD",727.816,727.816,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.816,727.816,3,23,0)
^^13^13^2990505^^^
"^DD",727.816,727.816,3,23,1,0)
An indicator of the division responsible for the patient encounter. 
"^DD",727.816,727.816,3,23,2,0)
It is a pointer to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.816,727.816,3,23,3,0)
 
"^DD",727.816,727.816,3,23,4,0)
For scheduled appointments and appended EKG visits, it is taken
"^DD",727.816,727.816,3,23,5,0)
from the DIVISION field (3.5) of the HOSPITAL LOCATION file (#44).
"^DD",727.816,727.816,3,23,6,0)
 
"^DD",727.816,727.816,3,23,7,0)
For dispositions, stand-alones, and appended lab and x-ray visits, 
"^DD",727.816,727.816,3,23,8,0)
it is derived from the LOCATION field (#.04)in the OUTPATIENT ENCOUNTER
"^DD",727.816,727.816,3,23,9,0)
file (#409.68).  The LOCATION field points to the HOSPITAL LOCATION
"^DD",727.816,727.816,3,23,10,0)
file (#44).  The DIVISION field (#3.5) of the pointed-to file #44
"^DD",727.816,727.816,3,23,11,0)
record is used.
"^DD",727.816,727.816,3,23,12,0)
 
"^DD",727.816,727.816,3,23,13,0)
The data is stored as free text.
"^DD",727.816,727.816,3,"DT")
2990505
"^DD",727.816,727.816,4,0)
PATIENT NO. - DFN^RP2'^DPT(^0;5^Q
"^DD",727.816,727.816,4,21,0)
^^2^2^2990505^
"^DD",727.816,727.816,4,21,1,0)
Internal entry number of the PATIENT file (#2) record identifying the
"^DD",727.816,727.816,4,21,2,0)
patient associated with the clinic visit information.
"^DD",727.816,727.816,4,23,0)
^^9^9^2990505^
"^DD",727.816,727.816,4,23,1,0)
This field points to a record in the PATIENT file (#2).
"^DD",727.816,727.816,4,23,2,0)
  
"^DD",727.816,727.816,4,23,3,0)
For scheduled appointments and appended EKG visits, it is taken
"^DD",727.816,727.816,4,23,4,0)
from the PATIENT field (#.01) within the APPOINTMENT field (#1900) 
"^DD",727.816,727.816,4,23,5,0)
multiple of the HOSPITAL LOCATION file (#44).
"^DD",727.816,727.816,4,23,6,0)
  
"^DD",727.816,727.816,4,23,7,0)
For dispositions, stand-alones, and appended lab and x-ray visits, 
"^DD",727.816,727.816,4,23,8,0)
it is taken from the PATIENT field (#.02) in the OUTPATIENT 
"^DD",727.816,727.816,4,23,9,0)
ENCOUNTER file (#409.68).
"^DD",727.816,727.816,4,"DT")
2990505
"^DD",727.816,727.816,5,0)
SSN^RF^^0;6^K:$L(X)>10!($L(X)<9) X
"^DD",727.816,727.816,5,3)
Answer must be 9-10 characters in length.
"^DD",727.816,727.816,5,21,0)
^^4^4^2990505^
"^DD",727.816,727.816,5,21,1,0)
The patient's social security number.
"^DD",727.816,727.816,5,21,2,0)
 
"^DD",727.816,727.816,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.816,727.816,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.816,727.816,5,23,0)
^^6^6^2990505^
"^DD",727.816,727.816,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.816,727.816,5,23,2,0)
(#4) of this extract file (#727.816), SSN data is derived from 
"^DD",727.816,727.816,5,23,3,0)
the SOCIAL SECURITY NUMBER field (#.09) in the PATIENT file (#2).
"^DD",727.816,727.816,5,23,4,0)
 
"^DD",727.816,727.816,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.816,727.816,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.816,727.816,5,"DT")
2990505
"^DD",727.816,727.816,6,0)
NAME^RF^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.816,727.816,6,3)
Answer must be 4 characters in length.
"^DD",727.816,727.816,6,21,0)
^^1^1^2990505^
"^DD",727.816,727.816,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.816,727.816,6,23,0)
^^4^4^2990505^
"^DD",727.816,727.816,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.816,727.816,6,23,2,0)
(#4) of this extract file (#727.816), NAME data is derived from the
"^DD",727.816,727.816,6,23,3,0)
NAME field (#.01) in the PATIENT file (#2). The first four characters of
"^DD",727.816,727.816,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.816,727.816,6,"DT")
2990505
"^DD",727.816,727.816,7,0)
IN OUT PATIENT INDICATOR^RF^^0;8^K:$L(X)>1!($L(X)<1) X
"^DD",727.816,727.816,7,3)
Answer must be 1 character in length.
"^DD",727.816,727.816,7,21,0)
^^2^2^2990505^
"^DD",727.816,727.816,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient on the
"^DD",727.816,727.816,7,21,2,0)
date in the DAY field (#8) for this extract record.
"^DD",727.816,727.816,7,23,0)
^^8^8^2990505^
"^DD",727.816,727.816,7,23,1,0)
This status indicator corresponds to an internal entry number in the 
"^DD",727.816,727.816,7,23,2,0)
LOCATION TYPE file (#40.9), where IEN=1 is the Clinic location, 
"^DD",727.816,727.816,7,23,3,0)
and IEN=3 is the Ward location.
"^DD",727.816,727.816,7,23,4,0)
  
"^DD",727.816,727.816,7,23,5,0)
This field is initialized to a 1, indicating an outpatient status. 
"^DD",727.816,727.816,7,23,6,0)
If a call to IN5^VADPT (using the patient DFN and the event date) 
"^DD",727.816,727.816,7,23,7,0)
returns a patient movement number, then the field is reset to a 3 
"^DD",727.816,727.816,7,23,8,0)
indicating inpatient status.
"^DD",727.816,727.816,7,"DT")
2990505
"^DD",727.816,727.816,8,0)
DAY^RF^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.816,727.816,8,3)
Answer must be 8 characters in length.
"^DD",727.816,727.816,8,21,0)
^^2^2^2990505^^
"^DD",727.816,727.816,8,21,1,0)
Date in format YYYYMMDD; date with which the clinic visit extract
"^DD",727.816,727.816,8,21,2,0)
data is associated.
"^DD",727.816,727.816,8,23,0)
^^11^11^2990505^^
"^DD",727.816,727.816,8,23,1,0)
For scheduled appointments and appended EKG visits -- 
"^DD",727.816,727.816,8,23,2,0)
HOSPITAL LOCATION file (#44); APPOINTMENT sub-file (#44.001);
"^DD",727.816,727.816,8,23,3,0)
   APPOINTMENT DATE/TIME field (#.01)
"^DD",727.816,727.816,8,23,4,0)
 
"^DD",727.816,727.816,8,23,5,0)
For dispositions, stand-alones, and appended lab and x-ray visits --
"^DD",727.816,727.816,8,23,6,0)
OUTPATIENT ENCOUNTER file (#409.68); DATE field (#.01)
"^DD",727.816,727.816,8,23,7,0)
 
"^DD",727.816,727.816,8,23,8,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.816,727.816,8,23,9,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.816,727.816,8,23,10,0)
then a default is used.  The default date value is the value of the 
"^DD",727.816,727.816,8,23,11,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.816,727.816,8,"DT")
2990505
"^DD",727.816,727.816,9,0)
FEEDER KEY^RF^^0;10^K:$L(X)>14!($L(X)<14) X
"^DD",727.816,727.816,9,3)
Answer must be 14 characters in length.
"^DD",727.816,727.816,9,21,0)
^^7^7^2990505^
"^DD",727.816,727.816,9,21,1,0)
Feeder key is a fixed length field. The ACTION TO SEND field (#5) of the 
"^DD",727.816,727.816,9,21,2,0)
CLINIC AND STOP CODES file (#728.44) for this clinic determines the 
"^DD",727.816,727.816,9,21,3,0)
construction of this key. It is derived from DSS selected stop codes and 
"^DD",727.816,727.816,9,21,4,0)
credit stop codes (or MAS selected stop codes and credit stop codes in 
"^DD",727.816,727.816,9,21,5,0)
the absence of DSS selected ones), length of appointment, clinic 
"^DD",727.816,727.816,9,21,6,0)
internal entry number in the CLINICS AND STOP CODES file (#728.44),
"^DD",727.816,727.816,9,21,7,0)
and whether or not this was a no show appointment.
"^DD",727.816,727.816,9,23,0)
^^36^36^2990505^
"^DD",727.816,727.816,9,23,1,0)
The feeder key is a 14 character code of the form SSSCCCTTTPPPPN;
"^DD",727.816,727.816,9,23,2,0)
where
"^DD",727.816,727.816,9,23,3,0)
   SSS = primary stop code
"^DD",727.816,727.816,9,23,4,0)
   CCC = secondary stop code
"^DD",727.816,727.816,9,23,5,0)
   TTT = appointment length in minutes
"^DD",727.816,727.816,9,23,6,0)
   PPPP = National Clinic code
"^DD",727.816,727.816,9,23,7,0)
   N = no-show indicator
"^DD",727.816,727.816,9,23,8,0)
  
"^DD",727.816,727.816,9,23,9,0)
One of three transmission styles may be assigned to the clinic in the 
"^DD",727.816,727.816,9,23,10,0)
CLINICS AND STOP CODES file (#728.44).
"^DD",727.816,727.816,9,23,11,0)
  
"^DD",727.816,727.816,9,23,12,0)
For all styles, SSS and CCC are taken from the CLINICS AND STOP 
"^DD",727.816,727.816,9,23,13,0)
CODES file (#728.44).  The DSS STOP CODE field (#3) and DSS CEDIT 
"^DD",727.816,727.816,9,23,14,0)
STOP CODE field (#4) are used for SSS and CCC respectively.  If field #3
"^DD",727.816,727.816,9,23,15,0)
is null, then the STOP CODE field (#1) and CREDIT STOP CODE field 
"^DD",727.816,727.816,9,23,16,0)
(#2) are used.  If field #1 is null, then data is taken from the STOP CODE 
"^DD",727.816,727.816,9,23,17,0)
NUMBER field (#8) and the CREDIT STOP CODE field (#2503) of 
"^DD",727.816,727.816,9,23,18,0)
the HOSPITAL LOCATION file (#44).  If field #8 is null, then both
"^DD",727.816,727.816,9,23,19,0)
SSS and CCC are set to "000".
"^DD",727.816,727.816,9,23,20,0)
   
"^DD",727.816,727.816,9,23,21,0)
For style 1, CCC is always "000" and PPPP is always "0000".
"^DD",727.816,727.816,9,23,22,0)
  
"^DD",727.816,727.816,9,23,23,0)
Styles 2 and 3, defined in previous versions of DSS Extracts, are no longer
"^DD",727.816,727.816,9,23,24,0)
valid.
"^DD",727.816,727.816,9,23,25,0)
   
"^DD",727.816,727.816,9,23,26,0)
For style 4,  PPPP is the National Clinic code assigned to this clinic; 
"^DD",727.816,727.816,9,23,27,0)
it is taken from the NATIONAL CLINIC filed (#7) of file #728.44.  The
"^DD",727.816,727.816,9,23,28,0)
original source if this data is the NATIONAL CLINIC file (#728,441).
"^DD",727.816,727.816,9,23,29,0)
   
"^DD",727.816,727.816,9,23,30,0)
For style 5, PPPP is always "0000".
"^DD",727.816,727.816,9,23,31,0)
  
"^DD",727.816,727.816,9,23,32,0)
In all styles, N is set to "N" if the STATUS field (#3) in the APPOINMENT 
"^DD",727.816,727.816,9,23,33,0)
sub-file (#2.98) of the PATIENT file (#2) is set to "NO-SHOW".
"^DD",727.816,727.816,9,23,34,0)
   
"^DD",727.816,727.816,9,23,35,0)
In all styles SSS, CCC, TTT and PPPP are padded with leading zeroes as
"^DD",727.816,727.816,9,23,36,0)
needed; the Feeder is always exactly 14 characters.
"^DD",727.816,727.816,9,"DT")
2990505
"^DD",727.816,727.816,10,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;11^Q
"^DD",727.816,727.816,10,21,0)
^^2^2^2990506^
"^DD",727.816,727.816,10,21,1,0)
The treating specialty associated with this extract record, if the
"^DD",727.816,727.816,10,21,2,0)
patient is an inpatient.
"^DD",727.816,727.816,10,23,0)
^^6^6^2990506^
"^DD",727.816,727.816,10,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.816,727.816,10,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.816,727.816,10,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.816,727.816,10,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.816,727.816,10,23,5,0)
(#45.7), is used to get the SPECIALTY field (#1) which points to the 
"^DD",727.816,727.816,10,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.816,727.816,10,"DT")
2990506
"^DD",727.816,727.816,11,0)
ENCOUNTER ELIGIBILITY^F^^0;12^K:$L(X)>3!($L(X)<1) X
"^DD",727.816,727.816,11,3)
Answer must be 1-3 characters in length.
"^DD",727.816,727.816,11,21,0)
^^1^1^2990506^
"^DD",727.816,727.816,11,21,1,0)
The patient's eligibility for this outpatient encounter.
"^DD",727.816,727.816,11,23,0)
^^9^9^2990506^
"^DD",727.816,727.816,11,23,1,0)
In the OUTPATIENT ENCOUNTER file (#409.68), the ELIGIBILITY OF ENCOUNTER
"^DD",727.816,727.816,11,23,2,0)
field (#.13) points to the ELIGIBILITY CODE file (#8).
"^DD",727.816,727.816,11,23,3,0)
   
"^DD",727.816,727.816,11,23,4,0)
Then the MAS ELIGIBILITY CODE field (#8) of file #8 points to the
"^DD",727.816,727.816,11,23,5,0)
MAS ELIGIBILITY CODE file (#8.1).  
"^DD",727.816,727.816,11,23,6,0)
  
"^DD",727.816,727.816,11,23,7,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.816,727.816,11,23,8,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.816,727.816,11,23,9,0)
two or three numeric characters.
"^DD",727.816,727.816,11,"DT")
2990506
"^DD",727.816,727.816,12,0)
PRIMARY CARE PROVIDER^F^^0;13^K:$L(X)>11!($L(X)<2) X
"^DD",727.816,727.816,12,3)
Answer must be 2-11 characters in length.
"^DD",727.816,727.816,12,21,0)
^^1^1^2990510^^^^
"^DD",727.816,727.816,12,21,1,0)
The Primary Care Provider assigned to this patient.
"^DD",727.816,727.816,12,23,0)
^^14^14^2990510^^^^
"^DD",727.816,727.816,12,23,1,0)
For scheduled appointments and appended EKG visits, use the 
"^DD",727.816,727.816,12,23,2,0)
APPOINTMENT DATE/TIME field (#.01) in the APPOINTMENT field (#1900) 
"^DD",727.816,727.816,12,23,3,0)
multiple of the HOSPITAL LOCATION file (#44).
"^DD",727.816,727.816,12,23,4,0)
  
"^DD",727.816,727.816,12,23,5,0)
For dispositions, stand-alones, and appended lab and x-ray visits, 
"^DD",727.816,727.816,12,23,6,0)
use the DATE field (#.01) in the OUTPATIENT ENCOUNTER file (#409.68).
"^DD",727.816,727.816,12,23,7,0)
  
"^DD",727.816,727.816,12,23,8,0)
The date along with the patient pointer (DFN) stored in the PATIENT 
"^DD",727.816,727.816,12,23,9,0)
NO. - DFN field (4) of the extract record is used to make a call to
"^DD",727.816,727.816,12,23,10,0)
the Scheduling API, OUTPTPR^SDUTL3. The pointer (IEN) to the NEW 
"^DD",727.816,727.816,12,23,11,0)
PERSON file (#200), retuned by the API, is used.
"^DD",727.816,727.816,12,23,12,0)
 
"^DD",727.816,727.816,12,23,13,0)
A "2" is prefixed to the pointer value to indicate that the source
"^DD",727.816,727.816,12,23,14,0)
file is "200", and the data is stored as free text.
"^DD",727.816,727.816,12,"DT")
2990510
"^DD",727.816,727.816,13,0)
PC PROVIDER PERSON CLASS^F^^0;14^K:$L(X)>7!($L(X)<7) X
"^DD",727.816,727.816,13,3)
Answer must be 7 characters in length.
"^DD",727.816,727.816,13,21,0)
^^4^4^2990510^^^^
"^DD",727.816,727.816,13,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.816,727.816,13,21,2,0)
of the Primary Care Provider as assigned by through the PCMM application.
"^DD",727.816,727.816,13,21,3,0)
The VA Code is always of the form "V"_six numeric digits;  exactly 7 
"^DD",727.816,727.816,13,21,4,0)
characters in length. 
"^DD",727.816,727.816,13,23,0)
^^4^4^2990510^^^^
"^DD",727.816,727.816,13,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.816,727.816,13,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.816,727.816,13,23,3,0)
PERS is the IEN from file #200.
"^DD",727.816,727.816,13,23,4,0)
 
"^DD",727.816,727.816,13,"DT")
2990510
"^DD",727.816,727.816,14,0)
PC PROVIDER NPI^F^^0;15^K:$L(X)>8!($L(X)<1) X
"^DD",727.816,727.816,14,3)
Answer must be 1-8 characters in length.
"^DD",727.816,727.816,14,21,0)
^^1^1^2990510^^^^
"^DD",727.816,727.816,14,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.816,727.816,14,23,0)
^^4^4^2990510^^^^
"^DD",727.816,727.816,14,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.816,727.816,14,23,2,0)
field will hold the Primary Care Providerovider NPI.
"^DD",727.816,727.816,14,23,3,0)
 
"^DD",727.816,727.816,14,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.816,727.816,14,"DT")
2990510
"^DD",727.816,727.816,15,0)
ASSOCIATE PC PROVIDER^F^^0;16^K:$L(X)>11!($L(X)<2) X
"^DD",727.816,727.816,15,3)
Answer must be 2-11 characters in length.
"^DD",727.816,727.816,15,21,0)
^^4^4^2990506^
"^DD",727.816,727.816,15,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.816,727.816,15,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.816,727.816,15,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.816,727.816,15,21,4,0)
character 2.
"^DD",727.816,727.816,15,23,0)
^^2^2^2990506^
"^DD",727.816,727.816,15,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.816,727.816,15,23,2,0)
the PCMM application.
"^DD",727.816,727.816,15,"DT")
2990506
"^DD",727.816,727.816,16,0)
ASSOC. PC PROV. PERSON CLASS^F^^0;17^K:$L(X)>7!($L(X)<7) X
"^DD",727.816,727.816,16,3)
Answer must be 7 characters in length.
"^DD",727.816,727.816,16,21,0)
^^4^4^2990506^
"^DD",727.816,727.816,16,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.816,727.816,16,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.816,727.816,16,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.816,727.816,16,21,4,0)
exactly 7 characters in length. 
"^DD",727.816,727.816,16,23,0)
^^3^3^2990506^
"^DD",727.816,727.816,16,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.816,727.816,16,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.816,727.816,16,23,3,0)
PERS is the IEN from file #200.
"^DD",727.816,727.816,16,"DT")
2990506
"^DD",727.816,727.816,17,0)
ASSOCIATE PC PROVIDER NPI^F^^0;18^K:$L(X)>8!($L(X)<1) X
"^DD",727.816,727.816,17,3)
Answer must be 1-8 characters in length.
"^DD",727.816,727.816,17,21,0)
^^1^1^2990507^
"^DD",727.816,727.816,17,21,1,0)
The Associate Primary Care Provider's National Provider Identifier.
"^DD",727.816,727.816,17,23,0)
^^2^2^2990507^
"^DD",727.816,727.816,17,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.816,727.816,17,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.816,727.816,17,"DT")
2990507
"^DD",727.816,727.816,18,0)
CLINIC^P44'^SC(^0;19^Q
"^DD",727.816,727.816,18,21,0)
^^2^2^2990507^
"^DD",727.816,727.816,18,21,1,0)
Reference to the Clinic (if any) associated with the patient
"^DD",727.816,727.816,18,21,2,0)
encounter.
"^DD",727.816,727.816,18,23,0)
^^2^2^2990507^
"^DD",727.816,727.816,18,23,1,0)
Internal entry number of the Clinic from the HOSPITAL LOCATION 
"^DD",727.816,727.816,18,23,2,0)
file (#44).
"^DD",727.816,727.816,18,"DT")
2990507
"^DD",727.816,727.816,19,0)
CPT CODES & MODIFIERS^RFO^^1;1^K:$L(X)>120!($L(X)<120) X
"^DD",727.816,727.816,19,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.816,727.816,19,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.816,727.816,19,3)
Answer must be 120 characters in length.
"^DD",727.816,727.816,19,21,0)
^^10^10^2990507^
"^DD",727.816,727.816,19,21,1,0)
The primary CPT code and modifier(s) followed by secondary CPT code(s)
"^DD",727.816,727.816,19,21,2,0)
and modifier(s) in a concatenated string.  Only the first CPT code is
"^DD",727.816,727.816,19,21,3,0)
required.  Each CPT code is exactly 5 characters and each modifier is 
"^DD",727.816,727.816,19,21,4,0)
exactly 2 characters.  Each CPT code plus modifier(s) string is exactly
"^DD",727.816,727.816,19,21,5,0)
15 characters in length.  If there are fewer than 5 modifiers, then the
"^DD",727.816,727.816,19,21,6,0)
segment must be padded to the right with space characters.
"^DD",727.816,727.816,19,21,7,0)
  
"^DD",727.816,727.816,19,21,8,0)
There may be fewer than 8 CPT codes for a visit record, but the total
"^DD",727.816,727.816,19,21,9,0)
length of field #18 is always 120 characters, many of which may be 
"^DD",727.816,727.816,19,21,10,0)
space characters (i.e., ASCII code 32).
"^DD",727.816,727.816,19,23,0)
^^15^15^2990507^
"^DD",727.816,727.816,19,23,1,0)
Using the internal entry number for the encounter in the OUTPATIENT
"^DD",727.816,727.816,19,23,2,0)
ENCOUNTER file (#409.68), the VISIT FILE ENTRY field (#.05) is
"^DD",727.816,727.816,19,23,3,0)
determined. This entry is used to make a call to the Patient Care 
"^DD",727.816,727.816,19,23,4,0)
Encounter API, ENCEVENT^PXAPI. The API returns all visit data in the 
"^DD",727.816,727.816,19,23,5,0)
^TMP("PXKENC",$J) array.
"^DD",727.816,727.816,19,23,6,0)
  
"^DD",727.816,727.816,19,23,7,0)
If a Primary Provider is specified for this patient visit, then the
"^DD",727.816,727.816,19,23,8,0)
first CPT code associated with that Primary Provider is used as the
"^DD",727.816,727.816,19,23,9,0)
primary CPT code.  Otherwise, the first CPT code listed in the array
"^DD",727.816,727.816,19,23,10,0)
is used as the primary CPT code.  The remaining CPT codes are used
"^DD",727.816,727.816,19,23,11,0)
as secondary CPT codes, upto a total of 7 secondary CPT codes.
"^DD",727.816,727.816,19,23,12,0)
  
"^DD",727.816,727.816,19,23,13,0)
Modifiers are found in the CPT MODIFIERS file (#81.3), but it is not
"^DD",727.816,727.816,19,23,14,0)
known at this time how modifiers will be stored in the Visit file
"^DD",727.816,727.816,19,23,15,0)
structure.
"^DD",727.816,727.816,19,"DT")
2990614
"^DD",727.816,727.816,20,0)
PRIMARY CARE TEAM^F^^1;2^K:$L(X)>4!($L(X)<1) X
"^DD",727.816,727.816,20,3)
Answer must be 1-4 characters in length.
"^DD",727.816,727.816,20,21,0)
^^1^1^2990510^
"^DD",727.816,727.816,20,21,1,0)
The primary care team assigned to this patient.
"^DD",727.816,727.816,20,23,0)
^^12^12^2990510^
"^DD",727.816,727.816,20,23,1,0)
For scheduled appointments and appended EKG visits, use the 
"^DD",727.816,727.816,20,23,2,0)
APPOINTMENT DATE/TIME field (#.01) in the APPOINTMENT field (#1900) 
"^DD",727.816,727.816,20,23,3,0)
multiple of the HOSPITAL LOCATION file (#44).
"^DD",727.816,727.816,20,23,4,0)
  
"^DD",727.816,727.816,20,23,5,0)
For dispositions, stand-alones, and appended lab and x-ray visits, 
"^DD",727.816,727.816,20,23,6,0)
use the DATE field (#.01) in the OUTPATIENT ENCOUNTER file (#409.68).
"^DD",727.816,727.816,20,23,7,0)
  
"^DD",727.816,727.816,20,23,8,0)
The date along with the patient pointer (DFN) stored in the PATIENT 
"^DD",727.816,727.816,20,23,9,0)
NO. - DFN field (#4) of the extract record is used to make a call to
"^DD",727.816,727.816,20,23,10,0)
the Scheduling API, OUTPTTM^SDUTL3.  The pointer (IEN) to the TEAM 
"^DD",727.816,727.816,20,23,11,0)
file (#404.51), retuned by the API, is used.  The data is stored as
"^DD",727.816,727.816,20,23,12,0)
free text.
"^DD",727.816,727.816,20,"DT")
2990510
"^DD",727.817,727.817,0)
FIELD^^29^32
"^DD",727.817,727.817,0,"DDA")
N
"^DD",727.817,727.817,0,"DIK")
ECX817
"^DD",727.817,727.817,0,"DIKOLD")
ECX817
"^DD",727.817,727.817,0,"DT")
2990506
"^DD",727.817,727.817,0,"IX","AC",727.817,2)

"^DD",727.817,727.817,0,"NM","TREATING SPECIALTY CHANGE EXTRACT")

"^DD",727.817,727.817,0,"VRPK")
DSS EXTRACTS
"^DD",727.817,727.817,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.817,727.817,.01,.1)
Sequence Number
"^DD",727.817,727.817,.01,1,0)
^.1^^0
"^DD",727.817,727.817,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.817,727.817,.01,21,0)
^^1^1^2961004^^^^
"^DD",727.817,727.817,.01,21,1,0)
The record number for this extract entry.
"^DD",727.817,727.817,.01,23,0)
^^1^1^2961004^^^^
"^DD",727.817,727.817,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.817,727.817,.01,"DT")
2980812
"^DD",727.817,727.817,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.817,727.817,1,.1)
Year/Month
"^DD",727.817,727.817,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.817,727.817,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.817,727.817,1,3)
Answer must be 6 characters in length.
"^DD",727.817,727.817,1,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.817,727.817,1,21,2,0)
for which this extract was performed.
"^DD",727.817,727.817,1,23,0)
^^1^1^2970922^^^^
"^DD",727.817,727.817,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.817,727.817,1,"DT")
2970924
"^DD",727.817,727.817,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.817,727.817,2,.1)
Extract Number
"^DD",727.817,727.817,2,1,0)
^.1
"^DD",727.817,727.817,2,1,1,0)
727.817^AC
"^DD",727.817,727.817,2,1,1,1)
S ^ECX(727.817,"AC",$E(X,1,30),DA)=""
"^DD",727.817,727.817,2,1,1,2)
K ^ECX(727.817,"AC",$E(X,1,30),DA)
"^DD",727.817,727.817,2,1,1,3)
DO NOT DELETE.
"^DD",727.817,727.817,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.817,727.817,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.817,727.817,2,1,1,"%D",2,0)
in this file.
"^DD",727.817,727.817,2,1,1,"DT")
2910802
"^DD",727.817,727.817,2,3)
Enter the extract number for this extract.
"^DD",727.817,727.817,2,21,0)
^^2^2^2961004^^^^
"^DD",727.817,727.817,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.817,727.817,2,21,2,0)
extract.
"^DD",727.817,727.817,2,23,0)
^^2^2^2961004^^^^
"^DD",727.817,727.817,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.817,727.817,2,23,2,0)
pick up the header for the mail message.
"^DD",727.817,727.817,2,"DT")
2961004
"^DD",727.817,727.817,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.817,727.817,3,.1)
Facility
"^DD",727.817,727.817,3,3)
Enter the station number where this extract was performed.
"^DD",727.817,727.817,3,21,0)
^^1^1^2980723^^^^
"^DD",727.817,727.817,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.817,727.817,3,23,0)
^^1^1^2980723^^^^
"^DD",727.817,727.817,3,23,1,0)
For the Treating Specialty Change extract, the FACILITY field is null.
"^DD",727.817,727.817,3,"DT")
2961015
"^DD",727.817,727.817,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.817,727.817,4,.1)
Patient No. - DFN
"^DD",727.817,727.817,4,3)
Enter the name of the patient for this extract record.
"^DD",727.817,727.817,4,21,0)
^^1^1^2990504^^^^
"^DD",727.817,727.817,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.817,727.817,4,23,0)
^^3^3^2990504^^^^
"^DD",727.817,727.817,4,23,1,0)
Derived from the PATIENT field (.03) in the PATIENT MOVEMENT file 
"^DD",727.817,727.817,4,23,2,0)
(#405), which is a pointer to the PATIENT file (#2). This data 
"^DD",727.817,727.817,4,23,3,0)
represents the patient DFN.
"^DD",727.817,727.817,4,"DT")
2961015
"^DD",727.817,727.817,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.817,727.817,5,.1)
Social Security Number
"^DD",727.817,727.817,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.817,727.817,5,21,0)
^^4^4^2990504^^^^
"^DD",727.817,727.817,5,21,1,0)
The patient's social security number.
"^DD",727.817,727.817,5,21,2,0)
 
"^DD",727.817,727.817,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.817,727.817,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.817,727.817,5,23,0)
^^7^7^2990504^^^
"^DD",727.817,727.817,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN 
"^DD",727.817,727.817,5,23,2,0)
field (4) in the TREATING SPECIALTY CHANGE EXTRACT file (#727.817), 
"^DD",727.817,727.817,5,23,3,0)
SSN data is derived from the SOCIAL SECURITY NUMBER field (.09) in 
"^DD",727.817,727.817,5,23,4,0)
the PATIENT file (#2).
"^DD",727.817,727.817,5,23,5,0)
 
"^DD",727.817,727.817,5,23,6,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.817,727.817,5,23,7,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.817,727.817,5,"DT")
2961004
"^DD",727.817,727.817,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.817,727.817,6,.1)
Name
"^DD",727.817,727.817,6,3)
Your answer must be 4 characters in length.
"^DD",727.817,727.817,6,21,0)
^^1^1^2961023^^^^
"^DD",727.817,727.817,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.817,727.817,6,23,0)
^^5^5^2961023^^
"^DD",727.817,727.817,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN 
"^DD",727.817,727.817,6,23,2,0)
field (4) in the TREATING SPECIALTY CHANGE EXTRACT file (#727.817), 
"^DD",727.817,727.817,6,23,3,0)
NAME data is derived from the NAME field (.01) in the PATIENT file 
"^DD",727.817,727.817,6,23,4,0)
(#2). The first four characters of the first "," piece are used, 
"^DD",727.817,727.817,6,23,5,0)
padded with trailing spaces if necessary.
"^DD",727.817,727.817,6,"DT")
2961004
"^DD",727.817,727.817,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.817,727.817,7,.1)
In Out Patient Indicator
"^DD",727.817,727.817,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.817,727.817,7,21,0)
^^2^2^2961004^^^^
"^DD",727.817,727.817,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.817,727.817,7,21,2,0)
extract entry.
"^DD",727.817,727.817,7,23,0)
^^2^2^2961004^^^
"^DD",727.817,727.817,7,23,1,0)
For the Treating Specialty Change extract this field is set to 3, 
"^DD",727.817,727.817,7,23,2,0)
indicating inpatient status in the LOCATION TYPE file (#40.9).
"^DD",727.817,727.817,7,"DT")
2961004
"^DD",727.817,727.817,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.817,727.817,8,.1)
Day
"^DD",727.817,727.817,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,8,3)
Answer must be 8 characters in length.
"^DD",727.817,727.817,8,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,8,21,1,0)
An 8-character numeric string that represents the date on which
"^DD",727.817,727.817,8,21,2,0)
the Treating Specialty change took place.
"^DD",727.817,727.817,8,23,0)
^^9^9^2970923^^^^
"^DD",727.817,727.817,8,23,1,0)
Data source:
"^DD",727.817,727.817,8,23,2,0)
 
"^DD",727.817,727.817,8,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.817,727.817,8,23,4,0)
 
"^DD",727.817,727.817,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.817,727.817,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.817,727.817,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.817,727.817,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.817,727.817,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.817,727.817,8,"DT")
2970924
"^DD",727.817,727.817,9,0)
PRODUCT^F^^0;10^K:$L(X)>1!($L(X)<1) X
"^DD",727.817,727.817,9,.1)
Product
"^DD",727.817,727.817,9,3)
The product or feeder key for this extract.
"^DD",727.817,727.817,9,21,0)
^^1^1^2961015^^^
"^DD",727.817,727.817,9,21,1,0)
The product or feeder key for this extract.
"^DD",727.817,727.817,9,23,0)
^^1^1^2961015^^^
"^DD",727.817,727.817,9,23,1,0)
For the Treating Specialty Change extract, the PRODUCT field is null.
"^DD",727.817,727.817,9,"DT")
2961004
"^DD",727.817,727.817,9,"V",0)
^.12P
"^DD",727.817,727.817,10,0)
ADMISSION DATE^FO^^0;11^K:$L(X)>8!($L(X)<8) X
"^DD",727.817,727.817,10,.1)
Admission Date
"^DD",727.817,727.817,10,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,10,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,10,3)
Answer must be 8 characters in length.
"^DD",727.817,727.817,10,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,10,21,1,0)
An 8-character numeric string that represents the date of the Admission
"^DD",727.817,727.817,10,21,2,0)
associated with this Treating Specialty change.
"^DD",727.817,727.817,10,23,0)
^^10^10^2970923^^^^
"^DD",727.817,727.817,10,23,1,0)
Data source:
"^DD",727.817,727.817,10,23,2,0)
 
"^DD",727.817,727.817,10,23,3,0)
PATIENT MOVEMENT file (#405); ADMISSION/CHECK-IN MOVEMENT field (#.14)
"^DD",727.817,727.817,10,23,4,0)
PATIENT MOVEMENT FILE (#405); DATE/TIME (#.01)
"^DD",727.817,727.817,10,23,5,0)
 
"^DD",727.817,727.817,10,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.817,727.817,10,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.817,727.817,10,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.817,727.817,10,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.817,727.817,10,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.817,727.817,10,"DT")
2970924
"^DD",727.817,727.817,11,0)
DISCHARGE DATE^FO^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.817,727.817,11,.1)
Discharge Date
"^DD",727.817,727.817,11,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,11,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.817,727.817,11,3)
Answer must be 8 characters in length.
"^DD",727.817,727.817,11,21,0)
^^3^3^2970922^^^^
"^DD",727.817,727.817,11,21,1,0)
An 8-character numeric string that represents the date of Discharge
"^DD",727.817,727.817,11,21,2,0)
associated with this Treating Specialty change, if it is the last
"^DD",727.817,727.817,11,21,3,0)
specialty change prior to discharge.  Otherwise, this field is null.
"^DD",727.817,727.817,11,23,0)
^^9^9^2970923^^^^
"^DD",727.817,727.817,11,23,1,0)
Data source:
"^DD",727.817,727.817,11,23,2,0)
 
"^DD",727.817,727.817,11,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.817,727.817,11,23,4,0)
 
"^DD",727.817,727.817,11,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.817,727.817,11,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.817,727.817,11,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.817,727.817,11,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.817,727.817,11,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.817,727.817,11,"DT")
2970924
"^DD",727.817,727.817,12,0)
MOVEMENT FILE #^P405'^DGPM(^0;13^Q
"^DD",727.817,727.817,12,.1)
Movement File Number
"^DD",727.817,727.817,12,3)
Enter the patient movement number associated with this extract record.
"^DD",727.817,727.817,12,21,0)
^^1^1^2961004^^
"^DD",727.817,727.817,12,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.817,727.817,12,23,0)
^^3^3^2961004^^
"^DD",727.817,727.817,12,23,1,0)
The ^DGPM("ATT3" or "ATT6",DATE,D0) cross reference is used to 
"^DD",727.817,727.817,12,23,2,0)
obtain the current movement number associated with this patient. 
"^DD",727.817,727.817,12,23,3,0)
It is a pointer to the PATIENT MOVEMENT file (#405).
"^DD",727.817,727.817,12,"DT")
2961004
"^DD",727.817,727.817,13,0)
TYPE^F^^0;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.817,727.817,13,.1)
Type
"^DD",727.817,727.817,13,3)
Your answer must be 1 character in length.
"^DD",727.817,727.817,13,21,0)
^^1^1^2970708^^^^
"^DD",727.817,727.817,13,21,1,0)
The type of movement for this patient.
"^DD",727.817,727.817,13,23,0)
^^1^1^2970708^^^^
"^DD",727.817,727.817,13,23,1,0)
Using the "ATT"_TYPE cross reference where TYPE=6 (specialty change).
"^DD",727.817,727.817,13,"DT")
2961004
"^DD",727.817,727.817,14,0)
NEW TREATING SPECIALTY^P42.4'^DIC(42.4,^0;15^Q
"^DD",727.817,727.817,14,.1)
New Treating Specialty
"^DD",727.817,727.817,14,3)

"^DD",727.817,727.817,14,21,0)
^^2^2^2980120^^^^
"^DD",727.817,727.817,14,21,1,0)
The Specialty associated with the Facility Treating Specialty to which
"^DD",727.817,727.817,14,21,2,0)
patient is being moved.
"^DD",727.817,727.817,14,23,0)
^^9^9^2980120^
"^DD",727.817,727.817,14,23,1,0)
Source:
"^DD",727.817,727.817,14,23,2,0)
Field #.09; file #405
"^DD",727.817,727.817,14,23,3,0)
Field #1; file #45.7
"^DD",727.817,727.817,14,23,4,0)
 
"^DD",727.817,727.817,14,23,5,0)
Internal entry number of SPECIALTY file (#42.4) derived from SPECIALTY
"^DD",727.817,727.817,14,23,6,0)
field (#1) of FACILITY TREATING SPECIALTY file (#45.7) record pointed
"^DD",727.817,727.817,14,23,7,0)
to by FACILITY TREATING SPECIALTY field (#.09) of PATIENT MOVEMENT 
"^DD",727.817,727.817,14,23,8,0)
file (#405) record.  The movement record is the current treating 
"^DD",727.817,727.817,14,23,9,0)
specialty movement.
"^DD",727.817,727.817,14,"DT")
2980120
"^DD",727.817,727.817,15,0)
LOSING TREATING SPECIALTY^P42.4'^DIC(42.4,^0;16^Q
"^DD",727.817,727.817,15,.1)
Losing Treating Specialty
"^DD",727.817,727.817,15,3)

"^DD",727.817,727.817,15,21,0)
^^4^4^2980120^^^^
"^DD",727.817,727.817,15,21,1,0)
The Specialty associated with the losing Facility Treating Specialty
"^DD",727.817,727.817,15,21,2,0)
for this patient movement.  If this movement is not an actual treating
"^DD",727.817,727.817,15,21,3,0)
specialty change, then it is possible for this field to be the same as
"^DD",727.817,727.817,15,21,4,0)
NEW TREATING SPECIALTY field (#14).
"^DD",727.817,727.817,15,23,0)
^^12^12^2980120^^^^
"^DD",727.817,727.817,15,23,1,0)
Using the "ATT3" or "ATT6" cross reference on the PATIENT MOVEMENT file 
"^DD",727.817,727.817,15,23,2,0)
(#405) and the patient pointer (DFN) stored in the PATIENT NO. - DFN 
"^DD",727.817,727.817,15,23,3,0)
field (4) in the TREATING SPECIALTY CHANGE EXTRACT file (#727.817), 
"^DD",727.817,727.817,15,23,4,0)
NEW TREATING SPECIALTY data is derived from the FACILITY TREATING 
"^DD",727.817,727.817,15,23,5,0)
SPECIALTY field (.09) in the PATIENT MOVEMENT file (#405). This facility 
"^DD",727.817,727.817,15,23,6,0)
treating specialty data is a pointer to the FACILITY TREATING SPECIALTY 
"^DD",727.817,727.817,15,23,7,0)
file (#45.7). Using the SPECIALTY field (1) in the FACILITY TREATING 
"^DD",727.817,727.817,15,23,8,0)
SPECIALTY file (#45.7), the pointer to the SPECIALTY file (#42.4) is 
"^DD",727.817,727.817,15,23,9,0)
obtained.
"^DD",727.817,727.817,15,23,10,0)
 
"^DD",727.817,727.817,15,23,11,0)
This Specialty is then the LOSING Specialty for the Treating Specialty
"^DD",727.817,727.817,15,23,12,0)
change occurring on the date in the TRT extract record.  
"^DD",727.817,727.817,15,"DT")
2980120
"^DD",727.817,727.817,16,0)
LOSING TREATING SPECIALTY LOS^NJ4,0^^0;17^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.817,727.817,16,.1)
Losing TS LOS
"^DD",727.817,727.817,16,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",727.817,727.817,16,21,0)
^^1^1^2980723^^^^
"^DD",727.817,727.817,16,21,1,0)
The length of stay on the losing treating specialty.
"^DD",727.817,727.817,16,23,0)
^^7^7^2980723^^^^
"^DD",727.817,727.817,16,23,1,0)
Calculated as current treating specialty date minus the date (DATE/TIME 
"^DD",727.817,727.817,16,23,2,0)
field (.01) of the PATIENT MOVEMENT file (#405)) of the last treating 
"^DD",727.817,727.817,16,23,3,0)
specialty change.
"^DD",727.817,727.817,16,23,4,0)
 
"^DD",727.817,727.817,16,23,5,0)
This field will only be used for actual treating specialty changes.  
"^DD",727.817,727.817,16,23,6,0)
For file #405 records which reflect provider-only changes this 
"^DD",727.817,727.817,16,23,7,0)
field will be null.
"^DD",727.817,727.817,16,"DT")
2980116
"^DD",727.817,727.817,17,0)
LOSING ATTENDING PHYSICIAN^F^^0;18^K:$L(X)>11!($L(X)<1) X
"^DD",727.817,727.817,17,.1)
Losing Attending Physician
"^DD",727.817,727.817,17,3)
Enter attending physician assigned to this patient.
"^DD",727.817,727.817,17,21,0)
^^2^2^2980609^^^^
"^DD",727.817,727.817,17,21,1,0)
The Attending Physician associated with the previous treating
"^DD",727.817,727.817,17,21,2,0)
specialty change record in file #405.
"^DD",727.817,727.817,17,23,0)
^^4^4^2980609^^^^
"^DD",727.817,727.817,17,23,1,0)
Derived from the ATTENDING PHYSICIAN field (.19) of the PATIENT MOVEMENT 
"^DD",727.817,727.817,17,23,2,0)
file (#405). If ATTENDING PHYSICIAN is a pointer to the NEW PERSON file 
"^DD",727.817,727.817,17,23,3,0)
(#200), it is stored as "2"_pointer value. If ATTENDING PHYSICIAN is a 
"^DD",727.817,727.817,17,23,4,0)
pointer to the PROVIDER file (#6), it is stored as "6"_pointer value.
"^DD",727.817,727.817,17,"DT")
2980120
"^DD",727.817,727.817,18,0)
MOVEMENT TYPE^P405.2'^DG(405.2,^0;19^Q
"^DD",727.817,727.817,18,.1)
Movement Type
"^DD",727.817,727.817,18,3)
Enter the patient movement number associated with this extract record.
"^DD",727.817,727.817,18,21,0)
^^1^1^2970708^^^
"^DD",727.817,727.817,18,21,1,0)
The MAS movement type for this movement.
"^DD",727.817,727.817,18,23,0)
^^3^3^2970708^^^
"^DD",727.817,727.817,18,23,1,0)
MOVEMENT TYPE is derived from the MAS MOVEMENT TYPE field (.18) of 
"^DD",727.817,727.817,18,23,2,0)
the PATIENT MOVEMENT file (#405). It is a pointer to the MAS MOVEMENT 
"^DD",727.817,727.817,18,23,3,0)
TYPE file (#405.2).
"^DD",727.817,727.817,18,"DT")
2961004
"^DD",727.817,727.817,19,0)
TRT TIME^FO^^0;20^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.817,727.817,19,.1)
TRT Time
"^DD",727.817,727.817,19,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.817,727.817,19,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.817,727.817,19,3)
Answer must be 6 characters in length.
"^DD",727.817,727.817,19,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,19,21,1,0)
A 6-character numeric string representing the time of day when the
"^DD",727.817,727.817,19,21,2,0)
Treating Specialty change took place.
"^DD",727.817,727.817,19,23,0)
^^7^7^2970922^^^^
"^DD",727.817,727.817,19,23,1,0)
Data source:
"^DD",727.817,727.817,19,23,2,0)
 
"^DD",727.817,727.817,19,23,3,0)
PATIENT MOVEMENT file (#405); DATE/TIME field (#.01);
"^DD",727.817,727.817,19,23,4,0)
   2nd "." piece only.
"^DD",727.817,727.817,19,23,5,0)
 
"^DD",727.817,727.817,19,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.817,727.817,19,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.817,727.817,19,"DT")
2970924
"^DD",727.817,727.817,20,0)
ADMISSION TIME^FO^^0;21^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.817,727.817,20,.1)
Admission Time
"^DD",727.817,727.817,20,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.817,727.817,20,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.817,727.817,20,3)
Answer must be 6 characters in length.
"^DD",727.817,727.817,20,21,0)
^^2^2^2970922^^^^
"^DD",727.817,727.817,20,21,1,0)
A 6-character numeric string that represent the time of day of the
"^DD",727.817,727.817,20,21,2,0)
Admission associated with this Treating Specialty change.
"^DD",727.817,727.817,20,23,0)
^^7^7^2970922^^^^
"^DD",727.817,727.817,20,23,1,0)
Data source:
"^DD",727.817,727.817,20,23,2,0)
 
"^DD",727.817,727.817,20,23,3,0)
PATIENT MOVEMENT file (#405); ADMISSION/CHECK-IN MOVEMENT field (#.14)
"^DD",727.817,727.817,20,23,4,0)
PATIENT MOVEMENT FILE (#405); DATE/TIME (#.01)
"^DD",727.817,727.817,20,23,5,0)
 
"^DD",727.817,727.817,20,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.817,727.817,20,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.817,727.817,20,"DT")
2970924
"^DD",727.817,727.817,21,0)
NEW PRIMARY WARD PROVIDER^F^^0;22^K:$L(X)>11!($L(X)<1) X
"^DD",727.817,727.817,21,.1)
New Primary Ward Provider
"^DD",727.817,727.817,21,3)
Answer must be 1-11 characters in length.
"^DD",727.817,727.817,21,21,0)
^^2^2^2980608^^^^
"^DD",727.817,727.817,21,21,1,0)
The new Primary Provider associated with the current patient
"^DD",727.817,727.817,21,21,2,0)
movement record in file #405.
"^DD",727.817,727.817,21,23,0)
^^10^10^2980608^^^^
"^DD",727.817,727.817,21,23,1,0)
Source:
"^DD",727.817,727.817,21,23,2,0)
Field #.08; file #405
"^DD",727.817,727.817,21,23,3,0)
  
"^DD",727.817,727.817,21,23,4,0)
Internal entry number of NEW PERSON file (#200) derived from the 
"^DD",727.817,727.817,21,23,5,0)
PRIMARY CARE PHYSICIAN field (#.08) of the PATIENT MOVEMENT file
"^DD",727.817,727.817,21,23,6,0)
(#405). The movement record here is the current treating specialty
"^DD",727.817,727.817,21,23,7,0)
movement.
"^DD",727.817,727.817,21,23,8,0)
  
"^DD",727.817,727.817,21,23,9,0)
A "2" is prefixed to this pointer value, if the pointer references
"^DD",727.817,727.817,21,23,10,0)
file #200.
"^DD",727.817,727.817,21,"DT")
2980120
"^DD",727.817,727.817,22,0)
NEW ATTENDING PHYSICIAN^F^^0;23^K:$L(X)>11!($L(X)<1) X
"^DD",727.817,727.817,22,.1)
New Attending Physician
"^DD",727.817,727.817,22,3)
Answer must be 1-11 characters in length.
"^DD",727.817,727.817,22,21,0)
^^2^2^2980608^^^
"^DD",727.817,727.817,22,21,1,0)
The new Attending Physician associated with the current patient
"^DD",727.817,727.817,22,21,2,0)
movement record in file #405.
"^DD",727.817,727.817,22,23,0)
^^10^10^2980608^^^
"^DD",727.817,727.817,22,23,1,0)
Source:
"^DD",727.817,727.817,22,23,2,0)
Field #.19; file #405
"^DD",727.817,727.817,22,23,3,0)
  
"^DD",727.817,727.817,22,23,4,0)
Internal entry number of NEW PERSON file (#200) derived from the 
"^DD",727.817,727.817,22,23,5,0)
ATTENDING PHYSICIAN field (#.19) of the PATIENT MOVEMENT file
"^DD",727.817,727.817,22,23,6,0)
(#405). The movement record here is the current treating specialty
"^DD",727.817,727.817,22,23,7,0)
movement.
"^DD",727.817,727.817,22,23,8,0)
  
"^DD",727.817,727.817,22,23,9,0)
A "2" is prefixed to this pointer value, if the pointer references
"^DD",727.817,727.817,22,23,10,0)
file #200.
"^DD",727.817,727.817,22,"DT")
2980120
"^DD",727.817,727.817,23,0)
LOSING PRIMARY WARD PROVIDER^F^^0;24^K:$L(X)>11!($L(X)<1) X
"^DD",727.817,727.817,23,.1)
Losing Primary Ward Provider
"^DD",727.817,727.817,23,3)
Answer must be 1-11 characters in length.
"^DD",727.817,727.817,23,21,0)
^^2^2^2980609^^^^
"^DD",727.817,727.817,23,21,1,0)
The losing Primary Provider for the patient movement; i.e., the Primary
"^DD",727.817,727.817,23,21,2,0)
Provider of the previous treating specialty chnage record.
"^DD",727.817,727.817,23,23,0)
^^11^11^2980609^^^^
"^DD",727.817,727.817,23,23,1,0)
Source:
"^DD",727.817,727.817,23,23,2,0)
Field #.08; file #405
"^DD",727.817,727.817,23,23,3,0)
  
"^DD",727.817,727.817,23,23,4,0)
Internal entry number of NEW PERSON file (#200) derived from the
"^DD",727.817,727.817,23,23,5,0)
PRIMARY CARE PHYSICIAN field (#.08) of the PATIENT MOVEMENT file 
"^DD",727.817,727.817,23,23,6,0)
(#405). The movement record is not the current treating specialty 
"^DD",727.817,727.817,23,23,7,0)
movement, but the one which corresponds to the previous treating 
"^DD",727.817,727.817,23,23,8,0)
specialty or provider change.
"^DD",727.817,727.817,23,23,9,0)
  
"^DD",727.817,727.817,23,23,10,0)
A "2" is prefixed to this pointer value, if the pointer references
"^DD",727.817,727.817,23,23,11,0)
file #200.
"^DD",727.817,727.817,23,"DT")
2980120
"^DD",727.817,727.817,24,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.817,727.817,24,3)
Answer must be 1-10 characters in length.
"^DD",727.817,727.817,24,21,0)
^^1^1^2990504^
"^DD",727.817,727.817,24,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.817,727.817,24,23,0)
^^2^2^2990504^
"^DD",727.817,727.817,24,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.817,727.817,24,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.817,727.817,24,"DT")
2990504
"^DD",727.817,727.817,25,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.817,727.817,25,3)
Answer must be 4-10 characters in length.
"^DD",727.817,727.817,25,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,25,21,1,0)
The DSS Department Code for the ward product.
"^DD",727.817,727.817,25,23,0)
^^2^2^2990506^
"^DD",727.817,727.817,25,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.817,727.817,25,23,2,0)
Field is set to null.
"^DD",727.817,727.817,25,"DT")
2990506
"^DD",727.817,727.817,26,0)
LOSING ATTENDING PHYSICIAN NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.817,727.817,26,3)
Answer must be 1-8 characters in length.
"^DD",727.817,727.817,26,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,26,21,1,0)
The Losing Attending Physician's National Provider Identifier code.
"^DD",727.817,727.817,26,23,0)
^^4^4^2990506^
"^DD",727.817,727.817,26,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.817,727.817,26,23,2,0)
field will hold the Losing Attending Physician NPI.
"^DD",727.817,727.817,26,23,3,0)
   
"^DD",727.817,727.817,26,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.817,727.817,26,"DT")
2990506
"^DD",727.817,727.817,27,0)
NEW PRIMARY WARD PROVIDER NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.817,727.817,27,3)
Answer must be 1-8 characters in length.
"^DD",727.817,727.817,27,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,27,21,1,0)
The New Primary Ward Provider's National Provider Identifier code.
"^DD",727.817,727.817,27,23,0)
^^4^4^2990506^
"^DD",727.817,727.817,27,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.817,727.817,27,23,2,0)
field will hold the New Primary Ward Provider NPI.
"^DD",727.817,727.817,27,23,3,0)
   
"^DD",727.817,727.817,27,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.817,727.817,27,"DT")
2990506
"^DD",727.817,727.817,28,0)
NEW ATTENDING PHYSICIAN NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.817,727.817,28,3)
Answer must be 1-8 characters in length.
"^DD",727.817,727.817,28,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,28,21,1,0)
The New Attending Physician's National Provider Identifier code.
"^DD",727.817,727.817,28,23,0)
^^4^4^2990506^
"^DD",727.817,727.817,28,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.817,727.817,28,23,2,0)
field will hold the New Attending Physician NPI.
"^DD",727.817,727.817,28,23,3,0)
   
"^DD",727.817,727.817,28,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.817,727.817,28,"DT")
2990506
"^DD",727.817,727.817,29,0)
LOSING PRIMARY WARD PROV. NPI^F^^1;6^K:$L(X)>8!($L(X)<1) X
"^DD",727.817,727.817,29,3)
Answer must be 1-8 characters in length.
"^DD",727.817,727.817,29,21,0)
^^1^1^2990506^
"^DD",727.817,727.817,29,21,1,0)
The Losing Primary Ward Provider's National Provider Identifier code.
"^DD",727.817,727.817,29,23,0)
^^4^4^2990506^
"^DD",727.817,727.817,29,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.817,727.817,29,23,2,0)
field will hold the Losing Primary Ward Provider NPI.
"^DD",727.817,727.817,29,23,3,0)
   
"^DD",727.817,727.817,29,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.817,727.817,29,"DT")
2990506
"^DD",727.817,727.817,30,0)
ATTENDING PHYSICIAN LOS^NJ4,0^^1;7^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.817,727.817,30,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",727.817,727.817,30,21,0)
^^1^1^2980714^
"^DD",727.817,727.817,30,21,1,0)
The patient's length of stay with the losing attending physician.
"^DD",727.817,727.817,30,"DT")
2980723
"^DD",727.817,727.817,31,0)
PRIMARY WARD PROVIDER LOS^NJ4,0^^1;8^K:+X'=X!(X>9999)!(X<0)!(X?.E1"."1N.N) X
"^DD",727.817,727.817,31,3)
Type a Number between 0 and 9999, 0 Decimal Digits
"^DD",727.817,727.817,31,21,0)
^^1^1^2980714^
"^DD",727.817,727.817,31,21,1,0)
The patient's length of stay with the losing primary ward provider.
"^DD",727.817,727.817,31,"DT")
2980723
"^DD",727.818,727.818,0)
FIELD^^35^36
"^DD",727.818,727.818,0,"DDA")
N
"^DD",727.818,727.818,0,"DT")
2990510
"^DD",727.818,727.818,0,"IX","AC",727.818,2)

"^DD",727.818,727.818,0,"NM","CLINIC II EXTRACT")

"^DD",727.818,727.818,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.818,727.818,.01,1,0)
^.1^^0
"^DD",727.818,727.818,.01,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",727.818,727.818,.01,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,.01,21,1,0)
The record number for this extract entry.
"^DD",727.818,727.818,.01,23,0)
^^2^2^2990505^
"^DD",727.818,727.818,.01,23,1,0)
The internal entry number (IEN) for this record. 
"^DD",727.818,727.818,.01,23,2,0)
This entry is DINUMed.
"^DD",727.818,727.818,.01,"DT")
2990726
"^DD",727.818,727.818,1,0)
YEAR MONTH^RF^^0;2^K:$L(X)>6!($L(X)<6) X
"^DD",727.818,727.818,1,3)
Answer must be 6 characters in length.
"^DD",727.818,727.818,1,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,1,21,1,0)
A six character string representing the year and the month
"^DD",727.818,727.818,1,21,2,0)
for which this extract was performed.
"^DD",727.818,727.818,1,23,0)
^^1^1^2990505^
"^DD",727.818,727.818,1,23,1,0)
Format is YYYYMM; Year 2000 compliant.
"^DD",727.818,727.818,1,"DT")
2990505
"^DD",727.818,727.818,2,0)
EXTRACT NUMBER^RP727'^ECX(727,^0;3^Q
"^DD",727.818,727.818,2,1,0)
^.1
"^DD",727.818,727.818,2,1,1,0)
727.818^AC^MUMPS
"^DD",727.818,727.818,2,1,1,1)
S ^ECX(727.818,"AC",$E(X,1,30),DA)=""
"^DD",727.818,727.818,2,1,1,2)
K ^ECX(727.818,"AC",$E(X,1,30),DA)
"^DD",727.818,727.818,2,1,1,3)
DO NOT DELETE
"^DD",727.818,727.818,2,1,1,"%D",0)
^^2^2^2990726^^
"^DD",727.818,727.818,2,1,1,"%D",1,0)
The "AC" cross-reference is essential for managing and purging data
"^DD",727.818,727.818,2,1,1,"%D",2,0)
in this file.
"^DD",727.818,727.818,2,1,1,"DT")
2990726
"^DD",727.818,727.818,2,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.818,727.818,2,21,2,0)
extract.
"^DD",727.818,727.818,2,23,0)
^^2^2^2990505^
"^DD",727.818,727.818,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.818,727.818,2,23,2,0)
pick up the header for the MailMan transmission message.
"^DD",727.818,727.818,2,"DT")
2990726
"^DD",727.818,727.818,3,0)
FACILITY^RF^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.818,727.818,3,3)
Answer must be 1-7 characters in length.
"^DD",727.818,727.818,3,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.818,727.818,3,23,0)
^^13^13^2990505^
"^DD",727.818,727.818,3,23,1,0)
An indicator of the division responsible for the patient encounter.
"^DD",727.818,727.818,3,23,2,0)
It is a pointer to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.818,727.818,3,23,3,0)
 
"^DD",727.818,727.818,3,23,4,0)
For scheduled appointments and appended EKG visits, it is taken
"^DD",727.818,727.818,3,23,5,0)
from the DIVISION field (3.5) of the HOSPITAL LOCATION file (#44).
"^DD",727.818,727.818,3,23,6,0)
 
"^DD",727.818,727.818,3,23,7,0)
For dispositions, stand-alones, and appended lab and x-ray visits, 
"^DD",727.818,727.818,3,23,8,0)
it is derived from the LOCATION field (#.04)in the OUTPATIENT ENCOUNTER
"^DD",727.818,727.818,3,23,9,0)
file (#409.68).  The LOCATION field points to the HOSPITAL LOCATION
"^DD",727.818,727.818,3,23,10,0)
file (#44).  The DIVISION field (#3.5) of the pointed-to file #44
"^DD",727.818,727.818,3,23,11,0)
record is used.
"^DD",727.818,727.818,3,23,12,0)
 
"^DD",727.818,727.818,3,23,13,0)
The data is stored as free text.
"^DD",727.818,727.818,3,"DT")
2990505
"^DD",727.818,727.818,4,0)
PATIENT NO. - DFN^RP2'^DPT(^0;5^Q
"^DD",727.818,727.818,4,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,4,21,1,0)
Internal entry number of the PATIENT file (#2) record identifying the
"^DD",727.818,727.818,4,21,2,0)
patient associated with the clinic visit information.
"^DD",727.818,727.818,4,23,0)
^^9^9^2990505^
"^DD",727.818,727.818,4,23,1,0)
This field points to a record in the PATIENT file (#2).
"^DD",727.818,727.818,4,23,2,0)
  
"^DD",727.818,727.818,4,23,3,0)
For scheduled appointments and appended EKG visits, it is taken
"^DD",727.818,727.818,4,23,4,0)
from the PATIENT field (#.01) within the APPOINTMENT field (#1900) 
"^DD",727.818,727.818,4,23,5,0)
multiple of the HOSPITAL LOCATION file (#44).
"^DD",727.818,727.818,4,23,6,0)
  
"^DD",727.818,727.818,4,23,7,0)
For dispositions, stand-alones, and appended lab and x-ray visits, 
"^DD",727.818,727.818,4,23,8,0)
it is taken from the PATIENT field (#.02) in the OUTPATIENT 
"^DD",727.818,727.818,4,23,9,0)
ENCOUNTER file (#409.68).
"^DD",727.818,727.818,4,"DT")
2990505
"^DD",727.818,727.818,5,0)
SSN^RF^^0;6^K:$L(X)>10!($L(X)<9) X
"^DD",727.818,727.818,5,3)
Answer must be 9-10 characters in length.
"^DD",727.818,727.818,5,21,0)
^^4^4^2990505^
"^DD",727.818,727.818,5,21,1,0)
The patient's social security number.
"^DD",727.818,727.818,5,21,2,0)
 
"^DD",727.818,727.818,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.818,727.818,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.818,727.818,5,23,0)
^^6^6^2990505^
"^DD",727.818,727.818,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.818,727.818,5,23,2,0)
(#4) of this extract file (#727.818), SSN data is derived from 
"^DD",727.818,727.818,5,23,3,0)
the SOCIAL SECURITY NUMBER field (#.09) in the PATIENT file (#2).
"^DD",727.818,727.818,5,23,4,0)
 
"^DD",727.818,727.818,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.818,727.818,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.818,727.818,5,"DT")
2990505
"^DD",727.818,727.818,6,0)
NAME^RF^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.818,727.818,6,3)
Answer must be 4 characters in length.
"^DD",727.818,727.818,6,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.818,727.818,6,23,0)
^^4^4^2990505^
"^DD",727.818,727.818,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.818,727.818,6,23,2,0)
(#4) of this extract file (#727.818), NAME data is derived from the
"^DD",727.818,727.818,6,23,3,0)
NAME field (#.01) in the PATIENT file (#2). The first four characters of
"^DD",727.818,727.818,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.818,727.818,6,"DT")
2990505
"^DD",727.818,727.818,7,0)
IN OUT PATIENT INDICATOR^RF^^0;8^K:$L(X)>1!($L(X)<1) X
"^DD",727.818,727.818,7,3)
Answer must be 1 character in length.
"^DD",727.818,727.818,7,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient on the
"^DD",727.818,727.818,7,21,2,0)
date in the DAY field (#8) for this extract record.
"^DD",727.818,727.818,7,23,0)
^^8^8^2990505^
"^DD",727.818,727.818,7,23,1,0)
This status indicator corresponds to an internal entry number in the 
"^DD",727.818,727.818,7,23,2,0)
LOCATION TYPE file (#40.9), where IEN=1 is the Clinic location, 
"^DD",727.818,727.818,7,23,3,0)
and IEN=3 is the Ward location.
"^DD",727.818,727.818,7,23,4,0)
  
"^DD",727.818,727.818,7,23,5,0)
This field is initialized to a 1, indicating an outpatient status. 
"^DD",727.818,727.818,7,23,6,0)
If a call to IN5^VADPT (using the patient DFN and the event date) 
"^DD",727.818,727.818,7,23,7,0)
returns a patient movement number, then the field is reset to a 3 
"^DD",727.818,727.818,7,23,8,0)
indicating inpatient status.
"^DD",727.818,727.818,7,"DT")
2990505
"^DD",727.818,727.818,8,0)
DAY^RF^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.818,727.818,8,3)
Answer must be 8 characters in length.
"^DD",727.818,727.818,8,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,8,21,1,0)
Date in format YYYYMMDD; date with which the clinic visit extract
"^DD",727.818,727.818,8,21,2,0)
data is associated.
"^DD",727.818,727.818,8,23,0)
^^11^11^2990505^
"^DD",727.818,727.818,8,23,1,0)
For scheduled appointments and appended EKG visits -- 
"^DD",727.818,727.818,8,23,2,0)
HOSPITAL LOCATION file (#44); APPOINTMENT sub-file (#44.001);
"^DD",727.818,727.818,8,23,3,0)
   APPOINTMENT DATE/TIME field (#.01)
"^DD",727.818,727.818,8,23,4,0)
 
"^DD",727.818,727.818,8,23,5,0)
For dispositions, stand-alones, and appended lab and x-ray visits --
"^DD",727.818,727.818,8,23,6,0)
OUTPATIENT ENCOUNTER file (#409.68); DATE field (#.01)
"^DD",727.818,727.818,8,23,7,0)
 
"^DD",727.818,727.818,8,23,8,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.818,727.818,8,23,9,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.818,727.818,8,23,10,0)
then a default is used.  The default date value is the value of the 
"^DD",727.818,727.818,8,23,11,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.818,727.818,8,"DT")
2990505
"^DD",727.818,727.818,9,0)
PRIMARY STOP CODE^RF^^0;10^K:$L(X)>3!($L(X)<3) X
"^DD",727.818,727.818,9,3)
Answer must be 3 characters in length.
"^DD",727.818,727.818,9,21,0)
^^3^3^2990505^
"^DD",727.818,727.818,9,21,1,0)
Primary Stop Code is a fixed length field of 3 numeric characters. 
"^DD",727.818,727.818,9,21,2,0)
The ACTION TO SEND field (#5) of the CLINIC AND STOP CODES file (#728.44)
"^DD",727.818,727.818,9,21,3,0)
for the clinic determines the how the data is derived. 
"^DD",727.818,727.818,9,23,0)
^^4^4^2990505^^
"^DD",727.818,727.818,9,23,1,0)
Primary Stop Code is taken from the CLINICS AND STOP CODES file (#728.44).
"^DD",727.818,727.818,9,23,2,0)
The DSS STOP CODE field (#3) is used.  If field #3 is null, then the STOP
"^DD",727.818,727.818,9,23,3,0)
CODE field (#1) is used.  If field #1 is null, then data is taken from the 
"^DD",727.818,727.818,9,23,4,0)
STOP CODE NUMBER field (#8) of the HOSPITAL LOCATION file (#44).
"^DD",727.818,727.818,9,"DT")
2990505
"^DD",727.818,727.818,10,0)
MASTER PATIENT INDEX^F^^0;11^K:$L(X)>10!($L(X)<1) X
"^DD",727.818,727.818,10,3)
Answer must be 1-10 characters in length.
"^DD",727.818,727.818,10,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,10,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.818,727.818,10,23,0)
^^2^2^2990505^
"^DD",727.818,727.818,10,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.818,727.818,10,23,2,0)
in an FY2000 enhancement to the VistA system.
"^DD",727.818,727.818,10,"DT")
2990505
"^DD",727.818,727.818,11,0)
SEX^RS^M:MALE;F:FEMALE;^0;12^Q
"^DD",727.818,727.818,11,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,11,21,1,0)
Data is M if this patient is a male, or F if female.
"^DD",727.818,727.818,11,23,0)
^^3^3^2990505^
"^DD",727.818,727.818,11,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4),
"^DD",727.818,727.818,11,23,2,0)
this data element is derived from the SEX field (#.02) in the PATIENT 
"^DD",727.818,727.818,11,23,3,0)
file (#2).
"^DD",727.818,727.818,11,"DT")
2990505
"^DD",727.818,727.818,12,0)
DATE OF BIRTH^RF^^0;13^K:$L(X)>8!($L(X)<8) X
"^DD",727.818,727.818,12,3)
Answer must be 8 characters in length.
"^DD",727.818,727.818,12,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,12,21,1,0)
The patient's date of birth between December 31,1870 and today's date
"^DD",727.818,727.818,12,21,2,0)
represented by an 8-character numeric string.
"^DD",727.818,727.818,12,23,0)
^^8^8^2990505^
"^DD",727.818,727.818,12,23,1,0)
Using the pointer value in the PATIENT NO. - DFN field (#4) of the
"^DD",727.818,727.818,12,23,2,0)
extract record, data is taken from the DATE OF BIRTH field (#.03)
"^DD",727.818,727.818,12,23,3,0)
of the PATIENT file (#2). 
"^DD",727.818,727.818,12,23,4,0)
 
"^DD",727.818,727.818,12,23,5,0)
If Date of Birth cannot be determined, then January 1, 1942, is
"^DD",727.818,727.818,12,23,6,0)
used as default.  The data element is always exactly 8 numberic
"^DD",727.818,727.818,12,23,7,0)
characters in length.  Format is YYYYMMDD.  Year 2000 compliant
"^DD",727.818,727.818,12,23,8,0)
per vendor.
"^DD",727.818,727.818,12,"DT")
2990505
"^DD",727.818,727.818,13,0)
ELIGIBILITY^RF^^0;14^K:$L(X)>3!($L(X)<1) X
"^DD",727.818,727.818,13,3)
Answer must be 1-3 characters in length.
"^DD",727.818,727.818,13,21,0)
^^1^1^2990506^^
"^DD",727.818,727.818,13,21,1,0)
Appropriate eligibility code based on veteran or non-veteran status.
"^DD",727.818,727.818,13,23,0)
^^11^11^2990506^^
"^DD",727.818,727.818,13,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field
"^DD",727.818,727.818,13,23,2,0)
(#4) of the extract record, ELIGIBILITY data is derived from the 
"^DD",727.818,727.818,13,23,3,0)
PRIMARY ELIGIBILITY CODE field (#.361) in the PATIENT file (#2).
"^DD",727.818,727.818,13,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8).
"^DD",727.818,727.818,13,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (#8) in the
"^DD",727.818,727.818,13,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS
"^DD",727.818,727.818,13,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.818,727.818,13,23,8,0)
 
"^DD",727.818,727.818,13,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.818,727.818,13,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.818,727.818,13,23,11,0)
two or three numeric characters.
"^DD",727.818,727.818,13,"DT")
2990505
"^DD",727.818,727.818,14,0)
VETERAN^RS^Y:YES;N:NO;^0;15^Q
"^DD",727.818,727.818,14,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,14,21,1,0)
Data is Y if this patient is a veteran, N if not.
"^DD",727.818,727.818,14,23,0)
^^3^3^2990505^
"^DD",727.818,727.818,14,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN
"^DD",727.818,727.818,14,23,2,0)
field (#4) of the extract record, VETERAN data is derived from the
"^DD",727.818,727.818,14,23,3,0)
VETERAN (Y/N)? field (#1901) in the PATIENT file (#2).
"^DD",727.818,727.818,14,"DT")
2990505
"^DD",727.818,727.818,15,0)
RACE^RF^^0;16^K:$L(X)>1!($L(X)<1) X
"^DD",727.818,727.818,15,3)
Answer must be 1 character in length.
"^DD",727.818,727.818,15,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,15,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.818,727.818,15,23,0)
^^4^4^2990505^
"^DD",727.818,727.818,15,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.818,727.818,15,23,2,0)
(#4), RACE data is taken from the ABBREVIATION field (#2) of the 
"^DD",727.818,727.818,15,23,3,0)
RACE file (#10) record pointed to by the RACE field (#.06) in the 
"^DD",727.818,727.818,15,23,4,0)
PATIENT file (#2).
"^DD",727.818,727.818,15,"DT")
2990505
"^DD",727.818,727.818,16,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;17^Q
"^DD",727.818,727.818,16,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,16,21,1,0)
The patient's POW status. May be set to Y(es), N(o), or U(nknown).
"^DD",727.818,727.818,16,23,0)
^^2^2^2990505^
"^DD",727.818,727.818,16,23,1,0)
PATIENT file (#2); POW STATUS INDICATED? field (#.525).
"^DD",727.818,727.818,16,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.818,727.818,16,"DT")
2990505
"^DD",727.818,727.818,17,0)
POW LOCATION^P22'^DIC(22,^0;18^Q
"^DD",727.818,727.818,17,21,0)
^^9^9^2990505^
"^DD",727.818,727.818,17,21,1,0)
If POW Status is indicated, then this is the POW confinement
"^DD",727.818,727.818,17,21,2,0)
location/period. 
"^DD",727.818,727.818,17,21,3,0)
 
"^DD",727.818,727.818,17,21,4,0)
 1      WORLD WAR I
"^DD",727.818,727.818,17,21,5,0)
 2      WORLD WAR II - EUROPE
"^DD",727.818,727.818,17,21,6,0)
 3      WORLD WAR II - PACIFIC
"^DD",727.818,727.818,17,21,7,0)
 4      KOREAN
"^DD",727.818,727.818,17,21,8,0)
 5      VIETNAM
"^DD",727.818,727.818,17,21,9,0)
 6      OTHER
"^DD",727.818,727.818,17,23,0)
^^3^3^2990505^
"^DD",727.818,727.818,17,23,1,0)
PATIENT file (#2); POW CONFINEMENT LOCATION field (#.526).  This is a
"^DD",727.818,727.818,17,23,2,0)
pointer value to the POW PERIOD file (#22). 
"^DD",727.818,727.818,17,23,3,0)
The location indicator is returned by SVC^VADPT.
"^DD",727.818,727.818,17,"DT")
2990505
"^DD",727.818,727.818,18,0)
RADIATION STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;19^Q
"^DD",727.818,727.818,18,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,18,21,1,0)
The patient's Ionizing Radiation status. (Y/N/U)
"^DD",727.818,727.818,18,23,0)
^^2^2^2990505^
"^DD",727.818,727.818,18,23,1,0)
PATIENT file (#2); RADIATION EXPOSURE INDICATED? field (#.32103).
"^DD",727.818,727.818,18,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.818,727.818,18,"DT")
2990505
"^DD",727.818,727.818,19,0)
AGENT ORANGE STATUS^S^Y:YES;N:NO;U:UNKNOWN;^0;20^Q
"^DD",727.818,727.818,19,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,19,21,1,0)
The patient's Agent Orange status.
"^DD",727.818,727.818,19,23,0)
^^2^2^2990505^
"^DD",727.818,727.818,19,23,1,0)
PATIENT file (#2); AGENT ORANGE EXPOS. INDICATED? field (#.32102).
"^DD",727.818,727.818,19,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.818,727.818,19,"DT")
2990505
"^DD",727.818,727.818,20,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^0;21^Q
"^DD",727.818,727.818,20,21,0)
^^5^5^2990505^
"^DD",727.818,727.818,20,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.818,727.818,20,21,2,0)
Possible status values are:
"^DD",727.818,727.818,20,21,3,0)
Y = Yes, screened reports MST
"^DD",727.818,727.818,20,21,4,0)
N = Screened, does not report MST
"^DD",727.818,727.818,20,21,5,0)
D = Screened, declines to answer
"^DD",727.818,727.818,20,23,0)
^^5^5^2990505^
"^DD",727.818,727.818,20,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.818,727.818,20,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.818,727.818,20,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.818,727.818,20,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.818,727.818,20,23,5,0)
field and the date in the DAY field.
"^DD",727.818,727.818,20,"DT")
2990505
"^DD",727.818,727.818,21,0)
STATE^RF^^0;22^K:$L(X)>2!($L(X)<2) X
"^DD",727.818,727.818,21,3)
Answer must be 2 characters in length.
"^DD",727.818,727.818,21,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,21,21,1,0)
The state in which the patient resides.
"^DD",727.818,727.818,21,23,0)
^^4^4^2990505^^
"^DD",727.818,727.818,21,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.818,727.818,21,23,2,0)
in the extract record, data is derived from the STATE field (#.115) in the
"^DD",727.818,727.818,21,23,3,0)
PATIENT file (#2) which points to the STATE file (#5).  From the STATE file
"^DD",727.818,727.818,21,23,4,0)
record, the two-character VA STATE CODE field (#2) is used.
"^DD",727.818,727.818,21,"DT")
2990505
"^DD",727.818,727.818,22,0)
COUNTY^RF^^0;23^K:$L(X)>3!($L(X)<3) X
"^DD",727.818,727.818,22,3)
Answer must be 3 characters in length.
"^DD",727.818,727.818,22,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,22,21,1,0)
The county in which the patient resides.
"^DD",727.818,727.818,22,23,0)
^^5^5^2990505^
"^DD",727.818,727.818,22,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.818,727.818,22,23,2,0)
(#4) in the extract record, data is derived from the COUNTY field (#.117)
"^DD",727.818,727.818,22,23,3,0)
in the PATIENT file (#2), which points to a subfile record in the COUNTY
"^DD",727.818,727.818,22,23,4,0)
multiple field (#3) of the STATE file (#5).  The three-character VA COUNTY
"^DD",727.818,727.818,22,23,5,0)
CODE field (#2) within the COUNTY multiple field is used.
"^DD",727.818,727.818,22,"DT")
2990505
"^DD",727.818,727.818,23,0)
ZIP+4^RF^^0;24^K:$L(X)>10!($L(X)<5) X
"^DD",727.818,727.818,23,3)
Answer must be 5-10 characters in length.
"^DD",727.818,727.818,23,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,23,21,1,0)
The patient's zipcode with optional 4-digit extension.
"^DD",727.818,727.818,23,23,0)
^^3^3^2990505^
"^DD",727.818,727.818,23,23,1,0)
The patient's zipcode with optional 4-digit extension as found in
"^DD",727.818,727.818,23,23,2,0)
the ZIP+4 field (#.1112) of the patient's record in the PATIENT
"^DD",727.818,727.818,23,23,3,0)
file (#2).
"^DD",727.818,727.818,23,"DT")
2990505
"^DD",727.818,727.818,24,0)
ENROLLMENT LOCATION^F^^0;25^K:$L(X)>7!($L(X)<3) X
"^DD",727.818,727.818,24,3)
Answer must be 3-7 characters in length.
"^DD",727.818,727.818,24,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,24,21,1,0)
The facility that the patient chooses to designate as his
"^DD",727.818,727.818,24,21,2,0)
preferred location for care.
"^DD",727.818,727.818,24,23,0)
^^5^5^2990505^
"^DD",727.818,727.818,24,23,1,0)
The PREFERRED FACILITY field (#27.02) of the PATIENT file (#2)
"^DD",727.818,727.818,24,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.818,727.818,24,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.818,727.818,24,23,4,0)
(#27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.818,727.818,24,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.818,727.818,24,"DT")
2990505
"^DD",727.818,727.818,25,0)
PLACEHOLDER1^F^^0;26^K:$L(X)>1!($L(X)<1) X
"^DD",727.818,727.818,25,3)
Answer must be 1 character in length.
"^DD",727.818,727.818,25,21,0)
^^2^2^2990510^^^^
"^DD",727.818,727.818,25,21,1,0)
The primary care team assigned to this patient.
"^DD",727.818,727.818,25,21,2,0)
Placeholder for future use.
"^DD",727.818,727.818,25,23,0)
^^1^1^2990510^^^^
"^DD",727.818,727.818,25,23,1,0)
Placeholder; null.
"^DD",727.818,727.818,25,"DT")
2990510
"^DD",727.818,727.818,26,0)
PROVIDER^F^^0;27^K:$L(X)>11!($L(X)<2) X
"^DD",727.818,727.818,26,3)
Answer must be 2-11 characters in length.
"^DD",727.818,727.818,26,21,0)
^^2^2^2990510^^^^
"^DD",727.818,727.818,26,21,1,0)
The provider primarily responsible for services to the patient
"^DD",727.818,727.818,26,21,2,0)
during the clinic visit.
"^DD",727.818,727.818,26,23,0)
^^10^10^2990510^^^^
"^DD",727.818,727.818,26,23,1,0)
Using the internal entry number for the encounter in the OUTPATIENT 
"^DD",727.818,727.818,26,23,2,0)
ENCOUNTER file (#409.68), the VISIT FILE ENTRY field (#.05) is 
"^DD",727.818,727.818,26,23,3,0)
determined. This entry is used to make a call to the Patient Care 
"^DD",727.818,727.818,26,23,4,0)
Encounter API, ENCEVENT^PXAPI. The API returns all visit data in the 
"^DD",727.818,727.818,26,23,5,0)
TMP("PXKENC",$J) array. The first provider identified as "primary" 
"^DD",727.818,727.818,26,23,6,0)
from the array is used. A default value of null is used if no 
"^DD",727.818,727.818,26,23,7,0)
"primary" provider is found.
"^DD",727.818,727.818,26,23,8,0)
 
"^DD",727.818,727.818,26,23,9,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.818,727.818,26,23,10,0)
is "200", and the data is stored as free text.
"^DD",727.818,727.818,26,"DT")
2990510
"^DD",727.818,727.818,27,0)
PROVIDER PERSON CLASS^F^^0;28^K:$L(X)>7!($L(X)<7) X
"^DD",727.818,727.818,27,3)
Answer must be 7 characters in length.
"^DD",727.818,727.818,27,21,0)
^^2^2^2990510^^^^
"^DD",727.818,727.818,27,21,1,0)
The VA Code of the Person Class of the primary Provider of services
"^DD",727.818,727.818,27,21,2,0)
during the clinic visit.
"^DD",727.818,727.818,27,23,0)
^^10^10^2990510^^^^
"^DD",727.818,727.818,27,23,1,0)
The NEW PERSON file (#200) record for the Provider contains pointer
"^DD",727.818,727.818,27,23,2,0)
fields to the PERSON CLASS file (#8932.1).  This data is returned
"^DD",727.818,727.818,27,23,3,0)
by $$GET^XUA4A71(PERS,DATE), where PERS is the IEN from file #200.
"^DD",727.818,727.818,27,23,4,0)
   
"^DD",727.818,727.818,27,23,5,0)
The field will hold the VA Code associated with the active Person
"^DD",727.818,727.818,27,23,6,0)
Class of the primary Provider associated with the extracted clinic
"^DD",727.818,727.818,27,23,7,0)
visit.
"^DD",727.818,727.818,27,23,8,0)
  
"^DD",727.818,727.818,27,23,9,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.818,727.818,27,23,10,0)
7 characters in length.
"^DD",727.818,727.818,27,"DT")
2990510
"^DD",727.818,727.818,28,0)
PROVIDER NPI^F^^0;29^K:$L(X)>8!($L(X)<1) X
"^DD",727.818,727.818,28,3)
Answer must be 1-8 characters in length.
"^DD",727.818,727.818,28,21,0)
^^1^1^2990510^^^^
"^DD",727.818,727.818,28,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.818,727.818,28,23,0)
^^4^4^2990510^^^^
"^DD",727.818,727.818,28,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.818,727.818,28,23,2,0)
field will hold the Provider NPI.
"^DD",727.818,727.818,28,23,3,0)
 
"^DD",727.818,727.818,28,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.818,727.818,28,"DT")
2990510
"^DD",727.818,727.818,29,0)
SHARING AGREEMENT PAYOR^F^^0;30^K:$L(X)>1!($L(X)<1) X
"^DD",727.818,727.818,29,3)
Answer must be 1 character in length.
"^DD",727.818,727.818,29,21,0)
^^1^1^2990505^
"^DD",727.818,727.818,29,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.818,727.818,29,23,0)
^^15^15^2990505^
"^DD",727.818,727.818,29,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.818,727.818,29,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.818,727.818,29,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.818,727.818,29,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.818,727.818,29,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.818,727.818,29,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.818,727.818,29,23,7,0)
  
"^DD",727.818,727.818,29,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.818,727.818,29,23,9,0)
field is obtained by the following conversion:
"^DD",727.818,727.818,29,23,10,0)
SHARING AGREEMENT = A
"^DD",727.818,727.818,29,23,11,0)
TRICARE = B
"^DD",727.818,727.818,29,23,12,0)
CAT C = C
"^DD",727.818,727.818,29,23,13,0)
CATEGORY C = C
"^DD",727.818,727.818,29,23,14,0)
CHAMPVA = D
"^DD",727.818,727.818,29,23,15,0)
CHAMPUS = E
"^DD",727.818,727.818,29,"DT")
2990505
"^DD",727.818,727.818,30,0)
SHARING AGREEMENT INSURANCE^F^^0;31^K:$L(X)>11!($L(X)<1) X
"^DD",727.818,727.818,30,3)
Answer must be 1-11 characters in length.
"^DD",727.818,727.818,30,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,30,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.818,727.818,30,21,2,0)
sharing agreement.
"^DD",727.818,727.818,30,23,0)
^^5^5^2990505^
"^DD",727.818,727.818,30,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.818,727.818,30,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.818,727.818,30,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.818,727.818,30,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.818,727.818,30,23,5,0)
The data is stored as free text.
"^DD",727.818,727.818,30,"DT")
2990505
"^DD",727.818,727.818,31,0)
RADIATION ENCOUNTER INDICATOR^S^Y:YES;N:NO;^0;32^Q
"^DD",727.818,727.818,31,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,31,21,1,0)
Indicates whether treatment provided during this encounter was related
"^DD",727.818,727.818,31,21,2,0)
to the patient's ionizing radiation exposure.
"^DD",727.818,727.818,31,23,0)
^^3^3^2990505^
"^DD",727.818,727.818,31,23,1,0)
In the OUTPATIENT ENCOUNTER file (#409.68), the VISIT FILE ENTRY field 
"^DD",727.818,727.818,31,23,2,0)
(#.05) points to the VISIT file (#9000010).  From VISIT file (#9000010),
"^DD",727.818,727.818,31,23,3,0)
data is taken from the IONIZING RADIATION EXPOSURE field (#80003).
"^DD",727.818,727.818,31,"DT")
2990505
"^DD",727.818,727.818,32,0)
AO ENCOUNTER INDICATOR^S^Y:YES;N:NO;^0;33^Q
"^DD",727.818,727.818,32,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,32,21,1,0)
Indicates whether treatment provided during this encounter was related
"^DD",727.818,727.818,32,21,2,0)
to the patient's Agent Orange exposure.
"^DD",727.818,727.818,32,23,0)
^^3^3^2990505^^
"^DD",727.818,727.818,32,23,1,0)
In the OUTPATIENT ENCOUNTER file (#409.68), the VISIT FILE ENTRY field 
"^DD",727.818,727.818,32,23,2,0)
(#.05) points to the VISIT file (#9000010).  From VISIT file (#9000010),
"^DD",727.818,727.818,32,23,3,0)
data is taken from the AGENT ORANGE EXPOSURE field (#80002).
"^DD",727.818,727.818,32,"DT")
2990505
"^DD",727.818,727.818,33,0)
MST ENCOUNTER INDICATOR^S^Y:YES;N:NO;^0;34^Q
"^DD",727.818,727.818,33,21,0)
^^2^2^2990505^
"^DD",727.818,727.818,33,21,1,0)
Indicates whether treatment provided during this encounter was related
"^DD",727.818,727.818,33,21,2,0)
to the patient's military sexual trauma.
"^DD",727.818,727.818,33,23,0)
^^3^3^2990505^
"^DD",727.818,727.818,33,23,1,0)
In the OUTPATIENT ENCOUNTER file (#409.68), the VISIT FILE ENTRY field 
"^DD",727.818,727.818,33,23,2,0)
(#.05) points to the VISIT file (#9000010).  From VISIT file (#9000010),
"^DD",727.818,727.818,33,23,3,0)
data is taken from the MILITARY SEXUAL TRAUMA field (#80005).
"^DD",727.818,727.818,33,"DT")
2990505
"^DD",727.818,727.818,34,0)
DSS DEPT.^F^^0;35^K:$L(X)>10!($L(X)<1) X
"^DD",727.818,727.818,34,3)
Answer must be 1-10 characters in length.
"^DD",727.818,727.818,34,21,0)
^^1^1^2990506^^
"^DD",727.818,727.818,34,21,1,0)
The DSS Department Code for the clinic product.
"^DD",727.818,727.818,34,23,0)
^^2^2^2990506^^
"^DD",727.818,727.818,34,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.818,727.818,34,23,2,0)
Field is set to null.
"^DD",727.818,727.818,34,"DT")
2990506
"^DD",727.818,727.818,35,0)
ICD-9 CODES^RF^^1;1^K:$L(X)>63!($L(X)<63) X
"^DD",727.818,727.818,35,3)
Answer must be 63 characters in length.
"^DD",727.818,727.818,35,21,0)
^^4^4^2990510^^
"^DD",727.818,727.818,35,21,1,0)
The primary ICD-9 code followed by upto eight secondary IDC-9 codes
"^DD",727.818,727.818,35,21,2,0)
concatenated together in a string.  Only the primary IDC-9 code is
"^DD",727.818,727.818,35,21,3,0)
required.  Each ICD-9 code is composed of exactly 7 characters,
"^DD",727.818,727.818,35,21,4,0)
padded on the right with space characters as needed.
"^DD",727.818,727.818,35,23,0)
^^13^13^2990510^^
"^DD",727.818,727.818,35,23,1,0)
Using a pointer to the VISIT file (#9000010) a call to the PCE API,
"^DD",727.818,727.818,35,23,2,0)
ENCEVENT^PXAPI, is made.  This returns ICD-9 data as pointers to the
"^DD",727.818,727.818,35,23,3,0)
ICD DIAGNOSIS file (#80).  A default value of 799.9 is used if no
"^DD",727.818,727.818,35,23,4,0)
"primary" ICD-9 code is found.  The remaining ICD-9 pointers values 
"^DD",727.818,727.818,35,23,5,0)
are used tp obtain secondary ICD-9 codes, upto a total of 8 secondary
"^DD",727.818,727.818,35,23,6,0)
codes.
"^DD",727.818,727.818,35,23,7,0)
 
"^DD",727.818,727.818,35,23,8,0)
Each ICD-9 code is composed of a minimum of 4 characters, i.e.,
"^DD",727.818,727.818,35,23,9,0)
3 alphanumerics followed by a decimal point.
"^DD",727.818,727.818,35,23,10,0)
  
"^DD",727.818,727.818,35,23,11,0)
There may be fewer than 9 ICD-9 codes for a visit record, but the
"^DD",727.818,727.818,35,23,12,0)
total length of field #36 is always 63 characters, many of which may
"^DD",727.818,727.818,35,23,13,0)
be space characters (i.e., ASCII code 32).
"^DD",727.818,727.818,35,"DT")
2990507
"^DD",727.819,727.819,0)
FIELD^^28^33
"^DD",727.819,727.819,0,"DDA")
N
"^DD",727.819,727.819,0,"DIK")
ECX819
"^DD",727.819,727.819,0,"DIKOLD")
ECX819
"^DD",727.819,727.819,0,"DT")
2990510
"^DD",727.819,727.819,0,"IX","AC",727.819,2)

"^DD",727.819,727.819,0,"NM","IV DETAIL EXTRACT")

"^DD",727.819,727.819,0,"VRPK")
DSS EXTRACTS
"^DD",727.819,727.819,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.819,727.819,.01,.1)
Sequence Number
"^DD",727.819,727.819,.01,1,0)
^.1^^0
"^DD",727.819,727.819,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.819,727.819,.01,21,0)
^^1^1^2960925^^^^
"^DD",727.819,727.819,.01,21,1,0)
The record number for this extract entry.
"^DD",727.819,727.819,.01,23,0)
^^1^1^2960925^^^
"^DD",727.819,727.819,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.819,727.819,.01,"DT")
2980812
"^DD",727.819,727.819,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.819,727.819,1,.1)
Year/Month
"^DD",727.819,727.819,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.819,727.819,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.819,727.819,1,3)
Answer must be 6 characters in length.
"^DD",727.819,727.819,1,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.819,727.819,1,21,2,0)
for which this extract was performed.
"^DD",727.819,727.819,1,23,0)
^^1^1^2970922^^^^
"^DD",727.819,727.819,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.819,727.819,1,"DT")
2970924
"^DD",727.819,727.819,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.819,727.819,2,.1)
Extract Number
"^DD",727.819,727.819,2,1,0)
^.1
"^DD",727.819,727.819,2,1,1,0)
727.819^AC
"^DD",727.819,727.819,2,1,1,1)
S ^ECX(727.819,"AC",$E(X,1,30),DA)=""
"^DD",727.819,727.819,2,1,1,2)
K ^ECX(727.819,"AC",$E(X,1,30),DA)
"^DD",727.819,727.819,2,1,1,3)
DO NOT DELETE.
"^DD",727.819,727.819,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.819,727.819,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.819,727.819,2,1,1,"%D",2,0)
in this file.
"^DD",727.819,727.819,2,1,1,"DT")
2910802
"^DD",727.819,727.819,2,3)
Enter the extract number for this extract.
"^DD",727.819,727.819,2,21,0)
^^2^2^2960925^^^^
"^DD",727.819,727.819,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.819,727.819,2,21,2,0)
extract.
"^DD",727.819,727.819,2,23,0)
^^2^2^2960925^^^^
"^DD",727.819,727.819,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.819,727.819,2,23,2,0)
pick up the header for the mail message.
"^DD",727.819,727.819,2,"DT")
2960925
"^DD",727.819,727.819,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.819,727.819,3,.1)
Facility
"^DD",727.819,727.819,3,3)
Enter the station number where this extract was performed.
"^DD",727.819,727.819,3,21,0)
^^1^1^2990810^^^^
"^DD",727.819,727.819,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.819,727.819,3,23,0)
^^14^14^2990810^^^^
"^DD",727.819,727.819,3,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,3,23,2,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.819,727.819,3,23,3,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.819,727.819,3,23,4,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.819,727.819,3,23,5,0)
the INSTITUTION file (#4).
"^DD",727.819,727.819,3,23,6,0)
  
"^DD",727.819,727.819,3,23,7,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,3,23,8,0)
For inpatients: 
"^DD",727.819,727.819,3,23,9,0)
Derived from the DIVISION field (3.5) in the HOSPITAL LOCATION 
"^DD",727.819,727.819,3,23,10,0)
file (#44) for the ward identified in the WARD LOCATION file (#42).
"^DD",727.819,727.819,3,23,11,0)
For outpatients with IV orders: 
"^DD",727.819,727.819,3,23,12,0)
Derived from the DIVISION field (.02) in the IV ROOM file (#59.5) for 
"^DD",727.819,727.819,3,23,13,0)
the IV room identified by the IV ROOM field (.22) in the IV multiple 
"^DD",727.819,727.819,3,23,14,0)
(100) of the PHARMACY PATIENT file (#55).
"^DD",727.819,727.819,3,"DT")
2961017
"^DD",727.819,727.819,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.819,727.819,4,.1)
Patient No. - DFN
"^DD",727.819,727.819,4,3)
Enter the name of the patient for this extract record.
"^DD",727.819,727.819,4,21,0)
^^1^1^2990504^^^^
"^DD",727.819,727.819,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.819,727.819,4,23,0)
^^10^10^2990504^^
"^DD",727.819,727.819,4,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,4,23,2,0)
Derived from the PATIENT field (.01) within the PATIENT multiple 
"^DD",727.819,727.819,4,23,3,0)
(8) within the IV DRUG multiple (2) within the DATE multiple (2) of 
"^DD",727.819,727.819,4,23,4,0)
the IV STATS file (#50.8). PATIENT NO. - DFN is a pointer to the NAME
"^DD",727.819,727.819,4,23,5,0)
field (.01) of the PATIENT file (#2). This data represents the patient
"^DD",727.819,727.819,4,23,6,0)
DFN.
"^DD",727.819,727.819,4,23,7,0)
  
"^DD",727.819,727.819,4,23,8,0)
For sites running Inpatient Medications V. 4.5 or higher: Pointer to the
"^DD",727.819,727.819,4,23,9,0)
NAME field (.01) of the PATIENT file (#2). PATIENT NO. - DFN data is
"^DD",727.819,727.819,4,23,10,0)
derived from the DFN field (1) of the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,4,"DT")
2961017
"^DD",727.819,727.819,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.819,727.819,5,.1)
Social Security Number
"^DD",727.819,727.819,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.819,727.819,5,21,0)
^^4^4^2990504^^^^
"^DD",727.819,727.819,5,21,1,0)
The patient's social security number.
"^DD",727.819,727.819,5,21,2,0)
 
"^DD",727.819,727.819,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.819,727.819,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.819,727.819,5,23,0)
^^6^6^2990504^^
"^DD",727.819,727.819,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.819,727.819,5,23,2,0)
in the IV DETAIL EXTRACT file (#727.819), SSN data is derived from the
"^DD",727.819,727.819,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.819,727.819,5,23,4,0)
 
"^DD",727.819,727.819,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.819,727.819,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.819,727.819,5,"DT")
2960925
"^DD",727.819,727.819,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.819,727.819,6,.1)
Name
"^DD",727.819,727.819,6,3)
Your answer must be 4 characters in length.
"^DD",727.819,727.819,6,21,0)
^^1^1^2960925^^^^
"^DD",727.819,727.819,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.819,727.819,6,23,0)
^^4^4^2961017^
"^DD",727.819,727.819,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.819,727.819,6,23,2,0)
in the IV DETAIL EXTRACT file (#727.819), NAME data is derived from the
"^DD",727.819,727.819,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.819,727.819,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.819,727.819,6,"DT")
2960925
"^DD",727.819,727.819,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.819,727.819,7,.1)
In Out Patient Indicator
"^DD",727.819,727.819,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.819,727.819,7,21,0)
^^2^2^2960925^^^^
"^DD",727.819,727.819,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.819,727.819,7,21,2,0)
extract entry.
"^DD",727.819,727.819,7,23,0)
^^12^12^2960925^^^
"^DD",727.819,727.819,7,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,7,23,2,0)
Derived from the WARD PTR field (4) of the PATIENT multiple (8) within 
"^DD",727.819,727.819,7,23,3,0)
the IV DRUG multiple (2) within the DATE multiple (2) of the IV STATS 
"^DD",727.819,727.819,7,23,4,0)
file (#50.8). If the WARD PTR value is equal to .5, the IN OUT PATIENT 
"^DD",727.819,727.819,7,23,5,0)
INDICATOR field is set to 1 indicating an outpatient status or else it 
"^DD",727.819,727.819,7,23,6,0)
is set to 3 indicating inpatient status.
"^DD",727.819,727.819,7,23,7,0)
  
"^DD",727.819,727.819,7,23,8,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,7,23,9,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.819,727.819,7,23,10,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.819,727.819,7,23,11,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.819,727.819,7,23,12,0)
inpatient status.
"^DD",727.819,727.819,7,"DT")
2960925
"^DD",727.819,727.819,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.819,727.819,8,.1)
Day
"^DD",727.819,727.819,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.819,727.819,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.819,727.819,8,3)
Answer must be 8 characters in length.
"^DD",727.819,727.819,8,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,8,21,1,0)
An 8-character numeric string that represents the date on which the
"^DD",727.819,727.819,8,21,2,0)
IV medication was dispensed.
"^DD",727.819,727.819,8,23,0)
^^15^15^2970923^^^^
"^DD",727.819,727.819,8,23,1,0)
Data source:
"^DD",727.819,727.819,8,23,2,0)
  
"^DD",727.819,727.819,8,23,3,0)
For sites running a version prior to Inpatient Medications v4.5 --
"^DD",727.819,727.819,8,23,4,0)
IV STATS file (#50.8); DATE sub-file (#50.803); DATE field (#.01)
"^DD",727.819,727.819,8,23,5,0)
 
"^DD",727.819,727.819,8,23,6,0)
For sites running Inpatient Medications v4.5 or higher:
"^DD",727.819,727.819,8,23,7,0)
IV EXTRACT DATA file (#728.113); DATE/TIME field (#4)
"^DD",727.819,727.819,8,23,8,0)
which is set by routine PSIVSTAT and is always the current date/time,
"^DD",727.819,727.819,8,23,9,0)
i.e., NOW.
"^DD",727.819,727.819,8,23,10,0)
 
"^DD",727.819,727.819,8,23,11,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.819,727.819,8,23,12,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.819,727.819,8,23,13,0)
then a default is used.  The default date value is the value of the 
"^DD",727.819,727.819,8,23,14,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.819,727.819,8,23,15,0)
Year 2000 compliant per vendor.
"^DD",727.819,727.819,8,"DT")
2970924
"^DD",727.819,727.819,9,0)
VA DRUG CLASSIFICATION^F^^0;10^K:$L(X)>5!($L(X)<5) X
"^DD",727.819,727.819,9,.1)
VA Drug Classification
"^DD",727.819,727.819,9,3)
Your answer must be 5 characters in length.
"^DD",727.819,727.819,9,21,0)
^^1^1^2961127^^^^
"^DD",727.819,727.819,9,21,1,0)
The VA Drug Classification for the item in this order.
"^DD",727.819,727.819,9,23,0)
^^18^18^2971113^^^^
"^DD",727.819,727.819,9,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,9,23,2,0)
Derived from the VA CLASSIFICATION field (2) in the DRUG file (#50) 
"^DD",727.819,727.819,9,23,3,0)
for the drug identified by the GENERIC DRUG field (1) in either the 
"^DD",727.819,727.819,9,23,4,0)
IV ADDITIVES file (#52.6) for additives or the IV SOLUTIONS file 
"^DD",727.819,727.819,9,23,5,0)
(#52.7) for solutions.
"^DD",727.819,727.819,9,23,6,0)
  
"^DD",727.819,727.819,9,23,7,0)
Using the "AC" cross reference on the IV STATS file (#50.8) and a 
"^DD",727.819,727.819,9,23,8,0)
^TMP( array built from the "AC" cross reference, GENERIC DRUG is 
"^DD",727.819,727.819,9,23,9,0)
derived from the following:
"^DD",727.819,727.819,9,23,10,0)
 the IV DRUG field (.01),
"^DD",727.819,727.819,9,23,11,0)
 the TYPE field (6), and
"^DD",727.819,727.819,9,23,12,0)
 the IEN of the additive or solution for the IV DRUG within the IV DRUG 
"^DD",727.819,727.819,9,23,13,0)
 multiple (2) of the DATE multiple (2) of the IV STATS file (#50.8).
"^DD",727.819,727.819,9,23,14,0)
  
"^DD",727.819,727.819,9,23,15,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,9,23,16,0)
Derived from the VA CLASSIFICATION field (2) in the DRUG file (#50) 
"^DD",727.819,727.819,9,23,17,0)
for the drug identified by the DRUG field (3) in the IV EXTRACT DATA 
"^DD",727.819,727.819,9,23,18,0)
file (#728.113).
"^DD",727.819,727.819,9,"DT")
2960925
"^DD",727.819,727.819,10,0)
QUANTITY^NJ8,2^^0;11^K:+X'=X!(X>10000)!(X<0)!(X?.E1"."3N.N) X
"^DD",727.819,727.819,10,.1)
Quantity
"^DD",727.819,727.819,10,3)
Enter a number between 0 and 10000, 2 decimal digits.
"^DD",727.819,727.819,10,21,0)
^^1^1^2990511^^^^
"^DD",727.819,727.819,10,21,1,0)
Quantity dispensed.
"^DD",727.819,727.819,10,23,0)
^^12^12^2990511^^^^
"^DD",727.819,727.819,10,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,10,23,2,0)
Derived from the DISPENSED UNITS (PATIENT) field (1) minus the RETURNED 
"^DD",727.819,727.819,10,23,3,0)
UNITS (PATIENT) field (2) minus the CANCELED UNITS (PATIENT) field (5). 
"^DD",727.819,727.819,10,23,4,0)
These fields are in the PATIENT multiple (8) of the IV DRUG multiple (2) 
"^DD",727.819,727.819,10,23,5,0)
within the DATE multiple (2) of the IV STATS file (#50.8).
"^DD",727.819,727.819,10,23,6,0)
  
"^DD",727.819,727.819,10,23,7,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,10,23,8,0)
Quantity is calculated by incrementing a counter based upon the value 
"^DD",727.819,727.819,10,23,9,0)
found in the TRANSACTION TYPE field (5) in the IV EXTRACT DATA file 
"^DD",727.819,727.819,10,23,10,0)
(#728.113). If TRANSACTION TYPE equals 1 for DISPENSED, the counter is 
"^DD",727.819,727.819,10,23,11,0)
incremented by 1; if 4 for CANCELED, no change is made to the counter; 
"^DD",727.819,727.819,10,23,12,0)
if 2 for RETURNED or 3 for DESTROYED, the counter is decremented by 1.
"^DD",727.819,727.819,10,"DT")
2960925
"^DD",727.819,727.819,11,0)
WARD^P44'^SC(^0;12^Q
"^DD",727.819,727.819,11,.1)
Ward
"^DD",727.819,727.819,11,3)
Enter the ward location for this patient.
"^DD",727.819,727.819,11,21,0)
^^1^1^2990810^^^^
"^DD",727.819,727.819,11,21,1,0)
The ward on which this patient's IV drug was administered.
"^DD",727.819,727.819,11,23,0)
^^16^16^2990810^^^^
"^DD",727.819,727.819,11,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,11,23,2,0)
Ward is derived from the WARD PTR field (4) in the PATIENT multiple 
"^DD",727.819,727.819,11,23,3,0)
(8) of the IV DRUG multiple (2) within the DATE multiple (2) of the 
"^DD",727.819,727.819,11,23,4,0)
IV STATS file (#50.8) which is a pointer to the WARD LOCATION file 
"^DD",727.819,727.819,11,23,5,0)
(#42). Using the ward pointer, the data is derived from the HOSPITAL 
"^DD",727.819,727.819,11,23,6,0)
LOCATION FILE POINTER field (44) in the WARD LOCATION file (#42) which 
"^DD",727.819,727.819,11,23,7,0)
is a pointer to the HOSPITAL LOCATION file (#44). For outpatient IVs, 
"^DD",727.819,727.819,11,23,8,0)
WARD is set to "CLI".
"^DD",727.819,727.819,11,23,9,0)
  
"^DD",727.819,727.819,11,23,10,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,11,23,11,0)
This field is initialized to .5, indicating an outpatient status. A 
"^DD",727.819,727.819,11,23,12,0)
call is made to IN5^VADPT using the patient IEN and the event date. 
"^DD",727.819,727.819,11,23,13,0)
If data is returned identifying an inpatient episode, the value of 
"^DD",727.819,727.819,11,23,14,0)
VAIP(5), ward location, is used to get the HOSPITAL LOCATION FILE 
"^DD",727.819,727.819,11,23,15,0)
POINTER field (44) in the WARD LOCATION file (#42) which is a pointer 
"^DD",727.819,727.819,11,23,16,0)
to the HOSPITAL LOCATION file (#44).
"^DD",727.819,727.819,11,"DT")
2960925
"^DD",727.819,727.819,13,0)
COST^NJ8,2^^0;13^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",727.819,727.819,13,.1)
Cost
"^DD",727.819,727.819,13,3)
Enter a dollar amount between 0 and 10000, 2 decimal digits.
"^DD",727.819,727.819,13,21,0)
^^1^1^2960925^^
"^DD",727.819,727.819,13,21,1,0)
Cost of drug dispensed for this patient.
"^DD",727.819,727.819,13,23,0)
^^10^10^2960925^^^
"^DD",727.819,727.819,13,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,13,23,2,0)
COST is derived from the QUANTITY field (10) in the IV DETAIL EXTRACT 
"^DD",727.819,727.819,13,23,3,0)
file (#727.819) multiplied by the price. Price comes from the AVERAGE 
"^DD",727.819,727.819,13,23,4,0)
DRUG COST PER UNIT field (4) of the IV DRUG multiple (2) within the DATE 
"^DD",727.819,727.819,13,23,5,0)
multiple (2) of the IV STATS file (#50.8).
"^DD",727.819,727.819,13,23,6,0)
  
"^DD",727.819,727.819,13,23,7,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,13,23,8,0)
Calculated by multiplying the COST field (12) in the IV EXTRACT DATA 
"^DD",727.819,727.819,13,23,9,0)
file (#728.113) by the QUANTITY field (10) in the IV DETAIL EXTRACT 
"^DD",727.819,727.819,13,23,10,0)
file (#727.819) above.
"^DD",727.819,727.819,13,"DT")
2960925
"^DD",727.819,727.819,14,0)
MOVEMENT FILE #^P405'^DGPM(^0;14^Q
"^DD",727.819,727.819,14,.1)
Movement File Number
"^DD",727.819,727.819,14,3)
Enter the patient movement number associated with this extract record.
"^DD",727.819,727.819,14,21,0)
^^1^1^2961017^^^
"^DD",727.819,727.819,14,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.819,727.819,14,23,0)
^^4^4^2961017^^^
"^DD",727.819,727.819,14,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.819,727.819,14,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.819,727.819,14,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.819,727.819,14,23,4,0)
(#405).
"^DD",727.819,727.819,14,"DT")
2960925
"^DD",727.819,727.819,15,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;15^Q
"^DD",727.819,727.819,15,.1)
Treating Specialty
"^DD",727.819,727.819,15,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.819,727.819,15,21,0)
^^1^1^2960925^^^
"^DD",727.819,727.819,15,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.819,727.819,15,23,0)
^^6^6^2960925^^^
"^DD",727.819,727.819,15,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.819,727.819,15,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.819,727.819,15,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.819,727.819,15,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.819,727.819,15,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.819,727.819,15,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.819,727.819,15,"DT")
2960925
"^DD",727.819,727.819,16,0)
NDC^F^^0;16^K:$L(X)>15!($L(X)<1) X
"^DD",727.819,727.819,16,.1)
National Drug Code
"^DD",727.819,727.819,16,3)
Your answer must be 1 to 15 characters in length.
"^DD",727.819,727.819,16,21,0)
^^1^1^2990511^^^^
"^DD",727.819,727.819,16,21,1,0)
This is the National Drug Code for the drug/supply item in this order.
"^DD",727.819,727.819,16,23,0)
^^17^17^2990511^^^^
"^DD",727.819,727.819,16,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,16,23,2,0)
Derived from the NDC field (31) in the DRUG file (#50) for the drug 
"^DD",727.819,727.819,16,23,3,0)
identified by the GENERIC DRUG field (1) in either the IV ADDITIVES 
"^DD",727.819,727.819,16,23,4,0)
file (#52.6) for additives or the IV SOLUTIONS file (#52.7) for 
"^DD",727.819,727.819,16,23,5,0)
solutions.
"^DD",727.819,727.819,16,23,6,0)
  
"^DD",727.819,727.819,16,23,7,0)
Using the "AC" cross reference on the IV STATS file (#50.8) and a 
"^DD",727.819,727.819,16,23,8,0)
^TMP( array built from the "AC" cross reference, GENERIC DRUG is 
"^DD",727.819,727.819,16,23,9,0)
derived from the following:
"^DD",727.819,727.819,16,23,10,0)
 the IV DRUG field (.01),
"^DD",727.819,727.819,16,23,11,0)
 the TYPE field (6), and
"^DD",727.819,727.819,16,23,12,0)
 the IEN of the additive or solution for the IV DRUG within the IV DRUG 
"^DD",727.819,727.819,16,23,13,0)
 multiple (2) of the DATE multiple (2) of the IV STATS file (#50.8).
"^DD",727.819,727.819,16,23,14,0)
  
"^DD",727.819,727.819,16,23,15,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,16,23,16,0)
Derived from the NDC field (31) in the DRUG file (#50) for the drug 
"^DD",727.819,727.819,16,23,17,0)
identified by the DRUG field (3) in the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,16,"DT")
2960925
"^DD",727.819,727.819,17,0)
INVESTIGATIONAL^S^I:INVESTIGATIONAL;^0;17^Q
"^DD",727.819,727.819,17,.1)
Investigational
"^DD",727.819,727.819,17,3)
Enter I if the drug is investigational.
"^DD",727.819,727.819,17,21,0)
^^2^2^2990511^^^
"^DD",727.819,727.819,17,21,1,0)
This field contains the letter I if the drug in this record is 
"^DD",727.819,727.819,17,21,2,0)
investigational. Otherwise it is null.
"^DD",727.819,727.819,17,23,0)
^^2^2^2990511^^^
"^DD",727.819,727.819,17,23,1,0)
Derived from the DEA, SPECIAL HDLG field (3) in the DRUG file (#50).
"^DD",727.819,727.819,17,23,2,0)
If the DEA, SPECIAL HDLG field contains an I, this field is set to I.
"^DD",727.819,727.819,17,"DT")
2960925
"^DD",727.819,727.819,18,0)
PHARMACY IV DISPENSING FEE^F^^0;18^K:$L(X)>2!($L(X)<1) X
"^DD",727.819,727.819,18,.1)
Pharmacy IV Dispensing Fee
"^DD",727.819,727.819,18,3)
Your answer must be 1 to 2 characters in length.
"^DD",727.819,727.819,18,21,0)
^^2^2^2990511^^^^
"^DD",727.819,727.819,18,21,1,0)
The type of IV dispensed - A for admixture, C for chemotherapy, 
"^DD",727.819,727.819,18,21,2,0)
H for hyperal, P for piggyback, or S for syringe.
"^DD",727.819,727.819,18,23,0)
^^12^12^2990511^^^
"^DD",727.819,727.819,18,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,18,23,2,0)
This field is set to null.
"^DD",727.819,727.819,18,23,3,0)
  
"^DD",727.819,727.819,18,23,4,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,18,23,5,0)
Derived from the TYPE field (11) of the IV EXTRACT DATA file (#728.113). 
"^DD",727.819,727.819,18,23,6,0)
TYPE is the type of IV dispensed - A for admixture, C for chemotherapy, 
"^DD",727.819,727.819,18,23,7,0)
H for hyperal, P for piggyback, or S for syringe.
"^DD",727.819,727.819,18,23,8,0)
  
"^DD",727.819,727.819,18,23,9,0)
If the TYPE is H for hyperal (TPN), the SOLUTION VOLUME is calculated. 
"^DD",727.819,727.819,18,23,10,0)
This field is sent as H1 if the volume is less than or equal 1000 ML, 
"^DD",727.819,727.819,18,23,11,0)
H2 if the volume is less than or equal 2000 ML, and H3 if the volume is 
"^DD",727.819,727.819,18,23,12,0)
greater than 2000 ML.
"^DD",727.819,727.819,18,"DT")
2960925
"^DD",727.819,727.819,19,0)
NEW FEEDER KEY^F^^0;19^K:$L(X)>19!($L(X)<17) X
"^DD",727.819,727.819,19,.1)
New Feeder Key
"^DD",727.819,727.819,19,3)
Answer must be 17-19 characters in length.
"^DD",727.819,727.819,19,21,0)
^^5^5^2990510^^^^
"^DD",727.819,727.819,19,21,1,0)
The Feeder Key for the drug in this record.  The format of the Feeder Key
"^DD",727.819,727.819,19,21,2,0)
depends on the version of NATIONAL DRUG FILE installed at the site.  If the
"^DD",727.819,727.819,19,21,3,0)
site is running NDF v4.0 (or later), the Feeder Key has a 17-digit format.
"^DD",727.819,727.819,19,21,4,0)
If the site is running an earlier version of NDF, then the Feeder Key has
"^DD",727.819,727.819,19,21,5,0)
a 19-digit format.
"^DD",727.819,727.819,19,23,0)
^^20^20^2990510^^^^
"^DD",727.819,727.819,19,23,1,0)
NEW FEEDER KEY is derived for the drug identified by the DRUG field 
"^DD",727.819,727.819,19,23,2,0)
(#6) in the PRESCRIPTION file (#52), which is a pointer to the DRUG
"^DD",727.819,727.819,19,23,3,0)
file (#50).
"^DD",727.819,727.819,19,23,4,0)
  
"^DD",727.819,727.819,19,23,5,0)
If the sites is running a version of NDF prior to NDF v4.0:
"^DD",727.819,727.819,19,23,6,0)
The NATIONAL DRUG FILE ENTRY field (#20) from the DRUG file (#50),
"^DD",727.819,727.819,19,23,7,0)
which is a pointer to the NATIONAL DRUG file (#50.6), is padded to
"^DD",727.819,727.819,19,23,8,0)
4 digits.  The PSNDF VA PRODUCT NAME ENTRY field (#22) from the 
"^DD",727.819,727.819,19,23,9,0)
DRUG file (#50), which is a pointer to the VA Product Name in the
"^DD",727.819,727.819,19,23,10,0)
NATIONAL DRUG file (#50.6), is padded to 3 digits. These two data
"^DD",727.819,727.819,19,23,11,0)
elements are concatenated together to form a 7-digit string.
"^DD",727.819,727.819,19,23,12,0)
This is concatenated with a 12-digit code derived from the NDC field
"^DD",727.819,727.819,19,23,13,0)
(#31) from the DRUG file (#50) to form a 19-digit Feeder Key.
"^DD",727.819,727.819,19,23,14,0)
  
"^DD",727.819,727.819,19,23,15,0)
If the site is running NDF v4.0 (or later):
"^DD",727.819,727.819,19,23,16,0)
The PSNDF VA PRODUCT NAME ENTRY field (#22) from the DRUG file (#50), 
"^DD",727.819,727.819,19,23,17,0)
which is a pointer to the VA PRODUCT file (#50.68) is padded to 5
"^DD",727.819,727.819,19,23,18,0)
digits.  This is concatenated with a 12-digit code derived from the
"^DD",727.819,727.819,19,23,19,0)
NDC field (#31) from the DRUG file (#50) to form a 17-digit Feeder
"^DD",727.819,727.819,19,23,20,0)
Key.
"^DD",727.819,727.819,19,"DT")
2990510
"^DD",727.819,727.819,20,0)
TOTAL DOSES PER DAY^F^^0;20^K:$L(X)>20!($L(X)<1) X
"^DD",727.819,727.819,20,.1)
Total Doses Per Day
"^DD",727.819,727.819,20,3)
Your answer must be 1 to 20 characters in length.
"^DD",727.819,727.819,20,21,0)
^^1^1^2990511^^^
"^DD",727.819,727.819,20,21,1,0)
The total doses per day including units.
"^DD",727.819,727.819,20,23,0)
^^9^9^2990511^^^
"^DD",727.819,727.819,20,23,1,0)
For sites running a version of Inpatient Medications prior to V. 4.5:
"^DD",727.819,727.819,20,23,2,0)
This field is set to null.
"^DD",727.819,727.819,20,23,3,0)
  
"^DD",727.819,727.819,20,23,4,0)
For sites running Inpatient Medications V. 4.5 or higher:
"^DD",727.819,727.819,20,23,5,0)
For additives, TOTAL DOSES PER DAY is derived from the ADDITIVE STRENGTH 
"^DD",727.819,727.819,20,23,6,0)
field (6) and the ADDITIVE STRENGTH UNITS field (7) from the IV EXTRACT 
"^DD",727.819,727.819,20,23,7,0)
DATA file (#728.113).
"^DD",727.819,727.819,20,23,8,0)
For solutions, TOTAL DOSES PER DAY is derived from the SOLUTION VOLUME
"^DD",727.819,727.819,20,23,9,0)
field (8), recorded in MLs, from the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,20,"DT")
2960925
"^DD",727.819,727.819,21,0)
PRIMARY CARE TEAM^F^^0;21^K:$L(X)>4!($L(X)<1) X
"^DD",727.819,727.819,21,.1)
Primary Care Team
"^DD",727.819,727.819,21,3)
Enter primary care team assigned to this patient.
"^DD",727.819,727.819,21,21,0)
^^1^1^2961104^^^^
"^DD",727.819,727.819,21,21,1,0)
The primary care team assigned to this patient.
"^DD",727.819,727.819,21,23,0)
^^11^11^2961104^^^^
"^DD",727.819,727.819,21,23,1,0)
DATE is defined by one of two methods. For sites running a version of 
"^DD",727.819,727.819,21,23,2,0)
Inpatient Medications prior to V. 4.5, DATE is defined by the DATE field 
"^DD",727.819,727.819,21,23,3,0)
(.01) of the DATE multiple (2) in the IV STATS file (#50.8). For sites 
"^DD",727.819,727.819,21,23,4,0)
running Inpatient Medications V. 4.5 or higher, DATE is defined by the 
"^DD",727.819,727.819,21,23,5,0)
DATE/TIME field (4) of the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,21,23,6,0)
  
"^DD",727.819,727.819,21,23,7,0)
Using the DATE and the patient pointer (DFN) stored in the PATIENT NO. - 
"^DD",727.819,727.819,21,23,8,0)
DFN field (4) in the IV DETAIL EXTRACT file (#727.819), a call is made 
"^DD",727.819,727.819,21,23,9,0)
to the Scheduling API, OUTPTTM^SDUTL3. The API returns the team's 
"^DD",727.819,727.819,21,23,10,0)
internal entry number and name from the TEAM file (#404.51). Only the 
"^DD",727.819,727.819,21,23,11,0)
pointer (IEN) to File 404.51 is transmitted.
"^DD",727.819,727.819,21,"DT")
2961104
"^DD",727.819,727.819,22,0)
PRIMARY CARE PROVIDER^F^^0;22^K:$L(X)>11!($L(X)<1) X
"^DD",727.819,727.819,22,.1)
Primary Care Provider
"^DD",727.819,727.819,22,3)
Enter primary care provider assigned to this patient.
"^DD",727.819,727.819,22,21,0)
^^1^1^2980708^^^^
"^DD",727.819,727.819,22,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.819,727.819,22,23,0)
^^13^13^2980708^^^^
"^DD",727.819,727.819,22,23,1,0)
DATE is defined by one of two methods. For sites running a version of 
"^DD",727.819,727.819,22,23,2,0)
Inpatient Medications prior to V. 4.5, DATE is defined by the DATE field 
"^DD",727.819,727.819,22,23,3,0)
(.01) of the DATE multiple (2) in the IV STATS file (#50.8). For sites 
"^DD",727.819,727.819,22,23,4,0)
running Inpatient Medications V. 4.5 or higher, DATE is defined by the 
"^DD",727.819,727.819,22,23,5,0)
DATE/TIME field (4) of the IV EXTRACT DATA file (#728.113).
"^DD",727.819,727.819,22,23,6,0)
  
"^DD",727.819,727.819,22,23,7,0)
Using the DATE and the patient pointer (DFN) stored in the PATIENT NO. - 
"^DD",727.819,727.819,22,23,8,0)
DFN field (4) in the IV DETAIL EXTRACT file (#727.819), a call is made 
"^DD",727.819,727.819,22,23,9,0)
to the Scheduling API, OUTPTPR^SDUTL3. The API returns the provider's 
"^DD",727.819,727.819,22,23,10,0)
internal entry number and name from the NEW PERSON file (#200). 
"^DD",727.819,727.819,22,23,11,0)
 
"^DD",727.819,727.819,22,23,12,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.819,727.819,22,23,13,0)
is "200".
"^DD",727.819,727.819,22,"DT")
2961017
"^DD",727.819,727.819,23,0)
IVP TIME^FO^^0;23^K:$L(X)>6!($L(X)<6) X
"^DD",727.819,727.819,23,.1)
IVP Time
"^DD",727.819,727.819,23,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.819,727.819,23,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.819,727.819,23,3)
Answer must be 6 characters in length.
"^DD",727.819,727.819,23,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,23,21,1,0)
A 6-character numeric string representing the time of day when the IV
"^DD",727.819,727.819,23,21,2,0)
medication was dispensed.
"^DD",727.819,727.819,23,23,0)
^^12^12^2970922^^^^
"^DD",727.819,727.819,23,23,1,0)
Data source:
"^DD",727.819,727.819,23,23,2,0)
 
"^DD",727.819,727.819,23,23,3,0)
For sites running a version prior to Inpatient Medications v4.5 --
"^DD",727.819,727.819,23,23,4,0)
IV STATS file (#50.8); DATE sub-file (#50.803); DATE field (#.01)
"^DD",727.819,727.819,23,23,5,0)
 
"^DD",727.819,727.819,23,23,6,0)
For sites running Inpatient Medications v4.5 or higher:
"^DD",727.819,727.819,23,23,7,0)
IV EXTRACT DATA file (#728.113); DATE/TIME field (#4)
"^DD",727.819,727.819,23,23,8,0)
which is set by routine PSIVSTAT and is always the current date/time,
"^DD",727.819,727.819,23,23,9,0)
i.e., NOW.
"^DD",727.819,727.819,23,23,10,0)
 
"^DD",727.819,727.819,23,23,11,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.819,727.819,23,23,12,0)
cannot be determined, then "000300" is used as default.
"^DD",727.819,727.819,23,"DT")
2970924
"^DD",727.819,727.819,24,0)
ADMISSION DATE^FO^^0;24^K:$L(X)>8!($L(X)<8) X
"^DD",727.819,727.819,24,.1)
Admission Date
"^DD",727.819,727.819,24,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.819,727.819,24,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.819,727.819,24,3)
Answer must be 8 characters in length.
"^DD",727.819,727.819,24,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,24,21,1,0)
An 8-character numeric string that represents the Admission date for
"^DD",727.819,727.819,24,21,2,0)
IV medications dispensed to inpatients.
"^DD",727.819,727.819,24,23,0)
^^10^10^2971113^^^^
"^DD",727.819,727.819,24,23,1,0)
Data source:
"^DD",727.819,727.819,24,23,2,0)
 
"^DD",727.819,727.819,24,23,3,0)
IV EXTRACT DATA file (#728.113); DFN field (#1)
"^DD",727.819,727.819,24,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.819,727.819,24,23,5,0)
 
"^DD",727.819,727.819,24,23,6,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.819,727.819,24,23,7,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.819,727.819,24,23,8,0)
then a default is used.  The default date value is the value of the 
"^DD",727.819,727.819,24,23,9,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.819,727.819,24,23,10,0)
Year 2000 compliant per vendor.
"^DD",727.819,727.819,24,"DT")
2970924
"^DD",727.819,727.819,25,0)
ADMISSION TIME^FO^^0;25^K:$L(X)>6!($L(X)<6) X
"^DD",727.819,727.819,25,.1)
Admission Time
"^DD",727.819,727.819,25,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.819,727.819,25,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.819,727.819,25,3)
Answer must be 6 characters in length.
"^DD",727.819,727.819,25,21,0)
^^2^2^2970922^^^^
"^DD",727.819,727.819,25,21,1,0)
A 6-character numeric string that represents the time of the patient's
"^DD",727.819,727.819,25,21,2,0)
Admission for IV medications dispensed to inpatients.
"^DD",727.819,727.819,25,23,0)
^^7^7^2971113^^^^
"^DD",727.819,727.819,25,23,1,0)
Data source:
"^DD",727.819,727.819,25,23,2,0)
 
"^DD",727.819,727.819,25,23,3,0)
IV EXTRACT DATA file (#728.113); DFN field (#1)
"^DD",727.819,727.819,25,23,4,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.819,727.819,25,23,5,0)
 
"^DD",727.819,727.819,25,23,6,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.819,727.819,25,23,7,0)
cannot be determined, then "000300" is used as default.
"^DD",727.819,727.819,25,"DT")
2970924
"^DD",727.819,727.819,26,0)
DSS IDENTIFIER FOR ENCOUNTER^F^^0;26^K:$L(X)>6!($L(X)<6) X
"^DD",727.819,727.819,26,3)
Answer must be 6 characters in length.
"^DD",727.819,727.819,26,21,0)
^^3^3^2980925^^^^
"^DD",727.819,727.819,26,21,1,0)
If the IV was provided to an outpatient, this field contains the
"^DD",727.819,727.819,26,21,2,0)
DSS Identifier for the clinic associated with the outpatient
"^DD",727.819,727.819,26,21,3,0)
encounter.
"^DD",727.819,727.819,26,23,0)
1^^3^3^2980925^^
"^DD",727.819,727.819,26,23,1,0)
File #728.113 contains a pointer to HOSPITAL LOCATION (file #44).
"^DD",727.819,727.819,26,23,2,0)
Using this pointer, obtain the primary and secondary clinic
"^DD",727.819,727.819,26,23,3,0)
stop codes from the CLINIC AND STOP CODES file (#728.44).
"^DD",727.819,727.819,26,"DT")
2970922
"^DD",727.819,727.819,27,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.819,727.819,27,3)
Answer must be 1-10 characters in length.
"^DD",727.819,727.819,27,21,0)
^^1^1^2990504^
"^DD",727.819,727.819,27,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.819,727.819,27,23,0)
^^2^2^2990504^
"^DD",727.819,727.819,27,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.819,727.819,27,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.819,727.819,27,"DT")
2990504
"^DD",727.819,727.819,28,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.819,727.819,28,3)
Answer must be 4-10 characters in length.
"^DD",727.819,727.819,28,21,0)
^^1^1^2990506^
"^DD",727.819,727.819,28,21,1,0)
The DSS Department Code for the Pharmacy product.
"^DD",727.819,727.819,28,23,0)
^^2^2^2990506^
"^DD",727.819,727.819,28,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.819,727.819,28,23,2,0)
Field is set to null.
"^DD",727.819,727.819,28,"DT")
2990506
"^DD",727.819,727.819,29,0)
PC PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.819,727.819,29,3)
Answer must be 1-8 characters in length.
"^DD",727.819,727.819,29,21,0)
^^1^1^2990506^^^^
"^DD",727.819,727.819,29,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.819,727.819,29,23,0)
^^4^4^2990506^^
"^DD",727.819,727.819,29,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.819,727.819,29,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.819,727.819,29,23,3,0)
   
"^DD",727.819,727.819,29,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.819,727.819,29,"DT")
2990506
"^DD",727.819,727.819,30,0)
PC PROVIDER PERSON CLASS^F^^1;4^K:$L(X)>7!($L(X)<7) X
"^DD",727.819,727.819,30,3)
Answer must be 7 characters in length.
"^DD",727.819,727.819,30,21,0)
^^2^2^2981026^
"^DD",727.819,727.819,30,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.819,727.819,30,21,2,0)
associated with this record.
"^DD",727.819,727.819,30,23,0)
^^6^6^2981026^
"^DD",727.819,727.819,30,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.819,727.819,30,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.819,727.819,30,23,3,0)
extract record.
"^DD",727.819,727.819,30,23,4,0)
  
"^DD",727.819,727.819,30,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.819,727.819,30,23,6,0)
7 characters in length.
"^DD",727.819,727.819,30,"DT")
2981026
"^DD",727.819,727.819,31,0)
ASSOCIATE PC PROVIDER^F^^1;5^K:$L(X)>11!($L(X)<2) X
"^DD",727.819,727.819,31,3)
Answer must be 2-11 characters in length.
"^DD",727.819,727.819,31,21,0)
^^4^4^2990504^
"^DD",727.819,727.819,31,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.819,727.819,31,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.819,727.819,31,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.819,727.819,31,21,4,0)
character 2.
"^DD",727.819,727.819,31,23,0)
^^2^2^2990504^
"^DD",727.819,727.819,31,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.819,727.819,31,23,2,0)
the PCMM application.
"^DD",727.819,727.819,31,"DT")
2990504
"^DD",727.819,727.819,32,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;6^K:$L(X)>7!($L(X)<7) X
"^DD",727.819,727.819,32,3)
Answer must be 7 characters in length.
"^DD",727.819,727.819,32,21,0)
^^4^4^2990505^^
"^DD",727.819,727.819,32,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.819,727.819,32,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.819,727.819,32,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.819,727.819,32,21,4,0)
exactly 7 characters in length. 
"^DD",727.819,727.819,32,23,0)
^^3^3^2990505^^
"^DD",727.819,727.819,32,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.819,727.819,32,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.819,727.819,32,23,3,0)
PERS is the IEN from file #200.
"^DD",727.819,727.819,32,"DT")
2990504
"^DD",727.819,727.819,33,0)
ASSOCIATE PC PROVIDER NPI^F^^1;7^K:$L(X)>8!($L(X)<1) X
"^DD",727.819,727.819,33,3)
Answer must be 1-8 characters in length.
"^DD",727.819,727.819,33,21,0)
^^1^1^2990506^^
"^DD",727.819,727.819,33,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.819,727.819,33,23,0)
^^4^4^2990506^^
"^DD",727.819,727.819,33,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.819,727.819,33,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.819,727.819,33,23,3,0)
   
"^DD",727.819,727.819,33,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.819,727.819,33,"DT")
2990506
"^DD",727.823,727.823,0)
FIELD^^14^16
"^DD",727.823,727.823,0,"DDA")
N
"^DD",727.823,727.823,0,"DIK")
ECX823
"^DD",727.823,727.823,0,"DIKOLD")
ECX823
"^DD",727.823,727.823,0,"DT")
2990506
"^DD",727.823,727.823,0,"IX","AC",727.823,2)

"^DD",727.823,727.823,0,"NM","PAI EXTRACT")

"^DD",727.823,727.823,0,"VRPK")
DSS EXTRACTS
"^DD",727.823,727.823,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.823,727.823,.01,.1)
Sequence Number
"^DD",727.823,727.823,.01,1,0)
^.1^^0
"^DD",727.823,727.823,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.823,727.823,.01,21,0)
^^1^1^2961008^^^^
"^DD",727.823,727.823,.01,21,1,0)
The record number for this extract entry.
"^DD",727.823,727.823,.01,23,0)
^^1^1^2961008^^^^
"^DD",727.823,727.823,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.823,727.823,.01,"DT")
2980812
"^DD",727.823,727.823,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.823,727.823,1,.1)
Year/Month
"^DD",727.823,727.823,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.823,727.823,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.823,727.823,1,3)
Answer must be 6 characters in length.
"^DD",727.823,727.823,1,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.823,727.823,1,21,2,0)
for which this extract was performed.
"^DD",727.823,727.823,1,23,0)
^^1^1^2970922^^^^
"^DD",727.823,727.823,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.823,727.823,1,"DT")
2970924
"^DD",727.823,727.823,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.823,727.823,2,.1)
Extract Number
"^DD",727.823,727.823,2,1,0)
^.1
"^DD",727.823,727.823,2,1,1,0)
727.823^AC
"^DD",727.823,727.823,2,1,1,1)
S ^ECX(727.823,"AC",$E(X,1,30),DA)=""
"^DD",727.823,727.823,2,1,1,2)
K ^ECX(727.823,"AC",$E(X,1,30),DA)
"^DD",727.823,727.823,2,1,1,3)
DO NOT DELETE.
"^DD",727.823,727.823,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.823,727.823,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.823,727.823,2,1,1,"%D",2,0)
in this file.
"^DD",727.823,727.823,2,1,1,"DT")
2910802
"^DD",727.823,727.823,2,3)
Enter the extract number for this extract.
"^DD",727.823,727.823,2,21,0)
^^2^2^2961008^^^^
"^DD",727.823,727.823,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.823,727.823,2,21,2,0)
extract.
"^DD",727.823,727.823,2,23,0)
^^2^2^2961008^^^^
"^DD",727.823,727.823,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.823,727.823,2,23,2,0)
pick up the header for the mail message.
"^DD",727.823,727.823,2,"DT")
2961008
"^DD",727.823,727.823,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.823,727.823,3,.1)
Facility
"^DD",727.823,727.823,3,3)
Enter the station number where this extract was performed.
"^DD",727.823,727.823,3,21,0)
^^1^1^2961014^^^^
"^DD",727.823,727.823,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.823,727.823,3,23,0)
^^1^1^2961014^^^^
"^DD",727.823,727.823,3,23,1,0)
For the PAI extract, the FACILITY field is null.
"^DD",727.823,727.823,3,"DT")
2961014
"^DD",727.823,727.823,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.823,727.823,4,.1)
Patient No. - DFN
"^DD",727.823,727.823,4,3)
Enter the name of the patient for this extract record.
"^DD",727.823,727.823,4,21,0)
^^1^1^2990504^^^^
"^DD",727.823,727.823,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.823,727.823,4,23,0)
^^2^2^2990504^^^^
"^DD",727.823,727.823,4,23,1,0)
Derived from the NAME field (.01) in the PAF file (#45.9). NAME is a 
"^DD",727.823,727.823,4,23,2,0)
pointer to the PATIENT file (#2). This data represents the patient DFN.
"^DD",727.823,727.823,4,"DT")
2961015
"^DD",727.823,727.823,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.823,727.823,5,.1)
Social Security Number
"^DD",727.823,727.823,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.823,727.823,5,21,0)
^^4^4^2990504^^^^
"^DD",727.823,727.823,5,21,1,0)
The patient's social security number.
"^DD",727.823,727.823,5,21,2,0)
 
"^DD",727.823,727.823,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.823,727.823,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.823,727.823,5,23,0)
^^6^6^2990504^^
"^DD",727.823,727.823,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.823,727.823,5,23,2,0)
in the PAI EXTRACT file (#727.823), SSN data is derived from the SOCIAL
"^DD",727.823,727.823,5,23,3,0)
SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.823,727.823,5,23,4,0)
 
"^DD",727.823,727.823,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.823,727.823,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.823,727.823,5,"DT")
2961008
"^DD",727.823,727.823,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.823,727.823,6,.1)
Name
"^DD",727.823,727.823,6,3)
Your answer must be 4 characters in length.
"^DD",727.823,727.823,6,21,0)
^^1^1^2961015^^^^
"^DD",727.823,727.823,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.823,727.823,6,23,0)
^^4^4^2961015^
"^DD",727.823,727.823,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.823,727.823,6,23,2,0)
in the PAI EXTRACT file (#727.823), NAME data is derived from the NAME
"^DD",727.823,727.823,6,23,3,0)
field (.01) in the PATIENT file (#2). The first four characters of the
"^DD",727.823,727.823,6,23,4,0)
first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.823,727.823,6,"DT")
2961008
"^DD",727.823,727.823,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.823,727.823,7,.1)
In Out Patient Indicator
"^DD",727.823,727.823,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.823,727.823,7,21,0)
^^2^2^2961015^^^^
"^DD",727.823,727.823,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.823,727.823,7,21,2,0)
extract entry.
"^DD",727.823,727.823,7,23,0)
^^2^2^2961015^^^^
"^DD",727.823,727.823,7,23,1,0)
For the PAI extract this field is set to 3, indicating inpatient status 
"^DD",727.823,727.823,7,23,2,0)
in the LOCATION TYPE file (#40.9).
"^DD",727.823,727.823,7,"DT")
2961008
"^DD",727.823,727.823,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.823,727.823,8,.1)
Day
"^DD",727.823,727.823,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,8,3)
Answer must be 8 characters in length.
"^DD",727.823,727.823,8,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,8,21,1,0)
A 6-character numeric string that represents tha date on which the
"^DD",727.823,727.823,8,21,2,0)
patient classification occurred.
"^DD",727.823,727.823,8,23,0)
^^9^9^2970923^^^^
"^DD",727.823,727.823,8,23,1,0)
Data source:
"^DD",727.823,727.823,8,23,2,0)
 
"^DD",727.823,727.823,8,23,3,0)
PAF file (#45.9); ASSESSMENT DATE field (#2)
"^DD",727.823,727.823,8,23,4,0)
 
"^DD",727.823,727.823,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.823,727.823,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.823,727.823,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.823,727.823,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.823,727.823,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.823,727.823,8,"DT")
2970924
"^DD",727.823,727.823,9,0)
ADMISSION DATE^RFO^^0;10^K:$L(X)>8!($L(X)<8) X
"^DD",727.823,727.823,9,.1)
Admission Date
"^DD",727.823,727.823,9,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,9,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,9,3)
Answer must be 8 characters in length.
"^DD",727.823,727.823,9,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,9,21,1,0)
This 8-character string represents the date on which the
"^DD",727.823,727.823,9,21,2,0)
patient Admission took place.
"^DD",727.823,727.823,9,23,0)
^^11^11^2971113^^^^
"^DD",727.823,727.823,9,23,1,0)
DATE.
"^DD",727.823,727.823,9,23,2,0)
Data source:
"^DD",727.823,727.823,9,23,3,0)
 
"^DD",727.823,727.823,9,23,4,0)
PAF file (#45.9); DATE OF ADMISSION/TRANSFER IN field (#7)
"^DD",727.823,727.823,9,23,5,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.823,727.823,9,23,6,0)
 
"^DD",727.823,727.823,9,23,7,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.823,727.823,9,23,8,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.823,727.823,9,23,9,0)
then a default is used.  The default date value is the value of the 
"^DD",727.823,727.823,9,23,10,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.823,727.823,9,23,11,0)
Year 2000 compliant per vendor.
"^DD",727.823,727.823,9,"DT")
2970924
"^DD",727.823,727.823,10,0)
ADMISSION TIME^FO^^0;11^K:$L(X)>6!($L(X)<6) X
"^DD",727.823,727.823,10,.1)
Admission Time
"^DD",727.823,727.823,10,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.823,727.823,10,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.823,727.823,10,3)
Answer must be 6 characters in length.
"^DD",727.823,727.823,10,21,0)
^^2^2^2970922^^^
"^DD",727.823,727.823,10,21,1,0)
A 6-character numeric string that represents the time of day
"^DD",727.823,727.823,10,21,2,0)
at which the patient Admission occurred.
"^DD",727.823,727.823,10,23,0)
^^12^12^2971113^^^^
"^DD",727.823,727.823,10,23,1,0)
Derived by using the DATE OF ADMISSION/TRANSFER IN field (7) in the 
"^DD",727.823,727.823,10,23,2,0)
PAF file (#45.9) to find the corresponding admission in the PATIENT 
"^DD",727.823,727.823,10,23,3,0)
MOVEMENT file (#405). The TIME portion of the DATE/TIME field (.01) 
"^DD",727.823,727.823,10,23,4,0)
for that admission in the PATIENT MOVEMENT file (#405) is the ADMISSION 
"^DD",727.823,727.823,10,23,5,0)
TIME, padded with trailing zeroes to six digits.
"^DD",727.823,727.823,10,23,6,0)
Data source:
"^DD",727.823,727.823,10,23,7,0)
 
"^DD",727.823,727.823,10,23,8,0)
PAF file (#45.9); DATE OF ADMISSION/TRANSFER IN field (#7)
"^DD",727.823,727.823,10,23,9,0)
   then to PATIENT MOVEMENT file (#405); DATE/TIME field (#.01)
"^DD",727.823,727.823,10,23,10,0)
 
"^DD",727.823,727.823,10,23,11,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.823,727.823,10,23,12,0)
cannot be determined, then "000300" is used as default.
"^DD",727.823,727.823,10,"DT")
2970924
"^DD",727.823,727.823,11,0)
TRANSFER/ADMISSION DATE^FO^^0;12^K:$L(X)>8!($L(X)<8) X
"^DD",727.823,727.823,11,.1)
Transfer/Admission Date
"^DD",727.823,727.823,11,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,11,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.823,727.823,11,3)
Answer must be 8 characters in length.
"^DD",727.823,727.823,11,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,11,21,1,0)
An 8-character numeric string that represents the date on which the
"^DD",727.823,727.823,11,21,2,0)
patient was admitted or transferred to the long-term ward.
"^DD",727.823,727.823,11,23,0)
^^9^9^2970923^^^^
"^DD",727.823,727.823,11,23,1,0)
Data source:
"^DD",727.823,727.823,11,23,2,0)
 
"^DD",727.823,727.823,11,23,3,0)
PAF file (#45.9); DATE OF ADMISSION/TRANSFER in field (#7)
"^DD",727.823,727.823,11,23,4,0)
 
"^DD",727.823,727.823,11,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.823,727.823,11,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.823,727.823,11,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.823,727.823,11,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.823,727.823,11,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.823,727.823,11,"DT")
2970924
"^DD",727.823,727.823,12,0)
TRANSFER/ADMISSION TIME^FO^^0;13^K:$L(X)>6!($L(X)<6) X
"^DD",727.823,727.823,12,.1)
Transfer/Admission Time
"^DD",727.823,727.823,12,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.823,727.823,12,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,0)
"^DD",727.823,727.823,12,3)
Answer must be 6 characters in length.
"^DD",727.823,727.823,12,21,0)
^^2^2^2970922^^^^
"^DD",727.823,727.823,12,21,1,0)
A 6-character numeric string that represents the time of day at which
"^DD",727.823,727.823,12,21,2,0)
the patient's admission or transfer to the long-term ward occurred.
"^DD",727.823,727.823,12,23,0)
^^6^6^2970922^^^^
"^DD",727.823,727.823,12,23,1,0)
Data source:
"^DD",727.823,727.823,12,23,2,0)
 
"^DD",727.823,727.823,12,23,3,0)
PAF file (#45.9); DATE OF ADMISSION/TRANSFER in field (#7)
"^DD",727.823,727.823,12,23,4,0)
 
"^DD",727.823,727.823,12,23,5,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.823,727.823,12,23,6,0)
cannot be determined, then "000300" is used as default.
"^DD",727.823,727.823,12,"DT")
2970924
"^DD",727.823,727.823,13,0)
RACE^F^^0;14^K:$L(X)>1!($L(X)<1) X
"^DD",727.823,727.823,13,.1)
Race
"^DD",727.823,727.823,13,3)
Enter race ABBREVIATION for this patient.
"^DD",727.823,727.823,13,21,0)
^^1^1^2961015^^
"^DD",727.823,727.823,13,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.823,727.823,13,23,0)
^^3^3^2961015^
"^DD",727.823,727.823,13,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.823,727.823,13,23,2,0)
RACE data is shown as the ABBREVIATION field (2) of the RACE file (#10)
"^DD",727.823,727.823,13,23,3,0)
entry pointed to by the RACE field (.06) in the PATIENT file (#2).
"^DD",727.823,727.823,13,"DT")
2961015
"^DD",727.823,727.823,14,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.823,727.823,14,3)
Answer must be 1-10 characters in length.
"^DD",727.823,727.823,14,21,0)
^^1^1^2990504^
"^DD",727.823,727.823,14,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.823,727.823,14,23,0)
^^2^2^2990504^
"^DD",727.823,727.823,14,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.823,727.823,14,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.823,727.823,14,"DT")
2990504
"^DD",727.823,727.823,15,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.823,727.823,15,3)
Answer must be 4-10 characters in length.
"^DD",727.823,727.823,15,21,0)
^^1^1^2990506^^^
"^DD",727.823,727.823,15,21,1,0)
The DSS Department Code for the patient care product.
"^DD",727.823,727.823,15,23,0)
^^2^2^2990506^^
"^DD",727.823,727.823,15,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.823,727.823,15,23,2,0)
Field is set to null.
"^DD",727.823,727.823,15,"DT")
2990506
"^DD",727.824,727.824,0)
FIELD^^20^21
"^DD",727.824,727.824,0,"DDA")
N
"^DD",727.824,727.824,0,"DIK")
ECX824
"^DD",727.824,727.824,0,"DIKOLD")
ECX824
"^DD",727.824,727.824,0,"DT")
2990506
"^DD",727.824,727.824,0,"IX","AC",727.824,2)

"^DD",727.824,727.824,0,"NM","LAB RESULTS EXTRACT")

"^DD",727.824,727.824,0,"VRPK")
DSS EXTRACTS
"^DD",727.824,727.824,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.824,727.824,.01,.1)
Sequence Number
"^DD",727.824,727.824,.01,1,0)
^.1^^0
"^DD",727.824,727.824,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.824,727.824,.01,21,0)
^^1^1^2961009^^^^
"^DD",727.824,727.824,.01,21,1,0)
The record number for this extract entry.
"^DD",727.824,727.824,.01,23,0)
^^1^1^2961009^^^
"^DD",727.824,727.824,.01,23,1,0)
The internal entry number (IEN) for this record. This entry is DINUMed.
"^DD",727.824,727.824,.01,"DT")
2980812
"^DD",727.824,727.824,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.824,727.824,1,.1)
Year/Month
"^DD",727.824,727.824,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.824,727.824,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.824,727.824,1,3)
Answer must be 6 characters in length.
"^DD",727.824,727.824,1,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,1,21,1,0)
A six character numeric string representing the year and the month
"^DD",727.824,727.824,1,21,2,0)
for which this extract was performed.
"^DD",727.824,727.824,1,23,0)
^^1^1^2970923^^^^
"^DD",727.824,727.824,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.824,727.824,1,"DT")
2970924
"^DD",727.824,727.824,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.824,727.824,2,.1)
Extract Number
"^DD",727.824,727.824,2,1,0)
^.1
"^DD",727.824,727.824,2,1,1,0)
727.824^AC
"^DD",727.824,727.824,2,1,1,1)
S ^ECX(727.824,"AC",$E(X,1,30),DA)=""
"^DD",727.824,727.824,2,1,1,2)
K ^ECX(727.824,"AC",$E(X,1,30),DA)
"^DD",727.824,727.824,2,1,1,3)
DO NOT DELETE.
"^DD",727.824,727.824,2,1,1,"%D",0)
^^2^2^2960808^
"^DD",727.824,727.824,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data
"^DD",727.824,727.824,2,1,1,"%D",2,0)
in this file.
"^DD",727.824,727.824,2,1,1,"DT")
2910802
"^DD",727.824,727.824,2,3)
Enter the extract number for this extract.
"^DD",727.824,727.824,2,21,0)
^^2^2^2961009^^^^
"^DD",727.824,727.824,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727) for this 
"^DD",727.824,727.824,2,21,2,0)
extract.
"^DD",727.824,727.824,2,23,0)
^^2^2^2961009^^^^
"^DD",727.824,727.824,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is to
"^DD",727.824,727.824,2,23,2,0)
pick up the header for the mail message.
"^DD",727.824,727.824,2,"DT")
2961009
"^DD",727.824,727.824,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.824,727.824,3,.1)
Facility
"^DD",727.824,727.824,3,3)
Enter the station number where this extract was performed.
"^DD",727.824,727.824,3,21,0)
^^1^1^2961009^^^^
"^DD",727.824,727.824,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.824,727.824,3,23,0)
^^4^4^2961009^^^
"^DD",727.824,727.824,3,23,1,0)
An indicator of the division where this event happened. Using the NAME 
"^DD",727.824,727.824,3,23,2,0)
field (.01) pointer from the DSS EXTRACTS file (#728), FACILITY is 
"^DD",727.824,727.824,3,23,3,0)
derived from the STATION NUMBER field (99) for that pointer number in 
"^DD",727.824,727.824,3,23,4,0)
the INSTITUTION file (#4).
"^DD",727.824,727.824,3,"DT")
2961018
"^DD",727.824,727.824,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.824,727.824,4,.1)
Patient No. - DFN
"^DD",727.824,727.824,4,3)
Enter the name of the patient for this extract record.
"^DD",727.824,727.824,4,21,0)
^^1^1^2990504^^^^
"^DD",727.824,727.824,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.824,727.824,4,23,0)
^^3^3^2990504^^^^
"^DD",727.824,727.824,4,23,1,0)
Pointer to the NAME field (.01) of the PATIENT file (#2). This data 
"^DD",727.824,727.824,4,23,2,0)
represents the patient DFN. PATIENT NO. - DFN data is derived from the
"^DD",727.824,727.824,4,23,3,0)
NAME field (.03) in the LAB DATA file.(#63)
"^DD",727.824,727.824,4,"DT")
2961018
"^DD",727.824,727.824,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.824,727.824,5,.1)
Social Security Number
"^DD",727.824,727.824,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.824,727.824,5,21,0)
^^4^4^2990504^^^^
"^DD",727.824,727.824,5,21,1,0)
The patient's social security number.
"^DD",727.824,727.824,5,21,2,0)
 
"^DD",727.824,727.824,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.824,727.824,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.824,727.824,5,23,0)
^^6^6^2990504^^
"^DD",727.824,727.824,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT No. - DFN field (4)
"^DD",727.824,727.824,5,23,2,0)
in the LAB RESULTS EXTRACT file (#727.824), SSN data is derived from the
"^DD",727.824,727.824,5,23,3,0)
SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.824,727.824,5,23,4,0)
 
"^DD",727.824,727.824,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.824,727.824,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.824,727.824,5,"DT")
2961009
"^DD",727.824,727.824,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.824,727.824,6,.1)
Name
"^DD",727.824,727.824,6,3)
Your answer must be 4 characters in length.
"^DD",727.824,727.824,6,21,0)
^^1^1^2961018^^^^
"^DD",727.824,727.824,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.824,727.824,6,23,0)
^^4^4^2961018^
"^DD",727.824,727.824,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT No. - DFN field (4)
"^DD",727.824,727.824,6,23,2,0)
in the LAB RESULTS EXTRACT file (#727.824), NAME data is derived from the
"^DD",727.824,727.824,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of
"^DD",727.824,727.824,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary.
"^DD",727.824,727.824,6,"DT")
2961009
"^DD",727.824,727.824,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.824,727.824,7,.1)
In Out Patient Indicator
"^DD",727.824,727.824,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.824,727.824,7,21,0)
^^2^2^2961009^^^^
"^DD",727.824,727.824,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for this 
"^DD",727.824,727.824,7,21,2,0)
extract entry.
"^DD",727.824,727.824,7,23,0)
^^4^4^2961009^^^
"^DD",727.824,727.824,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.824,727.824,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.824,727.824,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.824,727.824,7,23,4,0)
inpatient status.
"^DD",727.824,727.824,7,"DT")
2961009
"^DD",727.824,727.824,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.824,727.824,8,.1)
Day
"^DD",727.824,727.824,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,8,3)
Answer must be 8 characters in length.
"^DD",727.824,727.824,8,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,8,21,1,0)
An 8-character numeric string that represents the date on which
"^DD",727.824,727.824,8,21,2,0)
the Laboratory test result was ready for reporting.
"^DD",727.824,727.824,8,23,0)
^^12^12^2971113^^^^
"^DD",727.824,727.824,8,23,1,0)
Data source:
"^DD",727.824,727.824,8,23,2,0)
 
"^DD",727.824,727.824,8,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,8,23,4,0)
   
"^DD",727.824,727.824,8,23,5,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,8,23,6,0)
   DATE REPORT COMPLETED field (#.03)
"^DD",727.824,727.824,8,23,7,0)
 
"^DD",727.824,727.824,8,23,8,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.824,727.824,8,23,9,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.824,727.824,8,23,10,0)
then a default is used.  The default date value is the value of the 
"^DD",727.824,727.824,8,23,11,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.824,727.824,8,23,12,0)
Year 2000 compliant per vendor.
"^DD",727.824,727.824,8,"DT")
2970924
"^DD",727.824,727.824,9,0)
TEST CODE^RF^^0;10^K:$L(X)>4!($L(X)<4)!'(X?4N) X
"^DD",727.824,727.824,9,.1)
Test Code
"^DD",727.824,727.824,9,3)
Your answer must be 4 characters in length.
"^DD",727.824,727.824,9,21,0)
^^1^1^2990511^^^^
"^DD",727.824,727.824,9,21,1,0)
The coded value of the lab test as specified by the vendor.
"^DD",727.824,727.824,9,23,0)
^^4^4^2990511^^^^
"^DD",727.824,727.824,9,23,1,0)
The internal entry number of the test in the DSS LAB TEST multiple
"^DD",727.824,727.824,9,23,2,0)
field (#1), sub-file #727.21, of the DSS LAB TESTS file (#727.2).
"^DD",727.824,727.824,9,23,3,0)
The IEN is padded on the left with zeroes so that the data element
"^DD",727.824,727.824,9,23,4,0)
is always exactly 4 digits.
"^DD",727.824,727.824,9,"DT")
2961009
"^DD",727.824,727.824,10,0)
RESULTS^NJ10,4^^0;11^K:+X'=X!(X>10000)!(X<-10000)!(X?.E1"."5N.N) X
"^DD",727.824,727.824,10,.1)
Results
"^DD",727.824,727.824,10,3)
Enter a number between -10000 and 10000, 4 decimal digits.
"^DD",727.824,727.824,10,21,0)
^^1^1^2961009^^
"^DD",727.824,727.824,10,21,1,0)
The result of the lab test.
"^DD",727.824,727.824,10,23,0)
^^3^3^2961009^
"^DD",727.824,727.824,10,23,1,0)
Results of the test identified in the CHEM, HEM, TOX, RIA, SER, etc. 
"^DD",727.824,727.824,10,23,2,0)
multiple (4) within the LAB DATA file (#63). (First "^" piece of 
"^DD",727.824,727.824,10,23,3,0)
^LR(LRDFN,"CH",INVERSE_DATE,TEST_IEN).)
"^DD",727.824,727.824,10,"DT")
2961009
"^DD",727.824,727.824,12,0)
HI/LO INDICATOR^S^H:HIGH;L:LOW;^0;12^Q
"^DD",727.824,727.824,12,.1)
Hi/Lo Indicator
"^DD",727.824,727.824,12,3)
Enter H for high or L for low.
"^DD",727.824,727.824,12,21,0)
^^1^1^2961009^^
"^DD",727.824,727.824,12,21,1,0)
An indication of whether the results were abnormally high or low.
"^DD",727.824,727.824,12,23,0)
^^3^3^2961009^
"^DD",727.824,727.824,12,23,1,0)
Results indicator of the test identified in the CHEM, HEM, TOX, RIA, 
"^DD",727.824,727.824,12,23,2,0)
SER, etc. multiple (4) within the LAB DATA file (#63). (Second "^" 
"^DD",727.824,727.824,12,23,3,0)
piece of ^LR(LRDFN,"CH",INVERSE_DATE,TEST_IEN).)
"^DD",727.824,727.824,12,"DT")
2961009
"^DD",727.824,727.824,13,0)
DATE ORDERED^FO^^0;13^K:$L(X)>8!($L(X)<8) X
"^DD",727.824,727.824,13,.1)
Date Ordered
"^DD",727.824,727.824,13,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,13,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,13,3)
Answer must be 8 characters in length.
"^DD",727.824,727.824,13,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,13,21,1,0)
An 8-character numeric string that represents the date on which
"^DD",727.824,727.824,13,21,2,0)
the Laboratory test was ordered.
"^DD",727.824,727.824,13,23,0)
^^12^12^2971113^^^^
"^DD",727.824,727.824,13,23,1,0)
Data source:
"^DD",727.824,727.824,13,23,2,0)
 
"^DD",727.824,727.824,13,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,13,23,4,0)
   
"^DD",727.824,727.824,13,23,5,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,13,23,6,0)
   DATE/TIME SPECIMEN TAKEN field (#.01)
"^DD",727.824,727.824,13,23,7,0)
 
"^DD",727.824,727.824,13,23,8,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.824,727.824,13,23,9,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.824,727.824,13,23,10,0)
then a default is used.  The default date value is the value of the 
"^DD",727.824,727.824,13,23,11,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.824,727.824,13,23,12,0)
Year 2000 compliant per vendor.
"^DD",727.824,727.824,13,"DT")
2970924
"^DD",727.824,727.824,14,0)
TIME ORDERED^FO^^0;14^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.824,727.824,14,.1)
Time Ordered
"^DD",727.824,727.824,14,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.824,727.824,14,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.824,727.824,14,3)
Answer must be 6 characters in length
"^DD",727.824,727.824,14,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,14,21,1,0)
A 6-character numeric string that represents the time of day at which
"^DD",727.824,727.824,14,21,2,0)
the Laboratory test was ordered.
"^DD",727.824,727.824,14,23,0)
^^8^8^2970923^^^^
"^DD",727.824,727.824,14,23,1,0)
Data source:
"^DD",727.824,727.824,14,23,2,0)
 
"^DD",727.824,727.824,14,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,14,23,4,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,14,23,5,0)
   DATE/TIME SPECIMEN TAKEN field (#.01)
"^DD",727.824,727.824,14,23,6,0)
 
"^DD",727.824,727.824,14,23,7,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.824,727.824,14,23,8,0)
cannot be determined, then "000300" is used as default.
"^DD",727.824,727.824,14,"DT")
2970924
"^DD",727.824,727.824,15,0)
DATE RESULTS READY^FO^^0;15^K:$L(X)>8!($L(X)<8) X
"^DD",727.824,727.824,15,.1)
Date Results Ready
"^DD",727.824,727.824,15,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,15,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.824,727.824,15,3)
Answer must be 8 characters in length.
"^DD",727.824,727.824,15,21,0)
^^2^2^2970923^^^
"^DD",727.824,727.824,15,21,1,0)
An 8-character numeric string that represents the date on which
"^DD",727.824,727.824,15,21,2,0)
the Laboratory test result was ready for reporting.
"^DD",727.824,727.824,15,23,0)
^^12^12^2971113^^^^
"^DD",727.824,727.824,15,23,1,0)
Data source:
"^DD",727.824,727.824,15,23,2,0)
 
"^DD",727.824,727.824,15,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,15,23,4,0)
  
"^DD",727.824,727.824,15,23,5,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,15,23,6,0)
   DATE REPORT COMPLETED field (#.03)
"^DD",727.824,727.824,15,23,7,0)
 
"^DD",727.824,727.824,15,23,8,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.824,727.824,15,23,9,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.824,727.824,15,23,10,0)
then a default is used.  The default date value is the value of the 
"^DD",727.824,727.824,15,23,11,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.824,727.824,15,23,12,0)
Year 2000 compliant per vendor.
"^DD",727.824,727.824,15,"DT")
2970924
"^DD",727.824,727.824,16,0)
TIME RESULTS READY^RFO^^0;16^K:$L(X)>6!($L(X)<6) X
"^DD",727.824,727.824,16,.1)
Time Results Ready
"^DD",727.824,727.824,16,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.824,727.824,16,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.824,727.824,16,3)
Answer must be 6 characters in length.
"^DD",727.824,727.824,16,21,0)
^^2^2^2970923^^^^
"^DD",727.824,727.824,16,21,1,0)
A 6-character numeric string that represents the time of day at
"^DD",727.824,727.824,16,21,2,0)
which the Laboratory test result was ready for reporting.
"^DD",727.824,727.824,16,23,0)
^^9^9^2971113^^^^
"^DD",727.824,727.824,16,23,1,0)
Data source:
"^DD",727.824,727.824,16,23,2,0)
 
"^DD",727.824,727.824,16,23,3,0)
LAB DSS LAR EXTRACT file (#64.036); DATE RESULTS AVAIL field (#5)
"^DD",727.824,727.824,16,23,4,0)
   
"^DD",727.824,727.824,16,23,5,0)
LAB DATA file (#63); CHEM, HEM, TOX, RIA, SER, etc. sub-file (#63.04);
"^DD",727.824,727.824,16,23,6,0)
   DATE REPORT COMPLETED field (#.03)
"^DD",727.824,727.824,16,23,7,0)
 
"^DD",727.824,727.824,16,23,8,0)
This field is always exactly 6 numeric characters in length; if time
"^DD",727.824,727.824,16,23,9,0)
cannot be determined, then "000300" is used as default.
"^DD",727.824,727.824,16,"DT")
2970924
"^DD",727.824,727.824,17,0)
MOVEMENT FILE #^P405'^DGPM(^0;17^Q
"^DD",727.824,727.824,17,.1)
Movement File Number
"^DD",727.824,727.824,17,3)
Enter the patient movement number associated with this extract record.
"^DD",727.824,727.824,17,21,0)
^^1^1^2961009^
"^DD",727.824,727.824,17,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.824,727.824,17,23,0)
^^4^4^2961009^
"^DD",727.824,727.824,17,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.824,727.824,17,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.824,727.824,17,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.824,727.824,17,23,4,0)
(#405).
"^DD",727.824,727.824,17,"DT")
2961009
"^DD",727.824,727.824,18,0)
TREATING SPECIALTY^P42.4'^DIC(42.4,^0;18^Q
"^DD",727.824,727.824,18,.1)
Treating Specialty
"^DD",727.824,727.824,18,3)
Enter the name of the treating specialty associated with this extract record.
"^DD",727.824,727.824,18,21,0)
^^1^1^2961009^
"^DD",727.824,727.824,18,21,1,0)
The name of the treating specialty associated with this extract record.
"^DD",727.824,727.824,18,23,0)
^^6^6^2961009^
"^DD",727.824,727.824,18,23,1,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.824,727.824,18,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.824,727.824,18,23,3,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.824,727.824,18,23,4,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.824,727.824,18,23,5,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.824,727.824,18,23,6,0)
SPECIALTY file (#42.4).
"^DD",727.824,727.824,18,"DT")
2961009
"^DD",727.824,727.824,19,0)
WORKLOAD CODE^F^^0;19^K:$L(X)>10!($L(X)<1) X
"^DD",727.824,727.824,19,.1)
Workload Code
"^DD",727.824,727.824,19,3)
Enter the workload code for this event.
"^DD",727.824,727.824,19,21,0)
^^1^1^2990511^^^^
"^DD",727.824,727.824,19,21,1,0)
The workload code for this event which corresponds to a CAP code.
"^DD",727.824,727.824,19,23,0)
^^4^4^2990511^^^^
"^DD",727.824,727.824,19,23,1,0)
WKLD CODE field (1) of the WKLD CODE file (#64) as pointed to by the 
"^DD",727.824,727.824,19,23,2,0)
NATIONAL VA LAB CODE field (64) of the LABORATORY TEST file (#60) as
"^DD",727.824,727.824,19,23,3,0)
pointed to by the LOCAL LAB TEST NAME field (1) multiple within the DSS
"^DD",727.824,727.824,19,23,4,0)
LAB TEST field (1) multiple of the DSS LAB TESTS file (#727.2).
"^DD",727.824,727.824,19,"DT")
2961018
"^DD",727.824,727.824,20,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.824,727.824,20,3)
Answer must be 1-10 characters in length.
"^DD",727.824,727.824,20,21,0)
^^1^1^2990504^
"^DD",727.824,727.824,20,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.824,727.824,20,23,0)
^^2^2^2990504^
"^DD",727.824,727.824,20,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.824,727.824,20,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.824,727.824,20,"DT")
2990504
"^DD",727.824,727.824,21,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.824,727.824,21,3)
Answer must be 4-10 characters in length.
"^DD",727.824,727.824,21,21,0)
^^1^1^2990506^^^
"^DD",727.824,727.824,21,21,1,0)
The DSS Department Code for the Laboratory product.
"^DD",727.824,727.824,21,23,0)
^^2^2^2990506^^
"^DD",727.824,727.824,21,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.824,727.824,21,23,2,0)
Field is set to null.
"^DD",727.824,727.824,21,"DT")
2990506
"^DD",727.825,727.825,0)
FIELD^^49^44
"^DD",727.825,727.825,0,"DDA")
N
"^DD",727.825,727.825,0,"DIK")
ECX825
"^DD",727.825,727.825,0,"DIKOLD")
ECX825
"^DD",727.825,727.825,0,"DT")
2990806
"^DD",727.825,727.825,0,"IX","AC",727.825,2)

"^DD",727.825,727.825,0,"NM","QUASAR EXTRACT")

"^DD",727.825,727.825,0,"VRPK")
DSS EXTRACTS
"^DD",727.825,727.825,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.825,727.825,.01,.1)
Sequence Number
"^DD",727.825,727.825,.01,1,0)
^.1^^0
"^DD",727.825,727.825,.01,3)
Enter a number between 1 and 999999999, 0 decimal digits.
"^DD",727.825,727.825,.01,21,0)
^^1^1^2960701^^^^
"^DD",727.825,727.825,.01,21,1,0)
The record number for this extract entry.
"^DD",727.825,727.825,.01,23,0)
^^1^1^2960701^^^^
"^DD",727.825,727.825,.01,23,1,0)
The internal entry number (IEN) for this record.  This entry is DINUMed.
"^DD",727.825,727.825,.01,"DT")
2980812
"^DD",727.825,727.825,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.825,727.825,1,.1)
Year/Month
"^DD",727.825,727.825,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.825,727.825,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.825,727.825,1,3)
Answer must be 6 characters in length.
"^DD",727.825,727.825,1,21,0)
^^2^2^2970912^^^^
"^DD",727.825,727.825,1,21,1,0)
A six character string representing the year and the month
"^DD",727.825,727.825,1,21,2,0)
for which this extract was performed.
"^DD",727.825,727.825,1,23,0)
^^1^1^2970912^^^^
"^DD",727.825,727.825,1,23,1,0)
Format is YYYYMM; Year 2000 compliant per vendor.
"^DD",727.825,727.825,1,"DT")
2970924
"^DD",727.825,727.825,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.825,727.825,2,.1)
Extract Number
"^DD",727.825,727.825,2,1,0)
^.1
"^DD",727.825,727.825,2,1,1,0)
727.825^AC
"^DD",727.825,727.825,2,1,1,1)
S ^ECX(727.825,"AC",$E(X,1,30),DA)=""
"^DD",727.825,727.825,2,1,1,2)
K ^ECX(727.825,"AC",$E(X,1,30),DA)
"^DD",727.825,727.825,2,1,1,3)
DO NOT DELETE.
"^DD",727.825,727.825,2,1,1,"%D",0)
^^2^2^2960808^^
"^DD",727.825,727.825,2,1,1,"%D",1,0)
This cross reference is essential for managing and purging data in
"^DD",727.825,727.825,2,1,1,"%D",2,0)
this file.
"^DD",727.825,727.825,2,1,1,"DT")
2910802
"^DD",727.825,727.825,2,3)
Enter the extract number for this extract.
"^DD",727.825,727.825,2,21,0)
^^2^2^2960807^^^^
"^DD",727.825,727.825,2,21,1,0)
The corresponding entry in the DSS EXTRACT LOG file (#727)
"^DD",727.825,727.825,2,21,2,0)
for this extract.
"^DD",727.825,727.825,2,23,0)
^^2^2^2960807^^^^
"^DD",727.825,727.825,2,23,1,0)
A pointer to the DSS EXTRACT LOG file (#727). The primary purpose is
"^DD",727.825,727.825,2,23,2,0)
to pick up the header for the mail message.
"^DD",727.825,727.825,2,"DT")
2960621
"^DD",727.825,727.825,3,0)
FACILITY^F^^0;4^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,3,.1)
Facility
"^DD",727.825,727.825,3,3)
Enter the station number where this extract was performed.
"^DD",727.825,727.825,3,21,0)
1^^1^1^2961007^^^^
"^DD",727.825,727.825,3,21,1,0)
Identifies the facility for this extract record.
"^DD",727.825,727.825,3,23,0)
^^3^3^2961007^^^^
"^DD",727.825,727.825,3,23,1,0)
A free text field that represents the facility NAME (.01) from the
"^DD",727.825,727.825,3,23,2,0)
INSTITUTION file (#4). It is derived from the SITE NAME field
"^DD",727.825,727.825,3,23,3,0)
(.01) in the A&SP SITE PARAMETER file (#509850.8).
"^DD",727.825,727.825,3,"DT")
2960701
"^DD",727.825,727.825,4,0)
PATIENT NO. - DFN^P2'^DPT(^0;5^Q
"^DD",727.825,727.825,4,.1)
Patient No. - DFN
"^DD",727.825,727.825,4,3)
Enter the name of the patient for this extract record.
"^DD",727.825,727.825,4,21,0)
1^^1^1^2990504^^^^
"^DD",727.825,727.825,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.825,727.825,4,23,0)
^^4^4^2990504^^^^
"^DD",727.825,727.825,4,23,1,0)
This pointer is derived from the PATIENT NAME field (1) in the A&SP
"^DD",727.825,727.825,4,23,2,0)
CLINIC VISIT file (#509850.6), which points to the A&SP PATIENT
"^DD",727.825,727.825,4,23,3,0)
file (#509850.2).  This file, in turn is a DINEMed pointer to the
"^DD",727.825,727.825,4,23,4,0)
PATIENT file (#2).
"^DD",727.825,727.825,4,"DT")
2961016
"^DD",727.825,727.825,5,0)
SSN^F^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.825,727.825,5,.1)
Social Security Number
"^DD",727.825,727.825,5,3)
Your answer must be 9 to 10 characters in length.
"^DD",727.825,727.825,5,21,0)
^^4^4^2990504^^^^
"^DD",727.825,727.825,5,21,1,0)
The patient's social security number.
"^DD",727.825,727.825,5,21,2,0)
 
"^DD",727.825,727.825,5,21,3,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.825,727.825,5,21,4,0)
patient" and will not be included in the extract.  
"^DD",727.825,727.825,5,23,0)
^^6^6^2990504^^^^
"^DD",727.825,727.825,5,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN 
"^DD",727.825,727.825,5,23,2,0)
field (4) in the QUASAR EXTRACT file (#727.825), SSN data is derived 
"^DD",727.825,727.825,5,23,3,0)
from the SOCIAL SECURITY NUMBER field (.09) in the PATIENT file (#2).
"^DD",727.825,727.825,5,23,4,0)
 
"^DD",727.825,727.825,5,23,5,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.825,727.825,5,23,6,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.825,727.825,5,"DT")
2960621
"^DD",727.825,727.825,6,0)
NAME^F^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.825,727.825,6,.1)
Name
"^DD",727.825,727.825,6,3)
Your answer must be 4 characters in length.
"^DD",727.825,727.825,6,21,0)
^^1^1^2961023^^^^
"^DD",727.825,727.825,6,21,1,0)
The first four characters of the patient's last name.
"^DD",727.825,727.825,6,23,0)
^^4^4^2961023^^^^
"^DD",727.825,727.825,6,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.825,727.825,6,23,2,0)
(4) in the QUASAR EXTRACT file (#727.825), NAME data is derived from the 
"^DD",727.825,727.825,6,23,3,0)
NAME field (.01) in the PATIENT file (#2). The first four characters of 
"^DD",727.825,727.825,6,23,4,0)
the first "," piece are used, padded with trailing spaces if necessary. 
"^DD",727.825,727.825,6,"DT")
2960621
"^DD",727.825,727.825,7,0)
IN OUT PATIENT INDICATOR^P40.9'^DIC(40.9,^0;8^Q
"^DD",727.825,727.825,7,.1)
In Out Patient Indicator
"^DD",727.825,727.825,7,3)
Enter the appropriate inpatient or outpatient indicator.
"^DD",727.825,727.825,7,21,0)
^^2^2^2960814^^^^
"^DD",727.825,727.825,7,21,1,0)
Indicates whether this patient was an inpatient or an outpatient
"^DD",727.825,727.825,7,21,2,0)
for this extract entry.
"^DD",727.825,727.825,7,23,0)
^^4^4^2960814^^^^
"^DD",727.825,727.825,7,23,1,0)
This field is initialized to a 1, indicating an outpatient status. If 
"^DD",727.825,727.825,7,23,2,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.825,727.825,7,23,3,0)
patient movement number, then the field is reset to a 3 indicating 
"^DD",727.825,727.825,7,23,4,0)
inpatient status.
"^DD",727.825,727.825,7,"DT")
2960807
"^DD",727.825,727.825,8,0)
DAY^FO^^0;9^K:$L(X)>8!($L(X)<8) X
"^DD",727.825,727.825,8,.1)
Day
"^DD",727.825,727.825,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.825,727.825,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.825,727.825,8,3)
Answer must be 8 characters in length.
"^DD",727.825,727.825,8,21,0)
^^2^2^2970912^^^^
"^DD",727.825,727.825,8,21,1,0)
This 8-character string represents the date on which the extract was 
"^DD",727.825,727.825,8,21,2,0)
performed.
"^DD",727.825,727.825,8,23,0)
^^9^9^2970923^^^^
"^DD",727.825,727.825,8,23,1,0)
Data source:
"^DD",727.825,727.825,8,23,2,0)
 
"^DD",727.825,727.825,8,23,3,0)
A&SP CLINIC VISIT file (#509850.6); DATE field (#.01)
"^DD",727.825,727.825,8,23,4,0)
 
"^DD",727.825,727.825,8,23,5,0)
This field is always exactly 8 numeric characters in length.  The format
"^DD",727.825,727.825,8,23,6,0)
is YYYYMMDD; for example, 19970923.  If the date cannot be determined, 
"^DD",727.825,727.825,8,23,7,0)
then a default is used.  The default date value is the value of the 
"^DD",727.825,727.825,8,23,8,0)
YEAR MONTH field (#1) concatenated with "01" for the day (DD) portion.
"^DD",727.825,727.825,8,23,9,0)
Year 2000 compliant per vendor.
"^DD",727.825,727.825,8,"DT")
2970924
"^DD",727.825,727.825,9,0)
DSS UNIT^P724'^ECD(^0;10^Q
"^DD",727.825,727.825,9,.1)
DSS Unit
"^DD",727.825,727.825,9,3)
Enter the name of the DSS unit for this extract record.
"^DD",727.825,727.825,9,21,0)
^^1^1^2960807^^^^
"^DD",727.825,727.825,9,21,1,0)
This is the name of the DSS unit for this extract record.
"^DD",727.825,727.825,9,23,0)
^^4^4^2960807^^^^
"^DD",727.825,727.825,9,23,1,0)
A pointer to the DSS UNIT file (#724). The DSS unit pointer is derived 
"^DD",727.825,727.825,9,23,2,0)
from the AUDIOLOGY DSS UNIT LINK field (727.8251) or from the SPEECH 
"^DD",727.825,727.825,9,23,3,0)
PATHOLOGY DSS UNIT LINK field (727.8252) in the A&SP SITE PARAMETER file 
"^DD",727.825,727.825,9,23,4,0)
(#509850.8).
"^DD",727.825,727.825,9,"DT")
2960621
"^DD",727.825,727.825,10,0)
CATEGORY^F^^0;11^K:$L(X)>6!($L(X)<1) X
"^DD",727.825,727.825,10,.1)
Category
"^DD",727.825,727.825,10,3)
Enter the category for this extract record.
"^DD",727.825,727.825,10,21,0)
1^^2^2^2961023^^^^
"^DD",727.825,727.825,10,21,1,0)
This field contains the name of the category selected for this 
"^DD",727.825,727.825,10,21,2,0)
extract record.
"^DD",727.825,727.825,10,23,0)
^^1^1^2961023^^^^
"^DD",727.825,727.825,10,23,1,0)
For the QUASAR extract, the CATEGORY field is null.
"^DD",727.825,727.825,10,"DT")
2961016
"^DD",727.825,727.825,11,0)
PROCEDURE^F^^0;12^K:$L(X)>8!($L(X)<5) X
"^DD",727.825,727.825,11,.1)
Procedure
"^DD",727.825,727.825,11,3)
Answer must be 5-8 characters in length.
"^DD",727.825,727.825,11,21,0)
1^^2^2^2980706^^^^
"^DD",727.825,727.825,11,21,1,0)
This field contains the CPT code of the procedure selected for
"^DD",727.825,727.825,11,21,2,0)
this extract record.
"^DD",727.825,727.825,11,23,0)
^^3^3^2980706^^^^
"^DD",727.825,727.825,11,23,1,0)
The procedure pointer is derived from the PROCEDURE CODE field (10)
"^DD",727.825,727.825,11,23,2,0)
in the A&SP CLINIC VISIT file (#509850.6). It is the CPT code for
"^DD",727.825,727.825,11,23,3,0)
procedures from the CPT file (#81).
"^DD",727.825,727.825,11,"DT")
2990609
"^DD",727.825,727.825,12,0)
VOLUME^NJ4,0^^0;13^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.825,727.825,12,.1)
Volume
"^DD",727.825,727.825,12,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",727.825,727.825,12,21,0)
^^1^1^2960701^^^^
"^DD",727.825,727.825,12,21,1,0)
This field tracks the volume of this specific procedure performed.
"^DD",727.825,727.825,12,23,0)
^^1^1^2960701^^^^
"^DD",727.825,727.825,12,23,1,0)
Numeric volume for this procedure associated with this extract record.
"^DD",727.825,727.825,12,"DT")
2990729
"^DD",727.825,727.825,13,0)
COST CENTER^F^^0;14^K:$L(X)>8!($L(X)<6) X
"^DD",727.825,727.825,13,.1)
Cost Center
"^DD",727.825,727.825,13,3)
Enter the cost center associated with this extract record.
"^DD",727.825,727.825,13,21,0)
^^1^1^2960807^^^^
"^DD",727.825,727.825,13,21,1,0)
This is the cost center associated with this extract record.
"^DD",727.825,727.825,13,23,0)
^^4^4^2960807^^^^
"^DD",727.825,727.825,13,23,1,0)
Cost center is derived from the COST CENTER field (3) in the DSS UNIT 
"^DD",727.825,727.825,13,23,2,0)
file (#724). The DSS unit pointer is derived from the AUDIOLOGY DSS UNIT 
"^DD",727.825,727.825,13,23,3,0)
LINK field (727.8251) or from the SPEECH PATHOLOGY DSS UNIT LINK field 
"^DD",727.825,727.825,13,23,4,0)
(727.8252) in the A&SP SITE PARAMETER file (#509850.8).
"^DD",727.825,727.825,13,"DT")
2960701
"^DD",727.825,727.825,14,0)
ORDERING SECTION^F^^0;15^K:$L(X)>3!($L(X)<1) X
"^DD",727.825,727.825,14,.1)
Ordering Section
"^DD",727.825,727.825,14,3)
Answer must be 1-3 characters in length.
"^DD",727.825,727.825,14,21,0)
^^2^2^2970912^^^^
"^DD",727.825,727.825,14,21,1,0)
This is the IEN in file #723 of the Ordering Section associated with
"^DD",727.825,727.825,14,21,2,0)
this extract record.
"^DD",727.825,727.825,14,23,0)
^^6^6^2970912^^^^
"^DD",727.825,727.825,14,23,1,0)
This character string represents the IEN of the Ordering Section
"^DD",727.825,727.825,14,23,2,0)
in the MEDICAL SPECIALTY file (#723).  The Ordering Section
"^DD",727.825,727.825,14,23,3,0)
comes from the MEDICAL SPECIALTY field (#2) in the DSS UNIT file (#724). 
"^DD",727.825,727.825,14,23,4,0)
The DSS unit pointer is derived from the AUDIOLOGY DSS UNIT LINK field 
"^DD",727.825,727.825,14,23,5,0)
(#727.8251) or from the SPEECH PATHOLOGY DSS UNIT LINK field (#727.8252) 
"^DD",727.825,727.825,14,23,6,0)
in the A&SP SITE PARAMETER file (#509850.8).
"^DD",727.825,727.825,14,"DT")
2990517
"^DD",727.825,727.825,15,0)
SECTION^F^^0;16^K:$L(X)>3!($L(X)<1) X
"^DD",727.825,727.825,15,.1)
Section
"^DD",727.825,727.825,15,3)
Answer must be 1-3 characters in length.
"^DD",727.825,727.825,15,21,0)
^^2^2^2970912^^^^
"^DD",727.825,727.825,15,21,1,0)
This is the IEN in file #723 of the Medical Specialty of the DSS Unit
"^DD",727.825,727.825,15,21,2,0)
associated with this extract record.
"^DD",727.825,727.825,15,23,0)
^^6^6^2970912^^^^
"^DD",727.825,727.825,15,23,1,0)
This character string represents an IEN in the MEDICAL SPECIALTY
"^DD",727.825,727.825,15,23,2,0)
file (#723).  This data element is derived from the MEDICAL
"^DD",727.825,727.825,15,23,3,0)
SPECIALTY field (#2) in the DSS UNIT file (#724). The DSS unit 
"^DD",727.825,727.825,15,23,4,0)
pointer is derived from the AUDIOLOGY DSS UNIT LINK field (#727.8251) 
"^DD",727.825,727.825,15,23,5,0)
or from the SPEECH PATHOLOGY DSS UNIT LINK field (#727.8252) in the  
"^DD",727.825,727.825,15,23,6,0)
A&SP SITE PARAMETER file (#509850.8).
"^DD",727.825,727.825,15,"DT")
2990517
"^DD",727.825,727.825,16,0)
PROVIDER^F^^0;17^K:$L(X)>11!($L(X)<2) X
"^DD",727.825,727.825,16,.1)
Provider
"^DD",727.825,727.825,16,3)
Answer must be 2-11 characters in length.
"^DD",727.825,727.825,16,21,0)
^^4^4^2980608^^^^
"^DD",727.825,727.825,16,21,1,0)
This character string is an IEN for the NEW PERSON file (#200);
"^DD",727.825,727.825,16,21,2,0)
a '2' has been appended to the beginning of the character string.
"^DD",727.825,727.825,16,21,3,0)
It represents the Provider who performed the procedure associated
"^DD",727.825,727.825,16,21,4,0)
with the A&SP Clinic Visit record.
"^DD",727.825,727.825,16,23,0)
^^4^4^2980608^^^^
"^DD",727.825,727.825,16,23,1,0)
A character string of format "2"_IEN, where IEN is the internal 
"^DD",727.825,727.825,16,23,2,0)
entry number for the Provider in the NEW PERSON file (#200).  Data is
"^DD",727.825,727.825,16,23,3,0)
derived from LEAD ROLE field (#.27) in the A&SP CLINIC VISIT file
"^DD",727.825,727.825,16,23,4,0)
(#509850.6).
"^DD",727.825,727.825,16,"DT")
2990517
"^DD",727.825,727.825,18,0)
PROVIDER #2^F^^0;19^K:$L(X)>11!($L(X)<2) X
"^DD",727.825,727.825,18,.1)
Provider #2
"^DD",727.825,727.825,18,3)
Answer must be 2-11 characters in length.
"^DD",727.825,727.825,18,21,0)
^^1^1^2980608^^^^
"^DD",727.825,727.825,18,21,1,0)
The Provider #2 field is not used for the QUASAR extract.
"^DD",727.825,727.825,18,23,0)
^^1^1^2980608^^^^
"^DD",727.825,727.825,18,23,1,0)
For the QUASAR extract, the PROVIDER #2 field is null.
"^DD",727.825,727.825,18,"DT")
2990517
"^DD",727.825,727.825,20,0)
PROVIDER #3^F^^0;21^K:$L(X)>11!($L(X)<2) X
"^DD",727.825,727.825,20,.1)
Provider #3
"^DD",727.825,727.825,20,3)
Answer must be 2-11 characters in length.
"^DD",727.825,727.825,20,21,0)
1^^1^1^2980608^^^^
"^DD",727.825,727.825,20,21,1,0)
The Provider #3 field is not used for the QUASAR extract.
"^DD",727.825,727.825,20,23,0)
^^1^1^2980608^^^^
"^DD",727.825,727.825,20,23,1,0)
For the QUASAR extract, the PROVIDER #3 field is null.
"^DD",727.825,727.825,20,"DT")
2990517
"^DD",727.825,727.825,24,0)
MOVEMENT FILE #^P405'^DGPM(^0;24^Q
"^DD",727.825,727.825,24,.1)
Movement File Number
"^DD",727.825,727.825,24,3)
Enter the patient movement number associated with this extract record.
"^DD",727.825,727.825,24,21,0)
^^1^1^2960814^^^^
"^DD",727.825,727.825,24,21,1,0)
Current patient movement record associated with this extract record.
"^DD",727.825,727.825,24,23,0)
^^4^4^2960814^^^^
"^DD",727.825,727.825,24,23,1,0)
A call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.825,727.825,24,23,2,0)
patient movement number (indicating inpatient status). This field is set 
"^DD",727.825,727.825,24,23,3,0)
to the value of VAIP(1), which is a pointer to the PATIENT MOVEMENT file 
"^DD",727.825,727.825,24,23,4,0)
(#405).
"^DD",727.825,727.825,24,"DT")
2960701
"^DD",727.825,727.825,25,0)
TREATING SPECIALTY^F^^0;25^K:$L(X)>6!($L(X)<1) X
"^DD",727.825,727.825,25,.1)
Treating Specialty
"^DD",727.825,727.825,25,3)
Answer must be 1-6 characters in length.
"^DD",727.825,727.825,25,21,0)
^^3^3^2970912^^^^
"^DD",727.825,727.825,25,21,1,0)
The IEN in file #42.4 of the Specialty associated with the patient
"^DD",727.825,727.825,25,21,2,0)
on the date of the Event Capture procedure.  Only applicable
"^DD",727.825,727.825,25,21,3,0)
if the patient was an inpatient on the date of the procedure.
"^DD",727.825,727.825,25,23,0)
^^8^8^2970912^^^^
"^DD",727.825,727.825,25,23,1,0)
A character string which represents an IEN in the SPECIALTY file (#42.4).
"^DD",727.825,727.825,25,23,2,0)
 
"^DD",727.825,727.825,25,23,3,0)
This field is initialized to a null, indicating an outpatient status. If 
"^DD",727.825,727.825,25,23,4,0)
a call to IN5^VADPT (using the patient IEN and the event date) returns a 
"^DD",727.825,727.825,25,23,5,0)
patient movement number (indicating inpatient status), then the value of 
"^DD",727.825,727.825,25,23,6,0)
VAIP(8), which is the pointer to the FACILITY TREATING SPECIALTY file 
"^DD",727.825,727.825,25,23,7,0)
(#45.7), is used to get the SPECIALTY field (1) which points to the 
"^DD",727.825,727.825,25,23,8,0)
SPECIALTY file (#42.4).
"^DD",727.825,727.825,25,"DT")
2970911
"^DD",727.825,727.825,26,0)
TIME^FO^^0;26^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.825,727.825,26,.1)
Time
"^DD",727.825,727.825,26,2)
S Y(0)=Y S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.825,727.825,26,2.1)
S Y=$$ECXTIMEX^ECXUTL(Y,1)
"^DD",727.825,727.825,26,3)
Answer must be 6 characters in length.
"^DD",727.825,727.825,26,21,0)
^^2^2^2970912^^^^
"^DD",727.825,727.825,26,21,1,0)
The time when the procedure associated with this extract record 
"^DD",727.825,727.825,26,21,2,0)
was performed.
"^DD",727.825,727.825,26,23,0)
^^4^4^2970923^^^^
"^DD",727.825,727.825,26,23,1,0)
A six-character string of format HHMMSS which represents the time
"^DD",727.825,727.825,26,23,2,0)
(military time) when the procedure was performed.
"^DD",727.825,727.825,26,23,3,0)
 
"^DD",727.825,727.825,26,23,4,0)
A default of "000000" will be used in this field.
"^DD",727.825,727.825,26,"DT")
2970924
"^DD",727.825,727.825,27,0)
PRIMARY CARE TEAM^F^^0;27^K:$L(X)>4!($L(X)<1) X
"^DD",727.825,727.825,27,.1)
Primary Care Team
"^DD",727.825,727.825,27,3)
Enter primary care team assigned to this patient.
"^DD",727.825,727.825,27,21,0)
^^1^1^2961105^^
"^DD",727.825,727.825,27,21,1,0)
The primary care team assigned to this patient.
"^DD",727.825,727.825,27,23,0)
^^6^6^2961105^
"^DD",727.825,727.825,27,23,1,0)
Using the DATE field (.01) from the A&SP CLINIC VISIT file (#509850.6) 
"^DD",727.825,727.825,27,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.825,727.825,27,23,3,0)
in the QUASAR EXTRACT file (#727.825), a call is made to the Scheduling 
"^DD",727.825,727.825,27,23,4,0)
API, OUTPTTM^SDUTL3. The API returns the team's internal entry number 
"^DD",727.825,727.825,27,23,5,0)
and name from the TEAM file (#404.51). Only the pointer (IEN) to File 
"^DD",727.825,727.825,27,23,6,0)
404.51 is transmitted.
"^DD",727.825,727.825,27,"DT")
2961105
"^DD",727.825,727.825,28,0)
PRIMARY CARE PROVIDER^F^^0;28^K:$L(X)>11!($L(X)<1) X
"^DD",727.825,727.825,28,.1)
Primary Care Provider
"^DD",727.825,727.825,28,3)
Enter primary care provider assigned to this patient.
"^DD",727.825,727.825,28,21,0)
^^1^1^2980708^^^^
"^DD",727.825,727.825,28,21,1,0)
The primary care provider assigned to this patient.
"^DD",727.825,727.825,28,23,0)
^^8^8^2980708^^^
"^DD",727.825,727.825,28,23,1,0)
Using the DATE field (.01) from the A&SP CLINIC VISIT file (#509850.6) 
"^DD",727.825,727.825,28,23,2,0)
and the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4) 
"^DD",727.825,727.825,28,23,3,0)
in the QUASAR EXTRACT file (#727.825), a call is made to the Scheduling 
"^DD",727.825,727.825,28,23,4,0)
API, OUTPTPR^SDUTL3. The API returns the provider's internal entry 
"^DD",727.825,727.825,28,23,5,0)
number and name from the NEW PERSON file (#200). 
"^DD",727.825,727.825,28,23,6,0)
 
"^DD",727.825,727.825,28,23,7,0)
A "2" is prefixed to the pointer value to indicate that the source file
"^DD",727.825,727.825,28,23,8,0)
is "200".
"^DD",727.825,727.825,28,"DT")
2961016
"^DD",727.825,727.825,29,0)
PCE CPT CODE & MODIFIERS^FO^^0;29^K:$L(X)>15!($L(X)<5) X
"^DD",727.825,727.825,29,.1)

"^DD",727.825,727.825,29,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.825,727.825,29,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.825,727.825,29,3)
Answer must be 5-15 characters in length.
"^DD",727.825,727.825,29,21,0)
^^5^5^2990504^^^^
"^DD",727.825,727.825,29,21,1,0)
This field contains the CPT code of the procedure selected for this 
"^DD",727.825,727.825,29,21,2,0)
extract record.
"^DD",727.825,727.825,29,21,3,0)
 
"^DD",727.825,727.825,29,21,4,0)
The 5 character CPT Code is followed by upto five (5) 2-character CPT
"^DD",727.825,727.825,29,21,5,0)
code modifiers.
"^DD",727.825,727.825,29,23,0)
^^7^7^2990504^^^^
"^DD",727.825,727.825,29,23,1,0)
The procedure pointer is derived from the PROCEDURE CODE field (10) 
"^DD",727.825,727.825,29,23,2,0)
in the A&SP CLINIC VISIT file (#509850.6). It is the CPT code for 
"^DD",727.825,727.825,29,23,3,0)
procedures from the CPT file (#81).
"^DD",727.825,727.825,29,23,4,0)
 
"^DD",727.825,727.825,29,23,5,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the CPT
"^DD",727.825,727.825,29,23,6,0)
MODIFIER file (#81.3).  It is not known at this time where the QUASAR
"^DD",727.825,727.825,29,23,7,0)
package will store those modifiers.
"^DD",727.825,727.825,29,"DT")
2990614
"^DD",727.825,727.825,30,0)
ICD-9 CODE^F^^0;30^K:$L(X)>7!($L(X)<1) X
"^DD",727.825,727.825,30,.1)
ICD-9 Code
"^DD",727.825,727.825,30,3)
Enter ICD-9 code for this record.
"^DD",727.825,727.825,30,21,0)
^^1^1^2961105^^^
"^DD",727.825,727.825,30,21,1,0)
This field contains the ICD9 diagnostic code for this extract record.
"^DD",727.825,727.825,30,23,0)
^^7^7^2961105^^^
"^DD",727.825,727.825,30,23,1,0)
The diagnostic code pointer is derived from the first entry in the 
"^DD",727.825,727.825,30,23,2,0)
DIAGNOSTIC CODE field (3) in the A&SP CLINIC VISIT file (#509850.6). It 
"^DD",727.825,727.825,30,23,3,0)
is a pointer to the A&SP DIAGNOSTIC CONDITION file (#509850.1) which is 
"^DD",727.825,727.825,30,23,4,0)
a DINUMed pointer to the ICD DIAGNOSIS file (#80). The first code 
"^DD",727.825,727.825,30,23,5,0)
entered is always assumed to be the primary complaint. Subsequent codes 
"^DD",727.825,727.825,30,23,6,0)
are assumed to be secondary complaints. Using the pointer, ICD-9 CODE is 
"^DD",727.825,727.825,30,23,7,0)
derived from the ICD DIAGNOSIS file (#80).
"^DD",727.825,727.825,30,"DT")
2961105
"^DD",727.825,727.825,31,0)
AGENT ORANGE^S^Y:YES;N:NO;U:UNKNOWN;^0;31^Q
"^DD",727.825,727.825,31,.1)
Agent Orange
"^DD",727.825,727.825,31,3)
Select the appropriate agent orange status for this patient.
"^DD",727.825,727.825,31,21,0)
^^2^2^2961023^^^
"^DD",727.825,727.825,31,21,1,0)
Data is Y if this patient was exposed to agent orange, N if not, 
"^DD",727.825,727.825,31,21,2,0)
or U if unknown.
"^DD",727.825,727.825,31,23,0)
^^4^4^2961023^^
"^DD",727.825,727.825,31,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.825,727.825,31,23,2,0)
(4) in the QUASAR EXTRACT file (#727.825), AGENT ORANGE data is derived 
"^DD",727.825,727.825,31,23,3,0)
from the AGENT ORANGE EXPOS. INDICATED? field (.32102) in the PATIENT 
"^DD",727.825,727.825,31,23,4,0)
file (#2).
"^DD",727.825,727.825,31,"DT")
2961017
"^DD",727.825,727.825,32,0)
RADIATION EXPOSURE^S^Y:YES;N:NO;U:UNKNOWN;^0;32^Q
"^DD",727.825,727.825,32,.1)
Radiation Exposure
"^DD",727.825,727.825,32,3)
Select the appropriate radiation status for this patient.
"^DD",727.825,727.825,32,21,0)
^^2^2^2961023^^^
"^DD",727.825,727.825,32,21,1,0)
Data is Y if this patient claims exposure to ionizing radiation, N if 
"^DD",727.825,727.825,32,21,2,0)
not, or U if unknown.
"^DD",727.825,727.825,32,23,0)
^^3^3^2961023^^
"^DD",727.825,727.825,32,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.825,727.825,32,23,2,0)
in the QUASAR EXTRACT file (#727.825), RADIATION data is derived from the
"^DD",727.825,727.825,32,23,3,0)
RADIATION EXPOSURE INDICATED? field (.32103) in the PATIENT file (#2).
"^DD",727.825,727.825,32,"DT")
2961017
"^DD",727.825,727.825,33,0)
ENVIRONMENTAL CONTAMINANTS^S^Y:YES;N:NO;U:UNKNOWN;^0;33^Q
"^DD",727.825,727.825,33,.1)
Environmental Contaminants
"^DD",727.825,727.825,33,3)
Select the appropriate environmental contaminants status for this patient.
"^DD",727.825,727.825,33,21,0)
^^2^2^2961023^^^
"^DD",727.825,727.825,33,21,1,0)
Data is Y if this patient claims exposure to environmental contaminants, 
"^DD",727.825,727.825,33,21,2,0)
N if not, or U if unknown.
"^DD",727.825,727.825,33,23,0)
^^4^4^2961023^^
"^DD",727.825,727.825,33,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.825,727.825,33,23,2,0)
in the QUASAR EXTRACT file (#727.825), ENVIRONMENTAL CONTAMINANTS data is
"^DD",727.825,727.825,33,23,3,0)
derived from the ENVIRONMENTAL CONTAMINANTS? field (.322013) in the
"^DD",727.825,727.825,33,23,4,0)
PATIENT file (#2).
"^DD",727.825,727.825,33,"DT")
2961017
"^DD",727.825,727.825,34,0)
SERVICE CONNECTED^S^Y:YES;N:NO;^0;34^Q
"^DD",727.825,727.825,34,.1)
Service Connected
"^DD",727.825,727.825,34,3)
Select the appropriate service connected status for this patient.
"^DD",727.825,727.825,34,21,0)
^^1^1^2961023^^
"^DD",727.825,727.825,34,21,1,0)
Data is Y if this patient is service connected, N if not.
"^DD",727.825,727.825,34,23,0)
^^3^3^2961023^^
"^DD",727.825,727.825,34,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.825,727.825,34,23,2,0)
in the QUASAR EXTRACT file (#727.825), SERVICE CONNECTED data is derived
"^DD",727.825,727.825,34,23,3,0)
from the SERVICE CONNECTED? field (.301) in the PATIENT file (#2).
"^DD",727.825,727.825,34,"DT")
2961017
"^DD",727.825,727.825,35,0)
SENT TO PCE^S^Y:YES;N:NO;^0;35^Q
"^DD",727.825,727.825,35,.1)
Sent to PCE
"^DD",727.825,727.825,35,3)
Enter Y if data has been sent to PCE, N if not.
"^DD",727.825,727.825,35,21,0)
^^1^1^2961105^^
"^DD",727.825,727.825,35,21,1,0)
This field marked as a placeholder for future use.
"^DD",727.825,727.825,35,23,0)
^^2^2^2961105^^
"^DD",727.825,727.825,35,23,1,0)
For the QUASAR extract, the SENT TO PCE field is NO. This field is 
"^DD",727.825,727.825,35,23,2,0)
marked as a placeholder for future use.
"^DD",727.825,727.825,35,"DT")
2961017
"^DD",727.825,727.825,37,0)
DSS IDENTIFIER^F^^0;37^K:$L(X)>6!($L(X)<6) X
"^DD",727.825,727.825,37,.1)
DSS Identifier
"^DD",727.825,727.825,37,3)
Answer must be 6 characters in length.
"^DD",727.825,727.825,37,21,0)
^^6^6^2970912^^
"^DD",727.825,727.825,37,21,1,0)
The DSS Identifier (stop code or credit stop code pair) of the 
"^DD",727.825,727.825,37,21,2,0)
clinic associated with the A&SP CLINIC VISIT (file #509850.6) 
"^DD",727.825,727.825,37,21,3,0)
record.  This identifier will be exactly 6 characters in length.  
"^DD",727.825,727.825,37,21,4,0)
The first 3 characters will identify the primary stop code.  
"^DD",727.825,727.825,37,21,5,0)
The second three characters will identify the credit stop code, 
"^DD",727.825,727.825,37,21,6,0)
if any.
"^DD",727.825,727.825,37,23,0)
^^15^15^2971113^^^^
"^DD",727.825,727.825,37,23,1,0)
The DSS Identifier (stop code or credit stop code pair) of the 
"^DD",727.825,727.825,37,23,2,0)
clinic associated with the A&SP CLINIC VISIT (file #509850.6) 
"^DD",727.825,727.825,37,23,3,0)
record.  This identifier will be exactly 6 characters in length.  
"^DD",727.825,727.825,37,23,4,0)
The first 3 characters will identify the primary stop code.  
"^DD",727.825,727.825,37,23,5,0)
The second three characters will identify the secondary stop
"^DD",727.825,727.825,37,23,6,0)
code.  If the secondary stop code (credit stop code) is not
"^DD",727.825,727.825,37,23,7,0)
known, then "000" will be used as the last 3 characters of the
"^DD",727.825,727.825,37,23,8,0)
data element.
"^DD",727.825,727.825,37,23,9,0)
  
"^DD",727.825,727.825,37,23,10,0)
Data source:
"^DD",727.825,727.825,37,23,11,0)
 
"^DD",727.825,727.825,37,23,12,0)
   (1) A&SP CLINIC VISIT file (#509850.6); CLINIC LOCATION field (#2.6)
"^DD",727.825,727.825,37,23,13,0)
   (2) HOSPITAL LOCATION file (#44); STOP CODE NUMBER field (#8) 
"^DD",727.825,727.825,37,23,14,0)
       and CREDIT STOP CODE field (#2503)
"^DD",727.825,727.825,37,23,15,0)
   (3) CLINIC STOP file (#40.7); AMIS REPORTING STOP CODE field (#1)
"^DD",727.825,727.825,37,"DT")
2970911
"^DD",727.825,727.825,38,0)
PLACEHOLDER1^F^^0;38^K:$L(X)>1!($L(X)<1) X
"^DD",727.825,727.825,38,.1)

"^DD",727.825,727.825,38,3)
Answer must be 1 character in length.
"^DD",727.825,727.825,38,21,0)
^^1^1^2980708^^
"^DD",727.825,727.825,38,21,1,0)
Placeholder; null.
"^DD",727.825,727.825,38,"DT")
2980708
"^DD",727.825,727.825,39,0)
MASTER PATIENT INDEX^F^^1;1^K:$L(X)>10!($L(X)<1) X
"^DD",727.825,727.825,39,3)
Answer must be 1-10 characters in length.
"^DD",727.825,727.825,39,21,0)
^^1^1^2990504^
"^DD",727.825,727.825,39,21,1,0)
A national VA system identifier which uniquely identifies a patient.
"^DD",727.825,727.825,39,23,0)
^^2^2^2990504^
"^DD",727.825,727.825,39,23,1,0)
The source is not known at this time, but will likely become available 
"^DD",727.825,727.825,39,23,2,0)
in an FY2000 enhancement to the Vista system.
"^DD",727.825,727.825,39,"DT")
2990504
"^DD",727.825,727.825,40,0)
DSS DEPT.^F^^1;2^K:$L(X)>10!($L(X)<4) X
"^DD",727.825,727.825,40,3)
Answer must be 4-10 characters in length.
"^DD",727.825,727.825,40,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,40,21,1,0)
The DSS Department Code for the patient care product.
"^DD",727.825,727.825,40,23,0)
^^2^2^2990506^
"^DD",727.825,727.825,40,23,1,0)
A free text field of 4-10 characters; data not yet available.
"^DD",727.825,727.825,40,23,2,0)
Field is set to null.
"^DD",727.825,727.825,40,"DT")
2990506
"^DD",727.825,727.825,41,0)
PROVIDER NPI^F^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,41,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,41,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,41,21,1,0)
The Provider's National Provider Identifier code.
"^DD",727.825,727.825,41,23,0)
^^4^4^2990506^
"^DD",727.825,727.825,41,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,41,23,2,0)
field will hold the Provider NPI.
"^DD",727.825,727.825,41,23,3,0)
   
"^DD",727.825,727.825,41,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,41,"DT")
2990506
"^DD",727.825,727.825,42,0)
PROVIDER #2 NPI^F^^1;4^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,42,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,42,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,42,21,1,0)
The second Provider's National Provider Identifier code.
"^DD",727.825,727.825,42,23,0)
^^4^4^2990506^
"^DD",727.825,727.825,42,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,42,23,2,0)
field will hold the second Provider NPI.
"^DD",727.825,727.825,42,23,3,0)
   
"^DD",727.825,727.825,42,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,42,"DT")
2990506
"^DD",727.825,727.825,43,0)
PROVIDER #3 NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,43,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,43,21,0)
^^1^1^2990506^
"^DD",727.825,727.825,43,21,1,0)
The third Provider's National Provider Identifier code.
"^DD",727.825,727.825,43,23,0)
^^4^4^2990506^
"^DD",727.825,727.825,43,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,43,23,2,0)
field will hold the third Provider NPI.
"^DD",727.825,727.825,43,23,3,0)
   
"^DD",727.825,727.825,43,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,43,"DT")
2990506
"^DD",727.825,727.825,44,0)
PC PROVIDER PERSON CLASS^F^^1;6^K:$L(X)>7!($L(X)<7) X
"^DD",727.825,727.825,44,3)
Answer must be 7 characters in length.
"^DD",727.825,727.825,44,21,0)
^^2^2^2981103^^^^
"^DD",727.825,727.825,44,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.825,727.825,44,21,2,0)
associated with this record.
"^DD",727.825,727.825,44,23,0)
^^6^6^2981103^^^
"^DD",727.825,727.825,44,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.825,727.825,44,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.825,727.825,44,23,3,0)
extract record.
"^DD",727.825,727.825,44,23,4,0)
  
"^DD",727.825,727.825,44,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.825,727.825,44,23,6,0)
7 characters in length.
"^DD",727.825,727.825,44,"DT")
2981103
"^DD",727.825,727.825,45,0)
PC PROVIDER NPI^F^^1;7^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,45,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,45,21,0)
^^1^1^2990729^
"^DD",727.825,727.825,45,21,1,0)
The Primary Care Provider's National Provider Identifier code.
"^DD",727.825,727.825,45,23,0)
^^4^4^2990729^
"^DD",727.825,727.825,45,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,45,23,2,0)
field will hold the Primary Care Provider NPI.
"^DD",727.825,727.825,45,23,3,0)
 
"^DD",727.825,727.825,45,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,45,"DT")
2990729
"^DD",727.825,727.825,46,0)
ASSOCIATE PC PROVIDER^F^^1;8^K:$L(X)>11!($L(X)<2) X
"^DD",727.825,727.825,46,3)
Answer must be 2-11 characters in length.
"^DD",727.825,727.825,46,21,0)
^^4^4^2990729^
"^DD",727.825,727.825,46,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.825,727.825,46,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.825,727.825,46,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.825,727.825,46,21,4,0)
character 2.
"^DD",727.825,727.825,46,23,0)
^^2^2^2990729^
"^DD",727.825,727.825,46,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.825,727.825,46,23,2,0)
the PCMM application.
"^DD",727.825,727.825,46,"DT")
2990729
"^DD",727.825,727.825,47,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;9^K:$L(X)>7!($L(X)<7) X
"^DD",727.825,727.825,47,3)
Answer must be 7 characters in length.
"^DD",727.825,727.825,47,21,0)
^^4^4^2990729^
"^DD",727.825,727.825,47,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.825,727.825,47,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.825,727.825,47,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.825,727.825,47,21,4,0)
exactly 7 characters in length. 
"^DD",727.825,727.825,47,23,0)
^^3^3^2990729^
"^DD",727.825,727.825,47,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.825,727.825,47,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.825,727.825,47,23,3,0)
PERS is the IEN from file #200.
"^DD",727.825,727.825,47,"DT")
2990729
"^DD",727.825,727.825,48,0)
ASSOCIATE PC PROVIDER NPI^F^^1;10^K:$L(X)>8!($L(X)<1) X
"^DD",727.825,727.825,48,3)
Answer must be 1-8 characters in length.
"^DD",727.825,727.825,48,21,0)
^^1^1^2990729^
"^DD",727.825,727.825,48,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.825,727.825,48,23,0)
^^4^4^2990729^
"^DD",727.825,727.825,48,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.825,727.825,48,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.825,727.825,48,23,3,0)
   
"^DD",727.825,727.825,48,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.825,727.825,48,"DT")
2990729
"^DD",727.825,727.825,49,0)
DIVISION^F^^1;11^K:$L(X)>7!($L(X)<3) X
"^DD",727.825,727.825,49,3)
Answer must be 3-7 characters in length.
"^DD",727.825,727.825,49,21,0)
^^2^2^2990806^
"^DD",727.825,727.825,49,21,1,0)
The Division associated with the QUASAR record.  This will be
"^DD",727.825,727.825,49,21,2,0)
expressed as a Station Number from the INSTITUTION file (#4).
"^DD",727.825,727.825,49,23,0)
^^7^7^2990806^
"^DD",727.825,727.825,49,23,1,0)
Beginning in QUASAR v3.0, records in the A&SP CLINIC VISIT file
"^DD",727.825,727.825,49,23,2,0)
(#509850.6) will have a DIVISION field (#60), which is a pointer
"^DD",727.825,727.825,49,23,3,0)
to the MEDICAL CENTER DIVISION file (#40.8).
"^DD",727.825,727.825,49,23,4,0)
 
"^DD",727.825,727.825,49,23,5,0)
Using the INSTITUTION FILE POINTER field (#.07) of the file #40.8
"^DD",727.825,727.825,49,23,6,0)
record, the STATION NUMBER field (#99) will be obtained from the
"^DD",727.825,727.825,49,23,7,0)
INSTITUTION file (#4).
"^DD",727.825,727.825,49,"DT")
2990806
"^DD",727.826,727.826,0)
FIELD^^48^49
"^DD",727.826,727.826,0,"DDA")
N
"^DD",727.826,727.826,0,"DT")
2990802
"^DD",727.826,727.826,0,"IX","AC",727.826,2)

"^DD",727.826,727.826,0,"NM","PROSTHETICS EXTRACT")

"^DD",727.826,727.826,0,"VRPK")
ECX
"^DD",727.826,727.826,.01,0)
SEQUENCE NUMBER^RNJ9,0X^^0;1^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X S:$D(X) DINUM=X
"^DD",727.826,727.826,.01,.1)
Sequence Number
"^DD",727.826,727.826,.01,1,0)
^.1^^0
"^DD",727.826,727.826,.01,3)
Enter a Number between 1 and 999999999, 0 Decimal Digits.
"^DD",727.826,727.826,.01,10)
Software generated for each individual record in the extract.
"^DD",727.826,727.826,.01,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,.01,21,1,0)
The Record Number for this extract entry.  Included in the Header for the
"^DD",727.826,727.826,.01,21,2,0)
extract.  The file is DINUMed on this field.
"^DD",727.826,727.826,.01,23,0)
^^1^1^2980714^^
"^DD",727.826,727.826,.01,23,1,0)
The Internal Entry Number (IEN) for this record.  The entry is DINUMed.
"^DD",727.826,727.826,.01,"DT")
2981215
"^DD",727.826,727.826,1,0)
YEAR MONTH^FO^^0;2^K:$L(X)>6!($L(X)<6)!'(X?6N) X
"^DD",727.826,727.826,1,.1)
Year Month
"^DD",727.826,727.826,1,2)
S Y(0)=Y S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.826,727.826,1,2.1)
S Y=$$ECXYMX^ECXUTL(Y)
"^DD",727.826,727.826,1,3)
Answer must be six characters in length.
"^DD",727.826,727.826,1,10)
Software generated for all records in the extracted year and month.
"^DD",727.826,727.826,1,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,1,21,1,0)
Six digit textual number representing the year and month the extract was
"^DD",727.826,727.826,1,21,2,0)
completed.  Included in the Header for the extract.
"^DD",727.826,727.826,1,23,0)
^^1^1^2980714^^
"^DD",727.826,727.826,1,23,1,0)
Generated by the extract software (ECXTRAC and ECXPRO).
"^DD",727.826,727.826,1,"DT")
2980714
"^DD",727.826,727.826,2,0)
EXTRACT NUMBER^P727'^ECX(727,^0;3^Q
"^DD",727.826,727.826,2,.1)
Extract Number
"^DD",727.826,727.826,2,1,0)
^.1
"^DD",727.826,727.826,2,1,1,0)
727.826^AC
"^DD",727.826,727.826,2,1,1,1)
S ^ECX(727.826,"AC",$E(X,1,30),DA)=""
"^DD",727.826,727.826,2,1,1,2)
K ^ECX(727.826,"AC",$E(X,1,30),DA)
"^DD",727.826,727.826,2,1,1,3)
DO NOT DELETE!
"^DD",727.826,727.826,2,1,1,"%D",0)
^^2^2^2980722^
"^DD",727.826,727.826,2,1,1,"%D",1,0)
This cross reference is essential for purging and managing data in this
"^DD",727.826,727.826,2,1,1,"%D",2,0)
file.
"^DD",727.826,727.826,2,1,1,"DT")
2980722
"^DD",727.826,727.826,2,3)
Enter the extract number for this extract.
"^DD",727.826,727.826,2,10)
Software generated from the associated entry in the Extract Log file.
"^DD",727.826,727.826,2,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,2,21,1,0)
Corresponding entry in the DSS Extract Log file (#727) for this extract.
"^DD",727.826,727.826,2,21,2,0)
Used to identify the header in the extract transmission.
"^DD",727.826,727.826,2,23,0)
^^1^1^2980714^
"^DD",727.826,727.826,2,23,1,0)
Generated by the extract software (ECXTRAC and ECXPRO).
"^DD",727.826,727.826,2,"DT")
2980722
"^DD",727.826,727.826,3,0)
FACILITY^RF^^0;4^K:$L(X)>5!($L(X)<3) X
"^DD",727.826,727.826,3,.1)
Facility
"^DD",727.826,727.826,3,3)
Answer must be 3-5 characters in length.
"^DD",727.826,727.826,3,10)
Station field (#8) in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,3,21,0)
^^2^2^2981116^^^^
"^DD",727.826,727.826,3,21,1,0)
The Station Number of the Facility where the Prosthetics transaction is
"^DD",727.826,727.826,3,21,2,0)
completed.
"^DD",727.826,727.826,3,23,0)
^^3^3^2981116^^^^
"^DD",727.826,727.826,3,23,1,0)
The Station Number is expected to be at least 3 characters in length.
"^DD",727.826,727.826,3,23,2,0)
If the Station Number is longer than 5 characters, the first 5 characters
"^DD",727.826,727.826,3,23,3,0)
will be stored in this field.  
"^DD",727.826,727.826,3,"DT")
2981116
"^DD",727.826,727.826,4,0)
PATIENT NO. DFN^RP2'^DPT(^0;5^Q
"^DD",727.826,727.826,4,.1)
Patient No. DFN
"^DD",727.826,727.826,4,3)
Enter the name of the patient for this extract record.
"^DD",727.826,727.826,4,10)
PATIENT NAME (#.02) of the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,4,21,0)
^^4^4^2990504^^^
"^DD",727.826,727.826,4,21,1,0)
An identifying number for the patient at the local site.
"^DD",727.826,727.826,4,21,2,0)
 
"^DD",727.826,727.826,4,21,3,0)
PATIENT NO. DFN is the DFN of the patient for whom the prosthetic device
"^DD",727.826,727.826,4,21,4,0)
is provided.  This field is required for creation of the extract record.
"^DD",727.826,727.826,4,23,0)
^^4^4^2990504^^
"^DD",727.826,727.826,4,23,1,0)
PATIENT NAME field (#.02) of the RECORD OF PROS APPLIANCE/REPAIR file
"^DD",727.826,727.826,4,23,2,0)
(#660).  This in turns points to the NAME field (#.01) of the PROSTHETICS
"^DD",727.826,727.826,4,23,3,0)
PROSTHETICS PATIENT file (#665).  This then points to the NAME field (.01)
"^DD",727.826,727.826,4,23,4,0)
of the PATIENT file (#2).
"^DD",727.826,727.826,4,"DT")
2980714
"^DD",727.826,727.826,5,0)
SSN^RFX^^0;6^K:$L(X)>10!($L(X)<9)!'(X?9N!X?9N1"P") X
"^DD",727.826,727.826,5,.1)
Social Security Number
"^DD",727.826,727.826,5,3)
Enter the Patient's Social Security Number.
"^DD",727.826,727.826,5,10)
Derived from the patient in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,5,21,0)
^^5^5^2990504^^^
"^DD",727.826,727.826,5,21,1,0)
The patient's Social Security Number.  This field is required for creation
"^DD",727.826,727.826,5,21,2,0)
of the extract record.
"^DD",727.826,727.826,5,21,3,0)
 
"^DD",727.826,727.826,5,21,4,0)
Any patient with an SSN beginning with "00000" is considered a "test
"^DD",727.826,727.826,5,21,5,0)
patient" and will not be included in the extract.  
"^DD",727.826,727.826,5,23,0)
^^7^7^2990504^^
"^DD",727.826,727.826,5,23,1,0)
SSN is derived from the PATIENT NAME field (#.02) of the RECORD OF PROS
"^DD",727.826,727.826,5,23,2,0)
APPLIANCE/REPAIR file (#660).  This in turn points to the NAME field (#.01)
"^DD",727.826,727.826,5,23,3,0)
of the PROSTHETICS PATIENT file (#665).  This then points to the SSN field
"^DD",727.826,727.826,5,23,4,0)
(#.09) of the PATIENT file (#2).
"^DD",727.826,727.826,5,23,5,0)
 
"^DD",727.826,727.826,5,23,6,0)
"Test" patient status is determined in PAT^ECXUTL3.  Any patient with
"^DD",727.826,727.826,5,23,7,0)
an SSN beginning with "00000" will not be included in the extract.
"^DD",727.826,727.826,5,"DT")
2980714
"^DD",727.826,727.826,6,0)
NAME^RF^^0;7^K:$L(X)>4!($L(X)<4) X
"^DD",727.826,727.826,6,.1)
Name
"^DD",727.826,727.826,6,3)
Enter the first four characters of the patient's last name.
"^DD",727.826,727.826,6,10)
Derived from the patient in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,6,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,6,21,1,0)
The first four characters of the patient's last name.  This field is
"^DD",727.826,727.826,6,21,2,0)
required for creation of the extract record.
"^DD",727.826,727.826,6,23,0)
^^4^4^2980714^
"^DD",727.826,727.826,6,23,1,0)
NAME is derived from the PATIENT NAME field (#.02) of the RECORD OF PROS
"^DD",727.826,727.826,6,23,2,0)
APPLIANCE/REPAIR file (#660).  This in turn points to the NAME field
"^DD",727.826,727.826,6,23,3,0)
(#.01) of the PROSTHETICS PATIENT file (#665).  If the patient's last 
"^DD",727.826,727.826,6,23,4,0)
name is shorter than 4 characters, spaces will pad the end of the field.
"^DD",727.826,727.826,6,"DT")
2980714
"^DD",727.826,727.826,7,0)
IN OUTPATIENT INDICATOR^RP40.9'^DIC(40.9,^0;8^Q
"^DD",727.826,727.826,7,.1)
IN Outpatient Indicator
"^DD",727.826,727.826,7,3)
Enter 1 (Clinic) to indicate outpatient and 3 (Ward) to indicate inpatient.
"^DD",727.826,727.826,7,10)
Initialized to 1.  If IN5^VADPT returns a patient movement number, the value is 3.
"^DD",727.826,727.826,7,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,7,21,1,0)
Indicates whether the patient was an inpatient or an outpatient for the
"^DD",727.826,727.826,7,21,2,0)
Prosthetic service extracted.
"^DD",727.826,727.826,7,23,0)
^^4^4^2980714^
"^DD",727.826,727.826,7,23,1,0)
The field is initiatlized to 1, indicating an outpatient status.  If a call
"^DD",727.826,727.826,7,23,2,0)
to IN5^VADPT (using the patient IEN and the event date) returns a patient
"^DD",727.826,727.826,7,23,3,0)
movement number, then the field is set to 3 (indicating an inpatient
"^DD",727.826,727.826,7,23,4,0)
status).
"^DD",727.826,727.826,7,"DT")
2980714
"^DD",727.826,727.826,8,0)
DATE OF SERVICE^RFO^^0;9^K:$L(X)>8!($L(X)<8)!'(X?8N) X
"^DD",727.826,727.826,8,.1)
Date of Service
"^DD",727.826,727.826,8,1,0)
^.1
"^DD",727.826,727.826,8,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.826,727.826,8,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.826,727.826,8,3)
Enter the delivery date of the patient's prosthetic record.
"^DD",727.826,727.826,8,10)
The DELIVERY DATE (#10) in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,8,21,0)
^^4^4^2981106^^^
"^DD",727.826,727.826,8,21,1,0)
DATE OF SERVICE is defined as the Delivery Date of the patient's prosthetic
"^DD",727.826,727.826,8,21,2,0)
record and is used as the determining date range when generating the
"^DD",727.826,727.826,8,21,3,0)
Prosthetics Extract.  This field is required for creation of the extract
"^DD",727.826,727.826,8,21,4,0)
record.
"^DD",727.826,727.826,8,23,0)
^^2^2^2981106^^
"^DD",727.826,727.826,8,23,1,0)
DATE OF SERVICE is derived from the DELIVERY DATE (#10) in the RECORD OF
"^DD",727.826,727.826,8,23,2,0)
PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,8,"DT")
2980722
"^DD",727.826,727.826,9,0)
FEEDER LOCATION^RF^^0;10^K:$L(X)>10!($L(X)<6) X
"^DD",727.826,727.826,9,.1)
Feeder Location
"^DD",727.826,727.826,9,3)
Answer must be 6-10 characters in length.
"^DD",727.826,727.826,9,10)
Data in the RECORD OF PROS APPLIANCE/REPAIR file (#660).  See Technical Description.
"^DD",727.826,727.826,9,21,0)
^^27^27^2990511^^^^
"^DD",727.826,727.826,9,21,1,0)
If this is a Lab Transaction and the extract header and/or Prosthetic
"^DD",727.826,727.826,9,21,2,0)
    Station is equal to the Receiving Station, the FEEDER LOCATION is
"^DD",727.826,727.826,9,21,3,0)
    constructed as follows:
"^DD",727.826,727.826,9,21,4,0)
1) 3-digit station number of the Receiving Station, concatenated with LAB. 
"^DD",727.826,727.826,9,21,5,0)
    An example is XXXLAB, where XXX is the Receiving Station number, or
"^DD",727.826,727.826,9,21,6,0)
2) 5-digit station number of the Receiving Station  (includes the 2-letter
"^DD",727.826,727.826,9,21,7,0)
    division suffix)  concatenated with LAB.  An example is XXXXXLAB, where
"^DD",727.826,727.826,9,21,8,0)
    XXXXX is the Receiving Station number.
"^DD",727.826,727.826,9,21,9,0)
  
"^DD",727.826,727.826,9,21,10,0)
If this is a Lab Transaction and the extract header and/or Prosthetic
"^DD",727.826,727.826,9,21,11,0)
    Station is equal to the Requesting Station, the FEEDER LOCATION is
"^DD",727.826,727.826,9,21,12,0)
    constructed as follows:
"^DD",727.826,727.826,9,21,13,0)
1) 3-digit station number of the Requesting Station, concatenated with ORD.
"^DD",727.826,727.826,9,21,14,0)
    An example is XXXORD, where XXX is the Requesting Station number, or
"^DD",727.826,727.826,9,21,15,0)
2) 5-digit station number of the Requesting Station (includes the 2-letter
"^DD",727.826,727.826,9,21,16,0)
    division suffix) concatenated with ORD.  An example is XXXXXORD, where
"^DD",727.826,727.826,9,21,17,0)
    XXXXX is the Requesting Station number.
"^DD",727.826,727.826,9,21,18,0)
 
"^DD",727.826,727.826,9,21,19,0)
If this is not a Lab Transaction, the FEEDER LOCATION is constructed as
"^DD",727.826,727.826,9,21,20,0)
    follows:
"^DD",727.826,727.826,9,21,21,0)
1) 3-digit Station number concatenated with NONL.  An example is XXXNONL,
"^DD",727.826,727.826,9,21,22,0)
    where XXX is the Station number, or
"^DD",727.826,727.826,9,21,23,0)
2) 5-digit Station number (includes the 2-letter division suffix),
"^DD",727.826,727.826,9,21,24,0)
    concatenated with NONL.  An example is XXXXXNONL, where XXXXX is the
"^DD",727.826,727.826,9,21,25,0)
    Station number.
"^DD",727.826,727.826,9,21,26,0)
 
"^DD",727.826,727.826,9,21,27,0)
This field is required for creation of the extract record.
"^DD",727.826,727.826,9,23,0)
^^9^9^2990511^^^^
"^DD",727.826,727.826,9,23,1,0)
Data for the FEEDER LOCATION (FDR LOC) is derived from the RECORD OF PROS
"^DD",727.826,727.826,9,23,2,0)
    APPLIANCE/REPAIR file (#660).  Depending how the FEEDER LOCATION is
"^DD",727.826,727.826,9,23,3,0)
    constructed, data is derived from the following fields in the RECORD OF
"^DD",727.826,727.826,9,23,4,0)
    PROS APPLIANCE/REPAIR file (#660):
"^DD",727.826,727.826,9,23,5,0)
1) RECEIVING STATION (#70).  RECEIVING STATION is a pointer to the
"^DD",727.826,727.826,9,23,6,0)
    INSTITUTION file (#4).
"^DD",727.826,727.826,9,23,7,0)
2) REQUESTING STATION (#40).  RECEIVING STATION is a pointer to the
"^DD",727.826,727.826,9,23,8,0)
    INSTITUTION file (#4).
"^DD",727.826,727.826,9,23,9,0)
3) STATION (#8).  STATION is a pointer to the INSTITUTION file (#4).
"^DD",727.826,727.826,9,"DT")
2981224
"^DD",727.826,727.826,10,0)
FEEDER KEY^RF^^0;11^K:$L(X)>20!($L(X)<7) X
"^DD",727.826,727.826,10,.1)
Feeder Key
"^DD",727.826,727.826,10,3)
Answer must be 7-20 characters in length.
"^DD",727.826,727.826,10,10)
Data in the RECORD OF PROS APPLIANCE/REPAIR file (#660).  See Technical Description.
"^DD",727.826,727.826,10,21,0)
^^39^39^2981117^^^
"^DD",727.826,727.826,10,21,1,0)
FEEDER KEY is the concatenation of the following elements.  They are listed
"^DD",727.826,727.826,10,21,2,0)
    in the order they are to appear in the FEEDER KEY.
"^DD",727.826,727.826,10,21,3,0)
 
"^DD",727.826,727.826,10,21,4,0)
1) HCPCS Code - This is the 5-digit HCPCS Code in the patient's prosthetic
"^DD",727.826,727.826,10,21,5,0)
    record.
"^DD",727.826,727.826,10,21,6,0)
 
"^DD",727.826,727.826,10,21,7,0)
2) Type of Transaction - This is the Type of Transaction code in the
"^DD",727.826,727.826,10,21,8,0)
      patient's prosthetic record.
"^DD",727.826,727.826,10,21,9,0)
   (a) If Type of Transaction in the patient's prosthetic record is "X"
"^DD",727.826,727.826,10,21,10,0)
       (Repair), the Type of Transaction code in the FEEDER KEY is X.
"^DD",727.826,727.826,10,21,11,0)
   (b) If the Type of Transaction in the patient's prosthetic record is 
"^DD",727.826,727.826,10,21,12,0)
       "I" (Initial Issue),  "R" (Replace) or "S" (Spare), the Type of
"^DD",727.826,727.826,10,21,13,0)
       Transaction code in the FEEDER KEY is N.
"^DD",727.826,727.826,10,21,14,0)
   (c) Type of Transaction is considered the first suffix of the FEEDER
"^DD",727.826,727.826,10,21,15,0)
       KEY.
"^DD",727.826,727.826,10,21,16,0)
 
"^DD",727.826,727.826,10,21,17,0)
3) Source - This is the Source in the patient's prosthetic record.
"^DD",727.826,727.826,10,21,18,0)
   (a) If Source in the patient's prosthetic record is VA, the Source code
"^DD",727.826,727.826,10,21,19,0)
       in the FEEDER KEY is V (VA).
"^DD",727.826,727.826,10,21,20,0)
   (b) If Source in the patient's prosthetic record is Commercial, the
"^DD",727.826,727.826,10,21,21,0)
       Source code in the FEEDER KEY is C (Commercial).
"^DD",727.826,727.826,10,21,22,0)
   (c) Source is considered the second suffix of the FEEDER KEY.
"^DD",727.826,727.826,10,21,23,0)
 
"^DD",727.826,727.826,10,21,24,0)
4) Station - If this is a Lab Transaction, the station is either the
"^DD",727.826,727.826,10,21,25,0)
      Requesting or Receiving Station.  
"^DD",727.826,727.826,10,21,26,0)
   (a) 3-digit Receiving Station concatenated with REC if the FEEDER
"^DD",727.826,727.826,10,21,27,0)
       LOCATION ends in ORD, or
"^DD",727.826,727.826,10,21,28,0)
   (b) 5-digit Receiving Station (includes the 2-letter division suffix)
"^DD",727.826,727.826,10,21,29,0)
       concatenated with REC if the FEEDER LOCATION ends in ORD, or
"^DD",727.826,727.826,10,21,30,0)
   (c) 3-digit Requesting Station concatenated with REQ if the FEEDER
"^DD",727.826,727.826,10,21,31,0)
       LOCATION ends in LAB, or
"^DD",727.826,727.826,10,21,32,0)
   (d) 5-digit Requesting Station (includes the 2-letter division suffix)
"^DD",727.826,727.826,10,21,33,0)
       concatenated with REQ if the FEEDER LOCATION ends in LAB.
"^DD",727.826,727.826,10,21,34,0)
   (e) Station is considered the third suffix of the FEEDER KEY.
"^DD",727.826,727.826,10,21,35,0)
 
"^DD",727.826,727.826,10,21,36,0)
5) If this is a Non-Lab Transaction, there is no third suffix for the
"^DD",727.826,727.826,10,21,37,0)
      FEEDER KEY.
"^DD",727.826,727.826,10,21,38,0)
 
"^DD",727.826,727.826,10,21,39,0)
This field is required for creation of the extract record.
"^DD",727.826,727.826,10,23,0)
^^13^13^2981117^^^
"^DD",727.826,727.826,10,23,1,0)
Data for the FEEDER KEY is derived from the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,10,23,2,0)
    file (#660).  Depending how the FEEDER KEY is constructed, the
"^DD",727.826,727.826,10,23,3,0)
    components for the FEEDER KEY are derived from the following fields in
"^DD",727.826,727.826,10,23,4,0)
    the RECORD OF PROS APPLIANCE/REPAIR file (#660):
"^DD",727.826,727.826,10,23,5,0)
1) HCPCS (#4.1) - HCPCS is a pointer to the CPT CODE field (#.01) of the
"^DD",727.826,727.826,10,23,6,0)
    CPT file (#81)
"^DD",727.826,727.826,10,23,7,0)
2) TYPE OF TRANSACTION (#2)
"^DD",727.826,727.826,10,23,8,0)
3) SOURCE (#12)
"^DD",727.826,727.826,10,23,9,0)
4) RECEIVING STATION (#70).  RECEIVING STATION is a pointer to the
"^DD",727.826,727.826,10,23,10,0)
    INSTITUTION file (#4).
"^DD",727.826,727.826,10,23,11,0)
5) REQUESTING STATION (#40).  REQUESTING STATION is a pointer to the
"^DD",727.826,727.826,10,23,12,0)
    INSTITUTION file (#4).
"^DD",727.826,727.826,10,23,13,0)
6) STATION (#8).  STATION is a pointer to the INSTITUTION file (#4).
"^DD",727.826,727.826,10,"DT")
2981224
"^DD",727.826,727.826,11,0)
QUANTITY^F^^0;12^K:$L(X)>4!($L(X)<1) X
"^DD",727.826,727.826,11,.1)
Quantity
"^DD",727.826,727.826,11,3)
Answer must be 1-4 characters in length.
"^DD",727.826,727.826,11,10)
QUANTITY is derived from the QTY (#5) in RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,11,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,11,21,1,0)
QUANTITY is defined as the number of units issues or repaired as indicated
"^DD",727.826,727.826,11,21,2,0)
in the patient's prosthetic record.
"^DD",727.826,727.826,11,23,0)
^^3^3^2981117^^^^
"^DD",727.826,727.826,11,23,1,0)
Derived from the QTY field (#5) in the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,11,23,2,0)
file (#660).  If the quantity is not known, a default value of 1 will
"^DD",727.826,727.826,11,23,3,0)
be assigned to the extract record.  
"^DD",727.826,727.826,11,"DT")
2981116
"^DD",727.826,727.826,12,0)
PRIMARY CARE TEAM^F^^0;13^K:$L(X)>4!($L(X)<1) X
"^DD",727.826,727.826,12,.1)
Primary Care Team
"^DD",727.826,727.826,12,3)
Answer must be 1-4 characters in length.
"^DD",727.826,727.826,12,10)
OUTPTTM^SDUTL3 returns the teams IEN from the Team file (404.51).
"^DD",727.826,727.826,12,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,12,21,1,0)
PRIMARY CARE TEAM indicates the primary care team entry assigned to the
"^DD",727.826,727.826,12,21,2,0)
patient for whom the prosthetic service is provided.
"^DD",727.826,727.826,12,23,0)
^^3^3^2981117^^^^
"^DD",727.826,727.826,12,23,1,0)
From the DATE OF SERVICE field and the patient's DFN, OUTPTTM^SDUTL3
"^DD",727.826,727.826,12,23,2,0)
returns the teams IEN from the TEAM file (404.51).  This pointer is
"^DD",727.826,727.826,12,23,3,0)
transmitted to Austin.  
"^DD",727.826,727.826,12,"DT")
2981116
"^DD",727.826,727.826,13,0)
PRIMARY CARE PROVIDER^F^^0;14^K:$L(X)>11!($L(X)<2) X
"^DD",727.826,727.826,13,.1)
Primary Care Provider
"^DD",727.826,727.826,13,3)
Answer must be 2-11 characters in length.
"^DD",727.826,727.826,13,10)

"^DD",727.826,727.826,13,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,13,21,1,0)
PRIMARY CARE PROVIDER is the primary care provider of the patient for
"^DD",727.826,727.826,13,21,2,0)
whom the prosthetic service is provided.
"^DD",727.826,727.826,13,23,0)
^^3^3^2981117^^^^
"^DD",727.826,727.826,13,23,1,0)
From the DATE OF SERVICE field and the patient's DFN, OUTPTPR^SDUTL3
"^DD",727.826,727.826,13,23,2,0)
returns the provider's New Person file record IEN.  The New Person IEN
"^DD",727.826,727.826,13,23,3,0)
is transmitted to Austin with "2" concatenated on the front.  
"^DD",727.826,727.826,13,"DT")
2981117
"^DD",727.826,727.826,14,0)
PCE CPT/HCPCS CODE & MODIFIERS^RFO^^0;15^K:$L(X)>15!($L(X)<5) X
"^DD",727.826,727.826,14,.1)

"^DD",727.826,727.826,14,1,0)
^.1
"^DD",727.826,727.826,14,2)
S Y(0)=Y S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.826,727.826,14,2.1)
S Y=$$CPTOUT^ECXUTL3(Y)
"^DD",727.826,727.826,14,3)
Answer must be 5-15 characters in length.
"^DD",727.826,727.826,14,10)
Derived from the HCPCS field (4.1) in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,14,21,0)
^^5^5^2990507^^^^
"^DD",727.826,727.826,14,21,1,0)
The CPT code identified by the Prosthesis HCPCS.  This field is required
"^DD",727.826,727.826,14,21,2,0)
for creation of the extract record.
"^DD",727.826,727.826,14,21,3,0)
 
"^DD",727.826,727.826,14,21,4,0)
The 5 character CPT/HCPCS Code is followed by upto five (5) 2-character
"^DD",727.826,727.826,14,21,5,0)
CPT code modifiers.
"^DD",727.826,727.826,14,23,0)
^^7^7^2990507^^^^
"^DD",727.826,727.826,14,23,1,0)
PCE CPT/HCPCS CODE is derived from the HCPCS (#4.1) field in the RECORD
"^DD",727.826,727.826,14,23,2,0)
OF PROS APPLIANCE/REPAIR file (#660).  HCPCS (#4.1) is a pointer to the
"^DD",727.826,727.826,14,23,3,0)
respective CPT CODE field (#.01) in the CPT file (#81).
"^DD",727.826,727.826,14,23,4,0)
 
"^DD",727.826,727.826,14,23,5,0)
The source of CPT modifiers is the MODIFIER field (#.01) of the
"^DD",727.826,727.826,14,23,6,0)
CPT MODIFIER file (#81.3).  It is not known at this time where the 
"^DD",727.826,727.826,14,23,7,0)
Prosthetics package will store those modifiers.
"^DD",727.826,727.826,14,"DT")
2990614
"^DD",727.826,727.826,15,0)
ICD-9 CODE^F^^0;16^K:$L(X)>7!($L(X)<1) X
"^DD",727.826,727.826,15,.1)
ICD-9 Code
"^DD",727.826,727.826,15,3)
Enter the Prosthetics ICD-9 code.
"^DD",727.826,727.826,15,10)
No source currently exists in Prosthetics.  This field will be populated at a future time.
"^DD",727.826,727.826,15,21,0)
^^1^1^2990520^^^^
"^DD",727.826,727.826,15,21,1,0)
ICD-9 CODE is the diagnostic code for the patient's prosthetic record.
"^DD",727.826,727.826,15,23,0)
^^2^2^2990520^^^^
"^DD",727.826,727.826,15,23,1,0)
This field is not yet used by the Prosthetics Extract as the ICD-9 field
"^DD",727.826,727.826,15,23,2,0)
is not available in Prosthetics.
"^DD",727.826,727.826,15,"DT")
2980714
"^DD",727.826,727.826,16,0)
AGENT ORANGE STATUS^S^Y:Agent Orange exposure claimed;N:Agent Orange exposure not claimed;U:Agent Orange exposure not known;^0;17^Q
"^DD",727.826,727.826,16,.1)
Agent Orange Status
"^DD",727.826,727.826,16,3)
Enter Y - Agent Orange exposure; N - No Agent Orange exposure; U - Agent Orange Exposure is unknown
"^DD",727.826,727.826,16,10)
AGENT ORANGE EXPOS. INDICATED field (#.32102) from the Patient file (#2) as derived from DFN.
"^DD",727.826,727.826,16,21,0)
^^2^2^2990505^^^^
"^DD",727.826,727.826,16,21,1,0)
AGENT ORANGE STATUS indicates if the prosthetics patient claims exposure
"^DD",727.826,727.826,16,21,2,0)
to Agent Orange.
"^DD",727.826,727.826,16,23,0)
^^6^6^2990505^^^
"^DD",727.826,727.826,16,23,1,0)
This field is derived from the AGENT ORANGE EXPOS. INDICATED field
"^DD",727.826,727.826,16,23,2,0)
(#.32102) in the Patient file (#2) using the patient's DFN.  The field will
"^DD",727.826,727.826,16,23,3,0)
have a NULL value if the Patient file (#2) record does not indicate a
"^DD",727.826,727.826,16,23,4,0)
status.
"^DD",727.826,727.826,16,23,5,0)
 
"^DD",727.826,727.826,16,23,6,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.826,727.826,16,"DT")
2980714
"^DD",727.826,727.826,17,0)
RADIATION EXPOSURE STATUS^S^Y:Radiation Exposure claimed;N:Radiation Exposure not claimed;U:Radiation Exposure not known;^0;18^Q
"^DD",727.826,727.826,17,.1)
Radiation Exposure Status
"^DD",727.826,727.826,17,3)
Enter Y - Radiation exposure; N - No Radiation exposure; U - Radiation Exposure is unknown
"^DD",727.826,727.826,17,10)
RADIATION EXPOSURE INDICATED field (#.32103) from the Patient file (#2) as derived from DFN.
"^DD",727.826,727.826,17,21,0)
^^2^2^2990505^^^
"^DD",727.826,727.826,17,21,1,0)
RADIATION EXPOSURE STATUS indicates if the prosthetics patient claims
"^DD",727.826,727.826,17,21,2,0)
exposure to radiation.
"^DD",727.826,727.826,17,23,0)
^^5^5^2990505^^^
"^DD",727.826,727.826,17,23,1,0)
This field is derived from the RADIATION EXPOSURE INDICATED field (#.32103)
"^DD",727.826,727.826,17,23,2,0)
in the Patient file (#2) using the patient's DFN.  This field will have
"^DD",727.826,727.826,17,23,3,0)
a NULL value if the Patient file (#2) record does not indicate a status.
"^DD",727.826,727.826,17,23,4,0)
 
"^DD",727.826,727.826,17,23,5,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.826,727.826,17,"DT")
2980714
"^DD",727.826,727.826,18,0)
ENVIRONMENT CONTAMINANTS STAT^S^Y:Environmental Contaminants exposure claimed;N:Environmental Contaminants exposure not claimed;U:Environmental Contaminants exposure not known;^0;19^Q
"^DD",727.826,727.826,18,.1)
Environmental Contaminants Status
"^DD",727.826,727.826,18,3)
Enter Y - Environmental Contaminants exposure; N - No Environmental Contaminants exposure; U - Environmental Contaminants exposure is unknown
"^DD",727.826,727.826,18,10)
ENVIRONMENTAL CONTAMINANTS field (#.322013) from the Patient file (#2) as derived from DFN.
"^DD",727.826,727.826,18,21,0)
^^2^2^2980714^^
"^DD",727.826,727.826,18,21,1,0)
ENVIRONMENT CONTAMINANTS STAT indicates if the prosthetics patient
"^DD",727.826,727.826,18,21,2,0)
claims exposure to Environmental Contaminants.
"^DD",727.826,727.826,18,23,0)
^^3^3^2980714^
"^DD",727.826,727.826,18,23,1,0)
This field is derived from the ENVIRONMENTAL CONTAMINANTS field (#.322013)
"^DD",727.826,727.826,18,23,2,0)
in the Patient file (#2) using the patient's DFN.  The field will have
"^DD",727.826,727.826,18,23,3,0)
a NULL value if the Patient file (#2) record does not indicate a status.
"^DD",727.826,727.826,18,"DT")
2980714
"^DD",727.826,727.826,19,0)
PATIENT ELIGIBILITY^F^^0;20^K:$L(X)>3!($L(X)<1) X
"^DD",727.826,727.826,19,.1)
Patient Eligibility
"^DD",727.826,727.826,19,3)
Answer must be 1-3 characters in length.
"^DD",727.826,727.826,19,10)
PATIENT ELIGIBILITY field (#.361) from the Patient file (#2) as derived from DFN.
"^DD",727.826,727.826,19,21,0)
^^1^1^2990504^^^^
"^DD",727.826,727.826,19,21,1,0)
PATIENT ELIGIBILITY is the patient's primary eligibility code.
"^DD",727.826,727.826,19,23,0)
^^11^11^2990504^^^^
"^DD",727.826,727.826,19,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4)
"^DD",727.826,727.826,19,23,2,0)
in the PROSTHETICS EXTRACT file (#727.826), ELIGIBILITY data is derived from
"^DD",727.826,727.826,19,23,3,0)
the PRIMARY ELIGIBILITY CODE field (.361) in the PATIENT file (#2).
"^DD",727.826,727.826,19,23,4,0)
PRIMARY ELIGIBILITY CODE is a pointer to the ELIGIBILITY CODE file (#8).
"^DD",727.826,727.826,19,23,5,0)
The data is derived from the MAS ELIGIBILITY CODE field (8) in the
"^DD",727.826,727.826,19,23,6,0)
ELIGIBILITY CODE file (#8) which in turn is a pointer to the MAS
"^DD",727.826,727.826,19,23,7,0)
ELIGIBILITY CODE file (#8.1). 
"^DD",727.826,727.826,19,23,8,0)
 
"^DD",727.826,727.826,19,23,9,0)
The pointer value to file #8.1 is converted by ELIG^ECXUTL3 to the
"^DD",727.826,727.826,19,23,10,0)
corresponding eligibility code used by NPCD.  This code is composed of
"^DD",727.826,727.826,19,23,11,0)
two or three numeric characters.
"^DD",727.826,727.826,19,"DT")
2981117
"^DD",727.826,727.826,20,0)
COST OF TRANSACTION^F^^0;21^K:$L(X)>6!($L(X)<1) X
"^DD",727.826,727.826,20,.1)
Cost of Transaction
"^DD",727.826,727.826,20,3)
Answer must be 1-6 characters in length.
"^DD",727.826,727.826,20,10)
TOTAL COST (#14) or TOTAL LAB COST (#48) from the RECORD OF PROS APPLIANCE/REPAIR file.
"^DD",727.826,727.826,20,21,0)
^^24^24^2990511^^^
"^DD",727.826,727.826,20,21,1,0)
COST OF TRANSACTION is the value found in TOTAL COST in the patient's
"^DD",727.826,727.826,20,21,2,0)
    prosthetic record when the Form Requested On is one of the following.
"^DD",727.826,727.826,20,21,3,0)
    These forms designate commercial acquisition methods:
"^DD",727.826,727.826,20,21,4,0)
1)  PSC, represented by 1.
"^DD",727.826,727.826,20,21,5,0)
2)  2421, represented by 2.
"^DD",727.826,727.826,20,21,6,0)
3)  2237, represented by 3.
"^DD",727.826,727.826,20,21,7,0)
4)  2529-7, represented by 5.
"^DD",727.826,727.826,20,21,8,0)
5)  2474, represented by 6.
"^DD",727.826,727.826,20,21,9,0)
6)  2431, represented by 7.
"^DD",727.826,727.826,20,21,10,0)
7)  2914, represented by 8.
"^DD",727.826,727.826,20,21,11,0)
8)  OTHER, represented by 9.
"^DD",727.826,727.826,20,21,12,0)
9)  2520, represented by 10.
"^DD",727.826,727.826,20,21,13,0)
10) VISA, represented by 14
"^DD",727.826,727.826,20,21,14,0)
 
"^DD",727.826,727.826,20,21,15,0)
COST OF TRANSACTION is the value found in TOTAL LAB COST in the patient's
"^DD",727.826,727.826,20,21,16,0)
    prosthetic record when the Form Requested On is the following
"^DD",727.826,727.826,20,21,17,0)
    (designating a Lab Transaction): 
"^DD",727.826,727.826,20,21,18,0)
1)  2529-3, represented by 4.
"^DD",727.826,727.826,20,21,19,0)
 
"^DD",727.826,727.826,20,21,20,0)
COST OF TRANSACTION has a value of zero when the Form Requested On is one
"^DD",727.826,727.826,20,21,21,0)
    of the following, which designates a stock or inventory issue:
"^DD",727.826,727.826,20,21,22,0)
1)  STOCK ISSUE, represented by 11.
"^DD",727.826,727.826,20,21,23,0)
2)  INVENTORY ISSUE, represented by 12.
"^DD",727.826,727.826,20,21,24,0)
 
"^DD",727.826,727.826,20,23,0)
^^7^7^2990511^^^
"^DD",727.826,727.826,20,23,1,0)
COST OF TRANSACTION is derived from the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,20,23,2,0)
    file (#660).  Depending on how the COST OF TRANSACTION is constructed,
"^DD",727.826,727.826,20,23,3,0)
    data is derived from the following fields in the RECORD OF PROS
"^DD",727.826,727.826,20,23,4,0)
    APPLIANCE/REPAIR file (#660):
"^DD",727.826,727.826,20,23,5,0)
1) TOTAL COST (#14)
"^DD",727.826,727.826,20,23,6,0)
2) TOTAL LAB COST (#48)
"^DD",727.826,727.826,20,23,7,0)
3) FORM REQUESTED ON (#11)
"^DD",727.826,727.826,20,"DT")
2981215
"^DD",727.826,727.826,21,0)
LAB LABOR COST^F^^0;22^K:$L(X)>6!($L(X)<1) X
"^DD",727.826,727.826,21,.1)
Lab Labor Cost
"^DD",727.826,727.826,21,3)
Answer must be 1-6 characters in length.
"^DD",727.826,727.826,21,10)
TOTAL LABOR COST (#46) in the RECORD OF PROS APPLIANCE/REPAIR file.
"^DD",727.826,727.826,21,21,0)
^^1^1^2981117^^^^
"^DD",727.826,727.826,21,21,1,0)
The LAB LABOR COST is the total cost of labor to perform the job.
"^DD",727.826,727.826,21,23,0)
^^13^13^2981117^^^
"^DD",727.826,727.826,21,23,1,0)
LAB LABOR COST is derived from the TOTAL LABOR COST (#46) in the RECORD
"^DD",727.826,727.826,21,23,2,0)
OF PROS APPLIANCE/REPAIR file.  The following algorithm is defined:
"^DD",727.826,727.826,21,23,3,0)
 
"^DD",727.826,727.826,21,23,4,0)
a) If the patient's prosthetic record indicates a Lab Transaction, the
"^DD",727.826,727.826,21,23,5,0)
   value of LAB LABOR COST is equal to the value found for TOTAL LABOR
"^DD",727.826,727.826,21,23,6,0)
   COST.
"^DD",727.826,727.826,21,23,7,0)
 
"^DD",727.826,727.826,21,23,8,0)
b) If the patient's prosthetic record is not a Lab Transaction, the value
"^DD",727.826,727.826,21,23,9,0)
   of LAB LABOR COST is zero.
"^DD",727.826,727.826,21,23,10,0)
 
"^DD",727.826,727.826,21,23,11,0)
c) If LAB LABOR COST is not known, and the patient's prosthetic record
"^DD",727.826,727.826,21,23,12,0)
   indicates a Lab Transaction, a zero value is assigned to the extract
"^DD",727.826,727.826,21,23,13,0)
   record.
"^DD",727.826,727.826,21,"DT")
2981117
"^DD",727.826,727.826,22,0)
LAB MATERIAL COST^F^^0;23^K:$L(X)>6!($L(X)<1) X
"^DD",727.826,727.826,22,.1)
Lab Material Cost
"^DD",727.826,727.826,22,3)
Answer must be 1-6 characters in length.
"^DD",727.826,727.826,22,10)
TOTAL MATERIAL COST (#47) in the RECORD OF PROS APPLIANCE/REPAIR file.
"^DD",727.826,727.826,22,21,0)
^^2^2^2981117^^^
"^DD",727.826,727.826,22,21,1,0)
LAB MATERIAL COST is the cost of all materials required to complete the
"^DD",727.826,727.826,22,21,2,0)
prosthesis.
"^DD",727.826,727.826,22,23,0)
^^16^16^2981117^^
"^DD",727.826,727.826,22,23,1,0)
The LAB MATERIAL COST is derived from the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,22,23,2,0)
according to the following algorithm:
"^DD",727.826,727.826,22,23,3,0)
a) If the patient's prosthetic record indicates a Lab Transaction, the
"^DD",727.826,727.826,22,23,4,0)
   value of LAB MATERIAL COST is equal to the value found for TOTAL
"^DD",727.826,727.826,22,23,5,0)
   MATERIAL COST.
"^DD",727.826,727.826,22,23,6,0)
 
"^DD",727.826,727.826,22,23,7,0)
b) If the patient's prosthetic record is not a Lab Transaction, the value
"^DD",727.826,727.826,22,23,8,0)
   of LAB MATERIAL COST is zero.
"^DD",727.826,727.826,22,23,9,0)
 
"^DD",727.826,727.826,22,23,10,0)
c) If LAB MATERIAL COST is not known, and the patient's prosthetic record
"^DD",727.826,727.826,22,23,11,0)
   indicates a Lab Transaction, a zero value is assigned to the extract
"^DD",727.826,727.826,22,23,12,0)
   record.
"^DD",727.826,727.826,22,23,13,0)
 
"^DD",727.826,727.826,22,23,14,0)
d) LAB MATERIAL COST shall allow for values which are reported in dollars
"^DD",727.826,727.826,22,23,15,0)
   and cents.  The actual value shall be extracted, including the decimal
"^DD",727.826,727.826,22,23,16,0)
   point.
"^DD",727.826,727.826,22,"DT")
2981117
"^DD",727.826,727.826,23,0)
BILLING STATUS^S^1:SC/OP (Service Connected Outpatient);2:SC/IP (Service Connected Inpatient);3:NSC/IP (Non Service Connected Inpatient);4:NSC/OP (Non Service Connected Outpatient);5:Other (Patient Category unknown);^0;24^Q
"^DD",727.826,727.826,23,.1)
Billing Status
"^DD",727.826,727.826,23,3)
Enter the Prosthetic Patient Category for utilization.
"^DD",727.826,727.826,23,10)
BILLING STATUS is derived from PATIENT CATEGORY in the RECORD OF PROS APPLIANCE/REPAIR file (#660)
"^DD",727.826,727.826,23,21,0)
^^1^1^2990511^^^
"^DD",727.826,727.826,23,21,1,0)
BILLING STATUS is the prosthetics utilization status.
"^DD",727.826,727.826,23,23,0)
^^3^3^2990511^^
"^DD",727.826,727.826,23,23,1,0)
BILLING STATUS is derived from the PATIENT CATEGORY field (#62) in the
"^DD",727.826,727.826,23,23,2,0)
RECORD OF PROS APPLIANCE/REPAIR file (#660) for the prosthetic device
"^DD",727.826,727.826,23,23,3,0)
record extracted.
"^DD",727.826,727.826,23,"DT")
2980715
"^DD",727.826,727.826,24,0)
VET/NON VET^S^Y:Patient is a veteran;N:Patient is not a veteran;^0;25^Q
"^DD",727.826,727.826,24,.1)
Vet/Non Vet
"^DD",727.826,727.826,24,3)
Enter Y to indicate the patient is a veteran and N to indicate the patient is not a veteran.
"^DD",727.826,727.826,24,10)
VET/NON VET is derived from the VETERAN (Y/N) field in the Patient file using DFN.
"^DD",727.826,727.826,24,21,0)
^^1^1^2980715^^
"^DD",727.826,727.826,24,21,1,0)
VET/NON VET indicates if the patient is a veteran.
"^DD",727.826,727.826,24,23,0)
^^3^3^2980715^
"^DD",727.826,727.826,24,23,1,0)
VET/NON VET is pulled from the VETERAN (Y/N) field (#1901) in the Patient
"^DD",727.826,727.826,24,23,2,0)
file (#2).  If the veteran's status is not known, a NULL value will be
"^DD",727.826,727.826,24,23,3,0)
assigned to the the VET/NON VET field.
"^DD",727.826,727.826,24,"DT")
2980715
"^DD",727.826,727.826,25,0)
TYPE OF TRANSACTION^S^I:Initial issue;R:Replacement;S:Spare;X:Repair;^0;26^Q
"^DD",727.826,727.826,25,.1)
Type of Transaction
"^DD",727.826,727.826,25,3)
Enter I to indicate an initial prosthetic issue, R for replacement, S for a spare prosthesis and X for a repaired prosthesis.
"^DD",727.826,727.826,25,10)
TYPE OF TRANSACTION field (#2) in the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,25,21,0)
^^2^2^2981222^^^
"^DD",727.826,727.826,25,21,1,0)
TYPE OF TRANSACTION is the code that best describes the prosthetic
"^DD",727.826,727.826,25,21,2,0)
transaction.
"^DD",727.826,727.826,25,23,0)
^^3^3^2981222^^
"^DD",727.826,727.826,25,23,1,0)
The TYPE OF TRANSACTION is derived from the TYPE OF TRANSACTION field (#2)
"^DD",727.826,727.826,25,23,2,0)
in the RECORD OF PROS APPLIANCE/REPAIR file (#660).  If the TYPE OF
"^DD",727.826,727.826,25,23,3,0)
TRANSACTION is not known, NULL is assigned to the field.
"^DD",727.826,727.826,25,"DT")
2980715
"^DD",727.826,727.826,26,0)
REQUESTING STATION^F^^0;27^K:$L(X)>5!($L(X)<3) X
"^DD",727.826,727.826,26,.1)
Requesting Station
"^DD",727.826,727.826,26,3)
Answer must be 3-5 characters in length.
"^DD",727.826,727.826,26,10)
STATION NUMBER (#99) in the INSTITUTION file pointed to by REQESTING STATION in file #660.
"^DD",727.826,727.826,26,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,26,21,1,0)
REQUESTING STATION is the facility that initiates the request for a Lab
"^DD",727.826,727.826,26,21,2,0)
prosthetic.
"^DD",727.826,727.826,26,23,0)
^^4^4^2981117^^^
"^DD",727.826,727.826,26,23,1,0)
REQUESTING STATION is derived by pulling the STATION NUMBER in the
"^DD",727.826,727.826,26,23,2,0)
INSTITUTION file (#4) as pointed to by the REQUESTING STATION (#40) in the
"^DD",727.826,727.826,26,23,3,0)
RECORD OF PROS APPLIANCE/REPAIR (#660).  Only the first five characters
"^DD",727.826,727.826,26,23,4,0)
of the STATION NUMBER will be extracted.  
"^DD",727.826,727.826,26,"DT")
2981117
"^DD",727.826,727.826,27,0)
RECEIVING STATION^F^^0;28^K:$L(X)>5!($L(X)<3) X
"^DD",727.826,727.826,27,.1)
Receiving Station
"^DD",727.826,727.826,27,3)
Answer must be 3-5 characters in length.
"^DD",727.826,727.826,27,10)
STATION NUMBER (#99) in the INSTITUTION file pointed to by RECEIVING STATION in file #660.
"^DD",727.826,727.826,27,21,0)
^^2^2^2981117^^^^
"^DD",727.826,727.826,27,21,1,0)
RECEIVING STATION is the Lab facility filling the Lab request and providing
"^DD",727.826,727.826,27,21,2,0)
the prosthetic to the REQUESTING STATION.
"^DD",727.826,727.826,27,23,0)
^^4^4^2981117^^^
"^DD",727.826,727.826,27,23,1,0)
RECEIVING STATION is derived by pulling the STATION NUMBER in the 
"^DD",727.826,727.826,27,23,2,0)
INSTITUTION file (#4) as pointed to by the RECEIVING STATION (#70) in the
"^DD",727.826,727.826,27,23,3,0)
RECORD OF PROS APPLIANCE/REPAIR (#660).  Only the first five characters
"^DD",727.826,727.826,27,23,4,0)
of the STATION NUMBER will be extracted.  
"^DD",727.826,727.826,27,"DT")
2981117
"^DD",727.826,727.826,28,0)
PSAS HCPCS CODE^F^^0;29^K:$L(X)>15!($L(X)<5) X
"^DD",727.826,727.826,28,3)
Answer must be 5-15 characters in length.
"^DD",727.826,727.826,28,10)

"^DD",727.826,727.826,28,21,0)
^^2^2^2990105^^^^
"^DD",727.826,727.826,28,21,1,0)
This field is used to hold the PSAS HCPCS Code from the Prosthetics
"^DD",727.826,727.826,28,21,2,0)
record being extracted.
"^DD",727.826,727.826,28,23,0)
^^4^4^2990105^^^
"^DD",727.826,727.826,28,23,1,0)
The PSAS HCPCS field (#4.5) of the RECORD OF PROS APPLIANCE/REPAIR
"^DD",727.826,727.826,28,23,2,0)
file (#660) is used.  It is a pointer to the PROSTHETICS HCPCS file 
"^DD",727.826,727.826,28,23,3,0)
(#661.1).  The HCPCS field (#.01) of file #661.1 is placed in this
"^DD",727.826,727.826,28,23,4,0)
extract record field.
"^DD",727.826,727.826,28,"DT")
2990802
"^DD",727.826,727.826,29,0)
ZIP CODE^F^^1;1^K:$L(X)>10!($L(X)<5) X
"^DD",727.826,727.826,29,.1)
ZIP Code
"^DD",727.826,727.826,29,3)
Enter the ZIP or ZIP+4 for the prosthetics patient.
"^DD",727.826,727.826,29,10)
ZIP+4 (.1112) in the Patient file (#2) as referenced by DFN.
"^DD",727.826,727.826,29,21,0)
^^2^2^2980715^^
"^DD",727.826,727.826,29,21,1,0)
ZIP CODE is the patient ZIP+4 as indicated in the patient's Patient file
"^DD",727.826,727.826,29,21,2,0)
(#2) record.
"^DD",727.826,727.826,29,23,0)
^^3^3^2980715^
"^DD",727.826,727.826,29,23,1,0)
ZIP CODE is derived from the ZIP+4 field in the Patient file for the
"^DD",727.826,727.826,29,23,2,0)
record indicated by the (prosthetics patient) DFN.  The value of ZIP CODE
"^DD",727.826,727.826,29,23,3,0)
may be either the 5 digit ZIP CODE or the ZIP+4 code.
"^DD",727.826,727.826,29,"DT")
2980715
"^DD",727.826,727.826,30,0)
DATE OF BIRTH^FO^^1;2^K:$L(X)>8!($L(X)<8) X
"^DD",727.826,727.826,30,.1)
Date of Birth
"^DD",727.826,727.826,30,2)
S Y(0)=Y S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.826,727.826,30,2.1)
S Y=$$ECXDATEX^ECXUTL(Y)
"^DD",727.826,727.826,30,3)
Enter the patient's birthday in the format YYYYMMDD.
"^DD",727.826,727.826,30,10)
DATE OF BIRTH (#.03) in the Patient file.
"^DD",727.826,727.826,30,21,0)
^^1^1^2990505^^^
"^DD",727.826,727.826,30,21,1,0)
The patient data of birth.
"^DD",727.826,727.826,30,23,0)
^^3^3^2990505^^
"^DD",727.826,727.826,30,23,1,0)
DATE OF BIRTH is derived from the DATE OF BIRTH field (#.03) in the
"^DD",727.826,727.826,30,23,2,0)
Patient file (#2) referenced by the patient's DFN.  DATE OF BIRTH will be
"^DD",727.826,727.826,30,23,3,0)
stored in the format YYYYMMDD.
"^DD",727.826,727.826,30,"DT")
2980715
"^DD",727.826,727.826,31,0)
SEX^S^M:MALE;F:FEMALE;^1;3^Q
"^DD",727.826,727.826,31,.1)

"^DD",727.826,727.826,31,3)

"^DD",727.826,727.826,31,10)
SEX (.02) in the Patient file (#2) as referenced by DFN.
"^DD",727.826,727.826,31,21,0)
^^1^1^2990505^^^^
"^DD",727.826,727.826,31,21,1,0)
Data is M if this patient is a male, or F if female.
"^DD",727.826,727.826,31,23,0)
^^3^3^2990505^^^^
"^DD",727.826,727.826,31,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4),
"^DD",727.826,727.826,31,23,2,0)
this data element is derived from the SEX field (#.02) in the PATIENT 
"^DD",727.826,727.826,31,23,3,0)
file (#2).
"^DD",727.826,727.826,31,"DT")
2990505
"^DD",727.826,727.826,32,0)
AMIS GROUPER^NJ8,0^^1;4^K:+X'=X!(X>99999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",727.826,727.826,32,.1)
AMIS Grouper
"^DD",727.826,727.826,32,1,0)
^.1
"^DD",727.826,727.826,32,3)
Enter the specific grouper number that is used to indicate what parts combine to create a prosthetic device.
"^DD",727.826,727.826,32,10)
AMIS GROUPER field (#68) of the RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DD",727.826,727.826,32,21,0)
^^2^2^2980715^^^
"^DD",727.826,727.826,32,21,1,0)
AMIS GROUPER holds the AMIS Grouper number that indicates what items
"^DD",727.826,727.826,32,21,2,0)
combine to create a prosthetic device.
"^DD",727.826,727.826,32,23,0)
^^3^3^2980715^^
"^DD",727.826,727.826,32,23,1,0)
AMIS GROUPER is derived from the AMIS GROUPER field (#68) in the RECORD OF
"^DD",727.826,727.826,32,23,2,0)
PROS APPLIANCE/REPAIR file (#660).  The field is used to sort prosthetic
"^DD",727.826,727.826,32,23,3,0)
items that combine to create a prosthesis.  Decimals are not allowed.
"^DD",727.826,727.826,32,"DT")
2980722
"^DD",727.826,727.826,33,0)
PRIMARY CARE PROVIDER NPI^F^^1;5^K:$L(X)>8!($L(X)<1) X
"^DD",727.826,727.826,33,.1)
Primary Care Provider NPI
"^DD",727.826,727.826,33,3)
Enter the National Provider Index for the Primary Care Provider.
"^DD",727.826,727.826,33,10)
Not yet available.
"^DD",727.826,727.826,33,21,0)
^^2^2^2980715^^
"^DD",727.826,727.826,33,21,1,0)
This field is a placeholder that will be populated when the NPI becomes
"^DD",727.826,727.826,33,21,2,0)
available.
"^DD",727.826,727.826,33,23,0)
^^1^1^2980715^
"^DD",727.826,727.826,33,23,1,0)
The National Provider Index is not yet available.
"^DD",727.826,727.826,33,"DT")
2980715
"^DD",727.826,727.826,34,0)
MASTER PATIENT INDEX^F^^1;6^K:$L(X)>10!($L(X)<1) X
"^DD",727.826,727.826,34,.1)
Master Patient Index
"^DD",727.826,727.826,34,3)
Enter the Master Patient Index for the prosthetics patient.
"^DD",727.826,727.826,34,10)
Not yet available.
"^DD",727.826,727.826,34,21,0)
^^2^2^2990504^^^
"^DD",727.826,727.826,34,21,1,0)
This field is a placeholder that will be populated when the MPI becomes
"^DD",727.826,727.826,34,21,2,0)
available.
"^DD",727.826,727.826,34,23,0)
^^1^1^2990504^^
"^DD",727.826,727.826,34,23,1,0)
The data for this field is not yet available.
"^DD",727.826,727.826,34,"DT")
2980715
"^DD",727.826,727.826,35,0)
DSS DEPT^F^^1;7^K:$L(X)>10!($L(X)<1) X
"^DD",727.826,727.826,35,.1)
DSS Department
"^DD",727.826,727.826,35,3)
Enter the DSS Department for the product team completing the prosthetics work.
"^DD",727.826,727.826,35,10)
Not yet available.
"^DD",727.826,727.826,35,21,0)
^^2^2^2990520^^^
"^DD",727.826,727.826,35,21,1,0)
This field is a placeholder that will be populated when the DSS Department
"^DD",727.826,727.826,35,21,2,0)
becomes available.
"^DD",727.826,727.826,35,23,0)
^^1^1^2990520^^
"^DD",727.826,727.826,35,23,1,0)
The data for this field is not yet available.
"^DD",727.826,727.826,35,"DT")
2980715
"^DD",727.826,727.826,36,0)
PC PROVIDER PERSON CLASS^F^^1;8^K:$L(X)>7!($L(X)<7) X
"^DD",727.826,727.826,36,3)
Answer must be 7 characters in length.
"^DD",727.826,727.826,36,21,0)
^^2^2^2981026^
"^DD",727.826,727.826,36,21,1,0)
The VA Code of the Person Class of the Primary Care Provider 
"^DD",727.826,727.826,36,21,2,0)
associated with this record.
"^DD",727.826,727.826,36,23,0)
^^6^6^2981026^
"^DD",727.826,727.826,36,23,1,0)
The field will hold the VA Code associated with the active Person
"^DD",727.826,727.826,36,23,2,0)
Class of the patient's Primary Care Provider as of the date of this
"^DD",727.826,727.826,36,23,3,0)
extract record.
"^DD",727.826,727.826,36,23,4,0)
  
"^DD",727.826,727.826,36,23,5,0)
The VA Code is always of the form "V"_six numeric digits; exactly
"^DD",727.826,727.826,36,23,6,0)
7 characters in length.
"^DD",727.826,727.826,36,"DT")
2981026
"^DD",727.826,727.826,37,0)
RACE^F^^1;9^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,37,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,37,21,0)
^^1^1^2990505^
"^DD",727.826,727.826,37,21,1,0)
Race ABBREVIATION for this patient.
"^DD",727.826,727.826,37,23,0)
^^5^5^2990505^
"^DD",727.826,727.826,37,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (4),
"^DD",727.826,727.826,37,23,2,0)
RACE data is shown as the ABBREVIATION field (#2) of the RACE file (#10)
"^DD",727.826,727.826,37,23,3,0)
entry pointed to by the RACE field (#.06) in the PATIENT file (#2).
"^DD",727.826,727.826,37,23,4,0)
 
"^DD",727.826,727.826,37,23,5,0)
Patient race is returned by DEM^VADPT.
"^DD",727.826,727.826,37,"DT")
2990505
"^DD",727.826,727.826,38,0)
POW STATUS^S^Y:YES;N:NO;U:UNKNOWN;^1;10^Q
"^DD",727.826,727.826,38,21,0)
^^1^1^2990505^^
"^DD",727.826,727.826,38,21,1,0)
The patient's POW status. May be set to Y(es), N(o), or U(nknown).
"^DD",727.826,727.826,38,23,0)
^^2^2^2990505^^
"^DD",727.826,727.826,38,23,1,0)
PATIENT file (#2); POW STATUS INDICATED? field (#.525).
"^DD",727.826,727.826,38,23,2,0)
The status indicator is returned by SVC^VADPT.
"^DD",727.826,727.826,38,"DT")
2990505
"^DD",727.826,727.826,39,0)
POW LOCATION^F^^1;11^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,39,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,39,21,0)
^^9^9^2990505^
"^DD",727.826,727.826,39,21,1,0)
If POW Status is indicated, then this is the POW confinement
"^DD",727.826,727.826,39,21,2,0)
location/period. 
"^DD",727.826,727.826,39,21,3,0)
 
"^DD",727.826,727.826,39,21,4,0)
 1      WORLD WAR I
"^DD",727.826,727.826,39,21,5,0)
 2      WORLD WAR II - EUROPE
"^DD",727.826,727.826,39,21,6,0)
 3      WORLD WAR II - PACIFIC
"^DD",727.826,727.826,39,21,7,0)
 4      KOREAN
"^DD",727.826,727.826,39,21,8,0)
 5      VIETNAM
"^DD",727.826,727.826,39,21,9,0)
 6      OTHER
"^DD",727.826,727.826,39,23,0)
^^3^3^2990505^
"^DD",727.826,727.826,39,23,1,0)
PATIENT file (#2); POW CONFINEMENT LOCATION field (#.526).  This is a
"^DD",727.826,727.826,39,23,2,0)
pointer value to the POW PERIOD file (#22).
"^DD",727.826,727.826,39,23,3,0)
The location indicator is returned by SVC^VADPT.
"^DD",727.826,727.826,39,"DT")
2990505
"^DD",727.826,727.826,40,0)
SHARING AGREEMENT PAYOR^F^^1;12^K:$L(X)>1!($L(X)<1) X
"^DD",727.826,727.826,40,3)
Answer must be 1 character in length.
"^DD",727.826,727.826,40,21,0)
^^1^1^2990505^
"^DD",727.826,727.826,40,21,1,0)
An indicator used for patients participating in sharing agreements.
"^DD",727.826,727.826,40,23,0)
^^15^15^2990505^
"^DD",727.826,727.826,40,23,1,0)
The ALIAS sub-field (#.01) of the ALIAS multiple field (#1) of the
"^DD",727.826,727.826,40,23,2,0)
PATIENT file (#2) is used to indicate a patient who participates in 
"^DD",727.826,727.826,40,23,3,0)
a sharing agreement. If the #.01 field contains any one of the 
"^DD",727.826,727.826,40,23,4,0)
specified key words, then the patient is considered to be included 
"^DD",727.826,727.826,40,23,5,0)
for Sharing Agreement information. The keywords are: SHARING AGREEMENT,
"^DD",727.826,727.826,40,23,6,0)
CHAMPVA, CHAMPUS, TRICARE, CAT C, CATEGORY C.
"^DD",727.826,727.826,40,23,7,0)
  
"^DD",727.826,727.826,40,23,8,0)
A one character code for the keyword found in the ALIAS multiple 
"^DD",727.826,727.826,40,23,9,0)
field is obtained by the following conversion:
"^DD",727.826,727.826,40,23,10,0)
SHARING AGREEMENT = A
"^DD",727.826,727.826,40,23,11,0)
TRICARE = B
"^DD",727.826,727.826,40,23,12,0)
CAT C = C
"^DD",727.826,727.826,40,23,13,0)
CATEGORY C = C
"^DD",727.826,727.826,40,23,14,0)
CHAMPVA = D
"^DD",727.826,727.826,40,23,15,0)
CHAMPUS = E
"^DD",727.826,727.826,40,"DT")
2990505
"^DD",727.826,727.826,41,0)
SHARING AGREEMENT INSURANCE^F^^1;13^K:$L(X)>11!($L(X)<1) X
"^DD",727.826,727.826,41,3)
Answer must be 1-11 characters in length.
"^DD",727.826,727.826,41,21,0)
^^2^2^2990505^
"^DD",727.826,727.826,41,21,1,0)
Used to indicate insurer, if patient participates in a
"^DD",727.826,727.826,41,21,2,0)
sharing agreement.
"^DD",727.826,727.826,41,23,0)
^^5^5^2990505^
"^DD",727.826,727.826,41,23,1,0)
Data will be taken from the INSURANCE TYPE sub-field (#.01) of the
"^DD",727.826,727.826,41,23,2,0)
INSURANCE TYPE field (#.3121), sub-file #2.312, of the PATIENT file
"^DD",727.826,727.826,41,23,3,0)
(#2).  This is a pointer value for the INSURANCE COMPANY file (#36).
"^DD",727.826,727.826,41,23,4,0)
Only the first insurance company found in the multiple field is used.
"^DD",727.826,727.826,41,23,5,0)
The data is stored as free text.
"^DD",727.826,727.826,41,"DT")
2990505
"^DD",727.826,727.826,42,0)
MST STATUS^S^Y:Yes, screened reports MST;N:Screened, does not report MST;D:Screened, declines to answer;^1;14^Q
"^DD",727.826,727.826,42,21,0)
^^5^5^2990505^
"^DD",727.826,727.826,42,21,1,0)
The MST Status of the patient on the date of the outpatient encounter.
"^DD",727.826,727.826,42,21,2,0)
Possible status values are:
"^DD",727.826,727.826,42,21,3,0)
Y = Yes, screened reports MST
"^DD",727.826,727.826,42,21,4,0)
N = Screened, does not report MST
"^DD",727.826,727.826,42,21,5,0)
D = Screened, declines to answer
"^DD",727.826,727.826,42,23,0)
^^5^5^2990505^
"^DD",727.826,727.826,42,23,1,0)
The MST HISTORY file (#29.11) holds data regarding military sexual
"^DD",727.826,727.826,42,23,2,0)
trauma claims and effective dates.  The patients MST status is stored
"^DD",727.826,727.826,42,23,3,0)
in the MST STATUS field (#3).  A call will be made to
"^DD",727.826,727.826,42,23,4,0)
$$GETSTAT^DGMSTAPI(DFN,DGDATE) using the DFN in the PATIENT NO.  DFN 
"^DD",727.826,727.826,42,23,5,0)
field and the date in the DAY field.
"^DD",727.826,727.826,42,"DT")
2990505
"^DD",727.826,727.826,43,0)
ENROLLMENT LOCATION^F^^1;15^K:$L(X)>5!($L(X)<3) X
"^DD",727.826,727.826,43,3)
Answer must be 3-5 characters in length.
"^DD",727.826,727.826,43,21,0)
^^2^2^2990505^
"^DD",727.826,727.826,43,21,1,0)
The facility that the patient chooses to designate as his
"^DD",727.826,727.826,43,21,2,0)
preferred location for care.
"^DD",727.826,727.826,43,23,0)
^^5^5^2990505^
"^DD",727.826,727.826,43,23,1,0)
The PREFERRED FACILITY field (# 27.02) of the PATIENT file (#2)
"^DD",727.826,727.826,43,23,2,0)
is defined as the facility that the patient chooses to designate
"^DD",727.826,727.826,43,23,3,0)
as his preferred location for care.  The PREFERRED FACILITY field
"^DD",727.826,727.826,43,23,4,0)
(# 27.02) is a pointer to the INSTITUTION file (#4).  From file #4,
"^DD",727.826,727.826,43,23,5,0)
the value in the STATION NUMBER field (#99) is used.
"^DD",727.826,727.826,43,"DT")
2990505
"^DD",727.826,727.826,44,0)
STATE^F^^1;16^K:$L(X)>2!($L(X)<2) X
"^DD",727.826,727.826,44,3)
Answer must be 2 characters in length.
"^DD",727.826,727.826,44,21,0)
^^1^1^2990505^
"^DD",727.826,727.826,44,21,1,0)
The state in which the patient resides.
"^DD",727.826,727.826,44,23,0)
^^4^4^2990505^^
"^DD",727.826,727.826,44,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field (#4)
"^DD",727.826,727.826,44,23,2,0)
in the extract record, data is derived from the STATE field (#.115) in the
"^DD",727.826,727.826,44,23,3,0)
PATIENT file (#2) which points to the STATE file (#5).  From the STATE file
"^DD",727.826,727.826,44,23,4,0)
record, the two-character VA STATE CODE field (#2) is used.
"^DD",727.826,727.826,44,"DT")
2990505
"^DD",727.826,727.826,45,0)
COUNTY^F^^1;17^K:$L(X)>3!($L(X)<3) X
"^DD",727.826,727.826,45,3)
Answer must be 3 characters in length.
"^DD",727.826,727.826,45,21,0)
^^1^1^2990505^
"^DD",727.826,727.826,45,21,1,0)
The county in which the patient resides.
"^DD",727.826,727.826,45,23,0)
^^5^5^2990505^^
"^DD",727.826,727.826,45,23,1,0)
Using the patient pointer (DFN) stored in the PATIENT NO. - DFN field 
"^DD",727.826,727.826,45,23,2,0)
(#4) in the extract record, data is derived from the COUNTY field (#.117)
"^DD",727.826,727.826,45,23,3,0)
in the PATIENT file (#2), which points to a subfile record in the COUNTY
"^DD",727.826,727.826,45,23,4,0)
multiple field (#3) of the STATE file (#5).  The three-character VA COUNTY
"^DD",727.826,727.826,45,23,5,0)
CODE field (#2) within the COUNTY multiple field is used.
"^DD",727.826,727.826,45,"DT")
2990505
"^DD",727.826,727.826,46,0)
ASSOCIATE PC PROVIDER^F^^1;18^K:$L(X)>11!($L(X)<2) X
"^DD",727.826,727.826,46,3)
Answer must be 2-11 characters in length.
"^DD",727.826,727.826,46,21,0)
^^4^4^2990505^
"^DD",727.826,727.826,46,21,1,0)
This is a reference to the NEW PERSON file (#200) for the provider who
"^DD",727.826,727.826,46,21,2,0)
is the patients Associate Provider for Primary Care as assigned with
"^DD",727.826,727.826,46,21,3,0)
the PCMM application.  The IEN to file #200 is prefixed with the 
"^DD",727.826,727.826,46,21,4,0)
character 2.
"^DD",727.826,727.826,46,23,0)
^^2^2^2990505^
"^DD",727.826,727.826,46,23,1,0)
This data element will be obtained by use of a function provided by
"^DD",727.826,727.826,46,23,2,0)
the PCMM application.
"^DD",727.826,727.826,46,"DT")
2990505
"^DD",727.826,727.826,47,0)
ASSOC. PC PROV. PERSON CLASS^F^^1;19^K:$L(X)>7!($L(X)<7) X
"^DD",727.826,727.826,47,3)
Answer must be 7 characters in length.
"^DD",727.826,727.826,47,21,0)
^^4^4^2990505^
"^DD",727.826,727.826,47,21,1,0)
The field will hold the VA Code associated with the active Person Class
"^DD",727.826,727.826,47,21,2,0)
of the Associate Primary Care Provider as assigned by through the PCMM
"^DD",727.826,727.826,47,21,3,0)
appilcation.  The VA Code is always of the form "V"_six numeric digits;  
"^DD",727.826,727.826,47,21,4,0)
exactly 7 characters in length. 
"^DD",727.826,727.826,47,23,0)
^^3^3^2990505^
"^DD",727.826,727.826,47,23,1,0)
NEW PERSON file #200, Field #5; file #8932.1.
"^DD",727.826,727.826,47,23,2,0)
Active Person Class is determined by $$GET^XUA4A71(PERS,DATE), where 
"^DD",727.826,727.826,47,23,3,0)
PERS is the IEN from file #200.
"^DD",727.826,727.826,47,"DT")
2990505
"^DD",727.826,727.826,48,0)
ASSOCIATE PC PROVIDER NPI^F^^1;20^K:$L(X)>8!($L(X)<1) X
"^DD",727.826,727.826,48,3)
Answer must be 1-8 characters in length.
"^DD",727.826,727.826,48,21,0)
^^1^1^2990506^
"^DD",727.826,727.826,48,21,1,0)
The Associate Primary Care Provider's National Provider Identifier code.
"^DD",727.826,727.826,48,23,0)
^^4^4^2990506^
"^DD",727.826,727.826,48,23,1,0)
When National Provider Identifier (NPI) codes become available, this
"^DD",727.826,727.826,48,23,2,0)
field will hold the Associate Primary Care Provider NPI.
"^DD",727.826,727.826,48,23,3,0)
   
"^DD",727.826,727.826,48,23,4,0)
Field will be set to null until data becomes available.
"^DD",727.826,727.826,48,"DT")
2990506
"^DD",728,728,0)
FIELD^^66^62
"^DD",728,728,0,"DDA")
N
"^DD",728,728,0,"DT")
2990511
"^DD",728,728,0,"IX","B",728,.01)

"^DD",728,728,0,"NM","DSS EXTRACTS")

"^DD",728,728,0,"VRPK")
DSS EXTRACTS
"^DD",728,728,.01,0)
NAME^RP4'^DIC(4,^0;1^Q
"^DD",728,728,.01,1,0)
^.1
"^DD",728,728,.01,1,1,0)
728^B
"^DD",728,728,.01,1,1,1)
S ^ECX(728,"B",$E(X,1,30),DA)=""
"^DD",728,728,.01,1,1,2)
K ^ECX(728,"B",$E(X,1,30),DA)
"^DD",728,728,.01,3)
Enter your DSS location or station number.
"^DD",728,728,.01,21,0)
^^2^2^2970908^^^^
"^DD",728,728,.01,21,1,0)
This field contains a pointer to the corresponding location (station number)
"^DD",728,728,.01,21,2,0)
entry in the INSTITUTION file (#4).
"^DD",728,728,.01,23,0)
^^1^1^2970908^^
"^DD",728,728,.01,23,1,0)
Pointer to the INSTITUTION file (#4).
"^DD",728,728,.01,"DT")
2891012
"^DD",728,728,.5,0)
LAB LMIP^SI^0:NO;1:YES;^LMIP;1^Q
"^DD",728,728,.5,3)
Enter "YES" if you are ready to send LMIP Codes for LAB Extract.
"^DD",728,728,.5,21,0)
^^15^15^2960605^
"^DD",728,728,.5,21,1,0)
This field is a flag that indicates whether a facility is ready to send 
"^DD",728,728,.5,21,2,0)
LMIP codes for the LAB Extract. To answer "YES" to this question, the 
"^DD",728,728,.5,21,3,0)
site must be able to answer "YES" to BOTH of the following questions:
"^DD",728,728,.5,21,4,0)
 
"^DD",728,728,.5,21,5,0)
1. They are in DSS Implementation Round 5 or higher, OR they are in IR1 
"^DD",728,728,.5,21,6,0)
   through IR4 and are extracting data for FY97 or beyond.
"^DD",728,728,.5,21,7,0)
2. All Lab CO directives for LMIP have been completed at their facility.
"^DD",728,728,.5,21,8,0)
   This means that their Lab Service has matched all entries in the 
"^DD",728,728,.5,21,9,0)
   LABORATORY TEST file (#60) to an LMIP code and therefore they are 
"^DD",728,728,.5,21,10,0)
   ready to use the new DSS LAB Extract version that sends only the LMIP 
"^DD",728,728,.5,21,11,0)
   codes to DSS for their initial LAB Feeder Key Values.
"^DD",728,728,.5,21,12,0)
 
"^DD",728,728,.5,21,13,0)
**NOTE** Once this field is set to "YES", the facility is not asked any 
"^DD",728,728,.5,21,14,0)
of these questions again and will automatically use the new DSS LAB 
"^DD",728,728,.5,21,15,0)
Extract version for all future extracts.
"^DD",728,728,.5,"DT")
2970523
"^DD",728,728,7,0)
LAST DATE LAB^D^^7;1^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,7,3)
Enter the last date that information was extracted for Laboratory.
"^DD",728,728,7,21,0)
^^2^2^2950314^^^^
"^DD",728,728,7,21,1,0)
This field contains the last date that Laboratory information was
"^DD",728,728,7,21,2,0)
extracted to the DSS software.
"^DD",728,728,7,23,0)
^^2^2^2960625^^
"^DD",728,728,7,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,7,23,2,0)
the VA FileMan.
"^DD",728,728,7,"DT")
2900522
"^DD",728,728,8,0)
LAST DATE OP PHARMACY^D^^7;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,8,3)
Enter the last date that information was extracted for Outpatient Pharmacy.
"^DD",728,728,8,21,0)
^^2^2^2950314^^^
"^DD",728,728,8,21,1,0)
This field contains the last date that Outpatient Pharmacy information
"^DD",728,728,8,21,2,0)
was extracted to the DSS software.
"^DD",728,728,8,23,0)
^^2^2^2951018^
"^DD",728,728,8,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,8,23,2,0)
the VA FileMan.
"^DD",728,728,8,"DT")
2900522
"^DD",728,728,9,0)
LAST DATE EC^D^^7;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,9,3)
Enter the last date that information was extracted for Event Capture.
"^DD",728,728,9,21,0)
^^2^2^2950314^^^^
"^DD",728,728,9,21,1,0)
This field contains the last date that Event Capture information was
"^DD",728,728,9,21,2,0)
extracted to the DSS software.
"^DD",728,728,9,23,0)
^^2^2^2951018^
"^DD",728,728,9,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,9,23,2,0)
the VA FileMan.
"^DD",728,728,9,"DT")
2940328
"^DD",728,728,10,0)
LAST DATE ADT^D^^7;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,10,3)
Enter the last date that information was extracted for ADT.
"^DD",728,728,10,21,0)
^^2^2^2950315^^^^
"^DD",728,728,10,21,1,0)
This field contains the last date that MAS admission/discharge/transfer
"^DD",728,728,10,21,2,0)
information was extracted to the DSS software.
"^DD",728,728,10,23,0)
^^2^2^2951018^
"^DD",728,728,10,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,10,23,2,0)
the VA FileMan.
"^DD",728,728,10,"DT")
2900821
"^DD",728,728,11,0)
LAST DATE SURGERY^D^^7;5^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,11,3)
Enter the last date that information was extracted for Surgery.
"^DD",728,728,11,21,0)
^^2^2^2950314^^^^
"^DD",728,728,11,21,1,0)
This field contains the last date that Surgery information was extracted
"^DD",728,728,11,21,2,0)
to the DSS software.
"^DD",728,728,11,23,0)
^^2^2^2951018^
"^DD",728,728,11,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,11,23,2,0)
the VA FileMan.
"^DD",728,728,11,"DT")
2900614
"^DD",728,728,12,0)
LAST DATE RADIOLOGY^D^^7;6^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,12,3)
Enter the last date that information was extracted for Radiology.
"^DD",728,728,12,21,0)
^^2^2^2950314^^^^
"^DD",728,728,12,21,1,0)
This field contains the last date that Radiology information was extracted
"^DD",728,728,12,21,2,0)
to the DSS software.
"^DD",728,728,12,23,0)
^^2^2^2951018^
"^DD",728,728,12,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,12,23,2,0)
the VA FileMan.
"^DD",728,728,12,"DT")
2900821
"^DD",728,728,13,0)
LAST DATE NURSING^D^^7;7^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,13,3)
Enter the last date that information was extracted for Nursing.
"^DD",728,728,13,21,0)
^^2^2^2950314^^
"^DD",728,728,13,21,1,0)
This field contains the last date that Nursing information was extracted 
"^DD",728,728,13,21,2,0)
to the DSS software.
"^DD",728,728,13,23,0)
^^2^2^2951018^
"^DD",728,728,13,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,13,23,2,0)
the VA FileMan.
"^DD",728,728,13,"DT")
2901210
"^DD",728,728,14,0)
LAST DATE UD MEDS^D^^7;8^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,14,3)
Enter the last date that information was extracted for Pharmacy Unit Dose.
"^DD",728,728,14,21,0)
^^2^2^2951018^^^
"^DD",728,728,14,21,1,0)
This field contains the last date that Pharmacy Unit Dose information
"^DD",728,728,14,21,2,0)
was extracted to the DSS software.
"^DD",728,728,14,23,0)
^^2^2^2951018^
"^DD",728,728,14,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,14,23,2,0)
the VA FileMan.
"^DD",728,728,14,"DT")
2910214
"^DD",728,728,15,0)
LAST DATE DENTAL^D^^7;9^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,15,3)
Enter the last date that information was extracted for Dental.
"^DD",728,728,15,21,0)
^^2^2^2950314^^
"^DD",728,728,15,21,1,0)
This field contains the last date that Dental information was extracted
"^DD",728,728,15,21,2,0)
to the DSS software.
"^DD",728,728,15,23,0)
^^2^2^2951018^
"^DD",728,728,15,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,15,23,2,0)
the VA FileMan.
"^DD",728,728,15,"DT")
2910228
"^DD",728,728,16,0)
LAST DATE IFCAP^D^^7;10^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,16,3)
Enter the last date that information was extracted for IFCAP.
"^DD",728,728,16,21,0)
^^2^2^2950314^^
"^DD",728,728,16,21,1,0)
This field contains the last date that IFCAP/DSS Unit information was
"^DD",728,728,16,21,2,0)
extracted to the DSS software.
"^DD",728,728,16,23,0)
^^2^2^2951018^
"^DD",728,728,16,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,16,23,2,0)
the VA FileMan.
"^DD",728,728,16,"DT")
2910228
"^DD",728,728,17,0)
LAST DATE CLINIC VISITS^D^^7;11^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,17,3)
Enter the last date that information was extracted for Clinic Visits.
"^DD",728,728,17,21,0)
^^2^2^2950314^^
"^DD",728,728,17,21,1,0)
This field contains the last date that Clinic Visits information was
"^DD",728,728,17,21,2,0)
extracted to the DSS software.
"^DD",728,728,17,23,0)
^^2^2^2951018^
"^DD",728,728,17,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,17,23,2,0)
the VA FileMan.
"^DD",728,728,17,"DT")
2910322
"^DD",728,728,18,0)
LAST DATE WARD STOCK^D^^7;12^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,18,3)
Enter the last date that information was extracted for Ward Stock.
"^DD",728,728,18,21,0)
^^2^2^2950314^^
"^DD",728,728,18,21,1,0)
This field contains the last date that Ward Stock information was extracted
"^DD",728,728,18,21,2,0)
to the DSS software.
"^DD",728,728,18,23,0)
^^2^2^2951018^
"^DD",728,728,18,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,18,23,2,0)
the VA FileMan.
"^DD",728,728,18,"DT")
2910514
"^DD",728,728,19,0)
LAST DATE ADMISSIONS^D^^7;13^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,19,3)
Enter the last date that information was extracted for Patient Admissions.
"^DD",728,728,19,21,0)
^^2^2^2990413^^^^
"^DD",728,728,19,21,1,0)
This field contains the last date that Patient Admissions information
"^DD",728,728,19,21,2,0)
was extracted to the DSS software.
"^DD",728,728,19,23,0)
^^2^2^2990413^^^^
"^DD",728,728,19,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,19,23,2,0)
the VA FileMan.
"^DD",728,728,19,"DT")
2910603
"^DD",728,728,20,0)
LAST DATE MOVEMENT^D^^7;14^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,20,3)
Enter the last date that information was extracted for Patient Movement.
"^DD",728,728,20,21,0)
^^2^2^2950314^^
"^DD",728,728,20,21,1,0)
This field contains the last date that Patient Movement information was
"^DD",728,728,20,21,2,0)
extracted to the DSS software.
"^DD",728,728,20,23,0)
^^2^2^2951018^
"^DD",728,728,20,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,20,23,2,0)
the VA FileMan.
"^DD",728,728,20,"DT")
2910603
"^DD",728,728,21,0)
LAST DATE NO SHOWS^D^^7;15^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,21,3)
Enter the last date that information was extracted for Clinic No-Shows.
"^DD",728,728,21,21,0)
^^2^2^2950314^^
"^DD",728,728,21,21,1,0)
This field contains the last date that Clinic No-Shows information was
"^DD",728,728,21,21,2,0)
extracted to the DSS software.
"^DD",728,728,21,23,0)
^^2^2^2951018^
"^DD",728,728,21,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,21,23,2,0)
the VA FileMan.
"^DD",728,728,21,"DT")
2910604
"^DD",728,728,22,0)
LAB^S^R:RUNNING;^7.1;1^Q
"^DD",728,728,22,3)
Enter R if the extract is currently running.
"^DD",728,728,22,21,0)
^^1^1^2950314^^
"^DD",728,728,22,21,1,0)
This field contains data if the Laboratory extract is currently running.
"^DD",728,728,22,23,0)
^^2^2^2951018^
"^DD",728,728,22,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,22,23,2,0)
the VA FileMan.
"^DD",728,728,22,"DT")
2910613
"^DD",728,728,23,0)
OP^S^R:RUNNING;^7.1;2^Q
"^DD",728,728,23,3)
Enter R if the extract is currently running.
"^DD",728,728,23,21,0)
^^2^2^2950314^^^
"^DD",728,728,23,21,1,0)
This fields contains data if the Outpatient Pharmacy extract is currently
"^DD",728,728,23,21,2,0)
running.
"^DD",728,728,23,23,0)
^^2^2^2951018^
"^DD",728,728,23,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,23,23,2,0)
the VA FileMan.
"^DD",728,728,23,"DT")
2910613
"^DD",728,728,24,0)
EC^S^R:RUNNING;^7.1;3^Q
"^DD",728,728,24,3)
Enter R if the extract is currently running.
"^DD",728,728,24,21,0)
^^1^1^2950314^^^
"^DD",728,728,24,21,1,0)
This field contains data if the Event Capture extract is currently running.
"^DD",728,728,24,23,0)
^^2^2^2951018^
"^DD",728,728,24,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,24,23,2,0)
the VA FileMan.
"^DD",728,728,24,"DT")
2910613
"^DD",728,728,25,0)
SURGERY^S^R:RUNNING;^7.1;5^Q
"^DD",728,728,25,3)
Enter R if the extract is currently running.
"^DD",728,728,25,21,0)
^^1^1^2970929^^^
"^DD",728,728,25,21,1,0)
This field contains data if the Surgery extract is currently running.
"^DD",728,728,25,23,0)
^^2^2^2970929^^
"^DD",728,728,25,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,25,23,2,0)
the VA FileMan.
"^DD",728,728,25,"DT")
2910613
"^DD",728,728,26,0)
RADIOLOGY^S^R:RUNNING;^7.1;6^Q
"^DD",728,728,26,3)
Enter R if the extract is currently running.
"^DD",728,728,26,21,0)
^^1^1^2950314^^
"^DD",728,728,26,21,1,0)
This field contains data if the Radiology extract is currently running.
"^DD",728,728,26,23,0)
^^2^2^2951018^
"^DD",728,728,26,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,26,23,2,0)
the VA FileMan.
"^DD",728,728,26,"DT")
2910613
"^DD",728,728,27,0)
NURSING^S^R:RUNNING;^7.1;7^Q
"^DD",728,728,27,3)
Enter R if the extract is currently running.
"^DD",728,728,27,21,0)
^^1^1^2950314^^
"^DD",728,728,27,21,1,0)
This field contains data if the Nursing extract is currently running.
"^DD",728,728,27,23,0)
^^2^2^2951018^
"^DD",728,728,27,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,27,23,2,0)
the VA FileMan.
"^DD",728,728,27,"DT")
2910613
"^DD",728,728,28,0)
UD^S^R:RUNNING;^7.1;8^Q
"^DD",728,728,28,3)
Enter R if the extract is currently running.
"^DD",728,728,28,21,0)
^^2^2^2951018^^^
"^DD",728,728,28,21,1,0)
This field contains data if the Pharmacy Unit Dose extract is currently
"^DD",728,728,28,21,2,0)
running.
"^DD",728,728,28,23,0)
^^2^2^2951018^
"^DD",728,728,28,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,28,23,2,0)
the VA FileMan.
"^DD",728,728,28,"DT")
2910613
"^DD",728,728,29,0)
ADT^S^R:RUNNING;^7.1;4^Q
"^DD",728,728,29,3)
Enter R if the extract is currently running.
"^DD",728,728,29,21,0)
^^2^2^2950315^^
"^DD",728,728,29,21,1,0)
This field contains data if the MAS Admission/Discharge/Transfer extract
"^DD",728,728,29,21,2,0)
is currently running.
"^DD",728,728,29,23,0)
^^2^2^2951018^
"^DD",728,728,29,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,29,23,2,0)
the VA FileMan.
"^DD",728,728,29,"DT")
2910613
"^DD",728,728,30,0)
DENTAL^S^R:RUNNING;^7.1;9^Q
"^DD",728,728,30,3)
Enter R if the extract is currently running.
"^DD",728,728,30,21,0)
^^1^1^2950315^^^
"^DD",728,728,30,21,1,0)
This field contains data if the Dental extract is currently running.
"^DD",728,728,30,23,0)
^^2^2^2951018^
"^DD",728,728,30,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,30,23,2,0)
the VA FileMan.
"^DD",728,728,30,"DT")
2910613
"^DD",728,728,31,0)
IFCAP^S^R:RUNNING;^7.1;10^Q
"^DD",728,728,31,3)
Enter R if the extract is currently running.
"^DD",728,728,31,21,0)
^^2^2^2950315^^
"^DD",728,728,31,21,1,0)
This field contains data if the IFCAP/DSS Unit extract is currently
"^DD",728,728,31,21,2,0)
running.
"^DD",728,728,31,23,0)
^^2^2^2951018^
"^DD",728,728,31,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,31,23,2,0)
the VA FileMan.
"^DD",728,728,31,"DT")
2910613
"^DD",728,728,32,0)
CLINIC^S^R:RUNNING;^7.1;11^Q
"^DD",728,728,32,3)
Enter R if the extract is currently running.
"^DD",728,728,32,21,0)
^^1^1^2951018^^^
"^DD",728,728,32,21,1,0)
This field contains data if the Clinic Visit extract is currently running.
"^DD",728,728,32,23,0)
^^2^2^2951018^
"^DD",728,728,32,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,32,23,2,0)
the VA FileMan.
"^DD",728,728,32,"DT")
2910613
"^DD",728,728,33,0)
WARD STOCK^S^R:RUNNING;^7.1;12^Q
"^DD",728,728,33,3)
Enter R if the extract is currently running.
"^DD",728,728,33,21,0)
^^1^1^2950315^^
"^DD",728,728,33,21,1,0)
This field contains data if the Ward Stock extract is currently running.
"^DD",728,728,33,23,0)
^^2^2^2951018^
"^DD",728,728,33,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,33,23,2,0)
the VA FileMan.
"^DD",728,728,33,"DT")
2910613
"^DD",728,728,34,0)
ADMISSIONS^S^R:RUNNING;^7.1;13^Q
"^DD",728,728,34,3)
Enter R if the extract is currently running.
"^DD",728,728,34,21,0)
^^2^2^2990413^^^^
"^DD",728,728,34,21,1,0)
This field contains data if the Patient Admissions extract is currently
"^DD",728,728,34,21,2,0)
running.
"^DD",728,728,34,23,0)
^^2^2^2990413^^^^
"^DD",728,728,34,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,34,23,2,0)
the VA FileMan.
"^DD",728,728,34,"DT")
2910613
"^DD",728,728,35,0)
MOVES^S^R:RUNNING;^7.1;14^Q
"^DD",728,728,35,3)
Enter R if the extract is currently running.
"^DD",728,728,35,21,0)
^^2^2^2950315^^
"^DD",728,728,35,21,1,0)
This field contains data if the Patient Movements extract is currently
"^DD",728,728,35,21,2,0)
running.
"^DD",728,728,35,23,0)
^^2^2^2951018^
"^DD",728,728,35,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,35,23,2,0)
the VA FileMan.
"^DD",728,728,35,"DT")
2910613
"^DD",728,728,36,0)
NO SHOW^S^R:RUNNING;^7.1;15^Q
"^DD",728,728,36,3)
Enter R if the extract is currently running.
"^DD",728,728,36,21,0)
^^1^1^2950315^^
"^DD",728,728,36,21,1,0)
This field contains data if the Clinic No-Show extract is currently running.
"^DD",728,728,36,23,0)
^^2^2^2951018^
"^DD",728,728,36,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,36,23,2,0)
the VA FileMan.
"^DD",728,728,36,"DT")
2910613
"^DD",728,728,37,0)
LAST DATE IVS^D^^7;16^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,37,3)
Enter the last date that information was extracted for Pharmacy IV.
"^DD",728,728,37,21,0)
^^2^2^2980707^^^^
"^DD",728,728,37,21,1,0)
This field contains the last date that the Pharmacy IV information was
"^DD",728,728,37,21,2,0)
extracted to the DSS software.
"^DD",728,728,37,23,0)
^^2^2^2980707^^^^
"^DD",728,728,37,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,37,23,2,0)
the VA FileMan.
"^DD",728,728,37,"DT")
2911204
"^DD",728,728,38,0)
IVS^S^R:RUNNING;^7.1;16^Q
"^DD",728,728,38,3)
Enter R if the extract is currently running.
"^DD",728,728,38,21,0)
^^1^1^2951018^^^^
"^DD",728,728,38,21,1,0)
This field contains data if the Pharmacy IV extract is currently running.
"^DD",728,728,38,23,0)
^^2^2^2951018^^^^
"^DD",728,728,38,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,38,23,2,0)
the VA FileMan.
"^DD",728,728,38,"DT")
2911204
"^DD",728,728,39,0)
LAST DATE TREATING SPECIALTY^D^^7;17^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,39,3)
Enter the last date that information was extracted for Treating Specialty Change.
"^DD",728,728,39,21,0)
^^2^2^2951018^^^^
"^DD",728,728,39,21,1,0)
This field contains the last date that the Treating Specialty Change
"^DD",728,728,39,21,2,0)
information was extracted to the DSS software.
"^DD",728,728,39,23,0)
^^2^2^2951018^^^^
"^DD",728,728,39,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,39,23,2,0)
the VA FileMan.
"^DD",728,728,39,"DT")
2920410
"^DD",728,728,40,0)
TREATING SPEC^S^R:RUNNING;^7.1;17^Q
"^DD",728,728,40,3)
Enter R if the extract is currently running.
"^DD",728,728,40,21,0)
^^2^2^2951018^^^
"^DD",728,728,40,21,1,0)
This field contains data if the Treating Specialty Change extract is
"^DD",728,728,40,21,2,0)
currently running.
"^DD",728,728,40,23,0)
^^2^2^2951018^^^
"^DD",728,728,40,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,40,23,2,0)
the VA FileMan.
"^DD",728,728,40,"DT")
2920410
"^DD",728,728,41,0)
LAST DATE IFCAP SUMMARY^D^^7;18^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,41,3)
Enter the last date that information was extracted for the IFCAP Summary.
"^DD",728,728,41,21,0)
^^2^2^2951018^^^
"^DD",728,728,41,21,1,0)
This field contains the last date that IFCAP Summary information was
"^DD",728,728,41,21,2,0)
extracted to the DSS software.
"^DD",728,728,41,23,0)
^^2^2^2951018^
"^DD",728,728,41,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,41,23,2,0)
the VA FileMan.
"^DD",728,728,41,"DT")
2920826
"^DD",728,728,42,0)
IFCAP SUMMARY^S^R:RUNNING;^7.1;18^Q
"^DD",728,728,42,3)
Enter R if the extract is currently running.
"^DD",728,728,42,21,0)
^^1^1^2950315^^
"^DD",728,728,42,21,1,0)
This field comntains data if the IFCAP Summary extract is currently running.
"^DD",728,728,42,23,0)
^^2^2^2951018^
"^DD",728,728,42,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,42,23,2,0)
the VA FileMan.
"^DD",728,728,42,"DT")
2920826
"^DD",728,728,43,0)
LAST DATE IV DETAIL^D^^7;19^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,43,3)
Enter the last date that information was extracted for the Pharmacy IV Detail.
"^DD",728,728,43,21,0)
^^2^2^2980707^^^^
"^DD",728,728,43,21,1,0)
This field contains the last date that the Pharmacy IV Detail information
"^DD",728,728,43,21,2,0)
was extracted to the DSS software.
"^DD",728,728,43,23,0)
^^2^2^2980707^^
"^DD",728,728,43,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,43,23,2,0)
the VA FileMan.
"^DD",728,728,43,"DT")
2920922
"^DD",728,728,44,0)
IV DETAIL^S^R:RUNNING;^7.1;19^Q
"^DD",728,728,44,3)
Enter R if the extract is currently running.
"^DD",728,728,44,21,0)
^^2^2^2951025^^^^
"^DD",728,728,44,21,1,0)
This field contains data if the Pharmacy IV Detail extract is currently
"^DD",728,728,44,21,2,0)
running.
"^DD",728,728,44,23,0)
^^2^2^2951025^^^^
"^DD",728,728,44,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,44,23,2,0)
the VA FileMan.
"^DD",728,728,44,"DT")
2920922
"^DD",728,728,45,0)
SETUP DATE^D^^S;1^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,45,3)
Enter the date that the Setup information was extracted.
"^DD",728,728,45,21,0)
^^2^2^2951018^^^^
"^DD",728,728,45,21,1,0)
This field contains the last date that the Setup information
"^DD",728,728,45,21,2,0)
was extracted to the DSS software.
"^DD",728,728,45,23,0)
^^2^2^2951018^
"^DD",728,728,45,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,45,23,2,0)
the VA FileMan.
"^DD",728,728,45,"DT")
2921222
"^DD",728,728,46,0)
SETUP RUNNING^S^R:RUNNING;^S;2^Q
"^DD",728,728,46,3)
Enter R if the extract is currently running.
"^DD",728,728,46,21,0)
^^1^1^2951018^^^
"^DD",728,728,46,21,1,0)
This field contains data if the Setup extract is running.
"^DD",728,728,46,23,0)
^^2^2^2951018^
"^DD",728,728,46,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,46,23,2,0)
the VA FileMan.
"^DD",728,728,46,"DT")
2921222
"^DD",728,728,47,0)
LAST DATE PAI^D^^7;20^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,47,3)
Enter the last date that information was extracted for PAI.
"^DD",728,728,47,21,0)
^^2^2^2950315^^^
"^DD",728,728,47,21,1,0)
This field contains the last date that the PAI information was
"^DD",728,728,47,21,2,0)
extracted to the DSS software.
"^DD",728,728,47,23,0)
^^2^2^2951018^^^^
"^DD",728,728,47,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,47,23,2,0)
the VA FileMan.
"^DD",728,728,47,"DT")
2930106
"^DD",728,728,48,0)
PAI^S^R:RUNNING;^7.1;20^Q
"^DD",728,728,48,3)
Enter R if the extract is currently running.
"^DD",728,728,48,21,0)
^^1^1^2950315^^
"^DD",728,728,48,21,1,0)
This field contains data if the PAI extract is currently running.
"^DD",728,728,48,23,0)
^^2^2^2951018^^^
"^DD",728,728,48,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,48,23,2,0)
the VA FileMan.
"^DD",728,728,48,"DT")
2930106
"^DD",728,728,49,0)
AUSTIN QUEUE NAME^F^^QUEUE;1^K:$L(X)>3!($L(X)<3)!'(X?1"DM"1U) X
"^DD",728,728,49,3)
Enter the three character identifier of the assigned Austin queue for your site.
"^DD",728,728,49,21,0)
^^3^3^2960130^^^^
"^DD",728,728,49,21,1,0)
The name of the queue in Austin to which DSS data will be sent.  This
"^DD",728,728,49,21,2,0)
should be of the two characters DM followed by a single upper case
"^DD",728,728,49,21,3,0)
letter.
"^DD",728,728,49,23,0)
7^^6^6^2960130^^^
"^DD",728,728,49,23,1,0)
This field determines the Austin queue to which data is sent.
"^DD",728,728,49,23,2,0)
During implementation, sites at different stages may be asked
"^DD",728,728,49,23,3,0)
to direct transmission to different queues.  This field is used
"^DD",728,728,49,23,4,0)
by the routine ECXTRANS.  The entry in this field should begin
"^DD",728,728,49,23,5,0)
with the two letters DM.  The third letter will be assigned by
"^DD",728,728,49,23,6,0)
the Austin Automation Center.
"^DD",728,728,49,"DT")
2941227
"^DD",728,728,50,0)
LAST DATE LAB RESULTS^D^^7;21^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,50,3)
Enter the last date that information was extracted for Lab Results.
"^DD",728,728,50,21,0)
^^2^2^2951018^^^
"^DD",728,728,50,21,1,0)
This field contains the last date that the Laboratory Results information
"^DD",728,728,50,21,2,0)
was extracted to the DSS software.
"^DD",728,728,50,23,0)
^^2^2^2951018^^
"^DD",728,728,50,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,50,23,2,0)
the VA FileMan.
"^DD",728,728,50,"DT")
2950307
"^DD",728,728,51,0)
LAB RESULTS^S^R:RUNNING;^7.1;21^Q
"^DD",728,728,51,3)
Enter R if the extract is currently running.
"^DD",728,728,51,21,0)
^^2^2^2951018^^
"^DD",728,728,51,21,1,0)
This field contains data if the Laboratory Results extract is currently
"^DD",728,728,51,21,2,0)
running.
"^DD",728,728,51,23,0)
^^2^2^2951018^
"^DD",728,728,51,23,1,0)
This data is set by the extract routine.  Must not be manipulated via
"^DD",728,728,51,23,2,0)
the VA FileMan.
"^DD",728,728,51,"DT")
2950307
"^DD",728,728,52,0)
RECIPIENT^D^^R1;1^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,52,3)
Enter the last date that Recipient information was extracted.
"^DD",728,728,52,21,0)
^^2^2^2951018^^^
"^DD",728,728,52,21,1,0)
This field contains the last date that the Recipient information was
"^DD",728,728,52,21,2,0)
extracted to the Rational Meds software.
"^DD",728,728,52,23,0)
^^2^2^2951018^^^^
"^DD",728,728,52,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,52,23,2,0)
the VA FileMan.
"^DD",728,728,52,"DT")
2950728
"^DD",728,728,53,0)
PROVIDER^D^^R1;2^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,53,3)
Enter the last date that Provider information was extracted.
"^DD",728,728,53,21,0)
^^2^2^2951018^^
"^DD",728,728,53,21,1,0)
This field contains the last date that the Provider information was
"^DD",728,728,53,21,2,0)
extracted to the Rational Meds software.
"^DD",728,728,53,23,0)
^^2^2^2951018^^
"^DD",728,728,53,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,53,23,2,0)
the VA FileMan.
"^DD",728,728,53,"DT")
2950728
"^DD",728,728,54,0)
PHARMACY^D^^R1;3^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,54,3)
Enter the last date that Pharmacy Claim information was extracted.
"^DD",728,728,54,21,0)
^^1^1^2951127^^^^
"^DD",728,728,54,21,1,0)
Enter the last date that Hospital Claim information was extracted.
"^DD",728,728,54,23,0)
^^2^2^2951127^^^^
"^DD",728,728,54,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,54,23,2,0)
the VA FileMan.
"^DD",728,728,54,"DT")
2950728
"^DD",728,728,55,0)
HOSPITAL^D^^R1;4^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,55,3)
Enter the last date that Hospital Claim information was extracted.
"^DD",728,728,55,21,0)
^^2^2^2951018^^^
"^DD",728,728,55,21,1,0)
This field contains the last date that the Hospital Claim information
"^DD",728,728,55,21,2,0)
was extracted to the Rational Meds software.
"^DD",728,728,55,23,0)
^^2^2^2951018^^^
"^DD",728,728,55,23,1,0)
This date is set by the extract routine.  Must not be manipulated via
"^DD",728,728,55,23,2,0)
the VA FileMan.
"^DD",728,728,55,"DT")
2950728
"^DD",728,728,56,0)
IV CLAIM^D^^R1;5^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,56,21,0)
^^1^1^2951127^
"^DD",728,728,56,21,1,0)
The last date for which the Rational Meds IV claim was extracted.
"^DD",728,728,56,23,0)
^^2^2^2951127^
"^DD",728,728,56,23,1,0)
This field is set by the extract routine and should not be
"^DD",728,728,56,23,2,0)
manipulated by using VA FileMan.
"^DD",728,728,56,"DT")
2951127
"^DD",728,728,57,0)
LAST DATE QUASAR^D^^7;22^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,57,.1)
Last Date QUASAR
"^DD",728,728,57,3)
Enter the last date that information was extracted for QUASAR.
"^DD",728,728,57,21,0)
^^2^2^2980706^^^^
"^DD",728,728,57,21,1,0)
This field contains the last date that Audiology and Speech Pathology
"^DD",728,728,57,21,2,0)
information was extracted to the DSS software.
"^DD",728,728,57,23,0)
^^2^2^2980706^^^
"^DD",728,728,57,23,1,0)
This date is set by the extract routine.  It must not be manipulated
"^DD",728,728,57,23,2,0)
via VA FileMan.
"^DD",728,728,57,"DT")
2960625
"^DD",728,728,58,0)
QUASAR^S^R:RUNNING;^7.1;22^Q
"^DD",728,728,58,3)
Enter R if the extract is currently running.
"^DD",728,728,58,21,0)
^^1^1^2980706^^^
"^DD",728,728,58,21,1,0)
This field contains data if the QUASAR extract is currently running.
"^DD",728,728,58,23,0)
^^2^2^2980706^^
"^DD",728,728,58,23,1,0)
This data is set by the extract routine.  It must not be manipulated
"^DD",728,728,58,23,2,0)
via VA FileMan.
"^DD",728,728,58,"DT")
2960625
"^DD",728,728,59,0)
LAST DATE PROSTHETICS^728.059P^^1;0
"^DD",728,728,59,10)
The routine ^ECXTRAC adds entries as new Prosthetics Divisions are encountered.
"^DD",728,728,59,21,0)
^^2^2^2980722^^^
"^DD",728,728,59,21,1,0)
This sub-file/field contains DSS Prosthetics divisions and their
"^DD",728,728,59,21,2,0)
respective LAST DATE(s) extracted.
"^DD",728,728,59,23,0)
^^7^7^2980722^^^
"^DD",728,728,59,23,1,0)
This sub-file/field(s) are populated by the ECXTRAC routine.  The routine
"^DD",728,728,59,23,2,0)
looks for a given division as a Prosthetics extract processes.  If the
"^DD",728,728,59,23,3,0)
division is not an entry in this sub-file, it is added.  The respecitive
"^DD",728,728,59,23,4,0)
LAST DATE processed is also updated in this sub-file.
"^DD",728,728,59,23,5,0)
 
"^DD",728,728,59,23,6,0)
This sub-file is DINUMed on the pointer to the Institution file (#4) in
"^DD",728,728,59,23,7,0)
the .01 field.
"^DD",728,728,60,0)
PROSTHETICS^S^R:RUNNING;^7.1;23^Q
"^DD",728,728,60,21,0)
^^1^1^2980706^
"^DD",728,728,60,21,1,0)
This field contains data if the PROSTHETICS extract is currently running.
"^DD",728,728,60,23,0)
^^2^2^2980706^
"^DD",728,728,60,23,1,0)
This data is set by the extract routine.  It must not be manipulated
"^DD",728,728,60,23,2,0)
via VA FileMan.
"^DD",728,728,60,"DT")
2980706
"^DD",728,728,61,0)
LAST DATE MENTAL HEALTH^D^^7;24^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,61,21,0)
^^1^1^2990511^
"^DD",728,728,61,21,1,0)
The last date for which Mental Health data was extracted.
"^DD",728,728,61,"DT")
2990511
"^DD",728,728,62,0)
MENTAL HEALTH^S^R:RUNNING;^7.1;24^Q
"^DD",728,728,62,21,0)
^^2^2^2990511^
"^DD",728,728,62,21,1,0)
If the Mental Health extract is running or queued to run, that is
"^DD",728,728,62,21,2,0)
indicated here.
"^DD",728,728,62,"DT")
2990511
"^DD",728,728,63,0)
LAST DATE CLINIC I^D^^7;25^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,63,21,0)
^^1^1^2990511^
"^DD",728,728,63,21,1,0)
The last date for which Clinic Visit data was extracted.
"^DD",728,728,63,"DT")
2990511
"^DD",728,728,64,0)
CLINIC I^S^R:RUNNING;^7.1;25^Q
"^DD",728,728,64,21,0)
^^2^2^2990511^
"^DD",728,728,64,21,1,0)
If the Clinic Visit extract is running or queued to run, that will
"^DD",728,728,64,21,2,0)
be indicated here.
"^DD",728,728,64,"DT")
2990511
"^DD",728,728,65,0)
LAST DATE CLINIC II^D^^7;26^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",728,728,65,21,0)
^^1^1^2990511^
"^DD",728,728,65,21,1,0)
Last date for which Clinic Visit data was extracted.
"^DD",728,728,65,"DT")
2990511
"^DD",728,728,66,0)
CLINIC II^S^R:RUNNING;^7.1;26^Q
"^DD",728,728,66,21,0)
^^2^2^2990511^
"^DD",728,728,66,21,1,0)
If the Clinic Visit extract is running or queued to run, it will
"^DD",728,728,66,21,2,0)
be indicated here.
"^DD",728,728,66,"DT")
2990511
"^DD",728,728.059,0)
LAST DATE PROSTHETICS SUB-FIELD^^1^2
"^DD",728,728.059,0,"DT")
2980722
"^DD",728,728.059,0,"IX","B",728.059,.01)

"^DD",728,728.059,0,"NM","LAST DATE PROSTHETICS")

"^DD",728,728.059,0,"UP")
728
"^DD",728,728.059,.01,0)
DIVISION^P4^DIC(4,^0;1^Q
"^DD",728,728.059,.01,.1)
Division
"^DD",728,728.059,.01,1,0)
^.1
"^DD",728,728.059,.01,1,1,0)
728.059^B
"^DD",728,728.059,.01,1,1,1)
S ^ECX(728,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",728,728.059,.01,1,1,2)
K ^ECX(728,DA(1),1,"B",$E(X,1,30),DA)
"^DD",728,728.059,.01,3)
Enter the Division for the Prosthetics extract
"^DD",728,728.059,.01,10)
Routine ECXTRAC populates this field as a Prosthetics extract processes.
"^DD",728,728.059,.01,21,0)
^^2^2^2980722^^^
"^DD",728,728.059,.01,21,1,0)
This field indicates the division for which Prosthetics information has
"^DD",728,728.059,.01,21,2,0)
been extracted.
"^DD",728,728.059,.01,23,0)
^^6^6^2980722^^
"^DD",728,728.059,.01,23,1,0)
This field is populated by ^ECXTRAC.  If the Prosthetics division that
"^DD",728,728.059,.01,23,2,0)
the Prosthetics extract is processing is not an entry in this file, it
"^DD",728,728.059,.01,23,3,0)
is added.
"^DD",728,728.059,.01,23,4,0)
 
"^DD",728,728.059,.01,23,5,0)
This field is a pointer to the Institution file (#4) and the IEN for the
"^DD",728,728.059,.01,23,6,0)
sub-file is DINUMed on this value.
"^DD",728,728.059,.01,"DT")
2980722
"^DD",728,728.059,1,0)
LAST DATE^D^^0;2^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",728,728.059,1,3)
Enter the last date that information was extracted for Prosthetics.
"^DD",728,728.059,1,10)
ECXTRAC populates this field during the Prosthetics extract process.
"^DD",728,728.059,1,21,0)
^^2^2^2980722^^
"^DD",728,728.059,1,21,1,0)
The LAST DATE field indicates the last date that the prosthetics extract
"^DD",728,728.059,1,21,2,0)
was completed for the division indicated in the Division (.01) field.
"^DD",728,728.059,1,23,0)
^^3^3^2980722^
"^DD",728,728.059,1,23,1,0)
This field is populated by ^ECXTRAC when the DSS Prosthetics extract is
"^DD",728,728.059,1,23,2,0)
processing.  It is the end date the user enters when generating the
"^DD",728,728.059,1,23,3,0)
Prosthetics extract.
"^DD",728,728.059,1,"DT")
2980722
"^DIC",727.5,727.5,0)
DSS MH TESTS^727.5
"^DIC",727.5,727.5,0,"GL")
^ECX(727.5,
"^DIC",727.5,727.5,"%D",0)
^^6^6^2990914^
"^DIC",727.5,727.5,"%D",1,0)
This file contains the names of those Mental Health Instruments
"^DIC",727.5,727.5,"%D",2,0)
which are being tracked by the Decision Support System.  Each record
"^DIC",727.5,727.5,"%D",3,0)
in this file refers to a record in the MH INSTRUMENT file (#601).
"^DIC",727.5,727.5,"%D",4,0)
 
"^DIC",727.5,727.5,"%D",5,0)
Entries in this file are determined by the DSS Program Office and should
"^DIC",727.5,727.5,"%D",6,0)
not be changed or deleted.  New entries in this file should not be made. 
"^DIC",727.5,"B","DSS MH TESTS",727.5)

"^DIC",727.802,727.802,0)
ADMISSION EXTRACT
"^DIC",727.802,727.802,0,"GL")
^ECX(727.802,
"^DIC",727.802,727.802,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.802,727.802,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.802,727.802,"%D",2,0)
System (DSS) Program Office for the MAS Admission extract from existing 
"^DIC",727.802,727.802,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.802,727.802,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.802,727.802,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.802,727.802,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.802,727.802,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.802,727.802,"%D",8,0)
  
"^DIC",727.802,727.802,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.802,727.802,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.802,727.802,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.802,727.802,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.802,727.802,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.802,727.802,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.802,727.802,"%D",15,0)
modified.
"^DIC",727.802,727.802,"%D",16,0)
  
"^DIC",727.802,727.802,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.802,"B","ADMISSION EXTRACT",727.802)

"^DIC",727.804,727.804,0)
CLINIC NOSHOW EXTRACT
"^DIC",727.804,727.804,0,"GL")
^ECX(727.804,
"^DIC",727.804,727.804,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.804,727.804,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.804,727.804,"%D",2,0)
System (DSS) Program Office for the MAS Clinic No Show extract from 
"^DIC",727.804,727.804,"%D",3,0)
existing DHCP files. Entries into this file are made by extracting data 
"^DIC",727.804,727.804,"%D",4,0)
from several files. Once approved by the DSS site manager, entries in 
"^DIC",727.804,727.804,"%D",5,0)
this file are loaded into an electronic mail message and sent to the 
"^DIC",727.804,727.804,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.804,727.804,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.804,727.804,"%D",8,0)
  
"^DIC",727.804,727.804,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.804,727.804,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.804,727.804,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.804,727.804,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.804,727.804,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.804,727.804,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.804,727.804,"%D",15,0)
modified.
"^DIC",727.804,727.804,"%D",16,0)
  
"^DIC",727.804,727.804,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.804,"B","CLINIC NOSHOW EXTRACT",727.804)

"^DIC",727.805,727.805,0)
NURSING EXTRACT
"^DIC",727.805,727.805,0,"GL")
^ECX(727.805,
"^DIC",727.805,727.805,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.805,727.805,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.805,727.805,"%D",2,0)
System (DSS) Program Office for the Nursing extract from existing 
"^DIC",727.805,727.805,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.805,727.805,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.805,727.805,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.805,727.805,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.805,727.805,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.805,727.805,"%D",8,0)
  
"^DIC",727.805,727.805,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.805,727.805,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.805,727.805,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.805,727.805,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.805,727.805,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.805,727.805,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.805,727.805,"%D",15,0)
modified.
"^DIC",727.805,727.805,"%D",16,0)
  
"^DIC",727.805,727.805,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.805,"B","NURSING EXTRACT",727.805)

"^DIC",727.806,727.806,0)
DENTAL EXTRACT
"^DIC",727.806,727.806,0,"GL")
^ECX(727.806,
"^DIC",727.806,727.806,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.806,727.806,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.806,727.806,"%D",2,0)
System (DSS) Program Office for the Dental extract from existing 
"^DIC",727.806,727.806,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.806,727.806,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.806,727.806,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.806,727.806,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.806,727.806,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.806,727.806,"%D",8,0)
  
"^DIC",727.806,727.806,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.806,727.806,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.806,727.806,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.806,727.806,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.806,727.806,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.806,727.806,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.806,727.806,"%D",15,0)
modified.
"^DIC",727.806,727.806,"%D",16,0)
  
"^DIC",727.806,727.806,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.806,"B","DENTAL EXTRACT",727.806)

"^DIC",727.808,727.808,0)
PHYSICAL MOVEMENT EXTRACT
"^DIC",727.808,727.808,0,"GL")
^ECX(727.808,
"^DIC",727.808,727.808,"%D",0)
^^18^18^2990222^^^^
"^DIC",727.808,727.808,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.808,727.808,"%D",2,0)
System (DSS) Program Office for the MAS Physical Movement (Transfer and 
"^DIC",727.808,727.808,"%D",3,0)
Discharge) extract from existing DHCP files. Entries into this file are 
"^DIC",727.808,727.808,"%D",4,0)
made by extracting data from several files. Once approved by the DSS 
"^DIC",727.808,727.808,"%D",5,0)
site manager, entries in this file are loaded into an electronic mail 
"^DIC",727.808,727.808,"%D",6,0)
message and sent to the commercial vendor. This file is intended to be 
"^DIC",727.808,727.808,"%D",7,0)
used for validation purposes only. Entries should be made only by the 
"^DIC",727.808,727.808,"%D",8,0)
extract load routine.
"^DIC",727.808,727.808,"%D",9,0)
  
"^DIC",727.808,727.808,"%D",10,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.808,727.808,"%D",11,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.808,727.808,"%D",12,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.808,727.808,"%D",13,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.808,727.808,"%D",14,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.808,727.808,"%D",15,0)
feature for managing and purging data in this file and should not be
"^DIC",727.808,727.808,"%D",16,0)
modified.
"^DIC",727.808,727.808,"%D",17,0)
  
"^DIC",727.808,727.808,"%D",18,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.808,"B","PHYSICAL MOVEMENT EXTRACT",727.808)

"^DIC",727.809,727.809,0)
UNIT DOSE LOCAL EXTRACT
"^DIC",727.809,727.809,0,"GL")
^ECX(727.809,
"^DIC",727.809,727.809,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.809,727.809,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.809,727.809,"%D",2,0)
System (DSS) Program Office for the Pharmacy Unit Dose extract from 
"^DIC",727.809,727.809,"%D",3,0)
existing DHCP files. Entries into this file are made by extracting data 
"^DIC",727.809,727.809,"%D",4,0)
from several files. Once approved by the DSS site manager, entries in 
"^DIC",727.809,727.809,"%D",5,0)
this file are loaded into an electronic mail message and sent to the 
"^DIC",727.809,727.809,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.809,727.809,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.809,727.809,"%D",8,0)
  
"^DIC",727.809,727.809,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.809,727.809,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.809,727.809,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.809,727.809,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.809,727.809,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.809,727.809,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.809,727.809,"%D",15,0)
modified.
"^DIC",727.809,727.809,"%D",16,0)
  
"^DIC",727.809,727.809,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.809,"B","UNIT DOSE LOCAL EXTRACT",727.809)

"^DIC",727.81,727.81,0)
PRESCRIPTION EXTRACT
"^DIC",727.81,727.81,0,"GL")
^ECX(727.81,
"^DIC",727.81,727.81,"%D",0)
^^18^18^2990222^^^^
"^DIC",727.81,727.81,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.81,727.81,"%D",2,0)
System (DSS) Program Office for the Pharmacy Outpatient (Prescription) 
"^DIC",727.81,727.81,"%D",3,0)
extract from existing DHCP files. Entries into this file are made by 
"^DIC",727.81,727.81,"%D",4,0)
extracting data from several files. Once approved by the DSS site 
"^DIC",727.81,727.81,"%D",5,0)
manager, entries in this file are loaded into an electronic mail message 
"^DIC",727.81,727.81,"%D",6,0)
and sent to the commercial vendor. This file is intended to be used for 
"^DIC",727.81,727.81,"%D",7,0)
validation purposes only. Entries should be made only by the extract 
"^DIC",727.81,727.81,"%D",8,0)
load routine.
"^DIC",727.81,727.81,"%D",9,0)
  
"^DIC",727.81,727.81,"%D",10,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.81,727.81,"%D",11,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.81,727.81,"%D",12,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.81,727.81,"%D",13,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.81,727.81,"%D",14,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.81,727.81,"%D",15,0)
feature for managing and purging data in this file and should not be
"^DIC",727.81,727.81,"%D",16,0)
modified.
"^DIC",727.81,727.81,"%D",17,0)
  
"^DIC",727.81,727.81,"%D",18,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.81,"B","PRESCRIPTION EXTRACT",727.81)

"^DIC",727.811,727.811,0)
SURGERY EXTRACT
"^DIC",727.811,727.811,0,"GL")
^ECX(727.811,
"^DIC",727.811,727.811,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.811,727.811,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.811,727.811,"%D",2,0)
System (DSS) Program Office for the Surgery extract from existing 
"^DIC",727.811,727.811,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.811,727.811,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.811,727.811,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.811,727.811,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.811,727.811,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.811,727.811,"%D",8,0)
  
"^DIC",727.811,727.811,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.811,727.811,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.811,727.811,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.811,727.811,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.811,727.811,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.811,727.811,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.811,727.811,"%D",15,0)
modified.
"^DIC",727.811,727.811,"%D",16,0)
  
"^DIC",727.811,727.811,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.811,"B","SURGERY EXTRACT",727.811)

"^DIC",727.812,727.812,0)
MENTAL HEALTH EXTRACT^727.812
"^DIC",727.812,727.812,0,"GL")
^ECX(727.812,
"^DIC",727.812,"B","MENTAL HEALTH EXTRACT",727.812)

"^DIC",727.813,727.813,0)
LABORATORY EXTRACT
"^DIC",727.813,727.813,0,"GL")
^ECX(727.813,
"^DIC",727.813,727.813,"%D",0)
^^22^22^2990222^^^^
"^DIC",727.813,727.813,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.813,727.813,"%D",2,0)
System (DSS) Program Office for the Laboratory extract from existing 
"^DIC",727.813,727.813,"%D",3,0)
DHCP files. Entries into this file are made by extracting data by two 
"^DIC",727.813,727.813,"%D",4,0)
different methods depending upon whether or not LMIP codes are used. 
"^DIC",727.813,727.813,"%D",5,0)
Using LMIP codes, the data are extracted, in large part, from the WKLD 
"^DIC",727.813,727.813,"%D",6,0)
LOG file (#64.03) which is populated by a routine provided by the 
"^DIC",727.813,727.813,"%D",7,0)
Laboratory development team.  Not using LMIP codes, the data are derived 
"^DIC",727.813,727.813,"%D",8,0)
from several Lab files as well as from several other DHCP files. Once 
"^DIC",727.813,727.813,"%D",9,0)
approved by the DSS site manager, entries in this file are loaded into 
"^DIC",727.813,727.813,"%D",10,0)
an electronic mail message and sent to the commercial vendor. This file 
"^DIC",727.813,727.813,"%D",11,0)
is intended to be used for validation purposes only. Entries should be 
"^DIC",727.813,727.813,"%D",12,0)
made only by the extract load routine.
"^DIC",727.813,727.813,"%D",13,0)
  
"^DIC",727.813,727.813,"%D",14,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.813,727.813,"%D",15,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.813,727.813,"%D",16,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.813,727.813,"%D",17,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.813,727.813,"%D",18,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.813,727.813,"%D",19,0)
feature for managing and purging data in this file and should not be
"^DIC",727.813,727.813,"%D",20,0)
modified.
"^DIC",727.813,727.813,"%D",21,0)
  
"^DIC",727.813,727.813,"%D",22,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.813,"B","LABORATORY EXTRACT",727.813)

"^DIC",727.814,727.814,0)
RADIOLOGY EXTRACT
"^DIC",727.814,727.814,0,"GL")
^ECX(727.814,
"^DIC",727.814,727.814,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.814,727.814,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.814,727.814,"%D",2,0)
System (DSS) Program Office for the Radiology extract from existing 
"^DIC",727.814,727.814,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.814,727.814,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.814,727.814,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.814,727.814,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.814,727.814,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.814,727.814,"%D",8,0)
  
"^DIC",727.814,727.814,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.814,727.814,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.814,727.814,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.814,727.814,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.814,727.814,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.814,727.814,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.814,727.814,"%D",15,0)
modified.
"^DIC",727.814,727.814,"%D",16,0)
  
"^DIC",727.814,727.814,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.814,"B","RADIOLOGY EXTRACT",727.814)

"^DIC",727.815,727.815,0)
EVENT CAPTURE LOCAL EXTRACT^727.815
"^DIC",727.815,727.815,0,"GL")
^ECX(727.815,
"^DIC",727.815,727.815,"%D",0)
^^19^19^2990222^^^^
"^DIC",727.815,727.815,"%D",1,0)
This file contains data elements as specified by the Decision
"^DIC",727.815,727.815,"%D",2,0)
Support System (DSS) Program Office for the Event Capture
"^DIC",727.815,727.815,"%D",3,0)
extract from the existing Event Capture DHCP files. Entries
"^DIC",727.815,727.815,"%D",4,0)
into this file are made by extracting data from several files.
"^DIC",727.815,727.815,"%D",5,0)
Once approved by the DSS site manager, entries in this file
"^DIC",727.815,727.815,"%D",6,0)
are loaded into an electronic mail message and sent to the 
"^DIC",727.815,727.815,"%D",7,0)
commercial vendor. This file is intended to be used for
"^DIC",727.815,727.815,"%D",8,0)
validation purposes only. Entries should be made only by the
"^DIC",727.815,727.815,"%D",9,0)
extract load routine.
"^DIC",727.815,727.815,"%D",10,0)
 
"^DIC",727.815,727.815,"%D",11,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.815,727.815,"%D",12,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.815,727.815,"%D",13,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.815,727.815,"%D",14,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.815,727.815,"%D",15,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.815,727.815,"%D",16,0)
feature for managing and purging data in this file and should not be
"^DIC",727.815,727.815,"%D",17,0)
modified.
"^DIC",727.815,727.815,"%D",18,0)
  
"^DIC",727.815,727.815,"%D",19,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.815,"B","EVENT CAPTURE LOCAL EXTRACT",727.815)

"^DIC",727.816,727.816,0)
CLINIC I EXTRACT^727.816
"^DIC",727.816,727.816,0,"GL")
^ECX(727.816,
"^DIC",727.816,"B","CLINIC I EXTRACT",727.816)

"^DIC",727.817,727.817,0)
TREATING SPECIALTY CHANGE EXTRACT
"^DIC",727.817,727.817,0,"GL")
^ECX(727.817,
"^DIC",727.817,727.817,"%D",0)
^^18^18^2990222^^^^
"^DIC",727.817,727.817,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.817,727.817,"%D",2,0)
System (DSS) Program Office for the MAS Treating Specialty Change 
"^DIC",727.817,727.817,"%D",3,0)
extract from existing DHCP files. Entries into this file are made by 
"^DIC",727.817,727.817,"%D",4,0)
extracting data from several files. Once approved by the DSS site 
"^DIC",727.817,727.817,"%D",5,0)
manager, entries in this file are loaded into an electronic mail message 
"^DIC",727.817,727.817,"%D",6,0)
and sent to the commercial vendor. This file is intended to be used for 
"^DIC",727.817,727.817,"%D",7,0)
validation purposes only. Entries should be made only by the extract 
"^DIC",727.817,727.817,"%D",8,0)
load routine.
"^DIC",727.817,727.817,"%D",9,0)
  
"^DIC",727.817,727.817,"%D",10,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.817,727.817,"%D",11,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.817,727.817,"%D",12,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.817,727.817,"%D",13,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.817,727.817,"%D",14,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.817,727.817,"%D",15,0)
feature for managing and purging data in this file and should not be
"^DIC",727.817,727.817,"%D",16,0)
modified.
"^DIC",727.817,727.817,"%D",17,0)
  
"^DIC",727.817,727.817,"%D",18,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.817,"B","TREATING SPECIALTY CHANGE EXTRACT",727.817)

"^DIC",727.818,727.818,0)
CLINIC II EXTRACT^727.818
"^DIC",727.818,727.818,0,"GL")
^ECX(727.818,
"^DIC",727.818,"B","CLINIC II EXTRACT",727.818)

"^DIC",727.819,727.819,0)
IV DETAIL EXTRACT
"^DIC",727.819,727.819,0,"GL")
^ECX(727.819,
"^DIC",727.819,727.819,"%",0)
^1.005^^0
"^DIC",727.819,727.819,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.819,727.819,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.819,727.819,"%D",2,0)
System (DSS) Program Office for the Pharmacy IV extract from existing 
"^DIC",727.819,727.819,"%D",3,0)
DHCP files. Entries into this file are made by extracting data from 
"^DIC",727.819,727.819,"%D",4,0)
several files. Once approved by the DSS site manager, entries in this
"^DIC",727.819,727.819,"%D",5,0)
file are loaded into an electronic mail message and sent to the 
"^DIC",727.819,727.819,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.819,727.819,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.819,727.819,"%D",8,0)
  
"^DIC",727.819,727.819,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.819,727.819,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.819,727.819,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.819,727.819,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.819,727.819,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.819,727.819,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.819,727.819,"%D",15,0)
modified.
"^DIC",727.819,727.819,"%D",16,0)
  
"^DIC",727.819,727.819,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.819,"B","IV DETAIL EXTRACT",727.819)

"^DIC",727.823,727.823,0)
PAI EXTRACT
"^DIC",727.823,727.823,0,"GL")
^ECX(727.823,
"^DIC",727.823,727.823,"%D",0)
^^18^18^2990222^^
"^DIC",727.823,727.823,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.823,727.823,"%D",2,0)
System (DSS) Program Office for the Patient Assessment Instrument (PAI) 
"^DIC",727.823,727.823,"%D",3,0)
extract from existing DHCP files. Entries into this file are made by 
"^DIC",727.823,727.823,"%D",4,0)
extracting data from the PAF file (#45.9). Once approved by the DSS site 
"^DIC",727.823,727.823,"%D",5,0)
manager, entries in this file are loaded into an electronic mail message 
"^DIC",727.823,727.823,"%D",6,0)
and sent to the commercial vendor. This file is intended to be used for 
"^DIC",727.823,727.823,"%D",7,0)
validation purposes only. Entries should be made only by the extract 
"^DIC",727.823,727.823,"%D",8,0)
load routine.
"^DIC",727.823,727.823,"%D",9,0)
  
"^DIC",727.823,727.823,"%D",10,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.823,727.823,"%D",11,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.823,727.823,"%D",12,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.823,727.823,"%D",13,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.823,727.823,"%D",14,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.823,727.823,"%D",15,0)
feature for managing and purging data in this file and should not be
"^DIC",727.823,727.823,"%D",16,0)
modified.
"^DIC",727.823,727.823,"%D",17,0)
  
"^DIC",727.823,727.823,"%D",18,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.823,"B","PAI EXTRACT",727.823)

"^DIC",727.824,727.824,0)
LAB RESULTS EXTRACT
"^DIC",727.824,727.824,0,"GL")
^ECX(727.824,
"^DIC",727.824,727.824,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.824,727.824,"%D",1,0)
This file contains data elements as specified by the Decision Support 
"^DIC",727.824,727.824,"%D",2,0)
System (DSS) Program Office for the Laboratory Results extract from 
"^DIC",727.824,727.824,"%D",3,0)
existing DHCP files. Entries into this file are made by extracting data 
"^DIC",727.824,727.824,"%D",4,0)
from several files. Once approved by the DSS site manager, entries in 
"^DIC",727.824,727.824,"%D",5,0)
this file are loaded into an electronic mail message and sent to the 
"^DIC",727.824,727.824,"%D",6,0)
commercial vendor. This file is intended to be used for validation 
"^DIC",727.824,727.824,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.824,727.824,"%D",8,0)
  
"^DIC",727.824,727.824,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.824,727.824,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.824,727.824,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.824,727.824,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.824,727.824,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.824,727.824,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.824,727.824,"%D",15,0)
modified.
"^DIC",727.824,727.824,"%D",16,0)
  
"^DIC",727.824,727.824,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.824,"B","LAB RESULTS EXTRACT",727.824)

"^DIC",727.825,727.825,0)
QUASAR EXTRACT^727.825
"^DIC",727.825,727.825,0,"GL")
^ECX(727.825,
"^DIC",727.825,727.825,"%D",0)
^^17^17^2990222^^^^
"^DIC",727.825,727.825,"%D",1,0)
This file contains data elements as specified by the Decision Support
"^DIC",727.825,727.825,"%D",2,0)
System (DSS) Program Office for the QUASAR extract from existing QUASAR
"^DIC",727.825,727.825,"%D",3,0)
DHCP files. Entries into this file are made by extracting data
"^DIC",727.825,727.825,"%D",4,0)
from several files.  Once approved by the DSS site manager, entries in
"^DIC",727.825,727.825,"%D",5,0)
this file are loaded into an electronic mail message and sent to the
"^DIC",727.825,727.825,"%D",6,0)
commercial vendor. This file is intended to be used for validation
"^DIC",727.825,727.825,"%D",7,0)
purposes only. Entries should be made only by the extract load routine.
"^DIC",727.825,727.825,"%D",8,0)
  
"^DIC",727.825,727.825,"%D",9,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.825,727.825,"%D",10,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.825,727.825,"%D",11,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.825,727.825,"%D",12,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.825,727.825,"%D",13,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.825,727.825,"%D",14,0)
feature for managing and purging data in this file and should not be
"^DIC",727.825,727.825,"%D",15,0)
modified.
"^DIC",727.825,727.825,"%D",16,0)
  
"^DIC",727.825,727.825,"%D",17,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.825,"B","QUASAR EXTRACT",727.825)

"^DIC",727.826,727.826,0)
PROSTHETICS EXTRACT^727.826
"^DIC",727.826,727.826,0,"GL")
^ECX(727.826,
"^DIC",727.826,727.826,"%",0)
^1.005^1^1
"^DIC",727.826,727.826,"%",1,0)
ECX
"^DIC",727.826,727.826,"%","B","ECX",1)

"^DIC",727.826,727.826,"%D",0)
^^21^21^2990222^^^^
"^DIC",727.826,727.826,"%D",1,0)
This file contains the data elements as specified by the Decision Support
"^DIC",727.826,727.826,"%D",2,0)
System (DSS) Program Office for the Prosthetics extract from existing
"^DIC",727.826,727.826,"%D",3,0)
VISTA files.  Entries into this file are made by extracting data that
"^DIC",727.826,727.826,"%D",4,0)
originates in the Prosthetics RECORD OF PROS APPLIANCE/REPAIR file (#660).
"^DIC",727.826,727.826,"%D",5,0)
Information respective to the patient for which Prosthetic information
"^DIC",727.826,727.826,"%D",6,0)
is extracted is pulled from the PIMS Patient file (#2).  Once the extracts
"^DIC",727.826,727.826,"%D",7,0)
(making up the records in this file) are approved by the extract manager,
"^DIC",727.826,727.826,"%D",8,0)
entries in this file are loaded into mail messages and transmitted to
"^DIC",727.826,727.826,"%D",9,0)
the commercial vendor.  This file is intended to be used for validation
"^DIC",727.826,727.826,"%D",10,0)
purposes only.  Entries in this file should be made only by the extract
"^DIC",727.826,727.826,"%D",11,0)
load routine.
"^DIC",727.826,727.826,"%D",12,0)
 
"^DIC",727.826,727.826,"%D",13,0)
Since validation techniques will be determined by the local site, it is
"^DIC",727.826,727.826,"%D",14,0)
intended that the site add whatever cross references deemed necessary.
"^DIC",727.826,727.826,"%D",15,0)
However, this file contains one nationally determined cross reference,
"^DIC",727.826,727.826,"%D",16,0)
the "AC" cross reference on the EXTRACT NUMBER field (#2).  This cross
"^DIC",727.826,727.826,"%D",17,0)
reference is used by the DSS Extracts software package as an essential
"^DIC",727.826,727.826,"%D",18,0)
feature for managing and purging data in this file and should not be
"^DIC",727.826,727.826,"%D",19,0)
modified.
"^DIC",727.826,727.826,"%D",20,0)
  
"^DIC",727.826,727.826,"%D",21,0)
This file should NOT be modified directly using VA FileMan.  
"^DIC",727.826,"B","PROSTHETICS EXTRACT",727.826)

"^DIC",728,728,0)
DSS EXTRACTS
"^DIC",728,728,0,"GL")
^ECX(728,
"^DIC",728,728,"%D",0)
^^11^11^2990914^^^^
"^DIC",728,728,"%D",1,0)
This file contains various data extract information utilized by the DSS
"^DIC",728,728,"%D",2,0)
Extracts software.  This data includes the last date an extract was
"^DIC",728,728,"%D",3,0)
run, the Austin queue receiving the extract data, and extract setup
"^DIC",728,728,"%D",4,0)
information.
"^DIC",728,728,"%D",5,0)
 
"^DIC",728,728,"%D",6,0)
Data in this file should be entered and edited only by using the DSS
"^DIC",728,728,"%D",7,0)
software and not by direct access via VA FileMan.
"^DIC",728,728,"%D",8,0)
 
"^DIC",728,728,"%D",9,0)
**TECH NOTE**
"^DIC",728,728,"%D",10,0)
When adding a new extract, make sure that the "LAST DATE XXX" is on
"^DIC",728,728,"%D",11,0)
same piece of the 7 node as the "XXX" field is on the 7.1 node.
"^DIC",728,"B","DSS EXTRACTS",728)

**INSTALL NAME**
YS*5.01*56
"BLD",2019,0)
YS*5.01*56^MENTAL HEALTH^0^2991015^y
"BLD",2019,4,0)
^9.64PA^^
"BLD",2019,"KRN",0)
^9.67PA^19^18
"BLD",2019,"KRN",.4,0)
.4
"BLD",2019,"KRN",.401,0)
.401
"BLD",2019,"KRN",.402,0)
.402
"BLD",2019,"KRN",.403,0)
.403
"BLD",2019,"KRN",.5,0)
.5
"BLD",2019,"KRN",.84,0)
.84
"BLD",2019,"KRN",3.6,0)
3.6
"BLD",2019,"KRN",3.8,0)
3.8
"BLD",2019,"KRN",9.2,0)
9.2
"BLD",2019,"KRN",9.8,0)
9.8
"BLD",2019,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",2019,"KRN",9.8,"NM",1,0)
YSDSS^^0^B26475965
"BLD",2019,"KRN",9.8,"NM","B","YSDSS",1)

"BLD",2019,"KRN",19,0)
19
"BLD",2019,"KRN",19.1,0)
19.1
"BLD",2019,"KRN",101,0)
101
"BLD",2019,"KRN",409.61,0)
409.61
"BLD",2019,"KRN",771,0)
771
"BLD",2019,"KRN",869.2,0)
869.2
"BLD",2019,"KRN",870,0)
870
"BLD",2019,"KRN",8994,0)
8994
"BLD",2019,"KRN","B",.4,.4)

"BLD",2019,"KRN","B",.401,.401)

"BLD",2019,"KRN","B",.402,.402)

"BLD",2019,"KRN","B",.403,.403)

"BLD",2019,"KRN","B",.5,.5)

"BLD",2019,"KRN","B",.84,.84)

"BLD",2019,"KRN","B",3.6,3.6)

"BLD",2019,"KRN","B",3.8,3.8)

"BLD",2019,"KRN","B",9.2,9.2)

"BLD",2019,"KRN","B",9.8,9.8)

"BLD",2019,"KRN","B",19,19)

"BLD",2019,"KRN","B",19.1,19.1)

"BLD",2019,"KRN","B",101,101)

"BLD",2019,"KRN","B",409.61,409.61)

"BLD",2019,"KRN","B",771,771)

"BLD",2019,"KRN","B",869.2,869.2)

"BLD",2019,"KRN","B",870,870)

"BLD",2019,"KRN","B",8994,8994)

"BLD",2019,"QUES",0)
^9.62^^
"MBREQ")
0
"PKG",166,-1)
1^1
"PKG",166,0)
MENTAL HEALTH^YS^Version 5.01 of Mental Health
"PKG",166,22,0)
^9.49I^1^1
"PKG",166,22,1,0)
5.01^2941230^2950310
"PKG",166,22,1,"PAH",1,0)
56^2991015^11714
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","YSDSS")
0^1^B26475965
"RTN","YSDSS",1,0)
YSDSS ;DALCIOFO/MJD-MENTAL HEALTH DSS EXTRACT ;05/19/99
"RTN","YSDSS",2,0)
 ;;5.01;MENTAL HEALTH;**56**;Dec 30, 1994
"RTN","YSDSS",3,0)
 Q
"RTN","YSDSS",4,0)
 ;
"RTN","YSDSS",5,0)
UPD(YSFILE,YSFRN,YSYRMO,YSEXTN,YSSITE,YSSD,YSEND,YSERR)  ;parameter list 
"RTN","YSDSS",6,0)
 ;
"RTN","YSDSS",7,0)
 ; YSFILE - MENTAL HEALTH EXTRACT file (#727.812) - constant
"RTN","YSDSS",8,0)
 ; YSFRN  - Last IEN of the MENTAL HEALTH EXTRACT file (#727.812)
"RTN","YSDSS",9,0)
 ; YSYRMO - YearMonth of the extract to which this record belongs
"RTN","YSDSS",10,0)
 ; YSEXTN - Identifies the specific extract to which this record belongs
"RTN","YSDSS",11,0)
 ; YSSITE - Facility number
"RTN","YSDSS",12,0)
 ; YSSD   - Start date for extract
"RTN","YSDSS",13,0)
 ; YSEND   - End date for extract
"RTN","YSDSS",14,0)
 ; YSERR  - for return of "1", if error condition; otherwise return "0";
"RTN","YSDSS",15,0)
 ;          passed by reference; if any parameter missing or incorrect 
"RTN","YSDSS",16,0)
 ;          format, then return "1"
"RTN","YSDSS",17,0)
 ;
"RTN","YSDSS",18,0)
 ;
"RTN","YSDSS",19,0)
 ; Check for DSS MH TESTS file (#727.5)
"RTN","YSDSS",20,0)
 I '$D(^ECX(727.5,0)) S YSERR=1 Q
"RTN","YSDSS",21,0)
 ; Check for YTAPI2 routine
"RTN","YSDSS",22,0)
 S X="YTAPI2" X ^%ZOSF("TEST") I '$T S YSERR=1 Q
"RTN","YSDSS",23,0)
 ;
"RTN","YSDSS",24,0)
 D PT
"RTN","YSDSS",25,0)
 D ASI
"RTN","YSDSS",26,0)
 D GAF
"RTN","YSDSS",27,0)
 Q
"RTN","YSDSS",28,0)
 ;
"RTN","YSDSS",29,0)
PT ; Retrieve the PSYCH INSTRUMENT PATIENT file (#601.2) data
"RTN","YSDSS",30,0)
 N YSD,YSD2,YSDFN,YSTSTN
"RTN","YSDSS",31,0)
 S YSDFN=0
"RTN","YSDSS",32,0)
 F  S YSDFN=$O(^YTD(601.2,YSDFN)) Q:YSDFN=""!('YSDFN)  D
"RTN","YSDSS",33,0)
 .Q:$$TEST(YSDFN)
"RTN","YSDSS",34,0)
 . S YSD=0
"RTN","YSDSS",35,0)
 . F  S YSD=$O(^YTD(601.2,YSDFN,1,YSD)) Q:'YSD  D
"RTN","YSDSS",36,0)
 .. S YSTSTN=$P($G(^YTT(601,+YSD,0)),U)
"RTN","YSDSS",37,0)
 .. Q:YSTSTN=""
"RTN","YSDSS",38,0)
 .. S YSD2=0
"RTN","YSDSS",39,0)
 .. F  S YSD2=$O(^YTD(601.2,YSDFN,1,YSD,1,YSD2)) Q:'YSD2  D
"RTN","YSDSS",40,0)
 ... Q:(YSD2<(YSSD))  Q:(YSD2>(YSEND+1)) 
"RTN","YSDSS",41,0)
 ... S YSDET=0 D CHKT
"RTN","YSDSS",42,0)
 ... I YSDET D
"RTN","YSDSS",43,0)
 .... S YS("DFN")=YSDFN
"RTN","YSDSS",44,0)
 .... S YS("CODE")=YSTSTN
"RTN","YSDSS",45,0)
 .... S YS("ADATE")=$$FMTE^XLFDT(YSD2,"2DZ")
"RTN","YSDSS",46,0)
 .... D SCOREIT^YTAPI2(.YSDATA,.YS)
"RTN","YSDSS",47,0)
 .... S YSPRV=$P(^YTD(601.2,YSDFN,1,YSD,1,YSD2,0),U,3)
"RTN","YSDSS",48,0)
 .... S YSSCOR=""
"RTN","YSDSS",49,0)
 .... S YSS=5
"RTN","YSDSS",50,0)
 .... F  S YSS=$O(YSDATA(YSS)) Q:YSS'>0  D
"RTN","YSDSS",51,0)
 ..... S YSSCNUM=$P(YSDATA(YSS),U)
"RTN","YSDSS",52,0)
 ..... S YSSCNAM=$P(YSDATA(YSS),U,2)
"RTN","YSDSS",53,0)
 ..... S YSSCSC=$P(YSDATA(YSS),U,3)
"RTN","YSDSS",54,0)
 ..... D CR
"RTN","YSDSS",55,0)
 ..... Q
"RTN","YSDSS",56,0)
 ... I 'YSDET D
"RTN","YSDSS",57,0)
 .... S (YSPRV,YSSCNUM,YSSCNAM,YSSCOR,YSSCSC)=""
"RTN","YSDSS",58,0)
 .... D CR
"RTN","YSDSS",59,0)
 .... Q
"RTN","YSDSS",60,0)
 ... Q
"RTN","YSDSS",61,0)
 .. Q
"RTN","YSDSS",62,0)
 .Q
"RTN","YSDSS",63,0)
 Q
"RTN","YSDSS",64,0)
 ;
"RTN","YSDSS",65,0)
CHKT ;
"RTN","YSDSS",66,0)
 N YS,YSACT,YSINACT
"RTN","YSDSS",67,0)
 S (YS,YSDET)=0,(YSACT,YSINACT)=""
"RTN","YSDSS",68,0)
 Q:'$D(^ECX(727.5,"B",YSTSTN))
"RTN","YSDSS",69,0)
 S YS=$O(^ECX(727.5,"B",YSTSTN,YS))
"RTN","YSDSS",70,0)
 Q:'$D(^ECX(727.5,YS,0))
"RTN","YSDSS",71,0)
 S YSACT=$O(^ECX(727.5,"AC",YS,9999999),-1)
"RTN","YSDSS",72,0)
 I $D(^ECX(727.5,"AX",YS)) S YSINACT=$O(^ECX(727.5,"AX",YS,9999999),-1)
"RTN","YSDSS",73,0)
 Q:YSACT>YSD2
"RTN","YSDSS",74,0)
 Q:YSINACT>YSACT
"RTN","YSDSS",75,0)
 S YSDET=1
"RTN","YSDSS",76,0)
 Q
"RTN","YSDSS",77,0)
 ;
"RTN","YSDSS",78,0)
CR ;Create a MENTAL HEALTH EXTRACT
"RTN","YSDSS",79,0)
 S YSFRN=YSFRN+1
"RTN","YSDSS",80,0)
 S ^ECX(YSFILE,YSFRN,0)=YSFRN_U_YSYRMO_U_YSEXTN_U_YSSITE_U_YSDFN
"RTN","YSDSS",81,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,9)=YSD2
"RTN","YSDSS",82,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,18)=YSPRV
"RTN","YSDSS",83,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,21)=YSTSTN
"RTN","YSDSS",84,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,22)=YSD
"RTN","YSDSS",85,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,23)=YSSCNUM
"RTN","YSDSS",86,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,24)=YSSCNAM
"RTN","YSDSS",87,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,25)=YSSCOR
"RTN","YSDSS",88,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,26)=YSSCSC
"RTN","YSDSS",89,0)
 QUIT
"RTN","YSDSS",90,0)
 ;
"RTN","YSDSS",91,0)
ASI ; ASI
"RTN","YSDSS",92,0)
 N YSDFN,YSIEN,YSASIDT
"RTN","YSDSS",93,0)
 S YSTSTN="ASI"
"RTN","YSDSS",94,0)
 S YSDFN=0
"RTN","YSDSS",95,0)
 F  S YSDFN=$O(^YSTX(604,"C",YSDFN)) Q:'YSDFN  D
"RTN","YSDSS",96,0)
 .Q:$$TEST(YSDFN)
"RTN","YSDSS",97,0)
 . S YSIEN=0
"RTN","YSDSS",98,0)
 . F  S YSIEN=$O(^YSTX(604,"C",YSDFN,YSIEN)) Q:'YSIEN  D
"RTN","YSDSS",99,0)
 .. Q:'$D(^YSTX(604,YSIEN,0))
"RTN","YSDSS",100,0)
 .. S YSASIDT=$P($P(^YSTX(604,YSIEN,0),"^",5),".",1)
"RTN","YSDSS",101,0)
 .. I (YSASIDT>(YSSD-1))&(YSASIDT<(YSEND+1)) D
"RTN","YSDSS",102,0)
 ... S YSDTOI=$P(^YSTX(604,YSIEN,0),U,5)
"RTN","YSDSS",103,0)
 ... S YSPRV=$P(^YSTX(604,YSIEN,0),U,9)
"RTN","YSDSS",104,0)
 ... S YS("DFN")=YSDFN
"RTN","YSDSS",105,0)
 ... S YS("CODE")="ASI"
"RTN","YSDSS",106,0)
 ... S YSCLAS=$P(^YSTX(604,YSIEN,0),U,4)
"RTN","YSDSS",107,0)
 ... S YSSPEC=$P(^YSTX(604,YSIEN,0),U,11)
"RTN","YSDSS",108,0)
 ... S YS("ADATE")=$$FMTE^XLFDT(YSASIDT,"2DZ")
"RTN","YSDSS",109,0)
 ... D SCOREIT^YTAPI2(.YSDATA,.YS)
"RTN","YSDSS",110,0)
 ... F YSS=6:1 Q:YSS>12  D CRASI
"RTN","YSDSS",111,0)
 ... Q
"RTN","YSDSS",112,0)
 .. Q
"RTN","YSDSS",113,0)
 . Q
"RTN","YSDSS",114,0)
 Q
"RTN","YSDSS",115,0)
 ;
"RTN","YSDSS",116,0)
CRASI ;
"RTN","YSDSS",117,0)
 S YSFRN=YSFRN+1
"RTN","YSDSS",118,0)
 S YSSCNUM=$P(YSDATA(YSS),U)
"RTN","YSDSS",119,0)
 S YSSCNAM=$P(YSDATA(YSS),U,2)
"RTN","YSDSS",120,0)
 S YSSCSC=$TR($P(YSDATA(YSS),U,4)," ")
"RTN","YSDSS",121,0)
 S ^ECX(YSFILE,YSFRN,0)=YSFRN_U_YSYRMO_U_YSEXTN_U_YSSITE_U_YSDFN
"RTN","YSDSS",122,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,9)=YSDTOI
"RTN","YSDSS",123,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,18)=YSPRV
"RTN","YSDSS",124,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,21)=YSTSTN
"RTN","YSDSS",125,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,23)=YSSCNUM
"RTN","YSDSS",126,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,24)=YSSCNAM
"RTN","YSDSS",127,0)
 S $P(^ECX(YSFILE,YSFRN,0),U,26)=YSSCSC
"RTN","YSDSS",128,0)
 S ^ECX(YSFILE,YSFRN,1)=""
"RTN","YSDSS",129,0)
 S $P(^ECX(YSFILE,YSFRN,1),U,5)=YSCLAS
"RTN","YSDSS",130,0)
 S $P(^ECX(YSFILE,YSFRN,1),U,6)=YSSPEC
"RTN","YSDSS",131,0)
 QUIT
"RTN","YSDSS",132,0)
 ;
"RTN","YSDSS",133,0)
GAF ; GAF
"RTN","YSDSS",134,0)
 N YSIEN
"RTN","YSDSS",135,0)
 S YSIEN=0
"RTN","YSDSS",136,0)
 F  S YSIEN=$O(^YSD(627.8,YSIEN)) Q:YSIEN=""!('YSIEN)  D
"RTN","YSDSS",137,0)
 . Q:'$D(^YSD(627.8,YSIEN,0))
"RTN","YSDSS",138,0)
 . S YSGFDATE=$P($P(^YSD(627.8,YSIEN,0),"^",3),".",1)
"RTN","YSDSS",139,0)
 . I (YSGFDATE>(YSSD-1))&(YSGFDATE<(YSEND+1)) D
"RTN","YSDSS",140,0)
 .. I $P($G(^YSD(627.8,YSIEN,60)),U,3)="" Q
"RTN","YSDSS",141,0)
 .. S YSDFN=$P(^YSD(627.8,YSIEN,0),U,2)
"RTN","YSDSS",142,0)
 .. Q:$$TEST(YSDFN)
"RTN","YSDSS",143,0)
 .. S YSFRN=YSFRN+1
"RTN","YSDSS",144,0)
 .. S YSPRV=$P(^YSD(627.8,YSIEN,0),U,4)
"RTN","YSDSS",145,0)
 .. S YSTSTN="GAF"
"RTN","YSDSS",146,0)
 .. S YSSCOR=$P($G(^YSD(627.8,YSIEN,60)),U,3)
"RTN","YSDSS",147,0)
 .. S ^ECX(YSFILE,YSFRN,0)=YSFRN_U_YSYRMO_U_YSEXTN_U_YSSITE_U_YSDFN
"RTN","YSDSS",148,0)
 .. S $P(^ECX(YSFILE,YSFRN,0),U,9)=YSGFDATE
"RTN","YSDSS",149,0)
 .. S $P(^ECX(YSFILE,YSFRN,0),U,18)=YSPRV
"RTN","YSDSS",150,0)
 .. S $P(^ECX(YSFILE,YSFRN,0),U,21)=YSTSTN
"RTN","YSDSS",151,0)
 .. S $P(^ECX(YSFILE,YSFRN,0),U,25)=YSSCOR
"RTN","YSDSS",152,0)
 .. Q
"RTN","YSDSS",153,0)
 . Q
"RTN","YSDSS",154,0)
 QUIT
"RTN","YSDSS",155,0)
 ;
"RTN","YSDSS",156,0)
TEST(YSDFN) ;is this a test patient?
"RTN","YSDSS",157,0)
 N ARR,SSN
"RTN","YSDSS",158,0)
 S DA=YSDFN,DIC="^DPT(",DIQ(0)="I",DR=".09",DIQ="ARR"
"RTN","YSDSS",159,0)
 D EN^DIQ1
"RTN","YSDSS",160,0)
 S SSN=ARR(2,YSDFN,.09,"I")
"RTN","YSDSS",161,0)
 I $E(SSN,1,5)="00000" Q 1
"RTN","YSDSS",162,0)
 Q 0
"VER")
8.0^22.0
**END**
**END**
