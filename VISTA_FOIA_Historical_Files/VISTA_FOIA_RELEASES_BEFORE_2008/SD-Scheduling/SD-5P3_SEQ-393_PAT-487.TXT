$TXT Created by VILLELLA,ROSS at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 08/09/06 at 17:53
=============================================================================
Run Date: SEP 21, 2006                     Designation: SD*5.3*487
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #393                    Status: Released
                  Compliance Date: OCT 22, 2006
=============================================================================

Associated patches: (v)SD*5.3*167  <<= must be installed BEFORE `SD*5.3*487'
                    (v)SD*5.3*478  <<= must be installed BEFORE `SD*5.3*487'

Subject: NEW CANCEL CLINIC REPORT & CORRECT ASDCN XREF

Category: 
  - Routine
  - Enhancement (Mandatory)

Description:
============

 This patch contains a new Cancelled Clinic Report. It also will address 
 an issue with the "ASDCN" cross reference in the Patient file (#2) not
 being created when appointments are cancelled by cancelling the
 availability for a clinic.  Included is a one time utility routine 
 (SD53P487) which will run as a Post Install to create a valid cross
 reference for any cancelled appointments that did not have the cross  
 reference created properly in the past.
  
 Please note: This patch replaces SD*5.3*389 which was entered in error.
  
  
 ASSOCIATED NSR:
 ===============
 N/A
   
 ASSOCIATED REMEDY CALLS:
 ========================
 HD63459 - ASDCN X-REF CORRUPT
 HD63697 - Cancelled Appointments. (Original)
 HD95617 - Problem with Cancelled Clinic Reports Menu (Duplicate)
 HD142465 - Error installing SD*5.3*389 (Original)
 HD142501 - SD*5.3*389 UNDEFINED ASDCN+5^SD53P389 (Duplicate)
 HD142688 - SD*5.3*389 (Duplicate)
 HD142689 - Error encountered when installing SD*5.3*389 (Duplicate)
 HD142839 - Error when installing SD*5.3*389 (Duplicate)
 HD143148 - <UNDEFINED>ASDCN+5^SD53P389 (Duplicate)
  
  
 PARTICIPATING TEST SITES:
 =========================
 Salisbury,NC
 San Francisco,CA
 Va Greater LA HCS 
  
 REMEDY TICKET OVERVIEW:
 =======================
 1. HD63459 - ASDCN X-REF CORRUPT
  
   Problem:
   --------
   The routine SDCAN only builds the "ASDCN" cross reference of the 
   Patient file (#2) for the appointment status of "C" for Cancelled by 
   Clinic. It should also build the cross reference when the appointment 
   status is any of those listed below.
   Also, during Cancel Clinic Availability if there are existing 
   appointments within the time frame you are cancelling the availability
   for the cross reference was not being created when cancelling those
   appointments.
  
  "CA" Cancelled by Clinic and Auto Re-book.
  "PC" Cancelled by Patient.
  "PCA" Cancelled by Patient and Auto Re-book.
  
   Resolution:
   -----------
   Modify the routine SDCAN to include the additional appointment status' 
   when creating the cross reference. Modify the SDC routine to create the 
   cancelled appointments cross reference when the appointments are being 
   cancelled as part of cancelling the availability for a clinic.
  
   The cross reference will look as follows:
  
         ^DPT("ASDCN",SC,DATE/TIME,PDFN)="" (null if clinic cancel)
                                        =1  (1 if patient cancel)
         Where:
         SC = Pointer to Hospital Location file 44.
         DATE/TIME = Appointment Date and Time.
         PDFN = Patient DFN
  
  
 2. HD63697 - Cancelled Appointments. (Original)
    HD95617 - Problem with Cancelled Clinic Reports Menu (Duplicate)
  
   Problem:
   --------
   Site requested a new report be created to determine the number of 
   cancelled clinic appointments for national reporting purposes.
  
   Resolution:
   -----------
   Report created for this new functionality. This report prints patients 
   with all cancelled clinic types and subtotals each group. The totals 
   are then printed by Division. The following is the Option path.
         Scheduling Manager's Menu
                 OUTputs
                     Cancelled Clinic Report
  
 3. HD142465 - Error installing SD*5.3*389 (Original)
    HD142501 - SD*5.3*389 UNDEFINED ASDCN+5^SD53P389 (Duplicate)
    HD142688 - SD*5.3*389 (Duplicate)
    HD142689 - Error encountered when installing SD*5.3*389 (Duplicate)
    HD142839 - Error when installing SD*5.3*389 (Duplicate)
    HD143148 - <UNDEFINED>ASDCN+5^SD53P389 (Duplicate)
  
   Problem:
   --------
   A data issue where the .01 field of the Appointment was missing causes 
   the post install routine to error out.
  
   Resolution:
   -----------
   The post install routine SD53P487 will be modified to skip the bad data 
   records and allow the patch install to complete without error.
  
 DOCUMENTATION DISTRIBUTION:
 ========================== 
 The complete and updated PIMS V. 5.3 Scheduling Module User Manual, 
 Output documentation showing information on the Cancelled Clinic Report 
 will be posted to the VDL immediately after the release of the patch.
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch can be loaded with user's on the system but since some 
 options will be disabled, it is recommended that it be installed at off 
 peak hours as SD53P487 will be run as a post installation routine.
   
 Installation time may vary from less than 5 minutes or longer 
 depending on the size of the Patient file (#2 ) global.
  
   
  1.  LOAD TRANSPORT GLOBAL
      ---------------------
      Choose the PackMan message containing this patch and invoke the
      INSTALL/CHECK MESSAGE PackMan option.
   
  2.  START UP KIDS
      -------------
      Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]
   
            Edits and Distribution ...
            Utilities ...
            Installation ...
   
      Select Kernel Installation & Distribution System Option:  
      INStallation
                                                                ---
   
      1     Load a Distribution
      2     Verify Checksums in Transport Global
      3     Print Transport Global
      4     Compare Transport Global to Current System
      5     Backup a Transport Global
      6     Install Package(s)
            Restart Install of Package(s)
            Unload a Distribution
   
  3.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter SD*5.3*487):
   
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch.  It will NOT
          backup any other changes such as DDs or templates.
  
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch
          (routines, DDs, templates, etc.).
     
      c.  Verify Checksums in Transport Global - This option will ensure
          the integrity of the routines that are in the transport global.
   
      d.  Print Transport Global - This option will allow you to view
          the components of the KIDS build.
   
  4.  Use the Install Package(s) option and select the package SD*5.3*487.
     
      a.  When prompted "Want KIDS to INHIBIT LOGONS during the
          install? YES//" respond NO.
   
      b.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//" respond YES
          
          When prompted to select the options you would like to mark as 
          "Out of Order", enter the following.
               
                 SDAM APPT MGT
                 CANCEL CLINIC AVAILABILITY
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;Aug 13, 1993
  
 Please note: if you were successful in loading SD*5.3*389 then you will 
 have Before Patch checksums that will match the After Patch checksums
 with the exception of the SD53P487 routine as seen below. If you did not 
 install SD*5.3*389 you will not see Before Patch checksums for the new 
 routines. Only the routines SDC and SDCAN will have Before Patch 
 checksums as seen in the second grouping below.
  
                       CHECK^XTSUMBLD results (SD*5.3*389 installed)
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SD53P487                   N/A              1209736             487
  SDAMOC                 7865936              7865936             487
  SDAMOC0                2780158              2780158             487
  SDAMOCC                2050584              2050584             487
  SDAMOCP                6869637              6869637             487
  SDAMOCP1               8239723              8239723             487
  SDC                   16544968             16572438      15,32,79,132,167
                                                                478,487
  SDCAN                   788625               788625             487
  
 TOTAL NUMBER OF ROUTINES - 8
  
  
                       CHECK^XTSUMBLD results (SD*5.3*389 not installed)
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SD53P487                   N/A              1209736             487
  SDAMOC                     N/A              7865936             487
  SDAMOC0                    N/A              2780158             487
  SDAMOCC                    N/A              2050584             487
  SDAMOCP                    N/A              6869637             487
  SDAMOCP1                   N/A              8239723             487
  SDC                   16544968             16572438      15,32,79,132,167
                                                                478,487
  SDCAN                   785063               788625             487
  
 TOTAL NUMBER OF ROUTINES - 8
  
 Routine Information:
 ====================
  
 ** Note the first grouping below is if you did not install SD*5.3*389.
 The second grouping is what you will see if you sucessfully installed the
 SD*5.3*389 patch.
  
 The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.
  
 Routine Name: SD53P487
     Before:       n/a  After:  B2096509  **487**
 Routine Name: SDAMOC
     Before:       n/a  After: B21770282  **487**
 Routine Name: SDAMOC0
     Before:       n/a  After:  B4630788  **487**
 Routine Name: SDAMOCC
     Before:       n/a  After:  B5703858  **487**
 Routine Name: SDAMOCP
     Before:       n/a  After: B13982690  **487**
 Routine Name: SDAMOCP1
     Before:       n/a  After: B17836724  **487**
 Routine Name: SDC
     Before: B21658031  After: B24948807  **15,32,79,132,167,478,487**
 Routine Name: SDCAN
     Before:   B833446  After:   B837101  **487**

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SD53P487
    Before:       n/a  After:  B2096509  **487**
Routine Name: SDAMOC
    Before:       n/a  After: B21770282  **487**
Routine Name: SDAMOC0
    Before:       n/a  After:  B4630788  **487**
Routine Name: SDAMOCC
    Before:       n/a  After:  B5703858  **487**
Routine Name: SDAMOCP
    Before:       n/a  After: B13982690  **487**
Routine Name: SDAMOCP1
    Before:       n/a  After: B17836724  **487**
Routine Name: SDC
    Before: B24772235  After: B24948807  **15,32,79,132,167,478,487**
Routine Name: SDCAN
    Before:       n/a  After:   B837101  **487**

=============================================================================
User Information:
Entered By  : VILLELLA,ROSS                 Date Entered  : MAY 23, 2006
Completed By: ILUSTRISIMO,LUCY              Date Completed: SEP 21, 2006
Released By : CANNEDY,JOELLEN               Date Released : SEP 21, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
