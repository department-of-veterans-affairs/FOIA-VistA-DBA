$TXT Created by HARTIN,JAMES A at LOM1C.FO-BAYPINES.MED.VA.GOV  (KIDS) on Wednesday, 02/04/04 at 11:19
=============================================================================
Run Date: MAR 03, 2004                     Designation: DVBA*2.7*59
Package : DVBA - AUTOMATED MED INFO EXCHANGE  Priority: Mandatory
Version : 2.7        SEQ #56                    Status: Released
                  Compliance Date: APR 03, 2004
=============================================================================

Associated patches: (v)DVBA*2.7*17 <<= must be installed BEFORE `DVBA*2.7*59'

Subject: DISCHARGE REPORT NOT PRINTING

Category: 
  - Routine

Description:
============

 The option [DVBA DISCHARGE RPT] Discharge Report does not print even when 
 there are expected data to print and a message " No data found for the
 parameters entered" is displayed on the screen.
 
 ASSOCIATED NOIS:
 ================
 1) LOU-0903-40116  No discharge report problem
 
 ASSOCIATED E3RS:
 ================
 N/A
 
 PARTICIPATING TEST SITES:
 =========================
 Minneapolis,MN
 Louisville,KY
 Wilmington,DE
 Cheyenne,WY
 
 NOIS OVERVIEW:
 ==============
 1) LOU-0903-40116  No discharge report problem
 
    Problem: 
    --------
    The Regional office of Louisville VAMC reported that they are 
    not getting their discharge reports. The error message was "No data 
    found for the parameters entered", yet they were expecting to have some
    discharges available to print.
    Also,it was discovered that the Discharge Report will sometimes print
    but some data are missing.
     
    Resolution:
    -----------
    The routine DVBALD1 creates a temporary global using "movement 
    type" in the global structure. The routine that prints the discharge 
    report (DVBADSRT), gets the movement type from the PATIENT MOVEMENT
    FILE #405, then validates this data against the MAS MOVEMENT TYPE FILE
    #405.2. The error occurs when the routine checks to see if this movement 
    type is in the temporary global created by DVBALD1, which is not equal
    and therefore does not print. The data is good, and the patient in 
    fact should have printed. To correct this, a merge to an array (distype)
    from the ^TMP global, and this array was checked for movement type.
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
 
      <tab>;;2.7;AMIE;**[patch list]**;Apr 10, 1995
 
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DVBADSRT              11259567             11144930             17,59
 
 INSTALLATION INSTRUCTIONS
 =========================
  
   This patch can be installed at any time.  Users do not need to be off
   the system.  Installation will take less than 2 minutes.
   
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.
  
  2.  (DSM for Open VMS sites only) Disable routine mapping on all 
       systems for the routines listed in the Routine Summary.
   
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
   
  3.  Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
    
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
    
  Select Kernel Installation & Distribution System Option: INStallation
                                                           ---
                                                                
           Load a Distribution 
           Print Transport Global 
           Compare Transport Global to Current System 
           Verify Checksums in Transport Global 
           Install Package(s) 
           Restart Install of Package(s) 
           Unload a Distribution 
           Backup a Transport Global  
  
  4.  From this menu, you may elect to use the following options
      (when prompted for the INSTALL NAME, enter DVBA*2.7*59):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
  5.  Use the Install Package(s) option and select the package DVBA*2.7*59.
  
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          YES//', answer NO (unless otherwise indicated).
      b.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//', answer NO.
  
  6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
     
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.    

Routine Information:
====================

Routine Name:
  - DVBADSRT


Routine Checksum:

=============================================================================
User Information:
Entered By  : ROSSON,JERRY                  Date Entered  : NOV 10, 2003
Completed By: ILUSTRISIMO,LUCY              Date Completed: FEB 25, 2004
Released By : CORAM,JAMIE                   Date Released : MAR 03, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
