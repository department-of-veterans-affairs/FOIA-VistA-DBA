$TXT Created by CHAN,ALAN at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Monday, 07/03/06 at 11:00
=============================================================================
Run Date: SEP 12, 2006                     Designation: VALM*1*8
Package : VALM - LIST MANAGER                 Priority: Mandatory
Version : 1         SEQ #8                      Status: Released
                  Compliance Date: OCT 13, 2006
=============================================================================

Associated patches: (v)VALM*1*6    <<= must be installed BEFORE `VALM*1*8'

Subject: Pagination problem

Category: 
  - Routine

Description:
============

  Patch Tracking #: 43589279
  
  Test Sites: Puget Sound HCS, Fayetteville AR VAMC, Charleston SC VAMC
  
  Related Remedy Tickets: HD0000000104675
  
  Problem:
  When using List Manager's hidden action 'PL' (Print List), the report
  that prints may not paginate properly if the List Template being used
  is configured with a Top Margin other than 2.
  
  One example where this pagination problem may be experienced is through
  the Clinical Reminders application.  This application uses List Manager
  and has a List Template that is configured with a Top Margin of 4.
  
  Below is an example of the pagination problem on hard-copy print output
  for reminder dialog views.  This pagination problem can occur on
  Dialog Text, Detailed Display and Progress Note views.  These page
  counts appear on the right side of the header line:
  
    page 57 of 57
    page 58 of 57
    page 59 of 57
  
    
  Below are the steps that can be used to navigate through the Clinical
  Reminders option(s)/action(s) to reproduce the pagination problem:
  
   1) Select the menu option called
      "Reminder Dialogs [PXRM DIALOG/COMPONENT EDIT]".
   2) Then select the VIEW (i.e.: REMINDER DIALOGS)
   3) Then select a given REMINDER DIALOG item by number
   4) Then switched the view to "DT" (Dialog Text)
   5) Then use the hidden action "PL" to print the list
   6) When prompted for 'DEVICE:', enter the proper output device.
  
   Alternatively, the "PL" (Print List action) can be used
   with the other 2 views: (DD = Detailed Display; and DP = Progress Note text)
   
  Fix:
  This is fixed by making a correction to how List Manager calculates the 
  number of pages to print.  Currently, it calculates this by dividing the
  number of lines to print by the number of lines per page.  However, the
  number of lines per page in this calculation is based on a Top Margin of
  2. The fix in this patch is to adjust this calculation based on the value
  of the Top Margin configured for the current List Template being used.
  
  As an example, the following is provided to illustrate the different
  Lines Per Page based on Page Length and Top Margin values:
  
  Device/Terminal Type Page Length      Top Margin          Lines Per Page
  ================================      ==========          ==============
  
                  64                        2                     59
                  64                        4                     57
                  64                        5                     56
  
  In addition to the above fix, this patch includes a cosmetic fix to the
  List Manager demo routine VALMD.  Upon expanding an entry, the demo
  routine would display the first character of the index of the selected entry
  repeatedly as shown below:
  
  Package Protocol List         Jun 28, 2006@13:37:20          Page:    1 of  3
      Package: KERNEL                                           Prefix: XU
  Description: SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN
       Option Name                       Item Text
  1    XU USER SIGN-ON                   User sign-on event
  2    XU USER TERMINATE                 User terminate event
  3    XUHUI FIELD CHANGE EVENT          Field Change Event
  4    XUHUI MFK
  5    XUHUI MFN
  6    XUHUI SEND HL7 MESSAGE            Send HL7 MFN message
  7    XUHUI SEND MESSAGE                Send Notification Message
  8    XUMF AUTO                         Auto update with national data
  9    XUMF CHCK                         Required clean-up actions
  10   XUMF DSTA                         Delete local/dup. station #
  +         Enter ?? for more actions                                       >>>
   PE  Protocol Edit         CP  Change Package
   DE  Show Description      EP  Expand Entry
   Select Action:Next Screen// EP   Expand Entry
  Select Protocol(s):  (1-10): 1
  
  1    XU USER SIGN-ON                   User sign-on event
           11111111111111111111111111111111111111111111111111111111111111111111
  11111111111111111111111111111111111111111111111111111111111111111111111111111
  
  NAME: XU USER SIGN-ON                   ITEM TEXT: User sign-on event
    TYPE: extended action                 CREATOR: VALMUSER,ONE
  
  
  
  =========================================================================
  
  Installation Instructions: 
  ==========================
  
  Install Time is less than 2 minutes.
  
      1.   It is recommended that this install be performed when most users
           are off the system.
           You DO NOT need to stop TaskMan.  
   
      2.   Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. 
      This option will load the KIDS (Kernel Installation and Distribution 
      System) package onto your system.  
     
      3.   The patch has now been loaded into a transport global on your 
      system.  On the KIDS menu, select the 'Installation' menu and use 
      the following options: 
            2 Verify Checksums in Transport Global 
            3 Print Transport Global 
            4 Compare Transport Global to Current System 
            5 Backup a Transport Global 
            6 Install Package(s) 
  
            Select KIDS OPTION: Install 
                                =======
             Install Package(s) 
             Select INSTALL NAME: VALM*1.0*8 
                                  =========
  
        Logons DO NOT need to be inhibited.  
        No Options or Protocols need to be placed out-of-order.  
  
        Want KIDS to INHIBIT LOGONs during the install? YES// NO 
                                                              ==
        Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO 
                                                                        ==
  =========================================================================
  
  Routine Summary
  Checksums shown are OLD Checksums
  The following routines are included in this patch.  The second line of each
  of these routines now looks like:
   ;;1.0;List Manager;**[Patch List]**;Aug 13, 1993
  
                   Checksums
  Routine         Old         New        Patch List
  VALM1         6406024     6465164    **5,6,8**
  VALMD         6200439     6170707    **8**
  
  List of preceding patches: 6
  Sites should use CHECK^XTSUMBLD to verify checksums.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: VALM1
    Before: B25912107  After: B26058095  **5,6,8**
Routine Name: VALMD
    Before: B16497952  After: B16458760  **8**

=============================================================================
User Information:
Entered By  : CHAN,ALAN                     Date Entered  : JUN 09, 2006
Completed By: SINGH,GURBIR                  Date Completed: SEP 08, 2006
Released By : HARROD,PAUL                   Date Released : SEP 12, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
