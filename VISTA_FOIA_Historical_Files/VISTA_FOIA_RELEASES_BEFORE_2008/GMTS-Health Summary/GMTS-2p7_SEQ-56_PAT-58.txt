$TXT Created by ROWE,KIMBALL at DEVCUR.FO-SLC.MED.VA.GOV  (KIDS) on Monday, 01/06/03 at 06:55
=============================================================================
Run Date: JAN 14, 2003                     Designation: GMTS*2.7*58
Package : GMTS - HEALTH SUMMARY               Priority: Mandatory
Version : 2.7        SEQ #56                    Status: Released
                  Compliance Date: FEB 14, 2003
=============================================================================

Associated patches: (v)GMTS*2.7*49 <<= must be installed BEFORE `GMTS*2.7*58'
                    (v)GMTS*2.7*56 <<= must be installed BEFORE `GMTS*2.7*58'

Subject: HS Objects and CNB/ADR/NOK/SII Components

Category: 
  - Routine
  - Data Dictionary
  - Enhancement (Mandatory)

Description: 
============

  
    1   Fix the Consults Brief component to prevent        NOIS BUT-0701-20825
        displaying "UNKNOWN" for Action Date where              CPH-0302-40541
        the PRINTED TO field (#8) of the  REQUEST               WPB-0202-31624
        PROCESSING ACTIVITY' sub-file (#123.02) is
        not valid.   This patch does not prevent
        displaying "UNKNOWN" for Action Date where
        the problem is the date format, this was 
        fixed in Consults patch GMRC*3*27.  
        (Routine GMTSCNB)
 
    2   Use the Health Summary Type's TITLE (.02) on       E3R 17409
        the Reports Tab in CPRS and not the Name (.01)     NOIS BUT-0702-23160
        (routine GMTSXAB)
 
    3   Added option descriptions for several Health       NOIS PUG-0702-51903
        Summary options to support  ???' help:
 
    4   Removed the display of temporary global data       NOIS HWH-1002-40090
        from the Blood Availability Component.
 
    5   Fix the truncated From and To dates for the        NOIS LAH-1102-61005
        Branch of Service data element of the MAS
        Demographic component.
 
    6   Added "Title" for "Assessed by" when there         NOIS FAV-0902-70871
        is an assessment of NKA.  (Routine GMTSALG)
 
    7   Added Case Number and Report Status "canceled"     NOIS CON-0902-10901
        (for when an exam is canceled) to the Selected
        Imaging Component.  (Routine GMTSRASP)
 
    8   Exports routines, options and files to enable      E3R 17305
        users to customize Health Summary Objects. 
        Also, exports entry points for other applications 
        to embed the HS objects into other text and/or
        documents.  Also, blank lines between column
        headers and component data have been suppressed
        for Laboratory components.  (Routines GMTSOBJ,
        GMTSOBA, GMTSOBA2, GMTSOBE, GMTSOBH, GMTSOBI,
        GMTSOBL, GMTSOBL2, GMTSOBS, GMTSOBT, GMTSOBU, 
        GMTSOBV, GMTS1, GMTS2, GMTSUP, GMTSLRC, GMTSLROB,
        GMTSLRS, GMTSLRS7, GMTSLRSC, GMTSULT and GMTSVSD)
 
        NOTE:  Before Health Summary Objects can be used
        within another application, that application
        needs to release changes in their software to 
        incorporate Health Summary Objects.  To use 
        Health Summary Objects within TIU, patch 
        TIU*1.0*135 must first be released and 
        installed.
 
    9   Added Post-Install to resequence menu items        N/A
        on GMTS BUILD MENU.  (Routine GMTSP58)
 
   10   Next of Kin Health Summary component is            N/A
        installed during the Post-Install
        (Routine GMTSP58)
  
 
  Documentation:
  ==============
    
    Updated documentation describing the new functionality introduced by
    this patch is available.
    
    The preferred method is to FTP the files from download.vista.med.va.gov.
    This transmits the files from the first available FTP server.  Sites
    may also elect to retrieve software directly from a specific server as
    follows:
    
       Albany     ftp.fo-albany.med.va.gov  <ftp://ftp.fo-albany.med.va.gov>
       Hines      ftp.fo-hines.med.va.gov   <ftp://ftp.fo-hines.med.va.gov>
       Salt Lake  ftp.fo-slc.med.va.gov     <ftp://ftp.fo-slc.med.va.gov>
    
    This documentation will be in the form of an Adobe Acrobat file and 
    named as follows:
    
         HSUM2_7_UM.PDF    Health Summary User Manual
         HSUM2_7_TM.PDF    Health Summary Technical Manual
    
    The documentation can also be found on the System Design and
    Development Web page: (http://vista.med.va.gov/vdl/).
 
 
  ROUTINE SUMMARY:
  =============== 
 
    The second line of each of these routines will look like:
 
      <tab>;;2.7;Health Summary;**[PATCH LIST]**;Oct 20, 1995
 
               Checksums    Checksums  
                  Before        After  
    Routine        Patch        Patch  Patch List (2nd Line)
    --------------------------------------------------------
  * GMTSP58         N/A      11311823  58
    GMTS1        8473376      8329870  7,16,24,28,37,49,58
    GMTS2        1713053      1917390  2,58
    GMTSALG     13763395     14240579  9,28,49,58
    GMTSCNB     17705664     17550281  46,47,58
    GMTSDEM2    17385946     17483097  56,58
    GMTSLRC      3426270      2996556  28,47,58
    GMTSLROB     1843445      1821098  28,58
    GMTSLRS      4502838      4093166  16,28,47,58
    GMTSLRS7     5525324      5654560  28,47,58
    GMTSLRSC     5243344      5331007  28,47,58
    GMTSLRTE     1511797      1320704  56,58
    GMTSOBA       <new>      12312499  58
    GMTSOBA2      <new>      15319389  58
    GMTSOBD       <new>      14380096  58
    GMTSOBE       <new>      13102925  58
    GMTSOBH       <new>      16700552  58
    GMTSOBI       <new>      13246739  58
    GMTSOBJ       <new>      11424168  58
    GMTSOBL       <new>      19984655  58
    GMTSOBL2      <new>       6660652  58
    GMTSOBS       <new>      19054567  58
    GMTSOBS2      <new>      11583743  58
    GMTSOBT       <new>      18705863  58
    GMTSOBU       <new>      19662275  58
    GMTSOBV       <new>      19576965  58
    GMTSPXFP     2906066      3147146  8,10,28,56,58
    GMTSRASP     5860755      6652529  28,37,58
    GMTSRM       8737074     10029279  30,35,29,47,56,58
    GMTSULT     21420786     21879999  30,35,29,47,58
    GMTSULT5     9018771      9556645  30,35,56,58
    GMTSUP       9073114     11252085  2,7,21,27,28,30,35,47,56,58
    GMTSVSD     18985506     19132332  35,49,58
    GMTSXAB      3915708      5311754  47,49,58
 
  * Post-Install routine GMTSP58 is automatically deleted by KIDS upon
    successful installation of patch GMTS*2.7*58.
 
   
  OPTION SUMMARY:
  ============== 
 
      Option                            Action/Reason
      ------------------------------    -------------------------------
      GMTS GUI HS LIST DEFAULTS         Send to Site, Description Added
      GMTS GUI HS LIST METHOD           Send to Site, Description Added
      GMTS GUI HS LIST PARAMETERS       Send to Site, Description Added
      GMTS GUI HS LIST PRECEDENCE       Send to Site, Description Added
      GMTS GUI REPORTS LIST MENU        Send to Site, Description Added
      GMTS GUI SITE ADD/EDIT LIST       Send to Site, Description Added
      GMTS GUI SITE COMPILE METHOD      Send to Site, Description Added
      GMTS GUI SITE DEFAULTS            Send to Site, Description Added
      GMTS GUI SITE DISPLAY DEFAULTS    Send to Site, Description Added
      GMTS GUI SITE PRECEDENCE          Send to Site, Description Added
      GMTS GUI SITE RESEQUENCE          Send to Site, Description Added
      GMTS OBJ DELETE                   Send to Site, New
      GMTS OBJ ENTER/EDIT               Send to Site, New
      GMTS OBJ INQ                      Send to Site, New
      GMTS OBJ MENU                     Send to Site, New
      GMTS OBJ TEST                     Send to Site, New
      GMTS OBJ EXPORT/IMPORT            Send to Site, New
      GMTS OBJ EXPORT                   Send to Site, New
      GMTS OBJ IMPORT/INSTALL           Send to Site, New
      GMTS IRM/ADPAC MAINT MENU         Use as a link for Menu Items
      GMTS BUILD MENU                   Use as a link for Menu Items
 
 
  INPUT TEMPLATE
  ==============
 
      GMTS DELETE HLTH SUM TYPE #142    Send to Site, Modified
 
        Prevent deletion of a Health 
        Summary Type in use by a 
        Health Summary Object.
 
      GMTS EDIT EXIST HS TYPE           Send to Site, New
 
        Edit a Health Summary Type 
        that already exist.
 
      GMTS EDIT HLTH SUM TYPE           Send to Site, Modified
 
        Edit a Health Summary Type
        Pointed to by an Object
 
 
  FILE SUMMARY:
  ============ 
 
     New file exported with this patch:
 
       ^GMT(142.5)  HEALTH SUMMARY OBJECTS     
         .01  NAME                           0;1   Text
         .02  OBJECT LABEL                   0;2   Text
         .03  HEALTH SUMMARY TYPE            0;3   Pointer
         .04  REPORT PERIOD                  0;4   Mnemonic
         .05  SUPPRESS COMPONENTS W/O DATA   0;5   Yes/No
         .06  SUPPRESS HEADER                0;6   Yes/No
         .07  PRINT LABEL                    0;7   Yes/No
         .08  PRINT BLANK LINE AFTER LABEL   0;8   Yes/No
         .09  PRINT REPORT DATE AND TIME     0;9   Yes/No
         .1   PRINT CONFIDENTIALITY BANNER   0;10  Yes/No
         .11  PRINT REPORT HEADER            0;11  Yes/No
         .12  PRINT COMPONENT HEADER         0;12  Yes/No
         .13  UNDERLINE COMPONENT HEADER     0;13  Yes/No
         .14  PRINT TIME-OCCURRENCE LIMITS   0;14  Yes/No
         .15  FORCE BLANK LINE               0;15  Yes/No
         .16  PRINT DECEASED INFORMATION     0;16  Yes/No
         .17  CREATOR                        0;17  DUZ
         .18  DATE CREATED                   0;18  Date
         .19  DATE LAST MODIFIED             0;19  Date
         .2   NATIONAL OBJECT                0;20  Yes/No
         1    OBJECT DESCRIPTION             1;0   Word Processing
 
  API SUMMARY:
  =========== 
 
    Application Programmer Interface:
 
      The following APIs are provided for applications to use (by 
      agreement only) in support of Health Summary Objects.  A
      Health Summary object can then be placed in another body of
      text and/or document.
 
         ARY^GMTSOBJ(DFN,OBJ,ROOT)
         ------------------------
 
             This entry point will get a Health Summary Object (OBJ), 
             using the clinical data based on the patient provided by 
             the input variable DFN, and place the data in a global
             array defined by the input variable ROOT.
 
             DFN      IEN for Patient (file #2)
             OBJ      IEN for Health Summary Object (file #142.5)
             ROOT     Closed root (global or local array)
                                      
             Returns global/local array of Health Summary data
                                      
             Root     ^TMP("GMTSOBJ",$J,DFN)
             Returns  ^TMP("GMTSOBJ",$J,DFN,#)
                                      
             Root     ^TMP("TIUHSOBJ",$J,"FGBL")
             Returns  ^TMP("TIUHSOBJ",$J,"FGBL",#)
                                      
             Root     MYARRAY
             Returns  MYARRAY(#)
 
         $$TIU^GMTSOBJ(DFN,OBJ)
         ----------------------
 
             Similar to ARY() above, but the output is formatted for TIU.  
             This entry point will get a Health Summary Object (OBJ), using
             the clinical data based on the patient provided by the input 
             variable DFN, and place the data in a global array for the 
             Text Integration Utility (TIU).
 
             DFN      IEN for Patient (file #2)
             OBJ      IEN for Health Summary Object (file #142.5)
 
             Output   Global Root ~@^TIU("TIUHSOBJ",$J,"FGBL")
 
         $$CRE^GMTSOBJ(NAME)
         -------------------
 
             This entry point creates a Health Summary Object with the
             name provided by the input variable NAME.  If a Health 
             Summary object of the given name already exist, the user 
             will be able to edit it.
  
             NAME     Name of Health Summary Object to Create
                                      
             Returns the internal entry number of the Health Summary Object
             created in file #142.5, or -1 if no object is created.
                                      
         TYPE^GMTSOBJ(NAME)
         ------------------
 
             This entry point allows a user to edit a Health Summary
             Type with the name provided by the input variable NAME.
 
             NAME     Name of Health Summary Type to Edit
 
         SHOW^GMTSOBJ(OBJ)
         -----------------
 
             This entry point will display a Health Summary Object 
             Definition based on the object supplied by the input
             variable NAME.  It will display the definition, followed
             by a short example.  If you do not need the example
             displayed set the variable GMTSABBR for an abbreviated
             display.
 
             OBJ      IEN for Health Summary Object (#142.5)
 
             Output   Display
 
         EXTRACT^GMTSOBJ(OBJ,.ARY)   
         -------------------------
 
             This entry point will extract the data from a Health 
             Summary Object based on the input variable OBJ, and
             place the data in the array ARY, passed by reference.
 
             OBJ      IEN for Health Summary Object (#142.5)
 
             ARY()    Array of fields and values (passed by reference)
       
                         ARY(IEN,FIELD,"I") = Internal Value
                         ARY(IEN,FIELD,"E") = External Value
                         ARY(IEN,FIELD,"NAME") = Field Name
                         ARY(IEN,FIELD,"PROMPT") = Mixed Case of Field Name
 
         DEF(OBJ,.ARY)
         -------------
 
             This entry point is used to extract an Health Summary 
             Object definition and place that definition into the 
             array passed by reference.  This entry point will also
             include an pseudo-example of the object.  NOTE:  This
             is identical to SHOW^GMTSOBJ() except that it stores the
             display in the array.
 
             OBJ      IEN of the Health Summary Object file (#142.5).
 
             ARY()    Output array containing the Health Summary Object 
                      Definition and Example, passed by reference.
        
                      ARY("D",0) = # of lines in Definition
                      ARY("D",#) = Definition Text
                      ARY("E",0) = # of lines in Example
                      ARY("E",#) = Example Text
 
 
  INSTALLATION:
  =============
      
     This patch can be installed with users on the system.  Installation
     should take less than 2 minutes.
           
     1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu, to
         load the KIDS Transport Distribution global.
          
     2.  Review your mapped set.  If the routines listed in the Routine
         Summary (above) are mapped, then they should be removed from the
         mapped set at this time.
   
     3.  From the Kernel Installation and Distribution System (KIDS) Menu,
         select the Installation menu.
              
     4.  From the Install menu, you may elect to use the following
         options (when prompted for INSTALL NAME, enter GMTS*2.7*58):
            
           a.  Verify Checksums in Transport Global
           b.  Print Transport Global
           c.  Compare Transport Global to Current System
           d.  Backup a Transport Global
        
     5.  Use the Install Package(s) option and select the package
         GMTS*2.7*58.
         
     6.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion
         of Install? YES// ", respond "NO".  This patch does contain
         new Options and Menus, but the rebuilding of the menu trees 
         should be done at the site's convenience when there are 
         limited users on the system.
   
     7.  When prompted 'Want KIDS to INHIBIT LOGONS during install? YES//', 
         respond "NO".
 
     8.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
         and Protocols? YES//', respond "NO".
 
     9.  If Health Summary routines were unmapped as part of step 2 
         above, then they should be returned to the mapped set once 
         the installation has run to completion.
   
    10.  Clean up:  None.  Post-Install routine GMTSP58 is automatically
         deleted by KIDS upon successful installation of patch GMTS*2.7*58.
   

Routine Information:
====================

Routine Name:
  - GMTS1


Routine Checksum:

Routine Name:
  - GMTS2


Routine Checksum:

Routine Name:
  - GMTSCNB


Routine Checksum:

Routine Name:
  - GMTSLRC


Routine Checksum:

Routine Name:
  - GMTSLROB


Routine Checksum:

Routine Name:
  - GMTSLRS


Routine Checksum:

Routine Name:
  - GMTSLRS7


Routine Checksum:

Routine Name:
  - GMTSLRSC


Routine Checksum:

Routine Name:
  - GMTSOBA


Routine Checksum:

Routine Name:
  - GMTSOBH


Routine Checksum:

Routine Name:
  - GMTSOBJ


Routine Checksum:

Routine Name:
  - GMTSOBL


Routine Checksum:

Routine Name:
  - GMTSOBS


Routine Checksum:

Routine Name:
  - GMTSOBT


Routine Checksum:

Routine Name:
  - GMTSUP


Routine Checksum:

Routine Name:
  - GMTSVSD


Routine Checksum:

Routine Name:
  - GMTSXAB


Routine Checksum:

Routine Name:
  - GMTSOBI


Routine Checksum:

Routine Name:
  - GMTSOBE


Routine Checksum:

Routine Name:
  - GMTSOBU


Routine Checksum:

Routine Name:
  - GMTSALG


Routine Checksum:

Routine Name:
  - GMTSRASP


Routine Checksum:

Routine Name:
  - GMTSULT


Routine Checksum:

Routine Name:
  - GMTSDEM2


Routine Checksum:

Routine Name:
  - GMTSLRTE


Routine Checksum:

Routine Name:
  - GMTSOBA2


Routine Checksum:

Routine Name:
  - GMTSOBL2


Routine Checksum:

Routine Name:
  - GMTSOBV


Routine Checksum:

Routine Name:
  - GMTSOBS2


Routine Checksum:

Routine Name:
  - GMTSRM


Routine Checksum:

Routine Name:
  - GMTSOBD


Routine Checksum:

Routine Name:
  - GMTSULT5


Routine Checksum:

Routine Name:
  - GMTSP58


Routine Checksum:

Routine Name:
  - GMTSPXFP


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : ROWE,KIMBALL                   Date Entered : JUL 17, 2002
Completed By: MASSEY,RONNY                  Date Completed: JAN 14, 2003
Released By : KREUZ,SHERI B                Date Released : JAN 14, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
