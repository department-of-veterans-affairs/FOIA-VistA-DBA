Released XU*8*57 SEQ #45
Extracted from mail message
**KIDS**:XU*8.0*57^

**INSTALL NAME**
XU*8.0*57
"BLD",149,0)
XU*8.0*57^KERNEL^0^^n
"BLD",149,1,0)
^^46^46^2970114^
"BLD",149,1,1,0)
     This patch contains a single routine, ^XQOO3, that fixes a bug in the
"BLD",149,1,2,0)
option "Protocols Marked Out Of Order in Protocol File." In the event that
"BLD",149,1,3,0)
there was a single set of protocols marked as Out-Of-Order the software
"BLD",149,1,4,0)
would fail with an <UNDEF> error.
"BLD",149,1,5,0)
 
"BLD",149,1,6,0)
=============================================================================
"BLD",149,1,7,0)
                    **** INSTALL INSTRUCTIONS ****
"BLD",149,1,8,0)
=============================================================================
"BLD",149,1,9,0)
 
"BLD",149,1,10,0)
     This patch can be installed with users on the system.  There are no
"BLD",149,1,11,0)
associated or required patches that need to be installed.
"BLD",149,1,12,0)
 
"BLD",149,1,13,0)
=============================================================================
"BLD",149,1,14,0)
  
"BLD",149,1,15,0)
INSTALLATION:
"BLD",149,1,16,0)
 
"BLD",149,1,17,0)
  1.  This routine is not usually mapped on systems that allow mapping.
"BLD",149,1,18,0)
  2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"BLD",149,1,19,0)
      option will load the KIDS Distribution onto your system.
"BLD",149,1,20,0)
  3.  The patch has now been loaded into a Transport global on your
"BLD",149,1,21,0)
      system. You now need to use KIDS to install the patch in the Transport
"BLD",149,1,22,0)
      global.
"BLD",149,1,23,0)
  4.  On the KIDS menu, under the 'Installation' menu, use the following
"BLD",149,1,24,0)
      options:
"BLD",149,1,25,0)
         o  Verify Checksums in Transport Global
"BLD",149,1,26,0)
         o  Print Transport Global
"BLD",149,1,27,0)
         o  Compare Transport Global to Current System
"BLD",149,1,28,0)
         o  Backup a Transport Global
"BLD",149,1,29,0)
         o  Install Package(s)
"BLD",149,1,30,0)
  5.  MSM Sites - Answer YES to the question 'Want to MOVE routines to
"BLD",149,1,31,0)
      other CPUs?'. Enter the names of your Compute and Print server(s).
"BLD",149,1,32,0)
  6.  AXP Sites, after patch has installed, rebuild your map set if necessary.
"BLD",149,1,33,0)
===========================================================================
"BLD",149,1,34,0)
  
"BLD",149,1,35,0)
ROUTINES:
"BLD",149,1,36,0)
   The second line of the routine now looks like:
"BLD",149,1,37,0)
       ;;8.0;KERNEL;**[patch list]**;Jul 10, 1995
"BLD",149,1,38,0)
 
"BLD",149,1,39,0)
                Before          After 
"BLD",149,1,40,0)
 Name           Checksum        Checksum       Patch List
"BLD",149,1,41,0)
 -----------------------------------------------------------
"BLD",149,1,42,0)
XQOO3            8090117         8314463          57      **57**
"BLD",149,1,43,0)
  
"BLD",149,1,44,0)
All checksums were calculated using CHECK^XTSUMBLD.
"BLD",149,1,45,0)
 
"BLD",149,1,46,0)
===========================================================================
"BLD",149,4,0)
^9.64PA^^
"BLD",149,"INIT")
 
"BLD",149,"KRN",0)
^9.67PA^19^18
"BLD",149,"KRN",.4,0)
.4
"BLD",149,"KRN",.401,0)
.401
"BLD",149,"KRN",.402,0)
.402
"BLD",149,"KRN",.403,0)
.403
"BLD",149,"KRN",.5,0)
.5
"BLD",149,"KRN",.84,0)
.84
"BLD",149,"KRN",3.6,0)
3.6
"BLD",149,"KRN",3.8,0)
3.8
"BLD",149,"KRN",9.2,0)
9.2
"BLD",149,"KRN",9.8,0)
9.8
"BLD",149,"KRN",9.8,"NM",0)
^9.68A^6^1
"BLD",149,"KRN",9.8,"NM",6,0)
XQOO3^^0^B19604307
"BLD",149,"KRN",9.8,"NM","B","XQOO3",6)
 
"BLD",149,"KRN",19,0)
19
"BLD",149,"KRN",19.1,0)
19.1
"BLD",149,"KRN",101,0)
101
"BLD",149,"KRN",409.61,0)
409.61
"BLD",149,"KRN",771,0)
771
"BLD",149,"KRN",869.2,0)
869.2
"BLD",149,"KRN",870,0)
870
"BLD",149,"KRN",8994,0)
8994
"BLD",149,"KRN","B",.4,.4)
 
"BLD",149,"KRN","B",.401,.401)
 
"BLD",149,"KRN","B",.402,.402)
 
"BLD",149,"KRN","B",.403,.403)
 
"BLD",149,"KRN","B",.5,.5)
 
"BLD",149,"KRN","B",.84,.84)
 
"BLD",149,"KRN","B",3.6,3.6)
 
"BLD",149,"KRN","B",3.8,3.8)
 
"BLD",149,"KRN","B",9.2,9.2)
 
"BLD",149,"KRN","B",9.8,9.8)
 
"BLD",149,"KRN","B",19,19)
 
"BLD",149,"KRN","B",19.1,19.1)
 
"BLD",149,"KRN","B",101,101)
 
"BLD",149,"KRN","B",409.61,409.61)
 
"BLD",149,"KRN","B",771,771)
 
"BLD",149,"KRN","B",869.2,869.2)
 
"BLD",149,"KRN","B",870,870)
 
"BLD",149,"KRN","B",8994,8994)
 
"BLD",149,"QUES",0)
^9.62^^
"PKG",283,-1)
1^1
"PKG",283,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",283,22,0)
^9.49I^1^1
"PKG",283,22,1,0)
8.0^2950729^2950729^6
"PKG",283,22,1,"PAH",1,0)
57
"PKG",283,22,1,"PAH",1,1,0)
^^46^46^2970114
"PKG",283,22,1,"PAH",1,1,1,0)
     This patch contains a single routine, ^XQOO3, that fixes a bug in the
"PKG",283,22,1,"PAH",1,1,2,0)
option "Protocols Marked Out Of Order in Protocol File." In the event that
"PKG",283,22,1,"PAH",1,1,3,0)
there was a single set of protocols marked as Out-Of-Order the software
"PKG",283,22,1,"PAH",1,1,4,0)
would fail with an <UNDEF> error.
"PKG",283,22,1,"PAH",1,1,5,0)
 
"PKG",283,22,1,"PAH",1,1,6,0)
=============================================================================
"PKG",283,22,1,"PAH",1,1,7,0)
                    **** INSTALL INSTRUCTIONS ****
"PKG",283,22,1,"PAH",1,1,8,0)
=============================================================================
"PKG",283,22,1,"PAH",1,1,9,0)
 
"PKG",283,22,1,"PAH",1,1,10,0)
     This patch can be installed with users on the system.  There are no
"PKG",283,22,1,"PAH",1,1,11,0)
associated or required patches that need to be installed.
"PKG",283,22,1,"PAH",1,1,12,0)
 
"PKG",283,22,1,"PAH",1,1,13,0)
=============================================================================
"PKG",283,22,1,"PAH",1,1,14,0)
  
"PKG",283,22,1,"PAH",1,1,15,0)
INSTALLATION:
"PKG",283,22,1,"PAH",1,1,16,0)
 
"PKG",283,22,1,"PAH",1,1,17,0)
  1.  This routine is not usually mapped on systems that allow mapping.
"PKG",283,22,1,"PAH",1,1,18,0)
  2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"PKG",283,22,1,"PAH",1,1,19,0)
      option will load the KIDS Distribution onto your system.
"PKG",283,22,1,"PAH",1,1,20,0)
  3.  The patch has now been loaded into a Transport global on your
"PKG",283,22,1,"PAH",1,1,21,0)
      system. You now need to use KIDS to install the patch in the Transport
"PKG",283,22,1,"PAH",1,1,22,0)
      global.
"PKG",283,22,1,"PAH",1,1,23,0)
  4.  On the KIDS menu, under the 'Installation' menu, use the following
"PKG",283,22,1,"PAH",1,1,24,0)
      options:
"PKG",283,22,1,"PAH",1,1,25,0)
         2  Verify Checksums in Transport Global
"PKG",283,22,1,"PAH",1,1,26,0)
         3  Print Transport Global
"PKG",283,22,1,"PAH",1,1,27,0)
         4  Compare Transport Global to Current System
"PKG",283,22,1,"PAH",1,1,28,0)
         5  Backup a Transport Global
"PKG",283,22,1,"PAH",1,1,29,0)
         6  Install Package(s)
"PKG",283,22,1,"PAH",1,1,30,0)
  5.  MSM Sites - Answer YES to the question 'Want to MOVE routines to
"PKG",283,22,1,"PAH",1,1,31,0)
      other CPUs?'. Enter the names of your Compute and Print server(s).
"PKG",283,22,1,"PAH",1,1,32,0)
  6.  AXP Sites, after patch has installed, rebuild your map set.
"PKG",283,22,1,"PAH",1,1,33,0)
===========================================================================
"PKG",283,22,1,"PAH",1,1,34,0)
  
"PKG",283,22,1,"PAH",1,1,35,0)
ROUTINES:
"PKG",283,22,1,"PAH",1,1,36,0)
   The second line of the routine now looks like:
"PKG",283,22,1,"PAH",1,1,37,0)
       ;;8.0;KERNEL;**[patch list]**;Jul 10, 1995
"PKG",283,22,1,"PAH",1,1,38,0)
 
"PKG",283,22,1,"PAH",1,1,39,0)
                Before          After 
"PKG",283,22,1,"PAH",1,1,40,0)
 Name           Checksum        Checksum       Patch List
"PKG",283,22,1,"PAH",1,1,41,0)
 -----------------------------------------------------------
"PKG",283,22,1,"PAH",1,1,42,0)
XQOO3            8090117         8314463          57      **57**
"PKG",283,22,1,"PAH",1,1,43,0)
  
"PKG",283,22,1,"PAH",1,1,44,0)
All checksums were calculated using CHECK^XTSUMBLD.
"PKG",283,22,1,"PAH",1,1,45,0)
 
"PKG",283,22,1,"PAH",1,1,46,0)
===========================================================================
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XQOO3")
0^6^B19604307
"RTN","XQOO3",1,0)
XQOO3 ;Luke/Sea - Out-Of-Order Utilities ;01/14/97  13:57
"RTN","XQOO3",2,0)
 ;;8.0;KERNEL;**57**;Jul 10, 1995
"RTN","XQOO3",3,0)
 ;
"RTN","XQOO3",4,0)
LALL ;List all options and protocols that are Out Of Order
"RTN","XQOO3",5,0)
 N XQ,XQMES,XQTXT,XQIEN
"RTN","XQOO3",6,0)
 S (XQIEN,XQS)=0
"RTN","XQOO3",7,0)
 F  Q:XQIEN'=+XQIEN  D
"RTN","XQOO3",8,0)
 .S XQIEN=$O(^DIC(19,XQIEN))
"RTN","XQOO3",9,0)
 .Q:XQIEN'=+XQIEN
"RTN","XQOO3",10,0)
 .I $D(^DIC(19,XQIEN,0)),$P(^(0),U,3)]"" D
"RTN","XQOO3",11,0)
 ..S XQMES=$P(^DIC(19,XQIEN,0),U,3),XQNM=$P(^(0),U),XQMT=$P(^(0),U,2)
"RTN","XQOO3",12,0)
 ..S ^TMP($J,"XQOO",XQMES,XQNM)=XQMT
"RTN","XQOO3",13,0)
 ..S:'$D(XQ(XQMES)) XQ(XQMES)=0,XQS=XQS+1 S XQ(XQMES)=XQ(XQMES)+1
"RTN","XQOO3",14,0)
 ..Q
"RTN","XQOO3",15,0)
 .Q
"RTN","XQOO3",16,0)
 ;
"RTN","XQOO3",17,0)
 I XQS=0 W !,"No options marked ""Out-Of-Order"" were found." Q
"RTN","XQOO3",18,0)
 I XQS=1 D
"RTN","XQOO3",19,0)
 .S XQMES="",XQMES=$O(XQ(XQMES))
"RTN","XQOO3",20,0)
 .W !,"There is one set of options marked ""Out-Of-Order"" with the message:",!!?5,XQMES
"RTN","XQOO3",21,0)
 .S XQN(1)=XQMES,XQUR=1
"RTN","XQOO3",22,0)
 .Q
"RTN","XQOO3",23,0)
 I XQS>1 W !,"There are "_XQS_" sets of options Out-Of-Order with the messages:" S %="" F XQI=1:1:XQS D 
"RTN","XQOO3",24,0)
 .S %=$O(XQ(%)) W !!?1,XQI_".",?4,%," ("_XQ(%)_" option"_$S(XQ(%)=1:":",1:"s)")
"RTN","XQOO3",25,0)
 .I XQ(%)=1 S X=$O(^TMP($J,"XQOO",%,"")) W " ",X,", ",^(X),")"
"RTN","XQOO3",26,0)
 .S XQN(XQI)=%
"RTN","XQOO3",27,0)
 .Q
"RTN","XQOO3",28,0)
 ;
"RTN","XQOO3",29,0)
ASK3 ;See a particular set in detail
"RTN","XQOO3",30,0)
 S DIR(0)="Y",DIR("A")="Would you like to see more detail?"
"RTN","XQOO3",31,0)
 S DIR("B")="NO",DIR("?")="If you enter YES you can see the options/protocols of a set."
"RTN","XQOO3",32,0)
 W ! D ^DIR G:Y=0!($D(DIRUT)) OUT
"RTN","XQOO3",33,0)
 I XQS>1 W !!,"To see the options of a particular set enter a number between 1 and "_XQS_": " R XQUR:DTIME
"RTN","XQOO3",34,0)
 I XQUR=U!(XQUR="") G OUT
"RTN","XQOO3",35,0)
 I XQUR["?"!(XQUR'=+XQUR)!(XQUR>XQS)!(XQUR<1) W !?5,"Enter a number between 1 and "_XQS,!?5,"or ""^"" to quit without seeing a detailed option set." G ASK3
"RTN","XQOO3",36,0)
 I XQUR=U!(XQUR="") G OUT
"RTN","XQOO3",37,0)
 S XQMES=XQN(XQUR)
"RTN","XQOO3",38,0)
 D HEAD(XQMES)
"RTN","XQOO3",39,0)
 S %=0 F XQI=1:1  S %=$O(^TMP($J,"XQOO",XQMES,%)) Q:%=""  W !,XQI_".",?5,%,"  ",^(%)
"RTN","XQOO3",40,0)
 G OUT
"RTN","XQOO3",41,0)
 Q
"RTN","XQOO3",42,0)
 ;
"RTN","XQOO3",43,0)
HEAD(XQMES) ;Print page header
"RTN","XQOO3",44,0)
 W @IOF
"RTN","XQOO3",45,0)
 W !,"Out-Of-Order with the message """_XQMES_"""",!!
"RTN","XQOO3",46,0)
 Q
"RTN","XQOO3",47,0)
 ;
"RTN","XQOO3",48,0)
OUT ;Clean up and quit
"RTN","XQOO3",49,0)
 K X,XQI,XQMT,XQN,XQNM,XQS,XQUR
"RTN","XQOO3",50,0)
 K ^TMP($J,"XQOO")
"RTN","XQOO3",51,0)
 W !
"RTN","XQOO3",52,0)
 Q
"RTN","XQOO3",53,0)
 ;
"RTN","XQOO3",54,0)
LAPR ;List all the protocols that are OOO
"RTN","XQOO3",55,0)
 N XQ,XQMES,XQTXT,XQIEN
"RTN","XQOO3",56,0)
 S (XQIEN,XQS)=0
"RTN","XQOO3",57,0)
 F  Q:XQIEN'=+XQIEN  D
"RTN","XQOO3",58,0)
 .S XQIEN=$O(^ORD(101,XQIEN))
"RTN","XQOO3",59,0)
 .Q:XQIEN'=+XQIEN
"RTN","XQOO3",60,0)
 .I $D(^ORD(101,XQIEN,0)),$P(^(0),U,3)]"" D
"RTN","XQOO3",61,0)
 ..S XQMES=$P(^ORD(101,XQIEN,0),U,3),XQNM=$P(^(0),U),XQMT=$P(^(0),U,2)
"RTN","XQOO3",62,0)
 ..S ^TMP($J,"XQOO",XQMES,XQNM)=XQMT
"RTN","XQOO3",63,0)
 ..S:'$D(XQ(XQMES)) XQ(XQMES)=0,XQS=XQS+1 S XQ(XQMES)=XQ(XQMES)+1
"RTN","XQOO3",64,0)
 ..Q
"RTN","XQOO3",65,0)
 .Q
"RTN","XQOO3",66,0)
 ;
"RTN","XQOO3",67,0)
 I XQS=0 W !,"No protocols marked ""Out-Of-Order"" were found." Q
"RTN","XQOO3",68,0)
 I XQS=1 D
"RTN","XQOO3",69,0)
 .S XQMES="",XQMES=$O(XQ(XQMES))
"RTN","XQOO3",70,0)
 .W !,"There is one set of protocols marked ""Out-Of-Order"" with the message:",!!?5,XQMES
"RTN","XQOO3",71,0)
 .S XQN(1)=XQMES
"RTN","XQOO3",72,0)
 .Q
"RTN","XQOO3",73,0)
 I XQS>1 W !,"There are "_XQS_" sets of protocols Out-Of-Order with the messages:" S %="" F XQI=1:1:XQS D 
"RTN","XQOO3",74,0)
 .S %=$O(XQ(%)) W !!?1,XQI_".",?4,%," ("_XQ(%)_" protocol"_$S(XQ(%)=1:":",1:"s)")
"RTN","XQOO3",75,0)
 .I XQ(%)=1 S X=$O(^TMP($J,"XQOO",%,"")) W " ",X,", ",^(X),")"
"RTN","XQOO3",76,0)
 .S XQN(XQI)=%
"RTN","XQOO3",77,0)
 .Q
"RTN","XQOO3",78,0)
 ;
"RTN","XQOO3",79,0)
ASK4 ;See a particular set in detail
"RTN","XQOO3",80,0)
 I XQS>1 D  I XQUR=U G OUT
"RTN","XQOO3",81,0)
 .W !!,"To see the protocols of a particular set enter a number between 1 and "_XQS_": " R XQUR:DTIME
"RTN","XQOO3",82,0)
 .I XQUR=U!(XQUR="") S XQUR=U Q
"RTN","XQOO3",83,0)
 .I XQUR["?"!(XQUR'=+XQUR)!(XQUR>XQS)!(XQUR<1) D
"RTN","XQOO3",84,0)
 ..W !?5,"Enter a number between 1 and "_XQS,!?5,"or ""^"" to quit without seeing a detailed set." R XQUR:DTIME
"RTN","XQOO3",85,0)
 ..I XQUR=U!(XQUR="") S XQUR=U Q
"RTN","XQOO3",86,0)
 ..I XQUR'=+XQUR!(XQUR>XQS)!(XQUR<1) S XQUR=U
"RTN","XQOO3",87,0)
 ..Q
"RTN","XQOO3",88,0)
 .Q
"RTN","XQOO3",89,0)
 ;
"RTN","XQOO3",90,0)
 I XQS=1 D  I XQUR=U G OUT
"RTN","XQOO3",91,0)
 .S DIR(0)="Y",DIR("A")="Do you want to see it in detail? ",DIR("B")="Y" D ^DIR K DIR
"RTN","XQOO3",92,0)
 .S XQUR=$S(Y=1:1,1:U)
"RTN","XQOO3",93,0)
 .Q
"RTN","XQOO3",94,0)
 ;
"RTN","XQOO3",95,0)
 S XQPAGE=$S($D(IOSL):IOSL,1:20),XQLINE=2
"RTN","XQOO3",96,0)
 S XQMES=XQN(XQUR)
"RTN","XQOO3",97,0)
 D HEAD(XQMES)
"RTN","XQOO3",98,0)
 S %=0 F XQI=1:1  S %=$O(^TMP($J,"XQOO",XQMES,%)) Q:%=""  W !,XQI_".",?5,%,"  ",^(%),XQLINE," ",XQPAGE S XQLINE=XQLINE+1 I XQLINE=XQPAGE D PAUSE^XQOO2 S XQLINE=0 Q:$D(XQUPAR)
"RTN","XQOO3",99,0)
 G OUT
"RTN","XQOO3",100,0)
 Q
"VER")
8.0^21.0
**END**
**END**
