
=============================================================================
Run Date: FEB 12, 1997                     Designation: ONC*2.11*7
Package : ONC - ONCOLOGY                       Priority: Mandatory
Version : 2.11         SEQ #7                  Status: Released
=============================================================================


Subject: CANCER-DIRECTED SURGERY/LYMPHOMAS

Category: 
  - Data Dictionary
  - Input Template
  - Print Template
  - Routine

Description: 
============

 This patch will correct the following problems:
  
  1) ABS...EE...CANCER IDENTIFICATION
 
     a) There is an edit check on DISCHARGE DATE (#165.5, #1.1) which
        prohibits the user from entering a value which is earlier than
        the FIRST ADMIT DATE (#165.5, #1).  This check would not always
        work due to the fact that FileMan does not immediately file new
        values in an input template.  The DISCHARGE DATE prompt would
        appear before the FIRST ADMIT DATE value had been filed causing
        the edit check to be invalid.  The ONCO ABSTRACT-I template has
        been modified to immediately file the FIRST ADMIT DATE value.  
  
     b) There were no edit checks on FIRST ADMIT DATE.  The FIRST ADMIT
        DATE data dictionary has been modified to prohibit values which
        are later than the DISCHARGE DATE.
  
  2) The following fields' input transforms have been modified to prohibit
     the entry of future dates.  This was accomplished by setting the
     variable %DT(0) equal to "-NOW".  Upon returning from ^%DT, %DT(0) is
     killed.
 
    #160  ONCOLOGY PATIENT file
 
     #23  AUTOPSY DATE/TIME
     #25  DATE ENTERED
     #27  DUE FOLLOW-UP
     #33  SUSPENSE DATE
     #56  PTF DISCHARGE
     #40  TOBACCO USAGE (multiple)
          #2   YR QUIT TOBACCO USE
     #41  ALCOHOL USAGE (multiple)
          #3   YR QUIT DRINKING
     #42  OCCUPATION (multiple)
          #2   LAST DATE IN OCCUPATION
     #410 FOLLOW-UP ATTEMPTS (multiple)
 *        #.01 FOLLOW-UP ATTEMPT DATE
 
    #165.5  ONCOLOGY PRIMARY file
 
     #1     FIRST ADMIT DATE
     #1.1   DISCHARGE DATE
 *   #3     DATE DX
     #17    SUSPENSE DATE
 **  #50    CANCER-DIRECTED SURGERY DATE
 **  #51    RADIATION DATE
 **  #52    RADIATION THERAPY TO CNS DATE
 **  #53    CHEMOTHERAPY DATE
 **  #54    HORMONE THERAPY DATE
 **  #55    IMMUNOTHERAPY DATE
 **  #56    HYPERTHERMIA THERAPY DATE
 **  #57    OTH CANCER-DIRECTED TPY DATE
     #58.3  NON CANCER-DIRECTED SURG DATE
     #60    SUBSEQUENT COURSE OF TREATMENT (multiple)
            #.01  INITIATION DATE
            #.031 RADIATION THERAPY TO CNS DATE
            #.041 CANCER-DIRECTED SURGERY DATE
            #.051 RADIATION DATE
            #.061 CHEMOTHERAPY DATE
            #.071 HORMONE/STEROID DATE
            #.081 IMMUNOTHERAPY DATE
            #.091 OTHER CANCER THERAPY DATE
     #64    QA DATE
     #70    DATE of FIRST RECURRENCE
     #72    SUBSEQUENT RECURRENCES (multiple)
            #.01  DATE of SUBSEQUENT RECURRENCE
     #79    SCREENING DATE
     #80    RADIATION TREATMENT (multiple)
            #7  START DATE
            #8  STOP DATE
     #90    ABSTRACT DATE
     #94    REPORTING DATE
     #121   DATE OF CANCER CONF
     #323   ONSET OF SYMPTOMS
     #361   DATE RADIATION THERAPY ENDED
     #367   DATE CHEMOTHERAPY ENDED
     #435   DATE OF DISCHARGE AFTER SURG
     #541   DATE BRACHYTHERAPY STARTED
     #542   DATE BRACHYTHERAPY ENDED
     #567   DATE EXT BEAM RAD STARTED
 
 *  Already prohibited future dates but did not kill the %DT(0) variable.
 ** Already prohibited future dates but used "K:X>DT X" rather than "-NOW".
  
  3) ABS...EE...FIRST COURSE OF TREATMENT
     NOIS LIT-1296-71627
  
     Primaries with a DATE DX (#165.5, #3) value greater than 12/31/95 were
     prohibited from selecting CANCER-DIRECTED SURGERY (#165.5, #58.2) codes
     which did not end in "0" (e.g. 35 Excisional biopsy).  The help list
     would display these choices but the user would not be allowed to select
     them.  This has been fixed.
  
  4) ABS...EE...STAGE OF DISEASE AT DIAGNOSIS
  
     Primaries with a Hodgkin's or Non-Hodgkin's Lymphoma HISTOLOGY (#165.5,
     #22) (code range 959-971) which did not have a SITE/GP (#165.5, #.01)
     value of "LYMPH NODES" or "NON-HODGKINS LYMPHOMA" were not allowing
     the user to enter a CLINICAL STAGE GROUP (#165.5, #38) or PATHOLOGIC
     STAGE GROUP (#165.5, #88) value.  These fields were automatically being
     stuffed with an "88 Not applicable" value.  These primaries will now
     prompt the user for CLINICAL STAGE GROUP and PATHOLOGIC STAGE GROUP
     and allow the entry of only those values which are applicable to
     lymphomas.
  
     NOTE: If a primary satisfies both the leukemia and lymphoma identi-
     fication logic, the lymphoma logic will take precedence and the
     leukemia logic will be bypassed.
 
  5) ABS...EE...CANCER IDENTIFICATION
  
     The fields TUMOR MARKER ONE (ERA) (#165.5, #25.1) and TUMOR MARKER TWO
     (PRA) (#165.5, #25.2) have been renamed TUMOR MARKER ONE and TUMOR
     MARKER TWO.  The tumor marker logic has been expanded to include the
     sites/histologies listed on pages 116 and 117 of the ROADS manual. 
     Prior to this patch only "breast" site groups would prompt for tumor
     markers.
 
  6) ABS...EE...STAGE OF DISEASE AT DIAGNOSIS
  
     Leukemia primaries will now have the STAGE BY (CLINICAL STAGE) (#165.5, 
     #19) and STAGED BY (PATHOLOGIC STAGE) (#165.5, #89) fields stuffed with
     0 (Not staged).
    
  7) ABS...EE...STAGE OF DISEASE AT DIAGNOSIS
 
     BRAIN primaries will now have the CLINICAL N (#165.5, #37.2) and 
     PATHOLOGIC N (#165.5, #86) fields stuffed with N88 (Not applicable).
 
  8) FOL...RF...RECURRENCE FOLLOWUP
   
     SUBSEQUENT RECURRENCES (#165.5, #72) may now be staged individually.
     The following fields have been added to the SUBSEQUENT RECURRENCES
     multiple:
    
     #1 OTHER T
     #2 OTHER N
     #3 OTHER M
     #4 OTHER STAGE GROUP
     #5 STAGED BY (OTHER STAGE)
    
  9) ABS...EE...STAGE OF DISEASE AT DIAGNOSIS
    
     UNKNOWN primaries and primaries which satisfy the following criteria will
     now be stuffed with the following values upon entry into the "Stage of
     Disease at Diagnosis" option:
    
     CRITERIA: ICDO-TOPOGRAPY (#165.5, #20) = C42.2 SPLEEN
                    HISTOLOGY (#165.5, #22) not = lymphoma histology (959-971) 
                    HISTOLOGY (#165.5, #22) not = leukemia histology 
                    HISTOLOGY (#165.5, #22) not = 9140/3 KAPOSI'S SARCOMA
    
     #29   SIZE OF TUMOR (MM)           = 999
     #30   EXTENSION                    = 99 Not applicable
     #31   LYMPH NODES                  =  9 Not applicable
     #32   NODES POSITIVE (REGIONAL)    = 99 Unknown if nodes are + or -       
     #33   NODES EXAMINED (REGIONAL)    = 99 Unknown if nodes examined, NA
     #34   METASTASIS 1                 =  9 Other/Gen/Carcinomatosis/Unkn
     #34.1 METASTASIS 2                 =  0 None
     #34.2 METASTASIS 3                 =  0 None
     #35   SUMMARY STAGE                =  9 Unknown/Unstaged
     #37.1 CLINICAL T                   = 88 Not appplcable
     #37.2 CLINICAL N                   = 88 Not appplcable
     #37.3 CLINICAL M                   = 88 Not appplcable
     #38   CLINICAL STAGE GROUP         = 88 Not applicable
     #19   STAGED BY (CLINICAL STAGE)   =  0 Not staged
     #85   PATHOLOGIC T                 = 88 Not appplcable
     #86   PATHOLOGIC N                 = 88 Not appplcable
     #87   PATHOLOGIC M                 = 88 Not appplcable
     #88   PATHOLGIC STAGE GROUP        = 88 Not applicable
     #89   STAGED BY (PATHOLOGIC STAGE) =  0 Not staged    
    
     The EXTENSION (#165.5, #30) list for primaries which met the above
     criteria was incorrectly using the HEMATOPOIETIC/RETICULOENDOTHELIAL/
     IMMUNOPROLIFERATIVE list.  The correct list is the UNKNOWN AND ILL-
     DEFINED PRIMARY SITES list.  This has been fixed.
 
 10) ABS...AS...CA Complete Abstract
    
     If the user edits a primary via the "AI Complete Abstract" option and
     then immediately displays that primary on their terminal via the "CA
     Complete Abstract" option, the user will be prompted erroneously with
     the following prompt:
    
     Hit Enter to continue: Edit//
    
     This has been fixed. 
         
 11) ABS...EE...Patient Care Evaluation...Status At Last Contact
    
     In TABLE VI (STATUS AT LAST CONTACT) of the Bladder PCE the VITAL STATUS
     (#160, #15) value being displayed was incorrect.  This has been fixed.
    
 12) a) ABS...PA   Print Complete Abstract (132c)
     b) ABS...MA   Print QA/Multiple Abstracts...Print PCE Data
    
     a) In the "Print Complete Abstract (132c)" option, if the chosen primary
     has a Patient Care Evaluation (PCE) associated with it, the following
     prompt will appear:
    
     Print PCE data attached to this primary? N//
    
     If the user answers NO (the default), the PCE data will not be printed
     with the abstract.  If the user answers YES, the PCE data will print
     immediately after the abstract data.
    
     b) In the "Print PCE Data" option, the following prompt will appear:
    
     Print PCE's AND Abstracts? Y//
    
     If the user answers YES (the default), the abstract data and the PCE
     data will print.  If the user answers NO, only the PCE data will print.
    
 13) ABS...EE...Patient Care Evaluation
     ONCOPCE+59^ONCOPCE:2, undefined variable ONC(165.5,IEN,22) error
    
     The above error would sometimes occur if the user selected the
     "Patient Care Evaluation" option a second time in the same logon
     session.  The variable DIQ(0) was not being killed causing the 
     EN^DIQ1 routine to create the wrong output array.  This has been
     fixed.
  
 14) ABS...EE...CANCER IDENTIFICATION
    
     When a primary which was not a paired site was added, the LATERALITY
     (#165.5, #28) field was not being stuffed with a "0".  This has been
     fixed.
 
  Routine Summary: 
  ================
 
 The following routines are included in this patch.  The second line of 
 these routines now look like: 
   
   <tab>;;2.11;ONCOLOGY;**[patch list]**;Mar 07, 1995 
   
   CHECK^XTSUMBLD results: 
   
   Routine Name   Before Patch    After Patch     Patch List 
   ============   ============    ===========     ==========
     ONCBPC6        2494702         2491678         6,7
     ONCOAIP       13456319        13952134         1,5,6,7
     ONCODEL        7684403         8258223         7
     ONCODIS        1038564         1038627         6,7
     ONCODSR        5835089         5832919         1,5,6,7
     ONCOEDC        6210420         6193746         6,7
     ONCOGEN       10191551        12722542         6,7
     ONCOPCE        6699260         6488943         6,7 
     ONCOTN        18651966        21056588         1,3,6,7
     ONCOTNMB        596227          629468         6,7
     ONCOTNO        2284717         2473083         1,6,7
     ONCOTNS        4112432         5168626         6,7
     ONCOU55        9728752        10207141         6,7
     ONCPRE7        new routine      342274         7
     ONCSPC0        7429828         7335189         6,7
     ONCTPC0        6084360         5976915         6,7
    
  Installation Instructions: 
  ==========================
 
     1. This patch is being distributed as a KIDS Host File:
  
        ONC211P7.KID
  
     2. When installing this patch you will encounter the following 
        message:
    
        "Installing Data Dictionaries: .
    
        Data Dictionary for File #164.5 not installed....."
 
    
        This is normal.        

Routine Information:
====================

Routine Name:
  - ONCODIS


Routine Checksum:

Routine Name:
  - ONCODSR


Routine Checksum:

Routine Name:
  - ONCOTN


Routine Checksum:

Routine Name:
  - ONCOTNS


Routine Checksum:

Routine Name:
  - ONCOU55


Routine Checksum:

Routine Name:
  - ONCOAIP


Routine Checksum:

Routine Name:
  - ONCOTNMB


Routine Checksum:

Routine Name:
  - ONCOTNO


Routine Checksum:

Routine Name:
  - ONCPRE7


Routine Checksum:

Routine Name:
  - ONCOGEN


Routine Checksum:

Routine Name:
  - ONCBPC6


Routine Checksum:

Routine Name:
  - ONCODEL


Routine Checksum:

Routine Name:
  - ONCOPCE


Routine Checksum:

Routine Name:
  - ONCSPC0


Routine Checksum:

Routine Name:
  - ONCTPC0


Routine Checksum:

Routine Name:
  - ONCOEDC


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : BIELO,GARY                     Date Entered : DEC 19, 1996
Completed By: PATRICK,PAT                   Date Completed: FEB 10, 1997
Released By : REYNOLDS,JUDY                 Date Released : FEB 12, 1997
=============================================================================


Packman Mail Message:
=====================

No routines included
