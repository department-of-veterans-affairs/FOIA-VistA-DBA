Released XU*8*277 SEQ #251
Extracted from mail message
**KIDS**:XU*8.0*277^

**INSTALL NAME**
XU*8.0*277
"BLD",644,0)
XU*8.0*277^KERNEL^0^3030205^y
"BLD",644,1,0)
^^2^2^3030129^
"BLD",644,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"BLD",644,1,2,0)
See patch XU*8*277.
"BLD",644,4,0)
^9.64PA^^
"BLD",644,"KRN",0)
^9.67PA^8989.52^19
"BLD",644,"KRN",.4,0)
.4
"BLD",644,"KRN",.401,0)
.401
"BLD",644,"KRN",.402,0)
.402
"BLD",644,"KRN",.403,0)
.403
"BLD",644,"KRN",.5,0)
.5
"BLD",644,"KRN",.84,0)
.84
"BLD",644,"KRN",3.6,0)
3.6
"BLD",644,"KRN",3.8,0)
3.8
"BLD",644,"KRN",9.2,0)
9.2
"BLD",644,"KRN",9.8,0)
9.8
"BLD",644,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",644,"KRN",9.8,"NM",1,0)
XUSRB2^^0^B2750827
"BLD",644,"KRN",9.8,"NM","B","XUSRB2",1)

"BLD",644,"KRN",19,0)
19
"BLD",644,"KRN",19.1,0)
19.1
"BLD",644,"KRN",101,0)
101
"BLD",644,"KRN",409.61,0)
409.61
"BLD",644,"KRN",771,0)
771
"BLD",644,"KRN",870,0)
870
"BLD",644,"KRN",8989.51,0)
8989.51
"BLD",644,"KRN",8989.52,0)
8989.52
"BLD",644,"KRN",8994,0)
8994
"BLD",644,"KRN","B",.4,.4)

"BLD",644,"KRN","B",.401,.401)

"BLD",644,"KRN","B",.402,.402)

"BLD",644,"KRN","B",.403,.403)

"BLD",644,"KRN","B",.5,.5)

"BLD",644,"KRN","B",.84,.84)

"BLD",644,"KRN","B",3.6,3.6)

"BLD",644,"KRN","B",3.8,3.8)

"BLD",644,"KRN","B",9.2,9.2)

"BLD",644,"KRN","B",9.8,9.8)

"BLD",644,"KRN","B",19,19)

"BLD",644,"KRN","B",19.1,19.1)

"BLD",644,"KRN","B",101,101)

"BLD",644,"KRN","B",409.61,409.61)

"BLD",644,"KRN","B",771,771)

"BLD",644,"KRN","B",870,870)

"BLD",644,"KRN","B",8989.51,8989.51)

"BLD",644,"KRN","B",8989.52,8989.52)

"BLD",644,"KRN","B",8994,8994)

"BLD",644,"QUES",0)
^9.62^^
"BLD",644,"REQB",0)
^9.611^1^1
"BLD",644,"REQB",1,0)
XU*8.0*150^2
"BLD",644,"REQB","B","XU*8.0*150",1)

"MBREQ")
0
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^^0
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^2950703^2970507^.5
"PKG",3,22,1,"PAH",1,0)
277^3030205
"PKG",3,22,1,"PAH",1,1,0)
^^2^2^3030205
"PKG",3,22,1,"PAH",1,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"PKG",3,22,1,"PAH",1,1,2,0)
See patch XU*8*277.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XUSRB2")
0^1^B2750827
"RTN","XUSRB2",1,0)
XUSRB2 ;SFISC/RWF - RPC Broker Kernel Utilities. ;01/13/2003  15:32
"RTN","XUSRB2",2,0)
 ;;8.0;KERNEL;**115,150,277**;Jul 10, 1995
"RTN","XUSRB2",3,0)
 Q
"RTN","XUSRB2",4,0)
 ;
"RTN","XUSRB2",5,0)
DIVGET(RET,IEN) ;Get Division data
"RTN","XUSRB2",6,0)
 ;IEN is userid (DUZ or username) for future use.
"RTN","XUSRB2",7,0)
 N %,XUDIV
"RTN","XUSRB2",8,0)
 S XUDIV=0,%=$$CHKDIV^XUS1(.XUDIV) ;Get users div.
"RTN","XUSRB2",9,0)
 S:(%>0)&($P(%,U,2)'>0) DUZ(2)=+% ;Set users default div.
"RTN","XUSRB2",10,0)
 S RET(0)=XUDIV ;RET(0) is number of divisions.
"RTN","XUSRB2",11,0)
 I XUDIV S %=0 D  S RET(0)=XUDIV
"RTN","XUSRB2",12,0)
 . ;RET(%) is divison array eg. ien;station name;station#
"RTN","XUSRB2",13,0)
 . F  S %=$O(XUDIV(%)) Q:(%'>0)  S RET(%)=XUDIV(%)
"RTN","XUSRB2",14,0)
 Q
"RTN","XUSRB2",15,0)
DIVSET(RET,DIV) ;Set users Division
"RTN","XUSRB2",16,0)
 S RET=0,DIV=$$FIND1^DIC(200.02,","_DUZ_",","MX",$G(DIV))
"RTN","XUSRB2",17,0)
 Q:DIV'>0
"RTN","XUSRB2",18,0)
 I '$D(^VA(200,DUZ,2,DIV,0)) Q
"RTN","XUSRB2",19,0)
 S DUZ(2)=DIV,RET=1 ;1=set, 0=not set
"RTN","XUSRB2",20,0)
 Q
"RTN","XUSRB2",21,0)
 ;
"RTN","XUSRB2",22,0)
USERINFO(RET) ;generic user information for seeding VistaUser object.
"RTN","XUSRB2",23,0)
 ;Entry point for 'XUS GET USER INFO' RPC
"RTN","XUSRB2",24,0)
 N %,XU1,XU5
"RTN","XUSRB2",25,0)
 S RET(0)=DUZ
"RTN","XUSRB2",26,0)
 F %=1:1:6 S RET(%)="unk"
"RTN","XUSRB2",27,0)
 I DUZ'>0 S XWBSEC="User not fully sign-on" Q
"RTN","XUSRB2",28,0)
 S XU1=^VA(200,DUZ,0),XU5=$G(^(5))
"RTN","XUSRB2",29,0)
 S RET(1)=$P(XU1,"^") ;.01 User name.
"RTN","XUSRB2",30,0)
 S RET(2)=$$NAME^XUSER(DUZ) ;Return standard name.
"RTN","XUSRB2",31,0)
 S RET(3)=DUZ(2)_"^"_$$NS^XUAF4(DUZ(2))
"RTN","XUSRB2",32,0)
 S %=+$P(XU1,U,9),RET(4)=$P($G(^DIC(3.1,%,0)),U) ;Title
"RTN","XUSRB2",33,0)
 S %=+XU5,RET(5)=$P($G(^DIC(49,%,0)),U) ;Service/Section
"RTN","XUSRB2",34,0)
 S RET(6)=$G(DUZ("LANG")) ;User language
"RTN","XUSRB2",35,0)
 S RET(7)=DTIME ;Users DTIME
"RTN","XUSRB2",36,0)
 Q
"VER")
8.0^22.0
**END**
**END**
