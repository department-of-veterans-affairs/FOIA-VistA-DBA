Released TIU*1*199 SEQ #198
Extracted from mail message
**KIDS**:TIU*1.0*199^

**INSTALL NAME**
TIU*1.0*199
"BLD",6776,0)
TIU*1.0*199^TEXT INTEGRATION UTILITIES^0^3060612^y
"BLD",6776,1,0)
^^3^3^3050901^
"BLD",6776,1,1,0)
Fix ACL cross reference for field .02 in file 8925.1. Add field "SIGNED 
"BLD",6776,1,2,0)
BY SURROGATE to file 8925.7 and provide tool to set this field for notes 
"BLD",6776,1,3,0)
signed prior to this patch.
"BLD",6776,4,0)
^9.64PA^8925.7^1
"BLD",6776,4,8925.7,0)
8925.7
"BLD",6776,4,8925.7,2,0)
^9.641^8925.7^1
"BLD",6776,4,8925.7,2,8925.7,0)
TIU MULTIPLE SIGNATURE  (File-top level)
"BLD",6776,4,8925.7,2,8925.7,1,0)
^9.6411^.05^2
"BLD",6776,4,8925.7,2,8925.7,1,.05,0)
ACTUAL COSIGNER
"BLD",6776,4,8925.7,2,8925.7,1,.09,0)
SIGNED BY SURROGATE
"BLD",6776,4,8925.7,222)
y^n^p^^^^n^^n
"BLD",6776,4,8925.7,224)
 
"BLD",6776,4,"APDD",8925.7,8925.7)
 
"BLD",6776,4,"APDD",8925.7,8925.7,.05)
 
"BLD",6776,4,"APDD",8925.7,8925.7,.09)
 
"BLD",6776,4,"B",8925.7,8925.7)
 
"BLD",6776,6)
2^
"BLD",6776,"ABPKG")
n
"BLD",6776,"INID")
^n
"BLD",6776,"INIT")
POST199^TIU199
"BLD",6776,"KRN",0)
^9.67PA^8989.52^19
"BLD",6776,"KRN",.4,0)
.4
"BLD",6776,"KRN",.401,0)
.401
"BLD",6776,"KRN",.402,0)
.402
"BLD",6776,"KRN",.403,0)
.403
"BLD",6776,"KRN",.5,0)
.5
"BLD",6776,"KRN",.84,0)
.84
"BLD",6776,"KRN",3.6,0)
3.6
"BLD",6776,"KRN",3.8,0)
3.8
"BLD",6776,"KRN",9.2,0)
9.2
"BLD",6776,"KRN",9.8,0)
9.8
"BLD",6776,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",6776,"KRN",9.8,"NM",1,0)
TIU199^^0^B15288294
"BLD",6776,"KRN",9.8,"NM",2,0)
TIUAL1^^0^B88079624
"BLD",6776,"KRN",9.8,"NM","B","TIU199",1)
 
"BLD",6776,"KRN",9.8,"NM","B","TIUAL1",2)
 
"BLD",6776,"KRN",19,0)
19
"BLD",6776,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",6776,"KRN",19,"NM",1,0)
TIU MAIN MENU MGR^^2
"BLD",6776,"KRN",19,"NM",2,0)
TIU MARK SIGNED BY SURROGATE^^0
"BLD",6776,"KRN",19,"NM","B","TIU MAIN MENU MGR",1)
 
"BLD",6776,"KRN",19,"NM","B","TIU MARK SIGNED BY SURROGATE",2)
 
"BLD",6776,"KRN",19.1,0)
19.1
"BLD",6776,"KRN",101,0)
101
"BLD",6776,"KRN",409.61,0)
409.61
"BLD",6776,"KRN",771,0)
771
"BLD",6776,"KRN",870,0)
870
"BLD",6776,"KRN",8989.51,0)
8989.51
"BLD",6776,"KRN",8989.52,0)
8989.52
"BLD",6776,"KRN",8994,0)
8994
"BLD",6776,"KRN","B",.4,.4)
 
"BLD",6776,"KRN","B",.401,.401)
 
"BLD",6776,"KRN","B",.402,.402)
 
"BLD",6776,"KRN","B",.403,.403)
 
"BLD",6776,"KRN","B",.5,.5)
 
"BLD",6776,"KRN","B",.84,.84)
 
"BLD",6776,"KRN","B",3.6,3.6)
 
"BLD",6776,"KRN","B",3.8,3.8)
 
"BLD",6776,"KRN","B",9.2,9.2)
 
"BLD",6776,"KRN","B",9.8,9.8)
 
"BLD",6776,"KRN","B",19,19)
 
"BLD",6776,"KRN","B",19.1,19.1)
 
"BLD",6776,"KRN","B",101,101)
 
"BLD",6776,"KRN","B",409.61,409.61)
 
"BLD",6776,"KRN","B",771,771)
 
"BLD",6776,"KRN","B",870,870)
 
"BLD",6776,"KRN","B",8989.51,8989.51)
 
"BLD",6776,"KRN","B",8989.52,8989.52)
 
"BLD",6776,"KRN","B",8994,8994)
 
"BLD",6776,"QUES",0)
^9.62^^
"BLD",6776,"REQB",0)
^9.611^1^1
"BLD",6776,"REQB",1,0)
TIU*1.0*158^2
"BLD",6776,"REQB","B","TIU*1.0*158",1)
 
"FIA",8925.7)
TIU MULTIPLE SIGNATURE
"FIA",8925.7,0)
^TIU(8925.7,
"FIA",8925.7,0,0)
8925.7IP
"FIA",8925.7,0,1)
y^n^p^^^^n^^n
"FIA",8925.7,0,10)
 
"FIA",8925.7,0,11)
 
"FIA",8925.7,0,"RLRO")
 
"FIA",8925.7,0,"VR")
1.0^TIU
"FIA",8925.7,8925.7)
1
"FIA",8925.7,8925.7,.05)
 
"FIA",8925.7,8925.7,.09)
 
"INIT")
POST199^TIU199
"KRN",19,10823,-1)
2^1
"KRN",19,10823,0)
TIU MAIN MENU MGR^Text Integration Utilities (MIS Manager)^^M^66481^^^^^^y^470^^1^^^1
"KRN",19,10823,10,0)
^19.01IP^19^19
"KRN",19,10823,10,19,0)
12890^12^12
"KRN",19,10823,10,19,"^")
TIU MARK SIGNED BY SURROGATE
"KRN",19,10823,"U")
TEXT INTEGRATION UTILITIES (MI
"KRN",19,12890,-1)
0^2
"KRN",19,12890,0)
TIU MARK SIGNED BY SURROGATE^Mark Document as 'Signed by Surrogate'^^R^^^^^^^y^TEXT INTEGRATION UTILITIES
"KRN",19,12890,1,0)
^^4^4^3050718^
"KRN",19,12890,1,1,0)
This option provides a way to mark a document as 'Signed by Surrogate'. 
"KRN",19,12890,1,2,0)
This will set the .09 field of file 8925.7 to 1 - meaning that the 
"KRN",19,12890,1,3,0)
signing for an Additional Signer was done by a surrogate of that 
"KRN",19,12890,1,4,0)
Additional Signer.
"KRN",19,12890,25)
EN^TIU199
"KRN",19,12890,"U")
MARK DOCUMENT AS 'SIGNED BY SU
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",470,-1)
1^1
"PKG",470,0)
TEXT INTEGRATION UTILITIES^TIU^Text Integration Utilities 
"PKG",470,20,0)
^9.402P^^
"PKG",470,22,0)
^9.49I^1^1
"PKG",470,22,1,0)
1.0^3010801^3010806^66481
"PKG",470,22,1,"PAH",1,0)
199^3060612^101036
"PKG",470,22,1,"PAH",1,1,0)
^^3^3^3060612
"PKG",470,22,1,"PAH",1,1,1,0)
Fix ACL cross reference for field .02 in file 8925.1. Add field "SIGNED 
"PKG",470,22,1,"PAH",1,1,2,0)
BY SURROGATE to file 8925.7 and provide tool to set this field for notes 
"PKG",470,22,1,"PAH",1,1,3,0)
signed prior to this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")
 
"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","TIU199")
0^1^B15288294
"RTN","TIU199",1,0)
TIU199 ;BP/JML - TIU Alert Fix Tool ; 7/6/05 4:06pm
"RTN","TIU199",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**199**;Jun 20, 1997
"RTN","TIU199",3,0)
 ;
"RTN","TIU199",4,0)
 Q
"RTN","TIU199",5,0)
TRIGGER ; trigger code for the .05 field of file 8925.7
"RTN","TIU199",6,0)
 ; note - do not "NEW" DA or X as these are passed in from FileMan
"RTN","TIU199",7,0)
 N TIU0,TIUSET,TIUDOC,TIUEXP,FDA
"RTN","TIU199",8,0)
 S TIUEXP=$P($G(^TIU(8925.7,DA,0)),"^",3),TIUSET=0
"RTN","TIU199",9,0)
 I $$ISSURFOR^TIUADSIG(X,TIUEXP) S TIUSET=1
"RTN","TIU199",10,0)
 S FDA(8925.7,DA_",",.09)=TIUSET
"RTN","TIU199",11,0)
 D FILE^DIE("","FDA","TIUERR")
"RTN","TIU199",12,0)
 Q
"RTN","TIU199",13,0)
 ;
"RTN","TIU199",14,0)
EN ; MAIN DRIVER
"RTN","TIU199",15,0)
 N DIC,TIUPERS,TIUDTS,TIUCSTAT,TIUQ,DTOUT,DUOUT,Y,TIUNAME
"RTN","TIU199",16,0)
 D CLEAR^VALM1
"RTN","TIU199",17,0)
 S DIC="^VA(200,",DIC(0)="AEMQ"
"RTN","TIU199",18,0)
 S DIC("A")="Select ADDITIONAL SIGNER: "
"RTN","TIU199",19,0)
 D ^DIC S TIUPERS=+Y,TIUNAME=$P(Y,"^",2)
"RTN","TIU199",20,0)
 Q:$G(DTOUT)!($G(DUOUT))!(Y=-1)
"RTN","TIU199",21,0)
 D DTRANGE^TIUADCL(.TIUDTS)
"RTN","TIU199",22,0)
 Q:'$G(TIUDTS("BEGDT"))!('$G(TIUDTS("ENDDT")))
"RTN","TIU199",23,0)
 S TIUCSTAT=$O(^TIU(8925.6,"B","COMPLETED",""))
"RTN","TIU199",24,0)
 D GATHER
"RTN","TIU199",25,0)
 S TIUQ=0
"RTN","TIU199",26,0)
LOOP ;
"RTN","TIU199",27,0)
 I '$D(^TMP($J)) S TIUQ=$$NODATA()
"RTN","TIU199",28,0)
 I $D(^TMP($J)) D
"RTN","TIU199",29,0)
 .D PRINT
"RTN","TIU199",30,0)
 .S TIUQ=$$PROMPT()
"RTN","TIU199",31,0)
 ; TIUQ: 0=LOOP ON EXISTING BUILD, 2=CREATE NEW SEARCH/BUILD, 1=QUIT ENTIRELY
"RTN","TIU199",32,0)
 I TIUQ=0 G LOOP
"RTN","TIU199",33,0)
 I TIUQ=2 G EN
"RTN","TIU199",34,0)
 K ^TMP($J)
"RTN","TIU199",35,0)
 Q
"RTN","TIU199",36,0)
 ;
"RTN","TIU199",37,0)
GATHER ; COLLECT DATA BASED ON SEARCH CRITERIA
"RTN","TIU199",38,0)
 N TIUNOTE,TIUCNT,TIUADD,TIUAIEN,TIUA0,TIU0,TIUSTAT,TIU13,TIURFDT,TIUDTYP,TIUDFN,TIUPAT
"RTN","TIU199",39,0)
 K ^TMP($J)
"RTN","TIU199",40,0)
 S TIUNOTE="",TIUCNT=1
"RTN","TIU199",41,0)
 F  S TIUNOTE=$O(^TIU(8925.7,"AE",TIUNOTE)) Q:TIUNOTE=""  D
"RTN","TIU199",42,0)
 .S TIUADD=""
"RTN","TIU199",43,0)
 .F  S TIUADD=$O(^TIU(8925.7,"AE",TIUNOTE,TIUADD)) Q:TIUADD=""  D
"RTN","TIU199",44,0)
 ..Q:TIUPERS'=TIUADD
"RTN","TIU199",45,0)
 ..S TIUAIEN=""
"RTN","TIU199",46,0)
 ..F  S TIUAIEN=$O(^TIU(8925.7,"AE",TIUNOTE,TIUADD,TIUAIEN)) Q:TIUAIEN=""  D
"RTN","TIU199",47,0)
 ...S TIUA0=$G(^TIU(8925.7,TIUAIEN,0))
"RTN","TIU199",48,0)
 ...Q:$P(TIUA0,"^",5)=""  ; QUIT IF NOT SIGNED AT ALL
"RTN","TIU199",49,0)
 ...Q:$P(TIUA0,"^",3)=$P(TIUA0,"^",5)  ; QUIT IF EXPECTED AND ACTUAL ARE SAME
"RTN","TIU199",50,0)
 ...Q:+$P(TIUA0,"^",9)=1  ; QUIT IF ALRADY MARKED AS 'SIGNED BY SURROGATE'
"RTN","TIU199",51,0)
 ...S TIU0=$G(^TIU(8925,TIUNOTE,0))
"RTN","TIU199",52,0)
 ...S TIUSTAT=$P(TIU0,"^",5)
"RTN","TIU199",53,0)
 ...Q:TIUSTAT'=TIUCSTAT  ; QUIT IF NOT IN COMPLETED STATUS
"RTN","TIU199",54,0)
 ...S TIU13=$G(^TIU(8925,TIUNOTE,13))
"RTN","TIU199",55,0)
 ...S TIURFDT=$P($P(TIU13,"^"),".")
"RTN","TIU199",56,0)
 ...Q:TIURFDT<TIUDTS("BEGDT")!(TIURFDT>TIUDTS("ENDDT"))  ; QUIT IF NOT IN DT RANGE
"RTN","TIU199",57,0)
 ...S TIUDTYP=$P(TIU0,"^"),TIUDFN=$P(TIU0,"^",2)
"RTN","TIU199",58,0)
 ...S TIUPAT=$$GETPAT(TIUDFN)
"RTN","TIU199",59,0)
 ...S ^TMP($J,TIUCNT)=TIUAIEN_"^"_TIUPAT_"^"_TIUDTYP_"^"_TIURFDT
"RTN","TIU199",60,0)
 ...S TIUCNT=TIUCNT+1
"RTN","TIU199",61,0)
 Q
"RTN","TIU199",62,0)
 ;
"RTN","TIU199",63,0)
PRINT ;
"RTN","TIU199",64,0)
 N TIUCNT,TIUDATA,TIUTYP,TIURFDT
"RTN","TIU199",65,0)
 D HEAD
"RTN","TIU199",66,0)
 S TIUCNT=""
"RTN","TIU199",67,0)
 F  S TIUCNT=$O(^TMP($J,TIUCNT)) Q:TIUCNT=""  D
"RTN","TIU199",68,0)
 .S TIUDATA=^TMP($J,TIUCNT)
"RTN","TIU199",69,0)
 .S TIUTYP=$P($G(^TIU(8925.1,$P(TIUDATA,"^",4),0)),"^")
"RTN","TIU199",70,0)
 .S Y=$P(TIUDATA,"^",5) D DD^%DT S TIURFDT=Y
"RTN","TIU199",71,0)
 .W !,TIUCNT,?5,$E($P(TIUDATA,"^",2),1,15),?22,"("_$P(TIUDATA,"^",3)_")",?31,$E(TIUTYP,1,25),?58,TIURFDT
"RTN","TIU199",72,0)
 Q
"RTN","TIU199",73,0)
 ;
"RTN","TIU199",74,0)
PROMPT() ; PROMPT BASED ON DATA IN ^TMP($J) - QUIT VALUE DETERMINES FLOW IN LOOP/EN LINE TAGS
"RTN","TIU199",75,0)
 N X,TIUAIEN,DIR,DIRUT,FDA
"RTN","TIU199",76,0)
 W !
"RTN","TIU199",77,0)
 S DIR("A")="'NEW' FOR A NEW SEARCH OR '^' TO QUIT"
"RTN","TIU199",78,0)
 S DIR("A",1)="ENTER SEQUENCE # TO MARK AS 'SIGNED BY SURROGATE',"
"RTN","TIU199",79,0)
 S DIR(0)="F"
"RTN","TIU199",80,0)
 D ^DIR
"RTN","TIU199",81,0)
 ; QUIT CONDITIONS
"RTN","TIU199",82,0)
 I $G(DIRUT) Q 1
"RTN","TIU199",83,0)
 I X="NEW" Q 2
"RTN","TIU199",84,0)
 I '$D(^TMP($J,X)) D  Q 0
"RTN","TIU199",85,0)
 .W !!,"INVALID CHOICE" D CLEAR^VALM1
"RTN","TIU199",86,0)
 ; CHANGE VALUES AND KILL TMP
"RTN","TIU199",87,0)
 S TIUAIEN=+^TMP($J,X)
"RTN","TIU199",88,0)
 S FDA(8925.7,TIUAIEN_",",.09)=1
"RTN","TIU199",89,0)
 D FILE^DIE("","FDA","TIUERR")
"RTN","TIU199",90,0)
 K ^TMP($J,X)
"RTN","TIU199",91,0)
 I '$D(^TMP($J)) Q 2
"RTN","TIU199",92,0)
 Q 0
"RTN","TIU199",93,0)
 ;
"RTN","TIU199",94,0)
HEAD ;
"RTN","TIU199",95,0)
 D CLEAR^VALM1
"RTN","TIU199",96,0)
 W "ADDITIONAL SIGNER: ",TIUNAME,!!
"RTN","TIU199",97,0)
 W !,"SEQ",?5,"PATIENT",?31,"DOCUMENT TYPE",?58,"REFERENCE DATE"
"RTN","TIU199",98,0)
 W !,"---",?5,"-------",?31,"-------------",?58,"--------------"
"RTN","TIU199",99,0)
 Q
"RTN","TIU199",100,0)
 ;
"RTN","TIU199",101,0)
NODATA() ;
"RTN","TIU199",102,0)
 D CLEAR^VALM1
"RTN","TIU199",103,0)
 W !!,?15,"NO DATA TO REPORT FOR THIS SEARCH"
"RTN","TIU199",104,0)
 N DIRUT,TIUND S TIUND=2
"RTN","TIU199",105,0)
 D PAUSE^VALM1
"RTN","TIU199",106,0)
 I $G(DIRUT) S TIUND=1
"RTN","TIU199",107,0)
 Q TIUND
"RTN","TIU199",108,0)
 ;
"RTN","TIU199",109,0)
GETPAT(TIUDFN) ;
"RTN","TIU199",110,0)
 N DFN,TIUSSN,TIUPN,VADM
"RTN","TIU199",111,0)
 S DFN=TIUDFN
"RTN","TIU199",112,0)
 D DEM^VADPT
"RTN","TIU199",113,0)
 S TIUSSN=$P(VADM(2),"^")
"RTN","TIU199",114,0)
 S TIUPN=VADM(1)_"^"_$E(VADM(1))_$E(TIUSSN,6,$L(TIUSSN))
"RTN","TIU199",115,0)
 Q TIUPN
"RTN","TIU199",116,0)
 ;
"RTN","TIU199",117,0)
POST199 ; REINDEX THE ABBREVIATION FIELD OF FILE 8925.1
"RTN","TIU199",118,0)
 N DIK
"RTN","TIU199",119,0)
 S DIK="^TIU(8925.1,",DIK(1)=".02"
"RTN","TIU199",120,0)
 D ENALL^DIK
"RTN","TIU199",121,0)
 Q
"RTN","TIUAL1")
0^2^B88079624^B87325543
"RTN","TIUAL1",1,0)
TIUAL1 ;SLC/AJB - TIU Alerts List Manager ; 7/6/05 4:06pm
"RTN","TIUAL1",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**158,199**;Jun 20, 1997
"RTN","TIUAL1",3,0)
 ;
"RTN","TIUAL1",4,0)
 Q
"RTN","TIUAL1",5,0)
CHNGSRCH ; allows user to change search parameters
"RTN","TIUAL1",6,0)
 D FULL^VALM1
"RTN","TIUAL1",7,0)
 W @IOF
"RTN","TIUAL1",8,0)
 D SETUP^TIUALSET
"RTN","TIUAL1",9,0)
 I $D(TIU("QUIT")) K TIU("QUIT") S VALMBCK="R" Q
"RTN","TIUAL1",10,0)
 K ^TMP("TIUDA",$J),^TMP("TIUDOC",$J) D CLEAN^VALM10,INIT,HDR S VALMBG=1
"RTN","TIUAL1",11,0)
 Q
"RTN","TIUAL1",12,0)
EDIT ;
"RTN","TIUAL1",13,0)
 N D,DIV,TIUDA,TIUCHNG,TIUDCSNR,TIUDIV1,TIUESNR,TIUNODE
"RTN","TIUAL1",14,0)
 N TIUFPRIV,TIUPREF,TIUPRM0,TIUPRM1,TIURQCS,TIUS,TIUSEL,X,Y
"RTN","TIUAL1",15,0)
 D FULL^VALM1
"RTN","TIUAL1",16,0)
 I TIU("CNT")=0 W !,"No documents to select." H 3 Q
"RTN","TIUAL1",17,0)
 S TIUSEL=$P(XQORNOD(0),"=",2)
"RTN","TIUAL1",18,0)
 I TIUSEL="" D  Q:TIUSEL=U!($D(DIRUT))
"RTN","TIUAL1",19,0)
 . N DIR,X,Y
"RTN","TIUAL1",20,0)
 . S DIR("A")="Select Document: (1-"_VALMLST_") "
"RTN","TIUAL1",21,0)
 . S DIR(0)="NA^1:"_VALMLST
"RTN","TIUAL1",22,0)
 . D ^DIR S TIUSEL=Y
"RTN","TIUAL1",23,0)
 I $A($E(TIUSEL,$L(TIUSEL)))<48!($A($E(TIUSEL,$L(TIUSEL)))>57) S TIUSEL=$E(TIUSEL,1,$L(TIUSEL)-1)
"RTN","TIUAL1",24,0)
 F X=1:1  Q:$P(TIUSEL,",",X)=""  S TIUC($P(TIUSEL,",",X))=$O(@VALMAR@("IDX",$P(TIUSEL,",",X),""))
"RTN","TIUAL1",25,0)
 S TIUDA=TIUC(TIUSEL)
"RTN","TIUAL1",26,0)
 D EDIT1^TIURA
"RTN","TIUAL1",27,0)
 D UPDATE^TIUALSET
"RTN","TIUAL1",28,0)
 Q
"RTN","TIUAL1",29,0)
EN ; main entry point for TIU ALERTS
"RTN","TIUAL1",30,0)
 N %DT,D0,POP,TIU,TIUC,TIUTMP,X,Y
"RTN","TIUAL1",31,0)
 K ^TMP("TIUDA",$J),^TMP("TIUDOC",$J)
"RTN","TIUAL1",32,0)
 D SETUP^TIUALSET Q:$D(TIU("QUIT"))
"RTN","TIUAL1",33,0)
 D EN^VALM("TIU ALERTS")
"RTN","TIUAL1",34,0)
 K ^TMP("TIUDA",$J),^TMP("TIUDOC",$J)
"RTN","TIUAL1",35,0)
 Q
"RTN","TIUAL1",36,0)
EVAL(TIUDA) ;
"RTN","TIUAL1",37,0)
 N TIUCHK,TIUCNT,TIUY
"RTN","TIUAL1",38,0)
 S TIUCHK="" F  S TIUCHK=$O(TIU("S",TIUCHK)) Q:TIUCHK=""  I $P(TIUD0,U,5)=+TIU("S",TIUCHK),$P(TIUD13,U)'<TIU("D",1),$P(TIUD13,U)'>TIU("D",2) S TIUY=1
"RTN","TIUAL1",39,0)
 I $G(TIUY),$P(TIUCAT,U)="CA",$P(TIUD12,U,2)=+TIU("P") Q 1
"RTN","TIUAL1",40,0)
 I $G(TIUY),$P(TIUCAT,U)="AE",$D(^TIU(8925.7,"AE",TIUDA,TIU("P"))) Q 1
"RTN","TIUAL1",41,0)
 I $G(TIUY),$P(TIUCAT,U)="CS",$P(TIUCAT,U,2)="Expected Cosigner",$P(TIUD12,U,8)=+TIU("P") Q 1
"RTN","TIUAL1",42,0)
 I $G(TIUY),$P(TIUCAT,U)="CS",$P(TIUCAT,U,2)="Attending Physician",$P(TIUD12,U,9)=+TIU("P") Q 1
"RTN","TIUAL1",43,0)
 I $G(TIUY),$P(TIUCAT,U)="CS",$P(TIUCAT,U,3)="Attending Physician",$P(TIUD12,U,9)=+TIU("P") Q 1
"RTN","TIUAL1",44,0)
 Q +$G(TIUY)
"RTN","TIUAL1",45,0)
EXIT ; exit code
"RTN","TIUAL1",46,0)
 Q
"RTN","TIUAL1",47,0)
EXPND ; expand code
"RTN","TIUAL1",48,0)
 Q
"RTN","TIUAL1",49,0)
FMTDT(DATE) ; formats date
"RTN","TIUAL1",50,0)
 N TMPDATE
"RTN","TIUAL1",51,0)
 S TMPDATE=$$FDATE^VALM1(DATE)
"RTN","TIUAL1",52,0)
 I $P(TMPDATE,"/")="00",$P(TMPDATE,"/",2)="00" Q $$FMTE^XLFDT(DATE,"D")
"RTN","TIUAL1",53,0)
 I $P(TMPDATE,"/",2)="00" S TMPDATE=$E(TMPDATE,1,3)_$E(TMPDATE,7,8)
"RTN","TIUAL1",54,0)
 Q TMPDATE
"RTN","TIUAL1",55,0)
HDR ; header code
"RTN","TIUAL1",56,0)
 N HDRTITLE,X,Y
"RTN","TIUAL1",57,0)
 S HDRTITLE(1)=$S(TIU("S")=1:$$UPPER^VALM1($P(TIU("S",1),U,3))_" Documents",1:"Clinical Documents")
"RTN","TIUAL1",58,0)
 S HDRTITLE(2)=TIU("CNT")_" "_$S(TIU("CNT")=1:"Document",1:"Documents")
"RTN","TIUAL1",59,0)
 S HDRTITLE(3)="for ("_$E($$GET1^DIQ(200,TIU("P")_",",.01),1,35)_")"_" from "_$$FMTDT(TIU("D",1))_" to "_$$FMTDT(TIU("D",2))
"RTN","TIUAL1",60,0)
 S (X,Y)=""
"RTN","TIUAL1",61,0)
 F  S X=$O(TIU("C",X)) Q:X=""  S Y=Y_TIU("C",X)
"RTN","TIUAL1",62,0)
 S Y="by "_"("_$$UP^XLFSTR($TR($E(Y,2,67),U,","))_")"
"RTN","TIUAL1",63,0)
 S $P(HDRTITLE(1)," ",IOM-($L(HDRTITLE(1))+$L(HDRTITLE(2))))="",HDRTITLE(1)=HDRTITLE(1)_HDRTITLE(2)
"RTN","TIUAL1",64,0)
 S VALMHDR(1)=HDRTITLE(1)
"RTN","TIUAL1",65,0)
 S VALMHDR(2)=$$SETSTR^VALM1(Y,"",(IOM-$L(Y))/2,$L(Y))
"RTN","TIUAL1",66,0)
 S VALMHDR(3)=$$SETSTR^VALM1(HDRTITLE(3),"",(IOM-$L(HDRTITLE(3)))/2,$L(HDRTITLE(3)))
"RTN","TIUAL1",67,0)
 D XQORM
"RTN","TIUAL1",68,0)
 Q
"RTN","TIUAL1",69,0)
HELP ; help code
"RTN","TIUAL1",70,0)
 N DIR
"RTN","TIUAL1",71,0)
 I X="?" S DIR("A")="Enter RETURN to continue or '^' to exit",DIR(0)="E"
"RTN","TIUAL1",72,0)
 D FULL^VALM1
"RTN","TIUAL1",73,0)
 W !!,"The following actions are available:"
"RTN","TIUAL1",74,0)
 W !,"Browse a Document  - View a selected document (if authorized)"
"RTN","TIUAL1",75,0)
 W !,"Change View        - Modify search criteria"
"RTN","TIUAL1",76,0)
 W !,"Combination Alerts - Send alerts to expected signers and 3rd parties"
"RTN","TIUAL1",77,0)
 W !,"Delete Alerts      - Delete a document's alerts"
"RTN","TIUAL1",78,0)
 W !,"Detailed Display   - View detailed display of a document (if authorized)"
"RTN","TIUAL1",79,0)
 W !,"Edit a Document    - Edit a selected document (if authorized)"
"RTN","TIUAL1",80,0)
 W !,"Identify Signers   - Identify/Change Signers of a document (if authorized)"
"RTN","TIUAL1",81,0)
 W !,"Resend Alerts      - Resend alerts to expected signers"
"RTN","TIUAL1",82,0)
 W !,"Third Party Alerts - Send alerts to one or more 3rd parties",!
"RTN","TIUAL1",83,0)
 I $D(DIR("A")) D ^DIR
"RTN","TIUAL1",84,0)
 S VALMBCK="R"
"RTN","TIUAL1",85,0)
 Q
"RTN","TIUAL1",86,0)
INIT ; finds documents and prepares LM display
"RTN","TIUAL1",87,0)
 N CNT,TIUCNT,TIUDA,TIUDOC,TIUDT,TIUTMP
"RTN","TIUAL1",88,0)
 S CNT="",(TIUCNT,TIU("CNT"))=0
"RTN","TIUAL1",89,0)
 S TIU("IOCUOFF")=$C(27)_"[?25l",TIU("IOCUON")=$C(27)_"[?25h"
"RTN","TIUAL1",90,0)
 W TIU("IOCUOFF")
"RTN","TIUAL1",91,0)
 W !,"Searching for the documents."
"RTN","TIUAL1",92,0)
 F  S CNT=$O(TIU("C",CNT)) Q:CNT=""  D INIT2(CNT_TIU("C",CNT))
"RTN","TIUAL1",93,0)
 S TIUTMP=0,(CNT,TIUDA,TIUDT)=""
"RTN","TIUAL1",94,0)
 F  S TIUDT=$O(^TMP("TIUDOC",$J,TIUDT)) Q:TIUDT=""  F  S CNT=$O(^TMP("TIUDOC",$J,TIUDT,CNT)) Q:CNT=""  F  S TIUDA=$O(^TMP("TIUDOC",$J,TIUDT,CNT,TIUDA)) Q:TIUDA=""  D
"RTN","TIUAL1",95,0)
 . N TIUDISP,TIUNODE
"RTN","TIUAL1",96,0)
 . S TIUTMP=TIUTMP+1
"RTN","TIUAL1",97,0)
 . W:TIUTMP#3=0 "."
"RTN","TIUAL1",98,0)
 . S TIUDISP("PATIENT")=$P($P(^TMP("TIUDOC",$J,TIUDT,CNT,TIUDA),U,2),",")_","_$E($P($P(^TMP("TIUDOC",$J,TIUDT,CNT,TIUDA),U,2),",",2),1)
"RTN","TIUAL1",99,0)
 . S TIUDISP("L4")="("_$E(TIUDISP("PATIENT"))_$E($P($G(^DPT(+$P(^TIU(8925,TIUDA,0),U,2),0)),U,9),6,9)_")"
"RTN","TIUAL1",100,0)
 . S TIUNODE=^TMP("TIUDOC",$J,TIUDT,CNT,TIUDA)
"RTN","TIUAL1",101,0)
 . S TIUDISP("TITLE")=$E($S(+TIUNODE>0:"_ "_$P(TIUNODE,U,3),$P(TIUNODE,U)="A":"  |_"_$P(TIUNODE,U,3),1:$P(TIUNODE,U,3)),1,36)
"RTN","TIUAL1",102,0)
 . S TIUDISP("REFDT")=$$FMTDT($P(^TMP("TIUDOC",$J,TIUDT,CNT,TIUDA),U,4))
"RTN","TIUAL1",103,0)
 . S TIUDISP("S")=$P(^TMP("TIUDOC",$J,TIUDT,CNT,TIUDA),U,5)
"RTN","TIUAL1",104,0)
 . S TIUDISP("A/D")=$$GET1^DIQ(8925,TIUDA,1202)
"RTN","TIUAL1",105,0)
 . S TIUDISP("EC")=$$GET1^DIQ(8925,TIUDA,1208)
"RTN","TIUAL1",106,0)
 . S TIUDISP("ATT")=$$GET1^DIQ(8925,TIUDA,1209)
"RTN","TIUAL1",107,0)
 . S TIUDISP("ADS")=$$GET1^DIQ(8925.7,$P(TIUNODE,U,6),.03)
"RTN","TIUAL1",108,0)
 . S TIUDISP=$$SETSTR^VALM1(TIUTMP,"",1,5)
"RTN","TIUAL1",109,0)
 . S TIUDISP=$$SETSTR^VALM1(TIUDISP("PATIENT"),TIUDISP,6,26)
"RTN","TIUAL1",110,0)
 . S TIUDISP=$$SETSTR^VALM1(TIUDISP("L4"),TIUDISP,20,26)
"RTN","TIUAL1",111,0)
 . S TIUDISP=$$SETSTR^VALM1($E(TIUDISP("TITLE"),1,30),TIUDISP,28,58)
"RTN","TIUAL1",112,0)
 . S TIUDISP=$$SETSTR^VALM1(TIUDISP("REFDT"),TIUDISP,60,68)
"RTN","TIUAL1",113,0)
 . S TIUDISP=$$SETSTR^VALM1($$LOW^XLFSTR(TIUDISP("S")),TIUDISP,70,80)
"RTN","TIUAL1",114,0)
 . S TIUDISP=$$SETSTR^VALM1(TIUTMP,TIUDISP,81,86)
"RTN","TIUAL1",115,0)
 . S TIUDISP=$$SETSTR^VALM1($E(TIUDISP("A/D"),1,17),TIUDISP,88,105)
"RTN","TIUAL1",116,0)
 . S TIUDISP=$$SETSTR^VALM1($E($G(TIUDISP("EC")),1,17),TIUDISP,107,124)
"RTN","TIUAL1",117,0)
 . S TIUDISP=$$SETSTR^VALM1($E($G(TIUDISP("ATT")),1,17),TIUDISP,126,143)
"RTN","TIUAL1",118,0)
 . S TIUDISP=$$SETSTR^VALM1($E($G(TIUDISP("ADS")),1,15),TIUDISP,145,160)
"RTN","TIUAL1",119,0)
 . D SET^VALM10(TIUTMP,$E(TIUDISP,1,160),TIUDA)
"RTN","TIUAL1",120,0)
 S VALMCNT=TIUTMP
"RTN","TIUAL1",121,0)
 I VALMCNT=0 S VALMCNT=1 D
"RTN","TIUAL1",122,0)
 . D SET^VALM10(1," ",0)
"RTN","TIUAL1",123,0)
 . S TIUDOC="No records found to satisfy search criteria."
"RTN","TIUAL1",124,0)
 . S TIUDOC=$$SETSTR^VALM1(TIUDOC,"",(IOM-$L(TIUDOC))/2,$L(TIUDOC))
"RTN","TIUAL1",125,0)
 . D SET^VALM10(2,TIUDOC,0)
"RTN","TIUAL1",126,0)
 W TIU("IOCUON")
"RTN","TIUAL1",127,0)
 Q
"RTN","TIUAL1",128,0)
INIT2(TIUCAT) ;
"RTN","TIUAL1",129,0)
 S TIUDA=""
"RTN","TIUAL1",130,0)
 I $P(TIUCAT,U)'="AE" F  S TIUDA=$O(^TIU(8925,$P(TIUCAT,U),TIU("P"),TIUDA)) Q:TIUDA=""  D
"RTN","TIUAL1",131,0)
 . N TIUD0,TIUD12,TIUD13
"RTN","TIUAL1",132,0)
 . S TIUD0=$G(^TIU(8925,TIUDA,0))
"RTN","TIUAL1",133,0)
 . S TIUD12=$G(^TIU(8925,TIUDA,12))
"RTN","TIUAL1",134,0)
 . S TIUD13=$G(^TIU(8925,TIUDA,13))
"RTN","TIUAL1",135,0)
 . I TIUD0=""!(TIUD12="")!(TIUD13="") Q
"RTN","TIUAL1",136,0)
 . I $$EVAL(TIUDA) S ^TMP("TIUDA",$J,TIUDA)="",TIU("CNT")=TIU("CNT")+1
"RTN","TIUAL1",137,0)
 I $P(TIUCAT,U)="AE" F  S TIUDA=$O(^TIU(8925.7,"AE",TIUDA)) Q:TIUDA=""  I $D(^TIU(8925.7,"AE",TIUDA,TIU("P"))) D
"RTN","TIUAL1",138,0)
 . S TIU("AS")="",TIU("AS")=$O(^TIU(8925.7,"AE",TIUDA,TIU("P"),TIU("AS")))
"RTN","TIUAL1",139,0)
 . I $P($G(^TIU(8925.7,TIU("AS"),0)),U,4),$P($G(^TIU(8925.7,TIU("AS"),0)),U,5)=TIU("P") Q
"RTN","TIUAL1",140,0)
 . I TIU("AS")'="",$P($G(^TIU(8925.7,TIU("AS"),0)),"^",9)=1 Q
"RTN","TIUAL1",141,0)
 . N TIUD0,TIUD12,TIUD13
"RTN","TIUAL1",142,0)
 . S TIUD0=$G(^TIU(8925,TIUDA,0))
"RTN","TIUAL1",143,0)
 . S TIUD12=$G(^TIU(8925,TIUDA,12))
"RTN","TIUAL1",144,0)
 . S TIUD13=$G(^TIU(8925,TIUDA,13))
"RTN","TIUAL1",145,0)
 . I TIUD0=""!(TIUD12="")!(TIUD13="") Q
"RTN","TIUAL1",146,0)
 . I $$EVAL(TIUDA) S ^TMP("TIUDA",$J,TIUDA)=""_U_"AE"_U_$G(TIU("AS")),TIU("CNT")=TIU("CNT")+1
"RTN","TIUAL1",147,0)
 . K TIU("AS")
"RTN","TIUAL1",148,0)
 F  S TIUDA=$O(^TMP("TIUDA",$J,TIUDA)) Q:TIUDA=""  D
"RTN","TIUAL1",149,0)
 . I +^TMP("TIUDA",$J,TIUDA)=1 Q
"RTN","TIUAL1",150,0)
 . N TIUD0,TIUD12,TIUD13
"RTN","TIUAL1",151,0)
 . S TIUD0=$G(^TIU(8925,TIUDA,0))
"RTN","TIUAL1",152,0)
 . S TIUD12=$G(^TIU(8925,TIUDA,12))
"RTN","TIUAL1",153,0)
 . S TIUD13=$G(^TIU(8925,TIUDA,13))
"RTN","TIUAL1",154,0)
 . I TIUD0=""!(TIUD12="")!(TIUD13="") Q
"RTN","TIUAL1",155,0)
 . W:TIUCNT#3=0 "."
"RTN","TIUAL1",156,0)
 . I +$$HASKIDS^TIUSRVLI(TIUDA),$P(^TMP("TIUDA",$J,TIUDA),U,2)'="AE" D  Q
"RTN","TIUAL1",157,0)
 . . N TMPCNT
"RTN","TIUAL1",158,0)
 . . S TIUCNT=TIUCNT+1,TMPCNT=TIUCNT
"RTN","TIUAL1",159,0)
 . . S ^TMP("TIUDA",$J,TIUDA)=1
"RTN","TIUAL1",160,0)
 . . N CHILD,I,SEQUENCE,TIUI
"RTN","TIUAL1",161,0)
 . . S CHILD="CHILD",(SEQUENCE,TIUI)=""
"RTN","TIUAL1",162,0)
 . . D SETKIDS^TIUSRVLI(.CHILD,TIUDA,.TIUI) I $G(TIUI)="" Q
"RTN","TIUAL1",163,0)
 . . F I=1:1:TIUI I $D(^TMP("TIUDA",$J,+CHILD(I))),'+$G(^TMP("TIUDA",$J,+CHILD(I))) D
"RTN","TIUAL1",164,0)
 . . . N TIUREFDT
"RTN","TIUAL1",165,0)
 . . . S TIUCNT=TIUCNT+1
"RTN","TIUAL1",166,0)
 . . . S ^TMP("TIUDA",$J,+CHILD(I))=1
"RTN","TIUAL1",167,0)
 . . . S TIUREFDT=+^TIU(8925,+CHILD(I),13)
"RTN","TIUAL1",168,0)
 . . . I $$GET1^DIQ(8925,+CHILD(I),.01)'["Addendum" S ^TMP("TIUDOC",$J,+TIUD13,TIUCNT,+CHILD(I))="A"_U_$$GET1^DIQ(8925,TIUDA,.02)_U_$$GET1^DIQ(8925,+CHILD(I),.01)_U_TIUREFDT_U_$$GET1^DIQ(8925,+CHILD(I),.05)
"RTN","TIUAL1",169,0)
 . . . E  S ^TMP("TIUDOC",$J,+TIUD13,TIUCNT,+CHILD(I))="A"_U_$$GET1^DIQ(8925,TIUDA,.02)_U_"Addendum to "_$$GET1^DIQ(8925,TIUDA,.01)_U_TIUREFDT_U_$$GET1^DIQ(8925,+CHILD(I),.05)
"RTN","TIUAL1",170,0)
 . . S ^TMP("TIUDOC",$J,+TIUD13,TMPCNT,TIUDA)=(TIUCNT-TMPCNT)_U_$$GET1^DIQ(8925,TIUDA,.02)_U_$$GET1^DIQ(8925,TIUDA,.01)_U_+TIUD13_U_$$GET1^DIQ(8925,TIUDA,.05)
"RTN","TIUAL1",171,0)
 . I $P(^TMP("TIUDA",$J,TIUDA),U,2)="AE"!(+$$HASDAD^TIUSRVLI(TIUDA)) D  Q
"RTN","TIUAL1",172,0)
 . . N TIUAS
"RTN","TIUAL1",173,0)
 . . S TIUCNT=TIUCNT+1
"RTN","TIUAL1",174,0)
 . . S $P(^TMP("TIUDA",$J,TIUDA),U)=1
"RTN","TIUAL1",175,0)
 . . S TIUAS=$P(^TMP("TIUDA",$J,TIUDA),U,3)
"RTN","TIUAL1",176,0)
 . . I $$GET1^DIQ(8925,TIUDA,.01)'["Addendum" S ^TMP("TIUDOC",$J,+TIUD13,TIUCNT,TIUDA)=U_$$GET1^DIQ(8925,TIUDA,.02)_U_$$GET1^DIQ(8925,TIUDA,.01)_U_+TIUD13_U_$$GET1^DIQ(8925,TIUDA,.05)_U_TIUAS
"RTN","TIUAL1",177,0)
 . . E  D
"RTN","TIUAL1",178,0)
 . . . N PARENT,SEQUENCE,TIUI
"RTN","TIUAL1",179,0)
 . . . S PARENT="PARENT",(SEQUENCE,TIUI)=""
"RTN","TIUAL1",180,0)
 . . . D SETDAD^TIUSRVLI(.PARENT,TIUDA,.TIUI) I $G(TIUI)="" Q
"RTN","TIUAL1",181,0)
 . . . S ^TMP("TIUDOC",$J,+TIUD13,TIUCNT,TIUDA)=U_$$GET1^DIQ(8925,TIUDA,.02)_U_"Addendum to "_$$GET1^DIQ(8925,+PARENT(TIUI),.01)_U_$P(TIUD13,U)_U_$$GET1^DIQ(8925,TIUDA,.05)_U_TIUAS
"RTN","TIUAL1",182,0)
 . I '+$$HASKIDS^TIUSRVLI(TIUDA),'+$$HASDAD^TIUSRVLI(TIUDA) D  Q
"RTN","TIUAL1",183,0)
 . . S TIUCNT=TIUCNT+1
"RTN","TIUAL1",184,0)
 . . S ^TMP("TIUDA",$J,TIUDA)=1
"RTN","TIUAL1",185,0)
 . . S ^TMP("TIUDOC",$J,+TIUD13,TIUCNT,TIUDA)=U_$$GET1^DIQ(8925,TIUDA,.02)_U_$$GET1^DIQ(8925,TIUDA,.01)_U_$P(TIUD13,U)_U_$$GET1^DIQ(8925,TIUDA,.05)
"RTN","TIUAL1",186,0)
 Q
"RTN","TIUAL1",187,0)
LSEXIT ; exit code
"RTN","TIUAL1",188,0)
 D XQORM
"RTN","TIUAL1",189,0)
 Q
"RTN","TIUAL1",190,0)
SELSTAT(Y,PARM,DEF,MENU) ; Select Signature status
"RTN","TIUAL1",191,0)
 N I,XQORM,X,TIUY
"RTN","TIUAL1",192,0)
 S XQORM=+$O(^ORD(101,"B",MENU,0))_";ORD(101,"
"RTN","TIUAL1",193,0)
 I +XQORM'>0 W !,"Status selection unavailable." S TIUY=-1 G STATX
"RTN","TIUAL1",194,0)
 S XQORM(0)=$G(PARM),XQORM("A")=$S(MENU="TIU STATUS MENU":"Select DOCUMENT STATUS: ",1:"Select SEARCH CATEGORY: ")
"RTN","TIUAL1",195,0)
 I $S(PARM="F":1,PARM="R":1,1:0) S X=DEF
"RTN","TIUAL1",196,0)
 S XQORM("B")=DEF D EN^XQORM
"RTN","TIUAL1",197,0)
 S TIUY=$G(Y)
"RTN","TIUAL1",198,0)
 I MENU="TIU STATUS MENU",+$G(Y)=1,(+$G(Y(1))=7) S Y=2,Y(2)="8^4843^amended^8"
"RTN","TIUAL1",199,0)
STATX Q TIUY
"RTN","TIUAL1",200,0)
XQORM ;
"RTN","TIUAL1",201,0)
 S XQORM("#")=$O(^ORD(101,"B","TIU ALERTS SELECT",0))_U_"1:"_VALMCNT
"RTN","TIUAL1",202,0)
 Q
"VER")
8.0^22.0
"^DD",8925.7,8925.7,.05,0)
ACTUAL COSIGNER^P200'^VA(200,^0;5^Q
"^DD",8925.7,8925.7,.05,1,0)
^.1
"^DD",8925.7,8925.7,.05,1,1,0)
^^TRIGGER^8925.7^.09
"^DD",8925.7,8925.7,.05,1,1,1)
D TRIGGER^TIU199
"^DD",8925.7,8925.7,.05,1,1,2)
Q
"^DD",8925.7,8925.7,.05,1,1,"CREATE VALUE")
NO EFFECT
"^DD",8925.7,8925.7,.05,1,1,"DELETE VALUE")
NO EFFECT
"^DD",8925.7,8925.7,.05,1,1,"DT")
3050706
"^DD",8925.7,8925.7,.05,1,1,"FIELD")
SIGNED BY SURROGATE
"^DD",8925.7,8925.7,.05,3)
Please indicate the user who actually cosigned the document.
"^DD",8925.7,8925.7,.05,21,0)
^.001^4^4^3050831^^
"^DD",8925.7,8925.7,.05,21,1,0)
This field contains the person who actually signed for this Additional 
"^DD",8925.7,8925.7,.05,21,2,0)
Signer. This field will trigger field .09 (Signed by Surrogate). That 
"^DD",8925.7,8925.7,.05,21,3,0)
trigger will check if the Actual Co-signer is a surrogate for the Expected
"^DD",8925.7,8925.7,.05,21,4,0)
Signer. If so the .09 field will be set to 1. If not it will be set to 0.
"^DD",8925.7,8925.7,.05,"DT")
3050706
"^DD",8925.7,8925.7,.09,0)
SIGNED BY SURROGATE^S^0:NO;1:YES;^0;9^Q
"^DD",8925.7,8925.7,.09,5,1,0)
8925.7^.05^1
"^DD",8925.7,8925.7,.09,21,0)
^^6^6^3050718^
"^DD",8925.7,8925.7,.09,21,1,0)
This field is set by a trigger on the .05 field (ACTUAL COSIGNER). The 
"^DD",8925.7,8925.7,.09,21,2,0)
trigger will check if the actual cosigner is a surrogate for the expected 
"^DD",8925.7,8925.7,.09,21,3,0)
signer at the time of signing. If so this field will be set to 1. If 
"^DD",8925.7,8925.7,.09,21,4,0)
not it will be set to 0. This will enable other processes to know if the 
"^DD",8925.7,8925.7,.09,21,5,0)
Additional Signer was signed by a surrogate as the assignment of the 
"^DD",8925.7,8925.7,.09,21,6,0)
surrogate is temporary and cannot be checked at a later date.
"^DD",8925.7,8925.7,.09,"DT")
3050706
"BLD",6776,6)
^198
**END**
**END**
