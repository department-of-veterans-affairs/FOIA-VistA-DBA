$TXT Created by BRADY,PATRICK at MNTVBB.ISC-ALBANY.VA.GOV  (KIDS) on MONDAY, 08/09/99 at 10:35
=============================================================================
Run Date: FEB 01, 2000                     Designation: DVBA*2.7*24
Package : DVBA - AUTOMATED MED INFO Priority: Mandatory
Version : 2.7        SEQ #26                    Status: Released
=============================================================================

Associated patches: (v)DVBA*2.7*14 <<= must be installed BEFORE `DVBA*2.7*24'

Subject: DVBA 7132 TASKMAN ERROR

Category: 
  - Routine

Description: 
============

 Y2K Waiver Status:  Approved
 
 I. FUNCTIONAL OVERVIEW
 ======================
  
 The FORM 7131 file (#396) holds all requests for 7131 information.  The 
 routine DVBADSCK - the discharge checker, references DOCUMENT TYPE (#30) 
 of the FORM 7131 file (#396). Selecting the Notification of Discharge via 
 TaskMan [DVBA 7132 TASKMAN] menu option results in an error if no fields
 are defined at the level in the file where the DOCUMENT TYPE (#30) field is
 stored.
  
 NOIS for this patch is MWV-1298-20894.
  
 II.  TECHNICAL OVERVIEW
 =======================
  
 1.  The subroutine CHK in the routine DVBADSCK was changed so that when it 
 checks that the DOCUMENT TYPE (#30) is equal to "A" it uses $GET to 
 access.  If ^DVB(396,XDA,2) - the file node at which the DOCUMENT TYPE (#30) 
 field is stored - does not exist, NULL is returned.
  
 2.  A similar change was made for when accessing ^DVB(396,XDA,0) - the file
 node for the record number returned by the "B" cross reference for the 
 FORM 7131 file (#396).  As for the DOCUMENT TYPE (#30), a $GET is also 
 used when accessing the ADMISSION DATE (#3), which is stored at the 
 ^DVB(396,XDA,0) level.
  
 III.  TECHNICAL COMPONENTS
 ==========================
  
 1.  The following is a list of the routine(s) included in this patch.  The
 second line of each of these routines now looks like:
  
                         CHECK^XTSUMBLD results
  
         Routine Name    Before Patch    After Patch   Patch List
         ============    ============    ===========   ==========
         DVBADSCK        11608903        11649146      15,14,24
  
  
 IV.  INSTALLATION INSTRUCTIONS
 ============================== 
  
 This patch may be loaded with users on the system.  Installation will take 
 less than 2 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2.  Review your mapped set.  If any of the routines listed in the ROUTINE
 SUMMARY section are mapped, they should be removed from the mapped set at this
 time.
  
 3.  From the Kernel Installation and Distribution System Menu, select
 the Installation menu.
  
 4.  From this menu, you may elect to use the following options
 (when prompted for INSTALL NAME, enter DVBA*2.7*24):
         a.     Backup a Transport Global - this option will create a backup
                message of any routines exported with the patch.  It will NOT
                backup any other changes such as DD's or templates.
         b.     Compare Transport Global to Current System  - this option will
                allow you to view all changes that will be made when the patch
                is installed.  It compares all components of the patch
                (routines, DDs, templates, etc.).
         c.     Verify Checksums in Transport Global - this option will
                allow you to ensure the integrity of the routines that
                are in the transport global.
         d.     Print Transport Global - this option will allow you to make a
                hard copy of the transport global.
  
 5.  Use the Install Package(s) option and select the package DVBA*2.7*24.
  
 6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
 Protocols? YES//', respond YES.  When prompted to select the options you would
 like to place out of order, enter the following:
                
     Notification of Discharge via TaskMan [DVBA 7132 TASKMAN]
     Manual Discharge Notification Processing [DVBA MANUAL NOTIFY]
  
 7.  If routines were unmapped as part of step 2, they should be returned to
 the mapped set once the installation has run to completion.

Routine Information:
====================

Routine Name:
  - DVBADSCK


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : KOVACH,STUART                  Date Entered : DEC 23, 1998
Completed By: BRADY,PATRICK                 Date Completed: FEB 01, 2000
Released By : BROCKERT,JUDY                 Date Released : FEB 01, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
