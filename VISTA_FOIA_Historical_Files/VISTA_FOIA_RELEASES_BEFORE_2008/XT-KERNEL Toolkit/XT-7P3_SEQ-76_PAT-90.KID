Released XT*7.3*90 SEQ #76
Extracted from mail message
**KIDS**:XT*7.3*90^

**INSTALL NAME**
XT*7.3*90
"BLD",827,0)
XT*7.3*90^TOOLKIT^0^3050728^y
"BLD",827,1,0)
^^2^2^3040719^
"BLD",827,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"BLD",827,1,2,0)
XT*7.3*90
"BLD",827,4,0)
^9.64PA^3.5^1
"BLD",827,4,3.5,0)
3.5
"BLD",827,4,3.5,2,0)
^9.641^3.5^1
"BLD",827,4,3.5,2,3.5,0)
DEVICE  (File-top level)
"BLD",827,4,3.5,2,3.5,1,0)
^9.6411^67^2
"BLD",827,4,3.5,2,3.5,1,63,0)
VMS DEVICE TYPE
"BLD",827,4,3.5,2,3.5,1,67,0)
REMOTE PRINTER NAME
"BLD",827,4,3.5,222)
y^y^p^^^^n^^n
"BLD",827,4,3.5,224)

"BLD",827,4,"APDD",3.5,3.5)

"BLD",827,4,"APDD",3.5,3.5,63)

"BLD",827,4,"APDD",3.5,3.5,67)

"BLD",827,4,"B",3.5,3.5)

"BLD",827,"KRN",0)
^9.67PA^8989.52^19
"BLD",827,"KRN",.4,0)
.4
"BLD",827,"KRN",.401,0)
.401
"BLD",827,"KRN",.402,0)
.402
"BLD",827,"KRN",.403,0)
.403
"BLD",827,"KRN",.5,0)
.5
"BLD",827,"KRN",.84,0)
.84
"BLD",827,"KRN",3.6,0)
3.6
"BLD",827,"KRN",3.8,0)
3.8
"BLD",827,"KRN",9.2,0)
9.2
"BLD",827,"KRN",9.8,0)
9.8
"BLD",827,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",827,"KRN",9.8,"NM",1,0)
XTLATSET^^0^22256385
"BLD",827,"KRN",9.8,"NM","B","XTLATSET",1)

"BLD",827,"KRN",19,0)
19
"BLD",827,"KRN",19.1,0)
19.1
"BLD",827,"KRN",101,0)
101
"BLD",827,"KRN",409.61,0)
409.61
"BLD",827,"KRN",771,0)
771
"BLD",827,"KRN",870,0)
870
"BLD",827,"KRN",8989.51,0)
8989.51
"BLD",827,"KRN",8989.52,0)
8989.52
"BLD",827,"KRN",8994,0)
8994
"BLD",827,"KRN","B",.4,.4)

"BLD",827,"KRN","B",.401,.401)

"BLD",827,"KRN","B",.402,.402)

"BLD",827,"KRN","B",.403,.403)

"BLD",827,"KRN","B",.5,.5)

"BLD",827,"KRN","B",.84,.84)

"BLD",827,"KRN","B",3.6,3.6)

"BLD",827,"KRN","B",3.8,3.8)

"BLD",827,"KRN","B",9.2,9.2)

"BLD",827,"KRN","B",9.8,9.8)

"BLD",827,"KRN","B",19,19)

"BLD",827,"KRN","B",19.1,19.1)

"BLD",827,"KRN","B",101,101)

"BLD",827,"KRN","B",409.61,409.61)

"BLD",827,"KRN","B",771,771)

"BLD",827,"KRN","B",870,870)

"BLD",827,"KRN","B",8989.51,8989.51)

"BLD",827,"KRN","B",8989.52,8989.52)

"BLD",827,"KRN","B",8994,8994)

"BLD",827,"QUES",0)
^9.62^^
"BLD",827,"REQB",0)
^9.611^1^1
"BLD",827,"REQB",1,0)
XT*7.3*75^0
"BLD",827,"REQB","B","XT*7.3*75",1)

"FIA",3.5)
DEVICE
"FIA",3.5,0)
^%ZIS(1,
"FIA",3.5,0,0)
3.5Is
"FIA",3.5,0,1)
y^y^p^^^^n^^n
"FIA",3.5,0,10)

"FIA",3.5,0,11)

"FIA",3.5,0,"RLRO")

"FIA",3.5,0,"VR")
7.3^XT
"FIA",3.5,3.5)
1
"FIA",3.5,3.5,63)

"FIA",3.5,3.5,67)

"MBREQ")
0
"PKG",6,-1)
1^1
"PKG",6,0)
TOOLKIT^XT^PROGRAMMERS OPTIONS, MULTI. TERM LOOKUP^
"PKG",6,20,0)
^9.402P^^0
"PKG",6,22,0)
^9.49I^1^1
"PKG",6,22,1,0)
7.3^3040428^2970513^2
"PKG",6,22,1,"PAH",1,0)
90^3050728
"PKG",6,22,1,"PAH",1,1,0)
^^2^2^3050728
"PKG",6,22,1,"PAH",1,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"PKG",6,22,1,"PAH",1,1,2,0)
XT*7.3*90
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XTLATSET")
0^1^B22256385
"RTN","XTLATSET",1,0)
XTLATSET ;SF/RWF - BUILD SITE LT_LOAD.COM, LTPROT, and LT_PTR.DAT FILEs ;07/28/2005  16:41
"RTN","XTLATSET",2,0)
 ;;7.3;TOOLKIT;**11,75,90**;Apr 25, 1995
"RTN","XTLATSET",3,0)
A ;This routine sets up the files for LAT device setup
"RTN","XTLATSET",4,0)
 N EXIT,OS,DIR,XTWHEN,TX,XFIO,NODE,PORT,SPEED,Q,Y,DA,XTRM,DEV,FN,VAH
"RTN","XTLATSET",5,0)
 N CMDFN,DI,I,QUE,T,XTIO
"RTN","XTLATSET",6,0)
 I '$D(DT) S DT=$$DT^XLFDT
"RTN","XTLATSET",7,0)
 S EXIT=1 D
"RTN","XTLATSET",8,0)
 . S OS=^%ZOSF("OS")
"RTN","XTLATSET",9,0)
 . I OS["DSM" S EXIT=0 Q
"RTN","XTLATSET",10,0)
 . I OS["OpenM",$$OS^%ZOSV["VMS" S EXIT=0 Q
"RTN","XTLATSET",11,0)
 . I OS["GT.M",OS["VMS" S EXIT=0 Q
"RTN","XTLATSET",12,0)
 . Q
"RTN","XTLATSET",13,0)
 I EXIT W !!,"Not running on a VAX. Not a valid routine to run." G EXIT
"RTN","XTLATSET",14,0)
 ;
"RTN","XTLATSET",15,0)
 W !!,"This routine will build new LT_LOAD.COM, LT_PTR.DAT, TSC_LOAD.COM files"
"RTN","XTLATSET",16,0)
 S DIR(0)="Y",DIR("A")="Want to proceed",DIR("A",1)="Do not use unless you are in the startup account",DIR("A",2)="where the correct VMS files are present!",DIR("B")="No",DIR("?")="See option description"
"RTN","XTLATSET",17,0)
 D ^DIR G EXIT:Y'=1!$D(DIRUT)
"RTN","XTLATSET",18,0)
 S IO=$I,U="^",X=$S($D(DUZ)[0:"Unknown",$D(^VA(200,DUZ,0)):$P(^(0),U,1),1:"Unknown"),XTWHEN="$! This version made on "_$$NOW^XLFDT()_", by "_X
"RTN","XTLATSET",19,0)
 D GETENV^%ZOSV S VAH=$P(Y,"^",1) ;Get UCI name
"RTN","XTLATSET",20,0)
 ;Open files
"RTN","XTLATSET",21,0)
 F X=1,2,4 S FN=$P($T(OP+X),";;",2)  D
"RTN","XTLATSET",22,0)
 . I VAH'="VAH" S FN=$P(FN,"]",1)_"]"_VAH_"_"_$P(FN,"]",2)
"RTN","XTLATSET",23,0)
 . S XFIO(X)=FN,TX="TX"_X
"RTN","XTLATSET",24,0)
 . D OPEN(XFIO(X))
"RTN","XTLATSET",25,0)
 . U IO
"RTN","XTLATSET",26,0)
 . D TX
"RTN","XTLATSET",27,0)
 ;Build files
"RTN","XTLATSET",28,0)
 S XTIO="_"
"RTN","XTLATSET",29,0)
 F DI=0:0 S XTIO=$O(^%ZIS(1,"C",XTIO)) Q:XTIO=""  D
"RTN","XTLATSET",30,0)
 . F DA=0:0 S DA=$O(^%ZIS(1,"C",XTIO,DA)) D:DA>0  Q:DA'>0
"RTN","XTLATSET",31,0)
 . . S X=$S($D(^%ZIS(1,DA,0)):^(0),1:""),Y=$S($D(^("VMS")):^("VMS"),1:"")
"RTN","XTLATSET",32,0)
 . . I $D(^%ZIS(1,DA,90)),^(90)>0,DT'>^(90) Q  ;OutOfService
"RTN","XTLATSET",33,0)
 . . D FILE
"RTN","XTLATSET",34,0)
 . . Q
"RTN","XTLATSET",35,0)
 . Q
"RTN","XTLATSET",36,0)
 ;Finish up and close
"RTN","XTLATSET",37,0)
 U 0 W !!,"The following files have been updated:",!!
"RTN","XTLATSET",38,0)
 F X=1,2,4 D
"RTN","XTLATSET",39,0)
 .W !?2,XFIO(X)
"RTN","XTLATSET",40,0)
 .D @("CL"_X)
"RTN","XTLATSET",41,0)
 .X "C XFIO(X)"
"RTN","XTLATSET",42,0)
 W !!,"To update the VMS configuration, the following COM"
"RTN","XTLATSET",43,0)
 W !,"procedures must be run on your cluster:"
"RTN","XTLATSET",44,0)
 W !!?2,"DO @"_XFIO(1) ; SYS$MANAGER:[VAH_]LT_LOAD.COM
"RTN","XTLATSET",45,0)
 W !?2,"DO @SYS$MANAGER:SYSPRINT.COM",!
"RTN","XTLATSET",46,0)
 S DIR(0)="Y",DIR("A")="Want to run them now",DIR("B")="Yes" D ^DIR
"RTN","XTLATSET",47,0)
 I Y=1 D RUN
"RTN","XTLATSET",48,0)
 ;
"RTN","XTLATSET",49,0)
EXIT K DIR,XTWHEN,TX,XFIO,NODE,PORT,SPEED,Q,Y,DA,XTRM,DEV,OS Q
"RTN","XTLATSET",50,0)
 ;
"RTN","XTLATSET",51,0)
RUN ;Run the com files
"RTN","XTLATSET",52,0)
 S CMDFN="SYS$MANAGER:LT_EXECUTE.COM" D OPEN(CMDFN)
"RTN","XTLATSET",53,0)
 U CMDFN
"RTN","XTLATSET",54,0)
 W "$! Run LT_LOAD and SYSPRINT on the cluster"
"RTN","XTLATSET",55,0)
 W !,"MCR SYSMAN"
"RTN","XTLATSET",56,0)
 W !,"SET E/C"
"RTN","XTLATSET",57,0)
 W !,"DO @"_XFIO(1) ; SYS$MANAGER:[VAH_]LT_LOAD.COM
"RTN","XTLATSET",58,0)
 W !,"DO @SYS$MANAGER:SYSPRINT.COM"
"RTN","XTLATSET",59,0)
 W !,"EXIT"
"RTN","XTLATSET",60,0)
 W !,"$EXIT",!
"RTN","XTLATSET",61,0)
 X "C CMDFN"
"RTN","XTLATSET",62,0)
 D DOCMD("PURGE "_CMDFN) ;Purge the COM file
"RTN","XTLATSET",63,0)
 D DOCMD("@"_CMDFN) ;Run the COM file
"RTN","XTLATSET",64,0)
 Q
"RTN","XTLATSET",65,0)
 ;
"RTN","XTLATSET",66,0)
OPEN(FN) ;Open file for write
"RTN","XTLATSET",67,0)
 I OS["DSM" X "O FN:NEWVERSION"
"RTN","XTLATSET",68,0)
 I OS["OpenM" X "O FN:(""NWS""):1"
"RTN","XTLATSET",69,0)
 I OS["GT.M" X "O FN:(newversion)"
"RTN","XTLATSET",70,0)
 Q
"RTN","XTLATSET",71,0)
DOCMD(CMD) ;Do a VMS command
"RTN","XTLATSET",72,0)
 W !,"Execute command: "_CMD
"RTN","XTLATSET",73,0)
 I OS["OpenM" X "S X=$ZF(-1,CMD)" Q
"RTN","XTLATSET",74,0)
 I OS["DSM" X "S X=$ZC(%SPAWN,CMD)" Q
"RTN","XTLATSET",75,0)
 I OS["GT.M" X "ZSYSTEM CMD" Q
"RTN","XTLATSET",76,0)
 Q
"RTN","XTLATSET",77,0)
 ;
"RTN","XTLATSET",78,0)
FILE ;write data for this device
"RTN","XTLATSET",79,0)
 S DEV=$P(X,U,2),NODE=$P(Y,U,1),PORT=$P(Y,U,2),SPEED=$S($P(Y,U,4)]"":$P(Y,U,4),1:9600)
"RTN","XTLATSET",80,0)
 Q:(NODE="")!(PORT="")  U IO W !," setup "_$P(X,U)
"RTN","XTLATSET",81,0)
 S QUE=$S($P(Y,U,3)]"":$P(Y,U,3),1:"n")
"RTN","XTLATSET",82,0)
 S XTRM=$S($D(^%ZIS(1,DA,"SUBTYPE")):^("SUBTYPE"),1:0),XTRM=$S($D(^%ZIS(2,+XTRM,1)):+^(1),1:80) ;Get value from TT file
"RTN","XTLATSET",83,0)
 S XTRM=$S(XTRM<1:80,XTRM>511:511,1:XTRM),XTRM=$E(1000+XTRM,2,4) ;Check range 80-511
"RTN","XTLATSET",84,0)
 S XTRM=255 ;Force value
"RTN","XTLATSET",85,0)
1 ;Write to LT_LOAD
"RTN","XTLATSET",86,0)
 U XFIO(1) W "create port "_DEV_" /nolog ! "_$P(X,U),!
"RTN","XTLATSET",87,0)
 W "set port "_DEV_" /app /queue /nolog /node="_NODE_" /port="_PORT,!
"RTN","XTLATSET",88,0)
2 ;Write to LT_PTR
"RTN","XTLATSET",89,0)
 U XFIO(2) W QUE_XTRM_$E(DEV_"     ",1,9)_$E(SPEED_"     ",1,5)_"  ! "_$P(X,U),!
"RTN","XTLATSET",90,0)
3 ;U XFIO(3) W "$ prot "_$P(X,U,2),!
"RTN","XTLATSET",91,0)
4 ;TSC_LOAD
"RTN","XTLATSET",92,0)
 U XFIO(4) W "@PR "_NODE_" "_PORT_" "_SPEED,!
"RTN","XTLATSET",93,0)
 S DA=0 Q  ;Force end of loop on DA
"RTN","XTLATSET",94,0)
 ;
"RTN","XTLATSET",95,0)
OP ;File names to open
"RTN","XTLATSET",96,0)
 ;;SYS$COMMON:[SYSMGR]LT_LOAD.COM
"RTN","XTLATSET",97,0)
 ;;SYS$COMMON:[SYSMGR]LT_PTR.DAT
"RTN","XTLATSET",98,0)
 ;;place holder
"RTN","XTLATSET",99,0)
 ;;SYS$COMMON:[DECSERVER]TSC_LOAD.COM
"RTN","XTLATSET",100,0)
CL1 U XFIO(1) W "exit",!,"$ EXIT 1" Q
"RTN","XTLATSET",101,0)
CL2 U XFIO(2) W "$ EXIT" Q
"RTN","XTLATSET",102,0)
CL3 U XFIO(3) W "$ EXIT" Q
"RTN","XTLATSET",103,0)
CL4 U XFIO(4) W "$ EXIT" Q
"RTN","XTLATSET",104,0)
 ;
"RTN","XTLATSET",105,0)
TX U XFIO(X) W XTWHEN,! F I=0:1 S T=$T(@TX+I),T=$P(T,";;",2,9) Q:T=""  W T,!
"RTN","XTLATSET",106,0)
 Q
"RTN","XTLATSET",107,0)
TX1 ;;$! Create and set DECserver ports
"RTN","XTLATSET",108,0)
 ;;$ SET NOON
"RTN","XTLATSET",109,0)
 ;;$ RUN SYS$SYSTEM:LATCP
"RTN","XTLATSET",110,0)
 ;;
"RTN","XTLATSET",111,0)
TX2 ;;$ This file is used as input to SYSPRINT.com
"RTN","XTLATSET",112,0)
 ;;
"RTN","XTLATSET",113,0)
TX3 ;;$ prot:= set prot=(O:rwlp,G:rwlp,W:rwlp)/device/owner=[100,1]/nolog
"RTN","XTLATSET",114,0)
 ;;$! set device protection
"RTN","XTLATSET",115,0)
 ;;
"RTN","XTLATSET",116,0)
TX4 ;;$! Create file to set DECservers for printers
"RTN","XTLATSET",117,0)
 ;;$ tsc:= run DS5CFG
"RTN","XTLATSET",118,0)
 ;;
"VER")
8.0^22.0
"^DD",3.5,3.5,63,0)
VMS DEVICE TYPE^S^n:NOT SPOOLED;y:YES SPOOLED;m:HOSTSYNC/NOWRAP;l:LAB INSTRUMENT;w:NOWRAP;p:PASTHRU/NOWRAP;^VMS;3^Q
"^DD",3.5,3.5,63,3)
Will this device use VMS spooling or other special device settings
"^DD",3.5,3.5,63,21,0)
^^3^3^3040617^
"^DD",3.5,3.5,63,21,1,0)
This is a flag that is passed into the file LT_PTR.DAT by the routine 
"^DD",3.5,3.5,63,21,2,0)
XTLATSET to select how this port should be setup in VMS by the
"^DD",3.5,3.5,63,21,3,0)
SYS$MANAGER:SYSPRINT.COM file when it runs.
"^DD",3.5,3.5,63,"DT")
3040617
"^DD",3.5,3.5,67,0)
REMOTE PRINTER NAME^F^^VMS;7^K:$L(X)>45!($L(X)<2) X
"^DD",3.5,3.5,67,3)
Answer must be 2-45 characters in length
"^DD",3.5,3.5,67,21,0)
^^2^2^3030722^
"^DD",3.5,3.5,67,21,1,0)
This is the Name of the Remote Printer that is referenced by
"^DD",3.5,3.5,67,21,2,0)
the "PRINT SERVER NAME OR ADDRESS" and "TELNET PORT" fields.
"^DD",3.5,3.5,67,"DT")
3040818
"BLD",827,6)
^SEQ #76
**END**
**END**
