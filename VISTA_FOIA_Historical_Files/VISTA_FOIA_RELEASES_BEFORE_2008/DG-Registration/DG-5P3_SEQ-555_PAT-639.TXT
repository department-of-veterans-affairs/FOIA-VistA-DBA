$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 01/06/05 at 15:19
=============================================================================
Run Date: JAN 31, 2005                     Designation: DG*5.3*639
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #555                    Status: Released
                  Compliance Date: MAR 03, 2005
=============================================================================

Associated patches: (v)DG*5.3*520  <<= must be installed BEFORE `DG*5.3*639'

Subject: OBSOLETE PROTOCOL CLEANUP

Category: 
  - Routine

Description:
============

   When the Master Patient Index (MPI) software was updated to use
   the Health Level Seven (HL7) Standard version 2.4 messaging,
   parallel functionality was in place to allow either version 2.3
   or 2.4 to work.  The 2.4 messaging structure has been in place
   since late 2003.  Some obsolete protocols were removed at that
   time in patch DG*5.3*479.  Additional cleanup is being distributed
   in this patch, DG*5.3*639.
   
   The purpose of the pre-installation routine, DG53639P,
   is to remove obsolete protocols off of two parent protocols
   from the ITEM (#10) subfile and SUBSCRIBERS (#775) subfile in the
   PROTOCOL (#101) file.
    
       From Parent Protocol                 Remove Child Protocol
       --------------------                 ---------------------
       VAFC ADT-A04 SERVER                  RG ADT-A04 CLIENT
        
       VAFC ADT-A08 SERVER                  RG ADT-A08 CLIENT
   
   
   VAFCTFIN - A minor change was made in the messaging code of this
   routine at tag MFI+3 to change the number "2" to "4."  "2" was
   looking at the "Master File Identifier" sequence value "TFL."
   The change to "4" enables the code to look at the "File-Level Event
   Code" (i.e., "REP" for replace or "UPD" for update) to determine
   whether to replace the existing Treating Facility list or just
   update the list.  This VAFCTFIN code is utilized from the Austin
   Master Patient Index's (MPI) Broadcast TF Update from MPI [MPI
   DATA MGT BROADCAST TF UPD] option.  The existing code was failing to
   remove Treating Facilities that were at the site, but not on the MPI.
   
   Test Sites:
   ===========
   Battle Creek, MI
   Madison, WI
   Manchester, NH
   VA Greater Los Angeles HCS
     
   Routine Summary:
   ================
   The following is a list of the routine(s) included in this patch.
   The second line of each of these routine(s) will look like:
    
   <TAB>;;5.3;Registration;**[patch list]**;Aug 13, 1993
   CHECK^XTSUMBLD results:
    
   Routine Name    Before Patch    After Patch    Patch List
   ============    ============    ===========    ==========
   DG53639P              N/A             N/A      639
   VAFCTFIN          8510953         8511005      428,474,520,639
    
   Note: Routine DG53639P is deleted by the installation.  The
   checksum prior to deletion is:
               DG53639P           4070843
    
   Installation Instructions:
   ==========================
   This patch may be loaded with users on the system.  You may wish
   to install it during non-peak hours.  Installation will take less
   than 2 minutes.
      
   1.  Use the INSTALL/CHECK MESSAGE option on the Packman menu.  [Note: 
       TEXT PRINT/DISPLAY option in the PackMan menu will display the 
       patch text only.]
    
   2.  Review your mapped set.  If any of the routines listed in the 
       ROUTINE SUMMARY section are mapped, they should be removed
       from the mapped set at this time.
    
   3.  From the Kernel Installation and Distribution System Menu, select
       the Installation menu.
    
   4.  From this menu, you may elect to use the following options (when
       prompted for the INSTALL NAME, enter DG*5.3*639).
    
       (a)  Backup a Transport Global - this option will create a backup
            message of any routines exported with the patch.  It will NOT
            backup any other changes such as DDs or templates.
    
       (b)  Compare Transport Global to Current System - this option will
            allow you to view all changes that will be made when the
            patch is installed.  It compares all components of the patch
            (routines, DDs, templates, etc.).
    
       (c)  Verify Checksums in Transport Global - this option will allow
            you to ensure the integrity of the routines that are in the
            transport global.
    
       (d)  Print Transport Global - this option will allow you to view the
            components of the KIDS build.
    
   5.  Use the Install Package(s) option and select the package DG*5.3*639.
    
   6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
       respond NO.
    
   7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', respond NO.
       
   8.  If any routines were unmapped as part of step 2, return them to the
       mapped set once the installation has run to completion.
        
   9.  Routine DG53639P will be automatically deleted from your system
       after successful installation of the patch.

Routine Information:
====================

Routine Name:
  - DG53639P


Routine Checksum:

Routine Name:
  - VAFCTFIN


Routine Checksum:

=============================================================================
User Information:
Entered By  : DAVIS,PAULETTE                Date Entered  : DEC 08, 2004
Completed By: CHESNEY,CHRISTINE M           Date Completed: JAN 28, 2005
Released By : HEUER,CINDY                   Date Released : JAN 31, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
