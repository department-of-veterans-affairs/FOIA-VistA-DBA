KIDS Distribution saved on Aug 24, 2007@17:31:01
PIMS ASCD PATCHES DVB*4.0*58, SD*5.3*495, and PX*1.0*184
**KIDS**:DVB*4.0*58^SD*5.3*495^PX*1.0*184^

**INSTALL NAME**
DVB*4.0*58
"BLD",6973,0)
DVB*4.0*58^HINQ^0^3070824^y
"BLD",6973,1,0)
^^2^2^3070105^
"BLD",6973,1,1,0)
Please refer to patch DVB*4.0*58 in the National Patch Module for a
"BLD",6973,1,2,0)
complete description of this patch.
"BLD",6973,4,0)
^9.64PA^31^1
"BLD",6973,4,31,0)
31
"BLD",6973,4,31,2,0)
^9.641^31.01^1
"BLD",6973,4,31,2,31.01,0)
RELATED ICD9 CODES  (sub-file)
"BLD",6973,4,31,2,31.01,1,0)
^9.6411^^0
"BLD",6973,4,31,222)
y^n^p^^^^n^^n
"BLD",6973,4,31,224)

"BLD",6973,4,"APDD",31,31.01)

"BLD",6973,4,"B",31,31)

"BLD",6973,6.3)
29
"BLD",6973,"ABPKG")
n
"BLD",6973,"INIT")
POST^DVB458P
"BLD",6973,"KRN",0)
^9.67PA^8989.52^19
"BLD",6973,"KRN",.4,0)
.4
"BLD",6973,"KRN",.401,0)
.401
"BLD",6973,"KRN",.402,0)
.402
"BLD",6973,"KRN",.403,0)
.403
"BLD",6973,"KRN",.5,0)
.5
"BLD",6973,"KRN",.84,0)
.84
"BLD",6973,"KRN",3.6,0)
3.6
"BLD",6973,"KRN",3.8,0)
3.8
"BLD",6973,"KRN",9.2,0)
9.2
"BLD",6973,"KRN",9.8,0)
9.8
"BLD",6973,"KRN",9.8,"NM",0)
^9.68A^7^7
"BLD",6973,"KRN",9.8,"NM",1,0)
DVB458P^^0^B35413628
"BLD",6973,"KRN",9.8,"NM",2,0)
DVB458P1^^0^B42388125
"BLD",6973,"KRN",9.8,"NM",3,0)
DVB458P2^^0^B71594347
"BLD",6973,"KRN",9.8,"NM",4,0)
DVB458P3^^0^B85058690
"BLD",6973,"KRN",9.8,"NM",5,0)
DVB458P4^^0^B95562400
"BLD",6973,"KRN",9.8,"NM",6,0)
DVB458P5^^0^B101691653
"BLD",6973,"KRN",9.8,"NM",7,0)
DVB458P6^^0^B41872735
"BLD",6973,"KRN",9.8,"NM","B","DVB458P",1)

"BLD",6973,"KRN",9.8,"NM","B","DVB458P1",2)

"BLD",6973,"KRN",9.8,"NM","B","DVB458P2",3)

"BLD",6973,"KRN",9.8,"NM","B","DVB458P3",4)

"BLD",6973,"KRN",9.8,"NM","B","DVB458P4",5)

"BLD",6973,"KRN",9.8,"NM","B","DVB458P5",6)

"BLD",6973,"KRN",9.8,"NM","B","DVB458P6",7)

"BLD",6973,"KRN",19,0)
19
"BLD",6973,"KRN",19.1,0)
19.1
"BLD",6973,"KRN",101,0)
101
"BLD",6973,"KRN",409.61,0)
409.61
"BLD",6973,"KRN",771,0)
771
"BLD",6973,"KRN",870,0)
870
"BLD",6973,"KRN",8989.51,0)
8989.51
"BLD",6973,"KRN",8989.52,0)
8989.52
"BLD",6973,"KRN",8994,0)
8994
"BLD",6973,"KRN","B",.4,.4)

"BLD",6973,"KRN","B",.401,.401)

"BLD",6973,"KRN","B",.402,.402)

"BLD",6973,"KRN","B",.403,.403)

"BLD",6973,"KRN","B",.5,.5)

"BLD",6973,"KRN","B",.84,.84)

"BLD",6973,"KRN","B",3.6,3.6)

"BLD",6973,"KRN","B",3.8,3.8)

"BLD",6973,"KRN","B",9.2,9.2)

"BLD",6973,"KRN","B",9.8,9.8)

"BLD",6973,"KRN","B",19,19)

"BLD",6973,"KRN","B",19.1,19.1)

"BLD",6973,"KRN","B",101,101)

"BLD",6973,"KRN","B",409.61,409.61)

"BLD",6973,"KRN","B",771,771)

"BLD",6973,"KRN","B",870,870)

"BLD",6973,"KRN","B",8989.51,8989.51)

"BLD",6973,"KRN","B",8989.52,8989.52)

"BLD",6973,"KRN","B",8994,8994)

"BLD",6973,"PRE")
DVB458P
"BLD",6973,"QUES",0)
^9.62^^
"BLD",6973,"REQB",0)
^9.611^1^1
"BLD",6973,"REQB",1,0)
DVB*4.0*50^2
"BLD",6973,"REQB","B","DVB*4.0*50",1)

"FIA",31)
DISABILITY CONDITION
"FIA",31,0)
^DIC(31,
"FIA",31,0,0)
31I
"FIA",31,0,1)
y^n^p^^^^n^^n
"FIA",31,0,10)

"FIA",31,0,11)

"FIA",31,0,"RLRO")

"FIA",31,0,"VR")
4.0^DVB
"FIA",31,31)
1
"FIA",31,31,20)

"FIA",31,31.01)
0
"INIT")
POST^DVB458P
"MBREQ")
0
"PKG",119,-1)
1^1
"PKG",119,0)
HINQ^DVB^HINQ(Hospital Inquiry)
"PKG",119,20,0)
^9.402P^^
"PKG",119,22,0)
^9.49I^1^1
"PKG",119,22,1,0)
4.0^2930615^2920421
"PKG",119,22,1,"PAH",1,0)
58^3070824
"PKG",119,22,1,"PAH",1,1,0)
^^2^2^3070824
"PKG",119,22,1,"PAH",1,1,1,0)
Please refer to patch DVB*4.0*58 in the National Patch Module for a
"PKG",119,22,1,"PAH",1,1,2,0)
complete description of this patch.
"PRE")
DVB458P
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
7
"RTN","DVB458P")
0^1^B35413628
"RTN","DVB458P",1,0)
DVB458P ;ALB/RBS - ENV/PRE/POST-INSTALL FOR PATCH DVB*4*58 ; 1/11/07 1:34pm
"RTN","DVB458P",2,0)
 ;;4.0;HINQ;**58**;03/25/92;Build 29
"RTN","DVB458P",3,0)
 ;
"RTN","DVB458P",4,0)
 ;This routine is the main install routine that will update the
"RTN","DVB458P",5,0)
 ;DISABILITY CONDITION (#31) file with the new mapping of Rated
"RTN","DVB458P",6,0)
 ;Disabilities (VA) VBA DX CODES to specific ICD DIAGNOSIS codes.
"RTN","DVB458P",7,0)
 ;There are 3,085 ICD9 codes that will be added to the (#31) file.
"RTN","DVB458P",8,0)
 ;
"RTN","DVB458P",9,0)
 ;
"RTN","DVB458P",10,0)
 Q  ;no direct entry
"RTN","DVB458P",11,0)
 ;
"RTN","DVB458P",12,0)
 ;
"RTN","DVB458P",13,0)
ENV ;Main entry point for Environment check point.
"RTN","DVB458P",14,0)
 ;
"RTN","DVB458P",15,0)
 S XPDABORT=""
"RTN","DVB458P",16,0)
 ;checks programmer variables
"RTN","DVB458P",17,0)
 D PROGCHK(.XPDABORT)
"RTN","DVB458P",18,0)
 ;check if patch install is running
"RTN","DVB458P",19,0)
 D ISRUNING(.XPDABORT)
"RTN","DVB458P",20,0)
 ;
"RTN","DVB458P",21,0)
 I XPDABORT="" K XPDABORT
"RTN","DVB458P",22,0)
 Q
"RTN","DVB458P",23,0)
 ;
"RTN","DVB458P",24,0)
 ;
"RTN","DVB458P",25,0)
PRE ;Main entry point for Pre-init items.
"RTN","DVB458P",26,0)
 ;
"RTN","DVB458P",27,0)
 Q
"RTN","DVB458P",28,0)
 ;
"RTN","DVB458P",29,0)
 ;
"RTN","DVB458P",30,0)
POST ;Main entry point for Post-init items.
"RTN","DVB458P",31,0)
 ;
"RTN","DVB458P",32,0)
 N DVBTOT  ;count of total ICD9 codes filed
"RTN","DVB458P",33,0)
 N DVBTMP  ;Closed Root global reference for error reporting
"RTN","DVB458P",34,0)
 ;remove data from #field 20 in file #31 and repopulate
"RTN","DVB458P",35,0)
 I $$VFIELD^DILFD(31,20) D
"RTN","DVB458P",36,0)
 .D DELETE^DVB458P1
"RTN","DVB458P",37,0)
 S DVBTMP=$NA(^TMP("DVB458P",$J))
"RTN","DVB458P",38,0)
 K @DVBTMP
"RTN","DVB458P",39,0)
 S @DVBTMP@(0)="PATCH DVB*4*58 POST-INSTALL^"_$$NOW^XLFDT
"RTN","DVB458P",40,0)
 S DVBTOT=0
"RTN","DVB458P",41,0)
 ;
"RTN","DVB458P",42,0)
 D BMES^XPDUTL("  >>> *** Updating the DISABILITY CONDITION (#31) file...")
"RTN","DVB458P",43,0)
 D MES^XPDUTL("      *** Please be patient, this should take less than 5 minutes.")
"RTN","DVB458P",44,0)
 D MES^XPDUTL("  ")
"RTN","DVB458P",45,0)
 ;
"RTN","DVB458P",46,0)
 ;call to process (#31) file updates
"RTN","DVB458P",47,0)
 D POST^DVB458P1(DVBTMP,.DVBTOT)
"RTN","DVB458P",48,0)
 ;
"RTN","DVB458P",49,0)
 S @DVBTMP@(0)=@DVBTMP@(0)_"^"_$$NOW^XLFDT_"^"_DVBTOT
"RTN","DVB458P",50,0)
 ;
"RTN","DVB458P",51,0)
 I '$D(@DVBTMP@("ERROR")) D
"RTN","DVB458P",52,0)
 . D BMES^XPDUTL("  >>> *** SUCCESS updating the DISABILITY CONDITION (#31) file.")
"RTN","DVB458P",53,0)
 . D MES^XPDUTL("          Total RELATED ICD9 CODES filed: "_DVBTOT)
"RTN","DVB458P",54,0)
 . ;
"RTN","DVB458P",55,0)
 E  D
"RTN","DVB458P",56,0)
 . D BMES^XPDUTL("  >>> *** FAILURE updating the DISABILITY CONDITION (#31) file.")
"RTN","DVB458P",57,0)
 . D BMES^XPDUTL("      Filing error's have occurred when adding the new RELATED ICD9 CODES.")
"RTN","DVB458P",58,0)
 . D MES^XPDUTL("      Immediate resolution is necessary to maintain database integrity.")
"RTN","DVB458P",59,0)
 . D BMES^XPDUTL("  A MailMan message has been sent to the installer of this patch")
"RTN","DVB458P",60,0)
 . D MES^XPDUTL("  with a listing of the error's.")
"RTN","DVB458P",61,0)
 . D BMES^XPDUTL("  Once these filing error's have been resolved, please re-run")
"RTN","DVB458P",62,0)
 . D MES^XPDUTL("  the Post-Installation routine directly from programmer mode")
"RTN","DVB458P",63,0)
 . D MES^XPDUTL("  by entering the following command:")
"RTN","DVB458P",64,0)
 . D MES^XPDUTL("  ")
"RTN","DVB458P",65,0)
 . D MES^XPDUTL("  D POST^DVB458P")
"RTN","DVB458P",66,0)
 . D MES^XPDUTL("  ")
"RTN","DVB458P",67,0)
 . D BMES^XPDUTL("  >>> I'm now creating and sending the MailMan message...")
"RTN","DVB458P",68,0)
 . ;
"RTN","DVB458P",69,0)
 . D SENDMSG(DVBTMP,.DVBTOT)
"RTN","DVB458P",70,0)
 . ;
"RTN","DVB458P",71,0)
 . D MES^XPDUTL("  >>> All done.")
"RTN","DVB458P",72,0)
 ;
"RTN","DVB458P",73,0)
 ;cleanup temp file
"RTN","DVB458P",74,0)
 K @DVBTMP
"RTN","DVB458P",75,0)
 Q
"RTN","DVB458P",76,0)
 ;
"RTN","DVB458P",77,0)
 ;
"RTN","DVB458P",78,0)
SENDMSG(DVBTMP,DVBTOT) ;send failure MailMan message to installer of patch
"RTN","DVB458P",79,0)
 ;
"RTN","DVB458P",80,0)
 N DIFROM,DVBMSG
"RTN","DVB458P",81,0)
 N XMY,XMDUZ,XMSUB,XMTEXT,XMDUN,XMZ
"RTN","DVB458P",82,0)
 S XMSUB="DVB*4.0*58 Patch Post-Install Error Listing"
"RTN","DVB458P",83,0)
 S XMTEXT="DVBMSG("
"RTN","DVB458P",84,0)
 S XMDUZ=.5,(XMY(DUZ),XMY(XMDUZ))=""
"RTN","DVB458P",85,0)
 S DVBMSG(1)="Patch:  DVB*4.0*58 Automated Service Connected Designation"
"RTN","DVB458P",86,0)
 S DVBMSG(2)=""
"RTN","DVB458P",87,0)
 S DVBMSG(3)="The post-installation update of the DISABILITY CONDITION (#31) file"
"RTN","DVB458P",88,0)
 S DVBMSG(4)="has FAILED to successfully complete.  Filing error's have occurred when"
"RTN","DVB458P",89,0)
 S DVBMSG(5)="attempting to add the new data mapping of RELATED ICD9 CODES."
"RTN","DVB458P",90,0)
 S DVBMSG(6)=""
"RTN","DVB458P",91,0)
 S DVBMSG(7)="Immediate resolution of ALL error's is needed to maintain database integrity."
"RTN","DVB458P",92,0)
 S DVBMSG(8)=""
"RTN","DVB458P",93,0)
 S DVBMSG(9)="Once these filing error's have been resolved, please re-run"
"RTN","DVB458P",94,0)
 S DVBMSG(10)="the Post-Installation routine directly from programmer mode"
"RTN","DVB458P",95,0)
 S DVBMSG(11)="by entering the following command:"
"RTN","DVB458P",96,0)
 S DVBMSG(12)=""
"RTN","DVB458P",97,0)
 S DVBMSG(13)="D POST^DVB458P"
"RTN","DVB458P",98,0)
 S DVBMSG(14)=""
"RTN","DVB458P",99,0)
 S DVBMSG(15)="The new update run time should take less than 5 minutes to complete."
"RTN","DVB458P",100,0)
 S DVBMSG(16)=""
"RTN","DVB458P",101,0)
 S DVBMSG(17)=">>> Please review and resolve the following error's:"
"RTN","DVB458P",102,0)
 S DVBMSG(18)=""
"RTN","DVB458P",103,0)
 S DVBMSG(19)="*** DISABILITY CONDITION FILE (#31) FILING ERRORS ***"
"RTN","DVB458P",104,0)
 S DVBMSG(20)="-----------------------------------------------------"
"RTN","DVB458P",105,0)
 ;
"RTN","DVB458P",106,0)
 ;loop and list error's
"RTN","DVB458P",107,0)
 N DVBICD,DVBHDR,DVBHDR1,DVBIEN,DVBLN,DVBMSS,DVBVBA,DVBDESC
"RTN","DVB458P",108,0)
 S DVBHDR="VBA DX CODE: ",DVBHDR1="    ICD DIAGNOSIS CODE: "
"RTN","DVB458P",109,0)
 S DVBLN=21,DVBVBA=0
"RTN","DVB458P",110,0)
 F  S DVBVBA=$O(@DVBTMP@("ERROR",DVBVBA)) Q:'DVBVBA  D
"RTN","DVB458P",111,0)
 . I $D(@DVBTMP@("ERROR",DVBVBA,0)) D  Q
"RTN","DVB458P",112,0)
 . . S DVBMSS=DVBHDR_DVBVBA_" - "_$G(@DVBTMP@("ERROR",DVBVBA,0))
"RTN","DVB458P",113,0)
 . . S DVBMSG(DVBLN)=DVBMSS,DVBLN=DVBLN+1
"RTN","DVB458P",114,0)
 . K DVBDESC D FIND^DIC(31,"","","X",DVBVBA,,"C","","","DVBDESC")
"RTN","DVB458P",115,0)
 . S DVBMSS=DVBHDR_DVBVBA_" - "_$E($G(DVBDESC("DILIST",1,1)),1,50)
"RTN","DVB458P",116,0)
 . S DVBMSG(DVBLN)=DVBMSS,DVBLN=DVBLN+1
"RTN","DVB458P",117,0)
 . S DVBIEN=0
"RTN","DVB458P",118,0)
 . F  S DVBIEN=$O(@DVBTMP@("ERROR",DVBVBA,DVBIEN)) Q:'DVBIEN  D
"RTN","DVB458P",119,0)
 . . S DVBICD=""
"RTN","DVB458P",120,0)
 . . F  S DVBICD=$O(@DVBTMP@("ERROR",DVBVBA,DVBIEN,DVBICD)) Q:DVBICD=""  D
"RTN","DVB458P",121,0)
 . . . S DVBMSS=DVBHDR1_DVBICD_" - "_$G(@DVBTMP@("ERROR",DVBVBA,DVBIEN,DVBICD))
"RTN","DVB458P",122,0)
 . . . S DVBMSG(DVBLN)=DVBMSS,DVBLN=DVBLN+1
"RTN","DVB458P",123,0)
 S DVBMSG(DVBLN)="",DVBLN=DVBLN+1
"RTN","DVB458P",124,0)
 S DVBMSG(DVBLN)="<End of Report>"
"RTN","DVB458P",125,0)
 ;
"RTN","DVB458P",126,0)
 D ^XMD
"RTN","DVB458P",127,0)
 Q
"RTN","DVB458P",128,0)
 ;
"RTN","DVB458P",129,0)
 ;
"RTN","DVB458P",130,0)
PROGCHK(XPDABORT) ;checks for necessary programmer variables
"RTN","DVB458P",131,0)
 ;
"RTN","DVB458P",132,0)
 I '$G(DUZ)!($G(DUZ(0))'="@")!('$G(DT))!($G(U)'="^") D
"RTN","DVB458P",133,0)
 . D BMES^XPDUTL("*****")
"RTN","DVB458P",134,0)
 . D MES^XPDUTL("Your programming variables are not set up properly.")
"RTN","DVB458P",135,0)
 . D MES^XPDUTL("Installation aborted.")
"RTN","DVB458P",136,0)
 . D MES^XPDUTL("*****")
"RTN","DVB458P",137,0)
 . S XPDABORT=2
"RTN","DVB458P",138,0)
 Q
"RTN","DVB458P",139,0)
 ;
"RTN","DVB458P",140,0)
 ;
"RTN","DVB458P",141,0)
ISRUNING(XPDABORT) ;check if patch install is running
"RTN","DVB458P",142,0)
 ;
"RTN","DVB458P",143,0)
 I $D(^TMP("DVB458P")) D
"RTN","DVB458P",144,0)
 . D BMES^XPDUTL("*****")
"RTN","DVB458P",145,0)
 . D MES^XPDUTL("This patch is currently being Installed.  Try later.")
"RTN","DVB458P",146,0)
 . D MES^XPDUTL("Installation aborted.")
"RTN","DVB458P",147,0)
 . D MES^XPDUTL("*****")
"RTN","DVB458P",148,0)
 . S XPDABORT=2
"RTN","DVB458P",149,0)
 Q
"RTN","DVB458P1")
0^2^B42388125
"RTN","DVB458P1",1,0)
DVB458P1 ;ALB/RBS - POST-INSTALL FOR PATCH DVB*4*58 (CONT.) ; 4/24/07 3:53pm
"RTN","DVB458P1",2,0)
 ;;4.0;HINQ;**58**;03/25/92;Build 29
"RTN","DVB458P1",3,0)
 ;
"RTN","DVB458P1",4,0)
 ;This routine is the main post-install driver that will update the
"RTN","DVB458P1",5,0)
 ;DISABILITY CONDITION (#31) file with the new mapping of Rated
"RTN","DVB458P1",6,0)
 ;Disabilities (VA) VBA DX CODES to specific ICD DIAGNOSIS codes.
"RTN","DVB458P1",7,0)
 ;
"RTN","DVB458P1",8,0)
 Q  ;no direct entry
"RTN","DVB458P1",9,0)
 ;
"RTN","DVB458P1",10,0)
POST(DVBTMP,DVBTOT) ;post-install driver for updating the (#31) file
"RTN","DVB458P1",11,0)
 ;This procedure will call a series of routines that contain the data
"RTN","DVB458P1",12,0)
 ;element values that will be used to create the new VBA-ICD9 mapping.
"RTN","DVB458P1",13,0)
 ;
"RTN","DVB458P1",14,0)
 ;  Input:
"RTN","DVB458P1",15,0)
 ;    DVBTMP - Closed Root global reference for error reporting
"RTN","DVB458P1",16,0)
 ;    DVBTOT - Total number of ICD9 codes filed
"RTN","DVB458P1",17,0)
 ;
"RTN","DVB458P1",18,0)
 ;  Output:
"RTN","DVB458P1",19,0)
 ;    DVBTMP - Temp file of error messages (if any)
"RTN","DVB458P1",20,0)
 ;    DVBTOT - Total number of ICD9 codes filed
"RTN","DVB458P1",21,0)
 ;
"RTN","DVB458P1",22,0)
 N DVBRTN,DVBCNT
"RTN","DVB458P1",23,0)
 S DVBTMP=$G(DVBTMP)
"RTN","DVB458P1",24,0)
 S DVBTOT=$G(DVBTOT) I DVBTOT']"" S DVBTOT=0
"RTN","DVB458P1",25,0)
 I DVBTMP']"" S DVBTMP=$NA(^TMP("DVB458P",$J)) K @DVBTMP
"RTN","DVB458P1",26,0)
 ;
"RTN","DVB458P1",27,0)
 ;loop each routine
"RTN","DVB458P1",28,0)
 F DVBCNT=1:1:6 S DVBRTN="^DVB458P"_DVBCNT D
"RTN","DVB458P1",29,0)
 . Q:($T(@DVBRTN)="")
"RTN","DVB458P1",30,0)
 . D BLDXRF(DVBRTN,DVBTMP,.DVBTOT)
"RTN","DVB458P1",31,0)
 Q
"RTN","DVB458P1",32,0)
 ;
"RTN","DVB458P1",33,0)
 ;
"RTN","DVB458P1",34,0)
BLDXRF(DVBRTN,DVBTMP,DVBTOT) ;call each routine to file VBA/ICD9 codes
"RTN","DVB458P1",35,0)
 ;
"RTN","DVB458P1",36,0)
 ;  Input:
"RTN","DVB458P1",37,0)
 ;    DVBRTN - Post Install routine to process VBA/ICD9 codes
"RTN","DVB458P1",38,0)
 ;    DVBTMP - Closed Root global reference for error reporting
"RTN","DVB458P1",39,0)
 ;    DVBTOT - Total number of ICD9 codes filed
"RTN","DVB458P1",40,0)
 ;
"RTN","DVB458P1",41,0)
 ;  Output:
"RTN","DVB458P1",42,0)
 ;    DVBTOT - Total number of ICD9 codes filed
"RTN","DVB458P1",43,0)
 ;
"RTN","DVB458P1",44,0)
 N DVBLINE  ;$TEXT code line
"RTN","DVB458P1",45,0)
 N DVBLN    ;line counter incrimenter
"RTN","DVB458P1",46,0)
 N DVBTAG   ;line tag of routine to process
"RTN","DVB458P1",47,0)
 N DVBVBA   ;VBA DX code (external value)
"RTN","DVB458P1",48,0)
 ;
"RTN","DVB458P1",49,0)
 S (DVBLN,DVBVBA)=0
"RTN","DVB458P1",50,0)
 ;
"RTN","DVB458P1",51,0)
 F  S DVBTAG="TEXT+"_DVBLN_DVBRTN,DVBLINE=$T(@DVBTAG) Q:DVBLINE["$EXIT"  D
"RTN","DVB458P1",52,0)
 . ;get VBA DX CODE var setup
"RTN","DVB458P1",53,0)
 . I DVBLINE'["~" D  Q
"RTN","DVB458P1",54,0)
 . . S DVBVBA=$P(DVBLINE,";",3),DVBLN=DVBLN+1
"RTN","DVB458P1",55,0)
 . . ; - if code not found setup ^TMP() file error record
"RTN","DVB458P1",56,0)
 . . I '$O(^DIC(31,"C",DVBVBA,"")) D
"RTN","DVB458P1",57,0)
 . . . S @DVBTMP@("ERROR",DVBVBA)="DX CODE not found in (#31) file"
"RTN","DVB458P1",58,0)
 . . . S DVBVBA=0
"RTN","DVB458P1",59,0)
 . ;
"RTN","DVB458P1",60,0)
 . ;quit back to loop if no VBA code ien found (just in case)
"RTN","DVB458P1",61,0)
 . I 'DVBVBA S DVBLN=DVBLN+1 Q
"RTN","DVB458P1",62,0)
 . ;
"RTN","DVB458P1",63,0)
 . D BLDVBA(DVBVBA,DVBLINE,.DVBTOT)
"RTN","DVB458P1",64,0)
 . S DVBLN=DVBLN+1
"RTN","DVB458P1",65,0)
 Q
"RTN","DVB458P1",66,0)
 ;
"RTN","DVB458P1",67,0)
 ;
"RTN","DVB458P1",68,0)
BLDVBA(DVBVBA,DVBLINE,DVBTOT) ;extract ICD9 codes from text line
"RTN","DVB458P1",69,0)
 ;
"RTN","DVB458P1",70,0)
 ;  Input:
"RTN","DVB458P1",71,0)
 ;    DVBVBA - VBA DX code (external value)
"RTN","DVB458P1",72,0)
 ;   DVBLINE - $TEXT code line of ICD9's
"RTN","DVB458P1",73,0)
 ;    DVBTOT - Total number of ICD9 codes filed
"RTN","DVB458P1",74,0)
 ;
"RTN","DVB458P1",75,0)
 ;  Output:
"RTN","DVB458P1",76,0)
 ;    DVBTOT - Total number of ICD9 codes filed
"RTN","DVB458P1",77,0)
 ;
"RTN","DVB458P1",78,0)
 Q:'$G(DVBVBA)
"RTN","DVB458P1",79,0)
 Q:$G(DVBLINE)']""
"RTN","DVB458P1",80,0)
 ;
"RTN","DVB458P1",81,0)
 N DVBDATA,DVBI,DVBICD,DVBICDEN,DVBIEN,DVBMATCH,DVBX
"RTN","DVB458P1",82,0)
 ;
"RTN","DVB458P1",83,0)
 ;loop in case there might be multiple VBA ien's setup
"RTN","DVB458P1",84,0)
 S DVBIEN=0
"RTN","DVB458P1",85,0)
 F  S DVBIEN=$O(^DIC(31,"C",DVBVBA,DVBIEN)) Q:DVBIEN=""  D
"RTN","DVB458P1",86,0)
 . S DVBX=$P(DVBLINE,";",3,999)
"RTN","DVB458P1",87,0)
 . S (DVBI,DVBICD)=0
"RTN","DVB458P1",88,0)
 . F DVBI=1:1 S DVBDATA=$P(DVBX,"^",DVBI) Q:DVBDATA=""  D
"RTN","DVB458P1",89,0)
 . . Q:DVBDATA[";"
"RTN","DVB458P1",90,0)
 . . S DVBICD=$P(DVBDATA,"~"),DVBMATCH=+$P(DVBDATA,"~",2)
"RTN","DVB458P1",91,0)
 . . ; - get ICD9 pointer from ICD DIAGNOSIS (#80) file
"RTN","DVB458P1",92,0)
 . . S DVBICDEN=+$$ICDDX^ICDCODE(DVBICD)
"RTN","DVB458P1",93,0)
 . . I ('DVBICDEN)!(DVBICDEN<0) D  Q
"RTN","DVB458P1",94,0)
 . . . S @DVBTMP@("ERROR",DVBVBA,DVBIEN,DVBICD)="not found in ICD DIAGNOSIS (#80) file"
"RTN","DVB458P1",95,0)
 . . ;
"RTN","DVB458P1",96,0)
 . . Q:$D(^DIC(31,DVBIEN,"ICD","B",DVBICDEN))  ;ICD9 already setup
"RTN","DVB458P1",97,0)
 . . ;
"RTN","DVB458P1",98,0)
 . . ;call to create new multiple field (#20) RELATED ICD9 CODES
"RTN","DVB458P1",99,0)
 . . I '$$FILEICD(DVBIEN,DVBICDEN,DVBMATCH) D  Q
"RTN","DVB458P1",100,0)
 . . . S @DVBTMP@("ERROR",DVBVBA,DVBIEN,DVBICD)="error filing to (#31) file"
"RTN","DVB458P1",101,0)
 . . S DVBTOT=DVBTOT+1
"RTN","DVB458P1",102,0)
 Q
"RTN","DVB458P1",103,0)
 ;
"RTN","DVB458P1",104,0)
 ;
"RTN","DVB458P1",105,0)
FILEICD(DVBIEN,DVBICDEN,DVBMATCH) ;file code mapping to (#31) file
"RTN","DVB458P1",106,0)
 ;
"RTN","DVB458P1",107,0)
 ;  Input:
"RTN","DVB458P1",108,0)
 ;    DVBIEN    - ien of VBA DX CODE in file (#31)
"RTN","DVB458P1",109,0)
 ;    DVBICDEN  - ien of ICD9 code in file (#80)
"RTN","DVB458P1",110,0)
 ;    DVBMATCH  - match code (1 or 0)
"RTN","DVB458P1",111,0)
 ;
"RTN","DVB458P1",112,0)
 ;  Output:
"RTN","DVB458P1",113,0)
 ;    Function result - 1 on success, 0 on failure
"RTN","DVB458P1",114,0)
 ;
"RTN","DVB458P1",115,0)
 ; New Fields created:
"RTN","DVB458P1",116,0)
 ; (#20) RELATED ICD9 CODES - ICD;0 POINTER Multiple (#31.01)
"RTN","DVB458P1",117,0)
 ;   (#31.01) -- RELATED ICD9 CODES SUB-FILE
"RTN","DVB458P1",118,0)
 ;    Field(s):
"RTN","DVB458P1",119,0)
 ;    .01 RELATED ICD9 CODES - 0;1 POINTER TO ICD DIAGNOSIS FILE (#80)
"RTN","DVB458P1",120,0)
 ;    .02 ICD9 MATCH - 0;2 SET ('0' FOR PARTIAL MATCH; '1' FOR MATCH;)
"RTN","DVB458P1",121,0)
 ;
"RTN","DVB458P1",122,0)
 N DVBERR,DVBFDA,DVBRSLT
"RTN","DVB458P1",123,0)
 S DVBRSLT=0
"RTN","DVB458P1",124,0)
 ;
"RTN","DVB458P1",125,0)
 I $G(DVBIEN),$G(DVBICDEN),$G(DVBMATCH)]"" D
"RTN","DVB458P1",126,0)
 . K DVBFDA,DVBERR
"RTN","DVB458P1",127,0)
 . S DVBFDA(31,"?+1,",.01)=DVBIEN
"RTN","DVB458P1",128,0)
 . S DVBFDA(31.01,"+2,?+1,",.01)=DVBICDEN
"RTN","DVB458P1",129,0)
 . S DVBFDA(31.01,"+2,?+1,",.02)=DVBMATCH
"RTN","DVB458P1",130,0)
 . D UPDATE^DIE("","DVBFDA","","DVBERR")
"RTN","DVB458P1",131,0)
 . S:'$D(DVBERR) DVBRSLT=1
"RTN","DVB458P1",132,0)
 Q DVBRSLT
"RTN","DVB458P1",133,0)
 ;
"RTN","DVB458P1",134,0)
 ;
"RTN","DVB458P1",135,0)
 ;FOR TESTING ONLY
"RTN","DVB458P1",136,0)
DELETE ;delete (#20) field sub-file (#31.01) ICD9 entries
"RTN","DVB458P1",137,0)
 ;
"RTN","DVB458P1",138,0)
 N DVBIEN,CNT
"RTN","DVB458P1",139,0)
 N DA,DIC,DIK,X,Y
"RTN","DVB458P1",140,0)
 ;
"RTN","DVB458P1",141,0)
 ;delete all ICD9 entries first
"RTN","DVB458P1",142,0)
 S (CNT,DVBIEN)=0
"RTN","DVB458P1",143,0)
 F  S DVBIEN=$O(^DIC(31,DVBIEN)) Q:DVBIEN=""  D
"RTN","DVB458P1",144,0)
 . I $O(^DIC(31,DVBIEN,"ICD",0)) D
"RTN","DVB458P1",145,0)
 . . S DA(1)=DVBIEN,DIK="^DIC(31,"_DA(1)_",""ICD"",",DA=0,CNT=CNT+1
"RTN","DVB458P1",146,0)
 . . I CNT=1 D BMES^XPDUTL("  >>> *** Removing data from field #20 in the DISABILITY CONDITION (#31) file... "),MES^XPDUTL("  ")
"RTN","DVB458P1",147,0)
 . . F  S DA=$O(^DIC(31,DA(1),"ICD",DA)) Q:'DA  D ^DIK
"RTN","DVB458P1",148,0)
 . . ;
"RTN","DVB458P1",149,0)
 . . ;now kill the (#20) RELATED ICD9 CODES field node
"RTN","DVB458P1",150,0)
 . . I '$O(^DIC(31,DA(1),"ICD",0)) K ^DIC(31,DA(1),"ICD",0)
"RTN","DVB458P1",151,0)
 Q
"RTN","DVB458P1",152,0)
 ;
"RTN","DVB458P1",153,0)
 ;
"RTN","DVB458P1",154,0)
 ;NOTE:
"RTN","DVB458P1",155,0)
 ;The DISABILITY CONDITION FILE (#31) will have a new multiple field
"RTN","DVB458P1",156,0)
 ;added that will contain the Rated Disabilities (VA) field DX CODE
"RTN","DVB458P1",157,0)
 ;mapping of a specific ICD9 diagnosis code and a Match code value.
"RTN","DVB458P1",158,0)
 ;
"RTN","DVB458P1",159,0)
 ; New Fields created:
"RTN","DVB458P1",160,0)
 ; (#20) RELATED ICD9 CODES - ICD;0 POINTER Multiple (#31.01)
"RTN","DVB458P1",161,0)
 ;   (#31.01) -- RELATED ICD9 CODES SUB-FILE
"RTN","DVB458P1",162,0)
 ;    Field(s):
"RTN","DVB458P1",163,0)
 ;    .01 RELATED ICD9 CODES - 0;1 POINTER TO ICD DIAGNOSIS FILE (#80)
"RTN","DVB458P1",164,0)
 ;    .02 ICD9 MATCH - 0;2 SET ('0' FOR PARTIAL MATCH; '1' FOR MATCH;)
"RTN","DVB458P1",165,0)
 ;
"RTN","DVB458P1",166,0)
 ;The following TEXT lines are a combination of a single 4 digit VBA
"RTN","DVB458P1",167,0)
 ;rated disabilities code (DX CODE) on one line followed by on the
"RTN","DVB458P1",168,0)
 ;next sequential line(s), all of the related ICD9 DIAGNOSIS codes
"RTN","DVB458P1",169,0)
 ;that are to be mapped together.  Each IDC9 code also has a (1/0)
"RTN","DVB458P1",170,0)
 ;match value that will be filed with it.
"RTN","DVB458P1",171,0)
 ;
"RTN","DVB458P1",172,0)
 ;Example:
"RTN","DVB458P1",173,0)
 ;   ;;5000  = a single (VBA) Rated Disabilities (VA) DX CODE
"RTN","DVB458P1",174,0)
 ;   ;;003.24~1^376.03~1^730.00~1^... = string of ICD9 DIAGNOSIS CODES
"RTN","DVB458P1",175,0)
 ;                                      (delimited by (^) up-arrow)
"RTN","DVB458P1",176,0)
 ;   Each (^) piece contains 2 pieces of data delimited by (~):
"RTN","DVB458P1",177,0)
 ;     $P(1) = a single ICD9 diagnosis code
"RTN","DVB458P1",178,0)
 ;     $P(2) = (1/0) match code value
"RTN","DVB458P1",179,0)
 ;
"RTN","DVB458P1",180,0)
 ;   Note: If the TEXT line ends with a (;) semi-colon, this means the
"RTN","DVB458P1",181,0)
 ;         next sequential line is associated with the same DX CODE.
"RTN","DVB458P1",182,0)
 ;         (No sequential line(s) are carried over to the next
"RTN","DVB458P1",183,0)
 ;          post-install Routine.)
"RTN","DVB458P1",184,0)
 ;
"RTN","DVB458P1",185,0)
TEXT ;;5000
"RTN","DVB458P1",186,0)
 ;;003.24~0^376.03~0^730.00~0^730.01~0^730.02~0^730.03~0^730.04~0^730.05~0^730.06~0^730.07~0^730.08~0^730.09~1^730.10~0^730.11~0^730.12~0^730.13~0^730.14~0^730.15~0^730.16~0^730.17~0^730.18~0^730.19~1^;
"RTN","DVB458P1",187,0)
 ;;730.20~0^730.21~0^730.22~0^730.23~0^730.24~0^730.25~0^730.26~0^730.27~0^730.28~0^730.29~1
"RTN","DVB458P1",188,0)
 ;;5001
"RTN","DVB458P1",189,0)
 ;;015.00~0^015.01~0^015.02~0^015.03~0^015.04~0^015.05~0^015.06~0^015.10~0^015.11~0^015.12~0^015.13~0^015.14~0^015.15~0^015.16~0^015.20~0^015.21~0^015.22~0^015.23~0^015.24~0^015.25~0^015.26~0^015.50~0^;
"RTN","DVB458P1",190,0)
 ;;015.51~0^015.52~0^015.53~0^015.54~0^015.55~0^015.56~0^015.60~0^015.61~0^015.62~0^015.63~0^015.64~0^015.65~0^015.66~0^015.70~0^015.71~0^015.72~0^015.73~0^015.74~0^015.75~0^015.76~0^015.80~0^015.81~0^;
"RTN","DVB458P1",191,0)
 ;;015.82~0^015.83~0^015.84~0^015.85~0^015.86~0^015.90~0^015.91~0^015.92~0^015.93~0^015.94~0^015.95~0^015.96~0
"RTN","DVB458P1",192,0)
 ;;5002
"RTN","DVB458P1",193,0)
 ;;714.0~0^714.1~0^714.2~0^714.30~0^714.31~0^714.32~0^714.33~0^714.4~0
"RTN","DVB458P1",194,0)
 ;;5003
"RTN","DVB458P1",195,0)
 ;;715.00~0^715.04~0^715.09~0^715.10~0^715.11~0^715.12~0^715.13~0^715.14~0^715.15~0^715.16~0^715.17~0^715.18~0^715.20~0^715.21~0^715.22~0^715.23~0^715.24~0^715.25~0^715.26~0^715.27~0^715.28~0^715.30~0^;
"RTN","DVB458P1",196,0)
 ;;715.31~0^715.32~0^715.33~0^715.34~0^715.35~0^715.36~0^715.37~0^715.38~0^715.80~0^715.89~0^715.90~0^715.91~0^715.92~0^715.93~0^715.94~0^715.95~0^715.96~0^715.97~0^715.98~0
"RTN","DVB458P1",197,0)
 ;;5004
"RTN","DVB458P1",198,0)
 ;;098.50~0
"RTN","DVB458P1",199,0)
 ;;$EXIT
"RTN","DVB458P2")
0^3^B71594347
"RTN","DVB458P2",1,0)
DVB458P2 ;ALB/RBS - POST-INSTALL FOR PATCH DVB*4*58 (CONT.) ; 1/3/07 2:18pm
"RTN","DVB458P2",2,0)
 ;;4.0;HINQ;**58**;03/25/92;Build 29
"RTN","DVB458P2",3,0)
 ;
"RTN","DVB458P2",4,0)
 Q  ;no direct entry
"RTN","DVB458P2",5,0)
 ;
"RTN","DVB458P2",6,0)
 ;
"RTN","DVB458P2",7,0)
 ;NOTE:
"RTN","DVB458P2",8,0)
 ;The following TEXT lines are a combination of a single 4 digit VBA
"RTN","DVB458P2",9,0)
 ;rated disabilities code (DX CODE) on one line followed by on the
"RTN","DVB458P2",10,0)
 ;next sequential line(s), all of the related ICD9 DIAGNOSIS codes
"RTN","DVB458P2",11,0)
 ;that are to be mapped together.  Each IDC9 code also has a (1/0)
"RTN","DVB458P2",12,0)
 ;match value that will be filed with it.
"RTN","DVB458P2",13,0)
 ;
"RTN","DVB458P2",14,0)
 ;Example:
"RTN","DVB458P2",15,0)
 ;   ;;5000  = a single (VBA) Rated Disabilities (VA) DX CODE
"RTN","DVB458P2",16,0)
 ;   ;;003.24~1^376.03~1^730.00~1^... = string of ICD9 DIAGNOSIS CODES
"RTN","DVB458P2",17,0)
 ;                                      (delimited by (^) up-arrow)
"RTN","DVB458P2",18,0)
 ;   Each (^) piece contains 2 pieces of data delimited by (~):
"RTN","DVB458P2",19,0)
 ;     $P(1) = a single ICD9 diagnosis code
"RTN","DVB458P2",20,0)
 ;     $P(2) = (1/0) match code value
"RTN","DVB458P2",21,0)
 ;
"RTN","DVB458P2",22,0)
 ;   Note: If the TEXT line ends with a (;) semi-colon, this means the
"RTN","DVB458P2",23,0)
 ;         next sequential line is associated with the same DX CODE.
"RTN","DVB458P2",24,0)
 ;         (No sequential line(s) are carried over to the next
"RTN","DVB458P2",25,0)
 ;          post-install Routine.)
"RTN","DVB458P2",26,0)
 ;
"RTN","DVB458P2",27,0)
TEXT ;;5005
"RTN","DVB458P2",28,0)
 ;;041.2~0^711.00~0^711.01~0^711.02~0^711.03~0^711.04~0^711.05~0^711.06~0^711.07~0^711.08~0^711.09~0
"RTN","DVB458P2",29,0)
 ;;5006
"RTN","DVB458P2",30,0)
 ;;002.0~0^711.00~0^711.01~0^711.02~0^711.03~0^711.04~0^711.05~0^711.06~0^711.07~0^711.08~0^711.09~0
"RTN","DVB458P2",31,0)
 ;;5007
"RTN","DVB458P2",32,0)
 ;;094.0~0^713.5~0
"RTN","DVB458P2",33,0)
 ;;5008
"RTN","DVB458P2",34,0)
 ;;041.00~0^041.01~0^041.02~0^041.03~0^041.04~0^041.05~0^041.09~0^711.00~0^711.01~0^711.02~0^711.03~0^711.04~0^711.05~0^711.06~0^711.07~0^711.08~0^711.09~0
"RTN","DVB458P2",35,0)
 ;;5009
"RTN","DVB458P2",36,0)
 ;;003.23~0^036.82~0^056.71~0^711.11~0^711.12~0^711.13~0^711.14~0^711.15~0^711.16~0^711.17~0^711.18~0^711.19~0^711.31~0^711.32~0^711.33~0^711.34~0^711.35~0^711.36~0^711.37~0^711.38~0^711.39~0^711.41~0^;
"RTN","DVB458P2",37,0)
 ;;711.42~0^711.43~0^711.44~0^711.45~0^711.46~0^711.47~0^711.48~0^711.49~0^711.51~0^711.52~0^711.53~0^711.54~0^711.55~0^711.56~0^711.57~0^711.58~0^711.59~0^711.91~0^711.92~0^711.93~0^711.94~0^711.95~0^;
"RTN","DVB458P2",38,0)
 ;;711.96~0^711.97~0^711.98~0^711.99~0^716.38~0
"RTN","DVB458P2",39,0)
 ;;5010
"RTN","DVB458P2",40,0)
 ;;716.10~0^716.11~0^716.12~0^716.13~0^716.14~0^716.15~0^716.16~0^716.17~0^716.18~0^716.19~1
"RTN","DVB458P2",41,0)
 ;;5011
"RTN","DVB458P2",42,0)
 ;;993.3~1
"RTN","DVB458P2",43,0)
 ;;5012
"RTN","DVB458P2",44,0)
 ;;160.0~0^170.0~0^170.1~0^170.2~0^170.3~0^170.4~0^170.5~0^170.6~0^170.7~0^170.8~0^170.9~0^198.5~0
"RTN","DVB458P2",45,0)
 ;;5014
"RTN","DVB458P2",46,0)
 ;;268.2~1
"RTN","DVB458P2",47,0)
 ;;5015
"RTN","DVB458P2",48,0)
 ;;212.0~0^213.0~0^213.1~0^213.2~0^213.3~0^213.4~0^213.5~0^213.6~0^213.7~0^213.8~0^213.9~0^376.42~0^726.91~0
"RTN","DVB458P2",49,0)
 ;;5016
"RTN","DVB458P2",50,0)
 ;;731.0~0^731.1~0
"RTN","DVB458P2",51,0)
 ;;5017
"RTN","DVB458P2",52,0)
 ;;274.0~1^274.82~1^274.89~1^274.9~1
"RTN","DVB458P2",53,0)
 ;;5018
"RTN","DVB458P2",54,0)
 ;;719.30~0^719.31~0^719.32~0^719.33~0^719.34~0^719.35~0^719.36~0^719.37~0^719.38~0^719.39~0
"RTN","DVB458P2",55,0)
 ;;5019
"RTN","DVB458P2",56,0)
 ;;095.7~0^098.52~0^726.33~0^726.61~0^726.62~0^726.63~0^726.65~0^727.2~0^727.3~0
"RTN","DVB458P2",57,0)
 ;;5020
"RTN","DVB458P2",58,0)
 ;;095.7~0^098.51~0^719.20~0^719.21~0^719.22~0^719.23~0^719.24~0^719.25~0^719.26~0^719.27~0^719.28~0^719.29~0^727.00~0^727.03~0^727.04~0^727.05~0^727.06~0^727.09~0
"RTN","DVB458P2",59,0)
 ;;5021
"RTN","DVB458P2",60,0)
 ;;040.81~0^095.6~0^710.4~0^728.0~0^728.81~0^729.1~0
"RTN","DVB458P2",61,0)
 ;;5022
"RTN","DVB458P2",62,0)
 ;;091.61~0^376.02~0^730.30~0^730.31~0^730.32~0^730.33~0^730.34~0^730.35~0^730.36~0^730.37~0^730.38~0^730.39~0
"RTN","DVB458P2",63,0)
 ;;5023
"RTN","DVB458P2",64,0)
 ;;728.10~0^728.11~0^728.12~0^728.13~0^728.19~0
"RTN","DVB458P2",65,0)
 ;;5024
"RTN","DVB458P2",66,0)
 ;;098.51~0^726.11~0^726.61~0^726.62~0^726.63~0^726.64~0^726.65~0^726.72~0^727.03~0^727.04~0^727.05~0^727.06~0^727.09~0
"RTN","DVB458P2",67,0)
 ;;5025
"RTN","DVB458P2",68,0)
 ;;729.1~1
"RTN","DVB458P2",69,0)
 ;;5051
"RTN","DVB458P2",70,0)
 ;;996.40~0^996.41~0^996.42~0^996.43~0^996.44~0^996.45~0^996.46~0^996.47~0^996.49~0^996.66~0^996.77~0^V43.61~0
"RTN","DVB458P2",71,0)
 ;;5052
"RTN","DVB458P2",72,0)
 ;;996.40~0^996.41~0^996.42~0^996.43~0^996.44~0^996.45~0^996.46~0^996.47~0^996.49~0^996.66~0^996.77~0^V43.62~0
"RTN","DVB458P2",73,0)
 ;;5053
"RTN","DVB458P2",74,0)
 ;;996.40~0^996.41~0^996.42~0^996.43~0^996.44~0^996.45~0^996.46~0^996.47~0^996.49~0^996.66~0^996.77~0^V43.63~0
"RTN","DVB458P2",75,0)
 ;;5054
"RTN","DVB458P2",76,0)
 ;;996.40~0^996.41~0^996.42~0^996.43~0^996.44~0^996.45~0^996.46~0^996.47~0^996.49~0^996.66~0^996.77~0^V43.64~0
"RTN","DVB458P2",77,0)
 ;;5055
"RTN","DVB458P2",78,0)
 ;;996.40~0^996.41~0^996.42~0^996.43~0^996.44~0^996.45~0^996.46~0^996.47~0^996.49~0^996.66~0^996.77~0^V43.65~0
"RTN","DVB458P2",79,0)
 ;;5056
"RTN","DVB458P2",80,0)
 ;;996.40~0^996.41~0^996.42~0^996.43~0^996.44~0^996.45~0^996.46~0^996.47~0^996.49~0^996.66~0^996.77~0^V43.66~0
"RTN","DVB458P2",81,0)
 ;;5106
"RTN","DVB458P2",82,0)
 ;;887.6~1^887.7~1
"RTN","DVB458P2",83,0)
 ;;5107
"RTN","DVB458P2",84,0)
 ;;896.2~1^896.3~1
"RTN","DVB458P2",85,0)
 ;;5108
"RTN","DVB458P2",86,0)
 ;;887.0~0^887.1~0^887.2~0^887.3~0^887.4~0^887.5~0^896.0~0^896.1~0^V49.63~0^V49.73~0
"RTN","DVB458P2",87,0)
 ;;5120
"RTN","DVB458P2",88,0)
 ;;V49.67~0
"RTN","DVB458P2",89,0)
 ;;5171
"RTN","DVB458P2",90,0)
 ;;V49.71~0
"RTN","DVB458P2",91,0)
 ;;5172
"RTN","DVB458P2",92,0)
 ;;V49.72~0
"RTN","DVB458P2",93,0)
 ;;5173
"RTN","DVB458P2",94,0)
 ;;V49.72~0
"RTN","DVB458P2",95,0)
 ;;5200
"RTN","DVB458P2",96,0)
 ;;718.51~0
"RTN","DVB458P2",97,0)
 ;;5201
"RTN","DVB458P2",98,0)
 ;;719.51~0
"RTN","DVB458P2",99,0)
 ;;5202
"RTN","DVB458P2",100,0)
 ;;718.31~0^718.81~0
"RTN","DVB458P2",101,0)
 ;;5205
"RTN","DVB458P2",102,0)
 ;;718.52~0
"RTN","DVB458P2",103,0)
 ;;5206
"RTN","DVB458P2",104,0)
 ;;718.42~0
"RTN","DVB458P2",105,0)
 ;;5207
"RTN","DVB458P2",106,0)
 ;;718.42~0
"RTN","DVB458P2",107,0)
 ;;5214
"RTN","DVB458P2",108,0)
 ;;718.53~0
"RTN","DVB458P2",109,0)
 ;;5215
"RTN","DVB458P2",110,0)
 ;;718.43~0
"RTN","DVB458P2",111,0)
 ;;5236
"RTN","DVB458P2",112,0)
 ;;724.6~1
"RTN","DVB458P2",113,0)
 ;;5238
"RTN","DVB458P2",114,0)
 ;;723.0~0^724.00~0^724.01~0^724.02~0^724.09~0
"RTN","DVB458P2",115,0)
 ;;5239
"RTN","DVB458P2",116,0)
 ;;738.4~0
"RTN","DVB458P2",117,0)
 ;;5240
"RTN","DVB458P2",118,0)
 ;;720.0~0
"RTN","DVB458P2",119,0)
 ;;5242
"RTN","DVB458P2",120,0)
 ;;721.0~0^721.2~0^721.3~0^721.6~0^721.7~0^721.90~0
"RTN","DVB458P2",121,0)
 ;;5243
"RTN","DVB458P2",122,0)
 ;;722.70~0^722.71~0^722.72~0^722.73~0
"RTN","DVB458P2",123,0)
 ;;5250
"RTN","DVB458P2",124,0)
 ;;718.55~1
"RTN","DVB458P2",125,0)
 ;;5254
"RTN","DVB458P2",126,0)
 ;;718.85~1
"RTN","DVB458P2",127,0)
 ;;5255
"RTN","DVB458P2",128,0)
 ;;733.81~0^733.82~0^905.3~0
"RTN","DVB458P2",129,0)
 ;;5256
"RTN","DVB458P2",130,0)
 ;;718.56~0
"RTN","DVB458P2",131,0)
 ;;5257
"RTN","DVB458P2",132,0)
 ;;718.36~0^718.86~0
"RTN","DVB458P2",133,0)
 ;;5258
"RTN","DVB458P2",134,0)
 ;;718.36~0^836.0~0^836.1~0^836.2~0
"RTN","DVB458P2",135,0)
 ;;5260
"RTN","DVB458P2",136,0)
 ;;718.46~0
"RTN","DVB458P2",137,0)
 ;;5261
"RTN","DVB458P2",138,0)
 ;;718.46~0
"RTN","DVB458P2",139,0)
 ;;5263
"RTN","DVB458P2",140,0)
 ;;736.5~0
"RTN","DVB458P2",141,0)
 ;;5275
"RTN","DVB458P2",142,0)
 ;;736.81~0
"RTN","DVB458P2",143,0)
 ;;5276
"RTN","DVB458P2",144,0)
 ;;734.~0
"RTN","DVB458P2",145,0)
 ;;5278
"RTN","DVB458P2",146,0)
 ;;736.74~0
"RTN","DVB458P2",147,0)
 ;;5279
"RTN","DVB458P2",148,0)
 ;;355.6~0
"RTN","DVB458P2",149,0)
 ;;5280
"RTN","DVB458P2",150,0)
 ;;735.0~0
"RTN","DVB458P2",151,0)
 ;;5281
"RTN","DVB458P2",152,0)
 ;;735.2~0
"RTN","DVB458P2",153,0)
 ;;5282
"RTN","DVB458P2",154,0)
 ;;735.3~0^735.4~0
"RTN","DVB458P2",155,0)
 ;;5324
"RTN","DVB458P2",156,0)
 ;;551.3~1^552.3~1^553.3~1
"RTN","DVB458P2",157,0)
 ;;5329
"RTN","DVB458P2",158,0)
 ;;176.1~1
"RTN","DVB458P2",159,0)
 ;;6000
"RTN","DVB458P2",160,0)
 ;;053.22~0^054.44~0^091.50~0^098.41~0^360.11~0^360.12~0^363.21~0^364.00~0^364.01~0^364.02~0^364.03~0^364.04~0^364.10~0^364.11~0^364.23~0^364.24~0^364.3~0
"RTN","DVB458P2",161,0)
 ;;6001
"RTN","DVB458P2",162,0)
 ;;054.42~0^054.43~0^090.3~0^264.3~0^370.20~0^370.21~0^370.22~0^370.23~0^370.24~0^370.44~0^370.50~0^370.52~0^370.54~0^370.59~0^370.8~0^370.9~0
"RTN","DVB458P2",163,0)
 ;;6002
"RTN","DVB458P2",164,0)
 ;;095.0~0^379.00~0^379.01~0^379.02~0^379.03~0^379.05~0^379.06~0^379.07~0^379.09~0
"RTN","DVB458P2",165,0)
 ;;6004
"RTN","DVB458P2",166,0)
 ;;364.21~0
"RTN","DVB458P2",167,0)
 ;;6006
"RTN","DVB458P2",168,0)
 ;;115.02~0^115.12~0^115.92~0^130.2~0^362.74~0^363.00~0^363.01~0^363.03~0^363.04~0^363.05~0^363.06~0^363.07~0^363.08~0^363.10~0^363.11~0^363.12~0^363.13~0^363.14~0^363.15~0^363.20~0
"RTN","DVB458P2",169,0)
 ;;6007
"RTN","DVB458P2",170,0)
 ;;360.43~0^362.81~0^364.41~0^871.0~0^871.1~0^871.4~0^871.9~0^921.2~0^921.3~0
"RTN","DVB458P2",171,0)
 ;;6008
"RTN","DVB458P2",172,0)
 ;;361.00~0^361.01~0^361.02~0^361.03~0^361.04~0^361.05~0^361.06~0^361.07~0^361.2~0^361.81~0^361.89~0^362.41~0^362.42~0^362.43~0
"RTN","DVB458P2",173,0)
 ;;6010
"RTN","DVB458P2",174,0)
 ;;017.30~0^017.31~0^017.32~0^017.33~0^017.34~0^017.35~0^017.36~0
"RTN","DVB458P2",175,0)
 ;;6011
"RTN","DVB458P2",176,0)
 ;;362.31~0^362.35~0^363.32~0^363.33~0
"RTN","DVB458P2",177,0)
 ;;6012
"RTN","DVB458P2",178,0)
 ;;365.20~0^365.21~0^365.22~0^365.23~0^365.24~0^365.41~0^365.43~0^365.44~0^365.52~0^365.59~0^365.61~0^365.62~0^365.63~0^365.64~0^365.65~0^365.81~0^365.83~0
"RTN","DVB458P2",179,0)
 ;;6013
"RTN","DVB458P2",180,0)
 ;;365.10~0^365.11~0^365.12~0^365.13~0^365.15~0^365.31~0^365.32~0^365.51~0^365.82~0
"RTN","DVB458P2",181,0)
 ;;6014
"RTN","DVB458P2",182,0)
 ;;190.0~0^234.0~0
"RTN","DVB458P2",183,0)
 ;;6015
"RTN","DVB458P2",184,0)
 ;;224.0~0^224.1~0^224.2~0^224.3~0^224.4~0^224.5~0^224.6~0^224.7~0^224.9~0^228.03~0
"RTN","DVB458P2",185,0)
 ;;6016
"RTN","DVB458P2",186,0)
 ;;379.50~0^379.53~0^379.54~0^379.55~0^379.56~0^386.2~0
"RTN","DVB458P2",187,0)
 ;;6017
"RTN","DVB458P2",188,0)
 ;;076.0~0^076.1~0^076.9~0
"RTN","DVB458P2",189,0)
 ;;6018
"RTN","DVB458P2",190,0)
 ;;372.10~0^372.11~0^372.12~0^372.13~0^372.14~0^372.15~0
"RTN","DVB458P2",191,0)
 ;;6019
"RTN","DVB458P2",192,0)
 ;;374.30~0^374.31~0^374.32~0^374.33~0
"RTN","DVB458P2",193,0)
 ;;6020
"RTN","DVB458P2",194,0)
 ;;374.10~0^374.11~0^374.12~0^374.13~0^374.14~0
"RTN","DVB458P2",195,0)
 ;;6021
"RTN","DVB458P2",196,0)
 ;;374.00~0^374.01~0^374.02~0^374.03~0^374.04~0
"RTN","DVB458P2",197,0)
 ;;6022
"RTN","DVB458P2",198,0)
 ;;374.20~0^374.21~0^374.22~0^374.23~0
"RTN","DVB458P2",199,0)
 ;;6025
"RTN","DVB458P2",200,0)
 ;;375.20~0^375.21~0^375.22~0
"RTN","DVB458P2",201,0)
 ;;6026
"RTN","DVB458P2",202,0)
 ;;036.81~0^341.0~0^377.30~0^377.32~0^377.33~0^377.34~0^377.39~0^377.41~0
"RTN","DVB458P2",203,0)
 ;;6027
"RTN","DVB458P2",204,0)
 ;;366.20~0^366.21~0^366.23~0^366.45~0^366.46~0
"RTN","DVB458P2",205,0)
 ;;6028
"RTN","DVB458P2",206,0)
 ;;366.10~0^366.11~0^366.12~0^366.13~0^366.14~0^366.15~0^366.16~0^366.17~0^366.18~0^366.19~0^366.30~0^366.31~0^366.32~0^366.33~0^366.34~0^366.41~0^366.42~0^366.43~0^366.44~0^366.50~0^366.51~0^366.52~0^;
"RTN","DVB458P2",207,0)
 ;;366.53~0^366.8~0^366.9~0
"RTN","DVB458P2",208,0)
 ;;6029
"RTN","DVB458P2",209,0)
 ;;379.31~0
"RTN","DVB458P2",210,0)
 ;;6030
"RTN","DVB458P2",211,0)
 ;;367.51~0
"RTN","DVB458P2",212,0)
 ;;6031
"RTN","DVB458P2",213,0)
 ;;375.30~0^375.31~0^375.32~0^375.33~0^375.41~0^375.42~0
"RTN","DVB458P2",214,0)
 ;;6033
"RTN","DVB458P2",215,0)
 ;;379.32~0^379.33~0^379.34~0
"RTN","DVB458P2",216,0)
 ;;6034
"RTN","DVB458P2",217,0)
 ;;372.40~0^372.41~0^372.42~0^372.43~0^372.44~0^372.45~0
"RTN","DVB458P2",218,0)
 ;;6035
"RTN","DVB458P2",219,0)
 ;;371.60~0^371.61~0^371.62~0
"RTN","DVB458P2",220,0)
 ;;6062
"RTN","DVB458P2",221,0)
 ;;369.04~1
"RTN","DVB458P2",222,0)
 ;;6063
"RTN","DVB458P2",223,0)
 ;;369.06~0^V45.78~0
"RTN","DVB458P2",224,0)
 ;;6066
"RTN","DVB458P2",225,0)
 ;;369.62~0^V45.78~0
"RTN","DVB458P2",226,0)
 ;;6067
"RTN","DVB458P2",227,0)
 ;;369.07~1
"RTN","DVB458P2",228,0)
 ;;6068
"RTN","DVB458P2",229,0)
 ;;369.13~1
"RTN","DVB458P2",230,0)
 ;;6069
"RTN","DVB458P2",231,0)
 ;;369.17~1^369.62~1
"RTN","DVB458P2",232,0)
 ;;6070
"RTN","DVB458P2",233,0)
 ;;369.62~1
"RTN","DVB458P2",234,0)
 ;;6071
"RTN","DVB458P2",235,0)
 ;;369.08~1
"RTN","DVB458P2",236,0)
 ;;6072
"RTN","DVB458P2",237,0)
 ;;369.14~1
"RTN","DVB458P2",238,0)
 ;;6073
"RTN","DVB458P2",239,0)
 ;;369.18~1^369.68~1
"RTN","DVB458P2",240,0)
 ;;6074
"RTN","DVB458P2",241,0)
 ;;369.68~1
"RTN","DVB458P2",242,0)
 ;;6078
"RTN","DVB458P2",243,0)
 ;;369.75~1
"RTN","DVB458P2",244,0)
 ;;6080
"RTN","DVB458P2",245,0)
 ;;368.45~1^368.46~1^368.47~1
"RTN","DVB458P2",246,0)
 ;;6081
"RTN","DVB458P2",247,0)
 ;;368.41~1^368.42~1^368.43~1
"RTN","DVB458P2",248,0)
 ;;6090
"RTN","DVB458P2",249,0)
 ;;368.2~1
"RTN","DVB458P2",250,0)
 ;;6091
"RTN","DVB458P2",251,0)
 ;;372.63~0
"RTN","DVB458P2",252,0)
 ;;6092
"RTN","DVB458P2",253,0)
 ;;368.2~1
"RTN","DVB458P2",254,0)
 ;;6100
"RTN","DVB458P2",255,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P2",256,0)
 ;;6200
"RTN","DVB458P2",257,0)
 ;;382.1~0^382.2~0^382.3~0
"RTN","DVB458P2",258,0)
 ;;6201
"RTN","DVB458P2",259,0)
 ;;381.10~0^381.19~0^381.3~0
"RTN","DVB458P2",260,0)
 ;;6202
"RTN","DVB458P2",261,0)
 ;;387.0~0^387.1~0^387.2~0^387.8~0^387.9~0^387.0~0
"RTN","DVB458P2",262,0)
 ;;6204
"RTN","DVB458P2",263,0)
 ;;078.81~1^386.10~1^386.11~1^386.12~1^386.19~1^780.4~0^078.81~1
"RTN","DVB458P2",264,0)
 ;;$EXIT
"RTN","DVB458P3")
0^4^B85058690
"RTN","DVB458P3",1,0)
DVB458P3 ;ALB/RBS - POST-INSTALL FOR PATCH DVB*4*58 (CONT.) ; 1/3/07 2:19pm
"RTN","DVB458P3",2,0)
 ;;4.0;HINQ;**58**;03/25/92;Build 29
"RTN","DVB458P3",3,0)
 ;
"RTN","DVB458P3",4,0)
 Q  ;no direct entry
"RTN","DVB458P3",5,0)
 ;
"RTN","DVB458P3",6,0)
 ;
"RTN","DVB458P3",7,0)
 ;NOTE:
"RTN","DVB458P3",8,0)
 ;The following TEXT lines are a combination of a single 4 digit VBA
"RTN","DVB458P3",9,0)
 ;rated disabilities code (DX CODE) on one line followed by on the
"RTN","DVB458P3",10,0)
 ;next sequential line(s), all of the related ICD9 DIAGNOSIS codes
"RTN","DVB458P3",11,0)
 ;that are to be mapped together.  Each IDC9 code also has a (1/0)
"RTN","DVB458P3",12,0)
 ;match value that will be filed with it.
"RTN","DVB458P3",13,0)
 ;
"RTN","DVB458P3",14,0)
 ;Example:
"RTN","DVB458P3",15,0)
 ;   ;;5000  = a single (VBA) Rated Disabilities (VA) DX CODE
"RTN","DVB458P3",16,0)
 ;   ;;003.24~1^376.03~1^730.00~1^... = string of ICD9 DIAGNOSIS CODES
"RTN","DVB458P3",17,0)
 ;                                      (delimited by (^) up-arrow)
"RTN","DVB458P3",18,0)
 ;   Each (^) piece contains 2 pieces of data delimited by (~):
"RTN","DVB458P3",19,0)
 ;     $P(1) = a single ICD9 diagnosis code
"RTN","DVB458P3",20,0)
 ;     $P(2) = (1/0) match code value
"RTN","DVB458P3",21,0)
 ;
"RTN","DVB458P3",22,0)
 ;   Note: If the TEXT line ends with a (;) semi-colon, this means the
"RTN","DVB458P3",23,0)
 ;         next sequential line is associated with the same DX CODE.
"RTN","DVB458P3",24,0)
 ;         (No sequential line(s) are carried over to the next
"RTN","DVB458P3",25,0)
 ;          post-install Routine.)
"RTN","DVB458P3",26,0)
 ;
"RTN","DVB458P3",27,0)
TEXT ;;6205
"RTN","DVB458P3",28,0)
 ;;386.00~1^386.01~1^386.02~1^386.03~1^386.04~1
"RTN","DVB458P3",29,0)
 ;;6208
"RTN","DVB458P3",30,0)
 ;;160.1~0
"RTN","DVB458P3",31,0)
 ;;6210
"RTN","DVB458P3",32,0)
 ;;112.82~0^380.14~0^380.15~0^380.16~0^380.23~0
"RTN","DVB458P3",33,0)
 ;;6211
"RTN","DVB458P3",34,0)
 ;;384.20~0^384.21~0^384.22~0^384.23~0^384.24~0^384.25~0^872.61~0^872.71~0
"RTN","DVB458P3",35,0)
 ;;6260
"RTN","DVB458P3",36,0)
 ;;388.30~1^388.31~1^388.32~1
"RTN","DVB458P3",37,0)
 ;;6300
"RTN","DVB458P3",38,0)
 ;;001.0~1^001.1~1^001.9~1^V06.0~1
"RTN","DVB458P3",39,0)
 ;;6301
"RTN","DVB458P3",40,0)
 ;;085.0~1
"RTN","DVB458P3",41,0)
 ;;6302
"RTN","DVB458P3",42,0)
 ;;030.0~1^030.1~1^030.2~1^030.3~1^030.8~1^030.9~1
"RTN","DVB458P3",43,0)
 ;;6304
"RTN","DVB458P3",44,0)
 ;;084.0~1^084.1~1^084.2~1^084.3~1^084.4~1^084.5~1^084.6~1^084.8~1^084.9~1^647.40~1^647.41~1^647.42~1^647.43~1^647.44~1
"RTN","DVB458P3",45,0)
 ;;6305
"RTN","DVB458P3",46,0)
 ;;125.0~1^125.1~1^125.2~1^125.3~1^125.4~1^125.5~1^125.6~1^125.7~1^125.9~1
"RTN","DVB458P3",47,0)
 ;;6306
"RTN","DVB458P3",48,0)
 ;;088.0~1
"RTN","DVB458P3",49,0)
 ;;6307
"RTN","DVB458P3",50,0)
 ;;020.0~1^020.1~1^020.2~1^020.3~1^020.4~1^020.5~1^020.8~1^020.9~1
"RTN","DVB458P3",51,0)
 ;;6308
"RTN","DVB458P3",52,0)
 ;;087.0~1^087.1~1^087.9~1
"RTN","DVB458P3",53,0)
 ;;6309
"RTN","DVB458P3",54,0)
 ;;390.~1^391.0~1^391.1~1^391.2~1^391.8~1^391.9~1
"RTN","DVB458P3",55,0)
 ;;6310
"RTN","DVB458P3",56,0)
 ;;091.0~1^091.1~1^091.2~1^091.3~1^091.4~1^091.7~1^091.82~1^091.89~1^091.9~1^095.0~1^095.1~1^095.2~1^095.3~1^095.4~1^095.5~1^095.7~1^095.8~1^095.9~1^097.9~1^102.0~1^102.1~1^102.2~1^102.3~1^102.4~1^;
"RTN","DVB458P3",57,0)
 ;;102.5~1^102.6~1^102.7~1^102.9~1^104.0~1
"RTN","DVB458P3",58,0)
 ;;6311
"RTN","DVB458P3",59,0)
 ;;018.00~1^018.01~1^018.02~1^018.03~1^018.04~1^018.05~1^018.06~1^018.80~1^018.81~1^018.82~1^018.83~1^018.84~1^018.85~1^018.86~1^018.90~1^018.91~1^018.92~1^018.93~1^018.94~1^018.95~1^018.96~1
"RTN","DVB458P3",60,0)
 ;;6313
"RTN","DVB458P3",61,0)
 ;;264.8~1^264.9~1
"RTN","DVB458P3",62,0)
 ;;6314
"RTN","DVB458P3",63,0)
 ;;265.0~1
"RTN","DVB458P3",64,0)
 ;;6315
"RTN","DVB458P3",65,0)
 ;;265.2~1
"RTN","DVB458P3",66,0)
 ;;6316
"RTN","DVB458P3",67,0)
 ;;023.0~1^023.1~1^023.2~1^023.3~1^023.8~1^023.9~1
"RTN","DVB458P3",68,0)
 ;;6317
"RTN","DVB458P3",69,0)
 ;;081.2~1
"RTN","DVB458P3",70,0)
 ;;6318
"RTN","DVB458P3",71,0)
 ;;025.~1
"RTN","DVB458P3",72,0)
 ;;6319
"RTN","DVB458P3",73,0)
 ;;088.81~1
"RTN","DVB458P3",74,0)
 ;;6320
"RTN","DVB458P3",75,0)
 ;;120.0~0^120.1~0^120.2~0^120.3~0^120.8~0^120.9~0^121.0~0^121.1~0^121.2~0^121.3~0^121.4~0^121.5~0^121.8~0^121.9~0^122.0~0^122.1~0^122.2~0^122.3~0^122.4~0^122.5~0^122.6~0^122.7~0^122.8~0^122.9~0^124.~0^;
"RTN","DVB458P3",76,0)
 ;;126.0~0^126.1~0^126.2~0^126.3~0^126.8~0^126.9~0^127.1~0^127.2~0^127.3~0^127.5~0^127.6~0^127.7~0^127.8~0^127.9~0^136.8~0
"RTN","DVB458P3",77,0)
 ;;6350
"RTN","DVB458P3",78,0)
 ;;710.0~1
"RTN","DVB458P3",79,0)
 ;;6351
"RTN","DVB458P3",80,0)
 ;;042.~1^079.53~1^795.71~1^V08.~1
"RTN","DVB458P3",81,0)
 ;;6354
"RTN","DVB458P3",82,0)
 ;;780.71~1
"RTN","DVB458P3",83,0)
 ;;6510
"RTN","DVB458P3",84,0)
 ;;473.8~1
"RTN","DVB458P3",85,0)
 ;;6511
"RTN","DVB458P3",86,0)
 ;;473.2~1
"RTN","DVB458P3",87,0)
 ;;6512
"RTN","DVB458P3",88,0)
 ;;473.1~1
"RTN","DVB458P3",89,0)
 ;;6513
"RTN","DVB458P3",90,0)
 ;;473.0~1
"RTN","DVB458P3",91,0)
 ;;6514
"RTN","DVB458P3",92,0)
 ;;473.3~1
"RTN","DVB458P3",93,0)
 ;;6515
"RTN","DVB458P3",94,0)
 ;;012.30~1^012.31~1^012.32~1^012.33~1^012.34~1^012.35~1^012.36~1
"RTN","DVB458P3",95,0)
 ;;6516
"RTN","DVB458P3",96,0)
 ;;476.0~1
"RTN","DVB458P3",97,0)
 ;;6519
"RTN","DVB458P3",98,0)
 ;;784.41~1
"RTN","DVB458P3",99,0)
 ;;6520
"RTN","DVB458P3",100,0)
 ;;478.74~1
"RTN","DVB458P3",101,0)
 ;;6522
"RTN","DVB458P3",102,0)
 ;;477.0~1^477.1~1^477.8~1^477.9~1
"RTN","DVB458P3",103,0)
 ;;6523
"RTN","DVB458P3",104,0)
 ;;040.1~1
"RTN","DVB458P3",105,0)
 ;;6524
"RTN","DVB458P3",106,0)
 ;;117.0~1^472.0~1
"RTN","DVB458P3",107,0)
 ;;6600
"RTN","DVB458P3",108,0)
 ;;491.0~1^491.1~1^491.20~1^491.21~1^491.8~1^491.9~1
"RTN","DVB458P3",109,0)
 ;;6601
"RTN","DVB458P3",110,0)
 ;;011.50~1^011.51~1^011.52~1^011.53~1^011.54~1^011.55~1^011.56~1^494.0~1^494.1~1
"RTN","DVB458P3",111,0)
 ;;6602
"RTN","DVB458P3",112,0)
 ;;493.00~1^493.01~1^493.02~1^493.10~1^493.11~1^493.12~1^493.20~1^493.21~1^493.22~1^493.81~1^493.82~1^493.90~1^493.91~1^493.92~1
"RTN","DVB458P3",113,0)
 ;;6603
"RTN","DVB458P3",114,0)
 ;;492.0~1^492.8~1
"RTN","DVB458P3",115,0)
 ;;6604
"RTN","DVB458P3",116,0)
 ;;496.~1
"RTN","DVB458P3",117,0)
 ;;6704
"RTN","DVB458P3",118,0)
 ;;011.00~1^011.01~1^011.02~1^011.03~1^011.04~1^011.05~1^011.06~1^011.10~1^011.11~1^011.12~1^011.13~1^011.14~1^011.15~1^011.16~1^011.20~1^011.21~1^011.22~1^011.23~1^011.24~1^011.25~1^011.26~1^011.30~1^;
"RTN","DVB458P3",119,0)
 ;;011.31~1^011.32~1^011.33~1^011.34~1^011.35~1^011.36~1^011.40~1^011.41~1^011.42~1^011.43~1^011.44~1^011.45~1^011.46~1^011.50~1^011.51~1^011.52~1^011.53~1^011.54~1^011.55~1^011.56~1^011.60~1^011.61~1^;
"RTN","DVB458P3",120,0)
 ;;011.62~1^011.63~1^011.64~1^011.65~1^011.66~1^011.70~1^011.71~1^011.72~1^011.73~1^011.74~1^011.75~1^011.76~1^011.80~1^011.81~1^011.82~1^011.83~1^011.84~1^011.85~1^011.86~1^011.90~1^011.91~1^011.92~1^;
"RTN","DVB458P3",121,0)
 ;;011.93~1^011.94~1^011.95~1^011.96~1^012.20~1^012.21~1^012.22~1^012.23~1^012.24~1^012.25~1^012.26~1
"RTN","DVB458P3",122,0)
 ;;6724
"RTN","DVB458P3",123,0)
 ;;137.0~0
"RTN","DVB458P3",124,0)
 ;;6730
"RTN","DVB458P3",125,0)
 ;;011.00~1^011.01~1^011.02~1^011.03~1^011.04~1^011.05~1^011.06~1^011.10~1^011.11~1^011.12~1^011.14~1^011.15~1^011.16~1^011.20~1^011.21~1^011.22~1^011.23~1^011.24~1^011.25~1^011.26~1^011.30~1^011.31~1^;
"RTN","DVB458P3",126,0)
 ;;011.32~1^011.33~1^011.34~1^011.35~1^011.36~1^011.40~1^011.41~1^011.42~1^011.43~1^011.44~1^011.45~1^011.46~1^011.50~1^011.51~1^011.52~1^011.53~1^011.54~1^011.55~1^011.56~1^011.60~1^011.61~1^011.62~1^;
"RTN","DVB458P3",127,0)
 ;;011.63~1^011.64~1^011.65~1^011.66~1^011.70~1^011.71~1^011.72~1^011.73~1^011.74~1^011.75~1^011.76~1^011.80~1^011.81~1^011.83~1^011.84~1^011.85~1^011.86~1^011.90~1^011.91~1^011.92~1^011.93~1^011.94~1^;
"RTN","DVB458P3",128,0)
 ;;011.95~1^011.96~1^012.20~1^012.21~1^012.22~1^012.23~1^012.24~1^012.25~1^012.26~1
"RTN","DVB458P3",129,0)
 ;;6732
"RTN","DVB458P3",130,0)
 ;;010.10~1^010.11~1^010.12~1^010.13~1^010.14~1^010.15~1^010.16~1^012.00~1^012.01~1^012.02~1^012.03~1^012.04~1^012.05~1^012.06~1
"RTN","DVB458P3",131,0)
 ;;6817
"RTN","DVB458P3",132,0)
 ;;416.0~1
"RTN","DVB458P3",133,0)
 ;;6819
"RTN","DVB458P3",134,0)
 ;;146.0~0^146.1~0^146.2~0^146.3~0^146.4~0^146.5~0^146.6~0^146.7~0^146.8~0^146.9~0^147.0~0^147.1~0^147.2~0^147.3~0^147.8~0^147.9~0^148.0~0^148.1~0^148.2~0^148.3~0^148.8~0^148.9~0^149.0~0^149.1~0^160.0~0^;
"RTN","DVB458P3",135,0)
 ;;160.1~0^160.2~0^160.3~0^160.4~0^160.5~0^160.8~0^160.9~0^161.0~0^161.1~0^161.8~0^161.9~0^162.0~0^162.2~0^162.3~0^162.4~0^162.5~0^162.8~0^162.9~0^163.0~0^163.1~0^163.8~0^163.9~0^164.2~0^164.3~0^165.0~0^;
"RTN","DVB458P3",136,0)
 ;;165.8~0^165.9~0^197.0~0^197.2~0^197.3~0^231.0~0^231.1~0^231.2~0^231.8~0^231.9~0
"RTN","DVB458P3",137,0)
 ;;6820
"RTN","DVB458P3",138,0)
 ;;212.0~0^212.1~0^212.2~0^212.3~0^212.4~0^212.8~0^212.9~0^214.2~0^471.0~0^471.8~0^471.9~0
"RTN","DVB458P3",139,0)
 ;;6822
"RTN","DVB458P3",140,0)
 ;;039.1~1
"RTN","DVB458P3",141,0)
 ;;6823
"RTN","DVB458P3",142,0)
 ;;039.1~1
"RTN","DVB458P3",143,0)
 ;;6824
"RTN","DVB458P3",144,0)
 ;;006.4~1^513.0~1
"RTN","DVB458P3",145,0)
 ;;6825
"RTN","DVB458P3",146,0)
 ;;515.~1^516.3~1
"RTN","DVB458P3",147,0)
 ;;6827
"RTN","DVB458P3",148,0)
 ;;516.0~1
"RTN","DVB458P3",149,0)
 ;;6829
"RTN","DVB458P3",150,0)
 ;;508.8~0^518.7~1
"RTN","DVB458P3",151,0)
 ;;6830
"RTN","DVB458P3",152,0)
 ;;508.0~1^508.1~1
"RTN","DVB458P3",153,0)
 ;;6831
"RTN","DVB458P3",154,0)
 ;;495.0~1^495.1~1^495.2~1^495.3~1^495.4~1^495.5~1^495.6~1^495.7~1^495.8~1^495.9~1
"RTN","DVB458P3",155,0)
 ;;6832
"RTN","DVB458P3",156,0)
 ;;500.~1^502.~1^503.~1^504.~1^505.~1
"RTN","DVB458P3",157,0)
 ;;6833
"RTN","DVB458P3",158,0)
 ;;501.~1
"RTN","DVB458P3",159,0)
 ;;6834
"RTN","DVB458P3",160,0)
 ;;115.05~1^115.15~1^115.95~1
"RTN","DVB458P3",161,0)
 ;;6835
"RTN","DVB458P3",162,0)
 ;;114.0~1^114.3~1^114.4~1^114.5~1
"RTN","DVB458P3",163,0)
 ;;6836
"RTN","DVB458P3",164,0)
 ;;116.0~1
"RTN","DVB458P3",165,0)
 ;;6837
"RTN","DVB458P3",166,0)
 ;;117.5~1
"RTN","DVB458P3",167,0)
 ;;6838
"RTN","DVB458P3",168,0)
 ;;484.6~1^518.6~1
"RTN","DVB458P3",169,0)
 ;;6839
"RTN","DVB458P3",170,0)
 ;;117.7~1
"RTN","DVB458P3",171,0)
 ;;6840
"RTN","DVB458P3",172,0)
 ;;519.4~0
"RTN","DVB458P3",173,0)
 ;;6844
"RTN","DVB458P3",174,0)
 ;;512.1~1^518.5~0
"RTN","DVB458P3",175,0)
 ;;6845
"RTN","DVB458P3",176,0)
 ;;510.0~1^510.9~1^511.1~1^511.8~1^511.9~1^515.~1
"RTN","DVB458P3",177,0)
 ;;6846
"RTN","DVB458P3",178,0)
 ;;135.~1
"RTN","DVB458P3",179,0)
 ;;6847
"RTN","DVB458P3",180,0)
 ;;327.20~1^327.21~1^327.23~1^327.27~1^327.29~1^780.51~1^780.53~1^780.57~1
"RTN","DVB458P3",181,0)
 ;;7000
"RTN","DVB458P3",182,0)
 ;;394.0~0^394.1~0^394.2~0^394.9~0^395.0~0^395.1~0^395.2~0^395.9~0^396.0~0^396.1~0^396.2~0^396.3~0^396.8~0^396.9~0^397.0~0^397.1~0^397.9~0^424.0~0^424.1~0^424.2~0^424.3~0
"RTN","DVB458P3",183,0)
 ;;7001
"RTN","DVB458P3",184,0)
 ;;036.42~0^074.22~0^098.84~0^112.81~0^115.04~0^115.14~0^115.94~0^421.0~0^421.1~0^421.9~0
"RTN","DVB458P3",185,0)
 ;;7002
"RTN","DVB458P3",186,0)
 ;;036.41~0^074.21~0^098.83~0^115.03~0^115.13~0^115.93~0^391.0~0^393.~0^411.0~0^420.0~0^420.90~0^420.91~0^420.99~0^423.2~0
"RTN","DVB458P3",187,0)
 ;;7003
"RTN","DVB458P3",188,0)
 ;;423.1~0
"RTN","DVB458P3",189,0)
 ;;7004
"RTN","DVB458P3",190,0)
 ;;093.0~1^093.1~1^093.20~1^093.21~1^093.23~1^093.24~1^093.81~1^093.82~1^093.89~1^093.9~1
"RTN","DVB458P3",191,0)
 ;;7005
"RTN","DVB458P3",192,0)
 ;;411.1~1^411.81~1^411.89~1^414.00~1^414.01~1^414.02~1^414.03~1^414.04~1^414.05~1^414.8~0^414.9~0^429.2~1
"RTN","DVB458P3",193,0)
 ;;7006
"RTN","DVB458P3",194,0)
 ;;410.00~1^410.01~1^410.02~1^410.10~1^410.11~1^410.12~1^410.20~1^410.21~1^410.22~1^410.30~1^410.31~1^410.32~1^410.40~1^410.41~1^410.42~1^410.50~1^410.51~1^410.52~1^410.60~1^410.61~1^410.62~1^410.70~1^;
"RTN","DVB458P3",195,0)
 ;;410.71~1^410.72~1^410.80~1^410.81~1^410.82~1^410.90~1^410.91~1^410.92~1
"RTN","DVB458P3",196,0)
 ;;7007
"RTN","DVB458P3",197,0)
 ;;402.00~1^402.01~1^402.10~1^402.11~1
"RTN","DVB458P3",198,0)
 ;;7010
"RTN","DVB458P3",199,0)
 ;;427.0~1^427.31~1^427.32~1^427.61~1
"RTN","DVB458P3",200,0)
 ;;7011
"RTN","DVB458P3",201,0)
 ;;427.41~1^427.42~1^427.69~0
"RTN","DVB458P3",202,0)
 ;;7015
"RTN","DVB458P3",203,0)
 ;;426.0~1^426.10~1^426.11~1^426.12~1^426.13~1^426.2~1^426.3~1^426.4~1^426.50~1^426.51~1^426.52~1^426.53~1^426.54~1
"RTN","DVB458P3",204,0)
 ;;7016
"RTN","DVB458P3",205,0)
 ;;V42.2~1^V43.3~1
"RTN","DVB458P3",206,0)
 ;;7017
"RTN","DVB458P3",207,0)
 ;;414.02~1^414.03~1^414.04~1^414.05~1^414.07~1^996.03~1^996.61~0^996.72~0^V45.81~1
"RTN","DVB458P3",208,0)
 ;;7018
"RTN","DVB458P3",209,0)
 ;;996.01~1^996.61~0^996.72~0^V45.01~1^V53.31~1
"RTN","DVB458P3",210,0)
 ;;7019
"RTN","DVB458P3",211,0)
 ;;996.83~1^V42.1~1
"RTN","DVB458P3",212,0)
 ;;7020
"RTN","DVB458P3",213,0)
 ;;086.0~1^425.0~1^425.1~1^425.2~1^425.3~1^425.4~1^425.5~1^425.7~1^425.8~1^425.9~1
"RTN","DVB458P3",214,0)
 ;;7101
"RTN","DVB458P3",215,0)
 ;;401.0~1^401.1~1^401.9~1^405.09~1^405.19~1^405.99~1
"RTN","DVB458P3",216,0)
 ;;7110
"RTN","DVB458P3",217,0)
 ;;093.0~1^441.00~1^441.01~1^441.02~1^441.03~1^441.1~1^441.2~1^441.3~1^441.4~1^441.5~1^441.6~1^441.7~1^441.9~1
"RTN","DVB458P3",218,0)
 ;;7111
"RTN","DVB458P3",219,0)
 ;;442.1~0^442.2~0^442.3~0^442.82~0
"RTN","DVB458P3",220,0)
 ;;7112
"RTN","DVB458P3",221,0)
 ;;414.11~0
"RTN","DVB458P3",222,0)
 ;;7114
"RTN","DVB458P3",223,0)
 ;;440.20~0^440.21~0^440.22~0^440.23~0^440.24~0^440.29~0^440.30~0^440.31~0^440.32~0^445.01~0^445.02~0
"RTN","DVB458P3",224,0)
 ;;7115
"RTN","DVB458P3",225,0)
 ;;443.1~1
"RTN","DVB458P3",226,0)
 ;;7117
"RTN","DVB458P3",227,0)
 ;;443.0~1
"RTN","DVB458P3",228,0)
 ;;7118
"RTN","DVB458P3",229,0)
 ;;995.1~1
"RTN","DVB458P3",230,0)
 ;;7119
"RTN","DVB458P3",231,0)
 ;;443.82~1
"RTN","DVB458P3",232,0)
 ;;7120
"RTN","DVB458P3",233,0)
 ;;454.0~0^454.1~0^454.2~0^454.8~0
"RTN","DVB458P3",234,0)
 ;;7121
"RTN","DVB458P3",235,0)
 ;;459.10~0^459.11~0^459.12~0^459.13~0^459.19~0
"RTN","DVB458P3",236,0)
 ;;7122
"RTN","DVB458P3",237,0)
 ;;991.0~1^991.1~1^991.2~1^991.3~1^991.4~1^991.5~1^991.6~0^991.8~0^991.9~0
"RTN","DVB458P3",238,0)
 ;;$EXIT
"RTN","DVB458P4")
0^5^B95562400
"RTN","DVB458P4",1,0)
DVB458P4 ;ALB/RBS - POST-INSTALL FOR PATCH DVB*4*58 (CONT.) ; 1/3/07 2:19pm
"RTN","DVB458P4",2,0)
 ;;4.0;HINQ;**58**;03/25/92;Build 29
"RTN","DVB458P4",3,0)
 ;
"RTN","DVB458P4",4,0)
 Q  ;no direct entry
"RTN","DVB458P4",5,0)
 ;
"RTN","DVB458P4",6,0)
 ;
"RTN","DVB458P4",7,0)
 ;NOTE:
"RTN","DVB458P4",8,0)
 ;The following TEXT lines are a combination of a single 4 digit VBA
"RTN","DVB458P4",9,0)
 ;rated disabilities code (DX CODE) on one line followed by on the
"RTN","DVB458P4",10,0)
 ;next sequential line(s), all of the related ICD9 DIAGNOSIS codes
"RTN","DVB458P4",11,0)
 ;that are to be mapped together.  Each IDC9 code also has a (1/0)
"RTN","DVB458P4",12,0)
 ;match value that will be filed with it.
"RTN","DVB458P4",13,0)
 ;
"RTN","DVB458P4",14,0)
 ;Example:
"RTN","DVB458P4",15,0)
 ;   ;;5000  = a single (VBA) Rated Disabilities (VA) DX CODE
"RTN","DVB458P4",16,0)
 ;   ;;003.24~1^376.03~1^730.00~1^... = string of ICD9 DIAGNOSIS CODES
"RTN","DVB458P4",17,0)
 ;                                      (delimited by (^) up-arrow)
"RTN","DVB458P4",18,0)
 ;   Each (^) piece contains 2 pieces of data delimited by (~):
"RTN","DVB458P4",19,0)
 ;     $P(1) = a single ICD9 diagnosis code
"RTN","DVB458P4",20,0)
 ;     $P(2) = (1/0) match code value
"RTN","DVB458P4",21,0)
 ;
"RTN","DVB458P4",22,0)
 ;   Note: If the TEXT line ends with a (;) semi-colon, this means the
"RTN","DVB458P4",23,0)
 ;         next sequential line is associated with the same DX CODE.
"RTN","DVB458P4",24,0)
 ;         (No sequential line(s) are carried over to the next
"RTN","DVB458P4",25,0)
 ;          post-install Routine.)
"RTN","DVB458P4",26,0)
 ;
"RTN","DVB458P4",27,0)
TEXT ;;7200
"RTN","DVB458P4",28,0)
 ;;873.70~0^873.71~0^873.72~0^873.74~0^873.75~0
"RTN","DVB458P4",29,0)
 ;;7203
"RTN","DVB458P4",30,0)
 ;;530.0~1^530.3~1^530.6~1
"RTN","DVB458P4",31,0)
 ;;7301
"RTN","DVB458P4",32,0)
 ;;567.21~0^567.22~1^567.23~0^567.29~0^567.31~0^567.38~0^567.39~0^567.81~0^567.82~0^567.89~0^567.9~0^568.0~1
"RTN","DVB458P4",33,0)
 ;;7304
"RTN","DVB458P4",34,0)
 ;;531.00~1^531.01~1^531.10~1^531.11~1^531.20~1^531.21~1^531.40~1^531.41~1^531.50~1^531.51~1^531.60~1^531.61~1^531.70~1^531.90~1^531.91~1
"RTN","DVB458P4",35,0)
 ;;7305
"RTN","DVB458P4",36,0)
 ;;532.00~1^532.01~1^532.10~1^532.11~1^532.20~1^532.21~1^532.30~1^532.31~1^532.40~1^532.41~1^532.50~1^532.51~1^532.60~1^532.61~1^532.70~1^532.71~1^532.90~1^532.91~1
"RTN","DVB458P4",37,0)
 ;;7306
"RTN","DVB458P4",38,0)
 ;;534.00~1^534.01~1^534.10~1^534.11~1^534.20~1^534.21~1^534.30~1^534.31~1^534.40~1^534.41~1^534.50~1^534.51~1^534.60~1^534.61~1^534.70~1^534.71~1^534.90~1^534.91~1
"RTN","DVB458P4",39,0)
 ;;7307
"RTN","DVB458P4",40,0)
 ;;535.10~1^535.11~1^535.20~1^535.21~1
"RTN","DVB458P4",41,0)
 ;;7308
"RTN","DVB458P4",42,0)
 ;;564.2~1
"RTN","DVB458P4",43,0)
 ;;7309
"RTN","DVB458P4",44,0)
 ;;537.6~1
"RTN","DVB458P4",45,0)
 ;;7310
"RTN","DVB458P4",46,0)
 ;;536.2~0^536.3~0^536.8~0^537.5~0^537.6~0^908.1~0
"RTN","DVB458P4",47,0)
 ;;7311
"RTN","DVB458P4",48,0)
 ;;573.0~0^573.4~0^573.8~0^908.1~0
"RTN","DVB458P4",49,0)
 ;;7312
"RTN","DVB458P4",50,0)
 ;;571.2~1^571.5~1^571.6~1
"RTN","DVB458P4",51,0)
 ;;7314
"RTN","DVB458P4",52,0)
 ;;574.10~1^574.11~1^574.70~1^574.71~1^574.80~1^574.81~1^575.11~1^575.12~1
"RTN","DVB458P4",53,0)
 ;;7315
"RTN","DVB458P4",54,0)
 ;;574.00~1^574.01~1^574.20~1^574.21~1^574.50~1^574.51~1^574.90~1^574.91~1
"RTN","DVB458P4",55,0)
 ;;7316
"RTN","DVB458P4",56,0)
 ;;576.1~1
"RTN","DVB458P4",57,0)
 ;;7317
"RTN","DVB458P4",58,0)
 ;;575.2~0^575.3~0^575.4~0^575.5~0^575.8~0^908.1~0
"RTN","DVB458P4",59,0)
 ;;7319
"RTN","DVB458P4",60,0)
 ;;564.1~1
"RTN","DVB458P4",61,0)
 ;;7321
"RTN","DVB458P4",62,0)
 ;;006.0~1^006.1~1^006.2~1^006.9~1
"RTN","DVB458P4",63,0)
 ;;7322
"RTN","DVB458P4",64,0)
 ;;004.0~1^004.1~1^004.2~1^004.3~1^004.8~1^004.9~1
"RTN","DVB458P4",65,0)
 ;;7323
"RTN","DVB458P4",66,0)
 ;;556.0~1^556.1~1^556.2~1^556.3~1^556.4~1^556.5~1^556.6~1^556.8~1^556.9~1
"RTN","DVB458P4",67,0)
 ;;7324
"RTN","DVB458P4",68,0)
 ;;121.9~1
"RTN","DVB458P4",69,0)
 ;;7325
"RTN","DVB458P4",70,0)
 ;;555.0~1
"RTN","DVB458P4",71,0)
 ;;7326
"RTN","DVB458P4",72,0)
 ;;008.45~0
"RTN","DVB458P4",73,0)
 ;;7327
"RTN","DVB458P4",74,0)
 ;;562.11~1^562.13~1
"RTN","DVB458P4",75,0)
 ;;7328
"RTN","DVB458P4",76,0)
 ;;579.2~1^579.3~1
"RTN","DVB458P4",77,0)
 ;;7330
"RTN","DVB458P4",78,0)
 ;;569.81~1
"RTN","DVB458P4",79,0)
 ;;7331
"RTN","DVB458P4",80,0)
 ;;014.00~1^014.01~1^014.02~1^014.03~1^014.04~1^014.05~1^014.06~1
"RTN","DVB458P4",81,0)
 ;;7332
"RTN","DVB458P4",82,0)
 ;;787.6~1
"RTN","DVB458P4",83,0)
 ;;7333
"RTN","DVB458P4",84,0)
 ;;569.2~1
"RTN","DVB458P4",85,0)
 ;;7334
"RTN","DVB458P4",86,0)
 ;;569.1~1
"RTN","DVB458P4",87,0)
 ;;7335
"RTN","DVB458P4",88,0)
 ;;565.1~1
"RTN","DVB458P4",89,0)
 ;;7336
"RTN","DVB458P4",90,0)
 ;;455.0~1^455.1~1^455.2~1^455.3~1^455.4~1^455.5~1^455.6~1^455.7~1^455.8~1
"RTN","DVB458P4",91,0)
 ;;7337
"RTN","DVB458P4",92,0)
 ;;698.0~1
"RTN","DVB458P4",93,0)
 ;;7338
"RTN","DVB458P4",94,0)
 ;;550.00~0^550.01~0^550.02~1^550.03~1^550.10~0^550.11~0^550.12~1^550.13~1^550.90~0^550.91~0^550.92~1^550.93~1
"RTN","DVB458P4",95,0)
 ;;7339
"RTN","DVB458P4",96,0)
 ;;551.21~0^552.21~0^553.21~0
"RTN","DVB458P4",97,0)
 ;;7340
"RTN","DVB458P4",98,0)
 ;;551.00~0^551.01~0^551.02~1^551.03~1^552.00~0^552.01~0^552.02~1^552.03~1^553.00~0^553.01~0^553.02~1^553.03~1
"RTN","DVB458P4",99,0)
 ;;7343
"RTN","DVB458P4",100,0)
 ;;141.0~0^141.1~0^142.0~0^142.2~0^142.8~0^142.9~0^143.0~0^143.1~0^143.8~0^143.9~0^144.0~0^144.1~0^144.8~0^144.9~0^145.0~0^145.1~0^145.2~0^145.3~0^145.4~0^145.5~0^145.6~0^145.8~0^145.9~0^149.8~0^149.9~0^;
"RTN","DVB458P4",101,0)
 ;;150.0~0^150.1~0^150.2~0^150.3~0^150.4~0^150.5~0^150.8~0^150.9~0^151.0~0^151.1~0^151.2~0^151.3~0^151.4~0^151.5~0^151.6~0^151.8~0^151.9~0^152.0~0^152.1~0^152.2~0^152.3~0^152.8~0^152.9~0^153.0~0^153.1~0^;
"RTN","DVB458P4",102,0)
 ;;153.2~0^153.3~0^153.4~0^153.5~0^153.6~0^153.7~0^153.8~0^153.9~0^154.0~0^154.1~0^154.2~0^154.3~0^154.8~0^155.0~0^155.1~0^155.2~0^156.0~0^156.1~0^156.2~0^156.8~0^156.9~0^157.0~0^157.1~0^157.2~0^157.3~0^;
"RTN","DVB458P4",103,0)
 ;;157.8~0^157.9~0^158.0~0^158.8~0^158.9~0^159.0~0^159.1~0^159.8~0^159.9~0^197.4~0^197.5~0^197.6~0^197.7~0^197.8~0^230.0~0^230.1~0^230.2~0^230.3~0^230.4~0^230.5~0^230.6~0^230.7~0^230.8~0^230.9~0
"RTN","DVB458P4",104,0)
 ;;7344
"RTN","DVB458P4",105,0)
 ;;210.4~0^211.0~0^211.1~0^211.2~0^211.3~0^211.4~0^211.5~0^211.6~0^211.8~0^211.9~1
"RTN","DVB458P4",106,0)
 ;;7345
"RTN","DVB458P4",107,0)
 ;;070.22~1^070.23~1^070.32~1^070.33~1^571.40~1^571.41~1^571.49~1^571.8~0^571.9~0^573.1~1^573.3~0
"RTN","DVB458P4",108,0)
 ;;7346
"RTN","DVB458P4",109,0)
 ;;551.3~1^552.3~1^553.3~1
"RTN","DVB458P4",110,0)
 ;;7347
"RTN","DVB458P4",111,0)
 ;;577.0~1^577.1~1
"RTN","DVB458P4",112,0)
 ;;7351
"RTN","DVB458P4",113,0)
 ;;996.82~1^V42.7~1
"RTN","DVB458P4",114,0)
 ;;7354
"RTN","DVB458P4",115,0)
 ;;070.41~1^070.44~1^070.51~1^070.54~1
"RTN","DVB458P4",116,0)
 ;;7501
"RTN","DVB458P4",117,0)
 ;;590.2~1
"RTN","DVB458P4",118,0)
 ;;7502
"RTN","DVB458P4",119,0)
 ;;582.0~1^582.1~1^582.2~1^582.4~1^582.81~1^582.89~1^582.9~1
"RTN","DVB458P4",120,0)
 ;;7504
"RTN","DVB458P4",121,0)
 ;;590.00~1^590.01~1
"RTN","DVB458P4",122,0)
 ;;7505
"RTN","DVB458P4",123,0)
 ;;016.00~1^016.01~1^016.02~1^016.03~1^016.04~1^016.05~1^016.06~1
"RTN","DVB458P4",124,0)
 ;;7507
"RTN","DVB458P4",125,0)
 ;;403.00~0^403.10~0^403.90~0^404.00~0^404.01~0^404.10~0^404.11~0^404.90~0^404.91~0
"RTN","DVB458P4",126,0)
 ;;7508
"RTN","DVB458P4",127,0)
 ;;274.11~1^592.0~1
"RTN","DVB458P4",128,0)
 ;;7509
"RTN","DVB458P4",129,0)
 ;;591.~0
"RTN","DVB458P4",130,0)
 ;;7510
"RTN","DVB458P4",131,0)
 ;;592.1~0
"RTN","DVB458P4",132,0)
 ;;7511
"RTN","DVB458P4",133,0)
 ;;593.3~0
"RTN","DVB458P4",134,0)
 ;;7512
"RTN","DVB458P4",135,0)
 ;;016.10~1^016.11~1^016.12~1^016.13~1^016.14~1^016.15~1^016.16~1^098.31~1^595.1~1^595.2~1^595.3~1^595.4~1^595.81~1^595.82~1^595.89~1
"RTN","DVB458P4",136,0)
 ;;7515
"RTN","DVB458P4",137,0)
 ;;594.0~1^594.1~1
"RTN","DVB458P4",138,0)
 ;;7516
"RTN","DVB458P4",139,0)
 ;;596.2~1
"RTN","DVB458P4",140,0)
 ;;7518
"RTN","DVB458P4",141,0)
 ;;598.00~1^598.01~1^598.1~1^598.2~1^598.8~1^598.9~1
"RTN","DVB458P4",142,0)
 ;;7519
"RTN","DVB458P4",143,0)
 ;;599.1~1
"RTN","DVB458P4",144,0)
 ;;7523
"RTN","DVB458P4",145,0)
 ;;608.3~1
"RTN","DVB458P4",146,0)
 ;;7525
"RTN","DVB458P4",147,0)
 ;;098.33~1
"RTN","DVB458P4",148,0)
 ;;7527
"RTN","DVB458P4",149,0)
 ;;098.32~1^600.00~1^600.01~1^600.10~1^600.11~1^600.20~1^600.21~1^601.1~1^601.2~1^601.4~1
"RTN","DVB458P4",150,0)
 ;;7528
"RTN","DVB458P4",151,0)
 ;;186.0~0^186.9~0^187.1~0^187.2~0^187.3~0^187.4~0^187.5~0^187.6~0^187.7~0^187.8~0^187.9~0^188.0~0^188.1~0^188.2~0^188.3~0^188.4~0^188.5~0^188.6~0^188.7~0^188.8~0^188.9~0^189.0~0^189.1~0^189.2~0^189.3~0^;
"RTN","DVB458P4",152,0)
 ;;189.4~0^189.8~0^189.9~0^198.0~0^198.1~0^233.4~0^233.5~0^233.6~0^233.7~0^233.9~0
"RTN","DVB458P4",153,0)
 ;;7529
"RTN","DVB458P4",154,0)
 ;;214.4~0^222.0~0^222.1~0^222.2~0^222.3~0^222.4~0^222.8~0^222.9~0^223.0~0^223.1~0^223.2~0^223.3~0^223.9~0
"RTN","DVB458P4",155,0)
 ;;7530
"RTN","DVB458P4",156,0)
 ;;403.01~0^403.11~0^403.91~0^404.02~0^404.03~0^404.12~0^404.13~0^404.92~0^404.93~0^585.6~1^V56.0~1^V56.1~1^V56.31~1^V56.32~1^V56.8~1
"RTN","DVB458P4",157,0)
 ;;7531
"RTN","DVB458P4",158,0)
 ;;996.81~1^V42.0~1
"RTN","DVB458P4",159,0)
 ;;7532
"RTN","DVB458P4",160,0)
 ;;255.13~1^271.4~1^584.5~1^270.0~1
"RTN","DVB458P4",161,0)
 ;;7533
"RTN","DVB458P4",162,0)
 ;;593.2~1^753.10~1^753.12~1^753.13~1^753.14~1^753.15~1^753.16~1^753.17~1^753.19~1
"RTN","DVB458P4",163,0)
 ;;7534
"RTN","DVB458P4",164,0)
 ;;440.1~1^445.81~1
"RTN","DVB458P4",165,0)
 ;;7535
"RTN","DVB458P4",166,0)
 ;;584.5~0
"RTN","DVB458P4",167,0)
 ;;7536
"RTN","DVB458P4",168,0)
 ;;581.0~1^581.1~1^581.2~1^581.3~1^581.81~1^581.9~1^582.0~1^582.1~1^582.2~1^582.4~1^582.81~1^582.89~1^582.9~1
"RTN","DVB458P4",169,0)
 ;;7538
"RTN","DVB458P4",170,0)
 ;;583.7~1
"RTN","DVB458P4",171,0)
 ;;7539
"RTN","DVB458P4",172,0)
 ;;277.39~0^583.81~0
"RTN","DVB458P4",173,0)
 ;;7540
"RTN","DVB458P4",174,0)
 ;;286.6~0^583.6~0
"RTN","DVB458P4",175,0)
 ;;7541
"RTN","DVB458P4",176,0)
 ;;250.40~1^250.41~1^250.42~1^250.43~1^282.60~0^282.61~0^282.62~0^282.63~0^282.64~0^282.68~0^282.69~0^446.21~1^581.81~1^710.0~0
"RTN","DVB458P4",177,0)
 ;;7542
"RTN","DVB458P4",178,0)
 ;;344.61~1^596.53~1^596.54~1
"RTN","DVB458P4",179,0)
 ;;7610
"RTN","DVB458P4",180,0)
 ;;098.2~0^616.10~0^616.11~0^616.4~0^616.50~0^616.51~0^624.0~0^624.1~0^624.2~0^624.3~0^624.4~0^624.5~0^624.6~0^624.8~0^624.9~0^939.2~0^616.81~0^616.89~0
"RTN","DVB458P4",181,0)
 ;;7611
"RTN","DVB458P4",182,0)
 ;;616.10~0^616.11~0^616.2~0^616.3~0^623.0~0^623.1~0^623.2~0^623.3~0^623.4~0^623.5~0^623.6~0^623.7~0^623.8~0^623.9~0^939.2~0^616.81~0^616.89~0
"RTN","DVB458P4",183,0)
 ;;7612
"RTN","DVB458P4",184,0)
 ;;616.0~0^622.0~0^622.10~0^622.11~0^622.12~0^622.2~0^622.3~0^622.4~0^622.5~0^622.6~0^622.7~0^622.8~0^622.9~0^616.81~0^616.89~0
"RTN","DVB458P4",185,0)
 ;;7613
"RTN","DVB458P4",186,0)
 ;;016.70~0^016.71~0^016.72~0^016.73~0^016.74~0^016.75~0^098.36~0^615.1~0^621.0~0^621.1~0^621.2~0^621.30~0^621.31~0^621.32~0^621.33~0^621.4~0^621.5~0^621.6~0^621.7~0^621.8~0^621.9~0^939.1~0
"RTN","DVB458P4",187,0)
 ;;7614
"RTN","DVB458P4",188,0)
 ;;016.60~0^016.61~0^016.62~0^016.63~0^016.64~0^016.65~0^016.66~0^614.1~0^614.4~0^614.7~0^620.3~0^620.4~0^620.5~0^620.8~0
"RTN","DVB458P4",189,0)
 ;;7615
"RTN","DVB458P4",190,0)
 ;;016.60~0^016.61~0^016.62~0^016.63~0^016.64~0^016.65~0^614.1~0^620.1~0^620.2~0^620.3~0^620.4~0^620.5~0^620.8~0
"RTN","DVB458P4",191,0)
 ;;7621
"RTN","DVB458P4",192,0)
 ;;618.01~0^618.02~0^618.03~0^618.04~0^618.05~0^618.1~1^618.2~1^618.3~1^618.4~1^618.6~0^618.89~1^618.84~1
"RTN","DVB458P4",193,0)
 ;;7622
"RTN","DVB458P4",194,0)
 ;;621.6~1
"RTN","DVB458P4",195,0)
 ;;7623
"RTN","DVB458P4",196,0)
 ;;618.01~0^618.02~0^618.03~0^618.04~0^618.05~0^618.89~0^677.~1
"RTN","DVB458P4",197,0)
 ;;7627
"RTN","DVB458P4",198,0)
 ;;174.0~0^174.1~0^174.2~0^174.3~0^174.4~0^174.5~0^174.6~0^174.8~0^174.9~0^179.~0^180.0~0^180.1~0^180.8~0^180.9~0^181.~0^182.0~0^182.1~0^182.8~0^183.0~0^183.2~0^183.3~0^183.4~0^183.5~0^183.8~0^183.9~0^;
"RTN","DVB458P4",199,0)
 ;;184.0~0^184.1~0^184.2~0^184.3~0^184.4~0^184.8~0^184.9~0^198.6~0^198.81~0^233.0~0^233.1~0^233.2~0^233.3~0
"RTN","DVB458P4",200,0)
 ;;7628
"RTN","DVB458P4",201,0)
 ;;217.~0^218.0~0^218.1~0^218.2~0^218.9~0^219.0~0^219.1~0^219.8~0^219.9~0^220.~0^221.0~0^221.1~0^221.2~0^221.8~0
"RTN","DVB458P4",202,0)
 ;;7629
"RTN","DVB458P4",203,0)
 ;;617.1~1^617.2~1^617.3~1^617.4~1^617.5~1^617.6~1^617.8~1^617.9~1
"RTN","DVB458P4",204,0)
 ;;7700
"RTN","DVB458P4",205,0)
 ;;280.0~0^280.1~0^280.8~0^280.9~0^281.0~0^281.1~0^281.2~0^281.3~0^281.4~0^281.8~0^281.9~0^283.0~0^283.10~0^283.11~0^283.19~0^283.2~0^283.9~0^285.0~0^285.22~0^285.29~0
"RTN","DVB458P4",206,0)
 ;;7702
"RTN","DVB458P4",207,0)
 ;;288.00~1^288.02~1^288.03~1^288.04~1^288.09~1
"RTN","DVB458P4",208,0)
 ;;7703
"RTN","DVB458P4",209,0)
 ;;204.00~1^204.10~1^204.20~1^204.80~1^204.90~1^205.00~1^205.10~1^205.20~1^205.80~1^205.90~1^206.00~1^206.10~1^206.20~1^206.80~1^206.90~1^207.00~1^207.10~1^207.20~1^207.80~1^208.00~1^208.10~1^208.20~1^208.80~1^208.90~1
"RTN","DVB458P4",210,0)
 ;;7704
"RTN","DVB458P4",211,0)
 ;;238.4~1
"RTN","DVB458P4",212,0)
 ;;7705
"RTN","DVB458P4",213,0)
 ;;287.30~1^287.31~1^287.39~1^287.4~1^287.5~1
"RTN","DVB458P4",214,0)
 ;;7709
"RTN","DVB458P4",215,0)
 ;;201.00~1^201.01~1^201.03~1^201.04~1^201.05~1^201.06~1^201.07~1^201.08~1^201.10~1^201.11~1^201.12~1^201.13~1^201.14~1^201.15~1^201.16~1^201.17~1^201.18~1^201.20~1^201.21~1^201.22~1^201.23~1^201.24~1^;
"RTN","DVB458P4",216,0)
 ;;201.25~1^201.26~1^201.27~1^201.28~1^201.41~1^201.42~1^201.43~1^201.44~1^201.45~1^201.46~1^201.47~1^201.48~1^201.51~1^201.52~1^201.53~1^201.54~1^201.55~1^201.56~1^201.57~1^201.58~1^201.61~1^201.62~1^;
"RTN","DVB458P4",217,0)
 ;;201.63~1^201.64~1^201.65~1^201.66~1^201.67~1^201.68~1^201.71~1^201.72~1^201.73~1^201.74~1^201.75~1^201.76~1^201.77~1^201.78~1^201.90~1^201.91~1^201.92~1^201.93~1^201.94~1^201.95~1^201.96~1^201.97~1^201.98~1
"RTN","DVB458P4",218,0)
 ;;$EXIT
"RTN","DVB458P5")
0^6^B101691653
"RTN","DVB458P5",1,0)
DVB458P5 ;ALB/RBS - POST-INSTALL FOR PATCH DVB*4*58 (CONT.) ; 1/3/07 2:20pm
"RTN","DVB458P5",2,0)
 ;;4.0;HINQ;**58**;03/25/92;Build 29
"RTN","DVB458P5",3,0)
 ;
"RTN","DVB458P5",4,0)
 Q  ;no direct entry
"RTN","DVB458P5",5,0)
 ;
"RTN","DVB458P5",6,0)
 ;
"RTN","DVB458P5",7,0)
 ;NOTE:
"RTN","DVB458P5",8,0)
 ;The following TEXT lines are a combination of a single 4 digit VBA
"RTN","DVB458P5",9,0)
 ;rated disabilities code (DX CODE) on one line followed by on the
"RTN","DVB458P5",10,0)
 ;next sequential line(s), all of the related ICD9 DIAGNOSIS codes
"RTN","DVB458P5",11,0)
 ;that are to be mapped together.  Each IDC9 code also has a (1/0)
"RTN","DVB458P5",12,0)
 ;match value that will be filed with it.
"RTN","DVB458P5",13,0)
 ;
"RTN","DVB458P5",14,0)
 ;Example:
"RTN","DVB458P5",15,0)
 ;   ;;5000  = a single (VBA) Rated Disabilities (VA) DX CODE
"RTN","DVB458P5",16,0)
 ;   ;;003.24~1^376.03~1^730.00~1^... = string of ICD9 DIAGNOSIS CODES
"RTN","DVB458P5",17,0)
 ;                                      (delimited by (^) up-arrow)
"RTN","DVB458P5",18,0)
 ;   Each (^) piece contains 2 pieces of data delimited by (~):
"RTN","DVB458P5",19,0)
 ;     $P(1) = a single ICD9 diagnosis code
"RTN","DVB458P5",20,0)
 ;     $P(2) = (1/0) match code value
"RTN","DVB458P5",21,0)
 ;
"RTN","DVB458P5",22,0)
 ;   Note: If the TEXT line ends with a (;) semi-colon, this means the
"RTN","DVB458P5",23,0)
 ;         next sequential line is associated with the same DX CODE.
"RTN","DVB458P5",24,0)
 ;         (No sequential line(s) are carried over to the next
"RTN","DVB458P5",25,0)
 ;          post-install Routine.)
"RTN","DVB458P5",26,0)
 ;
"RTN","DVB458P5",27,0)
TEXT ;;7710
"RTN","DVB458P5",28,0)
 ;;012.10~1^012.11~1^012.12~1^012.13~1^012.14~1^012.15~1^012.16~1^017.20~1^017.21~1^017.22~1^017.23~1^017.24~1^017.25~1^017.26~1
"RTN","DVB458P5",29,0)
 ;;7714
"RTN","DVB458P5",30,0)
 ;;282.60~1^282.61~1^282.62~1^282.63~1^282.64~1^282.68~1^282.69~1
"RTN","DVB458P5",31,0)
 ;;7715
"RTN","DVB458P5",32,0)
 ;;202.80~1^202.81~1^202.82~1^202.83~1^202.84~1^202.85~1^202.86~1^202.87~1^202.88~1
"RTN","DVB458P5",33,0)
 ;;7716
"RTN","DVB458P5",34,0)
 ;;284.01~1^284.8~1^284.9~1^284.09~1^284.1~1^284.2~1
"RTN","DVB458P5",35,0)
 ;;7805
"RTN","DVB458P5",36,0)
 ;;701.4~0^709.2~0
"RTN","DVB458P5",37,0)
 ;;7806
"RTN","DVB458P5",38,0)
 ;;690.10~0^690.18~0^690.8~0^691.8~0^692.0~0^692.1~0^692.2~0^692.3~0^692.4~0^692.5~0^692.6~0^692.70~0^692.72~0^692.74~1^692.79~0^692.81~0^692.82~0^692.83~0^692.89~1^692.9~1^693.0~0^693.8~0^693.9~0
"RTN","DVB458P5",39,0)
 ;;7807
"RTN","DVB458P5",40,0)
 ;;085.4~1^085.5~1
"RTN","DVB458P5",41,0)
 ;;7808
"RTN","DVB458P5",42,0)
 ;;085.1~1^085.2~1^085.3~1
"RTN","DVB458P5",43,0)
 ;;7809
"RTN","DVB458P5",44,0)
 ;;373.34~1^695.4~1
"RTN","DVB458P5",45,0)
 ;;7811
"RTN","DVB458P5",46,0)
 ;;017.00~1^017.01~1^017.02~1^017.03~1^017.04~1^017.05~1^017.06~1
"RTN","DVB458P5",47,0)
 ;;7813
"RTN","DVB458P5",48,0)
 ;;110.0~0^110.1~0^110.2~0^110.3~0^110.4~0^110.5~0^110.6~0^110.8~0^110.9~0
"RTN","DVB458P5",49,0)
 ;;7815
"RTN","DVB458P5",50,0)
 ;;277.1~0^694.0~1^694.2~1^694.4~1^694.5~1^694.60~1^694.8~1^694.9~1
"RTN","DVB458P5",51,0)
 ;;7816
"RTN","DVB458P5",52,0)
 ;;696.1~1
"RTN","DVB458P5",53,0)
 ;;7818
"RTN","DVB458P5",54,0)
 ;;173.0~0^173.1~0^173.2~0^173.3~0^173.4~0^173.5~0^173.6~0^173.7~0^173.8~0^173.9~0^198.2~0^232.0~0^232.1~0^232.2~0^232.3~0^232.4~0^232.5~0^232.6~0^232.7~0^232.8~0^232.9~0
"RTN","DVB458P5",55,0)
 ;;7819
"RTN","DVB458P5",56,0)
 ;;214.0~0^214.1~0^216.0~0^216.1~0^216.2~0^216.3~0^216.4~0^216.5~0^216.6~0^216.7~0^216.8~0^216.9~0^228.01~0
"RTN","DVB458P5",57,0)
 ;;7820
"RTN","DVB458P5",58,0)
 ;;022.0~0^078.10~0^078.11~0^078.19~0^111.0~0^111.1~0^111.2~0^111.3~0^111.8~0^111.9~0^132.0~0^132.1~0^132.2~0^132.3~0^132.9~0^133.0~0^133.8~0^133.9~0^134.0~0^134.1~0^134.2~0^134.8~0^681.00~0^681.01~0^;
"RTN","DVB458P5",59,0)
 ;;681.02~0^681.10~0^681.11~0^681.9~0^682.0~0^682.1~0^682.2~0^682.3~0^682.4~0^682.5~0^682.6~0^682.7~0^682.8~0^682.9~0^686.00~0^686.01~0^686.09~0^686.1~0^686.8~0
"RTN","DVB458P5",60,0)
 ;;7821
"RTN","DVB458P5",61,0)
 ;;710.3~1
"RTN","DVB458P5",62,0)
 ;;7822
"RTN","DVB458P5",63,0)
 ;;696.2~0^696.4~0^697.0~0^697.1~0^697.8~0^697.9~0^698.2~0^698.3~0
"RTN","DVB458P5",64,0)
 ;;7823
"RTN","DVB458P5",65,0)
 ;;709.01~1
"RTN","DVB458P5",66,0)
 ;;7824
"RTN","DVB458P5",67,0)
 ;;701.1~0^098.81~0
"RTN","DVB458P5",68,0)
 ;;7825
"RTN","DVB458P5",69,0)
 ;;698.2~1^708.0~1^708.1~1^708.2~1^708.3~1^708.4~1^708.5~1^708.8~1^708.9~1
"RTN","DVB458P5",70,0)
 ;;7826
"RTN","DVB458P5",71,0)
 ;;287.0~0^446.20~0^446.29~0
"RTN","DVB458P5",72,0)
 ;;7827
"RTN","DVB458P5",73,0)
 ;;695.1~1
"RTN","DVB458P5",74,0)
 ;;7828
"RTN","DVB458P5",75,0)
 ;;706.1~1
"RTN","DVB458P5",76,0)
 ;;7830
"RTN","DVB458P5",77,0)
 ;;704.09~1
"RTN","DVB458P5",78,0)
 ;;7831
"RTN","DVB458P5",79,0)
 ;;704.01~1
"RTN","DVB458P5",80,0)
 ;;7832
"RTN","DVB458P5",81,0)
 ;;705.21~1^705.22~1^780.8~1
"RTN","DVB458P5",82,0)
 ;;7833
"RTN","DVB458P5",83,0)
 ;;172.0~0^172.1~0^172.3~0^172.4~0^172.5~0^172.6~0^172.7~0^172.8~0^172.9~0
"RTN","DVB458P5",84,0)
 ;;7900
"RTN","DVB458P5",85,0)
 ;;242.01~1^242.41~1^242.81~1^242.91~1
"RTN","DVB458P5",86,0)
 ;;7901
"RTN","DVB458P5",87,0)
 ;;242.00~1^242.01~1^242.10~1^242.11~1^242.20~1^242.21~1^242.30~1^242.31~1^242.40~1^242.41~1^242.80~1^242.81~1^242.90~1^242.91~1
"RTN","DVB458P5",88,0)
 ;;7902
"RTN","DVB458P5",89,0)
 ;;240.0~1^240.9~1^241.0~1^241.1~1^241.9~1
"RTN","DVB458P5",90,0)
 ;;7903
"RTN","DVB458P5",91,0)
 ;;244.0~1^244.1~1^244.2~1^244.3~1^244.9~1
"RTN","DVB458P5",92,0)
 ;;7904
"RTN","DVB458P5",93,0)
 ;;252.01~1^252.02~1^588.81~1
"RTN","DVB458P5",94,0)
 ;;7905
"RTN","DVB458P5",95,0)
 ;;252.1~1
"RTN","DVB458P5",96,0)
 ;;7907
"RTN","DVB458P5",97,0)
 ;;255.0~1
"RTN","DVB458P5",98,0)
 ;;7908
"RTN","DVB458P5",99,0)
 ;;253.0~1
"RTN","DVB458P5",100,0)
 ;;7909
"RTN","DVB458P5",101,0)
 ;;253.5~1^588.1~1
"RTN","DVB458P5",102,0)
 ;;7911
"RTN","DVB458P5",103,0)
 ;;255.4~1
"RTN","DVB458P5",104,0)
 ;;7912
"RTN","DVB458P5",105,0)
 ;;258.0~1^258.1~1^258.8~1^258.9~1
"RTN","DVB458P5",106,0)
 ;;7913
"RTN","DVB458P5",107,0)
 ;;250.00~1^250.01~1^250.02~1^250.03~1^250.10~1^250.11~1^250.12~1^250.13~1^250.20~1^250.21~1^250.22~1^250.23~1^250.30~1^250.31~1^250.32~1^250.33~1^250.40~0^250.41~0^250.42~0^250.43~0^250.50~0^250.51~0^;
"RTN","DVB458P5",108,0)
 ;;250.52~0^250.53~0^250.60~0^250.61~0^250.62~0^250.63~0^250.70~0^250.71~0^250.72~0^250.73~0^250.80~0^250.81~0^250.82~1^250.83~1^250.90~0^250.91~0^250.92~1^250.93~1^648.00~0^648.01~0^648.02~0^648.03~0^648.04~0
"RTN","DVB458P5",109,0)
 ;;7914
"RTN","DVB458P5",110,0)
 ;;157.4~0^193.~0^194.0~0^194.1~0^194.3~0^194.4~0^194.5~0^194.6~0^194.8~0^194.9~0^198.7~0
"RTN","DVB458P5",111,0)
 ;;7915
"RTN","DVB458P5",112,0)
 ;;211.7~0^226.~0^227.0~0^227.1~0^227.3~0^227.4~0^227.5~0^227.6~0^227.8~0^227.9~0
"RTN","DVB458P5",113,0)
 ;;7917
"RTN","DVB458P5",114,0)
 ;;255.10~1^255.12~1^255.14~1
"RTN","DVB458P5",115,0)
 ;;7918
"RTN","DVB458P5",116,0)
 ;;255.6~1
"RTN","DVB458P5",117,0)
 ;;7919
"RTN","DVB458P5",118,0)
 ;;193.~1
"RTN","DVB458P5",119,0)
 ;;8000
"RTN","DVB458P5",120,0)
 ;;013.60~0^013.61~0^013.62~0^013.63~0^013.64~0^013.65~0^013.66~0^036.1~0^054.3~0^062.1~0^062.2~0^062.3~0^062.4~0^062.5~0^062.8~0^062.9~0^063.0~0^063.2~0^063.8~0^063.9~0^064.~0^066.41~0^323.61~0^052.0~0^;
"RTN","DVB458P5",121,0)
 ;;055.0~0^056.01~0^130.0~0^323.01~0^323.1~0^323.2~0^323.41~0^323.51~0^323.62 ~0^323.71~0^323.81~0^323.9~0
"RTN","DVB458P5",122,0)
 ;;8002
"RTN","DVB458P5",123,0)
 ;;191.0~1^191.1~1^191.2~1^191.3~1^191.4~1^191.5~1^191.6~1^191.7~1^191.8~1^191.9~1^192.1~1^198.3~0
"RTN","DVB458P5",124,0)
 ;;8003
"RTN","DVB458P5",125,0)
 ;;225.0~1^225.2~1^228.02~1
"RTN","DVB458P5",126,0)
 ;;8004
"RTN","DVB458P5",127,0)
 ;;332.0~1^332.1~1
"RTN","DVB458P5",128,0)
 ;;8005
"RTN","DVB458P5",129,0)
 ;;335.22~1
"RTN","DVB458P5",130,0)
 ;;8007
"RTN","DVB458P5",131,0)
 ;;434.10~1^434.11~1
"RTN","DVB458P5",132,0)
 ;;8008
"RTN","DVB458P5",133,0)
 ;;434.00~1^434.01~1
"RTN","DVB458P5",134,0)
 ;;8009
"RTN","DVB458P5",135,0)
 ;;431.~1^432.0~1^432.1~1^432.9~1^853.00~1^853.01~1^853.02~1^853.03~1^853.04~1^853.05~1^853.06~1^853.09~1^853.10~1^853.11~1^853.12~1^853.13~1^853.14~1^853.15~1^853.16~1^853.19~1^997.02~0
"RTN","DVB458P5",136,0)
 ;;8010
"RTN","DVB458P5",137,0)
 ;;013.60~1^013.61~1^013.62~1^013.63~1^013.64~1^013.65~1^013.66~1^052.2~1^054.74~1^053.14~1^323.02~1^323.1~1^323.2~1^323.42~1^323.52~1^323.63~1^323.72~1^323.82~1^323.9~1
"RTN","DVB458P5",138,0)
 ;;8011
"RTN","DVB458P5",139,0)
 ;;045.00~1^045.01~1^045.02~1^045.03~1^045.10~1^045.11~1^045.12~1^045.13~1^045.20~1^045.21~1^045.22~1^045.23~1^045.90~1^045.91~1^045.92~1^045.93~1^138.~1
"RTN","DVB458P5",140,0)
 ;;8013
"RTN","DVB458P5",141,0)
 ;;094.1~1^094.3~1^094.81~1^094.89~1^094.9~1
"RTN","DVB458P5",142,0)
 ;;8014
"RTN","DVB458P5",143,0)
 ;;091.81~1^094.2~1
"RTN","DVB458P5",144,0)
 ;;8015
"RTN","DVB458P5",145,0)
 ;;094.0~1
"RTN","DVB458P5",146,0)
 ;;8017
"RTN","DVB458P5",147,0)
 ;;335.20~1
"RTN","DVB458P5",148,0)
 ;;8018
"RTN","DVB458P5",149,0)
 ;;340.~1
"RTN","DVB458P5",150,0)
 ;;8019
"RTN","DVB458P5",151,0)
 ;;036.0~0^098.82~0^320.0~0^320.1~0^320.2~0^320.3~0^320.7~0^320.81~0^320.82~0^320.89~0^320.9~0
"RTN","DVB458P5",152,0)
 ;;8020
"RTN","DVB458P5",153,0)
 ;;006.5~1^013.30~1^013.31~1^013.32~1^013.33~1^013.34~1^013.35~1^013.36~1^324.0~1^326.~1
"RTN","DVB458P5",154,0)
 ;;8021
"RTN","DVB458P5",155,0)
 ;;192.2~1^192.3~1^198.3~1
"RTN","DVB458P5",156,0)
 ;;8022
"RTN","DVB458P5",157,0)
 ;;225.3~1^225.4~1
"RTN","DVB458P5",158,0)
 ;;8023
"RTN","DVB458P5",159,0)
 ;;335.21~1
"RTN","DVB458P5",160,0)
 ;;8024
"RTN","DVB458P5",161,0)
 ;;336.0~1
"RTN","DVB458P5",162,0)
 ;;8025
"RTN","DVB458P5",163,0)
 ;;358.00~1^358.01~1
"RTN","DVB458P5",164,0)
 ;;8045
"RTN","DVB458P5",165,0)
 ;;905.0~0^907.0~1^907.1~0
"RTN","DVB458P5",166,0)
 ;;8046
"RTN","DVB458P5",167,0)
 ;;437.0~1^437.1~1
"RTN","DVB458P5",168,0)
 ;;8100
"RTN","DVB458P5",169,0)
 ;;346.00~1^346.01~1^346.10~1^346.11~1^346.20~1^346.21~1^346.80~1^346.81~1^346.90~1^346.91~1
"RTN","DVB458P5",170,0)
 ;;8105
"RTN","DVB458P5",171,0)
 ;;392.0~1^392.9~1
"RTN","DVB458P5",172,0)
 ;;8106
"RTN","DVB458P5",173,0)
 ;;333.4~1
"RTN","DVB458P5",174,0)
 ;;8107
"RTN","DVB458P5",175,0)
 ;;333.71~1^333.72~0^333.79~1
"RTN","DVB458P5",176,0)
 ;;8108
"RTN","DVB458P5",177,0)
 ;;347.00~1
"RTN","DVB458P5",178,0)
 ;;8205
"RTN","DVB458P5",179,0)
 ;;350.9~1
"RTN","DVB458P5",180,0)
 ;;8207
"RTN","DVB458P5",181,0)
 ;;351.0~1
"RTN","DVB458P5",182,0)
 ;;8209
"RTN","DVB458P5",183,0)
 ;;352.2~1
"RTN","DVB458P5",184,0)
 ;;8210
"RTN","DVB458P5",185,0)
 ;;352.3~1
"RTN","DVB458P5",186,0)
 ;;8211
"RTN","DVB458P5",187,0)
 ;;352.4~0
"RTN","DVB458P5",188,0)
 ;;8212
"RTN","DVB458P5",189,0)
 ;;352.5~0
"RTN","DVB458P5",190,0)
 ;;8305
"RTN","DVB458P5",191,0)
 ;;350.1~1
"RTN","DVB458P5",192,0)
 ;;8307
"RTN","DVB458P5",193,0)
 ;;351.8~0
"RTN","DVB458P5",194,0)
 ;;8309
"RTN","DVB458P5",195,0)
 ;;352.1~1
"RTN","DVB458P5",196,0)
 ;;8310
"RTN","DVB458P5",197,0)
 ;;352.3~0
"RTN","DVB458P5",198,0)
 ;;8311
"RTN","DVB458P5",199,0)
 ;;352.4~0
"RTN","DVB458P5",200,0)
 ;;8312
"RTN","DVB458P5",201,0)
 ;;352.5~0
"RTN","DVB458P5",202,0)
 ;;8405
"RTN","DVB458P5",203,0)
 ;;053.12~1^350.1~1
"RTN","DVB458P5",204,0)
 ;;8407
"RTN","DVB458P5",205,0)
 ;;351.8~0
"RTN","DVB458P5",206,0)
 ;;8409
"RTN","DVB458P5",207,0)
 ;;352.1~1
"RTN","DVB458P5",208,0)
 ;;8410
"RTN","DVB458P5",209,0)
 ;;352.3~0
"RTN","DVB458P5",210,0)
 ;;8411
"RTN","DVB458P5",211,0)
 ;;352.4~0
"RTN","DVB458P5",212,0)
 ;;8412
"RTN","DVB458P5",213,0)
 ;;352.5~0
"RTN","DVB458P5",214,0)
 ;;8514
"RTN","DVB458P5",215,0)
 ;;354.3~0
"RTN","DVB458P5",216,0)
 ;;8515
"RTN","DVB458P5",217,0)
 ;;354.1~0
"RTN","DVB458P5",218,0)
 ;;8516
"RTN","DVB458P5",219,0)
 ;;354.2~0
"RTN","DVB458P5",220,0)
 ;;8520
"RTN","DVB458P5",221,0)
 ;;355.0~0
"RTN","DVB458P5",222,0)
 ;;8521
"RTN","DVB458P5",223,0)
 ;;355.3~0
"RTN","DVB458P5",224,0)
 ;;8526
"RTN","DVB458P5",225,0)
 ;;355.2~0
"RTN","DVB458P5",226,0)
 ;;8529
"RTN","DVB458P5",227,0)
 ;;355.1~0
"RTN","DVB458P5",228,0)
 ;;8530
"RTN","DVB458P5",229,0)
 ;;355.79~0
"RTN","DVB458P5",230,0)
 ;;8614
"RTN","DVB458P5",231,0)
 ;;723.4~0
"RTN","DVB458P5",232,0)
 ;;8615
"RTN","DVB458P5",233,0)
 ;;354.1~0
"RTN","DVB458P5",234,0)
 ;;8620
"RTN","DVB458P5",235,0)
 ;;724.3~0
"RTN","DVB458P5",236,0)
 ;;8621
"RTN","DVB458P5",237,0)
 ;;355.3~0
"RTN","DVB458P5",238,0)
 ;;8625
"RTN","DVB458P5",239,0)
 ;;355.5~0
"RTN","DVB458P5",240,0)
 ;;8626
"RTN","DVB458P5",241,0)
 ;;355.2~0
"RTN","DVB458P5",242,0)
 ;;8629
"RTN","DVB458P5",243,0)
 ;;355.1~0
"RTN","DVB458P5",244,0)
 ;;8715
"RTN","DVB458P5",245,0)
 ;;354.1~0
"RTN","DVB458P5",246,0)
 ;;8720
"RTN","DVB458P5",247,0)
 ;;724.3~0
"RTN","DVB458P5",248,0)
 ;;8725
"RTN","DVB458P5",249,0)
 ;;355.5~0
"RTN","DVB458P5",250,0)
 ;;8729
"RTN","DVB458P5",251,0)
 ;;355.1~0
"RTN","DVB458P5",252,0)
 ;;8910
"RTN","DVB458P5",253,0)
 ;;345.10~1^345.11~1^345.3~1
"RTN","DVB458P5",254,0)
 ;;8911
"RTN","DVB458P5",255,0)
 ;;345.00~1^345.01~1^345.2~1
"RTN","DVB458P5",256,0)
 ;;8912
"RTN","DVB458P5",257,0)
 ;;345.50~1^345.51~1
"RTN","DVB458P5",258,0)
 ;;8913
"RTN","DVB458P5",259,0)
 ;;345.40~1^345.41~1
"RTN","DVB458P5",260,0)
 ;;8914
"RTN","DVB458P5",261,0)
 ;;345.40~1^345.41~1
"RTN","DVB458P5",262,0)
 ;;9201
"RTN","DVB458P5",263,0)
 ;;295.10~1^295.11~1^295.12~1^295.13~1^295.14~1^295.15~1
"RTN","DVB458P5",264,0)
 ;;9202
"RTN","DVB458P5",265,0)
 ;;295.20~1^295.21~1^295.22~1^295.23~1^295.24~1^295.25~1
"RTN","DVB458P5",266,0)
 ;;9203
"RTN","DVB458P5",267,0)
 ;;295.30~1^295.31~1^295.32~1^295.33~1^295.34~1^295.35~1
"RTN","DVB458P5",268,0)
 ;;9204
"RTN","DVB458P5",269,0)
 ;;295.60~0^295.61~0^295.62~0^295.63~0^295.64~0^295.65~0^295.80~0^295.81~0^295.82~0^295.83~0^295.84~0^295.85~0
"RTN","DVB458P5",270,0)
 ;;9205
"RTN","DVB458P5",271,0)
 ;;295.60~1^295.61~1^295.62~1^295.63~1^295.64~1^295.65~1^295.80~1^295.81~1^295.82~1^295.83~1^295.84~1^295.85~1^295.90~1^295.91~1^295.92~1^295.93~1^295.94~1^295.95~1
"RTN","DVB458P5",272,0)
 ;;9208
"RTN","DVB458P5",273,0)
 ;;297.0~1^297.1~1^297.2~1^297.3~1^297.8~1^297.9~1^298.3~1^298.4~1
"RTN","DVB458P5",274,0)
 ;;9210
"RTN","DVB458P5",275,0)
 ;;290.20~0^290.8~0^291.89~0^291.9~0^292.9~0^298.9~0
"RTN","DVB458P5",276,0)
 ;;9211
"RTN","DVB458P5",277,0)
 ;;295.70~1^295.71~1^295.72~1^295.73~1^295.74~1^295.75~1
"RTN","DVB458P5",278,0)
 ;;9300
"RTN","DVB458P5",279,0)
 ;;291.0~0^292.81~0^293.0~0^293.1~0
"RTN","DVB458P5",280,0)
 ;;9301
"RTN","DVB458P5",281,0)
 ;;042.~0^094.1~0^294.10~0
"RTN","DVB458P5",282,0)
 ;;9304
"RTN","DVB458P5",283,0)
 ;;294.10~0^294.11~0^310.2~0^905.0~0^907.0~0^907.1~0
"RTN","DVB458P5",284,0)
 ;;9305
"RTN","DVB458P5",285,0)
 ;;290.40~1^290.41~1^290.42~1^290.43~1
"RTN","DVB458P5",286,0)
 ;;9310
"RTN","DVB458P5",287,0)
 ;;290.12~0^290.13~0^290.3~0^331.19~0
"RTN","DVB458P5",288,0)
 ;;9312
"RTN","DVB458P5",289,0)
 ;;331.0~1
"RTN","DVB458P5",290,0)
 ;;9326
"RTN","DVB458P5",291,0)
 ;;290.0~0^290.10~0^290.11~0^290.20~0^290.21~0^291.2~0^292.82~0
"RTN","DVB458P5",292,0)
 ;;9400
"RTN","DVB458P5",293,0)
 ;;300.02~1
"RTN","DVB458P5",294,0)
 ;;9403
"RTN","DVB458P5",295,0)
 ;;300.20~1^300.23~1^300.29~1
"RTN","DVB458P5",296,0)
 ;;9404
"RTN","DVB458P5",297,0)
 ;;300.3~1
"RTN","DVB458P5",298,0)
 ;;9410
"RTN","DVB458P5",299,0)
 ;;300.89~1^300.9~1
"RTN","DVB458P5",300,0)
 ;;9411
"RTN","DVB458P5",301,0)
 ;;308.3~1^309.81~1
"RTN","DVB458P5",302,0)
 ;;9412
"RTN","DVB458P5",303,0)
 ;;300.01~1^300.21~1^300.22~1
"RTN","DVB458P5",304,0)
 ;;9413
"RTN","DVB458P5",305,0)
 ;;300.00~1^300.02~1^300.09~1^309.21~1
"RTN","DVB458P5",306,0)
 ;;9416
"RTN","DVB458P5",307,0)
 ;;300.12~1^300.13~1^300.14~1^300.15~1
"RTN","DVB458P5",308,0)
 ;;9417
"RTN","DVB458P5",309,0)
 ;;300.6~1
"RTN","DVB458P5",310,0)
 ;;9421
"RTN","DVB458P5",311,0)
 ;;300.81~1
"RTN","DVB458P5",312,0)
 ;;9422
"RTN","DVB458P5",313,0)
 ;;307.80~1^307.89~1^338.4~1
"RTN","DVB458P5",314,0)
 ;;9423
"RTN","DVB458P5",315,0)
 ;;300.82~1
"RTN","DVB458P5",316,0)
 ;;9424
"RTN","DVB458P5",317,0)
 ;;300.10~1^300.11~1^300.15~1
"RTN","DVB458P5",318,0)
 ;;9425
"RTN","DVB458P5",319,0)
 ;;300.7~1
"RTN","DVB458P5",320,0)
 ;;9431
"RTN","DVB458P5",321,0)
 ;;301.13~1
"RTN","DVB458P5",322,0)
 ;;9432
"RTN","DVB458P5",323,0)
 ;;296.00~1^296.01~1^296.02~1^296.03~1^296.04~1^296.05~1^296.06~1^296.10~1^296.11~1^296.12~1^296.13~1^296.14~1^296.15~1^296.16~1^296.40~1^296.41~1^296.42~1^296.43~1^296.44~1^296.45~1^296.46~1^296.50~1^;
"RTN","DVB458P5",324,0)
 ;;296.51~1^296.52~1^296.53~1^296.54~1^296.55~1^296.56~1^296.60~1^296.61~1^296.62~1^296.63~1^296.64~1^296.65~1^296.66~1^296.7~1^296.80~1^296.81~1
"RTN","DVB458P5",325,0)
 ;;9433
"RTN","DVB458P5",326,0)
 ;;300.4~1
"RTN","DVB458P5",327,0)
 ;;9434
"RTN","DVB458P5",328,0)
 ;;296.20~1^296.21~1^296.22~1^296.23~1^296.24~1^296.25~1^296.26~1^296.30~1^296.31~1^296.32~1^296.33~1^296.34~1^296.35~1^296.36~1^296.82~1^298.0~1
"RTN","DVB458P5",329,0)
 ;;9435
"RTN","DVB458P5",330,0)
 ;;296.89~0^296.90~0^296.99~0
"RTN","DVB458P5",331,0)
 ;;9440
"RTN","DVB458P5",332,0)
 ;;309.1~0^309.21~1^309.22~0^309.23~0^309.24~0^309.28~0^309.29~0^309.3~1^309.4~1^309.82~1^309.83~1^309.89~1^309.9~1
"RTN","DVB458P5",333,0)
 ;;9520
"RTN","DVB458P5",334,0)
 ;;307.1~1
"RTN","DVB458P5",335,0)
 ;;9521
"RTN","DVB458P5",336,0)
 ;;307.51~1
"RTN","DVB458P5",337,0)
 ;;9905
"RTN","DVB458P5",338,0)
 ;;524.52~1^524.60~0^524.61~1^524.62~0^524.63~0^524.69~0
"RTN","DVB458P5",339,0)
 ;;$EXIT
"RTN","DVB458P6")
0^7^B41872735
"RTN","DVB458P6",1,0)
DVB458P6 ;ALB/RBS/JAM - POST-INSTALL FOR PATCH DVB*4*58 (CONT.) ; 07/24/07 11:13am
"RTN","DVB458P6",2,0)
 ;;4.0;HINQ;**58**;03/25/92;Build 29
"RTN","DVB458P6",3,0)
 ;
"RTN","DVB458P6",4,0)
 Q  ;no direct entry
"RTN","DVB458P6",5,0)
 ;
"RTN","DVB458P6",6,0)
 ;
"RTN","DVB458P6",7,0)
 ;NOTE:
"RTN","DVB458P6",8,0)
 ;The following TEXT lines are a combination of a single 4 digit VBA
"RTN","DVB458P6",9,0)
 ;rated disabilities code (DX CODE) on one line followed by on the
"RTN","DVB458P6",10,0)
 ;next sequential line(s), all of the related ICD9 DIAGNOSIS codes
"RTN","DVB458P6",11,0)
 ;that are to be mapped together.  Each IDC9 code also has a (1/0)
"RTN","DVB458P6",12,0)
 ;match value that will be filed with it.
"RTN","DVB458P6",13,0)
 ;
"RTN","DVB458P6",14,0)
 ;Example:
"RTN","DVB458P6",15,0)
 ;   ;;5000  = a single (VBA) Rated Disabilities (VA) DX CODE
"RTN","DVB458P6",16,0)
 ;   ;;003.24~1^376.03~1^730.00~1^... = string of ICD9 DIAGNOSIS CODES
"RTN","DVB458P6",17,0)
 ;                                      (delimited by (^) up-arrow)
"RTN","DVB458P6",18,0)
 ;   Each (^) piece contains 2 pieces of data delimited by (~):
"RTN","DVB458P6",19,0)
 ;     $P(1) = a single ICD9 diagnosis code
"RTN","DVB458P6",20,0)
 ;     $P(2) = (1/0) match code value
"RTN","DVB458P6",21,0)
 ;
"RTN","DVB458P6",22,0)
 ;   Note: If the TEXT line ends with a (;) semi-colon, this means the
"RTN","DVB458P6",23,0)
 ;         next sequential line is associated with the same DX CODE.
"RTN","DVB458P6",24,0)
 ;         (No sequential line(s) are carried over to the next
"RTN","DVB458P6",25,0)
 ;          post-install Routine.)
"RTN","DVB458P6",26,0)
 ;
"RTN","DVB458P6",27,0)
TEXT ;;5237
"RTN","DVB458P6",28,0)
 ;;905.7~0^724.6~0
"RTN","DVB458P6",29,0)
 ;;5295
"RTN","DVB458P6",30,0)
 ;;724.6~0^905.7~0
"RTN","DVB458P6",31,0)
 ;;6101
"RTN","DVB458P6",32,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",33,0)
 ;;6102
"RTN","DVB458P6",34,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",35,0)
 ;;6103
"RTN","DVB458P6",36,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",37,0)
 ;;6104
"RTN","DVB458P6",38,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~0^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",39,0)
 ;;6105
"RTN","DVB458P6",40,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",41,0)
 ;;6106
"RTN","DVB458P6",42,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",43,0)
 ;;6107
"RTN","DVB458P6",44,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",45,0)
 ;;6108
"RTN","DVB458P6",46,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",47,0)
 ;;6109
"RTN","DVB458P6",48,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",49,0)
 ;;6110
"RTN","DVB458P6",50,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",51,0)
 ;;6206
"RTN","DVB458P6",52,0)
 ;;383.1~0
"RTN","DVB458P6",53,0)
 ;;6250
"RTN","DVB458P6",54,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",55,0)
 ;;6277
"RTN","DVB458P6",56,0)
 ;;389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",57,0)
 ;;6278
"RTN","DVB458P6",58,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",59,0)
 ;;6281
"RTN","DVB458P6",60,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",61,0)
 ;;6282
"RTN","DVB458P6",62,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",63,0)
 ;;6284
"RTN","DVB458P6",64,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",65,0)
 ;;6286
"RTN","DVB458P6",66,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~1^389.16~1^389.18~0^389.2~1^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",67,0)
 ;;6287
"RTN","DVB458P6",68,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",69,0)
 ;;6288
"RTN","DVB458P6",70,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",71,0)
 ;;6289
"RTN","DVB458P6",72,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",73,0)
 ;;6290
"RTN","DVB458P6",74,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",75,0)
 ;;6291
"RTN","DVB458P6",76,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",77,0)
 ;;6292
"RTN","DVB458P6",78,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",79,0)
 ;;6293
"RTN","DVB458P6",80,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",81,0)
 ;;6294
"RTN","DVB458P6",82,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",83,0)
 ;;6295
"RTN","DVB458P6",84,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",85,0)
 ;;6296
"RTN","DVB458P6",86,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~0^389.14~0^389.16~1^389.18~1^389.2~0^389.7~1^389.8~0^389.9~0
"RTN","DVB458P6",87,0)
 ;;6297
"RTN","DVB458P6",88,0)
 ;;389.00~0^389.01~0^389.02~0^389.03~0^389.04~0^389.08~0^389.15~0^389.10~0^389.12~1^389.14~1^389.16~0^389.18~1^389.2~0^389.7~0^389.8~0^389.9~0
"RTN","DVB458P6",89,0)
 ;;6801
"RTN","DVB458P6",90,0)
 ;;502.~1
"RTN","DVB458P6",91,0)
 ;;6802
"RTN","DVB458P6",92,0)
 ;;500.~1^503.~1^504.~1^505.~1
"RTN","DVB458P6",93,0)
 ;;6803
"RTN","DVB458P6",94,0)
 ;;039.1~1
"RTN","DVB458P6",95,0)
 ;;6806
"RTN","DVB458P6",96,0)
 ;;117.1~1
"RTN","DVB458P6",97,0)
 ;;7810
"RTN","DVB458P6",98,0)
 ;;103.0~1^103.1~1^103.2~1^103.3~1^103.9~1
"RTN","DVB458P6",99,0)
 ;;9206
"RTN","DVB458P6",100,0)
 ;;296.00~1^296.01~1^296.02~1^296.03~1^296.04~1^296.05~1^296.06~1^296.10~1^296.11~1^296.12~1^296.13~1^296.14~1^296.15~1^296.16~1^296.40~1^296.41~1^296.42~1^296.43~1^296.44~1^296.45~1^;
"RTN","DVB458P6",101,0)
 ;;296.46~1^296.50~1^296.51~1^296.52~1^296.53~1^296.54~1^296.55~1^296.56~1^296.60~1^296.61~1^296.62~1^296.63~1^296.64~1^296.65~1^296.66~1^296.7~1^296.80~1^296.81~1
"RTN","DVB458P6",102,0)
 ;;9207
"RTN","DVB458P6",103,0)
 ;;296.20~1^296.21~1^296.22~1^296.23~1^296.24~1^296.25~1^296.26~1^296.30~1^296.31~1^296.32~1^296.33~1^296.34~1^296.35~1^296.36~1^296.82~1^298.0~1
"RTN","DVB458P6",104,0)
 ;;9402
"RTN","DVB458P6",105,0)
 ;;300.10~1^300.11~1^300.15~1
"RTN","DVB458P6",106,0)
 ;;9405
"RTN","DVB458P6",107,0)
 ;;300.4~1
"RTN","DVB458P6",108,0)
 ;;$EXIT
"UP",31,31.01,-1)
31^ICD
"UP",31,31.01,0)
31.01
"VER")
8.0^22.0
"^DD",31,31,20,0)
RELATED ICD9 CODES^31.01PA^^ICD;0
"^DD",31,31,20,21,0)
^^5^5^3070306^
"^DD",31,31,20,21,1,0)
The Veterans Health Administration (VHA) has mapped the Veteran Benefits
"^DD",31,31,20,21,2,0)
Administration (VBA) 4 digit RATED DISABILITIES (VA) code terminology to
"^DD",31,31,20,21,3,0)
the ICD-9-CM codes used for billing and reporting purposes within VistA.
"^DD",31,31,20,21,4,0)
This mapping will help automate the Service Connected (SC) decision for
"^DD",31,31,20,21,5,0)
outpatient encounters.
"^DD",31,31.01,0)
RELATED ICD9 CODES SUB-FIELD^^.02^2
"^DD",31,31.01,0,"DT")
3061208
"^DD",31,31.01,0,"IX","B",31.01,.01)

"^DD",31,31.01,0,"NM","RELATED ICD9 CODES")

"^DD",31,31.01,0,"UP")
31
"^DD",31,31.01,.01,0)
RELATED ICD9 CODES^P80'I^ICD9(^0;1^Q
"^DD",31,31.01,.01,1,0)
^.1
"^DD",31,31.01,.01,1,1,0)
31.01^B
"^DD",31,31.01,.01,1,1,1)
S ^DIC(31,DA(1),"ICD","B",$E(X,1,30),DA)=""
"^DD",31,31.01,.01,1,1,2)
K ^DIC(31,DA(1),"ICD","B",$E(X,1,30),DA)
"^DD",31,31.01,.01,21,0)
^^1^1^3070306^
"^DD",31,31.01,.01,21,1,0)
ICD9 code associated with the VBA code.
"^DD",31,31.01,.01,23,0)
^^1^1^3070306^
"^DD",31,31.01,.01,23,1,0)
A pointer to the ICD DIAGNOSIS file #80.
"^DD",31,31.01,.01,"DT")
3070118
"^DD",31,31.01,.02,0)
ICD9 MATCH^SI^0:PARTIAL MATCH;1:MATCH;^0;2^Q
"^DD",31,31.01,.02,3)
Enter 1 for a match or 0 for a partial match.
"^DD",31,31.01,.02,21,0)
^.001^2^2^3070306^^^^
"^DD",31,31.01,.02,21,1,0)
If this ICD9 code is a true match for the VBA code then the value 
"^DD",31,31.01,.02,21,2,0)
will be a 1. Otherwise it is a 0 indicating a partial match.
"^DD",31,31.01,.02,"DT")
3070118
**INSTALL NAME**
SD*5.3*495
"BLD",6889,0)
SD*5.3*495^SCHEDULING^0^3070824^y
"BLD",6889,1,0)
^^2^2^3070221^
"BLD",6889,1,1,0)
Please refer to patch SD*5.3*495 in the National Patch Module for a
"BLD",6889,1,2,0)
complete description of this patch.
"BLD",6889,4,0)
^9.64PA^409.48^1
"BLD",6889,4,409.48,0)
409.48
"BLD",6889,4,409.48,222)
y^y^f^^^^n
"BLD",6889,4,"B",409.48,409.48)

"BLD",6889,6.3)
50
"BLD",6889,"ABPKG")
n
"BLD",6889,"INID")
^
"BLD",6889,"INIT")
POST^SD53P495
"BLD",6889,"KRN",0)
^9.67PA^8989.52^19
"BLD",6889,"KRN",.4,0)
.4
"BLD",6889,"KRN",.4,"NM",0)
^9.68A^^
"BLD",6889,"KRN",.401,0)
.401
"BLD",6889,"KRN",.401,"NM",0)
^9.68A^^
"BLD",6889,"KRN",.402,0)
.402
"BLD",6889,"KRN",.402,"NM",0)
^9.68A^^
"BLD",6889,"KRN",.403,0)
.403
"BLD",6889,"KRN",.5,0)
.5
"BLD",6889,"KRN",.84,0)
.84
"BLD",6889,"KRN",3.6,0)
3.6
"BLD",6889,"KRN",3.8,0)
3.8
"BLD",6889,"KRN",3.8,"NM",0)
^9.68A^1^1
"BLD",6889,"KRN",3.8,"NM",1,0)
SDSC NIGHTLY TALLY^^0
"BLD",6889,"KRN",3.8,"NM","B","SDSC NIGHTLY TALLY",1)

"BLD",6889,"KRN",9.2,0)
9.2
"BLD",6889,"KRN",9.8,0)
9.8
"BLD",6889,"KRN",9.8,"NM",0)
^9.68A^36^23
"BLD",6889,"KRN",9.8,"NM",1,0)
SDSCLM^^0^B8362461
"BLD",6889,"KRN",9.8,"NM",2,0)
SDSCLM1^^0^B677645
"BLD",6889,"KRN",9.8,"NM",4,0)
SDSCAPI^^0^B21470995
"BLD",6889,"KRN",9.8,"NM",5,0)
SDSCCHK^^0^B39800348
"BLD",6889,"KRN",9.8,"NM",6,0)
SDSCCLM^^0^B1275412
"BLD",6889,"KRN",9.8,"NM",8,0)
SDSCEDT^^0^B76725826
"BLD",6889,"KRN",9.8,"NM",9,0)
SDSCINS^^0^B11936927
"BLD",6889,"KRN",9.8,"NM",10,0)
SDSCLST^^0^B5358321
"BLD",6889,"KRN",9.8,"NM",11,0)
SDSCMSR^^0^B50399971
"BLD",6889,"KRN",9.8,"NM",12,0)
SDSCOMP^^0^B63599781
"BLD",6889,"KRN",9.8,"NM",18,0)
SDSCPRG^^0^B10441801
"BLD",6889,"KRN",9.8,"NM",19,0)
SDSCPRM^^0^B856844
"BLD",6889,"KRN",9.8,"NM",20,0)
SDSCPRV^^0^B25452487
"BLD",6889,"KRN",9.8,"NM",22,0)
SDSCRP1^^0^B37970877
"BLD",6889,"KRN",9.8,"NM",23,0)
SDSCRP2^^0^B51118024
"BLD",6889,"KRN",9.8,"NM",24,0)
SDSCRPT1^^0^B49147516
"BLD",6889,"KRN",9.8,"NM",25,0)
SDSCRPT2^^0^B34356180
"BLD",6889,"KRN",9.8,"NM",26,0)
SDSCSSD^^0^B17495006
"BLD",6889,"KRN",9.8,"NM",27,0)
SDSCUSR^^0^B25529113
"BLD",6889,"KRN",9.8,"NM",28,0)
SDSCUTL^^0^B29887017
"BLD",6889,"KRN",9.8,"NM",33,0)
SDCOM^^0^B6631731
"BLD",6889,"KRN",9.8,"NM",35,0)
SD53P495^^0^B87466494
"BLD",6889,"KRN",9.8,"NM",36,0)
SDSCNSCP^^0^B15365722
"BLD",6889,"KRN",9.8,"NM","B","SD53P495",35)

"BLD",6889,"KRN",9.8,"NM","B","SDCOM",33)

"BLD",6889,"KRN",9.8,"NM","B","SDSCAPI",4)

"BLD",6889,"KRN",9.8,"NM","B","SDSCCHK",5)

"BLD",6889,"KRN",9.8,"NM","B","SDSCCLM",6)

"BLD",6889,"KRN",9.8,"NM","B","SDSCEDT",8)

"BLD",6889,"KRN",9.8,"NM","B","SDSCINS",9)

"BLD",6889,"KRN",9.8,"NM","B","SDSCLM",1)

"BLD",6889,"KRN",9.8,"NM","B","SDSCLM1",2)

"BLD",6889,"KRN",9.8,"NM","B","SDSCLST",10)

"BLD",6889,"KRN",9.8,"NM","B","SDSCMSR",11)

"BLD",6889,"KRN",9.8,"NM","B","SDSCNSCP",36)

"BLD",6889,"KRN",9.8,"NM","B","SDSCOMP",12)

"BLD",6889,"KRN",9.8,"NM","B","SDSCPRG",18)

"BLD",6889,"KRN",9.8,"NM","B","SDSCPRM",19)

"BLD",6889,"KRN",9.8,"NM","B","SDSCPRV",20)

"BLD",6889,"KRN",9.8,"NM","B","SDSCRP1",22)

"BLD",6889,"KRN",9.8,"NM","B","SDSCRP2",23)

"BLD",6889,"KRN",9.8,"NM","B","SDSCRPT1",24)

"BLD",6889,"KRN",9.8,"NM","B","SDSCRPT2",25)

"BLD",6889,"KRN",9.8,"NM","B","SDSCSSD",26)

"BLD",6889,"KRN",9.8,"NM","B","SDSCUSR",27)

"BLD",6889,"KRN",9.8,"NM","B","SDSCUTL",28)

"BLD",6889,"KRN",19,0)
19
"BLD",6889,"KRN",19,"NM",0)
^9.68A^30^22
"BLD",6889,"KRN",19,"NM",1,0)
SDSC CHECK COMPILE^^0
"BLD",6889,"KRN",19,"NM",2,0)
SDSC COMPILE^^0
"BLD",6889,"KRN",19,"NM",3,0)
SDSC EDIT BY DATE^^0
"BLD",6889,"KRN",19,"NM",4,0)
SDSC EDIT LISTMAN^^0
"BLD",6889,"KRN",19,"NM",5,0)
SDSC FIRST PARTY REPORT^^0
"BLD",6889,"KRN",19,"NM",6,0)
SDSC MANAGER SUMMARY REPORT^^0
"BLD",6889,"KRN",19,"NM",8,0)
SDSC MENU^^0
"BLD",6889,"KRN",19,"NM",9,0)
SDSC NIGHTLY COMPILE^^0
"BLD",6889,"KRN",19,"NM",12,0)
SDSC PROVIDER TOTAL REPORT^^0
"BLD",6889,"KRN",19,"NM",14,0)
SDSC RECOVERED REPORT^^0
"BLD",6889,"KRN",19,"NM",15,0)
SDSC REPORTS^^0
"BLD",6889,"KRN",19,"NM",16,0)
SDSC SERVICE TOTAL REPORT^^0
"BLD",6889,"KRN",19,"NM",17,0)
SDSC SINGLE EDIT^^0
"BLD",6889,"KRN",19,"NM",18,0)
SDSC THIRD PARTY REPORT^^0
"BLD",6889,"KRN",19,"NM",23,0)
SDSC USER TOTAL REPORT^^0
"BLD",6889,"KRN",19,"NM",24,0)
SDSC SITE PARAMETER^^0
"BLD",6889,"KRN",19,"NM",25,0)
SDSC USER REPORT^^0
"BLD",6889,"KRN",19,"NM",26,0)
SDSC PROVIDER REPORT^^0
"BLD",6889,"KRN",19,"NM",27,0)
SDSC UNBILL AMT REPORT^^0
"BLD",6889,"KRN",19,"NM",28,0)
SDMGR^^2
"BLD",6889,"KRN",19,"NM",29,0)
SDSC ENC REPORT^^0
"BLD",6889,"KRN",19,"NM",30,0)
SDSC PURGE NSC ENC^^0
"BLD",6889,"KRN",19,"NM","B","SDMGR",28)

"BLD",6889,"KRN",19,"NM","B","SDSC CHECK COMPILE",1)

"BLD",6889,"KRN",19,"NM","B","SDSC COMPILE",2)

"BLD",6889,"KRN",19,"NM","B","SDSC EDIT BY DATE",3)

"BLD",6889,"KRN",19,"NM","B","SDSC EDIT LISTMAN",4)

"BLD",6889,"KRN",19,"NM","B","SDSC ENC REPORT",29)

"BLD",6889,"KRN",19,"NM","B","SDSC FIRST PARTY REPORT",5)

"BLD",6889,"KRN",19,"NM","B","SDSC MANAGER SUMMARY REPORT",6)

"BLD",6889,"KRN",19,"NM","B","SDSC MENU",8)

"BLD",6889,"KRN",19,"NM","B","SDSC NIGHTLY COMPILE",9)

"BLD",6889,"KRN",19,"NM","B","SDSC PROVIDER REPORT",26)

"BLD",6889,"KRN",19,"NM","B","SDSC PROVIDER TOTAL REPORT",12)

"BLD",6889,"KRN",19,"NM","B","SDSC PURGE NSC ENC",30)

"BLD",6889,"KRN",19,"NM","B","SDSC RECOVERED REPORT",14)

"BLD",6889,"KRN",19,"NM","B","SDSC REPORTS",15)

"BLD",6889,"KRN",19,"NM","B","SDSC SERVICE TOTAL REPORT",16)

"BLD",6889,"KRN",19,"NM","B","SDSC SINGLE EDIT",17)

"BLD",6889,"KRN",19,"NM","B","SDSC SITE PARAMETER",24)

"BLD",6889,"KRN",19,"NM","B","SDSC THIRD PARTY REPORT",18)

"BLD",6889,"KRN",19,"NM","B","SDSC UNBILL AMT REPORT",27)

"BLD",6889,"KRN",19,"NM","B","SDSC USER REPORT",25)

"BLD",6889,"KRN",19,"NM","B","SDSC USER TOTAL REPORT",23)

"BLD",6889,"KRN",19.1,0)
19.1
"BLD",6889,"KRN",19.1,"NM",0)
^9.68A^2^2
"BLD",6889,"KRN",19.1,"NM",1,0)
SDSC CLINICAL^^0
"BLD",6889,"KRN",19.1,"NM",2,0)
SDSC SUPER^^0
"BLD",6889,"KRN",19.1,"NM","B","SDSC CLINICAL",1)

"BLD",6889,"KRN",19.1,"NM","B","SDSC SUPER",2)

"BLD",6889,"KRN",101,0)
101
"BLD",6889,"KRN",101,"NM",0)
^9.68A^6^6
"BLD",6889,"KRN",101,"NM",1,0)
SDSC ACCEPT^^0
"BLD",6889,"KRN",101,"NM",2,0)
SDSC CHANGE^^0
"BLD",6889,"KRN",101,"NM",3,0)
SDSC DETAIL^^0
"BLD",6889,"KRN",101,"NM",4,0)
SDSC MENU^^0
"BLD",6889,"KRN",101,"NM",5,0)
SDSC RECORD MENU^^0
"BLD",6889,"KRN",101,"NM",6,0)
SDSC SEND^^0
"BLD",6889,"KRN",101,"NM","B","SDSC ACCEPT",1)

"BLD",6889,"KRN",101,"NM","B","SDSC CHANGE",2)

"BLD",6889,"KRN",101,"NM","B","SDSC DETAIL",3)

"BLD",6889,"KRN",101,"NM","B","SDSC MENU",4)

"BLD",6889,"KRN",101,"NM","B","SDSC RECORD MENU",5)

"BLD",6889,"KRN",101,"NM","B","SDSC SEND",6)

"BLD",6889,"KRN",409.61,0)
409.61
"BLD",6889,"KRN",409.61,"NM",0)
^9.68A^2^2
"BLD",6889,"KRN",409.61,"NM",1,0)
SDSC DETAIL^^0
"BLD",6889,"KRN",409.61,"NM",2,0)
SDSC REVIEW^^0
"BLD",6889,"KRN",409.61,"NM","B","SDSC DETAIL",1)

"BLD",6889,"KRN",409.61,"NM","B","SDSC REVIEW",2)

"BLD",6889,"KRN",771,0)
771
"BLD",6889,"KRN",870,0)
870
"BLD",6889,"KRN",8989.51,0)
8989.51
"BLD",6889,"KRN",8989.51,"NM",0)
^9.68A^1^1
"BLD",6889,"KRN",8989.51,"NM",1,0)
SDSC SITE PARAMETER^^0
"BLD",6889,"KRN",8989.51,"NM","B","SDSC SITE PARAMETER",1)

"BLD",6889,"KRN",8989.52,0)
8989.52
"BLD",6889,"KRN",8989.52,"NM",0)
^9.68A^^
"BLD",6889,"KRN",8994,0)
8994
"BLD",6889,"KRN","B",.4,.4)

"BLD",6889,"KRN","B",.401,.401)

"BLD",6889,"KRN","B",.402,.402)

"BLD",6889,"KRN","B",.403,.403)

"BLD",6889,"KRN","B",.5,.5)

"BLD",6889,"KRN","B",.84,.84)

"BLD",6889,"KRN","B",3.6,3.6)

"BLD",6889,"KRN","B",3.8,3.8)

"BLD",6889,"KRN","B",9.2,9.2)

"BLD",6889,"KRN","B",9.8,9.8)

"BLD",6889,"KRN","B",19,19)

"BLD",6889,"KRN","B",19.1,19.1)

"BLD",6889,"KRN","B",101,101)

"BLD",6889,"KRN","B",409.61,409.61)

"BLD",6889,"KRN","B",771,771)

"BLD",6889,"KRN","B",870,870)

"BLD",6889,"KRN","B",8989.51,8989.51)

"BLD",6889,"KRN","B",8989.52,8989.52)

"BLD",6889,"KRN","B",8994,8994)

"BLD",6889,"PRE")
SD53P495
"BLD",6889,"QUES",0)
^9.62^^
"BLD",6889,"REQB",0)
^9.611^4^4
"BLD",6889,"REQB",1,0)
SD*5.3*466^2
"BLD",6889,"REQB",2,0)
DVB*4.0*58^2
"BLD",6889,"REQB",3,0)
PRCA*4.5*250^2
"BLD",6889,"REQB",4,0)
IB*2.0*369^2
"BLD",6889,"REQB","B","DVB*4.0*58",2)

"BLD",6889,"REQB","B","IB*2.0*369",4)

"BLD",6889,"REQB","B","PRCA*4.5*250",3)

"BLD",6889,"REQB","B","SD*5.3*466",1)

"FIA",409.48)
SDSC SERVICE CONNECTED CHANGES
"FIA",409.48,0)
^SDSC(409.48,
"FIA",409.48,0,0)
409.48P
"FIA",409.48,0,1)
y^y^f^^^^n
"FIA",409.48,0,10)

"FIA",409.48,0,11)

"FIA",409.48,0,"RLRO")

"FIA",409.48,0,"VR")
5.3^SD
"FIA",409.48,409.48)
0
"FIA",409.48,409.481)
0
"INIT")
POST^SD53P495
"IX",409.48,409.48,"AF",0)
409.48^AF^Cross reference by PROVIDER and DATE OF ENCOUNTER^R^^R^IR^I^409.48^^^^^S
"IX",409.48,409.48,"AF",.1,0)
^^3^3^3070302^
"IX",409.48,409.48,"AF",.1,1,0)
This cross reference (by PROVIDER and DATE OF ENCOUNTER) is used by a
"IX",409.48,409.48,"AF",.1,2,0)
report of the providers who have had encounters reviewed through the
"IX",409.48,409.48,"AF",.1,3,0)
ASCD options.
"IX",409.48,409.48,"AF",1)
S ^SDSC(409.48,"AF",X(1),X(2),DA)=""
"IX",409.48,409.48,"AF",2)
K ^SDSC(409.48,"AF",X(1),X(2),DA)
"IX",409.48,409.48,"AF",2.5)
K ^SDSC(409.48,"AF")
"IX",409.48,409.48,"AF",11.1,0)
^.114IA^2^2
"IX",409.48,409.48,"AF",11.1,1,0)
1^F^409.48^.08^^1^F
"IX",409.48,409.48,"AF",11.1,1,3)

"IX",409.48,409.48,"AF",11.1,2,0)
2^F^409.48^.07^^2^F
"IX",409.48,409.48,"AF",11.1,2,3)

"IX",409.48,409.48,"AG",0)
409.48^AG^Cross reference by LAST EDITED BY and DATE OF ENCOUNTER^R^^R^IR^I^409.48^^^^^S
"IX",409.48,409.48,"AG",.1,0)
^^3^3^3070302^
"IX",409.48,409.48,"AG",.1,1,0)
This cross reference (by LAST EDITED BY and DATE OF ENCOUNTER) is used by 
"IX",409.48,409.48,"AG",.1,2,0)
a report of the users who reviewed encounters and what they did to each 
"IX",409.48,409.48,"AG",.1,3,0)
through the ASCD options.
"IX",409.48,409.48,"AG",1)
S ^SDSC(409.48,"AG",X(1),X(2),DA)=""
"IX",409.48,409.48,"AG",2)
K ^SDSC(409.48,"AG",X(1),X(2),DA)
"IX",409.48,409.48,"AG",2.5)
K ^SDSC(409.48,"AG")
"IX",409.48,409.48,"AG",11.1,0)
^.114IA^2^2
"IX",409.48,409.48,"AG",11.1,1,0)
1^F^409.48^.03^^1^F
"IX",409.48,409.48,"AG",11.1,2,0)
2^F^409.48^.07^^2^F
"IX",409.48,409.48,"C",0)
409.48^C^Cross Reference by STATUS and DATE OF ENCOUNTER^R^^R^IR^I^409.48^^^^^LS
"IX",409.48,409.48,"C",.1,0)
^^4^4^3040923^
"IX",409.48,409.48,"C",.1,1,0)
This cross reference (by STATUS and DATE OF ENCOUNTER) is used by a
"IX",409.48,409.48,"C",.1,2,0)
summary report of the status of encounters found on a particular day 
"IX",409.48,409.48,"C",.1,3,0)
and also by a loop that runs through the NEW or REVIEW statuses for
"IX",409.48,409.48,"C",.1,4,0)
a date range.
"IX",409.48,409.48,"C",1)
S ^SDSC(409.48,"C",X(1),X(2),DA)=""
"IX",409.48,409.48,"C",2)
K ^SDSC(409.48,"C",X(1),X(2),DA)
"IX",409.48,409.48,"C",2.5)
K ^SDSC(409.48,"C")
"IX",409.48,409.48,"C",11.1,0)
^.114IA^2^2
"IX",409.48,409.48,"C",11.1,1,0)
1^F^409.48^.05^^1^F
"IX",409.48,409.48,"C",11.1,1,3)

"IX",409.48,409.48,"C",11.1,2,0)
2^F^409.48^.07^^2^F
"IX",409.48,409.48,"C",11.1,2,3)

"KRN",3.8,6198,-1)
0^1
"KRN",3.8,6198,0)
SDSC NIGHTLY TALLY^PU^n^^^^
"KRN",3.8,6198,2,0)
^3.801^3^3^3070319^^^^
"KRN",3.8,6198,2,1,0)
This mail group is for ASCD (Automated Service Connected Designation)
"KRN",3.8,6198,2,2,0)
software.  A breakdown of records reviewed during the nightly process will
"KRN",3.8,6198,2,3,0)
be sent to this mail group.
"KRN",3.8,6198,3)

"KRN",19,227,-1)
2^28
"KRN",19,227,0)
SDMGR^Scheduling Manager's Menu^^M^.5^^^^^^^16^^1
"KRN",19,227,10,0)
^19.01IP^8^5
"KRN",19,227,10,8,0)
12958
"KRN",19,227,10,8,"^")
SDSC MENU
"KRN",19,227,"U")
SCHEDULING MANAGER'S MENU
"KRN",19,12732,-1)
0^24
"KRN",19,12732,0)
SDSC SITE PARAMETER^ASCD Compile Parameter^^R^^SDSC SUPER^^^^^^SCHEDULING^^1
"KRN",19,12732,1,0)
^19.06^2^2^3070320^^^
"KRN",19,12732,1,1,0)
This option allows the supervisor to adjust the number of days the
"KRN",19,12732,1,2,0)
compile uses to check for completed outpatient encounters.
"KRN",19,12732,20)
W @IOF
"KRN",19,12732,25)
EN^SDSCPRM
"KRN",19,12732,"U")
ASCD COMPILE PARAMETER
"KRN",19,12942,-1)
0^1
"KRN",19,12942,0)
SDSC CHECK COMPILE^Compile Results Report^^R^^^^^^^^SCHEDULING
"KRN",19,12942,1,0)
^19.06^1^1^3070302^^^^
"KRN",19,12942,1,1,0)
This report prints out why encounters were not compiled into ASCD.
"KRN",19,12942,25)
EN^SDSCCHK
"KRN",19,12942,"U")
COMPILE RESULTS REPORT
"KRN",19,12943,-1)
0^2
"KRN",19,12943,0)
SDSC COMPILE^Compile ASCD Encounters by Date Range^^R^^^^^^^^SCHEDULING
"KRN",19,12943,1,0)
^19.06^8^8^3070521^^^
"KRN",19,12943,1,1,0)
This option compares POVs of visits/encounters with the rated disabilities
"KRN",19,12943,1,2,0)
of a patient to verify if the visit is service connected. If the visit
"KRN",19,12943,1,3,0)
cannot be verified as service connected, the encounter will be stored
"KRN",19,12943,1,4,0)
for review and reporting.
"KRN",19,12943,1,5,0)
 
"KRN",19,12943,1,6,0)
This option is interactive.  It will ask the users for a date range.  It
"KRN",19,12943,1,7,0)
is suggested that this be run at least once a month to update any records
"KRN",19,12943,1,8,0)
not completed at the time of the nightly compile.
"KRN",19,12943,25)
COMPILE^SDSCOMP
"KRN",19,12943,"U")
COMPILE ASCD ENCOUNTERS BY DAT
"KRN",19,12944,-1)
0^3
"KRN",19,12944,0)
SDSC EDIT BY DATE^Edit ASCD Encounters by Date Range^^R^^^^^^^^SCHEDULING
"KRN",19,12944,1,0)
^^2^2^3061019^
"KRN",19,12944,1,1,0)
This option allows the user to edit the service connected information for
"KRN",19,12944,1,2,0)
a set of previously compiled encounters for a specific date range.
"KRN",19,12944,25)
START^SDSCEDT
"KRN",19,12944,"U")
EDIT ASCD ENCOUNTERS BY DATE R
"KRN",19,12945,-1)
0^4
"KRN",19,12945,0)
SDSC EDIT LISTMAN^Edit ASCD Encounters by ListMan^^R^^^^^^^^SCHEDULING
"KRN",19,12945,1,0)
^19.06^2^2^3070515^^^^
"KRN",19,12945,1,1,0)
This option allows the user to review and edit Automated Service
"KRN",19,12945,1,2,0)
Connected Designation encounters via a ListMan screen.
"KRN",19,12945,25)
EN^SDSCLST
"KRN",19,12945,"U")
EDIT ASCD ENCOUNTERS BY LISTMA
"KRN",19,12946,-1)
0^5
"KRN",19,12946,0)
SDSC FIRST PARTY REPORT^First Party Billable Service Connected Report^^R^^^^^^^^SCHEDULING
"KRN",19,12946,1,0)
^19.06^2^2^3070302^^^
"KRN",19,12946,1,1,0)
This report displays information on any encounters found by the ASCD
"KRN",19,12946,1,2,0)
compile that are potentially billable to first party (means test).
"KRN",19,12946,25)
NSCCOP^SDSCRPT1
"KRN",19,12946,"U")
FIRST PARTY BILLABLE SERVICE C
"KRN",19,12947,-1)
0^29
"KRN",19,12947,0)
SDSC ENC REPORT^Service Connected Encounters Report^^R^^^^^^^^SCHEDULING
"KRN",19,12947,1,0)
^^2^2^3070327^
"KRN",19,12947,1,1,0)
This report displays details of the current status of each encounter
"KRN",19,12947,1,2,0)
found by the Automated Service Connected Designation compile.
"KRN",19,12947,25)
RDPOV^SDSCRPT1
"KRN",19,12947,"U")
SERVICE CONNECTED ENCOUNTERS R
"KRN",19,12948,-1)
0^9
"KRN",19,12948,0)
SDSC NIGHTLY COMPILE^Compile ASCD Encounters on a Nightly Basis^^R^^^^^^^^SCHEDULING
"KRN",19,12948,1,0)
^^6^6^3070418^
"KRN",19,12948,1,1,0)
This option compares the outpatient encounter visit with the rated
"KRN",19,12948,1,2,0)
disabilities of a patient to verify if the visit is service connected. If
"KRN",19,12948,1,3,0)
the visit cannot be verified as service connected, the encounter will be
"KRN",19,12948,1,4,0)
stored for review and reporting.  This option is not interactive.  It
"KRN",19,12948,1,5,0)
compiles data for the previous day.  It is suggested that this option be
"KRN",19,12948,1,6,0)
scheduled in TaskMan to run daily.
"KRN",19,12948,25)
AUTODT^SDSCOMP
"KRN",19,12948,"U")
COMPILE ASCD ENCOUNTERS ON A N
"KRN",19,12949,-1)
0^26
"KRN",19,12949,0)
SDSC PROVIDER REPORT^Provider Service Connected Encounters Report^^R^^^^^^^^SCHEDULING^^1
"KRN",19,12949,1,0)
^19.06^3^3^3070302^^^^
"KRN",19,12949,1,1,0)
This report can either display details or a summary of the encounters
"KRN",19,12949,1,2,0)
found by the ASCD compile sorted by the primary provider from the
"KRN",19,12949,1,3,0)
encounter/visit.
"KRN",19,12949,20)
W @IOF
"KRN",19,12949,25)
SCPRV^SDSCRPT1
"KRN",19,12949,"U")
PROVIDER SERVICE CONNECTED ENC
"KRN",19,12951,-1)
0^14
"KRN",19,12951,0)
SDSC RECOVERED REPORT^Estimated Recovered Costs Report^^R^^^^^^^^SCHEDULING
"KRN",19,12951,1,0)
^19.06^2^2^3070320^^^
"KRN",19,12951,1,1,0)
This is a report which will look for bills and payments for encounters
"KRN",19,12951,1,2,0)
that have had their Service Connected status changed by ASCD options.
"KRN",19,12951,25)
EN^SDSCRP2
"KRN",19,12951,"U")
ESTIMATED RECOVERED COSTS REPO
"KRN",19,12952,-1)
0^17
"KRN",19,12952,0)
SDSC SINGLE EDIT^Edit Single ASCD Encounter^^R^^^^^^^^SCHEDULING
"KRN",19,12952,1,0)
^^2^2^3061019^
"KRN",19,12952,1,1,0)
This option allows the user to edit the service connected information for
"KRN",19,12952,1,2,0)
any specific encounter previously selected by a compile.
"KRN",19,12952,25)
START1^SDSCEDT
"KRN",19,12952,"U")
EDIT SINGLE ASCD ENCOUNTER
"KRN",19,12953,-1)
0^18
"KRN",19,12953,0)
SDSC THIRD PARTY REPORT^Third Party Billable Service Connected Report^^R^^^^^^^^SCHEDULING
"KRN",19,12953,1,0)
^19.06^2^2^3070302^^^
"KRN",19,12953,1,1,0)
This report displays information on any encounters found by the ASCD
"KRN",19,12953,1,2,0)
compile that are potentially billable to third party (insurance).
"KRN",19,12953,25)
NSCINS^SDSCRPT1
"KRN",19,12953,"U")
THIRD PARTY BILLABLE SERVICE C
"KRN",19,12954,-1)
0^27
"KRN",19,12954,0)
SDSC UNBILL AMT REPORT^Unbilled/Billable Amount Report^^R^^^^^^^^SCHEDULING^^1
"KRN",19,12954,1,0)
^19.06^4^4^3070327^^^^
"KRN",19,12954,1,1,0)
This option prints a report of those encounters whose service connected
"KRN",19,12954,1,2,0)
was changed and not yet billed. If a user has the supervisor key they
"KRN",19,12954,1,3,0)
will also be able to run the supervisor option which contains the names of
"KRN",19,12954,1,4,0)
the last two editors.
"KRN",19,12954,20)
W @IOF
"KRN",19,12954,25)
START^SDSCRP1
"KRN",19,12954,"U")
UNBILLED/BILLABLE AMOUNT REPOR
"KRN",19,12956,-1)
0^25
"KRN",19,12956,0)
SDSC USER REPORT^User Service Connected Encounters Report^^R^^^^^^^^SCHEDULING^^1
"KRN",19,12956,1,0)
^19.06^3^3^3070302^^
"KRN",19,12956,1,1,0)
This report can either display details or a summary of the encounters
"KRN",19,12956,1,2,0)
found by the ASCD compile sorted by the user who last edited the service
"KRN",19,12956,1,3,0)
connection information for the encounter.
"KRN",19,12956,20)
W @IOF
"KRN",19,12956,25)
SCUSR^SDSCRPT1
"KRN",19,12956,"U")
USER SERVICE CONNECTED ENCOUNT
"KRN",19,12958,-1)
0^8
"KRN",19,12958,0)
SDSC MENU^Automated Service Connected Designation Menu^^M^^^^^^^^SCHEDULING
"KRN",19,12958,1,0)
^19.06^2^2^3070521^^^^
"KRN",19,12958,1,1,0)
This menu contains all the options related to the Automated Service 
"KRN",19,12958,1,2,0)
Connected Designation module.
"KRN",19,12958,10,0)
^19.01IP^18^7
"KRN",19,12958,10,1,0)
12943
"KRN",19,12958,10,1,"^")
SDSC COMPILE
"KRN",19,12958,10,5,0)
12944
"KRN",19,12958,10,5,"^")
SDSC EDIT BY DATE
"KRN",19,12958,10,6,0)
12952
"KRN",19,12958,10,6,"^")
SDSC SINGLE EDIT
"KRN",19,12958,10,11,0)
12945
"KRN",19,12958,10,11,"^")
SDSC EDIT LISTMAN
"KRN",19,12958,10,15,0)
12959
"KRN",19,12958,10,15,"^")
SDSC REPORTS
"KRN",19,12958,10,17,0)
12732
"KRN",19,12958,10,17,"^")
SDSC SITE PARAMETER
"KRN",19,12958,10,18,0)
13008
"KRN",19,12958,10,18,"^")
SDSC PURGE NSC ENC
"KRN",19,12958,10.1)

"KRN",19,12958,99)
60771,63681
"KRN",19,12958,"U")
AUTOMATED SERVICE CONNECTED DE
"KRN",19,12959,-1)
0^15
"KRN",19,12959,0)
SDSC REPORTS^ASCD Reports^^M^^^^^^^^SCHEDULING
"KRN",19,12959,1,0)
^19.06^2^2^3070329^^
"KRN",19,12959,1,1,0)
This menu contains all the reports related to the Automated Service
"KRN",19,12959,1,2,0)
Connected Designation module.
"KRN",19,12959,10,0)
^19.01IP^12^12
"KRN",19,12959,10,1,0)
12960
"KRN",19,12959,10,1,"^")
SDSC MANAGER SUMMARY REPORT
"KRN",19,12959,10,2,0)
12961
"KRN",19,12959,10,2,"^")
SDSC PROVIDER TOTAL REPORT
"KRN",19,12959,10,3,0)
12962
"KRN",19,12959,10,3,"^")
SDSC SERVICE TOTAL REPORT
"KRN",19,12959,10,4,0)
12963
"KRN",19,12959,10,4,"^")
SDSC USER TOTAL REPORT
"KRN",19,12959,10,5,0)
12942
"KRN",19,12959,10,5,"^")
SDSC CHECK COMPILE
"KRN",19,12959,10,6,0)
12947
"KRN",19,12959,10,6,"^")
SDSC ENC REPORT
"KRN",19,12959,10,7,0)
12946
"KRN",19,12959,10,7,"^")
SDSC FIRST PARTY REPORT
"KRN",19,12959,10,8,0)
12949
"KRN",19,12959,10,8,"^")
SDSC PROVIDER REPORT
"KRN",19,12959,10,9,0)
12951
"KRN",19,12959,10,9,"^")
SDSC RECOVERED REPORT
"KRN",19,12959,10,10,0)
12954
"KRN",19,12959,10,10,"^")
SDSC UNBILL AMT REPORT
"KRN",19,12959,10,11,0)
12953
"KRN",19,12959,10,11,"^")
SDSC THIRD PARTY REPORT
"KRN",19,12959,10,12,0)
12956
"KRN",19,12959,10,12,"^")
SDSC USER REPORT
"KRN",19,12959,99)
60716,58794
"KRN",19,12959,"U")
ASCD REPORTS
"KRN",19,12960,-1)
0^6
"KRN",19,12960,0)
SDSC MANAGER SUMMARY REPORT^Manager Summary Report^^R^^SDSC SUPER^^^^^^SCHEDULING
"KRN",19,12960,1,0)
^19.06^1^1^3070302^^^^
"KRN",19,12960,1,1,0)
This option compiles and prints the ASCD Managers Summary Report.
"KRN",19,12960,25)
EN^SDSCMSR
"KRN",19,12960,"U")
MANAGER SUMMARY REPORT
"KRN",19,12961,-1)
0^12
"KRN",19,12961,0)
SDSC PROVIDER TOTAL REPORT^Provider Total Summary Report^^R^^^^^^^^SCHEDULING
"KRN",19,12961,1,0)
^^3^3^3070326^
"KRN",19,12961,1,1,0)
This option displays provider totals by division for the VBA okay codes,
"KRN",19,12961,1,2,0)
changed service connected encounters and encounters where the service
"KRN",19,12961,1,3,0)
connected was not changed.
"KRN",19,12961,25)
EN^SDSCPRV
"KRN",19,12961,"U")
PROVIDER TOTAL SUMMARY REPORT
"KRN",19,12962,-1)
0^16
"KRN",19,12962,0)
SDSC SERVICE TOTAL REPORT^Clinic Service Total Summary Report^^R^^^^^^^^SCHEDULING
"KRN",19,12962,1,0)
^19.06^3^3^3070327^^^^
"KRN",19,12962,1,1,0)
This report displays the Service Connected changes by clinical service
"KRN",19,12962,1,2,0)
M:MEDICINE;S:SURGERY;P:PSYCHIATRY;R:REHAB MEDICINE;N:NEUROLOGY;0:NONE and
"KRN",19,12962,1,3,0)
by the clinic with that service.
"KRN",19,12962,25)
EN^SDSCSSD
"KRN",19,12962,"U")
CLINIC SERVICE TOTAL SUMMARY R
"KRN",19,12963,-1)
0^23
"KRN",19,12963,0)
SDSC USER TOTAL REPORT^User Total Summary Report^^R^^^^^^^^SCHEDULING
"KRN",19,12963,1,0)
^^14^14^3070327^
"KRN",19,12963,1,1,0)
This report will provide user edit type totals of encounters under the
"KRN",19,12963,1,2,0)
following categories per user:
"KRN",19,12963,1,3,0)
 
"KRN",19,12963,1,4,0)
1. REVIEW - Number of outpatient encounters set to Clinical Review.
"KRN",19,12963,1,5,0)
 
"KRN",19,12963,1,6,0)
2. SC to NSC - Number of outpatient encounters marked as 'Service
"KRN",19,12963,1,7,0)
               Connected=YES' but were changed to 'Service Connected =NO'.
"KRN",19,12963,1,8,0)
 
"KRN",19,12963,1,9,0)
3. NSC to SC - Number of outpatient encounters marked as 'Service
"KRN",19,12963,1,10,0)
               Connected=NO' but were changed to 'Service Connected=YES'.
"KRN",19,12963,1,11,0)
 
"KRN",19,12963,1,12,0)
4. SC KEPT - Number of outpatient encounters marked as 'Service
"KRN",19,12963,1,13,0)
             Connected=YES' or 'Service Connected = No' that were not
"KRN",19,12963,1,14,0)
             changed.
"KRN",19,12963,25)
EN^SDSCUSR
"KRN",19,12963,"U")
USER TOTAL SUMMARY REPORT
"KRN",19,13008,-1)
0^30
"KRN",19,13008,0)
SDSC PURGE NSC ENC^Purge ASCD NSC Encounters^^R^^SDSC SUPER^^^^^^SCHEDULING^^
"KRN",19,13008,1,0)
^19.06^4^4^3070521^^
"KRN",19,13008,1,1,0)
This option will purge encounters with a status of NEW where the 
"KRN",19,13008,1,2,0)
Encounter SC value equals the ASCD value of "NO" for a specified
"KRN",19,13008,1,3,0)
division(s) within a user defined date range. Users must have the SDSC
"KRN",19,13008,1,4,0)
SUPER key to run this option.
"KRN",19,13008,20)

"KRN",19,13008,25)
EN^SDSCNSCP
"KRN",19,13008,"U")
PURGE ASCD NSC ENCOUNTERS
"KRN",19.1,504,-1)
0^1
"KRN",19.1,504,0)
SDSC CLINICAL^SC Clinical User
"KRN",19.1,504,1,0)
^^2^2^3070320^
"KRN",19.1,504,1,1,0)
This key should be assigned to any clinical reviewer of encounters that 
"KRN",19.1,504,1,2,0)
are part of the Automated Service Connected Designation (ASCD) system.
"KRN",19.1,505,-1)
0^2
"KRN",19.1,505,0)
SDSC SUPER^SC Supervisor
"KRN",19.1,505,1,0)
^^2^2^3070320^
"KRN",19.1,505,1,1,0)
This key should be assigned to a supervisor reviewer of encounters that
"KRN",19.1,505,1,2,0)
are part of the Automated Service Connected Designation (ASCD) system.
"KRN",101,4107,-1)
0^1
"KRN",101,4107,0)
SDSC ACCEPT^Retain SvcConnected Status^^A^^^^^^^^SCHEDULING
"KRN",101,4107,4)
45
"KRN",101,4107,20)
D ACC^SDSCLST
"KRN",101,4107,28)
NO
"KRN",101,4107,99)
60563,68629
"KRN",101,4108,-1)
0^2
"KRN",101,4108,0)
SDSC CHANGE^Modify SvcConnected Status^^A^^^^^^^^SCHEDULING
"KRN",101,4108,4)
45
"KRN",101,4108,20)
D EDT^SDSCLST
"KRN",101,4108,28)
YES
"KRN",101,4108,99)
60563,68778
"KRN",101,4109,-1)
0^3
"KRN",101,4109,0)
SDSC DETAIL^Review Encounter^^A^^^^^^^^SCHEDULING
"KRN",101,4109,4)
45
"KRN",101,4109,20)
D SEL^SDSCLST
"KRN",101,4109,24)
I $G(VALMCNT)
"KRN",101,4109,99)
60563,68856
"KRN",101,4110,-1)
0^4
"KRN",101,4110,0)
SDSC MENU^^^M^^^^^^^^SCHEDULING
"KRN",101,4110,4)
45
"KRN",101,4110,10,0)
^101.01PA^1^1
"KRN",101,4110,10,1,0)
4109^^^
"KRN",101,4110,10,1,"^")
SDSC DETAIL
"KRN",101,4110,24)
I $G(VALMCNT)
"KRN",101,4110,26)
D SHOW^VALM
"KRN",101,4110,99)
60565,59032
"KRN",101,4111,-1)
0^6
"KRN",101,4111,0)
SDSC SEND^Flag for Clinical Review^^A^^^^^^^^SCHEDULING
"KRN",101,4111,4)
45
"KRN",101,4111,20)
D REV^SDSCLST
"KRN",101,4111,28)
REV
"KRN",101,4111,99)
60563,69097
"KRN",101,4112,-1)
0^5
"KRN",101,4112,0)
SDSC RECORD MENU^Edit Detail Record Menu^^M^^^^^^^^SCHEDULING
"KRN",101,4112,4)
45
"KRN",101,4112,10,0)
^101.01PA^3^3
"KRN",101,4112,10,1,0)
4107^NO^2^
"KRN",101,4112,10,1,"^")
SDSC ACCEPT
"KRN",101,4112,10,2,0)
4108^YES^1^
"KRN",101,4112,10,2,"^")
SDSC CHANGE
"KRN",101,4112,10,3,0)
4111^REV^3^
"KRN",101,4112,10,3,"^")
SDSC SEND
"KRN",101,4112,26)
D SHOW^VALM
"KRN",101,4112,99)
60582,56464
"KRN",409.61,847,-1)
0^1
"KRN",409.61,847,0)
SDSC DETAIL^1^^80^2^18^1^1^^SDSC RECORD MENU^Encounter Detail^1^^1
"KRN",409.61,847,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,847,"ARRAY")
 ^TMP("SDSCLST",$J)
"KRN",409.61,847,"FNL")
D EXIT^SDSCLM1
"KRN",409.61,847,"HDR")
D HDR^SDSCLM1
"KRN",409.61,847,"HLP")
D HELP^SDSCLM1
"KRN",409.61,847,"INIT")
D INIT^SDSCLM1
"KRN",409.61,848,-1)
0^2
"KRN",409.61,848,0)
SDSC REVIEW^1^^80^6^18^1^1^^SDSC MENU^ASCD^1^^1
"KRN",409.61,848,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,848,"COL",0)
^409.621^5^5
"KRN",409.61,848,"COL",1,0)
ENCDT^19^16^Enc Date/Time
"KRN",409.61,848,"COL",2,0)
ENCNO^8^10^Encounter #
"KRN",409.61,848,"COL",3,0)
PAT^37^32^Patient
"KRN",409.61,848,"COL",4,0)
STAT^71^9^Status
"KRN",409.61,848,"COL",5,0)
LINENUM^1^6
"KRN",409.61,848,"COL","B","ENCDT",1)

"KRN",409.61,848,"COL","B","ENCNO",2)

"KRN",409.61,848,"COL","B","LINENUM",5)

"KRN",409.61,848,"COL","B","PAT",3)

"KRN",409.61,848,"COL","B","STAT",4)

"KRN",409.61,848,"FNL")
D EXIT^SDSCLM
"KRN",409.61,848,"HDR")
D HDR^SDSCLM
"KRN",409.61,848,"HLP")
D HELP^SDSCLM
"KRN",409.61,848,"INIT")
D INIT^SDSCLM
"KRN",8989.51,460,-1)
0^1
"KRN",8989.51,460,0)
SDSC SITE PARAMETER^SDSC SITE PARAMETER^0^CHECK DAYS^DAYS
"KRN",8989.51,460,1)
N^^Enter a number between 1-99999.
"KRN",8989.51,460,2)
K:(X<1)!(X>99999) X
"KRN",8989.51,460,6)
N^^Enter a number between 1-99999.
"KRN",8989.51,460,7)
K:(X<1)!(X>99999) X
"KRN",8989.51,460,30,0)
^8989.513I^1^1
"KRN",8989.51,460,30,1,0)
1^4
"MBREQ")
0
"ORD",3,19.1)
19.1;3;1;;KEY^XPDTA1;;;KEYF2^XPDIA1;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",11,3.8)
3.8;11;;;MAILG^XPDTA1;MAILGF1^XPDIA1;MAILGE1^XPDIA1;MAILGF2^XPDIA1;;MAILGDEL^XPDIA1(%)
"ORD",11,3.8,0)
MAIL GROUP
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",17,409.61)
409.61;17;1;;;;;;;LMDEL^XPDIA1
"ORD",17,409.61,0)
LIST TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"ORD",20,8989.51)
8989.51;20;;;PAR1E1^XPDTA2;PAR1F1^XPDIA3;PAR1E1^XPDIA3;PAR1F2^XPDIA3;;PAR1DEL^XPDIA3(%)
"ORD",20,8989.51,0)
PARAMETER DEFINITION
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
495^3070824
"PKG",16,22,1,"PAH",1,1,0)
^^2^2^3070824
"PKG",16,22,1,"PAH",1,1,1,0)
Please refer to patch SD*5.3*495 in the National Patch Module for a
"PKG",16,22,1,"PAH",1,1,2,0)
complete description of this patch.
"PRE")
SD53P495
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
23
"RTN","SD53P495")
0^35^B87466494
"RTN","SD53P495",1,0)
SD53P495 ;ALB/RBS - ENV/POST-INSTALL FOR PATCH SD*5.3*495 ; 5/2/07 12:24pm
"RTN","SD53P495",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SD53P495",3,0)
 Q
"RTN","SD53P495",4,0)
ENV ;Environment check
"RTN","SD53P495",5,0)
 S XPDABORT=""
"RTN","SD53P495",6,0)
 ;checks programmer variables
"RTN","SD53P495",7,0)
 D PROGCHK(.XPDABORT)
"RTN","SD53P495",8,0)
 ;check if install is running
"RTN","SD53P495",9,0)
 D ISRUNING(.XPDABORT)
"RTN","SD53P495",10,0)
 I XPDABORT="" K XPDABORT
"RTN","SD53P495",11,0)
 Q
"RTN","SD53P495",12,0)
POST ;Post-Install
"RTN","SD53P495",13,0)
 D POST1
"RTN","SD53P495",14,0)
 ;Check for SCOUT file
"RTN","SD53P495",15,0)
 I '$D(^ANUSB(626140)) D  Q
"RTN","SD53P495",16,0)
 . D NOFILE
"RTN","SD53P495",17,0)
 D TASK
"RTN","SD53P495",18,0)
 Q
"RTN","SD53P495",19,0)
POST1 ;Set parameter value
"RTN","SD53P495",20,0)
 N SDDAYS,SDERR,SDPARM
"RTN","SD53P495",21,0)
 S SDPARM="SDSC SITE PARAMETER",SDDAYS=30
"RTN","SD53P495",22,0)
 D EN^XPAR("DIV",SDPARM,1,SDDAYS,.SDERR)
"RTN","SD53P495",23,0)
 D BMES^XPDUTL("******")
"RTN","SD53P495",24,0)
 I '$G(SDERR) D
"RTN","SD53P495",25,0)
 . D MES^XPDUTL(SDPARM_" parameter set to "_SDDAYS_" days SUCCESSFULLY.")
"RTN","SD53P495",26,0)
 E  D
"RTN","SD53P495",27,0)
 . D MES^XPDUTL(SDPARM_" parameter set FAILED.")
"RTN","SD53P495",28,0)
 D MES^XPDUTL("******")
"RTN","SD53P495",29,0)
 Q
"RTN","SD53P495",30,0)
START ;Background job entry point
"RTN","SD53P495",31,0)
 N SDAIEN,SDANUSB,SDX,SDFDAIEN,SDARAY,SDERAY,SDSAVE
"RTN","SD53P495",32,0)
 N SDTOT,SDTOT1,SDTOT2,SDTOT3,SDENCPTR,SDCKCNT,SDSTOP,SDENT,SDFIL,DFN
"RTN","SD53P495",33,0)
 D XTMP
"RTN","SD53P495",34,0)
 ;seed var's if Re-Run
"RTN","SD53P495",35,0)
 I $D(^XTMP("SD53P495","TOT")) D
"RTN","SD53P495",36,0)
 . S SDTOT=+$G(^XTMP("SD53P495","TOT"))
"RTN","SD53P495",37,0)
 . S SDTOT1=+$G(^XTMP("SD53P495","TOT1"))
"RTN","SD53P495",38,0)
 . S SDTOT2=+$G(^XTMP("SD53P495","TOT2"))
"RTN","SD53P495",39,0)
 . S SDTOT3=+$G(^XTMP("SD53P495","TOT3"))
"RTN","SD53P495",40,0)
 . S (SDSAVE,SDENCPTR)=+$G(^XTMP("SD53P495","ENCOUNTER"))
"RTN","SD53P495",41,0)
 E  D
"RTN","SD53P495",42,0)
 . S (SDAIEN,SDENCPTR,SDSAVE,SDTOT,SDTOT1,SDTOT2,SDTOT3)=0
"RTN","SD53P495",43,0)
 S SDCKCNT=100,SDSTOP=0
"RTN","SD53P495",44,0)
 F  S SDENCPTR=$O(^ANUSB(626140,"B",SDENCPTR)) Q:'SDENCPTR  D  Q:SDSTOP
"RTN","SD53P495",45,0)
 . S SDSAVE=SDENCPTR
"RTN","SD53P495",46,0)
 . K SDANUSB,SDARAY,SDERAY,SDENT
"RTN","SD53P495",47,0)
 . I +SDTOT#SDCKCNT=0,$$S^%ZTLOAD() S SDSTOP=1 Q
"RTN","SD53P495",48,0)
 . S SDAIEN=$O(^ANUSB(626140,"B",SDENCPTR,""),-1)
"RTN","SD53P495",49,0)
 . Q:'$G(SDAIEN)
"RTN","SD53P495",50,0)
 . S SDANUSB=$G(^ANUSB(626140,SDAIEN,0))
"RTN","SD53P495",51,0)
 . Q:'SDANUSB
"RTN","SD53P495",52,0)
 . S SDTOT=SDTOT+1
"RTN","SD53P495",53,0)
 . I $D(^SDSC(409.48,SDENCPTR,0)) S SDTOT3=SDTOT3+1 Q
"RTN","SD53P495",54,0)
 . I '$$GETOE^SDOE(SDENCPTR) D  Q
"RTN","SD53P495",55,0)
 . . S DFN=$P(SDANUSB,U,11) D DEM^VADPT S DFN=$E(VADM(1),1,15)
"RTN","SD53P495",56,0)
 . . S SDENT=DFN_" "_$$FMTE^XLFDT($P(SDANUSB,U,7),2)
"RTN","SD53P495",57,0)
 . . D UPXTMP(SDENCPTR,"NO (O/P) ENCOUNTER RECORD (#409.68)",SDENT) S SDTOT2=SDTOT2+1
"RTN","SD53P495",58,0)
 . D GETS^DIQ(626140,SDAIEN_",","**","I","SDARAY","SDERAY")
"RTN","SD53P495",59,0)
 . I $D(SDERAY) D  Q
"RTN","SD53P495",60,0)
 . . S SDENT=$G(SDERAY("DIERR",1,"TEXT",1))
"RTN","SD53P495",61,0)
 . . D UPXTMP(SDENCPTR,"NO (SCOUT) FILE DATA (#626140)",SDENT) S SDTOT2=SDTOT2+1
"RTN","SD53P495",62,0)
 . S SDFIL=$$FILE(SDENCPTR,SDAIEN,.SDARAY)
"RTN","SD53P495",63,0)
 . I '+SDFIL D  Q
"RTN","SD53P495",64,0)
 . . D UPXTMP(SDENCPTR,"FILING ERROR TO (#409.48)",$P(SDFIL,"^",2)) S SDTOT2=SDTOT2+1
"RTN","SD53P495",65,0)
 . E  D
"RTN","SD53P495",66,0)
 . . S SDTOT1=SDTOT1+1
"RTN","SD53P495",67,0)
 I SDSTOP D
"RTN","SD53P495",68,0)
 . S ^XTMP("SD53P495","STOPPED")=$$NOW^XLFDT()
"RTN","SD53P495",69,0)
 . S ZTSTOP=1
"RTN","SD53P495",70,0)
 E  D
"RTN","SD53P495",71,0)
 . S ^XTMP("SD53P495","COMPLETED")=$$NOW^XLFDT()
"RTN","SD53P495",72,0)
 S ^XTMP("SD53P495","ENCOUNTER")=SDSAVE
"RTN","SD53P495",73,0)
 S ^XTMP("SD53P495","TOT")=SDTOT,^XTMP("SD53P495","TOT1")=SDTOT1
"RTN","SD53P495",74,0)
 S ^XTMP("SD53P495","TOT2")=SDTOT2,^XTMP("SD53P495","TOT3")=SDTOT3
"RTN","SD53P495",75,0)
 K ^XTMP("SD53P495","RUNNING") D KVA^VADPT
"RTN","SD53P495",76,0)
 D SENDMSG(SDSTOP)
"RTN","SD53P495",77,0)
 Q
"RTN","SD53P495",78,0)
FILE(SDENCPTR,SDAIEN,SDARAY) ;file new entry
"RTN","SD53P495",79,0)
 ; create #409.48 file
"RTN","SD53P495",80,0)
 ; Input:
"RTN","SD53P495",81,0)
 ;   SDENCPTR - [required] O/P Encounter file pointer (#409.68)
"RTN","SD53P495",82,0)
 ;     SDAIEN - [required] IEN of (#626140) record to convert
"RTN","SD53P495",83,0)
 ;     SDARAY - [required] Array of Internal values of all fields
"RTN","SD53P495",84,0)
 ; Output:
"RTN","SD53P495",85,0)
 ;   Function Value - returns 1 on success, 0 on failure and error msg
"RTN","SD53P495",86,0)
 I '+$G(SDENCPTR)!'+$G(SDAIEN)!('$D(SDARAY)) Q 0
"RTN","SD53P495",87,0)
 N SDERR,SDFDA,SDFLD,SDFDAIEN,SDI,SDIENS,SDNUM,SDSTR,SDSTR1,SDSUB
"RTN","SD53P495",88,0)
 N DIC,DICR,DIE,DIERR,DD,DG,DO,DR,DA
"RTN","SD53P495",89,0)
 ; DINUM=X setup so new file IEN = O/P Encounter IEN
"RTN","SD53P495",90,0)
 S SDFDAIEN(1)=SDENCPTR
"RTN","SD53P495",91,0)
 ; setup main fields
"RTN","SD53P495",92,0)
 S SDIENS="+1,",SDAIEN=SDAIEN_","
"RTN","SD53P495",93,0)
 S SDSTR=".01^.02^.03^.04^.05^.06^.07^.08^.09^.1^.11^.12"
"RTN","SD53P495",94,0)
 F SDI=1:1:12 D
"RTN","SD53P495",95,0)
 . S SDFLD=$P(SDSTR,U,SDI)
"RTN","SD53P495",96,0)
 . S SDFDA(409.48,SDIENS,SDFLD)=$G(SDARAY(626140,SDAIEN,SDFLD,"I"))
"RTN","SD53P495",97,0)
 S SDFDA(409.48,SDIENS,.13)=1  ;SCOUT was always a 1 (SC)
"RTN","SD53P495",98,0)
 ; setup fields of (#409.481) multiple
"RTN","SD53P495",99,0)
 I $D(SDARAY(626140.01)) D
"RTN","SD53P495",100,0)
 . S SDSTR1=".01^.02^.03^.04^.05^.06",SDNUM=1,(SDSUB,SDIENS)=""
"RTN","SD53P495",101,0)
 . F  S SDSUB=$O(SDARAY(626140.01,SDSUB)) Q:SDSUB=""  D
"RTN","SD53P495",102,0)
 . . S SDNUM=SDNUM+1
"RTN","SD53P495",103,0)
 . . F SDI=1:1:6 S SDFLD=$P(SDSTR1,U,SDI) D
"RTN","SD53P495",104,0)
 . . . S SDIENS="+"_SDNUM_",+1,"
"RTN","SD53P495",105,0)
 . . . S SDFDA(409.481,SDIENS,SDFLD)=$G(SDARAY(626140.01,SDSUB,SDFLD,"I"))
"RTN","SD53P495",106,0)
 D UPDATE^DIE("","SDFDA","SDFDAIEN","SDERR")
"RTN","SD53P495",107,0)
 Q $S($D(SDERR):0,1:1)_"^"_$S($D(SDERR):$G(SDERR("DIERR",1,"TEXT",1)),1:"")
"RTN","SD53P495",108,0)
SENDMSG(SDSTOP) ;send MailMan msg to patch installer
"RTN","SD53P495",109,0)
 N DIFROM,SDMSG,SDTXT,SDLN,XMY,XMDUZ,XMSUB,XMTEXT,XMDUN,XMZ
"RTN","SD53P495",110,0)
 K ^TMP("SD53P495",$J)
"RTN","SD53P495",111,0)
 S XMSUB="SD*5.3*495 (SCOUT) FILE CONVERSION REPORT"
"RTN","SD53P495",112,0)
 S XMTEXT="^TMP(""SD53P495"",$J,",XMDUZ=.5,(XMY(DUZ),XMY(XMDUZ))=""
"RTN","SD53P495",113,0)
 S SDLN=0
"RTN","SD53P495",114,0)
 D ADD(.SDLN,"Patch:  SD*5.3*495 Automated Service Connected Designation")
"RTN","SD53P495",115,0)
 D ADD(.SDLN," "),ADD(.SDLN,"************")
"RTN","SD53P495",116,0)
 D ADD(.SDLN,"The existing Class III (SCOUT) file, ANU SERVICE CONNECTED CHANGES (#626140),")
"RTN","SD53P495",117,0)
 D ADD(.SDLN,"which contains O/P Encounter records that have been compiled for additional")
"RTN","SD53P495",118,0)
 D ADD(.SDLN,"Service Connected (SC) review, has been used to create a new Class I file")
"RTN","SD53P495",119,0)
 D ADD(.SDLN,"which will provide the same functionality.")
"RTN","SD53P495",120,0)
 D ADD(.SDLN," ")
"RTN","SD53P495",121,0)
 D ADD(.SDLN,"Only valid O/P Encounter records from the Class III (SCOUT) file,")
"RTN","SD53P495",122,0)
 D ADD(.SDLN,"ANU SERVICE CONNECTED CHANGES (#626140), have been filed into")
"RTN","SD53P495",123,0)
 D ADD(.SDLN,"the new SDSC SERVICE CONNECTED CHANGES (#409.48) file.")
"RTN","SD53P495",124,0)
 D ADD(.SDLN," ")
"RTN","SD53P495",125,0)
 D ADD(.SDLN,"The new Automated Service Connected Designation (ASCD) Menu Options")
"RTN","SD53P495",126,0)
 D ADD(.SDLN,"enable user access to the O/P Encounter records in the (#409.48) file.")
"RTN","SD53P495",127,0)
 D ADD(.SDLN,"************"),ADD(.SDLN," "),ADD(.SDLN," ")
"RTN","SD53P495",128,0)
 D ADD(.SDLN,"SUMMARY OF PROCESSING RESULTS:")
"RTN","SD53P495",129,0)
 D ADD(.SDLN,"==============================")
"RTN","SD53P495",130,0)
 D ADD(.SDLN," ")
"RTN","SD53P495",131,0)
 D ADD(.SDLN,"<<< The Class III (SCOUT) File Conversion has "_$S(+$G(SDSTOP):"NOT ",1:"")_"Completed. >>>")
"RTN","SD53P495",132,0)
 I +$G(SDSTOP) D
"RTN","SD53P495",133,0)
 . D ADD(.SDLN,"    Please restart the post-install process from the following")
"RTN","SD53P495",134,0)
 . D ADD(.SDLN,"    programmer's prompt:")
"RTN","SD53P495",135,0)
 . D ADD(.SDLN,"                          D POST^SD53P495")
"RTN","SD53P495",136,0)
 D ADD(.SDLN," "),ADD(.SDLN," ")
"RTN","SD53P495",137,0)
 D ADD(.SDLN,"  DATE/TIME TASK STARTED: "_$$FMTE^XLFDT(+$G(^XTMP("SD53P495","START")),"P"))
"RTN","SD53P495",138,0)
 I $G(SDSTOP) D
"RTN","SD53P495",139,0)
 . D ADD(.SDLN,"  DATE/TIME TASK STOPPED: "_$$FMTE^XLFDT(+$G(^XTMP("SD53P495","STOPPED")),"P"))
"RTN","SD53P495",140,0)
 E  D
"RTN","SD53P495",141,0)
 . D ADD(.SDLN,"DATE/TIME TASK COMPLETED: "_$$FMTE^XLFDT(+$G(^XTMP("SD53P495","COMPLETED")),"P"))
"RTN","SD53P495",142,0)
 I $D(^XTMP("SD53P495","LAST RUN")) D
"RTN","SD53P495",143,0)
 . D ADD(.SDLN,"      DATE/TIME LAST RUN: "_$$FMTE^XLFDT(+$G(^XTMP("SD53P495","LAST RUN")),"P"))
"RTN","SD53P495",144,0)
 D ADD(.SDLN," "),ADD(.SDLN," ")
"RTN","SD53P495",145,0)
 D ADD(.SDLN,"        TOTAL O/P ENCOUNTER RECORDS FOUND: "_+$G(^XTMP("SD53P495","TOT")))
"RTN","SD53P495",146,0)
 I +$G(^XTMP("SD53P495","TOT3")) D
"RTN","SD53P495",147,0)
 . D ADD(.SDLN,"       TOTAL RECORDS PREVIOUSLY CONVERTED: "_+$G(^XTMP("SD53P495","TOT3")))
"RTN","SD53P495",148,0)
 D ADD(.SDLN,"    TOTAL O/P ENCOUNTER RECORDS CONVERTED: "_+$G(^XTMP("SD53P495","TOT1")))
"RTN","SD53P495",149,0)
 D ADD(.SDLN,"TOTAL O/P ENCOUNTER RECORDS NOT CONVERTED: "_+$G(^XTMP("SD53P495","TOT2")))
"RTN","SD53P495",150,0)
 I +$G(^XTMP("SD53P495","TOT2")) D
"RTN","SD53P495",151,0)
 . D ADD(.SDLN,"                                         :")
"RTN","SD53P495",152,0)
 . N SDSUB,SDIEN,SDENT
"RTN","SD53P495",153,0)
 . S (SDSUB,SDIEN)=""
"RTN","SD53P495",154,0)
 . F  S SDSUB=$O(^XTMP("SD53P495","TOT2",SDSUB)) Q:SDSUB=""  D
"RTN","SD53P495",155,0)
 . . D ADD(.SDLN,"                     REASON NOT CONVERTED: "_SDSUB)
"RTN","SD53P495",156,0)
 . . D ADD(.SDLN,"                        O/P ENCOUNTER IEN:")
"RTN","SD53P495",157,0)
 . . F  S SDIEN=$O(^XTMP("SD53P495","TOT2",SDSUB,SDIEN)) Q:'SDIEN  D
"RTN","SD53P495",158,0)
 . . . S SDENT=$E(^XTMP("SD53P495","TOT2",SDSUB,SDIEN),1,30)
"RTN","SD53P495",159,0)
 . . . D ADD(.SDLN,"                                         : "_SDIEN_"-"_SDENT)
"RTN","SD53P495",160,0)
 . . D ADD(.SDLN,"                                         :")
"RTN","SD53P495",161,0)
 D ADD(.SDLN,"                         <END OF REPORT> :")
"RTN","SD53P495",162,0)
 D ^XMD
"RTN","SD53P495",163,0)
 K ^TMP("SD53P495",$J)
"RTN","SD53P495",164,0)
 Q
"RTN","SD53P495",165,0)
ADD(SDLN,SDTXT) ;add line
"RTN","SD53P495",166,0)
 Q:$L(SDTXT)'>0
"RTN","SD53P495",167,0)
 S SDLN=$G(SDLN)+1
"RTN","SD53P495",168,0)
 S ^TMP("SD53P495",$J,SDLN)=SDTXT
"RTN","SD53P495",169,0)
 Q
"RTN","SD53P495",170,0)
PROGCHK(XPDABORT) ;checks programmer variables
"RTN","SD53P495",171,0)
 I '$G(DUZ)!($G(DUZ(0))'="@")!('$G(DT))!($G(U)'="^") D
"RTN","SD53P495",172,0)
 . D BMES^XPDUTL("******")
"RTN","SD53P495",173,0)
 . D MES^XPDUTL("Your programming variables are not set up properly.")
"RTN","SD53P495",174,0)
 . D MES^XPDUTL("Installation aborted.")
"RTN","SD53P495",175,0)
 . D MES^XPDUTL("******")
"RTN","SD53P495",176,0)
 . S XPDABORT=2
"RTN","SD53P495",177,0)
 Q
"RTN","SD53P495",178,0)
ISRUNING(XPDABORT) ;check if running
"RTN","SD53P495",179,0)
 I +$G(^XTMP("SD53P495","RUNNING")) D
"RTN","SD53P495",180,0)
 . D BMES^XPDUTL("******")
"RTN","SD53P495",181,0)
 . D MES^XPDUTL("This patch is currently being Installed.  Try later.")
"RTN","SD53P495",182,0)
 . D MES^XPDUTL("Installation aborted...")
"RTN","SD53P495",183,0)
 . D MES^XPDUTL("******")
"RTN","SD53P495",184,0)
 . S XPDABORT=2
"RTN","SD53P495",185,0)
 Q
"RTN","SD53P495",186,0)
NOFILE ;no File
"RTN","SD53P495",187,0)
 D BMES^XPDUTL("******")
"RTN","SD53P495",188,0)
 D MES^XPDUTL("The Class III (SCOUT) File Conversion is NOT necessary because")
"RTN","SD53P495",189,0)
 D MES^XPDUTL("the ANU SERVICE CONNECTED CHANGES (#626140) file does not exist")
"RTN","SD53P495",190,0)
 D MES^XPDUTL("on this system.")
"RTN","SD53P495",191,0)
 D MES^XPDUTL("Post-Install process terminated...")
"RTN","SD53P495",192,0)
 D MES^XPDUTL("******")
"RTN","SD53P495",193,0)
 Q
"RTN","SD53P495",194,0)
TASK ;run TaskMan
"RTN","SD53P495",195,0)
 N ZTSK,ZTDTH,ZTRTN,ZTDESC,ZTIO,ZTSAVE,ZTREQ,ZTSTOP,SDSTOP
"RTN","SD53P495",196,0)
 S SDSTOP=+$G(^XTMP("SD53P495","STOPPED"))
"RTN","SD53P495",197,0)
 S ZTRTN="START^SD53P495"
"RTN","SD53P495",198,0)
 S ZTDESC="SD*5.3*495 (SCOUT) FILE CONVERSION PROCESSING"
"RTN","SD53P495",199,0)
 S ZTIO="",ZTDTH=$H,ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","SD53P495",200,0)
 D ^%ZTLOAD
"RTN","SD53P495",201,0)
 D BMES^XPDUTL("******")
"RTN","SD53P495",202,0)
 I '$D(ZTSK) D
"RTN","SD53P495",203,0)
 . D MES^XPDUTL("Unable to schedule TaskMan task to run the Class III (SCOUT) File")
"RTN","SD53P495",204,0)
 . D MES^XPDUTL("Conversion.")
"RTN","SD53P495",205,0)
 . D BMES^XPDUTL("Please re-run Post-Install routine POST^SD53P495 from")
"RTN","SD53P495",206,0)
 . D MES^XPDUTL("the programmer prompt.")
"RTN","SD53P495",207,0)
 . ;
"RTN","SD53P495",208,0)
 E  D
"RTN","SD53P495",209,0)
 . D MES^XPDUTL("Task "_ZTSK_" has been "_$S(+SDSTOP:"Re-",1:"")_"started to run the Class III (SCOUT) File")
"RTN","SD53P495",210,0)
 . D MES^XPDUTL("Conversion.")
"RTN","SD53P495",211,0)
 . I SDSTOP D
"RTN","SD53P495",212,0)
 . . D MES^XPDUTL("  <<< The last task run was STOPPED on "_$$FMTE^XLFDT(SDSTOP,"P")_". >>>")
"RTN","SD53P495",213,0)
 . D BMES^XPDUTL("You will receive a MailMan message when this task is completed")
"RTN","SD53P495",214,0)
 . D MES^XPDUTL("or if it has been manually stopped.")
"RTN","SD53P495",215,0)
 D MES^XPDUTL("******")
"RTN","SD53P495",216,0)
 Q
"RTN","SD53P495",217,0)
XTMP ;setup ^XTMP to control output for 90 days
"RTN","SD53P495",218,0)
 I $D(^XTMP("SD53P495",0)) D
"RTN","SD53P495",219,0)
 . S ^XTMP("SD53P495","LAST RUN")=$G(^XTMP("SD53P495","START"))
"RTN","SD53P495",220,0)
 E  D
"RTN","SD53P495",221,0)
 . N SDX
"RTN","SD53P495",222,0)
 . S SDX=$$FMADD^XLFDT($$NOW^XLFDT(),90)_U_$$NOW^XLFDT()
"RTN","SD53P495",223,0)
 . S SDX=SDX_"^SD*5.3*495 (SCOUT) FILE CONVERSION PROCESSING"
"RTN","SD53P495",224,0)
 . S ^XTMP("SD53P495",0)=SDX
"RTN","SD53P495",225,0)
 S ^XTMP("SD53P495","START")=$$NOW^XLFDT()
"RTN","SD53P495",226,0)
 S ^XTMP("SD53P495","RUNNING")="1"
"RTN","SD53P495",227,0)
 Q
"RTN","SD53P495",228,0)
UPXTMP(SDENCPTR,NODE,SDENT) ;add to ^XTMP
"RTN","SD53P495",229,0)
 ; Input:
"RTN","SD53P495",230,0)
 ;   SDENCPTR - Encounter IEN
"RTN","SD53P495",231,0)
 ;       NODE - Unique subscript
"RTN","SD53P495",232,0)
 ; Output: none
"RTN","SD53P495",233,0)
 Q:'$G(SDENCPTR)
"RTN","SD53P495",234,0)
 I $G(NODE)="" S NODE="UNKNOWN"
"RTN","SD53P495",235,0)
 S ^XTMP("SD53P495","TOT2",NODE,SDENCPTR)=$G(SDENT)
"RTN","SD53P495",236,0)
 Q
"RTN","SDCOM")
0^33^B6631731
"RTN","SDCOM",1,0)
SDCOM ;ALB/RMO - Process Completion - Check Out ;12 MAR 1993 11:10 am ; 1/19/07 1:37pm
"RTN","SDCOM",2,0)
 ;;5.3;Scheduling;**15,60,105,132,466,495**;Aug 13, 1993;Build 50
"RTN","SDCOM",3,0)
 ;
"RTN","SDCOM",4,0)
EN(SDOE,SDMOD,SDCPHDL,SDCOMF) ;Complete Check Out Process
"RTN","SDCOM",5,0)
 ; Input  -- SDOE     Outpatient Encounter file IEN
"RTN","SDCOM",6,0)
 ;           SDMOD    1=Interactive and 0=Non-interactive
"RTN","SDCOM",7,0)
 ;           SDCPHDL  Check Out Completion Handle  [Optional]
"RTN","SDCOM",8,0)
 ; Output -- SDCOMF   0=Incomplete, 1=Complete, 2=Already Complete
"RTN","SDCOM",9,0)
 N SDEVTF
"RTN","SDCOM",10,0)
 I $P($G(^SCE(+SDOE,0)),"^",7) S SDCOMF=2 G Q
"RTN","SDCOM",11,0)
 I '$$CHK(SDOE) S SDCOMF=0 W:$G(SDMOD) !!,*7,">>> ",$$ORG^SDCOU($P($G(^SCE(+SDOE,0)),"^",8))," not checked out.  Required information missing." G Q
"RTN","SDCOM",12,0)
 I '$G(SDCPHDL) N SDATA,SDCPHDL S SDEVTF=1 D EVT^SDCOU1(SDOE,"BEFORE",.SDCPHDL,.SDATA)
"RTN","SDCOM",13,0)
 D UPD(SDOE) S SDCOMF=1 I $G(SDMOD) D MSG
"RTN","SDCOM",14,0)
 I $G(SDEVTF),$G(SDCPHDL) D EVT^SDCOU1(SDOE,"AFTER",SDCPHDL,.SDATA)
"RTN","SDCOM",15,0)
Q Q
"RTN","SDCOM",16,0)
 ;
"RTN","SDCOM",17,0)
CHK(SDOE) ;Check if Process is Complete for Check Out
"RTN","SDCOM",18,0)
 ; Input  -- SDOE     Outpatient Encounter file IEN
"RTN","SDCOM",19,0)
 ; Output -- Process is Complete for Check Out
"RTN","SDCOM",20,0)
 ;           1=Yes and 0=No
"RTN","SDCOM",21,0)
 N DFN,SDCHK,SDCL,SDCLOEY,SDCOQUIT,SDCTI,SDDA,SDOE0,SDOEP,SDORG,SDSCDI,SDT,SCPROCA
"RTN","SDCOM",22,0)
 S SDOE0=$G(^SCE(+SDOE,0)),SDT=+SDOE0,DFN=+$P(SDOE0,"^",2),SDSCDI=$P(SDOE0,"^",3),SDCL=+$P(SDOE0,"^",4),SDOEP=+$P(SDOE0,"^",6),SDORG=+$P(SDOE0,"^",8),SDDA=+$P(SDOE0,"^",9)
"RTN","SDCOM",23,0)
 S SDCHK=1
"RTN","SDCOM",24,0)
 I SDOEP S SDCHK=0 G CHKQ
"RTN","SDCOM",25,0)
 I SDORG=1,'$$CODT^SDCOU(DFN,SDT,SDCL) D  G CHKQ:'SDCHK
"RTN","SDCOM",26,0)
 .I $$REQ^SDM1A(SDT)="CO" S SDCHK=0 Q
"RTN","SDCOM",27,0)
 .D DT^SDCO1(DFN,SDT,SDCL,SDDA,0,"",.SDCOQUIT)
"RTN","SDCOM",28,0)
 I $$REQ^SDM1A(SDT)'="CO" G CHKQ
"RTN","SDCOM",29,0)
 I SDORG=1,'$$CLINIC^SDAMU(SDCL) G CHKQ
"RTN","SDCOM",30,0)
 ;I "^1^2^"[("^"_SDORG_"^"),$$INP^SDAM2(DFN,SDT)="I" G CHKQ  ;SD*5.3*466 allow checks for inpatients as outpatients
"RTN","SDCOM",31,0)
 D CLASK^SDCO2(SDOE,.SDCLOEY)
"RTN","SDCOM",32,0)
 I $D(SDCLOEY) D  G CHKQ:'SDCHK
"RTN","SDCOM",33,0)
 .S SDCTI=0 F  S SDCTI=$O(SDCLOEY(SDCTI)) Q:'SDCTI  I $G(SDCLOEY(SDCTI))="" S SDCHK=0
"RTN","SDCOM",34,0)
 ;sent encounter to ASCD for review
"RTN","SDCOM",35,0)
 I $D(SDCLOEY(3)) D
"RTN","SDCOM",36,0)
 .N SCDXS,SCAMDX,DXS D GETDX^SDOE(SDOE,"SCDXS")
"RTN","SDCOM",37,0)
 .S DXS=0 F  S DXS=$O(SCDXS(DXS)) Q:'DXS  S SCAMDX(+SCDXS(DXS))=""
"RTN","SDCOM",38,0)
 .I $O(SCAMDX(0)) D ST^SDSCAPI(SDOE,.SCAMDX)
"RTN","SDCOM",39,0)
 I $$PRASK^SDCO3(SDOE),'$$PRV^SDOE(SDOE) S SDCHK=0 G CHKQ
"RTN","SDCOM",40,0)
 I $$DXASK^SDCO4(SDOE),'$$GETPDX^SDOE(SDOE) S SDCHK=0 G CHKQ
"RTN","SDCOM",41,0)
 I '$$CPT^SDOE(SDOE) S SDCHK=0 G CHKQ
"RTN","SDCOM",42,0)
CHKQ Q +$G(SDCHK)
"RTN","SDCOM",43,0)
 ;
"RTN","SDCOM",44,0)
UPD(SDOE) ;Update Check Out Process Completion Date
"RTN","SDCOM",45,0)
 ; Input  -- SDOE     Outpatient Encounter file IEN
"RTN","SDCOM",46,0)
 ; Output -- Update Check Out Process Completion Date
"RTN","SDCOM",47,0)
 N DA,DE,DIE,DQ,DR
"RTN","SDCOM",48,0)
 G UPDQ:'$D(^SCE(+SDOE,0))
"RTN","SDCOM",49,0)
 S DA=+SDOE,DIE="^SCE(",DR=".07///NOW"
"RTN","SDCOM",50,0)
 D ^DIE
"RTN","SDCOM",51,0)
UPDQ Q
"RTN","SDCOM",52,0)
 ;
"RTN","SDCOM",53,0)
MSG ;Check Out Message
"RTN","SDCOM",54,0)
 W !!?8,"...checked out ",$$FTIME^VALM1($P($G(^SCE(+SDOE,0)),"^",7))
"RTN","SDCOM",55,0)
 Q
"RTN","SDSCAPI")
0^4^B21470995
"RTN","SDSCAPI",1,0)
SDSCAPI ;ALB/JDS/JAM/RBS - Automated Service Connection Designation Review ; 4/16/07 10:39am
"RTN","SDSCAPI",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCAPI",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCAPI",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCAPI",5,0)
 ;
"RTN","SDSCAPI",6,0)
 ; Routine should be called at specified tags only.
"RTN","SDSCAPI",7,0)
 Q
"RTN","SDSCAPI",8,0)
SC(SDFN,SDXS,SDENC,SDVST) ; Determine if SC based on DXS codes
"RTN","SDSCAPI",9,0)
 ;  Input:
"RTN","SDSCAPI",10,0)
 ;    SDFN = Patient ien, file #2 [Required, if SDENC or SDVST undefined]
"RTN","SDSCAPI",11,0)
 ;    SDXS = Diagnosis code array [Optional, if SDENC defined]
"RTN","SDSCAPI",12,0)
 ;   SDENC = Encounter ien, file #409.68 [Optional]
"RTN","SDSCAPI",13,0)
 ;   SDVST = Visit ien, field #9000010 [Optional]
"RTN","SDSCAPI",14,0)
 ;
"RTN","SDSCAPI",15,0)
 ;  Output:
"RTN","SDSCAPI",16,0)
 ;    $$SDFILEOK = (4 piece data string ^ delimited)
"RTN","SDSCAPI",17,0)
 ;                 (SC flag^SC description^VBA/ICD9 match^ASCD Review)
"RTN","SDSCAPI",18,0)
 ;        SC flag:  1-SC, 0-NSC, ""-could not be determined
"RTN","SDSCAPI",19,0)
 ; SC description:  SC or NSC
"RTN","SDSCAPI",20,0)
 ; VBA/ICD9 match:  1-yes, 0-no
"RTN","SDSCAPI",21,0)
 ;           ASCD:  1-send to review, 0-don't send to review
"RTN","SDSCAPI",22,0)
 ;
"RTN","SDSCAPI",23,0)
 N SDOE0,SDFILEOK,SDOEDAT,SDKILL
"RTN","SDSCAPI",24,0)
 S SDENC=+$G(SDENC),SDFILEOK=""
"RTN","SDSCAPI",25,0)
 I 'SDENC S SDENC=+$O(^SCE("AVSIT",+$G(SDVST),0))
"RTN","SDSCAPI",26,0)
 I SDENC S SDOE0=$$GETOE^SDOE(SDENC)
"RTN","SDSCAPI",27,0)
 S SDOEDAT=$S(SDENC:+SDOE0,+$G(SDVST):+$G(^AUPNVSIT(SDVST,0)),1:DT)
"RTN","SDSCAPI",28,0)
 ; Get patient. If no patient, quit.
"RTN","SDSCAPI",29,0)
 I '$G(SDFN) S SDFN=$S(SDENC:$P(SDOE0,U,2),+$G(SDVST):$P($G(^AUPNVSIT(SDVST,0)),U,5),1:"")
"RTN","SDSCAPI",30,0)
 I '$G(SDFN) Q SDFILEOK
"RTN","SDSCAPI",31,0)
 ; diagnosis codes present
"RTN","SDSCAPI",32,0)
 I $O(SDXS(0)) D OPT3 Q SDFILEOK
"RTN","SDSCAPI",33,0)
 I 'SDENC Q SDFILEOK
"RTN","SDSCAPI",34,0)
 D OPT2 I $D(SDKILL) K SDXS
"RTN","SDSCAPI",35,0)
 Q SDFILEOK
"RTN","SDSCAPI",36,0)
 ;
"RTN","SDSCAPI",37,0)
OPT2 ; enter with no DXS defined; get ICD9 for visit/encounter
"RTN","SDSCAPI",38,0)
 N SCDXS
"RTN","SDSCAPI",39,0)
 K SDXS
"RTN","SDSCAPI",40,0)
 I '+$G(SDENC) Q
"RTN","SDSCAPI",41,0)
 D GETDX^SDOE(SDENC,"SCDXS")
"RTN","SDSCAPI",42,0)
 S SDXS=0 F  S SDXS=$O(SCDXS(SDXS)) Q:'SDXS  S SDXS(+SCDXS(SDXS))=""
"RTN","SDSCAPI",43,0)
 I $O(SDXS(0))="" Q
"RTN","SDSCAPI",44,0)
 S SDKILL=1
"RTN","SDSCAPI",45,0)
OPT3 ; enter with DXS defined
"RTN","SDSCAPI",46,0)
 N I,SDRD,SDRDIEN,SD31,ICDMCH,SDMCH,FL,SDARR
"RTN","SDSCAPI",47,0)
 ; Patient has no rated disabilities
"RTN","SDSCAPI",48,0)
 D RDIS^DGRPDB(SDFN,.SDARR)
"RTN","SDSCAPI",49,0)
 I '$D(SDARR) S SDFILEOK="1^SC^0^1" Q
"RTN","SDSCAPI",50,0)
 ; Patient has rated disabilities
"RTN","SDSCAPI",51,0)
 S (SDRD,FL)=0
"RTN","SDSCAPI",52,0)
 F  S SDRD=$O(SDARR(SDRD)) Q:'SDRD  D
"RTN","SDSCAPI",53,0)
 .S SDRDIEN=$P(SDARR(SDRD),U) Q:SDRDIEN=""
"RTN","SDSCAPI",54,0)
 .; Get code from eligibility file.
"RTN","SDSCAPI",55,0)
 .S I=0,SD31=$G(^DIC(31,SDRDIEN,0)) Q:SD31=""
"RTN","SDSCAPI",56,0)
 .; Get partial or true match on ICD9 code
"RTN","SDSCAPI",57,0)
 .F  S I=$O(SDXS(I)) Q:'I  D
"RTN","SDSCAPI",58,0)
 ..S SDMCH=$$MATCH(SDRDIEN,I,SDOEDAT,SDENC),ICDMCH(SDMCH)=""
"RTN","SDSCAPI",59,0)
 ; locate entry in the following priority order -
"RTN","SDSCAPI",60,0)
 F I="1^SC^1^0","1^SC^1^1","0^NSC^0^1","1^SC^0^1" I $D(ICDMCH(I)) S SDFILEOK=I Q
"RTN","SDSCAPI",61,0)
 Q
"RTN","SDSCAPI",62,0)
 ;
"RTN","SDSCAPI",63,0)
STORE ; Save the information for this encounter.
"RTN","SDSCAPI",64,0)
 N SDSC,SDIEN,SDERR
"RTN","SDSCAPI",65,0)
 S SDIEN(1)=SDENC
"RTN","SDSCAPI",66,0)
 S SDSC(409.48,"+1,",.01)=SDENC
"RTN","SDSCAPI",67,0)
 S SDSC(409.48,"+1,",.04)=DT
"RTN","SDSCAPI",68,0)
 S SDSC(409.48,"+1,",.07)=+SDOE0
"RTN","SDSCAPI",69,0)
 S SDSC(409.48,"+1,",.08)=SDPRV
"RTN","SDSCAPI",70,0)
 S SDSC(409.48,"+1,",.09)=$P(SDFILEOK,U,3)
"RTN","SDSCAPI",71,0)
 S SDSC(409.48,"+1,",.11)=$P(SDOE0,U,2)
"RTN","SDSCAPI",72,0)
 S SDSC(409.48,"+1,",.12)=$P(SDOE0,U,11)
"RTN","SDSCAPI",73,0)
 S SDSC(409.48,"+1,",.05)="N"
"RTN","SDSCAPI",74,0)
 S SDSC(409.48,"+1,",.13)=SDOSC
"RTN","SDSCAPI",75,0)
 D UPDATE^DIE("","SDSC","SDIEN","SDERR")
"RTN","SDSCAPI",76,0)
 I $D(SDERR) S ERR=1
"RTN","SDSCAPI",77,0)
 Q
"RTN","SDSCAPI",78,0)
ST(SDENC,SDXS) ;Reviews the diagnosis codes for an encounter and then
"RTN","SDSCAPI",79,0)
 ;determines whether or not to file, or delete the record from the
"RTN","SDSCAPI",80,0)
 ;ASCD file, SDSC SERVICE CONNECTED CHANGES (#409.48).
"RTN","SDSCAPI",81,0)
 ;
"RTN","SDSCAPI",82,0)
 ;   Input:   SDENC   = Encounter ien, file (#409.68) [Required]
"RTN","SDSCAPI",83,0)
 ;            SDXS    = Diagnosis code array [Optional]
"RTN","SDSCAPI",84,0)
 ;
"RTN","SDSCAPI",85,0)
 ;   Output:  $$ST value
"RTN","SDSCAPI",86,0)
 ;              0 = not filed for additional review
"RTN","SDSCAPI",87,0)
 ;              1 = filed for additional review
"RTN","SDSCAPI",88,0)
 ;              2 = deleted from (#409.48) file
"RTN","SDSCAPI",89,0)
 ;
"RTN","SDSCAPI",90,0)
 N SDLIST,SDOE0,SDEL,SDOEDAT,SDPRV,SDFN,SDFILEOK,ERR,SCVAL,SDCLIN,SDSTP
"RTN","SDSCAPI",91,0)
 N SDPAT,SDCST,SDKILL,SDV0,SDOSC,SDOEDT
"RTN","SDSCAPI",92,0)
 I '$G(SDENC) Q 0
"RTN","SDSCAPI",93,0)
 S SDOE0=$$GETOE^SDOE(SDENC) I SDOE0="" Q 0
"RTN","SDSCAPI",94,0)
 ;quit if child encounter
"RTN","SDSCAPI",95,0)
 I $P(SDOE0,U,6) Q 0
"RTN","SDSCAPI",96,0)
 S SDV0=$P(SDOE0,U,5),SDOSC=$$GET1^DIQ(9000010,SDV0_",",80001,"I")
"RTN","SDSCAPI",97,0)
 S SDPRV=$$PRIMVPRV^PXUTL1(SDV0),SDEL=$P(SDOE0,U,13),SCVAL=0
"RTN","SDSCAPI",98,0)
 S (SDOEDAT,SDOEDT)=+SDOE0,(SDFILEOK,ERR)=0,SDCLIN=$P(SDOE0,U,4)
"RTN","SDSCAPI",99,0)
 S SDCST=$P(SDOE0,U,3),(SDFN,SDPAT)=$P(SDOE0,U,2)
"RTN","SDSCAPI",100,0)
 ;no patient
"RTN","SDSCAPI",101,0)
 I 'SDPAT Q 0
"RTN","SDSCAPI",102,0)
 ;no clinic
"RTN","SDSCAPI",103,0)
 I 'SDCLIN Q 0
"RTN","SDSCAPI",104,0)
 ;no stop code
"RTN","SDSCAPI",105,0)
 I 'SDCST Q 0
"RTN","SDSCAPI",106,0)
 ;no visit SC value
"RTN","SDSCAPI",107,0)
 I SDOSC="" Q 0
"RTN","SDSCAPI",108,0)
 ;not checked-out
"RTN","SDSCAPI",109,0)
 I $P(SDOE0,U,12)'=2 Q 0
"RTN","SDSCAPI",110,0)
 ;check for non-count
"RTN","SDSCAPI",111,0)
 I $$NCTCL^SDSCUTL(SDCLIN) Q 0
"RTN","SDSCAPI",112,0)
 ;no eligibility
"RTN","SDSCAPI",113,0)
 I SDEL="" Q 0
"RTN","SDSCAPI",114,0)
 ;If eligibility is not service connected, quit.
"RTN","SDSCAPI",115,0)
 D ELIG I '$D(SDLIST(SDEL)) Q 0
"RTN","SDSCAPI",116,0)
 ;if non-billable for first and third party, quit
"RTN","SDSCAPI",117,0)
 I $$NBFP^SDSCUTL(SDENC),$$NBTP^SDSCUTL(SDENC) Q 0
"RTN","SDSCAPI",118,0)
 D
"RTN","SDSCAPI",119,0)
 .I $O(SDXS(0)) D OPT3 Q
"RTN","SDSCAPI",120,0)
 .D OPT2 I $D(SDKILL) K SDXS
"RTN","SDSCAPI",121,0)
 I SDFILEOK="" Q 0
"RTN","SDSCAPI",122,0)
 ;File encounter in ASCD if it does not exist
"RTN","SDSCAPI",123,0)
 I $P(SDFILEOK,U,4),'$D(^SDSC(409.48,SDENC,0)) D STORE Q 'ERR
"RTN","SDSCAPI",124,0)
 I '$P(SDFILEOK,U,4) D  Q SCVAL
"RTN","SDSCAPI",125,0)
 .;Set for review if Visit SC is different from ASCD
"RTN","SDSCAPI",126,0)
 .I SDOSC'=$P(SDFILEOK,U) Q:$D(^SDSC(409.48,SDENC,0))  D STORE S SCVAL='ERR Q
"RTN","SDSCAPI",127,0)
 .;Remove encounter from ASCD if no review needed
"RTN","SDSCAPI",128,0)
 .N DA,DIK
"RTN","SDSCAPI",129,0)
 .I $D(^SDSC(409.48,SDENC,0)) S DA=SDENC,DIK="^SDSC(409.48," D ^DIK S SCVAL=2
"RTN","SDSCAPI",130,0)
 Q 0
"RTN","SDSCAPI",131,0)
ELIG ;Compile list of service connected eligibility codes
"RTN","SDSCAPI",132,0)
 N I,J
"RTN","SDSCAPI",133,0)
 F I=1,3 S J=0 F  S J=$O(^DIC(8,"D",I,J)) Q:'J  S SDLIST(J)=""
"RTN","SDSCAPI",134,0)
 Q
"RTN","SDSCAPI",135,0)
MATCH(SDIEN31,SDXIEN,SDATE,SDENC) ;ICD9 matching code
"RTN","SDSCAPI",136,0)
 ; - api should be changed to lexicon in next version
"RTN","SDSCAPI",137,0)
 ;   Input:
"RTN","SDSCAPI",138,0)
 ;     SDIEN31 = File #31 [Required]
"RTN","SDSCAPI",139,0)
 ;     SDXIEN  = Diagnosis code ien, file #80 [Required]
"RTN","SDSCAPI",140,0)
 ;     SDATE   = Encounter date, [Optional] [Required for lexicon]
"RTN","SDSCAPI",141,0)
 ;     SDENC   = Encounter ien, file #409.68 [Required]
"RTN","SDSCAPI",142,0)
 ;
"RTN","SDSCAPI",143,0)
 ;  Output:
"RTN","SDSCAPI",144,0)
 ;    $$SDFILEOK = (4 piece data string ^ delimited)
"RTN","SDSCAPI",145,0)
 ;                 (SC flag^SC description^VBA/ICD9 match^ASCD Review)
"RTN","SDSCAPI",146,0)
 ;        SC flag:  1-SC, 0-NSC, ""-could not be determined
"RTN","SDSCAPI",147,0)
 ; SC description:  SC or NSC
"RTN","SDSCAPI",148,0)
 ; VBA/ICD9 match:  1-yes, 0-no
"RTN","SDSCAPI",149,0)
 ;           ASCD:  1-send to review, 0-don't send to review
"RTN","SDSCAPI",150,0)
 ;
"RTN","SDSCAPI",151,0)
 N SDMCH,SDXIEN1,SDXLVL,SDPDX
"RTN","SDSCAPI",152,0)
 I '$D(^DIC(31,SDIEN31,"ICD")) Q "1^SC^0^1"
"RTN","SDSCAPI",153,0)
 I '$D(^DIC(31,SDIEN31,"ICD","B",SDXIEN)) Q "0^NSC^0^1"
"RTN","SDSCAPI",154,0)
 S SDXIEN1=$O(^DIC(31,SDIEN31,"ICD","B",SDXIEN,0))
"RTN","SDSCAPI",155,0)
 S SDXLVL=$G(^DIC(31,SDIEN31,"ICD",+SDXIEN1,0)),SDMCH=+$P(SDXLVL,U,2)
"RTN","SDSCAPI",156,0)
 I ('SDXIEN1)!(SDXLVL="") Q "0^NSC^0^1"
"RTN","SDSCAPI",157,0)
 D GETPDX^SDOERPC(.SDPDX,SDENC)
"RTN","SDSCAPI",158,0)
 Q $S(SDMCH&(SDPDX=SDXIEN):"1^SC^1^0",1:"1^SC^1^1")
"RTN","SDSCCHK")
0^5^B39800348
"RTN","SDSCCHK",1,0)
SDSCCHK ;ALB/JAM/RBS - Check Encounters for Inclusion in ASCD ; 4/30/07 4:46pm
"RTN","SDSCCHK",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCCHK",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCCHK",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCCHK",5,0)
 ;
"RTN","SDSCCHK",6,0)
 Q
"RTN","SDSCCHK",7,0)
EN ;  Entry point
"RTN","SDSCCHK",8,0)
 N SDSCBDT,SDSCITE,SDSCDAY,ZTQUEUED,POP,ZTRTN,ZTDTH,ZTDESC,ZTSAVE
"RTN","SDSCCHK",9,0)
 ; Initialize system variables if not already set
"RTN","SDSCCHK",10,0)
 D HOME^%ZIS
"RTN","SDSCCHK",11,0)
 ; Get start and end date for compile.
"RTN","SDSCCHK",12,0)
 S (SDSCBDT,SDSCEDT,SDSCDAY)=""
"RTN","SDSCCHK",13,0)
 S SDSCITE=$P($$SITE^VASITE(),U,1)
"RTN","SDSCCHK",14,0)
 S SDSCDAY=$$GET^XPAR((+SDSCITE)_";DIC(4,","SDSC SITE PARAMETER")
"RTN","SDSCCHK",15,0)
 ; set default start date based on site parameter (30 days max)
"RTN","SDSCCHK",16,0)
 I SDSCDAY="" S SDSCDAY=30
"RTN","SDSCCHK",17,0)
 S SDSCBDT=$$FMADD^XLFDT(DT,-SDSCDAY),SDSCEDT=DT
"RTN","SDSCCHK",18,0)
 D GETDATE1^SDSCOMP I SDSCTDT="" G EXIT
"RTN","SDSCCHK",19,0)
 S DIR(0)="S^S:Summary Report;D:Detailed Report",DIR("B")="S"
"RTN","SDSCCHK",20,0)
 D ^DIR K DIR
"RTN","SDSCCHK",21,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCCHK",22,0)
 S SDANS=Y
"RTN","SDSCCHK",23,0)
 K %ZIS,IOP,IOC,ZTIO S %ZIS="MQ" D ^%ZIS G:POP EXIT
"RTN","SDSCCHK",24,0)
 I $D(IO("Q")) D  G EXIT
"RTN","SDSCCHK",25,0)
 . S ZTRTN="PRT^SDSCCHK",ZTDTH=$H,ZTDESC="ASCD Compile Results Report"
"RTN","SDSCCHK",26,0)
 . S ZTSAVE("SDANS")="",ZTSAVE("SDSCTDT")="",ZTSAVE("SDEDT")=""
"RTN","SDSCCHK",27,0)
 . K IO("Q") D ^%ZTLOAD W !,"REQUEST QUEUED"
"RTN","SDSCCHK",28,0)
 ;
"RTN","SDSCCHK",29,0)
PRT ;  Print results
"RTN","SDSCCHK",30,0)
 N SDCT,SDDCT,SDOEDT,SDOE,P,L,SDTXT,TOTAL,SDOANS
"RTN","SDSCCHK",31,0)
 K ^TMP("SDSCCHK",$J)
"RTN","SDSCCHK",32,0)
 D ELIG^SDSCOMP
"RTN","SDSCCHK",33,0)
 S SDOEDT=SDSCTDT,(SDCT,SDDCT)=0
"RTN","SDSCCHK",34,0)
 F  S SDOEDT=$O(^SCE("B",SDOEDT)) Q:(SDOEDT\1)>SDEDT  Q:SDOEDT=""  D
"RTN","SDSCCHK",35,0)
 . S SDOE=0
"RTN","SDSCCHK",36,0)
 . F  S SDOE=$O(^SCE("B",SDOEDT,SDOE)) Q:'SDOE  D FND
"RTN","SDSCCHK",37,0)
 ;
"RTN","SDSCCHK",38,0)
BEG ; Begin report
"RTN","SDSCCHK",39,0)
 S (P,L,SDABRT,TOTAL,SDOANS)=0
"RTN","SDSCCHK",40,0)
 S SDOANS=SDANS S:SDANS="D" SDANS="S"
"RTN","SDSCCHK",41,0)
 D HDR
"RTN","SDSCCHK",42,0)
 ;
"RTN","SDSCCHK",43,0)
 U IO
"RTN","SDSCCHK",44,0)
 D  G EXIT:$G(SDABRT)=1
"RTN","SDSCCHK",45,0)
 . S SDTXT=""
"RTN","SDSCCHK",46,0)
 . F  S SDTXT=$O(^TMP("SDSCCHK",$J,"TOTAL",SDTXT)) Q:SDTXT=""  D  Q:$G(SDABRT)=1
"RTN","SDSCCHK",47,0)
 .. W !,$J(^TMP("SDSCCHK",$J,"TOTAL",SDTXT),8),?10,SDTXT S L=L+1
"RTN","SDSCCHK",48,0)
 .. F I=" TP "," MT " W:SDTXT[I " *"
"RTN","SDSCCHK",49,0)
 .. S TOTAL=TOTAL+^TMP("SDSCCHK",$J,"TOTAL",SDTXT)
"RTN","SDSCCHK",50,0)
 .. I L+3>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCCHK",51,0)
 . W ! F I=1:1:79 W "-"
"RTN","SDSCCHK",52,0)
 . W !,$J(TOTAL,8),?10,"TOTAL Encounters"
"RTN","SDSCCHK",53,0)
 . W !!,"* Third Party=TP; Means Test=MT",!
"RTN","SDSCCHK",54,0)
 ;
"RTN","SDSCCHK",55,0)
 I SDOANS="D" S SDANS="D" D HDR D  G EXIT:$G(SDABRT)=1
"RTN","SDSCCHK",56,0)
 . S SDTXT=""
"RTN","SDSCCHK",57,0)
 . F  S SDTXT=$O(^TMP("SDSCCHK",$J,"DX",SDTXT)) Q:'SDTXT  D  Q:$G(SDABRT)=1
"RTN","SDSCCHK",58,0)
 .. S SDDATA=^TMP("SDSCCHK",$J,"DX",SDTXT)
"RTN","SDSCCHK",59,0)
 .. W !,$P(SDDATA,U,1),?12,$P(SDDATA,U,2),?24,$E($P(SDDATA,U,3),1,19),?44,$E($P(SDDATA,U,4),1,16)
"RTN","SDSCCHK",60,0)
 .. W ?62,$E($P(^TMP("SDSCCHK",$J,"DX",SDTXT),U,5),1,18),!,?10,$P($P(^TMP("SDSCCHK",$J,"DX",SDTXT),U,6),"(",1)
"RTN","SDSCCHK",61,0)
 .. S L=L+2
"RTN","SDSCCHK",62,0)
 .. I L+3>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCCHK",63,0)
 D RPTEND^SDSCRPT1
"RTN","SDSCCHK",64,0)
EXIT ;
"RTN","SDSCCHK",65,0)
 K SDABRT,SDANS,SDCLIN,SDEDT,SDFPTX,SDHDR,SDLIST,SDNWPV,SDOEX,SDPOV
"RTN","SDSCCHK",66,0)
 K SDSCEDT,SDSCTDT,SDSCTXT,I,X,Y,QUE,POP,DFN,SDDATA
"RTN","SDSCCHK",67,0)
 K ^TMP("SDSCCHK",$J),DTOUT,DUOUT
"RTN","SDSCCHK",68,0)
 Q
"RTN","SDSCCHK",69,0)
 ;
"RTN","SDSCCHK",70,0)
FND ;  Find errors with encounters
"RTN","SDSCCHK",71,0)
 N SDOEDAT,SDCLIN,SDPAT,SDEC,DFN,SDCST,SDV0,SDPNAM,SDFILEOK
"RTN","SDSCCHK",72,0)
 ; If this encounter has already been compiled for review, quit.
"RTN","SDSCCHK",73,0)
 I $D(^SDSC(409.48,SDOE,0)) Q
"RTN","SDSCCHK",74,0)
 ;
"RTN","SDSCCHK",75,0)
 S SDOEDAT=$$GETOE^SDOE(SDOE) I SDOEDAT="" S SDSCTXT="No Encounter zero node" D STORE Q
"RTN","SDSCCHK",76,0)
 ; If child encounter, quit
"RTN","SDSCCHK",77,0)
 I $P(SDOEDAT,U,6) Q
"RTN","SDSCCHK",78,0)
 S SDCLIN=$P(SDOEDAT,U,4)
"RTN","SDSCCHK",79,0)
 ; Get patient. If no patient, quit.
"RTN","SDSCCHK",80,0)
 S SDPAT=$P(SDOEDAT,U,2) I SDPAT="" S SDSCTXT="No Patient Pointer for this encounter" D STORE Q
"RTN","SDSCCHK",81,0)
 N VADM S DFN=SDPAT D DEM^VADPT S SDPNAM=VADM(1)
"RTN","SDSCCHK",82,0)
 ; Get visit file entry. If no visit, quit.
"RTN","SDSCCHK",83,0)
 S SDV0=$P(SDOEDAT,U,5) I SDV0="" S SDSCTXT="No Visit Pointer for this encounter" D STORE Q
"RTN","SDSCCHK",84,0)
 ; Get eligibility.  If no eligibility, quit.
"RTN","SDSCCHK",85,0)
 S SDEC=$P(SDOEDAT,U,13) I SDEC="" S SDSCTXT="Encounter eligibility is blank." D STORE Q
"RTN","SDSCCHK",86,0)
 ; If eligibility is not service connected, quit.
"RTN","SDSCCHK",87,0)
 I '$D(SDLIST(SDEC)) S SDSCTXT="Eligibility is not service connected" D STORE Q
"RTN","SDSCCHK",88,0)
 ; Get clinic. If no clinic, quit.
"RTN","SDSCCHK",89,0)
 I SDCLIN="" S SDSCTXT="No Clinic Pointer for this encounter" D STORE Q
"RTN","SDSCCHK",90,0)
 ; Get clinic stop code. If no clinic stop code, quit.
"RTN","SDSCCHK",91,0)
 S SDCST=$P(SDOEDAT,U,3) I SDCST="" S SDSCTXT="Clinic "_$P(^SC(SDCLIN,0),U,1)_" has no defined clinic stop code" D STORE Q
"RTN","SDSCCHK",92,0)
 ; If clinic is non-count, quit.
"RTN","SDSCCHK",93,0)
 I $$NCTCL^SDSCUTL(SDCLIN)  S SDSCTXT="Clinic "_$P(^SC(SDCLIN,0),U,1)_" is non-count" D STORE Q
"RTN","SDSCCHK",94,0)
 ; If encounter is non-billable for first and third party, quit.
"RTN","SDSCCHK",95,0)
 I $$NBFP(),$$NBTP() S SDSCTXT="Non-billable because "_SDFPTX D STORE Q
"RTN","SDSCCHK",96,0)
 ; Get and evaluate all ICD9 entries for the specified visit.
"RTN","SDSCCHK",97,0)
 S SDFILEOK=$$SC^SDSCAPI(DFN,,SDOE)
"RTN","SDSCCHK",98,0)
 ;no ICDs were found for this encounter SDFILEOK=""
"RTN","SDSCCHK",99,0)
 I SDFILEOK="" S SDSCTXT="No Diagnoses for this encounter" D STORED Q
"RTN","SDSCCHK",100,0)
 ;checks if ICD match found
"RTN","SDSCCHK",101,0)
 I +SDFILEOK D  Q
"RTN","SDSCCHK",102,0)
 .I '$P(SDFILEOK,"^",4) S SDSCTXT="A diagnosis fully matched a rated disability condition" D STORED Q
"RTN","SDSCCHK",103,0)
 .S SDSCTXT="A diagnosis partially matched a rated disability condition" D STORED
"RTN","SDSCCHK",104,0)
 ; ICDs that were found as non-service connected
"RTN","SDSCCHK",105,0)
 S SDSCTXT="No Diagnoses identified as service connected" D STORED
"RTN","SDSCCHK",106,0)
 Q
"RTN","SDSCCHK",107,0)
 ;
"RTN","SDSCCHK",108,0)
HDR ; Header
"RTN","SDSCCHK",109,0)
 ; Do not ask 'RETURN' before first page on CRT.
"RTN","SDSCCHK",110,0)
 I $E(IOST,1,2)="C-",P N DIR S DIR(0)="E" D ^DIR I 'Y S SDABRT=1 Q
"RTN","SDSCCHK",111,0)
 ; Do not print a form feed before first page on printer. Top of form is set at end of previous report.
"RTN","SDSCCHK",112,0)
 I $E(IOST,1,2)="C-"!P W @IOF
"RTN","SDSCCHK",113,0)
 S P=P+1,L=5
"RTN","SDSCCHK",114,0)
 S SDHDR="Compile Results Report"_" - "_$S(SDANS="S":"Summary",1:"Detail")
"RTN","SDSCCHK",115,0)
 U IO
"RTN","SDSCCHK",116,0)
 S SDNWPV=1
"RTN","SDSCCHK",117,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCCHK",118,0)
 W !,?5,"For Encounters Dated ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)
"RTN","SDSCCHK",119,0)
 I SDANS="S" W !,?2,"# Enc",?10,"Reason"
"RTN","SDSCCHK",120,0)
 I SDANS="D" D
"RTN","SDSCCHK",121,0)
 . W !!,"Note:  The Detail report will ONLY list additional encounter information ",!,"       for the Diagnosis code related Reasons.",!
"RTN","SDSCCHK",122,0)
 . W !,"Enc #",?12,"Visit #",?24,"Clinic",?42,"Encounter Date/Time",?62,"Patient Name",!,?10,"Reason"
"RTN","SDSCCHK",123,0)
 W ! F I=1:1:79 W "-"
"RTN","SDSCCHK",124,0)
 Q
"RTN","SDSCCHK",125,0)
 ;
"RTN","SDSCCHK",126,0)
STORE ; Store the encounter for later use.
"RTN","SDSCCHK",127,0)
 S SDCT=SDCT+1
"RTN","SDSCCHK",128,0)
 I SDOEDAT="" S ^TMP("SDSCCHK",$J,SDCT)="Encounter IEN "_SDOE_" "_SDSCTXT Q
"RTN","SDSCCHK",129,0)
 I SDPAT="" S ^TMP("SDSCCHK",$J,SDCT)="Encounter IEN "_SDOE_" "_SDSCTXT Q
"RTN","SDSCCHK",130,0)
 S ^TMP("SDSCCHK",$J,SDCT)=$P(^SC(SDCLIN,0),U,1)_"^"_$$FMTE^XLFDT($P(SDOEDAT,U,1),"5Z")_"^"_SDPNAM_"^"_SDSCTXT
"RTN","SDSCCHK",131,0)
 S ^TMP("SDSCCHK",$J,"TOTAL",SDSCTXT)=$G(^TMP("SDSCCHK",$J,"TOTAL",SDSCTXT))+1
"RTN","SDSCCHK",132,0)
 Q
"RTN","SDSCCHK",133,0)
 ;
"RTN","SDSCCHK",134,0)
STORED ;  Store the diagnosis encounter for detail
"RTN","SDSCCHK",135,0)
 N DFN,SDPNAM
"RTN","SDSCCHK",136,0)
 S SDDCT=SDDCT+1
"RTN","SDSCCHK",137,0)
 S DFN=SDPAT D DEM^VADPT S SDPNAM=VADM(1) D KVA^VADPT
"RTN","SDSCCHK",138,0)
 S ^TMP("SDSCCHK",$J,"DX",SDDCT)=SDOE_"^"_SDV0_"^"_$P(^SC(SDCLIN,0),U,1)_"^"_$$FMTE^XLFDT($P(SDOEDAT,U,1),"5Z")_"^"_SDPNAM_"^"_SDSCTXT
"RTN","SDSCCHK",139,0)
 S ^TMP("SDSCCHK",$J,"TOTAL",SDSCTXT)=$G(^TMP("SDSCCHK",$J,"TOTAL",SDSCTXT))+1
"RTN","SDSCCHK",140,0)
 Q
"RTN","SDSCCHK",141,0)
 ;
"RTN","SDSCCHK",142,0)
NBFP() ; Is first-party non-billable based on either clinic, stop code, or patient?
"RTN","SDSCCHK",143,0)
 S SDFPTX="",SDFPTX=$P($$FIRST^IBRSUTL(SDOE),U,2) I SDFPTX'="" Q 1
"RTN","SDSCCHK",144,0)
 Q 0
"RTN","SDSCCHK",145,0)
 ;
"RTN","SDSCCHK",146,0)
NBTP() ; Is third-party non-billable based on either clinic, stop code, or patient?
"RTN","SDSCCHK",147,0)
 S SDFPTX="",SDFPTX=$P($$THIRD^IBRSUTL(SDOE),U,2) I SDFPTX'="" Q 1
"RTN","SDSCCHK",148,0)
 I '+$$INSUR^IBBAPI(SDPAT,SDOEDT) S SDFPTX="patient is not insured" Q 1
"RTN","SDSCCHK",149,0)
 Q 0
"RTN","SDSCCLM")
0^6^B1275412
"RTN","SDSCCLM",1,0)
SDSCCLM ;ALB/JAM/RBS - ASCD Update Claims Tracking ; 3/12/07 4:58pm
"RTN","SDSCCLM",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCCLM",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCCLM",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCCLM",5,0)
 ;
"RTN","SDSCCLM",6,0)
 Q
"RTN","SDSCCLM",7,0)
CLM(SDENC) ;  Check Claims Tracking
"RTN","SDSCCLM",8,0)
 N SDOE0,SCSTAT,SCTIEN,SCVAL,SCTUPD,SDSC,SCERR
"RTN","SDSCCLM",9,0)
 ;
"RTN","SDSCCLM",10,0)
 ;  If this encounter is not yet completed, quit
"RTN","SDSCCLM",11,0)
 I $P(^SDSC(409.48,SDENC,0),"^",5)'="C" Q
"RTN","SDSCCLM",12,0)
 ;
"RTN","SDSCCLM",13,0)
 ;  Status of encounter must be 'checked out'
"RTN","SDSCCLM",14,0)
 S SDOE0=$$GETOE^SDOE(SDENC)
"RTN","SDSCCLM",15,0)
 S SCSTAT=$P(SDOE0,"^",12) I SCSTAT'=2 Q
"RTN","SDSCCLM",16,0)
 ;
"RTN","SDSCCLM",17,0)
 ; Call IB API to get the claims tracking number
"RTN","SDSCCLM",18,0)
 S SCTIEN=$$CT^IBRSUTL(SDENC)
"RTN","SDSCCLM",19,0)
 ;
"RTN","SDSCCLM",20,0)
 ;If there is no CT entry quit
"RTN","SDSCCLM",21,0)
 I SCTIEN="" Q
"RTN","SDSCCLM",22,0)
 S SDSC(409.48,SDENC_",",.1)=SCTIEN
"RTN","SDSCCLM",23,0)
 D FILE^DIE("I","SDSC","SCERR")
"RTN","SDSCCLM",24,0)
 ;
"RTN","SDSCCLM",25,0)
 ;If SC value hasn't changed quit, else update CT in IB
"RTN","SDSCCLM",26,0)
 S SCVAL=$$SCHNG^SDSCUTL(SDENC) I '+SCVAL Q
"RTN","SDSCCLM",27,0)
 S SCTUPD=$$RNBU^IBRSUTL(SDENC,$S($P(SCVAL,U,3):1,1:2))
"RTN","SDSCCLM",28,0)
 Q
"RTN","SDSCEDT")
0^8^B76725826
"RTN","SDSCEDT",1,0)
SDSCEDT ;ALB/JAM/RBS - ASCD Review and Edit SC value for encounters. ; 4/24/07 4:29pm
"RTN","SDSCEDT",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCEDT",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCEDT",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCEDT",5,0)
 ;
"RTN","SDSCEDT",6,0)
 Q
"RTN","SDSCEDT",7,0)
START ; Called by option "SDSC EDIT BY DATE - Edit encounters by date range"
"RTN","SDSCEDT",8,0)
 N SCVST,SCOPT,SDSCEDIT S SDSCEDIT=1
"RTN","SDSCEDT",9,0)
 D HOME^%ZIS
"RTN","SDSCEDT",10,0)
 ;  Ask which records should be reviewed.
"RTN","SDSCEDT",11,0)
 S SCOPT=$$SCSEL^SDSCUTL() I SCOPT="" G END
"RTN","SDSCEDT",12,0)
 ; Select correct user type based on security key.
"RTN","SDSCEDT",13,0)
 D TYPE^SDSCUTL
"RTN","SDSCEDT",14,0)
 ; Get start and end date for encounter list.
"RTN","SDSCEDT",15,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G END
"RTN","SDSCEDT",16,0)
 D DIV^SDSCUTL
"RTN","SDSCEDT",17,0)
 D ^DIR
"RTN","SDSCEDT",18,0)
 I $G(DTOUT)!($G(DUOUT)) G END
"RTN","SDSCEDT",19,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN
"RTN","SDSCEDT",20,0)
 K DIR,X,Y,SCLN
"RTN","SDSCEDT",21,0)
 S SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:","_SDSCDVSL,1:"")
"RTN","SDSCEDT",22,0)
 ; Initialize quit flags.
"RTN","SDSCEDT",23,0)
 S SDQFLG=0,SDFLG=0
"RTN","SDSCEDT",24,0)
 I SDSCTAT'="" D OPT
"RTN","SDSCEDT",25,0)
 I SDSCTAT="" D  S SDSCTAT=""
"RTN","SDSCEDT",26,0)
 . S SDSCTAT="N" D OPT Q:SDQFLG=1
"RTN","SDSCEDT",27,0)
 . S SDSCTAT="R" D OPT Q:SDQFLG=1
"RTN","SDSCEDT",28,0)
 . Q
"RTN","SDSCEDT",29,0)
 I SDFLG=0 D EN^DDIOL("No editable encounters found in the specified date range. ",,"!!?10") W *7
"RTN","SDSCEDT",30,0)
 G END
"RTN","SDSCEDT",31,0)
 ;
"RTN","SDSCEDT",32,0)
OPT ; Loop through requested encounter status for specified date range, display each encounter, and allow edit.
"RTN","SDSCEDT",33,0)
 S SDOEDT=SDSCTDT F  S SDOEDT=$O(^SDSC(409.48,"C",SDSCTAT,SDOEDT)) Q:SDOEDT\1>SDEDT  Q:(SDOEDT="")!(SDQFLG=1)  D
"RTN","SDSCEDT",34,0)
 . S SDOE=0 F  S SDOE=$O(^SDSC(409.48,"C",SDSCTAT,SDOEDT,SDOE)) Q:'SDOE!(SDQFLG=1)  D
"RTN","SDSCEDT",35,0)
 .. ; Check review selection
"RTN","SDSCEDT",36,0)
 .. S SDV0=$P($$GETOE^SDOE(SDOE),U,5) I SDV0="" Q
"RTN","SDSCEDT",37,0)
 .. S SCVST=$$GET1^DIQ(9000010,SDV0_",",80001,"I")
"RTN","SDSCEDT",38,0)
 .. I SCVST'=SCOPT,SCOPT'=2 Q
"RTN","SDSCEDT",39,0)
 .. ; Initialize flag and do final editability checks on encounter.
"RTN","SDSCEDT",40,0)
 .. S SDEFLG=0 D CHECK
"RTN","SDSCEDT",41,0)
 .. ; If edit flag not set, quit. (Don't display error in this loop.)
"RTN","SDSCEDT",42,0)
 .. I SDEFLG=0 Q
"RTN","SDSCEDT",43,0)
 .. ; Check for sensitive patient
"RTN","SDSCEDT",44,0)
 .. I $$SENS^SDSCUTL(SDPAT,0) Q
"RTN","SDSCEDT",45,0)
 .. ; Display encounter.
"RTN","SDSCEDT",46,0)
 .. D DISPLAY,DISPLAY1
"RTN","SDSCEDT",47,0)
 .. ; IF quit flag set, quit.
"RTN","SDSCEDT",48,0)
 .. I SDQFLG=1 Q
"RTN","SDSCEDT",49,0)
 .. ;Check if data came from an ancillary package and okay to edit
"RTN","SDSCEDT",50,0)
 .. I '$$ANCPKG^SDSCUTL(SDOE) S SDSCMSG="Cannot edit encounter." Q
"RTN","SDSCEDT",51,0)
 .. ; Otherwise, edit encounter.
"RTN","SDSCEDT",52,0)
 .. D EDIT
"RTN","SDSCEDT",53,0)
 Q
"RTN","SDSCEDT",54,0)
START1 ; Called by option "SDSC SINGLE EDIT - Edit single encounter"
"RTN","SDSCEDT",55,0)
 N SDSCEDIT S SDSCEDIT=1
"RTN","SDSCEDT",56,0)
 D HOME^%ZIS
"RTN","SDSCEDT",57,0)
 D TYPE^SDSCUTL
"RTN","SDSCEDT",58,0)
 ; Initialize quit flag.
"RTN","SDSCEDT",59,0)
 S SDQFLG=0
"RTN","SDSCEDT",60,0)
 F  D  Q:SDQFLG=1
"RTN","SDSCEDT",61,0)
 . S DIC(0)="AEMNZ",DIC="^SDSC(409.48,"
"RTN","SDSCEDT",62,0)
 . S DIC("A")="Select OUTPATIENT ENCOUNTER: "
"RTN","SDSCEDT",63,0)
 . I SDSCCR]"" S DIC("S")=SDSCCR_",$P($G(^SCE(+Y,0)),""^"",6)="""""
"RTN","SDSCEDT",64,0)
 . I SDSCCR="" S DIC("S")="I $P($G(^SCE(+Y,0)),""^"",6)="""""
"RTN","SDSCEDT",65,0)
 . W !
"RTN","SDSCEDT",66,0)
 . D ^DIC
"RTN","SDSCEDT",67,0)
 . I +Y=-1!$D(DTOUT)!$D(DUOUT) S SDQFLG=1 Q
"RTN","SDSCEDT",68,0)
 . S SDOE=+Y,SDOEDT=$P($G(^SDSC(409.48,SDOE,0)),U,7)
"RTN","SDSCEDT",69,0)
 . ; Separate editing checks and display code for ListMan.
"RTN","SDSCEDT",70,0)
 . ; Initialize flag and do final editability checks on encounter.
"RTN","SDSCEDT",71,0)
 . S SDEFLG=0 D CHECK
"RTN","SDSCEDT",72,0)
 . ; If edit flag not set, display error and quit.
"RTN","SDSCEDT",73,0)
 . I SDEFLG=0 D EN^DDIOL("Cannot edit encounter# "_SDOE_". Missing data. ",,"!!?10") W *7 Q
"RTN","SDSCEDT",74,0)
 . ; Check for sensitive patient
"RTN","SDSCEDT",75,0)
 . I $$SENS^SDSCUTL(SDPAT,0) Q
"RTN","SDSCEDT",76,0)
 . ; Display encounter.
"RTN","SDSCEDT",77,0)
 . D DISPLAY,DISPLAY1
"RTN","SDSCEDT",78,0)
 . ; If quit flag set, quit.
"RTN","SDSCEDT",79,0)
 . I SDQFLG=1 Q
"RTN","SDSCEDT",80,0)
 . I '$$ANCPKG^SDSCUTL(SDOE) D EN^DDIOL("Cannot edit encounter.") Q
"RTN","SDSCEDT",81,0)
 . ; Otherwise, edit encounter.
"RTN","SDSCEDT",82,0)
 . D EDIT
"RTN","SDSCEDT",83,0)
 G END
"RTN","SDSCEDT",84,0)
 ;
"RTN","SDSCEDT",85,0)
CHECK ; Final editing checks for specified encounter.
"RTN","SDSCEDT",86,0)
 ; Check division, if doesn't match, quit.
"RTN","SDSCEDT",87,0)
 I $G(SDSCDIV)'="",(","_SDSCDIV_",")'[(","_$P(^SDSC(409.48,SDOE,0),U,12)_",") Q
"RTN","SDSCEDT",88,0)
 ; Get encounter data. If no encounter data, quit.
"RTN","SDSCEDT",89,0)
 S SDOEDAT=$$GETOE^SDOE(SDOE)
"RTN","SDSCEDT",90,0)
 I SDOEDAT="" S SDSCMSG=" no encounter zero node" Q
"RTN","SDSCEDT",91,0)
 ; Get patient IEN.
"RTN","SDSCEDT",92,0)
 S SDPAT=$P(SDOEDAT,U,2)
"RTN","SDSCEDT",93,0)
 ; Get visit file entry. If no visit, quit.
"RTN","SDSCEDT",94,0)
 S SDV0=$P(SDOEDAT,U,5) I SDV0="" S SDSCMSG=" encounter missing visit number" Q
"RTN","SDSCEDT",95,0)
 I $G(^AUPNVSIT(SDV0,0))="" S SDSCMSG=" no visit zero node" Q
"RTN","SDSCEDT",96,0)
 ; Get current service connection value from visit.
"RTN","SDSCEDT",97,0)
 S SDOSC=$$GET1^DIQ(9000010,SDV0_",",80001,"I")
"RTN","SDSCEDT",98,0)
 ; Get package and source info from visit file. If missing, quit.
"RTN","SDSCEDT",99,0)
 S SDSCPKG=$$GET1^DIQ(9000010,SDV0_",",81202,"E") I SDSCPKG="" S SDSCPKG="SCHEDULING"
"RTN","SDSCEDT",100,0)
 S SDSCSRC=$$GET1^DIQ(9000010,SDV0_",",81203,"E") I SDSCSRC="" S SDSCSRC="AUTOMATED SC DESIGNATION"
"RTN","SDSCEDT",101,0)
 ; Data checks successful. Set flags to allow edit to continue
"RTN","SDSCEDT",102,0)
 S SDEFLG=1,SDFLG=1
"RTN","SDSCEDT",103,0)
 Q
"RTN","SDSCEDT",104,0)
DISPLAY ; Compile display for the specified encounter into a TMP global.
"RTN","SDSCEDT",105,0)
 ; Clear scratch global and reset line counter.
"RTN","SDSCEDT",106,0)
 K ^TMP("SDSCLST",$J) S SDLN=0
"RTN","SDSCEDT",107,0)
 S SDTMP="Encounter "_SDOE
"RTN","SDSCEDT",108,0)
 I SDOSC=1 S SDTMP=SDTMP_" is marked as service connected and may not be."
"RTN","SDSCEDT",109,0)
 E  S SDTMP=SDTMP_" is NOT marked as service connected."
"RTN","SDSCEDT",110,0)
 D LINE(SDTMP)
"RTN","SDSCEDT",111,0)
 D LINE(" ")
"RTN","SDSCEDT",112,0)
 ; Display the date for the encounter.
"RTN","SDSCEDT",113,0)
 D LINE("Date of Encounter:  "_$$FMTE^XLFDT(SDOEDT,"5MZ"))
"RTN","SDSCEDT",114,0)
 ; Display the clinic for the encounter.
"RTN","SDSCEDT",115,0)
 S SDCLIN=$P(SDOEDAT,U,4),SDTMP="Location:           "
"RTN","SDSCEDT",116,0)
 I SDCLIN]"" S SDTMP=SDTMP_$P($G(^SC(SDCLIN,0)),U)
"RTN","SDSCEDT",117,0)
 D LINE(SDTMP)
"RTN","SDSCEDT",118,0)
 ; Display the primary provider for the visit.
"RTN","SDSCEDT",119,0)
 S SDPRV=$P($G(^SDSC(409.48,SDOE,0)),U,8),SDTMP="Primary Provider:   "
"RTN","SDSCEDT",120,0)
 I SDPRV]"" S SDTMP=SDTMP_$$UP^XLFSTR($$NAME^XUSER(SDPRV))
"RTN","SDSCEDT",121,0)
 D LINE(SDTMP)
"RTN","SDSCEDT",122,0)
 ; Display the patient name and last 4 SSN.
"RTN","SDSCEDT",123,0)
 S SDTMP="Patient:            "
"RTN","SDSCEDT",124,0)
 I SDPAT]"" D
"RTN","SDSCEDT",125,0)
 . N DFN,VADM S DFN=SDPAT D DEM^VADPT
"RTN","SDSCEDT",126,0)
 . S SDTMP=SDTMP_$E(VADM(1),1,25)_" ("_$E($P(VADM(2),U),6,9)_")"
"RTN","SDSCEDT",127,0)
 . ; Add flag if patient is considered sensitive.
"RTN","SDSCEDT",128,0)
 . I +$P($G(^DGSL(38.1,+SDPAT,0)),U,2) S SDTMP=SDTMP_"  *SENSITIVE*"
"RTN","SDSCEDT",129,0)
 D LINE(SDTMP)
"RTN","SDSCEDT",130,0)
 ; Compile patient insurance information.
"RTN","SDSCEDT",131,0)
 D INS
"RTN","SDSCEDT",132,0)
 ; Review VBA/ICD9 SC response
"RTN","SDSCEDT",133,0)
 D VBAICD
"RTN","SDSCEDT",134,0)
 ; Compile all POVs for this visit.
"RTN","SDSCEDT",135,0)
 D GETPDX^SDOERPC(.SDPDX,SDOE),POV2S
"RTN","SDSCEDT",136,0)
 ; Compile all disabilities for this patient.
"RTN","SDSCEDT",137,0)
 D DIS2S
"RTN","SDSCEDT",138,0)
 Q
"RTN","SDSCEDT",139,0)
DISPLAY1 ; Display the specified encounter.
"RTN","SDSCEDT",140,0)
 W @IOF
"RTN","SDSCEDT",141,0)
 S L=0
"RTN","SDSCEDT",142,0)
 F SDLN=1:1 Q:'$D(^TMP("SDSCLST",$J,SDLN,0))  D  Q:$G(SDQFLG)=1
"RTN","SDSCEDT",143,0)
 . I L+3>IOSL D CONT^SDSCUTL S L=2 Q:$G(SDQFLG)=1
"RTN","SDSCEDT",144,0)
 . W !,^TMP("SDSCLST",$J,SDLN,0)
"RTN","SDSCEDT",145,0)
 . S L=L+1
"RTN","SDSCEDT",146,0)
 . Q
"RTN","SDSCEDT",147,0)
 W !
"RTN","SDSCEDT",148,0)
 Q
"RTN","SDSCEDT",149,0)
INS ; Compile patient means test and insurance information.
"RTN","SDSCEDT",150,0)
 S SDCP=$$BIL^DGMTUB(SDPAT,SDOEDT)
"RTN","SDSCEDT",151,0)
 D LINE(" ")
"RTN","SDSCEDT",152,0)
 D LINE("Patient "_$S(SDCP=1:"is",1:"is not")_" copay eligible.")
"RTN","SDSCEDT",153,0)
 S SDACT=+$$INSUR^IBBAPI(SDPAT,SDOEDT)
"RTN","SDSCEDT",154,0)
 D LINE("Patient "_$S(SDACT=1:"is",1:"is not")_" insured.")
"RTN","SDSCEDT",155,0)
 I 'SDACT Q
"RTN","SDSCEDT",156,0)
 ; ICR#: 4419 (SUPPORTED) - look for Outpatient coverage
"RTN","SDSCEDT",157,0)
 S SDCOV=$S($$INSUR^IBBAPI(SDPAT,SDOEDT,"O","",16)<1:0,1:1)
"RTN","SDSCEDT",158,0)
 D LINE("Outpatient Coverage is "_$S(SDCOV:"",1:"not ")_"covered.")
"RTN","SDSCEDT",159,0)
 Q
"RTN","SDSCEDT",160,0)
POV2S ; Compile all POV entries for the specified visit.
"RTN","SDSCEDT",161,0)
 D LINE(" "),LINE("      POVs/ICDs:")
"RTN","SDSCEDT",162,0)
 S SDVPOV0=0 F  S SDVPOV0=$O(^AUPNVPOV("AD",SDV0,SDVPOV0)) Q:'SDVPOV0  D
"RTN","SDSCEDT",163,0)
 . S SDPOV=$P($G(^AUPNVPOV(SDVPOV0,0)),U)
"RTN","SDSCEDT",164,0)
 . ; Added display if diagnosis is marked service connected (CIDC) - ALA 9/27/05
"RTN","SDSCEDT",165,0)
 . S SDPOVSC=$P($G(^AUPNVPOV(SDVPOV0,800)),U)
"RTN","SDSCEDT",166,0)
 . S SCDX=$$ICDDX^ICDCODE(SDPOV,+SDOEDAT)
"RTN","SDSCEDT",167,0)
 . S SDPSC=$S(SDPDX=$P(SCDX,U):"*P* ",1:"")_$S(SDPOVSC=1:"*SC* ",1:"")
"RTN","SDSCEDT",168,0)
 . S SDTMP=$J(SDPSC,15)_$P(SCDX,U,2)_"          "
"RTN","SDSCEDT",169,0)
 . S SDTMP=$E(SDTMP,1,23)_$P(SCDX,U,4)
"RTN","SDSCEDT",170,0)
 . D LINE(SDTMP)
"RTN","SDSCEDT",171,0)
 Q
"RTN","SDSCEDT",172,0)
DIS2S ; Compile all rated disabilities for this patient.
"RTN","SDSCEDT",173,0)
 ;DBIA4807 and DBIA1476
"RTN","SDSCEDT",174,0)
 D LINE(" ")
"RTN","SDSCEDT",175,0)
 D LINE("          Rated Disabilities:")
"RTN","SDSCEDT",176,0)
 N SCRD,I,I1,I2
"RTN","SDSCEDT",177,0)
 D RDIS^DGRPDB(SDPAT,.SCRD)
"RTN","SDSCEDT",178,0)
 S I=0 F  S I=$O(SCRD(I)) Q:'I  D
"RTN","SDSCEDT",179,0)
 . S I1=SCRD(I)
"RTN","SDSCEDT",180,0)
 . S I2=$S($D(^DIC(31,+I1,0)):$P(^(0),U,3)_"    "_$P(^(0),"^",1)_" ("_+$P(I1,"^",2)_"%-"_$S($P(I1,"^",3):"SC",$P(I1,"^",3)']"":"not specified",1:"NSC")_")",1:"")
"RTN","SDSCEDT",181,0)
 . D LINE("               "_I2)
"RTN","SDSCEDT",182,0)
 Q
"RTN","SDSCEDT",183,0)
VBAICD ;ASCD (VBA/ICD9) SC evaluation
"RTN","SDSCEDT",184,0)
 N Y,VAL
"RTN","SDSCEDT",185,0)
 D LINE("  ")
"RTN","SDSCEDT",186,0)
 S Y=$$SC^SDSCAPI(SDPAT,,SDOE)
"RTN","SDSCEDT",187,0)
 D LINE("ASCD Evaluation: "_$P(Y,"^",2))
"RTN","SDSCEDT",188,0)
 Q
"RTN","SDSCEDT",189,0)
LINE(LINE) ; Save a line of text into the scratch global.
"RTN","SDSCEDT",190,0)
 S SDLN=SDLN+1,^TMP("SDSCLST",$J,SDLN,0)=LINE
"RTN","SDSCEDT",191,0)
 Q
"RTN","SDSCEDT",192,0)
EDIT ; Allow user to edit the specified encounter or send for review. (Roll and scroll)
"RTN","SDSCEDT",193,0)
 K DIR,X,Y
"RTN","SDSCEDT",194,0)
 S DIR(0)=SDOPT
"RTN","SDSCEDT",195,0)
 S DIR("A")="DO YOU WANT TO CHANGE THE SERVICE CONNECTION FOR THIS ENCOUNTER? "
"RTN","SDSCEDT",196,0)
 S DIR("?")=" "
"RTN","SDSCEDT",197,0)
 S DIR("?",1)="Enter:"
"RTN","SDSCEDT",198,0)
 S DIR("?",2)="    'YES'    to modify this encounter's Service Connected statuses."
"RTN","SDSCEDT",199,0)
 S DIR("?",3)="    'NO'     to retain this encounter's Service Connected statuses."
"RTN","SDSCEDT",200,0)
 S DIR("?",4)="    'SKIP'   to skip this encounter and review it later."
"RTN","SDSCEDT",201,0)
 I SDOPT["REVIEW" S DIR("?",5)="    'REVIEW' to flag this encounter for clinical review."
"RTN","SDSCEDT",202,0)
 D ^DIR
"RTN","SDSCEDT",203,0)
 I $D(DTOUT)!$D(DUOUT) S SDQFLG=1 Q
"RTN","SDSCEDT",204,0)
 S SDANS=Y K DIR,X,Y
"RTN","SDSCEDT",205,0)
LEDT ;  ListMan Entry Point for Editing
"RTN","SDSCEDT",206,0)
 ; If user selected 'SKIP', postpone action on this entry.
"RTN","SDSCEDT",207,0)
 I $G(SDANS)="S" Q
"RTN","SDSCEDT",208,0)
 ; Set 'REVIEW' flag if required.
"RTN","SDSCEDT",209,0)
 S SDRFLG=$S(SDANS="R":1,1:0)
"RTN","SDSCEDT",210,0)
 ; Lock record before editing
"RTN","SDSCEDT",211,0)
 I '$$LOCK^SDSCUTL(SDOE) D  Q
"RTN","SDSCEDT",212,0)
 . W !!,"*** Encounter ",SDOE," locked by another user. Try later. ***" H 2
"RTN","SDSCEDT",213,0)
 ; If user answered 'YES' then send call PCE API.
"RTN","SDSCEDT",214,0)
 I SDANS="Y" D
"RTN","SDSCEDT",215,0)
 . N SDEDIT S SDEDIT=1
"RTN","SDSCEDT",216,0)
 . S X=$$INTV^PXAPI("POV",SDSCPKG,SDSCSRC,SDV0) HANG 1
"RTN","SDSCEDT",217,0)
 I '$D(^SDSC(409.48,SDOE)) D  G CTUP  ;Entry deleted because of review match
"RTN","SDSCEDT",218,0)
 . W !!,"*** Encounter ",SDOE," Removed from ASCD File - True Match Found ***" H 2
"RTN","SDSCEDT",219,0)
 S SDSCC=$$GET1^DIQ(9000010,SDV0_",",80001,"I")
"RTN","SDSCEDT",220,0)
 I SDSCC="",$D(^SDSC(409.48,SDOE)) D  G CTUP ;Remove entry if no SC value
"RTN","SDSCEDT",221,0)
 . N DA,DIK S DA=SDOE,DIK="^SDSC(409.48," D ^DIK
"RTN","SDSCEDT",222,0)
 . W !!,"*** Encounter ",SDOE," Removed from ASCD File - No SC value found in Visit File ***" H 2
"RTN","SDSCEDT",223,0)
 ; Store any changes the user made in the TRACK EDITS multiple.
"RTN","SDSCEDT",224,0)
 D STEDT^SDSCUTL(SDOE,SDTYPE,SDRFLG,SDSCC)
"RTN","SDSCEDT",225,0)
CTUP ; Update claims tracking file in IB.
"RTN","SDSCEDT",226,0)
 D
"RTN","SDSCEDT",227,0)
 . I '$D(^SDSC(409.48,SDOE)) N SCTUPD S SCTUPD=$$RNBU^IBRSUTL(SDOE,1) Q
"RTN","SDSCEDT",228,0)
 . D CLM^SDSCCLM(SDOE)
"RTN","SDSCEDT",229,0)
 D UNLOCK^SDSCUTL(SDOE)
"RTN","SDSCEDT",230,0)
 Q
"RTN","SDSCEDT",231,0)
 ;
"RTN","SDSCEDT",232,0)
END ; Clear all variables before exiting.
"RTN","SDSCEDT",233,0)
 K SDSCTDT,SDEDT,SDOEDT,SDOE,SDOEX,SDEC,SDPAT,SDPASS,SDICD,SDPOV,SDSCC
"RTN","SDSCEDT",234,0)
 K SDCST,SDSCPKG,SDSCSRC,SDPOVSC,SDPSC,SCDX,SDSCDVSL,SDFILEOK,SDV0
"RTN","SDSCEDT",235,0)
 K SDVPOV0,SDPD,SDIENS,DA,DIE,DIC,DLAYGO,DIERR,ERR,SDRFLG,SDQFLG,SDTYPE
"RTN","SDSCEDT",236,0)
 K SDOPT,SDSCTAT,SDSCDIV,SDSCDVLN,SDSCMSG,SDPRV,SDCLIN,SDLIST,P,L,SDABRT
"RTN","SDSCEDT",237,0)
 K X,X1,X2,Y,DTOUT,DUOUT,DIR,SDACT,SDCOV,SDSCCR,SDOEDAT,SDEFLG,SDOSC,SDCP
"RTN","SDSCEDT",238,0)
 K SDFLG,SDLN,SDTMP,SDANS,SDSCBDT,SDSCEDT,SDCNT,SDDATA,SDPDX
"RTN","SDSCEDT",239,0)
 D KVA^VADPT
"RTN","SDSCEDT",240,0)
 Q
"RTN","SDSCINS")
0^9^B11936927
"RTN","SDSCINS",1,0)
SDSCINS ;ALB/JAM/RBS - ASCD Check on Newly Identified Insurance ; 2/15/07 12:57pm ; 4/3/07 11:19am
"RTN","SDSCINS",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCINS",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCINS",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCINS",5,0)
 ;
"RTN","SDSCINS",6,0)
 ;**Program Description**
"RTN","SDSCINS",7,0)
 ;   This program will check the Audit file for any newly identified
"RTN","SDSCINS",8,0)
 ;   insurance policies
"RTN","SDSCINS",9,0)
 Q
"RTN","SDSCINS",10,0)
EN(SDSCINS,SDSCSVC) ;  Entry point
"RTN","SDSCINS",11,0)
 ;
"RTN","SDSCINS",12,0)
 ;  Input: SDSCINS and SDSCSVC passed by reference
"RTN","SDSCINS",13,0)
 ;
"RTN","SDSCINS",14,0)
 ;  Output:
"RTN","SDSCINS",15,0)
 ;    SDSCINS - count of records found with late-identified insurance
"RTN","SDSCINS",16,0)
 ;    SDSCSVC - count of those found records just filed to (#409.48)
"RTN","SDSCINS",17,0)
 ;
"RTN","SDSCINS",18,0)
 N SDSCPAR
"RTN","SDSCINS",19,0)
 K SDSCBDT,SDSCEDT
"RTN","SDSCINS",20,0)
 ;if audit not turned on quit
"RTN","SDSCINS",21,0)
 D FIELD^DID(2,.3192,"","AUDIT","SDSCPAR")
"RTN","SDSCINS",22,0)
 I $G(SDSCPAR("AUDIT"))'["YES" Q
"RTN","SDSCINS",23,0)
 K SDSCPAR
"RTN","SDSCINS",24,0)
 D FIELD^DID(2.312,.01,"","AUDIT","SDSCPAR")
"RTN","SDSCINS",25,0)
 I $G(SDSCPAR("AUDIT"))'["YES" Q
"RTN","SDSCINS",26,0)
 ; Get encounter date range to check - start with from 24 months back 
"RTN","SDSCINS",27,0)
 S SDSCBDT=$$FMADD^XLFDT(DT,-731),SDSCEDT=$O(^SDSC(409.48,"AE",""),-1)\1
"RTN","SDSCINS",28,0)
 ;
"RTN","SDSCINS",29,0)
 N SDSCADT,SDEADT,SDINS
"RTN","SDSCINS",30,0)
 S SDSCADT=$$FMADD^XLFDT(DT,-1),SDEADT=$$FMADD^XLFDT(DT,-1)
"RTN","SDSCINS",31,0)
 F  S SDSCADT=$O(^DIA(2,"C",SDSCADT)) Q:SDSCADT=""!((SDSCADT\1)>SDEADT)  D
"RTN","SDSCINS",32,0)
 . S SDIEN="" F  S SDIEN=$O(^DIA(2,"C",SDSCADT,SDIEN)) Q:SDIEN=""  D
"RTN","SDSCINS",33,0)
 .. S SDUFLD=$P(^DIA(2,SDIEN,0),U,3)
"RTN","SDSCINS",34,0)
 .. I SDUFLD'=.3192,SDUFLD'[.3121 Q
"RTN","SDSCINS",35,0)
 .. I SDUFLD=.3192 D COV Q:'SDCOV
"RTN","SDSCINS",36,0)
 .. I SDUFLD=".3121,.01" D NINS Q:'SDIN
"RTN","SDSCINS",37,0)
 .. S SDFN=$P(^DIA(2,SDIEN,0),U,1) S:SDFN["," SDFN=$P(SDFN,",",1)
"RTN","SDSCINS",38,0)
 .. ;
"RTN","SDSCINS",39,0)
 .. ; check if this patient has encounters for the date range
"RTN","SDSCINS",40,0)
 .. S SDECDT=SDSCBDT
"RTN","SDSCINS",41,0)
 .. F  S SDECDT=$O(^SCE("ADFN",SDFN,SDECDT)) Q:SDECDT=""!((SDECDT\1)>SDSCEDT)  D
"RTN","SDSCINS",42,0)
 ... S IEN="" F  S IEN=$O(^SCE("ADFN",SDFN,SDECDT,IEN)) Q:IEN=""  D
"RTN","SDSCINS",43,0)
 .... S SDINS=SDSCSVC
"RTN","SDSCINS",44,0)
 .... S SDOE=IEN,SDOEDT=$P(^SCE(SDOE,0),U,1) D OPT1^SDSCOMP
"RTN","SDSCINS",45,0)
 .... ; count the number of service connected records from late-identified insurance
"RTN","SDSCINS",46,0)
 .... I SDINS'=SDSCSVC S SDSCINS=SDSCINS+1
"RTN","SDSCINS",47,0)
 ;
"RTN","SDSCINS",48,0)
EXIT ;  Exit
"RTN","SDSCINS",49,0)
 K SDOE,IEN,SDECDT,SDIN,SDCOV
"RTN","SDSCINS",50,0)
 K SDUFLD,SDFN,SDIEN,SDOEDT
"RTN","SDSCINS",51,0)
 Q
"RTN","SDSCINS",52,0)
 ;
"RTN","SDSCINS",53,0)
AUDIT(SDTEXT,SDCNT) ;  Check if auditing is turned on
"RTN","SDSCINS",54,0)
 N SDSCPAR,SDARY,SDCT
"RTN","SDSCINS",55,0)
 S SDCT=0,SDCNT=$G(SDCNT)
"RTN","SDSCINS",56,0)
 D FIELD^DID(2,.3192,"","AUDIT","SDSCPAR")
"RTN","SDSCINS",57,0)
 I $G(SDSCPAR("AUDIT"))'["YES" D
"RTN","SDSCINS",58,0)
 . S SDCT=SDCT+1,SDARY(SDCT)="Auditing is not turned on for field COVERED BY HEALTH INSURANCE?"
"RTN","SDSCINS",59,0)
 K SDSCPAR
"RTN","SDSCINS",60,0)
 D FIELD^DID(2.312,.01,"","AUDIT","SDSCPAR")
"RTN","SDSCINS",61,0)
 I $G(SDSCPAR("AUDIT"))'["YES" D
"RTN","SDSCINS",62,0)
 . S SDCT=SDCT+1,SDARY(SDCT)="Auditing is not turned on for field INSURANCE TYPE"
"RTN","SDSCINS",63,0)
 I SDCT D
"RTN","SDSCINS",64,0)
 . S SDCNT=SDCNT+1,SDTEXT(SDCNT)="",SDCNT=SDCNT+1
"RTN","SDSCINS",65,0)
 . S SDTEXT(SDCNT)="ASCD Late Insurance Check:"
"RTN","SDSCINS",66,0)
 . S SDCT=0 F  S SDCT=$O(SDARY(SDCT)) Q:'SDCT  D
"RTN","SDSCINS",67,0)
 . . S SDCNT=SDCNT+1,SDTEXT(SDCNT)=SDARY(SDCT)
"RTN","SDSCINS",68,0)
 Q
"RTN","SDSCINS",69,0)
MMSG ;  Send mail message
"RTN","SDSCINS",70,0)
 I $G(DUZ)="" S XMZ(.5)=""
"RTN","SDSCINS",71,0)
 S XMZ(DUZ)="",XMDUZ="ASCD Insurance Check",XMY("G.SDSC NIGHTLY TALLY")=""
"RTN","SDSCINS",72,0)
 S XMTEXT="SDTEXT(",XMSUB="ASCD Insurance Identified"
"RTN","SDSCINS",73,0)
 D ^XMD
"RTN","SDSCINS",74,0)
 K XMY,XMDUZ,XMTEXT,SDTEXT,XMSUB,XMZ
"RTN","SDSCINS",75,0)
 Q
"RTN","SDSCINS",76,0)
 ;
"RTN","SDSCINS",77,0)
COV ;  Covered by insurance
"RTN","SDSCINS",78,0)
 N SDOLD,SDNEW
"RTN","SDSCINS",79,0)
 S SDCOV=0
"RTN","SDSCINS",80,0)
 S SDOLD=$G(^DIA(2,SDIEN,2)),SDNEW=$G(^DIA(2,SDIEN,3))
"RTN","SDSCINS",81,0)
 I SDOLD="NO",SDNEW="YES" S SDCOV=1 Q
"RTN","SDSCINS",82,0)
 Q
"RTN","SDSCINS",83,0)
 ;
"RTN","SDSCINS",84,0)
NINS ;  New insurance company added
"RTN","SDSCINS",85,0)
 N SDOLD,SDNEW
"RTN","SDSCINS",86,0)
 S SDIN=0
"RTN","SDSCINS",87,0)
 S SDOLD=$G(^DIA(2,SDIEN,2)),SDNEW=$G(^DIA(2,SDIEN,3))
"RTN","SDSCINS",88,0)
 I SDOLD="",SDNEW'="" S SDIN=1
"RTN","SDSCINS",89,0)
 Q
"RTN","SDSCLM")
0^1^B8362461
"RTN","SDSCLM",1,0)
SDSCLM ;ALB/JAM/RBS - ASCD Encounter LISTMAN ; 3/7/07 12:42pm
"RTN","SDSCLM",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCLM",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCLM",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCLM",5,0)
 ;
"RTN","SDSCLM",6,0)
 Q
"RTN","SDSCLM",7,0)
EN ; -- main entry point for SDSC REVIEW
"RTN","SDSCLM",8,0)
 N SDSCEDIT S SDSCEDIT=1
"RTN","SDSCLM",9,0)
 D EN^VALM("SDSC REVIEW")
"RTN","SDSCLM",10,0)
 Q
"RTN","SDSCLM",11,0)
 ;
"RTN","SDSCLM",12,0)
HDR ; -- header code
"RTN","SDSCLM",13,0)
 S VALMHDR(1)="The Service Connected status needs to be reviewed for the following encounters."
"RTN","SDSCLM",14,0)
 S VALMHDR(2)="Selected Date Range: "_$$FMTE^XLFDT(SDSCBDT,"1Z")_" - "_$$FMTE^XLFDT(SDEDT,"1Z")
"RTN","SDSCLM",15,0)
 S VALMHDR(3)=" "
"RTN","SDSCLM",16,0)
 Q
"RTN","SDSCLM",17,0)
 ;
"RTN","SDSCLM",18,0)
INIT ; -- init variables and list array
"RTN","SDSCLM",19,0)
 ;
"RTN","SDSCLM",20,0)
RBLD ;  Rebuild
"RTN","SDSCLM",21,0)
 N SDSCDIV
"RTN","SDSCLM",22,0)
 D CLEAN^VALM10
"RTN","SDSCLM",23,0)
 K ^TMP("SDSCENC",$J),^TMP($J,"SDSCENC")
"RTN","SDSCLM",24,0)
 S SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:","_SDSCDVSL,1:"")
"RTN","SDSCLM",25,0)
 S SDCNT=0
"RTN","SDSCLM",26,0)
 I SDSCTAT'="" D RBLD1
"RTN","SDSCLM",27,0)
 I SDSCTAT="" D  S SDSCTAT=""
"RTN","SDSCLM",28,0)
 . F SDSCTAT="N","R","C" D RBLD1
"RTN","SDSCLM",29,0)
 ;
"RTN","SDSCLM",30,0)
 ; -- set null message
"RTN","SDSCLM",31,0)
 I 'SDCNT D
"RTN","SDSCLM",32,0)
 . D SET^VALM10(1," ")
"RTN","SDSCLM",33,0)
 . D SET^VALM10(2," >>> No Encounter's to review for Date Range selected.")
"RTN","SDSCLM",34,0)
 . S ^TMP($J,"SDSCENC",1)=1,^(2)=2
"RTN","SDSCLM",35,0)
 ;
"RTN","SDSCLM",36,0)
 S VALMCNT=$S(SDCNT<1:1,1:SDCNT)
"RTN","SDSCLM",37,0)
 Q
"RTN","SDSCLM",38,0)
RBLD1 ;
"RTN","SDSCLM",39,0)
 N SDOEDT,SDOEDAT,STATUS,SDOE,SDECDT,SDPAT,X,DFN,SDERR,VADM,SCVST,SDV0
"RTN","SDSCLM",40,0)
 S SDOEDT=SDSCTDT,STATUS=$$EXTERNAL^DILFD(409.48,.05,"F",SDSCTAT,"SDERR")
"RTN","SDSCLM",41,0)
 F  S SDOEDT=$O(^SDSC(409.48,"C",SDSCTAT,SDOEDT)) Q:SDOEDT=""!(SDOEDT\1>SDEDT)  D
"RTN","SDSCLM",42,0)
 . S SDOE=""
"RTN","SDSCLM",43,0)
 . F  S SDOE=$O(^SDSC(409.48,"C",SDSCTAT,SDOEDT,SDOE)) Q:SDOE=""  D
"RTN","SDSCLM",44,0)
 .. I SDSCDIV'="",(","_SDSCDIV_",")'[(","_$P(^SDSC(409.48,SDOE,0),U,12)_",") Q
"RTN","SDSCLM",45,0)
 .. S SDOEDAT=$G(^SCE(SDOE,0)) Q:SDOEDAT=""
"RTN","SDSCLM",46,0)
 .. S SDV0=$P(SDOEDAT,U,5),SCVST=$$GET1^DIQ(9000010,SDV0_",",80001,"I")
"RTN","SDSCLM",47,0)
 .. I SCVST'=SCOPT,SCOPT'=2 Q
"RTN","SDSCLM",48,0)
 .. S SDCNT=SDCNT+1
"RTN","SDSCLM",49,0)
 .. S SDECDT=$P(SDOEDAT,U,1),SDPAT=$P(SDOEDAT,U,2)
"RTN","SDSCLM",50,0)
 .. S SDECDT=$$FMTE^XLFDT(SDECDT,"5Z")
"RTN","SDSCLM",51,0)
 .. S DFN=SDPAT D DEM^VADPT
"RTN","SDSCLM",52,0)
 .. S SDPAT=$E(VADM(1),1,25)_" ("_$E($P(VADM(2),U),6,9)_")"
"RTN","SDSCLM",53,0)
 .. S X=$$SETFLD^VALM1(SDCNT," ","LINENUM")
"RTN","SDSCLM",54,0)
 .. S X=$$SETFLD^VALM1(SDOE,X,"ENCNO")
"RTN","SDSCLM",55,0)
 .. S X=$$SETFLD^VALM1(SDECDT,X,"ENCDT")
"RTN","SDSCLM",56,0)
 .. S X=$$SETFLD^VALM1(SDPAT,X,"PAT")
"RTN","SDSCLM",57,0)
 .. S X=$$SETFLD^VALM1(STATUS,X,"STAT")
"RTN","SDSCLM",58,0)
 .. S ^TMP($J,"SDSCENC",SDCNT)=SDOE
"RTN","SDSCLM",59,0)
 .. D SET^VALM10(SDCNT,X)
"RTN","SDSCLM",60,0)
 D KVA^VADPT
"RTN","SDSCLM",61,0)
 Q
"RTN","SDSCLM",62,0)
 ;
"RTN","SDSCLM",63,0)
HELP ; -- help code
"RTN","SDSCLM",64,0)
 N X
"RTN","SDSCLM",65,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","SDSCLM",66,0)
 Q
"RTN","SDSCLM",67,0)
 ;
"RTN","SDSCLM",68,0)
EXIT ; -- exit code
"RTN","SDSCLM",69,0)
 K VALMHDR,VALMCNT
"RTN","SDSCLM",70,0)
 K ^TMP("SDSCENC",$J),^TMP($J,"SDSCENC")
"RTN","SDSCLM",71,0)
 K SDCNT,SDEDT,SDSCBDT,SDSCDVLN,SDSCDVSL,SDSCEDT,SDSCTAT,SDSCTDT
"RTN","SDSCLM",72,0)
 Q
"RTN","SDSCLM",73,0)
 ;
"RTN","SDSCLM",74,0)
EXPND ; -- expand code
"RTN","SDSCLM",75,0)
 Q
"RTN","SDSCLM1")
0^2^B677645
"RTN","SDSCLM1",1,0)
SDSCLM1 ;ALB/JAM/RBS - ASCD Encounter Detail LISTMAN ; 3/7/07 11:38am
"RTN","SDSCLM1",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCLM1",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCLM1",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCLM1",5,0)
 ;
"RTN","SDSCLM1",6,0)
 Q
"RTN","SDSCLM1",7,0)
EN ; -- main entry point for SDSC DETAIL
"RTN","SDSCLM1",8,0)
 D EN^VALM("SDSC DETAIL")
"RTN","SDSCLM1",9,0)
 Q
"RTN","SDSCLM1",10,0)
 ;
"RTN","SDSCLM1",11,0)
HDR ; -- header code
"RTN","SDSCLM1",12,0)
 S VALMHDR(1)=" "
"RTN","SDSCLM1",13,0)
 Q
"RTN","SDSCLM1",14,0)
 ;
"RTN","SDSCLM1",15,0)
INIT ; -- init variables and list array
"RTN","SDSCLM1",16,0)
 S VALMCNT=+$G(SDLN)
"RTN","SDSCLM1",17,0)
 Q
"RTN","SDSCLM1",18,0)
 ;
"RTN","SDSCLM1",19,0)
HELP ; -- help code
"RTN","SDSCLM1",20,0)
 N X
"RTN","SDSCLM1",21,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","SDSCLM1",22,0)
 Q
"RTN","SDSCLM1",23,0)
 ;
"RTN","SDSCLM1",24,0)
EXIT ; -- exit code
"RTN","SDSCLM1",25,0)
 ;
"RTN","SDSCLM1",26,0)
 K VALMHDR,VALMCNT
"RTN","SDSCLM1",27,0)
 K ^TMP("SDSCLST",$J)
"RTN","SDSCLM1",28,0)
 Q
"RTN","SDSCLM1",29,0)
 ;
"RTN","SDSCLM1",30,0)
EXPND ; -- expand code
"RTN","SDSCLM1",31,0)
 Q
"RTN","SDSCLM1",32,0)
 ;
"RTN","SDSCLST")
0^10^B5358321
"RTN","SDSCLST",1,0)
SDSCLST ;ALB/JAM/RBS - ASCD Review List ; 4/24/07 4:29pm
"RTN","SDSCLST",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCLST",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCLST",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCLST",5,0)
 ;
"RTN","SDSCLST",6,0)
 ;**Program Description**
"RTN","SDSCLST",7,0)
 ;  This program will build a list of entries to review
"RTN","SDSCLST",8,0)
 Q
"RTN","SDSCLST",9,0)
EN ;  Entry Point
"RTN","SDSCLST",10,0)
 N DIR,X,Y,DTOUT,DUOUT
"RTN","SDSCLST",11,0)
 ;  Ask which records should be reviewed.
"RTN","SDSCLST",12,0)
 S SCOPT=$$SCSEL^SDSCUTL()
"RTN","SDSCLST",13,0)
 I SCOPT="" G EXIT
"RTN","SDSCLST",14,0)
 ;  Get start and end date for encounter list.
"RTN","SDSCLST",15,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G EXIT
"RTN","SDSCLST",16,0)
 ;  Ask for division
"RTN","SDSCLST",17,0)
 D DIV^SDSCUTL
"RTN","SDSCLST",18,0)
 D ^DIR
"RTN","SDSCLST",19,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCLST",20,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN
"RTN","SDSCLST",21,0)
 K SCLN,DIR
"RTN","SDSCLST",22,0)
 ;  Determine type of user
"RTN","SDSCLST",23,0)
 D TYPE^SDSCUTL
"RTN","SDSCLST",24,0)
 ;  Call ListMan Screen
"RTN","SDSCLST",25,0)
 D EN^SDSCLM
"RTN","SDSCLST",26,0)
 ;
"RTN","SDSCLST",27,0)
EXIT D END^SDSCEDT
"RTN","SDSCLST",28,0)
 K EXIT,VALMBCK,VALMSG,SDCNT,SDEDT,SDSCBDT,SDSCDVLN,SDSCDVSL,SDSCEDT
"RTN","SDSCLST",29,0)
 K SDSCTAT,SDSCTDT,SDANS,SCOPT
"RTN","SDSCLST",30,0)
 Q
"RTN","SDSCLST",31,0)
 ;
"RTN","SDSCLST",32,0)
SEL ;  Select entry to review
"RTN","SDSCLST",33,0)
 N DIR,SDSCMSG,DFN,SDOE,SDOE0,IEN,SDOEDT,SDEFLG
"RTN","SDSCLST",34,0)
 S DIR("A")="Select Number to Review"
"RTN","SDSCLST",35,0)
 S DIR(0)="NO^1:"_SDCNT D ^DIR K DIR
"RTN","SDSCLST",36,0)
 I $D(DIRUT) K DIRUT D EXT Q
"RTN","SDSCLST",37,0)
 I $G(DUOUT)!($G(DTOUT)) D EXT Q
"RTN","SDSCLST",38,0)
 I $G(Y)<1 D EXT Q
"RTN","SDSCLST",39,0)
 S IEN=^TMP($J,"SDSCENC",Y)
"RTN","SDSCLST",40,0)
 ;  Call display build
"RTN","SDSCLST",41,0)
 S SDOE=IEN,SDOE0=$$GETOE^SDOE(SDOE),SDOEDT=$P(SDOE0,U)
"RTN","SDSCLST",42,0)
 I SDOEDT="" S VALMSG="Encounter has been deleted.",VALMBCK="R" Q
"RTN","SDSCLST",43,0)
 I $$STDGET^SDSCRPT1() D  Q:'SDEFLG
"RTN","SDSCLST",44,0)
 . S SDEFLG=0 D CHECK^SDSCEDT
"RTN","SDSCLST",45,0)
 . I 'SDEFLG S VALMSG="Cannot edit."_$G(SDSCMSG),VALMBCK="R" Q
"RTN","SDSCLST",46,0)
 . D DISPLAY^SDSCEDT
"RTN","SDSCLST",47,0)
 ;Check if data came from an ancillary package and okay to edit
"RTN","SDSCLST",48,0)
 I '$$ANCPKG^SDSCUTL(IEN) S VALMSG="Cannot edit encounter.",VALMBCK="R" Q
"RTN","SDSCLST",49,0)
 ;  Check for sensitive patient and call ListMan if OK
"RTN","SDSCLST",50,0)
 S DFN=$P(SDOE0,U,2)
"RTN","SDSCLST",51,0)
 I DFN="" S VALMSG="Encounter has been deleted.",VALMBCK="R" Q
"RTN","SDSCLST",52,0)
 I '$$SENS^SDSCUTL(DFN,1) D EN^SDSCLM1
"RTN","SDSCLST",53,0)
 D RBLD^SDSCLM
"RTN","SDSCLST",54,0)
 S VALMBCK="R"
"RTN","SDSCLST",55,0)
 Q
"RTN","SDSCLST",56,0)
 ;
"RTN","SDSCLST",57,0)
EXT ;  Exit
"RTN","SDSCLST",58,0)
 S VALMBCK=""
"RTN","SDSCLST",59,0)
 S EXIT=1
"RTN","SDSCLST",60,0)
 Q
"RTN","SDSCLST",61,0)
 ;
"RTN","SDSCLST",62,0)
EDT ; Edit SC Flag
"RTN","SDSCLST",63,0)
 S SDANS="Y"
"RTN","SDSCLST",64,0)
 D LEDT^SDSCEDT
"RTN","SDSCLST",65,0)
 S VALMBCK="Q"
"RTN","SDSCLST",66,0)
 Q
"RTN","SDSCLST",67,0)
 ;
"RTN","SDSCLST",68,0)
REV ;  Send to Review
"RTN","SDSCLST",69,0)
 S SDANS="R"
"RTN","SDSCLST",70,0)
 D LEDT^SDSCEDT
"RTN","SDSCLST",71,0)
 S VALMBCK="Q"
"RTN","SDSCLST",72,0)
 Q
"RTN","SDSCLST",73,0)
 ;
"RTN","SDSCLST",74,0)
ACC ;  Accept SC Flag
"RTN","SDSCLST",75,0)
 S SDANS="N"
"RTN","SDSCLST",76,0)
 D LEDT^SDSCEDT
"RTN","SDSCLST",77,0)
 S VALMBCK="Q"
"RTN","SDSCLST",78,0)
 Q
"RTN","SDSCMSR")
0^11^B50399971
"RTN","SDSCMSR",1,0)
SDSCMSR ;ALB/JAM/RBS - ASCD Managers Summary Data Report ; 3/5/07 11:44am
"RTN","SDSCMSR",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCMSR",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCMSR",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCMSR",5,0)
 ;
"RTN","SDSCMSR",6,0)
 ;**Program Description**
"RTN","SDSCMSR",7,0)
 ;  This report is to be used by managers only
"RTN","SDSCMSR",8,0)
 Q
"RTN","SDSCMSR",9,0)
EN ;  Entry Point
"RTN","SDSCMSR",10,0)
 N ZTQUEUED,POP,ZTRTN,ZTDTH,ZTDESC,ZTSAVE,SDSCDVSL,SDSCDVLN,WHO,DIR,X,Y
"RTN","SDSCMSR",11,0)
 N SDSCBDT
"RTN","SDSCMSR",12,0)
 K ^TMP("SDSCMGR",$J)
"RTN","SDSCMSR",13,0)
 ; Get Divisions
"RTN","SDSCMSR",14,0)
 D DIV^SDSCUTL
"RTN","SDSCMSR",15,0)
 D ^DIR
"RTN","SDSCMSR",16,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCMSR",17,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN
"RTN","SDSCMSR",18,0)
 ;  Get start and end date for report
"RTN","SDSCMSR",19,0)
 S (SDSCBDT,SDSCEDT)=""
"RTN","SDSCMSR",20,0)
 S SDSCBDT=$O(^SCE("B",""))\1,SDSCEDT=DT
"RTN","SDSCMSR",21,0)
 D GETDATE1^SDSCOMP I SDSCTDT="" G EXIT
"RTN","SDSCMSR",22,0)
 K DIR,X,Y
"RTN","SDSCMSR",23,0)
 S DIR(0)="S^A:All Encounters;C:Compiled ASCD Encounters Only"
"RTN","SDSCMSR",24,0)
 S DIR("A")="Select to check ",DIR("B")="Compiled ASCD Encounters Only"
"RTN","SDSCMSR",25,0)
 D ^DIR
"RTN","SDSCMSR",26,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCMSR",27,0)
 S WHO=Y
"RTN","SDSCMSR",28,0)
 K %ZIS,IOP,IOC,ZTIO S %ZIS="MQ" D ^%ZIS G:POP EXIT
"RTN","SDSCMSR",29,0)
 I $D(IO("Q")) D  G EXIT
"RTN","SDSCMSR",30,0)
 . S ZTRTN="BEG^SDSCMSR",ZTDTH=$H,ZTDESC="ASCD Manager Summary Report"
"RTN","SDSCMSR",31,0)
 . S ZTSAVE("WHO")="",ZTSAVE("SDSCBDT")="",ZTSAVE("SDSCEDT")="",ZTSAVE("SDSCDVSL")=""
"RTN","SDSCMSR",32,0)
 . S ZTSAVE("SDSCDVLN")="",ZTSAVE("SDEDT")="",ZTSAVE("SDSCTDT")=""
"RTN","SDSCMSR",33,0)
 . K IO("Q") D ^%ZTLOAD W !,"REQUEST QUEUED"
"RTN","SDSCMSR",34,0)
 ;
"RTN","SDSCMSR",35,0)
BEG ; Begin report
"RTN","SDSCMSR",36,0)
 N DTOTAL,DATOTAL,CT,P,L,SDABRT,AJ,DTOT,SDSCDIV,SDSCDNM,THDR,AI
"RTN","SDSCMSR",37,0)
 S (DTOTAL,DATOTAL,CT)=0
"RTN","SDSCMSR",38,0)
 S (P,L,SDABRT)=0
"RTN","SDSCMSR",39,0)
 F AJ="VBA","NO CHANGE","SCNSC","NSCSC","REV","NOT","NPROC" S DTOT(AJ)=0
"RTN","SDSCMSR",40,0)
 S SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:SDSCDVSL,1:"")
"RTN","SDSCMSR",41,0)
 I SDSCDIV="" S SDSCDNM="ALL" D BLD G EXT
"RTN","SDSCMSR",42,0)
 I SDSCDIV'="" D
"RTN","SDSCMSR",43,0)
 . S THDR=""
"RTN","SDSCMSR",44,0)
 . F AI=1:1:$L(SDSCDVSL,",") S SDSCDIV=$P(SDSCDVSL,",",AI) Q:SDSCDIV=""  D  Q:$G(SDABRT)=1
"RTN","SDSCMSR",45,0)
 .. S SDSCDNM=$P(^DG(40.8,SDSCDIV,0),"^",1),THDR=THDR_SDSCDNM_",",CT=CT+1 D BLD
"RTN","SDSCMSR",46,0)
 G EXT
"RTN","SDSCMSR",47,0)
 ;
"RTN","SDSCMSR",48,0)
BLD ;
"RTN","SDSCMSR",49,0)
 N SDOEDT,ATOTAL,ENC,SDOE0,TOTAL,EDIV,SDEFLG,SI,SUBTOT,SDNWPV,DIV
"RTN","SDSCMSR",50,0)
 N SBTOT,SDOE,SDSCDATA,SCVAL
"RTN","SDSCMSR",51,0)
 I WHO="A" S SDOEDT=SDSCTDT,ATOTAL=0 D
"RTN","SDSCMSR",52,0)
 . I '$D(ZTQUEUED) D EN^DDIOL("Please wait while I count encounters")
"RTN","SDSCMSR",53,0)
 . F  S SDOEDT=$O(^SCE("B",SDOEDT)) Q:SDOEDT\1>SDEDT!(SDOEDT="")  D
"RTN","SDSCMSR",54,0)
 .. S ENC="" F  S ENC=$O(^SCE("B",SDOEDT,ENC)) Q:ENC=""  D
"RTN","SDSCMSR",55,0)
 ... S SDOE0=$$GETOE^SDOE(ENC,0)
"RTN","SDSCMSR",56,0)
 ... I SDSCDIV'="" Q:$P(SDOE0,U,11)'=SDSCDIV
"RTN","SDSCMSR",57,0)
 ... I $P(SDOE0,U,12)=2 S ATOTAL=ATOTAL+1 I '$D(ZTQUEUED) W:ATOTAL#100=0 "."
"RTN","SDSCMSR",58,0)
 ;
"RTN","SDSCMSR",59,0)
FND ;
"RTN","SDSCMSR",60,0)
 S SDOEDT=SDSCTDT,TOTAL=0
"RTN","SDSCMSR",61,0)
 F  S SDOEDT=$O(^SDSC(409.48,"AE",SDOEDT)) Q:SDOEDT\1>SDEDT!(SDOEDT="")  D
"RTN","SDSCMSR",62,0)
 . S SDOE=""
"RTN","SDSCMSR",63,0)
 . F  S SDOE=$O(^SDSC(409.48,"AE",SDOEDT,SDOE)) Q:SDOE=""  D
"RTN","SDSCMSR",64,0)
 .. I SDSCDIV'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCMSR",65,0)
 .. S EDIV=$P(^SDSC(409.48,SDOE,0),U,12),TOTAL=TOTAL+1
"RTN","SDSCMSR",66,0)
 .. ; if division is null, check for value
"RTN","SDSCMSR",67,0)
 .. I EDIV="" D
"RTN","SDSCMSR",68,0)
 ... S EDIV=$P($G(^SCE(SDOE,0)),U,11)
"RTN","SDSCMSR",69,0)
 ... I EDIV="" S EDIV="~" Q
"RTN","SDSCMSR",70,0)
 ... D UPD(SDOE,.12,EDIV,"I")
"RTN","SDSCMSR",71,0)
 .. ;  Check for not editable
"RTN","SDSCMSR",72,0)
 .. S SDEFLG=0 D CHECK^SDSCEDT
"RTN","SDSCMSR",73,0)
 .. I 'SDEFLG D STORE("NOT") W "!X" Q
"RTN","SDSCMSR",74,0)
 .. S SDSCDATA=$G(^SDSC(409.48,SDOE,0)) I SDSCDATA="" Q
"RTN","SDSCMSR",75,0)
 .. I +$P(SDSCDATA,U,9),+$P(SDSCDATA,U,6) D STORE("VBA") Q
"RTN","SDSCMSR",76,0)
 .. I $P(SDSCDATA,U,5)="R" D STORE("REV") Q
"RTN","SDSCMSR",77,0)
 .. I $P(SDSCDATA,U,5)="C" S SCVAL=$$SCHNG^SDSCUTL(SDOE) D:SCVAL'=""
"RTN","SDSCMSR",78,0)
 ...I '+SCVAL D STORE("NO CHANGE") Q
"RTN","SDSCMSR",79,0)
 ...I $P(SCVAL,"^",2) D STORE("SCNSC") Q
"RTN","SDSCMSR",80,0)
 ...D STORE("NSCSC")
"RTN","SDSCMSR",81,0)
 ;
"RTN","SDSCMSR",82,0)
PRT ;  Print report
"RTN","SDSCMSR",83,0)
 S SUBTOT=0
"RTN","SDSCMSR",84,0)
 S SDHDR="Managers Summary Data Report"
"RTN","SDSCMSR",85,0)
 U IO D STDHDR^SDSCRPT2 Q:$G(SDABRT)=1
"RTN","SDSCMSR",86,0)
 S SDNWPV=1
"RTN","SDSCMSR",87,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCMSR",88,0)
 W !,?5,"For Encounters Dated ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)," For Division: ",SDSCDNM,!!
"RTN","SDSCMSR",89,0)
 W ! F I=1:1:79 W "-"
"RTN","SDSCMSR",90,0)
 ;
"RTN","SDSCMSR",91,0)
 I WHO="A" W !,"All Checked Out Encounters: ",?52,$J(ATOTAL,10) S DATOTAL=DATOTAL+ATOTAL
"RTN","SDSCMSR",92,0)
 W !,"ASCD Encounters that are potentially billable:  ",?55,$J(TOTAL,7) S DTOTAL=DTOTAL+TOTAL
"RTN","SDSCMSR",93,0)
 W !,?55,$J("-------",7)
"RTN","SDSCMSR",94,0)
 S SBTOT=0,DIV="" F  S DIV=$O(^TMP("SDSCMGR",$J,"VBA",DIV)) Q:DIV=""  D
"RTN","SDSCMSR",95,0)
 . S SBTOT=SBTOT+^TMP("SDSCMGR",$J,"VBA",DIV)
"RTN","SDSCMSR",96,0)
 W !,"Encounters verified with Rated Disability Codes: ",?55,$J(SBTOT,7) S SUBTOT=SUBTOT+SBTOT,DTOT("VBA")=DTOT("VBA")+SBTOT
"RTN","SDSCMSR",97,0)
 S SBTOT=0,DIV="" F  S DIV=$O(^TMP("SDSCMGR",$J,"NO CHANGE",DIV)) Q:DIV=""  D
"RTN","SDSCMSR",98,0)
 . S SBTOT=SBTOT+^TMP("SDSCMGR",$J,"NO CHANGE",DIV)
"RTN","SDSCMSR",99,0)
 W !,"Encounters where SC NOT changed:  ",?55,$J(SBTOT,7) S SUBTOT=SUBTOT+SBTOT,DTOT("NO CHANGE")=DTOT("NO CHANGE")+SBTOT
"RTN","SDSCMSR",100,0)
 S SBTOT=0,DIV="" F  S DIV=$O(^TMP("SDSCMGR",$J,"SCNSC",DIV)) Q:DIV=""  D
"RTN","SDSCMSR",101,0)
 . S SBTOT=SBTOT+^TMP("SDSCMGR",$J,"SCNSC",DIV)
"RTN","SDSCMSR",102,0)
 W !,"Encounters where SC was changed to NSC:  ",?55,$J(SBTOT,7) S SUBTOT=SUBTOT+SBTOT,DTOT("SCNSC")=DTOT("SCNSC")+SBTOT
"RTN","SDSCMSR",103,0)
 S SBTOT=0,DIV="" F  S DIV=$O(^TMP("SDSCMGR",$J,"NSCSC",DIV)) Q:DIV=""  D
"RTN","SDSCMSR",104,0)
 . S SBTOT=SBTOT+^TMP("SDSCMGR",$J,"NSCSC",DIV)
"RTN","SDSCMSR",105,0)
 W !,"Encounters where NSC was changed to SC:  ",?55,$J(SBTOT,7) S SUBTOT=SUBTOT+SBTOT,DTOT("NSCSC")=DTOT("NSCSC")+SBTOT
"RTN","SDSCMSR",106,0)
 S SBTOT=0,DIV="" F  S DIV=$O(^TMP("SDSCMGR",$J,"REV",DIV)) Q:DIV=""  D
"RTN","SDSCMSR",107,0)
 . S SBTOT=SBTOT+^TMP("SDSCMGR",$J,"REV",DIV)
"RTN","SDSCMSR",108,0)
 W !,"Encounters sent to Clinical Review:  ",?55,$J(SBTOT,7) S SUBTOT=SUBTOT+SBTOT,DTOT("REV")=DTOT("REV")+SBTOT
"RTN","SDSCMSR",109,0)
 S SBTOT=0,DIV="" F  S DIV=$O(^TMP("SDSCMGR",$J,"NOT",DIV)) Q:DIV=""  D
"RTN","SDSCMSR",110,0)
 . S SBTOT=SBTOT+^TMP("SDSCMGR",$J,"NOT",DIV)
"RTN","SDSCMSR",111,0)
 W !,"Encounters not editable:  ",?55,$J(SBTOT,7) S SUBTOT=SUBTOT+SBTOT,DTOT("NOT")=DTOT("NOT")+SBTOT
"RTN","SDSCMSR",112,0)
 W !,"Encounters not yet processed:  ",?55,$J(TOTAL-SUBTOT,7) S DTOT("NPROC")=DTOT("NPROC")+(TOTAL-SUBTOT)
"RTN","SDSCMSR",113,0)
 W !!!
"RTN","SDSCMSR",114,0)
 K ^TMP("SDSCMGR",$J)
"RTN","SDSCMSR",115,0)
 Q
"RTN","SDSCMSR",116,0)
 ;
"RTN","SDSCMSR",117,0)
UPD(SDENC,SDFLD,SDVAL,SDFLG) ; Update record
"RTN","SDSCMSR",118,0)
 N SDPD
"RTN","SDSCMSR",119,0)
 S SDPD(409.48,SDENC_",",SDFLD)=SDVAL
"RTN","SDSCMSR",120,0)
 D FILE^DIE(SDFLG,"SDPD","ERROR")
"RTN","SDSCMSR",121,0)
 Q
"RTN","SDSCMSR",122,0)
EXT ;
"RTN","SDSCMSR",123,0)
 I CT>1,$G(SDABRT)'=1 D PRTT
"RTN","SDSCMSR",124,0)
 D RPTEND^SDSCRPT1
"RTN","SDSCMSR",125,0)
 ;
"RTN","SDSCMSR",126,0)
EXIT ;
"RTN","SDSCMSR",127,0)
 K SDTYPE,SDSCTDT,SDEDT,SDSCEDT,SCLN,DIRUT,DTOUT,DUOUT,SDHDR
"RTN","SDSCMSR",128,0)
 K SDSCMSG,SDFLG,SDOEDAT,SDOSC,SDPAT,SDSCPKG,SDSCSRC,SDV0
"RTN","SDSCMSR",129,0)
 Q
"RTN","SDSCMSR",130,0)
STORE(VAL) ; Total up and Store
"RTN","SDSCMSR",131,0)
 S ^TMP("SDSCMGR",$J,VAL,EDIV)=$G(^TMP("SDSCMGR",$J,VAL,EDIV))+1
"RTN","SDSCMSR",132,0)
 S ^TMP("SDSCMGR",$J,VAL,EDIV,SDOE)=""
"RTN","SDSCMSR",133,0)
 K VAL
"RTN","SDSCMSR",134,0)
 Q
"RTN","SDSCMSR",135,0)
 ;
"RTN","SDSCMSR",136,0)
PRTT ; Print total page
"RTN","SDSCMSR",137,0)
 N HHDR,HHDR1,HHDR2,HHDR3,HHDR4,I
"RTN","SDSCMSR",138,0)
 U IO D STDHDR^SDSCRPT2 Q:$G(SDABRT)=1
"RTN","SDSCMSR",139,0)
 I $E(THDR,$L(THDR))="," S THDR=$E(THDR,1,$L(THDR)-1)
"RTN","SDSCMSR",140,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCMSR",141,0)
 S HHDR1="For Encounters Dated "_$$FMTE^XLFDT(SDSCTDT,2)_" THRU "_$$FMTE^XLFDT(SDEDT,2)_" TOTAL for "
"RTN","SDSCMSR",142,0)
 S HHDR2=THDR
"RTN","SDSCMSR",143,0)
 I $L(HHDR1)+$L(HHDR2)>IOM D
"RTN","SDSCMSR",144,0)
 . S HHDR3=$P(HHDR2,",",1),HHDR4=$P(HHDR2,",",2,99)
"RTN","SDSCMSR",145,0)
 . S HHDR=HHDR1_HHDR3
"RTN","SDSCMSR",146,0)
 . I HHDR4'="" S HHDR=HHDR_","
"RTN","SDSCMSR",147,0)
 I $L(HHDR1)+$L(HHDR2)'>IOM D
"RTN","SDSCMSR",148,0)
 . S HHDR=HHDR1_HHDR2
"RTN","SDSCMSR",149,0)
 W !,HHDR
"RTN","SDSCMSR",150,0)
 I $G(HHDR4)'="" W !,?5,HHDR4
"RTN","SDSCMSR",151,0)
 W ! F I=1:1:79 W "-"
"RTN","SDSCMSR",152,0)
 ;
"RTN","SDSCMSR",153,0)
 I WHO="A" W !,"All Checked Out Encounters: ",?52,$J(DATOTAL,10)
"RTN","SDSCMSR",154,0)
 W !,"ASCD Encounters w/ SC='Yes' & potentially billable:  ",?55,$J(DTOTAL,7)
"RTN","SDSCMSR",155,0)
 W !,?55,$J("-------",7)
"RTN","SDSCMSR",156,0)
 W !,"Encounters verified with Rated Disability Codes: ",?55,$J(DTOT("VBA"),7)
"RTN","SDSCMSR",157,0)
 W !,"Encounters where SC NOT changed:  ",?55,$J(DTOT("NO CHANGE"),7)
"RTN","SDSCMSR",158,0)
 W !,"Encounters where SC was changed to NSC:  ",?55,$J(DTOT("SCNSC"),7)
"RTN","SDSCMSR",159,0)
 W !,"Encounters where NSC was changed to SC:  ",?55,$J(DTOT("NSCSC"),7)
"RTN","SDSCMSR",160,0)
 W !,"Encounters sent to Clinical Review:  ",?55,$J(DTOT("REV"),7)
"RTN","SDSCMSR",161,0)
 W !,"Encounters not editable:  ",?55,$J(DTOT("NOT"),7)
"RTN","SDSCMSR",162,0)
 W !,"Encounters not yet processed:  ",?55,$J(DTOT("NPROC"),7)
"RTN","SDSCMSR",163,0)
 W !!!
"RTN","SDSCMSR",164,0)
 Q
"RTN","SDSCNSCP")
0^36^B15365722
"RTN","SDSCNSCP",1,0)
SDSCNSCP ;ALB/JAM - ASCD NSC Encounters Purge ; 4/24/07 4:29pm
"RTN","SDSCNSCP",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCNSCP",3,0)
 ;
"RTN","SDSCNSCP",4,0)
 ;**Program Description**
"RTN","SDSCNSCP",5,0)
 ;  This program will purge encounters with a status of NEW where 
"RTN","SDSCNSCP",6,0)
 ;  the Visit SC value equals the ASCD value of "NO" for a specified
"RTN","SDSCNSCP",7,0)
 ;  division(s) with and a user defined date range. Users must have 
"RTN","SDSCNSCP",8,0)
 ;  the SDSC SUPER key to run this option.
"RTN","SDSCNSCP",9,0)
 Q
"RTN","SDSCNSCP",10,0)
EN ;  Entry Point
"RTN","SDSCNSCP",11,0)
 N ZTQUEUED,POP,ZTRTN,ZTDTH,ZTDESC,ZTSAVE,SDSCDVSL,SDSCDVLN,DIR,X,Y
"RTN","SDSCNSCP",12,0)
 N DTOUT,DUOUT
"RTN","SDSCNSCP",13,0)
 ;  Get start and end date for encounter list.
"RTN","SDSCNSCP",14,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G EXIT
"RTN","SDSCNSCP",15,0)
 ;  Ask for division
"RTN","SDSCNSCP",16,0)
 D DIV^SDSCUTL
"RTN","SDSCNSCP",17,0)
 D ^DIR
"RTN","SDSCNSCP",18,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCNSCP",19,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN
"RTN","SDSCNSCP",20,0)
 K SCLN,DIR
"RTN","SDSCNSCP",21,0)
 ;  Determine type of user
"RTN","SDSCNSCP",22,0)
 D TYPE^SDSCUTL
"RTN","SDSCNSCP",23,0)
 I SDTYPE'="S" W !!,"You do not have privileges to run this report." Q
"RTN","SDSCNSCP",24,0)
 W !!,"This option will permanently remove the outpatient encounters that are at a"
"RTN","SDSCNSCP",25,0)
 W !,"NEW status when both the Encounter SC value and the ASCD value are 'NO' from"
"RTN","SDSCNSCP",26,0)
 W !,"the SDSC SERVICE CONNECTED CHANGES file (#409.48).",!
"RTN","SDSCNSCP",27,0)
 S DIR(0)="Y",DIR("A")="Are you sure you want to continue",DIR("B")="N"
"RTN","SDSCNSCP",28,0)
 S DIR("?")="YES to remove encounters from the Review file, NO to Exit."
"RTN","SDSCNSCP",29,0)
 D ^DIR
"RTN","SDSCNSCP",30,0)
 I ('Y)!($G(DTOUT))!($G(DUOUT)) G EXIT
"RTN","SDSCNSCP",31,0)
 ;
"RTN","SDSCNSCP",32,0)
 K %ZIS,IOP,IOC,ZTIO S %ZIS="QM" D ^%ZIS G:POP EXIT
"RTN","SDSCNSCP",33,0)
 I $D(IO("Q")) D  G EXIT
"RTN","SDSCNSCP",34,0)
 . S ZTRTN="BEG^SDSCNSCP",ZTDTH=$H,ZTDESC="Purge ASCD NSC Encounters"
"RTN","SDSCNSCP",35,0)
 . S ZTSAVE("SDSCDVSL")="",ZTSAVE("SDSCDVLN")="",ZTSAVE("SDEDT")=""
"RTN","SDSCNSCP",36,0)
 . S ZTSAVE("SDSCTDT")="",ZTIO=ION
"RTN","SDSCNSCP",37,0)
 . K IO("Q") D ^%ZTLOAD W !,"REQUEST QUEUED"
"RTN","SDSCNSCP",38,0)
 ;
"RTN","SDSCNSCP",39,0)
BEG ; Begin report
"RTN","SDSCNSCP",40,0)
 N SDSCDIV,SDSCDNM,SDI,SDGTOT,SDPG
"RTN","SDSCNSCP",41,0)
 S SDGTOT=0,SDPG=1
"RTN","SDSCNSCP",42,0)
 S SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:SDSCDVSL,1:"")
"RTN","SDSCNSCP",43,0)
 I SDSCDIV="" S SDSCDNM="ALL" D FND G EXIT
"RTN","SDSCNSCP",44,0)
 I SDSCDIV'="" D
"RTN","SDSCNSCP",45,0)
 . F SDI=1:1:$L(SDSCDVSL,",") S SDSCDIV=$P(SDSCDVSL,",",SDI) Q:SDSCDIV=""  D
"RTN","SDSCNSCP",46,0)
 .. S SDSCDNM=$P(^DG(40.8,SDSCDIV,0),"^",1)
"RTN","SDSCNSCP",47,0)
 .. D FND
"RTN","SDSCNSCP",48,0)
 W !!,"Grand total of NSC Records Purged: ",SDGTOT
"RTN","SDSCNSCP",49,0)
 G EXIT
"RTN","SDSCNSCP",50,0)
 ;
"RTN","SDSCNSCP",51,0)
FND ; Find records and delete
"RTN","SDSCNSCP",52,0)
 N SDOEDT,SDOE0,SDEDIV,SDOE,SDSCDATA,SDL,SDV0,SDPRV,SCVST,SDCNT,DFN,DIK,DA
"RTN","SDSCNSCP",53,0)
 ;
"RTN","SDSCNSCP",54,0)
 D HDR
"RTN","SDSCNSCP",55,0)
 S SDOEDT=SDSCTDT-1,(SDL,SDCNT)=0
"RTN","SDSCNSCP",56,0)
 F  S SDOEDT=$O(^SDSC(409.48,"AE",SDOEDT)) Q:SDOEDT\1>SDEDT!(SDOEDT="")  D
"RTN","SDSCNSCP",57,0)
 . S SDOE=""
"RTN","SDSCNSCP",58,0)
 . F  S SDOE=$O(^SDSC(409.48,"AE",SDOEDT,SDOE)) Q:SDOE=""  D
"RTN","SDSCNSCP",59,0)
 .. S SDOE0=$$GETOE^SDOE(SDOE),SDSCDATA=$G(^SDSC(409.48,SDOE,0))
"RTN","SDSCNSCP",60,0)
 .. Q:SDOE0=""  Q:SDSCDATA=""
"RTN","SDSCNSCP",61,0)
 .. ; Check if status is NEW
"RTN","SDSCNSCP",62,0)
 .. I $P(SDSCDATA,U,5)'="N" Q
"RTN","SDSCNSCP",63,0)
 .. S SDEDIV=$P(SDSCDATA,U,12) Q:SDEDIV=""
"RTN","SDSCNSCP",64,0)
 .. I SDSCDIV'="" Q:SDEDIV'=SDSCDIV
"RTN","SDSCNSCP",65,0)
 .. ; Check for ASCD SC value
"RTN","SDSCNSCP",66,0)
 .. I $P(SDSCDATA,U,9)'=0 Q
"RTN","SDSCNSCP",67,0)
 .. ; Check for Visit SC value
"RTN","SDSCNSCP",68,0)
 .. S SDV0=$P(SDOE0,U,5),SCVST=$$GET1^DIQ(9000010,SDV0_",",80001,"I")
"RTN","SDSCNSCP",69,0)
 .. I SCVST'=0 Q
"RTN","SDSCNSCP",70,0)
 .. S DFN=$P(SDOE0,U,"2Z") D DEM^VADPT
"RTN","SDSCNSCP",71,0)
 .. S SDCNT=SDCNT+1,SDGTOT=SDGTOT+1,SCVST=$S(SCVST:"Y",SCVST=0:"NO",1:"")
"RTN","SDSCNSCP",72,0)
 .. S SDPRV=$$GET1^DIQ(200,$$PRIMVPRV^PXUTL1(SDV0)_",",.01,"E"),SDL=SDL+1
"RTN","SDSCNSCP",73,0)
 .. W !,$$FMTE^XLFDT(SDOEDT,2),?16,SDOE,?30,$E(VADM(1),1,25),?55,$E(SDPRV,1,19),?75,SCVST
"RTN","SDSCNSCP",74,0)
 .. S DIK="^SDSC(409.48,",DA=SDOE D ^DIK
"RTN","SDSCNSCP",75,0)
 .. D KVA^VADPT
"RTN","SDSCNSCP",76,0)
 .. I $E(IOST,1,2)'="C-",SDL+4>IOSL D HDR
"RTN","SDSCNSCP",77,0)
 W !!,"Number of NSC Records Purged: ",SDCNT," for "_SDSCDNM
"RTN","SDSCNSCP",78,0)
 Q
"RTN","SDSCNSCP",79,0)
 ;
"RTN","SDSCNSCP",80,0)
HDR ;  Print report
"RTN","SDSCNSCP",81,0)
 N SDHDR,I
"RTN","SDSCNSCP",82,0)
 S SDHDR="Purge ASCD NSC Encounters"
"RTN","SDSCNSCP",83,0)
 W @IOF
"RTN","SDSCNSCP",84,0)
 W SDHDR,?67,"PAGE: ",SDPG
"RTN","SDSCNSCP",85,0)
 W !,?5,"For Encounters Dated ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)," For Division: ",SDSCDNM,!!
"RTN","SDSCNSCP",86,0)
 W "Encounter Date",?16,"Encounter No.",?30,"Patient Name",?55,"Provider",?73,"SC Val"
"RTN","SDSCNSCP",87,0)
 W ! F I=1:1:79 W "-"
"RTN","SDSCNSCP",88,0)
 S SDPG=SDPG+1
"RTN","SDSCNSCP",89,0)
 Q
"RTN","SDSCNSCP",90,0)
 ;
"RTN","SDSCNSCP",91,0)
EXIT ;clean up variables before exiting option
"RTN","SDSCNSCP",92,0)
 K SDEDT,SDOPT,SDSCBDT,SDSCCR,SDSCEDT,SDSCTAT,SDSCTDT,SDTYPE
"RTN","SDSCNSCP",93,0)
 Q
"RTN","SDSCOMP")
0^12^B63599781
"RTN","SDSCOMP",1,0)
SDSCOMP ;ALB/JAM/RBS - ASCD Compile list of encounters for Service Connection Review ; 3/12/07 4:36pm
"RTN","SDSCOMP",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCOMP",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCOMP",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCOMP",5,0)
 ;
"RTN","SDSCOMP",6,0)
 ; Routine should be called at specified tags only.
"RTN","SDSCOMP",7,0)
 Q
"RTN","SDSCOMP",8,0)
 ;
"RTN","SDSCOMP",9,0)
AUTODT ; Called by option "SDSC NIGHTLY COMPILE"
"RTN","SDSCOMP",10,0)
 ; - Compile ASCD Encounters on a Nightly Basis
"RTN","SDSCOMP",11,0)
 ;   (Rated Disabilities/ICDs for Prior Day Encounters)
"RTN","SDSCOMP",12,0)
 ;
"RTN","SDSCOMP",13,0)
 N SDSCTDT,SDEDT,DIC,DA
"RTN","SDSCOMP",14,0)
 ; nightly compile is for previous day only
"RTN","SDSCOMP",15,0)
 S SDSCTDT=$$FMADD^XLFDT(DT,-1)
"RTN","SDSCOMP",16,0)
 ; Set variable 'SDEDT' (loop end point) to same date
"RTN","SDSCOMP",17,0)
 S SDEDT=SDSCTDT
"RTN","SDSCOMP",18,0)
 ; Setup list of service connected eligibility codes.
"RTN","SDSCOMP",19,0)
 D ELIG
"RTN","SDSCOMP",20,0)
 G TASK1
"RTN","SDSCOMP",21,0)
 ;
"RTN","SDSCOMP",22,0)
GETDATE ; Entry point for edit or report - Get START and END dates
"RTN","SDSCOMP",23,0)
 S SDSCBDT=$O(^SDSC(409.48,"AE",""))\1,SDSCEDT=DT
"RTN","SDSCOMP",24,0)
 ;  If no records currently available, display message.
"RTN","SDSCOMP",25,0)
 I SDSCBDT=0 D EN^DDIOL("NO RECORDS ON FILE - RUN COMPILE",,"!!?10") HANG 3 S (SDSCTDT,SDEDT)="" Q
"RTN","SDSCOMP",26,0)
 ;
"RTN","SDSCOMP",27,0)
GETDATE1 ; Entry point for SDSC COMPILE option - Get START and END dates
"RTN","SDSCOMP",28,0)
 ; Output:
"RTN","SDSCOMP",29,0)
 ;   Set var 'SDSCTDT' (loop start point) to a user selected date.
"RTN","SDSCOMP",30,0)
 N DIR,X,Y,X1,X2
"RTN","SDSCOMP",31,0)
 S DIR(0)="DA^"_SDSCBDT_":"_DT_":EX"
"RTN","SDSCOMP",32,0)
 S DIR("A")="Please enter START date: "
"RTN","SDSCOMP",33,0)
 ;S DIR("B")=$$FMTE^XLFDT(SDSCBDT,"1Z")
"RTN","SDSCOMP",34,0)
 S DIR("?")="This START date cannot precede "_$$FMTE^XLFDT(SDSCBDT,"1Z")
"RTN","SDSCOMP",35,0)
 ;
"RTN","SDSCOMP",36,0)
 ; This check works for the "SDSC COMPILE" only.
"RTN","SDSCOMP",37,0)
 ;   - Compile does not setup SDSCEDT var
"RTN","SDSCOMP",38,0)
 I SDSCBDT]"",SDSCEDT']"" D
"RTN","SDSCOMP",39,0)
 . S DIR("B")=$$FMTE^XLFDT(SDSCBDT,"1Z")
"RTN","SDSCOMP",40,0)
 . S DIR("?")="This START date cannot precede the default SDSC SITE PARAMETER days"
"RTN","SDSCOMP",41,0)
 ;
"RTN","SDSCOMP",42,0)
 D ^DIR
"RTN","SDSCOMP",43,0)
 I $D(DTOUT)!$D(DUOUT) S (SDSCTDT,SDEDT)="" Q
"RTN","SDSCOMP",44,0)
 S:Y>0 SDSCTDT=Y
"RTN","SDSCOMP",45,0)
 ; check if start date has changed
"RTN","SDSCOMP",46,0)
 I SDSCTDT'=SDSCBDT S SDSCBDT=SDSCTDT
"RTN","SDSCOMP",47,0)
 ; Set variable 'SDEDT' (loop end point) to a user selected date.
"RTN","SDSCOMP",48,0)
 K DIR
"RTN","SDSCOMP",49,0)
 S DIR(0)="DA^"_SDSCBDT_":"_DT_":EX"
"RTN","SDSCOMP",50,0)
 S DIR("A")="Please enter END date: "
"RTN","SDSCOMP",51,0)
 S DIR("B")=$$FMTE^XLFDT($S(SDSCEDT]"":SDSCEDT,1:DT),"1Z")
"RTN","SDSCOMP",52,0)
 S DIR("?")="This END date cannot precede the START date or exceed today's date"
"RTN","SDSCOMP",53,0)
 D ^DIR
"RTN","SDSCOMP",54,0)
 I $D(DTOUT)!$D(DUOUT) S (SDSCTDT,SDEDT)="" Q
"RTN","SDSCOMP",55,0)
 S:Y>0 SDEDT=Y
"RTN","SDSCOMP",56,0)
 Q
"RTN","SDSCOMP",57,0)
 ;
"RTN","SDSCOMP",58,0)
ELIG ; Compile list of service connected eligibility codes.
"RTN","SDSCOMP",59,0)
 N I,J
"RTN","SDSCOMP",60,0)
 K SDLIST
"RTN","SDSCOMP",61,0)
 ; loop "D" x-ref of ELIGIBILITY CODE (#8) file
"RTN","SDSCOMP",62,0)
 ; Entries 1 and 3 are the service connected entries in this file.
"RTN","SDSCOMP",63,0)
 F I=1,3 S J=0 F  S J=$O(^DIC(8,"D",I,J)) Q:'J  S SDLIST(J)=""
"RTN","SDSCOMP",64,0)
 Q
"RTN","SDSCOMP",65,0)
 ;
"RTN","SDSCOMP",66,0)
COMPILE ; Called by option "SDSC COMPILE"
"RTN","SDSCOMP",67,0)
 ; - Compile ASCD Encounters by Date Range
"RTN","SDSCOMP",68,0)
 ;   (Rated Disabilities/ICDs for Encounters)
"RTN","SDSCOMP",69,0)
 N DIR,X,Y,SDSCBDT,SDSCEDT,ZTIO,ZTDESC,ZTRTN,ZTSAVE
"RTN","SDSCOMP",70,0)
 N SDSCITE,SDSCDAY
"RTN","SDSCOMP",71,0)
 D HOME^%ZIS
"RTN","SDSCOMP",72,0)
 ; Get start and end date for compile.
"RTN","SDSCOMP",73,0)
 S (SDSCBDT,SDSCEDT,SDSCDAY)=""
"RTN","SDSCOMP",74,0)
 S SDSCITE=$P($$SITE^VASITE(),U,1)
"RTN","SDSCOMP",75,0)
 S SDSCDAY=$$GET^XPAR((+SDSCITE)_";DIC(4,","SDSC SITE PARAMETER")
"RTN","SDSCOMP",76,0)
 ; set default start date based on site parameter (30 days max)
"RTN","SDSCOMP",77,0)
 I SDSCDAY="" S SDSCDAY=30
"RTN","SDSCOMP",78,0)
 S SDSCBDT=$$FMADD^XLFDT(DT,-SDSCDAY)
"RTN","SDSCOMP",79,0)
 ;
"RTN","SDSCOMP",80,0)
 D GETDATE1 I SDSCTDT="" G END
"RTN","SDSCOMP",81,0)
 ; Setup list of service connected eligibility codes.
"RTN","SDSCOMP",82,0)
 D ELIG
"RTN","SDSCOMP",83,0)
 ; Ask user if compile should be in background and handle queuing if requested.
"RTN","SDSCOMP",84,0)
 K DIR
"RTN","SDSCOMP",85,0)
 S DIR(0)="YA",DIR("B")="YES"
"RTN","SDSCOMP",86,0)
 S DIR("A")="Do you wish to schedule the compile? "
"RTN","SDSCOMP",87,0)
 S DIR("?")="Enter 'YES' to schedule compile using TaskMan or 'NO' to compile immediately."
"RTN","SDSCOMP",88,0)
 D ^DIR
"RTN","SDSCOMP",89,0)
 I $D(DTOUT)!$D(DUOUT) D EN^DDIOL("<Compile Aborted> ",,"!!?10") G END
"RTN","SDSCOMP",90,0)
 I Y D  G END
"RTN","SDSCOMP",91,0)
 . S ZTIO="NULL",ZTDESC="COMPARE RATED DISABILITY/ICDs PER ENCOUNTER (COMPILE)",ZTRTN="TASK^SDSCOMP",ZTSAVE("*")=""
"RTN","SDSCOMP",92,0)
 . D ^%ZTLOAD
"RTN","SDSCOMP",93,0)
 . I $G(ZTSK)]"" D EN^DDIOL("Extract's TaskMan ID is "_ZTSK,"","!!?10")
"RTN","SDSCOMP",94,0)
 . K ZTSK
"RTN","SDSCOMP",95,0)
 . Q
"RTN","SDSCOMP",96,0)
 D EN^DDIOL("Comparing Rated Disabilities and Diagnosis Code per Encounter ...",,"!!?10")
"RTN","SDSCOMP",97,0)
 ;
"RTN","SDSCOMP",98,0)
TASK ; Start compile (one-time compile - remove from queue when complete)
"RTN","SDSCOMP",99,0)
 D OPT
"RTN","SDSCOMP",100,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","SDSCOMP",101,0)
 G END
"RTN","SDSCOMP",102,0)
 ;
"RTN","SDSCOMP",103,0)
TASK1 ; Start compile (scheduled compile - don't remove from queue)
"RTN","SDSCOMP",104,0)
 D OPT
"RTN","SDSCOMP",105,0)
 G END
"RTN","SDSCOMP",106,0)
 ;
"RTN","SDSCOMP",107,0)
OPT ; Loop through all outpatient encounters for the specified dates.
"RTN","SDSCOMP",108,0)
 N SDSCTOT,SDSCSVC,SDSCNSC,SDSCBAD,SDSCNCT,SDSCEXS,SDSCNDX,SDSCNBL
"RTN","SDSCOMP",109,0)
 N SDSCMAP1,SDSCMAP2,SDSCINS,SDOEDT,SDOE
"RTN","SDSCOMP",110,0)
 S (SDSCTOT,SDSCSVC,SDSCNSC,SDSCBAD,SDSCNCT,SDSCEXS,SDSCNDX,SDSCNBL,SDSCMAP1,SDSCMAP2,SDSCINS)=0
"RTN","SDSCOMP",111,0)
 S SDOEDT=SDSCTDT F  S SDOEDT=$O(^SCE("B",SDOEDT)) Q:(SDOEDT\1)>SDEDT  Q:SDOEDT=""  D
"RTN","SDSCOMP",112,0)
 . S SDOE=0 F  S SDOE=$O(^SCE("B",SDOEDT,SDOE)) Q:'SDOE  D OPT1
"RTN","SDSCOMP",113,0)
 . Q
"RTN","SDSCOMP",114,0)
 ;
"RTN","SDSCOMP",115,0)
 ;  Check for newly identified insurance
"RTN","SDSCOMP",116,0)
 D EN^SDSCINS(.SDSCINS,.SDSCSVC)
"RTN","SDSCOMP",117,0)
 ;
"RTN","SDSCOMP",118,0)
 ; Send mail message with counts of records
"RTN","SDSCOMP",119,0)
 D MMSG
"RTN","SDSCOMP",120,0)
 ;
"RTN","SDSCOMP",121,0)
 ; Check for encounters in ASCD that were deleted from (#409.68)
"RTN","SDSCOMP",122,0)
 D EN^SDSCPRG
"RTN","SDSCOMP",123,0)
 Q
"RTN","SDSCOMP",124,0)
 ;
"RTN","SDSCOMP",125,0)
OPT1 ; Check the service connected info for one encounter.
"RTN","SDSCOMP",126,0)
 N SDOEDAT,SDEC,SDPAT,SDCLIN,SDCST,SDV0,SDFILEOK,SDPRV,SDOSC
"RTN","SDSCOMP",127,0)
 S SDSCTOT=SDSCTOT+1
"RTN","SDSCOMP",128,0)
 ; If this encounter has already been compiled for review, quit.
"RTN","SDSCOMP",129,0)
 I $D(^SDSC(409.48,SDOE,0)) S SDSCEXS=SDSCEXS+1 Q
"RTN","SDSCOMP",130,0)
 ; Get encounter data.  If no encounter data, quit.
"RTN","SDSCOMP",131,0)
 ;            Replace all ^SCE calls with new variable.
"RTN","SDSCOMP",132,0)
 S SDOEDAT=$$GETOE^SDOE(SDOE)
"RTN","SDSCOMP",133,0)
 I SDOEDAT="" S SDSCBAD=SDSCBAD+1 Q
"RTN","SDSCOMP",134,0)
 ; if child encounter, reduce count and quit
"RTN","SDSCOMP",135,0)
 I $P(SDOEDAT,U,6) S SDSCTOT=SDSCTOT-1 Q
"RTN","SDSCOMP",136,0)
 ; if not Check-out, quit
"RTN","SDSCOMP",137,0)
 I $P(SDOEDAT,U,12)'=2 S SDSCNBL=SDSCNBL+1 Q
"RTN","SDSCOMP",138,0)
 ; Get eligibility.  If no eligibility, quit.
"RTN","SDSCOMP",139,0)
 S SDEC=$P(SDOEDAT,U,13) I SDEC="" S SDSCBAD=SDSCBAD+1 Q
"RTN","SDSCOMP",140,0)
 ; If eligibility is not service connected, quit.
"RTN","SDSCOMP",141,0)
 I '$D(SDLIST(SDEC)) S SDSCNSC=SDSCNSC+1 Q
"RTN","SDSCOMP",142,0)
 ; Get patient. If no patient, quit.
"RTN","SDSCOMP",143,0)
 S SDPAT=$P(SDOEDAT,U,2) I SDPAT="" S SDSCBAD=SDSCBAD+1 Q
"RTN","SDSCOMP",144,0)
 ; Checks for clinic and stop code.
"RTN","SDSCOMP",145,0)
 ; Get clinic. If no clinic, quit.
"RTN","SDSCOMP",146,0)
 S SDCLIN=$P(SDOEDAT,U,4) I SDCLIN="" S SDSCBAD=SDSCBAD+1 Q
"RTN","SDSCOMP",147,0)
 ; Get clinic stop code. If no clinic stop code, quit.
"RTN","SDSCOMP",148,0)
 S SDCST=$P(SDOEDAT,U,3) I SDCST="" S SDSCBAD=SDSCBAD+1 Q
"RTN","SDSCOMP",149,0)
 ; If clinic is non-count, quit.
"RTN","SDSCOMP",150,0)
 I $$NCTCL^SDSCUTL(SDCLIN) S SDSCNCT=SDSCNCT+1 Q
"RTN","SDSCOMP",151,0)
 ; If encounter is non-billable for first and third party, quit.
"RTN","SDSCOMP",152,0)
 I $$NBFP^SDSCUTL(SDOE),$$NBTP^SDSCUTL(SDOE) S SDSCNBL=SDSCNBL+1 Q
"RTN","SDSCOMP",153,0)
 ; Get visit file entry. If no visit, quit.
"RTN","SDSCOMP",154,0)
 S SDV0=$P(SDOEDAT,U,5) I SDV0="" S SDSCBAD=SDSCBAD+1 Q
"RTN","SDSCOMP",155,0)
 S SDOSC=$$GET1^DIQ(9000010,SDV0_",",80001,"I")
"RTN","SDSCOMP",156,0)
 I SDOSC="" S SDSCNBL=SDSCNBL+1 Q
"RTN","SDSCOMP",157,0)
 ; Get and evaluate all ICD9 entries for the specified visit.
"RTN","SDSCOMP",158,0)
 S SDFILEOK=$$SC^SDSCAPI(SDPAT,,SDOE)
"RTN","SDSCOMP",159,0)
 ;no ICDs were found for this encounter SDFILEOK=""
"RTN","SDSCOMP",160,0)
 I SDFILEOK="" S SDSCNDX=SDSCNDX+1 Q
"RTN","SDSCOMP",161,0)
 ;checks if ICD match found
"RTN","SDSCOMP",162,0)
 I +SDFILEOK D
"RTN","SDSCOMP",163,0)
 .I '$P(SDFILEOK,"^",4) S SDSCMAP1=SDSCMAP1+1 Q
"RTN","SDSCOMP",164,0)
 .S SDSCMAP2=SDSCMAP2+1
"RTN","SDSCOMP",165,0)
 I '+SDFILEOK S SDSCNSC=SDSCNSC+1
"RTN","SDSCOMP",166,0)
 ; Get Primary Provider for the specified visit.
"RTN","SDSCOMP",167,0)
 S SDPRV=$$PRIMVPRV^PXUTL1(SDV0) I SDPRV=0 S SDPRV=""
"RTN","SDSCOMP",168,0)
 ; Store the encounter for later use.
"RTN","SDSCOMP",169,0)
 S SDSCSVC=SDSCSVC+1
"RTN","SDSCOMP",170,0)
 I $P(SDFILEOK,U,4) Q:$D(^SDSC(409.48,SDOE,0))  D STORE Q
"RTN","SDSCOMP",171,0)
 I SDOSC'=$P(SDFILEOK,U) D STORE
"RTN","SDSCOMP",172,0)
 Q
"RTN","SDSCOMP",173,0)
 ;
"RTN","SDSCOMP",174,0)
STORE ; Save the information for the found encounter.
"RTN","SDSCOMP",175,0)
 N SDERR,SDIEN,SDSC
"RTN","SDSCOMP",176,0)
 S SDIEN(1)=SDOE
"RTN","SDSCOMP",177,0)
 S SDSC(409.48,"+1,",.01)=SDOE
"RTN","SDSCOMP",178,0)
 S SDSC(409.48,"+1,",.04)=DT
"RTN","SDSCOMP",179,0)
 S SDSC(409.48,"+1,",.07)=SDOEDT
"RTN","SDSCOMP",180,0)
 S SDSC(409.48,"+1,",.08)=SDPRV
"RTN","SDSCOMP",181,0)
 S SDSC(409.48,"+1,",.09)=$P(SDFILEOK,U,3)
"RTN","SDSCOMP",182,0)
 S SDSC(409.48,"+1,",.11)=SDPAT
"RTN","SDSCOMP",183,0)
 S SDSC(409.48,"+1,",.12)=$P(SDOEDAT,U,11)
"RTN","SDSCOMP",184,0)
 S SDSC(409.48,"+1,",.05)="N"
"RTN","SDSCOMP",185,0)
 S SDSC(409.48,"+1,",.13)=SDOSC
"RTN","SDSCOMP",186,0)
 D UPDATE^DIE("","SDSC","SDIEN","SDERR")
"RTN","SDSCOMP",187,0)
 Q
"RTN","SDSCOMP",188,0)
 ;
"RTN","SDSCOMP",189,0)
MMSG ; Send Mail Message
"RTN","SDSCOMP",190,0)
 N SDCNT,SDTEXT,DIFROM,XMY,XMDUZ,XMTEXT,XMSUB,XMZ,XMDUN
"RTN","SDSCOMP",191,0)
 S SDTEXT(1)="Date Range (Compile)   - From: "_$$FMTE^XLFDT(SDSCTDT,1)_" Thru: "_$$FMTE^XLFDT(SDEDT,1)
"RTN","SDSCOMP",192,0)
 S SDTEXT(2)="Date Range (Late Ins.) - "
"RTN","SDSCOMP",193,0)
 I '$D(SDSCBDT),'$D(SDSCEDT) S SDTEXT(2)=SDTEXT(2)_"None"
"RTN","SDSCOMP",194,0)
 E  S SDTEXT(2)=SDTEXT(2)_"From: "_$$FMTE^XLFDT(SDSCBDT,1)_" Thru: "_$$FMTE^XLFDT(SDSCEDT,1)
"RTN","SDSCOMP",195,0)
 S SDTEXT(3)=" "
"RTN","SDSCOMP",196,0)
 S SDTEXT(4)="Number of encounters Service Connected (Compile)   :     "_$J(SDSCSVC-SDSCINS,7)
"RTN","SDSCOMP",197,0)
 S SDTEXT(5)="Number of encounters Service Connected (Late Ins.) :     "_$J(SDSCINS,7)
"RTN","SDSCOMP",198,0)
 S SDTEXT(6)="   (Number SvcConn with a True Map)       : "_$J(SDSCMAP1,7)
"RTN","SDSCOMP",199,0)
 S SDTEXT(6.5)="   (Number SvcConn with a Partial Map)    : "_$J(SDSCMAP2,7)
"RTN","SDSCOMP",200,0)
 S SDTEXT(7)="   (Number SvcConn that don't Map to VBA) : "_$J(SDSCSVC-SDSCMAP1-SDSCMAP2,7)
"RTN","SDSCOMP",201,0)
 S SDTEXT(8)="Number of encounters Not Service Connected         :     "_$J(SDSCNSC,7)
"RTN","SDSCOMP",202,0)
 S SDTEXT(9)="Number of encounters that are Non-billable         :     "_$J(SDSCNBL,7)
"RTN","SDSCOMP",203,0)
 S SDTEXT(10)="Number of encounters with Non-count Clinics        :     "_$J(SDSCNCT,7)
"RTN","SDSCOMP",204,0)
 S SDTEXT(11)="Number of encounters with no diagnoses             :     "_$J(SDSCNDX,7)
"RTN","SDSCOMP",205,0)
 S SDTEXT(12)="Number of encounters with other errors             :     "_$J(SDSCBAD,7)
"RTN","SDSCOMP",206,0)
 S SDTEXT(13)="Number of encounters already evaluated             :     "_$J(SDSCEXS,7)
"RTN","SDSCOMP",207,0)
 S SDTEXT(14)="---------------------------------------------------------------------------"
"RTN","SDSCOMP",208,0)
 S SDTEXT(15)="Total Encounters Checked:                                "_$J(SDSCTOT,7)
"RTN","SDSCOMP",209,0)
 S SDCNT=15
"RTN","SDSCOMP",210,0)
 D AUDIT^SDSCINS(.SDTEXT,.SDCNT)
"RTN","SDSCOMP",211,0)
 I $G(DUZ)="" S XMZ(.5)=""
"RTN","SDSCOMP",212,0)
 S XMZ(DUZ)="",XMDUZ="ASCD Compile",XMY("G.SDSC NIGHTLY TALLY")=""
"RTN","SDSCOMP",213,0)
 S XMTEXT="SDTEXT(",XMSUB="ASCD Compile Numbers"
"RTN","SDSCOMP",214,0)
 D ^XMD
"RTN","SDSCOMP",215,0)
 Q
"RTN","SDSCOMP",216,0)
 ;
"RTN","SDSCOMP",217,0)
END ; Clear all variables before exiting.
"RTN","SDSCOMP",218,0)
 K SDSCTDT,SDEDT,SDOEX,SDRD,SDRDIEN,SDSCBDT,SDSCEDT,SDIEN,SDERR,SDSC
"RTN","SDSCOMP",219,0)
 K SDVBA,SDVBAI,SDLIST,P,L,SDABRT,X,Y,DTOUT,DUOUT
"RTN","SDSCOMP",220,0)
 Q
"RTN","SDSCPRG")
0^18^B10441801
"RTN","SDSCPRG",1,0)
SDSCPRG ;ALB/JAM/RBS - ASCD Purge encounters that have been deleted ; 1/19/07 12:39pm
"RTN","SDSCPRG",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCPRG",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCPRG",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCPRG",5,0)
 ;
"RTN","SDSCPRG",6,0)
 ;**Program Description**
"RTN","SDSCPRG",7,0)
 ;  This program will check to see if an encounter in the 
"RTN","SDSCPRG",8,0)
 ;  SD SERVICE CONNECTED CHANGES File (#409.48)
"RTN","SDSCPRG",9,0)
 ;  has been deleted from the OUTPATIENT ENCOUNTER file (#409.68) and 
"RTN","SDSCPRG",10,0)
 ;  remove that record from file #409.48.
"RTN","SDSCPRG",11,0)
 Q
"RTN","SDSCPRG",12,0)
EN ;  Entry point
"RTN","SDSCPRG",13,0)
 N SDOE,NOACT,ACT,NCNT,WCNT,DA,DIK,LINE,SDI,SDJ,CNT
"RTN","SDSCPRG",14,0)
 K ^TMP("SDSCPRG",$J),^TMP("SDSCPMSG",$J)
"RTN","SDSCPRG",15,0)
 S DIK="^SDSC(409.48,",(SDOE,NOACT,ACT)=0,(NCNT,WCNT)=1
"RTN","SDSCPRG",16,0)
 F  S SDOE=$O(^SDSC(409.48,SDOE)) Q:'SDOE  D
"RTN","SDSCPRG",17,0)
 . I $$GETOE^SDOE(SDOE)="" D
"RTN","SDSCPRG",18,0)
 .. K ATEXT
"RTN","SDSCPRG",19,0)
 .. D GETS^DIQ(409.48,SDOE,"**","E","ATEXT")
"RTN","SDSCPRG",20,0)
 .. ; Initialize message
"RTN","SDSCPRG",21,0)
 .. S ^TMP("SDSCPRG",$J,"NO",1,0)="Encounters with No Action Taken: "_NOACT
"RTN","SDSCPRG",22,0)
 .. S ^TMP("SDSCPRG",$J,"WITH",1,0)="Encounters with Actions Taken: "_ACT
"RTN","SDSCPRG",23,0)
 .. I $D(ATEXT(409.481))>0 S ACT=ACT+1,^TMP("SDSCPRG",$J,"WITH",1,0)="Encounters with Actions Taken: "_ACT
"RTN","SDSCPRG",24,0)
 .. I $D(ATEXT(409.481))'>0 D  Q
"RTN","SDSCPRG",25,0)
 ... S NOACT=NOACT+1,^TMP("SDSCPRG",$J,"NO",1,0)="Encounters with No Action Taken: "_NOACT
"RTN","SDSCPRG",26,0)
 ... S NCNT=NCNT+1
"RTN","SDSCPRG",27,0)
 ... S LINE="  " F SDI=".07",".11",".05" S LINE=LINE_$G(ATEXT(409.48,SDOE_",",SDI,"E"))_"-"
"RTN","SDSCPRG",28,0)
 ... I $E(LINE,$L(LINE),$L(LINE))="-" S LINE=$E(LINE,1,$L(LINE)-1)
"RTN","SDSCPRG",29,0)
 ... S ^TMP("SDSCPRG",$J,"NO",NCNT,0)=LINE_"-Enc #: "_SDOE
"RTN","SDSCPRG",30,0)
 ... S DA=SDOE D ^DIK
"RTN","SDSCPRG",31,0)
 .. ;  Set information into ^TMP for report
"RTN","SDSCPRG",32,0)
 .. S WCNT=WCNT+1
"RTN","SDSCPRG",33,0)
 .. S LINE="  " F SDI=".07",".11",".05" S LINE=LINE_$G(ATEXT(409.48,SDOE_",",SDI,"E"))_"-"
"RTN","SDSCPRG",34,0)
 .. I $E(LINE,$L(LINE),$L(LINE))="-" S LINE=$E(LINE,1,$L(LINE)-1)
"RTN","SDSCPRG",35,0)
 .. S ^TMP("SDSCPRG",$J,"WITH",WCNT,0)=LINE_"-Enc #: "_SDOE
"RTN","SDSCPRG",36,0)
 .. S SDJ=SDOE F  S SDJ=$O(ATEXT(409.481,SDJ)) Q:SDJ=""  D
"RTN","SDSCPRG",37,0)
 ... S LINE="    ",WCNT=WCNT+1
"RTN","SDSCPRG",38,0)
 ... F SDI=".03",".02",".04" S LINE=LINE_$G(ATEXT(409.481,SDJ,SDI,"E"))_"-"
"RTN","SDSCPRG",39,0)
 ... I $G(ATEXT(409.481,SDJ,".06","E"))="YES" S LINE=LINE_"REVIEW"
"RTN","SDSCPRG",40,0)
 ... I $G(ATEXT(409.481,SDJ,".05","E"))="YES" S LINE=LINE_"SC YES"
"RTN","SDSCPRG",41,0)
 ... I $G(ATEXT(409.481,SDJ,".05","E"))="NO" S LINE=LINE_"SC NO"
"RTN","SDSCPRG",42,0)
 ... S ^TMP("SDSCPRG",$J,"WITH",WCNT,0)=LINE
"RTN","SDSCPRG",43,0)
 .. S DA=SDOE D ^DIK
"RTN","SDSCPRG",44,0)
 I '$D(^TMP("SDSCPRG",$J)) D  G END
"RTN","SDSCPRG",45,0)
 . N DIR,X,Y
"RTN","SDSCPRG",46,0)
 . I $E(IOST,1,2)="C-" S DIR(0)="E" W !!,"No records found to purge." D ^DIR
"RTN","SDSCPRG",47,0)
 I $D(^TMP("SDSCPRG",$J))>0 D
"RTN","SDSCPRG",48,0)
 . S CNT=0,SDJ=0
"RTN","SDSCPRG",49,0)
 . F  S SDJ=$O(^TMP("SDSCPRG",$J,"NO",SDJ)) Q:SDJ=""  D
"RTN","SDSCPRG",50,0)
 .. S CNT=CNT+1,^TMP("SDSCPMSG",$J,CNT,0)=^TMP("SDSCPRG",$J,"NO",SDJ,0)
"RTN","SDSCPRG",51,0)
 . I CNT>0 S CNT=CNT+1,^TMP("SDSCPMSG",$J,CNT,0)=""
"RTN","SDSCPRG",52,0)
 . S SDJ=0 F  S SDJ=$O(^TMP("SDSCPRG",$J,"WITH",SDJ)) Q:SDJ=""  D
"RTN","SDSCPRG",53,0)
 .. S CNT=CNT+1,^TMP("SDSCPMSG",$J,CNT,0)=^TMP("SDSCPRG",$J,"WITH",SDJ,0)
"RTN","SDSCPRG",54,0)
 . S XMZ(DUZ)="",XMDUZ="ASCD Purge Check",XMY("G.SDSC NIGHTLY TALLY")=""
"RTN","SDSCPRG",55,0)
 . S XMTEXT="^TMP(""SDSCPMSG"",$J,",XMSUB="ASCD PURGE REPORT"
"RTN","SDSCPRG",56,0)
 . NEW DIFROM
"RTN","SDSCPRG",57,0)
 . D ^XMD
"RTN","SDSCPRG",58,0)
 . K XMZ,XMTEXT,XMSUB,XMDUZ,XMY
"RTN","SDSCPRG",59,0)
 ;
"RTN","SDSCPRG",60,0)
END K ^TMP("DIERR",$J),^TMP("SDSCPRG",$J),^TMP("SDSCPMSG",$J)
"RTN","SDSCPRG",61,0)
 Q
"RTN","SDSCPRM")
0^19^B856844
"RTN","SDSCPRM",1,0)
SDSCPRM ;ALB/JAM/RBS - ASCD Site Parameter Edit ; 1/19/07 12:43pm
"RTN","SDSCPRM",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCPRM",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCPRM",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCPRM",5,0)
 ;
"RTN","SDSCPRM",6,0)
 ;**Program Description**
"RTN","SDSCPRM",7,0)
 ;   This program allows the supervisor to modify the number of days
"RTN","SDSCPRM",8,0)
 ;   to check for 'checked out' encounters that need to evaluate the 
"RTN","SDSCPRM",9,0)
 ;   Service Connected flag.
"RTN","SDSCPRM",10,0)
 Q
"RTN","SDSCPRM",11,0)
EN ;  Entry point
"RTN","SDSCPRM",12,0)
 N SITE,SDTYPE,DIC,PARAM
"RTN","SDSCPRM",13,0)
 S SITE=+$$SITE^VASITE() Q:'SITE
"RTN","SDSCPRM",14,0)
 S PARAM=$O(^XTV(8989.51,"B","SDSC SITE PARAMETER",0)) Q:'PARAM
"RTN","SDSCPRM",15,0)
 D EDIT^XPAREDIT(SITE_";DIC(4,",PARAM_"^SDSC SITE PARAMETER")
"RTN","SDSCPRM",16,0)
 Q
"RTN","SDSCPRV")
0^20^B25452487
"RTN","SDSCPRV",1,0)
SDSCPRV ;ALB/JAM/RBS - ASCD Provider Total Report ; 1/19/07 12:46pm
"RTN","SDSCPRV",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCPRV",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCPRV",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCPRV",5,0)
 ;
"RTN","SDSCPRV",6,0)
 ;**Program Description**
"RTN","SDSCPRV",7,0)
 ;  This report gives a total of the number of encounters that meet
"RTN","SDSCPRV",8,0)
 ;  the criteria: SC='Yes', auto-verified, and changed
"RTN","SDSCPRV",9,0)
 Q
"RTN","SDSCPRV",10,0)
EN ;  Entry Point
"RTN","SDSCPRV",11,0)
 N DIR,SDSCDVSL,SDSCDVLN,X,Y,ZTQUEUED,POP,ZTRTN,ZTDTH,ZTDESC,ZTSAVE
"RTN","SDSCPRV",12,0)
 ; Get Divisions
"RTN","SDSCPRV",13,0)
 D DIV^SDSCUTL
"RTN","SDSCPRV",14,0)
 D ^DIR
"RTN","SDSCPRV",15,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCPRV",16,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN
"RTN","SDSCPRV",17,0)
 ;  Get start and end date for report
"RTN","SDSCPRV",18,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G EXIT
"RTN","SDSCPRV",19,0)
 K %ZIS,IOP,IOC,ZTIO S %ZIS="MQ" D ^%ZIS G:POP EXIT
"RTN","SDSCPRV",20,0)
 I $D(IO("Q")) D  G EXIT
"RTN","SDSCPRV",21,0)
 . S ZTRTN="BEG^SDSCPRV",ZTDTH=$H,ZTDESC="ASCD Provider Total Report"
"RTN","SDSCPRV",22,0)
 . S ZTSAVE("SDSCBDT")="",ZTSAVE("SDSCEDT")="",ZTSAVE("SDSCDVSL")=""
"RTN","SDSCPRV",23,0)
 . S ZTSAVE("SDSCDVLN")="",ZTSAVE("GROUP")="",ZTSAVE("SDEDT")="",ZTSAVE("SDSCTDT")=""
"RTN","SDSCPRV",24,0)
 . K IO("Q") D ^%ZTLOAD W !,"REQUEST QUEUED"
"RTN","SDSCPRV",25,0)
 ;
"RTN","SDSCPRV",26,0)
BEG ;  Begin report
"RTN","SDSCPRV",27,0)
 N P,L,SDABRT,CT,SDSCDIV,SDSCDNM,THDR,SDI
"RTN","SDSCPRV",28,0)
 S (P,L,SDABRT,CT)=0
"RTN","SDSCPRV",29,0)
 S SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:SDSCDVSL,1:"")
"RTN","SDSCPRV",30,0)
 I SDSCDIV="" S SDSCDNM="ALL" D FND G EXT
"RTN","SDSCPRV",31,0)
 I SDSCDIV'="" D
"RTN","SDSCPRV",32,0)
 . S THDR=""
"RTN","SDSCPRV",33,0)
 . F SDI=1:1:$L(SDSCDVSL,",") S SDSCDIV=$P(SDSCDVSL,",",SDI) Q:SDSCDIV=""  D  Q:$G(SDABRT)=1
"RTN","SDSCPRV",34,0)
 .. S SDSCDNM=$P(^DG(40.8,SDSCDIV,0),"^",1),THDR=THDR_SDSCDNM_",",CT=CT+1 D FND
"RTN","SDSCPRV",35,0)
 G EXT
"RTN","SDSCPRV",36,0)
 ;
"RTN","SDSCPRV",37,0)
FND ;
"RTN","SDSCPRV",38,0)
 N SDPROV,SDOEDT,SDPRNM,SDOE,SDSCDATA,TOTAL,TYP,LEV1,COL,AMT,SCVAL
"RTN","SDSCPRV",39,0)
 K ^TMP("SDSCPRV",$J)
"RTN","SDSCPRV",40,0)
 S SDPROV=0
"RTN","SDSCPRV",41,0)
 F  S SDPROV=$O(^SDSC(409.48,"AF",SDPROV)) Q:'SDPROV  D
"RTN","SDSCPRV",42,0)
 . S SDOEDT=SDSCTDT,SDPRNM=$$UP^XLFSTR($$NAME^XUSER(SDPROV,"F"))
"RTN","SDSCPRV",43,0)
 . F  S SDOEDT=$O(^SDSC(409.48,"AF",SDPROV,SDOEDT)) Q:SDOEDT\1>SDEDT!(SDOEDT="")  D
"RTN","SDSCPRV",44,0)
 .. S SDOE=""
"RTN","SDSCPRV",45,0)
 .. F  S SDOE=$O(^SDSC(409.48,"AF",SDPROV,SDOEDT,SDOE)) Q:'SDOE  D
"RTN","SDSCPRV",46,0)
 ... I SDSCDIV'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCPRV",47,0)
 ... S SDSCDATA=^SDSC(409.48,SDOE,0)
"RTN","SDSCPRV",48,0)
 ... I +$P(SDSCDATA,U,9),+$P(SDSCDATA,U,6) D STORE("VBA") Q
"RTN","SDSCPRV",49,0)
 ... I $P(SDSCDATA,U,5)="C" S SCVAL=$$SCHNG^SDSCUTL(SDOE) D:SCVAL'=""  Q
"RTN","SDSCPRV",50,0)
 ....I '+SCVAL D STORE("NO CHANGE") Q
"RTN","SDSCPRV",51,0)
 ....I $P(SCVAL,"^",2) D STORE("SCNSC") Q
"RTN","SDSCPRV",52,0)
 ....D STORE("NSCSC")
"RTN","SDSCPRV",53,0)
 ... D STORE("NEW")
"RTN","SDSCPRV",54,0)
 ;
"RTN","SDSCPRV",55,0)
PRT ; Print
"RTN","SDSCPRV",56,0)
 K TOTAL
"RTN","SDSCPRV",57,0)
 S SDHDR="Provider Summary Data Report"
"RTN","SDSCPRV",58,0)
 D HDR G EXT:$G(SDABRT)=1
"RTN","SDSCPRV",59,0)
 F TYP="VBA","SCNSC","NSCSC","NO CHANGE","NEW" S TOTAL(TYP)=0
"RTN","SDSCPRV",60,0)
 S LEV1=""
"RTN","SDSCPRV",61,0)
 F  S LEV1=$O(^TMP("SDSCPRV",$J,LEV1)) Q:LEV1=""  D  Q:$G(SDABRT)=1
"RTN","SDSCPRV",62,0)
 . I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCPRV",63,0)
 . W !,LEV1 S L=L+1
"RTN","SDSCPRV",64,0)
 . S COL=20 F TYP="VBA","SCNSC","NSCSC","NO CHANGE","NEW" S COL=COL+10 D
"RTN","SDSCPRV",65,0)
 .. S AMT=+$G(^TMP("SDSCPRV",$J,LEV1,TYP)),SBTOT(LEV1,TYP)=$G(SBTOT(LEV1,TYP))+AMT,TOTAL(TYP)=$G(TOTAL(TYP))+AMT
"RTN","SDSCPRV",66,0)
 .. W ?COL,$J(AMT,7)
"RTN","SDSCPRV",67,0)
 I $G(SDABRT)=1 Q
"RTN","SDSCPRV",68,0)
 S COL=20,L=L+1 W ! I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCPRV",69,0)
 F TYP="VBA","SCNSC","NSCSC","NO CHANGE","NEW" S COL=COL+10 D
"RTN","SDSCPRV",70,0)
 . W ?COL,"-------"
"RTN","SDSCPRV",71,0)
 S COL=20,L=L+1 W !,"TOTAL"
"RTN","SDSCPRV",72,0)
 F TYP="VBA","SCNSC","NSCSC","NO CHANGE","NEW" S COL=COL+10 D
"RTN","SDSCPRV",73,0)
 . W ?COL,$J($G(TOTAL(TYP)),7)
"RTN","SDSCPRV",74,0)
 Q
"RTN","SDSCPRV",75,0)
 ;
"RTN","SDSCPRV",76,0)
EXT ;
"RTN","SDSCPRV",77,0)
 I CT>1,$G(SDABRT)'=1 D PRTT
"RTN","SDSCPRV",78,0)
 D RPTEND^SDSCRPT1
"RTN","SDSCPRV",79,0)
 ;
"RTN","SDSCPRV",80,0)
EXIT ;
"RTN","SDSCPRV",81,0)
 K SDNWPV,SDSCBDT,SDSCEDT,EDIV,GROUP,SDSCTDT,SDEDT,I,Y,^TMP("SDSCPRV",$J)
"RTN","SDSCPRV",82,0)
 K SDHDR,SCLN,DTOUT,DUOUT,SBTOT,TOTAL
"RTN","SDSCPRV",83,0)
 Q
"RTN","SDSCPRV",84,0)
STORE(VAL) ; Total up and Store
"RTN","SDSCPRV",85,0)
 S ^TMP("SDSCPRV",$J,SDPRNM,VAL)=$G(^TMP("SDSCPRV",$J,SDPRNM,VAL))+1
"RTN","SDSCPRV",86,0)
 S ^TMP("SDSCPRV",$J,SDPRNM,VAL,SDOE)=""
"RTN","SDSCPRV",87,0)
 K VAL
"RTN","SDSCPRV",88,0)
 Q
"RTN","SDSCPRV",89,0)
HDR ;  Header
"RTN","SDSCPRV",90,0)
 U IO D STDHDR^SDSCRPT2 Q:$G(SDABRT)=1
"RTN","SDSCPRV",91,0)
 S SDNWPV=1
"RTN","SDSCPRV",92,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCPRV",93,0)
 W !,?5,"For Encounters Dated ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)_"  By Division: "_SDSCDNM
"RTN","SDSCPRV",94,0)
 W !?31," VBA OK",?40,"SC to NSC",?51,"NSC to SC",?62,"SC KEPT",?74,"NEW",!
"RTN","SDSCPRV",95,0)
 F I=1:1:79 W "-"
"RTN","SDSCPRV",96,0)
 Q
"RTN","SDSCPRV",97,0)
 ;
"RTN","SDSCPRV",98,0)
HDR1 ;
"RTN","SDSCPRV",99,0)
 N HHDR,HHDR1,HHDR2,HHDR3,HHDR4,I
"RTN","SDSCPRV",100,0)
 U IO D STDHDR^SDSCRPT2 Q:$G(SDABRT)=1
"RTN","SDSCPRV",101,0)
 I $E(THDR,$L(THDR))="," S THDR=$E(THDR,1,$L(THDR)-1)
"RTN","SDSCPRV",102,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCPRV",103,0)
 S HHDR1="For Encounters Dated "_$$FMTE^XLFDT(SDSCTDT,2)_" THRU "_$$FMTE^XLFDT(SDEDT,2)_" TOTAL for "
"RTN","SDSCPRV",104,0)
 S HHDR2=THDR
"RTN","SDSCPRV",105,0)
 I $L(HHDR1)+$L(HHDR2)>IOM D
"RTN","SDSCPRV",106,0)
 . S HHDR3=$P(HHDR2,",",1),HHDR4=$P(HHDR2,",",2,99)
"RTN","SDSCPRV",107,0)
 . S HHDR=HHDR1_HHDR3
"RTN","SDSCPRV",108,0)
 . I HHDR4'="" S HHDR=HHDR_","
"RTN","SDSCPRV",109,0)
 I $L(HHDR1)+$L(HHDR2)'>IOM D
"RTN","SDSCPRV",110,0)
 . S HHDR=HHDR1_HHDR2
"RTN","SDSCPRV",111,0)
 W !,HHDR
"RTN","SDSCPRV",112,0)
 I $G(HHDR4)'="" W !,?5,HHDR4
"RTN","SDSCPRV",113,0)
 W !?31," VBA OK",?40,"SC to NSC",?51,"NSC to SC",?62,"SC KEPT",?74,"NEW",!
"RTN","SDSCPRV",114,0)
 F I=1:1:79 W "-"
"RTN","SDSCPRV",115,0)
 Q
"RTN","SDSCPRV",116,0)
 ;
"RTN","SDSCPRV",117,0)
PRTT ;
"RTN","SDSCPRV",118,0)
 D HDR1 Q:$G(SDABRT)=1
"RTN","SDSCPRV",119,0)
 F TYP="VBA","SCNSC","NSCSC","NO CHANGE","NEW" S TOTAL(TYP)=0
"RTN","SDSCPRV",120,0)
 S LEV1=""
"RTN","SDSCPRV",121,0)
 F  S LEV1=$O(SBTOT(LEV1)) Q:LEV1=""  D
"RTN","SDSCPRV",122,0)
 . I L+4>IOSL D HDR1 Q:$G(SDABRT)=1
"RTN","SDSCPRV",123,0)
 . W !,LEV1 S L=L+1
"RTN","SDSCPRV",124,0)
 . S COL=20 F TYP="VBA","SCNSC","NSCSC","NO CHANGE","NEW" S COL=COL+10 D
"RTN","SDSCPRV",125,0)
 .. S AMT=SBTOT(LEV1,TYP),TOTAL(TYP)=$G(TOTAL(TYP))+AMT
"RTN","SDSCPRV",126,0)
 .. W ?COL,$J(AMT,7)
"RTN","SDSCPRV",127,0)
 S COL=20,L=L+1 W ! I L+4>IOSL D HDR1 Q:$G(SDABRT)=1
"RTN","SDSCPRV",128,0)
 F TYP="VBA","SCNSC","NSCSC","NO CHANGE","NEW" S COL=COL+10 D
"RTN","SDSCPRV",129,0)
 . W ?COL,"-------"
"RTN","SDSCPRV",130,0)
 S COL=20,L=L+1 W !,"TOTAL"
"RTN","SDSCPRV",131,0)
 F TYP="VBA","SCNSC","NSCSC","NO CHANGE","NEW" S COL=COL+10 D
"RTN","SDSCPRV",132,0)
 . W ?COL,$J($G(TOTAL(TYP)),7)
"RTN","SDSCPRV",133,0)
 Q
"RTN","SDSCRP1")
0^22^B37970877
"RTN","SDSCRP1",1,0)
SDSCRP1 ;ALB/JAM/RBS - Unbilled Amt Report for ASCD ; 3/6/07 10:45am
"RTN","SDSCRP1",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCRP1",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCRP1",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCRP1",5,0)
 ;
"RTN","SDSCRP1",6,0)
 ;**Program Description**
"RTN","SDSCRP1",7,0)
 ;  This report shall be used by billing clerks and the MCCR
"RTN","SDSCRP1",8,0)
 ;  Coordinator or other Billing Supervisor
"RTN","SDSCRP1",9,0)
 Q
"RTN","SDSCRP1",10,0)
START ;SC Unbilled Amount Report
"RTN","SDSCRP1",11,0)
 N SDOPT,SCOPT,SDSCCR,SDSCTAT,SDTYPE,SDSUPER,DIR,DIRUT,Y
"RTN","SDSCRP1",12,0)
 W !,"Service Connected Unbilled Amount Report"
"RTN","SDSCRP1",13,0)
 S DIR(0)="SO^R:Regular;S:Supervisor",DIR("B")="R",SDSUPER=0
"RTN","SDSCRP1",14,0)
 S DIR("A")="Which option do you want to run?"
"RTN","SDSCRP1",15,0)
 D ^DIR I $D(DIRUT) Q
"RTN","SDSCRP1",16,0)
 I Y="S" D  I 'SDSUPER Q
"RTN","SDSCRP1",17,0)
 .;Determine type of user
"RTN","SDSCRP1",18,0)
 .D TYPE^SDSCUTL
"RTN","SDSCRP1",19,0)
 .I $G(SDTYPE)'="S" D EN^DDIOL("You do not have privileges to run this report.") Q
"RTN","SDSCRP1",20,0)
 .S SDSUPER=1
"RTN","SDSCRP1",21,0)
 D SCSEL I $G(SDABRT) K SDABRT Q
"RTN","SDSCRP1",22,0)
 D RPT
"RTN","SDSCRP1",23,0)
 Q
"RTN","SDSCRP1",24,0)
 ;
"RTN","SDSCRP1",25,0)
SCSEL ;Service connection selection
"RTN","SDSCRP1",26,0)
 N DIR,DIRUT,X,Y
"RTN","SDSCRP1",27,0)
 W !!,"Encounter to Report"
"RTN","SDSCRP1",28,0)
 S DIR(0)="SO^S:SC to NSC;N:NSC to SC"
"RTN","SDSCRP1",29,0)
 S DIR("B")="S",DIR("A")="Which option do you want to run?"
"RTN","SDSCRP1",30,0)
 D ^DIR I $D(DIRUT) S SDABRT=1 Q
"RTN","SDSCRP1",31,0)
 S SCOPT=$S(Y="S":2,1:1)
"RTN","SDSCRP1",32,0)
 Q
"RTN","SDSCRP1",33,0)
RPT ;  Build the report
"RTN","SDSCRP1",34,0)
 N DIR,SDSCDVSL,SDSCDVLN,SDRUN,SDSCTDT,ZTIO,ZTSAVE,%ZIS,ZTDESC,ZTRTN
"RTN","SDSCRP1",35,0)
 ; Get Divisions
"RTN","SDSCRP1",36,0)
 D DIV^SDSCUTL
"RTN","SDSCRP1",37,0)
 D ^DIR
"RTN","SDSCRP1",38,0)
 I $G(DTOUT)!($G(DUOUT)) G END
"RTN","SDSCRP1",39,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN
"RTN","SDSCRP1",40,0)
 K X,Y
"RTN","SDSCRP1",41,0)
 ;
"RTN","SDSCRP1",42,0)
 S SDRUN=$$HTE^XLFDT($H,1)
"RTN","SDSCRP1",43,0)
 ;  Get start and end date for report.
"RTN","SDSCRP1",44,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G END
"RTN","SDSCRP1",45,0)
 ;
"RTN","SDSCRP1",46,0)
 W !!,"You will need a 132 column printer for this report!",!
"RTN","SDSCRP1",47,0)
 S ZTDESC="BILLED/UNBILLED AMOUNT REPORT",ZTRTN="BEG^SDSCRP1"
"RTN","SDSCRP1",48,0)
 S %ZIS="QM" D ^%ZIS G END:POP
"RTN","SDSCRP1",49,0)
 I '$D(IO("Q")) K ZTDESC G @ZTRTN
"RTN","SDSCRP1",50,0)
 S ZTIO=ION,ZTSAVE("*")=""
"RTN","SDSCRP1",51,0)
 D ^%ZTLOAD
"RTN","SDSCRP1",52,0)
 G END
"RTN","SDSCRP1",53,0)
 ;
"RTN","SDSCRP1",54,0)
BEG ; Begin report
"RTN","SDSCRP1",55,0)
 N P,L,SDABRT,CT,SDSCDIV,SDSCDNM,AI,THDR,CT,DITOT,DPTOT
"RTN","SDSCRP1",56,0)
 S (P,L,SDABRT,CT)=0
"RTN","SDSCRP1",57,0)
 S SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:SDSCDVSL,1:"")
"RTN","SDSCRP1",58,0)
 I SDSCDIV="" S SDSCDNM="ALL" D PRT G EXT
"RTN","SDSCRP1",59,0)
 I SDSCDIV'="" D
"RTN","SDSCRP1",60,0)
 . S THDR=""
"RTN","SDSCRP1",61,0)
 . F AI=1:1:$L(SDSCDVSL,",") S SDSCDIV=$P(SDSCDVSL,",",AI) Q:SDSCDIV=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRP1",62,0)
 .. S SDSCDNM=$P(^DG(40.8,SDSCDIV,0),"^",1),THDR=THDR_SDSCDNM_",",CT=CT+1
"RTN","SDSCRP1",63,0)
 .. S DITOT(SDSCDNM)=0,DPTOT(SDSCDNM)=0
"RTN","SDSCRP1",64,0)
 .. D PRT
"RTN","SDSCRP1",65,0)
 G EXT
"RTN","SDSCRP1",66,0)
 ;
"RTN","SDSCRP1",67,0)
PRT ; Print
"RTN","SDSCRP1",68,0)
 N SDOEDT,ITOTAL,PTOTAL,SDOE,DFN,VADM,SDIBAMT,SSN,SDINST,SDPROF,SCVAL
"RTN","SDSCRP1",69,0)
 U IO D HDR I $G(SDABRT)=1 Q
"RTN","SDSCRP1",70,0)
 S SDOEDT=SDSCTDT,ITOTAL=0,PTOTAL=0
"RTN","SDSCRP1",71,0)
 F  S SDOEDT=$O(^SDSC(409.48,"C","C",SDOEDT)) Q:SDOEDT=""!(SDOEDT\1>SDEDT)  D  Q:$G(SDABRT)=1
"RTN","SDSCRP1",72,0)
 . S SDOE=""
"RTN","SDSCRP1",73,0)
 . F  S SDOE=$O(^SDSC(409.48,"C","C",SDOEDT,SDOE)) Q:SDOE=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRP1",74,0)
 .. I SDSCDIV'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCRP1",75,0)
 .. ;if encounter was not changed quit
"RTN","SDSCRP1",76,0)
 .. S SCVAL=$$SCHNG^SDSCUTL(SDOE) I '+SCVAL Q
"RTN","SDSCRP1",77,0)
 .. I '$S(($P(SCVAL,U,3))&(SCOPT=1):1,($P(SCVAL,U,2))&(SCOPT=2):1,1:0) Q
"RTN","SDSCRP1",78,0)
 .. ;Call Billing API
"RTN","SDSCRP1",79,0)
 .. S SDIBAMT=$$TPCHG^IBRSUTL(SDOE) I SDIBAMT="" Q
"RTN","SDSCRP1",80,0)
 .. S SDPROF=$P(SDIBAMT,U,2),SDINST=$P(SDIBAMT,U)
"RTN","SDSCRP1",81,0)
 .. I SDPROF=0,SDINST=0 Q
"RTN","SDSCRP1",82,0)
 .. S SDBILL=$$TPBILL^IBRSUTL(SDOE),SDBILL=$TR(SDBILL,"^","/")
"RTN","SDSCRP1",83,0)
 .. S ITOTAL=ITOTAL+SDINST,PTOTAL=PTOTAL+SDPROF
"RTN","SDSCRP1",84,0)
 .. I SDSCDNM'="" S DITOT(SDSCDNM)=$G(DITOT(SDSCDNM))+SDINST,DPTOT(SDSCDNM)=$G(DPTOT(SDSCDNM))+SDPROF
"RTN","SDSCRP1",85,0)
 .. I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCRP1",86,0)
 .. S DFN=$$GET1^DIQ(409.48,SDOE_",",.11,"I") I DFN="" Q
"RTN","SDSCRP1",87,0)
 .. D DEM^VADPT
"RTN","SDSCRP1",88,0)
 .. W !,$E(VADM(1),1,20)
"RTN","SDSCRP1",89,0)
 .. S SSN=$P(VADM(2),U)
"RTN","SDSCRP1",90,0)
 .. S SSN=$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,10)
"RTN","SDSCRP1",91,0)
 .. W ?22,SSN
"RTN","SDSCRP1",92,0)
 .. W ?35,$E($$FMTE^XLFDT(SDOEDT,"5Z"),1,16),?55,SDOE
"RTN","SDSCRP1",93,0)
 .. W !,?5,$E($$GET1^DIQ(409.68,SDOE_",",.04,"E"),1,20)
"RTN","SDSCRP1",94,0)
 .. W ?27,$E($$GET1^DIQ(409.48,SDOE_",",.08,"E"),1,20)
"RTN","SDSCRP1",95,0)
 .. S SDLEDT=$$GET1^DIQ(409.48,SDOE_",",.02,"I")
"RTN","SDSCRP1",96,0)
 .. W ?49,$E($$FMTE^XLFDT(SDLEDT,"5Z"),1,16)
"RTN","SDSCRP1",97,0)
 .. W ?65,$J(SDINST,0,2)
"RTN","SDSCRP1",98,0)
 .. W ?75,$J(SDPROF,0,2)
"RTN","SDSCRP1",99,0)
 .. W ?85,$E(SDBILL,1,$L(SDBILL)-1)
"RTN","SDSCRP1",100,0)
 .. ;
"RTN","SDSCRP1",101,0)
 .. I SDSUPER D PER W ?110,$E(SDNAME,1,$L(SDNAME)-1)
"RTN","SDSCRP1",102,0)
 .. S L=L+2
"RTN","SDSCRP1",103,0)
 I $G(SDABRT)=1 Q
"RTN","SDSCRP1",104,0)
 ;
"RTN","SDSCRP1",105,0)
 I L+3>IOSL D HDR I $G(SDABRT)=1 Q
"RTN","SDSCRP1",106,0)
 W !,$TR($J(" ",IOM)," ","-")
"RTN","SDSCRP1",107,0)
 W !,"TOTAL:",?65,$J(ITOTAL,0,2),?75,$J(PTOTAL,0,2)
"RTN","SDSCRP1",108,0)
 S L=L+2
"RTN","SDSCRP1",109,0)
 Q
"RTN","SDSCRP1",110,0)
 ;
"RTN","SDSCRP1",111,0)
PER ;  Last 2 Persons who edited record
"RTN","SDSCRP1",112,0)
 N SDI,SDLI
"RTN","SDSCRP1",113,0)
 S SDLI="A",SDNAME=""
"RTN","SDSCRP1",114,0)
 F SDI=1:1:2 S SDLI=$O(^SDSC(409.48,SDOE,1,SDLI),-1) Q:'SDLI  D
"RTN","SDSCRP1",115,0)
 . S APER=$$GET1^DIQ(409.481,SDLI_","_SDOE_",",.03,"E")
"RTN","SDSCRP1",116,0)
 . S SDNAME=SDNAME_APER_"/"
"RTN","SDSCRP1",117,0)
 . Q
"RTN","SDSCRP1",118,0)
 Q
"RTN","SDSCRP1",119,0)
 ;
"RTN","SDSCRP1",120,0)
HDR ; Header
"RTN","SDSCRP1",121,0)
 ; Do not ask 'RETURN' before first page on CRT.
"RTN","SDSCRP1",122,0)
 I $E(IOST,1,2)="C-",P N DIR S DIR(0)="E" D ^DIR I 'Y S SDABRT=1 Q
"RTN","SDSCRP1",123,0)
 ; Do not print a form feed before first page on printer. Top of form is set at end of previous report.
"RTN","SDSCRP1",124,0)
 I $E(IOST,1,2)="C-"!P W @IOF
"RTN","SDSCRP1",125,0)
 S P=P+1,L=5
"RTN","SDSCRP1",126,0)
 W "ASCD "_$S(SCOPT=2:"Unbilled (SC to NSC)",1:"Billable (NSC to SC)")_" Amounts Report by Division "_SDSCDNM_" ",?90,"Run Date: ",SDRUN,?124,"Page ",$J(P,3)
"RTN","SDSCRP1",127,0)
 W !,"*** Report reflects ONLY reviewed encounters ***"
"RTN","SDSCRP1",128,0)
 W !!,"Name",?22,"SSN",?35,"Enc Date/Time",?55,"Encounter No."
"RTN","SDSCRP1",129,0)
 W !,?5,"Clinic",?27,"Prim Prov",?49,"Date Edited",?65,"Instit $",?75,"Profess $",?85,"Bill Nos."
"RTN","SDSCRP1",130,0)
 I SDSUPER W ?110,"Editors"
"RTN","SDSCRP1",131,0)
 W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP1",132,0)
 Q
"RTN","SDSCRP1",133,0)
 ;
"RTN","SDSCRP1",134,0)
EXT ;
"RTN","SDSCRP1",135,0)
 I CT>1,$G(SDABRT)'=1 D
"RTN","SDSCRP1",136,0)
 . I $E(IOST,1,2)="C-",P N DIR S DIR(0)="E" D ^DIR I 'Y S SDABRT=1 Q
"RTN","SDSCRP1",137,0)
 . ; Do not print a form feed before first page on printer. Top of form is set at end of previous report.
"RTN","SDSCRP1",138,0)
 . I $E(IOST,1,2)="C-"!P W @IOF
"RTN","SDSCRP1",139,0)
 . I $E(THDR,$L(THDR))="," S THDR=$E(THDR,1,$L(THDR)-1)
"RTN","SDSCRP1",140,0)
 . W $S(SCOPT=2:"Unbilled (SC to NSC)",1:"Billable (NSC to SC)")_" Amounts Report",?90,"Run Date: ",SDRUN,?124,"Page ",$J(P,3)
"RTN","SDSCRP1",141,0)
 . W !,"*** Report reflects ONLY reviewed encounters ***"
"RTN","SDSCRP1",142,0)
 . W !!,"By Division(s) "_THDR
"RTN","SDSCRP1",143,0)
 . W !,?65,"Instit $",?75,"Profess $"
"RTN","SDSCRP1",144,0)
 . W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP1",145,0)
 . S DIV="" F  S DIV=$O(DITOT(DIV)) Q:DIV=""  D
"RTN","SDSCRP1",146,0)
 .. W !,?20,DIV,?65,$J(DITOT(DIV),0,2),?75,$J(DPTOT(DIV),0,2)
"RTN","SDSCRP1",147,0)
 .. S TOTAI=TOTAI+DITOT(DIV),TOTAP=TOTAP+DPTOT(DIV)
"RTN","SDSCRP1",148,0)
 .. Q
"RTN","SDSCRP1",149,0)
 . W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP1",150,0)
 . W !,?20,"TOTAL",?65,$J(TOTAI,0,2),?75,$J(TOTAP,0,2)
"RTN","SDSCRP1",151,0)
 . Q
"RTN","SDSCRP1",152,0)
 D RPTEND^SDSCRPT1
"RTN","SDSCRP1",153,0)
 ;
"RTN","SDSCRP1",154,0)
END ; Exit tag
"RTN","SDSCRP1",155,0)
 K SDBILL,SDLI,SDNAME,APER,SDSUPER,DIV,POP,P,L,SDABRT,DFN,TOTAI,TOTAP
"RTN","SDSCRP1",156,0)
 K SDLEDT,SDRUN,SDEDT,SDOE,SDOEDT,SDSCTDT,SDSCBDT,SDSCEDT
"RTN","SDSCRP1",157,0)
 K DIR,DIRUT,DUOUT,DTOUT,DIROUT,X,Y,SCLN D KVA^VADPT
"RTN","SDSCRP1",158,0)
 Q
"RTN","SDSCRP2")
0^23^B51118024
"RTN","SDSCRP2",1,0)
SDSCRP2 ;ALB/JAM/RBS - Recovered Costs Report for ASCD ; 3/13/07 2:50pm
"RTN","SDSCRP2",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCRP2",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCRP2",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCRP2",5,0)
 ;
"RTN","SDSCRP2",6,0)
 ;**Program Description**
"RTN","SDSCRP2",7,0)
 ;  This program will report on all bills generated and amounts
"RTN","SDSCRP2",8,0)
 ;  received for encounters whose Service Connected was changed
"RTN","SDSCRP2",9,0)
 ;  from 'Yes' to 'No'.
"RTN","SDSCRP2",10,0)
 Q
"RTN","SDSCRP2",11,0)
EN ;  Entry point - find all records
"RTN","SDSCRP2",12,0)
 ;  Get Division
"RTN","SDSCRP2",13,0)
 N SDSCDVSL,SDSCDVLN,SDRUN,ZTDESC,ZTRTN,ZTIO,ZTSAVE,DIR,X,Y
"RTN","SDSCRP2",14,0)
 D DIV^SDSCUTL
"RTN","SDSCRP2",15,0)
 D ^DIR
"RTN","SDSCRP2",16,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCRP2",17,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN K DIR,Y,X,SCLN
"RTN","SDSCRP2",18,0)
 S SDRUN=$$HTE^XLFDT($H,1),ZTDESC="RECOVERED COSTS REPORT",ZTRTN="BEG^SDSCRP2"
"RTN","SDSCRP2",19,0)
 ;  Get start and end date for report.
"RTN","SDSCRP2",20,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G EXIT
"RTN","SDSCRP2",21,0)
 W !!,"You will need a 132 column printer for this report!",!
"RTN","SDSCRP2",22,0)
 K %ZIS S %ZIS="QM" D ^%ZIS G EXIT:POP
"RTN","SDSCRP2",23,0)
 I '$D(IO("Q")) K ZTDESC G @ZTRTN
"RTN","SDSCRP2",24,0)
 S ZTIO=ION,ZTSAVE("*")=""
"RTN","SDSCRP2",25,0)
 D ^%ZTLOAD
"RTN","SDSCRP2",26,0)
 G EXIT
"RTN","SDSCRP2",27,0)
 ;
"RTN","SDSCRP2",28,0)
BEG ;  Begin report
"RTN","SDSCRP2",29,0)
 N P,L,SDABRT,CT,SDSCDIV,SDSCDNM,THDR,SDI,DFTOTB,DFTOTP,DTTOTB,DTTOTP
"RTN","SDSCRP2",30,0)
 S (P,L,SDABRT,CT)=0
"RTN","SDSCRP2",31,0)
 S SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:SDSCDVSL,1:"")
"RTN","SDSCRP2",32,0)
 I SDSCDIV="" S SDSCDNM="ALL" D FND G EXT
"RTN","SDSCRP2",33,0)
 I SDSCDIV'="" D
"RTN","SDSCRP2",34,0)
 . S THDR=""
"RTN","SDSCRP2",35,0)
 . F SDI=1:1:$L(SDSCDVSL,",") S SDSCDIV=$P(SDSCDVSL,",",SDI) Q:SDSCDIV=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRP2",36,0)
 .. S SDSCDNM=$P(^DG(40.8,SDSCDIV,0),"^",1),THDR=THDR_SDSCDNM_",",CT=CT+1 D FND
"RTN","SDSCRP2",37,0)
 G EXT
"RTN","SDSCRP2",38,0)
 ;
"RTN","SDSCRP2",39,0)
FND ;  Find records
"RTN","SDSCRP2",40,0)
 N SDATA,SDOEDT,SDOE,DFN,ENCDT,SDCLM,GTOTB,GTOTP,FTOTB,FTOTP,TTOTB,TTOTP
"RTN","SDSCRP2",41,0)
 N BILN,TCHRG,TPAY,AUTHDT,SDWHO,PYMDT,ENCDT,SDSCD,SDPAT,VADM,SCVAL,SDBTR
"RTN","SDSCRP2",42,0)
 K ^TMP($J,"SDSCBILL")
"RTN","SDSCRP2",43,0)
 S SDOEDT=SDSCTDT
"RTN","SDSCRP2",44,0)
 F  S SDOEDT=$O(^SDSC(409.48,"C","C",SDOEDT)) Q:SDOEDT=""!(SDOEDT\1>SDEDT)  D
"RTN","SDSCRP2",45,0)
 . S SDOE=0
"RTN","SDSCRP2",46,0)
 . F  S SDOE=$O(^SDSC(409.48,"C","C",SDOEDT,SDOE)) Q:'SDOE  D
"RTN","SDSCRP2",47,0)
 .. S SDATA=$G(^SDSC(409.48,SDOE,0)) I SDATA="" Q
"RTN","SDSCRP2",48,0)
 .. I $P(SDATA,U,5)'="C" Q
"RTN","SDSCRP2",49,0)
 .. I SDSCDIV'="" Q:$P(SDATA,U,12)'=SDSCDIV
"RTN","SDSCRP2",50,0)
 .. I '+$$GETOE^SDOE(SDOE) Q
"RTN","SDSCRP2",51,0)
 .. ;find only encounters that were changed by ASCD from SC to NSC
"RTN","SDSCRP2",52,0)
 .. S SCVAL=$$SCHNG^SDSCUTL(SDOE) I '+SCVAL Q
"RTN","SDSCRP2",53,0)
 .. I $P(SCVAL,U,3) Q
"RTN","SDSCRP2",54,0)
 .. D FPCK
"RTN","SDSCRP2",55,0)
 .. D TPCK
"RTN","SDSCRP2",56,0)
PRT ;
"RTN","SDSCRP2",57,0)
 U IO D HDR I $G(SDABRT)=1 Q
"RTN","SDSCRP2",58,0)
 S (GTOTB,GTOTP,FTOTB,FTOTP,TTOTB,TTOTP)=0
"RTN","SDSCRP2",59,0)
 I SDSCDIV'="" S DFTOTB(SDSCDNM)=0,DFTOTP(SDSCDNM)=0,DTTOTB(SDSCDNM)=0,DTTOTP(SDSCDNM)=0
"RTN","SDSCRP2",60,0)
 S SDOE=""
"RTN","SDSCRP2",61,0)
 F  S SDOE=$O(^TMP($J,"SDSCBILL","COPAY",SDOE)) Q:SDOE=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRP2",62,0)
 . S BILN=""
"RTN","SDSCRP2",63,0)
 . F  S BILN=$O(^TMP($J,"SDSCBILL","COPAY",SDOE,BILN)) Q:BILN=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRP2",64,0)
 .. S SDBTR=^TMP($J,"SDSCBILL","COPAY",SDOE,BILN)
"RTN","SDSCRP2",65,0)
 .. S TCHRG=$P(SDBTR,U,5)
"RTN","SDSCRP2",66,0)
 .. S TPAY=$P(SDBTR,U,3)
"RTN","SDSCRP2",67,0)
 .. S AUTHDT=$P(SDBTR,U,2)\1
"RTN","SDSCRP2",68,0)
 .. S SDWHO=$$SVCC(SDOE)
"RTN","SDSCRP2",69,0)
 .. S PYMDT=$P(SDBTR,U,4)
"RTN","SDSCRP2",70,0)
 .. S SDSCD=$G(^SDSC(409.48,SDOE,0))
"RTN","SDSCRP2",71,0)
 .. S ENCDT=$P(SDSCD,U,7)\1
"RTN","SDSCRP2",72,0)
 .. S DFN=$P(SDSCD,U,11)
"RTN","SDSCRP2",73,0)
 .. D DEM^VADPT S SDPAT=$E(VADM(1),1,25)_" ("_$E($P(VADM(2),U),6,9)_")"
"RTN","SDSCRP2",74,0)
 .. S GTOTB=GTOTB+TCHRG,GTOTP=GTOTP+TPAY,FTOTB=FTOTB+TCHRG,FTOTP=FTOTP+TPAY
"RTN","SDSCRP2",75,0)
 .. S DFTOTB(SDSCDNM)=$G(DFTOTB(SDSCDNM))+TCHRG,DFTOTP(SDSCDNM)=$G(DFTOTP(SDSCDNM))+TPAY
"RTN","SDSCRP2",76,0)
 .. I L+3>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCRP2",77,0)
 .. W !,SDOE,?10,SDPAT,?45,$$FMTE^XLFDT(ENCDT,"5Z")
"RTN","SDSCRP2",78,0)
 .. W ?60,$$FMTE^XLFDT($P(SDWHO,"^",2),"5Z")
"RTN","SDSCRP2",79,0)
 .. W ?75,$$FMTE^XLFDT(AUTHDT,"5Z"),?90,$$FMTE^XLFDT(PYMDT,"5Z")
"RTN","SDSCRP2",80,0)
 .. W ?105,$J(TCHRG,10,2),?115,$J(TPAY,10,2)
"RTN","SDSCRP2",81,0)
 .. S L=L+1
"RTN","SDSCRP2",82,0)
 I $G(SDABRT)=1 Q
"RTN","SDSCRP2",83,0)
 ;
"RTN","SDSCRP2",84,0)
 I L+6>IOSL D HDR I $G(SDABRT)=1 Q
"RTN","SDSCRP2",85,0)
 W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP2",86,0)
 W !,"TOTAL FIRST PARTY: ",?105,$J(FTOTB,10,2),?115,$J(FTOTP,10,2),!!
"RTN","SDSCRP2",87,0)
 S L=L+5
"RTN","SDSCRP2",88,0)
 ;  Print Third Party
"RTN","SDSCRP2",89,0)
 S SDOE=""
"RTN","SDSCRP2",90,0)
 F  S SDOE=$O(^TMP($J,"SDSCBILL","THIRD",SDOE)) Q:SDOE=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRP2",91,0)
 . S BILN=""
"RTN","SDSCRP2",92,0)
 . F  S BILN=$O(^TMP($J,"SDSCBILL","THIRD",SDOE,BILN)) Q:BILN=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRP2",93,0)
 .. S SDBTR=^TMP($J,"SDSCBILL","THIRD",SDOE,BILN)
"RTN","SDSCRP2",94,0)
 .. S TPAY=$P(SDBTR,U,3)
"RTN","SDSCRP2",95,0)
 .. S AUTHDT=$P(SDBTR,U,2)\1
"RTN","SDSCRP2",96,0)
 .. S SDWHO=$$SVCC(SDOE)
"RTN","SDSCRP2",97,0)
 .. S PYMDT=$P(SDBTR,U,4)
"RTN","SDSCRP2",98,0)
 .. S SDSCD=$G(^SDSC(409.48,SDOE,0))
"RTN","SDSCRP2",99,0)
 .. S ENCDT=$P(SDSCD,U,7)\1
"RTN","SDSCRP2",100,0)
 .. S DFN=$P(SDSCD,U,11)
"RTN","SDSCRP2",101,0)
 .. D DEM^VADPT S SDPAT=$E(VADM(1),1,25)_" ("_$E($P(VADM(2),U),6,9)_")"
"RTN","SDSCRP2",102,0)
 .. S TCHRG=$P(SDBTR,U)
"RTN","SDSCRP2",103,0)
 .. S GTOTB=GTOTB+TCHRG,GTOTP=GTOTP+TPAY,TTOTB=TTOTB+TCHRG,TTOTP=TTOTP+TPAY
"RTN","SDSCRP2",104,0)
 .. S DTTOTB(SDSCDNM)=$G(DTTOTB(SDSCDNM))+TCHRG,DTTOTP(SDSCDNM)=$G(DTTOTP(SDSCDNM))+TPAY
"RTN","SDSCRP2",105,0)
 .. I L+3>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCRP2",106,0)
 .. W !,SDOE,?10,SDPAT,?45,$$FMTE^XLFDT(ENCDT,"5Z")
"RTN","SDSCRP2",107,0)
 .. W ?60,$$FMTE^XLFDT($P(SDWHO,"^",2),"5Z")
"RTN","SDSCRP2",108,0)
 .. W ?75,$$FMTE^XLFDT(AUTHDT,"5Z"),?90,$$FMTE^XLFDT(PYMDT,"5Z")
"RTN","SDSCRP2",109,0)
 .. W ?105,$J(TCHRG,10,2),?115,$J(TPAY,10,2)
"RTN","SDSCRP2",110,0)
 .. S L=L+1
"RTN","SDSCRP2",111,0)
 I $G(SDABRT)=1 Q
"RTN","SDSCRP2",112,0)
 ;
"RTN","SDSCRP2",113,0)
 I L+6>IOSL D HDR I $G(SDABRT)=1 Q
"RTN","SDSCRP2",114,0)
 W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP2",115,0)
 W !,"TOTAL THIRD PARTY: ",?105,$J(TTOTB,10,2),?115,$J(TTOTP,10,2),!!
"RTN","SDSCRP2",116,0)
 S L=L+5
"RTN","SDSCRP2",117,0)
 I L+6>IOSL D HDR I $G(SDABRT)=1 Q
"RTN","SDSCRP2",118,0)
 W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP2",119,0)
 W !,"TOTAL FOR BOTH: ",?105,$J(GTOTB,10,2),?115,$J(GTOTP,10,2),!!
"RTN","SDSCRP2",120,0)
 S L=L+5
"RTN","SDSCRP2",121,0)
 Q
"RTN","SDSCRP2",122,0)
 ;
"RTN","SDSCRP2",123,0)
FPCK ;Check for First Party Bill
"RTN","SDSCRP2",124,0)
 N SCBLNS,SCARTR
"RTN","SDSCRP2",125,0)
 S SCBLNS=$$FPBILL^IBRSUTL(SDOE) I (SCBLNS="")!($P(SCBLNS,U))="" Q
"RTN","SDSCRP2",126,0)
 S SCARTR=$$GETDATA^PRCAAPI($P(SCBLNS,U)) I SCARTR="" Q
"RTN","SDSCRP2",127,0)
 S $P(SCARTR,U,5)=$P(SCBLNS,U,3)
"RTN","SDSCRP2",128,0)
 S ^TMP($J,"SDSCBILL","COPAY",SDOE,$P(SCBLNS,U))=SCARTR
"RTN","SDSCRP2",129,0)
 Q
"RTN","SDSCRP2",130,0)
 ;
"RTN","SDSCRP2",131,0)
TPCK ;Check for Third Party Bill
"RTN","SDSCRP2",132,0)
 N SCBLNS,SCBID,SCARTR,SCI
"RTN","SDSCRP2",133,0)
 S SCBLNS=$$TPBILL^IBRSUTL(SDOE) I SCBLNS="" Q
"RTN","SDSCRP2",134,0)
 F SCI=1:1 S SCBID=$P(SCBLNS,U,SCI) Q:SCBID=""  D
"RTN","SDSCRP2",135,0)
 . S SCARTR=$$GETDATA^PRCAAPI(SCBID)
"RTN","SDSCRP2",136,0)
 . I SCARTR="" Q
"RTN","SDSCRP2",137,0)
 . S ^TMP($J,"SDSCBILL","THIRD",SDOE,SCBID)=SCARTR
"RTN","SDSCRP2",138,0)
 Q
"RTN","SDSCRP2",139,0)
 ;
"RTN","SDSCRP2",140,0)
HDR ; Header
"RTN","SDSCRP2",141,0)
 ; Do not ask 'RETURN' before first page on CRT.
"RTN","SDSCRP2",142,0)
 I $E(IOST,1,2)="C-",P D  I 'Y S SDABRT=1 Q
"RTN","SDSCRP2",143,0)
 .N DIR S DIR(0)="E" D ^DIR
"RTN","SDSCRP2",144,0)
 ; Do not print a form feed before first page on printer. Top of form is set at end of previous report.
"RTN","SDSCRP2",145,0)
 I $E(IOST,1,2)="C-"!P W @IOF
"RTN","SDSCRP2",146,0)
 S P=P+1,L=4
"RTN","SDSCRP2",147,0)
 W "Recovered Costs Report by Division: "_SDSCDNM_" ",?90,"Run Date: ",SDRUN,?124,"Page ",$J(P,3)
"RTN","SDSCRP2",148,0)
 W !,"Enc #",?10,"Patient",?45,"Enc Date",?60,"Change Date",?75,"Auth Date",?90,"Pay Date",?105,"Prncpl Bill",?117,"Prncpl Pay"
"RTN","SDSCRP2",149,0)
 W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP2",150,0)
 Q
"RTN","SDSCRP2",151,0)
 ;
"RTN","SDSCRP2",152,0)
EXT ;
"RTN","SDSCRP2",153,0)
 N L,TOTALB,TOTALP,DIV
"RTN","SDSCRP2",154,0)
 I CT>1,$G(SDABRT)'=1 D
"RTN","SDSCRP2",155,0)
 . I $E(IOST,1,2)="C-",P N DIR S DIR(0)="E" D ^DIR I 'Y S SDABRT=1 Q
"RTN","SDSCRP2",156,0)
 . ; Do not print a form feed before first page on printer. Top of form is set at end of previous report.
"RTN","SDSCRP2",157,0)
 . I $E(IOST,1,2)="C-"!P W @IOF
"RTN","SDSCRP2",158,0)
 . S P=P+1,L=4,TOTALB=0,TOTALP=0
"RTN","SDSCRP2",159,0)
 . I $E(THDR,$L(THDR))="," S THDR=$E(THDR,1,$L(THDR)-1)
"RTN","SDSCRP2",160,0)
 . W "Recovered Costs Report",?90,"Run Date: ",SDRUN,?124,"Page ",$J(P,3)
"RTN","SDSCRP2",161,0)
 . W !,"By Division(s) "_THDR
"RTN","SDSCRP2",162,0)
 . W !,?105,"Prncpl Bill",?117,"Prncpl Pay"
"RTN","SDSCRP2",163,0)
 . W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP2",164,0)
 . W !,?10,"FIRST PARTY TOTAL"
"RTN","SDSCRP2",165,0)
 . S DIV="" F  S DIV=$O(DFTOTB(DIV)) Q:DIV=""  D
"RTN","SDSCRP2",166,0)
 .. W !,?30,DIV,?105,$J(DFTOTB(DIV),10,2),?115,$J(DFTOTP(DIV),10,2)
"RTN","SDSCRP2",167,0)
 .. S TOTALB=TOTALB+DFTOTB(DIV),TOTALP=TOTALP+DFTOTP(DIV)
"RTN","SDSCRP2",168,0)
 . W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP2",169,0)
 . W !,?10,"THIRD PARTY TOTAL"
"RTN","SDSCRP2",170,0)
 . S DIV="" F  S DIV=$O(DTTOTB(DIV)) Q:DIV=""  D
"RTN","SDSCRP2",171,0)
 .. W !,?30,DIV,?105,$J(DTTOTB(DIV),10,2),?115,$J(DTTOTP(DIV),10,2)
"RTN","SDSCRP2",172,0)
 .. S TOTALB=TOTALB+DTTOTB(DIV),TOTALP=TOTALP+DTTOTP(DIV)
"RTN","SDSCRP2",173,0)
 . W !,$TR($J(" ",IOM)," ","-"),!
"RTN","SDSCRP2",174,0)
 . W !,?10,"TOTAL FOR BOTH FIRST AND THIRD PARTY",?105,$J(TOTALB,10,2),?115,$J(TOTALP,10,2)
"RTN","SDSCRP2",175,0)
 D RPTEND^SDSCRPT1
"RTN","SDSCRP2",176,0)
 ;
"RTN","SDSCRP2",177,0)
EXIT ; Exit tag
"RTN","SDSCRP2",178,0)
 K SDQFL,SDRUN,SDEDT,SDOE,SDOEDT,SDSCTDT,SDSCBDT,SDSCEDT,POP,SDABRT,BILL
"RTN","SDSCRP2",179,0)
 K BILT,FIND,DIR,DIRUT,DUOUT,DTOUT,DIROUT,X,Y,SCLN D KVA^VADPT
"RTN","SDSCRP2",180,0)
 K ^TMP($J,"SDSCBILL")
"RTN","SDSCRP2",181,0)
 Q
"RTN","SDSCRP2",182,0)
 ;
"RTN","SDSCRP2",183,0)
SVCC(SDENC) ; Service Connected Last Edit Change
"RTN","SDSCRP2",184,0)
 ;
"RTN","SDSCRP2",185,0)
 ;  Input:
"RTN","SDSCRP2",186,0)
 ;    SDENC = Encounter IEN
"RTN","SDSCRP2",187,0)
 ;
"RTN","SDSCRP2",188,0)
 ;  Output:
"RTN","SDSCRP2",189,0)
 ;    Function = "" - (null if undefined)
"RTN","SDSCRP2",190,0)
 ;             = EDITED BY_"^"_DATE EDITED  - (WHO^WHEN)
"RTN","SDSCRP2",191,0)
 ;
"RTN","SDSCRP2",192,0)
 N SDJ,SDVAL,SDX
"RTN","SDSCRP2",193,0)
 S SDVAL="",SDJ=999999
"RTN","SDSCRP2",194,0)
 S SDJ=$O(^SDSC(409.48,SDENC,1,SDJ),-1)
"RTN","SDSCRP2",195,0)
 I SDJ D
"RTN","SDSCRP2",196,0)
 . S SDX=$G(^SDSC(409.48,SDENC,1,SDJ,0))
"RTN","SDSCRP2",197,0)
 . I $P(SDX,U,5)=0 D
"RTN","SDSCRP2",198,0)
 . . S SDVAL=$P(SDX,U,3)_"^"_$P(SDX,U,2)
"RTN","SDSCRP2",199,0)
 Q SDVAL
"RTN","SDSCRPT1")
0^24^B49147516
"RTN","SDSCRPT1",1,0)
SDSCRPT1 ;ALB/JAM/RBS - ASCD Reports for Service Connected Automated Monitor ; 4/24/07 4:30pm
"RTN","SDSCRPT1",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCRPT1",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCRPT1",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCRPT1",5,0)
 ;
"RTN","SDSCRPT1",6,0)
 ; Routine should be called at specified tags only.
"RTN","SDSCRPT1",7,0)
 Q
"RTN","SDSCRPT1",8,0)
RDPOV ; 'ROUTINE' tag called by option "SDSC ENC REPORT - Service Connected Encounters Report"
"RTN","SDSCRPT1",9,0)
 N ZTDESC,SDRTN,SDOPT,DIR,DIRUT,X,Y
"RTN","SDSCRPT1",10,0)
 W !,"Service Connected Encounters Report"
"RTN","SDSCRPT1",11,0)
 S DIR(0)="SO^S:Service Connected;N:Non-Service Connected;A:All"
"RTN","SDSCRPT1",12,0)
 S DIR("B")="S",DIR("A")="Which option do you want to run?"
"RTN","SDSCRPT1",13,0)
 D ^DIR I $D(DIRUT) Q
"RTN","SDSCRPT1",14,0)
 S SDOPT=$S(Y="S":1,Y="N":0,1:2)
"RTN","SDSCRPT1",15,0)
 S ZTDESC="COMPARE DISABILITY/POV PER ENCOUNTER",SDRTN="PRINT^SDSCRPT1"
"RTN","SDSCRPT1",16,0)
 G LOAD
"RTN","SDSCRPT1",17,0)
 ;
"RTN","SDSCRPT1",18,0)
NSCCOP ; 'ROUTINE' tag called by option "SDSC FIRST PARTY REPORT - First Party Billable Service Connected Report"
"RTN","SDSCRPT1",19,0)
 N ZTDESC,SDRTN
"RTN","SDSCRPT1",20,0)
 S ZTDESC="SERVICE CONNECTED CO-PAY REPORT",SDRTN="COPPRT^SDSCRPT1"
"RTN","SDSCRPT1",21,0)
 G LOAD
"RTN","SDSCRPT1",22,0)
 ;
"RTN","SDSCRPT1",23,0)
NSCINS ; 'ROUTINE' tag called by option "SDSC THIRD PARTY REPORT - Third Party Billable Service Connected Report"
"RTN","SDSCRPT1",24,0)
 N ZTDESC,SDRTN
"RTN","SDSCRPT1",25,0)
 S ZTDESC="SERVICE CONNECTED BILLING INSURANCE REPORT",SDRTN="INSPRT^SDSCRPT1"
"RTN","SDSCRPT1",26,0)
 G LOAD
"RTN","SDSCRPT1",27,0)
 ;
"RTN","SDSCRPT1",28,0)
SCPRV ;Provider Service Connected Encounters Report
"RTN","SDSCRPT1",29,0)
 N SDDET,DIR,DIRUT,X,Y,ZTDESC,SDRTN
"RTN","SDSCRPT1",30,0)
 W !,"Provider Service Connected Encounters Report"
"RTN","SDSCRPT1",31,0)
 S DIR(0)="SO^D:Detail;S:Summary",DIR("B")="S"
"RTN","SDSCRPT1",32,0)
 S DIR("A")="Which option do you want to run?"
"RTN","SDSCRPT1",33,0)
 D ^DIR I $D(DIRUT) Q
"RTN","SDSCRPT1",34,0)
 S SDDET=$S(Y="D":1,1:0)
"RTN","SDSCRPT1",35,0)
 S ZTDESC="SERV CONN REVIEW REPORT BY PROVIDER",SDRTN="PRVPRT^SDSCRPT1"
"RTN","SDSCRPT1",36,0)
 G LOAD
"RTN","SDSCRPT1",37,0)
 ;
"RTN","SDSCRPT1",38,0)
SCUSR ;User Service Connected Encounters Report
"RTN","SDSCRPT1",39,0)
 N SDDET,DIR,DIRUT,X,Y,ZTDESC,SDRTN
"RTN","SDSCRPT1",40,0)
 W !,"User Service Connected Encounters Report"
"RTN","SDSCRPT1",41,0)
 S DIR(0)="SO^D:Detail;S:Summary",DIR("B")="S"
"RTN","SDSCRPT1",42,0)
 S DIR("A")="Which option do you want to run?"
"RTN","SDSCRPT1",43,0)
 D ^DIR I $D(DIRUT) Q
"RTN","SDSCRPT1",44,0)
 S SDDET=$S(Y="D":1,1:0)
"RTN","SDSCRPT1",45,0)
 S ZTDESC="SERV CONN REVIEW REPORT BY USER",SDRTN="RVWPRT^SDSCRPT1"
"RTN","SDSCRPT1",46,0)
 G LOAD
"RTN","SDSCRPT1",47,0)
 ;
"RTN","SDSCRPT1",48,0)
LOAD ; Standard start tag for all current reports.
"RTN","SDSCRPT1",49,0)
 ; Initialize variables if necessary.
"RTN","SDSCRPT1",50,0)
 N ZTIO,ZTSAVE,ZTRTN,P,L,SDABRT
"RTN","SDSCRPT1",51,0)
 K %ZIS D HOME^%ZIS
"RTN","SDSCRPT1",52,0)
 ; Select division
"RTN","SDSCRPT1",53,0)
 D DIV I SDQFL G END
"RTN","SDSCRPT1",54,0)
 ; Get start and end date for report.
"RTN","SDSCRPT1",55,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G END
"RTN","SDSCRPT1",56,0)
 ; Initialize page counts
"RTN","SDSCRPT1",57,0)
 S (P,L,SDABRT)=0
"RTN","SDSCRPT1",58,0)
 ; Prompt user for DEVICE and handle TaskMan queuing if required.
"RTN","SDSCRPT1",59,0)
 S %ZIS="QM" D ^%ZIS G END:POP
"RTN","SDSCRPT1",60,0)
 I '$D(IO("Q")) U IO K ZTDESC G LOOP
"RTN","SDSCRPT1",61,0)
 S ZTIO=ION,ZTSAVE("*")="",ZTRTN="LOOP^SDSCRPT1" D ^%ZTLOAD
"RTN","SDSCRPT1",62,0)
 G END
"RTN","SDSCRPT1",63,0)
LOOP ; Loop through each division and display the selected report.
"RTN","SDSCRPT1",64,0)
 N CT,SDSCDIV,SDSCDNM,SDI,THDR
"RTN","SDSCRPT1",65,0)
 S CT=0,SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:SDSCDVSL,1:"")
"RTN","SDSCRPT1",66,0)
 I SDSCDIV="" S SDSCDNM="ALL" D @SDRTN
"RTN","SDSCRPT1",67,0)
 I SDSCDIV'="" D
"RTN","SDSCRPT1",68,0)
 . S THDR=""
"RTN","SDSCRPT1",69,0)
 . F SDI=1:1:$L(SDSCDVSL,",") S SDSCDIV=$P(SDSCDVSL,",",SDI) Q:SDSCDIV=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",70,0)
 .. S SDSCDNM=$P(^DG(40.8,SDSCDIV,0),"^",1),THDR=THDR_SDSCDNM_",",CT=CT+1 D @SDRTN
"RTN","SDSCRPT1",71,0)
 D RPTEND
"RTN","SDSCRPT1",72,0)
 G END
"RTN","SDSCRPT1",73,0)
 ;
"RTN","SDSCRPT1",74,0)
PRINT ; Display the encounters previously stored for this date.
"RTN","SDSCRPT1",75,0)
 ; This is a detailed report, set flag
"RTN","SDSCRPT1",76,0)
 N SDDET,SDOEDT,SDOE,SCVAL
"RTN","SDSCRPT1",77,0)
 S SDDET=1
"RTN","SDSCRPT1",78,0)
 U IO D HEADER^SDSCRPT2 I $G(SDABRT)=1 Q
"RTN","SDSCRPT1",79,0)
 ; Loop through all encounters found in that date range.
"RTN","SDSCRPT1",80,0)
 S SDOEDT=SDSCTDT F  S SDOEDT=$O(^SDSC(409.48,"AE",SDOEDT)) Q:SDOEDT\1>SDEDT  Q:SDOEDT=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",81,0)
 . S SDOE=0 F  S SDOE=$O(^SDSC(409.48,"AE",SDOEDT,SDOE)) Q:'SDOE  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",82,0)
 .. I $G(SDSCDIV)'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCRPT1",83,0)
 .. ; Get data
"RTN","SDSCRPT1",84,0)
 .. I '$$STDGET Q
"RTN","SDSCRPT1",85,0)
 .. S SCVAL=$P(^SDSC(409.48,SDOE,0),U,6)
"RTN","SDSCRPT1",86,0)
 .. I $S(SCVAL=SDOPT:1,SDOPT=2:1,1:0) D
"RTN","SDSCRPT1",87,0)
 ... D ENCBDDT^SDSCRPT2
"RTN","SDSCRPT1",88,0)
 Q
"RTN","SDSCRPT1",89,0)
 ;
"RTN","SDSCRPT1",90,0)
INSPRT ;Display all encounters that may be billable to insurance.
"RTN","SDSCRPT1",91,0)
 N SDHDR,SDOEDT,SDOE,SCVAL
"RTN","SDSCRPT1",92,0)
 S SDHDR="OUTPATIENT ENCOUNTERS POTENTIALLY BILLABLE TO INSURANCE"
"RTN","SDSCRPT1",93,0)
 U IO D NBILLHD^SDSCRPT2 I $G(SDABRT)=1 Q
"RTN","SDSCRPT1",94,0)
 ; Loop through all encounters found in that date range.
"RTN","SDSCRPT1",95,0)
 S SDOEDT=SDSCTDT F  S SDOEDT=$O(^SDSC(409.48,"AE",SDOEDT)) Q:SDOEDT\1>SDEDT  Q:SDOEDT=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",96,0)
 . S SDOE=0 F  S SDOE=$O(^SDSC(409.48,"AE",SDOEDT,SDOE)) Q:'SDOE  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",97,0)
 .. I $G(SDSCDIV)'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCRPT1",98,0)
 .. ; Get data
"RTN","SDSCRPT1",99,0)
 .. I '$$STDGET Q
"RTN","SDSCRPT1",100,0)
 .. ; Check for ability of patients insurance to be billed
"RTN","SDSCRPT1",101,0)
 .. I $$NBTP^SDSCUTL() Q
"RTN","SDSCRPT1",102,0)
 .. ; If Not Service Connected (NSC) after reviews, print.
"RTN","SDSCRPT1",103,0)
 .. S SCVAL=$$SCHNG^SDSCUTL(SDOE) I '+SCVAL Q
"RTN","SDSCRPT1",104,0)
 .. I '($P(SCVAL,U,3)) D NBILLBD^SDSCRPT2
"RTN","SDSCRPT1",105,0)
 Q
"RTN","SDSCRPT1",106,0)
 ;
"RTN","SDSCRPT1",107,0)
COPPRT ;Display all encounters that may be billable for co-payment.
"RTN","SDSCRPT1",108,0)
 N SDHDR,SDOEDT,SDOE,SDVAL
"RTN","SDSCRPT1",109,0)
 S SDHDR="OUTPATIENT ENCOUNTERS POTENTIALLY BILLABLE FOR CO-PAYS"
"RTN","SDSCRPT1",110,0)
 U IO D NBILLHD^SDSCRPT2 I $G(SDABRT)=1 Q
"RTN","SDSCRPT1",111,0)
 ; Loop through all encounters found in that date range.
"RTN","SDSCRPT1",112,0)
 S SDOEDT=SDSCTDT F  S SDOEDT=$O(^SDSC(409.48,"AE",SDOEDT)) Q:SDOEDT\1>SDEDT  Q:SDOEDT=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",113,0)
 . S SDOE=0 F  S SDOE=$O(^SDSC(409.48,"AE",SDOEDT,SDOE)) Q:'SDOE  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",114,0)
 .. I $G(SDSCDIV)'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCRPT1",115,0)
 .. ; Get data
"RTN","SDSCRPT1",116,0)
 .. I '$$STDGET Q
"RTN","SDSCRPT1",117,0)
 .. ; Check for patients ability to be billed
"RTN","SDSCRPT1",118,0)
 .. I $$NBFP^SDSCUTL(SDOE) Q
"RTN","SDSCRPT1",119,0)
 .. ; If Not Service Connected (NSC) after reviews, print.
"RTN","SDSCRPT1",120,0)
 .. S SDVAL=$$SCHNG^SDSCUTL(SDOE) I '+SDVAL Q
"RTN","SDSCRPT1",121,0)
 .. I '$P(SDVAL,U,3) D NBILLBD^SDSCRPT2
"RTN","SDSCRPT1",122,0)
 Q
"RTN","SDSCRPT1",123,0)
 ;
"RTN","SDSCRPT1",124,0)
RVWPRT ;Display all User Reviewed encounters
"RTN","SDSCRPT1",125,0)
 ;SDDET=1 - Detailed Report; SDDET=0 - Summary Report
"RTN","SDSCRPT1",126,0)
 N SDHDR,SDLEB,SDNWPV,SDPVCN,SDPCT,SDOEDT,SDOE
"RTN","SDSCRPT1",127,0)
 S SDHDR="OUTPATIENT ENCOUNTERS SERVICE CONNECTED REVIEW BY USER"
"RTN","SDSCRPT1",128,0)
 U IO D RVWHD^SDSCRPT2 I $G(SDABRT)=1 Q
"RTN","SDSCRPT1",129,0)
 ; Loop through all encounters found in that date range.
"RTN","SDSCRPT1",130,0)
 S SDLEB=0 F  S SDLEB=$O(^SDSC(409.48,"AG",SDLEB)) Q:'SDLEB  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",131,0)
 . ; Reset flag to print provider name
"RTN","SDSCRPT1",132,0)
 . S SDNWPV=1,SDPVCN=0,SDPCT=0
"RTN","SDSCRPT1",133,0)
 . S SDOEDT=SDSCTDT F  S SDOEDT=$O(^SDSC(409.48,"AG",SDLEB,SDOEDT)) Q:SDOEDT\1>SDEDT  Q:SDOEDT=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",134,0)
 .. S SDOE=0 F  S SDOE=$O(^SDSC(409.48,"AG",SDLEB,SDOEDT,SDOE)) Q:'SDOE  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",135,0)
 ... I $G(SDSCDIV)'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCRPT1",136,0)
 ... ; Get data
"RTN","SDSCRPT1",137,0)
 ... I '$$STDGET Q
"RTN","SDSCRPT1",138,0)
 ... S SDPCT=SDPCT+1
"RTN","SDSCRPT1",139,0)
 ... D RVWBD^SDSCRPT2
"RTN","SDSCRPT1",140,0)
 . I SDPCT'=0 W ?3,"Total: "_SDPCT,! S L=L+1 Q
"RTN","SDSCRPT1",141,0)
 Q
"RTN","SDSCRPT1",142,0)
 ;
"RTN","SDSCRPT1",143,0)
PRVPRT ;Display all User Reviewed encounters by Provider
"RTN","SDSCRPT1",144,0)
 ;SDDET=1 - Detailed Report; SDDET=0 - Summary Report
"RTN","SDSCRPT1",145,0)
 N SDHDR,SDPROV,SDNWPV,SDPVCN,SDPCT,SDOE,SDOEDT
"RTN","SDSCRPT1",146,0)
 S SDHDR="OUTPATIENT ENCOUNTERS SERVICE CONNECTED REVIEW BY PROVIDER"
"RTN","SDSCRPT1",147,0)
 U IO D PRVHD^SDSCRPT2 I $G(SDABRT)=1 Q
"RTN","SDSCRPT1",148,0)
 ; Loop through all encounters found in that date range.
"RTN","SDSCRPT1",149,0)
 S SDPROV=0 F  S SDPROV=$O(^SDSC(409.48,"AF",SDPROV)) Q:'SDPROV  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",150,0)
 . ; Reset flag to print provider name, without the continued label.
"RTN","SDSCRPT1",151,0)
 . S SDNWPV=1,SDPVCN=0,SDPCT=0
"RTN","SDSCRPT1",152,0)
 . S SDOEDT=SDSCTDT F  S SDOEDT=$O(^SDSC(409.48,"AF",SDPROV,SDOEDT)) Q:SDOEDT\1>SDEDT  Q:SDOEDT=""  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",153,0)
 .. S SDOE=0 F  S SDOE=$O(^SDSC(409.48,"AF",SDPROV,SDOEDT,SDOE)) Q:'SDOE  D  Q:$G(SDABRT)=1
"RTN","SDSCRPT1",154,0)
 ... I $G(SDSCDIV)'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCRPT1",155,0)
 ... ; Get data
"RTN","SDSCRPT1",156,0)
 ... I '$$STDGET Q
"RTN","SDSCRPT1",157,0)
 ... S SDPCT=SDPCT+1
"RTN","SDSCRPT1",158,0)
 ... D PRVBD^SDSCRPT2
"RTN","SDSCRPT1",159,0)
 . I SDPCT'=0 W ?3,"Total: "_SDPCT,! S L=L+1 Q
"RTN","SDSCRPT1",160,0)
 Q
"RTN","SDSCRPT1",161,0)
 ;
"RTN","SDSCRPT1",162,0)
RPTEND ;Report cleSDp.
"RTN","SDSCRPT1",163,0)
 I '$G(SDABRT) W !,"<End of Report>" I $E(IOST,1,2)="C-" D
"RTN","SDSCRPT1",164,0)
 .N DIR S DIR(0)="E" D ^DIR
"RTN","SDSCRPT1",165,0)
 I $G(SDABRT)=1 W !,"<Report Aborted>"
"RTN","SDSCRPT1",166,0)
 D ^%ZISC
"RTN","SDSCRPT1",167,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","SDSCRPT1",168,0)
 Q
"RTN","SDSCRPT1",169,0)
 ;
"RTN","SDSCRPT1",170,0)
STDGET() ; All standard data retrieval from SD, Encounter and Visit.
"RTN","SDSCRPT1",171,0)
 ; Get compiled data
"RTN","SDSCRPT1",172,0)
 S SDDATA=$G(^SDSC(409.48,SDOE,0)) Q:SDDATA="" 0
"RTN","SDSCRPT1",173,0)
 ; Get encounter data
"RTN","SDSCRPT1",174,0)
 S SDOEDAT=$$GETOE^SDOE(SDOE) Q:SDOEDAT="" 0
"RTN","SDSCRPT1",175,0)
 ; Get patient
"RTN","SDSCRPT1",176,0)
 S SDPAT=$P(SDOEDAT,U,2) Q:SDPAT="" 0
"RTN","SDSCRPT1",177,0)
 ; Get clinic info
"RTN","SDSCRPT1",178,0)
 S SDCLIN=$P(SDOEDAT,U,4) Q:SDCLIN="" 0
"RTN","SDSCRPT1",179,0)
 ; Get clinic stop code info
"RTN","SDSCRPT1",180,0)
 S SDCST=$P(SDOEDAT,U,3) Q:SDCST="" 0
"RTN","SDSCRPT1",181,0)
 ; Retrieving the visit number, quit if no visit number found
"RTN","SDSCRPT1",182,0)
 S SDV0=$P(SDOEDAT,U,5) Q:SDV0="" 0
"RTN","SDSCRPT1",183,0)
 Q 1
"RTN","SDSCRPT1",184,0)
 ;
"RTN","SDSCRPT1",185,0)
END ; Clear all variables before exiting.
"RTN","SDSCRPT1",186,0)
 K SDSCTDT,SDEDT,SDFILEOK,X,X1,X2,Y,SDV0,SDDATA,SDPAT,SDCLIN,SDCST
"RTN","SDSCRPT1",187,0)
 K ZTQUEUED,ZTREQ,SDPOV,SDVPOV0,SDPROV,DTOUT,DUOUT,POP,SDSCBDT,SDSCEDT
"RTN","SDSCRPT1",188,0)
 K SDQFL,SDPCTS,SDSCDVSL,SDSCDVLN,SDRTN,SCLN,SDOEDAT
"RTN","SDSCRPT1",189,0)
 Q
"RTN","SDSCRPT1",190,0)
 ;
"RTN","SDSCRPT1",191,0)
DIV ;  Ask Division
"RTN","SDSCRPT1",192,0)
 N DIR,X,Y
"RTN","SDSCRPT1",193,0)
 S SDQFL=0
"RTN","SDSCRPT1",194,0)
 D DIV^SDSCUTL
"RTN","SDSCRPT1",195,0)
 D ^DIR
"RTN","SDSCRPT1",196,0)
 I $G(DTOUT)!($G(DUOUT)) S SDQFL=1 Q
"RTN","SDSCRPT1",197,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN
"RTN","SDSCRPT1",198,0)
 Q
"RTN","SDSCRPT2")
0^25^B34356180
"RTN","SDSCRPT2",1,0)
SDSCRPT2 ;ALB/JAM/RBS - ASCD SB/Reports for Service Connected Automated Monitor ; 3/5/07 12:11pm
"RTN","SDSCRPT2",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCRPT2",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCRPT2",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCRPT2",5,0)
 ;
"RTN","SDSCRPT2",6,0)
 ; Routine should be called at specified tags only.
"RTN","SDSCRPT2",7,0)
 Q
"RTN","SDSCRPT2",8,0)
HEADER ; Display an appropriate header for this report.
"RTN","SDSCRPT2",9,0)
 ; Do standard header setup
"RTN","SDSCRPT2",10,0)
 D STDHDR Q:$G(SDABRT)=1
"RTN","SDSCRPT2",11,0)
 W "O/P ENCOUNTERS THAT ARE "_$S('SDOPT:"NOT ",1:"")_"SERVICE CONNECTED" W:SDOPT=2 " & NON SERVICE CONNECTED" W ?67,"PAGE: ",P
"RTN","SDSCRPT2",12,0)
 W !,?5,"ENCOUNTERS DATED ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)
"RTN","SDSCRPT2",13,0)
 I $G(SDSCDNM)'="" W "  By Division: "_SDSCDNM
"RTN","SDSCRPT2",14,0)
 W !,"DATE",?18,"PATIENT",?50,"ENCOUNTER",?65,"SC VALUE",!,!
"RTN","SDSCRPT2",15,0)
 Q
"RTN","SDSCRPT2",16,0)
 ;
"RTN","SDSCRPT2",17,0)
ENCBDDT ; Detailed Body of the Disability/POV Encounter report
"RTN","SDSCRPT2",18,0)
 I L+3+$S(SDDET:$$CTPOV(),1:0)>IOSL D HEADER Q:$G(SDABRT)=1
"RTN","SDSCRPT2",19,0)
 ; Display the Encounter date
"RTN","SDSCRPT2",20,0)
 W $$FMTE^XLFDT(SDOEDT,"5MZ")
"RTN","SDSCRPT2",21,0)
 N DFN,VADM S DFN=SDPAT D DEM^VADPT
"RTN","SDSCRPT2",22,0)
 ; Display the patient name and last 4 SSN.
"RTN","SDSCRPT2",23,0)
 W ?18,$E(VADM(1),1,25)_" ("_$E($P(VADM(2),U),6,9)_")"
"RTN","SDSCRPT2",24,0)
 D KVA^VADPT
"RTN","SDSCRPT2",25,0)
 ; Display the ENCOUNTER Number
"RTN","SDSCRPT2",26,0)
 W ?50,SDOE,?65,$S(SCVAL:"YES",SCVAL=0:"NO",1:"TBD"),! S L=L+1
"RTN","SDSCRPT2",27,0)
 ; If summary report, quit.
"RTN","SDSCRPT2",28,0)
 Q:SDDET=0
"RTN","SDSCRPT2",29,0)
 ; Display all ICD CODES and DIAGNOSES for the specified encounter.
"RTN","SDSCRPT2",30,0)
 I L+2+$$CTPOV()>IOSL D HEADER Q:$G(SDABRT)=1
"RTN","SDSCRPT2",31,0)
 D POV2S
"RTN","SDSCRPT2",32,0)
 I L+2+$$CTDIS()>IOSL D HEADER Q:$G(SDABRT)=1
"RTN","SDSCRPT2",33,0)
 D DIS2S
"RTN","SDSCRPT2",34,0)
 I L+4>IOSL D HEADER Q:$G(SDABRT)=1
"RTN","SDSCRPT2",35,0)
 W !,! S L=L+2
"RTN","SDSCRPT2",36,0)
 Q
"RTN","SDSCRPT2",37,0)
 ;
"RTN","SDSCRPT2",38,0)
NBILLHD ; Display an appropriate header for this report.
"RTN","SDSCRPT2",39,0)
 ; Do standard header setup
"RTN","SDSCRPT2",40,0)
 D STDHDR Q:$G(SDABRT)=1
"RTN","SDSCRPT2",41,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCRPT2",42,0)
 W !,?5,"FOR ENCOUNTERS DATED ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)
"RTN","SDSCRPT2",43,0)
 I $G(SDSCDNM)'="" W "  By Division: "_SDSCDNM
"RTN","SDSCRPT2",44,0)
 W !,"DATE",?18,"PATIENT",?50,"ENCOUNTER",!,!
"RTN","SDSCRPT2",45,0)
 Q
"RTN","SDSCRPT2",46,0)
 ;
"RTN","SDSCRPT2",47,0)
NBILLBD ; Body of the Non Service Connected Billable Encounter reports
"RTN","SDSCRPT2",48,0)
 I L+2>IOSL D NBILLHD Q:$G(SDABRT)=1
"RTN","SDSCRPT2",49,0)
 ; Display the Encounter date
"RTN","SDSCRPT2",50,0)
 W $$FMTE^XLFDT(SDOEDT,"5MZ")
"RTN","SDSCRPT2",51,0)
 ; Display the patient name and last 4 SSN.
"RTN","SDSCRPT2",52,0)
 N DFN,VADM S DFN=SDPAT D DEM^VADPT
"RTN","SDSCRPT2",53,0)
 W ?18,$E(VADM(1),1,25)_" ("_$E($P(VADM(2),U),6,9)_")"
"RTN","SDSCRPT2",54,0)
 ; Display the ENCOUNTER Number
"RTN","SDSCRPT2",55,0)
 W ?50,SDOE,! S L=L+1
"RTN","SDSCRPT2",56,0)
 I L+5>IOSL D NBILLHD Q:$G(SDABRT)=1
"RTN","SDSCRPT2",57,0)
 Q
"RTN","SDSCRPT2",58,0)
 ;
"RTN","SDSCRPT2",59,0)
PRVHD ; Display the header for the Provider Service Connected Review Report.
"RTN","SDSCRPT2",60,0)
 ; Do standard header setup
"RTN","SDSCRPT2",61,0)
 D STDHDR Q:$G(SDABRT)=1
"RTN","SDSCRPT2",62,0)
 S SDNWPV=1
"RTN","SDSCRPT2",63,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCRPT2",64,0)
 W !,?5,"FOR ENCOUNTERS DATED ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)
"RTN","SDSCRPT2",65,0)
 I $G(SDSCDNM)'="" W "  By Division: "_SDSCDNM
"RTN","SDSCRPT2",66,0)
 W !,?5,"ENCOUNTER DATE",?23,"PATIENT NAME",?56,"ENC #",?65,"VBA SC",?73,"USER SC",!,!
"RTN","SDSCRPT2",67,0)
 Q
"RTN","SDSCRPT2",68,0)
 ;
"RTN","SDSCRPT2",69,0)
PRVBD ; Body of the Provider Service Connected Review Report
"RTN","SDSCRPT2",70,0)
 ; This routine will display the Activity during a review
"RTN","SDSCRPT2",71,0)
 ; Start a new page for every provider.
"RTN","SDSCRPT2",72,0)
 N SDSCCVB,SDSCCUB,DFN,VADM
"RTN","SDSCRPT2",73,0)
 I L+3+$S(SDDET:$$CTPOV(),1:0)>IOSL D PRVHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",74,0)
 ; Display the Provider, reset new provider print flag
"RTN","SDSCRPT2",75,0)
 I SDNWPV=1 D
"RTN","SDSCRPT2",76,0)
 . W $$UP^XLFSTR($$NAME^XUSER(SDPROV,"F"))
"RTN","SDSCRPT2",77,0)
 . S SDNWPV=0
"RTN","SDSCRPT2",78,0)
 . I SDPVCN=1 W " (cont'd)" S SDPVCN=0
"RTN","SDSCRPT2",79,0)
 . W ! S L=L+1
"RTN","SDSCRPT2",80,0)
 . Q
"RTN","SDSCRPT2",81,0)
 ; Display the Encounter date
"RTN","SDSCRPT2",82,0)
 W ?5,$$FMTE^XLFDT(SDOEDT,"5MZ")
"RTN","SDSCRPT2",83,0)
 ; Display the Patient Name
"RTN","SDSCRPT2",84,0)
 S DFN=SDPAT D DEM^VADPT
"RTN","SDSCRPT2",85,0)
 W ?23,$E(VADM(1),1,25)_" ("_$E($P(VADM(2),U),6,9)_")"
"RTN","SDSCRPT2",86,0)
 D KVA^VADPT
"RTN","SDSCRPT2",87,0)
 ; Display the ENCOUNTER Number,VBA/ICD Connected,VBA by User.  Increment Line Count.
"RTN","SDSCRPT2",88,0)
 S SDSCCVB=$$GET1^DIQ(409.48,SDOE,.09,"E")
"RTN","SDSCRPT2",89,0)
 S SDSCCUB=$$GET1^DIQ(409.48,SDOE,.06,"E")
"RTN","SDSCRPT2",90,0)
 I SDSCCUB="" S SDSCCUB="TBD"
"RTN","SDSCRPT2",91,0)
 W ?56,SDOE,?65,SDSCCVB,?73,SDSCCUB
"RTN","SDSCRPT2",92,0)
 I 'SDDET W ! S L=L+1
"RTN","SDSCRPT2",93,0)
 I SDDET D  Q:$G(SDABRT)=1
"RTN","SDSCRPT2",94,0)
 . ; check for enough room for return prompt and data.
"RTN","SDSCRPT2",95,0)
 . I L+2+$$CTPOV()>IOSL D RVWHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",96,0)
 . D POV2S
"RTN","SDSCRPT2",97,0)
 . I L+2+$$CTDIS()>IOSL D RVWHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",98,0)
 . D DIS2S
"RTN","SDSCRPT2",99,0)
 . I L+4>IOSL D RVWHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",100,0)
 . W !,! S L=L+2
"RTN","SDSCRPT2",101,0)
 . Q
"RTN","SDSCRPT2",102,0)
 I L+3>IOSL D PRVHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",103,0)
 Q
"RTN","SDSCRPT2",104,0)
 ;
"RTN","SDSCRPT2",105,0)
RVWHD ; Display the header for the User Service Connected Review Report.
"RTN","SDSCRPT2",106,0)
 ; Do standard header setup
"RTN","SDSCRPT2",107,0)
 D STDHDR Q:$G(SDABRT)=1
"RTN","SDSCRPT2",108,0)
 S SDNWPV=1
"RTN","SDSCRPT2",109,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCRPT2",110,0)
 W !,?5,"FOR ENCOUNTERS DATED ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)
"RTN","SDSCRPT2",111,0)
 I $G(SDSCDNM)'="" W "  By Division: "_SDSCDNM
"RTN","SDSCRPT2",112,0)
 W !,?5,"ENCOUNTER DATE",?23,"ENC #",?33,"VBA SC",?40,"USER SC",?50,"STATUS",?60,"DATE LAST EDITED",!,!
"RTN","SDSCRPT2",113,0)
 Q
"RTN","SDSCRPT2",114,0)
 ;
"RTN","SDSCRPT2",115,0)
RVWBD ; Body of the User Service Connected Review Report
"RTN","SDSCRPT2",116,0)
 ; This routine will display the Activity during a review
"RTN","SDSCRPT2",117,0)
 ; Start a new page for every user.
"RTN","SDSCRPT2",118,0)
 N SDSCCVB,SDSCCUB
"RTN","SDSCRPT2",119,0)
 I L+3+$S(SDDET:$$CTPOV(),1:0)>IOSL D RVWHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",120,0)
 ; Display the Encounter date
"RTN","SDSCRPT2",121,0)
 I SDNWPV=1 D
"RTN","SDSCRPT2",122,0)
 . W $$UP^XLFSTR($$NAME^XUSER(SDLEB,"F"))
"RTN","SDSCRPT2",123,0)
 . S SDNWPV=0
"RTN","SDSCRPT2",124,0)
 . I SDPVCN=1 W " (cont'd)" S SDPVCN=0
"RTN","SDSCRPT2",125,0)
 . W ! S L=L+1
"RTN","SDSCRPT2",126,0)
 ; Display the Encounter date
"RTN","SDSCRPT2",127,0)
 W ?5,$$FMTE^XLFDT(SDOEDT,"5MZ")
"RTN","SDSCRPT2",128,0)
 ; Display the ENCOUNTER Number,VBA/ICD Connected,VBA by User, and Status.  Increment Line Count.
"RTN","SDSCRPT2",129,0)
 S SDSCCVB=$$GET1^DIQ(409.48,SDOE,.09,"E")
"RTN","SDSCRPT2",130,0)
 S SDSCCUB=$$GET1^DIQ(409.48,SDOE,.06,"E")
"RTN","SDSCRPT2",131,0)
 I SDSCCUB="" S SDSCCUB="TBD"
"RTN","SDSCRPT2",132,0)
 W ?23,SDOE,?33,SDSCCVB,?40,SDSCCUB
"RTN","SDSCRPT2",133,0)
 W ?48,$$GET1^DIQ(409.48,SDOE,.05,"E")
"RTN","SDSCRPT2",134,0)
 W ?60,$$FMTE^XLFDT($$GET1^DIQ(409.48,SDOE,.02,"E"),"5MZ")
"RTN","SDSCRPT2",135,0)
 I 'SDDET W ! S L=L+1
"RTN","SDSCRPT2",136,0)
 I SDDET D  Q:$G(SDABRT)=1
"RTN","SDSCRPT2",137,0)
 . ; check for enough room for return prompt and data.
"RTN","SDSCRPT2",138,0)
 . I L+2+$$CTPOV()>IOSL D RVWHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",139,0)
 . D POV2S
"RTN","SDSCRPT2",140,0)
 . I L+2+$$CTDIS()>IOSL D RVWHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",141,0)
 . D DIS2S
"RTN","SDSCRPT2",142,0)
 . I L+4>IOSL D RVWHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",143,0)
 . W !,! S L=L+2
"RTN","SDSCRPT2",144,0)
 I L+3>IOSL D RVWHD Q:$G(SDABRT)=1  S SDPVCN=1
"RTN","SDSCRPT2",145,0)
 Q
"RTN","SDSCRPT2",146,0)
 ;
"RTN","SDSCRPT2",147,0)
CTPOV() ; Count all POV entries for the specified visit.
"RTN","SDSCRPT2",148,0)
 N SDCT,SDVPOV0
"RTN","SDSCRPT2",149,0)
 S SDCT=2
"RTN","SDSCRPT2",150,0)
 S SDVPOV0=0 F  S SDVPOV0=$O(^AUPNVPOV("AD",SDV0,SDVPOV0)) Q:'SDVPOV0  S SDCT=SDCT+1
"RTN","SDSCRPT2",151,0)
 Q SDCT
"RTN","SDSCRPT2",152,0)
 ;
"RTN","SDSCRPT2",153,0)
CTDIS() ; Count all rated disabilities for this patient.
"RTN","SDSCRPT2",154,0)
 N I,I3,SCRD
"RTN","SDSCRPT2",155,0)
 S I3=2,I=0
"RTN","SDSCRPT2",156,0)
 D RDIS^DGRPDB(SDPAT,.SCRD)
"RTN","SDSCRPT2",157,0)
 F  S I=$O(SCRD(I)) Q:'I  S I3=I3+1
"RTN","SDSCRPT2",158,0)
 Q I3
"RTN","SDSCRPT2",159,0)
 ;
"RTN","SDSCRPT2",160,0)
POV2S ; Loop through and display all POV entries for the specified visit.
"RTN","SDSCRPT2",161,0)
 N SDICD,SDVPOV0
"RTN","SDSCRPT2",162,0)
 W !!,?10,"POVs/ICDs:" S L=L+2
"RTN","SDSCRPT2",163,0)
 S SDVPOV0=0 F  S SDVPOV0=$O(^AUPNVPOV("AD",SDV0,SDVPOV0)) Q:'SDVPOV0  D
"RTN","SDSCRPT2",164,0)
 . S SDPOV=$P($G(^AUPNVPOV(SDVPOV0,0)),U),SDICD=$$ICDDX^ICDCODE(SDPOV)
"RTN","SDSCRPT2",165,0)
 . W !?15,$P(SDICD,U,2),?23,$P(SDICD,U,4) S L=L+1
"RTN","SDSCRPT2",166,0)
 . Q
"RTN","SDSCRPT2",167,0)
 Q
"RTN","SDSCRPT2",168,0)
 ;
"RTN","SDSCRPT2",169,0)
DIS2S ; Loop through and display all rated disabilities for this patient.
"RTN","SDSCRPT2",170,0)
 W !!,?10,"Rated Disabilities:" S L=L+2
"RTN","SDSCRPT2",171,0)
 N I,I1,I2,I3,SCRD
"RTN","SDSCRPT2",172,0)
 D RDIS^DGRPDB(SDPAT,.SCRD)
"RTN","SDSCRPT2",173,0)
 S I3=0,I=0 F  S I=$O(SCRD(I)) Q:'I  D
"RTN","SDSCRPT2",174,0)
 . S I1=SCRD(I)
"RTN","SDSCRPT2",175,0)
 . S I2=$S($D(^DIC(31,+I1,0)):$P(^(0),U,3)_"    "_$P(^(0),"^",1)_" ("_+$P(I1,"^",2)_"%-"_$S($P(I1,"^",3):"SC",$P(I1,"^",3)']"":"not specified",1:"NSC")_")",1:""),I3=I3+1
"RTN","SDSCRPT2",176,0)
 . W !,?15,I2 S L=L+1
"RTN","SDSCRPT2",177,0)
 . Q
"RTN","SDSCRPT2",178,0)
 Q
"RTN","SDSCRPT2",179,0)
 ;
"RTN","SDSCRPT2",180,0)
STDHDR ; tag for all of the standard report header calls
"RTN","SDSCRPT2",181,0)
 ; Do not ask 'RETURN' before first page on CRT.
"RTN","SDSCRPT2",182,0)
 I $E(IOST,1,2)="C-",P N DIR,Y S DIR(0)="E" D ^DIR I 'Y S SDABRT=1 Q
"RTN","SDSCRPT2",183,0)
 ; Do not print a form feed before first page on printer. Top of form is set at end of previous report.
"RTN","SDSCRPT2",184,0)
 I $E(IOST,1,2)="C-"!P W @IOF
"RTN","SDSCRPT2",185,0)
 S P=P+1,L=5
"RTN","SDSCRPT2",186,0)
 Q
"RTN","SDSCSSD")
0^26^B17495006
"RTN","SDSCSSD",1,0)
SDSCSSD ;ALB/JAM/RBS - ASCD Service Summary Data Report ; 3/13/07 12:30pm
"RTN","SDSCSSD",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCSSD",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCSSD",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCSSD",5,0)
 ;
"RTN","SDSCSSD",6,0)
 ;**Program Description**
"RTN","SDSCSSD",7,0)
 ;  This report is to be used by managers only
"RTN","SDSCSSD",8,0)
 Q
"RTN","SDSCSSD",9,0)
EN ;  Entry Point
"RTN","SDSCSSD",10,0)
 N DIR,X,Y,SDSCRVNM,SDSCSRV,ZTQUEUED,POP,ZTRTN,ZTDTH,ZTDESC,ZTSAVE
"RTN","SDSCSSD",11,0)
 K ^TMP("SDSCSRV",$J)
"RTN","SDSCSSD",12,0)
 ;  Get start and end date for report
"RTN","SDSCSSD",13,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G EXIT
"RTN","SDSCSSD",14,0)
 ; Get Service
"RTN","SDSCSSD",15,0)
 D SRV^SDSCUTL S DIR("B")="ALL"
"RTN","SDSCSSD",16,0)
 D ^DIR
"RTN","SDSCSSD",17,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCSSD",18,0)
 S SDSCRVNM=Y(0)
"RTN","SDSCSSD",19,0)
 S SDSCSRV=$S(Y'="A":Y,1:"")
"RTN","SDSCSSD",20,0)
 K %ZIS,IOP,IOC,ZTIO S %ZIS="MQ" D ^%ZIS G:POP EXIT
"RTN","SDSCSSD",21,0)
 I $D(IO("Q")) D  G EXIT
"RTN","SDSCSSD",22,0)
 . S ZTRTN="FND^SDSCSSD",ZTDTH=$H,ZTDESC="ASCD Service Summary Report"
"RTN","SDSCSSD",23,0)
 . S ZTSAVE("SDSCBDT")="",ZTSAVE("SDSCEDT")="",ZTSAVE("SDSCRVNM")=""
"RTN","SDSCSSD",24,0)
 . S ZTSAVE("SDSCSRV")="",ZTSAVE("SDEDT")="",ZTSAVE("SDSCTDT")=""
"RTN","SDSCSSD",25,0)
 . K IO("Q") D ^%ZTLOAD W !,"REQUEST QUEUED"
"RTN","SDSCSSD",26,0)
 ;
"RTN","SDSCSSD",27,0)
FND ;
"RTN","SDSCSSD",28,0)
 N SDOEDT,TOTAL,SDOE,CLIN,CLNM,SERV,SDSCDATA,SI,SDABRT,VAL,AMT,COL,P,L
"RTN","SDSCSSD",29,0)
 N SBTOT,TYP,SCVAL
"RTN","SDSCSSD",30,0)
 S SDOEDT=SDSCTDT,TOTAL=0
"RTN","SDSCSSD",31,0)
 F  S SDOEDT=$O(^SDSC(409.48,"AE",SDOEDT)) Q:SDOEDT\1>SDEDT!(SDOEDT="")  D
"RTN","SDSCSSD",32,0)
 . S SDOE=""
"RTN","SDSCSSD",33,0)
 . F  S SDOE=$O(^SDSC(409.48,"AE",SDOEDT,SDOE)) Q:SDOE=""  D
"RTN","SDSCSSD",34,0)
 .. S CLIN=$$GET1^DIQ(409.68,SDOE_",",.04,"I") I CLIN="" Q
"RTN","SDSCSSD",35,0)
 .. S CLNM=$$GET1^DIQ(409.68,SDOE_",",.04,"E")
"RTN","SDSCSSD",36,0)
 .. I SDSCSRV'="" Q:$$GET1^DIQ(44,CLIN_",",9,"I")'=SDSCSRV
"RTN","SDSCSSD",37,0)
 .. S SERV=$$GET1^DIQ(44,CLIN_",",9,"E")
"RTN","SDSCSSD",38,0)
 .. S SDSCDATA=$G(^SDSC(409.48,SDOE,0)) I SDSCDATA="" Q
"RTN","SDSCSSD",39,0)
 .. I +$P(SDSCDATA,U,9),+$P(SDSCDATA,U,6) D STORE("VBA") Q
"RTN","SDSCSSD",40,0)
 .. I $P(SDSCDATA,U,5)="R" D STORE("REV") Q
"RTN","SDSCSSD",41,0)
 .. I $P(SDSCDATA,U,5)="C" S SCVAL=$$SCHNG^SDSCUTL(SDOE) D:SCVAL'=""  Q
"RTN","SDSCSSD",42,0)
 ...I '+SCVAL D STORE("NO CHANGE") Q
"RTN","SDSCSSD",43,0)
 ...I $P(SCVAL,"^",2) D STORE("SCNSC") Q
"RTN","SDSCSSD",44,0)
 ...D STORE("NSCSC")
"RTN","SDSCSSD",45,0)
 .. D STORE("NEW")
"RTN","SDSCSSD",46,0)
 ;
"RTN","SDSCSSD",47,0)
PRT ;  Print report
"RTN","SDSCSSD",48,0)
 S (P,L,SDABRT)=0 D HDR G EXT:$G(SDABRT)=1
"RTN","SDSCSSD",49,0)
 F VAL="VBA","REV","NO CHANGE","SCNSC","NSCSC","NEW" S TOTAL(VAL)=0
"RTN","SDSCSSD",50,0)
 S SERV="" F  S SERV=$O(^TMP("SDSCSRV",$J,SERV)) Q:SERV=""  D  Q:$G(SDABRT)=1
"RTN","SDSCSSD",51,0)
 . I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCSSD",52,0)
 . W !,SERV S L=L+1 F VAL="VBA","REV","NO CHANGE","SCNSC","NSCSC","NEW" S SBTOT(VAL)=0
"RTN","SDSCSSD",53,0)
 . S CLNM="" F  S CLNM=$O(^TMP("SDSCSRV",$J,SERV,CLNM)) Q:CLNM=""  D  Q:$G(SDABRT)=1
"RTN","SDSCSSD",54,0)
 .. I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCSSD",55,0)
 .. W !,?1,$E(CLNM,1,20) S COL=21,L=L+1
"RTN","SDSCSSD",56,0)
 .. F VAL="VBA","REV","SCNSC","NSCSC","NO CHANGE","NEW" D
"RTN","SDSCSSD",57,0)
 ... S AMT=+$G(^TMP("SDSCSRV",$J,SERV,CLNM,VAL)) W ?COL,$J(AMT,7) S COL=COL+10
"RTN","SDSCSSD",58,0)
 ... S SBTOT(VAL)=SBTOT(VAL)+AMT,TOTAL(VAL)=$G(TOTAL(VAL))+AMT
"RTN","SDSCSSD",59,0)
 . Q:$G(SDABRT)=1
"RTN","SDSCSSD",60,0)
 . I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCSSD",61,0)
 . W ! S COL=21,L=L+1 F VAL="VBA","REV","SCNSC","NSCSC","NO CHANGE","NEW" D
"RTN","SDSCSSD",62,0)
 .. W ?COL,"---------" S COL=COL+10
"RTN","SDSCSSD",63,0)
 . I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCSSD",64,0)
 . W !,"Subtotal "_SERV
"RTN","SDSCSSD",65,0)
 . S COL=21,L=L+1 F VAL="VBA","REV","SCNSC","NSCSC","NO CHANGE","NEW" D
"RTN","SDSCSSD",66,0)
 .. W ?COL,$J(SBTOT(VAL),7) S COL=COL+10
"RTN","SDSCSSD",67,0)
 I $G(SDABRT)=1 G EXT
"RTN","SDSCSSD",68,0)
 I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCSSD",69,0)
 S COL=21,L=L+1 W !
"RTN","SDSCSSD",70,0)
 F TYP="VBA","REV","SCNSC","NSCSC","NO CHANGE","NEW" D
"RTN","SDSCSSD",71,0)
 . W ?COL,"---------"  S COL=COL+10
"RTN","SDSCSSD",72,0)
 S COL=21,L=L+1 W !,"TOTAL"
"RTN","SDSCSSD",73,0)
 F TYP="VBA","REV","SCNSC","NSCSC","NO CHANGE","NEW" D
"RTN","SDSCSSD",74,0)
 . W ?COL,$J($G(TOTAL(TYP)),7) S COL=COL+10
"RTN","SDSCSSD",75,0)
EXT ;
"RTN","SDSCSSD",76,0)
 D RPTEND^SDSCRPT1
"RTN","SDSCSSD",77,0)
 ;
"RTN","SDSCSSD",78,0)
EXIT ;
"RTN","SDSCSSD",79,0)
 K SDSCTDT,SDEDT,DIR,Y,SDSCRVNM,SDSCBDT,SDSCEDT,SDSCMSG,SDEFLG
"RTN","SDSCSSD",80,0)
 K SDFLG,SDOEDAT,SDOSC,SDPAT,SDSCPKG,SDSCSRC,SDV0,I,DIV,SDABRT
"RTN","SDSCSSD",81,0)
 K SDSCSRV,SDSCDNM,SUBTOT,X,DIRUT,DTOUT,DUOUT ;^TMP("SDSCSRV",$J)
"RTN","SDSCSSD",82,0)
 Q
"RTN","SDSCSSD",83,0)
STORE(VAL) ; Total up and Store
"RTN","SDSCSSD",84,0)
 S ^TMP("SDSCSRV",$J,SERV,CLNM,VAL)=$G(^TMP("SDSCSRV",$J,SERV,CLNM,VAL))+1
"RTN","SDSCSSD",85,0)
 S ^TMP("SDSCSRV",$J,SERV,CLNM,VAL,SDOE)=""
"RTN","SDSCSSD",86,0)
 K VAL
"RTN","SDSCSSD",87,0)
 Q
"RTN","SDSCSSD",88,0)
HDR ;  Header
"RTN","SDSCSSD",89,0)
 N SDHDR,SDNWPV,I
"RTN","SDSCSSD",90,0)
 S SDHDR="Service Summary Data Report"
"RTN","SDSCSSD",91,0)
 U IO D STDHDR^SDSCRPT2 Q:$G(SDABRT)=1
"RTN","SDSCSSD",92,0)
 S SDNWPV=1,L=4
"RTN","SDSCSSD",93,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCSSD",94,0)
 W !,?5,"For Encounters Dated ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)," For Service: ",SDSCRVNM
"RTN","SDSCSSD",95,0)
 W !?24,"VBA OK",?34,"REVIEW",?43,"SC to NSC",?53,"NSC to SC",?65,"SC KEPT",?75,"NEW"
"RTN","SDSCSSD",96,0)
 W ! F I=1:1:79 W "-"
"RTN","SDSCSSD",97,0)
 Q
"RTN","SDSCUSR")
0^27^B25529113
"RTN","SDSCUSR",1,0)
SDSCUSR ;ALB/JAM/RBS - ASCD User Total Report ; 1/19/07 1:28pm
"RTN","SDSCUSR",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCUSR",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCUSR",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCUSR",5,0)
 ;
"RTN","SDSCUSR",6,0)
 ;**Program Description**
"RTN","SDSCUSR",7,0)
 ;  This report gives a total of the number of encounters that meet
"RTN","SDSCUSR",8,0)
 ;  the criteria: SC='Yes', auto-verified, and changed
"RTN","SDSCUSR",9,0)
 Q
"RTN","SDSCUSR",10,0)
EN ;  Entry Point
"RTN","SDSCUSR",11,0)
 N DIR,X,Y,SDSCDVSL,SDSCDVLN,ZTQUEUED,POP,ZTRTN,ZTDTH,ZTDESC,ZTSAVE
"RTN","SDSCUSR",12,0)
 ;  Get start and end date for report
"RTN","SDSCUSR",13,0)
 D GETDATE^SDSCOMP I SDSCTDT="" G EXIT
"RTN","SDSCUSR",14,0)
 ; Get Divisions
"RTN","SDSCUSR",15,0)
 D DIV^SDSCUTL
"RTN","SDSCUSR",16,0)
 D ^DIR
"RTN","SDSCUSR",17,0)
 I $G(DTOUT)!($G(DUOUT)) G EXIT
"RTN","SDSCUSR",18,0)
 S SDSCDVSL=Y,SDSCDVLN=SCLN
"RTN","SDSCUSR",19,0)
 K %ZIS,IOP,IOC,ZTIO S %ZIS="MQ" D ^%ZIS G:POP EXIT
"RTN","SDSCUSR",20,0)
 I $D(IO("Q")) D  G EXIT
"RTN","SDSCUSR",21,0)
 . S ZTRTN="BEG^SDSCUSR",ZTDTH=$H,ZTDESC="ASCD User Total Report"
"RTN","SDSCUSR",22,0)
 . S ZTSAVE("SDSCBDT")="",ZTSAVE("SDSCEDT")="",ZTSAVE("SDSCDVSL")=""
"RTN","SDSCUSR",23,0)
 . S ZTSAVE("SDSCDVLN")="",ZTSAVE("GROUP")="",ZTSAVE("SDEDT")="",ZTSAVE("SDSCTDT")=""
"RTN","SDSCUSR",24,0)
 . K IO("Q") D ^%ZTLOAD W !,"REQUEST QUEUED"
"RTN","SDSCUSR",25,0)
 ;
"RTN","SDSCUSR",26,0)
BEG ; Begin report
"RTN","SDSCUSR",27,0)
 N P,L,SDABRT,CT,SDSCDIV,SDSCDNM,THDR,SDI
"RTN","SDSCUSR",28,0)
 S (P,L,SDABRT,CT)=0
"RTN","SDSCUSR",29,0)
 S SDSCDIV=$S(SDSCDVSL'[SDSCDVLN:SDSCDVSL,1:"")
"RTN","SDSCUSR",30,0)
 I SDSCDIV="" S SDSCDNM="ALL" D FND G EXT
"RTN","SDSCUSR",31,0)
 I SDSCDIV'="" D
"RTN","SDSCUSR",32,0)
 . S THDR=""
"RTN","SDSCUSR",33,0)
 . F SDI=1:1:$L(SDSCDVSL,",") S SDSCDIV=$P(SDSCDVSL,",",SDI) Q:SDSCDIV=""  D  Q:$G(SDABRT)=1
"RTN","SDSCUSR",34,0)
 .. S SDSCDNM=$P(^DG(40.8,SDSCDIV,0),"^",1),THDR=THDR_SDSCDNM_",",CT=CT+1 D FND
"RTN","SDSCUSR",35,0)
 G EXT
"RTN","SDSCUSR",36,0)
 ;
"RTN","SDSCUSR",37,0)
FND ;
"RTN","SDSCUSR",38,0)
 N SDORG,SDOEDT,SDOE,EDNM,SDSCDATA,UIEN,UNAME,TYP,TOTAL,LEV1,COL,AMT
"RTN","SDSCUSR",39,0)
 K ^TMP("SDSCUSR",$J)
"RTN","SDSCUSR",40,0)
 S SDOEDT=SDSCTDT
"RTN","SDSCUSR",41,0)
 F  S SDOEDT=$O(^SDSC(409.48,"AE",SDOEDT)) Q:SDOEDT\1>SDEDT!(SDOEDT="")  D
"RTN","SDSCUSR",42,0)
 . S SDOE=""
"RTN","SDSCUSR",43,0)
 . F  S SDOE=$O(^SDSC(409.48,"AE",SDOEDT,SDOE)) Q:SDOE=""  D
"RTN","SDSCUSR",44,0)
 .. I SDSCDIV'="" Q:$P(^SDSC(409.48,SDOE,0),U,12)'=SDSCDIV
"RTN","SDSCUSR",45,0)
 .. S EDNM=0,SDORG=$P($$SCHNG^SDSCUTL(SDOE),U,2)
"RTN","SDSCUSR",46,0)
 .. F  S EDNM=$O(^SDSC(409.48,SDOE,1,EDNM)) Q:'EDNM  D
"RTN","SDSCUSR",47,0)
 ... S SDSCDATA=^SDSC(409.48,SDOE,1,EDNM,0),UNAME=""
"RTN","SDSCUSR",48,0)
 ... S UIEN=$P(SDSCDATA,U,3) I UIEN'="" S UNAME=$$UP^XLFSTR($$NAME^XUSER(UIEN,"F"))
"RTN","SDSCUSR",49,0)
 ... I $P(SDSCDATA,U,6)=1 D STORE("REVIEW")
"RTN","SDSCUSR",50,0)
 ... I $P(SDSCDATA,U,5)=SDORG D STORE("NO CHANGE") Q
"RTN","SDSCUSR",51,0)
 ... I SDORG,$P(SDSCDATA,U,5)=0 D STORE("SCNSC") Q
"RTN","SDSCUSR",52,0)
 ... I 'SDORG,$P(SDSCDATA,U,5) D STORE("NSCSC")
"RTN","SDSCUSR",53,0)
 ;
"RTN","SDSCUSR",54,0)
PRT ; Print
"RTN","SDSCUSR",55,0)
 K TOTAL
"RTN","SDSCUSR",56,0)
 S SDHDR="User Summary Data Report"
"RTN","SDSCUSR",57,0)
 D HDR Q:$G(SDABRT)=1
"RTN","SDSCUSR",58,0)
 F TYP="REVIEW","SCNSC","NSCSC","NO CHANGE" S TOTAL(TYP)=0
"RTN","SDSCUSR",59,0)
 S LEV1=""
"RTN","SDSCUSR",60,0)
 F  S LEV1=$O(^TMP("SDSCUSR",$J,LEV1)) Q:LEV1=""  D  Q:$G(SDABRT)=1
"RTN","SDSCUSR",61,0)
 . I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCUSR",62,0)
 . W !,LEV1 S L=L+1
"RTN","SDSCUSR",63,0)
 . S COL=30 F TYP="REVIEW","SCNSC","NSCSC","NO CHANGE" S COL=COL+10 D
"RTN","SDSCUSR",64,0)
 .. S AMT=+$G(^TMP("SDSCUSR",$J,LEV1,TYP)),DTOT(LEV1,TYP)=$G(DTOT(LEV1,TYP))+AMT,TOTAL(TYP)=$G(TOTAL(TYP))+AMT
"RTN","SDSCUSR",65,0)
 .. W ?COL,$J(AMT,7)
"RTN","SDSCUSR",66,0)
 I $G(SDABRT)=1 Q
"RTN","SDSCUSR",67,0)
 S COL=30,L=L+1 W ! I L+4>IOSL D HDR Q:$G(SDABRT)=1
"RTN","SDSCUSR",68,0)
 F TYP="REVIEW","SCNSC","NSCSC","NO CHANGE" S COL=COL+10 D
"RTN","SDSCUSR",69,0)
 . W ?COL,"-------"
"RTN","SDSCUSR",70,0)
 S COL=30,L=L+1 W !,"TOTAL"
"RTN","SDSCUSR",71,0)
 F TYP="REVIEW","SCNSC","NSCSC","NO CHANGE" S COL=COL+10 D
"RTN","SDSCUSR",72,0)
 . W ?COL,$J($G(TOTAL(TYP)),7)
"RTN","SDSCUSR",73,0)
 Q
"RTN","SDSCUSR",74,0)
 ;
"RTN","SDSCUSR",75,0)
EXT ;
"RTN","SDSCUSR",76,0)
 I CT>1,$G(SDABRT)'=1 D PRTT
"RTN","SDSCUSR",77,0)
 D RPTEND^SDSCRPT1
"RTN","SDSCUSR",78,0)
 ;
"RTN","SDSCUSR",79,0)
EXIT ;
"RTN","SDSCUSR",80,0)
 K SDNWPV,SDPVCN,SDSCBDT,SDSCEDT,SDSCDATA,SDSCDIV,SDSCDNM,DIV,EDIV,TOTAL
"RTN","SDSCUSR",81,0)
 K SDHDR,SDSCTDT,SDEDT,I,L,P,SUBTOT,Y,POP,GROUP,SCLN,DTOUT,DUOUT,DTOT
"RTN","SDSCUSR",82,0)
 K ^TMP("SDSCUSR",$J) K LEV1,TYP
"RTN","SDSCUSR",83,0)
 Q
"RTN","SDSCUSR",84,0)
 ;
"RTN","SDSCUSR",85,0)
STORE(VAL) ; Total up and Store
"RTN","SDSCUSR",86,0)
 S ^TMP("SDSCUSR",$J,UNAME,VAL)=$G(^TMP("SDSCUSR",$J,UNAME,VAL))+1
"RTN","SDSCUSR",87,0)
 S ^TMP("SDSCUSR",$J,UNAME,VAL,SDOE)=""
"RTN","SDSCUSR",88,0)
 K VAL
"RTN","SDSCUSR",89,0)
 Q
"RTN","SDSCUSR",90,0)
 ;
"RTN","SDSCUSR",91,0)
HDR ;  Header
"RTN","SDSCUSR",92,0)
 U IO D STDHDR^SDSCRPT2 Q:$G(SDABRT)=1
"RTN","SDSCUSR",93,0)
 S SDNWPV=1
"RTN","SDSCUSR",94,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCUSR",95,0)
 W !,?5,"For Encounters Dated ",$$FMTE^XLFDT(SDSCTDT,2)," THRU ",$$FMTE^XLFDT(SDEDT,2)_"  By Division: "_SDSCDNM
"RTN","SDSCUSR",96,0)
 W !?35,"SET to REVIEW",?50,"SC to NSC",?61,"NSC to SC",?72,"SC KEPT",!
"RTN","SDSCUSR",97,0)
 F I=1:1:79 W "-"
"RTN","SDSCUSR",98,0)
 Q
"RTN","SDSCUSR",99,0)
 ;
"RTN","SDSCUSR",100,0)
HDR1 ;
"RTN","SDSCUSR",101,0)
 N HHDR,HHDR1,HHDR2,HHDR3,HHDR4,I
"RTN","SDSCUSR",102,0)
 U IO D STDHDR^SDSCRPT2 Q:$G(SDABRT)=1
"RTN","SDSCUSR",103,0)
 I $E(THDR,$L(THDR))="," S THDR=$E(THDR,1,$L(THDR)-1)
"RTN","SDSCUSR",104,0)
 W SDHDR,?67,"PAGE: ",P
"RTN","SDSCUSR",105,0)
 S HHDR1="For Encounters Dated "_$$FMTE^XLFDT(SDSCTDT,2)_" THRU "_$$FMTE^XLFDT(SDEDT,2)_" TOTAL for "
"RTN","SDSCUSR",106,0)
 S HHDR2=THDR
"RTN","SDSCUSR",107,0)
 I $L(HHDR1)+$L(HHDR2)>IOM D
"RTN","SDSCUSR",108,0)
 . S HHDR3=$P(HHDR2,",",1),HHDR4=$P(HHDR2,",",2,99)
"RTN","SDSCUSR",109,0)
 . S HHDR=HHDR1_HHDR3
"RTN","SDSCUSR",110,0)
 . I HHDR4'="" S HHDR=HHDR_","
"RTN","SDSCUSR",111,0)
 I $L(HHDR1)+$L(HHDR2)'>IOM D
"RTN","SDSCUSR",112,0)
 . S HHDR=HHDR1_HHDR2
"RTN","SDSCUSR",113,0)
 W !,HHDR
"RTN","SDSCUSR",114,0)
 I $G(HHDR4)'="" W !,?5,HHDR4
"RTN","SDSCUSR",115,0)
 W !?40," REVIEW",?50,"SC CHNG",?60,"SC KEPT",!
"RTN","SDSCUSR",116,0)
 F I=1:1:79 W "-"
"RTN","SDSCUSR",117,0)
 Q
"RTN","SDSCUSR",118,0)
 ;
"RTN","SDSCUSR",119,0)
PRTT ;
"RTN","SDSCUSR",120,0)
 D HDR1 Q:$G(SDABRT)=1
"RTN","SDSCUSR",121,0)
 F TYP="REVIEW","SCNSC","NSCSC","NO CHANGE" S TOTAL(TYP)=0
"RTN","SDSCUSR",122,0)
 S LEV1=""
"RTN","SDSCUSR",123,0)
 F  S LEV1=$O(DTOT(LEV1)) Q:LEV1=""  D
"RTN","SDSCUSR",124,0)
 . I L+4>IOSL D HDR1 Q:$G(SDABRT)=1
"RTN","SDSCUSR",125,0)
 . W !,LEV1 S L=L+1
"RTN","SDSCUSR",126,0)
 . S COL=30 F TYP="REVIEW","SCNSC","NSCSC","NO CHANGE" S COL=COL+10 D
"RTN","SDSCUSR",127,0)
 .. S AMT=DTOT(LEV1,TYP),TOTAL(TYP)=$G(TOTAL(TYP))+AMT
"RTN","SDSCUSR",128,0)
 .. W ?COL,$J(AMT,7)
"RTN","SDSCUSR",129,0)
 S COL=30,L=L+1 W ! I L+4>IOSL D HDR1 Q:$G(SDABRT)=1
"RTN","SDSCUSR",130,0)
 F TYP="REVIEW","SCNSC","NSCSC","NO CHANGE" S COL=COL+10 D
"RTN","SDSCUSR",131,0)
 . W ?COL,"-------"
"RTN","SDSCUSR",132,0)
 S COL=30,L=L+1 W !,"TOTAL"
"RTN","SDSCUSR",133,0)
 F TYP="REVIEW","SCNSC","NSCSC","NO CHANGE" S COL=COL+10 D
"RTN","SDSCUSR",134,0)
 . W ?COL,$J($G(TOTAL(TYP)),7)
"RTN","SDSCUSR",135,0)
 Q
"RTN","SDSCUTL")
0^28^B29887017
"RTN","SDSCUTL",1,0)
SDSCUTL ;ALB/JAM/RBS - ASCD Utility Program ; 4/24/07 4:26pm
"RTN","SDSCUTL",2,0)
 ;;5.3;Scheduling;**495**;Aug 13, 1993;Build 50
"RTN","SDSCUTL",3,0)
 ;;MODIFIED FOR NATIONAL RELEASE from a Class III software product
"RTN","SDSCUTL",4,0)
 ;;known as Service Connected Automated Monitoring (SCAM).
"RTN","SDSCUTL",5,0)
 ;
"RTN","SDSCUTL",6,0)
 Q
"RTN","SDSCUTL",7,0)
 ;
"RTN","SDSCUTL",8,0)
TYPE ; Select proper user type based on security key.
"RTN","SDSCUTL",9,0)
 ; called by routines:  SDSCEDT,SDSCLST,SDSCMSR,SDSCRP1,SDSCSSD
"RTN","SDSCUTL",10,0)
 ;     sets variables:  SDTYPE,SDSCTAT,SDOPT,SDSCCR
"RTN","SDSCUTL",11,0)
 ;                      (should be killed by calling routines)
"RTN","SDSCUTL",12,0)
 I $G(SDTYPE)=""!($G(SDSCTAT)="")!($G(SDOPT)="") D
"RTN","SDSCUTL",13,0)
 . I $D(^XUSEC("SDSC SUPER",DUZ)) D  Q
"RTN","SDSCUTL",14,0)
 .. ; Supervisor can look at encounters with any status.
"RTN","SDSCUTL",15,0)
 .. S SDTYPE="S",SDSCTAT="",SDOPT="SA^Y:YES;N:NO;S:SKIP;R:REVIEW"
"RTN","SDSCUTL",16,0)
 .. S SDSCCR=""
"RTN","SDSCUTL",17,0)
 .. Q
"RTN","SDSCUTL",18,0)
 . I $D(^XUSEC("SDSC CLINICAL",DUZ)) D  Q
"RTN","SDSCUTL",19,0)
 .. ; Clinician can only look at encounters with a status of REVIEW.
"RTN","SDSCUTL",20,0)
 .. S SDTYPE="C",SDSCTAT="R",SDOPT="SA^Y:YES;N:NO;S:SKIP;R:REVIEW"
"RTN","SDSCUTL",21,0)
 .. S SDSCCR="I $P(^(0),U,5)=SDSCTAT"
"RTN","SDSCUTL",22,0)
 .. Q
"RTN","SDSCUTL",23,0)
 . ; User (default) can only look at encounters with a status of NEW.
"RTN","SDSCUTL",24,0)
 . S SDTYPE="U",SDSCTAT="N",SDOPT="SA^Y:YES;N:NO;S:SKIP;R:REVIEW"
"RTN","SDSCUTL",25,0)
 . S SDSCCR="I $P(^(0),U,5)=SDSCTAT"
"RTN","SDSCUTL",26,0)
 . Q
"RTN","SDSCUTL",27,0)
 Q
"RTN","SDSCUTL",28,0)
 ;
"RTN","SDSCUTL",29,0)
NBFP(SDOE) ; Is first-party non-billable based on either clinic, stop code, or patient?
"RTN","SDSCUTL",30,0)
 N SDOE0,SDPAT,SDOEDT
"RTN","SDSCUTL",31,0)
 I $G(SDOE)="" Q 0
"RTN","SDSCUTL",32,0)
 S SDOE0=$$GETOE^SDOE(SDOE),SDPAT=$P(SDOE0,U,2),SDOEDT=+SDOE0
"RTN","SDSCUTL",33,0)
 I '+$$FIRST^IBRSUTL(SDOE) Q 1
"RTN","SDSCUTL",34,0)
 Q 0
"RTN","SDSCUTL",35,0)
 ;
"RTN","SDSCUTL",36,0)
NBTP(SDOE) ; Is third-party non-billable based on either clinic, stop code, or patient?
"RTN","SDSCUTL",37,0)
 N SDOE0,SDPAT,SDOEDT,SDCOV
"RTN","SDSCUTL",38,0)
 I $G(SDOE)="" Q 0
"RTN","SDSCUTL",39,0)
 S SDOE0=$$GETOE^SDOE(SDOE),SDPAT=$P(SDOE0,U,2),SDOEDT=+SDOE0
"RTN","SDSCUTL",40,0)
 I '+$$THIRD^IBRSUTL(SDOE) Q 1
"RTN","SDSCUTL",41,0)
 ; ICR#: 4419 (SUPPORTED) - look for Outpatient coverage
"RTN","SDSCUTL",42,0)
 S SDCOV=$S($$INSUR^IBBAPI(SDPAT,SDOEDT,"O","",16)<1:0,1:1)
"RTN","SDSCUTL",43,0)
 I 'SDCOV Q 1
"RTN","SDSCUTL",44,0)
 Q 0
"RTN","SDSCUTL",45,0)
 ;
"RTN","SDSCUTL",46,0)
SENS(SDFN,SDFLG) ; Check for Sensitive Patient
"RTN","SDSCUTL",47,0)
 ; Input
"RTN","SDSCUTL",48,0)
 ;     SDFN  - Patient IEN
"RTN","SDSCUTL",49,0)
 ;     SDFLG - '1' if called from ListMan edit
"RTN","SDSCUTL",50,0)
 ;           - '0' if called from roll-and-scroll
"RTN","SDSCUTL",51,0)
 ;  Returns
"RTN","SDSCUTL",52,0)
 ;     '0' - OK to view (patient is not sensitive, user has key, or answered 'OK')
"RTN","SDSCUTL",53,0)
 ;     '1' - not OK to view patient (patient is sensitive, user does not have key and answered 'NO')
"RTN","SDSCUTL",54,0)
 ;
"RTN","SDSCUTL",55,0)
 N SDANS
"RTN","SDSCUTL",56,0)
 S SDANS=0
"RTN","SDSCUTL",57,0)
 I +$P($G(^DGSL(38.1,+SDFN,0)),U,2) D
"RTN","SDSCUTL",58,0)
 . NEW DIC,Y,DFN,X,VADM
"RTN","SDSCUTL",59,0)
 . S DFN=SDFN D DEM^VADPT
"RTN","SDSCUTL",60,0)
 . I $G(SDFLG)=0 W !!,$E(VADM(1),1,25)_" ("_$E($P(VADM(2),U),6,9)_")",!!
"RTN","SDSCUTL",61,0)
 . I $G(SDFLG)=1 D FULL^VALM1
"RTN","SDSCUTL",62,0)
 . S DIC(0)="AE",Y=SDFN
"RTN","SDSCUTL",63,0)
 . D ^DGSEC
"RTN","SDSCUTL",64,0)
 . I Y<0 S SDANS=1
"RTN","SDSCUTL",65,0)
 . I $D(^XUSEC("DG SENSITIVITY",DUZ)) D
"RTN","SDSCUTL",66,0)
 .. ; If user holds key, prevent sensitive patient warning from scrolling off screen
"RTN","SDSCUTL",67,0)
 .. N DIR W ! S DIR(0)="E" D ^DIR
"RTN","SDSCUTL",68,0)
 .D KVA^VADPT
"RTN","SDSCUTL",69,0)
 Q SDANS
"RTN","SDSCUTL",70,0)
 ;
"RTN","SDSCUTL",71,0)
DIV ;  Ask for Division
"RTN","SDSCUTL",72,0)
 N SDN
"RTN","SDSCUTL",73,0)
 S SDN=0
"RTN","SDSCUTL",74,0)
 F  S SDN=$O(^DG(40.8,SDN)) Q:'SDN  D
"RTN","SDSCUTL",75,0)
 . S DIR("A",SDN)=SDN_"  "_$P(^DG(40.8,SDN,0),"^",1)
"RTN","SDSCUTL",76,0)
 . S SCLN=SDN
"RTN","SDSCUTL",77,0)
 S SCLN=SCLN+1,DIR("A",SCLN)=SCLN_"  ALL"
"RTN","SDSCUTL",78,0)
 S DIR(0)="L^1:"_SCLN,DIR("B")=SCLN
"RTN","SDSCUTL",79,0)
 S DIR("A")="Select DIVISION"
"RTN","SDSCUTL",80,0)
 Q
"RTN","SDSCUTL",81,0)
 ;
"RTN","SDSCUTL",82,0)
SRV ;  Ask for Clinic Service
"RTN","SDSCUTL",83,0)
 N TDIR
"RTN","SDSCUTL",84,0)
 S TDIR="M:MEDICINE;S:SURGERY;P:PSYCHIATRY;R:REHAB MEDICINE;N:NEUROLOGY;0:NONE;"
"RTN","SDSCUTL",85,0)
 S TDIR=TDIR_"A:ALL"
"RTN","SDSCUTL",86,0)
 S DIR(0)="S^"_TDIR,DIR("A")="Select SERVICE"
"RTN","SDSCUTL",87,0)
 Q
"RTN","SDSCUTL",88,0)
 ;
"RTN","SDSCUTL",89,0)
STEDT(SDOE,SDTYPE,SDRFLG,SDSCC) ; Store the TRACK EDITS multiple for encounter
"RTN","SDSCUTL",90,0)
 ;  Input:
"RTN","SDSCUTL",91,0)
 ;    SDOE - Encounter IEN
"RTN","SDSCUTL",92,0)
 ;  SDTYPE - Type of User - (Supervisor, Clinician, User)
"RTN","SDSCUTL",93,0)
 ;  SDRFLG - Review flag var
"RTN","SDSCUTL",94,0)
 ;   SDSCC - visit file service connected value (1/0)
"RTN","SDSCUTL",95,0)
 ;
"RTN","SDSCUTL",96,0)
 ;  Output: none
"RTN","SDSCUTL",97,0)
 ;
"RTN","SDSCUTL",98,0)
 ; First add a new entry to the multiple.
"RTN","SDSCUTL",99,0)
 Q:'$G(SDOE)
"RTN","SDSCUTL",100,0)
 N DD,DO,X,DA,DIC,DIE,DLAYGO,SDIENS,SDPD,SDVBA,ERR
"RTN","SDSCUTL",101,0)
 I '$D(^SDSC(409.48,SDOE,1,0)) S ^SDSC(409.48,SDOE,1,0)="^409.481^^"
"RTN","SDSCUTL",102,0)
 S X=$P(^SDSC(409.48,SDOE,1,0),U,3)+1
"RTN","SDSCUTL",103,0)
 S DA(1)=SDOE,DA=X,DIC="^SDSC(409.48,"_DA(1)_",1,",DIE=DIC
"RTN","SDSCUTL",104,0)
 S DLAYGO=409.481,DIC("P")=DLAYGO,DIC(0)="L"
"RTN","SDSCUTL",105,0)
 K DD,DO
"RTN","SDSCUTL",106,0)
 D FILE^DICN
"RTN","SDSCUTL",107,0)
 K DD,DO
"RTN","SDSCUTL",108,0)
 ; Next update the fields within the multiple.
"RTN","SDSCUTL",109,0)
 S SDIENS=$$IENS^DILF(.DA)
"RTN","SDSCUTL",110,0)
 S SDPD(409.481,SDIENS,.02)=DT
"RTN","SDSCUTL",111,0)
 S SDPD(409.481,SDIENS,.03)=DUZ
"RTN","SDSCUTL",112,0)
 S SDPD(409.481,SDIENS,.04)=$G(SDTYPE)
"RTN","SDSCUTL",113,0)
 ; If user answered "REVIEW", set the review flag to "YES".
"RTN","SDSCUTL",114,0)
 ; Else, set SERV. CONNECT (OK BY USER?) field with current SC status.
"RTN","SDSCUTL",115,0)
 I $G(SDRFLG)=1 S SDPD(409.481,SDIENS,.06)=1
"RTN","SDSCUTL",116,0)
 E  S SDPD(409.481,SDIENS,.05)=$G(SDSCC)
"RTN","SDSCUTL",117,0)
 D FILE^DIE("","SDPD","ERR")
"RTN","SDSCUTL",118,0)
 ;
"RTN","SDSCUTL",119,0)
 ; -- If not "REVIEW" flag,
"RTN","SDSCUTL",120,0)
 ;    Set file;field (#409.48;.09) SERV. CONNECT (OK BY VBA/ICD?)
"RTN","SDSCUTL",121,0)
 ;    equal to the VBA/ICD9 match result.
"RTN","SDSCUTL",122,0)
 I '$G(SDRFLG) D
"RTN","SDSCUTL",123,0)
 . K SDPD,ERR
"RTN","SDSCUTL",124,0)
 . S SDVBA=$$SC^SDSCAPI(,,SDOE)
"RTN","SDSCUTL",125,0)
 . S SDPD(409.48,SDOE_",",.09)=$P(SDVBA,U,3)
"RTN","SDSCUTL",126,0)
 . D FILE^DIE("","SDPD","ERR")
"RTN","SDSCUTL",127,0)
 Q
"RTN","SDSCUTL",128,0)
 ;
"RTN","SDSCUTL",129,0)
CONT ; Standard press RETURN to continue prompt.
"RTN","SDSCUTL",130,0)
 N DIR,X,Y,DTOUT,DUOUT
"RTN","SDSCUTL",131,0)
 S DIR(0)="EA"
"RTN","SDSCUTL",132,0)
 S DIR("A")="Enter RETURN to continue "
"RTN","SDSCUTL",133,0)
 D ^DIR
"RTN","SDSCUTL",134,0)
 I $D(DTOUT)!$D(DUOUT) S SDQFLG=1
"RTN","SDSCUTL",135,0)
 W @IOF,!,"Encounter ",SDOE," (cont'd)"
"RTN","SDSCUTL",136,0)
 Q
"RTN","SDSCUTL",137,0)
 ;
"RTN","SDSCUTL",138,0)
ANCPKG(SCEIEN) ;check if visit came from an ancillary package & if to continue
"RTN","SDSCUTL",139,0)
 N PCEIEN,DIR,DA,X,Y
"RTN","SDSCUTL",140,0)
 I '$G(SCEIEN) Q 1
"RTN","SDSCUTL",141,0)
 S PCEIEN=$P($$GETOE^SDOE(SCEIEN),"^",5) I 'PCEIEN Q 1
"RTN","SDSCUTL",142,0)
 I $P($G(^AUPNVSIT(PCEIEN,150)),"^",3)'="A" Q 1
"RTN","SDSCUTL",143,0)
 W $C(7)
"RTN","SDSCUTL",144,0)
 S DIR("A",1)="WARNING: This encounter came from another package. If it is changed"
"RTN","SDSCUTL",145,0)
 S DIR("A",2)="         it will not agree with what is in the originating package."
"RTN","SDSCUTL",146,0)
 S DIR("A",3)="        "
"RTN","SDSCUTL",147,0)
 S DIR("A")="Do you want to continue with this encounter"
"RTN","SDSCUTL",148,0)
 S DIR("B")="YES",DIR(0)="Y"
"RTN","SDSCUTL",149,0)
 D ^DIR
"RTN","SDSCUTL",150,0)
 Q $S(Y:1,Y<0:1,1:0)
"RTN","SDSCUTL",151,0)
NCTCL(SDCLIN) ;Checks if a non-count clinic
"RTN","SDSCUTL",152,0)
 I $P($G(^SC(+SDCLIN,0)),U,17)="Y" Q 1
"RTN","SDSCUTL",153,0)
 Q 0
"RTN","SDSCUTL",154,0)
SCHNG(SDOE) ;Checks if a completed encounter SC value was changed.
"RTN","SDSCUTL",155,0)
 ;Input:  SDOE - Encounter IEN
"RTN","SDSCUTL",156,0)
 ;Output: SC Changed^Orignal Value(1 or 0)^Last Value(1 or 0)
"RTN","SDSCUTL",157,0)
 ;         SC Changed: 0-no change, 1-change
"RTN","SDSCUTL",158,0)
 ;         Null is return if invalid
"RTN","SDSCUTL",159,0)
 N SDVAL,SDORG,SDUSR
"RTN","SDSCUTL",160,0)
 I $G(SDOE)="" Q ""
"RTN","SDSCUTL",161,0)
 S SDVAL=$G(^SDSC(409.48,SDOE,0)) I SDVAL="" Q ""
"RTN","SDSCUTL",162,0)
 I $P(SDVAL,"^",5)'="C" Q ""
"RTN","SDSCUTL",163,0)
 S SDORG=$P(SDVAL,U,13),SDUSR=$P(SDVAL,U,6)
"RTN","SDSCUTL",164,0)
 I SDORG="" S SDORG=1
"RTN","SDSCUTL",165,0)
 Q $S(SDORG=SDUSR:0,1:1)_U_SDORG_U_SDUSR
"RTN","SDSCUTL",166,0)
 ;
"RTN","SDSCUTL",167,0)
LOCK(SCIEN) ;Locks an ASCD record.
"RTN","SDSCUTL",168,0)
 ; This function locks an ASCD so as to prevent another process from 
"RTN","SDSCUTL",169,0)
 ; editing the same record.
"RTN","SDSCUTL",170,0)
 ;  Input:  SCIEN - IEN of record in file #409.48
"RTN","SDSCUTL",171,0)
 ;
"RTN","SDSCUTL",172,0)
 ; Output:  Returns 1 if lock was successful, 0 otherwise
"RTN","SDSCUTL",173,0)
 ;
"RTN","SDSCUTL",174,0)
 I $G(SCIEN) L +^SDSC(409.48,SCIEN):5
"RTN","SDSCUTL",175,0)
 Q $T
"RTN","SDSCUTL",176,0)
 ;
"RTN","SDSCUTL",177,0)
UNLOCK(SCIEN) ;Unlocks an ASCD record.
"RTN","SDSCUTL",178,0)
 ; This function releases the lock on an ASCD record created by $$LOCK.
"RTN","SDSCUTL",179,0)
 ;  Input: SCIEN - IEN of record in file #409.48
"RTN","SDSCUTL",180,0)
 ;
"RTN","SDSCUTL",181,0)
 ; Output: None
"RTN","SDSCUTL",182,0)
 ;
"RTN","SDSCUTL",183,0)
 I $G(SCIEN) L -^SDSC(409.48,SCIEN)
"RTN","SDSCUTL",184,0)
 Q
"RTN","SDSCUTL",185,0)
 ;
"RTN","SDSCUTL",186,0)
SCSEL() ;Prompts for the type of service connection records to review.
"RTN","SDSCUTL",187,0)
 ; Input:  No input required
"RTN","SDSCUTL",188,0)
 ; Output: 1 - SC, 0 - NSC, 2 - All and "" (null)
"RTN","SDSCUTL",189,0)
 N DIR
"RTN","SDSCUTL",190,0)
 W !,"Service Connected Encounters Review Selection"
"RTN","SDSCUTL",191,0)
 S DIR(0)="SO^S:Service Connected;N:Non-Service Connected;A:All"
"RTN","SDSCUTL",192,0)
 S DIR("B")="S",DIR("A")="Which type do you want to review?"
"RTN","SDSCUTL",193,0)
 D ^DIR I $D(DIRUT) Q ""
"RTN","SDSCUTL",194,0)
 Q $S(Y="S":1,Y="N":0,1:2)
"SEC","^DIC",409.48,409.48,0,"AUDIT")
@
"SEC","^DIC",409.48,409.48,0,"DD")
@
"SEC","^DIC",409.48,409.48,0,"DEL")
@
"SEC","^DIC",409.48,409.48,0,"LAYGO")
@
"SEC","^DIC",409.48,409.48,0,"RD")
@
"SEC","^DIC",409.48,409.48,0,"WR")
@
"VER")
8.0^22.0
"^DD",409.48,409.48,0)
FIELD^^.13^14
"^DD",409.48,409.48,0,"DDA")
N
"^DD",409.48,409.48,0,"DT")
3070308
"^DD",409.48,409.48,0,"IX","AC",409.48,.02)

"^DD",409.48,409.48,0,"IX","AD",409.48,.04)

"^DD",409.48,409.48,0,"IX","AE",409.48,.07)

"^DD",409.48,409.48,0,"IX","B",409.48,.01)

"^DD",409.48,409.48,0,"IX","D",409.48,.11)

"^DD",409.48,409.48,0,"NM","SDSC SERVICE CONNECTED CHANGES")

"^DD",409.48,409.48,.01,0)
OUTPATIENT ENCOUNTER^RP409.68'X^SCE(^0;1^S DINUM=X
"^DD",409.48,409.48,.01,1,0)
^.1
"^DD",409.48,409.48,.01,1,1,0)
409.48^B
"^DD",409.48,409.48,.01,1,1,1)
S ^SDSC(409.48,"B",$E(X,1,30),DA)=""
"^DD",409.48,409.48,.01,1,1,2)
K ^SDSC(409.48,"B",$E(X,1,30),DA)
"^DD",409.48,409.48,.01,3)

"^DD",409.48,409.48,.01,21,0)
^^2^2^3070305^
"^DD",409.48,409.48,.01,21,1,0)
This is the Encounter Number from file #409.68 (Outpatient Encounter) 
"^DD",409.48,409.48,.01,21,2,0)
which was determined needs to be reviewed. 
"^DD",409.48,409.48,.01,23,0)
^.001^1^1^3070302^^
"^DD",409.48,409.48,.01,23,1,0)
A pointer to the OUTPATIENT ENCOUNTER File #409.68.
"^DD",409.48,409.48,.01,"DT")
3070305
"^DD",409.48,409.48,.02,0)
DATE LAST EDITED^D^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",409.48,409.48,.02,1,0)
^.1^^-1
"^DD",409.48,409.48,.02,1,1,0)
409.48^AC
"^DD",409.48,409.48,.02,1,1,1)
S ^SDSC(409.48,"AC",$E(X,1,30),DA)=""
"^DD",409.48,409.48,.02,1,1,2)
K ^SDSC(409.48,"AC",$E(X,1,30),DA)
"^DD",409.48,409.48,.02,1,1,"%D",0)
^.101^2^2^3061027^^
"^DD",409.48,409.48,.02,1,1,"%D",1,0)
This cross reference is by DATE LAST EDITED and is used for several
"^DD",409.48,409.48,.02,1,1,"%D",2,0)
reports that track changes the user made to the encounter.
"^DD",409.48,409.48,.02,1,1,"DT")
3040916
"^DD",409.48,409.48,.02,5,1,0)
409.481^.02^1
"^DD",409.48,409.48,.02,21,0)
^^2^2^3070302^
"^DD",409.48,409.48,.02,21,1,0)
This field contains the date that this encounter was last edited through
"^DD",409.48,409.48,.02,21,2,0)
the ASCD options.
"^DD",409.48,409.48,.02,"DT")
3040916
"^DD",409.48,409.48,.03,0)
LAST EDITED BY^P200'^VA(200,^0;3^Q
"^DD",409.48,409.48,.03,5,1,0)
409.481^.03^1
"^DD",409.48,409.48,.03,21,0)
^.001^2^2^3070302^^
"^DD",409.48,409.48,.03,21,1,0)
This field contains the user who last edited this encounter through the
"^DD",409.48,409.48,.03,21,2,0)
ASCD options.
"^DD",409.48,409.48,.03,23,0)
^^1^1^3070302^
"^DD",409.48,409.48,.03,23,1,0)
A pointer to the NEW PERSON File #200.
"^DD",409.48,409.48,.03,"DT")
3040922
"^DD",409.48,409.48,.04,0)
DATE CREATED^RD^^0;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",409.48,409.48,.04,1,0)
^.1
"^DD",409.48,409.48,.04,1,1,0)
409.48^AD
"^DD",409.48,409.48,.04,1,1,1)
S ^SDSC(409.48,"AD",$E(X,1,30),DA)=""
"^DD",409.48,409.48,.04,1,1,2)
K ^SDSC(409.48,"AD",$E(X,1,30),DA)
"^DD",409.48,409.48,.04,1,1,"%D",0)
^.101^2^2^3061107^^^^
"^DD",409.48,409.48,.04,1,1,"%D",1,0)
This cross reference is by DATE CREATED and is used for several reports
"^DD",409.48,409.48,.04,1,1,"%D",2,0)
that track what happened when an encounter was added to this file.
"^DD",409.48,409.48,.04,1,1,"DT")
3040916
"^DD",409.48,409.48,.04,21,0)
^.001^1^1^3070302^^^
"^DD",409.48,409.48,.04,21,1,0)
This field contains the date that this encounter was added to this file.
"^DD",409.48,409.48,.04,"DT")
3040923
"^DD",409.48,409.48,.05,0)
STATUS^RS^N:NEW;R:REVIEW;C:COMPLETED;^0;5^Q
"^DD",409.48,409.48,.05,5,1,0)
409.48^.06^1
"^DD",409.48,409.48,.05,5,2,0)
409.481^.06^1
"^DD",409.48,409.48,.05,21,0)
^^5^5^3070302^
"^DD",409.48,409.48,.05,21,1,0)
This field contains the status of this encounter.
"^DD",409.48,409.48,.05,21,2,0)
    "NEW"       - this encounter was recently added to this file.
"^DD",409.48,409.48,.05,21,3,0)
    "REVIEW"    - this encounter was forwarded for clinical review.
"^DD",409.48,409.48,.05,21,4,0)
    "COMPLETED" - edits to this encounter are complete and only a
"^DD",409.48,409.48,.05,21,5,0)
                  supervisor may make further modifications.
"^DD",409.48,409.48,.05,"DT")
3040923
"^DD",409.48,409.48,.06,0)
SERV. CONNECT (OK BY USER?)^S^0:NO;1:YES;^0;6^Q
"^DD",409.48,409.48,.06,1,0)
^.1
"^DD",409.48,409.48,.06,1,1,0)
^^TRIGGER^409.48^.05
"^DD",409.48,409.48,.06,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SDSC(409.48,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV S X="C" S DIH=$G(^SDSC(409.48,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=409.48,DIG=.05 D ^DICR
"^DD",409.48,409.48,.06,1,1,2)
Q
"^DD",409.48,409.48,.06,1,1,"CREATE VALUE")
"C"
"^DD",409.48,409.48,.06,1,1,"DELETE VALUE")
NO EFFECT
"^DD",409.48,409.48,.06,1,1,"FIELD")
#.05
"^DD",409.48,409.48,.06,5,1,0)
409.481^.05^1
"^DD",409.48,409.48,.06,21,0)
^.001^2^2^3070308^^
"^DD",409.48,409.48,.06,21,1,0)
This field will contain 1 ('YES') or 0 ('NO') based on the user
"^DD",409.48,409.48,.06,21,2,0)
determination of the encounter's service connected value.
"^DD",409.48,409.48,.06,"DT")
3040922
"^DD",409.48,409.48,.07,0)
DATE OF ENCOUNTER^D^^0;7^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",409.48,409.48,.07,1,0)
^.1
"^DD",409.48,409.48,.07,1,1,0)
409.48^AE
"^DD",409.48,409.48,.07,1,1,1)
S ^SDSC(409.48,"AE",$E(X,1,30),DA)=""
"^DD",409.48,409.48,.07,1,1,2)
K ^SDSC(409.48,"AE",$E(X,1,30),DA)
"^DD",409.48,409.48,.07,1,1,"%D",0)
^.101^1^1^3070302^^^
"^DD",409.48,409.48,.07,1,1,"%D",1,0)
This cross reference is by DATE OF ENCOUNTER and is used by several reports.
"^DD",409.48,409.48,.07,1,1,"DT")
3040916
"^DD",409.48,409.48,.07,21,0)
^^2^2^3070302^
"^DD",409.48,409.48,.07,21,1,0)
This is the actual date of the encounter copied from the OUTPATIENT
"^DD",409.48,409.48,.07,21,2,0)
ENCOUNTER file #409.68 at the time of the compile.
"^DD",409.48,409.48,.07,"DT")
3040923
"^DD",409.48,409.48,.08,0)
PRIMARY PROVIDER^P200'^VA(200,^0;8^Q
"^DD",409.48,409.48,.08,21,0)
^.001^2^2^3070302^^^
"^DD",409.48,409.48,.08,21,1,0)
This field contains the primary provider for the encounter determined 
"^DD",409.48,409.48,.08,21,2,0)
at the time of the compile.
"^DD",409.48,409.48,.08,23,0)
^^1^1^3070302^
"^DD",409.48,409.48,.08,23,1,0)
A pointer to the NEW PERSON FILE #200.
"^DD",409.48,409.48,.08,"DT")
3040922
"^DD",409.48,409.48,.09,0)
SERV. CONNECT (OK BY VBA/ICD?)^S^0:NO;1:YES;^0;9^Q
"^DD",409.48,409.48,.09,21,0)
^.001^3^3^3070308^^
"^DD",409.48,409.48,.09,21,1,0)
This field will contain 1 ('YES') or 0 ('NO') depending on whether the
"^DD",409.48,409.48,.09,21,2,0)
automation or compile determined that the VBA/ICD codes found for this
"^DD",409.48,409.48,.09,21,3,0)
patient and encounter provided a match.
"^DD",409.48,409.48,.09,"DT")
3070305
"^DD",409.48,409.48,.1,0)
CLAIMS TRACKING ENTRY^NJ11,0^^0;10^K:+X'=X!(X>99999999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",409.48,409.48,.1,3)
Type a Number between 1 and 99999999999, 0 Decimal Digits
"^DD",409.48,409.48,.1,21,0)
^.001^2^2^3070305^^^
"^DD",409.48,409.48,.1,21,1,0)
This field will contain the Claims Tracking Entry for a record which may 
"^DD",409.48,409.48,.1,21,2,0)
have been modified.
"^DD",409.48,409.48,.1,23,0)
^^1^1^3070305^
"^DD",409.48,409.48,.1,23,1,0)
Contains the pointer value to the CLAIMS TRACKING file #356.
"^DD",409.48,409.48,.1,"DT")
3070305
"^DD",409.48,409.48,.11,0)
PATIENT^RP2'^DPT(^0;11^Q
"^DD",409.48,409.48,.11,1,0)
^.1
"^DD",409.48,409.48,.11,1,1,0)
409.48^D
"^DD",409.48,409.48,.11,1,1,1)
S ^SDSC(409.48,"D",$E(X,1,30),DA)=""
"^DD",409.48,409.48,.11,1,1,2)
K ^SDSC(409.48,"D",$E(X,1,30),DA)
"^DD",409.48,409.48,.11,1,1,"%D",0)
^.101^1^1^3061107^^^^
"^DD",409.48,409.48,.11,1,1,"%D",1,0)
Patient IEN cross-reference
"^DD",409.48,409.48,.11,1,1,"DT")
3041027
"^DD",409.48,409.48,.11,21,0)
^^3^3^3070302^
"^DD",409.48,409.48,.11,21,1,0)
This field contains the 
"^DD",409.48,409.48,.11,21,2,0)
patient's DFN for the
"^DD",409.48,409.48,.11,21,3,0)
encounter.
"^DD",409.48,409.48,.11,23,0)
^^1^1^3070302^
"^DD",409.48,409.48,.11,23,1,0)
A pointer to the PATIENT file #2.
"^DD",409.48,409.48,.11,"DT")
3070302
"^DD",409.48,409.48,.12,0)
DIVISION^P40.8'^DG(40.8,^0;12^Q
"^DD",409.48,409.48,.12,21,0)
^.001^1^1^3070302^^
"^DD",409.48,409.48,.12,21,1,0)
This field is the medical center division assigned to the encounter.
"^DD",409.48,409.48,.12,23,0)
^^1^1^3070302^
"^DD",409.48,409.48,.12,23,1,0)
A pointer to the MEDICAL CENTER DIVISION File #40.8.
"^DD",409.48,409.48,.12,"DT")
3050811
"^DD",409.48,409.48,.13,0)
SERV. CONNECT (ORIGINAL VALUE)^S^0:NO;1:YES;^0;13^Q
"^DD",409.48,409.48,.13,21,0)
^.001^2^2^3070308^^
"^DD",409.48,409.48,.13,21,1,0)
This field will contain 1 ('YES') or 0 ('NO') based on the original
"^DD",409.48,409.48,.13,21,2,0)
encounter's service connected value.
"^DD",409.48,409.48,.13,"DT")
3070308
"^DD",409.48,409.48,1,0)
TRACK EDITS^409.481A^^1;0
"^DD",409.48,409.48,1,21,0)
^.001^2^2^3070302^^^^
"^DD",409.48,409.48,1,21,1,0)
This multiple field tracks each edit made to this encounter through the
"^DD",409.48,409.48,1,21,2,0)
ASCD options.
"^DD",409.48,409.481,0)
TRACK EDITS SUB-FIELD^^.06^6
"^DD",409.48,409.481,0,"DT")
3061107
"^DD",409.48,409.481,0,"IX","B",409.481,.01)

"^DD",409.48,409.481,0,"NM","TRACK EDITS")

"^DD",409.48,409.481,0,"UP")
409.48
"^DD",409.48,409.481,.01,0)
EDIT NUMBER^NJ2,0^^0;1^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X
"^DD",409.48,409.481,.01,1,0)
^.1
"^DD",409.48,409.481,.01,1,1,0)
409.481^B
"^DD",409.48,409.481,.01,1,1,1)
S ^SDSC(409.48,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",409.48,409.481,.01,1,1,2)
K ^SDSC(409.48,DA(1),1,"B",$E(X,1,30),DA)
"^DD",409.48,409.481,.01,3)
Type a Number between 1 and 99, 0 Decimal Digits
"^DD",409.48,409.481,.01,21,0)
^.001^4^4^3070302^^
"^DD",409.48,409.481,.01,21,1,0)
This field contains a unique entry for each edit. The edits are stored
"^DD",409.48,409.481,.01,21,2,0)
in order beginning at 1. Under ordinary circumstances there will usually
"^DD",409.48,409.481,.01,21,3,0)
only be between 1 and 3 edits for any record although there is no specific
"^DD",409.48,409.481,.01,21,4,0)
maximum.
"^DD",409.48,409.481,.01,"DT")
3061107
"^DD",409.48,409.481,.02,0)
DATE EDITED^D^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",409.48,409.481,.02,1,0)
^.1
"^DD",409.48,409.481,.02,1,1,0)
^^TRIGGER^409.48^.02
"^DD",409.48,409.481,.02,1,1,1)
K DIV S DIV=X,D0=DA(1),DIV(0)=D0,D1=DA S Y(1)=$S($D(^SDSC(409.48,D0,0)):^(0),1:"") S X=$P(Y(1),U,2),X=X S DIU=X K Y S X=DIV S X=X S DIH=$G(^SDSC(409.48,DIV(0),0)),DIV=X S $P(^(0),U,2)=DIV,DIH=409.48,DIG=.02 D ^DICR
"^DD",409.48,409.481,.02,1,1,2)
Q
"^DD",409.48,409.481,.02,1,1,"CREATE VALUE")
S X=X
"^DD",409.48,409.481,.02,1,1,"DELETE VALUE")
NO EFFECT
"^DD",409.48,409.481,.02,1,1,"DT")
3061107
"^DD",409.48,409.481,.02,1,1,"FIELD")
#.02
"^DD",409.48,409.481,.02,21,0)
^.001^2^2^3070302^^
"^DD",409.48,409.481,.02,21,1,0)
This is the date that the user edited this encounter. A trigger on this
"^DD",409.48,409.481,.02,21,2,0)
field will also update the DATE LAST EDITED field in the main file.
"^DD",409.48,409.481,.02,"DT")
3061107
"^DD",409.48,409.481,.03,0)
EDITED BY^P200'^VA(200,^0;3^Q
"^DD",409.48,409.481,.03,1,0)
^.1
"^DD",409.48,409.481,.03,1,1,0)
^^TRIGGER^409.48^.03
"^DD",409.48,409.481,.03,1,1,1)
K DIV S DIV=X,D0=DA(1),DIV(0)=D0,D1=DA S Y(1)=$S($D(^SDSC(409.48,D0,0)):^(0),1:"") S X=$P(Y(1),U,3),X=X S DIU=X K Y S X=DIV S X=X S DIH=$G(^SDSC(409.48,DIV(0),0)),DIV=X S $P(^(0),U,3)=DIV,DIH=409.48,DIG=.03 D ^DICR
"^DD",409.48,409.481,.03,1,1,2)
Q
"^DD",409.48,409.481,.03,1,1,"CREATE VALUE")
S X=X
"^DD",409.48,409.481,.03,1,1,"DELETE VALUE")
NO EFFECT
"^DD",409.48,409.481,.03,1,1,"FIELD")
#.03
"^DD",409.48,409.481,.03,21,0)
^.001^2^2^3070302^^
"^DD",409.48,409.481,.03,21,1,0)
This is the user who edited this encounter. A trigger on this field will
"^DD",409.48,409.481,.03,21,2,0)
also update the LAST EDITED BY field in the main file.
"^DD",409.48,409.481,.03,23,0)
^^1^1^3070302^
"^DD",409.48,409.481,.03,23,1,0)
A pointer to the NEW PERSON file #200.
"^DD",409.48,409.481,.03,"DT")
3061107
"^DD",409.48,409.481,.04,0)
TYPE OF ENTRY^S^U:USER;C:CLINICAL;S:SUPERVISOR;^0;4^Q
"^DD",409.48,409.481,.04,21,0)
^^4^4^3070302^
"^DD",409.48,409.481,.04,21,1,0)
This is the type of user who edited this encounter.
"^DD",409.48,409.481,.04,21,2,0)
    "USER"        any standard user of this package.
"^DD",409.48,409.481,.04,21,3,0)
    "CLINICAL"    a clinical reviewer with the appropriate security key.
"^DD",409.48,409.481,.04,21,4,0)
    "SUPERVISOR"  a supervisor with the appropriate security key.
"^DD",409.48,409.481,.04,"DT")
3061107
"^DD",409.48,409.481,.05,0)
SERV. CONNECT (OK BY USER?)^S^0:NO;1:YES;^0;5^Q
"^DD",409.48,409.481,.05,1,0)
^.1^^-1
"^DD",409.48,409.481,.05,1,1,0)
^^TRIGGER^409.48^.06
"^DD",409.48,409.481,.05,1,1,1)
K DIV S DIV=X,D0=DA(1),DIV(0)=D0,D1=DA S Y(1)=$S($D(^SDSC(409.48,D0,0)):^(0),1:"") S X=$P(Y(1),U,6),X=X S DIU=X K Y S X=DIV S X=X S DIH=$G(^SDSC(409.48,DIV(0),0)),DIV=X S $P(^(0),U,6)=DIV,DIH=409.48,DIG=.06 D ^DICR
"^DD",409.48,409.481,.05,1,1,2)
Q
"^DD",409.48,409.481,.05,1,1,"CREATE VALUE")
S X=X
"^DD",409.48,409.481,.05,1,1,"DELETE VALUE")
NO EFFECT
"^DD",409.48,409.481,.05,1,1,"FIELD")
#.06
"^DD",409.48,409.481,.05,21,0)
^^4^4^3070302^
"^DD",409.48,409.481,.05,21,1,0)
This field will contain 1 ('YES') or 0 ('NO') based on the user
"^DD",409.48,409.481,.05,21,2,0)
determination of the encounter's service connected value. A trigger on 
"^DD",409.48,409.481,.05,21,3,0)
this field will also update the SERV. CONNECT (OK BY USER?) field in the
"^DD",409.48,409.481,.05,21,4,0)
main file.
"^DD",409.48,409.481,.05,"DT")
3061208
"^DD",409.48,409.481,.06,0)
REVIEW REQUIRED?^S^0:NO;1:YES;^0;6^Q
"^DD",409.48,409.481,.06,1,0)
^.1
"^DD",409.48,409.481,.06,1,1,0)
^^TRIGGER^409.48^.05
"^DD",409.48,409.481,.06,1,1,1)
K DIV S DIV=X,D0=DA(1),DIV(0)=D0,D1=DA S Y(1)=$S($D(^SDSC(409.48,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV S X="R" S DIH=$G(^SDSC(409.48,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=409.48,DIG=.05 D ^DICR
"^DD",409.48,409.481,.06,1,1,2)
Q
"^DD",409.48,409.481,.06,1,1,"CREATE VALUE")
"R"
"^DD",409.48,409.481,.06,1,1,"DELETE VALUE")
NO EFFECT
"^DD",409.48,409.481,.06,1,1,"FIELD")
#.05
"^DD",409.48,409.481,.06,21,0)
^.001^3^3^3070302^^
"^DD",409.48,409.481,.06,21,1,0)
This field will be set to 1 ('YES') if a regular user determines that this
"^DD",409.48,409.481,.06,21,2,0)
record requires further review by a clinical reviewer. A trigger will also
"^DD",409.48,409.481,.06,21,3,0)
set the STATUS field in the main file to 'REVIEW'.
"^DD",409.48,409.481,.06,"DT")
3061208
"^DIC",409.48,409.48,0)
SDSC SERVICE CONNECTED CHANGES^409.48
"^DIC",409.48,409.48,0,"GL")
^SDSC(409.48,
"^DIC",409.48,409.48,"%",0)
^1.005^^
"^DIC",409.48,409.48,"%D",0)
^^5^5^3070305^
"^DIC",409.48,409.48,"%D",1,0)
This file contains a list of encounters which were selected for review 
"^DIC",409.48,409.48,"%D",2,0)
based on a comparison of the ICD9 diagnosis codes from the encounter and
"^DIC",409.48,409.48,"%D",3,0)
the VBA rated disabilities (VA) codes from the patient.  Entries will be
"^DIC",409.48,409.48,"%D",4,0)
edited as necessary per the review criteria established for determining
"^DIC",409.48,409.48,"%D",5,0)
if an encounter is service-connected (SC) or non-service connected (NSC).
"^DIC",409.48,"B","SDSC SERVICE CONNECTED CHANGES",409.48)

**INSTALL NAME**
PX*1.0*184
"BLD",6974,0)
PX*1.0*184^PCE PATIENT CARE ENCOUNTER^0^3070824^y
"BLD",6974,1,0)
^^2^2^3070316^
"BLD",6974,1,1,0)
Please refer to patch PX*1.0*184 in the National Patch Module for a
"BLD",6974,1,2,0)
complete description of this patch.
"BLD",6974,4,0)
^9.64PA^^
"BLD",6974,6.3)
30
"BLD",6974,"ABPKG")
n
"BLD",6974,"KRN",0)
^9.67PA^8989.52^19
"BLD",6974,"KRN",.4,0)
.4
"BLD",6974,"KRN",.401,0)
.401
"BLD",6974,"KRN",.402,0)
.402
"BLD",6974,"KRN",.403,0)
.403
"BLD",6974,"KRN",.5,0)
.5
"BLD",6974,"KRN",.84,0)
.84
"BLD",6974,"KRN",3.6,0)
3.6
"BLD",6974,"KRN",3.8,0)
3.8
"BLD",6974,"KRN",9.2,0)
9.2
"BLD",6974,"KRN",9.8,0)
9.8
"BLD",6974,"KRN",9.8,"NM",0)
^9.68A^4^4
"BLD",6974,"KRN",9.8,"NM",1,0)
PXCEVFI1^^0^B18122138
"BLD",6974,"KRN",9.8,"NM",2,0)
PXCEVFI2^^0^B34344095
"BLD",6974,"KRN",9.8,"NM",3,0)
PXBAPI22^^0^B6873783
"BLD",6974,"KRN",9.8,"NM",4,0)
PXBAPI21^^0^B26895110
"BLD",6974,"KRN",9.8,"NM","B","PXBAPI21",4)

"BLD",6974,"KRN",9.8,"NM","B","PXBAPI22",3)

"BLD",6974,"KRN",9.8,"NM","B","PXCEVFI1",1)

"BLD",6974,"KRN",9.8,"NM","B","PXCEVFI2",2)

"BLD",6974,"KRN",19,0)
19
"BLD",6974,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",6974,"KRN",19,"NM",1,0)
PXCE ENCOUNTER ENTRY SUPER^^0
"BLD",6974,"KRN",19,"NM","B","PXCE ENCOUNTER ENTRY SUPER",1)

"BLD",6974,"KRN",19.1,0)
19.1
"BLD",6974,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",6974,"KRN",101,0)
101
"BLD",6974,"KRN",101,"NM",0)
^9.68A^^
"BLD",6974,"KRN",409.61,0)
409.61
"BLD",6974,"KRN",771,0)
771
"BLD",6974,"KRN",870,0)
870
"BLD",6974,"KRN",8989.51,0)
8989.51
"BLD",6974,"KRN",8989.51,"NM",0)
^9.68A^^
"BLD",6974,"KRN",8989.52,0)
8989.52
"BLD",6974,"KRN",8994,0)
8994
"BLD",6974,"KRN","B",.4,.4)

"BLD",6974,"KRN","B",.401,.401)

"BLD",6974,"KRN","B",.402,.402)

"BLD",6974,"KRN","B",.403,.403)

"BLD",6974,"KRN","B",.5,.5)

"BLD",6974,"KRN","B",.84,.84)

"BLD",6974,"KRN","B",3.6,3.6)

"BLD",6974,"KRN","B",3.8,3.8)

"BLD",6974,"KRN","B",9.2,9.2)

"BLD",6974,"KRN","B",9.8,9.8)

"BLD",6974,"KRN","B",19,19)

"BLD",6974,"KRN","B",19.1,19.1)

"BLD",6974,"KRN","B",101,101)

"BLD",6974,"KRN","B",409.61,409.61)

"BLD",6974,"KRN","B",771,771)

"BLD",6974,"KRN","B",870,870)

"BLD",6974,"KRN","B",8989.51,8989.51)

"BLD",6974,"KRN","B",8989.52,8989.52)

"BLD",6974,"KRN","B",8994,8994)

"BLD",6974,"QUES",0)
^9.62^^
"BLD",6974,"REQB",0)
^9.611^2^2
"BLD",6974,"REQB",1,0)
PX*1.0*158^2
"BLD",6974,"REQB",2,0)
SD*5.3*495^2
"BLD",6974,"REQB","B","PX*1.0*158",1)

"BLD",6974,"REQB","B","SD*5.3*495",2)

"KRN",19,6335,-1)
0^1
"KRN",19,6335,0)
PXCE ENCOUNTER ENTRY SUPER^PCE Encounter Data Entry - Supervisor^^A^^^^^^^^PCE PATIENT CARE ENCOUNTER^^1^1
"KRN",19,6335,1,0)
^19.06^14^14^3070806^^^^
"KRN",19,6335,1,1,0)
This option allows for the add/edit/deleting of information on certain
"KRN",19,6335,1,2,0)
encounters that most users should not be changing and the other PCE
"KRN",19,6335,1,3,0)
options will not allow to be changed. This option also does not
"KRN",19,6335,1,4,0)
conditionally not ask some fields, i.e. it always ask all of the fields.
"KRN",19,6335,1,5,0)
In addition this option allows users to document a clinical encounter in
"KRN",19,6335,1,6,0)
the V-files (visit related files), and can also delete any V-File
"KRN",19,6335,1,7,0)
encounter entries, even though they are not the creator of the entries.
"KRN",19,6335,1,8,0)
The data entered via this option includes visit information (where and
"KRN",19,6335,1,9,0)
when), and the following clinical data related to the visit: providers of
"KRN",19,6335,1,10,0)
care, problems treated, procedures and treatments done, and immunizations,
"KRN",19,6335,1,11,0)
skin tests, and patient education given.
"KRN",19,6335,1,12,0)
 
"KRN",19,6335,1,13,0)
This option is intended for the Coordinator for PCE and/or supervisor of
"KRN",19,6335,1,14,0)
the encounter data entry staff.
"KRN",19,6335,10.1)
SUP
"KRN",19,6335,15)
K SDSCEDIT
"KRN",19,6335,20)
S SDSCEDIT=1 D EN^PXCE("S")
"KRN",19,6335,99.1)
56179,36316
"KRN",19,6335,"U")
PCE ENCOUNTER DATA ENTRY - SUP
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",413,-1)
1^1
"PKG",413,0)
PCE PATIENT CARE ENCOUNTER^PX^Patient Care Encounter (VA Parent package)^
"PKG",413,20,0)
^9.402P^^
"PKG",413,22,0)
^9.49I^1^1
"PKG",413,22,1,0)
1.0^2960812^2960913^12537
"PKG",413,22,1,"PAH",1,0)
184^3070824
"PKG",413,22,1,"PAH",1,1,0)
^^2^2^3070824
"PKG",413,22,1,"PAH",1,1,1,0)
Please refer to patch PX*1.0*184 in the National Patch Module for a
"PKG",413,22,1,"PAH",1,1,2,0)
complete description of this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","PXBAPI21")
0^4^B26895110
"RTN","PXBAPI21",1,0)
PXBAPI21 ;ISL/DCM - API for Classification check out ; 4/13/05 12:55pm
"RTN","PXBAPI21",2,0)
 ;;1.0;PCE PATIENT CARE ENCOUNTER;**130,147,124,184**;Aug 12, 1996;Build 30
"RTN","PXBAPI21",3,0)
CLASS(ENCOWNTR,DFN,APTDT,LOC,VISIT) ;Edit classification fields
"RTN","PXBAPI21",4,0)
 ; Input  - ENCOWNTR - ien of ^SCE(ien (409.68 Outpatient Encounter file)
"RTN","PXBAPI21",5,0)
 ;          ENCOWNTR optional if DFN,LOC,APTDT params used
"RTN","PXBAPI21",6,0)
 ;          DFN - ien of ^DPT(DFN, (only used if no ENCOWNTR)
"RTN","PXBAPI21",7,0)
 ;          LOC - ien of ^SC(LOC,  (only used if no ENCOWNTR)
"RTN","PXBAPI21",8,0)
 ;          APTDT - Appointment Date/time (only used if no ENCOWNTR)
"RTN","PXBAPI21",9,0)
 ;          VISIT - optional if no ENCOWNTR look for main encounter that
"RTN","PXBAPI21",10,0)
 ;                  points to this visit
"RTN","PXBAPI21",11,0)
 ; Output - PXBDATA(Classification type)=OutPT Class ien^Value
"RTN","PXBAPI21",12,0)
 ;          PXBDATA("ERR",Class type)=1 Bad ptr to 409.41
"RTN","PXBAPI21",13,0)
 ;                                    =2 DATA entry not applicable
"RTN","PXBAPI21",14,0)
 ;                                    =3 DATA entry uneditable
"RTN","PXBAPI21",15,0)
 ;                                    =4 User ^ out of prompt
"RTN","PXBAPI21",16,0)
 ;            Classification type 1 - Agent Orange
"RTN","PXBAPI21",17,0)
 ;                                2 - Ionizing Radiation
"RTN","PXBAPI21",18,0)
 ;                                3 - Service Connected
"RTN","PXBAPI21",19,0)
 ;                                4 - Environmental Contaminants
"RTN","PXBAPI21",20,0)
 ;                                5 - Military Sexual Trauma
"RTN","PXBAPI21",21,0)
 ;                                6 - Head and/or Neck Cancer
"RTN","PXBAPI21",22,0)
 ;                                7 - Combat Veteran
"RTN","PXBAPI21",23,0)
 ;
"RTN","PXBAPI21",24,0)
 ; Ext References: ^SCE(DA,0)              INP^SDAM2
"RTN","PXBAPI21",25,0)
 ;                 REQ^SDM1A               CLINIC^SDAMU
"RTN","PXBAPI21",26,0)
 ;                 EXOE^SDCOU2             CLOE^SDCO21
"RTN","PXBAPI21",27,0)
 ;                 SEQ^SDCO21              CL^SDCO21
"RTN","PXBAPI21",28,0)
 ;   In ^PXBAPI22
"RTN","PXBAPI21",29,0)
 ;                 ^DG(43,1,"SCLR")  piece 24
"RTN","PXBAPI21",30,0)
 ;                 ^SD(409.41,DA,0)        ^SD(409.41,DA,2)
"RTN","PXBAPI21",31,0)
 ;                 VAL^SDCODD              SC^SDCO23
"RTN","PXBAPI21",32,0)
 I $G(ENCOWNTR)'>0,$G(VISIT)>0 D SC^PXCEVFI2($P(^AUPNVSIT(VISIT,0),U,5)) D
"RTN","PXBAPI21",33,0)
 . S ENCOWNTR=$O(^SCE("AVSIT",VISIT,0))
"RTN","PXBAPI21",34,0)
 . I ENCOWNTR,$P(^SCE(ENCOWNTR,0),"^",6) S ENCOWNTR=$P(^SCE(ENCOWNTR,0),"^",6)
"RTN","PXBAPI21",35,0)
 N IEN,IFN,SDCLOEY,ORG,END,DA,X,SQUIT
"RTN","PXBAPI21",36,0)
 I $G(ENCOWNTR) Q:'$D(^SCE(+ENCOWNTR,0))  N APTDT,DFN,LOC S END=0,X0=^(0) D ENCHK(ENCOWNTR,X0) Q:END  G ON
"RTN","PXBAPI21",37,0)
 Q:'$G(DFN)!'$G(LOC)!'$G(APTDT)
"RTN","PXBAPI21",38,0)
 D SC^PXCEVFI2(DFN)
"RTN","PXBAPI21",39,0)
 S X=$G(^DPT(DFN,"S",APTDT,0))
"RTN","PXBAPI21",40,0)
 I +X,+X=LOC,$P(X,"^",20),$D(^SCE($P(X,"^",20),0)) S ENCOWNTR=$P(X,"^",20),END=0,X0=^(0) D ENCHK(ENCOWNTR,X0) Q:END  G ON
"RTN","PXBAPI21",41,0)
 S END=0 D OPCHK(DFN,LOC,APTDT) I END Q
"RTN","PXBAPI21",42,0)
ON D ASKCL($G(ENCOWNTR),.SDCLOEY,DFN,APTDT)
"RTN","PXBAPI21",43,0)
 I '$D(SDCLOEY) Q
"RTN","PXBAPI21",44,0)
 I $G(PXCECAT)="POV" D
"RTN","PXBAPI21",45,0)
 .I $P($G(PXCEAFTR(800)),"^",1)]"",$D(SDCLOEY(3)) S $P(SDCLOEY(3),"^",2)=$P(PXCEAFTR(800),"^",1)
"RTN","PXBAPI21",46,0)
 .I $P($G(PXCEAFTR(800)),"^",2)]"",$D(SDCLOEY(1)) S $P(SDCLOEY(1),"^",2)=$P(PXCEAFTR(800),"^",2)
"RTN","PXBAPI21",47,0)
 .I $P($G(PXCEAFTR(800)),"^",3)]"",$D(SDCLOEY(2)) S $P(SDCLOEY(2),"^",2)=$P(PXCEAFTR(800),"^",3)
"RTN","PXBAPI21",48,0)
 .I $P($G(PXCEAFTR(800)),"^",4)]"",$D(SDCLOEY(4)) S $P(SDCLOEY(4),"^",2)=$P(PXCEAFTR(800),"^",4)
"RTN","PXBAPI21",49,0)
 .I $P($G(PXCEAFTR(800)),"^",5)]"",$D(SDCLOEY(5)) S $P(SDCLOEY(5),"^",2)=$P(PXCEAFTR(800),"^",5)
"RTN","PXBAPI21",50,0)
 .I $P($G(PXCEAFTR(800)),"^",6)]"",$D(SDCLOEY(6)) S $P(SDCLOEY(6),"^",2)=$P(PXCEAFTR(800),"^",6)
"RTN","PXBAPI21",51,0)
 .I $P($G(PXCEAFTR(800)),"^",7)]"",$D(SDCLOEY(7)) S $P(SDCLOEY(7),"^",2)=$P(PXCEAFTR(800),"^",7)
"RTN","PXBAPI21",52,0)
 I $D(SDCLOEY) D ASK($G(ENCOWNTR),.SDCLOEY,.SQUIT) Q:$D(SQUIT)
"RTN","PXBAPI21",53,0)
 Q
"RTN","PXBAPI21",54,0)
ASKCL(ENCOWNTR,SDCLOEY,DFN,APTDT) ;Ask classifications on check out
"RTN","PXBAPI21",55,0)
 I $G(ENCOWNTR) D CLOE^SDCO21(ENCOWNTR,.SDCLOEY) Q
"RTN","PXBAPI21",56,0)
 D CL^SDCO21(DFN,APTDT,"",.SDCLOEY)
"RTN","PXBAPI21",57,0)
 Q
"RTN","PXBAPI21",58,0)
ASK(ENCOWNTR,SDCLOEY,SQUIT) ;Ask classifications
"RTN","PXBAPI21",59,0)
 N I,IOINHI,IOINORM,TYPI,TYPSEQ,CTS,X,PXVST
"RTN","PXBAPI21",60,0)
 S X="IOINHI;IOINORM" D ENDR^%ZISS
"RTN","PXBAPI21",61,0)
 I '$D(SDCLOEY) Q
"RTN","PXBAPI21",62,0)
 W !!,"--- ",IOINHI,"Classification",IOINORM," --- [",IOINHI,"Required",IOINORM,"]"
"RTN","PXBAPI21",63,0)
 W ! S TYPSEQ=$$SEQ^SDCO21 ;Get classification type sequence (3,1,2,4,5,6,7)
"RTN","PXBAPI21",64,0)
 F CTS=1:1 S TYPI=+$P(TYPSEQ,",",CTS) Q:'TYPI!($D(SQUIT))  D
"RTN","PXBAPI21",65,0)
 .I $D(SDCLOEY(TYPI)) D
"RTN","PXBAPI21",66,0)
 ..S PXVST=$P($G(X0),U,5) I 'PXVST,($G(PXCECAT)="VST")!($G(PXCECAT)="SIT") Q
"RTN","PXBAPI21",67,0)
 ..I $G(PXCECAT)="VST",TYPI=3,($P($G(^AUPNVSIT(PXVST,800)),U,11)="1")  Q
"RTN","PXBAPI21",68,0)
 ..I $G(PXCECAT)="VST",TYPI=1,($P($G(^AUPNVSIT(PXVST,800)),U,12)="1")  Q
"RTN","PXBAPI21",69,0)
 ..I $G(PXCECAT)="VST",TYPI=2,($P($G(^AUPNVSIT(PXVST,800)),U,13)="1")  Q
"RTN","PXBAPI21",70,0)
 ..I $G(PXCECAT)="VST",TYPI=4,($P($G(^AUPNVSIT(PXVST,800)),U,14)="1")  Q
"RTN","PXBAPI21",71,0)
 ..I $G(PXCECAT)="VST",TYPI=5,($P($G(^AUPNVSIT(PXVST,800)),U,15)="1")  Q
"RTN","PXBAPI21",72,0)
 ..I $G(PXCECAT)="VST",TYPI=6,($P($G(^AUPNVSIT(PXVST,800)),U,16)="1")  Q
"RTN","PXBAPI21",73,0)
 ..I $G(PXCECAT)="VST",TYPI=7,($P($G(^AUPNVSIT(PXVST,800)),U,17)="1")  Q
"RTN","PXBAPI21",74,0)
 ..D ONE^PXBAPI22(TYPI,SDCLOEY(TYPI),ENCOWNTR,.SQUIT)
"RTN","PXBAPI21",75,0)
 ..I TYPI=3 F I=1,2,4 S:$D(SDCLOEY(I))&($P($G(PXBDATA(3)),"^",2)=1) $P(SDCLOEY(I),"^",3)=1 S:$P($G(PXBDATA(3)),"^",2)=0&('$D(SDCLOEY(I))) SDCLOEY(I)=""
"RTN","PXBAPI21",76,0)
 I $P($G(PXBDATA(3)),"^",2)'="" D
"RTN","PXBAPI21",77,0)
 .N END
"RTN","PXBAPI21",78,0)
 .S END=0
"RTN","PXBAPI21",79,0)
 .F CTS=1:1 S TYPI=+$P(TYPSEQ,",",CTS) Q:'TYPI  I TYPI'=3 D
"RTN","PXBAPI21",80,0)
 ..I $P($G(PXBDATA(TYPI)),"^",2)'="" S END=1 Q
"RTN","PXBAPI21",81,0)
 .I 'END H 1
"RTN","PXBAPI21",82,0)
 Q
"RTN","PXBAPI21",83,0)
ENCHK(ENCOWNTR,X0) ;Do outpatient encounter checks
"RTN","PXBAPI21",84,0)
 S APTDT=+X0,DFN=$P(X0,"^",2),LOC=$P(X0,"^",4),ORG=$P(X0,"^",8),DA=$P(X0,"^",9)
"RTN","PXBAPI21",85,0)
 I +$G(VADM(6)),+$G(VADM(6))<APTDT D  K DIR I $D(DIRUT) S (PXDOD,END)=1 Q
"RTN","PXBAPI21",86,0)
 . S DIR(0)="E",DIR("A")="Enter RETURN to continue or '^' to Quit"
"RTN","PXBAPI21",87,0)
 . S DIR("A",2)="WARNING "_VADM(7),DIR("A",1)=" ",DIR("A",3)=" " D ^DIR
"RTN","PXBAPI21",88,0)
 I $$REQ^SDM1A(+X0)'="CO" S END=1 Q  ;Check MAS Check out date parameter
"RTN","PXBAPI21",89,0)
 I ORG=1,'$$CLINIC^SDAMU(+LOC) S END=1 Q  ;Screen for valid clinic
"RTN","PXBAPI21",90,0)
 I "^1^2^"[("^"_ORG_"^"),$$INP^SDAM2(+DFN,+X0)="I" S END=1 Q  ;Inpat chk
"RTN","PXBAPI21",91,0)
 I $$EXOE^SDCOU2(ENCOWNTR) S END=1 Q  ;Chk exempt Outpt classifications
"RTN","PXBAPI21",92,0)
 Q
"RTN","PXBAPI21",93,0)
OPCHK(DFN,LOC,APTDT) ;Do standalone outpatient encounter checks
"RTN","PXBAPI21",94,0)
 I +$G(VADM(6)),+$G(VADM(6))<APTDT D  K DIR I $D(DIRUT) S (PXDOD,END)=1 Q
"RTN","PXBAPI21",95,0)
 . S DIR(0)="E",DIR("A")="Enter RETURN to continue or '^' to Quit"
"RTN","PXBAPI21",96,0)
 . S DIR("A",2)="WARNING "_VADM(7),DIR("A",1)=" ",DIR("A",3)=" " D ^DIR
"RTN","PXBAPI21",97,0)
 I $$REQ^SDM1A(APTDT)'="CO" S END=1 Q  ;Check MAS Check out date parameter
"RTN","PXBAPI21",98,0)
 I '$$CLINIC^SDAMU(+LOC) S END=1 Q  ;Screen for valid clinic
"RTN","PXBAPI21",99,0)
 I $$INP^SDAM2(+DFN,APTDT)="I" S END=1 Q  ;Inpat chk
"RTN","PXBAPI21",100,0)
 Q
"RTN","PXBAPI21",101,0)
TEST ;Test call to CLASS
"RTN","PXBAPI21",102,0)
 N PXIFN S PXIFN=63
"RTN","PXBAPI21",103,0)
 F  S PXIFN=$O(^SCE(PXIFN)) Q:PXIFN<1  S DFN=$P(^(PXIFN,0),"^",2) K PXBDATA W !!,PXIFN_"   "_$P(^DPT(DFN,0),"^") D  S %=1 W !,"Continue " D YN^DICN Q:%'=1
"RTN","PXBAPI21",104,0)
 . D CLASS(PXIFN)
"RTN","PXBAPI21",105,0)
 . ;W ! ZW PXBDATA
"RTN","PXBAPI21",106,0)
 Q
"RTN","PXBAPI22")
0^3^B6873783
"RTN","PXBAPI22",1,0)
PXBAPI22 ;ISL/DCM - API for Classification check out ; 16 Oct 2006  9:42 PM
"RTN","PXBAPI22",2,0)
 ;;1.0;PCE PATIENT CARE ENCOUNTER;**1,26,184**;Aug 12, 1996;Build 30
"RTN","PXBAPI22",3,0)
ONE(TYPI,DATA,ENCOWNTR,SQUIT) ;Process One Classification
"RTN","PXBAPI22",4,0)
 ; Input  -- TYPI    Outpatient Classification Type IEN
"RTN","PXBAPI22",5,0)
 ;           DATA    Null or 409.42 IEN^Internal Value^1=n/a^1=unedt
"RTN","PXBAPI22",6,0)
 ;           ENCOWNTR     Outpatient Encounter file IEN (optional)
"RTN","PXBAPI22",7,0)
 ; Output -- SQUIT User entered '^' or timeout
"RTN","PXBAPI22",8,0)
 N SDCT0,SDVAL
"RTN","PXBAPI22",9,0)
 S SDCT0=$G(^SD(409.41,TYPI,0)) I SDCT0']"" S PXBDATA("ERR",TYPI)=1 Q  ;Bad entry
"RTN","PXBAPI22",10,0)
 I $P(DATA,"^",3) D:DATA  S PXBDATA("ERR",TYPI)=2 Q  ;Not applicable
"RTN","PXBAPI22",11,0)
 .W !,$C(7),">>> "_$P(SDCT0,"^",6)_" is no longer applicable..."
"RTN","PXBAPI22",12,0)
 .S DA=+DATA,DIK="^SDD(409.42," D ^DIK W "deleted."
"RTN","PXBAPI22",13,0)
 I DATA,$P(DATA,"^",4) D  S PXBDATA("ERR",TYPI)=3 Q  ;Uneditable data
"RTN","PXBAPI22",14,0)
 . W !,$P(SDCT0,"^",6)_": "_$$VAL^SDCODD(TYPI,$P(DATA,"^",2))_"  <Uneditable>"
"RTN","PXBAPI22",15,0)
 S SDVAL=$$VAL(TYPI,SDCT0,DATA) ;Get field value
"RTN","PXBAPI22",16,0)
 I SDVAL="^" S SQUIT="",PXBDATA("ERR",TYPI)=4 Q  ;user ^ out
"RTN","PXBAPI22",17,0)
 D STORE(+DATA,SDVAL,TYPI)
"RTN","PXBAPI22",18,0)
 Q
"RTN","PXBAPI22",19,0)
VAL(TYPI,SDCT0,DATA) ;Get Outpatient Classification
"RTN","PXBAPI22",20,0)
 N DIR,DA,Y,SDXS,SDEF
"RTN","PXBAPI22",21,0)
 I TYPI=1,$P($G(^DPT(DFN,.321)),"^",2)'="Y" G VALQ
"RTN","PXBAPI22",22,0)
 I TYPI=2,$P($G(^DPT(DFN,.321)),"^",3)'="Y" G VALQ
"RTN","PXBAPI22",23,0)
 I TYPI=4,$P($G(^DPT(DFN,.322)),"^",13)'="Y",'$$EC^SDCO22(DFN,ENCOWNTR) G VALQ
"RTN","PXBAPI22",24,0)
 I TYPI=3,$P($G(^SCE(+$G(ENCOWNTR),0)),"^",10)=2 S Y=1 G VALQ ;Change SC to 'yes'
"RTN","PXBAPI22",25,0)
 ;Automation of the SC response
"RTN","PXBAPI22",26,0)
 I TYPI=3,(+$G(PXD)!(+$G(PXDX))) D  I Y'="",'$G(SDSCEDIT) G VALQ
"RTN","PXBAPI22",27,0)
 .S SDXS($S(+$G(PXD):+PXD,1:+$G(PXDX)))=""
"RTN","PXBAPI22",28,0)
 .S Y=$$SC^SDSCAPI(DFN,.SDXS,ENCOWNTR,$G(VISIT)) Q:Y=""
"RTN","PXBAPI22",29,0)
 .S Y=+Y,SDEF=$S(Y:"YES",1:"NO")
"RTN","PXBAPI22",30,0)
 .I '$G(SDSCEDIT) D
"RTN","PXBAPI22",31,0)
 ..W !,$S($P(SDCT0,"^",2)]"":$P(SDCT0,"^",2),1:$P(SDCT0,"^")),"? "
"RTN","PXBAPI22",32,0)
 ..W $S(Y:"YES",1:"NO")
"RTN","PXBAPI22",33,0)
REASK S DIR("A")=$S($P(SDCT0,"^",2)]"":$P(SDCT0,"^",2),1:$P(SDCT0,"^"))
"RTN","PXBAPI22",34,0)
 I $P(DATA,"^",2)]""!($P(SDCT0,"^",4)]"") S DIR("B")=$S($D(SDEF):SDEF,$P(DATA,"^",2)]"":$$VAL^SDCODD(TYPI,$P(DATA,"^",2)),1:$P(SDCT0,"^",4))
"RTN","PXBAPI22",35,0)
 S DIR(0)=$P(SDCT0,"^",3)_"O" S:$D(SDEF) DIR("B")=SDEF
"RTN","PXBAPI22",36,0)
 I $D(^SD(409.41,TYPI,2)) S DIR(0)=DIR(0)_"^"_^(2)
"RTN","PXBAPI22",37,0)
 I TYPI=3 S DIR("?")="^D SC^SDCO23(DFN)"
"RTN","PXBAPI22",38,0)
 D ^DIR
"RTN","PXBAPI22",39,0)
 I $P(SDCT0,"^",5),'$D(DTOUT),$P(DATA,"^",2)="",Y=""!(Y["^"&('$P($G(^DG(43,1,"SCLR")),"^",24))) D  G REASK
"RTN","PXBAPI22",40,0)
 .W !,$C(7),"This is a required response." W:Y["^" "  An '^' is not allowed."
"RTN","PXBAPI22",41,0)
 .K DIRUT,DUOUT
"RTN","PXBAPI22",42,0)
 I $D(DIRUT) S Y="^"
"RTN","PXBAPI22",43,0)
VALQ K DIRUT,DTOUT,DUOUT
"RTN","PXBAPI22",44,0)
 Q $G(Y)
"RTN","PXBAPI22",45,0)
 ;
"RTN","PXBAPI22",46,0)
STORE(SDCNI,SDCNV,TYPI) ;File Outpatient Classification
"RTN","PXBAPI22",47,0)
 ; Input  -- SDCNI    Outpatient Classification IEN
"RTN","PXBAPI22",48,0)
 ;           SDCNV    Outpatient Classification Value
"RTN","PXBAPI22",49,0)
 ;           TYPI    Classification type 1 - Agent Orange
"RTN","PXBAPI22",50,0)
 ;                                        2 - Ionizing Radiation
"RTN","PXBAPI22",51,0)
 ;                                        3 - Service Connected
"RTN","PXBAPI22",52,0)
 ;                                        4 - Environmental Contaminants
"RTN","PXBAPI22",53,0)
 ; Output -- PXBDATA array
"RTN","PXBAPI22",54,0)
 ; Error codes -- PXBDATA("ERR",TYPI)=1 - Bad ptr to 409.41 in TYPI
"RTN","PXBAPI22",55,0)
 ;                                  2 - DATA entry not applicable
"RTN","PXBAPI22",56,0)
 ;                                  3 - DATA entry uneditable
"RTN","PXBAPI22",57,0)
 ;                                  4 - User ^ out of prompt
"RTN","PXBAPI22",58,0)
 S PXBDATA(TYPI)=SDCNI_"^"_SDCNV
"RTN","PXBAPI22",59,0)
 Q
"RTN","PXCEVFI1")
0^1^B18122138
"RTN","PXCEVFI1",1,0)
PXCEVFI1 ;ISL/dee,esw - Routine to edit a visit or v-file entry ;8/3/04 10:32am
"RTN","PXCEVFI1",2,0)
 ;;1.0;PCE PATIENT CARE ENCOUNTER;**23,73,112,136,143,124,184**;Aug 12, 1996;Build 30
"RTN","PXCEVFI1",3,0)
 Q
"RTN","PXCEVFI1",4,0)
 ;
"RTN","PXCEVFI1",5,0)
EDIT ; -- edit the V-File stored in "AFTER"
"RTN","PXCEVFI1",6,0)
 N DIR,DA,X,Y,C,PXCEINP,PXCEIN01,PXCEEND,PXD
"RTN","PXCEVFI1",7,0)
 N PXCELINE,PXCETEXT,PXCEDIRB,PXCEMOD
"RTN","PXCEVFI1",8,0)
 N PXCEKEY,PXCEIKEY,PXCENKEY,PXMDCNT
"RTN","PXCEVFI1",9,0)
 W !
"RTN","PXCEVFI1",10,0)
 G:PXCECAT="VST"!(PXCECAT="APPM")!(PXCECAT="CSTP") REST
"RTN","PXCEVFI1",11,0)
 ;
"RTN","PXCEVFI1",12,0)
EDIT01 ;
"RTN","PXCEVFI1",13,0)
 I PXCECAT="CPT"!(PXCECAT="POV")!(PXCECAT="SK")!(PXCECAT="IMM") D SC^PXCEVFI2($P(^AUPNVSIT(PXCEVIEN,0),U,5))
"RTN","PXCEVFI1",14,0)
 S PXCETEXT=$P($T(FORMAT+1^@PXCECODE),";;",2)
"RTN","PXCEVFI1",15,0)
 K DIR,DA,X,Y,C,PXCEDIRB
"RTN","PXCEVFI1",16,0)
 I $P(PXCEAFTR(0),"^",1) D
"RTN","PXCEVFI1",17,0)
 . N DIEER,PXCEDILF,PXCEEXT
"RTN","PXCEVFI1",18,0)
 . S PXCEEXT=$$EXTERNAL^DILFD(PXCEFILE,.01,"",$P(PXCEAFTR(0),"^",1),"PXCEDILF")
"RTN","PXCEVFI1",19,0)
 . S PXCEDIRB=$S('$D(DIERR):PXCEEXT,1:$P(PXCEAFTR(0),"^",1))
"RTN","PXCEVFI1",20,0)
 E  S PXCEDIRB=""
"RTN","PXCEVFI1",21,0)
 I $P(PXCETEXT,"~",7)]"" D
"RTN","PXCEVFI1",22,0)
 . D @$P(PXCETEXT,"~",7)
"RTN","PXCEVFI1",23,0)
 E  D
"RTN","PXCEVFI1",24,0)
 . I PXCEDIRB'="" S DIR("B")=PXCEDIRB
"RTN","PXCEVFI1",25,0)
 . S DIR(0)=PXCEFILE_",.01OA"
"RTN","PXCEVFI1",26,0)
 . S DIR("A")=$P(PXCETEXT,"~",4)
"RTN","PXCEVFI1",27,0)
 . S:$P(PXCETEXT,"~",8)]"" DIR("?")=$P(PXCETEXT,"~",8)
"RTN","PXCEVFI1",28,0)
 . D ^DIR
"RTN","PXCEVFI1",29,0)
 I X="@" D  G ENDEDIT
"RTN","PXCEVFI1",30,0)
 . N DIRUT
"RTN","PXCEVFI1",31,0)
 . I $P(PXCEAFTR(0),"^",1)="" D
"RTN","PXCEVFI1",32,0)
 .. W !,"There is no entry to delete."
"RTN","PXCEVFI1",33,0)
 .. D WAIT^PXCEHELP
"RTN","PXCEVFI1",34,0)
 . E  D DEL^PXCEVFI2(PXCECAT)
"RTN","PXCEVFI1",35,0)
 I $D(DIRUT),$P(PXCEAFTR(0),"^",1)="" S PXCELOOP=1
"RTN","PXCEVFI1",36,0)
 I $D(DIRUT) S PXCEQUIT=1 Q
"RTN","PXCEVFI1",37,0)
 S (PXCEINP,PXD)=Y
"RTN","PXCEVFI1",38,0)
 S PXCEIN01=X
"RTN","PXCEVFI1",39,0)
 I $P(Y,"^",2)'=PXCEDIRB,$$DUP(PXCEINP) G EDIT01
"RTN","PXCEVFI1",40,0)
 ;--File new CPT code and retrieve IEN
"RTN","PXCEVFI1",41,0)
 I PXCECAT="CPT" D
"RTN","PXCEVFI1",42,0)
 . S PXMDCNT=$$CODM^ICPTCOD(+Y,"^TMP(""PXMODARR"",$J",PXCESOR,+^TMP("PXK",$J,"VST",1,0,"AFTER"))
"RTN","PXCEVFI1",43,0)
 . K ^TMP("PXMODARR",$J)
"RTN","PXCEVFI1",44,0)
 . I $P(PXCEAFTR(0),"^",1)'=""!(PXMDCNT'>0) Q
"RTN","PXCEVFI1",45,0)
 . N PXCEFIEN
"RTN","PXCEVFI1",46,0)
 . D NEWCODE^PXCECPT
"RTN","PXCEVFI1",47,0)
 . S ^TMP("PXK",$J,PXCECATS,1,"IEN")=PXCEFIEN
"RTN","PXCEVFI1",48,0)
 I PXCECAT="PRV",$P(PXCEAFTR(0),"^",1)>0,PXCEDIRB]"" S $P(PXCEAFTR(0),"^",6)=""
"RTN","PXCEVFI1",49,0)
 S $P(PXCEAFTR(0),"^",1)=$P(PXCEINP,"^")
"RTN","PXCEVFI1",50,0)
 K DIR,DA
"RTN","PXCEVFI1",51,0)
 ;
"RTN","PXCEVFI1",52,0)
 ;
"RTN","PXCEVFI1",53,0)
REST S PXCEEND=0
"RTN","PXCEVFI1",54,0)
 F PXCELINE=2:1 S PXCETEXT=$P($T(FORMAT+PXCELINE^@PXCECODE),";;",2) Q:PXCETEXT']""  D  Q:PXCEEND
"RTN","PXCEVFI1",55,0)
 . I $P(PXCETEXT,"~",9)]"",$P(PXCETEXT,"~",3)'=80201 S PXCEKEY="" D  Q:PXCEKEY'=1
"RTN","PXCEVFI1",56,0)
 .. S PXCENKEY=$L($P(PXCETEXT,"~",9))
"RTN","PXCEVFI1",57,0)
 .. F PXCEIKEY=1:1:PXCENKEY I PXCEKEYS[$E($P(PXCETEXT,"~",9),PXCEIKEY) S PXCEKEY=1 Q
"RTN","PXCEVFI1",58,0)
 . K DIR,DA,X,Y,C
"RTN","PXCEVFI1",59,0)
 . I $P(PXCETEXT,"~",7)]"" D
"RTN","PXCEVFI1",60,0)
 .. D @$P(PXCETEXT,"~",7)
"RTN","PXCEVFI1",61,0)
 . E  D
"RTN","PXCEVFI1",62,0)
 .. I $P(PXCEAFTR($P(PXCETEXT,"~",1)),"^",$P(PXCETEXT,"~",2))'="" D
"RTN","PXCEVFI1",63,0)
 ... N DIERR,PXCEDILF,PXCEINT,PXCEEXT
"RTN","PXCEVFI1",64,0)
 ... S PXCEINT=$P(PXCEAFTR($P(PXCETEXT,"~",1)),"^",$P(PXCETEXT,"~",2))
"RTN","PXCEVFI1",65,0)
 ... S PXCEEXT=$$EXTERNAL^DILFD(PXCEFILE,$P(PXCETEXT,"~",3),"",PXCEINT,"PXCEDILF")
"RTN","PXCEVFI1",66,0)
 ... S DIR("B")=$S('$D(DIERR):PXCEEXT,1:PXCEINT)
"RTN","PXCEVFI1",67,0)
 .. S DIR(0)=PXCEFILE_","_$P(PXCETEXT,"~",3)_"A"
"RTN","PXCEVFI1",68,0)
 .. S DIR("A")=$P(PXCETEXT,"~",4)
"RTN","PXCEVFI1",69,0)
 .. S:$P(PXCETEXT,"~",8)]"" DIR("?")=$P(PXCETEXT,"~",8)
"RTN","PXCEVFI1",70,0)
 .. D ^DIR
"RTN","PXCEVFI1",71,0)
 .. K DIR,DA
"RTN","PXCEVFI1",72,0)
 .. I X="@" S Y="@"
"RTN","PXCEVFI1",73,0)
 .. E  I $D(DTOUT)!$D(DUOUT) S PXCEEND=1 S:PXCECAT="SIT"!(PXCECAT="APPM")!(PXCECAT="HIST")!(PXCECAT="CPT") PXCEQUIT=1 Q
"RTN","PXCEVFI1",74,0)
 .. S $P(PXCEAFTR($P(PXCETEXT,"~",1)),"^",$P(PXCETEXT,"~",2))=$P(Y,"^")
"RTN","PXCEVFI1",75,0)
 . I ($P(PXCETEXT,"~",3)=1202!($P(PXCETEXT,"~",3)=1204)) D:+Y>0 PROVIDER^PXCEVFI4(+Y)
"RTN","PXCEVFI1",76,0)
 ;
"RTN","PXCEVFI1",77,0)
ENDEDIT ;
"RTN","PXCEVFI1",78,0)
 Q
"RTN","PXCEVFI1",79,0)
 ;
"RTN","PXCEVFI1",80,0)
DUP(PXCEINP) ; -- Check for dup entries.
"RTN","PXCEVFI1",81,0)
 Q:PXCECAT="SIT"!(PXCECAT="APPM")!(PXCECAT="HIST") 0
"RTN","PXCEVFI1",82,0)
 ;
"RTN","PXCEVFI1",83,0)
 N PXCEDUP,PXCEINDX,X,Y
"RTN","PXCEVFI1",84,0)
 S PXCEDUP=0
"RTN","PXCEVFI1",85,0)
 S PXCEINDX=""
"RTN","PXCEVFI1",86,0)
 F  S PXCEINDX=$O(@(PXCEAUPN_"(""AD"",PXCEVIEN,PXCEINDX)")) Q:'PXCEINDX!PXCEDUP  S:+@(PXCEAUPN_"(PXCEINDX,0)")=+PXCEINP&(PXCEINDX'=PXCEFIEN) PXCEDUP=1
"RTN","PXCEVFI1",87,0)
 I PXCEDUP D
"RTN","PXCEVFI1",88,0)
 . I PXCEDUP
"RTN","PXCEVFI1",89,0)
 . W !,$P(PXCEINP,"^",2)," is already a "_PXCECATT_" for this Encounter."
"RTN","PXCEVFI1",90,0)
 . I PXCECAT="POV" W !!,"Duplicate Diagnosis Not Allowed." Q  ;PX/112
"RTN","PXCEVFI1",91,0)
 . I PXCECAT="CPT",$$GET1^DIQ(357.69,$P(PXCEINP,"^",2),.01)>0 D  Q
"RTN","PXCEVFI1",92,0)
 . . W !,"No duplicate E&M codes allowed."   ;PX/136
"RTN","PXCEVFI1",93,0)
 . I $P($T(FORMAT^@PXCECODE),"~",4) D
"RTN","PXCEVFI1",94,0)
 .. N DIR,DA
"RTN","PXCEVFI1",95,0)
 .. S DIR(0)="Y"
"RTN","PXCEVFI1",96,0)
 .. S DIR("A")="Do you want to add another "_$P(PXCEINP,"^",2)_""
"RTN","PXCEVFI1",97,0)
 .. S DIR("B")="NO"
"RTN","PXCEVFI1",98,0)
 .. D ^DIR
"RTN","PXCEVFI1",99,0)
 .. S PXCEDUP='+Y
"RTN","PXCEVFI1",100,0)
 Q PXCEDUP
"RTN","PXCEVFI1",101,0)
 ;
"RTN","PXCEVFI2")
0^2^B34344095
"RTN","PXCEVFI2",1,0)
PXCEVFI2 ;ISL/dee,ESW - Supporting routines for editing a visit or v-file entry ; 4/24/07 4:27pm
"RTN","PXCEVFI2",2,0)
 ;;1.0;PCE PATIENT CARE ENCOUNTER;**22,73,95,96,124,158,184**;Aug 12, 1996;Build 30
"RTN","PXCEVFI2",3,0)
 ;
"RTN","PXCEVFI2",4,0)
 Q
"RTN","PXCEVFI2",5,0)
ASK(PXCVIEN,PXCFIEN,PXCEAUPN,PXCCATT,PXCCODE) ; -- Display a selection list from one V-File for this visit
"RTN","PXCEVFI2",6,0)
 N PXCEINDX,PXCECNT,PXCEASK,PXCEREF
"RTN","PXCEVFI2",7,0)
 N DIR,DA,X,Y
"RTN","PXCEVFI2",8,0)
 S PXCEINDX=""
"RTN","PXCEVFI2",9,0)
 F PXCECNT=0:1 S PXCEINDX=$O(@(PXCEAUPN_"(""AD"",PXCVIEN,PXCEINDX)")) Q:'PXCEINDX  D
"RTN","PXCEVFI2",10,0)
 . I PXCECNT=0&(PXCCATT="Diagnosis") D SC($P(^AUPNVSIT(PXCEVIEN,0),U,5))
"RTN","PXCEVFI2",11,0)
 . I PXCECNT=0&(PXCCATT="CPT") D SC($P(^AUPNVSIT(PXCEVIEN,0),U,5))
"RTN","PXCEVFI2",12,0)
 . W:PXCECNT=0 !!,"--- "_PXCCATT_" ---",!
"RTN","PXCEVFI2",13,0)
 . S PXCEASK(PXCECNT+1)=PXCEINDX
"RTN","PXCEVFI2",14,0)
 . W !,$J(PXCECNT+1,3),?6,@("$$DISPLY01^"_PXCCODE_"("_PXCEAUPN_"(PXCEINDX,0))")
"RTN","PXCEVFI2",15,0)
 Q:PXCECNT'>0
"RTN","PXCEVFI2",16,0)
ASKLOOP S DIR(0)="FAO^1:"_$L(PXCECNT)
"RTN","PXCEVFI2",17,0)
 S DIR("A")="Enter 1-"_PXCECNT_" to Edit, or 'A' to Add: "
"RTN","PXCEVFI2",18,0)
 S DIR("?")="Enter the number of the "_PXCCATT_" you wish to edit or A to add a new "_PXCCATT_"."
"RTN","PXCEVFI2",19,0)
 D ^DIR
"RTN","PXCEVFI2",20,0)
 K DIR,DA
"RTN","PXCEVFI2",21,0)
 I $D(DIRUT) S PXCEQUIT=1 Q
"RTN","PXCEVFI2",22,0)
 Q:"Aa"[Y
"RTN","PXCEVFI2",23,0)
 G:Y<1!(Y>PXCECNT) ASKLOOP
"RTN","PXCEVFI2",24,0)
 G:$G(PXCEASK(Y))'>0 ASKLOOP
"RTN","PXCEVFI2",25,0)
 S PXCFIEN=$G(PXCEASK(Y))
"RTN","PXCEVFI2",26,0)
 Q
"RTN","PXCEVFI2",27,0)
 ;
"RTN","PXCEVFI2",28,0)
SAVE ; -- Save this edited and quit editing.
"RTN","PXCEVFI2",29,0)
 I PXCECAT="CSTP" S PXCEFIEN=$$STOPCODE^PXUTLSTP(PXCESOR,$P(PXCEAFTR(0),"^",8),PXCEVIEN)
"RTN","PXCEVFI2",30,0)
 E  D
"RTN","PXCEVFI2",31,0)
 . N PXCENODS,PXCEFOR,PXCENODE,PXCESEQ
"RTN","PXCEVFI2",32,0)
 . S PXCENODS=$P($T(FORMAT^@PXCECODE),"~",3)
"RTN","PXCEVFI2",33,0)
 . F PXCEFOR=1:1 S PXCENODE=$P(PXCENODS,",",PXCEFOR) Q:PXCENODE']""  D
"RTN","PXCEVFI2",34,0)
 .. I PXCENODE=1,PXCECATS="CPT" D  Q
"RTN","PXCEVFI2",35,0)
 ... S PXCESEQ=""
"RTN","PXCEVFI2",36,0)
 ... F  S PXCESEQ=$O(PXCEAFTR(PXCENODE,PXCESEQ)) Q:PXCESEQ=""  D
"RTN","PXCEVFI2",37,0)
 .... S ^TMP("PXK",$J,PXCECATS,1,PXCENODE,PXCESEQ,"AFTER")=PXCEAFTR(PXCENODE,PXCESEQ)
"RTN","PXCEVFI2",38,0)
 .. S ^TMP("PXK",$J,PXCECATS,1,PXCENODE,"AFTER")=PXCEAFTR(PXCENODE)
"RTN","PXCEVFI2",39,0)
 . I PXCECAT="SK",$G(^TMP("PXK",$J,PXCECATS,1,"IEN"))]"" D SAVE^PXCESK
"RTN","PXCEVFI2",40,0)
 . D EN1^PXKMAIN
"RTN","PXCEVFI2",41,0)
 . I PXCECAT="SIT"!(PXCECAT="APPM")!(PXCECAT="HIST") S PXCEVIEN=^TMP("PXK",$J,"VST",1,"IEN")
"RTN","PXCEVFI2",42,0)
 Q
"RTN","PXCEVFI2",43,0)
 ;
"RTN","PXCEVFI2",44,0)
DEL(PXCECAT) ; -- Delete this V-File entry from the List if all the visit information.
"RTN","PXCEVFI2",45,0)
 I PXCEFIEN'>0!(PXCEVIEN'>0) W !!,$C(7),"Error: Cannot delete this an unknown V-File entry." D PAUSE^PXCEHELP Q
"RTN","PXCEVFI2",46,0)
 I PXCEKEYS'["D",PXCEKEYS'["d" W !!,$C(7),"Error: You do not have delete access." D PAUSE^PXCEHELP Q
"RTN","PXCEVFI2",47,0)
 ;
"RTN","PXCEVFI2",48,0)
 N PXCENODS,PXCEFOR,PXCENODE,PXCECATS,PXCECATT,PXCECODE,PXCEAUPN,PXCEQUIT
"RTN","PXCEVFI2",49,0)
 S PXCECODE="PXCE"_$S(PXCECAT="IMM":"VIMM",1:PXCECAT)
"RTN","PXCEVFI2",50,0)
 S PXCECATS=$S(PXCECAT="CSTP":"VST",PXCECAT="HIST":"VST",1:PXCECAT)
"RTN","PXCEVFI2",51,0)
 S PXCEAUPN=$P($T(FORMAT^@PXCECODE),"~",5)
"RTN","PXCEVFI2",52,0)
 S PXCECATT=$P($P($T(FORMAT^@PXCECODE),";;",2),"~",1)
"RTN","PXCEVFI2",53,0)
 ;
"RTN","PXCEVFI2",54,0)
 I '$D(@(PXCEAUPN_"(PXCEFIEN)")) Q
"RTN","PXCEVFI2",55,0)
 I $P($G(@(PXCEAUPN_"(PXCEFIEN,812)")),"^",1) D  Q
"RTN","PXCEVFI2",56,0)
 . W !!,"Error on deleting "_PXCECATT_" ",@("$$DISPLY01^"_PXCECODE_"(@(PXCEAUPN_""(PXCEFIEN,0)""))")
"RTN","PXCEVFI2",57,0)
 . W !,"Error: You cannot delete this entry it has been ""Verified""." D WAIT^PXCEHELP
"RTN","PXCEVFI2",58,0)
 I PXCEKEYS'["D" D  Q:PXCEQUIT
"RTN","PXCEVFI2",59,0)
 . N PXCECHK
"RTN","PXCEVFI2",60,0)
 . S PXCEQUIT=0
"RTN","PXCEVFI2",61,0)
 . I PXCECATS="VST" S PXCECHK=$P($G(@(PXCEAUPN_"(PXCEFIEN,0)")),"^",23)
"RTN","PXCEVFI2",62,0)
 . E  S PXCECHK=$P($P($P($G(@(PXCEAUPN_"(PXCEFIEN,801)")),"^",2),";",1)," ",2)
"RTN","PXCEVFI2",63,0)
 . I DUZ'=PXCECHK D
"RTN","PXCEVFI2",64,0)
 .. S PXCEQUIT=1
"RTN","PXCEVFI2",65,0)
 .. N NODE0
"RTN","PXCEVFI2",66,0)
 .. S NODE0=@(PXCEAUPN_"(PXCEFIEN,0)")
"RTN","PXCEVFI2",67,0)
 .. W !!,"Error on deleting "_PXCECATT_" ",@("$$DISPLY01^"_PXCECODE_"(NODE0)")
"RTN","PXCEVFI2",68,0)
 .. W !,"Error: You cannot delete an entry you did not create." D WAIT^PXCEHELP
"RTN","PXCEVFI2",69,0)
 ;
"RTN","PXCEVFI2",70,0)
 I PXCECAT="CSTP" D
"RTN","PXCEVFI2",71,0)
 . W !!,"Deleting "_PXCECATT_" "
"RTN","PXCEVFI2",72,0)
 . W @("$$DISPLY01^"_PXCECODE_"($G(@(PXCEAUPN_""(PXCEFIEN,0)"")))")
"RTN","PXCEVFI2",73,0)
 . Q:'$$SURE^PXCEAE2
"RTN","PXCEVFI2",74,0)
 . N PXCERESU
"RTN","PXCEVFI2",75,0)
 . S PXCERESU=$$STOPCODE^PXUTLSTP(PXCESOR,"@",PXCEVIEN,PXCEFIEN)
"RTN","PXCEVFI2",76,0)
 . S:$D(PXCELOOP) PXCELOOP=1
"RTN","PXCEVFI2",77,0)
 E  I PXCECATS="VST" D
"RTN","PXCEVFI2",78,0)
 . W !!,"Deleting "_PXCECATT_" "
"RTN","PXCEVFI2",79,0)
 . W @("$$DISPLY01^"_PXCECODE_"($G(@(PXCEAUPN_""(PXCEFIEN,0)"")))")
"RTN","PXCEVFI2",80,0)
 . Q:'$$SURE^PXCEAE2
"RTN","PXCEVFI2",81,0)
 . N PXCERESU
"RTN","PXCEVFI2",82,0)
 . S PXCERESU=$$KILL^VSITKIL(PXCEVIEN)
"RTN","PXCEVFI2",83,0)
 . I PXCERESU D
"RTN","PXCEVFI2",84,0)
 .. I PXCERESU=1,$O(^SCE("AVSIT",PXCEVIEN,"")) Q
"RTN","PXCEVFI2",85,0)
 .. W !,$C(7),"Could not delete the encounter.  There are still users of it." D WAIT^PXCEHELP
"RTN","PXCEVFI2",86,0)
 . I 'PXCERESU S PXCEVDEL=1 S:$D(PXCELOOP) (PXCELOOP,PXCEQUIT,PXCENOER)=1
"RTN","PXCEVFI2",87,0)
 . D EVENT^PXKMAIN
"RTN","PXCEVFI2",88,0)
 ;
"RTN","PXCEVFI2",89,0)
 E  D
"RTN","PXCEVFI2",90,0)
 . K ^TMP("PXK",$J)
"RTN","PXCEVFI2",91,0)
 . S ^TMP("PXK",$J,"VST",1,"IEN")=PXCEVIEN
"RTN","PXCEVFI2",92,0)
 . F PXCENODE=0,21,150,800,811,812 D
"RTN","PXCEVFI2",93,0)
 .. S (^TMP("PXK",$J,"VST",1,PXCENODE,"AFTER"),^TMP("PXK",$J,"VST",1,PXCENODE,"BEFORE"))=$G(^AUPNVSIT(PXCEVIEN,PXCENODE))
"RTN","PXCEVFI2",94,0)
 . ;
"RTN","PXCEVFI2",95,0)
 . S ^TMP("PXK",$J,"SOR")=PXCESOR
"RTN","PXCEVFI2",96,0)
 . S ^TMP("PXK",$J,PXCECATS,1,"IEN")=PXCEFIEN
"RTN","PXCEVFI2",97,0)
 . ;
"RTN","PXCEVFI2",98,0)
 . S PXCENODS=$P($T(FORMAT^@PXCECODE),"~",3)
"RTN","PXCEVFI2",99,0)
 . F PXCEFOR=1:1 S PXCENODE=$P(PXCENODS,",",PXCEFOR) Q:PXCENODE']""  D
"RTN","PXCEVFI2",100,0)
 .. S ^TMP("PXK",$J,PXCECATS,1,PXCENODE,"BEFORE")=$G(@(PXCEAUPN_"(PXCEFIEN,PXCENODE)"))
"RTN","PXCEVFI2",101,0)
 . ;
"RTN","PXCEVFI2",102,0)
 . N DIK,DA
"RTN","PXCEVFI2",103,0)
 . W !!,"Deleting "_PXCECATT_" "
"RTN","PXCEVFI2",104,0)
 . W @("$$DISPLY01^"_PXCECODE_"(^TMP(""PXK"",$J,PXCECATS,1,0,""BEFORE""))")
"RTN","PXCEVFI2",105,0)
 . Q:'$$SURE^PXCEAE2  ;DELQUIT
"RTN","PXCEVFI2",106,0)
 . S PXCENODS=$P($T(FORMAT^@PXCECODE),"~",3)
"RTN","PXCEVFI2",107,0)
 . F PXCEFOR=1:1 S PXCENODE=$P(PXCENODS,",",PXCEFOR) Q:PXCENODE']""  S ^TMP("PXK",$J,PXCECATS,1,PXCENODE,"AFTER")=$S(PXCENODE=0:"@",1:"")
"RTN","PXCEVFI2",108,0)
 . D EN1^PXKMAIN
"RTN","PXCEVFI2",109,0)
 . S:$D(PXCELOOP) PXCELOOP=1
"RTN","PXCEVFI2",110,0)
 . I $D(PXCENOER)#2 S PXCENOER=1
"RTN","PXCEVFI2",111,0)
 ;
"RTN","PXCEVFI2",112,0)
DELQUIT ;
"RTN","PXCEVFI2",113,0)
 K ^TMP("PXK",$J)
"RTN","PXCEVFI2",114,0)
 Q
"RTN","PXCEVFI2",115,0)
 ;
"RTN","PXCEVFI2",116,0)
SC(PXDFN) ;Service Connected Help
"RTN","PXCEVFI2",117,0)
 ; Input  -- DFN      Patient file IEN  
"RTN","PXCEVFI2",118,0)
 ; Output -- Help
"RTN","PXCEVFI2",119,0)
 N I,SDCNT,SDDC,SDRD0
"RTN","PXCEVFI2",120,0)
 W !!,"Patient's Service Connection and Rated Disabilities:"
"RTN","PXCEVFI2",121,0)
 W !!,$S($P($G(^DPT(PXDFN,.3)),"^")="Y":"        SC Percent: "_$P(^(.3),"^",2)_"%",1:" Service Connected: No")
"RTN","PXCEVFI2",122,0)
 W !,"Rated Disabilities: "
"RTN","PXCEVFI2",123,0)
 I $P($G(^DPT(PXDFN,"VET")),"^")'="Y",$S('$D(^DIC(391,+$G(^DPT(PXDFN,"TYPE")),0)):1,$P(^(0),"^",2):0,1:1) W "Not a Veteran" Q
"RTN","PXCEVFI2",124,0)
 S (SDCNT,I)=0
"RTN","PXCEVFI2",125,0)
 F  S I=$O(^DPT(PXDFN,.372,I)) Q:'I  I $P($G(^(I,0)),"^",3) S SDRD0=^(0) D
"RTN","PXCEVFI2",126,0)
 .S SDCNT=SDCNT+1
"RTN","PXCEVFI2",127,0)
 .S SDDC=$S('$D(^DIC(31,+SDRD0,0)):"",$P(^(0),"^",4)]"":$P(^(0),"^",4),1:$P(^(0),"^"))
"RTN","PXCEVFI2",128,0)
 .W:SDCNT>1 !
"RTN","PXCEVFI2",129,0)
 .W ?20,$P($G(^DIC(31,+SDRD0,0)),"^",3),?25,SDDC,"  (",$P(SDRD0,"^",2),"%-",$S($P(SDRD0,"^",3):"SC",1:""),")"
"RTN","PXCEVFI2",130,0)
 I 'SDCNT W $S('$O(^DPT(PXDFN,.372,0)):"None Stated",1:"No Service Connected Disabilities Listed")
"RTN","PXCEVFI2",131,0)
 ;
"VER")
8.0^22.0
**END**
**END**
