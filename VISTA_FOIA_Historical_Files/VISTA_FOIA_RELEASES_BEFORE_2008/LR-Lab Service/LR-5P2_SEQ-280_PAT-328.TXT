$TXT Created by MCCORMACK,JOHN at FS.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 05/25/06 at 15:29
=============================================================================
Run Date: NOV 13, 2006                     Designation: LR*5.2*328
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #280                    Status: Released
                  Compliance Date: DEC 14, 2006
=============================================================================

Associated patches: (v)LR*5.2*100  <<= must be installed BEFORE `LR*5.2*328'
                    (v)LR*5.2*121  <<= must be installed BEFORE `LR*5.2*328'
                    (v)LR*5.2*201  <<= must be installed BEFORE `LR*5.2*328'
                    (v)LR*5.2*286  <<= must be installed BEFORE `LR*5.2*328'
                    (v)LR*5.2*291  <<= must be installed BEFORE `LR*5.2*328'

Subject: DEFINE PATIENT DEMOGRAPHICS DURING VERIFYING MULTIPLE ACCESSIONS ON SAME ORDER

Category: 
  - Routine

Description:
============

 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*328 does not
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA
 DIRECTIVE 2004-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*328 does not
 alter or modify any software design safeguards or safety critical elements
 functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*328 have no effect on Blood
 Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes
 made, no specific validation requirements exist as a result of installation
 of this patch.
  
   
 Nature of Problem:
  PSI-04-059 identified a patient safety issue identified during the
  testing phase of the Laboratory Electronic Data Interchange (LEDI III)
  software patches LA*5.2*64 and LR*5.2*286.
  
  Two test sites reported an undefined error related to the variable SEX
  which contains the patient's sex. During analysis of the reported error,
  it was determined, by the laboratory development team, that the variable
  that referenced the patient's sex was being killed between accessions when
  a laboratory order created two or more accessions.
   
  The problem occurs when laboratory users enter laboratory test results
  using the VistA Laboratory option "Accession order then immediately enter
  data [LR ACC THEN DATA]".  If the laboratory order being processed
  creates two or more accessions, the second and any subsequent accessions,
  may calculate age and/or sex based normals and abnormals incorrectly.
  
  We believe this to be a pre-existing problem; however, we cannot
  determine how long the problem has been occurring. It is unknown as to
  whether any specific incidents have occurred if any.  Also, but most
  importantly, no patients were harmed.
  
 Solution:
  The LR*5.2*328 patch was developed which will set patient's demographics
  between processing of accessions when using the "Accession order then
  immediately enter data [LR ACC THEN DATA]" option.  This will ensure that
  the patient's age/sex is defined before calculating any age/sex based
  normals and determining abnormality flags.
  
  The routine LRFAST is modified to define the applicable patient
  demographic values for sex, date of birth, and age when processing each
  accession associated with the order.
  
  
  ASSOCIATED E3R
  --------------
  None
  
  ASSOCIATED REMEDY
  ---------------
  None
  
  ASSOCIATED PSI
  ---------------
  PSI-04-059 PATIENT SAFETY ISSUE: Laboratory, 11/3/2004 5:20:06 PM
  
  
  TEST SITES
  ----------
  Durham VAMC
  Manchester VAMC
  Milwaukee VAMC
  North Chicago VAMC 
  
  
 ROUTINE SUMMARY
 ===============
   The following routines are included in this patch.  The second line
   of each of these routines now looks like:
   <tab> ;;5.2;LAB SERVICE;<patchlist>;Sep 27, 1994
  
                     Checksum       Checksum
    Routine Name     Before Patch   After Patch    Patch List
    ------------     ------------   -----------    ------------
    LR328            N/A            4831454        **328** (Deleted by KIDS)
    LRFAST           19472230       19464995       **100,121,201,286,291,328**
  
  List of preceding patches: 291
  Sites should use CHECK^XTSUMBLD to verify checksums. 
  
  
 INSTALLATION INSTRUCTIONS
 -------------------------
   The install time for this patch is less than 5 minute. This patch
   can be installed when Laboratory users are on the system.
   Suggested time to install: non-peak requirement hours.
  
  
 NOTE: Kernel patches must be current on the target system to avoid
       problems loading and/or installing this patch.
  
       Patch installation needs to be coordinated with the Laboratory
       Information Manager (LIM/ADPAC).
  
  
   1.  If any of the above routines are mapped, disable mapping for them.
  
   2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
         option will load the KIDS package onto your system.
  
   3.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   4.  From this menu, you may then elect to use the following options
       (when prompted for the INSTALL NAME, enter LR*5.2*328):
         a. Print Transport Global
         b. Backup a Transport Global
         c. Compare Transport Global to Current System
         d. Verify Checksums in Transport Global
  
       Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   5.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LR*5.2*328'.  When prompted 'Want KIDS to
       INHIBIT LOGONs during the install? YES// choose 'NO'.  When prompted
       'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
       YES//', choose 'NO'.
  
       During install KIDS will place the "Accession order then immediately
       enter data option [LR ACC THEN DATA] out of order.
  
   6.  On a mapped system, rebuild your map set.
  
  Note: Routine LR328 will be deleted after successful patch installation.
  
  
 INSTALLATION EXAMPLE
 ====================
  
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME: LR*5.2*328 Loaded from Distribution Loaded from
 Distribution  4/21/05@16:56:33
      => LR*5.2*328
  
 This Distribution was loaded on Apr 21, 2005@16:56:33 with header of
    LR*5.2*328
    It consisted of the following Install(s):
      LR*5.2*328
 Checking Install for Package LR*5.2*328
 Will first run the Environment Check Routine, LR328
  
  
                Sending install started alert to mail group G.LMI
  
                         --- Environment Check is Ok ---
  
 Install Questions for LR*5.2*328
  
  
 Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
  
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
  Install Started for LR*5.2*328 :
                Apr 21, 2005@16:58:02
  
 Build Distribution Date: Apr 21, 2005
  
  Installing Routines:
                Apr 21, 2005@16:58:02
  
  Running Pre-Install Routine: PRE^LR328
  
                           *** Pre install started ***
  
                            *** No action required ***
  
                          *** Pre install completed ***
  
  Installing PACKAGE COMPONENTS:
  
  Installing OPTION
                Apr 21, 2005@16:58:02
  
  Running Post-Install Routine: POST^LR328
  
                           *** Post install started ***
  
                            *** No action required ***
  
                          *** Post install completed ***
  
               Sending install completion alert to mail group G.LMI
  
  Updating Routine file...
  
  Updating KIDS files...
  
  LR*5.2*328 Installed.
                Apr 21, 2005@16:58:03
  
  Install Message sent #XXXX
  
 Install Completed

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: LR328
    Before:       n/a  After:  B9400481  **328**
Routine Name: LRFAST
    Before: B29732413  After: B29752400  **100,121,201,286,291,328**

=============================================================================
User Information:
Entered By  : DEVLIN,MARK J                 Date Entered  : NOV 17, 2004
Completed By: ELIJAH,VICKEY                 Date Completed: NOV 07, 2006
Released By : BELSCHWINDER,MICHAEL          Date Released : NOV 13, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
