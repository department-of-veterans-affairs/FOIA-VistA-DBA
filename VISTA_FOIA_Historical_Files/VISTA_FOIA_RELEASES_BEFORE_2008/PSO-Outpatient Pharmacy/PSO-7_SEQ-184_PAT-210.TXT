$TXT Created by NAPOLIELLO,GREG at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Monday, 06/06/05 at 12:45
=============================================================================
Run Date: AUG 09, 2005                     Designation: PSO*7*210
Package : PSO - OUTPATIENT PHARMACY           Priority: EMERGENCY
Version : 7       SEQ #184                      Status: Released
                  Compliance Date: AUG 11, 2005
=============================================================================

Associated patches: (v)PSO*7*180   <<= must be installed BEFORE `PSO*7*210'
                    (v)PSO*7*185   <<= must be installed BEFORE `PSO*7*210'
                    (v)PSO*7*186   <<= must be installed BEFORE `PSO*7*210'
                    (v)PSO*7*193   <<= must be installed BEFORE `PSO*7*210'

Subject: CORRECT PROVIDER COMMENTS WRAPPING PROBLEM

Category: 
  - Routine

Description:
============

 When long Provider comments are entered through the Computerized 
 Patient Record System (CPRS), a problem can occur in VistA.  The problem
 occurs when some of the comment text is dropped due to wrapping.  A 
 problem was also noticed with CPRS omitting one character from the 
 Provider comments before it sends the data over to VistA.
  
  
 Problem:
 --------
 This problem only occurs while entering Provider comments with several 
 lines of text and within the lines of text is a very large word or list.
 A word can be defined as a list of characters containing no spaces.  
 Usually this will be a list or scale separated by commas.
  
 The CPRS problem occurs when Provider comments text entered has text
 greater than 73 characters with no spaces in between.  In this scenario,
 CPRS will omit the 74th character.
  
  
  
 Resolution:
 -----------
 Correct the word wrap logic by examining the text to determine if a
 list with a key delimiter exists, e.g. a comma or semi-colon.  If it is 
 determined that this is the case, then the text will be wrapped to the 
 next line after the  delimiter nearest the end of the current line.  In
 the case that no valid delimiter can be determined, then the wrapping will
 occur after the last character that reaches the end of the screen.
  
 Normal word wrapping still occurs at spaces as before.  When the scenario
 of a long list without spaces exists, then the valid delimiters searched
 for in that list will be    ,   ;    :    =    and in this order.  If one
 of the valid delimiters is determined to exists in the list, then only
 that delimiter is used to wrap the text.
  
 Patch PSO*7*210 addresses the outpatient pharmacy segment of PSI-05-040.
 The CPRS problem will be fixed at a later time by CPRS release v26
 patch OR*3*215, which is due out in October of 2005.
  
 Associated NOIS:
 ================
 HD0000000091982   Patient dosage orders are being cut off
  
 Associated E3R(s):
 ==================
 N/A
  
 Test Sites:
 ===========
 Puget Sound HCS
 Madison, WI
 Oklahoma City, OK 
  
 Routine Summary
 ===============
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
      <tab>;;7.0;OUTPATIENT PHARMACY;**[patch list]**;DEC 1997
  
                             CHECK^XTSUMBLD results
 Routine name     Before Patch      After Patch          Patch List
 ============     ============      ===========     ======================
 PSOORFI1             33392972         32311812     7,15,23,27,32,44,51
                                                    46,71,90,108,131
                                                    152,186,210
 PSOORNE2             33476435         32081762     11,21,23,27,32,37
                                                    46,84,103,117,131
                                                    146,156,210
 PSOORNE5             28389315         26418438     11,27,32,46,78,99,117
                                                    131,146,171,180,210
 PSOORNE6             25822404         21893116     46,103,117,156,210
 PSORXVW              33725542         30253107     14,35,46,96,103,88,117
                                                    131,146,156,185,210
 PSORXVW1             35027862         33086319     35,47,46,71,99,117,156
                                                    193,210
 PSOUTLA2               N/A             5065765     210
  
           Total number of routines - 7
  
  
 Installation Instructions:
 ==========================
 It is recommended that this patch be installed after normal business 
 hours while no Outpatient Pharmacy users are processing orders.
  
 Installation will take less than 2 minutes.
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2. From the Kernel Installation & Distribution System menu, select the 
    Installation menu.
  
 3. From this menu, you may select to use the following options: (when     
    prompted for INSTALL NAME, enter PSO*7.0*210)
  
      a.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
      
      b.  Print Transport Global - This option will allow you to view
          the components of the KIDS build.
      
      c.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this 
          patch is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      
      d.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
  
  
 4. Use the Install Package(s) option and select the package      
    PSO*7.0*210. 
  
 5. When Prompted "Want KIDS to INHIBIT LOGONs during the install? 
    YES//" respond NO. 
  
 6. When Prompted "Want to DISABLE Scheduled Options, Menu Options, and 
    Protocols? YES//" respond NO.

Routine Information:
====================

Routine Name:
  - PSOORFI1


Routine Checksum:

Routine Name:
  - PSOORNE2


Routine Checksum:

Routine Name:
  - PSOORNE5


Routine Checksum:

Routine Name:
  - PSOORNE6


Routine Checksum:

Routine Name:
  - PSORXVW


Routine Checksum:

Routine Name:
  - PSORXVW1


Routine Checksum:

Routine Name:
  - PSOUTLA2


Routine Checksum:

=============================================================================
User Information:
Entered By  : NAPOLIELLO,GREG               Date Entered  : APR 28, 2005
Completed By: CROSSMAN,PAM                  Date Completed: AUG 08, 2005
Released By : LESIEUR,SHIRLEY               Date Released : AUG 09, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
