Released PRPF*3*14 SEQ #14
Extracted from mail message
**KIDS**:PRPF*3.0*14^

**INSTALL NAME**
PRPF*3.0*14
"BLD",4256,0)
PRPF*3.0*14^INTEGRATED PATIENT FUNDS^0^3020829^y
"BLD",4256,1,0)
^^1^1^3020829^
"BLD",4256,1,1,0)
CORRECT BAL CHECK REPORT
"BLD",4256,4,0)
^9.64PA^^
"BLD",4256,"KRN",0)
^9.67PA^8989.52^19
"BLD",4256,"KRN",.4,0)
.4
"BLD",4256,"KRN",.401,0)
.401
"BLD",4256,"KRN",.402,0)
.402
"BLD",4256,"KRN",.403,0)
.403
"BLD",4256,"KRN",.5,0)
.5
"BLD",4256,"KRN",.84,0)
.84
"BLD",4256,"KRN",3.6,0)
3.6
"BLD",4256,"KRN",3.8,0)
3.8
"BLD",4256,"KRN",9.2,0)
9.2
"BLD",4256,"KRN",9.8,0)
9.8
"BLD",4256,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4256,"KRN",9.8,"NM",1,0)
PRPFBAL^^0^B16660275
"BLD",4256,"KRN",9.8,"NM","B","PRPFBAL",1)

"BLD",4256,"KRN",19,0)
19
"BLD",4256,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",4256,"KRN",19,"NM",1,0)
PRPF PATIENT SUMMARY^^0
"BLD",4256,"KRN",19,"NM","B","PRPF PATIENT SUMMARY",1)

"BLD",4256,"KRN",19.1,0)
19.1
"BLD",4256,"KRN",101,0)
101
"BLD",4256,"KRN",409.61,0)
409.61
"BLD",4256,"KRN",771,0)
771
"BLD",4256,"KRN",870,0)
870
"BLD",4256,"KRN",8989.51,0)
8989.51
"BLD",4256,"KRN",8989.52,0)
8989.52
"BLD",4256,"KRN",8994,0)
8994
"BLD",4256,"KRN","B",.4,.4)

"BLD",4256,"KRN","B",.401,.401)

"BLD",4256,"KRN","B",.402,.402)

"BLD",4256,"KRN","B",.403,.403)

"BLD",4256,"KRN","B",.5,.5)

"BLD",4256,"KRN","B",.84,.84)

"BLD",4256,"KRN","B",3.6,3.6)

"BLD",4256,"KRN","B",3.8,3.8)

"BLD",4256,"KRN","B",9.2,9.2)

"BLD",4256,"KRN","B",9.8,9.8)

"BLD",4256,"KRN","B",19,19)

"BLD",4256,"KRN","B",19.1,19.1)

"BLD",4256,"KRN","B",101,101)

"BLD",4256,"KRN","B",409.61,409.61)

"BLD",4256,"KRN","B",771,771)

"BLD",4256,"KRN","B",870,870)

"BLD",4256,"KRN","B",8989.51,8989.51)

"BLD",4256,"KRN","B",8989.52,8989.52)

"BLD",4256,"KRN","B",8994,8994)

"BLD",4256,"QUES",0)
^9.62^^
"BLD",4256,"REQB",0)
^9.611^3^3
"BLD",4256,"REQB",1,0)
PRPF*3.0*6^1
"BLD",4256,"REQB",2,0)
PRPF*3.0*8^1
"BLD",4256,"REQB",3,0)
PRPF*3.0*13^1
"BLD",4256,"REQB","B","PRPF*3.0*13",3)

"BLD",4256,"REQB","B","PRPF*3.0*6",1)

"BLD",4256,"REQB","B","PRPF*3.0*8",2)

"KRN",19,7238,-1)
0^1
"KRN",19,7238,0)
PRPF PATIENT SUMMARY^Patient Summary Report^^R^^^^^^^^INTEGRATED PATIENT FUNDS
"KRN",19,7238,1,0)
^19.06^3^3^3020828^^^^
"KRN",19,7238,1,1,0)
This option prints a report of all accounts listed as ACTIVE.  The report
"KRN",19,7238,1,2,0)
contains enough information to make manual disbursements in the event of
"KRN",19,7238,1,3,0)
a computer failure.  IT SHOULD BE RUN AT THE END OF EACH DAY.
"KRN",19,7238,25)
SUMMARY^PRPFPNT
"KRN",19,7238,99)
55558,30674
"KRN",19,7238,200.9)
n
"KRN",19,7238,"U")
PATIENT SUMMARY REPORT
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",466,-1)
1^1
"PKG",466,0)
INTEGRATED PATIENT FUNDS^PRPF^PATIENT FUNDS.  INTEGRATED WITH PATIENT FILE
"PKG",466,20,0)
^9.402P^^
"PKG",466,22,0)
^9.49I^1^1
"PKG",466,22,1,0)
3.0^2970224
"PKG",466,22,1,"PAH",1,0)
14^3020829
"PKG",466,22,1,"PAH",1,1,0)
^^1^1^3020829
"PKG",466,22,1,"PAH",1,1,1,0)
CORRECT BAL CHECK REPORT
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PRPFBAL")
0^1^B16660275
"RTN","PRPFBAL",1,0)
PRPFBAL ;ALTOONA/CTB-PATIENT LOOKUP AND COMPUTE BALANCE ;08/29/02
"RTN","PRPFBAL",2,0)
V ;;3.0;PATIENT FUNDS;**6,8,13,14**;JUNE 1, 1989
"RTN","PRPFBAL",3,0)
EN S DIC(0)="ZAEQM",DIC=470 D ^DIC I +Y>0 S DFN=+Y,DFN(0)=Y(0),DFN(0,0)=Y(0,0),DFN(1)=$S($D(^PRPF(470,DFN,1)):^(1),1:"") D EN1 G EN
"RTN","PRPFBAL",4,0)
 W:$D(IOF) @IOF K %,%W,%X,%Y,C,DFN,DIC,DIYS,POP,Y
"RTN","PRPFBAL",5,0)
OUT K %H,%I,%TG,D,D1,DG1,DGT,DGX,DIW,DIWT,DN,I,N,PFHI,PFLO,PFNORM,PRBAL,Q3,RES,TMP,TYPE,X,X2,Y,Z Q
"RTN","PRPFBAL",6,0)
EN1 D HILO S PRBAL("DEF")=$P(^DD(470,30.5,0),"^",5,99) S DFN(0)=^PRPF(470,DFN,0),DFN(1)=$S($D(^(1)):^(1),1:""),DFN(0,0)=$P(^DPT(DFN,0),"^") D EN^PRPFRES S PRBAL("SB")=$P(DFN(1),"^",4),PRBAL("PB")=$P(DFN(1),"^",5),PRBAL("GB")=$P(DFN(1),"^",6)
"RTN","PRPFBAL",7,0)
 S RES=$P(DFN(0),U,3) S TYPE=$S(RES="R":"RESTRICTED",RES="L":"LIMITED UNRESTRICTED",RES="U":"UNRESTRICTED",1:"UNKNOWN")
"RTN","PRPFBAL",8,0)
A D ^PRPFDEF S D0=DFN X PRBAL("DEF") K D0 S PRBAL("DEF")=X
"RTN","PRPFBAL",9,0)
 W:$D(IOF) @IOF W !,@PFHI,$P(DFN(0,0),"^"),@PFLO,?40 W "SSN: ",@PFHI S SSN=$P(^DPT(+DFN(0),0),"^",9)
"RTN","PRPFBAL",10,0)
 W $E(SSN,1,3),@PFLO,"-",@PFHI,$E(SSN,4,5),@PFLO,"-",@PFHI,$E(SSN,6,9),?60,@PFLO,"CLAIM #: ",@PFHI,$S($D(^DPT(+DFN(0),.31)):$P(^(.31),"^",3),1:""),@PFLO K SSN
"RTN","PRPFBAL",11,0)
 D DGINPW^PRPFU1 W @PFHI D DEAD^PRPFED W @PFLO,!
"RTN","PRPFBAL",12,0)
 W ?18,"* * * ACCOUNT TYPE IS ",@PFHI,TYPE,@PFLO," * * *",!,"WARD: ",@PFHI,DFN(.1),@PFLO
"RTN","PRPFBAL",13,0)
 I $D(^PRPF(470,DFN,12)) I (^PRPF(470,DFN,12))'="" W !,"STATION NAME: ",@PFHI,$$GET1^DIQ(4,(^PRPF(470,DFN,12)),.01),@PFLO
"RTN","PRPFBAL",14,0)
 I $D(^PRPF(470,DFN,12)) I (^PRPF(470,DFN,12))="" W !,"STATION NAME:"
"RTN","PRPFBAL",15,0)
 W:'$D(^PRPF(470,DFN,12)) !,"STATION NAME:"
"RTN","PRPFBAL",16,0)
 I "UX"[RES G B
"RTN","PRPFBAL",17,0)
 W !,"AUTH WD/MONTH: ",@PFHI S X=$P(DFN(1),U,7) D C W X,@PFLO,?39,"AUTH WD/WEEK: ",@PFHI S X=$P(DFN(1),U,8) D C W X,@PFLO,!,?7,"ACTUAL: ",@PFHI S X=$P(DFN(1),"^",11) D C W X,@PFLO,?45,"ACTUAL: ",@PFHI S X=$P(DFN(1),"^",12) D C W X
"RTN","PRPFBAL",18,0)
B W @PFLO S XI="",$P(XI,"*",80)="" W !,XI
"RTN","PRPFBAL",19,0)
 W !,?10," TOTAL BALANCE:  ",@PFHI S X=PRBAL("SB") D C W X,@PFLO,?45,"PRIVATE SOURCE: ",@PFHI S X=PRBAL("PB") D C W X,@PFLO,!,?16,"DEFERRED:  ",@PFHI S X=PRBAL("DEF") D C W X,@PFLO,?49
"RTN","PRPFBAL",20,0)
 W "GRATUITOUS: ",@PFHI S X=PRBAL("GB") D C W X,@PFLO,!!,"AVAILABLE FOR WITHDRAWAL:  " S (PRBAL("PB"),X)=PRBAL("SB")-PRBAL("DEF") W @PFHI D C W X,@PFLO,!
"RTN","PRPFBAL",21,0)
 W XI K XI
"RTN","PRPFBAL",22,0)
 I +PRBAL("DEF")>0 W !,"DEFERRAL INFORMATION:",?30,"TRANSACTION",?50,"DEF DATE",?69,"AMOUNT" D DEF
"RTN","PRPFBAL",23,0)
GI ;PRINT GENERAL INFORMATION REMARKS
"RTN","PRPFBAL",24,0)
T2 W !,"GENERAL REMARKS/INFORMATION:"
"RTN","PRPFBAL",25,0)
 K ^UTILITY($J,"W") ; <<<  Added by REW in patch 8 since Eng. doesn't kill -- see NOIS CLE-1097-42161
"RTN","PRPFBAL",26,0)
 W @PFHI S N=0,DIWF="W",DIWL=5,DIWR=IOM-10 F I=1:1 S N=$O(^PRPF(470,DFN,7,N)) Q:N=""  S X=^(N,0) D ^DIWP
"RTN","PRPFBAL",27,0)
 D ^DIWW K DIWF,DIWL,DIWR,X
"RTN","PRPFBAL",28,0)
 W @PFNORM
"RTN","PRPFBAL",29,0)
T3 G:'$D(^XUSEC("PRPF CLERK",DUZ)) OUT W !,"SPECIAL REMARKS:"
"RTN","PRPFBAL",30,0)
 W @PFHI S N=0,DIWF="W",DIWL=5,DIWR=IOM-10 F I=1:1 S N=$O(^PRPF(470,DFN,8,N)) Q:N=""  S X=^(N,0) D ^DIWP
"RTN","PRPFBAL",31,0)
 D ^DIWW
"RTN","PRPFBAL",32,0)
 W !,"The information contained in this report is protected by the Privacy Act of 1974"
"RTN","PRPFBAL",33,0)
 K DIWF,DIWL,DIWR,X W @PFNORM G OUT
"RTN","PRPFBAL",34,0)
DEF ;WRITES DEFERRAL INFORMATION
"RTN","PRPFBAL",35,0)
 F I=0:0 S I=$O(^PRPF(470,DFN,4,I)) Q:I'=+I  I $D(^(I,0)) S PRPF(1)=^PRPF(470,DFN,4,I,0) W !,?35,@PFHI,$P(PRPF(1),"^"),?49 S Y=$P(PRPF(1),"^",2) X ^DD("DD") W Y,?64 S X=$P(PRPF(1),"^",3) D C W X,@PFLO
"RTN","PRPFBAL",36,0)
 K PRPF(1) Q
"RTN","PRPFBAL",37,0)
HILO S IOP=0 D ^%ZIS S (PFHI,PFLO,PFNORM)="*0" I ^%ZOSF("OS")'["M/11" Q
"RTN","PRPFBAL",38,0)
 ;HI/LO INTENSITY DISABLED FOR DSM DUE TO INAPPROPRIATE HANDLING OF COLUMN POSITIONING
"RTN","PRPFBAL",39,0)
 S:$D(^%ZIS(2,IOST(0),7)) TMP=^(7),PFHI=$P(TMP,"^",1),PFLO=$P(TMP,"^",2),PFNORM=$P(TMP,"^",3) I PFHI=""!(PFLO="")!(PFNORM="") S (PFLO,PFHI,PFNORM)="*0"
"RTN","PRPFBAL",40,0)
 Q
"RTN","PRPFBAL",41,0)
 ;
"RTN","PRPFBAL",42,0)
C S X2="2$"
"RTN","PRPFBAL",43,0)
 S %D=X<0 S:%D X=-X S %=$S($D(X2):+X2,1:2),X=$J(X,1,%),%=$L(X)-3-$E(23456789,%)
"RTN","PRPFBAL",44,0)
 F %=%:-3 Q:$E(X,%)=""  S X=$E(X,1,%)_","_$E(X,%+1,99)
"RTN","PRPFBAL",45,0)
 S:$D(X2) X=$E("$",X2["$")_X S X=$J($E("(",%D)_X_$E(" )",%D+1),12) K %,%D Q
"VER")
8.0^22
**END**
**END**
