EMERGENCY Released TIU*1*212 SEQ #192
Extracted from mail message
**KIDS**:TIU*1.0*212^

**INSTALL NAME**
TIU*1.0*212
"BLD",6616,0)
TIU*1.0*212^TEXT INTEGRATION UTILITIES^0^3060328^y
"BLD",6616,1,0)
^^1^1^3060217^
"BLD",6616,1,1,0)
DOCUMENT PARAMETER VALUES CAN BE LOST WHILE EDITING A DOCUMENT PARAMETER.
"BLD",6616,4,0)
^9.64PA^^
"BLD",6616,6)
2^
"BLD",6616,"ABPKG")
n
"BLD",6616,"INID")
^n
"BLD",6616,"INIT")
EN^TIU212B
"BLD",6616,"KRN",0)
^9.67PA^8989.52^19
"BLD",6616,"KRN",.4,0)
.4
"BLD",6616,"KRN",.401,0)
.401
"BLD",6616,"KRN",.402,0)
.402
"BLD",6616,"KRN",.403,0)
.403
"BLD",6616,"KRN",.5,0)
.5
"BLD",6616,"KRN",.84,0)
.84
"BLD",6616,"KRN",3.6,0)
3.6
"BLD",6616,"KRN",3.8,0)
3.8
"BLD",6616,"KRN",9.2,0)
9.2
"BLD",6616,"KRN",9.8,0)
9.8
"BLD",6616,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",6616,"KRN",9.8,"NM",1,0)
TIUDPEDT^^0^B4199183
"BLD",6616,"KRN",9.8,"NM",2,0)
TIU212B^^0^B8202028
"BLD",6616,"KRN",9.8,"NM","B","TIU212B",2)
 
"BLD",6616,"KRN",9.8,"NM","B","TIUDPEDT",1)
 
"BLD",6616,"KRN",19,0)
19
"BLD",6616,"KRN",19.1,0)
19.1
"BLD",6616,"KRN",101,0)
101
"BLD",6616,"KRN",409.61,0)
409.61
"BLD",6616,"KRN",771,0)
771
"BLD",6616,"KRN",870,0)
870
"BLD",6616,"KRN",8989.51,0)
8989.51
"BLD",6616,"KRN",8989.52,0)
8989.52
"BLD",6616,"KRN",8994,0)
8994
"BLD",6616,"KRN","B",.4,.4)
 
"BLD",6616,"KRN","B",.401,.401)
 
"BLD",6616,"KRN","B",.402,.402)
 
"BLD",6616,"KRN","B",.403,.403)
 
"BLD",6616,"KRN","B",.5,.5)
 
"BLD",6616,"KRN","B",.84,.84)
 
"BLD",6616,"KRN","B",3.6,3.6)
 
"BLD",6616,"KRN","B",3.8,3.8)
 
"BLD",6616,"KRN","B",9.2,9.2)
 
"BLD",6616,"KRN","B",9.8,9.8)
 
"BLD",6616,"KRN","B",19,19)
 
"BLD",6616,"KRN","B",19.1,19.1)
 
"BLD",6616,"KRN","B",101,101)
 
"BLD",6616,"KRN","B",409.61,409.61)
 
"BLD",6616,"KRN","B",771,771)
 
"BLD",6616,"KRN","B",870,870)
 
"BLD",6616,"KRN","B",8989.51,8989.51)
 
"BLD",6616,"KRN","B",8989.52,8989.52)
 
"BLD",6616,"KRN","B",8994,8994)
 
"BLD",6616,"QUES",0)
^9.62^^
"BLD",6616,"REQB",0)
^9.611^1^1
"BLD",6616,"REQB",1,0)
TIU*1.0*206^1
"BLD",6616,"REQB","B","TIU*1.0*206",1)
 
"INIT")
EN^TIU212B
"MBREQ")
0
"PKG",470,-1)
1^1
"PKG",470,0)
TEXT INTEGRATION UTILITIES^TIU^Text Integration Utilities 
"PKG",470,20,0)
^9.402P^^
"PKG",470,22,0)
^9.49I^1^1
"PKG",470,22,1,0)
1.0^3010801^3010806^66481
"PKG",470,22,1,"PAH",1,0)
212^3060328^101036
"PKG",470,22,1,"PAH",1,1,0)
^^1^1^3060328
"PKG",470,22,1,"PAH",1,1,1,0)
DOCUMENT PARAMETER VALUES CAN BE LOST WHILE EDITING A DOCUMENT PARAMETER.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")
 
"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","TIU212B")
0^2^B8202028
"RTN","TIU212B",1,0)
TIU212B ; BAYPINES/ELR - UTILITY ROUTINE PATCH TIU*1.0*212 ;3/22/2006
"RTN","TIU212B",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**212**;Jun 20, 1997
"RTN","TIU212B",3,0)
 Q
"RTN","TIU212B",4,0)
EN NEW TIUDA,TIUS0,TIUNM,TIUCNT,TIUJ,TIUDEV
"RTN","TIU212B",5,0)
 S (TIUDA,TIUCNT)=0
"RTN","TIU212B",6,0)
 S TIUJ=$J
"RTN","TIU212B",7,0)
 K ^TMP("TIU212B",TIUJ)
"RTN","TIU212B",8,0)
 F  S TIUDA=$O(^TIU(8925.95,TIUDA)) Q:+TIUDA'>0  D
"RTN","TIU212B",9,0)
 .  S TIUS0=$P($G(^TIU(8925.95,TIUDA,0)),U)
"RTN","TIU212B",10,0)
 .  S TIUNM=$P($G(^TIU(8925.1,TIUS0,0)),U)
"RTN","TIU212B",11,0)
 .  I TIUNM?.E1N.E S TIUCNT=TIUCNT+1,^TMP("TIU212B",TIUJ,TIUCNT)=TIUNM
"RTN","TIU212B",12,0)
 I $G(XPDNM)["TIU*1.0*212" D PRINTA G PRINTX
"RTN","TIU212B",13,0)
 S TIUDEV=$$DEVICE^TIUDEV(.IO) ; Get Device/allow queueing
"RTN","TIU212B",14,0)
 I IO']"" G PRINTX
"RTN","TIU212B",15,0)
 I $G(ION)="" G PRINTX
"RTN","TIU212B",16,0)
 I $D(IO("Q")) D QUE^TIUDEV("PRINT^TIU212B",TIUDEV) G PRINTX
"RTN","TIU212B",17,0)
 D PRINT
"RTN","TIU212B",18,0)
PRINTX D ^%ZISC
"RTN","TIU212B",19,0)
 Q
"RTN","TIU212B",20,0)
PRINT ;
"RTN","TIU212B",21,0)
 S TIUDA=0
"RTN","TIU212B",22,0)
 U IO
"RTN","TIU212B",23,0)
 W !,"Patch TIU*1.0*212 analysis of Document Parameter File (8925.95) entries that"
"RTN","TIU212B",24,0)
 W !,"point to titles that contain numbers."
"RTN","TIU212B",25,0)
 W !,"Verify that these definitions go with the document.",!!
"RTN","TIU212B",26,0)
 W !,"SUSPECT 8925.95 DOCUMENT TITLES"
"RTN","TIU212B",27,0)
 W !,"-------------------------------",!
"RTN","TIU212B",28,0)
 F  S TIUDA=$O(^TMP("TIU212B",TIUJ,TIUDA)) Q:+TIUDA'>0  D
"RTN","TIU212B",29,0)
 . W !,$G(^TMP("TIU212B",TIUJ,TIUDA))
"RTN","TIU212B",30,0)
 I $G(TIUCNT)'>0 W !,"NO OCCURANCES FOUND"
"RTN","TIU212B",31,0)
 K ^TMP("TIU212B",TIUJ)
"RTN","TIU212B",32,0)
 Q 
"RTN","TIU212B",33,0)
PRINTA ;
"RTN","TIU212B",34,0)
 K ^TMP(TIUJ,"TIU212B")
"RTN","TIU212B",35,0)
 NEW TIUHD,TIUCNT1
"RTN","TIU212B",36,0)
 S (TIUDA,TIUCNT1)=0
"RTN","TIU212B",37,0)
 S TIUHD="Patch TIU*1.0*212 analysis of Document Parameter File (8925.95) entries that"
"RTN","TIU212B",38,0)
 D MAIL(TIUHD),BMES^XPDUTL(TIUHD)
"RTN","TIU212B",39,0)
 S TIUHD="point to titles that contain numbers."
"RTN","TIU212B",40,0)
 D MAIL(TIUHD),MES^XPDUTL(TIUHD)
"RTN","TIU212B",41,0)
 S TIUHD="Verify that these definitions go with the document."
"RTN","TIU212B",42,0)
 D MAIL(TIUHD),MES^XPDUTL(TIUHD)
"RTN","TIU212B",43,0)
 D MAIL(" "),MES^XPDUTL(" ")
"RTN","TIU212B",44,0)
 S TIUHD="SUSPECT 8925.95 DOCUMENT TITLES"
"RTN","TIU212B",45,0)
 D MAIL(TIUHD),MES^XPDUTL(TIUHD)
"RTN","TIU212B",46,0)
 S TIUHD="-------------------------------"
"RTN","TIU212B",47,0)
 D MAIL(TIUHD),MES^XPDUTL(TIUHD)
"RTN","TIU212B",48,0)
 D MAIL(" "),MES^XPDUTL(" ")
"RTN","TIU212B",49,0)
 F  S TIUDA=$O(^TMP("TIU212B",TIUJ,TIUDA)) Q:+TIUDA'>0  D
"RTN","TIU212B",50,0)
 . S TIUHD=$G(^TMP("TIU212B",TIUJ,TIUDA))
"RTN","TIU212B",51,0)
 . D MAIL(TIUHD),MES^XPDUTL(TIUHD)
"RTN","TIU212B",52,0)
 I $G(TIUCNT1)'>0 S TIUHD="NO OCCURANCES FOUND" D MAIL(TIUHD),BMES^XPDUTL(TIUHD)
"RTN","TIU212B",53,0)
 K ^TMP("TIU212B",TIUJ)
"RTN","TIU212B",54,0)
 S XMSUB="TEXT INTEGRATION UTILITY",XMTEXT="^TMP("_TIUJ_","_"""TIU212B"""_",",XMDUZ="PATCH TIU*1.0*212",XMY(DUZ)=""
"RTN","TIU212B",55,0)
 NEW DIFROM D ^XMD K XMDUZ,XMSUB,XMY(DUZ),XMTEXT
"RTN","TIU212B",56,0)
 K ^TMP(TIUJ,"TIU212B")
"RTN","TIU212B",57,0)
 Q
"RTN","TIU212B",58,0)
MAIL(X) ;
"RTN","TIU212B",59,0)
 S TIUCNT1=TIUCNT1+1,^TMP(TIUJ,"TIU212B",TIUCNT1)=X
"RTN","TIU212B",60,0)
 Q 
"RTN","TIUDPEDT")
0^1^B4199183^B3169587
"RTN","TIUDPEDT",1,0)
TIUDPEDT ; SLC/JER - Document Parameter Edit ;2/19/93  16:15
"RTN","TIUDPEDT",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**198,206,212**;Jun 20, 1997
"RTN","TIUDPEDT",3,0)
MAIN ; Controls branching
"RTN","TIUDPEDT",4,0)
 N DIC,DA,DIE,DR,DLAYGO,X,Y,DWPK,TIUFPRIV S TIUFPRIV=1
"RTN","TIUDPEDT",5,0)
 W !,"First edit Institution-wide parameters:",!
"RTN","TIUDPEDT",6,0)
 ;VMP OIFO BAY PINES;ELR;TIU*1.0*198 MODIFIED FROM HERE DOWN
"RTN","TIUDPEDT",7,0)
 S (DIC,DLAYGO)=8925.95,DIC(0)="AEMQLZ",DIC("A")="Select DOCUMENT DEFINITION: "
"RTN","TIUDPEDT",8,0)
 D ^DIC K DLAYGO Q:+Y'>0  S DA=+Y
"RTN","TIUDPEDT",9,0)
 I +$P(Y,U,3)=1 K X,Y,DIC N TIUERR D LOCK Q:$G(TIUERR)  G CONT1
"RTN","TIUDPEDT",10,0)
 N TIUPRMPT,TIUDSPLY S TIUPRMPT=+$P(Y,U,2),TIUDSPLY=$G(Y(0,0))
"RTN","TIUDPEDT",11,0)
 K X,Y,DIC
"RTN","TIUDPEDT",12,0)
 ;VMP OIFO BAY PINES;ELR;TIU*1.0*198;REMOVED .01 FROM INPUT TEMPLATE AND ADDED WARNING MSG.
"RTN","TIUDPEDT",13,0)
 N TIURESP,TIURESP1 S TIURESP=$$READ^TIUU("8925.95,.01:O",,)
"RTN","TIUDPEDT",14,0)
 S TIURESP=$P(TIURESP,U)
"RTN","TIUDPEDT",15,0)
 I $G(TIURESP)="@" S TIURESP=TIURESP_U_TIURESP K DIRUT G CONT
"RTN","TIUDPEDT",16,0)
 I (($D(DIRUT))!(+TIURESP<0)) K DIRUT Q
"RTN","TIUDPEDT",17,0)
CONT ;
"RTN","TIUDPEDT",18,0)
 I $P(TIURESP,U)'=TIUPRMPT D  Q:'+$G(TIURESP1)
"RTN","TIUDPEDT",19,0)
 . S TIURESP1=$$READ^TIUU("Y","You are about to lose the document parameters for "_TIUDSPLY_". Do you wish to continue","NO")
"RTN","TIUDPEDT",20,0)
 N TIUDR
"RTN","TIUDPEDT",21,0)
 S TIUDR=$S($P($G(TIURESP),U)="@":$P($G(TIURESP),U),1:$P($G(^TIU(8925.1,$P(TIURESP,U),0)),U))
"RTN","TIUDPEDT",22,0)
 Q:$L(TIUDR)'>0
"RTN","TIUDPEDT",23,0)
 S DIE="^TIU(8925.95,",DR=".01///"_TIUDR
"RTN","TIUDPEDT",24,0)
 L +^TIU(8925.95,DA):0 I '$T W !,"Another user is editing this entry" H 1 Q
"RTN","TIUDPEDT",25,0)
 N TIUSAVDA S TIUSAVDA=DA
"RTN","TIUDPEDT",26,0)
 D ^DIE
"RTN","TIUDPEDT",27,0)
 I $P($G(TIURESP),U)="@" S DA=TIUSAVDA G END
"RTN","TIUDPEDT",28,0)
CONT1 ;
"RTN","TIUDPEDT",29,0)
 S DIE=8925.95,DR="[TIU DOCUMENT PARAMETER EDIT]"
"RTN","TIUDPEDT",30,0)
 D ^DIE
"RTN","TIUDPEDT",31,0)
END L -^TIU(8925.95,DA)
"RTN","TIUDPEDT",32,0)
 Q
"RTN","TIUDPEDT",33,0)
LOCK ;
"RTN","TIUDPEDT",34,0)
 L +^TIU(8925.95,DA):0 I '$T W !,"Another user is editing this entry" H 1 S TIUERR=1
"RTN","TIUDPEDT",35,0)
 Q
"VER")
8.0^22.0
"BLD",6616,6)
^192
**END**
**END**
