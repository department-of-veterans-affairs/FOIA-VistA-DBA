$TXT Created by OSTRANDER,ROBIN at ANC8.FO-BAYPINES.MED.VA.GOV  (KIDS) on Friday, 10/07/05 at 08:42
=============================================================================
Run Date: MAR 15, 2006                     Designation: HDI*1*2
Package : HDI - HEALTH DATA & INFORMATICS     Priority: Mandatory
Version : 1         SEQ #2                      Status: Released
                  Compliance Date: APR 15, 2006
=============================================================================

Associated patches: (v)HDI*1*1     <<= must be installed BEFORE `HDI*1*2'

Subject: MISC FIXES AND NEW APIS

Category: 
  - Routine

Description:
============

  Routine Fixes
  -------------
  It was found that the status messages generated during VUID initialization
  were always being routed to the STATUS SERVER LOCATION (field #32) for the
  first entry in the HDIS PARAMETER file (#7118.29).  This patch fixes the
  transmission process so that status messages are sent to the STATUS SERVER
  LOCATION for the entry in the HDIS PARAMETER file denoting the actual VistA
  system.  Please note that this was not an issue since there would only be
  one entry in the HDIS PARAMETER file at a facility.
  
  Reinstalling the HDI package or patch HDI*1.0*1 would result in consecutive
  entries in the EFFECTIVE DATE/TIME multiple (subfile #8985.11) of the XTID
  VUID FOR SET OF CODES file (#8985.1) with the same STATUS (field #2) value.
  This is because the EFFECTIVE DATE/TIME for the VUIDs being installed is the
  date/time of installation.  To prevent the same STATUS being stored in
  consecutive entries, the utility call used to instantiate the VUIDs has been
  modified to not create a new entry in the EFFECTIVE DATE/TIME muliple if the
  incoming STATUS is the same as the current STATUS for the given VUID.
  
  
  APIs for Lab Package
  --------------------
  The following APIs are distributed by this patch.  These APIs will be
  used by the Lab package and are documented under DBIA #4801.
  
    $$LOSVUID^HDISVAP()
    $$LOSCODE^HDISVAP()
  
  
  Post-Install Cleanup
  --------------------
  The post-install routine for this patch will traverse the XTID VUID FOR SET
  OF CODES file (#8985.1) and examine the EFFECTIVE DATE/TIME multiple
  (subfile #8985.11) for consecutive entries with the same STATUS (field #2).
  If consecutive STATUS values are found, the entry with the most recent
  EFFECTIVE DATE/TIME (field #.01) will be deleted.
  
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;1.0;HEALTH DATA & INFORMATICS;**[patch list]**;Feb 22, 2005
  
  
                            CHECK^XTSUMBLD results
  Routine Name     Before Patch      After Patch          Patch List
  ============     ============     ============     ===================
  HDI1002A                  N/A          2840396              2
  HDISVAP               1748256          2032985              2
  HDISVCMR              5732826          6000933             1,2
  HDISVU02              1445445          1538506             1,2
   
     * Routine HDI1002A is a post installation routine that can
       be deleted after successfull installation of this patch
  
  
  INSTALLATION INSTRUCTIONS:
  ==========================
  This patch can be installed with users on the system with installation
  taking less than 10 minutes.
  
  Note: Patch HDI*1.0*1 is a REQUIRED build for HDI*1.0*2.
        KIDS will not allow the installation of this patch
        without the prior installation of it.
  
   1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note:
      TEXT PRINT/DISPLAY option in the PackMan menu will display the
      patch text only.]
  
   2. Review your mapped set.  If any of the routines listed in the
      ROUTINE SUMMARY section are mapped, they should be removed
      from the mapped set at this time.
  
   3. From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
  
   4. From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter HDI*1.0*2):
  
        a.  Backup a Transport Global
        b.  Compare Transport Global to Current System
        c.  Verify Checksums in Transport Global
        d.  Print Transport Global
  
   5. Use the Install Package(s) option and select the package HDI*1.0*2.
  
   6. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
      YES//', respond NO.
  
   7. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond NO.
  
   8. If routines were unmapped as part of step 2, they should be
      returned to the mapped set once the installation has run to
      completion.
  
   9. Routine HDI1002A may be deleted after successful installation of
      this patch.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: HDI1002A
    Before:            After:  B8553789  **2**
Routine Name: HDISVAP
    Before:  B2851385  After:  B4892248  **2**
Routine Name: HDISVCMR
    Before:  B8366318  After:  B8749465  **1,2**
Routine Name: HDISVU02
    Before:  B3942321  After:  B4727312  **1,2**

=============================================================================
User Information:
Entered By  : PETERSON,JAMES R              Date Entered  : AUG 29, 2005
Completed By: SCHLEHUBER,PAM                Date Completed: MAR 14, 2006
Released By : HARROD,PAUL                   Date Released : MAR 15, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
