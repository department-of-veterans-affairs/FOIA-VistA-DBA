$TXT Created by CURTIS,RICHARD L at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Monday, 12/01/03 at 09:32
=============================================================================
Run Date: JAN 30, 2004                     Designation: SD*5.3*329
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #285                    Status: Released
                  Compliance Date: MAR 01, 2004
=============================================================================

Associated patches: (v)SD*5.3*295  <<= must be installed BEFORE `SD*5.3*329'

Subject: ACRP AD HOC REPORT DOES NOT RECOGNIZE PRIMARY DX

Category: 
  - Routine

Description:
============

 This patch addresses the problem where the ACRP Ad Hoc Report is failing 
 to find patients when Primary Diagnosis is used as the Diagnosis Category 
 Input Parameter for the report.
  
 ASSOCIATED E3R(S):
 ==================
 N/A
  
 ASSOCIATED NOIS:
 ================
 WBP-1103-20149       ACRP REPORTS DO NOT RECOGNIZE PRIMARY DX
 Duplicates:
     LEX-1103-40595   ADHOC report not counting primary dx
     NHM-1103-10202   pRIMARY DIAGNOSIS NOT REPORTING
     SDC-1103-60584   acrp Adhoc not printing Prim dx for stop code
  
 PATICIPATING TEST SITES:
 ========================
  
    San Diego, CA
    Wilkes Barre, PA
    El Paso, TX
    Portland, OR
  
 NOIS OVERVIEW:
 ==============
 1.  WBP-1103-20149   ACRP REPORTS DO NOT RECOGNIZE PRIMARY DX
  
     Problem:
     --------
     When users run the ACRP Ad Hoc Report using Primary Diagnosis as the
     Diagnosis Category Input Parameter, the report fails to find any
     patients.  Several sites ran the report for a particular diagnosis
     as the primary for known patients and it failed to find those
     patients; however, when run for the same diagnosis using All Diagnosis
     as the Diagnosis Category Input Parameter those patients did appear on
     the report.  This problem would have also occurred if the report were
     run using Secondary Diagnosis as the input parameter.
  
     Resolution:
     -----------
     This patch will correct the code that causes this functionality
     problem.  When the Ad Hoc Report is run using Primary Diagnosis as the
     Diagnosis Category Input Parameter, subroutine DXPD^SCRPW24 is called.
     Here, the existing code checks the third piece of local array SDX for
     the diagnosis code, when it needs to be checking the second piece.
     SDX will never contain a third piece.  When Secondary Diagnosis is
     used as the input parameter, the same logic exists within subroutine
     DXSD^SCRPW24.  Both subroutines will be changed to check the second
     piece of local array SDX for the diagnosis code.
  
 TECHNICAL:
 ==========
 Subroutines DXPD and DXSD within routine SCRPW24 will be changed to check
 the second piece of local array SDX for the diagnosis code, i.e.:
 change I $L($P(SDX,U,3)) to I $L($P(SDX,U,2)) within both subroutines.
  
 ROUTINE SUMMARY:
 ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;AUG 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SCRPW24               27654614             27630204     144,163,180,254,
                                                              243,295,329
  
  
 =======================INSTALLATION INSTRUCTIONS========================
 This patch can be installed at any time.  Users do not need to be off
 the system.  Installation should take less than 2 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2.  Review your mapped set.  If the routines are mapped, they should be
     removed from the mapped set at this time.
  
 3.  From the Kernel Installation & Distribution System menu, select
     the Installation menu.
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter SD*5.3*329)
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with the patch.  It will NOT
         backup any other changes such as DDs, or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch
         (routines, DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will ensure
         the integrity of the routines that are in the transport global.
  
 5.  Use the Install Package(s) option and select the package SD*5.3*329.
  
 6.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
     YES//" respond NO.
  
 7.  When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//" respond NO.
  
 8.  If any routines were unmapped as part of step 2, they should be 
     returned to the mapped set once the installation has run to
     completion.

Routine Information:
====================

Routine Name:
  - SCRPW24


Routine Checksum:

=============================================================================
User Information:
Entered By  : CURTIS,RICHARD                Date Entered  : NOV 24, 2003
Completed By: BAUMAN,HELENE                 Date Completed: JAN 27, 2004
Released By : CANNEDY,JOELLEN               Date Released : JAN 30, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
