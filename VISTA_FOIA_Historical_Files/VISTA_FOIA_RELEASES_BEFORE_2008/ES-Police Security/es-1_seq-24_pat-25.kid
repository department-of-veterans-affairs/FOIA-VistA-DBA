Released ES*1*25 SEQ #24
Extracted from mail message
**KIDS**:ES*1.0*25^

**INSTALL NAME**
ES*1.0*25
"BLD",933,0)
ES*1.0*25^POLICE & SECURITY^0^2980615^y
"BLD",933,1,0)
^^1^1^2980615^
"BLD",933,1,1,0)
Patch to patch ES*1*21.
"BLD",933,4,0)
^9.64PA^910^1
"BLD",933,4,910,0)
910
"BLD",933,4,910,2,0)
^9.641^910^1
"BLD",933,4,910,2,910,0)
ESP MASTER NAME INDEX  (File-top level)
"BLD",933,4,910,2,910,1,0)
^9.6411^.04^1
"BLD",933,4,910,2,910,1,.04,0)
CATEGORY
"BLD",933,4,910,222)
y^n^p^^^^n
"BLD",933,4,"APDD",910,910)

"BLD",933,4,"APDD",910,910,.04)

"BLD",933,4,"B",910,910)

"BLD",933,"KRN",0)
^9.67PA^19^18
"BLD",933,"KRN",.4,0)
.4
"BLD",933,"KRN",.401,0)
.401
"BLD",933,"KRN",.402,0)
.402
"BLD",933,"KRN",.403,0)
.403
"BLD",933,"KRN",.5,0)
.5
"BLD",933,"KRN",.84,0)
.84
"BLD",933,"KRN",3.6,0)
3.6
"BLD",933,"KRN",3.8,0)
3.8
"BLD",933,"KRN",9.2,0)
9.2
"BLD",933,"KRN",9.8,0)
9.8
"BLD",933,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",933,"KRN",9.8,"NM",1,0)
ESPMNI0^^0^B11008744
"BLD",933,"KRN",9.8,"NM",2,0)
ESPORP5^^0^B12128215
"BLD",933,"KRN",9.8,"NM","B","ESPMNI0",1)

"BLD",933,"KRN",9.8,"NM","B","ESPORP5",2)

"BLD",933,"KRN",19,0)
19
"BLD",933,"KRN",19.1,0)
19.1
"BLD",933,"KRN",101,0)
101
"BLD",933,"KRN",409.61,0)
409.61
"BLD",933,"KRN",771,0)
771
"BLD",933,"KRN",869.2,0)
869.2
"BLD",933,"KRN",870,0)
870
"BLD",933,"KRN",8994,0)
8994
"BLD",933,"KRN","B",.4,.4)

"BLD",933,"KRN","B",.401,.401)

"BLD",933,"KRN","B",.402,.402)

"BLD",933,"KRN","B",.403,.403)

"BLD",933,"KRN","B",.5,.5)

"BLD",933,"KRN","B",.84,.84)

"BLD",933,"KRN","B",3.6,3.6)

"BLD",933,"KRN","B",3.8,3.8)

"BLD",933,"KRN","B",9.2,9.2)

"BLD",933,"KRN","B",9.8,9.8)

"BLD",933,"KRN","B",19,19)

"BLD",933,"KRN","B",19.1,19.1)

"BLD",933,"KRN","B",101,101)

"BLD",933,"KRN","B",409.61,409.61)

"BLD",933,"KRN","B",771,771)

"BLD",933,"KRN","B",869.2,869.2)

"BLD",933,"KRN","B",870,870)

"BLD",933,"KRN","B",8994,8994)

"BLD",933,"QUES",0)
^9.62^^
"BLD",933,"REQB",0)
^9.611^1^1
"BLD",933,"REQB",1,0)
ES*1.0*21^2
"BLD",933,"REQB","B","ES*1.0*21",1)

"FIA",910)
ESP MASTER NAME INDEX
"FIA",910,0)
^ESP(910,
"FIA",910,0,0)
910I
"FIA",910,0,1)
y^n^p^^^^n
"FIA",910,0,10)

"FIA",910,0,11)

"FIA",910,0,"RLRO")

"FIA",910,0,"VR")
1.0^ES
"FIA",910,910)
1
"FIA",910,910,.04)

"PKG",368,-1)
1^1
"PKG",368,0)
POLICE & SECURITY^ES^POLICE & SECURITY PACKAGE
"PKG",368,20,0)
^9.402P^^
"PKG",368,22,0)
^9.49I^1^1
"PKG",368,22,1,0)
1.0^2930300^2960130
"PKG",368,22,1,"PAH",1,0)
25^2980615
"PKG",368,22,1,"PAH",1,1,0)
^^1^1^2980615
"PKG",368,22,1,"PAH",1,1,1,0)
Patch to patch ES*1*21.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ESPMNI0")
0^1^B11008744
"RTN","ESPMNI0",1,0)
ESPMNI0 ;DALISC/CKA - INPUT MASTER NAME DATA;6/93
"RTN","ESPMNI0",2,0)
 ;;1.0;POLICE & SECURITY;**25**;Mar 31, 1994
"RTN","ESPMNI0",3,0)
EN ;Q  ;CALLED FROM ESPMNI
"RTN","ESPMNI0",4,0)
NAME S DIR(0)="910,.01",DIR("B")=ESPX D ^DIR K DIR I $D(DIRUT) K ESPFN G NOU
"RTN","ESPMNI0",5,0)
 S ESPD(.01)=Y
"RTN","ESPMNI0",6,0)
SSN S ESPX=.02 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.02)=Y S:Y?9N ESPD(.02,"P")=$E(Y,1,3)_"-"_$E(Y,4,5)_"-"_$E(Y,6,9)
"RTN","ESPMNI0",7,0)
 I ESPD(.02)']"" G DOB
"RTN","ESPMNI0",8,0)
DOB S ESPX=.03 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.03)=Y
"RTN","ESPMNI0",9,0)
 I Y D DD^%DT S ESPD(.03,"P")=Y
"RTN","ESPMNI0",10,0)
SEX S ESPX=.08 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.08)=$P(Y,U)
"RTN","ESPMNI0",11,0)
RACE S ESPX=.09 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.09)=$P(Y,U,1),ESPD(.09,"P")=$P(Y,U,2)
"RTN","ESPMNI0",12,0)
HGT S ESPX=3.01 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(3.01)=Y
"RTN","ESPMNI0",13,0)
WGT S ESPX=3.02 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(3.02)=Y
"RTN","ESPMNI0",14,0)
HAIR S ESPX=3.03 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(3.03)=$P(Y,U),ESPD(3.03,"P")=$P(Y,U,2)
"RTN","ESPMNI0",15,0)
EYE S ESPX=3.04 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(3.04)=$P(Y,U),ESPD(3.04,"P")=$P(Y,U,2)
"RTN","ESPMNI0",16,0)
SKIN S ESPX=3.05 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(3.05)=$P(Y,U),ESPD(3.05,"P")=$P(Y,U,2)
"RTN","ESPMNI0",17,0)
SCAR S ESPX=3.06 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(3.06)=Y
"RTN","ESPMNI0",18,0)
DL S ESPX=.1 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.1)=Y
"RTN","ESPMNI0",19,0)
 I ESPD(.1)="" G CAT
"RTN","ESPMNI0",20,0)
ST S ESPX=.11 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.11)=$P(Y,U,1),ESPD(.11,"P")=$P(Y,U,2)
"RTN","ESPMNI0",21,0)
CAT S ESPX=.04 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.04)=$P(Y,U),ESPD(.04,"P")=$S(Y="P":"PATIENT",Y="V":"VISITOR",Y="E":"EMPLOYEE",Y="O":"OUTSIDER",Y="PO":"POLICE OFFICER",1:"")
"RTN","ESPMNI0",22,0)
 I ESPD(.04)'="E"&(ESPD(.04)'="PO") G AG
"RTN","ESPMNI0",23,0)
SER S ESPX=.05 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.05)=$P(Y,U,1),ESPD(.05,"P")=$P(Y,U,2)
"RTN","ESPMNI0",24,0)
ID S ESPX=.07 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.07)=Y
"RTN","ESPMNI0",25,0)
 G WPH
"RTN","ESPMNI0",26,0)
AG S ESPX=.06 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(.06)=Y
"RTN","ESPMNI0",27,0)
 I ESPD(.06)="" G WPH
"RTN","ESPMNI0",28,0)
WA1 S ESPX=2.01 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(2.01)=Y
"RTN","ESPMNI0",29,0)
WA2 S ESPX=2.02 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(2.02)=Y
"RTN","ESPMNI0",30,0)
WCI S ESPX=2.03 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(2.03)=Y
"RTN","ESPMNI0",31,0)
WST S ESPX=2.04 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(2.04)=$P(Y,U,1),ESPD(2.04,"P")=$P(Y,U,2)
"RTN","ESPMNI0",32,0)
WZIP S ESPX=2.05 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(2.05)=Y
"RTN","ESPMNI0",33,0)
WPH S ESPX=2.06 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(2.06)=Y
"RTN","ESPMNI0",34,0)
HA1 S ESPX=1.01 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(1.01)=Y
"RTN","ESPMNI0",35,0)
HA2 S ESPX=1.02 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(1.02)=Y
"RTN","ESPMNI0",36,0)
HCI S ESPX=1.03 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(1.03)=Y
"RTN","ESPMNI0",37,0)
HST S ESPX=1.04 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(1.04)=$P(Y,U,1),ESPD(1.04,"P")=$P(Y,U,2)
"RTN","ESPMNI0",38,0)
HZIP S ESPX=1.05 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(1.05)=Y
"RTN","ESPMNI0",39,0)
HPH S ESPX=1.06 D RD G:$D(DUOUT)!($D(DTOUT)) NOU S ESPD(1.06)=Y
"RTN","ESPMNI0",40,0)
 QUIT
"RTN","ESPMNI0",41,0)
EXIT K %X,%Y,D,DA,DIC,DIR,DIRUT,DIWF,DIWL,DIWR,ESPAKA,ESPD,ESPDOB,ESPJ,ESPNO,ESPX,I,IEN,X,Y,^TMP($J,"MNI")
"RTN","ESPMNI0",42,0)
 QUIT
"RTN","ESPMNI0",43,0)
NOU W !!,$C(7),?20,"NO UPDATING HAS OCCURRED!!!",!! K ESPAKA,ESPD,^TMP($J,"MNI") G EXIT
"RTN","ESPMNI0",44,0)
RD K DIR("B"),DA S DIR(0)="910,"_ESPX D ^DIR I $S(($L(X)>1&($E(X)=U)):1,($L(X)>1&(X[U)):1,1:0) D NO K X,Y G RD
"RTN","ESPMNI0",45,0)
 K DIR
"RTN","ESPMNI0",46,0)
 Q
"RTN","ESPMNI0",47,0)
NO W $C(7),!!?5,"NO ^___ ALLOWED!",!! Q
"RTN","ESPORP5")
0^2^B12128215
"RTN","ESPORP5",1,0)
ESPORP5 ;DALISC/CKA - PRINT OFFENSE REPORT CONT. ;10/92
"RTN","ESPORP5",2,0)
 ;;1.0;POLICE & SECURITY;**11,14,17,21,25**;Mar 31, 1994
"RTN","ESPORP5",3,0)
EN ;CONTINUED FROM ESPORP4
"RTN","ESPORP5",4,0)
NARR ;PRINT NARRATIVE
"RTN","ESPORP5",5,0)
 D MIN^ESPORP(10) G:END EXIT
"RTN","ESPORP5",6,0)
 K ^UTILITY($J,"W") S DIWL=3,DIWR=78,DIWF="W",IEN=0 D LINES^ESPORP(2) G:END EXIT
"RTN","ESPORP5",7,0)
 F I=1:1:18 W "* "
"RTN","ESPORP5",8,0)
 W "NARRATIVE" F I=1:1:17 W " *"
"RTN","ESPORP5",9,0)
 D LINES^ESPORP(2) Q:END  W ?10,"ORIGIN:" D LINES^ESPORP(2) Q:END
"RTN","ESPORP5",10,0)
 F ESPN=1:1 S IEN=$O(^ESP(912,ESPID,70,IEN)) Q:IEN'>0  S X=^(IEN,0) D  Q:END
"RTN","ESPORP5",11,0)
 .  D:($Y+2>IOSL) HDR^ESPORP Q:END
"RTN","ESPORP5",12,0)
 .  D ^DIWP
"RTN","ESPORP5",13,0)
 G:END EXIT
"RTN","ESPORP5",14,0)
 D ^DIWW
"RTN","ESPORP5",15,0)
 K ^UTILITY($J,"W") S DIWL=3,DIWR=78,DIWF="W",IEN=0
"RTN","ESPORP5",16,0)
 D MIN^ESPORP(2) G:END EXIT
"RTN","ESPORP5",17,0)
 D LINES^ESPORP(2) G:END EXIT W ?10,"INITIAL OBSERVATION:" D LINES^ESPORP(2) G:END EXIT
"RTN","ESPORP5",18,0)
 F ESPN=1:1 S IEN=$O(^ESP(912,ESPID,72,IEN)) Q:IEN'>0  S X=^(IEN,0) D  Q:END
"RTN","ESPORP5",19,0)
 .  D:($Y+2>IOSL) HDR^ESPORP Q:END
"RTN","ESPORP5",20,0)
 .  D ^DIWP
"RTN","ESPORP5",21,0)
 G:END EXIT
"RTN","ESPORP5",22,0)
 D ^DIWW
"RTN","ESPORP5",23,0)
 ;
"RTN","ESPORP5",24,0)
 K ^UTILITY($J,"W") S DIWL=3,DIWR=78,DIWF="W",IEN=0
"RTN","ESPORP5",25,0)
 D MIN^ESPORP(8) G:END EXIT
"RTN","ESPORP5",26,0)
 D LINES^ESPORP(2) G:END EXIT W ?10,"INVESTIGATION:" D LINES^ESPORP(2) G:END EXIT
"RTN","ESPORP5",27,0)
 F ESON=1:1 S IEN=$O(^ESP(912,ESPID,73,IEN)) Q:IEN'>0  S X=^(IEN,0) D  Q:END
"RTN","ESPORP5",28,0)
 .  D:($Y+2>IOSL) HDR^ESPORP Q:END
"RTN","ESPORP5",29,0)
 .  D ^DIWP
"RTN","ESPORP5",30,0)
 G:END EXIT
"RTN","ESPORP5",31,0)
 D ^DIWW
"RTN","ESPORP5",32,0)
 ;
"RTN","ESPORP5",33,0)
 K ^UTILITY($J,"W") S DIWL=3,DIWR=78,DIWF="W",IEN=0
"RTN","ESPORP5",34,0)
 D MIN^ESPORP(10) G:END EXIT
"RTN","ESPORP5",35,0)
 D LINES^ESPORP(2) G:END EXIT W ?10,"DISPOSITION:" D LINES^ESPORP(2) G:END EXIT
"RTN","ESPORP5",36,0)
 F ESPN=1:1 S IEN=$O(^ESP(912,ESPID,74,IEN)) Q:IEN'>0  S X=^(IEN,0) D  Q:END
"RTN","ESPORP5",37,0)
 .  D:($Y+2>IOSL) HDR^ESPORP Q:END
"RTN","ESPORP5",38,0)
 .  D ^DIWP
"RTN","ESPORP5",39,0)
 G:END EXIT
"RTN","ESPORP5",40,0)
 D ^DIWW
"RTN","ESPORP5",41,0)
SIG D MIN^ESPORP(5) G:END EXIT
"RTN","ESPORP5",42,0)
 D LINES^ESPORP(5) G:END EXIT
"RTN","ESPORP5",43,0)
 S DIC="^ESP(912,",DA=ESPID,DR=".06",DIQ(0)="I" D EN^DIQ1
"RTN","ESPORP5",44,0)
 S ESPOFF=$G(^UTILITY("DIQ1",$J,912,DA,.06,"I"))
"RTN","ESPORP5",45,0)
 G:ESPOFF']"" FOL
"RTN","ESPORP5",46,0)
 S DIC="^VA(200,",DA=ESPOFF,DR="20.2;910.1",DIQ(0)="E" D EN^DIQ1
"RTN","ESPORP5",47,0)
 D LINES^ESPORP() G:END EXIT
"RTN","ESPORP5",48,0)
 W $G(^UTILITY("DIQ1",$J,200,DA,20.2,"E")),"   # ",$G(^UTILITY("DIQ1",$J,200,DA,910.1,"E"))
"RTN","ESPORP5",49,0)
 D LINES^ESPORP() G:END EXIT  W "INVESTIGATING OFFICER"
"RTN","ESPORP5",50,0)
FOL ;PRINT FOLLOW-UP NOTES
"RTN","ESPORP5",51,0)
 G:'$D(^ESP(912,ESPID,130)) EXIT
"RTN","ESPORP5",52,0)
 D HDR^ESPORP G:END EXIT
"RTN","ESPORP5",53,0)
 F ESPN=0:0 S ESPN=$O(^ESP(912,ESPID,130,ESPN)) Q:ESPN'>0!(END)  D
"RTN","ESPORP5",54,0)
 .  D HDR^ESPORP:$Y+10>IOSL&(ESPN'=1) Q:END
"RTN","ESPORP5",55,0)
 .  D LINES^ESPORP(1) Q:END  W "FOLLOW-UP NOTES:" D LINES^ESPORP(2) Q:END
"RTN","ESPORP5",56,0)
 .  K ^UTILITY($J,"W") S DIWL=3,DIWR=78,DIWF="W",IEN=0
"RTN","ESPORP5",57,0)
 .  F ESPN1=1:1 S IEN=$O(^ESP(912,ESPID,130,ESPN,10,IEN)) Q:IEN'>0  S X=^(IEN,0) D  Q:END
"RTN","ESPORP5",58,0)
 .  .  D:($Y+2>IOSL) HDR^ESPORP Q:END
"RTN","ESPORP5",59,0)
 .  .  D ^DIWP
"RTN","ESPORP5",60,0)
 .  Q:END
"RTN","ESPORP5",61,0)
 .  D ^DIWW
"RTN","ESPORP5",62,0)
 .  S DIC="^ESP(912,"_ESPID_",130,",DA=ESPN,DR=".01",DIQ(0)="I" D EN^DIQ1
"RTN","ESPORP5",63,0)
 .  S ESPOFF=$G(^UTILITY("DIQ1",$J,912.17,DA,.01,"I"))
"RTN","ESPORP5",64,0)
 .  Q:ESPOFF']""
"RTN","ESPORP5",65,0)
 .  S DIC="^VA(200,",DA=ESPOFF,DR="20.2;910.1",DIQ(0)="E" D EN^DIQ1
"RTN","ESPORP5",66,0)
 .  D LINES^ESPORP(5) Q:END
"RTN","ESPORP5",67,0)
 .  W $G(^UTILITY("DIQ1",$J,200,DA,20.2,"E")),"   # ",$G(^UTILITY("DIQ1",$J,200,DA,910.1,"E"))
"RTN","ESPORP5",68,0)
 .  D LINES^ESPORP(1) Q:END
"RTN","ESPORP5",69,0)
 .  W "FOLLOW-UP INVESTIGATOR"
"RTN","ESPORP5",70,0)
 .  D LINES^ESPORP(5) Q:END
"RTN","ESPORP5",71,0)
EXIT D ^%ZISC
"RTN","ESPORP5",72,0)
 K CL,DA,DIC,DIQ,DIR,DIRUT,DIWF,DIWL,DIWR,ESPDOB,ESPDOBP,DR,DTOUT,DUOUT,END,ESPDTR,ESPID,ESPFN,ESON,ESPN,ESPN1,ESPOFF,IEN,PAGE,SSN,X,Y,Z,POP
"RTN","ESPORP5",73,0)
 K ^UTILITY("DIQ1",$J)
"RTN","ESPORP5",74,0)
 Q
"VER")
8.0^21.0
"^DD",910,910,.04,0)
CATEGORY^RS^P:PATIENT;V:VISITOR;E:EMPLOYEE;O:OUTSIDER;PO:POLICE OFFICER;^0;4^Q
"^DD",910,910,.04,3)
Enter 'P' for Patient, 'V' for Visitor, 'E' for Employee, or 'O' for Outsider or 'PO' for Police Officer.
"^DD",910,910,.04,21,0)
^^2^2^2980226^^^^
"^DD",910,910,.04,21,1,0)
Enter 'P' for Patient, 'V' for Visitor, 'E' for Employee, 
"^DD",910,910,.04,21,2,0)
'PO' for Police Officer, or 'O' for Other.
"^DD",910,910,.04,"DT")
2980615
**END**
**END**
