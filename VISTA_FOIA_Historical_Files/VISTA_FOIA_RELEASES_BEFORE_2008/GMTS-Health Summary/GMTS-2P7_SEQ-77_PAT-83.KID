Released GMTS*2.7*83 SEQ #77
Extracted from mail message
**KIDS**:GMTS*2.7*83^

**INSTALL NAME**
GMTS*2.7*83
"BLD",18259,0)
GMTS*2.7*83^HEALTH SUMMARY^0^3070524^y
"BLD",18259,4,0)
^9.64PA^^
"BLD",18259,6.3)
1
"BLD",18259,"KRN",0)
^9.67PA^8989.52^19
"BLD",18259,"KRN",.4,0)
.4
"BLD",18259,"KRN",.401,0)
.401
"BLD",18259,"KRN",.402,0)
.402
"BLD",18259,"KRN",.403,0)
.403
"BLD",18259,"KRN",.5,0)
.5
"BLD",18259,"KRN",.84,0)
.84
"BLD",18259,"KRN",3.6,0)
3.6
"BLD",18259,"KRN",3.8,0)
3.8
"BLD",18259,"KRN",9.2,0)
9.2
"BLD",18259,"KRN",9.8,0)
9.8
"BLD",18259,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",18259,"KRN",9.8,"NM",1,0)
GMTSFH^^0^B25222583
"BLD",18259,"KRN",9.8,"NM","B","GMTSFH",1)

"BLD",18259,"KRN",19,0)
19
"BLD",18259,"KRN",19.1,0)
19.1
"BLD",18259,"KRN",101,0)
101
"BLD",18259,"KRN",409.61,0)
409.61
"BLD",18259,"KRN",771,0)
771
"BLD",18259,"KRN",870,0)
870
"BLD",18259,"KRN",8989.51,0)
8989.51
"BLD",18259,"KRN",8989.52,0)
8989.52
"BLD",18259,"KRN",8994,0)
8994
"BLD",18259,"KRN","B",.4,.4)

"BLD",18259,"KRN","B",.401,.401)

"BLD",18259,"KRN","B",.402,.402)

"BLD",18259,"KRN","B",.403,.403)

"BLD",18259,"KRN","B",.5,.5)

"BLD",18259,"KRN","B",.84,.84)

"BLD",18259,"KRN","B",3.6,3.6)

"BLD",18259,"KRN","B",3.8,3.8)

"BLD",18259,"KRN","B",9.2,9.2)

"BLD",18259,"KRN","B",9.8,9.8)

"BLD",18259,"KRN","B",19,19)

"BLD",18259,"KRN","B",19.1,19.1)

"BLD",18259,"KRN","B",101,101)

"BLD",18259,"KRN","B",409.61,409.61)

"BLD",18259,"KRN","B",771,771)

"BLD",18259,"KRN","B",870,870)

"BLD",18259,"KRN","B",8989.51,8989.51)

"BLD",18259,"KRN","B",8989.52,8989.52)

"BLD",18259,"KRN","B",8994,8994)

"BLD",18259,"QUES",0)
^9.62^^
"BLD",18259,"REQB",0)
^9.611^1^1
"BLD",18259,"REQB",1,0)
FH*5.5*8^2
"BLD",18259,"REQB","B","FH*5.5*8",1)

"MBREQ")
0
"PKG",56,-1)
1^1
"PKG",56,0)
HEALTH SUMMARY^GMTS^Integrated Health Summary Tools
"PKG",56,22,0)
^9.49I^1^1
"PKG",56,22,1,0)
2.7^2951020^2960605
"PKG",56,22,1,"PAH",1,0)
83^3070524
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","GMTSFH")
0^1^B25222583^B21777901
"RTN","GMTSFH",1,0)
GMTSFH ; SLC/JER,MKB,KER - Dietetics Component ; 02/27/2002
"RTN","GMTSFH",2,0)
 ;;2.7;Health Summary;**25,28,49,83**;Oct 20, 1995;Build 1
"RTN","GMTSFH",3,0)
 ;                    
"RTN","GMTSFH",4,0)
 ; External References
"RTN","GMTSFH",5,0)
 ;   DBIA  1407  ^FHWHEA
"RTN","GMTSFH",6,0)
 ;                    
"RTN","GMTSFH",7,0)
MAIN ; Controls branching and execution
"RTN","GMTSFH",8,0)
 N GMI,MAX S MAX=$S(+($G(GMTSNDM))>0:+($G(GMTSNDM)),1:99999)
"RTN","GMTSFH",9,0)
 D ^FHWHEA Q:'$D(^UTILITY($J))  F GMI="DI","NS","SF","TF","EN" D @GMI
"RTN","GMTSFH",10,0)
 K ^UTILITY($J),STR,COL,TX,STRT,STP,CNTR
"RTN","GMTSFH",11,0)
 Q
"RTN","GMTSFH",12,0)
DI ; Diet Orders
"RTN","GMTSFH",13,0)
 S CNTR=$S(+($G(GMTSNDM))>0:+($G(GMTSNDM)),1:99999)
"RTN","GMTSFH",14,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W "DIETS:",!
"RTN","GMTSFH",15,0)
 I '$D(^UTILITY($J,"DI")) D CKP^GMTSUP Q:$D(GMTSQIT)  W "No diet orders available.",! Q
"RTN","GMTSFH",16,0)
 N GMW,GMIDT S GMIDT=GMTS1 F  S GMIDT=$O(^UTILITY($J,"DI",GMIDT)) Q:(GMIDT'>0)!(GMIDT>GMTS2)  D DIWRT
"RTN","GMTSFH",17,0)
 Q
"RTN","GMTSFH",18,0)
DIWRT ; Writes Diet Orders
"RTN","GMTSFH",19,0)
 S CNTR=CNTR-1 I CNTR<0 Q
"RTN","GMTSFH",20,0)
 N GMZ S GMZ=^UTILITY($J,"DI",GMIDT,0)
"RTN","GMTSFH",21,0)
 S X=+$P(GMZ,U) D REGDT4^GMTSU S STRT=X
"RTN","GMTSFH",22,0)
 I $P(GMZ,U,2)="" S STP="Present"
"RTN","GMTSFH",23,0)
 E  S X=+$P(GMZ,U,2) D REGDT4^GMTSU S STP=X
"RTN","GMTSFH",24,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W STRT_" - "_STP,?25
"RTN","GMTSFH",25,0)
 S STR=$S($P(GMZ,U,3)'="":$P(GMZ,U,3),1:"No diet orders on file.")
"RTN","GMTSFH",26,0)
 I $L(STR)<40 W STR
"RTN","GMTSFH",27,0)
 E  S COL=27 D WRAP
"RTN","GMTSFH",28,0)
 W:$P(GMZ,U,5)'="" ?61,"("_$P(GMZ,U,5)_")" W !
"RTN","GMTSFH",29,0)
 I $P(GMZ,U,4)'="" D DICOM
"RTN","GMTSFH",30,0)
 Q
"RTN","GMTSFH",31,0)
DICOM ; Writes comments for DI
"RTN","GMTSFH",32,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W "           Comments: "
"RTN","GMTSFH",33,0)
 I $L($P(GMZ,U,4))<55 W $P(GMZ,U,4),!
"RTN","GMTSFH",34,0)
 E  S STR=$P(GMZ,U,4),COL=45 D WRAP W !
"RTN","GMTSFH",35,0)
 Q
"RTN","GMTSFH",36,0)
NS ; Nutritional status
"RTN","GMTSFH",37,0)
 I '$D(^UTILITY($J,"NS")) Q
"RTN","GMTSFH",38,0)
 S CNTR=$S(+($G(GMTSNDM))>0:+($G(GMTSNDM)),1:99999)
"RTN","GMTSFH",39,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W !,"NUTRITIONAL STATUS:",!
"RTN","GMTSFH",40,0)
 N GMW,GMIDT
"RTN","GMTSFH",41,0)
 S GMIDT=GMTS1 F  S GMIDT=$O(^UTILITY($J,"NS",GMIDT)) Q:(GMIDT'>0)!(GMIDT>GMTS2)  D NSWRT
"RTN","GMTSFH",42,0)
 Q
"RTN","GMTSFH",43,0)
NSWRT ; Writes Nutritional Status
"RTN","GMTSFH",44,0)
 S CNTR=CNTR-1 I CNTR<0 Q
"RTN","GMTSFH",45,0)
 N GMZ S GMZ=^UTILITY($J,"NS",GMIDT,0)
"RTN","GMTSFH",46,0)
 S X=+$P(GMZ,U) D REGDTM4^GMTSU S STRT=X
"RTN","GMTSFH",47,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)
"RTN","GMTSFH",48,0)
 W STRT,?21,$S($P(GMZ,U,2)'="":$P(GMZ,U,2),1:"No status on file."),!
"RTN","GMTSFH",49,0)
 Q
"RTN","GMTSFH",50,0)
SF ; Supplemental feeding
"RTN","GMTSFH",51,0)
 I '$D(^UTILITY($J,"SF")) Q
"RTN","GMTSFH",52,0)
 S CNTR=$S(+($G(GMTSNDM))>0:+($G(GMTSNDM)),1:99999)
"RTN","GMTSFH",53,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W !,"SUPPLEMENTAL FEEDINGS:",!
"RTN","GMTSFH",54,0)
 N GMW,GMIDT
"RTN","GMTSFH",55,0)
 S GMIDT=GMTS1 F  S GMIDT=$O(^UTILITY($J,"SF",GMIDT)) Q:(GMIDT'>0)!(GMIDT>GMTS2)  D SFWRT
"RTN","GMTSFH",56,0)
 Q
"RTN","GMTSFH",57,0)
SFWRT ; Writes Supplemental Feedings
"RTN","GMTSFH",58,0)
 S CNTR=CNTR-1 I CNTR<0 Q
"RTN","GMTSFH",59,0)
 N GMZ S GMZ=^UTILITY($J,"SF",GMIDT,0)
"RTN","GMTSFH",60,0)
 S X=+$P(GMZ,U) D REGDT4^GMTSU S STRT=X
"RTN","GMTSFH",61,0)
 I $P(GMZ,U,2)="" S STP="Present"
"RTN","GMTSFH",62,0)
 E  S X=+$P(GMZ,U,2) D REGDT4^GMTSU S STP=X
"RTN","GMTSFH",63,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W STRT_" - "_STP,!
"RTN","GMTSFH",64,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?14,"10 Am  " S STR=$S($P(GMZ,U,3)'="":$P(GMZ,U,3),1:"No order")
"RTN","GMTSFH",65,0)
 I $L(STR)<55 W STR,!
"RTN","GMTSFH",66,0)
 E  S COL=45 D WRAP W !
"RTN","GMTSFH",67,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?14," 2 Pm  " S STR=$S($P(GMZ,U,4)'="":$P(GMZ,U,4),1:"No order")
"RTN","GMTSFH",68,0)
 I $L(STR)<55 W STR,!
"RTN","GMTSFH",69,0)
 E  S COL=45 D WRAP W !
"RTN","GMTSFH",70,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?14," 8 Pm  " S STR=$S($P(GMZ,U,5)'="":$P(GMZ,U,5),1:"No order")
"RTN","GMTSFH",71,0)
 I $L(STR)<55 W STR,!
"RTN","GMTSFH",72,0)
 E  S COL=45 D WRAP W !
"RTN","GMTSFH",73,0)
 Q
"RTN","GMTSFH",74,0)
TF ; Tubefeeding
"RTN","GMTSFH",75,0)
 I '$D(^UTILITY($J,"TF")) Q
"RTN","GMTSFH",76,0)
 S CNTR=$S(+($G(GMTSNDM))>0:+($G(GMTSNDM)),1:99999)
"RTN","GMTSFH",77,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W !,"TUBE FEEDINGS:",!
"RTN","GMTSFH",78,0)
 N GMW,GMIDT
"RTN","GMTSFH",79,0)
 S GMIDT=GMTS1 F  S GMIDT=$O(^UTILITY($J,"TF",GMIDT)) Q:(GMIDT'>0)!(GMIDT>GMTS2)  D TFWRT
"RTN","GMTSFH",80,0)
 Q
"RTN","GMTSFH",81,0)
TFWRT ; Writes tubefeeding
"RTN","GMTSFH",82,0)
 S CNTR=CNTR-1 I CNTR<0 Q
"RTN","GMTSFH",83,0)
 N GMZ S GMZ=^UTILITY($J,"TF",GMIDT,0)
"RTN","GMTSFH",84,0)
 S X=+$P(GMZ,U) D REGDT4^GMTSU S STRT=X
"RTN","GMTSFH",85,0)
 I $P(GMZ,U,2)="" S STP="Present"
"RTN","GMTSFH",86,0)
 E  S X=+$P(GMZ,U,2) D REGDT4^GMTSU S STP=X
"RTN","GMTSFH",87,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W STRT_" - "_STP,!
"RTN","GMTSFH",88,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?12,"Product: ",$P(GMZ,U,3),!
"RTN","GMTSFH",89,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?11,"Strength: ",$P(GMZ,U,4),?51,"Quantity: ",$P(GMZ,U,5),!
"RTN","GMTSFH",90,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?9,"Daily CC's: ",$P(GMZ,U,6),?47,"Daily KCal's: ",$P(GMZ,U,7),!
"RTN","GMTSFH",91,0)
 I $P(GMZ,U,8)'="" D TFCOM
"RTN","GMTSFH",92,0)
 Q
"RTN","GMTSFH",93,0)
TFCOM ; Writes comments for TF
"RTN","GMTSFH",94,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?11,"Comments: "
"RTN","GMTSFH",95,0)
 I $L($P(GMZ,U,8))<55 W $P(GMZ,U,8),!
"RTN","GMTSFH",96,0)
 E  S STR=$P(GMZ,U,8),COL=45 D WRAP W !
"RTN","GMTSFH",97,0)
 Q
"RTN","GMTSFH",98,0)
WRAP ; Controls wrap-around feature for comments, etc.
"RTN","GMTSFH",99,0)
 S TX=$F(STR," ",COL) W $E(STR,1,TX-1),!
"RTN","GMTSFH",100,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?21,$E(STR,TX,$L(STR))
"RTN","GMTSFH",101,0)
 Q
"RTN","GMTSFH",102,0)
EN ; Dietetic Encounters
"RTN","GMTSFH",103,0)
 S CNTR=$S(+($G(GMTSNDM))>0:+($G(GMTSNDM)),1:99999) Q:'$D(^UTILITY($J,"EN"))
"RTN","GMTSFH",104,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W !,"DIETETIC ENCOUNTERS:",! N GMW,GMIDT S GMIDT=GMTS1
"RTN","GMTSFH",105,0)
 F  S GMIDT=$O(^UTILITY($J,"EN",GMIDT)) Q:(GMIDT'>0)!(GMIDT>GMTS2)  D
"RTN","GMTSFH",106,0)
 . S CNTR=CNTR-1 I CNTR<0 Q
"RTN","GMTSFH",107,0)
 . N GMZ S GMZ=^UTILITY($J,"EN",GMIDT,0)
"RTN","GMTSFH",108,0)
 . S X=+$P(GMZ,U) D REGDT4^GMTSU S STRT=X
"RTN","GMTSFH",109,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W STRT,?12,$P(GMZ,U,2),!
"RTN","GMTSFH",110,0)
 . I $P(GMZ,U,3)]"" D CKP^GMTSUP Q:$D(GMTSQIT)  W ?6,$P(GMZ,U,3),!
"RTN","GMTSFH",111,0)
 . I $P(GMZ,U,4)]"" D CKP^GMTSUP Q:$D(GMTSQIT)  W ?6,$P(GMZ,U,4),!
"RTN","GMTSFH",112,0)
 . I $D(^UTILITY($J,"NA",GMIDT)) D
"RTN","GMTSFH",113,0)
 . . ;I $G(^UTILITY($J,"NA",GMIDT,1)) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?6,$G(^UTILITY($J,"NA",GMIDT,1)),!
"RTN","GMTSFH",114,0)
 . . ;I $G(^UTILITY($J,"NA",GMIDT,3)) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?6,"Comments:",!
"RTN","GMTSFH",115,0)
 . . N I S I=0 F  S I=$O(^UTILITY($J,"NA",GMIDT,I)) Q:'I  D CKP^GMTSUP Q:$D(GMTSQIT)  W ?6,$G(^UTILITY($J,"NA",GMIDT,I)),!
"RTN","GMTSFH",116,0)
 Q
"VER")
8.0^22.0
"BLD",18259,6)
^77
**END**
**END**
