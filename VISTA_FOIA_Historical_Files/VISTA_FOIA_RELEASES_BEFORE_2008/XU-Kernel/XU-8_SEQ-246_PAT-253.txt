$TXT Created by MEIGHAN,MIKE J at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Monday, 04/28/03 at 09:46
=============================================================================
Run Date: MAY 20, 2003                     Designation: XU*8*253
Package : XU - KERNEL                          Priority: Mandatory
Version : 8       SEQ #246                       Status: Released
                  Compliance Date: JUN 20, 2003
=============================================================================


Subject: Merging Users' Menu Structures

Category: 
  - Routine

Description: 
============

                          XU*8*253
  
              Merging Users' Menu Structures
  
    When a user is reactivated and there are no "^" jump 
 compiled menus for that user in the ^XUTL global then the 
 software tries to merge the necessary data from the master 
 copy in ^DIC(19,"AXQ") in to the global.  When several 
 users are reactivated at the same time several merges were 
 triggered.  This patch prevents this and causes the merges 
 to take place in an orderly fashion.
  
    Likewise, when a user signs onto a system in a cluster 
 that and does not have the most recent data structures to 
 use a merge is triggered.  A system of flags and locks are 
 now used to control all merges within the Menu System.
  
 Test Sites:
 ===========
 Boston VAMC, Martinez VAMC
  
 NOIS Reports:
 =============
 BRX-1202-10830  ECH-1102-50468  MIW-0902-40935  SBY-0103-32445  
 AUG-0203-30723  CTX-0303-72172  DAY-0802-42242  CTX-0902-71094
 MOU-1102-30540  COA-0802-20024  BHH-0802-42815  MAC-1002-60277
  
  
  
 Routine Summary:
 ================
 The following routines are included in this patch.  The 
 second line of each of these routines now looks like:
  
      <tab>;;8.0;KERNEL;**[patch list]**;Jul 10, 1995
  
 Checksums:
 ==========
 Checksums obtained using CHECK^XTSUMBLD
  
  Rtn Nm    Chksum Before   Chksum After    Patch List
  ------    -------------   ------------    ----------
 XQ12        19745424        18596780       9,20,46,157,253
 XQ75        17149783        16587403       47,46,157,253
 XQ81        19927676        20839713       81,116,157,253
 XQ84         8049971        10556351       157,253
 XQCS        12888327        12870297       15,28,82,116,115
                                            177,188,157,253
 List of preceding patches: XU*8*157
  
  
 Blood Bank Team Coordination:
 =============================
 Clearance - 5/12/03
  
  
 Installation Instructions:
 ==========================
  
      1.   These routines are heavily used so they should
         be installed when there is minimum activity on the
         system
  
      2.   DSM sites - Some of these routines are usually 
         mapped, so you will need to disable mapping for 
         the affected routines.
  
      3.   Use the 'INSTALL/CHECK MESSAGE' option on the 
         PackMan menu. This option will load the KIDS 
         (Kernel Installation and Distribution System) package 
         onto your system.
  
      4.   You DO NOT need to stop TaskMan or the 
         background filers.
  
      5.   The patch has now been loaded into a transport 
         global on your system.  On the KIDS menu, select 
         the 'Installation' menu and use the following options: 
  
            Verify Checksums in Transport Global
            Print Transport Global 
            Compare Transport Global to Current System
            Backup a Transport Global
  
             Install Package(s) 
             Select INSTALL NAME: XU*8.0*253
                                  ==========
              Suggested answers to install questions:
  
                 "Want KIDS to Inhibit Logins during the 
                    Install? YES//" NO
                 "Want to DISABLE Scheduled Options, Menu 
                    Options, and Protocols? YES//" NO
  
  
      6.  AXP Sites - Answer 'NO' to the question 'Want to 
         MOVE routines to other CPUs?'.
  
      7.  If the routines were unmapped as part of step 2,  
         they should be returned to the mapped set once the 
         installation has run to completion.

Routine Information:
====================

Routine Name:
  - XQ12


Routine Checksum:

Routine Name:
  - XQ81


Routine Checksum:

Routine Name:
  - XQ84


Routine Checksum:

Routine Name:
  - XQ75


Routine Checksum:

Routine Name:
  - XQCS


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : MEIGHAN,MIKE                   Date Entered : AUG 21, 2002
Completed By: SINGH,GURBIR                  Date Completed: MAY 16, 2003
Released By : TILLIS,LEWIS                  Date Released : MAY 20, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
