$TXT Created by SCHRAM,JACK at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Thursday, 06/02/05 at 09:05
=============================================================================
Run Date: JUN 06, 2005                     Designation: XT*7.3*95
Package : XT - TOOLKIT                        Priority: Mandatory
Version : 7.3        SEQ #74                    Status: Released
                  Compliance Date: JUL 07, 2005
=============================================================================

Associated patches: (v)XT*7.3*47   <<= must be installed BEFORE `XT*7.3*95'
                    (v)XT*7.3*83   <<= must be installed BEFORE `XT*7.3*95'

Subject: Speed-up merge processes

Category: 
  - Routine
  - Data Dictionary

Description:
============

 This patch adds the new SECONDS TO WAIT FOR STOP CHECK field (#1.03) to  
 the DUPLICATE RESOLUTION file (#15.1).  This new field will control 
 the number of seconds the merge process continues before going out to 
 ZTLOAD to check if the user requested the merge process to stop.  
 Currently, Cache sites have reported problems with merges taking days to 
 complete.  We noticed that the merges get stuck in ZTLOAD.  After every 
 record that gets processed, we check to see if a stop was requested.  
 Preliminary tests were run on Chicago and Madison where we checked every 
 1000th record instead of every one and the merges completed in hours  
 rather than days or weeks.
    
 A Post Init is included to set the initial value for the new field to 180 
 (3 minutes).  Sites  will be able to change this at their discretion.  The 
 field was set up with a range of 60 (1 minute) to 300 (5 minutes).
   
  
 The following Remedy Tickets are associated with this patch:
  
     HD 64464 (MAD-1204-40097)  Primary
     HD 64469 (DET-1204-40250)
     HD 88666 (Chicago)
     
  
 Test Sites: 
 ===========
 Madison VAMC
 Detroit VAMC (Large)
 Chicago VAMC (Intergrated) 
  
  
 Routine Summary:
 ================
 The following routines are included in this patch.  The second
 line of each of these routines now looks like:
  
      <tab>;;7.3;TOOLKIT;**[patch list]**;Apr 25, 1995
  
 Checksums:
 ==========
 Checksums obtained using CHECK^XTSUMBLD
  
  Rtn Nm      Chksum Before     Chksum After       Patch List
  ------      -------------     ------------       ----------
  XDRMERG0         18237681         18753796       **23,36,43,49,83,95**
  XDRMERG1         11788230         12091693       **23,34,38,44,47,95**
  XT95POST            n/a              24367       **95**
  
 List of preceding patches: 47, 83
 Sites should use CHECK^XTSUMBLD to verify checksums.  
  
  
 Data Dictionary
 ===============
 STANDARD DATA DICTIONARY #15.1 -- DUPLICATE RESOLUTION FILE   
  
 DATA          NAME                  GLOBAL        DATA
 ELEMENT       TITLE                 LOCATION      TYPE
 ------------------------------------------------------------------------------
 15.1,1.03     SECONDS TO WAIT FOR STOP CHECK 1;3 NUMBER (Required)
  
               INPUT TRANSFORM:  K:+X'=X!(X>300)!(X<60)!(X?.E1"."1N.N) X
               LAST EDITED:      APR 22, 2005 
               HELP-PROMPT:      Type a Number between 60 and 300, 0 Decimal 
                                 Digits 
               DESCRIPTION:      This field will define how many seconds a 
                                 merge process should run before making a call
                                 to ZTLOAD to see if the user requested the
                                 background processes to stop. 
  
  
 Blood Bank Team Coordination:
 =============================
 Clearance - May 9, 2005
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch XT*7.3*95 contains 
 changes to a package referenced in VHA OI SEPG SOP 192-023 Review of VISTA 
 Patches for Effects on VISTA Blood Bank Software. This patch does not alter 
 or modify any VistA Blood Bank software design safeguards or safety 
 critical elements functions.
  
 RISK ANALYSIS: Changes made by patch XT*7.3*95 have no effect on Blood Bank 
 software functionality, therefore RISK is none.
  
  
 Installation Instructions:
 ==========================
  
      1.   Users ARE allowed to be on the system during the 
      installation.  Installation should take less than 2 minutes.  You 
      DO NOT need to stop TaskMan.  All active merge process should be 
      allowed to COMPLETE prior to installing this patch.
  
      2.   DSM sites - Some of these routines are usually mapped,
      so you may need to disable mapping for the affected routines.
  
      3.   Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. 
      This option will load the KIDS (Kernel Installation and Distribution 
      System) package onto your system.
     
      4.   The patch has now been loaded into a transport global on your 
      system.  On the KIDS menu, select the 'Installation' menu and use
      the following options: 
            Verify Checksums in Transport Global
            Print Transport Global 
            Compare Transport Global to Current System
            Backup a Transport Global
  
      5.   On the KIDS menu, under the 'Installation' menu, use the 
           following option:
  
             Install Package(s)  
  
             Select INSTALL NAME: XT*7.3*95
                                  =========
        Logons DO NOT need to be inhibited.
        No Options or Protocols need to be placed out-of-order.
  
        Want KIDS to INHIBIT LOGONs during the install? YES// NO
                                                              ==
        Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO
                                                                        ==
  
      6.  If the routines were unmapped as part of step 2, they should be 
      returned to the mapped set once the installation has run to 
      completion.

Routine Information:
====================

Routine Name:
  - XDRMERG0


Routine Checksum:

Routine Name:
  - XDRMERG1


Routine Checksum:

=============================================================================
User Information:
Entered By  : SCHRAM,JACK D                 Date Entered  : APR 21, 2005
Completed By: SINGH,GURBIR                  Date Completed: JUN 06, 2005
Released By : FITCH,DONNA                   Date Released : JUN 06, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
