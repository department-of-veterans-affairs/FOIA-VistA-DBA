$TXT Created by ROWE,KIMBALL at DEVCUR.FO-SLC.MED.VA.GOV  (KIDS) on TUESDAY, 08/27/02 at 06:51
=============================================================================
Run Date: SEP 10, 2002                     Designation: GMTS*2.7*56
Package : GMTS - HEALTH SUMMARY               Priority: Mandatory
Version : 2.7        SEQ #53                    Status: Released
=============================================================================

Associated patches: (v)GMTS*2.7*16 <<= must be installed BEFORE `GMTS*2.7*56'
                    (v)GMTS*2.7*26 <<= must be installed BEFORE `GMTS*2.7*56'
                    (v)GMTS*2.7*37 <<= must be installed BEFORE `GMTS*2.7*56'
                    (v)GMTS*2.7*45 <<= must be installed BEFORE `GMTS*2.7*56'
                    (v)GMTS*2.7*46 <<= must be installed BEFORE `GMTS*2.7*56'
                    (v)GMTS*2.7*49 <<= must be installed BEFORE `GMTS*2.7*56'
                    (v)GMTS*2.7*54 <<= must be installed BEFORE `GMTS*2.7*56'
                    (v)GMTS*2.7*55 <<= must be installed BEFORE `GMTS*2.7*56'

Subject: DIVISION PARAMETER/DEMOGRAPHICS AND OTHER FIXES

Category: 
  - Routine
  - Enhancement (Mandatory)

Description: 
============

  
  
    1   Changes the logic for setting up parameters        NOIS CPH-0402-41506
        for Multi-Division sites.  (Routine GMTSXAW3)
  
           If the site is NOT a Multi-Divisional 
           site, then use the Kernel Parameters 
           as the user's division.
         
           If the site IS a Multi-Divisional site:
          
               If the variable DUZ(2) is defined at 
               logon, then DUZ(2) will be used to 
               determine the user's division.
  
               If the variable DUZ(2) is NOT defined
               at logon, then the Kernel Site Parameters
               will be used as the user's division.
  
    2   Fixes problem in the MEDB - MEDICINE BRIEF         NOIS HUN-0702-21845
        REPORT where the global array was being
        displayed in the report. (Routine GMTSMCPS)
  
    3   Fixes a QUIT WITHOUT VALUE error in routine        NOIS ISL-0502-51613
        GMTSXAW3.  This error was discovered by a
        non-VA site that had not set up their Kernel
        site parameters before using Health Summary.
        As a result, this error will not occur at a
        at a site with Kernel installed and the
        Kernel site parameters set.
  
    4   Fixes an infinite loop which occurs when           NOIS POR-0602-50811
        formatting a user's name for Lab components
        when the user has a numeric first name.
        (Routine GMTSU)
  
    5   Added a line feed after the Treating           NOIS SHE-0502-53189
        Facilities' in the Brief Demographic component      BUT-0702-21121
        so the "Source of Information" statement which      HUN-0702-20308
        is given with remote data views statement is
        not pushed off the screen.  (Routine 
        GMTSDEMB)
  
    6   Health Insurance information has been added         E3R 4756
        to the MAS Demographics component.  (Routine
        GMTSDEM and GMTSDEM2)
  
    7   Modified the printing of report and component       E3R 17305
        headers so that calling applications can 
        better control the suppression of headers
        when imbedding a Health Summary into another
        document/display as an object. (Routine 
        GMTSUP)
  
          If the variable GMTSOBJ, then both the report
          and component headers will be suppressed with 
          the exception of a Health Summary Type with
          multiple components, then the component name
          will be printed with each component.  Also,
          the calling application can specify a particular
          data element to exclude from suppession:
  
  
            REPORT DATE/TIME
  
                If the variable GMTSOBJ("DATE LINE") exist, 
                then the first line of the header containing
                the date of the report will NOT suppressed.
  
                                                   DATE TIME
  
            CONFIDENTIALITY LINE
  
                If the variable GMTSOBJ("CONFIDENTIAL") exist,
                then the confidentiality line will NOT be 
                suppressed.
  
                ********  CONFIDENTIAL HEALTH SUMMARY  ********
  
            REPORT HEADER
  
                If the variable GMTSOBJ("REPORT HEADER") 
                exist, then the report header containing the 
                patient name, social security number, ward or
                location and patient's date of birth will 
                NOT be suppressed.
  
                PATIENT NAME  SSN-SS-SSAN  WARD/LOCATION  DOB
  
            COMPONENT HEADER
  
                If the variable GMTSOBJ("COMPONENT HEADER") 
                exist, then the component header as defined by
                GMTSEGH, containing the component abbreviation
                and default header will NOT be suppressed.
  
                ABR - Component Name
  
            LIMITS
  
                If the variable GMTSOBJ("LIMITS") exist, then
                the report limits defined in GMTSEGL will NOT 
                be suppressed and displayed along with the
                component header.
  
                ABR - Component Name (time and occurrence limits)
                                      ==========================
  
            BLANK LINE
  
                If the variable GMTSOBJ("BLANK LINE") exist, 
                then a blank line will be added after each 
                component header. 
  
                ABR - Component Name (time and occurrence limits)
                <blank line>
  
            PATIENT DECEASED
   
                If the variable GMTSOBJ("DECEASED") exist, then
                optional line indicating a patient is deceased
                will NOT be suppressed.
  
                     ** DECEASED   NOV 14,2001@13:02 **
  
            OBJECT LABEL
   
                If the variable GMTSOBJ("LABEL") exist, and it
                contains text, then the text will be used as a
                title/label for the object, and will be printed
                before the Health Summary Type.
  
                 <title/label>
                         <health summary type
                                 <health summary component 1>
                                 <health summary component 2>
                                 <health summary component 3>
                                 <health summary component 4>
  
    8   Patch 29 was omitted from the patch list            N/A
        on the second line of GMTSRM.
    
    9   As part of an on-going project to document          N/A
        all of the entry points and DBIAs in Health
        Summary, the following routines are being 
        re-issued with minor documentation 
        changes:
  
          GMTSDEMP, GMTSLRBE, GMTSLRCE, GMTSLREE, GMTSLRME,
          GMTSLRPE, GMTSLRTE, GMTSLTR, GMTSMAG, GMTSMAGE,
          GMTSMCPS, GMTSONE, GMTSPCD, GMTSPDX, GMTSPNJ,
          GMTSPNSL, GMTSPSG, GMTSPSG5, GMTSPSI, GMTSPSI5,
          GMTSPSO, GMTSPSO7, GMTSPXEP, GMTSPXFP, GMTSPXHP,
          GMTSPXHR, GMTSPXIM, GMTSPXM, GMTSPXMP, GMTSPXSK,
          GMTSPXTP, GMTSPXU2, GMTSPXXP, GMTSRAD, GMTSRI,
          GMTSRM1A, GMTSRM3, GMTSRM4, GMTSRN, GMTSSOWK, 
          GMTSU2, GMTSUIX, GMTSULT2, GMTSULT3, GMTSULT4,
          GMTSULT5, GMTSULT6, GMTSUMX2, GMTSXPD1, GMTSXPD2,
          GMTSXPD4, GMTSXPD5, GMTSXPS1, GMTSXPS2 
  
   10   POST-INSTALL: Two Health Summary Components         N/A
        make calls to obsolete PCE routines and will 
        be removed from the system.
                                        Component  Obsolete
          Health Summary Component       Driver      Call
          ----------------------------  ---------  --------
          PCE MEASUREMENTS NON-TABULAR  GMTSPXMP   PXRHS09
          PCE MEASUREMENTS SELECTED     GMTSPXMP   PXRHS20
  
        If routine PXRHS09 or PXRHS20 are not found on your
        system, then the Post-Install routine will delete 
        the Health Summary component and the component driver.
        These components were replace by the Vitals Package
        Health Summary components:
  
          VITAL SIGNS                        VS
          VITAL SIGNS DETAILED DISPLAY       VSD
          VITAL SIGNS SELECTED               SVS
          VITAL SIGNS OUTPATIENT             VSO
          VITAL SIGNS SELECTED OUTPAT.       SVSO
  
        (Routine GMTSP56)
  
   11   Exports NOK (Next of Kin) component to be used      N/A
        in conjunction with the Demographics Brief    
        component.  This component is identical to the
        NOK section of the MAS Demographics Component.
        (Routine GMTSDEM and GMTSDEM2)
  
  ROUTINE SUMMARY:
  =============== 
  
    The second line of each of these routines will look like:
  
        <tab>;;2.7;Health Summary;**[PATCH LIST]**;Oct 20, 1995
  
                      Checksums      Checksums     
      Routine Name   Before Patch   After Patch    Patch List (2nd Line)
      ------------------------------------------------------------------
      GMTSP56        Post Install      2445936     56
      GMTSDEM           8484751        9177029     28,49,55,56
      GMTSDEM2           <new>        17385946     56
      GMTSDEMB          7224548        5975210     29,49,55,56
      GMTSDEMP         12218841        8153896     55,56
      GMTSLRBE          2704503        2726623     17,28,56
      GMTSLRCE          4611309        4761858     18,28,29,56
      GMTSLREE          6087901        6067231     3,28,56
      GMTSLRME          9508590        8954924     25,28,37,56
      GMTSLRPE          5053182        4968303     3,28,37,56
      GMTSLRTE          1320704        1511797     56
      GMTSLTR           2923587        3000545     28,56
      GMTSMAG            999354        1146301     26,56
      GMTSMAGE          1044843        1379173     26,56
      GMTSMCPS          5256864        5238911     16,56
      GMTSONE          15587698       15587698     36,35,42,54,56
      GMTSPCD           3479804        3479804     28,56
      GMTSPDX           6721830        6667533     56
      GMTSPNJ           4118099        3577795     5,56
      GMTSPNSL          1578020        1578020     12,30,35,45,56
      GMTSPSG           2225395        2225395     15,28,56
      GMTSPSG5          2171215        2155575     15,28,56
      GMTSPSI           4732165        4732165     15,28,56
      GMTSPSI5          4678035        4661999     15,28,56
      GMTSPSO           5324661        5324661     15,28,37,56
      GMTSPSO7          4586374        4578739     15,28,37,56
      GMTSPXEP          3850796        3542484     8,10,28,35,56
      GMTSPXFP          2771055        2906066     8,10,28,56
      GMTSPXHP           506691         500458     56
      GMTSPXHR          3323428        3323428     8,22,23,28,34,56
      GMTSPXIM          3185525        3484805     8,10,28,56
    * GMTSPXM           1180559        1405707     28,56
    * GMTSPXMP          3333299        3448793     28,56
      GMTSPXSK          2929527        3150537     8,10,28,56
      GMTSPXTP          4250240        3836092     8,10,28,56
      GMTSPXU2          5512556        5264238     2,56
      GMTSPXXP          2510326        2517237     8,10,28,56
      GMTSRAD           6552528        5622298     14,28,56
      GMTSRI             580940         458564     30,56
      GMTSRM            8737074        8737074     30,35,29,47,56
      GMTSRM1A          2432893        2432893     56
      GMTSRM3           5851502        5964775     56
      GMTSRM4           2033224        2182938     56
      GMTSRN            5095034        5095034     36,56
      GMTSSOWK           419449         464324     28,56
      GMTSU            15037258       14189534     27,28,31,35,37,43,47,56
      GMTSU2            6164831        6154436     29,56
      GMTSUIX          10199316        8510669     30,32,29,56
      GMTSULT2         12221027       12221027     30,32,35,29,56
      GMTSULT3          8534023        8339977     30,32,56
      GMTSULT4         11279001       11038774     30,32,56
      GMTSULT5          8641484        9018771     30,35,56
      GMTSULT6         10340005       10361597     30,32,56
      GMTSUMX2         46438073       46463560     30,37,56
      GMTSUP            8161496        9073114     2,7,21,27,28,30,35,47,56
      GMTSXAW3          9656671       10685973     47,49,56
      GMTSXPD1         19747530       19747530     35,56
      GMTSXPD2          2003423        1873994     35,56
      GMTSXPD4         14259008       14250051     35,56
      GMTSXPD5          2622152        2562796     35,56
      GMTSXPS1         23266664       23266664     35,34,46,56
      GMTSXPS2          8949295        7781677     35,56
   
    * Routines GMTSPXM and GMTSPXMP will be deleted by the 
      post-install routine if the supporting data extract 
      routines (PXRHS09 and PXRHS20) can not be found on
      your system.
      
  INSTALLATION:
  =============
      
     This patch can be installed with users on the system.  Installation
     should take less than 2 minutes.
           
     1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu, to
         load the KIDS Transport Distribution global.
          
     2.  Review your mapped set.  If the routines listed in the Routine
         Summary (above) are mapped, then they should be removed from the
         mapped set at this time.
   
     3.  From the Kernel Installation and Distribution System (KIDS) Menu,
         select the Installation menu.
              
     4.  From the Install menu, you may elect to use the following
         options (when prompted for INSTALL NAME, enter GMTS*2.7*56):
            
           a.  Verify Checksums in Transport Global
           b.  Print Transport Global
           c.  Compare Transport Global to Current System
           d.  Backup a Transport Global
        
     5.  Use the Install Package(s) option and select the package
         GMTS*2.7*56.
  
     6.  When prompted 'Want KIDS to INHIBIT LOGONS during install? YES//',
         respond "NO".
  
     7.  When prompted "Want to DISABLE Scheduled Options, Menu Options, 
         and Protocols? YES//", respond "NO."
          
     8.  If Health Summary routines were unmapped as part of step 2 
         above, then they should be returned to the mapped set once 
         the installation has run to completion.
   
     9.  Clean up: Post-Install routine GMTSP56 may be removed from the
         system upon successful installation of this patch.

Routine Information:
====================

Routine Name:
  - GMTSLRBE


Routine Checksum:

Routine Name:
  - GMTSLRCE


Routine Checksum:

Routine Name:
  - GMTSLREE


Routine Checksum:

Routine Name:
  - GMTSLRME


Routine Checksum:

Routine Name:
  - GMTSLRPE


Routine Checksum:

Routine Name:
  - GMTSLRTE


Routine Checksum:

Routine Name:
  - GMTSLTR


Routine Checksum:

Routine Name:
  - GMTSMAG


Routine Checksum:

Routine Name:
  - GMTSMAGE


Routine Checksum:

Routine Name:
  - GMTSMCPS


Routine Checksum:

Routine Name:
  - GMTSONE


Routine Checksum:

Routine Name:
  - GMTSPCD


Routine Checksum:

Routine Name:
  - GMTSPDX


Routine Checksum:

Routine Name:
  - GMTSPNJ


Routine Checksum:

Routine Name:
  - GMTSPNSL


Routine Checksum:

Routine Name:
  - GMTSPSG


Routine Checksum:

Routine Name:
  - GMTSPSG5


Routine Checksum:

Routine Name:
  - GMTSPSI


Routine Checksum:

Routine Name:
  - GMTSPSI5


Routine Checksum:

Routine Name:
  - GMTSPSO


Routine Checksum:

Routine Name:
  - GMTSPSO7


Routine Checksum:

Routine Name:
  - GMTSPXEP


Routine Checksum:

Routine Name:
  - GMTSPXFP


Routine Checksum:

Routine Name:
  - GMTSPXHP


Routine Checksum:

Routine Name:
  - GMTSPXHR


Routine Checksum:

Routine Name:
  - GMTSPXIM


Routine Checksum:

Routine Name:
  - GMTSPXM


Routine Checksum:

Routine Name:
  - GMTSPXMP


Routine Checksum:

Routine Name:
  - GMTSPXSK


Routine Checksum:

Routine Name:
  - GMTSPXTP


Routine Checksum:

Routine Name:
  - GMTSPXU2


Routine Checksum:

Routine Name:
  - GMTSPXXP


Routine Checksum:

Routine Name:
  - GMTSRAD


Routine Checksum:

Routine Name:
  - GMTSRI


Routine Checksum:

Routine Name:
  - GMTSRM


Routine Checksum:

Routine Name:
  - GMTSRM1A


Routine Checksum:

Routine Name:
  - GMTSRM3


Routine Checksum:

Routine Name:
  - GMTSRM4


Routine Checksum:

Routine Name:
  - GMTSRN


Routine Checksum:

Routine Name:
  - GMTSSOWK


Routine Checksum:

Routine Name:
  - GMTSU2


Routine Checksum:

Routine Name:
  - GMTSUIX


Routine Checksum:

Routine Name:
  - GMTSULT2


Routine Checksum:

Routine Name:
  - GMTSULT3


Routine Checksum:

Routine Name:
  - GMTSULT4


Routine Checksum:

Routine Name:
  - GMTSULT5


Routine Checksum:

Routine Name:
  - GMTSULT6


Routine Checksum:

Routine Name:
  - GMTSUMX2


Routine Checksum:

Routine Name:
  - GMTSXAW3


Routine Checksum:

Routine Name:
  - GMTSXPD1


Routine Checksum:

Routine Name:
  - GMTSXPD2


Routine Checksum:

Routine Name:
  - GMTSXPD4


Routine Checksum:

Routine Name:
  - GMTSXPD5


Routine Checksum:

Routine Name:
  - GMTSXPS1


Routine Checksum:

Routine Name:
  - GMTSXPS2


Routine Checksum:

Routine Name:
  - GMTSDEM


Routine Checksum:

Routine Name:
  - GMTSDEM2


Routine Checksum:

Routine Name:
  - GMTSDEMB


Routine Checksum:

Routine Name:
  - GMTSDEMP


Routine Checksum:

Routine Name:
  - GMTSU


Routine Checksum:

Routine Name:
  - GMTSUP


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : ROWE,KIMBALL                   Date Entered : MAY 30, 2002
Completed By: MERRILL,DAVID P              Date Completed: SEP 06, 2002
Released By : TASTROM,JOSEPH E             Date Released : SEP 10, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
