Released RA*5*76 SEQ #63
Extracted from mail message
**KIDS**:RA*5.0*76^

**INSTALL NAME**
RA*5.0*76
"BLD",6243,0)
RA*5.0*76^RADIOLOGY/NUCLEAR MEDICINE^0^3060901^y
"BLD",6243,1,0)
^^2^2^3060901^
"BLD",6243,1,1,0)
Please refer to the patch description in FORUM regarding the installation
"BLD",6243,1,2,0)
of RA*5.0*76.
"BLD",6243,4,0)
^9.64PA^^
"BLD",6243,6.3)
4
"BLD",6243,"ABPKG")
n
"BLD",6243,"KRN",0)
^9.67PA^8989.52^19
"BLD",6243,"KRN",.4,0)
.4
"BLD",6243,"KRN",.401,0)
.401
"BLD",6243,"KRN",.402,0)
.402
"BLD",6243,"KRN",.403,0)
.403
"BLD",6243,"KRN",.5,0)
.5
"BLD",6243,"KRN",.84,0)
.84
"BLD",6243,"KRN",3.6,0)
3.6
"BLD",6243,"KRN",3.8,0)
3.8
"BLD",6243,"KRN",9.2,0)
9.2
"BLD",6243,"KRN",9.8,0)
9.8
"BLD",6243,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6243,"KRN",9.8,"NM",1,0)
RAO7UTL1^^0^B4533632
"BLD",6243,"KRN",9.8,"NM","B","RAO7UTL1",1)

"BLD",6243,"KRN",19,0)
19
"BLD",6243,"KRN",19.1,0)
19.1
"BLD",6243,"KRN",101,0)
101
"BLD",6243,"KRN",409.61,0)
409.61
"BLD",6243,"KRN",771,0)
771
"BLD",6243,"KRN",870,0)
870
"BLD",6243,"KRN",8989.51,0)
8989.51
"BLD",6243,"KRN",8989.52,0)
8989.52
"BLD",6243,"KRN",8994,0)
8994
"BLD",6243,"KRN","B",.4,.4)

"BLD",6243,"KRN","B",.401,.401)

"BLD",6243,"KRN","B",.402,.402)

"BLD",6243,"KRN","B",.403,.403)

"BLD",6243,"KRN","B",.5,.5)

"BLD",6243,"KRN","B",.84,.84)

"BLD",6243,"KRN","B",3.6,3.6)

"BLD",6243,"KRN","B",3.8,3.8)

"BLD",6243,"KRN","B",9.2,9.2)

"BLD",6243,"KRN","B",9.8,9.8)

"BLD",6243,"KRN","B",19,19)

"BLD",6243,"KRN","B",19.1,19.1)

"BLD",6243,"KRN","B",101,101)

"BLD",6243,"KRN","B",409.61,409.61)

"BLD",6243,"KRN","B",771,771)

"BLD",6243,"KRN","B",870,870)

"BLD",6243,"KRN","B",8989.51,8989.51)

"BLD",6243,"KRN","B",8989.52,8989.52)

"BLD",6243,"KRN","B",8994,8994)

"BLD",6243,"QUES",0)
^9.62^^
"BLD",6243,"REQB",0)
^9.611^1^1
"BLD",6243,"REQB",1,0)
RA*5.0*2^2
"BLD",6243,"REQB","B","RA*5.0*2",1)

"MBREQ")
0
"PKG",18,-1)
1^1
"PKG",18,0)
RADIOLOGY/NUCLEAR MEDICINE^RA^REGISTERS PATIENTS,RECORDS EXAMS,PROFILES,AMIS REPORTS
"PKG",18,20,0)
^9.402P^^
"PKG",18,22,0)
^9.49I^1^1
"PKG",18,22,1,0)
5.0^3051109^2980407^50
"PKG",18,22,1,"PAH",1,0)
76^3060901
"PKG",18,22,1,"PAH",1,1,0)
^^2^2^3060901
"PKG",18,22,1,"PAH",1,1,1,0)
Please refer to the patch description in FORUM regarding the installation
"PKG",18,22,1,"PAH",1,1,2,0)
of RA*5.0*76.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","RAO7UTL1")
0^1^B4533632^B2164973
"RTN","RAO7UTL1",1,0)
RAO7UTL1 ;HISC/GJC,FPT-Utilities for HL7 messages. ;9/14/98  08:00
"RTN","RAO7UTL1",2,0)
 ;;5.0;Radiology/Nuclear Medicine;**2,76**;Mar 16, 1998;Build 4
"RTN","RAO7UTL1",3,0)
BRKOUT ; Breakout the 'MSH', 'ORC' & 'PID' segments.
"RTN","RAO7UTL1",4,0)
 ; Called from: RAO7RON & RAO7RCH
"RTN","RAO7UTL1",5,0)
 N RADATA,RAHEAD,RASEG,X S X=0
"RTN","RAO7UTL1",6,0)
 F  S X=$O(RAMSG(X)) Q:X'>0  D
"RTN","RAO7UTL1",7,0)
 . S RASEG=$G(RAMSG(X)),RAHEAD=$P(RASEG,RAHLFS)
"RTN","RAO7UTL1",8,0)
 . Q:RAHEAD'="PID"&(RAHEAD'="ORC")&(RAHEAD'="MSH")
"RTN","RAO7UTL1",9,0)
 . S RADATA=$P(RASEG,RAHLFS,2,999)
"RTN","RAO7UTL1",10,0)
 . S:RAHEAD="MSH" RAMSH3=$P(RADATA,RAHLFS,3)
"RTN","RAO7UTL1",11,0)
 . S:RAHEAD="ORC" RAORC2=$P(RADATA,RAHLFS,2),RAORC3=$P(RADATA,RAHLFS,3)
"RTN","RAO7UTL1",12,0)
 . S:RAHEAD="PID" RAPID3=$P(RADATA,RAHLFS,3),RAPID5=$P(RADATA,RAHLFS,5)
"RTN","RAO7UTL1",13,0)
 . Q
"RTN","RAO7UTL1",14,0)
 S RADIV(.119)=$P($G(^RA(79,RAMSH3,.1)),U,19)
"RTN","RAO7UTL1",15,0)
 S:RADIV(.119)="" RADIV(.119)="n"
"RTN","RAO7UTL1",16,0)
 Q
"RTN","RAO7UTL1",17,0)
ABNOR(RAOIFN,RADFN,RADTI) ; test code to find 'Diagnostic Code' for
"RTN","RAO7UTL1",18,0)
 ; descendents and adopted procedures.  Called from RAO7CMP.
"RTN","RAO7UTL1",19,0)
 ; 'RAOIFN'-> ien of file 75.1
"RTN","RAO7UTL1",20,0)
 ; 'RADFN' -> ien of the Rad/Nuc Med Patient
"RTN","RAO7UTL1",21,0)
 ; 'RADTI' -> inverse date of the registered exam
"RTN","RAO7UTL1",22,0)
 Q:'($D(^RADPT("AO",RAOIFN,RADFN,RADTI))\10) ""
"RTN","RAO7UTL1",23,0)
 N RABN,RACNI,RAXAM S RABN="",RACNI=0
"RTN","RAO7UTL1",24,0)
 F  S RACNI=$O(^RADPT("AO",RAOIFN,RADFN,RADTI,RACNI)) Q:RACNI'>0  D  Q:RABN]""
"RTN","RAO7UTL1",25,0)
 . S RAXAM(0)=$G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0))
"RTN","RAO7UTL1",26,0)
 . Q:'$P(RAXAM(0),"^",25)  ; Quit if not part of the set.
"RTN","RAO7UTL1",27,0)
 . S RABN=$$DIAG^RAO7UTL(RADFN,RADTI,RACNI)
"RTN","RAO7UTL1",28,0)
 . Q
"RTN","RAO7UTL1",29,0)
 Q RABN
"RTN","RAO7UTL1",30,0)
 ;
"RTN","RAO7UTL1",31,0)
XAMDT(RADFN) ;Return exam date/time for interpreted non-cancelled case. The
"RTN","RAO7UTL1",32,0)
 ;'Cancelled' EXAMINATION STATUS record has an order number of zero.
"RTN","RAO7UTL1",33,0)
 ;IA#: 4875 Private w/MPI
"RTN","RAO7UTL1",34,0)
 ; input: RADFN=The DFN of the patient
"RTN","RAO7UTL1",35,0)
 ;return: RAXAMDT=The exam date/time (FM internal) of the most recent
"RTN","RAO7UTL1",36,0)
 ;                non-cancelled interpreted case, else "0^an active exam
"RTN","RAO7UTL1",37,0)
 ;                with interpretation was not found for this patient"
"RTN","RAO7UTL1",38,0)
 N RAXAMDT S RAXAMDT="0^an active exam with interpretation was not found for this patient"
"RTN","RAO7UTL1",39,0)
 S RADTI=0 F  S RADTI=$O(^RADPT(RADFN,"DT",RADTI)) Q:'RADTI  D  Q:RAXAMDT
"RTN","RAO7UTL1",40,0)
 .S RACNI=0
"RTN","RAO7UTL1",41,0)
 .F  S RACNI=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI)) Q:'RACNI  D  Q:RAXAMDT
"RTN","RAO7UTL1",42,0)
 ..S RAX=$G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0)) Q:$P(RAX,U,17)=""  ;no rpt
"RTN","RAO7UTL1",43,0)
 ..Q:$P($G(^RA(72,+$P(RAX,U,3),0)),U,3)=0  ;cancelled case
"RTN","RAO7UTL1",44,0)
 ..S RAXAMDT=(9999999.9999-RADTI)
"RTN","RAO7UTL1",45,0)
 ..Q
"RTN","RAO7UTL1",46,0)
 .Q
"RTN","RAO7UTL1",47,0)
 K RACNI,RADTI,RAX
"RTN","RAO7UTL1",48,0)
 Q RAXAMDT
"RTN","RAO7UTL1",49,0)
 ;
"VER")
8.0^22.0
"BLD",6243,6)
^63
**END**
**END**
