KIDS Distribution saved on Mar 15, 2001@07:33:31
EAS v1.0 for 10-10EZ
**KIDS**:EAS 1.0^

**INSTALL NAME**
EAS 1.0
"BLD",3279,0)
EAS 1.0^ENROLLMENT APPLICATION SYSTEM^0^3010315^y
"BLD",3279,1,0)
^^1^1^3010315^^^^
"BLD",3279,1,1,0)
ENROLLMENT APPLICATION SYSTEM v1.0
"BLD",3279,4,0)
^9.64PA^712^2
"BLD",3279,4,711,0)
711
"BLD",3279,4,711,222)
y^y^f^^n^^y^o^n
"BLD",3279,4,712,0)
712
"BLD",3279,4,712,222)
y^y^f^^^^n
"BLD",3279,4,"B",711,711)

"BLD",3279,4,"B",712,712)

"BLD",3279,"ABNS",0)
^9.66A^1^1
"BLD",3279,"ABNS",1,0)
EAS
"BLD",3279,"ABNS","B","EAS",1)

"BLD",3279,"ABPKG")
y^n
"BLD",3279,"KRN",0)
^9.67PA^19^17
"BLD",3279,"KRN",.4,0)
.4
"BLD",3279,"KRN",.401,0)
.401
"BLD",3279,"KRN",.402,0)
.402
"BLD",3279,"KRN",.403,0)
.403
"BLD",3279,"KRN",.5,0)
.5
"BLD",3279,"KRN",.84,0)
.84
"BLD",3279,"KRN",3.6,0)
3.6
"BLD",3279,"KRN",3.8,0)
3.8
"BLD",3279,"KRN",9.2,0)
9.2
"BLD",3279,"KRN",9.8,0)
9.8
"BLD",3279,"KRN",9.8,"NM",0)
^9.68A^28^28
"BLD",3279,"KRN",9.8,"NM",1,0)
EASEZF1^^0^B12170243
"BLD",3279,"KRN",9.8,"NM",2,0)
EASEZFM^^0^B4148325
"BLD",3279,"KRN",9.8,"NM",3,0)
EASEZT1^^0^B12925628
"BLD",3279,"KRN",9.8,"NM",4,0)
EASEZU1^^0^B15904642
"BLD",3279,"KRN",9.8,"NM",5,0)
EASEZU2^^0^B35008288
"BLD",3279,"KRN",9.8,"NM",6,0)
EASEZW^^0^B50595074
"BLD",3279,"KRN",9.8,"NM",7,0)
EASEZC1^^0^B39360955
"BLD",3279,"KRN",9.8,"NM",8,0)
EASEZC2^^0^B34349444
"BLD",3279,"KRN",9.8,"NM",9,0)
EASEZC3^^0^B9028124
"BLD",3279,"KRN",9.8,"NM",10,0)
EASEZI^^0^B39763109
"BLD",3279,"KRN",9.8,"NM",11,0)
EASEZL1^^0^B31267803
"BLD",3279,"KRN",9.8,"NM",12,0)
EASEZLM^^0^B36102883
"BLD",3279,"KRN",9.8,"NM",13,0)
EASEZPF^^0^B20889710
"BLD",3279,"KRN",9.8,"NM",14,0)
EASEZPF1^^0^B51758497
"BLD",3279,"KRN",9.8,"NM",15,0)
EASEZPF2^^0^B51547703
"BLD",3279,"KRN",9.8,"NM",16,0)
EASEZPF3^^0^B38192029
"BLD",3279,"KRN",9.8,"NM",17,0)
EASEZPU^^0^B47396523
"BLD",3279,"KRN",9.8,"NM",18,0)
EASEZT2^^0^B10847169
"BLD",3279,"KRN",9.8,"NM",19,0)
EASEZU3^^0^B60041657
"BLD",3279,"KRN",9.8,"NM",20,0)
EASEZU4^^0^B14564665
"BLD",3279,"KRN",9.8,"NM",21,0)
EASEZU5^^0^B21793587
"BLD",3279,"KRN",9.8,"NM",22,0)
EASEZU6^^0^B63484053
"BLD",3279,"KRN",9.8,"NM",23,0)
EASEZF2^^0^B34473949
"BLD",3279,"KRN",9.8,"NM",24,0)
EASEZF3^^0^B19289574
"BLD",3279,"KRN",9.8,"NM",25,0)
EASEZF4^^0^B13374759
"BLD",3279,"KRN",9.8,"NM",26,0)
EASEZF5^^0^B6096030
"BLD",3279,"KRN",9.8,"NM",27,0)
EASEZL2^^0^B31917362
"BLD",3279,"KRN",9.8,"NM",28,0)
EASEZQ^^0^B27486542
"BLD",3279,"KRN",9.8,"NM","B","EASEZC1",7)

"BLD",3279,"KRN",9.8,"NM","B","EASEZC2",8)

"BLD",3279,"KRN",9.8,"NM","B","EASEZC3",9)

"BLD",3279,"KRN",9.8,"NM","B","EASEZF1",1)

"BLD",3279,"KRN",9.8,"NM","B","EASEZF2",23)

"BLD",3279,"KRN",9.8,"NM","B","EASEZF3",24)

"BLD",3279,"KRN",9.8,"NM","B","EASEZF4",25)

"BLD",3279,"KRN",9.8,"NM","B","EASEZF5",26)

"BLD",3279,"KRN",9.8,"NM","B","EASEZFM",2)

"BLD",3279,"KRN",9.8,"NM","B","EASEZI",10)

"BLD",3279,"KRN",9.8,"NM","B","EASEZL1",11)

"BLD",3279,"KRN",9.8,"NM","B","EASEZL2",27)

"BLD",3279,"KRN",9.8,"NM","B","EASEZLM",12)

"BLD",3279,"KRN",9.8,"NM","B","EASEZPF",13)

"BLD",3279,"KRN",9.8,"NM","B","EASEZPF1",14)

"BLD",3279,"KRN",9.8,"NM","B","EASEZPF2",15)

"BLD",3279,"KRN",9.8,"NM","B","EASEZPF3",16)

"BLD",3279,"KRN",9.8,"NM","B","EASEZPU",17)

"BLD",3279,"KRN",9.8,"NM","B","EASEZQ",28)

"BLD",3279,"KRN",9.8,"NM","B","EASEZT1",3)

"BLD",3279,"KRN",9.8,"NM","B","EASEZT2",18)

"BLD",3279,"KRN",9.8,"NM","B","EASEZU1",4)

"BLD",3279,"KRN",9.8,"NM","B","EASEZU2",5)

"BLD",3279,"KRN",9.8,"NM","B","EASEZU3",19)

"BLD",3279,"KRN",9.8,"NM","B","EASEZU4",20)

"BLD",3279,"KRN",9.8,"NM","B","EASEZU5",21)

"BLD",3279,"KRN",9.8,"NM","B","EASEZU6",22)

"BLD",3279,"KRN",9.8,"NM","B","EASEZW",6)

"BLD",3279,"KRN",19,0)
19
"BLD",3279,"KRN",19,"NM",0)
^9.68A^4^4
"BLD",3279,"KRN",19,"NM",1,0)
EAS EZ SERVER^^0
"BLD",3279,"KRN",19,"NM",2,0)
EAS EZ 1010EZ PROCESSING^^0
"BLD",3279,"KRN",19,"NM",3,0)
EAS EZ QUICK LOOKUP^^0
"BLD",3279,"KRN",19,"NM",4,0)
EAS EZ MENU^^0
"BLD",3279,"KRN",19,"NM","B","EAS EZ 1010EZ PROCESSING",2)

"BLD",3279,"KRN",19,"NM","B","EAS EZ MENU",4)

"BLD",3279,"KRN",19,"NM","B","EAS EZ QUICK LOOKUP",3)

"BLD",3279,"KRN",19,"NM","B","EAS EZ SERVER",1)

"BLD",3279,"KRN",19.1,0)
19.1
"BLD",3279,"KRN",101,0)
101
"BLD",3279,"KRN",101,"NM",0)
^9.68A^19^17
"BLD",3279,"KRN",101,"NM",1,0)
EAS EZ 1010EZ APPLICATION^^0
"BLD",3279,"KRN",101,"NM",3,0)
EAS EZ CONTINUE PROCESSING^^0
"BLD",3279,"KRN",101,"NM",4,0)
EAS EZ ACCEPT ALL^^0
"BLD",3279,"KRN",101,"NM",5,0)
EAS EZ ACCEPT FIELD^^0
"BLD",3279,"KRN",101,"NM",6,0)
EAS EZ CLEAR ALL^^0
"BLD",3279,"KRN",101,"NM",7,0)
EAS EZ CLOSE/INACTIVATE 1010EZ^^0
"BLD",3279,"KRN",101,"NM",8,0)
EAS EZ PRINT 1010EZ^^0
"BLD",3279,"KRN",101,"NM",10,0)
EAS EZ RESET TO NEW^^0
"BLD",3279,"KRN",101,"NM",11,0)
EAS EZ UPDATE FIELD^^0
"BLD",3279,"KRN",101,"NM",12,0)
EAS EZ VERIFY SIGNATURE^^0
"BLD",3279,"KRN",101,"NM",13,0)
EAS EZ FILE 1010EZ DATA^^0
"BLD",3279,"KRN",101,"NM",14,0)
EAS EZ LINK TO FILE 2^^0
"BLD",3279,"KRN",101,"NM",15,0)
EAS EZ 1010EZ REVIEW1^^0
"BLD",3279,"KRN",101,"NM",16,0)
EAS EZ 1010EZ REVIEW2^^0
"BLD",3279,"KRN",101,"NM",17,0)
EAS EZ 1010EZ REVIEW3^^0
"BLD",3279,"KRN",101,"NM",18,0)
EAS EZ 1010EZ REVIEW4^^0
"BLD",3279,"KRN",101,"NM",19,0)
EAS EZ 1010EZ REVIEW5^^0
"BLD",3279,"KRN",101,"NM","B","EAS EZ 1010EZ APPLICATION",1)

"BLD",3279,"KRN",101,"NM","B","EAS EZ 1010EZ REVIEW1",15)

"BLD",3279,"KRN",101,"NM","B","EAS EZ 1010EZ REVIEW2",16)

"BLD",3279,"KRN",101,"NM","B","EAS EZ 1010EZ REVIEW3",17)

"BLD",3279,"KRN",101,"NM","B","EAS EZ 1010EZ REVIEW4",18)

"BLD",3279,"KRN",101,"NM","B","EAS EZ 1010EZ REVIEW5",19)

"BLD",3279,"KRN",101,"NM","B","EAS EZ ACCEPT ALL",4)

"BLD",3279,"KRN",101,"NM","B","EAS EZ ACCEPT FIELD",5)

"BLD",3279,"KRN",101,"NM","B","EAS EZ CLEAR ALL",6)

"BLD",3279,"KRN",101,"NM","B","EAS EZ CLOSE/INACTIVATE 1010EZ",7)

"BLD",3279,"KRN",101,"NM","B","EAS EZ CONTINUE PROCESSING",3)

"BLD",3279,"KRN",101,"NM","B","EAS EZ FILE 1010EZ DATA",13)

"BLD",3279,"KRN",101,"NM","B","EAS EZ LINK TO FILE 2",14)

"BLD",3279,"KRN",101,"NM","B","EAS EZ PRINT 1010EZ",8)

"BLD",3279,"KRN",101,"NM","B","EAS EZ RESET TO NEW",10)

"BLD",3279,"KRN",101,"NM","B","EAS EZ UPDATE FIELD",11)

"BLD",3279,"KRN",101,"NM","B","EAS EZ VERIFY SIGNATURE",12)

"BLD",3279,"KRN",409.61,0)
409.61
"BLD",3279,"KRN",409.61,"NM",0)
^9.68A^6^6
"BLD",3279,"KRN",409.61,"NM",1,0)
EAS EZ 1010EZ INITIAL SCREEN^^0
"BLD",3279,"KRN",409.61,"NM",2,0)
EAS EZ 1010EZ REVIEW1^^0
"BLD",3279,"KRN",409.61,"NM",3,0)
EAS EZ 1010EZ REVIEW2^^0
"BLD",3279,"KRN",409.61,"NM",4,0)
EAS EZ 1010EZ REVIEW3^^0
"BLD",3279,"KRN",409.61,"NM",5,0)
EAS EZ 1010EZ REVIEW4^^0
"BLD",3279,"KRN",409.61,"NM",6,0)
EAS EZ 1010EZ REVIEW5^^0
"BLD",3279,"KRN",409.61,"NM","B","EAS EZ 1010EZ INITIAL SCREEN",1)

"BLD",3279,"KRN",409.61,"NM","B","EAS EZ 1010EZ REVIEW1",2)

"BLD",3279,"KRN",409.61,"NM","B","EAS EZ 1010EZ REVIEW2",3)

"BLD",3279,"KRN",409.61,"NM","B","EAS EZ 1010EZ REVIEW3",4)

"BLD",3279,"KRN",409.61,"NM","B","EAS EZ 1010EZ REVIEW4",5)

"BLD",3279,"KRN",409.61,"NM","B","EAS EZ 1010EZ REVIEW5",6)

"BLD",3279,"KRN",771,0)
771
"BLD",3279,"KRN",771,"NM",0)
^9.68A^^
"BLD",3279,"KRN",870,0)
870
"BLD",3279,"KRN",8994,0)
8994
"BLD",3279,"KRN","B",.4,.4)

"BLD",3279,"KRN","B",.401,.401)

"BLD",3279,"KRN","B",.402,.402)

"BLD",3279,"KRN","B",.403,.403)

"BLD",3279,"KRN","B",.5,.5)

"BLD",3279,"KRN","B",.84,.84)

"BLD",3279,"KRN","B",3.6,3.6)

"BLD",3279,"KRN","B",3.8,3.8)

"BLD",3279,"KRN","B",9.2,9.2)

"BLD",3279,"KRN","B",9.8,9.8)

"BLD",3279,"KRN","B",19,19)

"BLD",3279,"KRN","B",19.1,19.1)

"BLD",3279,"KRN","B",101,101)

"BLD",3279,"KRN","B",409.61,409.61)

"BLD",3279,"KRN","B",771,771)

"BLD",3279,"KRN","B",870,870)

"BLD",3279,"KRN","B",8994,8994)

"BLD",3279,"QUES",0)
^9.62^^
"BLD",3279,"REQB",0)
^9.611^2^2
"BLD",3279,"REQB",1,0)
DG*5.3*325^1
"BLD",3279,"REQB",2,0)
IB*2.0*141^1
"BLD",3279,"REQB","B","DG*5.3*325",1)

"BLD",3279,"REQB","B","IB*2.0*141",2)

"DATA",711,.1,0)
UNKNOWN^UNKNOWN^A^^1.0
"DATA",711,.1,1)
0^0^0
"DATA",711,1,0)
TYPE OF BENEFIT-HEALTH SERVICES^I;1A.1^A^^1.0
"DATA",711,1,1)
0^0^0
"DATA",711,1,2)
Applying for Health Services
"DATA",711,1,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,1,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,2,0)
TYPE OF BENEFIT-NURSING HOME^I;1A.2^A^^1.0
"DATA",711,2,1)
0^0^0
"DATA",711,2,2)
Applying for Nursing Home
"DATA",711,2,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,2,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,3,0)
TYPE OF BENEFIT-DOMICILIARY^I;1A.3^A^^1.0
"DATA",711,3,1)
0^0^0
"DATA",711,3,2)
Applying for Domiciliary
"DATA",711,3,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,3,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,4,0)
TYPE OF BENEFIT-DENTAL^I;1A.4^A^^1.0
"DATA",711,4,1)
0^0^0
"DATA",711,4,2)
Applying for Dental
"DATA",711,4,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,4,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,5,0)
TYPE OF BENEFIT-ENROLLMENT^I;1A.5^A^^1.0
"DATA",711,5,1)
0^0^0
"DATA",711,5,2)
Applying for Enrollment
"DATA",711,5,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,5,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,6,0)
FACILITY TO RECEIVE 1010EZ^I;1B.^A^^1.0
"DATA",711,6,1)
0^0^0
"DATA",711,6,2)
Facility Applying To
"DATA",711,6,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,7,0)
APPLICANT LAST NAME^I;2.1^A^^1.0
"DATA",711,7,1)
2^2^.01
"DATA",711,7,2)
Applicant Name
"DATA",711,7,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,7,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"APPLICANT",EASMULT)
"DATA",711,8,0)
APPLICANT FIRST NAME^I;2.2^A^^1.0
"DATA",711,8,1)
2^2^.01
"DATA",711,8,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,9,0)
APPLICANT MIDDLE NAME^I;2.3^A^^1.0
"DATA",711,9,1)
2^2^.01
"DATA",711,9,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,10,0)
APPLICANT SUFFIX NAME^I;2.4^A^^1.0
"DATA",711,10,1)
2^2^.01
"DATA",711,10,3)
S DIR(0)="FO^1:6^K:X'?1.A X"
"DATA",711,11,0)
APPLICANT OTHER NAME^I;3.^A^^1.0
"DATA",711,11,1)
2^2.01^.01
"DATA",711,11,2)
Alias
"DATA",711,11,3)
S DIR(0)="FO^2:30"
"DATA",711,11,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,12,0)
APPLICANT SEX^I;4.^A^^1.0
"DATA",711,12,1)
2^2^.02
"DATA",711,12,2)
Sex
"DATA",711,12,"T")
S EASRTR=$$SEX^EASEZT1(EZDATA)
"DATA",711,13,0)
APPLICANT SOCIAL SECURITY NUMBER^I;5.^A^^1.0
"DATA",711,13,1)
2^2^.09
"DATA",711,13,2)
SSN
"DATA",711,13,3)
S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"DATA",711,14,0)
APPLICANT CLAIM NUMBER^I;6.^A^^1.0
"DATA",711,14,1)
2^2^.313
"DATA",711,14,2)
Claim #
"DATA",711,15,0)
APPLICANT DATE OF BIRTH^I;7.^A^^1.0
"DATA",711,15,1)
2^2^.03
"DATA",711,15,2)
DOB
"DATA",711,16,0)
RELIGION^I;8.^A^^1.0
"DATA",711,16,1)
2^2^.08
"DATA",711,16,2)
Religion
"DATA",711,16,"T")
S EASRTR=$$RELIGION^EASEZT2(EZDATA)
"DATA",711,17,0)
APPLICANT STREET ADDRESS^I;9A.^A^^1.0
"DATA",711,17,1)
2^2^.111
"DATA",711,17,2)
Street Address
"DATA",711,17,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,18,0)
APPLICANT CITY^I;9B.^A^^1.0
"DATA",711,18,1)
2^2^.114
"DATA",711,18,2)
City
"DATA",711,18,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,19,0)
APPLICANT STATE^I;9C.^A^^1.0
"DATA",711,19,1)
2^2^.115
"DATA",711,19,2)
State
"DATA",711,19,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,20,0)
APPLICANT ZIP^I;9D.^A^^1.0
"DATA",711,20,1)
2^2^.1112
"DATA",711,20,2)
Zipcode
"DATA",711,20,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,20,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,21,0)
APPLICANT COUNTY^I;9E.^A^^1.0
"DATA",711,21,1)
2^2^.117
"DATA",711,21,2)
County
"DATA",711,21,"T")
S EASRTR=$$UC^EASEZT1(EZDATA),EASRTR=$$COUNTY^EASEZT1(EASAPP,EASRTR)
"DATA",711,22,0)
APPLICANT HOME PHONE AREA CODE^I;10.1^A^^1.0
"DATA",711,22,1)
2^2^.131
"DATA",711,22,2)
Home Phone
"DATA",711,22,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,22,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"APPLICANT")
"DATA",711,23,0)
APPLICANT HOME PHONE NUMBER^I;10.2^A^^1.0
"DATA",711,23,1)
2^2^.131
"DATA",711,23,2)
Home Phone
"DATA",711,23,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,24,0)
APPLICANT WORK PHONE AREA CODE^I;11.1^A^^1.0
"DATA",711,24,1)
2^2^.132
"DATA",711,24,2)
Work Phone
"DATA",711,24,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,24,"T")
S EASRTR=$$WORKPH^EASEZT2(EASAPP,"APPLICANT")
"DATA",711,25,0)
APPLICANT WORK PHONE NUMBER^I;11.2^A^^1.0
"DATA",711,25,1)
2^2^.132
"DATA",711,25,2)
Work Phone
"DATA",711,25,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,26,0)
APPLICANT WORK PHONE EXTENSION^I;11.3^A^^1.0
"DATA",711,26,1)
2^2^.132
"DATA",711,26,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,27,0)
MARITAL STATUS^I;12.^A^^1.0
"DATA",711,27,1)
2^2^.05
"DATA",711,27,2)
Marital Status
"DATA",711,27,"T")
S EASRTR=$$MARR^EASEZT2(EZDATA)
"DATA",711,28,0)
LAST BRANCH OF SERVICE^I;13A.^A^^1.0
"DATA",711,28,1)
2^2^.325
"DATA",711,28,2)
Last Br. of Service
"DATA",711,28,"T")
S EASRTR=$$SVCBRCH^EASEZT2(EZDATA)
"DATA",711,29,0)
LAST ENTRY DATE^I;13B.^A^^1.0
"DATA",711,29,1)
2^2^.326
"DATA",711,29,2)
Last Entry Date
"DATA",711,29,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,30,0)
LAST DISCHARGE DATE^I;13C.^A^^1.0
"DATA",711,30,1)
2^2^.327
"DATA",711,30,2)
Last Discharge Date
"DATA",711,30,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,31,0)
LAST DISCHARGE TYPE^I;13D.^A^^1.0
"DATA",711,31,1)
2^2^.324
"DATA",711,31,2)
Discharge Type
"DATA",711,32,0)
SERVICE NUMBER^I;13E.^A^^1.0
"DATA",711,32,1)
2^2^.328
"DATA",711,32,2)
Service Number
"DATA",711,33,0)
PURPLE HEART^I;14A1.^A^^1.0
"DATA",711,33,1)
2^2^.531
"DATA",711,33,2)
Purple Heart?
"DATA",711,33,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,34,0)
PRISONER OF WAR^I;14A2.^A^^1.0
"DATA",711,34,1)
2^2^.525
"DATA",711,34,2)
POW?
"DATA",711,34,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,35,0)
SERVICE-CONNECTED^I;14B.^A^^1.0
"DATA",711,35,1)
2^2^.301
"DATA",711,35,2)
Service-Connected?
"DATA",711,35,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,36,0)
RATED PERCENTAGE^I;14B1.^A^^1.0
"DATA",711,36,1)
2^2^.302
"DATA",711,36,2)
SC %
"DATA",711,37,0)
VA PENSION^I;14C.^A^^1.0
"DATA",711,37,1)
2^2^.36235
"DATA",711,37,2)
VA Pension?
"DATA",711,37,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,38,0)
RETIRED FROM MILITARY^I;14D.^A^^1.0
"DATA",711,38,1)
2^2^.36255
"DATA",711,38,2)
Ret. From Military?
"DATA",711,38,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,39,0)
DISABILITY RETIREMENT FROM MILITARY^I;14D1.^A^^1.0
"DATA",711,39,1)
2^2^.362
"DATA",711,39,2)
Mil. Disab. Ret.?
"DATA",711,39,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,40,0)
REGULAR RETIREMENT FROM MILITARY^I;14D2.^A^^1.0
"DATA",711,40,1)
2^2^.36255
"DATA",711,40,2)
Mil. Regular Ret.?
"DATA",711,40,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,41,0)
TOXINS IN GULF WAR^I;14E.^A^^1.0
"DATA",711,41,1)
2^2^.322013
"DATA",711,41,2)
Gulf War Toxin Exp.?
"DATA",711,41,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,42,0)
AGENT ORANGE^I;14F.^A^^1.0
"DATA",711,42,1)
2^2^.32102
"DATA",711,42,2)
Agent Orange Exp.?
"DATA",711,42,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,43,0)
RADIATION EXPOSURE^I;14G.^A^^1.0
"DATA",711,43,1)
2^2^.32103
"DATA",711,43,2)
Radiation Exp.?
"DATA",711,43,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,44,0)
DENTAL INJURY^I;14H.^A^^1.0
"DATA",711,44,1)
2^2^.368
"DATA",711,44,2)
Mil. Dental Injury?
"DATA",711,44,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,45,0)
SPINAL CORD INJURY^I;14I.^A^^1.0
"DATA",711,45,1)
2^2^57.4
"DATA",711,45,2)
Spinal Cord Injury?
"DATA",711,45,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,46,0)
ELIGIBLE FOR MEDICAID^I;14J.^A^^1.0
"DATA",711,46,1)
2^2^.381
"DATA",711,46,2)
Elig. For Medicaid?
"DATA",711,46,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,47,0)
MEDICARE PART A^I;14K.^A^^1.0
"DATA",711,47,1)
355.33^355.33^20.01
"DATA",711,47,2)
Medicare Part A?
"DATA",711,47,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,47,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,48,0)
MEDICARE PART A EFFECTIVE DATE^I;14K1.^A^^1.0
"DATA",711,48,1)
355.33^355.33^60.02
"DATA",711,48,2)
Part A Effective DT
"DATA",711,48,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,49,0)
MEDICARE PART B^I;14L.^A^^1.0
"DATA",711,49,1)
355.33^355.33^20.01
"DATA",711,49,2)
Medicare Part B?
"DATA",711,49,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,49,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,50,0)
MEDICARE PART B EFFECTIVE DATE^I;14L1.^A^^1.0
"DATA",711,50,1)
355.33^355.33^60.02
"DATA",711,50,2)
Part B Effective DT
"DATA",711,50,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,51,0)
MEDICARE CLAIM NUMBER^I;14M.^A^^1.0
"DATA",711,51,1)
0^0^0
"DATA",711,51,2)
Medicare Claim #
"DATA",711,52,0)
SIGNEE ON MEDICARE CARD^I;14N.^A^^1.0
"DATA",711,52,1)
355.33^355.33^60.07
"DATA",711,52,2)
Medicare Card Name
"DATA",711,52,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,53,0)
APPLICANT EMPLOYMENT STATUS^I;15A.1^A^^1.0
"DATA",711,53,1)
2^2^.31115
"DATA",711,53,2)
Emp. Status
"DATA",711,53,"T")
S EASRTR=$$EMPLOY^EASEZT2(EZDATA)
"DATA",711,54,0)
APPLICANT DATE OF RETIREMENT^I;15A.2^A^^1.0
"DATA",711,54,1)
0^0^0
"DATA",711,54,2)
Retirement Date
"DATA",711,54,3)
S DIR(0)="D^::AEP"
"DATA",711,54,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,55,0)
APPLICANT EMPLOYER^I;15B.1^A^^1.0
"DATA",711,55,1)
2^2^.3111
"DATA",711,55,2)
Employer
"DATA",711,55,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,56,0)
APPLICANT EMPLOYER STREET ADDRESS^I;15B.2^A^^1.0
"DATA",711,56,1)
2^2^.3113
"DATA",711,56,2)
Emp. Street Addr.
"DATA",711,56,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,57,0)
APPLICANT EMPLOYER CITY^I;15B.3^A^^1.0
"DATA",711,57,1)
2^2^.3116
"DATA",711,57,2)
Emp. City
"DATA",711,57,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,58,0)
APPLICANT EMPLOYER STATE^I;15B.4^A^^1.0
"DATA",711,58,1)
2^2^.3117
"DATA",711,58,2)
Emp. State
"DATA",711,58,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,59,0)
APPLICANT EMPLOYER ZIP^I;15B.5^A^^1.0
"DATA",711,59,1)
2^2^.2205
"DATA",711,59,2)
Emp. Zip
"DATA",711,59,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,59,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,60,0)
APPLICANT EMPLOYER PHONE AREA CODE^I;15B.6^A^^1.0
"DATA",711,60,1)
2^2^.3119
"DATA",711,60,2)
Emp. Phone Number
"DATA",711,60,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,60,"T")
S EASRTR=$$EMPLPH^EASEZT2(EASAPP,"APPLICANT")
"DATA",711,61,0)
APPLICANT EMPLOYER PHONE NUMBER^I;15B.7^A^^1.0
"DATA",711,61,1)
2^2^.3119
"DATA",711,61,2)
Emp. Phone
"DATA",711,61,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,62,0)
APPLICANT EMPLOYER PHONE EXTENSION^I;15B.8^A^^1.0
"DATA",711,62,1)
2^2^.3119
"DATA",711,62,2)
Emp. Phone Ext.
"DATA",711,62,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,63,0)
SPOUSE EMPLOYMENT STATUS^I;16A.1^A^^1.0
"DATA",711,63,1)
2^2^.2515
"DATA",711,63,2)
Sp. Empl. Status
"DATA",711,63,"T")
S EASRTR=$$EMPLOY^EASEZT2(EZDATA)
"DATA",711,64,0)
SPOUSE DATE OF RETIREMENT^I;16A.2^A^^1.0
"DATA",711,64,1)
0^0^0
"DATA",711,64,2)
Sp. Retirement Date
"DATA",711,64,3)
S DIR(0)="D^::AEP"
"DATA",711,64,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,65,0)
SPOUSE EMPLOYER^I;16B.1^A^^1.0
"DATA",711,65,1)
2^2^.251
"DATA",711,65,2)
Sp. Employer
"DATA",711,65,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,66,0)
SPOUSE EMPLOYER STREET ADDRESS^I;16B.2^A^^1.0
"DATA",711,66,1)
2^2^.252
"DATA",711,66,2)
Sp. Empl. Street Addr.
"DATA",711,66,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,67,0)
SPOUSE EMPLOYER CITY^I;16B.3^A^^1.0
"DATA",711,67,1)
2^2^.255
"DATA",711,67,2)
Sp. Employer City
"DATA",711,67,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,68,0)
SPOUSE EMPLOYER STATE^I;16B.4^A^^1.0
"DATA",711,68,1)
2^2^.256
"DATA",711,68,2)
Sp. Employer State
"DATA",711,68,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,69,0)
SPOUSE EMPLOYER ZIP^I;16B.5^A^^1.0
"DATA",711,69,1)
2^2^.2206
"DATA",711,69,2)
Sp. Employer Zip
"DATA",711,69,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,69,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,70,0)
SPOUSE EMPLOYER PHONE AREA CODE^I;16B.6^A^^1.0
"DATA",711,70,1)
2^2^.258
"DATA",711,70,2)
Sp. Employer Phone Number
"DATA",711,70,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,70,"T")
S EASRTR=$$EMPLPH^EASEZT2(EASAPP,"SPOUSE")
"DATA",711,71,0)
SPOUSE EMPLOYER PHONE NUMBER^I;16B.7^A^^1.0
"DATA",711,71,1)
2^2^.258
"DATA",711,71,2)
Sp. Employer Phone
"DATA",711,71,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,72,0)
SPOUSE EMPLOYER PHONE EXTENSION^I;16B.8^A^^1.0
"DATA",711,72,1)
2^2^.258
"DATA",711,72,2)
Sp. Employer Phone Ext.
"DATA",711,72,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,73,0)
APPLICANT HAS INSURANCE^I;17.^A^^1.0
"DATA",711,73,1)
0^0^0
"DATA",711,73,2)
Health Insurance?
"DATA",711,73,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,73,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,74,0)
APPLICANT INSURANCE COMPANY^I;17A.^A^^1.0
"DATA",711,74,1)
355.33^355.33^20.01
"DATA",711,74,2)
Health Insurer
"DATA",711,74,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,75,0)
APPLICANT INSURANCE POLICY HOLDER^I;17B.^A^^1.0
"DATA",711,75,1)
355.33^355.33^60.07
"DATA",711,75,2)
Policy Holder Name
"DATA",711,75,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,76,0)
APPLICANT INSURANCE POLICY NUMBER^I;17C.^A^^1.0
"DATA",711,76,1)
355.33^355.33^60.04
"DATA",711,76,2)
Policy #
"DATA",711,76,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,77,0)
APPLICANT INSURANCE GROUP CODE^I;17D.^A^^1.0
"DATA",711,77,1)
355.33^355.33^40.03
"DATA",711,77,2)
Group Code
"DATA",711,77,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,78,0)
SPOUSE HAS INSURANCE^I;18.^A^^1.0
"DATA",711,78,1)
0^0^0
"DATA",711,78,2)
Sp. Health Ins.?
"DATA",711,78,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,78,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,79,0)
SPOUSE INSURANCE COMPANY^I;18A.^A^^1.0
"DATA",711,79,1)
355.33^355.33^20.01
"DATA",711,79,2)
Sp. Insurance Co.
"DATA",711,79,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,80,0)
SPOUSE INSURANCE POLICY HOLDER^I;18B.^A^^1.0
"DATA",711,80,1)
355.33^355.33^60.07
"DATA",711,80,2)
Sp. Pol. Holder Name
"DATA",711,80,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,81,0)
SPOUSE INSURANCE POLICY NUMBER^I;18C.^A^^1.0
"DATA",711,81,1)
355.33^355.33^60.04
"DATA",711,81,2)
Sp. Policy #
"DATA",711,81,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,82,0)
SPOUSE INSURANCE GROUP CODE^I;18D.^A^^1.0
"DATA",711,82,1)
355.33^355.33^40.03
"DATA",711,82,2)
Sp. Group Code
"DATA",711,82,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,83,0)
NEXT-OF-KIN LAST NAME^I;19A.1^A^^1.0
"DATA",711,83,1)
2^2^.211
"DATA",711,83,2)
NOK Name
"DATA",711,83,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,83,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"NEXT-OF-KIN",EASMULT)
"DATA",711,84,0)
NEXT-OF-KIN FIRST NAME^I;19A.2^A^^1.0
"DATA",711,84,1)
2^2^.211
"DATA",711,84,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,85,0)
NEXT-OF-KIN STREET ADDRESS^I;19A.3^A^^1.0
"DATA",711,85,1)
2^2^.213
"DATA",711,85,2)
NOK Street Address
"DATA",711,85,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,86,0)
NEXT-OF-KIN CITY^I;19A.4^A^^1.0
"DATA",711,86,1)
2^2^.216
"DATA",711,86,2)
NOK City
"DATA",711,86,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,87,0)
NEXT-OF-KIN STATE^I;19A.5^A^^1.0
"DATA",711,87,1)
2^2^.217
"DATA",711,87,2)
NOK State
"DATA",711,87,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,88,0)
NEXT-OF-KIN ZIP^I;19A.6^A^^1.0
"DATA",711,88,1)
2^2^.2207
"DATA",711,88,2)
NOK Zipcode
"DATA",711,88,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,88,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,89,0)
NEXT-OF-KIN RELATIONSHIP^I;19A.7^A^^1.0
"DATA",711,89,1)
2^2^.212
"DATA",711,89,2)
NOK Relationship
"DATA",711,89,3)
S DIR(0)="S^1:SELF;2:SPOUSE;3:SON;4:DAUGHTER;5:FATHER;6:MOTHER;99:OTHER"
"DATA",711,89,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,90,0)
NEXT-OF-KIN HOME PHONE AREA CODE^I;19B.1^A^^1.0
"DATA",711,90,1)
2^2^.219
"DATA",711,90,2)
NOK Home Phone
"DATA",711,90,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,90,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"NEXT-OF-KIN")
"DATA",711,91,0)
NEXT-OF-KIN HOME PHONE NUMBER^I;19B.2^A^^1.0
"DATA",711,91,1)
2^2^.219
"DATA",711,91,2)
NOK Home Phone
"DATA",711,91,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,92,0)
NEXT-OF-KIN WORK PHONE AREA CODE^I;19C.1^A^^1.0
"DATA",711,92,1)
2^2^.21011
"DATA",711,92,2)
NOK Work Phone
"DATA",711,92,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,92,"T")
S EASRTR=$$WORKPH^EASEZT2(EASAPP,"NEXT-OF-KIN")
"DATA",711,93,0)
NEXT-OF-KIN WORK PHONE NUMBER^I;19C.2^A^^1.0
"DATA",711,93,1)
2^2^.21011
"DATA",711,93,2)
NOK Work Phone
"DATA",711,93,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,94,0)
NEXT-OF-KIN WORK PHONE EXTENSION^I;19C.3^A^^1.0
"DATA",711,94,1)
2^2^.21011
"DATA",711,94,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,95,0)
E-CONTACT LAST NAME^I;20A.1^A^^1.0
"DATA",711,95,1)
2^2^.331
"DATA",711,95,2)
E-Cont. Name
"DATA",711,95,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,95,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"E-CONTACT",EASMULT)
"DATA",711,96,0)
E-CONTACT FIRST NAME^I;20A.2^A^^1.0
"DATA",711,96,1)
2^2^.331
"DATA",711,96,2)
E-Cont. First Name
"DATA",711,96,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,97,0)
E-CONTACT STREET ADDRESS^I;20A.3^A^^1.0
"DATA",711,97,1)
2^2^.333
"DATA",711,97,2)
E-Cont. Street Addr.
"DATA",711,97,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,98,0)
E-CONTACT CITY^I;20A.4^A^^1.0
"DATA",711,98,1)
2^2^.336
"DATA",711,98,2)
E-Cont. City
"DATA",711,98,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,99,0)
E-CONTACT STATE^I;20A.5^A^^1.0
"DATA",711,99,1)
2^2^.337
"DATA",711,99,2)
E-Cont. State
"DATA",711,99,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,100,0)
E-CONTACT ZIP^I;20A.6^A^^1.0
"DATA",711,100,1)
2^2^.2201
"DATA",711,100,2)
E-Cont. Zip
"DATA",711,100,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,100,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,101,0)
E-CONTACT RELATIONSHIP^I;20A.7^A^^1.0
"DATA",711,101,1)
2^2^.332
"DATA",711,101,2)
E-Cont. Relationship
"DATA",711,101,3)
S DIR(0)="S^1:SELF;2:SPOUSE;3:SON;4:DAUGHTER;5:FATHER;6:MOTHER;99:OTHER"
"DATA",711,101,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,102,0)
E-CONTACT HOME PHONE AREA CODE^I;20B.1^A^^1.0
"DATA",711,102,1)
2^2^.339
"DATA",711,102,2)
E-Cont. Home Phone
"DATA",711,102,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,102,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"E-CONTACT")
"DATA",711,103,0)
E-CONTACT HOME PHONE NUMBER^I;20B.2^A^^1.0
"DATA",711,103,1)
2^2^.339
"DATA",711,103,2)
E-Cont. Home Phone
"DATA",711,103,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,104,0)
E-CONTACT WORK PHONE AREA CODE^I;20C.1^A^^1.0
"DATA",711,104,1)
2^2^.33011
"DATA",711,104,2)
E-Cont. Work Number
"DATA",711,104,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,104,"T")
S EASRTR=$$WORKPH^EASEZT2(EASAPP,"E-CONTACT")
"DATA",711,105,0)
E-CONTACT WORK PHONE NUMBER^I;20C.2^A^^1.0
"DATA",711,105,1)
2^2^.33011
"DATA",711,105,2)
E-Cont. Work Phone
"DATA",711,105,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,106,0)
E-CONTACT WORK PHONE EXTENSION^I;20C.3^A^^1.0
"DATA",711,106,1)
2^2^.33011
"DATA",711,106,2)
E-Cont. Work Ext.
"DATA",711,106,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,107,0)
DESIGNEE^I;21.^A^^1.0
"DATA",711,107,1)
2^2^.3405
"DATA",711,107,2)
Designee
"DATA",711,107,3)
S DIR(0)="SM^N:NEXT OF KIN;E:EMERGENCY CONTACT"
"DATA",711,108,0)
NEED RELATED TO JOB INJURY^I;22A.^A^^1.0
"DATA",711,108,1)
0^0^0
"DATA",711,108,2)
Need Due to Job Inj.?
"DATA",711,108,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,109,0)
NEED RELATED TO ACCIDENT^I;22B.^A^^1.0
"DATA",711,109,1)
0^0^0
"DATA",711,109,2)
Need Due to Accid.?
"DATA",711,109,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,110,0)
SPOUSE LAST NAME^IIA;1.1^A^^1.0
"DATA",711,110,1)
408.13^408.13^.01
"DATA",711,110,2)
Sp. Name
"DATA",711,110,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,110,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"SPOUSE",EASMULT)
"DATA",711,111,0)
SPOUSE FIRST NAME^IIA;1.2^A^^1.0
"DATA",711,111,1)
408.13^408.13^.01
"DATA",711,111,2)
Sp. First Name
"DATA",711,111,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,112,0)
SPOUSE MIDDLE NAME^IIA;1.3^A^^1.0
"DATA",711,112,1)
408.13^408.13^.01
"DATA",711,112,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,113,0)
SPOUSE SUFFIX NAME^IIA;1.4^A^^1.0
"DATA",711,113,1)
408.13^408.13^.01
"DATA",711,113,3)
S DIR(0)="FO^1:6^K:X'?1.A X"
"DATA",711,114,0)
CHILD1 LAST NAME^IIA;2.1^A^^1.0
"DATA",711,114,1)
408.13^408.13^.01
"DATA",711,114,2)
Child Name
"DATA",711,114,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,114,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"CHILD1",EASMULT)
"DATA",711,115,0)
CHILD1 FIRST NAME^IIA;2.2^A^^1.0
"DATA",711,115,1)
408.13^408.13^.01
"DATA",711,115,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,116,0)
CHILD1 MIDDLE NAME^IIA;2.3^A^^1.0
"DATA",711,116,1)
408.13^408.13^.01
"DATA",711,116,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,117,0)
CHILD1 SUFFIX NAME^IIA;2.4^A^^1.0
"DATA",711,117,1)
408.13^408.13^.01
"DATA",711,117,3)
S DIR(0)="FO^1:6^K:X'?1.A X"
"DATA",711,118,0)
SPOUSE SOCIAL SECURITY NUMBER^IIA;3.^A^^1.0
"DATA",711,118,1)
408.13^408.13^.09
"DATA",711,118,2)
Sp. SSN
"DATA",711,118,3)
S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"DATA",711,118,"T")
S EASRTR=$$SSNOUT^EASEZT1(EZDATA)
"DATA",711,119,0)
SPOUSE DATE OF BIRTH^IIA;4.^A^^1.0
"DATA",711,119,1)
408.13^408.13^.03
"DATA",711,119,2)
Sp. DOB
"DATA",711,119,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,120,0)
CHILD1 DATE OF BIRTH^IIA;5.^A^^1.0
"DATA",711,120,1)
408.13^408.13^.03
"DATA",711,120,2)
Child DOB
"DATA",711,120,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,121,0)
SPOUSE STREET^IIA;6.1^A^^1.0
"DATA",711,121,1)
0^0^0
"DATA",711,121,2)
Sp. Street Addr.
"DATA",711,121,3)
S DIR(0)="F^3:35"
"DATA",711,121,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,122,0)
SPOUSE CITY^IIA;6.2^A^^1.0
"DATA",711,122,1)
0^0^0
"DATA",711,122,2)
Sp. City
"DATA",711,122,3)
S DIR(0)="F^2:15"
"DATA",711,122,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,123,0)
SPOUSE STATE^IIA;6.3^A^^1.0
"DATA",711,123,1)
0^0^0
"DATA",711,123,2)
Sp. State
"DATA",711,123,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,124,0)
SPOUSE ZIP^IIA;6.4^A^^1.0
"DATA",711,124,1)
0^0^0
"DATA",711,124,2)
Sp. Zip
"DATA",711,124,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,124,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,125,0)
CHILD1 SOCIAL SECURITY NUMBER^IIA;7.^A^^1.0
"DATA",711,125,1)
408.13^408.13^.09
"DATA",711,125,2)
Child SSN
"DATA",711,125,3)
S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"DATA",711,125,"T")
S EASRTR=$$SSNOUT^EASEZT1(EZDATA)
"DATA",711,126,0)
SPOUSE HOME PHONE AREA CODE^IIA;8.1^A^^1.0
"DATA",711,126,1)
0^0^0
"DATA",711,126,2)
Sp. Home Area Code
"DATA",711,126,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,126,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"SPOUSE")
"DATA",711,127,0)
SPOUSE HOME PHONE NUMBER^IIA;8.2^A^^1.0
"DATA",711,127,1)
0^0^0
"DATA",711,127,2)
Sp. Home Phone
"DATA",711,127,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,128,0)
CHILD1 RELATIONSHIP^IIA;9.^A^^1.0
"DATA",711,128,1)
408.12^408.12^.02
"DATA",711,128,2)
Child Relationship
"DATA",711,128,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,129,0)
DATE OF MARRIAGE TO SPOUSE^IIA;10.^A^^1.0
"DATA",711,129,1)
408.12^408.1275^.01
"DATA",711,129,2)
Sp. Effective Date
"DATA",711,129,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,130,0)
DATE CHILD1 BECAME DEPENDENT^IIA;11.^A^^1.0
"DATA",711,130,1)
408.12^408.1275^.01
"DATA",711,130,2)
Child Effective Date
"DATA",711,130,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,131,0)
AMOUNT CONTRIBUTED TO SP^IIA;12.1^A^^1.0
"DATA",711,131,1)
408.22^408.22^.07
"DATA",711,131,2)
Amt To Sp. Support
"DATA",711,132,0)
AMOUNT CONTRIBUTED TO CHILD1^IIA;12.2^A^^1.0
"DATA",711,132,1)
408.22^408.22^.1
"DATA",711,132,2)
Amt To Child Support
"DATA",711,133,0)
CHILD1 EDUCATION EXPENSES^IIA;13.^A^^1.0
"DATA",711,133,1)
408.21^408.21^1.03
"DATA",711,133,2)
Ed. $ Paid by Child
"DATA",711,134,0)
CHILD1 PERMANENTLY DISABLED^IIA;14.^A^^1.0
"DATA",711,134,1)
408.22^408.22^.09
"DATA",711,134,2)
Child Perm. Disab.?
"DATA",711,134,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,135,0)
CHILD1 18-23 IN SCHOOL^IIA;15.^A^^1.0
"DATA",711,135,1)
0^0^0
"DATA",711,135,2)
Age 18-23 in School?
"DATA",711,135,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,135,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,136,0)
CHILD(N) LAST NAME^IIB;1.1^A^^1.0
"DATA",711,136,1)
408.13^408.13^.01
"DATA",711,136,2)
Child Name
"DATA",711,136,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,136,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"CHILD(N)",EASMULT)
"DATA",711,137,0)
CHILD(N) FIRST NAME^IIB;1.2^A^^1.0
"DATA",711,137,1)
408.13^408.13^.01
"DATA",711,137,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,138,0)
CHILD(N) MIDDLE NAME^IIB;1.3^A^^1.0
"DATA",711,138,1)
408.13^408.13^.01
"DATA",711,138,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,139,0)
CHILD(N) SUFFIX NAME^IIB;1.4^A^^1.0
"DATA",711,139,1)
408.13^408.13^.01
"DATA",711,139,3)
S DIR(0)="FO^1:6^K:X'?1.A X"
"DATA",711,140,0)
CHILD(N) SOCIAL SECURITY NUMBER^IIB;2.^A^^1.0
"DATA",711,140,1)
408.13^408.13^.09
"DATA",711,140,2)
Child SSN
"DATA",711,140,3)
S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"DATA",711,140,"T")
S EASRTR=$$SSNOUT^EASEZT1(EZDATA)
"DATA",711,141,0)
CHILD(N) DATE OF BIRTH^IIB;3.^A^^1.0
"DATA",711,141,1)
408.13^408.13^.03
"DATA",711,141,2)
Child DOB
"DATA",711,141,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,142,0)
CHILD(N) RELATIONSHIP^IIB;4.^A^^1.0
"DATA",711,142,1)
408.12^408.12^.02
"DATA",711,142,2)
Child Relationship
"DATA",711,142,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,143,0)
DATE CHILD(N) BECAME DEPENDENT^IIB;5.^A^^1.0
"DATA",711,143,1)
408.12^408.1275^.01
"DATA",711,143,2)
Child Effective Date
"DATA",711,143,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,144,0)
AMOUNT CONTRIBUTED TO CHILD(N)^IIB;6.^A^^1.0
"DATA",711,144,1)
408.22^408.22^.1
"DATA",711,144,2)
Amt To Child Support
"DATA",711,145,0)
CHILD(N) EDUCATION EXPENSES^IIB;7.^A^^1.0
"DATA",711,145,1)
408.21^408.21^1.03
"DATA",711,145,2)
Education Cost Paid by Child
"DATA",711,146,0)
CHILD(N) PERMANENTLY DISABLED^IIB;8.^A^^1.0
"DATA",711,146,1)
408.22^408.22^.09
"DATA",711,146,2)
Child Perm. Disab.?
"DATA",711,146,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,147,0)
CHILD(N) 18-23 IN SCHOOL^IIB;9.^A^^1.0
"DATA",711,147,1)
0^0^0
"DATA",711,147,2)
Age 18-23 in School?
"DATA",711,147,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,147,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,148,0)
APPLICANT GROSS ANNUAL INCOME^IIC;1.1^A^^1.0
"DATA",711,148,1)
408.21^408.21^.14
"DATA",711,148,2)
Gross Annual Inc.
"DATA",711,149,0)
SPOUSE GROSS ANNUAL INCOME^IIC;1.2^A^^1.0
"DATA",711,149,1)
408.21^408.21^.14
"DATA",711,149,2)
Gross Ann. Inc. (Sp)
"DATA",711,150,0)
CHILD1 GROSS ANNUAL INCOME^IIC;1.3^A^^1.0
"DATA",711,150,1)
408.21^408.21^.14
"DATA",711,150,2)
Gross Ann. Inc. (Ch)
"DATA",711,151,0)
APPLICANT OTHER INCOME^IIC;2.1^A^^1.0
"DATA",711,151,1)
408.21^408.21^.17
"DATA",711,151,2)
Other Income
"DATA",711,152,0)
SPOUSE OTHER INCOME^IIC;2.2^A^^1.0
"DATA",711,152,1)
408.21^408.21^.17
"DATA",711,152,2)
Other Income (Sp.)
"DATA",711,153,0)
CHILD1 OTHER INCOME^IIC;2.3^A^^1.0
"DATA",711,153,1)
408.21^408.21^.17
"DATA",711,153,2)
Other Income (Ch.)
"DATA",711,154,0)
APPLICANT FARM OR BUSINESS^IIC;3.^A^^1.0
"DATA",711,154,1)
0^0^0
"DATA",711,154,2)
Farm/Bus. Income?
"DATA",711,154,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,154,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,155,0)
APPLICANT MEDICAL EXPENSES^IID;1.^A^^1.0
"DATA",711,155,1)
408.21^408.21^1.01
"DATA",711,155,2)
Medical Expenses
"DATA",711,156,0)
APPLICANT FUNERAL EXPENSES^IID;2.^A^^1.0
"DATA",711,156,1)
408.21^408.21^1.02
"DATA",711,156,2)
Funeral Expenses
"DATA",711,157,0)
APPLICANT EDUCATION EXPENSES^IID;3.^A^^1.0
"DATA",711,157,1)
408.21^408.21^1.03
"DATA",711,157,2)
Education Expenses
"DATA",711,158,0)
APPLICANT CASH IN BANK^IIE;1.1^A^^1.0
"DATA",711,158,1)
408.21^408.21^2.01
"DATA",711,158,2)
Cash in Bank
"DATA",711,159,0)
SPOUSE CASH IN BANK^IIE;1.2^A^^1.0
"DATA",711,159,1)
408.21^408.21^2.01
"DATA",711,159,2)
Cash in Bank (Sp.)
"DATA",711,160,0)
APPLICANT REAL PROPERTY LESS MORTGAGES^IIE;2.1^A^^1.0
"DATA",711,160,1)
408.21^408.21^2.03
"DATA",711,160,2)
Real Property
"DATA",711,161,0)
SPOUSE REAL PROPERTY LESS MORTGAGES^IIE;2.2^A^^1.0
"DATA",711,161,1)
408.21^408.21^2.03
"DATA",711,161,2)
Real Property (Sp.)
"DATA",711,162,0)
APPLICANT STOCKS BONDS ASSETS LESS DEBTS^IIE;3.1^A^^1.0
"DATA",711,162,1)
408.21^408.21^2.04
"DATA",711,162,2)
Other Property
"DATA",711,163,0)
SPOUSE STOCKS BONDS ASSETS LESS DEBTS^IIE;3.2^A^^1.0
"DATA",711,163,1)
408.21^408.21^2.04
"DATA",711,163,2)
Other Property (Sp)
"DATA",711,164,0)
DESIGNEE LAST NAME^I;21A.1^A^^1.0
"DATA",711,164,1)
2^2^.341
"DATA",711,164,2)
Designee Name
"DATA",711,164,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,164,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"DESIGNEE",EASMULT)
"DATA",711,165,0)
DESIGNEE FIRST NAME^I;21A.2^A^^1.0
"DATA",711,165,1)
2^2^.341
"DATA",711,165,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,166,0)
DESIGNEE STREET ADDRESS^I;21A.3^A^^1.0
"DATA",711,166,1)
2^2^.343
"DATA",711,166,2)
Designee Street Address
"DATA",711,166,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,167,0)
DESIGNEE CITY^I;21A.4^A^^1.0
"DATA",711,167,1)
2^2^.346
"DATA",711,167,2)
Designee City
"DATA",711,167,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,168,0)
DESIGNEE STATE^I;21A.5^A^^1.0
"DATA",711,168,1)
2^2^.347
"DATA",711,168,2)
Designee State
"DATA",711,168,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,169,0)
DESIGNEE ZIP^I;21A.6^A^^1.0
"DATA",711,169,1)
2^2^.2202
"DATA",711,169,2)
Designee Zipcode
"DATA",711,169,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,169,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,170,0)
DESIGNEE RELATIONSHIP^I;21A.7^A^^1.0
"DATA",711,170,1)
2^2^.342
"DATA",711,170,2)
Designee Relationship
"DATA",711,170,3)
S DIR(0)="S^1:SELF;2:SPOUSE;3:SON;4:DAUGHTER;5:FATHER;6:MOTHER;99:OTHER"
"DATA",711,170,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,171,0)
DESIGNEE HOME PHONE AREA CODE^I;21B.1^A^^1.0
"DATA",711,171,1)
2^2^.349
"DATA",711,171,2)
Designee Home Phone
"DATA",711,171,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,171,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"DESIGNEE")
"DATA",711,172,0)
DESIGNEE HOME PHONE NUMBER^I;21B.2^A^^1.0
"DATA",711,172,1)
2^2^.349
"DATA",711,172,2)
Designee Home Phone
"DATA",711,172,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,173,0)
DESIGNEE WORK PHONE AREA CODE^I;21C.1^A^^1.0
"DATA",711,173,1)
2^2^.34011
"DATA",711,173,2)
Designee Work Phone
"DATA",711,173,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,173,"T")
S EASRTR=$$WORKPH^EASEZT2(EASAPP,"DESIGNEE")
"DATA",711,174,0)
DESIGNEE WORK PHONE NUMBER^I;21C.2^A^^1.0
"DATA",711,174,1)
2^2^.34011
"DATA",711,174,2)
Designee Work Phone
"DATA",711,174,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,175,0)
DESIGNEE WORK PHONE EXTENSION^I;21C.3^A^^1.0
"DATA",711,175,1)
2^2^.34011
"DATA",711,175,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"FIA",711)
1010EZ MAPPING
"FIA",711,0)
^EAS(711,
"FIA",711,0,0)
711
"FIA",711,0,1)
y^y^f^^n^^y^o^n
"FIA",711,0,10)

"FIA",711,0,11)

"FIA",711,0,"RLRO")

"FIA",711,0,"VR")
1.0^EAS
"FIA",711,711)
0
"FIA",712)
1010EZ HOLDING
"FIA",712,0)
^EAS(712,
"FIA",712,0,0)
712
"FIA",712,0,1)
y^y^f^^^^n
"FIA",712,0,10)

"FIA",712,0,11)

"FIA",712,0,"RLRO")

"FIA",712,0,"VR")
1.0^EAS
"FIA",712,712)
0
"FIA",712,712.01)
0
"FIA",712,712.013)
0
"KRN",19,10532,-1)
0^1
"KRN",19,10532,0)
EAS EZ SERVER^VA1010EZ COLLECTION SERVER^^S^^^^^^^^REGISTRATION
"KRN",19,10532,1,0)
^19.06^2^2^3001012^^^^
"KRN",19,10532,1,1,0)
Main server for collecting and processing 1010EZ form data submitted from
"KRN",19,10532,1,2,0)
the VA 1010EZ web-based enrollement application
"KRN",19,10532,25)
EN^EASEZW
"KRN",19,10532,220)
^R^^^Y^N
"KRN",19,10532,"U")
VA1010EZ COLLECTION SERVER
"KRN",19,10534,-1)
0^2
"KRN",19,10534,0)
EAS EZ 1010EZ PROCESSING^Electronic 10-10EZ Processing^^R^^^^^^^^
"KRN",19,10534,1,0)
^19.06^5^5^3001101^^
"KRN",19,10534,1,1,0)
Entry point to processing of 10-10EZ forms submitted electronically
"KRN",19,10534,1,2,0)
from web-based commercial application.
"KRN",19,10534,1,3,0)
 
"KRN",19,10534,1,4,0)
The Enrollment 10-10EZ Phase 2 pilot is being released thru
"KRN",19,10534,1,5,0)
Registration.
"KRN",19,10534,25)
EN^EASEZLM
"KRN",19,10534,99.1)
58513,12976
"KRN",19,10534,"U")
ELECTRONIC 10-10EZ PROCESSING
"KRN",19,10681,-1)
0^3
"KRN",19,10681,0)
EAS EZ QUICK LOOKUP^10-10EZ Quick Lookup^^R^^^^^^^^
"KRN",19,10681,1,0)
^^6^6^3010227^
"KRN",19,10681,1,1,0)
This option allows the user to perform a quick lookup from the
"KRN",19,10681,1,2,0)
1010EZ HOLDING File (#712), and obtain a screen display of some
"KRN",19,10681,1,3,0)
basic Application data.
"KRN",19,10681,1,4,0)
 
"KRN",19,10681,1,5,0)
The lookup can be done using Application #, Web Submission ID,
"KRN",19,10681,1,6,0)
Applicant Name, or Applicant SSN.
"KRN",19,10681,25)
EN^EASEZQ
"KRN",19,10681,"U")
10-10EZ QUICK LOOKUP
"KRN",19,10682,-1)
0^4
"KRN",19,10682,0)
EAS EZ MENU^10-10EZ Menu^^M^^^^^^^^
"KRN",19,10682,10,0)
^19.01IP^2^2
"KRN",19,10682,10,1,0)
10681^QL^1
"KRN",19,10682,10,1,"^")
EAS EZ QUICK LOOKUP
"KRN",19,10682,10,2,0)
10534^EZ^2
"KRN",19,10682,10,2,"^")
EAS EZ 1010EZ PROCESSING
"KRN",19,10682,99)
58498,41822
"KRN",19,10682,"U")
10-10EZ MENU
"KRN",101,3252,-1)
0^1
"KRN",101,3252,0)
EAS EZ 1010EZ APPLICATION^^^M^^^^^^^^
"KRN",101,3252,4)
26^4
"KRN",101,3252,10,0)
^101.01PA^3^1
"KRN",101,3252,10,3,0)
3264^EZ^1^
"KRN",101,3252,10,3,"^")
EAS EZ CONTINUE PROCESSING
"KRN",101,3252,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,3252,26)
D SHOW^VALM
"KRN",101,3252,28)
Select Action: 
"KRN",101,3252,99)
58461,68678
"KRN",101,3253,-1)
0^16
"KRN",101,3253,0)
EAS EZ 1010EZ REVIEW2^^^M^^^^^^^^
"KRN",101,3253,1,0)
^101.06^1^1^3001212^^
"KRN",101,3253,1,1,0)
For 1010EZ Applications In Review.
"KRN",101,3253,4)
26^4
"KRN",101,3253,10,0)
^101.01PA^9^9
"KRN",101,3253,10,1,0)
3254^AF^1^
"KRN",101,3253,10,1,"^")
EAS EZ ACCEPT FIELD
"KRN",101,3253,10,2,0)
3255^AZ^2^
"KRN",101,3253,10,2,"^")
EAS EZ ACCEPT ALL
"KRN",101,3253,10,3,0)
3256^CZ^3^
"KRN",101,3253,10,3,"^")
EAS EZ CLEAR ALL
"KRN",101,3253,10,4,0)
3257^RZ^4^
"KRN",101,3253,10,4,"^")
EAS EZ RESET TO NEW
"KRN",101,3253,10,6,0)
3262^IZ^10^
"KRN",101,3253,10,6,"^")
EAS EZ CLOSE/INACTIVATE 1010EZ
"KRN",101,3253,10,7,0)
3258^PZ^5^
"KRN",101,3253,10,7,"^")
EAS EZ PRINT 1010EZ
"KRN",101,3253,10,8,0)
3259^VZ^6^
"KRN",101,3253,10,8,"^")
EAS EZ VERIFY SIGNATURE
"KRN",101,3253,10,9,0)
3265^UF^7^
"KRN",101,3253,10,9,"^")
EAS EZ UPDATE FIELD
"KRN",101,3253,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,3253,26)
D SHOW^VALM
"KRN",101,3253,28)
Select Action: 
"KRN",101,3253,99)
58461,68678
"KRN",101,3253,101.04)
^^^
"KRN",101,3254,-1)
0^5
"KRN",101,3254,0)
EAS EZ ACCEPT FIELD^Accept Field^^A^^^^^^^^
"KRN",101,3254,20)
D ACCFLD^EASEZU3
"KRN",101,3254,21,0)
^101.021A^^0
"KRN",101,3254,99)
58461,68678
"KRN",101,3255,-1)
0^4
"KRN",101,3255,0)
EAS EZ ACCEPT ALL^Accept All^^A^^^^^^^^
"KRN",101,3255,20)
D ACCALL^EASEZU3
"KRN",101,3255,99)
58461,68678
"KRN",101,3256,-1)
0^6
"KRN",101,3256,0)
EAS EZ CLEAR ALL^Clear All^^A^^^^^^^^
"KRN",101,3256,20)
D CLEAR^EASEZU3
"KRN",101,3256,99)
58461,68678
"KRN",101,3257,-1)
0^10
"KRN",101,3257,0)
EAS EZ RESET TO NEW^Reset to New^^A^^^^^^^^
"KRN",101,3257,20)
D RESET^EASEZU3
"KRN",101,3257,99)
58461,68678
"KRN",101,3258,-1)
0^8
"KRN",101,3258,0)
EAS EZ PRINT 1010EZ^Print 1010EZ^^A^^^^^^^^
"KRN",101,3258,20)
D PRT1010^EASEZU4
"KRN",101,3258,99)
58461,68678
"KRN",101,3259,-1)
0^12
"KRN",101,3259,0)
EAS EZ VERIFY SIGNATURE^Verify Signature^^A^^^^^^^^
"KRN",101,3259,20)
D VERSIG^EASEZU4
"KRN",101,3259,99)
58461,68678
"KRN",101,3261,-1)
0^13
"KRN",101,3261,0)
EAS EZ FILE 1010EZ DATA^File 1010EZ^^A^^^^^^^^
"KRN",101,3261,15)

"KRN",101,3261,20)
D FILE^EASEZU4
"KRN",101,3261,99)
58461,68678
"KRN",101,3262,-1)
0^7
"KRN",101,3262,0)
EAS EZ CLOSE/INACTIVATE 1010EZ^Inactivate 1010EZ^^A^^^^^^^^
"KRN",101,3262,20)
D CLOSE^EASEZU4
"KRN",101,3262,99)
58461,68678
"KRN",101,3264,-1)
0^3
"KRN",101,3264,0)
EAS EZ CONTINUE PROCESSING^1010EZ Processing^^A^^^^^^^^
"KRN",101,3264,20)
D EXPND^EASEZL1
"KRN",101,3264,99)
58461,68678
"KRN",101,3265,-1)
0^11
"KRN",101,3265,0)
EAS EZ UPDATE FIELD^Update Field^^A^^^^^^^^
"KRN",101,3265,2,0)
^101.02A^^0
"KRN",101,3265,20)
D UPDATE^EASEZU5
"KRN",101,3265,99)
58461,68678
"KRN",101,3272,-1)
0^15
"KRN",101,3272,0)
EAS EZ 1010EZ REVIEW1^^^M^^^^^^^^
"KRN",101,3272,1,0)
^^2^2^3001212^
"KRN",101,3272,1,1,0)
For 1010EZ Applications that are New (i.e., not yet linked to site
"KRN",101,3272,1,2,0)
PATIENT file).
"KRN",101,3272,4)
26^4
"KRN",101,3272,10,0)
^101.01PA^7^7
"KRN",101,3272,10,6,0)
3262^IZ^10^
"KRN",101,3272,10,6,"^")
EAS EZ CLOSE/INACTIVATE 1010EZ
"KRN",101,3272,10,7,0)
3276^LZ^1^
"KRN",101,3272,10,7,"^")
EAS EZ LINK TO FILE 2
"KRN",101,3272,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,3272,26)
D SHOW^VALM
"KRN",101,3272,28)
Select Action: 
"KRN",101,3272,99)
58464,55267
"KRN",101,3273,-1)
0^17
"KRN",101,3273,0)
EAS EZ 1010EZ REVIEW3^^^M^^^^^^^^
"KRN",101,3273,1,0)
^^1^1^3001212^
"KRN",101,3273,1,1,0)
For 1010EZ Applications that have been Printed from VistA.
"KRN",101,3273,4)
26^4
"KRN",101,3273,10,0)
^101.01PA^8^8
"KRN",101,3273,10,4,0)
3257^RZ^4^
"KRN",101,3273,10,4,"^")
EAS EZ RESET TO NEW
"KRN",101,3273,10,6,0)
3262^IZ^10^
"KRN",101,3273,10,6,"^")
EAS EZ CLOSE/INACTIVATE 1010EZ
"KRN",101,3273,10,7,0)
3258^PZ^5^
"KRN",101,3273,10,7,"^")
EAS EZ PRINT 1010EZ
"KRN",101,3273,10,8,0)
3259^VZ^6^
"KRN",101,3273,10,8,"^")
EAS EZ VERIFY SIGNATURE
"KRN",101,3273,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,3273,26)
D SHOW^VALM
"KRN",101,3273,28)
Select Action: 
"KRN",101,3273,99)
58461,68679
"KRN",101,3274,-1)
0^18
"KRN",101,3274,0)
EAS EZ 1010EZ REVIEW4^^^M^^^^^^^^
"KRN",101,3274,1,0)
^101.06^1^1^3010109^^
"KRN",101,3274,1,1,0)
For 1010EZ Applications that are Signed.
"KRN",101,3274,4)
26^4
"KRN",101,3274,10,0)
^101.01PA^10^10
"KRN",101,3274,10,7,0)
3258^PZ^1^
"KRN",101,3274,10,7,"^")
EAS EZ PRINT 1010EZ
"KRN",101,3274,10,9,0)
3265^UF^2^
"KRN",101,3274,10,9,"^")
EAS EZ UPDATE FIELD
"KRN",101,3274,10,10,0)
3261^FZ^3^
"KRN",101,3274,10,10,"^")
EAS EZ FILE 1010EZ DATA
"KRN",101,3274,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,3274,26)
D SHOW^VALM
"KRN",101,3274,28)
Select Action: 
"KRN",101,3274,99)
58461,68679
"KRN",101,3276,-1)
0^14
"KRN",101,3276,0)
EAS EZ LINK TO FILE 2^Link to Patient File^^A^^^^^^^^
"KRN",101,3276,20)
D LINK^EASEZU3
"KRN",101,3276,99)
58461,68679
"KRN",101,3278,-1)
0^19
"KRN",101,3278,0)
EAS EZ 1010EZ REVIEW5^^^M^^^^^^^^
"KRN",101,3278,1,0)
^^1^1^3010109^
"KRN",101,3278,1,1,0)
For 1010EZ Applications that are Filed.
"KRN",101,3278,4)
26^4
"KRN",101,3278,10,0)
^101.01PA^1^1
"KRN",101,3278,10,1,0)
3258^PZ^1^
"KRN",101,3278,10,1,"^")
EAS EZ PRINT 1010EZ
"KRN",101,3278,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,3278,26)
D SHOW^VALM
"KRN",101,3278,28)
Select Action: 
"KRN",101,3278,99)
58461,68679
"KRN",409.61,546,-1)
0^1
"KRN",409.61,546,0)
EAS EZ 1010EZ INITIAL SCREEN^1^1^80^6^18^1^1^1010EZ^EAS EZ 1010EZ APPLICATION^10-10EZ Status List^1^^1
"KRN",409.61,546,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,546,"ARRAY")
 ^TMP("EASEZ",$J)
"KRN",409.61,546,"COL",0)
^409.621^8^8
"KRN",409.61,546,"COL",1,0)
NUMBER^1^3^^^0
"KRN",409.61,546,"COL",2,0)
APPLICANT^4^18^Applicant^^0
"KRN",409.61,546,"COL",3,0)
SSN^24^11^SSN^^0
"KRN",409.61,546,"COL",4,0)
TYPE^37^12^Vet. Type^^0
"KRN",409.61,546,"COL",5,0)
DATE^50^8^Rec'd^^0
"KRN",409.61,546,"COL",6,0)
APPNUM^73^6^App.#^^0
"KRN",409.61,546,"COL",7,0)
PRINTED^59^5^Print^^0
"KRN",409.61,546,"COL",8,0)
STATION^66^7^To^^0
"KRN",409.61,546,"COL","AIDENT",0,1)

"KRN",409.61,546,"COL","AIDENT",0,2)

"KRN",409.61,546,"COL","AIDENT",0,3)

"KRN",409.61,546,"COL","AIDENT",0,4)

"KRN",409.61,546,"COL","AIDENT",0,5)

"KRN",409.61,546,"COL","AIDENT",0,6)

"KRN",409.61,546,"COL","AIDENT",0,7)

"KRN",409.61,546,"COL","AIDENT",0,8)

"KRN",409.61,546,"COL","B","APPLICANT",2)

"KRN",409.61,546,"COL","B","APPNUM",6)

"KRN",409.61,546,"COL","B","DATE",5)

"KRN",409.61,546,"COL","B","NUMBER",1)

"KRN",409.61,546,"COL","B","PRINTED",7)

"KRN",409.61,546,"COL","B","SSN",3)

"KRN",409.61,546,"COL","B","STATION",8)

"KRN",409.61,546,"COL","B","TYPE",4)

"KRN",409.61,546,"EXP")
D EXPND^EASEZL1
"KRN",409.61,546,"FNL")
D FNL^EASEZLM
"KRN",409.61,546,"HDR")
D HDR^EASEZLM
"KRN",409.61,546,"HLP")
D HELP^EASEZLM
"KRN",409.61,546,"INIT")
D INIT^EASEZLM
"KRN",409.61,547,-1)
0^2
"KRN",409.61,547,0)
EAS EZ 1010EZ REVIEW1^1^1^80^7^18^1^1^1010EZ^EAS EZ 1010EZ REVIEW1^10-10EZ Processing^1^^1
"KRN",409.61,547,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,547,"ARRAY")
 ^TMP("EASEXP",$J)
"KRN",409.61,547,"COL",0)
^409.621^5^4
"KRN",409.61,547,"COL",1,0)
NUMBER^1^4^^^0
"KRN",409.61,547,"COL",2,0)
DATA ITEM^5^20^Data Item^^0
"KRN",409.61,547,"COL",4,0)
EZDATA^27^25^10-10EZ Data^^0
"KRN",409.61,547,"COL",5,0)
PTDATA^54^24^VistA Data^^0
"KRN",409.61,547,"COL","AIDENT",0,1)

"KRN",409.61,547,"COL","AIDENT",0,2)

"KRN",409.61,547,"COL","AIDENT",0,4)

"KRN",409.61,547,"COL","AIDENT",0,5)

"KRN",409.61,547,"COL","B","DATA ITEM",2)

"KRN",409.61,547,"COL","B","EZDATA",4)

"KRN",409.61,547,"COL","B","NUMBER",1)

"KRN",409.61,547,"COL","B","PTDATA",5)

"KRN",409.61,547,"EXP")

"KRN",409.61,547,"FNL")
D EXIT2^EASEZL1
"KRN",409.61,547,"HDR")
D HDR2^EASEZL1
"KRN",409.61,547,"HLP")
D HELP2^EASEZL2
"KRN",409.61,547,"INIT")
D INIT2^EASEZL1
"KRN",409.61,549,-1)
0^3
"KRN",409.61,549,0)
EAS EZ 1010EZ REVIEW2^1^1^80^7^18^1^1^1010EZ^EAS EZ 1010EZ REVIEW2^10-10EZ Processing^1^^1
"KRN",409.61,549,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,549,"ARRAY")
 ^TMP("EASEXP",$J)
"KRN",409.61,549,"COL",0)
^409.621^5^4
"KRN",409.61,549,"COL",1,0)
NUMBER^1^4^^^0
"KRN",409.61,549,"COL",2,0)
DATA ITEM^5^20^Data Item^^0
"KRN",409.61,549,"COL",4,0)
EZDATA^27^25^10-10EZ Data^^0
"KRN",409.61,549,"COL",5,0)
PTDATA^54^24^VistA Data^^0
"KRN",409.61,549,"COL","AIDENT",0,1)

"KRN",409.61,549,"COL","AIDENT",0,2)

"KRN",409.61,549,"COL","AIDENT",0,4)

"KRN",409.61,549,"COL","AIDENT",0,5)

"KRN",409.61,549,"COL","B","DATA ITEM",2)

"KRN",409.61,549,"COL","B","EZDATA",4)

"KRN",409.61,549,"COL","B","NUMBER",1)

"KRN",409.61,549,"COL","B","PTDATA",5)

"KRN",409.61,549,"FNL")
D EXIT2^EASEZL1
"KRN",409.61,549,"HDR")
D HDR2^EASEZL1
"KRN",409.61,549,"HLP")
D HELP2^EASEZL2
"KRN",409.61,549,"INIT")
D INIT2^EASEZL1
"KRN",409.61,550,-1)
0^4
"KRN",409.61,550,0)
EAS EZ 1010EZ REVIEW3^1^1^80^7^18^1^1^1010EZ^EAS EZ 1010EZ REVIEW3^10-10EZ Processing^1^^1
"KRN",409.61,550,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,550,"ARRAY")
 ^TMP("EASEXP",$J)
"KRN",409.61,550,"COL",0)
^409.621^5^4
"KRN",409.61,550,"COL",1,0)
NUMBER^1^4^^^0
"KRN",409.61,550,"COL",2,0)
DATA ITEM^5^20^Data Item^^0
"KRN",409.61,550,"COL",4,0)
EZDATA^27^25^10-10EZ Data^^0
"KRN",409.61,550,"COL",5,0)
PTDATA^54^24^VistA Data^^0
"KRN",409.61,550,"COL","AIDENT",0,1)

"KRN",409.61,550,"COL","AIDENT",0,2)

"KRN",409.61,550,"COL","AIDENT",0,4)

"KRN",409.61,550,"COL","AIDENT",0,5)

"KRN",409.61,550,"COL","B","DATA ITEM",2)

"KRN",409.61,550,"COL","B","EZDATA",4)

"KRN",409.61,550,"COL","B","NUMBER",1)

"KRN",409.61,550,"COL","B","PTDATA",5)

"KRN",409.61,550,"FNL")
D EXIT2^EASEZL1
"KRN",409.61,550,"HDR")
D HDR2^EASEZL1
"KRN",409.61,550,"HLP")
D HELP2^EASEZL2
"KRN",409.61,550,"INIT")
D INIT2^EASEZL1
"KRN",409.61,551,-1)
0^5
"KRN",409.61,551,0)
EAS EZ 1010EZ REVIEW4^1^1^80^7^18^1^1^1010EZ^EAS EZ 1010EZ REVIEW4^10-10EZ Processing^1^^1
"KRN",409.61,551,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,551,"ARRAY")
 ^TMP("EASEXP",$J)
"KRN",409.61,551,"COL",0)
^409.621^5^4
"KRN",409.61,551,"COL",1,0)
NUMBER^1^4^^^0
"KRN",409.61,551,"COL",2,0)
DATA ITEM^5^20^Data Item^^0
"KRN",409.61,551,"COL",4,0)
EZDATA^27^25^10-10EZ Data^^0
"KRN",409.61,551,"COL",5,0)
PTDATA^54^24^VistA Data^^0
"KRN",409.61,551,"COL","AIDENT",0,1)

"KRN",409.61,551,"COL","AIDENT",0,2)

"KRN",409.61,551,"COL","AIDENT",0,4)

"KRN",409.61,551,"COL","AIDENT",0,5)

"KRN",409.61,551,"COL","B","DATA ITEM",2)

"KRN",409.61,551,"COL","B","EZDATA",4)

"KRN",409.61,551,"COL","B","NUMBER",1)

"KRN",409.61,551,"COL","B","PTDATA",5)

"KRN",409.61,551,"FNL")
D EXIT2^EASEZL1
"KRN",409.61,551,"HDR")
D HDR2^EASEZL1
"KRN",409.61,551,"HLP")
D HELP2^EASEZL2
"KRN",409.61,551,"INIT")
D INIT2^EASEZL1
"KRN",409.61,553,-1)
0^6
"KRN",409.61,553,0)
EAS EZ 1010EZ REVIEW5^1^1^80^7^18^1^1^1010EZ^EAS EZ 1010EZ REVIEW5^10-10EZ Processing^1^^1
"KRN",409.61,553,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,553,"ARRAY")
 ^TMP("EASEXP",$J)
"KRN",409.61,553,"COL",0)
^409.621^5^4
"KRN",409.61,553,"COL",1,0)
NUMBER^1^4^^^0
"KRN",409.61,553,"COL",2,0)
DATA ITEM^5^20^Data Item^^0
"KRN",409.61,553,"COL",4,0)
EZDATA^27^25^10-10EZ Data^^0
"KRN",409.61,553,"COL",5,0)
PTDATA^54^24^VistA Data^^0
"KRN",409.61,553,"COL","AIDENT",0,1)

"KRN",409.61,553,"COL","AIDENT",0,2)

"KRN",409.61,553,"COL","AIDENT",0,4)

"KRN",409.61,553,"COL","AIDENT",0,5)

"KRN",409.61,553,"COL","B","DATA ITEM",2)

"KRN",409.61,553,"COL","B","EZDATA",4)

"KRN",409.61,553,"COL","B","NUMBER",1)

"KRN",409.61,553,"COL","B","PTDATA",5)

"KRN",409.61,553,"FNL")
D EXIT2^EASEZL1
"KRN",409.61,553,"HDR")
D HDR2^EASEZL1
"KRN",409.61,553,"HLP")
D HELP2^EASEZL2
"KRN",409.61,553,"INIT")
D INIT2^EASEZL1
"MBREQ")
0
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",17,409.61)
409.61;17;1;;;;;;;LMDEL^XPDIA1
"ORD",17,409.61,0)
LIST TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",552,-1)
1^1
"PKG",552,0)
ENROLLMENT APPLICATION SYSTEM^EAS^ENROLLMENT
"PKG",552,20,0)
^9.402P^^
"PKG",552,22,0)
^9.49I^1^1
"PKG",552,22,1,0)
1.0^3010315
"PKG",552,22,1,1,0)
^^1^1^3010315
"PKG",552,22,1,1,1,0)
ENROLLMENT APPLICATION SYSTEM v1.0
"PKG",552,"VERSION")
1.0
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
28
"RTN","EASEZC1")
0^7^B39360955
"RTN","EASEZC1",1,0)
EASEZC1 ;ALB/jap - Compare 1010EZ Data with VistA Database ;10/16/00  13:08
"RTN","EASEZC1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZC1",3,0)
 ;
"RTN","EASEZC1",4,0)
EN(EASAPP,EASDFN) ;this entry point is called as soon as user has selected an Application
"RTN","EASEZC1",5,0)
 ;
"RTN","EASEZC1",6,0)
 ;input  
"RTN","EASEZC1",7,0)
 ;  EASAPP = application ien in file #712
"RTN","EASEZC1",8,0)
 ;  EASDFN = ien in file #2; if 0, then application not yet linked to file #2
"RTN","EASEZC1",9,0)
 ;output
"RTN","EASEZC1",10,0)
 ;  ^TMP("EZDATA"  where
"RTN","EASEZC1",11,0)
 ;  ^TMP("EZDATA",$J,ien_file711)=file#^subfile#^field#^data_id
"RTN","EASEZC1",12,0)
 ;  ^TMP("EZDATA",$J,ien_file711,multiple,1)=ezdata^accept_flag^subien_subfile712.01
"RTN","EASEZC1",13,0)
 ;  ^TMP("EZDATA",$J,ien_file711,multiple,2)=vista_data^link_ien
"RTN","EASEZC1",14,0)
 ;
"RTN","EASEZC1",15,0)
 N IEN,KEY,SUBIEN,ACCEPT,FFF,LINK,MULTIPLE,ORIG,UPD,X,Y,C2711KEY
"RTN","EASEZC1",16,0)
 ;don't continue if passed in dfn doesn't match link
"RTN","EASEZC1",17,0)
 I $G(EASDFN),$P($G(^EAS(712,EASAPP,0)),U,10)'=EASDFN S EASDFN="" Q
"RTN","EASEZC1",18,0)
 ;don't continue if link to file #2 not available
"RTN","EASEZC1",19,0)
 I '$G(EASDFN) S EASDFN=+$P($G(^EAS(712,EASAPP,0)),U,10)
"RTN","EASEZC1",20,0)
 ;if applicant is new to database, user accept/not accept of data elements is constrained 
"RTN","EASEZC1",21,0)
 S EASEZNEW=$P(^EAS(712,EASAPP,0),U,11)
"RTN","EASEZC1",22,0)
 ;
"RTN","EASEZC1",23,0)
 ; setup local mapping array
"RTN","EASEZC1",24,0)
 D LOCAL711^EASEZU2
"RTN","EASEZC1",25,0)
 ;need this for later
"RTN","EASEZC1",26,0)
 S C2711KEY=+$$KEY711^EASEZU1("TYPE OF BENEFIT-ENROLLMENT")
"RTN","EASEZC1",27,0)
 ;correlate #712 data with tmp mapping array
"RTN","EASEZC1",28,0)
 S SUBIEN=0 F  S SUBIEN=$O(^EAS(712,EASAPP,10,SUBIEN)) Q:'SUBIEN  D
"RTN","EASEZC1",29,0)
 .S X=^EAS(712,EASAPP,10,SUBIEN,0)
"RTN","EASEZC1",30,0)
 .S (IEN,KEY)=$P(X,U,1),MULTIPLE=$P(X,U,2),ACCEPT=$P(X,U,3),FFF=$P(^TMP("EZDATA",$J,IEN),U,1,3)
"RTN","EASEZC1",31,0)
 .S X=$G(^EAS(712,EASAPP,10,SUBIEN,1)),ORIG=$P(X,U,1),UPD=$P(X,U,2)
"RTN","EASEZC1",32,0)
 .;if link exists, it is pointer to Vista database record for an existing patient
"RTN","EASEZC1",33,0)
 .;  or possibly a 'new' patient (i.e., this applicant's data), if this is done post filing
"RTN","EASEZC1",34,0)
 .S LINK=$P($G(^EAS(712,EASAPP,10,SUBIEN,2)),U,2)
"RTN","EASEZC1",35,0)
 .Q:((ORIG="")&(UPD=""))
"RTN","EASEZC1",36,0)
 .;eliminate some garbage from web app
"RTN","EASEZC1",37,0)
 .I (ORIG="-")!(ORIG="--")!(ORIG="//") S ORIG=""
"RTN","EASEZC1",38,0)
 .I UPD="" S ^TMP("EZDATA",$J,IEN,MULTIPLE,1)=ORIG_U_ACCEPT_U_SUBIEN
"RTN","EASEZC1",39,0)
 .E  S ^TMP("EZDATA",$J,IEN,MULTIPLE,1)=UPD_U_ACCEPT_U_SUBIEN
"RTN","EASEZC1",40,0)
 .;if this applicant is new to VistA database, there is no existing patient data for comparison
"RTN","EASEZC1",41,0)
 .;just pickup name,ssn,dob anyway;
"RTN","EASEZC1",42,0)
 .I EASEZNEW,EASDFN D
"RTN","EASEZC1",43,0)
 ..S F=$P(FFF,U,1),SF=$P(FFF,U,2),FD=$P(FFF,U,3)
"RTN","EASEZC1",44,0)
 ..I F=2,SF=2 I (FD=.01)!(FD=.02)!(FD=.03)!(FD=.09) S LINK=EASDFN
"RTN","EASEZC1",45,0)
 ..K F,SF,FD
"RTN","EASEZC1",46,0)
 .;if link to database exists then get VistA data into tmp array
"RTN","EASEZC1",47,0)
 .I LINK D
"RTN","EASEZC1",48,0)
 ..S X=$$GET(LINK,FFF) S:X=-1 X="" S ^TMP("EZDATA",$J,IEN,MULTIPLE,2)=X_U_LINK
"RTN","EASEZC1",49,0)
 ..;special for file #27.11 (Enrollment) data
"RTN","EASEZC1",50,0)
 ..I KEY=C2711KEY D 
"RTN","EASEZC1",51,0)
 ...S CUR=$P($G(^EAS(712,EASAPP,10,SUBIEN,2)),U,2)
"RTN","EASEZC1",52,0)
 ...D ENR(CUR,.VDATA) K CUR
"RTN","EASEZC1",53,0)
 ...S ^TMP("EZDATA",$J,IEN,MULTIPLE,2)=VDATA_U_LINK K VDATA
"RTN","EASEZC1",54,0)
 ..I $G(^TMP("EZDATA",$J,IEN,MULTIPLE,1))="" S ^TMP("EZDATA",$J,IEN,MULTIPLE,1)=U_ACCEPT_U_SUBIEN
"RTN","EASEZC1",55,0)
 ;set 'transformed' data into ^TMP("EZDISP" array
"RTN","EASEZC1",56,0)
 D SORT^EASEZC3(EASAPP)
"RTN","EASEZC1",57,0)
 Q
"RTN","EASEZC1",58,0)
 ;
"RTN","EASEZC1",59,0)
GET(EASLINK,EASFFF) ;get data from existing Patient database
"RTN","EASEZC1",60,0)
 ;input EASLINK  = IEN(s) needed
"RTN","EASEZC1",61,0)
 ;              format: file_ien;subfile_ien
"RTN","EASEZC1",62,0)
 ;       EASFFF = field # for file or subfile
"RTN","EASEZC1",63,0)
 ;              format: file#^subfile#^field#
"RTN","EASEZC1",64,0)
 ;output RTR = data obtained from Patient database; external format;
"RTN","EASEZC1",65,0)
 ;             OR -1 if invalid input
"RTN","EASEZC1",66,0)
 ;
"RTN","EASEZC1",67,0)
 N FILE,SUBFILE,FIELD,RTR,ARRAY,DA,DR,DIC,DIQ,X,Y
"RTN","EASEZC1",68,0)
 S FILE=$P(EASFFF,U,1),SUBFILE=$P(EASFFF,U,2),FIELD=$P(EASFFF,U,3)
"RTN","EASEZC1",69,0)
 I ('FILE)!('FIELD) Q -1
"RTN","EASEZC1",70,0)
 I SUBFILE,SUBFILE'=FILE,EASLINK'[";" Q -1
"RTN","EASEZC1",71,0)
 I EASLINK[";",SUBFILE="" Q -1
"RTN","EASEZC1",72,0)
 ;
"RTN","EASEZC1",73,0)
 I (SUBFILE="")!(SUBFILE=FILE) D
"RTN","EASEZC1",74,0)
 .;data in main file
"RTN","EASEZC1",75,0)
 .S DIQ="ARRAY",DIQ(0)="E",DA=EASLINK,DR=FIELD,DIC=FILE
"RTN","EASEZC1",76,0)
 .D EN^DIQ1
"RTN","EASEZC1",77,0)
 .S RTR=$G(ARRAY(FILE,EASLINK,FIELD,"E"))
"RTN","EASEZC1",78,0)
 I SUBFILE'="",SUBFILE'=FILE D
"RTN","EASEZC1",79,0)
 .;data in subfile
"RTN","EASEZC1",80,0)
 .;in this case EASLINK = file_ien;subfile_ien
"RTN","EASEZC1",81,0)
 .S DIQ="ARRAY",DIQ(0)="E",DA=$P(EASLINK,";",1),DIC=FILE
"RTN","EASEZC1",82,0)
 .;get field # for subfile
"RTN","EASEZC1",83,0)
 .S DR=$O(^DD(FILE,"SB",SUBFILE,0))
"RTN","EASEZC1",84,0)
 .S DR(SUBFILE)=FIELD,DA(SUBFILE)=$P(EASLINK,";",2)
"RTN","EASEZC1",85,0)
 .D EN^DIQ1
"RTN","EASEZC1",86,0)
 .S RTR=$G(ARRAY(SUBFILE,$P(EASLINK,";",2),FIELD,"E"))
"RTN","EASEZC1",87,0)
 Q RTR
"RTN","EASEZC1",88,0)
 ;
"RTN","EASEZC1",89,0)
 ;
"RTN","EASEZC1",90,0)
C2 ;get data from file #2 into local array L711
"RTN","EASEZC1",91,0)
 ;there are alot of fields; quickest just to order thru local mapping file
"RTN","EASEZC1",92,0)
 ;
"RTN","EASEZC1",93,0)
 N KEY,MAP,VDATA,EASAEL
"RTN","EASEZC1",94,0)
 ;2nd subscript for array is always 1 (no multiples)
"RTN","EASEZC1",95,0)
 S KEY=0 F  S KEY=$O(^TMP("EZDATA",$J,KEY)) Q:'KEY  S MAP=^TMP("EZDATA",$J,KEY) I ($P(MAP,U,1)=2)&($P(MAP,U,2)=2) D
"RTN","EASEZC1",96,0)
 .S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC1",97,0)
 .S VDATA=$$GET(EASDFN,MAP)
"RTN","EASEZC1",98,0)
 .Q:VDATA=-1  Q:VDATA=""
"RTN","EASEZC1",99,0)
 .;ien to #711 is 1st subscript of local array is 
"RTN","EASEZC1",100,0)
 .S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC1",101,0)
 .;if data exists in 1010EZ then insert link to file #2
"RTN","EASEZC1",102,0)
 .I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,EASDFN)
"RTN","EASEZC1",103,0)
 .;if data does not exist in 1010EZ add subrecord to hold link
"RTN","EASEZC1",104,0)
 .I 'EASAEL D ADD71201^EASEZU1(EASAPP,KEY,EASDFN,1)
"RTN","EASEZC1",105,0)
 Q
"RTN","EASEZC1",106,0)
 ;
"RTN","EASEZC1",107,0)
C201 ;get data in Alias subfile #2.01 into local array L711
"RTN","EASEZC1",108,0)
 ;  using ien(s) local array ALIAS
"RTN","EASEZC1",109,0)
 ;
"RTN","EASEZC1",110,0)
 ;for Alias name(s) - if other name on 1010EZ doesn't match any on file
"RTN","EASEZC1",111,0)
 ;   then it will be auto-accepted; comparision only with matching name if any.
"RTN","EASEZC1",112,0)
 N X,M,B,ADATA,VDATA,KEY,EASAEL
"RTN","EASEZC1",113,0)
 S KEY=+$$KEY711^EASEZU1("APPLICANT OTHER NAME")
"RTN","EASEZC1",114,0)
 S M=0 F  S M=$O(^TMP("EZDATA",$J,KEY,M)) Q:'M  D
"RTN","EASEZC1",115,0)
 .S ADATA=$P(^TMP("EZDATA",$J,KEY,M,1),U,1)
"RTN","EASEZC1",116,0)
 .S B=0 F  S B=$O(ALIAS(B)) Q:'B  D
"RTN","EASEZC1",117,0)
 ..S VDATA=$$GET(ALIAS(B),^TMP("EZDATA",$J,KEY)) Q:VDATA=-1
"RTN","EASEZC1",118,0)
 ..I VDATA=ADATA D
"RTN","EASEZC1",119,0)
 ...S ^TMP("EZDATA",$J,KEY,M,2)=VDATA
"RTN","EASEZC1",120,0)
 ...S EASAEL=$P(^TMP("EZDATA",$J,KEY,M,1),U,3)
"RTN","EASEZC1",121,0)
 ...;only insert link if data exists in 1010EZ
"RTN","EASEZC1",122,0)
 ...I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,ALIAS(B))
"RTN","EASEZC1",123,0)
 Q
"RTN","EASEZC1",124,0)
 ;
"RTN","EASEZC1",125,0)
C2101 ;get data in Disposition subfile #2.101 into local array L711
"RTN","EASEZC1",126,0)
 ;  using ien(s) local array DISPOS
"RTN","EASEZC1",127,0)
 ;
"RTN","EASEZC1",128,0)
 ;display data on most recent registration if any
"RTN","EASEZC1",129,0)
 ;2nd subscript of local array always 1 (no multiples)
"RTN","EASEZC1",130,0)
 N B,X,FLD,KEY,ADATA,VDATA,EASAEL
"RTN","EASEZC1",131,0)
 S FLD=0 F  S FLD=$O(^TMP("EZINDEX","A",2,2.101,FLD)) Q:FLD=""  D
"RTN","EASEZC1",132,0)
 .S KEY=$O(^TMP("EZINDEX","A",2,2.101,FLD,0))
"RTN","EASEZC1",133,0)
 .S ADATA=$G(^TMP("EZDATA",$J,KEY,1,1))
"RTN","EASEZC1",134,0)
 .S VDATA=$$GET(DISPOS(1),^TMP("EZDATA",$J,KEY))
"RTN","EASEZC1",135,0)
 .Q:VDATA=-1  Q:VDATA=""
"RTN","EASEZC1",136,0)
 .S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC1",137,0)
 .S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC1",138,0)
 .;if data exists in 1010EZ then insert link
"RTN","EASEZC1",139,0)
 .I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,DISPOS(1)) Q
"RTN","EASEZC1",140,0)
 .;if data does not exist in 1010EZ add subrecord to hold link
"RTN","EASEZC1",141,0)
 .I 'EASAEL D ADD71201^EASEZU1(EASAPP,KEY,DISPOS(1),1)
"RTN","EASEZC1",142,0)
 Q
"RTN","EASEZC1",143,0)
 ;
"RTN","EASEZC1",144,0)
C2711 ;get data in Current Enrollment #27.11 into local array L711
"RTN","EASEZC1",145,0)
 ;  using ien(s) local array ENROLL
"RTN","EASEZC1",146,0)
 ;
"RTN","EASEZC1",147,0)
 ;2nd subscript of local array always 1 (no multiples)
"RTN","EASEZC1",148,0)
 N X,M,B,ADATA,CUR,DGENR,VDATA,KEY,EASAEL
"RTN","EASEZC1",149,0)
 S KEY=+$$KEY711^EASEZU1("TYPE OF BENEFIT-ENROLLMENT")
"RTN","EASEZC1",150,0)
 S CUR=$G(ENROLL(1)),VDATA=""
"RTN","EASEZC1",151,0)
 Q:CUR=-1
"RTN","EASEZC1",152,0)
 Q:CUR=""
"RTN","EASEZC1",153,0)
 D ENR(CUR,.VDATA)
"RTN","EASEZC1",154,0)
 S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC1",155,0)
 S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC1",156,0)
 ;if data exists in 1010EZ then insert link
"RTN","EASEZC1",157,0)
 I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,CUR)
"RTN","EASEZC1",158,0)
 ;if data does not exist in 1010EZ add subrecord to hold link
"RTN","EASEZC1",159,0)
 I 'EASAEL D ADD71201^EASEZU1(EASAPP,KEY,CUR,1)
"RTN","EASEZC1",160,0)
 Q
"RTN","EASEZC1",161,0)
 ;
"RTN","EASEZC1",162,0)
ENR(CUR,VDATA) ;get data for current enrollment from VistA database
"RTN","EASEZC1",163,0)
 ;input CUR = pointer to file #27.11
"RTN","EASEZC1",164,0)
 N DGENCAT
"RTN","EASEZC1",165,0)
 S VDATA=""
"RTN","EASEZC1",166,0)
 I $$GET^DGENA(CUR,.DGENR) D
"RTN","EASEZC1",167,0)
 .I $G(DGENR("STATUS"))=10!($G(DGENR("STATUS"))=19)!($G(DGENR("STATUS"))=20) D  Q
"RTN","EASEZC1",168,0)
 ..S VDATA=$S($G(DGENR("STATUS")):$$EXT^DGENU("STATUS",DGENR("STATUS")),1:"")
"RTN","EASEZC1",169,0)
 .S DGENCAT=$$CATEGORY^DGENA4(+EASDFN)
"RTN","EASEZC1",170,0)
 .S DGENCAT=$$EXTERNAL^DILFD(27.15,.02,"",DGENCAT)
"RTN","EASEZC1",171,0)
 .S VDATA=$S($G(DGENR("PRIORITY")):$$EXT^DGENU("PRIORITY",DGENR("PRIORITY")),1:"")
"RTN","EASEZC1",172,0)
 .S VDATA=VDATA_$S($G(DGENR("SUBGRP"))="":"",1:$$EXT^DGENU("SUBGRP",$G(DGENR("SUBGRP"))))
"RTN","EASEZC1",173,0)
 .S VDATA=VDATA_" | "_DGENCAT
"RTN","EASEZC1",174,0)
 Q
"RTN","EASEZC1",175,0)
 ;
"RTN","EASEZC1",176,0)
C408 ;get data from financial files into tmp mapping array
"RTN","EASEZC1",177,0)
 ;  using ien(s) local array INCREL
"RTN","EASEZC1",178,0)
 ;if no iens for veteran then nothing at all; exit
"RTN","EASEZC1",179,0)
 I $G(INCREL(408,"V",1))="" Q
"RTN","EASEZC1",180,0)
 ;link EZ applicant to veteran data
"RTN","EASEZC1",181,0)
 D A408^EASEZC2
"RTN","EASEZC1",182,0)
 ;link EZ spouse to spouse data
"RTN","EASEZC1",183,0)
 D SP408^EASEZC2
"RTN","EASEZC1",184,0)
 ;link EZ child to child/dependent data
"RTN","EASEZC1",185,0)
 D C1N408^EASEZC2
"RTN","EASEZC1",186,0)
 Q
"RTN","EASEZC2")
0^8^B34349444
"RTN","EASEZC2",1,0)
EASEZC2 ;ALB/jap - Compare 1010EZ Data with VistA Database ;10/16/00  13:08
"RTN","EASEZC2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZC2",3,0)
 ;
"RTN","EASEZC2",4,0)
A408 ;get applicant financial data from VistA
"RTN","EASEZC2",5,0)
 N IENS,IEN,B,FF,FILE,SUBF,FLD,MAP,VDATA,KEY,EASAEL
"RTN","EASEZC2",6,0)
 S IENS=$G(INCREL(408,"V",1))
"RTN","EASEZC2",7,0)
 Q:IENS=""
"RTN","EASEZC2",8,0)
 ;associate each ien with file/subfile
"RTN","EASEZC2",9,0)
 S B=0 F FF=408.12,2,408.21,408.22 D
"RTN","EASEZC2",10,0)
 .S B=B+1,IEN=+$P(IENS,U,B)
"RTN","EASEZC2",11,0)
 .Q:'IEN  Q:FF=2
"RTN","EASEZC2",12,0)
 .S (FILE,SUBF)=FF
"RTN","EASEZC2",13,0)
 .S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,"A",FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",14,0)
 ..S MAP=FILE_U_SUBF_U_FLD
"RTN","EASEZC2",15,0)
 ..;get patient database data
"RTN","EASEZC2",16,0)
 ..S VDATA=$$GET^EASEZC1(IEN,MAP)
"RTN","EASEZC2",17,0)
 ..;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",18,0)
 ..;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",19,0)
 ..S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,"A",FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",20,0)
 ...S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC2",21,0)
 ...S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC2",22,0)
 ...I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,IEN)
"RTN","EASEZC2",23,0)
 ...I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,IEN,1)
"RTN","EASEZC2",24,0)
 Q
"RTN","EASEZC2",25,0)
 ;
"RTN","EASEZC2",26,0)
SP408 ;get spouse financial data from VistA
"RTN","EASEZC2",27,0)
 ;
"RTN","EASEZC2",28,0)
 N B,TYPE,MAP,M,MM,NSD,OUT,X,IEN,IENS,KEY,FILE,FF,FFF,FLD,SUBF,SUBIEN,VDATA,WHERE
"RTN","EASEZC2",29,0)
 ;get identifying data for database spouse
"RTN","EASEZC2",30,0)
 S IENS=$G(INCREL(408,"S",1)) I IENS="" S IENS=$G(INCREL(408,"SX",1))
"RTN","EASEZC2",31,0)
 Q:IENS=""
"RTN","EASEZC2",32,0)
 ;associate each ien with file/subfile
"RTN","EASEZC2",33,0)
 S B=0 F FF=408.12,408.13,408.21,408.22 D
"RTN","EASEZC2",34,0)
 .S B=B+1,IEN=+$P(IENS,U,B)
"RTN","EASEZC2",35,0)
 .Q:'IEN
"RTN","EASEZC2",36,0)
 .S (FILE,SUBF)=FF
"RTN","EASEZC2",37,0)
 .S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,"S",FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",38,0)
 ..S MAP=FILE_U_SUBF_U_FLD
"RTN","EASEZC2",39,0)
 ..;get patient database data
"RTN","EASEZC2",40,0)
 ..S VDATA=$$GET^EASEZC1(IEN,MAP)
"RTN","EASEZC2",41,0)
 ..;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",42,0)
 ..;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",43,0)
 ..S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,"S",FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",44,0)
 ...S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC2",45,0)
 ...S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC2",46,0)
 ...I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,IEN)
"RTN","EASEZC2",47,0)
 ...I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,IEN,1)
"RTN","EASEZC2",48,0)
 .;get data in subfile #408.1275
"RTN","EASEZC2",49,0)
 .I FILE=408.12 S SUBF=408.1275 S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,"S",FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",50,0)
 ..S SUBIEN=$$I1275^EASEZI(IEN)
"RTN","EASEZC2",51,0)
 ..S MAP=FILE_U_SUBF_U_FLD,WHERE=IEN_";"_SUBIEN
"RTN","EASEZC2",52,0)
 ..S VDATA=$$GET^EASEZC1(WHERE,MAP)
"RTN","EASEZC2",53,0)
 ..;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",54,0)
 ..;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",55,0)
 ..S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,"S",FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",56,0)
 ...S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC2",57,0)
 ...S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC2",58,0)
 ...I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,WHERE)
"RTN","EASEZC2",59,0)
 ...I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,WHERE,1)
"RTN","EASEZC2",60,0)
 Q
"RTN","EASEZC2",61,0)
 ;
"RTN","EASEZC2",62,0)
C1N408 ;get child/dependent financial data from VistA
"RTN","EASEZC2",63,0)
 N B,PERS,EZ,PT,TYPE,GRP,MAP,M,MM,NSD,OUT,X,IEN,IENS,FLD,FF,FFF,FILE,SUBF,SUBIEN,VDATA,WHERE
"RTN","EASEZC2",64,0)
 ;
"RTN","EASEZC2",65,0)
 ;get identifying data for 1010EZ child dependents
"RTN","EASEZC2",66,0)
 K PERS("EZ")
"RTN","EASEZC2",67,0)
 S TYPE="CHILD1" S X=$$NSD^EASEZU3(EASAPP,TYPE,1) I X'="" S PERS("EZ",TYPE,1)=X
"RTN","EASEZC2",68,0)
 S TYPE="CHILD(N)",M=0,OUT=0 F  S M=M+1 D  Q:OUT
"RTN","EASEZC2",69,0)
 .S X=$$NSD^EASEZU3(EASAPP,TYPE,M)
"RTN","EASEZC2",70,0)
 .I X="" S OUT=1 Q
"RTN","EASEZC2",71,0)
 .S PERS("EZ",TYPE,M)=X
"RTN","EASEZC2",72,0)
 ;
"RTN","EASEZC2",73,0)
 ;get identifying data for all database dependents
"RTN","EASEZC2",74,0)
 K PERS("PT")
"RTN","EASEZC2",75,0)
 S M=0,MM=0 F  S M=$O(INCREL(408,"C",M)) Q:'M  D
"RTN","EASEZC2",76,0)
 .S IEN=+$P(INCREL(408,"C",M),U,2)
"RTN","EASEZC2",77,0)
 .S NSD="" F FLD=".01",".09",".03" D
"RTN","EASEZC2",78,0)
 ..S FFF="408.13^408.13^"_FLD S X=$$GET^EASEZC1(IEN,FFF)
"RTN","EASEZC2",79,0)
 ..I FLD=".09" S X=$$SSNOUT^EASEZT1(X)
"RTN","EASEZC2",80,0)
 ..S NSD=NSD_X_U
"RTN","EASEZC2",81,0)
 .S MM=MM+1,PERS("PT","CHILD",MM)=NSD,PERS("PT","CHILD",MM,"IENS")=INCREL(408,"C",M)
"RTN","EASEZC2",82,0)
 ;
"RTN","EASEZC2",83,0)
 ;match each EZ child dependent to database dependent if possible
"RTN","EASEZC2",84,0)
 F TYPE="CHILD1","CHILD(N)" S M=0 F  S M=$O(PERS("EZ",TYPE,M)) Q:'M  D
"RTN","EASEZC2",85,0)
 .S EZ=PERS("EZ",TYPE,M)
"RTN","EASEZC2",86,0)
 .S MM=0 F  S MM=$O(PERS("PT","CHILD",MM)) Q:'MM  S PT=PERS("PT","CHILD",MM) D
"RTN","EASEZC2",87,0)
 ..I ($P(EZ,U,2,3)=$P(PT,U,2,3))!($$CMORE(EZ,PT)) D
"RTN","EASEZC2",88,0)
 ...S PERS("EZ",TYPE,M,"IENS")=PERS("PT","CHILD",MM,"IENS")
"RTN","EASEZC2",89,0)
 ...K PERS("PT","CHILD",MM)
"RTN","EASEZC2",90,0)
 ;
"RTN","EASEZC2",91,0)
 ;get identifying data for child in database
"RTN","EASEZC2",92,0)
 F TYPE="CHILD1","CHILD(N)" S M=0 F  S M=$O(PERS("EZ",TYPE,M)) Q:'M  D
"RTN","EASEZC2",93,0)
 .S IENS=$G(PERS("EZ",TYPE,M,"IENS"))
"RTN","EASEZC2",94,0)
 .Q:IENS=""
"RTN","EASEZC2",95,0)
 .S GRP=$S(TYPE="CHILD1":"C1",1:"CN")
"RTN","EASEZC2",96,0)
 .;associate each ien with file/subfile
"RTN","EASEZC2",97,0)
 .S B=0 F FF=408.12,408.13,408.21,408.22 D
"RTN","EASEZC2",98,0)
 ..S B=B+1,IEN=+$P(IENS,U,B)
"RTN","EASEZC2",99,0)
 ..Q:'IEN
"RTN","EASEZC2",100,0)
 ..S (FILE,SUBF)=FF
"RTN","EASEZC2",101,0)
 ..S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,GRP,FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",102,0)
 ...S MAP=FILE_U_SUBF_U_FLD
"RTN","EASEZC2",103,0)
 ...;get patient database data
"RTN","EASEZC2",104,0)
 ...S VDATA=$$GET^EASEZC1(IEN,MAP)
"RTN","EASEZC2",105,0)
 ...;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",106,0)
 ...;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",107,0)
 ...S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,GRP,FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",108,0)
 ....S ^TMP("EZDATA",$J,KEY,M,2)=VDATA
"RTN","EASEZC2",109,0)
 ....S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,M,1)),U,3)
"RTN","EASEZC2",110,0)
 ....I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,IEN)
"RTN","EASEZC2",111,0)
 ....I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,IEN,1)
"RTN","EASEZC2",112,0)
 ..;get data in subfile #408.1275
"RTN","EASEZC2",113,0)
 ..I FILE=408.12 S SUBF=408.1275 S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,GRP,FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",114,0)
 ...S SUBIEN=$$I1275^EASEZI(IEN)
"RTN","EASEZC2",115,0)
 ...S MAP=FILE_U_SUBF_U_FLD,WHERE=IEN_";"_SUBIEN
"RTN","EASEZC2",116,0)
 ...S VDATA=$$GET^EASEZC1(WHERE,MAP)
"RTN","EASEZC2",117,0)
 ...;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",118,0)
 ...;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",119,0)
 ...S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,GRP,FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",120,0)
 ....S ^TMP("EZDATA",$J,KEY,M,2)=VDATA
"RTN","EASEZC2",121,0)
 ....S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,M,1)),U,3)
"RTN","EASEZC2",122,0)
 ....I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,WHERE)
"RTN","EASEZC2",123,0)
 ....I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,WHERE,1)
"RTN","EASEZC2",124,0)
 Q
"RTN","EASEZC2",125,0)
 ;
"RTN","EASEZC2",126,0)
CMORE(EZ,PT) ;
"RTN","EASEZC2",127,0)
 ;input EZ = name^ssn^dob of child on 1010EZ
"RTN","EASEZC2",128,0)
 ;      PT = name^ssn^dob of child in database
"RTN","EASEZC2",129,0)
 ;output MATCH = 0, if no match
"RTN","EASEZC2",130,0)
 N PSSN,PDOB,ESSN,EDOB,K,MATCH,MATCH1,MATCH2
"RTN","EASEZC2",131,0)
 S (MATCH,MATCH1,MATCH2)=0
"RTN","EASEZC2",132,0)
 S ESSN=$P(EZ,U,2),EDOB=$P(EZ,U,3),PSSN=$P(PT,U,2),PDOB=$P(PT,U,3)
"RTN","EASEZC2",133,0)
 S MATCH1=0 F K=1,2,3,5,6,8,9,10,11 I $P(ESSN,U,K)=$P(PSSN,U,K) S MATCH1=MATCH1+1
"RTN","EASEZC2",134,0)
 I $P(EDOB,"/",3)=$P(PDOB,"/",3) S MATCH2=1
"RTN","EASEZC2",135,0)
 I MATCH1>7,MATCH2 S MATCH=1
"RTN","EASEZC2",136,0)
 Q MATCH
"RTN","EASEZC3")
0^9^B9028124
"RTN","EASEZC3",1,0)
EASEZC3 ;ALB/jap - Compare 1010EZ Data with VistA Database (cont.) ;10/16/00  13:08
"RTN","EASEZC3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZC3",3,0)
 ;
"RTN","EASEZC3",4,0)
SORT(EASAPP) ;resort ^TMP("EZDATA", to prepare for screen display
"RTN","EASEZC3",5,0)
 N KEYIEN,DATAKEY,ALL,EZDATA,DISPNM,PTDATA,EASMULT,TRNSFORM,QUES,Q1,QQ,QX,NQ,SECT,FFF,XNAME,MULT
"RTN","EASEZC3",6,0)
 K ^TMP("EZTEMP",$J),^TMP("EZDISP",$J)
"RTN","EASEZC3",7,0)
 S KEYIEN=.1 F  S KEYIEN=$O(^TMP("EZDATA",$J,KEYIEN)) Q:'KEYIEN  I $D(^(KEYIEN))>1 D
"RTN","EASEZC3",8,0)
 .S DATAKEY=$P(^TMP("EZDATA",$J,KEYIEN),U,4),SECT=$P(DATAKEY,";",1),QUES=$P(DATAKEY,";",2)
"RTN","EASEZC3",9,0)
 .;must use variable name EASMULT,EASRTR for any Transform
"RTN","EASEZC3",10,0)
 .S EASMULT=0 F  S EASMULT=$O(^TMP("EZDATA",$J,KEYIEN,EASMULT)) Q:'EASMULT  D
"RTN","EASEZC3",11,0)
 ..;here ALL=ezdata^accept^712.01ien
"RTN","EASEZC3",12,0)
 ..S ALL=$G(^TMP("EZDATA",$J,KEYIEN,EASMULT,1)),EZDATA=$P(ALL,U,1)
"RTN","EASEZC3",13,0)
 ..;ez data conversion for display
"RTN","EASEZC3",14,0)
 ..K EASRTR S TRNSFORM=$G(^EAS(711,KEYIEN,"T")) I TRNSFORM'="" X TRNSFORM S EZDATA=$G(EASRTR)
"RTN","EASEZC3",15,0)
 ..S PTDATA=$P($G(^TMP("EZDATA",$J,KEYIEN,EASMULT,2)),U,1)
"RTN","EASEZC3",16,0)
 ..I EZDATA="" S $P(^TMP("EZDATA",$J,KEYIEN,EASMULT,1),U,1)=""
"RTN","EASEZC3",17,0)
 ..Q:(EZDATA="")&(PTDATA="")
"RTN","EASEZC3",18,0)
 ..S DISPNM=$P($G(^TMP("EZDATA",$J,KEYIEN)),U,5)
"RTN","EASEZC3",19,0)
 ..S ^TMP("EZTEMP",$J,SECT,EASMULT,QUES)=KEYIEN_U_EZDATA_U_$P(ALL,U,2)_U_$P(ALL,U,3)_U_PTDATA
"RTN","EASEZC3",20,0)
 ..;set another array so questions fall in proper display order
"RTN","EASEZC3",21,0)
 ..I QUES=+QUES D  Q
"RTN","EASEZC3",22,0)
 ...S ^TMP("EZDISP",$J,SECT,EASMULT,QUES,0)=^TMP("EZTEMP",$J,SECT,EASMULT,QUES)_U_DISPNM
"RTN","EASEZC3",23,0)
 ..S Q1=$E(QUES,1) I Q1=+QUES D  Q
"RTN","EASEZC3",24,0)
 ...S QX=$E(QUES,2,99) S:QX="." QX=0
"RTN","EASEZC3",25,0)
 ...S ^TMP("EZDISP",$J,SECT,EASMULT,Q1,QX)=^TMP("EZTEMP",$J,SECT,EASMULT,QUES)_U_DISPNM
"RTN","EASEZC3",26,0)
 ..S Q1=$E(QUES,1,2) I Q1=+QUES D
"RTN","EASEZC3",27,0)
 ...S QX=$E(QUES,3,99) S:QX="." QX=0
"RTN","EASEZC3",28,0)
 ...S ^TMP("EZDISP",$J,SECT,EASMULT,Q1,QX)=^TMP("EZTEMP",$J,SECT,EASMULT,QUES)_U_DISPNM
"RTN","EASEZC3",29,0)
 ;rearrange Section IIA
"RTN","EASEZC3",30,0)
 S SECT="IIA",MULT=1,QQ="" F  S QQ=$O(^TMP("EZDISP",$J,SECT,MULT,QQ)) Q:QQ>99  Q:QQ=""  D
"RTN","EASEZC3",31,0)
 .S XNAME=$P(^TMP("EZDISP",$J,SECT,MULT,QQ,0),U,6),NQ=$S(XNAME["Sp.":100,1:200)
"RTN","EASEZC3",32,0)
 .S ^TMP("EZDISP",$J,SECT,MULT,NQ,QQ)=^TMP("EZDISP",$J,SECT,MULT,QQ,0)
"RTN","EASEZC3",33,0)
 .K ^TMP("EZDISP",$J,SECT,MULT,QQ,0)
"RTN","EASEZC3",34,0)
 Q
"RTN","EASEZC3",35,0)
 ;
"RTN","EASEZC3",36,0)
OUT ;output current contents of ^TMP("EZTEMP",
"RTN","EASEZC3",37,0)
 ;only used for development from programmer mode
"RTN","EASEZC3",38,0)
 N S,M,OLDM,QUES,Q1,QX,KEYIEN,DISPNM,EZDATA,PTDATA,X
"RTN","EASEZC3",39,0)
 S S="" F  S S=$O(^TMP("EZDISP",$J,S)) Q:S=""  D
"RTN","EASEZC3",40,0)
 .W !!!,"SECTION "_S
"RTN","EASEZC3",41,0)
 .S M=0,OLDM=0 F  S M=$O(^TMP("EZDISP",$J,S,M)) Q:'M  D
"RTN","EASEZC3",42,0)
 ..I M'=OLDM W !
"RTN","EASEZC3",43,0)
 ..S OLDM=M
"RTN","EASEZC3",44,0)
 ..S Q1="" F  S Q1=$O(^TMP("EZDISP",$J,S,M,Q1)) Q:Q1=""  S QX="" F  S QX=$O(^TMP("EZDISP",$J,S,M,Q1,QX)) Q:QX=""  D
"RTN","EASEZC3",45,0)
 ...S (EZDATA,PTDATA)=""
"RTN","EASEZC3",46,0)
 ...S X=^TMP("EZDISP",$J,S,M,Q1,QX),KEYIEN=$P(X,U,1),EZDATA=$P(X,U,2),PTDATA=$P(X,U,5),DISPNM=$P(X,U,6)
"RTN","EASEZC3",47,0)
 ...I Q1>99 S QUES=QX_"."
"RTN","EASEZC3",48,0)
 ...E  S QUES=Q1_$S(QX=0:".",1:QX)
"RTN","EASEZC3",49,0)
 ...W !,"QUESTION "_QUES_"  "_DISPNM
"RTN","EASEZC3",50,0)
 ...W !,?3,"1010EZ : "_EZDATA
"RTN","EASEZC3",51,0)
 ...W !,?3,"VistA  : "_PTDATA
"RTN","EASEZC3",52,0)
 Q
"RTN","EASEZF1")
0^1^B12170243
"RTN","EASEZF1",1,0)
EASEZF1 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/12/00  13:07
"RTN","EASEZF1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZF1",3,0)
 ;
"RTN","EASEZF1",4,0)
F2(EASDFN) ;file to Patient record in #2
"RTN","EASEZF1",5,0)
 ;input EASDFN = ien to #2
"RTN","EASEZF1",6,0)
 N KEYIEN,FILE,SUBFILE,FLD,DATAKEY,MULTIPLE,SECT,QUES,SUBIEN,ACCEPT,EZDATA,PTDATA,LINK,EROOT,EAS,ERR,IENS,X,Y
"RTN","EASEZF1",7,0)
 Q:'$G(EASDFN)
"RTN","EASEZF1",8,0)
 L +^DPT(EASDFN)
"RTN","EASEZF1",9,0)
 S KEYIEN=0
"RTN","EASEZF1",10,0)
 F  S KEYIEN=$O(^TMP("EZDATA",$J,KEYIEN)) Q:'KEYIEN  D
"RTN","EASEZF1",11,0)
 .S LN=^TMP("EZDATA",$J,KEYIEN),FILE=$P(LN,U,1)
"RTN","EASEZF1",12,0)
 .Q:FILE'=2
"RTN","EASEZF1",13,0)
 .S SUBFILE=$P(LN,U,2),FLD=$P(LN,U,3),DATAKEY=$P(LN,U,4)
"RTN","EASEZF1",14,0)
 .S SECT=$P(DATAKEY,";",1),QUES=$P(DATAKEY,";",2)
"RTN","EASEZF1",15,0)
 .;in file #2, multiple is always 1
"RTN","EASEZF1",16,0)
 .S MULTIPLE=1
"RTN","EASEZF1",17,0)
 .Q:'$D(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1))
"RTN","EASEZF1",18,0)
 .S X=$G(^TMP("EZTEMP",$J,SECT,MULTIPLE,QUES))
"RTN","EASEZF1",19,0)
 .Q:$P(X,U,1)'=KEYIEN
"RTN","EASEZF1",20,0)
 .S EZDATA=$P(X,U,2),ACCEPT=$P(X,U,3),SUBIEN=$P(X,U,4),PTDATA=$P(X,U,5)
"RTN","EASEZF1",21,0)
 .Q:EZDATA=""
"RTN","EASEZF1",22,0)
 .;strip off code display from county
"RTN","EASEZF1",23,0)
 .I SECT="I",QUES="9E." S EZDATA=$P(EZDATA," (",1)
"RTN","EASEZF1",24,0)
 .Q:EZDATA=PTDATA
"RTN","EASEZF1",25,0)
 .;can't continue w/o ien to subfile #712.01
"RTN","EASEZF1",26,0)
 .Q:'SUBIEN
"RTN","EASEZF1",27,0)
 .;get file #2 ien; always same as EASDFN
"RTN","EASEZF1",28,0)
 .S LINK=EASDFN
"RTN","EASEZF1",29,0)
 .;don't continue if data item not accepted
"RTN","EASEZF1",30,0)
 .Q:ACCEPT<1
"RTN","EASEZF1",31,0)
 .;process subfile data elsewhere
"RTN","EASEZF1",32,0)
 .I SUBFILE=2.01 Q
"RTN","EASEZF1",33,0)
 .I SUBFILE=2.101 Q
"RTN","EASEZF1",34,0)
 .;special conversion to file data to field #.328
"RTN","EASEZF1",35,0)
 .I FLD=.328 D
"RTN","EASEZF1",36,0)
 ..S X=$$UC^EASEZT1(EZDATA) I X="SSN" D
"RTN","EASEZF1",37,0)
 ...;allow SSN as Service Number only if field #.328 in patient record is null;
"RTN","EASEZF1",38,0)
 ...S PTSSN=$$GETANY^EASEZU1(EASAPP,EASDFN,SUBIEN)
"RTN","EASEZF1",39,0)
 ...I PTSSN="" S EZDATA="SS" Q
"RTN","EASEZF1",40,0)
 ...;otherwise Applicant SSN must match Patient SSN
"RTN","EASEZF1",41,0)
 ...S KK=$$KEY711^EASEZU1("APPLICANT SOCIAL SECURITY NUMBER")
"RTN","EASEZF1",42,0)
 ...S EZSSN=$P($G(^TMP("EZDATA",$J,KK,1,1)),U,1),EZSSN=$TR(EZSSN,"-","")
"RTN","EASEZF1",43,0)
 ...I EZSSN=PTSSN S EZDATA="SS" Q
"RTN","EASEZF1",44,0)
 ...S EZDATA="ssn"
"RTN","EASEZF1",45,0)
 ..K KK,PTSSN,EZSSN
"RTN","EASEZF1",46,0)
 .;setup to call FM database server using EASDFN as file #2 record
"RTN","EASEZF1",47,0)
 .K EAS,ERR
"RTN","EASEZF1",48,0)
 .S IENS=EASDFN_","
"RTN","EASEZF1",49,0)
 .S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF1",50,0)
 .D VAL^DIE(2,IENS,FLD,"F",EZDATA,,EROOT,"ERR")
"RTN","EASEZF1",51,0)
 .;try to resolve possible invalid input for free text fields due to length
"RTN","EASEZF1",52,0)
 .I $D(ERR) D RESOLVE
"RTN","EASEZF1",53,0)
 .;file to database if input is valid
"RTN","EASEZF1",54,0)
 .I '$D(ERR) D
"RTN","EASEZF1",55,0)
 ..;2/1/2001 - don't attempt to file Name, SSN, DOB; too many complications;
"RTN","EASEZF1",56,0)
 ..;  example: if system assigns pseudo-SSN to new patient, user could overwrite;
"RTN","EASEZF1",57,0)
 ..;  example: if applicant matched to existing patient, all critical identifying
"RTN","EASEZF1",58,0)
 ..;           data could be overwritten; could impact HEC as well
"RTN","EASEZF1",59,0)
 ..D FILE^DIE("S",EROOT,"ERR")
"RTN","EASEZF1",60,0)
 ..;set any replaced data into subfile #712.01 for audit
"RTN","EASEZF1",61,0)
 ..S ^EAS(712,EASAPP,10,SUBIEN,2)=PTDATA_U_LINK
"RTN","EASEZF1",62,0)
 ;
"RTN","EASEZF1",63,0)
 L -^DPT(EASDFN)
"RTN","EASEZF1",64,0)
 Q
"RTN","EASEZF1",65,0)
 ;
"RTN","EASEZF1",66,0)
RESOLVE ;try to resolve invalid input for free text fields only
"RTN","EASEZF1",67,0)
 ;see if mapped to free text field
"RTN","EASEZF1",68,0)
 N FDEF,FTYPE,MAX
"RTN","EASEZF1",69,0)
 I (SUBFILE=FILE)!(SUBFILE="") S FDEF=FILE
"RTN","EASEZF1",70,0)
 E  S FDEF=SUBFILE
"RTN","EASEZF1",71,0)
 S FTYPE=$$GET1^DID(FDEF,FLD,"","TYPE")
"RTN","EASEZF1",72,0)
 Q:FTYPE'="FREE TEXT"
"RTN","EASEZF1",73,0)
 S MAX=$$GET1^DID(FDEF,FLD,"","FIELD LENGTH")
"RTN","EASEZF1",74,0)
 S EZDATA=$E(EZDATA,1,MAX)
"RTN","EASEZF1",75,0)
 K ERR
"RTN","EASEZF1",76,0)
 D VAL^DIE(2,IENS,FLD,"F",EZDATA,,EROOT,"ERR")
"RTN","EASEZF1",77,0)
 ;if still sets ERR array then won't be filed to database
"RTN","EASEZF1",78,0)
 Q
"RTN","EASEZF2")
0^23^B34473949
"RTN","EASEZF2",1,0)
EASEZF2 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/31/00  13:07
"RTN","EASEZF2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZF2",3,0)
 ;
"RTN","EASEZF2",4,0)
F408(EASAPP,EASDFN) ;
"RTN","EASEZF2",5,0)
 N KEYIEN,FILE,SUBFILE,FLD,DATAKEY,MULTIPLE,MM,SECT,QUES,SUBIEN,ACCEPT,EZDATA,PTDATA,LINK
"RTN","EASEZF2",6,0)
 N DGPR12,INCYR,TESTYR,LASTINC,XLINK,EROOT,EAS,ERR,IENS,MSG,X,Y
"RTN","EASEZF2",7,0)
 Q:'$G(EASDFN)
"RTN","EASEZF2",8,0)
 ;determine income year for financial data
"RTN","EASEZF2",9,0)
 S Y=DT,%F=5,X=$$FMTE^XLFDT(Y,%F),X=+$P(X,"/",3)-1 D ^%DT S INCYR=Y
"RTN","EASEZF2",10,0)
 S YREND=$E(DT,1,3)_"1231"
"RTN","EASEZF2",11,0)
 ;don't file any 408 data if applicant has income test for current year at this site
"RTN","EASEZF2",12,0)
 S LASTINC=$$LST^DGMTU(EASDFN,YREND,1) I LASTINC="" S LASTINC=$$LST^DGMTU(EASDFN,YREND,2)
"RTN","EASEZF2",13,0)
 S TESTYR=$P(LASTINC,U,2)
"RTN","EASEZF2",14,0)
 Q:($E(TESTYR,1,3)=$E(DT,1,3))
"RTN","EASEZF2",15,0)
 ;
"RTN","EASEZF2",16,0)
 ;DGPR12("AP") is the Applicant's (veteran's) IEN in file #408.12
"RTN","EASEZF2",17,0)
 S DGPR12("AP")=""
"RTN","EASEZF2",18,0)
 ;add Applicant to file #408.12 if not there already;
"RTN","EASEZF2",19,0)
 ;make this addition even if no other financial data is available;
"RTN","EASEZF2",20,0)
 I '$D(^DGPR(408.12,"B",EASDFN)) D
"RTN","EASEZF2",21,0)
 .;create the file #408.12 record
"RTN","EASEZF2",22,0)
 .K EAS,ERR,EZIENS
"RTN","EASEZF2",23,0)
 .S EAS(EASAPP,408.12,"+1,",".01")=EASDFN
"RTN","EASEZF2",24,0)
 .S EAS(EASAPP,408.12,"+1,",".02")=1
"RTN","EASEZF2",25,0)
 .S EAS(EASAPP,408.12,"+1,",".03")=EASDFN_";DPT("
"RTN","EASEZF2",26,0)
 .S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF2",27,0)
 .D UPDATE^DIE("S",EROOT,"EZIENS","ERR")
"RTN","EASEZF2",28,0)
 .S DGPR12("AP")=$G(EZIENS(1))
"RTN","EASEZF2",29,0)
 .Q:DGPR12("AP")=""
"RTN","EASEZF2",30,0)
 .;create the subfile #408.1275 record
"RTN","EASEZF2",31,0)
 .K EAS,ERR,EZIENS
"RTN","EASEZF2",32,0)
 .S KEY=+$$KEY711^EASEZU1("APPLICANT DATE OF BIRTH")
"RTN","EASEZF2",33,0)
 .S DOB=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1)
"RTN","EASEZF2",34,0)
 .S EAS(EASAPP,408.1275,"+1,"_DGPR12("AP")_",",".01")=DOB
"RTN","EASEZF2",35,0)
 .S EAS(EASAPP,408.1275,"+1,"_DGPR12("AP")_",",".02")="YES"
"RTN","EASEZF2",36,0)
 .D UPDATE^DIE("ES",EROOT,"EZIENS","ERR")
"RTN","EASEZF2",37,0)
 .;link 1010EZ data with new record in #408.12
"RTN","EASEZF2",38,0)
 I DGPR12("AP")="" S DGPR12("AP")=$O(^DGPR(408.12,"B",EASDFN,0))
"RTN","EASEZF2",39,0)
 ;if no record for Applicant in file #408.12 exists, then don't continue
"RTN","EASEZF2",40,0)
 Q:DGPR12("AP")=""
"RTN","EASEZF2",41,0)
 ;
"RTN","EASEZF2",42,0)
 ;kill local holding arrays
"RTN","EASEZF2",43,0)
 K AP,SP,CN,FLINK
"RTN","EASEZF2",44,0)
 ;get data for file #408.12,#408.13,#408.21,#408.22 into local arrays 
"RTN","EASEZF2",45,0)
 S SECT=""
"RTN","EASEZF2",46,0)
 F  S SECT=$O(^TMP("EZTEMP",$J,SECT)) Q:SECT=""  S MULTIPLE=0 D
"RTN","EASEZF2",47,0)
 .F  S MULTIPLE=$O(^TMP("EZTEMP",$J,SECT,MULTIPLE)) Q:MULTIPLE=""  S QUES="" D
"RTN","EASEZF2",48,0)
 ..F  S QUES=$O(^TMP("EZTEMP",$J,SECT,MULTIPLE,QUES)) Q:QUES=""  D
"RTN","EASEZF2",49,0)
 ...S X=^TMP("EZTEMP",$J,SECT,MULTIPLE,QUES)
"RTN","EASEZF2",50,0)
 ...S KEYIEN=$P(X,U,1),EZDATA=$P(X,U,2),ACCEPT=$P(X,U,3),SUBIEN=$P(X,U,4),PTDATA=$P(X,U,5)
"RTN","EASEZF2",51,0)
 ...S LN=^TMP("EZDATA",$J,KEYIEN),FILE=$P(LN,U,1),SUBFILE=$P(LN,U,2),FLD=$P(LN,U,3)
"RTN","EASEZF2",52,0)
 ...Q:($P(FILE,".",1)'=408)
"RTN","EASEZF2",53,0)
 ...S LINK=$P($G(^EAS(712,EASAPP,10,SUBIEN,2)),U,2)
"RTN","EASEZF2",54,0)
 ...S DATANM=$P($G(^EAS(711,KEYIEN,0)),U,1)
"RTN","EASEZF2",55,0)
 ...S MM=MULTIPLE S:DATANM["CHILD(N)" MM=MULTIPLE+1
"RTN","EASEZF2",56,0)
 ...S ARR=$S(DATANM["SPOUSE":"SP",DATANM["CHILD":"CN",1:"AP")
"RTN","EASEZF2",57,0)
 ...S @ARR@(MM,FILE,SUBFILE,FLD)=EZDATA_U_ACCEPT_U_SUBIEN_U_PTDATA_U_LINK
"RTN","EASEZF2",58,0)
 ;
"RTN","EASEZF2",59,0)
 ;gather links to VistA for Applicant
"RTN","EASEZF2",60,0)
 S FLINK("AP",1,408.12)=DGPR12("AP")
"RTN","EASEZF2",61,0)
 F FILE=408.21,408.22 D
"RTN","EASEZF2",62,0)
 .S XLINK="",MULTIPLE=1,SUBFILE=FILE,FLD=""
"RTN","EASEZF2",63,0)
 .F  S FLD=$O(AP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",64,0)
 ..S FLINK("AP",1,FILE)=+$P(AP(MULTIPLE,FILE,SUBFILE,FLD),U,5)
"RTN","EASEZF2",65,0)
 ;gather links to VistA for Spouse
"RTN","EASEZF2",66,0)
 F FILE=408.12,408.13,408.21,408.22 D
"RTN","EASEZF2",67,0)
 .S XLINK="",MULTIPLE=1,SUBFILE=FILE,FLD=""
"RTN","EASEZF2",68,0)
 .F  S FLD=$O(SP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",69,0)
 ..S FLINK("SP",MULTIPLE,FILE)=+$P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,5)
"RTN","EASEZF2",70,0)
 .I FILE=408.12 S SUBFILE=408.1275 F  S FLD=$O(SP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",71,0)
 ..S FLINK("SP",MULTIPLE,SUBFILE)=$P($P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,5),";",2)
"RTN","EASEZF2",72,0)
 ..S FLINK("SP",MULTIPLE,FILE)=$P($P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,5),";",1)
"RTN","EASEZF2",73,0)
 ;gather links to VistA for Dependents
"RTN","EASEZF2",74,0)
 S MULTIPLE=0 F  S MULTIPLE=$O(CN(MULTIPLE)) Q:'MULTIPLE  D
"RTN","EASEZF2",75,0)
 .F FILE=408.13,408.12,408.21,408.22 D
"RTN","EASEZF2",76,0)
 ..S XLINK="",SUBFILE=FILE,FLD=""
"RTN","EASEZF2",77,0)
 ..F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",78,0)
 ...S FLINK("CN",MULTIPLE,FILE)=+$P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,5)
"RTN","EASEZF2",79,0)
 ..I FILE=408.12 S SUBFILE=408.1275 F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",80,0)
 ...S FLINK("CN",MULTIPLE,SUBFILE)=$P($P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,5),";",2)
"RTN","EASEZF2",81,0)
 ...S FLINK("CN",MULTIPLE,FILE)=$P($P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,5),";",1)
"RTN","EASEZF2",82,0)
 ;
"RTN","EASEZF2",83,0)
 ;file data
"RTN","EASEZF2",84,0)
 Q:DGPR12("AP")=""
"RTN","EASEZF2",85,0)
 D AP
"RTN","EASEZF2",86,0)
 D SP^EASEZF3,CN^EASEZF4
"RTN","EASEZF2",87,0)
 D LINKUP^EASEZF4
"RTN","EASEZF2",88,0)
 ;
"RTN","EASEZF2",89,0)
 Q
"RTN","EASEZF2",90,0)
 ;
"RTN","EASEZF2",91,0)
AP ;file Applicant data
"RTN","EASEZF2",92,0)
 N MT,P22,MULTIPLE,FILE,SUBFILE,FLD,XDATA,ACCEPT,SUBIEN,EZDATA,EAS,ERR,KEY
"RTN","EASEZF2",93,0)
 F FILE=408.21,408.22 D
"RTN","EASEZF2",94,0)
 .S MULTIPLE=1,SUBFILE=FILE,FLD=""
"RTN","EASEZF2",95,0)
 .S XLINK=$G(FLINK("AP",1,FILE))
"RTN","EASEZF2",96,0)
 .;for data elements with link to database, 
"RTN","EASEZF2",97,0)
 .;only file 1010EZ data if accepted by user;
"RTN","EASEZF2",98,0)
 .;data in external format
"RTN","EASEZF2",99,0)
 .I XLINK D
"RTN","EASEZF2",100,0)
 ..S FLD="" F  S FLD=$O(AP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",101,0)
 ...S XDATA=AP(MULTIPLE,FILE,SUBFILE,FLD),ACCEPT=$P(XDATA,U,2)
"RTN","EASEZF2",102,0)
 ...I ACCEPT D LINK(XDATA,FILE,FLD)
"RTN","EASEZF2",103,0)
 .;for data elements with no link to database, 
"RTN","EASEZF2",104,0)
 .;always create new record(s) to store 1010EZ data;
"RTN","EASEZF2",105,0)
 .;put data in internal format
"RTN","EASEZF2",106,0)
 .I 'XLINK D
"RTN","EASEZF2",107,0)
 ..K EAS,ERR
"RTN","EASEZF2",108,0)
 ..S FLD="" F  S FLD=$O(AP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",109,0)
 ...S EZDATA=$P(AP(MULTIPLE,FILE,SUBFILE,FLD),U,1)
"RTN","EASEZF2",110,0)
 ...S EAS(EASAPP,FILE,"+1,",FLD)=EZDATA
"RTN","EASEZF2",111,0)
 ..I FILE=408.21 D
"RTN","EASEZF2",112,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=INCYR
"RTN","EASEZF2",113,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("AP",1,408.12)
"RTN","EASEZF2",114,0)
 ...S EAS(EASAPP,FILE,"+1,","101")=DUZ
"RTN","EASEZF2",115,0)
 ...S EAS(EASAPP,FILE,"+1,","102")=DT
"RTN","EASEZF2",116,0)
 ...S EAS(EASAPP,FILE,"+1,","103")=DUZ
"RTN","EASEZF2",117,0)
 ...S EAS(EASAPP,FILE,"+1,","104")=DT
"RTN","EASEZF2",118,0)
 ..I FILE=408.22,$G(FLINK("AP",1,408.21)) D
"RTN","EASEZF2",119,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=EASDFN
"RTN","EASEZF2",120,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("AP",1,408.21)
"RTN","EASEZF2",121,0)
 ..S FLINK("AP",1,FILE)=$$NOLINK(.EAS)
"RTN","EASEZF2",122,0)
 ..S FLD="" F  S FLD=$O(AP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",123,0)
 ...S SUBIEN=$P(AP(MULTIPLE,FILE,SUBFILE,FLD),U,3)
"RTN","EASEZF2",124,0)
 ...;store link to new record in subfile #712.01
"RTN","EASEZF2",125,0)
 ...S $P(AP(MULTIPLE,FILE,SUBFILE,FLD),U,5)=FLINK("AP",1,FILE)
"RTN","EASEZF2",126,0)
 ;
"RTN","EASEZF2",127,0)
 Q
"RTN","EASEZF2",128,0)
 ;
"RTN","EASEZF2",129,0)
LINK(XDATA,FILE,FLD) ;setup to call FM database server if link to file exists & data accepted
"RTN","EASEZF2",130,0)
 N MSG,EZDATA,SUBIEN,PTDATA,XLINK
"RTN","EASEZF2",131,0)
 K EAS,ERR
"RTN","EASEZF2",132,0)
 S EZDATA=$P(XDATA,U,1),SUBIEN=$P(XDATA,U,3),PTDATA=$P(XDATA,U,4),XLINK=$P(XDATA,U,5)
"RTN","EASEZF2",133,0)
 S IENS=XLINK_","
"RTN","EASEZF2",134,0)
 S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF2",135,0)
 D VAL^DIE(FILE,IENS,FLD,"F",EZDATA,,EROOT,"ERR")
"RTN","EASEZF2",136,0)
 ;file to database if input is valid
"RTN","EASEZF2",137,0)
 I '$D(ERR) D
"RTN","EASEZF2",138,0)
 .I FILE=408.21 D
"RTN","EASEZF2",139,0)
 ..S EAS(EASAPP,FILE,IENS,103)=DUZ
"RTN","EASEZF2",140,0)
 ..S EAS(EASAPP,FILE,IENS,104)=DT
"RTN","EASEZF2",141,0)
 .D FILE^DIE("S",EROOT,"ERR")
"RTN","EASEZF2",142,0)
 .;set any replaced data into subfile #712.01 for audit
"RTN","EASEZF2",143,0)
 .I SUBIEN S $P(^EAS(712,EASAPP,10,SUBIEN,2),U,1)=PTDATA
"RTN","EASEZF2",144,0)
 Q
"RTN","EASEZF2",145,0)
 ;
"RTN","EASEZF2",146,0)
NOLINK(EAS) ;add new record with accepted data if no link exists;
"RTN","EASEZF2",147,0)
 K EZIENS,ERR,LINK
"RTN","EASEZF2",148,0)
 S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF2",149,0)
 D UPDATE^DIE("S",EROOT,"EZIENS","ERR")
"RTN","EASEZF2",150,0)
 ;return ien to new record
"RTN","EASEZF2",151,0)
 S LINK=$G(EZIENS(1))
"RTN","EASEZF2",152,0)
 Q LINK
"RTN","EASEZF3")
0^24^B19289574
"RTN","EASEZF3",1,0)
EASEZF3 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/31/00  13:07
"RTN","EASEZF3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZF3",3,0)
 ;
"RTN","EASEZF3",4,0)
SP ;file Spouse data
"RTN","EASEZF3",5,0)
 N C,MULTIPLE,FILE,SUBFILE,FLD,XDATA,ACCEPT,SUBIEN,SEX,EZDATA,EAS,ERR,KEY,X,Y,XLINK
"RTN","EASEZF3",6,0)
 ;process sequence must be 408.13 - 408.12 - 408.21 - 408.22
"RTN","EASEZF3",7,0)
 ;set sex of spouse
"RTN","EASEZF3",8,0)
 S KEY=+$$KEY711^EASEZU1("APPLICANT SEX")
"RTN","EASEZF3",9,0)
 S X=$$DATA712^EASEZU1(EASAPP,KEY,1),APSEX=$P(X,U,1),SEX=$S(APSEX="M":"FEMALE",1:"MALE")
"RTN","EASEZF3",10,0)
 S XLINK=$G(FLINK("SP",1,408.13)),PTDATA="" I XLINK D
"RTN","EASEZF3",11,0)
 .S FFF="408.13^408.13^.02" S PTDATA=$$GET^EASEZC1(XLINK,FFF)
"RTN","EASEZF3",12,0)
 .S SP(1,408.13,408.13,.02)=SEX_U_2_U_U_PTDATA_U_XLINK
"RTN","EASEZF3",13,0)
 ;
"RTN","EASEZF3",14,0)
 F FILE=408.13,408.12,408.21,408.22 D
"RTN","EASEZF3",15,0)
 .S MULTIPLE=1,SUBFILE=FILE,FLD=""
"RTN","EASEZF3",16,0)
 .S XLINK=$G(FLINK("SP",MULTIPLE,FILE))
"RTN","EASEZF3",17,0)
 .;for data elements with link to database, 
"RTN","EASEZF3",18,0)
 .;only file 1010EZ data if accepted by user;
"RTN","EASEZF3",19,0)
 .;data in external format
"RTN","EASEZF3",20,0)
 .I XLINK D
"RTN","EASEZF3",21,0)
 ..;when #408.12 record exists, don't try to update subfile #408.1275
"RTN","EASEZF3",22,0)
 ..S FLD="" F  S FLD=$O(SP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF3",23,0)
 ...S XDATA=SP(MULTIPLE,FILE,SUBFILE,FLD),ACCEPT=$P(XDATA,U,2)
"RTN","EASEZF3",24,0)
 ...I FILE=408.13,FLD=.09 S XDATA=$TR(XDATA,"-","")
"RTN","EASEZF3",25,0)
 ...I ACCEPT D LINK^EASEZF2(XDATA,FILE,FLD)
"RTN","EASEZF3",26,0)
 .;for data elements with no link to database, 
"RTN","EASEZF3",27,0)
 .;always create new record(s) to store 1010EZ data;
"RTN","EASEZF3",28,0)
 .;put data in internal format
"RTN","EASEZF3",29,0)
 .I 'XLINK D
"RTN","EASEZF3",30,0)
 ..K EAS,ERR
"RTN","EASEZF3",31,0)
 ..;supplement data and convert to internal format
"RTN","EASEZF3",32,0)
 ..S FLD="" F  S FLD=$O(SP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF3",33,0)
 ...S EZDATA=$P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,1)
"RTN","EASEZF3",34,0)
 ...S EAS(EASAPP,FILE,"+1,",FLD)=EZDATA
"RTN","EASEZF3",35,0)
 ..I FILE=408.13 D
"RTN","EASEZF3",36,0)
 ...S X=$G(EAS(EASAPP,FILE,"+1,",".03")) I X'="" D ^%DT S EAS(EASAPP,FILE,"+1,",".03")=Y
"RTN","EASEZF3",37,0)
 ...S X=$G(EAS(EASAPP,FILE,"+1,",".09")) I X'="" S Y=$TR(X,"-","") S EAS(EASAPP,FILE,"+1,",".09")=Y
"RTN","EASEZF3",38,0)
 ...S KEY=+$$KEY711^EASEZU1("APPLICANT SEX")
"RTN","EASEZF3",39,0)
 ...S X=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1),SEX=$S(X="M":"FEMALE",1:"MALE")
"RTN","EASEZF3",40,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=SEX
"RTN","EASEZF3",41,0)
 ..I FILE=408.12,$G(FLINK("SP",MULTIPLE,408.13)) D F40812("SP",1)
"RTN","EASEZF3",42,0)
 ..I FILE=408.21,$G(FLINK("SP",MULTIPLE,408.12)) D
"RTN","EASEZF3",43,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=INCYR
"RTN","EASEZF3",44,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("SP",MULTIPLE,408.12)
"RTN","EASEZF3",45,0)
 ...S EAS(EASAPP,FILE,"+1,","101")=DUZ
"RTN","EASEZF3",46,0)
 ...S EAS(EASAPP,FILE,"+1,","102")=DT
"RTN","EASEZF3",47,0)
 ...S EAS(EASAPP,FILE,"+1,","103")=DUZ
"RTN","EASEZF3",48,0)
 ...S EAS(EASAPP,FILE,"+1,","104")=DT
"RTN","EASEZF3",49,0)
 ..I FILE=408.22,$G(FLINK("SP",MULTIPLE,408.21)) D
"RTN","EASEZF3",50,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=EASDFN
"RTN","EASEZF3",51,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("SP",MULTIPLE,408.21)
"RTN","EASEZF3",52,0)
 ..I FILE'=408.12 D
"RTN","EASEZF3",53,0)
 ...S FLINK("SP",MULTIPLE,FILE)=$$NOLINK^EASEZF2(.EAS)
"RTN","EASEZF3",54,0)
 ...;store link to new record in subfile #712.01
"RTN","EASEZF3",55,0)
 ...S FLD="" F  S FLD=$O(SP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF3",56,0)
 ....S SUBIEN=$P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,3)
"RTN","EASEZF3",57,0)
 ....S $P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,5)=FLINK("SP",MULTIPLE,FILE)
"RTN","EASEZF3",58,0)
 Q
"RTN","EASEZF3",59,0)
 ;
"RTN","EASEZF3",60,0)
F40812(TYPE,MULT) ;create a new record in file #408.12
"RTN","EASEZF3",61,0)
 ;input TYPE = "SP" for Souse or "CN" for Child
"RTN","EASEZF3",62,0)
 ;      MULT = always 1 for spouse; or
"RTN","EASEZF3",63,0)
 ;             1st subscript of CN array for child
"RTN","EASEZF3",64,0)
 ;can't use normal FileMan data entry
"RTN","EASEZF3",65,0)
 N C,ARR,FILE,SUBFILE,FLD,DGPRIEN,XDATE,SUBIEN,RELATE,XX,X,Y,DA,DIK,EAS,ERR
"RTN","EASEZF3",66,0)
 S DGPRIEN=""
"RTN","EASEZF3",67,0)
 S ARR=TYPE
"RTN","EASEZF3",68,0)
 S FILE=408.12,SUBFILE=408.12
"RTN","EASEZF3",69,0)
 I TYPE="SP" S RELATE=2
"RTN","EASEZF3",70,0)
 I TYPE="CN" D
"RTN","EASEZF3",71,0)
 .S X=$P($G(CN(MULT,FILE,SUBFILE,".02")),U,1)
"RTN","EASEZF3",72,0)
 .S RELATE=$S(X="SON":3,X="DAUGHTER":4,1:99)
"RTN","EASEZF3",73,0)
 ;verify that no record points to known file #408.13 record
"RTN","EASEZF3",74,0)
 S C=FLINK(TYPE,MULT,408.13)_";DGPR(408.13,"
"RTN","EASEZF3",75,0)
 I $D(^DGPR(408.12,"C",C)) S DGPRIEN=$O(^DGPR(408.12,"C",C,0))
"RTN","EASEZF3",76,0)
 ;if it does, quit w/o filing
"RTN","EASEZF3",77,0)
 Q:DGPRIEN
"RTN","EASEZF3",78,0)
 ;otherwise create a new entry
"RTN","EASEZF3",79,0)
 L +^DGPR(408.12,0):30
"RTN","EASEZF3",80,0)
 K DA,DIK
"RTN","EASEZF3",81,0)
 S DGPRIEN=$P(^DGPR(408.12,0),U,3)+1,$P(^DGPR(408.12,0),U,3)=DGPRIEN
"RTN","EASEZF3",82,0)
 S ^DGPR(408.12,DGPRIEN,0)=EASDFN_U_RELATE_U_C
"RTN","EASEZF3",83,0)
 S DA=DGPRIEN,DIK="^DGPR(408.12,",DIK(1)=".01^" D EN^DIK S DIK(1)=".03" D EN^DIK
"RTN","EASEZF3",84,0)
 S X=$P(^DGPR(408.12,0),U,4),$P(^DGPR(408.12,0),U,4)=X+1
"RTN","EASEZF3",85,0)
 L -^DGPR(408.12,0)
"RTN","EASEZF3",86,0)
 S FLINK(TYPE,MULT,408.12)=DGPRIEN
"RTN","EASEZF3",87,0)
 ;don't continue if file#408.12 record doesn't exist
"RTN","EASEZF3",88,0)
 Q:'$G(FLINK(TYPE,MULT,408.12))
"RTN","EASEZF3",89,0)
 ;store the link in subfile #712.01 record
"RTN","EASEZF3",90,0)
 S FLD="" F  S FLD=$O(@ARR@(MULT,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF3",91,0)
 .S SUBIEN=$P(@ARR@(MULT,FILE,SUBFILE,FLD),U,3)
"RTN","EASEZF3",92,0)
 .S $P(@ARR@(MULT,FILE,SUBFILE,FLD),U,5)=FLINK(TYPE,MULT,FILE)
"RTN","EASEZF3",93,0)
 ;there's never more than one array node for subfile #408.1275; for field #.01;
"RTN","EASEZF3",94,0)
 S SUBFILE=408.1275,FLD=".01"
"RTN","EASEZF3",95,0)
 S XX=$G(@ARR@(MULT,FILE,SUBFILE,FLD))
"RTN","EASEZF3",96,0)
 K EAS
"RTN","EASEZF3",97,0)
 S XDATE=$P(XX,U,1)
"RTN","EASEZF3",98,0)
 S SUBIEN=$P(XX,U,3)
"RTN","EASEZF3",99,0)
 Q:XDATE=""
"RTN","EASEZF3",100,0)
 S X=XDATE D ^%DT S XDATE=Y
"RTN","EASEZF3",101,0)
 S EAS(EASAPP,SUBFILE,"+1,"_FLINK(TYPE,MULT,408.12)_",",".01")=XDATE
"RTN","EASEZF3",102,0)
 S EAS(EASAPP,SUBFILE,"+1,"_FLINK(TYPE,MULT,408.12)_",",".02")=1
"RTN","EASEZF3",103,0)
 S FLINK(TYPE,MULT,SUBFILE)=$$NOLINK^EASEZF2(.EAS)
"RTN","EASEZF3",104,0)
 Q:FLINK(TYPE,MULT,SUBFILE)=""
"RTN","EASEZF3",105,0)
 ;store link to new subrecord in subfile #712.01
"RTN","EASEZF3",106,0)
 S $P(@ARR@(MULT,FILE,SUBFILE,FLD),U,5)=FLINK(TYPE,MULT,FILE)_";"_FLINK(TYPE,MULT,SUBFILE)
"RTN","EASEZF3",107,0)
 Q
"RTN","EASEZF4")
0^25^B13374759
"RTN","EASEZF4",1,0)
EASEZF4 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/31/00  13:07
"RTN","EASEZF4",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZF4",3,0)
 ;
"RTN","EASEZF4",4,0)
CN ;file Dependent/Child data
"RTN","EASEZF4",5,0)
 N MULTIPLE,FILE,SUBFILE,FLD,XDATA,ACCEPT,SUBIEN,SEX,EZDATA,EAS,ERR,X,Y
"RTN","EASEZF4",6,0)
 ;process sequence must be 408.13 - 408.12 - 408.21 - 408.22
"RTN","EASEZF4",7,0)
 S MULTIPLE=0 F  S MULTIPLE=$O(CN(MULTIPLE)) Q:'MULTIPLE  F FILE=408.13,408.12,408.21,408.22 D
"RTN","EASEZF4",8,0)
 .S SUBFILE=FILE,FLD=""
"RTN","EASEZF4",9,0)
 .S XLINK=$G(FLINK("CN",MULTIPLE,FILE))
"RTN","EASEZF4",10,0)
 .;for data elements with link to database, 
"RTN","EASEZF4",11,0)
 .;only file 1010EZ data if accepted by user;
"RTN","EASEZF4",12,0)
 .;data in external format
"RTN","EASEZF4",13,0)
 .I XLINK D
"RTN","EASEZF4",14,0)
 ..;when #408.12 record exists, don't try to update subfile #408.1275
"RTN","EASEZF4",15,0)
 ..S FLD="" F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF4",16,0)
 ...S XDATA=CN(MULTIPLE,FILE,SUBFILE,FLD),ACCEPT=$P(XDATA,U,2)
"RTN","EASEZF4",17,0)
 ...I FILE=408.13,FLD=.09 S XDATA=$TR(XDATA,"-","")
"RTN","EASEZF4",18,0)
 ...I ACCEPT D LINK^EASEZF2(XDATA,FILE,FLD)
"RTN","EASEZF4",19,0)
 .;for data elements with no link to database, 
"RTN","EASEZF4",20,0)
 .;always create new record(s) to store 1010EZ data;
"RTN","EASEZF4",21,0)
 .;put data in internal format
"RTN","EASEZF4",22,0)
 .I 'XLINK D
"RTN","EASEZF4",23,0)
 ..K EAS,ERR
"RTN","EASEZF4",24,0)
 ..S FLD="" F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF4",25,0)
 ...S EZDATA=$P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,1)
"RTN","EASEZF4",26,0)
 ...S EAS(EASAPP,FILE,"+1,",FLD)=EZDATA
"RTN","EASEZF4",27,0)
 ..;supplement data and convert to internal format
"RTN","EASEZF4",28,0)
 ..I FILE=408.13 D
"RTN","EASEZF4",29,0)
 ...S X=$G(EAS(EASAPP,FILE,"+1,",".03")) I X'="" D ^%DT S EAS(EASAPP,FILE,"+1,",".03")=Y
"RTN","EASEZF4",30,0)
 ...S X=$G(EAS(EASAPP,FILE,"+1,",".09")) I X'="" S Y=$TR(X,"-","") S EAS(EASAPP,FILE,"+1,",".09")=Y
"RTN","EASEZF4",31,0)
 ...S X=$P($G(CN(MULTIPLE,408.12,408.12,.02)),U,1) S SEX=$S(X="SON":"M",X="DAUGHTER":"F",1:"")
"RTN","EASEZF4",32,0)
 ...I SEX'="" S EAS(EASAPP,FILE,"+1,",".02")=SEX
"RTN","EASEZF4",33,0)
 ..I FILE=408.12,$G(FLINK("CN",MULTIPLE,408.13)) D F40812^EASEZF3("CN",MULTIPLE)
"RTN","EASEZF4",34,0)
 ..I FILE=408.21,$G(FLINK("CN",MULTIPLE,408.12)) D
"RTN","EASEZF4",35,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=INCYR
"RTN","EASEZF4",36,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("CN",MULTIPLE,408.12)
"RTN","EASEZF4",37,0)
 ...S EAS(EASAPP,FILE,"+1,","101")=DUZ
"RTN","EASEZF4",38,0)
 ...S EAS(EASAPP,FILE,"+1,","102")=DT
"RTN","EASEZF4",39,0)
 ...S EAS(EASAPP,FILE,"+1,","103")=DUZ
"RTN","EASEZF4",40,0)
 ...S EAS(EASAPP,FILE,"+1,","104")=DT
"RTN","EASEZF4",41,0)
 ..I FILE=408.22,$G(FLINK("CN",MULTIPLE,408.21)) D
"RTN","EASEZF4",42,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=EASDFN
"RTN","EASEZF4",43,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("CN",MULTIPLE,408.21)
"RTN","EASEZF4",44,0)
 ...S X=$P($G(CN(MULTIPLE,FILE,SUBFILE,".09")),U,1),EAS(EASAPP,FILE,"+1,",".09")=$S(X="YES":1,1:0)
"RTN","EASEZF4",45,0)
 ...S X=$P($G(CN(MULTIPLE,FILE,SUBFILE,".1")),U,1) I X S EAS(EASAPP,FILE,"+1,",".1")=1
"RTN","EASEZF4",46,0)
 ..I FILE'=408.12 D
"RTN","EASEZF4",47,0)
 ...S FLINK("CN",MULTIPLE,FILE)=$$NOLINK^EASEZF2(.EAS)
"RTN","EASEZF4",48,0)
 ...;store link to new record in subfile #712.01
"RTN","EASEZF4",49,0)
 ...S FLD="" F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF4",50,0)
 ....S SUBIEN=$P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,1)
"RTN","EASEZF4",51,0)
 ....S $P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,5)=FLINK("CN",MULTIPLE,FILE)
"RTN","EASEZF4",52,0)
 Q
"RTN","EASEZF4",53,0)
 ;
"RTN","EASEZF4",54,0)
LINKUP ;
"RTN","EASEZF4",55,0)
 N SUBIEN,KEYIEN,MULTIPLE,FILE,SUBFILE,DATANM,TYPE,LINK,X
"RTN","EASEZF4",56,0)
 S SUBIEN=0 F  S SUBIEN=$O(^EAS(712,EASAPP,10,SUBIEN)) Q:+SUBIEN=0  D
"RTN","EASEZF4",57,0)
 .S X=$G(^EAS(712,EASAPP,10,SUBIEN,1))
"RTN","EASEZF4",58,0)
 .;quit if no data to file
"RTN","EASEZF4",59,0)
 .Q:(($P(X,U,1)="")&($P(X,U,2)=""))
"RTN","EASEZF4",60,0)
 .S TYPE=""
"RTN","EASEZF4",61,0)
 .S KEYIEN=$P(^EAS(712,EASAPP,10,SUBIEN,0),U,1),MULTIPLE=$P(^(0),U,2)
"RTN","EASEZF4",62,0)
 .S DATANM=$P(^EAS(711,KEYIEN,0),U,1),FILE=$P(^EAS(711,KEYIEN,1),U,1),SUBFILE=$P(^(1),U,2)
"RTN","EASEZF4",63,0)
 .Q:FILE<408
"RTN","EASEZF4",64,0)
 .Q:FILE>408.22
"RTN","EASEZF4",65,0)
 .I SUBFILE=408.1275 S FILE=SUBFILE
"RTN","EASEZF4",66,0)
 .I DATANM["CHILD" S TYPE="CN"
"RTN","EASEZF4",67,0)
 .I DATANM["CHILD(N)" S MULTIPLE=MULTIPLE+1
"RTN","EASEZF4",68,0)
 .I DATANM["SPOUSE" S TYPE="SP"
"RTN","EASEZF4",69,0)
 .I TYPE="" S TYPE="AP"
"RTN","EASEZF4",70,0)
 .S LINK=FLINK(TYPE,MULTIPLE,FILE)
"RTN","EASEZF4",71,0)
 .I FILE=408.1275 S LINK=FLINK(TYPE,MULTIPLE,408.12)_";"_FLINK(TYPE,MULTIPLE,FILE)
"RTN","EASEZF4",72,0)
 .S $P(^EAS(712,EASAPP,10,SUBIEN,2),U,2)=LINK
"RTN","EASEZF4",73,0)
 Q
"RTN","EASEZF5")
0^26^B6096030
"RTN","EASEZF5",1,0)
EASEZF5 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/31/00  13:07
"RTN","EASEZF5",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZF5",3,0)
 ;
"RTN","EASEZF5",4,0)
IBINS(EASAPP,EASDFN) ;setup for call to IB API
"RTN","EASEZF5",5,0)
 ;
"RTN","EASEZF5",6,0)
 N DATANM,X,IBDATA,OK,PARTA,PARTB
"RTN","EASEZF5",7,0)
 ;file Medicare data
"RTN","EASEZF5",8,0)
 K IBDATA
"RTN","EASEZF5",9,0)
 S DATANM="MEDICARE PART A EFFECTIVE DATE" S PARTA=$$GET(DATANM)
"RTN","EASEZF5",10,0)
 S IBDATA("M","PART A")=PARTA
"RTN","EASEZF5",11,0)
 S DATANM="MEDICARE PART B EFFECTIVE DATE" S PARTB=$$GET(DATANM)
"RTN","EASEZF5",12,0)
 S IBDATA("M","PART B")=PARTB
"RTN","EASEZF5",13,0)
 I (PARTA'="")!(PARTB'="") D
"RTN","EASEZF5",14,0)
 .S IBDATA("M","DFN")=EASDFN
"RTN","EASEZF5",15,0)
 .S IBDATA("M","SOURCE")=1
"RTN","EASEZF5",16,0)
 .S DATANM="MEDICARE CLAIM NUMBER" S X=$$GET(DATANM)
"RTN","EASEZF5",17,0)
 .S IBDATA("M","HICN")=X
"RTN","EASEZF5",18,0)
 .S DATANM="SIGNEE ON MEDICARE CARD" S X=$$GET(DATANM)
"RTN","EASEZF5",19,0)
 .S IBDATA("M","NAME")=X
"RTN","EASEZF5",20,0)
 .S OK=$$BUFF^IBCNBES1(.IBDATA)
"RTN","EASEZF5",21,0)
 ;
"RTN","EASEZF5",22,0)
 ;applicant health insurance
"RTN","EASEZF5",23,0)
 K IBDATA
"RTN","EASEZF5",24,0)
 S DATANM="APPLICANT INSURANCE COMPANY" S X=$$GET(DATANM)
"RTN","EASEZF5",25,0)
 I X'="" D
"RTN","EASEZF5",26,0)
 .S IBDATA(1,20.01)=X
"RTN","EASEZF5",27,0)
 .S DATANM="APPLICANT INSURANCE GROUP CODE" S X=$$GET(DATANM)
"RTN","EASEZF5",28,0)
 .S IBDATA(1,40.03)=X
"RTN","EASEZF5",29,0)
 .S DATANM="APPLICANT INSURANCE POLICY HOLDER" S X=$$GET(DATANM)
"RTN","EASEZF5",30,0)
 .S IBDATA(1,60.07)=X
"RTN","EASEZF5",31,0)
 .S DATANM="APPLICANT INSURANCE POLICY NUMBER" S X=$$GET(DATANM)
"RTN","EASEZF5",32,0)
 .S IBDATA(1,60.04)=X
"RTN","EASEZF5",33,0)
 .S IBDATA(1,60.05)="v"
"RTN","EASEZF5",34,0)
 .S IBDATA(1,.03)=1
"RTN","EASEZF5",35,0)
 .S IBDATA(1,60.06)="01"
"RTN","EASEZF5",36,0)
 .S IBDATA(1,60.01)=EASDFN
"RTN","EASEZF5",37,0)
 .S OK=$$BUFF^IBCNBES1(.IBDATA)
"RTN","EASEZF5",38,0)
 ;
"RTN","EASEZF5",39,0)
 ;spouse health insurance
"RTN","EASEZF5",40,0)
 K IBDATA
"RTN","EASEZF5",41,0)
 S DATANM="SPOUSE INSURANCE COMPANY" S X=$$GET(DATANM)
"RTN","EASEZF5",42,0)
 I X'="" D
"RTN","EASEZF5",43,0)
 .S IBDATA(2,20.01)=X
"RTN","EASEZF5",44,0)
 .S DATANM="SPOUSE INSURANCE GROUP CODE" S X=$$GET(DATANM)
"RTN","EASEZF5",45,0)
 .S IBDATA(2,40.03)=X
"RTN","EASEZF5",46,0)
 .S DATANM="SPOUSE INSURANCE POLICY HOLDER" S X=$$GET(DATANM)
"RTN","EASEZF5",47,0)
 .S IBDATA(2,60.07)=X
"RTN","EASEZF5",48,0)
 .S DATANM="SPOUSE INSURANCE POLICY NUMBER" S X=$$GET(DATANM)
"RTN","EASEZF5",49,0)
 .S IBDATA(2,60.04)=X
"RTN","EASEZF5",50,0)
 .S IBDATA(2,60.05)="s"
"RTN","EASEZF5",51,0)
 .S IBDATA(2,.03)=1
"RTN","EASEZF5",52,0)
 .S IBDATA(2,60.06)="02"
"RTN","EASEZF5",53,0)
 .S IBDATA(2,60.01)=EASDFN
"RTN","EASEZF5",54,0)
 .S OK=$$BUFF^IBCNBES1(.IBDATA)
"RTN","EASEZF5",55,0)
 ;
"RTN","EASEZF5",56,0)
 ;update field #.3192 in file #2 for Reg. screen 5
"RTN","EASEZF5",57,0)
 S X=$P($G(^DPT(EASDFN,.31)),U,11) I ((X="")!(X="U")) S $P(^DPT(EASDFN,.31),U,11)="N"
"RTN","EASEZF5",58,0)
 Q
"RTN","EASEZF5",59,0)
 ;
"RTN","EASEZF5",60,0)
GET(DATANM) ;get 1010EZ data as needed by IB
"RTN","EASEZF5",61,0)
 ;
"RTN","EASEZF5",62,0)
 N KEY,XDATA
"RTN","EASEZF5",63,0)
 S KEY=+$$KEY711^EASEZU1(DATANM)
"RTN","EASEZF5",64,0)
 S XDATA=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1)
"RTN","EASEZF5",65,0)
 I DATANM["DATE",XDATA'="" D
"RTN","EASEZF5",66,0)
 .S X=XDATA D ^%DT S XDATA=$P(Y,".",1)
"RTN","EASEZF5",67,0)
 S XDATA=$$UC^EASEZT1(XDATA)
"RTN","EASEZF5",68,0)
 Q XDATA
"RTN","EASEZFM")
0^2^B4148325
"RTN","EASEZFM",1,0)
EASEZFM ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/12/00  13:08
"RTN","EASEZFM",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZFM",3,0)
 ;
"RTN","EASEZFM",4,0)
QUE ;entry point from queued background job
"RTN","EASEZFM",5,0)
 ;
"RTN","EASEZFM",6,0)
 ;check signature verification before continuing
"RTN","EASEZFM",7,0)
 Q:'$G(EASAPP)
"RTN","EASEZFM",8,0)
 Q:'$D(^EAS(712,EASAPP,0))
"RTN","EASEZFM",9,0)
 S EASEZNEW=$P(^EAS(712,EASAPP,0),U,11)
"RTN","EASEZFM",10,0)
 S X=$G(^EAS(712,EASAPP,1))
"RTN","EASEZFM",11,0)
 ;recheck signature status
"RTN","EASEZFM",12,0)
 I ('$P(X,U,1))&('$P(X,U,2)) D  Q
"RTN","EASEZFM",13,0)
 .;remove filing date if can't continue
"RTN","EASEZFM",14,0)
 .S FDT=$P(^EAS(712,EASAPP,2),U,5),$P(^EAS(712,EASAPP,2),U,5)="",$P(^EAS(712,EASAPP,2),U,6)="",$P(^EAS(712,EASAPP,2),U,11)=""
"RTN","EASEZFM",15,0)
 .I FDT K ^EAS(712,"FIL",FDT,EASAPP)
"RTN","EASEZFM",16,0)
 .D APPINDEX^EASEZU2(EASAPP)
"RTN","EASEZFM",17,0)
 ;
"RTN","EASEZFM",18,0)
 L +^EAS(712,EASAPP)
"RTN","EASEZFM",19,0)
 ;check incoming data
"RTN","EASEZFM",20,0)
 D CHECK
"RTN","EASEZFM",21,0)
 ;
"RTN","EASEZFM",22,0)
 ;get EZ1010 data into ^TMP("EZDATA" array
"RTN","EASEZFM",23,0)
 D EN^EASEZC1(EASAPP,.EASDFN)
"RTN","EASEZFM",24,0)
 ;
"RTN","EASEZFM",25,0)
 ;store file #2 data
"RTN","EASEZFM",26,0)
 D F2^EASEZF1(EASDFN)
"RTN","EASEZFM",27,0)
 ;
"RTN","EASEZFM",28,0)
 ;store file #408.12, #408.13, #408.21, #408.22 data
"RTN","EASEZFM",29,0)
 D F408^EASEZF2(EASAPP,EASDFN)
"RTN","EASEZFM",30,0)
 ;
"RTN","EASEZFM",31,0)
 ;store file #355.33 data;
"RTN","EASEZFM",32,0)
 ;call IB API to file health insurance and Medicare data
"RTN","EASEZFM",33,0)
 D IBINS^EASEZF5(EASAPP,EASDFN)
"RTN","EASEZFM",34,0)
 ;
"RTN","EASEZFM",35,0)
 ;update 'new patient' remark
"RTN","EASEZFM",36,0)
 I EASEZNEW D
"RTN","EASEZFM",37,0)
 .S REM="New Patient record added by ELECTRONIC 10-10EZ."
"RTN","EASEZFM",38,0)
 .S DA=EASDFN,DIE="^DPT(",DR=".091///^S X=REM"
"RTN","EASEZFM",39,0)
 .D ^DIE
"RTN","EASEZFM",40,0)
 ;update processing status if not already done
"RTN","EASEZFM",41,0)
 I $P($G(^EAS(712,EASAPP,2)),U,5)="" D SETDATE^EASEZU2(EASAPP,"FIL")
"RTN","EASEZFM",42,0)
 ;remove the task id
"RTN","EASEZFM",43,0)
 S $P(^EAS(712,EASAPP,2),U,11)=""
"RTN","EASEZFM",44,0)
 L -^EAS(712,EASAPP)
"RTN","EASEZFM",45,0)
 Q
"RTN","EASEZFM",46,0)
 ;
"RTN","EASEZFM",47,0)
CHECK ;check data
"RTN","EASEZFM",48,0)
 ;returns '0' if any invalid data found; otherwise '1'
"RTN","EASEZFM",49,0)
 N SUBIEN,X,CHK,DIK,DA
"RTN","EASEZFM",50,0)
 ;remove any 'noise' from incoming data
"RTN","EASEZFM",51,0)
 S SUBIEN=0 F  S SUBIEN=$O(^EAS(712,EASAPP,10,SUBIEN)) Q:+SUBIEN=0  D
"RTN","EASEZFM",52,0)
 .S CHK=$P($G(^EAS(712,EASAPP,10,SUBIEN,1)),U,1)
"RTN","EASEZFM",53,0)
 .I (CHK="/")!(CHK="//")!(CHK="-")!(CHK="--")!(CHK=" ")!(CHK="") D
"RTN","EASEZFM",54,0)
 ..S DA=SUBIEN,DA(1)=EASAPP,DIK="^EAS(712,"_DA(1)_",10,"
"RTN","EASEZFM",55,0)
 ..D ^DIK
"RTN","EASEZFM",56,0)
 Q
"RTN","EASEZFM",57,0)
 ;
"RTN","EASEZFM",58,0)
CLEAN ; cleanup
"RTN","EASEZFM",59,0)
 K ^TMP("EZDATA",$J),^TMP("EZINDEX",$J),^TMP("EZTEMP",$J),^TMP("EZDISP",$J)
"RTN","EASEZFM",60,0)
 Q
"RTN","EASEZI")
0^10^B39763109
"RTN","EASEZI",1,0)
EASEZI ;ALB/jap - Database Inquiry & Record Finder for 1010EZ Processing ;10/12/00  13:08
"RTN","EASEZI",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZI",3,0)
 ;
"RTN","EASEZI",4,0)
DFN(EASAPP,EASDFN) ;match or add 1010EZ applicant to Patient file #2
"RTN","EASEZI",5,0)
 ;
"RTN","EASEZI",6,0)
 ;input  
"RTN","EASEZI",7,0)
 ;  EASAPP = application ien in file #712
"RTN","EASEZI",8,0)
 ;output 
"RTN","EASEZI",9,0)
 ;  EASDFN = valid ien in file #2; passed by reference
"RTN","EASEZI",10,0)
 ;           OR -1 if no patient match made;
"RTN","EASEZI",11,0)
 ;           note: this may be an existing patient or one newly created by user action
"RTN","EASEZI",12,0)
 ;
"RTN","EASEZI",13,0)
 ;This entry point it used only for initial match of Applicant with Patient database.
"RTN","EASEZI",14,0)
 ;
"RTN","EASEZI",15,0)
 N DFN,DGNEWPF,DGRPTOUT,EZDATA,KEY,NAME,SSN,DOB,SEX,KEYIEN,ACCEPT,ARRAY,RECD
"RTN","EASEZI",16,0)
 N VETTYPE,NEW,TSSN,REM,N,X,DA,DR,DIE,DIC,DIQ,ALREADY,OUT,FILE,SUBFILE,FLD
"RTN","EASEZI",17,0)
 Q:'EASAPP
"RTN","EASEZI",18,0)
 ;do not proceed if link to file #2 already established
"RTN","EASEZI",19,0)
 S EASDFN=$P($G(^EAS(712,EASAPP,0)),U,10) Q:EASDFN
"RTN","EASEZI",20,0)
 ;
"RTN","EASEZI",21,0)
 D FULL^VALM1 W @IOF
"RTN","EASEZI",22,0)
 S EASEZNEW=""
"RTN","EASEZI",23,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT SEX")
"RTN","EASEZI",24,0)
 S SEX=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1),SEX=$S(SEX="M":"Male",SEX="F":"Female",1:"")
"RTN","EASEZI",25,0)
 S DIQ="ARRAY",DIQ(0)="E",DA=EASAPP,DR="1;2;3;3.3",DIC=712 D EN^DIQ1
"RTN","EASEZI",26,0)
 S NAME=$G(ARRAY(712,EASAPP,1,"E"))
"RTN","EASEZI",27,0)
 S SSN=$P($G(ARRAY(712,EASAPP,2,"E")),"&",1)
"RTN","EASEZI",28,0)
 S DOB=$P($G(ARRAY(712,EASAPP,2,"E")),"&",2)
"RTN","EASEZI",29,0)
 S RECD=$G(ARRAY(712,EASAPP,3,"E"))
"RTN","EASEZI",30,0)
 S VETTYPE=$G(ARRAY(712,EASAPP,3.3,"E"))
"RTN","EASEZI",31,0)
 W !,"Applicant Data",?24,"Application #: ",EASAPP,?48,"Received: ",RECD,!
"RTN","EASEZI",32,0)
 W !,"Name: ",NAME
"RTN","EASEZI",33,0)
 W !,"SSN: ",SSN,?24,"DOB: ",DOB,?48,"Sex: ",SEX
"RTN","EASEZI",34,0)
 W !,"Veteran Type: ",VETTYPE
"RTN","EASEZI",35,0)
 W !!,"Enter Applicant data as prompted --"
"RTN","EASEZI",36,0)
 ;
"RTN","EASEZI",37,0)
 ;Get Patient file (#2) IEN - DFN
"RTN","EASEZI",38,0)
 D GETPAT^DGRPTU("",1,.DFN,.DGNEWPF)
"RTN","EASEZI",39,0)
 Q:($G(DFN)'>0)
"RTN","EASEZI",40,0)
 ;if DGNEWPF=1 then applicant has just been added to file #2 as new patient
"RTN","EASEZI",41,0)
 S NEW=""
"RTN","EASEZI",42,0)
 I DGNEWPF D
"RTN","EASEZI",43,0)
 .S NEW=1
"RTN","EASEZI",44,0)
 .;add a remark to file #2 record to help keep track of new patients added by 1010EZ
"RTN","EASEZI",45,0)
 .S REM="NEW PT. FROM ELECTRONIC 10-10EZ -- IN PROCESS"
"RTN","EASEZI",46,0)
 .S DA=DFN,DIE="^DPT(",DR=".091///^S X=REM"
"RTN","EASEZI",47,0)
 .D ^DIE
"RTN","EASEZI",48,0)
 ;if seems to be not new, check remark field just to make sure
"RTN","EASEZI",49,0)
 I NEW="" D
"RTN","EASEZI",50,0)
 .S REM="NEW PT. FROM ELECTRONIC 10-10EZ -- IN PROCESS"
"RTN","EASEZI",51,0)
 .I $P(^DPT(DFN,0),U,10)=REM S NEW=1
"RTN","EASEZI",52,0)
 ;
"RTN","EASEZI",53,0)
 ;MPI Query
"RTN","EASEZI",54,0)
 S X="MPIFAPI" X ^%ZOSF("TEST")  D
"RTN","EASEZI",55,0)
 .Q:'$T
"RTN","EASEZI",56,0)
 .K MPIFRTN
"RTN","EASEZI",57,0)
 .D MPIQ^MPIFAPI(DFN)
"RTN","EASEZI",58,0)
 .K MPIFRTN,MPIQRYNM
"RTN","EASEZI",59,0)
 ;
"RTN","EASEZI",60,0)
 ;check for an in-process application already linked to this DFN
"RTN","EASEZI",61,0)
 S OUT=0,ALREADY=0 F  S ALREADY=$O(^EAS(712,"AC",DFN,ALREADY)) Q:'ALREADY  D  Q:OUT
"RTN","EASEZI",62,0)
 .S FILDATE=$P($G(^EAS(712,ALREADY,2)),U,5)
"RTN","EASEZI",63,0)
 .S CLSDATE=$P($G(^EAS(712,ALREADY,2)),U,9)
"RTN","EASEZI",64,0)
 .I 'FILDATE,'CLSDATE S OUT=1 D
"RTN","EASEZI",65,0)
 ..W !!?3,"Sorry... cannot link to selected Patient."
"RTN","EASEZI",66,0)
 ..W !?3,"Application #"_ALREADY_" is already linked to this Patient,"
"RTN","EASEZI",67,0)
 ..W !?3,"and is still in-process."
"RTN","EASEZI",68,0)
 ..D PAUSE^VALM1 K FILDATE,CLSDATE
"RTN","EASEZI",69,0)
 Q:OUT
"RTN","EASEZI",70,0)
 ;
"RTN","EASEZI",71,0)
 ;set link in file #712 record
"RTN","EASEZI",72,0)
 S DA=EASAPP
"RTN","EASEZI",73,0)
 S DIE="^EAS(712,"
"RTN","EASEZI",74,0)
 S DR="3.4///^S X=DFN;" I NEW S DR=DR_"3.5///^S X=NEW"
"RTN","EASEZI",75,0)
 D ^DIE
"RTN","EASEZI",76,0)
 ;
"RTN","EASEZI",77,0)
 W !,"One moment please...",!
"RTN","EASEZI",78,0)
 S EASDFN=DFN
"RTN","EASEZI",79,0)
 ;if applicant is new to database, user accept/not accept of data elements is constrained; 
"RTN","EASEZI",80,0)
 ;if applicant is new to VistA, mark all data elements 'accepted';
"RTN","EASEZI",81,0)
 I NEW S N=0 F  S N=$O(^EAS(712,EASAPP,10,N)) Q:'N  I $G(^EAS(712,EASAPP,10,N,1))'="" D
"RTN","EASEZI",82,0)
 .S ACCEPT="",FLD="",SUBFILE="",FILE=""
"RTN","EASEZI",83,0)
 .S KEYIEN=$P(^EAS(712,EASAPP,10,N,0),U,1)
"RTN","EASEZI",84,0)
 .I KEYIEN S X=$G(^EAS(711,KEYIEN,1)),FILE=$P(X,U,1),SUBFILE=$P(X,U,2),FLD=$P(X,U,3)
"RTN","EASEZI",85,0)
 .I FLD S ACCEPT=1
"RTN","EASEZI",86,0)
 .I 'FLD S ACCEPT=-1
"RTN","EASEZI",87,0)
 .I (FILE=355.33)!(FILE>408) S ACCEPT=2
"RTN","EASEZI",88,0)
 .I FILE=2,((FLD=.01)!(FLD=.03)!(FLD=.09)!(FLD=.531)) S ACCEPT=-1
"RTN","EASEZI",89,0)
 .I ((SUBFILE=2.01)!(SUBFILE=2.101)) S ACCEPT=-1
"RTN","EASEZI",90,0)
 .S $P(^EAS(712,EASAPP,10,N,0),U,3)=ACCEPT
"RTN","EASEZI",91,0)
 ;setup tmp array for data mapping
"RTN","EASEZI",92,0)
 D LOCAL711^EASEZU2
"RTN","EASEZI",93,0)
 ;correlate #712 data with mapping array
"RTN","EASEZI",94,0)
 S N=0 F  S N=$O(^EAS(712,EASAPP,10,N)) Q:'N  S X=^(N,0) D
"RTN","EASEZI",95,0)
 .;haven't started data comparison, so don't set array node if no 1010EZ data
"RTN","EASEZI",96,0)
 .S EZDATA=$P($G(^EAS(712,EASAPP,10,N,1)),U,1)
"RTN","EASEZI",97,0)
 .Q:EZDATA=""
"RTN","EASEZI",98,0)
 .S IEN=$P(X,U,1),MULTIPLE=$P(X,U,2),ACCEPT=$P(X,U,3)
"RTN","EASEZI",99,0)
 .S ^TMP("EZDATA",$J,IEN,MULTIPLE,1)=EZDATA_U_ACCEPT_U_N
"RTN","EASEZI",100,0)
 ;
"RTN","EASEZI",101,0)
 ;if applicant new to VistA, stop here;
"RTN","EASEZI",102,0)
 I NEW S EASEZNEW=1
"RTN","EASEZI",103,0)
 Q:EASEZNEW
"RTN","EASEZI",104,0)
 ;if matched to existing patient, get all iens needed
"RTN","EASEZI",105,0)
 W !,"Preparing for data comparison to VistA Patient database...",!
"RTN","EASEZI",106,0)
 K ALIAS,DISPOS,ENROLL,INCREL
"RTN","EASEZI",107,0)
 D I201^EASEZI(EASDFN,.ALIAS) W "."
"RTN","EASEZI",108,0)
 I $D(ALIAS)>1 D C201^EASEZC1
"RTN","EASEZI",109,0)
 D I2101^EASEZI(EASDFN,.DISPOS) W "."
"RTN","EASEZI",110,0)
 I $D(DISPOS)>1 D C2101^EASEZC1
"RTN","EASEZI",111,0)
 ;finish getting the rest of file #2 data needed for comparison 
"RTN","EASEZI",112,0)
 D C2^EASEZC1
"RTN","EASEZI",113,0)
 D I2711^EASEZI(EASDFN,.ENROLL) W "."
"RTN","EASEZI",114,0)
 I $D(ENROLL)>1 D C2711^EASEZC1
"RTN","EASEZI",115,0)
 D I408^EASEZI(EASDFN,.INCREL) W "."
"RTN","EASEZI",116,0)
 I $D(INCREL)>1 D C408^EASEZC1
"RTN","EASEZI",117,0)
 ;
"RTN","EASEZI",118,0)
 ;for all applicants matched to existing patients, 
"RTN","EASEZI",119,0)
 ;  set file #355.33 data to 'always accept';
"RTN","EASEZI",120,0)
 ;  ;set unmatched data for files #408.12, #408.13, #408.21, #408.22 to 'always accept';
"RTN","EASEZI",121,0)
 S N=0 F  S N=$O(^EAS(712,EASAPP,10,N)) Q:'N  S X=^(N,0) D
"RTN","EASEZI",122,0)
 .S KEYIEN=$P(X,U,1),MULTIPLE=$P(X,U,2)
"RTN","EASEZI",123,0)
 .;S LINK=$P($G(^EAS(712,EASAPP,10,N,2)),U,2)
"RTN","EASEZI",124,0)
 .S X=$G(^EAS(711,KEYIEN,1)),FILE=$P(X,U,1),FLD=$P(X,U,3)
"RTN","EASEZI",125,0)
 .S ACCEPT=""
"RTN","EASEZI",126,0)
 .I 'FLD S ACCEPT=-1
"RTN","EASEZI",127,0)
 .I FILE=2,((FLD=.01)!(FLD=.03)!(FLD=.09)!(FLD=.531)) S ACCEPT=-1
"RTN","EASEZI",128,0)
 .I FILE=355.33 S ACCEPT=2
"RTN","EASEZI",129,0)
 .I FILE>408 S ACCEPT=2
"RTN","EASEZI",130,0)
 .S $P(^EAS(712,EASAPP,10,N,0),U,3)=ACCEPT
"RTN","EASEZI",131,0)
 .S $P(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1),U,2)=ACCEPT
"RTN","EASEZI",132,0)
 K ALIAS,DISPOS,ENROLL,INCREL
"RTN","EASEZI",133,0)
 Q
"RTN","EASEZI",134,0)
 ;
"RTN","EASEZI",135,0)
I201(EASDFN,EASARRAY) ;retrieve ien(s) in Alias subfile #2.01
"RTN","EASEZI",136,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",137,0)
 ;output EASARRAY = ien(s) to #2.01
"RTN","EASEZI",138,0)
 ;                  each array element = EASDFN;subfile_ien
"RTN","EASEZI",139,0)
 ;
"RTN","EASEZI",140,0)
 N N,IEN
"RTN","EASEZI",141,0)
 S IEN=0,N=0 F  S IEN=$O(^DPT(EASDFN,.01,IEN)) Q:'IEN  S N=N+1,EASARRAY(N)=EASDFN_";"_IEN
"RTN","EASEZI",142,0)
 Q
"RTN","EASEZI",143,0)
 ;
"RTN","EASEZI",144,0)
I2101(EASDFN,EASARRAY) ;retrieve ien to Disposition subfile #2.101
"RTN","EASEZI",145,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",146,0)
 ;output EASARRAY = most recent ien in #2.101;
"RTN","EASEZI",147,0)
 ;                  array element = EASDFN;subfile_ien
"RTN","EASEZI",148,0)
 ;
"RTN","EASEZI",149,0)
 N N,IEN,ARR,LAST
"RTN","EASEZI",150,0)
 S IEN=0,N=0 F  S IEN=$O(^DPT(EASDFN,"DIS",IEN)) Q:'IEN  D
"RTN","EASEZI",151,0)
 .S RDATE=$P(^DPT(EASDFN,"DIS",IEN,0),U,1),ARR(RDATE)=IEN
"RTN","EASEZI",152,0)
 I $D(ARR) D
"RTN","EASEZI",153,0)
 .S LAST=$O(ARR(999999999),-1),IEN=ARR(LAST)
"RTN","EASEZI",154,0)
 .S EASARRAY(1)=EASDFN_";"_IEN
"RTN","EASEZI",155,0)
 Q
"RTN","EASEZI",156,0)
 ;
"RTN","EASEZI",157,0)
I2711(EASDFN,EASARRAY) ;retrieve ien to Enrollment file #27.11
"RTN","EASEZI",158,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",159,0)
 ;output EASARRAY = current enrollment ien in #27.11;
"RTN","EASEZI",160,0)
 ;                  array element = ien
"RTN","EASEZI",161,0)
 N CUR
"RTN","EASEZI",162,0)
 S CUR=$$FINDCUR^DGENA(+EASDFN)
"RTN","EASEZI",163,0)
 S EASARRAY(1)=CUR
"RTN","EASEZI",164,0)
 Q
"RTN","EASEZI",165,0)
 ;
"RTN","EASEZI",166,0)
I408(EASDFN,EASARRAY) ;retrieve ien(s) to files #408.12,#408.13,#408.21,#408.22
"RTN","EASEZI",167,0)
 ;
"RTN","EASEZI",168,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",169,0)
 ;output EASARRAY = ien(s) to files; passed by reference
"RTN","EASEZI",170,0)
 ;       array(408,"V",1) = ien_#408.12^ien_#408.13^ien_#408.21^ien#408.22 ;veteran data
"RTN","EASEZI",171,0)
 ;       array(408,"S",1) = ien_#408.12^ien_#408.13^ien_#408.21^ien#408.22 ;spouse data
"RTN","EASEZI",172,0)
 ;       array(408,"C",multiple) = ien_#408.12^ien_#408.13^ien_#408.21^ien#408.22 ;child data
"RTN","EASEZI",173,0)
 ;   where ien_#408.13 = ien;global_root
"RTN","EASEZI",174,0)
 ;
"RTN","EASEZI",175,0)
 N CURINCYR,X,Y,DIC,DA,DR,DIQ,EAS,DEP,REL,IX,JX,KX,I13,SUB1,SUB2,INCYR,PT
"RTN","EASEZI",176,0)
 ;
"RTN","EASEZI",177,0)
 Q:'EASDFN
"RTN","EASEZI",178,0)
 S Y=DT,%F=5,X=$$FMTE^XLFDT(Y,%F),CURINCYR=$P(X,"/",3)-1
"RTN","EASEZI",179,0)
 ;find all associated 408 records, even if no actual income test
"RTN","EASEZI",180,0)
 ; get #408.12, #408.13, #408.21, #408.22 iens
"RTN","EASEZI",181,0)
 K EAS S DEP=0
"RTN","EASEZI",182,0)
 S IX=0 F  S IX=$O(^DGPR(408.12,"B",EASDFN,IX)) Q:'IX  D
"RTN","EASEZI",183,0)
 .S DIC=408.12,DA=IX,DIQ="EAS",DIQ(0)="I",DR=".02;.03" D EN^DIQ1
"RTN","EASEZI",184,0)
 .S REL=$G(EAS(408.12,IX,.02,"I")),I13=$G(EAS(408.12,IX,.03,"I"))
"RTN","EASEZI",185,0)
 .S (SUB1,SUB2)="" S:REL=1 SUB1="V",SUB2=1 S:REL=2 SUB1="S",SUB2=1 S:REL>2 SUB1="C",DEP=DEP+1,SUB2=DEP
"RTN","EASEZI",186,0)
 .I SUB1]"" S EASARRAY(408,SUB1,SUB2)=IX_U_I13 D
"RTN","EASEZI",187,0)
 ..S JX=$O(^DGMT(408.21,"C",IX,""),-1)
"RTN","EASEZI",188,0)
 ..I JX D
"RTN","EASEZI",189,0)
 ...S DIC=408.21,DA=JX,DIQ="EAS",DIQ(0)="I",DR=".01;.02" D EN^DIQ1
"RTN","EASEZI",190,0)
 ...S INCYR=$G(EAS(408.21,JX,.01,"I")),PT=$G(EAS(408.21,JX,.02,"I"))
"RTN","EASEZI",191,0)
 ...Q:PT'=IX
"RTN","EASEZI",192,0)
 ...Q:INCYR<CURINCYR
"RTN","EASEZI",193,0)
 ...S KX=$O(^DGMT(408.22,"AIND",JX,0))
"RTN","EASEZI",194,0)
 ...S EASARRAY(408,SUB1,SUB2)=EASARRAY(408,SUB1,SUB2)_U_JX_U_KX
"RTN","EASEZI",195,0)
 Q
"RTN","EASEZI",196,0)
 ;
"RTN","EASEZI",197,0)
I1275(IEN) ;get the active subrecord from subfile #408.1275
"RTN","EASEZI",198,0)
 ;input     IEN = internal record number to file #408.12
"RTN","EASEZI",199,0)
 ;output SUBIEN = internal record number for active subrecord,
"RTN","EASEZI",200,0)
 ;                or -1 if invalid
"RTN","EASEZI",201,0)
 N B,ACT,SUBIEN
"RTN","EASEZI",202,0)
 I 'IEN Q -1
"RTN","EASEZI",203,0)
 S SUBIEN=-1
"RTN","EASEZI",204,0)
 S B=0 F  S B=$O(^DGPR(408.12,IEN,"E",B)) Q:'B  D
"RTN","EASEZI",205,0)
 .S ACT=$P(^DGPR(408.12,IEN,"E",B,0),U,2)
"RTN","EASEZI",206,0)
 .I ACT S SUBIEN=B
"RTN","EASEZI",207,0)
 Q SUBIEN
"RTN","EASEZL1")
0^11^B31267803
"RTN","EASEZL1",1,0)
EASEZL1 ;ALB/jap - 1010EZ List Manager Processing Screens (cont.) ;10/12/00  13:07
"RTN","EASEZL1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZL1",3,0)
 ;
"RTN","EASEZL1",4,0)
EN ;Entry point to build list area for EAS EZ Applications processing
"RTN","EASEZL1",5,0)
 ;
"RTN","EASEZL1",6,0)
 D EN^VALM("EAS EZ 1010EZ INITIAL SCREEN")
"RTN","EASEZL1",7,0)
 Q
"RTN","EASEZL1",8,0)
 ;
"RTN","EASEZL1",9,0)
EXPND ;
"RTN","EASEZL1",10,0)
 N V
"RTN","EASEZL1",11,0)
 K EASDFN,EASEZNEW,EASAPP,EASLOCK,EASLN
"RTN","EASEZL1",12,0)
 K ^TMP("EASEXP",$J)
"RTN","EASEZL1",13,0)
 S EASARY="EASEXP"
"RTN","EASEZL1",14,0)
 S VALMBCK=""
"RTN","EASEZL1",15,0)
 D SEL^EASEZLM
"RTN","EASEZL1",16,0)
 Q:$G(EASERR)
"RTN","EASEZL1",17,0)
 Q:'$G(EASSEL)
"RTN","EASEZL1",18,0)
 S EASAPP=$O(^TMP("EASEZ",$J,"IDX",EASSEL,0))
"RTN","EASEZL1",19,0)
 S EASLOCK=1 L +^EAS(712,EASAPP,0):5 I '$T S EASLOCK=0
"RTN","EASEZL1",20,0)
 I 'EASLOCK D  Q
"RTN","EASEZL1",21,0)
 .W !,"Another user is processing that Application... try later.",!
"RTN","EASEZL1",22,0)
 .D PAUSE^VALM1
"RTN","EASEZL1",23,0)
 .S VALMBCK="R"
"RTN","EASEZL1",24,0)
 S V=EASVIEW,EASPSTAT=$S(V=1:"NEW",V=2:"REV",V=3:"PRT",V=4:"SIG",V=5:"FIL",V=6:"CLS",1:"")
"RTN","EASEZL1",25,0)
 I EASVIEW=1 W ! D WAIT^DICD,EN^VALM("EAS EZ 1010EZ REVIEW1")
"RTN","EASEZL1",26,0)
 I EASVIEW=2 W ! D WAIT^DICD,EN^VALM("EAS EZ 1010EZ REVIEW2")
"RTN","EASEZL1",27,0)
 I EASVIEW=3 W ! D WAIT^DICD,EN^VALM("EAS EZ 1010EZ REVIEW3")
"RTN","EASEZL1",28,0)
 I EASVIEW=4 W ! D WAIT^DICD,EN^VALM("EAS EZ 1010EZ REVIEW4")
"RTN","EASEZL1",29,0)
 I EASVIEW=5 W ! D WAIT^DICD,EN^VALM("EAS EZ 1010EZ REVIEW5")
"RTN","EASEZL1",30,0)
 I EASVIEW=6 W ! D WAIT^DICD,EN^VALM("EAS EZ 1010EZ REVIEW6")
"RTN","EASEZL1",31,0)
 ;revision of 01/09/01 -- 'filed' separated from 'signed' so
"RTN","EASEZL1",32,0)
 ; EASVIEW=4 --> signed
"RTN","EASEZL1",33,0)
 ; EASVIEW=5 --> filed
"RTN","EASEZL1",34,0)
 ; EASVIEW=6 --> closed/inactivated
"RTN","EASEZL1",35,0)
 Q
"RTN","EASEZL1",36,0)
 ;
"RTN","EASEZL1",37,0)
INIT2 ;
"RTN","EASEZL1",38,0)
 ;generate ^TMP("EZDISP",$J, in order to build display
"RTN","EASEZL1",39,0)
 S EASDFN=+$P(^EAS(712,EASAPP,0),U,10)
"RTN","EASEZL1",40,0)
 D EN^EASEZC1(EASAPP,EASDFN)
"RTN","EASEZL1",41,0)
 D HDR2
"RTN","EASEZL1",42,0)
 D BLD2
"RTN","EASEZL1",43,0)
 I '$G(VALMCNT) D NOLINES^EASEZLM
"RTN","EASEZL1",44,0)
 Q
"RTN","EASEZL1",45,0)
 ;
"RTN","EASEZL1",46,0)
HDR2 ;
"RTN","EASEZL1",47,0)
 N H,V,X,XX,SEL,FAC,JNAME,EDATE,WEBID,WILLSEND
"RTN","EASEZL1",48,0)
 S SEL=^TMP("EASEZIDX",$J,EASAPP)
"RTN","EASEZL1",49,0)
 S JNAME=$P(SEL,U,1),EDATE=$P(SEL,U,2),WEBID=$P(SEL,U,3),WILLSEND=$P(SEL,U,4),FAC=$P(SEL,U,5)
"RTN","EASEZL1",50,0)
 S WILLSEND=$S(WILLSEND:"YES",1:"NO")
"RTN","EASEZL1",51,0)
 S V=EASPSTAT
"RTN","EASEZL1",52,0)
 S H=$S(V="NEW":"NEW",V="REV":"IN REVIEW",V="PRT":"PRINTED,PENDING SIG.",V="SIG":"SIGNED",V="FIL":"FILED",V="CLS":"INACTIVATED",1:"")
"RTN","EASEZL1",53,0)
 I H="FILED",$P($G(^EAS(712,EASAPP,2)),U,11)'="" S H="Still filing..."
"RTN","EASEZL1",54,0)
 S X="Application #:",X=$$SETSTR^VALM1(X,"",1,14)
"RTN","EASEZL1",55,0)
 S X=$$SETSTR^VALM1(EASAPP,X,16,6)
"RTN","EASEZL1",56,0)
 S FAC="("_FAC_")",X=$$SETSTR^VALM1(FAC,X,27,8)
"RTN","EASEZL1",57,0)
 S XX="Status:",X=$$SETSTR^VALM1(XX,X,46,12)
"RTN","EASEZL1",58,0)
 S X=$$SETSTR^VALM1(H,X,59,21)
"RTN","EASEZL1",59,0)
 S VALMHDR(1)=X
"RTN","EASEZL1",60,0)
 S X="Applicant:",X=$$SETSTR^VALM1(X,"",1,14)
"RTN","EASEZL1",61,0)
 S X=$$SETSTR^VALM1(JNAME,X,16,28)
"RTN","EASEZL1",62,0)
 S XX="Date Rec'd:",X=$$SETSTR^VALM1(XX,X,46,12)
"RTN","EASEZL1",63,0)
 S X=$$SETSTR^VALM1(EDATE,X,59,21)
"RTN","EASEZL1",64,0)
 S VALMHDR(2)=X
"RTN","EASEZL1",65,0)
 S X="Web ID #:",X=$$SETSTR^VALM1(X,"",1,14)
"RTN","EASEZL1",66,0)
 S X=$$SETSTR^VALM1(WEBID,X,16,28)
"RTN","EASEZL1",67,0)
 S XX="Vet Sending Signed Form?: "_WILLSEND,X=$$SETSTR^VALM1(XX,X,46,30)
"RTN","EASEZL1",68,0)
 S VALMHDR(3)=X
"RTN","EASEZL1",69,0)
 Q
"RTN","EASEZL1",70,0)
 ;
"RTN","EASEZL1",71,0)
BLD2 ;
"RTN","EASEZL1",72,0)
 N S,C,IT,JJ,ACCEPT,MULTIPLE,OLDM,QUES,Q1,QX,KEYIEN,DISPNM,EZDATA,PTDATA,X,FARRAY,WARRAY,WOUT,DA,DR,DIC,DIQ,X,Y
"RTN","EASEZL1",73,0)
 D CLEAR^VALM1
"RTN","EASEZL1",74,0)
 K ^TMP("EASEXPSRT",$J),^TMP("EASEXPIDX",$J)
"RTN","EASEZL1",75,0)
 S VALMBG=1,VALMCNT=0
"RTN","EASEZL1",76,0)
 S IT="" F  S IT=$O(VALMDDF(IT)) Q:IT=""  S X=VALMDDF(IT),EASCOL(IT)=$P(X,U,2),EASWID(IT)=$P(X,U,3)
"RTN","EASEZL1",77,0)
 S EASLN=0,EASNUM=0
"RTN","EASEZL1",78,0)
 ;build ^TMP("EASEXP", array which creates screen listing
"RTN","EASEZL1",79,0)
 S S="" F  S S=$O(^TMP("EZDISP",$J,S)) Q:S=""  D
"RTN","EASEZL1",80,0)
 .S MULTIPLE=0 F  S MULTIPLE=$O(^TMP("EZDISP",$J,S,MULTIPLE)) Q:'MULTIPLE  D
"RTN","EASEZL1",81,0)
 ..S Q1="" F  S Q1=$O(^TMP("EZDISP",$J,S,MULTIPLE,Q1)) Q:Q1=""  S QX="" F  S QX=$O(^TMP("EZDISP",$J,S,MULTIPLE,Q1,QX)) Q:QX=""  D
"RTN","EASEZL1",82,0)
 ...S X=^TMP("EZDISP",$J,S,MULTIPLE,Q1,QX)
"RTN","EASEZL1",83,0)
 ...S KEYIEN=$P(X,U,1),EZDATA=$P(X,U,2),ACCEPT=$P(X,U,3),SUBIEN=$P(X,U,4),PTDATA=$P(X,U,5),DISPNM=$P(X,U,6)
"RTN","EASEZL1",84,0)
 ...S EASLN=EASLN+1,EASNUM=EASNUM+1
"RTN","EASEZL1",85,0)
 ...S X=$$SETSTR^VALM1(EASLN,"",EASCOL("NUMBER"),EASWID("NUMBER"))
"RTN","EASEZL1",86,0)
 ...S X=$$SETSTR^VALM1(DISPNM,X,EASCOL("DATA ITEM"),EASWID("DATA ITEM"))
"RTN","EASEZL1",87,0)
 ...;S X=$$SETSTR^VALM1(ACCEPT,X,EASCOL("ACCEPT"),EASWID("ACCEPT"))
"RTN","EASEZL1",88,0)
 ...S X=$$SETSTR^VALM1(EZDATA,X,EASCOL("EZDATA"),EASWID("EZDATA"))
"RTN","EASEZL1",89,0)
 ...S X=$$SETSTR^VALM1(PTDATA,X,EASCOL("PTDATA"),EASWID("PTDATA"))
"RTN","EASEZL1",90,0)
 ...D SET^VALM10(EASLN,X)
"RTN","EASEZL1",91,0)
 ...I ACCEPT>0 D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZL1",92,0)
 ...S ^TMP("EASEXP",$J,"IDX",EASLN)=SUBIEN_U_MULTIPLE_U_KEYIEN
"RTN","EASEZL1",93,0)
 ;add info from Section of 1010EZ
"RTN","EASEZL1",94,0)
 K FARRAY
"RTN","EASEZL1",95,0)
 S DA=EASAPP,DIC="^EAS(712,",DR="4.3;4.4;12",DIQ="FARRAY",DIQ(0)="E"
"RTN","EASEZL1",96,0)
 D EN^DIQ1
"RTN","EASEZL1",97,0)
 S DR=13,DIQ="WARRAY"
"RTN","EASEZL1",98,0)
 D EN^DIQ1
"RTN","EASEZL1",99,0)
 ;
"RTN","EASEZL1",100,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",101,0)
 S X=$$SETSTR^VALM1("  ","",1,2) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",102,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",103,0)
 S X=$$SETSTR^VALM1("  ","",1,2) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",104,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",105,0)
 S X=$$SETSTR^VALM1("Appointment Requested: ","",1,24),X=$$SETSTR^VALM1($G(FARRAY(712,EASAPP,4.4,"E")),X,25,30)
"RTN","EASEZL1",106,0)
 D SET^VALM10(EASLN,X)
"RTN","EASEZL1",107,0)
 ;
"RTN","EASEZL1",108,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",109,0)
 S X=$$SETSTR^VALM1("  ","",1,2) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",110,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",111,0)
 S X=$$SETSTR^VALM1("Services Requested: ","",1,24) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",112,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",113,0)
 S X=$$SETSTR^VALM1($G(FARRAY(712,EASAPP,12,"E")),"",3,78) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",114,0)
 ;
"RTN","EASEZL1",115,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",116,0)
 S X=$$SETSTR^VALM1("  ","",1,2) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",117,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",118,0)
 S X=$$SETSTR^VALM1("Comments: ","",1,12) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",119,0)
 I $D(WARRAY)>1 S WOUT=0,JJ=0 F  D  Q:WOUT
"RTN","EASEZL1",120,0)
 .S JJ=JJ+1,C=$G(WARRAY(712,EASAPP,13,JJ))
"RTN","EASEZL1",121,0)
 .I C="" S WOUT=1 Q
"RTN","EASEZL1",122,0)
 .S EASLN=EASLN+1
"RTN","EASEZL1",123,0)
 .S X=$$SETSTR^VALM1(C,"",3,78) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",124,0)
 ;
"RTN","EASEZL1",125,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",126,0)
 S X=$$SETSTR^VALM1("  ","",1,2) D SET^VALM10(EASLN,X)
"RTN","EASEZL1",127,0)
 S EASLN=EASLN+1
"RTN","EASEZL1",128,0)
 S X=$$SETSTR^VALM1("E-mail: ","",1,9),X=$$SETSTR^VALM1($G(FARRAY(712,EASAPP,4.3,"E")),X,10,60)
"RTN","EASEZL1",129,0)
 D SET^VALM10(EASLN,X)
"RTN","EASEZL1",130,0)
 ;
"RTN","EASEZL1",131,0)
 S VALMCNT=EASLN,$P(^TMP("EASEXP",$J,0),U,4)=VALMCNT
"RTN","EASEZL1",132,0)
 Q
"RTN","EASEZL1",133,0)
 ;
"RTN","EASEZL1",134,0)
EXIT2 ;
"RTN","EASEZL1",135,0)
 D CLEAN^VALM10
"RTN","EASEZL1",136,0)
 L -^EAS(712,EASAPP,0)
"RTN","EASEZL1",137,0)
 K ^TMP("EASEXP",$J),^TMP("EASEZPSRT",$J),^TMP("EASEZPIDX",$J)
"RTN","EASEZL1",138,0)
 K ^TMP("EZDATA",$J),^TMP("EZINDEX",$J),^TMP("EZTEMP",$J),^TMP("EZDISP",$J)
"RTN","EASEZL1",139,0)
 Q
"RTN","EASEZL2")
0^27^B31917362
"RTN","EASEZL2",1,0)
EASEZL2 ;ALB/jap - 1010EZ List Manager Processing Screens (cont.) ;12/12/00  13:07
"RTN","EASEZL2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZL2",3,0)
 ;
"RTN","EASEZL2",4,0)
HELP2 ;Help code
"RTN","EASEZL2",5,0)
 I $D(X),X'["??" D  Q
"RTN","EASEZL2",6,0)
 .D CLEAR^VALM1
"RTN","EASEZL2",7,0)
 .W !!,?2,"Only two actions require a list line number indentifier --",!
"RTN","EASEZL2",8,0)
 .W !,?6,IOINHI,"AF Accept Field",IOINORM," -->",?22,"Enter ",IORVON,"AF=n",IORVOFF," to act on the field shown in line #n."
"RTN","EASEZL2",9,0)
 .W !,?6,IOINHI,"UF Update Field",IOINORM," -->",?22,"Enter ",IORVON,"UF=n",IORVOFF," to act on the field shown in line #n."
"RTN","EASEZL2",10,0)
 .W !!,?2,"All other actions act on the Application as a whole,"
"RTN","EASEZL2",11,0)
 .W !,?2,"so a line number is not used."
"RTN","EASEZL2",12,0)
 .W !!,?2,"Actions ",IOINHI,"Verify Signature",IOINORM,", ",IOINHI,"File 10-10EZ",IOINORM,", and ",IOINHI,"Inactivate",IOINORM
"RTN","EASEZL2",13,0)
 .W !,?2,"can be used only once per Application."
"RTN","EASEZL2",14,0)
 .D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZL2",15,0)
 D CLEAR^VALM1
"RTN","EASEZL2",16,0)
 I EASPSTAT="NEW" D  Q
"RTN","EASEZL2",17,0)
 .W !!,"Allowed actions for NEW Applications are:",!
"RTN","EASEZL2",18,0)
 .D HLZ
"RTN","EASEZL2",19,0)
 .D HIZ
"RTN","EASEZL2",20,0)
 .D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZL2",21,0)
 I EASPSTAT="REV" D  Q
"RTN","EASEZL2",22,0)
 .W !!,"Allowed actions for IN REVIEW Applications are:",!
"RTN","EASEZL2",23,0)
 .D HAF
"RTN","EASEZL2",24,0)
 .D HAZ
"RTN","EASEZL2",25,0)
 .D HUF
"RTN","EASEZL2",26,0)
 .D HCZ
"RTN","EASEZL2",27,0)
 .D PAUSE^VALM1
"RTN","EASEZL2",28,0)
 .D HRZ
"RTN","EASEZL2",29,0)
 .D HPZ
"RTN","EASEZL2",30,0)
 .D HVZ
"RTN","EASEZL2",31,0)
 .D HIZ
"RTN","EASEZL2",32,0)
 .D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZL2",33,0)
 I EASPSTAT="PRT" D  Q
"RTN","EASEZL2",34,0)
 .W !!,"Allowed actions for PENDING SIGNATURE Applications are:",!
"RTN","EASEZL2",35,0)
 .D HRZ
"RTN","EASEZL2",36,0)
 .D HPZ
"RTN","EASEZL2",37,0)
 .D PAUSE^VALM1
"RTN","EASEZL2",38,0)
 .D HVZ
"RTN","EASEZL2",39,0)
 .D HIZ
"RTN","EASEZL2",40,0)
 .D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZL2",41,0)
 I EASPSTAT="SIG" D  Q
"RTN","EASEZL2",42,0)
 .W !!,"Allowed actions for SIGNED Applications are:",!
"RTN","EASEZL2",43,0)
 .D HUF
"RTN","EASEZL2",44,0)
 .D HPZ
"RTN","EASEZL2",45,0)
 .D PAUSE^VALM1
"RTN","EASEZL2",46,0)
 .D HFZ
"RTN","EASEZL2",47,0)
 .D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZL2",48,0)
 I EASPSTAT="FIL" D  Q
"RTN","EASEZL2",49,0)
 .W !!,"Allowed actions for FILED Applications are:",!
"RTN","EASEZL2",50,0)
 .D HPZ
"RTN","EASEZL2",51,0)
 .D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZL2",52,0)
 I EASPSTAT="CLS" D  Q
"RTN","EASEZL2",53,0)
 .W !!,"There are no allowed actions for an INACTIVATED Application.",!
"RTN","EASEZL2",54,0)
 .D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZL2",55,0)
 Q
"RTN","EASEZL2",56,0)
 ;
"RTN","EASEZL2",57,0)
HLZ ;
"RTN","EASEZL2",58,0)
 W !!,?2,IOINHI,"LZ  Link to Patient File",IOINORM
"RTN","EASEZL2",59,0)
 W !,?6,"The veteran associated with a NEW Application must be 'linked' to"
"RTN","EASEZL2",60,0)
 W !,?6,"the VistA Patient database."
"RTN","EASEZL2",61,0)
 W !,?6,"VistA Patient Lookup function is employed to match the applicant"
"RTN","EASEZL2",62,0)
 W !,?6,"to an existing Patient OR to establish a new Patient record."
"RTN","EASEZL2",63,0)
 Q
"RTN","EASEZL2",64,0)
 ;
"RTN","EASEZL2",65,0)
HAF ;
"RTN","EASEZL2",66,0)
 W !!,?2,IOINHI,"AF  Accept Field",IOINORM," --> Enter ",IORVON,"AF=n",IORVOFF," to act on the field shown in line #n."
"RTN","EASEZL2",67,0)
 W !,?6,"The 10-10 EZ data element on line #n is 'accepted' for later filing"
"RTN","EASEZL2",68,0)
 W !,?6,"into the VistA Patient database."
"RTN","EASEZL2",69,0)
 W !,?6,"Using this action on a previously 'accepted' data element,"
"RTN","EASEZL2",70,0)
 W !,?6,"removes the 'accepted' indicator."
"RTN","EASEZL2",71,0)
 Q
"RTN","EASEZL2",72,0)
 ;
"RTN","EASEZL2",73,0)
HAZ ;
"RTN","EASEZL2",74,0)
 W !!,?2,IOINHI,"AZ  Accept All",IOINORM
"RTN","EASEZL2",75,0)
 W !,?6,"All 10-10 EZ data element are 'accepted' for later filing into"
"RTN","EASEZL2",76,0)
 W !,?6,"the VistA Patient database."
"RTN","EASEZL2",77,0)
 Q
"RTN","EASEZL2",78,0)
 ;
"RTN","EASEZL2",79,0)
HCZ ;
"RTN","EASEZL2",80,0)
 W !!,?2,IOINHI,"CZ  Clear All",IOINORM
"RTN","EASEZL2",81,0)
 W !,?6,"The 'accepted' indicator is removed from any fields previously"
"RTN","EASEZL2",82,0)
 W !,?6,"'accepted'."
"RTN","EASEZL2",83,0)
 Q
"RTN","EASEZL2",84,0)
 ;
"RTN","EASEZL2",85,0)
HRZ ;
"RTN","EASEZL2",86,0)
 W !!,?2,IOINHI,"RZ  Reset to New",IOINORM
"RTN","EASEZL2",87,0)
 W !,?6,"The Application is returned to the 'New' processing status."
"RTN","EASEZL2",88,0)
 W !,?6,"It can be re-matched to the VistA database."
"RTN","EASEZL2",89,0)
 Q
"RTN","EASEZL2",90,0)
 ;
"RTN","EASEZL2",91,0)
HIZ ;
"RTN","EASEZL2",92,0)
 W !!,?2,IOINHI,"IZ  Inactivate",IOINORM
"RTN","EASEZL2",93,0)
 W !,?6,"Once the Application is inactivated, it will no longer be available"
"RTN","EASEZL2",94,0)
 W !,?6,"for processing."
"RTN","EASEZL2",95,0)
 W !,?6,"Use this action only if the Application is deemed invalid or is being"
"RTN","EASEZL2",96,0)
 W !,?6,"replaced by a new Application."
"RTN","EASEZL2",97,0)
 Q
"RTN","EASEZL2",98,0)
 ;
"RTN","EASEZL2",99,0)
HPZ ;
"RTN","EASEZL2",100,0)
 W !!,?2,IOINHI,"PZ  Print 10-10EZ",IOINORM
"RTN","EASEZL2",101,0)
 W !,?6,"Once the 10-10EZ is Printed, actions of Accept Field, Accept All,"
"RTN","EASEZL2",102,0)
 W !,?6,"Clear All, and Update Field can no longer be used."
"RTN","EASEZL2",103,0)
 W !,?6,"The 10-10EZ form is printed using all 'accepted' data. "
"RTN","EASEZL2",104,0)
 W !,?6,"VistA Patient data is used for any fields not 'accepted'."
"RTN","EASEZL2",105,0)
 W !,?6,"Printing must be queued to a valid print device."
"RTN","EASEZL2",106,0)
 Q
"RTN","EASEZL2",107,0)
 ;
"RTN","EASEZL2",108,0)
HVZ ;
"RTN","EASEZL2",109,0)
 W !!,?2,IOINHI,"VZ  Verify Signature",IOINORM
"RTN","EASEZL2",110,0)
 W !,?6,"The user verifies that the Applicant's signature appears on a"
"RTN","EASEZL2",111,0)
 W !,?6,"printed 10-10EZ."
"RTN","EASEZL2",112,0)
 Q
"RTN","EASEZL2",113,0)
 ;
"RTN","EASEZL2",114,0)
HUF ;
"RTN","EASEZL2",115,0)
 W !!,?2,IOINHI,"UF  Update Field",IOINORM," --> Enter ",IORVON,"UF=n",IORVOFF," to act on the field shown in line #n."
"RTN","EASEZL2",116,0)
 W !,?6,"The 10-10 EZ data element on line #n can be overwritten by the user for"
"RTN","EASEZL2",117,0)
 W !,?6,"later filing into VistA."
"RTN","EASEZL2",118,0)
 W !,?6,"This action should be used to enter the Applicant's hand-written"
"RTN","EASEZL2",119,0)
 W !,?6,"changes to the signed 10-10EZ."
"RTN","EASEZL2",120,0)
 Q
"RTN","EASEZL2",121,0)
 ;
"RTN","EASEZL2",122,0)
HFZ ;
"RTN","EASEZL2",123,0)
 W !!,?2,IOINHI,"FZ  File 10-10EZ",IOINORM
"RTN","EASEZL2",124,0)
 W !,?6,"All 'accepted' data elements on the 10-10EZ are filed to the"
"RTN","EASEZL2",125,0)
 W !,?6,"VistA Patient database."
"RTN","EASEZL2",126,0)
 W !,?6,"Use this action with caution -- 10-10EZ data elements will overwrite"
"RTN","EASEZL2",127,0)
 W !,?6,"any existing data in Vista."
"RTN","EASEZL2",128,0)
 Q
"RTN","EASEZLM")
0^12^B36102883
"RTN","EASEZLM",1,0)
EASEZLM ;ALB/jap - 1010EZ List Manager Processing Screens ;10/12/00  13:07
"RTN","EASEZLM",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZLM",3,0)
 ;
"RTN","EASEZLM",4,0)
EN ;Main entry point for 1010EZ processing
"RTN","EASEZLM",5,0)
 ;Ask user to select processing status
"RTN","EASEZLM",6,0)
 W @IOF
"RTN","EASEZLM",7,0)
 W !!,"10-10EZ Application Processing --",!
"RTN","EASEZLM",8,0)
 K DIR,DTOUT,DUOUT,DIRUT,Y
"RTN","EASEZLM",9,0)
 S DIR(0)="SMO^1:New;2:In Review;3:Printed, Pending Signature;4:Signed;5:Filed;6:Inactivated"
"RTN","EASEZLM",10,0)
 S DIR("A")="Select Applications to View"
"RTN","EASEZLM",11,0)
 D ^DIR K DIR
"RTN","EASEZLM",12,0)
 I $D(DIRUT) K DIR,DTOUT,DUOUT,DIRUT,Y  Q
"RTN","EASEZLM",13,0)
 ;
"RTN","EASEZLM",14,0)
 S EASVIEW=0
"RTN","EASEZLM",15,0)
 ;I Y,"^1^2^3^4^5^"[(U_Y_U) S EASVIEW=Y
"RTN","EASEZLM",16,0)
 I Y,"^1^2^3^4^5^6^"[(U_Y_U) S EASVIEW=Y
"RTN","EASEZLM",17,0)
 Q:'EASVIEW
"RTN","EASEZLM",18,0)
 S EASPSTAT=""
"RTN","EASEZLM",19,0)
 D EN^EASEZL1
"RTN","EASEZLM",20,0)
 K EASVIEW G EN
"RTN","EASEZLM",21,0)
 Q
"RTN","EASEZLM",22,0)
 ;
"RTN","EASEZLM",23,0)
HDR ;Header code
"RTN","EASEZLM",24,0)
 N H
"RTN","EASEZLM",25,0)
 S VALMHDR(1)=" "
"RTN","EASEZLM",26,0)
 ;Processing - primary view
"RTN","EASEZLM",27,0)
 N HDR
"RTN","EASEZLM",28,0)
 S HDR=""
"RTN","EASEZLM",29,0)
 S H=$S(EASVIEW=1:"NEW",EASVIEW=2:"IN REVIEW",EASVIEW=3:"PRINTED, PENDING SIG.",EASVIEW=4:"SIGNED",EASVIEW=5:"FILED",EASVIEW=6:"INACTIVATED",1:"")
"RTN","EASEZLM",30,0)
 S HDR=HDR_H
"RTN","EASEZLM",31,0)
 S VALMHDR(2)="Application Status: "_$S(HDR="":"Unknown",1:HDR)
"RTN","EASEZLM",32,0)
 S VALMHDR(3)=" "
"RTN","EASEZLM",33,0)
 Q
"RTN","EASEZLM",34,0)
 ;
"RTN","EASEZLM",35,0)
INIT ;Init variables and list array
"RTN","EASEZLM",36,0)
 ;
"RTN","EASEZLM",37,0)
 S VALMSG=$$MSG^EASEZLM
"RTN","EASEZLM",38,0)
 S EASARY="EASEZ"
"RTN","EASEZLM",39,0)
 K ^TMP("EASEZ",$J),^TMP($J,712),^TMP("EASEZIDX",$J)
"RTN","EASEZLM",40,0)
 ;determine processing status
"RTN","EASEZLM",41,0)
 ;I EASPSTAT="" S V=EASVIEW,EASPSTAT=$S(V=1:"NEW",V=2:"REV",V=3:"PRT",V=4:"SIG",V=5:"CLS",1:"") K V
"RTN","EASEZLM",42,0)
 I EASPSTAT="" S V=EASVIEW,EASPSTAT=$S(V=1:"NEW",V=2:"REV",V=3:"PRT",V=4:"SIG",V=5:"FIL",V=6:"CLS",1:"") K V
"RTN","EASEZLM",43,0)
 I EASPSTAT="" S VALMCNT=0 D NOLINES^EASEZLM
"RTN","EASEZLM",44,0)
 I EASVIEW,EASPSTAT'="" D BLD
"RTN","EASEZLM",45,0)
 ;Print message if no Applications meet selection criteria
"RTN","EASEZLM",46,0)
 I 'VALMCNT D NOLINES^EASEZLM
"RTN","EASEZLM",47,0)
 Q
"RTN","EASEZLM",48,0)
 ;
"RTN","EASEZLM",49,0)
BLD ;Build initial EZ selection screen
"RTN","EASEZLM",50,0)
 N V,JDATE,JNAME,DAT,FILDATE,WEBID,WILLSEND,VETTYPE,FAC,APP,SSN,DOB,EDATE,IT,PRT,STATION
"RTN","EASEZLM",51,0)
 K ^TMP("EASEZ",$J)
"RTN","EASEZLM",52,0)
 S VALMBG=1,VALMCNT=0
"RTN","EASEZLM",53,0)
 S IT="" F  S IT=$O(VALMDDF(IT)) Q:IT=""  S X=VALMDDF(IT),EASCOL(IT)=$P(X,U,2),EASWID(IT)=$P(X,U,3)
"RTN","EASEZLM",54,0)
 S EASLN=0,EASNUM=0
"RTN","EASEZLM",55,0)
 I 'EASVIEW S VALMCNT=0,$P(^TMP("EASEZ",$J,0),U,4)=VALMCNT Q
"RTN","EASEZLM",56,0)
 W !!,"Please wait while processing...",!!
"RTN","EASEZLM",57,0)
 ;call to find all Applications needed for main LM screen
"RTN","EASEZLM",58,0)
 D PICKALL^EASEZU2(EASVIEW)
"RTN","EASEZLM",59,0)
 ;
"RTN","EASEZLM",60,0)
 S FAC="" F  S FAC=$O(^TMP($J,712,EASVIEW,FAC)) Q:FAC=""  S JNAME="" F  S JNAME=$O(^TMP($J,712,EASVIEW,FAC,JNAME)) Q:JNAME=""  D
"RTN","EASEZLM",61,0)
 .S JDATE=0  F  S JDATE=$O(^TMP($J,712,EASVIEW,FAC,JNAME,JDATE)) Q:'JDATE  S APP=0 F  S APP=$O(^TMP($J,712,EASVIEW,FAC,JNAME,JDATE,APP)) Q:'APP  D
"RTN","EASEZLM",62,0)
 ..S DAT=^TMP($J,712,EASVIEW,FAC,JNAME,JDATE,APP)
"RTN","EASEZLM",63,0)
 ..;reset processing status if application has filing date
"RTN","EASEZLM",64,0)
 ..;I EASVIEW=4 S FILDATE=$P(DAT,U,5)
"RTN","EASEZLM",65,0)
 ..S SSN=$P(DAT,U,2),VETTYPE=$P(DAT,U,3),EDATE=$P(DAT,U,4),WEBID=$P(DAT,U,6),WILLSEND=$P(DAT,U,7),FAC=$P(DAT,U,8)
"RTN","EASEZLM",66,0)
 ..S PRT=$S(WILLSEND:"Vet",1:"VA")
"RTN","EASEZLM",67,0)
 ..S STATION=FAC S:STATION=1 STATION=""
"RTN","EASEZLM",68,0)
 ..S EASLN=EASLN+1,EASNUM=EASNUM+1
"RTN","EASEZLM",69,0)
 ..S X=$$SETSTR^VALM1(EASLN,"",EASCOL("NUMBER"),EASWID("NUMBER"))
"RTN","EASEZLM",70,0)
 ..S X=$$SETSTR^VALM1(JNAME,X,EASCOL("APPLICANT"),EASWID("APPLICANT"))
"RTN","EASEZLM",71,0)
 ..S X=$$SETSTR^VALM1(SSN,X,EASCOL("SSN"),EASWID("SSN"))
"RTN","EASEZLM",72,0)
 ..S X=$$SETSTR^VALM1(VETTYPE,X,EASCOL("TYPE"),EASWID("TYPE"))
"RTN","EASEZLM",73,0)
 ..S X=$$SETSTR^VALM1(EDATE,X,EASCOL("DATE"),EASWID("DATE"))
"RTN","EASEZLM",74,0)
 ..S X=$$SETSTR^VALM1(" "_PRT,X,EASCOL("PRINTED"),EASWID("PRINTED"))
"RTN","EASEZLM",75,0)
 ..S X=$$SETSTR^VALM1(STATION,X,EASCOL("STATION"),EASWID("STATION"))
"RTN","EASEZLM",76,0)
 ..S X=$$SETSTR^VALM1(APP,X,EASCOL("APPNUM"),EASWID("APPNUM"))
"RTN","EASEZLM",77,0)
 ..S ^TMP("EASEZ",$J,EASLN,0)=X
"RTN","EASEZLM",78,0)
 ..S ^TMP("EASEZ",$J,"IDX",EASLN,APP)=JNAME_U_EDATE
"RTN","EASEZLM",79,0)
 ..;I EASVIEW=4,'FILDATE D
"RTN","EASEZLM",80,0)
 ..;.S $P(^TMP("EASEZ",$J,"IDX",EASLN,APP),U,3)=1
"RTN","EASEZLM",81,0)
 ..;.D FLDCTRL^VALM10(EASLN,"APPLICANT",IOINHI,IOINORM)
"RTN","EASEZLM",82,0)
 ..;.D FLDCTRL^VALM10(EASLN,"APPNUM",IOINHI,IOINORM)
"RTN","EASEZLM",83,0)
 ..S ^TMP("EASEZIDX",$J,APP)=JNAME_U_EDATE_U_WEBID_U_WILLSEND_U_STATION
"RTN","EASEZLM",84,0)
 S VALMCNT=EASNUM
"RTN","EASEZLM",85,0)
 S $P(^TMP("EASEZ",$J,0),U,4)=VALMCNT
"RTN","EASEZLM",86,0)
 Q
"RTN","EASEZLM",87,0)
 ;
"RTN","EASEZLM",88,0)
MSG() ;Custom message for list manager 'message window'
"RTN","EASEZLM",89,0)
 ;
"RTN","EASEZLM",90,0)
 I EASVIEW=4 Q "Applications not yet filed to the Patient database."
"RTN","EASEZLM",91,0)
 Q "Select an Application to view."
"RTN","EASEZLM",92,0)
 ;
"RTN","EASEZLM",93,0)
HELP ;Help code
"RTN","EASEZLM",94,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","EASEZLM",95,0)
 Q
"RTN","EASEZLM",96,0)
 ;
"RTN","EASEZLM",97,0)
EXIT ;protocol action Exit code
"RTN","EASEZLM",98,0)
 D CLEAN^VALM10
"RTN","EASEZLM",99,0)
 D CLEAR^VALM1
"RTN","EASEZLM",100,0)
 K ^TMP(EASARY_"SRT",$J),^TMP(EASARY_"IDX",$J)
"RTN","EASEZLM",101,0)
 K EASBEG,EASEND,EASDFN,EASEZNEW,EASAPP,EASLOCK,EASLN
"RTN","EASEZLM",102,0)
 Q
"RTN","EASEZLM",103,0)
 ;
"RTN","EASEZLM",104,0)
SEL ;Select item in inital view to expand
"RTN","EASEZLM",105,0)
 N BG,LST,Y,DIR,DTOUT,DUOUT,DIRUT
"RTN","EASEZLM",106,0)
 S BG=VALMBG
"RTN","EASEZLM",107,0)
 S LST=VALMLST
"RTN","EASEZLM",108,0)
 S EASSEL=0,EASERR=0
"RTN","EASEZLM",109,0)
 I 'BG D  Q
"RTN","EASEZLM",110,0)
 .W !!,*7,"There are no '",VALM("ENTITY"),"s' to select.",!
"RTN","EASEZLM",111,0)
 .S EASERR=1
"RTN","EASEZLM",112,0)
 .S DIR(0)="E" D ^DIR K DIR
"RTN","EASEZLM",113,0)
 S Y=+$P($P(XQORNOD(0),U,4),"=",2)
"RTN","EASEZLM",114,0)
 I 'Y D
"RTN","EASEZLM",115,0)
 .S DIR(0)="N^"_BG_":"_LST,DIR("A")="Select "_VALM("ENTITY")_"(s)"
"RTN","EASEZLM",116,0)
 .D ^DIR K DIR I $D(DIRUT) S EASERR=1,EASSEL=0
"RTN","EASEZLM",117,0)
 Q:EASERR
"RTN","EASEZLM",118,0)
 ;
"RTN","EASEZLM",119,0)
 ;check for valid entries
"RTN","EASEZLM",120,0)
 S EASSEL=Y
"RTN","EASEZLM",121,0)
 I EASSEL<BG!(EASSEL>LST) D
"RTN","EASEZLM",122,0)
 .W !,*7,"Selection '",EASSEL,"' is not a valid choice."
"RTN","EASEZLM",123,0)
 .S EASERR=1,EASSEL=0 D PAUSE^VALM1
"RTN","EASEZLM",124,0)
 ;
"RTN","EASEZLM",125,0)
 Q
"RTN","EASEZLM",126,0)
 ;
"RTN","EASEZLM",127,0)
NOLINES ;if array empty, inform user
"RTN","EASEZLM",128,0)
 I $G(EASLOCK)=1 D  Q
"RTN","EASEZLM",129,0)
 .S ^TMP(EASARY,$J,1,0)=$$SETSTR^VALM1(" ","",1,60)
"RTN","EASEZLM",130,0)
 .S ^TMP(EASARY,$J,"IDX",1,1)=""
"RTN","EASEZLM",131,0)
 .S ^TMP(EASARY,$J,2,0)=$$SETSTR^VALM1("No Applications meet the selection criteria. ","",5,60)
"RTN","EASEZLM",132,0)
 .S ^TMP(EASARY,$J,"IDX",2,2)=""
"RTN","EASEZLM",133,0)
 I $G(EASLOCK)=0 D  Q
"RTN","EASEZLM",134,0)
 .S ^TMP(EASARY,$J,1,0)=$$SETSTR^VALM1(" ","",1,60)
"RTN","EASEZLM",135,0)
 .S ^TMP(EASARY,$J,"IDX",1,1)=""
"RTN","EASEZLM",136,0)
 .S ^TMP(EASARY,$J,2,0)=$$SETSTR^VALM1("Application being processed by another user.","",5,60)
"RTN","EASEZLM",137,0)
 .S ^TMP(EASARY,$J,"IDX",2,2)=""
"RTN","EASEZLM",138,0)
 .S ^TMP(EASARY,$J,3,0)=$$SETSTR^VALM1("Try again late.....","",5,60)
"RTN","EASEZLM",139,0)
 .S ^TMP(EASARY,$J,"IDX",3,3)=""
"RTN","EASEZLM",140,0)
 S ^TMP(EASARY,$J,1,0)=$$SETSTR^VALM1(" ","",1,60)
"RTN","EASEZLM",141,0)
 S ^TMP(EASARY,$J,"IDX",1,1)=""
"RTN","EASEZLM",142,0)
 S ^TMP(EASARY,$J,2,0)=$$SETSTR^VALM1("No Applications meet the selection criteria. ","",5,60)
"RTN","EASEZLM",143,0)
 S ^TMP(EASARY,$J,"IDX",2,2)=""
"RTN","EASEZLM",144,0)
 Q
"RTN","EASEZLM",145,0)
 ;
"RTN","EASEZLM",146,0)
FNL ;option (list template) Exit code
"RTN","EASEZLM",147,0)
 D CLEAN^VALM10
"RTN","EASEZLM",148,0)
 D CLEAR^VALM1
"RTN","EASEZLM",149,0)
 K ^TMP($J,712)
"RTN","EASEZLM",150,0)
 K ^TMP("EASEZ",$J),^TMP("EASEZSRT",$J),^TMP("EASEZIDX",$J)
"RTN","EASEZLM",151,0)
 K ^TMP("VALM STACK",$J)
"RTN","EASEZLM",152,0)
 K EASVIEW,EASSEL,EASLN,EASNUM,EASARY,EASCOL,EASWID,EASAPP,EASPSTAT,EASRTR,EASERR
"RTN","EASEZLM",153,0)
 Q
"RTN","EASEZLM",154,0)
 ;
"RTN","EASEZLM",155,0)
NOACT(STAT,ACTION) ;action not allowed
"RTN","EASEZLM",156,0)
 ;
"RTN","EASEZLM",157,0)
 W !!,$C(7),ACTION_" not allowed for this "_STAT_" Application."
"RTN","EASEZLM",158,0)
 S VALMBCK="R"
"RTN","EASEZLM",159,0)
 D PAUSE^VALM1
"RTN","EASEZLM",160,0)
 Q
"RTN","EASEZPF")
0^13^B20889710
"RTN","EASEZPF",1,0)
EASEZPF ;ALB/SCK - Print 1010EZ Enrollment form ; 10/19/2000
"RTN","EASEZPF",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZPF",3,0)
 ;
"RTN","EASEZPF",4,0)
 ; These routines print a version of the OMB approved VA10-10EZ form.
"RTN","EASEZPF",5,0)
 ; No local modifications to these routines will be made.  Any changes
"RTN","EASEZPF",6,0)
 ; will be provided through the National Patch Module  release process.
"RTN","EASEZPF",7,0)
 ;
"RTN","EASEZPF",8,0)
QUE(EASAPP,EASDFN) ; Queue the 1010EZ print
"RTN","EASEZPF",9,0)
 ;  Input
"RTN","EASEZPF",10,0)
 ;      EASAPP - Internal entry number in the 1010EZ HOLDING File, #712
"RTN","EASEZPF",11,0)
 ;      EASDFN - [Optionla] Patient DFN
"RTN","EASEZPF",12,0)
 ;
"RTN","EASEZPF",13,0)
 ;  Output
"RTN","EASEZPF",14,0)
 ;      ZTSK   - Task Number returned from call to Task Manager
"RTN","EASEZPF",15,0)
 ;
"RTN","EASEZPF",16,0)
 ;  
"RTN","EASEZPF",17,0)
 N ZTDESC,ZTIO,ZTRTN,ZTSAVE,ZTSK,ZUSR,POP,X,ERR
"RTN","EASEZPF",18,0)
 ;
"RTN","EASEZPF",19,0)
 ; Check for conditions to print form.  If conditions not met, quit
"RTN","EASEZPF",20,0)
 G:$$CHECKS(EASAPP) EXIT
"RTN","EASEZPF",21,0)
 ;
"RTN","EASEZPF",22,0)
 W !!?5,*7,"This output requires a 132 column output printer."
"RTN","EASEZPF",23,0)
 W !?5,"Output to SCREEN will be unreadable.",!
"RTN","EASEZPF",24,0)
 ;
"RTN","EASEZPF",25,0)
 S EASAPP=$G(EASAPP),EASDFN=$G(EASDFN)
"RTN","EASEZPF",26,0)
 ;
"RTN","EASEZPF",27,0)
 S %ZIS="Q" D ^%ZIS
"RTN","EASEZPF",28,0)
 ;
"RTN","EASEZPF",29,0)
 G:POP EXIT
"RTN","EASEZPF",30,0)
 S ZUSR=DUZ,ZTRTN="EN^EASEZPF",ZTDESC="1010EZ PRINT"
"RTN","EASEZPF",31,0)
 F X="ZUSR","EASAPP","EASDFN" S ZTSAVE(X)=""
"RTN","EASEZPF",32,0)
 D ^%ZTLOAD
"RTN","EASEZPF",33,0)
 D HOME^%ZIS
"RTN","EASEZPF",34,0)
 ;
"RTN","EASEZPF",35,0)
EXIT Q +$G(ZTSK)
"RTN","EASEZPF",36,0)
 ;
"RTN","EASEZPF",37,0)
CHECKS(EASAPP) ; Check for quit conditions
"RTN","EASEZPF",38,0)
 ;
"RTN","EASEZPF",39,0)
 Q 0
"RTN","EASEZPF",40,0)
 N RSLT
"RTN","EASEZPF",41,0)
 ;
"RTN","EASEZPF",42,0)
 S X=$$GET1^DIQ(712,EASAPP_",",3.4,"I") D
"RTN","EASEZPF",43,0)
 . I +X'>0 S ERR(3.4)="The applicant has not been linked to the PATIENT File, #2"
"RTN","EASEZPF",44,0)
 ;
"RTN","EASEZPF",45,0)
 S X=$$GET1^DIQ(712,EASAPP_",",5.1,"I") D
"RTN","EASEZPF",46,0)
 . I +X'>0 S ERR(5.1)="This application has not been reviewed"
"RTN","EASEZPF",47,0)
 ;
"RTN","EASEZPF",48,0)
 S X=$$GET1^DIQ(712,EASAPP_",",9.1,"I") D
"RTN","EASEZPF",49,0)
 . I X>0 S ERR(9.1)="This application has already been closed, thE VA10-10EZ cannot be printed"
"RTN","EASEZPF",50,0)
 ;
"RTN","EASEZPF",51,0)
 I $D(ERR)>0 D
"RTN","EASEZPF",52,0)
 . W !!?3,*7,"The VA10-10EZ for "
"RTN","EASEZPF",53,0)
 . W $$GET1^DIQ(712,EASAPP_",",1),", ",$$GET1^DIQ(712,EASAPP_",",2),", "
"RTN","EASEZPF",54,0)
 . W !?3,"WEB submission ID: ",$$GET1^DIQ(712,EASAPP_",",.1)
"RTN","EASEZPF",55,0)
 . W !?3,"could not be printed for the following reason(s): "
"RTN","EASEZPF",56,0)
 . S X=0
"RTN","EASEZPF",57,0)
 . F  S X=$O(ERR(X)) Q:'X  D
"RTN","EASEZPF",58,0)
 . . W !?5,">> ",ERR(X)
"RTN","EASEZPF",59,0)
 . S RSLT=1
"RTN","EASEZPF",60,0)
 ;
"RTN","EASEZPF",61,0)
 Q $G(RSLT)
"RTN","EASEZPF",62,0)
 ;
"RTN","EASEZPF",63,0)
EN ; Entry point to print 1010EZ
"RTN","EASEZPF",64,0)
 N EALNE,EAINFO,EAABRT,EAADL,ERR
"RTN","EASEZPF",65,0)
 ;
"RTN","EASEZPF",66,0)
 D SETUP(.EALNE,.EAINFO,EASAPP,EASDFN)
"RTN","EASEZPF",67,0)
 ;
"RTN","EASEZPF",68,0)
 D PAGE1^EASEZPU
"RTN","EASEZPF",69,0)
 D EN^EASEZPF1(.EALNE,.EAINFO)
"RTN","EASEZPF",70,0)
 ;
"RTN","EASEZPF",71,0)
 D PAGE2^EASEZPU
"RTN","EASEZPF",72,0)
 D EN^EASEZPF2(.EALNE,.EAINFO)
"RTN","EASEZPF",73,0)
 ;
"RTN","EASEZPF",74,0)
 D EN^EASEZPF3(.EALNE,.EAINFO)
"RTN","EASEZPF",75,0)
 ;
"RTN","EASEZPF",76,0)
 ; Print additional second pages if more than 1 dependent.
"RTN","EASEZPF",77,0)
 F EAADL=1:1 D  Q:$G(EAABRT)
"RTN","EASEZPF",78,0)
 . I '$D(^TMP("EZTEMP",$J,"IIB",EAADL)) S EAABRT=1 Q
"RTN","EASEZPF",79,0)
 . D PAGEN^EASEZPU(EAADL)
"RTN","EASEZPF",80,0)
 . D EN^EASEZPF2(.EALNE,.EAINFO)
"RTN","EASEZPF",81,0)
 ;
"RTN","EASEZPF",82,0)
ENQUIT ; Cleanup temp globals after printing is complete
"RTN","EASEZPF",83,0)
 K ^TMP("EASEZ",$J)
"RTN","EASEZPF",84,0)
 K ^TMP("EZDATA",$J)
"RTN","EASEZPF",85,0)
 K ^TMP("EZINDEX",$J)
"RTN","EASEZPF",86,0)
 K ^TMP("EZTEMP",$J)
"RTN","EASEZPF",87,0)
 K ^TMP("EZDISP",$J)
"RTN","EASEZPF",88,0)
 Q
"RTN","EASEZPF",89,0)
 ;
"RTN","EASEZPF",90,0)
SETUP(EALNE,EAINFO,EASAPP,EASDFN) ; Set-up print variables
"RTN","EASEZPF",91,0)
 ; Input
"RTN","EASEZPF",92,0)
 ;   EALNE   - Line format array
"RTN","EASEZPF",93,0)
 ;   EAINFO  - Misc Data
"RTN","EASEZPF",94,0)
 ;      ("CLRK") - Clerk's intials
"RTN","EASEZPF",95,0)
 ;      ("ID")   - Web ID from #712
"RTN","EASEZPF",96,0)
 ;      ("PGE")  - Page number
"RTN","EASEZPF",97,0)
 ;      ("PD")   - Print Date of report
"RTN","EASEZPF",98,0)
 ;      ("VET" ) - Veteran's name submitting the application
"RTN","EASEZPF",99,0)
 ;      ("SSN")  - Veteran's SSN
"RTN","EASEZPF",100,0)
 ;      ("DISC") - Financial Disclosure status
"RTN","EASEZPF",101,0)
 ;   EASAPP  - IEN of applicant on the 1010EZ HOLDING File, #712
"RTN","EASEZPF",102,0)
 ;   EASDFN  - DFN of applicant in the PATIENT File, #2
"RTN","EASEZPF",103,0)
 ;
"RTN","EASEZPF",104,0)
 N X
"RTN","EASEZPF",105,0)
 ;
"RTN","EASEZPF",106,0)
 ; Build Line array for printout
"RTN","EASEZPF",107,0)
 S EALNE("ULC")=$S('($D(IOST)#2):"-",IOST["C-":"-",1:"_")
"RTN","EASEZPF",108,0)
 S EALNE("D")="",EALNE("DD")="",EALNE("UL")=""
"RTN","EASEZPF",109,0)
 S $P(EALNE("D"),"-",131)="",$P(EALNE("DD"),"=",131)="",$P(EALNE("UL"),EALNE("ULC"),131)=""
"RTN","EASEZPF",110,0)
 ;
"RTN","EASEZPF",111,0)
 ; Setup information array
"RTN","EASEZPF",112,0)
 ; Get clerk's initals
"RTN","EASEZPF",113,0)
 S ZUSR=$G(ZUSR)
"RTN","EASEZPF",114,0)
 I +ZUSR>0 D
"RTN","EASEZPF",115,0)
 . S EAINFO("CLRK")=$$GET1^DIQ(200,ZUSR,1)
"RTN","EASEZPF",116,0)
 . I EAINFO("CLRK")']"" D
"RTN","EASEZPF",117,0)
 . . S X=$$GET1^DIQ(200,ZUSR,.01)
"RTN","EASEZPF",118,0)
 . . S EAINFO("CLRK")=$E($P(X,",",2),1)_$E($P(X,","),1)
"RTN","EASEZPF",119,0)
 E  D
"RTN","EASEZPF",120,0)
 . S EAINFO("CLRK")="unk"
"RTN","EASEZPF",121,0)
 ;
"RTN","EASEZPF",122,0)
 ; Set data elements
"RTN","EASEZPF",123,0)
 S EAINFO("PGE")=0
"RTN","EASEZPF",124,0)
 S EAINFO("ID")=$$GET1^DIQ(712,EASAPP_",",.1)
"RTN","EASEZPF",125,0)
 S EAINFO("PD")=$$FMTE^XLFDT($$NOW^XLFDT)
"RTN","EASEZPF",126,0)
 S EAINFO("DISC")=$$GET1^DIQ(712,EASAPP_",",3.8)
"RTN","EASEZPF",127,0)
 S EAINFO("EASAPP")=EASAPP
"RTN","EASEZPF",128,0)
 S EAINFO("VET")=$$GET1^DIQ(712,EASAPP_",",1)
"RTN","EASEZPF",129,0)
 S EAINFO("SSN")=$$GET1^DIQ(712,EASAPP_",",2)
"RTN","EASEZPF",130,0)
 ;
"RTN","EASEZPF",131,0)
 ; Retrieve applciation data from holding file, #712
"RTN","EASEZPF",132,0)
 D EN^EASEZC1(EASAPP)
"RTN","EASEZPF",133,0)
 D SORT^EASEZC3(EASAPP)
"RTN","EASEZPF",134,0)
SETQ Q
"RTN","EASEZPF",135,0)
 ;
"RTN","EASEZPF",136,0)
HDRMAIN(EALNE) ;
"RTN","EASEZPF",137,0)
 W @IOF
"RTN","EASEZPF",138,0)
 W ?75,"OMB APPROVED NO. 2900-0091 / Est. Burden Avg. 20 min.",!,EALNE("DD")
"RTN","EASEZPF",139,0)
 W !,"D E P A R T M E N T   O F   V E T E R A N S   A F F A I R S",?96,"APPLICATION FOR HEALTH BENEFITS",!,EALNE("DD")
"RTN","EASEZPF",140,0)
 W !?50,"SECTION I - GENERAL INFORMATION",!,EALNE("D")
"RTN","EASEZPF",141,0)
 Q
"RTN","EASEZPF",142,0)
 ;
"RTN","EASEZPF",143,0)
HDR(EALNE,EAINFO) ;
"RTN","EASEZPF",144,0)
 W @IOF
"RTN","EASEZPF",145,0)
 W !,"APPLICATION FOR HEALTH BENEFITS, Continued",?65,"| ",EAINFO("VET"),?100,"| ",EAINFO("SSN")
"RTN","EASEZPF",146,0)
 W !,EALNE("DD")
"RTN","EASEZPF",147,0)
 Q
"RTN","EASEZPF",148,0)
 ;
"RTN","EASEZPF",149,0)
FT(EALNE,EAINFO) ;
"RTN","EASEZPF",150,0)
 N %,Y
"RTN","EASEZPF",151,0)
 ;
"RTN","EASEZPF",152,0)
 W !,EALNE("DD")
"RTN","EASEZPF",153,0)
 W !,"AUTOMATED VA FORM 10-10EZ APR 1998",?40,"PRINTED: ",EAINFO("PD")
"RTN","EASEZPF",154,0)
 W ?80,"Clerk: ",EAINFO("CLRK"),"/",EAINFO("ID")
"RTN","EASEZPF",155,0)
 W ?120,"Page " S EAINFO("PGE")=EAINFO("PGE")+1 W EAINFO("PGE")
"RTN","EASEZPF",156,0)
 Q
"RTN","EASEZPF1")
0^14^B51758497
"RTN","EASEZPF1",1,0)
EASEZPF1 ;ALB/SCK - Print 1010EZ Cont. ; 10/19/2000
"RTN","EASEZPF1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZPF1",3,0)
 ;
"RTN","EASEZPF1",4,0)
EN(EALNE,EAINFO) ; Main entry point for VA 10-10EZ page 1
"RTN","EASEZPF1",5,0)
 N X,EASD
"RTN","EASEZPF1",6,0)
 ;
"RTN","EASEZPF1",7,0)
 S EASD="^TMP(""EASEZ"",$J,1)"
"RTN","EASEZPF1",8,0)
 D HDRMAIN^EASEZPF(.EALNE)
"RTN","EASEZPF1",9,0)
 D DEM
"RTN","EASEZPF1",10,0)
 D EXP
"RTN","EASEZPF1",11,0)
 D EMP
"RTN","EASEZPF1",12,0)
 D INS
"RTN","EASEZPF1",13,0)
 D NOK
"RTN","EASEZPF1",14,0)
 ;
"RTN","EASEZPF1",15,0)
 D FT^EASEZPF(.EALNE,.EAINFO)
"RTN","EASEZPF1",16,0)
 S EAINFO("VET")=@EASD@(2),EAINFO("SSN")=@EASD@(5)
"RTN","EASEZPF1",17,0)
 Q
"RTN","EASEZPF1",18,0)
 ;
"RTN","EASEZPF1",19,0)
DEM ; Print VA 10-10 Section I, Demographic information
"RTN","EASEZPF1",20,0)
 ;
"RTN","EASEZPF1",21,0)
 W !,"1A. Type of Benefits Applied For:  ",@EASD@("1A")
"RTN","EASEZPF1",22,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",23,0)
 ;
"RTN","EASEZPF1",24,0)
 W !,"1B. If Applying For Health Services, Which VA Medical Center or Outpatient Clinic Do You Prefer "
"RTN","EASEZPF1",25,0)
 W !?5,@EASD@("1B")
"RTN","EASEZPF1",26,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",27,0)
 ;
"RTN","EASEZPF1",28,0)
 W !,"2. Veteran's Name",?60,"|3. Other Names Used",?110,"|4. Gender"
"RTN","EASEZPF1",29,0)
 W !?3,@EASD@(2),?60,"|    ",@EASD@(3),?110,"|    ",@EASD@(4)
"RTN","EASEZPF1",30,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",31,0)
 ;
"RTN","EASEZPF1",32,0)
 W !,"5. Social Security Number",?30,"|6. Claim Number",?60,"|7. Date of Birth",?95,"|8. Religion"
"RTN","EASEZPF1",33,0)
 W !?4,@EASD@(5),?30,"|    ",@EASD@(6),?60,"|    ",@EASD@(7),?95,"|    ",@EASD@(8)
"RTN","EASEZPF1",34,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",35,0)
 ;
"RTN","EASEZPF1",36,0)
 W !,"9A. Current Mailing Address",?60,"|9B. City",?95,"|9C. State",?110,"|9D. Zip"
"RTN","EASEZPF1",37,0)
 W !?4,@EASD@("9A"),?60,"| ",@EASD@("9B"),?95,"| ",@EASD@("9C"),?110,"| ",@EASD@("9D")
"RTN","EASEZPF1",38,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",39,0)
 ;
"RTN","EASEZPF1",40,0)
 W !,"9E. County ",?40,"|10. Home Telephone Number ",?85,"|11. Work Telephone Number "
"RTN","EASEZPF1",41,0)
 W !?4,@EASD@("9E"),?40,"|    ",@EASD@(10),?85,"|    ",@EASD@(11)
"RTN","EASEZPF1",42,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",43,0)
 ;
"RTN","EASEZPF1",44,0)
 W !,"12. Current Marital Status: ",@EASD@(12)
"RTN","EASEZPF1",45,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",46,0)
 ;
"RTN","EASEZPF1",47,0)
 W !,"13A. Last Branch of Service",?28,"|13B. Last Entry Date",?52,"|13C.Last Discharge Date",?78,"|13D. Discharge Type",?100,"|13E. Military Service Number"
"RTN","EASEZPF1",48,0)
 W !?4,@EASD@("13A"),?28,"|   ",@EASD@("13B"),?52,"|   ",@EASD@("13C"),?78,"|   ",@EASD@("13D"),?100,"|   ",@EASD@("13E")
"RTN","EASEZPF1",49,0)
 Q
"RTN","EASEZPF1",50,0)
 ;
"RTN","EASEZPF1",51,0)
EXP ; Print VA 10-10EZ Section I, Questions
"RTN","EASEZPF1",52,0)
 ; 
"RTN","EASEZPF1",53,0)
 W !,EALNE("D"),!?2,"14. Answer Yes or No for the Following Questions"
"RTN","EASEZPF1",54,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",55,0)
 ;
"RTN","EASEZPF1",56,0)
 W !?2,"A1.",?6,"Are You a Purple Heart Award Recipient ",?58,@EASD@("14A1"),?65,"|"
"RTN","EASEZPF1",57,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",58,0)
 ;
"RTN","EASEZPF1",59,0)
 W !?2,"A2.",?6,"Are You a Former Prisoner of War ",?58,@EASD@("14A2"),?65,"|H.",?70,"Do You Have a Military Dental Injury",?126,@EASD@("14H")
"RTN","EASEZPF1",60,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",61,0)
 ;
"RTN","EASEZPF1",62,0)
 W !?2,"B.",?6,"Do You Have a VA Service Connected Rating ",?58,@EASD@("14B"),?65,"|I.",?70,"Do You Have a Spinal Cord Injury ",?126,@EASD@("14I")
"RTN","EASEZPF1",63,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",64,0)
 ;
"RTN","EASEZPF1",65,0)
 W !?2,"B1.",?6,"If Yes, What is Your Rated Percentage ",?58,@EASD@("14B1"),?63,"% |J.",?70,"Are You Eligible for MEDICAID",?126,@EASD@("14J")
"RTN","EASEZPF1",66,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",67,0)
 ;
"RTN","EASEZPF1",68,0)
 W !?2,"C.",?6,"Are You Receiving a VA Pension: ",?58,@EASD@("14C"),?65,"|K.",?70,"Are You Enrolled in MEDICARE Hospital Insurance Part A",?126,@EASD@("14K")
"RTN","EASEZPF1",69,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",70,0)
 ;
"RTN","EASEZPF1",71,0)
 W !?2,"D.",?6,"Are You Retired From The Military: ",?58,@EASD@("14D"),?65,"|K1.",?70,"Effective Date",?110,@EASD@("14K1")
"RTN","EASEZPF1",72,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",73,0)
 ;
"RTN","EASEZPF1",74,0)
 W !?2,"D1.",?6,"Was Your Retirement The Result Of a Disability: ",?58,@EASD@("14D1"),?65,"|L.",?70,"Are You Enrolled in MEDICARE Hospital Insurance Part B",?126,@EASD@("14L")
"RTN","EASEZPF1",75,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",76,0)
 ;
"RTN","EASEZPF1",77,0)
 W !?2,"D2.",?6,"Were You Regularly Retired (20+yrs.)",?58,@EASD@("14D2"),?65,"|L1.",?70,"Effective Date",?110,@EASD@("14L1")
"RTN","EASEZPF1",78,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",79,0)
 ;
"RTN","EASEZPF1",80,0)
 W !?2,"E.",?6,"Were You Exposed To Toxins In The Gulf War",?58,@EASD@("14E"),?65,"|M.",?70,"MEDICARE Claim Number",?110,@EASD@("14M")
"RTN","EASEZPF1",81,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",82,0)
 ;
"RTN","EASEZPF1",83,0)
 W !?2,"F.",?6,"Were You Exposed To Agent Orange",?58,@EASD@("14F"),?65,"|N.",?70,"Name Exactly As It Appears On Your MEDICARE Card"
"RTN","EASEZPF1",84,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W $E(EALNE("UL"),1,65)
"RTN","EASEZPF1",85,0)
 ;
"RTN","EASEZPF1",86,0)
 W !?2,"G.",?6,"Were You Exposed to Radiation",?58,@EASD@("14G"),?65,"|     ",@EASD@("14N")
"RTN","EASEZPF1",87,0)
 Q
"RTN","EASEZPF1",88,0)
 ;
"RTN","EASEZPF1",89,0)
EMP ;
"RTN","EASEZPF1",90,0)
 W !,EALNE("D")
"RTN","EASEZPF1",91,0)
 W !,"15A. Veteran's Employment Status  ",$P(@EASD@("15A"),U),?58,"| 15B. Company Name, Address, Telephone"
"RTN","EASEZPF1",92,0)
 W !?5,"Date of Retirement: ",$P(@EASD@("15A"),U,2),?58,"| ",$P(@EASD@("15B"),U),"  ",$P(@EASD@("15B"),U,3)
"RTN","EASEZPF1",93,0)
 W !?7,"(If employed or retired, complete 15B)",?58,"| ",$P(@EASD@("15B"),U,2)
"RTN","EASEZPF1",94,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",95,0)
 ;
"RTN","EASEZPF1",96,0)
 W !,"16A. Spouse's Employment Status ",$P(@EASD@("16A"),U),?58,"| 16B. Company Name, Address, Telephone"
"RTN","EASEZPF1",97,0)
 W !?5,"Date of Retirement: ",$P(@EASD@("16A"),U,2),?58,"| ",$P(@EASD@("16B"),U),"  ",$P(@EASD@("16B"),U,3)
"RTN","EASEZPF1",98,0)
 W !?7,"(If employed or retired, complete 16B)",?58,"| ",$P(@EASD@("16B"),U,2)
"RTN","EASEZPF1",99,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",100,0)
 Q
"RTN","EASEZPF1",101,0)
 ;
"RTN","EASEZPF1",102,0)
INS ;
"RTN","EASEZPF1",103,0)
 W !,"17. Does The Veteran Have Health Insurance",?65,"|18. Does The Spouse Have Health Insurance"
"RTN","EASEZPF1",104,0)
 W !,"    (Other Than Medicare)     ",@EASD@(17),?65,"|    (Other Than Medicare)     ",@EASD@(18)
"RTN","EASEZPF1",105,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",106,0)
 ; 
"RTN","EASEZPF1",107,0)
 W !,"17A. Veteran's Health Insurance Co.",?65,"|18A. Spouse's Health Insurance Co."
"RTN","EASEZPF1",108,0)
 W !?1,@EASD@("17A"),?65,"| ",@EASD@("18A")
"RTN","EASEZPF1",109,0)
 W !
"RTN","EASEZPF1",110,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",111,0)
 ;
"RTN","EASEZPF1",112,0)
 W !,"17B. Name of Policy Holder  ",@EASD@("17B"),?65,"|18B. Name of Policy Holder   ",@EASD@("18B")
"RTN","EASEZPF1",113,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",114,0)
 ;
"RTN","EASEZPF1",115,0)
 W !,"17C. Policy Number",?32,"|17D. Group Code",?65,"|18C. Policy Number",?98,"|18D. Group Code"
"RTN","EASEZPF1",116,0)
 W !,@EASD@("17C"),?32,"| ",@EASD@("17D"),?65,"| ",@EASD@("18C"),?98,"| ",@EASD@("18D")
"RTN","EASEZPF1",117,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",118,0)
 Q
"RTN","EASEZPF1",119,0)
 ;
"RTN","EASEZPF1",120,0)
NOK ;
"RTN","EASEZPF1",121,0)
 W !,"19A. Name, Address and Relationship Of Next of Kin",?80,"|19B. Home Telephone ",@EASD@("19B")
"RTN","EASEZPF1",122,0)
 W !?1,$P(@EASD@("19A"),U)," - ",$P(@EASD@("19A"),U,3),?80,"|19C. Work Telephone ",@EASD@("19C")
"RTN","EASEZPF1",123,0)
 W !?1,$P(@EASD@("19A"),U,2),?80,"|"
"RTN","EASEZPF1",124,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",125,0)
 ;
"RTN","EASEZPF1",126,0)
 W !,"20A. Name, Adress and Relationship Of Emergency Contact",?80,"|20B. Home Telephone ",@EASD@("20B")
"RTN","EASEZPF1",127,0)
 W !?1,$P(@EASD@("20A"),U)," - ",$P(@EASD@("20A"),U,3),?80,"|20C. Work Telephone ",@EASD@("20C")
"RTN","EASEZPF1",128,0)
 W !?1,$P(@EASD@("20A"),U,2),?80,"|"
"RTN","EASEZPF1",129,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",130,0)
 ;
"RTN","EASEZPF1",131,0)
 W !,"21. I DESIGNATE THE FOLLOWING INDIVIDUAL TO RECEIVE POSSESSION OF ALL MY PERSONAL PROPERTY LEFT ON PREMISES UNDER VA CONTROL AFTER"
"RTN","EASEZPF1",132,0)
 W !,"    MY DEPARTURE OR AT THE TIME OF MY DEATH. (This does not constitute a will or transfer of title.)   ",@EASD@(21)
"RTN","EASEZPF1",133,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF1",134,0)
 ;
"RTN","EASEZPF1",135,0)
 W !,"22A. Is Need For Care Due To On The Job Injury  ",@EASD@("22A"),?65,"|22B. Is Need For Care Due To Accident  ",@EASD@("22B")
"RTN","EASEZPF1",136,0)
 Q
"RTN","EASEZPF2")
0^15^B51547703
"RTN","EASEZPF2",1,0)
EASEZPF2 ;ALB/SCK - Print 1010EZ Enrollment Form Cont., Page 2 ; 10/19/2000
"RTN","EASEZPF2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZPF2",3,0)
 ;
"RTN","EASEZPF2",4,0)
EN(EALNE,EAINFO) ; Main entry point
"RTN","EASEZPF2",5,0)
 ;  Input
"RTN","EASEZPF2",6,0)
 ;     EALNE  - Array of line formats for output
"RTN","EASEZPF2",7,0)
 ;     EAINFO - Application Data array, see SETUP^EASEZPF
"RTN","EASEZPF2",8,0)
 ;
"RTN","EASEZPF2",9,0)
 N EASD
"RTN","EASEZPF2",10,0)
 ;
"RTN","EASEZPF2",11,0)
 D HDR^EASEZPF(.EALNE,.EAINFO)
"RTN","EASEZPF2",12,0)
 W !,?50,"SECTION II - FINANCIAL ASSESSMENT",!,EALNE("DD")
"RTN","EASEZPF2",13,0)
 ;
"RTN","EASEZPF2",14,0)
 S EASD="^TMP(""EASEZ"",$J,2)"
"RTN","EASEZPF2",15,0)
 ;
"RTN","EASEZPF2",16,0)
 D DEP
"RTN","EASEZPF2",17,0)
 D FIN
"RTN","EASEZPF2",18,0)
 D INC
"RTN","EASEZPF2",19,0)
 D EXP
"RTN","EASEZPF2",20,0)
 D NET
"RTN","EASEZPF2",21,0)
 ;
"RTN","EASEZPF2",22,0)
 D FT^EASEZPF(.EALNE,.EAINFO)
"RTN","EASEZPF2",23,0)
 Q
"RTN","EASEZPF2",24,0)
 ;
"RTN","EASEZPF2",25,0)
DEP ;  Print out VA 10-10EZ Section IIA, Dependent Information
"RTN","EASEZPF2",26,0)
 W !,?52,"IIA - DEPENDENT INFORMATION",!,EALNE("D")
"RTN","EASEZPF2",27,0)
 W !,"1. Spouse's Name  ",@EASD@(1),?65,"|2. Child's Name  ",@EASD@(2)
"RTN","EASEZPF2",28,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",29,0)
 ;
"RTN","EASEZPF2",30,0)
 W !,"3. Spouse's Social Security Number ",$P(@EASD@(3),U),?50,"|4. Spouse's Date Of Birth ",@EASD@(4),?90,"|5. Child's Date Of Birth ",@EASD@(5)
"RTN","EASEZPF2",31,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",32,0)
 ;
"RTN","EASEZPF2",33,0)
 W !,"6. Spouse's Address",?65,"|7. Child's Social Security Number"
"RTN","EASEZPF2",34,0)
 W !?1,$P(@EASD@(6),U),?65,"|    ",@EASD@(7)
"RTN","EASEZPF2",35,0)
 W !?1,$P(@EASD@(6),U,2),?65,"|"
"RTN","EASEZPF2",36,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",37,0)
 ;
"RTN","EASEZPF2",38,0)
 W !,"8. Spouse's Telephone Number  ",@EASD@(8),?65,"|9. Child's Relationship To You  ",@EASD@(9)
"RTN","EASEZPF2",39,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",40,0)
 ;
"RTN","EASEZPF2",41,0)
 W !,"10. Date of Marriage  ",@EASD@(10),?65,"|11. Date Child Became Your Dependent  ",@EASD@(11)
"RTN","EASEZPF2",42,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",43,0)
 ;
"RTN","EASEZPF2",44,0)
 W !,"12. If Your Spouse or Dependent Child Did Not Live With You Last",?65,"|13. Expenses Paid By YOUR Dependent Child for College, Vocational"
"RTN","EASEZPF2",45,0)
 W !,"Year, Enter the Amount you Contributed To Their Support",?65,"|Rehabilitation or Training (tuition, books, materials, etc.)"
"RTN","EASEZPF2",46,0)
 ;
"RTN","EASEZPF2",47,0)
 W !?4,"Spouse $ ",$P(@EASD@(12),U),?26,"Child $ ",$P(@EASD@(12),U,2),?65,"|   $ ",@EASD@(13)
"RTN","EASEZPF2",48,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",49,0)
 ;
"RTN","EASEZPF2",50,0)
 W !,"14. Was Child Permanently And Totally Disabled Before",?65,"|15. If Child is Between 18 and 23 Years Of Age, Did Child"
"RTN","EASEZPF2",51,0)
 W !,"The Age Of 18?  ",@EASD@(14),?65,"| Attend School Last Calendar Year?  ",@EASD@(15)
"RTN","EASEZPF2",52,0)
 Q
"RTN","EASEZPF2",53,0)
 ;
"RTN","EASEZPF2",54,0)
FIN ; Print out VA 10-10EZ Section IIB, Financial Disclosure information
"RTN","EASEZPF2",55,0)
 W !,EALNE("DD")
"RTN","EASEZPF2",56,0)
 W !,?50,"IIB - FINANCIAL DISCLOSURE"
"RTN","EASEZPF2",57,0)
 W !,"You are not required to provide the financial information in this Section. However, current law may require VA to consider your"
"RTN","EASEZPF2",58,0)
 W !,"household financial situation to determine your eligibility for enrollment and/or cost-free care of your nonservice-connected"
"RTN","EASEZPF2",59,0)
 W !,"(NSC) conditions. If you are 0% SC noncompensable or NSC (and are not an Ex-POW, WWI veteran or VA pensioner) and your"
"RTN","EASEZPF2",60,0)
 W !,"annual household income (or combined income net worth) exceeds the established threshold, you must agree to pay VA co-payments"
"RTN","EASEZPF2",61,0)
 W !,"for care of your NSC conditions to be eligible for enrollment.  See Section III - Consent and Signature"
"RTN","EASEZPF2",62,0)
 ;
"RTN","EASEZPF2",63,0)
 S (EAY,EAN)="___"
"RTN","EASEZPF2",64,0)
 S:EAINFO("DISC")="YES" EAY=" X "
"RTN","EASEZPF2",65,0)
 S:EAINFO("DISC")="NO" EAN=" X "
"RTN","EASEZPF2",66,0)
 ;
"RTN","EASEZPF2",67,0)
 W !!?4,EAY," YES, I WILL PROVIDE SPECIFIC INCOME AND/OR ASSET INFORMATION TO HAVE ELIGIBILITY FOR CARE DETERMINED. Complete all"
"RTN","EASEZPF2",68,0)
 W !?8,"sections below that apply to you with last calendar year's information.  Sign and date the application."
"RTN","EASEZPF2",69,0)
 W !?4,EAN," NO, I DO NOT WISH TO PROVIDE MY DETAILED FINANCIAL INFORMATION. I understand I will be assigned the appropriate enrollment"
"RTN","EASEZPF2",70,0)
 W !?8,"priority based on nondisclosure of my financial information. By checking NO and signing below, I am agreeing to pay the"
"RTN","EASEZPF2",71,0)
 W !?8,"applicable VA co-payment.  Sign and date the application."
"RTN","EASEZPF2",72,0)
 Q
"RTN","EASEZPF2",73,0)
 ;
"RTN","EASEZPF2",74,0)
INC ; Print out VA 10-10EZ Section IIC, Gross Annual Income information
"RTN","EASEZPF2",75,0)
 W !,EALNE("DD")
"RTN","EASEZPF2",76,0)
 W !?17,"IIC - PREVIOUS CALENDAR YEAR GROSS ANNUAL INCOME OF VETERAN, SPOUSE AND DEPENDENT CHILDREN"
"RTN","EASEZPF2",77,0)
 ;
"RTN","EASEZPF2",78,0)
 W !?73,"|  VETERAN",?90,"|   SPOUSE",?110,"|  CHILDREN"
"RTN","EASEZPF2",79,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",80,0)
 ;
"RTN","EASEZPF2",81,0)
 W !,"1. What Was Your Gross Annual Income From Employment (wages, bonuses,"
"RTN","EASEZPF2",82,0)
 W !,"tips, etc), As Well as Income From Your Farm, Ranch, Property or Business",?73,"| $ "
"RTN","EASEZPF2",83,0)
 W $P(@EASD@("2C1"),U),?90,"| $ ",$P(@EASD@("2C1"),U,2),?110,"| $ ",$P(@EASD@("2C1"),U,3)
"RTN","EASEZPF2",84,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",85,0)
 ;
"RTN","EASEZPF2",86,0)
 W !,"2. List Other Income Amounts (Social Security, compensation, pension,"
"RTN","EASEZPF2",87,0)
 W !,"interest, dividends) Exclude Welfare.",?73,"| $ "
"RTN","EASEZPF2",88,0)
 W $P(@EASD@("2C2"),U),?90,"| $ ",$P(@EASD@("2C2"),U,2),?110,"| $ ",$P(@EASD@("2C2"),U,3)
"RTN","EASEZPF2",89,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",90,0)
 ;
"RTN","EASEZPF2",91,0)
 W !,"3. Was Income From Your Farm, Ranch, Property or Business (if yes, refer to page 2, Section IIC of the instructions.)  ",@EASD@("2C3")
"RTN","EASEZPF2",92,0)
 ;
"RTN","EASEZPF2",93,0)
 Q
"RTN","EASEZPF2",94,0)
 ;
"RTN","EASEZPF2",95,0)
EXP ; Print out VA 10-10EZ Section IID, Deductible Expense Information
"RTN","EASEZPF2",96,0)
 W !,EALNE("DD")
"RTN","EASEZPF2",97,0)
 W !?50,"IID - DEDUCTIBLE EXPENSES"
"RTN","EASEZPF2",98,0)
 W !,"1. Non-Reimbursed Medical Expenses Paid By You or Your Spouse (payments for doctors, dentists, drugs,"
"RTN","EASEZPF2",99,0)
 W !,"Medicare, health insurance, hospital and nursing home)",?110,"| $ ",@EASD@("2D1")
"RTN","EASEZPF2",100,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",101,0)
 ;
"RTN","EASEZPF2",102,0)
 W !,"2. Amount You Paid Last Calendar Year For Funeral And Burial Expenses For Deceased Spouse or Dependent"
"RTN","EASEZPF2",103,0)
 W !,"Child (also enter spouse or child's information in Section IIA)",?110,"| $ ",@EASD@("2D2")
"RTN","EASEZPF2",104,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",105,0)
 ;
"RTN","EASEZPF2",106,0)
 W !,"3. Amount You Paid Last Calendar Year For YOUR College or Vocational Educational Expenses (tutition, books,"
"RTN","EASEZPF2",107,0)
 W !,"fees, materials, etc.) Do Not List Your Dependent's Educational Expenses.",?110,"| $ ",@EASD@("2D3")
"RTN","EASEZPF2",108,0)
 ;
"RTN","EASEZPF2",109,0)
 Q
"RTN","EASEZPF2",110,0)
NET ; Print out VA 10-10EZ Section IIE, Net Worth Information
"RTN","EASEZPF2",111,0)
 W !,EALNE("DD")
"RTN","EASEZPF2",112,0)
 W !?50,"IIE - NET WORTH"
"RTN","EASEZPF2",113,0)
 W !?91,"|  VETERAN",?110,"|   SPOUSE"
"RTN","EASEZPF2",114,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",115,0)
 ;
"RTN","EASEZPF2",116,0)
 W !,"1. Cash, Amount In Bank Accounts (checking and savings accounts, certificates of deposit,"
"RTN","EASEZPF2",117,0)
 W !,"individual retirement accounts, etc.)",?91,"| $ ",$P(@EASD@("2E1"),U),?110,"| $ ",$P(@EASD@("2E1"),U,2)
"RTN","EASEZPF2",118,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",119,0)
 ;
"RTN","EASEZPF2",120,0)
 W !,"2. Market Value Of Land And Buildings MINUS Mortgages And Liens.  Do NOT COUNT YOUR"
"RTN","EASEZPF2",121,0)
 W !,"PRIMARY HOME.  Include value of farm, ranch, or business assets.",?91,"| $ ",$P(@EASD@("2E2"),U),?110,"| $ ",$P(@EASD@("2E2"),U,2)
"RTN","EASEZPF2",122,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF2",123,0)
 ;
"RTN","EASEZPF2",124,0)
 W !,"3. Stocks And Bonds AND Value Of Other Property or Assets (art, rare coins, etc.) MINUS"
"RTN","EASEZPF2",125,0)
 W !,"The Amount You Owe On These Items. Exclude household effects and family vehicles.",?91,"| $ ",$P(@EASD@("2E3"),U),?110,"| $ ",$P(@EASD@("2E3"),U,2)
"RTN","EASEZPF2",126,0)
 Q
"RTN","EASEZPF3")
0^16^B38192029
"RTN","EASEZPF3",1,0)
EASEZPF3 ; ALB/SCK - Print 1010EZ Enrollment Form Cont. ; 10/25/2000
"RTN","EASEZPF3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZPF3",3,0)
 ;
"RTN","EASEZPF3",4,0)
EN(EALNE,EAINFO) ;
"RTN","EASEZPF3",5,0)
 N EASIGN
"RTN","EASEZPF3",6,0)
 ;
"RTN","EASEZPF3",7,0)
 I $$GET1^DIQ(712,EAINFO("EASAPP")_",",4)]"" D
"RTN","EASEZPF3",8,0)
 . S EASIGN=$$GET1^DIQ(712,EAINFO("EASAPP")_",",4.1)
"RTN","EASEZPF3",9,0)
 S EASIGN=$G(EASIGN)
"RTN","EASEZPF3",10,0)
 ;
"RTN","EASEZPF3",11,0)
 D HDR^EASEZPF(.EALNE,.EAINFO)
"RTN","EASEZPF3",12,0)
 D REL
"RTN","EASEZPF3",13,0)
 D CON
"RTN","EASEZPF3",14,0)
 D FT^EASEZPF(.EALNE,.EAINFO)
"RTN","EASEZPF3",15,0)
 ;
"RTN","EASEZPF3",16,0)
 Q
"RTN","EASEZPF3",17,0)
 ;
"RTN","EASEZPF3",18,0)
REL ;
"RTN","EASEZPF3",19,0)
 W !?55,"SECTION III",!,EALNE("DD")
"RTN","EASEZPF3",20,0)
 W !,?50,"CONSENT TO RELEASE INFORMATION"
"RTN","EASEZPF3",21,0)
 W !!,"I hereby authorize the Department of Veterans Affairs to disclose any such history, diagnostic and treatment information from"
"RTN","EASEZPF3",22,0)
 W !,"my medical records (including information relating to the diagnosis, treatment of other therapy for the conditions of"
"RTN","EASEZPF3",23,0)
 W !,"substance abuse, alcoholism or alcohol abuse, sickle cell anemia, or testing for or infection with the human immunodeficiency"
"RTN","EASEZPF3",24,0)
 W !,"virus) to the contractor of any health plan contract under which I am apparently eligible for medical care or payment of the"
"RTN","EASEZPF3",25,0)
 W !,"expense of care or to any other party against whom liability is asserted. I understand that I may revoke this authorization"
"RTN","EASEZPF3",26,0)
 W !,"at any time, except to the extent that action has already been taken in reliance on it. Without my express revocation, this"
"RTN","EASEZPF3",27,0)
 W !,"consent will automatically expire when all action arising from VA's claim for reimbursement for my medical care has been"
"RTN","EASEZPF3",28,0)
 W !,"completed.  I authorize payment of medical benefits to VA for any services for which payment is accepted."
"RTN","EASEZPF3",29,0)
 ;
"RTN","EASEZPF3",30,0)
 W !,EALNE("D")
"RTN","EASEZPF3",31,0)
 W !,"SOCIAL SECURITY NUMBER  ",EAINFO("SSN"),?80,"| DATE OF BIRTH  ",$G(^TMP("EASEZ",$J,1,7))
"RTN","EASEZPF3",32,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF3",33,0)
 W !,"SIGNATURE OF PATIENT",?80,"| DATE (mm/dd/yyyy)",!
"RTN","EASEZPF3",34,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF3",35,0)
 W !!,EALNE("D"),!?50,"III - CONSENT AND SIGNATURE"
"RTN","EASEZPF3",36,0)
 W !?30,"ALL APPLICANTS MUST SIGN AND DATE THE APPLICATION FOR HEALTH BENEFITS"
"RTN","EASEZPF3",37,0)
 W !,EALNE("D")
"RTN","EASEZPF3",38,0)
 W !,"The Paperwork Reduction Act of 1995 requires us to notify you that this information collection is in accordance with the"
"RTN","EASEZPF3",39,0)
 W !,"clearance requirements of section 3507 of the Paperwork Reduction Act of 1995. We may not conduct or sponsor, and you are"
"RTN","EASEZPF3",40,0)
 W !,"not required to respond to, a collection of information unless it displays a valid OMB number.  We anticipate that the"
"RTN","EASEZPF3",41,0)
 W !,"time expended by all individuals who must complete this form will average 20 minutes. This includes the time it will take"
"RTN","EASEZPF3",42,0)
 W !,"to read instructions, gather the necessary facts and fill out the form."
"RTN","EASEZPF3",43,0)
 W !!,"Privacy Act Information: The VA is asking you to provide the information on this form under Title 38, United States Code, "
"RTN","EASEZPF3",44,0)
 W !,"sections 1710, 1712, and 1722 in order for VA to determine your eligibility for medical benefits. The information you supply"
"RTN","EASEZPF3",45,0)
 W !,"may be verified through a computer-matching program. VA may disclose the information that you put on the form as permitted by"
"RTN","EASEZPF3",46,0)
 W !,"law. VA may make a ""routine use"" disclosure for: civil or criminal law enforcement, congressional communications, "
"RTN","EASEZPF3",47,0)
 W !,"epidemiological or research studies, the collection of money owed to the United States, litigation in which the United States"
"RTN","EASEZPF3",48,0)
 W !,"is a party or has interest, the administration of VA programs and delivery of VA benefits, verification of identity and status,"
"RTN","EASEZPF3",49,0)
 W !,"and personnel administration. You do not have to provide the information to VA, but if you don't, we will be unable to "
"RTN","EASEZPF3",50,0)
 W !,"process your request and serve your medical needs. Failure to furnish the information will not have any affect on any other "
"RTN","EASEZPF3",51,0)
 W !,"benefits to which you may be entitled. If you give VA your Social Security Number, VA will use it to administer your VA "
"RTN","EASEZPF3",52,0)
 W !,"benefits, to identify veterans and persons claiming or receiving VA benefits and their records, and for other purposes "
"RTN","EASEZPF3",53,0)
 W !,"authorized or required by law."
"RTN","EASEZPF3",54,0)
 Q
"RTN","EASEZPF3",55,0)
 ;
"RTN","EASEZPF3",56,0)
CON ;
"RTN","EASEZPF3",57,0)
 W !!,"CO-PAYMENT NOTICE: If you are a 0% service-connected noncompensable or a nonservice-connected veteran (and are not an"
"RTN","EASEZPF3",58,0)
 W !,"Ex-POW, WWI veteran or VA pensioner) AND your household income (or combined income and net worth) exceeds the established"
"RTN","EASEZPF3",59,0)
 W !,"threshold, you may be eligible for enrollment only if you agree to pay VA co-payments for treatment of your NSC conditions."
"RTN","EASEZPF3",60,0)
 W !,"By signing this application you are agreeing to pay the applicable VA co-payment if required by law.",!
"RTN","EASEZPF3",61,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF3",62,0)
 W !,?5,"I CERTIFY THE FOREGOING STATEMENT(S) ARE TRUE AND CORRECT TO THE BEST OF MY KNOWLEDGE AND ABILITY.",?110,"|Date (mm/dd/yyyy)"
"RTN","EASEZPF3",63,0)
 W !?110,"|",!,"SIGN HERE   "
"RTN","EASEZPF3",64,0)
 I $G(EASIGN)]"" W "SIGNATURE OF APPLICANT OR APPLICANT'S REPRESENTATIVE HAS BEEN VERIFIED",?110,"| ",EASIGN
"RTN","EASEZPF3",65,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZPF3",66,0)
 ;
"RTN","EASEZPF3",67,0)
 W !,EALNE("DD"),!?24,"THE LAW PROVIDES SEVERE PENALTIES FOR WILLFUL SUBMISSION OF FALSE INFORMATION."
"RTN","EASEZPF3",68,0)
 Q
"RTN","EASEZPU")
0^17^B47396523
"RTN","EASEZPU",1,0)
EASEZPU ; ALB/SCK - Format VA10-10EZ print output utility ; 10/23/00
"RTN","EASEZPU",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZPU",3,0)
 ;
"RTN","EASEZPU",4,0)
 Q
"RTN","EASEZPU",5,0)
 ;
"RTN","EASEZPU",6,0)
PAGE1 ;  This function retrieves and formats the page 1 application data from the 1010EZ Holding File, #712,
"RTN","EASEZPU",7,0)
 ;  for the printed version of the Vista 10-10EZ form.  If the hoding file entry has not been
"RTN","EASEZPU",8,0)
 ;  accepted, and a vista entry is available, the vista entry is printed.
"RTN","EASEZPU",9,0)
 ;  The ^TMP("EZTEMP") global is built in SETUP^EASEZPF and remains until the printed
"RTN","EASEZPU",10,0)
 ; form is complete.
"RTN","EASEZPU",11,0)
 ; Variables
"RTN","EASEZPU",12,0)
 ;   ZDATA   - Variable which references the TMP global for the output data.
"RTN","EASEZPU",13,0)
 ;   EZDATA  - Variable which references the available data from the 1010EZ holding file
"RTN","EASEZPU",14,0)
 ;   EAX     - Temporary data variable
"RTN","EASEZPU",15,0)
 ;   EASTR   - Temporary String data variable
"RTN","EASEZPU",16,0)
 ;
"RTN","EASEZPU",17,0)
 N ZDATA,EZDATA,EAX,EASTR,X
"RTN","EASEZPU",18,0)
 ;
"RTN","EASEZPU",19,0)
 S EZDATA="^TMP(""EZTEMP"",$J,""I"",1)"
"RTN","EASEZPU",20,0)
 S ZDATA="^TMP(""EASEZ"",$J,1)"
"RTN","EASEZPU",21,0)
 K @ZDATA
"RTN","EASEZPU",22,0)
 ;
"RTN","EASEZPU",23,0)
 S EASTR="" F EAX="1A.1","1A.2","1A.3","1A.4","1A.5" D
"RTN","EASEZPU",24,0)
 . I $$PROCESS(EAX)="YES" S EASTR=EASTR_$$BENEFIT(EAX)_", "
"RTN","EASEZPU",25,0)
 S @ZDATA@("1A")=EASTR
"RTN","EASEZPU",26,0)
 ;
"RTN","EASEZPU",27,0)
 S @ZDATA@("1B")=$$PROCESS("1B.")
"RTN","EASEZPU",28,0)
 S @ZDATA@(2)=$$PROCESS(2.1)
"RTN","EASEZPU",29,0)
 S @ZDATA@(3)=$E($$PROCESS("3."),1,35)
"RTN","EASEZPU",30,0)
 S @ZDATA@(4)=$$PROCESS("4.")
"RTN","EASEZPU",31,0)
 S @ZDATA@(5)=$$PROCESS("5.")
"RTN","EASEZPU",32,0)
 S @ZDATA@(6)=$$PROCESS("6.")
"RTN","EASEZPU",33,0)
 S @ZDATA@(7)=$$PROCESS("7.")
"RTN","EASEZPU",34,0)
 S @ZDATA@(8)=$$PROCESS("8.")
"RTN","EASEZPU",35,0)
 S @ZDATA@("9A")=$E($$PROCESS("9A."),1,35)
"RTN","EASEZPU",36,0)
 S @ZDATA@("9B")=$E($$PROCESS("9B."),1,32)
"RTN","EASEZPU",37,0)
 S @ZDATA@("9C")=$$PROCESS("9C.")
"RTN","EASEZPU",38,0)
 S @ZDATA@("9D")=$$PROCESS("9D.")
"RTN","EASEZPU",39,0)
 S @ZDATA@("9E")=$$PROCESS("9E.")
"RTN","EASEZPU",40,0)
 S @ZDATA@(10)=$$PROCESS("10.1")
"RTN","EASEZPU",41,0)
 S @ZDATA@(11)=$$PROCESS("11.1")
"RTN","EASEZPU",42,0)
 S @ZDATA@(12)=$$PROCESS("12.")
"RTN","EASEZPU",43,0)
 S @ZDATA@("13A")=$$PROCESS("13A.")
"RTN","EASEZPU",44,0)
 S @ZDATA@("13B")=$$PROCESS("13B.")
"RTN","EASEZPU",45,0)
 S @ZDATA@("13C")=$$PROCESS("13C.")
"RTN","EASEZPU",46,0)
 S @ZDATA@("13D")=$$PROCESS("13D.")
"RTN","EASEZPU",47,0)
 S @ZDATA@("13E")=$$PROCESS("13E.")
"RTN","EASEZPU",48,0)
 ;
"RTN","EASEZPU",49,0)
 K EAX
"RTN","EASEZPU",50,0)
 F EAX="14A1","14A2","14B","14C","14D","14D1","14D2","14E","14F","14G","14H","14I","14J","14K","14L" D
"RTN","EASEZPU",51,0)
 . S X=$$PROCESS(EAX_".")
"RTN","EASEZPU",52,0)
 . S @ZDATA@(EAX)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU",53,0)
 ;
"RTN","EASEZPU",54,0)
 S @ZDATA@("14B1")=$$PROCESS("14B1.")
"RTN","EASEZPU",55,0)
 S @ZDATA@("14K1")=$$PROCESS("14K1.")
"RTN","EASEZPU",56,0)
 S @ZDATA@("14L1")=$$PROCESS("14L1.")
"RTN","EASEZPU",57,0)
 S @ZDATA@("14M")=$$PROCESS("14M.")
"RTN","EASEZPU",58,0)
 S @ZDATA@("14N")=$$PROCESS("14N.")
"RTN","EASEZPU",59,0)
 S @ZDATA@("15A")=$$PROCESS("15A.1")_"^"_$$PROCESS("15A.2")
"RTN","EASEZPU",60,0)
 ;
"RTN","EASEZPU",61,0)
 K EAX
"RTN","EASEZPU",62,0)
 S EAX=$E($$PROCESS("15B.1"),1,30)
"RTN","EASEZPU",63,0)
 S EAX=EAX_"^"_$E($$PROCESS("15B.2"),1,30)_" "_$E($$PROCESS("15B.3"),1,30)_" "_$$PROCESS("15B.4")_" "_$E($$PROCESS("15B.5"),1,10)_"^"_$$PROCESS("15B.6")
"RTN","EASEZPU",64,0)
 S @ZDATA@("15B")=EAX
"RTN","EASEZPU",65,0)
 ;
"RTN","EASEZPU",66,0)
 S @ZDATA@("16A")=$$PROCESS("16A.1")_U_$$PROCESS("16A.2")
"RTN","EASEZPU",67,0)
 ;
"RTN","EASEZPU",68,0)
 K EAX
"RTN","EASEZPU",69,0)
 S EAX=$E($$PROCESS("16B.1"),1,30)
"RTN","EASEZPU",70,0)
 S EAX=EAX_"^"_$E($$PROCESS("16B.2"),1,30)_" "_$E($$PROCESS("16B.3"),1,30)_" "_$$PROCESS("16B.4")_" "_$E($$PROCESS("16B.5"),1,10)_"^"_$$PROCESS("16B.6")
"RTN","EASEZPU",71,0)
 S @ZDATA@("16B")=EAX
"RTN","EASEZPU",72,0)
 ;
"RTN","EASEZPU",73,0)
 S X=$$PROCESS("17.")
"RTN","EASEZPU",74,0)
 S @ZDATA@(17)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU",75,0)
 ;
"RTN","EASEZPU",76,0)
 S @ZDATA@("17A")=$$PROCESS("17A.")
"RTN","EASEZPU",77,0)
 S @ZDATA@("17B")=$E($$PROCESS("17B."),1,30)
"RTN","EASEZPU",78,0)
 S @ZDATA@("17C")=$$PROCESS("17C.")
"RTN","EASEZPU",79,0)
 S @ZDATA@("17D")=$$PROCESS("17D.")
"RTN","EASEZPU",80,0)
 ;
"RTN","EASEZPU",81,0)
 S X=$$PROCESS("18.")
"RTN","EASEZPU",82,0)
 S @ZDATA@(18)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU",83,0)
 ;
"RTN","EASEZPU",84,0)
 S @ZDATA@("18A")=$$PROCESS("18A.")
"RTN","EASEZPU",85,0)
 S @ZDATA@("18B")=$E($$PROCESS("18B."),1,30)
"RTN","EASEZPU",86,0)
 S @ZDATA@("18C")=$$PROCESS("18C.")
"RTN","EASEZPU",87,0)
 S @ZDATA@("18D")=$$PROCESS("18D.")
"RTN","EASEZPU",88,0)
 ;
"RTN","EASEZPU",89,0)
 S @ZDATA@("19A")=$$PROCESS("19A.1")_"^"_$E($$PROCESS("19A.3"),1,30)_", "_$E($$PROCESS("19A.4"),1,30)_" "_$$PROCESS("19A.5")_" "_$E($$PROCESS("19A.6"),1,10)_"^"_$$PROCESS("19A.7")
"RTN","EASEZPU",90,0)
 S @ZDATA@("19B")=$$PROCESS("19B.1")
"RTN","EASEZPU",91,0)
 S @ZDATA@("19C")=$$PROCESS("19C.1")
"RTN","EASEZPU",92,0)
 ;
"RTN","EASEZPU",93,0)
 S @ZDATA@("20A")=$$PROCESS("20A.1")_"^"_$E($$PROCESS("20A.3"),1,30)_", "_$E($$PROCESS("20A.4"),1,30)_" "_$$PROCESS("20A.5")_" "_$E($$PROCESS("20A.6"),1,10)_"^"_$$PROCESS("20A.7")
"RTN","EASEZPU",94,0)
 S @ZDATA@("20B")=$$PROCESS("20B.1")
"RTN","EASEZPU",95,0)
 S @ZDATA@("20C")=$$PROCESS("20C.1")
"RTN","EASEZPU",96,0)
 ;
"RTN","EASEZPU",97,0)
 S @ZDATA@("21")=$$PROCESS("21.")
"RTN","EASEZPU",98,0)
 S X=$$PROCESS("22A.")
"RTN","EASEZPU",99,0)
 S @ZDATA@("22A")=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",(X="UNKNOWN"):"UNK",1:"")
"RTN","EASEZPU",100,0)
 ;
"RTN","EASEZPU",101,0)
 S X=$$PROCESS("22B.")
"RTN","EASEZPU",102,0)
 S @ZDATA@("22B")=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",(X="UNKNOWN"):"UNK",1:"")
"RTN","EASEZPU",103,0)
 Q
"RTN","EASEZPU",104,0)
 ;
"RTN","EASEZPU",105,0)
PAGE2 ;  Retrieve page 2 data and format for output on 10-10EZ form
"RTN","EASEZPU",106,0)
 ;
"RTN","EASEZPU",107,0)
 ; Variables
"RTN","EASEZPU",108,0)
 ;   ZDATA, EZDATA, EAX - See above
"RTN","EASEZPU",109,0)
 ;   EAV, EAS, EAC, X12A, X12B  - temporary storage variables
"RTN","EASEZPU",110,0)
 ;
"RTN","EASEZPU",111,0)
 N ZDATA,EZDATA,X,EAX,EAV,EAS,EAC,X12A,X12B
"RTN","EASEZPU",112,0)
 ;
"RTN","EASEZPU",113,0)
 S ZDATA="^TMP(""EASEZ"",$J,2)"
"RTN","EASEZPU",114,0)
 K @ZDATA
"RTN","EASEZPU",115,0)
 ;
"RTN","EASEZPU",116,0)
 ; Process Section IIA
"RTN","EASEZPU",117,0)
 S EZDATA="^TMP(""EZTEMP"",$J,""IIA"",1)"
"RTN","EASEZPU",118,0)
 ;
"RTN","EASEZPU",119,0)
 S @ZDATA@(1)=$$PROCESS(1.1)
"RTN","EASEZPU",120,0)
 S @ZDATA@(2)=$$PROCESS(2.1)
"RTN","EASEZPU",121,0)
 S @ZDATA@(3)=$$PROCESS("3.")
"RTN","EASEZPU",122,0)
 S @ZDATA@(4)=$$PROCESS("4.")
"RTN","EASEZPU",123,0)
 S @ZDATA@(5)=$$PROCESS("5.")
"RTN","EASEZPU",124,0)
 S @ZDATA@(6)=$$PROCESS(6.1)_"^"_$$PROCESS(6.2)_" "_$$PROCESS(6.3)_" "_$$PROCESS(6.4)
"RTN","EASEZPU",125,0)
 ;
"RTN","EASEZPU",126,0)
 S @ZDATA@(7)=$$PROCESS("7.")
"RTN","EASEZPU",127,0)
 S @ZDATA@(8)=$$PROCESS(8.1)
"RTN","EASEZPU",128,0)
 S @ZDATA@(9)=$$PROCESS("9.")
"RTN","EASEZPU",129,0)
 S @ZDATA@(10)=$$PROCESS("10.")
"RTN","EASEZPU",130,0)
 S @ZDATA@(11)=$$PROCESS("11.")
"RTN","EASEZPU",131,0)
 ;
"RTN","EASEZPU",132,0)
 S X12A=$$PROCESS(12.1)
"RTN","EASEZPU",133,0)
 S X12B=$$PROCESS(12.2)
"RTN","EASEZPU",134,0)
 S @ZDATA@(12)=X12A_"^"_X12B
"RTN","EASEZPU",135,0)
 ;
"RTN","EASEZPU",136,0)
 S @ZDATA@(13)=$$PROCESS("13.")
"RTN","EASEZPU",137,0)
 ;
"RTN","EASEZPU",138,0)
 S X=$$PROCESS("14.")
"RTN","EASEZPU",139,0)
 S @ZDATA@(14)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU",140,0)
 S X=$$PROCESS("15.")
"RTN","EASEZPU",141,0)
 S @ZDATA@(15)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU",142,0)
 ;
"RTN","EASEZPU",143,0)
 ; Process Section IIC
"RTN","EASEZPU",144,0)
 S EZDATA="^TMP(""EZTEMP"",$J,""IIC"",1)"
"RTN","EASEZPU",145,0)
 ;
"RTN","EASEZPU",146,0)
 S EAV=$$PROCESS(1.1),EAS=$$PROCESS(1.2),EAC=$$PROCESS(1.3)
"RTN","EASEZPU",147,0)
 S @ZDATA@("2C1")=EAV_"^"_EAS_"^"_EAC
"RTN","EASEZPU",148,0)
 ;
"RTN","EASEZPU",149,0)
 K EAV,EAS,EAC
"RTN","EASEZPU",150,0)
 S EAV=$$PROCESS(2.1),EAS=$$PROCESS(2.2),EAC=$$PROCESS(2.3)
"RTN","EASEZPU",151,0)
 S @ZDATA@("2C2")=EAV_"^"_EAS_"^"_EAC
"RTN","EASEZPU",152,0)
 S X=$$PROCESS("3.")
"RTN","EASEZPU",153,0)
 S @ZDATA@("2C3")=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU",154,0)
 ;
"RTN","EASEZPU",155,0)
 ; Process Section IID
"RTN","EASEZPU",156,0)
 S EZDATA="^TMP(""EZTEMP"",$J,""IID"",1)"
"RTN","EASEZPU",157,0)
 ;
"RTN","EASEZPU",158,0)
 S X=$$PROCESS("1."),@ZDATA@("2D1")=X
"RTN","EASEZPU",159,0)
 S X=$$PROCESS("2."),@ZDATA@("2D2")=X
"RTN","EASEZPU",160,0)
 S X=$$PROCESS("3."),@ZDATA@("2D3")=X
"RTN","EASEZPU",161,0)
 ;
"RTN","EASEZPU",162,0)
 ; Process Section IIE
"RTN","EASEZPU",163,0)
 S EZDATA="^TMP(""EZTEMP"",$J,""IIE"",1)"
"RTN","EASEZPU",164,0)
 ;
"RTN","EASEZPU",165,0)
 K EAV,EAS
"RTN","EASEZPU",166,0)
 S EAV=$$PROCESS(1.1),EAS=$$PROCESS(1.2)
"RTN","EASEZPU",167,0)
 S @ZDATA@("2E1")=EAV_"^"_EAS
"RTN","EASEZPU",168,0)
 ;
"RTN","EASEZPU",169,0)
 K EAV,EAS
"RTN","EASEZPU",170,0)
 S EAV=$$PROCESS(2.1),EAS=$$PROCESS(2.2)
"RTN","EASEZPU",171,0)
 S @ZDATA@("2E2")=EAV_"^"_EAS
"RTN","EASEZPU",172,0)
 ;
"RTN","EASEZPU",173,0)
 K EAV,EAS
"RTN","EASEZPU",174,0)
 S EAV=$$PROCESS(3.1),EAS=$$PROCESS(3.2)
"RTN","EASEZPU",175,0)
 S @ZDATA@("2E3")=EAV_"^"_EAS
"RTN","EASEZPU",176,0)
 ;
"RTN","EASEZPU",177,0)
 Q
"RTN","EASEZPU",178,0)
 ;
"RTN","EASEZPU",179,0)
PAGEN(EADEP) ;  Additional dependent pages.  Prints Child data only on page 2 format.
"RTN","EASEZPU",180,0)
 ;
"RTN","EASEZPU",181,0)
 N ZDATA,EZDATA,EAX,X
"RTN","EASEZPU",182,0)
 ;
"RTN","EASEZPU",183,0)
 S ZDATA="^TMP(""EASEZ"",$J,2)"
"RTN","EASEZPU",184,0)
 K @ZDATA
"RTN","EASEZPU",185,0)
 ;
"RTN","EASEZPU",186,0)
 ; Process Section IIA
"RTN","EASEZPU",187,0)
 S EZDATA="^TMP(""EZTEMP"",$J,""IIB"",EADEP)"
"RTN","EASEZPU",188,0)
 ;
"RTN","EASEZPU",189,0)
 S @ZDATA@(1)=""
"RTN","EASEZPU",190,0)
 S @ZDATA@(2)=$$PROCESS(1.1)
"RTN","EASEZPU",191,0)
 S @ZDATA@(3)=""
"RTN","EASEZPU",192,0)
 S @ZDATA@(4)=""
"RTN","EASEZPU",193,0)
 S @ZDATA@(5)=$$PROCESS("3.")
"RTN","EASEZPU",194,0)
 S @ZDATA@(6)=""
"RTN","EASEZPU",195,0)
 S @ZDATA@(7)=$$PROCESS("2.")
"RTN","EASEZPU",196,0)
 S @ZDATA@(8)=""
"RTN","EASEZPU",197,0)
 S @ZDATA@(9)=$$PROCESS("4.")
"RTN","EASEZPU",198,0)
 S @ZDATA@(10)=""
"RTN","EASEZPU",199,0)
 S @ZDATA@(11)=$$PROCESS("5.")
"RTN","EASEZPU",200,0)
 S X=$$PROCESS("6."),@ZDATA@(12)="^"_X
"RTN","EASEZPU",201,0)
 S X=$$PROCESS("7."),@ZDATA@(13)=X
"RTN","EASEZPU",202,0)
 ;
"RTN","EASEZPU",203,0)
 S X=$$PROCESS("8.")
"RTN","EASEZPU",204,0)
 S @ZDATA@(14)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU",205,0)
 S X=$$PROCESS("9.")
"RTN","EASEZPU",206,0)
 S @ZDATA@(15)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU",207,0)
 ;
"RTN","EASEZPU",208,0)
 ; Process Section IIB
"RTN","EASEZPU",209,0)
 S @ZDATA@("2B")=-1
"RTN","EASEZPU",210,0)
 ;
"RTN","EASEZPU",211,0)
 F EAX="2C1","2C2","2C3","2D1","2D2","2D3","2E1","2E2","2E3" S @ZDATA@(EAX)=""
"RTN","EASEZPU",212,0)
 Q
"RTN","EASEZPU",213,0)
 ;
"RTN","EASEZPU",214,0)
PROCESS(KEY) ; Process data value form EXTEMP array, take #712 value if it's accepted,
"RTN","EASEZPU",215,0)
 ; otherwise take the Patient File value
"RTN","EASEZPU",216,0)
 ;
"RTN","EASEZPU",217,0)
 N EAV,RSLT
"RTN","EASEZPU",218,0)
 ;
"RTN","EASEZPU",219,0)
 I '$D(@EZDATA@(KEY)) G PQ
"RTN","EASEZPU",220,0)
 S EAV=@EZDATA@(KEY)
"RTN","EASEZPU",221,0)
 S RSLT=$S(+$P(EAV,U,3):$P(EAV,U,2),1:$P(EAV,U,5))
"RTN","EASEZPU",222,0)
 ;S RSLT=$P(EAV,U,2)
"RTN","EASEZPU",223,0)
PQ Q $G(RSLT)
"RTN","EASEZPU",224,0)
 ;
"RTN","EASEZPU",225,0)
BENEFIT(X) ; Return External format of benefit applied for for printing on the VA 1010EZ form.
"RTN","EASEZPU",226,0)
 ;
"RTN","EASEZPU",227,0)
 Q $S(X="1A.1":"HEALTH SERVICES",X="1A.2":"NURSING HOME",X="1A.3":"DOMICILIARY",X="1A.4":"DENTAL",X="1A.5":"ENROLLMENT",1:"")
"RTN","EASEZQ")
0^28^B27486542
"RTN","EASEZQ",1,0)
EASEZQ ;ALB/jap - 1010EZ Quick Lookup ;02/26/2001  13:07
"RTN","EASEZQ",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZQ",3,0)
 ;
"RTN","EASEZQ",4,0)
EN ;Main entry point from 1010EZ menu option
"RTN","EASEZQ",5,0)
 N X,Y,DIC,DA,OUT,DTOUT,DUOUT
"RTN","EASEZQ",6,0)
 ;Ask user to select processing status
"RTN","EASEZQ",7,0)
 W @IOF
"RTN","EASEZQ",8,0)
 W !,"10-10EZ Application Quick Lookup --",!
"RTN","EASEZQ",9,0)
 W !,"At the prompt, you may enter any one of the following:"
"RTN","EASEZQ",10,0)
 W !!,?5,"(1) Application ID"
"RTN","EASEZQ",11,0)
 W !,?5,"    Example: 158"
"RTN","EASEZQ",12,0)
 W !!,?5,"(2) Web Submission ID"
"RTN","EASEZQ",13,0)
 W !,?5,"    Example: 4537-15222-2001"
"RTN","EASEZQ",14,0)
 W !,?5,"             Hyphens must appear just as received from"
"RTN","EASEZQ",15,0)
 W !,?5,"             the On-Line 1010-EZ application."
"RTN","EASEZQ",16,0)
 W !!,?5,"(3) Applicant Name"
"RTN","EASEZQ",17,0)
 W !,?5,"    Examples: SMITH,JOHN R"
"RTN","EASEZQ",18,0)
 W !,?5,"              JONES,D"
"RTN","EASEZQ",19,0)
 W !,?5,"              No space between last and first name."
"RTN","EASEZQ",20,0)
 W !!,?5,"(4) Applicant SSN"
"RTN","EASEZQ",21,0)
 W !,?5,"    Example: ***********"
"RTN","EASEZQ",22,0)
 W !,?5,"             Must be entered as nnn-nn-nnnn."
"RTN","EASEZQ",23,0)
 W !
"RTN","EASEZQ",24,0)
 ;do lookup
"RTN","EASEZQ",25,0)
 S OUT=0 F  D  Q:OUT
"RTN","EASEZQ",26,0)
 .K X,Y
"RTN","EASEZQ",27,0)
 .S DIC=712,DIC(0)="AEQMZ" D ^DIC
"RTN","EASEZQ",28,0)
 .I ($D(DUOUT))!($D(DTOUT))!(Y=-1) S OUT=1 Q
"RTN","EASEZQ",29,0)
 .I Y>0 D DISPLAY K X,Y
"RTN","EASEZQ",30,0)
 D KILL^%ZISS
"RTN","EASEZQ",31,0)
 Q
"RTN","EASEZQ",32,0)
 ;
"RTN","EASEZQ",33,0)
DISPLAY ;display application data
"RTN","EASEZQ",34,0)
 N APPNO,WEBID,APPNM,APPSSN,APPDOB,RECDT,NEWPT,EXPECT,FIDIS,CURR,COMM,ARRAY,DA,DIQ,DIC,DR,XX
"RTN","EASEZQ",35,0)
 S X="IORVON;IORVOFF" D ENDR^%ZISS
"RTN","EASEZQ",36,0)
 W @IOF
"RTN","EASEZQ",37,0)
 I $G(Y(0))'="" D
"RTN","EASEZQ",38,0)
 .S APPNO=$P(Y(0),U,1),WEBID=$P(Y(0),U,2),APPNM=$P(Y(0),U,4)
"RTN","EASEZQ",39,0)
 .S APPSSN=$P($P(Y(0),U,5),"&",1),APPDOB=$P($P(Y(0),U,5),"&",2)
"RTN","EASEZQ",40,0)
 .S X=$P(Y(0),U,11),NEWPT=$S(X=1:"YES",1:"")
"RTN","EASEZQ",41,0)
 .S X=$P(Y(0),U,13),EXPECT=$S(X=1:"YES",X=0:"NO",1:"")
"RTN","EASEZQ",42,0)
 .S X=$P(Y(0),U,14),FIDIS=$S(X=1:"YES",X=0:"NO",1:"")
"RTN","EASEZQ",43,0)
 .S Y=$P(Y(0),U,6) D DD^%DT S RECDT=Y
"RTN","EASEZQ",44,0)
 .S DIQ="ARRAY",DIQ(0)="E",DA=+APPNO,DR="3.3;4;4.1;4.3;4.4;4.5;5.1;6.1;7.1;9.1;12",DIC=712 D EN^DIQ1
"RTN","EASEZQ",45,0)
 .S X=$$GET1^DIQ(712,APPNO_",",13,"","COMM")
"RTN","EASEZQ",46,0)
 .S X=$$CURRSTAT^EASEZU2(APPNO)
"RTN","EASEZQ",47,0)
 .S CURR=$S(X="CLS":"INACTIVATED",X="FIL":"FILED",X="SIG":"SIGNED",X="PRT":"PRINTED,PENDING SIG.",X="REV":"IN REVIEW",1:"NEW")
"RTN","EASEZQ",48,0)
 .;display screen1 of data
"RTN","EASEZQ",49,0)
 .;line1
"RTN","EASEZQ",50,0)
 .S X=""
"RTN","EASEZQ",51,0)
 .S X=$$SETSTR^VALM1("App #: ",X,1,8),X=$$SETSTR^VALM1(APPNO,X,9,6)
"RTN","EASEZQ",52,0)
 .S X=$$SETSTR^VALM1("Web ID: ",X,40,8),X=$$SETSTR^VALM1(WEBID,X,53,20)
"RTN","EASEZQ",53,0)
 .W !,X
"RTN","EASEZQ",54,0)
 .;line2
"RTN","EASEZQ",55,0)
 .S X=""
"RTN","EASEZQ",56,0)
 .S X=$$SETSTR^VALM1("To: ",X,1,7),XX=$G(ARRAY(712,APPNO,4.5,"E")),X=$$SETSTR^VALM1(XX,X,9,8)
"RTN","EASEZQ",57,0)
 .S X=$$SETSTR^VALM1("Date Rec'd: ",X,40,12),X=$$SETSTR^VALM1(RECDT,X,53,18)
"RTN","EASEZQ",58,0)
 .W !,X
"RTN","EASEZQ",59,0)
 .;line3
"RTN","EASEZQ",60,0)
 .S X=""
"RTN","EASEZQ",61,0)
 .S X=$$SETSTR^VALM1("Status: ",X,1,8),X=$$SETSTR^VALM1(IORVON_CURR_IORVOFF,X,9,30)
"RTN","EASEZQ",62,0)
 .W !,X
"RTN","EASEZQ",63,0)
 .;line4
"RTN","EASEZQ",64,0)
 .S X=""
"RTN","EASEZQ",65,0)
 .S X=$$SETSTR^VALM1("Applicant: ",X,1,11),X=$$SETSTR^VALM1(APPNM,X,12,26)
"RTN","EASEZQ",66,0)
 .S X=$$SETSTR^VALM1("SSN: ",X,40,5),X=$$SETSTR^VALM1(APPSSN,X,45,11)
"RTN","EASEZQ",67,0)
 .S X=$$SETSTR^VALM1("DOB: ",X,61,5),X=$$SETSTR^VALM1(APPDOB,X,66,14)
"RTN","EASEZQ",68,0)
 .W !,X
"RTN","EASEZQ",69,0)
 .W !
"RTN","EASEZQ",70,0)
 .;line5
"RTN","EASEZQ",71,0)
 .S X=""
"RTN","EASEZQ",72,0)
 .S X=$$SETSTR^VALM1("Vet Type: ",X,1,11),XX=$G(ARRAY(712,APPNO,3.3,"E")),X=$$SETSTR^VALM1(XX,X,12,10)
"RTN","EASEZQ",73,0)
 .S X=$$SETSTR^VALM1("Vet new to Vista?:",X,40,22),X=$$SETSTR^VALM1(NEWPT,X,63,4)
"RTN","EASEZQ",74,0)
 .W !,X
"RTN","EASEZQ",75,0)
 .;line6
"RTN","EASEZQ",76,0)
 .S X=""
"RTN","EASEZQ",77,0)
 .S X=$$SETSTR^VALM1("Financial Disclosure: ",X,1,22),X=$$SETSTR^VALM1(FIDIS,X,23,4)
"RTN","EASEZQ",78,0)
 .S X=$$SETSTR^VALM1("Expect copy from vet?:",X,40,22),X=$$SETSTR^VALM1(EXPECT,X,63,4)
"RTN","EASEZQ",79,0)
 .W !,X
"RTN","EASEZQ",80,0)
 .W !
"RTN","EASEZQ",81,0)
 .;line7
"RTN","EASEZQ",82,0)
 .S X=""
"RTN","EASEZQ",83,0)
 .S X=$$SETSTR^VALM1("Review start date: ",X,1,20),XX=$G(ARRAY(712,APPNO,5.1,"E")),X=$$SETSTR^VALM1(XX,X,21,14)
"RTN","EASEZQ",84,0)
 .S X=$$SETSTR^VALM1("Print date: ",X,40,13),XX=$G(ARRAY(712,APPNO,6.1,"E")),X=$$SETSTR^VALM1(XX,X,53,14)
"RTN","EASEZQ",85,0)
 .W !,X
"RTN","EASEZQ",86,0)
 .;line8
"RTN","EASEZQ",87,0)
 .S X=""
"RTN","EASEZQ",88,0)
 .S X=$$SETSTR^VALM1("Sign date: ",X,1,20),XX=$G(ARRAY(712,APPNO,4.1,"E")),X=$$SETSTR^VALM1(XX,X,21,14)
"RTN","EASEZQ",89,0)
 .S X=$$SETSTR^VALM1("File date: ",X,40,13),XX=$G(ARRAY(712,APPNO,7.1,"E")),X=$$SETSTR^VALM1(XX,X,53,14)
"RTN","EASEZQ",90,0)
 .W !,X
"RTN","EASEZQ",91,0)
 .;line9
"RTN","EASEZQ",92,0)
 .S X=""
"RTN","EASEZQ",93,0)
 .S X=$$SETSTR^VALM1("Inactivate date: ",X,1,20),XX=$G(ARRAY(712,APPNO,9.1,"E")),X=$$SETSTR^VALM1(XX,X,21,14)
"RTN","EASEZQ",94,0)
 .W !,X
"RTN","EASEZQ",95,0)
 .W !
"RTN","EASEZQ",96,0)
 .;line10
"RTN","EASEZQ",97,0)
 .S X=""
"RTN","EASEZQ",98,0)
 .S X=$$SETSTR^VALM1("Services Requested: ",X,1,20),XX=$G(ARRAY(712,APPNO,12,"E")),X=$$SETSTR^VALM1(XX,X,21,78)
"RTN","EASEZQ",99,0)
 .W !,X
"RTN","EASEZQ",100,0)
 .;line11
"RTN","EASEZQ",101,0)
 .S X=""
"RTN","EASEZQ",102,0)
 .S X=$$SETSTR^VALM1("Appt. Requested: ",X,1,20),XX=$G(ARRAY(712,APPNO,4.4,"E")),X=$$SETSTR^VALM1(XX,X,21,78)
"RTN","EASEZQ",103,0)
 .W !,X
"RTN","EASEZQ",104,0)
 .;line12
"RTN","EASEZQ",105,0)
 .S X=""
"RTN","EASEZQ",106,0)
 .S X=$$SETSTR^VALM1("e-mail Address: ",X,1,20),XX=$G(ARRAY(712,APPNO,4.3,"E")),X=$$SETSTR^VALM1(XX,X,21,78)
"RTN","EASEZQ",107,0)
 .W !,X
"RTN","EASEZQ",108,0)
 .;end of screen1
"RTN","EASEZQ",109,0)
 .K DIR D PAUSE^VALM1
"RTN","EASEZQ",110,0)
 .Q:X="^"
"RTN","EASEZQ",111,0)
 .;display screen2 of data
"RTN","EASEZQ",112,0)
 .W @IOF
"RTN","EASEZQ",113,0)
 .;line1
"RTN","EASEZQ",114,0)
 .S X=""
"RTN","EASEZQ",115,0)
 .S X=$$SETSTR^VALM1("App #: ",X,1,8),X=$$SETSTR^VALM1(APPNO,X,9,6)
"RTN","EASEZQ",116,0)
 .S X=$$SETSTR^VALM1("Web ID: ",X,40,8),X=$$SETSTR^VALM1(WEBID,X,53,20)
"RTN","EASEZQ",117,0)
 .W !,X
"RTN","EASEZQ",118,0)
 .;line2
"RTN","EASEZQ",119,0)
 .S X=""
"RTN","EASEZQ",120,0)
 .S X=$$SETSTR^VALM1("Status: ",X,1,8),X=$$SETSTR^VALM1(IORVON_CURR_IORVOFF,X,9,30)
"RTN","EASEZQ",121,0)
 .W !,X
"RTN","EASEZQ",122,0)
 .;line3
"RTN","EASEZQ",123,0)
 .S X=""
"RTN","EASEZQ",124,0)
 .S X=$$SETSTR^VALM1("Applicant: ",X,1,11),X=$$SETSTR^VALM1(APPNM,X,12,26)
"RTN","EASEZQ",125,0)
 .W !,X
"RTN","EASEZQ",126,0)
 .W !
"RTN","EASEZQ",127,0)
 .;comments
"RTN","EASEZQ",128,0)
 .W !,"Comments --"
"RTN","EASEZQ",129,0)
 .S I=0 F  S I=$O(COMM(I)) Q:'I  D
"RTN","EASEZQ",130,0)
 ..W !,?3,COMM(I)
"RTN","EASEZQ",131,0)
 ..W !
"RTN","EASEZQ",132,0)
 .K DIR D PAUSE^VALM1
"RTN","EASEZQ",133,0)
 Q
"RTN","EASEZT1")
0^3^B12925628
"RTN","EASEZT1",1,0)
EASEZT1 ;ALB/jap - Data Transformation Logic for 1010EZ Processing ;10/12/00  13:08
"RTN","EASEZT1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZT1",3,0)
 ;
"RTN","EASEZT1",4,0)
 ;
"RTN","EASEZT1",5,0)
NAME(EASAPP,TYPE,MULTIPLE) ;get full name for person of interest
"RTN","EASEZT1",6,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT1",7,0)
 ;         TYPE = "APPLICANT", "SPOUSE", "CHILD1", "CHILD(N)", "NEXT-OF-KIN", "E-CONTACT"
"RTN","EASEZT1",8,0)
 ;     MULTIPLE = default to 1, unless TYPE="CHILD(N)"
"RTN","EASEZT1",9,0)
 ;output  NAME   =  LAST,FIRST MIDDLE SUFFIX
"RTN","EASEZT1",10,0)
 ;
"RTN","EASEZT1",11,0)
 ;sets entire name in Vista format;
"RTN","EASEZT1",12,0)
 ;places result in the first data element associated with name;
"RTN","EASEZT1",13,0)
 ;nulls unneeded ^TMP("EZDATA" nodes to avoid use in SORT^EASEZC3
"RTN","EASEZT1",14,0)
 N RTR,KEY,NAME,LAST,FIRST,MDL,SUFF,T
"RTN","EASEZT1",15,0)
 S NAME=""
"RTN","EASEZT1",16,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" LAST NAME") I KEY D
"RTN","EASEZT1",17,0)
 .S LAST=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT1",18,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" FIRST NAME") I KEY D
"RTN","EASEZT1",19,0)
 .S FIRST=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT1",20,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT1",21,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" MIDDLE NAME") I KEY D
"RTN","EASEZT1",22,0)
 .S MDL=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT1",23,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT1",24,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" SUFFIX NAME") I KEY D
"RTN","EASEZT1",25,0)
 .S SUFF=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT1",26,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT1",27,0)
 I (LAST="")!(FIRST="") Q NAME
"RTN","EASEZT1",28,0)
 S NAME=LAST_","_FIRST
"RTN","EASEZT1",29,0)
 I $L(NAME)+$L(MDL)>45 S MDL=$E(MDL,1)
"RTN","EASEZT1",30,0)
 I MDL'="" S NAME=NAME_" "_MDL
"RTN","EASEZT1",31,0)
 I SUFF'="" S NAME=NAME_" "_SUFF
"RTN","EASEZT1",32,0)
 S NAME=$$UC^EASEZT1($E(NAME,1,45))
"RTN","EASEZT1",33,0)
 Q NAME
"RTN","EASEZT1",34,0)
 ;
"RTN","EASEZT1",35,0)
SSNOUT(EASSSN) ;format ssn for output to display or print
"RTN","EASEZT1",36,0)
 ; input  EASSSN = 9 digit OR 9-digit+P ssn
"RTN","EASEZT1",37,0)
 ; output    SSN = nnn-nn-nnnn OR nnn-nn-nnnnP
"RTN","EASEZT1",38,0)
 N SSN,P,X1,X2,X3
"RTN","EASEZT1",39,0)
 I EASSSN="--" Q ""
"RTN","EASEZT1",40,0)
 I $L(EASSSN)'=9 Q EASSSN
"RTN","EASEZT1",41,0)
 S X1=$E(EASSSN,1,3),X2=$E(EASSSN,4,5),X3=$E(EASSSN,6,9),P=$E(EASSSN,10)
"RTN","EASEZT1",42,0)
 S SSN=X1_"-"_X2_"-"_X3 I P="P" S SSN=SSN_P
"RTN","EASEZT1",43,0)
 Q SSN
"RTN","EASEZT1",44,0)
 ;
"RTN","EASEZT1",45,0)
UC(STRING) ;convert to uppercase
"RTN","EASEZT1",46,0)
 ;input  STRING = alpha character string; mixed-case
"RTN","EASEZT1",47,0)
 ;output      X = alpha character string; uppercase
"RTN","EASEZT1",48,0)
 ;
"RTN","EASEZT1",49,0)
 N %,X
"RTN","EASEZT1",50,0)
 S X=STRING
"RTN","EASEZT1",51,0)
 F %=1:1:$L(X) S:$E(X,%)?1L X=$E(X,0,%-1)_$C($A(X,%)-32)_$E(X,%+1,999)
"RTN","EASEZT1",52,0)
 Q X
"RTN","EASEZT1",53,0)
 ;
"RTN","EASEZT1",54,0)
XDATE(XDATE) ;check date
"RTN","EASEZT1",55,0)
 ;input  XDATE = external date mm/dd/yyyy where
"RTN","EASEZT1",56,0)
 ;               mm, dd, and /or yyyy may be null
"RTN","EASEZT1",57,0)
 ;output    XD = FM external date or null
"RTN","EASEZT1",58,0)
 ;
"RTN","EASEZT1",59,0)
 N X,XD,X1,X2,X3,Y,%DT
"RTN","EASEZT1",60,0)
 I XDATE="//" Q ""
"RTN","EASEZT1",61,0)
 S X1=$P(XDATE,"/",1),X2=$P(XDATE,"/",2),X3=$P(XDATE,"/",3)
"RTN","EASEZT1",62,0)
 ;remove invalid portions
"RTN","EASEZT1",63,0)
 I $L(X3)'=4 S X3=""
"RTN","EASEZT1",64,0)
 I X1="" S X2=""
"RTN","EASEZT1",65,0)
 I X3="" S X1="",X2=""
"RTN","EASEZT1",66,0)
 ;if no month, day, year, then null
"RTN","EASEZT1",67,0)
 I X1="",X2="",X3="" Q ""
"RTN","EASEZT1",68,0)
 S X="" S:X1 X=X_X1_" " S:X2 X=X_X2_" " S X=X_X3
"RTN","EASEZT1",69,0)
 ;convert to FM external format
"RTN","EASEZT1",70,0)
 S %DT="P" D ^%DT
"RTN","EASEZT1",71,0)
 D DD^%DT
"RTN","EASEZT1",72,0)
 S XD=Y
"RTN","EASEZT1",73,0)
 I XD=1699 S XD=""
"RTN","EASEZT1",74,0)
 Q XD
"RTN","EASEZT1",75,0)
 ;
"RTN","EASEZT1",76,0)
YN(XDATA) ;
"RTN","EASEZT1",77,0)
 N X
"RTN","EASEZT1",78,0)
 I $L(XDATA)>1 Q XDATA
"RTN","EASEZT1",79,0)
 S X=$S(XDATA="Y":"YES",XDATA="N":"NO",1:"")
"RTN","EASEZT1",80,0)
 Q X
"RTN","EASEZT1",81,0)
 ;
"RTN","EASEZT1",82,0)
SEX(XDATA) ;
"RTN","EASEZT1",83,0)
 N X
"RTN","EASEZT1",84,0)
 I $L(XDATA)>1 Q XDATA
"RTN","EASEZT1",85,0)
 S X=$S(XDATA="M":"MALE",XDATA="F":"FEMALE",1:"UNKNOWN")
"RTN","EASEZT1",86,0)
 Q X
"RTN","EASEZT1",87,0)
 ;
"RTN","EASEZT1",88,0)
STATE(XDATA) ;
"RTN","EASEZT1",89,0)
 N X,XI
"RTN","EASEZT1",90,0)
 I $L(XDATA)'=2 Q XDATA
"RTN","EASEZT1",91,0)
 I XDATA="AS" Q "AMERICAN SAMOA"
"RTN","EASEZT1",92,0)
 I XDATA="DC" Q "DISTRICT OF COLUMBIA"
"RTN","EASEZT1",93,0)
 I XDATA="FM" Q "FEDERATED STATES OF MICRONESIA"
"RTN","EASEZT1",94,0)
 I XDATA="GU" Q "GUAM"
"RTN","EASEZT1",95,0)
 I XDATA="MH" Q "MARSHALL ISLANDS"
"RTN","EASEZT1",96,0)
 I XDATA="MP" Q "NORTHERN MARIANA ISLANDS"
"RTN","EASEZT1",97,0)
 I XDATA="PW" Q "PALAU (TRUST TERRITORY)"
"RTN","EASEZT1",98,0)
 I XDATA="PR" Q "PUERTO RICO"
"RTN","EASEZT1",99,0)
 I XDATA="VI" Q "VIRGIN ISLANDS"
"RTN","EASEZT1",100,0)
 S XI=$O(^DIC(5,"C",XDATA,0)) I 'XI Q XDATA
"RTN","EASEZT1",101,0)
 S X=$P($G(^DIC(5,XI,0)),U,1)
"RTN","EASEZT1",102,0)
 Q X
"RTN","EASEZT1",103,0)
 ;
"RTN","EASEZT1",104,0)
COUNTY(EASAPP,XDATA) ;include county code
"RTN","EASEZT1",105,0)
 ;this transform can only be used for APPLICANT COUNTY
"RTN","EASEZT1",106,0)
 N X,ABBR,STATE,SIEN,CIEN,CCODE
"RTN","EASEZT1",107,0)
 I XDATA="" Q XDATA
"RTN","EASEZT1",108,0)
 S KEY=+$$KEY711^EASEZU1("APPLICANT STATE")
"RTN","EASEZT1",109,0)
 I 'KEY Q XDATA
"RTN","EASEZT1",110,0)
 S ABBR="",STATE="",SIEN="",CIEN="",CCODE=""
"RTN","EASEZT1",111,0)
 I KEY D
"RTN","EASEZT1",112,0)
 .S ABBR=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1)
"RTN","EASEZT1",113,0)
 .I ABBR'="" S STATE=$$STATE^EASEZT1(ABBR)
"RTN","EASEZT1",114,0)
 .I STATE'="" S SIEN=$O(^DIC(5,"B",STATE,0))
"RTN","EASEZT1",115,0)
 .I SIEN'="" S CIEN=$O(^DIC(5,SIEN,1,"B",XDATA,0))
"RTN","EASEZT1",116,0)
 .I CIEN'="" S CCODE=$P($G(^DIC(5,SIEN,1,CIEN,0)),U,3)
"RTN","EASEZT1",117,0)
 I CCODE'="" S XDATA=XDATA_" ("_CCODE_")"
"RTN","EASEZT1",118,0)
 Q XDATA
"RTN","EASEZT2")
0^18^B10847169
"RTN","EASEZT2",1,0)
EASEZT2 ;ALB/jap - Data Transformation Logic for 1010EZ Processing ;10/12/00  13:08
"RTN","EASEZT2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZT2",3,0)
 ;
"RTN","EASEZT2",4,0)
WORKPH(EASAPP,TYPE) ;
"RTN","EASEZT2",5,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT2",6,0)
 ;         TYPE = "APPLICANT", "SPOUSE", "NEXT-OF-KIN", "E-CONTACT",
"RTN","EASEZT2",7,0)
 ;output  PHONE = formatted work phone or null;
"RTN","EASEZT2",8,0)
 ;                example: (432)987-1234 X123
"RTN","EASEZT2",9,0)
 ;
"RTN","EASEZT2",10,0)
 N PHONE,MULTIPLE,AC,NUM,EXT,KEY,T
"RTN","EASEZT2",11,0)
 S PHONE="",MULTIPLE=1
"RTN","EASEZT2",12,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" WORK PHONE AREA CODE") I KEY D
"RTN","EASEZT2",13,0)
 .S AC=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",14,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" WORK PHONE NUMBER") I KEY D
"RTN","EASEZT2",15,0)
 .S NUM=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",16,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",17,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" WORK PHONE EXTENSION") I KEY D
"RTN","EASEZT2",18,0)
 .S EXT=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",19,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",20,0)
 I AC'="" S AC="("_AC_")"
"RTN","EASEZT2",21,0)
 I NUM="-" S NUM=""
"RTN","EASEZT2",22,0)
 I NUM'="" S:NUM'["-" NUM=$E(NUM,1,3)_"-"_$E(NUM,4,7)
"RTN","EASEZT2",23,0)
 I EXT'="" S EXT=" X"_EXT
"RTN","EASEZT2",24,0)
 I NUM="" Q PHONE
"RTN","EASEZT2",25,0)
 S PHONE=AC_NUM_EXT
"RTN","EASEZT2",26,0)
 Q PHONE
"RTN","EASEZT2",27,0)
 ;
"RTN","EASEZT2",28,0)
HOMEPH(EASAPP,TYPE) ;
"RTN","EASEZT2",29,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT2",30,0)
 ;         TYPE = "APPLICANT", "SPOUSE", "NEXT-OF-KIN", "E-CONTACT"
"RTN","EASEZT2",31,0)
 ;output  PHONE = formatted home phone;
"RTN","EASEZT2",32,0)
 ;                example: (432)987-1234
"RTN","EASEZT2",33,0)
 ;
"RTN","EASEZT2",34,0)
 N PHONE,MULTIPLE,AC,NUM,KEY,T
"RTN","EASEZT2",35,0)
 S PHONE="",MULTIPLE=1
"RTN","EASEZT2",36,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" HOME PHONE AREA CODE") I KEY D
"RTN","EASEZT2",37,0)
 .S AC=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",38,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" HOME PHONE NUMBER") I KEY D
"RTN","EASEZT2",39,0)
 .S NUM=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",40,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",41,0)
 I AC'="" S AC="("_AC_")"
"RTN","EASEZT2",42,0)
 I NUM="-" S NUM=""
"RTN","EASEZT2",43,0)
 I NUM'="" S:NUM'["-" NUM=$E(NUM,1,3)_"-"_$E(NUM,4,7)
"RTN","EASEZT2",44,0)
 I NUM="" Q PHONE
"RTN","EASEZT2",45,0)
 S PHONE=AC_NUM
"RTN","EASEZT2",46,0)
 Q PHONE
"RTN","EASEZT2",47,0)
 ;
"RTN","EASEZT2",48,0)
EMPLPH(EASAPP,TYPE) ;
"RTN","EASEZT2",49,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT2",50,0)
 ;         TYPE = "APPLICANT", "SPOUSE" 
"RTN","EASEZT2",51,0)
 ;output  PHONE = formatted employer phone or null;
"RTN","EASEZT2",52,0)
 ;                example: (432)987-1234 X123
"RTN","EASEZT2",53,0)
 ;
"RTN","EASEZT2",54,0)
 N PHONE,MULTIPLE,AC,NUM,EXT,KET,T
"RTN","EASEZT2",55,0)
 S PHONE="",MULTIPLE=1
"RTN","EASEZT2",56,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" EMPLOYER PHONE AREA CODE") I KEY D
"RTN","EASEZT2",57,0)
 .S AC=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",58,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" EMPLOYER PHONE NUMBER") I KEY D
"RTN","EASEZT2",59,0)
 .S NUM=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",60,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",61,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" EMPLOYER PHONE EXTENSION") I KEY D
"RTN","EASEZT2",62,0)
 .S EXT=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",63,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",64,0)
 I AC'="" S AC="("_AC_")"
"RTN","EASEZT2",65,0)
 I NUM="-" S NUM=""
"RTN","EASEZT2",66,0)
 I NUM'="" S:NUM'["-" NUM=$E(NUM,1,3)_"-"_$E(NUM,4,7)
"RTN","EASEZT2",67,0)
 I EXT'="" S EXT=" X"_EXT
"RTN","EASEZT2",68,0)
 I NUM="" Q PHONE
"RTN","EASEZT2",69,0)
 S PHONE=AC_NUM_EXT
"RTN","EASEZT2",70,0)
 Q PHONE
"RTN","EASEZT2",71,0)
 ;
"RTN","EASEZT2",72,0)
ZIP(XDATA) ;
"RTN","EASEZT2",73,0)
 N X
"RTN","EASEZT2",74,0)
 I XDATA="-" S XDATA=""
"RTN","EASEZT2",75,0)
 I XDATA["-",($L(XDATA)'=10) Q $E(XDATA,1,5)
"RTN","EASEZT2",76,0)
 I $L(XDATA)<5 S XDATA=""
"RTN","EASEZT2",77,0)
 Q XDATA
"RTN","EASEZT2",78,0)
 ;
"RTN","EASEZT2",79,0)
EMPLOY(XDATA) ;
"RTN","EASEZT2",80,0)
 N X
"RTN","EASEZT2",81,0)
 I XDATA="" Q "UNKNOWN"
"RTN","EASEZT2",82,0)
 I XDATA="EMPLOYED" Q "EMPLOYED FULL TIME"
"RTN","EASEZT2",83,0)
 Q XDATA
"RTN","EASEZT2",84,0)
 ;
"RTN","EASEZT2",85,0)
MARR(XDATA) ;
"RTN","EASEZT2",86,0)
 N X
"RTN","EASEZT2",87,0)
 I XDATA="" Q "UNKNOWN"
"RTN","EASEZT2",88,0)
 I XDATA["WIDOW" S XDATA="WIDOW/WIDOWER"
"RTN","EASEZT2",89,0)
 S X=$O(^DIC(11,"B",XDATA,0))
"RTN","EASEZT2",90,0)
 I X="" Q "UNKNOWN"
"RTN","EASEZT2",91,0)
 Q XDATA
"RTN","EASEZT2",92,0)
 ;
"RTN","EASEZT2",93,0)
RELIGION(XDATA) ;
"RTN","EASEZT2",94,0)
 N X
"RTN","EASEZT2",95,0)
 I XDATA="" Q "UNKNOWN/NO PREFERENCE"
"RTN","EASEZT2",96,0)
 S X=$O(^DIC(13,"B",XDATA,0))
"RTN","EASEZT2",97,0)
 I X="" Q "UNKNOWN/NO PREFERENCE"
"RTN","EASEZT2",98,0)
 Q XDATA
"RTN","EASEZT2",99,0)
 ;
"RTN","EASEZT2",100,0)
SVCBRCH(XDATA) ;
"RTN","EASEZT2",101,0)
 N X
"RTN","EASEZT2",102,0)
 I XDATA="" Q "OTHER"
"RTN","EASEZT2",103,0)
 S X=$O(^DIC(23,"B",XDATA,0))
"RTN","EASEZT2",104,0)
 I X="" Q "OTHER"
"RTN","EASEZT2",105,0)
 Q XDATA
"RTN","EASEZU1")
0^4^B15904642
"RTN","EASEZU1",1,0)
EASEZU1 ;ALB/jap - Utilities for 1010EZ Processing ;10/12/00  13:08
"RTN","EASEZU1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZU1",3,0)
 ;
"RTN","EASEZU1",4,0)
KEY711(EASKEY) ;get file #711 record associated with key
"RTN","EASEZU1",5,0)
 ;input  EASKEY = character string equal to a 1010EZ Assigned Data Name OR Data Key
"RTN","EASEZU1",6,0)
 ;output KEYIEN = pointer to file #711 for the 1010EZ data element is 1st piece;
"RTN","EASEZU1",7,0)
 ;                format: ien^Assigned Data Name^Data Key
"RTN","EASEZU1",8,0)
 ;                returns ".1" if EASKEY is invalid, i.e., data element is unknown
"RTN","EASEZU1",9,0)
 ;
"RTN","EASEZU1",10,0)
 N N,KEYIEN,X,XX,Y,DA,DIE,DR
"RTN","EASEZU1",11,0)
 S KEYIEN=""
"RTN","EASEZU1",12,0)
 ;key passed in is Data Key
"RTN","EASEZU1",13,0)
 I EASKEY[".",EASKEY[";" D
"RTN","EASEZU1",14,0)
 .S KEYIEN=$O(^EAS(711,"C",EASKEY,0)) Q:'KEYIEN
"RTN","EASEZU1",15,0)
 .S X=$P(^EAS(711,KEYIEN,0),U,1)
"RTN","EASEZU1",16,0)
 .S KEYIEN=KEYIEN_U_X_U_EASKEY
"RTN","EASEZU1",17,0)
 ;key passed in is Assigned Data Name
"RTN","EASEZU1",18,0)
 I KEYIEN="" D
"RTN","EASEZU1",19,0)
 .S KEYIEN=$O(^EAS(711,"AB",EASKEY,0)) Q:'KEYIEN
"RTN","EASEZU1",20,0)
 .S X=$P(^EAS(711,KEYIEN,0),U,2)
"RTN","EASEZU1",21,0)
 .S KEYIEN=KEYIEN_U_EASKEY_U_X
"RTN","EASEZU1",22,0)
 I KEYIEN="" S KEYIEN=".1"
"RTN","EASEZU1",23,0)
 Q KEYIEN
"RTN","EASEZU1",24,0)
 ;
"RTN","EASEZU1",25,0)
DATA712(EASAPP,EASKEY,EASMM) ;get 1010EZ data associated with data key
"RTN","EASEZU1",26,0)
 ;input  EASAPP  = ien to #712 for Application
"RTN","EASEZU1",27,0)
 ;       EASKEY  = IEN to file #711;
"RTN","EASEZU1",28,0)
 ;                 OR KEYIEN returned by KEY711^EASEZU1
"RTN","EASEZU1",29,0)
 ;       EASMM   = multiple number; default is 1; optional
"RTN","EASEZU1",30,0)
 ;                 pertains to data elements that may be multiple,
"RTN","EASEZU1",31,0)
 ;                 i.e., additional child dependents
"RTN","EASEZU1",32,0)
 ;                 
"RTN","EASEZU1",33,0)
 ;output    RTR  = piece 1 - 1010EZ data associated with Data Key for this Application;
"RTN","EASEZU1",34,0)
 ;                 piece 2 - subrecord ien associated with Data Key for this Application;
"RTN","EASEZU1",35,0)
 ;                 returns ^ if data item not found in this Application
"RTN","EASEZU1",36,0)
 ;
"RTN","EASEZU1",37,0)
 N N,OUT,KEYIEN,MULTIPLE,X,RTR,IN,UP
"RTN","EASEZU1",38,0)
 I '$D(^EAS(712,EASAPP,0)) Q U
"RTN","EASEZU1",39,0)
 ;this is the "unknown" data element
"RTN","EASEZU1",40,0)
 I EASKEY=.1 Q U
"RTN","EASEZU1",41,0)
 I '$G(EASMM) S EASMM=1
"RTN","EASEZU1",42,0)
 S KEYIEN=+EASKEY
"RTN","EASEZU1",43,0)
 S OUT=0,N=0,X="",RTR=U
"RTN","EASEZU1",44,0)
 F  S N=$O(^EAS(712,EASAPP,10,"B",KEYIEN,N)) Q:'N  D  Q:OUT
"RTN","EASEZU1",45,0)
 .S MULTIPLE=$P($G(^EAS(712,EASAPP,10,N,0)),U,2)
"RTN","EASEZU1",46,0)
 .I MULTIPLE=EASMM D
"RTN","EASEZU1",47,0)
 ..;use 'updated' data if present
"RTN","EASEZU1",48,0)
 ..S X=$G(^EAS(712,EASAPP,10,N,1)),IN=$P(X,U,1),UP=$P(X,U,2)
"RTN","EASEZU1",49,0)
 ..S RTR=$S(UP'="":UP,1:IN),RTR=RTR_U_N,OUT=1
"RTN","EASEZU1",50,0)
 Q RTR
"RTN","EASEZU1",51,0)
 ;
"RTN","EASEZU1",52,0)
LINKUP(EASAPP,EASAEL,EASLINK) ;place link into a file #712 Data Element subrecord
"RTN","EASEZU1",53,0)
 ;input  EASAPP  = ien to #712 for Application
"RTN","EASEZU1",54,0)
 ;       EASAEL  = ien to Data Elements subrecord in #712
"RTN","EASEZU1",55,0)
 ;       EASLINK = file ien OR file_ien;subfile_ien to link 1010EZ data
"RTN","EASEZU1",56,0)
 ;                 with existing Patient database record
"RTN","EASEZU1",57,0)
 ;exit if record/subrecord not valid in #712
"RTN","EASEZU1",58,0)
 N DA,DR,DIE,X,Y
"RTN","EASEZU1",59,0)
 Q:'EASAPP  Q:'$D(^EAS(712,EASAPP,0))
"RTN","EASEZU1",60,0)
 Q:'EASAEL  Q:'$D(^EAS(712,EASAPP,10,EASAEL,0))
"RTN","EASEZU1",61,0)
 ;place link in Data Element subrecord of #712
"RTN","EASEZU1",62,0)
 S DA(1)=EASAPP,DA=EASAEL,DR(1)=10
"RTN","EASEZU1",63,0)
 S DIE="^EAS(712,EASAPP,10,"
"RTN","EASEZU1",64,0)
 S DR="2.1///^S X=EASLINK;"
"RTN","EASEZU1",65,0)
 D ^DIE
"RTN","EASEZU1",66,0)
 Q
"RTN","EASEZU1",67,0)
 ;
"RTN","EASEZU1",68,0)
ADD71201(EASAPP,KEYIEN,LINK,MULTIPLE) ;add another subrecord to #712.01
"RTN","EASEZU1",69,0)
 ;used in cases where Patient data exists but 1010EZ data does not;
"RTN","EASEZU1",70,0)
 ;this new subrecord will hold the VistA database ien(s)
"RTN","EASEZU1",71,0)
 ;
"RTN","EASEZU1",72,0)
 ;input EASAPP = ien to file #712
"RTN","EASEZU1",73,0)
 ;      KEYIEN = ien to file #711 for data element
"RTN","EASEZU1",74,0)
 ;      LINK   = ien(s) in VistA database;
"RTN","EASEZU1",75,0)
 ;               format: ien_main_file;ien_subfile
"RTN","EASEZU1",76,0)
 ;      MULTIPLE = default is 1; (optional)
"RTN","EASEZU1",77,0)
 ;                 currently only needed for additional child dependents
"RTN","EASEZU1",78,0)
 ;                 associated with Section IIB of the form.
"RTN","EASEZU1",79,0)
 ;output NEWIEN = ien to new subrecord in sibfile #712.01
"RTN","EASEZU1",80,0)
 N NEWIEN,LASTIEN,DA,DIC,DIE,DR,DLAYGO,DINUM,X,Y
"RTN","EASEZU1",81,0)
 Q:'KEYIEN
"RTN","EASEZU1",82,0)
 Q:LINK=""
"RTN","EASEZU1",83,0)
 S LASTIEN=$O(^EAS(712,EASAPP,10,9999),-1),NEWIEN=LASTIEN+1
"RTN","EASEZU1",84,0)
 ;create subrecord
"RTN","EASEZU1",85,0)
 S DIC="^EAS(712,EASAPP,10,",DIC(0)="L",DLAYGO="",X=KEYIEN,DINUM=NEWIEN
"RTN","EASEZU1",86,0)
 S DA(1)=EASAPP,DIC("P")=$P(^DD(712,10,0),U,2)
"RTN","EASEZU1",87,0)
 K DD,DO D FILE^DICN
"RTN","EASEZU1",88,0)
 ;file data element link
"RTN","EASEZU1",89,0)
 S DIE="^EAS(712,EASAPP,10,",DA=NEWIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZU1",90,0)
 S MULTIPLE=$G(MULTIPLE) S:'MULTIPLE MULTIPLE=1
"RTN","EASEZU1",91,0)
 S DR=".1///^S X=MULTIPLE;2.1///^S X=LINK;"
"RTN","EASEZU1",92,0)
 D ^DIE
"RTN","EASEZU1",93,0)
 Q
"RTN","EASEZU1",94,0)
 ;
"RTN","EASEZU1",95,0)
GETANY(EASAPP,EASDFN,EASAEL,EASKEY) ;get data from VistA database for any field related to 1010EZ
"RTN","EASEZU1",96,0)
 ;input  EASAPP  = ien to #712 for Application
"RTN","EASEZU1",97,0)
 ;       EASDFN  = ien to #2 for Applicant
"RTN","EASEZU1",98,0)
 ;       either EASAEL or EASKEY must be non-null
"RTN","EASEZU1",99,0)
 ;       EASAEL  = ien to Data Elements subrecord in #712; optional
"RTN","EASEZU1",100,0)
 ;       EASKEY  = data key from Data Elements subrecord in #712; optional
"RTN","EASEZU1",101,0)
 ;
"RTN","EASEZU1",102,0)
 ;output     RTR = data obtained from Patient database; external format
"RTN","EASEZU1",103,0)
 ;                 OR -1 if invalid input
"RTN","EASEZU1",104,0)
 ;
"RTN","EASEZU1",105,0)
 ;the "link" below is a pointer (ien) to file or subfile record that
"RTN","EASEZU1",106,0)
 ; was previously found to contain data which potentially matches
"RTN","EASEZU1",107,0)
 ; 1010EZ data 
"RTN","EASEZU1",108,0)
 ;
"RTN","EASEZU1",109,0)
 N X,LINK,N,FILE,SUBFILE,FIELD,ARRAY,DIQ,DA,DR,DIC,RTR
"RTN","EASEZU1",110,0)
 S EASKEY=$G(EASKEY),N=0
"RTN","EASEZU1",111,0)
 I 'EASAEL,EASKEY="" Q -1
"RTN","EASEZU1",112,0)
 I 'EASAEL,EASKEY'="" D
"RTN","EASEZU1",113,0)
 .S EASAEL=$P($$DATA712(EASAPP,EASKEY),U,2) Q:'EASAEL
"RTN","EASEZU1",114,0)
 .S N=$O(^EAS(711,"C",EASKEY,0))
"RTN","EASEZU1",115,0)
 I EASKEY="",EASAEL S N=$P($G(^EAS(712,EASAPP,10,EASAEL,0)),U,1)
"RTN","EASEZU1",116,0)
 I 'N Q -1
"RTN","EASEZU1",117,0)
 ;database parameters in #711
"RTN","EASEZU1",118,0)
 S X=$G(^EAS(711,N,1)),FILE=$P(X,U,1),SUBFILE=$P(X,U,2),FIELD=$P(X,U,3)
"RTN","EASEZU1",119,0)
 ;get link ien if other than file #2
"RTN","EASEZU1",120,0)
 S LINK=$P($G(^EAS(712,EASAPP,10,EASAEL,2)),U,2)
"RTN","EASEZU1",121,0)
 ;if data location is main file #2, then link is dfn
"RTN","EASEZU1",122,0)
 I FILE=2,(SUBFILE=2!SUBFILE="") S LINK=EASDFN
"RTN","EASEZU1",123,0)
 ;
"RTN","EASEZU1",124,0)
 ;if no link to database, quit
"RTN","EASEZU1",125,0)
 I 'LINK Q -1
"RTN","EASEZU1",126,0)
 ;otherwise setup FM call & use link to get data
"RTN","EASEZU1",127,0)
 I (SUBFILE="")!(SUBFILE=FILE) D
"RTN","EASEZU1",128,0)
 .;data in main file
"RTN","EASEZU1",129,0)
 .S DIQ="ARRAY",DIQ(0)="E",DA=LINK,DR=FIELD,DIC=FILE
"RTN","EASEZU1",130,0)
 .D EN^DIQ1
"RTN","EASEZU1",131,0)
 .S RTR=$G(ARRAY(FILE,LINK,FIELD,"E"))
"RTN","EASEZU1",132,0)
 I SUBFILE'="",SUBFILE'=FILE D
"RTN","EASEZU1",133,0)
 .;data in subfile
"RTN","EASEZU1",134,0)
 .;in this case LINK = file_ien;subfile_ien
"RTN","EASEZU1",135,0)
 .S DIQ="ARRAY",DIQ(0)="E",DA=$P(LINK,";",1),DIC=FILE
"RTN","EASEZU1",136,0)
 .;get field # for subfile
"RTN","EASEZU1",137,0)
 .S DR=$O(^DD(FILE,"SB",SUBFILE,0))
"RTN","EASEZU1",138,0)
 .S DR(SUBFILE)=FIELD,DA(SUBFILE)=$P(LINK,";",2)
"RTN","EASEZU1",139,0)
 .D EN^DIQ1
"RTN","EASEZU1",140,0)
 .S RTR=$G(ARRAY(SUBFILE,$P(LINK,";",2),FIELD,"E"))
"RTN","EASEZU1",141,0)
 Q RTR
"RTN","EASEZU2")
0^5^B35008288
"RTN","EASEZU2",1,0)
EASEZU2 ;ALB/jap - Utilities for 1010EZ Processing ;10/13/00  10:53
"RTN","EASEZU2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZU2",3,0)
 ;
"RTN","EASEZU2",4,0)
PICKALL(EASVIEW) ;For processing status selected, pick-up all records in #712
"RTN","EASEZU2",5,0)
 ;Loop through Application Holding file #712 for status selected
"RTN","EASEZU2",6,0)
 N APP,FAC,INDEX,JDATE,DAT0,NAME,SSN,VETTYPE,FDAYS,WEBID,WILLSEND,ENTRY,EDATE,X,Y,I,J,T,V,X1,X2,X3
"RTN","EASEZU2",7,0)
 Q:'EASVIEW  Q:EASVIEW>6
"RTN","EASEZU2",8,0)
 K ^TMP($J,712,EASVIEW)
"RTN","EASEZU2",9,0)
 ;index to search depends on status selected for viewing
"RTN","EASEZU2",10,0)
 S V=EASVIEW,INDEX=$S(V=1:"NEW",V=2:"REV",V=3:"PRT",V=4:"SIG",V=5:"FIL",V=6:"CLS",1:"")
"RTN","EASEZU2",11,0)
 Q:V=""  Q:INDEX=""
"RTN","EASEZU2",12,0)
 S I=INDEX D
"RTN","EASEZU2",13,0)
 .;use the index to get each application in selected status
"RTN","EASEZU2",14,0)
 .;here JDATE is the date on which the application reached status of interest
"RTN","EASEZU2",15,0)
 .S JDATE=0 F  S JDATE=$O(^EAS(712,I,JDATE)) Q:'JDATE  S APP=0 F  S APP=$O(^EAS(712,I,JDATE,APP)) Q:'APP  D
"RTN","EASEZU2",16,0)
 ..S DAT0=$G(^EAS(712,APP,0)),NAME=$P(DAT0,U,4),ENTRY=$P(DAT0,U,6),SSN=$P($P(DAT0,U,5),"&",1),T=$P(DAT0,U,9)
"RTN","EASEZU2",17,0)
 ..S WEBID=$P(DAT0,U,2),WILLSEND=$P(DAT0,U,13)
"RTN","EASEZU2",18,0)
 ..S FAC=$P($G(^EAS(712,APP,1)),U,6) S:FAC="" FAC=1
"RTN","EASEZU2",19,0)
 ..;don't include filed apps if filed more than 30 days ago. 
"RTN","EASEZU2",20,0)
 ..S FDAYS=0 I (INDEX="FIL")!(INDEX="CLS") S X2=JDATE,X1=DT D ^%DTC S FDAYS=X
"RTN","EASEZU2",21,0)
 ..I FDAYS>30 K ^EAS(712,INDEX,JDATE,APP)
"RTN","EASEZU2",22,0)
 ..Q:FDAYS>30
"RTN","EASEZU2",23,0)
 ..;avoid any stub entries
"RTN","EASEZU2",24,0)
 ..Q:NAME=""
"RTN","EASEZU2",25,0)
 ..S Y=ENTRY,%F=2,EDATE=$$FMTE^XLFDT(Y,%F) I $L(EDATE)<10 D
"RTN","EASEZU2",26,0)
 ...S X1=$P(EDATE,"/",1),X2=$P(EDATE,"/",2),X3=$P(EDATE,"/",3)
"RTN","EASEZU2",27,0)
 ...S:$L(X1)=1 X1="0"_X1 S:$L(X2)=1 X2="0"_X2
"RTN","EASEZU2",28,0)
 ...S EDATE=X1_"/"_X2_"/"_X3
"RTN","EASEZU2",29,0)
 ..S VETTYPE=$S(T=1:"SC 50-100%",T=2:"SC <50%",T=3:"SC 0%",T=4:"POW",T=5:"PURPLE HEART",T=6:"MIL. RETIREE",T=7:"NSC",1:"")
"RTN","EASEZU2",30,0)
 ..S ^TMP($J,712,EASVIEW,FAC,NAME,ENTRY,APP)=APP_U_SSN_U_VETTYPE_U_EDATE_U_JDATE_U_WEBID_U_WILLSEND_U_FAC
"RTN","EASEZU2",31,0)
 Q
"RTN","EASEZU2",32,0)
 ;
"RTN","EASEZU2",33,0)
SETDATE(EASAPP,INDEX) ;update fields & indexes associated with processing status
"RTN","EASEZU2",34,0)
 ;
"RTN","EASEZU2",35,0)
 N DA,DR,DIE
"RTN","EASEZU2",36,0)
 S DA=EASAPP,DIE="^EAS(712,"
"RTN","EASEZU2",37,0)
 I INDEX="REV" S DR="5.1///^S X=DT;5.2///^S X=DUZ" D ^DIE,REINDEX^EASEZU2(EASAPP,INDEX) Q
"RTN","EASEZU2",38,0)
 I INDEX="PRT" S DR="6.1///^S X=DT;6.2///^S X=DUZ" D ^DIE,REINDEX^EASEZU2(EASAPP,INDEX) Q
"RTN","EASEZU2",39,0)
 I INDEX="SIG" S DR="4///^S X=DT;4.1///^S X=DT;4.2///^S X=DUZ" D ^DIE,REINDEX^EASEZU2(EASAPP,INDEX) Q
"RTN","EASEZU2",40,0)
 I INDEX="FIL" S DR="7.1///^S X=DT;7.2///^S X=DUZ" D ^DIE,REINDEX^EASEZU2(EASAPP,INDEX) Q
"RTN","EASEZU2",41,0)
 I INDEX="CLS" S DR="9.1///^S X=DT;9.2///^S X=DUZ" D ^DIE,REINDEX^EASEZU2(EASAPP,INDEX) Q
"RTN","EASEZU2",42,0)
 Q
"RTN","EASEZU2",43,0)
 ;
"RTN","EASEZU2",44,0)
APPINDEX(EASAPP) ;Check file #712 processing index for Application
"RTN","EASEZU2",45,0)
 ;get determining date and remove any index entries no longer current
"RTN","EASEZU2",46,0)
 N CLSDATE,FILDATE,SIGDATE,PRTDATE,REVDATE,NEWDATE
"RTN","EASEZU2",47,0)
 S CLSDATE=$P($G(^EAS(712,EASAPP,2)),U,9) I CLSDATE D REINDEX(EASAPP,"CLS",CLSDATE) Q
"RTN","EASEZU2",48,0)
 S FILDATE=$P($G(^EAS(712,EASAPP,2)),U,5) I FILDATE D REINDEX(EASAPP,"FIL",FILDATE) Q
"RTN","EASEZU2",49,0)
 S SIGDATE=$P($G(^EAS(712,EASAPP,1)),U,1) I SIGDATE D REINDEX(EASAPP,"SIG",SIGDATE) Q
"RTN","EASEZU2",50,0)
 S PRTDATE=$P($G(^EAS(712,EASAPP,2)),U,3) I PRTDATE D REINDEX(EASAPP,"PRT",PRTDATE) Q
"RTN","EASEZU2",51,0)
 S REVDATE=$P($G(^EAS(712,EASAPP,2)),U,1) I REVDATE D REINDEX(EASAPP,"REV",REVDATE) Q
"RTN","EASEZU2",52,0)
 S NEWDATE=$P($G(^EAS(712,EASAPP,0)),U,6) I NEWDATE D REINDEX(EASAPP,"NEW",NEWDATE) Q
"RTN","EASEZU2",53,0)
 Q
"RTN","EASEZU2",54,0)
 ;
"RTN","EASEZU2",55,0)
REINDEX(EASAPP,EASINDEX,THISDATE) ;Remove previous index for Application upon processing status change
"RTN","EASEZU2",56,0)
 ;There are 6 critical indexes maintained on file #712 to indicate processing status.
"RTN","EASEZU2",57,0)
 ;   "NEW" -- New applications; uses field #3, ENTRY DATE
"RTN","EASEZU2",58,0)
 ;   "REV" -- In Review applications; uses field #5.1, REVIEW DATE
"RTN","EASEZU2",59,0)
 ;   "PRT" -- Printed/Awaiting Signature applications; uses field #6.1, PRINT DATE
"RTN","EASEZU2",60,0)
 ;   "SIG" -- Signed applications; uses field #4, DATE SIGNED BY APPLICANT
"RTN","EASEZU2",61,0)
 ;   "FIL" -- Filed applications; uses field #7.1, FILING DATE
"RTN","EASEZU2",62,0)
 ;   "CLS" -- Closed/inactivated applications; uses field #9.1, CLOSE DATE
"RTN","EASEZU2",63,0)
 ;
"RTN","EASEZU2",64,0)
 ;When a date is initially entered into one of the fields listed above, FM updates the
"RTN","EASEZU2",65,0)
 ;   the index as needed; this function removes the "old" index entry for the application.
"RTN","EASEZU2",66,0)
 ;
"RTN","EASEZU2",67,0)
 ;Once a date has been entered into one of the fields listed above, repeated actions
"RTN","EASEZU2",68,0)
 ;   of the same type do not update the field with a new date; therefore, a new index
"RTN","EASEZU2",69,0)
 ;   entry won't be created.
"RTN","EASEZU2",70,0)
 ;   For example: The first time the 1010EZ application is Printed for Signature
"RTN","EASEZU2",71,0)
 ;                field #6.1 is updated and FM creates the index entry in "PRT",
"RTN","EASEZU2",72,0)
 ;                and this function is called to remove the old "REV" index entry;
"RTN","EASEZU2",73,0)
 ;                If the 1010EZ is Printed again sometime later, say after it has
"RTN","EASEZU2",74,0)
 ;                already been Filed, that Print action will not update field #6.1
"RTN","EASEZU2",75,0)
 ;
"RTN","EASEZU2",76,0)
 ;input 
"RTN","EASEZU2",77,0)
 ;   EASAPP   = ien in file #712 for Application
"RTN","EASEZU2",78,0)
 ;   EASINDEX = index for current processing status
"RTN","EASEZU2",79,0)
 ;   THISDATE = date to be used to set cross-reference; [optional]
"RTN","EASEZU2",80,0)
 ;              internal FM format
"RTN","EASEZU2",81,0)
 ;output
"RTN","EASEZU2",82,0)
 ;   none
"RTN","EASEZU2",83,0)
 ;
"RTN","EASEZU2",84,0)
 N DATE
"RTN","EASEZU2",85,0)
 ;
"RTN","EASEZU2",86,0)
 ;set appropriate index if necessary
"RTN","EASEZU2",87,0)
 I $G(THISDATE) S ^EAS(712,EASINDEX,THISDATE,EASAPP)=""
"RTN","EASEZU2",88,0)
 ;
"RTN","EASEZU2",89,0)
 I EASINDEX="NEW" D  Q
"RTN","EASEZU2",90,0)
 .;get REVIEW DATE
"RTN","EASEZU2",91,0)
 .S DATE=$P($G(^EAS(712,EASAPP,2)),U,1)
"RTN","EASEZU2",92,0)
 .I DATE K ^EAS(712,"REV",DATE,EASAPP)
"RTN","EASEZU2",93,0)
 .;get PRINT DATE
"RTN","EASEZU2",94,0)
 .S DATE=$P($G(^EAS(712,EASAPP,2)),U,3)
"RTN","EASEZU2",95,0)
 .I DATE K ^EAS(712,"PRT",DATE,EASAPP)
"RTN","EASEZU2",96,0)
 ;
"RTN","EASEZU2",97,0)
 I EASINDEX="REV" D  Q
"RTN","EASEZU2",98,0)
 .;get ENTRY DATE
"RTN","EASEZU2",99,0)
 .S DATE=$P($G(^EAS(712,EASAPP,0)),U,6)
"RTN","EASEZU2",100,0)
 .I DATE K ^EAS(712,"NEW",DATE,EASAPP)
"RTN","EASEZU2",101,0)
 ;
"RTN","EASEZU2",102,0)
 I EASINDEX="PRT" D  Q
"RTN","EASEZU2",103,0)
 .;get REVIEW DATE
"RTN","EASEZU2",104,0)
 .S DATE=$P($G(^EAS(712,EASAPP,2)),U,1)
"RTN","EASEZU2",105,0)
 .I DATE K ^EAS(712,"REV",DATE,EASAPP)
"RTN","EASEZU2",106,0)
 ;
"RTN","EASEZU2",107,0)
 I EASINDEX="SIG" D  Q
"RTN","EASEZU2",108,0)
 .;get REVIEW DATE
"RTN","EASEZU2",109,0)
 .S DATE=$P($G(^EAS(712,EASAPP,2)),U,1)
"RTN","EASEZU2",110,0)
 .I DATE K ^EAS(712,"REV",DATE,EASAPP)
"RTN","EASEZU2",111,0)
 .;get PRINT DATE
"RTN","EASEZU2",112,0)
 .S DATE=$P($G(^EAS(712,EASAPP,2)),U,3)
"RTN","EASEZU2",113,0)
 .I DATE K ^EAS(712,"PRT",DATE,EASAPP)
"RTN","EASEZU2",114,0)
 ;
"RTN","EASEZU2",115,0)
 I EASINDEX="FIL" D  Q
"RTN","EASEZU2",116,0)
 .;get PRINT DATE
"RTN","EASEZU2",117,0)
 .S DATE=$P($G(^EAS(712,EASAPP,2)),U,3)
"RTN","EASEZU2",118,0)
 .I DATE K ^EAS(712,"PRT",DATE,EASAPP)
"RTN","EASEZU2",119,0)
 .;get DATE SIGNED BY APPLICANT
"RTN","EASEZU2",120,0)
 .S DATE=$P($G(^EAS(712,EASAPP,1)),U,1)
"RTN","EASEZU2",121,0)
 .I DATE K ^EAS(712,"SIG",DATE,EASAPP)
"RTN","EASEZU2",122,0)
 ;
"RTN","EASEZU2",123,0)
 I EASINDEX="CLS" D  Q
"RTN","EASEZU2",124,0)
 .;get ENTRY DATE
"RTN","EASEZU2",125,0)
 .S DATE=$P($G(^EAS(712,EASAPP,0)),U,6)
"RTN","EASEZU2",126,0)
 .I DATE K ^EAS(712,"NEW",DATE,EASAPP)
"RTN","EASEZU2",127,0)
 .;get REVIEW DATE
"RTN","EASEZU2",128,0)
 .S DATE=$P($G(^EAS(712,EASAPP,2)),U,1)
"RTN","EASEZU2",129,0)
 .I DATE K ^EAS(712,"REV",DATE,EASAPP)
"RTN","EASEZU2",130,0)
 .;get PRINT DATE
"RTN","EASEZU2",131,0)
 .S DATE=$P($G(^EAS(712,EASAPP,2)),U,3)
"RTN","EASEZU2",132,0)
 .I DATE K ^EAS(712,"PRT",DATE,EASAPP)
"RTN","EASEZU2",133,0)
 ;
"RTN","EASEZU2",134,0)
 Q
"RTN","EASEZU2",135,0)
 ;
"RTN","EASEZU2",136,0)
CURRSTAT(EASAPP) ;Check file #712 processing index for Application
"RTN","EASEZU2",137,0)
 ;return current Application status
"RTN","EASEZU2",138,0)
 N CLSDATE,FILDATE,SIGDATE,PRTDATE,REVDATE,NEWDATE
"RTN","EASEZU2",139,0)
 S CLSDATE=$P($G(^EAS(712,EASAPP,2)),U,9) I CLSDATE Q "CLS"
"RTN","EASEZU2",140,0)
 S FILDATE=$P($G(^EAS(712,EASAPP,2)),U,5) I FILDATE Q "FIL"
"RTN","EASEZU2",141,0)
 S SIGDATE=$P($G(^EAS(712,EASAPP,1)),U,1) I SIGDATE Q "SIG"
"RTN","EASEZU2",142,0)
 S PRTDATE=$P($G(^EAS(712,EASAPP,2)),U,3) I PRTDATE Q "PRT"
"RTN","EASEZU2",143,0)
 S REVDATE=$P($G(^EAS(712,EASAPP,2)),U,1) I REVDATE Q "REV"
"RTN","EASEZU2",144,0)
 S NEWDATE=$P($G(^EAS(712,EASAPP,0)),U,6) I NEWDATE Q "NEW"
"RTN","EASEZU2",145,0)
 Q ""
"RTN","EASEZU2",146,0)
 ;
"RTN","EASEZU2",147,0)
LOCAL711 ;set up TMP global array
"RTN","EASEZU2",148,0)
 ;to hold file #711 & file #712 correlated data; and a useful index
"RTN","EASEZU2",149,0)
 N IEN,DIC,DIE,DA,DR,DLAYGO,DINUM,X,Y,DATANM,DATAKEY,DISPNM,FILE,SUBF,FLD,GRP
"RTN","EASEZU2",150,0)
 ;make sure 'unknown' is in #711
"RTN","EASEZU2",151,0)
 K ^TMP("EZDATA",$J),^TMP("EZINDEX",$J)
"RTN","EASEZU2",152,0)
 I '$D(^EAS(711,.1,0)) D
"RTN","EASEZU2",153,0)
 .S DIC="^EAS(711,",DIC(0)="L",DLAYGO="",X="UNKNOWN",DINUM=.1
"RTN","EASEZU2",154,0)
 .K DD,DO D FILE^DICN
"RTN","EASEZU2",155,0)
 I $D(^EAS(711,.1,0)) D
"RTN","EASEZU2",156,0)
 .S DA=.1
"RTN","EASEZU2",157,0)
 .S DIE="^EAS(711,",DR=".1///^S X=""UNKNOWN"";1///^S X=""A"";2///^S X=0;3///^S X=0;4///^S X=0"
"RTN","EASEZU2",158,0)
 .D ^DIE
"RTN","EASEZU2",159,0)
 ;pick up records from "ACTIVE" index
"RTN","EASEZU2",160,0)
 S IEN=0 F  S IEN=$O(^EAS(711,"A","A",IEN)) Q:'IEN  D
"RTN","EASEZU2",161,0)
 .S DATAKEY=$P(^EAS(711,IEN,0),U,2),X=$G(^EAS(711,IEN,1)),FILE=$P(X,U,1),SUBF=$P(X,U,2),FLD=$P(X,U,3) S:SUBF="" SUBF=FILE
"RTN","EASEZU2",162,0)
 .S DATANM=$P($G(^EAS(711,IEN,0)),U,1),DISPNM=$G(^EAS(711,IEN,2))
"RTN","EASEZU2",163,0)
 .S ^TMP("EZDATA",$J,IEN)=X_U_DATAKEY_U_DISPNM
"RTN","EASEZU2",164,0)
 .S GRP=$S(DATANM["SPOUSE":"S",DATANM["CHILD1":"C1",DATANM["CHILD(N)":"CN",1:"A")
"RTN","EASEZU2",165,0)
 .S ^TMP("EZINDEX",$J,GRP,FILE,SUBF,FLD,IEN)=IEN_U_DATANM
"RTN","EASEZU2",166,0)
 Q
"RTN","EASEZU3")
0^19^B60041657
"RTN","EASEZU3",1,0)
EASEZU3 ;ALB/jap - Utilities for 1010EZ Processing ;10/12/00  13:08
"RTN","EASEZU3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZU3",3,0)
 ;
"RTN","EASEZU3",4,0)
NSD(EASAPP,TYPE,MULTIPLE) ;get name, ssn, dob for person of interest
"RTN","EASEZU3",5,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZU3",6,0)
 ;         TYPE = "APPLICANT", "SPOUSE", "CHILD1", or "CHILD(N)"
"RTN","EASEZU3",7,0)
 ;     MULTIPLE = default to 1, unless TYPE="CHILD(N)"
"RTN","EASEZU3",8,0)
 ;output  RTR   =  name^ssn^dob
"RTN","EASEZU3",9,0)
 N RTR,KEY,EASNAME,EASSSN,EASDOB,LAST,FIRST,MDL,SUFF
"RTN","EASEZU3",10,0)
 S RTR="",EASNAME="",EASSSN="",EASDOB=""
"RTN","EASEZU3",11,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" LAST NAME") I KEY S LAST=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZU3",12,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" FIRST NAME") I KEY S FIRST=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZU3",13,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" MIDDLE NAME") I KEY S MDL=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZU3",14,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" SUFFIX NAME") I KEY S SUFF=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZU3",15,0)
 I (LAST="")!(FIRST="") Q RTR
"RTN","EASEZU3",16,0)
 S EASNAME=LAST_","_FIRST
"RTN","EASEZU3",17,0)
 I $L(EASNAME)+$L(MDL)>45 S MDL=$E(MDL,1)
"RTN","EASEZU3",18,0)
 I MDL'="" S EASNAME=EASNAME_" "_MDL
"RTN","EASEZU3",19,0)
 I SUFF'="" S EASNAME=EASNAME_" "_SUFF
"RTN","EASEZU3",20,0)
 S EASNAME=$$UC^EASEZT1($E(EASNAME,1,45))
"RTN","EASEZU3",21,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" SOCIAL SECURITY NUMBER")
"RTN","EASEZU3",22,0)
 I KEY S EASSSN=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1),EASSSN=$$SSNOUT^EASEZT1(EASSSN)
"RTN","EASEZU3",23,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" DATE OF BIRTH")
"RTN","EASEZU3",24,0)
 I KEY S EASDOB=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZU3",25,0)
 S RTR=EASNAME_U_EASSSN_U_EASDOB
"RTN","EASEZU3",26,0)
 Q RTR
"RTN","EASEZU3",27,0)
 ;
"RTN","EASEZU3",28,0)
LINK ;
"RTN","EASEZU3",29,0)
 ;link applicant to file #2 as new or existing patient
"RTN","EASEZU3",30,0)
 Q:EASVIEW'=1
"RTN","EASEZU3",31,0)
 S EASPSTAT="NEW"
"RTN","EASEZU3",32,0)
 D DFN^EASEZI(EASAPP,.EASDFN)
"RTN","EASEZU3",33,0)
 I $G(EASDFN)>0 D
"RTN","EASEZU3",34,0)
 .D SETDATE^EASEZU2(EASAPP,"REV") S EASPSTAT="REV"
"RTN","EASEZU3",35,0)
 .D BLD^EASEZLM
"RTN","EASEZU3",36,0)
 .W ! D WAIT^DICD,EN^VALM("EAS EZ 1010EZ REVIEW2")
"RTN","EASEZU3",37,0)
 .S VALMBCK="Q"
"RTN","EASEZU3",38,0)
 I '$G(EASDFN) S VALMBCK="R"
"RTN","EASEZU3",39,0)
 Q
"RTN","EASEZU3",40,0)
 ;
"RTN","EASEZU3",41,0)
ACCFLD ;accept a single 1010EZ data element 
"RTN","EASEZU3",42,0)
 ;if data element was previously accepted, this action returns to non-accepted status
"RTN","EASEZU3",43,0)
 ;input  EASAPP   = pointer to file #712 for 1010EZ
"RTN","EASEZU3",44,0)
 ;       EASPSTAT = current processing status of Application;
"RTN","EASEZU3",45,0)
 ;                  New = "NEW"
"RTN","EASEZU3",46,0)
 ;                  In Review = "REV"
"RTN","EASEZU3",47,0)
 ;                  Printed & Awaiting Sig = "PRT"
"RTN","EASEZU3",48,0)
 ;                  Signed = "SIG"
"RTN","EASEZU3",49,0)
 ;                  Filed = "FIL"
"RTN","EASEZU3",50,0)
 ;                  Closed/Inactivated = "CLS"
"RTN","EASEZU3",51,0)
 ;
"RTN","EASEZU3",52,0)
 ;result ACCEPT = 1, if toggled to accepted
"RTN","EASEZU3",53,0)
 ;                0, if toggled to non-accepted
"RTN","EASEZU3",54,0)
 N LN,SUBIEN,KEYIEN,MULTIPLE,ACCEPT,ACTION,LINK
"RTN","EASEZU3",55,0)
 Q:'EASAPP  Q:EASPSTAT=""
"RTN","EASEZU3",56,0)
 Q:'EASLN
"RTN","EASEZU3",57,0)
 S ACTION="'Accept Field'"
"RTN","EASEZU3",58,0)
 I EASPSTAT="PRT" D NOACT^EASEZLM("Printed",ACTION) Q
"RTN","EASEZU3",59,0)
 I EASPSTAT="SIG" D NOACT^EASEZLM("Signed",ACTION) Q
"RTN","EASEZU3",60,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU3",61,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU3",62,0)
 ;select data item to toggle
"RTN","EASEZU3",63,0)
 S VALMBCK=""
"RTN","EASEZU3",64,0)
 D SEL^EASEZLM
"RTN","EASEZU3",65,0)
 Q:$G(EASERR)
"RTN","EASEZU3",66,0)
 Q:'$G(EASSEL)
"RTN","EASEZU3",67,0)
 S EASLN=EASSEL
"RTN","EASEZU3",68,0)
 ;toggle accept indicator
"RTN","EASEZU3",69,0)
 S LN=^TMP("EASEXP",$J,"IDX",EASLN),SUBIEN=$P(LN,U,1),MULTIPLE=$P(LN,U,2),KEYIEN=$P(LN,U,3)
"RTN","EASEZU3",70,0)
 S EZDATA=$P($G(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1)),U,1),XFILE=$P($G(^TMP("EZDATA",$J,KEYIEN)),U,1)
"RTN","EASEZU3",71,0)
 Q:EZDATA=""
"RTN","EASEZU3",72,0)
 D FULL^VALM1
"RTN","EASEZU3",73,0)
 Q:'SUBIEN
"RTN","EASEZU3",74,0)
 S ACCEPT=$P($G(^EAS(712,EASAPP,10,SUBIEN,0)),U,3)
"RTN","EASEZU3",75,0)
 ;don't allow accept of data which cannot be filed
"RTN","EASEZU3",76,0)
 I ((XFILE=0)!(ACCEPT=-1)) D  Q
"RTN","EASEZU3",77,0)
 .W !!,?5,"Sorry, that data element cannot be 'Accepted' for 'Filing'."
"RTN","EASEZU3",78,0)
 .W !!,?5,"After filing this Application to VistA, use Register a Patient "
"RTN","EASEZU3",79,0)
 .W !,?5,"or Patient Enrollment to enter/update data as needed.",!
"RTN","EASEZU3",80,0)
 .K DIR D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZU3",81,0)
 ;if an 'always' accept data element, don't allow user to toggle;
"RTN","EASEZU3",82,0)
 I ACCEPT=2 D  Q
"RTN","EASEZU3",83,0)
 .W !!,?5,"Sorry, that data element must be 'Accepted' for this Applicant."
"RTN","EASEZU3",84,0)
 .I XFILE'=355.33 D
"RTN","EASEZU3",85,0)
 ..W !!,?5,"After filing this Application to VistA, the Registration options"
"RTN","EASEZU3",86,0)
 ..W !,?5,"can be used to modify data as needed.",!
"RTN","EASEZU3",87,0)
 .I XFILE=355.33 D
"RTN","EASEZU3",88,0)
 ..W !!,?5,"After filing this Application to VistA, Integrated Billing users"
"RTN","EASEZU3",89,0)
 ..W !,?5,"can modify the data using the 'Process Insurance Buffer' option.",!
"RTN","EASEZU3",90,0)
 .K DIR D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZU3",91,0)
 S UPD=$P($G(^EAS(712,EASAPP,10,SUBIEN,1)),U,2) I UPD'="" D  Q
"RTN","EASEZU3",92,0)
 .W !!,?5,"Sorry, that data element has been Updated and must be 'Accepted'"
"RTN","EASEZU3",93,0)
 .W !,?5,"for this Applicant."
"RTN","EASEZU3",94,0)
 .K DIR D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZU3",95,0)
 S ACCEPT='ACCEPT
"RTN","EASEZU3",96,0)
 S $P(^EAS(712,EASAPP,10,SUBIEN,0),U,3)=ACCEPT
"RTN","EASEZU3",97,0)
 ;highlight data on screen
"RTN","EASEZU3",98,0)
 I ACCEPT D CNTRL^VALM10(EASLN,27,25,IORVON,IORVOFF)
"RTN","EASEZU3",99,0)
 I 'ACCEPT D CNTRL^VALM10(EASLN,27,25,IORVOFF,IORVOFF)
"RTN","EASEZU3",100,0)
 D WRITE^VALM10(EASLN)
"RTN","EASEZU3",101,0)
 ;update processing status if necessary
"RTN","EASEZU3",102,0)
 I EASPSTAT="NEW" D
"RTN","EASEZU3",103,0)
 .D SETDATE^EASEZU2(EASAPP,"REV") S EASPSTAT="REV"
"RTN","EASEZU3",104,0)
 .D BLD^EASEZLM,HDR2^EASEZL1
"RTN","EASEZU3",105,0)
 S VALMBCK="R"
"RTN","EASEZU3",106,0)
 Q
"RTN","EASEZU3",107,0)
 ;
"RTN","EASEZU3",108,0)
ACCALL ;accept all non-null 1010EZ data elements
"RTN","EASEZU3",109,0)
 ;prevously accepted data elements are not toggled to non-accepted
"RTN","EASEZU3",110,0)
 ;input  EASAPP   = pointer to file #712 for 1010EZ
"RTN","EASEZU3",111,0)
 ;       EASPSTAT = current processing status of Application; 
"RTN","EASEZU3",112,0)
 ;                  see subroutine ACCFLD^EASEZU3
"RTN","EASEZU3",113,0)
 ;
"RTN","EASEZU3",114,0)
 N EASLN,ACTION,XFILE
"RTN","EASEZU3",115,0)
 Q:'EASAPP  Q:EASPSTAT=""
"RTN","EASEZU3",116,0)
 S ACTION="'Accept All'"
"RTN","EASEZU3",117,0)
 I EASPSTAT="PRT" D NOACT^EASEZLM("Printed",ACTION) Q
"RTN","EASEZU3",118,0)
 I EASPSTAT="SIG" D NOACT^EASEZLM("Signed",ACTION) Q
"RTN","EASEZU3",119,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU3",120,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU3",121,0)
 ;
"RTN","EASEZU3",122,0)
 S EASLN=0 F  S EASLN=$O(^TMP("EASEXP",$J,"IDX",EASLN)) Q:'EASLN  D
"RTN","EASEZU3",123,0)
 .S SUBIEN=$P(^TMP("EASEXP",$J,"IDX",EASLN),U,1),MULTIPLE=$P(^(EASLN),U,2),KEYIEN=$P(^(EASLN),U,3)
"RTN","EASEZU3",124,0)
 .S XFILE=$P(^TMP("EZDATA",$J,KEYIEN),U,1)
"RTN","EASEZU3",125,0)
 .Q:XFILE=0
"RTN","EASEZU3",126,0)
 .S EZDATA=$P($G(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1)),U,1) I EZDATA'="" D
"RTN","EASEZU3",127,0)
 ..I $P(^EAS(712,EASAPP,10,SUBIEN,0),U,3)="" S $P(^(0),U,3)=1
"RTN","EASEZU3",128,0)
 ..D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZU3",129,0)
 ..Q:(EASLN<VALMBG)!(EASLN>VALMLST)
"RTN","EASEZU3",130,0)
 ..D CNTRL^VALM10(EASLN,27,25,IORVON,IORVOFF)
"RTN","EASEZU3",131,0)
 ..D WRITE^VALM10(EASLN)
"RTN","EASEZU3",132,0)
 ;
"RTN","EASEZU3",133,0)
 ;update processing status if necessary
"RTN","EASEZU3",134,0)
 I EASPSTAT="NEW" D
"RTN","EASEZU3",135,0)
 .D SETDATE^EASEZU2(EASAPP,"REV") S EASPSTAT="REV"
"RTN","EASEZU3",136,0)
 .D BLD^EASEZLM,HDR2^EASEZL1
"RTN","EASEZU3",137,0)
 S VALMBCK="R"
"RTN","EASEZU3",138,0)
 Q
"RTN","EASEZU3",139,0)
 ;
"RTN","EASEZU3",140,0)
CLEAR ;clear all accept indicators from subfile #712.01 & LM array
"RTN","EASEZU3",141,0)
 ;input EASAPP   = ien to #712 for Application
"RTN","EASEZU3",142,0)
 ;      EASPSTAT = current processing status of Application; 
"RTN","EASEZU3",143,0)
 ;                 see subroutine ACCFLD^EASEZU3
"RTN","EASEZU3",144,0)
 ;
"RTN","EASEZU3",145,0)
 N BB,EASLN,ACTION
"RTN","EASEZU3",146,0)
 Q:'EASAPP  Q:EASPSTAT=""
"RTN","EASEZU3",147,0)
 S ACTION="'Clear All'"
"RTN","EASEZU3",148,0)
 I EASPSTAT="PRT" D NOACT^EASEZLM("Printed",ACTION) Q
"RTN","EASEZU3",149,0)
 I EASPSTAT="SIG" D NOACT^EASEZLM("Signed",ACTION) Q
"RTN","EASEZU3",150,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU3",151,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU3",152,0)
 ;
"RTN","EASEZU3",153,0)
 ;if a new patient, don't allow user to reset all accept
"RTN","EASEZU3",154,0)
 I $G(EASEZNEW) D  Q
"RTN","EASEZU3",155,0)
 .D FULL^VALM1
"RTN","EASEZU3",156,0)
 .W !!,?5,"Sorry, the 'Clear All' action cannot be used for this new patient."
"RTN","EASEZU3",157,0)
 .W !,?5,"It is recommended that all data elements be 'Accepted' for 'Filing'."
"RTN","EASEZU3",158,0)
 .W !!,?5,"After filing the Application to VistA, the Registration options"
"RTN","EASEZU3",159,0)
 .W !,?5,"can be used to modify data.",!
"RTN","EASEZU3",160,0)
 .D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZU3",161,0)
 ;
"RTN","EASEZU3",162,0)
 ;clear accept flags and updates
"RTN","EASEZU3",163,0)
 ;remove accept indicators from List Manager display array
"RTN","EASEZU3",164,0)
 S EASLN=0 F  S EASLN=$O(^TMP("EASEXP",$J,"IDX",EASLN)) Q:'EASLN  D
"RTN","EASEZU3",165,0)
 .S SUBIEN=$P(^TMP("EASEXP",$J,"IDX",EASLN),U,1)
"RTN","EASEZU3",166,0)
 .;don't clear if updated
"RTN","EASEZU3",167,0)
 .Q:'SUBIEN
"RTN","EASEZU3",168,0)
 .I $P($G(^EAS(712,EASAPP,10,SUBIEN,0)),U,3)=1 D
"RTN","EASEZU3",169,0)
 ..F P=3,4,5 S $P(^EAS(712,EASAPP,10,SUBIEN,0),U,P)=""
"RTN","EASEZU3",170,0)
 ..S $P(^EAS(712,EASAPP,10,SUBIEN,1),U,2)=""
"RTN","EASEZU3",171,0)
 ..S $P(^EAS(712,EASAPP,10,SUBIEN,2),U,1)=""
"RTN","EASEZU3",172,0)
 ..D FLDCTRL^VALM10(EASLN,"EZDATA",IORVOFF,IORVOFF)
"RTN","EASEZU3",173,0)
 ..Q:(EASLN<VALMBG)!(EASLN>VALMLST)
"RTN","EASEZU3",174,0)
 ..D CNTRL^VALM10(EASLN,27,25,IORVOFF,IORVOFF) D WRITE^VALM10(EASLN)
"RTN","EASEZU3",175,0)
 S VALMBCK=""
"RTN","EASEZU3",176,0)
 Q
"RTN","EASEZU3",177,0)
 ;
"RTN","EASEZU3",178,0)
RESET ;reset 1010EZ Application to 'new' processing status
"RTN","EASEZU3",179,0)
 ;input  EASAPP  = pointer to file #712 for 1010EZ
"RTN","EASEZU3",180,0)
 ;      EASPSTAT = current processing status of Application; 
"RTN","EASEZU3",181,0)
 ;                 see subroutine ACCFLD^EASEZU3
"RTN","EASEZU3",182,0)
 ;
"RTN","EASEZU3",183,0)
 ;this action must be follwed by an 'exit' action from the List Manager screen
"RTN","EASEZU3",184,0)
 ;
"RTN","EASEZU3",185,0)
 N ACTION,NEWDATE
"RTN","EASEZU3",186,0)
 Q:'EASAPP  Q:EASPSTAT=""
"RTN","EASEZU3",187,0)
 S ACTION="'Reset to New'"
"RTN","EASEZU3",188,0)
 I EASPSTAT="SIG" D NOACT^EASEZLM("Signed",ACTION) Q
"RTN","EASEZU3",189,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU3",190,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU3",191,0)
 ;
"RTN","EASEZU3",192,0)
 D OKRESET
"RTN","EASEZU3",193,0)
 ;update to 'New' status
"RTN","EASEZU3",194,0)
 S EASPSTAT="NEW",NEWDATE=$P(^EAS(712,EASAPP,0),U,6)
"RTN","EASEZU3",195,0)
 D REINDEX^EASEZU2(EASAPP,EASPSTAT,NEWDATE)
"RTN","EASEZU3",196,0)
 ;rebuild selection list since this application is removed from list
"RTN","EASEZU3",197,0)
 D BLD^EASEZLM
"RTN","EASEZU3",198,0)
 I 'VALMCNT D NOLINES^EASEZLM
"RTN","EASEZU3",199,0)
 W !,"Application has been Reset to New...",!
"RTN","EASEZU3",200,0)
 D PAUSE^VALM1
"RTN","EASEZU3",201,0)
 S VALMBCK="Q"
"RTN","EASEZU3",202,0)
 Q
"RTN","EASEZU3",203,0)
 ;
"RTN","EASEZU3",204,0)
OKRESET ;perform all housekeeping to for 'reset to new' or 'inactivate'
"RTN","EASEZU3",205,0)
 N BB,DA,DR,DIE,REM
"RTN","EASEZU3",206,0)
 ;remove status indicator fields from file #712 record
"RTN","EASEZU3",207,0)
 S DA=EASAPP,DIE="^EAS(712,"
"RTN","EASEZU3",208,0)
 S DR="5.1///^S X=""@"";5.2///^S X=""@"";6.1///^S X=""@"";6.2///^S X=""@"";8.1///^S X=""@"";8.2///^S X=""@"";"
"RTN","EASEZU3",209,0)
 D ^DIE
"RTN","EASEZU3",210,0)
 ;
"RTN","EASEZU3",211,0)
 ;delete link to file #2
"RTN","EASEZU3",212,0)
 I '$G(EASDFN) S EASDFN=$P(^EAS(712,EASAPP,0),U,10)
"RTN","EASEZU3",213,0)
 S $P(^EAS(712,EASAPP,0),U,10)=""
"RTN","EASEZU3",214,0)
 I $G(EASDFN) K ^EAS(712,"AC",EASDFN,EASAPP)
"RTN","EASEZU3",215,0)
 ;remove all links to VistA datbase
"RTN","EASEZU3",216,0)
 ;delete link, delete updated data, remove accept in each subfile #712.01 record
"RTN","EASEZU3",217,0)
 S BB=0 F  S BB=$O(^EAS(712,EASAPP,10,BB)) Q:'BB  D
"RTN","EASEZU3",218,0)
 .F P=3,4,5 S $P(^EAS(712,EASAPP,10,BB,0),U,P)=""
"RTN","EASEZU3",219,0)
 .S $P(^EAS(712,EASAPP,10,BB,1),U,2)=""
"RTN","EASEZU3",220,0)
 .F P=1,2 S $P(^EAS(712,EASAPP,10,BB,2),U,P)=""
"RTN","EASEZU3",221,0)
 ;
"RTN","EASEZU3",222,0)
 ;clear new patient indicator since applicant must be re-matched to VistA;
"RTN","EASEZU3",223,0)
 ;but if this applicant is matched again with same new stub record in VistA,
"RTN","EASEZU3",224,0)
 ;  there's a comment in file #2/field #.091 to indicate the record was previously
"RTN","EASEZU3",225,0)
 ;  added by 1010EZ process
"RTN","EASEZU3",226,0)
 ;update 'new patient' remark
"RTN","EASEZU3",227,0)
 I '$G(EASEZNEW) S EASEZNEW=$P(^EAS(712,EASAPP,0),U,11)
"RTN","EASEZU3",228,0)
 S $P(^EAS(712,EASAPP,0),U,11)=""
"RTN","EASEZU3",229,0)
 I EASEZNEW,EASDFN D
"RTN","EASEZU3",230,0)
 .S REM="New Patient record added by ELECTRONIC 10-10EZ."
"RTN","EASEZU3",231,0)
 .S DA=EASDFN,DIE="^DPT(",DR=".091///^S X=REM"
"RTN","EASEZU3",232,0)
 .D ^DIE
"RTN","EASEZU3",233,0)
 Q
"RTN","EASEZU4")
0^20^B14564665
"RTN","EASEZU4",1,0)
EASEZU4 ;ALB/jap - Utilities for 1010EZ Processing ;10/25/00  08:08
"RTN","EASEZU4",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZU4",3,0)
 ;
"RTN","EASEZU4",4,0)
PRT1010 ;print 10-10EZ form with data
"RTN","EASEZU4",5,0)
 ;
"RTN","EASEZU4",6,0)
 N TASK,REVDATE,PRTDATE,ACTION,DIR
"RTN","EASEZU4",7,0)
 S ACTION="'Print 10-10EZ'"
"RTN","EASEZU4",8,0)
 ;no action if closed
"RTN","EASEZU4",9,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU4",10,0)
 ;don't print if not at least reviewed
"RTN","EASEZU4",11,0)
 S REVDATE=$P($G(^EAS(712,EASAPP,2)),U,1)
"RTN","EASEZU4",12,0)
 I 'REVDATE D NOACT^EASEZLM("Unreviewed",ACTION) Q
"RTN","EASEZU4",13,0)
 ;just in case
"RTN","EASEZU4",14,0)
 I EASPSTAT="NEW" D NOACT^EASEZLM("New",ACTION) Q
"RTN","EASEZU4",15,0)
 ;call to Steve's routine to print 10-10EZ
"RTN","EASEZU4",16,0)
 D FULL^VALM1
"RTN","EASEZU4",17,0)
 S TASK=$$QUE^EASEZPF(EASAPP,EASDFN)
"RTN","EASEZU4",18,0)
 ;should return Task # if actually queued to print
"RTN","EASEZU4",19,0)
 ;if printed, update processing status if necessary; can be printed multiple times
"RTN","EASEZU4",20,0)
 S PRTDATE=$P(^EAS(712,EASAPP,2),U,3)
"RTN","EASEZU4",21,0)
 I 'PRTDATE,$G(TASK) D
"RTN","EASEZU4",22,0)
 .D SETDATE^EASEZU2(EASAPP,"PRT") S EASPSTAT="PRT"
"RTN","EASEZU4",23,0)
 .;rebuild selection list since this application is removed from list
"RTN","EASEZU4",24,0)
 .D BLD^EASEZLM,HDR2^EASEZL1
"RTN","EASEZU4",25,0)
 S VALMBCK="R"
"RTN","EASEZU4",26,0)
 D PAUSE^VALM1
"RTN","EASEZU4",27,0)
 Q
"RTN","EASEZU4",28,0)
 ;
"RTN","EASEZU4",29,0)
VERSIG ;verify Applicant signature on 10-10EZ
"RTN","EASEZU4",30,0)
 ;
"RTN","EASEZU4",31,0)
 N REVDATE,ACTION,DIR
"RTN","EASEZU4",32,0)
 S ACTION="'Verify Signature'"
"RTN","EASEZU4",33,0)
 ;no action if closed
"RTN","EASEZU4",34,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU4",35,0)
 ;can't verify sig if not at least reviewed
"RTN","EASEZU4",36,0)
 S REVDATE=$P($G(^EAS(712,EASAPP,2)),U,1)
"RTN","EASEZU4",37,0)
 I 'REVDATE D NOACT^EASEZLM("Unreviewed",ACTION) Q
"RTN","EASEZU4",38,0)
 ;can't sign if already done
"RTN","EASEZU4",39,0)
 I EASPSTAT="SIG" D NOACT^EASEZLM("Previously Signed",ACTION) Q
"RTN","EASEZU4",40,0)
 ;just in case
"RTN","EASEZU4",41,0)
 I EASPSTAT="NEW" D NOACT^EASEZLM("New",ACTION) Q
"RTN","EASEZU4",42,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU4",43,0)
 ;update processing status
"RTN","EASEZU4",44,0)
 D SETDATE^EASEZU2(EASAPP,"SIG")
"RTN","EASEZU4",45,0)
 S EASPSTAT="SIG"
"RTN","EASEZU4",46,0)
 W !,"Applicant signature is verified...",!
"RTN","EASEZU4",47,0)
 ;rebuild selection list since this application is removed from list
"RTN","EASEZU4",48,0)
 D BLD^EASEZLM,HDR2^EASEZL1
"RTN","EASEZU4",49,0)
 S VALMBCK="Q"
"RTN","EASEZU4",50,0)
 D PAUSE^VALM1
"RTN","EASEZU4",51,0)
 Q
"RTN","EASEZU4",52,0)
 ;
"RTN","EASEZU4",53,0)
FILE ;file 10-10EZ 'accepted' data to VistA Patient database
"RTN","EASEZU4",54,0)
 ;
"RTN","EASEZU4",55,0)
 N SIGDATE,ACTION,SAVE,ZTSK,STAT,DIR
"RTN","EASEZU4",56,0)
 S ACTION="'File 10-10EZ'"
"RTN","EASEZU4",57,0)
 ;no action if closed
"RTN","EASEZU4",58,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU4",59,0)
 ;must be signed before filing
"RTN","EASEZU4",60,0)
 S SIGDATE=$P($G(^EAS(712,EASAPP,1)),U,1)
"RTN","EASEZU4",61,0)
 I 'SIGDATE D NOACT^EASEZLM("Unsigned",ACTION) Q
"RTN","EASEZU4",62,0)
 ;can't repeat filing
"RTN","EASEZU4",63,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Previously Filed",ACTION) Q
"RTN","EASEZU4",64,0)
 S STAT=$$CURRSTAT^EASEZU2(EASAPP) I STAT="FIL" D NOACT^EASEZLM("Previously Filed",ACTION) Q
"RTN","EASEZU4",65,0)
 ;just in case
"RTN","EASEZU4",66,0)
 I EASPSTAT="NEW" D NOACT^EASEZLM("New",ACTION) Q
"RTN","EASEZU4",67,0)
 I EASPSTAT="REV" D NOACT^EASEZLM("Unsigned",ACTION) Q
"RTN","EASEZU4",68,0)
 I EASPSTAT="PRT" D NOACT^EASEZLM("Unsigned",ACTION) Q
"RTN","EASEZU4",69,0)
 ;
"RTN","EASEZU4",70,0)
 D FILE2
"RTN","EASEZU4",71,0)
 ;rebuild selection list since this application is removed from list
"RTN","EASEZU4",72,0)
 S VALMBCK="R"
"RTN","EASEZU4",73,0)
 I $D(ZTSK) D
"RTN","EASEZU4",74,0)
 .D SETDATE^EASEZU2(EASAPP,"FIL")
"RTN","EASEZU4",75,0)
 .S EASPSTAT="FIL"
"RTN","EASEZU4",76,0)
 .S $P(^EAS(712,EASAPP,2),U,11)=ZTSK
"RTN","EASEZU4",77,0)
 .D BLD^EASEZLM S VALMBCK="Q"
"RTN","EASEZU4",78,0)
 Q
"RTN","EASEZU4",79,0)
 ;
"RTN","EASEZU4",80,0)
CLOSE ;close/inactivate the Application
"RTN","EASEZU4",81,0)
 ;
"RTN","EASEZU4",82,0)
 N SIGDATE,FILDATE,ACTION
"RTN","EASEZU4",83,0)
 S ACTION="'Inactivate'"
"RTN","EASEZU4",84,0)
 ;not allowed if signed or filed
"RTN","EASEZU4",85,0)
 S FILDATE=$P($G(^EAS(712,EASAPP,2)),U,5)
"RTN","EASEZU4",86,0)
 I FILDATE D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU4",87,0)
 S SIGDATE=$P($G(^EAS(712,EASAPP,1)),U,1)
"RTN","EASEZU4",88,0)
 I SIGDATE D NOACT^EASEZLM("Signed",ACTION) Q
"RTN","EASEZU4",89,0)
 ;no action if already closed
"RTN","EASEZU4",90,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Previously Inactivated",ACTION) Q
"RTN","EASEZU4",91,0)
 ;clear accept flags and updates
"RTN","EASEZU4",92,0)
 D OKRESET^EASEZU3
"RTN","EASEZU4",93,0)
 ;update processing status
"RTN","EASEZU4",94,0)
 D SETDATE^EASEZU2(EASAPP,"CLS")
"RTN","EASEZU4",95,0)
 S EASPSTAT="CLS"
"RTN","EASEZU4",96,0)
 W !,"Application has been closed/inactivated...",!
"RTN","EASEZU4",97,0)
 D PAUSE^VALM1
"RTN","EASEZU4",98,0)
 ;rebuild selection list since this application is removed from list
"RTN","EASEZU4",99,0)
 D BLD^EASEZLM
"RTN","EASEZU4",100,0)
 S VALMBCK="Q"
"RTN","EASEZU4",101,0)
 Q
"RTN","EASEZU4",102,0)
 ;
"RTN","EASEZU4",103,0)
FILE2 ;
"RTN","EASEZU4",104,0)
 N VALMDDF,ZTSAVE,ZTDESC,ZTRTN,ZTIO
"RTN","EASEZU4",105,0)
 K ZTSAVE
"RTN","EASEZU4",106,0)
 S ZTDESC="Filing 10-10EZ Data (Appl. #"_EASAPP_") to VistA",ZTRTN="QUE^EASEZFM",ZTIO=""
"RTN","EASEZU4",107,0)
 S ZTSAVE("EASAPP")=""
"RTN","EASEZU4",108,0)
 D ^%ZTLOAD
"RTN","EASEZU4",109,0)
 I $D(ZTSK) D
"RTN","EASEZU4",110,0)
 .;update processing status
"RTN","EASEZU4",111,0)
 .W !,"10-10EZ data is being filed as a background job."
"RTN","EASEZU4",112,0)
 .W !,"Task #: ",ZTSK,!
"RTN","EASEZU4",113,0)
 .K DIR D PAUSE^VALM1
"RTN","EASEZU4",114,0)
 Q
"RTN","EASEZU5")
0^21^B21793587
"RTN","EASEZU5",1,0)
EASEZU5 ;ALB/jap - Utilities for 1010EZ Processing ;10/25/00  13:08
"RTN","EASEZU5",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZU5",3,0)
 ;
"RTN","EASEZU5",4,0)
PRTCOMP ;print comparison of 10-10EZ data with VistA data
"RTN","EASEZU5",5,0)
 N ACTION
"RTN","EASEZU5",6,0)
 S ACTION="'Print Data'"
"RTN","EASEZU5",7,0)
 ;no action if closed
"RTN","EASEZU5",8,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU5",9,0)
 ;proceed with print of data comparison
"RTN","EASEZU5",10,0)
 W !,"Data Print queued to background...",!
"RTN","EASEZU5",11,0)
 S VALMBCK="R"
"RTN","EASEZU5",12,0)
 D PAUSE^VALM1
"RTN","EASEZU5",13,0)
 Q
"RTN","EASEZU5",14,0)
 ;
"RTN","EASEZU5",15,0)
UPDATE ;update/overwrite a 10-10EZ data element
"RTN","EASEZU5",16,0)
 N ACTION,SIGDATE,EASSEL,EASERR,EASLN,LN,SUBIEN,MULTIPLE,KEYIEN,UPDATE,UPDATE2,FILE,SUBFILE,FLD,FFF
"RTN","EASEZU5",17,0)
 N ORIGINAL,DATANM,UPDATE,CODE,FILE,SUBFILE,FLD,FDEF,FTYPE,ROOT,SETCODES,MIN,MAX,X,Y,DA,DR,DIC,DIE,DIR,X1,X2,X3
"RTN","EASEZU5",18,0)
 ;variable ORIGINAL holds original 1010EZ data
"RTN","EASEZU5",19,0)
 S ACTION="'Update Field'"
"RTN","EASEZU5",20,0)
 ;no action if closed
"RTN","EASEZU5",21,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU5",22,0)
 ;invalid for the following process status
"RTN","EASEZU5",23,0)
 I EASPSTAT="NEW" D NOACT^EASEZLM("New",ACTION) Q
"RTN","EASEZU5",24,0)
 I EASPSTAT="PRT" D NOACT^EASEZLM("Unsigned",ACTION) Q
"RTN","EASEZU5",25,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU5",26,0)
 ;select data item to update
"RTN","EASEZU5",27,0)
 S VALMBCK="R"
"RTN","EASEZU5",28,0)
 D SEL^EASEZLM
"RTN","EASEZU5",29,0)
 Q:$G(EASERR)
"RTN","EASEZU5",30,0)
 Q:'$G(EASSEL)
"RTN","EASEZU5",31,0)
 S EASLN=EASSEL
"RTN","EASEZU5",32,0)
 ;
"RTN","EASEZU5",33,0)
 ;use DIR reader to get input from user which overwrites 1010EZ data
"RTN","EASEZU5",34,0)
 D FULL^VALM1
"RTN","EASEZU5",35,0)
 S DIR(0)="",(FDEF,FTYPE)=""
"RTN","EASEZU5",36,0)
 S LN=^TMP("EASEXP",$J,"IDX",EASLN),SUBIEN=$P(LN,U,1),MULTIPLE=$P(LN,U,2),KEYIEN=$P(LN,U,3)
"RTN","EASEZU5",37,0)
 S X=$G(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1)),ORIGINAL=$P(X,U,1),ACCEPT=$P(X,U,2)
"RTN","EASEZU5",38,0)
 S DATANM=$P($G(^EAS(711,KEYIEN,0)),U,1)
"RTN","EASEZU5",39,0)
 S DIR("A")=DATANM
"RTN","EASEZU5",40,0)
 ;if #3 of file #711 is defined then use to set DIR(0);
"RTN","EASEZU5",41,0)
 S X=$G(^EAS(711,KEYIEN,3)) I X'="" X X
"RTN","EASEZU5",42,0)
 S FFF=$G(^EAS(711,KEYIEN,1)),FILE=$P(FFF,U,1),SUBFILE=$P(FFF,U,2),FLD=$P(FFF,U,3)
"RTN","EASEZU5",43,0)
 ;don't allow updates to data which cannot be filed
"RTN","EASEZU5",44,0)
 I ((FILE=0)!(ACCEPT=-1)) D  Q
"RTN","EASEZU5",45,0)
 .W !!,?5,"Sorry...the selected data element cannot be 'Updated'."
"RTN","EASEZU5",46,0)
 .W !!,?5,"After filing this Application to VistA, use Register a Patient "
"RTN","EASEZU5",47,0)
 .W !,?5,"or Patient Enrollment to enter/update data as needed.",!
"RTN","EASEZU5",48,0)
 .K DIR D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZU5",49,0)
 ;exceptions for data input; too complex for simple DIR call;
"RTN","EASEZU5",50,0)
 I DATANM["NAME",DATANM'["OTHER" D ANAME^EASEZU6(EASLN,LN,DATANM) Q
"RTN","EASEZU5",51,0)
 I DATANM["PHONE" D APHONE^EASEZU6(EASLN,LN,DATANM) Q
"RTN","EASEZU5",52,0)
 I DATANM["COUNTY" D ACOUNTY^EASEZU6(EASLN,LN,DATANM) Q
"RTN","EASEZU5",53,0)
 I DATANM["STATE" D ASTATE^EASEZU6(EASLN,LN,DATANM) Q
"RTN","EASEZU5",54,0)
 I DATANM["SOCIAL SECURITY NUMBER",FILE'=2 D ASSN^EASEZU6(EASLN,LN,DATANM,ACCEPT) Q
"RTN","EASEZU5",55,0)
 ;setup DIR(0) for remaining mapped-to data elements
"RTN","EASEZU5",56,0)
 I DIR(0)="",FLD'=0 D
"RTN","EASEZU5",57,0)
 .;use DIR read based on mapped-to file/field for all other data elements
"RTN","EASEZU5",58,0)
 .I (SUBFILE=FILE)!(SUBFILE="") S FDEF=FILE
"RTN","EASEZU5",59,0)
 .E  S FDEF=SUBFILE
"RTN","EASEZU5",60,0)
 .S FTYPE=$$GET1^DID(FDEF,FLD,"","TYPE")
"RTN","EASEZU5",61,0)
 .;can't use DD type read, some fields will error because DA is not defined for the input transform;
"RTN","EASEZU5",62,0)
 .;so set DIR(0) according to field type of VistA target location instead;
"RTN","EASEZU5",63,0)
 .I FTYPE["POINTER" D
"RTN","EASEZU5",64,0)
 ..;mapped to pointer field
"RTN","EASEZU5",65,0)
 ..S ROOT=$$GET1^DID(FDEF,FLD,"","POINTER")
"RTN","EASEZU5",66,0)
 ..I ROOT'="" S DIR(0)="P"_U_ROOT_":EMZ"
"RTN","EASEZU5",67,0)
 .I FTYPE="SET" D
"RTN","EASEZU5",68,0)
 ..;mapped to set of codes field
"RTN","EASEZU5",69,0)
 ..S X=^DD(FDEF,FLD,0)
"RTN","EASEZU5",70,0)
 ..S SETCODES=$P(X,U,3) K X
"RTN","EASEZU5",71,0)
 ..S DIR(0)="S"_U_SETCODES
"RTN","EASEZU5",72,0)
 .I FTYPE="DATE/TIME" D
"RTN","EASEZU5",73,0)
 ..;mapped to date/time field
"RTN","EASEZU5",74,0)
 ..S DIR(0)="D^::AEP"
"RTN","EASEZU5",75,0)
 .I FTYPE="FREE TEXT" D
"RTN","EASEZU5",76,0)
 ..;mapped to free text field
"RTN","EASEZU5",77,0)
 ..S MAX=$$GET1^DID(FDEF,FLD,"","FIELD LENGTH")
"RTN","EASEZU5",78,0)
 ..I MAX S DIR(0)="F^1:"_MAX
"RTN","EASEZU5",79,0)
 ..E  S DIR(0)="F^1:80"
"RTN","EASEZU5",80,0)
 .I FTYPE="NUMERIC" D
"RTN","EASEZU5",81,0)
 ..;mapped to numeric field
"RTN","EASEZU5",82,0)
 ..S FINP=$$GET1^DID(FDEF,FLD,"","INPUT TRANSFORM")
"RTN","EASEZU5",83,0)
 ..S MIN=+$P(FINP,"X<",2),MAX=+$P(FINP,"X>",2)
"RTN","EASEZU5",84,0)
 ..I MAX S DIR(0)="N"_U_MIN_":"_MAX_":0"
"RTN","EASEZU5",85,0)
 ..E  S DIR(0)="N^0:9999999:0"
"RTN","EASEZU5",86,0)
 I FLD=0 D
"RTN","EASEZU5",87,0)
 .;unmapped data element
"RTN","EASEZU5",88,0)
 .I DIR(0)="" S DIR(0)="F^1:80"
"RTN","EASEZU5",89,0)
 ;make the DIR call for user input only if DIR(0) has been set
"RTN","EASEZU5",90,0)
 Q:DIR(0)=""
"RTN","EASEZU5",91,0)
 D ^DIR
"RTN","EASEZU5",92,0)
 ;don't continue if user exited w/o input
"RTN","EASEZU5",93,0)
 Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU5",94,0)
 K DIR,DTOUT,DUOUT,DIRUT
"RTN","EASEZU5",95,0)
 ;pickup the DIR output
"RTN","EASEZU5",96,0)
 S UPDATE=$P($G(Y(0)),U,1) S:UPDATE="" UPDATE=$P($G(Y),U,1)
"RTN","EASEZU5",97,0)
 ;don't continue if no data
"RTN","EASEZU5",98,0)
 Q:UPDATE=""
"RTN","EASEZU5",99,0)
 ;convert dates to mm/dd/yyyy
"RTN","EASEZU5",100,0)
 I FTYPE="DATE/TIME" D
"RTN","EASEZU5",101,0)
 .;Y holds date from DIR call in internal format 
"RTN","EASEZU5",102,0)
 .S %F=5,UPDATE2=$$FMTE^XLFDT(Y,%F) I $L(UPDATE2)<10 D
"RTN","EASEZU5",103,0)
 ..S X1=$P(UPDATE2,"/",1),X2=$P(UPDATE2,"/",2),X3=$P(UPDATE2,"/",3)
"RTN","EASEZU5",104,0)
 ..S:$L(X1)=1 X1="0"_X1 S:$L(X2)=1 X2="0"_X2
"RTN","EASEZU5",105,0)
 ..S UPDATE2=X1_"/"_X2_"/"_X3
"RTN","EASEZU5",106,0)
 ..S UPDATE=UPDATE2
"RTN","EASEZU5",107,0)
 ;don't continue if no change to data
"RTN","EASEZU5",108,0)
 Q:(UPDATE=ORIGINAL)
"RTN","EASEZU5",109,0)
 Q:(UPDATE="")
"RTN","EASEZU5",110,0)
 ;
"RTN","EASEZU5",111,0)
 I 'ACCEPT S ACCEPT=1
"RTN","EASEZU5",112,0)
 S $P(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1),U,1,2)=UPDATE_U_ACCEPT
"RTN","EASEZU5",113,0)
 ;file data element; any manually updated element is 'accepted'
"RTN","EASEZU5",114,0)
 S DIE="^EAS(712,EASAPP,10,",DA=SUBIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZU5",115,0)
 S DR="1.5///^S X=UPDATE;1.1///^S X=ACCEPT;1.2///^S X=DT;1.3///^S X=DUZ"
"RTN","EASEZU5",116,0)
 D ^DIE
"RTN","EASEZU5",117,0)
 S VALMBCK="R"
"RTN","EASEZU5",118,0)
 ;update screen list
"RTN","EASEZU5",119,0)
 D FLDTEXT^VALM10(EASLN,"EZDATA",UPDATE)
"RTN","EASEZU5",120,0)
 D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZU5",121,0)
 D WRITE^VALM10(EASLN)
"RTN","EASEZU5",122,0)
 Q
"RTN","EASEZU6")
0^22^B63484053
"RTN","EASEZU6",1,0)
EASEZU6 ;ALB/jap - Utilities for 1010EZ Processing ;10/31/00  13:08
"RTN","EASEZU6",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZU6",3,0)
 ;
"RTN","EASEZU6",4,0)
ANAME(EASLN,LN,DATANM) ;special update logic for Names     
"RTN","EASEZU6",5,0)
 ;output UPDATE = new data entered by user thru input transform
"RTN","EASEZU6",6,0)
 ;
"RTN","EASEZU6",7,0)
 N SUBIEN,MULTIPLE,KEYIEN,DKEY,SECT,QUES,ORIGINAL,TYPE,XPART,KEY,SUB,NAME,UNAME,UPDATE,DIR,DIRUT,DTOUT,DUOUT,X,Y
"RTN","EASEZU6",8,0)
 S SUBIEN=$P(LN,U,1),MULTIPLE=$P(LN,U,2),KEYIEN=$P(LN,U,3)
"RTN","EASEZU6",9,0)
 S DKEY=$P($G(^TMP("EZDATA",$J,KEYIEN)),U,4),SECT=$P(DKEY,";",1),QUES=$P(DKEY,";",2)
"RTN","EASEZU6",10,0)
 S X=$G(^TMP("EZTEMP",$J,SECT,MULTIPLE,QUES))
"RTN","EASEZU6",11,0)
 Q:$P(X,U,1)'=KEYIEN
"RTN","EASEZU6",12,0)
 S ORIGINAL=$P(X,U,2) K X
"RTN","EASEZU6",13,0)
 ;user may update each name part
"RTN","EASEZU6",14,0)
 S TYPE=$P(DATANM," ",1)_" "
"RTN","EASEZU6",15,0)
 F XPART="LAST","FIRST","MIDDLE","SUFFIX" D  Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU6",16,0)
 .;have keyien & subien (above) for last name, but need to get for each part
"RTN","EASEZU6",17,0)
 .S KEY=+$$KEY711^EASEZU1(TYPE_XPART_" NAME")
"RTN","EASEZU6",18,0)
 .Q:KEY<1
"RTN","EASEZU6",19,0)
 .;get name part & make sure it's all uppercase
"RTN","EASEZU6",20,0)
 .S X=$$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE)
"RTN","EASEZU6",21,0)
 .S NAME(XPART)=$$UC^EASEZT1($P(X,U,1)),SUB(XPART)=$P(X,U,2) K X
"RTN","EASEZU6",22,0)
 .S DIR("A")=TYPE_XPART_" NAME"
"RTN","EASEZU6",23,0)
 .I XPART="LAST" S DIR("??")="No punctuation is allowed other than ""-"" in a hyphenated name."
"RTN","EASEZU6",24,0)
 .E  S DIR("??")="No punctuation or numerics are allowed."
"RTN","EASEZU6",25,0)
 .S X=$G(^EAS(711,KEY,3)) I X'="" X X
"RTN","EASEZU6",26,0)
 .;1st piece of DIR contains 'O', input is optional
"RTN","EASEZU6",27,0)
 .S:$G(DIR(0))="" DIR(0)="FO^1:30^K:X'?.A X"
"RTN","EASEZU6",28,0)
 .D ^DIR
"RTN","EASEZU6",29,0)
 .;don't continue if user exited w/o input
"RTN","EASEZU6",30,0)
 .Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU6",31,0)
 .;pickup the DIR output
"RTN","EASEZU6",32,0)
 .S UPDATE=$$UC^EASEZT1($G(Y)),UNAME(XPART)=UPDATE
"RTN","EASEZU6",33,0)
 .I UNAME(XPART)="" S UNAME(XPART)=$G(NAME(XPART))
"RTN","EASEZU6",34,0)
 Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU6",35,0)
 K DIR,DTOUT,DUOUT,DIRUT
"RTN","EASEZU6",36,0)
 ;file data element; a manually updated element is always 'accepted'
"RTN","EASEZU6",37,0)
 F XPART="LAST","FIRST","MIDDLE","SUFFIX" D
"RTN","EASEZU6",38,0)
 .Q:$G(UNAME(XPART))=$G(NAME(XPART))  Q:$G(UNAME(XPART))=""
"RTN","EASEZU6",39,0)
 .S DIE="^EAS(712,EASAPP,10,",DA=SUB(XPART),DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZU6",40,0)
 .S DR="1///^S X=UNAME(XPART);1.1///^S X=1;1.2///^S X=DT;1.3///^S X=DUZ"
"RTN","EASEZU6",41,0)
 .D ^DIE
"RTN","EASEZU6",42,0)
 ;put together updated full name
"RTN","EASEZU6",43,0)
 S X=UNAME("LAST")_","_UNAME("FIRST")
"RTN","EASEZU6",44,0)
 I $G(UNAME("MIDDLE"))'="" D
"RTN","EASEZU6",45,0)
 .I $L(X)+$L(UNAME("MIDDLE"))>45 S MDL=$E(UNAME("MIDDLE"),1),X=X_" "_MDL
"RTN","EASEZU6",46,0)
 .E  S X=X_" "_UNAME("MIDDLE")
"RTN","EASEZU6",47,0)
 I $G(UNAME("SUFFIX"))'="" S X=X_" "_UNAME("SUFFIX")
"RTN","EASEZU6",48,0)
 S UPDATE=X
"RTN","EASEZU6",49,0)
 S VALMBCK="R"
"RTN","EASEZU6",50,0)
 ;update screen list
"RTN","EASEZU6",51,0)
 Q:UPDATE=ORIGINAL
"RTN","EASEZU6",52,0)
 D FLDTEXT^VALM10(EASLN,"EZDATA",UPDATE)
"RTN","EASEZU6",53,0)
 D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZU6",54,0)
 D WRITE^VALM10(EASLN)
"RTN","EASEZU6",55,0)
 Q
"RTN","EASEZU6",56,0)
 ;
"RTN","EASEZU6",57,0)
APHONE(EASLN,LN,DATANM) ;special update logic for Phone Numbers
"RTN","EASEZU6",58,0)
 ;
"RTN","EASEZU6",59,0)
 N SUBIEN,MULTIPLE,KEYIEN,DKEY,SECT,QUES,ORIGINAL,TYPE,XPART,KEY,SUB,PHONE,UPHONE,UPDATE,DIR,DIRUT,DTOUT,DUOUT,X,Y
"RTN","EASEZU6",60,0)
 S SUBIEN=$P(LN,U,1),MULTIPLE=$P(LN,U,2),KEYIEN=$P(LN,U,3)
"RTN","EASEZU6",61,0)
 S DKEY=$P($G(^TMP("EZDATA",$J,KEYIEN)),U,4),SECT=$P(DKEY,";",1),QUES=$P(DKEY,";",2)
"RTN","EASEZU6",62,0)
 S X=$G(^TMP("EZTEMP",$J,SECT,MULTIPLE,QUES))
"RTN","EASEZU6",63,0)
 Q:$P(X,U,1)'=KEYIEN
"RTN","EASEZU6",64,0)
 S ORIGINAL=$P(X,U,2) K X
"RTN","EASEZU6",65,0)
 ;user may update each phone number part
"RTN","EASEZU6",66,0)
 S TYPE=$P(DATANM," ",1,3)_" "
"RTN","EASEZU6",67,0)
 F XPART="AREA CODE","NUMBER","EXTENSION" D  Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU6",68,0)
 .;have keyien & subien (above) for area code, but need to get for each part
"RTN","EASEZU6",69,0)
 .S KEY=+$$KEY711^EASEZU1(TYPE_XPART)
"RTN","EASEZU6",70,0)
 .Q:KEY<1
"RTN","EASEZU6",71,0)
 .;get phone number part
"RTN","EASEZU6",72,0)
 .S X=$$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE)
"RTN","EASEZU6",73,0)
 .S PHONE(XPART)=$P(X,U,1),SUB(XPART)=$P(X,U,2) K X
"RTN","EASEZU6",74,0)
 .S DIR("A")=TYPE_XPART
"RTN","EASEZU6",75,0)
 .I XPART="NUMBER" S DIR("?")="Use format nnn-nnnn.  Example: 222-1234"
"RTN","EASEZU6",76,0)
 .I XPART="EXTENSION" S DIR("?")="Use up to 5 digits; no other characters.  Example: 12345"
"RTN","EASEZU6",77,0)
 .S X=$G(^EAS(711,KEY,3)) I X'="" X X
"RTN","EASEZU6",78,0)
 .;1st piece of DIR contains 'O', input is optional
"RTN","EASEZU6",79,0)
 .S:$G(DIR(0))="" DIR(0)="FO^1:8"
"RTN","EASEZU6",80,0)
 .D ^DIR
"RTN","EASEZU6",81,0)
 .;don't continue if user exited w/o input
"RTN","EASEZU6",82,0)
 .Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU6",83,0)
 .;pickup the DIR output
"RTN","EASEZU6",84,0)
 .S UPDATE=$G(Y),UPHONE(XPART)=UPDATE
"RTN","EASEZU6",85,0)
 .I UPHONE(XPART)="" S UPHONE(XPART)=$G(PHONE(XPART))
"RTN","EASEZU6",86,0)
 Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU6",87,0)
 K DIR,DTOUT,DUOUT,DIRUT
"RTN","EASEZU6",88,0)
 ;file data element; a manually updated element is always 'accepted'
"RTN","EASEZU6",89,0)
 F XPART="AREA CODE","NUMBER","EXTENSION" D
"RTN","EASEZU6",90,0)
 .Q:$G(UPHONE(XPART))=$G(PHONE(XPART))  Q:$G(UPHONE(XPART))=""
"RTN","EASEZU6",91,0)
 .S DIE="^EAS(712,EASAPP,10,",DA=SUB(XPART),DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZU6",92,0)
 .S DR="1///^S X=UPHONE(XPART);1.1///^S X=1;1.2///^S X=DT;1.3///^S X=DUZ"
"RTN","EASEZU6",93,0)
 .D ^DIE
"RTN","EASEZU6",94,0)
 ;put together updated full phone number
"RTN","EASEZU6",95,0)
 S X=$G(UPHONE("NUMBER"))
"RTN","EASEZU6",96,0)
 I $G(UPHONE("AREA CODE")) S X="("_UPHONE("AREA CODE")_")"_X
"RTN","EASEZU6",97,0)
 I $G(UPHONE("EXTENSION"))'="" S X=X_" X"_UPHONE("EXTENSION")
"RTN","EASEZU6",98,0)
 S UPDATE=X
"RTN","EASEZU6",99,0)
 S VALMBCK="R"
"RTN","EASEZU6",100,0)
 ;update screen list
"RTN","EASEZU6",101,0)
 Q:UPDATE=ORIGINAL
"RTN","EASEZU6",102,0)
 D FLDTEXT^VALM10(EASLN,"EZDATA",UPDATE)
"RTN","EASEZU6",103,0)
 D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZU6",104,0)
 D WRITE^VALM10(EASLN)
"RTN","EASEZU6",105,0)
 Q
"RTN","EASEZU6",106,0)
 ;
"RTN","EASEZU6",107,0)
ASTATE(EASLN,LN,DATANM) ;special update logic for any STATE
"RTN","EASEZU6",108,0)
 ;
"RTN","EASEZU6",109,0)
 N I,SUBIEN,MULTIPLE,KEYIEN,ORIGINAL,IEN,ABBR,AB,ZX,OUT,UPDATE,DIR,DIRUT,DTOUT,DUOUT,X,Y
"RTN","EASEZU6",110,0)
 S SUBIEN=$P(LN,U,1),MULTIPLE=$P(LN,U,2),KEYIEN=$P(LN,U,3)
"RTN","EASEZU6",111,0)
 S ORIGINAL=$P($G(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1)),U,1)
"RTN","EASEZU6",112,0)
 S DIR("A")=DATANM
"RTN","EASEZU6",113,0)
 S DIR(0)="P^5:EMZ"
"RTN","EASEZU6",114,0)
 D ^DIR
"RTN","EASEZU6",115,0)
 ;don't continue if user exited w/o input
"RTN","EASEZU6",116,0)
 Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU6",117,0)
 K DIR,DTOUT,DUOUT,DIRUT
"RTN","EASEZU6",118,0)
 ;pickup the DIR output
"RTN","EASEZU6",119,0)
 S UPDATE=$P($G(Y(0)),U,1)
"RTN","EASEZU6",120,0)
 ;don't continue if no data
"RTN","EASEZU6",121,0)
 Q:UPDATE=""
"RTN","EASEZU6",122,0)
 ;don't continue if no change to data
"RTN","EASEZU6",123,0)
 Q:UPDATE=ORIGINAL
"RTN","EASEZU6",124,0)
 S IEN=$P(Y,U,1)
"RTN","EASEZU6",125,0)
 S ABBR=$P($G(^DIC(5,IEN,0)),U,2)
"RTN","EASEZU6",126,0)
 ;make sure abbrev. matches web-based app
"RTN","EASEZU6",127,0)
 S OUT=0 F I=1:1 S X=$P($T(STDAT+I),";;",2) Q:X="QUIT"  Q:OUT  D
"RTN","EASEZU6",128,0)
 .S AB=$P(X,";",1),ZX=$P(X,";",2)
"RTN","EASEZU6",129,0)
 .I (ZX[UPDATE)!(UPDATE[ZX) S ABBR=AB,OUT=1
"RTN","EASEZU6",130,0)
 ;file data element; a manually updated element is always 'accepted'
"RTN","EASEZU6",131,0)
 S DIE="^EAS(712,EASAPP,10,",DA=SUBIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZU6",132,0)
 S DR="1///^S X=ABBR;1.1///^S X=1;1.2///^S X=DT;1.3///^S X=DUZ"
"RTN","EASEZU6",133,0)
 D ^DIE
"RTN","EASEZU6",134,0)
 S VALMBCK="R"
"RTN","EASEZU6",135,0)
 ;update screen list
"RTN","EASEZU6",136,0)
 D FLDTEXT^VALM10(EASLN,"EZDATA",UPDATE)
"RTN","EASEZU6",137,0)
 D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZU6",138,0)
 D WRITE^VALM10(EASLN)
"RTN","EASEZU6",139,0)
 Q
"RTN","EASEZU6",140,0)
 ;
"RTN","EASEZU6",141,0)
STDAT ;
"RTN","EASEZU6",142,0)
 ;;AS;AMERICAN SAMOA
"RTN","EASEZU6",143,0)
 ;;DC;DISTRICT OF COLUMBIA
"RTN","EASEZU6",144,0)
 ;;FM;FEDERATED STATES OF MICRONESIA
"RTN","EASEZU6",145,0)
 ;;GU;GUAM
"RTN","EASEZU6",146,0)
 ;;MH;MARSHALL ISLANDS
"RTN","EASEZU6",147,0)
 ;;MP;NORTHERN MARIANA ISLANDS
"RTN","EASEZU6",148,0)
 ;;PW;PALAU (TRUST TERRITORY)
"RTN","EASEZU6",149,0)
 ;;PR;PUERTO RICO
"RTN","EASEZU6",150,0)
 ;;VI;VIRGIN ISLANDS
"RTN","EASEZU6",151,0)
 ;;QUIT
"RTN","EASEZU6",152,0)
 ;
"RTN","EASEZU6",153,0)
ACOUNTY(EASLN,LN,DATANM) ;special update logic for COUNTY
"RTN","EASEZU6",154,0)
 ;
"RTN","EASEZU6",155,0)
 N SUBIEN,MULTIPLE,KEYIEN,ORIGINAL,KEY,ABBR,STATE,SIEN,CIEN,CCODE,ROOT,UPDATE,DIR,DIRUT,DTOUT,DUOUT,X,Y
"RTN","EASEZU6",156,0)
 S LN=^TMP("EASEXP",$J,"IDX",EASLN),SUBIEN=$P(LN,U,1),MULTIPLE=$P(LN,U,2),KEYIEN=$P(LN,U,3)
"RTN","EASEZU6",157,0)
 S ORIGINAL=$P($G(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1)),U,1)
"RTN","EASEZU6",158,0)
 S KEY=+$$KEY711^EASEZU1("APPLICANT STATE")
"RTN","EASEZU6",159,0)
 Q:'KEY
"RTN","EASEZU6",160,0)
 S ABBR="",STATE="",SIEN="",CIEN="",CCODE=""
"RTN","EASEZU6",161,0)
 I KEY D
"RTN","EASEZU6",162,0)
 .S ABBR=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1)
"RTN","EASEZU6",163,0)
 .I ABBR'="" S STATE=$$STATE^EASEZT1(ABBR)
"RTN","EASEZU6",164,0)
 .I STATE'="" S SIEN=$O(^DIC(5,"B",STATE,0))
"RTN","EASEZU6",165,0)
 Q:'SIEN
"RTN","EASEZU6",166,0)
 S ROOT="DIC(5,"_SIEN_",1,"
"RTN","EASEZU6",167,0)
 S DIR("A")=DATANM
"RTN","EASEZU6",168,0)
 S DIR(0)="P"_U_ROOT_":QEMZ"
"RTN","EASEZU6",169,0)
 D ^DIR
"RTN","EASEZU6",170,0)
 ;don't continue if user exited w/o input
"RTN","EASEZU6",171,0)
 Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU6",172,0)
 K DIR,DTOUT,DUOUT,DIRUT
"RTN","EASEZU6",173,0)
 ;pickup the DIR output
"RTN","EASEZU6",174,0)
 S UPDATE=$P($G(Y(0)),U,1)
"RTN","EASEZU6",175,0)
 ;don't continue if no data
"RTN","EASEZU6",176,0)
 Q:UPDATE=""
"RTN","EASEZU6",177,0)
 S CIEN=$P(Y,U,1) I CIEN'="" S CCODE=$P($G(^DIC(5,SIEN,1,CIEN,0)),U,3)
"RTN","EASEZU6",178,0)
 S COUNTY=UPDATE I CCODE'="" S UPDATE=UPDATE_" ("_CCODE_")"
"RTN","EASEZU6",179,0)
 ;don't continue if no change to data
"RTN","EASEZU6",180,0)
 Q:UPDATE=ORIGINAL
"RTN","EASEZU6",181,0)
 ;file data element; a manually updated element is always 'accepted'
"RTN","EASEZU6",182,0)
 S DIE="^EAS(712,EASAPP,10,",DA=SUBIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZU6",183,0)
 S DR="1///^S X=COUNTY;1.1///^S X=1;1.2///^S X=DT;1.3///^S X=DUZ"
"RTN","EASEZU6",184,0)
 D ^DIE
"RTN","EASEZU6",185,0)
 S VALMBCK="R"
"RTN","EASEZU6",186,0)
 ;update screen list
"RTN","EASEZU6",187,0)
 D FLDTEXT^VALM10(EASLN,"EZDATA",UPDATE)
"RTN","EASEZU6",188,0)
 D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZU6",189,0)
 D WRITE^VALM10(EASLN)
"RTN","EASEZU6",190,0)
 Q
"RTN","EASEZU6",191,0)
 ;
"RTN","EASEZU6",192,0)
ASSN(EASLN,LN,DATANM,ACCEPT) ;special update logic for Spouse/Dependent SSN
"RTN","EASEZU6",193,0)
 N OUT,DIR,DIRUT,DTOUT,DUOUT,UPDATE,LINK13,OTHER,RESULT
"RTN","EASEZU6",194,0)
 ;only used if DATANM["SOCIAL SECURITY NUMBER" and FILE'=2
"RTN","EASEZU6",195,0)
 S OUT=0,UPDATE="" F  D  Q:OUT
"RTN","EASEZU6",196,0)
 .S DIR("A")=DATANM
"RTN","EASEZU6",197,0)
 .S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"RTN","EASEZU6",198,0)
 .D ^DIR
"RTN","EASEZU6",199,0)
 .I $D(DIRUT) S OUT=1 Q
"RTN","EASEZU6",200,0)
 .I ($D(DTOUT)!$D(DUOUT)) S OUT=1 Q
"RTN","EASEZU6",201,0)
 .;pickup the DIR output
"RTN","EASEZU6",202,0)
 .S UPDATE=$P($G(Y(0)),U,1) S:UPDATE="" UPDATE=$P($G(Y),U,1)
"RTN","EASEZU6",203,0)
 .;don't continue if no data
"RTN","EASEZU6",204,0)
 .I UPDATE="" S OUT=1 Q
"RTN","EASEZU6",205,0)
 .S UPDATE=$TR(UPDATE,"-","")
"RTN","EASEZU6",206,0)
 .S LINK13=$P($G(^EAS(712,EASAPP,10,SUBIEN,2)),U,2)
"RTN","EASEZU6",207,0)
 .S RESULT="",OTHER=0
"RTN","EASEZU6",208,0)
 .F  S OTHER=$O(^DGPR(408.13,"SSN",UPDATE,OTHER)) Q:OTHER=""  Q:RESULT="^"  I OTHER,LINK13,OTHER'=LINK13 D
"RTN","EASEZU6",209,0)
 ..S RESULT="^"
"RTN","EASEZU6",210,0)
 ..W !,?3,"Sorry... that SSN is already used by another person"
"RTN","EASEZU6",211,0)
 ..W !,?3,"in the INCOME PERSON File (#408.13).  Try again."
"RTN","EASEZU6",212,0)
 .I RESULT="^" S UPDATE=""
"RTN","EASEZU6",213,0)
 .I UPDATE'="" S OUT=1
"RTN","EASEZU6",214,0)
 ;file the update, if any
"RTN","EASEZU6",215,0)
 Q:UPDATE=""
"RTN","EASEZU6",216,0)
 I 'ACCEPT S ACCEPT=1
"RTN","EASEZU6",217,0)
 S SUBIEN=$P(LN,U,1),MULTIPLE=$P(LN,U,2),KEYIEN=$P(LN,U,3)
"RTN","EASEZU6",218,0)
 S $P(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1),U,1,2)=UPDATE_U_ACCEPT
"RTN","EASEZU6",219,0)
 ;file data element; any manually updated element is 'accepted'
"RTN","EASEZU6",220,0)
 S DIE="^EAS(712,EASAPP,10,",DA=SUBIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZU6",221,0)
 S DR="1.5///^S X=UPDATE;1.1///^S X=ACCEPT;1.2///^S X=DT;1.3///^S X=DUZ"
"RTN","EASEZU6",222,0)
 D ^DIE
"RTN","EASEZU6",223,0)
 S VALMBCK="R"
"RTN","EASEZU6",224,0)
 ;update screen list
"RTN","EASEZU6",225,0)
 D FLDTEXT^VALM10(EASLN,"EZDATA",UPDATE)
"RTN","EASEZU6",226,0)
 D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZU6",227,0)
 D WRITE^VALM10(EASLN)
"RTN","EASEZU6",228,0)
 Q
"RTN","EASEZW")
0^6^B50595074
"RTN","EASEZW",1,0)
EASEZW ;ALB/jap - Auto-process 1010EZ from Web-based Application ;10/12/00  13:08
"RTN","EASEZW",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;;Mar 15, 2001
"RTN","EASEZW",3,0)
 ;
"RTN","EASEZW",4,0)
EN ;entry point from server option
"RTN","EASEZW",5,0)
 ;standard server variables XMZ,XNRG,XMER
"RTN","EASEZW",6,0)
 ;new incoming 1010EZ application data to be filed in #712
"RTN","EASEZW",7,0)
 ;
"RTN","EASEZW",8,0)
 Q:'$G(XMZ)
"RTN","EASEZW",9,0)
 ;get facility applying to (station #)
"RTN","EASEZW",10,0)
 S X=$P($P(^XMB(3.9,XMZ,0),U,1),":",1) I X'="" D
"RTN","EASEZW",11,0)
 .S EASFAC=X,X=$E(X,1,3)
"RTN","EASEZW",12,0)
 .I +X'=X S EASFAC=""
"RTN","EASEZW",13,0)
 ;get message receipt date
"RTN","EASEZW",14,0)
 S EASRECD=$P($P($G(^XMB(3.9,XMZ,.6)),U,1),".",1)
"RTN","EASEZW",15,0)
 ;
"RTN","EASEZW",16,0)
 ;set next ien for file #712 to match #.01 field, not less than 101
"RTN","EASEZW",17,0)
 S DINUM=$O(^EAS(712,"B",""),-1) S:'DINUM DINUM=$O(^EAS(712,999999999),-1)
"RTN","EASEZW",18,0)
 S DINUM=DINUM+1 S:DINUM<100 DINUM=DINUM+100
"RTN","EASEZW",19,0)
 S DIC="^EAS(712,",DIC(0)="L",DLAYGO="",X=DINUM
"RTN","EASEZW",20,0)
 K DD,DO D FILE^DICN
"RTN","EASEZW",21,0)
 S (DA,EASAPP)=+Y
"RTN","EASEZW",22,0)
 S DIE="^EAS(712,"
"RTN","EASEZW",23,0)
 S DR=".2///^S X=XMZ;3////^S X=EASRECD;3.1///^S X=.5;3.2///^S X=""W"";4.5///^S X=EASFAC"
"RTN","EASEZW",24,0)
 D ^DIE
"RTN","EASEZW",25,0)
 S LINES=$$LINES()
"RTN","EASEZW",26,0)
 I 'LINES D
"RTN","EASEZW",27,0)
 .S DA=EASAPP,DIK="^EAS(712," D ^DIK
"RTN","EASEZW",28,0)
 I LINES D NMSSNDOB D DESIGNEE
"RTN","EASEZW",29,0)
 Q
"RTN","EASEZW",30,0)
 ;
"RTN","EASEZW",31,0)
LINES() ;parse data lines from message into #712 record
"RTN","EASEZW",32,0)
 N OUT,SECT,LINE,KEYIEN,DATANM,ADDCHILD,MULTIPLE,ZM,ZMM,OUT,DA,DR,DIC,DIE,DINUM,DLAYGO
"RTN","EASEZW",33,0)
 ;find beginning of data lines
"RTN","EASEZW",34,0)
 S OUT=0 F  X XMREC Q:XMER=-1  S LINE=XMRG D  Q:OUT
"RTN","EASEZW",35,0)
 .I (LINE["SECTION")!(LINE["Section") S LINE=$$UC^EASEZT1(LINE)
"RTN","EASEZW",36,0)
 .I LINE["VISTA AUTOMATION" S OUT=1
"RTN","EASEZW",37,0)
 .I LINE["SECTION" D  Q
"RTN","EASEZW",38,0)
 ..S SECT=$P(LINE," - ",1),SECT=$TR(SECT," ",""),SECT=$P(SECT,"SECTION",2)
"RTN","EASEZW",39,0)
 ..S EASSECT=$TR(SECT,".","")
"RTN","EASEZW",40,0)
 I 'OUT Q 0
"RTN","EASEZW",41,0)
 ;file data lines
"RTN","EASEZW",42,0)
 ;variable EASIEN is the subrecord ien for data filing in file #712
"RTN","EASEZW",43,0)
 S EASIEN=0,OUT=0,ADDCHILD=0
"RTN","EASEZW",44,0)
 F  X XMREC Q:XMER=-1  D  Q:OUT
"RTN","EASEZW",45,0)
 .S LINE=XMRG
"RTN","EASEZW",46,0)
 .I (LINE["SECTION")!(LINE["Section") S LINE=$$UC^EASEZT1(LINE)
"RTN","EASEZW",47,0)
 .I LINE["SECTION III" D SEC3 S OUT=1 Q
"RTN","EASEZW",48,0)
 .I $E(LINE,1,3)="EOF" Q
"RTN","EASEZW",49,0)
 .I LINE["ADDITIONAL CHILD" S ADDCHILD=ADDCHILD+1 Q
"RTN","EASEZW",50,0)
 .I LINE["SECTION" D  Q
"RTN","EASEZW",51,0)
 ..S SECT=$P(LINE," - ",1),SECT=$TR(SECT," ",""),SECT=$P(SECT,"SECTION",2)
"RTN","EASEZW",52,0)
 ..S EASSECT=$TR(SECT,".","")
"RTN","EASEZW",53,0)
 .S ZM=1,ZMM=2
"RTN","EASEZW",54,0)
 .F  D  Q:EASKEY=""  S ZM=ZM+2,ZMM=ZM+1
"RTN","EASEZW",55,0)
 ..S EASKEY=$P(LINE,U,ZM),EASKEY=$TR(EASKEY," ","")
"RTN","EASEZW",56,0)
 ..Q:EASKEY=""
"RTN","EASEZW",57,0)
 ..S EASDATA=$E($P(LINE,U,ZMM),1,240)
"RTN","EASEZW",58,0)
 ..;don't file null data
"RTN","EASEZW",59,0)
 ..Q:(EASDATA=" ")!(EASDATA="")
"RTN","EASEZW",60,0)
 ..;don't file 'empty' dates, phone numbers, or ssns
"RTN","EASEZW",61,0)
 ..Q:(EASDATA="/")  Q:(EASDATA="//")  Q:(EASDATA)="-"  Q:(EASDATA)="--"
"RTN","EASEZW",62,0)
 ..I EASKEY["." S EASKEY=EASSECT_";"_EASKEY
"RTN","EASEZW",63,0)
 ..;find this data element in the mapping file #711
"RTN","EASEZW",64,0)
 ..S X=$$KEY711^EASEZU1(EASKEY),KEYIEN=+X,DATANM=$P(X,U,2)
"RTN","EASEZW",65,0)
 ..S EASIEN=EASIEN+1
"RTN","EASEZW",66,0)
 ..;create subrecord
"RTN","EASEZW",67,0)
 ..S DIC="^EAS(712,EASAPP,10,",DIC(0)="L",DLAYGO="",X=KEYIEN,DINUM=EASIEN
"RTN","EASEZW",68,0)
 ..S DA(1)=EASAPP,DIC("P")=$P(^DD(712,10,0),U,2)
"RTN","EASEZW",69,0)
 ..K DD,DO D FILE^DICN
"RTN","EASEZW",70,0)
 ..;file data element
"RTN","EASEZW",71,0)
 ..S DIE="^EAS(712,EASAPP,10,",DA=EASIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZW",72,0)
 ..S MULTIPLE=1 I DATANM["CHILD(N)" S MULTIPLE=ADDCHILD
"RTN","EASEZW",73,0)
 ..I DATANM["C(N)" S MULTIPLE=ADDCHILD
"RTN","EASEZW",74,0)
 ..S DR=".1///^S X=MULTIPLE;1///^S X=EASDATA;"
"RTN","EASEZW",75,0)
 ..D ^DIE
"RTN","EASEZW",76,0)
 Q 1
"RTN","EASEZW",77,0)
 ;
"RTN","EASEZW",78,0)
SEC3 ;special parsing for Section III
"RTN","EASEZW",79,0)
 N OUT,DA,DIE,DR,X,C,LINE,EMAIL,EVERS,EXPECT,EDETL,ESERV,EAPREQ,ECOMM,ERR
"RTN","EASEZW",80,0)
 ;find the Submission ID
"RTN","EASEZW",81,0)
 S EASWEBID="",EMAIL="",EVERS="",EXPECT="",EDETL="",ESERV="",EAPREQ="" S OUT=0
"RTN","EASEZW",82,0)
 F  X XMREC Q:XMER=-1  D  Q:OUT
"RTN","EASEZW",83,0)
 .S LINE=XMRG
"RTN","EASEZW",84,0)
 .I LINE["EOF",LINE["III" S OUT=1 Q
"RTN","EASEZW",85,0)
 .I LINE["Comment" S NOCOMM=0,JJ=1 F  D  Q:NOCOMM  Q:OUT
"RTN","EASEZW",86,0)
 ..I JJ=1 S C=$P(LINE,U,2) S ECOMM(JJ)=C
"RTN","EASEZW",87,0)
 ..I JJ>1,$L(LINE)>1 S ECOMM(JJ)=LINE
"RTN","EASEZW",88,0)
 ..S JJ=JJ+1
"RTN","EASEZW",89,0)
 ..X XMREC
"RTN","EASEZW",90,0)
 ..I XMER=-1 S NOCOMM=1,OUT=1
"RTN","EASEZW",91,0)
 ..S LINE=XMRG
"RTN","EASEZW",92,0)
 ..I $E(LINE,1,30)["Services Request" S NOCOMM=1
"RTN","EASEZW",93,0)
 .I LINE["Submit ID" S EASWEBID=$P(LINE,U,2)
"RTN","EASEZW",94,0)
 .I LINE["Email Address" S EMAIL=$P(LINE,U,2)
"RTN","EASEZW",95,0)
 .I LINE["Version #" S EVERS=$P(LINE,U,2)
"RTN","EASEZW",96,0)
 .I LINE["Veteran To Mail" S X=$P(LINE,U,2),EXPECT=$S(X["Vet":1,1:"")
"RTN","EASEZW",97,0)
 .I LINE["Provide",LINE["Details" S EDETL=$P(LINE,U,2)
"RTN","EASEZW",98,0)
 .I LINE["Appointment Request" S X=$P(LINE,U,2),EAPREQ=$S(X="YES":1,1:0)
"RTN","EASEZW",99,0)
 .I LINE["Services Request" S ESERV=$P(LINE,U,2)
"RTN","EASEZW",100,0)
 ;file the Submission ID into #712 record
"RTN","EASEZW",101,0)
 S DA=EASAPP
"RTN","EASEZW",102,0)
 S DIE="^EAS(712,"
"RTN","EASEZW",103,0)
 S DR=".1///^S X=EASWEBID;3.6///^S X=EVERS;3.7///^S X=EXPECT;3.8///^S X=EDETL;4.3///^S X=EMAIL;"
"RTN","EASEZW",104,0)
 S DR=DR_"4.4///^S X=EAPREQ;12///^S X=ESERV"
"RTN","EASEZW",105,0)
 D ^DIE
"RTN","EASEZW",106,0)
 K DA,DIE,DR,X,Y
"RTN","EASEZW",107,0)
 I $D(ECOMM) D WP^DIE(712,EASAPP_",",13,,"ECOMM","ERR")
"RTN","EASEZW",108,0)
 Q
"RTN","EASEZW",109,0)
 ;
"RTN","EASEZW",110,0)
NMSSNDOB ;find applicant's name,ssn,dob in data subrecords & file in main record
"RTN","EASEZW",111,0)
 ;get applicant name
"RTN","EASEZW",112,0)
 N KEY,MDL,SUFF,N,X,Y,ZX,DA,DR,DIE
"RTN","EASEZW",113,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT LAST NAME"),EASNAME=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",114,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT FIRST NAME"),EASNAME=EASNAME_","_$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",115,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT MIDDLE NAME"),MDL=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",116,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT SUFFIX NAME"),SUFF=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",117,0)
 I $L(EASNAME)+$L(MDL)>45 S MDL=$E(MDL,1)
"RTN","EASEZW",118,0)
 I MDL'="" S EASNAME=EASNAME_" "_MDL
"RTN","EASEZW",119,0)
 I SUFF'="" S EASNAME=EASNAME_" "_SUFF
"RTN","EASEZW",120,0)
 S EASNAME=$$UC^EASEZT1($E(EASNAME,1,45))
"RTN","EASEZW",121,0)
 ;get applicant ssn & dob
"RTN","EASEZW",122,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT SOCIAL SECURITY NUMBER")
"RTN","EASEZW",123,0)
 S EASSSN=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1),EASSSN=$$SSNOUT^EASEZT1(EASSSN)
"RTN","EASEZW",124,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT DATE OF BIRTH")
"RTN","EASEZW",125,0)
 S EASDOB=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",126,0)
 S VETTYPE=$$VETTYPE(EASAPP)
"RTN","EASEZW",127,0)
 S N(1)=$O(^EAS(711,"AB","APPLICANT FIRST NAME",0)),KEY(1)=$P($G(^EAS(711,N(1),0)),U,2)
"RTN","EASEZW",128,0)
 K DA,DR S DA=EASAPP,DIE="^EAS(712,"
"RTN","EASEZW",129,0)
 S ZX=EASSSN_"&"_EASDOB
"RTN","EASEZW",130,0)
 S DR="1///^S X=EASNAME;2///^S X=ZX;3.3///^S X=VETTYPE"
"RTN","EASEZW",131,0)
 D ^DIE
"RTN","EASEZW",132,0)
 Q
"RTN","EASEZW",133,0)
 ;
"RTN","EASEZW",134,0)
VETTYPE(EASAPP) ;derive a veteran type categorization for this Applicant
"RTN","EASEZW",135,0)
 ;input  EASAPP = ien in file #712 for Application
"RTN","EASEZW",136,0)
 ;output TYPE   = veteran type
"RTN","EASEZW",137,0)
 ;
"RTN","EASEZW",138,0)
 N KEY,PH,POW,SC,SCPC,MRET,VETTYPE
"RTN","EASEZW",139,0)
 ;get application data needed to determine veteran type
"RTN","EASEZW",140,0)
 S KEY=$$KEY711^EASEZU1("PURPLE HEART"),PH=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",141,0)
 S KEY=$$KEY711^EASEZU1("PRISONER OF WAR"),POW=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",142,0)
 S KEY=$$KEY711^EASEZU1("SERVICE-CONNECTED"),SC=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",143,0)
 S KEY=$$KEY711^EASEZU1("RATED PERCENTAGE"),SCPC=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",144,0)
 S KEY=$$KEY711^EASEZU1("RETIRED FROM MILITARY"),MRET=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",145,0)
 ;set veteran type
"RTN","EASEZW",146,0)
 I PH="Y" Q 5
"RTN","EASEZW",147,0)
 I POW="Y" Q 4
"RTN","EASEZW",148,0)
 I SC="Y" S TYPE=$S(+SCPC>49:1,+SCPC=0:3,1:2) Q TYPE
"RTN","EASEZW",149,0)
 I MRET="Y" Q 6
"RTN","EASEZW",150,0)
 Q 7
"RTN","EASEZW",151,0)
 ;
"RTN","EASEZW",152,0)
DESIGNEE ;set either NOK or E-CONTACT data into DESIGNEE
"RTN","EASEZW",153,0)
 N DIC,DIE,DA,DR,X,Y,EASDATA,TYPE,MULTIPLE,XPART,KEY,EASIEN
"RTN","EASEZW",154,0)
 S KEY=$$KEY711^EASEZU1("DESIGNEE")
"RTN","EASEZW",155,0)
 S EZDATA=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1)
"RTN","EASEZW",156,0)
 I (EZDATA["EMERGENCY")!(EZDATA["CONTACT") S TYPE="E-CONTACT"
"RTN","EASEZW",157,0)
 E  S TYPE="NEXT-OF-KIN"
"RTN","EASEZW",158,0)
 ;place all NOK or E-CONTACT data in DESIGNEE data lements
"RTN","EASEZW",159,0)
 F I=1:1 S X=$P($T(DSGDAT+I),";;",2) Q:X="QUIT"  D
"RTN","EASEZW",160,0)
 .S XPART=$P(X,";",1)
"RTN","EASEZW",161,0)
 .S KEY=$$KEY711^EASEZU1(TYPE_" "_XPART)
"RTN","EASEZW",162,0)
 .Q:KEY=.1
"RTN","EASEZW",163,0)
 .S KEYIEN=+$P(KEY,U,1),DATAKEY=$P(KEY,U,3)
"RTN","EASEZW",164,0)
 .;in file #2, multiple is always 1
"RTN","EASEZW",165,0)
 .S MULTIPLE=1
"RTN","EASEZW",166,0)
 .;get the data element for the NOK or E-CONT
"RTN","EASEZW",167,0)
 .S X=$$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),EASDATA=$P(X,U,1)
"RTN","EASEZW",168,0)
 .Q:EASDATA=""
"RTN","EASEZW",169,0)
 .;and file it as DESIGNEE
"RTN","EASEZW",170,0)
 .;create subrecord
"RTN","EASEZW",171,0)
 .S X=$$KEY711^EASEZU1("DESIGNEE"_" "_XPART),KEYIEN=+X
"RTN","EASEZW",172,0)
 .S EASIEN=$O(^EAS(712,EASAPP,10,999),-1)+1
"RTN","EASEZW",173,0)
 .S DIC="^EAS(712,EASAPP,10,",DIC(0)="L",DLAYGO="",X=KEYIEN,DINUM=EASIEN
"RTN","EASEZW",174,0)
 .S DA(1)=EASAPP,DIC("P")=$P(^DD(712,10,0),U,2)
"RTN","EASEZW",175,0)
 .K DD,DO D FILE^DICN
"RTN","EASEZW",176,0)
 .;file data element
"RTN","EASEZW",177,0)
 .S DIE="^EAS(712,EASAPP,10,",DA=EASIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZW",178,0)
 .S DR=".1///^S X=1;1///^S X=EASDATA;"
"RTN","EASEZW",179,0)
 .D ^DIE
"RTN","EASEZW",180,0)
 Q
"RTN","EASEZW",181,0)
 ;
"RTN","EASEZW",182,0)
DSGDAT ;
"RTN","EASEZW",183,0)
 ;;LAST NAME;
"RTN","EASEZW",184,0)
 ;;FIRST NAME;
"RTN","EASEZW",185,0)
 ;;STREET ADDRESS;
"RTN","EASEZW",186,0)
 ;;CITY;
"RTN","EASEZW",187,0)
 ;;STATE;
"RTN","EASEZW",188,0)
 ;;ZIP;;
"RTN","EASEZW",189,0)
 ;;HOME PHONE AREA CODE;
"RTN","EASEZW",190,0)
 ;;HOME PHONE NUMBER;
"RTN","EASEZW",191,0)
 ;;WORK PHONE AREA CODE;
"RTN","EASEZW",192,0)
 ;;WORK PHONE NUMBER;
"RTN","EASEZW",193,0)
 ;;WORK PHONE EXTENSION;
"RTN","EASEZW",194,0)
 ;;RELATIONSHIP;
"RTN","EASEZW",195,0)
 ;;QUIT
"SEC","^DIC",711,711,0,"AUDIT")
@
"SEC","^DIC",711,711,0,"DD")
@
"SEC","^DIC",711,711,0,"DEL")
@
"SEC","^DIC",711,711,0,"LAYGO")
@
"SEC","^DIC",711,711,0,"RD")
@
"SEC","^DIC",711,711,0,"WR")
@
"SEC","^DIC",712,712,0,"AUDIT")
@
"SEC","^DIC",712,712,0,"DD")
@
"SEC","^DIC",712,712,0,"DEL")
@
"SEC","^DIC",712,712,0,"LAYGO")
@
"SEC","^DIC",712,712,0,"RD")
@
"SEC","^DIC",712,712,0,"WR")
@
"VER")
8.0^22
"^DD",711,711,0)
FIELD^^10^11
"^DD",711,711,0,"DDA")
N
"^DD",711,711,0,"DT")
3010303
"^DD",711,711,0,"IX","A",711,1)

"^DD",711,711,0,"IX","AB",711,.01)

"^DD",711,711,0,"IX","B",711,.01)

"^DD",711,711,0,"IX","C",711,.1)

"^DD",711,711,0,"NM","1010EZ MAPPING")

"^DD",711,711,0,"NM","1010EZ MAPPING ")

"^DD",711,711,0,"PT",712.01,.01)

"^DD",711,711,0,"VRPK")
EAS
"^DD",711,711,.01,0)
ASSIGNED DATA NAME^RF^^0;1^K:$L(X)>50!($L(X)<3)!'(X'?1P.E) X
"^DD",711,711,.01,1,0)
^.1
"^DD",711,711,.01,1,1,0)
711^B
"^DD",711,711,.01,1,1,1)
S ^EAS(711,"B",$E(X,1,30),DA)=""
"^DD",711,711,.01,1,1,2)
K ^EAS(711,"B",$E(X,1,30),DA)
"^DD",711,711,.01,1,2,0)
711^AB^MUMPS
"^DD",711,711,.01,1,2,1)
S ^EAS(711,"AB",X,DA)=""
"^DD",711,711,.01,1,2,2)
K ^EAS(711,"AB",X,DA)
"^DD",711,711,.01,1,2,3)
DO NOT DELETE
"^DD",711,711,.01,1,2,"DT")
3001012
"^DD",711,711,.01,3)
Answer must be 3-50 characters in length.
"^DD",711,711,.01,21,0)
^^2^2^3010303^
"^DD",711,711,.01,21,1,0)
This unique descriptive name is used to group related 10-10EZ
"^DD",711,711,.01,21,2,0)
data elements.
"^DD",711,711,.01,"DT")
3001009
"^DD",711,711,.1,0)
DATA KEY^F^^0;2^K:$L(X)>12!($L(X)<1) X
"^DD",711,711,.1,1,0)
^.1
"^DD",711,711,.1,1,1,0)
711^C
"^DD",711,711,.1,1,1,1)
S ^EAS(711,"C",$E(X,1,30),DA)=""
"^DD",711,711,.1,1,1,2)
K ^EAS(711,"C",$E(X,1,30),DA)
"^DD",711,711,.1,1,1,3)
DO NOT DELETE
"^DD",711,711,.1,1,1,"DT")
3001009
"^DD",711,711,.1,3)
Answer must be 1-12 characters in length.
"^DD",711,711,.1,21,0)
^.001^6^6^3010307^^
"^DD",711,711,.1,21,1,0)
The Data Key is a unique identifier that associates this data element
"^DD",711,711,.1,21,2,0)
with a specific Section and Question in the On-Line 10-10EZ.
"^DD",711,711,.1,21,3,0)
Format is:  Section_;_Question
"^DD",711,711,.1,21,4,0)
            where Section and Question refer to specific data locations
"^DD",711,711,.1,21,5,0)
            on the 10-10EZ; each Section;Question identifier has been
"^DD",711,711,.1,21,6,0)
            mapped to a particular VistA database field (in most cases).
"^DD",711,711,.1,"DT")
3001009
"^DD",711,711,1,0)
ACTIVE^RS^A:ACTIVE;I:INACTIVE;^0;3^Q
"^DD",711,711,1,1,0)
^.1
"^DD",711,711,1,1,1,0)
711^A
"^DD",711,711,1,1,1,1)
S ^EAS(711,"A",$E(X,1,30),DA)=""
"^DD",711,711,1,1,1,2)
K ^EAS(711,"A",$E(X,1,30),DA)
"^DD",711,711,1,1,1,3)
DO NOT DELETE
"^DD",711,711,1,1,1,"DT")
3001017
"^DD",711,711,1,21,0)
^^3^3^3010303^
"^DD",711,711,1,21,1,0)
This provides a means to inactivate the mapping between a 10-10EZ
"^DD",711,711,1,21,2,0)
data element and the VistA database without destroying the mapping
"^DD",711,711,1,21,3,0)
for Applications already processed and filed to VistA.
"^DD",711,711,1,"DT")
3001017
"^DD",711,711,1.1,0)
INACTIVATE DATE^D^^0;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",711,711,1.1,21,0)
^^3^3^3010303^
"^DD",711,711,1.1,21,1,0)
If the mapping between a 10-10EZ data element and the VistA database
"^DD",711,711,1.1,21,2,0)
is 'inactivated', this field holds the date on which the inactivation
"^DD",711,711,1.1,21,3,0)
occurred.
"^DD",711,711,1.1,"DT")
3001008
"^DD",711,711,1.2,0)
VERSION #^RF^^0;5^K:$L(X)>8!($L(X)<1) X
"^DD",711,711,1.2,3)
Answer must be 1-8 characters in length.
"^DD",711,711,1.2,21,0)
^^2^2^3010303^
"^DD",711,711,1.2,21,1,0)
The version number of the On-Line 10-10EZ software which utilizes
"^DD",711,711,1.2,21,2,0)
this 1010EZ-to-VistA mapping.
"^DD",711,711,1.2,"DT")
3001211
"^DD",711,711,2,0)
MAP-TO FILE^RF^^1;1^K:$L(X)>8!($L(X)<1) X
"^DD",711,711,2,3)
Answer must be 1-8 characters in length.
"^DD",711,711,2,21,0)
^.001^2^2^3010307^^
"^DD",711,711,2,21,1,0)
This is the file number of the VistA database file which holds the
"^DD",711,711,2,21,2,0)
field to which this 10-10EZ data element has been mapped.
"^DD",711,711,2,"DT")
3001006
"^DD",711,711,3,0)
MAP-TO SUB-FILE^RF^^1;2^K:$L(X)>8!($L(X)<1) X
"^DD",711,711,3,3)
Answer must be 1-8 characters in length.
"^DD",711,711,3,21,0)
^.001^2^2^3010307^^
"^DD",711,711,3,21,1,0)
This is the sub-file number of the VistA database sub-file which holds
"^DD",711,711,3,21,2,0)
the field to which this 10-10EZ data element has been mapped.
"^DD",711,711,3,"DT")
3001006
"^DD",711,711,4,0)
MAP-TO FIELD^RF^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",711,711,4,3)
Answer must be 1-8 characters in length.
"^DD",711,711,4,21,0)
^^2^2^3010303^
"^DD",711,711,4,21,1,0)
This is the field number within the VistA database file or sub-file
"^DD",711,711,4,21,2,0)
to which this 10-10EZ data element has been mapped.
"^DD",711,711,4,"DT")
3010303
"^DD",711,711,5,0)
DISPLAY NAME^F^^2;1^K:$L(X)>30!($L(X)<3) X
"^DD",711,711,5,3)
Answer must be 3-30 characters in length.
"^DD",711,711,5,21,0)
^^2^2^3010303^
"^DD",711,711,5,21,1,0)
The shortened name for this 10-10EZ data element employed within the
"^DD",711,711,5,21,2,0)
1010EZ module List Manager interface.
"^DD",711,711,5,"DT")
3001024
"^DD",711,711,6,0)
DIR(0)^K^^3;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",711,711,6,3)
This is Standard MUMPS code.
"^DD",711,711,6,9)
@
"^DD",711,711,6,21,0)
^^4^4^3010303^
"^DD",711,711,6,21,1,0)
M code to set DIR(0) for a call to the FileMan Reader can be placed
"^DD",711,711,6,21,2,0)
here.  If present, this code will be used when the data element is
"^DD",711,711,6,21,3,0)
being updated within the "Update Field (UF)" action of the 
"^DD",711,711,6,21,4,0)
EAS EZ 1010EZ PROCESSING option.
"^DD",711,711,6,"DT")
3001102
"^DD",711,711,10,0)
TRANSFORM^K^^T;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",711,711,10,3)
This is Standard MUMPS code.
"^DD",711,711,10,9)
@
"^DD",711,711,10,21,0)
^^4^4^3010303^
"^DD",711,711,10,21,1,0)
Certain 10-10EZ data elements cannot be used directly to overwrite
"^DD",711,711,10,21,2,0)
VistA database fields; instead they require some transformation.
"^DD",711,711,10,21,3,0)
This field contains the M code needed to perform the needed data
"^DD",711,711,10,21,4,0)
transformation.
"^DD",711,711,10,"DT")
3001006
"^DD",712,712,0)
FIELD^^9.3^34
"^DD",712,712,0,"DDA")
N
"^DD",712,712,0,"DT")
3010307
"^DD",712,712,0,"IX","AC",712,3.4)

"^DD",712,712,0,"IX","B",712,.01)

"^DD",712,712,0,"IX","C",712,1)

"^DD",712,712,0,"IX","CLS",712,9.1)

"^DD",712,712,0,"IX","D",712,2)

"^DD",712,712,0,"IX","FIL",712,7.1)

"^DD",712,712,0,"IX","NEW",712,3)

"^DD",712,712,0,"IX","PRT",712,6.1)

"^DD",712,712,0,"IX","REV",712,5.1)

"^DD",712,712,0,"IX","SIG",712,4)

"^DD",712,712,0,"IX","W",712,.1)

"^DD",712,712,0,"NM","1010EZ HOLDING")

"^DD",712,712,0,"VRPK")
EAS
"^DD",712,712,.01,0)
APPLICATION #^RNJ7,0^^0;1^K:+X'=X!(X>9999999)!(X<101)!(X?.E1"."1N.N) X
"^DD",712,712,.01,1,0)
^.1
"^DD",712,712,.01,1,1,0)
712^B
"^DD",712,712,.01,1,1,1)
S ^EAS(712,"B",$E(X,1,30),DA)=""
"^DD",712,712,.01,1,1,2)
K ^EAS(712,"B",$E(X,1,30),DA)
"^DD",712,712,.01,3)
Type a Number between 101 and 9999999, 0 Decimal Digits
"^DD",712,712,.01,21,0)
^^2^2^3010302^
"^DD",712,712,.01,21,1,0)
A unique sequential identifier assigned by the 1010EZ module to
"^DD",712,712,.01,21,2,0)
each Application.
"^DD",712,712,.01,"DT")
3001006
"^DD",712,712,.1,0)
WEB SUBMISSION ID^F^^0;2^K:$L(X)>20!($L(X)<1) X
"^DD",712,712,.1,1,0)
^.1
"^DD",712,712,.1,1,1,0)
712^W
"^DD",712,712,.1,1,1,1)
S ^EAS(712,"W",$E(X,1,30),DA)=""
"^DD",712,712,.1,1,1,2)
K ^EAS(712,"W",$E(X,1,30),DA)
"^DD",712,712,.1,1,1,3)
DO NOT DELETE
"^DD",712,712,.1,1,1,"%D",0)
^^1^1^3010222^
"^DD",712,712,.1,1,1,"%D",1,0)
Cross-reference on Web Submission ID.
"^DD",712,712,.1,1,1,"DT")
3010222
"^DD",712,712,.1,3)
Answer must be 1-20 characters in length.
"^DD",712,712,.1,21,0)
^^2^2^3010302^
"^DD",712,712,.1,21,1,0)
The unique identifier assigned by the On-Line 10-10EZ software
"^DD",712,712,.1,21,2,0)
to each submitted Application.
"^DD",712,712,.1,"DT")
3010222
"^DD",712,712,.2,0)
RELATED MESSAGE #^F^^0;3^K:$L(X)>20!($L(X)<1) X
"^DD",712,712,.2,3)
Answer must be 1-20 characters in length.
"^DD",712,712,.2,21,0)
^^3^3^3010302^
"^DD",712,712,.2,21,1,0)
This is the internal entry number of the VistA MailMan message that
"^DD",712,712,.2,21,2,0)
contains the 10-10EZ Application.  The message was processed by
"^DD",712,712,.2,21,3,0)
the EAS EZ SERVER into this file.
"^DD",712,712,.2,"DT")
3001008
"^DD",712,712,1,0)
APPLICANT NAME^F^^0;4^K:$L(X)>45!($L(X)<3) X
"^DD",712,712,1,1,0)
^.1
"^DD",712,712,1,1,1,0)
712^C
"^DD",712,712,1,1,1,1)
S ^EAS(712,"C",$E(X,1,30),DA)=""
"^DD",712,712,1,1,1,2)
K ^EAS(712,"C",$E(X,1,30),DA)
"^DD",712,712,1,1,1,3)
DO NOT DELETE
"^DD",712,712,1,1,1,"%D",0)
^^1^1^3010226^
"^DD",712,712,1,1,1,"%D",1,0)
Used by 'quick lookup' option to retrieve 1010-EZ by Applicant Name.
"^DD",712,712,1,1,1,"DT")
3010226
"^DD",712,712,1,3)
Answer must be 3-45 characters in length.
"^DD",712,712,1,21,0)
^^1^1^3010302^
"^DD",712,712,1,21,1,0)
The Applicant's name as entered in the On-Line 10-10EZ.
"^DD",712,712,1,"DT")
3010226
"^DD",712,712,2,0)
APPLICANT SSN&DOB^F^^0;5^K:$L(X)>24!($L(X)<1) X
"^DD",712,712,2,1,0)
^.1
"^DD",712,712,2,1,1,0)
712^D
"^DD",712,712,2,1,1,1)
S ^EAS(712,"D",$E(X,1,30),DA)=""
"^DD",712,712,2,1,1,2)
K ^EAS(712,"D",$E(X,1,30),DA)
"^DD",712,712,2,1,1,3)
DO NOT DELETE
"^DD",712,712,2,1,1,"%D",0)
^^1^1^3010226^
"^DD",712,712,2,1,1,"%D",1,0)
Used by 'quick lookup' option to retrieve 1010-EZ by Applicant SSN.
"^DD",712,712,2,1,1,"DT")
3010226
"^DD",712,712,2,3)
Answer must be 1-24 characters in length.
"^DD",712,712,2,21,0)
^^4^4^3010302^
"^DD",712,712,2,21,1,0)
This free text field contains the Applicant's social security number
"^DD",712,712,2,21,2,0)
and date of birth as entered in the On-Line 10-10EZ.
"^DD",712,712,2,21,3,0)
 
"^DD",712,712,2,21,4,0)
Format is: nnn-nn-nnnn_&_mm/dd/yyyy
"^DD",712,712,2,"DT")
3010226
"^DD",712,712,3,0)
ENTRY DATE^RD^^0;6^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712,3,1,0)
^.1
"^DD",712,712,3,1,1,0)
712^NEW
"^DD",712,712,3,1,1,1)
S ^EAS(712,"NEW",$E(X,1,30),DA)=""
"^DD",712,712,3,1,1,2)
K ^EAS(712,"NEW",$E(X,1,30),DA)
"^DD",712,712,3,1,1,3)
DO NOT DELETE
"^DD",712,712,3,1,1,"%D",0)
^^2^2^3010228^
"^DD",712,712,3,1,1,"%D",1,0)
This "NEW" index is used by the 1010EZ processor to obtain the list
"^DD",712,712,3,1,1,"%D",2,0)
of New Applications.
"^DD",712,712,3,1,1,"DT")
3010228
"^DD",712,712,3,21,0)
^^2^2^3010302^
"^DD",712,712,3,21,1,0)
This is the date that the incoming 10-10EZ Application was received
"^DD",712,712,3,21,2,0)
and entered into this holding file record.
"^DD",712,712,3,"DT")
3010228
"^DD",712,712,3.1,0)
ENTERED BY^RP200'^VA(200,^0;7^Q
"^DD",712,712,3.1,21,0)
^.001^6^6^3010303^^^
"^DD",712,712,3.1,21,1,0)
This field holds the internal entry number of the person in the 
"^DD",712,712,3.1,21,2,0)
NEW PERSON file (#200) responsible for entering the 10-10EZ
"^DD",712,712,3.1,21,3,0)
Application into this holding file.
"^DD",712,712,3.1,21,4,0)
 
"^DD",712,712,3.1,21,5,0)
By default, this field will contain the IEN for the VistA
"^DD",712,712,3.1,21,6,0)
POSTMASTER (i.e., .5).
"^DD",712,712,3.1,"DT")
3001008
"^DD",712,712,3.2,0)
SOURCE^RS^W:WEB;V:VISTA;^0;8^Q
"^DD",712,712,3.2,21,0)
^^3^3^3010302^
"^DD",712,712,3.2,21,1,0)
The data in this field indicates the source of the 10-10EZ
"^DD",712,712,3.2,21,2,0)
Application.  By default, all Applications have a source of
"^DD",712,712,3.2,21,3,0)
"Web".
"^DD",712,712,3.2,"DT")
3001008
"^DD",712,712,3.3,0)
VETERAN TYPE^S^1:SC 50-100%;2:SC <50%;3:SC 0%;4:POW;5:PURPLE HEART;6:MIL. RETIREE;7:NSC;^0;9^Q
"^DD",712,712,3.3,21,0)
^^10^10^3010302^
"^DD",712,712,3.3,21,1,0)
This field contains the Veteran Type indicator as supplied by
"^DD",712,712,3.3,21,2,0)
the Applicant to the On-Line 10-10EZ.  The available indicators are:
"^DD",712,712,3.3,21,3,0)
 
"^DD",712,712,3.3,21,4,0)
SC 50-100%
"^DD",712,712,3.3,21,5,0)
SC <50%
"^DD",712,712,3.3,21,6,0)
SC 0%
"^DD",712,712,3.3,21,7,0)
POW
"^DD",712,712,3.3,21,8,0)
PURPLE HEART
"^DD",712,712,3.3,21,9,0)
MIL. RETIREE
"^DD",712,712,3.3,21,10,0)
NSC
"^DD",712,712,3.3,"DT")
3001013
"^DD",712,712,3.4,0)
LINK TO FILE #2^P2'^DPT(^0;10^Q
"^DD",712,712,3.4,1,0)
^.1
"^DD",712,712,3.4,1,1,0)
712^AC
"^DD",712,712,3.4,1,1,1)
S ^EAS(712,"AC",$E(X,1,30),DA)=""
"^DD",712,712,3.4,1,1,2)
K ^EAS(712,"AC",$E(X,1,30),DA)
"^DD",712,712,3.4,1,1,3)
DO NOT DELETE
"^DD",712,712,3.4,1,1,"DT")
3010222
"^DD",712,712,3.4,21,0)
^^6^6^3010302^
"^DD",712,712,3.4,21,1,0)
This field contains the internal entry number of the record in the
"^DD",712,712,3.4,21,2,0)
PATIENT file (#2), which has been linked with the Applicant identified
"^DD",712,712,3.4,21,3,0)
in this 10-10EZ.
"^DD",712,712,3.4,21,4,0)
 
"^DD",712,712,3.4,21,5,0)
The linkage is established by the user through the "Link to Patient File
"^DD",712,712,3.4,21,6,0)
(LZ)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,3.4,"DT")
3010222
"^DD",712,712,3.5,0)
NEW PATIENT^S^1:NEW PATIENT;^0;11^Q
"^DD",712,712,3.5,21,0)
^^3^3^3010302^
"^DD",712,712,3.5,21,1,0)
If the user created a new record in the PATIENT file (#2) when 
"^DD",712,712,3.5,21,2,0)
"Link to Patient File (LZ)" action was performed, then this field
"^DD",712,712,3.5,21,3,0)
will contain a "1".  Otherwise, it is null.
"^DD",712,712,3.5,"DT")
3001016
"^DD",712,712,3.6,0)
VERSION #^RF^^0;12^K:$L(X)>8!($L(X)<1) X
"^DD",712,712,3.6,3)
Answer must be 1-8 characters in length.
"^DD",712,712,3.6,21,0)
^.001^2^2^3010303^^
"^DD",712,712,3.6,21,1,0)
The version number of the On-Line 10-10EZ software which transmitted
"^DD",712,712,3.6,21,2,0)
the 10-10EZ to VistA.
"^DD",712,712,3.6,"DT")
3001211
"^DD",712,712,3.7,0)
EXPECT COPY FROM VET^S^1:YES;0:NO;^0;13^Q
"^DD",712,712,3.7,21,0)
^^10^10^3010302^
"^DD",712,712,3.7,21,1,0)
When completing the On-Line 10-10EZ, the Applicant must indicate
"^DD",712,712,3.7,21,2,0)
whether or not he will print the 10-10EZ from the web application
"^DD",712,712,3.7,21,3,0)
in order to sign and send to the VHA site.
"^DD",712,712,3.7,21,4,0)
 
"^DD",712,712,3.7,21,5,0)
If this field holds a "YES", then the site should expect a signed
"^DD",712,712,3.7,21,6,0)
copy of the 10-10EZ via surface mail from the Applicant.
"^DD",712,712,3.7,21,7,0)
 
"^DD",712,712,3.7,21,8,0)
If this fields holds a "NO", then site personnel should begin
"^DD",712,712,3.7,21,9,0)
processing of the 10-10EZ, generate a print-out and send it to
"^DD",712,712,3.7,21,10,0)
the Applicant for signature.
"^DD",712,712,3.7,"DT")
3001101
"^DD",712,712,3.8,0)
FINANCIAL DISCLOSURE^S^1:YES;0:NO;^0;14^Q
"^DD",712,712,3.8,21,0)
^^6^6^3010302^
"^DD",712,712,3.8,21,1,0)
Applicant's with certain Veteran Type indicators such as "NSC", must
"^DD",712,712,3.8,21,2,0)
indicate during the On-Line 10-10EZ process whether or not they intend
"^DD",712,712,3.8,21,3,0)
to disclose financial information.  
"^DD",712,712,3.8,21,4,0)
 
"^DD",712,712,3.8,21,5,0)
The "YES" or "NO" in this field indicates whether the Applicant has
"^DD",712,712,3.8,21,6,0)
agreed to provide financial information.
"^DD",712,712,3.8,"DT")
3001026
"^DD",712,712,4,0)
DATE SIGNED BY APPLICANT^D^^1;1^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712,4,1,0)
^.1
"^DD",712,712,4,1,1,0)
712^SIG
"^DD",712,712,4,1,1,1)
S ^EAS(712,"SIG",$E(X,1,30),DA)=""
"^DD",712,712,4,1,1,2)
K ^EAS(712,"SIG",$E(X,1,30),DA)
"^DD",712,712,4,1,1,3)
DO NOT DELETE
"^DD",712,712,4,1,1,"%D",0)
^^2^2^3010228^
"^DD",712,712,4,1,1,"%D",1,0)
This "SIG" index is used by the 1010EZ processor to obtain the list
"^DD",712,712,4,1,1,"%D",2,0)
of Signed Applications.
"^DD",712,712,4,1,1,"DT")
3010228
"^DD",712,712,4,21,0)
^.001^5^5^3010307^^
"^DD",712,712,4,21,1,0)
The date in this field is the date the user verified receipt of
"^DD",712,712,4,21,2,0)
a signed 10-10EZ from the Applicant.
"^DD",712,712,4,21,3,0)
 
"^DD",712,712,4,21,4,0)
Data is entered into this field when the user takes the "Verify
"^DD",712,712,4,21,5,0)
Signature (VZ)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,4,"DT")
3010228
"^DD",712,712,4.1,0)
VERIFY DATE^D^^1;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712,4.1,21,0)
^.001^5^5^3010307^^
"^DD",712,712,4.1,21,1,0)
The date in this field is the date the user verified receipt of
"^DD",712,712,4.1,21,2,0)
a signed 10-10EZ from the Applicant.  
"^DD",712,712,4.1,21,3,0)
  
"^DD",712,712,4.1,21,4,0)
Data is entered into this field when the user takes the "Verify
"^DD",712,712,4.1,21,5,0)
Signature (VZ)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,4.1,"DT")
3001006
"^DD",712,712,4.2,0)
VERIFIED BY^P200'^VA(200,^1;3^Q
"^DD",712,712,4.2,21,0)
^.001^4^4^3010303^^
"^DD",712,712,4.2,21,1,0)
This field holds the internal entry number of the person in the 
"^DD",712,712,4.2,21,2,0)
NEW PERSON file (#200) who verified the Applicant's signature on 
"^DD",712,712,4.2,21,3,0)
the printed 10-10EZ form.  This is the user that executed the
"^DD",712,712,4.2,21,4,0)
"Verify Signature (VZ)" action.
"^DD",712,712,4.2,"DT")
3001006
"^DD",712,712,4.3,0)
APPLICANT E-MAIL^F^^1;4^K:$L(X)>45!($L(X)<3) X
"^DD",712,712,4.3,3)
Answer must be 3-45 characters in length.
"^DD",712,712,4.3,21,0)
^^2^2^3010303^
"^DD",712,712,4.3,21,1,0)
This is the internet e-mail address supplied by the Applicant in
"^DD",712,712,4.3,21,2,0)
the On-Line 10-10EZ.
"^DD",712,712,4.3,"DT")
3001017
"^DD",712,712,4.4,0)
APPOINTMENT REQUESTED^S^1:YES;0:NO;^1;5^Q
"^DD",712,712,4.4,21,0)
^^2^2^3010303^
"^DD",712,712,4.4,21,1,0)
This field indicates whether or not the Applicant wishes to 
"^DD",712,712,4.4,21,2,0)
request an appointment at the medical center.
"^DD",712,712,4.4,"DT")
3001114
"^DD",712,712,4.5,0)
APPLYING TO^F^^1;6^K:$L(X)>6!($L(X)<3) X
"^DD",712,712,4.5,3)
Answer must be 3-6 characters in length.
"^DD",712,712,4.5,21,0)
^^4^4^3010303^
"^DD",712,712,4.5,21,1,0)
The Station Number for the facility to which the Applicant has
"^DD",712,712,4.5,21,2,0)
directed the Application.
"^DD",712,712,4.5,21,3,0)
  
"^DD",712,712,4.5,21,4,0)
This would indicate the Preferred Facility for Enrollment.
"^DD",712,712,4.5,"DT")
3001115
"^DD",712,712,5.1,0)
REVIEW DATE^D^^2;1^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712,5.1,1,0)
^.1
"^DD",712,712,5.1,1,1,0)
712^REV
"^DD",712,712,5.1,1,1,1)
S ^EAS(712,"REV",$E(X,1,30),DA)=""
"^DD",712,712,5.1,1,1,2)
K ^EAS(712,"REV",$E(X,1,30),DA)
"^DD",712,712,5.1,1,1,3)
DO NOT DELETE
"^DD",712,712,5.1,1,1,"%D",0)
^^2^2^3010228^
"^DD",712,712,5.1,1,1,"%D",1,0)
This "REV" index is used by the 1010EZ processor to obtain the list
"^DD",712,712,5.1,1,1,"%D",2,0)
of In Review Applications.
"^DD",712,712,5.1,1,1,"DT")
3010228
"^DD",712,712,5.1,21,0)
^.001^5^5^3010307^^
"^DD",712,712,5.1,21,1,0)
The date in this field is the date the user linked the Applicant to
"^DD",712,712,5.1,21,2,0)
the site's Patient database.  
"^DD",712,712,5.1,21,3,0)
  
"^DD",712,712,5.1,21,4,0)
Data is entered into this field when the user takes the "Link to
"^DD",712,712,5.1,21,5,0)
Patient File (LZ)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,5.1,"DT")
3010228
"^DD",712,712,5.2,0)
REVIEWED BY^P200'^VA(200,^2;2^Q
"^DD",712,712,5.2,21,0)
^^4^4^3010303^
"^DD",712,712,5.2,21,1,0)
This field holds the internal entry number of the person in the 
"^DD",712,712,5.2,21,2,0)
NEW PERSON file (#200) who linked the Applicant with the site's 
"^DD",712,712,5.2,21,3,0)
Patient database.  This is the user that executed the "Link to
"^DD",712,712,5.2,21,4,0)
Patient File (LZ)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,5.2,"DT")
3001006
"^DD",712,712,6.1,0)
PRINT DATE^D^^2;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712,6.1,1,0)
^.1
"^DD",712,712,6.1,1,1,0)
712^PRT
"^DD",712,712,6.1,1,1,1)
S ^EAS(712,"PRT",$E(X,1,30),DA)=""
"^DD",712,712,6.1,1,1,2)
K ^EAS(712,"PRT",$E(X,1,30),DA)
"^DD",712,712,6.1,1,1,3)
DO NOT DELETE
"^DD",712,712,6.1,1,1,"%D",0)
^^2^2^3010228^
"^DD",712,712,6.1,1,1,"%D",1,0)
This "PRT" index is used by the 1010EZ processor to obtain the list
"^DD",712,712,6.1,1,1,"%D",2,0)
of Printed, Pending Signature Applications.
"^DD",712,712,6.1,1,1,"DT")
3010228
"^DD",712,712,6.1,21,0)
^^7^7^3010303^
"^DD",712,712,6.1,21,1,0)
The date in this field is the date that the user first printed this
"^DD",712,712,6.1,21,2,0)
10-10EZ Application.  Data is entered into this field when the user 
"^DD",712,712,6.1,21,3,0)
takes the "Print 1010EZ (PZ)" action within the EAS EZ 1010EZ PROCESSING 
"^DD",712,712,6.1,21,4,0)
option.
"^DD",712,712,6.1,21,5,0)
   
"^DD",712,712,6.1,21,6,0)
The Application may be printed any number of times, but only the
"^DD",712,712,6.1,21,7,0)
first print data is recorded.
"^DD",712,712,6.1,"DT")
3010228
"^DD",712,712,6.2,0)
PRINTED BY^P200'^VA(200,^2;4^Q
"^DD",712,712,6.2,21,0)
^^4^4^3010303^
"^DD",712,712,6.2,21,1,0)
This field holds the internal entry number of the person in the 
"^DD",712,712,6.2,21,2,0)
NEW PERSON file (#200) who first printed this 10-10EZ Application. 
"^DD",712,712,6.2,21,3,0)
This is the user who first executed the "Print 1001EZ (PZ)" action within
"^DD",712,712,6.2,21,4,0)
the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,6.2,"DT")
3001006
"^DD",712,712,7.1,0)
FILING DATE^D^^2;5^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712,7.1,1,0)
^.1
"^DD",712,712,7.1,1,1,0)
712^FIL
"^DD",712,712,7.1,1,1,1)
S ^EAS(712,"FIL",$E(X,1,30),DA)=""
"^DD",712,712,7.1,1,1,2)
K ^EAS(712,"FIL",$E(X,1,30),DA)
"^DD",712,712,7.1,1,1,3)
DO NOT DELETE
"^DD",712,712,7.1,1,1,"%D",0)
^^3^3^3010228^
"^DD",712,712,7.1,1,1,"%D",1,0)
This "FIL" index is used by the 1010EZ processor to obtain the list
"^DD",712,712,7.1,1,1,"%D",2,0)
of Filed Applications.  Filed Applications are removed from 
"^DD",712,712,7.1,1,1,"%D",3,0)
the index 30 days post-filing.
"^DD",712,712,7.1,1,1,"DT")
3010228
"^DD",712,712,7.1,21,0)
^.001^5^5^3010307^^
"^DD",712,712,7.1,21,1,0)
The date in this field is the date the user filed the Application data
"^DD",712,712,7.1,21,2,0)
to the site's Patient database.
"^DD",712,712,7.1,21,3,0)
  
"^DD",712,712,7.1,21,4,0)
Data is entered into this field when the user takes the "File 1010EZ
"^DD",712,712,7.1,21,5,0)
(FZ)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,7.1,"DT")
3010228
"^DD",712,712,7.2,0)
FILED BY^P200'^VA(200,^2;6^Q
"^DD",712,712,7.2,21,0)
^^4^4^3010303^
"^DD",712,712,7.2,21,1,0)
This field holds the internal entry number of the person in the 
"^DD",712,712,7.2,21,2,0)
NEW PERSON file (#200) who filed the Application data into the site's 
"^DD",712,712,7.2,21,3,0)
Patient database.  This is the user that executed the "File 1010EZ
"^DD",712,712,7.2,21,4,0)
(FZ)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,7.2,"DT")
3001006
"^DD",712,712,8.1,0)
UPDATE DATE^D^^2;7^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712,8.1,21,0)
^.001^4^4^3010303^^
"^DD",712,712,8.1,21,1,0)
The date in this field is the date that the user first updated (i.e.,
"^DD",712,712,8.1,21,2,0)
directly edited) any 10-10EZ Application data.  Data is entered
"^DD",712,712,8.1,21,3,0)
into this field the first time the user takes the "Update Field (UF)" 
"^DD",712,712,8.1,21,4,0)
action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,8.1,"DT")
3001006
"^DD",712,712,8.2,0)
UPDATED BY^P200'^VA(200,^2;8^Q
"^DD",712,712,8.2,21,0)
^.001^4^4^3010303^^
"^DD",712,712,8.2,21,1,0)
This field holds the internal entry number of the person in the 
"^DD",712,712,8.2,21,2,0)
NEW PERSON file (#200) who first updated any data in this 10-10EZ 
"^DD",712,712,8.2,21,3,0)
Application. This is the user who first executed the "Update Field (UF)" 
"^DD",712,712,8.2,21,4,0)
action within the EAS EZ 1010EZ PROCESSING option for this Application.
"^DD",712,712,8.2,"DT")
3001006
"^DD",712,712,9.1,0)
CLOSE DATE^D^^2;9^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712,9.1,1,0)
^.1
"^DD",712,712,9.1,1,1,0)
712^CLS
"^DD",712,712,9.1,1,1,1)
S ^EAS(712,"CLS",$E(X,1,30),DA)=""
"^DD",712,712,9.1,1,1,2)
K ^EAS(712,"CLS",$E(X,1,30),DA)
"^DD",712,712,9.1,1,1,3)
DO NOT DELETE
"^DD",712,712,9.1,1,1,"%D",0)
^^3^3^3010228^
"^DD",712,712,9.1,1,1,"%D",1,0)
This "CLS" index is used by the 1010EZ processor to obtain the list
"^DD",712,712,9.1,1,1,"%D",2,0)
of Inactivated Applications.  Inactivated Applications are removed from
"^DD",712,712,9.1,1,1,"%D",3,0)
the index 30 days post-inactivation.
"^DD",712,712,9.1,1,1,"DT")
3010228
"^DD",712,712,9.1,21,0)
^^5^5^3010303^
"^DD",712,712,9.1,21,1,0)
The date in this field is the date the user inactivated this 10-10EZ
"^DD",712,712,9.1,21,2,0)
Application.
"^DD",712,712,9.1,21,3,0)
  
"^DD",712,712,9.1,21,4,0)
Data is entered into this field when the user takes the "Inactivate 1010EZ
"^DD",712,712,9.1,21,5,0)
(IZ)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712,9.1,"DT")
3010228
"^DD",712,712,9.2,0)
CLOSED BY^P200'^VA(200,^2;10^Q
"^DD",712,712,9.2,21,0)
^^4^4^3010303^
"^DD",712,712,9.2,21,1,0)
This field holds the internal entry number of the person in the
"^DD",712,712,9.2,21,2,0)
NEW PERSON file (#200) who inactivated this 10-10EZ Application.
"^DD",712,712,9.2,21,3,0)
This is the user that executed the "Inactivate 1010EZ (IZ)" action
"^DD",712,712,9.2,21,4,0)
within the EAS EZ 1010EZ PROCESSING option for this Application.
"^DD",712,712,9.2,"DT")
3001006
"^DD",712,712,9.3,0)
FILING TASK^F^^2;11^K:$L(X)>10!($L(X)<1) X
"^DD",712,712,9.3,3)
Answer must be 1-10 characters in length.
"^DD",712,712,9.3,21,0)
^^4^4^3010205^
"^DD",712,712,9.3,21,1,0)
Contains the identity of the background task which will file the data
"^DD",712,712,9.3,21,2,0)
from the 10-10EZ Holding file to other VistA files.
"^DD",712,712,9.3,21,3,0)
 
"^DD",712,712,9.3,21,4,0)
This is set from the ZTSK variable returned by the call to ^%ZTLOAD.
"^DD",712,712,9.3,23,0)
^^2^2^3010205^
"^DD",712,712,9.3,23,1,0)
If this field is not null, then the filing task is still in
"^DD",712,712,9.3,23,2,0)
process.
"^DD",712,712,9.3,"DT")
3010205
"^DD",712,712,10,0)
DATA ELEMENTS^712.01PA^^10;0
"^DD",712,712,10,21,0)
^.001^2^2^3010307^^
"^DD",712,712,10,21,1,0)
This multiple field holds a subrecord for each data element provided
"^DD",712,712,10,21,2,0)
by the Applicant in the On-Line 10-10EZ.
"^DD",712,712,12,0)
SERVICES REQUESTED^F^^3;1^K:$L(X)>240!($L(X)<1) X
"^DD",712,712,12,3)
Answer must be 1-240 characters in length.
"^DD",712,712,12,21,0)
^^2^2^3010303^
"^DD",712,712,12,21,1,0)
This free text field holds whatever the Applicant entered in the
"^DD",712,712,12,21,2,0)
On-Line 10-10EZ to indicate the VA services in which he is interested.
"^DD",712,712,12,"DT")
3001114
"^DD",712,712,13,0)
COMMENTS^712.013^^4;0
"^DD",712,712,13,21,0)
^^2^2^3010303^
"^DD",712,712,13,21,1,0)
This word-processing field holds whatever the Applicant entered in the
"^DD",712,712,13,21,2,0)
On-Line 10-10EZ in the Comments section of the Application.
"^DD",712,712.01,0)
DATA ELEMENTS SUB-FIELD^^2.1^9
"^DD",712,712.01,0,"DT")
3010307
"^DD",712,712.01,0,"IX","B",712.01,.01)

"^DD",712,712.01,0,"NM","DATA ELEMENTS")

"^DD",712,712.01,0,"UP")
712
"^DD",712,712.01,.01,0)
DATA ELEMENT ID^MRP711'^EAS(711,^0;1^Q
"^DD",712,712.01,.01,1,0)
^.1
"^DD",712,712.01,.01,1,1,0)
712.01^B
"^DD",712,712.01,.01,1,1,1)
S ^EAS(712,DA(1),10,"B",$E(X,1,30),DA)=""
"^DD",712,712.01,.01,1,1,2)
K ^EAS(712,DA(1),10,"B",$E(X,1,30),DA)
"^DD",712,712.01,.01,3)

"^DD",712,712.01,.01,21,0)
^.001^2^2^3010307^^
"^DD",712,712.01,.01,21,1,0)
This field holds an internal entry number to the 1010EZ MAPPING file
"^DD",712,712.01,.01,21,2,0)
(#711).
"^DD",712,712.01,.01,"DT")
3010307
"^DD",712,712.01,.1,0)
MULTIPLE NUMBER^RNJ2,0^^0;2^K:+X'=X!(X>20)!(X<1)!(X?.E1"."1N.N) X
"^DD",712,712.01,.1,3)
Type a Number between 1 and 20, 0 Decimal Digits
"^DD",712,712.01,.1,21,0)
^^7^7^3010303^
"^DD",712,712.01,.1,21,1,0)
For all data elements except Additional Dependent data, the Multiple
"^DD",712,712.01,.1,21,2,0)
Number is set the default of 1.
"^DD",712,712.01,.1,21,3,0)
 
"^DD",712,712.01,.1,21,4,0)
For Additional Dependents, each data element associated with a given
"^DD",712,712.01,.1,21,5,0)
dependent are grouped by the same, unique Multiple Number.  The first
"^DD",712,712.01,.1,21,6,0)
Additional Dependent has a Multiple Number of 1, the second Additional
"^DD",712,712.01,.1,21,7,0)
Dependent has a Multiple Number of 2, and so forth.
"^DD",712,712.01,.1,"DT")
3001010
"^DD",712,712.01,1,0)
INCOMING DATA^F^^1;1^K:$L(X)>120!($L(X)<1) X
"^DD",712,712.01,1,3)
Answer must be 1-120 characters in length.
"^DD",712,712.01,1,21,0)
^^2^2^3010303^
"^DD",712,712.01,1,21,1,0)
This field holds the original, incoming data entered by the Applicant
"^DD",712,712.01,1,21,2,0)
in the On-Line 10-10EZ Application.
"^DD",712,712.01,1,"DT")
3001120
"^DD",712,712.01,1.1,0)
ACCEPT^S^1:ACCEPT;2:ALWAYS ACCEPT;-1:NEVER ACCEPT;^0;3^Q
"^DD",712,712.01,1.1,21,0)
^^3^3^3010303^
"^DD",712,712.01,1.1,21,1,0)
This field is set to "1", if the user has 'accepted' the data.
"^DD",712,712.01,1.1,21,2,0)
The data is accepted if the user executes the "Accept Field
"^DD",712,712.01,1.1,21,3,0)
(AF)" action within the EAS EZ 1010EZ PROCESSING option.
"^DD",712,712.01,1.1,"DT")
3010205
"^DD",712,712.01,1.2,0)
UPDATE DATE^D^^0;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",712,712.01,1.2,21,0)
^^2^2^3010303^
"^DD",712,712.01,1.2,21,1,0)
The date in this field is the date that the user updated (i.e.,
"^DD",712,712.01,1.2,21,2,0)
directly edited) this specific 10-10EZ Application data element. 
"^DD",712,712.01,1.2,"DT")
3001031
"^DD",712,712.01,1.3,0)
UPDATE BY^P200'^VA(200,^0;5^Q
"^DD",712,712.01,1.3,21,0)
^^5^5^3010303^
"^DD",712,712.01,1.3,21,1,0)
This field holds the internal entry number of the person in the 
"^DD",712,712.01,1.3,21,2,0)
NEW PERSON file (#200) who updated this specific 10-10EZ Application
"^DD",712,712.01,1.3,21,3,0)
data element. This is the user who executed the "Update Field (UF)" 
"^DD",712,712.01,1.3,21,4,0)
action within the EAS EZ 1010EZ PROCESSING option for this data
"^DD",712,712.01,1.3,21,5,0)
element.
"^DD",712,712.01,1.3,"DT")
3001031
"^DD",712,712.01,1.5,0)
UPDATE DATA^F^^1;2^K:$L(X)>120!($L(X)<1) X
"^DD",712,712.01,1.5,3)
Answer must be 1-120 characters in length.
"^DD",712,712.01,1.5,21,0)
^^2^2^3010303^
"^DD",712,712.01,1.5,21,1,0)
This field holds the result of the direct edit to the data element
"^DD",712,712.01,1.5,21,2,0)
by the user when "Update Field (UF)" action was executed.
"^DD",712,712.01,1.5,"DT")
3001206
"^DD",712,712.01,2,0)
REPLACED VISTA DATA^F^^2;1^K:$L(X)>180!($L(X)<1) X
"^DD",712,712.01,2,3)
Answer must be 1-180 characters in length.
"^DD",712,712.01,2,21,0)
^^7^7^3010303^
"^DD",712,712.01,2,21,1,0)
If the Applicant was matched to an existing VistA Patient
"^DD",712,712.01,2,21,2,0)
database record, and if that Patient had existing data for the
"^DD",712,712.01,2,21,3,0)
database field that correlates with this 10-10EZ data element,
"^DD",712,712.01,2,21,4,0)
the VistA data will be recorded here before it is overwritten.
"^DD",712,712.01,2,21,5,0)
  
"^DD",712,712.01,2,21,6,0)
It is therefore possible to restore any overwritten VistA
"^DD",712,712.01,2,21,7,0)
field in the Patient record that was replaced by 10-10EZ data.
"^DD",712,712.01,2,"DT")
3001031
"^DD",712,712.01,2.1,0)
IEN LINK^F^^2;2^K:$L(X)>24!($L(X)<1) X
"^DD",712,712.01,2.1,3)
Answer must be 1-24 characters in length.
"^DD",712,712.01,2.1,21,0)
^^2^2^3010303^
"^DD",712,712.01,2.1,21,1,0)
This is the internal entry number of the VistA database record that
"^DD",712,712.01,2.1,21,2,0)
has been matched to the data contained in this 10-10EZ data element.
"^DD",712,712.01,2.1,"DT")
3001016
"^DD",712,712.013,0)
COMMENTS SUB-FIELD^^.01^1
"^DD",712,712.013,0,"DT")
3001114
"^DD",712,712.013,0,"NM","COMMENTS")

"^DD",712,712.013,0,"UP")
712
"^DD",712,712.013,.01,0)
COMMENTS^W^^0;1^Q
"^DD",712,712.013,.01,"DT")
3001114
"^DIC",711,711,0)
1010EZ MAPPING^711
"^DIC",711,711,0,"GL")
^EAS(711,
"^DIC",711,711,"%",0)
^1.005^^
"^DIC",711,711,"%D",0)
^^10^10^3010307^^^
"^DIC",711,711,"%D",1,0)
The 1010EZ MAPPING File holds the mapping between each data element
"^DIC",711,711,"%D",2,0)
in the On-Line 10-10EZ Application and the VistA Patient database.
"^DIC",711,711,"%D",3,0)
Each record in this file is uniquely identified by a Data Key which
"^DIC",711,711,"%D",4,0)
correlates exactly with a specific 10-10EZ form question within a
"^DIC",711,711,"%D",5,0)
specific 10-10EZ section.  Each record also contains the exact VistA
"^DIC",711,711,"%D",6,0)
database location (i.e., file/sub-file/field) where the data will be
"^DIC",711,711,"%D",7,0)
stored.
"^DIC",711,711,"%D",8,0)
 
"^DIC",711,711,"%D",9,0)
Local modifications to this file will cause the the 1010EZ module
"^DIC",711,711,"%D",10,0)
to malfunction and may jeopardize database integrity.
"^DIC",711,"B","1010EZ MAPPING",711)

"^DIC",712,712,0)
1010EZ HOLDING^712
"^DIC",712,712,0,"GL")
^EAS(712,
"^DIC",712,712,"%",0)
^1.005^^
"^DIC",712,712,"%D",0)
^^6^6^3010303^
"^DIC",712,712,"%D",1,0)
Each record in this file holds the contents of an On-Line 10-10EZ
"^DIC",712,712,"%D",2,0)
Application as received via e-mail at this site.  As the 10-10EZ 
"^DIC",712,712,"%D",3,0)
Application is processed by the user, processing audit information
"^DIC",712,712,"%D",4,0)
is also stored here.
"^DIC",712,712,"%D",5,0)
 
"^DIC",712,712,"%D",6,0)
This file may not be directly edited through FileMan.
"^DIC",712,"B","1010EZ HOLDING",712)

**END**
**END**
