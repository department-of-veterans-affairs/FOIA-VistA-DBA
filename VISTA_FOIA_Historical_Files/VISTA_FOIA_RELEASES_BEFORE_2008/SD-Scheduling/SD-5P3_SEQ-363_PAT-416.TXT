$TXT Created by CURTIS,RICHARD L at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Monday, 06/13/05 at 12:28
=============================================================================
Run Date: NOV 22, 2005                     Designation: SD*5.3*416
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #363                    Status: Released
                  Compliance Date: DEC 23, 2005
=============================================================================

Associated patches: (v)SD*5.3*371  <<= must be installed BEFORE `SD*5.3*416'

Subject: ADDITIONAL PERFORMANCE DATA INTO AUSTIN

Category: 
  - Routine

Description:
============

 This patch will correct a problem which occurred with January 
 transmissions when the Additional Performance Monitor data (APM) 
 was sent to the Austin Automation Center (AAC). This problem 
 occurred with the automated background process which compiles 
 and transmits this data. The January transmissions contained 
 incorrect dates for the rating period. (When this data was manually 
 retransmitted this problem did not occur.) Also, the prompt to enter 
 the MONTH and YEAR was fixed.
  
 ASSOCIATED REMEDY / NOIS:
 =========================
 HD64705 / AAC-0105-71093   ADDITIONAL PERFORMANCE DATA INTO AUSTIN
  
 ASSOCIATED E3RS:
 ================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 Central Alabama HCS
 Portland, OR
 Salisbury, NC
  
 REMEDY / NOIS OVERVIEW:
 =======================
 HD64705 / AAC-0105-71093   ADDITIONAL PERFORMANCE DATA INTO AUSTIN
  
    Problem:
    --------
    The January transmissions for 2005 for Additional Performance
    Monitor data (APM) sent to the AAC contained incorrect dates
    for the rating period of 12/01/2004 - 12/31/2004.  The HL7
    formatted dates that were received were:  20050001 thru 20050131.
    Those dates should have been:  20041201 thru 20041231.
    Additionally, it was discovered that when manually retransmitting
    this data, there was the potential to have problems because the
    existing code would allow the user to enter just the 2 digit month
    or 2 digit year, instead of both.  If both the month and the year
    are not entered, incorrect dates (similar to those above) would be
    created and sent.  When 2 digits are input, the Fileman API being
    used (^%DT), interprets it as a year.  The existing code is written
    to prevent input of the current year or a future year.  Thus, if
    any 2-digits between 05 - 25 are input, they will be interpreted
    as current or future years and will not be accepted.  However, if
    any 2-digits between 01 - 04 or 26 - 99 are input, they will be
    interpreted as past years and will be accepted, which would then
    cause a problem similar to that explained above.
  
  
    Resolution:
    -----------
    The code which sets this date range in routine SDPMHLS, was
    extracting the 2 digit month from the Fileman date and subtracting
    01.  This would not present a problem for any other month of the
    year, except January.  The code has been changed to call a Fileman
    API to insure the correct month and year are retrieved.  Additionally,
    the date range prompt for the manual retransmit option has been
    corrected to force the user to enter both a month and a year.  
  
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;AUG 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SDPMHLS                6214422              6276373         313,371,416
  
                             CHECK1^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SDPMHLS               34446475             35184132         313,371,416
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch may be installed at any time, and with users on the system. 
 Install time: less than 2 minutes.  
  
 1.  Choose the PackMan message containing this patch and invoke the
     INSTALL/CHECK MESSAGE PackMan option.
  
 2.  Start up the Kernel Installation and Distribution System Menu
     [XPD MAIN]:
  
          Edits and Distribution ...
          Utilities ...
          Installation ...
  
     Select Kernel Installation & Distribution System Option:  INStallation
                                                               ---
  
     1    Load a Distribution
     2    Verify Checksums in Transport Global
     3    Print Transport Global
     4    Compare a Transport Global to Current System
     5    Backup a Transport Global
     6    Install Package(s)
          Restart Install of Package(s)
          Unload a Distribution
  
 3.  From this menu, you may elect to use the following options
     (when prompted for the INSTALL NAME, enter SD*5.3*416):
  
     a.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
     b.  Print Transport Global - This option will allow you to view
         the components of the KIDS build.
     c.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DDs, templates, etc.).
     d.  Backup a Transport Global - This option will create a backup
         message of any routine(s) exported with this patch.  It will not
         backup any other changes such as DDs or templates.
  
 4.  Use the Install Package(s) option and select the package SD*5.3*416.
  
     a.  When prompted "Want KIDS to INHIBIT LOGONS during the install?
         YES? //" respond NO.
  
     b.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
         and Protocols? YES//" respond YES.
  
         When prompted "Enter options you wish to mark as "Out of Order":",
         enter the following option(s):
  
         ACRP Reports Menu           [SCRPW ACRP REPORTS MENU]
         Performance Monitor Menu    [SCRPW PERFORMANCE MONITOR MENU]
  
     c.  When prompted "Enter protocols you wish to mark as "Out of
         Order":", just press <return>.

Routine Information:
====================
Routine Name: SDPMHLS

=============================================================================
User Information:
Entered By  : CURTIS,RICHARD                Date Entered  : JAN 05, 2005
Completed By: DAWSON,TIM                    Date Completed: NOV 21, 2005
Released By : BENBOW,PHYLLIS O              Date Released : NOV 22, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
