Released ES*1*20 SEQ #20
Extracted from mail message
**KIDS**:ES*1.0*20^

**INSTALL NAME**
ES*1.0*20
"BLD",1008,0)
ES*1.0*20^POLICE & SECURITY^0^2980302^y
"BLD",1008,1,0)
^^2^2^2980218^
"BLD",1008,1,1,0)
ES*1.0*20
"BLD",1008,1,2,0)
Y2K Revisions - age calculation.
"BLD",1008,4,0)
^9.64PA^910^1
"BLD",1008,4,910,0)
910
"BLD",1008,4,910,2,0)
^9.641^910^1
"BLD",1008,4,910,2,910,0)
ESP MASTER NAME INDEX  (File-top level)
"BLD",1008,4,910,2,910,1,0)
^9.6411^.0301^1
"BLD",1008,4,910,2,910,1,.0301,0)
AGE
"BLD",1008,4,910,222)
y^n^p^^^^n
"BLD",1008,4,"APDD",910,910)

"BLD",1008,4,"APDD",910,910,.0301)

"BLD",1008,4,"B",910,910)

"BLD",1008,"KRN",0)
^9.67PA^19^18
"BLD",1008,"KRN",.4,0)
.4
"BLD",1008,"KRN",.401,0)
.401
"BLD",1008,"KRN",.402,0)
.402
"BLD",1008,"KRN",.403,0)
.403
"BLD",1008,"KRN",.5,0)
.5
"BLD",1008,"KRN",.84,0)
.84
"BLD",1008,"KRN",3.6,0)
3.6
"BLD",1008,"KRN",3.8,0)
3.8
"BLD",1008,"KRN",9.2,0)
9.2
"BLD",1008,"KRN",9.8,0)
9.8
"BLD",1008,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",1008,"KRN",9.8,"NM",1,0)
ESPORM2^^0^B18374717
"BLD",1008,"KRN",9.8,"NM",2,0)
ESPORP2^^0^B15960934
"BLD",1008,"KRN",9.8,"NM","B","ESPORM2",1)

"BLD",1008,"KRN",9.8,"NM","B","ESPORP2",2)

"BLD",1008,"KRN",19,0)
19
"BLD",1008,"KRN",19.1,0)
19.1
"BLD",1008,"KRN",101,0)
101
"BLD",1008,"KRN",409.61,0)
409.61
"BLD",1008,"KRN",771,0)
771
"BLD",1008,"KRN",869.2,0)
869.2
"BLD",1008,"KRN",870,0)
870
"BLD",1008,"KRN",8994,0)
8994
"BLD",1008,"KRN","B",.4,.4)

"BLD",1008,"KRN","B",.401,.401)

"BLD",1008,"KRN","B",.402,.402)

"BLD",1008,"KRN","B",.403,.403)

"BLD",1008,"KRN","B",.5,.5)

"BLD",1008,"KRN","B",.84,.84)

"BLD",1008,"KRN","B",3.6,3.6)

"BLD",1008,"KRN","B",3.8,3.8)

"BLD",1008,"KRN","B",9.2,9.2)

"BLD",1008,"KRN","B",9.8,9.8)

"BLD",1008,"KRN","B",19,19)

"BLD",1008,"KRN","B",19.1,19.1)

"BLD",1008,"KRN","B",101,101)

"BLD",1008,"KRN","B",409.61,409.61)

"BLD",1008,"KRN","B",771,771)

"BLD",1008,"KRN","B",869.2,869.2)

"BLD",1008,"KRN","B",870,870)

"BLD",1008,"KRN","B",8994,8994)

"BLD",1008,"QUES",0)
^9.62^^
"BLD",1008,"REQB",0)
^9.611^1^1
"BLD",1008,"REQB",1,0)
ES*1.0*17^2
"BLD",1008,"REQB","B","ES*1.0*17",1)

"FIA",910)
ESP MASTER NAME INDEX
"FIA",910,0)
^ESP(910,
"FIA",910,0,0)
910I
"FIA",910,0,1)
y^n^p^^^^n
"FIA",910,0,10)

"FIA",910,0,11)

"FIA",910,0,"RLRO")

"FIA",910,0,"VR")
1.0^ES
"FIA",910,910)
1
"FIA",910,910,.0301)

"PKG",366,-1)
1^1
"PKG",366,0)
POLICE & SECURITY^ES^POLICE & SECURITY PACKAGE
"PKG",366,22,0)
^9.49I^1^1
"PKG",366,22,1,0)
1.0^2940331
"PKG",366,22,1,"PAH",1,0)
20^2980302^12537
"PKG",366,22,1,"PAH",1,1,0)
^^2^2^2980302
"PKG",366,22,1,"PAH",1,1,1,0)
ES*1.0*20
"PKG",366,22,1,"PAH",1,1,2,0)
Y2K Revisions - age calculation.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ESPORM2")
0^1^B18374717
"RTN","ESPORM2",1,0)
ESPORM2 ;DALISC/CKA - OFFENSE REPORT IN MAIL MESSAGE CONT. ;3/93
"RTN","ESPORM2",2,0)
 ;;1.0;POLICE & SECURITY;**20**;Mar 31, 1994
"RTN","ESPORM2",3,0)
EN ;CONTINUED FROM ESPORM1
"RTN","ESPORM2",4,0)
OFFE ;PRINT OFFENDER(S)
"RTN","ESPORM2",5,0)
 G:'$D(^ESP(912,ESPID,40)) CONT
"RTN","ESPORM2",6,0)
 D HDR:$Y+5>IOSL
"RTN","ESPORM2",7,0)
 F ESPN=0:0 S ESPN=$O(^ESP(912,ESPID,40,ESPN)) Q:ESPN'>0  D
"RTN","ESPORM2",8,0)
 .  S DIC="^ESP(912,"_ESPID_",40,",DA=ESPN,DR=".02:.13;1.01:1.06;2.01:2.06;3.01",DIQ(0)="IE" D EN^DIQ1 Q:'$D(^UTILITY("DIQ1",$J,912.05,DA))
"RTN","ESPORM2",9,0)
 .  S ESPX=" " D MSG F I=1:1:17 S ESPX=ESPX_"* "
"RTN","ESPORM2",10,0)
 .  S ESPX=ESPX_"OFFENDER DATA"
"RTN","ESPORM2",11,0)
 .  F I=1:1:16 S ESPX=ESPX_" *"
"RTN","ESPORM2",12,0)
 .  D MSG
"RTN","ESPORM2",13,0)
 .  S ESPX=" " D MSG S ESPX="OFFENDER NAME: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.02,"E")) D MSG
"RTN","ESPORM2",14,0)
 .  S ESPFN=$G(^UTILITY("DIQ1",$J,912.05,DA,.02,"I")),SSN=$P($G(^ESP(910,+ESPFN,0)),U,2),ESPDOB=$P($G(^ESP(910,+ESPFN,0)),U,3),Y=ESPDOB X ^DD("DD") S ESPDOBP=Y
"RTN","ESPORM2",15,0)
 .  S ESPX="SSN: "_$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,9) D MSG
"RTN","ESPORM2",16,0)
 .  S ESPX="DOB: "_ESPDOBP_"    " D NOW^%DTC S X1=%,X2=ESPDOB,X="" S:X2]"" X=$E(X1,1,3)-$E(X2,1,3)-($E(X1,4,7)<$E(X2,4,7)) S ESPX=ESPX_"AGE: "_X D MSG
"RTN","ESPORM2",17,0)
 .  S ESPX="SEX: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.03,"E"))_$E(SPACES,1,10)_"RACE: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.04,"E")) D MSG
"RTN","ESPORM2",18,0)
 .  S ESPX="HEIGHT: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.05,"E"))_$E(SPACES,1,10)_"WEIGHT: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.06,"E")) D MSG
"RTN","ESPORM2",19,0)
 .  S ESPX="HAIR COLOR: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.07,"E"))_$E(SPACES,1,20)_"EYE COLOR: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.08,"E")) D MSG
"RTN","ESPORM2",20,0)
 .  S ESPX="SKIN TONE: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.09,"E"))_$E(SPACES,1,40)_"SCARS/MARKS: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.1,"E")) D MSG
"RTN","ESPORM2",21,0)
 .  S ESPX="STATUS: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.11,"E")) D MSG
"RTN","ESPORM2",22,0)
 .  S ESPX="DRIVER'S LICENSE & STATE: "_$G(^UTILITY("DIQ1",$J,912.05,DA,.12,"E"))_" "_$G(^UTILITY("DIQ1",$J,912.05,DA,.13,"E")) D MSG
"RTN","ESPORM2",23,0)
 .  S ESPX="PERSONAL DESCRIPTION: " D MSG
"RTN","ESPORM2",24,0)
 .  S ESPX=$G(^UTILITY("DIQ1",$J,912.05,DA,3.01,"E")) D MSG
"RTN","ESPORM2",25,0)
 .  S ESPX="HOME ADDRESS: "_$G(^UTILITY("DIQ1",$J,912.05,DA,1.01,"E")) D MSG
"RTN","ESPORM2",26,0)
 .  I $G(^UTILITY("DIQ1",$J,912.05,DA,1.02,"E"))]"" S ESPX=$E(SPACES,1,14)_^("E") D MSG
"RTN","ESPORM2",27,0)
 .  I $G(^UTILITY("DIQ1",$J,912.05,DA,1.03,"E"))]"" S ESPX=$E(SPACES,1,14)_^("E")_","
"RTN","ESPORM2",28,0)
 .  S ESPX=ESPX_$G(^UTILITY("DIQ1",$J,912.05,DA,1.04,"E"))_" "_$G(^UTILITY("DIQ1",$J,912.05,DA,1.05,"E")) D MSG
"RTN","ESPORM2",29,0)
 .  S ESPX="HOME PHONE: "_$G(^UTILITY("DIQ1",$J,912.05,DA,1.06,"E")) D MSG
"RTN","ESPORM2",30,0)
 .  S ESPX="WORK ADDRESS: "_$G(^UTILITY("DIQ1",$J,912.05,DA,2.01,"E")) D MSG
"RTN","ESPORM2",31,0)
 .  I $G(^UTILITY("DIQ1",$J,912.05,DA,2.02,"E"))]"" S ESPX=$E(SPACES,1,14)_^("E") D MSG
"RTN","ESPORM2",32,0)
 .  I $G(^UTILITY("DIQ1",$J,912.05,DA,2.03,"E"))]"" S ESPX=$E(SPACES,1,14)_^("E")_","
"RTN","ESPORM2",33,0)
 .  S ESPX=ESPX_$G(^UTILITY("DIQ1",$J,912.05,DA,2.04,"E"))_" "_$G(^UTILITY("DIQ1",$J,912.05,DA,2.05,"E")) D MSG
"RTN","ESPORM2",34,0)
 .  S ESPX="WORK PHONE: "_$G(^UTILITY("DIQ1",$J,912.05,DA,2.06,"E")) D MSG
"RTN","ESPORM2",35,0)
 .  F ESPN1=0:0 S ESPN1=$O(^ESP(912,ESPID,40,ESPN,10,ESPN1)) Q:ESPN1'>0  D
"RTN","ESPORM2",36,0)
 ..    S DIC="^ESP(912,"_ESPID_",40,"_ESPN_",10,",DA=ESPN1,DR=".01;.02;.03;.04",DIQ(0)="IE" D EN^DIQ1 Q:'$D(^UTILITY("DIQ1",$J,912.11,DA))
"RTN","ESPORM2",37,0)
 ..    S ESPX="OFFENSE COMMITTED: "_$G(^UTILITY("DIQ1",$J,912.11,DA,.01,"E"))_" "_$P($G(^ESP(915,+$G(^("I")),0)),U,3)_" "_$P($G(^(0)),U,5) D MSG
"RTN","ESPORM2",38,0)
 ..    S ESPX="DISPOSITION: "_$G(^UTILITY("DIQ1",$J,912.11,DA,.02,"E"))
"RTN","ESPORM2",39,0)
 ..    S ESPX=ESPX_"  CHARGING DOCUMENT: "_$G(^UTILITY("DIQ1",$J,912.11,DA,.04,"E")) D MSG
"RTN","ESPORM2",40,0)
 ;
"RTN","ESPORM2",41,0)
CONT G ^ESPORM3
"RTN","ESPORM2",42,0)
EXIT K DA,DIC,DIQ,DIRUT,ESPDOB,ESPDOBP,DR,DTOUT,DUOUT,ESPDTR,ESPFN,ESPI,ESPID,ESPL,ESPN,ESPN1,ESPX,I,IEN,PAGE,SPACES,SSN,X,X1,X2,Y
"RTN","ESPORM2",43,0)
 K ^UTILITY("DIQ1",$J),^TMP($J,"UORM")
"RTN","ESPORM2",44,0)
 QUIT
"RTN","ESPORM2",45,0)
HDR ;PRINT HEADING
"RTN","ESPORM2",46,0)
 S PAGE=PAGE+1 S ESPX=$E(SPACES,1,25)_"DEPARTMENT OF VETERANS AFFAIRS"_$E(SPACES,1,IOM-10)_"PAGE:  "_$J(PAGE,3)
"RTN","ESPORM2",47,0)
 D MSG
"RTN","ESPORM2",48,0)
 S ESPX=$E(SPACES,1,35)_"VA POLICE" D MSG
"RTN","ESPORM2",49,0)
 S ESPX=$E(SPACES,1,28)_"UNIFORM OFFENSE REPORT"
"RTN","ESPORM2",50,0)
 D MSG
"RTN","ESPORM2",51,0)
 S ESPX=$E(SPACES,1,30)_"UOR# "_$E(ESPDTR,2,3)_"-"_$E(ESPDTR,4,5)_"-"_$E(ESPDTR,6,7)_"-"_$TR($E($P(ESPDTR,".",2)_"ZZZZ",1,4),"Z",0)
"RTN","ESPORM2",52,0)
 D MSG
"RTN","ESPORM2",53,0)
 S ESPX="VA Facility" D MSG
"RTN","ESPORM2",54,0)
 I $D(^ESP(912,ESPID,5)),$P(^(5),U)'="" S ESPX=$S($D(^DIC(4,$P(^(5),U),0)):$P(^(0),U),1:"") D MSG
"RTN","ESPORM2",55,0)
 S ESPX="Automated VA Form 10-1393" D MSG
"RTN","ESPORM2",56,0)
 F ESPI=1:1:2 S ESPX=" " D MSG
"RTN","ESPORM2",57,0)
 QUIT
"RTN","ESPORM2",58,0)
MSG S ^TMP($J,"UORM",ESPL)=ESPX,ESPL=ESPL+1
"RTN","ESPORM2",59,0)
 QUIT
"RTN","ESPORP2")
0^2^B15960934
"RTN","ESPORP2",1,0)
ESPORP2 ;DALISC/CKA - PRINT OFFENSE REPORT CONT. ;10/92
"RTN","ESPORP2",2,0)
 ;;1.0;POLICE & SECURITY;**17,20**;Mar 31, 1994
"RTN","ESPORP2",3,0)
EN ;CONTINUED FROM ESPORP1
"RTN","ESPORP2",4,0)
OFFE ;PRINT OFFENDER(S)
"RTN","ESPORP2",5,0)
 G:'$D(^ESP(912,ESPID,40)) CONT
"RTN","ESPORP2",6,0)
 F ESPN=0:0 S ESPN=$O(^ESP(912,ESPID,40,ESPN)) Q:ESPN'>0!(END)  D
"RTN","ESPORP2",7,0)
 .  S DIC="^ESP(912,"_ESPID_",40,",DA=ESPN,DR=".02:.13;1.01:1.06;2.01:2.06;3.01",DIQ(0)="IE" D EN^DIQ1 Q:'$D(^UTILITY("DIQ1",$J,912.05,DA))
"RTN","ESPORP2",8,0)
 .  D MIN^ESPORP(10) Q:END
"RTN","ESPORP2",9,0)
 .  D LINES^ESPORP(2) Q:END  F I=1:1:17 W "* "
"RTN","ESPORP2",10,0)
 .  W "OFFENDER DATA"
"RTN","ESPORP2",11,0)
 .  F I=1:1:16 W " *"
"RTN","ESPORP2",12,0)
 .  D LINES^ESPORP(2) Q:END  W "OFFENDER NAME: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.02,"E"))
"RTN","ESPORP2",13,0)
 .  S ESPFN=$G(^UTILITY("DIQ1",$J,912.05,DA,.02,"I")),SSN=$P($G(^ESP(910,+ESPFN,0)),U,2),ESPDOB=$P($G(^ESP(910,+ESPFN,0)),U,3),Y=ESPDOB X ^DD("DD") S ESPDOBP=Y
"RTN","ESPORP2",14,0)
 .  D LINES^ESPORP() Q:END  W "SSN: ",$E(SSN,1,3),"-",$E(SSN,4,5),"-",$E(SSN,6,9)
"RTN","ESPORP2",15,0)
 .  W ?24,"DOB: ",ESPDOBP,"    " D NOW^%DTC S X1=%,X2=ESPDOB,X="" S:X2]"" X=$E(X1,1,3)-$E(X2,1,3)-($E(X1,4,7)<$E(X2,4,7)) W ?62,"AGE: ",X
"RTN","ESPORP2",16,0)
 .  D LINES^ESPORP() Q:END  W "SEX: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.03,"E"))
"RTN","ESPORP2",17,0)
 .  W ?24,"RACE: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.04,"E"))
"RTN","ESPORP2",18,0)
 .  W ?62,"HEIGHT: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.05,"E"))
"RTN","ESPORP2",19,0)
 .  D LINES^ESPORP() Q:END  W "WEIGHT: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.06,"E"))
"RTN","ESPORP2",20,0)
 .  W ?24,"HAIR COLOR: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.07,"E"))
"RTN","ESPORP2",21,0)
 .  W ?62,"EYE COLOR: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.08,"E"))
"RTN","ESPORP2",22,0)
 .  D LINES^ESPORP() Q:END  W "SKIN TONE: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.09,"E")),?24,"SCARS/MARKS: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.1,"E"))
"RTN","ESPORP2",23,0)
 .  D LINES^ESPORP() Q:END  W "STATUS: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.11,"E"))
"RTN","ESPORP2",24,0)
 .  D LINES^ESPORP() Q:END  W "DRIVER'S LICENSE & STATE: ",$G(^UTILITY("DIQ1",$J,912.05,DA,.12,"E"))," ",$G(^UTILITY("DIQ1",$J,912.05,DA,.13,"E"))
"RTN","ESPORP2",25,0)
 .  D LINES^ESPORP() Q:END  W "PERSONAL DESCRIPTION: "
"RTN","ESPORP2",26,0)
 .  D LINES^ESPORP() Q:END  W $G(^UTILITY("DIQ1",$J,912.05,DA,3.01,"E"))
"RTN","ESPORP2",27,0)
 .  D LINES^ESPORP() Q:END  W "HOME ADDRESS: ",$G(^UTILITY("DIQ1",$J,912.05,DA,1.01,"E"))
"RTN","ESPORP2",28,0)
 .  I $G(^UTILITY("DIQ1",$J,912.05,DA,1.02,"E"))]"" D LINES^ESPORP() Q:END  W ?14,$G(^UTILITY("DIQ1",$J,912.05,DA,1.02,"E"))
"RTN","ESPORP2",29,0)
 .  I $G(^UTILITY("DIQ1",$J,912.05,DA,1.03,"E"))]"" D LINES^ESPORP() Q:END  W ?14,$G(^UTILITY("DIQ1",$J,912.05,DA,1.03,"E")),","
"RTN","ESPORP2",30,0)
 .  W $G(^UTILITY("DIQ1",$J,912.05,DA,1.04,"E"))," ",$G(^UTILITY("DIQ1",$J,912.05,DA,1.05,"E"))
"RTN","ESPORP2",31,0)
 .  D LINES^ESPORP() Q:END  W "HOME PHONE: ",$G(^UTILITY("DIQ1",$J,912.05,DA,1.06,"E"))
"RTN","ESPORP2",32,0)
 .  D LINES^ESPORP() Q:END  W "WORK ADDRESS: ",$G(^UTILITY("DIQ1",$J,912.05,DA,2.01,"E"))
"RTN","ESPORP2",33,0)
 .  I $G(^UTILITY("DIQ1",$J,912.05,DA,2.02,"E"))]"" D LINES^ESPORP() Q:END  W ?14,$G(^UTILITY("DIQ1",$J,912.05,DA,2.02,"E"))
"RTN","ESPORP2",34,0)
 .  I $G(^UTILITY("DIQ1",$J,912.05,DA,2.03,"E"))]"" D LINES^ESPORP() Q:END  W ?14,$G(^UTILITY("DIQ1",$J,912.05,DA,2.03,"E")),","
"RTN","ESPORP2",35,0)
 .  W $G(^UTILITY("DIQ1",$J,912.05,DA,2.04,"E"))," ",$G(^UTILITY("DIQ1",$J,912.05,DA,2.05,"E"))
"RTN","ESPORP2",36,0)
 .  D LINES^ESPORP() Q:END  W "WORK PHONE: ",$G(^UTILITY("DIQ1",$J,912.05,DA,2.06,"E"))
"RTN","ESPORP2",37,0)
 .  F ESPN1=0:0 S ESPN1=$O(^ESP(912,ESPID,40,ESPN,10,ESPN1)) Q:ESPN1'>0  D
"RTN","ESPORP2",38,0)
 ..    S DIC="^ESP(912,"_ESPID_",40,"_ESPN_",10,",DA=ESPN1,DR=".01;.02;.03;.04",DIQ(0)="IE" D EN^DIQ1 Q:'$D(^UTILITY("DIQ1",$J,912.11,DA))
"RTN","ESPORP2",39,0)
 ..    D MIN^ESPORP(5) Q:END
"RTN","ESPORP2",40,0)
 ..    D LINES^ESPORP() Q:END  W "OFFENSE COMMITTED: ",$G(^UTILITY("DIQ1",$J,912.11,DA,.01,"E"))," ",$P($G(^ESP(915,+$G(^("I")),0)),U,3)," ",$P($G(^(0)),U,5)
"RTN","ESPORP2",41,0)
 ..    D LINES^ESPORP() Q:END  W "DISPOSITION: " W:$G(^UTILITY("DIQ1",$J,912.11,DA,.02,"E"))'=0 ^("E")
"RTN","ESPORP2",42,0)
 ..    W "  CHARGING DOCUMENT: ",$G(^UTILITY("DIQ1",$J,912.11,DA,.04,"E"))
"RTN","ESPORP2",43,0)
 ;
"RTN","ESPORP2",44,0)
CONT G:END EXIT G ^ESPORP3
"RTN","ESPORP2",45,0)
EXIT K CL,DA,DIC,DIQ,DIR,DIRUT,DIWF,DIWL,DIWR,ESPDOB,ESPDOBP,DR,DTOUT,DUOUT,END,ESPDTR,ESPID,ESPFN,ESPN,ESPN1,IEN,PAGE,SSN,X,Y
"RTN","ESPORP2",46,0)
 K ^UTILITY("DIQ1",$J)
"RTN","ESPORP2",47,0)
 QUIT
"VER")
8.0^21.0
"^DD",910,910,.0301,0)
AGE^CJ8,0^^ ; ^X ^DD(910,.0301,9.6) S Y=X,X=Y(910,.0301,7),X=X-Y S X=$J(X,0,0)
"^DD",910,910,.0301,9)
^
"^DD",910,910,.0301,9.01)
910^.03
"^DD",910,910,.0301,9.1)
$E(TODAY,1,3)-$E(DOB,1,3)-($E(TODAY,4,7)<$E(DOB,4,7))
"^DD",910,910,.0301,9.2)
S Y(910,.0301,4)=$S($D(^ESP(910,D0,0)):^(0),1:""),X=DT S X=X,Y(910,.0301,1)=X S X=1,Y(910,.0301,2)=X S X=3,X=$E(Y(910,.0301,1),Y(910,.0301,2),X)
"^DD",910,910,.0301,9.3)
X ^DD(910,.0301,9.2) S Y(910,.0301,3)=X S X=$P(Y(910,.0301,4),U,3),Y(910,.0301,5)=X S X=1,Y(910,.0301,6)=X S X=3
"^DD",910,910,.0301,9.4)
X ^DD(910,.0301,9.3) S X=$E(Y(910,.0301,5),Y(910,.0301,6),X) S Y=X,X=Y(910,.0301,3),X=X-Y,Y(910,.0301,7)=X,Y(910,.0301,8)=X,Y(910,.0301,9)=X,X=DT S X=X
"^DD",910,910,.0301,9.5)
X ^DD(910,.0301,9.4) S Y(910,.0301,10)=X S X=4,Y(910,.0301,11)=X S X=7,X=$E(Y(910,.0301,10),Y(910,.0301,11),X),Y(910,.0301,12)=X S X=$P(Y(910,.0301,4),U,3)
"^DD",910,910,.0301,9.6)
X ^DD(910,.0301,9.5) S Y(910,.0301,13)=X S X=4,Y(910,.0301,14)=X S X=7,X=$E(Y(910,.0301,13),Y(910,.0301,14),X) S Y=X,X=Y(910,.0301,12),X=X<Y
"^DD",910,910,.0301,21,0)
^^1^1^2901218^^^^
"^DD",910,910,.0301,21,1,0)
Computed field which determines individual's age based on DOB and today's date.
"^DD",910,910,.0301,"DT")
2980218
**END**
**END**
