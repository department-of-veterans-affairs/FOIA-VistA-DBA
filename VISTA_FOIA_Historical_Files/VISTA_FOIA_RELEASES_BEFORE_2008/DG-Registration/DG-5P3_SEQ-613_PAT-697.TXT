$TXT Created by SNOOK,APRIL at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 05/10/06 at 15:03
=============================================================================
Run Date: MAY 15, 2006                     Designation: DG*5.3*697
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #613                    Status: Released
                  Compliance Date: JUN 15, 2006
=============================================================================

Associated patches: (v)DG*5.3*428  <<= must be installed BEFORE `DG*5.3*697'
                    (v)DG*5.3*520  <<= must be installed BEFORE `DG*5.3*697'
                    (v)DG*5.3*627  <<= must be installed BEFORE `DG*5.3*697'

Subject: MPI FIXES

Category: 
  - Routine

Description:
============

 This patch disables the HL7 subscription control functionality
 for MPI/PD and fixes the SERVICE ENTRY DATE [LAST] (#.326) field 
 display when using the Remote Patient Data Query.
  
 ASSOCIATED REMEDY TICKET/NOIS:
 ===============================
 1) HD 115667 - MPI/PD EXCEPTION
  
 2) HD  91606 - Trigger for SERVICE ENTRY DATE [LAST] not working
  
 ASSOCIATED E3R(s):
 ==================
 N/A
     
 PARTICIPATING TEST SITES:
 =========================
 Dayton, OH
 Bay Pines, FL
 Puget Sound HCS
   
 REMEDY/NOIS OVERVIEW:
 ====================
  
 1) HD 115667 - MPI/PD EXCEPTION
  
 Problem:
 ========
 Site is receiving "Missing/Unable to get Logical Link" exceptions when
 Treating Facility 200HD is in the treating facility list for a patient.
 200HD is the station number for the Austin Health Data Repository (HDR).
 The problem occurs after the treating facility entry is created and the
 VAFCTFU routine attempts to add a subscription entry in the Subscription
 Control (#774) file and fails.
  
 Solution:
 =========
 MPI/PD messaging no longer uses the HL7 Subscription Control
 functionality.  The calls to the GETSCN and CHKSUB APIs are being 
 removed and the APIs deleted.
  
 2) HD  91606 - Trigger for SERVICE ENTRY DATE [LAST] not working
  
 Problem:
 ========
 When running MPI/PD Master Menu - MPI/PD Patient Admin Coordinator 
 Menu - Message Exception Menu - Remote Patient Data Query Menu - Display
 Remote Patient Data Query option and displaying the returned data on the
 MILITARY SERVICE SCREEN <6> the field value for SERVICE ENTRY DATE [LAST]
 does NOT display in the returned data.
  
  
 Solution:
 =========
 A typographical error was found in routine VAFCPDT2.  The Service 
 Entry Date is stored in the Patient file (#2) field .326 SERVICE ENTRY 
 DATE [LAST]. For SERVICE ENTRY DATE [LAST], 326 was used in the lookup
 and has been corrected to .326.
  
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993
  
  Using old logic: 
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  VAFCTFMF            8555723               7768794       149,261,255,307,
                                                              361,428,697
  VAFCTFU            17385006              12272149       149,240,261,255,
                                                          316,392,440,428,
                                                              474,520,697
  VAFCPDT2            7419673               7424973       414,505,627,697
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch may be run with users on the system, but it is recommended
 that it be queued to run after normal business hours to minimize the 
 impact on users of the MPI package.
  
 Installation will take less than 3 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
  
 2.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
 3.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter DG*5.3*697):
     a.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch (routines,
         DDs, templates, etc.).
     b.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in
         the Transport Global.
     c.  Print Transport Global - this option will allow you to view the
         components of the KIDS build.
     d.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
  
 4.  Use the Install Package(s) option and select the package DG*5.3*697.
  
 5.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO.
  
 6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond YES
     When prompted 'Enter options you wish to mark as 'Out of Order':',
     enter:
     
          Remote Patient Data Query [RG REMOTE PDAT MENU]
          Display Remote Patient Data Query [RG REMOTE PDAT DISPLAY]
     
     When prompted 'Enter protocols you wish to mark as 'Out of Order':' 
     press return.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: VAFCPDT2
    Before: B21671798  After: B21679490  **414,505,627,697**
Routine Name: VAFCTFMF
    Before: B25920957  After: B23249267  **149,261,255,307,361,428,697**
Routine Name: VAFCTFU
    Before: B59884823  After: B41840382  **149,240,261,255,316,392,440,
                                          428,474,520,697**

=============================================================================
User Information:
Entered By  : THEROUX,JOHN                  Date Entered  : JAN 09, 2006
Completed By: BOWEN,MARY JANE               Date Completed: MAY 11, 2006
Released By : HEUER,CINDY                   Date Released : MAY 15, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
