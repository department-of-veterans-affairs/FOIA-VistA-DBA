$TXT Created by WILLIAMS,BRIAN at CHEY20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Tuesday, 09/26/06 at 15:18
=============================================================================
Run Date: JAN 31, 2007                     Designation: PSA*3*61
Package : PSA - DRUG ACCOUNTABILITY           Priority: Mandatory
Version : 3        SEQ #46                      Status: Released
                  Compliance Date: MAR 03, 2007
=============================================================================

Associated patches: (v)PSA*3*21    <<= must be installed BEFORE `PSA*3*61'
                    (v)PSA*3*54    <<= must be installed BEFORE `PSA*3*61'
                    (v)PSA*3*57    <<= must be installed BEFORE `PSA*3*61'

Subject: SUPPLY ITEM AND UNDEFINED ERRORS

Category: 
  - Routine

Description:
============

 This patch addresses two instances where an undefined error may occur, 
 and also addresses the problem with a leading numeric entry for a supply 
 item.
  
 Associated Remedy Tickets:
 --------------------------------------------------------------
 HD129689   Undefined N1+3 DICNO Unable to Process Invoice
         HD132335 (duplicate)  Thrown out of Vista when uploading
         HD154114 (duplicate)  Error Processing Invoice
         HD158264 (duplicate)  <UNDEFINED>N1+3^DICN0 Unable to verify order
         HD171497 (duplicate)  Can't access invoice <UNDEFINED>N1+3^DICN0
  
 HD92886   Leading Numeric items; Reporting problem with edit/verify
           invoices of drug/supply items
         HD121076 (duplicate)  Free text field starting with numeric
  
 HD68635   PUG-0105-50501  <UNDEFINED>ASKDRUG+17
         HD128204 (duplicate)  <UNDEFINED>ASKDRUG+17^PSAVER2
         HD166759 (duplicate)  ASKDRUG+17^PSAVER2 Error
  
  
 Remedy Ticket Overview:
 =======================
 1. Problem HD129689 - Undefined error while processing invoice
 --------------------------------------------------------------
 During the processing of an invoice, it is possible to receive
 the following error:
 Undefined N1+3 DICNO 
 This error is caused by the system not properly cleaning up variables
 used by the program DICN0.
  
 Resolution HD129689 - Undefined error while processing invoice
 --------------------------------------------------------------
 The program PSAPROC7 will be modified to clean up the variables prior
 to the call to DICN0.
  
 2. Problem HD92886 - Leading zero's in supply item description 
 --------------------------------------------------------------
 If a line item on an invoice is edited to be a supply item and
 the supply item description starts with a numeric (Example: 16
 dram vial, or 10x10 sponge) the system interprets the leading
 numeric's as an internal entry number to the Drug File.  This
 will cause the software to erroneously select the wrong drug.
  
 Resolution HD92886 - Leading zero's in supply item description
 --------------------------------------------------------------
 The code has been modified to ignore the fact that the supply
 item description starts with a leading numeric.
  
 3. Problem HD68635 - Undefined error while editing invoices
 --------------------------------------------------------------
 In rare cases, the UPC and/or the NDC code in an invoice has
 no value.  If this is the case, the software will error out
 with an undefined error while editing an invoice to be verified.
  
 Resolution HD68635 - Undefined error while editing invoices
 --------------------------------------------------------------
 The code in question will be strengthened to not error out when
 this scenario occurs.
  
 Test Sites:
 -----------
 PUGET SOUND
 FARGO
 LOUISVILLE
  
        ================INSTALLATION INSTRUCTIONS =================
  
 Suggested time to install: non-peak requirement hours. The patch should be
 installed when NO Drug Accountability users are on the system.
  
  
 Install Time - less than 5 minutes 
  
  
 1.  LOAD TRANSPORT GLOBAL 
     ---------------------
     Choose the PackMan message containing this patch and invoke the 
     INSTALL/CHECK MESSAGE PackMan option.  
              
 2.  START UP KIDS 
     -------------
     Start up the Kernel Installation and Distribution System Menu 
     [XPD MAIN]: 
    
          Edits and Distribution ...  
          Utilities ...  
          Installation ...  
    
 Select Kernel Installation & Distribution System Option: INStallation 
                                                          ---
          Load a Distribution 
          Print Transport Global 
          Compare Transport Global to Current System 
          Verify Checksums in Transport Global 
          Install Package(s) 
          Restart Install of Package(s) 
          Unload a Distribution 
          Backup a Transport Global 
    
 Select Installation Option: 
    
 3.  Select Installation Option: 
     ---------------------------
     NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
            NAME, enter PSA*3.0*61):
       
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DD's, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
      
 4.  Select Installation Option: Install Package(s) 
                                 ------------------
     **This is the step to start the installation of this KIDS patch: 
    
     a.  Choose the Install Package(s) option to start the patch
         install.
     b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
         YES//' answer NO 
     c.  When prompted 'Want to DISABLE Scheduled Options, Menu 
         Options, and Protocols? YES//' answer NO 
  
 Routine Summary
 ===============
  
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like: 
   
  ;;3.0;DRUG ACCOUNTABILITY/INVENTORY INTERFACE;**[PATCH LIST]**;21-MAR-94
  
   
                        CHECK^XTSUMBLD results
  
 Routine         Before Patch     After Patch     Patch List 
 -------         ------------     -----------     ----------
 PSAORDP1        29506902         29506856        3,12,21,61
 PSAPROC7        17947479         18400679        3,12,24,27,21,42,61
 PSAUTL4         14470458         14488780        3,21,48,54,61
 PSAVER6         20321277         20321231        1,3,21,42,53,57,61
 PSAVERA1        13428166         13428120        21,61
 Total number of routines - 5

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSAORDP1
    Before: B72112204  After: B72112158  **3,12,21,61**
Routine Name: PSAPROC7
    Before: B50647267  After: B51614865  **3,12,24,27,21,42,61**
Routine Name: PSAUTL4
    Before: B26771267  After: B26805479  **3,21,48,54,61**
Routine Name: PSAVER6
    Before: B56721641  After: B56721595  **1,3,21,42,53,57,61**
Routine Name: PSAVERA1
    Before: B25758027  After: B25757981  **21,61**

=============================================================================
User Information:
Entered By  : WILLIAMS,BRIAN                Date Entered  : JUL 02, 2006
Completed By: HEFFERNAN,COREY               Date Completed: JAN 31, 2007
Released By : VECE,VIRGINIA                 Date Released : JAN 31, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
