$TXT Created by GARCIA,JOSE at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on TUESDAY, 10/08/02 at 13:21
=============================================================================
Run Date: OCT 21, 2002                     Designation: XU*8*239
Package : XU - KERNEL                          Priority: Mandatory
Version : 8       SEQ #215                       Status: Released
=============================================================================

Associated patches: (v)XU*8*236    <<= must be installed BEFORE `XU*8*239'

Subject: Hui/VHA CIO SD&D Pharmacy Data Interchange

Category: 
  - Routine
  - Other

Description: 
============

 This patch is in support of the Hui/VHA CIO SD&D Pharmacy Data 
 Interchange project. The project provides a method for the one-way 
 electronic transfer of prescription orders from an external system to 
 VistA.
  
 This patch transports the following entries:
  
 - XUHUIHL7 (routine)
 - XUHUI FIELD CHANGE EVENT (protocol from the Protocol, #101, file)
 - XUHUI SEND HL7 MESSAGE (protocol from the Protocol, #101, file)
 - XUHUI MFN and XUHUI MFK (HL7 protocols from the Protocol, #101, file)
 - XUHUI MFN and XUHUI MFK (HL7 applications from the HL7 Application 
 Parameter, #771, file)
 - HUI PROV (logical links from the HL7 Logical Link, #870, file)
  
     **Take special notice of the special post installation**
     **instructions      
  
 Test Sites: 
 ================
 Palo Alto, Clarksburg WV, North Chicago, and Oklahoma City.
  
 Blood Bank Team Coordination: 
 ================
 Clearance - Oct 8, 2002
  
 Routine Summary: 
 ================
  The following routine is included in this patch.  The second line of 
 this routine now look like: 
   
   <tab>;;8.0;KERNEL;**[patch list]**;Jul 10, 1995 
   
 CHECK^XTSUMBLD results: 
   
   Routine Name   Before Patch    After Patch     Patch List 
   ============   ============    ===========     ==========
   XUHUIHL7       -N/A-           3202066         239
  
 Protocol Summary: 
 ================
  
 AME: XUHUI FIELD CHANGE EVENT          ITEM TEXT: Field Change Event
   DISABLE: *Do not remove this message  TYPE: extended action
   CREATOR: GARCIA,JOSE
  DESCRIPTION:   This is used to launch, in the backgound, the protocols 
 that
  are listed in the ITEM multiple.  Called from routine: DEQUE^XUHUI.  
 ITEM: XUHUI SEND MESSAGE
 ITEM: XUHUI SEND HL7 MESSAGE
  
 NAME: XUHUI SEND HL7 MESSAGE            ITEM TEXT: Send HL7 MFN message
   DISABLE: *Do not remove this message  TYPE: action
   CREATOR: GARCIA,JOSE
  DESCRIPTION:   This Action protocol is used to send an HL7 MFN message 
 to the
  HUI remote middleware.  
  ENTRY ACTION: D ^XUHUIHL7             
  
 NAME: XUHUI MFN                         TYPE: event driver
   CREATOR: GARCIA,JOSE
  DESCRIPTION:   This HL7 event protocol is one of two protocols used to
  generate staff/practitioner master file (MFN) messages.  This particular
  protocol represents the sending system.  
   SENDING APPLICATION: XUHUI MFN        TRANSACTION MESSAGE TYPE: MFN
   EVENT TYPE: M02                       VERSION ID: 2.3.1
   RESPONSE PROCESSING ROUTINE: Q
 SUBSCRIBERS: XUHUI MFK
  
 NAME: XUHUI MFK                         TYPE: subscriber
   CREATOR: GARCIA,JOSE
  DESCRIPTION:   This HL7 event protocol is one of two protocols used to
  generate staff/practitioner master file (MFN) messages.  This particular
  protocol represents the receiving system.  
   RECEIVING APPLICATION: XUHUI MFK      EVENT TYPE: M02
   LOGICAL LINK: HUI PROV                RESPONSE MESSAGE TYPE: MFK
   PROCESSING ROUTINE: Q
  
 HL7 Application Parameter Summary: 
 ================
  
 NAME: XUHUI MFN                         ACTIVE/INACTIVE: ACTIVE
  
  
 NAME: XUHUI MFK                         ACTIVE/INACTIVE: ACTIVE
  
  
 HL7 Logical Link Summary: 
 ================
  
 NODE: HUI PROV                          LLP TYPE: TCP
   AUTOSTART: Enabled                    QUEUE SIZE: 10
   TCP/IP ADDRESS: 10.170.100.164        TCP/IP PORT: 2080
   TCP/IP SERVICE TYPE: CLIENT (SENDER)  
  
 Installation Instructions: 
 ==========================
 This patch can be installed with VISTA users online.  However, it is 
 recommended that it be Queued for a time of generally least activity.  
  
 TaskMan does not need to be STOPPED or placed in a WAIT state and 
 installation should take less than a minute.
  
      1.  AXP/DSM sites: No review of mapped routine set is necessary 
 since these routines are new.
  
      2.  Shutdown all Logical Links, incoming and outgoing filers, and
 the Link Manager using the Filer and Link Management options listed 
 below:
  
        Stop All Messaging Background Processes [HL STOP ALL]
        TCP Link Manager Start/Stop [HL START/STOP LINK MANAGER]
  
        AXP/DSM SITES ONLY: Disable all HL7 UCX Services for this
        installation.
  
      3.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.  
 This option will load the KIDS package onto your system.  
  
      4.  The patch has now been loaded into a transport global on your 
 system. You now need to use KIDS to install the transport global.  
   
      5.  On the KIDS menu, under the 'Installation' menu, use the 
 following options: 
             Print Transport Global 
             Compare Transport Global to Current System 
             Verify Checksums in Transport Global 
             Backup a Transport Global 
  
      6.  On the KIDS menu, under the 'Installation' menu, use the 
 following option: 
             Select Installation Option: Install Package(s) 
             Select INSTALL NAME: XU*8*239
                                  ==========
  
         Answer 'NO' to 'Want KIDS to INHIBIT LOGONs during the install?
         Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu Options,
         and Protocols? 
  
     7.  Start up all Logical Links and incoming and outgoing filers using 
 the Filer and Link Management Option's 'Restart/Start All Links and 
 Filers 
 [HL TASK RESTART]' menu option.
  
        (Note that links that do not have "autostart" enabled will need
        to be restarted manually.)
  
        AXP/DSM SITES ONLY: If you previously disabled an HL7 UCX Service
        for this installation, you may enable it now.
  
      8.  AXP/DSM Sites - After the patch has been installed, no rebuilding
 your map set is necessary.
  
 >>> Sample Installation Dialog <<<
  
 Select INSTALL NAME: XU*8.0*239       Loaded from Distribution     Loaded 
 from D
 istribution  7/10/02@11:33:20
      => XU*8*239 TEST v1
  
 This Distribution was loaded on Jul 10, 2002@11:33:20 with header of 
    XU*8*239 TEST v1
    It consisted of the following Install(s):
      XU*8.0*239
 Checking Install for Package XU*8.0*239
  
 Install Questions for XU*8.0*239
  
  
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME// 0;P-OTHER;80;999  SYSTEM
  
  Install Started for XU*8.0*239 : 
                Jul 10, 2002@11:36:42
  
 Build Distribution Date: Jul 10, 2002
  
  Installing Routines:
                Jul 10, 2002@11:36:42
  
  Installing PACKAGE COMPONENTS: 
                                    
 XU*8.0*239                                   
  
  Installing HL LOGICAL LINK
  
  Installing HL7 APPLICATION PARAMETER
  
  Installing PROTOCOL
                Jul 10, 2002@11:36:43
  
  Updating Routine file...
  
  Updating KIDS files...
  
  XU*8.0*239 Installed. 
                Jul 10, 2002@11:36:43
  
  
 =========================================================================
                 Special Post Installation Instructions
 =========================================================================
  
         For Those Sites Who ARE NOT part of the Hui/VHA OI SD&D 
 Pharmacy                        
 Data Interchange project, no further action is necessary.
  
 ========================================================================
         For Those Sites Who ARE part of the Hui/VHA OI SD&D Pharmacy Data 
 Interchange project, perform the following steps:
  
 Part 1: Removal of the 'DISABLE' message so the Protocols will launch:
  
 >D Q^DI 
  
 VA FileMan 22.0
   
 Select OPTION: ENTER OR EDIT FILE ENTRIES  
   
 INPUT TO WHAT FILE: PROTOCOL// 
 EDIT WHICH FIELD: ALL// DISABLE  
 THEN EDIT FIELD: 
   
 Select PROTOCOL NAME: XUHUI
      1   XUHUI FIELD CHANGE EVENT       Field Change Event  
      2   XUHUI MFK         
      3   XUHUI MFN         
      4   XUHUI SEND HL7 MESSAGE       Send HL7 MFN message  
      5   XUHUI SEND MESSAGE       Send Notification Message  
 CHOOSE 1-5: 1  XUHUI FIELD CHANGE EVENT     Field Change Event  
 DISABLE: *Do not remove this message  Replace @
    SURE YOU WANT TO DELETE? Y  (Yes)
  
  
 Select PROTOCOL NAME: XUHUI
      1   XUHUI FIELD CHANGE EVENT       Field Change Event  
      2   XUHUI MFK         
      3   XUHUI MFN         
      4   XUHUI SEND HL7 MESSAGE       Send HL7 MFN message  
      5   XUHUI SEND MESSAGE       Send Notification Message  
 CHOOSE 1-5: 4  XUHUI SEND HL7 MESSAGE     Send HL7 MFN message  
 DISABLE: *Do not remove this message  Replace @
    SURE YOU WANT TO DELETE? Y  (Yes) 
  
 Part 2: Enabling AUTOSTART in the HUI PROV logical link:
  
 INPUT TO WHAT FILE: PROTOCOL// HL LOGICAL LINK    (205 entries)
 EDIT WHICH FIELD: ALL// AUTOSTART  
 THEN EDIT FIELD: 
  
 Select HL LOGICAL LINK NODE:    HUI PROV
 AUTOSTART: E  Enabled
  
 Select HL LOGICAL LINK NODE:
  
  
 HUI HL7 Messaging is now enabled.

Routine Information:
====================

Routine Name:
  - XUHUIHL7


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : GARCIA,JOSE                    Date Entered : JUN 05, 2002
Completed By: HERREN,CATHRYN                Date Completed: OCT 08, 2002
Released By : TILLIS,LEWIS                  Date Released : OCT 21, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
