
=============================================================================
Run Date: JUL 01, 2004                     Designation: PSB*3*7
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3         SEQ #1                      Status: Released
                  Compliance Date: AUG 01, 2004
=============================================================================

Associated patches: (c)PSJ*5*123       install with patch       `PSB*3*7'

Subject: USER/ADMIN TIME FIX

Category: 
  - Routine

Description:
============

  
  
 *******************Important Note********************
  
     Sites running the Bar Code Medication Administration (BCMA) 
   Contingency Software must install this patch on all 
   Contingency workstations in addition to being installed
   on to the Vista Server. This patch is being released in 
   conjunction with the Inpatient Pharmacy patch PSJ*5*123. 
   Install both patches on to the Vista Server and the PSB*3*7 
   on to the Contingency Workstations as close together as 
   possible during non-peak times. 
  
     The location of the Pharmacy Orders "Admin Times" data
   has been changed in the HL7 message.  Due to transitions
   of data during the installation of these patches, orders
   on the workstation could be missing this data. The missing
   data will correct itself when that order is updated. 
   Once installed it is suggested that the sites review the 
   Contingency System reports. Any missing "Admin Times"
   can be corrected by running the Single Patient Init
   [PSB BCBU INIT SINGLE PT] option or the Workstation 
   can be re-initialized.
  
  *****************************************************
  
  1. A fix for the '&' delimiter problem with the admin times. The 
     admin times was moved to another Field of the HL7 message 
     in the pharmacy patch PSJ*5*123.
     This patch compensates for the pharmacy change.
  
  2. When a user was added, edited or terminated, BCMA Contingency 
     Software would be called and the user would be evaluated, 
     and if appropriate be transmitted to the BCMA Contingency 
     Workstations.  This evaluation was not occurring correctly.  
     As a result, all users added, changed or terminated were being 
     transmitted to the workstations.  An additional screen was added
     to ensure that only the appropriate users accounts were 
     transmitted to the workstation.
  
  3. When a user had multiple divisions defined under their user 
     account and the workstations were setup using the 
     multidivisional capability the users divisions were not 
     interpreted correctly. A bug was found in the code that 
     looped through the user's division multiple and was corrected.
       
  
  4. The user Update portion of the BCMA Contingency was not checking 
     the status of the "PSB BKUP ONLINE" parameter. Additional code
     was added to check for the status of the "PSB BKUP ONLINE" 
     parameter. If the parameter is set to "NO" then no updates 
     will be transmitted to the workstation from the user portion
     of the package.
  
  
   
    Associated NOISs:
    =================
    TNV-0204-30185
    TNV-1103-31922
    BRX-1103-11336
    CLE-1103-40728
    NOP-0903-12415
    CLE-0903-41954
    UNY-0903-10436
     
  
    
    Test Sites:
    ===========
    UPSTATE NEW YORK HCS 
    CLEVELAND, OH 
    TENNESSEE VALLEY HCS
    MIAMI, FL
    NEW JERSEY HCS
    SAN FRANCISCO, CA
     
  
    Routine Summary:
    ================
    The second line now reads as follows:
    
        <TAB>;;3.0;BAR CODE MED ADMIN;**[patch list**;May 2002
    
    CHECK^XTSUMBLD results:
  
    
    Routine  Before Patch   After Patch       Patch List
    -------  ------------   -----------   ------------------
    ALPBHL1    14492515       14736637            7
    ALPBHL1U   12048992       12027672            7
    ALPBGEN    10423241       10414189            7
                                                                  
 Patch retrieval Instructions: 
 ====================================
 To obtain the software use one the following OI Field Offices' 
 ANONYMOUS.SOFTWARE directories:
  
        Albany          ftp.fo-albany.med.va.gov   anonymous.software
        Hines           ftp.fo-hines.med.va.gov    anonymous.software
        Salt Lake City  ftp.fo-slc.med.va.gov      anonymous.software
  
 The distribution file is as follows.
  
 PSB_3_7.KID 
  
  
    Installation Instructions:
    ==========================
    
    ******************************* N O T E *******************************
    There is no conflict between this patch and the CoreFLS software.
    Installation of this patch by the CoreFLS sites will not cause any 
    problems.
    ***********************************************************************
  
    This patch can be installed with users on the system. Installation will
    take less than 1 minute.
    
    Suggested time to install: non-peak requirement hours.
  
  
    1. Retrieve and place the following host file on your system before 
       installing this KIDS distribution: PSB_3_7.KID
  
    2. Load the KIDS distribution using the Installation Menu action 
       "Load a Distribution" and the host file name PSB_3_7.KID.
    
    3. Review your mapped set. If the routines are mapped, they should
       be removed from the mapped set at this time.
    
    4. From the Kernel Installation & Distribution System menu, select
       the Installation menu.
   
    5. From this menu, you may select to use the following options
       (when prompted for INSTALL NAME, enter PSB*3.0*7):
      a. Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch. It will NOT
         backup any other changes such as DDs or templates.
      b. Compare Transport Global to Current System - this option will
         allow you to view all changes that will be made when the patch
         is installed. It compares all components of the patch (routines,
         DDs, templates, etc.).
      c. Verify Checksums in Transport Global - this option will ensure
         the integrity of the routines that are in the transport global.
    
    6. Use the Install Package(s) option and select the package PSB*3.0*7.
    
    7. When prompted "Want KIDS to INHIBIT LOGONs during the install?
       YES//" respond NO.
    
    8. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//" respond NO.
  
    
    9. If any routines were unmapped as part of step 2, they should be
       returned to the mapped set once the installation has run to
       completion.
    
    Example Installation:
    =====================
  
  
  
 Select Installation Option: LOad a Distribution
 Enter a Host File: PSB_3_7.KID
  
 KIDS Distribution saved on Nov 14, 2003@11:34:44
 Comment: 11/14/03
  
 This Distribution contains Transport Globals for the following
  Package(s):   PSB*3.0*7
  
 Distribution OK!
  
 Want to Continue with Load? YES// 
 Loading Distribution...
  
    PSB*3.0*7
 Use INSTALL NAME: PSB*3.0*7 to install this Distribution.
  
  
 Select Installation Option: INstall Package(s)
 Select INSTALL NAME:    PSB*3.0*7     Loaded from Distribution
                                        11/14/03@11:59:52
      => 11/14/03   ;Created on Nov 14, 2003@11:34:44
  
 This Distribution was loaded on Nov 14, 2003@11:59:52 with header of 
    11/14/03   ;Created on Nov 14, 2003@11:34:44
    It consisted of the following Install(s):
      PSB*3.0*7
 Checking Install for Package PSB*3.0*7
  
 Install Questions for PSB*3.0*7
  
  
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   TCP/IP terminal
  
  
  
                                    PSB*3.0*7                               
     
  
  
  Install Started for PSB*3.0*7 : 
                Nov 14, 2003@12:00:13
  
 Build Distribution Date: Nov 14, 2003
  
  Installing Routines:
                Nov 14, 2003@12:00:13
  
  Updating Routine file...
  
  Updating KIDS files...
  
  PSB*3.0*7 Installed. 
                Nov 14, 2003@12:00:13
  
  Install Message sent #16270102
  
 -----------------------------------------------------------------------
 | 100%                  25             50             75              |
 |Complete                                                             |
 -----------------------------------------------------------------------
  
  
  
 Install Completed

Routine Information:
====================

Routine Name:
  - ALPBHL1


Routine Checksum:


Routine Name:
  - ALPBHL1U


Routine Checksum:


Routine Name:
  - ALPBGEN


Routine Checksum:


=============================================================================
User Information:
Entered By  : DANE,SIDNEY                   Date Entered  : MAR 01, 2004
Completed By: FARMER,LINDA                  Date Completed: JUN 23, 2004
Released By : ALVIAR-TITUS,MARIA M          Date Released : JUL 01, 2004
=============================================================================


Packman Mail Message:
=====================

No routines included
