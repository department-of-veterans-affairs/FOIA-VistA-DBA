$TXT Created by ENFINGER,MARK at MNTVUU.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 02/06/07 at 10:01
=============================================================================
Run Date: MAR 02, 2007                     Designation: PRPF*3*16
Package : PRPF - INTEGRATED PATIENT FUNDS     Priority: Mandatory
Version : 3        SEQ #19                      Status: Released
                  Compliance Date: MAR 09, 2007
=============================================================================

Associated patches: (v)PRPF*3*15   <<= must be installed BEFORE `PRPF*3*16'

Subject: PRPF MIGRATION PATCH

Category: 
  - Enhancement (Mandatory)
  - Routine
  - Other

Description:
============

 This patch is only intended for use by sites that wish to migrate their
 Patient Funds package over to the new Veterans Personal Finance System 
 via the VistAMigrate application.
  
 Patch PRPF*3.0*16 will add new Patient Funds RPC functionality that
 will enable the VPFS migration application to transfer specific Patient
 Funds legacy data to the rehosting system. This new functionality will not
 be added to the legacy Patient Funds menu due to the fact that this
 capability is only intended for use as an RPC which is invoked by
 VistALink from the outside migration server.
  
 This patch also installs two new Remote Procedure Calls (RPC) [PRPF
 DATABASE EXTR] and [PRPF DATABASE DIAG] these are invoked by the
 VistAMigrate application via VistALink and are used in the production
 and transfer of final migration data. As well a context menu option [PRPF
 RPC UTILS] is created and will be used to control access to the new RPC's.
  
 The following security keys will be added to the Patient Funds namespace
 and are intended for use in controlling the access level or role of a VPFS
 user.
  
 New Patient Funds security keys:
  
 PRPF_ACCOUNT_OVERDRAW
 PRPF_BASIC_OFFICIAL_USER
 PRPF_BASIC_PFC
 PRPF_DEFERRAL_OVERRIDE
 PRPF_FISCAL_MANAGEMENT
 PRPF_LEAD_PFC
 PRPF_PFC_SUPER
 PRPF_RESTRICTION_OVERRIDE
 PRPF_VPFS_SECURITY_ADMIN
 PRPF_VPFS_SYSTEM_ADMIN
 PRPF_DATA_MIGRATION_USERS
  
 This patch will use a post install routine PRPFMR2 that will create a
 proxy user account for the VPFS application to use during nightly updates
 for all migrated legacy systems. When the post install routine completes
 execution it will be deleted for security reasons therefore the checksum
 can not be verified after patch installation. The displayed post install
 results will include entries for the Proxy creation report. The Proxy
 creation report will always contain one of three possible responses from
 the Proxy account install process:
  
 If message 1 is displayed in the patch 16 installation report:
 1) THE VPFS APPLICATION PROXY USER ACCOUNT HAS BEEN SUCCESSFULLY CREATED!
 Then the account was created and no further action is required.
  
 If message 2 is displayed in the patch 16 installation report:
 2) WARNING: THE VPFS APPLICATION PROXY USER ACCOUNT ALREADY PRESENT!!
 Then the account was already present and the reason for this should be 
 known by IRM. If there are any questions as to why the account is already 
 present it should be investigated.
  
 If message 3 is displayed in the patch 16 installation report:
 3) ERROR: THE VPFS APPLICATION PROXY USER ACCOUNT COULD NOT BE CREATED!!!
 Then there was a problem and IRM should be approached for a resolution 
 and patch 16 should be re-installed.
  
 The following is a list of VPFS field test sites:
 1) Phoenix
 2) St. Cloud
 3) Pittsburgh
 4) White City
 5) Tuscaloosa
 6) Hines
  
 This patch addresses the following E3R(s):
 ------------------------------------------
 There are no E3Rs associated with this patch
  
 This patch addresses the following NOIS message(s):
 ---------------------------------------------------
 There are no NOIS associated with this patch
  
  
 ====================== INSTALLATION INSTRUCTIONS ======================
  
 Install Time - Less than 5 minutes.
  
  1.  LOAD TRANSPORT GLOBAL
      ---------------------
      Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. Choose 
      the PackMan message containing this patch to invoke the option 
      that will load the KIDS package onto your system.
  
  2.  START UP KIDS
      -------------
      Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]:
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
           Load a Distribution
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
           Backup a Transport Global
  
  3.  Select Installation Option:
      --------------------------
      NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
             NAME, enter PRPF*3.0*16):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  4.  Select Installation Option: Install Package(s)
                                  ------------------
      **This is the step to start the installation of this KIDS patch:
  
      a.  Choose the Install Package(s) option to start the patch install.
      b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          YES//' answer NO.
      c.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//' answer NO
      d.  When prompted 'Enter protocols you wish to mark as 'Out Of 
          Order': press <return>.
  
  5.  Review patch installation report
  
      a.  Review results contained in the patch installation report.
      b.  Verify the results of the post install process, these results are
          contained in the patch installation report. Compare the post 
          install results (Proxy Account status) with the expected results
          documented in the patch description.
      c.  Contact your local IRM if you have any questions about the results
          contained in the patch installation report.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PRPFMR1
    Before:       n/a  After: B74854586  **16**
Routine Name: PRPFMR2
    Before:       n/a  After:  B1579962  **16**
 Description of Changes:
   
   The second line of each of the above routines now looks like:
   
   ;;3.0;PATIENT FUNDS - MIGRATION 5.1;**16**;JUNE 1, 1989


=============================================================================
User Information:
Entered By  : ENFINGER,MARK                 Date Entered  : DEC 22, 2003
Completed By: ZALLAR,KERRY                  Date Completed: FEB 22, 2007
Released By : STRICKLAND,JOAN C             Date Released : MAR 02, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
