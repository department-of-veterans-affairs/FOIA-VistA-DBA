$TXT Created by FORT,WALLY at NXT.KERNEL.ISC-SF.VA.GOV  (KIDS) on TUESDAY, 12/04/01 at 16:40
=============================================================================
Run Date: JAN 18, 2002                     Designation: XU*8*215
Package : XU - KERNEL                          Priority: Mandatory
Version : 8       SEQ #185                       Status: Released
=============================================================================

Associated patches: (v)XU*8*136    <<= must be installed BEFORE `XU*8*215'

Subject: BROKER SUPPORT

Category: 
  - Routine

Description: 
============

  
 Patch XU*8*215
  
 This patch introduces the following three enhancements.
  
 1. A new function named GETPEER has been created to get the IP address of 
 the caller to the TCP service. It has been designed to specifically work 
 with a device connected as a TCP/IP listener in support of RPCBroker.
  
 2. In SHARELIC^%ZOSV, the call made to the Cache operating system utility 
 ^%LICENSE have, in some cases, been resulting in errors which changed 
 the way other errors get handled. This has been resolved by seeing that  
  $ECODE variable is cleared after the call.
  
 3. Correctly add together the enterprise and division licenses in the 
  $$AVJ^%ZOSV call.  $$AVJ is used by Kernel to check how many available jobs 
 are on the system.  Only a few sites have division licenses. Most have 
 enterprise licenses.
  
 Routine Summary
 The following routines are included in this patch.  The second line of each
 of these routines now looks like:
  ;;8.0;KERNEL;<patchlist>;Jul 10, 1995
  
                  Checksum
 Routine         Old       New      2nd Line
 ZOSVONT       5179130   5640784    **34,94,107,118,136,215**
 ZOSVVXD       7443216   7675098    **13,65,71,94,107,118,136,215**
  
 List of preceding patches: 136
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 =========================================================================
 Installation:
  
 >>>Users may remain on the system.
 >>>TaskMan does not need to be stopped.
  
   1.  DSM sites - Some of these routines are usually mapped,
       so you will need to disable mapping for the affected routines.
  
   2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
       option will load the KIDS package onto your system.
  
   3.  The patch has now been loaded into a Transport global on your
       system. You now need to use KIDS to install the Transport global.
       On the KIDS menu, under the 'Installation' menu, use the following
       options:
  
          Verify Checksums in Transport Global
          Print Transport Global
          Compare Transport Global to Current System
          Backup a Transport Global
  
  4.  Users can remain on the system. This patch can be loaded any
      non-peak time.
      This patch can not be queued.
      TaskMan can remain running.
  
   5.  In Programmer mode:
       Use "D ^XPDKRN" then
          Install Package(s)  'XU*8.0*215'
                               ==========
  
         Want KIDS to INHIBIT LOGONs during the install? YES// NO
  
         No Options or Protocols need to be placed out-of-order.
         Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO
                                                                         ==
  
   8.  After installing this patch,
       Cache Sites - you don't need to move anything, skip this step.
       DSM/MSM sites - you need to move several routines from
       your production account to each manager account:
  
 ZOSVONT
 ZOSVVXD
  
   9.  And in the manager account,  (OpenM sites remain in VAH)
       All sites:
       DO RELOAD^ZTMGRSET
       Select the System
       Patch number to load: 215
                             ===
  
  10.  DSM Sites, after patch has installed, rebuild your map set.
  
 =========================================================================

Routine Information:
====================

Routine Name:
  - ZOSVVXD


Routine Checksum:

Routine Name:
  - ZOSVONT


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : FORT,WALLY                     Date Entered : NOV 19, 2001
Completed By: SINGH,GURBIR                  Date Completed: JAN 18, 2002
Released By : GIBBONS,JOE                   Date Released : JAN 18, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
