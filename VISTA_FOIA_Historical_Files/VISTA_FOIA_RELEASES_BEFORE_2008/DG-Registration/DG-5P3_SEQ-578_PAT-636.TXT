$TXT Created by THEROUX,JOHN at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 07/27/05 at 10:33
=============================================================================
Run Date: JUL 28, 2005                     Designation: DG*5.3*636
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #578                    Status: Released
                  Compliance Date: AUG 28, 2005
=============================================================================

Associated patches: (v)DG*5.3*510  <<= must be installed BEFORE `DG*5.3*636'
                    (v)DG*5.3*590  <<= must be installed BEFORE `DG*5.3*636'

Subject: PTF CODING WHEN PATIENT STAY STRADDLES FISCAL YEARS

Category: 
  - Routine

Description:
============

   This patch corrects a problem when coding the 501 or MAS screen in
   the Load/Edit PTF Data [DG PTF SCREEN] option.
  
   ASSOCIATED NOISes/Remedy tickets:
   ================================
   PUG-1003-51868 (ticket 63640)   CSV & PTF Enter/Edit
   duplicate:
   MIN-1104-40798 (ticket 64402)   PTF not accepting new codes with
                                   interward transfers        
   Ticket 101399                   Error with Diagnostic Code on Bill
   Ticket 101755                   Problem with West Nile code 066.4/066.41
   duplicate:
   Ticket 104075                   Can't close a PTF record on a patient.
  
   ASSOCIATED E3R(s):
   ==================
   N/A
  
   PARTICIPATING TEST SITES:
   =========================
   Puget Sound HCS
   St. Cloud,MN
   Cincinatti,OH
   
   REMEDY/NOIS OVERVIEW:
   ====================
  
   Problem:
   ========
     As reported in the above calls, and also in the course of testing
     ICD*18*12 and LEX*2*31, a problem was identified in the 
     PTF application when overlap occurs for patient movements over a 
     fiscal year cutoff.  The PTF application is calling an Application
     Programmer Interface (API) that purports to return the correct 
     effective date for an ICD-9 code associated with a patient movement
     within a PTF record; however, the date returned is not always the
     correct date.  The ICD-9 codes are versioned in terms of when they
     became effective and when they become inactive.  The API in 
     question is $$GETDATE^ICDGTDRG(), see database integration 
     agreement (DBIA) #4052 for more detailed information regarding the
     API components.  The result of the incorrect date being returned 
     for the ICD codes of a particular movement within the PTF record 
     can be as follows:
  
         1.  This issue allows entry of an ICD-9 code that was not 
             effective at the time of the patient movement.  For 
             example - In that patch, code 707.03 was allowed for a
             patient movement dated 9/29/2004; however, the code 
             707.03 was not effective until 10/1/2004.
  
         2.  In some instances, this issue disallows the lookup of
             an ICD-9 code that was in effect at the time of the 
             patient movement.  For example - In this patch code 
             707.0 is deactivated as of 10/1/2004 and should be 
             selectable for a movement dated 9/29/2004; however, 
             due to the effective date returned by the API, this 
             code is not selectable.
  
   Solution:
   =========
     For ICD fields #5-9 and #11-15 in the 501 sub-file (#45.02) of the 
   Patient Treatment file (#45), the input transform has been modified
   by changing routine DGPTFJC to only accept ICD codes that are valid 
   for that movement.  Routine DGPTR2 has also been modified so as to 
   be able to close the PTF record for transmission.
  
   ROUTINE SUMMARY:
   ================
   The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
   
       <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993
   
                              CHECK^XTSUMBLD results
   Routine name      Before Patch          After Patch         Patch List
   ============      ============          ===========         ==========
   DGPTFJC               23038342          25143061       158,510,517,590,
                                                                   636
   DGPTR2                 8785122           8962227       183,338,423,510, 
                                                                   636
   
  INSTALLATION INSTRUCTIONS:
  ===========================
  Medical Records coders should be off the system when installing patch.
  Installation will take less than 2 minutes.
  
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
      the KIDS distribution included with this message.
   
      NOTE:  If the required patches are not installed, the transport 
             global will be removed.  If the transport global is removed
             you will need to repeat this step.
   
  2.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  3.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter DG*5.3*636):
      a.  Compare Transport Global to Current System  - this option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch (routines,
          DDs, templates, etc.).
      b.  Verify Checksums in Transport Global - this option will
          allow you to ensure the integrity of the routines that are in
          the transport global.
      c.  Print Transport Global - this option will allow you to view the
          components of the KIDS build.
      d.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
  
  4.  Use the Install Package(s) option and select the package DG*5.3*636.
   
  5.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
      YES//', respond NO.
  
  6.  When prompted,'Want to DISABLE Scheduled Options, Menu Options, and 
      Protocols? YES//', enter "No".

Routine Information:
====================

Routine Name:
  - DGPTFJC


Routine Checksum:

Routine Name:
  - DGPTR2


Routine Checksum:

=============================================================================
User Information:
Entered By  : THEROUX,JOHN                  Date Entered  : NOV 18, 2004
Completed By: BOWEN,MARY JANE               Date Completed: JUL 27, 2005
Released By : FLANAGAN,PATTY                Date Released : JUL 28, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
