Released TIU*1*185 SEQ #166
Extracted from mail message
**KIDS**:TIU*1.0*185^

**INSTALL NAME**
TIU*1.0*185
"BLD",4990,0)
TIU*1.0*185^TEXT INTEGRATION UTILITIES^0^3040719^y
"BLD",4990,1,0)
^^2^2^3040719^^^^
"BLD",4990,1,1,0)
The description of this patch may be found in the National Patch Module 
"BLD",4990,1,2,0)
under TIU*1.0*185.
"BLD",4990,4,0)
^9.64PA^^
"BLD",4990,"ABPKG")
n
"BLD",4990,"KRN",0)
^9.67PA^8989.52^19
"BLD",4990,"KRN",.4,0)
.4
"BLD",4990,"KRN",.4,"NM",0)
^9.68A^^
"BLD",4990,"KRN",.401,0)
.401
"BLD",4990,"KRN",.402,0)
.402
"BLD",4990,"KRN",.403,0)
.403
"BLD",4990,"KRN",.5,0)
.5
"BLD",4990,"KRN",.84,0)
.84
"BLD",4990,"KRN",3.6,0)
3.6
"BLD",4990,"KRN",3.8,0)
3.8
"BLD",4990,"KRN",9.2,0)
9.2
"BLD",4990,"KRN",9.8,0)
9.8
"BLD",4990,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4990,"KRN",9.8,"NM",1,0)
TIUPS185^^0^B14968253
"BLD",4990,"KRN",9.8,"NM","B","TIUPS185",1)

"BLD",4990,"KRN",19,0)
19
"BLD",4990,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",4990,"KRN",19,"NM",1,0)
TIU REASSIGNMENT REPORT^^0
"BLD",4990,"KRN",19,"NM",2,0)
TIU MAIN MENU MRT^^2
"BLD",4990,"KRN",19,"NM","B","TIU MAIN MENU MRT",2)

"BLD",4990,"KRN",19,"NM","B","TIU REASSIGNMENT REPORT",1)

"BLD",4990,"KRN",19.1,0)
19.1
"BLD",4990,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",4990,"KRN",101,0)
101
"BLD",4990,"KRN",101,"NM",0)
^9.68A^^
"BLD",4990,"KRN",409.61,0)
409.61
"BLD",4990,"KRN",771,0)
771
"BLD",4990,"KRN",870,0)
870
"BLD",4990,"KRN",8989.51,0)
8989.51
"BLD",4990,"KRN",8989.52,0)
8989.52
"BLD",4990,"KRN",8994,0)
8994
"BLD",4990,"KRN","B",.4,.4)

"BLD",4990,"KRN","B",.401,.401)

"BLD",4990,"KRN","B",.402,.402)

"BLD",4990,"KRN","B",.403,.403)

"BLD",4990,"KRN","B",.5,.5)

"BLD",4990,"KRN","B",.84,.84)

"BLD",4990,"KRN","B",3.6,3.6)

"BLD",4990,"KRN","B",3.8,3.8)

"BLD",4990,"KRN","B",9.2,9.2)

"BLD",4990,"KRN","B",9.8,9.8)

"BLD",4990,"KRN","B",19,19)

"BLD",4990,"KRN","B",19.1,19.1)

"BLD",4990,"KRN","B",101,101)

"BLD",4990,"KRN","B",409.61,409.61)

"BLD",4990,"KRN","B",771,771)

"BLD",4990,"KRN","B",870,870)

"BLD",4990,"KRN","B",8989.51,8989.51)

"BLD",4990,"KRN","B",8989.52,8989.52)

"BLD",4990,"KRN","B",8994,8994)

"BLD",4990,"QUES",0)
^9.62^^
"BLD",4990,"REQB",0)
^9.611^4^1
"BLD",4990,"REQB",4,0)
TEXT INTEGRATION UTILITIES 1.0^2
"BLD",4990,"REQB","B","TEXT INTEGRATION UTILITIES 1.0",4)

"KRN",19,4762,-1)
2^2
"KRN",19,4762,0)
TIU MAIN MENU MRT^Text Integration Utilities (MRT)^^M^11^^^^^^y^193^^1^^^1
"KRN",19,4762,10,0)
^19.01IP^16^8
"KRN",19,4762,10,16,0)
9557^8^8
"KRN",19,4762,10,16,"^")
TIU REASSIGNMENT REPORT
"KRN",19,4762,"U")
TEXT INTEGRATION UTILITIES (MR
"KRN",19,9557,-1)
0^1
"KRN",19,9557,0)
TIU REASSIGNMENT REPORT^Reassignment Document Report^^R^^^^^^^^TEXT INTEGRATION UTILITIES
"KRN",19,9557,25)
EN^TIUPS185
"KRN",19,9557,"U")
REASSIGNMENT DOCUMENT REPORT
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",193,-1)
1^1
"PKG",193,0)
TEXT INTEGRATION UTILITIES^TIU^Text Integration Utilities 
"PKG",193,20,0)
^9.402P^^
"PKG",193,22,0)
^9.49I^1^1
"PKG",193,22,1,0)
1.0^3010321^3010321^11
"PKG",193,22,1,"PAH",1,0)
185^3040719^123456789110
"PKG",193,22,1,"PAH",1,1,0)
^^2^2^3040719
"PKG",193,22,1,"PAH",1,1,1,0)
The description of this patch may be found in the National Patch Module 
"PKG",193,22,1,"PAH",1,1,2,0)
under TIU*1.0*185.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","TIUPS185")
0^1^B14968253
"RTN","TIUPS185",1,0)
TIUPS185 ;SLC/TT - REPORT FOR TIU REASSIGNMENT DOCUMENTS; 03/17/04 [7/14/04 11:36am]
"RTN","TIUPS185",2,0)
 ;;1.0; TEXT INTEGRATION UTILITIES;**185**;Jun 20, 1997
"RTN","TIUPS185",3,0)
 Q
"RTN","TIUPS185",4,0)
EN ;
"RTN","TIUPS185",5,0)
 ;
"RTN","TIUPS185",6,0)
 K ^TMP("TIUPS185",$J) ;ENSURE FRESH START
"RTN","TIUPS185",7,0)
 N TIUSAVE,DRANGE
"RTN","TIUPS185",8,0)
 D ASKDATE(.DRANGE) Q:$G(DRANGE("EXIT"))="YES"
"RTN","TIUPS185",9,0)
 S TIUSAVE("*")=""
"RTN","TIUPS185",10,0)
 D EN^XUTMDEVQ("REPORT^TIUPS185","REPORT FOR TIU REASSIGNMENT DOCUMENTS",.TIUSAVE)
"RTN","TIUPS185",11,0)
 Q
"RTN","TIUPS185",12,0)
 ;
"RTN","TIUPS185",13,0)
ASKDATE(DRANGE) ; ASK USER FOR DATE RANGE
"RTN","TIUPS185",14,0)
 ;  DRANGE - DATE RANGE FOR REPORT
"RTN","TIUPS185",15,0)
 ;
"RTN","TIUPS185",16,0)
 N %DT,DIR,X,Y,POP,CNT
"RTN","TIUPS185",17,0)
 S %DT="AE"
"RTN","TIUPS185",18,0)
 F CNT=1:1:2 D
"RTN","TIUPS185",19,0)
 .S %DT("A")=$S(CNT=1:"ENTER STARTING DATE: ",CNT=2:"ENTER ENDING DATE: ")
"RTN","TIUPS185",20,0)
 .S %DT("B")=$S(CNT=1:"JAN 01, 2003",CNT=2:$P($$HTE^XLFDT($H),"@"))
"RTN","TIUPS185",21,0)
 .D ^%DT
"RTN","TIUPS185",22,0)
 .I Y=-1 S CNT=2,DRANGE("EXIT")="YES" Q
"RTN","TIUPS185",23,0)
 .I CNT=1 D
"RTN","TIUPS185",24,0)
 ..I Y["0000" S Y=Y/10000,Y=Y_"0101"
"RTN","TIUPS185",25,0)
 ..S DRANGE("START")=Y
"RTN","TIUPS185",26,0)
 .I CNT=2 D
"RTN","TIUPS185",27,0)
 ..I Y["0000" S Y=Y/10000,Y=Y_"1231"
"RTN","TIUPS185",28,0)
 ..S DRANGE("END")=Y_".24"
"RTN","TIUPS185",29,0)
 Q
"RTN","TIUPS185",30,0)
 ;
"RTN","TIUPS185",31,0)
REPORT ;  PRINT REPORT 
"RTN","TIUPS185",32,0)
 ;  AUDIEN - TIU AUDIT TRAIL IEN
"RTN","TIUPS185",33,0)
 ;  REDT - REASSIGNMENT DATE/TIME
"RTN","TIUPS185",34,0)
 ;  DOCIEN - TIU DOCUMENT IEN
"RTN","TIUPS185",35,0)
 ;  INPAT - INITIAL PATIENT
"RTN","TIUPS185",36,0)
 ;  POSTPAT - FINAL PATIENT
"RTN","TIUPS185",37,0)
 ;  DNAME - TIU DOCUMENT NAME 
"RTN","TIUPS185",38,0)
 ;
"RTN","TIUPS185",39,0)
 N REDT,DOCIEN,INPAT,POSTPAT,DNAME,TIME,COUNT,SEARCHN
"RTN","TIUPS185",40,0)
 S (DOCIEN,COUNT,SEARCHN)=0,TIME("START")=$$NOW^XLFDT
"RTN","TIUPS185",41,0)
 W:'$D(ZTQUEUED) !,"Searching...",!!
"RTN","TIUPS185",42,0)
 F  S DOCIEN=$O(^TIU(8925.5,DOCIEN)) Q:DOCIEN'>0  S SEARCHN=SEARCHN+1  D
"RTN","TIUPS185",43,0)
 .Q:'$D(^TIU(8925.5,DOCIEN,0))
"RTN","TIUPS185",44,0)
 .Q:'$D(^TIU(8925.5,DOCIEN,1))
"RTN","TIUPS185",45,0)
 .S REDT=$P(^TIU(8925.5,DOCIEN,1),"^")
"RTN","TIUPS185",46,0)
 .I ((REDT'<DRANGE("START"))&(REDT'>DRANGE("END"))) D
"RTN","TIUPS185",47,0)
 ..S INPAT=$E($$GET1^DIQ(8925.5,DOCIEN,1.03),1,19)
"RTN","TIUPS185",48,0)
 ..S:INPAT="" INPAT="UNKNOWN"
"RTN","TIUPS185",49,0)
 ..S POSTPAT=$E($$GET1^DIQ(8925.5,DOCIEN,1.04),1,19)
"RTN","TIUPS185",50,0)
 ..S:POSTPAT="" POSTPAT="UNKNOWN"
"RTN","TIUPS185",51,0)
 ..S DNAME=$E($$GET1^DIQ(8925.5,DOCIEN,.01),1,15)
"RTN","TIUPS185",52,0)
 ..S:DNAME="" DNAME="UNKNOWN"
"RTN","TIUPS185",53,0)
 ..S COUNT=COUNT+1
"RTN","TIUPS185",54,0)
 ..S ^TMP("TIUPS185",$J,REDT)=DNAME_"^"_INPAT_"^"_POSTPAT
"RTN","TIUPS185",55,0)
 S TIME("STOP")=$$NOW^XLFDT,TIME("ELAP")=$FN($$FMDIFF^XLFDT(TIME("START"),TIME("STOP"),2)/60,"-")
"RTN","TIUPS185",56,0)
 I COUNT=0 W !!?20,"NO DOCUMENTS FOUND!"
"RTN","TIUPS185",57,0)
 E  D
"RTN","TIUPS185",58,0)
 .D GENINFO
"RTN","TIUPS185",59,0)
 .D DISPLAY
"RTN","TIUPS185",60,0)
 Q
"RTN","TIUPS185",61,0)
 ;
"RTN","TIUPS185",62,0)
DISPLAY ;DISPLAY DATA
"RTN","TIUPS185",63,0)
 ;
"RTN","TIUPS185",64,0)
 I $E(IOST,1,2)'="C-" D HDR
"RTN","TIUPS185",65,0)
 N INP,FINALP,DATETM,STOP,DOCNM,LINECNT,DATA
"RTN","TIUPS185",66,0)
 S (DATETM,STOP,LINECNT)=0
"RTN","TIUPS185",67,0)
 F  S DATETM=$O(^TMP("TIUPS185",$J,DATETM)) Q:(DATETM="")  D  Q:STOP
"RTN","TIUPS185",68,0)
 .S DATA=$G(^TMP("TIUPS185",$J,DATETM))
"RTN","TIUPS185",69,0)
 .S DOCNM=$P(DATA,"^",1),INP=$P(DATA,"^",2),FINALP=$P(DATA,"^",3)
"RTN","TIUPS185",70,0)
 .I $E(IOST,1,2)="C-" D
"RTN","TIUPS185",71,0)
 ..I 'LINECNT W @IOF D HDR
"RTN","TIUPS185",72,0)
 ..W !,DOCNM,?17,INP,?38,FINALP,?58,$$FMTE^XLFDT(DATETM)
"RTN","TIUPS185",73,0)
 ..S LINECNT=LINECNT+1
"RTN","TIUPS185",74,0)
 ..I LINECNT=17 W ! S STOP='$$PAUSE,LINECNT=0
"RTN","TIUPS185",75,0)
 .E  W !,DOCNM,?17,INP,?38,FINALP,?58,$$FMTE^XLFDT(DATETM)
"RTN","TIUPS185",76,0)
 Q
"RTN","TIUPS185",77,0)
 ;
"RTN","TIUPS185",78,0)
HDR ; REPORT HEADER
"RTN","TIUPS185",79,0)
 ;
"RTN","TIUPS185",80,0)
 N TITLE
"RTN","TIUPS185",81,0)
 S TITLE="TIU REASSIGNMENT DOCUMENT REPORT"
"RTN","TIUPS185",82,0)
 W !?(IOM-$L(TITLE))/2,TITLE
"RTN","TIUPS185",83,0)
 W !!,"DOCUMENT NAME",?17,"INITIAL PATIENT",?38,"FINAL PATIENT",?58,"REASSIGNMENT DATE/TIME"
"RTN","TIUPS185",84,0)
 W !,"=============",?17,"===============",?38,"=============",?58,"======================"
"RTN","TIUPS185",85,0)
 Q
"RTN","TIUPS185",86,0)
 ;
"RTN","TIUPS185",87,0)
GENINFO ; GENERAL INFORMATION
"RTN","TIUPS185",88,0)
 ;
"RTN","TIUPS185",89,0)
 N LINE,TXT
"RTN","TIUPS185",90,0)
 F LINE=1:1 S TXT=$P($T(TEXT+LINE),";;",2) Q:TXT="EOT"  W @TXT,!
"RTN","TIUPS185",91,0)
 Q
"RTN","TIUPS185",92,0)
 ;
"RTN","TIUPS185",93,0)
PAUSE() ;
"RTN","TIUPS185",94,0)
 N DIR,X,Y,DTOUT,DUOUT,DIRUT
"RTN","TIUPS185",95,0)
 S DIR(0)="E"
"RTN","TIUPS185",96,0)
 D ^DIR
"RTN","TIUPS185",97,0)
 Q $S(Y'=1:0,1:1)
"RTN","TIUPS185",98,0)
 ;
"RTN","TIUPS185",99,0)
TEXT ;
"RTN","TIUPS185",100,0)
 ;;"Date range searched: "_($$FMTE^XLFDT(DRANGE("START"),"D"))_" - "_($$FMTE^XLFDT(DRANGE("END"),"D"))
"RTN","TIUPS185",101,0)
 ;;"Number of records searched: "_SEARCHN
"RTN","TIUPS185",102,0)
 ;;"Number of records found: "_COUNT
"RTN","TIUPS185",103,0)
 ;;"Elapsed time: "_(TIME("ELAP")\1)_" minute(s) "_($FN((TIME("ELAP")#1)*60,"-",0))_" second(s)"
"RTN","TIUPS185",104,0)
 ;;"Current user: "_($$GET1^DIQ(200,+DUZ,.01))
"RTN","TIUPS185",105,0)
 ;;"Current date: "_($$HTE^XLFDT($H))
"RTN","TIUPS185",106,0)
 ;;EOT
"RTN","TIUPS185",107,0)
 Q
"VER")
8.0^22.0
**END**
**END**
