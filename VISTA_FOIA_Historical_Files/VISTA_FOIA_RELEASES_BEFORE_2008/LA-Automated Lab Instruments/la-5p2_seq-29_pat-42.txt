
=============================================================================
Run Date: APR 06, 1998                     Designation: LA*5.2*42
Package : LA - AUTOMATED LAB INSTRUMENTS     Priority: Mandatory
Version : 5.2        SEQ #29                    Status: Released
=============================================================================

Associated patches: (v)LA*5.2*12   <<= must be installed BEFORE `LA*5.2*42'
                    (v)LA*5.2*17   <<= must be installed BEFORE `LA*5.2*42'
                    (v)LA*5.2*26   <<= must be installed BEFORE `LA*5.2*42'
                    (v)LA*5.2*27   <<= must be installed BEFORE `LA*5.2*42'
                    (v)LR*5.2*153  <<= must be installed BEFORE `LA*5.2*42'
                    (v)LA*5.2*33   <<= must be installed BEFORE `LA*5.2*42'
                    (v)LA*5.2*37   <<= must be installed BEFORE `LA*5.2*42'
                    (v)DI*21*44    <<= must be installed BEFORE `LA*5.2*42'
                    (v)XU*8*71     <<= must be installed BEFORE `LA*5.2*42'

Subject: Y2K PATCH - AUTOMATED LAB INSTRUMENTS

Category: 
  - Routine

Description: 
============

             AUTOMATED LAB INSTRUMENTS (LA) Y2K PATCH
  
  
  Description:
  
  This is the Year 2000 (Y2K) compliance patch containing the changes
  necessary to accommodate the year 2000.  2 digit (YY) year dates are
  replaced with 4 digit (CCYY) century year dates in laboratory routines
  for patients' permanent clinical record. 2 digit year dates are replaced
  in other laboratory routines where space was available.
  
  With the upcoming turn of the century (Y2K) the Office of the
  Chief Information Office Technical Services has issued a guidelines
  document for VISTA Software Y2K requirements.  This guideline lays out
  the core essentials to meet or exceed OMB, GAO and congressional
  requirements for Year 2000 requirements.  Laboratory software has been
  modified to meet or exceed these guidelines.
  
  Reference NOIS:        None
  
  Reporting Site:        N/A
  
  Test Site(s)--Alpha Platform w/ DSM OS:  Brockton VAMC, Milwaukee VAMC
                                           North Chicago VAMC
  
  
  -----------------------------------------------
  Software Availability:
  
  This patch is available from one of the CIO Field Offices listed below.
  All VAMC's are encouraged to use their FTP capability to obtain the
  software from the appropriate directory
  
  CIO Field Office           FTP Address             Directory
  ----------------          -------------        -----------------
  Hines                     152.129.1.110        anonymous.software
  Albany                    152.127.1.5          anonymous.software
  Salt Lake                 152.131.2.1          anonymous.software
  
  File Name: LAB_Y2K.KID
  Note: This patch is issued as part of a KIDS Distribution in which
  the Transport Globals contains three Laboratory patches.  The patches
  are LR*5.2*203, LR*5.2*201 and LA*5.2*42.
   
   
 ----------------------------
 Options affected by changes:
  
 AP Microfiche Archive [LA AP FICHE]
 Lab Error Trap Listing [LA ERR PRINT]
 Vitek Load Worklist (Build) [LA MI VITEK L/W BUILD]
 Verify Micro Auto Data [LA MI VERIFY AUTO]
 VITEK LITERAL [LA VITEK LITERAL]
  
 ---------------
  
 Routine changes:
  
 Routine     Line Tag    Description of Change
 -------     --------    ------------------------------------------------
 LABALARM    LABALARM+2  Changed call to %DT with X="NOW" to Kernel
                         $$HTE^XLFDT to determine current system time.
  
 LADOWN1     TREE+4      Code was taking entire node of panel test multiple
                         in file LABORATORY TEST (#60) as pointer to entry
                         in file LABORATORY TEST (#60). Since other data is
                         stored on this node the pointer to file #60 was
                         incorrectly constructed. Code now "+" variable to
                         determine value of first piece.
  
 LABERR      EN1+1       Changed save error code to Kernel call $$EC^%ZOSV.
  
 LABERR      EN1+5       Set Kernel variable DT using approved call
                         $$DT^XLFDT, variable SY using call to $$NOW^XLFDT.
  
 LA7SMPXL    PD+1        Fixed printing incorrect collecting site on report.
  
 LA7SMPXL    SITE+1      Fixed printing incorrect collecting site on report.
  
 LASET       LA1+7       Changed call to %DT with X="NOW" to Kernel
                         $$HTE^XLFDT to determine current system time.
  
 LA7UTIL     CADT+0      Extrinsic function to calculate current accession
           - CADT+6      date based on accession area transform.
  
 LA7VORM     OBR+39      Corrected storing incorrect collecting site when
                         building file LAB PENDING ORDERS ENTRY (#69.6).
  
 LAMIAUT0    ACCESS+2    Change default 2-digit year accession date to
           - ACCESS+6    current accession date based on accession area
                         transform. Call to $$CADT^LA7UTIL to determine
                         current accession date and call to $$FMTE^XLFDT
                         to display FileMan date in external format.
                         Display accession date with 4-digit year.
                         Added "P" to %DT variable, assumes past dates.
  
 LAMIAUT0    DATE+4      Change default 2-digit year accession date to
           - DATE+7      current accession date based on accession area
                         transform. Call to $$CADT^LA7UTIL to determine
                         current accession date and call to $$FMTE^XLFDT
                         to display FileMan date in external format.
                         Display accession date with 4-digit year.
                         Added "P" to %DT variable, assumes past dates.
  
 LAMIAUT7    CLEAR+7     Added "P" to %DT variable.
  
 LAMIVT5     LA3+2       Change 2-digit year default accession date to
                         current accession date based on accession area
                         transform. Display accession date with 4-digit
                         year.
  
 LAMIVT6     LA3+2       Change 2-digit year default accession date to
                         current accession date based on accession area
                         transform. Display accession date with 4-digit
                         year.
  
 LAMIVTL0    LRAD+1      Added "P" to %DT variable. 
  
 LAMIVTL0    LRAD+3      Call to $$CADT^LA7UTIL to determine current
                         accession date and call to $$FMTE^XLFDT to
                         display FileMan date in external format.
                         Display accession date with 4-digit year.
  
 LAMIVTKD    SAMPLE+10   Change building date with 2-digit year to call
                         to $$Y2K^LRX which returns 4-digit year.
  
 LAMIVTKD    SAMPLE+12   Change building date with 2-digit year to call
                         to $$Y2K^LRX which returns 4-digit year.
  
 LAMIVTKD    PNM+3       Change building date with 2-digit year to call
                         to $$Y2K^LRX which returns 4-digit year.
  
 LAMIVTKD    PNM+6       Change building date with 2-digit year to call
                         to $$Y2K^LRX which returns 4-digit year.
  
 LAMIVTLD    SAMPLE+37   Change building date with 2-digit year to call
                         to $$Y2K^LRX which returns 4-digit year.
  
 LAMIVTLD    SAMPLE+41   Change building date with 2-digit year to call
                         to $$Y2K^LRX which returns 4-digit year.
  
 LAMIVTLD    PNM+6       Change building date with 2-digit year to call
                         to $$Y2K^LRX which returns 4-digit year.
  
 LAMIVTLD    PNM+16      Change building date with 2-digit year to call
                         to $$Y2K^LRX which returns 4-digit year.
  
 LAPFICH     EN+4        Added "P" to %DT variable.
  
  
 During initial evaluation of LA namespaced routines it was reported
 that 20 routines would need renovation to be Y2K compliant. After
 further evaluation, it was determined the only 11 LA namespaced
 routines would need to be modified. The routines originally reported
 but not modified are:
  
 Routine     Line Tag    Non-Renovation Reason
 -------     --------    ------------------------------------------------
  
 LABCX4D     SAMPLE+10   Changing date format will violate vendor's
                         instrument interface specification.
  
 LAEKT4      LA2+2       Code is checking if test result is less than
                         999999. Not a Y2K date issue.
  
 LAGEN       CONTROL+2   Code is calculating inverse FileMan date from
                         specimen collection date/time in FileMan date
                         format.
  
 LAHTCCAD    SAMPLE+1    Changing date format will violate vendor's
                         instrument interface specification.
  
 LAKDIFF     WLN+1       Code is calculating inverse FileMan date from
                         specimen collection date/time in FileMan date
                         format.
  
 LAKDIFF3    LAKDIFF3+13 Code is calculating inverse FileMan date from
                         specimen collection date/time in FileMan date
                         format.
  
 LAKUR       WLN+1       Code is calculating inverse FileMan date from
                         specimen collection date/time in FileMan date
                         format.
  
 LAMIVTLG    CONTROL+2   Code is calculating inverse FileMan date from
                         specimen collection date/time in FileMan date
                         format.
  
 LAMSD       PT+9        Changing date format will violate vendor's
                         instrument interface specification.
  
 LAMSD       SPEC+4      Changing date format will violate vendor's
                         instrument interface specification.
  
  
  
  
 ROUTINE SUMMARY:
 =================
  
 The second line of the routine now looks like:
  
    <tab>;;5.2;AUTOMATED LAB INSTRUMENTS;**[patch list]**; Sep 27, 1994
  
  
                  CHECK^XTSUMBLD results
  
  Routine Name   Before Patch    After Patch     Patch List
  ------------   ------------    -----------     -----------
  
   LA42          N/A             2382684         42
   LA7SMPXL      5134195         5400542         27,42
   LA7UTIL       4911757         5680457         17,42
   LA7VORM       17385553        17384019        27,42
   LABALARM      1650198         1640267         42
   LABERR        6644019         6638122         42
   LADOWN1       1617991         1620875         17,42
   LAMIAUT0      16381256        16551460        42
   LAMIAUT7      13571379        13798654        42
   LAMIVT5       6911163         6841547         42
   LAMIVT6       6905221         6835605         42
   LAMIVTKD      12903215        12408562        26,42
   LAMIVTL0      6434514         4704096         12,37,42
   LAMIVTLD      8214698         7932859         12,33,42
   LAPFICH       4040500         4046314         42
   LASET         6671014         6644420         27,42
  
  
  
 Installation Instructions:
 ==========================
  
 1. Using the KIDS
    From the Kernel Installation and Distribution Systems (KIDS)
    Menu, select the Installation Menu [XPD INSTALLATION MENU]:
    Select Installation Option: Load a Distribution
    Enter a Host File: LAB_Y2K.KID
  
    KIDS Distribution saved on Mar 23, 1998@13:22:30
    Comment: LR*5.2*203  LR*5.2*201  LA*5.2*42  Y2K Enhancements  3-23-98
  
    This Distribution contains Transport Globals for the following
    Package(s):
         LR*5.2*203
         LR*5.2*201
         LA*5.2*42
  
    Use INSTALL NAME: LR*5.2*203 to install this distribution
  
  
 2. Review your mapped set.  If the routines are mapped, they should be
    removed from the mapped set at this time.
  
 3. The patch has now been loaded into a Transport global on your system.
    You now need to use KIDS to install the Transport global.
  
 4. On the KIDS menu, under the 'Installation' menu,
    use the following options:
        Print Transport Global
        Compare Transport Global to Current System
        Verify Checksums in Transport Global
        Backup a Transport Global
  
    **** It is strongly recommended to do a KIDS Backup ****
    ****         before installing the build.           ****
    ****     The PRINT, COMPARE and VERIFY functions    ****
    ****  should be performed for each of the patches   ****
    ****         included in this distribution.         ****
  
 5. Primary Laboratory Options should be placed out of service
    and Laboratory Users should be off the system.
    Disable the menu option Laboratory [LRMENU] or the local
    equivalent during the install.
     
    Routine LAB for lab automated instruments interfaced thru
    a LSI should not be running.
  
    If site has direct-connected interfaces for lab automated
    instruments these should not be running.
  
    The HL7 background job (HLLP) for the Lab Universal Interface
    should be stopped.
  
    The routine LA7UIIN to process incoming HL7 messages should not
    be running. It will shutdown automatically after 5 minutes if
    no messages have been received.
  
    If using auto download, the routine LA7ADL should not be running.
    Use option Start/Stop Auto Download Background Job
    [LA7 ADL START/STOP].
  
 6. Installation time is less than 10 minutes during off peak hours.
  
 7. From the 'Installation Menu' of the KIDS menu, run the option
    'Install Package(s)' Select the package 'LR*5.2*203' and
    proceed with the install.
  
 8. If any routines were unmapped as part of step 2, they should
    be returned to the mapped set once the installation has run
    to completion.
  
 9. If installation is successful, delete routine LA42 and LR201.

Routine Information:
====================

Routine Name:
  - LABALARM


Routine Checksum:

Routine Name:
  - LADOWN1


Routine Checksum:

Routine Name:
  - LABERR


Routine Checksum:

Routine Name:
  - LA7SMPXL


Routine Checksum:

Routine Name:
  - LASET


Routine Checksum:

Routine Name:
  - LA7UTIL


Routine Checksum:

Routine Name:
  - LA7VORM


Routine Checksum:

Routine Name:
  - LAMIAUT0


Routine Checksum:

Routine Name:
  - LAMIAUT7


Routine Checksum:

Routine Name:
  - LAMIVT5


Routine Checksum:

Routine Name:
  - LAMIVT6


Routine Checksum:

Routine Name:
  - LAMIVTL0


Routine Checksum:

Routine Name:
  - LAMIVTLD


Routine Checksum:

Routine Name:
  - LAPFICH


Routine Checksum:

Routine Name:
  - LA42


Routine Checksum:

Routine Name:
  - LAMIVTKD


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : MCCORMACK,JOHN                 Date Entered : MAR 02, 1998
Completed By: WASHINGTON,JANET P           Date Completed: MAR 31, 1998
Released By : LECLAIR,RAY                   Date Released : APR 06, 1998
=============================================================================


Packman Mail Message:
=====================

No routines included
