$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on FRIDAY, 06/07/02 at 11:02
=============================================================================
Run Date: JUN 10, 2002                     Designation: RG*1*25
Package : RG - CLINICAL INFO  NETWORKPriority: Mandatory
Version : 1        SEQ #24                      Status: Released
=============================================================================

Associated patches: (v)RG*1*13     <<= must be installed BEFORE `RG*1*25'
                    (v)RG*1*23     <<= must be installed BEFORE `RG*1*25'

Subject: REMOTE PROCEDURE CALLS AND MISC. FIXES

Category: 
  - Routine
  - Enhancement (Mandatory)

Description: 
============

  RG*1.0*13 and RG*1.0*23 are required builds for patch RG*1*25.
   
  This patch includes enhancements that are proposed in the Master
  Patient Index / Patient Demographics, Phase III Enhancements, Software
  Design Document.
   
  The Master Patient Index / Patient Demographics (MPI/PD) Data Quality
  Management team, working on the Master Patient Index (MPI) at Austin,
  needs facility information to improve data quality and resolve
  differences on the MPI.  Functionality is provided in RG*1*25 to
  enable them to remotely retrieve data from those treating facilities
  at which a patient has been seen.
   
  1.) Routine RGACTIV is activated by a REMOTE PROCEDURE CALL (RPC) to 
      provide Health Level Seven (HL7) message information and exception 
      information for a patient.  The HL7 data is from the ADT/HL7 PIVOT 
      (#391.71) file and exception data is from the CIRN HL7 EXCEPTION 
      LOG (#991.1) file.  The RPC returns the data to the Data Quality 
      Management team on the Master Patient Index (MPI) at Austin.
   
  2.) A diagnostic tool that has been on your system as a class III
      product is being moved into a class I routine.  The routine, RGMTRUN,
      is called by a RPC to produce a report of the currently running HL7
      tasks and return the data to the Data Quality Management team on
      the Master Patient Index (MPI) at Austin.
      
      This diagnostic tool will continue to be used primarily by the
      MPI/PD development team, National VistA Support (NVS), and the Data
      Quality Management team for the purpose of diagnosing HL7 messaging
      problems.
   
  3.) A code change was made to an application programmer interface (API)
      in routine RGFIU to take the checksum off the Integration Control
      Number (ICN) value for MPI exceptions.
   
  4.) NOIS MAC-0102-61909 reported a problem in the MPI/PD Status Display
      [RG STATUS DISPLAY] option.  When an up-arrow was entered at the
      bottom of the screen display, the software did not allow the user
      to exit the option.  This is corrected in routine RGSYSTAT.
   
  5.) The MPI/PD Exception Handling [RG EXCEPTION HANDLING] display was
      refined in routine RGEX04.  When using the Display Query Data action,
      if a remote query had not been sent for the patient, a brief
      statement and "Enter RETURN to continue or '^' to exit" was added
      to the display.
   
  6.) RGHLLOG has been changed to address a problem found in Milwaukee.
      When exceptions were created in the CIRN HL7 EXCEPTION LOG (#991.1) 
      file, if the DFN of the PATIENT (#2) file entry started with the 
      Social Security Number identifier for another patient, the exception 
      was getting created with the wrong DFN.  For example, the incoming
      message showed the DFN as 181641, but the DFN should have been 167113.
      The person with DFN 181641 had a Social Security Number that started
      with 167113.  This happens infrequently, and has been corrected.
    
   NOTE:  RG* and MPIF* patches should NOT be installed on legacy
   systems to avoid issues with the legacy systems ending up as
   Coordinating Master of Records (CMORs), treating facilities,
   or subscribers.
   
  Remote Procedures:
  ==================
  1.) RG REM ACTIVITY
  This remote procedure call (RPC) returns Health Level Seven (HL7)
  message information and exception information for a patient.  The HL7
  data is from the ADT/HL7 PIVOT (#391.71) file and exception date is
  from the CIRN HL7 EXCEPTION LOG (#991.1) file.
  2.) RG REMOTE HL7 TASK
  This remote procedure call will return the currently running
  Health Level Seven (HL7) tasks from a remote site to the
  Master Patient Index (MPI).
    
  Test Sites:
  ===========
  Asheville, NC
  Battle Creek, MI
  Big Spring, TX
  Columbus, OH
  Grand Junction, CO
  Lexington, KY
  Madison, WI
  Milwaukee, WI
  Northern California HCS
  VA Greater Los Angeles HCS
  White River Junction, VT
    
  Associated NOIS:
  ================
  MAC-0102-61909
     
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
   
  <TAB>;;1.0;CLINICAL INFO RESOURCE NETWORK;**[Patch List]**;30 Apr 99
  CHECK^XTSUMBLD results:
   
  Routine       Before Patch       After Patch       Patch List
  --------      ------------       ------------      -----------
  RGACTIV         N/A new            1336351                  25
  RGEX04          1674256            1694196               23,25
  RGFIU           4587620            4603622             5,13,25
  RGHLLOG         6036892            6153678     1,3,11,13,18,19,25
  RGMTHFS            N/A*            3683501                  25
  RGMTRUN            N/A*            1926898                  25
  RGSYSTAT        9501163            9838892         16,19,23,25
       *Previous class III routine
   
  Installation Instructions:
  ==========================
  This patch may be loaded with users on the system.  You may wish
  to install it during non-peak hours.  Installation will take less
  than 2 minutes.
   
  RG*1.0*13 and RG*1.0*23 are required builds for patch RG*1*25.
   
  1.  Use the INSTALL/CHECK MESSAGE option on the Packman menu.  [Note: 
      TEXT PRINT/DISPLAY option in the PackMan menu will display the 
      patch text only.]
   
  2.  None of the routines in the MPI/PD package have been recommended
      for routine mapping.
   
  3.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  4.  From this menu, you may elect to use the following options (when
      prompted for the INSTALL NAME, enter RG*1.0*25).
   
      (a)  Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch.  It will NOT
           backup any other changes such as DDs or templates.
   
      (b)  Compare Transport Global to Current System - this option will
           allow you to view all changes that will be made when the
           patch is installed.  It compares all components of the patch
           (routines, DDs, templates, etc.).
   
      (c)  Verify Checksums in Transport Global - this option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
   
      (d)  Print Transport Global - this option will allow you to view the
           components of the KIDS build.
   
  5.  Use the Install Package(s) option and select the package RG*1.0*25.
   
  6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
      respond NO.
   
  7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond YES.  The MPI/PD Exception Handling [RG
      EXCEPTION HANDLING] OPTION should be disabled during the installation.

Routine Information:
====================

Routine Name:
  - RGACTIV


Routine Checksum:

Routine Name:
  - RGEX04


Routine Checksum:

Routine Name:
  - RGFIU


Routine Checksum:

Routine Name:
  - RGMTHFS


Routine Checksum:

Routine Name:
  - RGMTRUN


Routine Checksum:

Routine Name:
  - RGSYSTAT


Routine Checksum:

Routine Name:
  - RGHLLOG


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : DAVIS,PAULETTE                 Date Entered : APR 24, 2002
Completed By: HERREN,CATHRYN                Date Completed: JUN 07, 2002
Released By : SCOTT,JEAN M                 Date Released : JUN 10, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
