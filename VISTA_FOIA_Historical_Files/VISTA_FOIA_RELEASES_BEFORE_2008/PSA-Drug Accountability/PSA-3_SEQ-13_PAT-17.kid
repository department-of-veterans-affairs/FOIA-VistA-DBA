Released PSA*3*17 SEQ #13
Extracted from mail message
**KIDS**:PSA*3.0*17^

**INSTALL NAME**
PSA*3.0*17
"BLD",764,0)
PSA*3.0*17^DRUG ACCOUNTABILITY^0^2991103^y
"BLD",764,1,0)
^^5^5^2991103^^^
"BLD",764,1,1,0)
When the vendor sends the synonym node entry for the invoice's entry in the
"BLD",764,1,2,0)
DRUG file (#50). A variable was used in the assumption that the vendor
"BLD",764,1,3,0)
was supplying the facility with the correct information.
"BLD",764,1,4,0)
An error occurs when the program tries to find the matching information
"BLD",764,1,5,0)
on nodes that do not exist.
"BLD",764,10,0)
^9.63^^0
"BLD",764,"KRN",0)
^9.67PA^^
"BLD",764,"KRN",.4,0)
.4
"BLD",764,"KRN",.4,"NM",0)
^9.68A^^0
"BLD",764,"KRN",.401,0)
.401
"BLD",764,"KRN",.401,"NM",0)
^9.68A^^0
"BLD",764,"KRN",.402,0)
.402
"BLD",764,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",764,"KRN",.403,0)
.403
"BLD",764,"KRN",.5,0)
.5
"BLD",764,"KRN",.84,0)
.84
"BLD",764,"KRN",3.6,0)
3.6
"BLD",764,"KRN",3.8,0)
3.8
"BLD",764,"KRN",9.2,0)
9.2
"BLD",764,"KRN",9.8,0)
9.8
"BLD",764,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",764,"KRN",9.8,"NM",1,0)
PSAHELP^^0^B3615800
"BLD",764,"KRN",9.8,"NM","B","PSAHELP",1)

"BLD",764,"KRN",19,0)
19
"BLD",764,"KRN",19.1,0)
19.1
"BLD",764,"KRN",101,0)
101
"BLD",764,"KRN",409.61,0)
409.61
"BLD",764,"KRN",771,0)
771
"BLD",764,"KRN",869.2,0)
869.2
"BLD",764,"KRN",870,0)
870
"BLD",764,"KRN",8994,0)
8994
"BLD",764,"KRN","B",.4,.4)

"BLD",764,"KRN","B",.401,.401)

"BLD",764,"KRN","B",.402,.402)

"BLD",764,"KRN","B",.403,.403)

"BLD",764,"KRN","B",.5,.5)

"BLD",764,"KRN","B",.84,.84)

"BLD",764,"KRN","B",3.6,3.6)

"BLD",764,"KRN","B",3.8,3.8)

"BLD",764,"KRN","B",9.2,9.2)

"BLD",764,"KRN","B",9.8,9.8)

"BLD",764,"KRN","B",19,19)

"BLD",764,"KRN","B",19.1,19.1)

"BLD",764,"KRN","B",101,101)

"BLD",764,"KRN","B",409.61,409.61)

"BLD",764,"KRN","B",771,771)

"BLD",764,"KRN","B",869.2,869.2)

"BLD",764,"KRN","B",870,870)

"BLD",764,"KRN","B",8994,8994)

"BLD",764,"QUES",0)
^9.62^^
"BLD",764,"REQB",0)
^9.611^1^1
"BLD",764,"REQB",1,0)
PSA*3.0*12^1
"BLD",764,"REQB","B","PSA*3.0*12",1)

"BLD",764,"REQG",0)
^9.611^^
"PKG",182,-1)
1^1
"PKG",182,0)
DRUG ACCOUNTABILITY^PSA^Drug Accountability/Inventory Interface^
"PKG",182,20,0)
^9.402P^^0
"PKG",182,22,0)
^9.49I^1^1
"PKG",182,22,1,0)
3.0^2990610^2970912^531
"PKG",182,22,1,"PAH",1,0)
17^2991103
"PKG",182,22,1,"PAH",1,1,0)
^^5^5^2991103
"PKG",182,22,1,"PAH",1,1,1,0)
When the vendor sends the synonym node entry for the invoice's entry in the
"PKG",182,22,1,"PAH",1,1,2,0)
DRUG file (#50). A variable was used in the assumption that the vendor
"PKG",182,22,1,"PAH",1,1,3,0)
was supplying the facility with the correct information.
"PKG",182,22,1,"PAH",1,1,4,0)
An error occurs when the program tries to find the matching information
"PKG",182,22,1,"PAH",1,1,5,0)
on nodes that do not exist.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSAHELP")
0^1^B3615800
"RTN","PSAHELP",1,0)
PSAHELP ;BHM/DAV - UNIT OF MEASURE ASSISTANCE ;7/23/97
"RTN","PSAHELP",2,0)
 ;;3.0; DRUG ACCOUNTABILITY/INVENTORY INTERFACE;**12,17**; 10/24/97
"RTN","PSAHELP",3,0)
 Q:PSANDC=0
"RTN","PSAHELP",4,0)
 ;
"RTN","PSAHELP",5,0)
 ;References to ^PSDRUG( are covered by IA# 2095
"RTN","PSAHELP",6,0)
 ;References to ^DIC(51.5, are covered by IA #1931
"RTN","PSAHELP",7,0)
 ;This routine was created because the routines that were to
"RTN","PSAHELP",8,0)
 ;be altered, were too large for corrections.
"RTN","PSAHELP",9,0)
 S PSAVSN=$S($P($P(PSADATA,"^",5),"~")'="":$E($P($P(PSADATA,"^",5),"~"),1,14),1:"VSN UNKNOWN")
"RTN","PSAHELP",10,0)
 I PSANDC?12N S PSANDC1=$E(PSANDC,1,6)_"-"_$E(PSANDC,7,10)_"-"_$E(PSANDC,11,12)
"RTN","PSAHELP",11,0)
 ;Provide an Adjusted Unit of measure if available.
"RTN","PSAHELP",12,0)
 I '$D(PSADRG) G NOUOM
"RTN","PSAHELP",13,0)
 S PSASYN=$P(PSADATA,"^",7)
"RTN","PSAHELP",14,0)
 I PSASYN="" G SYN
"RTN","PSAHELP",15,0)
 I '$D(^PSDRUG("AVSN",PSAVSN,PSADRG,PSASYN)) G SYN
"RTN","PSAHELP",16,0)
 I $P($G(^PSDRUG(PSADRG,1,PSASYN,0)),"^",2)=PSANDC1 S PSAUOM=$P(^PSDRUG(PSADRG,1,PSASYN,0),"^",5) G HAVEUOM
"RTN","PSAHELP",17,0)
 ;
"RTN","PSAHELP",18,0)
SYN S PSA=0 F  S PSA=$O(^PSDRUG(PSADRG,1,PSA)) Q:PSA'>0  I $P($G(^PSDRUG(PSADRG,1,PSA,0)),"^",2)=PSANDC1 G SETUOM
"RTN","PSAHELP",19,0)
 I $G(PSAUOM)'="" G HAVEUOM
"RTN","PSAHELP",20,0)
 G NOUOM
"RTN","PSAHELP",21,0)
SETUOM S DATA=$G(^PSDRUG(PSADRG,1,PSA,0)),UOM=$S($P(DATA,"^",5)'="":$P(DATA,"^",5),$P($G(^PSDRUG(PSADRG,"660")),"^",2)'="":$P(^PSDRUG(PSADRG,"660"),"^",2),1:"") K DATA
"RTN","PSAHELP",22,0)
HAVEUOM ;
"RTN","PSAHELP",23,0)
 I $G(PSAUOM)="" G NOUOM
"RTN","PSAHELP",24,0)
 S UOM=$P($G(^DIC(51.5,PSAUOM,0)),"^"),UOMDATA=UOM_"~"_PSAUOM
"RTN","PSAHELP",25,0)
 S $P(PSADATA,"^",12)=UOMDATA,$P(^XTMP("PSAPV",PSACTRL,"IT",PSALINE),"^",12)=UOMDATA
"RTN","PSAHELP",26,0)
 K UOMDATA,UOM Q
"RTN","PSAHELP",27,0)
NOUOM W ?50,"(Blank)"
"RTN","PSAHELP",28,0)
 Q
"VER")
8.0^22.0
**END**
**END**
