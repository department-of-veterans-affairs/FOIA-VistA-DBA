$TXT Created by NAPOLIELLO,GREG at MNTVLL.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 07/23/03 at 13:14
=============================================================================
Run Date: SEP 03, 2003                     Designation: IVM*2*84
Package : IVM - INCOME VERIFICATION MATCH     Priority: Mandatory
Version : 2        SEQ #72                      Status: Released
                  Compliance Date: OCT 04, 2003
=============================================================================

Associated patches: (v)IVM*2*67    <<= must be installed BEFORE `IVM*2*84'

Subject: Fix Undefined Variable In Z10-LTC Upload

Category: 
  - Routine

Description:
============

     This patch fixes an undefined error logged as the result of a certain
     incoming ORU~Z10 message.
  
     This patch addresses the following E3R(s):
     ---------------------------------------
     There are no E3Rs associated with this patch.
  
  
     This patch addresses the following NOIS message(s):
     ---------------------------------------------------
     SBY-0503-31570     ERROR-UNDEF(ECODE)>EN+10^DGMTAUD:1
  
  
     Overview of NOIS Message(s):
     ----------------------------
     SBY-0503-31570     ERROR-UNDEF(ECODE)>EN+10^DGMTAUD:1
  
  
     Problem:
     --------
     When receiving a Z10 with a LTC test to be uploaded, the variable
     DGMTP that keeps track of the prior Means Test Zero node, is not
     defined in some rare cases.  These cases could not be reproduced in a
     test environment.
  
     Resolution:
     -----------
     Normal processing for incoming ORU Z10's is to assume the ADD
     activity. Variable DGMTP will be initialized to null if it is 
     undefined within the ADD functionality.
  
  
            ================INSTALLATION INSTRUCTIONS =================
  
     This patch can be installed with users on the system. Installation 
     will take less than 2 minutes.
  
  ** You may wish to stop the HL7 filers prior to the install to prevent
     possible 'No Source Errors' from occurring. No transmissions will be
     lost if the filers are not stopped first, they will be picked up once
     the filers are restarted.
  
  
        1.   LOAD TRANSPORT GLOBAL
             ---------------------
             Choose the PackMan message containing this patch and invoke 
             the INSTALL/CHECK MESSAGE PackMan option.
  
        2.   DISABLE ROUTINE MAPPING   (DSM for Open VMS sites only)
             -----------------------
             Disable routine mapping on all systems for the routines listed
             in step 3 below.
  
      NOTE:  If the routines included in this patch are not currently in
             your mapped routine set, please skip this step.
  
        3.   COMPONENTS SENT WITH PATCH
             ------------------------
             The following is a list of the routine(s) included in this
             patch.
  
  
   The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
  
      <tab>;;2.0;INCOME VERIFICATION MATCH;**[patch list]**;21-OCT-94
  
                              CHECK^XTSUMBLD results
   Routine name      Before Patch         After Patch         Patch List
   ============      ============         ===========         ==========
   IVMCM6                17164122            17261950       17,25,39,44,50
                                                            53,49,58,62,67
                                                                  84 
                Total number of routines: 1
  
       Total number of routines modified: 1
  
  
        4.   START UP KIDS
             -------------
             Start up the Kernel Installation and Distribution System Menu
             [XPD MAIN]:
  
                  Edits and Distribution ...
                  Utilities ...
                  Installation ...
  
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
                  Load a Distribution
                  Print Transport Global
                  Compare Transport Global to Current System
                  Verify Checksums in Transport Global
                  Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
                  Backup a Transport Global
  
        Select Installation Option:
  
        5.   Select Installation Option:
             --------------------------
             NOTE:  The following are OPTIONAL - (When prompted for the
             INSTALL NAME, enter IVM*2.0*84):
  
             a.  Backup a Transport Global - This option will create a
                 backup message of any routines exported with this patch. 
                 It will not backup any other changes such as DD's or
                 templates.
             b.  Compare Transport Global to Current System - This option
                 will allow you to view all changes that will be made when
                 this patch is installed.  It compares all components of
                 this patch (routines, DD's, templates, etc.).
             c.  Verify Checksums in Transport Global - This option will
                 allow you to ensure the integrity of the routines that are
                 in the transport global.
  
        6.   Select Installation Option: Install Package(s)
                                         ----------------
           **This is the step to start the installation of this KIDS patch:
  
             a. Choose the Install Package(s) option to start the patch
                install.
             b. When prompted 'Want KIDS to INHIBIT LOGONs during the
                install? YES//' answer NO (unless otherwise indicated)
             c. When prompted 'Want to DISABLE Scheduled Options, Menu
                Options, and Protocols? YES//' answer NO.
  
        7.    REBUILD MAPPED ROUTINE(S)  (DSM for Open VMS sites only)
             -------------------------
             Optional - Include the routines distributed with this patch
             in the mapped routine set.
  
             NOTE: This step is only necessary if you performed step 2 or
                   if you wish to include the routines in your mapped set.

Routine Information:
====================

Routine Name:
  - IVMCM6

 This routine was modified to insure the variable DGMTP is defined.
  
 Old code:
 *********
   135        ..S DGMTINF=1  ;Means Test Interactive/Non-interactive flag
  
 New code:
 *********
   138        ..S DGMTP=$G(DGMTP)                      ;IVM*2*84
   139        ..S DGMTINF=1  ;Means Test Interactive/Non-interactive flag

Routine Checksum:

=============================================================================
User Information:
Entered By  : NAPOLIELLO,GREG               Date Entered  : JUL 18, 2003
Completed By: LANDRY,DANNA                  Date Completed: SEP 03, 2003
Released By : GANUS,MAUNETTE                Date Released : SEP 03, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
