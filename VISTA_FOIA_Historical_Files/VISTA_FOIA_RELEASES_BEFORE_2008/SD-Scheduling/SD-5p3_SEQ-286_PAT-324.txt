$TXT Created by CURTIS,RICHARD L at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Monday, 12/08/03 at 08:07
=============================================================================
Run Date: FEB 24, 2004                     Designation: SD*5.3*324
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #286                    Status: Released
                  Compliance Date: MAR 26, 2004
=============================================================================

Associated patches: (v)SD*5.3*295  <<= must be installed BEFORE `SD*5.3*324'

Subject: UNDEF VAR ERROR IN TREND OF FACILITIES REPORT

Category: 
  - Routine

Description:
============

 This patch addresses the undefined variable error that occurs with the 
 Trend of Facility Uniques by 12 Month Date Ranges report.
  
 ASSOCIATED E3R(s):
 ==================
 N/A
  
 ASSOCIATED NOIS:
 ================
 1.  SBY-1001-32664    ERROR- <UNDEF(ECODE)>DHDR+6^SCRPW46:2
     Duplicates:
       DAY-1101-42588  TREND REPORT ERRORING
       TOG-0102-10498  Error  DHDR+6~SCRPW46:2
       WCO-0302-50551  UNDEFINED ERROR FOR UNIQUE OUTPATIENTS
       NCH-0802-42410  UNDDEFINED DIVISION VARIABLE
       STX-0802-72677  UNDEF ERROR IN SCRPW TREND FACILITY UNIQUES OPTN
       TOG-0902-11241  Trend Facility Unique Report
       MWV-0203-21523  Error when trying to run report
       MAC-0503-61845  Re-occurring Error in SCRPW46
       PHI-0903-21763  Error in ~Trewnd of Facility Uniques~ report
       MAD-0903-40700  DHDR+6~SCRPW46:2 <UNDEF> SDIVL(~ROCKFORD OPC~)
       SFC-1103-60481  Error in SD*5.3*292
       SPO-1203-50108  Error <UNDEFINED>DHDR+6~SCRPW46.
  
 PARTICIPATING TEST SITES:
 =========================
 Spokane, WA
 Dayton, OH
 Salisbury, NC
 Lexington, KY
 Chicago, IL
 Prescott, AZ
  
 NOIS OVERVIEW:
 ==============
 1.  SBY-1001-32664   ERROR- <UNDEF(ECODE)>DHDR+6^SCRPW46:2
  
     Problem:
     --------
     When users attempt to run the TREND OF FACILITY UNIQUES by 12 Month
     Date Ranges report for ALL DIVISIONS, the report errors out with an
     Undefined Variable error, i.e.:
  
     %DSM-E-UNDEF, undefined variable SDIVL(" ")
     -DSM-I-ECODE, MUMPS error code:  M6
     %DSM-I-ATLABEL, DHDR+6^SCRPW46:2
  
     Resolution:
     -----------
     This patch will correct the code that causes this error to occur.
     Commented off existing line of code at DHDR+8^SCRPW46:
  
     I SDDIV!($P(SDDIV,U,2)="ALL DIVISIONS") S SDTIT(SDI)="For division: "
     _SDVIN_" "_SDIVL(SDIVN) Q
  
     Changed line of code and inserted at DHDR+9^SCRPW46, as follows:
  
     I SDDIV,($P(SDDIV,U,2)="ALL DIVISIONS") S SDTIT(SDI)="For division: "
     _SDVIN_" "_SDIVL(SDIVN) Q
  
 TECHNICAL:
 ==========
 Routine SCRPW46 will be modified as indicated above to fix this error.
  
 ROUTINE SUMMARY:
 ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;AUG 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch      After Patch     Patch List
  ============      ============      ===========     ==========
  SCRPW46               18957210         19029870     144,180,199,295,324
  
  
 ======================INSTALLATION INSTRUCTIONS=========================
 If the patch is installed during the normal workday, it is recommended 
 that the following menu option (File #19) and all of its descendants be 
 disabled to prevent possible conflicts while running the KIDS install.
 Other VISTA users will not be affected.
  
 Trend of Facility Uniques by 12 Month Date Ranges  [SCRPW TREND FACILITY
                                                                 UNIQUES]
  
  
 Installation should take less than 5 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2.  Review your mapped set.  If the routines are mapped, they should be
     removed from the mapped set at this time.
  
 3.  From the Kernel Installation & Distribution System menu, select
     the Installation menu.
  
 4.  From this menu, you may select to use the following options
     (when prompted for INSTALL NAME, enter SD*5.3*324)
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with the patch.  It will NOT
         backup any other changes such as DDs or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch
         (routines, DDs, templates, etc.)
     c.  Verify Checksums in Transport Global - This option will ensure
         the integrity of the routines that are in the transport global.
  
 5.  Use the Install Package(s) option and select the package SD*5.3*324.
  
 6.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
     YES//" respond NO.
  
 7.  When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//" respond YES.
  
     a.  When prompted "Enter options you wish to mark as "Out of Order":"
         Enter the following option:
  
         Trend of Facility Uniques by 12 Month Date Ranges [SCRPW TREND
         FACILITY UNIQUES]
  
     b.  When prompted "Enter protocols you wish to mark as "Out of
         Order:":" just press return.
  
 8.  If any routines were unmapped as part of Step 2, they should be
     returned to the mapped set once the installation has run to
     completion.
  
     NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.

Routine Information:
====================

Routine Name:
  - SCRPW46

 Commented off existing line of code at DHDR+8^SCRPW46:
  
 I SDDIV!($P(SDDIV,U,2)="ALL DIVISIONS") S SDTIT(SDI)="For division: "
 _SDIVN_" "_SDIVL(SDIVN) Q
  
 Changed line of code and inserted at DHDR+9^SCRPW46, as follows:
  
 I SDDIV,($P(SDDIV,U,2)="ALL DIVIONS") S SDTIT(SDI)="For division: "
 _SDIVN_" "_SDIVL(SDIVN) Q

Routine Checksum:

=============================================================================
User Information:
Entered By  : CURTIS,RICHARD                Date Entered  : NOV 10, 2003
Completed By: BAUMAN,HELENE                 Date Completed: FEB 23, 2004
Released By : CORAM,JAMIE                   Date Released : FEB 24, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
