Released SD*5.3*428 SEQ #332
Extracted from mail message
**KIDS**:SD*5.3*428^

**INSTALL NAME**
SD*5.3*428
"BLD",6005,0)
SD*5.3*428^SCHEDULING^0^3050210^y
"BLD",6005,1,0)
^^1^1^3050210^
"BLD",6005,1,1,0)
This patch updates file 40.7 (Stop Codes).
"BLD",6005,4,0)
^9.64PA^^
"BLD",6005,"INIT")
SD5USTOP
"BLD",6005,"KRN",0)
^9.67PA^8989.52^19
"BLD",6005,"KRN",.4,0)
.4
"BLD",6005,"KRN",.401,0)
.401
"BLD",6005,"KRN",.402,0)
.402
"BLD",6005,"KRN",.403,0)
.403
"BLD",6005,"KRN",.5,0)
.5
"BLD",6005,"KRN",.84,0)
.84
"BLD",6005,"KRN",3.6,0)
3.6
"BLD",6005,"KRN",3.8,0)
3.8
"BLD",6005,"KRN",9.2,0)
9.2
"BLD",6005,"KRN",9.8,0)
9.8
"BLD",6005,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6005,"KRN",9.8,"NM",1,0)
SD5USTOP^^0^B18324675
"BLD",6005,"KRN",9.8,"NM","B","SD5USTOP",1)

"BLD",6005,"KRN",19,0)
19
"BLD",6005,"KRN",19.1,0)
19.1
"BLD",6005,"KRN",101,0)
101
"BLD",6005,"KRN",409.61,0)
409.61
"BLD",6005,"KRN",771,0)
771
"BLD",6005,"KRN",870,0)
870
"BLD",6005,"KRN",8989.51,0)
8989.51
"BLD",6005,"KRN",8989.52,0)
8989.52
"BLD",6005,"KRN",8994,0)
8994
"BLD",6005,"KRN","B",.4,.4)

"BLD",6005,"KRN","B",.401,.401)

"BLD",6005,"KRN","B",.402,.402)

"BLD",6005,"KRN","B",.403,.403)

"BLD",6005,"KRN","B",.5,.5)

"BLD",6005,"KRN","B",.84,.84)

"BLD",6005,"KRN","B",3.6,3.6)

"BLD",6005,"KRN","B",3.8,3.8)

"BLD",6005,"KRN","B",9.2,9.2)

"BLD",6005,"KRN","B",9.8,9.8)

"BLD",6005,"KRN","B",19,19)

"BLD",6005,"KRN","B",19.1,19.1)

"BLD",6005,"KRN","B",101,101)

"BLD",6005,"KRN","B",409.61,409.61)

"BLD",6005,"KRN","B",771,771)

"BLD",6005,"KRN","B",870,870)

"BLD",6005,"KRN","B",8989.51,8989.51)

"BLD",6005,"KRN","B",8989.52,8989.52)

"BLD",6005,"KRN","B",8994,8994)

"BLD",6005,"QUES",0)
^9.62^^
"BLD",6005,"REQB",0)
^9.611^1^1
"BLD",6005,"REQB",1,0)
SD*5.3*388^2
"BLD",6005,"REQB","B","SD*5.3*388",1)

"INIT")
SD5USTOP
"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
428^3050210
"PKG",16,22,1,"PAH",1,1,0)
^^1^1^3050210
"PKG",16,22,1,"PAH",1,1,1,0)
This patch updates file 40.7 (Stop Codes).
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SD5USTOP")
0^1^B18324675
"RTN","SD5USTOP",1,0)
SD5USTOP ;ALB/CAW,GTS,ESD,JAM,GT - Stop Code/DSS Identifier Update 2/10/2005
"RTN","SD5USTOP",2,0)
 ;;5.3;Scheduling;**428**;AUG 13, 1993
"RTN","SD5USTOP",3,0)
 ;
"RTN","SD5USTOP",4,0)
 ;**  This patch is used as a Post-Init in a KIDS build to modify the
"RTN","SD5USTOP",5,0)
 ;**   the DSS Identifier file [^DIC(40.7,]
"RTN","SD5USTOP",6,0)
 ;
"RTN","SD5USTOP",7,0)
EN ;** Add/inactivate/change/reactivate DSS IDs (stop codes)
"RTN","SD5USTOP",8,0)
 ;**  The following code executes if file modifications exist
"RTN","SD5USTOP",9,0)
 ;
"RTN","SD5USTOP",10,0)
 N SDVAR
"RTN","SD5USTOP",11,0)
 D:$P($T(NEW+1),";;",2)'="QUIT" ADD
"RTN","SD5USTOP",12,0)
 D:$P($T(CHNG+1),";;",2)'="QUIT" CHANGE
"RTN","SD5USTOP",13,0)
 Q
"RTN","SD5USTOP",14,0)
 ;
"RTN","SD5USTOP",15,0)
 ;
"RTN","SD5USTOP",16,0)
ADD ;** Add DSS IDs
"RTN","SD5USTOP",17,0)
 ;
"RTN","SD5USTOP",18,0)
 ;  SDXX is in format:
"RTN","SD5USTOP",19,0)
 ; STOP CODE NAME^AMIS #^RESTRICTION TYPE^REST. DATE^CDR #
"RTN","SD5USTOP",20,0)
 ;
"RTN","SD5USTOP",21,0)
 N SDX,SDXX
"RTN","SD5USTOP",22,0)
 S SDVAR=1
"RTN","SD5USTOP",23,0)
 D MES^XPDUTL("")
"RTN","SD5USTOP",24,0)
 D BMES^XPDUTL(">>> Adding new Clinic Stops (DSS IDs) to CLINIC STOP File (#40.7)...")
"RTN","SD5USTOP",25,0)
 ;
"RTN","SD5USTOP",26,0)
 ;** NOTE: The following line is for DSS IDs that are not yet active
"RTN","SD5USTOP",27,0)
 D BMES^XPDUTL(" [NOTE:  These Stop Codes CANNOT be used UNTIL 2/1/05]")
"RTN","SD5USTOP",28,0)
 S DIC(0)="L",DLAYGO=40.7,DIC="^DIC(40.7,"
"RTN","SD5USTOP",29,0)
 F SDX=1:1 K DD,DO,DA S SDXX=$P($T(NEW+SDX),";;",2) Q:SDXX="QUIT"  DO
"RTN","SD5USTOP",30,0)
 .S DIC("DR")="1////"_$P(SDXX,"^",2)_$S('+$P(SDXX,U,5):"",1:";4////"_$P(SDXX,"^",5))
"RTN","SD5USTOP",31,0)
 .S DIC("DR")=DIC("DR")_";5////"_$P(SDXX,"^",3)_";6///"_$P(SDXX,"^",4)
"RTN","SD5USTOP",32,0)
 .S X=$P(SDXX,"^",1)
"RTN","SD5USTOP",33,0)
 .I '$D(^DIC(40.7,"C",$P(SDXX,"^",2))) D FILE^DICN,MESS Q
"RTN","SD5USTOP",34,0)
 .;I $D(^DIC(40.7,"C",$P(SDXX,"^",2))) D EDIT(SDXX),MESSEX
"RTN","SD5USTOP",35,0)
 K DIC,DLAYGO,X
"RTN","SD5USTOP",36,0)
 Q
"RTN","SD5USTOP",37,0)
 ;
"RTN","SD5USTOP",38,0)
EDIT(SDXX) ;- Edit fields w/new values if stop code record already exists
"RTN","SD5USTOP",39,0)
 ;
"RTN","SD5USTOP",40,0)
 Q:$G(SDXX)=""
"RTN","SD5USTOP",41,0)
 N DA,DIE,DLAYGO,DR
"RTN","SD5USTOP",42,0)
 S DA=+$O(^DIC(40.7,"C",+$P(SDXX,"^",2),0))
"RTN","SD5USTOP",43,0)
 Q:'DA
"RTN","SD5USTOP",44,0)
 S DIE="^DIC(40.7,",DR=".01////"_$P(SDXX,"^")_";1////"_$P(SDXX,"^",2)_";2////@"_$S('+$P(SDXX,U,5):"",1:";4////"_$P(SDXX,"^",5))_";5////"_$P(SDXX,"^",3)_";6///"_$P(SDXX,"^",4)
"RTN","SD5USTOP",45,0)
 D ^DIE
"RTN","SD5USTOP",46,0)
 Q
"RTN","SD5USTOP",47,0)
 ;
"RTN","SD5USTOP",48,0)
CHANGE ;** Change DSS ID names
"RTN","SD5USTOP",49,0)
 ;
"RTN","SD5USTOP",50,0)
 ;  SDXX is in format:
"RTN","SD5USTOP",51,0)
 ; STOP CODE NAME^AMIS #^^NEW STOP CODE NAME
"RTN","SD5USTOP",52,0)
 ;
"RTN","SD5USTOP",53,0)
 N SDX,SDXX,SDDA
"RTN","SD5USTOP",54,0)
 S SDVAR=1
"RTN","SD5USTOP",55,0)
 D MES^XPDUTL("")
"RTN","SD5USTOP",56,0)
 D BMES^XPDUTL(">>> Changing Clinic Stop (DSS ID) names in CLINIC STOP File (#40.7)...")
"RTN","SD5USTOP",57,0)
 F SDX=1:1 K DD,DO,DA S SDXX=$P($T(CHNG+SDX),";;",2) Q:SDXX="QUIT"  DO
"RTN","SD5USTOP",58,0)
 .S SDDA=+$O(^DIC(40.7,"C",$P(SDXX,U,2),0))
"RTN","SD5USTOP",59,0)
 .I $D(^DIC(40.7,SDDA,0)) DO
"RTN","SD5USTOP",60,0)
 ..S DA=SDDA,DR=".01///"_$P(SDXX,U,4),DIE="^DIC(40.7,"
"RTN","SD5USTOP",61,0)
 ..D ^DIE,MESC
"RTN","SD5USTOP",62,0)
 K DIE,DR,DA
"RTN","SD5USTOP",63,0)
 Q
"RTN","SD5USTOP",64,0)
 ;
"RTN","SD5USTOP",65,0)
MESS ;** Add message
"RTN","SD5USTOP",66,0)
 N ECXADMSG
"RTN","SD5USTOP",67,0)
 I +$G(SDVAR) D HDR(SDVAR)
"RTN","SD5USTOP",68,0)
 D MES^XPDUTL(" ")
"RTN","SD5USTOP",69,0)
 S ECXADMSG="Added:       "_$P(SDXX,"^",2)_"      "_$P(SDXX,"^")
"RTN","SD5USTOP",70,0)
 I $P(SDXX,"^",5)'="" S ECXADMSG=ECXADMSG_" [CDR#: "_$P(SDXX,"^",5)_"]"
"RTN","SD5USTOP",71,0)
 D MES^XPDUTL(ECXADMSG)
"RTN","SD5USTOP",72,0)
 I $P(SDXX,"^",3)'="" S ECXADMSG="                      Restricted Type: "_$P(SDXX,"^",3)_"    Restricted Date: "_$P(SDXX,"^",4)
"RTN","SD5USTOP",73,0)
 D MES^XPDUTL(ECXADMSG)
"RTN","SD5USTOP",74,0)
 K SDVAR
"RTN","SD5USTOP",75,0)
 Q
"RTN","SD5USTOP",76,0)
 ;
"RTN","SD5USTOP",77,0)
MESSEX ;** Display message if stop code already exists
"RTN","SD5USTOP",78,0)
 N ECXADMSG
"RTN","SD5USTOP",79,0)
 I +$G(SDVAR) D HDR(SDVAR)
"RTN","SD5USTOP",80,0)
 D MES^XPDUTL(" ")
"RTN","SD5USTOP",81,0)
 S ECXADMSG="             "_$P(SDXX,"^",2)_"      "_$P(SDXX,"^")_"  already exists."
"RTN","SD5USTOP",82,0)
 D MES^XPDUTL(ECXADMSG)
"RTN","SD5USTOP",83,0)
 K SDVAR
"RTN","SD5USTOP",84,0)
 Q
"RTN","SD5USTOP",85,0)
 ;
"RTN","SD5USTOP",86,0)
MESC ;** Change message
"RTN","SD5USTOP",87,0)
 N SDCMSG,SDCMSG1
"RTN","SD5USTOP",88,0)
 I +$G(SDVAR) D HDR(SDVAR)
"RTN","SD5USTOP",89,0)
 D MES^XPDUTL(" ")
"RTN","SD5USTOP",90,0)
 S SDCMSG="Changed:      "_$P(SDXX,U,2)_"           "_$P(SDXX,U)
"RTN","SD5USTOP",91,0)
 S SDCMSG1="     to:      "_$P(SDXX,U,2)_"           "_$P(SDXX,U,4)
"RTN","SD5USTOP",92,0)
 D MES^XPDUTL(SDCMSG)
"RTN","SD5USTOP",93,0)
 D MES^XPDUTL(SDCMSG1)
"RTN","SD5USTOP",94,0)
 K SDVAR
"RTN","SD5USTOP",95,0)
 Q
"RTN","SD5USTOP",96,0)
 ;
"RTN","SD5USTOP",97,0)
HDR(SDVAR) ;- Header
"RTN","SD5USTOP",98,0)
 Q:'$G(SDVAR)
"RTN","SD5USTOP",99,0)
 N SDHDR
"RTN","SD5USTOP",100,0)
 S SDHDR=$P($T(@("HDR"_SDVAR)),";;",2)
"RTN","SD5USTOP",101,0)
 D BMES^XPDUTL(SDHDR)
"RTN","SD5USTOP",102,0)
 Q
"RTN","SD5USTOP",103,0)
 ;
"RTN","SD5USTOP",104,0)
 ;
"RTN","SD5USTOP",105,0)
HDR1 ;;           Stop Code              Name
"RTN","SD5USTOP",106,0)
 ;
"RTN","SD5USTOP",107,0)
HDR2 ;;                CDR        Stop Code             Name
"RTN","SD5USTOP",108,0)
 ;
"RTN","SD5USTOP",109,0)
HDR3 ;;           Stop Code      Name                       Rest. Type    Date
"RTN","SD5USTOP",110,0)
 ;
"RTN","SD5USTOP",111,0)
NEW ;DSS IDs to add- ex ;;STOP CODE NAME^NUMBER^RESTRICTION TYPE^RESTRICTION DATE^CDR
"RTN","SD5USTOP",112,0)
 ;;QUIT
"RTN","SD5USTOP",113,0)
 ;
"RTN","SD5USTOP",114,0)
CHNG ;DSS ID name changes- example ;;STOP CODE NAME^NUMBER^^NEW NAME
"RTN","SD5USTOP",115,0)
 ;;PMRS CWT/SE NON-F TO F (MASNONCT)^223^^PMRS CWT/SE NON-F TO F (MAS NO
"RTN","SD5USTOP",116,0)
 ;;PMRS CWT/TWE NON-F TO F (MASNONCT)^228^^PMRS CWT/TWE NON-F TO F (MAS N
"RTN","SD5USTOP",117,0)
 ;;VISOR (VISUAL IMPAIRMENT OUTPATIENT PROGRAM)^220^^VISOR (VISL IMPRMT OUTPAT PGM)
"RTN","SD5USTOP",118,0)
 ;;MH CWT/SE NON-F TO F (MAS NONCT^569^^MH CWT/SE NON-F TO F (MAS NONC
"RTN","SD5USTOP",119,0)
 ;;MH CWT/TWE NON-F TO F (MAS NONCT^570^^MH CWT/TWE NON-F TO F (MAS NON
"RTN","SD5USTOP",120,0)
 ;;NONVIDEO HOME TELEHEALTH INTERVENTION^684^^NONVIDEO HOME TELEHLTH INTRVNT
"RTN","SD5USTOP",121,0)
 ;;QUIT
"VER")
8.0^22.0
**END**
**END**
