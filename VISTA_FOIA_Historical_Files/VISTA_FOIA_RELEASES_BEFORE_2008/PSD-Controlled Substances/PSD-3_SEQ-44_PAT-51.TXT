$TXT Created by SMITH,BOB at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Tuesday, 11/16/04 at 09:51
=============================================================================
Run Date: JUN 08, 2005                     Designation: PSD*3*51
Package : PSD - CONTROLLED SUBSTANCES         Priority: Mandatory
Version : 3        SEQ #44                      Status: Released
                  Compliance Date: JUL 09, 2005
=============================================================================

Associated patches: (v)PSD*3*25    <<= must be installed BEFORE `PSD*3*51'

Subject: C/S ORDER ENTRY AND SCANNING CHECKOUT PROBLEM

Category: 
  - Routine

Description:
============

 This patch will correct the error <UNDEFINED>MSG+1^PSDORD4
 when performing a C/S Order Entry For a Ward.  It will also
 correct the problem where ?? are displayed when scanning a 
 drug that has a zero balance.
  
 ASSOCIATED NOIS:
 ================
  SBY-0904-30620 ERROR - MSG+1^PSDORD4
  PRE-1004-60136 PROBLEM SCANNING DRUG FOR SIGN OUT FOR PT
  
 ASSOCIATED E3RS:
 ================
 N/A
  
 PARTICIPATING TEST SITES
 ========================
 BECKLEY, WV                  
 INDIANAPOLIS, IN (C)         
 SALISBURY, NC                
 CONNECTICUT HCS
  
 NOIS OVERVIEW:
 ==============
 (1) SBY-0904-30620 ERROR - MSG+1^PSDORD4
  
     Problem:
     --------
     When an inactive drug is selected and the user decides
     to continue with a one time request for that drug, then
     selects another drug that is missing required fields, the
     transaction will produce the following error. 
     $ZE= <UNDEFINED>MSG+1^PSDORD4
  
     Resolution:
     -----------
     To correct this problem PSDORD will be modified to test
     for the existence  of MSG. If MSG is missing it will be
     set to the default of 0.
  
 (2) PRE-1004-60136 PROBLEM SCANNING DRUG FOR SIGN OUT FOR PT
  
     Problem:
     --------
     Some drugs bar-codes are not scanning in the Controlled
     Substances package when the BALANCE for the drug is 0.
     Currently PSDORD routine checks for the existence of the
     DRUG BALANCE NAOU (Narcotic Areas of Use). If it is 0 or
     null it returns a false $T value.  Then prompts the
     user with ??.
  
     Resolution:
     -----------
     To correct this, PSDRF routine will be modified to test the
     drug balance to see if it is 0 or greater.  If it is < 1, it
     will display "Sorry, this drug has a zero balance."
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
           ;;3.0; CONTROLLED SUBSTANCES ;**[Patch List]**;13 Feb 97
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  PSDRF                 10612307             10610376         25,51
  PSDORD                13245815             13265858         51
  
 INSTALLATION INSTRUCTIONS
 =========================
 This patch can be installed at any time.  Users do not need to be off
 the system. Installation will take less than 2 minutes.
  
  1.  Choose the PackMan message containing this patch and invoke the
      INSTALL/CHECK MESSAGE PackMan option.
  
  2.  (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
  
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
  
  3.  Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]:
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
     Select Kernel Installation & Distribution System Option: INStallation
           Load a Distribution
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
           Backup a Transport Global
  
  4.  From this menu, you may elect to use the following options
      (when prompted for the INSTALL NAME, enter PSD*3.0*51):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
  5.  Use the Install Package(s) option and select the package PSD*3.0*51.
  
    a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
        YES//', answer NO (unless otherwise indicated).
    b.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
        and Protocols? YES//', answer NO.
  6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
  
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.
  

Routine Information:
====================

Routine Name:
  - PSDRF


Routine Checksum:

Routine Name:
  - PSDORD


Routine Checksum:

=============================================================================
User Information:
Entered By  : SMITH,ROBERT J                Date Entered  : NOV 04, 2004
Completed By: ANDERSON,MAXINE               Date Completed: JUN 06, 2005
Released By : LYTTLE,KIM M                  Date Released : JUN 08, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
