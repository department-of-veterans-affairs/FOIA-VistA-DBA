Released PSO*7*278 SEQ #239
Extracted from mail message
**KIDS**:PSO*7.0*278^

**INSTALL NAME**
PSO*7.0*278
"BLD",6441,0)
PSO*7.0*278^OUTPATIENT PHARMACY^0^3070801^y
"BLD",6441,1,0)
^^11^11^3070801^
"BLD",6441,1,1,0)
In backdoor pharmacy, when placing a new order, renewing an existing
"BLD",6441,1,2,0)
Order, or copying an order to a new order, if a patient is eligible for
"BLD",6441,1,3,0)
COMBAT VET (CV), the default answer to the prompt "Was treatment related
"BLD",6441,1,4,0)
to Combat" is currently presented as Null. This patch will change the
"BLD",6441,1,5,0)
default answer, currently Null, to 'Yes'.
"BLD",6441,1,6,0)
 
"BLD",6441,1,7,0)
Note:
"BLD",6441,1,8,0)
 
"BLD",6441,1,9,0)
When finishing a pending order the current functionality related to the
"BLD",6441,1,10,0)
CV question will remain the same, i.e., the default answer will be set to
"BLD",6441,1,11,0)
either 'Yes' or 'No' depending on what is being marked by the provider.
"BLD",6441,4,0)
^9.64PA^^
"BLD",6441,6.3)
3
"BLD",6441,"KRN",0)
^9.67PA^8989.52^19
"BLD",6441,"KRN",.4,0)
.4
"BLD",6441,"KRN",.401,0)
.401
"BLD",6441,"KRN",.402,0)
.402
"BLD",6441,"KRN",.403,0)
.403
"BLD",6441,"KRN",.5,0)
.5
"BLD",6441,"KRN",.84,0)
.84
"BLD",6441,"KRN",3.6,0)
3.6
"BLD",6441,"KRN",3.8,0)
3.8
"BLD",6441,"KRN",9.2,0)
9.2
"BLD",6441,"KRN",9.8,0)
9.8
"BLD",6441,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6441,"KRN",9.8,"NM",1,0)
PSOMLLDT^^0^B88755927
"BLD",6441,"KRN",9.8,"NM","B","PSOMLLDT",1)

"BLD",6441,"KRN",19,0)
19
"BLD",6441,"KRN",19.1,0)
19.1
"BLD",6441,"KRN",101,0)
101
"BLD",6441,"KRN",409.61,0)
409.61
"BLD",6441,"KRN",771,0)
771
"BLD",6441,"KRN",870,0)
870
"BLD",6441,"KRN",8989.51,0)
8989.51
"BLD",6441,"KRN",8989.52,0)
8989.52
"BLD",6441,"KRN",8994,0)
8994
"BLD",6441,"KRN","B",.4,.4)

"BLD",6441,"KRN","B",.401,.401)

"BLD",6441,"KRN","B",.402,.402)

"BLD",6441,"KRN","B",.403,.403)

"BLD",6441,"KRN","B",.5,.5)

"BLD",6441,"KRN","B",.84,.84)

"BLD",6441,"KRN","B",3.6,3.6)

"BLD",6441,"KRN","B",3.8,3.8)

"BLD",6441,"KRN","B",9.2,9.2)

"BLD",6441,"KRN","B",9.8,9.8)

"BLD",6441,"KRN","B",19,19)

"BLD",6441,"KRN","B",19.1,19.1)

"BLD",6441,"KRN","B",101,101)

"BLD",6441,"KRN","B",409.61,409.61)

"BLD",6441,"KRN","B",771,771)

"BLD",6441,"KRN","B",870,870)

"BLD",6441,"KRN","B",8989.51,8989.51)

"BLD",6441,"KRN","B",8989.52,8989.52)

"BLD",6441,"KRN","B",8994,8994)

"BLD",6441,"QUES",0)
^9.62^^
"BLD",6441,"REQB",0)
^9.611^1^1
"BLD",6441,"REQB",1,0)
PSO*7.0*219^2
"BLD",6441,"REQB","B","PSO*7.0*219",1)

"MBREQ")
0
"PKG",141,-1)
1^1
"PKG",141,0)
OUTPATIENT PHARMACY^PSO^OUTPATIENT LABELS, PROFILE, INVENTORY, PRESCRIPTIONS
"PKG",141,20,0)
^9.402P^^
"PKG",141,22,0)
^9.49I^1^1
"PKG",141,22,1,0)
7.0^2971216^2980917^11712
"PKG",141,22,1,"PAH",1,0)
278^3070801
"PKG",141,22,1,"PAH",1,1,0)
^^11^11^3070801
"PKG",141,22,1,"PAH",1,1,1,0)
In backdoor pharmacy, when placing a new order, renewing an existing
"PKG",141,22,1,"PAH",1,1,2,0)
Order, or copying an order to a new order, if a patient is eligible for
"PKG",141,22,1,"PAH",1,1,3,0)
COMBAT VET (CV), the default answer to the prompt "Was treatment related
"PKG",141,22,1,"PAH",1,1,4,0)
to Combat" is currently presented as Null. This patch will change the
"PKG",141,22,1,"PAH",1,1,5,0)
default answer, currently Null, to 'Yes'.
"PKG",141,22,1,"PAH",1,1,6,0)
 
"PKG",141,22,1,"PAH",1,1,7,0)
Note:
"PKG",141,22,1,"PAH",1,1,8,0)
 
"PKG",141,22,1,"PAH",1,1,9,0)
When finishing a pending order the current functionality related to the
"PKG",141,22,1,"PAH",1,1,10,0)
CV question will remain the same, i.e., the default answer will be set to
"PKG",141,22,1,"PAH",1,1,11,0)
either 'Yes' or 'No' depending on what is being marked by the provider.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSOMLLDT")
0^1^B88755927^B88490307
"RTN","PSOMLLDT",1,0)
PSOMLLDT ;BIR/RTR - Copay date routine ;08/24/01
"RTN","PSOMLLDT",2,0)
 ;;7.0;OUTPATIENT PHARMACY;**71,157,143,219,278**;DEC 1997;Build 3
"RTN","PSOMLLDT",3,0)
 ;External reference SDC022 supported by DBIA 1579
"RTN","PSOMLLDT",4,0)
 ;External reference DGMSTAPI supported by DBIA2716
"RTN","PSOMLLDT",5,0)
 ;CIDC: Before doing EI question, check to see if should ask ei question 
"RTN","PSOMLLDT",6,0)
 ; because the flag could have changed in enrollment and we shouldn't
"RTN","PSOMLLDT",7,0)
 ; ask if not flagged and should set nulls for answer if Rx is renewed
"RTN","PSOMLLDT",8,0)
 ; or copied when flags changed.  Also, CPRS sometimes sends zeros for
"RTN","PSOMLLDT",9,0)
 ; null answers. 5/12/04
"RTN","PSOMLLDT",10,0)
DT() ;function for Copay date
"RTN","PSOMLLDT",11,0)
 ;0 means Copay not in effect, 1 means Copay in effect
"RTN","PSOMLLDT",12,0)
 N PSOMILDT
"RTN","PSOMLLDT",13,0)
 S PSOMILDT=3020101
"RTN","PSOMLLDT",14,0)
 I '$G(DT) S DT=$$DT^XLFDT
"RTN","PSOMLLDT",15,0)
 Q $S(DT<PSOMILDT:0,1:1)
"RTN","PSOMLLDT",16,0)
 ;
"RTN","PSOMLLDT",17,0)
 Q
"RTN","PSOMLLDT",18,0)
 ;New Copay questions, require if a Renewal
"RTN","PSOMLLDT",19,0)
 ;PSOFLAG=1 for New, PSOFLAG=0 for Renewal
"RTN","PSOMLLDT",20,0)
MST ;Military Sexual Trauma Question
"RTN","PSOMLLDT",21,0)
 I $G(PSODFN) I $P($$GETSTAT^DGMSTAPI(PSODFN),"^",2)'="Y" D  Q
"RTN","PSOMLLDT",22,0)
 . K PSOANSQ("MST"),PSOANSQD("MST") I $G(PSOX("IRXN")) K PSOANSQ(PSOX("IRXN"),"MST")
"RTN","PSOMLLDT",23,0)
 N PSOUFLAG S PSOUFLAG=0
"RTN","PSOMLLDT",24,0)
 K DIR S DIR(0)="Y"
"RTN","PSOMLLDT",25,0)
 S DIR("A")="Was treatment related to Military Sexual Trauma"
"RTN","PSOMLLDT",26,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'Yes' if this prescription is being used to treat a condition related",DIR("?",2)="to Military Sexual Trauma. This response will be used to determine whether or"
"RTN","PSOMLLDT",27,0)
 S DIR("?",3)="not a copay should be applied to the prescription."
"RTN","PSOMLLDT",28,0)
 I '$G(PSOFLAG) S (DIR("B"),PSOUFLAG)=$S($G(PSORX(+$G(PSORENW("OIRXN")),"MST"))=0:"NO",$G(PSORX(+$G(PSORENW("OIRXN")),"MST"))=1:"YES",1:"") I DIR("B")="" K DIR("B") S PSOUFLAG=0
"RTN","PSOMLLDT",29,0)
 I $G(PSOFLAG),$G(PSONEWFF) I $G(PSOANSQD("MST"))=0!($G(PSOANSQD("MST"))=1) S DIR("B")=$S($G(PSOANSQD("MST"))=1:"YES",1:"NO")
"RTN","PSOMLLDT",30,0)
 W ! D ^DIR K DIR
"RTN","PSOMLLDT",31,0)
 I $G(PSOFLAG) W ! D  Q
"RTN","PSOMLLDT",32,0)
 .I Y["^"!($D(DUOUT))!($D(DTOUT)) S PSOCPZ("DFLG")=1 Q
"RTN","PSOMLLDT",33,0)
 .S PSOANSQ("MST")=Y
"RTN","PSOMLLDT",34,0)
 .I $G(PSONEWFF) S PSOANSQD("MST")=Y
"RTN","PSOMLLDT",35,0)
 I Y["^"!($D(DUOUT))!($D(DTOUT)) D  W !!,"This Renewal has been designated as"_$S($G(PSOUFLAG)="YES":"",1:" NOT")_" being used for treatment of Military",!,"Sexual Trauma." D:$G(PSOSCP)<50 MESSM D PAUSE Q
"RTN","PSOMLLDT",36,0)
 .S PSOANSQ(PSOX("IRXN"),"MST")=$S($G(PSOUFLAG)="YES":1,1:0)
"RTN","PSOMLLDT",37,0)
 I $G(PSOX("IRXN")) S PSOANSQ(PSOX("IRXN"),"MST")=Y
"RTN","PSOMLLDT",38,0)
 E  S PSOANSQ("MST")=Y
"RTN","PSOMLLDT",39,0)
 Q
"RTN","PSOMLLDT",40,0)
VEH ;Vietnam-Era Herbicide Question
"RTN","PSOMLLDT",41,0)
 I $G(PSODFN) I '$$AO^SDCO22(PSODFN) D  Q
"RTN","PSOMLLDT",42,0)
 . K PSOANSQ("VEH"),PSOANSQD("VEH") I $G(PSOX("IRXN")) K PSOANSQ(PSOX("IRXN"),"VEH")
"RTN","PSOMLLDT",43,0)
 N PSOUFLAG S PSOUFLAG=0
"RTN","PSOMLLDT",44,0)
 K DIR S DIR(0)="Y"
"RTN","PSOMLLDT",45,0)
 S DIR("A")="Was treatment related to Agent Orange exposure"
"RTN","PSOMLLDT",46,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'Yes' if this prescription is being used to treat a condition due to",DIR("?",2)="Vietnam-Era Herbicide (Agent Orange) exposure. This response will be used to"
"RTN","PSOMLLDT",47,0)
 S DIR("?",3)="determine whether or not a copay should be applied to the prescription."
"RTN","PSOMLLDT",48,0)
 I '$G(PSOFLAG) S (DIR("B"),PSOUFLAG)=$S($G(PSORX(+$G(PSORENW("OIRXN")),"VEH"))=0:"NO",$G(PSORX(+$G(PSORENW("OIRXN")),"VEH"))=1:"YES",1:"") I DIR("B")="" K DIR("B") S PSOUFLAG=0
"RTN","PSOMLLDT",49,0)
 I $G(PSOFLAG),$G(PSONEWFF) I $G(PSOANSQD("VEH"))=0!($G(PSOANSQD("VEH"))=1) S DIR("B")=$S($G(PSOANSQD("VEH"))=1:"YES",1:"NO")
"RTN","PSOMLLDT",50,0)
 W ! D ^DIR K DIR
"RTN","PSOMLLDT",51,0)
 I $G(PSOFLAG) W ! D  Q
"RTN","PSOMLLDT",52,0)
 .I Y["^"!($D(DUOUT))!($D(DTOUT)) S PSOCPZ("DFLG")=1 Q
"RTN","PSOMLLDT",53,0)
 .S PSOANSQ("VEH")=Y
"RTN","PSOMLLDT",54,0)
 .I $G(PSONEWFF) S PSOANSQD("VEH")=Y
"RTN","PSOMLLDT",55,0)
 I Y["^"!($D(DUOUT))!($D(DTOUT)) D  W !!,"This Renewal has been designated as"_$S($G(PSOUFLAG)="YES":"",1:" NOT")_" being used for treatment of Vietnam-Era",!,"Herbicide (Agent Orange) exposure." D:$G(PSOSCP)<50 MESSV D PAUSE Q
"RTN","PSOMLLDT",56,0)
 .S PSOANSQ(PSOX("IRXN"),"VEH")=$S($G(PSOUFLAG)="YES":1,1:0)
"RTN","PSOMLLDT",57,0)
 I $G(PSOX("IRXN")) S PSOANSQ(PSOX("IRXN"),"VEH")=Y
"RTN","PSOMLLDT",58,0)
 E  S PSOANSQ("VEH")=Y
"RTN","PSOMLLDT",59,0)
 Q
"RTN","PSOMLLDT",60,0)
RAD ;Radiation question
"RTN","PSOMLLDT",61,0)
 I $G(PSODFN) I '$$IR^SDCO22(PSODFN) D  Q
"RTN","PSOMLLDT",62,0)
 . K PSOANSQ("RAD"),PSOANSQD("RAD") I $G(PSOX("IRXN")) K PSOANSQ(PSOX("IRXN"),"RAD")
"RTN","PSOMLLDT",63,0)
 N PSOUFLAG S PSOUFLAG=0
"RTN","PSOMLLDT",64,0)
 K DIR S DIR(0)="Y"
"RTN","PSOMLLDT",65,0)
 S DIR("A")="Was treatment related to Ionizing Radiation exposure"
"RTN","PSOMLLDT",66,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'Yes' if this prescription is being used to treat a condition due to",DIR("?",2)="ionizing radiation exposure during military service. This response will be used"
"RTN","PSOMLLDT",67,0)
 S DIR("?",3)="to determine whether or not a copay should be applied to the prescription."
"RTN","PSOMLLDT",68,0)
 I '$G(PSOFLAG) S (DIR("B"),PSOUFLAG)=$S($G(PSORX(+$G(PSORENW("OIRXN")),"RAD"))=0:"NO",$G(PSORX(+$G(PSORENW("OIRXN")),"RAD"))=1:"YES",1:"") I DIR("B")="" K DIR("B") S PSOUFLAG=0
"RTN","PSOMLLDT",69,0)
 I $G(PSOFLAG),$G(PSONEWFF) I $G(PSOANSQD("RAD"))=0!($G(PSOANSQD("RAD"))=1) S DIR("B")=$S($G(PSOANSQD("RAD"))=1:"YES",1:"NO")
"RTN","PSOMLLDT",70,0)
 W ! D ^DIR K DIR
"RTN","PSOMLLDT",71,0)
 I $G(PSOFLAG) W ! D  Q
"RTN","PSOMLLDT",72,0)
 .I Y["^"!($D(DUOUT))!($G(DTOUT)) S PSOCPZ("DFLG")=1 Q
"RTN","PSOMLLDT",73,0)
 .S PSOANSQ("RAD")=Y
"RTN","PSOMLLDT",74,0)
 .I $G(PSONEWFF) S PSOANSQD("RAD")=Y
"RTN","PSOMLLDT",75,0)
 I Y["^"!($D(DUOUT))!($D(DTOUT)) D  W !!,"This Renewal has been designated as"_$S($G(PSOUFLAG)="YES":"",1:" NOT")_" being used for treatment of ionizing",!,"radiation exposure." D:$G(PSOSCP)<50 MESSM D PAUSE Q
"RTN","PSOMLLDT",76,0)
 .S PSOANSQ(PSOX("IRXN"),"RAD")=$S($G(PSOUFLAG)="YES":1,1:0)
"RTN","PSOMLLDT",77,0)
 I $G(PSOX("IRXN")) S PSOANSQ(PSOX("IRXN"),"RAD")=Y
"RTN","PSOMLLDT",78,0)
 E  S PSOANSQ("RAD")=Y
"RTN","PSOMLLDT",79,0)
 Q
"RTN","PSOMLLDT",80,0)
PGW ;Persian Gulf War question
"RTN","PSOMLLDT",81,0)
 I $G(PSODFN) I '$$EC^SDCO22(PSODFN) D  Q
"RTN","PSOMLLDT",82,0)
 . K PSOANSQ("PGW"),PSOANSQD("PGW") I $G(PSOX("IRXN")) K PSOANSQ(PSOX("IRXN"),"PGW")
"RTN","PSOMLLDT",83,0)
 N PSOUFLAG S PSOUFLAG=0
"RTN","PSOMLLDT",84,0)
 K DIR S DIR(0)="Y"
"RTN","PSOMLLDT",85,0)
 S DIR("A")="Was treatment related to Environmental Contaminant exposure"
"RTN","PSOMLLDT",86,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'Yes' if this prescription is being used to treat a condition due to",DIR("?",2)="environmental contaminant exposure during the Persian Gulf War. This response"
"RTN","PSOMLLDT",87,0)
 S DIR("?",3)="will be used to determine whether or not a copay should be applied to the",DIR("?",4)="prescription."
"RTN","PSOMLLDT",88,0)
 I '$G(PSOFLAG) S (DIR("B"),PSOUFLAG)=$S($G(PSORX(+$G(PSORENW("OIRXN")),"PGW"))=0:"NO",$G(PSORX(+$G(PSORENW("OIRXN")),"PGW"))=1:"YES",1:"") I DIR("B")="" K DIR("B") S PSOUFLAG=0
"RTN","PSOMLLDT",89,0)
 I $G(PSOFLAG),$G(PSONEWFF) I $G(PSOANSQD("PGW"))=0!($G(PSOANSQD("PGW"))=1) S DIR("B")=$S($G(PSOANSQD("PGW"))=1:"YES",1:"NO")
"RTN","PSOMLLDT",90,0)
 W ! D ^DIR K DIR
"RTN","PSOMLLDT",91,0)
 I $G(PSOFLAG) W ! D  Q
"RTN","PSOMLLDT",92,0)
 .I Y["^"!($D(DUOUT))!($D(DTOUT)) S PSOCPZ("DFLG")=1 Q
"RTN","PSOMLLDT",93,0)
 .S PSOANSQ("PGW")=Y
"RTN","PSOMLLDT",94,0)
 .I $G(PSONEWFF) S PSOANSQD("PGW")=Y
"RTN","PSOMLLDT",95,0)
 I Y["^"!($D(DUOUT))!($D(DTOUT)) D  W !!,"This Renewal has been designated as"_$S($G(PSOUFLAG)="YES":"",1:" NOT")_" being used for treatment of",!,"environmental contaminant exposure during the Persian Gulf War." D:$G(PSOSCP)<50 MESS D PAUSE Q
"RTN","PSOMLLDT",96,0)
 .S PSOANSQ(PSOX("IRXN"),"PGW")=$S($G(PSOUFLAG)="YES":1,1:0)
"RTN","PSOMLLDT",97,0)
 I $G(PSOX("IRXN")) S PSOANSQ(PSOX("IRXN"),"PGW")=Y
"RTN","PSOMLLDT",98,0)
 E  S PSOANSQ("PGW")=Y
"RTN","PSOMLLDT",99,0)
 Q
"RTN","PSOMLLDT",100,0)
HNC ;Head or Neck Cancer question
"RTN","PSOMLLDT",101,0)
 I $G(PSODFN) I $T(GETCUR^DGNTAPI)]"" N PSONCP,PSONCPX S PSONCPX=$$GETCUR^DGNTAPI(PSODFN,"PSONCP") I $P($G(PSONCP("IND")),"^")'="Y" D  Q
"RTN","PSOMLLDT",102,0)
 . K PSOANSQ("HNC"),PSOANSQD("HNC") I $G(PSOX("IRXN")) K PSOANSQ(PSOX("IRXN"),"HNC")
"RTN","PSOMLLDT",103,0)
 N PSOUFLAG S PSOUFLAG=0
"RTN","PSOMLLDT",104,0)
 K DIR S DIR(0)="Y"
"RTN","PSOMLLDT",105,0)
 S DIR("A")="Was treatment related to Head and/or Neck Cancer"
"RTN","PSOMLLDT",106,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'Yes' if this prescription is being used to treat Head and/or Neck Cancer",DIR("?",2)="due to nose or throat radium treatments while in the military. This response"
"RTN","PSOMLLDT",107,0)
 S DIR("?",3)="will be used to determine whether or not a copay should be applied to the",DIR("?",4)="prescription."
"RTN","PSOMLLDT",108,0)
 I '$G(PSOFLAG) S (DIR("B"),PSOUFLAG)=$S($G(PSORX(+$G(PSORENW("OIRXN")),"HNC"))=0:"NO",$G(PSORX(+$G(PSORENW("OIRXN")),"HNC"))=1:"YES",1:"") I DIR("B")="" K DIR("B") S PSOUFLAG=0
"RTN","PSOMLLDT",109,0)
 I $G(PSOFLAG),$G(PSONEWFF) I $G(PSOANSQD("HNC"))=0!($G(PSOANSQD("HNC"))=1) S DIR("B")=$S($G(PSOANSQD("HNC"))=1:"YES",1:"NO")
"RTN","PSOMLLDT",110,0)
 W ! D ^DIR K DIR
"RTN","PSOMLLDT",111,0)
 I $G(PSOFLAG) W ! D  Q
"RTN","PSOMLLDT",112,0)
 .I Y["^"!($D(DUOUT))!($D(DTOUT)) S PSOCPZ("DFLG")=1 Q
"RTN","PSOMLLDT",113,0)
 .S PSOANSQ("HNC")=Y
"RTN","PSOMLLDT",114,0)
 .I $G(PSONEWFF) S PSOANSQD("HNC")=Y
"RTN","PSOMLLDT",115,0)
 I Y["^"!($D(DUOUT))!($D(DTOUT)) D  W !!,"This Renewal has been designated as"_$S($G(PSOUFLAG)="YES":"",1:" NOT")_" being used for treatment related to",!,"Head and/or Neck Cancer." D:$G(PSOSCP)<50 MESSV D PAUSE Q
"RTN","PSOMLLDT",116,0)
 .S PSOANSQ(PSOX("IRXN"),"HNC")=$S($G(PSOUFLAG)="YES":1,1:0)
"RTN","PSOMLLDT",117,0)
 I $G(PSOX("IRXN")) S PSOANSQ(PSOX("IRXN"),"HNC")=Y
"RTN","PSOMLLDT",118,0)
 E  S PSOANSQ("HNC")=Y
"RTN","PSOMLLDT",119,0)
 Q
"RTN","PSOMLLDT",120,0)
CV ; Combat Veteran Question
"RTN","PSOMLLDT",121,0)
 I $G(PSODFN) I '(+$P($$CVEDT^DGCV(PSODFN),"^",3)) D  Q
"RTN","PSOMLLDT",122,0)
 . K PSOANSQ("CV"),PSOANSQD("CV") I $G(PSOX("IRXN")) K PSOANSQ(PSOX("IRXN"),"CV")
"RTN","PSOMLLDT",123,0)
 N PSOUFLAG S PSOUFLAG=0
"RTN","PSOMLLDT",124,0)
 K DIR S DIR(0)="Y"
"RTN","PSOMLLDT",125,0)
 S DIR("A")="Was treatment related to Combat"
"RTN","PSOMLLDT",126,0)
 S DIR("?")=" "
"RTN","PSOMLLDT",127,0)
 S DIR("?",1)="Enter 'Yes' if this prescription is being used to treat a condition due to"
"RTN","PSOMLLDT",128,0)
 S DIR("?",2)="active duty in a theater of combat operations during a period of war after the"
"RTN","PSOMLLDT",129,0)
 S DIR("?",3)="Gulf War. This response will be used to determine whether or not a copay should"
"RTN","PSOMLLDT",130,0)
 S DIR("?",4)="be applied to the prescription."
"RTN","PSOMLLDT",131,0)
 S DIR("B")="YES"
"RTN","PSOMLLDT",132,0)
 I '$G(PSOFLAG) D
"RTN","PSOMLLDT",133,0)
 .  S (DIR("B"),PSOUFLAG)=$S($G(PSORX(+$G(PSORENW("OIRXN")),"CV"))=0:"NO",$G(PSORX(+$G(PSORENW("OIRXN")),"CV"))=1:"YES",1:"")
"RTN","PSOMLLDT",134,0)
 .  I DIR("B")="" S (PSOUFLAG,DIR("B"))="YES"
"RTN","PSOMLLDT",135,0)
 I $G(PSOFLAG),$G(PSONEWFF) D
"RTN","PSOMLLDT",136,0)
 .  I $G(PSOANSQD("CV"))=0!($G(PSOANSQD("CV"))=1) D
"RTN","PSOMLLDT",137,0)
 .  .  S DIR("B")=$S($G(PSOANSQD("CV"))=1:"YES",1:"NO")
"RTN","PSOMLLDT",138,0)
 W ! D ^DIR K DIR
"RTN","PSOMLLDT",139,0)
 I $G(PSOFLAG) W ! D  Q
"RTN","PSOMLLDT",140,0)
 .  I Y["^"!($D(DUOUT))!($G(DTOUT)) S PSOCPZ("DFLG")=1 Q
"RTN","PSOMLLDT",141,0)
 .  S PSOANSQ("CV")=Y
"RTN","PSOMLLDT",142,0)
 .  I $G(PSONEWFF) S PSOANSQD("CV")=Y
"RTN","PSOMLLDT",143,0)
 I Y["^"!($D(DUOUT))!($D(DTOUT)) D  Q
"RTN","PSOMLLDT",144,0)
 .  W !!,"This Renewal has been designated as"_$S($G(PSOUFLAG)="YES":"",1:" NOT")_" being used for treatment of military"
"RTN","PSOMLLDT",145,0)
 .  W !,"combat service." D:$G(PSOSCP)<50 MESSM D PAUSE
"RTN","PSOMLLDT",146,0)
 .  S PSOANSQ(PSOX("IRXN"),"CV")=$S($G(PSOUFLAG)="YES":1,1:0)
"RTN","PSOMLLDT",147,0)
 I $G(PSOX("IRXN")) S PSOANSQ(PSOX("IRXN"),"CV")=Y
"RTN","PSOMLLDT",148,0)
 E  S PSOANSQ("CV")=Y
"RTN","PSOMLLDT",149,0)
 Q
"RTN","PSOMLLDT",150,0)
PAUSE ;
"RTN","PSOMLLDT",151,0)
 K DIR W ! S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSOMLLDT",152,0)
 Q
"RTN","PSOMLLDT",153,0)
MESS ;
"RTN","PSOMLLDT",154,0)
 Q:$G(PSODRUG("DEA"))["S"!($G(PSODRUG("DEA"))["I")
"RTN","PSOMLLDT",155,0)
 W !,"Please use the 'Reset Copay Status/Cancel Charges' option to make corrections.",!
"RTN","PSOMLLDT",156,0)
 Q
"RTN","PSOMLLDT",157,0)
MESSM ;
"RTN","PSOMLLDT",158,0)
 Q:$G(PSODRUG("DEA"))["S"!($G(PSODRUG("DEA"))["I")
"RTN","PSOMLLDT",159,0)
 W " Please use the 'Reset Copay Status/Cancel Charges' option",!,"to make corrections.",!
"RTN","PSOMLLDT",160,0)
 Q
"RTN","PSOMLLDT",161,0)
MESSV ;
"RTN","PSOMLLDT",162,0)
 Q:$G(PSODRUG("DEA"))["S"!($G(PSODRUG("DEA"))["I")
"RTN","PSOMLLDT",163,0)
 W " Please use the 'Reset Copay Status/Cancel",!,"Charges' option to make corrections.",!
"VER")
8.0^22.0
"BLD",6441,6)
^239
**END**
**END**
