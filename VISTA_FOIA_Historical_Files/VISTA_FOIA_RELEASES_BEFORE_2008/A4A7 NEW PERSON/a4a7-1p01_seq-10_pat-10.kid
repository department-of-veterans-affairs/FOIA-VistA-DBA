Released A4A7*1.01*10 SEQ #10
Extracted from mail message
**KIDS**:A4A7*1.01*10^

**INSTALL NAME**
A4A7*1.01*10
"BLD",16,0)
A4A7*1.01*10^NEW PERSON^0^2971007^n
"BLD",16,1,0)
^^39^39^2971223^
"BLD",16,1,1,0)

"BLD",16,1,2,0)
WIC-0497-40424   A4A7B    Fixed use of non-standard code.
"BLD",16,1,3,0)

"BLD",16,1,4,0)
BRX-1197-11294            The DD for file 200 was missing two fields
"BLD",16,1,5,0)
                          "XUS Logon Atempt Count" and
"BLD",16,1,6,0)
                          "XUS Active User"
"BLD",16,1,7,0)
       
"BLD",16,1,8,0)
                 Checksum
"BLD",16,1,9,0)
Routine         Old       New      2nd Line
"BLD",16,1,10,0)
A4A7B        19871326  19882220    **9,10**
"BLD",16,1,11,0)
         
"BLD",16,1,12,0)
========================================================================= 
"BLD",16,1,13,0)
Installation:
"BLD",16,1,14,0)

"BLD",16,1,15,0)
 1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"BLD",16,1,16,0)
     option will load the KIDS package onto your system.
"BLD",16,1,17,0)
     
"BLD",16,1,18,0)
 2.   The patch has now been loaded into a Transport global on your
"BLD",16,1,19,0)
      system. You now need to use KIDS to install the Transport global.
"BLD",16,1,20,0)
      On the KIDS menu, under the 'Installation' menu, use the following
"BLD",16,1,21,0)
      options:
"BLD",16,1,22,0)
      
"BLD",16,1,23,0)
         Verify Checksum's in Transport Global
"BLD",16,1,24,0)
         Print Transport Global
"BLD",16,1,25,0)
         Compare Transport Global to Current System
"BLD",16,1,26,0)
         Backup a Transport Global
"BLD",16,1,27,0)
     
"BLD",16,1,28,0)
 3.  Users can remain on the system. This patch can be loaded any
"BLD",16,1,29,0)
     time.
"BLD",16,1,30,0)
    
"BLD",16,1,31,0)
 4.   On the KIDS menu, under the 'Installation' menu, use the following
"BLD",16,1,32,0)
      option:
"BLD",16,1,33,0)
        Install Package(s)  'A4A7*1.01*10'
"BLD",16,1,34,0)
                             ============
"BLD",16,1,35,0)
        
"BLD",16,1,36,0)
 5.  MSM Sites - Answer YES to the question 'Want to MOVE routines to
"BLD",16,1,37,0)
     other CPUs?'. Enter the names of your Compute and Print server(s).
"BLD",16,1,38,0)

"BLD",16,1,39,0)
 =========================================================================
"BLD",16,4,0)
^9.64PA^200^1
"BLD",16,4,200,0)
200
"BLD",16,4,200,2,0)
^9.641^200^1
"BLD",16,4,200,2,200,0)
NEW PERSON  (File-top level)
"BLD",16,4,200,2,200,1,0)
^9.6411^202.03^2
"BLD",16,4,200,2,200,1,202.02,0)
XUS Logon Atempt Count
"BLD",16,4,200,2,200,1,202.03,0)
XUS Active User
"BLD",16,4,200,222)
y^n^p^^^^n
"BLD",16,4,"APDD",200,200)

"BLD",16,4,"APDD",200,200,202.02)

"BLD",16,4,"APDD",200,200,202.03)

"BLD",16,4,"B",200,200)

"BLD",16,"KRN",0)
^9.67PA^19^13
"BLD",16,"KRN",.4,0)
.4
"BLD",16,"KRN",.401,0)
.401
"BLD",16,"KRN",.402,0)
.402
"BLD",16,"KRN",.403,0)
.403
"BLD",16,"KRN",.5,0)
.5
"BLD",16,"KRN",.84,0)
.84
"BLD",16,"KRN",3.6,0)
3.6
"BLD",16,"KRN",3.8,0)
3.8
"BLD",16,"KRN",9.2,0)
9.2
"BLD",16,"KRN",9.8,0)
9.8
"BLD",16,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",16,"KRN",9.8,"NM",1,0)
A4A7B^^0^B27343704
"BLD",16,"KRN",9.8,"NM","B","A4A7B",1)

"BLD",16,"KRN",19,0)
19
"BLD",16,"KRN",19.1,0)
19.1
"BLD",16,"KRN",101,0)
101
"BLD",16,"KRN","B",.4,.4)

"BLD",16,"KRN","B",.401,.401)

"BLD",16,"KRN","B",.402,.402)

"BLD",16,"KRN","B",.403,.403)

"BLD",16,"KRN","B",.5,.5)

"BLD",16,"KRN","B",.84,.84)

"BLD",16,"KRN","B",3.6,3.6)

"BLD",16,"KRN","B",3.8,3.8)

"BLD",16,"KRN","B",9.2,9.2)

"BLD",16,"KRN","B",9.8,9.8)

"BLD",16,"KRN","B",19,19)

"BLD",16,"KRN","B",19.1,19.1)

"BLD",16,"KRN","B",101,101)

"FIA",200)
NEW PERSON
"FIA",200,0)
^VA(200,
"FIA",200,0,0)
200
"FIA",200,0,1)
y^n^p^^^^n
"FIA",200,0,10)

"FIA",200,0,11)

"FIA",200,0,"RLRO")

"FIA",200,0,"VR")
1.01^A4A7
"FIA",200,200)
1
"FIA",200,200,202.02)

"FIA",200,200,202.03)

"PKG",7,-1)
1^1
"PKG",7,0)
NEW PERSON^A4A7^NEW PERSON FILE
"PKG",7,22,0)
^9.49I^1^1
"PKG",7,22,1,0)
1.01
"PKG",7,22,1,"PAH",1,0)
10^2971007
"PKG",7,22,1,"PAH",1,1,0)
^^39^39^2971223
"PKG",7,22,1,"PAH",1,1,1,0)

"PKG",7,22,1,"PAH",1,1,2,0)
WIC-0497-40424   A4A7B    Fixed use of non-standard code.
"PKG",7,22,1,"PAH",1,1,3,0)

"PKG",7,22,1,"PAH",1,1,4,0)
BRX-1197-11294            The DD for file 200 was missing two fields
"PKG",7,22,1,"PAH",1,1,5,0)
                          "XUS Logon Atempt Count" and
"PKG",7,22,1,"PAH",1,1,6,0)
                          "XUS Active User"
"PKG",7,22,1,"PAH",1,1,7,0)
       
"PKG",7,22,1,"PAH",1,1,8,0)
                 Checksum
"PKG",7,22,1,"PAH",1,1,9,0)
Routine         Old       New      2nd Line
"PKG",7,22,1,"PAH",1,1,10,0)
A4A7B        19871326  19882220    **9,10**
"PKG",7,22,1,"PAH",1,1,11,0)
         
"PKG",7,22,1,"PAH",1,1,12,0)
========================================================================= 
"PKG",7,22,1,"PAH",1,1,13,0)
Installation:
"PKG",7,22,1,"PAH",1,1,14,0)

"PKG",7,22,1,"PAH",1,1,15,0)
 1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"PKG",7,22,1,"PAH",1,1,16,0)
     option will load the KIDS package onto your system.
"PKG",7,22,1,"PAH",1,1,17,0)
     
"PKG",7,22,1,"PAH",1,1,18,0)
 2.   The patch has now been loaded into a Transport global on your
"PKG",7,22,1,"PAH",1,1,19,0)
      system. You now need to use KIDS to install the Transport global.
"PKG",7,22,1,"PAH",1,1,20,0)
      On the KIDS menu, under the 'Installation' menu, use the following
"PKG",7,22,1,"PAH",1,1,21,0)
      options:
"PKG",7,22,1,"PAH",1,1,22,0)
      
"PKG",7,22,1,"PAH",1,1,23,0)
         Verify Checksum's in Transport Global
"PKG",7,22,1,"PAH",1,1,24,0)
         Print Transport Global
"PKG",7,22,1,"PAH",1,1,25,0)
         Compare Transport Global to Current System
"PKG",7,22,1,"PAH",1,1,26,0)
         Backup a Transport Global
"PKG",7,22,1,"PAH",1,1,27,0)
     
"PKG",7,22,1,"PAH",1,1,28,0)
 3.  Users can remain on the system. This patch can be loaded any
"PKG",7,22,1,"PAH",1,1,29,0)
     time.
"PKG",7,22,1,"PAH",1,1,30,0)
    
"PKG",7,22,1,"PAH",1,1,31,0)
 4.   On the KIDS menu, under the 'Installation' menu, use the following
"PKG",7,22,1,"PAH",1,1,32,0)
      option:
"PKG",7,22,1,"PAH",1,1,33,0)
        Install Package(s)  'A4A7*1.01*10'
"PKG",7,22,1,"PAH",1,1,34,0)
                             ============
"PKG",7,22,1,"PAH",1,1,35,0)
        
"PKG",7,22,1,"PAH",1,1,36,0)
 5.  MSM Sites - Answer YES to the question 'Want to MOVE routines to
"PKG",7,22,1,"PAH",1,1,37,0)
     other CPUs?'. Enter the names of your Compute and Print server(s).
"PKG",7,22,1,"PAH",1,1,38,0)

"PKG",7,22,1,"PAH",1,1,39,0)
 =========================================================================
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","A4A7B")
0^1^B27343704
"RTN","A4A7B",1,0)
A4A7B ;CFB/SF/TUSC; NEW PERSON FILE 3/6/16/20 LOCATOR ;05/28/97  14:40
"RTN","A4A7B",2,0)
 ;;1.01;NEW PERSON;**9,10**;2/9/96
"RTN","A4A7B",3,0)
 D ^A4A7B0,PARTIAL^A4A7B0 I $D(^UTILITY("A4A7B","SECTION"))!($D(ANS)) G Q
"RTN","A4A7B",4,0)
DATADIC ;start looping though the data dictionary
"RTN","A4A7B",5,0)
 S A4A7B("START")=$P(^UTILITY("A4A7B","CKPT"),"^",2),A4A7B("STOP")=$S($G(^UTILITY("A4A7B","SECTION"))'="":$P(^("SECTION"),"^",3),1:99999999999)
"RTN","A4A7B",6,0)
 F A4A7B("A")=A4A7B("START"):0:A4A7B("STOP") S $P(^UTILITY("A4A7B","CKPT"),"^",2)=A4A7B("A"),A4A7B("A")=$O(^DD(A4A7B("A"))) Q:A4A7B("A")'>0  G Q:^UTILITY("A4A7B","RUN")="STOP" D
"RTN","A4A7B",7,0)
 .I (A4A7B("A")\1=3!(A4A7B("A")\1=6)!(A4A7B("A")\1=16)!(A4A7B("A")\1=20)!(A4A7B("A")\1=200)) Q
"RTN","A4A7B",8,0)
 .D FILE S A4A7B("B")="" F  S A4A7B("B")=$O(^DD(A4A7B("A"),A4A7B("B"))) Q:A4A7B("B")=""  I A4A7B("B")>0 D
"RTN","A4A7B",9,0)
 ..I +A4A7B("B") D
"RTN","A4A7B",10,0)
 ...K A4A7B(0) S A4A7B(0)=$G(^DD(A4A7B("A"),A4A7B("B"),0)) Q:A4A7B(0)=""  S A4A7B(0,5)=$P(A4A7B(0),"^",5,999) F A4A7B=1:1:4 S A4A7B(0,A4A7B)=$P(A4A7B(0),"^",A4A7B)
"RTN","A4A7B",11,0)
 ...Q:+A4A7B(0,2)
"RTN","A4A7B",12,0)
 ...I A4A7B(0,2)["V" F A4A7B("C")=0:0 S A4A7B("C")=$O(^DD(A4A7B("A"),A4A7B("B"),"V","B",A4A7B("C"))) Q:A4A7B("C")'>0  S A4A7B("NAIL")="V",A4A7B("HAY")=$G(^DIC(A4A7B("C"),0,"GL")) D HORSE
"RTN","A4A7B",13,0)
 ...I A4A7B(0,2)'["S",A4A7B(0,3)["DIC(" S A4A7B("HAY")="^"_A4A7B(0,3),A4A7B("NAIL")="PTR" D HORSE
"RTN","A4A7B",14,0)
 ...I A4A7B(0,5)["^DIC(" S A4A7B("HAY")=A4A7B(0,5),A4A7B("NAIL")="INP" D HORSE
"RTN","A4A7B",15,0)
 ..S A4A7B("C")="" F  S A4A7B("C")=$O(@A4A7B("IND",3)) Q:A4A7B("C")=""  S A4A7B("D")="",A4A7B("D")=$O(@A4A7B("IND",4)) I A4A7B("C")'="0" D
"RTN","A4A7B",16,0)
 ...I A4A7B("D")="" S A4A7B("HAY")=@A4A7B("IND",3) D NAIL,HORSE Q
"RTN","A4A7B",17,0)
 ...S A4A7B("D")=$S(A4A7B("C")=1:0,1:"") F  S A4A7B("D")=$O(@A4A7B("IND",4)) Q:A4A7B("D")=""  S A4A7B("E")="" F  S A4A7B("E")=$O(@A4A7B("IND",5)) Q:A4A7B("E")=""  D
"RTN","A4A7B",18,0)
 ....S A4A7B("HAY")=$G(@A4A7B("IND",5)) I A4A7B("HAY")'="" S A4A7B=$G(^(0)) D NAIL I A4A7B("NAIL")="CR" S A4A7B("NAIL")=A4A7B("NAIL")_"*"_A4A7B D HORSE
"RTN","A4A7B",19,0)
 Q:$D(^UTILITY("A4A7B","SECTION"))
"RTN","A4A7B",20,0)
 S ^UTILITY("A4A7B","CKPT")="DIE^DIE(0)"
"RTN","A4A7B",21,0)
DIE ;
"RTN","A4A7B",22,0)
 S A4A7B("DIE")="^"_$P(^UTILITY("A4A7B","CKPT"),"^",2),A4A7B("TEST")=$P(A4A7B("DIE"),"0)") F  S A4A7B("DIE")=$Q(@A4A7B("DIE")) Q:^UTILITY("A4A7B","RUN")="STOP"  Q:A4A7B("DIE")'[A4A7B("TEST")  Q:'+$P(A4A7B("DIE"),A4A7B("TEST"),2)  D
"RTN","A4A7B",23,0)
 .I $P(A4A7B("DIE"),A4A7B("TEST"),2)?.N1",0)" S A4A7B("A")=$P($G(@A4A7B("DIE")),"^")
"RTN","A4A7B",24,0)
 .S A4A7B("NAIL")=A4A7B("TEST") I A4A7B("DIE")["^DIST(" S A4A7B("NAIL")=$P(A4A7B("DIE"),",")
"RTN","A4A7B",25,0)
 .S A4A7B("B")=$P(A4A7B("DIE"),",",2,999)
"RTN","A4A7B",26,0)
 .I $D(@A4A7B("DIE")) S A4A7B("HAY")=@A4A7B("DIE") D HORSE
"RTN","A4A7B",27,0)
 .I +$P(A4A7B("DIE"),"^DIE(",2)>(+$P($P(^UTILITY("A4A7B","CKPT"),"^",2),"DIE(",2)) S $P(^UTILITY("A4A7B","CKPT"),"^",2)=$P(A4A7B("DIE"),"^",2,999)
"RTN","A4A7B",28,0)
 Q:$D(^UTILITY("A4A7B","SECTION"))
"RTN","A4A7B",29,0)
 S X=A4A7B("TEST") I X'="^DIST(.404," S $P(^UTILITY("A4A7B","CKPT"),"^",2)=$S(X="^DIE(":"DIBT(0)",X="^DIBT(":"DIPT(0)",X="^DIPT(":"DD(""FUNC"",0)",X="^DD((""FUNC"",":"DIST(.403,0)",1:"DIST(.404,0)") G DIE
"RTN","A4A7B",30,0)
 K A4A7B("DIE"),A4A7B("TEST")
"RTN","A4A7B",31,0)
 S ^UTILITY("A4A7B","CKPT")="ROU^2" K ^UTILITY("A4A7B0")
"RTN","A4A7B",32,0)
ROU S A4A7B("STRING")="^A^B^C^D^E^F^G^H^I^J^K^L^M^N^O^P^Q^R^S^T^U^V^W^X^Y^Z^ZZZZZ"
"RTN","A4A7B",33,0)
 S A4A7B("FIND")="F  S A4A7B(""FIRST"")=$O(^$R(A4A7B(""FIRST""))) Q:A4A7B(""FIRST"")=""""  Q:A4A7B(""FIRST"")]A4A7B(""LAST"")  S ^UTILITY(""A4A7B0"",A4A7B(""FIRST""))="""""
"RTN","A4A7B",34,0)
 S A4A7B("LINE")="S X="""" F  S X=$O(^UTILITY(""A4A7B0"",X)) Q:X=""""  F Y=0:1 ZL @X Q:$T(@X+Y)=""""  S A4A7B(""NAIL"")=""ROU"",A4A7B(""A"")=X,A4A7B(""B"")=Y,A4A7B(""HAY"")=$T(@X+Y) D HORSE^A4A7B"
"RTN","A4A7B",35,0)
 F Z=$P(^UTILITY("A4A7B","CKPT"),"^",2):1:$S($G(^UTILITY("A4A7B","SECTION"))'="":$P(^("SECTION"),"^",2),1:28) S A4A7B("FIRST")=$P(A4A7B("STRING"),"^",Z-1),A4A7B("LAST")=$P(A4A7B("STRING"),"^",Z) Q:^UTILITY("A4A7B","RUN")="STOP"  D
"RTN","A4A7B",36,0)
 .X A4A7B("FIND"),A4A7B("LINE") K ^UTILITY("A4A7B0") S $P(^("CKPT"),"^",2)=($P(^UTILITY("A4A7B","CKPT"),"^",2)+1)
"RTN","A4A7B",37,0)
Q S:^UTILITY("A4A7B","RUN")="RUN" ^UTILITY("A4A7B","RUN")="FINISHED" K A4A7B Q
"RTN","A4A7B",38,0)
FILE F A4A7B("C")="ACT","SCR" Q:'$D(^DD(A4A7B("A"),0,A4A7B("C")))  S A4A7B("B")=A4A7B("C"),A4A7B("HAY")=^DD(A4A7B("A"),0,A4A7B("B")),A4A7B("NAIL")=A4A7B("C") D HORSE
"RTN","A4A7B",39,0)
 S A4A7B("C")="ID" S A4A7B("B")="" F  S A4A7B("B")=$O(^DD(A4A7B("A"),0,A4A7B("C"),A4A7B("B"))) Q:A4A7B("B")=""  S A4A7B("HAY")=^DD(A4A7B("A"),0,A4A7B("C"),A4A7B("B")),A4A7B("NAIL")=A4A7B("C") D HORSE
"RTN","A4A7B",40,0)
 Q
"RTN","A4A7B",41,0)
HORSE F A4A7B("HORSE")=3,6,16,20 D
"RTN","A4A7B",42,0)
 .I A4A7B("HAY")[("^DIC("_A4A7B("HORSE")_",") D NEEDLE
"RTN","A4A7B",43,0)
 .F A4A7B("NEEDLE")="DIC=","DIE=","(DIC,DIE)=","(DIE,DIC)=" I A4A7B("HAY")[A4A7B("NEEDLE"),+$P(A4A7B("HAY"),A4A7B("NEEDLE"),2)=A4A7B("HORSE") D NEEDLE
"RTN","A4A7B",44,0)
 K A4A7B("HAY"),A4A7B("NAIL"),A4A7B("HORSE"),A4A7B("NEEDLE") Q
"RTN","A4A7B",45,0)
NEEDLE S ^UTILITY("A4A7B","XQ82",A4A7B("A"),A4A7B("B"),A4A7B("HORSE"),A4A7B("NAIL"))=A4A7B("HAY") Q
"RTN","A4A7B",46,0)
STOP S ^UTILITY("A4A7B","RUN")="STOP" Q
"RTN","A4A7B",47,0)
RESTART S ^UTILITY("A4A7B","RUN")="RUN" D NODE^A4A7B0 G @$P(^UTILITY("A4A7B","CKPT"),"^")
"RTN","A4A7B",48,0)
NAIL S A4A7B("NAIL")=$S($D(A4A7B("NODE",A4A7B("C"))):A4A7B("NODE",A4A7B("C")),$D(A4A7B("NODE",A4A7B("C")\1)):A4A7B("NODE",A4A7B("C")\1),1:"M*"_A4A7B("C")) Q
"RTN","A4A7B",49,0)
TASK S ZTRTN=$S('($D(^UTILITY("A4A7B","CKPT"))):"^A4A7B",^UTILITY("A4A7B","RUN")="FINISHED":"Q^A4A7B",1:"RESTART^A4A7B"),ZTDESC="FIND 3/6/16/20",ZTIO="",ZTPRI=1,ZTSAVE("*")="" D ^%ZTLOAD W !,"TASK",?20,$G(ZTSK) Q
"VER")
8.0^21.0
"^DD",200,200,202.02,0)
XUS Logon Atempt Count^NJ2,0^^1.1;2^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",200,200,202.02,3)
Type a Number between 0 and 99, 0 Decimal Digits
"^DD",200,200,202.02,21,0)
^^1^1^2960404^
"^DD",200,200,202.02,21,1,0)
This is used to let the user know about unsuccessful logon atempts.
"^DD",200,200,202.02,"DT")
2960404
"^DD",200,200,202.03,0)
XUS Active User^S^0:No;1:Yes;^1.1;3^Q
"^DD",200,200,202.03,21,0)
^^3^3^2960404^
"^DD",200,200,202.03,21,1,0)
If a user gets the ** MULTIPULE SIGN-ON NOT ALLOWED ** message
"^DD",200,200,202.03,21,2,0)
this field can be set to NO to allow them to sign-on again.
"^DD",200,200,202.03,21,3,0)
This flag is set by XUS and XUSCLEAN.
"^DD",200,200,202.03,"DT")
2960404
**END**
**END**
