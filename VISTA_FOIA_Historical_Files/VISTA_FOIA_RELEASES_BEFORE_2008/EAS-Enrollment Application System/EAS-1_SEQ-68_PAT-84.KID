Released EAS*1*84 SEQ #68
Extracted from mail message
**KIDS**:EAS*1.0*84^

**INSTALL NAME**
EAS*1.0*84
"BLD",6912,0)
EAS*1.0*84^ENROLLMENT APPLICATION SYSTEM^0^3070912^y
"BLD",6912,1,0)
^^2^2^3070820^
"BLD",6912,1,1,0)
Please refer to the National Patch Module for a description
"BLD",6912,1,2,0)
of the changes included in this patch.
"BLD",6912,4,0)
^9.64PA^^
"BLD",6912,6.3)
2
"BLD",6912,"KRN",0)
^9.67PA^8989.52^19
"BLD",6912,"KRN",.4,0)
.4
"BLD",6912,"KRN",.4,"NM",0)
^9.68A^^
"BLD",6912,"KRN",.401,0)
.401
"BLD",6912,"KRN",.402,0)
.402
"BLD",6912,"KRN",.403,0)
.403
"BLD",6912,"KRN",.5,0)
.5
"BLD",6912,"KRN",.84,0)
.84
"BLD",6912,"KRN",3.6,0)
3.6
"BLD",6912,"KRN",3.8,0)
3.8
"BLD",6912,"KRN",9.2,0)
9.2
"BLD",6912,"KRN",9.8,0)
9.8
"BLD",6912,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6912,"KRN",9.8,"NM",1,0)
EASEZPF^^0^B24035586
"BLD",6912,"KRN",9.8,"NM","B","EASEZPF",1)

"BLD",6912,"KRN",19,0)
19
"BLD",6912,"KRN",19.1,0)
19.1
"BLD",6912,"KRN",101,0)
101
"BLD",6912,"KRN",409.61,0)
409.61
"BLD",6912,"KRN",771,0)
771
"BLD",6912,"KRN",870,0)
870
"BLD",6912,"KRN",8989.51,0)
8989.51
"BLD",6912,"KRN",8989.52,0)
8989.52
"BLD",6912,"KRN",8994,0)
8994
"BLD",6912,"KRN","B",.4,.4)

"BLD",6912,"KRN","B",.401,.401)

"BLD",6912,"KRN","B",.402,.402)

"BLD",6912,"KRN","B",.403,.403)

"BLD",6912,"KRN","B",.5,.5)

"BLD",6912,"KRN","B",.84,.84)

"BLD",6912,"KRN","B",3.6,3.6)

"BLD",6912,"KRN","B",3.8,3.8)

"BLD",6912,"KRN","B",9.2,9.2)

"BLD",6912,"KRN","B",9.8,9.8)

"BLD",6912,"KRN","B",19,19)

"BLD",6912,"KRN","B",19.1,19.1)

"BLD",6912,"KRN","B",101,101)

"BLD",6912,"KRN","B",409.61,409.61)

"BLD",6912,"KRN","B",771,771)

"BLD",6912,"KRN","B",870,870)

"BLD",6912,"KRN","B",8989.51,8989.51)

"BLD",6912,"KRN","B",8989.52,8989.52)

"BLD",6912,"KRN","B",8994,8994)

"BLD",6912,"QUES",0)
^9.62^^
"BLD",6912,"REQB",0)
^9.611^1^1
"BLD",6912,"REQB",1,0)
EAS*1.0*51^2
"BLD",6912,"REQB","B","EAS*1.0*51",1)

"MBREQ")
0
"PKG",552,-1)
1^1
"PKG",552,0)
ENROLLMENT APPLICATION SYSTEM^EAS^ENROLLMENT
"PKG",552,20,0)
^9.402P^1^1
"PKG",552,20,1,0)
2^^EASXDR
"PKG",552,20,1,1)
 
"PKG",552,20,"B",2,1)

"PKG",552,22,0)
^9.49I^1^1
"PKG",552,22,1,0)
1.0^3010315^3010410^66481
"PKG",552,22,1,"PAH",1,0)
84^3070912
"PKG",552,22,1,"PAH",1,1,0)
^^2^2^3070912
"PKG",552,22,1,"PAH",1,1,1,0)
Please refer to the National Patch Module for a description
"PKG",552,22,1,"PAH",1,1,2,0)
of the changes included in this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","EASEZPF")
0^1^B24035586^B22616026
"RTN","EASEZPF",1,0)
EASEZPF ;ALB/SCK/GAH - Print 1010EZ Enrollment form ; 10/19/2000
"RTN","EASEZPF",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**44,51,84**;Sep 5, 2006;Build 2
"RTN","EASEZPF",3,0)
 ;
"RTN","EASEZPF",4,0)
 ; These routines print a version of the OMB approved VA10-10EZ form.
"RTN","EASEZPF",5,0)
 ; No local modifications to these routines will be made.  Any changes
"RTN","EASEZPF",6,0)
 ; will be provided through the National Patch Module  release process.
"RTN","EASEZPF",7,0)
 ;
"RTN","EASEZPF",8,0)
QUE(EASAPP,EASDFN) ; Queue the 1010EZ print
"RTN","EASEZPF",9,0)
 ;  Input
"RTN","EASEZPF",10,0)
 ;      EASAPP - Internal entry number in the 1010EZ HOLDING File, #712
"RTN","EASEZPF",11,0)
 ;      EASDFN - [Optionla] Patient DFN
"RTN","EASEZPF",12,0)
 ;
"RTN","EASEZPF",13,0)
 ;  Output
"RTN","EASEZPF",14,0)
 ;      ZTSK   - Task Number returned from call to Task Manager
"RTN","EASEZPF",15,0)
 ;
"RTN","EASEZPF",16,0)
 ;  
"RTN","EASEZPF",17,0)
 N ZTDESC,ZTIO,ZTRTN,ZTSAVE,ZTSK,ZUSR,POP,X,ERR
"RTN","EASEZPF",18,0)
 ;
"RTN","EASEZPF",19,0)
 ; Check for conditions to print form.  If conditions not met, quit
"RTN","EASEZPF",20,0)
 G:$$CHECKS(EASAPP) EXIT
"RTN","EASEZPF",21,0)
 ;
"RTN","EASEZPF",22,0)
 W !!?5,*7,"Do not select a slave device for output."
"RTN","EASEZPF",23,0)
 W !?5,"This output requires a 132 column output printer."
"RTN","EASEZPF",24,0)
 W !?5,"Output to SCREEN will be unreadable.",!
"RTN","EASEZPF",25,0)
 ;
"RTN","EASEZPF",26,0)
 S EASAPP=$G(EASAPP),EASDFN=$G(EASDFN)
"RTN","EASEZPF",27,0)
 ; Can't be a slave
"RTN","EASEZPF",28,0)
 S %ZIS="Q",%ZIS("S")="I $P($G(^(1)),U)'[""SLAVE""&($P($G(^(0)),U)'[""SLAVE"")"
"RTN","EASEZPF",29,0)
 D ^%ZIS
"RTN","EASEZPF",30,0)
 ;
"RTN","EASEZPF",31,0)
 G:POP EXIT
"RTN","EASEZPF",32,0)
 ;EAS*1*51 -- if version # 6 or greater, use new print format
"RTN","EASEZPF",33,0)
 S ZTRTN="EN^EASEZPF"
"RTN","EASEZPF",34,0)
 I '$G(EASVRSN) S EASVRSN=$$VERSION^EASEZU4(EASAPP)
"RTN","EASEZPF",35,0)
 I '(EASVRSN<6) S ZTRTN="EN^EASEZP6F"
"RTN","EASEZPF",36,0)
 ; Either queue for print or print manually by user choice (EAS*1.0*84)
"RTN","EASEZPF",37,0)
 I $D(IO("Q")) D  G EXIT ;Queued print chosen
"RTN","EASEZPF",38,0)
 . S ZUSR=DUZ,ZTDESC="1010EZ PRINT"
"RTN","EASEZPF",39,0)
 . F X="ZUSR","EASAPP","EASDFN" S ZTSAVE(X)=""
"RTN","EASEZPF",40,0)
 . D ^%ZTLOAD
"RTN","EASEZPF",41,0)
 . D HOME^%ZIS
"RTN","EASEZPF",42,0)
 ;
"RTN","EASEZPF",43,0)
 ;Manual print chosen
"RTN","EASEZPF",44,0)
 D @ZTRTN
"RTN","EASEZPF",45,0)
 D ^%ZISC
"RTN","EASEZPF",46,0)
 G EXIT
"RTN","EASEZPF",47,0)
 ;
"RTN","EASEZPF",48,0)
EXIT Q +$G(ZTSK)
"RTN","EASEZPF",49,0)
 ;
"RTN","EASEZPF",50,0)
CHECKS(EASAPP) ; Check for quit conditions
"RTN","EASEZPF",51,0)
 ;
"RTN","EASEZPF",52,0)
 Q 0
"RTN","EASEZPF",53,0)
 N RSLT
"RTN","EASEZPF",54,0)
 ;
"RTN","EASEZPF",55,0)
 S X=$$GET1^DIQ(712,EASAPP_",",3.4,"I") D
"RTN","EASEZPF",56,0)
 . I +X'>0 S ERR(3.4)="The applicant has not been linked to the PATIENT File, #2"
"RTN","EASEZPF",57,0)
 ;
"RTN","EASEZPF",58,0)
 S X=$$GET1^DIQ(712,EASAPP_",",5.1,"I") D
"RTN","EASEZPF",59,0)
 . I +X'>0 S ERR(5.1)="This application has not been reviewed"
"RTN","EASEZPF",60,0)
 ;
"RTN","EASEZPF",61,0)
 S X=$$GET1^DIQ(712,EASAPP_",",9.1,"I") D
"RTN","EASEZPF",62,0)
 . I X>0 S ERR(9.1)="This application has already been closed, thE VA10-10EZ cannot be printed"
"RTN","EASEZPF",63,0)
 ;
"RTN","EASEZPF",64,0)
 I $D(ERR)>0 D
"RTN","EASEZPF",65,0)
 . W !!?3,*7,"The VA10-10EZ for "
"RTN","EASEZPF",66,0)
 . W $$GET1^DIQ(712,EASAPP_",",1),", ",$$GET1^DIQ(712,EASAPP_",",2),", "
"RTN","EASEZPF",67,0)
 . W !?3,"WEB submission ID: ",$$GET1^DIQ(712,EASAPP_",",.1)
"RTN","EASEZPF",68,0)
 . W !?3,"could not be printed for the following reason(s): "
"RTN","EASEZPF",69,0)
 . S X=0
"RTN","EASEZPF",70,0)
 . F  S X=$O(ERR(X)) Q:'X  D
"RTN","EASEZPF",71,0)
 . . W !?5,">> ",ERR(X)
"RTN","EASEZPF",72,0)
 . S RSLT=1
"RTN","EASEZPF",73,0)
 ;
"RTN","EASEZPF",74,0)
 Q $G(RSLT)
"RTN","EASEZPF",75,0)
 ;
"RTN","EASEZPF",76,0)
EN ; Entry point to print 1010EZ
"RTN","EASEZPF",77,0)
 N EALNE,EAINFO,EAABRT,EAADL,ERR
"RTN","EASEZPF",78,0)
 ;
"RTN","EASEZPF",79,0)
 D SETUP(.EALNE,.EAINFO,EASAPP,EASDFN)
"RTN","EASEZPF",80,0)
 ;
"RTN","EASEZPF",81,0)
 D PAGE1^EASEZPU
"RTN","EASEZPF",82,0)
 D EN^EASEZPF1(.EALNE,.EAINFO)
"RTN","EASEZPF",83,0)
 ;
"RTN","EASEZPF",84,0)
 D PAGE2^EASEZPU
"RTN","EASEZPF",85,0)
 D EN^EASEZPF2(.EALNE,.EAINFO)
"RTN","EASEZPF",86,0)
 ;
"RTN","EASEZPF",87,0)
 D EN^EASEZPF3(.EALNE,.EAINFO)
"RTN","EASEZPF",88,0)
 ;
"RTN","EASEZPF",89,0)
 ; Print additional second pages if more than 1 dependent.
"RTN","EASEZPF",90,0)
 F EAADL=1:1 D  Q:$G(EAABRT)
"RTN","EASEZPF",91,0)
 . I '$D(^TMP("EZTEMP",$J,"IIB",EAADL)) S EAABRT=1 Q
"RTN","EASEZPF",92,0)
 . D PAGEN^EASEZPU(EAADL)
"RTN","EASEZPF",93,0)
 . D EN^EASEZPF2(.EALNE,.EAINFO)
"RTN","EASEZPF",94,0)
 ;
"RTN","EASEZPF",95,0)
ENQUIT ; Cleanup temp globals after printing is complete
"RTN","EASEZPF",96,0)
 K ^TMP("EASEZ",$J)
"RTN","EASEZPF",97,0)
 K ^TMP("EZDATA",$J)
"RTN","EASEZPF",98,0)
 K ^TMP("EZINDEX",$J)
"RTN","EASEZPF",99,0)
 K ^TMP("EZTEMP",$J)
"RTN","EASEZPF",100,0)
 K ^TMP("EZDISP",$J)
"RTN","EASEZPF",101,0)
 Q
"RTN","EASEZPF",102,0)
 ;
"RTN","EASEZPF",103,0)
SETUP(EALNE,EAINFO,EASAPP,EASDFN) ; Set-up print variables
"RTN","EASEZPF",104,0)
 ; Input
"RTN","EASEZPF",105,0)
 ;   EALNE   - Line format array
"RTN","EASEZPF",106,0)
 ;   EAINFO  - Misc Data
"RTN","EASEZPF",107,0)
 ;      ("CLRK") - Clerk's intials
"RTN","EASEZPF",108,0)
 ;      ("ID")   - Web ID from #712
"RTN","EASEZPF",109,0)
 ;      ("PGE")  - Page number
"RTN","EASEZPF",110,0)
 ;      ("VET" ) - Veteran's name submitting the application
"RTN","EASEZPF",111,0)
 ;      ("SSN")  - Veteran's SSN
"RTN","EASEZPF",112,0)
 ;      ("DISC") - Financial Disclosure status
"RTN","EASEZPF",113,0)
 ;   EASAPP  - IEN of applicant on the 1010EZ HOLDING File, #712
"RTN","EASEZPF",114,0)
 ;   EASDFN  - DFN of applicant in the PATIENT File, #2
"RTN","EASEZPF",115,0)
 ;
"RTN","EASEZPF",116,0)
 N X
"RTN","EASEZPF",117,0)
 ;
"RTN","EASEZPF",118,0)
 ; Build Line array for printout
"RTN","EASEZPF",119,0)
 S EALNE("ULC")=$S('($D(IOST)#2):"-",IOST["C-":"-",1:"_")
"RTN","EASEZPF",120,0)
 S EALNE("D")="",EALNE("DD")="",EALNE("UL")=""
"RTN","EASEZPF",121,0)
 S $P(EALNE("D"),"-",131)="",$P(EALNE("DD"),"=",131)="",$P(EALNE("UL"),EALNE("ULC"),131)=""
"RTN","EASEZPF",122,0)
 ;
"RTN","EASEZPF",123,0)
 ; Setup information array
"RTN","EASEZPF",124,0)
 ; Get clerk's initals
"RTN","EASEZPF",125,0)
 S ZUSR=$G(ZUSR)
"RTN","EASEZPF",126,0)
 I +ZUSR>0 D
"RTN","EASEZPF",127,0)
 . S EAINFO("CLRK")=$$GET1^DIQ(200,ZUSR,1)
"RTN","EASEZPF",128,0)
 . I EAINFO("CLRK")']"" D
"RTN","EASEZPF",129,0)
 . . S X=$$GET1^DIQ(200,ZUSR,.01)
"RTN","EASEZPF",130,0)
 . . S EAINFO("CLRK")=$E($P(X,",",2),1)_$E($P(X,","),1)
"RTN","EASEZPF",131,0)
 E  D
"RTN","EASEZPF",132,0)
 . S EAINFO("CLRK")="unk"
"RTN","EASEZPF",133,0)
 ;
"RTN","EASEZPF",134,0)
 ; Set data elements
"RTN","EASEZPF",135,0)
 S EAINFO("PGE")=0
"RTN","EASEZPF",136,0)
 S EAINFO("ID")=$$GET1^DIQ(712,EASAPP_",",.1)
"RTN","EASEZPF",137,0)
 S EAINFO("PD")=$$FMTE^XLFDT($$NOW^XLFDT)
"RTN","EASEZPF",138,0)
 S EAINFO("DISC")=$$GET1^DIQ(712,EASAPP_",",3.8)
"RTN","EASEZPF",139,0)
 S EAINFO("EASAPP")=EASAPP
"RTN","EASEZPF",140,0)
 S EAINFO("VET")=$$GET1^DIQ(712,EASAPP_",",1)
"RTN","EASEZPF",141,0)
 S EAINFO("SSN")=$$GET1^DIQ(712,EASAPP_",",2)
"RTN","EASEZPF",142,0)
 ;
"RTN","EASEZPF",143,0)
 ; Retrieve applciation data from holding file, #712
"RTN","EASEZPF",144,0)
 D EN^EASEZC1(EASAPP)
"RTN","EASEZPF",145,0)
 D SORT^EASEZC3(EASAPP)
"RTN","EASEZPF",146,0)
SETQ Q
"RTN","EASEZPF",147,0)
 ;
"RTN","EASEZPF",148,0)
HDRMAIN(EALNE) ;
"RTN","EASEZPF",149,0)
 W @IOF
"RTN","EASEZPF",150,0)
 W ?75,"OMB APPROVED NO. 2900-0091 / Est. Burden Avg. 20 min.",!,EALNE("DD")
"RTN","EASEZPF",151,0)
 W !,"D E P A R T M E N T   O F   V E T E R A N S   A F F A I R S",?96,"APPLICATION FOR HEALTH BENEFITS",!,EALNE("DD")
"RTN","EASEZPF",152,0)
 W !?50,"SECTION I - GENERAL INFORMATION",!,EALNE("D")
"RTN","EASEZPF",153,0)
 Q
"RTN","EASEZPF",154,0)
 ;
"RTN","EASEZPF",155,0)
HDR(EALNE,EAINFO) ;
"RTN","EASEZPF",156,0)
 W @IOF
"RTN","EASEZPF",157,0)
 W !,"APPLICATION FOR HEALTH BENEFITS, Continued",?65,"| ",EAINFO("VET"),?100,"| ",EAINFO("SSN")
"RTN","EASEZPF",158,0)
 W !,EALNE("DD")
"RTN","EASEZPF",159,0)
 Q
"RTN","EASEZPF",160,0)
 ;
"RTN","EASEZPF",161,0)
FT(EALNE,EAINFO) ;
"RTN","EASEZPF",162,0)
 N %,Y
"RTN","EASEZPF",163,0)
 ;
"RTN","EASEZPF",164,0)
 W !,EALNE("DD")
"RTN","EASEZPF",165,0)
 W !,"AUTOMATED VA FORM 10-10EZ APR 1998",?40,"PRINTED: ",EAINFO("PD")
"RTN","EASEZPF",166,0)
 W ?80,"Clerk: ",EAINFO("CLRK"),"/",EAINFO("ID")
"RTN","EASEZPF",167,0)
 W ?120,"Page " S EAINFO("PGE")=EAINFO("PGE")+1 W EAINFO("PGE")
"RTN","EASEZPF",168,0)
 Q
"VER")
8.0^22.0
"BLD",6912,6)
^68
**END**
**END**
