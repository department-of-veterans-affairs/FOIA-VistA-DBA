Released RMPR*3*119 SEQ #107
Extracted from mail message
**KIDS**:RMPR*3.0*119^

**INSTALL NAME**
RMPR*3.0*119
"BLD",5852,0)
RMPR*3.0*119^PROSTHETICS^0^3070111^y
"BLD",5852,1,0)
^^1^1^3070111^
"BLD",5852,1,1,0)
Follow-up patch to GUI Purchasing to put the Vista Option out of order.
"BLD",5852,4,0)
^9.64PA^^
"BLD",5852,6)
7^
"BLD",5852,6.3)
4
"BLD",5852,"ABPKG")
n
"BLD",5852,"INIT")
RMPR119P
"BLD",5852,"KRN",0)
^9.67PA^8989.52^19
"BLD",5852,"KRN",.4,0)
.4
"BLD",5852,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",5852,"KRN",.4,"NM",1,0)
RMPR WH DISPLAY    FILE #664^664^0
"BLD",5852,"KRN",.4,"NM","B","RMPR WH DISPLAY    FILE #664",1)

"BLD",5852,"KRN",.401,0)
.401
"BLD",5852,"KRN",.402,0)
.402
"BLD",5852,"KRN",.403,0)
.403
"BLD",5852,"KRN",.5,0)
.5
"BLD",5852,"KRN",.84,0)
.84
"BLD",5852,"KRN",3.6,0)
3.6
"BLD",5852,"KRN",3.8,0)
3.8
"BLD",5852,"KRN",9.2,0)
9.2
"BLD",5852,"KRN",9.8,0)
9.8
"BLD",5852,"KRN",9.8,"NM",0)
^9.68A^4^3
"BLD",5852,"KRN",9.8,"NM",2,0)
RMPR9P22^^0^B35798441
"BLD",5852,"KRN",9.8,"NM",3,0)
RMPR119P^^0^B11078
"BLD",5852,"KRN",9.8,"NM",4,0)
RMPR9P21^^0^B40190006
"BLD",5852,"KRN",9.8,"NM","B","RMPR119P",3)

"BLD",5852,"KRN",9.8,"NM","B","RMPR9P21",4)

"BLD",5852,"KRN",9.8,"NM","B","RMPR9P22",2)

"BLD",5852,"KRN",19,0)
19
"BLD",5852,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",5852,"KRN",19,"NM",1,0)
RMPR4 PC^^1^
"BLD",5852,"KRN",19,"NM","B","RMPR4 PC",1)

"BLD",5852,"KRN",19.1,0)
19.1
"BLD",5852,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",5852,"KRN",101,0)
101
"BLD",5852,"KRN",409.61,0)
409.61
"BLD",5852,"KRN",771,0)
771
"BLD",5852,"KRN",870,0)
870
"BLD",5852,"KRN",8989.51,0)
8989.51
"BLD",5852,"KRN",8989.52,0)
8989.52
"BLD",5852,"KRN",8994,0)
8994
"BLD",5852,"KRN","B",.4,.4)

"BLD",5852,"KRN","B",.401,.401)

"BLD",5852,"KRN","B",.402,.402)

"BLD",5852,"KRN","B",.403,.403)

"BLD",5852,"KRN","B",.5,.5)

"BLD",5852,"KRN","B",.84,.84)

"BLD",5852,"KRN","B",3.6,3.6)

"BLD",5852,"KRN","B",3.8,3.8)

"BLD",5852,"KRN","B",9.2,9.2)

"BLD",5852,"KRN","B",9.8,9.8)

"BLD",5852,"KRN","B",19,19)

"BLD",5852,"KRN","B",19.1,19.1)

"BLD",5852,"KRN","B",101,101)

"BLD",5852,"KRN","B",409.61,409.61)

"BLD",5852,"KRN","B",771,771)

"BLD",5852,"KRN","B",870,870)

"BLD",5852,"KRN","B",8989.51,8989.51)

"BLD",5852,"KRN","B",8989.52,8989.52)

"BLD",5852,"KRN","B",8994,8994)

"BLD",5852,"QUES",0)
^9.62^^
"BLD",5852,"REQB",0)
^9.611^^
"INIT")
RMPR119P
"KRN",.4,2463,-1)
0^1
"KRN",.4,2463,0)
RMPR WH DISPLAY^3051128.1308^@^664^^@^3061211
"KRN",.4,2463,"DXS",1,9.2)
S DIP(2)=$S($D(^RMPR(664,D0,3)):^(3),1:"") S X="Deliver To Attention: ",DIP(1)=$G(X) S X=$P(DIP(2),U,4)'="",DIP(3)=$G(X) S X=$P(DIP(2),U,4),DIP(4)=$G(X) S X=1
"KRN",.4,2463,"F",1)
S DIP(1)=$S($D(^RMPR(664,D0,3)):^(3),1:"") S X="Deliver To: "_$P(DIP(1),U,1) W X K DIP;S1;X;Z;""Deliver To: "_DELIVER TO"~
"KRN",.4,2463,"F",2)
S DIP(1)=$S($D(^RMPR(664,D0,4)):^(4),1:"") S X="     IFCAP Order: "_$P($G(^PRC(442,+$P(DIP(1),U,6),0)),U) W X K DIP;X;Z;""     IFCAP Order: "_IFCAP ORDER"~
"KRN",.4,2463,"F",3)
X DXS(1,9.2) S DIP(5)=$G(X) S X="N/A",X=$S(DIP(3):DIP(4),DIP(5):X) S Y=X,X=DIP(1),X=X_Y W X K DIP;S1;X;Z;""Deliver To Attention: "_$S(DELIVER TO ATTENTION'="":DELIVER TO ATTENTION,1:"N/A")"~
"KRN",.4,2463,"F",4)
S DIP(1)=$S($D(^RMPR(664,D0,0)):^(0),1:"") S X="Vendor: "_$P($G(^PRC(440,+$P(DIP(1),U,4),0)),U) W X K DIP;S1;X;Z;""Vendor: "_VENDOR"~
"KRN",.4,2463,"F",5)
S DIP(1)=$S($D(^RMPR(664,D0,0)):^(0),1:"") S X="Initiator: "_$P($G(^VA(200,+$P(DIP(1),U,9),0)),U) W X K DIP;S1;X;Z;""Initiator: "_INITI"~
"KRN",.4,2463,"F",6)
S DIP(1)=$S($D(^RMPR(664,D0,0)):^(0),1:"") S X="Station Name: "_$P($G(^DIC(4,+$P(DIP(1),U,14),0)),U) W X K DIP;S1;X;Z;""Station Name: "_STATION NAME"~
"KRN",.4,2463,"F",7)
2,S DIP(1)=$S($D(^RMPR(664,D0,1,D1,0)):^(0),1:"") S X="Item: "_$$EXTERNAL^DIDU(664.02,.01,"",$P(DIP(1),U,1)) W X K DIP;S1;X;Z;""Item: "_BILLING IT"~
"KRN",.4,2463,"F",8)
2,S DIP(1)=$S($D(^RMPR(664,D0,1,D1,0)):^(0),1:"") S X="Brief Description: "_$P(DIP(1),U,2) W X K DIP;S1;X;Z;""Brief Description: "_BRIEF DES"~
"KRN",.4,2463,"F",9)
2,S DIP(1)=$S($D(^RMPR(664,D0,1,D1,0)):^(0),1:"") S X="Unit Cost: "_$P(DIP(1),U,3) W X K DIP;S1;X;Z;""Unit Cost: "_UNIT COST"~
"KRN",.4,2463,"F",10)
2,S DIP(1)=$S($D(^RMPR(664,D0,1,D1,0)):^(0),1:"") S X="     Qty: "_$P(DIP(1),U,4) W X K DIP;X;Z;""     Qty: "_QTY"~
"KRN",.4,2463,"F",11)
2,S DIP(1)=$S($D(^RMPR(664,D0,1,D1,0)):^(0),1:"") S X="     Unit of Issue: "_$P($G(^PRCD(420.5,+$P(DIP(1),U,5),0)),U) W X K DIP;X;Z;""     Unit of Issue: "_UNIT OF"~
"KRN",.4,2463,"F",12)
2,14,.01;S1;X;m;w~
"KRN",.4,2463,"H")
Prosthetics Display
"KRN",19,12613,-1)
1^1
"KRN",19,12613,0)
RMPR4 PC
"MBREQ")
0
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",101,-1)
1^1
"PKG",101,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",101,20,0)
^9.402P^^0
"PKG",101,22,0)
^9.49I^1^1
"PKG",101,22,1,0)
3.0^2960209^2960214
"PKG",101,22,1,"PAH",1,0)
119^3070111^104
"PKG",101,22,1,"PAH",1,1,0)
^^1^1^3070111
"PKG",101,22,1,"PAH",1,1,1,0)
Follow-up patch to GUI Purchasing to put the Vista Option out of order.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","RMPR119P")
0^3^B11078^n/a
"RTN","RMPR119P",1,0)
RMPR119P ;HOIFO/SPS - POST INIT PROSTHETICS UTILITY ;10/20/05
"RTN","RMPR119P",2,0)
 ;;3.0;Prosthetics;**119**;Feb 09, 1996;Build 4
"RTN","RMPR119P",3,0)
 D ^RMPR112P
"RTN","RMPR119P",4,0)
 Q
"RTN","RMPR9P21")
0^4^B40190006^B39649375
"RTN","RMPR9P21",1,0)
RMPR9P21 ;PHX/SPS,HNC,RVD -SEND DATA TO PC TO PRINT PURCHASE CARD ORDER ;4/27/05
"RTN","RMPR9P21",2,0)
 ;;3.0;PROSTHETICS;**90,116,119**;Feb 09, 1996;Build 4
"RTN","RMPR9P21",3,0)
 ;
"RTN","RMPR9P21",4,0)
EN(RMPRA,RMPRSITE,RMPRPTR) ;ENTRY POINT FOR VISTA ROLL AND SCROLL
"RTN","RMPR9P21",5,0)
 G EN2
"RTN","RMPR9P21",6,0)
 ;
"RTN","RMPR9P21",7,0)
PRT(RESULTS,RMPRA,RMPRSITE,RMPRPTR) ;GUI ENTRY POINT TO PRINT
"RTN","RMPR9P21",8,0)
EN2 I RMPRPTR'="WINDOWS" Q
"RTN","RMPR9P21",9,0)
 K ^TMP($J,"RMPRPRT"),RESULTS
"RTN","RMPR9P21",10,0)
 D INF^RMPRSIT
"RTN","RMPR9P21",11,0)
 S %X="^RMPR(664,RMPRA,",%Y="R664(" D %XY^%RCR K %X,%Y,^TMP($J,"RMPRPRT")
"RTN","RMPR9P21",12,0)
 S RDUZ=$P(R664(0),U,9),RDUZ=$P(^VA(200,RDUZ,0),U,1),DFN=$P(R664(0),U,2),RTN=$P(R664(0),U,7),CP=$P(R664(0),U,6),RMPRPAGE=2
"RTN","RMPR9P21",13,0)
 D ADD^VADPT,DEM^VADPT,ELIG^VADPT
"RTN","RMPR9P21",14,0)
 S ^TMP($J,"RMPRPRT",0)="                           OMB Number 2900-0188                    PO#: "_$P($G(^RMPR(664,RMPRA,4)),U,5)
"RTN","RMPR9P21",15,0)
 S ^TMP($J,"RMPRPRT",1)=""
"RTN","RMPR9P21",16,0)
 S ^TMP($J,"RMPRPRT",2)=""
"RTN","RMPR9P21",17,0)
 S ^TMP($J,"RMPRPRT",3)="       ***ORIGINAL COPY AND COMMERCIAL INVOICE MUST BE SUBMITTED***"
"RTN","RMPR9P21",18,0)
 S ^TMP($J,"RMPRPRT",4)="               TO THE VAMC PROSTHETIC ACTIVITY LISTED BELOW"
"RTN","RMPR9P21",19,0)
HDR ;PRINT HEADER FOR 2421 ADDRESS INFO
"RTN","RMPR9P21",20,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P21",21,0)
 S (RMPRT,RMPRB)="",$P(RMPRT,"_",80)="",$P(RMPRB,"-",80)=""
"RTN","RMPR9P21",22,0)
 S ^TMP($J,"RMPRPRT",CNT+1)=RMPRT
"RTN","RMPR9P21",23,0)
 S ^TMP($J,"RMPRPRT",CNT+2)="Department of Veterans Affairs"_"|"_"Prosthetic Authorization for Items or Services"
"RTN","RMPR9P21",24,0)
 S ^TMP($J,"RMPRPRT",CNT+3)=RMPRB
"RTN","RMPR9P21",25,0)
 S ^TMP($J,"RMPRPRT",CNT+4)="1. Name and Address of Vendor          2. Name and Address of VA Facility"
"RTN","RMPR9P21",26,0)
 S RMPRV=$P(R664(0),U,4),RMPRST=""
"RTN","RMPR9P21",27,0)
 I $D(^PRC(440,RMPRV,0)) S RMPRV=^PRC(440,RMPRV,0) D
"RTN","RMPR9P21",28,0)
 .S RMPRST=$P(RMPRV,U,7),RMPRPHON=$P(RMPRV,U,10)
"RTN","RMPR9P21",29,0)
 .S RMPRAD1=$P(RMPRV,U,2),RMPRAD2=$P(RMPRV,U,3)
"RTN","RMPR9P21",30,0)
 .S RMPRCITY=$P(RMPRV,U,6),RMPR90IP=$P(RMPRV,U,8)
"RTN","RMPR9P21",31,0)
 .S RMPRVACN=$P($G(^PRC(440,$P(R664(0),U,4),2)),U,1)
"RTN","RMPR9P21",32,0)
 I $D(^DIC(5,+RMPRST,0)) S RMPRST=$P(^(0),U,2)
"RTN","RMPR9P21",33,0)
 E  S RMPRST="NO STATE ON FILE"
"RTN","RMPR9P21",34,0)
 S SPACE="",LRMPRV=$L($E($P(RMPRV,U,1),1,30)),$P(SPACE," ",40-LRMPRV)=""
"RTN","RMPR9P21",35,0)
 S ^TMP($J,"RMPRPRT",CNT+5)="    "_$E($P(RMPRV,U,1),1,30)_SPACE_$E(RMPR("NAME"),1,28)_" ,("_$$STA^RMPRUTIL_"/"_$$ROU^RMPRUTIL(RMPRSITE)_")"
"RTN","RMPR9P21",36,0)
 S LRMPRCTY=$L(RMPRCITY),LRMPRST=$L(RMPRST),LRMPRAD1=$L($E(RMPRAD1,1,35))
"RTN","RMPR9P21",37,0)
 S SPACE="",$P(SPACE," ",40-LRMPRAD1)=""
"RTN","RMPR9P21",38,0)
 S ^TMP($J,"RMPRPRT",CNT+6)="    "_$E(RMPRAD1,1,35)_SPACE_$E(RMPR("ADD"),1,39)
"RTN","RMPR9P21",39,0)
 S SPACE="",LRMPRAD2=$L($E(RMPRAD2,1,35)),$P(SPACE," ",45-LRMPRAD1)=""
"RTN","RMPR9P21",40,0)
 I RMPRAD2'="" S ^TMP($J,"RMPRPRT",CNT+7)="    "_$E(RMPRAD2,1,35)_SPACE_RMPR("CITY")
"RTN","RMPR9P21",41,0)
 S SPACE="",$P(SPACE," ",33-LRMPRCTY-LRMPRST)=""
"RTN","RMPR9P21",42,0)
 I RMPRAD2="" S ^TMP($J,"RMPRPRT",CNT+7)="    "_RMPRCITY_","_RMPRST_" "_RMPR90IP_SPACE_RMPR("CITY")
"RTN","RMPR9P21",43,0)
 I RMPRAD2'="" S ^TMP($J,"RMPRPRT",CNT+8)="    "_RMPRCITY_","_RMPRST_" "_RMPR90IP
"RTN","RMPR9P21",44,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P21",45,0)
 S ^TMP($J,"RMPRPRT",CNT+1)="    "_RMPRPHON_"                          "_$P(^RMPR(669.9,RMPRSITE,0),U,4)
"RTN","RMPR9P21",46,0)
 S ^TMP($J,"RMPRPRT",CNT+2)=RMPRB
"RTN","RMPR9P21",47,0)
 S ^TMP($J,"RMPRPRT",CNT+3)="3. Veterans Name (Last, First, MI)     4. Date of Authorization"
"RTN","RMPR9P21",48,0)
 S SPACE="",VADM1=$L(VADM(1))
"RTN","RMPR9P21",49,0)
 S ^TMP($J,"RMPRPRT",CNT+4)="    "_VADM(1) S Y=$P(R664(0),U,1) D DD^%DT
"RTN","RMPR9P21",50,0)
 S SPACE="",$P(SPACE," ",40-VADM1)=""
"RTN","RMPR9P21",51,0)
 S ^TMP($J,"RMPRPRT",CNT+4)=^TMP($J,"RMPRPRT",CNT+4)_SPACE_Y
"RTN","RMPR9P21",52,0)
 I $D(RMPRMOR) S ^TMP($J,"RMPRPRT",CNT+5)=RMPRB D HDR1 Q
"RTN","RMPR9P21",53,0)
 S ^TMP($J,"RMPRPRT",CNT+5)=RMPRB S RMPRODTE=Y
"RTN","RMPR9P21",54,0)
 S RMPRDELD="" I $D(R664(3)),$P(R664(3),U,2)]"" S Y=$P(R664(3),U,2) D DD^%DT S RMPRDELD=Y
"RTN","RMPR9P21",55,0)
 S ^TMP($J,"RMPRPRT",CNT+6)="5. Veterans Address                    6. Date Required"
"RTN","RMPR9P21",56,0)
 S SPACE="",VAPA1=$L(VAPA(1)),$P(SPACE," ",40-VAPA1)=""
"RTN","RMPR9P21",57,0)
 S ^TMP($J,"RMPRPRT",CNT+7)="    "_VAPA(1)_SPACE_RMPRDELD
"RTN","RMPR9P21",58,0)
 S SPACE="",VAPA4=$L(VAPA(4)),VAPA5=$P($L(VAPA(5)),U,2),VAPA6=$L(VAPA(6)),$P(SPACE," ",27-VAPA4-VAPA5-VAPA6)=""
"RTN","RMPR9P21",59,0)
 I VAPA(2)="" S ^TMP($J,"RMPRPRT",CNT+8)="    "_VAPA(4)_","_$P(VAPA(5),U,2)_" "_VAPA(6)_SPACE_$E(RMPRB,1,40)
"RTN","RMPR9P21",60,0)
 I VAPA(2)="" S ^TMP($J,"RMPRPRT",CNT+9)="                                        9. Authority For Issuance  CFR 17.115"
"RTN","RMPR9P21",61,0)
 S SPACE="",VAPA8=$L(VAPA(8)),$P(SPACE," ",40-VAPA8)=""
"RTN","RMPR9P21",62,0)
 I VAPA(2)="" S ^TMP($J,"RMPRPRT",CNT+10)="    "_VAPA(8)_SPACE_"CHARGE MEDICAL APPROPRIATION"
"RTN","RMPR9P21",63,0)
 S SPACE="",VAPA2=$L(VAPA(2)),$P(SPACE," ",31-VAPA2)=""
"RTN","RMPR9P21",64,0)
 I VAPA(2)'="" S ^TMP($J,"RMPRPRT",CNT+8)="    "_VAPA(2)_SPACE_$E(RMPRB,1,40)
"RTN","RMPR9P21",65,0)
 S SPACE="",$P(SPACE," ",30-VAPA4-VAPA5-VAPA6)=""
"RTN","RMPR9P21",66,0)
 I VAPA(2)'="" S ^TMP($J,"RMPRPRT",CNT+9)="    "_VAPA(4)_","_$P(VAPA(5),U,2)_" "_VAPA(6)_SPACE_"9. Authority For Issuance  CFR 17.115"
"RTN","RMPR9P21",67,0)
 S SPACE="",$P(SPACE," ",40-VAPA8)=""
"RTN","RMPR9P21",68,0)
 I VAPA(2)'="" S ^TMP($J,"RMPRPRT",CNT+10)="    "_VAPA(8)_SPACE_"CHARGE MEDICAL APPROPRIATION"
"RTN","RMPR9P21",69,0)
 S ^TMP($J,"RMPRPRT",CNT+11)=RMPRB
"RTN","RMPR9P21",70,0)
 S ^TMP($J,"RMPRPRT",CNT+12)="7. Claim Number   "_VAEL(7)_"             8. ID #:"_" "_$P($P(VADM(2),U,2),"-",3)
"RTN","RMPR9P21",71,0)
 S ^TMP($J,"RMPRPRT",CNT+13)=RMPRB
"RTN","RMPR9P21",72,0)
 S ^TMP($J,"RMPRPRT",CNT+14)="10. Statistical Data         11. FOB Point    12. Discount    13. Delivery Time"
"RTN","RMPR9P21",73,0)
 S R664("E")=$O(R664(1,0)),CAT=$P(R664(1,R664("E"),0),U,10)
"RTN","RMPR9P21",74,0)
 S RMPRCAT=$S(CAT=1:"SC/OP",CAT=2:"SC/IP",CAT=3:"NSC/IP",CAT=4:"NSC/OP",1:"")
"RTN","RMPR9P21",75,0)
 S SPE=$P(R664(1,R664("E"),0),U,11)
"RTN","RMPR9P21",76,0)
 S RMPRSCAT=$S(SPE=1:"SPECIAL LEGISLATION",SPE=2:"A&A",SPE=3:"PHC",SPE=4:"ELIGIBILITY REFORM",1:"")
"RTN","RMPR9P21",77,0)
 S ^TMP($J,"RMPRPRT",CNT+15)="    "_RMPRCAT_" "_RMPRSCAT S:+$P(R664(0),U,10) RMPRFOB=$P(R664(0),U,10)
"RTN","RMPR9P21",78,0)
 S SPACE="",LRMPRCAT=$L(RMPRCAT),LRMPSCAT=$L(RMPRSCAT),$P(SPACE," ",29-LRMPRCAT-LRMPSCAT)=""
"RTN","RMPR9P21",79,0)
 S ^TMP($J,"RMPRPRT",CNT+15)=^TMP($J,"RMPRPRT",CNT+15)_SPACE_$S($D(RMPRFOB):"ORIGIN",1:"DEST ")_"              % "
"RTN","RMPR9P21",80,0)
 I $D(R664(2)) S ^TMP($J,"RMPRPRT",CNT+15)=^TMP($J,"RMPRPRT",CNT+15)_$P(R664(2),U,6)
"RTN","RMPR9P21",81,0)
 I $D(R664(3)) S ^TMP($J,"RMPRPRT",CNT+15)=^TMP($J,"RMPRPRT",CNT+15)_"             "_$P(R664(3),U,3)_" Days"
"RTN","RMPR9P21",82,0)
 S ^TMP($J,"RMPRPRT",CNT+16)=RMPRB
"RTN","RMPR9P21",83,0)
 S ^TMP($J,"RMPRPRT",CNT+17)="14. Delivery To: "
"RTN","RMPR9P21",84,0)
 S:$D(R664(3)) ^TMP($J,"RMPRPRT",CNT+17)=^TMP($J,"RMPRPRT",CNT+17)_$P(R664(3),U)
"RTN","RMPR9P21",85,0)
 S ^TMP($J,"RMPRPRT",CNT+18)="      Attention:  "_$P(R664(3),U,4)
"RTN","RMPR9P21",86,0)
 S ^TMP($J,"RMPRPRT",CNT+19)=RMPRB
"RTN","RMPR9P21",87,0)
HDR1 ;HEADER FOR 10-2421
"RTN","RMPR9P21",88,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P21",89,0)
 S ^TMP($J,"RMPRPRT",CNT+1)="                15. DESCRIPTION OF ITEMS OR SERVICES AUTHORIZED"
"RTN","RMPR9P21",90,0)
 S ^TMP($J,"RMPRPRT",CNT+2)=RMPRB
"RTN","RMPR9P21",91,0)
 S ^TMP($J,"RMPRPRT",CNT+3)="ITEM NUMBER           DESCRIPTION              QUANTITY  UNIT  UNIT     AMOUNT"
"RTN","RMPR9P21",92,0)
 S ^TMP($J,"RMPRPRT",CNT+4)="                                               ORDERED         PRICE"
"RTN","RMPR9P21",93,0)
 S ^TMP($J,"RMPRPRT",CNT+5)=RMPRB
"RTN","RMPR9P21",94,0)
 Q:$D(RMPRMOR)
"RTN","RMPR9P21",95,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P21",96,0)
 D ^RMPR9P22
"RTN","RMPR9P21",97,0)
 D:'$D(RMPRMOR1) CON^RMPR9P22
"RTN","RMPR9P21",98,0)
 M RESULTS=^TMP($J,"RMPRPRT")
"RTN","RMPR9P21",99,0)
EX ;Common Exit Point
"RTN","RMPR9P21",100,0)
 K VADM,CP,DFN,CAT,DIC,R664,RMPRA,RMPACT,RMPRAD1,RMPRAD2,RMPRAMT,RMPRAMT1,RMPRB,RMPRCAT,RMPRCH,RMPRCITY,RMPRDELD,RMPRI,RMPRI1,RMPRIT,RMPRN,RMPRODTE,RMPRST,RMPRPHON,RMPRT,RMPRTOT,RMPRUT,RMPRV,RMPR90IP,RO,RP,J1,RTN,RMPRMOR1,RMPRPRIV
"RTN","RMPR9P21",101,0)
 K SPE,VA,VAEL,VAPA,VAERR,RZZZ,RX,RX1,RDUZ,RC,RMPRACT,RMPRSCAT,RMPRDISC,RMPRAMTN,DIR,DIRUT,RMPRAMT2,RMPRFOB,RMPRDA,RMPRMOR,RMPRPAGE,RMPRPRIV,RMPRX,RMPR90,J,K,N D ^%ZISC Q
"RTN","RMPR9P22")
0^2^B35798441^B33980681
"RTN","RMPR9P22",1,0)
RMPR9P22 ;PHX/HNC/RVD/SPS-CONT GUI PC PRINTER/FAX PURCHASE CARD ;4/27/2005
"RTN","RMPR9P22",2,0)
 ;;3.0;PROSTHETICS;**90,119**;Feb 09, 1996;Build 4
"RTN","RMPR9P22",3,0)
 ;S RO=0 F I=1:1 S RO=$O(R664(1,RO)) Q:RO'>0  D  Q:$D(J1)
"RTN","RMPR9P22",4,0)
 ;.;I I>4 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P22",5,0)
 ;.;I I>4 S J1=1 S ^TMP($J,"RMPRPRT",CNT+1)=" ",S ^TMP($J,"RMPRPRT",CNT+2)="        ***SEE ATTACHED CONTINUATION SHEET FOR ITEM DESCRIPTION(S)***",S ^TMP($J,"RMPRPRT",CNT+3)=" ",S ^TMP($J,"RMPRPRT",CNT+4)=" " Q
"RTN","RMPR9P22",6,0)
 ;.;I $D(R664(1,RO,1,0)) S RP=0 F J=1:1 S RP=$O(R664(1,RO,1,RP)) Q:RP=""  D  Q:$D(J1)
"RTN","RMPR9P22",7,0)
 ;.;I I>4!((J+I)>4) S J1=1 S ^TMP($J,"RMPRPRT",CNT+5)=" ",^TMP($J,"RMPRPRT",CNT+6)=" ",^TMP($J,"RMPRPRT",CNT+7)="        ***SEE ATTACHED CONTINUATION SHEET FOR ITEM DESCRIPTION(S)***",^TMP($J,"RMPRPRT",CNT+8)=" ",^TMP($J,"RMPRPRT",CNT+9)=" " Q
"RTN","RMPR9P22",8,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P22",9,0)
 D ADD
"RTN","RMPR9P22",10,0)
 S RO=0 F  S RO=$O(R664(1,RO)) Q:RO'>0  D:$D(RMPRMOR)&(CNT>58) CONT D:'$D(RMPRMOR) ADD D START
"RTN","RMPR9P22",11,0)
 ;I '$D(RMPRMOR)&(CNT<37) F  S CNT=CNT+1,^TMP($J,"RMPRPRT",CNT)=" " Q:CNT>36
"RTN","RMPR9P22",12,0)
 Q
"RTN","RMPR9P22",13,0)
START S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P22",14,0)
 S ^TMP($J,"RMPRPRT",CNT+1)="#"_RO_"."
"RTN","RMPR9P22",15,0)
 S RMPRI=$S($P(R664(1,RO,0),U,7)'="":$P(R664(1,RO,0),U,7),1:$P(R664(1,RO,0),U,3))
"RTN","RMPR9P22",16,0)
 S SPACE="",RMPRBDL=$P(R664(1,RO,0),U,2),RMPRBDL=$L(RMPRBDL),$P(SPACE," ",47)=""
"RTN","RMPR9P22",17,0)
 S ^TMP($J,"RMPRPRT",CNT+1)=^TMP($J,"RMPRPRT",CNT+1)_$P(R664(1,RO,0),U,2)
"RTN","RMPR9P22",18,0)
 S ^TMP($J,"RMPRPRT",CNT+2)=SPACE_$J($P(R664(1,RO,0),U,4),6) S RMPRUT=$P(R664(1,RO,0),U,5)
"RTN","RMPR9P22",19,0)
 I $D(^PRCD(420.5,+RMPRUT,0)) S ^TMP($J,"RMPRPRT",CNT+2)=^TMP($J,"RMPRPRT",CNT+2)_"      "_$P(^PRCD(420.5,+RMPRUT,0),U,1)_" "_$J($FN(RMPRI,"P",2),6)
"RTN","RMPR9P22",20,0)
ZWE S RMPRTOT=RMPRI*$P(R664(1,RO,0),U,4),RMPRTOTJ=$J($FN(RMPRTOT,"P",2),8) S ^TMP($J,"RMPRPRT",CNT+2)=^TMP($J,"RMPRPRT",CNT+2)_" "_RMPRTOTJ
"RTN","RMPR9P22",21,0)
 S ^TMP($J,"RMPRPRT",CNT+3)=""
"RTN","RMPR9P22",22,0)
 D EXT
"RTN","RMPR9P22",23,0)
 Q
"RTN","RMPR9P22",24,0)
EXT ;CHECKING FOR EXTENDED DESCRIPTION
"RTN","RMPR9P22",25,0)
 ;serial number
"RTN","RMPR9P22",26,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P22",27,0)
 N RMPRSSM
"RTN","RMPR9P22",28,0)
 S RMPRSSM(1)=$P($G(R664(1,RO,0)),U,15)
"RTN","RMPR9P22",29,0)
 S RMPRSSM(2)=$P($G(R664(1,RO,2)),U,1)
"RTN","RMPR9P22",30,0)
 S RMPRSSM(3)=$P($G(R664(1,RO,2)),U,2)
"RTN","RMPR9P22",31,0)
 S RMPRSSM(4)=$P($G(R664(1,RO,2)),U,3)
"RTN","RMPR9P22",32,0)
 I RMPRSSM(1)'="" S ^TMP($J,"RMPRPRT",CNT+1)="    Serial Number: "_RMPRSSM(1)
"RTN","RMPR9P22",33,0)
 I RMPRSSM(4)'=""&($D(^TMP($J,"RMPRPRT",CNT+1))) S ^TMP($J,"RMPRPRT",CNT+1)=^TMP($J,"RMPRPRT",CNT+1)_"    Lot #: "_RMPRSSM(4)
"RTN","RMPR9P22",34,0)
 I RMPRSSM(4)'=""&('$D(^TMP($J,"RMPRPRT",CNT+1))) S ^TMP($J,"RMPRPRT",CNT+1)="    Lot #: "_RMPRSSM(4)
"RTN","RMPR9P22",35,0)
 I RMPRSSM(3)'="" S ^TMP($J,"RMPRPRT",CNT+2)="    Model: "_RMPRSSM(3)
"RTN","RMPR9P22",36,0)
 I RMPRSSM(2)'=""&($D(^TMP($J,"RMPRPRT",CNT+2))) S ^TMP($J,"RMPRPRT",CNT+2)=^TMP($J,"RMPRPRT",CNT+2)_"    Make: "_RMPRSSM(2)
"RTN","RMPR9P22",37,0)
 I RMPRSSM(2)'=""&('$D(^TMP($J,"RMPRPRT",CNT+2))) S ^TMP($J,"RMPRPRT",CNT+2)="    Make: "_RMPRSSM(2)
"RTN","RMPR9P22",38,0)
 K RMPRSSM
"RTN","RMPR9P22",39,0)
 ;
"RTN","RMPR9P22",40,0)
 S RMPRCH=$G(R664(1,RO,1,0))
"RTN","RMPR9P22",41,0)
 I RMPRCH="" Q
"RTN","RMPR9P22",42,0)
 S RMPR90=0
"RTN","RMPR9P22",43,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P22",44,0)
 F  S RMPR90=$O(R664(1,RO,1,RMPR90)) Q:RMPR90=""  D
"RTN","RMPR9P22",45,0)
 .D:$D(RMPRMOR)&(CNT>60) CONT
"RTN","RMPR9P22",46,0)
 .;D:'$D(RMPRMOR)&(CNT>38) CONT
"RTN","RMPR9P22",47,0)
 .S CNT=CNT+1
"RTN","RMPR9P22",48,0)
 .S ^TMP($J,"RMPRPRT",CNT)=R664(1,RO,1,RMPR90,0)
"RTN","RMPR9P22",49,0)
 Q
"RTN","RMPR9P22",50,0)
WRI ;CONTINUATION OF 10-2421
"RTN","RMPR9P22",51,0)
 W !,@RMPR90
"RTN","RMPR9P22",52,0)
 Q
"RTN","RMPR9P22",53,0)
CONT ;
"RTN","RMPR9P22",54,0)
 D:'$D(RMPRMOR) CON
"RTN","RMPR9P22",55,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P22",56,0)
 S ^TMP($J,"RMPRPRT",CNT+1)="CONTINUATION OF PURCHASE CARD ORDER NUMBER: "_$P($G(^RMPR(664,RMPRA,4)),U,5)_"                           PAGE "_RMPRPAGE S RMPRMOR=1,RMPRPAGE=RMPRPAGE+1 D HDR^RMPR9P21
"RTN","RMPR9P22",57,0)
 Q
"RTN","RMPR9P22",58,0)
ADD S (RMPRAMT2,RMPRAMT,RMPRAMT1,RMPRAMTN)=0
"RTN","RMPR9P22",59,0)
 S RMSHI=$S($P(R664(0),U,11)'="":$P(R664(0),U,11),1:$P(R664(0),U,10))
"RTN","RMPR9P22",60,0)
 S RC=0 F  S RC=$O(R664(1,RC)) Q:RC=""!(RC["B")  S RMPRI=$S($P(R664(1,RC,0),U,7)'="":$P(R664(1,RC,0),U,7),1:$P(R664(1,RC,0),U,3)) D ADD1
"RTN","RMPR9P22",61,0)
 I $D(R664(2)) S RMPRDISC=$S($P(R664(2),U,6)'="":$P(R664(2),U,6),1:"") I $D(RMPRDISC) S RMPRAMT2=$J(RMPRDISC*RMPRAMT/100,0,2),RMPRAMTN=RMPRAMT-$J(RMPRAMT2,0,2),RMPRAMTN=$J(RMPRAMTN+RMSHI,0,2) Q
"RTN","RMPR9P22",62,0)
 Q
"RTN","RMPR9P22",63,0)
ADD1 S RMPRAMT1=$J($P(R664(1,RC,0),U,4)*RMPRI,0,2) S RMPRAMT=RMPRAMT+RMPRAMT1 Q
"RTN","RMPR9P22",64,0)
CON ;CONTINUATION OF 2421
"RTN","RMPR9P22",65,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P22",66,0)
 S ^TMP($J,"RMPRPRT",CNT+1)=RMPRB
"RTN","RMPR9P22",67,0)
 S ^TMP($J,"RMPRPRT",CNT+2)="16. Contract Number: "
"RTN","RMPR9P22",68,0)
 S RO("C")=$O(R664(1,0)),ROCL=$P($G(R664(1,RO("C"),0)),U,14)
"RTN","RMPR9P22",69,0)
 I RO("C") S ^TMP($J,"RMPRPRT",CNT+2)=^TMP($J,"RMPRPRT",CNT+2)_$P(R664(1,RO("C"),0),U,14)
"RTN","RMPR9P22",70,0)
 S SPACE="",ROCL=$L(ROCL),$P(SPACE," ",39-ROCL)=""
"RTN","RMPR9P22",71,0)
 S RMPRAMTJ=$J($FN(RMPRAMT,"P",2),9)
"RTN","RMPR9P22",72,0)
 S ^TMP($J,"RMPRPRT",CNT+2)=^TMP($J,"RMPRPRT",CNT+2)_SPACE_"Subtotal: $"_RMPRAMTJ
"RTN","RMPR9P22",73,0)
 S ^TMP($J,"RMPRPRT",CNT+3)="    ACCT.#: "_RMPRVACN K RMPRVACN
"RTN","RMPR9P22",74,0)
 S ^TMP($J,"RMPRPRT",CNT+3)=^TMP($J,"RMPRPRT",CNT+3)_"     Discount: $"
"RTN","RMPR9P22",75,0)
 I $D(RMPRAMT2) S RMAMT2J=$J($FN(RMPRAMT2,"P",2),7),^TMP($J,"RMPRPRT",CNT+3)=^TMP($J,"RMPRPRT",CNT+3)_RMAMT2J
"RTN","RMPR9P22",76,0)
 S RMSHIJ=$J($FN(RMSHI,"P",2),5)
"RTN","RMPR9P22",77,0)
 S ^TMP($J,"RMPRPRT",CNT+3)=^TMP($J,"RMPRPRT",CNT+3)_"  Shipping: $"_RMSHIJ
"RTN","RMPR9P22",78,0)
 S RMAMTNJ=$J($FN(RMPRAMTN,"P",2),9)
"RTN","RMPR9P22",79,0)
 S ^TMP($J,"RMPRPRT",CNT+3)=^TMP($J,"RMPRPRT",CNT+3)_"   Total: $"_RMAMTNJ
"RTN","RMPR9P22",80,0)
 S ^TMP($J,"RMPRPRT",CNT+4)=RMPRB
"RTN","RMPR9P22",81,0)
 S ^TMP($J,"RMPRPRT",CNT+5)="17. Signature of"
"RTN","RMPR9P22",82,0)
 S ^TMP($J,"RMPRPRT",CNT+5)=^TMP($J,"RMPRPRT",CNT+5)_"         18. DATE   19. Signature and Title of        20. Date"
"RTN","RMPR9P22",83,0)
 S ^TMP($J,"RMPRPRT",CNT+6)="    Requesting Official              Contracting/Accountable Officer"
"RTN","RMPR9P22",84,0)
 S ^TMP($J,"RMPRPRT",CNT+7)="    "_RDUZ_"                            "_RMPR("SIG")
"RTN","RMPR9P22",85,0)
 S ^TMP($J,"RMPRPRT",CNT+8)=RMPRB
"RTN","RMPR9P22",86,0)
 S ^TMP($J,"RMPRPRT",CNT+9)="                        Order and Receipt Action"
"RTN","RMPR9P22",87,0)
 S ^TMP($J,"RMPRPRT",CNT+10)=RMPRB
"RTN","RMPR9P22",88,0)
 S ^TMP($J,"RMPRPRT",CNT+11)="21. Order Number 22. Exp Date      23. Date Item Received   24. Date Delivered"
"RTN","RMPR9P22",89,0)
 I DUZ=$P(^RMPR(664,RMPRA,0),U,9)!($D(^XUSEC("RMPR FCP MANAGER",DUZ)))  D
"RTN","RMPR9P22",90,0)
 .N RMPRPRCD
"RTN","RMPR9P22",91,0)
 .S RMPRPRCD=$$DEC^RMPR4LI($P(^RMPR(664,RMPRA,4),U,1),$P(^RMPR(664,RMPRA,0),U,9),RMPRA)
"RTN","RMPR9P22",92,0)
 .S ^TMP($J,"RMPRPRT",CNT+12)=RMPRPRCD
"RTN","RMPR9P22",93,0)
 E  S ^TMP($J,"RMPRPRT",CNT+12)=" encrypted"
"RTN","RMPR9P22",94,0)
 S ^TMP($J,"RMPRPRT",CNT+13)=RMPRB
"RTN","RMPR9P22",95,0)
 S ^TMP($J,"RMPRPRT",CNT+14)="25. The articles or services listed herein have been received, or rendered"
"RTN","RMPR9P22",96,0)
 S ^TMP($J,"RMPRPRT",CNT+15)="ordered in the quantity and quality specified originally or as shown by"
"RTN","RMPR9P22",97,0)
 S ^TMP($J,"RMPRPRT",CNT+16)="authenticated changes, except as noted."
"RTN","RMPR9P22",98,0)
 S ^TMP($J,"RMPRPRT",CNT+17)=""
"RTN","RMPR9P22",99,0)
 S ^TMP($J,"RMPRPRT",CNT+18)="                                        Signature of Veteran or VA Official"
"RTN","RMPR9P22",100,0)
 S ^TMP($J,"RMPRPRT",CNT+19)=RMPRB
"RTN","RMPR9P22",101,0)
 S ^TMP($J,"RMPRPRT",CNT+20)="     Acct. Symbol "_$$STA^RMPRUTIL_"-"_$P($G(^RMPR(664,RMPRA,4)),U,5)
"RTN","RMPR9P22",102,0)
 S ^TMP($J,"RMPRPRT",CNT+21)=RMPRB
"RTN","RMPR9P22",103,0)
 S ^TMP($J,"RMPRPRT",CNT+22)="                                                    ADP Form 10-2421PC  APR 1991" S RMPRMOR1=1
"RTN","RMPR9P22",104,0)
 Q
"VER")
8.0^22.0
"BLD",5852,6)
^107
**END**
**END**
