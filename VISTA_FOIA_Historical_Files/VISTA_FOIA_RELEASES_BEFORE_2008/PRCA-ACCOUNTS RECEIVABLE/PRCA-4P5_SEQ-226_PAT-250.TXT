$TXT Created by WINTERTON,STEVEN B at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 04/10/07 at 12:14
=============================================================================
Run Date: SEP 28, 2007                     Designation: PRCA*4.5*250
Package : PRCA - ACCOUNTS RECEIVABLE          Priority: Mandatory
Version : 4.5       SEQ #226                    Status: Released
                  Compliance Date: OCT 29, 2007
=============================================================================


Subject: API for ASCD Cost Recoverable Report

Category: 
  - Routine
  - Enhancement (Mandatory)

Description:
============

 This patch is being implemented in support of the Automated Service 
 Connected Designation (ASCD) project. The ASCD project has a Recovered 
 Cost Report where they want to look for bills and payments for encounters 
 that have had their Service Connected status changed by the ASCD options. 
 This project has requested access to the Accounts Receivable (AR) package 
 data in support of this report.
  
 It should be noted that it was recommended that this access to the AR 
 package not be given because the data for this report is not accurate at 
 the encounter level. This recommendation was overridden.
  
 One problem is due to the fact that the system can bill several 
 outpatient co-payment charges on the same receivable in AR.  Any payments 
 are applied to the outstanding balance of the receivable, not to specific 
 charges that compose the receivable. So there is the possibility that 
 there will be multiple encounters where the "Principal Bill" amount will 
 be less than the "Principal Pay" amount.  In addition, the Total First 
 Party (paid) amount will be overstated, because there is the chance of 
 counting the payment on a receivable more than once. 
  
 Another problem is with the application of third party payments to first 
 party charges. When a third party payment has been received for an 
 outpatient visit where the vet was also billed a copay, the vet should be 
 credited for his copay, "dollar for dollar," by the third party payment.  
 Example: a vet with insurance has a $50 specialty care copay, and the 
 insurance company makes a $40 payment.  The vet should be credited $40 
 toward his copay.  What typically happens is that the entire $40 is 
 applied to the third party receivable, and then the first party 
 receivable is decreased by $40 (so the vet should only be billed $10).  
 If the vet pays his $10, then the report would seem to indicate that the 
 vet paid $10 toward his bill, and the insurance company paid $40 toward 
 its bill(s), but that is not how it should be interpreted.  It is very 
 risky to make conclusions about payments made at the encounter level.  
  
 This patch will implement the $$GETDATA^PRCAAPI(bill#) Application
 Programming Interface (API) and will be supported with the Database 
 Integration Agreement (DBIA) 4370 (AR API to return Billing Data). 
  
 The input variable of this API will be Bill Number. Depending on the 
 value of the Bill Number the API will determine which cross reference to 
 look up the bill in the ACCOUNTS RECEIVABLE (#430) file. If the Bill 
 Number contains Site-Bill Number then the "B" cross reference will be 
 used. If the Bill Number doesn't contain the Site then the "D" cross 
 reference will be used.
  
 The API will return the following data elements: 
    ORIGINAL AMOUNT (#3) - Internal Value
    DATE ACCOUNT ACTIVATED field (#60) - Internal Value
    TOTAL PAID PRINCIPAL (#77) - Internal Value
    DATE ENTERED (#19) from the AR TRANSACTION (#433) FILE using the
       existing $$DFP^RCXVUTIL.API.
  
 The output format will be:
    Original Amount ^ Date Account Activated ^ Total Paid Principle ^ Date 
   Entered
  
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
    N/A
  
 This patch addresses the following Remedy Ticket(s):
 ----------------------------------------------------
    N/A
  
 Overview of Remedy Ticket(s):
 -----------------------------
    N/A
  
 Components Sent With Patch 
 --------------------------
  
 ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;4.5;Accounts Receivable;**[patch list]**;Mar 20, 1995
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  PRCAAPI                    N/A               958486             250
  
      Total number of routines: 1
  
                        CHECK1^XTSUMBLD results (new method)
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  PRCAAPI                    N/A              1710545             250
  
      Total number of routines: 1
  
  
 Test Sites:
 -----------
 Bedford MA
 Fargo ND
 North Texas HCS
 Puget Sound HCS
 Tampa FL
  
  
 ================INSTALLATION INSTRUCTIONS =================
  
 If installed during the normal workday, it is recommended that the 
 following selection(s) in the OPTION (#19) file, and all of their 
 descendants be disabled to prevent possible conflicts while running 
 the KIDS Install. Other VISTA users will not be affected.
  
 No options in the OPTION (#19) file need to be disabled. 
  
 Install Time - less than 5 minutes
  
 ***********************************************************
        
  
 1.  LOAD TRANSPORT GLOBAL 
     ---------------------
     Choose the PackMan message containing this patch and invoke the 
     INSTALL/CHECK MESSAGE PackMan option.  
              
 2.  START UP KIDS 
     -------------
     Start up the Kernel Installation and Distribution System Menu 
     [XPD MAIN]: 
    
          Edits and Distribution ...  
          Utilities ...  
          Installation ...  
    
   Select Kernel Installation & Distribution System Option: INStallation 
                                                            ---
          Load a Distribution 
          Print Transport Global 
          Compare Transport Global to Current System 
          Verify Checksums in Transport Global 
          Install Package(s) 
          Restart Install of Package(s) 
          Unload a Distribution 
          Backup a Transport Global 
    
   Select Installation Option: 
    
 3.  Select Installation Option: 
     ---------------------------
     NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
            NAME, enter PRCA*4.5*250):
       
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DD's, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
      
 4.  Select Installation Option: Install Package(s) 
                                 ------------------
     **This is the step to start the installation of this KIDS patch: 
    
     a.  Choose the Install Package(s) option to start the patch
         install.
     b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
         YES//' answer NO (unless otherwise indicated)
     c.  When prompted 'Want to DISABLE Scheduled Options, Menu 
         Options, and Protocols? YES//' answer NO (unless otherwise
         indicated)
     d.  When prompted 'Enter options you wish to mark as 'Out Of
         Order':'  answer NO
     e.  When prompted 'Enter protocols you wish to mark as 'Out Of
         Order':' press <return>.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PRCAAPI
    Before:       n/a   After:  B1710545  **250**
 Description of Changes:
  New Routine


=============================================================================
User Information:
Entered By  : WINTERTON,STEVEN              Date Entered  : MAR 21, 2007
Completed By: LYNCH,MARY F.                 Date Completed: SEP 25, 2007
Released By : BARRICK,DENISE                Date Released : SEP 28, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
