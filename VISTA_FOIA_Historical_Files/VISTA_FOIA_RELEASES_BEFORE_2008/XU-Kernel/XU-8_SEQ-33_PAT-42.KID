Released XU*8*42 SEQ #33
Extracted from mail message
**KIDS**:XU*8.0*42^

**INSTALL NAME**
XU*8.0*42
"BLD",59,0)
XU*8.0*42^KERNEL^0^2960819^n
"BLD",59,1,0)
^^47^47^2960819^
"BLD",59,1,1,0)
*** Patch for MSM sites ***
"BLD",59,1,2,0)
 
"BLD",59,1,3,0)
This patch changes ZU (for MSM) to look in the TASKMAN SITE PARAMETERS
"BLD",59,1,4,0)
file for the TASK PARTITION SIZE field. If this field has data then a
"BLD",59,1,5,0)
call is made to the MSM utility %PARTSIZ to change the jobs partition
"BLD",59,1,6,0)
size limit.  TASKMAN will also use this value in its job command when
"BLD",59,1,7,0)
starting a new submanager.  This will allow sites to reduce the default
"BLD",59,1,8,0)
partition size in SYSGEN, increasing the number of disk buffers.
"BLD",59,1,9,0)
This will allow sites to adjust partition site for running PCE.  Look
"BLD",59,1,10,0)
to the Cookbook to come out with recommendations on settings.  If unsure
"BLD",59,1,11,0)
what value to use leave the TASK PARTITION SIZE field blank and your
"BLD",59,1,12,0)
current sysgen value will be used.
"BLD",59,1,13,0)
 
"BLD",59,1,14,0)
 
"BLD",59,1,15,0)
routine             new checksum
"BLD",59,1,16,0)
ZTM0                  5451877
"BLD",59,1,17,0)
ZUMSM                 2237614
"BLD",59,1,18,0)
========================================================================= 
"BLD",59,1,19,0)
Installation:
"BLD",59,1,20,0)
 
"BLD",59,1,21,0)
 1.  This patch is only for MSM sites.
"BLD",59,1,22,0)
 2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"BLD",59,1,23,0)
     option will load the KIDS package onto your system.
"BLD",59,1,24,0)
 3.  On the KIDS menu, under the 'Installation' menu, use the following
"BLD",59,1,25,0)
     options:
"BLD",59,1,26,0)
        Print Transport Global
"BLD",59,1,27,0)
        Compare Transport Global to Current System
"BLD",59,1,28,0)
        Verify Checksums in Transport Global
"BLD",59,1,29,0)
        Backup a Transport Global
"BLD",59,1,30,0)
        Install Package(s)
"BLD",59,1,31,0)
 4.  Stop TASKMAN.
"BLD",59,1,32,0)
 5.  On the KIDS menu, under the 'Installation' menu, use the following
"BLD",59,1,33,0)
     options:
"BLD",59,1,34,0)
        Install Package(s)  'XU*8.0*42'
"BLD",59,1,35,0)
 6.  MSM Sites - Answer YES to the question 'Want to MOVE routines to
"BLD",59,1,36,0)
     other CPUs?'. Enter the names of your Compute and Print server(s).
"BLD",59,1,37,0)
 7.  After installing this patch, you need to one routine from 
"BLD",59,1,38,0)
      your productions account to the manager account:
"BLD",59,1,39,0)
      ZTM0
"BLD",59,1,40,0)
      and in the manager account rename
"BLD",59,1,41,0)
      ZTM0        to %ZTM0
"BLD",59,1,42,0)
    
"BLD",59,1,43,0)
       Example: ZL ZTM0 ZS %ZTM0
"BLD",59,1,44,0)
       
"BLD",59,1,45,0)
 8.  Restart TASKMAN.
"BLD",59,1,46,0)
 
"BLD",59,1,47,0)
 ===========================================================================
"BLD",59,4,0)
^9.64PA^14.7^1
"BLD",59,4,14.7,0)
14.7
"BLD",59,4,14.7,2,0)
^9.641^14.7^1
"BLD",59,4,14.7,2,14.7,0)
TASKMAN SITE PARAMETERS  (File-top level)
"BLD",59,4,14.7,2,14.7,1,0)
^9.6411^4^1
"BLD",59,4,14.7,2,14.7,1,4,0)
TASK PARTITION SIZE
"BLD",59,4,14.7,222)
y^y^p^^^^n
"BLD",59,4,"APDD",14.7,14.7)

"BLD",59,4,"APDD",14.7,14.7,4)

"BLD",59,4,"B",14.7,14.7)

"BLD",59,"KRN",0)
^9.67PA^19^19
"BLD",59,"KRN",.4,0)
.4
"BLD",59,"KRN",.401,0)
.401
"BLD",59,"KRN",.402,0)
.402
"BLD",59,"KRN",.403,0)
.403
"BLD",59,"KRN",.5,0)
.5
"BLD",59,"KRN",.84,0)
.84
"BLD",59,"KRN",3.6,0)
3.6
"BLD",59,"KRN",3.8,0)
3.8
"BLD",59,"KRN",9.2,0)
9.2
"BLD",59,"KRN",9.8,0)
9.8
"BLD",59,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",59,"KRN",9.8,"NM",1,0)
ZUMSM^^0^B3644163
"BLD",59,"KRN",9.8,"NM",2,0)
ZTM0^^0^B10889384
"BLD",59,"KRN",9.8,"NM","B","ZTM0",2)

"BLD",59,"KRN",9.8,"NM","B","ZUMSM",1)

"BLD",59,"KRN",19,0)
19
"BLD",59,"KRN",19.1,0)
19.1
"BLD",59,"KRN",101,0)
101
"BLD",59,"KRN",409.61,0)
409.61
"BLD",59,"KRN",771,0)
771
"BLD",59,"KRN",869.2,0)
869.2
"BLD",59,"KRN",870,0)
870
"BLD",59,"KRN",8994,0)
8994
"BLD",59,"KRN",8995,0)
8995
"BLD",59,"KRN","B",.4,.4)

"BLD",59,"KRN","B",.401,.401)

"BLD",59,"KRN","B",.402,.402)

"BLD",59,"KRN","B",.403,.403)

"BLD",59,"KRN","B",.5,.5)

"BLD",59,"KRN","B",.84,.84)

"BLD",59,"KRN","B",3.6,3.6)

"BLD",59,"KRN","B",3.8,3.8)

"BLD",59,"KRN","B",9.2,9.2)

"BLD",59,"KRN","B",9.8,9.8)

"BLD",59,"KRN","B",19,19)

"BLD",59,"KRN","B",19.1,19.1)

"BLD",59,"KRN","B",101,101)

"BLD",59,"KRN","B",409.61,409.61)

"BLD",59,"KRN","B",771,771)

"BLD",59,"KRN","B",869.2,869.2)

"BLD",59,"KRN","B",870,870)

"BLD",59,"KRN","B",8994,8994)

"BLD",59,"KRN","B",8995,8995)

"BLD",59,"QUES",0)
^9.62^^
"FIA",14.7)
TASKMAN SITE PARAMETERS
"FIA",14.7,0)
^%ZIS(14.7,
"FIA",14.7,0,0)
14.7
"FIA",14.7,0,1)
y^y^p^^^^n
"FIA",14.7,0,10)

"FIA",14.7,0,11)

"FIA",14.7,0,"RLRO")

"FIA",14.7,0,"VR")
8.0^XU
"FIA",14.7,14.7)
1
"FIA",14.7,14.7,4)

"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^XUDOCV7 NEW FEATURES
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^2950703^2951018^4
"PKG",3,22,1,"PAH",1,0)
42^2960819
"PKG",3,22,1,"PAH",1,1,0)
^^47^47^2960819
"PKG",3,22,1,"PAH",1,1,1,0)
*** Patch for MSM sites ***
"PKG",3,22,1,"PAH",1,1,2,0)
 
"PKG",3,22,1,"PAH",1,1,3,0)
This patch changes ZU (for MSM) to look in the TASKMAN SITE PARAMETERS
"PKG",3,22,1,"PAH",1,1,4,0)
file for the TASK PARTITION SIZE field. If this field has data then a
"PKG",3,22,1,"PAH",1,1,5,0)
call is made to the MSM utility %PARTSIZ to change the jobs partition
"PKG",3,22,1,"PAH",1,1,6,0)
size limit.  TASKMAN will also use this value in its job command when
"PKG",3,22,1,"PAH",1,1,7,0)
starting a new submanager.  This will allow sites to reduce the default
"PKG",3,22,1,"PAH",1,1,8,0)
partition size in SYSGEN, increasing the number of disk buffers.
"PKG",3,22,1,"PAH",1,1,9,0)
This will allow sites to adjust partition site for running PCE.  Look
"PKG",3,22,1,"PAH",1,1,10,0)
to the Cookbook to come out with recommendations on settings.  If unsure
"PKG",3,22,1,"PAH",1,1,11,0)
what value to use leave the TASK PARTITION SIZE field blank and your
"PKG",3,22,1,"PAH",1,1,12,0)
current sysgen value will be used.
"PKG",3,22,1,"PAH",1,1,13,0)
 
"PKG",3,22,1,"PAH",1,1,14,0)
 
"PKG",3,22,1,"PAH",1,1,15,0)
routine             new checksum
"PKG",3,22,1,"PAH",1,1,16,0)
ZTM0                  5451877
"PKG",3,22,1,"PAH",1,1,17,0)
ZUMSM                 2237614
"PKG",3,22,1,"PAH",1,1,18,0)
========================================================================= 
"PKG",3,22,1,"PAH",1,1,19,0)
Installation:
"PKG",3,22,1,"PAH",1,1,20,0)
 
"PKG",3,22,1,"PAH",1,1,21,0)
 1.  This patch is only for MSM sites.
"PKG",3,22,1,"PAH",1,1,22,0)
 2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"PKG",3,22,1,"PAH",1,1,23,0)
     option will load the KIDS package onto your system.
"PKG",3,22,1,"PAH",1,1,24,0)
 3.  On the KIDS menu, under the 'Installation' menu, use the following
"PKG",3,22,1,"PAH",1,1,25,0)
     options:
"PKG",3,22,1,"PAH",1,1,26,0)
        Print Transport Global
"PKG",3,22,1,"PAH",1,1,27,0)
        Compare Transport Global to Current System
"PKG",3,22,1,"PAH",1,1,28,0)
        Verify Checksums in Transport Global
"PKG",3,22,1,"PAH",1,1,29,0)
        Backup a Transport Global
"PKG",3,22,1,"PAH",1,1,30,0)
        Install Package(s)
"PKG",3,22,1,"PAH",1,1,31,0)
 4.  Stop TASKMAN.
"PKG",3,22,1,"PAH",1,1,32,0)
 5.  On the KIDS menu, under the 'Installation' menu, use the following
"PKG",3,22,1,"PAH",1,1,33,0)
     options:
"PKG",3,22,1,"PAH",1,1,34,0)
        Install Package(s)  'XU*8.0*42'
"PKG",3,22,1,"PAH",1,1,35,0)
 6.  MSM Sites - Answer YES to the question 'Want to MOVE routines to
"PKG",3,22,1,"PAH",1,1,36,0)
     other CPUs?'. Enter the names of your Compute and Print server(s).
"PKG",3,22,1,"PAH",1,1,37,0)
 7.  After installing this patch, you need to one routine from 
"PKG",3,22,1,"PAH",1,1,38,0)
      your productions account to the manager account:
"PKG",3,22,1,"PAH",1,1,39,0)
      ZTM0
"PKG",3,22,1,"PAH",1,1,40,0)
      and in the manager account rename
"PKG",3,22,1,"PAH",1,1,41,0)
      ZTM0        to %ZTM0
"PKG",3,22,1,"PAH",1,1,42,0)
    
"PKG",3,22,1,"PAH",1,1,43,0)
       Example: ZL ZTM0 ZS %ZTM0
"PKG",3,22,1,"PAH",1,1,44,0)
       
"PKG",3,22,1,"PAH",1,1,45,0)
 8.  Restart TASKMAN.
"PKG",3,22,1,"PAH",1,1,46,0)
 
"PKG",3,22,1,"PAH",1,1,47,0)
 ===========================================================================
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ZTM0")
0^2^B10889384
"RTN","ZTM0",1,0)
%ZTM0 ;SEA/RDS-TaskMan: Manager, Part 2 (Begin) ;8/13/96  13:53
"RTN","ZTM0",2,0)
 ;;8.0;KERNEL;**42**;JUL 10, 1995
"RTN","ZTM0",3,0)
 ;
"RTN","ZTM0",4,0)
START ;Entry Point--start Task Manager at system startup
"RTN","ZTM0",5,0)
 S X="ER^%ZTM5",@^%ZOSF("TRAP"),^%ZTSCH("ER")=""
"RTN","ZTM0",6,0)
 L ^%ZTSCH
"RTN","ZTM0",7,0)
 K ^%ZTSCH("DEV"),^("LOAD"),^("LOADA"),^("STATUS"),^("STOP"),^("UPDATE")
"RTN","ZTM0",8,0)
 S ZTS=0 F  S ZTS=$O(^%ZTSCH("TASK",ZTS)) Q:'ZTS  S $P(^%ZTSK(ZTS,.1),"^",1,3)="E^"_$H_"^"
"RTN","ZTM0",9,0)
 K ^%ZTSCH("TASK"),^%ZTSCH("SUB")
"RTN","ZTM0",10,0)
 S ^%ZTSCH("IDLE")=0,^("SUB")=0,^("SUB",0)=0
"RTN","ZTM0",11,0)
 D STATUS^%ZTM("RUN^Startup Hang")
"RTN","ZTM0",12,0)
 L  H 90
"RTN","ZTM0",13,0)
 D SETUP
"RTN","ZTM0",14,0)
S1 ;
"RTN","ZTM0",15,0)
 I "CFO"[%ZTYPE G BADTYPE
"RTN","ZTM0",16,0)
 D STATUS^%ZTM("RUN^Startup jobs")
"RTN","ZTM0",17,0)
 S %ZTLOOP=0 D CHECK^%ZTM
"RTN","ZTM0",18,0)
 S ZTU="" F %ZTJ=0:0 S ZTU=$O(^%ZTSCH("STARTUP",ZTU)) Q:ZTU=""  F ZTO=0:0 S ZTO=$O(^%ZTSCH("STARTUP",ZTU,ZTO)) Q:ZTO=""  D
"RTN","ZTM0",19,0)
 . S ZTDTH=$H,ZTIO=$P(^%ZTSCH("STARTUP",ZTU,ZTO),"^",2),ZTRTN="ZTSK^XQ1",ZTSAVE("XQY")=ZTO,ZTUCI=$P(ZTU,","),ZTCPU=$P(ZTU,",",2) D ^%ZTLOAD
"RTN","ZTM0",20,0)
 . Q
"RTN","ZTM0",21,0)
 S ZTU="" F  S ZTU=$O(^%ZTSCH("C",ZTU)) Q:ZTU=""  S ^%ZTSCH("C",ZTU)=0 ;Reset VS counts in C list.
"RTN","ZTM0",22,0)
 K %ZTI,%ZTY,ZTIO,ZTO,ZTP,ZTSK,ZTU
"RTN","ZTM0",23,0)
 G ^%ZTM
"RTN","ZTM0",24,0)
 ;
"RTN","ZTM0",25,0)
RESTART ;Entry Point--restart Task Manager
"RTN","ZTM0",26,0)
 S X="ER^%ZTM5",@^%ZOSF("TRAP"),^%ZTSCH("ER")=""
"RTN","ZTM0",27,0)
 K ^%ZTSCH("STATUS"),^("STOP")
"RTN","ZTM0",28,0)
 I '$D(^%ZTSCH("IDLE")) S ^%ZTSCH("IDLE")=0
"RTN","ZTM0",29,0)
 I '$D(^%ZTSCH("SUB")) S ^%ZTSCH("SUB")=0
"RTN","ZTM0",30,0)
 D SETUP
"RTN","ZTM0",31,0)
 I "CFO"[%ZTYPE G BADTYPE
"RTN","ZTM0",32,0)
 D STATUS^%ZTM("RUN^Restart")
"RTN","ZTM0",33,0)
 G ^%ZTM
"RTN","ZTM0",34,0)
 ;
"RTN","ZTM0",35,0)
 ;
"RTN","ZTM0",36,0)
SETUP ;Setup Task Manager's Environment
"RTN","ZTM0",37,0)
 S ^%ZTSCH("RUN")=$H
"RTN","ZTM0",38,0)
 D STATUS^%ZTM("RUN^Setup")
"RTN","ZTM0",39,0)
 D ZOSF I Y]"" D STATUS^%ZTM("PAUSE^The following required ^%ZOSF nodes are undefined: "_Y_".") H 60 G SETUP
"RTN","ZTM0",40,0)
 S %ZTOS=^%ZOSF("OS"),U="^"
"RTN","ZTM0",41,0)
 D GETENV^%ZOSV S %ZTUCI=$P(Y,U),%ZTVOL=$P(Y,U,2),%ZTNODE=$P(Y,U,3),%ZTPAIR=$P(Y,U,4)
"RTN","ZTM0",42,0)
 D UPDATE^%ZTM5 I $D(ZTREQUIR)#2 D STATUS^%ZTM("PAUSE^Required link to "_ZTREQUIR_" is down.") H 60 G SETUP
"RTN","ZTM0",43,0)
 D JOB,NOLOG^%ZOSV S %ZTNLG=Y,DTIME=0,DUZ=0,DUZ(0)="@"
"RTN","ZTM0",44,0)
 K Z D NAME K X,Y,Z,ZT
"RTN","ZTM0",45,0)
 Q
"RTN","ZTM0",46,0)
 ;
"RTN","ZTM0",47,0)
ZOSF ;SETUP--determine whether any required ^%ZOSF nodes are missing
"RTN","ZTM0",48,0)
 S Y=""
"RTN","ZTM0",49,0)
 F X="ACTJ","ERRTN","OS","PROD","TRAP","UCI","UCICHECK","VOL" I $D(^%ZOSF(X))[0 S Y=Y_","_X
"RTN","ZTM0",50,0)
 I Y]"" S Y=$E(Y,2,$L(Y))
"RTN","ZTM0",51,0)
 Q
"RTN","ZTM0",52,0)
 ;
"RTN","ZTM0",53,0)
JOB ;SETUP--setup JOB command
"RTN","ZTM0",54,0)
 I %ZTOS["VAX DSM" D  Q
"RTN","ZTM0",55,0)
 . S:%ZTPFLG("DCL")="" %ZTJOB="J ^%ZTMS:(OPTION=""/UCI=""_$P(ZTUCI,"","")_""/VOL=""_ZTDVOL):5"
"RTN","ZTM0",56,0)
 . S:%ZTPFLG("DCL")]"" %ZTJOB="D ^%ZTMDCL"
"RTN","ZTM0",57,0)
 . Q
"RTN","ZTM0",58,0)
 ;I %ZTOS["DSM" S %ZTJOB="J ^%ZTMS[ZTUCI]:%ZTSIZ" Q
"RTN","ZTM0",59,0)
 I %ZTOS["M/SQL" S %ZTJOB="J ^%ZTMS:ZTUCI" Q
"RTN","ZTM0",60,0)
 I %ZTOS["MSM" S %ZTJOB="J ^%ZTMS[ZTUCI,ZTDVOL]:%ZTSIZ:5" Q  ;Set Maxpartsiz
"RTN","ZTM0",61,0)
 I %ZTOS["DTM" S %ZTJOB="J ^%ZTMS:(NSPACE=ZTUCI)" Q
"RTN","ZTM0",62,0)
 I %ZTOS["OpenM-NT" S %ZTJOB="J ^%ZTMS:ZTUCI" Q
"RTN","ZTM0",63,0)
 S %ZTJOB="Q"
"RTN","ZTM0",64,0)
 Q
"RTN","ZTM0",65,0)
 ;
"RTN","ZTM0",66,0)
NAME ;Give a name to process.
"RTN","ZTM0",67,0)
 S X="NAME^%ZTM0",@^%ZOSF("TRAP"),Z=$G(Z)+1 Q:Z>9  S X="Taskman "_%ZTVOL_" "_Z D SETENV^%ZOSV
"RTN","ZTM0",68,0)
 Q
"RTN","ZTM0",69,0)
BADTYPE ;Taskman should not run on this type of node.
"RTN","ZTM0",70,0)
 K ^%ZTSCH("STATUS")
"RTN","ZTM0",71,0)
 S ^%ZTSCH("RUN")=%ZTPAIR_" is the wrong type in taskman site parameters."
"RTN","ZTM0",72,0)
 Q
"RTN","ZUMSM")
0^1^B3644163
"RTN","ZUMSM",1,0)
ZU ;SF/GFT - For MSM, TIE ALL TERMINALS EXCEPT CONSOLE TO THIS ROUTINE!! ;8/13/96  13:54
"RTN","ZUMSM",2,0)
 ;;8.0;KERNEL;**13,42**;Jul 10, 1995
"RTN","ZUMSM",3,0)
 ;FOR MSM-DOS and MSM-UNIX
"RTN","ZUMSM",4,0)
EN S $ZT="ERR^ZU",ZUGUI2=$$GUI()
"RTN","ZUMSM",5,0)
 ;The next line keeps sign-on users from taking the last slot
"RTN","ZUMSM",6,0)
 ;It can be commented out if not needed.
"RTN","ZUMSM",7,0)
JOBCHK X ^%ZOSF("AVJ") I Y<3 W $C(7),!!,"** TROUBLE ** - ** CALL IRM NOW! **" G HALT
"RTN","ZUMSM",8,0)
 ;Bump up the partition size
"RTN","ZUMSM",9,0)
 D GETENV^%ZOSV S Y=$P(Y,"^",4),%=$O(^%ZIS(14.7,"B",Y,0)),Y=$G(^%ZIS(14.7,+%,0)),%K=$P(Y,"^",5) I %K>0 D INT^%PARTSIZ
"RTN","ZUMSM",10,0)
 G ^XUSG:$G(ZUGUI1),^XUS
"RTN","ZUMSM",11,0)
 ;
"RTN","ZUMSM",12,0)
G ;Entry point for GUI device.
"RTN","ZUMSM",13,0)
 S ZUGUI1=1 G EN
"RTN","ZUMSM",14,0)
 ;
"RTN","ZUMSM",15,0)
ERR S $ZT="HALT^ZU" L  ;Come here on error.
"RTN","ZUMSM",16,0)
 B 0 ;Turn off break
"RTN","ZUMSM",17,0)
 S %ZTERLGR=$ZR,%ZT("^XUTL(""XQ"",$J)")="" D ^%ZTER
"RTN","ZUMSM",18,0)
 I $G(IO)]"",$D(IO(1,IO)),$E($G(IOST))="P" U IO W @$S($D(IOF):IOF,1:"#")
"RTN","ZUMSM",19,0)
 I $G(IO(0))]"" U IO(0) W !!,"RECORDING THAT AN ERROR OCCURRED ---",!!?15,"Sorry 'bout that",!,*7,!?10,"$ZERROR=",$ZERROR
"RTN","ZUMSM",20,0)
 X ^%ZOSF("PROGMODE") Q:Y  S $ZT="HALT^ZU"
"RTN","ZUMSM",21,0)
 I $ZE'["<INRPT>" S XUERF="" G ^XUSCLEAN
"RTN","ZUMSM",22,0)
CTRLC I $D(IO)=11 U IO(0) W !,"--Interrupt Acknowledged",!
"RTN","ZUMSM",23,0)
 D KILL1^XUSCLEAN ;Clean up symbol table
"RTN","ZUMSM",24,0)
 ;
"RTN","ZUMSM",25,0)
CTRLC2 G:$G(^XUTL("XQ",$J,"T"))<2 ^XUSCLEAN
"RTN","ZUMSM",26,0)
 S ^XUTL("XQ",$J,"T")=1,XQY=^(1),XQY0=$P(XQY,"^",2,99)
"RTN","ZUMSM",27,0)
 G:$P(XQY0,"^",4)'="M" CTRLC2
"RTN","ZUMSM",28,0)
 S XQPSM=$P(XQY,"^",1),XQY=+XQPSM,XQPSM=$P(XQPSM,XQY,2,3)
"RTN","ZUMSM",29,0)
 G:'XQY ^XUSCLEAN
"RTN","ZUMSM",30,0)
 S $ZT="ERR^ZU" G M1^XQ
"RTN","ZUMSM",31,0)
 ;
"RTN","ZUMSM",32,0)
HALT S $ZT="" I $D(^XUTL("XQ",$J)) D BYE^XUSCLEAN
"RTN","ZUMSM",33,0)
 HALT
"RTN","ZUMSM",34,0)
 ;
"RTN","ZUMSM",35,0)
GUI() ;Test if under GUI
"RTN","ZUMSM",36,0)
 S $ZT="GUIX",X="" G:$PD'=1 GUIX
"RTN","ZUMSM",37,0)
 S X=$G(^$DI($PD,"PLATFORM"))
"RTN","ZUMSM",38,0)
GUIX Q X
"VER")
8.0^21.0
"^DD",14.7,14.7,4,0)
TASK PARTITION SIZE^NJ3,0^^0;5^K:+X'=X!(X>999)!(X<10)!(X?.E1"."1N.N) X
"^DD",14.7,14.7,4,1,0)
^.1
"^DD",14.7,14.7,4,1,1,0)
14.7^AC^MUMPS
"^DD",14.7,14.7,4,1,1,1)
I X]"" D ^XUTMG14P
"^DD",14.7,14.7,4,1,1,2)
Q
"^DD",14.7,14.7,4,1,1,"%D",0)
^^1^1^2910728^^
"^DD",14.7,14.7,4,1,1,"%D",1,0)
This cross-reference notifies TaskMan of changes to the field.
"^DD",14.7,14.7,4,1,1,"DT")
2910213
"^DD",14.7,14.7,4,3)
Enter the number of KB (10-999) to set maximum partition size to.
"^DD",14.7,14.7,4,10)
System manager.
"^DD",14.7,14.7,4,11,0)
^.2LAP^1^1
"^DD",14.7,14.7,4,11,1,0)
1
"^DD",14.7,14.7,4,21,0)
^^5^5^2960813^^
"^DD",14.7,14.7,4,21,1,0)
Under MSM only, this field will be used to change the maximum partition
"^DD",14.7,14.7,4,21,2,0)
size for a JOB.  It will be used by both interactive and Tasked jobs.
"^DD",14.7,14.7,4,21,3,0)
 
"^DD",14.7,14.7,4,21,4,0)
The answer is in K bytes to pass into MSM's %PARTSIZ utility. Check with
"^DD",14.7,14.7,4,21,5,0)
the 486 team for the latest recommendations.
"^DD",14.7,14.7,4,"AUDIT")
n
"^DD",14.7,14.7,4,"DT")
2960813
**END**
**END**
