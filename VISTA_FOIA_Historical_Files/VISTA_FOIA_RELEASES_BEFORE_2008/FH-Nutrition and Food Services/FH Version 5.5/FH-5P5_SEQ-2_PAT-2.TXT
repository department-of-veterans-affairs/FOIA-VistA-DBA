$TXT Created by KNOEPFLE,RICH at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Wednesday, 10/26/05 at 08:36
=============================================================================
Run Date: MAR 02, 2006                     Designation: FH*5.5*2
Package : FH - DIETETICS                      Priority: Mandatory
Version : 5.5         SEQ #2                    Status: Released
                  Compliance Date: APR 02, 2006
=============================================================================

Associated patches: (v)FH*5.5*1    <<= must be installed BEFORE `FH*5.5*2'

Subject: FH Additions/Fixes for Outpatient Meals Interface with CPRSv26

Category: 
  - Routine
  - Data Dictionary

Description:
============

 Version 5.5 of Nutrition & Food Service (N&FS) formerly known 
 as Dietetics contained functionality for Outpatient Meals enhancement to
 work with CPRS Graphical User Interface (GUI) version 26.  This patch
 includes several fixes to the GUI interface as well as several 
 enhancements and additions that were not included in the V5.5 release.
  
 This patch also resolves the following Remedy tickets:
    
  96813  undefined EN+8^FHMNBRPT
 101019  Error in FHMNBRPT Same as ticket #96813
 105294  ERROR - <UNDEFINED>EN+8^FHMNBRPT
    
 Specifically, this patch contains the following items:
    
 1) The "backdoor" ordering functionality is in place, allowing outpatient
    meals orders and cancellations placed on the VISTA/server side to update
    the ORDER (#100) file via HL7 messaging.  This functionality will only
    be operational if CPRS GUIv26 is installed.  There will also be a job
    which can be run [D ^FHPST2] to update the ORDER (#100) file with any
    outpatient meals that have been ordered prior to installation of CPRSv26.
    
 2) The text of Special Meals alerts generated upon placement of a Special
    Meals order on the VISTA/server side have been modified to display the
    first 9 characters of the patient's name followed by the first character
    of the last name and last four digits of the SSN in parentheses.
    
 3) The ability to order Early/Late Trays for Special Meals has been
    included.
    
 4) The "reject" message returned to CPRS from the Dietetics Profile report
    when there is not enough data available was modified to be more
    meaningful to the end user.
    
 5) Ten more Outpatient Meals Diets have been added to the FH SITE PARAMETERS
    (#119.9) file, for a total of 15.  Also, the fields OUTPATIENT MEALS DIET2
    through OUTPATIENT MEALS DIET15 are deleted if the OUTPATIENT MEALS DIET1
    field is deleted and no data entry is allowed for the 2-15 DIET fields if
    there is no data in the OUTPATIENT MEALS DIET1 field.  This fixes a
    discrepancy in functionality between the VISTA/server side and the GUI.
    
 6) Special Meals orders which were denied on the VISTA/server side using the
    option "Authorize A Meal" were not being updated properly; this is fixed
    by updating the GUI via HL7 messaging indicating the meal was denied.
    
 7) For a Recurring Meal ordered on the GUI side for one day, there was no
    indication in the return message indicating that the Recurring Meal was
    for one day only, resulting in an incorrect order text on the GUI side.
    This is fixed by properly identifying the meal as being for one day only.
    
 8) This patch fixes the undefined variable error in the Nutrition Monitor
    Brief Report [FHMNBRPT] described in Remedy Ticket #'s 96813, 101019 and
    105294.
    
 9) This patch fixes a problem in the Patient Data Log [FHDMP] in which the
    code was getting data from an incorrect node resulting in missing outpatient
    meals data.
    
    
 Data Dictionary Changes:
 ========================
   
    File: FH SITE PARAMETERS (#119.9)
       Field:  OUTPATIENT MEALS DIET1 (#119.9,4)
       Field:  OUTPATIENT MEALS DIET6 (#119.9,40)
       Field:  OUTPATIENT MEALS DIET7 (#119.9,41)
       Field:  OUTPATIENT MEALS DIET8 (#119.9,42)
       Field:  OUTPATIENT MEALS DIET9 (#119.9,43)
       Field:  OUTPATIENT MEALS DIET10 (#119.9,44)
       Field:  OUTPATIENT MEALS DIET11 (#119.9,45)
       Field:  OUTPATIENT MEALS DIET12 (#119.9,46)
       Field:  OUTPATIENT MEALS DIET13 (#119.9,47)
       Field:  OUTPATIENT MEALS DIET14 (#119.9,48)
       Field:  OUTPATIENT MEALS DIET15 (#119.9,49)
    
    File: NUTRITION PERSON (#115)
       Field:  RECURRING MEALS (#115,16)
          Subfield:  TUBEFEEDING CLERK (#115.016,21.7)
          Subfield:  RECURRING MEAL CLERK (#115.016,24.5)
    
 Routine Summary: 
 ================
     
 The following routines are included in this patch.  The second line of 
 these routines should look like: 
     
  <tab>;;5.5;DIETETICS;**[patch list]**;Jan 28, 2005
     
  CHECK1^XTSUMBLD results:  (NEW CHECKSUM VALUES)
     
 Routine       Pre Patch 2         Post Patch 2        Patch List
 ==========    ===============     ===============     ===============
 FHDMP         21472376            21472385            1,2
 FHMNBRPT      5470086             5671840             2
 FHOMAPI       1199374             1356712             2
 FHOMIP        2144039             5150055             2
 FHOMRA1       6231973             8333924             2
 FHOMRC1       10151717            12871022            2
 FHOMRC2       N/A, new routine    5867833             2
 FHOMRE1       13383678            21010791            2
 FHOMRO1       63144106            64076466            1,2
 FHOMRT1       19762686            20005276            1,2
 FHOMSA1       4674762             5366452             2
 FHOMSC1       1487825             1885895             2
 FHOMSP1       8274936             8724512             2
 FHOMSR1       15017027            23595025            2
 FHOMUTL       29468192            32969388            1,2
 FHOMWOR       17355019            25289896            2
 FHOMWOR1      N/A, new routine    3417408             2
 FHPST2        N/A, new routine    36655557            2
 FHSYSP        2630692             2751439             2
 FHWOR         28923502            30084812            2
 FHWOR71       28572181            28572181            1,2
 FHWORR        9467558             19353525            2
    
  CHECK^XTSUMBLD results:  (OLD CHECKSUM VALUES)
    
 Routine       Pre Patch 2         Post Patch 2        Patch List
 ==========    ===============     ===============     ===============
 FHDMP         10214634            10214643            1,2
 FHMNBRPT      2664485             2738057             2
 FHOMAPI       763322              903421              2
 FHOMIP        1356283             2693770             2
 FHOMRA1       4387944             5304148             2
 FHOMRC1       4337575             5552540             2
 FHOMRC2       N/A, new routine    3048098             2
 FHOMRE1       7697070             9248400             2
 FHOMRO1       17182126            17665707            1,2
 FHOMRT1       8978670             9129232             1,2
 FHOMSA1       2801044             3068014             2
 FHOMSC1       1027946             1295846             2
 FHOMSP1       4349806             4662382             2
 FHOMSR1       5776286             7850965             2
 FHOMUTL       9079436             9671254             1,2
 FHOMWOR       6693069             9742169             2
 FHOMWOR1      N/A, new routine    1544302             2
 FHPST2        N/A, new routine    14067210            2
 FHSYSP        1568629             1682416             2
 FHWOR         12475464            12876269            2
 FHWOR71       16044082            16044082            1,2
 FHWORR        4709359             10331699            2
    
    
 Test Sites
 ==========
    
   Boston
   Charleston
   Loma Linda
   Puget Sound
   Tampa   
    
    
 Documentation Retrieval
 =======================
  
  The N&FS User Manual and Adpac Guide have been updated and are
  available on the ANONYMOUS.SOFTWARE directory at one of the following
  Office of Information (OI) Field Offices.
  
  This documentation can be retrieved in one of the following ways:
   
  (1) The preferred method is to FTP the files from
  download.vista.med.va.gov, which will transmit the files from the first
  available FTP server.
   
  (2) Sites may also elect to retrieve documentation directly from a
  specific server as follows:
   
   Albany          ftp.fo-albany.med.va.gov
   Hines           ftp.fo-hines.med.va.gov
   Salt Lake City  ftp.fo-slc.med.va.gov
   
   The documentation distribution includes:
   
   FILE NAME        DESCRIPTION                       Retrieval
   FH5_5P3UM.PDF    User Manual - Outpatient          binary
                     Meals Update V.5.5       
   FH5_5P3AG.PDF    Adpac Guide - Outpatient          binary
                     Meals Update V.5.5       
  
  (3) Documentation can also be retrieved from VISTA Documentation Library
  (VDL) on the Internet at the following address, http://www.va.gov/vdl
   
    
 Installation instructions:
 ==========================
    
 This Patch is created with Kernel V8 KIDS.  Follow these instructions:   
    
 1) Use Packman option 'INSTALL/CHECK MESSAGE' to load the KIDS build
    onto your system.
    
 2) On the KIDS menu, under the 'Installation' menu, use the                
    option 'Verify Checksum in Transport Global' and verify that all        
    routines have the correct checksums. 
    
 3) From the 'Installation' Menu of KIDS, use the option                    
    'Install Package(s)'.  Select the package 'FH*5.5*2' and proceed
    with install.
    
 4) Users may remain on the system.  Install should take less than two
    minutes.  The routines included in this patch should be installed in
    the production UCI.
  
 5) The DIETETICS options do not need to be disabled during the
    installation of this patch.  Your customer support representative
    will answer any questions regarding this patch.
    
 6) Recommended responses to the following installation questions:
    
    Want KIDS to INHIBIT LOGONs during the install? YES// NO
    Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
 
 
 
 
 
 
 
 

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: FHDMP
    Before: B21472376  After: B21472385  **1,2**
Routine Name: FHMNBRPT
    Before:  B5470086  After:  B5671840  **2**
Routine Name: FHOMAPI
    Before:  B1199374  After:  B1356712  **2**
Routine Name: FHOMIP
    Before:  B2144039  After:  B5150055  **2**
Routine Name: FHOMRA1
    Before:  B6231973  After:  B8333924  **2**
Routine Name: FHOMRC1
    Before: B10151717  After: B12871022  **2**
Routine Name: FHOMRC2
    Before:            After:  B5867833  **2**
Routine Name: FHOMRE1
    Before: B13383678  After: B21010791  **2**
Routine Name: FHOMRO1
    Before: B63144106  After: B64076466  **1,2**
Routine Name: FHOMRT1
    Before: B19762686  After: B20005276  **1,2**
Routine Name: FHOMSA1
    Before:  B4674762  After:  B5366452  **2**
Routine Name: FHOMSC1
    Before:  B1487825  After:  B1885895  **2**
Routine Name: FHOMSP1
    Before:  B8274936  After:  B8724512  **2**
Routine Name: FHOMSR1
    Before: B15017027  After: B23595025  **2**
Routine Name: FHOMUTL
    Before: B29468192  After: B32969388  **1,2**
Routine Name: FHOMWOR
    Before: B17355019  After: B25289896  **2**
Routine Name: FHOMWOR1
    Before:            After:  B3417408  **2**
Routine Name: FHPST2
    Before:            After: B36655557  **2**
Routine Name: FHSYSP
    Before:  B2630692  After:  B2751439  **2**
Routine Name: FHWOR
    Before: B28923502  After: B30084812  **2**
Routine Name: FHWOR71
    Before: B28572181  After: B28572181  **1,2**
Routine Name: FHWORR
    Before:  B9467558  After: B19353525  **2**

=============================================================================
User Information:
Entered By  : KNOEPFLE,RICH                 Date Entered  : MAY 05, 2005
Completed By: PATRICK,PAT                   Date Completed: MAR 02, 2006
Released By : KREUZ,SHERI B                 Date Released : MAR 02, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
