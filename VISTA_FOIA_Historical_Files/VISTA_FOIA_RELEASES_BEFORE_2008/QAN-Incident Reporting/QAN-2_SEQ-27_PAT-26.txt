$TXT Created by CURTIN,EDNA at MNTVBB.ISC-ALBANY.VA.GOV  (KIDS) on MONDAY, 11/22/99 at 14:50
=============================================================================
Run Date: NOV 29, 1999                     Designation: QAN*2*26
Package : QAN - INCIDENT REPORTING            Priority: Mandatory
Version : 2        SEQ #27                      Status: Released
=============================================================================

Associated patches: (v)QAN*2*1     <<= must be installed BEFORE `QAN*2*26'
                    (v)QAN*2*18    <<= must be installed BEFORE `QAN*2*26'
                    (v)QAN*2*20    <<= must be installed BEFORE `QAN*2*26'
                    (v)QAN*2*23    <<= must be installed BEFORE `QAN*2*26'
                    (v)XU*8*43     <<= must be installed BEFORE `QAN*2*26'
                    (v)QAN*2*27    <<= must be installed BEFORE `QAN*2*26'

Subject: MULTIDIVISIONS AND REPORTS

Category: 
  - Routine
  - Data Dictionary

Description: 
============

 This patch is being released under the Y2K waiver signed Nov. 17, 1999.
  
 This patch has been entered to allow integrated sites to enter the
 division (or Medical Center) in the Incident Report, and to enable those
 integrated sites to call reports sorted by division.
  
 This patch creates two new fields in the QUALITY ASSURANCE SITE
 PARAMETER file (#740). The fields are MULTI-DIVISIONAL INCID REP FACILITY
 (#751) and IR HOSPITAL DIVISION (#752, a multiple).  These fields are for
 the use of sites that have been integrated via the NDBI process.
 Instructions for populating these fields appear after the installation
 instructions.  After installation of this patch, integrated sites will be
 able to edit the IR HOSPITAL DIVISION field through the option Site
 Parameters enter/edit [QAN SITE PARAMETERS ENTER/EDIT].
  
 This patch creates a field, DIVISION (#52), in the QA INCIDENT REPORT file
 (#742.4).  This field is a pointer to the integrated site's entry in the
 INSTITUTION file (#4).
  
 This patch deletes two fields from file #742.1, the QA INCIDENTS
 file. They are #.03, E-MAIL TO REGION and .05, NOTIFY RD BY PHONE
 (IMMEDIATE).  They are being eliminated as Regions are no longer in
 existence.  Existing data in these two fields will be set to null.  These
 two operations are performed in a pre-installation routine, QAN26PRE,
 which can be deleted from the system after the installation.
  
 The following reports have been modified so that, for integrated sites,
 they can be sorted by division:
        Ad Hoc Report [QAN ADHOC REPORT]
        Beneficiary Report [QAN INCIDENT BENEFICIARY RPT]
        Incident per Ward Report [QAN INCIDENT/WARD REPORT]
        Outpatient Incident Reporting [QAN OUTPATIENT INCIDENTS]
        View open incident(s) [QAN VIEW OPEN INCIDENT(S)]
  
 It was discovered that if sites have Mailman patch XM*7.1*50 installed
 they could get an undefined error at PUTWP+9^DIEFW.  Code has been changed
 in routine QANUTL3 to define XMTEXT properly.  This problem was addressed
 by NOIS GNH-0899-40190, BIL-0899-32712, ALX-0899-70568, BEC-0899-22903 and
 ERI-0899-22911, HIN-0999-42008, BUT-0999-21827, BAC-0999-41348,
 DAN-0999-41330 and BOI-0899-51677.
  
 NOIS DAN-0899-42514 addresses a problem with the Brief Incident Enter/Edit
 option [QAN INCIDENT REPORT].  If an "^" is used while entering a brief
 incident after the patient name was entered the record was partially
 deleted.  
  
 NOIS LIT-0999-71458 deals with the possibility of an undefined variable
 error with the Ad Hoc Report.
  
  
 There are no E3Rs addressed in this patch.
 The following NOISs are addressed in this patch:
      DAN-0899-42514 
      GNH-0899-40190
      BIL-0899-32712
      ALX-0899-70568
      BEC-0899-22903
      ERI-0899-22911
      HIN-0999-42008
      BUT-0999-21827
      BAC-0999-41348
      LIT-0999-71458
      DAN-0999-41330
      BOI-0999-51677
      
 A stand-alone routine (^QANDBASE) is being sent to check for erroneous
 records in the QA PATIENT INCIDENT file (#742).  A message will be sent to
 the developer with a report.  Please run this routine from programmer mode
 (D ^QANDBASE) in order to check your database.
  
  
   If installed during the normal work day it is recommended that the
 following menu options (File #19) and all of their descendants be disabled
 to prevent possible conflicts while running the KIDS Install. Other DHCP
 users will not be affected. 
    
    Incident Reporting Main Menu      [QAN INCIDENT MAIN MENU]
    Incident Reporting Managers Menu  [QAN MANAGER MENU]
  
    Install Time - less than 15 minutes
  
  
 ================INSTALLATION INSTRUCTIONS =================  
  
 1.   LOAD TRANSPORT GLOBAL         
      ---------------------        
 Choose the PackMan message containing this patch and invoke the
 INSTALL/CHECK MESSAGE PackMan option.                   
  
 2.   DISABLE ROUTINE MAPPING   (DSM for Open VMS sites only) 
      -----------------------
 Disable routine mapping on all systems for the routines listed in step 3
 below.
  
 NOTE:  If the routines included in this patch are not currently in
 your mapped routine set, please skip this step.      
  
 3.   ROUTINES SENT WITH PATCH         
      ------------------------        
 The following is a list of the routines included in this patch. The second
 line of each of these routines now looks like:
    ;;2.0;Incident Reporting;**[patch list]**;08/07/1992
  
                CHECK^XTSUMBLD results   
   Routine        Before Patch     After Patch    Patch List
   -------        ------------     -----------    ----------
   QAN26PRE           N/A             285578       26
   QANAHOC          10907725        11399171       1,15,17,27,26
   QANAUX1          12162460        12633364       26
   QANBENE           8276483         8025943       1,18,23,26
   QANBENE0         12656400        11071136       18,26
   QANBENE1         12146491        10033860       1,8,11,18,26
   QANBENE2         16784840        10958183       1,26
   QANBENE3          5411972         4546530       1,26
   QANCDNT          15719207        20833452       1,9,14,27,26
   QANDBASE           N/A            2753830       26
   QANEDIT          11275910        12885345       27,26
   QANOPEN           6349233         6483837       26
   QANQUCK          11220851        11239174       1,9,14,27,26
   QANRPT1          15434818        14404373       26
   QANRPT2           7827568         8946572       26
   QANUTL2          16081705        16153050       1,7,19,23,27,26 
   QANUTL3           7657943         6947034       27,26
   QANUTL4          12594657        10822892       1,20,26
   QANUTL5           9137482         8951012       1,10,18,26
                   
                    Total number of routines - 19
       
  
 4.   START UP KIDS
      -------------
  Start up the Kernel Installation and Distribution System Menu
  
    [XPD MAIN]:     
  
       Edits and Distribution ...
       Utilities ...         
       Installation ...   
       Select Kernel
  
  
 Installation & Distribution System Option: INStallation
                                            ---      
       Load a Distribution         
       Print Transport Global Compare
       Transport Global to Current System          
       Verify Checksums in Transport Global        
       Install Package(s)
       Restart
       Install of Package(s)        
       Unload a Distribution
       Backup a Transport Global    
       Select Installation Option: 
  
 5. Select Installation Option:      
    --------------------------
 NOTE:  The following are OPTIONAL - (When prompted for the INSTALL NAME,
        enter QAN*2.0*26):            
    a.  Backup a Transport Global - This option will create a backup
        message of any routines exported with this patch. It will not
        backup any other changes such as DD's or templates.     
    b.  Compare Transport Global to Current System - This option will allow
        you to view all changes that will be made when this patch is
        installed.  It compares all components of this patch (routines,
        DD's, templates, etc.).
    c.  Verify Checksums in Transport Global - This option will allow
        you to ensure the integrity of the routines that are in the
        transport global.      
  
 6.   Select Installation Option: Install Package(s)
                                  ----------------
 **This is the step to start the installation of this KIDS patch:
    a.  Choose the Install Package(s) option to start the patch install.
    b.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES//' answer YES.       
    c.  When prompted 'Enter options you wish to mark as 'Out Of Order':'
        Enter the following options:  
    d.  When prompted 'Enter protocols you wish to mark as 'Out Of Order':
        press <return>.  
  
  
  
 ************************************************************************* 
 ********INTEGRATED SITES (via the NDBI integration process.)*************
 If you are an integrated site go into the Enter/Edit option in FileMan.
 Enter "yes" (1) in the Multi-Divisional Incid Rep Facility field, and
 make an IR HOSPITAL DIVISION entry for each Medical Center (legacy sites)
 in the integrated group.  An example follows.
 *************************************************************************
 *************************************************************************
  
  
  
 Select OPTION: ENTER OR EDIT FILE ENTRIES  
  
 INPUT TO WHAT FILE: QUALITY ASSURANCE SITE PARAMETERS// 740  QUALITY
                                                         ---  
 ASSURANCE SITE PARAMETERS (1 entry)
 EDIT WHICH FIELD: ALL// MULTI-DIVISIONAL INCID REP FACILITY    
                         -----------------------------------
 THEN EDIT FIELD: IR HOSPITAL DIVISION      (multiple)
                  --------------------
    EDIT WHICH IR HOSPITAL DIVISION SUB-FIELD: ALL//ENTER <CR> 
                                                   -----------
  
 THEN EDIT FIELD: 
  
 Select QUALITY ASSURANCE SITE PARAMETERS NAME: 1   (you MUST enter "1")
                                               ---
 MULTI-DIVISIONAL INCID REP FACILITY: Y  YES
                                     ---
 Select IR HOSPITAL DIVISION: SAN FRANCISCO
                              -------------  
  
  
 Select QUALITY ASSURANCE SITE PARAMETERS NAME: 1  (you MUST enter "1")
                                               ---
 MULTI-DIVISIONAL INCID REP FACILITY: YES//    
  
 Select IR HOSPITAL DIVISION: SAN FRANCISCO// SF HOSPITAL      CA  VAMC
 662A4                                        -----------
          ...OK? Yes//   (Yes)
  
   IR HOSPITAL DIVISION: SF HOSPITAL// 
  
 Select QUALITY ASSURANCE SITE PARAMETERS NAME: 
 (go through this process until you have entered all divisions.)
  
 ******************************NOTE****************************************
 There is a standalone routine (QANDBASE) which will look at file #742 (QA
 PATIENT INCIDENT REVIEW file) for bad records.  Please run this routine
 from programmer mode - it sends a message back to the developer on Forum.

Routine Information:
====================

Routine Name:
  - QANAHOC

 Add new fields division and adverse events to ad hoc report.

Routine Checksum:

Routine Name:
  - QANAUX1

 Removes prompts for E-mail to region and Phone call to Region from the
 option Incident Status enter/edit.

Routine Checksum:

Routine Name:
  - QANUTL4


Routine Checksum:

Routine Name:
  - QANBENE


Routine Checksum:

Routine Name:
  - QANBENE0


Routine Checksum:

Routine Name:
  - QANBENE1


Routine Checksum:

Routine Name:
  - QANBENE2


Routine Checksum:

Routine Name:
  - QANBENE3


Routine Checksum:

Routine Name:
  - QANOPEN


Routine Checksum:

Routine Name:
  - QANRPT1


Routine Checksum:

Routine Name:
  - QANRPT2


Routine Checksum:

Routine Name:
  - QANUTL5


Routine Checksum:

Routine Name:
  - QANCDNT


Routine Checksum:

Routine Name:
  - QAN26PRE


Routine Checksum:

Routine Name:
  - QANUTL3


Routine Checksum:

Routine Name:
  - QANUTL2


Routine Checksum:

Routine Name:
  - QANQUCK


Routine Checksum:

Routine Name:
  - QANEDIT


Routine Checksum:

Routine Name:
  - QANDBASE


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : CURTIN,EDNA                    Date Entered : JAN 29, 1998
Completed By: PAJERSKI,JAN                  Date Completed: NOV 24, 1999
Released By : LEWIS-LITNER,ANN E           Date Released : NOV 29, 1999
=============================================================================


Packman Mail Message:
=====================

$END TXT
