Released TIU*1*223 SEQ #209
Extracted from mail message
**KIDS**:TIU*1.0*223^

**INSTALL NAME**
TIU*1.0*223
"BLD",6438,0)
TIU*1.0*223^TEXT INTEGRATION UTILITIES^0^3061117^y
"BLD",6438,1,0)
^^2^2^3061117^
"BLD",6438,1,1,0)
The description of this patch may be found in the National Patch Module 
"BLD",6438,1,2,0)
under TIU*1.0*223.
"BLD",6438,4,0)
^9.64PA^^
"BLD",6438,6)
1^
"BLD",6438,6.3)
3
"BLD",6438,"ABNS",0)
^9.66A^^
"BLD",6438,"ABPKG")
^
"BLD",6438,"KRN",0)
^9.67PA^8989.52^19
"BLD",6438,"KRN",.4,0)
.4
"BLD",6438,"KRN",.401,0)
.401
"BLD",6438,"KRN",.402,0)
.402
"BLD",6438,"KRN",.403,0)
.403
"BLD",6438,"KRN",.5,0)
.5
"BLD",6438,"KRN",.84,0)
.84
"BLD",6438,"KRN",3.6,0)
3.6
"BLD",6438,"KRN",3.8,0)
3.8
"BLD",6438,"KRN",9.2,0)
9.2
"BLD",6438,"KRN",9.8,0)
9.8
"BLD",6438,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6438,"KRN",9.8,"NM",1,0)
TIUSRVPT^^0^B14550631
"BLD",6438,"KRN",9.8,"NM","B","TIUSRVPT",1)

"BLD",6438,"KRN",19,0)
19
"BLD",6438,"KRN",19.1,0)
19.1
"BLD",6438,"KRN",101,0)
101
"BLD",6438,"KRN",409.61,0)
409.61
"BLD",6438,"KRN",771,0)
771
"BLD",6438,"KRN",870,0)
870
"BLD",6438,"KRN",8989.51,0)
8989.51
"BLD",6438,"KRN",8989.52,0)
8989.52
"BLD",6438,"KRN",8994,0)
8994
"BLD",6438,"KRN","B",.4,.4)

"BLD",6438,"KRN","B",.401,.401)

"BLD",6438,"KRN","B",.402,.402)

"BLD",6438,"KRN","B",.403,.403)

"BLD",6438,"KRN","B",.5,.5)

"BLD",6438,"KRN","B",.84,.84)

"BLD",6438,"KRN","B",3.6,3.6)

"BLD",6438,"KRN","B",3.8,3.8)

"BLD",6438,"KRN","B",9.2,9.2)

"BLD",6438,"KRN","B",9.8,9.8)

"BLD",6438,"KRN","B",19,19)

"BLD",6438,"KRN","B",19.1,19.1)

"BLD",6438,"KRN","B",101,101)

"BLD",6438,"KRN","B",409.61,409.61)

"BLD",6438,"KRN","B",771,771)

"BLD",6438,"KRN","B",870,870)

"BLD",6438,"KRN","B",8989.51,8989.51)

"BLD",6438,"KRN","B",8989.52,8989.52)

"BLD",6438,"KRN","B",8994,8994)

"BLD",6438,"QUES",0)
^9.62^^
"BLD",6438,"REQB",0)
^9.611^1^1
"BLD",6438,"REQB",1,0)
TIU*1.0*210^2
"BLD",6438,"REQB","B","TIU*1.0*210",1)

"MBREQ")
0
"PKG",193,-1)
1^1
"PKG",193,0)
TEXT INTEGRATION UTILITIES^TIU^Text Integration Utilities 
"PKG",193,20,0)
^9.402P^^
"PKG",193,22,0)
^9.49I^1^1
"PKG",193,22,1,0)
1.0^3010321^3010321^11
"PKG",193,22,1,"PAH",1,0)
223^3061117
"PKG",193,22,1,"PAH",1,1,0)
^^2^2^3061117
"PKG",193,22,1,"PAH",1,1,1,0)
The description of this patch may be found in the National Patch Module 
"PKG",193,22,1,"PAH",1,1,2,0)
under TIU*1.0*223.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","TIUSRVPT")
0^1^B14550631^B10694146
"RTN","TIUSRVPT",1,0)
TIUSRVPT ; SLC/JER - Set Methods for Documents ;11/17/06  12:00
"RTN","TIUSRVPT",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**122,175,186,210,223**;Jun 20, 1997;Build 3
"RTN","TIUSRVPT",3,0)
SETTEXT(TIUY,TIUDA,TIUX,SUPPRESS) ; Save Text - use Buffered I/O
"RTN","TIUSRVPT",4,0)
 N PAGES,PAGE S TIUY=0,SUPPRESS=$G(SUPPRESS,0)
"RTN","TIUSRVPT",5,0)
 I $S(+$G(TIUDA)'>0:1,'$D(^TIU(8925,+TIUDA,0)):1,1:0) D  Q
"RTN","TIUSRVPT",6,0)
 . S TIUY="0^0^0^Attempt to file data in a Nonexistent Entry."
"RTN","TIUSRVPT",7,0)
 . D ERROR(TIUY)
"RTN","TIUSRVPT",8,0)
 S PAGE=$P($G(TIUX("HDR")),U),PAGES=$P($G(TIUX("HDR")),U,2)
"RTN","TIUSRVPT",9,0)
 I $S('PAGE:1,'PAGES:1,1:0) D  Q
"RTN","TIUSRVPT",10,0)
 . S TIUY="0^0^0^Invalid text block header"
"RTN","TIUSRVPT",11,0)
 . D ERROR(TIUY)
"RTN","TIUSRVPT",12,0)
 ; I PAGE=1 D MERGTEMP^TIUEDI1(TIUDA) K ^TIU(8925,+TIUDA,"TEMP"),^("TEXT")
"RTN","TIUSRVPT",13,0)
 I PAGE=1 K ^TIU(8925,+TIUDA,"TEMP")
"RTN","TIUSRVPT",14,0)
 M ^TIU(8925,+TIUDA,"TEMP")=TIUX("TEXT")
"RTN","TIUSRVPT",15,0)
 ;if done, commit changes
"RTN","TIUSRVPT",16,0)
 I 'SUPPRESS,(PAGE=PAGES),$D(^TIU(8925,TIUDA,"TEMP")) D
"RTN","TIUSRVPT",17,0)
 . N TIUC,TIUI,TIU S (TIUC,TIUI)=0
"RTN","TIUSRVPT",18,0)
 . F  S TIUI=$O(^TIU(8925,TIUDA,"TEMP",TIUI)) Q:+TIUI'>0  D
"RTN","TIUSRVPT",19,0)
 . . S TIUC=TIUC+1
"RTN","TIUSRVPT",20,0)
 . I TIUC>0 S ^TIU(8925,TIUDA,"TEMP",0)="^^"_TIUC_U_TIUC_U_DT_"^^"
"RTN","TIUSRVPT",21,0)
 . D GETTIU^TIULD(.TIU,TIUDA)
"RTN","TIUSRVPT",22,0)
 . K ^TIU(8925,TIUDA,"TEXT")
"RTN","TIUSRVPT",23,0)
 . D
"RTN","TIUSRVPT",24,0)
 . . N TIUC
"RTN","TIUSRVPT",25,0)
 . . S TIUC=0 F  S TIUC=$O(^TIU(8925,"DAD",TIUDA,TIUC)) Q:+TIUC'>0  D
"RTN","TIUSRVPT",26,0)
 . . . I +$$ISADDNDM^TIULC1(+TIUC) Q
"RTN","TIUSRVPT",27,0)
 . . . K ^TIU(8925,+TIUC,"TEXT")
"RTN","TIUSRVPT",28,0)
 . D MERGTEXT^TIUEDI1(+TIUDA,.TIU)
"RTN","TIUSRVPT",29,0)
 . K ^TIU(8925,TIUDA,"TEMP")
"RTN","TIUSRVPT",30,0)
 ; Acknowledge success / ask for next page
"RTN","TIUSRVPT",31,0)
 S TIUY=TIUDA_U_PAGE_U_PAGES
"RTN","TIUSRVPT",32,0)
 Q
"RTN","TIUSRVPT",33,0)
ADMNCLOS(TIUY,TIUDA,MODE,PERSON) ; Post Administrative Closure Information
"RTN","TIUSRVPT",34,0)
 N TIUX,TIUI,TIUCLBY,TIUCLTTL,TIUCAPT
"RTN","TIUSRVPT",35,0)
 I '$D(^TIU(8925,TIUDA)) S TIUY="0^Attempt to file data in a Nonexistent Entry." Q
"RTN","TIUSRVPT",36,0)
 S MODE=$G(MODE,"S")
"RTN","TIUSRVPT",37,0)
 S TIUCAPT=$S("ES"[MODE:"  Electronically Filed: ",1:"Administrative Closure: ")
"RTN","TIUSRVPT",38,0)
 S PERSON=$G(PERSON,DUZ)
"RTN","TIUSRVPT",39,0)
 S TIUCLBY=$$SIGNAME^TIULS(PERSON)
"RTN","TIUSRVPT",40,0)
 S TIUCLTTL=$$SIGTITL^TIULS(PERSON)
"RTN","TIUSRVPT",41,0)
 S TIUX(.05)=7
"RTN","TIUSRVPT",42,0)
 S TIUX(1606)=$G(DT)
"RTN","TIUSRVPT",43,0)
 S TIUX(1607)=TIUCLBY
"RTN","TIUSRVPT",44,0)
 S TIUX(1608)=TIUCLTTL
"RTN","TIUSRVPT",45,0)
 S TIUX(1613)=MODE
"RTN","TIUSRVPT",46,0)
 D FILE^TIUSRVP(.TIUY,TIUDA,.TIUX)
"RTN","TIUSRVPT",47,0)
 S TIUI=$P($G(^TIU(8925,TIUDA,"TEXT",0)),U,3)+1
"RTN","TIUSRVPT",48,0)
 ;If scanned document set document body to informational text
"RTN","TIUSRVPT",49,0)
 I MODE="S" D
"RTN","TIUSRVPT",50,0)
 . S ^TIU(8925,+TIUDA,"TEXT",TIUI,0)=" ",TIUI=TIUI+1
"RTN","TIUSRVPT",51,0)
 . S ^TIU(8925,+TIUDA,"TEXT",TIUI,0)="                           *** SCANNED DOCUMENT ***",TIUI=TIUI+1
"RTN","TIUSRVPT",52,0)
 . S ^TIU(8925,+TIUDA,"TEXT",TIUI,0)="                            SIGNATURE NOT REQUIRED",TIUI=TIUI+1
"RTN","TIUSRVPT",53,0)
 . S ^TIU(8925,+TIUDA,"TEXT",TIUI,0)=" ",TIUI=TIUI+1
"RTN","TIUSRVPT",54,0)
 S ^TIU(8925,TIUDA,"TEXT",TIUI,0)=" ",TIUI=TIUI+1
"RTN","TIUSRVPT",55,0)
 S ^TIU(8925,TIUDA,"TEXT",TIUI,0)=TIUCAPT_$$DATE^TIULS(DT,"MM/DD/CCYY"),TIUI=TIUI+1
"RTN","TIUSRVPT",56,0)
 S ^TIU(8925,TIUDA,"TEXT",TIUI,0)="                    by: "_TIUCLBY,TIUI=TIUI+1
"RTN","TIUSRVPT",57,0)
 S ^TIU(8925,TIUDA,"TEXT",TIUI,0)="                        "_TIUCLTTL
"RTN","TIUSRVPT",58,0)
 S ^TIU(8925,+TIUDA,"TEXT",0)="^^"_TIUI_U_TIUI_U_DT_"^^"
"RTN","TIUSRVPT",59,0)
 D ALERTDEL^TIUALRT(TIUDA)
"RTN","TIUSRVPT",60,0)
 ; post-signature action for administratively closed docs
"RTN","TIUSRVPT",61,0)
 N TIUCONS,TIUSTIS,TIUTTL,TIUPSIG,DA S TIUCONS=-1
"RTN","TIUSRVPT",62,0)
 D ISCNSLT^TIUCNSLT(.TIUCONS,+$G(^TIU(8925,TIUDA,0)))
"RTN","TIUSRVPT",63,0)
 S TIUSTIS=$P($G(^TIU(8925,TIUDA,0)),U,5)
"RTN","TIUSRVPT",64,0)
 S TIUTTL=+$G(^TIU(8925,+TIUDA,0)),TIUPSIG=$$POSTSIGN^TIULC1(TIUTTL)
"RTN","TIUSRVPT",65,0)
 I +$L(TIUPSIG) S DA=TIUDA X TIUPSIG
"RTN","TIUSRVPT",66,0)
 I TIUCONS,TIUSTIS=7,$$HASKIDS^TIUSRVLI(TIUDA) D
"RTN","TIUSRVPT",67,0)
 . N SEQUENCE,TIUKIDS,TIUINT,TIUK
"RTN","TIUSRVPT",68,0)
 . S SEQUENCE="D",TIUKIDS="TIUKIDS",TIUINT=0,TIUK=0
"RTN","TIUSRVPT",69,0)
 . D SETKIDS^TIUSRVLI(TIUKIDS,TIUDA,TIUINT)
"RTN","TIUSRVPT",70,0)
 . F  S TIUK=$O(TIUKIDS(TIUK)) Q:'TIUK  D
"RTN","TIUSRVPT",71,0)
 . . I $P(TIUKIDS(TIUK),U,7)="completed" X TIUPSIG
"RTN","TIUSRVPT",72,0)
 Q
"RTN","TIUSRVPT",73,0)
ERROR(ECODE) ; Register AUTOSAVE Error
"RTN","TIUSRVPT",74,0)
 N ERRDT S ERRDT=+$$NOW^XLFDT
"RTN","TIUSRVPT",75,0)
 Q:+$G(^XTMP("TIUERR","COUNT"))'<100
"RTN","TIUSRVPT",76,0)
 I '$D(^XTMP("TIUERR",0)) D
"RTN","TIUSRVPT",77,0)
 . S ^XTMP("TIUERR",0)=$$FMADD^XLFDT(DT,90)_U_DT
"RTN","TIUSRVPT",78,0)
 S ^XTMP("TIUERR",ERRDT,"ECODE")=ECODE
"RTN","TIUSRVPT",79,0)
 S ^XTMP("TIUERR",ERRDT,"USER")=DUZ
"RTN","TIUSRVPT",80,0)
 S ^XTMP("TIUERR",ERRDT,"TIUDA")=$G(TIUDA,"UNDEFINED")
"RTN","TIUSRVPT",81,0)
 S ^XTMP("TIUERR",ERRDT,"TIUHDR")=$G(TIUX("HDR"))
"RTN","TIUSRVPT",82,0)
 S ^XTMP("TIUERR",ERRDT,"XWBHDR")=$G(XWBS1("HDR"))
"RTN","TIUSRVPT",83,0)
 S ^XTMP("TIUERR","COUNT")=$G(^XTMP("TIUERR","COUNT"))+1
"RTN","TIUSRVPT",84,0)
 Q
"VER")
8.0^22.0
"BLD",6438,6)
^209
**END**
**END**
