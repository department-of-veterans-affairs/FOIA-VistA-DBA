Released WV*1*15 SEQ #15
Extracted from mail message
**KIDS**:WV*1.0*15^

**INSTALL NAME**
WV*1.0*15
"BLD",3392,0)
WV*1.0*15^WOMEN'S HEALTH^0^3020611^y
"BLD",3392,1,0)
^^2^2^3020605^^
"BLD",3392,1,1,0)
Please read the WV*1*15 patch description on FORUM for an explanation of
"BLD",3392,1,2,0)
what this patch does.
"BLD",3392,4,0)
^9.64PA^^
"BLD",3392,"ABNS",0)
^9.66A^^
"BLD",3392,"ABPKG")
n^n
"BLD",3392,"KRN",0)
^9.67PA^19^17
"BLD",3392,"KRN",.4,0)
.4
"BLD",3392,"KRN",.401,0)
.401
"BLD",3392,"KRN",.402,0)
.402
"BLD",3392,"KRN",.403,0)
.403
"BLD",3392,"KRN",.5,0)
.5
"BLD",3392,"KRN",.84,0)
.84
"BLD",3392,"KRN",3.6,0)
3.6
"BLD",3392,"KRN",3.8,0)
3.8
"BLD",3392,"KRN",9.2,0)
9.2
"BLD",3392,"KRN",9.8,0)
9.8
"BLD",3392,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",3392,"KRN",9.8,"NM",1,0)
WVRADWP^^0^B46301174
"BLD",3392,"KRN",9.8,"NM","B","WVRADWP",1)

"BLD",3392,"KRN",19,0)
19
"BLD",3392,"KRN",19.1,0)
19.1
"BLD",3392,"KRN",101,0)
101
"BLD",3392,"KRN",409.61,0)
409.61
"BLD",3392,"KRN",771,0)
771
"BLD",3392,"KRN",771,"NM",0)
^9.68A^^
"BLD",3392,"KRN",870,0)
870
"BLD",3392,"KRN",8994,0)
8994
"BLD",3392,"KRN","B",.4,.4)

"BLD",3392,"KRN","B",.401,.401)

"BLD",3392,"KRN","B",.402,.402)

"BLD",3392,"KRN","B",.403,.403)

"BLD",3392,"KRN","B",.5,.5)

"BLD",3392,"KRN","B",.84,.84)

"BLD",3392,"KRN","B",3.6,3.6)

"BLD",3392,"KRN","B",3.8,3.8)

"BLD",3392,"KRN","B",9.2,9.2)

"BLD",3392,"KRN","B",9.8,9.8)

"BLD",3392,"KRN","B",19,19)

"BLD",3392,"KRN","B",19.1,19.1)

"BLD",3392,"KRN","B",101,101)

"BLD",3392,"KRN","B",409.61,409.61)

"BLD",3392,"KRN","B",771,771)

"BLD",3392,"KRN","B",870,870)

"BLD",3392,"KRN","B",8994,8994)

"BLD",3392,"QUES",0)
^9.62^^
"BLD",3392,"REQB",0)
^9.611^3^3
"BLD",3392,"REQB",1,0)
WV*1.0*4^2
"BLD",3392,"REQB",2,0)
WV*1.0*5^2
"BLD",3392,"REQB",3,0)
WV*1.0*7^2
"BLD",3392,"REQB","B","WV*1.0*4",1)

"BLD",3392,"REQB","B","WV*1.0*5",2)

"BLD",3392,"REQB","B","WV*1.0*7",3)

"MBREQ")
0
"PKG",364,-1)
1^1
"PKG",364,0)
WOMEN'S HEALTH^WV^Tracks health issues specific to female patients.
"PKG",364,20,0)
^9.402P^^
"PKG",364,22,0)
^9.49I^1^1
"PKG",364,22,1,0)
1.0^2980925^2980508^547
"PKG",364,22,1,"PAH",1,0)
15^3020611
"PKG",364,22,1,"PAH",1,1,0)
^^2^2^3020611
"PKG",364,22,1,"PAH",1,1,1,0)
Please read the WV*1*15 patch description on FORUM for an explanation of
"PKG",364,22,1,"PAH",1,1,2,0)
what this patch does.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","WVRADWP")
0^1^B46301174
"RTN","WVRADWP",1,0)
WVRADWP ;HCIOFO/FT-Display Report Data from Related Packages  ;6/5/02  11:30
"RTN","WVRADWP",2,0)
 ;;1.0;WOMEN'S HEALTH;**4,5,7,15**;Sep 30, 1998
"RTN","WVRADWP",3,0)
 ;
"RTN","WVRADWP",4,0)
 ; This routine uses the following IAs:
"RTN","WVRADWP",5,0)
 ;  #2479 - FILE 74 fields      (private)
"RTN","WVRADWP",6,0)
 ;  #2480 - FILE 70 fileds      (private)
"RTN","WVRADWP",7,0)
 ; #10035 - ^DPT(DFN,.01        (supported)
"RTN","WVRADWP",8,0)
 ;
"RTN","WVRADWP",9,0)
EN ; Determine which report to show (i.e., radiology/nuclear medicine)
"RTN","WVRADWP",10,0)
 ; Called from Edit a Procedure option screen form.
"RTN","WVRADWP",11,0)
 D EX
"RTN","WVRADWP",12,0)
 Q:'$G(DA)
"RTN","WVRADWP",13,0)
 Q:'$D(^WV(790.1,+DA,0))
"RTN","WVRADWP",14,0)
 N WV7901
"RTN","WVRADWP",15,0)
 S WV7901=$E(^WV(790.1,+DA,0),1,2) ;first 2 characters of accession code
"RTN","WVRADWP",16,0)
 Q:WV7901=""
"RTN","WVRADWP",17,0)
 I "^BU^MB^MS^MU^PU^VU^"[WV7901 D EN1 Q  ;show rad/nm report data
"RTN","WVRADWP",18,0)
 Q
"RTN","WVRADWP",19,0)
EN1 ; Set up radiology report data and call FM Browser
"RTN","WVRADWP",20,0)
 N LOOP,WVDUP,WVIENS,WVLCNT,WVRADCSE,WVRADDFN,WVRADDTE,WVRADIEN,WVRPTIEN
"RTN","WVRADWP",21,0)
 N WVJCN,WVJCN1
"RTN","WVRADWP",22,0)
 S WVRADIEN=$P(^WV(790.1,DA,0),U,15)
"RTN","WVRADWP",23,0)
 Q:WVRADIEN=""  ;no 'radiology mam case #'
"RTN","WVRADWP",24,0)
 S WVRADDFN=$P(^WV(790.1,DA,0),U,2)
"RTN","WVRADWP",25,0)
 Q:'WVRADDFN  ;no dfn
"RTN","WVRADWP",26,0)
 S WVRADDTE=$O(^RADPT("ADC",WVRADIEN,WVRADDFN,0))
"RTN","WVRADWP",27,0)
 Q:'WVRADDTE  ;no inverse exam date
"RTN","WVRADWP",28,0)
 S WVRADCSE=$O(^RADPT("ADC",WVRADIEN,WVRADDFN,WVRADDTE,0))
"RTN","WVRADWP",29,0)
 Q:'WVRADCSE  ;no case number
"RTN","WVRADWP",30,0)
 S WVRPTIEN=+$P(^RADPT(WVRADDFN,"DT",WVRADDTE,"P",WVRADCSE,0),U,17)
"RTN","WVRADWP",31,0)
 Q:'WVRPTIEN  ;no report in File 74
"RTN","WVRADWP",32,0)
 K ^TMP($J,"WV RADRPT"),^TMP("WV RADRPT",$J),^TMP($J,"WV CH")
"RTN","WVRADWP",33,0)
 S WVIENS=WVRADCSE_","_WVRADDTE_","_WVRADDFN_"," ;iens for FILE 70 entry
"RTN","WVRADWP",34,0)
 ; get clincal history from FILE 70
"RTN","WVRADWP",35,0)
 D GETS^DIQ(70.03,WVIENS,400,"EIZ","^TMP($J,""WV CH"")")
"RTN","WVRADWP",36,0)
 ; get data from FILE 74
"RTN","WVRADWP",37,0)
 D GETS^DIQ(74,WVRPTIEN_",","*","EI","^TMP($J,""WV RADRPT"")")
"RTN","WVRADWP",38,0)
 S ^TMP("WV RADRPT",$J,1,0)="                   DAY-CASE #: "_$G(^TMP($J,"WV RADRPT",74,WVRPTIEN_",",.01,"E"))_$S($$AMEND(WVRPTIEN):"                    (AMENDED REPORT)",1:"")
"RTN","WVRADWP",39,0)
 S ^TMP("WV RADRPT",$J,2,0)="               EXAM DATE/TIME: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",3,"E")
"RTN","WVRADWP",40,0)
 S ^TMP("WV RADRPT",$J,3,0)="          VERIFYING PHYSICIAN: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",9,"E")
"RTN","WVRADWP",41,0)
 S ^TMP("WV RADRPT",$J,4,0)="                    PROCEDURE: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",102,"E")
"RTN","WVRADWP",42,0)
 S ^TMP("WV RADRPT",$J,5,0)="             CATEGORY OF EXAM: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",104,"E")
"RTN","WVRADWP",43,0)
 S ^TMP("WV RADRPT",$J,6,0)="                         WARD: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",106,"E")
"RTN","WVRADWP",44,0)
 S ^TMP("WV RADRPT",$J,7,0)=" TREATING SERVICE (INPATIENT): "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",107,"E")
"RTN","WVRADWP",45,0)
 S ^TMP("WV RADRPT",$J,8,0)="             PRINCIPAL CLINIC: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",108,"E")
"RTN","WVRADWP",46,0)
 S ^TMP("WV RADRPT",$J,9,0)="      CONTRACT SHARING SOURCE: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",109,"E")
"RTN","WVRADWP",47,0)
 S ^TMP("WV RADRPT",$J,10,0)="PRIMARY INTERPRETING RESIDENT: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",112,"E")
"RTN","WVRADWP",48,0)
 S ^TMP("WV RADRPT",$J,11,0)="   PRIMARY INTERPRETING STAFF: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",115,"E")
"RTN","WVRADWP",49,0)
 S ^TMP("WV RADRPT",$J,12,0)="            PRIMARY DIAGNOSIS: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",113,"E")
"RTN","WVRADWP",50,0)
 S ^TMP("WV RADRPT",$J,13,0)="         REQUESTING PHYSICIAN: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",114,"E")
"RTN","WVRADWP",51,0)
 S ^TMP("WV RADRPT",$J,14,0)="                 COMPLICATION: "_^TMP($J,"WV RADRPT",74,WVRPTIEN_",",116,"E")
"RTN","WVRADWP",52,0)
 S ^TMP("WV RADRPT",$J,15,0)=" "
"RTN","WVRADWP",53,0)
 S ^TMP("WV RADRPT",$J,16,0)="CLINICAL HISTORY:"
"RTN","WVRADWP",54,0)
 S LOOP=0,WVLCNT=16
"RTN","WVRADWP",55,0)
 S WVDUP=$$COMPARE()
"RTN","WVRADWP",56,0)
 I WVDUP=1 D  ;Clinical History text in files 70 & 74 are different
"RTN","WVRADWP",57,0)
 .S LOOP=0
"RTN","WVRADWP",58,0)
 .F  S LOOP=$O(^TMP($J,"WV CH",70.03,WVIENS,400,LOOP)) Q:'LOOP  D
"RTN","WVRADWP",59,0)
 ..S WVLCNT=WVLCNT+1
"RTN","WVRADWP",60,0)
 ..S ^TMP("WV RADRPT",$J,WVLCNT,0)=^TMP($J,"WV CH",70.03,WVIENS,400,LOOP,0)
"RTN","WVRADWP",61,0)
 ..Q
"RTN","WVRADWP",62,0)
 .I WVLCNT>16 D  ;insert blank line if different texts exist
"RTN","WVRADWP",63,0)
 ..S WVLCNT=WVLCNT+1
"RTN","WVRADWP",64,0)
 ..S ^TMP("WV RADRPT",$J,WVLCNT,0)=" "
"RTN","WVRADWP",65,0)
 ..Q
"RTN","WVRADWP",66,0)
 .S LOOP=0
"RTN","WVRADWP",67,0)
 .F  S LOOP=$O(^TMP($J,"WV RADRPT",74,WVRPTIEN_",",400,LOOP)) Q:'LOOP  D
"RTN","WVRADWP",68,0)
 ..S WVLCNT=WVLCNT+1
"RTN","WVRADWP",69,0)
 ..S ^TMP("WV RADRPT",$J,WVLCNT,0)=^TMP($J,"WV RADRPT",74,WVRPTIEN_",",400,LOOP)
"RTN","WVRADWP",70,0)
 ..Q
"RTN","WVRADWP",71,0)
 .Q
"RTN","WVRADWP",72,0)
 I WVDUP=0 D  ;Clinical History field is same
"RTN","WVRADWP",73,0)
 .S LOOP=0
"RTN","WVRADWP",74,0)
 .F  S LOOP=$O(^TMP($J,"WV RADRPT",74,WVRPTIEN_",",400,LOOP)) Q:'LOOP  D
"RTN","WVRADWP",75,0)
 ..S WVLCNT=WVLCNT+1
"RTN","WVRADWP",76,0)
 ..S ^TMP("WV RADRPT",$J,WVLCNT,0)=^TMP($J,"WV RADRPT",74,WVRPTIEN_",",400,LOOP)
"RTN","WVRADWP",77,0)
 ..Q
"RTN","WVRADWP",78,0)
 .Q
"RTN","WVRADWP",79,0)
 S WVLCNT=WVLCNT+1
"RTN","WVRADWP",80,0)
 S ^TMP("WV RADRPT",$J,WVLCNT,0)=" "
"RTN","WVRADWP",81,0)
 S WVLCNT=WVLCNT+1
"RTN","WVRADWP",82,0)
 S ^TMP("WV RADRPT",$J,WVLCNT,0)="IMPRESSION TEXT:"
"RTN","WVRADWP",83,0)
 S LOOP=0
"RTN","WVRADWP",84,0)
 F  S LOOP=$O(^TMP($J,"WV RADRPT",74,WVRPTIEN_",",300,LOOP)) Q:'LOOP  D
"RTN","WVRADWP",85,0)
 .S WVLCNT=WVLCNT+1
"RTN","WVRADWP",86,0)
 .S ^TMP("WV RADRPT",$J,WVLCNT,0)=^TMP($J,"WV RADRPT",74,WVRPTIEN_",",300,LOOP)
"RTN","WVRADWP",87,0)
 .Q
"RTN","WVRADWP",88,0)
 S WVLCNT=WVLCNT+1
"RTN","WVRADWP",89,0)
 S ^TMP("WV RADRPT",$J,WVLCNT,0)=" "
"RTN","WVRADWP",90,0)
 S WVLCNT=WVLCNT+1
"RTN","WVRADWP",91,0)
 S ^TMP("WV RADRPT",$J,WVLCNT,0)="REPORT TEXT:"
"RTN","WVRADWP",92,0)
 S LOOP=0
"RTN","WVRADWP",93,0)
 F  S LOOP=$O(^TMP($J,"WV RADRPT",74,WVRPTIEN_",",200,LOOP)) Q:'LOOP  D
"RTN","WVRADWP",94,0)
 .S WVLCNT=WVLCNT+1
"RTN","WVRADWP",95,0)
 .S ^TMP("WV RADRPT",$J,WVLCNT,0)=^TMP($J,"WV RADRPT",74,WVRPTIEN_",",200,LOOP)
"RTN","WVRADWP",96,0)
 .Q
"RTN","WVRADWP",97,0)
 K ^TMP($J,"WV RADRPT"),WVLCNT,^WV(790.1,DA,9)
"RTN","WVRADWP",98,0)
 S WVJCN=0 F  S WVJCN=$O(^TMP("WV RADRPT",$J,WVJCN)) Q:WVJCN'>0  D
"RTN","WVRADWP",99,0)
 .S ^WV(790.1,DA,9,WVJCN,0)=$G(^TMP("WV RADRPT",$J,WVJCN,0)) S WVJCN1=WVJCN
"RTN","WVRADWP",100,0)
 S ^WV(790.1,DA,9,0)="^^"_WVJCN1_"^"_WVJCN1
"RTN","WVRADWP",101,0)
 K ^TMP("WV RADRPT",$J),^TMP($J,"WV CH")
"RTN","WVRADWP",102,0)
 Q
"RTN","WVRADWP",103,0)
EX ; delete existing radiology report text stored in WH
"RTN","WVRADWP",104,0)
 K ^WV(790.1,DA,9)
"RTN","WVRADWP",105,0)
 Q
"RTN","WVRADWP",106,0)
MAIL(DFN,WVACCESS,WVPROC,WVPROV) ; Send mail message to case manager when
"RTN","WVRADWP",107,0)
 ; Radiology procedure is added to WH Procedure file (#790.1).
"RTN","WVRADWP",108,0)
 ; Called from WVRALINK
"RTN","WVRADWP",109,0)
 ;      DFN -> Patient ien
"RTN","WVRADWP",110,0)
 ; WVACCESS -> File 790.1 ien (procedure entry)
"RTN","WVRADWP",111,0)
 ;   WVPROC -> File 790.2 ien (procedure type)
"RTN","WVRADWP",112,0)
 ;   WVPROV -> File 200   IEN (provider/requestor)
"RTN","WVRADWP",113,0)
 Q:'$G(DFN)!('$G(WVACCESS))!('$G(WVPROC))
"RTN","WVRADWP",114,0)
 N WVCMGR,WVLOOP,WVMSG,XMDUZ,XMSUB,XMTEXT
"RTN","WVRADWP",115,0)
 S WVCMGR=+$$GET1^DIQ(790,DFN,.1,"I") ;get case manager
"RTN","WVRADWP",116,0)
 S:WVCMGR XMY(WVCMGR)=""
"RTN","WVRADWP",117,0)
 ; if no case manager, then get default case manager(s)
"RTN","WVRADWP",118,0)
 I 'WVCMGR S WVLOOP=0 F  S WVLOOP=$O(^WV(790.02,WVLOOP)) Q:'WVLOOP  D
"RTN","WVRADWP",119,0)
 .S WVCMGR=$$GET1^DIQ(790.02,WVLOOP,.02,"I")
"RTN","WVRADWP",120,0)
 .S:WVCMGR XMY(WVCMGR)=""
"RTN","WVRADWP",121,0)
 .Q
"RTN","WVRADWP",122,0)
 Q:$O(XMY(0))'>0  ;no case manager(s)
"RTN","WVRADWP",123,0)
 ;S:WVPROV XMY(WVPROV)=""
"RTN","WVRADWP",124,0)
 S XMDUZ=.5 ;message sender
"RTN","WVRADWP",125,0)
 S XMSUB="RAD/NM added a procedure for a WH patient"
"RTN","WVRADWP",126,0)
 S WVMSG(1)="        Patient: "_$P($G(^DPT(DFN,0)),U,1)_" (SSN: "_$$SSN^WVUTL1(DFN)_")"
"RTN","WVRADWP",127,0)
 S WVMSG(2)=" WH Accession #: "_$P($G(^WV(790.1,+WVACCESS,0)),U,1)
"RTN","WVRADWP",128,0)
 S WVMSG(3)="      Procedure: "_$P($G(^WV(790.2,+WVPROC,0)),U,1)
"RTN","WVRADWP",129,0)
 S WVMSG(4)=" "
"RTN","WVRADWP",130,0)
 S WVMSG(5)="Please use the 'Edit a Procedure' option in the WOMEN'S"
"RTN","WVRADWP",131,0)
 S WVMSG(6)="HEALTH package to complete/close this procedure."
"RTN","WVRADWP",132,0)
 S XMTEXT="WVMSG("
"RTN","WVRADWP",133,0)
 D ^XMD
"RTN","WVRADWP",134,0)
 Q
"RTN","WVRADWP",135,0)
AMEND(WVRPTIEN) ; Check if RAD/NM report is amended.
"RTN","WVRADWP",136,0)
 ; WVRPTIEN - File 74 ien
"RTN","WVRADWP",137,0)
 N WVAMEND
"RTN","WVRADWP",138,0)
 K ^TMP("DILIST",$J),^TMP("DIERR",$J)
"RTN","WVRADWP",139,0)
 D LIST^DIC(74.06,","_WVRPTIEN_",",.01)
"RTN","WVRADWP",140,0)
 S WVAMEND=$O(^TMP("DILIST",$J,0))
"RTN","WVRADWP",141,0)
 K ^TMP("DILIST",$J),^TMP("DIERR",$J)
"RTN","WVRADWP",142,0)
 Q WVAMEND
"RTN","WVRADWP",143,0)
 ;
"RTN","WVRADWP",144,0)
COMPARE() ; Compares Clincal History fields in files 70 & 74
"RTN","WVRADWP",145,0)
 ; Returns 1 (different) or 0 (same)
"RTN","WVRADWP",146,0)
 N LOOP,WVFLAG,WV70CNT,WV70IEN,WV74CNT,WV74IEN,WVNODE70,WVNODE74
"RTN","WVRADWP",147,0)
 S (LOOP,WV70CNT,WV74CNT,WVFLAG)=0
"RTN","WVRADWP",148,0)
 S WV70IEN=WVIENS,WV74IEN=WVRPTIEN_","
"RTN","WVRADWP",149,0)
 I '$O(^TMP($J,"WV CH",70.03,WV70IEN,400,0)) S WVFLAG=WVFLAG+1
"RTN","WVRADWP",150,0)
 I '$O(^TMP($J,"WV RADRPT",74,WV74IEN,400,0)) S WVFLAG=WVFLAG+1
"RTN","WVRADWP",151,0)
 I WVFLAG=1 Q 1  ;different (field was purged in one file, exists in
"RTN","WVRADWP",152,0)
 ;                the other file)
"RTN","WVRADWP",153,0)
 I WVFLAG=2 Q 0  ;same (field was purged in 70 & 74)
"RTN","WVRADWP",154,0)
 F  S LOOP=$O(^TMP($J,"WV CH",70.03,WV70IEN,400,LOOP)) Q:'LOOP  D
"RTN","WVRADWP",155,0)
 .S WV70CNT=WV70CNT+1
"RTN","WVRADWP",156,0)
 .Q
"RTN","WVRADWP",157,0)
 S LOOP=0
"RTN","WVRADWP",158,0)
 F  S LOOP=$O(^TMP($J,"WV RADRPT",74,WV74IEN,400,LOOP)) Q:'LOOP  D
"RTN","WVRADWP",159,0)
 .S WV74CNT=WV74CNT+1
"RTN","WVRADWP",160,0)
 .Q
"RTN","WVRADWP",161,0)
 I WV70CNT'=WV74CNT Q 1  ;line counts are different
"RTN","WVRADWP",162,0)
 S LOOP=0
"RTN","WVRADWP",163,0)
 F  S LOOP=$O(^TMP($J,"WV CH",70.03,WV70IEN,400,LOOP)) Q:'LOOP!(WVFLAG=1)  D
"RTN","WVRADWP",164,0)
 .S WVNODE70=$G(^TMP($J,"WV CH",70.03,WV70IEN,400,LOOP,0))
"RTN","WVRADWP",165,0)
 .S WVNODE74=$G(^TMP($J,"WV RADRPT",74,WV74IEN,400,LOOP))
"RTN","WVRADWP",166,0)
 .I WVNODE70'=WVNODE74 S WVFLAG=1
"RTN","WVRADWP",167,0)
 .Q
"RTN","WVRADWP",168,0)
 Q WVFLAG
"RTN","WVRADWP",169,0)
 ;
"VER")
8.0^22
**END**
**END**
