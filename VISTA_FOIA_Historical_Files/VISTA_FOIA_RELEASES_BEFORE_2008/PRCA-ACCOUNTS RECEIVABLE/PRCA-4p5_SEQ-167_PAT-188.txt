$TXT Created by WANG,CHI at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 03/05/03 at 11:57
=============================================================================
Run Date: APR 16, 2003                     Designation: PRCA*4.5*188
Package : PRCA - ACCOUNTS RECEIVABLE          Priority: Mandatory
Version : 4.5       SEQ #167                     Status: Released
                  Compliance Date: MAY 17, 2003
=============================================================================

Associated patches: (v)PRCA*4.5*169<<= must be installed BEFORE `PRCA*4.5*188'
                    (v)PRCA*4.5*171<<= must be installed BEFORE `PRCA*4.5*188'

Subject: EDITING FMS ACCTG ELEMENTS

Category: 
  - Routine

Description: 
============

 This patch addresses 2 issues. The first issue is regarding a fund changing
 after a user applied a payment to a bill. The second issue concerns a
 string too long error when running the Accounts Receivable Nightly Process
 Background Job [PRCA NIGHTLY PROCESS].
  
 Associated E3R(s):
 ------------------ 
 N/A
  
 Associated NOIS:
 ----------------
 1. TUC-1102-60505  EDITING FMS ACCTG ELEMENTS
 2. WAS-0802-21469  Error ~%DSM-E-STRLEN~
    Duplicate:
       BHS-0303-12000  RP+25^RCDMB1MT:1 %DSM-E-STRLEN, string too long
  
 PARTICIPATING TEST SITES:
 -------------------------
  
 NOIS OVERVIEW
 -------------
 1. TUC-1102-60505  EDITING FMS ACCTG ELEMENTS
  
    Problem:
    --------
    A site reported that they had edited the FMS accounting elements on a
    bill from fund 0160A1 to 5287. After applying a payment to the bill, 
    the fund reverted back to the original fund of 0160A1.
  
    Another issue was also discovered by the developer while working on the
    above problem. An undefined error was occurring at CPLK+23^PRCAFUT:1
    when a user attempted to exit the option Edit FMS Accounting Elements
    [PRCA FMS ACCT EDIT].  If a user is within the FUND prompt and enters
    "^", they are returned to the FUND prompt.  If they enter "^" again while
    still at the FUND prompt, the error occurs.
   
    Resolution:
    -----------
    Modified routine PRCAFUT. A warning message will display after a user
    enters an invalid fund for a bill while using the option Edit FMS
    Accounting Elements [PRCA FMS ACCT EDIT]. The validity of the fund is
    determined against the code sheet based on the bill's category. The
    developer discovered undefined error has been resolved in this patch
    as well.
    
 2. WAS-0802-21469  Error ~%DSM-E-STRLEN~
  
    Problem:
    --------
    While the Accounts Receivable Nightly Process Background Job [PRCA
    NIGHTLY PROCESS] is running, if a patient has a large number of bills
    (i.e. 43), the variable which stores these bills runs out of space
    and a "%DSM-E-STRLEN, String too long" error occurs at line
    RP+25^RCDMB1MT:1.
  
    Resolution:
    -----------
    Modified routine RCDMB1MT to use a temporary global to store the
    patients bill information, thus avoiding the problem.
  
 ROUTINE SUMMARY 
 ---------------
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like:
  
       ;;4.5;Accounts Receivable;**[patch list]**;Mar 20, 1995
  
                      CHECK^XTSUMBLD results
   
        Routine      Before Patch     After Patch     Patch List 
       ---------     ------------     -----------     ----------
       PRCAFUT       8728630           9358949         5,39,64,92,104
                                                       169,188
       RCDMB1MT      8445122           8525443         167,171,188
  
       Total number of routines = 2
  
 INSTALLATION INSTRUCTIONS
 =========================
 This patch can be loaded with users in the system. This patch should be
 installed at a time when the Accounts Receivable Nightly Process Background
 Job [PRCA NIGHTLY PROCESS] is not scheduled to run. Use Taskman to determine
 when it is scheduled. Installation time will be less than 5 minutes.
     
  1.   Choose the PackMan message containing this patch and invoke the 
       INSTALL/CHECK MESSAGE PackMan option.  
  
  2.   (DSM for Open VMS sites only) Disable routine mapping on all systems
       for the routines listed in the Routine Summary.  
   
       NOTE:  If the routines included in this patch are not currently in 
       your mapped routine set, please skip this step.
   
  3.   Start up the Kernel Installation and Distribution System Menu 
       [XPD MAIN]: 
            Edits and Distribution ...  
            Utilities ...  
            Installation ...  
     
  Select Kernel Installation & Distribution System Option: INStallation 
                                                           ---
            Load a Distribution 
            Print Transport Global 
            Compare Transport Global to Current System 
            Verify Checksums in Transport Global 
            Install Package(s) 
            Restart Install of Package(s) 
            Unload a Distribution 
            Backup a Transport Global 
     
  Select Installation Option: 
     
  4.   From this menu, you may elect to use the following options
       (When prompted for the INSTALL NAME, enter PRCA*4.5*188):
  
       a.  Backup a Transport Global - This option will create a backup
           message of any routines exported with this patch. It will not
           backup any other changes such as DD's or templates.
       b.  Compare Transport Global to Current System - This option will
           allow you to view all changes that will be made when this patch
           is installed. It compares all components of this patch
           (routines, DD's, templates, etc.).
       c.  Verify Checksums in Transport Global - This option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
  
  5.   Use the Install Package(s) option and select the package
       PRCA*4.5*188.
  
       a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
           YES//', answer NO (unless otherwise indicated).
       b.  When prompted 'Want to DISABLE Scheduled Options, Menu 
           Options, and Protocols? YES//', answer YES.
       c.  When prompted 'Enter options you wish to mark as 'Out Of
           Order':', enter the following options:
    
    Edit FMS Accounting Elements [PRCA FMS ACCT EDIT]
    Enter FMS Accounting Elements (FMS CONVERSION) [PRCA FMS-CONV ACCOUNTING]
  
       d.  When prompted 'Enter protocols you wish to mark as 'Out Of
           Order':', press <return>.
   
  6.   (DSM for Open VMS sites only) Optional - Include the routines
       distributed with this patch in the mapped routine set.
   
       NOTE: This step is only necessary if you performed step 2 or if you
       wish to include the routines in your mapped set.

Routine Information:
====================

Routine Name:
  - PRCAFUT


Routine Checksum:

Routine Name:
  - RCDMB1MT


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : WANG,CHI                       Date Entered : DEC 06, 2002
Completed By: PHELPS,TY                     Date Completed: APR 15, 2003
Released By : MURRAY,JOHN J                Date Released : APR 16, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
