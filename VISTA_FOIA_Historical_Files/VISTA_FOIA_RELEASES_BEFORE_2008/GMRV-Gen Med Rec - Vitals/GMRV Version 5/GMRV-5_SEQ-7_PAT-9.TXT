$TXT Created by MCNEILE,KEN at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Friday, 08/05/05 at 07:22
=============================================================================
Run Date: OCT 13, 2005                     Designation: GMRV*5*9
Package : GMRV - GEN. MED. REC. - VITALS      Priority: Mandatory
Version : 5         SEQ #7                      Status: Released
                  Compliance Date: NOV 13, 2005
=============================================================================


Subject: ENTRY OF MIDNIGHT AND MULTIPLE ENTRY SECONDS ISSUES

Category: 
  - Routine

Description:
============

 When entering vitals through the Vitals GUI Package, if a user enters 
 midnight, the system does not record the time properly because midnight 
 is represented as all zeros.
      
 Also, when entering Vitals for multiple patients at the same time in the 
 Vitals/Measurements software, the system appends time to the .01 field 
 [DATE/TIME VITALS TAKEN].
  
  
 ASSOCIATED REMEDY:  
 =================     
 1: HD106430/PAL-0105-60940 vitals package allows vital with no date
  
 2: HD68005/BHS-0504-10643 Multiple columns for vitals taken at the same time
  
      
 REMEDY OVERVIEW:
 ===============
 1: HD68666/PAL-0105-60940 vitals package allows vital with no date
      
 Problem  
 -------
 When entering data via the Vitals GUI Package, date/time is written to file
 120.5 (GMRV VITAL MEASUREMENT).  If a user enters midnight, data 
 representing time is not written in the record, only the date.  This does 
 not cause problems for Vitals but is causing problems for other packages 
 such as Immunology Case Registry and Clinical Case Registries that use these 
 Vitals records.
      
 Resolution
 ----------
 A modification will be made to routine GMVDCSAV to check the time in the .01
 field [DATE/TIME VITALS TAKEN].  If the time equates to midnight, one    
 second will be added to differentiate the time from all zeros.
      
 A Pre-Install routine (PRE^GMRVP59) will examine the 120.5 file
 (GMRV VITAL MEASUREMENT) for existing records without a time in the .01 
 [DATE/TIME VITALS TAKEN] field.  If no time is found, the pre-install 
 routine will modify the .01 field [DATE/TIME VITALS TAKEN] by adding 
 one second to the time.
  
      
 2: HD68005/BHS-0504-10643 Multiple columns for vitals taken at the same time
           
 Problem
 -------
 When users input data using Vitals/Measurement GUI software and they select 
 multiple patients to enter data on the same date/time and Vitals type,
 the system will append time (one second) to the 'DATE VITALS TAKEN' field. 
 This should not happen as the user's intention is to enter this data as 
 Vitals taken during the same time period.
      
 Resolution
 ----------
 A modification will be made to routine GMVDCSAV to differentiate between
 patients more clearly.
      
  
 ASSOCIATED E3R(s)
 =================
 N/A
  
      
 PARTICIPATING TEST SITES:
 =========================
 Salisbury, NC
 Manchester, NH
 Washington, DC
 W. LA VAMC
      
      
 ROUTINE SUMMARY
 ===============
 The following routines are included in this patch.  The second line of each
 of these routines now looks like:
  
     ;;5.0;GEN. MED. REC. - VITALS;**[Patch List]**;Apr 15, 2003
     
 Integrity Checking Tools:
   
                  CHECK^XTSUMBLD results
     
     Routine       Old       New      Patch List
     =======       ===       ===      ==========
     GMVDCSAV      5064642   5389066     **9**
     GMRVP59       none      1530568     **9**
      
  
                  CHECK1^XTSUMBLD results
  
     Routine       Old       New      Patch List
     =======       ===       ===      ==========
     GMVDCSAV      17175551  19291667    **9**
     GMRVP59       none      2736545     **9**
      
  
 INSTALLATION INSTRUCTIONS
 =========================
      
 This patch can be installed at any time.  Users do not need to be off
 the system.  Install time will be less than 2 minutes.
      
  1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note:
     TEXT PRINT/DISPLAY option in the PackMan menu will display the
     patch text only].
      
  2. From the Kernel Installation and Distribution System (KIDS)
     menu, select the Installation menu.
      
  3. From this menu, you may elect to use the following options:
     (when prompted for INSTALL NAME, enter GMRV*5.0*9)
      
     a.  Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch.  It will
         NOT backup any other changes such as DDs or templates.
     b.  Compare Transport Global to Current System  - this option
         will allow you to view all changes that will be made when
         the patch is installed.  It compares all components of the
         patch (routines, DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are
         in the transport global.
     d.  Print Transport Global - this option will allow you to view
         the components of the KIDS build.
      
  4. Use the Install Package(s) option and select the package
     GMRV*5.0*9.
      
  5. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO
      
  7. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond NO.
      
 ****SPECIAL NOTE *****
      
 During installation, the Pre-init routine will traverse through file 120.5
 (GMRV VITAL MEASUREMENT) and correct any record where the time is recorded  
 as midnight by adding 1 second to the time. 
  
 The ^XTMP global will contain the entries of any corrected records in the
 following format:
      
 ^XTMP("GMRVP59",$J,120.5,GMRIEN)=date.time before^date.time after
 where GMRIEN is the internal entry number of the record being modified. 
      
 The ^XTMP("GMRVP59") global will be purged 90 days after this installation.

Routine Information:
====================
Routine Name: GMRVP59
Routine Name: GMVDCSAV

=============================================================================
User Information:
Entered By  : MCNEILE,KEN                   Date Entered  : JAN 25, 2005
Completed By: WERNER,GARY                   Date Completed: OCT 06, 2005
Released By : MONTGOMERY,ALAN               Date Released : OCT 13, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
