$TXT Created by VARGAS,ALBERTO at DMSCACHE.ISC-BIRM.VA.GOV  (KIDS) on Friday, 01/19/07 at 07:10
=============================================================================
Run Date: FEB 22, 2007                     Designation: PSO*7*252
Package : PSO - OUTPATIENT PHARMACY           Priority: Mandatory
Version : 7       SEQ #229                      Status: Released
                  Compliance Date: MAR 25, 2007
=============================================================================

Associated patches: (v)PSO*7*213   <<= must be installed BEFORE `PSO*7*252'
                    (v)PSO*7*229   <<= must be installed BEFORE `PSO*7*252'

Subject: ENCAPSULATION FOLLOW-UP

Category: 
  - Routine
  - Enhancement (Mandatory)

Description:
============

 This patch includes two new routines, PSO52EX and PSO52B.  It also
 enhances functionality and resolves two problems in PSO52API.
  
 PSO52EX is a new routine containing two Application Program Interfaces
 (APIs).  The first API is named EXTRACT.  EXTRACT retrieves data from the
 "AL" and "AM" cross references within the PRESCRIPTION file (#52).  
 EXTRACT requires three parameters: SDATE, EDATE, and LIST.  SDATE is the
 start date to retrieve data from.  EDATE is the end date to retrieve data
 from.  LIST is the name that is used to subscript the returned data into a
 ^TMP global.  Once these values are set by the user, EXTRACT will then
 extract all original fill information.  If a selected patient also has
 refill or partial fill information on record, that information will also
 be returned and subscripted accordingly.  The output is stored on the ^TMP
 global.  The second API is named REF.  REF also requires the same three
 parameters: SDATE, EDATE, and LIST.  It will retrieve information stored
 on the "AD" cross reference in the PRESCRIPTION file (#52) and return it
 to the ^TMP global. Refer to Forum DBIA 4902 for complete information.
  
 PSO52B is a new routine that contains a number of subroutines that have 
 been moved from PSO52API.  This was done to ensure that PSO52API will 
 continue to be within Programming Standards and Conventions (SAC) routine 
 size limits.  PSO52B also enhances the RX^PSO52API component by retrieving
 International Classification of Diseases (ICD) information from the
 PRESCRIPTION file (#52).  The user now has the option to pass in "ICD" in
 the NODE parameter of the RX^PSO52API call and retrieve information
 specific to the patient(s) concerning their ICD. 
  
 Refer to the API manual for further instruction on the use of these APIs.
  
 This patch also corrects two other issues within PSO52API.  Currently if 
 the user passes in only an end date, the API will error.  This patch will
 correct this problem.  Also, when "O" is passed in the NODE parameter to
 retrieve the PHARMACY ORDERABLE ITEM field (#39.2) from the PRESCRIPTION
 file (#52), the code will now return data as stated in the API manual
 without representing the field number in its ^TMP global subscript.
  
  Associated Remedy Tickets:                                      
  ==========================
  N/A
    
  Associated E3Rs:
  ================
  N/A
    
  Test Sites:
  ===========
  Puget Sound HCS, WA
  Oklahoma City, OK
  Louisville, KY
                                                            
  Installation Instructions:
  ==========================
  This patch exports a routine that is a supported reference, so any other
  Vista application can make a call to this routine. For that reason, it is
  recommended that this patch be installed when Vista activity is at a 
  minimum.
   
  Installation of this patch should take no longer than 5 minutes. 
    
  1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
    
  2. From the Kernel Installation & Distribution System menu, select the
     Installation menu.
    
  3. From this menu, you may select to use the following options:
     (when prompted for INSTALL NAME, enter PSO*7.0*252)
    
      a. Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch. It will NOT
         backup any other changes such as DDs or templates.
    
      b. Compare Transport Global to Current System - this option will
         allow you to view all changes that will be made when the patch
         is installed. It compares all components of the patch (routines,
         DDs, templates, etc.).
    
      c. Verify Checksums in Transport Global - this option will ensure
         the integrity of the routines that are in the transport global.
   
  4. Use the Install Package(s) option and select the package PSO*7.0*252.
    
  5. When prompted "Want KIDS to INHIBIT LOGONs during the install? YES//"
     respond NO.
    
  6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//" respond NO. 
    
  7. When prompted "Device: Home//" respond with the correct device and 
     DO NOT queue this to P-Message.
   
  Documentation Retrieval:
  ========================
  Sites may retrieve documentation in one of the following ways:
   
  (1) The preferred method is to FTP the files from
  download.vista.med.va.gov, which will transmit the files from the first
  available FTP server.
   
  (2) Sites may also elect to retrieve documentation directly
  from a specific server as follows:
   Albany          ftp.fo-albany.med.va.gov
   Hines           ftp.fo-hines.med.va.gov
   Salt Lake City  ftp.fo-slc.med.va.gov
   
  The documentation includes:
  
   FILE NAME                        DESCRIPTION
   PHAR_1_API_R0207.PDF             Pharmacy Re-Engineering API Manual
   PSO_7_TM_R0207.PDF               Outpatient Pharmacy Technical Manual
   PSO_7_P252_TM_CP.PDF             Outpatient Pharmacy Technical Manual
                                    Change Pages
   
  Once released, documentation may be retrieved from VISTA Documentation
  Library (VDL) on the Internet at the following address, 
  http://www.va.gov/vdl
   
  Routine Summary:
  ================
  The second line now reads as follows:
   
     <TAB>;;7.0;OUTPATIENT PHARMACY;**[patch list]**;DEC 1997
   
  CHECK^XTSUMBLD results:
   
  Routine     Before Patch     After Patch        Patch List
  ==========================================================
  PSO52API     22323200         19601257         213,229,252
  PSO52B          N/A            5240892                 252
  PSO52EX         N/A            4364622                 252

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSO52API
    Before: B83137859  After: B64959703  **213,229,252**
Routine Name: PSO52B
    Before:       n/a  After:  B9013769  **252**
Routine Name: PSO52EX
    Before:       n/a  After: B11974692  **252**

=============================================================================
User Information:
Entered By  : VARGAS,ALBERTO                Date Entered  : JUL 13, 2006
Completed By: GOYAL,NIHARIKA                Date Completed: FEB 15, 2007
Released By : BARRON,LUANNE                 Date Released : FEB 22, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
