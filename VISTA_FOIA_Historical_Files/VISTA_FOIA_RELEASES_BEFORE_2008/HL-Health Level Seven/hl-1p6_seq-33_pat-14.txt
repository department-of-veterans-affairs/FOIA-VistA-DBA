$TXT Created by CLEMENS,JOHN at KERNEL.ISC-SF.VA.GOV  (KIDS) on WEDNESDAY, 09/23/98 at 08:50
=============================================================================
Run Date: OCT 20, 1998                     Designation: HL*1.6*14
Package : HL - HEALTH LEVEL SEVEN            Priority: Mandatory
Version : 1.6        SEQ #33                    Status: Released
=============================================================================

Associated patches: (v)XU*8*43         install with patch       `HL*1.6*14'
                    (v)LA*5.2*44       install with patch       `HL*1.6*14'

Subject: Dynamic Addressing/Subscription Registry

Category: 
  - Enhancement (Mandatory)
  - Routine
  - Data Dictionary

Description: 
============

  
 HL*1.6*14 introduces the following new features as part of the CIRN project
 and addresses a number of NOIS related issues:
  
 1.  Dynamic addressing of messages
 2.  Subscription Control (new file and APIs)
 3.  Mapping of logical links to institutions (and related api's) 
 4.  Auto-restart of logical links
 5.  A new option to shut down all logical links
 6.  HL7 reference file updates to support HEALTH LEVEL SEVEN, 
     Version 2.3
 7.  Performance enhancements to the Inbound Filer
 8.  Improves locking behavior in file 870. Concurrent enqueues, dequeues
     and purge activity could result in loss of filers or links
     on busy systems.
  
 DEVELOPERS: The documentation (including APIs) for using dynamic
 addressing, the new subscription registry, and mapping logical links to
 institutions is available in the new "DHCP HL7 DEVELOPER MANUAL: DYNAMIC
 ADDRESSING SUPPLEMENT" manual. The PDF version of this manual, in file
 HL71_6P14.PDF, is available from the standard anonymous directories:
  
   ftp://152.129.1.110/SOFTWARE/
   ftp://152.127.1.5/SOFTWARE/
   ftp://152.131.2.1/SOFTWARE/
  
 The PDF version of this manual is also available from the HL7 home page on
 the VISTA Software Development web server:
  
   http://www.vista.med.va.gov/softserv/infrastr.uct/hl7/
  
 RELATED NOIS REPORTS:
 LOU-1196-41719
 CTX-1196-70249
 BRX-1096-12263
 SDC-1096-62229
 DUB-1096-31061
 DAY-1096-40376
 DAY-0496-41961
  
 A. Installation Instructions
  
 1. Stop all incoming and outgoing filers using the HL7 options:
              Stop all incoming filers 
              Stop all outgoing filers
  
 2. Stop all logical links using the HL7 option:
              Stop LLP
  
 3. Create and place the new global, ^HLS. This will be the storage
 location for file 774, SUBSCRIPTION CONTROL.
  
  
 4. If mapping is enabled for the 'HL' namespace at VMS sites, disable
    mapping for these routines.
  
  
 5. Use the INSTALL/CHECK MESSAGE option on the PackMan menu. This
 option loads the KIDS package into a Transport global onto your
 system.
  
 6. Use KIDS to install the Transport global as follows:
  
 On the KIDS menu, under the Installation menu, use the following
 options:
  
     Verify Checksums in Transport Global
     Print Transport Global
     Compare Transport Global to Current System
     Backup a Transport Global
     Install Package(s) (HL*1.6*14)
  
 MSM sites - Answer Yes to the question "Want to MOVE routines to
 other CPUs?". Enter the names of your Compute and Print server(s).
 move the routines to the other servers.
  
 AXP sites - Answer No to this question.
  
  
 7. At the completion of the install:
  
        Using Fileman, edit the AUTOSTART field of file 870. Set this to
 '1' if you want your logical links to automatically restart after a system
 reboot.
  
        Using the Taskman option, Schedule/Unschedule options, select the
 new option, Restart All Links and Filers, and place an 'S' in the SPECIAL
 QUEUEING field.
  
        Invoke the new HL7 option, Restart All Links and Filers, to bring
 the HL7 package back on line. Remember this will only restart the links
 that are 'autostart' enabled.
  
 B. DOCUMENTATION OF NEW FEATURES
  
 The documentation for the following new features is available from the
 VISTA Software Development web server (www.vista.med.va.gov):
  
 1.  Dynamic addressing of messages
 2.  Subscription Control (new file and APIs)
 3.  Mapping of logical links to institutions (and related api's) 
  
 To access the documentation, from the main page of the web server, choose
 the following links:
  
   OpenVista 
     VISTA HL7 Package
       Documentation
  
 The documentation for the following new features is contained below:
  
 1.  Auto-restart of logical links
 2.  New option to shut down all logical links
 3.  HL7 reference file updates to support HEALTH LEVEL SEVEN, 
     Version 2.3
  
 ========================================================================
 1. Auto-restart of logical links
  
 All HL7 background jobs will now be automatically restarted after a system
 shutdown using the new option below:
  
 NAME: HL TASK RESTART                   MENU TEXT: Restart All Links and Filers
   TYPE: run routine                     CREATOR: CLEMENS,JOHN
   PACKAGE: HEALTH LEVEL SEVEN
  DESCRIPTION:   This is a Taskman "startup" option used to restart all HL7
  Logical Links and the default number of inbound and outbound filers after a
  system reboot.
  
 NOTE:
  
 The new field, AUTOSTART, has been added to the HL LOGICAL LINK file and
 must be enabled or disabled for all links in your configuration. The
 default is DISABLED.
  
 2. New Option to Shut Down All Logical Links
  
 NAME: HL STOP ALL LINKS                 MENU TEXT: Shut Down All Logical Links
   TYPE: run routine                     CREATOR: CLEMENS,JOHN
   PACKAGE: HEALTH LEVEL SEVEN
  DESCRIPTION:   This option will request a shutdown of all Logical Links.  
   ROUTINE: LLP^HLCS2
   UPPERCASE MENU TEXT: SHUT DOWN ALL LOGICAL LINKS
  
 3.  HL7 reference file updates to support HEALTH LEVEL SEVEN, 
     Version 2.3
  
 This patch allows developers to build HL7 version 2.3 interfaces.
  
 ========================================================================
  
 C. FILE UPDATES 
  
 1. SUPPORT FOR HEALTH LEVEL SEVEN, VERSION 2.3, DRAFT 2
 The following HL7 reference files have been updated to support the latest
 information available regarding the 2.3 standard.
  
 771.2  HL7 MESSAGE TYPE
 771.3  HL7 SEGMENT TYPE
 771.4  HL7 DATA TYPE
 771.5  HL7 VERSION
 779.001        HL7 EVENT TYPE CODE
  
 2. PROTOCOL FILE (101)-NEW FIELD
 774       ROUTING LOGIC (K), [774;E1,245]
  
 3. HL LOGICAL LINK (870)-NEW FIELD
 .02       INSTITUTION (P4'), [0;2]
 .03       DOMAIN (P4.2'), [0;7]
 4.5       AUTOSTART (S), [0;6]
  
 D. ROUTINE UPDATES
         KRN,KDE   07/16/98       FIRST LINE LIST:
 HLCS      ;ALB/RJS,MTC,JRP - COMMUNICATIONS SERVER - ;07/08/98  08:07
            ;;1.6;HEALTH LEVEL SEVEN;**2,9,14**;Oct 13, 1995
 HLCS2     ;SF/JC - More Communication Server utils ;06/11/98  08:34
            ;;1.6;HEALTH LEVEL SEVEN;**14**;29-Jan-97 14:25
 HLCSDR    ;ALB/RJS - INITIALIZE VARIABLES AND OPEN DEVICE FOR RECEIVER
 ;04/14/98
   15:41
            ;;1.6;HEALTH LEVEL SEVEN;**2,14**;Oct 13, 1995
 HLCSIN    ;ALB/JRP - INCOMING FILER;01-MAY-95 ;05/07/98  15:20
            ;;1.6;HEALTH LEVEL SEVEN;**2,30,14**;Oct 13, 1995
 HLCSQUE   ;ALB/MFK HL7 UTILITY FUNCTIONS - 10/4/94 11AM ;05/11/98  15:13
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLCSQUE1  ;ALB/MFK HL7 UTILITY FUNCTIONS - 10/4/94 11AM ;05/11/98  14:46
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLDTIW02  ;ALB/JRP - INTERFACE WORKBENCH SCREEN # 2;03-MAR-95 ;06/30/98
 15:22
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLDTIW04  ;ALB/JRP - INTERFACE WORKBENCH SCREEN # 4;24-FEB-95 ;06/30/98
 16:40
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLDTIW2A  ;ALB/JRP - INTERFACE WORKBENCH SCREEN # 2 ROLLOVER;03-MAR-95
 ;07/10/98
   14:06
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLDTIW2B  ;ALB/JRP - INTERFACE WORKBENCH SCREEN # 2 ROLLOVER;03-MAR-95
 ;07/10/98
   16:19
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLDTIW2C  ;ALB/JRP - INTERFACE WORKBENCH SCREEN # 2 ROLLOVER;03-MAR-95
 ;07/10/98
   16:43
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLDTIWP1  ;ALB/JRP - INTERFACE WORKBENCH PROTOCOLS;15-FEB-94 ;07/13/98
 10:08
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLDTIWP3  ;ALB/JRP - INTERFACE WORKBENCH PROTOCOLS;16-FEB-94 ;07/13/98
 10:30
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLP14PRE  ;SFIRMFO/JC - HL7 PATCH 14 PRE-INIT ;03/05/98  11:44
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
 HLSUB     ;IRMFO-SF/JC - Subscription Registry ;02/12/98  15:31
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Jan 29, 1997
 HLTP      ;AISC/SAW-Transaction Processor Module ;04/11/98  15:32
            ;;1.6;HEALTH LEVEL SEVEN;**14**;Oct 13, 1995
  
  
               16 ROUTINES
  
  
 F. ROUTINE CHECKSUMS
  
 From CHECK^XTSUMBLD        BEFORE                AFTER
 ===================
 HLP14PRE                   **NEW**               value = 208162
 HLCS                       5044367               value = 5666872
 HLCS2                      **NEW**               value = 3197473
 HLSUB                      **NEW**               value = 4535863
 HLTP                       5313409               value = 5532648
 HLCSDR                     3597126               value = 3946224
 HLCSIN                     1665942               value = 2120979
 HLCSQUE                    4277953               value = 4308358
 HLCSQUE1                   1091487               value = 1150239
 HLDTIW02                   3113507               value = 3456618
 HLDTIW04                   7467021               value = 7913363
 HLDTIW2A                   2299262               value = 4178875
 HLDTIW2B                   3939992               value = 5008365
 HLDTIW2C                   5265559               value = 5280954
 HLDTIWP1                   7858585               value = 8445958
 HLDTIWP3                   8640942               value = 8732228

Routine Information:
====================

Routine Name:
  - HLCS


Routine Checksum:

Routine Name:
  - HLCS2


Routine Checksum:

Routine Name:
  - HLCSDR


Routine Checksum:

Routine Name:
  - HLP14PRE


Routine Checksum:

Routine Name:
  - HLSUB


Routine Checksum:

Routine Name:
  - HLTP


Routine Checksum:

Routine Name:
  - HLUTIL3


Routine Checksum:

Routine Name:
  - HLCSIN


Routine Checksum:

Routine Name:
  - HLCSQUE


Routine Checksum:

Routine Name:
  - HLCSQUE1


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : CLEMENS,JOHN                   Date Entered : SEP 23, 1996
Completed By: DIMICELI,RON                  Date Completed: OCT 20, 1998
Released By : HENDRY,MICHAEL                Date Released : OCT 20, 1998
=============================================================================


Packman Mail Message:
=====================

$END TXT
