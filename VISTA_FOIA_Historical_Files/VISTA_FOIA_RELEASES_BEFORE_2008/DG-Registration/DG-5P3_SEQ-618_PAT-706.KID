Released DG*5.3*706 SEQ #618
Extracted from mail message
**KIDS**:DG*5.3*706^

**INSTALL NAME**
DG*5.3*706
"BLD",6179,0)
DG*5.3*706^REGISTRATION^0^3060406^y
"BLD",6179,4,0)
^9.64PA^^
"BLD",6179,"KRN",0)
^9.67PA^8989.52^19
"BLD",6179,"KRN",.4,0)
.4
"BLD",6179,"KRN",.401,0)
.401
"BLD",6179,"KRN",.402,0)
.402
"BLD",6179,"KRN",.403,0)
.403
"BLD",6179,"KRN",.5,0)
.5
"BLD",6179,"KRN",.84,0)
.84
"BLD",6179,"KRN",3.6,0)
3.6
"BLD",6179,"KRN",3.8,0)
3.8
"BLD",6179,"KRN",9.2,0)
9.2
"BLD",6179,"KRN",9.8,0)
9.8
"BLD",6179,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6179,"KRN",9.8,"NM",1,0)
DGEEREIM^^0^B9008683
"BLD",6179,"KRN",9.8,"NM","B","DGEEREIM",1)

"BLD",6179,"KRN",19,0)
19
"BLD",6179,"KRN",19.1,0)
19.1
"BLD",6179,"KRN",101,0)
101
"BLD",6179,"KRN",409.61,0)
409.61
"BLD",6179,"KRN",771,0)
771
"BLD",6179,"KRN",870,0)
870
"BLD",6179,"KRN",8989.51,0)
8989.51
"BLD",6179,"KRN",8989.52,0)
8989.52
"BLD",6179,"KRN",8994,0)
8994
"BLD",6179,"KRN","B",.4,.4)

"BLD",6179,"KRN","B",.401,.401)

"BLD",6179,"KRN","B",.402,.402)

"BLD",6179,"KRN","B",.403,.403)

"BLD",6179,"KRN","B",.5,.5)

"BLD",6179,"KRN","B",.84,.84)

"BLD",6179,"KRN","B",3.6,3.6)

"BLD",6179,"KRN","B",3.8,3.8)

"BLD",6179,"KRN","B",9.2,9.2)

"BLD",6179,"KRN","B",9.8,9.8)

"BLD",6179,"KRN","B",19,19)

"BLD",6179,"KRN","B",19.1,19.1)

"BLD",6179,"KRN","B",101,101)

"BLD",6179,"KRN","B",409.61,409.61)

"BLD",6179,"KRN","B",771,771)

"BLD",6179,"KRN","B",870,870)

"BLD",6179,"KRN","B",8989.51,8989.51)

"BLD",6179,"KRN","B",8989.52,8989.52)

"BLD",6179,"KRN","B",8994,8994)

"BLD",6179,"QUES",0)
^9.62^^
"BLD",6179,"REQB",0)
^9.611^1^1
"BLD",6179,"REQB",1,0)
DG*5.3*672^2
"BLD",6179,"REQB","B","DG*5.3*672",1)

"MBREQ")
0
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,20,0)
^9.402P^^
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2930813
"PKG",5,22,1,"PAH",1,0)
706^3060406
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","DGEEREIM")
0^1^B9008683^B8913958
"RTN","DGEEREIM",1,0)
DGEEREIM ;ALB/BRM;Reimbursable Primary Eligibility Code Report ; 5/23/05 11:04am
"RTN","DGEEREIM",2,0)
 ;;5.3;Registration;**672,706**;Aug 13,1993
"RTN","DGEEREIM",3,0)
 ;;
"RTN","DGEEREIM",4,0)
 ; This routine will identify and report any veteran who has a
"RTN","DGEEREIM",5,0)
 ; Reimbursable Insurance Primary Eligibility Code and who is not
"RTN","DGEEREIM",6,0)
 ; deceased.
"RTN","DGEEREIM",7,0)
 ;
"RTN","DGEEREIM",8,0)
QUETASK ; Queue the DMZ/Reimbursable Stats job
"RTN","DGEEREIM",9,0)
 N TXT,ZTRTN,ZTDESC,ZTSK,ZTIO,ZTDTH,POP,IO,IOBS,IOF,IOHG,IOM,ION,IOPAR
"RTN","DGEEREIM",10,0)
 N IOS,IOSL,IOST,IOT,IOUPAR,IOXY,%ZIS,ZTSAVE
"RTN","DGEEREIM",11,0)
 K ^TMP($J,"DGEEREIM")
"RTN","DGEEREIM",12,0)
 S %ZIS="QM" D ^%ZIS I $G(POP) W !,"Job Terminated!" Q
"RTN","DGEEREIM",13,0)
 I $D(IO("Q")) D  Q
"RTN","DGEEREIM",14,0)
 .S ZTRTN="LOOP^DGEEREIM",ZTDTH=$$NOW^XLFDT()
"RTN","DGEEREIM",15,0)
 .S ZTDESC="REIMBURSABLE INSURANCE PRIMARY ELIG CODE JOB"
"RTN","DGEEREIM",16,0)
 .D ^%ZTLOAD
"RTN","DGEEREIM",17,0)
 .S TXT=$S($G(ZTSK):"Task: "_ZTSK_" Queued.",1:"Error: Process not queued!")
"RTN","DGEEREIM",18,0)
 .D HOME^%ZIS
"RTN","DGEEREIM",19,0)
 .W !,TXT
"RTN","DGEEREIM",20,0)
 ;
"RTN","DGEEREIM",21,0)
LOOP ; entry point
"RTN","DGEEREIM",22,0)
 N QFLG,DFN,ELIG,QUIT,RCNT,RDT,ZZ
"RTN","DGEEREIM",23,0)
 N X,X1,X2,EC81,PRIMEC,%,CRT,DATA,DIRUT,EC8,LINE,NAME,PAGE
"RTN","DGEEREIM",24,0)
 ; get local codes assigned to the national Reimbursible code
"RTN","DGEEREIM",25,0)
 S EC8=$O(^DIC(8.1,"B","REIMBURSABLE INSURANCE",""))
"RTN","DGEEREIM",26,0)
 S EC81=""
"RTN","DGEEREIM",27,0)
 F  S EC81=$O(^DIC(8,"D",EC8,EC81)) Q:'EC81  S ELIG(EC81)=""
"RTN","DGEEREIM",28,0)
 ; loop through patient records
"RTN","DGEEREIM",29,0)
 S DFN=0
"RTN","DGEEREIM",30,0)
 F  S DFN=$O(^DPT(DFN)) Q:'DFN  D
"RTN","DGEEREIM",31,0)
 .; quit if deceased
"RTN","DGEEREIM",32,0)
 .Q:$P($G(^DPT(DFN,.35)),"^")
"RTN","DGEEREIM",33,0)
 .;check for Primary EC of Reimbursable Insurance
"RTN","DGEEREIM",34,0)
 .S PRIMEC=$P($G(^DPT(DFN,.36)),"^"),EC81="",QFLG=0
"RTN","DGEEREIM",35,0)
 .F  S EC81=$O(ELIG(EC81)) Q:(QFLG!'EC81)  D
"RTN","DGEEREIM",36,0)
 ..Q:PRIMEC'=EC81
"RTN","DGEEREIM",37,0)
 ..S ^TMP($J,"DGEEREIM","RCNT")=$G(^TMP($J,"DGEEREIM","RCNT"))+1,QFLG=1
"RTN","DGEEREIM",38,0)
 ..S SSN=$P($G(^DPT(DFN,0)),"^",9),NAME=$P($G(^DPT(DFN,0)),"^")
"RTN","DGEEREIM",39,0)
 ..S ^TMP($J,"DGEEREIM","DATA",SSN)=NAME_"^"_$$EXTERNAL^DILFD(2,.361,"",PRIMEC)
"RTN","DGEEREIM",40,0)
 U IO
"RTN","DGEEREIM",41,0)
 D PSET,REPORT
"RTN","DGEEREIM",42,0)
 D ^%ZISC,HOME^%ZIS
"RTN","DGEEREIM",43,0)
 Q
"RTN","DGEEREIM",44,0)
PSET ; set up printer variables
"RTN","DGEEREIM",45,0)
 N ZZ
"RTN","DGEEREIM",46,0)
 S CRT=$S($E(IOST,1,2)="C-":1,1:0)
"RTN","DGEEREIM",47,0)
 S (RDT,Y)=""
"RTN","DGEEREIM",48,0)
 F ZZ=1:1:IOM S $P(LINE,"-",ZZ)=""
"RTN","DGEEREIM",49,0)
 D NOW^%DTC S Y=% X ^DD("DD")
"RTN","DGEEREIM",50,0)
 S RDT=$P(Y,"@",1)_" @ "_$P($P(Y,"@",2),":",1,2)
"RTN","DGEEREIM",51,0)
 S RCNT=+$G(^TMP($J,"DGEEREIM","RCNT"))
"RTN","DGEEREIM",52,0)
 Q
"RTN","DGEEREIM",53,0)
HDR ; Report Header
"RTN","DGEEREIM",54,0)
 W !,?((IOM-40)\2),"Reimbursable Insurance Primary EC Report"
"RTN","DGEEREIM",55,0)
 W !,?((IOM-22-$L(RDT))\2),"Date/Time Report Run: ",RDT
"RTN","DGEEREIM",56,0)
 W !!,?((IOM-35-$L(RCNT))\2),"Total Patients with RI Primary EC: ",RCNT
"RTN","DGEEREIM",57,0)
 W !,LINE
"RTN","DGEEREIM",58,0)
 W !!,?5,"SSN",?17,"NAME",?50,"PRIMARY ELIG. CODE"
"RTN","DGEEREIM",59,0)
 W !,?5,"---------",?17,"------------------------------"
"RTN","DGEEREIM",60,0)
 W ?50,"-------------------"
"RTN","DGEEREIM",61,0)
 Q
"RTN","DGEEREIM",62,0)
REPORT ;report results
"RTN","DGEEREIM",63,0)
 N SSN
"RTN","DGEEREIM",64,0)
 I CRT,+$G(PAGE)=0 W @IOF
"RTN","DGEEREIM",65,0)
 S PAGE=1 D HDR
"RTN","DGEEREIM",66,0)
 S SSN="" F  S SSN=$O(^TMP($J,"DGEEREIM","DATA",SSN)) Q:SSN']""!($G(QUIT))  D
"RTN","DGEEREIM",67,0)
 .S DATA=$G(^TMP($J,"DGEEREIM","DATA",SSN))
"RTN","DGEEREIM",68,0)
 .I $Y>(IOSL-5) W:'$G(CRT) !,?68,"Page: "_PAGE D:$G(CRT) PAUSE Q:$G(QUIT)  W @IOF D HDR S PAGE=PAGE+1
"RTN","DGEEREIM",69,0)
 .W !?5,SSN,?17,$P(DATA,"^"),?50,$P(DATA,"^",2)
"RTN","DGEEREIM",70,0)
 Q
"RTN","DGEEREIM",71,0)
 ;
"RTN","DGEEREIM",72,0)
PAUSE ;  Screen pause.  Sets QUIT=1 if user decides to quit.        
"RTN","DGEEREIM",73,0)
 N DIR,X,Y
"RTN","DGEEREIM",74,0)
 F  Q:$Y>(IOSL-5)  W !
"RTN","DGEEREIM",75,0)
 W !,?68,"Page: "_PAGE,!
"RTN","DGEEREIM",76,0)
 S DIR(0)="E" D ^DIR I ('(+Y))!$D(DIRUT) S QUIT=1
"RTN","DGEEREIM",77,0)
 Q
"VER")
8.0^22.0
"BLD",6179,6)
^618
**END**
**END**
