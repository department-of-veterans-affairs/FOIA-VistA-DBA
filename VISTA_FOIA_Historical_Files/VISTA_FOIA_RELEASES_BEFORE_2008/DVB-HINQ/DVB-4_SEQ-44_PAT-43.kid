Released DVB*4*43 SEQ #44
Extracted from mail message
**KIDS**:DVB*4.0*43^

**INSTALL NAME**
DVB*4.0*43
"BLD",4450,0)
DVB*4.0*43^HINQ^0^3030910^y
"BLD",4450,1,0)
^^2^2^3030609^
"BLD",4450,1,1,0)
Errors occur when processing INDIVIDUAL HINQ'S, VIEWING ALERTS, AND 
"BLD",4450,1,2,0)
PRINTING THE HINQ SUSPENSE FILE.
"BLD",4450,4,0)
^9.64PA^^
"BLD",4450,"ABPKG")
n
"BLD",4450,"KRN",0)
^9.67PA^8989.52^19
"BLD",4450,"KRN",.4,0)
.4
"BLD",4450,"KRN",.4,"NM",0)
^9.68A^^
"BLD",4450,"KRN",.401,0)
.401
"BLD",4450,"KRN",.401,"NM",0)
^9.68A^^
"BLD",4450,"KRN",.402,0)
.402
"BLD",4450,"KRN",.402,"NM",0)
^9.68A^^
"BLD",4450,"KRN",.403,0)
.403
"BLD",4450,"KRN",.403,"NM",0)
^9.68A^^
"BLD",4450,"KRN",.5,0)
.5
"BLD",4450,"KRN",.5,"NM",0)
^9.68A^^
"BLD",4450,"KRN",.84,0)
.84
"BLD",4450,"KRN",.84,"NM",0)
^9.68A^^
"BLD",4450,"KRN",3.6,0)
3.6
"BLD",4450,"KRN",3.6,"NM",0)
^9.68A^^
"BLD",4450,"KRN",3.8,0)
3.8
"BLD",4450,"KRN",3.8,"NM",0)
^9.68A^^
"BLD",4450,"KRN",9.2,0)
9.2
"BLD",4450,"KRN",9.2,"NM",0)
^9.68A^^
"BLD",4450,"KRN",9.8,0)
9.8
"BLD",4450,"KRN",9.8,"NM",0)
^9.68A^4^3
"BLD",4450,"KRN",9.8,"NM",1,0)
DVBHT1^^0^B20297795
"BLD",4450,"KRN",9.8,"NM",2,0)
DVBHT2^^0^B6530274
"BLD",4450,"KRN",9.8,"NM",4,0)
DVBHQD2^^0^B10086754
"BLD",4450,"KRN",9.8,"NM","B","DVBHQD2",4)

"BLD",4450,"KRN",9.8,"NM","B","DVBHT1",1)

"BLD",4450,"KRN",9.8,"NM","B","DVBHT2",2)

"BLD",4450,"KRN",19,0)
19
"BLD",4450,"KRN",19,"NM",0)
^9.68A^^
"BLD",4450,"KRN",19.1,0)
19.1
"BLD",4450,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",4450,"KRN",101,0)
101
"BLD",4450,"KRN",101,"NM",0)
^9.68A^^
"BLD",4450,"KRN",409.61,0)
409.61
"BLD",4450,"KRN",409.61,"NM",0)
^9.68A^^
"BLD",4450,"KRN",771,0)
771
"BLD",4450,"KRN",771,"NM",0)
^9.68A^^
"BLD",4450,"KRN",870,0)
870
"BLD",4450,"KRN",870,"NM",0)
^9.68A^^
"BLD",4450,"KRN",8989.51,0)
8989.51
"BLD",4450,"KRN",8989.51,"NM",0)
^9.68A^^
"BLD",4450,"KRN",8989.52,0)
8989.52
"BLD",4450,"KRN",8989.52,"NM",0)
^9.68A^^
"BLD",4450,"KRN",8994,0)
8994
"BLD",4450,"KRN",8994,"NM",0)
^9.68A^^
"BLD",4450,"KRN","B",.4,.4)

"BLD",4450,"KRN","B",.401,.401)

"BLD",4450,"KRN","B",.402,.402)

"BLD",4450,"KRN","B",.403,.403)

"BLD",4450,"KRN","B",.5,.5)

"BLD",4450,"KRN","B",.84,.84)

"BLD",4450,"KRN","B",3.6,3.6)

"BLD",4450,"KRN","B",3.8,3.8)

"BLD",4450,"KRN","B",9.2,9.2)

"BLD",4450,"KRN","B",9.8,9.8)

"BLD",4450,"KRN","B",19,19)

"BLD",4450,"KRN","B",19.1,19.1)

"BLD",4450,"KRN","B",101,101)

"BLD",4450,"KRN","B",409.61,409.61)

"BLD",4450,"KRN","B",771,771)

"BLD",4450,"KRN","B",870,870)

"BLD",4450,"KRN","B",8989.51,8989.51)

"BLD",4450,"KRN","B",8989.52,8989.52)

"BLD",4450,"KRN","B",8994,8994)

"BLD",4450,"QUES",0)
^9.62^^
"BLD",4450,"REQB",0)
^9.611^^0
"MBREQ")
0
"PKG",119,-1)
1^1
"PKG",119,0)
HINQ^DVB^HINQ(Hospital Inquiry)
"PKG",119,20,0)
^9.402P^^
"PKG",119,22,0)
^9.49I^1^1
"PKG",119,22,1,0)
4.0^2930615^2920421
"PKG",119,22,1,"PAH",1,0)
43^3030910
"PKG",119,22,1,"PAH",1,1,0)
^^2^2^3030910
"PKG",119,22,1,"PAH",1,1,1,0)
Errors occur when processing INDIVIDUAL HINQ'S, VIEWING ALERTS, AND 
"PKG",119,22,1,"PAH",1,1,2,0)
PRINTING THE HINQ SUSPENSE FILE.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","DVBHQD2")
0^4^B10086754
"RTN","DVBHQD2",1,0)
DVBHQD2 ;ALB/CMM - INDIVIDUAL HINQ ;09/21/94 [ 09/23/94  1:23 PM ]
"RTN","DVBHQD2",2,0)
 ;;4.0;HINQ;**22,33,34,43**;03/25/92 
"RTN","DVBHQD2",3,0)
 ;
"RTN","DVBHQD2",4,0)
KTO K TRY,CN,DVBZ0,DVBZ1 Q
"RTN","DVBHQD2",5,0)
 ;
"RTN","DVBHQD2",6,0)
DOT U IO(0) W "." U IO Q
"RTN","DVBHQD2",7,0)
 ;
"RTN","DVBHQD2",8,0)
ABS S Y0=255-Y0 Q:($Y+Y0)<(DVBIOSL-4)
"RTN","DVBHQD2",9,0)
 ;
"RTN","DVBHQD2",10,0)
SROLL Q:DVBIOST'["C-"!($D(DVBJDX))  U IO(0) W !,$C(7),"Press Enter to continue or '^' to quit" R X:DTIME S:'$T X="^" W @DVBIOF S Y0=$Y Q
"RTN","DVBHQD2",11,0)
 ;
"RTN","DVBHQD2",12,0)
REQENT U IO(0) W !,"Request being processed " U IO Q
"RTN","DVBHQD2",13,0)
 ;
"RTN","DVBHQD2",14,0)
RECMAL U IO(0) W !,"Response received and mailed" Q
"RTN","DVBHQD2",15,0)
 ;
"RTN","DVBHQD2",16,0)
LOAD2 ;
"RTN","DVBHQD2",17,0)
 U IO(0) W !!
"RTN","DVBHQD2",18,0)
 I $D(DVBRTC) W $S(DVBRTC>3:"Received 'Missing Character' more than 9 times.",1:"")
"RTN","DVBHQD2",19,0)
 W !,"Try again later."
"RTN","DVBHQD2",20,0)
 S IO=DVBIO U IO(0) K DVBP,DVBMISS S DVBABORT=0
"RTN","DVBHQD2",21,0)
 G ASK^DVBHQD1
"RTN","DVBHQD2",22,0)
 Q
"RTN","DVBHQD2",23,0)
LOAD ;
"RTN","DVBHQD2",24,0)
 U IO(0) W !!
"RTN","DVBHQD2",25,0)
 I $D(DVBRTC) W $S(DVBRTC>3:"Received 'Missing Character' more than 9 times.",1:"")
"RTN","DVBHQD2",26,0)
 U IO(0) W !," Request loaded into the HINQ Suspense file with a status of Pending."
"RTN","DVBHQD2",27,0)
 Q 
"RTN","DVBHQD2",28,0)
RETRY ;
"RTN","DVBHQD2",29,0)
 N ANS
"RTN","DVBHQD2",30,0)
 S DVBRTC=DVBRTC+1 I DVBRTC>3 S DVBNRT="N" Q
"RTN","DVBHQD2",31,0)
 U IO(0) R !!,"Received 'Missing Character' 3 times,",!,"Would you like to try again (Y/N)? Y//",ANS:DTIME
"RTN","DVBHQD2",32,0)
 I ('$T)!(ANS["^")!("N"=$E(ANS))!("n"=$E(ANS)) S DVBNRT="N" Q
"RTN","DVBHQD2",33,0)
 I ANS["?" W !!,"Enter Y to try again or N to Quit",!! G RETRY
"RTN","DVBHQD2",34,0)
 I (ANS="")!("Yy"[$E(ANS)) S DVBNRT="Y",DVBTRY=1 W !! Q
"RTN","DVBHQD2",35,0)
 G RETRY
"RTN","DVBHQD2",36,0)
 ;
"RTN","DVBHQD2",37,0)
SEND K X U IO F Z=1:1:1000 R *X:0 Q:'$T
"RTN","DVBHQD2",38,0)
 W $S('TRY:DVBZ0,1:DVBZ1),$C(13),! S DVBECHO=$P($H,",",2)
"RTN","DVBHQD2",39,0)
 ;
"RTN","DVBHQD2",40,0)
REC ;;;U IO R X:10 S DVBECHO=$P($H,",",2)-DVBECHO I 'DVBTSK D REQENT^DVBHQD2
"RTN","DVBHQD2",41,0)
 ;;;I '$L(X) S DVBABORT=DVBABORT+1 U IO(0) W:'DVBTSK "No response" H 1 Q
"RTN","DVBHQD2",42,0)
 ;
"RTN","DVBHQD2",43,0)
 S F4=5
"RTN","DVBHQD2",44,0)
 F Z=1:1:10 R X(1)#512:33 Q:$L(X(1))&(X(1)'=$C(10))  D:DVBXM DOT
"RTN","DVBHQD2",45,0)
 S F1=$F(X(1),DVBEND) G:F1 OK^DVBHQD1
"RTN","DVBHQD2",46,0)
 ;
"RTN","DVBHQD2",47,0)
 F Z=1:1:4 R X(2)#512:9 Q:$L(X(2))  D:DVBXM DOT
"RTN","DVBHQD2",48,0)
 S F1=$F(X(2),DVBEND) G:F1 OK^DVBHQD1
"RTN","DVBHQD2",49,0)
 S W=2 D CH^DVBHQD1 G:F1 OK^DVBHQD1
"RTN","DVBHQD2",50,0)
 ;
"RTN","DVBHQD2",51,0)
 F Z=1:1:4 R X(3)#512:9 Q:$L(X(3))  D:DVBXM DOT
"RTN","DVBHQD2",52,0)
 S F1=$F(X(3),DVBEND) G:F1 OK^DVBHQD1
"RTN","DVBHQD2",53,0)
 S W=3 D CH^DVBHQD1 G:F1 OK^DVBHQD1
"RTN","DVBHQD2",54,0)
 ;
"RTN","DVBHQD2",55,0)
 F Z=1:1:2 R X(4)#512:2 Q:$L(X(4))  D:DVBXM DOT
"RTN","DVBHQD2",56,0)
 S F1=$F(X(4),DVBEND) G:F1 OK^DVBHQD1
"RTN","DVBHQD2",57,0)
 S W=4 D CH^DVBHQD1 G:F1 OK^DVBHQD1
"RTN","DVBHQD2",58,0)
 ;
"RTN","DVBHQD2",59,0)
 F Z=1:1:2 R X(5)#512:2 Q:$L(X(5))  D:DVBXM DOT
"RTN","DVBHQD2",60,0)
 S F1=$F(X(5),DVBEND) G:F1 OK^DVBHQD1
"RTN","DVBHQD2",61,0)
 S W=5 D CH^DVBHQD1 G:F1 OK^DVBHQD1
"RTN","DVBHQD2",62,0)
 ;
"RTN","DVBHQD2",63,0)
 F Z=1:1:2 R X(6)#512:2 Q:$L(X(6))  D:DVBXM DOT
"RTN","DVBHQD2",64,0)
 S F1=$F(X(6),DVBEND) G:F1 OK^DVBHQD1
"RTN","DVBHQD2",65,0)
 S W=6 D CH^DVBHQD1 G:F1 OK^DVBHQD1
"RTN","DVBHQD2",66,0)
 ;
"RTN","DVBHQD2",67,0)
 F Z=1:1:2 R X(7)#512:2 Q:$L(X(7))  D:DVBXM DOT
"RTN","DVBHQD2",68,0)
 S F1=$F(X(7),DVBEND) G:F1 OK^DVBHQD1
"RTN","DVBHQD2",69,0)
 S W=7 D CH^DVBHQD1 G:F1 OK^DVBHQD1
"RTN","DVBHQD2",70,0)
 ;
"RTN","DVBHQD2",71,0)
 F Z=1:1:2 R X(8)#512:2 Q:$L(X(8))  D:DVBXM DOT
"RTN","DVBHQD2",72,0)
 S F1=$F(X(8),DVBEND) G:F1 OK^DVBHQD1
"RTN","DVBHQD2",73,0)
 S W=8 D CH^DVBHQD1 G:F1 OK^DVBHQD1
"RTN","DVBHQD2",74,0)
 S DVBABORT=DVBABORT+1 Q
"RTN","DVBHT1")
0^1^B20297795
"RTN","DVBHT1",1,0)
DVBHT1 ;ISC-ALBANY/PKE - HINQ alert parser ; 5/10/92
"RTN","DVBHT1",2,0)
 ;;4.0;HINQ;**12,15,20,43**;03/25/92
"RTN","DVBHT1",3,0)
 ;
"RTN","DVBHT1",4,0)
 ;  cn  foldloc   sc diag   comb%   chk   a&a     hb  pension disablity
"RTN","DVBHT1",5,0)
 ; .313,.312/.314,.3731/2.05,.302,.36295,.36205,.36215,.36235,.3025
"RTN","DVBHT1",6,0)
 Q
"RTN","DVBHT1",7,0)
 ;S DVBDATAT(+Y)="",DVBDATA=DVBDATA_"^"_Y
"RTN","DVBHT1",8,0)
MSG S DVBDATA(+Y)="",DVBDATA=$S($L(DVBDATA)>100:DVBDATA,$P(DVBDATA,"^",16):DVBDATA,1:DVBDATA_"^"_Y) Q
"RTN","DVBHT1",9,0)
 ;
"RTN","DVBHT1",10,0)
 ;check on return from HINQUP processing
"RTN","DVBHT1",11,0)
ACHK S DVBNOALR=""
"RTN","DVBHT1",12,0)
 ;called from batch or direct
"RTN","DVBHT1",13,0)
EN Q:'$D(DFN)  Q:'DFN
"RTN","DVBHT1",14,0)
 N X,Y,I,M,N,P
"RTN","DVBHT1",15,0)
 S DVBDATA="^^^^^^^^^"
"RTN","DVBHT1",16,0)
EDT ; DX,DIQ,AA,ENTIT,COMB,CN,FOLD,CHECK
"RTN","DVBHT1",17,0)
 ;
"RTN","DVBHT1",18,0)
 D DX,DIQ,AA,ENTIT,COMB,CN,FOLD,CHECK
"RTN","DVBHT1",19,0)
 I DVBDATA'="^^^^^^^^^" DO
"RTN","DVBHT1",20,0)
 .I '$D(DVBNOALR) D ALERT^DVBHT Q
"RTN","DVBHT1",21,0)
 .S (I,Y)=0 F  S Y=$O(DVBDATA(Y)) Q:'Y  DO
"RTN","DVBHT1",22,0)
 ..S $P(DVBDATA,"^",I+1)=Y,I=I+1
"RTN","DVBHT1",23,0)
 .K DVBNOALR
"RTN","DVBHT1",24,0)
 K DVBENT,DVBSCONN
"RTN","DVBHT1",25,0)
 Q
"RTN","DVBHT1",26,0)
 ;
"RTN","DVBHT1",27,0)
DX Q:'$D(DVBDX)  Q:'$D(DVBDXNO)
"RTN","DVBHT1",28,0)
 S (DVBDXNO,I)=0 F  S I=$O(DVBDX(I)) Q:I=""  S DVBDXNO=DVBDXNO+1
"RTN","DVBHT1",29,0)
 K M F I=1:1:DVBDXNO I $P(DVBDX(I),"^",4) DO  ;SC
"RTN","DVBHT1",30,0)
 .S M(I)=$P(DVBDX(I),"^",2,4)
"RTN","DVBHT1",31,0)
 .I M(I)["X0" S $P(M(I),"^",2,3)="100^1"
"RTN","DVBHT1",32,0)
 .S $P(M(I),"^",2)=+$P(M(I),"^",2)
"RTN","DVBHT1",33,0)
 .I '$D(DVBSCONN) S DVBSCONN=$P(M(I),"^",2) Q
"RTN","DVBHT1",34,0)
 .I DVBSCONN<$P(M(I),"^",2) S DVBSCONN=$P(M(I),"^",2)
"RTN","DVBHT1",35,0)
 S (N,P)=0
"RTN","DVBHT1",36,0)
 F  S N=$O(^DPT(DFN,.372,N)) Q:'N  I $D(^(N,0)) DO
"RTN","DVBHT1",37,0)
 .S M=0
"RTN","DVBHT1",38,0)
 .F  S M=$O(M(M)) Q:'M  I M(M)=^(0) K M(M) Q  ;tag dx+6
"RTN","DVBHT1",39,0)
 .I M Q  ;sc match
"RTN","DVBHT1",40,0)
 .I $P(^(0),"^",3) S P=P+1 ;     tag dx+6,naked ref to ^dpt(dfn,.372,n,0)
"RTN","DVBHT1",41,0)
 I P S Y="3-SC Disabilities" D VER
"RTN","DVBHT1",42,0)
 I $D(M)>9 S Y="3+SC Disabilities" D VER
"RTN","DVBHT1",43,0)
 K I,M,N,P Q
"RTN","DVBHT1",44,0)
 ;
"RTN","DVBHT1",45,0)
VER I DVBDXNO,$D(DVBCAP),$D(DVBBIR),$P(DVBBIR,"^",5)'="Y" S Y="3X1" K M D MSG Q
"RTN","DVBHT1",46,0)
 D MSG Q
"RTN","DVBHT1",47,0)
 ;
"RTN","DVBHT1",48,0)
DIQ ;K DVBDIQ(2)
"RTN","DVBHT1",49,0)
 F LP2=.361,.302,.3025,.312,.313,.314,.36205,.36215,.36235,.36295 S X="DVBDIQ(2,"_DFN_","_LP2_")" K @X
"RTN","DVBHT1",50,0)
 S DR=".302;.3025;.312;.313;.314;.361;.36205;.36215;.36235;.36295"
"RTN","DVBHT1",51,0)
DIQDR S DIC="^DPT(",DA=DFN,DIQ(0)="E",DIQ="DVBDIQ(" D EN^DIQ1 Q
"RTN","DVBHT1",52,0)
 ;
"RTN","DVBHT1",53,0)
 ; I V=0 HBa/oA&A term    V=1 Hospitlize pay HB, A&A entitled
"RTN","DVBHT1",54,0)
 ; I V=2 A&A    V=3 HB    V=" " HB a/o A&A not granted
"RTN","DVBHT1",55,0)
AA I $D(DVBAAHB) S V1=DVBAAHB S V=V1 S:V1>3&(V1<8) V=V1-4
"RTN","DVBHT1",56,0)
 I '$D(DVBAAHB) S V=9
"RTN","DVBHT1",57,0)
 I $D(DVBBAS(1)),$P(DVBBAS(1),"^",6)="E" S V=0 ;terminated pending purge
"RTN","DVBHT1",58,0)
 I DVBDIQ(2,DFN,.36205,"E")="YES","0 9"[V S Y="5-A&A" D MSG
"RTN","DVBHT1",59,0)
 I DVBDIQ(2,DFN,.36205,"E")'="YES","12"[V S Y="5+A&A" D MSG
"RTN","DVBHT1",60,0)
 ;
"RTN","DVBHT1",61,0)
 I DVBDIQ(2,DFN,.36215,"E")="YES","0 9"[V S Y="5-HB" D MSG
"RTN","DVBHT1",62,0)
 I DVBDIQ(2,DFN,.36215,"E")'="YES","13"[V S Y="5+HB" D MSG
"RTN","DVBHT1",63,0)
 Q
"RTN","DVBHT1",64,0)
 ;
"RTN","DVBHT1",65,0)
 ;compensation, pension
"RTN","DVBHT1",66,0)
ENTIT S DVBENT=" " I '$D(DVBCAP),$D(DVBP(1)) S T1=$P(DVBP(1),U,4) I T1'="" S T2=$O(^DVB(395.1,"B",T1,"")) I T2 S DVBENT=$P(^DVB(395.1,T2,0),U,2)_"-"_T1
"RTN","DVBHT1",67,0)
 S Y=0
"RTN","DVBHT1",68,0)
 I DVBDIQ(2,DFN,.36235,"E")="YES" DO
"RTN","DVBHT1",69,0)
 .;terminated pending purge
"RTN","DVBHT1",70,0)
 .I $D(DVBBAS(1)),$P(DVBBAS(1),"^",6)="E" S DVBENT=" "
"RTN","DVBHT1",71,0)
 .I DVBENT["Pension" Q
"RTN","DVBHT1",72,0)
 .S Y="5-Pension"
"RTN","DVBHT1",73,0)
 E  I DVBENT["Pension" S Y="5+Pension"
"RTN","DVBHT1",74,0)
 I Y D MSG
"RTN","DVBHT1",75,0)
 ;
"RTN","DVBHT1",76,0)
 S Y=0
"RTN","DVBHT1",77,0)
 I DVBDIQ(2,DFN,.3025,"E")="YES" DO
"RTN","DVBHT1",78,0)
 .I DVBENT["ompensation" Q
"RTN","DVBHT1",79,0)
 .I DVBENT["Disability" Q
"RTN","DVBHT1",80,0)
 .S Y="5-Compensation"
"RTN","DVBHT1",81,0)
 E  I DVBENT'=" " DO
"RTN","DVBHT1",82,0)
 .I DVBENT["ompensation"!(DVBENT["Disability") S Y="5+Compensation"
"RTN","DVBHT1",83,0)
 I Y D MSG
"RTN","DVBHT1",84,0)
 Q
"RTN","DVBHT1",85,0)
 ;DVBSCONN is biggest SC disability
"RTN","DVBHT1",86,0)
COMB I '$D(DVBSCONN) S Y=""
"RTN","DVBHT1",87,0)
 E  DO
"RTN","DVBHT1",88,0)
 .S Y=DVBSCONN
"RTN","DVBHT1",89,0)
 .I $D(DVBCAP) Q  ;birls
"RTN","DVBHT1",90,0)
 .I DVBENT["Pension" Q
"RTN","DVBHT1",91,0)
 .S Y=$S($D(DVBDXPCT):$S(DVBDXPCT?1N.N:+DVBDXPCT,1:DVBSCONN))
"RTN","DVBHT1",92,0)
 .S DVBSCONN=Y
"RTN","DVBHT1",93,0)
 I DVBDIQ(2,DFN,.302,"E")=Y S Y=0
"RTN","DVBHT1",94,0)
 E  DO
"RTN","DVBHT1",95,0)
 .S Y=0
"RTN","DVBHT1",96,0)
 .;c&p
"RTN","DVBHT1",97,0)
 .I '$D(DVBSCONN)!(DVBENT["ompensation")!(DVBENT["Disability") DO  Q
"RTN","DVBHT1",98,0)
 . .S Y="5?SC Combined %"
"RTN","DVBHT1",99,0)
 .;birls,pension
"RTN","DVBHT1",100,0)
 .I DVBDIQ(2,DFN,.361,"E")["SERVICE CONNECTED",DVBSCONN>49 Q
"RTN","DVBHT1",101,0)
 .I DVBDIQ(2,DFN,.361,"E")["SC LESS THAN",DVBSCONN<50 Q
"RTN","DVBHT1",102,0)
 .S Y="5?SC Combined %"
"RTN","DVBHT1",103,0)
 I Y D MSG
"RTN","DVBHT1",104,0)
 K DVBALERT,DVBSCONN
"RTN","DVBHT1",105,0)
 Q
"RTN","DVBHT1",106,0)
 ;
"RTN","DVBHT1",107,0)
CN I +DVBDIQ(2,DFN,.313,"E")=$S($D(DVBCN):+DVBCN,1:0)
"RTN","DVBHT1",108,0)
 E  S Y="2?Claim #" D MSG
"RTN","DVBHT1",109,0)
 Q
"RTN","DVBHT1",110,0)
 ;  --check in xman
"RTN","DVBHT1",111,0)
FOLD Q:'$D(DVBFL)  S Y=0
"RTN","DVBHT1",112,0)
 I '$D(DVBDIQ(2,DFN,.314,"E")) DO
"RTN","DVBHT1",113,0)
 .I +DVBDIQ(2,DFN,.312,"E")=$S($D(DVBFL):+DVBFL,1:0) Q
"RTN","DVBHT1",114,0)
 .S Y="2?Folder Location"
"RTN","DVBHT1",115,0)
 E  DO  ;pims v5.3  y => abc_ro, 323, or ""
"RTN","DVBHT1",116,0)
 .S Y=$S($D(DVBFL):$S($P(DVBFL,"- ",2)]"":$P(DVBFL,"- ",2),1:DVBFL),1:"")
"RTN","DVBHT1",117,0)
 .I DVBDIQ(2,DFN,.314,"E")=Y Q
"RTN","DVBHT1",118,0)
 .S Y="2?Folder Location"
"RTN","DVBHT1",119,0)
 I Y D MSG
"RTN","DVBHT1",120,0)
 Q
"RTN","DVBHT1",121,0)
 ;
"RTN","DVBHT1",122,0)
CHECK S Y=0
"RTN","DVBHT1",123,0)
 I $D(DVBDIQ(2,DFN,.36295,"E")) DO  ;pims v5.3
"RTN","DVBHT1",124,0)
 .I $D(DVBBAS(1)),$L($P(DVBBAS(1),"^",20)) S Y=$P(DVBBAS(1),"^",20)
"RTN","DVBHT1",125,0)
 .I +DVBDIQ(2,DFN,.36295,"E")=+$S(Y:Y*12,$D(DVBCHECK):DVBCHECK*12,1:"") S Y=0 Q
"RTN","DVBHT1",126,0)
 .S Y="5?VA Check/Net Award"
"RTN","DVBHT1",127,0)
 I Y D MSG
"RTN","DVBHT1",128,0)
 Q
"RTN","DVBHT2")
0^2^B6530274
"RTN","DVBHT2",1,0)
DVBHT2 ;ISC-ALBANY/PKE - HINQ alert parser ; 5/10/92 ; 2/19/03 2:49pm
"RTN","DVBHT2",2,0)
 ;;4.0;HINQ;**12,20,26,43**;03/25/92
"RTN","DVBHT2",3,0)
 ;
"RTN","DVBHT2",4,0)
 ;primary admission only
"RTN","DVBHT2",5,0)
EVENT Q:'$D(^UTILITY("DGPM",$J,1,DGPMDA))  Q:DGPMP'=""
"RTN","DVBHT2",6,0)
 S DVBDIV=0
"RTN","DVBHT2",7,0)
 I $P(^DVB(395,1,"HQ"),"^",13),$P(^DG(43,1,"GL"),"^",2) DO
"RTN","DVBHT2",8,0)
 .S DVBDIV=$S($D(^DIC(42,+$P(DGPMA,"^",6),0)):+$P(^(0),"^",11),1:0)
"RTN","DVBHT2",9,0)
 ;
"RTN","DVBHT2",10,0)
 W:'$G(DGQUIET) !,"Entering a request in the HINQ suspense file..."
"RTN","DVBHT2",11,0)
 S DVBNOWRT="" D EN^DVBHQUT
"RTN","DVBHT2",12,0)
 W:'$G(DGQUIET) "completed."
"RTN","DVBHT2",13,0)
 K DVBNOWRT,DVBDIV Q
"RTN","DVBHT2",14,0)
 ;
"RTN","DVBHT2",15,0)
 ;called from d1
"RTN","DVBHT2",16,0)
IALERT Q:$D(DVBERR)  Q:$D(DVBNETER)  Q:$D(DVBABREV)  Q:'$D(DFN)  Q:'DFN
"RTN","DVBHT2",17,0)
 Q:$P(^DVB(395.5,DFN,0),"^",6)  U IO(0) W !,"Checking alert data "
"RTN","DVBHT2",18,0)
 S XQA(DUZ)="" D EN^DVBHT1 K XQA(DUZ) Q
"RTN","DVBHT2",19,0)
 ;
"RTN","DVBHT2",20,0)
 ;returns xqa(g.mailgroup or g.dvbhinq),y from hinq parameter file
"RTN","DVBHT2",21,0)
MAILGP N ENT,LKV
"RTN","DVBHT2",22,0)
 S ENT=$O(^DVB(395,0)) I ENT="" Q
"RTN","DVBHT2",23,0)
 S Y=0
"RTN","DVBHT2",24,0)
 F  S Y=$O(^DVB(395,ENT,"HQMG",Y)) Q:'Y  D
"RTN","DVBHT2",25,0)
 .S LKV=$P(^DVB(395,ENT,"HQMG",Y,0),"^")
"RTN","DVBHT2",26,0)
 .Q:(LKV="")
"RTN","DVBHT2",27,0)
 .Q:('$D(^XMB(3.8,LKV)))
"RTN","DVBHT2",28,0)
 .I $P(^XMB(3.8,LKV,0),"^")'="" S XQA("G."_$P(^XMB(3.8,LKV,0),"^"))=""
"RTN","DVBHT2",29,0)
 I $D(XQA)'>9 S XQA("G.DVBHINQ")="",Y=$O(^XMB(3.8,"B","DVBHINQ",0))
"RTN","DVBHT2",30,0)
 Q
"RTN","DVBHT2",31,0)
 ;returns xqa(last) or duz requester in suspense file
"RTN","DVBHT2",32,0)
REQUSR S Y=0 F  S Y=$O(^DVB(395.5,DFN,1,Y)) Q:'Y  I $D(^(Y,0)) DO
"RTN","DVBHT2",33,0)
 .I $G(LAST)="" S LAST=Y Q
"RTN","DVBHT2",34,0)
 .I $D(^DVB(395.5,DFN,1,LAST)),($P(^DVB(395.5,DFN,1,Y,0),"^",2)<$P(^DVB(395.5,DFN,1,LAST,0),"^",2)) Q
"RTN","DVBHT2",35,0)
 .S LAST=Y
"RTN","DVBHT2",36,0)
 I $D(LAST) S XQA(LAST)="" K LAST Q
"RTN","DVBHT2",37,0)
 S XQA(DUZ)="" Q
"RTN","DVBHT2",38,0)
 ;input y
"RTN","DVBHT2",39,0)
USR I $O(XQA(0))'?1"G.".E Q
"RTN","DVBHT2",40,0)
 Q:'Y  K DVBDUZ S DVBDUZ=0
"RTN","DVBHT2",41,0)
 F  S DVBDUZ=$O(^XMB(3.8,+Y,1,"B",DVBDUZ)) Q:'DVBDUZ  S DVBDUZ(DVBDUZ)=""
"RTN","DVBHT2",42,0)
 Q
"RTN","DVBHT2",43,0)
 ;
"RTN","DVBHT2",44,0)
QUE ;entry to queue with taskman from prog mode
"RTN","DVBHT2",45,0)
 S ZTIO="",ZTRTN="START^DVBHT2",ZTDESC="Clear corrected HINQ alerts"
"RTN","DVBHT2",46,0)
 D ^%ZTLOAD Q
"RTN","DVBHT2",47,0)
 ;
"RTN","DVBHT2",48,0)
 ;queable
"RTN","DVBHT2",49,0)
START S DFN=0 I '$D(ZTQUEUED) W !?3,"Clearing corrected HINQ alerts",!
"RTN","DVBHT2",50,0)
 D MAILGP,USR
"RTN","DVBHT2",51,0)
 F  S DFN=$O(^DVB(395.5,"AC","N",DFN)) Q:'DFN  DO
"RTN","DVBHT2",52,0)
 .I '$D(^DVB(395.5,DFN,0)) Q
"RTN","DVBHT2",53,0)
 .D TEM^DVBHIQR I $D(DVBERCS) Q
"RTN","DVBHT2",54,0)
 .D ACHK^DVBHT1
"RTN","DVBHT2",55,0)
 .I '$D(DVBNOALR) Q
"RTN","DVBHT2",56,0)
 .S DVBDUZ=0 F  S DVBDUZ=$O(DVBDUZ(DVBDUZ)) DO  Q:'DVBDUZ  ;do 1 always
"RTN","DVBHT2",57,0)
 . .S XQAID="DVB,"_DFN,XQAKILL=0
"RTN","DVBHT2",58,0)
 . .D DELETEA^XQALERT
"RTN","DVBHT2",59,0)
 . .Q
"RTN","DVBHT2",60,0)
 .I '$D(ZTQUEUED) W:$X>63 !," " W " ."
"RTN","DVBHT2",61,0)
 I '$D(ZTQUEUED),$X=1 W !?3,"No alerts cleared..."
"RTN","DVBHT2",62,0)
 D KILL^XUSCLEAN Q
"VER")
8.0^22
**END**
**END**
