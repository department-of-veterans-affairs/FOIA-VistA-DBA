$TXT Created by ORMSBY,SKIP at FM22-PATCH.FO-OAKLAND.MED.VA.GOV  (KIDS) on Friday, 12/13/02 at 05:56
=============================================================================
Run Date: JAN 30, 2003                     Designation: DI*22*120
Package : DI - VA FILEMAN                     Priority: Mandatory
Version : 22       SEQ #110                      Status: Released
                  Compliance Date: MAR 02, 2003
=============================================================================

Associated patches: (v)DI*22*76    <<= must be installed BEFORE `DI*22*120'

Subject: Correct FileMan Function Location

Category: 
  - Routine

Description: 
============

 This patch corrects the following issue:
  
 Patch DI*22*76 transported three new functions: PRIORDATE, PRIORUSER, and 
 PRIORVALUE that needed to be added to the FUNCTION file (#.5).  In most 
 cases these functions were not installed at the target site in FileMan's
 number space, that is between Internal Entry Numbers 1 and 99.  This 
 patch will delete any existing PRIORDATE, PRIORUSER, and PRIORVALUE 
 functions and reinstall then at their proper locations:
 PRIORDATE at Internal Entry Number 91
 PRIORUSER at Internal Entry Number 92
 PRIORVALUE at Internal Entry Number 90
  
 The following is a before Patch example of how these new functions might 
 have installed.  Please note that the value of "NUMBER" and "NAME" will
 vary from site to site:
  
 Select OPTION: PRINT FILE ENTRIES  
  
 OUTPUT FROM WHAT FILE: FUNCTION// 
 SORT BY: NAME// 
 START WITH NAME: FIRST// PRIO<rtn>
 GO TO NAME: LAST// PRIOZ<rtn>
   WITHIN NAME, SORT BY: 
 FIRST PRINT ATTRIBUTE: NUMBER<rtn>(Note: 'NUMBER' must be in all caps)
 THEN PRINT ATTRIBUTE: NAME  
 THEN PRINT ATTRIBUTE: 
 Heading (S/C): COMPUTED-FIELD FUNCTION LIST  Replace 
 START AT PAGE: 1// 
 DEVICE:   Telnet terminal
 COMPUTED-FIELD FUNCTION LIST              DEC 10,2002  07:39    PAGE 1
 NUMBER        NAME
 --------------------------------------------------------------------------
  
 211           PRIORDATE
 212           PRIORUSER
 208           PRIORVALUE
  
   The following is an example of what the patch installation dialog will
 look like at most sites:
  <the usual KIDS installation dialog>
 DEVICE: HOME// 0;P-OTHER;80;999  Telnet terminal
  
  
  Install Started for DI*22.0*120 : 
                Dec 10, 2002@07:45:07
  
  Installing Routines:..
                Dec 10, 2002@07:45:07
  
  Running Pre-Install Routine: ^DIPR120.
 Beginning Pre-Installation...
 Deleting Function PRIORDATE
 Deleting Function PRIORUSER
 Deleting Function PRIORVALUE
  
 Installing Function PRIORDATE at #91
 Installing Function PRIORUSER at #92
 Installing Function PRIORVALUE at #90
 Done...
  
  Updating Routine file......
  
  Updating KIDS files.......
  
  DI*22.0*120 Installed. 
                Dec 10, 2002@07:45:07.
  
  Install Message sent #nnnnn
  
 The following is an after patch example.  Please note the your values for 
 "NUMBER" and "NAME" should be the same:
  
 Select OPTION: PRINT FILE ENTRIES  
  
 OUTPUT FROM WHAT FILE: FUNCTION// 
 SORT BY: NAME// 
 START WITH NAME: FIRST// PRIO<rtn>
 GO TO NAME: LAST// PRIOZ<rtn>
   WITHIN NAME, SORT BY: 
 FIRST PRINT ATTRIBUTE: NUMBER<rtn>(Note: 'NUMBER' must be in all caps)
 THEN PRINT ATTRIBUTE: NAME  
 THEN PRINT ATTRIBUTE: 
 Heading (S/C): COMPUTED-FIELD FUNCTION LIST  Replace 
 START AT PAGE: 1// 
 DEVICE:   Telnet terminal
 COMPUTED-FIELD FUNCTION LIST              DEC 10,2002  08:28    PAGE 1
 NUMBER        NAME
 --------------------------------------------------------------------------
  
 91            PRIORDATE
 92            PRIORUSER
 90            PRIORVALUE
  
   The following example of the dialog generated by routine DIPR120 if the 
 Internal Entry Number (IEN) is 91 and the NAME field (#.01) is equal to 
 "PRIORDATE" and the IEN is 92 and the NAME field (#.01) is equal to 
 "PRIORUSER" and the IEN is 90 and the NAME field (#.01) is equal to 
 "PRIORVALUE":
  
 Beginning Pre-Installation...
  
 Done...
  
 *Note: Sites that see installation dialog other than the two examples
 shown above should enter a FileMan NOIS, requesting the NOIS be Referred
 to SD&D, because further evaluation will be needed.
  
 Documentation Changes
 =====================
  -None-
  
 Blood Bank Team Coordination
 ============================
 Clearance - Dec 12, 2002
  
 NOIS
 ====
  MAC-1202-60227
  
 Thanks to Test Sites 
 ====================
  CLARKSBURG, WV
  NORTHERN CALIFORNIA HCS
  
 Routine Summary: 
 ================
  The following routines are included in this patch.  The second line of 
 these routines now look like: 
   
   <tab>;;22.0;VA FileMan;**[patch list]**;Mar 30, 1999 
   
 CHECK^XTSUMBLD results: 
   
   Routine Name   Before Patch    After Patch     Patch List 
   ============   ============    ===========     ==========
   DIPR120        N/A             12379356        120
  
 Installation Instructions: 
 ==========================
 This patch can be installed with VISTA users online.  However, it is 
 recommended that it be Queued for a time of generally least activity.  
  
 TaskMan does not need to be STOPPED or placed in a WAIT state and 
 installation should take less than a minute.
  
      1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.  
 This option will load the KIDS package onto your system.  
  
      2.  The patch has now been loaded into a transport global on your 
 system. You now need to use KIDS to install the transport global.  
   
      3.  On the KIDS menu, under the 'Installation' menu, use the 
 following options: 
             Print Transport Global 
             Compare Transport Global to Current System 
             Verify Checksums in Transport Global 
             Backup a Transport Global 
  
      4.  On the KIDS menu, under the 'Installation' menu, use the 
 following option: 
             Select Installation Option: Install Package(s) 
             Select INSTALL NAME: DI*22.0*120
                                  ===========
         Answer 'NO' to 'Want KIDS to INHIBIT LOGONs during the install?
         Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu Options,
 and Protocols? 

Routine Information:
====================

Routine Name:
  - DIPR120


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : ORMSBY,SKIP                    Date Entered : DEC 09, 2002
Completed By: SINGH,GURBIR                  Date Completed: JAN 30, 2003
Released By : HARROD,PAUL                   Date Released : JAN 30, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
