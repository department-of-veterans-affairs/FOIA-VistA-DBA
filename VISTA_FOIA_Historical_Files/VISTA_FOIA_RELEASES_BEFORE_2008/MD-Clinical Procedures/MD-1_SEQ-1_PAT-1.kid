Released MD*1*1 SEQ #1
Extracted from mail message
**KIDS**:MD*1.0*1^

**INSTALL NAME**
MD*1.0*1
"BLD",4822,0)
MD*1.0*1^CLINICAL PROCEDURES^0^3040621^y
"BLD",4822,1,0)
^^2^2^3031208^
"BLD",4822,1,1,0)
Please refer to the National Patch Module for the detail of this patch 
"BLD",4822,1,2,0)
build.
"BLD",4822,4,0)
^9.64PA^^
"BLD",4822,"ABPKG")
n
"BLD",4822,"KRN",0)
^9.67PA^8989.52^19
"BLD",4822,"KRN",.4,0)
.4
"BLD",4822,"KRN",.4,"NM",0)
^9.68A^^
"BLD",4822,"KRN",.401,0)
.401
"BLD",4822,"KRN",.402,0)
.402
"BLD",4822,"KRN",.403,0)
.403
"BLD",4822,"KRN",.5,0)
.5
"BLD",4822,"KRN",.84,0)
.84
"BLD",4822,"KRN",3.6,0)
3.6
"BLD",4822,"KRN",3.8,0)
3.8
"BLD",4822,"KRN",9.2,0)
9.2
"BLD",4822,"KRN",9.8,0)
9.8
"BLD",4822,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4822,"KRN",9.8,"NM",1,0)
MDAPI1^^0^B7735634
"BLD",4822,"KRN",9.8,"NM","B","MDAPI1",1)

"BLD",4822,"KRN",19,0)
19
"BLD",4822,"KRN",19.1,0)
19.1
"BLD",4822,"KRN",101,0)
101
"BLD",4822,"KRN",409.61,0)
409.61
"BLD",4822,"KRN",771,0)
771
"BLD",4822,"KRN",870,0)
870
"BLD",4822,"KRN",8989.51,0)
8989.51
"BLD",4822,"KRN",8989.52,0)
8989.52
"BLD",4822,"KRN",8994,0)
8994
"BLD",4822,"KRN","B",.4,.4)

"BLD",4822,"KRN","B",.401,.401)

"BLD",4822,"KRN","B",.402,.402)

"BLD",4822,"KRN","B",.403,.403)

"BLD",4822,"KRN","B",.5,.5)

"BLD",4822,"KRN","B",.84,.84)

"BLD",4822,"KRN","B",3.6,3.6)

"BLD",4822,"KRN","B",3.8,3.8)

"BLD",4822,"KRN","B",9.2,9.2)

"BLD",4822,"KRN","B",9.8,9.8)

"BLD",4822,"KRN","B",19,19)

"BLD",4822,"KRN","B",19.1,19.1)

"BLD",4822,"KRN","B",101,101)

"BLD",4822,"KRN","B",409.61,409.61)

"BLD",4822,"KRN","B",771,771)

"BLD",4822,"KRN","B",870,870)

"BLD",4822,"KRN","B",8989.51,8989.51)

"BLD",4822,"KRN","B",8989.52,8989.52)

"BLD",4822,"KRN","B",8994,8994)

"BLD",4822,"QUES",0)
^9.62^^
"BLD",4822,"REQB",0)
^9.611^1^1
"BLD",4822,"REQB",1,0)
MD 1.0^1
"BLD",4822,"REQB","B","MD 1.0",1)

"MBREQ")
0
"PKG",365,-1)
1^1
"PKG",365,0)
CLINICAL PROCEDURES^MD^Clinical Procedures
"PKG",365,20,0)
^9.402P^^
"PKG",365,22,0)
^9.49I^1^1
"PKG",365,22,1,0)
1.0^3040429^2980529^363
"PKG",365,22,1,"PAH",1,0)
1^3040621
"PKG",365,22,1,"PAH",1,1,0)
^^2^2^3040621
"PKG",365,22,1,"PAH",1,1,1,0)
Please refer to the National Patch Module for the detail of this patch 
"PKG",365,22,1,"PAH",1,1,2,0)
build.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","MDAPI1")
0^1^B7735634
"RTN","MDAPI1",1,0)
MDAPI1 ; HOIFO/NCA - Electrocardiogram Data Extraction ;12/4/02  12:32
"RTN","MDAPI1",2,0)
 ;;1.0;CLINICAL PROCEDURES;**1**;Apr 01, 2004
"RTN","MDAPI1",3,0)
 ; Reference IA #3854 API call
"RTN","MDAPI1",4,0)
 ;           IA #10154 Access 2nd piece of ^DD(filenumber,fieldnumber,0)
"RTN","MDAPI1",5,0)
GET(RESULTS,MDARDFN,MDSDT,MDEDT,MDFLDS) ; Returns list of data from Electrocardiogram File #691.5
"RTN","MDAPI1",6,0)
 ; Input: RESULTS - the global ^TMP array in which  (Required)
"RTN","MDAPI1",7,0)
 ;                  to return results.
"RTN","MDAPI1",8,0)
 ;        MDARDFN - the patient DFN.           (Required)
"RTN","MDAPI1",9,0)
 ;        MDSDT - the start date of the date   (Required)
"RTN","MDAPI1",10,0)
 ;                range to return the data in.
"RTN","MDAPI1",11,0)
 ;                This must be in FM internal
"RTN","MDAPI1",12,0)
 ;                format.
"RTN","MDAPI1",13,0)
 ;        MDEDT - the end date of the date     (Required)
"RTN","MDAPI1",14,0)
 ;                range to return the data in.
"RTN","MDAPI1",15,0)
 ;                This must be in FM internal
"RTN","MDAPI1",16,0)
 ;                format.
"RTN","MDAPI1",17,0)
 ;        MDFLDS - a list of fields from file #691.5 to  (Required)
"RTN","MDAPI1",18,0)
 ;                 be returned in RESULTS.  MDFLDS should
"RTN","MDAPI1",19,0)
 ;                 contain a list of fields delimited by ";"
"RTN","MDAPI1",20,0)
 ;                 example: MDFLDS=".01;11;20..."
"RTN","MDAPI1",21,0)
 ;
"RTN","MDAPI1",22,0)
 ; Output: RESULTS  (Passed by Reference)
"RTN","MDAPI1",23,0)
 ;         Global array returned in the FM DIQ call format.
"RTN","MDAPI1",24,0)
 ; 
"RTN","MDAPI1",25,0)
 ; Example API call:
"RTN","MDAPI1",26,0)
 ;          
"RTN","MDAPI1",27,0)
 ;    S RESULTS="^TMP(""NAMESPACE"",$J)"
"RTN","MDAPI1",28,0)
 ;    D GET^MDAPI1(.RESULTS,162,2900101,3021001,".01;11")
"RTN","MDAPI1",29,0)
 ;
"RTN","MDAPI1",30,0)
 ; return:
"RTN","MDAPI1",31,0)
 ;    ^TMP("NAMESPACE",$J,file #,record ien_",",field #,"E")=Data
"RTN","MDAPI1",32,0)
 ;    ^TMP("NAMESPACE",$J,subfile #,entry #_","_record ien,
"RTN","MDAPI1",33,0)
 ;          field of the multiple,"E")=data
"RTN","MDAPI1",34,0)
 ;     
"RTN","MDAPI1",35,0)
 ; Only the Electrocardiogram records in the following
"RTN","MDAPI1",36,0)
 ; statuses will be returned in the list:
"RTN","MDAPI1",37,0)
 ;  
"RTN","MDAPI1",38,0)
 ;         RELEASED ON-LINE VERIFIED
"RTN","MDAPI1",39,0)
 ;         RELEASED OFF-LINE VERIFIED
"RTN","MDAPI1",40,0)
 ;         RELEASED NOT VERIFIED
"RTN","MDAPI1",41,0)
 ;         RELEASED ON-LINE VERIFIED OF SUPERSEDED
"RTN","MDAPI1",42,0)
 ;         RELEASED OFF-LINE VERIFIED OF SUPERSEDED
"RTN","MDAPI1",43,0)
 ;
"RTN","MDAPI1",44,0)
 ;         ^TMP("NAMESPACE",$J,0) will equal one of the following,
"RTN","MDAPI1",45,0)
 ;           if the call failed:
"RTN","MDAPI1",46,0)
 ;             -1^No Patient DFN.
"RTN","MDAPI1",47,0)
 ;             -1^No Start Date Range.
"RTN","MDAPI1",48,0)
 ;             -1^No End Date Range.
"RTN","MDAPI1",49,0)
 ;             -1^Start Date greater than End Date.
"RTN","MDAPI1",50,0)
 ;             -1^No fields defined.
"RTN","MDAPI1",51,0)
 ;
"RTN","MDAPI1",52,0)
 ;         If a local variable is defined in RESULTS,
"RTN","MDAPI1",53,0)
 ;           ^TMP("MDAPI",$J,0) equals
"RTN","MDAPI1",54,0)
 ;             -1^Global TMP array only.
"RTN","MDAPI1",55,0)
 ;
"RTN","MDAPI1",56,0)
 ;         If no return array defined,^TMP("MDAPI",$J,0) equals
"RTN","MDAPI1",57,0)
 ;             -1^No return array global.
"RTN","MDAPI1",58,0)
 ;
"RTN","MDAPI1",59,0)
 ;         If no data, ^TMP("NAMESPACE",$J,0) equals
"RTN","MDAPI1",60,0)
 ;             -1^No data for patient.
"RTN","MDAPI1",61,0)
 ;
"RTN","MDAPI1",62,0)
 N MDCODE,MDDR,MDK,MDLP,MDN,MDNOD,MDSUBF,MDX,MDY
"RTN","MDAPI1",63,0)
 K ^TMP("MDAPI",$J)
"RTN","MDAPI1",64,0)
 I '$D(RESULTS) S ^TMP("MDAPI",$J,0)="-1^No return array global." Q
"RTN","MDAPI1",65,0)
 I $G(RESULTS)'["^TMP" S ^TMP("MDAPI",$J,0)="-1^Global TMP array only." Q
"RTN","MDAPI1",66,0)
 I '+$G(MDARDFN) S @RESULTS@(0)="-1^No Patient DFN." Q
"RTN","MDAPI1",67,0)
 I '$G(MDSDT) S @RESULTS@(0)="-1^No Start Date Range." Q
"RTN","MDAPI1",68,0)
 I '$G(MDEDT) S @RESULTS@(0)="-1^No End Date Range." Q
"RTN","MDAPI1",69,0)
 I MDSDT>MDEDT S @RESULTS@(0)="-1^Start Date greater than End Date." Q
"RTN","MDAPI1",70,0)
 I $G(MDFLDS)="" S @RESULTS@(0)="-1^No fields defined." Q
"RTN","MDAPI1",71,0)
 S (MDDR,MDX,MDY)="",MDEDT=MDEDT\1+.3
"RTN","MDAPI1",72,0)
 S MDN=$L(MDFLDS,";")
"RTN","MDAPI1",73,0)
 F MDK=1:1:MDN S MDY=+$P(MDFLDS,";",MDK) I MDY D
"RTN","MDAPI1",74,0)
 .Q:'$$VFIELD^DILFD(691.5,MDY)
"RTN","MDAPI1",75,0)
 .S MDNOD=$P($G(^DD(691.5,+MDY,0)),"^",2),MDSUBF=0
"RTN","MDAPI1",76,0)
 .I +MDNOD[691.5&($E(MDNOD,$L(MDNOD)-1,$L(MDNOD))="PA") S MDSUBF=1
"RTN","MDAPI1",77,0)
 .S MDDR=MDDR_$S(MDDR="":"",1:";")_MDY_$S(MDSUBF:"*",1:"")
"RTN","MDAPI1",78,0)
 .Q
"RTN","MDAPI1",79,0)
 S MDLP=0 F  S MDLP=$O(^MCAR(691.5,"C",MDARDFN,MDLP)) Q:MDLP<1  D
"RTN","MDAPI1",80,0)
 .S MDX=$G(^MCAR(691.5,MDLP,0)) Q:MDX=""
"RTN","MDAPI1",81,0)
 .Q:$P(MDX,"^")<MDSDT!($P(MDX,"^")>MDEDT)
"RTN","MDAPI1",82,0)
 .S MDCODE=$P($G(^MCAR(691.5,MDLP,"ES")),"^",7)
"RTN","MDAPI1",83,0)
 .S:MDCODE="" MDCODE="RNV"
"RTN","MDAPI1",84,0)
 .I MDCODE="S"!(MDCODE["D") Q
"RTN","MDAPI1",85,0)
 .D GETS^DIQ(691.5,MDLP_",",MDDR,"E",$NA(@RESULTS))
"RTN","MDAPI1",86,0)
 .Q
"RTN","MDAPI1",87,0)
 I '$D(@(RESULTS)) S @RESULTS@(0)="-1^No data for patient."
"RTN","MDAPI1",88,0)
 Q
"VER")
8.0^22
**END**
**END**
