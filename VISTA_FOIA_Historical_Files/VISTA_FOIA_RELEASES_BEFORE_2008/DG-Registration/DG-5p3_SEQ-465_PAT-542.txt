$TXT Created by MULLER,RICHARD at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 08/01/03 at 15:47
=============================================================================
Run Date: AUG 28, 2003                     Designation: DG*5.3*542
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #465                    Status: Released
                  Compliance Date: SEP 28, 2003
=============================================================================

Associated patches: (v)DG*5.3*463  <<= must be installed BEFORE `DG*5.3*542'
                    (v)IVM*2*82    <<= must be installed BEFORE `DG*5.3*542'

Subject: FIX MT INCONSISTENCY CK

Category: 
  - Routine

Description:
============

 This patch (DG*5.3*542) utilizes the modifications to the Income Test 
 data inconsistency checks implemented with patch IVM*2.0*82.
  
 During the completion of an Income Test or the editing of a completed 
 test, there are two conditions that will render all the data 
 inconsistency checks unnecessary:
  
     1. If the patient does not agree to pay the deductible.  The
        AGREED TO PAY DEDUCTIBLE (#.11) field will be set NO.
  
     2. If the patient refuses to give income information and agrees to 
        pay the deductible.  The DECLINES TO GIVE INCOME INFO (#.14) field
        and the AGREED TO PAY DEDUCTIBLE will both be set to YES.
  
 The Income Test data will be not be validated when either of the above
 two conditions exist.  All other conditions will still be checked that 
 could possibly generate an Application Error (AE).
  
 The COMMENT sub-file (#408.311) in the ANNUAL MEANS TEST (#408.31) file 
 may contain a message that there were data inconsistencies associated 
 with the Income Test prior to editing the test and creating one of the 
 above conditions.  
  
 Each time the Income Test is edited and completed, and either the AGREED 
 TO PAY DEDUCTIBLE is NO or the AGREED TO PAY DEDUCTIBLE and the DECLINES 
 TO GIVE INCOME INFO are both YES, the COMMENT sub-file (#408.311) for the 
 test will be edited as follows:
  
     1.  The existing comments not relating to data inconsistencies 
         will be maintained.
  
     2.  Any pre-existing data inconsistency messages associated with 
         the Income Test are no longer valid and will be removed.
  
  
 This patch addresses the following E3R(s):
 ------------------------------------------
  
 There are no E3Rs associated with this patch.
  
  
 This patch addresses the following NOIS message(s):
 ---------------------------------------------------
  
 There are no NOIS messages associated with this patch.
  
  
        ================INSTALLATION INSTRUCTIONS =================
  
 If installed during the normal workday, it is recommended that the 
 following menu options (File #19) and all of their descendants be 
 disabled to prevent possible conflicts while running the KIDS Install. 
 Other VISTA users will not be affected.
  
     [DG MEANS TEST USER MENU]   Means Test User Menu
     [DG MEANS TEST ADD]         Add a New Means Test
     [DG MEANS TEST COMPLETE]    Complete a Required Means Test
     [DG MEANS TEST EDIT]        Edit an Existing Means Test
     [DG CO-PAY TEST USER MENU]  Copay Exemption Test User Menu
     [DG CO-PAY TEST ADD]        Add a Copay Exemption Test
     [DG CO-PAY TEST EDIT]       Edit an Existing Copay Exemption Test
  
 You may wish to stop the HL7 filers prior to the install to prevent 
 possible 'No Source Errors' from occurring. No transmissions will be lost 
 if the filers are not stopped first, they will be picked up once the 
 filers are restarted.
  
 The patch should be installed during non-peak hours.
  
 Install Time - 10 minutes.
  
  
   1.   LOAD TRANSPORT GLOBAL 
        ---------------------
        Choose the PackMan message containing this patch and invoke the 
        INSTALL/CHECK MESSAGE PackMan option.  
              
   2.   DISABLE ROUTINE MAPPING   (DSM for Open VMS sites only) 
        -----------------------
        Disable routine mapping on all systems for the routines listed in 
        step 3 below.  
  
        NOTE:  If the routines included in this patch are not currently in 
               your mapped routine set, please skip this step.
   
   3.   COMPONENTS SENT WITH PATCH 
        ------------------------
        The following is a list of the routines included in this patch.  
        The second line of each of these routines now looks like: 
   
            ;;2.0;INCOME VERIFICATION MATCH;**[patch list]**;21-OCT-94
   
                            CHECK^XTSUMBLD results
  
        Routine          Before Patch     After Patch    Patch List 
        -------          ------------     -----------    ----------
        DGMTUTL1         2963822          3169000        463,542
  
  
         Total number of routines - 1 
  
   4.   START UP KIDS 
        -------------
        Start up the Kernel Installation and Distribution System Menu 
        [XPD MAIN]: 
    
             Edits and Distribution ...  
             Utilities ...  
             Installation ...  
    
   Select Kernel Installation & Distribution System Option: INStallation
                                                            ---
             Load a Distribution 
             Print Transport Global 
             Compare Transport Global to Current System 
             Verify Checksums in Transport Global 
             Install Package(s) 
             Restart Install of Package(s) 
             Unload a Distribution 
             Backup a Transport Global 
    
      Select Installation Option: 
    
   5.   Select Installation Option: 
        --------------------------
        NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
               NAME, enter DG*5.3*542):
       
        a.  Backup a Transport Global - This option will create a backup
            message of any routines exported with this patch. It will not
            backup any other changes such as DD's or templates.
        b.  Compare Transport Global to Current System - This option will
            allow you to view all changes that will be made when this patch
            is installed.  It compares all components of this patch
            (routines, DD's, templates, etc.).
        c.  Verify Checksums in Transport Global - This option will allow
            you to ensure the integrity of the routines that are in the
            transport global.
      
   6.   Select Installation Option: Install Package(s) 
                                    ----------------
        **This is the step to start the installation of this KIDS patch: 
    
        a.  Choose the Install Package(s) option to start the patch 
            install.
        b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
            YES//' answer NO (unless otherwise indicated)
        c.  When prompted 'Want to DISABLE Scheduled Options, Menu 
            Options, and Protocols? YES//' answer YES (unless otherwise 
            indicated)
        d.  When prompted 'Enter options you wish to mark as 'Out Of
            Order':'  Enter the following options:
   
           [DG MEANS TEST USER MENU]  Means Test User Menu
           [DG MEANS TEST ADD]        Add a New Means Test
           [DG MEANS TEST COMPLETE]   Complete a Required Means Test
           [DG MEANS TEST EDIT]       Edit an Existing Means Test
           [DG CO-PAY TEST USER MENU] Copay Exemption Test User Menu
           [DG CO-PAY TEST ADD]       Add a Copay Exemption Test
           [DG CO-PAY TEST EDIT]      Edit an Existing Copay Exemption Test
  
        e.  When prompted 'Enter protocols you wish to mark as 'Out Of
            Order':' press <return>.
  
   7.    REBUILD MAPPED ROUTINE(S)  (DSM for Open VMS sites only)
        -------------------------
        Optional - Include the routines distributed with this patch
        in the mapped routine set.
      
        NOTE: This step is only necessary if you performed step 2 or 
              if you wish to include the routines in your mapped set.
  
   8.   When the installation is complete, be sure to re-start the 
        filers if you chose to stop them.

Routine Information:
====================

Routine Name:
  - DGMTUTL1

 Before:
   ;
 INCON(DFN,DGMTDT,DGMTI,IVMTYPE,IVMERR)  ;
   ; Build the data strings for the veteran, and apply consistency checks
   ;
   ; Get information and initialize variables
  
  
 After:
   ;
 INCON(DFN,DGMTDT,DGMTI,IVMTYPE,IVMERR)  ;
   ;
   ; Check Income Test before applying consistency checks
   ; - If AGREED TO PAY DEDUCTIBLE is NO
   ; - or DECLINES TO GIVE INCOME INFO and AGREED TO PAY DEDUCTIBLE are YES
   ; Quit, the consistency checks are unnecessary.
   N NODE0,APD,DTGII
   S NODE0=$G(^DGMT(408.31,DGMTI,0)),APD=$P(NODE0,U,11),DTGII=$P(NODE0,U,1^
   I APD=0!(APD=1&(DTGII=1)) Q
   ;
   ; Build the data strings for the veteran, and apply consistency checks
   ; Get information and initialize variables
  
 Before:
   ;
   ; Check the Income Relation File #408.22
   S ZIR=$$ZIR^DGMTUTL2(DGINR("V"),DGMTDT)
   D ZIR^IVMCMF1(ZIR)
   ;
  
 After:
   ;
   ; Check the Income Relation File #408.22
   S ZIR=$$ZIR^DGMTUTL2(DGINR("V"),DGMTDT)
   D ZIR^IVMCMF1(ZIR,"",1)
   ;

Routine Checksum:

=============================================================================
User Information:
Entered By  : MULLER,RICHARD                Date Entered  : JUL 22, 2003
Completed By: LANDRY,DANNA                  Date Completed: AUG 27, 2003
Released By : KOVACH,STUART                 Date Released : AUG 28, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
