EMERGENCY Released RMPR*3*84 SEQ #70
Extracted from mail message
**KIDS**:RMPR*3.0*84^

**INSTALL NAME**
RMPR*3.0*84
"BLD",4929,0)
RMPR*3.0*84^PROSTHETICS^0^3040616^y
"BLD",4929,4,0)
^9.64PA^661.1^1
"BLD",4929,4,661.1,0)
661.1
"BLD",4929,4,661.1,2,0)
^9.641^661.1^1
"BLD",4929,4,661.1,2,661.1,0)
PROSTHETIC HCPCS  (File-top level)
"BLD",4929,4,661.1,2,661.1,1,0)
^9.6411^2^2
"BLD",4929,4,661.1,2,661.1,1,.01,0)
HCPCS
"BLD",4929,4,661.1,2,661.1,1,2,0)
CPT
"BLD",4929,4,661.1,222)
y^n^p^^^^n^^n
"BLD",4929,4,661.1,224)
 
"BLD",4929,4,"APDD",661.1,661.1)
 
"BLD",4929,4,"APDD",661.1,661.1,.01)
 
"BLD",4929,4,"APDD",661.1,661.1,2)
 
"BLD",4929,4,"B",661.1,661.1)
 
"BLD",4929,"ABPKG")
n
"BLD",4929,"INI")
KILLXRF^RMPRUTL
"BLD",4929,"KRN",0)
^9.67PA^8989.52^19
"BLD",4929,"KRN",.4,0)
.4
"BLD",4929,"KRN",.4,"NM",0)
^9.68A^^
"BLD",4929,"KRN",.401,0)
.401
"BLD",4929,"KRN",.402,0)
.402
"BLD",4929,"KRN",.403,0)
.403
"BLD",4929,"KRN",.5,0)
.5
"BLD",4929,"KRN",.84,0)
.84
"BLD",4929,"KRN",3.6,0)
3.6
"BLD",4929,"KRN",3.8,0)
3.8
"BLD",4929,"KRN",9.2,0)
9.2
"BLD",4929,"KRN",9.8,0)
9.8
"BLD",4929,"KRN",9.8,"NM",0)
^9.68A^17^13
"BLD",4929,"KRN",9.8,"NM",1,0)
RMPRPS34^^0^B33883855
"BLD",4929,"KRN",9.8,"NM",2,0)
RMPRPS35^^0^B77015535
"BLD",4929,"KRN",9.8,"NM",3,0)
RMPRPS36^^0^B56796504
"BLD",4929,"KRN",9.8,"NM",4,0)
RMPR5HQ4^^0^B77789507
"BLD",4929,"KRN",9.8,"NM",5,0)
RMPRN62^^0^B13637471
"BLD",4929,"KRN",9.8,"NM",6,0)
RMPRN6PR^^0^B29744968
"BLD",4929,"KRN",9.8,"NM",7,0)
RMPRN6PT^^0^B34455856
"BLD",4929,"KRN",9.8,"NM",8,0)
RMPRN72^^0^B13814280
"BLD",4929,"KRN",9.8,"NM",9,0)
RMPRN7PR^^0^B30891961
"BLD",4929,"KRN",9.8,"NM",10,0)
RMPRN7PT^^0^B35975808
"BLD",4929,"KRN",9.8,"NM",11,0)
RMPRN7UT^^0^B7097201
"BLD",4929,"KRN",9.8,"NM",13,0)
RMPRN6UT^^0^B6891484
"BLD",4929,"KRN",9.8,"NM",17,0)
RMPRUTL^^0^B334849
"BLD",4929,"KRN",9.8,"NM","B","RMPR5HQ4",4)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRN62",5)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRN6PR",6)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRN6PT",7)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRN6UT",13)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRN72",8)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRN7PR",9)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRN7PT",10)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRN7UT",11)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRPS34",1)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRPS35",2)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRPS36",3)
 
"BLD",4929,"KRN",9.8,"NM","B","RMPRUTL",17)
 
"BLD",4929,"KRN",19,0)
19
"BLD",4929,"KRN",19,"NM",0)
^9.68A^^
"BLD",4929,"KRN",19.1,0)
19.1
"BLD",4929,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",4929,"KRN",101,0)
101
"BLD",4929,"KRN",409.61,0)
409.61
"BLD",4929,"KRN",771,0)
771
"BLD",4929,"KRN",870,0)
870
"BLD",4929,"KRN",8989.51,0)
8989.51
"BLD",4929,"KRN",8989.52,0)
8989.52
"BLD",4929,"KRN",8994,0)
8994
"BLD",4929,"KRN","B",.4,.4)
 
"BLD",4929,"KRN","B",.401,.401)
 
"BLD",4929,"KRN","B",.402,.402)
 
"BLD",4929,"KRN","B",.403,.403)
 
"BLD",4929,"KRN","B",.5,.5)
 
"BLD",4929,"KRN","B",.84,.84)
 
"BLD",4929,"KRN","B",3.6,3.6)
 
"BLD",4929,"KRN","B",3.8,3.8)
 
"BLD",4929,"KRN","B",9.2,9.2)
 
"BLD",4929,"KRN","B",9.8,9.8)
 
"BLD",4929,"KRN","B",19,19)
 
"BLD",4929,"KRN","B",19.1,19.1)
 
"BLD",4929,"KRN","B",101,101)
 
"BLD",4929,"KRN","B",409.61,409.61)
 
"BLD",4929,"KRN","B",771,771)
 
"BLD",4929,"KRN","B",870,870)
 
"BLD",4929,"KRN","B",8989.51,8989.51)
 
"BLD",4929,"KRN","B",8989.52,8989.52)
 
"BLD",4929,"KRN","B",8994,8994)
 
"BLD",4929,"QUES",0)
^9.62^^
"BLD",4929,"REQB",0)
^9.611^9^7
"BLD",4929,"REQB",1,0)
RMPR*3.0*76^1
"BLD",4929,"REQB",2,0)
RMPR*3.0*57^1
"BLD",4929,"REQB",3,0)
RMPR*3.0*51^1
"BLD",4929,"REQB",4,0)
RMPR*3.0*70^1
"BLD",4929,"REQB",6,0)
RMPR*3.0*77^1
"BLD",4929,"REQB",8,0)
RMPR*3.0*55^1
"BLD",4929,"REQB",9,0)
LEX*2.0*28^1
"BLD",4929,"REQB","B","LEX*2.0*28",9)

"BLD",4929,"REQB","B","RMPR*3.0*51",3)
 
"BLD",4929,"REQB","B","RMPR*3.0*55",8)
 
"BLD",4929,"REQB","B","RMPR*3.0*57",2)
 
"BLD",4929,"REQB","B","RMPR*3.0*70",4)
 
"BLD",4929,"REQB","B","RMPR*3.0*76",1)
 
"BLD",4929,"REQB","B","RMPR*3.0*77",6)
 
"FIA",661.1)
PROSTHETIC HCPCS
"FIA",661.1,0)
^RMPR(661.1,
"FIA",661.1,0,0)
661.1I
"FIA",661.1,0,1)
y^n^p^^^^n^^n
"FIA",661.1,0,10)

"FIA",661.1,0,11)
 
"FIA",661.1,0,"RLRO")

"FIA",661.1,0,"VR")
3.0^RMPR
"FIA",661.1,661.1)
1
"FIA",661.1,661.1,.01)
 
"FIA",661.1,661.1,2)
 
"INI")
KILLXRF^RMPRUTL
"MBREQ")
0
"PKG",101,-1)
1^1
"PKG",101,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",101,20,0)
^9.402P^^
"PKG",101,22,0)
^9.49I^1^1
"PKG",101,22,1,0)
3.0^2960209^2960214
"PKG",101,22,1,"PAH",1,0)
84^3040616^552
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
13
"RTN","RMPR5HQ4")
0^4^B77789507
"RTN","RMPR5HQ4",1,0)
RMPR5HQ4 ;HCIOFO/ODJ - INVENTORY REPORT - PARAMETER DATA ENTRY ; 20 SEP 00
"RTN","RMPR5HQ4",2,0)
 ;;3.0;PROSTHETICS;**51,84**;Feb 09, 1996
"RTN","RMPR5HQ4",3,0)
 ;
"RTN","RMPR5HQ4",4,0)
 ; AAC Patch 84, 02-25-04, additions, deletions and change descriptions for Groups and lines.
"RTN","RMPR5HQ4",5,0)
 ;
"RTN","RMPR5HQ4",6,0)
 ; Prompts for Station, Start date, End date, level of detail, 
"RTN","RMPR5HQ4",7,0)
 ; NPPD group, NPPD line, HCPC selections and Report Device
"RTN","RMPR5HQ4",8,0)
START N RMPRSDT,RMPREDT,RMPREXC,RMPRSEL,RMPRHTY,RMPRGLST,RMPRLINX
"RTN","RMPR5HQ4",9,0)
 N RMPRI,RMPRJ,RMPRLCN,RMPRHCN,RMPR,RMPRGRPA,RMPRVISN
"RTN","RMPR5HQ4",10,0)
 ; RMPR("STA")  Station Number (ien ^DIC(4)
"RTN","RMPR5HQ4",11,0)
 S RMPRSDT="" ; start date VM internal
"RTN","RMPR5HQ4",12,0)
 S RMPREDT=DT ; end date VM internal
"RTN","RMPR5HQ4",13,0)
 I '$D(RMPRDET) N RMPRDET S RMPRDET="" ; Level of detail
"RTN","RMPR5HQ4",14,0)
 S RMPRHTY="" ; type of HCPCS selection
"RTN","RMPR5HQ4",15,0)
 S RMPRLCN=1  ; Count for number of individual NPPD lines selected
"RTN","RMPR5HQ4",16,0)
 S RMPRHCN=1  ; Count for number of individual HCPCs selected
"RTN","RMPR5HQ4",17,0)
 K RMPREXC    ; Exit condition from prompts (^ defined as quit)
"RTN","RMPR5HQ4",18,0)
 K RMPRSEL    ; Array of parameter selections
"RTN","RMPR5HQ4",19,0)
 ;              If this array gets too big then need to save in ^TMP
"RTN","RMPR5HQ4",20,0)
 ;              in which case queuing option will have to be removed
"RTN","RMPR5HQ4",21,0)
 ;
"RTN","RMPR5HQ4",22,0)
 D GRPLST(.RMPRGLST) ;set list of NPPD group codes for DIR prompt
"RTN","RMPR5HQ4",23,0)
 D GRPARY(.RMPRGRPA)
"RTN","RMPR5HQ4",24,0)
 D SETLIN(.RMPRLINX) ;set an indexing array for NPPD line help
"RTN","RMPR5HQ4",25,0)
 S RMPREXC=$$STN(.RMPR,.RMPRVISN)
"RTN","RMPR5HQ4",26,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",27,0)
 S RMPREXC=$$STDT(.RMPRSDT) ;get Start Date (fileman format)
"RTN","RMPR5HQ4",28,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",29,0)
 S RMPREXC=$$ENDT(.RMPREDT,RMPRSDT) ;get End Date (fileman format)
"RTN","RMPR5HQ4",30,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",31,0)
 I RMPRDET="" S RMPREXC=$$LEV(.RMPRDET) ;get Level of Detail
"RTN","RMPR5HQ4",32,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",33,0)
 I RMPRDET="G" K RMPRSEL S RMPRSEL("*")="" G EDDEV ;NPPD group level of detail
"RTN","RMPR5HQ4",34,0)
 I RMPRDET="L" G EDLIN ;NPPD line level of detail
"RTN","RMPR5HQ4",35,0)
 I RMPRDET="H"!(RMPRDET="I") G EDHCPC ;HCPC or Item level of detail
"RTN","RMPR5HQ4",36,0)
 ;
"RTN","RMPR5HQ4",37,0)
 ; NPPD Group level of detail
"RTN","RMPR5HQ4",38,0)
EDGRP S RMPREXC=$$NPGRP(.RMPRSEL)
"RTN","RMPR5HQ4",39,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",40,0)
 G EDDEV
"RTN","RMPR5HQ4",41,0)
 ;
"RTN","RMPR5HQ4",42,0)
 ; NPPD Line level of detail
"RTN","RMPR5HQ4",43,0)
EDLIN S RMPREXC=$$NPLIN(.RMPRSEL)
"RTN","RMPR5HQ4",44,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",45,0)
EDLINX G EDDEV
"RTN","RMPR5HQ4",46,0)
 ;
"RTN","RMPR5HQ4",47,0)
 ; HCPC level of detail
"RTN","RMPR5HQ4",48,0)
EDHCPC S RMPREXC=$$HCPCTY(.RMPRHTY)
"RTN","RMPR5HQ4",49,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",50,0)
 I RMPRHTY="" G EDDEV
"RTN","RMPR5HQ4",51,0)
 I RMPRHTY="A" K RMPRSEL S RMPRSEL("*")="" G EDDEV
"RTN","RMPR5HQ4",52,0)
 I RMPRHTY="G" S RMPREXC=$$NPGRP(.RMPRSEL) G EDDEV
"RTN","RMPR5HQ4",53,0)
 I RMPRHTY="L" S RMPREXC=$$NPLIN(.RMPRSEL) G EDDEV
"RTN","RMPR5HQ4",54,0)
 S RMPREXC=$$HCPC(.RMPRSEL,.RMPRHCN)
"RTN","RMPR5HQ4",55,0)
 G EDDEV
"RTN","RMPR5HQ4",56,0)
 ;
"RTN","RMPR5HQ4",57,0)
 ; Get device and run report or queue it
"RTN","RMPR5HQ4",58,0)
EDDEV S RMPREXC=$$REPDEV("")
"RTN","RMPR5HQ4",59,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",60,0)
 I '$D(IO("Q")) D REPORT^RMPR5HQ5 G EDX
"RTN","RMPR5HQ4",61,0)
 K IO("Q")
"RTN","RMPR5HQ4",62,0)
 S ZTDESC="INVENTORY REPORT",ZTRTN="REPORT^RMPR5HQ5",ZTIO=ION
"RTN","RMPR5HQ4",63,0)
 S ZTSAVE("RMPRSDT")=""
"RTN","RMPR5HQ4",64,0)
 S ZTSAVE("RMPREDT")=""
"RTN","RMPR5HQ4",65,0)
 S ZTSAVE("RMPRDET")=""
"RTN","RMPR5HQ4",66,0)
 S ZTSAVE("RMPRSEL(")=""
"RTN","RMPR5HQ4",67,0)
 ;S ZTSAVE("IOM")=""
"RTN","RMPR5HQ4",68,0)
 S ZTSAVE("RMPR(""STA"")")=""
"RTN","RMPR5HQ4",69,0)
 D ^%ZTLOAD
"RTN","RMPR5HQ4",70,0)
 W:$D(ZTSK) !,"REQUEST QUEUED!" H 1
"RTN","RMPR5HQ4",71,0)
EDX Q
"RTN","RMPR5HQ4",72,0)
 ;
"RTN","RMPR5HQ4",73,0)
 ; Prompt for Site/Station
"RTN","RMPR5HQ4",74,0)
STN(RMPR,RMPRVISN) ;
"RTN","RMPR5HQ4",75,0)
 N X,Y,DIC,DA
"RTN","RMPR5HQ4",76,0)
 S RMPRVISN=""
"RTN","RMPR5HQ4",77,0)
 D DIV4^RMPRSIT ; call standard Prosthetic site look-up
"RTN","RMPR5HQ4",78,0)
 I $D(X) S X="^"
"RTN","RMPR5HQ4",79,0)
 E  S X="" S:RMPRSITE'="" RMPRVISN=$P($G(^RMPR(669.9,RMPRSITE,"INV")),"^",2)
"RTN","RMPR5HQ4",80,0)
 Q X
"RTN","RMPR5HQ4",81,0)
 ;
"RTN","RMPR5HQ4",82,0)
 ; Prompt for level of detail
"RTN","RMPR5HQ4",83,0)
EN1 N RMPRDET S RMPRDET="G" ;entry point NPPD Group level
"RTN","RMPR5HQ4",84,0)
 G START
"RTN","RMPR5HQ4",85,0)
EN2 N RMPRDET S RMPRDET="L" ;entry point NPPD Line level
"RTN","RMPR5HQ4",86,0)
 G START
"RTN","RMPR5HQ4",87,0)
EN3 N RMPRDET S RMPRDET="H" ;entry point HCPCS level
"RTN","RMPR5HQ4",88,0)
 G START
"RTN","RMPR5HQ4",89,0)
EN4 N RMPRDET S RMPRDET="I" ;entry point Item level
"RTN","RMPR5HQ4",90,0)
 G START
"RTN","RMPR5HQ4",91,0)
LEV(RMPRDET) ;
"RTN","RMPR5HQ4",92,0)
 N DIR,X,Y
"RTN","RMPR5HQ4",93,0)
 S RMPRDET=$G(RMPRDET)
"RTN","RMPR5HQ4",94,0)
 S DIR(0)="S^G:NPPD Group;L:NPPD Line;H:HCPCS Code;I:HCPCS Item"
"RTN","RMPR5HQ4",95,0)
 S DIR("A")="Select inventory report level of detail"
"RTN","RMPR5HQ4",96,0)
 D ^DIR
"RTN","RMPR5HQ4",97,0)
 I Y="",$D(DTOUT) S X="^" G LEVX
"RTN","RMPR5HQ4",98,0)
 I Y="^"!(Y="^^") S X="^" G LEVX
"RTN","RMPR5HQ4",99,0)
 S RMPRDET=Y
"RTN","RMPR5HQ4",100,0)
LEVX Q X
"RTN","RMPR5HQ4",101,0)
 ;
"RTN","RMPR5HQ4",102,0)
 ; Prompt for Start Date
"RTN","RMPR5HQ4",103,0)
STDT(RMPRSDT) ; RMPRSDT is start date in FM internal form
"RTN","RMPR5HQ4",104,0)
 N %DT,X,Y
"RTN","RMPR5HQ4",105,0)
 S %DT("A")="Beginning Date: "
"RTN","RMPR5HQ4",106,0)
 S %DT(0)=-DT
"RTN","RMPR5HQ4",107,0)
 S %DT="AEP"
"RTN","RMPR5HQ4",108,0)
 D ^%DT
"RTN","RMPR5HQ4",109,0)
 I Y<0 S X="^"
"RTN","RMPR5HQ4",110,0)
 S RMPRSDT=$P(Y,".",1)
"RTN","RMPR5HQ4",111,0)
 Q X
"RTN","RMPR5HQ4",112,0)
 ;
"RTN","RMPR5HQ4",113,0)
 ; Prompt for End Date
"RTN","RMPR5HQ4",114,0)
ENDT(RMPREDT,RMPRSDT) ; RMPREDT is end date in FM internal form
"RTN","RMPR5HQ4",115,0)
 N %DT,X,Y
"RTN","RMPR5HQ4",116,0)
ENDT1 S %DT("A")="Ending Date: "
"RTN","RMPR5HQ4",117,0)
 S %DT(0)=-DT
"RTN","RMPR5HQ4",118,0)
 S %DT="AEP"
"RTN","RMPR5HQ4",119,0)
 D ^%DT
"RTN","RMPR5HQ4",120,0)
 I Y<0 S X="^" G ENDT1X
"RTN","RMPR5HQ4",121,0)
 S RMPREDT=$P(Y,".",1)
"RTN","RMPR5HQ4",122,0)
 I RMPREDT<RMPRSDT W !,"Ending date should not precede start date",! G ENDT1
"RTN","RMPR5HQ4",123,0)
ENDT1X Q X
"RTN","RMPR5HQ4",124,0)
 ;
"RTN","RMPR5HQ4",125,0)
 ; Prompt for NPPD group
"RTN","RMPR5HQ4",126,0)
NPGRP(RMPRSEL) ;
"RTN","RMPR5HQ4",127,0)
 N DIR,DA,X,Y,RMPRCNT,RMPRI,RMPRJ,RMPRGRP
"RTN","RMPR5HQ4",128,0)
 W !
"RTN","RMPR5HQ4",129,0)
 F RMPRCNT=1:1:$L(RMPRGLST,";") D
"RTN","RMPR5HQ4",130,0)
 . W !,$J(RMPRCNT,2)_". "_$P($P(RMPRGLST,";",RMPRCNT),":",2)
"RTN","RMPR5HQ4",131,0)
 . Q
"RTN","RMPR5HQ4",132,0)
 S DIR(0)="L" S:$D(RMPRSEL) DIR(0)=DIR(0)_"O"
"RTN","RMPR5HQ4",133,0)
 S DIR("A")="Select NPPD Group "
"RTN","RMPR5HQ4",134,0)
 S $P(DIR(0),U,2)="1:"_RMPRCNT
"RTN","RMPR5HQ4",135,0)
 D ^DIR
"RTN","RMPR5HQ4",136,0)
 I Y="",$D(DTOUT) S X="^" G NPGRPX
"RTN","RMPR5HQ4",137,0)
 I Y="^"!(Y="^^") S X="^" G NPGRPX
"RTN","RMPR5HQ4",138,0)
 I Y="" S X="" G NPGRPX ; no selection so just exit
"RTN","RMPR5HQ4",139,0)
 ;
"RTN","RMPR5HQ4",140,0)
 ; add in the new selections
"RTN","RMPR5HQ4",141,0)
 S RMPRI=""
"RTN","RMPR5HQ4",142,0)
 F  S RMPRI=$O(Y(RMPRI)) Q:RMPRI=""  D  Q:RMPRI=""
"RTN","RMPR5HQ4",143,0)
 . I $L(Y(RMPRI),",")-1=RMPRCNT D  Q
"RTN","RMPR5HQ4",144,0)
 .. K RMPRSEL
"RTN","RMPR5HQ4",145,0)
 .. S RMPRSEL("*")="" ; all groups selected
"RTN","RMPR5HQ4",146,0)
 .. S RMPRI=""
"RTN","RMPR5HQ4",147,0)
 .. Q
"RTN","RMPR5HQ4",148,0)
 . F RMPRJ=1:1:$L(Y(RMPRI),",")-1 D
"RTN","RMPR5HQ4",149,0)
 .. S RMPRGRP=$P($P(RMPRGLST,";",$P(Y(RMPRI),",",RMPRJ)),":",1)
"RTN","RMPR5HQ4",150,0)
 .. K RMPRSEL(RMPRGRP)
"RTN","RMPR5HQ4",151,0)
 .. S RMPRSEL(RMPRGRP,"*")=""
"RTN","RMPR5HQ4",152,0)
 .. Q
"RTN","RMPR5HQ4",153,0)
 . Q
"RTN","RMPR5HQ4",154,0)
NPGRPX Q X
"RTN","RMPR5HQ4",155,0)
 ;
"RTN","RMPR5HQ4",156,0)
 ; Prompt for NPPD line
"RTN","RMPR5HQ4",157,0)
 ; User can select lines within a group
"RTN","RMPR5HQ4",158,0)
 ; If more than 1 group selected must use all lines within those groups
"RTN","RMPR5HQ4",159,0)
NPLIN(RMPRSEL) ;
"RTN","RMPR5HQ4",160,0)
 N DIR,DA,X,Y,RMPRHPG,RMPRGRP,RMPRLIN,RMPREXC,RMPRI,RMPRJ
"RTN","RMPR5HQ4",161,0)
 S DIR(0)="L" S:$D(RMPRSEL) DIR(0)=DIR(0)_"O"
"RTN","RMPR5HQ4",162,0)
NPLIN1C S RMPREXC=$$NPGRP(.RMPRSEL)
"RTN","RMPR5HQ4",163,0)
 I RMPREXC="^" S X="^" G NPLIN1X
"RTN","RMPR5HQ4",164,0)
 I $O(RMPRSEL(""))="*" S X="" G NPLIN1X
"RTN","RMPR5HQ4",165,0)
 S RMPRI=0,RMPRJ="" F  S RMPRJ=$O(RMPRSEL(RMPRJ)) Q:RMPRJ=""  S RMPRI=RMPRI+1 Q:RMPRI=2
"RTN","RMPR5HQ4",166,0)
 I RMPRI=2 S X="" G NPLIN1X
"RTN","RMPR5HQ4",167,0)
 S RMPRGRP=$O(RMPRSEL("")) K RMPRSEL
"RTN","RMPR5HQ4",168,0)
NPLIN1A D NPLINH(RMPRGRP,.RMPRHPG)
"RTN","RMPR5HQ4",169,0)
 S $P(DIR(0),U,2)="1:"_RMPRHPG
"RTN","RMPR5HQ4",170,0)
 S DIR("A")="Select NPPD line(s) within the above group"
"RTN","RMPR5HQ4",171,0)
 D ^DIR
"RTN","RMPR5HQ4",172,0)
 I Y="",$D(DTOUT) S X="^" G NPLIN1X
"RTN","RMPR5HQ4",173,0)
 I Y="^"!(Y="^^") S X="^" G NPLIN1X
"RTN","RMPR5HQ4",174,0)
 I Y="" S X="" G NPLIN1X
"RTN","RMPR5HQ4",175,0)
 S RMPRI=""
"RTN","RMPR5HQ4",176,0)
 F  S RMPRI=$O(Y(RMPRI)) Q:RMPRI=""  D  Q:RMPRI=""
"RTN","RMPR5HQ4",177,0)
 . I $L(Y(RMPRI),",")-1=RMPRHPG D  Q
"RTN","RMPR5HQ4",178,0)
 .. K RMPRSEL(RMPRGRP)
"RTN","RMPR5HQ4",179,0)
 .. S RMPRSEL(RMPRGRP,"*")="" ; all lines selected
"RTN","RMPR5HQ4",180,0)
 .. S RMPRI=""
"RTN","RMPR5HQ4",181,0)
 .. Q
"RTN","RMPR5HQ4",182,0)
 . F RMPRJ=1:1:$L(Y(RMPRI),",")-1 D
"RTN","RMPR5HQ4",183,0)
 .. D NPLINC(RMPRGRP,$P(Y(RMPRI),",",RMPRJ),.RMPRLIN)
"RTN","RMPR5HQ4",184,0)
 .. K RMPRSEL(RMPRGRP,RMPRLIN)
"RTN","RMPR5HQ4",185,0)
 .. S RMPRSEL(RMPRGRP,RMPRLIN,"*")=""
"RTN","RMPR5HQ4",186,0)
 .. Q
"RTN","RMPR5HQ4",187,0)
 . Q
"RTN","RMPR5HQ4",188,0)
 S X=""
"RTN","RMPR5HQ4",189,0)
NPLIN1X Q X
"RTN","RMPR5HQ4",190,0)
 ;
"RTN","RMPR5HQ4",191,0)
 ; Check entered NPPD line
"RTN","RMPR5HQ4",192,0)
 ; OFFS = line offset in RMPRN62 if valid NPPD line (else null)
"RTN","RMPR5HQ4",193,0)
 ;
"RTN","RMPR5HQ4",194,0)
NPLINC(RMPRGRP,INP,RMPRLIN) ;
"RTN","RMPR5HQ4",195,0)
 N S,OFFS
"RTN","RMPR5HQ4",196,0)
 S OFFS=RMPRLINX(RMPRGRP)+INP-1
"RTN","RMPR5HQ4",197,0)
 S S=$P($T(DES+OFFS^RMPRN62),";;",2)
"RTN","RMPR5HQ4",198,0)
 S RMPRLIN=$P(S,";",1)
"RTN","RMPR5HQ4",199,0)
 Q
"RTN","RMPR5HQ4",200,0)
 ;
"RTN","RMPR5HQ4",201,0)
 ; Display NPPD lines for a given group
"RTN","RMPR5HQ4",202,0)
NPLINH(RMPRGRP,TO) ;
"RTN","RMPR5HQ4",203,0)
 N FR,I,S,LINCD
"RTN","RMPR5HQ4",204,0)
 W !,"NPPD Lines for Group: ",RMPRGRP," - ",RMPRGRPA(RMPRGRP),!
"RTN","RMPR5HQ4",205,0)
 S FR=RMPRLINX(RMPRGRP)
"RTN","RMPR5HQ4",206,0)
 S TO=0
"RTN","RMPR5HQ4",207,0)
 F  S S=$P($T(DES+FR^RMPRN62),";;",2),LINCD=$P(S,";",1) Q:$P(LINCD," ",1)'=RMPRGRP  D
"RTN","RMPR5HQ4",208,0)
 . S TO=TO+1
"RTN","RMPR5HQ4",209,0)
 . W !,$J(TO,2),". ",$P(S,";",1)_" "_$P(S,";",2)
"RTN","RMPR5HQ4",210,0)
 . W:$D(RMPRSEL(RMPRGRP,LINCD)) ?65,"<< Selected"
"RTN","RMPR5HQ4",211,0)
 . S FR=FR+1
"RTN","RMPR5HQ4",212,0)
 . Q
"RTN","RMPR5HQ4",213,0)
 Q
"RTN","RMPR5HQ4",214,0)
 ;
"RTN","RMPR5HQ4",215,0)
 ; Select type of HCPCS selection
"RTN","RMPR5HQ4",216,0)
HCPCTY(RMPRHTY) ;
"RTN","RMPR5HQ4",217,0)
 N DIR,DA,X,Y
"RTN","RMPR5HQ4",218,0)
 S DIR("B")="A"
"RTN","RMPR5HQ4",219,0)
 S DIR(0)="S^A:ALL HCPCS;G:ALL HCPCS for NPPD group;L:ALL HCPCS for NPPD  line;S:Select individual HCPCS"
"RTN","RMPR5HQ4",220,0)
 S DIR("A")="Choose HCPCS selection option"
"RTN","RMPR5HQ4",221,0)
 D ^DIR
"RTN","RMPR5HQ4",222,0)
 I Y="",$D(DTOUT) S X="^" G HCPCTYX
"RTN","RMPR5HQ4",223,0)
 I Y="^"!(Y="^^") S X="^" G HCPCTYX
"RTN","RMPR5HQ4",224,0)
 I X="" S RMPRHTY="" G HCPCTYX
"RTN","RMPR5HQ4",225,0)
 S RMPRHTY=Y
"RTN","RMPR5HQ4",226,0)
HCPCTYX Q X
"RTN","RMPR5HQ4",227,0)
 ;
"RTN","RMPR5HQ4",228,0)
 ; Select HCPCS
"RTN","RMPR5HQ4",229,0)
HCPC(RMPRSEL,RMPRSCN) ;
"RTN","RMPR5HQ4",230,0)
 N DIC,X,Y,DA,RMPRLIN
"RTN","RMPR5HQ4",231,0)
 S DIC="^RMPR(661.1,",DIC(0)="AEQMZ"
"RTN","RMPR5HQ4",232,0)
HCPC1 S DIC("A")="Select HCPCS "_RMPRSCN_": "
"RTN","RMPR5HQ4",233,0)
 D ^DIC
"RTN","RMPR5HQ4",234,0)
 I $D(DTOUT) S X="^" G HCPCX
"RTN","RMPR5HQ4",235,0)
 I $D(DUOUT) S X="^" G HCPCX
"RTN","RMPR5HQ4",236,0)
 I X="" G HCPCX
"RTN","RMPR5HQ4",237,0)
 S RMPRLIN=$P(Y(0),U,7)
"RTN","RMPR5HQ4",238,0)
 S:RMPRLIN="" RMPRLIN="999 X"
"RTN","RMPR5HQ4",239,0)
 S RMPRSEL($P(RMPRLIN," ",1),RMPRLIN,$P(Y,U,1))=""
"RTN","RMPR5HQ4",240,0)
 S RMPRSCN=RMPRSCN+1
"RTN","RMPR5HQ4",241,0)
 G HCPC1
"RTN","RMPR5HQ4",242,0)
HCPCX Q X
"RTN","RMPR5HQ4",243,0)
 ;
"RTN","RMPR5HQ4",244,0)
 ; Select Report device
"RTN","RMPR5HQ4",245,0)
REPDEV(RMPRDEV) ;
"RTN","RMPR5HQ4",246,0)
 N X,POP,Y,%ZIS,IOP
"RTN","RMPR5HQ4",247,0)
REPDEV1 S X=""
"RTN","RMPR5HQ4",248,0)
 S %ZIS="MQ" K IOP D ^%ZIS I POP S X="^" G REPDEVX
"RTN","RMPR5HQ4",249,0)
 I IOM<132 W !,"You need at least 132 columns for this report.",!,"Please use a device capable of this requirement.",! G REPDEV1
"RTN","RMPR5HQ4",250,0)
REPDEVX Q X
"RTN","RMPR5HQ4",251,0)
 ;
"RTN","RMPR5HQ4",252,0)
 ; LINX is an array used in the help system within NPPD line selection
"RTN","RMPR5HQ4",253,0)
 ; Basically each page of help will show lines for a group.
"RTN","RMPR5HQ4",254,0)
 ; Each page has a start line corresponding to an offset in RMPRN62
"RTN","RMPR5HQ4",255,0)
SETLIN(LINX) ;
"RTN","RMPR5HQ4",256,0)
 N I,HLPPG,S,LINCD,LINCD0
"RTN","RMPR5HQ4",257,0)
 S HLPPG=0,LINCD0=""
"RTN","RMPR5HQ4",258,0)
 F I=1:1 S S=$T(DES+I^RMPRN62) D  Q:LINCD0=""
"RTN","RMPR5HQ4",259,0)
 . S LINCD=$P($P(S,";;",2),";",1)
"RTN","RMPR5HQ4",260,0)
 . S HLPPG=$P(LINCD," ",1)
"RTN","RMPR5HQ4",261,0)
 . I $E(HLPPG)'?1N S LINX(HLPPG)=I,LINCD0="" Q
"RTN","RMPR5HQ4",262,0)
 . I HLPPG'=LINCD0 D  Q
"RTN","RMPR5HQ4",263,0)
 .. S LINX(HLPPG)=I,LINCD0=HLPPG
"RTN","RMPR5HQ4",264,0)
 .. Q
"RTN","RMPR5HQ4",265,0)
 . Q
"RTN","RMPR5HQ4",266,0)
 Q
"RTN","RMPR5HQ4",267,0)
 ;
"RTN","RMPR5HQ4",268,0)
 ; Set NPPD (new) group codes and desc. for use in DIR
"RTN","RMPR5HQ4",269,0)
 ; set of codes prompt.
"RTN","RMPR5HQ4",270,0)
 ; Hard coded, but better if in Fileman file sometime
"RTN","RMPR5HQ4",271,0)
 ; Codes and desc. copied from RMPRN6UT
"RTN","RMPR5HQ4",272,0)
GRPLST(LIST) ;
"RTN","RMPR5HQ4",273,0)
 S LIST="100:WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPR5HQ4",274,0)
 S $P(LIST,";",2)="200:ARTIFICIAL LEGS"
"RTN","RMPR5HQ4",275,0)
 S $P(LIST,";",3)="300:ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPR5HQ4",276,0)
 S $P(LIST,";",4)="400:BRACES AND ORTHOTICS"
"RTN","RMPR5HQ4",277,0)
 S $P(LIST,";",5)="500:SHOES/ORTHOTICS"
"RTN","RMPR5HQ4",278,0)
 S $P(LIST,";",6)="600:SENSORI-NEURO AIDS"
"RTN","RMPR5HQ4",279,0)
 S $P(LIST,";",7)="700:RESTORATIONS"
"RTN","RMPR5HQ4",280,0)
 S $P(LIST,";",8)="800:OXYGEN AND RESPIRATORY"
"RTN","RMPR5HQ4",281,0)
 S $P(LIST,";",9)="900:MEDICAL EQUIPMENT"
"RTN","RMPR5HQ4",282,0)
 S $P(LIST,";",10)="910:ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPR5HQ4",283,0)
 S $P(LIST,";",11)="920:HOME DIALYSIS PROGRAM"
"RTN","RMPR5HQ4",284,0)
 S $P(LIST,";",12)="930:ADAPTIVE EQUIPMENT"
"RTN","RMPR5HQ4",285,0)
 S $P(LIST,";",13)="940:HISA"
"RTN","RMPR5HQ4",286,0)
 S $P(LIST,";",14)="960:SURGICAL IMPLANTS"
"RTN","RMPR5HQ4",287,0)
 S $P(LIST,";",15)="999:MISC"
"RTN","RMPR5HQ4",288,0)
 Q
"RTN","RMPR5HQ4",289,0)
 ;
"RTN","RMPR5HQ4",290,0)
 ; Same as above but set into array
"RTN","RMPR5HQ4",291,0)
GRPARY(ARRAY) ;
"RTN","RMPR5HQ4",292,0)
 N LIST,I
"RTN","RMPR5HQ4",293,0)
 K ARRAY
"RTN","RMPR5HQ4",294,0)
 D GRPLST(.LIST)
"RTN","RMPR5HQ4",295,0)
 F I=1:1:$L(LIST,";") S ARRAY($P($P(LIST,";",I),":",1))=$P($P(LIST,";",I),":",2)
"RTN","RMPR5HQ4",296,0)
 Q
"RTN","RMPRN62")
0^5^B13637471
"RTN","RMPRN62",1,0)
RMPRN62 ;Hines OIFO/HNC -NPPD CALCULATIONS ;02/14/98
"RTN","RMPRN62",2,0)
 ;;3.0;PROSTHETICS;**31,39,48,50,57,70,84**;Feb 09, 1996
"RTN","RMPRN62",3,0)
 ;
"RTN","RMPRN62",4,0)
 ; ODJ - patch 50 - 7/28/00 - add line label REP to mark start of
"RTN","RMPRN62",5,0)
 ;                            repair lines.
"RTN","RMPRN62",6,0)
 ; HNC - patch 57 - 4/5/01 - add Dental Implant
"RTN","RMPRN62",7,0)
 ;
"RTN","RMPRN62",8,0)
 ; AAC - Patch 84 - 02-25-04; additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN62",9,0)
 ; AAC - patch 84 - add new lines 100 H,100 I,400 H,900 N,910 B,R10 A,R10 B,R10 C,R60 D.
"RTN","RMPRN62",10,0)
 ; AAC - patch 84 - change desc -100 D,100 G,900 I,900 J,R20 B,R20 C,R91 F.
"RTN","RMPRN62",11,0)
 ;
"RTN","RMPRN62",12,0)
 ;build array or tmp
"RTN","RMPRN62",13,0)
DES ;description of line numbers
"RTN","RMPRN62",14,0)
 ;;100 A;MOTORIZED
"RTN","RMPRN62",15,0)
 ;;100 A1;SCOOTERS
"RTN","RMPRN62",16,0)
 ;;100 B;MANUAL CUSTOM
"RTN","RMPRN62",17,0)
 ;;100 C;STANDARD
"RTN","RMPRN62",18,0)
 ;;100 D;WC ACCESSORIES
"RTN","RMPRN62",19,0)
 ;;100 E;CUSHION FOAM
"RTN","RMPRN62",20,0)
 ;;100 F;CUSHION SPEC
"RTN","RMPRN62",21,0)
 ;;100 G;CARRIERS(INCLUDING WC,SCOOTERS)
"RTN","RMPRN62",22,0)
 ;;100 H;NSC VAN MOD
"RTN","RMPRN62",23,0)
 ;;100 I;SCOOTER ACCESSORIES
"RTN","RMPRN62",24,0)
 ;;200 A;LEG IPOP
"RTN","RMPRN62",25,0)
 ;;200 B;LEG TEM
"RTN","RMPRN62",26,0)
 ;;200 C;LEG PART FOOT
"RTN","RMPRN62",27,0)
 ;;200 E;LEG SYMES
"RTN","RMPRN62",28,0)
 ;;200 F;LEG B/K
"RTN","RMPRN62",29,0)
 ;;200 G;LEG A/O
"RTN","RMPRN62",30,0)
 ;;200 H;LEG A/K
"RTN","RMPRN62",31,0)
 ;;200 I;LEG COMPONENT
"RTN","RMPRN62",32,0)
 ;;300 A;ARM B/E
"RTN","RMPRN62",33,0)
 ;;300 B;ARM A/E
"RTN","RMPRN62",34,0)
 ;;300 C;COSMETIC GLOVES
"RTN","RMPRN62",35,0)
 ;;300 D;ARM A/O
"RTN","RMPRN62",36,0)
 ;;300 E;TERMINAL DEVICES
"RTN","RMPRN62",37,0)
 ;;300 F;EXT.POWERED,ARM
"RTN","RMPRN62",38,0)
 ;;400 A;BRACE ANKLE
"RTN","RMPRN62",39,0)
 ;;400 B;BRACE LEG AK
"RTN","RMPRN62",40,0)
 ;;400 C;BRACE, SPINAL
"RTN","RMPRN62",41,0)
 ;;400 D;BRACE AL/OTH
"RTN","RMPRN62",42,0)
 ;;400 E;ELAS HOSE, EA
"RTN","RMPRN62",43,0)
 ;;400 F;BRACES, KNEE
"RTN","RMPRN62",44,0)
 ;;400 G;CORSET/BELT
"RTN","RMPRN62",45,0)
 ;;400 H;BRACE,WHO
"RTN","RMPRN62",46,0)
 ;;500 A;ARCH SUPT, EA
"RTN","RMPRN62",47,0)
 ;;500 B;SHOE INLAY, EA
"RTN","RMPRN62",48,0)
 ;;500 C;SHOE MOLDED, EA
"RTN","RMPRN62",49,0)
 ;;500 D;SHOE ORTH OTH
"RTN","RMPRN62",50,0)
 ;;500 E;INSERTS, SHOE
"RTN","RMPRN62",51,0)
 ;;500 F;SHOES A/O, EA
"RTN","RMPRN62",52,0)
 ;;600 1;EYEGLASSES PR
"RTN","RMPRN62",53,0)
 ;;600 A;* NO LONGER USED *
"RTN","RMPRN62",54,0)
 ;;600 B;HEARING AIDS
"RTN","RMPRN62",55,0)
 ;;600 C;AID FOR BLIND
"RTN","RMPRN62",56,0)
 ;;600 D;CONT LENS, EA.
"RTN","RMPRN62",57,0)
 ;;600 E;EAR INSERT
"RTN","RMPRN62",58,0)
 ;;600 F;ASSIST LISTEN
"RTN","RMPRN62",59,0)
 ;;700 A;EYE
"RTN","RMPRN62",60,0)
 ;;700 B;FACIAL
"RTN","RMPRN62",61,0)
 ;;700 C;BODY, OTHER
"RTN","RMPRN62",62,0)
 ;;800 A;OXYGEN EQP
"RTN","RMPRN62",63,0)
 ;;800 B;OXYGEN CONCEN
"RTN","RMPRN62",64,0)
 ;;800 C;MOVED TO REPAIR
"RTN","RMPRN62",65,0)
 ;;800 D;OXYGEN, SUPPLIES
"RTN","RMPRN62",66,0)
 ;;800 E;MOVED TO REPAIR
"RTN","RMPRN62",67,0)
 ;;800 F;VENTILATOR, A/O
"RTN","RMPRN62",68,0)
 ;;900 A;WALKING AIDS
"RTN","RMPRN62",69,0)
 ;;900 B;PATIENT LIFT
"RTN","RMPRN62",70,0)
 ;;900 C;BED HOSP STD
"RTN","RMPRN62",71,0)
 ;;900 D;BED HOSP SPEC
"RTN","RMPRN62",72,0)
 ;;900 E;MATTRESS STAN
"RTN","RMPRN62",73,0)
 ;;900 F;MATTRESS SPEC
"RTN","RMPRN62",74,0)
 ;;900 G;BED, ACCESSORIES
"RTN","RMPRN62",75,0)
 ;;900 H;ENVIRON CONTR
"RTN","RMPRN62",76,0)
 ;;900 I;HOME SAFETY EQUIPMENT
"RTN","RMPRN62",77,0)
 ;;900 J;* NO LONGER USED *
"RTN","RMPRN62",78,0)
 ;;900 K;MED EQP AL/OTH
"RTN","RMPRN62",79,0)
 ;;900 L;* NO LONGER USED *
"RTN","RMPRN62",80,0)
 ;;900 M;COMPUTER EQUIP
"RTN","RMPRN62",81,0)
 ;;900 N;TELEMEDICINE
"RTN","RMPRN62",82,0)
 ;;910 A;MED SUP AL/OTH
"RTN","RMPRN62",83,0)
 ;;910 B;BATTERIES
"RTN","RMPRN62",84,0)
 ;;920 A;HOME DIAL EQP
"RTN","RMPRN62",85,0)
 ;;920 B;HOME DIAL SUP
"RTN","RMPRN62",86,0)
 ;;930 A;MOD VANS
"RTN","RMPRN62",87,0)
 ;;930 B;ADAPT EQP AL/OTH
"RTN","RMPRN62",88,0)
 ;;940 A;HISA SC
"RTN","RMPRN62",89,0)
 ;;940 B;HISA NSC
"RTN","RMPRN62",90,0)
 ;;960 A;HEAD & NECK
"RTN","RMPRN62",91,0)
 ;;960 B;ABDOMEN
"RTN","RMPRN62",92,0)
 ;;960 C;UPPER EXTREMITY
"RTN","RMPRN62",93,0)
 ;;960 D;LOWER EXTREMITY
"RTN","RMPRN62",94,0)
 ;;960 E;THORACIC
"RTN","RMPRN62",95,0)
 ;;960 F;DENTAL IMPLANT
"RTN","RMPRN62",96,0)
 ;;999 A;AL/OTH ITEMS
"RTN","RMPRN62",97,0)
 ;;999 X;HCPCS NOT GRP
"RTN","RMPRN62",98,0)
 ;;999 Z;NO HCPCS
"RTN","RMPRN62",99,0)
REP ;;R10 A;WHEELCHAIR
"RTN","RMPRN62",100,0)
 ;;R10 B;CARRIERS
"RTN","RMPRN62",101,0)
 ;;R10 C;NSC VAN MOD
"RTN","RMPRN62",102,0)
 ;;R20 A;LEG A/K
"RTN","RMPRN62",103,0)
 ;;R20 B;* NO LONGER USED *
"RTN","RMPRN62",104,0)
 ;;R20 C;LEG B/K
"RTN","RMPRN62",105,0)
 ;;R20 D;LEG ALL OTHER 
"RTN","RMPRN62",106,0)
 ;;R30;ART ARM,TOTAL
"RTN","RMPRN62",107,0)
 ;;R40;BRACE TOTAL
"RTN","RMPRN62",108,0)
 ;;R50 A;ORTH SHOE ALL
"RTN","RMPRN62",109,0)
 ;;R50 B;SHOE MOD
"RTN","RMPRN62",110,0)
 ;;R50 C;A/O ITEM SERV
"RTN","RMPRN62",111,0)
 ;;R60 A;AID FOR BLIND
"RTN","RMPRN62",112,0)
 ;;R60 B;EYEGLASS RPR
"RTN","RMPRN62",113,0)
 ;;R60 C;HEARING AID
"RTN","RMPRN62",114,0)
 ;;R60 D;ASSISTIVE LISTENING DEVICES
"RTN","RMPRN62",115,0)
 ;;R70;HOME DIAL EQU
"RTN","RMPRN62",116,0)
 ;;R80 A;INVALID LIFTS
"RTN","RMPRN62",117,0)
 ;;R80 B;REPAIR TO ECU
"RTN","RMPRN62",118,0)
 ;;R80 C;MED EQUIP A/O
"RTN","RMPRN62",119,0)
 ;;R80 D;HME DELIVERY/PU
"RTN","RMPRN62",120,0)
 ;;R90;ALL OTHER
"RTN","RMPRN62",121,0)
 ;;R90 A;SHIPPING
"RTN","RMPRN62",122,0)
 ;;R91 A;CONCENTRATOR
"RTN","RMPRN62",123,0)
 ;;R91 B;VENTILATOR
"RTN","RMPRN62",124,0)
 ;;R91 C;EQUIPMENT A/O
"RTN","RMPRN62",125,0)
 ;;R91 D;SERVICE VISIT
"RTN","RMPRN62",126,0)
 ;;R91 E;COMPRESSED O2
"RTN","RMPRN62",127,0)
 ;;R91 F;LIQUID O2(LBS)
"RTN","RMPRN62",128,0)
 ;;R91 G;LIQUID DELIVERY SYSTEM
"RTN","RMPRN62",129,0)
 ;;R92 A;VAN MODS
"RTN","RMPRN62",130,0)
 ;;R92 B;AUTO ADPT EQUIP
"RTN","RMPRN62",131,0)
 ;;R99 X;HCPCS NOT GRP
"RTN","RMPRN62",132,0)
 ;;R99 Z;NO HCPCS
"RTN","RMPRN62",133,0)
 ;;END
"RTN","RMPRN6PR")
0^6^B29744968
"RTN","RMPRN6PR",1,0)
RMPRN6PR ;HINES/HNC -PRINT REPAIR WORKSHEETS ;2/14/98
"RTN","RMPRN6PR",2,0)
 ;;3.0;PROSTHETICS;**31,32,39,48,51,84**;Feb 09, 1996
"RTN","RMPRN6PR",3,0)
 ;
"RTN","RMPRN6PR",4,0)
 ; AAC Patch 84, 02-25-04, additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN6PR",5,0)
 ; AAC - Patch 84 change description for R60, 2/25/04
"RTN","RMPRN6PR",6,0)
 ;
"RTN","RMPRN6PR",7,0)
 K ^TMP($J,"RS")
"RTN","RMPRN6PR",8,0)
 S STN=1
"RTN","RMPRN6PR",9,0)
 F  S STN=$O(^TMP($J,"R",STN)) Q:STN=""  D HDR,CDATA,SUM
"RTN","RMPRN6PR",10,0)
 Q
"RTN","RMPRN6PR",11,0)
HDR ;leave this form feed alone
"RTN","RMPRN6PR",12,0)
 W @IOF
"RTN","RMPRN6PR",13,0)
 W !,"REPORT OF REPAIR PROSTHETICS ACTIVITIES"
"RTN","RMPRN6PR",14,0)
 ;header depending on sort selected
"RTN","RMPRN6PR",15,0)
 W !,$$HDR^RMPRN6S(RMPRDET)
"RTN","RMPRN6PR",16,0)
 S Y=DATE(1) D DD^%DT W !,Y," - " S Y=DATE(2) D DD^%DT W Y
"RTN","RMPRN6PR",17,0)
 W !,?10,"STATION: ",STN
"RTN","RMPRN6PR",18,0)
 ;RMPRSUM if summary header
"RTN","RMPRN6PR",19,0)
 Q:$G(RMPRSUM)
"RTN","RMPRN6PR",20,0)
 W !!
"RTN","RMPRN6PR",21,0)
 W !,"Line",?6,"Item",?21,"VA",?26,"Com",?31,"Total",?37,"Cost",?46
"RTN","RMPRN6PR",22,0)
 W "Ave Com",?54
"RTN","RMPRN6PR",23,0)
 W "SC/OP",?61,"NSC/OP",?68,"SC/IP",?74,"NSC/IP"
"RTN","RMPRN6PR",24,0)
 I IOM>120 D
"RTN","RMPRN6PR",25,0)
 .W ?83,"SP LEG"
"RTN","RMPRN6PR",26,0)
 .W ?90,"A&A",?97,"PHC",?104,"ELG REF",?112,"NEW",?120,"$ELG REF"
"RTN","RMPRN6PR",27,0)
 Q
"RTN","RMPRN6PR",28,0)
CDATA ;
"RTN","RMPRN6PR",29,0)
 Q:FL=1
"RTN","RMPRN6PR",30,0)
 S LINE="",LINEP=""
"RTN","RMPRN6PR",31,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PR",32,0)
 F  S LINE=$O(^TMP($J,"R",STN,LINE)) Q:LINE=""  Q:FL=1  D
"RTN","RMPRN6PR",33,0)
 .I $E(LINE,0,3)'=$E(LINEP,0,3) D SUM Q:FL=1  D LBLR
"RTN","RMPRN6PR",34,0)
 .W !,LINE,?6,$E($P(^TMP($J,"R",STN,LINE),U,15),1,15)
"RTN","RMPRN6PR",35,0)
 .W ?21,$P(^TMP($J,"R",STN,LINE),U,1) S CA=CA+$P(^(LINE),U,1)
"RTN","RMPRN6PR",36,0)
 .W ?26,$P(^TMP($J,"R",STN,LINE),U,2) S CB=CB+$P(^(LINE),U,2)
"RTN","RMPRN6PR",37,0)
 .W ?31,$P(^TMP($J,"R",STN,LINE),U,1)+($P(^TMP($J,"R",STN,LINE),U,2))
"RTN","RMPRN6PR",38,0)
 .W ?37,$FN($J($P(^TMP($J,"R",STN,LINE),U,3),0,0),",") S CC=CC+$P(^(LINE),U,3)
"RTN","RMPRN6PR",39,0)
 .W:$P(^TMP($J,"R",STN,LINE),U,2)>0 ?46,$FN($J(($P(^(LINE),U,3))/($P(^(LINE),U,2)),0,0),",")
"RTN","RMPRN6PR",40,0)
 .W ?55,$P(^TMP($J,"R",STN,LINE),U,4) S CD=CD+$P(^(LINE),U,4)
"RTN","RMPRN6PR",41,0)
 .W ?62,$P(^TMP($J,"R",STN,LINE),U,5) S CE=CE+$P(^(LINE),U,5)
"RTN","RMPRN6PR",42,0)
 .W ?69,$P(^TMP($J,"R",STN,LINE),U,6) S CF=CF+$P(^(LINE),U,6)
"RTN","RMPRN6PR",43,0)
 .W ?76,$P(^TMP($J,"R",STN,LINE),U,7) S CG=CG+$P(^(LINE),U,7)
"RTN","RMPRN6PR",44,0)
 .S CH=CH+$P(^TMP($J,"R",STN,LINE),U,8)
"RTN","RMPRN6PR",45,0)
 .S CI=CI+$P(^TMP($J,"R",STN,LINE),U,9)
"RTN","RMPRN6PR",46,0)
 .S CJ=CJ+$P(^TMP($J,"R",STN,LINE),U,10)
"RTN","RMPRN6PR",47,0)
 .S CK=CK+$P(^TMP($J,"R",STN,LINE),U,11)
"RTN","RMPRN6PR",48,0)
 .S CL=CL+$P(^TMP($J,"R",STN,LINE),U,12)
"RTN","RMPRN6PR",49,0)
 .S CM=CM+$P(^TMP($J,"R",STN,LINE),U,16)
"RTN","RMPRN6PR",50,0)
 .I IOM>120 D
"RTN","RMPRN6PR",51,0)
 ..W ?83,$P(^TMP($J,"R",STN,LINE),U,8)
"RTN","RMPRN6PR",52,0)
 ..W ?90,$P(^TMP($J,"R",STN,LINE),U,9)
"RTN","RMPRN6PR",53,0)
 ..W ?97,$P(^TMP($J,"R",STN,LINE),U,10)
"RTN","RMPRN6PR",54,0)
 ..W ?104,$P(^TMP($J,"R",STN,LINE),U,11)
"RTN","RMPRN6PR",55,0)
 ..W ?112,$P(^TMP($J,"R",STN,LINE),U,12)
"RTN","RMPRN6PR",56,0)
 ..W ?120,$P(^TMP($J,"R",STN,LINE),U,16)
"RTN","RMPRN6PR",57,0)
 .S LINEP=LINE
"RTN","RMPRN6PR",58,0)
 Q
"RTN","RMPRN6PR",59,0)
SUM ;Print summary for group
"RTN","RMPRN6PR",60,0)
 Q:FL=1
"RTN","RMPRN6PR",61,0)
 I LINEP'="" D  Q:FL=1
"RTN","RMPRN6PR",62,0)
 .I $Y+13>IOSL,IOST["C-" D CHK Q:FL=1
"RTN","RMPRN6PR",63,0)
 .S GROUPT=CA_U_CB_U_(CA+CB)_U_$J(CC,0,0)_U_CD_U_CE_U_CF_U_CG_U_CH_U_CI_U_CJ_U_CK_U_CL_U_CM
"RTN","RMPRN6PR",64,0)
 .W !,LN,!
"RTN","RMPRN6PR",65,0)
 .W ?21,CA,?26,CB,?31,(CA+CB),?37,$FN($J(CC,0,0),","),?55,CD,?62,CE,?69,CF,?76,CG
"RTN","RMPRN6PR",66,0)
 .I IOM>120 W ?83,CH,?90,CI,?97,CJ,?104,CK,?112,CL,?120,CM
"RTN","RMPRN6PR",67,0)
 .W !
"RTN","RMPRN6PR",68,0)
 .D LBLG
"RTN","RMPRN6PR",69,0)
 .S ^TMP($J,"RS",STN,GROUP,STN)=GROUPT
"RTN","RMPRN6PR",70,0)
 .S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PR",71,0)
 Q:$G(LINEP)'="R99 Z"
"RTN","RMPRN6PR",72,0)
 D FSUM S RMPRSUM=1 D HDR K RMPRSUM
"RTN","RMPRN6PR",73,0)
 W !!,"STATION SUMMARY (REPAIR ACTIVITIES)"
"RTN","RMPRN6PR",74,0)
 ;W !,$$HDR^RMPRN6S(RMPRDET)
"RTN","RMPRN6PR",75,0)
 W !,?21,"VA",?31,"Com",?41,"Total",?51,"Cost",?61
"RTN","RMPRN6PR",76,0)
 W "Ave Com",?71,"Elg Ref $"
"RTN","RMPRN6PR",77,0)
 W !,LN
"RTN","RMPRN6PR",78,0)
 W !,?21,CA,?31,CB,?41,(CA+CB),?51,"$"_$FN($J(CC,0,0),",")
"RTN","RMPRN6PR",79,0)
 W ?61
"RTN","RMPRN6PR",80,0)
 I CB>0 W "$"_$FN($J((CC/CB),0,0),",")
"RTN","RMPRN6PR",81,0)
 W ?71
"RTN","RMPRN6PR",82,0)
 I CM>0 W "$"_$FN($J((CM),0,0),",")
"RTN","RMPRN6PR",83,0)
 W !,LN,!
"RTN","RMPRN6PR",84,0)
 W !,?21,"SC/OP",?31,"NSC/OP",?41,"SC/IP",?51,"NSC/IP"
"RTN","RMPRN6PR",85,0)
 W !,LN,!
"RTN","RMPRN6PR",86,0)
 W ?21,CD,?31,CE,?41,CF,?51,CG
"RTN","RMPRN6PR",87,0)
 W !,LN
"RTN","RMPRN6PR",88,0)
 W !,?21,"SPEC LEG",?31,"A&A",?41,"PHC",?51,"ELG REF",?61,"NEW"
"RTN","RMPRN6PR",89,0)
 W !,LN,!,?21,CH,?31,CI,?41,CJ,?51,CK,?61,CL,!,LN
"RTN","RMPRN6PR",90,0)
 W !,?21,"Total Disability: ",(CD+CE+CF+CG),!,LN,!
"RTN","RMPRN6PR",91,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL)=0
"RTN","RMPRN6PR",92,0)
 I IOST["C-" D CHK
"RTN","RMPRN6PR",93,0)
 Q
"RTN","RMPRN6PR",94,0)
LBLG ;group description fo final repair summary
"RTN","RMPRN6PR",95,0)
 I $E(LINEP,0,3)="R07" S GROUP=$E(LINEP,0,3)_" HEARING AID, LOCAL REPAIRS"
"RTN","RMPRN6PR",96,0)
 I $E(LINEP,0,3)="R10" S GROUP=$E(LINEP,0,3)_" WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6PR",97,0)
 I $E(LINEP,0,3)="R20" S GROUP=$E(LINEP,0,3)_" ARTIFICIAL LEGS"
"RTN","RMPRN6PR",98,0)
 I $E(LINEP,0,3)="R30" S GROUP=$E(LINEP,0,3)_" ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6PR",99,0)
 I $E(LINEP,0,3)="R40" S GROUP=$E(LINEP,0,3)_" BRACES AND ORTHOTICS"
"RTN","RMPRN6PR",100,0)
 I $E(LINEP,0,3)="R50" S GROUP=$E(LINEP,0,3)_" SHOES/ORTHOTICS"
"RTN","RMPRN6PR",101,0)
 I $E(LINEP,0,3)="R60" S GROUP=$E(LINEP,0,3)_" SENSORI-NEURO AIDS"
"RTN","RMPRN6PR",102,0)
 I $E(LINEP,0,3)="R70" S GROUP=$E(LINEP,0,3)_" HOME DIALYSIS EQUIPMENT"
"RTN","RMPRN6PR",103,0)
 I $E(LINEP,0,3)="R80" S GROUP=$E(LINEP,0,3)_" MEDICAL EQUIPMENT"
"RTN","RMPRN6PR",104,0)
 I $E(LINEP,0,3)="R90" S GROUP=$E(LINEP,0,3)_" ALL OTHER"
"RTN","RMPRN6PR",105,0)
 I $E(LINEP,0,3)="R91" S GROUP=$E(LINEP,0,3)_" OXYGEN & RESPIRATORY"
"RTN","RMPRN6PR",106,0)
 I $E(LINEP,0,3)="R92" S GROUP=$E(LINEP,0,3)_" AUTO & VAN EQUIP"
"RTN","RMPRN6PR",107,0)
 I $E(LINEP,0,3)="R99" S GROUP=$E(LINEP,0,3)_" MISC"
"RTN","RMPRN6PR",108,0)
 Q
"RTN","RMPRN6PR",109,0)
LBLR ;label for repair group
"RTN","RMPRN6PR",110,0)
 I $E(LINE,0,3)="R10" W !,"WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6PR",111,0)
 I $E(LINE,0,3)="R20" W !,"ARTIFICIAL LEGS"
"RTN","RMPRN6PR",112,0)
 I $E(LINE,0,3)="R30" W !,"ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6PR",113,0)
 I $E(LINE,0,3)="R40" W !,"BRACES AND ORTHOTICS"
"RTN","RMPRN6PR",114,0)
 I $E(LINE,0,3)="R50" W !,"SHOES/ORTHOTICS"
"RTN","RMPRN6PR",115,0)
 I $E(LINE,0,3)="R60" W !,"SENSORI-NEURO AIDS"
"RTN","RMPRN6PR",116,0)
 I $E(LINE,0,3)="R70" W !,"HOME DIALYSIS EQUIPMENT"
"RTN","RMPRN6PR",117,0)
 I $E(LINE,0,3)="R80",IOST'["C-" D HDR W !,"MEDICAL EQUIPMENT"
"RTN","RMPRN6PR",118,0)
 I $E(LINE,0,3)="R80",IOST["C-" W !,"MEDICAL EQUIPMENT"
"RTN","RMPRN6PR",119,0)
 I $E(LINE,0,3)="R90" W !,"ALL OTHER"
"RTN","RMPRN6PR",120,0)
 I $E(LINE,0,3)="R91" W !,"OXYGEN & RESPIRATORY"
"RTN","RMPRN6PR",121,0)
 I $E(LINE,0,3)="R92" W !,"AUTO & VAN EQUIP"
"RTN","RMPRN6PR",122,0)
 I $E(LINE,0,3)="R99" W !,"MISC"
"RTN","RMPRN6PR",123,0)
 Q
"RTN","RMPRN6PR",124,0)
FSUM ;final summay on Repair Worksheets STATION
"RTN","RMPRN6PR",125,0)
 S H=0
"RTN","RMPRN6PR",126,0)
 F  S H=$O(^TMP($J,"RS",STN,H)) Q:H=""  D
"RTN","RMPRN6PR",127,0)
 .S H1=0,H2=0
"RTN","RMPRN6PR",128,0)
 .F  S H1=$O(^TMP($J,"RS",STN,H,H1)) Q:H1=""  D
"RTN","RMPRN6PR",129,0)
 ..Q:H1'=STN
"RTN","RMPRN6PR",130,0)
 ..S H2=^TMP($J,"RS",STN,H,H1)
"RTN","RMPRN6PR",131,0)
 ..S CA=CA+$P(H2,U,1)
"RTN","RMPRN6PR",132,0)
 ..S CB=CB+$P(H2,U,2)
"RTN","RMPRN6PR",133,0)
 ..S CC=CC+$P(H2,U,4)
"RTN","RMPRN6PR",134,0)
 ..S CD=CD+$P(H2,U,5)
"RTN","RMPRN6PR",135,0)
 ..S CE=CE+$P(H2,U,6)
"RTN","RMPRN6PR",136,0)
 ..S CF=CF+$P(H2,U,7)
"RTN","RMPRN6PR",137,0)
 ..S CG=CG+$P(H2,U,8)
"RTN","RMPRN6PR",138,0)
 ..S CH=CH+$P(H2,U,9)
"RTN","RMPRN6PR",139,0)
 ..S CI=CI+$P(H2,U,10)
"RTN","RMPRN6PR",140,0)
 ..S CJ=CJ+$P(H2,U,11)
"RTN","RMPRN6PR",141,0)
 ..S CK=CK+$P(H2,U,12)
"RTN","RMPRN6PR",142,0)
 ..S CL=CL+$P(H2,U,13)
"RTN","RMPRN6PR",143,0)
 ..S CM=CM+$P(H2,U,14)
"RTN","RMPRN6PR",144,0)
 Q
"RTN","RMPRN6PR",145,0)
CHK ;
"RTN","RMPRN6PR",146,0)
 K DIR W !! S DIR(0)="E" D ^DIR S:+Y'>0 FL=1
"RTN","RMPRN6PR",147,0)
 W @IOF
"RTN","RMPRN6PR",148,0)
 Q
"RTN","RMPRN6PR",149,0)
 ;END
"RTN","RMPRN6PT")
0^7^B34455856
"RTN","RMPRN6PT",1,0)
RMPRN6PT ;HINES/HNC -PRINT NPPD NEW WORKSHEETS ;2/14/98
"RTN","RMPRN6PT",2,0)
 ;;3.0;PROSTHETICS;**31,32,39,51,57,84**;Feb 09, 1996
"RTN","RMPRN6PT",3,0)
 ;
"RTN","RMPRN6PT",4,0)
 ; AAC Patch 84, 02-25-04, additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN6PT",5,0)
 ; AAC Patch 84, 02-25-04, Change Description for 600
"RTN","RMPRN6PT",6,0)
 ;
"RTN","RMPRN6PT",7,0)
 K ^TMP($J,"NS")
"RTN","RMPRN6PT",8,0)
 S STN=1
"RTN","RMPRN6PT",9,0)
 S SSNCT=0,BDC=0
"RTN","RMPRN6PT",10,0)
 F  S BDC=$O(^TMP($J,"A",BDC)) Q:BDC'>0  S SSNCT=SSNCT+1
"RTN","RMPRN6PT",11,0)
 K BDC,^TMP($J,"A")
"RTN","RMPRN6PT",12,0)
 F  S STN=$O(^TMP($J,"N",STN)) Q:STN=""  W:$E(IOST,1,2)="C-" @IOF D HDR,CDATA,SUM
"RTN","RMPRN6PT",13,0)
 Q
"RTN","RMPRN6PT",14,0)
HDR ;
"RTN","RMPRN6PT",15,0)
 ;W @IOF
"RTN","RMPRN6PT",16,0)
 W !,"REPORT OF NEW PROSTHETICS ACTIVITIES"
"RTN","RMPRN6PT",17,0)
 ;header based on sort select
"RTN","RMPRN6PT",18,0)
 W !,$$HDR^RMPRN6S(RMPRDET)
"RTN","RMPRN6PT",19,0)
 S Y=DATE(1) D DD^%DT S DATE(3)=Y W !,DATE(3)," - " S Y=DATE(2) D DD^%DT S DATE(4)=Y W DATE(4)
"RTN","RMPRN6PT",20,0)
 W !,?10,"STATION: ",STN
"RTN","RMPRN6PT",21,0)
 ;RMPRSUM if summary header
"RTN","RMPRN6PT",22,0)
 Q:$G(RMPRSUM)
"RTN","RMPRN6PT",23,0)
 W !!
"RTN","RMPRN6PT",24,0)
 W !,"Line",?6,"Item",?21,"VA",?26,"Com",?31,"Total",?37,"Cost",?46
"RTN","RMPRN6PT",25,0)
 W "Ave Com",?54
"RTN","RMPRN6PT",26,0)
 W "SC/OP",?61,"NSC/OP",?68,"SC/IP",?74,"NSC/IP"
"RTN","RMPRN6PT",27,0)
 I IOM>120 D
"RTN","RMPRN6PT",28,0)
 .W ?83,"SP LEG"
"RTN","RMPRN6PT",29,0)
 .W ?90,"A&A",?97,"PHC",?104,"ELG REF",?112,"NEW",?120,"$ELG REF"
"RTN","RMPRN6PT",30,0)
 Q
"RTN","RMPRN6PT",31,0)
CDATA ;
"RTN","RMPRN6PT",32,0)
 S LINE="",LINEP=""
"RTN","RMPRN6PT",33,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PT",34,0)
 F  S LINE=$O(^TMP($J,"N",STN,LINE)) Q:LINE=""  Q:FL=1  D
"RTN","RMPRN6PT",35,0)
 .I $E(LINE,0,3)'=$E(LINEP,0,3) D SUM Q:FL=1  D LBL
"RTN","RMPRN6PT",36,0)
 .W !,LINE,?6,$E($P(^TMP($J,"N",STN,LINE),U,15),1,15)
"RTN","RMPRN6PT",37,0)
 .W ?21,$P(^TMP($J,"N",STN,LINE),U,1) S CA=CA+$P(^(LINE),U,1)
"RTN","RMPRN6PT",38,0)
 .W ?26,$P(^TMP($J,"N",STN,LINE),U,2) S CB=CB+$P(^(LINE),U,2)
"RTN","RMPRN6PT",39,0)
 .W ?31,$P(^TMP($J,"N",STN,LINE),U,1)+($P(^TMP($J,"N",STN,LINE),U,2))
"RTN","RMPRN6PT",40,0)
 .W ?37,$FN($J($P(^TMP($J,"N",STN,LINE),U,3),0,0),",") S CC=CC+$P(^(LINE),U,3)
"RTN","RMPRN6PT",41,0)
 .W:$P(^TMP($J,"N",STN,LINE),U,2)>0 ?46,$FN($J(($P(^(LINE),U,3))/($P(^(LINE),U,2)),0,0),",")
"RTN","RMPRN6PT",42,0)
 .W ?55,$P(^TMP($J,"N",STN,LINE),U,4) S CD=CD+$P(^(LINE),U,4)
"RTN","RMPRN6PT",43,0)
 .W ?62,$P(^TMP($J,"N",STN,LINE),U,5) S CE=CE+$P(^(LINE),U,5)
"RTN","RMPRN6PT",44,0)
 .W ?69,$P(^TMP($J,"N",STN,LINE),U,6) S CF=CF+$P(^(LINE),U,6)
"RTN","RMPRN6PT",45,0)
 .W ?76,$P(^TMP($J,"N",STN,LINE),U,7) S CG=CG+$P(^(LINE),U,7)
"RTN","RMPRN6PT",46,0)
 .S CH=CH+$P(^TMP($J,"N",STN,LINE),U,8)
"RTN","RMPRN6PT",47,0)
 .S CI=CI+$P(^TMP($J,"N",STN,LINE),U,9)
"RTN","RMPRN6PT",48,0)
 .S CJ=CJ+$P(^TMP($J,"N",STN,LINE),U,10)
"RTN","RMPRN6PT",49,0)
 .S CK=CK+$P(^TMP($J,"N",STN,LINE),U,11)
"RTN","RMPRN6PT",50,0)
 .S CL=CL+$P(^TMP($J,"N",STN,LINE),U,12)
"RTN","RMPRN6PT",51,0)
 .S CM=CM+$P(^TMP($J,"N",STN,LINE),U,16)
"RTN","RMPRN6PT",52,0)
 .I IOM>120 D
"RTN","RMPRN6PT",53,0)
 ..W ?83,$P(^TMP($J,"N",STN,LINE),U,8)
"RTN","RMPRN6PT",54,0)
 ..W ?90,$P(^TMP($J,"N",STN,LINE),U,9)
"RTN","RMPRN6PT",55,0)
 ..W ?97,$P(^TMP($J,"N",STN,LINE),U,10)
"RTN","RMPRN6PT",56,0)
 ..W ?104,$P(^TMP($J,"N",STN,LINE),U,11)
"RTN","RMPRN6PT",57,0)
 ..W ?112,$P(^TMP($J,"N",STN,LINE),U,12)
"RTN","RMPRN6PT",58,0)
 ..W ?120,$P(^TMP($J,"N",STN,LINE),U,16)
"RTN","RMPRN6PT",59,0)
 .S LINEP=LINE
"RTN","RMPRN6PT",60,0)
 Q
"RTN","RMPRN6PT",61,0)
SUM ;Print summary for group
"RTN","RMPRN6PT",62,0)
 Q:FL=1
"RTN","RMPRN6PT",63,0)
 I LINEP'="" D  Q:FL=1
"RTN","RMPRN6PT",64,0)
 .I $Y+13>IOSL,IOST["C-" D CHK Q:FL=1
"RTN","RMPRN6PT",65,0)
 .S GROUPT=CA_U_CB_U_(CA+CB)_U_$J(CC,0,0)_U_CD_U_CE_U_CF_U_CG_U_CH_U_CI_U_CJ_U_CK_U_CL_U_CM
"RTN","RMPRN6PT",66,0)
 .W !,LN,!
"RTN","RMPRN6PT",67,0)
 .W ?21,CA,?26,CB,?31,(CA+CB),?37,$FN($J(CC,0,0),","),?55,CD,?62,CE,?69,CF,?76,CG
"RTN","RMPRN6PT",68,0)
 .I IOM>120 W ?83,CH,?90,CI,?97,CJ,?104,CK,?112,CL,?120,CM
"RTN","RMPRN6PT",69,0)
 .W !
"RTN","RMPRN6PT",70,0)
 .D LBLG
"RTN","RMPRN6PT",71,0)
 .S ^TMP($J,"NS",STN,GROUP,STN)=GROUPT
"RTN","RMPRN6PT",72,0)
 .S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PT",73,0)
 Q:$G(LINEP)'="999 Z"
"RTN","RMPRN6PT",74,0)
 D FSUM S RMPRSUM=1 W @IOF D HDR K RMPRSUM
"RTN","RMPRN6PT",75,0)
 W !!,"STATION SUMMARY (NEW ACTIVITIES)"
"RTN","RMPRN6PT",76,0)
 ;W !,$$HDR^RMPRN6S(RMPRDET)
"RTN","RMPRN6PT",77,0)
 W !,?21,"VA",?31,"Com",?41,"Total",?51,"Cost",?61
"RTN","RMPRN6PT",78,0)
 W "Ave Com",?71,"Elg Ref $"
"RTN","RMPRN6PT",79,0)
 W !,LN
"RTN","RMPRN6PT",80,0)
 W !,?21,$FN(CA,","),?31,$FN(CB,","),?41,$FN((CA+CB),","),?51,"$"_$FN($J(CC,0,0),",")
"RTN","RMPRN6PT",81,0)
 I CB>0 W ?61,"$"_$FN($J((CC/CB),0,0),",")
"RTN","RMPRN6PT",82,0)
 I CM>0 W ?71,"$"_$FN($J(CM,0,0),",")
"RTN","RMPRN6PT",83,0)
 W !,LN,!!
"RTN","RMPRN6PT",84,0)
 W ?21,"SC/OP",?31,"NSC/OP",?41,"SC/IP",?51,"NSC/IP"
"RTN","RMPRN6PT",85,0)
 W !,LN,!,?21,CD,?31,CE,?41,CF,?51,CG
"RTN","RMPRN6PT",86,0)
 W !,LN
"RTN","RMPRN6PT",87,0)
 W !,?21,"SPEC LEG",?31,"A&A",?41,"PHC",?51,"ELG REF",?61,"NEW"
"RTN","RMPRN6PT",88,0)
 W !,LN,!,?21,CH,?31,CI,?41,CJ,?51,CK,?61,CL,!,LN
"RTN","RMPRN6PT",89,0)
 W !,?21,"Total Disability: ",$FN((CD+CE+CF+CG),","),?47,"Unique SSN: ",SSNCT,!
"RTN","RMPRN6PT",90,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PT",91,0)
 I IOST["C-" D CHK
"RTN","RMPRN6PT",92,0)
 Q
"RTN","RMPRN6PT",93,0)
LBLG ;group description for final summary
"RTN","RMPRN6PT",94,0)
 I $E(LINEP,0,3)=100 S GROUP=$E(LINEP,0,3)_" WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6PT",95,0)
 I $E(LINEP,0,3)=200 S GROUP=$E(LINEP,0,3)_" ARTIFICIAL LEGS"
"RTN","RMPRN6PT",96,0)
 I $E(LINEP,0,3)=300 S GROUP=$E(LINEP,0,3)_" ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6PT",97,0)
 I $E(LINEP,0,3)=400 S GROUP=$E(LINEP,0,3)_" BRACES AND ORTHOTICS"
"RTN","RMPRN6PT",98,0)
 I $E(LINEP,0,3)=500 S GROUP=$E(LINEP,0,3)_" SHOES/ORTHOTICS"
"RTN","RMPRN6PT",99,0)
 I $E(LINEP,0,3)=600 S GROUP=$E(LINEP,0,3)_" SENSORI-NEURO AIDS"
"RTN","RMPRN6PT",100,0)
 I $E(LINEP,0,3)=700 S GROUP=$E(LINEP,0,3)_" RESTORATIONS"
"RTN","RMPRN6PT",101,0)
 I $E(LINEP,0,3)=800 S GROUP=$E(LINEP,0,3)_" OXYGEN AND RESPIRATORY"
"RTN","RMPRN6PT",102,0)
 I $E(LINEP,0,3)=900 S GROUP=$E(LINEP,0,3)_" MEDICAL EQUIPMENT"
"RTN","RMPRN6PT",103,0)
 I $E(LINEP,0,3)=910 S GROUP=$E(LINEP,0,3)_" ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN6PT",104,0)
 I $E(LINEP,0,3)=920 S GROUP=$E(LINEP,0,3)_" HOME DIALYSIS PROGRAM"
"RTN","RMPRN6PT",105,0)
 I $E(LINEP,0,3)=930 S GROUP=$E(LINEP,0,3)_" ADAPTIVE EQUIPMENT"
"RTN","RMPRN6PT",106,0)
 I $E(LINEP,0,3)=940 S GROUP=$E(LINEP,0,3)_" HISA"
"RTN","RMPRN6PT",107,0)
 I $E(LINEP,0,3)=960 S GROUP=$E(LINEP,0,3)_" SURGICAL IMPLANTS"
"RTN","RMPRN6PT",108,0)
 I $E(LINEP,0,3)=999 S GROUP=$E(LINEP,0,3)_" MISC"
"RTN","RMPRN6PT",109,0)
 Q
"RTN","RMPRN6PT",110,0)
LBL ;label for group
"RTN","RMPRN6PT",111,0)
 I $E(LINE,0,3)=100 W !,"WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6PT",112,0)
 I $E(LINE,0,3)=200 W !,"ARTIFICIAL LEGS"
"RTN","RMPRN6PT",113,0)
 I $E(LINE,0,3)=300 W !,"ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6PT",114,0)
 I $E(LINE,0,3)=400 W !,"BRACES AND ORTHOTICS"
"RTN","RMPRN6PT",115,0)
 I $E(LINE,0,3)=500,IOST'["C-" W @IOF D HDR W !,"SHOES/ORTHOTICS"
"RTN","RMPRN6PT",116,0)
 I $E(LINE,0,3)=500,IOST["C-" W !,"SHOES/ORTHOTICS"
"RTN","RMPRN6PT",117,0)
 I $E(LINE,0,3)=600 W !,"SENSORI-NEURO AIDS"
"RTN","RMPRN6PT",118,0)
 I $E(LINE,0,3)=700 W !,"RESTORATIONS"
"RTN","RMPRN6PT",119,0)
 I $E(LINE,0,3)=800 W !,"OXYGEN AND RESPIRATORY"
"RTN","RMPRN6PT",120,0)
 I $E(LINE,0,3)=900,IOST'["C-" W @IOF D HDR W !,"MEDICAL EQUIPMENT"
"RTN","RMPRN6PT",121,0)
 I $E(LINE,0,3)=900,IOST["C-" W !,"MEDICAL EQUIPMENT"
"RTN","RMPRN6PT",122,0)
 I $E(LINE,0,3)=910 W !,"ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN6PT",123,0)
 I $E(LINE,0,3)=920 W !,"HOME DIALYSIS PROGRAM"
"RTN","RMPRN6PT",124,0)
 I $E(LINE,0,3)=930 W !,"ADAPTIVE EQUIPMENT"
"RTN","RMPRN6PT",125,0)
 I $E(LINE,0,3)=940 W !,"HISA"
"RTN","RMPRN6PT",126,0)
 I $E(LINE,0,3)=960 W !,"SURGICAL IMPLANTS"
"RTN","RMPRN6PT",127,0)
 I $E(LINE,0,3)=999,IOST'["C-" W @IOF D HDR W !,"MISC"
"RTN","RMPRN6PT",128,0)
 I $E(LINE,0,3)=999,IOST["C-" W !,"MISC"
"RTN","RMPRN6PT",129,0)
 Q
"RTN","RMPRN6PT",130,0)
FSUM ;final summay on New Worksheets STATION
"RTN","RMPRN6PT",131,0)
 S H=0
"RTN","RMPRN6PT",132,0)
 F  S H=$O(^TMP($J,"NS",STN,H)) Q:H=""  D
"RTN","RMPRN6PT",133,0)
 .S H1=0,H2=0
"RTN","RMPRN6PT",134,0)
 .F  S H1=$O(^TMP($J,"NS",STN,H,H1)) Q:H1=""  D
"RTN","RMPRN6PT",135,0)
 ..Q:H1'=STN
"RTN","RMPRN6PT",136,0)
 ..S H2=^TMP($J,"NS",STN,H,H1)
"RTN","RMPRN6PT",137,0)
 ..S CA=CA+$P(H2,U,1)
"RTN","RMPRN6PT",138,0)
 ..S CB=CB+$P(H2,U,2)
"RTN","RMPRN6PT",139,0)
 ..S CC=CC+$P(H2,U,4)
"RTN","RMPRN6PT",140,0)
 ..S CD=CD+$P(H2,U,5)
"RTN","RMPRN6PT",141,0)
 ..S CE=CE+$P(H2,U,6)
"RTN","RMPRN6PT",142,0)
 ..S CF=CF+$P(H2,U,7)
"RTN","RMPRN6PT",143,0)
 ..S CG=CG+$P(H2,U,8)
"RTN","RMPRN6PT",144,0)
 ..S CH=CH+$P(H2,U,9)
"RTN","RMPRN6PT",145,0)
 ..S CI=CI+$P(H2,U,10)
"RTN","RMPRN6PT",146,0)
 ..S CJ=CJ+$P(H2,U,11)
"RTN","RMPRN6PT",147,0)
 ..S CK=CK+$P(H2,U,12)
"RTN","RMPRN6PT",148,0)
 ..S CL=CL+$P(H2,U,13)
"RTN","RMPRN6PT",149,0)
 ..S CM=CM+$P(H2,U,14)
"RTN","RMPRN6PT",150,0)
 Q
"RTN","RMPRN6PT",151,0)
CHK ;
"RTN","RMPRN6PT",152,0)
 K DIR W !! S DIR(0)="E" D ^DIR S:+Y'>0 FL=1
"RTN","RMPRN6PT",153,0)
 W @IOF
"RTN","RMPRN6PT",154,0)
 Q
"RTN","RMPRN6PT",155,0)
 ;END
"RTN","RMPRN6UT")
0^13^B6891484
"RTN","RMPRN6UT",1,0)
RMPRN6UT ;HINES-CIOFO/HNC - DISPLAY HEADER GROUPS NPPD;2-14-98
"RTN","RMPRN6UT",2,0)
 ;;3.0;PROSTHETICS;**32,36,39,44,48,50,57,84**;Feb 09, 1996
"RTN","RMPRN6UT",3,0)
 ;
"RTN","RMPRN6UT",4,0)
 ; ODJ - patch 50 - 7/28/00 - amend repair selection so that we don't
"RTN","RMPRN6UT",5,0)
 ;                            need to alter this routine for NPPD line
"RTN","RMPRN6UT",6,0)
 ;                            changes made in RMPRN62
"RTN","RMPRN6UT",7,0)
 ;
"RTN","RMPRN6UT",8,0)
 ;;
"RTN","RMPRN6UT",9,0)
DIS W !,?5,"1.   WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6UT",10,0)
 W !,?5,"2.   ARTIFICIAL LEGS"
"RTN","RMPRN6UT",11,0)
 W !,?5,"3.   ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6UT",12,0)
 W !,?5,"4.   BRACES AND ORTHOTICS"
"RTN","RMPRN6UT",13,0)
 W !,?5,"5.   SHOES/ORTHOTICS"
"RTN","RMPRN6UT",14,0)
 W !,?5,"6.   SENSORI-NEURO AIDS"
"RTN","RMPRN6UT",15,0)
 W !,?5,"7.   RESTORATIONS"
"RTN","RMPRN6UT",16,0)
 W !,?5,"8.   OXYGEN AND RESPIRATORY"
"RTN","RMPRN6UT",17,0)
 W !,?5,"9.   MEDICAL EQUIPMENT"
"RTN","RMPRN6UT",18,0)
 W !,?5,"10.  ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN6UT",19,0)
 W !,?5,"11.  HOME DIALYSIS PROGRAM"
"RTN","RMPRN6UT",20,0)
 W !,?5,"12.  ADAPTIVE EQUIPMENT"
"RTN","RMPRN6UT",21,0)
 W !,?5,"13.  HISA"
"RTN","RMPRN6UT",22,0)
 W !,?5,"14.  SURGICAL IMPLANTS"
"RTN","RMPRN6UT",23,0)
 W !,?5,"15.  MISC"
"RTN","RMPRN6UT",24,0)
 W !,?5,"16.  REPAIR"
"RTN","RMPRN6UT",25,0)
ASK ;
"RTN","RMPRN6UT",26,0)
 K DIR,DTOUT,DIRUT
"RTN","RMPRN6UT",27,0)
 S RMPRCDE=""
"RTN","RMPRN6UT",28,0)
 S DIR(0)="N^1:16:0"
"RTN","RMPRN6UT",29,0)
 S DIR("A")="Select NPPD Group "
"RTN","RMPRN6UT",30,0)
 D ^DIR
"RTN","RMPRN6UT",31,0)
 G:$D(DIRUT)!($D(DTOUT)) EXIT
"RTN","RMPRN6UT",32,0)
 S BR=0,BRC=0 K BRA W @IOF
"RTN","RMPRN6UT",33,0)
 I Y=1 S SELY=10
"RTN","RMPRN6UT",34,0)
 I Y=2 S SELY=20
"RTN","RMPRN6UT",35,0)
 I Y=3 S SELY=30
"RTN","RMPRN6UT",36,0)
 I Y=4 S SELY=40
"RTN","RMPRN6UT",37,0)
 I Y=5 S SELY=50
"RTN","RMPRN6UT",38,0)
 I Y=6 S SELY=60
"RTN","RMPRN6UT",39,0)
 I Y=7 S SELY=70
"RTN","RMPRN6UT",40,0)
 I Y=8 S SELY=80
"RTN","RMPRN6UT",41,0)
 I Y=9 S SELY=90
"RTN","RMPRN6UT",42,0)
 I Y=10 S SELY=91
"RTN","RMPRN6UT",43,0)
 I Y=11 S SELY=92
"RTN","RMPRN6UT",44,0)
 I Y=12 S SELY=93
"RTN","RMPRN6UT",45,0)
 I Y=13 S SELY=94
"RTN","RMPRN6UT",46,0)
 I Y=14 S SELY=96
"RTN","RMPRN6UT",47,0)
 I Y=15 S SELY=99
"RTN","RMPRN6UT",48,0)
 I Y=16 S SELY=100
"RTN","RMPRN6UT",49,0)
 F  S BR=$O(^TMP($J,"RMPRCODE",BR)) Q:BR=""  D
"RTN","RMPRN6UT",50,0)
 .I $E(BR,1,2)=SELY S BRC=BRC+1 W !?5,BRC_".",?10,BR,?18,^(BR) S BRA(BRC,BR)=""
"RTN","RMPRN6UT",51,0)
 .Q
"RTN","RMPRN6UT",52,0)
 I SELY=100 D
"RTN","RMPRN6UT",53,0)
 . D RSEL
"RTN","RMPRN6UT",54,0)
 . Q
"RTN","RMPRN6UT",55,0)
 E  D
"RTN","RMPRN6UT",56,0)
 . D NSEL
"RTN","RMPRN6UT",57,0)
 . Q
"RTN","RMPRN6UT",58,0)
 G:$D(DIRUT)!($D(DTOUT)) EXIT
"RTN","RMPRN6UT",59,0)
 Q
"RTN","RMPRN6UT",60,0)
RSEL ;repair selection
"RTN","RMPRN6UT",61,0)
 N CNT,Y,OFFS,TXT,I
"RTN","RMPRN6UT",62,0)
 S CNT=$P(^TMP($J,"RMPRCODE"),U,2) ; num of NPPD repair lines
"RTN","RMPRN6UT",63,0)
 S OFFS=CNT-(CNT\2)-1
"RTN","RMPRN6UT",64,0)
 F I=0:1:OFFS D
"RTN","RMPRN6UT",65,0)
 . S TXT=$P($T(REP+I^RMPRN62),";;",2)
"RTN","RMPRN6UT",66,0)
 . W !,$J(I+1,2)_".",?5,$P(TXT,";",1),?14,$P(TXT,";",2)
"RTN","RMPRN6UT",67,0)
 . S TXT=$P($T(REP+I+OFFS+1^RMPRN62),";;",2)
"RTN","RMPRN6UT",68,0)
 . Q:$E(TXT)'="R"
"RTN","RMPRN6UT",69,0)
 . W ?35,$J(I+2+OFFS,2)_".",?40,$P(TXT,";",1),?51,$P(TXT,";",2)
"RTN","RMPRN6UT",70,0)
 . Q
"RTN","RMPRN6UT",71,0)
 F I=OFFS:1:17 W !
"RTN","RMPRN6UT",72,0)
 S DIR(0)="N^1:"_CNT_":0"
"RTN","RMPRN6UT",73,0)
 S DIR("A")="Select NPPD Line "
"RTN","RMPRN6UT",74,0)
 D ^DIR
"RTN","RMPRN6UT",75,0)
 Q:$D(DIRUT)!($D(DTOUT))
"RTN","RMPRN6UT",76,0)
 S TXT=$P($T(REP+Y-1^RMPRN62),";;",2)
"RTN","RMPRN6UT",77,0)
 S RMPRCDE=$P(TXT,";",1)
"RTN","RMPRN6UT",78,0)
 Q
"RTN","RMPRN6UT",79,0)
NSEL ;new select
"RTN","RMPRN6UT",80,0)
 I BR'="" W "QUIT" Q
"RTN","RMPRN6UT",81,0)
 W !
"RTN","RMPRN6UT",82,0)
 S DIR(0)="N^1:"_BRC_":0"
"RTN","RMPRN6UT",83,0)
 S DIR("A")="Select NPPD Line "
"RTN","RMPRN6UT",84,0)
 D ^DIR
"RTN","RMPRN6UT",85,0)
 Q:$D(DIRUT)!($D(DTOUT))
"RTN","RMPRN6UT",86,0)
 S RMPRCDE=$O(BRA(Y,RMPRCDE))
"RTN","RMPRN6UT",87,0)
 Q
"RTN","RMPRN6UT",88,0)
EXIT ;exit on ^ or timeout
"RTN","RMPRN6UT",89,0)
 K ^TMP($J)
"RTN","RMPRN6UT",90,0)
 Q
"RTN","RMPRN6UT",91,0)
 ;END
"RTN","RMPRN72")
0^8^B13814280
"RTN","RMPRN72",1,0)
RMPRN72 ;Hines OIFO/HNC -NPPD CALCULATIONS ;02/14/01
"RTN","RMPRN72",2,0)
 ;;3.0;PROSTHETICS;**57,70,84**;Feb 09, 1996
"RTN","RMPRN72",3,0)
 ;
"RTN","RMPRN72",4,0)
 ; AAC Patch 84, 2/25/04, additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN72",5,0)
 ; AAC Patch 84, Changes description,100 DL,100 GL,900 IL,900 JL,R10 AL,R20 BL,R20 CL,R91 FL.
"RTN","RMPRN72",6,0)
 ; add new lines,100 HL,100 IL,400 HL,900 NL,910 BL,R10 BL,R10 CL,R60 DL.
"RTN","RMPRN72",7,0)
 ;
"RTN","RMPRN72",8,0)
 ;build array or tmp
"RTN","RMPRN72",9,0)
DES ;description of line numbers
"RTN","RMPRN72",10,0)
 ;;100 AL;MOTORIZED
"RTN","RMPRN72",11,0)
 ;;100 A1L;SCOOTERS
"RTN","RMPRN72",12,0)
 ;;100 BL;MANUAL CUSTOM
"RTN","RMPRN72",13,0)
 ;;100 CL;STANDARD
"RTN","RMPRN72",14,0)
 ;;100 DL;WC ACCESSORIES
"RTN","RMPRN72",15,0)
 ;;100 EL;CUSHION FOAM
"RTN","RMPRN72",16,0)
 ;;100 FL;CUSHION SPEC
"RTN","RMPRN72",17,0)
 ;;100 GL;CARRIERS(INCLUDES WC,SCOOTERS)
"RTN","RMPRN72",18,0)
 ;;100 HL;NSC VAN MOD
"RTN","RMPRN72",19,0)
 ;;100 IL;SCOOTER ACCESSORIES
"RTN","RMPRN72",20,0)
 ;;200 AL;LEG IPOP
"RTN","RMPRN72",21,0)
 ;;200 BL;LEG TEM
"RTN","RMPRN72",22,0)
 ;;200 CL;LEG PART FOOT
"RTN","RMPRN72",23,0)
 ;;200 EL;LEG SYMES
"RTN","RMPRN72",24,0)
 ;;200 FL;LEG B/K
"RTN","RMPRN72",25,0)
 ;;200 GL;LEG A/O
"RTN","RMPRN72",26,0)
 ;;200 HL;LEG A/K
"RTN","RMPRN72",27,0)
 ;;200 IL;LEG COMPONENT
"RTN","RMPRN72",28,0)
 ;;300 AL;ARM B/E
"RTN","RMPRN72",29,0)
 ;;300 BL;ARM A/E
"RTN","RMPRN72",30,0)
 ;;300 CL;COSMETIC GLOVES
"RTN","RMPRN72",31,0)
 ;;300 DL;ARM A/O
"RTN","RMPRN72",32,0)
 ;;300 EL;TERMINAL DEVICES
"RTN","RMPRN72",33,0)
 ;;300 FL;EXT.POWERED,ARM
"RTN","RMPRN72",34,0)
 ;;400 AL;BRACE ANKLE
"RTN","RMPRN72",35,0)
 ;;400 BL;BRACE LEG AK
"RTN","RMPRN72",36,0)
 ;;400 CL;BRACE, SPINAL
"RTN","RMPRN72",37,0)
 ;;400 DL;BRACE AL/OTH
"RTN","RMPRN72",38,0)
 ;;400 EL;ELAS HOSE, EA
"RTN","RMPRN72",39,0)
 ;;400 FL;BRACES, KNEE
"RTN","RMPRN72",40,0)
 ;;400 GL;CORSET/BELT
"RTN","RMPRN72",41,0)
 ;;400 HL;BRACE,WHO
"RTN","RMPRN72",42,0)
 ;;500 AL;ARCH SUPT, EA
"RTN","RMPRN72",43,0)
 ;;500 BL;SHOE INLAY, EA
"RTN","RMPRN72",44,0)
 ;;500 CL;SHOE MOLDED, EA
"RTN","RMPRN72",45,0)
 ;;500 DL;SHOE ORTH OTH
"RTN","RMPRN72",46,0)
 ;;500 EL;INSERTS, SHOE
"RTN","RMPRN72",47,0)
 ;;500 FL;SHOES A/O, EA
"RTN","RMPRN72",48,0)
 ;;600 1L;EYEGLASSES PR
"RTN","RMPRN72",49,0)
 ;;600 AL;* NO LONGER USED *
"RTN","RMPRN72",50,0)
 ;;600 BL;HEARING AIDS
"RTN","RMPRN72",51,0)
 ;;600 CL;AID FOR BLIND
"RTN","RMPRN72",52,0)
 ;;600 DL;CONT LENS, EA.
"RTN","RMPRN72",53,0)
 ;;600 EL;EAR INSERT
"RTN","RMPRN72",54,0)
 ;;600 FL;ASSIST LISTEN
"RTN","RMPRN72",55,0)
 ;;700 AL;EYE
"RTN","RMPRN72",56,0)
 ;;700 BL;FACIAL
"RTN","RMPRN72",57,0)
 ;;700 CL;BODY, OTHER
"RTN","RMPRN72",58,0)
 ;;800 AL;OXYGEN EQP
"RTN","RMPRN72",59,0)
 ;;800 BL;OXYGEN CONCEN
"RTN","RMPRN72",60,0)
 ;;800 CL;MOVED TO REPAIR
"RTN","RMPRN72",61,0)
 ;;800 DL;OXYGEN, SUPPLIES
"RTN","RMPRN72",62,0)
 ;;800 EL;MOVED TO REPAIR
"RTN","RMPRN72",63,0)
 ;;800 FL;VENTILATOR, A/O
"RTN","RMPRN72",64,0)
 ;;900 AL;WALKING AIDS
"RTN","RMPRN72",65,0)
 ;;900 BL;PATIENT LIFT
"RTN","RMPRN72",66,0)
 ;;900 CL;BED HOSP STD
"RTN","RMPRN72",67,0)
 ;;900 DL;BED HOSP SPEC
"RTN","RMPRN72",68,0)
 ;;900 EL;MATTRESS STAN
"RTN","RMPRN72",69,0)
 ;;900 FL;MATTRESS SPEC
"RTN","RMPRN72",70,0)
 ;;900 GL;BED, ACCESSORIES
"RTN","RMPRN72",71,0)
 ;;900 HL;ENVIRON CONTR
"RTN","RMPRN72",72,0)
 ;;900 IL;HOME SAFETY EQUIPMENT
"RTN","RMPRN72",73,0)
 ;;900 JL;* NO LONGER USED *
"RTN","RMPRN72",74,0)
 ;;900 KL;MED EQP AL/OTH
"RTN","RMPRN72",75,0)
 ;;900 LL;* NO LONGER USED *
"RTN","RMPRN72",76,0)
 ;;900 ML;COMPUTER EQUIP
"RTN","RMPRN72",77,0)
 ;;900 NL;TELEMEDICINE
"RTN","RMPRN72",78,0)
 ;;910 AL;MED SUP AL/OTH
"RTN","RMPRN72",79,0)
 ;;910 BL;BATTERIES
"RTN","RMPRN72",80,0)
 ;;920 AL;HOME DIAL EQP
"RTN","RMPRN72",81,0)
 ;;920 BL;HOME DIAL SUP
"RTN","RMPRN72",82,0)
 ;;930 AL;MOD VANS
"RTN","RMPRN72",83,0)
 ;;930 BL;ADAPT EQP AL/OTH
"RTN","RMPRN72",84,0)
 ;;940 AL;HISA SC
"RTN","RMPRN72",85,0)
 ;;940 BL;HISA NSC
"RTN","RMPRN72",86,0)
 ;;960 AL;HEAD & NECK
"RTN","RMPRN72",87,0)
 ;;960 BL;ABDOMEN
"RTN","RMPRN72",88,0)
 ;;960 CL;UPPER EXTREMITY
"RTN","RMPRN72",89,0)
 ;;960 DL;LOWER EXTREMITY
"RTN","RMPRN72",90,0)
 ;;960 EL;THORACIC
"RTN","RMPRN72",91,0)
 ;;960 FL;DENTAL IMPLANT
"RTN","RMPRN72",92,0)
 ;;999 AL;AL/OTH ITEMS
"RTN","RMPRN72",93,0)
 ;;999 XL;HCPCS NOT GRP
"RTN","RMPRN72",94,0)
 ;;999 ZL;NO HCPCS
"RTN","RMPRN72",95,0)
REP ;;R10 AL;WHEELCHAIR
"RTN","RMPRN72",96,0)
 ;;R10 BL;CARRIERS
"RTN","RMPRN72",97,0)
 ;;R10 CL;NSC VAN MOD
"RTN","RMPRN72",98,0)
 ;;R20 AL;LEG A/K
"RTN","RMPRN72",99,0)
 ;;R20 BL;* NO LONGER USED *
"RTN","RMPRN72",100,0)
 ;;R20 CL;LEG B/K
"RTN","RMPRN72",101,0)
 ;;R20 DL;LEG ALL OTHER 
"RTN","RMPRN72",102,0)
 ;;R30L;ART ARM,TOTAL
"RTN","RMPRN72",103,0)
 ;;R40L;BRACE TOTAL
"RTN","RMPRN72",104,0)
 ;;R50 AL;ORTH SHOE ALL
"RTN","RMPRN72",105,0)
 ;;R50 BL;SHOE MOD
"RTN","RMPRN72",106,0)
 ;;R50 CL;A/O ITEM SERV
"RTN","RMPRN72",107,0)
 ;;R60 AL;AID FOR BLIND
"RTN","RMPRN72",108,0)
 ;;R60 BL;EYEGLASS RPR
"RTN","RMPRN72",109,0)
 ;;R60 CL;HEARING AID
"RTN","RMPRN72",110,0)
 ;;R60 DL;ASSISTIVE LISTENING DEVICES
"RTN","RMPRN72",111,0)
 ;;R70L;HOME DIAL EQU
"RTN","RMPRN72",112,0)
 ;;R80 AL;INVALID LIFTS
"RTN","RMPRN72",113,0)
 ;;R80 BL;REPAIR TO ECU
"RTN","RMPRN72",114,0)
 ;;R80 CL;MED EQUIP A/O
"RTN","RMPRN72",115,0)
 ;;R80 DL;HME DELIVERY/PU
"RTN","RMPRN72",116,0)
 ;;R90L;ALL OTHER
"RTN","RMPRN72",117,0)
 ;;R90 AL;SHIPPING
"RTN","RMPRN72",118,0)
 ;;R91 AL;CONCENTRATOR
"RTN","RMPRN72",119,0)
 ;;R91 BL;VENTILATOR
"RTN","RMPRN72",120,0)
 ;;R91 CL;EQUIPMENT A/O
"RTN","RMPRN72",121,0)
 ;;R91 DL;SERVICE VISIT
"RTN","RMPRN72",122,0)
 ;;R91 EL;COMPRESSED O2
"RTN","RMPRN72",123,0)
 ;;R91 FL;LIQUID O2(LBS)
"RTN","RMPRN72",124,0)
 ;;R91 GL;LIQUID DELIVERY SYSTEM
"RTN","RMPRN72",125,0)
 ;;R92 AL;VAN MODS
"RTN","RMPRN72",126,0)
 ;;R92 BL;AUTO ADPT EQUIP
"RTN","RMPRN72",127,0)
 ;;R99 XL;HCPCS NOT GRP
"RTN","RMPRN72",128,0)
 ;;R99 ZL;NO HCPCS
"RTN","RMPRN72",129,0)
 ;;END
"RTN","RMPRN7PR")
0^9^B30891961
"RTN","RMPRN7PR",1,0)
RMPRN7PR ;HINES/HNC -PRINT REPAIR WORKSHEETS ;2/14/01
"RTN","RMPRN7PR",2,0)
 ;;3.0;PROSTHETICS;**57,84**;Feb 09, 1996
"RTN","RMPRN7PR",3,0)
 ;
"RTN","RMPRN7PR",4,0)
 ; AAC Patch 84 2/25/04 additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN7PR",5,0)
 ; AAC Patch 84 - New Group description changes, R60
"RTN","RMPRN7PR",6,0)
 ;              - Repair Group description changes, R60
"RTN","RMPRN7PR",7,0)
 ; 
"RTN","RMPRN7PR",8,0)
 K ^TMP($J,"RS")
"RTN","RMPRN7PR",9,0)
 S STN=1
"RTN","RMPRN7PR",10,0)
 F  S STN=$O(^TMP($J,"R",STN)) Q:STN=""  D HDR,CDATA,SUM
"RTN","RMPRN7PR",11,0)
 Q
"RTN","RMPRN7PR",12,0)
HDR ;leave this form feed alone
"RTN","RMPRN7PR",13,0)
 W @IOF
"RTN","RMPRN7PR",14,0)
 W !,"REPORT OF 2529-3 REPAIR PROSTHETICS ACTIVITIES"
"RTN","RMPRN7PR",15,0)
 ;header depending on sort selected
"RTN","RMPRN7PR",16,0)
 W !,$$HDR^RMPRN7S(RMPRDET)
"RTN","RMPRN7PR",17,0)
 S Y=DATE(1) D DD^%DT W !,Y," - " S Y=DATE(2) D DD^%DT W Y
"RTN","RMPRN7PR",18,0)
 W !,?10,"STATION: ",STN
"RTN","RMPRN7PR",19,0)
 ;RMPRSUM if summary header
"RTN","RMPRN7PR",20,0)
 Q:$G(RMPRSUM)
"RTN","RMPRN7PR",21,0)
 W !!
"RTN","RMPRN7PR",22,0)
 W !,"Line",?7,"Item",?21,"VA",?26,"Com",?31,"Total",?37,"Cost",?46
"RTN","RMPRN7PR",23,0)
 W "Ave Com",?54
"RTN","RMPRN7PR",24,0)
 W "SC/OP",?61,"NSC/OP",?68,"SC/IP",?74,"NSC/IP"
"RTN","RMPRN7PR",25,0)
 I IOM>120 D
"RTN","RMPRN7PR",26,0)
 .W ?83,"SP LEG"
"RTN","RMPRN7PR",27,0)
 .W ?90,"A&A",?97,"PHC",?104,"ELG REF",?112,"NEW",?120,"$ELG REF"
"RTN","RMPRN7PR",28,0)
 Q
"RTN","RMPRN7PR",29,0)
CDATA ;
"RTN","RMPRN7PR",30,0)
 Q:FL=1
"RTN","RMPRN7PR",31,0)
 S LINE="",LINEP=""
"RTN","RMPRN7PR",32,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PR",33,0)
 F  S LINE=$O(^TMP($J,"R",STN,LINE)) Q:LINE=""  Q:FL=1  D
"RTN","RMPRN7PR",34,0)
 .I $E(LINE,0,3)'=$E(LINEP,0,3) D SUM Q:FL=1  D LBLR
"RTN","RMPRN7PR",35,0)
 .W !,LINE,?7,$E($P(^TMP($J,"R",STN,LINE),U,15),1,14)
"RTN","RMPRN7PR",36,0)
 .W ?21,$P(^TMP($J,"R",STN,LINE),U,1) S CA=CA+$P(^(LINE),U,1)
"RTN","RMPRN7PR",37,0)
 .W ?26,$P(^TMP($J,"R",STN,LINE),U,2) S CB=CB+$P(^(LINE),U,2)
"RTN","RMPRN7PR",38,0)
 .W ?31,$P(^TMP($J,"R",STN,LINE),U,1)+($P(^TMP($J,"R",STN,LINE),U,2))
"RTN","RMPRN7PR",39,0)
 .W ?37,$FN($J($P(^TMP($J,"R",STN,LINE),U,3),0,0),",") S CC=CC+$P(^(LINE),U,3)
"RTN","RMPRN7PR",40,0)
 .W:$P(^TMP($J,"R",STN,LINE),U,2)>0 ?46,$FN($J(($P(^(LINE),U,3))/($P(^(LINE),U,2)),0,0),",")
"RTN","RMPRN7PR",41,0)
 .W ?55,$P(^TMP($J,"R",STN,LINE),U,4) S CD=CD+$P(^(LINE),U,4)
"RTN","RMPRN7PR",42,0)
 .W ?62,$P(^TMP($J,"R",STN,LINE),U,5) S CE=CE+$P(^(LINE),U,5)
"RTN","RMPRN7PR",43,0)
 .W ?69,$P(^TMP($J,"R",STN,LINE),U,6) S CF=CF+$P(^(LINE),U,6)
"RTN","RMPRN7PR",44,0)
 .W ?76,$P(^TMP($J,"R",STN,LINE),U,7) S CG=CG+$P(^(LINE),U,7)
"RTN","RMPRN7PR",45,0)
 .S CH=CH+$P(^TMP($J,"R",STN,LINE),U,8)
"RTN","RMPRN7PR",46,0)
 .S CI=CI+$P(^TMP($J,"R",STN,LINE),U,9)
"RTN","RMPRN7PR",47,0)
 .S CJ=CJ+$P(^TMP($J,"R",STN,LINE),U,10)
"RTN","RMPRN7PR",48,0)
 .S CK=CK+$P(^TMP($J,"R",STN,LINE),U,11)
"RTN","RMPRN7PR",49,0)
 .S CL=CL+$P(^TMP($J,"R",STN,LINE),U,12)
"RTN","RMPRN7PR",50,0)
 .S CM=CM+$P(^TMP($J,"R",STN,LINE),U,16)
"RTN","RMPRN7PR",51,0)
 .I IOM>120 D
"RTN","RMPRN7PR",52,0)
 ..W ?83,$P(^TMP($J,"R",STN,LINE),U,8)
"RTN","RMPRN7PR",53,0)
 ..W ?90,$P(^TMP($J,"R",STN,LINE),U,9)
"RTN","RMPRN7PR",54,0)
 ..W ?97,$P(^TMP($J,"R",STN,LINE),U,10)
"RTN","RMPRN7PR",55,0)
 ..W ?104,$P(^TMP($J,"R",STN,LINE),U,11)
"RTN","RMPRN7PR",56,0)
 ..W ?112,$P(^TMP($J,"R",STN,LINE),U,12)
"RTN","RMPRN7PR",57,0)
 ..W ?120,$P(^TMP($J,"R",STN,LINE),U,16)
"RTN","RMPRN7PR",58,0)
 .S LINEP=LINE
"RTN","RMPRN7PR",59,0)
 Q
"RTN","RMPRN7PR",60,0)
SUM ;Print summary for group
"RTN","RMPRN7PR",61,0)
 Q:FL=1
"RTN","RMPRN7PR",62,0)
 I LINEP'="" D  Q:FL=1
"RTN","RMPRN7PR",63,0)
 .I $Y+13>IOSL,IOST["C-" D CHK Q:FL=1
"RTN","RMPRN7PR",64,0)
 .S GROUPT=CA_U_CB_U_(CA+CB)_U_$J(CC,0,0)_U_CD_U_CE_U_CF_U_CG_U_CH_U_CI_U_CJ_U_CK_U_CL_U_CM
"RTN","RMPRN7PR",65,0)
 .W !,LN,!
"RTN","RMPRN7PR",66,0)
 .W ?21,CA,?26,CB,?31,(CA+CB),?37,$FN($J(CC,0,0),","),?55,CD,?62,CE,?69,CF,?76,CG
"RTN","RMPRN7PR",67,0)
 .I IOM>120 W ?83,CH,?90,CI,?97,CJ,?104,CK,?112,CL,?120,CM
"RTN","RMPRN7PR",68,0)
 .W !
"RTN","RMPRN7PR",69,0)
 .D LBLG
"RTN","RMPRN7PR",70,0)
 .S ^TMP($J,"RS",STN,GROUP,STN)=GROUPT
"RTN","RMPRN7PR",71,0)
 .S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PR",72,0)
 Q:$G(LINEP)'="R99 ZL"
"RTN","RMPRN7PR",73,0)
 D FSUM S RMPRSUM=1 D HDR K RMPRSUM
"RTN","RMPRN7PR",74,0)
 W !!,"STATION SUMMARY (2529-3 REPAIR ACTIVITIES)"
"RTN","RMPRN7PR",75,0)
 ;W !,$$HDR^RMPRN7S(RMPRDET)
"RTN","RMPRN7PR",76,0)
 W !,?21,"VA",?31,"Com",?41,"Total",?51,"Cost",?61
"RTN","RMPRN7PR",77,0)
 W "Ave Com",?71,"Elg Ref $"
"RTN","RMPRN7PR",78,0)
 W !,LN
"RTN","RMPRN7PR",79,0)
 W !,?21,CA,?31,CB,?41,(CA+CB),?51,"$"_$FN($J(CC,0,0),",")
"RTN","RMPRN7PR",80,0)
 W ?61
"RTN","RMPRN7PR",81,0)
 I CB>0 W "$"_$FN($J((CC/CB),0,0),",")
"RTN","RMPRN7PR",82,0)
 W ?71
"RTN","RMPRN7PR",83,0)
 I CM>0 W "$"_$FN($J((CM),0,0),",")
"RTN","RMPRN7PR",84,0)
 W !,LN,!
"RTN","RMPRN7PR",85,0)
 W !,?21,"SC/OP",?31,"NSC/OP",?41,"SC/IP",?51,"NSC/IP"
"RTN","RMPRN7PR",86,0)
 W !,LN,!
"RTN","RMPRN7PR",87,0)
 W ?21,CD,?31,CE,?41,CF,?51,CG
"RTN","RMPRN7PR",88,0)
 W !,LN
"RTN","RMPRN7PR",89,0)
 W !,?21,"SPEC LEG",?31,"A&A",?41,"PHC",?51,"ELG REF",?61,"NEW"
"RTN","RMPRN7PR",90,0)
 W !,LN,!,?21,CH,?31,CI,?41,CJ,?51,CK,?61,CL,!,LN
"RTN","RMPRN7PR",91,0)
 W !,?21,"Total Disability: ",(CD+CE+CF+CG),!,LN,!
"RTN","RMPRN7PR",92,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL)=0
"RTN","RMPRN7PR",93,0)
 I IOST["C-" D CHK
"RTN","RMPRN7PR",94,0)
 Q
"RTN","RMPRN7PR",95,0)
LBLG ;group description fo final repair summary
"RTN","RMPRN7PR",96,0)
 I $E(LINEP,0,3)="R07" S GROUP=$E(LINEP,0,3)_" HEARING AID, LOCAL REPAIRS"
"RTN","RMPRN7PR",97,0)
 I $E(LINEP,0,3)="R10" S GROUP=$E(LINEP,0,3)_" WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7PR",98,0)
 I $E(LINEP,0,3)="R20" S GROUP=$E(LINEP,0,3)_" ARTIFICIAL LEGS"
"RTN","RMPRN7PR",99,0)
 I $E(LINEP,0,3)="R30" S GROUP=$E(LINEP,0,3)_" ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7PR",100,0)
 I $E(LINEP,0,3)="R40" S GROUP=$E(LINEP,0,3)_" BRACES AND ORTHOTICS"
"RTN","RMPRN7PR",101,0)
 I $E(LINEP,0,3)="R50" S GROUP=$E(LINEP,0,3)_" SHOES/ORTHOTICS"
"RTN","RMPRN7PR",102,0)
 I $E(LINEP,0,3)="R60" S GROUP=$E(LINEP,0,3)_" SENSORI-NEURO AIDS"
"RTN","RMPRN7PR",103,0)
 I $E(LINEP,0,3)="R70" S GROUP=$E(LINEP,0,3)_" HOME DIALYSIS EQUIPMENT"
"RTN","RMPRN7PR",104,0)
 I $E(LINEP,0,3)="R80" S GROUP=$E(LINEP,0,3)_" MEDICAL EQUIPMENT"
"RTN","RMPRN7PR",105,0)
 I $E(LINEP,0,3)="R90" S GROUP=$E(LINEP,0,3)_" ALL OTHER"
"RTN","RMPRN7PR",106,0)
 I $E(LINEP,0,3)="R91" S GROUP=$E(LINEP,0,3)_" OXYGEN & RESPIRATORY"
"RTN","RMPRN7PR",107,0)
 I $E(LINEP,0,3)="R92" S GROUP=$E(LINEP,0,3)_" AUTO & VAN EQUIP"
"RTN","RMPRN7PR",108,0)
 I $E(LINEP,0,3)="R99" S GROUP=$E(LINEP,0,3)_" MISC"
"RTN","RMPRN7PR",109,0)
 Q
"RTN","RMPRN7PR",110,0)
LBLR ;label for repair group
"RTN","RMPRN7PR",111,0)
 I $E(LINE,0,3)="R10" W !,"2529-3 WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7PR",112,0)
 I $E(LINE,0,3)="R20" W !,"2529-3 ARTIFICIAL LEGS"
"RTN","RMPRN7PR",113,0)
 I $E(LINE,0,3)="R30" W !,"2529-3 ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7PR",114,0)
 I $E(LINE,0,3)="R40" W !,"2529-3 BRACES AND ORTHOTICS"
"RTN","RMPRN7PR",115,0)
 I $E(LINE,0,3)="R50" W !,"2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7PR",116,0)
 I $E(LINE,0,3)="R60" W !,"2529-3 SENSORI-NEURO AIDS"
"RTN","RMPRN7PR",117,0)
 I $E(LINE,0,3)="R70" W !,"2529-3 HOME DIALYSIS EQUIPMENT"
"RTN","RMPRN7PR",118,0)
 I $E(LINE,0,3)="R80",IOST'["C-" D HDR W !,"2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PR",119,0)
 I $E(LINE,0,3)="R80",IOST["C-" W !,"2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PR",120,0)
 I $E(LINE,0,3)="R90" W !,"2529-3 ALL OTHER"
"RTN","RMPRN7PR",121,0)
 I $E(LINE,0,3)="R91" W !,"2529-3 OXYGEN & RESPIRATORY"
"RTN","RMPRN7PR",122,0)
 I $E(LINE,0,3)="R92" W !,"2529-3 AUTO & VAN EQUIP"
"RTN","RMPRN7PR",123,0)
 I $E(LINE,0,3)="R99" W !,"2529-3 MISC"
"RTN","RMPRN7PR",124,0)
 Q
"RTN","RMPRN7PR",125,0)
FSUM ;final summay on Repair Worksheets STATION
"RTN","RMPRN7PR",126,0)
 S H=0
"RTN","RMPRN7PR",127,0)
 F  S H=$O(^TMP($J,"RS",STN,H)) Q:H=""  D
"RTN","RMPRN7PR",128,0)
 .S H1=0,H2=0
"RTN","RMPRN7PR",129,0)
 .F  S H1=$O(^TMP($J,"RS",STN,H,H1)) Q:H1=""  D
"RTN","RMPRN7PR",130,0)
 ..Q:H1'=STN
"RTN","RMPRN7PR",131,0)
 ..S H2=^TMP($J,"RS",STN,H,H1)
"RTN","RMPRN7PR",132,0)
 ..S CA=CA+$P(H2,U,1)
"RTN","RMPRN7PR",133,0)
 ..S CB=CB+$P(H2,U,2)
"RTN","RMPRN7PR",134,0)
 ..S CC=CC+$P(H2,U,4)
"RTN","RMPRN7PR",135,0)
 ..S CD=CD+$P(H2,U,5)
"RTN","RMPRN7PR",136,0)
 ..S CE=CE+$P(H2,U,6)
"RTN","RMPRN7PR",137,0)
 ..S CF=CF+$P(H2,U,7)
"RTN","RMPRN7PR",138,0)
 ..S CG=CG+$P(H2,U,8)
"RTN","RMPRN7PR",139,0)
 ..S CH=CH+$P(H2,U,9)
"RTN","RMPRN7PR",140,0)
 ..S CI=CI+$P(H2,U,10)
"RTN","RMPRN7PR",141,0)
 ..S CJ=CJ+$P(H2,U,11)
"RTN","RMPRN7PR",142,0)
 ..S CK=CK+$P(H2,U,12)
"RTN","RMPRN7PR",143,0)
 ..S CL=CL+$P(H2,U,13)
"RTN","RMPRN7PR",144,0)
 ..S CM=CM+$P(H2,U,14)
"RTN","RMPRN7PR",145,0)
 Q
"RTN","RMPRN7PR",146,0)
CHK ;
"RTN","RMPRN7PR",147,0)
 K DIR W !! S DIR(0)="E" D ^DIR S:+Y'>0 FL=1
"RTN","RMPRN7PR",148,0)
 W @IOF
"RTN","RMPRN7PR",149,0)
 Q
"RTN","RMPRN7PR",150,0)
 ;END
"RTN","RMPRN7PT")
0^10^B35975808
"RTN","RMPRN7PT",1,0)
RMPRN7PT ;HINES/HNC -PRINT NPPD NEW WORKSHEETS ;2/14/01
"RTN","RMPRN7PT",2,0)
 ;;3.0;PROSTHETICS;**57,84**;Feb 09, 1996
"RTN","RMPRN7PT",3,0)
 ;
"RTN","RMPRN7PT",4,0)
 ; AAC Patch 84, 2/25/04 additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN7PT",5,0)
 ; AAC Patch 84, 2/25/04 change description for group 600
"RTN","RMPRN7PT",6,0)
 ;
"RTN","RMPRN7PT",7,0)
 K ^TMP($J,"NS")
"RTN","RMPRN7PT",8,0)
 S STN=1
"RTN","RMPRN7PT",9,0)
 S SSNCT=0,BDC=0
"RTN","RMPRN7PT",10,0)
 F  S BDC=$O(^TMP($J,"A",BDC)) Q:BDC'>0  S SSNCT=SSNCT+1
"RTN","RMPRN7PT",11,0)
 K BDC,^TMP($J,"A")
"RTN","RMPRN7PT",12,0)
 F  S STN=$O(^TMP($J,"N",STN)) Q:STN=""  W:$E(IOST,1,2)="C-" @IOF D HDR,CDATA,SUM
"RTN","RMPRN7PT",13,0)
 Q
"RTN","RMPRN7PT",14,0)
HDR ;
"RTN","RMPRN7PT",15,0)
 W !,"REPORT OF 2529-3 NEW PROSTHETICS ACTIVITIES"
"RTN","RMPRN7PT",16,0)
 ;header based on sort select
"RTN","RMPRN7PT",17,0)
 W !,$$HDR^RMPRN7S(RMPRDET)
"RTN","RMPRN7PT",18,0)
 S Y=DATE(1) D DD^%DT S DATE(3)=Y W !,DATE(3)," - " S Y=DATE(2) D DD^%DT S DATE(4)=Y W DATE(4)
"RTN","RMPRN7PT",19,0)
 W !,?10,"STATION: ",STN
"RTN","RMPRN7PT",20,0)
 ;RMPRSUM if summary header
"RTN","RMPRN7PT",21,0)
 Q:$G(RMPRSUM)
"RTN","RMPRN7PT",22,0)
 W !!
"RTN","RMPRN7PT",23,0)
 W !,"Line",?7,"Item",?21,"VA",?26,"Com",?31,"Total",?37,"Cost",?46
"RTN","RMPRN7PT",24,0)
 W "Ave Com",?54
"RTN","RMPRN7PT",25,0)
 W "SC/OP",?61,"NSC/OP",?68,"SC/IP",?74,"NSC/IP"
"RTN","RMPRN7PT",26,0)
 I IOM>120 D
"RTN","RMPRN7PT",27,0)
 .W ?83,"SP LEG"
"RTN","RMPRN7PT",28,0)
 .W ?90,"A&A",?97,"PHC",?104,"ELG REF",?112,"NEW",?120,"$ELG REF"
"RTN","RMPRN7PT",29,0)
 Q
"RTN","RMPRN7PT",30,0)
CDATA ;
"RTN","RMPRN7PT",31,0)
 S LINE="",LINEP=""
"RTN","RMPRN7PT",32,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PT",33,0)
 F  S LINE=$O(^TMP($J,"N",STN,LINE)) Q:LINE=""  Q:FL=1  D
"RTN","RMPRN7PT",34,0)
 .I $E(LINE,0,3)'=$E(LINEP,0,3) D SUM Q:FL=1  D LBL
"RTN","RMPRN7PT",35,0)
 .W !,LINE,?7,$E($P(^TMP($J,"N",STN,LINE),U,15),1,14)
"RTN","RMPRN7PT",36,0)
 .W ?21,$P(^TMP($J,"N",STN,LINE),U,1) S CA=CA+$P(^(LINE),U,1)
"RTN","RMPRN7PT",37,0)
 .W ?26,$P(^TMP($J,"N",STN,LINE),U,2) S CB=CB+$P(^(LINE),U,2)
"RTN","RMPRN7PT",38,0)
 .W ?31,$P(^TMP($J,"N",STN,LINE),U,1)+($P(^TMP($J,"N",STN,LINE),U,2))
"RTN","RMPRN7PT",39,0)
 .W ?37,$FN($J($P(^TMP($J,"N",STN,LINE),U,3),0,0),",") S CC=CC+$P(^(LINE),U,3)
"RTN","RMPRN7PT",40,0)
 .W:$P(^TMP($J,"N",STN,LINE),U,2)>0 ?46,$FN($J(($P(^(LINE),U,3))/($P(^(LINE),U,2)),0,0),",")
"RTN","RMPRN7PT",41,0)
 .W ?55,$P(^TMP($J,"N",STN,LINE),U,4) S CD=CD+$P(^(LINE),U,4)
"RTN","RMPRN7PT",42,0)
 .W ?62,$P(^TMP($J,"N",STN,LINE),U,5) S CE=CE+$P(^(LINE),U,5)
"RTN","RMPRN7PT",43,0)
 .W ?69,$P(^TMP($J,"N",STN,LINE),U,6) S CF=CF+$P(^(LINE),U,6)
"RTN","RMPRN7PT",44,0)
 .W ?76,$P(^TMP($J,"N",STN,LINE),U,7) S CG=CG+$P(^(LINE),U,7)
"RTN","RMPRN7PT",45,0)
 .S CH=CH+$P(^TMP($J,"N",STN,LINE),U,8)
"RTN","RMPRN7PT",46,0)
 .S CI=CI+$P(^TMP($J,"N",STN,LINE),U,9)
"RTN","RMPRN7PT",47,0)
 .S CJ=CJ+$P(^TMP($J,"N",STN,LINE),U,10)
"RTN","RMPRN7PT",48,0)
 .S CK=CK+$P(^TMP($J,"N",STN,LINE),U,11)
"RTN","RMPRN7PT",49,0)
 .S CL=CL+$P(^TMP($J,"N",STN,LINE),U,12)
"RTN","RMPRN7PT",50,0)
 .S CM=CM+$P(^TMP($J,"N",STN,LINE),U,16)
"RTN","RMPRN7PT",51,0)
 .I IOM>120 D
"RTN","RMPRN7PT",52,0)
 ..W ?83,$P(^TMP($J,"N",STN,LINE),U,8)
"RTN","RMPRN7PT",53,0)
 ..W ?90,$P(^TMP($J,"N",STN,LINE),U,9)
"RTN","RMPRN7PT",54,0)
 ..W ?97,$P(^TMP($J,"N",STN,LINE),U,10)
"RTN","RMPRN7PT",55,0)
 ..W ?104,$P(^TMP($J,"N",STN,LINE),U,11)
"RTN","RMPRN7PT",56,0)
 ..W ?112,$P(^TMP($J,"N",STN,LINE),U,12)
"RTN","RMPRN7PT",57,0)
 ..W ?120,$P(^TMP($J,"N",STN,LINE),U,16)
"RTN","RMPRN7PT",58,0)
 .S LINEP=LINE
"RTN","RMPRN7PT",59,0)
 Q
"RTN","RMPRN7PT",60,0)
SUM ;Print summary for group
"RTN","RMPRN7PT",61,0)
 Q:FL=1
"RTN","RMPRN7PT",62,0)
 I LINEP'="" D  Q:FL=1
"RTN","RMPRN7PT",63,0)
 .I $Y+13>IOSL,IOST["C-" D CHK Q:FL=1
"RTN","RMPRN7PT",64,0)
 .S GROUPT=CA_U_CB_U_(CA+CB)_U_$J(CC,0,0)_U_CD_U_CE_U_CF_U_CG_U_CH_U_CI_U_CJ_U_CK_U_CL_U_CM
"RTN","RMPRN7PT",65,0)
 .W !,LN,!
"RTN","RMPRN7PT",66,0)
 .W ?21,CA,?26,CB,?31,(CA+CB),?37,$FN($J(CC,0,0),","),?55,CD,?62,CE,?69,CF,?76,CG
"RTN","RMPRN7PT",67,0)
 .I IOM>120 W ?83,CH,?90,CI,?97,CJ,?104,CK,?112,CL,?120,CM
"RTN","RMPRN7PT",68,0)
 .W !
"RTN","RMPRN7PT",69,0)
 .D LBLG
"RTN","RMPRN7PT",70,0)
 .S ^TMP($J,"NS",STN,GROUP,STN)=GROUPT
"RTN","RMPRN7PT",71,0)
 .S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PT",72,0)
 Q:$G(LINEP)'="999 ZL"
"RTN","RMPRN7PT",73,0)
 D FSUM S RMPRSUM=1 D HDR K RMPRSUM
"RTN","RMPRN7PT",74,0)
 W !!,"STATION SUMMARY (2529-3 NEW ACTIVITIES)"
"RTN","RMPRN7PT",75,0)
 W !,?21,"VA",?31,"Com",?41,"Total",?51,"Cost",?61
"RTN","RMPRN7PT",76,0)
 W "Ave Com",?71,"Elg Ref $"
"RTN","RMPRN7PT",77,0)
 W !,LN
"RTN","RMPRN7PT",78,0)
 W !,?21,$FN(CA,","),?31,$FN(CB,","),?41,$FN((CA+CB),","),?51,"$"_$FN($J(CC,0,0),",")
"RTN","RMPRN7PT",79,0)
 I CB>0 W ?61,"$"_$FN($J((CC/CB),0,0),",")
"RTN","RMPRN7PT",80,0)
 I CM>0 W ?71,"$"_$FN($J(CM,0,0),",")
"RTN","RMPRN7PT",81,0)
 W !,LN,!!
"RTN","RMPRN7PT",82,0)
 W ?21,"SC/OP",?31,"NSC/OP",?41,"SC/IP",?51,"NSC/IP"
"RTN","RMPRN7PT",83,0)
 W !,LN,!,?21,CD,?31,CE,?41,CF,?51,CG
"RTN","RMPRN7PT",84,0)
 W !,LN
"RTN","RMPRN7PT",85,0)
 W !,?21,"SPEC LEG",?31,"A&A",?41,"PHC",?51,"ELG REF",?61,"NEW"
"RTN","RMPRN7PT",86,0)
 W !,LN,!,?21,CH,?31,CI,?41,CJ,?51,CK,?61,CL,!,LN
"RTN","RMPRN7PT",87,0)
 W !,?21,"Total Disability: ",$FN((CD+CE+CF+CG),","),?47,"Unique SSN: ",SSNCT,!
"RTN","RMPRN7PT",88,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PT",89,0)
 I IOST["C-" D CHK
"RTN","RMPRN7PT",90,0)
 Q
"RTN","RMPRN7PT",91,0)
LBLG ;group description for final summary
"RTN","RMPRN7PT",92,0)
 I $E(LINEP,0,3)=100 S GROUP=$E(LINEP,0,3)_" 2529-3 WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7PT",93,0)
 I $E(LINEP,0,3)=200 S GROUP=$E(LINEP,0,3)_" 2529-3 ARTIFICIAL LEGS"
"RTN","RMPRN7PT",94,0)
 I $E(LINEP,0,3)=300 S GROUP=$E(LINEP,0,3)_" 2529-3 ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7PT",95,0)
 I $E(LINEP,0,3)=400 S GROUP=$E(LINEP,0,3)_" 2529-3 BRACES AND ORTHOTICS"
"RTN","RMPRN7PT",96,0)
 I $E(LINEP,0,3)=500 S GROUP=$E(LINEP,0,3)_" 2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7PT",97,0)
 I $E(LINEP,0,3)=600 S GROUP=$E(LINEP,0,3)_" 2529-3 SENSORI-NEURO AIDS"
"RTN","RMPRN7PT",98,0)
 I $E(LINEP,0,3)=700 S GROUP=$E(LINEP,0,3)_" 2529-3 RESTORATIONS"
"RTN","RMPRN7PT",99,0)
 I $E(LINEP,0,3)=800 S GROUP=$E(LINEP,0,3)_" 2529-3 OXYGEN AND RESPIRATORY"
"RTN","RMPRN7PT",100,0)
 I $E(LINEP,0,3)=900 S GROUP=$E(LINEP,0,3)_" 2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PT",101,0)
 I $E(LINEP,0,3)=910 S GROUP=$E(LINEP,0,3)_" 2529-3 ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN7PT",102,0)
 I $E(LINEP,0,3)=920 S GROUP=$E(LINEP,0,3)_" 2529-3 HOME DIALYSIS PROGRAM"
"RTN","RMPRN7PT",103,0)
 I $E(LINEP,0,3)=930 S GROUP=$E(LINEP,0,3)_" 2529-3 ADAPTIVE EQUIPMENT"
"RTN","RMPRN7PT",104,0)
 I $E(LINEP,0,3)=940 S GROUP=$E(LINEP,0,3)_" 2529-3 HISA"
"RTN","RMPRN7PT",105,0)
 I $E(LINEP,0,3)=960 S GROUP=$E(LINEP,0,3)_" 2529-3 SURGICAL IMPLANTS"
"RTN","RMPRN7PT",106,0)
 I $E(LINEP,0,3)=999 S GROUP=$E(LINEP,0,3)_" 2529-3 MISC"
"RTN","RMPRN7PT",107,0)
 Q
"RTN","RMPRN7PT",108,0)
LBL ;label for group
"RTN","RMPRN7PT",109,0)
 I $E(LINE,0,3)=100 W !,"2529-3 WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7PT",110,0)
 I $E(LINE,0,3)=200 W !,"2529-3 ARTIFICIAL LEGS"
"RTN","RMPRN7PT",111,0)
 I $E(LINE,0,3)=300 W !,"2529-3 ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7PT",112,0)
 I $E(LINE,0,3)=400 W !,"2529-3 BRACES AND ORTHOTICS"
"RTN","RMPRN7PT",113,0)
 I $E(LINE,0,3)=500,IOST'["C-" W @IOF D HDR W !,"2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7PT",114,0)
 I $E(LINE,0,3)=500,IOST["C-" W !,"2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7PT",115,0)
 I $E(LINE,0,3)=600 W !,"2529-3 SENSORI-NEURO AIDS"
"RTN","RMPRN7PT",116,0)
 I $E(LINE,0,3)=700 W !,"2529-3 RESTORATIONS"
"RTN","RMPRN7PT",117,0)
 I $E(LINE,0,3)=800 W !,"2529-3 OXYGEN AND RESPIRATORY"
"RTN","RMPRN7PT",118,0)
 I $E(LINE,0,3)=900,IOST'["C-" W @IOF D HDR W !,"2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PT",119,0)
 I $E(LINE,0,3)=900,IOST["C-" W !,"2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PT",120,0)
 I $E(LINE,0,3)=910 W !,"2529-3 ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN7PT",121,0)
 I $E(LINE,0,3)=920 W !,"2529-3 HOME DIALYSIS PROGRAM"
"RTN","RMPRN7PT",122,0)
 I $E(LINE,0,3)=930 W !,"2529-3 ADAPTIVE EQUIPMENT"
"RTN","RMPRN7PT",123,0)
 I $E(LINE,0,3)=940 W !,"2529-3 HISA"
"RTN","RMPRN7PT",124,0)
 I $E(LINE,0,3)=960 W !,"2529-3 SURGICAL IMPLANTS"
"RTN","RMPRN7PT",125,0)
 I $E(LINE,0,3)=999,IOST'["C-" W @IOF D HDR W !,"2529-3 MISC"
"RTN","RMPRN7PT",126,0)
 I $E(LINE,0,3)=999,IOST["C-" W !,"2529-3 MISC"
"RTN","RMPRN7PT",127,0)
 Q
"RTN","RMPRN7PT",128,0)
FSUM ;final summay on New Worksheets STATION
"RTN","RMPRN7PT",129,0)
 S H=0
"RTN","RMPRN7PT",130,0)
 F  S H=$O(^TMP($J,"NS",STN,H)) Q:H=""  D
"RTN","RMPRN7PT",131,0)
 .S H1=0,H2=0
"RTN","RMPRN7PT",132,0)
 .F  S H1=$O(^TMP($J,"NS",STN,H,H1)) Q:H1=""  D
"RTN","RMPRN7PT",133,0)
 ..Q:H1'=STN
"RTN","RMPRN7PT",134,0)
 ..S H2=^TMP($J,"NS",STN,H,H1)
"RTN","RMPRN7PT",135,0)
 ..S CA=CA+$P(H2,U,1)
"RTN","RMPRN7PT",136,0)
 ..S CB=CB+$P(H2,U,2)
"RTN","RMPRN7PT",137,0)
 ..S CC=CC+$P(H2,U,4)
"RTN","RMPRN7PT",138,0)
 ..S CD=CD+$P(H2,U,5)
"RTN","RMPRN7PT",139,0)
 ..S CE=CE+$P(H2,U,6)
"RTN","RMPRN7PT",140,0)
 ..S CF=CF+$P(H2,U,7)
"RTN","RMPRN7PT",141,0)
 ..S CG=CG+$P(H2,U,8)
"RTN","RMPRN7PT",142,0)
 ..S CH=CH+$P(H2,U,9)
"RTN","RMPRN7PT",143,0)
 ..S CI=CI+$P(H2,U,10)
"RTN","RMPRN7PT",144,0)
 ..S CJ=CJ+$P(H2,U,11)
"RTN","RMPRN7PT",145,0)
 ..S CK=CK+$P(H2,U,12)
"RTN","RMPRN7PT",146,0)
 ..S CL=CL+$P(H2,U,13)
"RTN","RMPRN7PT",147,0)
 ..S CM=CM+$P(H2,U,14)
"RTN","RMPRN7PT",148,0)
 Q
"RTN","RMPRN7PT",149,0)
CHK ;
"RTN","RMPRN7PT",150,0)
 K DIR W !! S DIR(0)="E" D ^DIR S:+Y'>0 FL=1
"RTN","RMPRN7PT",151,0)
 W @IOF
"RTN","RMPRN7PT",152,0)
 Q
"RTN","RMPRN7PT",153,0)
 ;END
"RTN","RMPRN7UT")
0^11^B7097201
"RTN","RMPRN7UT",1,0)
RMPRN7UT ;HINES-CIOFO/HNC - DISPLAY HEADER GROUPS NPPD;2-14-01
"RTN","RMPRN7UT",2,0)
 ;;3.0;PROSTHETICS;**57,84**;Feb 09, 1996
"RTN","RMPRN7UT",3,0)
 ;
"RTN","RMPRN7UT",4,0)
 ; AAC Patch 84, 2/25/04, additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN7UT",5,0)
 ; AAC Patch 84, 2/25/04, change description for line 6
"RTN","RMPRN7UT",6,0)
 ;
"RTN","RMPRN7UT",7,0)
DIS W !,?5,"1.   2529-3 WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7UT",8,0)
 W !,?5,"2.   2529-3 ARTIFICIAL LEGS"
"RTN","RMPRN7UT",9,0)
 W !,?5,"3.   2529-3 ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7UT",10,0)
 W !,?5,"4.   2529-3 BRACES AND ORTHOTICS"
"RTN","RMPRN7UT",11,0)
 W !,?5,"5.   2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7UT",12,0)
 W !,?5,"6.   2529-3 SENSORI-NEURO AIDS"
"RTN","RMPRN7UT",13,0)
 W !,?5,"7.   2529-3 RESTORATIONS"
"RTN","RMPRN7UT",14,0)
 W !,?5,"8.   2529-3 OXYGEN AND RESPIRATORY"
"RTN","RMPRN7UT",15,0)
 W !,?5,"9.   2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7UT",16,0)
 W !,?5,"10.  2529-3 ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN7UT",17,0)
 W !,?5,"11.  2529-3 HOME DIALYSIS PROGRAM"
"RTN","RMPRN7UT",18,0)
 W !,?5,"12.  2529-3 ADAPTIVE EQUIPMENT"
"RTN","RMPRN7UT",19,0)
 W !,?5,"13.  2529-3 HISA"
"RTN","RMPRN7UT",20,0)
 W !,?5,"14.  2529-3 SURGICAL IMPLANTS"
"RTN","RMPRN7UT",21,0)
 W !,?5,"15.  2529-3 MISC"
"RTN","RMPRN7UT",22,0)
 W !,?5,"16.  2529-3 REPAIR"
"RTN","RMPRN7UT",23,0)
ASK ;
"RTN","RMPRN7UT",24,0)
 K DIR,DTOUT,DIRUT
"RTN","RMPRN7UT",25,0)
 S RMPRCDE=""
"RTN","RMPRN7UT",26,0)
 S DIR(0)="N^1:16:0"
"RTN","RMPRN7UT",27,0)
 S DIR("A")="Select 2529-3 NPPD Group "
"RTN","RMPRN7UT",28,0)
 D ^DIR
"RTN","RMPRN7UT",29,0)
 G:$D(DIRUT)!($D(DTOUT)) EXIT
"RTN","RMPRN7UT",30,0)
 S BR=0,BRC=0 K BRA W @IOF
"RTN","RMPRN7UT",31,0)
 I Y=1 S SELY=10
"RTN","RMPRN7UT",32,0)
 I Y=2 S SELY=20
"RTN","RMPRN7UT",33,0)
 I Y=3 S SELY=30
"RTN","RMPRN7UT",34,0)
 I Y=4 S SELY=40
"RTN","RMPRN7UT",35,0)
 I Y=5 S SELY=50
"RTN","RMPRN7UT",36,0)
 I Y=6 S SELY=60
"RTN","RMPRN7UT",37,0)
 I Y=7 S SELY=70
"RTN","RMPRN7UT",38,0)
 I Y=8 S SELY=80
"RTN","RMPRN7UT",39,0)
 I Y=9 S SELY=90
"RTN","RMPRN7UT",40,0)
 I Y=10 S SELY=91
"RTN","RMPRN7UT",41,0)
 I Y=11 S SELY=92
"RTN","RMPRN7UT",42,0)
 I Y=12 S SELY=93
"RTN","RMPRN7UT",43,0)
 I Y=13 S SELY=94
"RTN","RMPRN7UT",44,0)
 I Y=14 S SELY=96
"RTN","RMPRN7UT",45,0)
 I Y=15 S SELY=99
"RTN","RMPRN7UT",46,0)
 I Y=16 S SELY=100
"RTN","RMPRN7UT",47,0)
 F  S BR=$O(^TMP($J,"RMPRCODE",BR)) Q:BR=""  D
"RTN","RMPRN7UT",48,0)
 .I $E(BR,1,2)=SELY S BRC=BRC+1 W !?5,BRC_".",?10,BR,?18,^(BR) S BRA(BRC,BR)=""
"RTN","RMPRN7UT",49,0)
 .Q
"RTN","RMPRN7UT",50,0)
 I SELY=100 D
"RTN","RMPRN7UT",51,0)
 . D RSEL
"RTN","RMPRN7UT",52,0)
 . Q
"RTN","RMPRN7UT",53,0)
 E  D
"RTN","RMPRN7UT",54,0)
 . D NSEL
"RTN","RMPRN7UT",55,0)
 . Q
"RTN","RMPRN7UT",56,0)
 G:$D(DIRUT)!($D(DTOUT)) EXIT
"RTN","RMPRN7UT",57,0)
 Q
"RTN","RMPRN7UT",58,0)
RSEL ;repair selection
"RTN","RMPRN7UT",59,0)
 N CNT,Y,OFFS,TXT,I
"RTN","RMPRN7UT",60,0)
 S CNT=$P(^TMP($J,"RMPRCODE"),U,2) ; num of NPPD repair lines
"RTN","RMPRN7UT",61,0)
 S OFFS=CNT-(CNT\2)-1
"RTN","RMPRN7UT",62,0)
 F I=0:1:OFFS D
"RTN","RMPRN7UT",63,0)
 . S TXT=$P($T(REP+I^RMPRN72),";;",2)
"RTN","RMPRN7UT",64,0)
 . W !,$J(I+1,2)_".",?5,$P(TXT,";",1),?14,$P(TXT,";",2)
"RTN","RMPRN7UT",65,0)
 . S TXT=$P($T(REP+I+OFFS+1^RMPRN72),";;",2)
"RTN","RMPRN7UT",66,0)
 . Q:$E(TXT)'="R"
"RTN","RMPRN7UT",67,0)
 . W ?35,$J(I+2+OFFS,2)_".",?40,$P(TXT,";",1),?51,$P(TXT,";",2)
"RTN","RMPRN7UT",68,0)
 . Q
"RTN","RMPRN7UT",69,0)
 F I=OFFS:1:17 W !
"RTN","RMPRN7UT",70,0)
 S DIR(0)="N^1:"_CNT_":0"
"RTN","RMPRN7UT",71,0)
 S DIR("A")="Select 2529-3 NPPD Line "
"RTN","RMPRN7UT",72,0)
 D ^DIR
"RTN","RMPRN7UT",73,0)
 Q:$D(DIRUT)!($D(DTOUT))
"RTN","RMPRN7UT",74,0)
 S TXT=$P($T(REP+Y-1^RMPRN72),";;",2)
"RTN","RMPRN7UT",75,0)
 S RMPRCDE=$P(TXT,";",1)
"RTN","RMPRN7UT",76,0)
 Q
"RTN","RMPRN7UT",77,0)
NSEL ;new select
"RTN","RMPRN7UT",78,0)
 I BR'="" W "QUIT" Q
"RTN","RMPRN7UT",79,0)
 W !
"RTN","RMPRN7UT",80,0)
 S DIR(0)="N^1:"_BRC_":0"
"RTN","RMPRN7UT",81,0)
 S DIR("A")="Select 2529-3 NPPD Line "
"RTN","RMPRN7UT",82,0)
 D ^DIR
"RTN","RMPRN7UT",83,0)
 Q:$D(DIRUT)!($D(DTOUT))
"RTN","RMPRN7UT",84,0)
 S RMPRCDE=$O(BRA(Y,RMPRCDE))
"RTN","RMPRN7UT",85,0)
 Q
"RTN","RMPRN7UT",86,0)
EXIT ;exit on ^ or timeout
"RTN","RMPRN7UT",87,0)
 K ^TMP($J)
"RTN","RMPRN7UT",88,0)
 Q
"RTN","RMPRN7UT",89,0)
 ;END
"RTN","RMPRPS34")
0^1^B33883855
"RTN","RMPRPS34",1,0)
RMPRPS34 ;HISC/RVD/HNC -Check 661.1 and Save Inventory flag ; 3/25/04 10:46am
"RTN","RMPRPS34",2,0)
 ;;3.0;PROSTHETICS;**34,39,48,58,64,69,76,84**,FEB 09,1996
"RTN","RMPRPS34",3,0)
 ;RVD patch #76 - 2003 HCPCS update
"RTN","RMPRPS34",4,0)
 ;                replace inactive CPT Code in #660, starting 1/1/03
"RTN","RMPRPS34",5,0)
 ;
"RTN","RMPRPS34",6,0)
 ;AAC Patch #84 - 2004 HCPCS Update
"RTN","RMPRPS34",7,0)
 ;                Replace all CPT Codes with pointer 104840 - code A9900 1/1/04
"RTN","RMPRPS34",8,0)
 ;                Update all Modifier codes with null
"RTN","RMPRPS34",9,0)
 ;
"RTN","RMPRPS34",10,0)
 Q
"RTN","RMPRPS34",11,0)
EN ;entry point
"RTN","RMPRPS34",12,0)
 S U="^",RMEXIT=0
"RTN","RMPRPS34",13,0)
 ;Check on 2907, shipping and null 2804 (patch 48)
"RTN","RMPRPS34",14,0)
 ;Check on 2972, shipping and null 2973 (patch 58)
"RTN","RMPRPS34",15,0)
 ;Check on 3475, shipping and null 3476 (patch 69)
"RTN","RMPRPS34",16,0)
 ;Check on 3915 for patch 84.
"RTN","RMPRPS34",17,0)
 ;check for the last entry and next available entry.
"RTN","RMPRPS34",18,0)
 ;
"RTN","RMPRPS34",19,0)
 ;Patch 76
"RTN","RMPRPS34",20,0)
 ;Wheelchair HCPCS not grouped together prior to calculation flag update.
"RTN","RMPRPS34",21,0)
 ;hnc/April 2003
"RTN","RMPRPS34",22,0)
 ;Wheelchair HCPCS list under HLST
"RTN","RMPRPS34",23,0)
 ;
"RTN","RMPRPS34",24,0)
 S RM661=$P($G(^RMPR(661.1,0)),U,3) D:RM661'=3915!($D(^RMPR(661.1,3916)))  G:$G(RMEXIT) EXIT
"RTN","RMPRPS34",25,0)
 . W !,"*********************************************************"
"RTN","RMPRPS34",26,0)
 . W !,"* Your RMPR(661.1 global is CORRUPTED,  DO NOT INSTALL  *"
"RTN","RMPRPS34",27,0)
 . W !,"* the new RMPR(661.1 global.  Please, contact           *"
"RTN","RMPRPS34",28,0)
 . W !,"* National IRM Help Desk at 1-888-596-4357 for HELP!!!! *"
"RTN","RMPRPS34",29,0)
 . W !,"*********************************************************",!
"RTN","RMPRPS34",30,0)
 . H 1 S RMEXIT=1
"RTN","RMPRPS34",31,0)
 . Q
"RTN","RMPRPS34",32,0)
 ;
"RTN","RMPRPS34",33,0)
 ; Continue with post init...
"RTN","RMPRPS34",34,0)
SAVE W !,"Saving Inventory Data ...."
"RTN","RMPRPS34",35,0)
 K RM0
"RTN","RMPRPS34",36,0)
 K ^RMPR("INV")
"RTN","RMPRPS34",37,0)
 S BDC=0
"RTN","RMPRPS34",38,0)
 F  S BDC=$O(^RMPR(661.1,BDC)) Q:'+BDC  D
"RTN","RMPRPS34",39,0)
 . S RM0=$P(^RMPR(661.1,BDC,0),U,9)
"RTN","RMPRPS34",40,0)
 . Q:RM0=""
"RTN","RMPRPS34",41,0)
 . S ^RMPR("INV",BDC)=1
"RTN","RMPRPS34",42,0)
 . Q
"RTN","RMPRPS34",43,0)
 W !,"Done Saving Inventory Data, please load the ^RMPR(661.1) global now"
"RTN","RMPRPS34",44,0)
 W !,"File RMPR_3_84.GBL",!
"RTN","RMPRPS34",45,0)
 K RM661,RMEXIT,RM0,BDC
"RTN","RMPRPS34",46,0)
 Q
"RTN","RMPRPS34",47,0)
 ;
"RTN","RMPRPS34",48,0)
RESET W !,"Start Reset of the Inventory flag...."
"RTN","RMPRPS34",49,0)
 S U="^"
"RTN","RMPRPS34",50,0)
 S BDC=0
"RTN","RMPRPS34",51,0)
 F  S BDC=$O(^RMPR("INV",BDC)) Q:BDC'>0  D
"RTN","RMPRPS34",52,0)
 . S $P(^RMPR(661.1,BDC,0),U,9)=1
"RTN","RMPRPS34",53,0)
 . Q
"RTN","RMPRPS34",54,0)
 W !!,"End Reset of the Inventory flag.",!
"RTN","RMPRPS34",55,0)
 ;
"RTN","RMPRPS34",56,0)
 ; Patch 58 - call utilities to merge duplicate HCPCS and replace
"RTN","RMPRPS34",57,0)
 ;            DVG specified old HCPCS with new HCPCS
"RTN","RMPRPS34",58,0)
 ; ********** Remove or update this call for the next HCPCS update
"RTN","RMPRPS34",59,0)
 ;D PATCH58^RMPRPS35
"RTN","RMPRPS34",60,0)
 ; Patch 69 - replace specified deactivated HCPCS with new HCPCS.
"RTN","RMPRPS34",61,0)
 ;
"RTN","RMPRPS34",62,0)
 ;conversion for site with patch #61
"RTN","RMPRPS34",63,0)
 I $D(^RMPR(661.6)),$D(^RMPR(661.7)),$D(^RMPR(661.9)) D CONV^RMPRPS36
"RTN","RMPRPS34",64,0)
 ;conversion for site without patch #61
"RTN","RMPRPS34",65,0)
 I '$D(^RMPR(661.6)),'$D(^RMPR(661.7)),'$D(^RMPR(661.9)) D PAT76^RMPRPS35
"RTN","RMPRPS34",66,0)
 ;
"RTN","RMPRPS34",67,0)
UPCPT ;update Inactive CPT code startin 4/1/02
"RTN","RMPRPS34",68,0)
 W !,"Start Converting Inactive CPT code....",!
"RTN","RMPRPS34",69,0)
 K RMUPD
"RTN","RMPRPS34",70,0)
 S U="^"
"RTN","RMPRPS34",71,0)
 F ROI=3031231:0 S ROI=$O(^RMPR(660,"B",ROI)) Q:ROI'>0  F ROJ=0:0 S ROJ=$O(^RMPR(660,"B",ROI,ROJ)) Q:ROJ'>0  S RM0=$G(^RMPR(660,ROJ,0)) D 
"RTN","RMPRPS34",72,0)
 .S RMCPI=$P(RM0,U,22)
"RTN","RMPRPS34",73,0)
 .Q:'$G(RMCPI)
"RTN","RMPRPS34",74,0)
 .S RM60=ROJ
"RTN","RMPRPS34",75,0)
 .S RMCPT="104840"
"RTN","RMPRPS34",76,0)
 .S RMUPD(660,RM60_",",4.1)=RMCPT
"RTN","RMPRPS34",77,0)
 .D FILE^DIE("","RMUPD","")
"RTN","RMPRPS34",78,0)
 .;Update PCE, if Inactive CPT code was generated with PCE data.
"RTN","RMPRPS34",79,0)
 .K RMUPD
"RTN","RMPRPS34",80,0)
 .I $D(^RMPR(660,RM60,10)),$P(^RMPR(660,RM60,10),U,12) D
"RTN","RMPRPS34",81,0)
 ..S RMCHK=$$SENDPCE^RMPRPCEA(RM60)
"RTN","RMPRPS34",82,0)
 K RMUPD,ROI,ROJ,RMCPT,RMCPI,RM0,RM60
"RTN","RMPRPS34",83,0)
 W !,"Done Converting Inactive CPT code....",!
"RTN","RMPRPS34",84,0)
 ;
"RTN","RMPRPS34",85,0)
DUP ;repoint duplicate HCPCS (660, 664, 664.1, 665, 661.2, 661.3 
"RTN","RMPRPS34",86,0)
 ;and delete from file 661.1
"RTN","RMPRPS34",87,0)
 ;D HCPCD^RMPRPS35(113,952)
"RTN","RMPRPS34",88,0)
 ;convert amis grouper for entries w/ wheelchair hcpcs.
"RTN","RMPRPS34",89,0)
 ;D WHUP
"RTN","RMPRPS34",90,0)
 ;
"RTN","RMPRPS34",91,0)
KILLB ;kill & set 'B' cross reference in 661.1.
"RTN","RMPRPS34",92,0)
 K ^RMPR(661.1,"B"),DIK
"RTN","RMPRPS34",93,0)
 S DIK="^RMPR(661.1,",DIK(1)=".01^B" D ENALL^DIK
"RTN","RMPRPS34",94,0)
 ;
"RTN","RMPRPS34",95,0)
 ;
"RTN","RMPRPS34",96,0)
KILLC ;kill & set 'C' cross reference in 661.1.
"RTN","RMPRPS34",97,0)
 K ^RMPR(661.1,"C"),DIK
"RTN","RMPRPS34",98,0)
 S DIK="^RMPR(661.1,",DIK(1)=".02^C" D ENALL^DIK
"RTN","RMPRPS34",99,0)
 ;
"RTN","RMPRPS34",100,0)
KILLE ;kill & set 'E' cross reference in 661.1.
"RTN","RMPRPS34",101,0)
 K ^RMPR(661.1,"E"),DIK
"RTN","RMPRPS34",102,0)
 ; Line below commented out for Patch 84 - Multi-index Lookup for "A9900"
"RTN","RMPRPS34",103,0)
 ; S DIK="^RMPR(661.1,",DIK(1)="2^E" D ENALL^DIK K DIK
"RTN","RMPRPS34",104,0)
 ;
"RTN","RMPRPS34",105,0)
 W !,"Done with Installation of Patch RMPR*3*84"
"RTN","RMPRPS34",106,0)
 ;
"RTN","RMPRPS34",107,0)
EXIT ;EXIT
"RTN","RMPRPS34",108,0)
 K ^RMPR("INV"),^RMPR(661.1,"RMPR"),I,RMEXIT,RM661,BDC
"RTN","RMPRPS34",109,0)
 Q
"RTN","RMPRPS34",110,0)
 ; Patch 64 Fixes to HCPCS file
"RTN","RMPRPS34",111,0)
PAT64 N RMPR,RMPRFME,RMPRI,RMPR11,I
"RTN","RMPRPS34",112,0)
 ;
"RTN","RMPRPS34",113,0)
 ; Change NPPD NEW CODE
"RTN","RMPRPS34",114,0)
 S RMPR11("D5924")=""
"RTN","RMPRPS34",115,0)
 S RMPR11("D5934")=""
"RTN","RMPRPS34",116,0)
 S RMPR11("L8500")=""
"RTN","RMPRPS34",117,0)
 S RMPR11("L8501")=""
"RTN","RMPRPS34",118,0)
 S RMPR11("L8614")=""
"RTN","RMPRPS34",119,0)
 S RMPR11("L8619")=""
"RTN","RMPRPS34",120,0)
 S I="" F  S I=$O(RMPR11(I)) Q:I=""  D
"RTN","RMPRPS34",121,0)
 .S RMPRI=$O(^RMPR(661.1,"B",I,""))
"RTN","RMPRPS34",122,0)
 .Q:RMPRI=""
"RTN","RMPRPS34",123,0)
 .S RMPRI=RMPRI_","
"RTN","RMPRPS34",124,0)
 .S RMPR(661.1,RMPRI,6)="960 A"
"RTN","RMPRPS34",125,0)
 .D FILE^DIE("","RMPR","RMPRFME")
"RTN","RMPRPS34",126,0)
 .W !,"HCPCS ",I," updated"
"RTN","RMPRPS34",127,0)
 W !!,"Done HCPCS update!!!"
"RTN","RMPRPS34",128,0)
 W !!,"Start Reindexing the 'B' cross reference of file #661.1 ..."
"RTN","RMPRPS34",129,0)
 K ^RMPR(661.1,"B")
"RTN","RMPRPS34",130,0)
 S DIK="^RMPR(661.1,",DIK(1)=".01^B" D ENALL^DIK
"RTN","RMPRPS34",131,0)
 W !!,"Done Reindexing file #661.1!!!",!!
"RTN","RMPRPS34",132,0)
PAT64X Q
"RTN","RMPRPS34",133,0)
WHUP ;Wheelchair Update Record with new Grouper Number
"RTN","RMPRPS34",134,0)
 ;
"RTN","RMPRPS34",135,0)
 N RMPRI,RMPR,RMPRFME,RMPRY,RMPRPH,RMPRPHE,RMPRPHL,RMPRG,RMPRSTN,RMPRSITE
"RTN","RMPRPS34",136,0)
 ;loop H xref PSAS HCPCS
"RTN","RMPRPS34",137,0)
 S RMPRPH=0
"RTN","RMPRPS34",138,0)
 F  S RMPRPH=$O(^RMPR(660,"H",RMPRPH)) Q:RMPRPH'>0  D
"RTN","RMPRPS34",139,0)
 .S RMPRPHE=$P($G(^RMPR(661.1,RMPRPH,0)),U,1)
"RTN","RMPRPS34",140,0)
 .;RMPRPHE external psas hcpcs file 660
"RTN","RMPRPS34",141,0)
 .Q:RMPRPHE=""
"RTN","RMPRPS34",142,0)
 .S RMPRI=""
"RTN","RMPRPS34",143,0)
 .F RMPRI=1:1:58 S RMPRY=$P($T(HLST+RMPRI),";",3) D
"RTN","RMPRPS34",144,0)
 ..Q:RMPRY=""
"RTN","RMPRPS34",145,0)
 ..;RMPRY is wheelchair hcpcs
"RTN","RMPRPS34",146,0)
 ..Q:RMPRY'=RMPRPHE
"RTN","RMPRPS34",147,0)
 ..;hcpcs to update records
"RTN","RMPRPS34",148,0)
 ..S RMPRPHL=0
"RTN","RMPRPS34",149,0)
 ..F  S RMPRPHL=$O(^RMPR(660,"H",RMPRPH,RMPRPHL)) Q:RMPRPHL'>0  D
"RTN","RMPRPS34",150,0)
 ...;record level
"RTN","RMPRPS34",151,0)
 ...;need site param and grouper number
"RTN","RMPRPS34",152,0)
 ...;field 8 station p4 translate to 699.9 rmprsite
"RTN","RMPRPS34",153,0)
 ...Q:'$D(^RMPR(660,RMPRPHL,0))
"RTN","RMPRPS34",154,0)
 ...S RMPRSTN=$P(^RMPR(660,RMPRPHL,0),U,10)
"RTN","RMPRPS34",155,0)
 ...Q:RMPRSTN=""
"RTN","RMPRPS34",156,0)
 ...S RMPRSITE=0
"RTN","RMPRPS34",157,0)
 ...S RMPRSITE=$O(^RMPR(669.9,"C",RMPRSTN,RMPRSITE))
"RTN","RMPRPS34",158,0)
 ...Q:RMPRSITE=""
"RTN","RMPRPS34",159,0)
 ...L +^RMPR(669.9,RMPRSITE,0):9999 I $T=0 S RMPRG=8822
"RTN","RMPRPS34",160,0)
 ...S RMPRG=$P(^RMPR(669.9,RMPRSITE,0),U,7),RMPRG=RMPRG-1,$P(^RMPR(669.9,RMPRSITE,0),U,7)=RMPRG L -^RMPR(669.9,RMPRSITE,0)
"RTN","RMPRPS34",161,0)
 ...S RMPRPHLL=RMPRPHL_","
"RTN","RMPRPS34",162,0)
 ...S RMPR(660,RMPRPHLL,68)=RMPRG
"RTN","RMPRPS34",163,0)
 ...D FILE^DIE("","RMPR","RMPRFME")
"RTN","RMPRPS34",164,0)
 Q
"RTN","RMPRPS34",165,0)
KILLNDS ;
"RTN","RMPRPS34",166,0)
 F L=0:0 S PD=$O(^RMPR(661.1,L)) W !,PD,"   ",L Q:L=""
"RTN","RMPRPS34",167,0)
 Q
"RTN","RMPRPS34",168,0)
HLST ;Wheelchair HCPCS with Calculation Flag
"RTN","RMPRPS34",169,0)
 ;;E1050
"RTN","RMPRPS34",170,0)
 ;;E1161
"RTN","RMPRPS34",171,0)
 ;;E1038
"RTN","RMPRPS34",172,0)
 ;;E1060
"RTN","RMPRPS34",173,0)
 ;;E1070
"RTN","RMPRPS34",174,0)
 ;;E1083
"RTN","RMPRPS34",175,0)
 ;;E1084
"RTN","RMPRPS34",176,0)
 ;;E1085
"RTN","RMPRPS34",177,0)
 ;;E1086
"RTN","RMPRPS34",178,0)
 ;;E1087
"RTN","RMPRPS34",179,0)
 ;;E1088
"RTN","RMPRPS34",180,0)
 ;;E1089
"RTN","RMPRPS34",181,0)
 ;;E1090
"RTN","RMPRPS34",182,0)
 ;;E1091
"RTN","RMPRPS34",183,0)
 ;;E1092
"RTN","RMPRPS34",184,0)
 ;;E1093
"RTN","RMPRPS34",185,0)
 ;;E1100
"RTN","RMPRPS34",186,0)
 ;;E1110
"RTN","RMPRPS34",187,0)
 ;;E1130
"RTN","RMPRPS34",188,0)
 ;;E1140
"RTN","RMPRPS34",189,0)
 ;;E1150
"RTN","RMPRPS34",190,0)
 ;;E1160
"RTN","RMPRPS34",191,0)
 ;;E1170
"RTN","RMPRPS34",192,0)
 ;;E1171
"RTN","RMPRPS34",193,0)
 ;;E1172
"RTN","RMPRPS34",194,0)
 ;;E1180
"RTN","RMPRPS34",195,0)
 ;;E1190
"RTN","RMPRPS34",196,0)
 ;;E1195
"RTN","RMPRPS34",197,0)
 ;;E1200
"RTN","RMPRPS34",198,0)
 ;;E1210
"RTN","RMPRPS34",199,0)
 ;;E1211
"RTN","RMPRPS34",200,0)
 ;;E1212
"RTN","RMPRPS34",201,0)
 ;;E1213
"RTN","RMPRPS34",202,0)
 ;;E1220
"RTN","RMPRPS34",203,0)
 ;;E1221
"RTN","RMPRPS34",204,0)
 ;;E1222
"RTN","RMPRPS34",205,0)
 ;;E1223
"RTN","RMPRPS34",206,0)
 ;;E1224
"RTN","RMPRPS34",207,0)
 ;;E1240
"RTN","RMPRPS34",208,0)
 ;;E1250
"RTN","RMPRPS34",209,0)
 ;;E1260
"RTN","RMPRPS34",210,0)
 ;;E1270
"RTN","RMPRPS34",211,0)
 ;;E1280
"RTN","RMPRPS34",212,0)
 ;;E1285
"RTN","RMPRPS34",213,0)
 ;;E1290
"RTN","RMPRPS34",214,0)
 ;;E1295
"RTN","RMPRPS34",215,0)
 ;;K0001
"RTN","RMPRPS34",216,0)
 ;;K0002
"RTN","RMPRPS34",217,0)
 ;;K0003
"RTN","RMPRPS34",218,0)
 ;;K0004
"RTN","RMPRPS34",219,0)
 ;;K0005
"RTN","RMPRPS34",220,0)
 ;;K0006
"RTN","RMPRPS34",221,0)
 ;;K0007
"RTN","RMPRPS34",222,0)
 ;;K0009
"RTN","RMPRPS34",223,0)
 ;;K0010
"RTN","RMPRPS34",224,0)
 ;;K0011
"RTN","RMPRPS34",225,0)
 ;;K0012
"RTN","RMPRPS34",226,0)
 ;;K0014
"RTN","RMPRPS34",227,0)
 ;end
"RTN","RMPRPS35")
0^2^B77015535
"RTN","RMPRPS35",1,0)
RMPRPS35 ;HINCIO/ODJ - HCPCS Update Utilities ; 3/25/04 12:27pm
"RTN","RMPRPS35",2,0)
 ;;3.0;PROSTHETICS;**58,69,76,77,84**,FEB 09,1996
"RTN","RMPRPS35",3,0)
 Q
"RTN","RMPRPS35",4,0)
 ;
"RTN","RMPRPS35",5,0)
 ; RVD 2/12/02 patch #76  - replace a list of deactivated for 2003 HCPCS
"RTN","RMPRPS35",6,0)
 ;
"RTN","RMPRPS35",7,0)
 ; RVD 4/25/02 patch #69  - replace a list of deactivated HCPCS.
"RTN","RMPRPS35",8,0)
 ;                          files (661.1 and 661.3)
"RTN","RMPRPS35",9,0)
 ; RVD patch #77 - Convert old HCPCS to new/replacement HCPCS in PIP.
"RTN","RMPRPS35",10,0)
 ;               - old HCPCS not included in patch #76
"RTN","RMPRPS35",11,0)
 ;               - Remove inactive flag.
"RTN","RMPRPS35",12,0)
 ;
"RTN","RMPRPS35",13,0)
 ; AAC 3/26/04 - Patch 84: Convert old HCPCS to new/replacement HCPCS in PIP.
"RTN","RMPRPS35",14,0)
 ;               Replace all CPT Codes with pointer 104840 - code A9900 begin with 1/1/04
"RTN","RMPRPS35",15,0)
 ;               Update all Modifier codes with null
"RTN","RMPRPS35",16,0)
 ;
"RTN","RMPRPS35",17,0)
 ; HCPCD - Change HCPCS code in files 660, 664, 664.1, 665, 665.72
"RTN","RMPRPS35",18,0)
 ;                                    661.2 and 661.3
"RTN","RMPRPS35",19,0)
 ;         Only to be run if users off the system
"RTN","RMPRPS35",20,0)
 ;         Used where the same HCPCS code has duplicate records.
"RTN","RMPRPS35",21,0)
 ; Inputs:
"RTN","RMPRPS35",22,0)
 ;    RMPRHPF - IEN of HCPCS to delete
"RTN","RMPRPS35",23,0)
 ;    RMPRHPT - IEN of HCPCS to copy deleted HCPCS to
"RTN","RMPRPS35",24,0)
 ;
"RTN","RMPRPS35",25,0)
HCPCD(RMPRHPF,RMPRHPT) ;
"RTN","RMPRPS35",26,0)
 N RMPRI,RMPRFDA,RMPRFME,RMPRIEN,RMPRS,RMPR65P,RMPRJ,RMPRPTP
"RTN","RMPRPS35",27,0)
 N RMPRO1,RMPRO2,RMPRO3,RMPRO4,RMPR641P,RMPR64P,X,Y,DA
"RTN","RMPRPS35",28,0)
 ;
"RTN","RMPRPS35",29,0)
 ; Start with file 660 using the H x-ref.
"RTN","RMPRPS35",30,0)
 S RMPRI=""
"RTN","RMPRPS35",31,0)
 F  S RMPRI=$O(^RMPR(660,"H",RMPRHPF,RMPRI)) Q:RMPRI=""  D
"RTN","RMPRPS35",32,0)
 . ;
"RTN","RMPRPS35",33,0)
 . ; Get pointer to 665 and update HCPCS multiples
"RTN","RMPRPS35",34,0)
 . S RMPR65P=$P($G(^RMPR(660,RMPRI,0)),"^",2)
"RTN","RMPRPS35",35,0)
 . S RMHCIT=$P($G(^RMPR(660,RMPRI,2)),"^",1)
"RTN","RMPRPS35",36,0)
 . I RMPR65P'="" D
"RTN","RMPRPS35",37,0)
 .. ;
"RTN","RMPRPS35",38,0)
 .. ; Update 665.194 multiple
"RTN","RMPRPS35",39,0)
 .. Q:'$D(^RMPR(665,RMPR65P,0))
"RTN","RMPRPS35",40,0)
 .. S RMPRPTP=$P(^RMPR(665,RMPR65P,0),"^",1)
"RTN","RMPRPS35",41,0)
 .. S RMPRJ=0
"RTN","RMPRPS35",42,0)
 .. F  S RMPRJ=$O(^RMPR(665,RMPR65P,"RMPOC",RMPRJ)) Q:'RMPRJ  D
"RTN","RMPRPS35",43,0)
 ... Q:$P($G(^RMPR(665,RMPR65P,"RMPOC",RMPRJ,0)),"^",7)'=RMPRHPF
"RTN","RMPRPS35",44,0)
 ... S RMPRIEN=RMPRJ_","_RMPR65P_","
"RTN","RMPRPS35",45,0)
 ... K RMPRFDA,RMPRFME
"RTN","RMPRPS35",46,0)
 ... S RMPRFDA(665.194,RMPRIEN,6)=RMPRHPT
"RTN","RMPRPS35",47,0)
 ... D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",48,0)
 ... Q
"RTN","RMPRPS35",49,0)
 .. ;
"RTN","RMPRPS35",50,0)
 .. ; Update 665.723191 multiple
"RTN","RMPRPS35",51,0)
 .. S RMPRO1=0
"RTN","RMPRPS35",52,0)
 .. F  S RMPRO1=$O(^RMPO(665.72,RMPRO1)) Q:'+RMPRO1  D
"RTN","RMPRPS35",53,0)
 ... S RMPRO2=0
"RTN","RMPRPS35",54,0)
 ... F  S RMPRO2=$O(^RMPO(665.72,RMPRO1,1,RMPRO2)) Q:'+RMPRO2  D
"RTN","RMPRPS35",55,0)
 .... S RMPRO3=0
"RTN","RMPRPS35",56,0)
 .... F  S RMPRO3=$O(^RMPO(665.72,RMPRO1,1,RMPRO2,1,RMPRO3)) Q:'+RMPRO3  D
"RTN","RMPRPS35",57,0)
 ..... I $D(^RMPO(665.72,RMPRO1,1,RMPRO2,1,RMPRO3,"V",RMPRPTP)) D
"RTN","RMPRPS35",58,0)
 ...... S RMPRO4=0
"RTN","RMPRPS35",59,0)
 ...... F  S RMPRO4=$O(^RMPO(665.72,RMPRO1,1,RMPRO2,1,RMPRO3,"V",RMPRPTP,1,RMPRO4)) Q:'+RMPRO4  D
"RTN","RMPRPS35",60,0)
 ....... Q:$P($G(^RMPO(665.72,RMPRO1,1,RMPRO2,1,RMPRO3,"V",RMPRPTP,1,RMPRO4,0)),"^",2)'=RMPRHPF
"RTN","RMPRPS35",61,0)
 ....... S RMPRIEN=RMPRO4_","_RMPRPTP_","_RMPRO3_","_RMPRO2_","_RMPRO1_","
"RTN","RMPRPS35",62,0)
 ....... K RMPRFME,RMPRFDA
"RTN","RMPRPS35",63,0)
 ....... S RMPRFDA(665.723191,RMPRIEN,2)=RMPRHPT
"RTN","RMPRPS35",64,0)
 ....... D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",65,0)
 ....... Q
"RTN","RMPRPS35",66,0)
 ...... Q
"RTN","RMPRPS35",67,0)
 ..... Q
"RTN","RMPRPS35",68,0)
 .... Q
"RTN","RMPRPS35",69,0)
 ... Q
"RTN","RMPRPS35",70,0)
 .. Q
"RTN","RMPRPS35",71,0)
 . ;
"RTN","RMPRPS35",72,0)
 . ; Update to 664.1 and 664 HCPCS multiples
"RTN","RMPRPS35",73,0)
 . S RMPRPTP=RMPR65P ;patient pointer
"RTN","RMPRPS35",74,0)
 . I RMPRPTP'="" D
"RTN","RMPRPS35",75,0)
 .. ;
"RTN","RMPRPS35",76,0)
 .. ; Update 664.16 multiple
"RTN","RMPRPS35",77,0)
 .. S RMPR641P=""
"RTN","RMPRPS35",78,0)
 .. F  S RMPR641P=$O(^RMPR(664.1,"D",RMPRPTP,RMPR641P)) Q:RMPR641P=""  D 
"RTN","RMPRPS35",79,0)
 ... S RMPRJ=0
"RTN","RMPRPS35",80,0)
 ... F  S RMPRJ=$O(^RMPR(664.1,RMPR641P,2,RMPRJ)) Q:'+RMPRJ  D
"RTN","RMPRPS35",81,0)
 .... Q:$P($G(^RMPR(664.1,RMPR641P,2,RMPRJ,2)),"^",1)'=RMPRHPF
"RTN","RMPRPS35",82,0)
 .... S RMPRIEN=RMPRJ_","_RMPR641P_","
"RTN","RMPRPS35",83,0)
 .... K RMPRFDA,RMPRFME
"RTN","RMPRPS35",84,0)
 .... S RMPRFDA(664.16,RMPRIEN,13)=RMPRHPT
"RTN","RMPRPS35",85,0)
 .... D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",86,0)
 .... Q
"RTN","RMPRPS35",87,0)
 ... Q
"RTN","RMPRPS35",88,0)
 .. Q
"RTN","RMPRPS35",89,0)
 . S RMPRPTP=RMPR65P ;patient pointer same as 665 pointer
"RTN","RMPRPS35",90,0)
 . I RMPRPTP'="" D
"RTN","RMPRPS35",91,0)
 .. ;
"RTN","RMPRPS35",92,0)
 .. ; Update 664.02 multiple
"RTN","RMPRPS35",93,0)
 .. S RMPR64P=""
"RTN","RMPRPS35",94,0)
 .. F  S RMPR64P=$O(^RMPR(664,"C",RMPRPTP,RMPR64P)) Q:RMPR64P=""  D
"RTN","RMPRPS35",95,0)
 ... S RMPRJ=0
"RTN","RMPRPS35",96,0)
 ... F  S RMPRJ=$O(^RMPR(664,RMPR64P,1,RMPRJ)) Q:'+RMPRJ  D
"RTN","RMPRPS35",97,0)
 .... Q:$P($G(^RMPR(664,RMPR64P,1,RMPRJ,0)),"^",16)'=RMPRHPF
"RTN","RMPRPS35",98,0)
 .... K RMPRFDA,RMPRFME
"RTN","RMPRPS35",99,0)
 .... S RMPRIEN=RMPRJ_","_RMPR64P_","
"RTN","RMPRPS35",100,0)
 .... S RMPRFDA(664.02,RMPRIEN,16)=RMPRHPT
"RTN","RMPRPS35",101,0)
 .... D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",102,0)
 .... Q
"RTN","RMPRPS35",103,0)
 ... Q
"RTN","RMPRPS35",104,0)
 .. Q
"RTN","RMPRPS35",105,0)
 . ;
"RTN","RMPRPS35",106,0)
 . ; finally update the 660 file
"RTN","RMPRPS35",107,0)
 . K RMPRFDA,RMPRFME
"RTN","RMPRPS35",108,0)
 . S RMPRIEN=RMPRI_","
"RTN","RMPRPS35",109,0)
 . S RMPRFDA(660,RMPRIEN,4.5)=RMPRHPT
"RTN","RMPRPS35",110,0)
 . S RMPRFDA(660,RMPRIEN,37)=RMPRHPT_"-"_$P(RMHCIT,"-",2)
"RTN","RMPRPS35",111,0)
 . D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",112,0)
 . Q
"RTN","RMPRPS35",113,0)
 ;
"RTN","RMPRPS35",114,0)
 ; Update PIP files 661.2 and 661.3
"RTN","RMPRPS35",115,0)
HCPCDP S RMPRI=""
"RTN","RMPRPS35",116,0)
 F  S RMPRI=$O(^RMPR(661.2,"D",RMPRHPF,RMPRI)) Q:RMPRI=""  D
"RTN","RMPRPS35",117,0)
 . K RMPRFDA,RMPRFME
"RTN","RMPRPS35",118,0)
 . S RMPRIEN=RMPRI_","
"RTN","RMPRPS35",119,0)
 . S RMPRFDA(661.2,RMPRIEN,3)=RMPRHPT
"RTN","RMPRPS35",120,0)
 . D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",121,0)
 . Q
"RTN","RMPRPS35",122,0)
 S RMPRI=0
"RTN","RMPRPS35",123,0)
 F  S RMPRI=$O(^RMPR(661.3,RMPRI)) Q:'+RMPRI  D
"RTN","RMPRPS35",124,0)
 . S RMPRJ=0
"RTN","RMPRPS35",125,0)
 . F  S RMPRJ=$O(^RMPR(661.3,RMPRI,1,RMPRJ)) Q:'+RMPRJ  D
"RTN","RMPRPS35",126,0)
 .. Q:$P($G(^RMPR(661.3,RMPRI,1,RMPRJ,0)),"^",1)'=RMPRHPF
"RTN","RMPRPS35",127,0)
 .. K RMPRFDA,RMPRFME
"RTN","RMPRPS35",128,0)
 .. S RMPRIEN=RMPRJ_","_RMPRI_","
"RTN","RMPRPS35",129,0)
 .. S RMPRFDA(661.31,RMPRIEN,.01)=RMPRHPT
"RTN","RMPRPS35",130,0)
 .. D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",131,0)
 .. Q
"RTN","RMPRPS35",132,0)
 . Q
"RTN","RMPRPS35",133,0)
 K RMPRFDA,RMPRFME
"RTN","RMPRPS35",134,0)
 S RMPRIEN=RMPRHPF_","
"RTN","RMPRPS35",135,0)
 S RMPRFDA(661.1,RMPRIEN,.01)="@"
"RTN","RMPRPS35",136,0)
 D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",137,0)
HCPCDX Q
"RTN","RMPRPS35",138,0)
 ;
"RTN","RMPRPS35",139,0)
 ; ITEM - move Item records from 661.1 from old to new HCPCS
"RTN","RMPRPS35",140,0)
 ;
"RTN","RMPRPS35",141,0)
 ; Inputs:
"RTN","RMPRPS35",142,0)
 ;   RMPRHPO - Old HCPCS code being replaced
"RTN","RMPRPS35",143,0)
 ;   RMPRHPN - New HCPCS code
"RTN","RMPRPS35",144,0)
 ;
"RTN","RMPRPS35",145,0)
ITEM(RMPRHPO,RMPRHPN) ;
"RTN","RMPRPS35",146,0)
 N RMPRHPOI,RMPRHPNI,RMPRJ,RMPRFDA,RMPRFME,RMPRIEN,X,Y,DA,RMPRIENA,RMPRK
"RTN","RMPRPS35",147,0)
 N RMPRL,RMPRS,RMPRITEM,RMPRIFLG,RML,RMPRIN,RMPRIO
"RTN","RMPRPS35",148,0)
 K ^TMP($J,"RM")
"RTN","RMPRPS35",149,0)
 S RMPRHPOI=$O(^RMPR(661.1,"B",RMPRHPO,"")) ;old HCPCS ien
"RTN","RMPRPS35",150,0)
 S RMPRHPNI=$O(^RMPR(661.1,"B",RMPRHPN,"")) ;new HCPCS ien
"RTN","RMPRPS35",151,0)
 Q:'$G(RMPRHPNI)!'$G(RMPRHPOI)
"RTN","RMPRPS35",152,0)
 G:$D(^RMPR(661.2,"D",RMPRHPNI)) ITEMX ;quit if Items already on new HCPCS and PIP.
"RTN","RMPRPS35",153,0)
 S RMPRIFLG=0
"RTN","RMPRPS35",154,0)
 I $P($G(^RMPR(661.1,RMPRHPOI,0)),"^",9)'="" S RMPRIFLG=1
"RTN","RMPRPS35",155,0)
 ;
"RTN","RMPRPS35",156,0)
 ; Loop on items and copy to new HCPCS
"RTN","RMPRPS35",157,0)
 S RML=0
"RTN","RMPRPS35",158,0)
 ;S RMPRIEN="+1,"_RMPRHPNI_","
"RTN","RMPRPS35",159,0)
 S (RMPRJ,RMPRN)=0
"RTN","RMPRPS35",160,0)
 I $D(^RMPR(661.1,RMPRHPNI,3,0)) S RMPRN=$P(^RMPR(661.1,RMPRHPNI,3,0),U,3)
"RTN","RMPRPS35",161,0)
 S RMPRIENA=RMPRN
"RTN","RMPRPS35",162,0)
 F  S RMPRJ=$O(^RMPR(661.1,RMPRHPOI,3,RMPRJ)) Q:'+RMPRJ  D
"RTN","RMPRPS35",163,0)
 . K RMPRFDA,RMPRFME,DIE
"RTN","RMPRPS35",164,0)
 . I RMPRN=0 S RMPRIENA=RMPRJ
"RTN","RMPRPS35",165,0)
 . I RMPRN>0 S RMPRIENA=RMPRIENA+1
"RTN","RMPRPS35",166,0)
 . S RML=RML+1
"RTN","RMPRPS35",167,0)
 . S RMPRIEN="+"_RML_","_RMPRHPNI_","
"RTN","RMPRPS35",168,0)
 . S RMPRFDA(661.12,RMPRIEN,.01)=$P(^RMPR(661.1,RMPRHPOI,3,RMPRJ,0),"^",1)
"RTN","RMPRPS35",169,0)
 . I $L(RMPRFDA(661.12,RMPRIEN,.01))>30 S RMPRFDA(661.12,RMPRIEN,.01)=$E(RMPRFDA(661.12,RMPRIEN,.01),1,30)
"RTN","RMPRPS35",170,0)
 .;don't create an entry if it's already been created.
"RTN","RMPRPS35",171,0)
 . Q:$D(^RMPR(661.1,RMPRHPNI,3,"B",RMPRFDA(661.12,RMPRIEN,.01)))
"RTN","RMPRPS35",172,0)
 . S ^TMP($J,"RM",RMPRJ)=RMPRIENA
"RTN","RMPRPS35",173,0)
 . D UPDATE^DIE("","RMPRFDA","RMPRIENA","RMPRFME")
"RTN","RMPRPS35",174,0)
 . Q
"RTN","RMPRPS35",175,0)
 ;
"RTN","RMPRPS35",176,0)
 ; Update 661.3 file
"RTN","RMPRPS35",177,0)
 S RMPRJ=""
"RTN","RMPRPS35",178,0)
 F  S RMPRJ=$O(^RMPR(661.3,"C",RMPRHPOI,RMPRJ)) Q:RMPRJ=""  D
"RTN","RMPRPS35",179,0)
 . S RMPRK=""
"RTN","RMPRPS35",180,0)
 . F  S RMPRK=$O(^RMPR(661.3,"C",RMPRHPOI,RMPRJ,RMPRK)) Q:RMPRK=""  D
"RTN","RMPRPS35",181,0)
 .. S RMPRL=0
"RTN","RMPRPS35",182,0)
 .. F  S RMPRL=$O(^RMPR(661.3,RMPRJ,1,RMPRK,1,RMPRL)) Q:'+RMPRL  D
"RTN","RMPRPS35",183,0)
 ... S RMPRS=^RMPR(661.3,RMPRJ,1,RMPRK,1,RMPRL,0)
"RTN","RMPRPS35",184,0)
 ... S RMPRITEM=$P(RMPRS,"^",1)
"RTN","RMPRPS35",185,0)
 ... S RMPRIO=$P(RMPRITEM,"-",2)
"RTN","RMPRPS35",186,0)
 ... Q:'$D(^TMP($J,"RM",RMPRIO))
"RTN","RMPRPS35",187,0)
 ... S RMPRIN=^TMP($J,"RM",RMPRIO)
"RTN","RMPRPS35",188,0)
 ... Q:'$G(RMPRIN)
"RTN","RMPRPS35",189,0)
 ... S $P(RMPRITEM,"-",1)=RMPRHPN
"RTN","RMPRPS35",190,0)
 ... S $P(RMPRITEM,"-",2)=RMPRIN
"RTN","RMPRPS35",191,0)
 ... S RMPRIEN=RMPRL_","_RMPRK_","_RMPRJ_","
"RTN","RMPRPS35",192,0)
 ... K RMPRFDA,RMPRFME
"RTN","RMPRPS35",193,0)
 ... S RMPRFDA(661.312,RMPRIEN,.01)=RMPRITEM
"RTN","RMPRPS35",194,0)
 ... D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",195,0)
 ... Q
"RTN","RMPRPS35",196,0)
 .. S RMPRIEN=RMPRK_","_RMPRJ_","
"RTN","RMPRPS35",197,0)
 .. K RMPRFDA,RMPRFME
"RTN","RMPRPS35",198,0)
 .. S RMPRFDA(661.31,RMPRIEN,.01)=RMPRHPNI
"RTN","RMPRPS35",199,0)
 .. D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",200,0)
 .. S RMPRIFLG=1
"RTN","RMPRPS35",201,0)
 .. Q
"RTN","RMPRPS35",202,0)
 . Q
"RTN","RMPRPS35",203,0)
 I RMPRIFLG D
"RTN","RMPRPS35",204,0)
 . K RMPRFDA,RMPRFME
"RTN","RMPRPS35",205,0)
 . S RMPRIEN=RMPRHPNI_","
"RTN","RMPRPS35",206,0)
 . S RMPRFDA(661.1,RMPRIEN,10)=1
"RTN","RMPRPS35",207,0)
 . D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",208,0)
 . Q
"RTN","RMPRPS35",209,0)
 ;
"RTN","RMPRPS35",210,0)
 ; Update PIP files 661.2
"RTN","RMPRPS35",211,0)
 S RMPRI=""
"RTN","RMPRPS35",212,0)
 F  S RMPRI=$O(^RMPR(661.2,"D",RMPRHPOI,RMPRI)) Q:RMPRI=""  D
"RTN","RMPRPS35",213,0)
 . Q:'$D(^RMPR(661.2,RMPRI,0))
"RTN","RMPRPS35",214,0)
 . S RMHCIT=$P(^RMPR(661.2,RMPRI,0),U,9)
"RTN","RMPRPS35",215,0)
 . K RMPRFDA,RMPRFME
"RTN","RMPRPS35",216,0)
 . S RMPRIEN=RMPRI_","
"RTN","RMPRPS35",217,0)
 . S RMPRFDA(661.2,RMPRIEN,3)=RMPRHPNI
"RTN","RMPRPS35",218,0)
 . S RMPRFDA(661.2,RMPRIEN,9)=RMPRHPN_"-"_$P(RMHCIT,"-",2)
"RTN","RMPRPS35",219,0)
 . D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS35",220,0)
 . Q
"RTN","RMPRPS35",221,0)
 ;
"RTN","RMPRPS35",222,0)
ITEMX Q
"RTN","RMPRPS35",223,0)
 ;
"RTN","RMPRPS35",224,0)
 ; PATCH58 - 
"RTN","RMPRPS35",225,0)
 ; 1 - Repoint duplicate HCPCS
"RTN","RMPRPS35",226,0)
 ; 2 - Copy item and current inventory to new HCPCS for specified list
"RTN","RMPRPS35",227,0)
 ; (patch 58 only)
"RTN","RMPRPS35",228,0)
PATCH58 N RMPRA,RMPRI
"RTN","RMPRPS35",229,0)
 I '$D(IO("Q")) D
"RTN","RMPRPS35",230,0)
 . W !!,"Repointing specified duplicate HCPCS...",!
"RTN","RMPRPS35",231,0)
 . Q
"RTN","RMPRPS35",232,0)
 D HCPCD(170,133) ;E0277
"RTN","RMPRPS35",233,0)
 I '$D(IO("Q")) D
"RTN","RMPRPS35",234,0)
 . W !!,"Repointing complete.",!
"RTN","RMPRPS35",235,0)
 . Q
"RTN","RMPRPS35",236,0)
 ;
"RTN","RMPRPS35",237,0)
 ;for next update, change RMPRA() local array to the HCPCS that need
"RTN","RMPRPS35",238,0)
 ;to be replaced.
"RTN","RMPRPS35",239,0)
PAT76 ; Set up array and replace HCPCS
"RTN","RMPRPS35",240,0)
 S U="^"
"RTN","RMPRPS35",241,0)
 I '$D(IO("Q")) D
"RTN","RMPRPS35",242,0)
 . W !!,"Replacing the following HCPCS...",!
"RTN","RMPRPS35",243,0)
 . Q
"RTN","RMPRPS35",244,0)
 ;patch #58 - replacement code
"RTN","RMPRPS35",245,0)
 ;K RMPRA
"RTN","RMPRPS35",246,0)
 ;S RMPRA(1)="K0182^A7018"
"RTN","RMPRPS35",247,0)
 ;S RMPRA(2)="K0269^E0572"
"RTN","RMPRPS35",248,0)
 S RMFLG61=""
"RTN","RMPRPS35",249,0)
 I '$D(^RMPR(661.6)),'$D(^RMPR(661.7)),'$D(^RMPR(661.9)) S RMFLG61=1 D CONV35^RMPRPS36
"RTN","RMPRPS35",250,0)
 ;F RMI=0:0 S RMI=$O(^RMPR(661.1,"RMPR",RMI)) Q:RMI'>0  D
"RTN","RMPRPS35",251,0)
 ;.S RMHCDA=^RMPR(661.1,"RMPR",RMI)
"RTN","RMPRPS35",252,0)
 ;.S RMHOLD=$P(RMHCDA,U,1),RMHNEW=$P(RMHCDA,U,2)
"RTN","RMPRPS35",253,0)
 ;.I '$D(IO("Q")) D
"RTN","RMPRPS35",254,0)
 ;..W !,RMHOLD," with ",RMHNEW
"RTN","RMPRPS35",255,0)
 ;.D ITEM(RMHOLD,RMHNEW)
"RTN","RMPRPS35",256,0)
 ;.Q
"RTN","RMPRPS35",257,0)
 I '$D(IO("Q")) D
"RTN","RMPRPS35",258,0)
 . W !!,"HCPCS replacement complete.",!
"RTN","RMPRPS35",259,0)
 . Q
"RTN","RMPRPS35",260,0)
 Q
"RTN","RMPRPS35",261,0)
CFLG ;remove calculation flag.
"RTN","RMPRPS35",262,0)
 W !!,"Removing the Calculation flag.....",!
"RTN","RMPRPS35",263,0)
 F RMPRI=1:1:66 S RMPRY=$P($T(FLG+RMPRI),";",4) Q:RMPRY'>0  D
"RTN","RMPRPS35",264,0)
 .S $P(^RMPR(661.1,RMPRY,0),U,8)=""
"RTN","RMPRPS35",265,0)
 W !!,"Done Removing Calculation flag!!!",!
"RTN","RMPRPS35",266,0)
 Q
"RTN","RMPRPS35",267,0)
FLG ;REMOVE calculation flag of the ff HCPCS:
"RTN","RMPRPS35",268,0)
 ;;E1038;3884
"RTN","RMPRPS35",269,0)
 ;;E1050;264
"RTN","RMPRPS35",270,0)
 ;;E1060;265
"RTN","RMPRPS35",271,0)
 ;;E1070;269
"RTN","RMPRPS35",272,0)
 ;;E1083;271
"RTN","RMPRPS35",273,0)
 ;;E1084;270
"RTN","RMPRPS35",274,0)
 ;;E1085;272
"RTN","RMPRPS35",275,0)
 ;;E1086;273
"RTN","RMPRPS35",276,0)
 ;;E1087;274
"RTN","RMPRPS35",277,0)
 ;;E1088;275
"RTN","RMPRPS35",278,0)
 ;;E1089;276
"RTN","RMPRPS35",279,0)
 ;;E1090;277
"RTN","RMPRPS35",280,0)
 ;;E1092;278
"RTN","RMPRPS35",281,0)
 ;;E1093;279
"RTN","RMPRPS35",282,0)
 ;;E1100;280
"RTN","RMPRPS35",283,0)
 ;;E1110;281
"RTN","RMPRPS35",284,0)
 ;;E1130;282
"RTN","RMPRPS35",285,0)
 ;;E1140;283
"RTN","RMPRPS35",286,0)
 ;;E1150;284
"RTN","RMPRPS35",287,0)
 ;;E1160;285
"RTN","RMPRPS35",288,0)
 ;;E1161;3885
"RTN","RMPRPS35",289,0)
 ;;E1170;286
"RTN","RMPRPS35",290,0)
 ;;E1171;287
"RTN","RMPRPS35",291,0)
 ;;E1172;288
"RTN","RMPRPS35",292,0)
 ;;E1180;289
"RTN","RMPRPS35",293,0)
 ;;E1190;290
"RTN","RMPRPS35",294,0)
 ;;E1195;291
"RTN","RMPRPS35",295,0)
 ;;E1200;292
"RTN","RMPRPS35",296,0)
 ;;E1210;293
"RTN","RMPRPS35",297,0)
 ;;E1211;294
"RTN","RMPRPS35",298,0)
 ;;E1212;295
"RTN","RMPRPS35",299,0)
 ;;E1213;296
"RTN","RMPRPS35",300,0)
 ;;E1220;297
"RTN","RMPRPS35",301,0)
 ;;E1221;298
"RTN","RMPRPS35",302,0)
 ;;E1222;299
"RTN","RMPRPS35",303,0)
 ;;E1223;300
"RTN","RMPRPS35",304,0)
 ;;E1224;301
"RTN","RMPRPS35",305,0)
 ;;E1225;302
"RTN","RMPRPS35",306,0)
 ;;E1226;303
"RTN","RMPRPS35",307,0)
 ;;E1227;304
"RTN","RMPRPS35",308,0)
 ;;E1228;305
"RTN","RMPRPS35",309,0)
 ;;E1230;306
"RTN","RMPRPS35",310,0)
 ;;E1240;307
"RTN","RMPRPS35",311,0)
 ;;E1250;308
"RTN","RMPRPS35",312,0)
 ;;E1260;309
"RTN","RMPRPS35",313,0)
 ;;E1270;310
"RTN","RMPRPS35",314,0)
 ;;E1280;311
"RTN","RMPRPS35",315,0)
 ;;E1285;312
"RTN","RMPRPS35",316,0)
 ;;E1290;313
"RTN","RMPRPS35",317,0)
 ;;E1295;314
"RTN","RMPRPS35",318,0)
 ;;E1296;315
"RTN","RMPRPS35",319,0)
 ;;E1297;316
"RTN","RMPRPS35",320,0)
 ;;E1298;317
"RTN","RMPRPS35",321,0)
 ;;K0001;339
"RTN","RMPRPS35",322,0)
 ;;K0002;340
"RTN","RMPRPS35",323,0)
 ;;K0003;341
"RTN","RMPRPS35",324,0)
 ;;K0004;342
"RTN","RMPRPS35",325,0)
 ;;K0005;343
"RTN","RMPRPS35",326,0)
 ;;K0006;344
"RTN","RMPRPS35",327,0)
 ;;K0007;345
"RTN","RMPRPS35",328,0)
 ;;K0009;347
"RTN","RMPRPS35",329,0)
 ;;K0010;348
"RTN","RMPRPS35",330,0)
 ;;K0011;349
"RTN","RMPRPS35",331,0)
 ;;K0012;350
"RTN","RMPRPS35",332,0)
 ;;K0014;352
"RTN","RMPRPS35",333,0)
 ;;END
"RTN","RMPRPS36")
0^3^B56796504
"RTN","RMPRPS36",1,0)
RMPRPS36 ;HIN CIO/RVD - HCPCS Update Utilities ; 3/25/04 12:29pm
"RTN","RMPRPS36",2,0)
 ;;3.0;PROSTHETICS;**76,77,84**,FEB 09,1996
"RTN","RMPRPS36",3,0)
 Q
"RTN","RMPRPS36",4,0)
 ;
"RTN","RMPRPS36",5,0)
 ; RVD 2/12/03 patch #76  - replace a list of deactivated 2003 HCPCS
"RTN","RMPRPS36",6,0)
 ;                      for sites with patch #61 installed.
"RTN","RMPRPS36",7,0)
 ; RVD patch #77 - added list of old HCPCS in PIP for conversion.
"RTN","RMPRPS36",8,0)
 ;               - added HCPCS G0290, G0291, TM100, TM101, TM101,
"RTN","RMPRPS36",9,0)
 ;                             TM102, TM103, TM104 and TM105.
"RTN","RMPRPS36",10,0)
 ;
"RTN","RMPRPS36",11,0)
 ; AAC 3/26/04 - Patch 84: Convert old HCPCS to new/replacement HCPCS in PIP.
"RTN","RMPRPS36",12,0)
        ;               Replace all CPT Codes with pointer 104840 - code A9900 begin with 1/1/04
"RTN","RMPRPS36",13,0)
        ;               Update all Modifier codes with null
"RTN","RMPRPS36",14,0)
 ;
"RTN","RMPRPS36",15,0)
 Q
"RTN","RMPRPS36",16,0)
 ;
"RTN","RMPRPS36",17,0)
F6111 ; Update PIP files 661.11
"RTN","RMPRPS36",18,0)
 K RMI
"RTN","RMPRPS36",19,0)
 F RMI=0:0 S RMI=$O(^RMPR(661.11,"B",RMHOLD,RMI)) Q:RMI'>0  D
"RTN","RMPRPS36",20,0)
 .S RMIT=""
"RTN","RMPRPS36",21,0)
 .Q:'$D(^RMPR(661.11,RMI,0))
"RTN","RMPRPS36",22,0)
 .S RMIT=$P(^RMPR(661.11,RMI,0),U,2)
"RTN","RMPRPS36",23,0)
 .K RMPRFDA,RMPRFME
"RTN","RMPRPS36",24,0)
 .S RMPRIEN=RMI_","
"RTN","RMPRPS36",25,0)
 .S RMPRFDA(661.11,RMPRIEN,.01)=RMHNEW
"RTN","RMPRPS36",26,0)
 .S RMPRFDA(661.11,RMPRIEN,6)=RMHNEW_"-"_RMIT
"RTN","RMPRPS36",27,0)
 .D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS36",28,0)
 Q
"RTN","RMPRPS36",29,0)
 ;
"RTN","RMPRPS36",30,0)
F614 ; Update PIP files 661.4
"RTN","RMPRPS36",31,0)
 K RMI
"RTN","RMPRPS36",32,0)
 F RMI=0:0 S RMI=$O(^RMPR(661.4,"B",RMHOLD,RMI)) Q:RMI'>0  D
"RTN","RMPRPS36",33,0)
 .Q:'$D(^RMPR(661.4,RMI,0))
"RTN","RMPRPS36",34,0)
 .K RMPRFDA,RMPRFME
"RTN","RMPRPS36",35,0)
 .S RMPRIEN=RMI_","
"RTN","RMPRPS36",36,0)
 .S RMPRFDA(661.4,RMPRIEN,.01)=RMHNEW
"RTN","RMPRPS36",37,0)
 .D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS36",38,0)
 Q
"RTN","RMPRPS36",39,0)
 ;
"RTN","RMPRPS36",40,0)
F6141 ; Update PIP files 661.41
"RTN","RMPRPS36",41,0)
 K RMI
"RTN","RMPRPS36",42,0)
 F RMI=0:0 S RMI=$O(^RMPR(661.41,"B",RMHOLD,RMI)) Q:RMI'>0  D
"RTN","RMPRPS36",43,0)
 .Q:'$D(^RMPR(661.41,RMI,0))
"RTN","RMPRPS36",44,0)
 .K RMPRFDA,RMPRFME
"RTN","RMPRPS36",45,0)
 .S RMPRIEN=RMI_","
"RTN","RMPRPS36",46,0)
 .S RMPRFDA(661.41,RMPRIEN,5)=RMHNEW
"RTN","RMPRPS36",47,0)
 .D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS36",48,0)
 Q
"RTN","RMPRPS36",49,0)
 ;
"RTN","RMPRPS36",50,0)
F616 ; Update PIP files 661.6
"RTN","RMPRPS36",51,0)
 K RMI
"RTN","RMPRPS36",52,0)
 F RMI=0:0 S RMI=$O(^RMPR(661.6,"B",RMHOLD,RMI)) Q:RMI'>0  D
"RTN","RMPRPS36",53,0)
 .Q:'$D(^RMPR(661.6,RMI,0))
"RTN","RMPRPS36",54,0)
 .K RMPRFDA,RMPRFME
"RTN","RMPRPS36",55,0)
 .S RMPRIEN=RMI_","
"RTN","RMPRPS36",56,0)
 .S RMPRFDA(661.6,RMPRIEN,.01)=RMHNEW
"RTN","RMPRPS36",57,0)
 .D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS36",58,0)
 Q
"RTN","RMPRPS36",59,0)
 ;
"RTN","RMPRPS36",60,0)
F6163 ; Update PIP files 661.63
"RTN","RMPRPS36",61,0)
 K RMI
"RTN","RMPRPS36",62,0)
 F RMI=0:0 S RMI=$O(^RMPR(661.63,RMI)) Q:RMI'>0  D
"RTN","RMPRPS36",63,0)
 .S RM63DAT=^RMPR(661.63,RMI,0)
"RTN","RMPRPS36",64,0)
 .S RM63HCP=$P(RM63DAT,U,4)
"RTN","RMPRPS36",65,0)
 .Q:RM63HCP'=RMHOLD
"RTN","RMPRPS36",66,0)
 .K RMPRFDA,RMPRFME
"RTN","RMPRPS36",67,0)
 .S RMPRIEN=RMI_","
"RTN","RMPRPS36",68,0)
 .S RMPRFDA(661.63,RMPRIEN,4)=RMHNEW
"RTN","RMPRPS36",69,0)
 .D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS36",70,0)
 Q
"RTN","RMPRPS36",71,0)
 ;
"RTN","RMPRPS36",72,0)
F617 ; Update PIP files 661.7
"RTN","RMPRPS36",73,0)
 K RMI
"RTN","RMPRPS36",74,0)
 F RMI=0:0 S RMI=$O(^RMPR(661.7,"B",RMHOLD,RMI)) Q:RMI'>0  D
"RTN","RMPRPS36",75,0)
 .Q:'$D(^RMPR(661.7,RMI,0))
"RTN","RMPRPS36",76,0)
 .K RMPRFDA,RMPRFME
"RTN","RMPRPS36",77,0)
 .S RMPRIEN=RMI_","
"RTN","RMPRPS36",78,0)
 .S RMPRFDA(661.7,RMPRIEN,.01)=RMHNEW
"RTN","RMPRPS36",79,0)
 .D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS36",80,0)
 Q
"RTN","RMPRPS36",81,0)
 ;
"RTN","RMPRPS36",82,0)
F619 ; Update PIP files 661.9
"RTN","RMPRPS36",83,0)
 K RMI
"RTN","RMPRPS36",84,0)
 F RMI=0:0 S RMI=$O(^RMPR(661.9,RMI)) Q:RMI'>0  D
"RTN","RMPRPS36",85,0)
 .S RM9DAT=^RMPR(661.9,RMI,0)
"RTN","RMPRPS36",86,0)
 .S RM9HCP=$P(RM9DAT,U,2)
"RTN","RMPRPS36",87,0)
 .Q:RM9HCP'=RMHOLD
"RTN","RMPRPS36",88,0)
 .K RMPRFDA,RMPRFME
"RTN","RMPRPS36",89,0)
 .S RMPRIEN=RMI_","
"RTN","RMPRPS36",90,0)
 .S RMPRFDA(661.9,RMPRIEN,1)=RMHNEW
"RTN","RMPRPS36",91,0)
 .D FILE^DIE("","RMPRFDA","RMPRFME")
"RTN","RMPRPS36",92,0)
 Q
"RTN","RMPRPS36",93,0)
 ;
"RTN","RMPRPS36",94,0)
 ;for next update, change RMPRA() local array to the HCPCS that need
"RTN","RMPRPS36",95,0)
 ;to be replaced.
"RTN","RMPRPS36",96,0)
PAT76 ; Set up array and replace HCPCS
"RTN","RMPRPS36",97,0)
 S U="^"
"RTN","RMPRPS36",98,0)
 I '$D(IO("Q")) D
"RTN","RMPRPS36",99,0)
 . W !!,"Replacing the following HCPCS...",!
"RTN","RMPRPS36",100,0)
 . Q
"RTN","RMPRPS36",101,0)
 ;list of replacement HCPCS.
"RTN","RMPRPS36",102,0)
 ;K RMPRA
"RTN","RMPRPS36",103,0)
 ;S RMPRA(1)="K0182^A7018"
"RTN","RMPRPS36",104,0)
 ;S RMPRA(2)="K0269^E0572"
"RTN","RMPRPS36",105,0)
 S I=""
"RTN","RMPRPS36",106,0)
 ;patch #76 - replacement code
"RTN","RMPRPS36",107,0)
 F RMIJ=0:0 S RMIJ=$O(^RMPR(661.1,"RMPR",RMIJ)) Q:RMIJ'>0  D
"RTN","RMPRPS36",108,0)
 .S RMHDA=^RMPR(661.1,"RMPR",RMIJ)
"RTN","RMPRPS36",109,0)
 .S RMHOLD=$P(RMHDA,"^",1),RMHNEW=$P(RMHDA,U,2)
"RTN","RMPRPS36",110,0)
 .I '$D(IO("Q")) D
"RTN","RMPRPS36",111,0)
 .. W !,RMHOLD," with ",RMHNEW
"RTN","RMPRPS36",112,0)
 .;convert 661.11
"RTN","RMPRPS36",113,0)
 .D F6111
"RTN","RMPRPS36",114,0)
 .;convert 661.4
"RTN","RMPRPS36",115,0)
 .D F614
"RTN","RMPRPS36",116,0)
 .;convert 661.41
"RTN","RMPRPS36",117,0)
 .D F6141
"RTN","RMPRPS36",118,0)
 .;convert 661.6
"RTN","RMPRPS36",119,0)
 .D F616
"RTN","RMPRPS36",120,0)
 .;convert 661.7
"RTN","RMPRPS36",121,0)
 .D F617
"RTN","RMPRPS36",122,0)
 .;convert 661.9
"RTN","RMPRPS36",123,0)
 .D F619
"RTN","RMPRPS36",124,0)
 I '$D(IO("Q")) D
"RTN","RMPRPS36",125,0)
 . W !!,"HCPCS replacement complete.",!
"RTN","RMPRPS36",126,0)
 . Q
"RTN","RMPRPS36",127,0)
 Q
"RTN","RMPRPS36",128,0)
 ;
"RTN","RMPRPS36",129,0)
PAT77 ;Convert old HCPCS and set consult service requestor in file 660.
"RTN","RMPRPS36",130,0)
 ;this label is called by patch 77 post-init.
"RTN","RMPRPS36",131,0)
 ;add new HCPCS to file #661.1
"RTN","RMPRPS36",132,0)
 S U="^"
"RTN","RMPRPS36",133,0)
 W !!,"Adding new PSAS HCPCS to file #661.1.....",!
"RTN","RMPRPS36",134,0)
 S DIK="^RMPR(661.1,"
"RTN","RMPRPS36",135,0)
 F RMI=1:1 S RMDAT=$P($T(ADDHCPC+RMI),";",3) Q:RMDAT="END"  D
"RTN","RMPRPS36",136,0)
 .S RIEN=$P(RMDAT,":",1)
"RTN","RMPRPS36",137,0)
 .S RNOD=$P(RMDAT,":",2)
"RTN","RMPRPS36",138,0)
 .S RDAT=$P(RMDAT,":",3)
"RTN","RMPRPS36",139,0)
 .S RARR(RIEN)=""
"RTN","RMPRPS36",140,0)
 .I RNOD=2 S ^RMPR(661.1,RIEN,RNOD,1,0)=RDAT
"RTN","RMPRPS36",141,0)
 .E  S ^RMPR(661.1,RIEN,RNOD)=RDAT
"RTN","RMPRPS36",142,0)
 F RMI=0:0 S RMI=$O(RARR(RMI)) Q:RMI'>0  D
"RTN","RMPRPS36",143,0)
 .S ^RMPR(661.1,RMI,2,0)="^661.18^1^1"
"RTN","RMPRPS36",144,0)
 .S DA=RMI D IX1^DIK
"RTN","RMPRPS36",145,0)
 S $P(^RMPR(661.1,0),U,3)=3915
"RTN","RMPRPS36",146,0)
 S $P(^RMPR(661.1,0),U,4)=3035
"RTN","RMPRPS36",147,0)
 W !!,"Done adding new PSAS HCPCS!!!",!
"RTN","RMPRPS36",148,0)
 ; D CONV
"RTN","RMPRPS36",149,0)
 ; D SCRS^RMPRPCE1
"RTN","RMPRPS36",150,0)
 ; D CFLG^RMPRPS35
"RTN","RMPRPS36",151,0)
 Q
"RTN","RMPRPS36",152,0)
ADDHCPC ;list of HCPCS added in #77
"RTN","RMPRPS36",153,0)
 ;;3906:0:G0290^STENT, DRUG ELUTING W/DEL SYS^^106939^1^^960 E
"RTN","RMPRPS36",154,0)
 ;;3906:2:STENT, DRUG ELUTING WITH DELIVERY SYSTEM
"RTN","RMPRPS36",155,0)
 ;;3906:4:GY,NU
"RTN","RMPRPS36",156,0)
 ;;3907:0:G0291^STENT, DRUG ELUTING W/O DEL^^106940^1^^960 E
"RTN","RMPRPS36",157,0)
 ;;3907:2:STENT, DRUG ELUTING WITH OUT DELIVERY SYSTEM
"RTN","RMPRPS36",158,0)
 ;;3907:4:GY,NU
"RTN","RMPRPS36",159,0)
 ;;3908:0:TM100^TELEMED HOME COMPUTER/EQUIPMT^^100201^1^R80 C^900 K
"RTN","RMPRPS36",160,0)
 ;;3908:2:TELEMEDICINE HOME COMPUTER EQUIPMENT
"RTN","RMPRPS36",161,0)
 ;;3908:4:NU,RP
"RTN","RMPRPS36",162,0)
 ;;3910:0:TM102^TELEMED HOME EQUIPMENT^^100201^1^R80 C^900 K
"RTN","RMPRPS36",163,0)
 ;;3910:2:TELEMEDICINE HOME EQUIPMENT
"RTN","RMPRPS36",164,0)
 ;;3910:4:NU,RP
"RTN","RMPRPS36",165,0)
 ;;3912:0:TM104^TELEMED AUDIO/VIDEO^^100201^1^R80 C^900 K
"RTN","RMPRPS36",166,0)
 ;;3912:2:TELEMEDICINE VIDEOPHONE/AUDIO VIDEO
"RTN","RMPRPS36",167,0)
 ;;3912:4:NU,RP
"RTN","RMPRPS36",168,0)
 ;;3913:0:TM105^TELEMED WOUND CARE^^100201^1^R80 C^900 K
"RTN","RMPRPS36",169,0)
 ;;3913:2:TELEMEDICINE WOUND CARE EQUIPMENT
"RTN","RMPRPS36",170,0)
 ;;3913:4:NU,RP
"RTN","RMPRPS36",171,0)
 ;;3914:0:TM101^TELEMED VIDEO MONITOR^^100201^1^R80 C^900 K
"RTN","RMPRPS36",172,0)
 ;;3914:2:TELEMEDICINE VIDEO MONITOR
"RTN","RMPRPS36",173,0)
 ;;3914:4:NU,RP
"RTN","RMPRPS36",174,0)
 ;;3915:0:TM103^TELEMED MESSAGE/MONITORING^^100201^1^R80 C^900 K
"RTN","RMPRPS36",175,0)
 ;;3915:2:TELEMEDICINE IN HOME MESSAGE MONITORING
"RTN","RMPRPS36",176,0)
 ;;3915:4:NU,RP
"RTN","RMPRPS36",177,0)
 ;;END
"RTN","RMPRPS36",178,0)
CONV ;convert old HCPCS in PIP to new HCPCS
"RTN","RMPRPS36",179,0)
 W !!,"Replacing old/INACTIVE HCPCS to new/ACTIVE HCPCS in PIP.....",!
"RTN","RMPRPS36",180,0)
 S RMFLG61=""
"RTN","RMPRPS36",181,0)
 I $D(^RMPR(661.6)),$D(^RMPR(661.7)),$D(^RMPR(661.9)) S RMFLG61=1
"RTN","RMPRPS36",182,0)
CONV35 F RMPRII=1:1 S RMHCDA=$P($T(HLST+RMPRII),";",3) Q:RMHCDA=""  D
"RTN","RMPRPS36",183,0)
 .S RMHOLD=$P(RMHCDA,U,1),RMHNEW=$P(RMHCDA,U,2)
"RTN","RMPRPS36",184,0)
 .Q:'$D(^RMPR(661.1,"B",RMHOLD))!'$D(^RMPR(661.1,"B",RMHNEW))
"RTN","RMPRPS36",185,0)
 .S RMHNEWI=$O(^RMPR(661.1,"B",RMHNEW,0)) Q:'$G(RMHNEWI)
"RTN","RMPRPS36",186,0)
 .;quit if the new HCPCS has been used in stock issue.
"RTN","RMPRPS36",187,0)
 .S RMFLG=""
"RTN","RMPRPS36",188,0)
 .F R6I=0:0 S R6I=$O(^RMPR(660,"H",RMHNEWI,R6I)) Q:R6I'>0!$G(RMFLG)  D
"RTN","RMPRPS36",189,0)
 ..I $D(^RMPR(660,R6I,0)),$P(^RMPR(660,R6I,0),U,13)=11 S RMFLG=1 Q
"RTN","RMPRPS36",190,0)
 .Q:$G(RMFLG)
"RTN","RMPRPS36",191,0)
 .I $G(RMFLG61) D
"RTN","RMPRPS36",192,0)
 ..;convert 661.11
"RTN","RMPRPS36",193,0)
 ..D F6111
"RTN","RMPRPS36",194,0)
 ..;convert 661.4
"RTN","RMPRPS36",195,0)
 ..D F614
"RTN","RMPRPS36",196,0)
 ..;convert 661.41
"RTN","RMPRPS36",197,0)
 ..D F6141
"RTN","RMPRPS36",198,0)
 ..;convert 661.6
"RTN","RMPRPS36",199,0)
 ..D F616
"RTN","RMPRPS36",200,0)
 ..;convert 661.7
"RTN","RMPRPS36",201,0)
 ..D F617
"RTN","RMPRPS36",202,0)
 ..;convert 661.9
"RTN","RMPRPS36",203,0)
 ..D F619
"RTN","RMPRPS36",204,0)
 . E  D ITEM^RMPRPS35(RMHOLD,RMHNEW)
"RTN","RMPRPS36",205,0)
 I '$D(IO("Q")) W !!,"HCPCS replacement complete!!!",!
"RTN","RMPRPS36",206,0)
 Q
"RTN","RMPRPS36",207,0)
 ;
"RTN","RMPRPS36",208,0)
HLST ;List of old^new HCPCS
"RTN","RMPRPS36",209,0)
 ;;E0165^E0166
"RTN","RMPRPS36",210,0)
 ;;E0943^DL191
"RTN","RMPRPS36",211,0)
 ;;E0975^E0981
"RTN","RMPRPS36",212,0)
 ;;E0979^E0978
"RTN","RMPRPS36",213,0)
 ;;E0991^E0981
"RTN","RMPRPS36",214,0)
 ;;E0993^E0982
"RTN","RMPRPS36",215,0)
 ;;E1066^E2367
"RTN","RMPRPS36",216,0)
 ;;E1069^E2366
"RTN","RMPRPS36",217,0)
 ;;K0002^E1084
"RTN","RMPRPS36",218,0)
 ;;K0003^E1240
"RTN","RMPRPS36",219,0)
 ;;K0004^E1088
"RTN","RMPRPS36",220,0)
 ;;K0006^E1290
"RTN","RMPRPS36",221,0)
 ;;K0010^E1213
"RTN","RMPRPS36",222,0)
 ;;K0016^E0973
"RTN","RMPRPS36",223,0)
 ;;K0022^E0982
"RTN","RMPRPS36",224,0)
 ;;K0025^E0966
"RTN","RMPRPS36",225,0)
 ;;K0026^E0982
"RTN","RMPRPS36",226,0)
 ;;K0027^E0982
"RTN","RMPRPS36",227,0)
 ;;K0028^E1226
"RTN","RMPRPS36",228,0)
 ;;K0029^E0981
"RTN","RMPRPS36",229,0)
 ;;K0030^E0992
"RTN","RMPRPS36",230,0)
 ;;K0031^E0978
"RTN","RMPRPS36",231,0)
 ;;K0032^E0981
"RTN","RMPRPS36",232,0)
 ;;K0033^E0981
"RTN","RMPRPS36",233,0)
 ;;K0035^E0951
"RTN","RMPRPS36",234,0)
 ;;K0036^E0952
"RTN","RMPRPS36",235,0)
 ;;K0048^E0990
"RTN","RMPRPS36",236,0)
 ;;K0049^E0995
"RTN","RMPRPS36",237,0)
 ;;K0062^E0967
"RTN","RMPRPS36",238,0)
 ;;K0063^E0967
"RTN","RMPRPS36",239,0)
 ;;K0079^E0961
"RTN","RMPRPS36",240,0)
 ;;K0080^E0974
"RTN","RMPRPS36",241,0)
 ;;K0082^E2360
"RTN","RMPRPS36",242,0)
 ;;K0083^E2361
"RTN","RMPRPS36",243,0)
 ;;K0084^E2362
"RTN","RMPRPS36",244,0)
 ;;K0085^E2363
"RTN","RMPRPS36",245,0)
 ;;K0086^E2361
"RTN","RMPRPS36",246,0)
 ;;K0087^E2365
"RTN","RMPRPS36",247,0)
 ;;K0088^E2366
"RTN","RMPRPS36",248,0)
 ;;K0089^E2367
"RTN","RMPRPS36",249,0)
 ;;K0100^E0959
"RTN","RMPRPS36",250,0)
 ;;K0103^E0972
"RTN","RMPRPS36",251,0)
 ;;K0107^E0950
"RTN","RMPRPS36",252,0)
 ;;K0112^E0980
"RTN","RMPRPS36",253,0)
 ;;K0113^E0980
"RTN","RMPRPS36",254,0)
 ;;K0268^E0561
"RTN","RMPRPS36",255,0)
 ;;K0460^E0983
"RTN","RMPRPS36",256,0)
 ;;K0461^E0984
"RTN","RMPRPS36",257,0)
 ;;K0531^E0562
"RTN","RMPRPS36",258,0)
 ;;K0538^E2402
"RTN","RMPRPS36",259,0)
 ;;K0540^A6551
"RTN","RMPRPS36",260,0)
 ;;K0541^E2500
"RTN","RMPRPS36",261,0)
 ;;K0542^E2502
"RTN","RMPRPS36",262,0)
 ;;K0543^E2508
"RTN","RMPRPS36",263,0)
 ;;K0544^E2510
"RTN","RMPRPS36",264,0)
 ;;K0545^E2511
"RTN","RMPRPS36",265,0)
 ;;K0546^E2512
"RTN","RMPRPS36",266,0)
 ;;K0547^E2599
"RTN","RMPRPS36",267,0)
 ;;K0549^E0301
"RTN","RMPRPS36",268,0)
 ;;K0550^E0302
"RTN","RMPRPS36",269,0)
 ;;K0556^L5673
"RTN","RMPRPS36",270,0)
 ;;K0557^L5679
"RTN","RMPRPS36",271,0)
 ;;K0558^L5681
"RTN","RMPRPS36",272,0)
 ;;K0559^L5683
"RTN","RMPRPS36",273,0)
 ;;L1885^L1831
"RTN","RMPRPS36",274,0)
 ;;L2102^L2106
"RTN","RMPRPS36",275,0)
 ;;L2104^L2108
"RTN","RMPRPS36",276,0)
 ;;L2122^L2126
"RTN","RMPRPS36",277,0)
 ;;L2124^L2128
"RTN","RMPRPS36",278,0)
 ;;S8180^A7523
"RTN","RMPRPS36",279,0)
 ;;S8181^A7526
"RTN","RMPRPS36",280,0)
 ;;V2116^V2199
"RTN","RMPRPS36",281,0)
 ;;V2117^V2199
"RTN","RMPRPS36",282,0)
 ;;V2216^V2299
"RTN","RMPRPS36",283,0)
 ;;V2217^V2299
"RTN","RMPRPS36",284,0)
 ;;V2316^V2399
"RTN","RMPRPS36",285,0)
 ;;V2317^V2399
"RTN","RMPRPS36",286,0)
 ;;VA123^E0470
"RTN","RMPRUTL")
0^17^B334849
"RTN","RMPRUTL",1,0)
RMPRUTL ;HINES OI/AAC-UTILITY PROGRAM FOR PROSTHETICS ;05/05/2004
"RTN","RMPRUTL",2,0)
 ;;3.0;PROSTHETICS;**84**;MAY 5,2004
"RTN","RMPRUTL",3,0)
LKPHCPC ;
"RTN","RMPRUTL",4,0)
 ; Patch 84 HCPCS Update 2004 - AAC 04/16/04
"RTN","RMPRUTL",5,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","RMPRUTL",6,0)
 Q
"RTN","RMPRUTL",7,0)
KILLXRF ; KILL XREF E AND DD ENTRY
"RTN","RMPRUTL",8,0)
 ; Patch 84 HCPCS Update 2004 - AAC 05/28/04
"RTN","RMPRUTL",9,0)
 K ^RMPR(661.1,"E") S DA(1)=661.1
"RTN","RMPRUTL",10,0)
 S DIK="^DD(661.1,",DA=2 D ^DIK
"RTN","RMPRUTL",11,0)
 Q
"RTN","RMPRUTL",12,0)
 ;
"RTN","RMPRUTL",13,0)
 ;END
"VER")
8.0^22
"^DD",661.1,661.1,.01,0)
HCPCS^RFIO^^0;1^K:$L(X)>8!($L(X)<5) X
"^DD",661.1,661.1,.01,1,0)
^.1
"^DD",661.1,661.1,.01,1,1,0)
661.1^B
"^DD",661.1,661.1,.01,1,1,1)
S ^RMPR(661.1,"B",$E(X,1,30),DA)=""
"^DD",661.1,661.1,.01,1,1,2)
K ^RMPR(661.1,"B",$E(X,1,30),DA)
"^DD",661.1,661.1,.01,1,1,"DT")
2980106
"^DD",661.1,661.1,.01,3)
Answer must be 5-8 characters in length.
"^DD",661.1,661.1,.01,7.5)
D LKPHCPC^RMPRUTL
"^DD",661.1,661.1,.01,21,0)
^.001^1^1^3040421^^^^
"^DD",661.1,661.1,.01,21,1,0)
This is a unique Prosthetics HCPCS code that corresponds to the CPT code.
"^DD",661.1,661.1,.01,"DEL",.01,0)
I 1 W " CANNOT DELETE."
"^DD",661.1,661.1,.01,"DT")
2991222
"^DD",661.1,661.1,2,0)
CPT^P81'^ICPT(^0;4^Q
"^DD",661.1,661.1,2,1,0)
^.1^^0
"^DD",661.1,661.1,2,3)
Enter CPT code.
"^DD",661.1,661.1,2,21,0)
^^1^1^2980313^
"^DD",661.1,661.1,2,21,1,0)
A pointer to cpt file (#81).
"^DD",661.1,661.1,2,"DT")
3040524
**END**
**END**
