Released PSJ*5*142 SEQ #134
Extracted from mail message
**KIDS**:PSJ*5.0*142^

**INSTALL NAME**
PSJ*5.0*142
"BLD",6167,0)
PSJ*5.0*142^INPATIENT MEDICATIONS^0^3050511^y
"BLD",6167,1,0)
^^10^10^3050511^
"BLD",6167,1,1,0)
 1. When finishing a CPRS-entered order for a syringe, if the user
"BLD",6167,1,2,0)
    indicates "NO" at the intermittent syringe prompt, the syringe 
"BLD",6167,1,3,0)
    size field is required and causes a loop back to the patient's
"BLD",6167,1,4,0)
    profile if it is not filled in.  This patch will allow the user
"BLD",6167,1,5,0)
    to "carriage return" past the SYRINGE SIZE prompt and continue
"BLD",6167,1,6,0)
    finishing the order.
"BLD",6167,1,7,0)
 
"BLD",6167,1,8,0)
 2. Currently when field "(12) Dispense Drug" of an order is edited an
"BLD",6167,1,9,0)
    updated picklist is not triggered.  This change will cause an update
"BLD",6167,1,10,0)
    trigger to the picklist.
"BLD",6167,4,0)
^9.64PA^53.1^1
"BLD",6167,4,53.1,0)
53.1
"BLD",6167,4,53.1,2,0)
^9.641^53.1^1
"BLD",6167,4,53.1,2,53.1,0)
NON-VERIFIED ORDERS  (File-top level)
"BLD",6167,4,53.1,2,53.1,1,0)
^9.6411^55^1
"BLD",6167,4,53.1,2,53.1,1,55,0)
SYRINGE SIZE
"BLD",6167,4,53.1,222)
y^n^p^^^^n^^n
"BLD",6167,4,53.1,224)

"BLD",6167,4,"APDD",53.1,53.1)

"BLD",6167,4,"APDD",53.1,53.1,55)

"BLD",6167,4,"B",53.1,53.1)

"BLD",6167,"KRN",0)
^9.67PA^8989.52^19
"BLD",6167,"KRN",.4,0)
.4
"BLD",6167,"KRN",.401,0)
.401
"BLD",6167,"KRN",.402,0)
.402
"BLD",6167,"KRN",.403,0)
.403
"BLD",6167,"KRN",.5,0)
.5
"BLD",6167,"KRN",.84,0)
.84
"BLD",6167,"KRN",3.6,0)
3.6
"BLD",6167,"KRN",3.8,0)
3.8
"BLD",6167,"KRN",9.2,0)
9.2
"BLD",6167,"KRN",9.8,0)
9.8
"BLD",6167,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6167,"KRN",9.8,"NM",1,0)
PSGOEE^^0^61292541
"BLD",6167,"KRN",9.8,"NM","B","PSGOEE",1)

"BLD",6167,"KRN",19,0)
19
"BLD",6167,"KRN",19.1,0)
19.1
"BLD",6167,"KRN",101,0)
101
"BLD",6167,"KRN",409.61,0)
409.61
"BLD",6167,"KRN",771,0)
771
"BLD",6167,"KRN",870,0)
870
"BLD",6167,"KRN",8989.51,0)
8989.51
"BLD",6167,"KRN",8989.52,0)
8989.52
"BLD",6167,"KRN",8994,0)
8994
"BLD",6167,"KRN","B",.4,.4)

"BLD",6167,"KRN","B",.401,.401)

"BLD",6167,"KRN","B",.402,.402)

"BLD",6167,"KRN","B",.403,.403)

"BLD",6167,"KRN","B",.5,.5)

"BLD",6167,"KRN","B",.84,.84)

"BLD",6167,"KRN","B",3.6,3.6)

"BLD",6167,"KRN","B",3.8,3.8)

"BLD",6167,"KRN","B",9.2,9.2)

"BLD",6167,"KRN","B",9.8,9.8)

"BLD",6167,"KRN","B",19,19)

"BLD",6167,"KRN","B",19.1,19.1)

"BLD",6167,"KRN","B",101,101)

"BLD",6167,"KRN","B",409.61,409.61)

"BLD",6167,"KRN","B",771,771)

"BLD",6167,"KRN","B",870,870)

"BLD",6167,"KRN","B",8989.51,8989.51)

"BLD",6167,"KRN","B",8989.52,8989.52)

"BLD",6167,"KRN","B",8994,8994)

"BLD",6167,"QUES",0)
^9.62^^
"BLD",6167,"REQB",0)
^9.611^1^1
"BLD",6167,"REQB",1,0)
PSJ*5.0*112^2
"BLD",6167,"REQB","B","PSJ*5.0*112",1)

"FIA",53.1)
NON-VERIFIED ORDERS
"FIA",53.1,0)
^PS(53.1,
"FIA",53.1,0,0)
53.1I
"FIA",53.1,0,1)
y^n^p^^^^n^^n
"FIA",53.1,0,10)

"FIA",53.1,0,11)

"FIA",53.1,0,"RLRO")

"FIA",53.1,0,"VR")
5.0^PSJ
"FIA",53.1,53.1)
1
"FIA",53.1,53.1,55)

"MBREQ")
0
"PKG",203,-1)
1^1
"PKG",203,0)
INPATIENT MEDICATIONS^PSJ^UNIT DOSE AND IVS
"PKG",203,22,0)
^9.49I^1^1
"PKG",203,22,1,0)
5.0^2971215^2980417^1271
"PKG",203,22,1,"PAH",1,0)
142^3050511
"PKG",203,22,1,"PAH",1,1,0)
^^10^10^3050511
"PKG",203,22,1,"PAH",1,1,1,0)
 1. When finishing a CPRS-entered order for a syringe, if the user
"PKG",203,22,1,"PAH",1,1,2,0)
    indicates "NO" at the intermittent syringe prompt, the syringe 
"PKG",203,22,1,"PAH",1,1,3,0)
    size field is required and causes a loop back to the patient's
"PKG",203,22,1,"PAH",1,1,4,0)
    profile if it is not filled in.  This patch will allow the user
"PKG",203,22,1,"PAH",1,1,5,0)
    to "carriage return" past the SYRINGE SIZE prompt and continue
"PKG",203,22,1,"PAH",1,1,6,0)
    finishing the order.
"PKG",203,22,1,"PAH",1,1,7,0)
 
"PKG",203,22,1,"PAH",1,1,8,0)
 2. Currently when field "(12) Dispense Drug" of an order is edited an
"PKG",203,22,1,"PAH",1,1,9,0)
    updated picklist is not triggered.  This change will cause an update
"PKG",203,22,1,"PAH",1,1,10,0)
    trigger to the picklist.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSGOEE")
0^1^B61292541
"RTN","PSGOEE",1,0)
PSGOEE ;BIR/CML3-EDIT ACTIVE OR NON-VERIFIED ORDERS ;01 May 98 / 8:44 AM
"RTN","PSGOEE",2,0)
 ;;5.0; INPATIENT MEDICATIONS ;**4,7,29,47,64,58,82,91,110,111,112,142**;16 DEC 97
"RTN","PSGOEE",3,0)
 ;
"RTN","PSGOEE",4,0)
 ; Reference to ^PS(55 is supported by DBIA# 2191.
"RTN","PSGOEE",5,0)
 ; Reference to ^PSSLOCK is supported by DBIA# 2789.
"RTN","PSGOEE",6,0)
 ;
"RTN","PSGOEE",7,0)
 D NOW^%DTC S PSGDT=% K PSGEFN,PSGOEEF S PSGOEEF=0 I PSGORD["A"!(PSGORD["O") G ACT
"RTN","PSGOEE",8,0)
531 ; edit orders in 53.1
"RTN","PSGOEE",9,0)
ENF ;
"RTN","PSGOEE",10,0)
 D EN2^PSGOEEW
"RTN","PSGOEE",11,0)
 K PSJACEPT D EDLOOP G:'$G(PSJACEPT) OUT
"RTN","PSGOEE",12,0)
 I $G(PSGOEENO) D
"RTN","PSGOEE",13,0)
 . N PSGOEENO S PSGOEENO=1 D NEW
"RTN","PSGOEE",14,0)
 E  D
"RTN","PSGOEE",15,0)
 . N PSGOEENO S PSGOEENO=0 D UPD
"RTN","PSGOEE",16,0)
 I $G(PSGOEAV) D ACT1 Q
"RTN","PSGOEE",17,0)
 D DONE1
"RTN","PSGOEE",18,0)
 S PSGOEEF=0,PSJORD=PSGORD D GETUD^PSJLMGUD(PSGP,PSGORD),ENSFE^PSGOEE0(PSGP,PSGORD)
"RTN","PSGOEE",19,0)
 Q
"RTN","PSGOEE",20,0)
ACT ;
"RTN","PSGOEE",21,0)
 D EN2^PSGOEEW,EDLOOP G:'$G(PSJACEPT) OUT
"RTN","PSGOEE",22,0)
 I $G(PSGOEENO) D
"RTN","PSGOEE",23,0)
 . N PSGOEENO S PSGOEENO=1 D NEW
"RTN","PSGOEE",24,0)
 E  D
"RTN","PSGOEE",25,0)
 . N PSGOEENO S PSGOEENO=0 D UPD
"RTN","PSGOEE",26,0)
 S:$D(PSGOEF)!$G(PSGOEENO) PSGCANFL=-1
"RTN","PSGOEE",27,0)
ACT1 ;I 'PSGOEAV,PSJSYSL>1 S $P(@($S(PSGORD["U":"^PS(55,"_PSGP_",5,",1:"^PS(53.1,")_+PSGORD_",7)"),"^",1,2)=PSGDT_"^"_$E("D",PSGOEENO)_"E",PSGTOL=2,PSGUOW=DUZ,PSGTOO=PSGORD'["U"+1,DA=+PSGORD D ENL^PSGVDS
"RTN","PSGOEE",28,0)
 D DONE1
"RTN","PSGOEE",29,0)
 S PSGOEEF=0 D GETUD^PSJLMGUD(PSGP,PSGORD),ENSFE^PSGOEE0(PSGP,PSGORD) D:PSGOEAV UNL^PSSLOCK(PSGP,PSGORD)
"RTN","PSGOEE",30,0)
 Q
"RTN","PSGOEE",31,0)
EDIT ;
"RTN","PSGOEE",32,0)
 D FULL^VALM1
"RTN","PSGOEE",33,0)
 W ! S PSGOEER="" F Q=1:1 S Q1=$P(Y,",",Q) Q:'Q1  S X=$P($T(@(PSGOEEG_Q1)),";",3),PSGOEER=PSGOEER_X_";",PSGOEEF(+X)=Q
"RTN","PSGOEE",34,0)
 S LIMIT=$L(PSGOEER,";")-1,(PSGDEF,PSGOEE)=0 F  S PSGOEE=PSGOEE+1 Q:PSGOEE>LIMIT  I +$P(PSGOEER,";",PSGOEE)=101 S PSGDEF=1
"RTN","PSGOEE",35,0)
 S PSGOEER=$E(PSGOEER,1,$L(PSGOEER)-1),(MSG,PSGOEE)=0 F  S PSGOEE=PSGOEE+1 Q:PSGOEE>$L(PSGOEER,";")  S F1=$S(PSGOEEG=3:53.1,1:55.06) I 'PSGDEF!((PSGDEF)&(+$P(PSGOEER,";",PSGOEE)'=2)) D @$P(PSGOEER,";",PSGOEE) Q:'PSGOEE
"RTN","PSGOEE",36,0)
 Q
"RTN","PSGOEE",37,0)
EDLOOP ; Continue prompting for fields to edit.
"RTN","PSGOEE",38,0)
 D:$G(Y) EDIT
"RTN","PSGOEE",39,0)
 D ENNOU^PSGOEE0 I '$G(PSGOEENO),DR="" S VALMBCK="R" Q
"RTN","PSGOEE",40,0)
 K VALMSG
"RTN","PSGOEE",41,0)
 I '$G(PSGOEENO),$G(PSGPDNX) D CKDT
"RTN","PSGOEE",42,0)
 I $G(PSGOEENO) D
"RTN","PSGOEE",43,0)
 .S VALMSG="This change will cause a new order to be created." D GTSTATUS,CHKDD,CKDT
"RTN","PSGOEE",44,0)
 .S PSGEBN=$$ENNPN^PSGMI(DUZ),PSGLIN=$$ENDD^PSGMI(PSGDT)_U_$$ENDTC^PSGMI(PSGDT)
"RTN","PSGOEE",45,0)
 D CHK^PSGOEV("^^"_PSGMR_"^^^^"_PSGST,PSGPDRG_U_PSGDO,PSGSCH_U_PSGSD_"^^"_PSGFD)
"RTN","PSGOEE",46,0)
 K VALMBCK,PSJACEPT,PSGPDNX D EN^VALM("PSJU LM ACCEPT") Q:'$G(PSJACEPT)
"RTN","PSGOEE",47,0)
 I $G(PSGS0XT)="D",'$G(PSGS0Y) I ((",P,R,")'[(","_$G(PSGST)_",")) D  Q
"RTN","PSGOEE",48,0)
 .S PSJACEPT=0 W !!,"This is a 'DAY OF THE WEEK' schedule and MUST have admin times." D PAUSE^VALM1
"RTN","PSGOEE",49,0)
 I $G(PSGOEENO) S PSJNOO=$$ENNOO^PSJUTL5("E")
"RTN","PSGOEE",50,0)
 D K1 S PSJACEPT=$S($G(PSJNOO)<0:0,1:1)
"RTN","PSGOEE",51,0)
 S VALMBCK=$S('PSJACEPT:"R",'PSGOEAV:"R",1:"Q")
"RTN","PSGOEE",52,0)
 Q
"RTN","PSGOEE",53,0)
CHKDD ;*** Check inactive Dispense drug within the order.
"RTN","PSGOEE",54,0)
 D CHKDRG^PSGOE2
"RTN","PSGOEE",55,0)
 Q
"RTN","PSGOEE",56,0)
CKDT ; Check if new start/stop dates should be calculated.
"RTN","PSGOEE",57,0)
 S PSGS0Y=$S($D(PSGS0Y):PSGS0Y,1:$G(PSGAT))
"RTN","PSGOEE",58,0)
 I ('$G(PSGNEWDT)&(PSGSD=$G(PSGOSD))&(PSGFD=$G(PSGOFD)))!($G(PSGOST)'=PSGST)!(PSGSCH'=$G(PSGOSCH))!($G(PSGPDNX)) D
"RTN","PSGOEE",59,0)
 .N PSGOES S PSGOES=1,PSGOFD=PSGFD D ^PSGNE3 S PSGSD=PSGNESD,PSGSDN=$$ENDD^PSGMI(PSGNESD)_U_$$ENDTC^PSGMI(PSGNESD),PSGFD=PSGNEFD,PSGFDN=$$ENDD^PSGMI(PSGNEFD)_U_$$ENDTC^PSGMI(PSGNEFD),PSGNEWDT=1
"RTN","PSGOEE",60,0)
 .I $D(PSGOFD),PSGOFD]"",PSGFD'=PSGOFD S PSGOEEF(25)=1
"RTN","PSGOEE",61,0)
 .I $D(PSGOSD),PSGOSD]"",PSGSD'=PSGOSD S PSGOEEF(10)=1
"RTN","PSGOEE",62,0)
 Q
"RTN","PSGOEE",63,0)
NEW3 ;
"RTN","PSGOEE",64,0)
 ;S:PSGOEAV PSGOEAV="0^1"
"RTN","PSGOEE",65,0)
NEW ;
"RTN","PSGOEE",66,0)
 W !,"...discontinuing original order..."
"RTN","PSGOEE",67,0)
 I PSGORD["P" S PSJCOM=+$P($G(^PS(53.1,+PSGORD,.2)),"^",8) I PSJCOM D NEW^PSJCOM1 Q
"RTN","PSGOEE",68,0)
 ;DC and Unlock order.
"RTN","PSGOEE",69,0)
 S PSGEDIT="DE" D ENOR^PSGOECS,UNL^PSSLOCK(PSGP,PSGORD) K PSGEDIT
"RTN","PSGOEE",70,0)
 W !!," ...creating new order..." W:'PSGOEAV "(you will now work on this new order)"
"RTN","PSGOEE",71,0)
 S PSGS0Y=PSGAT,PSGNESD=PSGSD,PSGNEFD=PSGFD,PSGOEPR=PSGPR,PSGPDRG=PSGPD,PSGPDRGN=PSGPDN,PSGOEE="E"
"RTN","PSGOEE",72,0)
 S PSGOORD=PSGORD D ^PSGOETO K PSGOEOS
"RTN","PSGOEE",73,0)
 I PSGOORD["U" S $P(^PS(55,PSGP,5,+PSGOORD,0),"^",26,27)=PSGORD_"^E"
"RTN","PSGOEE",74,0)
 E  S $P(^PS(53.1,+PSGOORD,0),"^",26,27)=PSGORD_"^E"
"RTN","PSGOEE",75,0)
 I 'PSGOEAV,($G(PSGORD)["P"),'$G(^PS(53.1,+PSGORD,2.5)),$G(^PS(53.1,+PSGORD,0)) D
"RTN","PSGOEE",76,0)
 . N DUR S DUR=$$GETDUR^PSJLIVMD(PSGP,PSGORD,$S(PSGORD["P":"P",1:5),1) I DUR]"" K DA,DR,DIE S DIE="^PS(53.1,",DA=+PSGORD,DR="116////"_DUR D ^DIE
"RTN","PSGOEE",77,0)
 I PSGOEAV,+PSJSYSU=3,'$D(PSGOES) D EN^PSGPEN(PSGORD),UNL^PSSLOCK(PSGP,PSGORD) Q
"RTN","PSGOEE",78,0)
 S PSJORD=PSGORD,PSGACT=$$ENACTION^PSGOE1(PSGP,PSGORD)
"RTN","PSGOEE",79,0)
 Q
"RTN","PSGOEE",80,0)
UPD ;
"RTN","PSGOEE",81,0)
 K DA W !!,"...updating order..."
"RTN","PSGOEE",82,0)
 I PSGORD["P" S PSJCOM=+$P($G(^PS(53.1,+PSGORD,.2)),"^",8) I PSJCOM D UPD^PSJCOM Q
"RTN","PSGOEE",83,0)
 ; Set trigger for FIELD (12) Dispense Drug to print a updated pick list.
"RTN","PSGOEE",84,0)
 I PSGORD["U",$D(^PS(53.45,PSJSYSP,2,1,0)),$D(^PS(55,PSGP,5,+PSGORD,1,1,0)) D
"RTN","PSGOEE",85,0)
 .N PSJX12,PSJF12 S PSJF12=0
"RTN","PSGOEE",86,0)
 .F PSJX12=0:1 S PSJX12=$O(^PS(53.45,PSJSYSP,2,PSJX12)) Q:+PSJX12=0  S:$G(^PS(53.45,PSJSYSP,2,PSJX12,0))'=$G(^PS(55,PSGP,5,+PSGORD,1,PSJX12,0)) PSJF12=1
"RTN","PSGOEE",87,0)
 .S:PSJF12 ^PS(55,"AUE",PSGP,+PSGORD)=""
"RTN","PSGOEE",88,0)
 N TMP,PSGSIF S TMP=PSGOEENO N PSGOEENO S PSGOEENO=TMP
"RTN","PSGOEE",89,0)
 N II F II=1:1:$L($G(DR),";") I $E($P($G(DR),";",II),1,7)="122////" S PSGSIF=$P(PSGSI,"^",2),PSGSI=$P(PSGSI,"^") Q
"RTN","PSGOEE",90,0)
 I $G(PSJCOM),$G(PSJCOMSI) K PSJCOMSI N PSJCHILD,PSJOEORD S PSJOEORD=0 F  S PSJOEORD=$O(^PS(55,"ACX",PSJCOM,PSJOEORD)) Q:'PSJOEORD  D
"RTN","PSGOEE",91,0)
 . S PSJCHILD=0 F  S PSJCHILD=$O(^PS(55,"ACX",PSJCOM,PSJOEORD,PSJCHILD)) Q:'PSJCHILD  D
"RTN","PSGOEE",92,0)
 .. Q:PSJCHILD=PSGORD  N DR,DA,DIE,ORD S DR=$S(PSJCHILD["V":"31////"_$G(P("OPI")),1:"8////"_$G(PSGSI)) S DR=DR_";"_$S(PSJCHILD["V":146,1:122)_"////"_+$G(PSGSIF)
"RTN","PSGOEE",93,0)
 .. I $E(DR)'="*" S DA=+PSJCHILD,DIE=$S(PSJCHILD["U":"^PS(55,"_PSGP_",5,",1:"^PS(53.1,") S:DIE["^PS(55," DA(1)=PSGP D ^DIE W "." D EN1^PSJHL2(PSGP,"XX",+PSJCHILD_"U")
"RTN","PSGOEE",94,0)
 I $E(DR)'="*" S DA=+PSGORD,DIE=$S(PSGORD["U":"^PS(55,"_PSGP_",5,",1:"^PS(53.1,") S:DIE["^PS(55," DA(1)=PSGP D ^DIE W "."
"RTN","PSGOEE",95,0)
 F Q=1,3 K @(PSGOEEWF_Q_")") S %X="^PS(53.45,"_PSJSYSP_","_$S(Q=1:2,1:1)_",",%Y=PSGOEEWF_Q_"," K @(PSGOEEWF_Q_")") D %XY^%RCR W "."
"RTN","PSGOEE",96,0)
 S $P(@(PSGOEEWF_"1,0)"),"^",2)=$S(PSGORD["U":55.07,1:53.11)_"P"
"RTN","PSGOEE",97,0)
 ; Naked reference on the line below refers to full reference using indirection to either ^PS(55 or ^PS(53.1,
"RTN","PSGOEE",98,0)
 S ND=$G(@($S(PSGORD["U":"^PS(55,"_PSGP_",5,",1:"^PS(53.1,")_+PSGORD_",0)")) I $P(ND,"^",21) S ORIFN=$P(ND,"^",21),ND1=$G(^(.2)),ND2=$G(^(2)) W !,"...updating OE/RR..." D EN1^PSJHL2(PSGP,"XX",PSGORD)
"RTN","PSGOEE",99,0)
 I $$ENACTION^PSGOE1(PSGP,PSGORD)["V" S VALMBCK="R"
"RTN","PSGOEE",100,0)
 I PSJSYSL,PSJSYSL<3 S $P(@($S(PSGORD["U":"^PS(55,"_PSGP_",5,",1:"^PS(53.1,")_+PSGORD_",7)"),"^",1,2)=PSGDT_"^"_$E("D",PSGOEENO)_"E",PSGTOL=2,PSGUOW=DUZ,PSGTOO=PSGORD'["U"+1,DA=+PSGORD D ENL^PSGVDS
"RTN","PSGOEE",101,0)
 Q
"RTN","PSGOEE",102,0)
OUT ;
"RTN","PSGOEE",103,0)
 D ABORT K PSGNEWDT S PSGCANFL=1 D GETUD^PSJLMGUD(PSGP,PSGORD),ENSFE^PSGOEE0(PSGP,PSGORD),INIT^PSJLMUDE(PSGP,PSGORD)
"RTN","PSGOEE",104,0)
 Q
"RTN","PSGOEE",105,0)
DONE ;
"RTN","PSGOEE",106,0)
 I PSGORD["P",'$D(PSGOEF),PSGSCH]"",$O(^PS(53.1,+PSGORD,1,0)) D ENF^PSGOEE0
"RTN","PSGOEE",107,0)
DONE1 ;
"RTN","PSGOEE",108,0)
 I PSGORD["U" S X=+PSGORD L -^PS(55,PSGP,5,X)
"RTN","PSGOEE",109,0)
 E  L -^PS(53.1,+PSGORD)
"RTN","PSGOEE",110,0)
 K ^PS(53.45,+PSJSYSP,1),^(2)
"RTN","PSGOEE",111,0)
 I '$D(PSGOEF) K PSGSD,PSGSCH,PSGST,PSGFD
"RTN","PSGOEE",112,0)
 K DA,DIE,DIR,DP,DR,DRG,ND,ND0,ND1,ND2,ORIFN,PSGAL,PSGALEF,PSGAT,PSGOEE,PSGOEEF,PSGOEEG,PSGOEEWF,PSGEFN,PSGTOL,PSGTOO,PSGUOW,XREF,PSGEFN,PSGMR,PSGMRN,PSGOROE1,PSGPD,PSGPDN,PSGSI,PSGPR,PSGSM,PSGHSM,PSGSTN,PSGSDN,PSGFDN,PSGPRN
"RTN","PSGOEE",113,0)
 K PSGDO,PSGOEENO Q
"RTN","PSGOEE",114,0)
K1 ;
"RTN","PSGOEE",115,0)
 K BACK,F1,F2,PSGF2,MSG,PSGEFN,PSGNEWDT,PSGOEEF,PSGOEEND,PSGOPD,PSGOPDN,PSGOMR,PSGOMRN,PSGOSCH,PSGOSI,PSGOPR,PSGOSM,PSGOHSM,PSGOSD,PSGOFD,PSGOST,PSGOPRN,PSGOSTN,PSGOSDN,PSGOFDN,PSGODO,PSGPDRG,PSGPDRGN,PSGOEER
"RTN","PSGOEE",116,0)
 Q
"RTN","PSGOEE",117,0)
 ;
"RTN","PSGOEE",118,0)
ABORT ; Display no change message and pause.
"RTN","PSGOEE",119,0)
 S (PSGDI,PSGDFLG)='$$DDOK^PSGOE2(PSGOEEWF_"1,",+$G(@(PSGOEEWF_".2)")))
"RTN","PSGOEE",120,0)
 S PSGPFLG='$$OIOK^PSGOE2(+$G(@(PSGOEEWF_".2)")))
"RTN","PSGOEE",121,0)
 W !!,$C(7),"No changes made to this order." D PAUSE^VALM1 K PSGOEEF S PSGOEEF=0
"RTN","PSGOEE",122,0)
 Q
"RTN","PSGOEE",123,0)
 ;
"RTN","PSGOEE",124,0)
GTSTATUS ; Determine status of new order and set LM title.
"RTN","PSGOEE",125,0)
 S PSGSTAT=$S($P($G(PSJSYSP0),U,9):"ACTIVE",1:"NON-VERIFIED")
"RTN","PSGOEE",126,0)
 S VALM("TITLE")=PSGSTAT_" UNIT DOSE "_$S(PSGSTAT="PENDING":"("_PSGPRIO_")",1:"")
"RTN","PSGOEE",127,0)
 Q
"RTN","PSGOEE",128,0)
FIELDS ;
"RTN","PSGOEE",129,0)
31 ;;101^PSGOE8;PSGOPD;PSGPD;101;1
"RTN","PSGOEE",130,0)
32 ;;109^PSGOE8;PSGODO;PSGDO;109;PSGODO]""
"RTN","PSGOEE",131,0)
33 ;;10^PSGOE81;PSGOSD;PSGSD;10;0
"RTN","PSGOEE",132,0)
34 ;;3^PSGOE8;PSGOMR;PSGMR;3;1
"RTN","PSGOEE",133,0)
35 ;;25^PSGOE81;PSGOFD;PSGFD;25;0
"RTN","PSGOEE",134,0)
36 ;;7^PSGOE8;PSGOST;PSGST;7;0
"RTN","PSGOEE",135,0)
37 ;;5^PSGOE82;PSGOSM;PSGSM;5;0
"RTN","PSGOEE",136,0)
38 ;;26^PSGOE8;PSGOSCH;PSGSCH;26;1
"RTN","PSGOEE",137,0)
39 ;;39^PSGOE81;PSGOAT;PSGAT;39;0
"RTN","PSGOEE",138,0)
310 ;;1^PSGOE82;PSGOPR;PSGPR;1;1
"RTN","PSGOEE",139,0)
311 ;;8^PSGOE81;PSGOSI;PSGSI;8;0
"RTN","PSGOEE",140,0)
312 ;;2^PSGOE82;;;2;0
"RTN","PSGOEE",141,0)
313 ;;40^PSGOE82;;;40;0
"RTN","PSGOEE",142,0)
51 ;;101^PSGOE9;PSGOPD;PSGPD;101;1
"RTN","PSGOEE",143,0)
52 ;;109^PSGOE9;PSGODO;PSGDO;109;PSGODO]""
"RTN","PSGOEE",144,0)
53 ;;10^PSGOE91;PSGOSD;PSGSD;10;1
"RTN","PSGOEE",145,0)
54 ;;3^PSGOE9;PSGOMR;PSGMR;3;1
"RTN","PSGOEE",146,0)
55 ;;34^PSGOE91;PSGOFD;PSGFD;34;1 
"RTN","PSGOEE",147,0)
56 ;;7^PSGOE9;PSGOST;PSGST;7;0
"RTN","PSGOEE",148,0)
57 ;;5^PSGOE92;PSGOSM;PSGSM;5;0
"RTN","PSGOEE",149,0)
58 ;;26^PSGOE9;PSGOSCH;PSGSCH;26;1
"RTN","PSGOEE",150,0)
59 ;;41^PSGOE91;PSGOAT;PSGAT;41;0
"RTN","PSGOEE",151,0)
510 ;;1^PSGOE92;PSGOPR;PSGPR;1;1
"RTN","PSGOEE",152,0)
511 ;;8^PSGOE91;PSGOSI;PSGSI;8;0
"RTN","PSGOEE",153,0)
512 ;;2^PSGOE92;;;2;0
"RTN","PSGOEE",154,0)
513 ;;15^PSGOE92;;;15;0
"VER")
8.0^22.0
"^DD",53.1,53.1,55,0)
SYRINGE SIZE^F^^8;3^K:$L(X)>100!($L(X)<1) X
"^DD",53.1,53.1,55,3)
Answer must be 1-100 characters in length. Example: 25 cc's ..NOTE.. total volume of order should be less than syringe size.
"^DD",53.1,53.1,55,20,0)
^.3LA^1^1
"^DD",53.1,53.1,55,20,1,0)
PSJI
"^DD",53.1,53.1,55,21,0)
^^1^1^2920117^^^
"^DD",53.1,53.1,55,21,1,0)
  Enter the size of the syringe which is to be used to administer this IV.
"^DD",53.1,53.1,55,"DT")
3050511
"BLD",6167,6)
^SEQ #134
**END**
**END**
