Released PX*1*157 SEQ #137
Extracted from mail message
**KIDS**:PX*1.0*157^

**INSTALL NAME**
PX*1.0*157
"BLD",5861,0)
PX*1.0*157^PCE PATIENT CARE ENCOUNTER^0^3060712^y
"BLD",5861,1,0)
^^6^6^3060712^
"BLD",5861,1,1,0)
1. Text editing/alignment in PXTT EDIT EDUCATION TOPICS not displaying
"BLD",5861,1,2,0)
   correctly when using PXTT INQUIRE EDUC TOPIC                              
"BLD",5861,1,3,0)
 
"BLD",5861,1,4,0)
 
"BLD",5861,1,5,0)
2.Screen editor for GOALS and STANDARDS not displaying properly during 
"BLD",5861,1,6,0)
  [PXTT INQUIRE EDUC TOPIC].
"BLD",5861,4,0)
^9.64PA^^0
"BLD",5861,"ABPKG")
n
"BLD",5861,"INIT")
PX157PST
"BLD",5861,"KRN",0)
^9.67PA^8989.52^19
"BLD",5861,"KRN",.4,0)
.4
"BLD",5861,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",5861,"KRN",.4,"NM",1,0)
PXTT EDUCATION TOPIC DETAIL    FILE #9999999.09^9999999.09^0
"BLD",5861,"KRN",.4,"NM","B","PXTT EDUCATION TOPIC DETAIL    FILE #9999999.09",1)

"BLD",5861,"KRN",.401,0)
.401
"BLD",5861,"KRN",.402,0)
.402
"BLD",5861,"KRN",.403,0)
.403
"BLD",5861,"KRN",.5,0)
.5
"BLD",5861,"KRN",.84,0)
.84
"BLD",5861,"KRN",3.6,0)
3.6
"BLD",5861,"KRN",3.8,0)
3.8
"BLD",5861,"KRN",9.2,0)
9.2
"BLD",5861,"KRN",9.8,0)
9.8
"BLD",5861,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",5861,"KRN",9.8,"NM",1,0)
PX157PST^^0^B19978524
"BLD",5861,"KRN",9.8,"NM","B","PX157PST",1)

"BLD",5861,"KRN",19,0)
19
"BLD",5861,"KRN",19,"NM",0)
^9.68A^^
"BLD",5861,"KRN",19.1,0)
19.1
"BLD",5861,"KRN",101,0)
101
"BLD",5861,"KRN",409.61,0)
409.61
"BLD",5861,"KRN",771,0)
771
"BLD",5861,"KRN",870,0)
870
"BLD",5861,"KRN",8989.51,0)
8989.51
"BLD",5861,"KRN",8989.52,0)
8989.52
"BLD",5861,"KRN",8994,0)
8994
"BLD",5861,"KRN","B",.4,.4)

"BLD",5861,"KRN","B",.401,.401)

"BLD",5861,"KRN","B",.402,.402)

"BLD",5861,"KRN","B",.403,.403)

"BLD",5861,"KRN","B",.5,.5)

"BLD",5861,"KRN","B",.84,.84)

"BLD",5861,"KRN","B",3.6,3.6)

"BLD",5861,"KRN","B",3.8,3.8)

"BLD",5861,"KRN","B",9.2,9.2)

"BLD",5861,"KRN","B",9.8,9.8)

"BLD",5861,"KRN","B",19,19)

"BLD",5861,"KRN","B",19.1,19.1)

"BLD",5861,"KRN","B",101,101)

"BLD",5861,"KRN","B",409.61,409.61)

"BLD",5861,"KRN","B",771,771)

"BLD",5861,"KRN","B",870,870)

"BLD",5861,"KRN","B",8989.51,8989.51)

"BLD",5861,"KRN","B",8989.52,8989.52)

"BLD",5861,"KRN","B",8994,8994)

"BLD",5861,"QUES",0)
^9.62^^
"BLD",5861,"REQB",0)
^9.611^^
"INIT")
PX157PST
"KRN",.4,1444,-1)
0^1
"KRN",.4,1444,0)
PXTT EDUCATION TOPIC DETAIL^3060627.1546^^9999999.09^^^3060627
"KRN",.4,1444,"F",1)
"";C3;X~"TOPIC NAME:"~.01;W60;""~"";C3;X;S1~"PRINT NAME:"~.04;""~"";C1;X;S1~"GOALS:";X~"";C1;X;S1~11,.01;C2;S1;""~"";C1;X;S1~"STANDARDS:";X~"";C1;X;S1~
"KRN",.4,1444,"F",2)
12,.01;C2;S1;""~"";C4;S1;X~"SUBTOPIC:"~10,3;D0;L2;X;C15~10,.01;C18;"";W60~
"KRN",.4,1444,"H")
Active Patient Education Topics (DETAILED)
"MBREQ")
0
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"PKG",413,-1)
1^1
"PKG",413,0)
PCE PATIENT CARE ENCOUNTER^PX^Patient Care Encounter (VA Parent package)^
"PKG",413,20,0)
^9.402P^^
"PKG",413,22,0)
^9.49I^1^1
"PKG",413,22,1,0)
1.0^2960812^2960913^12537
"PKG",413,22,1,"PAH",1,0)
157^3060712
"PKG",413,22,1,"PAH",1,1,0)
^^6^6^3060712
"PKG",413,22,1,"PAH",1,1,1,0)
1. Text editing/alignment in PXTT EDIT EDUCATION TOPICS not displaying
"PKG",413,22,1,"PAH",1,1,2,0)
   correctly when using PXTT INQUIRE EDUC TOPIC                              
"PKG",413,22,1,"PAH",1,1,3,0)
 
"PKG",413,22,1,"PAH",1,1,4,0)
 
"PKG",413,22,1,"PAH",1,1,5,0)
2.Screen editor for GOALS and STANDARDS not displaying properly during 
"PKG",413,22,1,"PAH",1,1,6,0)
  [PXTT INQUIRE EDUC TOPIC].
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PX157PST")
0^1^B19978524^n/a
"RTN","PX157PST",1,0)
PX157PST ;ALB/SCK - PX*1.0*157 POST INIT INSTALL
"RTN","PX157PST",2,0)
 ;;1.0;PCE PATIENT CARE ENCOUNTER;**157**;Aug 12, 1996
"RTN","PX157PST",3,0)
 ;
"RTN","PX157PST",4,0)
EN ; Edit Education Topics VA-ADVANCE DIRECTIVES & VA-ADVANCED DIRECTIVES SCREENING
"RTN","PX157PST",5,0)
 ; -- modifying to "advance directives" terminology.
"RTN","PX157PST",6,0)
EN1 ;check VA-ADVANCED DIRECTIVES SCREENING
"RTN","PX157PST",7,0)
 S FIX1=0,FIX2=0,IEN1=0,U="^",WD1="VA-ADVANCED DIRECTIVES SCREENING",WD2="Advanced Directive Screening"
"RTN","PX157PST",8,0)
 S WD1N="VA-ADVANCE DIRECTIVES SCREENING",WD2N="Advance Directives Screening"
"RTN","PX157PST",9,0)
 S WD(1)="determine if the patient should receive Advanced Directive education. "
"RTN","PX157PST",10,0)
 S WDN(1)="determine if the patient should receive Advance Directives education."
"RTN","PX157PST",11,0)
 S WD(2)="Advanced Directive education.    "
"RTN","PX157PST",12,0)
 S WDN(2)="Advance Directives education."
"RTN","PX157PST",13,0)
 S IEN1=$O(^AUTTEDT("B",WD1,IEN1)) I IEN1="" G EN2
"RTN","PX157PST",14,0)
 S REDT=^AUTTEDT(IEN1,0)
"RTN","PX157PST",15,0)
 I $P(REDT,U)'=WD1!($P(REDT,U,4)'=WD2) G EN2
"RTN","PX157PST",16,0)
 ;I ^AUTTEDT(IEN1,11,2,0)'=WD(1) G EN2
"RTN","PX157PST",17,0)
 ;I ^AUTTEDT(IEN1,12,4,0)'=WD(2) G EN2
"RTN","PX157PST",18,0)
SET1 ;SET CORRECT WORDING
"RTN","PX157PST",19,0)
 S FIX1=1
"RTN","PX157PST",20,0)
 S DA=IEN1,DR=".01////^S X=WD1N",DIE="^AUTTEDT(" D ^DIE
"RTN","PX157PST",21,0)
 S DA=IEN1,DR=".04////^S X=WD2N",DIE="^AUTTEDT(" D ^DIE
"RTN","PX157PST",22,0)
 S ^AUTTEDT(IEN1,11,2,0)=WDN(1),^AUTTEDT(IEN1,12,4,0)=WDN(2)
"RTN","PX157PST",23,0)
EN2 ;check VA-ADVANCED DIRECTIVES
"RTN","PX157PST",24,0)
 S IEN2=0,WD1A="VA-ADVANCED DIRECTIVES",WD2A="Advanced Directives"
"RTN","PX157PST",25,0)
 S WD1AN="VA-ADVANCE DIRECTIVES",WD2AN="Advance Directives"
"RTN","PX157PST",26,0)
 S WDA(1)="The patient and family will identify the implications of advanced"
"RTN","PX157PST",27,0)
 S WDA(2)="1.  Explain what an advanced directive is."
"RTN","PX157PST",28,0)
 S WDA(3)="2.  Explain the difference between advanced directives and a living will."
"RTN","PX157PST",29,0)
 S WDA(4)="5.  Identify a social worker to contact for furthur information as appropriate."
"RTN","PX157PST",30,0)
 S WDAN(1)="The patient and family will identify the implications of advance"
"RTN","PX157PST",31,0)
 S WDAN(2)="1.  Explain what an advance directives is."
"RTN","PX157PST",32,0)
 S WDAN(3)="2.  Explain the difference between advance directives and a living will."
"RTN","PX157PST",33,0)
 S WDAN(4)="5.  Identify a social worker to contact for further information as appropriate."
"RTN","PX157PST",34,0)
 S IEN2=$O(^AUTTEDT("B",WD1A,IEN2)) I IEN2="" G EN3
"RTN","PX157PST",35,0)
 S REDT=^AUTTEDT(IEN2,0)
"RTN","PX157PST",36,0)
 I $P(REDT,U)'=WD1A!($P(REDT,U,4)'=WD2A) G EN3
"RTN","PX157PST",37,0)
 I ^AUTTEDT(IEN2,11,1,0)'=WDA(1) G EN3
"RTN","PX157PST",38,0)
 I ^AUTTEDT(IEN2,12,1,0)'=WDA(2) G EN3
"RTN","PX157PST",39,0)
 I ^AUTTEDT(IEN2,12,3,0)'=WDA(3) G EN3
"RTN","PX157PST",40,0)
 I ^AUTTEDT(IEN2,12,10,0)'=WDA(4) G EN3
"RTN","PX157PST",41,0)
SET2 ;SET CORRECT WORDING
"RTN","PX157PST",42,0)
 S FIX2=1
"RTN","PX157PST",43,0)
 S DA=IEN2,DR=".01////^S X=WD1AN",DIE="^AUTTEDT(" D ^DIE
"RTN","PX157PST",44,0)
 S DA=IEN2,DR=".04////^S X=WD2AN",DIE="^AUTTEDT(" D ^DIE
"RTN","PX157PST",45,0)
 S ^AUTTEDT(IEN2,11,1,0)=WDAN(1)
"RTN","PX157PST",46,0)
 S ^AUTTEDT(IEN2,12,1,0)=WDAN(2),^AUTTEDT(IEN2,12,3,0)=WDAN(3)
"RTN","PX157PST",47,0)
 S ^AUTTEDT(IEN2,12,10,0)=WDAN(4)
"RTN","PX157PST",48,0)
EN3 ;MAIL MSG
"RTN","PX157PST",49,0)
END ;EXIT PATH
"RTN","PX157PST",50,0)
 D MAIL
"RTN","PX157PST",51,0)
 K DA,DR,DIE,IEN,IEN1,IEN2,WD,WDN,WDA,WDAN,WD1,WD1N,WD2,WD2N,WD1A,WD1AN,WD2A,WD2AN,FIX1,FIX2,REDT
"RTN","PX157PST",52,0)
 Q
"RTN","PX157PST",53,0)
MAIL ;Send results of Educ Topic fix in a mail message to initiator
"RTN","PX157PST",54,0)
 N I,XMSUB,XMTEXT,XMDUZ,XMY,DIFROM
"RTN","PX157PST",55,0)
 S XMSUB="Patch PX*1.0*157 Educ topic modification completed"
"RTN","PX157PST",56,0)
 S XMDUZ="Patch PX*1.0*157 Educ topic modify job"
"RTN","PX157PST",57,0)
 S XMY(.5)="" S:$G(DUZ) XMY(DUZ)=""
"RTN","PX157PST",58,0)
 S XMTEXT="^TMP(""PXTXT"",$J,"
"RTN","PX157PST",59,0)
 K ^TMP("PXTXT",$J)
"RTN","PX157PST",60,0)
 ; set up header and count
"RTN","PX157PST",61,0)
 S I=3
"RTN","PX157PST",62,0)
 S ^TMP("PXTXT",$J,1)="The modification of Education Topics: VA-Advanced Directives and"
"RTN","PX157PST",63,0)
 S ^TMP("PXTXT",$J,2)="VA-Advanced Directives Screening, has completed"
"RTN","PX157PST",64,0)
 S ^TMP("PXTXT",$J,I)="",I=I+1
"RTN","PX157PST",65,0)
 S ^TMP("PXTXT",$J,I)=""
"RTN","PX157PST",66,0)
 I FIX1=0 D
"RTN","PX157PST",67,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="                 *** ERROR ALERT ***"
"RTN","PX157PST",68,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="Could NOT fix topic VA-Advanced Directives Screening, data did NOT "
"RTN","PX157PST",69,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="match national data base"
"RTN","PX157PST",70,0)
 I FIX1>0 D
"RTN","PX157PST",71,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="                 ***  CHANGED  ***"
"RTN","PX157PST",72,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="Modified topic VA-Advanced Directives Screening for verbiage"
"RTN","PX157PST",73,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="correction where used"
"RTN","PX157PST",74,0)
 S I=I+1,^TMP("PXTXT",$J,I)=""
"RTN","PX157PST",75,0)
 I FIX2=0 D
"RTN","PX157PST",76,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="                 *** ERROR ALERT ***"
"RTN","PX157PST",77,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="Could NOT fix topic VA-Advanced Directives, data did NOT"
"RTN","PX157PST",78,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="match national data base"
"RTN","PX157PST",79,0)
 I FIX2>0 D
"RTN","PX157PST",80,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="                 ***  CHANGED  ***"
"RTN","PX157PST",81,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="Modified topic VA-Advanced Directives for verbiage correction"
"RTN","PX157PST",82,0)
 . S I=I+1,^TMP("PXTXT",$J,I)="where used"
"RTN","PX157PST",83,0)
 D ^XMD ;send results
"RTN","PX157PST",84,0)
 Q
"VER")
8.0^22.0
"BLD",5861,6)
^137
**END**
**END**
