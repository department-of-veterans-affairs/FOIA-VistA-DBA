
=============================================================================
Run Date: NOV 21, 2007                     Designation: XU*8*472
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #382                      Status: Released
                  Compliance Date: DEC 22, 2007
=============================================================================


Subject: Discontinue use of OLD Checksum

Category: 
  - Informational

Description:
============

   Patch XT*7.3*94 was released in August 2005 and patch XU*8*393 was
 released in September 2006. XT*7.3*94 introduced a new and more accurate
 checksum utility CHECK1^XTSUMBLD and XU*8*393 made changes to how KIDS
 transported data, so the National Patch Module (NPM) on FORUM could
 automatically build the Routine Information Section.  
  
   By now, all the development accounts should have been updated with these
 patches as we asked, if not it needs to happen promptly for NPM to
 accurately load new checksum information for routines.  
  
   There is no longer a need for developers to manually include Routine
 Summary section in the description. The NPM automatically generates the
 2nd line and checksum (CHECK1^XTSUMBLD) information in the
 Routine Information section at the end of the patch document. The
 preceding patch information collected from the 2nd line of routines is
 also included. The leading "B" found in the checksum tells the code which
 checksum Application Program Interface (API) to use.
   
 Example of Routine Information:
 ===============================
  The second line of each of these routines now looks like:
    ;;8.0;KERNEL;**[Patch List]**;Jul 10, 1995;Build 1
   
  The checksums below are new checksums, and can be checked with 
 CHECK1^XTSUMBLD.
   
   Routine Name: XUS1
       Before: B25338963   After: B24245135  **150,252,265,419,469**
   Routine Name: XUS1B
       Before:  B4169871   After:  B3462928  **59,337,395,469**
    
   Routine list of preceding patches: 395, 419
   ----------------------------------------------------------------
   
 NOTE: Developers are required to verify that the information is 
 correctly built in this section!  The procedure that developers follow 
 has NOT CHANGED. Only exception is that when patches are sent as an HFS
 file, they need to answer 'YES' when asked whether to copy Routine names
 and Checksums from the HFS cache file.  We have provided an example of
 this procedure for your convenience.
  
    
   The 'Before' values are derived from the FORUM ROUTINE (#9.8) file
 and are considered the gold standard for released checksums.  For new 
 routines the before value will be 'n/a'.
 (The local site's COMPARE LOCAL/NATIONAL CHECKSUMS REPORT option uses the 
 FORUM ROUTINE (#9.8) file as its source.) 
  
 Routine List of Preceding Patch Section is controlled by a field in the 
 Patch module and it is optional for developers (you will see in on some
 patches and not others).  This information is strictly gathered from the
 second lines of each routine and does not take into account missing patch
 numbers on 2nd line of routines and other external dependencies. For a
 complete list of dependencies sites should refer to the Required patches
 and Associated patch section as before. This information is intended only
 to be used to determine if the routines in the patch are the latest and it
 does not add any additional SQA requirements for developers.
  
 The 'After' values are updated one of two ways, based on how information 
 is sent to the NPM. Examples are provided at the end of this message.
   
 PackMan message:  If the KIDS transport PackMan message is loaded into 
 the patch message on FORUM, then the routine set and checksums will be 
 set up. 
   
 HFS file:  If patches are released via HFS files, an e-mail is sent to 
 FORUM with the patch checksums and the developer will be asked if they 
 want to load the checksum.
   
 At sites, the Verify Checksums in Transport Global option on the Kernel 
 Installation and Distribution Menu will check that the site's current 
 routine's checksum matches the Before checksum value. Please note that 
 this information will only be correct for patches that are sent as 
 PackMan messages. If patches are sent as HFS files, the correct routine 
 information will be included in the message announcing the release 
 provided developers follow the example provided and load correct values 
 in NPM. Once a site installs a test patch the before checksums will not 
 match.
   
 There is a new option on FORUM under the Developer s Menu Option on the 
 National Patch Module to inquire into the ROUTINE file (#9.8).
   
 Here is an example from the NPM option Routine Inquire:
   
   XUS1A
    Current Checksum: B12342712       Date: DEC 12,2005
          Patch List: **153,149,183,258,265**
   ---Patch-----------Checksum---- 
      XU*8*258        B11947178
      XU*8*265        B12342712
      **153,149,183,258,265
   
   
  DEVELOPER PROCEDURES-Examples:
  ================================
  1)     Patches with Packman routines:
  When editing a patch on FORUM the developer will see:
                      editing MESSAGE TEXT
   
  Do you want to copy 'XU*8*446 6/13/2007' into the Message Text?
  No// yes
       ===
     Using message 'XU*8*446 6/13/2007' Checking the input.
     Deleting old text
     Merge KIDS message into patch message text
   
  2)     Patches sent as an HFS file:
  When editing a patch the developer should see the following if the patch 
 checksums have been sent to FORUM.
   
           Want to copy HFS cache
           From: <DEVELOPER.ONE@DEVCUR.FO-SLC.MED.VA.GOV>
           On: 16 Jul 2007 14:52:07 -0700 (MST)
   
  Do you want to copy Routine Names and Checksums from the HFS cache file? 
 No// Yes
      ===
  For problems contact the Kernel/Infrastructure Maintenance team at the 
  Oakland OIFO via Outlook Exchange using the group name "VHAISF 
 Infrastructure Dev. & Doc."

Routine Information:
====================
No routines included.

=============================================================================
User Information:
Entered By  : FORT,WALLY                    Date Entered  : SEP 19, 2007
Completed By: SINGH,GURBIR                  Date Completed: NOV 21, 2007
Released By : TILLIS,LEWIS                  Date Released : NOV 21, 2007
=============================================================================


Packman Mail Message:
=====================

No routines included
