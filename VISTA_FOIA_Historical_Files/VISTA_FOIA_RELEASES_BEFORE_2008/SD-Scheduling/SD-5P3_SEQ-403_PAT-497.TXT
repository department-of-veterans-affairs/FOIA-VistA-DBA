$TXT Created by HOUTCHENS,THOMAS at CARVDD.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 12/26/06 at 12:13
=============================================================================
Run Date: DEC 29, 2006                     Designation: SD*5.3*497
Package : SD - SCHEDULING                     Priority: EMERGENCY
Version : 5.3       SEQ #403                    Status: Released
                  Compliance Date: JAN 05, 2007
=============================================================================

Associated patches: (v)SD*5.3*485  <<= must be installed BEFORE `SD*5.3*497'

Subject:  EWL/PCMM REMOVE SYNTAX ERROR IN GUI API

Category: 
  - Routine

Description:
============

 
 This Patch will address a problem with the Electronic Wait List (EWL)
 Graphical User Interface (GUI) Application Program Interface (API). The
 associated routine contains a typographical error and causes the API
 to fail. The corrected routine (SDWLRP1) will be sent with this patch
 to correct the problem. In addition routines SDWLE11 and SDWLRP4 (which
 set the same field) have been standardized.  
  
 NOTE: After installing the patch, please complete the following 2 steps:
   1. Please do a Fileman Search to identify any incomplete / corrupt
      records in the SD Wait List file that were created.  If there are no
      records found, the process ends here. Also, please provide the 
      printed output from the Fileman Search to the PAS specialist in the
      event that any follow up (re: adding these patients again to the Wait
      List) is required. Included below is a suggested Fileman Search:
  
 Select VA FileMan Option: SEARCH File Entries
  
  OUTPUT FROM WHAT FILE: SD WAIT LIST// 
  
   -A- SEARCH FOR SD WAIT LIST FIELD: 4  WAIT LIST TYPE
   -A- CONDITION: NULL  
  
   -B- SEARCH FOR SD WAIT LIST FIELD: 
  
  IF: A//  <ret>   WAIT LIST TYPE NULL
  
  STORE RESULTS OF SEARCH IN TEMPLATE: 
  
  SORT BY: NUMBER// <ret>
  START WITH NUMBER: FIRST// <ret>
  FIRST PRINT FIELD: !NUMBER;C1;L6;" # "
  THEN PRINT FIELD: 1;C9;L15;"ORIG DATE"  ORIGINATING DATE
  THEN PRINT FIELD: 2;C27;L15  INSTITUTION
  THEN PRINT FIELD: 9;C45;L15;"ORIG USER"  ORIGINATING USER
  THEN PRINT FIELD: 23;C63;L15  CURRENT STATUS
  THEN PRINT FIELD: 
  Heading (S/C): SD WAIT LIST STATISTICS  Replace ... With LIST OF WAIT
  LIST ENTRIES W NULL WAIT LIST TYPE   Replace <ret>
    LIST OF WAIT LIST ENTRIES W NULL WAIT LIST TYPE
  STORE PRINT LOGIC IN TEMPLATE: 
  DEVICE: 0;80;999  TELNET TERMINAL  (please enter printer)
  
  LIST OF WAIT LIST ENTRIES W NULL WAIT LIST TYPE
                                                DEC  4,2006  11:58     PAGE 1
  #      ORIG DATE         INSTITUTION       ORIG USER         CURRENT STATUS
 ----------------------------------------------------------------------------
  
  1456    OCT 30,2006       CHEYENNE VAMC     XXXXXX,FFFFFFF    CLOSED
  1457    OCT 31,2006       CHEYENNE VAMC     YYYYYY,JJJJJ Y    CLOSED
  1458    NOV  1,2006       CHEYENNE VAMC     YYYYYY,JYYYY Y    CLOSED
  1459    NOV  8,2006       GREELEY CBOC      ZZZZZZ,MICHAEL    CLOSED
  1460    NOV 20,2006       GREELEY CBOC      DDDDD,DDDDDD J    CLOSED
  1461    NOV 20,2006       GREELEY CBOC      DDDDD,DDDDDD J    CLOSED
  1462    NOV 21,2006       FORT COLLINS      DDDDD,DDDDDD J    CLOSED
  1463    NOV 21,2006       FORT COLLINS      DDDDD,DDDDDD J    CLOSED
  ------
  COUNT 8
  
   2. If records were found by the Fileman Search, the next step is for
      the IRM Specialist to delete the incomplete / corrupt records by
      using Fileman Enter/Edit.  Fileman does take care of the pointers.
      Following the example below, using the left tic ( ` )and the IEN,
      choose the record and answer the following prompts:
  
  Select SD WAIT LIST PATIENT: `1459  VVVVVV,EEEEEE AAAAAAA   GREELEY CBOC
        CLOSED      10-2-20    666010001     NO     NSC VETERAN      C
  PATIENT: VVVVVV,EEEEEE AAAAAAA// @
    SURE YOU WANT TO DELETE THE ENTIRE SD WAIT LIST? Y  (Yes)
  SINCE THE DELETED ENTRY MAY HAVE BEEN 'POINTED TO'
  BY ENTRIES IN THE 'SDWL TRANSFER REQUEST' FILE,
  DO YOU WANT THOSE POINTERS UPDATED (WHICH COULD TAKE QUITE A WHILE)?
  No// Y   (Yes)
  WHICH DO YOU WANT TO DO? --
     1) DELETE ALL SUCH POINTERS
     2) CHANGE ALL SUCH POINTERS TO POINT TO A DIFFERENT 'SD WAIT LIST' ENTRY
  
  CHOOSE 1) OR 2): 1
  DELETE ALL POINTERS? Yes//  <ret> (Yes)
     (DELETION WILL OCCUR WHEN YOU LEAVE 'ENTER/EDIT' OPTION)
  
  Select SD WAIT LIST PATIENT: (You may choose another patient...)
 ...EXCUSE ME, LET ME PUT YOU ON 'HOLD' FOR A SECOND...
  DEVICE: HOME//  <ret>  TELNET TERMINAL
  SDWL TRANSFER REQUEST entries whose 'WAIT LIST ENTRY' pointers have been
  changed
                                              DEC  5,2006  07:53    PAGE 1
 ----------------------------------------------------------------------------
  
  
           *** NO RECORDS TO PRINT *** 
  
   
 The following documentation will be available: 
 ==============================================
  
 N/A
  
 This patch addresses the following New Service Requests (NSR): 
 =============================================================
 
 There are no NSR associated with this patch.  
  
 This patch addresses the following Remedy Ticket(s): 
 ====================================================
  
 HD0000000162640 Receiving error message in error trap in Scheduling.
  
        Duplicate(s)
        
        HD0000000163399 PCMM when ask to add to wait list errors out.  
        HD0000000138985 Null team errors created via Wait List actions.
        HD0000000163338 <SYNTAX>F+2 ERROR.
        HD0000000164622 Recieving SYNTAX error.
        HD0000000165567 <SYNTAX>F+2 ERROR.
        HD0000000165775 Error <SYNTAX>F+2^DIED.
        HD0000000165876 <SYNTAX>DIE+4^DIE.
  
 Overview of Remedy Ticket(s): 
 =============================
  
 HD0000000162640 -  Problem:    Receiving error message in error trap in
                                Scheduling.
 
                 Resolution:    Corrected typographical error in routine
                                SDWLRP1.
  
        Duplicate(s)
        
 HD0000000163399 -  Problem:    PCMM when ask to add to wait list errors out.
 
                 Resolution:    Corrected typographical error in routine 
                                SDWLRP1.
 
 HD0000000164622 -  Problem:    Receiving SYNTAX error.
 
 Technical Overview:
 ===================
 
 Before:
 -------
 
 S DR="27.1////^S X=$S($D(SDWLRNED),SDWLRNED,$D(SDWLD):SDWLD,1:"""")" D 
 ^DIE
 
 After:
 ------
 
 S DR="27.1////^S X=$S($G(SDWLRNED):SDWLRNED,$G(SDWLD):SDWLD,1:"""")" D 
 ^DIE
  
  
 Components Sent with Patch: 
 ===========================
  
 ROUTINES: SDWLE11
           SDWLRP1
           SDWLRP4
   
 For Routines: 
 =============
  
 The following is a list of the routines included in this patch. The second
 line of each of these routines now looks like: 
  
       ;;Version;Package;**[patch list]**;Package Release Date 
  
                         CHECK^XTSUMBLD results 
  
 Routine             Before Patch       After Patch       Patch List 
 -------             ------------       -----------       ----------
 
 SDWLE11                 3527351            3544511       263,485,497
 SDWLRP1                11277725           11295333       263,273,485
                                                              497
 SDWLRP4                13558115           13578563       263,485,497
  
                         CHECK1^XTSUMBLD results (new method) 
  
 Routine             Before Patch       After Patch       Patch List 
 -------             ------------       -----------       ----------
 
 SDWLE11                  7184572           7209563       263,485,497
 SDWLRP1                 62309635          62357583       263,273,485
                                                              497
 SDWLRP4                 42653534          42696486       263,485,497
  
 Test Sites: 
 ===========
     
 Saginaw VAMC
 Cheyenne VAMC
 Altoona VAMC
  
 INSTALLATION INSTRUCTIONS 
 =========================
  
  This patch can be installed during business hours, but because some 
  options will be out of service during the installation process, it
  is suggested that it be queued for non-peak hours. Installation will
  take less than 5 minutes.
  
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note: 
    TEXT PRINT/DISPLAY option in the PackMan menu will display the 
    patch text only].  
      
 2. From the Kernel Installation and Distribution System (KIDS) 
    menu, select the Installation menu.  
  
 3. From this menu, you may elect to use the following options: 
    (when prompted for INSTALL NAME, enter SD*5.3*497).  
     
    a.  Backup a Transport Global - this option will create a backup 
        message of any routines exported with the patch.  It will 
        NOT backup any other changes such as DDs or templates.  
    b.  Compare Transport Global to Current System  - this option 
        will allow you to view all changes that will be made when 
        the patch is installed.  It compares all components of the 
        patch (routines, DDs, templates, etc.).  
    c.  Verify Checksums in Transport Global - this option will 
        allow you to ensure the integrity of the routines that are 
        in the transport global.  
    d.  Print Transport Global - this option will allow you to view 
        the components of the KIDS build.  
     
 4. Use the Install Package(s) option and select the package 
    SD*5.3*497.  
     
 5. When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
    YES//', respond NO.  
     
 6. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and 
    Protocols? YES//', respond YES 
  
 7. When prompted to select the options you would like to place out 
    of order, enter the following: 
  
        Enter/Edit Wait List (Sch/PCMM)      SD WAIT LIST ENTER/EDIT 
  
 8. When prompted to select the protocols you would like to place out 
    of order, enter the following: 
  
        Wait List Entry                      SD WAIT LIST ENTRY
 
 

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SDWLE11
    Before:  B7184572  After:  B7209563  **263,485,497**
Routine Name: SDWLRP1
    Before: B62309635  After: B62357583  **263,273,485,497**
Routine Name: SDWLRP4
    Before: B42653534  After: B42696486  **263,485,497**
 Description of Changes:
   


=============================================================================
User Information:
Entered By  : HOUTCHENS,THOMAS              Date Entered  : OCT 26, 2006
Completed By: DERDERIAN,JOHN A              Date Completed: DEC 28, 2006
Released By : LANDRIE,LARRY                 Date Released : DEC 29, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
