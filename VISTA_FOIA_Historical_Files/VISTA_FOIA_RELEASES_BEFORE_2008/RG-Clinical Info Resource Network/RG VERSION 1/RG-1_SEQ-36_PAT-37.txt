$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 08/25/04 at 10:52
=============================================================================
Run Date: SEP 01, 2004                     Designation: RG*1*37
Package : RG - CLINICAL INFO RESOURCE NETWORK Priority: Mandatory
Version : 1        SEQ #36                      Status: Released
                  Compliance Date: OCT 02, 2004
=============================================================================

Associated patches: (v)RG*1*20     <<= must be installed BEFORE `RG*1*37'

Subject: REMOTE QUERY FAILS DUE TO BOGUS SSN

Category: 
  - Routine

Description:
============

  RG*1.0*20 is a required build for patch RG*1*37.
     
  NOTE:  RG* and MPIF* patches should NOT be installed on legacy
  systems to avoid issues with the legacy systems ending up as
  Coordinating Master of Records (CMORs) or Treating Facilities.
     
  Every month the Master Patient Index/Patient Demographics (MPI/PD)
  team sends a remote query from the Master Patient Index (MPI)
  to all facilities to gather statistical data.  One of the things
  the query does is detect instances where a patient's social security
  number (SSN) does not have the proper cross-references.  If this
  occurs (and checks are made to be sure the cross-references do not
  exist for a different patient), then a call is made to create the
  cross-references.  This has been the practice for a long time.
  Recently, however, changes in which patients are transmitted to the
  MPI for an Integration Control Number (ICN) assignment have been
  enhanced, and some of these patients have no date of birth.  If, in
  addition, a pseudo-SSN has been assigned to one of these patients,
  a bogus SSN is created (4 characters).  See the example below.
  
  MPI/PD Data for: SMITH,JOHN  (DFN #XXXX)
  Printed Aug 06, 2004@09:16 at VAMC
  ====================================================================
  SSN    : 807P                           ICN : 5210012345
  Sex    : MALE                           CMOR: BIRMINGHAM VAMC
  Claim #: None                           Local Activity Score  : None
  Date of Birth:                          Subscription Control #: None
  
  The invalid SSN causes the following error when an attempt is made
  to re-index the patient.
  
  $ZE= IX+1^DIE1:6, %DSM-E-NULLSUBSCR, Null subscript
  S ^DPT("BS",$E(X,6,9),DA)=""
  Last Global Ref: ^DPT("BS","")
  X=807P
  
  This error causes the remote query to fail.  A coding change in routine 
  RGMTUT02 corrects the problem.
   
  NOTE: The issue of the creation of the bogus SSN has been turned over
  to the Registration maintenance developers for correction.
   
  Test Sites:
  ===========
  Bay Pines, FL (Alpha/DSM)
  Birmingham, AL (Alpha/DSM)
  Iron Mountain, MI (VMS/Cache)
  VA Greater LA (VMS/Cache)
    
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.
  The second line of each of these routine(s) will look like:
    
  <TAB>;;1.0;CLINICAL INFO RESOURCE NETWORK;**[Patch List]**;30 Apr 99
  CHECK^XTSUMBLD results:
   
  Routine       Before Patch       After Patch       Patch List
  --------      ------------       ------------      ----------
  RGMTUT02         6007896            6056221          20,37
   
  Installation Instructions:
  ==========================
  This patch may be loaded with users on the system.  You may wish
  to install it during non-peak hours to minimize disruption to the
  users.  Installation will take less than 2 minutes.
   
  1.  Users are allowed on the system during patch installation.
        
  2.  TaskMan does not need to be stopped or placed in a wait state.
   
  3.  None of the routines in this package have been recommended for
      routine mapping.
  
  4.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note:
      TEXT PRINT/DISPLAY option in the PackMan menu will display the
      patch text only.
  
  5.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
  
  6.  From this menu, you may elect to use the following options (when
      prompted for the INSTALL NAME, enter RG*1.0*37).
   
      (a)  Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch.  It will NOT
           backup any other changes such as DDs or templates.
   
      (b)  Compare Transport Global to Current System - this option will
           allow you to view all changes that will be made when the
           patch is installed.  It compares all components of the patch
           (routines, DDs, templates, etc.).
   
      (c)  Verify Checksums in Transport Global - this option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
   
      (d)  Print Transport Global - this option will allow you to view the
           components of the KIDS build.
   
  7.  Use the Install Package(s) option and select the package RG*1.0*37.
   
  8.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? '
      YES//', respond No.
   
  9.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond No.

Routine Information:
====================

Routine Name:
  - RGMTUT02


Routine Checksum:

=============================================================================
User Information:
Entered By  : DAVIS,PAULETTE                Date Entered  : AUG 09, 2004
Completed By: ALDERMAN,MATT S               Date Completed: AUG 25, 2004
Released By : BURTS,WANDA                   Date Released : SEP 01, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
