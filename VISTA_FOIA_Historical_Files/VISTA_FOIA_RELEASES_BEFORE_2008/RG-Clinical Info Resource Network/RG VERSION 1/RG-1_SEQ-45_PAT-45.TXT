$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 01/12/07 at 08:55
=============================================================================
Run Date: FEB 06, 2007                     Designation: RG*1*45
Package : RG - CLINICAL INFO RESOURCE NETWORK Priority: Mandatory
Version : 1        SEQ #45                      Status: Released
                  Compliance Date: MAR 09, 2007
=============================================================================

Associated patches: (v)RG*1*25     <<= must be installed BEFORE `RG*1*45'
                    (v)RG*1*40     <<= must be installed BEFORE `RG*1*45'
                    (v)RG*1*42     <<= must be installed BEFORE `RG*1*45'
                    (v)RG*1*43     <<= must be installed BEFORE `RG*1*45'

Subject: MPI CHANGES 3 & MPI CHANGES 4 ENHANCEMENTS

Category: 
  - Routine

Description:
============

  NOTE: RG* and MPIF* patches should NOT be installed on legacy
        systems to avoid issues with the legacy systems ending up
        as Treating Facilities.
  
  RG*1.0*25, RG*1.0*40, RG*1.0*42, and RG*1.0*43 are required builds
  for patch RG*1*45.
   
  Issue 1:  As part of the MPI CHANGES 3 project, it was requested
  that PSEUDO SSN REASON be included in the ZPD segment sent from the VistA
  sites in the Health Level Seven (HL7) message ADT-A08.  Routines RGADT1
  and RGADTP have been modified to support this request.
  
  Issue 2:  As part of the MPI CHANGES 3 project, it was requested the SSN 
  VERIFICATION STATUS be included in the fields the MPI synchronizes to the
  sites when the status is updated by ESR.  When ESR sends the MPI the new
  status, the MPI will send out an ADT-A31 message to all the subscribers
  following the business rules associated with the status. The ADT-A31
  message will not result in another ADT-A31 message back to the MPI.
  Routines RGADTP and RGADTP2 have been modified to support this change.
  
  Issue 3:  If an ADT-A31 message was received at the VistA site and
  was sent from the MPI, the update was not processed since it didn't
  come from the CMOR.  If this site was the CMOR, an undefined error
  would occur in EN+4^VAFCEHU3 as it tries to log the update in the
  Patient Data Review (PDR).  The ADT-A31 processing code has been
  updated to allow the processing of the ADT-A31 message from the MPI
  to update the identity fields.  Routine RGADTP2 was modified to
  support this change.
  
  Issue 4: New Exception Type Distributed
  A new entry is being exported in the CIRN HL7 EXCEPTION TYPE (#991.11)
  file.  The entry is "Primary View Reject," and will be used in the
  future in the MPI/PD Exception Handling [RG EXCEPTION HANDLING] option.
  The new exception will be used when VistA data is rejected on the MPI
  either because the Authority Score was not high enough, or it failed a
  business rule.
   
  Issue 5: The CUREX module in routine RGEX01 previously ascertained
  if there were patients in the CIRN HL7 EXCEPTION LOG file (#991.1)
  to be resolved.  Now, the routine will also determine if there are
  unresolved Primary View Reject exceptions to be processed.
  The EXCEPT module in routine RGRSUTIL previously made a call to the
  KERNEL SET^XUS1A API if there were patients in the CIRN HL7 EXCEPTION
  LOG file (#991.1) to be resolved.  Now, it will also make a call to that
  API if there are unresolved Primary View Reject exceptions to be processed.
  Routines: RGEX01 and RGRSUTIL
  Additionally, entry action has been added to the MPI/PD Patient Admin 
  Coordinator Menu [RG ADMIN COORD MENU] to notify users when there are
  unresolved Primary View Reject exceptions to be processed.
   
  Issue 6: The CIRN HL7 EXCEPTION TYPE (#991.11) file contains numerous
  exceptions.  Only a subset of those are actively used; the others are
  screened out.  The filters were updated to display the correct exception
  types from the CIRN HL7 EXCEPTION TYPE (#991.11) file in the MPI/PD
  Exception Handling [RG EXCEPTION HANDLING] option and other options.
  Code was also modified in routine RGEXHND1 to cause the "Primary View
  Reject" exceptions to be displayed at the top of the MPI/PD Exception
  Handling [RG EXCEPTION HANDLING] option.
  Routines: RGEXHND1, RGHLLOG, RGMTETOT, and RGSYSTAT
  Additionally, the description for the Unresolved Exception Summary
  [RG STATUS DISPLAY] option was updated.
   
  Documentation Update:
  =====================
  The following MASTER PATIENT INDEX/PATIENT DEMOGRAPHICS (MPI/PD)
  VISTA documentation is available, updated for patches RG*1.0*45
  and MPIF*1.0*44.  Facilities should download the revised
  documentation listed as follows:
  
      User Manual                         RG1_0_UM.PDF
      Release Notes                       RG1_0_RN.PDF
      Technical Manual                    RG1_0_TM.PDF
      Programmer Manual                   RG1_0_PM.PDF
      Exception Handling                  RG1_0_EH.PDF
  
  The preferred retrieval method is to FTP from the ANONYMOUS.SOFTWARE
  directory at: DOWNLOAD.VISTA.MED.VA.GOV
  This transmits the file from the first available FTP server.
  Sites may also elect to retrieve software directly from one
  of the following servers.
  
  OI Field Office         FTP Address                  Directory
  ------------------------------------------------------------------
  Albany             ftp.fo-albany.med.va.gov     ANONYMOUS.SOFTWARE
  Hines              ftp.fo-hines.med.va.gov      ANONYMOUS.SOFTWARE
  Salt Lake City     ftp.fo-slc.med.va.gov        ANONYMOUS.SOFTWARE
  
  Note:  These files must be transferred in binary or IMAGE,
         not ASCII, mode.
   
  The documents can also be downloaded from the VistA Documentation
  Library (VDL) Web page in both Acrobat PDF and MS-Word DOC formats:
  
      http://www.va.gov/vdl/application.asp?appid=16
    
  Test Sites:
  ===========
  Bay Pines, FL
  Milwaukee, WI
  Montana HCS
     
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  <TAB>;;1.0;CLINICAL INFO RESOURCE NETWORK;**[Patch List]**;30 Apr 99
   
  Using old logic: CHECK^XTSUMBLD results
  Routine     Before Patch     After Patch      Patch List
  --------    ------------     -----------      ----------
  RGADT1         9024053          9469433       4,14,17,27,28,31,34,45
  RGADTP        12386117         21462518       26,27,20,34,35,40,45
  RGADTP1       12901505         13649877       26,27,42,45
  RGADTP2        8077161         13147471       27,20,45
  RGEX01         9204299          9579416       3,12,19,23,43,45
  RGEXHND1       8205707          9320515       3,12,19,23,43,45
  RGHLLOG        6153678          6153699       1,3,11,13,18,19,25,45
  RGMTETOT       9180266          7798945       20,30,43,45
  RGRSUTIL       3912204          5930497       1,3,19,45
  RGSYSTAT       5574634          5684121       16,19,23,25,20,43,45
   
  PLEASE NOTE:
  ============
  Routine VAFCSB will be released in a future patch - DG*5.3*707.
  Routine RGADTP references routine VAFCSB.  XINDEX may display:
  "Reference to routine '^VAFCSB'. That isn't in this UCI."
   
  The references to VAFCSB from within routine RGADTP contain conditional
  %ZOSF("TEST") checks for the existence of the routine and quit if it is
  not there.  So, the code is not dependent on DG*5.3*707 and will work
  with or without that patch being present.
   
  Installation Instructions:
  ==========================
  This patch takes less than 5 minutes to install.  This patch should
  be loaded during non-peak hours to minimize disruption to the users.
   
  1.  Users are allowed on the system during patch installation.
     
  2.  Use the INSTALL/CHECK MESSAGE option on the Packman menu.
      Note:  TEXT PRINT/DISPLAY option in the PackMan menu will display
      the patch text only.
   
  3.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  4.  From this menu, you may elect to use the following options:
      (a)  Backup a Transport Global.
      (b)  Compare Transport Global to Current System.
      (c)  Verify Checksums in Transport Global.
      (d)  Print Transport Global.
   
  5.  Use the Install Package(s) option and select the package RG*1.0*45.
   
  6.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of
      Install? YES//', respond NO.
   
  7.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
      YES//', respond NO.
   
  8.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond NO.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RGADT1
    Before: B40790172  After: B42198408  **4,14,17,27,28,31,34,45**
Routine Name: RGADTP
    Before: B52218482  After: B80561867  **26,27,20,34,35,40,45**
Routine Name: RGADTP1
    Before: B28551249  After: B30537639  **26,27,42,45**
Routine Name: RGADTP2
    Before: B21277415  After: B33963226  **27,20,45**
Routine Name: RGEX01
    Before: B29834506  After: B32784010  **3,12,19,23,43,45**
Routine Name: RGEXHND1
    Before: B33320954  After: B37958809  **3,12,19,23,43,45**
Routine Name: RGHLLOG
    Before: B22489044  After: B22489065  **1,3,11,13,18,19,25,45**
Routine Name: RGMTETOT
    Before: B39858170  After: B28007355  **20,30,43,45**
Routine Name: RGRSUTIL
    Before:  B7937481  After: B14283785  **1,3,19,45**
Routine Name: RGSYSTAT
    Before: B16749126  After: B16892537  **16,19,23,25,20,43,45**

=============================================================================
User Information:
Entered By  : CHESNEY,CHRISTINE M           Date Entered  : FEB 14, 2006
Completed By: ALDERMAN,MATT S               Date Completed: FEB 02, 2007
Released By : FITCH,DONNA                   Date Released : FEB 06, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
