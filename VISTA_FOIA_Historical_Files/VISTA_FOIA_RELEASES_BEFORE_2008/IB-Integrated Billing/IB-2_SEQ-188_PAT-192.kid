Released IB*2*192 SEQ #188
Extracted from mail message
**KIDS**:IB*2.0*192^

**INSTALL NAME**
IB*2.0*192
"BLD",4233,0)
IB*2.0*192^INTEGRATED BILLING^0^3030122^y
"BLD",4233,1,0)
^9.61A^1^1^3021002^^^
"BLD",4233,1,1,0)
AR PRODUCTIVITY/UNBILLED AMOUNTS REPORT FIXES
"BLD",4233,4,0)
^9.64PA^351.7^1
"BLD",4233,4,351.7,0)
351.7
"BLD",4233,4,351.7,222)
y^y^f^^n^^y^o^n
"BLD",4233,4,"B",351.7,351.7)

"BLD",4233,"KRN",0)
^9.67PA^8989.52^19
"BLD",4233,"KRN",.4,0)
.4
"BLD",4233,"KRN",.401,0)
.401
"BLD",4233,"KRN",.402,0)
.402
"BLD",4233,"KRN",.403,0)
.403
"BLD",4233,"KRN",.5,0)
.5
"BLD",4233,"KRN",.84,0)
.84
"BLD",4233,"KRN",3.6,0)
3.6
"BLD",4233,"KRN",3.8,0)
3.8
"BLD",4233,"KRN",9.2,0)
9.2
"BLD",4233,"KRN",9.8,0)
9.8
"BLD",4233,"KRN",9.8,"NM",0)
^9.68A^13^8
"BLD",4233,"KRN",9.8,"NM",1,0)
IBJDF8^^0^B14945566
"BLD",4233,"KRN",9.8,"NM",2,0)
IBJDF81^^0^B22819767
"BLD",4233,"KRN",9.8,"NM",3,0)
IBJDF811^^0^B64881209
"BLD",4233,"KRN",9.8,"NM",8,0)
IBJDF8R^^0^B39999471
"BLD",4233,"KRN",9.8,"NM",9,0)
IBTUBO^^0^B16608790
"BLD",4233,"KRN",9.8,"NM",11,0)
IBTUBO2^^0^B17259503
"BLD",4233,"KRN",9.8,"NM",12,0)
IBTUBO3^^0^B20012285
"BLD",4233,"KRN",9.8,"NM",13,0)
IBTUBOA^^0^B20372849
"BLD",4233,"KRN",9.8,"NM","B","IBJDF8",1)

"BLD",4233,"KRN",9.8,"NM","B","IBJDF81",2)

"BLD",4233,"KRN",9.8,"NM","B","IBJDF811",3)

"BLD",4233,"KRN",9.8,"NM","B","IBJDF8R",8)

"BLD",4233,"KRN",9.8,"NM","B","IBTUBO",9)

"BLD",4233,"KRN",9.8,"NM","B","IBTUBO2",11)

"BLD",4233,"KRN",9.8,"NM","B","IBTUBO3",12)

"BLD",4233,"KRN",9.8,"NM","B","IBTUBOA",13)

"BLD",4233,"KRN",19,0)
19
"BLD",4233,"KRN",19,"NM",0)
^9.68A^^
"BLD",4233,"KRN",19.1,0)
19.1
"BLD",4233,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",4233,"KRN",101,0)
101
"BLD",4233,"KRN",409.61,0)
409.61
"BLD",4233,"KRN",771,0)
771
"BLD",4233,"KRN",870,0)
870
"BLD",4233,"KRN",8989.51,0)
8989.51
"BLD",4233,"KRN",8989.52,0)
8989.52
"BLD",4233,"KRN",8994,0)
8994
"BLD",4233,"KRN","B",.4,.4)

"BLD",4233,"KRN","B",.401,.401)

"BLD",4233,"KRN","B",.402,.402)

"BLD",4233,"KRN","B",.403,.403)

"BLD",4233,"KRN","B",.5,.5)

"BLD",4233,"KRN","B",.84,.84)

"BLD",4233,"KRN","B",3.6,3.6)

"BLD",4233,"KRN","B",3.8,3.8)

"BLD",4233,"KRN","B",9.2,9.2)

"BLD",4233,"KRN","B",9.8,9.8)

"BLD",4233,"KRN","B",19,19)

"BLD",4233,"KRN","B",19.1,19.1)

"BLD",4233,"KRN","B",101,101)

"BLD",4233,"KRN","B",409.61,409.61)

"BLD",4233,"KRN","B",771,771)

"BLD",4233,"KRN","B",870,870)

"BLD",4233,"KRN","B",8989.51,8989.51)

"BLD",4233,"KRN","B",8989.52,8989.52)

"BLD",4233,"KRN","B",8994,8994)

"BLD",4233,"QUES",0)
^9.62^^
"BLD",4233,"REQB",0)
^9.611^2^2
"BLD",4233,"REQB",1,0)
IB*2.0*159^1
"BLD",4233,"REQB",2,0)
IB*2.0*123^1
"BLD",4233,"REQB","B","IB*2.0*123",2)

"BLD",4233,"REQB","B","IB*2.0*159",1)

"DATA",351.7,1,0)
PERCENTAGE OF COMPLETED REGISTRATIONS
"DATA",351.7,1,1,0)
^351.702^4^4
"DATA",351.7,1,1,1,0)
IBBDT
"DATA",351.7,1,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,1,1,2,0)
IBEDT
"DATA",351.7,1,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,1,1,3,0)
IBRPT^S
"DATA",351.7,1,1,4,0)
IBSORT^0
"DATA",351.7,1,2)
DQ^IBJDI1
"DATA",351.7,2,0)
VETERANS WITH UNVERIFIED ELIGIBILITY
"DATA",351.7,2,1,0)
^351.702^4^4
"DATA",351.7,2,1,1,0)
IBBDT
"DATA",351.7,2,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,2,1,2,0)
IBEDT
"DATA",351.7,2,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,2,1,3,0)
IBRPT^S
"DATA",351.7,2,1,4,0)
IBSORT^0
"DATA",351.7,2,2)
DQ^IBJDI2
"DATA",351.7,3,0)
NO EMPLOYER LISTING
"DATA",351.7,3,1,0)
^351.702^4^4
"DATA",351.7,3,1,1,0)
IBBDT
"DATA",351.7,3,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,3,1,2,0)
IBEDT
"DATA",351.7,3,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,3,1,3,0)
IBRPT^S
"DATA",351.7,3,1,4,0)
IBSORT^0
"DATA",351.7,3,2)
DQ^IBJDI3
"DATA",351.7,4,0)
PATIENT INSURANCE STATISTICS
"DATA",351.7,4,1,0)
^351.702^5^5
"DATA",351.7,4,1,1,0)
IBBDT
"DATA",351.7,4,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,4,1,2,0)
IBEDT
"DATA",351.7,4,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,4,1,3,0)
IBRPT^S
"DATA",351.7,4,1,4,0)
IBSEL^0
"DATA",351.7,4,1,5,0)
IBSORT^0
"DATA",351.7,4,2)
DQ^IBJDI4
"DATA",351.7,5,0)
INSURANCE POLICIES NOT VERIFIED
"DATA",351.7,5,1,0)
^351.702^4^4
"DATA",351.7,5,1,1,0)
IBBDT
"DATA",351.7,5,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,5,1,2,0)
IBEDT
"DATA",351.7,5,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,5,1,3,0)
IBRPT^S
"DATA",351.7,5,1,4,0)
IBVER^1
"DATA",351.7,5,2)
DQ^IBJDI5
"DATA",351.7,6,0)
SC VETS W/NSC EPISODES OF INPATIENT CARE
"DATA",351.7,6,1,0)
^351.702^3^3
"DATA",351.7,6,1,1,0)
IBBDT
"DATA",351.7,6,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,6,1,2,0)
IBEDT
"DATA",351.7,6,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,6,1,3,0)
IBRPT^S
"DATA",351.7,6,2)
DQ^IBJDI6
"DATA",351.7,7,0)
OUTPATIENT WORKLOAD SUMMARY
"DATA",351.7,7,1,0)
^351.702^3^3
"DATA",351.7,7,1,1,0)
IBBDT
"DATA",351.7,7,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,7,1,2,0)
IBEDT
"DATA",351.7,7,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,7,1,3,0)
IBSORT^0
"DATA",351.7,7,2)
DQ^IBJDI7
"DATA",351.7,8,0)
INSURANCE PAYMENT TREND GRAND TOTALS
"DATA",351.7,8,1,0)
^351.702^17^17
"DATA",351.7,8,1,1,0)
IBRT
"DATA",351.7,8,1,1,1)
S ZTSAVE("IBRT")=$S($O(^DGCR(399.3,"B","REIMBURSABLE INS.",0)):$O(^(0)),1:8)
"DATA",351.7,8,1,2,0)
IBBRT^A
"DATA",351.7,8,1,3,0)
IBBRTY^A
"DATA",351.7,8,1,4,0)
IBBRN^C
"DATA",351.7,8,1,5,0)
IBARST^A
"DATA",351.7,8,1,6,0)
IBDF^1
"DATA",351.7,8,1,7,0)
IBBDT
"DATA",351.7,8,1,7,1)
S ZTSAVE("IBBDT")=+$$M2^IBJDE(IBDT,5,3,0)
"DATA",351.7,8,1,8,0)
IBEDT
"DATA",351.7,8,1,8,1)
S ZTSAVE("IBEDT")=+$P($$M2^IBJDE(IBDT,5,3,0),U,2)
"DATA",351.7,8,1,9,0)
IBICF
"DATA",351.7,8,1,10,0)
IBICL^zzzzz
"DATA",351.7,8,1,11,0)
IBIC^ALL
"DATA",351.7,8,1,12,0)
IBSTATS^1
"DATA",351.7,8,1,13,0)
IBCANC^0
"DATA",351.7,8,1,14,0)
IBPRNT^G
"DATA",351.7,8,1,15,0)
IBSORT^I
"DATA",351.7,8,1,16,0)
IBINRC^0
"DATA",351.7,8,1,17,0)
IBSDIV^0
"DATA",351.7,8,2)
IBOTR2
"DATA",351.7,9,0)
THIRD PARTY FOLLOW-UP SUMMARY
"DATA",351.7,9,1,0)
^351.702^2^2
"DATA",351.7,9,1,1,0)
IBSORT^0
"DATA",351.7,9,1,2,0)
IBSEL^4,
"DATA",351.7,9,2)
DQ^IBJDF2
"DATA",351.7,10,0)
BILLING LAG TIME SUMMARY
"DATA",351.7,10,1,0)
^351.702^5^5
"DATA",351.7,10,1,1,0)
IBBDT
"DATA",351.7,10,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,10,1,2,0)
IBEDT
"DATA",351.7,10,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,10,1,3,0)
IBRPT^S
"DATA",351.7,10,1,4,0)
IBSEL^,1,2,3,4,5,6,7,8,9,10,11,
"DATA",351.7,10,1,5,0)
IBSORT^0
"DATA",351.7,10,2)
DQ^IBJDB1
"DATA",351.7,11,0)
MCCR/UR SUMMARY REPORT^1
"DATA",351.7,11,1,0)
^351.702^3^3
"DATA",351.7,11,1,1,0)
IBBDT
"DATA",351.7,11,1,1,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,11,1,2,0)
IBEDT
"DATA",351.7,11,1,2,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,11,1,3,0)
IBSORT^A
"DATA",351.7,11,2)
RPT^IBTOSUM
"DATA",351.7,12,0)
FIRST PARTY FOLLOW-UP (Emergency/Humanitarian)^
"DATA",351.7,12,1,0)
^351.702^13^13
"DATA",351.7,12,1,1,0)
IBSEL^1,2,3,
"DATA",351.7,12,1,2,0)
IBRPT^S
"DATA",351.7,12,1,3,0)
IBSNF
"DATA",351.7,12,1,4,0)
IBSNA^ALL
"DATA",351.7,12,1,5,0)
IBSNL^zzzzz
"DATA",351.7,12,1,6,0)
IBSTA^A
"DATA",351.7,12,1,7,0)
IBSMN^A
"DATA",351.7,12,1,8,0)
IBSMX^99999
"DATA",351.7,12,1,9,0)
IBSAM^0
"DATA",351.7,12,1,10,0)
IBEXCEL^0
"DATA",351.7,12,1,11,0)
IBSH^0
"DATA",351.7,12,1,12,0)
IBSRC^1
"DATA",351.7,12,1,13,0)
IBSN^N
"DATA",351.7,12,2)
DQ^IBJDF4
"DATA",351.7,13,0)
FIRST PARTY FOLLOW-UP (Ineligible receivables)^
"DATA",351.7,14,0)
FIRST PARTY FOLLOW-UP (C - Means Test)^
"DATA",351.7,15,0)
FIRST PARTY FOLLOW-UP (RX CO-PAYMENT/SC VET)^
"DATA",351.7,16,0)
FIRST PARTY FOLLOW-UP (RX CO-PAYMENT/NSC VET)^
"DATA",351.7,17,0)
CHAMPUS (Tricare) FOLLOW-UP (All receivables)^
"DATA",351.7,17,1,0)
^351.702^14^14
"DATA",351.7,17,1,1,0)
IBSEL^1,2,3,4,5,6,
"DATA",351.7,17,1,2,0)
IBSD^0
"DATA",351.7,17,1,3,0)
IBSEL1^4,
"DATA",351.7,17,1,4,0)
IBRPT^S
"DATA",351.7,17,1,5,0)
IBSNF
"DATA",351.7,17,1,6,0)
IBSNL^zzzzz
"DATA",351.7,17,1,7,0)
IBSNA^ALL
"DATA",351.7,17,1,8,0)
IBSMN^A
"DATA",351.7,17,1,9,0)
IBSMX^99999
"DATA",351.7,17,1,10,0)
IBSAM^0
"DATA",351.7,17,1,11,0)
IBSH^0
"DATA",351.7,17,1,12,0)
IBSH1^A
"DATA",351.7,17,1,13,0)
IBSH2^0
"DATA",351.7,17,1,14,0)
IBEXCEL^0
"DATA",351.7,17,2)
DQ^IBJDF5
"DATA",351.7,18,0)
CHAMPUS Patient FOLLOW-UP (All receivables)^
"DATA",351.7,19,0)
CHAMPUS Reimbursable FOLLOW-UP (All receivables)^
"DATA",351.7,20,0)
CHAMPVA FOLLOW-UP (All receivables)^
"DATA",351.7,21,0)
CHAMPVA Reimbursable FOLLOW-UP (All receivables)^
"DATA",351.7,22,0)
MISCELLANEOUS BILLS FOLLOW-UP (No-fault auto acc.)^
"DATA",351.7,22,1,0)
^351.702^16^16
"DATA",351.7,22,1,1,0)
IBSEL^2,3,4,
"DATA",351.7,22,1,2,0)
IBSDV^0
"DATA",351.7,22,1,3,0)
IBRPT^S
"DATA",351.7,22,1,4,0)
IBSNA^ALL
"DATA",351.7,22,1,5,0)
IBSNF
"DATA",351.7,22,1,6,0)
IBSNL^zzzzz
"DATA",351.7,22,1,7,0)
IBSDA^ALL
"DATA",351.7,22,1,8,0)
IBSDF
"DATA",351.7,22,1,9,0)
IBSDL^zzzzz
"DATA",351.7,22,1,10,0)
IBSMN^A
"DATA",351.7,22,1,11,0)
IBSAM^0
"DATA",351.7,22,1,12,0)
IBEXCEL^0
"DATA",351.7,22,1,13,0)
IBSH^0
"DATA",351.7,22,1,14,0)
IBSH1^A
"DATA",351.7,22,1,15,0)
IBSH2^0
"DATA",351.7,22,1,16,0)
IBSMX^99999
"DATA",351.7,22,2)
DQ^IBJDF6
"DATA",351.7,23,0)
MISCELLANEOUS BILLS FOLLOW-UP (Tort Feasor)^
"DATA",351.7,24,0)
MISCELLANEOUS BILLS FOLLOW-UP (Workman's Comp)^
"DATA",351.7,25,0)
REASONS NOT BILLABLE - Inpatient (01 - 10)^
"DATA",351.7,25,1,0)
^351.702^12^12
"DATA",351.7,25,1,1,0)
IBSD^0
"DATA",351.7,25,1,2,0)
IBD^DATE ENTERED
"DATA",351.7,25,1,3,0)
IBSRNB^A
"DATA",351.7,25,1,4,0)
IBRPT^S
"DATA",351.7,25,1,5,0)
IBSEL^1,2,3,4,
"DATA",351.7,25,1,6,0)
IBSORT^R
"DATA",351.7,25,1,7,0)
IBEXCEL^0
"DATA",351.7,25,1,8,0)
IBBDT
"DATA",351.7,25,1,8,1)
S ZTSAVE("IBBDT")=+$$M1^IBJDE(IBDT,0)
"DATA",351.7,25,1,9,0)
IBEDT
"DATA",351.7,25,1,9,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT,0),U,2)
"DATA",351.7,25,1,10,0)
IBSPRV^A
"DATA",351.7,25,1,11,0)
IBSISP^A
"DATA",351.7,25,1,12,0)
IBSOSP^A
"DATA",351.7,25,2)
DQ^IBJDB2
"DATA",351.7,26,0)
REASONS NOT BILLABLE - Inpatient (11 - 20)^
"DATA",351.7,27,0)
REASONS NOT BILLABLE - Inpatient (21 - 29)^
"DATA",351.7,28,0)
REASONS NOT BILLABLE - Outpatient (01 - 10)^
"DATA",351.7,29,0)
REASONS NOT BILLABLE - Outpatient (11 - 20)^
"DATA",351.7,30,0)
REASONS NOT BILLABLE - Outpatient (21 - 29)^
"DATA",351.7,31,0)
REASONS NOT BILLABLE - Prosthetics (01 - 10)^
"DATA",351.7,32,0)
REASONS NOT BILLABLE - Prosthetics (11 - 20)^
"DATA",351.7,33,0)
REASONS NOT BILLABLE - Prosthetics (21 - 29)^
"DATA",351.7,34,0)
REASONS NOT BILLABLE - Pharmacy (01 - 10)^
"DATA",351.7,35,0)
REASONS NOT BILLABLE - Pharmacy (11 - 20)^
"DATA",351.7,36,0)
REASONS NOT BILLABLE - Pharmacy (21 - 29)^
"DATA",351.7,37,0)
UNBILLED AMOUNTS REPORT^
"DATA",351.7,37,1,0)
^351.702^6^6
"DATA",351.7,37,1,1,0)
IBTIMON
"DATA",351.7,37,1,1,1)
S ZTSAVE("IBTIMON")=IBDT
"DATA",351.7,37,1,2,0)
IBDET^0
"DATA",351.7,37,1,3,0)
IBCOMP^1
"DATA",351.7,37,1,4,0)
IBSEL^1,2,3
"DATA",351.7,37,1,5,0)
IBBDT
"DATA",351.7,37,1,5,1)
S ZTSAVE("IBBDT")=$P($$M2^IBJDE(IBDT,11),"^")
"DATA",351.7,37,1,6,0)
IBEDT
"DATA",351.7,37,1,6,1)
S ZTSAVE("IBEDT")=$P($$M1^IBJDE(IBDT),"^",2)+.9
"DATA",351.7,37,2)
DQ^IBTUBO
"DATA",351.7,38,0)
REPAYMENT PLAN REPORT^
"DATA",351.7,38,1,0)
^351.702^9^9
"DATA",351.7,38,1,1,0)
IBDAYS^1
"DATA",351.7,38,1,2,0)
IBMCR^M
"DATA",351.7,38,1,3,0)
IBRPT^S
"DATA",351.7,38,1,4,0)
IBEXCEL^0
"DATA",351.7,38,1,5,0)
IBPLN^B
"DATA",351.7,38,1,6,0)
IBSNA^ALL
"DATA",351.7,38,1,7,0)
IBSNF
"DATA",351.7,38,1,8,0)
IBSNL^zzzzz
"DATA",351.7,38,1,9,0)
IBSN^N
"DATA",351.7,38,2)
DQ^IBJDF7
"FIA",351.7)
IB DM EXTRACT REPORTS
"FIA",351.7,0)
^IBE(351.7,
"FIA",351.7,0,0)
351.7
"FIA",351.7,0,1)
y^y^f^^n^^y^o^n
"FIA",351.7,0,10)

"FIA",351.7,0,11)

"FIA",351.7,0,"RLRO")

"FIA",351.7,0,"VR")
2.0^IB
"FIA",351.7,351.7)
0
"FIA",351.7,351.702)
0
"MBREQ")
0
"PKG",200,-1)
1^1
"PKG",200,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",200,20,0)
^9.402P^1^1
"PKG",200,20,1,0)
2^^IBAXDR
"PKG",200,20,1,1)

"PKG",200,20,"B",2,1)

"PKG",200,22,0)
^9.49I^1^1
"PKG",200,22,1,0)
2.0^2940321^2990406^2447
"PKG",200,22,1,"PAH",1,0)
192^3030122
"PKG",200,22,1,"PAH",1,1,0)
^^1^1^3030122
"PKG",200,22,1,"PAH",1,1,1,0)
AR PRODUCTIVITY/UNBILLED AMOUNTS REPORT FIXES
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
8
"RTN","IBJDF8")
0^1^B14945566
"RTN","IBJDF8",1,0)
IBJDF8 ;ALB/RRG - AR PRODUCTIVITY REPORT ;29-AUG-00
"RTN","IBJDF8",2,0)
 ;;2.0;INTEGRATED BILLING;**123,159,192**;21-MAR-94
"RTN","IBJDF8",3,0)
 ;
"RTN","IBJDF8",4,0)
EN ; - Option entry point.
"RTN","IBJDF8",5,0)
 S (IBPNI,IBTDATE,IBFDATE,IBT,IBF,IBSPT,IBRPT,IBSEL,IBCLERK)=""
"RTN","IBJDF8",6,0)
 ;
"RTN","IBJDF8",7,0)
TDATE ; - Determine date range of transactions.
"RTN","IBJDF8",8,0)
 ; 
"RTN","IBJDF8",9,0)
 S DIR(0)="DA^:DT:EX"
"RTN","IBJDF8",10,0)
 S DIR("A")="FROM Transaction Date: "
"RTN","IBJDF8",11,0)
 S DIR("T")=300,DIR("L")=""
"RTN","IBJDF8",12,0)
 S (DIR("?"),DIR("??"))="^S IBOFF=1 D HELP^IBJDF8H"
"RTN","IBJDF8",13,0)
 W ! D ^DIR K DIR G:Y=""!(X="^") ENQ
"RTN","IBJDF8",14,0)
 S IBFDATE=Y,IBF=Y(0)
"RTN","IBJDF8",15,0)
 ;
"RTN","IBJDF8",16,0)
 S DIR(0)="DA^"_IBFDATE_":DT:EX"
"RTN","IBJDF8",17,0)
 S DIR("A")="  TO Transaction Date: "
"RTN","IBJDF8",18,0)
 S DIR("T")=300,DIR("L")=""
"RTN","IBJDF8",19,0)
 S (DIR("?"),DIR("??"))="^S IBOFF=11 D HELP^IBJDF8H"
"RTN","IBJDF8",20,0)
 W ! D ^DIR K DIR G:Y=""!(X="^") ENQ
"RTN","IBJDF8",21,0)
 S IBTDATE=Y,IBT=Y(0)
"RTN","IBJDF8",22,0)
 ;
"RTN","IBJDF8",23,0)
CLERK ; - Get All/Specific Clerks
"RTN","IBJDF8",24,0)
 D ALSP^IBJD("Clerks^Clerk","^IBE(351.73,",.IBCLERK)
"RTN","IBJDF8",25,0)
 I IBCLERK["^" G ENQ
"RTN","IBJDF8",26,0)
 ;
"RTN","IBJDF8",27,0)
TYPE ; - Determine type of report -Detail or Summary.
"RTN","IBJDF8",28,0)
 ;
"RTN","IBJDF8",29,0)
 D DS^IBJD G ENQ:IBRPT["^",SUMM:IBRPT="S"
"RTN","IBJDF8",30,0)
 ;
"RTN","IBJDF8",31,0)
DETOPT ; - Detail print options.
"RTN","IBJDF8",32,0)
 ;
"RTN","IBJDF8",33,0)
 ; - Determine if Clerk name or Clerk identifier should print
"RTN","IBJDF8",34,0)
 W ! S IBPNI=""
"RTN","IBJDF8",35,0)
 S DIR(0)="SA^N:NAME;I:IDENTIFIER;",DIR("T")=DTIME
"RTN","IBJDF8",36,0)
 S DIR("A")="Do you wish to print with Clerk (N)ame or (I)dentifier? "
"RTN","IBJDF8",37,0)
 S DIR("?")="^S IBOFF=21 D HELP^IBJDF8H"
"RTN","IBJDF8",38,0)
 D ^DIR K DIR G:$D(DIRUT)!$D(DTOUT)!$D(DUOUT)!$D(DIROUT) ENQ
"RTN","IBJDF8",39,0)
 S IBPNI=Y K DIROUT,DTOUT,DUOUT,DIRUT
"RTN","IBJDF8",40,0)
 ;
"RTN","IBJDF8",41,0)
 K IBOPT F X=1:1:14 S IBOPT(X)=$$CAT(X)
"RTN","IBJDF8",42,0)
 S IBPRT="Choose transaction type(s) to print: "
"RTN","IBJDF8",43,0)
 S IBSEL=$$MLTP^IBJD(IBPRT,.IBOPT,1) I 'IBSEL G ENQ
"RTN","IBJDF8",44,0)
 S IBSEL=","_IBSEL
"RTN","IBJDF8",45,0)
 ;
"RTN","IBJDF8",46,0)
 ; - Assign Tran types from 430.3 to user-selected transaction types
"RTN","IBJDF8",47,0)
 S IBTT="" D
"RTN","IBJDF8",48,0)
 . I IBSEL=",1,2,3,4,5,6,7,8,9,10,11,12,13," S IBTT="ALL" Q
"RTN","IBJDF8",49,0)
 . F I=2:1 S II=$P(IBSEL,",",I) Q:'II  D
"RTN","IBJDF8",50,0)
 . . S IBTT=$S(IBTT'="":IBTT_$$CATT(II)_"|",1:"|"_$$CATT(II)_"|")
"RTN","IBJDF8",51,0)
 ;
"RTN","IBJDF8",52,0)
SUMM ; - Summary print options
"RTN","IBJDF8",53,0)
 ;
"RTN","IBJDF8",54,0)
 W ! S DIR(0)="Y",DIR("B")="YES",DIR("T")=DTIME
"RTN","IBJDF8",55,0)
 S DIR("A")="Do you want to print the summary by Clerk"
"RTN","IBJDF8",56,0)
 S DIR("?")="^S IBOFF=27 D HELP^IBJDF8H"
"RTN","IBJDF8",57,0)
 D ^DIR K DIR G:$D(DIRUT)!$D(DTOUT)!$D(DUOUT)!$D(DIROUT) ENQ
"RTN","IBJDF8",58,0)
 S IBSPT=+Y K DIROUT,DTOUT,DUOUT,DIRUT
"RTN","IBJDF8",59,0)
 I IBSPT=1 D
"RTN","IBJDF8",60,0)
 . Q:IBPNI'=""
"RTN","IBJDF8",61,0)
 . S DIR(0)="SA^N:NAME;I:IDENTIFIER;",DIR("T")=DTIME
"RTN","IBJDF8",62,0)
 . S DIR("A")="Do you wish to print with Clerk (N)ame or (I)dentifier? "
"RTN","IBJDF8",63,0)
 . S DIR("?")="^S IBOFF=21 D HELP^IBJDF8H"
"RTN","IBJDF8",64,0)
 . D ^DIR K DIR G:$D(DIRUT)!$D(DTOUT)!$D(DUOUT)!$D(DIROUT) ENQ
"RTN","IBJDF8",65,0)
 . S IBPNI=Y K DIROUT,DTOUT,DUOUT,DIRUT
"RTN","IBJDF8",66,0)
 ;
"RTN","IBJDF8",67,0)
 ;
"RTN","IBJDF8",68,0)
DEV ; - Select a device.
"RTN","IBJDF8",69,0)
 W !!,"This report requires a ",$S(IBRPT="S":80,1:132)," column printer."
"RTN","IBJDF8",70,0)
 S %ZIS="QM" D ^%ZIS G:POP ENQ
"RTN","IBJDF8",71,0)
 I $D(IO("Q")) D  G ENQ
"RTN","IBJDF8",72,0)
 .S ZTRTN="DQ^IBJDF8",ZTDESC="IB - AR PRODUCTIVITY REPORT"
"RTN","IBJDF8",73,0)
 .S ZTSAVE("IB*")="" D ^%ZTLOAD
"RTN","IBJDF8",74,0)
 .I $G(ZTSK) W !!,"This job has been queued. The task no. is ",ZTSK,"."
"RTN","IBJDF8",75,0)
 .E  W !!,"Unable to queue this job."
"RTN","IBJDF8",76,0)
 .K ZTSK,IO("Q") D HOME^%ZIS
"RTN","IBJDF8",77,0)
 ;
"RTN","IBJDF8",78,0)
 U IO
"RTN","IBJDF8",79,0)
 ;
"RTN","IBJDF8",80,0)
DQ D ST^IBJDF81 ;                   Compile and print the report.
"RTN","IBJDF8",81,0)
 ;
"RTN","IBJDF8",82,0)
ENQ K DIROUT,DTOUT,DUOUT,DIRUT,I
"RTN","IBJDF8",83,0)
 K IBOFF,IBSNA,IBPLN,IBRPT,POP,X,ZTDESC,ZTRTN,ZTSAVE,Y,%ZIS,IBSPT,IBPNI
"RTN","IBJDF8",84,0)
 K IBSEL,IBTT,II,IBF,IBT,IBFDATE,IBTDATE,IBCLERK,IBPRT,IBOPT
"RTN","IBJDF8",85,0)
 Q
"RTN","IBJDF8",86,0)
 ;
"RTN","IBJDF8",87,0)
CAT(X) ; - Return transaction type
"RTN","IBJDF8",88,0)
 Q $S(X]"":$P($T(CAT1+X),";;",2),1:"")
"RTN","IBJDF8",89,0)
 ;
"RTN","IBJDF8",90,0)
CATT(X) ; - Return transaction type from 430.3 for user-selected transaction type
"RTN","IBJDF8",91,0)
 Q $S(X]"":$P($T(CAT1+X),";;",3),1:"")
"RTN","IBJDF8",92,0)
 ;
"RTN","IBJDF8",93,0)
CAT1 ; - Transaction types
"RTN","IBJDF8",94,0)
 ;;COMMENT;;45
"RTN","IBJDF8",95,0)
 ;;AUDIT;;0
"RTN","IBJDF8",96,0)
 ;;PAYMENT;;2|34
"RTN","IBJDF8",97,0)
 ;;REFUND;;41
"RTN","IBJDF8",98,0)
 ;;DEC.ADJ./CONTR;;35
"RTN","IBJDF8",99,0)
 ;;DEC.ADJ./NON-CONTR;;35
"RTN","IBJDF8",100,0)
 ;;WRITE-OFF;;23|8
"RTN","IBJDF8",101,0)
 ;;WAIVED;;10|11
"RTN","IBJDF8",102,0)
 ;;SUSPENDED;;40
"RTN","IBJDF8",103,0)
 ;;COMPROMISED;;9|29
"RTN","IBJDF8",104,0)
 ;;REPAYMENT PLAN;;25
"RTN","IBJDF8",105,0)
 ;;EXEMPTION;;14
"RTN","IBJDF8",106,0)
 ;;OTHER;;1|3|4|5|6|7|12|13|15|16|17|18|19|20|21|22|24|26|27|28|30|31|32|33|36|37|38|39|42|43|44|46|47|48|49
"RTN","IBJDF8",107,0)
 ;;ALL OF THE ABOVE;;0
"RTN","IBJDF8",108,0)
 ;
"RTN","IBJDF81")
0^2^B22819767
"RTN","IBJDF81",1,0)
IBJDF81 ;ALB/RRG - AR PRODUCTIVITY REPORT (COMPILE) ;29-AUG-00
"RTN","IBJDF81",2,0)
 ;;2.0;INTEGRATED BILLING;**123,159,192**;21-MAR-94
"RTN","IBJDF81",3,0)
 ;
"RTN","IBJDF81",4,0)
ST ; - Tasked entry point.
"RTN","IBJDF81",5,0)
 K IB,^TMP("IBJDF8",$J),^TMP("IBJDF8SUM",$J) S IBQ=0
"RTN","IBJDF81",6,0)
 ;
"RTN","IBJDF81",7,0)
 ; - Initialize the array IB
"RTN","IBJDF81",8,0)
 F I=1:1:13 S IB(I)=0
"RTN","IBJDF81",9,0)
 ;
"RTN","IBJDF81",10,0)
 ; - Loops through all the AR Transactions by DATE ENTERED X-ref
"RTN","IBJDF81",11,0)
 S IBTRDA="",IBTDATE=IBTDATE+.9
"RTN","IBJDF81",12,0)
 S IBTRTP=0  ; - Don't include INCREASE ADJUSTMENTS transactions
"RTN","IBJDF81",13,0)
 F  S IBTRTP=$O(^PRCA(433,"AT",IBTRTP)) Q:'IBTRTP  D  Q:IBQ
"RTN","IBJDF81",14,0)
 . S IBDTEN=IBFDATE-.1
"RTN","IBJDF81",15,0)
 . F  S IBDTEN=$O(^PRCA(433,"AT",IBTRTP,IBDTEN)) Q:'IBDTEN!(IBDTEN>IBTDATE)  D  Q:IBQ
"RTN","IBJDF81",16,0)
 . . F  S IBTRDA=$O(^PRCA(433,"AT",IBTRTP,IBDTEN,IBTRDA)) Q:'IBTRDA  D  Q:IBQ
"RTN","IBJDF81",17,0)
 . . . S IBTR0=$G(^PRCA(433,IBTRDA,0))
"RTN","IBJDF81",18,0)
 . . . S IBARDA=$P(IBTR0,"^",2) Q:IBARDA=""
"RTN","IBJDF81",19,0)
 . . . S IBTR1=$G(^PRCA(433,IBTRDA,1))
"RTN","IBJDF81",20,0)
 . . . S IBTR5=$G(^PRCA(433,IBTRDA,5))
"RTN","IBJDF81",21,0)
 . . . S IBTR8=$G(^PRCA(433,IBTRDA,8))
"RTN","IBJDF81",22,0)
 . . . I IBARDA#100=0 S IBQ=$$STOP^IBOUTL("AR Productivity Report") Q:IBQ
"RTN","IBJDF81",23,0)
 . . . S IBAR0=$G(^PRCA(430,IBARDA,0))
"RTN","IBJDF81",24,0)
 . . . I 'IBAR0!($P(IBAR0,"^",8)=8) Q  ; No AR bill/bill terminated.
"RTN","IBJDF81",25,0)
 . . . S IBAR7=$G(^PRCA(430,IBARDA,7))
"RTN","IBJDF81",26,0)
 . . . S IBAR9=$G(^PRCA(430,IBARDA,9))
"RTN","IBJDF81",27,0)
 . . . D TRDA
"RTN","IBJDF81",28,0)
 ;
"RTN","IBJDF81",29,0)
 I IBSEL'="",IBSEL'[",2," G PRT  ; AUDIT Transaction type not selected
"RTN","IBJDF81",30,0)
 ;
"RTN","IBJDF81",31,0)
 ; - Get AUDIT Transactions
"RTN","IBJDF81",32,0)
 S IBARDA="",IBACTDT=IBFDATE-.1
"RTN","IBJDF81",33,0)
 ;F  S IBACTDT=$O(^PRCA(430,"ACTDT",IBACTDT)) Q:'IBACTDT  D  Q:IBQ
"RTN","IBJDF81",34,0)
 F  S IBACTDT=$O(^PRCA(430,"ACTDT",IBACTDT)) Q:'IBACTDT!(IBACTDT>IBTDATE)  D  Q:IBQ
"RTN","IBJDF81",35,0)
 . F  S IBARDA=$O(^PRCA(430,"ACTDT",IBACTDT,IBARDA)) Q:'IBARDA  D  Q:IBQ
"RTN","IBJDF81",36,0)
 . . S IBAR0=$G(^PRCA(430,IBARDA,0)) Q:'IBAR0
"RTN","IBJDF81",37,0)
 . . S IBAR7=$G(^PRCA(430,IBARDA,7))
"RTN","IBJDF81",38,0)
 . . S IBAR9=$G(^PRCA(430,IBARDA,9))
"RTN","IBJDF81",39,0)
 . . D AUDIT
"RTN","IBJDF81",40,0)
 ;
"RTN","IBJDF81",41,0)
PRT I 'IBQ D EN^IBJDF82 ; Print the report.
"RTN","IBJDF81",42,0)
 ;
"RTN","IBJDF81",43,0)
ENQ K ^TMP("IBJDF8",$J),^TMP("IBJDF8SUM",$J)
"RTN","IBJDF81",44,0)
 I $D(ZTQUEUED) S ZTREQ="@" G ENQ1
"RTN","IBJDF81",45,0)
 ;
"RTN","IBJDF81",46,0)
 D ^%ZISC
"RTN","IBJDF81",47,0)
ENQ1 K IBARDA,IBTRDA,IBAR0,IBAR7,IBAR9,IBTR0,IBTR1,IBTR5,IBTR8,IBTRTP,IBACTDT
"RTN","IBJDF81",48,0)
 K IBBAL,IBDTEN,IBCLNU,IBCLNM,IBDATA,IBCONT,IBCOM,IBFUDT,IBTRAMT,IBQ
"RTN","IBJDF81",49,0)
 K TRXCAT,TRXCATN,TRXTYPN,IB,I
"RTN","IBJDF81",50,0)
 Q
"RTN","IBJDF81",51,0)
 ;
"RTN","IBJDF81",52,0)
AUDIT ; - Determine if bill has been audited and add to Audit Transaction
"RTN","IBJDF81",53,0)
 ;   Total, then:
"RTN","IBJDF81",54,0)
 ;   - Sets temporary detail global (for detail printing)
"RTN","IBJDF81",55,0)
 ;   - Sets temporary summary global (for summary printing)
"RTN","IBJDF81",56,0)
 ;
"RTN","IBJDF81",57,0)
 S IBCLNU=$P(IBAR9,"^",1) I IBCLNU="" Q  ; Approved By (Clerk) not found
"RTN","IBJDF81",58,0)
 ;
"RTN","IBJDF81",59,0)
 I '$D(^IBE(351.73,IBCLNU,0)) Q          ; Clerk not set up
"RTN","IBJDF81",60,0)
 I IBCLERK="S",'$D(IBCLERK(IBCLNU)) Q    ; Clerk not selected
"RTN","IBJDF81",61,0)
 S IBCLNM=$P($G(^VA(200,IBCLNU,0)),"^",1)
"RTN","IBJDF81",62,0)
 ;
"RTN","IBJDF81",63,0)
 S IBBAL=0 F I=1:1:5 S IBBAL=IBBAL+$P(IBAR7,"^",I)  ; Current Bill Balance
"RTN","IBJDF81",64,0)
 ;
"RTN","IBJDF81",65,0)
 S IB(2)=($P(IB(2),"^",1)+1)_"^"_($P(IB(2),"^",2)+$P(IBAR0,"^",3))_"^AUDIT"
"RTN","IBJDF81",66,0)
 S TRXCAT=2
"RTN","IBJDF81",67,0)
 ;
"RTN","IBJDF81",68,0)
 ; - Update TMP global with Summary information by Clerk
"RTN","IBJDF81",69,0)
 S IBDATA=$G(^TMP("IBJDF8SUM",$J,IBCLNM,2))
"RTN","IBJDF81",70,0)
 S $P(IBDATA,"^",1)=$P(IBDATA,"^",1)+1
"RTN","IBJDF81",71,0)
 S $P(IBDATA,"^",2)=$P(IBDATA,"^",2)+$P(IBAR0,"^",3)
"RTN","IBJDF81",72,0)
 S $P(IBDATA,"^",3)="AUDIT"
"RTN","IBJDF81",73,0)
 S ^TMP("IBJDF8SUM",$J,IBCLNM,2)=IBDATA
"RTN","IBJDF81",74,0)
 ;
"RTN","IBJDF81",75,0)
 I IBRPT="S" Q  ; Don't set ^TMP for detail if only Summary was selected
"RTN","IBJDF81",76,0)
 ;
"RTN","IBJDF81",77,0)
 ; - Update TMP global with Detailed information 
"RTN","IBJDF81",78,0)
 S ^TMP("IBJDF8",$J,IBCLNM,IBARDA,0)=$P(IBAR0,"^")_"^"_IBACTDT_"^"_$$DEBTOR(IBARDA)_"^AUDIT^"_$P(IBAR0,"^",3)_"^"_IBBAL
"RTN","IBJDF81",79,0)
 ;
"RTN","IBJDF81",80,0)
 Q
"RTN","IBJDF81",81,0)
 ;
"RTN","IBJDF81",82,0)
TRDA ; - Checks if Transactions is eligible for the Report, then:
"RTN","IBJDF81",83,0)
 ;   - Sets temporary global (for detail printing)
"RTN","IBJDF81",84,0)
 ;   - Sets temporary Summary global (for summary printing)
"RTN","IBJDF81",85,0)
 ;
"RTN","IBJDF81",86,0)
 S IBCLNU=$P(IBTR0,"^",9) I IBCLNU="" Q  ; No CLERK found on the AR Trans.
"RTN","IBJDF81",87,0)
 ; 
"RTN","IBJDF81",88,0)
 I '$D(^IBE(351.73,IBCLNU,0)) Q        ; Clerk not set up
"RTN","IBJDF81",89,0)
 I IBCLERK="S",'$D(IBCLERK(IBCLNU)) Q  ; Clerk not selected to print
"RTN","IBJDF81",90,0)
 ;
"RTN","IBJDF81",91,0)
 S IBTRAMT=$P(IBTR1,"^",5)  ; TRX Amount
"RTN","IBJDF81",92,0)
 ;
"RTN","IBJDF81",93,0)
 I IBRPT'="S",IBTT'="ALL" Q:IBTT'[("|"_IBTRTP_"|")  ; TRX type not selected
"RTN","IBJDF81",94,0)
 ;
"RTN","IBJDF81",95,0)
 I '$$VALID^RCRJRCOT(IBTRDA) Q  ; Invalid TRX
"RTN","IBJDF81",96,0)
 ;
"RTN","IBJDF81",97,0)
 S IBCONT=$P(IBTR8,"^",8)  ; Contractual / Non-Contractual Transaction
"RTN","IBJDF81",98,0)
 ; 
"RTN","IBJDF81",99,0)
 S IBBAL=0 F I=1:1:5 S IBBAL=IBBAL+$P(IBAR7,"^",I)  ; Current Bill Balance
"RTN","IBJDF81",100,0)
 ;
"RTN","IBJDF81",101,0)
 ; - Set IB array with summary information
"RTN","IBJDF81",102,0)
 I $T(@IBTRTP^IBJDF811)'="" D @(IBTRTP_"^IBJDF811")
"RTN","IBJDF81",103,0)
 ;
"RTN","IBJDF81",104,0)
 S IBCLNM=$P($G(^VA(200,$P(IBTR0,"^",9),0)),"^",1)  ; Clerk Name
"RTN","IBJDF81",105,0)
 ;
"RTN","IBJDF81",106,0)
 ; - Set TMP global with Summary information 
"RTN","IBJDF81",107,0)
 S IBDATA=$G(^TMP("IBJDF8SUM",$J,IBCLNM,TRXCAT))
"RTN","IBJDF81",108,0)
 S $P(IBDATA,"^",1)=$P(IBDATA,"^",1)+1
"RTN","IBJDF81",109,0)
 S $P(IBDATA,"^",2)=$P(IBDATA,"^",2)+IBTRAMT
"RTN","IBJDF81",110,0)
 S $P(IBDATA,"^",3)=TRXCATN
"RTN","IBJDF81",111,0)
 S ^TMP("IBJDF8SUM",$J,IBCLNM,TRXCAT)=IBDATA
"RTN","IBJDF81",112,0)
 ;
"RTN","IBJDF81",113,0)
 I IBRPT="S" Q  ; Don't set ^TMP for detail if only Summary was selected
"RTN","IBJDF81",114,0)
 ;
"RTN","IBJDF81",115,0)
 S IBCOM=$P(IBTR5,"^",2)                 ; Brief Comments
"RTN","IBJDF81",116,0)
 S IBFUDT=$P(IBTR5,"^",3)                ; Follow-Up Date
"RTN","IBJDF81",117,0)
 ;
"RTN","IBJDF81",118,0)
 ; - Set TMP global with Detailed information 
"RTN","IBJDF81",119,0)
 S ^TMP("IBJDF8",$J,IBCLNM,IBARDA,IBTRDA)=$P(IBAR0,"^")_"^"_IBDTEN_"^"_$$DEBTOR(IBARDA)_"^"_TRXTYPN_"^"_IBTRAMT_"^"_IBBAL_"^"_IBFUDT_"^"_IBCOM
"RTN","IBJDF81",120,0)
 ;
"RTN","IBJDF81",121,0)
 Q
"RTN","IBJDF81",122,0)
 ;
"RTN","IBJDF81",123,0)
DEBTOR(ARDA) ; - Retrieve debtor name
"RTN","IBJDF81",124,0)
 N Y,DIC,DA,DR,DIQ,DEB
"RTN","IBJDF81",125,0)
 S DIC="^PRCA(430,",DA=ARDA,DR=9,DIQ="DEB" D EN^DIQ1
"RTN","IBJDF81",126,0)
 S Y=$G(DEB(430,DA,9))
"RTN","IBJDF81",127,0)
 Q Y
"RTN","IBJDF811")
0^3^B64881209
"RTN","IBJDF811",1,0)
IBJDF811 ;ALB/RRG - AR PRODUCTIVITY REPORT (COMPILE-cont.) ;28-DEC-00
"RTN","IBJDF811",2,0)
 ;;2.0;INTEGRATED BILLING;**123,159,192**;21-MAR-94
"RTN","IBJDF811",3,0)
 ;
"RTN","IBJDF811",4,0)
1 ; increase adjustment
"RTN","IBJDF811",5,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="INCREASE ADJUSTMENT"
"RTN","IBJDF811",6,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",7,0)
 Q
"RTN","IBJDF811",8,0)
 ;
"RTN","IBJDF811",9,0)
2 ; payment (in part)
"RTN","IBJDF811",10,0)
 S TRXCAT=3,TRXCATN="PAYMENT",TRXTYPN="PAYMENT (IN PART)"
"RTN","IBJDF811",11,0)
 S IB(3)=($P(IB(3),"^",1)+1)_"^"_($P(IB(3),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",12,0)
 Q
"RTN","IBJDF811",13,0)
 ;
"RTN","IBJDF811",14,0)
3 ; refer to RC
"RTN","IBJDF811",15,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="REFER TO RC"
"RTN","IBJDF811",16,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",17,0)
 Q
"RTN","IBJDF811",18,0)
 ;
"RTN","IBJDF811",19,0)
4 ; refer to DOJ
"RTN","IBJDF811",20,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="REFER TO DOJ"
"RTN","IBJDF811",21,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",22,0)
 Q
"RTN","IBJDF811",23,0)
 ;
"RTN","IBJDF811",24,0)
5 ; reestablish to RC
"RTN","IBJDF811",25,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="REESTABLISH TO RC"
"RTN","IBJDF811",26,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",27,0)
 Q
"RTN","IBJDF811",28,0)
 ;
"RTN","IBJDF811",29,0)
6 ; returned by RC
"RTN","IBJDF811",30,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="RETURNED BY RC"
"RTN","IBJDF811",31,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",32,0)
 Q
"RTN","IBJDF811",33,0)
 ;
"RTN","IBJDF811",34,0)
7 ; cash collection by RC
"RTN","IBJDF811",35,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="CASH COLLECTION BY RC"
"RTN","IBJDF811",36,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",37,0)
 Q
"RTN","IBJDF811",38,0)
 ;
"RTN","IBJDF811",39,0)
8 ; terminate by fiscal officer
"RTN","IBJDF811",40,0)
 S TRXCAT=7,TRXCATN="WRITE-OFF",TRXTYPN="TERMINATE BY FISCAL OFFICER"
"RTN","IBJDF811",41,0)
 S IB(7)=($P(IB(7),"^",1)+1)_"^"_($P(IB(7),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",42,0)
 Q
"RTN","IBJDF811",43,0)
 ;
"RTN","IBJDF811",44,0)
9 ; terminate by compromise
"RTN","IBJDF811",45,0)
 S TRXCAT=10,TRXCATN="COMPROMISED",TRXTYPN="TERMINATE BY COMPROMISE"
"RTN","IBJDF811",46,0)
 S IB(10)=($P(IB(10),"^",1)+1)_"^"_($P(IB(10),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",47,0)
 Q
"RTN","IBJDF811",48,0)
 ;
"RTN","IBJDF811",49,0)
10 ; waived in full
"RTN","IBJDF811",50,0)
 S TRXCAT=8,TRXCATN="WAIVED",TRXTYPN="WAIVED IN FULL"
"RTN","IBJDF811",51,0)
 S IB(8)=($P(IB(8),"^",1)+1)_"^"_($P(IB(8),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",52,0)
 Q
"RTN","IBJDF811",53,0)
 ;
"RTN","IBJDF811",54,0)
11 ; waived in part
"RTN","IBJDF811",55,0)
 S TRXCAT=8,TRXCATN="WAIVED",TRXTYPN="WAIVED IN PART"
"RTN","IBJDF811",56,0)
 S IB(8)=($P(IB(8),"^",1)+1)_"^"_($P(IB(8),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",57,0)
 Q
"RTN","IBJDF811",58,0)
 ;
"RTN","IBJDF811",59,0)
12 ; admin cost charge
"RTN","IBJDF811",60,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="ADMIN COST CHARGE"
"RTN","IBJDF811",61,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",62,0)
 Q
"RTN","IBJDF811",63,0)
 ;
"RTN","IBJDF811",64,0)
13 ; interest/admin charge
"RTN","IBJDF811",65,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="INTEREST/ADMIN CHARGE"
"RTN","IBJDF811",66,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",67,0)
 Q
"RTN","IBJDF811",68,0)
 ;
"RTN","IBJDF811",69,0)
14 ; exempt interest/admin cost
"RTN","IBJDF811",70,0)
 S TRXCAT=12,TRXCATN="EXEMPTION",TRXTYPN="EXEMPT INTEREST/ADMIN COST"
"RTN","IBJDF811",71,0)
 S IB(12)=($P(IB(12),"^",1)+1)_"^"_($P(IB(12),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",72,0)
 Q
"RTN","IBJDF811",73,0)
 ;
"RTN","IBJDF811",74,0)
15 ; incomplete
"RTN","IBJDF811",75,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="INCOMPLETE"
"RTN","IBJDF811",76,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",77,0)
 Q
"RTN","IBJDF811",78,0)
 ;
"RTN","IBJDF811",79,0)
16 ; active
"RTN","IBJDF811",80,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="ACTIVE"
"RTN","IBJDF811",81,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",82,0)
 Q
"RTN","IBJDF811",83,0)
 ;
"RTN","IBJDF811",84,0)
17 ; in-active
"RTN","IBJDF811",85,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="IN-ACTIVE"
"RTN","IBJDF811",86,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",87,0)
 Q
"RTN","IBJDF811",88,0)
 ;
"RTN","IBJDF811",89,0)
18 ; new bill
"RTN","IBJDF811",90,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="NEW BILL"
"RTN","IBJDF811",91,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",92,0)
 Q
"RTN","IBJDF811",93,0)
 ;
"RTN","IBJDF811",94,0)
19 ; suspense
"RTN","IBJDF811",95,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="SUSPENSE"
"RTN","IBJDF811",96,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",97,0)
 Q
"RTN","IBJDF811",98,0)
 ;
"RTN","IBJDF811",99,0)
20 ; pending approval
"RTN","IBJDF811",100,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="PENDING APPROVAL"
"RTN","IBJDF811",101,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",102,0)
 Q
"RTN","IBJDF811",103,0)
 ;
"RTN","IBJDF811",104,0)
21 ; pending calm code
"RTN","IBJDF811",105,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="PENDING CALM CODE"
"RTN","IBJDF811",106,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",107,0)
 Q
"RTN","IBJDF811",108,0)
 ;
"RTN","IBJDF811",109,0)
22 ; collected/closed
"RTN","IBJDF811",110,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="COLLECTED/CLOSED"
"RTN","IBJDF811",111,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",112,0)
 Q
"RTN","IBJDF811",113,0)
 ;
"RTN","IBJDF811",114,0)
23 ; write-off
"RTN","IBJDF811",115,0)
 S TRXCAT=7,TRXCATN="WRITE-OFF",TRXTYPN="WRITE-OFF"
"RTN","IBJDF811",116,0)
 S IB(7)=($P(IB(7),"^",1)+1)_"^"_($P(IB(7),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",117,0)
 Q
"RTN","IBJDF811",118,0)
 ;
"RTN","IBJDF811",119,0)
24 ; marshal/court cost
"RTN","IBJDF811",120,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="MARSHAL/COURT COST"
"RTN","IBJDF811",121,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",122,0)
 Q
"RTN","IBJDF811",123,0)
 ;
"RTN","IBJDF811",124,0)
25 ; repayment plan
"RTN","IBJDF811",125,0)
 S TRXCAT=11,(TRXCATN,TRXTYPN)="REPAYMENT PLAN"
"RTN","IBJDF811",126,0)
 S IB(11)=($P(IB(11),"^",1)+1)_"^"_($P(IB(11),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",127,0)
 Q
"RTN","IBJDF811",128,0)
 ;
"RTN","IBJDF811",129,0)
26 ; cancelled bill
"RTN","IBJDF811",130,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="CANCELLED BILL"
"RTN","IBJDF811",131,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",132,0)
 Q
"RTN","IBJDF811",133,0)
 ;
"RTN","IBJDF811",134,0)
27 ; bill incomplete
"RTN","IBJDF811",135,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="BILL INCOMPLETE"
"RTN","IBJDF811",136,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",137,0)
 Q
"RTN","IBJDF811",138,0)
 ;
"RTN","IBJDF811",139,0)
28 ; old bill
"RTN","IBJDF811",140,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="OLD BILL"
"RTN","IBJDF811",141,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",142,0)
 Q
"RTN","IBJDF811",143,0)
 ;
"RTN","IBJDF811",144,0)
29 ; terminate by RC
"RTN","IBJDF811",145,0)
 S TRXCAT=10,TRXCATN="COMPROMISED",TRXTYPN="TERMINATE BY RC"
"RTN","IBJDF811",146,0)
 S IB(10)=($P(IB(10),"^",1)+1)_"^"_($P(IB(10),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",147,0)
 Q
"RTN","IBJDF811",148,0)
 ;
"RTN","IBJDF811",149,0)
30 ; debit voucher (sf 5515)
"RTN","IBJDF811",150,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="DEBIT VOUCHER (SF 5515)"
"RTN","IBJDF811",151,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",152,0)
 Q
"RTN","IBJDF811",153,0)
 ;
"RTN","IBJDF811",154,0)
31 ; returned from ar (new)
"RTN","IBJDF811",155,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="RETURNED FROM AR (NEW)"
"RTN","IBJDF811",156,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",157,0)
 Q
"RTN","IBJDF811",158,0)
 ;
"RTN","IBJDF811",159,0)
32 ; returned for amendment
"RTN","IBJDF811",160,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="RETURNED FOR AMENDMENT"
"RTN","IBJDF811",161,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",162,0)
 Q
"RTN","IBJDF811",163,0)
 ;
"RTN","IBJDF811",164,0)
33 ; amended bill
"RTN","IBJDF811",165,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="AMENDED BILL"
"RTN","IBJDF811",166,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",167,0)
 Q
"RTN","IBJDF811",168,0)
 ;
"RTN","IBJDF811",169,0)
34 ; payment (in full)
"RTN","IBJDF811",170,0)
 S TRXCAT=3,TRXCATN="PAYMENT",TRXTYPN="PAYMENT (IN FULL)"
"RTN","IBJDF811",171,0)
 S IB(3)=($P(IB(3),"^",1)+1)_"^"_($P(IB(3),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",172,0)
 Q
"RTN","IBJDF811",173,0)
 ;
"RTN","IBJDF811",174,0)
35 ; decrease adjustment
"RTN","IBJDF811",175,0)
 I +IBCONT D
"RTN","IBJDF811",176,0)
 . S TRXCAT=5,TRXCATN="DEC.ADJ./CONTR",TRXTYPN="DEC.ADJ./CONTR"
"RTN","IBJDF811",177,0)
 . S IB(5)=($P(IB(5),"^",1)+1)_"^"_($P(IB(5),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",178,0)
 I '+IBCONT D
"RTN","IBJDF811",179,0)
 . S TRXCAT=6,TRXCATN="DEC.ADJ./NON-CONTR",TRXTYPN="DEC.ADJ./NON-CONTR"
"RTN","IBJDF811",180,0)
 . S IB(6)=($P(IB(6),"^",1)+1)_"^"_($P(IB(6),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",181,0)
 Q
"RTN","IBJDF811",182,0)
 ;
"RTN","IBJDF811",183,0)
36 ; delete (amend)
"RTN","IBJDF811",184,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="DELETE (AMEND)"
"RTN","IBJDF811",185,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",186,0)
 Q
"RTN","IBJDF811",187,0)
 ;
"RTN","IBJDF811",188,0)
37 ; add (amend)
"RTN","IBJDF811",189,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="ADD (AMEND)"
"RTN","IBJDF811",190,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",191,0)
 Q
"RTN","IBJDF811",192,0)
 ;
"RTN","IBJDF811",193,0)
38 ; amend
"RTN","IBJDF811",194,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="AMEND"
"RTN","IBJDF811",195,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",196,0)
 Q
"RTN","IBJDF811",197,0)
 ;
"RTN","IBJDF811",198,0)
39 ; cancellation
"RTN","IBJDF811",199,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="CANCELLATION"
"RTN","IBJDF811",200,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",201,0)
 Q
"RTN","IBJDF811",202,0)
 ;
"RTN","IBJDF811",203,0)
40 ; suspended
"RTN","IBJDF811",204,0)
 S TRXCAT=9,(TRXCATN,TRXTYPN)="SUSPENDED"
"RTN","IBJDF811",205,0)
 S IB(9)=($P(IB(9),"^",1)+1)_"^"_($P(IB(9),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",206,0)
 Q
"RTN","IBJDF811",207,0)
 ;
"RTN","IBJDF811",208,0)
41 ; refunded
"RTN","IBJDF811",209,0)
 S TRXCAT=4,TRXCATN="REFUND",TRXTYPN="REFUNDED"
"RTN","IBJDF811",210,0)
 S IB(4)=($P(IB(4),"^",1)+1)_"^"_($P(IB(4),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",211,0)
 Q
"RTN","IBJDF811",212,0)
 ;
"RTN","IBJDF811",213,0)
42 ; open
"RTN","IBJDF811",214,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="OPEN"
"RTN","IBJDF811",215,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",216,0)
 Q
"RTN","IBJDF811",217,0)
 ;
"RTN","IBJDF811",218,0)
43 ; re-establish
"RTN","IBJDF811",219,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="RE-ESTABLISH"
"RTN","IBJDF811",220,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",221,0)
 Q
"RTN","IBJDF811",222,0)
 ;
"RTN","IBJDF811",223,0)
44 ; refund review
"RTN","IBJDF811",224,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="REFUND REVIEW"
"RTN","IBJDF811",225,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",226,0)
 Q
"RTN","IBJDF811",227,0)
 ;
"RTN","IBJDF811",228,0)
45 ; comment
"RTN","IBJDF811",229,0)
 S TRXCAT=1,(TRXCATN,TRXTYPN)="COMMENT"
"RTN","IBJDF811",230,0)
 S IB(1)=($P(IB(1),"^",1)+1)_"^"_($P(IB(1),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",231,0)
 Q
"RTN","IBJDF811",232,0)
 ;
"RTN","IBJDF811",233,0)
46 ; unsuspended
"RTN","IBJDF811",234,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="UNSUSPENDED"
"RTN","IBJDF811",235,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",236,0)
 Q
"RTN","IBJDF811",237,0)
 ;
"RTN","IBJDF811",238,0)
47 ; charge suspended
"RTN","IBJDF811",239,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="CHARGE SUSPENDED"
"RTN","IBJDF811",240,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",241,0)
 Q
"RTN","IBJDF811",242,0)
 ;
"RTN","IBJDF811",243,0)
48 ; pending archive
"RTN","IBJDF811",244,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="PENDING ARCHIVE"
"RTN","IBJDF811",245,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",246,0)
 Q
"RTN","IBJDF811",247,0)
 ;
"RTN","IBJDF811",248,0)
49 ; archived
"RTN","IBJDF811",249,0)
 S TRXCAT=13,TRXCATN="OTHER",TRXTYPN="ARCHIVED"
"RTN","IBJDF811",250,0)
 S IB(13)=($P(IB(13),"^",1)+1)_"^"_($P(IB(13),"^",2)+IBTRAMT)_"^"_TRXCATN
"RTN","IBJDF811",251,0)
 Q
"RTN","IBJDF811",252,0)
 ;
"RTN","IBJDF8R")
0^8^B39999471
"RTN","IBJDF8R",1,0)
IBJDF8R ;ALB/RRG - AR WORKLOAD ASSIGNMENTS (PRINT) ;05-FEB-01
"RTN","IBJDF8R",2,0)
 ;;2.0;INTEGRATED BILLING;**123,159,192**;21-MAR-94
"RTN","IBJDF8R",3,0)
 ;
"RTN","IBJDF8R",4,0)
EN ; - Option entry point
"RTN","IBJDF8R",5,0)
 ;
"RTN","IBJDF8R",6,0)
CLK ; - Select one, more, or all clerks to print
"RTN","IBJDF8R",7,0)
 W !!,"Run list for (S)pecific clerks or (A)ll clerks: ALL// "
"RTN","IBJDF8R",8,0)
 R X:DTIME G:'$T!(X["^") ENQ S:X="" X="A" S X=$E(X)
"RTN","IBJDF8R",9,0)
 I "SAsa"'[X S IBOFF=61 D HELP^IBJDF8H G CLK
"RTN","IBJDF8R",10,0)
 W "  ",$S("Ss"[X:"SPECIFIC",1:"ALL") G:"Aa"[X DEV K IBSI
"RTN","IBJDF8R",11,0)
CLK1 S DIC="^IBE(351.73,",DIC(0)="AEQMZ"
"RTN","IBJDF8R",12,0)
 S DIC("A")="   Select "_$S($G(IBSI):"another ",1:"")_"Clerk: "
"RTN","IBJDF8R",13,0)
 D ^DIC K DIC I Y'>0 G ENQ:'$G(IBSI),DEV
"RTN","IBJDF8R",14,0)
 I $D(IBSI(+Y)) D  G CLK1
"RTN","IBJDF8R",15,0)
 . W !!?3,"Already selected. Choose another clerk.",!,*7
"RTN","IBJDF8R",16,0)
 S IBSI(+Y)="" S:'$G(IBSI) IBSI=1 G CLK1
"RTN","IBJDF8R",17,0)
 ;
"RTN","IBJDF8R",18,0)
DEV ; - Select a device
"RTN","IBJDF8R",19,0)
 W !!,"This report requires an 80 column printer."
"RTN","IBJDF8R",20,0)
 S %ZIS="QM" D ^%ZIS G:POP ENQ
"RTN","IBJDF8R",21,0)
 I $D(IO("Q")) D  G ENQ
"RTN","IBJDF8R",22,0)
 .S ZTRTN="PRINT^IBJDF8R",ZTDESC="IB - AR WORKLOAD ASSIGNMENTS LIST"
"RTN","IBJDF8R",23,0)
 .S ZTSAVE("IB*")="" D ^%ZTLOAD
"RTN","IBJDF8R",24,0)
 .I $G(ZTSK) W !!,"This job has been queued. The task no. is ",ZTSK,"."
"RTN","IBJDF8R",25,0)
 .E  W !!,"Unable to queue this job."
"RTN","IBJDF8R",26,0)
 .K ZTSK,IO("Q") D HOME^%ZIS
"RTN","IBJDF8R",27,0)
 ;
"RTN","IBJDF8R",28,0)
 U IO
"RTN","IBJDF8R",29,0)
 ;
"RTN","IBJDF8R",30,0)
PRINT ; - Print the AR Workload Assignments Report
"RTN","IBJDF8R",31,0)
 ; 
"RTN","IBJDF8R",32,0)
 S IBQ=0 D NOW^%DTC S IBRUN=$$DAT2^IBOUTL(%)
"RTN","IBJDF8R",33,0)
 S IBPAG=0
"RTN","IBJDF8R",34,0)
 ;
"RTN","IBJDF8R",35,0)
 I '$D(^IBE(351.73,0)) D  G ENQ
"RTN","IBJDF8R",36,0)
 . D @("HDR")
"RTN","IBJDF8R",37,0)
 . W !!,"There is no AR Workload Assignment information for the parameters selected."
"RTN","IBJDF8R",38,0)
 ;
"RTN","IBJDF8R",39,0)
 S IBPAG=0 D HDR G:IBQ ENQ
"RTN","IBJDF8R",40,0)
 ;
"RTN","IBJDF8R",41,0)
 I $G(IBSI) G PRINT1
"RTN","IBJDF8R",42,0)
 ;
"RTN","IBJDF8R",43,0)
 ; - print all clerks
"RTN","IBJDF8R",44,0)
 ;
"RTN","IBJDF8R",45,0)
 S (IBCLNUM,IBCLNAM,IBASNUM,IBPRO,IBASNDAT,IBBCAT,IBMIN,IBSUPER,IBEXCRC)=""
"RTN","IBJDF8R",46,0)
 ; retrieve clerk detail and print
"RTN","IBJDF8R",47,0)
 F  S IBCLNUM=$O(^IBE(351.73,IBCLNUM)) Q:IBCLNUM=""  D  Q:IBQ
"RTN","IBJDF8R",48,0)
 . S IBCLDAT=$G(^IBE(351.73,IBCLNUM,0)) Q:IBCLDAT=""
"RTN","IBJDF8R",49,0)
 . S IBCLNAM=$P(^VA(200,$P(IBCLNUM,"^",1),0),"^",1),IBPRO=$P(IBCLDAT,"^",2)
"RTN","IBJDF8R",50,0)
 . W !!!,IBCLNAM,?40,"Productivity report only? "
"RTN","IBJDF8R",51,0)
 . W ?67,$S(IBPRO=0:"NO",1:"YES")
"RTN","IBJDF8R",52,0)
 . I IBPRO=1 Q
"RTN","IBJDF8R",53,0)
 . ; retrieve assignment data and print
"RTN","IBJDF8R",54,0)
 . F  S IBASNUM=$O(^IBE(351.73,IBCLNUM,1,IBASNUM)) Q:IBASNUM=""  D  Q:IBQ
"RTN","IBJDF8R",55,0)
 . . S IBASNDAT=$G(^IBE(351.73,IBCLNUM,1,IBASNUM,0)) Q:IBASNDAT=""
"RTN","IBJDF8R",56,0)
 . . S IBBCAT=$P(IBASNDAT,"^",2),IBMIN=$P(IBASNDAT,"^",3)
"RTN","IBJDF8R",57,0)
 . . S IBSUPER=$P(IBASNDAT,"^",4),IBEXCRC=$P(IBASNDAT,"^",5)
"RTN","IBJDF8R",58,0)
 . . W !,"Assignment #: ",?15,IBASNUM,?20,"Bill Category: "
"RTN","IBJDF8R",59,0)
 . . W ?35,$E($P(^PRCA(430.2,IBBCAT,0),"^",1),1,18)
"RTN","IBJDF8R",60,0)
 . . W ?55,"Min Acct Bal: ",?69,$J($FN(IBMIN,",",2),10)
"RTN","IBJDF8R",61,0)
 . . W !,?20,"Supervisor: ",?35,$E($P($G(^VA(200,+IBSUPER,0)),"^",1),1,18)
"RTN","IBJDF8R",62,0)
 . . W ?55,"Exclude Reg Counsel: ",?75,$S(IBEXCRC=1:"YES",1:"NO")
"RTN","IBJDF8R",63,0)
 . . ; - Page Break
"RTN","IBJDF8R",64,0)
 . . I $Y>(IOSL-8) D PAUSE Q:IBQ  D HDR Q:IBQ
"RTN","IBJDF8R",65,0)
 . . ; print first party parameters if present
"RTN","IBJDF8R",66,0)
 . . I $D(^IBE(351.73,IBCLNUM,1,IBASNUM,1)) D FIRST
"RTN","IBJDF8R",67,0)
 . . ; print third party parameters if present
"RTN","IBJDF8R",68,0)
 . . I $D(^IBE(351.73,IBCLNUM,1,IBASNUM,2)) D THIRD
"RTN","IBJDF8R",69,0)
 . . ;
"RTN","IBJDF8R",70,0)
 . . ; - Page Break
"RTN","IBJDF8R",71,0)
 . . I $Y>(IOSL-6) D PAUSE Q:IBQ  D HDR Q:IBQ
"RTN","IBJDF8R",72,0)
 . . ;
"RTN","IBJDF8R",73,0)
 ;
"RTN","IBJDF8R",74,0)
 G ENQ:IBQ W !!,"------ End of Assignment List ------" D PAUSE
"RTN","IBJDF8R",75,0)
 G ENQ
"RTN","IBJDF8R",76,0)
 ;
"RTN","IBJDF8R",77,0)
PRINT1 ; - print selected clerks only
"RTN","IBJDF8R",78,0)
 ;
"RTN","IBJDF8R",79,0)
 S (IBCLNUM,IBCLNAM,IBASNUM,IBPRO,IBASNDAT,IBBCAT,IBMIN,IBSUPER,IBEXCRC)=""
"RTN","IBJDF8R",80,0)
 ; retrieve clerk detail and print
"RTN","IBJDF8R",81,0)
 F  S IBCLNUM=$O(IBSI(IBCLNUM)) Q:IBCLNUM=""  D  Q:IBQ
"RTN","IBJDF8R",82,0)
 . S IBCLDAT=$G(^IBE(351.73,IBCLNUM,0)) Q:IBCLDAT=""
"RTN","IBJDF8R",83,0)
 . S IBCLNAM=$P(^VA(200,$P(IBCLNUM,"^",1),0),"^",1),IBPRO=$P(IBCLDAT,"^",2)
"RTN","IBJDF8R",84,0)
 . W !!!,IBCLNAM,?40,"Productivity report only? "
"RTN","IBJDF8R",85,0)
 . W ?67,$S(IBPRO=0:"NO",1:"YES")
"RTN","IBJDF8R",86,0)
 . I IBPRO=1 Q
"RTN","IBJDF8R",87,0)
 . ; retrieve assignment data and print
"RTN","IBJDF8R",88,0)
 . F  S IBASNUM=$O(^IBE(351.73,IBCLNUM,1,IBASNUM)) Q:IBASNUM=""  D
"RTN","IBJDF8R",89,0)
 . . S IBASNDAT=$G(^IBE(351.73,IBCLNUM,1,IBASNUM,0)) Q:IBASNDAT=""
"RTN","IBJDF8R",90,0)
 . . S IBBCAT=$P(IBASNDAT,"^",2),IBMIN=$P(IBASNDAT,"^",3)
"RTN","IBJDF8R",91,0)
 . . S IBSUPER=$P(IBASNDAT,"^",4),IBEXCRC=$P(IBASNDAT,"^",5)
"RTN","IBJDF8R",92,0)
 . . W !,"Assignment #: ",?15,IBASNUM,?20,"Bill Category: "
"RTN","IBJDF8R",93,0)
 . . W ?35,$E($P(^PRCA(430.2,IBBCAT,0),"^",1),1,18)
"RTN","IBJDF8R",94,0)
 . . W ?55,"Min Acct Bal: ",?69,$J($FN(IBMIN,",",2),10)
"RTN","IBJDF8R",95,0)
 . . W !?20,"Supervisor: ",?35,$E($P($G(^VA(200,+IBSUPER,0)),"^",1),1,18)
"RTN","IBJDF8R",96,0)
 . . W ?55,"Exclude Reg Counsel: ",?75,$S(IBEXCRC=1:"YES",1:"NO")
"RTN","IBJDF8R",97,0)
 . . ; - page break
"RTN","IBJDF8R",98,0)
 . . I $Y>(IOSL-8) D PAUSE Q:IBQ  D HDR Q:IBQ
"RTN","IBJDF8R",99,0)
 . . ; print first party parameters if present
"RTN","IBJDF8R",100,0)
 . . I $D(^IBE(351.73,IBCLNUM,1,IBASNUM,1)) D FIRST
"RTN","IBJDF8R",101,0)
 . . ; print third party parameters if present
"RTN","IBJDF8R",102,0)
 . . I $D(^IBE(351.73,IBCLNUM,1,IBASNUM,2)) D THIRD
"RTN","IBJDF8R",103,0)
 . . ; - page break
"RTN","IBJDF8R",104,0)
 . . I $Y>(IOSL-6) D PAUSE Q:IBQ  D HDR Q:IBQ
"RTN","IBJDF8R",105,0)
 ;
"RTN","IBJDF8R",106,0)
 W !!,"------ End of Assignment List ------" D PAUSE
"RTN","IBJDF8R",107,0)
 ;
"RTN","IBJDF8R",108,0)
 ;
"RTN","IBJDF8R",109,0)
ENQ D ^%ZISC
"RTN","IBJDF8R",110,0)
 K IBPAG,IBQ,%,X,Y,IBX,DIR,DIRUT,DUOUT,DTOUT,DIROUT
"RTN","IBJDF8R",111,0)
 K IBCLNAM,IBCLNUM,IBASNUM,IBPRO,IBASNDAT,IBBCAT,IBMIN,IBSUPER
"RTN","IBJDF8R",112,0)
 K IBEXCRC,IBFPDAT,IBTPDAT,IBTOR,IBSI,IBCLDAT,IBOFF,IBRUN
"RTN","IBJDF8R",113,0)
 Q
"RTN","IBJDF8R",114,0)
 ;
"RTN","IBJDF8R",115,0)
HDR ; - Prints the Report Header
"RTN","IBJDF8R",116,0)
 ; 
"RTN","IBJDF8R",117,0)
 I IBPAG>0 W @IOF,*13
"RTN","IBJDF8R",118,0)
 S IBPAG=$G(IBPAG)+1
"RTN","IBJDF8R",119,0)
 W !,"AR Workload Assignments List",?35,"Run Date: ",IBRUN
"RTN","IBJDF8R",120,0)
 W ?70,"Page: ",$J(IBPAG,3)
"RTN","IBJDF8R",121,0)
 W !,$$DASH(IOM,0) S IBQ=$$STOP^IBOUTL("AR Workload Assignments List")
"RTN","IBJDF8R",122,0)
 Q
"RTN","IBJDF8R",123,0)
 ;
"RTN","IBJDF8R",124,0)
FIRST ; - Prints First Party Parameters
"RTN","IBJDF8R",125,0)
 ;
"RTN","IBJDF8R",126,0)
 S IBFPDAT=""
"RTN","IBJDF8R",127,0)
 S IBFPDAT=^IBE(351.73,IBCLNUM,1,IBASNUM,1)
"RTN","IBJDF8R",128,0)
 W !,"FIRST PARTY PARAMETERS:"
"RTN","IBJDF8R",129,0)
 W !,"Days Since Last Payment",?38,":",?40,$P(IBFPDAT,"^",1)
"RTN","IBJDF8R",130,0)
 W !,"First Patient Name",?38,":",?40,$P(IBFPDAT,"^",2)
"RTN","IBJDF8R",131,0)
 W !,"Last Patient Name",?38,":",?40,$P(IBFPDAT,"^",3)
"RTN","IBJDF8R",132,0)
 W !,"First Social Security Number",?38,":",?40,$P(IBFPDAT,"^",4)
"RTN","IBJDF8R",133,0)
 W !,"Last Social Security Number",?38,":",?40,$P(IBFPDAT,"^",5)
"RTN","IBJDF8R",134,0)
 Q
"RTN","IBJDF8R",135,0)
 ;
"RTN","IBJDF8R",136,0)
THIRD ; - Prints Third Party Parameters
"RTN","IBJDF8R",137,0)
 ;
"RTN","IBJDF8R",138,0)
 S (IBTPDAT,IBTOR)=""
"RTN","IBJDF8R",139,0)
 S IBTPDAT=^IBE(351.73,IBCLNUM,1,IBASNUM,2),IBTOR=$P(IBTPDAT,"^",8)
"RTN","IBJDF8R",140,0)
 W !,"THIRD PARTY PARAMETERS:"
"RTN","IBJDF8R",141,0)
 W !,"Days Since Last Transaction",?38,":",?40,$P(IBTPDAT,"^",1)
"RTN","IBJDF8R",142,0)
 W !,"First Insurance Carrier",?38,":",?40,$P(IBTPDAT,"^",2)
"RTN","IBJDF8R",143,0)
 W !,"Last Insurance Carrier",?38,":",?40,$P(IBTPDAT,"^",3)
"RTN","IBJDF8R",144,0)
 W !,"First Patient Name",?38,":",?40,$P(IBTPDAT,"^",4)
"RTN","IBJDF8R",145,0)
 W !,"Last Patient Name",?38,":",?40,$P(IBTPDAT,"^",5)
"RTN","IBJDF8R",146,0)
 W !,"First Social Security Number",?38,":",?40,$P(IBTPDAT,"^",6)
"RTN","IBJDF8R",147,0)
 W !,"Last Social Security Number",?38,":",?40,$P(IBTPDAT,"^",7)
"RTN","IBJDF8R",148,0)
 W !,"Type of Receivable",?38,":"
"RTN","IBJDF8R",149,0)
 W ?40,$S(IBTOR=1:"Inpatient",IBTOR=2:"Outpatient",IBTOR=3:"Pharmacy Refill",IBTOR=4:"All Receivables",1:"")
"RTN","IBJDF8R",150,0)
 Q
"RTN","IBJDF8R",151,0)
 ;
"RTN","IBJDF8R",152,0)
DASH(X,Y) ; - Return a dashed line.
"RTN","IBJDF8R",153,0)
 ; Input: X=Number of Columns (80 or 132), Y=Char to be printed
"RTN","IBJDF8R",154,0)
 ; 
"RTN","IBJDF8R",155,0)
 Q $TR($J("",X)," ",$S(Y:"-",1:"="))
"RTN","IBJDF8R",156,0)
 ;
"RTN","IBJDF8R",157,0)
PAUSE ; - Page break.
"RTN","IBJDF8R",158,0)
 ; 
"RTN","IBJDF8R",159,0)
 I $E(IOST,1,2)'="C-" Q
"RTN","IBJDF8R",160,0)
 N IBX,DIR,DIRUT,DUOUT,DTOUT,DIROUT,X,Y
"RTN","IBJDF8R",161,0)
 F IBX=$Y:1:(IOSL-3) W !
"RTN","IBJDF8R",162,0)
 S DIR(0)="E" D ^DIR S:$D(DIRUT)!($D(DUOUT)) IBQ=1
"RTN","IBJDF8R",163,0)
 Q
"RTN","IBJDF8R",164,0)
 ;
"RTN","IBJDF8R",165,0)
DT(X) ; - Return date.
"RTN","IBJDF8R",166,0)
 ;    Input: X=Date in Fileman format
"RTN","IBJDF8R",167,0)
 ;   Output: Z=Date in MMDDYY format
"RTN","IBJDF8R",168,0)
 ;
"RTN","IBJDF8R",169,0)
 Q $E(X,4,7)_$E(X,2,3)
"RTN","IBTUBO")
0^9^B16608790
"RTN","IBTUBO",1,0)
IBTUBO ;ALB/AAS - UNBILLED AMOUNTS - GENERATE UNBILLED REPORTS ;29-SEP-94
"RTN","IBTUBO",2,0)
 ;;2.0;INTEGRATED BILLING;**19,31,32,91,123,159,192**;21-MAR-94
"RTN","IBTUBO",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IBTUBO",4,0)
 ;
"RTN","IBTUBO",5,0)
% ; - Entry point for manual option.
"RTN","IBTUBO",6,0)
 N IBBDT,IBCOMP,IBDET,IBEDT,IBOPT,IBPRT,IBTIMON,IBQUIT,IBSEL
"RTN","IBTUBO",7,0)
 S IBQUIT=0 D:'$D(DT) DT^DICRW
"RTN","IBTUBO",8,0)
 W !!,"Re-Generate Unbilled Amounts Report",!
"RTN","IBTUBO",9,0)
 ;
"RTN","IBTUBO",10,0)
 ; - Ask to re-compile Unbilled Amounts data.
"RTN","IBTUBO",11,0)
 S DIR(0)="Y",DIR("B")="NO"
"RTN","IBTUBO",12,0)
 S DIR("A")="Do you want to store Unbilled Amounts figures"
"RTN","IBTUBO",13,0)
 S DIR("?",1)="Enter 'YES' if you wish to store the Unbilled Amounts summary"
"RTN","IBTUBO",14,0)
 S DIR("?",2)="figures in your system for a specific month/year in the past."
"RTN","IBTUBO",15,0)
 S DIR("?",3)="Once stored, these figures will be available for inquiry through"
"RTN","IBTUBO",16,0)
 S DIR("?",4)="the View Unbilled Amounts option [IBT VIEW UNBILLED AMOUNTS]."
"RTN","IBTUBO",17,0)
 S DIR("?",5)="These summary figures are normally calculated and stored"
"RTN","IBTUBO",18,0)
 S DIR("?",6)="automatically by the system at the beginning of each month for"
"RTN","IBTUBO",19,0)
 S DIR("?",7)="the previous month."
"RTN","IBTUBO",20,0)
 S DIR("?",8)=" "
"RTN","IBTUBO",21,0)
 S DIR("?",9)="If you enter 'NO', the Unbilled Amounts summary figures will"
"RTN","IBTUBO",22,0)
 S DIR("?",10)="NOT be stored in your system, and the report may be run for"
"RTN","IBTUBO",23,0)
 S DIR("?")="any date range."
"RTN","IBTUBO",24,0)
 D ^DIR K DIR G:$D(DIRUT) END S IBCOMP=Y
"RTN","IBTUBO",25,0)
 I IBCOMP G RDATE
"RTN","IBTUBO",26,0)
 ;
"RTN","IBTUBO",27,0)
 ; - Select date(s) to build report.
"RTN","IBTUBO",28,0)
 W ! D DT1^IBTUBOU G:IBBDT="^" END
"RTN","IBTUBO",29,0)
 ;
"RTN","IBTUBO",30,0)
 ; - Select report(s).
"RTN","IBTUBO",31,0)
 S IBPRT="Choose report type(s) to print:"
"RTN","IBTUBO",32,0)
 S IBOPT(1)="INPATIENT UNBILLED"
"RTN","IBTUBO",33,0)
 S IBOPT(2)="OUTPATIENT UNBILLED"
"RTN","IBTUBO",34,0)
 S IBOPT(3)="PRESCRIPTION UNBILLED"
"RTN","IBTUBO",35,0)
 S IBOPT(4)="ALL OF THE ABOVE"
"RTN","IBTUBO",36,0)
 S IBSEL=$$MLTP^IBJD(IBPRT,.IBOPT,1) I 'IBSEL G END
"RTN","IBTUBO",37,0)
 S $E(IBSEL,$L(IBSEL))=""
"RTN","IBTUBO",38,0)
 ;
"RTN","IBTUBO",39,0)
RDATE ; - Select re-compile date, if necessary.
"RTN","IBTUBO",40,0)
 I IBCOMP D  G END:IBTIMON="^",DET
"RTN","IBTUBO",41,0)
 . W ! D DT2^IBTUBOU("Unbilled Amounts") Q:IBTIMON="^"
"RTN","IBTUBO",42,0)
 . W !!,"NOTE: Just a reminder that by entering the above month/year this"
"RTN","IBTUBO",43,0)
 . W !,"      report will re-calculate and update the Unbilled Amounts"
"RTN","IBTUBO",44,0)
 . W !,"      data on file in your system.",*7
"RTN","IBTUBO",45,0)
 . ;
"RTN","IBTUBO",46,0)
 . ; - Initialize variables
"RTN","IBTUBO",47,0)
 . N X S X=$$M2^IBJDE(IBTIMON,11,11)
"RTN","IBTUBO",48,0)
 . S IBBDT=+X,IBEDT=$P(X,U,2)+.9,IBSEL="1,2,3"
"RTN","IBTUBO",49,0)
 . D MSG W !
"RTN","IBTUBO",50,0)
 ;
"RTN","IBTUBO",51,0)
 S IBTIMON=IBEDT\100*100
"RTN","IBTUBO",52,0)
 ;
"RTN","IBTUBO",53,0)
DET ; - Ask to print detail report.
"RTN","IBTUBO",54,0)
 S DIR(0)="Y",DIR("B")="NO" W !
"RTN","IBTUBO",55,0)
 S DIR("A")="Print detail report with the Unbilled Amounts summary"
"RTN","IBTUBO",56,0)
 S DIR("?",1)="Answer YES if you want a detailed listing of the patients"
"RTN","IBTUBO",57,0)
 S DIR("?",2)="and events that are unbilled. Answer NO if you just want"
"RTN","IBTUBO",58,0)
 S DIR("?")="the summary, or '^' to quit this option."
"RTN","IBTUBO",59,0)
 D ^DIR K DIR G:$D(DIRUT) END S IBDET=Y G:'IBDET QUE
"RTN","IBTUBO",60,0)
 ;
"RTN","IBTUBO",61,0)
 ; - Select device to print.
"RTN","IBTUBO",62,0)
 W !!,"This report takes a while to run, so you should queue it to run"
"RTN","IBTUBO",63,0)
 W !,"after normal business hours."
"RTN","IBTUBO",64,0)
 W !!,"You will need a 132 column printer for this report!",!
"RTN","IBTUBO",65,0)
 S %ZIS="QM" D ^%ZIS G END:POP,QUE:$D(IO("Q"))
"RTN","IBTUBO",66,0)
 ;
"RTN","IBTUBO",67,0)
 U IO G STR
"RTN","IBTUBO",68,0)
 ;
"RTN","IBTUBO",69,0)
QUE ; - Queue report/summary, if necessary.
"RTN","IBTUBO",70,0)
 W ! I 'IBDET S ZTIO=""
"RTN","IBTUBO",71,0)
 S ZTRTN="IBTUBOA",ZTSAVE("IB*")=""
"RTN","IBTUBO",72,0)
 S ZTDESC="IB - Unbilled Amounts Report"
"RTN","IBTUBO",73,0)
 D ^%ZTLOAD K IO("Q"),ZTSK
"RTN","IBTUBO",74,0)
 D HOME^%ZIS G END
"RTN","IBTUBO",75,0)
 ;
"RTN","IBTUBO",76,0)
AUTO ; - Entry point for scheduled option.
"RTN","IBTUBO",77,0)
 Q  ;;**NO LONGER USED**
"RTN","IBTUBO",78,0)
 ;
"RTN","IBTUBO",79,0)
DQ ; - Entry point for DM extract.
"RTN","IBTUBO",80,0)
 ; - If AUTO PRINT UNBILLED LIST=yes and default report printer then
"RTN","IBTUBO",81,0)
 ;   automatically requeue to device.
"RTN","IBTUBO",82,0)
 I $P(^IBE(350.9,1,6),U,24) D  G END:'$G(IBXTRACT)
"RTN","IBTUBO",83,0)
 . N X S X=$O(^IBE(353,"B","IB REPORTS",0))
"RTN","IBTUBO",84,0)
 . S ZTIO=$P($G(^IBE(353,+X,0)),U,2) Q:ZTIO=""
"RTN","IBTUBO",85,0)
 . S IBDET=1,IBXTRACT=0,ZTDTH=$H,ZTRTN="IBTUBOA",ZTSAVE("IB*")=""
"RTN","IBTUBO",86,0)
 . S ZTDESC="IB - Unbilled Amounts Report" D ^%ZTLOAD
"RTN","IBTUBO",87,0)
 . S IBDET=0,IBXTRACT=1
"RTN","IBTUBO",88,0)
 . K ZTDESC,ZTDTH,ZTRTN,ZTSAVE,ZTSK
"RTN","IBTUBO",89,0)
 ;
"RTN","IBTUBO",90,0)
STR D ^IBTUBOA ; Start report.
"RTN","IBTUBO",91,0)
 ;
"RTN","IBTUBO",92,0)
END K DIRUT Q
"RTN","IBTUBO",93,0)
 ;
"RTN","IBTUBO",94,0)
MSG ; - Compile message.
"RTN","IBTUBO",95,0)
 W !!,"NOTE: After this report is run, the Unbilled Amounts totals for"
"RTN","IBTUBO",96,0)
 W !?6,"the month of "_$$DAT2^IBOUTL(IBTIMON)_" will be updated."
"RTN","IBTUBO",97,0)
 Q
"RTN","IBTUBO2")
0^11^B17259503
"RTN","IBTUBO2",1,0)
IBTUBO2 ;ALB/AAS - UNBILLED AMOUNTS - GENERATE UNBILLED REPORTS ;29-SEP-94
"RTN","IBTUBO2",2,0)
 ;;2.0;INTEGRATED BILLING;**19,31,32,91,123,159,192**;21-MAR-94
"RTN","IBTUBO2",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IBTUBO2",4,0)
 ;
"RTN","IBTUBO2",5,0)
INPT(DGPM) ; - Check if inpatient episode has bills or final bill; if not,
"RTN","IBTUBO2",6,0)
 ;   ^TMP($J,"IBTUB-INPT",NAME@@DFN,DATE,IBX)=bill status
"RTN","IBTUBO2",7,0)
 ;   *Pre-set variables: DFN=patient IEN, DGPM=pointer to file #405,
"RTN","IBTUBO2",8,0)
 ;                       IBDT=event date, IBRT=bill rate,
"RTN","IBTUBO2",9,0)
 ;                       IBEDT=reporting period date
"RTN","IBTUBO2",10,0)
 I '$G(DFN)!('$G(DGPM))!('$G(IBDT))!('$G(IBRT)) G INPTQ
"RTN","IBTUBO2",11,0)
 N IBIP,IBDATA,IBNAME,IBNCF,IBXX,X,Y
"RTN","IBTUBO2",12,0)
 S IBNAME=$P($G(^DPT(DFN,0)),U)
"RTN","IBTUBO2",13,0)
 I $D(^TMP($J,"IBTUB-INPT",IBNAME_"@@"_DFN,IBDT)) G INPTQ
"RTN","IBTUBO2",14,0)
 I $P($G(^DGPM(DGPM,0)),U,11) G INPTQ ;      Admitted for SC condition.
"RTN","IBTUBO2",15,0)
 I $$SC^IBTUBOU($P($G(^DGPM(DGPM,0)),U,16)) G INPTQ ; Check PTF for SC.
"RTN","IBTUBO2",16,0)
 S (IBIP(1),IBIP(2))=0 ; Set claim flags.
"RTN","IBTUBO2",17,0)
 ;
"RTN","IBTUBO2",18,0)
 ; - Check patient's claims.
"RTN","IBTUBO2",19,0)
 S (IBNCF,X)=0
"RTN","IBTUBO2",20,0)
 F  S X=$O(^DGCR(399,"C",DFN,X)) Q:'X  D  Q:IBIP(1)&(IBIP(2))
"RTN","IBTUBO2",21,0)
 . S IBDATA=$$CKBIL^IBTUBOU(X,1) Q:IBDATA=""
"RTN","IBTUBO2",22,0)
 . ;
"RTN","IBTUBO2",23,0)
 . ; The admission date on the bill is different from the Event date.
"RTN","IBTUBO2",24,0)
 . I $P(IBDATA,U,5)'=$P(IBDT,".") Q
"RTN","IBTUBO2",25,0)
 . S IBNCF=IBNCF+1  ; Increment the number of bills on file for the episode
"RTN","IBTUBO2",26,0)
 . ;
"RTN","IBTUBO2",27,0)
 . ; If Compile/Store & Not authorized before reporting period - Quit.
"RTN","IBTUBO2",28,0)
 . I $G(IBCOMP),$P(IBDATA,U,3)>IBEDT Q
"RTN","IBTUBO2",29,0)
 . ;
"RTN","IBTUBO2",30,0)
 . S IBIP($P(IBDATA,U,4))=1 ;   Episode billed for bill type.
"RTN","IBTUBO2",31,0)
 ;
"RTN","IBTUBO2",32,0)
 I IBIP(1) G:IBIP(2)!(IBDT<2990901) INPTQ ; Episode is billed.
"RTN","IBTUBO2",33,0)
 ;
"RTN","IBTUBO2",34,0)
 ; - Add to episodes missing inst./prof. bills.
"RTN","IBTUBO2",35,0)
 S IBXX="" I 'IBIP(1) D
"RTN","IBTUBO2",36,0)
 . S IBUNB("EPISM-I")=IBUNB("EPISM-I")+1 S:IBDET IBXX="I"
"RTN","IBTUBO2",37,0)
 . I $G(IBXTRACT) S IB(1)=IB(1)+1 ; For DM extract.
"RTN","IBTUBO2",38,0)
 ;
"RTN","IBTUBO2",39,0)
 I 'IBIP(2),IBDT'<2990901 D
"RTN","IBTUBO2",40,0)
 . S IBUNB("EPISM-P")=IBUNB("EPISM-P")+1
"RTN","IBTUBO2",41,0)
 . I IBDET S IBXX=$S(IBXX="I":"I,P",1:"P")
"RTN","IBTUBO2",42,0)
 . I $G(IBXTRACT) S IB(3)=IB(3)+1 ; For DM extract.
"RTN","IBTUBO2",43,0)
 ;
"RTN","IBTUBO2",44,0)
 S IBUNB("EPISM-A")=IBUNB("EPISM-A")+1  ; Number of Admissions missing claims
"RTN","IBTUBO2",45,0)
 I $G(IBXTRACT) S IB(5)=IB(5)+1 ; For DM extract.
"RTN","IBTUBO2",46,0)
 ;
"RTN","IBTUBO2",47,0)
 ; - Set global for report.
"RTN","IBTUBO2",48,0)
 S ^TMP($J,"IBTUB-INPT",IBNAME_"@@"_DFN,IBDT,IBX)=IBNCF_U_IBXX_U_U_U_$$HOSP^IBTUBOU(DGPM)
"RTN","IBTUBO2",49,0)
 ;
"RTN","IBTUBO2",50,0)
INPTQ Q
"RTN","IBTUBO2",51,0)
 ;
"RTN","IBTUBO2",52,0)
RX(IBRX) ; - Check if prescription has been billed; if not,
"RTN","IBTUBO2",53,0)
 ;   ^TMP($J,"IBTUB-RX",NAME@@DFN,DATE@RX#,IBX)=bill status^drug name^
"RTN","IBTUBO2",54,0)
 ;                                            original fill date
"RTN","IBTUBO2",55,0)
 ;   *Pre-set variables: DFN=patient IEN, IBDT=refill date,
"RTN","IBTUBO2",56,0)
 ;                       IBRT=bill rate, IBRX=pointer to file #52,
"RTN","IBTUBO2",57,0)
 ;                       IBEDT=reporting period date
"RTN","IBTUBO2",58,0)
 I '$G(DFN)!('$G(IBDT))!('$G(IBRT))!('$G(IBRX)) G RXQ
"RTN","IBTUBO2",59,0)
 N IBDATA,IBDAY,IBDRX,IBFL,IBFLG,IBOFD,IBNAME,IBND,IBNO,IBNCF,RX,X,RXDT
"RTN","IBTUBO2",60,0)
 ;
"RTN","IBTUBO2",61,0)
 ; - Be sure prescription has an RX#.
"RTN","IBTUBO2",62,0)
 S IBND=$G(^PSRX(IBRX,0)),IBNO=$P(IBND,U) G:IBNO="" RXQ
"RTN","IBTUBO2",63,0)
 ;
"RTN","IBTUBO2",64,0)
 ; - Retrieve the Prescription Original Fill Date
"RTN","IBTUBO2",65,0)
 S IBOFD=$P($G(^PSRX(IBRX,2)),"^",2)\1
"RTN","IBTUBO2",66,0)
 ;
"RTN","IBTUBO2",67,0)
 S IBDAY=$E(IBDT,1,7),IBDRX=IBDAY_"@@"_IBNO,IBNAME=$P($G(^DPT(DFN,0)),U)
"RTN","IBTUBO2",68,0)
 ;
"RTN","IBTUBO2",69,0)
 ; - Be sure that this fill was not already marked as unbilled.
"RTN","IBTUBO2",70,0)
 I $D(^TMP($J,"IBTUB-RX",IBNAME_"@@"_DFN,IBDRX,IBX)) G RXQ
"RTN","IBTUBO2",71,0)
 ;
"RTN","IBTUBO2",72,0)
 ; - Look at all fills of the prescription that are on a claim.
"RTN","IBTUBO2",73,0)
 S (IBFL,X)="",(IBFLG,IBNCF)=0
"RTN","IBTUBO2",74,0)
 F  S X=$O(^IBA(362.4,"B",IBNO,X)) Q:'X  D  Q:IBFL
"RTN","IBTUBO2",75,0)
 . S RX=$G(^IBA(362.4,X,0)),RXDT=$P(RX,U,3)\1
"RTN","IBTUBO2",76,0)
 . I RXDT=IBOFD S IBFLG=1  ; Original Fill Date Billed?
"RTN","IBTUBO2",77,0)
 . I RXDT'=IBDAY Q  ; RX refill and claim refill dates not the same.
"RTN","IBTUBO2",78,0)
 . ;
"RTN","IBTUBO2",79,0)
 . ; - Skip bill if not authorized (and not meeting other criteria).
"RTN","IBTUBO2",80,0)
 . S IBDATA=$$CKBIL^IBTUBOU($P(RX,U,2)) Q:IBDATA=""
"RTN","IBTUBO2",81,0)
 . S IBNCF=IBNCF+1  ; Increment the number of bills on file for the episode
"RTN","IBTUBO2",82,0)
 . ;
"RTN","IBTUBO2",83,0)
 . ; If Compile/Store & Not authorized before reporting period - Quit.
"RTN","IBTUBO2",84,0)
 . I $G(IBCOMP),$P(IBDATA,U,3)>IBEDT Q
"RTN","IBTUBO2",85,0)
 . S IBFL=1 ;                   Refill has been billed.
"RTN","IBTUBO2",86,0)
 ;
"RTN","IBTUBO2",87,0)
 I IBFL G RXQ ; Refill has been billed.
"RTN","IBTUBO2",88,0)
 ;
"RTN","IBTUBO2",89,0)
RX1 ; - Calculate unbilled amounts.
"RTN","IBTUBO2",90,0)
 S IBUNB("PRESCRP")=IBUNB("PRESCRP")+1
"RTN","IBTUBO2",91,0)
 S IBUNB("UNBILRX")=IBUNB("UNBILRX")+$$BICOST^IBCRCI(IBRT,3,IBDAY,"PRESCRIPTION FILL")
"RTN","IBTUBO2",92,0)
 I $G(IBXTRACT) D  ; For DM extract.
"RTN","IBTUBO2",93,0)
 . S IB(17)=IB(17)+1
"RTN","IBTUBO2",94,0)
 . S IB(18)=IB(18)+$$BICOST^IBCRCI(IBRT,3,IBDAY,"PRESCRIPTION FILL")
"RTN","IBTUBO2",95,0)
 ;
"RTN","IBTUBO2",96,0)
 ; - Set global for report.
"RTN","IBTUBO2",97,0)
 S ^TMP($J,"IBTUB-RX",IBNAME_"@@"_DFN,IBDRX,IBX)=IBNCF_U_$P($G(^VA(200,+$P(IBND,U,4),0)),U)_U_$P($G(^PSRX(IBRX,2)),U,2)_U_U_IBFLG_U_$P($G(^PSDRUG(+$P(IBND,U,6),0)),U)
"RTN","IBTUBO2",98,0)
 ;
"RTN","IBTUBO2",99,0)
RXQ Q
"RTN","IBTUBO3")
0^12^B20012285
"RTN","IBTUBO3",1,0)
IBTUBO3 ;ALB/RB - UNBILLED AMOUNTS - GENERATE UNBILLED REPORTS ;01-JAN-01
"RTN","IBTUBO3",2,0)
 ;;2.0;INTEGRATED BILLING;**123,159,192**;21-MAR-94
"RTN","IBTUBO3",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IBTUBO3",4,0)
 ;
"RTN","IBTUBO3",5,0)
REPORT ; - Prepare report if requested, send summary bulletin.
"RTN","IBTUBO3",6,0)
 N IBRUN,IBN,IBPAG,IBQ,DFN,DTE,FL,PT,X0,X1
"RTN","IBTUBO3",7,0)
 S IBRUN=$$HTE^XLFDT($H,1)
"RTN","IBTUBO3",8,0)
 D BULL^IBTUBUL G:'IBDET REPRTQ
"RTN","IBTUBO3",9,0)
 ;
"RTN","IBTUBO3",10,0)
REPRT1 S (IBPAG,IBQ,IBX)=0
"RTN","IBTUBO3",11,0)
 I '$D(^TMP($J)) S X0="" D HDR,NIM D:'IBQ PAUSE G REPRTQ
"RTN","IBTUBO3",12,0)
 F X0=1,2,3 I IBSEL[X0 D  Q:IBQ
"RTN","IBTUBO3",13,0)
 . S X1="IBTUB-"_$S(X0=2:"OPT",X0=3:"RX",1:"INPT")
"RTN","IBTUBO3",14,0)
 . D HDR Q:IBQ  I '$D(^TMP($J,X1)) D NIM Q
"RTN","IBTUBO3",15,0)
 . S PT="" F  S PT=$O(^TMP($J,X1,PT)) Q:PT=""  D  Q:IBQ
"RTN","IBTUBO3",16,0)
 . . S DFN=+$P(PT,"@@",2) Q:'DFN
"RTN","IBTUBO3",17,0)
 . . S (DTE,FL)="" F  S DTE=$O(^TMP($J,X1,PT,DTE)) Q:DTE=""  D  Q:IBQ
"RTN","IBTUBO3",18,0)
 . . . S IBX="" F  S IBX=$O(^TMP($J,X1,PT,DTE,IBX)) Q:IBX=""  D  Q:IBQ
"RTN","IBTUBO3",19,0)
 . . . . S IBN=^TMP($J,X1,PT,DTE,IBX) D LINE Q:IBQ  I X1["OPT" D CPTS Q:IBQ
"RTN","IBTUBO3",20,0)
 ;
"RTN","IBTUBO3",21,0)
 D:'IBQ PAUSE
"RTN","IBTUBO3",22,0)
 ;
"RTN","IBTUBO3",23,0)
REPRTQ Q
"RTN","IBTUBO3",24,0)
 ;
"RTN","IBTUBO3",25,0)
HDR ; - Output header.
"RTN","IBTUBO3",26,0)
 N I,X,XTP
"RTN","IBTUBO3",27,0)
 I $E(IOST,1,2)="C-",IBPAG D PAUSE G HDRQ:IBQ
"RTN","IBTUBO3",28,0)
 W:'$G(IBPAG) ! I $E(IOST,1,2)="C-"!$G(IBPAG) W @IOF,*13
"RTN","IBTUBO3",29,0)
 S IBPAG=$G(IBPAG)+1 W !,"Unbilled Amounts Report"
"RTN","IBTUBO3",30,0)
 W ?60,"Run Date: ",IBRUN,?124,"Page ",$J(IBPAG,3)
"RTN","IBTUBO3",31,0)
 S XTP=$S(X0=1:"INPATIENT",X0=2:"OUTPATIENT",X0=3:"PRESCRIPTIONS",1:"")
"RTN","IBTUBO3",32,0)
 S:X0'=3 XTP=XTP_" EPISODES" S X="ALL "_XTP_" FROM "
"RTN","IBTUBO3",33,0)
 S X=X_$$DTE(IBBDT)_" TO "_$$DTE(IBEDT\1)
"RTN","IBTUBO3",34,0)
 I $G(IBCOMP) D
"RTN","IBTUBO3",35,0)
 .S X=X_" / DATA RECOMPILED/STORED FOR "_$$DAT2^IBOUTL(IBTIMON)
"RTN","IBTUBO3",36,0)
 S X=X_" / '*' AFTER THE PATIENT NAME = USUALLY BILLED MEANS TEST COPAYMENT"
"RTN","IBTUBO3",37,0)
 I X0=1 S X=X_" / 'H' AFTER THE ADMISSION DATE = PATIENT CURRENTLY HOSPITALIZED"
"RTN","IBTUBO3",38,0)
 I X0=3 S X=X_" / '$' AFTER THE ORIGINAL FILL DATE = ORIGINAL FILL DATE HAS BEEN BILLED"
"RTN","IBTUBO3",39,0)
 S X=X_" / 'CF' COLUMN = NUMBER OF CLAIMS ON FILE FOR THE EPISODE"
"RTN","IBTUBO3",40,0)
 I X0'=3 D
"RTN","IBTUBO3",41,0)
 .S X=X_" / 'I/P' COLUMN = 'I' - INSTUTIONAL CLAIM MISSING,"
"RTN","IBTUBO3",42,0)
 .S X=X_" 'P' - PROFESSIONAL CLAIM MISSING"
"RTN","IBTUBO3",43,0)
 F I=1:1 W !,$E(X,1,132) S X=$E(X,133,999) Q:X=""
"RTN","IBTUBO3",44,0)
 ;
"RTN","IBTUBO3",45,0)
 I 'X0 W !,$TR($J(" ",IOM)," ","-"),! G HDRQ
"RTN","IBTUBO3",46,0)
 W !!?29,"Last Prim.  Claims" W:X0=3 ?52,"Fill",?123,"Original"
"RTN","IBTUBO3",47,0)
 W !,"Name",?29,"4SSN Elig.  Track.ID#"
"RTN","IBTUBO3",48,0)
 I X0=1 W ?52,"Admission CF Insurance Carrier(s)",?102,"I/P"
"RTN","IBTUBO3",49,0)
 I X0=2 W ?52,"Care Dt.  CF Insurance Carrier(s)",?102,"I/P",?107,"CPT     I. Rate   P. Rate"
"RTN","IBTUBO3",50,0)
 I X0=3 W ?52,"Date     CF Insurance Carrier(s)     Drug Name        Physician",?123,"Fill Dt."
"RTN","IBTUBO3",51,0)
 W !,$TR($J(" ",IOM)," ","-"),!
"RTN","IBTUBO3",52,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD D
"RTN","IBTUBO3",53,0)
 . W !!,"...Task stoped at user request" S (IBQ,ZTSTOP)=1
"RTN","IBTUBO3",54,0)
 ;
"RTN","IBTUBO3",55,0)
HDRQ Q
"RTN","IBTUBO3",56,0)
 ;
"RTN","IBTUBO3",57,0)
CPTS ; - Outpatient Only (CPTs and Rates)
"RTN","IBTUBO3",58,0)
 N CPT,IBN1
"RTN","IBTUBO3",59,0)
 I '$O(^TMP($J,X1,PT,DTE,IBX,0)) W ?102,"I",! Q
"RTN","IBTUBO3",60,0)
 S CPT=0 F  S CPT=$O(^TMP($J,X1,PT,DTE,IBX,CPT)) Q:'CPT  D  Q:IBQ
"RTN","IBTUBO3",61,0)
 . S IBN1=^TMP($J,X1,PT,DTE,IBX,CPT)
"RTN","IBTUBO3",62,0)
 . I $Y>(IOSL-5) D HDR Q:IBQ  S FL=0 D LINE
"RTN","IBTUBO3",63,0)
 . W ?102,$P(IBN1,U,3),?107,CPT,?114,$J(+IBN1,8,2)
"RTN","IBTUBO3",64,0)
 . W ?124,$J($P(IBN1,U,2),8,2),!
"RTN","IBTUBO3",65,0)
 Q
"RTN","IBTUBO3",66,0)
 ;
"RTN","IBTUBO3",67,0)
LINE ; - Print detail line.
"RTN","IBTUBO3",68,0)
 I $Y>(IOSL-6) D HDR G:IBQ LINQ S FL=0
"RTN","IBTUBO3",69,0)
 I 'FL D
"RTN","IBTUBO3",70,0)
 . W $E($P(PT,"@@"),1,26) I $$BIL^DGMTUB(DFN,+DTE) W " *"
"RTN","IBTUBO3",71,0)
 . W ?29,$$SSN(DFN),?34,$E($$ELIG(DFN),1,5) S FL=1
"RTN","IBTUBO3",72,0)
 ;
"RTN","IBTUBO3",73,0)
 W ?39,$J(IBX,11)
"RTN","IBTUBO3",74,0)
 ; - Inpatient and Outpatient Only
"RTN","IBTUBO3",75,0)
 I X1'["RX" D
"RTN","IBTUBO3",76,0)
 . W ?52,$$DTE(+DTE) W:X1["INPT" $S($P(IBN,U,5):"H",1:"")
"RTN","IBTUBO3",77,0)
 . W ?62,$J($P(IBN,U),2),?65,$$INS(DFN,+DTE,36)
"RTN","IBTUBO3",78,0)
 . I X1["INPT" W ?102,$P(IBN,U,2),!
"RTN","IBTUBO3",79,0)
 ;
"RTN","IBTUBO3",80,0)
 ; - Pharmacy Only
"RTN","IBTUBO3",81,0)
 I X1["RX" D  G LINQ
"RTN","IBTUBO3",82,0)
 . W ?52,$$DTE(+DTE),?61,$J($P(IBN,U),2),?64,$$INS(DFN,+DTE,23)
"RTN","IBTUBO3",83,0)
 . W ?89,$E($P(IBN,U,6),1,15),?106,$E($P(IBN,U,2),1,16)
"RTN","IBTUBO3",84,0)
 . W ?123,$$DTE($P(IBN,U,3)) W:$P(IBN,"^",5) "$" W !
"RTN","IBTUBO3",85,0)
 ;
"RTN","IBTUBO3",86,0)
LINQ Q
"RTN","IBTUBO3",87,0)
 ;
"RTN","IBTUBO3",88,0)
SSN(DFN) ; - Return last 4 of patient's SSN.
"RTN","IBTUBO3",89,0)
 N SSN,VADM
"RTN","IBTUBO3",90,0)
 D DEM^VADPT S SSN=$P(VADM(2),"^"),SSN=$E(SSN,6,9) D KVA^VADPT
"RTN","IBTUBO3",91,0)
 Q SSN
"RTN","IBTUBO3",92,0)
 ;
"RTN","IBTUBO3",93,0)
ELIG(DFN) ; - Return patient's primary eligibility (1st 10 characters).
"RTN","IBTUBO3",94,0)
 N ELIG,VAEL
"RTN","IBTUBO3",95,0)
 D ELIG^VADPT S ELIG=$E($P(VAEL(1),"^",2),1,10) D KVAR^VADPT
"RTN","IBTUBO3",96,0)
 Q ELIG
"RTN","IBTUBO3",97,0)
 ;
"RTN","IBTUBO3",98,0)
DTE(D) ; - Format date (MM/DD/YY or MM/YY).
"RTN","IBTUBO3",99,0)
 Q $S('$G(D):"",1:$E(D,4,5)_"/"_$S($E(D,6,7)'="00":$E(D,6,7)_"/",1:"")_$E(D,2,3))
"RTN","IBTUBO3",100,0)
 ;
"RTN","IBTUBO3",101,0)
INS(P,D,C) ; - Return patient's insurance carrier(s).
"RTN","IBTUBO3",102,0)
 ;   Input: P=patient IEN, D=event date, C=Size of the Ins.Carrier column
"RTN","IBTUBO3",103,0)
 ;  Output: List of Providers
"RTN","IBTUBO3",104,0)
 ;
"RTN","IBTUBO3",105,0)
 I '$G(P)!('$G(D)) Q ""
"RTN","IBTUBO3",106,0)
 ;
"RTN","IBTUBO3",107,0)
 N INSC,INSL,INSN,LST,TMP,X
"RTN","IBTUBO3",108,0)
 ;
"RTN","IBTUBO3",109,0)
 S INSL="" D ALL^IBCNS1(P,"LST",1,D)
"RTN","IBTUBO3",110,0)
 S X=0 F  S X=$O(LST(X)) Q:'X  D
"RTN","IBTUBO3",111,0)
 . S INSC=+$G(LST(X,0)) Q:$D(TMP(INSC))!'INSC
"RTN","IBTUBO3",112,0)
 . S INSN=$P($G(^DIC(36,INSC,0)),U)
"RTN","IBTUBO3",113,0)
 . I $G(LST(0))>1 S INSN=$E(INSN,1,C\2)
"RTN","IBTUBO3",114,0)
 . S INSL=INSL_","_INSN
"RTN","IBTUBO3",115,0)
 . S TMP(INSC)=""
"RTN","IBTUBO3",116,0)
 ;
"RTN","IBTUBO3",117,0)
 S $E(INSL)=""
"RTN","IBTUBO3",118,0)
 I $L(INSL,",")>1,$L(INSL)>C D
"RTN","IBTUBO3",119,0)
 . S INSL=$E(INSL,1,C-3),$P(INSL,",",$L(INSL,","))="..."
"RTN","IBTUBO3",120,0)
 S INSL=$E(INSL,1,C)
"RTN","IBTUBO3",121,0)
 ;
"RTN","IBTUBO3",122,0)
 Q INSL
"RTN","IBTUBO3",123,0)
 ;
"RTN","IBTUBO3",124,0)
NIM ; - Print 'no info' message.
"RTN","IBTUBO3",125,0)
 W !?3,"No information available for the period specified."
"RTN","IBTUBO3",126,0)
 Q
"RTN","IBTUBO3",127,0)
 ;
"RTN","IBTUBO3",128,0)
PAUSE ; - Page break.
"RTN","IBTUBO3",129,0)
 I $E(IOST,1,2)'="C-" Q
"RTN","IBTUBO3",130,0)
 N IBI,DIR,DIRUT,DUOUT,DTOUT,DIROUT,X,Y
"RTN","IBTUBO3",131,0)
 F IBI=$Y:1:(IOSL-3) W !
"RTN","IBTUBO3",132,0)
 S DIR(0)="E" D ^DIR S:$D(DIRUT)!($D(DUOUT)) IBQ=1
"RTN","IBTUBO3",133,0)
 Q
"RTN","IBTUBOA")
0^13^B20372849
"RTN","IBTUBOA",1,0)
IBTUBOA ;ALB/RB - UNBILLED AMOUNTS - GENERATE UNBILLED REPORTS ;01-JAN-01
"RTN","IBTUBOA",2,0)
 ;;2.0;INTEGRATED BILLING;**19,31,32,91,123,159,192**;21-MAR-94
"RTN","IBTUBOA",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IBTUBOA",4,0)
 ;
"RTN","IBTUBOA",5,0)
% ; - Entry point from Taskman.
"RTN","IBTUBOA",6,0)
 ;ARRAY VARIABLES:
"RTN","IBTUBOA",7,0)
 ;   IBAVG("BILLS-I")=number of inpatient institutional claims
"RTN","IBTUBOA",8,0)
 ;   IBAVG("BILLS-P")=number of inpatient professional claims
"RTN","IBTUBOA",9,0)
 ;   IBAVG("EPISD-I")=number of inpt. episodes for institutional claims
"RTN","IBTUBOA",10,0)
 ;   IBAVG("EPISD-P")=number of inpt. episodes for professional claims
"RTN","IBTUBOA",11,0)
 ;   IBAVG("$AMNT-I")=inpatient institutional amount billed
"RTN","IBTUBOA",12,0)
 ;   IBAVG("$AMNT-P")=inpatient professional amount billed
"RTN","IBTUBOA",13,0)
 ;   IBUNB("EPISM-I")=number of inpatient episodes missing inst. claims
"RTN","IBTUBOA",14,0)
 ;   IBUNB("EPISM-P")=number of inpatient episodes missing prof. claims
"RTN","IBTUBOA",15,0)
 ;   IBUNB("EPISM-A")=number of inpatient admissions missing claims (any type: Prof,Inst or both)
"RTN","IBTUBOA",16,0)
 ;   IBUNB("ENCNTRS")=number of outpatient encounters missing claims
"RTN","IBTUBOA",17,0)
 ;   IBUNB("CPTMS-I")=number of CPT codes missing institutional claims
"RTN","IBTUBOA",18,0)
 ;   IBUNB("CPTMS-P")=number of CPT codes missing professional claims
"RTN","IBTUBOA",19,0)
 ;   IBUNB("PRESCRP")=number of unbilled prescriptions
"RTN","IBTUBOA",20,0)
 ;   IBUNB("UNBILIP")=unbilled inpatient amount
"RTN","IBTUBOA",21,0)
 ;   IBUNB("UNBILOP")=unbilled outpatient amount
"RTN","IBTUBOA",22,0)
 ;   IBUNB("UNBILRX")=unbilled prescription amount
"RTN","IBTUBOA",23,0)
 ;   IBUNB("UNBILTL")=total unbilled amount
"RTN","IBTUBOA",24,0)
 ; 
"RTN","IBTUBOA",25,0)
 ;ARRAY VARIABLES FOR DM EXTRACT:
"RTN","IBTUBOA",26,0)
 ;   IB(1)=Number of inpatient episodes missing institutional claims
"RTN","IBTUBOA",27,0)
 ;   IB(2)=Amount of inpatient episodes missing institutional claims
"RTN","IBTUBOA",28,0)
 ;   IB(3)=Number of inpatient episodes missing professional claims
"RTN","IBTUBOA",29,0)
 ;   IB(4)=Amount of inpatient episodes missing professional claims
"RTN","IBTUBOA",30,0)
 ;   IB(5)=Number of all inpatient episodes missing claims
"RTN","IBTUBOA",31,0)
 ;   IB(6)=Amount of all inpatient episodes missing claims
"RTN","IBTUBOA",32,0)
 ;   IB(7)=Number of unbilled outpatient encounters prior to 9/1/99
"RTN","IBTUBOA",33,0)
 ;   IB(8)=Amount of unbilled outpatient encounters prior to 9/1/99
"RTN","IBTUBOA",34,0)
 ;   IB(9)=Number of procedures without an institutional charge
"RTN","IBTUBOA",35,0)
 ;   IB(10)=Amount of procedures without an institutional charge
"RTN","IBTUBOA",36,0)
 ;   IB(11)=Number of procedures without a professional charge
"RTN","IBTUBOA",37,0)
 ;   IB(12)=Amount of procedures without a professional charge
"RTN","IBTUBOA",38,0)
 ;   IB(13)=Number of all procedures without a charge
"RTN","IBTUBOA",39,0)
 ;   IB(14)=Number of encounters associated with all procedures without
"RTN","IBTUBOA",40,0)
 ;          a charge
"RTN","IBTUBOA",41,0)
 ;   IB(15)=Number of all encounters missing claims
"RTN","IBTUBOA",42,0)
 ;   IB(16)=Amount of all encounters missing claims
"RTN","IBTUBOA",43,0)
 ;   IB(17)=Number of unbilled prescriptions and refills
"RTN","IBTUBOA",44,0)
 ;   IB(18)=Amount of unbilled prescriptions and refills
"RTN","IBTUBOA",45,0)
 ;   IB(19)=Amount of all unbilled episodes of care
"RTN","IBTUBOA",46,0)
 ;
"RTN","IBTUBOA",47,0)
 N IB,IBAMTI,IBAMTP,IBIAV,IBIA,IBNODE,IBOE,IBPA,IBQUERY,IBRX,IBSAV,IBT
"RTN","IBTUBOA",48,0)
 N IBTYP,IBX,IBY,DFN,DGPM,I,J
"RTN","IBTUBOA",49,0)
 ;
"RTN","IBTUBOA",50,0)
 K ^TMP($J,"IBTUB-INPT"),^TMP($J,"IBTUB-OPT"),^TMP($J,"IBTUB-RX")
"RTN","IBTUBOA",51,0)
 ;
"RTN","IBTUBOA",52,0)
 ; - Initialize DM extract variables, if necessary.
"RTN","IBTUBOA",53,0)
 I $G(IBXTRACT) D E^IBJDE(37,1) F IBX=1:1:19 S IB(IBX)=0
"RTN","IBTUBOA",54,0)
 ;
"RTN","IBTUBOA",55,0)
 ; - Initialize Unbilled Amounts variables.
"RTN","IBTUBOA",56,0)
 S (IBUNB("ENCNTRS"),IBUNB("PRESCRP"))=0
"RTN","IBTUBOA",57,0)
 F IBX="IP","OP","RX" S IBUNB("UNBIL"_IBX)=0
"RTN","IBTUBOA",58,0)
 F IBX="I","P" S (IBUNB("EPISM-"_IBX),IBUNB("CPTMS-"_IBX))=0
"RTN","IBTUBOA",59,0)
 S IBUNB("EPISM-A")=0
"RTN","IBTUBOA",60,0)
 ;
"RTN","IBTUBOA",61,0)
 ; - Retrieve the Rate Type code for Reimbursable Insurance
"RTN","IBTUBOA",62,0)
 S IBRT=$S($O(^DGCR(399.3,"B","REIMBURSABLE INS.",0)):$O(^(0)),1:8)
"RTN","IBTUBOA",63,0)
 ;
"RTN","IBTUBOA",64,0)
 ; - If Compile/Store - Checks if the Average Bill Amounts exists for
"RTN","IBTUBOA",65,0)
 ;   IBTIMON. If it does not, calls IBTUBAV to calculate/updated it.
"RTN","IBTUBOA",66,0)
 I $G(IBCOMP) D
"RTN","IBTUBOA",67,0)
 . I $P($G(^IBE(356.19,IBTIMON,1)),"^",14)'="" Q
"RTN","IBTUBOA",68,0)
 . ;
"RTN","IBTUBOA",69,0)
 . ; - DQ^IBTUBAV will kill the variables IBTIMON and IBCOMP - That's why
"RTN","IBTUBOA",70,0)
 . ;   they are being set again after this call.
"RTN","IBTUBOA",71,0)
 . S IBSAV=IBTIMON D DQ^IBTUBAV S IBTIMON=IBSAV,IBCOMP=1
"RTN","IBTUBOA",72,0)
 ;
"RTN","IBTUBOA",73,0)
PROC ; - Loops through all the entries in the Claims Tracking file for the
"RTN","IBTUBOA",74,0)
 ;   period selected and calculate the Unbilled Amounts
"RTN","IBTUBOA",75,0)
 S IBDT=IBBDT-.1
"RTN","IBTUBOA",76,0)
 F  S IBDT=$O(^IBT(356,"D",IBDT)) Q:'IBDT!(IBDT>IBEDT)  D
"RTN","IBTUBOA",77,0)
 . S IBX=0 F  S IBX=$O(^IBT(356,"D",IBDT,IBX)) Q:'IBX  D
"RTN","IBTUBOA",78,0)
 . . S IBNODE=$G(^IBT(356,IBX,0)) Q:IBNODE=""
"RTN","IBTUBOA",79,0)
 . . I $P(IBNODE,U,12) Q  ; Tort-Feasor,Workman's Comp,No-fault Auto Acc.
"RTN","IBTUBOA",80,0)
 . . I $P(IBNODE,U,19) Q  ;  Reason not billable assigned.
"RTN","IBTUBOA",81,0)
 . . I '$P(IBNODE,U,20) Q  ; Inactive.
"RTN","IBTUBOA",82,0)
 . . S DFN=+$P(IBNODE,U,2)
"RTN","IBTUBOA",83,0)
 . . I '$$PTCHK^IBTUBOU(DFN,IBNODE) Q  ; Has a non-veteran eligibility.
"RTN","IBTUBOA",84,0)
 . . I '$$INSURED^IBCNS1(DFN,IBDT) Q  ;  Not insured during care.
"RTN","IBTUBOA",85,0)
 . . I $P(IBNODE,U,5),IBSEL[1,$$COV^IBTUBOU(DFN,IBDT,1) D  Q  ;Inpatient
"RTN","IBTUBOA",86,0)
 . . . S DGPM=+$P(IBNODE,U,5) D INPT^IBTUBO2(DGPM)
"RTN","IBTUBOA",87,0)
 . . I $P(IBNODE,U,4),IBSEL[2,$$COV^IBTUBOU(DFN,IBDT,2) D  Q  ;Outpatient
"RTN","IBTUBOA",88,0)
 . . . S IBOE=+$P(IBNODE,U,4) I $$NCCL^IBTUBOU(IBOE) Q  ; Non-Count Clinic
"RTN","IBTUBOA",89,0)
 . . . D OPT^IBTUBO1(IBOE,.IBQUERY)
"RTN","IBTUBOA",90,0)
 . . I $P(IBNODE,U,8),IBSEL[3,$$COV^IBTUBOU(DFN,IBDT,3) D  Q  ;Prescription
"RTN","IBTUBOA",91,0)
 . . . S IBRX=+$P(IBNODE,U,8) D RX^IBTUBO2(IBRX)
"RTN","IBTUBOA",92,0)
 . . ;
"RTN","IBTUBOA",93,0)
 . . ; - Check CT entry event type to get unbilled amounts, if necessary.
"RTN","IBTUBOA",94,0)
 . . S IBTYP=$P($G(^IBE(356.6,+$P(IBNODE,U,18),0)),U,8)
"RTN","IBTUBOA",95,0)
 . . I IBTYP=1,IBSEL[1,$$COV^IBTUBOU(DFN,IBDT,1) D
"RTN","IBTUBOA",96,0)
 . . . D INPT^IBTUBO2(+$O(^DGPM("APTT1",DFN,IBDT,0)))
"RTN","IBTUBOA",97,0)
 . . I IBTYP=2,IBSEL[2,$$COV^IBTUBOU(DFN,IBDT,2) D
"RTN","IBTUBOA",98,0)
 . . . D OPT^IBTUBO1("",.IBQUERY)
"RTN","IBTUBOA",99,0)
 ;
"RTN","IBTUBOA",100,0)
 I $G(IBXTRACT) D XTRACT^IBTUBOU ; Load extract file, if necessary.
"RTN","IBTUBOA",101,0)
 ;
"RTN","IBTUBOA",102,0)
 ; - Calculate the Amount Inpatient INST. & PROF. Unbilled Amounts,
"RTN","IBTUBOA",103,0)
 ;   based on average amounts of Billed Amounts
"RTN","IBTUBOA",104,0)
 S IBIAV=$$INPAVG^IBTUBOU(IBTIMON)
"RTN","IBTUBOA",105,0)
 S IBAMTI=$P(IBIAV,"^")*IBUNB("EPISM-I") ; Institutional
"RTN","IBTUBOA",106,0)
 S IBAMTP=$P(IBIAV,"^",2)*IBUNB("EPISM-P") ; Professional
"RTN","IBTUBOA",107,0)
 ;
"RTN","IBTUBOA",108,0)
 ; - Calculate Unbilled Amounts Totals
"RTN","IBTUBOA",109,0)
 S IBUNB("UNBILIP")=$J(IBAMTI+IBAMTP,0,2)
"RTN","IBTUBOA",110,0)
 S IBUNB("UNBILOP")=$J(IBUNB("UNBILOP"),0,2)
"RTN","IBTUBOA",111,0)
 S IBUNB("UNBILRX")=$J(IBUNB("UNBILRX"),0,2)
"RTN","IBTUBOA",112,0)
 S IBUNB("UNBILTL")=$J(IBUNB("UNBILIP")+IBUNB("UNBILOP")+IBUNB("UNBILRX"),0,2)
"RTN","IBTUBOA",113,0)
 ;
"RTN","IBTUBOA",114,0)
 ; - If Compile/Store - update Unbilled Amounts data on file #356.19
"RTN","IBTUBOA",115,0)
 I $G(IBCOMP) D LD^IBTUBOU(3,IBTIMON)
"RTN","IBTUBOA",116,0)
 ;
"RTN","IBTUBOA",117,0)
PRT ; - Print report(s).
"RTN","IBTUBOA",118,0)
 I $G(IBQUERY) D CLOSE^IBSDU(.IBQUERY)
"RTN","IBTUBOA",119,0)
 D REPORT^IBTUBO3
"RTN","IBTUBOA",120,0)
 ;
"RTN","IBTUBOA",121,0)
END K ^TMP($J,"IBTUB-INPT"),^TMP($J,"IBTUB-OPT"),^TMP($J,"IBTUB-RX")
"RTN","IBTUBOA",122,0)
 K IBDT,IBRT,IBUNB
"RTN","IBTUBOA",123,0)
 I $D(ZTQUEUED) S ZTREQ="@" Q
"RTN","IBTUBOA",124,0)
 D ^%ZISC K IBTEMON,IBXTRACT,D,D0,DA,DIC,DIE
"RTN","IBTUBOA",125,0)
 Q
"VER")
8.0^22
"^DD",351.7,351.7,0)
FIELD^^2^4
"^DD",351.7,351.7,0,"DT")
3000913
"^DD",351.7,351.7,0,"IX","AC",351.7,.02)

"^DD",351.7,351.7,0,"IX","B",351.7,.01)

"^DD",351.7,351.7,0,"NM","IB DM EXTRACT REPORTS")

"^DD",351.7,351.7,0,"PT",351.701,.03)

"^DD",351.7,351.7,0,"PT",351.711,.01)

"^DD",351.7,351.7,0,"VRPK")
IB
"^DD",351.7,351.7,.01,0)
REPORT NAME^RF^^0;1^K:$L(X)>50!($L(X)<3)!'(X'?1P.E) X
"^DD",351.7,351.7,.01,1,0)
^.1
"^DD",351.7,351.7,.01,1,1,0)
351.7^B
"^DD",351.7,351.7,.01,1,1,1)
S ^IBE(351.7,"B",$E(X,1,30),DA)=""
"^DD",351.7,351.7,.01,1,1,2)
K ^IBE(351.7,"B",$E(X,1,30),DA)
"^DD",351.7,351.7,.01,3)
Answer must be 3-50 characters in length.
"^DD",351.7,351.7,.01,21,0)
^.001^1^1^3000913^^^
"^DD",351.7,351.7,.01,21,1,0)
This is the DM report from which data will be extracted.
"^DD",351.7,351.7,.01,"DT")
2990303
"^DD",351.7,351.7,.02,0)
DISABLE?^S^1:YES;^0;2^Q
"^DD",351.7,351.7,.02,1,0)
^.1
"^DD",351.7,351.7,.02,1,1,0)
351.7^AC
"^DD",351.7,351.7,.02,1,1,1)
S ^IBE(351.7,"AC",$E(X,1,30),DA)=""
"^DD",351.7,351.7,.02,1,1,2)
K ^IBE(351.7,"AC",$E(X,1,30),DA)
"^DD",351.7,351.7,.02,1,1,"DT")
2990317
"^DD",351.7,351.7,.02,3)
Enter 'YES' if you don't want this report's summary data extracted.
"^DD",351.7,351.7,.02,21,0)
2^^2^2^2990518^^^^
"^DD",351.7,351.7,.02,21,1,0)
Enter 'YES' if you don't want this report's summary data extracted.
"^DD",351.7,351.7,.02,21,2,0)
The DM extraction background job will skip queueing this report.
"^DD",351.7,351.7,.02,"DT")
3000913
"^DD",351.7,351.7,1,0)
INPUT VARIABLE^351.702^^1;0
"^DD",351.7,351.7,2,0)
ROUTINE^FX^^2;E1,20^K:$L(X)>20!(X'?.1ANP.7AN.1"^"1ANP.7AN.1"[".E) X I $D(X),X["[" K X
"^DD",351.7,351.7,2,3)

"^DD",351.7,351.7,2,4)
D RTN^IBJDE1
"^DD",351.7,351.7,2,21,0)
^.001^10^10^3010418^^^^
"^DD",351.7,351.7,2,21,1,0)
This field is the entry point called by this report to extract
"^DD",351.7,351.7,2,21,2,0)
the data that will be sent to the Extract Module. It is possible
"^DD",351.7,351.7,2,21,3,0)
to enter a program (^ROUTINE), a specific label (TAG^ROUTINE) or
"^DD",351.7,351.7,2,21,4,0)
leave it blank. When this field is left blank, no code will be
"^DD",351.7,351.7,2,21,5,0)
invoked by this report to extract the data. This option should
"^DD",351.7,351.7,2,21,6,0)
be used to allow the data for this report to be extracted by a
"^DD",351.7,351.7,2,21,7,0)
program invoked by another report. This is intended to be used
"^DD",351.7,351.7,2,21,8,0)
when there are two (or more) different reports that run the same
"^DD",351.7,351.7,2,21,9,0)
program to extract their data, then only one will be responsible
"^DD",351.7,351.7,2,21,10,0)
for running the code and extracting the data for both reports.
"^DD",351.7,351.7,2,23,0)
^.001^8^8^3010418^^^^
"^DD",351.7,351.7,2,23,1,0)
This field will hold the routine name responsible for extracting
"^DD",351.7,351.7,2,23,2,0)
the data for the report. It is also possible to indicate a
"^DD",351.7,351.7,2,23,3,0)
specific label. The Data Extraction routine will then queue this
"^DD",351.7,351.7,2,23,4,0)
routine and will store the data returned (usually through the IB
"^DD",351.7,351.7,2,23,5,0)
array) from it. When this field is NULL, the Data Extraction
"^DD",351.7,351.7,2,23,6,0)
routine will do everything but queue a job. This resource (NULL)
"^DD",351.7,351.7,2,23,7,0)
is used to allow that the routine of one report to retrieve and
"^DD",351.7,351.7,2,23,8,0)
store the data for other reports.
"^DD",351.7,351.7,2,"DT")
3000918
"^DD",351.7,351.702,0)
INPUT VARIABLE SUB-FIELD^^1^3
"^DD",351.7,351.702,0,"DT")
2990330
"^DD",351.7,351.702,0,"IX","B",351.702,.01)

"^DD",351.7,351.702,0,"NM","INPUT VARIABLE")

"^DD",351.7,351.702,0,"UP")
351.7
"^DD",351.7,351.702,.01,0)
INPUT VARIABLE^MF^^0;1^K:$L(X)>8!($L(X)<1) X
"^DD",351.7,351.702,.01,1,0)
^.1
"^DD",351.7,351.702,.01,1,1,0)
351.702^B
"^DD",351.7,351.702,.01,1,1,1)
S ^IBE(351.7,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",351.7,351.702,.01,1,1,2)
K ^IBE(351.7,DA(1),1,"B",$E(X,1,30),DA)
"^DD",351.7,351.702,.01,3)
Answer must be 1-8 characters in length.
"^DD",351.7,351.702,.01,8.5)
@
"^DD",351.7,351.702,.01,9)
@
"^DD",351.7,351.702,.01,21,0)
^^1^1^2990318^
"^DD",351.7,351.702,.01,21,1,0)
This is the name of the pre-set variable associated with this report.
"^DD",351.7,351.702,.01,"DT")
2990316
"^DD",351.7,351.702,.02,0)
VALUE^F^^0;2^K:$L(X)>30!($L(X)<1) X
"^DD",351.7,351.702,.02,3)
Answer must be 1-30 characters in length.
"^DD",351.7,351.702,.02,8.5)
@
"^DD",351.7,351.702,.02,9)
@
"^DD",351.7,351.702,.02,21,0)
^^3^3^2990318^^
"^DD",351.7,351.702,.02,21,1,0)
This is the value of the pre-set variable associated with this report.
"^DD",351.7,351.702,.02,21,2,0)
If the variable is a date variable (IBBDT, IBEDT, etc.), the value is
"^DD",351.7,351.702,.02,21,3,0)
null.
"^DD",351.7,351.702,.02,"DT")
2990330
"^DD",351.7,351.702,1,0)
INPUT STATEMENT^K^^1;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",351.7,351.702,1,3)
This is Standard MUMPS code.
"^DD",351.7,351.702,1,8.5)
@
"^DD",351.7,351.702,1,9)
@
"^DD",351.7,351.702,1,21,0)
^^3^3^2990528^^
"^DD",351.7,351.702,1,21,1,0)
This statement, if it exists ($D), will be Xecuted instead of setting the
"^DD",351.7,351.702,1,21,2,0)
contents of the INPUT VARIABLE zero node via the DM extract process. This
"^DD",351.7,351.702,1,21,3,0)
is used primarily for setting date fields (ex. IBBDT, IBEDT).
"^DD",351.7,351.702,1,"DT")
2990327
"^DIC",351.7,351.7,0)
IB DM EXTRACT REPORTS^351.7
"^DIC",351.7,351.7,0,"GL")
^IBE(351.7,
"^DIC",351.7,351.7,"%D",0)
^^4^4^2990405^^
"^DIC",351.7,351.7,"%D",1,0)
This file contains the necessary DM reports which will have their summary
"^DIC",351.7,351.7,"%D",2,0)
data collected via the Diagnostic Measures Extraction process.
"^DIC",351.7,351.7,"%D",3,0)
 
"^DIC",351.7,351.7,"%D",4,0)
Per VHA directive 10-93-142, this file definition should not be modified.
"^DIC",351.7,"B","IB DM EXTRACT REPORTS",351.7)

**END**
**END**
