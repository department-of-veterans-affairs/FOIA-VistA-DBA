$TXT Created by MALMROSE,CARY at ROX-DCM.FO-SLC.MED.VA.GOV  (KIDS) on Wednesday, 01/15/03 at 10:19
=============================================================================
Run Date: FEB 06, 2003                     Designation: OR*3*169
Package : OR - ORDER ENTRY/RESULTS REPORTING Priority: Mandatory
Version : 3       SEQ #159                       Status: Released
                  Compliance Date: MAR 09, 2003
=============================================================================

Associated patches: (v)OR*3*42     <<= must be installed BEFORE `OR*3*169'

Subject: DON'T PURGE UNRELEASED ORDERS ON 100 CLEAN-UP

Category: 
  - Routine

Description: 
============

 Note:  This patch can only be installed at sites running CPRS.
  This patch address a problem reported when using the option:
    Check Lab orders from file 100 to 69
    [ORE LAB ORDERS CHECK 100=>69]
  
  It was found that it is possible to delete unreleased lab
  orders that did not yet have a START DATE/TIME, when running
  this option and answering the option questions in the following
  manner:
  
  Problems identified                             Resolution
  -------------------                             ----------
 ^OR(100,IFN,0) does not exist                   ^OR(100,IFN) killed
 Bad pointers on child orders                    Pointers removed
 Child orders with no parent order               Pointer removed
 Child order missing parent pointer              Pointer restored
 Incorrect status on parent order                Status corrected
 Old veiled orders                               Purged
 Unrecognized pointer to file 69                 Order cancelled
 Unconverted orders from OE/RR 2.5               Order lapsed
 Invalid pointer to file 69                      Order cancelled
 Incorrect status on uncollected specimens       Status updated
 Incorrect status on completed orders            Status updated
 Missing reference to file 69                    Cancelled (optional)
 Old pending, active & unreleased orders         Status changed
  
 Continue? No// Y  (Yes)
 Check for CPRS orders that no longer exist in the
  Lab Order file? No// Y  (Yes)
 Do you want to remove old PENDING, ACTIVE and UNRELEASED
  orders? No// Y  (Yes)
 Remove old orders with Start dates before: T-30//  (NOV 22, 2002)
 OK, which ORIFN do you want to start with: 0// 
 Do you want me to correct the inconsistencies now? No// Y  (Yes)
  
  The order has to exist on the system for at least an hour,
  unsigned, and fall within the time window specified (T-30, in
  this case).
  
  This patch fixes the problem by looking to see if a START
  DATE/TIME exists, and if not, then the date entered is used.
  
  This patches also fixes the incorrect setting of the OE/RR order
  number into the Lab Order Data file (#69).  The global reference
  was missing the leading up-arrow (^), so it wasn't getting set.
  
  TEST SITES FOR THIS PATCH:
  ==========================
  Danville VAMC
  
  RELATED NOIS:
  =============
  DAN-0601-42575
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;3.0;ORDER ENTRY/RESULTS REPORTING;**[patch list]**;Dec 17, 1997
  
                             CHECK^XTSUMBLD results
  Routine name         Before Patch          After Patch         Patch List
  ============         ============          ===========         ==========
  ORELR2                   20297844             20316786         20,42,169
  ORELR3                    4942416              4976307         20,42,169
  
  INSTALLATION INSTRUCTIONS:
  ==========================
  This patch should be loaded during non-peak hours to minimize disruption
  to users.  Installation will take less than 1 minute.  Users may remain
  on the system.
   
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
   
  2.  Review your mapped set.  If any of the routines listed in the
      ROUTINE SUMMARY section are mapped, they should be removed
      from the mapped set at this time.
   
  3.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  4.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter OR*3.0*169):
          a.  Backup a Transport Global
          b.  Compare Transport Global to Current System
          c.  Verify Checksums in Transport Global
   
  5.  Use the Install Package(s) option and select the package OR*3.0*169.
   
  6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//'
      respond NO.
    
  7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond NO.
   
  8.  If routines were unmapped as part of step 2, they should be returned
      to the mapped set once the installation has run to completion.
  

Routine Information:
====================

Routine Name:
  - ORELR3

  

Routine Checksum:
 

Routine Name:
  - ORELR2

  

Routine Checksum:
 

=============================================================================
User Information:                               
Entered By  : MALMROSE,CARY                  Date Entered : DEC 18, 2002
Completed By: SCHLEHUBER,PAM                Date Completed: FEB 02, 2003
Released By : LECLAIR,RAY                   Date Released : FEB 06, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
