Released PX*1*131 SEQ #109
Extracted from mail message
**KIDS**:PX*1.0*131^

**INSTALL NAME**
PX*1.0*131
"BLD",5224,0)
PX*1.0*131^PCE PATIENT CARE ENCOUNTER^0^3040511^y
"BLD",5224,1,0)
^^1^1^3031203^^^
"BLD",5224,1,1,0)
FIX V FILE INTEGRITY CHECKER PROMPTING.
"BLD",5224,4,0)
^9.64PA^^
"BLD",5224,"ABPKG")
n
"BLD",5224,"INID")

"BLD",5224,"KRN",0)
^9.67PA^8989.52^19
"BLD",5224,"KRN",.4,0)
.4
"BLD",5224,"KRN",.4,"NM",0)
^9.68A^^
"BLD",5224,"KRN",.401,0)
.401
"BLD",5224,"KRN",.402,0)
.402
"BLD",5224,"KRN",.403,0)
.403
"BLD",5224,"KRN",.5,0)
.5
"BLD",5224,"KRN",.84,0)
.84
"BLD",5224,"KRN",3.6,0)
3.6
"BLD",5224,"KRN",3.8,0)
3.8
"BLD",5224,"KRN",9.2,0)
9.2
"BLD",5224,"KRN",9.8,0)
9.8
"BLD",5224,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",5224,"KRN",9.8,"NM",1,0)
PXQUTL3^^0^B58709364
"BLD",5224,"KRN",9.8,"NM","B","PXQUTL3",1)

"BLD",5224,"KRN",19,0)
19
"BLD",5224,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",5224,"KRN",19,"NM",1,0)
PXQ PCE/SD DEBUGGING UTILITIES^^3
"BLD",5224,"KRN",19,"NM",2,0)
PX V File Repair^^0
"BLD",5224,"KRN",19,"NM","B","PX V File Repair",2)

"BLD",5224,"KRN",19,"NM","B","PXQ PCE/SD DEBUGGING UTILITIES",1)

"BLD",5224,"KRN",19.1,0)
19.1
"BLD",5224,"KRN",101,0)
101
"BLD",5224,"KRN",409.61,0)
409.61
"BLD",5224,"KRN",771,0)
771
"BLD",5224,"KRN",870,0)
870
"BLD",5224,"KRN",8989.51,0)
8989.51
"BLD",5224,"KRN",8989.52,0)
8989.52
"BLD",5224,"KRN",8994,0)
8994
"BLD",5224,"KRN","B",.4,.4)

"BLD",5224,"KRN","B",.401,.401)

"BLD",5224,"KRN","B",.402,.402)

"BLD",5224,"KRN","B",.403,.403)

"BLD",5224,"KRN","B",.5,.5)

"BLD",5224,"KRN","B",.84,.84)

"BLD",5224,"KRN","B",3.6,3.6)

"BLD",5224,"KRN","B",3.8,3.8)

"BLD",5224,"KRN","B",9.2,9.2)

"BLD",5224,"KRN","B",9.8,9.8)

"BLD",5224,"KRN","B",19,19)

"BLD",5224,"KRN","B",19.1,19.1)

"BLD",5224,"KRN","B",101,101)

"BLD",5224,"KRN","B",409.61,409.61)

"BLD",5224,"KRN","B",771,771)

"BLD",5224,"KRN","B",870,870)

"BLD",5224,"KRN","B",8989.51,8989.51)

"BLD",5224,"KRN","B",8989.52,8989.52)

"BLD",5224,"KRN","B",8994,8994)

"BLD",5224,"QUES",0)
^9.62^^
"BLD",5224,"REQB",0)
^9.611^1^1
"BLD",5224,"REQB",1,0)
PX*1.0*29^2
"BLD",5224,"REQB","B","PX*1.0*29",1)

"KRN",19,6825,-1)
3^1
"KRN",19,6825,0)
PXQ PCE/SD DEBUGGING UTILITIES^PCE/SD Debugging Utilities^^M^^^^^^^y^PCE PATIENT CARE ENCOUNTER
"KRN",19,6825,1,0)
^19.06^1^1^3031231^^^^
"KRN",19,6825,1,1,0)
     Main menu for the PCE/Scheduling Debugging Utilities
"KRN",19,6825,10,0)
^19.01IP^13^3
"KRN",19,6825,10,12,0)
11968^V
"KRN",19,6825,10,12,"^")
PX V File Repair
"KRN",19,6825,10.1)
Delete Action Required Dupes
"KRN",19,6825,99)
59534,47642
"KRN",19,6825,"U")
PCE/SD DEBUGGING UTILITIES
"KRN",19,11968,-1)
0^2
"KRN",19,11968,0)
PX V File Repair^PCE V File Cross Reference Repair^^R^^^^^^^y^PCE PATIENT CARE ENCOUNTER
"KRN",19,11968,1,0)
^^6^6^3031203^
"KRN",19,11968,1,1,0)
This option provides a number of options that allow the user to
"KRN",19,11968,1,2,0)
 both report and fix broken V File Cross References. The V Files include V
"KRN",19,11968,1,3,0)
 PROVIDER (9000010.06), V CPT(9000010.18), diagnosis V POV (9000010.07), 
"KRN",19,11968,1,4,0)
 VISIT(9000010), V IMMUNIZATION(9000010.11), V SKIN TEST(9000010.12), V
"KRN",19,11968,1,5,0)
 EXAM(9000010.13), V TREATMENT(9000010.15), V PATIENT ED(9000010.16), and V
"KRN",19,11968,1,6,0)
 HEALTH FACTOR(9000010.23).
"KRN",19,11968,10.1)
V File Repair
"KRN",19,11968,25)
T^PXQUTL3
"KRN",19,11968,"U")
PCE V FILE CROSS REFERENCE REP
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",413,-1)
1^1
"PKG",413,0)
PCE PATIENT CARE ENCOUNTER^PX^Patient Care Encounter (VA Parent package)^
"PKG",413,20,0)
^9.402P^^
"PKG",413,22,0)
^9.49I^1^1
"PKG",413,22,1,0)
1.0^2960812^2960913^12537
"PKG",413,22,1,"PAH",1,0)
131^3040511
"PKG",413,22,1,"PAH",1,1,0)
^^1^1^3040511
"PKG",413,22,1,"PAH",1,1,1,0)
FIX V FILE INTEGRITY CHECKER PROMPTING.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PXQUTL3")
0^1^B58709364
"RTN","PXQUTL3",1,0)
PXQUTL3 ;ISL/JVS CLEAN OUT BAD CROSSREFERENCES ;4/16/97  14:30
"RTN","PXQUTL3",2,0)
 ;;1.0;PCE PATIENT CARE ENCOUNTER;**29,131**;Aug 12, 1996
"RTN","PXQUTL3",3,0)
 ;
"RTN","PXQUTL3",4,0)
T ;
"RTN","PXQUTL3",5,0)
 ;
"RTN","PXQUTL3",6,0)
 W !!!,"                  NOTES CONCERNING THIS OPTION"
"RTN","PXQUTL3",7,0)
 W !
"RTN","PXQUTL3",8,0)
 W !,"   These options will check for broken cross-references in all of"
"RTN","PXQUTL3",9,0)
 W !,"           the PCE visit files. It is interactive."
"RTN","PXQUTL3",10,0)
 W !," 'S' will go through ONLY the 'B' X-REF of each file looking for problems."
"RTN","PXQUTL3",11,0)
 W !,"         To EXIT the program, you can enter an '^' at any prompt."
"RTN","PXQUTL3",12,0)
 W !,"  At about 1 minute intervals a message will come up telling you"
"RTN","PXQUTL3",13,0)
 W !,"               how much work has already been done."
"RTN","PXQUTL3",14,0)
 W !
"RTN","PXQUTL3",15,0)
 S Y=""
"RTN","PXQUTL3",16,0)
 S DIR(0)="S^S:Screen of 4 'MAIN' files;P:Provider V PROVIDER FILE;"
"RTN","PXQUTL3",17,0)
 S DIR(0)=DIR(0)_"D:Diagnosis V POV FILE;C:CPT V CPT FILE;"
"RTN","PXQUTL3",18,0)
 S DIR(0)=DIR(0)_"V:Visit VISIT FILE;O:Other 6 V Files;"
"RTN","PXQUTL3",19,0)
 S DIR(0)=DIR(0)_"R:Repair 4 'MAIN' V Files without prompting (automatic);"
"RTN","PXQUTL3",20,0)
 S DIR(0)=DIR(0)_"F:Fix ALL files without prompting (automatic)"
"RTN","PXQUTL3",21,0)
 S DIR("A")="Which file do you need to fix "
"RTN","PXQUTL3",22,0)
 S DIR("B")="P"
"RTN","PXQUTL3",23,0)
 D ^DIR
"RTN","PXQUTL3",24,0)
 N X,IEN,IENN,IENNN,I,ARRAY,PAST,NOW,%,PRVCNT,PRVP,POVCNT,POVP
"RTN","PXQUTL3",25,0)
 N CPTCNT,CNTP,VSTCNT,VSTP,AUTO,XREF,VSTXCNT,AUTOO
"RTN","PXQUTL3",26,0)
 S (AUTO,AUTOO)="",XREF="NONE",VSTXCNT=0
"RTN","PXQUTL3",27,0)
 I Y="P" D PRMPT,P G T
"RTN","PXQUTL3",28,0)
 I Y="D" D PRMPT,D G T
"RTN","PXQUTL3",29,0)
 I Y="C" D PRMPT,C G T
"RTN","PXQUTL3",30,0)
 I Y="O" D INF,PRMPT,O^PXQUTL3B G T
"RTN","PXQUTL3",31,0)
 I Y="V" D PRMPT,V^PXQUTL3A G T
"RTN","PXQUTL3",32,0)
 I Y="R" D PRMPT S:AUTO="F" AUTOO="F" D P,D,C,V^PXQUTL3A G T
"RTN","PXQUTL3",33,0)
 I Y="S" D S^PXQUTL3A G T
"RTN","PXQUTL3",34,0)
 I Y="F" S (AUTO,AUTOO)="F" D P,D,C,V^PXQUTL3A,O^PXQUTL3B G T
"RTN","PXQUTL3",35,0)
 I Y="^" G EXIT
"RTN","PXQUTL3",36,0)
 Q
"RTN","PXQUTL3",37,0)
 ;
"RTN","PXQUTL3",38,0)
 ;
"RTN","PXQUTL3",39,0)
 ;
"RTN","PXQUTL3",40,0)
P ;---CHECK FOR BROKEN CROSSREFERENCES
"RTN","PXQUTL3",41,0)
 S PRVCNT=0
"RTN","PXQUTL3",42,0)
 I Y="^" Q
"RTN","PXQUTL3",43,0)
 W !,"Checking the V PROVIDER FILE #9000010.06",!
"RTN","PXQUTL3",44,0)
 S I="" F  S I=$O(^AUPNVPRV("B",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",45,0)
 . S IEN="" F  S IEN=$O(^AUPNVPRV("B",I,IEN)) W:IEN#1000=22 "." Q:IEN=""  D
"RTN","PXQUTL3",46,0)
 ..S ARRAY="^AUPNVPRV(""B"",I,IEN)" S PRVCNT=PRVCNT+1 I PRVCNT#1000=2 D MON
"RTN","PXQUTL3",47,0)
 ..I '$D(^AUPNVPRV(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVPRV(""B"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",48,0)
 S I="" F  S I=$O(^AUPNVPRV("AD",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",49,0)
 . S IEN="" F  S IEN=$O(^AUPNVPRV("AD",I,IEN)) W:IEN#1000=22 "." Q:IEN=""  D
"RTN","PXQUTL3",50,0)
 ..S ARRAY="^AUPNVPRV(""AD"",I,IEN)" S PRVCNT=PRVCNT+1 I PRVCNT#1000=2 D MON
"RTN","PXQUTL3",51,0)
 ..I '$D(^AUPNVPRV(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVPRV(""AD"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",52,0)
 S I="" F  S I=$O(^AUPNVPRV("C",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",53,0)
 . S IEN="" F  S IEN=$O(^AUPNVPRV("C",I,IEN)) W:IEN#1000=22 "." Q:IEN=""  D
"RTN","PXQUTL3",54,0)
 ..S ARRAY="^AUPNVPRV(""C"",I,IEN)" S PRVCNT=PRVCNT+1 I PRVCNT#1000=2 D MON
"RTN","PXQUTL3",55,0)
 ..I '$D(^AUPNVPRV(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVPRV(""C"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",56,0)
 Q
"RTN","PXQUTL3",57,0)
 ;
"RTN","PXQUTL3",58,0)
 ;
"RTN","PXQUTL3",59,0)
 ;
"RTN","PXQUTL3",60,0)
 ;
"RTN","PXQUTL3",61,0)
D W !!,"Checking the V POV FILE #9000010.07 (PROCEDURES)",!
"RTN","PXQUTL3",62,0)
 S POVCNT=0
"RTN","PXQUTL3",63,0)
 I Y="^" Q
"RTN","PXQUTL3",64,0)
 S I="" F  S I=$O(^AUPNVPOV("B",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",65,0)
 . S IEN="" F  S IEN=$O(^AUPNVPOV("B",I,IEN)) W:IEN#1000=22 "." Q:IEN=""  D
"RTN","PXQUTL3",66,0)
 ..S ARRAY="^AUPNVPOV(""B"",I,IEN)" S POVCNT=POVCNT+1 I POVCNT#1000=2 D MON
"RTN","PXQUTL3",67,0)
 ..I '$D(^AUPNVPOV(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVPOV(""B"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",68,0)
 S I="" F  S I=$O(^AUPNVPOV("AD",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",69,0)
 . S IEN="" F  S IEN=$O(^AUPNVPOV("AD",I,IEN)) Q:IEN=""  D
"RTN","PXQUTL3",70,0)
 ..S ARRAY="^AUPNVPOV(""AD"",I,IEN)" S POVCNT=POVCNT+1 I POVCNT#1000=2 D MON
"RTN","PXQUTL3",71,0)
 ..I '$D(^AUPNVPOV(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVPOV(""AD"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",72,0)
 S I="" F  S I=$O(^AUPNVPOV("C",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",73,0)
 . S IEN="" F  S IEN=$O(^AUPNVPOV("C",I,IEN)) W:IEN#1000=22 "." Q:IEN=""  D
"RTN","PXQUTL3",74,0)
 ..S ARRAY="^AUPNVPOV(""C"",I,IEN)" S POVCNT=POVCNT+1 I POVCNT#1000=2 D MON
"RTN","PXQUTL3",75,0)
 ..I '$D(^AUPNVPOV(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVPOV(""C"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",76,0)
 S I="" F  S I=$O(^AUPNVPOV("AA",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",77,0)
 . S IEN="" F  S IEN=$O(^AUPNVPOV("AA",I,IEN)) Q:IEN=""  D
"RTN","PXQUTL3",78,0)
 ..S IENN="" F  S IENN=$O(^AUPNVPOV("AA",I,IEN,IENN)) W:IENN#1000=22 "." Q:IENN=""  D
"RTN","PXQUTL3",79,0)
 ...S ARRAY="^AUPNVPOV(""AA"",I,IEN,IENN)" S POVCNT=POVCNT+1 I POVCNT#1000=2 D MON
"RTN","PXQUTL3",80,0)
 ...I '$D(^AUPNVPOV(IENN)) W !,"Entry "_IENN," IS NOT THERE! BAD REFERENCE IS ^AUPNVPOV(""AA"","_I_",",IEN_","_IENN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",81,0)
 Q
"RTN","PXQUTL3",82,0)
 ;
"RTN","PXQUTL3",83,0)
 ;
"RTN","PXQUTL3",84,0)
C W !!,"Checking the V CPT FILE #9000010.18 (PROCEDURES)",!
"RTN","PXQUTL3",85,0)
 S CPTCNT=0
"RTN","PXQUTL3",86,0)
 I Y="^" Q
"RTN","PXQUTL3",87,0)
 S I="" F  S I=$O(^AUPNVCPT("B",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",88,0)
 . S IEN="" F  S IEN=$O(^AUPNVCPT("B",I,IEN)) W:IEN#1000=22 "." Q:IEN=""  D
"RTN","PXQUTL3",89,0)
 ..S ARRAY="^AUPNVCPT(""B"",I,IEN)" S CPTCNT=CPTCNT+1 I CPTCNT#1000=2 D MON
"RTN","PXQUTL3",90,0)
 ..I '$D(^AUPNVCPT(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVCPT(""B"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",91,0)
 S I="" F  S I=$O(^AUPNVCPT("AD",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",92,0)
 . S IEN="" F  S IEN=$O(^AUPNVCPT("AD",I,IEN)) W:IEN#1000=22 "." Q:IEN=""  D
"RTN","PXQUTL3",93,0)
 ..S ARRAY="^AUPNVCPT(""AD"",I,IEN)" S CPTCNT=CPTCNT+1 I CPTCNT#1000=2 D MON
"RTN","PXQUTL3",94,0)
 ..I '$D(^AUPNVCPT(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVCPT(""AD"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",95,0)
 S I="" F  S I=$O(^AUPNVCPT("C",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",96,0)
 . S IEN="" F  S IEN=$O(^AUPNVCPT("C",I,IEN)) W:IEN#1000=22 "." Q:IEN=""  D
"RTN","PXQUTL3",97,0)
 ..S ARRAY="^AUPNVCPT(""C"",I,IEN)" S CPTCNT=CPTCNT+1 I CPTCNT#1000=2 D MON
"RTN","PXQUTL3",98,0)
 ..I '$D(^AUPNVCPT(IEN)) W !,"Entry "_IEN," IS NOT THERE! BAD REFERENCE IS ^AUPNVCPT(""C"","_I_",",IEN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",99,0)
 S I="" F  S I=$O(^AUPNVCPT("AA",I)) Q:I=""  D  G:Y="^" EXIT
"RTN","PXQUTL3",100,0)
 . S IEN="" F  S IEN=$O(^AUPNVCPT("AA",I,IEN)) Q:IEN=""  D
"RTN","PXQUTL3",101,0)
 ..S IENN="" F  S IENN=$O(^AUPNVCPT("AA",I,IEN,IENN)) Q:IENN=""  D
"RTN","PXQUTL3",102,0)
 ...S IENNN="" F  S IENNN=$O(^AUPNVCPT("AA",I,IEN,IENN,IENNN)) W:IENNN#1000=22 "." Q:IENNN=""  D
"RTN","PXQUTL3",103,0)
 ....S ARRAY="^AUPNVCPT(""AA"",I,IEN,IENN,IENNN)" S CPTCNT=CPTCNT+1 I CPTCNT#1000=2 D MON
"RTN","PXQUTL3",104,0)
 ....I '$D(^AUPNVCPT(IENNN)) W !,"Entry "_IENNN," IS NOT THERE! BAD REFERENCE IS ^AUPNVCPT(""AA"","_I_",",IEN_","_IENN_","_IENNN_")" D @$S(AUTO="F":"KILL",AUTO'="F":"TT",1:"")
"RTN","PXQUTL3",105,0)
 Q
"RTN","PXQUTL3",106,0)
 ;
"RTN","PXQUTL3",107,0)
 ;
"RTN","PXQUTL3",108,0)
TT ;--QUERY FOR CORRECT ENTRY
"RTN","PXQUTL3",109,0)
 S DIR("A")="Should I fix this one by removing the reference ??  "
"RTN","PXQUTL3",110,0)
 S DIR("B")="NO"
"RTN","PXQUTL3",111,0)
 S DIR(0)="YAO" D ^DIR
"RTN","PXQUTL3",112,0)
 I Y=1 D
"RTN","PXQUTL3",113,0)
 .K @ARRAY
"RTN","PXQUTL3",114,0)
 I Y="^" Q
"RTN","PXQUTL3",115,0)
 Q
"RTN","PXQUTL3",116,0)
KILL ;--AUTOMATIC
"RTN","PXQUTL3",117,0)
 ;W !,"KILL "_ARRAY
"RTN","PXQUTL3",118,0)
 K @ARRAY
"RTN","PXQUTL3",119,0)
 Q
"RTN","PXQUTL3",120,0)
EXIT K DIR,DA,DIK
"RTN","PXQUTL3",121,0)
 Q
"RTN","PXQUTL3",122,0)
MON ;--MONITOR SITUATION
"RTN","PXQUTL3",123,0)
 D NOW^%DTC S NOW=% S:'$G(PAST) PAST=% I $G(PAST) D  S:'$G(PAST) PAST=%
"RTN","PXQUTL3",124,0)
 .I $P(NOW,".",1)'=$P(PAST,".",1) K PAST Q
"RTN","PXQUTL3",125,0)
 .I ($P(NOW,".",2)-$P(PAST,".",2))>60 D
"RTN","PXQUTL3",126,0)
 ..D CAL K PAST
"RTN","PXQUTL3",127,0)
 Q
"RTN","PXQUTL3",128,0)
CAL ;--CALCULATE TIME LEFT
"RTN","PXQUTL3",129,0)
 N PRVT,POVT,CPTT,VSTT
"RTN","PXQUTL3",130,0)
 N CPTP,VSTX,VSTXP     ;PX*1.0*131 (to satisfy ^XINDEX)
"RTN","PXQUTL3",131,0)
 S:'$G(PRVCNT) PRVCNT=1 S:'$G(POVCNT) POVCNT=1
"RTN","PXQUTL3",132,0)
 S:'$G(CPTCNT) CPTCNT=1 S:'$G(VSTCNT) VSTCNT=1
"RTN","PXQUTL3",133,0)
 S PRVT=$P($G(^AUPNVPRV(0)),"^",4)*3,PRVP=(($G(PRVCNT)/PRVT)*100)
"RTN","PXQUTL3",134,0)
 S POVT=$P($G(^AUPNVPOV(0)),"^",4)*4,POVP=(($G(POVCNT)/POVT)*100)
"RTN","PXQUTL3",135,0)
 S CPTT=$P($G(^AUPNVCPT(0)),"^",4)*4,CPTP=(($G(CPTCNT)/CPTT)*100)
"RTN","PXQUTL3",136,0)
 S VSTT=$P($G(^AUPNVSIT(0)),"^",4)*9,VSTP=(($G(VSTCNT)/VSTT)*100)
"RTN","PXQUTL3",137,0)
 S VSTX=$P($G(^AUPNVSIT(0)),"^",4),VSTXP=(($G(VSTXCNT)/VSTX)*100)
"RTN","PXQUTL3",138,0)
 I PRVCNT=1 S PRVCNT=0,PRVP=0
"RTN","PXQUTL3",139,0)
 I POVCNT=1 S POVCNT=0,POVP=0
"RTN","PXQUTL3",140,0)
 I CPTCNT=1 S CPTCNT=0,CPTP=0
"RTN","PXQUTL3",141,0)
 I VSTCNT=1 S VSTCNT=0,VSTP=0
"RTN","PXQUTL3",142,0)
 W !!,"   - - M O N I T O R  AT 1 MINUTE- -" N Y D YX^%DTC W " "_Y
"RTN","PXQUTL3",143,0)
 W !,"FILE",?20,"TOTAL",?35,"#FINISHED",?50,"%COMPLETED"
"RTN","PXQUTL3",144,0)
 W !,"V PROVIDER",?20,PRVT,?35,PRVCNT,?50,$E(PRVP,1,5)_"%"
"RTN","PXQUTL3",145,0)
 W !,"V POV",?20,POVT,?35,POVCNT,?50,$E(POVP,1,5)_"%"
"RTN","PXQUTL3",146,0)
 W !,"V CPT",?20,CPTT,?35,CPTCNT,?50,$E(CPTP,1,5)_"%"
"RTN","PXQUTL3",147,0)
 W !,"VISIT",?20,VSTT,?35,VSTCNT,?50,$E(VSTP,1,5)_"%"
"RTN","PXQUTL3",148,0)
 W !,XREF,?20,VSTX,?35,VSTXCNT,?50,$E(VSTXP,1,5)_"%"
"RTN","PXQUTL3",149,0)
 Q
"RTN","PXQUTL3",150,0)
PRMPT ;---PROMPT FOR PROMPTING
"RTN","PXQUTL3",151,0)
 S DIR("?",1)="By saying YES to this prompt, you will eliminate being asked"
"RTN","PXQUTL3",152,0)
 S DIR("?")="over and over again, 'Should I fix this one by removing the reference ??'"
"RTN","PXQUTL3",153,0)
 S DIR("A")="Eliminate Prompting for Confirmation?  "
"RTN","PXQUTL3",154,0)
 S DIR("B")="NO"
"RTN","PXQUTL3",155,0)
 S DIR(0)="YAO"
"RTN","PXQUTL3",156,0)
 D ^DIR
"RTN","PXQUTL3",157,0)
 I Y=1 S AUTO="F"
"RTN","PXQUTL3",158,0)
 K DIR
"RTN","PXQUTL3",159,0)
 Q
"RTN","PXQUTL3",160,0)
INF ;--LIST OF OTHER 6 V FILES
"RTN","PXQUTL3",161,0)
 W !!,"The 'OTHER' 6 V-files are:"
"RTN","PXQUTL3",162,0)
 W !,"V IMMUNIZATION   file#9000010.11"
"RTN","PXQUTL3",163,0)
 W !,"V SKIN TEST      file#9000010.12"
"RTN","PXQUTL3",164,0)
 W !,"V EXAM           file#9000010.13"
"RTN","PXQUTL3",165,0)
 W !,"V TREATMENT      file#9000010.15"
"RTN","PXQUTL3",166,0)
 W !,"V PATIENT ED     file#9000010.16"
"RTN","PXQUTL3",167,0)
 W !,"V HEALTH FACTOR  file#9000010.23",!
"RTN","PXQUTL3",168,0)
 Q
"VER")
8.0^22
**END**
**END**
