Released PRPF*3*10 SEQ #10
Extracted from mail message
**KIDS**:PRPF*3.0*10^

**INSTALL NAME**
PRPF*3.0*10
"BLD",2036,0)
PRPF*3.0*10^INTEGRATED PATIENT FUNDS^0^2990820^y
"BLD",2036,4,0)
^9.64PA^^
"BLD",2036,"ABPKG")
n
"BLD",2036,"KRN",0)
^9.67PA^19^18
"BLD",2036,"KRN",.4,0)
.4
"BLD",2036,"KRN",.401,0)
.401
"BLD",2036,"KRN",.402,0)
.402
"BLD",2036,"KRN",.403,0)
.403
"BLD",2036,"KRN",.5,0)
.5
"BLD",2036,"KRN",.84,0)
.84
"BLD",2036,"KRN",3.6,0)
3.6
"BLD",2036,"KRN",3.8,0)
3.8
"BLD",2036,"KRN",9.2,0)
9.2
"BLD",2036,"KRN",9.8,0)
9.8
"BLD",2036,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",2036,"KRN",9.8,"NM",1,0)
PRPFQ^^0^B13996764
"BLD",2036,"KRN",9.8,"NM","B","PRPFQ",1)

"BLD",2036,"KRN",19,0)
19
"BLD",2036,"KRN",19.1,0)
19.1
"BLD",2036,"KRN",101,0)
101
"BLD",2036,"KRN",409.61,0)
409.61
"BLD",2036,"KRN",771,0)
771
"BLD",2036,"KRN",869.2,0)
869.2
"BLD",2036,"KRN",870,0)
870
"BLD",2036,"KRN",8994,0)
8994
"BLD",2036,"KRN","B",.4,.4)

"BLD",2036,"KRN","B",.401,.401)

"BLD",2036,"KRN","B",.402,.402)

"BLD",2036,"KRN","B",.403,.403)

"BLD",2036,"KRN","B",.5,.5)

"BLD",2036,"KRN","B",.84,.84)

"BLD",2036,"KRN","B",3.6,3.6)

"BLD",2036,"KRN","B",3.8,3.8)

"BLD",2036,"KRN","B",9.2,9.2)

"BLD",2036,"KRN","B",9.8,9.8)

"BLD",2036,"KRN","B",19,19)

"BLD",2036,"KRN","B",19.1,19.1)

"BLD",2036,"KRN","B",101,101)

"BLD",2036,"KRN","B",409.61,409.61)

"BLD",2036,"KRN","B",771,771)

"BLD",2036,"KRN","B",869.2,869.2)

"BLD",2036,"KRN","B",870,870)

"BLD",2036,"KRN","B",8994,8994)

"BLD",2036,"QUES",0)
^9.62^^
"BLD",2036,"REQB",0)
^9.611^^
"MBREQ")
0
"PKG",466,-1)
1^1
"PKG",466,0)
INTEGRATED PATIENT FUNDS^PRPF^PATIENT FUNDS.  INTEGRATED WITH PATIENT FILE
"PKG",466,20,0)
^9.402P^^
"PKG",466,22,0)
^9.49I^1^1
"PKG",466,22,1,0)
3.0^2970224
"PKG",466,22,1,"PAH",1,0)
10^2990820
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PRPFQ")
0^1^B13996764
"RTN","PRPFQ",1,0)
PRPFQ ;ALTOONA/CTB RSD/ID TKW/BOISE QUE PRINTOUTS ;3/7/97  11:52 AM
"RTN","PRPFQ",2,0)
V ;;3.0;PATIENT FUNDS;**6,10**;JUNE 1, 1989
"RTN","PRPFQ",3,0)
 ;INPUT REQUIRED STANDARD ZT VARIABLES
"RTN","PRPFQ",4,0)
 ;IF PRPFQ("FORCEQ") IS DEFINED ROUTINE WILL FORCE %ZTLOAD TO BE INVOKED
"RTN","PRPFQ",5,0)
 S XION=ION K IOP,ZTSK W:$D(PRPFQ("FORCEQ")) !,"QUEUE TO PRINT ON:" S %ZIS("B")="",%ZIS="NQ" D ^%ZIS I POP W "  <No Device Selected>",*7,! S IOP=XION D ^%ZIS K XION R X:2 G EXIT
"RTN","PRPFQ",6,0)
 K XION S (PRIOP,IOP)=ION_";"_IOST_";"_IOM_";"_IOSL I IO=IO(0),'$D(PRPFQ("FORCEQ")) D ^%ZIS D @ZTRTN D CLOSE G EXIT
"RTN","PRPFQ",7,0)
 D DQTIME I '% W "  <Nothing Queued>",*7 D CLOSE G EXIT
"RTN","PRPFQ",8,0)
 S (ZTSAVE("DUZ"),ZTSAVE("PRIOP"))="" D ^%ZTLOAD W "  <Request Queued>",*7,!
"RTN","PRPFQ",9,0)
EXIT K %ZIS,I,IOP,K,N,PRIOP,PRPFL,PRPFQ G ZTKILL
"RTN","PRPFQ",10,0)
CLOSE X ^%ZIS("C") Q
"RTN","PRPFQ",11,0)
MSG ;;PRINTS MESSAGE CONTAINED IN X.  IF IT DOESNT FIT ON ONE LINE, X IS PRINTED ON THE NEXT LINE.
"RTN","PRPFQ",12,0)
 Q:$D(ZTQUEUED)
"RTN","PRPFQ",13,0)
 N X1,X2,ZX Q:'$D(X)  I $S('$D(IOM):1,IOM="":1,1:0) W $P(X,"*") W:X["*" *7 R X:2 K X Q
"RTN","PRPFQ",14,0)
 I ($L($P(X,"*"))+4+$X)>IOM W !,?(IOM-($L($P(X,"*"))+4))
"RTN","PRPFQ",15,0)
 W:X["*" *7 F ZX=1:1 D BRK:($L(X)+6)>IOM W "  ",$P(X,"*"),! Q:'$D(X1)  S X=X1 K X1
"RTN","PRPFQ",16,0)
 Q
"RTN","PRPFQ",17,0)
BRK N I
"RTN","PRPFQ",18,0)
 S X1=X F I=1:1 Q:$L($P(X," ",1,I))>(IOM-6)!($L(X)<(IOM-6))  S X1=$P(X," ",1,I)
"RTN","PRPFQ",19,0)
 S X2=$P(X," ",I,999),X=X1,X1=X2 K X2 Q
"RTN","PRPFQ",20,0)
DQTIME S U="^",%=1 K ZTDTH R !,"Enter DATE & TIME to print: NOW// ",X:$S($D(DTIME):DTIME,1:30) I X[U!('$T) S %=0 K X Q
"RTN","PRPFQ",21,0)
 S:X="" X="NOW" S %DT="ER" D ^%DT S %=0 I Y<0 G DQTIME
"RTN","PRPFQ",22,0)
 S X=Y D H^%DTC S Y=Y_"000",ZTDTH=%H_","_($E(Y,9,10)*60+$E(Y,11,12)*60),%=1
"RTN","PRPFQ",23,0)
 K %DT,%H,%Y,X,Y Q
"RTN","PRPFQ",24,0)
DRNG ;SELECT RANGE OF DATES
"RTN","PRPFQ",25,0)
 K %DT W ! S %DT="EAT",%DT("A")="Enter Beginning Date: " D ^%DT I Y<0 K %H,%I,%DT,TO,FR,X,Y S %=0 Q
"RTN","PRPFQ",26,0)
 S FR=+Y S %DT("A")="   Enter Ending Date: " D ^%DT I X["^" K %DT,%H,%I,FR,Y S %=0 Q
"RTN","PRPFQ",27,0)
 I Y<0 W "??",!,*7 K %DT,FR G DRNG
"RTN","PRPFQ",28,0)
 S TO=+Y I TO<FR W !,*7,"Illogical range of dates. Try again.",! G DRNG
"RTN","PRPFQ",29,0)
 S %=1 K %DT,%H,%I Q
"RTN","PRPFQ",30,0)
RNG ; ALLOW ENTRY OF BEGINNING AND ENDING RANGE
"RTN","PRPFQ",31,0)
 S %=0,FR="",TO="z" S:'$D(DTIME) DTIME=120 W !!,"Start with "_M_": FIRST// " R FR:DTIME S:$T=0 FR="^" G:FR["^" RQ I FR["?",'$D(PRPFD) G RQ
"RTN","PRPFQ",32,0)
 S:FR="" FR="@" I FR'["@" I $D(PRPFD) S %DT="ET",X=FR D ^%DT G:Y<0 RNG S FR=Y
"RTN","PRPFQ",33,0)
TO W !,"Go to "_M_": LAST// " R TO:DTIME S:$T=0 TO="^" G:TO["^" RQ G:TO["?"&('$D(PRPFD)) RNG S:TO="" TO="z" I TO="z" G RQ1
"RTN","PRPFQ",34,0)
 I TO'["@" I $D(PRPFD) S X=TO D ^%DT G:Y<0 TO S TO=Y
"RTN","PRPFQ",35,0)
 I (FR["@")!(TO["@") S %=1 Q
"RTN","PRPFQ",36,0)
 I (+FR=FR)&(+TO=TO) I FR>TO W *7,!,"INVALID RANGE" G RNG
"RTN","PRPFQ",37,0)
 I (+FR'=FR)!(+TO'=TO) I FR]TO W *7,!,"INVALID RANGE" G RNG
"RTN","PRPFQ",38,0)
 Q
"RTN","PRPFQ",39,0)
RQ S %=0 K FR,TO,%DT,X,Y Q
"RTN","PRPFQ",40,0)
RQ1 S %=1 K %DT,M,PRPFD,X,Y Q
"RTN","PRPFQ",41,0)
PAUSE ; MAKES TERMINAL PAUSE WHEN DISPLAYING DATA ONLINE
"RTN","PRPFQ",42,0)
 Q:$E($G(IOST),1,2)'="C-"
"RTN","PRPFQ",43,0)
 W !!,"   ^ TO QUIT" R X:DTIME S:$T=0 X="^" S J=0
"RTN","PRPFQ",44,0)
 Q
"RTN","PRPFQ",45,0)
ENCON I $E($G(IOST),1,2)="C-" W !,"  ** Press RETURN to Continue **" R X:DTIME K X
"RTN","PRPFQ",46,0)
 QUIT
"RTN","PRPFQ",47,0)
DIKILL ; KILL STANDARD FILE MANAGER VARIABLES
"RTN","PRPFQ",48,0)
 K %,%DT,%X,%Y,BY,D,DA,DCC,DIC,DIE,DIJ,DIOEND,DIPT,DP,DR,D0,D1,D2,DQ,DHD,DLAYGO,F,FLDS,FR,I,IOX,IOY,J,K,L,O,P,POP,W,X,Y,Z,ZTSK Q
"RTN","PRPFQ",49,0)
DIWKILL ; KILL FILE MANAGER WORD PROCESSING VARIABLES
"RTN","PRPFQ",50,0)
 K DIW,DIWF,DIWI,DIWL,DIWR,DIWT,DIWTC,DIWX,DWLW,X1 Q
"RTN","PRPFQ",51,0)
ZTKILL ; KILL VARIABLES USED BY UNIVERSAL TASK MANAGER
"RTN","PRPFQ",52,0)
 K %ZIS,POP,ZTRTN,ZTUCI,ZTDTH,ZTSAVE,ZTDESC,ZTIO,ZTSK,ZTSKT,ZTDHD,ZTREQ Q
"RTN","PRPFQ",53,0)
LOCK ;LOCK GLOBAL THAT IS BEING ACCESSED BY ANOTHER USER
"RTN","PRPFQ",54,0)
 L @(DIC_DA_"):30") S PRPFL=$T Q:PRPFL  W !!,$C(7),"THIS ENTRY IS BEING EDITED BY ANOTHER USER.  TRY LATER." Q
"RTN","PRPFQ",55,0)
D ;CONVERTS FILEMAN INTERNAL DATE TO EXTERNAL FORMAT
"RTN","PRPFQ",56,0)
 S:Y Y=$S($E(Y,4,5):$P("JAN^FEB^MAR^APR^MAY^JUN^JUL^AUG^SEP^OCT^NOV^DEC","^",+$E(Y,4,5))_" ",1:"")_$S($E(Y,6,7):+$E(Y,6,7)_",",1:"")_($E(Y,1,3)+1700)_$P("@"_$E(Y_0,9,10)_":"_$E(Y_"000",11,12),"^",Y[".")
"RTN","PRPFQ",57,0)
 Q
"RTN","PRPFQ",58,0)
CNVD ; CONVERTS DATE FROM INTERNAL (YYYMMDD) STORAGE FORMAT TO MM/DD/YY
"RTN","PRPFQ",59,0)
 S X=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3) Q
"RTN","PRPFQ",60,0)
NOW S %H=$H
"RTN","PRPFQ",61,0)
 ; PRPF*3*10 - Changed (Y2K issue) to call %DTC
"RTN","PRPFQ",62,0)
 D YX^%DTC S %X=Y
"RTN","PRPFQ",63,0)
 Q
"RTN","PRPFQ",64,0)
 ;
"VER")
8.0^22.0
**END**
**END**
