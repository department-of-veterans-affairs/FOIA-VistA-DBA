$TXT Created by ACKERMAN,WILLIAM A at DEV.DEV.ISC-CHICAGO.VA.GOV  (KIDS) on MONDAY, 11/27/00 at 11:11
=============================================================================
Run Date: DEC 15, 2000                     Designation: MC*2.3*29
Package : MC - MEDICINE                        Priority: Mandatory
Version : 2.3        SEQ #27                    Status: Released
=============================================================================

Associated patches: (v)MC*2.3*22   <<= must be installed BEFORE `MC*2.3*29'

Subject: X-REFERENCE CORRECTION & PRINT CORRECTION

Category: 
  - Routine
  - Data Dictionary

Description: 
============

 This patch is to address two Medicine problems.
  
 1) When a user executed the option Summary of Patient Procedures 
    [MCARSUMMARY] and printed out a PFT Summary report for a patient and 
    then printed out an ECHO report for that patient, the ECHO report 
    would have the wrong Procedure Date. This problem was referred 
    from NOIS DAN-1000-41121.
  
  2) If the DATE/TIME field (.01) in PULMONARY FUNCTION TESTS file (#700)
     for a Procedure was changed then the subsequent Studies for that PFT
     would not reflect the corrected date/time.  In order for the studies
     to reflect the correct Date/Time, the site was deleting the 
     cross-references to the studies.  As a result the system would 
     error out with an undefined.  Analysis of the problem revealed 
     that the cross-references were not being updated when the DATE/TIME 
     field (.01) and the MEDICAL PATIENT (1) fields there edited.  This 
     problem was referred from NOIS ALB-0900-52609.  The affected 
     cross-references and related fields are:
  
     Field Name         X-ref           Field Number
     -------------------------------------------------------
     VOLUME STUDY       "AV"            (field 17, multiple)
     FLOWS STUDY        "AF"            (field 18, multiple)
     SPECIAL STUDY      "AS"            (field 32, multiple)
     DLCO-SB            "ADI"           (field 19)
  
  
  DATA DICTIONARY:
  ===============
  In order to cause all the indexes to fire off correctly, 2 New-Style 
  Indexes have been added.  
   1) A new New-Style MUMPS index was added that will reflect any 
      changes to DATE/TIME (.01) and MEDICAL PATIENT (1) fields.
      The New-Style index will update the following cross-reference:
  
      "AV" Volume Studies (Field 17, multiple field)
      "AF" Flow Studies   (Field 18, multiple field)
      "AS" Special Study  (Field 32, multiple field) 
  
   2) The Traditional "ADI" index on DLCO-SB (field 19) was removed
      and replaced with a New-Style Regular "ADI" index.
  
  PRE-INIT ROUTINE:
  =================
  The routine MC29PRE will delete the AS, AV, AF and ADI cross-references
  for all the entries in PULMONARY FUNCTION TESTS file (#700) and then 
  execute the set logic to ensure that all of the cross-references are up to
  date.  A New-Style AS index will replace the old AS index. This 
  routine will be deleted as part of the KIDS install.
  
  Associated NOIS:
  ===============
    DAN-1000-41121 MCARGDT2 Date Variable
    ALB-0900-52609 <UNDEF>PRETEST+2~MCPFTP2
  
  Test Sites:
  ==========
  DANVILLE, IL
  ALBUQUERQUE, NM
  
  Routine Change:
   
  Routine Summary:
  ===============
  <tab>;;2.3;Medicine;**[patch list]**;09/13/1996
   
                CHECK^XTSUMBLD results
    
  Routine Name   Before Patch      After Patch       Patch List
  ------------   ------------      -----------       -------------
  MCARUTL1            NA             3170442               29
  MCPFTP1A         1596988           1640834            14,22,29
  MC29PRE             NA             2373263               29
  
  Installation Instructions:
  ==========================
   
  1) This patch can be installed with users on the system.
       
     Installation can take between five to fifteen minutes
     depending on the total number of entries in file 700.
     These routines are not recommended for mapping.
     
  2) Use the INSTALL/CHECK MESSAGE Option on the PackMan Menu to
     Load the KIDS Transport Distribution Global.
     
  3) From the Kernel Installation and Distribution System (KIDS)
     menu, Select the Installation menu.
      
  4) From the Installation menu you may elect to use the following 
     options (when prompted for INSTALL NAME, enter MC*2.3*29):
    
           a.  Compare Transport Global to Current System
           b.  Verify Checksums in Transport Global
           c.  Backup a Transport Global
           d.  Print Transport Global
     
  5) Use the Install Package(s) option and select the Package 
     'MC*2.3*29'.
     
  6) When prompted 'Want KIDS to INHIBIT LOGONS during the
     install? YES//' answer NO.
      
  7) When prompted 'Want to DISABLE Scheduled Options, Menu 
     Options, and Protocols? YES//' answer NO.

Routine Information:
====================

Routine Name:
  - MCARUTL1


Routine Checksum:

Routine Name:
  - MCPFTP1A


Routine Checksum:

Routine Name:
  - MC29PRE


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : ACKERMAN,WILLIAM               Date Entered : OCT 17, 2000
Completed By: REZNIK,CHARMAINE              Date Completed: DEC 13, 2000
Released By : EICHELBERGER,NANCY            Date Released : DEC 15, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
