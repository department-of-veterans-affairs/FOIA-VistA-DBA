EMERGENCY Released IB*2*215 SEQ #225
Extracted from mail message
**KIDS**:IB*2.0*215^

**INSTALL NAME**
IB*2.0*215
"BLD",4681,0)
IB*2.0*215^INTEGRATED BILLING^0^3040121^y
"BLD",4681,1,0)
^^1^1^3030804^^
"BLD",4681,1,1,0)
OIG/IVM 60-DAY BILL DROP
"BLD",4681,4,0)
^9.64PA^350^1
"BLD",4681,4,350,0)
350
"BLD",4681,4,350,222)
y^y^f^^^^n^^n
"BLD",4681,4,350,224)

"BLD",4681,4,"B",350,350)

"BLD",4681,"ABPKG")
n
"BLD",4681,"INID")
^y
"BLD",4681,"INIT")
IB20P215
"BLD",4681,"KRN",0)
^9.67PA^8989.52^19
"BLD",4681,"KRN",.4,0)
.4
"BLD",4681,"KRN",.401,0)
.401
"BLD",4681,"KRN",.402,0)
.402
"BLD",4681,"KRN",.403,0)
.403
"BLD",4681,"KRN",.5,0)
.5
"BLD",4681,"KRN",.84,0)
.84
"BLD",4681,"KRN",3.6,0)
3.6
"BLD",4681,"KRN",3.8,0)
3.8
"BLD",4681,"KRN",9.2,0)
9.2
"BLD",4681,"KRN",9.8,0)
9.8
"BLD",4681,"KRN",9.8,"NM",0)
^9.68A^5^4
"BLD",4681,"KRN",9.8,"NM",1,0)
IBAMTC^^0^B22355495
"BLD",4681,"KRN",9.8,"NM",3,0)
IBAMTV3^^0^B9994089
"BLD",4681,"KRN",9.8,"NM",4,0)
IBOHRL^^0^B11470281
"BLD",4681,"KRN",9.8,"NM",5,0)
IBOHRAR^^0^B26839066
"BLD",4681,"KRN",9.8,"NM","B","IBAMTC",1)

"BLD",4681,"KRN",9.8,"NM","B","IBAMTV3",3)

"BLD",4681,"KRN",9.8,"NM","B","IBOHRAR",5)

"BLD",4681,"KRN",9.8,"NM","B","IBOHRL",4)

"BLD",4681,"KRN",19,0)
19
"BLD",4681,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",4681,"KRN",19,"NM",1,0)
IB OUTPUT RELEASED CHARGES RPT^^0
"BLD",4681,"KRN",19,"NM","B","IB OUTPUT RELEASED CHARGES RPT",1)

"BLD",4681,"KRN",19.1,0)
19.1
"BLD",4681,"KRN",101,0)
101
"BLD",4681,"KRN",409.61,0)
409.61
"BLD",4681,"KRN",771,0)
771
"BLD",4681,"KRN",870,0)
870
"BLD",4681,"KRN",8989.51,0)
8989.51
"BLD",4681,"KRN",8989.52,0)
8989.52
"BLD",4681,"KRN",8994,0)
8994
"BLD",4681,"KRN","B",.4,.4)

"BLD",4681,"KRN","B",.401,.401)

"BLD",4681,"KRN","B",.402,.402)

"BLD",4681,"KRN","B",.403,.403)

"BLD",4681,"KRN","B",.5,.5)

"BLD",4681,"KRN","B",.84,.84)

"BLD",4681,"KRN","B",3.6,3.6)

"BLD",4681,"KRN","B",3.8,3.8)

"BLD",4681,"KRN","B",9.2,9.2)

"BLD",4681,"KRN","B",9.8,9.8)

"BLD",4681,"KRN","B",19,19)

"BLD",4681,"KRN","B",19.1,19.1)

"BLD",4681,"KRN","B",101,101)

"BLD",4681,"KRN","B",409.61,409.61)

"BLD",4681,"KRN","B",771,771)

"BLD",4681,"KRN","B",870,870)

"BLD",4681,"KRN","B",8989.51,8989.51)

"BLD",4681,"KRN","B",8989.52,8989.52)

"BLD",4681,"KRN","B",8994,8994)

"BLD",4681,"QUES",0)
^9.62^^
"BLD",4681,"REQB",0)
^9.611^10^10
"BLD",4681,"REQB",1,0)
IB*2.0*132^1
"BLD",4681,"REQB",2,0)
IB*2.0*137^1
"BLD",4681,"REQB",3,0)
IB*2.0*150^1
"BLD",4681,"REQB",4,0)
IB*2.0*153^1
"BLD",4681,"REQB",5,0)
IB*2.0*183^1
"BLD",4681,"REQB",6,0)
IB*2.0*176^1
"BLD",4681,"REQB",7,0)
IB*2.0*70^1
"BLD",4681,"REQB",8,0)
IB*2.0*95^1
"BLD",4681,"REQB",9,0)
IVM*2.0*96^1
"BLD",4681,"REQB",10,0)
EAS*1.0*47^1
"BLD",4681,"REQB","B","EAS*1.0*47",10)

"BLD",4681,"REQB","B","IB*2.0*132",1)

"BLD",4681,"REQB","B","IB*2.0*137",2)

"BLD",4681,"REQB","B","IB*2.0*150",3)

"BLD",4681,"REQB","B","IB*2.0*153",4)

"BLD",4681,"REQB","B","IB*2.0*176",6)

"BLD",4681,"REQB","B","IB*2.0*183",5)

"BLD",4681,"REQB","B","IB*2.0*70",7)

"BLD",4681,"REQB","B","IB*2.0*95",8)

"BLD",4681,"REQB","B","IVM*2.0*96",9)

"FIA",350)
INTEGRATED BILLING ACTION
"FIA",350,0)
^IB(
"FIA",350,0,0)
350
"FIA",350,0,1)
y^y^f^^^^n^^n
"FIA",350,0,10)

"FIA",350,0,11)

"FIA",350,0,"RLRO")

"FIA",350,0,"VR")
2.0^IB
"FIA",350,350)
0
"INIT")
IB20P215
"KRN",19,7039,-1)
0^1
"KRN",19,7039,0)
IB OUTPUT RELEASED CHARGES RPT^On Hold/Hold-Review Charges Released to AR^^R^^^^^^^^INTEGRATED BILLING
"KRN",19,7039,1,0)
^19.06^3^3^3031117^^^
"KRN",19,7039,1,1,0)
This report lists all charges identified as once being on ON HOLD or on
"KRN",19,7039,1,2,0)
HOLD-REVIEW status that currently have a status of BILLED and the DATE
"KRN",19,7039,1,3,0)
LAST UPDATED falls within the date range the user specifies.
"KRN",19,7039,25)
EN^IBOHRAR
"KRN",19,7039,"U")
ON HOLD/HOLD-REVIEW CHARGES RE
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",200,-1)
1^1
"PKG",200,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",200,20,0)
^9.402P^1^1
"PKG",200,20,1,0)
2^^IBAXDR
"PKG",200,20,1,1)

"PKG",200,20,"B",2,1)

"PKG",200,22,0)
^9.49I^1^1
"PKG",200,22,1,0)
2.0^2940321^2990406^2447
"PKG",200,22,1,"PAH",1,0)
215^3040121
"PKG",200,22,1,"PAH",1,1,0)
^^1^1^3040121
"PKG",200,22,1,"PAH",1,1,1,0)
OIG/IVM 60-DAY BILL DROP
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
5
"RTN","IB20P215")
0^^B844393
"RTN","IB20P215",1,0)
IB20P215 ;ALB/RB-IB*2*215 POST-INIT;NOV 3 2003
"RTN","IB20P215",2,0)
 ;;2.0;INTEGRATED BILLING;**215**;21-MAR-94
"RTN","IB20P215",3,0)
 ; - This post-init will go thru all HOLD-REVIEW charges in file #350
"RTN","IB20P215",4,0)
 ;   and copy the date in the file's DATE LAST UPDATED field into the
"RTN","IB20P215",5,0)
 ;   new HOLD-REVIEW DATE field for each entry.
"RTN","IB20P215",6,0)
 D MES^XPDUTL("Going thru all the HOLD-REVIEW charges in file #350 and")
"RTN","IB20P215",7,0)
 D MES^XPDUTL("copying the DATE LAST UPDATED date into the HOLD-REVIEW")
"RTN","IB20P215",8,0)
 D MES^XPDUTL("DATE field for each entry ")
"RTN","IB20P215",9,0)
 S IB0=0 F  S IB0=$O(^IB("AC",21,IB0)) Q:'IB0  I $D(^IB(IB0,1)) D
"RTN","IB20P215",10,0)
 .S $P(^IB(IB0,1),U,7)=$E($P(^IB(IB0,1),U,4),1,7) W "."
"RTN","IB20P215",11,0)
 K IB0 Q
"RTN","IBAMTC")
0^1^B22355495
"RTN","IBAMTC",1,0)
IBAMTC ;ALB/CPM-MEANS TEST NIGHTLY COMPILATION JOB ; 09-OCT-91
"RTN","IBAMTC",2,0)
V ;;2.0;INTEGRATED BILLING;**34,52,70,93,100,118,115,132,150,153,137,176,215**;21-MAR-94
"RTN","IBAMTC",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IBAMTC",4,0)
 ;
"RTN","IBAMTC",5,0)
INIT ; Entry point - initialize variables and parameters
"RTN","IBAMTC",6,0)
 ;
"RTN","IBAMTC",7,0)
 ;***
"RTN","IBAMTC",8,0)
 ;S XRTL=$ZU(0),XRTN="IBAMTC-1" D T0^%ZOSV ;start rt clock
"RTN","IBAMTC",9,0)
 ;
"RTN","IBAMTC",10,0)
 D NIGHTLY^IBTRKR ; claims tracking nightly update
"RTN","IBAMTC",11,0)
 ;
"RTN","IBAMTC",12,0)
 D ^IBCD ; automated biller
"RTN","IBAMTC",13,0)
 ;
"RTN","IBAMTC",14,0)
 D RELPR^IBAMTV3 ; auto-release patient charges on hold at least 60 days
"RTN","IBAMTC",15,0)
 ;
"RTN","IBAMTC",16,0)
 D EN^IBOHRL ; auto-release patient charges on hold longer than 90 days
"RTN","IBAMTC",17,0)
 ;
"RTN","IBAMTC",18,0)
 K IBDT D BJ^IBJDE  ; Automated DM extract monthly background job.
"RTN","IBAMTC",19,0)
 ;
"RTN","IBAMTC",20,0)
 D ^IBATEI1 ; transfer pricing background job
"RTN","IBAMTC",21,0)
 ;
"RTN","IBAMTC",22,0)
 D NIGHT^IBARXMA ; transmit copay cap info
"RTN","IBAMTC",23,0)
 ;
"RTN","IBAMTC",24,0)
 D NOW^%DTC S IBAFY=$$FY^IBOUTL(X),DT=X,U="^"
"RTN","IBAMTC",25,0)
 S (IBERRN,IBWHER,IBJOB,IBY,Y)=1,IBCNT=0 K ^TMP($J,"IBAMTC")
"RTN","IBAMTC",26,0)
 D SITE^IBAUTL I Y<1 S IBY=Y D ERR G CLEAN
"RTN","IBAMTC",27,0)
 D SERV^IBAUTL2 I IBY<1 D ERR G CLEAN
"RTN","IBAMTC",28,0)
 ;
"RTN","IBAMTC",29,0)
 ; Compile Means Test copay and per diem charges for all inpatients
"RTN","IBAMTC",30,0)
 S (IBWARD,DFN)="" F  S IBWARD=$O(^DPT("CN",IBWARD)) Q:IBWARD=""  F  S DFN=$O(^DPT("CN",IBWARD,DFN)) Q:'DFN  W !,DFN S IBA=^(DFN),IBY=1 D PROC
"RTN","IBAMTC",31,0)
 ;
"RTN","IBAMTC",32,0)
 ;check & start LTC Monthly Job LTC if necessary
"RTN","IBAMTC",33,0)
 D NJ^IBAECN1
"RTN","IBAMTC",34,0)
 ;
"RTN","IBAMTC",35,0)
 D EN^IBCE ; Transmit electronic bills
"RTN","IBAMTC",36,0)
 ; Clean up expired Means Test billing clocks
"RTN","IBAMTC",37,0)
CLEAN S %H=+$H-1 D YMD^%DTC S IBDT=X,(IBN,DFN)=0,IBWHER=23
"RTN","IBAMTC",38,0)
 F  S DFN=$O(^IBE(351,"ACT",DFN)) Q:'DFN  D
"RTN","IBAMTC",39,0)
 . F  S IBN=$O(^IBE(351,"ACT",DFN,IBN)) Q:'IBN  D
"RTN","IBAMTC",40,0)
 ..  S IBY=1,X1=IBDT,(X2,IBCLDT)=+$P($G(^IBE(351,+IBN,0)),"^",3) D ^%DTC
"RTN","IBAMTC",41,0)
 ..  I X>364 S IBCLDA=IBN D CLOCKCL^IBAUTL3,ERR:IBY<1
"RTN","IBAMTC",42,0)
 ;
"RTN","IBAMTC",43,0)
 ; Close out incomplete events where the patient has been discharged,
"RTN","IBAMTC",44,0)
 ; pass the related charges if they appear correct, and send a bulletin
"RTN","IBAMTC",45,0)
 ; - also, send bulletins on old incomplete charges where there is no
"RTN","IBAMTC",46,0)
 ; incomplete event
"RTN","IBAMTC",47,0)
 D MAIN^IBAMTC2
"RTN","IBAMTC",48,0)
 ;
"RTN","IBAMTC",49,0)
 ;D ^IBAMTC1
"RTN","IBAMTC",50,0)
 ;
"RTN","IBAMTC",51,0)
 ; Send bulletin reporting job completion
"RTN","IBAMTC",52,0)
 D BULL^IBAMTC1
"RTN","IBAMTC",53,0)
 ;
"RTN","IBAMTC",54,0)
 ; -- purge alerts
"RTN","IBAMTC",55,0)
 D PURGE^IBAERR3
"RTN","IBAMTC",56,0)
 ;
"RTN","IBAMTC",57,0)
 ; Monitor special inpatient billing cases
"RTN","IBAMTC",58,0)
 D BGJ^IBAMTI
"RTN","IBAMTC",59,0)
 ;
"RTN","IBAMTC",60,0)
 ; Print Pharmacy Copay Exemption Income Test Reminder Letters
"RTN","IBAMTC",61,0)
 D EN^IBARXEL
"RTN","IBAMTC",62,0)
 ;
"RTN","IBAMTC",63,0)
 ; Kill variables and quit.
"RTN","IBAMTC",64,0)
 D KILL1
"RTN","IBAMTC",65,0)
 ;
"RTN","IBAMTC",66,0)
 I $D(ZTQUEUED),$G(ZTSK) D KILL^%ZTLOAD
"RTN","IBAMTC",67,0)
 ;***
"RTN","IBAMTC",68,0)
 ;I $D(XRT0) S:'$D(XRTN) XRTN="IBAMTC" D T1^%ZOSV ;stop rt clock
"RTN","IBAMTC",69,0)
 ;
"RTN","IBAMTC",70,0)
 Q
"RTN","IBAMTC",71,0)
 ;
"RTN","IBAMTC",72,0)
 ;
"RTN","IBAMTC",73,0)
PROC ; Process all currently admitted patients.
"RTN","IBAMTC",74,0)
 ;--
"RTN","IBAMTC",75,0)
 ;1) checks effective date for LTC legislation.
"RTN","IBAMTC",76,0)
 ;2) determine current treating specialty (TS) for the 
"RTN","IBAMTC",77,0)
 ;"original" admission.
"RTN","IBAMTC",78,0)
 ;if TS is LTC: 
"RTN","IBAMTC",79,0)
 ;  - creates new LTC #350 parent event entry if necessary.
"RTN","IBAMTC",80,0)
 ;NOTE: It doesn't stop MT billing for LTC. CALC^IBAUTL4 does it.
"RTN","IBAMTC",81,0)
 I $$ISLTCADM^IBAECN1(DFN,IBA)
"RTN","IBAMTC",82,0)
 ;--
"RTN","IBAMTC",83,0)
 D ORIG  ; find "original" admission date
"RTN","IBAMTC",84,0)
 Q:$$BILST^DGMTUB(DFN)<IBADMDT  ; pat. was last billable before admission
"RTN","IBAMTC",85,0)
 Q:IBADMDT\1=DT  ; patient was admitted today - process tomorrow
"RTN","IBAMTC",86,0)
 Q:+$$MVT^DGPMOBS(IBA)  ; admitted for Observation & Examination
"RTN","IBAMTC",87,0)
 Q:$O(^IBE(351.2,"AC",IBA,0))  ; skip special inpatient admissions
"RTN","IBAMTC",88,0)
 ;
"RTN","IBAMTC",89,0)
 ; - if vet is SC, create a Special Inpatient Billing Case
"RTN","IBAMTC",90,0)
 ;   in file #351.2 (use code 3 for SC, as it is changed to 4 in IBAMTI)
"RTN","IBAMTC",91,0)
 D ELIG^VADPT I VAEL(3) D ADM^IBAMTI(DFN,IBA,3) Q
"RTN","IBAMTC",92,0)
 ;
"RTN","IBAMTC",93,0)
 ; - gather event information
"RTN","IBAMTC",94,0)
 D EVFIND^IBAUTL3 I 'IBEVDA D BSEC Q:'IBBS  ; wasn't billable yesterday
"RTN","IBAMTC",95,0)
 S X=IBADMDT D H^%DTC S IBBDT=%H D:'IBEVDA LAST^IBAUTL5
"RTN","IBAMTC",96,0)
 I IBEVDA,IBEVCAL S X1=IBEVCAL,X2=1 D C^%DTC S IBBDT=%H
"RTN","IBAMTC",97,0)
 S IBEDT=+$H-1
"RTN","IBAMTC",98,0)
 ; - gather clock information
"RTN","IBAMTC",99,0)
 S IBWHER=24 D CLOCK^IBAUTL3 I IBY<1 D ERR G PROCQ
"RTN","IBAMTC",100,0)
 I IBCLDA S X=IBCLDT D H^%DTC S IBCLCT=IBBDT-%H
"RTN","IBAMTC",101,0)
 ; - build charges for inpatient days
"RTN","IBAMTC",102,0)
 D ^IBAUTL4 I IBY<1 D ERR G PROCQ
"RTN","IBAMTC",103,0)
 ; - pass per diem if over 30 days old, or both per diem and the copay
"RTN","IBAMTC",104,0)
 ; - if 4 days from patient's statement date; update event, clock
"RTN","IBAMTC",105,0)
 S IBWHER=22
"RTN","IBAMTC",106,0)
 I $G(IBCHPDA),$P($G(^IB(+IBCHPDA,0)),"^",6)>30!($$STD^IBAUTL5(DFN)) S IBNOS=IBCHPDA D FILER^IBAUTL5 I IBY<1 D ERR G PROCQ
"RTN","IBAMTC",107,0)
 I $G(IBCHCDA),$$STD^IBAUTL5(DFN) S IBNOS=IBCHCDA D FILER^IBAUTL5 I IBY<1 D ERR G PROCQ
"RTN","IBAMTC",108,0)
 I IBEVDA,$D(IBDT) S IBEVCLD=IBDT D EVUPD^IBAUTL3
"RTN","IBAMTC",109,0)
 I IBCLDA D CLUPD^IBAUTL3
"RTN","IBAMTC",110,0)
PROCQ D KILL Q
"RTN","IBAMTC",111,0)
 ;
"RTN","IBAMTC",112,0)
BSEC ; Determine patient's bedsection for the previous day.
"RTN","IBAMTC",113,0)
 S X1=DT,X2=-1 D C^%DTC
"RTN","IBAMTC",114,0)
 S VAIP("D")=X_.2359 D IN5^VADPT S IBBS=$$SECT^IBAUTL5(+VAIP(8)) Q
"RTN","IBAMTC",115,0)
 ;
"RTN","IBAMTC",116,0)
ERR ; Error processing.  Input:  IBY, IBWHER, IBCNT
"RTN","IBAMTC",117,0)
 S IBDUZ=DUZ,IBCNT=IBCNT+1 D ^IBAERR1 K IBDUZ Q
"RTN","IBAMTC",118,0)
 ;S ^TMP($J,"IBAMTC","E",IBERRN)=$P(IBY,"^",2)_"^"_$S($D(DFN):DFN,1:"")_"^"_IBWHER,IBERRN=IBERRN+1 Q
"RTN","IBAMTC",119,0)
 ;
"RTN","IBAMTC",120,0)
ORIG ; Find first admission date, considering ASIH movements
"RTN","IBAMTC",121,0)
 ;  Input:  IBA    Output:  IBADMDT
"RTN","IBAMTC",122,0)
 N X,Y,Z S Z=IBA
"RTN","IBAMTC",123,0)
 F  S X=$G(^DGPM(Z,0)),Y=$P(X,"^",21) Q:Y=""  S Z=+$P($G(^DGPM(Y,0)),"^",14)
"RTN","IBAMTC",124,0)
 S IBADMDT=+X Q
"RTN","IBAMTC",125,0)
 ;
"RTN","IBAMTC",126,0)
KILL1 ; Kill all IB variables.
"RTN","IBAMTC",127,0)
 K VAERR,VAEL,VAIP,IBA,IBADMDT,IBAFY,IBATYP,IBBDT,IBBS,IBCHARG,IBCHG,IBCNT,IBCUR,IBDESC,IBDISDT,IBDT,IBDUZ,IBFAC,IBI,IBIL,IBJOB,IBLC,IBMAX
"RTN","IBAMTC",128,0)
 K IBN,IBNOS,IBSAVBS,IBSEQNO,IBSERV,IBSITE,IBSL,IBTRAN,IBX,IBY,IBWHER,IBWARD,IBEDT,IBCHCTY,IBCHPDE,IBERRN,IBASIH,IBRTED
"RTN","IBAMTC",129,0)
KILL ; Kill all IB variables needed to build charges.
"RTN","IBAMTC",130,0)
 K IBCLCT,IBCLDA,IBCLDT,IBCLDAY,IBCLDOL,IBCHPDA,IBCHCDA,IBCHG,IBCHFR,IBCHTO,IBCHTOTL,IBBS,IBNH
"RTN","IBAMTC",131,0)
 K IBEVDA,IBEVDT,IBEVCLD,IBEVCAL,IBEVNEW,IBEVOLD,IBMED,IBTOTL,IBDESC,IBIL,IBTRAN,IBATYP,IBDATE
"RTN","IBAMTC",132,0)
 Q
"RTN","IBAMTV3")
0^3^B9994089
"RTN","IBAMTV3",1,0)
IBAMTV3 ;ALB/CPM-RELEASE CHARGES PENDING REVIEW ;03-JUN-94
"RTN","IBAMTV3",2,0)
 ;;2.0;INTEGRATED BILLING;**15,153,183,215**;21-MAR-94
"RTN","IBAMTV3",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IBAMTV3",4,0)
 ;
"RTN","IBAMTV3",5,0)
EN ; Release Charges 'Pending Review' -- invoke the List Manager.
"RTN","IBAMTV3",6,0)
 I '$$CHECK^IBECEAU(1) G ENQ
"RTN","IBAMTV3",7,0)
 I '$D(^IB("AJ")) W !!,"There are no patients with charges pending review.",! G ENQ
"RTN","IBAMTV3",8,0)
 D EN^VALM("IB MT REVIEW PATIENT")
"RTN","IBAMTV3",9,0)
ENQ K IBSITE,IBSERV,IBFAC
"RTN","IBAMTV3",10,0)
 Q
"RTN","IBAMTV3",11,0)
 ;
"RTN","IBAMTV3",12,0)
HDR ; Build screen header.
"RTN","IBAMTV3",13,0)
 S VALMHDR(1)="Release Charges 'Pending Review'"
"RTN","IBAMTV3",14,0)
 S VALMHDR(2)=$J("",45)_"Date of     MT            Active"
"RTN","IBAMTV3",15,0)
 Q
"RTN","IBAMTV3",16,0)
 ;
"RTN","IBAMTV3",17,0)
INIT ; Build list.
"RTN","IBAMTV3",18,0)
 N DFN,IBAX,IBMTS,IBPT,IBN,IBDT
"RTN","IBAMTV3",19,0)
 S VALMBG=1,VALMCNT=0,VALMBCK="R"
"RTN","IBAMTV3",20,0)
 K ^TMP("IBAMTV3",$J)
"RTN","IBAMTV3",21,0)
 S DFN=0 F  S DFN=$O(^IB("AJ",DFN)) Q:'DFN  D
"RTN","IBAMTV3",22,0)
 .S IBPT=$$PT^IBEFUNC(DFN) Q:IBPT=""
"RTN","IBAMTV3",23,0)
 .S IBN=$O(^IB("AJ",DFN,0)) Q:'IBN
"RTN","IBAMTV3",24,0)
 .S IBDT=$P($G(^IB(IBN,0)),"^",14) Q:'IBDT
"RTN","IBAMTV3",25,0)
 .S VALMCNT=VALMCNT+1
"RTN","IBAMTV3",26,0)
 .S IBAX=$$SETSTR^VALM1($P(IBPT,"^"),VALMCNT,+$P(VALMDDF("PATIENT"),"^",2),+$P(VALMDDF("PATIENT"),"^",3))
"RTN","IBAMTV3",27,0)
 .S IBAX=$$SETSTR^VALM1($E(IBPT)_$P(IBPT,"^",3),IBAX,+$P(VALMDDF("PID"),"^",2),+$P(VALMDDF("PID"),"^",3))
"RTN","IBAMTV3",28,0)
 .S IBAX=$$SETSTR^VALM1($$DAT1^IBOUTL($P($$LST^DGMTU(DFN,IBDT),"^",2)),IBAX,+$P(VALMDDF("MT DATE"),"^",2),+$P(VALMDDF("MT DATE"),"^",3))
"RTN","IBAMTV3",29,0)
 .S IBMTS=$P($$LST^DGMTU(DFN),"^",4),IBMTS=$S(IBMTS="P":"PEN",IBMTS="G":"GMT",IBMTS="C":"YES",IBMTS="R":"REQ",1:"NO")
"RTN","IBAMTV3",30,0)
 .S IBAX=$$SETSTR^VALM1(IBMTS,IBAX,+$P(VALMDDF("MT STAT"),"^",2),+$P(VALMDDF("MT STAT"),"^",3))
"RTN","IBAMTV3",31,0)
 .S IBAX=$$SETSTR^VALM1($S($$INSURED^IBCNS1(DFN):"YES",1:" NO"),IBAX,+$P(VALMDDF("INS"),"^",2),+$P(VALMDDF("INS"),"^",3))
"RTN","IBAMTV3",32,0)
 .S ^TMP("IBAMTV3",$J,VALMCNT,0)=IBAX
"RTN","IBAMTV3",33,0)
 .S ^TMP("IBAMTV3",$J,"IDX",VALMCNT,VALMCNT)=DFN
"RTN","IBAMTV3",34,0)
 I '$D(^TMP("IBAMTV3",$J)) S ^TMP("IBAMTV3",$J,1,0)=" ",^TMP("IBAMTV3",$J,2,0)="  There are no patients with charges pending review.",VALMCNT=2 ; ,@VALMIDX@(1)=1,@VALMIDX@(2)=2
"RTN","IBAMTV3",35,0)
 Q
"RTN","IBAMTV3",36,0)
 ;
"RTN","IBAMTV3",37,0)
HELP ; Help code.
"RTN","IBAMTV3",38,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","IBAMTV3",39,0)
 Q
"RTN","IBAMTV3",40,0)
 ;
"RTN","IBAMTV3",41,0)
EXIT ; Exit action.
"RTN","IBAMTV3",42,0)
 K ^TMP("IBAMTV3",$J)
"RTN","IBAMTV3",43,0)
 D FULL^VALM1,CLEAN^VALM10
"RTN","IBAMTV3",44,0)
 Q
"RTN","IBAMTV3",45,0)
 ;
"RTN","IBAMTV3",46,0)
RELPR ; Release charges on hold at least 60 days old.
"RTN","IBAMTV3",47,0)
 K ^TMP($J,"IBHOLD") D NOW^%DTC S TDY=%
"RTN","IBAMTV3",48,0)
 S IBN=0 F  S IBN=$O(^IB("AC",21,IBN)) Q:'IBN  D
"RTN","IBAMTV3",49,0)
 .S DFN=+$P($G(^IB(IBN,0)),U,2),X2=+$P($G(^IB(IBN,1)),U,4) Q:'DFN!('X2)
"RTN","IBAMTV3",50,0)
 .S X1=TDY D ^%DTC Q:X<60  S ^TMP($J,"IBHOLD",DFN,IBN)=""
"RTN","IBAMTV3",51,0)
 ;
"RTN","IBAMTV3",52,0)
 I '$D(^TMP($J,"IBHOLD")) G RELQ
"RTN","IBAMTV3",53,0)
 S IBR60=1 D REL^IBOHRL ;                    Release charges
"RTN","IBAMTV3",54,0)
 S IBSTJB=$$DAT2^IBOUTL(TDY) D MAIL^IBOHRL ; Send bullletin
"RTN","IBAMTV3",55,0)
 ;
"RTN","IBAMTV3",56,0)
RELQ K DFN,IBDUZ,IBEND,IBN,IBDIFROM,IBNOS,IBNUM,IBRCOUNT,IBR60,IBSEQNO,IBSTJB
"RTN","IBAMTV3",57,0)
 K IBT,TDY,XMDUZ,XMGRP,XMSUB,XMTEXT,XMY,X,X1,X2,%,^TMP($J,"IBHOLD")
"RTN","IBAMTV3",58,0)
 Q
"RTN","IBOHRAR")
0^5^B26839066
"RTN","IBOHRAR",1,0)
IBOHRAR ;ALB/EMG-RELEASED CHARGES REPORT;APR 11 1997
"RTN","IBOHRAR",2,0)
 ;;2.0;INTEGRATED BILLING;**70,95,215**;21-MAR-94
"RTN","IBOHRAR",3,0)
 ;
"RTN","IBOHRAR",4,0)
EN ; - Option entry point.
"RTN","IBOHRAR",5,0)
 N X,Y,ZTIO
"RTN","IBOHRAR",6,0)
 S (IBCRT,IBQUIT)=0,IBLINE="",$P(IBLINE,"-",IOM)=""
"RTN","IBOHRAR",7,0)
 D NOW^%DTC S Y=X X ^DD("DD") S IBNOW=Y D HOME^%ZIS
"RTN","IBOHRAR",8,0)
 W @IOF,!,"List of On Hold/Hold-Review Charges Released to AR"
"RTN","IBOHRAR",9,0)
 W !!?5,"This report will list all charges that were previously on"
"RTN","IBOHRAR",10,0)
 W !?5,"ON HOLD or HOLD-REVIEW status and currently have a status"
"RTN","IBOHRAR",11,0)
 W !?5,"of BILLED and the DATE LAST UPDATED is within the date range"
"RTN","IBOHRAR",12,0)
 W !?5,"you specify."
"RTN","IBOHRAR",13,0)
 ;
"RTN","IBOHRAR",14,0)
SELECT W !!,"Print former (O)N HOLD charges,"
"RTN","IBOHRAR",15,0)
 R !?13,"(H)OLD-REVIEW charges, or (B)OTH: BOTH// ",X:DTIME
"RTN","IBOHRAR",16,0)
 G:'$T!(X["^") END S:X="" X="B" S X=$E(X)
"RTN","IBOHRAR",17,0)
 I "BHObho"'[X D HELP G SELECT
"RTN","IBOHRAR",18,0)
 W "  ",$S("Hh"[X:"HOLD-REVIEW","Oo"[X:"ON HOLD",1:"BOTH")
"RTN","IBOHRAR",19,0)
 S IBSEL=$S("Hh"[X:"H","Oo"[X:"O",1:"HO")
"RTN","IBOHRAR",20,0)
 ;
"RTN","IBOHRAR",21,0)
RANGE S DIR(0)="DA^:NOW:EX",DIR("A")="Start with DATE: "
"RTN","IBOHRAR",22,0)
 S DIR("?")="Enter the starting date for this report."
"RTN","IBOHRAR",23,0)
 W ! D ^DIR K DIR G:$D(DIRUT) END S IBSDT=+Y
"RTN","IBOHRAR",24,0)
 S DIR(0)="DA^+Y:NOW:EX",DIR("A")="     Go to DATE: "
"RTN","IBOHRAR",25,0)
 S DIR("?")="Enter the ending date for this report."
"RTN","IBOHRAR",26,0)
 D ^DIR K DIR G:$D(DIRUT) END S IBEDT=+Y
"RTN","IBOHRAR",27,0)
 ;
"RTN","IBOHRAR",28,0)
QUEUED ; - Entry point if queued.
"RTN","IBOHRAR",29,0)
 K ^TMP($J)
"RTN","IBOHRAR",30,0)
 I '$G(IBQUIT) D DEVICE
"RTN","IBOHRAR",31,0)
 I '$G(IBQUIT) D CHRGS,PRINT
"RTN","IBOHRAR",32,0)
 ;
"RTN","IBOHRAR",33,0)
END D ^%ZISC
"RTN","IBOHRAR",34,0)
 K DFN,DIRUT,DUOUT,I,IBACT,IBATYPE,IBBILL,IBCHG,IBCNT,IBCRT,IBDT,IBFR
"RTN","IBOHRAR",35,0)
 K IBGBL,IBHDR,IBHR,IBLINE,IBN,IBNAME,IBND,IBND1,IBNOW,IBOH,IBPAGE,IBQUIT
"RTN","IBOHRAR",36,0)
 K IBRDT,IBRF,IBRX,IBRXN,IBSEL,IBSDT,IBSSN,IBTO,IBTYPE,POP,VA,X,^TMP($J)
"RTN","IBOHRAR",37,0)
 Q
"RTN","IBOHRAR",38,0)
 ;
"RTN","IBOHRAR",39,0)
DEVICE I $D(ZTQUEUED) Q
"RTN","IBOHRAR",40,0)
 W !!,"*** This output should be queued ***"
"RTN","IBOHRAR",41,0)
 S %ZIS="QM" D ^%ZIS I POP S IBQUIT=1 Q
"RTN","IBOHRAR",42,0)
 I $D(IO("Q")) D  Q
"RTN","IBOHRAR",43,0)
 .S ZTRTN="QUEUED^IBOHRAR",ZTIO=ION,ZTDESC="CHARGES RELEASED TO AR"
"RTN","IBOHRAR",44,0)
 .S ZTSAVE("IB*")="" D ^%ZTLOAD
"RTN","IBOHRAR",45,0)
 .W !,$S($D(ZTSK):"REQUEST QUEUED TASK="_ZTSK,1:"REQUEST CANCELLED")
"RTN","IBOHRAR",46,0)
 .D HOME^%ZIS K ZTSK S IBQUIT=1
"RTN","IBOHRAR",47,0)
 ;
"RTN","IBOHRAR",48,0)
 U IO
"RTN","IBOHRAR",49,0)
 Q
"RTN","IBOHRAR",50,0)
 ;
"RTN","IBOHRAR",51,0)
CHRGS ; - Indexes charges released to AR within date range.
"RTN","IBOHRAR",52,0)
 S IBSDT=IBSDT+.000001,IBEDT=IBEDT+.24 Q:IBQUIT
"RTN","IBOHRAR",53,0)
 I $E(IOST,1,2)="C-" S IBCRT=1
"RTN","IBOHRAR",54,0)
 S IBN=0 F  S IBN=$O(^IB("AC",3,IBN)) Q:'IBN  D
"RTN","IBOHRAR",55,0)
 .S IBND=$G(^IB(IBN,0)),IBND1=$G(^IB(IBN,1)) Q:'IBND!('IBND1)
"RTN","IBOHRAR",56,0)
 .S IBOH=$P(IBND1,U,6),IBHR=$P(IBND1,U,7)
"RTN","IBOHRAR",57,0)
 .I IBOH,IBSEL["O" S IBGBL="IBOH" D CHRGS1 Q
"RTN","IBOHRAR",58,0)
 .I IBHR,IBSEL["H" S IBGBL="IBHR" D CHRGS1
"RTN","IBOHRAR",59,0)
 ;
"RTN","IBOHRAR",60,0)
 Q
"RTN","IBOHRAR",61,0)
 ;
"RTN","IBOHRAR",62,0)
CHRGS1 ; - Set global for report.
"RTN","IBOHRAR",63,0)
 S IBDT=$P(IBND1,U,4) Q:'IBDT!(IBDT<IBSDT)!(IBDT>IBEDT)
"RTN","IBOHRAR",64,0)
 S DFN=$P(IBND,U,2) Q:'DFN
"RTN","IBOHRAR",65,0)
 D PAT S ^TMP($J,IBGBL,IBNAME,DFN,IBN)=""
"RTN","IBOHRAR",66,0)
 Q
"RTN","IBOHRAR",67,0)
 ;
"RTN","IBOHRAR",68,0)
PRINT ; - Print charges released to AR.
"RTN","IBOHRAR",69,0)
 N IENS Q:IBQUIT
"RTN","IBOHRAR",70,0)
 I IBCRT=1 W @IOF
"RTN","IBOHRAR",71,0)
 S IBGBL="" F  S IBGBL=$O(^TMP($J,IBGBL)) Q:IBGBL=""  D  Q:IBQUIT
"RTN","IBOHRAR",72,0)
 .S (IBCNT,IBPAGE)=0 D HEADER Q:IBQUIT
"RTN","IBOHRAR",73,0)
 .S IBNAME="" F  S IBNAME=$O(^TMP($J,IBGBL,IBNAME)) Q:IBNAME=""  S (DFN,IBFL)=0 F  S DFN=$O(^TMP($J,IBGBL,IBNAME,DFN)) Q:'DFN  D  Q:IBQUIT
"RTN","IBOHRAR",74,0)
 ..D PRNTPAT Q:IBQUIT
"RTN","IBOHRAR",75,0)
 ..S IBN=0 F  S IBN=$O(^TMP($J,IBGBL,IBNAME,DFN,IBN)) Q:IBN=""  D
"RTN","IBOHRAR",76,0)
 ...S IBND=$G(^IB(IBN,0)),IBND1=$G(^IB(IBN,1))
"RTN","IBOHRAR",77,0)
 ...S (IBRX,IBRXN,IBRF,IBRDT)=0,IBACT=+IBND
"RTN","IBOHRAR",78,0)
 ...S IBTYPE=$P(IBND,U,3),IBTYPE=$P($G(^IBE(350.1,IBTYPE,0)),U)
"RTN","IBOHRAR",79,0)
 ...S IBTYPE=$S(IBTYPE["PSO NSC":"RXNSC",IBTYPE["PSO SC":"RX SC",1:$E(IBTYPE,4,7))
"RTN","IBOHRAR",80,0)
 ...S IBBILL=$P($P(IBND,U,11),"-",2)
"RTN","IBOHRAR",81,0)
 ...I $P(IBND,U,4)["52:" S IBRXN=$P($P(IBND,U,4),":",2),IBRX=$P($P(IBND,U,8),"-"),IBRF=$P($P(IBND,U,4),":",3)
"RTN","IBOHRAR",82,0)
 ...I IBRF>0 S IENS=+IBRF_","_+IBRXN_",",IBRDT=$$GET1^DIQ(52.1,IENS,.01,"I")
"RTN","IBOHRAR",83,0)
 ...E  S IENS=+IBRXN_",",IBRDT=$$GET1^DIQ(52,IENS,22,"I")
"RTN","IBOHRAR",84,0)
 ...S IBFR=$$DAT1^IBOUTL($S(IBRXN>0:IBRDT,1:$P(IBND,U,14)))
"RTN","IBOHRAR",85,0)
 ...S IBTO=$$DAT1^IBOUTL($S($P(IBND,U,15)'="":$P(IBND,U,15),1:$P(IBND1,U,2)))
"RTN","IBOHRAR",86,0)
 ...S IBCHG=$J(+$P(IBND,U,7),9,2)
"RTN","IBOHRAR",87,0)
 ...I IBQUIT Q
"RTN","IBOHRAR",88,0)
 ...W ?27,IBACT,?37,IBBILL,?46,IBTYPE W:IBRX>0 ?52,"Rx #: "_IBRX_$S(IBRF>0:"("_IBRF_")",1:""),!
"RTN","IBOHRAR",89,0)
 ...W ?52,IBFR,?62,IBTO,?70,IBCHG,!
"RTN","IBOHRAR",90,0)
 ...S IBCNT=IBCNT+1
"RTN","IBOHRAR",91,0)
 ...I ($Y+4)>IOSL,$O(^TMP($J,IBGBL,IBNAME,DFN,IBN)) D PRNTPAT
"RTN","IBOHRAR",92,0)
 .;
"RTN","IBOHRAR",93,0)
 .I IBCNT=0 W !?10,"No charges were released in this time period.",!!
"RTN","IBOHRAR",94,0)
 ;
"RTN","IBOHRAR",95,0)
 Q
"RTN","IBOHRAR",96,0)
 ;
"RTN","IBOHRAR",97,0)
PAT ; - Print patient data during processing.
"RTN","IBOHRAR",98,0)
 N VADM,VAERR D DEM^VADPT K:VAERR VADM
"RTN","IBOHRAR",99,0)
 S IBNAME=$G(VADM(1)) S:IBNAME="" IBNAME=""
"RTN","IBOHRAR",100,0)
 Q
"RTN","IBOHRAR",101,0)
 ;
"RTN","IBOHRAR",102,0)
PRNTPAT ; - Print patient data on report.
"RTN","IBOHRAR",103,0)
 N VADM,VAERR
"RTN","IBOHRAR",104,0)
 D DEM^VADPT S IBSSN=$S('VAERR:VA("BID"),1:"")
"RTN","IBOHRAR",105,0)
 I ($Y+4)>IOSL D HEADER Q:IBQUIT
"RTN","IBOHRAR",106,0)
 W $E(IBNAME,1,20),?21,IBSSN
"RTN","IBOHRAR",107,0)
 Q
"RTN","IBOHRAR",108,0)
 ;
"RTN","IBOHRAR",109,0)
HEADER ; - Report header.
"RTN","IBOHRAR",110,0)
 I IBQUIT Q
"RTN","IBOHRAR",111,0)
 I IBCRT,$Y>1 D PAUSE Q:IBQUIT
"RTN","IBOHRAR",112,0)
 S IBHDR=$S(IBGBL="IBHR":"HOLD-REVIEW",1:"ON HOLD"),IBPAGE=IBPAGE+1
"RTN","IBOHRAR",113,0)
 W !,@IOF
"RTN","IBOHRAR",114,0)
 W "List of ",IBHDR," charges released to AR from ",$P($$DAT2^IBOUTL(IBSDT),"@")," to ",$P($$DAT2^IBOUTL(IBEDT),"@")
"RTN","IBOHRAR",115,0)
 W !,"Date Printed: ",IBNOW,?72,"Page ",IBPAGE,!,IBLINE
"RTN","IBOHRAR",116,0)
 W !,"Name",?20,"Pt.ID",?27,"Act.ID",?37,"Bill #",?46,"Type",?52,"Fr/Fl Dt",?62,"To/Rls Dt",?73,"Charge"
"RTN","IBOHRAR",117,0)
 W !,IBLINE,!
"RTN","IBOHRAR",118,0)
 Q
"RTN","IBOHRAR",119,0)
 ;
"RTN","IBOHRAR",120,0)
PAUSE ; - Pause for screen output.
"RTN","IBOHRAR",121,0)
 I $E(IOST,1,2)'="C-" Q
"RTN","IBOHRAR",122,0)
 F I=$Y:1:(IOSL-5) W !
"RTN","IBOHRAR",123,0)
 S DIR(0)="E" D ^DIR K DIR I $D(DIRUT)!($D(DUOUT)) S IBQUIT=1
"RTN","IBOHRAR",124,0)
 Q
"RTN","IBOHRAR",125,0)
 ;
"RTN","IBOHRAR",126,0)
HELP ; - 'Print former (O)N HOLD...' prompt help text.
"RTN","IBOHRAR",127,0)
 W !!?5,"Enter: '<CR>' - To select both On Hold and Hold-Review charges"
"RTN","IBOHRAR",128,0)
 W !?15,"'O' - To select only On Hold charges"
"RTN","IBOHRAR",129,0)
 W !?15,"'H' - To select only Hold-Review charges"
"RTN","IBOHRAR",130,0)
 W !?15,"'^' - To quit this option",!
"RTN","IBOHRAR",131,0)
 Q
"RTN","IBOHRL")
0^4^B11470281
"RTN","IBOHRL",1,0)
IBOHRL ;ALB/EMG-AUTO-RELEASE CHARGES ON HOLD > 90 DAYS ;APR 11 1997
"RTN","IBOHRL",2,0)
 ;;2.0;INTEGRATED BILLING;**70,215**;21-MAR-94
"RTN","IBOHRL",3,0)
 ;
"RTN","IBOHRL",4,0)
 ; 
"RTN","IBOHRL",5,0)
EN ;
"RTN","IBOHRL",6,0)
 N DFN,IBDT,IBDUZ,IBDYS,IBEND,IBGRP,IBN,IBND,IBNOS,IBNUM,IBRCOUNT
"RTN","IBOHRL",7,0)
 N IBSEQNO,IBSTJB,IBT,IBTO,X,X1,X2,XMDUZ,XMSUB,XMTEXT,XMY
"RTN","IBOHRL",8,0)
 S IBQUIT=0
"RTN","IBOHRL",9,0)
 ;
"RTN","IBOHRL",10,0)
 D NOW^%DTC S IBSTJB=$$DAT2^IBOUTL(%)
"RTN","IBOHRL",11,0)
 ;***
"RTN","IBOHRL",12,0)
 K ^TMP($J)
"RTN","IBOHRL",13,0)
 D CHRGS
"RTN","IBOHRL",14,0)
 D:'$G(IBQUIT) REL,MAIL
"RTN","IBOHRL",15,0)
 ;***
"RTN","IBOHRL",16,0)
EXIT ;
"RTN","IBOHRL",17,0)
 K ^TMP($J)
"RTN","IBOHRL",18,0)
 K DFN,IBDT,IBDUZ,IBDYS,IBEND,IBGRP,IBN,IBND,IBNOS,IBNUM,IBRCOUNT,IBDIFROM
"RTN","IBOHRL",19,0)
 K IBQUIT,IBSEQNO,IBSTJB,IBT,IBTO,X,X1,X2,XMDUZ,XMSUB,XMTEXT,XMY
"RTN","IBOHRL",20,0)
 Q
"RTN","IBOHRL",21,0)
 ;
"RTN","IBOHRL",22,0)
CHRGS ; indexes charges on hold longer than the number specified in the NUMBER OF DAYS PT CHARGES HELD field (#7.04) of file #350.9
"RTN","IBOHRL",23,0)
 ; 
"RTN","IBOHRL",24,0)
 S IBDYS=$P($G(^IBE(350.9,1,7)),U,4)
"RTN","IBOHRL",25,0)
 I IBDYS="" S IBQUIT=1 D E4^IBAERR Q  ;quit/send notice if number of days held is unknown
"RTN","IBOHRL",26,0)
 S X1=DT,X2=-(IBDYS+1) D C^%DTC S IBTO=X
"RTN","IBOHRL",27,0)
 S DFN=0 F  S DFN=$O(^IB("AHDT",DFN)) Q:'DFN  S IBDT=0 F  S IBDT=$O(^IB("AHDT",DFN,8,IBDT)) Q:'IBDT!(IBDT>IBTO)  S IBN=0 F  S IBN=$O(^IB("AHDT",DFN,8,IBDT,IBN)) Q:IBN=""  D
"RTN","IBOHRL",28,0)
 .S IBND=$G(^IB(IBN,0)) Q:'IBND
"RTN","IBOHRL",29,0)
 .Q:$P(IBND,"^",5)'=8
"RTN","IBOHRL",30,0)
 .S ^TMP($J,"IBHOLD",DFN,IBN)=""
"RTN","IBOHRL",31,0)
 .Q
"RTN","IBOHRL",32,0)
 Q
"RTN","IBOHRL",33,0)
REL ; release charges to AR
"RTN","IBOHRL",34,0)
 S (DFN,IBNUM,IBSEQNO,IBNOS)="",IBSEQNO=1,IBRCOUNT=0
"RTN","IBOHRL",35,0)
 S DFN=0 F  S DFN=$O(^TMP($J,"IBHOLD",DFN)) Q:'DFN  S IBNUM=0 F  S IBNUM=$O(^TMP($J,"IBHOLD",DFN,IBNUM)) Q:'IBNUM  D
"RTN","IBOHRL",36,0)
 .S IBNOS=IBNUM
"RTN","IBOHRL",37,0)
 .S IBDUZ=$P($G(^IB(IBNOS,1)),U) I IBDUZ="" S IBDUZ=DUZ
"RTN","IBOHRL",38,0)
 .D ^IBR
"RTN","IBOHRL",39,0)
 .I $P($G(^IB(IBNUM,0)),"^",5)=3 D
"RTN","IBOHRL",40,0)
 ..S IBRCOUNT=IBRCOUNT+1
"RTN","IBOHRL",41,0)
 ..I $G(IBR60) S IBNDE=^IB(IBNUM,0) D IVM^IBAMTV32(IBNDE) K IBNDE
"RTN","IBOHRL",42,0)
 .Q
"RTN","IBOHRL",43,0)
 Q
"RTN","IBOHRL",44,0)
 ;
"RTN","IBOHRL",45,0)
MAIL ; send bulletin when job is complete
"RTN","IBOHRL",46,0)
 D NOW^%DTC S IBEND=$$DAT2^IBOUTL(%)
"RTN","IBOHRL",47,0)
 S XMSUB=$S($G(IBR60):"CHARGES PENDING REIVEW",1:"HELD CHARGES")_" PASSED TO AR "_$P(IBSTJB,"@",1)
"RTN","IBOHRL",48,0)
 S XMDUZ="INTEGRATED BILLING PACKAGE",IBDUZ=DUZ
"RTN","IBOHRL",49,0)
 K IBT,XMY
"RTN","IBOHRL",50,0)
 S IBGRP=$P($G(^XMB(3.8,+$P($G(^IBE(350.9,1,0)),"^",11),0)),"^")
"RTN","IBOHRL",51,0)
 I IBGRP]"" S XMY("G."_IBGRP_"@"_^XMB("NETNAME"))=""
"RTN","IBOHRL",52,0)
 S XMTEXT="IBT("
"RTN","IBOHRL",53,0)
 S XMY(IBDUZ)=""
"RTN","IBOHRL",54,0)
 S IBT(1)="The job that passes "_$S($G(IBR60):"charges pending review",1:"held charges")_" to accounts receivable is complete."
"RTN","IBOHRL",55,0)
 S IBT(2)="[ "_IBRCOUNT_" ] charge"_$S(IBRCOUNT=1:" has",1:"s have")_" been passed to accounts receivable."
"RTN","IBOHRL",56,0)
 S IBT(3)=" "
"RTN","IBOHRL",57,0)
 S IBT(4)="Job started on "_$P(IBSTJB,"@",1)_" at "_$P(IBSTJB,"@",2)
"RTN","IBOHRL",58,0)
 S IBT(5)="Job finished on "_$P(IBEND,"@",1)_" at "_$P(IBEND,"@",2)
"RTN","IBOHRL",59,0)
 S IBT(6)=" "
"RTN","IBOHRL",60,0)
 S IBT(7)=" "
"RTN","IBOHRL",61,0)
 I IBRCOUNT>0 D
"RTN","IBOHRL",62,0)
 .S IBT(8)="* Use option 'On Hold/Hold-Review Charges Released to AR' to print a detailed"
"RTN","IBOHRL",63,0)
 .S IBT(9)="  list of charges auto-released by this tasked job."
"RTN","IBOHRL",64,0)
 ;
"RTN","IBOHRL",65,0)
 I $G(DIFROM) S IBDIFROM=DIFROM K DIFROM
"RTN","IBOHRL",66,0)
 D ^XMD
"RTN","IBOHRL",67,0)
 I $G(IBDIFROM) S DIFROM=IBDIFROM
"RTN","IBOHRL",68,0)
 Q
"SEC","^DIC",350,350,0,"AUDIT")
@
"SEC","^DIC",350,350,0,"DD")
@
"SEC","^DIC",350,350,0,"DEL")
@
"SEC","^DIC",350,350,0,"LAYGO")
@
"SEC","^DIC",350,350,0,"RD")
@
"SEC","^DIC",350,350,0,"WR")
@
"VER")
8.0^22
"^DD",350,350,0)
FIELD^^17^28
"^DD",350,350,0,"DIK")
IBXA
"^DD",350,350,0,"DIKOLD")
IBXA
"^DD",350,350,0,"DT")
3031029
"^DD",350,350,0,"IX","ABIL",350,.11)

"^DD",350,350,0,"IX","AC",350,.05)

"^DD",350,350,0,"IX","ACT",350,.05)

"^DD",350,350,0,"IX","ACT1",350,.16)

"^DD",350,350,0,"IX","ACVA",350,.02)

"^DD",350,350,0,"IX","ACVA1",350,15)

"^DD",350,350,0,"IX","AD",350,.09)

"^DD",350,350,0,"IX","AE",350,.03)

"^DD",350,350,0,"IX","AF",350,.16)

"^DD",350,350,0,"IX","AFDT",350,.02)

"^DD",350,350,0,"IX","AFDT1",350,.17)

"^DD",350,350,0,"IX","AH",350,.05)

"^DD",350,350,0,"IX","AH1",350,.02)

"^DD",350,350,0,"IX","AHDT",350,16)

"^DD",350,350,0,"IX","AHDT1",350,.05)

"^DD",350,350,0,"IX","AI",350,.05)

"^DD",350,350,0,"IX","AI1",350,.02)

"^DD",350,350,0,"IX","AJ",350,.05)

"^DD",350,350,0,"IX","AJ1",350,.02)

"^DD",350,350,0,"IX","APDT",350,.09)

"^DD",350,350,0,"IX","APDT1",350,12)

"^DD",350,350,0,"IX","APTDT",350,.02)

"^DD",350,350,0,"IX","APTDT1",350,12)

"^DD",350,350,0,"IX","AT",350,.12)

"^DD",350,350,0,"IX","B",350,.01)

"^DD",350,350,0,"IX","C",350,.02)

"^DD",350,350,0,"IX","D",350,12)

"^DD",350,350,0,"NM","INTEGRATED BILLING ACTION")

"^DD",350,350,0,"PT",52,106)

"^DD",350,350,0,"PT",52.1,9)

"^DD",350,350,0,"PT",350,.09)

"^DD",350,350,0,"PT",350,.16)

"^DD",350,350,0,"PT",351.2,.04)

"^DD",350,350,0,"PT",351.5,.08)

"^DD",350,350,0,"PT",354.71,.04)

"^DD",350,350,.01,0)
REFERENCE NUMBER^RNJ12,0I^^0;1^K:+X'=X!(X>999999999999)!(X<1000)!(X?.E1"."1N.N) X
"^DD",350,350,.01,1,0)
^.1
"^DD",350,350,.01,1,1,0)
350^B
"^DD",350,350,.01,1,1,1)
S ^IB("B",$E(X,1,30),DA)=""
"^DD",350,350,.01,1,1,2)
K ^IB("B",$E(X,1,30),DA)
"^DD",350,350,.01,3)
Type a Number between 1000 and 999999999999, 0 Decimal Digits
"^DD",350,350,.01,21,0)
^^5^5^2940209^^^
"^DD",350,350,.01,21,1,0)
This is the station number concatenated with the internal number of 
"^DD",350,350,.01,21,2,0)
this entry in this file.  The purpose of this number is to provide
"^DD",350,350,.01,21,3,0)
a unique number for each entry for each station.  Modifying this
"^DD",350,350,.01,21,4,0)
number may have serious consequences when and where centralized
"^DD",350,350,.01,21,5,0)
billing and accounting are taking place.
"^DD",350,350,.01,"DEL",1,0)
I 1 W !,"Deleting entries not allowed"
"^DD",350,350,.01,"DT")
3020411
"^DD",350,350,.02,0)
PATIENT^P2'I^DPT(^0;2^Q
"^DD",350,350,.02,1,0)
^.1
"^DD",350,350,.02,1,1,0)
350^C
"^DD",350,350,.02,1,1,1)
S ^IB("C",$E(X,1,30),DA)=""
"^DD",350,350,.02,1,1,2)
K ^IB("C",$E(X,1,30),DA)
"^DD",350,350,.02,1,2,0)
350^AFDT^MUMPS
"^DD",350,350,.02,1,2,1)
I $D(^IB(DA,0)),$P(^(0),"^",17) S ^IB("AFDT",X,-$P(^(0),"^",17),DA)=""
"^DD",350,350,.02,1,2,2)
I $D(^IB(DA,0)),$P(^(0),"^",17) K ^IB("AFDT",X,-$P(^(0),"^",17),DA)
"^DD",350,350,.02,1,2,"%D",0)
^.101^5^5^3020301^^
"^DD",350,350,.02,1,2,"%D",1,0)
Cross-reference of all IB ACTION entries which represent inpatient/NHCU
"^DD",350,350,.02,1,2,"%D",2,0)
admissions by the patient field and the minus (negative or inverse) event
"^DD",350,350,.02,1,2,"%D",3,0)
date (#.17) field.  A billable event may be located for a patient using
"^DD",350,350,.02,1,2,"%D",4,0)
this cross-reference.  The "AFDT1" cross-reference on the event date (#.17)
"^DD",350,350,.02,1,2,"%D",5,0)
field is the companion to this cross-reference.
"^DD",350,350,.02,1,2,"DT")
2911101
"^DD",350,350,.02,1,3,0)
350^APTDT^MUMPS
"^DD",350,350,.02,1,3,1)
I $D(^IB(DA,1)),$P(^(1),"^",2) S ^IB("APTDT",X,$P(^(1),"^",2),DA)=""
"^DD",350,350,.02,1,3,2)
I $D(^IB(DA,1)),$P(^(1),"^",2) K ^IB("APTDT",X,$P(^(1),"^",2),DA)
"^DD",350,350,.02,1,3,"%D",0)
^^3^3^2920226^^^^
"^DD",350,350,.02,1,3,"%D",1,0)
Cross-reference of all IB ACTION entries by patient (#.02) and date entry added
"^DD",350,350,.02,1,3,"%D",2,0)
(#12) fields.  The "APTDT1" cross-reference on the date entry added field is
"^DD",350,350,.02,1,3,"%D",3,0)
the companion to this cross-reference.
"^DD",350,350,.02,1,4,0)
350^AH1^MUMPS
"^DD",350,350,.02,1,4,1)
I $D(^IB(DA,0)),$P(^(0),U,5)=8 S ^IB("AH",X,DA)=""
"^DD",350,350,.02,1,4,2)
I $D(^IB(DA,0)),$P(^(0),U,5)=8 K ^IB("AH",X,DA)
"^DD",350,350,.02,1,4,"%D",0)
^^1^1^2920302^
"^DD",350,350,.02,1,4,"%D",1,0)
All mt bills in a hold status
"^DD",350,350,.02,1,4,"DT")
2920302
"^DD",350,350,.02,1,5,0)
350^AI1^MUMPS
"^DD",350,350,.02,1,5,1)
I $D(^IB(DA,0)),$P(^(0),U,5)=99 S ^IB("AI",X,DA)=""
"^DD",350,350,.02,1,5,2)
I $D(^IB(DA,0)),$P(^(0),U,5)=99 K ^IB("AI",X,DA)
"^DD",350,350,.02,1,5,"%D",0)
^^1^1^2920430^
"^DD",350,350,.02,1,5,"%D",1,0)
COMPANION TO AI X-REF ON FIELD .05
"^DD",350,350,.02,1,5,"DT")
2920430
"^DD",350,350,.02,1,6,0)
350^ACVA^MUMPS
"^DD",350,350,.02,1,6,1)
I X,$D(^IB(DA,1)),$P(^(1),"^",5) S ^IB("ACVA",X,$P(^(1),"^",5),DA)=""
"^DD",350,350,.02,1,6,2)
I X,$D(^IB(DA,1)),$P(^(1),"^",5) K ^IB("ACVA",X,$P(^(1),"^",5),DA)
"^DD",350,350,.02,1,6,"%D",0)
^^4^4^2930728^^
"^DD",350,350,.02,1,6,"%D",1,0)
This cross-reference is used in conjunction with the ACVA1 cross
"^DD",350,350,.02,1,6,"%D",2,0)
reference on the CHAMPVA ADM DATE (#15) field to cross reference
"^DD",350,350,.02,1,6,"%D",3,0)
all CHAMPVA inpatient subsistence charges by patient and admission
"^DD",350,350,.02,1,6,"%D",4,0)
date.
"^DD",350,350,.02,1,6,"DT")
2930728
"^DD",350,350,.02,1,7,0)
350^AJ1^MUMPS
"^DD",350,350,.02,1,7,1)
I $D(^IB(DA,0)),$P(^(0),U,5)=21 S ^IB("AJ",X,DA)=""
"^DD",350,350,.02,1,7,2)
K ^IB("AJ",X,DA)
"^DD",350,350,.02,1,7,"%D",0)
^^8^8^2940601^
"^DD",350,350,.02,1,7,"%D",1,0)
Cross-reference of all IB ACTIONS for Means Test/Category C charges
"^DD",350,350,.02,1,7,"%D",2,0)
which have a STATUS (#.05) of HOLD - REVIEW.
"^DD",350,350,.02,1,7,"%D",3,0)
 
"^DD",350,350,.02,1,7,"%D",4,0)
This cross-reference is used to generate a list of all patients, and
"^DD",350,350,.02,1,7,"%D",5,0)
all charges for those patients, who have had Means Test charges
"^DD",350,350,.02,1,7,"%D",6,0)
back-billed which need to be reviewed before being passed to the
"^DD",350,350,.02,1,7,"%D",7,0)
Accounts Receivable package.  The "AJ" cross-reference on the
"^DD",350,350,.02,1,7,"%D",8,0)
STATUS (#.05) field is the companion to this cross-reference.
"^DD",350,350,.02,1,7,"DT")
2940601
"^DD",350,350,.02,21,0)
^^3^3^2910301^
"^DD",350,350,.02,21,1,0)
This is the patient that received services, care, or medications that
"^DD",350,350,.02,21,2,0)
caused this entry to be created.  If the debtor is the patient, this
"^DD",350,350,.02,21,3,0)
patient is the debtor.
"^DD",350,350,.02,"DT")
3020411
"^DD",350,350,.03,0)
ACTION TYPE^P350.1'I^IBE(350.1,^0;3^Q
"^DD",350,350,.03,1,0)
^.1^^-1
"^DD",350,350,.03,1,1,0)
350^AE
"^DD",350,350,.03,1,1,1)
S ^IB("AE",$E(X,1,30),DA)=""
"^DD",350,350,.03,1,1,2)
K ^IB("AE",$E(X,1,30),DA)
"^DD",350,350,.03,3)

"^DD",350,350,.03,21,0)
^^7^7^2940209^^^^
"^DD",350,350,.03,21,1,0)
This field points to an entry in the IB ACTION TYPE file.  Entries in
"^DD",350,350,.03,21,2,0)
the IB ACTION TYPE file provide specific information about the type
"^DD",350,350,.03,21,3,0)
of entry that is being created and provides data necessary to AR and
"^DD",350,350,.03,21,4,0)
to resolve the data from the application.
"^DD",350,350,.03,21,5,0)
 
"^DD",350,350,.03,21,6,0)
Applications passing data to IB determine the Action Type and pass this
"^DD",350,350,.03,21,7,0)
to IB.
"^DD",350,350,.03,"DT")
2910304
"^DD",350,350,.04,0)
RESULTING FROM^FI^^0;4^K:$L(X)>20!($L(X)<1) X
"^DD",350,350,.04,3)
Answer must be 1-20 characters in length.
"^DD",350,350,.04,21,0)
^^8^8^2940209^^^^
"^DD",350,350,.04,21,1,0)
This will be the soft-link back to the entry in any file that caused
"^DD",350,350,.04,21,2,0)
this transaction to be set.  It will be in the format of:
"^DD",350,350,.04,21,3,0)
 
"^DD",350,350,.04,21,4,0)
    filenumber:entry;[node:sub-entry];[node:sub-entry]...
"^DD",350,350,.04,21,5,0)
 
"^DD",350,350,.04,21,6,0)
The number of node:sub-entry pieces will depend on the level of
"^DD",350,350,.04,21,7,0)
multiples that cause the entry.  For example, a new prescription
"^DD",350,350,.04,21,8,0)
might be '52:345678'  but the first refill might be '52:345678;1,1'.
"^DD",350,350,.04,"DT")
2910304
"^DD",350,350,.05,0)
STATUS^P350.21'^IBE(350.21,^0;5^Q
"^DD",350,350,.05,1,0)
^.1
"^DD",350,350,.05,1,1,0)
350^AC
"^DD",350,350,.05,1,1,1)
S ^IB("AC",$E(X,1,30),DA)=""
"^DD",350,350,.05,1,1,2)
K ^IB("AC",$E(X,1,30),DA)
"^DD",350,350,.05,1,2,0)
^^TRIGGER^350^13
"^DD",350,350,.05,1,2,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^IB(D0,1)):^(1),1:"") S X=$P(Y(1),U,3),X=X S DIU=X K Y S X=DIV S X=$S($D(IBDUZ):IBDUZ,$D(DUZ):DUZ,1:.5) X ^DD(350,.05,1,2,1.4)
"^DD",350,350,.05,1,2,1.4)
S DIH=$S($D(^IB(DIV(0),1)):^(1),1:""),DIV=X S $P(^(1),U,3)=DIV,DIH=350,DIG=13 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",350,350,.05,1,2,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^IB(D0,1)):^(1),1:"") S X=$P(Y(1),U,3),X=X S DIU=X K Y S X=DIV S X=$S($D(IBDUZ):IBDUZ,$D(DUZ):DUZ,1:.5) X ^DD(350,.05,1,2,2.4)
"^DD",350,350,.05,1,2,2.4)
S DIH=$S($D(^IB(DIV(0),1)):^(1),1:""),DIV=X S $P(^(1),U,3)=DIV,DIH=350,DIG=13 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",350,350,.05,1,2,"CREATE VALUE")
S X=$S($D(IBDUZ):IBDUZ,$D(DUZ):DUZ,1:.5)
"^DD",350,350,.05,1,2,"DELETE VALUE")
S X=$S($D(IBDUZ):IBDUZ,$D(DUZ):DUZ,1:.5)
"^DD",350,350,.05,1,2,"FIELD")
#13
"^DD",350,350,.05,1,3,0)
^^TRIGGER^350^14
"^DD",350,350,.05,1,3,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^IB(D0,1)):^(1),1:"") S X=$P(Y(1),U,4),X=X S DIU=X K Y X ^DD(350,.05,1,3,1.1) X ^DD(350,.05,1,3,1.4)
"^DD",350,350,.05,1,3,1.1)
S X=DIV S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100)
"^DD",350,350,.05,1,3,1.4)
S DIH=$S($D(^IB(DIV(0),1)):^(1),1:""),DIV=X S $P(^(1),U,4)=DIV,DIH=350,DIG=14 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",350,350,.05,1,3,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^IB(D0,1)):^(1),1:"") S X=$P(Y(1),U,4),X=X S DIU=X K Y X ^DD(350,.05,1,3,2.1) X ^DD(350,.05,1,3,2.4)
"^DD",350,350,.05,1,3,2.1)
S X=DIV S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100)
"^DD",350,350,.05,1,3,2.4)
S DIH=$S($D(^IB(DIV(0),1)):^(1),1:""),DIV=X S $P(^(1),U,4)=DIV,DIH=350,DIG=14 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",350,350,.05,1,3,"CREATE VALUE")
NOW
"^DD",350,350,.05,1,3,"DELETE VALUE")
NOW
"^DD",350,350,.05,1,3,"FIELD")
#14
"^DD",350,350,.05,1,4,0)
350^ACT^MUMPS
"^DD",350,350,.05,1,4,1)
I X=1,$D(^IB(DA,0)),$P($G(^IBE(350.1,+$P(^(0),"^",3),0)),"^")'["ADMISSION",$P(^IB(DA,0),"^",16) S ^IB("ACT",$P(^(0),"^",16),DA)=""
"^DD",350,350,.05,1,4,2)
I $D(^IB(DA,0)),$P(^(0),"^",16) K ^IB("ACT",$P(^(0),"^",16),DA)
"^DD",350,350,.05,1,4,"%D",0)
^^11^11^2970305^^^^
"^DD",350,350,.05,1,4,"%D",1,0)
Cross-reference of all IB ACTIONS for Means Test/Category C charges
"^DD",350,350,.05,1,4,"%D",2,0)
which have a status of INCOMPLETE (cross-referenced by the parent event
"^DD",350,350,.05,1,4,"%D",3,0)
(#.16) field).
"^DD",350,350,.05,1,4,"%D",4,0)
 
"^DD",350,350,.05,1,4,"%D",5,0)
This is a temporary cross-reference which is used to locate per diem
"^DD",350,350,.05,1,4,"%D",6,0)
and co-payment charges, for an inpatient/NHCU admission, which are
"^DD",350,350,.05,1,4,"%D",7,0)
established, but not yet passed to AR.  The cross-reference is set
"^DD",350,350,.05,1,4,"%D",8,0)
whenever the status of a billable charge is changed to 1 (INCOMPLETE),
"^DD",350,350,.05,1,4,"%D",9,0)
and killed whenever the parent event (#.16) field is defined.  The
"^DD",350,350,.05,1,4,"%D",10,0)
"ACT1" cross-reference on the parent event field is the companion
"^DD",350,350,.05,1,4,"%D",11,0)
to this cross-reference.
"^DD",350,350,.05,1,4,"DT")
2911106
"^DD",350,350,.05,1,5,0)
350^AH^MUMPS
"^DD",350,350,.05,1,5,1)
I X=8,$P(^IB(DA,0),U,2) S ^IB("AH",$P(^IB(DA,0),U,2),DA)=""
"^DD",350,350,.05,1,5,2)
I $P(^IB(DA,0),U,2) K ^IB("AH",$P(^IB(DA,0),U,2),DA)
"^DD",350,350,.05,1,5,"%D",0)
^^1^1^2970305^^^^
"^DD",350,350,.05,1,5,"%D",1,0)
All mt bills in a hold status.
"^DD",350,350,.05,1,5,"DT")
2920302
"^DD",350,350,.05,1,6,0)
350^AI^MUMPS
"^DD",350,350,.05,1,6,1)
I X=99,$P(^IB(DA,0),U,2) S ^IB("AI",$P(^IB(DA,0),U,2),DA)=""
"^DD",350,350,.05,1,6,2)
I $P(^IB(DA,0),U,2) K ^IB("AI",$P(^IB(DA,0),U,2),DA)
"^DD",350,350,.05,1,6,"%D",0)
^^1^1^2970305^^^^
"^DD",350,350,.05,1,6,"%D",1,0)
ALL MT BILLS IN CONVERTED STATUS
"^DD",350,350,.05,1,6,"DT")
2920427
"^DD",350,350,.05,1,7,0)
350^AJ^MUMPS
"^DD",350,350,.05,1,7,1)
I X=21,$P(^IB(DA,0),U,2) S ^IB("AJ",$P(^IB(DA,0),U,2),DA)=""
"^DD",350,350,.05,1,7,2)
I $P(^IB(DA,0),U,2) K ^IB("AJ",$P(^IB(DA,0),U,2),DA)
"^DD",350,350,.05,1,7,"%D",0)
^^9^9^2970305^^
"^DD",350,350,.05,1,7,"%D",1,0)
Cross-reference of all IB ACTIONS for Means Test/Category C charges
"^DD",350,350,.05,1,7,"%D",2,0)
which have a status of HOLD - REVIEW (cross-referenced by the PATIENT
"^DD",350,350,.05,1,7,"%D",3,0)
[#2] field).
"^DD",350,350,.05,1,7,"%D",4,0)
 
"^DD",350,350,.05,1,7,"%D",5,0)
This cross-reference is used to generate a list of all patients, and
"^DD",350,350,.05,1,7,"%D",6,0)
all charges for those patients, who have had Means Test charges 
"^DD",350,350,.05,1,7,"%D",7,0)
back-billed which need to be reviewed before being passed to the
"^DD",350,350,.05,1,7,"%D",8,0)
Accounts Receivable package.  The "AJ1" cross-reference on the
"^DD",350,350,.05,1,7,"%D",9,0)
PATIENT (#.02) field is the companion to this cross-reference.
"^DD",350,350,.05,1,7,"DT")
2940601
"^DD",350,350,.05,1,8,0)
^^TRIGGER^350^16
"^DD",350,350,.05,1,8,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X I X=8 I X S X=DIV S Y(1)=$S($D(^IB(D0,1)):^(1),1:"") S X=$P(Y(1),U,6),X=X S DIU=X K Y S X=DIV S X=DT X ^DD(350,.05,1,8,1.4)
"^DD",350,350,.05,1,8,1.4)
S DIH=$S($D(^IB(DIV(0),1)):^(1),1:""),DIV=X S $P(^(1),U,6)=DIV,DIH=350,DIG=16 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
"^DD",350,350,.05,1,8,2)
Q
"^DD",350,350,.05,1,8,"CREATE CONDITION")
I X=8
"^DD",350,350,.05,1,8,"CREATE VALUE")
TODAY
"^DD",350,350,.05,1,8,"DELETE VALUE")
NO EFFECT
"^DD",350,350,.05,1,8,"DT")
2970306
"^DD",350,350,.05,1,8,"FIELD")
ON HOLD DATE
"^DD",350,350,.05,1,9,0)
350^AHDT1^MUMPS
"^DD",350,350,.05,1,9,1)
I $D(^IB(DA,1)),$P(^IB(DA,1),U,6) S ^IB("AHDT",+$P(^IB(DA,0),U,2),X,$P(^IB(DA,1),U,6),DA)=""
"^DD",350,350,.05,1,9,2)
I $D(^IB(DA,1)),$P(^IB(DA,1),U,6) K ^IB("AHDT",+$P(^IB(DA,0),U,2),X,$P(^IB(DA,1),U,6),DA)
"^DD",350,350,.05,1,9,"%D",0)
^^1^1^2970513^
"^DD",350,350,.05,1,9,"%D",1,0)
Companion to 'AHDT' cross-reference on ON HOLD DATE (#16) field.
"^DD",350,350,.05,1,9,"DT")
2970513
"^DD",350,350,.05,1,10,0)
^^TRIGGER^350^17
"^DD",350,350,.05,1,10,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$P($G(^IBE(350.21,+Y(0),0)),U)="HOLD - REVIEW" I X S X=DIV S Y(1)=$S($D(^IB(D0,1)):^(1),1:"") S X=$P(Y(1),U,7),X=X S DIU=X K Y S X=DIV S X=DT X ^DD(350,.05,1,10,1.4)
"^DD",350,350,.05,1,10,1.4)
S DIH=$G(^IB(DIV(0),1)),DIV=X S $P(^(1),U,7)=DIV,DIH=350,DIG=17 D ^DICR
"^DD",350,350,.05,1,10,2)
Q
"^DD",350,350,.05,1,10,"CREATE CONDITION")
STATUS="HOLD - REVIEW"
"^DD",350,350,.05,1,10,"CREATE VALUE")
TODAY
"^DD",350,350,.05,1,10,"DELETE VALUE")
NO EFFECT
"^DD",350,350,.05,1,10,"DT")
3031117
"^DD",350,350,.05,1,10,"FIELD")
HOLD-REVIEW DATE
"^DD",350,350,.05,3)
 
"^DD",350,350,.05,21,0)
^.001^19^19^3031029^^^^
"^DD",350,350,.05,21,1,0)
This is the current status of this entry.  The IB routines will maintain
"^DD",350,350,.05,21,2,0)
this field.  An entry will be incomplete when it is created, complete
"^DD",350,350,.05,21,3,0)
when all data needed to pass to AR is there, and Billed after passing to
"^DD",350,350,.05,21,4,0)
AR and the bill number and/or transaction number have been added.
"^DD",350,350,.05,21,5,0)
 
"^DD",350,350,.05,21,6,0)
If the entry represents a billable inpatient/NHCU admission (event), the
"^DD",350,350,.05,21,7,0)
status will be Incomplete while the patient is admitted, and then
"^DD",350,350,.05,21,8,0)
Complete when the patient has been discharged.  All entries created
"^DD",350,350,.05,21,9,0)
during the Means Test conversion will have the status Converted Record.
"^DD",350,350,.05,21,10,0)
 
"^DD",350,350,.05,21,11,0)
With Integrated Billing version 2.0, this field is changed from a set
"^DD",350,350,.05,21,12,0)
of codes field to a pointer which points to the IB ACTION STATUS
"^DD",350,350,.05,21,13,0)
(#350.21) file.  This change will allow new action statuses to be
"^DD",350,350,.05,21,14,0)
added more easily, and permit various characteristics to be assigned
"^DD",350,350,.05,21,15,0)
to the statuses to facilitate system processing.  IT IS IMPERATIVE
"^DD",350,350,.05,21,16,0)
THAT THESE NEW POINTED-TO ENTRIES HAVE AN INTERNAL ENTRY NUMBER IN
"^DD",350,350,.05,21,17,0)
FILE #350.21 WHICH IS EQUAL TO THEIR PREVIOUS CODE VALUE.  PLEASE
"^DD",350,350,.05,21,18,0)
CAREFULLY READ THE IB ACTION STATUS FILE DESCRIPTION FOR MORE
"^DD",350,350,.05,21,19,0)
INFORMATION.
"^DD",350,350,.05,"DT")
3031117
"^DD",350,350,.06,0)
UNITS^NJ4,0I^^0;6^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",350,350,.06,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",350,350,.06,21,0)
^^3^3^2910301^^
"^DD",350,350,.06,21,1,0)
This is the number of units that will be multiplied times a specific
"^DD",350,350,.06,21,2,0)
charge that will be calculated to create the total charge.  This is
"^DD",350,350,.06,21,3,0)
passed to IB from the application.
"^DD",350,350,.06,"DT")
2910304
"^DD",350,350,.07,0)
TOTAL CHARGE^NJ10,2I^^0;7^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<0) X
"^DD",350,350,.07,3)
Type a Dollar Amount between 0 and 9999999, 2 Decimal Digits
"^DD",350,350,.07,21,0)
^^10^10^2940209^^^
"^DD",350,350,.07,21,1,0)
This is the total charge for this entry, that will be passed to
"^DD",350,350,.07,21,2,0)
AR.  It is calculated and stored by IB routines.  NOTE: Several IB
"^DD",350,350,.07,21,3,0)
ACTION entries may be combined into one pass to AR so that there may
"^DD",350,350,.07,21,4,0)
not be a one to one relationship between this entry and one in AR.
"^DD",350,350,.07,21,5,0)
 
"^DD",350,350,.07,21,6,0)
The TOTAL CHARGE for all entries will always be positive.  It is
"^DD",350,350,.07,21,7,0)
necessary to refer to the IB ACTION TYPE file to determine if this
"^DD",350,350,.07,21,8,0)
is a NEW, CANCEL or UPDATE.  Cancel action types will cause a decrease
"^DD",350,350,.07,21,9,0)
adjustment to a bill for this amount.  New and Update action types
"^DD",350,350,.07,21,10,0)
will cause an increase adjustment to a bill for this amount.
"^DD",350,350,.07,"DT")
2910304
"^DD",350,350,.08,0)
BRIEF DESCRIPTION^FI^^0;8^K:$L(X)>20!($L(X)<3) X
"^DD",350,350,.08,3)
Answer must be 3-20 characters in length.
"^DD",350,350,.08,21,0)
^^8^8^2910403^^
"^DD",350,350,.08,21,1,0)
This is a brief description of the application entry that caused this
"^DD",350,350,.08,21,2,0)
IB ACTION entry to be created.  For example, for Pharmacy co-payments
"^DD",350,350,.08,21,3,0)
it might indicate '100999-ENDURAL-2' which would indicate that this was
"^DD",350,350,.08,21,4,0)
prescription number 100999, the drug name started with ENDURAL and
"^DD",350,350,.08,21,5,0)
2 units (30-60 days supply) were given.
"^DD",350,350,.08,21,6,0)
 
"^DD",350,350,.08,21,7,0)
The logic to calculate this will be supplied by the application and
"^DD",350,350,.08,21,8,0)
stored with the IB ACTION TYPE entry for this action.
"^DD",350,350,.08,"DT")
2910304
"^DD",350,350,.09,0)
PARENT CHARGE^P350'I^IB(^0;9^Q
"^DD",350,350,.09,1,0)
^.1
"^DD",350,350,.09,1,1,0)
350^AD
"^DD",350,350,.09,1,1,1)
S ^IB("AD",$E(X,1,30),DA)=""
"^DD",350,350,.09,1,1,2)
K ^IB("AD",$E(X,1,30),DA)
"^DD",350,350,.09,1,2,0)
350^APDT^MUMPS
"^DD",350,350,.09,1,2,1)
I $D(^IB(DA,1)),$P(^(1),"^",2) S ^IB("APDT",$E(X,1,30),-$P(^(1),"^",2),DA)=""
"^DD",350,350,.09,1,2,2)
I $D(^IB(DA,1)),$P(^(1),"^",2) K ^IB("APDT",$E(X,1,30),-$P(^(1),"^",2),DA)
"^DD",350,350,.09,1,2,"%D",0)
^^5^5^2910417^^
"^DD",350,350,.09,1,2,"%D",1,0)
Cross-reference of all IB ACTION entries by parent link (#.09) field and
"^DD",350,350,.09,1,2,"%D",2,0)
the minus (negative or inverse) date entry added (#12) field.  The most current ACTION
"^DD",350,350,.09,1,2,"%D",3,0)
for the original entry can be found using this cross-reference.  The "APDT1"
"^DD",350,350,.09,1,2,"%D",4,0)
cross-reference on the DATE ENTRY ADDED (#12) field is the companion to this
"^DD",350,350,.09,1,2,"%D",5,0)
cross-reference.
"^DD",350,350,.09,3)

"^DD",350,350,.09,21,0)
^^12^12^2911105^^^^
"^DD",350,350,.09,21,1,0)
This is a pointer to the original IB ACTION entry that this entry refers
"^DD",350,350,.09,21,2,0)
to.  For a NEW entry, it will point to itself.  For all other entries it
"^DD",350,350,.09,21,3,0)
will point to the original entry.
"^DD",350,350,.09,21,4,0)
 
"^DD",350,350,.09,21,5,0)
An application then only needs to maintain the pointer to the original
"^DD",350,350,.09,21,6,0)
entry and can find the most recent entry for this entry as
"^DD",350,350,.09,21,7,0)
 
"^DD",350,350,.09,21,8,0)
  S x=$O(^IB("APDT",parent,0),x=$O(^(x,0))
"^DD",350,350,.09,21,9,0)
 
"^DD",350,350,.09,21,10,0)
If x '= parent then this is an updated entry, the pointer to the
"^DD",350,350,.09,21,11,0)
IB ACTION TYPE file will give you the sequence number which will indicate
"^DD",350,350,.09,21,12,0)
if this is cancelled or an updated entry.
"^DD",350,350,.09,"DT")
2911105
"^DD",350,350,.1,0)
CANCELLATION REASON^P350.3^IBE(350.3,^0;10^Q
"^DD",350,350,.1,3)

"^DD",350,350,.1,21,0)
^^1^1^2990920^^^
"^DD",350,350,.1,21,1,0)
This is the reason that this charge was cancelled.
"^DD",350,350,.1,"DT")
2910301
"^DD",350,350,.11,0)
AR BILL NUMBER^F^^0;11^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>12!($L(X)<6) X
"^DD",350,350,.11,1,0)
^.1
"^DD",350,350,.11,1,1,0)
350^ABIL
"^DD",350,350,.11,1,1,1)
S ^IB("ABIL",$E(X,1,30),DA)=""
"^DD",350,350,.11,1,1,2)
K ^IB("ABIL",$E(X,1,30),DA)
"^DD",350,350,.11,3)
Answer must be 6-12 characters in length.
"^DD",350,350,.11,21,0)
^^4^4^2910301^
"^DD",350,350,.11,21,1,0)
This is the free text bill number that this entry is charged to.  It
"^DD",350,350,.11,21,2,0)
is in the format of a PAT number.  It will be calculated by accounts
"^DD",350,350,.11,21,3,0)
receivable from the AR BILL NUMBER file for the service in the IB
"^DD",350,350,.11,21,4,0)
ACTION TYPE entry associated with this entry.
"^DD",350,350,.11,"DT")
2910306
"^DD",350,350,.12,0)
AR TRANSACTION NUMBER^NJ6,0^^0;12^K:+X'=X!(X>999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",350,350,.12,1,0)
^.1
"^DD",350,350,.12,1,1,0)
350^AT
"^DD",350,350,.12,1,1,1)
S ^IB("AT",$E(X,1,30),DA)=""
"^DD",350,350,.12,1,1,2)
K ^IB("AT",$E(X,1,30),DA)
"^DD",350,350,.12,3)
Type a Number between 1 and 999999, 0 Decimal Digits
"^DD",350,350,.12,21,0)
^^4^4^2910301^
"^DD",350,350,.12,21,1,0)
This is the pointer value to the AR TRANSACTION file.  An entry that
"^DD",350,350,.12,21,2,0)
causes a new bill number to be created will not have an AR TRANSACTION
"^DD",350,350,.12,21,3,0)
file entry associated with it as the charge data will be stored with
"^DD",350,350,.12,21,4,0)
the original bill.
"^DD",350,350,.12,"DT")
2910329
"^DD",350,350,.13,0)
INSTITUTION^P4'I^DIC(4,^0;13^Q
"^DD",350,350,.13,3)

"^DD",350,350,.13,21,0)
^^3^3^2910301^
"^DD",350,350,.13,21,1,0)
This is the facility that caused this bill.  The station number field of
"^DD",350,350,.13,21,2,0)
the institution file will be used in determining the reference number.
"^DD",350,350,.13,21,3,0)
Accounts Receivable will use the station number in the bill number.
"^DD",350,350,.13,"DT")
2910304
"^DD",350,350,.14,0)
DATE BILLED FROM^D^^0;14^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,.14,1,0)
^.1^^0
"^DD",350,350,.14,21,0)
^^1^1^2920414^^^^
"^DD",350,350,.14,21,1,0)
This is the first date in the date range covered by this billing action.
"^DD",350,350,.14,"DT")
2920302
"^DD",350,350,.15,0)
DATE BILLED TO^D^^0;15^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,.15,21,0)
^^1^1^2920414^^
"^DD",350,350,.15,21,1,0)
This is the last date in the date range covered by this billing action.
"^DD",350,350,.15,"DT")
2911008
"^DD",350,350,.16,0)
PARENT EVENT^P350'^IB(^0;16^Q
"^DD",350,350,.16,1,0)
^.1
"^DD",350,350,.16,1,1,0)
350^AF
"^DD",350,350,.16,1,1,1)
S ^IB("AF",$E(X,1,30),DA)=""
"^DD",350,350,.16,1,1,2)
K ^IB("AF",$E(X,1,30),DA)
"^DD",350,350,.16,1,1,"%D",0)
^^2^2^2911009^
"^DD",350,350,.16,1,1,"%D",1,0)
This cross-reference will be used to link all Means Test/Category C
"^DD",350,350,.16,1,1,"%D",2,0)
co-payment and per diem charges to a particular billable event.
"^DD",350,350,.16,1,1,"DT")
2911009
"^DD",350,350,.16,1,2,0)
350^ACT1^MUMPS
"^DD",350,350,.16,1,2,1)
I $D(^IB(DA,0)),$P(^(0),"^",5)=1,$P($G(^IBE(350.1,+$P(^(0),"^",3),0)),"^")'["ADMISSION" S ^IB("ACT",X,DA)=""
"^DD",350,350,.16,1,2,2)
K ^IB("ACT",X,DA)
"^DD",350,350,.16,1,2,"%D",0)
^.101^9^9^3010827^^^^
"^DD",350,350,.16,1,2,"%D",1,0)
Cross-reference of all IB ACTIONS for Means Test/Category C charges
"^DD",350,350,.16,1,2,"%D",2,0)
which have a status (field #.05) of INCOMPLETE.
"^DD",350,350,.16,1,2,"%D",3,0)
 
"^DD",350,350,.16,1,2,"%D",4,0)
This is a temporary cross-reference which is used to locate per diem
"^DD",350,350,.16,1,2,"%D",5,0)
and co-payment charges, for an inpatient/NHCU admission, which are
"^DD",350,350,.16,1,2,"%D",6,0)
established, but not yet passed to AR.  The cross-reference is set
"^DD",350,350,.16,1,2,"%D",7,0)
whenever the status (#.05) of a billable charge is changed to 1
"^DD",350,350,.16,1,2,"%D",8,0)
(INCOMPLETE), and killed without condition.  The "ACT" cross-reference
"^DD",350,350,.16,1,2,"%D",9,0)
on the status field is the companion to this cross-reference.
"^DD",350,350,.16,1,2,"DT")
2911106
"^DD",350,350,.16,21,0)
^^12^12^2940209^^^^
"^DD",350,350,.16,21,1,0)
This field is used only for IB ACTION entries (both events and charges)
"^DD",350,350,.16,21,2,0)
which are associated with Category C billing.
"^DD",350,350,.16,21,3,0)
 
"^DD",350,350,.16,21,4,0)
This field is a pointer to the IB ACTION event (inpatient/NHCU admission
"^DD",350,350,.16,21,5,0)
or outpatient visit) for which the charges are being billed.  For an
"^DD",350,350,.16,21,6,0)
event entry, this field will point to itself.  For all IB ACTION charges 
"^DD",350,350,.16,21,7,0)
(new, cancelled, and updated) associated with a billable event,
"^DD",350,350,.16,21,8,0)
this field will point to that event.
"^DD",350,350,.16,21,9,0)
 
"^DD",350,350,.16,21,10,0)
Note that cancelled and updated actions will still point to the parent
"^DD",350,350,.16,21,11,0)
(new) action through the Parent Charge (.09) field, in the same manner
"^DD",350,350,.16,21,12,0)
as Pharmacy co-pay charges.
"^DD",350,350,.16,"DT")
2911106
"^DD",350,350,.17,0)
EVENT DATE^D^^0;17^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,.17,1,0)
^.1
"^DD",350,350,.17,1,1,0)
350^AFDT1^MUMPS
"^DD",350,350,.17,1,1,1)
I $D(^IB(DA,0)),$P(^(0),"^",2) S ^IB("AFDT",$P(^(0),"^",2),-X,DA)=""
"^DD",350,350,.17,1,1,2)
I $D(^IB(DA,0)),$P(^(0),"^",2) K ^IB("AFDT",$P(^(0),"^",2),-X,DA)
"^DD",350,350,.17,1,1,"%D",0)
^.101^5^5^3010827^^^^
"^DD",350,350,.17,1,1,"%D",1,0)
Cross-reference of all IB ACTION entries which represent inpatient/NHCU
"^DD",350,350,.17,1,1,"%D",2,0)
admissions by the patient (#.02) field and the minus (negative or inverse)
"^DD",350,350,.17,1,1,"%D",3,0)
event date field.  A billable event may be located for a patient using
"^DD",350,350,.17,1,1,"%D",4,0)
this cross-reference.  The "AFDT" cross-reference on the patient (#.02)
"^DD",350,350,.17,1,1,"%D",5,0)
field is the companion to this cross-reference.
"^DD",350,350,.17,1,1,"DT")
2911101
"^DD",350,350,.17,21,0)
^^6^6^2911104^^^^
"^DD",350,350,.17,21,1,0)
This field will only be used for those IB ACTION entries which represent
"^DD",350,350,.17,21,2,0)
Hospital/NHCU admissions and outpatient visits for which Category C
"^DD",350,350,.17,21,3,0)
copayment and per diem charges will be billed to the patient.  The
"^DD",350,350,.17,21,4,0)
value of this field will be the admission or visit date.  The inverse
"^DD",350,350,.17,21,5,0)
(negative) value of this date will be cross-referenced by patient for
"^DD",350,350,.17,21,6,0)
look-up purposes.
"^DD",350,350,.17,"DT")
2911101
"^DD",350,350,.18,0)
DATE LAST BILLED^D^^0;18^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,.18,21,0)
^^4^4^2911101^
"^DD",350,350,.18,21,1,0)
This field will only be used for those IB ACTION entries which represent
"^DD",350,350,.18,21,2,0)
inpatient or NHCU admissions for which Category C copayment and per diem
"^DD",350,350,.18,21,3,0)
charges will be billed to the patient.  The value of this field will be
"^DD",350,350,.18,21,4,0)
the last day through which charges have been calculated for the admission.
"^DD",350,350,.18,"DT")
2911101
"^DD",350,350,.19,0)
IB COPAY TRANSACTION NUMBER^P354.71'^IBAM(354.71,^0;19^Q
"^DD",350,350,.19,3)
Answer with a IB COPAY TRANSACTION NUMBER
"^DD",350,350,.19,21,0)
^^2^2^3010119^
"^DD",350,350,.19,21,1,0)
This is the transaction number associated with this entry to assist
"^DD",350,350,.19,21,2,0)
in determining if a patient has reached his cap.
"^DD",350,350,.19,"DT")
3010119
"^DD",350,350,.2,0)
CLINIC STOP^P352.5'^IBE(352.5,^0;20^Q
"^DD",350,350,.2,3)
Enter the clinic stop for the outpatient visit.
"^DD",350,350,.2,21,0)
^.001^2^2^3011203^^
"^DD",350,350,.2,21,1,0)
This field is used to enter the clinic stop for outpatient co-pay
"^DD",350,350,.2,21,2,0)
charges.
"^DD",350,350,.2,"DT")
3011130
"^DD",350,350,.21,0)
GMT RELATED^S^1:YES;^0;21^Q
"^DD",350,350,.21,3)
Is this charge related to the GMT Copayment Status
"^DD",350,350,.21,21,0)
^^2^2^3020724^
"^DD",350,350,.21,21,1,0)
This is a flag indicating that this charge was decreased due to the
"^DD",350,350,.21,21,2,0)
patient's GMT Copayment status.
"^DD",350,350,.21,"DT")
3020724
"^DD",350,350,11,0)
USER ADDING ENTRY^P200'I^VA(200,^1;1^Q
"^DD",350,350,11,21,0)
^^2^2^2970701^^^^
"^DD",350,350,11,21,1,0)
This is the person adding an entry in an application that cause the
"^DD",350,350,11,21,2,0)
application to create an entry in this file.
"^DD",350,350,11,"DT")
2910304
"^DD",350,350,12,0)
DATE ENTRY ADDED^DI^^1;2^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,12,1,0)
^.1^^-1
"^DD",350,350,12,1,1,0)
350^D
"^DD",350,350,12,1,1,1)
S ^IB("D",$E(X,1,30),DA)=""
"^DD",350,350,12,1,1,2)
K ^IB("D",$E(X,1,30),DA)
"^DD",350,350,12,1,2,0)
350^APDT1^MUMPS
"^DD",350,350,12,1,2,1)
I $P(^IB(DA,0),"^",9) S ^IB("APDT",$P(^(0),"^",9),-X,DA)=""
"^DD",350,350,12,1,2,2)
I $P(^IB(DA,0),"^",9) K ^IB("APDT",$P(^(0),"^",9),-X,DA)
"^DD",350,350,12,1,2,"%D",0)
^^5^5^2910417^
"^DD",350,350,12,1,2,"%D",1,0)
Cross-reference of all IB ACTION entries by parent link (#.09) field and
"^DD",350,350,12,1,2,"%D",2,0)
the minus (negative or inverse) date entry added (#12) field.  The most
"^DD",350,350,12,1,2,"%D",3,0)
current ACTION for the original entry can be found using this cross
"^DD",350,350,12,1,2,"%D",4,0)
reference.  The "APDT" cross-reference on the parent link (#.09) is the 
"^DD",350,350,12,1,2,"%D",5,0)
companion to this cross-reference.
"^DD",350,350,12,1,3,0)
350^APTDT1^MUMPS
"^DD",350,350,12,1,3,1)
I $D(^IB(DA,0)),$P(^(0),"^",2) S ^IB("APTDT",$P(^(0),"^",2),X,DA)=""
"^DD",350,350,12,1,3,2)
I $D(^IB(DA,0)),$P(^(0),"^",2) K ^IB("APTDT",$P(^(0),"^",2),X,DA)
"^DD",350,350,12,1,3,"%D",0)
^^3^3^2910417^
"^DD",350,350,12,1,3,"%D",1,0)
Cross-reference of all IB ACTION entries by patient (#.02) and the date entry added (#12)
"^DD",350,350,12,1,3,"%D",2,0)
field.  The "APTDT" cross-reference on the patient (#.02) field is the
"^DD",350,350,12,1,3,"%D",3,0)
companion to this cross-reference.
"^DD",350,350,12,21,0)
^^3^3^2921009^^^
"^DD",350,350,12,21,1,0)
This is the date/time that an entry was added to this file.  The most
"^DD",350,350,12,21,2,0)
recent update to an entry can be determined by finding the last entry in
"^DD",350,350,12,21,3,0)
this field.
"^DD",350,350,12,"DT")
2920430
"^DD",350,350,13,0)
USER LAST UPDATING^P200'^VA(200,^1;3^Q
"^DD",350,350,13,3)

"^DD",350,350,13,5,1,0)
350^.05^2
"^DD",350,350,13,21,0)
^^2^2^2940209^^^
"^DD",350,350,13,21,1,0)
This is the person last updating an entry in an application when it
"^DD",350,350,13,21,2,0)
caused an update to this entry in this file.
"^DD",350,350,13,"DT")
2910205
"^DD",350,350,14,0)
DATE LAST UPDATED^D^^1;4^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,14,5,1,0)
350^.05^3
"^DD",350,350,14,21,0)
^^1^1^2910301^
"^DD",350,350,14,21,1,0)
This is the date/time that this entry was last updated.
"^DD",350,350,14,"DT")
2910205
"^DD",350,350,15,0)
CHAMPVA ADM DATE^D^^1;5^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,15,1,0)
^.1
"^DD",350,350,15,1,1,0)
350^ACVA1^MUMPS
"^DD",350,350,15,1,1,1)
I X,$D(^IB(DA,0)),$P(^(0),"^",2) S ^IB("ACVA",$P(^(0),"^",2),X,DA)=""
"^DD",350,350,15,1,1,2)
I X,$D(^IB(DA,0)),$P(^(0),"^",2) K ^IB("ACVA",$P(^(0),"^",2),X,DA)
"^DD",350,350,15,1,1,"%D",0)
^^3^3^2930728^
"^DD",350,350,15,1,1,"%D",1,0)
This cross-reference is used in conjunction with the ACVA cross
"^DD",350,350,15,1,1,"%D",2,0)
reference on the PATIENT (#.02) field to cross reference all
"^DD",350,350,15,1,1,"%D",3,0)
CHAMPVA inpatient subsistence charges by patient and admission date.
"^DD",350,350,15,1,1,"DT")
2930728
"^DD",350,350,15,21,0)
^^1^1^2970210^^
"^DD",350,350,15,21,1,0)
This is the admission date for the episode of CHAMPVA care being billed.
"^DD",350,350,15,"DT")
2930728
"^DD",350,350,16,0)
ON HOLD DATE^D^^1;6^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,16,1,0)
^.1
"^DD",350,350,16,1,1,0)
350^AHDT^MUMPS
"^DD",350,350,16,1,1,1)
I $D(^IB(DA,1)),$P(^IB(DA,1),U,6) S ^IB("AHDT",+$P(^IB(DA,0),U,2),+$P(^IB(DA,0),U,5),X,DA)=""
"^DD",350,350,16,1,1,2)
I $D(^IB(DA,1)),$P(^IB(DA,1),U,6) K ^IB("AHDT",+$P(^IB(DA,0),U,2),+$P(^IB(DA,0),U,5),X,DA)
"^DD",350,350,16,1,1,"%D",0)
^^6^6^2970513^
"^DD",350,350,16,1,1,"%D",1,0)
Cross-reference of all IB ACTIONS that have ever had the STATUS (#.05) of
"^DD",350,350,16,1,1,"%D",2,0)
ON HOLD since the install of patch IB*2*70.  This cross-reference is used
"^DD",350,350,16,1,1,"%D",3,0)
to automatically release charges ON HOLD for greater than 90 days. This
"^DD",350,350,16,1,1,"%D",4,0)
cross reference is also used to generate both follow-up and historic
"^DD",350,350,16,1,1,"%D",5,0)
reports.  The 'AHDT1' cross-reference on the STATUS (#.05) field is the
"^DD",350,350,16,1,1,"%D",6,0)
companion to this cross-reference.
"^DD",350,350,16,1,1,"DT")
2970513
"^DD",350,350,16,5,1,0)
350^.05^8
"^DD",350,350,16,21,0)
^^6^6^2980115^
"^DD",350,350,16,21,1,0)
This date is used to determine when the patient charge (Status = ON HOLD)
"^DD",350,350,16,21,2,0)
should be auto-released to Accounts Receivable as well as to generate
"^DD",350,350,16,21,3,0)
reports.  The date is set initially when the patient charge is established
"^DD",350,350,16,21,4,0)
and placed on hold.  The date is reset when a third party claim for the
"^DD",350,350,16,21,5,0)
same episode of care is authorized. The new ON HOLD DATE is the authorized
"^DD",350,350,16,21,6,0)
date of the third party claim.
"^DD",350,350,16,"DT")
2970513
"^DD",350,350,17,0)
HOLD-REVIEW DATE^D^^1;7^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",350,350,17,5,1,0)
350^.05^10
"^DD",350,350,17,21,0)
^^1^1^3031117^
"^DD",350,350,17,21,1,0)
This is the date the patient charge was put on HOLD-REVIEW status.
"^DD",350,350,17,"DT")
3031029
"^DIC",350,350,0)
INTEGRATED BILLING ACTION
"^DIC",350,350,0,"GL")
^IB(
"^DIC",350,350,"%",0)
^1.005^^0
"^DIC",350,350,"%D",0)
^^25^25^2940214^^^^
"^DIC",350,350,"%D",1,0)
DO NOT delete entries in this file.  DO NOT edit data in this file with
"^DIC",350,350,"%D",2,0)
VA File Manager.
"^DIC",350,350,"%D",3,0)
 
"^DIC",350,350,"%D",4,0)
Entries in this file are created by other applications calling approved
"^DIC",350,350,"%D",5,0)
application specific routines.  This file is the link between Accounts
"^DIC",350,350,"%D",6,0)
Receivable and an application.  Integrated billing will attempt to
"^DIC",350,350,"%D",7,0)
aggregate charges where possible to reduce the number of account 
"^DIC",350,350,"%D",8,0)
entries necessary.  Resolution of charges from Accounts Receivable would
"^DIC",350,350,"%D",9,0)
then be accomplished through Integrated Billing.
"^DIC",350,350,"%D",10,0)
 
"^DIC",350,350,"%D",11,0)
Entries in this file will not be deleted or edited (except for the
"^DIC",350,350,"%D",12,0)
status field, cancellation reasons filed, last updated field, and
"^DIC",350,350,"%D",13,0)
user last updating field).  Rather than deleting an entry, an entry
"^DIC",350,350,"%D",14,0)
is "reversed" by creating an additional entry with the IB ACTION TYPE
"^DIC",350,350,"%D",15,0)
entry that cancels the original entry.  An entry is edited by creating
"^DIC",350,350,"%D",16,0)
the cancellation entry and then adding an updated new entry.  All entries
"^DIC",350,350,"%D",17,0)
related to the original entry will be related by the PARENT LINK field.
"^DIC",350,350,"%D",18,0)
 
"^DIC",350,350,"%D",19,0)
There is also an IB ACTION type that is an event, which may include
"^DIC",350,350,"%D",20,0)
Hospital admissions, NHCU admissions, and outpatient visits.  All of
"^DIC",350,350,"%D",21,0)
the charges associated with an event will be related to that event by
"^DIC",350,350,"%D",22,0)
the EVENT LINK field.
"^DIC",350,350,"%D",23,0)
 
"^DIC",350,350,"%D",24,0)
 
"^DIC",350,350,"%D",25,0)
Per VHA Directive 10-93-142, this file definition should not be modified.
"^DIC",350,"B","INTEGRATED BILLING ACTION",350)

**END**
**END**
