$TXT Created by GREENWOOD,OWAIN at DEVFEY.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 08/28/07 at 16:09
=============================================================================
Run Date: OCT 03, 2007                     Designation: SD*5.3*446
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #422                    Status: Released
                  Compliance Date: NOV 03, 2007
=============================================================================

Associated patches: (v)SD*5.3*417  <<= must be installed BEFORE `SD*5.3*446'
                    (v)SD*5.3*497  <<= must be installed BEFORE `SD*5.3*446'

Subject: EWL Scheduling Beyond 120 Days

Category: 
  - Data Dictionary
  - Enhancement (Mandatory)
  - Routine

Description:
============

   This enhancement patch shall provide a number of improvements to EWL
   functionality which will assist in the creation and maintenance of
   Electronic Wait List (EWL) entries.
   
   One purpose of this patch is to enhance the Inter-Facility Transfer
   function (released with patch SD*5.3*415). Special flags will be
   implemented to indicate and track the patient's primary care transfer,
   rejection, and multiple team assignments.
  
   Also added to the Inter-Facility Transfer function is the ability to
   search for patients within the Electronic Wait List (EWL) using a
   combination of the first initial of the patient's last name and the last
   four digits of their Social Security Number (SSN).
   
   A flag shall also be set for the patient when the appointment cannot be
   scheduled within 120 days. In addition, the user will no longer be able
   to make an appointment over 120 days from the patient's Desired Date of
   Appointment.  The user will be allowed to enter the patient on the Wait
   List for that clinic. This restriction reflects new VHA policy and
   enforces ACA practices.
  
   System features include extensive modification to the Enter/Edit Wait
   List (Sch/PCMM) option as well as introduction of multiple flags that
   identify special types of requests. Additional multiple fields will be
   included in the SD WAIT LIST file (#409.3) to accommodate historical
   review of fields that require auditing. The following features shall be
   implemented with this patch:
   
   1. The option SD WAIT LIST DISPOSITION ENTRY from the Appointment
   Management menu has been changed so that appointments matching the same
   specialty/stop code can be associated if the disposition code SA:REMOVED
   /SCHEDULED-ASSIGNED has been selected.
   
   2. The new option SD WAIT LIST OPEN CLOSED ENTRY will allow the user to
   manually open any type of closed entry. The code O - Other will be set
   in the Reopen Entry reason field. The user is required to enter a comment
   in the Reopen Comment field. This option is located within the SD WAIT
   LIST UTILITIES Wait List (Sch/PCMM) Utilities menu which is within the
   SDSUP Supervisor Menu.
   
   3. The system shall identify and display appointment(s) and/or encounters
   that match the clinic or specialty input made during the Enter/Edit Wait
   List (Sch/PCMM) process. The system will display the potentially matched
   appointment, and the user can decide to continue with the Wait List entry
   or to exit the process.
   
   4. When using SD WAIT LIST DISPOSITION option there will be a new feature
   allowing a patient's Wait List entry for a Specific Clinic to be moved to
   a different clinic. The original entry shall be closed with the new 
   disposition code of 'CL' for Changed Clinic.
   
   5. A new option, Wait List Batch Clinic Change, is provided to allow for
   the creation of new EWL entries for another clinic following the procedure
   detailed in item 4. This option is located within the SD WAIT LIST 
   UTILITIES Wait List (Sch/PCMM) Utilities menu which is within the SDSUP
   Supervisor Menu.
   
   6. The matching of entries has been simplified in the Multiple Appointment
   Booking functionality. This is a modification to functionality introduced 
   in patch SD*5.3*327.
   
   7. A non-removal reason is required to be entered if a matching
   appointment by stop code is displayed.
   
   8. The following flags will be used to identify the patient's status:
   
   *INTRA TRANSFER - identifies the patient's preferred location
   *REJECTION - indicates that there are locations with available Primary
     Care teams while the patient opted to be put on the Wait List.
   *MULTI TEAM - the requested location has more than one team, and one Wait
     List entry was created for each team.
   
   9. The Patient Appointment Information Transmission (PAIT) will include
   the new "Service Connected" Appointment Type.
   
   10. The Patient Appointment Information Transmission (PAIT) will have a
   new field related to the optional date/time of a requested consult.
   
   11. While making an appointment (during the check out process), if an
   open EWL record exists for the patient for the same service (DSS stop
   code), the ability to close the matching entry will be provided.
   
   12. The SD EWL BACKGROUND job will be modified to include a search for
   potential matching appointments and/or encounters created for the same
   clinic or specialty as open EWL entries. The matching appointments/
   encounters would have to have their date/time not older than the 
   Origination Date of the related open EWL entries. If the matching
   encounters are identified as described above, a message will be sent
   to the mail group SD EWL BACKGROUND UPDATE, with a listing of those
   opened entries that should potentially be closed.
   
   13. The messages sent by the SD EWL BACKGROUND JOB to the SD EWL BACKGROUND 
   UPDATE mail group will include the patient's Social Security Number (SSN).
   
   14. The user must currently choose a disposition code to close a matching
   appointment, whereas the new feature will automatically assign the
   matching entry with the (SA)REMOVED/SCHEDULED-ASSIGNED disposition type.
   
   15. The SD Wait List Display will include 'Non Removal Reason', all new
   flags, and comment information.
   
   16. A new option, Wait List Enter/Edit as a Scheduling Reminder, will
   allow the user to enter "tickler" or reminder type entries.
   
   17. New flags will be instituted to follow business rules. If an
   appointment cannot be scheduled earlier than 120 days from the desired
   date, an entry will be created with the 120 Days flag.  The ability to
   use the related clinic will be allowed even if it is not set up in the
   SD WL CLINIC LOCATION file (#409.32). That entry will be created during
   this process if applicable. A message will be sent to the SD EWL
   BACKGROUND UPDATE Mail Group concerning the 120 Days flag.
   
   18. The Enter/Edit Wait List (Sch/PCMM) option will allow the optional 
   selection of a clinic that matches the entered specialty in the EWL 
   SERVICE/SPECIALTY entry process.
   
   19. Significant enhancement to the Inter-facility Transfer function
   released with patch SD*5.3*415. The EWL Inquire option shall now check
   whether an EWL entry is the subject of an Inter-Facility Transfer. If so,
   this information shall be displayed. In the Enter/Edit Wait List 
   (Sch/PCMM) option, at the point where a new EWL entry has been requested,
   a look-up is performed on the file SDWL TRANSFER ACCEPT (#409.36). If
   the patient has a transfer pending, a new prompt appears asking if a new
   EWL entry should be created (transferring the patient from the requesting
   facility). In this way, an association is made with the newly created EWL
   entry and the EWL entry at the requesting facility. This association is
   maintained until EWL entry at the receiving facility is closed.
   
   An EWL entry cannot be edited while it is the subject of an Inter-Facility
   Transfer. It should be stressed that it is not possible to simply reopen
   an EWL entry (see #2) closed due to a transfer. First, the continuation
   EWL entry must be removed or the connection is broken.
   
   When an EWL entry which is the subject of an Inter-Facility Transfer is
   closed, this normally concludes the transfer. An exception to this is if
   the disposition reason is ENTERED IN ERROR. In this case, the status of
   the transfer file at the facility returns to PENDING. Otherwise, a message
   is returned to the requesting facility and the associated EWL entry 
   there is closed.
   
   20. Some changes have been made to the way the EWL Entry look-up is 
   performed within the SDWL Transfer Request process. Previously, a single
   request was made against SD WAIT LIST ENTRY (#409.3) using a standard
   interface which handled the user inputs, any help requests, the display
   of the data and the return value. The changes introduced by this patch
   involve two separate database queries as well as displaying returned
   data and the handling of user inputs. Much of this is invisible to the
   user, although once the Wait List Entry has been selected, the
   associated Institution and Wait List Type are more clearly displayed.
   
   21. The EWL Stats Reports, Wait List (Sch/PCMM) Statistic Report and
   Enrollment Wait List (Sch/PCMM) Statistic Report have been modified to
   include the new disposition code CL - CHANGED CLINIC.
   
 File Changes
 ------------
 
 SD WAIT LIST (#409.3)
   Added new fields
     REJECTION FLAG (#32)
     SCHEDULING REMINDER FLAG (#33)
     INTRA TRANSFER FLAG (#34)
     120 DAYS FIELD (#36)
     CHANGED CLINIC PARENT POINTER (#37)
     MULTI TEAM FLAG (#38)
     120 DAY APPT CREATED (#39)
   Changed fields
     DISPOSITION (#21)
 SDWL TRANSFER REQUEST (#409.35)
   Changed field
     STATUS (#3)
 SDWL TRANSFER ACCEPT (#409.36)
   Added new fields
     STATUS (#1)
     FACILITY TRANSFERRED TO (#2)
     SD WAIT LIST ENTRY (#409.3)
 
 List templates
 --------------
 
   SDWL TRANSFER ACC MAIN
   SDWL TRANSFER ACC VIEW
   SDWL TRANSFER REQ INAC
   SDWL TRANSFER REQ VIEW
 
 Options
 -------
 
   SD WAIT LIST ENROLL REPORT
     Enrollment Wait List (Sch/PCMM) Statistic Report
   SD WAIT LIST OPEN CLOSED ENTRY
     Open Closed EWL Entry
   SD WAIT LIST REPORTS MENU
     Wait List (Sch/PCMM) Reports
   SD WAIT LIST STATS REPORT
     Wait List (Sch/PCMM) Statistic Report
   SD WAIT LIST UTILITIES
     Wait List (Sch/PCMM) Utilities
   SDWL ENTER/EDIT WITH ACA FLAG
     Wait List Enter/Edit as a Scheduling Reminder
   SDWL BATCH CLINIC CHANGE
     Wait List Batch Clinic Change
 
 Protocols
 ---------
 
  SDWL XFER ACC EWL
  SDWL XFER ACC MNU VIEW
  SDWL XFER ACC PCMM
  SDWL XFER ACC REJECT
  SDWL XFER ACC VIEW
 
 This patch addresses the following NOIS/Remedy Ticket(s):
 ---------------------------------------------------------
  
 119335 - SD patch does not allow use of 1U4N 
 
 137785 - Transfer of wait list patients.
 
 145173 - Assignment of the patient to non PC team triggers deleting all
          existing EWL entries for team(s) and position(s).
 
 188838 - Patient selection not displaying MT info correctly
  
 193401 - Patient not placed on EWL when there is no clinic availability
 
 Test Sites:
 -----------
 
 Durham
 VA Montana
 VA Maryland
 Puget Sound
 Charleston
 Portland
 Milwaukee
  
 The following documentation will be available:
 ==============================================
  
    File Name                 Description
  
    SD_53_446_UM.PDF          Electronic Wait List for Scheduling 5.3
                              Enhancements USER MANUAL for Patch SD*5.3*446.
  
 The preferred method is to FTP the file (in Binary mode) from:
  
        download.vista.med.va.gov
  
 Sites may retrieve the documentation directly using FTP from the
 ANONYMOUS.SOFTWARE directory at the following OI Field Offices: 
  
        Albany:         ftp.fo-albany.med.va.gov
        Hines:          ftp.fo-hines.med.va.gov
        Salt Lake City: ftp.fo-slc.med.va.gov
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
     
      <tab>;;5.3;Scheduling;**[patch list]**;AUG 13, 1993
     
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SCMCQK1               16894124             16941174     148,177,231,264,436
                                                                297,446
  SCMCWAIT               5175654             13839136         264,297,446
  SDAM2                 10662033             10592179     250,296,327,478,446
  SDCO1                  7516464              8715805     27,132,149,193,250
                                                                296,446
  SDM1                  18087953             19498098      32,167,168,80,223
                                                          263,273,408,327,478
                                                                490,446
  SDM1A                 16726983             19583535      26,94,155,206,168
                                                          223,241,263,327,478
                                                                  446
  SDM2A                      N/A              6489549             446
  SDMM                  23210774             24816753      26,32,167,241,327
                                                                  446
  SDRPA07               14643245             16607825     290,333,349,376,446
  SDRPA20                    N/A              1011440             446
  SDWL120                    N/A              4661897             446
  SDWLBACC                   N/A              8106295             446
  SDWLD                  7723359             10352709       263,454,417,446
  SDWLDISP              13258773             19005207     263,273,427,454,446
  SDWLE                 11000417             11459945           263,446
  SDWLE11                3544511              4182897       263,485,497,446
  SDWLE2                 1680538              6840504       263,397,424,446
  SDWLE3                10148541             14272914         263,417,446
  SDWLE4                 1741593              4204276           263,446
  SDWLE6                     N/A             16821541             446
  SDWLE7                     N/A              5416966             446
  SDWLEC                     N/A              9688483             446
  SDWLEVAL              23791412             19894932         327,471,446
  SDWLI                 17687353             21643091       263,327,394,446
  SDWLIFT               17556249             23193933           415,446
  SDWLIFT0              13467836             15083621           415,446
  SDWLIFT2               3605376              3616207           415,446
  SDWLIFT3              11656507             16966823           415,446
  SDWLIFT5               4998025              5436923           415,446
  SDWLIFT6              15779541             19060261           415,446
  SDWLMSG               13200618             16692318         327,394,446
  SDWLP446                   N/A               870595             446
  SDWLPL                13967274             14116938       327,394,417,446
  SDWLQSC               17159607             16044161       327,394,467,446
  SDWLQSC1                   N/A              8219976             446
  SDWLROI               16463635             18372059       263,412,415,446
  SDWLROIS              15820888             15928719         412,415,446
  SDWLRP1               11295333             12001462     263,273,485,497,446
  SDWLRSR               17279447             19401188     263,273,399,412,425
                                                                415,446
  SDWLRSRS              16470885             16780521         415,469,446
  SDWLTR                33822002             34939534         270,420,446
  SDWLTR1                    N/A              1188360             446
 
 The pre-installation routine SDWLP446 is distributed with this patch. It
 will be executed on installation and, if the installation is successful, 
 it will be deleted.
 
  INSTALLATION INSTRUCTIONS:
  ===========================
  This patch may be run with users on the system.
  Installation will take less than 5 minutes.
   
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
      the KIDS distribution included with this message.
      NOTE:  If the required patches are not installed, the transport global
             will be removed.  If the transport global is removed you will
             need to repeat this step.
   
  2.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  3.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter SD*5.3*446):
      a.  Compare Transport Global to Current System  - this option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch (routines,
          DDs, templates, etc.).
      b.  Verify Checksums in Transport Global - this option will
          allow you to ensure the integrity of the routines that are in
          the transport global.
      c.  Print Transport Global - this option will allow you to view the
          components of the KIDS build.
      d.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
   
  4.  Use the Install Package(s) option and select the package SD*5.3*446.
   
  5.  At the prompt "Want KIDS to Rebuild Menu Trees Upon Completion
      of Install? YES//" we suggest answering No, unless a recurrent
      job to rebuild menus is not scheduled.
 
  6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
      YES//', respond NO.
   
  7.  When prompted,'Want to DISABLE Scheduled Options, Menu Options, and 
      Protocols? NO//', respond Yes.
      When prompted,'Enter options you wish to mark as 'Out Of Order':',
      enter the following options:
  
        Appointment Management [SDAM APPT MGT]
        Enrollment Wait List (Sch/PCMM) Statistic Report [SD WAIT LIST
          ENROLL REPORT]
        Wait List (Sch/PCMM) Reports [SD WAIT LIST REPORTS MENU]
        Wait List (Sch/PCMM) Statistic Report [SD WAIT LIST STAT REPORT]
        Wait List (Sch/PCMM) Utilities [SD WAIT LIST UTILITIES]
         
      When prompted,'Enter protocols you wish to mark as 'Out Of Order':', 
      enter the following protocols:
  
        SDWL XFER ACC MNU VIEW
        SDWL XFER ACC REJECT
        SDWL XFER ACC VIEW
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.3;Scheduling;**[Patch List]**;AUG 13, 1993;Build 77

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SCMCQK1
    Before: B91901955   After: B90423070  **148,177,231,264,436,297,446**
Routine Name: SCMCWAIT
    Before: B13044802   After: B45006775  **264,297,446**
Routine Name: SDAM2
    Before: B30409826   After: B28969353  **250,296,327,478,446**
Routine Name: SDCO1
    Before: B23369936   After: B29753601  **27,132,149,193,250,296,446**
Routine Name: SDM1
    Before: B40309214   After: B49317350  **32,167,168,80,223,263,273,
                                           408,327,478,490,446**
Routine Name: SDM1A
    Before: B42131509   After: B58026958  **26,94,155,206,168,223,241,
                                           263,327,478,446**
Routine Name: SDM2A
    Before:       n/a   After: B17556910  **446**
Routine Name: SDMM
    Before: B40995043   After: B45359086  **26,32,167,241,327,446**
Routine Name: SDRPA07
    Before: B52873373   After: B59962530  **290,333,349,376,446**
Routine Name: SDRPA20
    Before:       n/a   After:  B2396276  **446**
Routine Name: SDWL120
    Before:       n/a   After:  B7543417  **446**
Routine Name: SDWLBACC
    Before:       n/a   After: B25884323  **446**
Routine Name: SDWLD
    Before: B17574395   After: B24813208  **263,454,417,446**
Routine Name: SDWLDISP
    Before: B34642315   After: B62805335  **263,273,427,454,446**
Routine Name: SDWLE
    Before: B27132811   After: B28082342  **263,446**
Routine Name: SDWLE11
    Before:  B7209563   After:  B8484611  **263,485,497,446**
Routine Name: SDWLE2
    Before:  B2289830   After: B14498008  **263,397,424,446**
Routine Name: SDWLE3
    Before: B24964504   After: B43695074  **263,417,446**
Routine Name: SDWLE4
    Before:  B2478211   After:  B7584798  **263,446**
Routine Name: SDWLE6
    Before:       n/a   After: B70616317  **446**
Routine Name: SDWLE7
    Before:       n/a   After: B15146200  **446**
Routine Name: SDWLEC
    Before:       n/a   After: B20668345  **446**
Routine Name: SDWLEVAL
    Before: B83399202   After: B62921958  **327,471,446**
Routine Name: SDWLI
    Before: B52231226   After: B70108876  **263,327,394,446**
Routine Name: SDWLIFT
    Before: B39472292   After: B64522057  **415,446**
Routine Name: SDWLIFT0
    Before: B23628296   After: B26058750  **415,446**
Routine Name: SDWLIFT2
    Before:  B7114075   After:  B7137331  **415,446**
Routine Name: SDWLIFT3
    Before: B36385612   After: B62360655  **415,446**
Routine Name: SDWLIFT5
    Before: B15806000   After: B17476233  **415,446**
Routine Name: SDWLIFT6
    Before: B38500505   After: B60221443  **415,446**
Routine Name: SDWLMSG
    Before: B36616948   After: B50689156  **327,394,446**
Routine Name: SDWLP446
    Before:       n/a   After:   B903527  **446**
Routine Name: SDWLPL
    Before: B31104284   After: B36034628  **327,394,417,446**
Routine Name: SDWLQSC
    Before: B72135252   After: B65234580  **327,394,467,446**
Routine Name: SDWLQSC1
    Before:       n/a   After: B18866005  **446**
Routine Name: SDWLROI
    Before: B34011534   After: B37333127  **263,412,415,446**
Routine Name: SDWLROIS
    Before: B30608896   After: B30723054  **412,415,446**
Routine Name: SDWLRP1
    Before: B62357583   After: B62974233  **263,273,485,497,446**
Routine Name: SDWLRSR
    Before: B34050609   After: B37978690  **263,273,399,412,425,415,446**
Routine Name: SDWLRSRS
    Before: B30769566   After: B31103709  **415,469,446**
Routine Name: SDWLTR
    Before: B79131220   After: B79675127  **270,420,446**
Routine Name: SDWLTR1
    Before:       n/a   After:  B1740359  **446**
 Description of Changes:
   

 
Routine list of preceding patches: 297, 376, 417, 420, 424, 427, 467, 469
                           471, 490, 497

=============================================================================
User Information:
Entered By  : WOLF,ED                       Date Entered  : JUN 24, 2005
Completed By: TAPPER,BRIAN                  Date Completed: SEP 26, 2007
Released By : CANNEDY,JOELLEN               Date Released : OCT 03, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
