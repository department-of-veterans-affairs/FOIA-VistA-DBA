$TXT Created by EBERT,AL at DEV2.ISC-SLC.VA.GOV  (KIDS) on WEDNESDAY, 12/31/97 at 15:38
=============================================================================
Run Date: JAN 05, 1998                     Designation: GMRA*4*8
Package : GMRA - ADVERSE REACTION TRACKING   Priority: Mandatory
Version : 4         SEQ #8                     Status: Released
=============================================================================

Associated patches: (v)GMRA*4*5    <<= must be installed BEFORE `GMRA*4*8'
                    (v)GMRA*4*7    <<= must be installed BEFORE `GMRA*4*8'

Subject: Retrievel of Entered in Error Data

Category: 
  - Routine

Description: 
============

 This patch allows entered in error data to be retrieved when the
 patient has no assessment on file.  It also removes all * writes
 (e.g. W *7) from GMRA namespaced code. This patch fixes a time range 
 problem when time entry is optional.  Code was modified so that entries
 without time would select the entire day range when searching based
 on date/time entries.
  
 1. Routine:  GMRADSP4                    NOIS: HIN-1096-41816
    This routine was modified to allow viewing of data entered in error
 if the patient currently has no assessment on file but has data
 entered in error.
  
 2. Routines: GMRAMCB1
              GMRAPEO0
              GMRAROBS
    These routines contained * write code in them.  The code was
 removed and replaced with the corresponding $C code.
  
 3. Routine: GMRADSP6
    During testing of this patch it was noted that the wording 
 for NKA patients in the ACTIVE LISTING OF PATIENT REACTIONS option
 was inconsistent with the rest of the package.  Prior to this change
 the option stated "This patient has No Known Allergies".  This
 statement leaves the assessment level unclear.  It has been changed
 to read "Patient has answered NKA" which lets you know that this
 patient has been assessed.  More importantly, it was also discovered
 that it was possible to have this option erroneously indicate the
 assessment level for a patient.  If a patient had all allergies marked as
 entered in error and then you ran the ACTIVE LISTING OF PATIENT
 REACTIONS the listing would indicate that the patient had an
 assessment of NKA, which is incorrect.  The patient goes back to
 needing an assessment which is indicated by the "NO ALLERGY/ADVERSE
 REACTION DATA EXISTS FOR THIS PATIENT" statement.  An incorrect global
 check caused this problem.
  
 4. Routine: GMRACMR                      NOIS: HIN-0497-42965
    This routine was modified so that when the options GMRA PRINT-ID
 BAND/CHART and GMRA PRINT-PATIENTS NOT ASKED were run the date ranges
 selected would work correctly.  Within these options a date/time
 is asked where appropriate.  Time is an optional entry but if a time
 is not entered the search will not include the entire ending date.
 The selected ending date was modified to go through midnight of the
 date selected if no time was given.
  
 Routine Summary:
 ===============
  The following is a list of the routines included in this patch.  The
  second line of each routine now looks like:
  
  <tab>;;4.0;Adverse Reaction Tracking;**[Patch list]**;Mar 29, 1996
  
  Routine       Old Checksum     New Checksum     Patch List
  =======       ============     ============     ==========
  GMRACMR          7630456          7668176            8
  GMRADSP4        13295254         14344961        5,7,8
  GMRADSP6         8902396          8828674            8
  GMRAMCB1         7225128          7237686            8
  GMRAPEO0         4219972          4242971            8
  GMRAROBS         6700311          6718198            8
  
  
 INSTALLATION:
 ============
  This patch can be installed with users on the system.  Installation will
  take less than two minutes.
  
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
  2.  Review your mapped set.  If any of the routines listed in the
      ROUTINE SUMMARY section are mapped, they should be removed from the
      mapped set at this time.
  
  3.  From the Kernel Installation and Distribution System (KIDS) Menu,
      select the Installation Menu.
  
  4.  From the Install menu, you may elect to use the following
      options (when prompted for INSTALL NAME, enter GMRA*4.0*8):
  
        a.  Verify Checksums in Transport Global
        b.  Print Transport Global
        c.  Compare Transport Global to Current System
        d.  Backup a Transport Global
  
  5.  Use the Install Package(s) option and select the
      package GMRA*4.0*8.
  
  6.  When prompted "Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//", respond "NO".
  
  7.  If routines were unmapped as part of step 2, they should be returned
      to the mapped set once the installation has run to completion.

Routine Information:
====================

Routine Name:
  - GMRADSP4


Routine Checksum:

Routine Name:
  - GMRAMCB1


Routine Checksum:

Routine Name:
  - GMRAPEO0


Routine Checksum:

Routine Name:
  - GMRAROBS


Routine Checksum:

Routine Name:
  - GMRADSP6


Routine Checksum:

Routine Name:
  - GMRACMR


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : NABER,DAVID A                 Date Entered : JUL 28, 1997
Completed By: EBERT,AL                      Date Completed: JAN 02, 1998
Released By : WAKEFIELD,CAROLYN             Date Released : JAN 05, 1998
=============================================================================


Packman Mail Message:
=====================

$END TXT
