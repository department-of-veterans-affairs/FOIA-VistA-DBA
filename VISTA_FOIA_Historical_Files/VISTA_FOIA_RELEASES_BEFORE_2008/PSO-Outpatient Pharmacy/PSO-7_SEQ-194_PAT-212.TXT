$TXT Created by NAPOLIELLO,GREG at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Wednesday, 09/14/05 at 13:53
=============================================================================
Run Date: NOV 15, 2005                     Designation: PSO*7*212
Package : PSO - OUTPATIENT PHARMACY           Priority: Mandatory
Version : 7       SEQ #194                      Status: Released
                  Compliance Date: DEC 16, 2005
=============================================================================

Associated patches: (v)PSO*7*198   <<= must be installed BEFORE `PSO*7*212'

Subject: PREVENT CON-CURRENT RUNNING PSO MONTHLY COST COMPILERS

Category: 
  - Routine

Description:
============

 This patch will prevent the [PSO COSTMONTH]  Monthly Rx Cost Compilation 
 job from being started and having more than one copy running 
 con-currently.  The following options were modified to check if the 
 Monthly RX Cost Compilation is already running and will not allow the 
 request to proceed. 
  
 [PSO COSTDAY]             Daily Rx Cost
 [PSO COSTDAY NIGHTJOB]    Nightly Rx Cost Compile
 [PSO COSTMONTH]           Monthly Rx Cost Compilation
  
  
 1. HD097252 - Nightly Rx Cost Compile problems.
 ===============================================
  
 Problem:
 --------
 It was reported that occasionally on the first of the month, that the 
 journal files are filling up and the job running at the time is the [PSO 
 COSTDAY NIGHTJOB].  The records in the DRUG COST file #50.9 being 
 accessed at the time were for the Monthly RX Cost Compiler.  The VAMC 
 sites reporting the problem have the Nightly Rx Cost Compile job 
 scheduled to run every night sometime after midnight.  When this job 
 starts on the first of the month, it will run the Monthly Rx Cost 
 Compilation automatically.  If any other Daily or Nightly compilers are 
 asked to run on that day then they would start another copy of the 
 Monthly compiler job.  If the Monthly Compiler was specifically asked to 
 run in addition, then even a third Monthly Compiler would be running and 
 adding to the journal files multiple times.
  
  
 Resolution:
 -----------
 Prevent multiple copies of the Monthly Compiler job from being requested 
 and therefore multiple hits on the Journal files.
  
  
 Associated NOIS:
 ================
 HD097252       Nightly Rx Cost Compile problems
    Duplicates: HD093086
                HD093088
                HD093120
  
  
 Associated E3R(s):
 ==================
 N/A
  
 Test Sites:
 ===========
 Iron Mountain, MI
 Oklahoma City, OK
 El Paso, TX
 Charleston, SC
 West Texas HCS
 Puget Sound HCS
  
 Routine Summary
 ===============
 The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;7.0;OUTPATIENT PHARMACY;**[patch list]**;DEC 1997
  
 Using new logic for Integrity Checking tools:
                            CHECK1^XTSUMBLD results
  
 Routine name      Before Patch          After Patch       Patch List
 ============      ============          ===========     ==============
 PSOCSTD               33388128             34971214     4,17,28,89,198
                                                              212
 PSOCSTM               36205217             44070535     4,17,19,28,89
                                                              212
  
                            CHECK^XTSUMBLD results
  
 Routine name      Before Patch          After Patch       Patch List
 ============      ============          ===========     ==============
 PSOCSTD               16511681             16793487     4,17,28,89,198
                                                              212
 PSOCSTM               18556319             19912296     4,17,19,28,89
                                                              212
    
           Total number of routines - 2
  
  
 Installation Instructions:
 ==========================
 It is recommended that this patch be installed after normal business 
 hours while no Outpatient Pharmacy users are processing orders.
  
 Installation will take less than 2 minutes.
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2. From the Kernel Installation & Distribution System menu, select the 
    Installation menu.
  
 3. From this menu, you may select to use the following options: (when     
    prompted for INSTALL NAME, enter PSO*7.0*212
  
      a.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
      
      b.  Print Transport Global - This option will allow you to view
          the components of the KIDS build.
      
      c.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this 
          patch is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      
      d.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
  
  
 4. Use the Install Package(s) option and select the package      
    PSO*7.0*212
  
 5. When Prompted "Want KIDS to INHIBIT LOGONs during the install? 
    YES//" respond NO. 
  
 6. When Prompted "Want to DISABLE Scheduled Options, Menu Options, and 
    Protocols? YES//" respond NO.

Routine Information:
====================
Routine Name: PSOCSTD
Routine Name: PSOCSTM

=============================================================================
User Information:
Entered By  : NAPOLIELLO,GREG               Date Entered  : JUN 27, 2005
Completed By: CROSSMAN,PAM                  Date Completed: NOV 14, 2005
Released By : LESIEUR,SHIRLEY               Date Released : NOV 15, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
