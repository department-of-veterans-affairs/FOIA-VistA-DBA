$TXT Created by HOLLOWAY,THOMAS J at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 06/18/03 at 09:48
=============================================================================
Run Date: JUL 07, 2003                     Designation: DG*5.3*526
Package : DG - REGISTRATION                    Priority: EMERGENCY
Version : 5.3       SEQ #455                     Status: Released
                  Compliance Date: JUL 09, 2003
=============================================================================

Associated patches: (v)DG*5.3*273  <<= must be installed BEFORE `DG*5.3*526'

Subject: MODIFY DG FIELD MONITOR TASKS

Category: 
  - Routine
  - Other

Description: 
============

  
  
 NOTE:  **  THIS IS AN EMERGENCY PATCH  **
  
 This patch modifies routine ^DGFCPROT that is called by the 'new style'
 cross references introduced by DG*5.3*273 released in November, 2002.
 These cross references are on the PATIENT file (#2) in the 
 NAME (#.01), DATE OF BIRTH (#.03), SOCIAL SECURITY NUMBER (#.09) and
 DATE OF DEATH (#.351) fields.  
  
 The routine tasks updates if any ITEMS (#10) are 
 attached to the DG FIELD MONITOR protocol (also introduced by
 DG*5.3*273), but fails to clean up the tasks once they are completed.
  
 This Emergency patch will modify the routine to clean up these tasks.
  
 When a situation develops where a great many updates (tasks) are set off,
 such as the Patient file (#2) conversion called for by DG*5.3*244,
 the Patient Name Standardization, it was felt that we should limit 
 the number of concurrent taskman jobs that can run at any one time.
 Therefore, this patch includes a pre-init routine that adds a resource
 device DG FIELD MONITOR to the Device file (#3.5) and Resource 
 file (#3.54).  This patch also modifies routine ^DGFCPROT to identify
 this resource device. 
  
 ASSOCIATED E3R(S):
 ==================
  
   N/A
     
 ASSOCIATED NOIS:
 ================
 1.  TAM-0503-32171     PATCH DG*5.3*244 CONVERSION
  
 Participating Test Sites:
 =========================
 Richmond, VA
 Bay Pines, FL
 Hampton, VA
 Big Spring
   
 NOIS OVERVIEW:
 ==============
 1.  TAM-0503-32171     PATCH DG*5.3*244 CONVERSION
  
    Problem:
    --------
    When running the conversion on the PATIENT file (#2) called
    for by DG*5.3*244 released on May 23, 2003, each time a patient  
    name is re-formatted, a task is generated by the cross reference.
    Because of the volume of name changes involved, the Taskman global
    can grow to an unacceptable size.
  
    Resolution:
    -----------
    Routine ^DGFCPROT is modified to clean up each task as it completes. 
  
 ROUTINE SUMMARY
 ===============
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like: 
   
     <tab>;;5.3;Registration;**[patch list]**;AUG 13,1993
   
                        CHECK^XTSUMBLD results
    Routine       Before Patch      After Patch     Patch List
    =======       ============      ===========     ==========
    DGFCPROT       2104084           2196632         273,526
    DG53E526       N/A                464388         526
    DG53P526       N/A                711026         526
  
    Total number of routines - 3
  
  
 INSTALLATION INSTRUCTIONS
 =========================
  
 ** NOTE** -- Prior to installation, the installer must ensure the  
                   DUZ(0) node of the DUZ array is set to the "@" symbol.
  
 This patch can be installed with users on the system; install time
 will be less than 1 minute.
  
 1.   Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
  
 2.   (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
  
 3.   Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
 4.   From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter DG*5.3*526):
      
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
 5.   Use the Install Package(s) option and select the package
      DG*5.3*526.
  
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the
          install? YES//', answer NO.
      b.  When prompted 'Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//', answer NO.
  
 6.   (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
  
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.
  
 7.  The environment check routine, DG53E526, and the pre-init 
     routine, DG53P526, can be removed after successful installation.
   
 8.  Please verify that the new device file entry looks like:
  
     NAME: DG FIELD MONITOR                  $I: DG FIELD MONITOR
     LOCATION OF TERMINAL: DG field editing protocol
     RESOURCE SLOTS: 9                     SUBTYPE: P-OTHER
     TYPE: RESOURCES
  
     and that the entry in the RESOURCE file (#3.54) looks like:
  
     NAME: DG FIELD MONITOR                  AVAILABLE SLOTS: 9
  
 9.  If you wish to edit this new device (such as for changing the 
     number of slots), you can use the Resource Device Edit option
     [XUDEVEDITRES] under the Device Management menu. 
  

Routine Information:
====================

Routine Name:
  - DGFCPROT


Routine Checksum:

Routine Name:
  - DG53E526


Routine Checksum:

Routine Name:
  - DG53P526


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : THEROUX,JOHN                   Date Entered : MAY 30, 2003
Completed By: BAUMAN,HELENE                 Date Completed: JUL 07, 2003
Released By : GROOMS,ANTHONY E             Date Released : JUL 07, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
