Released XU*8*11 SEQ #11
Extracted from mail message
**KIDS**:XU*8.0*11^

**INSTALL NAME**
XU*8.0*11
"BLD",2,0)
XU*8.0*11^KERNEL^0^2951109^y
"BLD",2,1,0)
^^17^17^2951109^
"BLD",2,1,1,0)
This patch includes one routine used by the RPC Broker. All documentation
"BLD",2,1,2,0)
is contained in the RPC package.
"BLD",2,1,3,0)
 
"BLD",2,1,4,0)
========================================================================= 
"BLD",2,1,5,0)
Installation:
"BLD",2,1,6,0)
 
"BLD",2,1,7,0)
 1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"BLD",2,1,8,0)
    option will load the KIDS package in this message onto your system.
"BLD",2,1,9,0)
 2. Answer NO to the question:
"BLD",2,1,10,0)
    'Shall I preserve what is on disk in a separate back-up message ?'
"BLD",2,1,11,0)
 3. From the 'Installion Menu' of the KIDS menu, run the option
"BLD",2,1,12,0)
    'Verify Checksums in Transport Global' and verify that all routines
"BLD",2,1,13,0)
    have the correct checksum.
"BLD",2,1,14,0)
 4. From the 'Installion Menu' of the KIDS menu, run the option
"BLD",2,1,15,0)
    'Install Package(s)' Select the package 'XU*8.0*11' and proceed with
"BLD",2,1,16,0)
    install.  THIS PATCH CAN BE INSTALLED WITH ALL USERS ON THE SYSTEM
"BLD",2,1,17,0)
========================================================================= 
"BLD",2,4,0)
^9.64PA^^0
"BLD",2,"KRN",0)
^9.67PA^8994^15
"BLD",2,"KRN",.4,0)
.4
"BLD",2,"KRN",.401,0)
.401
"BLD",2,"KRN",.402,0)
.402
"BLD",2,"KRN",.403,0)
.403
"BLD",2,"KRN",.5,0)
.5
"BLD",2,"KRN",.84,0)
.84
"BLD",2,"KRN",3.6,0)
3.6
"BLD",2,"KRN",9.2,0)
9.2
"BLD",2,"KRN",9.8,0)
9.8
"BLD",2,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",2,"KRN",9.8,"NM",1,0)
XUSRB^^0^B29897038
"BLD",2,"KRN",9.8,"NM","B","XUSRB",1)

"BLD",2,"KRN",19,0)
19
"BLD",2,"KRN",19.1,0)
19.1
"BLD",2,"KRN",101,0)
101
"BLD",2,"KRN",409.61,0)
409.61
"BLD",2,"KRN",8994,0)
8994
"BLD",2,"KRN",8995,0)
8995
"BLD",2,"KRN","B",.4,.4)

"BLD",2,"KRN","B",.401,.401)

"BLD",2,"KRN","B",.402,.402)

"BLD",2,"KRN","B",.403,.403)

"BLD",2,"KRN","B",.5,.5)

"BLD",2,"KRN","B",.84,.84)

"BLD",2,"KRN","B",3.6,3.6)

"BLD",2,"KRN","B",9.2,9.2)

"BLD",2,"KRN","B",9.8,9.8)

"BLD",2,"KRN","B",19,19)

"BLD",2,"KRN","B",19.1,19.1)

"BLD",2,"KRN","B",101,101)

"BLD",2,"KRN","B",409.61,409.61)

"BLD",2,"KRN","B",8994,8994)

"BLD",2,"KRN","B",8995,8995)

"BLD",2,"QUES",0)
^9.62^^
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^XUDOCV7 NEW FEATURES
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^2950703^2951018^4
"PKG",3,22,1,"PAH",1,0)
11^2951109^2
"PKG",3,22,1,"PAH",1,1,0)
^^17^17^2951109
"PKG",3,22,1,"PAH",1,1,1,0)
This patch includes one routine used by the RPC Broker. All documentation
"PKG",3,22,1,"PAH",1,1,2,0)
is contained in the RPC package.
"PKG",3,22,1,"PAH",1,1,3,0)
 
"PKG",3,22,1,"PAH",1,1,4,0)
========================================================================= 
"PKG",3,22,1,"PAH",1,1,5,0)
Installation:
"PKG",3,22,1,"PAH",1,1,6,0)
 
"PKG",3,22,1,"PAH",1,1,7,0)
 1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"PKG",3,22,1,"PAH",1,1,8,0)
    option will load the KIDS package in this message onto your system.
"PKG",3,22,1,"PAH",1,1,9,0)
 2. Answer NO to the question:
"PKG",3,22,1,"PAH",1,1,10,0)
    'Shall I preserve what is on disk in a separate back-up message ?'
"PKG",3,22,1,"PAH",1,1,11,0)
 3. From the 'Installion Menu' of the KIDS menu, run the option
"PKG",3,22,1,"PAH",1,1,12,0)
    'Verify Checksums in Transport Global' and verify that all routines
"PKG",3,22,1,"PAH",1,1,13,0)
    have the correct checksum.
"PKG",3,22,1,"PAH",1,1,14,0)
 4. From the 'Installion Menu' of the KIDS menu, run the option
"PKG",3,22,1,"PAH",1,1,15,0)
    'Install Package(s)' Select the package 'XU*8.0*11' and proceed with
"PKG",3,22,1,"PAH",1,1,16,0)
    install.  THIS PATCH CAN BE INSTALLED WITH ALL USERS ON THE SYSTEM
"PKG",3,22,1,"PAH",1,1,17,0)
========================================================================= 
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options and Options
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XUSRB")
0^1^B29897038
"RTN","XUSRB",1,0)
XUSRB ;ISCSF/RWF - Request Broker ;09/20/95  15:05
"RTN","XUSRB",2,0)
 ;;8.0;KERNEL;**11**;Jul 05, 1995
"RTN","XUSRB",3,0)
 Q  ;No entry from top
"RTN","XUSRB",4,0)
 ;
"RTN","XUSRB",5,0)
 ;DATA BROKER calls, First parameter is always call-by-reference
"RTN","XUSRB",6,0)
VALIDAV(RESULT,AVCODE) ;Check a users access
"RTN","XUSRB",7,0)
 ;Return DUZ^session ok^verify needs changing
"RTN","XUSRB",8,0)
 S AVCODE=$$DECRYP(AVCODE)
"RTN","XUSRB",9,0)
 D A1
"RTN","XUSRB",10,0)
 N X,XUSER,XUF,%1 S U="^",XUF=0,DUZ=$$CHECKAV^XUS(AVCODE,.XUSER)
"RTN","XUSRB",11,0)
 S RESULT=DUZ_"^1^"_$$VCVALID
"RTN","XUSRB",12,0)
 Q
"RTN","XUSRB",13,0)
 ;
"RTN","XUSRB",14,0)
 ;
"RTN","XUSRB",15,0)
INTRO(RESULT) ;Return INTRO TEXT.
"RTN","XUSRB",16,0)
 D INTRO^XUS1A("RESULT")
"RTN","XUSRB",17,0)
 Q
"RTN","XUSRB",18,0)
 ;
"RTN","XUSRB",19,0)
 ;
"RTN","XUSRB",20,0)
VCVALID() ;Check if the Verify code needs changing.
"RTN","XUSRB",21,0)
 Q:'$G(DUZ) 1
"RTN","XUSRB",22,0)
 Q $G(^VA(200,DUZ,.1))+$P(^XTV(8989.3,1,"XUS"),"^",15)'>(+$H)
"RTN","XUSRB",23,0)
 ;
"RTN","XUSRB",24,0)
 ;
"RTN","XUSRB",25,0)
CVC(RESULT,XU1) ;change VC
"RTN","XUSRB",26,0)
 S RESULT=0 Q:$G(DUZ)'>0  N XU2 S U="^",XU2=$P(XU1,U,2),XU1=$P(XU1,U)
"RTN","XUSRB",27,0)
 ;S XU1=$$DECRYP(XU1),XU2=$$DECRYP(XU2)
"RTN","XUSRB",28,0)
 Q $$XXCVC^XUS2(XU1,XU2)
"RTN","XUSRB",29,0)
 ;
"RTN","XUSRB",30,0)
 ;
"RTN","XUSRB",31,0)
POST(RESULT) ;Finish setup partition
"RTN","XUSRB",32,0)
 S RESULT=0 Q:$G(DUZ)'>0  D DUZ^XUS1A,USER^XUS1A
"RTN","XUSRB",33,0)
 S RESULT=1 M RESULT(1)=XUTXT
"RTN","XUSRB",34,0)
 K ^UTILITY($J),^TMP($J),^XUTL("XQ",$J)
"RTN","XUSRB",35,0)
 Q
"RTN","XUSRB",36,0)
 ;
"RTN","XUSRB",37,0)
 ;
"RTN","XUSRB",38,0)
SETUP(RESULT) ;sets up environment for GUI signon
"RTN","XUSRB",39,0)
 D SET1^XUS
"RTN","XUSRB",40,0)
 S RESULT(0)=$P(XUENV,U,3)   ;server name
"RTN","XUSRB",41,0)
 S RESULT(1)=$P(XUVOL,U)     ;volume
"RTN","XUSRB",42,0)
 S RESULT(2)=XUCI            ;uci
"RTN","XUSRB",43,0)
 S RESULT(3)=$I              ;device
"RTN","XUSRB",44,0)
 Q
"RTN","XUSRB",45,0)
 ;
"RTN","XUSRB",46,0)
 ;
"RTN","XUSRB",47,0)
DECRYP(S) ;decrypt passed string
"RTN","XUSRB",48,0)
 ;VYD 5/19/95
"RTN","XUSRB",49,0)
 N ASSOCIX,IDIX,ASSOCSTR,IDSTR
"RTN","XUSRB",50,0)
 S ASSOCIX=$A($E(S,$L(S)))-31           ;get associator string index
"RTN","XUSRB",51,0)
 S IDIX=$A($E(S))-31                    ;get identifier string index
"RTN","XUSRB",52,0)
 S ASSOCSTR=$P($T(Z+ASSOCIX),";",3,9)   ;get associator string
"RTN","XUSRB",53,0)
 S IDSTR=$P($T(Z+IDIX),";",3,9)         ;get identifier string
"RTN","XUSRB",54,0)
 Q $TR($E(S,2,$L(S)-1),ASSOCSTR,IDSTR)  ;translated result
"RTN","XUSRB",55,0)
 ;
"RTN","XUSRB",56,0)
 ;
"RTN","XUSRB",57,0)
SENDKEYS(RESULT) ;send encryption keys to the client
"RTN","XUSRB",58,0)
 ;VYD 5/19/95
"RTN","XUSRB",59,0)
 N %,X
"RTN","XUSRB",60,0)
 S %=1
"RTN","XUSRB",61,0)
 F  S X=$P($T(Z+%),";",3,9) Q:X=""  S RESULT(%)=X,%=%+1
"RTN","XUSRB",62,0)
 Q
"RTN","XUSRB",63,0)
 ;
"RTN","XUSRB",64,0)
 ;
"RTN","XUSRB",65,0)
A1 ;Set some basics.
"RTN","XUSRB",66,0)
 S U="^",DT=$$DT^XLFDT()
"RTN","XUSRB",67,0)
 Q
"RTN","XUSRB",68,0)
 ;
"RTN","XUSRB",69,0)
 ;
"RTN","XUSRB",70,0)
BLDDRUM Q  ;don't run this tag
"RTN","XUSRB",71,0)
 N I,%,ALLCHARS,RNDMSTR,CHAR
"RTN","XUSRB",72,0)
 X "ZP Z"                      ;position insertion point
"RTN","XUSRB",73,0)
 F I=1:1:20 D
"RTN","XUSRB",74,0)
 . S ALLCHARS="" F %=32:1:126 S:$C(%)'="^" ALLCHARS=ALLCHARS_$C(%)
"RTN","XUSRB",75,0)
 . S RNDMSTR=""
"RTN","XUSRB",76,0)
 . F %=1:1:94 D
"RTN","XUSRB",77,0)
 . . S POS=$R($L(ALLCHARS))+1,CHAR=$E(ALLCHARS,POS)
"RTN","XUSRB",78,0)
 . . S RNDMSTR=RNDMSTR_CHAR
"RTN","XUSRB",79,0)
 . . S ALLCHARS=$P(ALLCHARS,CHAR,1)_$P(ALLCHARS,CHAR,2) ;compress by 1
"RTN","XUSRB",80,0)
 . X "ZI "" ;;""_RNDMSTR"      ;save random string in routine
"RTN","XUSRB",81,0)
 X "ZS"                        ;save routine
"RTN","XUSRB",82,0)
 Q
"RTN","XUSRB",83,0)
 ;
"RTN","XUSRB",84,0)
 ;
"RTN","XUSRB",85,0)
Z ;;
"RTN","XUSRB",86,0)
 ;;wkEo-ZJt!dG)49K{nX1BS$vH<&:Myf*>Ae0jQW=;|#PsO`'%+rmb[gpqN,l6/hFC@DcUa ]z~R}"V\iIxu?872.(TYL5_3
"RTN","XUSRB",87,0)
 ;;rKv`R;M/9BqAF%&tSs#Vh)dO1DZP> *fX'u[.4lY=-mg_ci802N7LTG<]!CWo:3?{+,5Q}(@jaExn$~p\IyHwzU"|k6Jeb
"RTN","XUSRB",88,0)
 ;;\pV(ZJk"WQmCn!Y,y@1d+~8s?[lNMxgHEt=uw|X:qSLjAI*}6zoF{T3#;ca)/h5%`P4$r]G'9e2if_>UDKb7<v0&- RBO.
"RTN","XUSRB",89,0)
 ;;depjt3g4W)qD0V~NJar\B "?OYhcu[<Ms%Z`RIL_6:]AX-zG.#}$@vk7/5x&*m;(yb2Fn+l'PwUof1K{9,|EQi>H=CT8S!
"RTN","XUSRB",90,0)
 ;;NZW:1}K$byP;jk)7'`x90B|cq@iSsEnu,(l-hf.&Y_?J#R]+voQXU8mrV[!p4tg~OMez CAaGFD6H53%L/dT2<*>"{\wI=
"RTN","XUSRB",91,0)
 ;;vCiJ<oZ9|phXVNn)m K`t/SI%]A5qOWe\&?;jT~M!fz1l>[D_0xR32c*4.P"G{r7}E8wUgyudF+6-:B=$(sY,LkbHa#'@Q
"RTN","XUSRB",92,0)
 ;;hvMX,'4Ty;[a8/{6l~F_V"}qLI\!@x(D7bRmUH]W15J%N0BYPkrs&9:$)Zj>u|zwQ=ieC-oGA.#?tfdcO3gp`S+En K2*<
"RTN","XUSRB",93,0)
 ;;jd!W5[];4'<C$/&x|rZ(k{>?ghBzIFN}fAK"#`p_TqtD*1E37XGVs@0nmSe+Y6Qyo-aUu%i8c=H2vJ\) R:MLb.9,wlO~P
"RTN","XUSRB",94,0)
 ;;2ThtjEM+!=xXb)7,ZV{*ci3"8@_l-HS69L>]\AUF/Q%:qD?1~m(yvO0e'<#o$p4dnIzKP|`NrkaGg.ufCRB[; sJYwW}5&
"RTN","XUSRB",95,0)
 ;;vB\5/zl-9y:Pj|=(R'7QJI *&CTX"p0]_3.idcuOefVU#omwNZ`$Fs?L+1Sk<,b)hM4A6[Y%aDrg@~KqEW8t>H};n!2xG{
"RTN","XUSRB",96,0)
 ;;sFz0Bo@_HfnK>LR}qWXV+D6`Y28=4Cm~G/7-5A\b9!a#rP.l&M$hc3ijQk;),TvUd<[:I"u1'NZSOw]*gxtE{eJp|y (?%
"RTN","XUSRB",97,0)
 ;;M@,D}|LJyGO8`$*ZqH .j>c~h<d=fimszv[#-53F!+a;NC'6T91IV?(0x&/{B)w"]Q\YUWprk4:ol%g2nE7teRKbAPuS_X
"RTN","XUSRB",98,0)
 ;;.mjY#_0*H<B=Q+FML6]s;r2:e8R}[ic&KA 1w{)vV5d,$u"~xD/Pg?IyfthO@CzWp%!`N4Z'3-(o|J9XUE7k\TlqSb>anG
"RTN","XUSRB",99,0)
 ;;xVa1']_GU<X`|\NgM?LS9{"jT%s$}y[nvtlefB2RKJW~(/cIDCPow4,>#zm+:5b@06O3Ap8=*7ZFY!H-uEQk; .q)i&rhd
"RTN","XUSRB",100,0)
 ;;I]Jz7AG@QX."%3Lq>METUo{Pp_ |a6<0dYVSv8:b)~W9NK`(r'4fs&wim\kReC2hg=HOj$1B*/nxt,;c#y+![?lFuZ-5D}
"RTN","XUSRB",101,0)
 ;;Rr(Ge6F Hx>q$m&C%M~Tn,:"o'tX/*yP.{lZ!YkiVhuw_<KE5a[;}W0gjsz3]@7cI2\QN?f#4p|vb1OUBD9)=-LJA+d`S8
"RTN","XUSRB",102,0)
 ;;I~k>y|m};d)-7DZ"Fe/Y<B:xwojR,Vh]O0Sc[`$sg8GXE!1&Qrzp._W%TNK(=J 3i*2abuHA4C'?Mv\Pq{n#56LftUl@9+
"RTN","XUSRB",103,0)
 ;;~A*>9 WidFN,1KsmwQ)GJM{I4:C%}#Ep(?HB/r;t.&U8o|l['Lg"2hRDyZ5`nbf]qjc0!zS-TkYO<_=76a\X@$Pe3+xVvu
"RTN","XUSRB",104,0)
 ;;yYgjf"5VdHc#uA,W1i+v'6|@pr{n;DJ!8(btPGaQM.LT3oe?NB/&9>Z`-}02*%x<7lsqz4OS ~E$\R]KI[:UwC_=h)kXmF
"RTN","XUSRB",105,0)
 ;;5:iar.{YU7mBZR@-K|2 "+~`M%8sq4JhPo<_X\Sg3WC;Tuxz,fvEQ1p9=w}FAI&j/keD0c?)LN6OHV]lGy'$*>nd[(tb!#
"VER")
8.0^21.0
**END**
**END**
