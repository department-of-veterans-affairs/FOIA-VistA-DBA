KIDS Distribution saved on Mar 12, 2002@09:11:56
Incomplete Records Tracking (DGJ) V.1.0
**KIDS**:DGJ 1.0^

**INSTALL NAME**
DGJ 1.0
"BLD",3481,0)
DGJ 1.0^INCOMPLETE RECORDS TRACKING^0^3020312^y
"BLD",3481,1,0)
^^2^2^3011129^
"BLD",3481,1,1,0)
Breakout of Incomplete Records Tracking (DGJ 1.0) package from the
"BLD",3481,1,2,0)
Registration namespace (DG).
"BLD",3481,4,0)
^9.64PA^405^8
"BLD",3481,4,40.8,0)
40.8
"BLD",3481,4,40.8,2,0)
^9.641^40.8^1
"BLD",3481,4,40.8,2,40.8,0)
MEDICAL CENTER DIVISION  (File-top level)
"BLD",3481,4,40.8,2,40.8,1,0)
^9.6411^100.3^12
"BLD",3481,4,40.8,2,40.8,1,100.01,0)
TRACK INCOMPLETE SUMMARIES?
"BLD",3481,4,40.8,2,40.8,1,100.02,0)
DEFAULT PRIMARY PHYSICIAN
"BLD",3481,4,40.8,2,40.8,1,100.03,0)
ARE REPORTS REVIEWED?
"BLD",3481,4,40.8,2,40.8,1,100.04,0)
DEFAULT REVIEWING PHYSICIAN
"BLD",3481,4,40.8,2,40.8,1,100.05,0)
TRACK OUTPATIENT OP REPORTS?
"BLD",3481,4,40.8,2,40.8,1,100.06,0)
DAYS FOR DICTATION
"BLD",3481,4,40.8,2,40.8,1,100.07,0)
DAYS FOR SIGNATURE
"BLD",3481,4,40.8,2,40.8,1,100.08,0)
DAYS FOR REVIEW
"BLD",3481,4,40.8,2,40.8,1,100.09,0)
INCOMPLETE SUMMARIES MESSAGE
"BLD",3481,4,40.8,2,40.8,1,100.1,0)
DEFAULT PHYS. FOR SIGNATURE
"BLD",3481,4,40.8,2,40.8,1,100.2,0)
STD. DEFIC. FOR SHORT FORMS?
"BLD",3481,4,40.8,2,40.8,1,100.3,0)
DEFAULT MEDICAL RECORD TYPE
"BLD",3481,4,40.8,222)
y^n^p^^^^n
"BLD",3481,4,43,0)
43
"BLD",3481,4,43,2,0)
^9.641^43^1
"BLD",3481,4,43,2,43,0)
MAS PARAMETERS  (File-top level)
"BLD",3481,4,43,2,43,1,0)
^9.6411^513^2
"BLD",3481,4,43,2,43,1,401,0)
IRT BACKGROUND JOB LAST RUN
"BLD",3481,4,43,2,43,1,513,0)
IRT SHORT FORM LIST GROUP
"BLD",3481,4,43,222)
n^n^p^^^^n
"BLD",3481,4,393,0)
393
"BLD",3481,4,393,222)
y^n^f^^^^n
"BLD",3481,4,393.1,0)
393.1
"BLD",3481,4,393.1,222)
y^n^f^^^^n
"BLD",3481,4,393.2,0)
393.2
"BLD",3481,4,393.2,222)
y^n^f^^^^n
"BLD",3481,4,393.3,0)
393.3
"BLD",3481,4,393.3,222)
y^n^f^^^^n
"BLD",3481,4,393.41,0)
393.41
"BLD",3481,4,393.41,222)
y^n^f^^^^n
"BLD",3481,4,405,0)
405
"BLD",3481,4,405,2,0)
^9.641^405^1
"BLD",3481,4,405,2,405,0)
PATIENT MOVEMENT  (File-top level)
"BLD",3481,4,405,2,405,1,0)
^9.6411^60.01^1
"BLD",3481,4,405,2,405,1,60.01,0)
IRT BACKGROUND JOB RUN
"BLD",3481,4,405,222)
n^n^p^^^^n
"BLD",3481,4,"APDD",40.8,40.8)

"BLD",3481,4,"APDD",40.8,40.8,100.01)

"BLD",3481,4,"APDD",40.8,40.8,100.02)

"BLD",3481,4,"APDD",40.8,40.8,100.03)

"BLD",3481,4,"APDD",40.8,40.8,100.04)

"BLD",3481,4,"APDD",40.8,40.8,100.05)

"BLD",3481,4,"APDD",40.8,40.8,100.06)

"BLD",3481,4,"APDD",40.8,40.8,100.07)

"BLD",3481,4,"APDD",40.8,40.8,100.08)

"BLD",3481,4,"APDD",40.8,40.8,100.09)

"BLD",3481,4,"APDD",40.8,40.8,100.1)

"BLD",3481,4,"APDD",40.8,40.8,100.2)

"BLD",3481,4,"APDD",40.8,40.8,100.3)

"BLD",3481,4,"APDD",43,43)

"BLD",3481,4,"APDD",43,43,401)

"BLD",3481,4,"APDD",43,43,513)

"BLD",3481,4,"APDD",405,405)

"BLD",3481,4,"APDD",405,405,60.01)

"BLD",3481,4,"B",40.8,40.8)

"BLD",3481,4,"B",43,43)

"BLD",3481,4,"B",393,393)

"BLD",3481,4,"B",393.1,393.1)

"BLD",3481,4,"B",393.2,393.2)

"BLD",3481,4,"B",393.3,393.3)

"BLD",3481,4,"B",393.41,393.41)

"BLD",3481,4,"B",405,405)

"BLD",3481,"ABPKG")
n
"BLD",3481,"INI")

"BLD",3481,"INIT")
POST^DGJ1INIT
"BLD",3481,"KRN",0)
^9.67PA^19^17
"BLD",3481,"KRN",.4,0)
.4
"BLD",3481,"KRN",.401,0)
.401
"BLD",3481,"KRN",.402,0)
.402
"BLD",3481,"KRN",.402,"NM",0)
^9.68A^5^5
"BLD",3481,"KRN",.402,"NM",1,0)
DGJ DEF PARAMETER EDIT    FILE #393.3^393.3^0
"BLD",3481,"KRN",.402,"NM",2,0)
DGJ EDIT IRT RECORD    FILE #393^393^0
"BLD",3481,"KRN",.402,"NM",3,0)
DGJ ENTER IRT DEFICIENCY    FILE #393^393^0
"BLD",3481,"KRN",.402,"NM",4,0)
DGJ ENTER IRT RECORD    FILE #393^393^0
"BLD",3481,"KRN",.402,"NM",5,0)
DGJ IRT PARAMETERS    FILE #40.8^40.8^0
"BLD",3481,"KRN",.402,"NM","B","DGJ DEF PARAMETER EDIT    FILE #393.3",1)

"BLD",3481,"KRN",.402,"NM","B","DGJ EDIT IRT RECORD    FILE #393",2)

"BLD",3481,"KRN",.402,"NM","B","DGJ ENTER IRT DEFICIENCY    FILE #393",3)

"BLD",3481,"KRN",.402,"NM","B","DGJ ENTER IRT RECORD    FILE #393",4)

"BLD",3481,"KRN",.402,"NM","B","DGJ IRT PARAMETERS    FILE #40.8",5)

"BLD",3481,"KRN",.403,0)
.403
"BLD",3481,"KRN",.403,"NM",0)
^9.68A^^
"BLD",3481,"KRN",.5,0)
.5
"BLD",3481,"KRN",.84,0)
.84
"BLD",3481,"KRN",3.6,0)
3.6
"BLD",3481,"KRN",3.8,0)
3.8
"BLD",3481,"KRN",9.2,0)
9.2
"BLD",3481,"KRN",9.8,0)
9.8
"BLD",3481,"KRN",9.8,"NM",0)
^9.68A^37^37
"BLD",3481,"KRN",9.8,"NM",1,0)
DGJ1INIT^^0^B5627700
"BLD",3481,"KRN",9.8,"NM",2,0)
DGJBGJ^^0^B31750334
"BLD",3481,"KRN",9.8,"NM",3,0)
DGJBGJ1^^0^B8406941
"BLD",3481,"KRN",9.8,"NM",4,0)
DGJHELP^^0^B446497
"BLD",3481,"KRN",9.8,"NM",5,0)
DGJOPRT^^0^B10625596
"BLD",3481,"KRN",9.8,"NM",6,0)
DGJOPRT1^^0^B26280337
"BLD",3481,"KRN",9.8,"NM",7,0)
DGJOPRT2^^0^B25031126
"BLD",3481,"KRN",9.8,"NM",8,0)
DGJOPRT3^^0^B14735638
"BLD",3481,"KRN",9.8,"NM",9,0)
DGJOTP^^0^B16163012
"BLD",3481,"KRN",9.8,"NM",10,0)
DGJOTP1^^0^B30433941
"BLD",3481,"KRN",9.8,"NM",11,0)
DGJOTP2^^0^B16903453
"BLD",3481,"KRN",9.8,"NM",12,0)
DGJOTP3^^0^B22968158
"BLD",3481,"KRN",9.8,"NM",13,0)
DGJOTPUL^^0^B11513262
"BLD",3481,"KRN",9.8,"NM",14,0)
DGJPAR^^0^B216642
"BLD",3481,"KRN",9.8,"NM",15,0)
DGJPAR1^^0^B23062427
"BLD",3481,"KRN",9.8,"NM",16,0)
DGJPDEF^^0^B20192087
"BLD",3481,"KRN",9.8,"NM",17,0)
DGJPDEF1^^0^B29669053
"BLD",3481,"KRN",9.8,"NM",18,0)
DGJPDEF2^^0^B27822774
"BLD",3481,"KRN",9.8,"NM",19,0)
DGJPDEF3^^0^B22532968
"BLD",3481,"KRN",9.8,"NM",20,0)
DGJSUM^^0^B15311962
"BLD",3481,"KRN",9.8,"NM",21,0)
DGJTADD^^0^B2872561
"BLD",3481,"KRN",9.8,"NM",22,0)
DGJTDEL^^0^B5396987
"BLD",3481,"KRN",9.8,"NM",23,0)
DGJTEE^^0^B32407389
"BLD",3481,"KRN",9.8,"NM",24,0)
DGJTEE1^^0^B29411664
"BLD",3481,"KRN",9.8,"NM",25,0)
DGJTEE2^^0^B21013849
"BLD",3481,"KRN",9.8,"NM",26,0)
DGJTEE3^^0^B21200419
"BLD",3481,"KRN",9.8,"NM",27,0)
DGJTEVT^^0^B20480012
"BLD",3481,"KRN",9.8,"NM",28,0)
DGJTHLP^^0^B21331459
"BLD",3481,"KRN",9.8,"NM",29,0)
DGJTHLP1^^0^B23949893
"BLD",3481,"KRN",9.8,"NM",30,0)
DGJTUDIS^^0^B5136598
"BLD",3481,"KRN",9.8,"NM",31,0)
DGJTUTL^^0^B27243979
"BLD",3481,"KRN",9.8,"NM",32,0)
DGJTVW^^0^B8861173
"BLD",3481,"KRN",9.8,"NM",33,0)
DGJTVW1^^0^B28085322
"BLD",3481,"KRN",9.8,"NM",34,0)
DGJTVW2^^0^B18685796
"BLD",3481,"KRN",9.8,"NM",35,0)
DGJTVW3^^0^B24357858
"BLD",3481,"KRN",9.8,"NM",36,0)
DGJUTQ^^0^B5459740
"BLD",3481,"KRN",9.8,"NM",37,0)
DGJ1INIP^^0^B10301972
"BLD",3481,"KRN",9.8,"NM","B","DGJ1INIP",37)

"BLD",3481,"KRN",9.8,"NM","B","DGJ1INIT",1)

"BLD",3481,"KRN",9.8,"NM","B","DGJBGJ",2)

"BLD",3481,"KRN",9.8,"NM","B","DGJBGJ1",3)

"BLD",3481,"KRN",9.8,"NM","B","DGJHELP",4)

"BLD",3481,"KRN",9.8,"NM","B","DGJOPRT",5)

"BLD",3481,"KRN",9.8,"NM","B","DGJOPRT1",6)

"BLD",3481,"KRN",9.8,"NM","B","DGJOPRT2",7)

"BLD",3481,"KRN",9.8,"NM","B","DGJOPRT3",8)

"BLD",3481,"KRN",9.8,"NM","B","DGJOTP",9)

"BLD",3481,"KRN",9.8,"NM","B","DGJOTP1",10)

"BLD",3481,"KRN",9.8,"NM","B","DGJOTP2",11)

"BLD",3481,"KRN",9.8,"NM","B","DGJOTP3",12)

"BLD",3481,"KRN",9.8,"NM","B","DGJOTPUL",13)

"BLD",3481,"KRN",9.8,"NM","B","DGJPAR",14)

"BLD",3481,"KRN",9.8,"NM","B","DGJPAR1",15)

"BLD",3481,"KRN",9.8,"NM","B","DGJPDEF",16)

"BLD",3481,"KRN",9.8,"NM","B","DGJPDEF1",17)

"BLD",3481,"KRN",9.8,"NM","B","DGJPDEF2",18)

"BLD",3481,"KRN",9.8,"NM","B","DGJPDEF3",19)

"BLD",3481,"KRN",9.8,"NM","B","DGJSUM",20)

"BLD",3481,"KRN",9.8,"NM","B","DGJTADD",21)

"BLD",3481,"KRN",9.8,"NM","B","DGJTDEL",22)

"BLD",3481,"KRN",9.8,"NM","B","DGJTEE",23)

"BLD",3481,"KRN",9.8,"NM","B","DGJTEE1",24)

"BLD",3481,"KRN",9.8,"NM","B","DGJTEE2",25)

"BLD",3481,"KRN",9.8,"NM","B","DGJTEE3",26)

"BLD",3481,"KRN",9.8,"NM","B","DGJTEVT",27)

"BLD",3481,"KRN",9.8,"NM","B","DGJTHLP",28)

"BLD",3481,"KRN",9.8,"NM","B","DGJTHLP1",29)

"BLD",3481,"KRN",9.8,"NM","B","DGJTUDIS",30)

"BLD",3481,"KRN",9.8,"NM","B","DGJTUTL",31)

"BLD",3481,"KRN",9.8,"NM","B","DGJTVW",32)

"BLD",3481,"KRN",9.8,"NM","B","DGJTVW1",33)

"BLD",3481,"KRN",9.8,"NM","B","DGJTVW2",34)

"BLD",3481,"KRN",9.8,"NM","B","DGJTVW3",35)

"BLD",3481,"KRN",9.8,"NM","B","DGJUTQ",36)

"BLD",3481,"KRN",19,0)
19
"BLD",3481,"KRN",19,"NM",0)
^9.68A^15^14
"BLD",3481,"KRN",19,"NM",1,0)
DGJ ADD/EDIT DEFICIENCY^^0
"BLD",3481,"KRN",19,"NM",3,0)
DGJ IRT DELETE^^0
"BLD",3481,"KRN",19,"NM",4,0)
DGJ IRT EDITCOMP^^0
"BLD",3481,"KRN",19,"NM",5,0)
DGJ IRT ENTER/EDIT^^0
"BLD",3481,"KRN",19,"NM",6,0)
DGJ IRT INCOMPLETE^^0
"BLD",3481,"KRN",19,"NM",7,0)
DGJ IRT MENU^^0
"BLD",3481,"KRN",19,"NM",8,0)
DGJ IRT PARAMETERS^^0
"BLD",3481,"KRN",19,"NM",9,0)
DGJ IRT PRINT^^0
"BLD",3481,"KRN",19,"NM",10,0)
DGJ IRT TRANS PROD^^0
"BLD",3481,"KRN",19,"NM",11,0)
DGJ IRT UNDICTATED^^0
"BLD",3481,"KRN",19,"NM",12,0)
DGJ IRT UPDATE (Background)^^0
"BLD",3481,"KRN",19,"NM",13,0)
DGJ IRT UPDATE STD. DEFIC.^^0
"BLD",3481,"KRN",19,"NM",14,0)
DGJ IRT VIEW^^0
"BLD",3481,"KRN",19,"NM",15,0)
DGJ PHYS DEFICIENCY REPORT^^0
"BLD",3481,"KRN",19,"NM","B","DGJ ADD/EDIT DEFICIENCY",1)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT DELETE",3)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT EDITCOMP",4)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT ENTER/EDIT",5)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT INCOMPLETE",6)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT MENU",7)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT PARAMETERS",8)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT PRINT",9)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT TRANS PROD",10)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT UNDICTATED",11)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT UPDATE (Background)",12)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT UPDATE STD. DEFIC.",13)

"BLD",3481,"KRN",19,"NM","B","DGJ IRT VIEW",14)

"BLD",3481,"KRN",19,"NM","B","DGJ PHYS DEFICIENCY REPORT",15)

"BLD",3481,"KRN",19.1,0)
19.1
"BLD",3481,"KRN",19.1,"NM",0)
^9.68A^3^3
"BLD",3481,"KRN",19.1,"NM",1,0)
DGJ CLERK SUPER^^0
"BLD",3481,"KRN",19.1,"NM",2,0)
DGJ SUPER^^0
"BLD",3481,"KRN",19.1,"NM",3,0)
DGJ TS UPDATE^^0
"BLD",3481,"KRN",19.1,"NM","B","DGJ CLERK SUPER",1)

"BLD",3481,"KRN",19.1,"NM","B","DGJ SUPER",2)

"BLD",3481,"KRN",19.1,"NM","B","DGJ TS UPDATE",3)

"BLD",3481,"KRN",101,0)
101
"BLD",3481,"KRN",101,"NM",0)
^9.68A^30^30
"BLD",3481,"KRN",101,"NM",1,0)
DGJ ALL GROUP EDIT^^0
"BLD",3481,"KRN",101,"NM",2,0)
DGJ CHNG PAT^^0
"BLD",3481,"KRN",101,"NM",3,0)
DGJ COMPLETE EDIT MENU^^0
"BLD",3481,"KRN",101,"NM",4,0)
DGJ DELETE DEFICIENCY^^0
"BLD",3481,"KRN",101,"NM",5,0)
DGJ DELETE MENU^^0
"BLD",3481,"KRN",101,"NM",6,0)
DGJ DELETE SUPER^^0
"BLD",3481,"KRN",101,"NM",7,0)
DGJ DELETE SUPER2^^0
"BLD",3481,"KRN",101,"NM",8,0)
DGJ EDIT COMP IRT SINGLE^^0
"BLD",3481,"KRN",101,"NM",9,0)
DGJ EDIT COMP IRT SUPER^^0
"BLD",3481,"KRN",101,"NM",10,0)
DGJ EDIT COMP SUPER2^^0
"BLD",3481,"KRN",101,"NM",11,0)
DGJ EDIT SUMMARY/REPORT^^0
"BLD",3481,"KRN",101,"NM",12,0)
DGJ ENTER/EDIT DEFICIENCY MENU^^0
"BLD",3481,"KRN",101,"NM",13,0)
DGJ ENTER/EDIT RECORDS MENU^^0
"BLD",3481,"KRN",101,"NM",14,0)
DGJ GROUP 2 EDIT^^0
"BLD",3481,"KRN",101,"NM",15,0)
DGJ GROUP 3 EDIT^^0
"BLD",3481,"KRN",101,"NM",16,0)
DGJ GROUP 4 EDIT^^0
"BLD",3481,"KRN",101,"NM",17,0)
DGJ INCOMPLETE EVENT^^0
"BLD",3481,"KRN",101,"NM",18,0)
DGJ IRT ADD DEF. PARMS^^0
"BLD",3481,"KRN",101,"NM",19,0)
DGJ IRT COMPLETE DEF^^0
"BLD",3481,"KRN",101,"NM",20,0)
DGJ IRT EDIT DEFICIENCY^^0
"BLD",3481,"KRN",101,"NM",21,0)
DGJ IRT EDIT PARMS^^0
"BLD",3481,"KRN",101,"NM",22,0)
DGJ IRT EDIT RECORD^^0
"BLD",3481,"KRN",101,"NM",23,0)
DGJ IRT ENTER DEFICIENCY^^0
"BLD",3481,"KRN",101,"NM",24,0)
DGJ IRT ENTER RECORD^^0
"BLD",3481,"KRN",101,"NM",25,0)
DGJ IRT EXP^^0
"BLD",3481,"KRN",101,"NM",26,0)
DGJ IRT PARM ENTER/EDIT MENU^^0
"BLD",3481,"KRN",101,"NM",27,0)
DGJ IRT SUMMARIES^^0
"BLD",3481,"KRN",101,"NM",28,0)
DGJ IRT VIEW MENU^^0
"BLD",3481,"KRN",101,"NM",29,0)
DGJ JUMP CATEG^^0
"BLD",3481,"KRN",101,"NM",30,0)
DGJ TS UPDATE^^0
"BLD",3481,"KRN",101,"NM","B","DGJ ALL GROUP EDIT",1)

"BLD",3481,"KRN",101,"NM","B","DGJ CHNG PAT",2)

"BLD",3481,"KRN",101,"NM","B","DGJ COMPLETE EDIT MENU",3)

"BLD",3481,"KRN",101,"NM","B","DGJ DELETE DEFICIENCY",4)

"BLD",3481,"KRN",101,"NM","B","DGJ DELETE MENU",5)

"BLD",3481,"KRN",101,"NM","B","DGJ DELETE SUPER",6)

"BLD",3481,"KRN",101,"NM","B","DGJ DELETE SUPER2",7)

"BLD",3481,"KRN",101,"NM","B","DGJ EDIT COMP IRT SINGLE",8)

"BLD",3481,"KRN",101,"NM","B","DGJ EDIT COMP IRT SUPER",9)

"BLD",3481,"KRN",101,"NM","B","DGJ EDIT COMP SUPER2",10)

"BLD",3481,"KRN",101,"NM","B","DGJ EDIT SUMMARY/REPORT",11)

"BLD",3481,"KRN",101,"NM","B","DGJ ENTER/EDIT DEFICIENCY MENU",12)

"BLD",3481,"KRN",101,"NM","B","DGJ ENTER/EDIT RECORDS MENU",13)

"BLD",3481,"KRN",101,"NM","B","DGJ GROUP 2 EDIT",14)

"BLD",3481,"KRN",101,"NM","B","DGJ GROUP 3 EDIT",15)

"BLD",3481,"KRN",101,"NM","B","DGJ GROUP 4 EDIT",16)

"BLD",3481,"KRN",101,"NM","B","DGJ INCOMPLETE EVENT",17)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT ADD DEF. PARMS",18)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT COMPLETE DEF",19)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT EDIT DEFICIENCY",20)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT EDIT PARMS",21)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT EDIT RECORD",22)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT ENTER DEFICIENCY",23)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT ENTER RECORD",24)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT EXP",25)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT PARM ENTER/EDIT MENU",26)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT SUMMARIES",27)

"BLD",3481,"KRN",101,"NM","B","DGJ IRT VIEW MENU",28)

"BLD",3481,"KRN",101,"NM","B","DGJ JUMP CATEG",29)

"BLD",3481,"KRN",101,"NM","B","DGJ TS UPDATE",30)

"BLD",3481,"KRN",409.61,0)
409.61
"BLD",3481,"KRN",409.61,"NM",0)
^9.68A^14^14
"BLD",3481,"KRN",409.61,"NM",1,0)
DGJ COMP EDIT SINGLE^^0
"BLD",3481,"KRN",409.61,"NM",2,0)
DGJ COMP EDIT SUPER^^0
"BLD",3481,"KRN",409.61,"NM",3,0)
DGJ DEF EDIT^^0
"BLD",3481,"KRN",409.61,"NM",4,0)
DGJ DEFICIENCY LIST^^0
"BLD",3481,"KRN",409.61,"NM",5,0)
DGJ DELETE DEFICIENCY^^0
"BLD",3481,"KRN",409.61,"NM",6,0)
DGJ DELETE RECORD^^0
"BLD",3481,"KRN",409.61,"NM",7,0)
DGJ DELETE SINGLE^^0
"BLD",3481,"KRN",409.61,"NM",8,0)
DGJ DELETE SUPER^^0
"BLD",3481,"KRN",409.61,"NM",9,0)
DGJ ENTER/EDIT DEF. PARMS.^^0
"BLD",3481,"KRN",409.61,"NM",10,0)
DGJ EXP ENTRY^^0
"BLD",3481,"KRN",409.61,"NM",11,0)
DGJ IRT REC EDIT^^0
"BLD",3481,"KRN",409.61,"NM",12,0)
DGJ IRT REC ENTER^^0
"BLD",3481,"KRN",409.61,"NM",13,0)
DGJ IRT RECORD LIST^^0
"BLD",3481,"KRN",409.61,"NM",14,0)
DGJ IRT VIEW^^0
"BLD",3481,"KRN",409.61,"NM","B","DGJ COMP EDIT SINGLE",1)

"BLD",3481,"KRN",409.61,"NM","B","DGJ COMP EDIT SUPER",2)

"BLD",3481,"KRN",409.61,"NM","B","DGJ DEF EDIT",3)

"BLD",3481,"KRN",409.61,"NM","B","DGJ DEFICIENCY LIST",4)

"BLD",3481,"KRN",409.61,"NM","B","DGJ DELETE DEFICIENCY",5)

"BLD",3481,"KRN",409.61,"NM","B","DGJ DELETE RECORD",6)

"BLD",3481,"KRN",409.61,"NM","B","DGJ DELETE SINGLE",7)

"BLD",3481,"KRN",409.61,"NM","B","DGJ DELETE SUPER",8)

"BLD",3481,"KRN",409.61,"NM","B","DGJ ENTER/EDIT DEF. PARMS.",9)

"BLD",3481,"KRN",409.61,"NM","B","DGJ EXP ENTRY",10)

"BLD",3481,"KRN",409.61,"NM","B","DGJ IRT REC EDIT",11)

"BLD",3481,"KRN",409.61,"NM","B","DGJ IRT REC ENTER",12)

"BLD",3481,"KRN",409.61,"NM","B","DGJ IRT RECORD LIST",13)

"BLD",3481,"KRN",409.61,"NM","B","DGJ IRT VIEW",14)

"BLD",3481,"KRN",771,0)
771
"BLD",3481,"KRN",870,0)
870
"BLD",3481,"KRN",8994,0)
8994
"BLD",3481,"KRN","B",.4,.4)

"BLD",3481,"KRN","B",.401,.401)

"BLD",3481,"KRN","B",.402,.402)

"BLD",3481,"KRN","B",.403,.403)

"BLD",3481,"KRN","B",.5,.5)

"BLD",3481,"KRN","B",.84,.84)

"BLD",3481,"KRN","B",3.6,3.6)

"BLD",3481,"KRN","B",3.8,3.8)

"BLD",3481,"KRN","B",9.2,9.2)

"BLD",3481,"KRN","B",9.8,9.8)

"BLD",3481,"KRN","B",19,19)

"BLD",3481,"KRN","B",19.1,19.1)

"BLD",3481,"KRN","B",101,101)

"BLD",3481,"KRN","B",409.61,409.61)

"BLD",3481,"KRN","B",771,771)

"BLD",3481,"KRN","B",870,870)

"BLD",3481,"KRN","B",8994,8994)

"BLD",3481,"PRE")
DGJ1INIT
"BLD",3481,"QUES",0)
^9.62^^
"BLD",3481,"REQB",0)
^9.611^^
"FIA",40.8)
MEDICAL CENTER DIVISION
"FIA",40.8,0)
^DG(40.8,
"FIA",40.8,0,0)
40.8I
"FIA",40.8,0,1)
y^n^p^^^^n
"FIA",40.8,0,10)

"FIA",40.8,0,11)

"FIA",40.8,0,"RLRO")

"FIA",40.8,0,"VR")
1.0^DGJ
"FIA",40.8,40.8)
1
"FIA",40.8,40.8,100.01)

"FIA",40.8,40.8,100.02)

"FIA",40.8,40.8,100.03)

"FIA",40.8,40.8,100.04)

"FIA",40.8,40.8,100.05)

"FIA",40.8,40.8,100.06)

"FIA",40.8,40.8,100.07)

"FIA",40.8,40.8,100.08)

"FIA",40.8,40.8,100.09)

"FIA",40.8,40.8,100.1)

"FIA",40.8,40.8,100.2)

"FIA",40.8,40.8,100.3)

"FIA",43)
MAS PARAMETERS
"FIA",43,0)
^DG(43,
"FIA",43,0,0)
43
"FIA",43,0,1)
n^n^p^^^^n
"FIA",43,0,10)

"FIA",43,0,11)

"FIA",43,0,"RLRO")

"FIA",43,0,"VR")
1.0^DGJ
"FIA",43,43)
1
"FIA",43,43,401)

"FIA",43,43,513)

"FIA",393)
INCOMPLETE RECORDS
"FIA",393,0)
^VAS(393,
"FIA",393,0,0)
393IP
"FIA",393,0,1)
y^n^f^^^^n
"FIA",393,0,10)

"FIA",393,0,11)

"FIA",393,0,"RLRO")

"FIA",393,0,"VR")
1.0^DGJ
"FIA",393,393)
0
"FIA",393.1)
MAS SERVICE
"FIA",393.1,0)
^DG(393.1,
"FIA",393.1,0,0)
393.1
"FIA",393.1,0,1)
y^n^f^^^^n
"FIA",393.1,0,10)

"FIA",393.1,0,11)

"FIA",393.1,0,"RLRO")

"FIA",393.1,0,"VR")
1.0^DGJ
"FIA",393.1,393.1)
0
"FIA",393.2)
IRT STATUS
"FIA",393.2,0)
^DG(393.2,
"FIA",393.2,0,0)
393.2
"FIA",393.2,0,1)
y^n^f^^^^n
"FIA",393.2,0,10)

"FIA",393.2,0,11)

"FIA",393.2,0,"RLRO")

"FIA",393.2,0,"VR")
1.0^DGJ
"FIA",393.2,393.2)
0
"FIA",393.3)
IRT TYPE OF DEFICIENCY
"FIA",393.3,0)
^VAS(393.3,
"FIA",393.3,0,0)
393.3
"FIA",393.3,0,1)
y^n^f^^^^n
"FIA",393.3,0,10)

"FIA",393.3,0,11)

"FIA",393.3,0,"RLRO")

"FIA",393.3,0,"VR")
1.0^DGJ
"FIA",393.3,393.3)
0
"FIA",393.41)
TYPE OF CATEGORY
"FIA",393.41,0)
^VAS(393.41,
"FIA",393.41,0,0)
393.41
"FIA",393.41,0,1)
y^n^f^^^^n
"FIA",393.41,0,10)

"FIA",393.41,0,11)

"FIA",393.41,0,"RLRO")

"FIA",393.41,0,"VR")
1.0^DGJ
"FIA",393.41,393.41)
0
"FIA",405)
PATIENT MOVEMENT
"FIA",405,0)
^DGPM(
"FIA",405,0,0)
405ID
"FIA",405,0,1)
n^n^p^^^^n
"FIA",405,0,10)

"FIA",405,0,11)

"FIA",405,0,"RLRO")

"FIA",405,0,"VR")
1.0^DGJ
"FIA",405,405)
1
"FIA",405,405,60.01)

"INIT")
POST^DGJ1INIT
"KRN",.402,801,-1)
0^2
"KRN",.402,801,0)
DGJ EDIT IRT RECORD^2930324.1448^^393^^^3011023^
"KRN",.402,801,"DIAB",4,0,393,4)
.09;"PRIMARY PHYSICIAN"
"KRN",.402,801,"DR",1,393)
K DGJTUP;S:DGJTNUM'["1" Y="@1";.02////^S X=$P(^VAS(393,D0,0),"^",2);I X=1 S DGJTXX=$P(^VAS(393,D0,0),"^",5) S Y="@5";.03;@5;S Y="@3";I $P(^VAS(393,D0,0),"^",4)']"" S Y="@3";.04;@3;
"KRN",.402,801,"DR",1,393,1)
I $P(^VAS(393,D0,0),"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) S Y="@13";.05;S DGJTXX=X;@13;.06////^S X=+DGJTDV;
"KRN",.402,801,"DR",1,393,2)
S DGX=DGJTXX,DGX=$S($D(^SC(+DGX,42)):$P(^DIC(42,+(^SC(+DGX,42)),0),"^",3),$D(^SC(+DGX,0)):$P(^SC(+DGX,0),"^",8),1:"") I DGX']"" S DGX=0;
"KRN",.402,801,"DR",1,393,3)
S DGJX=$S($D(^DG(393.1,"AC",DGX)):$O(^(DGX,0)),1:"") I DGJX]"" S DGJX=$P(^DG(393.1,+DGJX,0),"^",1);.08///^S X=DGJX;.12;S DGJTUP=1;@1;I $P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) S Y="@6";
"KRN",.402,801,"DR",1,393,4)
I $P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) S Y="";S:DGJTNUM'["2" Y="@6";.07;.09PRIMARY PHYSICIAN~;I $P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="P") S DGJTUP=1 S Y="@4";.1;S DGJTUP=1;@4;S:DGJTNUM'["3" Y="";@6;
"KRN",.402,801,"DR",1,393,5)
I $D(DGJTDEF)&(DGJTNUM["3") S Y="@20";S:DGJTNUM'["3" Y="@15";I $P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) D LESS48^DGJTUTL S:X=1 Y="@10" S:X=-1 Y="@15";10.01;
"KRN",.402,801,"DR",1,393,6)
I X="" S $P(^VAS(393,D0,"DT"),"^",2)="",$P(^("DT"),"^",3)="",$P(^("DT"),"^",4)="",$P(^("DT"),"^",5)="",$P(^("DT"),"^",6)="",$P(^("DT"),"^",7)="",$P(^("DT"),"^",8)="";I X="" S DGJTST="INCOMPLETE",Y="@2";
"KRN",.402,801,"DR",1,393,7)
S DGJTDDT=$S($P(^VAS(393,D0,0),"^",4)]"":$P(^DGPM($P(^VAS(393,D0,0),"^",4),0),"^",1),1:$P(^VAS(393,D0,0),"^",3));
"KRN",.402,801,"DR",1,393,8)
S DGJTDDT=$S(DGJTDDT[".":$P(DGJTDDT,".",1),1:DGJTDDT) I X<DGJTDDT S $P(^VAS(393,D0,"DT"),"^",1)="" W !,"Date must be equal to or after EVENT DATE... no time required." S Y="@6";10.02;
"KRN",.402,801,"DR",1,393,9)
I X="" S $P(^VAS(393,D0,"DT"),"^",1)="",$P(^("DT"),"^",3)="",$P(^("DT"),"^",4)="",$P(^("DT"),"^",5)="",$P(^("DT"),"^",6)="",$P(^("DT"),"^",7)="",$P(^("DT"),"^",8)="" S DGJTST="INCOMPLETE",Y="@2";S DGJTST="DICTATED";@9;10.03;
"KRN",.402,801,"DR",1,393,10)
I X="" S $P(^VAS(393,D0,"DT"),"^",4)="";I X]"",X<$P(^VAS(393,D0,"DT"),"^",1) W !!?5,"Date must be after the DATE DICTATED" S $P(^VAS(393,D0,"DT"),"^",3)="" S Y="@9";I X="" S DGJTST="DICTATED",Y="@2";10.04;
"KRN",.402,801,"DR",1,393,11)
I X="" S $P(^VAS(393,D0,"DT"),"^",3)="",DGJTST="DICTATED",Y="@2";S DGJTST="TRANSCRIBED";@10;10.05;I X="" S $P(^VAS(393,D0,"DT"),"^",6)="";
"KRN",.402,801,"DR",1,393,12)
I X]"",X<$P(^VAS(393,D0,"DT"),"^",1) W !!?5,"Date must be after the DATE DICTATED" S $P(^VAS(393,D0,"DT"),"^",5)="",Y="@10";I X="" S DGJTST="TRANSCRIBED",Y="@2";10.06;
"KRN",.402,801,"DR",1,393,13)
I X="" S $P(^VAS(393,D0,"DT"),"^",5)="",DGJTST="TRANSCRIBED",Y="@2";S DGJTST="SIGNED";I $P(DGJTDEL,"^",3)=0 S DGJTST="SIGNED NO REVIEW",Y="@2";@11;10.07;I X="" S $P(^VAS(393,D0,"DT"),"^",8)="";
"KRN",.402,801,"DR",1,393,14)
I X]"",X<$P(^VAS(393,D0,"DT"),"^",1) W !!?5,"Date must be after the DATE DICTATED" S $P(^VAS(393,D0,"DT"),"^",7)="",Y="@11";I X="" S DGJTST="SIGNED",Y="@2";10.08;I X="" S $P(^VAS(393,D0,"DT"),"^",7)="",DGJTST="SIGNED",Y="@2";
"KRN",.402,801,"DR",1,393,15)
S DGJTST="REVIEWED";@2;I X="" S DGJTUP=1;I X]"" S DGJTUP=1;S DGJTST=^VAS(393,D0,"DT");I $P(DGJTST,"^",1)']"" S DGJTST="INCOMPLETE" S Y="@8";I $P(DGJTST,"^",3)']"" S DGJTST="DICTATED" S Y="@8";
"KRN",.402,801,"DR",1,393,16)
I $P(DGJTST,"^",5)']"" S DGJTST="TRANSCRIBED" S Y="@8";I $P(DGJTST,"^",7)']"" S DGJTST="SIGNED" S Y="@8";I $P(DGJTDEL,"^",3)=0 S DGJTST="SIGNED NO REVIEW";I $P(DGJTDEL,"^",3)=1 S DGJTST="REVIEWED";@8;
"KRN",.402,801,"DR",1,393,17)
S DGJTST=$O(^DG(393.2,"B",DGJTST,0));.11////^S X=DGJTST;S Y="@15";@20;.11;S DGJTUP=1;@15;S:DGJTNUM'["4" Y="";20.01;S DGJTUP=1;
"KRN",.402,801,"ROU")
^DGJXE
"KRN",.402,801,"ROUOLD")
DGJXE
"KRN",.402,802,-1)
0^4
"KRN",.402,802,0)
DGJ ENTER IRT RECORD^2921201.1548^^393^^^2990727^
"KRN",.402,802,"DR",1,393)
.02////^S X=DGJTYP;.03///^S X=DGJTDT;.04////^S X=DGJTAIFN;.05////^S X=DGJTWD;.06////^S X=+DGJTDV;.07////^S X=DGJTSP;.08////^S X=DGJTSV;.09////^S X=DGJT1PH;.1////^S X=DGJT2PH;.12////^S X=DGJTPR;@8;10.01;
"KRN",.402,802,"DR",1,393,1)
I X="" S DGJTST="INCOMPLETE",Y="@2";S DGJTDDT=$S($P(^VAS(393,D0,0),"^",4)]"":$P(^DGPM($P(^VAS(393,D0,0),"^",4),0),"^",1),1:$P(^VAS(393,D0,0),"^",3));
"KRN",.402,802,"DR",1,393,2)
S DGJTDDT=$S(DGJTDDT[".":$P(DGJTDDT,".",1),1:DGJTDDT) I X<DGJTDDT S $P(^VAS(393,D0,"DT"),"^",1)="" W !,"Date must be equal to or after EVENT DATE...no time required." S Y="@8";10.02;
"KRN",.402,802,"DR",1,393,3)
I X="" S $P(^VAS(393,D0,"DT"),"^",1)="" S DGJTST="INCOMPLETE",Y="@2";S DGJTST="DICTATED";@5;10.03;I X]"",X<$P(^VAS(393,D0,"DT"),"^",1) W !!?5,"Date must be after the DATE DICTATED" S $P(^VAS(393,D0,"DT"),"^",3)="" S Y="@5";
"KRN",.402,802,"DR",1,393,4)
I X="" S DGJTST="DICTATED",Y="@2";10.04;I X="" S $P(^VAS(393,D0,"DT"),"^",3)="",DGJTST="DICTATED",Y="@2";S DGJTST="TRANSCRIBED";@6;10.05;
"KRN",.402,802,"DR",1,393,5)
I X]"",X<$P(^VAS(393,D0,"DT"),"^",1) W !!?5,"Date must be after the DATE DICTATED" S $P(^VAS(393,D0,"DT"),"^",5)="" S Y="@6";I X="" S DGJTST="TRANSCRIBED",Y="@2";10.06;
"KRN",.402,802,"DR",1,393,6)
I X="" S $P(^VAS(393,D0,"DT"),"^",5)="",DGJTST="TRANSCRIBED",Y="@2";S DGJTST="SIGNED";I $P(DGJTDEL,"^",3)'=1 S DGJTST="SIGNED NO REVIEW",Y="@2";@7;10.07;
"KRN",.402,802,"DR",1,393,7)
I X]"",X<$P(^VAS(393,D0,"DT"),"^",1) W !!?5,"Date must be after the DATE DICTATED" S $P(^VAS(393,D0,"DT"),"^",7)="",Y="@7";I X="" S DGJTST="SIGNED",Y="@2";10.08;I X="" S $P(^VAS(393,D0,"DT"),"^",7)="",DGJTST="SIGNED",Y="@2";
"KRN",.402,802,"DR",1,393,8)
S DGJTST="REVIEWED";@2;S DGJTST=$O(^DG(393.2,"B",DGJTST,0));.11////^S X=DGJTST;20.01;
"KRN",.402,802,"ROU")
^DGJXA
"KRN",.402,802,"ROUOLD")
DGJXA
"KRN",.402,978,-1)
0^5
"KRN",.402,978,0)
DGJ IRT PARAMETERS^3011022.0903^^40.8^^^3011023
"KRN",.402,978,"DR",1,40.8)
100.01;100.02;100.03;I X=0 S DGJPAR=1 S Y="@1";100.04;@1;100.1;100.05;100.06;100.07;I $D(DGJPAR) S Y="@2";100.08;@2;100.09;100.2;100.3;K DGJPAR;
"KRN",.402,1152,-1)
0^3
"KRN",.402,1152,0)
DGJ ENTER IRT DEFICIENCY^2930310.1126^^393^^^3010110^
"KRN",.402,1152,"DR",1,393)
.02////^S X=DGJTYP;.03///^S X=DGJTDT;.04////^S X=DGJTAIFN;.05////^S X=DGJTWD;.06////^S X=+DGJTDV;.07////^S X=DGJTSP;.08////^S X=DGJTSV;.09////^S X=DGJT1PH;.1////^S X=DGJT2PH;.12////^S X=DGJTPR;.11;20.01;
"KRN",.402,1167,-1)
0^1
"KRN",.402,1167,0)
DGJ DEF PARAMETER EDIT^2930729.1033^@^393.3^^@^2930729
"KRN",.402,1167,"DIAB",2,0,393.3,0)
.01;"Deficiency Name"
"KRN",.402,1167,"DR",1,393.3)
K DGJTUP;.01Deficiency Name~;.02;.06;.07;.08;S DGJTUP=1;
"KRN",19,2725,-1)
0^3
"KRN",19,2725,0)
DGJ IRT DELETE^Delete an IRT^^R^^DGJ CLERK SUPER^^^^^^INCOMPLETE RECORDS TRACKING^^1^1
"KRN",19,2725,1,0)
^^1^1^2940330^^^^
"KRN",19,2725,1,1,0)
This is the IRT option to delete a record.
"KRN",19,2725,15)
K DGJTDLT
"KRN",19,2725,20)
S DGJTDLT=1
"KRN",19,2725,25)
START2^DGJTEE
"KRN",19,2725,"U")
DELETE AN IRT
"KRN",19,2726,-1)
0^4
"KRN",19,2726,0)
DGJ IRT EDITCOMP^Edit a Complete IRT^^R^^DGJ CLERK SUPER^^^^^^INCOMPLETE RECORDS TRACKING^^1^1
"KRN",19,2726,1,0)
^^1^1^2930722^^^^
"KRN",19,2726,1,1,0)
This is the option that allows you to edit already completed IRT entries.
"KRN",19,2726,15)
K DGJTCOM
"KRN",19,2726,20)
S DGJTCOM=1
"KRN",19,2726,25)
START3^DGJTEE
"KRN",19,2726,99)
55649,34098
"KRN",19,2726,"U")
EDIT A COMPLETE IRT
"KRN",19,2727,-1)
0^5
"KRN",19,2727,0)
DGJ IRT ENTER/EDIT^Enter/Edit an IRT^^R^^^^^^^^INCOMPLETE RECORDS TRACKING^^^1
"KRN",19,2727,1,0)
^^2^2^2930514^^^^
"KRN",19,2727,1,1,0)
This is the option that allows you to enter new IRT entries and edit
"KRN",19,2727,1,2,0)
uncompleted entries.
"KRN",19,2727,15)
D FNL^DGJTEE
"KRN",19,2727,25)
DGJTEE
"KRN",19,2727,"U")
ENTER/EDIT AN IRT
"KRN",19,2729,-1)
0^11
"KRN",19,2729,0)
DGJ IRT UNDICTATED^Undictated Reports Print^^R^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",19,2729,1,0)
^^5^5^2930409^^^^
"KRN",19,2729,1,1,0)
This option allows you to print undictated reports sorting by
"KRN",19,2729,1,2,0)
Division if multi-divisional, (Patient, Event Date, Doctor, Service/
"KRN",19,2729,1,3,0)
Specialty). The outputs display data for Patient name, PT ID, 
"KRN",19,2729,1,4,0)
event date, discharge type, physician, ward and type of report
"KRN",19,2729,1,5,0)
(OP report, Discharge Summary, Interim Summary).
"KRN",19,2729,25)
EN^DGJOPRT
"KRN",19,2729,"U")
UNDICTATED REPORTS PRINT
"KRN",19,2730,-1)
0^9
"KRN",19,2730,0)
DGJ IRT PRINT^Print Menu^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",19,2730,1,0)
^^1^1^2930409^^^^
"KRN",19,2730,1,1,0)
This is the Menu Option for the printed reports for the IRT package.
"KRN",19,2730,10,0)
^19.01IP^4^4
"KRN",19,2730,10,1,0)
3147^
"KRN",19,2730,10,1,"^")
DGJ IRT INCOMPLETE
"KRN",19,2730,10,2,0)
2729^
"KRN",19,2730,10,2,"^")
DGJ IRT UNDICTATED
"KRN",19,2730,10,3,0)
3538^
"KRN",19,2730,10,3,"^")
DGJ IRT TRANS PROD
"KRN",19,2730,10,4,0)
3913
"KRN",19,2730,10,4,"^")
DGJ PHYS DEFICIENCY REPORT
"KRN",19,2730,99)
58846,34459
"KRN",19,2730,"U")
PRINT MENU
"KRN",19,2732,-1)
0^7
"KRN",19,2732,0)
DGJ IRT MENU^Incomplete Records Tracking Menu^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",19,2732,1,0)
^^1^1^2940419^^^^
"KRN",19,2732,1,1,0)
Menu option for the Incomplete Records Tracking options.
"KRN",19,2732,10,0)
^19.01IP^10^10
"KRN",19,2732,10,2,0)
2727^
"KRN",19,2732,10,2,"^")
DGJ IRT ENTER/EDIT
"KRN",19,2732,10,3,0)
2726^
"KRN",19,2732,10,3,"^")
DGJ IRT EDITCOMP
"KRN",19,2732,10,4,0)
2730^
"KRN",19,2732,10,4,"^")
DGJ IRT PRINT
"KRN",19,2732,10,5,0)
2725^
"KRN",19,2732,10,5,"^")
DGJ IRT DELETE
"KRN",19,2732,10,6,0)
3114^
"KRN",19,2732,10,6,"^")
DGJ IRT PARAMETERS
"KRN",19,2732,10,7,0)
3911^
"KRN",19,2732,10,7,"^")
DGJ ADD/EDIT DEFICIENCY
"KRN",19,2732,10,9,0)
4077^
"KRN",19,2732,10,9,"^")
DGJ IRT UPDATE STD. DEFIC.
"KRN",19,2732,10,10,0)
4539^
"KRN",19,2732,10,10,"^")
DGJ IRT VIEW
"KRN",19,2732,99)
58846,34460
"KRN",19,2732,"U")
INCOMPLETE RECORDS TRACKING ME
"KRN",19,3114,-1)
0^8
"KRN",19,3114,0)
DGJ IRT PARAMETERS^Set up IRT Parameters^^R^^DGJ SUPER^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",19,3114,1,0)
^^3^3^2930409^^^^
"KRN",19,3114,1,1,0)
This option allows you to set up parameters for the IRT package.
"KRN",19,3114,1,2,0)
It also allows you to turn the package on and off. These parameters are
"KRN",19,3114,1,3,0)
site specific.
"KRN",19,3114,25)
DGJPAR
"KRN",19,3114,"U")
SET UP IRT PARAMETERS
"KRN",19,3147,-1)
0^6
"KRN",19,3147,0)
DGJ IRT INCOMPLETE^Incomplete Reports Print^^R^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",19,3147,1,0)
^^5^5^2930409^^^^
"KRN",19,3147,1,1,0)
This option allows you to print incomplete reports sorting by Division if
"KRN",19,3147,1,2,0)
multi-divisional, (Patient, Event Date, Doctor, Service/Specialty). The
"KRN",19,3147,1,3,0)
outputs display data for Patient name, PT ID, event date, discharge type
"KRN",19,3147,1,4,0)
Physician, ward and type of delinquency of the report (undicated, not trans-
"KRN",19,3147,1,5,0)
cribed, not signed, not reviewed).
"KRN",19,3147,25)
EN1^DGJOPRT
"KRN",19,3147,"U")
INCOMPLETE REPORTS PRINT
"KRN",19,3538,-1)
0^10
"KRN",19,3538,0)
DGJ IRT TRANS PROD^Transcription Productivity Report^^R^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",19,3538,1,0)
^^18^18^2941013^^^^
"KRN",19,3538,1,1,0)
This option allows for the printing of a report to track the
"KRN",19,3538,1,2,0)
number of days it takes to complete a record from the Event Date
"KRN",19,3538,1,3,0)
to the date that the record is coded. Its major sorts are by
"KRN",19,3538,1,4,0)
Physician or Service/Specialty. It also sorts
"KRN",19,3538,1,5,0)
for Inpatient, outpatients or both and the report gives you the 
"KRN",19,3538,1,6,0)
option to print a totals after the patient list or a totals page
"KRN",19,3538,1,7,0)
without the patient list. If a facility is multidivisional the 
"KRN",19,3538,1,8,0)
Division prompt is asked.
"KRN",19,3538,1,9,0)
 
"KRN",19,3538,1,10,0)
The data elements that are displayed on the report are Patient name; PT ID;
"KRN",19,3538,1,11,0)
Event Date; location; when sorting by Service/Specialty the physicians
"KRN",19,3538,1,12,0)
name will be displayed; type of report (discharge summary, interim
"KRN",19,3538,1,13,0)
and OP report); status (Undictated, dictated, transcribed, signed)
"KRN",19,3538,1,14,0)
dictation date; D/C-DIC (number of days from discharge to dictation)
"KRN",19,3538,1,15,0)
DIC-TRN (number of days from dictation to transcription); TRN-COD (number 
"KRN",19,3538,1,16,0)
of days from transcription to coding); TOT DAYS (total days it took for
"KRN",19,3538,1,17,0)
the record to be completed); DELQ>30 (number of days over 30 that the 
"KRN",19,3538,1,18,0)
record is delinquent).
"KRN",19,3538,25)
DGJOTP
"KRN",19,3538,"U")
TRANSCRIPTION PRODUCTIVITY REP
"KRN",19,3911,-1)
0^1
"KRN",19,3911,0)
DGJ ADD/EDIT DEFICIENCY^Add a New/Edit Deficiency^^R^^DGJ SUPER^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",19,3911,1,0)
^^2^2^2930917^^^^
"KRN",19,3911,1,1,0)
This option allows the user to add a new deficiency to the IRT 
"KRN",19,3911,1,2,0)
Deficiency file. (File: 393.3)
"KRN",19,3911,25)
START^DGJPAR1
"KRN",19,3911,"U")
ADD A NEW/EDIT DEFICIENCY
"KRN",19,3913,-1)
0^15
"KRN",19,3913,0)
DGJ PHYS DEFICIENCY REPORT^Physician Deficiency Report^^R^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",19,3913,1,0)
^^5^5^2930409^^^
"KRN",19,3913,1,1,0)
This option gives the list of deficiencies for a physician, patient or
"KRN",19,3913,1,2,0)
service/specialty.  This report will only give a list of those records
"KRN",19,3913,1,3,0)
which are not completed. The information listed on this report is
"KRN",19,3913,1,4,0)
Division, Patient, Physician, PT ID, Admission Date, Deficiency,
"KRN",19,3913,1,5,0)
Event Date, Status, Borrower, Phone/Rm, D/T Charged.
"KRN",19,3913,25)
DGJPDEF
"KRN",19,3913,99)
55648,48244
"KRN",19,3913,"U")
PHYSICIAN DEFICIENCY REPORT
"KRN",19,4077,-1)
0^13
"KRN",19,4077,0)
DGJ IRT UPDATE STD. DEFIC.^IRT Update Std. Deficiencies^^A^^DGJ SUPER^^^^^^INCOMPLETE RECORDS TRACKING^^1
"KRN",19,4077,1,0)
^^4^4^2930608^^^
"KRN",19,4077,1,1,0)
This option runs the IRT Background Job for the IRT package.
"KRN",19,4077,1,2,0)
The background job updates the admissions in the selected time
"KRN",19,4077,1,3,0)
frame, by creating IRT entries for the standard deficiencies for
"KRN",19,4077,1,4,0)
the facility.
"KRN",19,4077,20)
D EN^DGJBGJ
"KRN",19,4077,"U")
IRT UPDATE STD. DEFICIENCIES
"KRN",19,4079,-1)
0^12
"KRN",19,4079,0)
DGJ IRT UPDATE (Background)^IRT Update Std. Def. Background Job^^A^^^^^^^^INCOMPLETE RECORDS TRACKING^^1
"KRN",19,4079,1,0)
^^4^4^2930714^^^
"KRN",19,4079,1,1,0)
This is the background job that will run nightly, after
"KRN",19,4079,1,2,0)
midnight, which will update all admissions for the 
"KRN",19,4079,1,3,0)
previous day, by creating an IRT entry for all the
"KRN",19,4079,1,4,0)
standard deficiencies for the facility.
"KRN",19,4079,20)
D AUTO^DGJBGJ
"KRN",19,4079,99)
55710,40217
"KRN",19,4079,"U")
IRT UPDATE STD. DEF. BACKGROUN
"KRN",19,4539,-1)
0^14
"KRN",19,4539,0)
DGJ IRT VIEW^View an IRT Record^^R^^^^^^^^INCOMPLETE RECORDS TRACKING^^1^1
"KRN",19,4539,1,0)
^^2^2^2940519^^^^
"KRN",19,4539,1,1,0)
This IRT option allows users to view and expand incomplete and complete
"KRN",19,4539,1,2,0)
deficiencies for a selected patient.
"KRN",19,4539,15)
K DGJTDLT
"KRN",19,4539,20)
S DGJTDLT=1
"KRN",19,4539,25)
START6^DGJTEE
"KRN",19,4539,"U")
VIEW AN IRT RECORD
"KRN",19.1,117,-1)
0^2
"KRN",19.1,117,0)
DGJ SUPER
"KRN",19.1,117,1,0)
^^4^4^2910821^^
"KRN",19.1,117,1,1,0)
This key allows the user to enter/edit IRT parameters.
"KRN",19.1,117,1,2,0)
 
"KRN",19.1,117,1,3,0)
This key may be used for other similar restrictions
"KRN",19.1,117,1,4,0)
in the future.
"KRN",19.1,118,-1)
0^3
"KRN",19.1,118,0)
DGJ TS UPDATE
"KRN",19.1,118,1,0)
^^3^3^2910821^^
"KRN",19.1,118,1,1,0)
This key will allow the holder to update treating specialty
"KRN",19.1,118,1,2,0)
movements while using the 'Enter/Edit a IRT Record' and
"KRN",19.1,118,1,3,0)
the 'Edit a Complete IRT Record' options.
"KRN",19.1,138,-1)
0^1
"KRN",19.1,138,0)
DGJ CLERK SUPER
"KRN",19.1,138,1,0)
^^3^3^2930312^
"KRN",19.1,138,1,1,0)
This key allows those individuals authorized to edit a completed IRT or
"KRN",19.1,138,1,2,0)
delete an IRT to have those options appear on their menu for the IRT
"KRN",19.1,138,1,3,0)
package.
"KRN",101,104,-1)
0^17
"KRN",101,104,0)
DGJ INCOMPLETE EVENT^Incomplete Records Event Driver^^X^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,104,1,0)
^^3^3^2910813^^^^
"KRN",101,104,1,1,0)
This option adds a record to the Incomplete Records file
"KRN",101,104,1,2,0)
upon discharge of a patient. It will stuff in all the
"KRN",101,104,1,3,0)
pertinant data that is needed for this file.
"KRN",101,104,5)
DGJ INCOMPLETE EVENT;DIC(19,
"KRN",101,104,20)
D ^DGJTEVT
"KRN",101,104,99)
58846,34454
"KRN",101,582,-1)
0^12
"KRN",101,582,0)
DGJ ENTER/EDIT DEFICIENCY MENU^Records Deficiencies Menu^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,582,1,0)
^^1^1^2940119^^^^
"KRN",101,582,1,1,0)
This menu contains all the activities for the IRT DEFICIENCY TRACKING option
"KRN",101,582,4)
26^4^^RD
"KRN",101,582,10,0)
^101.01PA^30^30
"KRN",101,582,10,10,0)
592^DE^12^
"KRN",101,582,10,10,"^")
DGJ IRT EDIT DEFICIENCY
"KRN",101,582,10,11,0)
593^EN^11^
"KRN",101,582,10,11,"^")
DGJ IRT ENTER DEFICIENCY
"KRN",101,582,10,12,0)
596^EP^13^
"KRN",101,582,10,12,"^")
DGJ IRT EXP
"KRN",101,582,10,13,0)
597^PT^22^
"KRN",101,582,10,13,"^")
DGJ CHNG PAT
"KRN",101,582,10,16,0)
632^TS^21^
"KRN",101,582,10,16,"^")
DGJ TS UPDATE
"KRN",101,582,10,27,0)
700^CE^31^
"KRN",101,582,10,27,"^")
DGJ EDIT COMP IRT SUPER
"KRN",101,582,10,28,0)
702^DL^23^
"KRN",101,582,10,28,"^")
DGJ DELETE SUPER
"KRN",101,582,10,29,0)
704^JC^29^
"KRN",101,582,10,29,"^")
DGJ JUMP CATEG
"KRN",101,582,10,30,0)
787^QC^30^
"KRN",101,582,10,30,"^")
DGJ IRT COMPLETE DEF
"KRN",101,582,15)
K DGJTHFLG
"KRN",101,582,20)
S DGJTHFLG="EN"
"KRN",101,582,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,582,26)
D SHOW^VALM
"KRN",101,582,28)
Select Action:
"KRN",101,582,99)
58846,34454
"KRN",101,592,-1)
0^20
"KRN",101,592,0)
DGJ IRT EDIT DEFICIENCY^Edit Deficiencies^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,592,1,0)
^^3^3^2921008^^
"KRN",101,592,1,1,0)
This protocol is the action to edit a record deficiency.  This action is
"KRN",101,592,1,2,0)
associated with the protocol menu for entering and editing all deficiencies
"KRN",101,592,1,3,0)
for a patients record.
"KRN",101,592,15)

"KRN",101,592,20)
D NEW^DGJTEE
"KRN",101,592,99)
58846,34454
"KRN",101,593,-1)
0^23
"KRN",101,593,0)
DGJ IRT ENTER DEFICIENCY^Enter a Deficiency^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,593,1,0)
^^2^2^2921008^^
"KRN",101,593,1,1,0)
This protocol is the action to enter a record deficiency. It is an action
"KRN",101,593,1,2,0)
under the Enter/Edit Deficiencies protocol menu.
"KRN",101,593,4)
^^^EN
"KRN",101,593,20)
D NEW1^DGJTEE
"KRN",101,593,99)
58846,34454
"KRN",101,594,-1)
0^27
"KRN",101,594,0)
DGJ IRT SUMMARIES^IRT Summary/Report Edit Menu^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,594,1,0)
^^3^3^2921202^^^^
"KRN",101,594,1,1,0)
This menu contains all the activities for updating an IRT record if it
"KRN",101,594,1,2,0)
is an op report, interim or discharge summary.  This menu is called by the
"KRN",101,594,1,3,0)
protocol action of editing a deficiency.
"KRN",101,594,2,0)
^101.02A^2^2
"KRN",101,594,2,1,0)
IRT Reports Edit Menu
"KRN",101,594,2,2,0)
IRT Records Edit
"KRN",101,594,2,"B","IRT Records Edit",2)

"KRN",101,594,2,"B","IRT Reports Edit Menu",1)

"KRN",101,594,4)
26^4^^RD
"KRN",101,594,10,0)
^101.01PA^19^19
"KRN",101,594,10,1,0)
595^1G^12^
"KRN",101,594,10,1,"^")
DGJ EDIT SUMMARY/REPORT
"KRN",101,594,10,16,0)
625^2G^12^
"KRN",101,594,10,16,"^")
DGJ GROUP 2 EDIT
"KRN",101,594,10,17,0)
626^3G^13^
"KRN",101,594,10,17,"^")
DGJ GROUP 3 EDIT
"KRN",101,594,10,18,0)
627^4G^14^
"KRN",101,594,10,18,"^")
DGJ GROUP 4 EDIT
"KRN",101,594,10,19,0)
629^EA^15^
"KRN",101,594,10,19,"^")
DGJ ALL GROUP EDIT
"KRN",101,594,20)

"KRN",101,594,26)
D SHOW^VALM
"KRN",101,594,28)
Select Action:
"KRN",101,594,99)
58846,34454
"KRN",101,595,-1)
0^11
"KRN",101,595,0)
DGJ EDIT SUMMARY/REPORT^IRT Group 1 Edit^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,595,1,0)
^^5^5^2930527^^^^
"KRN",101,595,1,1,0)
This protocol is the action to edit a specific IRT record. This is an action
"KRN",101,595,1,2,0)
attached to the protocol menu that is called when a record deficiency is
"KRN",101,595,1,3,0)
an op report, interim summary or discharge summary and the deficiency is 
"KRN",101,595,1,4,0)
being edited.  This is the action that allows the IRT record to be updated
"KRN",101,595,1,5,0)
as well as the deficiency.
"KRN",101,595,4)
^^^RC
"KRN",101,595,10,0)
^101.01PA^1^1
"KRN",101,595,10,1,0)
679^^24^
"KRN",101,595,10,1,"^")
DGJ DELETE DEFICIENCY
"KRN",101,595,20)
S (X,DGJTNUM)=1 D EDIT^DGJTVW1
"KRN",101,595,99)
58846,34454
"KRN",101,596,-1)
0^25
"KRN",101,596,0)
DGJ IRT EXP^Expand Deficiency^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,596,1,0)
^^4^4^2921008^^
"KRN",101,596,1,1,0)
This protocol is the action to expand a selection.  When a selection is
"KRN",101,596,1,2,0)
chosen this action will display all the data in the file. If the selection
"KRN",101,596,1,3,0)
is an OP report, interim summary,  or discharge summary, the IRT record
"KRN",101,596,1,4,0)
associated with that selection will be displayed also.
"KRN",101,596,2,0)
^101.02A^2^2
"KRN",101,596,2,1,0)
EX
"KRN",101,596,2,2,0)
EP
"KRN",101,596,2,"B","EP",2)

"KRN",101,596,2,"B","EX",1)

"KRN",101,596,4)
^^^ED
"KRN",101,596,20)
D EXP^DGJTEE1
"KRN",101,596,99)
58846,34454
"KRN",101,597,-1)
0^2
"KRN",101,597,0)
DGJ CHNG PAT^Change Patient^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,597,1,0)
^^1^1^2921008^^
"KRN",101,597,1,1,0)
This protocol is the action to change a patient.
"KRN",101,597,4)
^^^CD
"KRN",101,597,15)

"KRN",101,597,20)
D PAT1^DGJTEE1
"KRN",101,597,26)
D HDR^DGJTEE
"KRN",101,597,99)
58846,34454
"KRN",101,602,-1)
0^13
"KRN",101,602,0)
DGJ ENTER/EDIT RECORDS MENU^Enter/Edit Records Menu^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,602,1,0)
^^3^3^2921008^^^^
"KRN",101,602,1,1,0)
This menu contains all the actions for the IRT Record Summary Tracking
"KRN",101,602,1,2,0)
option.  This is the protocol menu that controls the actions for entering a
"KRN",101,602,1,3,0)
new IRT record and editing an already existing IRT record.
"KRN",101,602,4)
26^4^^ee
"KRN",101,602,10,0)
^101.01PA^22^22
"KRN",101,602,10,12,0)
596^EP^13^
"KRN",101,602,10,12,"^")
DGJ IRT EXP
"KRN",101,602,10,13,0)
597^PT^22^
"KRN",101,602,10,13,"^")
DGJ CHNG PAT
"KRN",101,602,10,14,0)
603^EN^11^
"KRN",101,602,10,14,"^")
DGJ IRT ENTER RECORD
"KRN",101,602,10,15,0)
604^DE^12^
"KRN",101,602,10,15,"^")
DGJ IRT EDIT RECORD
"KRN",101,602,10,18,0)
632^TS^21^
"KRN",101,602,10,18,"^")
DGJ TS UPDATE
"KRN",101,602,10,20,0)
700^CE^31^
"KRN",101,602,10,20,"^")
DGJ EDIT COMP IRT SUPER
"KRN",101,602,10,21,0)
702^DL^23^
"KRN",101,602,10,21,"^")
DGJ DELETE SUPER
"KRN",101,602,10,22,0)
704^JC^29^
"KRN",101,602,10,22,"^")
DGJ JUMP CATEG
"KRN",101,602,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,602,26)
D SHOW^VALM
"KRN",101,602,28)
Select Action:
"KRN",101,602,99)
58846,34454
"KRN",101,603,-1)
0^24
"KRN",101,603,0)
DGJ IRT ENTER RECORD^Enter IRT Record^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,603,.1)
EN
"KRN",101,603,1,0)
^^2^2^2921008^^
"KRN",101,603,1,1,0)
This protocol is the action to enter a new IRT record.  It is an action
"KRN",101,603,1,2,0)
under the Enter/Edit a Record protocol menu.
"KRN",101,603,2,0)
^101.02A^1^1
"KRN",101,603,2,1,0)
EN
"KRN",101,603,2,"B","EN",1)

"KRN",101,603,4)
^^^EN
"KRN",101,603,20)
D NEW1^DGJTEE
"KRN",101,603,26)
D HDR^DGJTEE
"KRN",101,603,99)
58846,34454
"KRN",101,604,-1)
0^22
"KRN",101,604,0)
DGJ IRT EDIT RECORD^Edit IRT Record^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,604,1,0)
^^2^2^2921008^^
"KRN",101,604,1,1,0)
This protocol is the action to edit an IRT record under the Enter/Edit an
"KRN",101,604,1,2,0)
IRT Record protocol menu.
"KRN",101,604,2,0)
^101.02A^1^1
"KRN",101,604,2,1,0)
DE
"KRN",101,604,2,"B","DE",1)

"KRN",101,604,4)
^^^DE
"KRN",101,604,20)
D NEW^DGJTEE
"KRN",101,604,26)
D HDR^DGJTEE
"KRN",101,604,99)
58846,34454
"KRN",101,625,-1)
0^14
"KRN",101,625,0)
DGJ GROUP 2 EDIT^IRT Group 2 Edit^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,625,1,0)
^^2^2^2930106^^^
"KRN",101,625,1,1,0)
This protocol is an action that allows the editing of the data in group 2 of
"KRN",101,625,1,2,0)
the Incomplete Records screen when editing an IRT report.
"KRN",101,625,4)
^^^G2
"KRN",101,625,20)
S DGJTNUM=2 D EDIT^DGJTVW1
"KRN",101,625,99)
58846,34454
"KRN",101,626,-1)
0^15
"KRN",101,626,0)
DGJ GROUP 3 EDIT^IRT Group 3 Edit^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,626,1,0)
^^2^2^2930106^^^^
"KRN",101,626,1,1,0)
This protocol is an action that allows the editing of the data in group 3 of
"KRN",101,626,1,2,0)
the Incomplete Records screen when editing an IRT report.
"KRN",101,626,4)
^^^G3
"KRN",101,626,20)
S (X,DGJTNUM)=3 D EDIT^DGJTVW1
"KRN",101,626,99)
58846,34454
"KRN",101,627,-1)
0^16
"KRN",101,627,0)
DGJ GROUP 4 EDIT^IRT Group 4 Edit^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,627,1,0)
^^2^2^2921201^^^^
"KRN",101,627,1,1,0)
This protocol is an action that allows the editing of the data in group 4 of
"KRN",101,627,1,2,0)
the Incomplete Records screen when editing an IRT report.
"KRN",101,627,4)
^^^G4
"KRN",101,627,20)
S (X,DGJTNUM)=4 D EDIT^DGJTVW1
"KRN",101,627,99)
58846,34454
"KRN",101,629,-1)
0^1
"KRN",101,629,0)
DGJ ALL GROUP EDIT^Edit All^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,629,1,0)
^^2^2^2930113^^^^
"KRN",101,629,1,1,0)
This protocol is an action that allows the editing of the data in all groups
"KRN",101,629,1,2,0)
on the Incomplete Records screen when editing an IRT report.
"KRN",101,629,4)
^^^EA
"KRN",101,629,20)
D ALLEDIT^DGJTVW1
"KRN",101,629,21,0)
^101.021A
"KRN",101,629,99)
58846,34454
"KRN",101,632,-1)
0^30
"KRN",101,632,0)
DGJ TS UPDATE^Treating Spec. Update^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,632,1,0)
^^3^3^2930113^^^
"KRN",101,632,1,1,0)
This protocol is the action to update the Treating Specialty and Primary and 
"KRN",101,632,1,2,0)
Attending physicians for the IRT package and ADT without exiting the IRT
"KRN",101,632,1,3,0)
enter/edit option.
"KRN",101,632,4)
^^^TS
"KRN",101,632,15)
K DGJTSEDT
"KRN",101,632,20)
S DGJTSEDT=1 D TS^DGJTUTL
"KRN",101,632,24)
I DGJTSR1=1
"KRN",101,632,26)
D HDR^DGJTEE
"KRN",101,632,99)
58846,34454
"KRN",101,679,-1)
0^4
"KRN",101,679,0)
DGJ DELETE DEFICIENCY^Delete a Deficiency^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,679,15)
K DGJTDELE
"KRN",101,679,20)
S DGJTDELE=1 D OKD^DGJTDEL
"KRN",101,679,99)
58846,34454
"KRN",101,693,-1)
0^5
"KRN",101,693,0)
DGJ DELETE MENU^Delete a Record Menu^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,693,4)
26^4
"KRN",101,693,10,0)
^101.01PA^3^3
"KRN",101,693,10,2,0)
596^EP^14^
"KRN",101,693,10,2,"^")
DGJ IRT EXP
"KRN",101,693,10,3,0)
703^DL^11^
"KRN",101,693,10,3,"^")
DGJ DELETE SUPER2
"KRN",101,693,15)
K DGJTHFLG
"KRN",101,693,20)
S DGJTHFLG="DL"
"KRN",101,693,26)
D SHOW^VALM
"KRN",101,693,28)
Select Action:
"KRN",101,693,99)
58846,34454
"KRN",101,698,-1)
0^3
"KRN",101,698,0)
DGJ COMPLETE EDIT MENU^Edit a Completed IRT Menu^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,698,4)
26^4^^Completed IRT Entry
"KRN",101,698,10,0)
^101.01PA^3^3
"KRN",101,698,10,2,0)
596^EP^14^
"KRN",101,698,10,2,"^")
DGJ IRT EXP
"KRN",101,698,10,3,0)
701^CE^11^
"KRN",101,698,10,3,"^")
DGJ EDIT COMP SUPER2
"KRN",101,698,15)
K DGJTCOM,DGJTHFLG
"KRN",101,698,20)
S DGJTCOM=1,DGJTHFLG="CE"
"KRN",101,698,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,698,26)
D SHOW^VALM
"KRN",101,698,28)
Select Action:
"KRN",101,698,99)
58846,34454
"KRN",101,699,-1)
0^8
"KRN",101,699,0)
DGJ EDIT COMP IRT SINGLE^Edit a Completed IRT^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,699,4)
^^^Edit a Complete IRt
"KRN",101,699,15)

"KRN",101,699,20)
D NEW^DGJTEE
"KRN",101,699,99)
58846,34454
"KRN",101,700,-1)
0^9
"KRN",101,700,0)
DGJ EDIT COMP IRT SUPER^Complete IRT Edit Menu^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,700,4)
80^^^EC
"KRN",101,700,15)
K DGJTCOM D REP^DGJTEE
"KRN",101,700,20)
S DGJTCOM=1 D START4^DGJTEE
"KRN",101,700,24)

"KRN",101,700,99)
58846,34454
"KRN",101,701,-1)
0^10
"KRN",101,701,0)
DGJ EDIT COMP SUPER2^Complete IRT Edit^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,701,4)
^^^CE
"KRN",101,701,15)
K DGJTCOM
"KRN",101,701,20)
D NEW^DGJTEE
"KRN",101,701,24)
I $D(^XUSEC("DGJ SUPER",DUZ))!$D(DGJTOPT)
"KRN",101,701,99)
58846,34454
"KRN",101,702,-1)
0^6
"KRN",101,702,0)
DGJ DELETE SUPER^IRT Delete Menu^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,702,4)
^^^LD
"KRN",101,702,15)
K DGJTDLT D REP^DGJTEE
"KRN",101,702,20)
S DGJTDLT=1 D START5^DGJTEE
"KRN",101,702,24)
I $D(^XUSEC("DGJ SUPER",DUZ))
"KRN",101,702,99)
58846,34454
"KRN",101,703,-1)
0^7
"KRN",101,703,0)
DGJ DELETE SUPER2^Delete an IRT^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,703,4)
80^^^LD
"KRN",101,703,20)
D OKD^DGJTDEL
"KRN",101,703,99)
58846,34454
"KRN",101,704,-1)
0^29
"KRN",101,704,0)
DGJ JUMP CATEG^Jump to a Category^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,704,4)
^^^JC
"KRN",101,704,20)
D JUMP^DGJTEE3
"KRN",101,704,99)
58846,34454
"KRN",101,787,-1)
0^19
"KRN",101,787,0)
DGJ IRT COMPLETE DEF^Quick Complete of Def.^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,787,4)
^^^QC
"KRN",101,787,20)
D QUICMP^DGJTEE2
"KRN",101,787,99)
58846,34454
"KRN",101,788,-1)
0^26
"KRN",101,788,0)
DGJ IRT PARM ENTER/EDIT MENU^Enter/Edit IRT Def. Parameters^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,788,1,0)
^^3^3^2940119^^^^
"KRN",101,788,1,1,0)
This menu contains all the actions for the IRT Record Summary Tracking
"KRN",101,788,1,2,0)
option.  This is the protocol menu that controls the actions for entering a
"KRN",101,788,1,3,0)
new IRT record and editing an already existing IRT record.
"KRN",101,788,4)
26^4^^DP
"KRN",101,788,10,0)
^101.01PA^22^16
"KRN",101,788,10,14,0)
790^EN^11^
"KRN",101,788,10,14,"^")
DGJ IRT ADD DEF. PARMS
"KRN",101,788,10,15,0)
789^DE^12^
"KRN",101,788,10,15,"^")
DGJ IRT EDIT PARMS
"KRN",101,788,10,22,0)
704^JC^21^
"KRN",101,788,10,22,"^")
DGJ JUMP CATEG
"KRN",101,788,15)
K DGJTHFLG
"KRN",101,788,20)
S DGJTHFLG="AD"
"KRN",101,788,24)
I 1 X:$D(^ORD(101,+$P(^ORD(101,DA(1),10,DA,0),"^",1),24)) ^(24)
"KRN",101,788,26)
D SHOW^VALM
"KRN",101,788,28)
Select Action:
"KRN",101,788,99)
58846,34454
"KRN",101,789,-1)
0^21
"KRN",101,789,0)
DGJ IRT EDIT PARMS^Edit Def. Parms.^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,789,4)
^^^DE
"KRN",101,789,20)
D EDIT^DGJPAR1
"KRN",101,789,99)
58846,34454
"KRN",101,790,-1)
0^18
"KRN",101,790,0)
DGJ IRT ADD DEF. PARMS^Add Def. Parms.^^A^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,790,4)
^^^EN
"KRN",101,790,20)
D EN^DGJTADD
"KRN",101,790,99)
58846,34454
"KRN",101,1109,-1)
0^28
"KRN",101,1109,0)
DGJ IRT VIEW MENU^View an IRT Record Menu^^M^^^^^^^^INCOMPLETE RECORDS TRACKING
"KRN",101,1109,4)
26^4
"KRN",101,1109,10,0)
^101.01PA^3^3
"KRN",101,1109,10,1,0)
597^PT^21^
"KRN",101,1109,10,1,"^")
DGJ CHNG PAT
"KRN",101,1109,10,2,0)
596^EP^11^
"KRN",101,1109,10,2,"^")
DGJ IRT EXP
"KRN",101,1109,10,3,0)
704^JC^31^
"KRN",101,1109,10,3,"^")
DGJ JUMP CATEG
"KRN",101,1109,15)
K DGJTHFLG
"KRN",101,1109,20)
S DGJTHFLG="VW"
"KRN",101,1109,26)
D SHOW^VALM
"KRN",101,1109,28)
Select Action:
"KRN",101,1109,99)
58846,34455
"KRN",409.61,35,-1)
0^4
"KRN",409.61,35,0)
DGJ DEFICIENCY LIST^1^^^5^17^1^1^Deficiencie^DGJ ENTER/EDIT DEFICIENCY MENU^Record Deficiency list^2
"KRN",409.61,35,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,35,"ARRAY")
 ^TMP("DGJDEF",$J)
"KRN",409.61,35,"COL",0)
^409.621^5^5
"KRN",409.61,35,"COL",1,0)
DEFICIENCY^5^12^Deficiency
"KRN",409.61,35,"COL",2,0)
PHYSICIAN^19^10^Physician
"KRN",409.61,35,"COL",3,0)
STATUS^37^10^Status
"KRN",409.61,35,"COL",4,0)
CATEGORY^50^10^Category
"KRN",409.61,35,"COL",5,0)
EVENT DATE^62^18^Event Date
"KRN",409.61,35,"COL","B","CATEGORY",4)

"KRN",409.61,35,"COL","B","DEFICIENCY",1)

"KRN",409.61,35,"COL","B","EVENT DATE",5)

"KRN",409.61,35,"COL","B","PHYSICIAN",2)

"KRN",409.61,35,"COL","B","STATUS",3)

"KRN",409.61,35,"FNL")
D FNL^DGJTEE
"KRN",409.61,35,"HDR")
D HDR^DGJTEE
"KRN",409.61,35,"HLP")
D HLP^DGJTHLP
"KRN",409.61,35,"INIT")
D EN^DGJTEE
"KRN",409.61,36,-1)
0^12
"KRN",409.61,36,0)
DGJ IRT REC ENTER^1^^^5^17^1^1^Record^DGJ IRT SUMMARIES^New IRT Record^2
"KRN",409.61,36,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,36,"ARRAY")
 ^TMP("DGJRPT",$J)
"KRN",409.61,36,"COL",0)
^409.621
"KRN",409.61,36,"FNL")
D QUIT1^DGJTVW1
"KRN",409.61,36,"HDR")
D HDR^DGJTEE
"KRN",409.61,36,"INIT")
D ^DGJTVW1
"KRN",409.61,37,-1)
0^11
"KRN",409.61,37,0)
DGJ IRT REC EDIT^1^^^5^17^1^1^Report^DGJ IRT SUMMARIES^Edit IRT Record^3
"KRN",409.61,37,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,37,"ARRAY")
 ^TMP("DGJRPT",$J)
"KRN",409.61,37,"COL",0)
^409.621^^0
"KRN",409.61,37,"FNL")
D QUIT1^DGJTVW1
"KRN",409.61,37,"HDR")
D HDR^DGJTEE
"KRN",409.61,37,"HLP")
D HLP1^DGJTHLP
"KRN",409.61,37,"INIT")
D ^DGJTVW1
"KRN",409.61,38,-1)
0^10
"KRN",409.61,38,0)
DGJ EXP ENTRY^2^^^5^17^1^1^Deficiencie^^Expanded Entry^2
"KRN",409.61,38,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,38,"ARRAY")
 ^TMP("DGJRPT",$J)
"KRN",409.61,38,"FNL")
D QUIT1^DGJTVW1
"KRN",409.61,38,"HDR")
D HDR^DGJTEE
"KRN",409.61,38,"INIT")
D EN2^DGJTVW
"KRN",409.61,41,-1)
0^13
"KRN",409.61,41,0)
DGJ IRT RECORD LIST^1^^^5^17^1^1^Record^DGJ ENTER/EDIT RECORDS MENU^Incomplete Records List^2
"KRN",409.61,41,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,41,"ARRAY")
 ^TMP("DGJDEF",$J)
"KRN",409.61,41,"COL",0)
^409.621^5^5
"KRN",409.61,41,"COL",1,0)
RECORD TYPE^5^12^Record Type
"KRN",409.61,41,"COL",2,0)
PHYSICIAN^19^10^Physician
"KRN",409.61,41,"COL",3,0)
STATUS^37^10^Status
"KRN",409.61,41,"COL",4,0)
CATEGORY^50^10^Category
"KRN",409.61,41,"COL",5,0)
EVENT DATE^62^18^Event Date
"KRN",409.61,41,"COL","B","CATEGORY",4)

"KRN",409.61,41,"COL","B","EVENT DATE",5)

"KRN",409.61,41,"COL","B","PHYSICIAN",2)

"KRN",409.61,41,"COL","B","RECORD TYPE",1)

"KRN",409.61,41,"COL","B","STATUS",3)

"KRN",409.61,41,"FNL")
D FNL^DGJTEE
"KRN",409.61,41,"HDR")
D HDR^DGJTEE
"KRN",409.61,41,"HLP")
D HLP^DGJTHLP
"KRN",409.61,41,"INIT")
S DGJTREC=1 D EN^DGJTEE
"KRN",409.61,49,-1)
0^3
"KRN",409.61,49,0)
DGJ DEF EDIT^1^^^5^17^1^1^Deficiencie^DGJ IRT SUMMARIES^Edit IRT Deficiency^3
"KRN",409.61,49,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,49,"ARRAY")
 ^TMP("DGJRPT",$J)
"KRN",409.61,49,"FNL")
K DGJTDEF
"KRN",409.61,49,"HDR")
D HDR^DGJTEE
"KRN",409.61,49,"HLP")
D HLP1^DGJTHLP
"KRN",409.61,49,"INIT")
S DGJTDEF=1 D ^DGJTVW3
"KRN",409.61,54,-1)
0^6
"KRN",409.61,54,0)
DGJ DELETE RECORD^2^^^5^17^1^1^Deficiencie^^Record to Delete^2
"KRN",409.61,54,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,54,"ARRAY")
 ^TMP("DGJRPT",$J)
"KRN",409.61,54,"FNL")
D QUIT1^DGJTVW1
"KRN",409.61,54,"HDR")
D HDR^DGJTEE
"KRN",409.61,54,"INIT")
D EN2^DGJTVW
"KRN",409.61,55,-1)
0^5
"KRN",409.61,55,0)
DGJ DELETE DEFICIENCY^2^^^5^17^1^1^Deficiencie^^Deficiency to Delete^2
"KRN",409.61,55,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,55,"ARRAY")
 ^TMP("DGJRPT",$J)
"KRN",409.61,55,"FNL")
D QUIT1^DGJTVW1
"KRN",409.61,55,"HDR")
D HDR^DGJTEE
"KRN",409.61,55,"INIT")
D ^DGJTVW3
"KRN",409.61,59,-1)
0^7
"KRN",409.61,59,0)
DGJ DELETE SINGLE^1^^80^5^17^1^1^Deficiencie^DGJ DELETE MENU^Delete an IRT List^1
"KRN",409.61,59,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,59,"ARRAY")
 ^TMP("DGJDEF",$J)
"KRN",409.61,59,"COL",0)
^409.621^5^5
"KRN",409.61,59,"COL",1,0)
DEFICIENCY^5^12^Deficiency
"KRN",409.61,59,"COL",2,0)
PHYSICIAN^19^10^Physician
"KRN",409.61,59,"COL",3,0)
STATUS^37^10^Status
"KRN",409.61,59,"COL",4,0)
CATEGORY^50^10^Category
"KRN",409.61,59,"COL",5,0)
EVENT DATE^62^18^Event Date
"KRN",409.61,59,"COL","B","CATEGORY",4)

"KRN",409.61,59,"COL","B","DEFICIENCY",1)

"KRN",409.61,59,"COL","B","EVENT DATE",5)

"KRN",409.61,59,"COL","B","PHYSICIAN",2)

"KRN",409.61,59,"COL","B","STATUS",3)

"KRN",409.61,59,"FNL")
D FNL^DGJTEE
"KRN",409.61,59,"HDR")
D HDR^DGJTEE
"KRN",409.61,59,"HLP")
D HLP^DGJTHLP
"KRN",409.61,59,"INIT")
D EN^DGJTEE
"KRN",409.61,60,-1)
0^1
"KRN",409.61,60,0)
DGJ COMP EDIT SINGLE^1^^80^5^17^1^1^Deficiencie^DGJ COMPLETE EDIT MENU^Edit a Completed IRT^1
"KRN",409.61,60,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,60,"ARRAY")
 ^TMP("DGJDEF",$J)
"KRN",409.61,60,"COL",0)
^409.621^5^5
"KRN",409.61,60,"COL",1,0)
DEFICIENCY^5^12^Deficiency
"KRN",409.61,60,"COL",2,0)
PHYSICIAN^19^10^Physician
"KRN",409.61,60,"COL",3,0)
STATUS^37^10^Status
"KRN",409.61,60,"COL",4,0)
CATEGORY^50^10^Category
"KRN",409.61,60,"COL",5,0)
EVENT DATE^62^18^Event Date
"KRN",409.61,60,"COL","B","CATEGORY",4)

"KRN",409.61,60,"COL","B","DEFICIENCY",1)

"KRN",409.61,60,"COL","B","EVENT DATE",5)

"KRN",409.61,60,"COL","B","PHYSICIAN",2)

"KRN",409.61,60,"COL","B","STATUS",3)

"KRN",409.61,60,"FNL")
D FNL^DGJTEE
"KRN",409.61,60,"HDR")
D HDR^DGJTEE
"KRN",409.61,60,"HLP")
D HLP^DGJTHLP
"KRN",409.61,60,"INIT")
D EN^DGJTEE
"KRN",409.61,61,-1)
0^2
"KRN",409.61,61,0)
DGJ COMP EDIT SUPER^1^^80^5^17^1^1^Deficiencie^DGJ COMPLETE EDIT MENU^Edit a Completed IRT^1
"KRN",409.61,61,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,61,"ARRAY")
 ^TMP("DGJDEF",$J)
"KRN",409.61,61,"COL",0)
^409.621^5^5
"KRN",409.61,61,"COL",1,0)
DEFICIENCY^5^12^Deficiency
"KRN",409.61,61,"COL",2,0)
PHYSICIAN^19^10^Physician
"KRN",409.61,61,"COL",3,0)
STATUS^37^10^Status
"KRN",409.61,61,"COL",4,0)
CATEGORY^50^10^Category
"KRN",409.61,61,"COL",5,0)
EVENT DATE^62^18^Event Date
"KRN",409.61,61,"COL","B","CATEGORY",4)

"KRN",409.61,61,"COL","B","DEFICIENCY",1)

"KRN",409.61,61,"COL","B","EVENT DATE",5)

"KRN",409.61,61,"COL","B","PHYSICIAN",2)

"KRN",409.61,61,"COL","B","STATUS",3)

"KRN",409.61,61,"FNL")
K DGJTCOM
"KRN",409.61,61,"HDR")
D HDR^DGJTEE
"KRN",409.61,61,"HLP")
D HLP^DGJTHLP
"KRN",409.61,61,"INIT")
D EVDT^DGJTEE
"KRN",409.61,62,-1)
0^8
"KRN",409.61,62,0)
DGJ DELETE SUPER^1^^80^5^17^1^1^Deficiencie^DGJ DELETE MENU^Delete an IRT^1
"KRN",409.61,62,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,62,"ARRAY")
 ^TMP("DGJDEF",$J)
"KRN",409.61,62,"COL",0)
^409.621^5^5
"KRN",409.61,62,"COL",1,0)
DEFICIENCY^5^12^Deficiency
"KRN",409.61,62,"COL",2,0)
PHYSICIAN^19^10^Physician
"KRN",409.61,62,"COL",3,0)
STATUS^37^10^Status
"KRN",409.61,62,"COL",4,0)
CATEGORY^50^10^Category
"KRN",409.61,62,"COL",5,0)
EVENT DATE^62^18^Event Date
"KRN",409.61,62,"COL","B","CATEGORY",4)

"KRN",409.61,62,"COL","B","DEFICIENCY",1)

"KRN",409.61,62,"COL","B","EVENT DATE",5)

"KRN",409.61,62,"COL","B","PHYSICIAN",2)

"KRN",409.61,62,"COL","B","STATUS",3)

"KRN",409.61,62,"FNL")

"KRN",409.61,62,"HDR")
D HDR^DGJTEE
"KRN",409.61,62,"HLP")
D HLP^DGJTHLP
"KRN",409.61,62,"INIT")
D EVDT^DGJTEE
"KRN",409.61,69,-1)
0^9
"KRN",409.61,69,0)
DGJ ENTER/EDIT DEF. PARMS.^1^^^5^17^1^1^Deficiencie^DGJ IRT PARM ENTER/EDIT MENU^Deficiency Parameter List^2
"KRN",409.61,69,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,69,"ARRAY")
 ^TMP("DGJDEF",$J)
"KRN",409.61,69,"COL",0)
^409.621^6^4
"KRN",409.61,69,"COL",1,0)
DEFICIENCY^5^20^Deficiency^
"KRN",409.61,69,"COL",4,0)
CATEGORY^60^20^Category
"KRN",409.61,69,"COL",5,0)
TRACK DEF^28^12^Track Def.?
"KRN",409.61,69,"COL",6,0)
STANDARD DEF^44^14^Standard Def.?
"KRN",409.61,69,"COL","B","CATEGORY",4)

"KRN",409.61,69,"COL","B","DEFICIENCY",1)

"KRN",409.61,69,"COL","B","STANDARD DEF",6)

"KRN",409.61,69,"COL","B","TRACK DEF",5)

"KRN",409.61,69,"FNL")
D QUIT^DGJPAR1
"KRN",409.61,69,"HDR")

"KRN",409.61,69,"HLP")
D HLP^DGJTHLP
"KRN",409.61,69,"INIT")
D EVDT^DGJPAR1
"KRN",409.61,132,-1)
0^14
"KRN",409.61,132,0)
DGJ IRT VIEW^1^^80^5^17^1^1^Deficiencie^DGJ IRT VIEW MENU^View an IRT Record^1
"KRN",409.61,132,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,132,"ARRAY")
 ^TMP("DGJDEF",$J)
"KRN",409.61,132,"COL",0)
^409.621^5^5
"KRN",409.61,132,"COL",1,0)
DEFICIENCY^5^12^Deficiency^^0
"KRN",409.61,132,"COL",2,0)
PHYSICIAN^19^10^Physician^^0
"KRN",409.61,132,"COL",3,0)
STATUS^37^10^Status^^0
"KRN",409.61,132,"COL",4,0)
CATEGORY^50^10^Category^^0
"KRN",409.61,132,"COL",5,0)
EVENT DATE^62^18^Event Date^^0
"KRN",409.61,132,"COL","AIDENT",0,1)

"KRN",409.61,132,"COL","AIDENT",0,2)

"KRN",409.61,132,"COL","AIDENT",0,3)

"KRN",409.61,132,"COL","AIDENT",0,4)

"KRN",409.61,132,"COL","AIDENT",0,5)

"KRN",409.61,132,"COL","B","CATEGORY",4)

"KRN",409.61,132,"COL","B","DEFICIENCY",1)

"KRN",409.61,132,"COL","B","EVENT DATE",5)

"KRN",409.61,132,"COL","B","PHYSICIAN",2)

"KRN",409.61,132,"COL","B","STATUS",3)

"KRN",409.61,132,"FNL")
D FNL^DGJTEE
"KRN",409.61,132,"HDR")
D HDR^DGJTEE
"KRN",409.61,132,"HLP")
D HLP^DGJTHLP
"KRN",409.61,132,"INIT")
D EN^DGJTEE
"MBREQ")
0
"ORD",3,19.1)
19.1;3;1;;KEY^XPDTA1;;;;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",17,409.61)
409.61;17;1;;;;;;;LMDEL^XPDIA1
"ORD",17,409.61,0)
LIST TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",553,-1)
1^1
"PKG",553,0)
INCOMPLETE RECORDS TRACKING^DGJ^IRT
"PKG",553,5)
ALBANY ISC
"PKG",553,20,0)
^9.402P^^
"PKG",553,22,0)
^9.49I^1^1
"PKG",553,22,1,0)
1.0^3020312^3020211^100884
"PKG",553,22,1,1,0)
^^2^2^3020312
"PKG",553,22,1,1,1,0)
Breakout of Incomplete Records Tracking (DGJ 1.0) package from the
"PKG",553,22,1,1,2,0)
Registration namespace (DG).
"PKG",553,"DEV")
MRY
"PKG",553,"VERSION")
1.0
"PRE")
DGJ1INIT
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
37
"RTN","DGJ1INIP")
0^37^B10301972
"RTN","DGJ1INIP",1,0)
DGJ1INIP ;ALB/MRY - Post-install of DGJ v1.0 ;[ 11/21/01 13:20 pm]
"RTN","DGJ1INIP",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25,  2001
"RTN","DGJ1INIP",3,0)
 ;
"RTN","DGJ1INIP",4,0)
 ; Update PACKAGE (#2) File fields not updated by the KIDS install.
"RTN","DGJ1INIP",5,0)
 ; Used for documentation purposes.
"RTN","DGJ1INIP",6,0)
 ;
"RTN","DGJ1INIP",7,0)
 D BMES^XPDUTL(" ")
"RTN","DGJ1INIP",8,0)
 D MES^XPDUTL("   Updating PACKAGE File...")
"RTN","DGJ1INIP",9,0)
 ;
"RTN","DGJ1INIP",10,0)
PKG ; Retrieve 'DGJ' Package name
"RTN","DGJ1INIP",11,0)
 ; Get Package IEN
"RTN","DGJ1INIP",12,0)
 D FIND^DIC(9.4,"","@;1","P","DGJ","","C","","","DGJARRY")
"RTN","DGJ1INIP",13,0)
 S (DGJI,DGJIEN)=0
"RTN","DGJ1INIP",14,0)
 F  S DGJI=$O(DGJARRY("DILIST",DGJI)) Q:'DGJI  D
"RTN","DGJ1INIP",15,0)
 . Q:$P($G(DGJARRY("DILIST",DGJI,0)),"^",2)'="DGJ"
"RTN","DGJ1INIP",16,0)
 . S DGJIEN=$P($G(DGJARRY("DILIST",DGJI,0)),"^",1)
"RTN","DGJ1INIP",17,0)
 I 'DGJIEN D  G ABRT^DGJ1INIT
"RTN","DGJ1INIP",18,0)
 . D BMES^XPDUTL(" ")
"RTN","DGJ1INIP",19,0)
 . D MES^XPDUTL("   No Package entry defined - Cannot update!")
"RTN","DGJ1INIP",20,0)
 ;
"RTN","DGJ1INIP",21,0)
UPD ; - Update fields not updated by the KIDS install.
"RTN","DGJ1INIP",22,0)
 ; fields:
"RTN","DGJ1INIP",23,0)
 ;       Short Description (#2); required field
"RTN","DGJ1INIP",24,0)
 ;       Description (#3)      ; word processing field
"RTN","DGJ1INIP",25,0)
 ;       File (#6)             ; multiple
"RTN","DGJ1INIP",26,0)
 ;         Fields              ; multiple
"RTN","DGJ1INIP",27,0)
 ;
"RTN","DGJ1INIP",28,0)
 ; - Replace Short Description (#2) field.
"RTN","DGJ1INIP",29,0)
 K FDATA S FDATA(9.4,DGJIEN_",",2)="IRT"
"RTN","DGJ1INIP",30,0)
 D FILE^DIE("E","FDATA","ERR")
"RTN","DGJ1INIP",31,0)
 D BMES^XPDUTL(" ")
"RTN","DGJ1INIP",32,0)
 D MES^XPDUTL("     SHORT DESCRIPTION field complete.")
"RTN","DGJ1INIP",33,0)
 K FDATA,ERR
"RTN","DGJ1INIP",34,0)
 ;
"RTN","DGJ1INIP",35,0)
 ; - Replace Description (#3) field. Leave blank.
"RTN","DGJ1INIP",36,0)
 D WP^DIE(9.4,DGJIEN_",",3,"K","")
"RTN","DGJ1INIP",37,0)
 D BMES^XPDUTL(" ")
"RTN","DGJ1INIP",38,0)
 D MES^XPDUTL("     DESCRIPTION field complete.")
"RTN","DGJ1INIP",39,0)
 ;
"RTN","DGJ1INIP",40,0)
FILE ; - Replace File (#9.44) field.
"RTN","DGJ1INIP",41,0)
 ;   first remove (delete) existing fields.
"RTN","DGJ1INIP",42,0)
 N DIC K DGJARRY
"RTN","DGJ1INIP",43,0)
 D LIST^DIC(9.44,","_DGJIEN_",","@;.01","P","","","","","","","DGJARRY")
"RTN","DGJ1INIP",44,0)
 S DGJII=0
"RTN","DGJ1INIP",45,0)
 F  S DGJII=$O(DGJARRY("DILIST",DGJII)) Q:'DGJII  D
"RTN","DGJ1INIP",46,0)
 . S DGJFIEN=$P(DGJARRY("DILIST",DGJII,0),"^",1)
"RTN","DGJ1INIP",47,0)
 . S DIE="^DIC(9.4,",DA(1)=DGJIEN,DIE=DIE_DA(1)_",4,"
"RTN","DGJ1INIP",48,0)
 . S DA=+DGJFIEN,DR=".01///@" D ^DIE
"RTN","DGJ1INIP",49,0)
 ;   after old entries deleted, add current File entries
"RTN","DGJ1INIP",50,0)
 F X="40.8","43","405","393","393.1","393.2","393.3","393.41" D
"RTN","DGJ1INIP",51,0)
 . S DIC="^DIC(9.4,",DA(1)=DGJIEN
"RTN","DGJ1INIP",52,0)
 . S DIC=DIC_DA(1)_",4,",DIC(0)="L",DIC("P")=$P(^DD(9.4,6,0),"^",2)
"RTN","DGJ1INIP",53,0)
 . D ^DIC
"RTN","DGJ1INIP",54,0)
 D BMES^XPDUTL(" ")
"RTN","DGJ1INIP",55,0)
 D MES^XPDUTL("     FILE field complete.")
"RTN","DGJ1INIP",56,0)
 ; - Add fields.
"RTN","DGJ1INIP",57,0)
FLDS ; Add FIELD entries to File entries #40.8, #43, #405.
"RTN","DGJ1INIP",58,0)
 ; Add ASSIGN A VERSION NUMBER? entries to File entries #393-393.41.
"RTN","DGJ1INIP",59,0)
 S DIC="^DIC(9.4,",DA(1)=DGJIEN,DIC(0)="X"
"RTN","DGJ1INIP",60,0)
 S DIC=DIC_DA(1)_",4,",DIC("P")=$P(^DD(9.4,6,0),"^",2)
"RTN","DGJ1INIP",61,0)
 F X="40.8","43","405","393","393.1","393.2","393.3","393.41" D
"RTN","DGJ1INIP",62,0)
 . D ^DIC
"RTN","DGJ1INIP",63,0)
 . S DIE=DIC,DA=+Y
"RTN","DGJ1INIP",64,0)
 . I X="40.8" F FLD="100.01","100.02","100.03","100.04","100.05","100.06","100.07","100.08","100.09","100.1","100.2","100.3" S DR="2///"_FLD D ^DIE
"RTN","DGJ1INIP",65,0)
 . I X="43" F FLD="401","513" S DR="2///"_FLD D ^DIE
"RTN","DGJ1INIP",66,0)
 . I X=405 S FLD=60.01 S DR="2///"_FLD D ^DIE
"RTN","DGJ1INIP",67,0)
 . I X[393 S DR="222.2///Y" D ^DIE
"RTN","DGJ1INIP",68,0)
 D BMES^XPDUTL(" ")
"RTN","DGJ1INIP",69,0)
 D MES^XPDUTL("     FIELD field complete.")
"RTN","DGJ1INIP",70,0)
 ;
"RTN","DGJ1INIP",71,0)
XPREF ; Add 'DGJZ' entry to the EXCLUDED NAME SPACE (#919) field of DGJ.
"RTN","DGJ1INIP",72,0)
 S DIC="^DIC(9.4,",DA(1)=DGJIEN
"RTN","DGJ1INIP",73,0)
 S DIC=DIC_DA(1)_",""EX"",",DIC(0)="L",DIC("P")=$P(^DD(9.4,919,0),"^",2)
"RTN","DGJ1INIP",74,0)
 S X="DGJZ" D ^DIC
"RTN","DGJ1INIP",75,0)
 ;
"RTN","DGJ1INIP",76,0)
 ; Add 'DGJ' entry to the EXCLUDED NAME SPACE (#919) field of DG.
"RTN","DGJ1INIP",77,0)
 S DIC="^DIC(9.4,",DIC(0)="X",X="REGISTRATION"
"RTN","DGJ1INIP",78,0)
 D ^DIC I Y<0 D  G ABRT^DGJ1INIT
"RTN","DGJ1INIP",79,0)
 . D BMES^XPDUTL("REGISTRATION PACKAGE HAS NOT BEEN FOUND")
"RTN","DGJ1INIP",80,0)
 . D MES^XPDUTL("CONTACT - PIMS National VISTA Support Team for assistance!")
"RTN","DGJ1INIP",81,0)
 S DA(1)=+Y,DIC=DIC_DA(1)_",""EX"",",DIC(0)="L",DIC("P")=$P(^DD(9.4,919,0),"^",2)
"RTN","DGJ1INIP",82,0)
 S X="DGJ" D ^DIC
"RTN","DGJ1INIP",83,0)
 ;
"RTN","DGJ1INIP",84,0)
EXIT K DIC,DIE,DGJII,DGJFIEN,DGJIEN,X,DA,DGJARRY
"RTN","DGJ1INIP",85,0)
 Q
"RTN","DGJ1INIT")
0^1^B5627700
"RTN","DGJ1INIT",1,0)
DGJ1INIT ;ALB/MRY - Env/Pre/Post-install of DGJ v1.0 ;[ 06/25/01 15:51 pm]
"RTN","DGJ1INIT",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJ1INIT",3,0)
 ;
"RTN","DGJ1INIT",4,0)
EN ;
"RTN","DGJ1INIT",5,0)
 S XPDABORT=""
"RTN","DGJ1INIT",6,0)
 I '$G(DUZ)!($G(DUZ(0))'="@")!('$G(DT))!($G(U)'="^") D  G ABRT
"RTN","DGJ1INIT",7,0)
 . D BMES^XPDUTL("*****")
"RTN","DGJ1INIT",8,0)
 . D MES^XPDUTL("Your programming variables are not set up properly.")
"RTN","DGJ1INIT",9,0)
 . D MES^XPDUTL("Installation aborted.")
"RTN","DGJ1INIT",10,0)
 ; Verify Registration v5.3 exists, else Quit.
"RTN","DGJ1INIT",11,0)
 I $$VERSION^XPDUTL("DG")'=5.3 D  G ABRT
"RTN","DGJ1INIT",12,0)
 . D BMES^XPDUTL("*****")
"RTN","DGJ1INIT",13,0)
 . D MES^XPDUTL("VERSION 5.3 OF REGISTRATION HAS NOT BEEN LOADED.")
"RTN","DGJ1INIT",14,0)
 . D MES^XPDUTL("Installation aborted.")
"RTN","DGJ1INIT",15,0)
 ;
"RTN","DGJ1INIT",16,0)
 ; Verify 'DGJ' was removed from Additional Prefixes of REGISTRATION.
"RTN","DGJ1INIT",17,0)
 N DIC
"RTN","DGJ1INIT",18,0)
 S DIC="^DIC(9.4,",DIC(0)="X",X="REGISTRATION"
"RTN","DGJ1INIT",19,0)
 D ^DIC I Y<0 D  G ABRT
"RTN","DGJ1INIT",20,0)
 . D BMES^XPDUTL("*****")
"RTN","DGJ1INIT",21,0)
 . D MES^XPDUTL("REGISTRATION PACKAGE HAS NOT BEEN FOUND")
"RTN","DGJ1INIT",22,0)
 . D MES^XPDUTL("CONTACT - PIMS National VISTA Support Team for assistance!")
"RTN","DGJ1INIT",23,0)
 . D MES^XPDUTL("Installation aborted.")
"RTN","DGJ1INIT",24,0)
 S DA(1)=+Y,DIC=DIC_DA(1)_",14,"
"RTN","DGJ1INIT",25,0)
 S DIC(0)="X",DIC("P")=$P(^DD(9.4,14,0),"^",2),X="DGJ"
"RTN","DGJ1INIT",26,0)
 D ^DIC I Y>0 D  G ABRT
"RTN","DGJ1INIT",27,0)
 . D BMES^XPDUTL("*****")
"RTN","DGJ1INIT",28,0)
 . D MES^XPDUTL("'DGJ' must be removed from REGISTRATION's Additional Prefix field.")
"RTN","DGJ1INIT",29,0)
 . D MES^XPDUTL("Follow INSTALLATION instructions found in the Installation Guide.")
"RTN","DGJ1INIT",30,0)
 . D MES^XPDUTL("Installation aborted.")
"RTN","DGJ1INIT",31,0)
 K DA,DIC
"RTN","DGJ1INIT",32,0)
 ;
"RTN","DGJ1INIT",33,0)
 ; If previous beta version with different name, then correct name.
"RTN","DGJ1INIT",34,0)
 D FIND^DIC(9.4,"","@;1;.01","P","DGJ","","C","","","DGJARRY")
"RTN","DGJ1INIT",35,0)
 S DGJI=0
"RTN","DGJ1INIT",36,0)
 F  S DGJI=$O(DGJARRY("DILIST",DGJI)) Q:'DGJI  D
"RTN","DGJ1INIT",37,0)
 . S X=$G(DGJARRY("DILIST",DGJI,0)),DGJIEN=$P(X,"^",1)
"RTN","DGJ1INIT",38,0)
 . I $P(X,"^",2)="DGJ",$P(X,"^",3)'="INCOMPLETE RECORDS TRACKING" D
"RTN","DGJ1INIT",39,0)
 . . ; Correct old name to this version name.
"RTN","DGJ1INIT",40,0)
 . . S FDATA(9.4,DGJIEN_",",.01)="INCOMPLETE RECORDS TRACKING"
"RTN","DGJ1INIT",41,0)
 . . D FILE^DIE("E","FDATA","ERR")
"RTN","DGJ1INIT",42,0)
 K DGJI,DGJIEN,X,FDATA,ERR,DGJARRY
"RTN","DGJ1INIT",43,0)
 ;
"RTN","DGJ1INIT",44,0)
OK K DIE,DR,DA,Y
"RTN","DGJ1INIT",45,0)
 ;
"RTN","DGJ1INIT",46,0)
 W !!,"Environment check completed and okay."
"RTN","DGJ1INIT",47,0)
 Q
"RTN","DGJ1INIT",48,0)
 ;
"RTN","DGJ1INIT",49,0)
POST ; - Run Post-init to Update Package entry for 'DGJ'.
"RTN","DGJ1INIT",50,0)
 D ^DGJ1INIP
"RTN","DGJ1INIT",51,0)
 Q
"RTN","DGJ1INIT",52,0)
ABRT S XPDABORT=2 Q
"RTN","DGJBGJ")
0^2^B31750334
"RTN","DGJBGJ",1,0)
DGJBGJ ;ALB/MAF - IRT BACKGROUND JOB/SHORT FORM LIST - MAY 3 1993
"RTN","DGJBGJ",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJBGJ",3,0)
EN N DGJBG,DGJED
"RTN","DGJBGJ",4,0)
 D DAT
"RTN","DGJBGJ",5,0)
 I Y=-1 G QUIT
"RTN","DGJBGJ",6,0)
 ;D START Q  ;Line for testing
"RTN","DGJBGJ",7,0)
 S ZTIO="",ZTRTN="START^DGJBGJ",ZTDESC="IRT Background Job to Initialize admissions with standard deficiencies"
"RTN","DGJBGJ",8,0)
 F X="DGJBG","DGJED" S ZTSAVE(X)=""
"RTN","DGJBGJ",9,0)
 K ZTSK D ^%ZTLOAD W:$D(ZTSK) "  (TASK: #",ZTSK,")"
"RTN","DGJBGJ",10,0)
 Q
"RTN","DGJBGJ",11,0)
AUTO ;Nightly Job Entry Point
"RTN","DGJBGJ",12,0)
 S X1=DT,X2=-2 D C^%DTC
"RTN","DGJBGJ",13,0)
 S (DGJFLAG,DGJFLG)=0
"RTN","DGJBGJ",14,0)
 S DGJBG=X,DGJED=X+.2359 D SHORT
"RTN","DGJBGJ",15,0)
 S X1=DT,X2=-1 D C^%DTC
"RTN","DGJBGJ",16,0)
 S DGJBG=X,DGJED=X+.2359 D START
"RTN","DGJBGJ",17,0)
 Q
"RTN","DGJBGJ",18,0)
SHORT S DGJX=0,DGJDEF=0,DGJDA=0
"RTN","DGJBGJ",19,0)
 F  S DGJBG=$O(^DGPM("B",DGJBG)) Q:DGJBG']""!(DGJBG>DGJED)  F  S DGJDA=$O(^DGPM("B",DGJBG,DGJDA)) Q:'DGJDA  I $D(^DGPM(DGJDA,0)),$P(^DGPM(DGJDA,0),"^",2)=1,$P(^DGPM(DGJDA,0),"^",17) D SET,CK
"RTN","DGJBGJ",20,0)
 Q
"RTN","DGJBGJ",21,0)
CK S DGJFLAG=0,X2=$P($G(^DGPM(+DGJCA,0)),"^",1),X1=$P($G(^DGPM(+DGJDIS,0)),"^",1) Q:X1=X2  D ^%DTC I X<2 D SETUP S DGJFLAG=1
"RTN","DGJBGJ",22,0)
 Q
"RTN","DGJBGJ",23,0)
SETSTR(S,V,X,L) ; -- insert text(S) into variable(V)
"RTN","DGJBGJ",24,0)
 ;    S := string
"RTN","DGJBGJ",25,0)
 ;    V := destination
"RTN","DGJBGJ",26,0)
 ;    X := @ col X
"RTN","DGJBGJ",27,0)
 ;    L := # of chars
"RTN","DGJBGJ",28,0)
 ;
"RTN","DGJBGJ",29,0)
 Q $E(V_$J("",X-1),1,X-1)_$E(S_$J("",L),1,L)_$E(V,X+L,999)
"RTN","DGJBGJ",30,0)
SETUP S DFN=$P(DGJTND,"^",3) D PID^VADPT6 S VAIP("D")=$P(^DGPM(DGJDIS,0),"^",1)-.000001 D IN5^VADPT S X=+VAIP(5) S DGJDIV=$S($D(^DIC(42,+X,0)):$P(^DIC(42,X,0),"^",11),1:"")
"RTN","DGJBGJ",31,0)
 I $D(^DGPM(+DGJDIS,0)) S DGJTTYP=$P(^(0),"^",4) S DGJTTYP=$S($D(^DG(405.1,+DGJTTYP,0)):$E($P(^(0),"^",1),1,20),1:"")
"RTN","DGJBGJ",32,0)
 S X=""
"RTN","DGJBGJ",33,0)
 S X=$$SETSTR($E($P(^DPT($P(DGJTND,"^",3),0),"^",1),1,15),X,1,15)
"RTN","DGJBGJ",34,0)
 S X=$$SETSTR(VA("BID"),X,19,5)
"RTN","DGJBGJ",35,0)
 S X=$$SETSTR($$FTIME^VALM1($P($G(^DGPM(DGJCA,0)),"^",1)),X,28,18)
"RTN","DGJBGJ",36,0)
 S X=$$SETSTR(DGJTTYP,X,50,15)
"RTN","DGJBGJ",37,0)
 S X=$$SETSTR($S($G(^DG(40.8,+DGJDIV,0))]"":$P(^DG(40.8,+DGJDIV,0),"^",1),1:""),X,69,11)
"RTN","DGJBGJ",38,0)
 S ^TMP("VAS",$J,$S($G(^DG(40.8,+DGJDIV,0))]"":$P(^DG(40.8,+DGJDIV,0),"^",1),1:""),$P($G(^DGPM(DGJCA,0)),"^"),DGJCA,0)=X
"RTN","DGJBGJ",39,0)
 Q
"RTN","DGJBGJ",40,0)
SET  S (DGJTND,DGJCA,DGJDIS)="" S DGJTND=$G(^DGPM(DGJDA,0)),DGJCA=$P(DGJTND,"^",14),DGJDIS=$P(DGJTND,"^",17) S:DGJDIS']"" DGJFLG=1 Q
"RTN","DGJBGJ",41,0)
START S (DGJFLAG,DGJFLG)=0 D NOW^%DTC S DGJDATE=% S DGJRUN=DGJBG K DGJERR
"RTN","DGJBGJ",42,0)
 S DGJX=0,DGJDEF=0,DGJDA=0
"RTN","DGJBGJ",43,0)
 F  S DGJDEF=$O(^VAS(393.3,DGJDEF)) Q:DGJDEF']""  S DGJNODE=$G(^VAS(393.3,DGJDEF,0)) I $P(DGJNODE,"^",8)=1,DGJDEF'=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) S DGJAR(DGJDEF)=""
"RTN","DGJBGJ",44,0)
 F  S DGJBG=$O(^DGPM("B",DGJBG)) Q:DGJBG']""!(DGJBG>DGJED)  F  S DGJDA=$O(^DGPM("B",DGJBG,DGJDA)) Q:'DGJDA  I $D(^DGPM(DGJDA,0)),$P(^DGPM(DGJDA,0),"^",2)=1 D SET D:DGJDIS]"" CK D:DGJFLAG DIV I DGJFLG,'$D(^DGPM(+DGJCA,"IRT")) D UP,FL
"RTN","DGJBGJ",45,0)
 S DIE="^DG(43,",DA=1,DR="401///"_DGJDATE D ^DIE K DA,DR
"RTN","DGJBGJ",46,0)
 D MSG^DGJBGJ1
"RTN","DGJBGJ",47,0)
 I $D(DGJERR) D ERRMSG^DGJBGJ1
"RTN","DGJBGJ",48,0)
QUIT K %,%DT,DFN,DGJAR,DGJBG,DGJCA,DGJDA,DGJDATE,DGJDEF,DGJED,DGJEVT,DGJFDE,DGJNODE,DGJT,DGJT10,DGJT9,DGJTBEG,DGJTBG,DGJTDEL,DGJTDIV,DGJED,DGJTND,DGJTPR,DGJTSP,DGJTST,DGJTSV,DGJTWD,DGJTWD1,DGJX,DGJY,DIC,DIE,DLAYGO,DR,VAIP,X,X1,X2,Y
"RTN","DGJBGJ",49,0)
 K DGJB,DGJDIS,DGJDIV,DGJI,DGJMSG,DGJERR,DGJERROR,DGJRUN,DGJSTD,DGJTTYP,VA,DGJBG,DGJDA,DGJDEF,DGJED,DGJFLAG,DGJFLG,DGJTCNT,DGJX,X,DGJTWARD,VAERR,ZTDESC,ZTIO,ZTRTN,ZTSAVE,ZTSK,^TMP("VAS",$J) Q
"RTN","DGJBGJ",50,0)
UP S (DGJFLG,DGJERROR)=0,DFN=$P(DGJTND,"^",3) Q:DFN']""  S VAIP("D")=$S(DGJDIS]""&($D(^DGPM(+DGJDIS,0))):$P(^DGPM(DGJDIS,0),"^",1)-.000001,1:"L")
"RTN","DGJBGJ",51,0)
 D IN5^VADPT
"RTN","DGJBGJ",52,0)
 I +VAIP(5)']0 S DGJERR("ERR1",DFN,$P(DGJTND,"^",1))="",DGJERROR=1 Q
"RTN","DGJBGJ",53,0)
 S DGJTWARD=+VAIP(5)
"RTN","DGJBGJ",54,0)
 S DGJTWD=$S($D(^DIC(42,DGJTWARD,0)):^DIC(42,DGJTWARD,44),1:"")
"RTN","DGJBGJ",55,0)
 S DGJTSV=$S(DGJTWARD]"":$P(^DIC(42,+DGJTWARD,0),"^",3),1:"")
"RTN","DGJBGJ",56,0)
 S DGJTSP=+VAIP(8)
"RTN","DGJBGJ",57,0)
 S:DGJTSV="" DGJTSV=0 S DGJTSV=$S(DGJTSV=0:12,$D(^DG(393.1,"AC",DGJTSV)):$O(^(DGJTSV,0)),1:"")
"RTN","DGJBGJ",58,0)
 S DGJEVT=+DGJTND
"RTN","DGJBGJ",59,0)
 S DGJTDIV=$S($D(^DIC(42,DGJTWARD,0)):$P(^DIC(42,DGJTWARD,0),"^",11),1:"")
"RTN","DGJBGJ",60,0)
 S DGJTDEL=$G(^DG(40.8,+DGJTDIV,"DT"))
"RTN","DGJBGJ",61,0)
 S DGJT=$O(^DGPM("ATS",DFN,DGJCA,0)),DGJT=$O(^(+DGJT,0)),DGJT=$O(^(+DGJT,0)),DGJT=$S($D(^DGPM(+DGJT,0)):^(0),1:"") ;last TS mvt
"RTN","DGJBGJ",62,0)
 S DGJX=8,DGJY=2 D DOC S DGJT9=$S(X]"":X,1:"@"),X=""
"RTN","DGJBGJ",63,0)
 S DGJT10="" I $P(DGJTDEL,"^",3)!('$P(DGJTDEL,"^",3)&($P(DGJTDEL,"^",10)="A")) S DGJX=19,DGJY=4 D DOC S DGJT10=$S(X]"":X,1:"@")
"RTN","DGJBGJ",64,0)
 S DGJTPR=DGJT9
"RTN","DGJBGJ",65,0)
 Q
"RTN","DGJBGJ",66,0)
FL I DGJERROR=1 Q
"RTN","DGJBGJ",67,0)
 S DGJFDE=0
"RTN","DGJBGJ",68,0)
 F  S DGJFDE=$O(DGJAR(DGJFDE)) Q:DGJFDE']""  D FL1
"RTN","DGJBGJ",69,0)
 Q
"RTN","DGJBGJ",70,0)
FL1 S X=DFN,DIC="^VAS(393,",DIC(0)="L",DLAYGO=393 K DD,DO D FILE^DICN
"RTN","DGJBGJ",71,0)
 S DGJTST=$O(^DG(393.2,"B","INCOMPLETE",0))
"RTN","DGJBGJ",72,0)
 I Y>0 S DIE=DIC,DA=+Y
"RTN","DGJBGJ",73,0)
 I Y>0 S DR=".02////"_DGJFDE_";.03////"_DGJEVT_";.04////"_DGJCA_";.05////"_DGJTWD_";.06////"_DGJTDIV_";.07////"_DGJTSP_";.08////"_DGJTSV_";.09////"_DGJT9_";.1////"_DGJT10_";.11////"_DGJTST_";.12////"_DGJT9
"RTN","DGJBGJ",74,0)
 I Y>0 D ^DIE K DA,DR S DIE="^DGPM(",DA=DGJCA,DR="60.01///"_DGJDATE D ^DIE K DA,DR
"RTN","DGJBGJ",75,0)
 Q
"RTN","DGJBGJ",76,0)
DIV S (DGJFLG,DGJFLAG)=0 I $D(^DG(40.8,DGJDIV,"DT")) S DGJSTD=$P(^DG(40.8,DGJDIV,"DT"),"^",11) I DGJSTD=1 S DGJFLG=1
"RTN","DGJBGJ",77,0)
 Q
"RTN","DGJBGJ",78,0)
DOC ;provider resp.
"RTN","DGJBGJ",79,0)
 S X=$P(DGJTDEL,"^",DGJY)
"RTN","DGJBGJ",80,0)
 S X=$S(X="A":$P(DGJT,"^",19),X="N":"",1:$P(DGJT,"^",8))
"RTN","DGJBGJ",81,0)
 Q
"RTN","DGJBGJ",82,0)
DAT ;DATE RANGE
"RTN","DGJBGJ",83,0)
BEG W ! S %DT="AEX",%DT("A")="Select Beginning Date: " D ^%DT S DGJBG=Y S:X="^"!(X="") Y=-1 Q:Y=-1  D NOW^%DTC I DGJBG>$P(%,".",1) W !!,"Dates in the future are not allowed!" G BEG
"RTN","DGJBGJ",84,0)
END W ! S %DT("A")="Select Ending Date : " D ^%DT S:X="^"!(X="") Y=-1 Q:Y=-1  I Y<1 D HELP^%DTC G END
"RTN","DGJBGJ",85,0)
 S DGJED=Y_.2359
"RTN","DGJBGJ",86,0)
 I DGJED\1<DGJBG W !!?5,"The ending date cannot be before the beginning date" G END
"RTN","DGJBGJ",87,0)
 Q
"RTN","DGJBGJ1")
0^3^B8406941
"RTN","DGJBGJ1",1,0)
DGJBGJ1 ;ALB/MAF - IRT BACKGROUND JOB (CONT.) - MAY 3 1993
"RTN","DGJBGJ1",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJBGJ1",3,0)
MSG N DGJCNT,DGJDV,DGJDT,DGJCA
"RTN","DGJBGJ1",4,0)
 S (DGJCNT,DGJDV,DGJDT,DGJCA)=0
"RTN","DGJBGJ1",5,0)
 F  S DGJDV=$O(^TMP("VAS",$J,DGJDV)) Q:DGJDV']""  F  S DGJDT=$O(^TMP("VAS",$J,DGJDV,DGJDT)) Q:DGJDT']""  F  S DGJCA=$O(^TMP("VAS",$J,DGJDV,DGJDT,DGJCA)) Q:DGJCA']""  S DGJCNT=DGJCNT+1 S DGJMSG(DGJCNT,0)=^TMP("VAS",$J,DGJDV,DGJDT,DGJCA,0)
"RTN","DGJBGJ1",6,0)
 I '$D(DGJMSG(1)) G Q
"RTN","DGJBGJ1",7,0)
 ;quit it no text in message
"RTN","DGJBGJ1",8,0)
 S XMSUB="PATIENTS DISCHARGED LESS THAN 48 HOURS"
"RTN","DGJBGJ1",9,0)
 S XMTEXT="DGJMSG("
"RTN","DGJBGJ1",10,0)
 S DGJB=+$P($G(^DG(43,1,"NOT")),"^",14)
"RTN","DGJBGJ1",11,0)
 S XMY("G."_$P($G(^XMB(3.8,DGJB,0)),"^",1))="" ; pass mailgroup
"RTN","DGJBGJ1",12,0)
 ; makes sure it gets sent to someone
"RTN","DGJBGJ1",13,0)
 I '$D(XMY) S XMY(.5)=""
"RTN","DGJBGJ1",14,0)
 ; make postmaster the sender so it will show up as new to DUZ
"RTN","DGJBGJ1",15,0)
 S XMDUZ=.5
"RTN","DGJBGJ1",16,0)
 D ^XMD:$D(XMY)
"RTN","DGJBGJ1",17,0)
Q K DGSM,DGB,DGTEXT,XMR,DGII,XMY,XMTEXT,XMDUZ,XMSUB Q
"RTN","DGJBGJ1",18,0)
 ;
"RTN","DGJBGJ1",19,0)
ERRMSG ; Send error message.
"RTN","DGJBGJ1",20,0)
 Q:'$D(DGJERR)
"RTN","DGJBGJ1",21,0)
 S Y=DGJRUN D DD^%DT S DGJRUN=Y
"RTN","DGJBGJ1",22,0)
 K DGJMSG
"RTN","DGJBGJ1",23,0)
 S DGJMSG(1)="The following error(s) were reported during the Incomplete Records menu run:"
"RTN","DGJBGJ1",24,0)
 S DGJMSG(2)="IRT Update Std. Def. Background Job  [DGJ IRT UPDATE (Background)"
"RTN","DGJBGJ1",25,0)
 S DGJMSG(3)="  or"
"RTN","DGJBGJ1",26,0)
 S DGJMSG(4)="IRT Update Std. Deficiencies  [DGJ IRT UPDATE STD. DEFIC.]"
"RTN","DGJBGJ1",27,0)
 S DGJMSG(5)=" "
"RTN","DGJBGJ1",28,0)
 S DGJMSG(6)="Verify the following patient information.  Manually run the option:"
"RTN","DGJBGJ1",29,0)
 S DGJMSG(7)="IRT UPDATE Std. Deficiencies [DGJ IRT UPDATE STD. DEFIC.]"
"RTN","DGJBGJ1",30,0)
 S DGJMSG(8)="for the run time listed below."
"RTN","DGJBGJ1",31,0)
 S DGJMSG(9)=" "
"RTN","DGJBGJ1",32,0)
 S DGJMSG(10)="Run time: "_DGJRUN
"RTN","DGJBGJ1",33,0)
 S DGJMSG(11)="Errors encountered during menu run:"
"RTN","DGJBGJ1",34,0)
 S DGJMSG(12)="-----------------------------------------"
"RTN","DGJBGJ1",35,0)
 S TXT=12,I=0
"RTN","DGJBGJ1",36,0)
 F  S I=$O(DGJERR(I)) Q:I=""  D
"RTN","DGJBGJ1",37,0)
 . S DFN=0 F  S DFN=$O(DGJERR(I,DFN)) Q:'DFN  D
"RTN","DGJBGJ1",38,0)
 . . S DGJMT=0 F  S DGJMT=$O(DGJERR(I,DFN,DGJMT)) Q:'DGJMT  D
"RTN","DGJBGJ1",39,0)
 . . . S Y=DGJMT D DD^%DT
"RTN","DGJBGJ1",40,0)
 . . .S DGJMSG(TXT+1)=$P(^DPT(DFN,0),"^",1)_"("_$E($P(^DPT(DFN,0),"^",9),6,9)_") Mvmt: ("_Y_") has "_$P($T(@(I)),";",3)
"RTN","DGJBGJ1",41,0)
 ;
"RTN","DGJBGJ1",42,0)
 S XMSUB="IRT Update Std. Defic. Error List"
"RTN","DGJBGJ1",43,0)
 S XMTEXT="DGJMSG("
"RTN","DGJBGJ1",44,0)
 S DGJB=+$P($G(^DG(43,1,"NOT")),"^",14)
"RTN","DGJBGJ1",45,0)
 I DGJB S XMY("G."_$P($G(^XMB(3.8,DGJB,0)),"^",1))="" ; pass mailgroup
"RTN","DGJBGJ1",46,0)
 I '$D(XMY) S XMY(.5)=""
"RTN","DGJBGJ1",47,0)
 I DUZ>0 S XMY(DUZ)=""
"RTN","DGJBGJ1",48,0)
 ; make postmaster the sender so it will show up as new to DUZ
"RTN","DGJBGJ1",49,0)
 S XMDUZ=.5
"RTN","DGJBGJ1",50,0)
 D ^XMD:$D(XMY)
"RTN","DGJBGJ1",51,0)
 K XMTEXT,XMSUB,DGJB,XMY,DGJMSG,XMDUZ,I,DFN,DGJMT,Y Q
"RTN","DGJBGJ1",52,0)
 ;
"RTN","DGJBGJ1",53,0)
ERRMSG1 ; Error listing
"RTN","DGJBGJ1",54,0)
ERR1 ;ERR1;No Ward Location found."
"RTN","DGJHELP")
0^4^B446497
"RTN","DGJHELP",1,0)
DGJHELP ;ALB/MRY - EXECUTABLE ADT HELP PROMPTS ; 23 AUG 2001
"RTN","DGJHELP",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJHELP",3,0)
 ;
"RTN","DGJHELP",4,0)
EN ;called from ques node on dispo multiple
"RTN","DGJHELP",5,0)
 Q
"RTN","DGJHELP",6,0)
UP I X'?.UNP F %=1:1:$L(X) I $E(X,%)?1L S X=$E(X,0,%-1)_$C($A(X,%)-32)_$E(X,%+1,999)
"RTN","DGJHELP",7,0)
 Q
"RTN","DGJHELP",8,0)
IN S %=0 D UP I X]""&(Z[(U_X)) F I=$F(Z,U_X):1 S %=$E(Z,I) Q:%=U!(%']"")  W %
"RTN","DGJHELP",9,0)
 E  S %=-1
"RTN","DGJHELP",10,0)
 S:'% X=$E(X,1) K Z
"RTN","DGJHELP",11,0)
 Q
"RTN","DGJOPRT")
0^5^B10625596
"RTN","DGJOPRT",1,0)
DGJOPRT ;ALB/MAF - SORT/PRINT IRT ; JAN 28,1991@900
"RTN","DGJOPRT",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOPRT",3,0)
EN S DGJTDIR=1,DGJTSTAT="^"_$O(^DG(393.2,"B","INCOMPLETE",0))_"^" G OUT
"RTN","DGJOPRT",4,0)
EN1 S (DGJTDIR,DGJTCK)=2
"RTN","DGJOPRT",5,0)
OUT S (DGJFL,DGJTMESS)=0 W !!,"Sort output by: PATIENT// " D ZSET1 S X="" R X:DTIME G QUIT:X="^"!('$T) I X=""!("Pp"[X) S X="2"
"RTN","DGJOPRT",6,0)
 S X=$S("Ee"[X:1,"Dd"[X:3,"Ss"[X:4,1:X)
"RTN","DGJOPRT",7,0)
 I X="?" D ZSET1,HELP1 G OUT
"RTN","DGJOPRT",8,0)
 S DGJTSR=$E(X) D IN^DGJHELP W ! I %=-1 D ZSET1,HELP1 G OUT
"RTN","DGJOPRT",9,0)
OUT1 S DGJFL=0 W !!,"Print report for: (I)Inpatients, (O)Outpatients, (B)Both//  " D ZSET2 S X="" R X:DTIME G QUIT:X="^"!('$T) I X=""!("Bb"[X) S X=3
"RTN","DGJOPRT",10,0)
 S X=$S("Ii"[X:1,"Oo"[X:2,1:X)
"RTN","DGJOPRT",11,0)
 I X="?" D ZSET2,HELP2 G OUT1
"RTN","DGJOPRT",12,0)
 S DGJTSR1=$E(X) D IN^DGJHELP W ! I %=-1 D ZSET2,HELP2 G OUT1
"RTN","DGJOPRT",13,0)
 I $D(^DG(43,1,"GL")) S DGJTMUL=$P(^DG(43,1,"GL"),"^",2)
"RTN","DGJOPRT",14,0)
 I DGJTDIR=2 D SEL G QUIT:$D(DUOUT)!$D(DTOUT)
"RTN","DGJOPRT",15,0)
 S DGJTL=$S(DGJTSR=1:"DAT",DGJTSR=2:"PAT",DGJTSR=3:"PHY",DGJTSR=4:"SER",1:"QUIT")
"RTN","DGJOPRT",16,0)
 G ^DGJOPRT1
"RTN","DGJOPRT",17,0)
QUIT K %,BY,DHD,DIC,DIOEND,DIS,DIR,DTOUT,DUOUT,FR,FLDS,K,L,TO,DGJTCK,DGJTDIR,DGJTL,DGJTMESS,DGJTMUL,DGJTSR,DGJTSTAT,DGJTUN,VAUTN,VAUTY,DGJFL,DGJTSR1,DGJ(0),X,Y,Z Q
"RTN","DGJOPRT",18,0)
HELP1 W !!,"Choose a number or first initial :" F K=2:1:5 W !?15,$P(Z,"^",K)
"RTN","DGJOPRT",19,0)
 W ! Q
"RTN","DGJOPRT",20,0)
HELP2 W !!,"Choose a number or first initial:" F K=2:1:4 W !?15,$P(Z,"^",K)
"RTN","DGJOPRT",21,0)
 W ! Q
"RTN","DGJOPRT",22,0)
ZSET1 S Z="^1 EVENT DATE^2 PATIENT^3 DOCTOR^4 SERVICE/TREATING SPECIALTY^" Q
"RTN","DGJOPRT",23,0)
ZSET2 S Z="^1 INPATIENTS ONLY^2 OUTPATIENTS ONLY^3 BOTH INPATIENT and OUTPATIENTS^" Q
"RTN","DGJOPRT",24,0)
SEL S DIR("A")="Select INCOMPLETE RECORD STATUS: ",DIR(0)="SA^A:ALL;D:UNDICTATED;T:NOT TRANSCRIBED;S:UNSIGNED;R:NOT REVIEWED",DIR("B")="ALL"
"RTN","DGJOPRT",25,0)
 S DIR("?")="Enter desired status that you would like to have listed on the report"
"RTN","DGJOPRT",26,0)
 S DIR("?",1)="CHOOSE FROM: "
"RTN","DGJOPRT",27,0)
 S DIR("?",2)="   A FOR ALL",DIR("?",3)="   D FOR UNDICTATED",DIR("?",4)="   T FOR NOT TRANSCRIBED",DIR("?",5)="   S FOR UNSIGNED",DIR("?",6)="   R FOR NOT REVIEWED" D ^DIR
"RTN","DGJOPRT",28,0)
 I $D(DTOUT)!$D(DUOUT) Q
"RTN","DGJOPRT",29,0)
 I Y="A" S DGJTSTAT="^"_$O(^DG(393.2,"B","INCOMPLETE",0))_"^"_$O(^DG(393.2,"B","DICTATED",0))_"^"_$O(^DG(393.2,"B","TRANSCRIBED",0))_"^"_$O(^DG(393.2,"B","SIGNED",0))_"^" Q
"RTN","DGJOPRT",30,0)
 S DGJTSTAT="^"
"RTN","DGJOPRT",31,0)
 D SET
"RTN","DGJOPRT",32,0)
 S $P(DIR(0),"^",1)=$P(DIR(0),"^",1)_"O",$P(DIR(0),"^",2)=$E($P(DIR(0),"^",2),7,999) K DIR("B")
"RTN","DGJOPRT",33,0)
 F I=2:1:6 S DIR("?",I)=$S($D(DIR("?",I+1)):DIR("?",I+1),1:"")
"RTN","DGJOPRT",34,0)
 S DIR("A")="Select another STATUS: "
"RTN","DGJOPRT",35,0)
ASK D ^DIR I $D(DUOUT)!$D(DTOUT) Q
"RTN","DGJOPRT",36,0)
 I X]"" D SET G ASK
"RTN","DGJOPRT",37,0)
 Q
"RTN","DGJOPRT",38,0)
SET S X=$S(Y="D":"INCOMPLETE",Y="T":"DICTATED",Y="S":"TRANSCRIBED",Y="R":"SIGNED",Y="C":"r",1:"INCOMPLETE")
"RTN","DGJOPRT",39,0)
 S X=$O(^DG(393.2,"B",X,0))
"RTN","DGJOPRT",40,0)
 S DGJTSTAT=DGJTSTAT_X_"^"
"RTN","DGJOPRT",41,0)
 Q
"RTN","DGJOPRT",42,0)
CK S X=Y Q
"RTN","DGJOPRT1")
0^6^B26280337
"RTN","DGJOPRT1",1,0)
DGJOPRT1 ;MAF/ALB - INCOMPLETE REPORTS ; SEP 11 1991@10:00
"RTN","DGJOPRT1",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOPRT1",3,0)
 ;
"RTN","DGJOPRT1",4,0)
 I $D(DGJTMUL),DGJTMUL D DIVISION^VAUTOMA G:Y=-1 QUIT
"RTN","DGJOPRT1",5,0)
 I 'DGJTMUL S DGJTDV=$O(^DG(40.8,0))
"RTN","DGJOPRT1",6,0)
 D @(DGJTL) G:Y=-1 QUIT
"RTN","DGJOPRT1",7,0)
 I DGJTL'="DAT" D DAT G:Y=-1 QUIT
"RTN","DGJOPRT1",8,0)
 S DIC("S")="I $S(""^OP REPORT^INTERIM SUMMARY^DISCHARGE SUMMARY^""[$P(^VAS(393.3,+Y,0),U,1):1,1:0)"
"RTN","DGJOPRT1",9,0)
 S VAUTVB="VAUTY",DIC="^VAS(393.3,",VAUTSTR="Summary Type",VAUTNI=2 D FIRST^VAUTOMA Q:Y=-1
"RTN","DGJOPRT1",10,0)
 W !!,*7,"This output requires 132 column output",!
"RTN","DGJOPRT1",11,0)
 D NOW^%DTC S Y=$E(%,1,12) S VADAT("W")=Y D ^VADATE S DGJTDAT=VADATE("E")
"RTN","DGJOPRT1",12,0)
 S DGVAR="DGJTDV^DGJTDIR^DGJTDAT^DGJTSTAT^DGJTCK^DGJTFL^DGJTMESS^DGJTSR^DGJTSR1^DGJTMUL^DGJTL^DGJTBG^DGJTEND^VAUTD#^VAUTN#^VAUTT#^VAUTY#",DGPGM="START^DGJOPRT1" D ZIS^DGJUTQ I 'POP U IO G START^DGJOPRT1
"RTN","DGJOPRT1",13,0)
 G QUIT
"RTN","DGJOPRT1",14,0)
START S (DGJTPAG,DGJTDV1)=0 F IFN=0:0 S IFN=$O(^VAS(393,IFN)) Q:'IFN  S DGJTNODE=^VAS(393,IFN,0) D CK
"RTN","DGJOPRT1",15,0)
 I $D(^UTILITY("VAS",$J)) S (DGJ,DGJTF,DGJTFF,DGJY,DGJTDV,DGJTDT,DGJTSV,DGJTSP,DGJTPHY,DGJTPT,DGU,DFN,IFN)=0,$P(DGJTLN,"=",133)="" G ^DGJOPRT2
"RTN","DGJOPRT1",16,0)
 I '$D(^UTILITY("VAS",$J)) W !!,"NO RECORDS"
"RTN","DGJOPRT1",17,0)
QUIT K %DT,DIR,DGJTCK,DGJTBEG,DGJTBG,DGJTEND,DGJRTYP,DGJTDAT,DGJTDV,DGJFL,DGJTDIR,DGJTL,DGJTMESS,DGJTMUL,DGJTSR,DGJTSR1,DGJTSTAT,VAUTD,VAUTN,VAUTT,VADAT,VADATE,POP,X,Y
"RTN","DGJOPRT1",18,0)
 D CLOSE^DGJUTQ Q
"RTN","DGJOPRT1",19,0)
CNT I DGJTL'="SER" S DGJTOT(DGJTDVN)=DGJTOT(DGJTDVN)+1
"RTN","DGJOPRT1",20,0)
 I DGJTL="SER" S DGJTOT(X)=DGJTOT(X)+1
"RTN","DGJOPRT1",21,0)
 I DGJTL="PHY" S:'$D(DGJPHTOT(DGJTDVN,DGJTPHY)) DGJPHTOT(DGJTDVN,DGJTPHY)=0 S DGJPHTOT(DGJTDVN,DGJTPHY)=DGJPHTOT(DGJTDVN,DGJTPHY)+1 Q
"RTN","DGJOPRT1",22,0)
 I DGJTL="SER" S:'$D(DGJSVTOT(DGJTDVN,DGJTSV)) DGJSVTOT(DGJTDVN,DGJTSV)=0 S DGJSVTOT(DGJTDVN,DGJTSV)=DGJSVTOT(DGJTDVN,DGJTSV)+1
"RTN","DGJOPRT1",23,0)
 I DGJTL="SER" S:'$D(DGJSPTOT(DGJTDVN,DGJTSV,DGJTSP)) DGJSPTOT(DGJTDVN,DGJTSV,DGJTSP)=0 S DGJSPTOT(DGJTDVN,DGJTSV,DGJTSP)=DGJSPTOT(DGJTDVN,DGJTSV,DGJTSP)+1
"RTN","DGJOPRT1",24,0)
 Q
"RTN","DGJOPRT1",25,0)
CK I $P(DGJTNODE,"^",6)']"" S $P(DGJTNODE,"^",6)=$O(^DG(40.8,0))
"RTN","DGJOPRT1",26,0)
 I $D(VAUTD),'VAUTD I $P(DGJTNODE,"^",6)]"",'$D(VAUTD($P(DGJTNODE,"^",6))) Q
"RTN","DGJOPRT1",27,0)
 I $D(DGJTDV),$P(DGJTNODE,"^",6)]"" I $P(DGJTNODE,"^",6)'=+DGJTDV Q
"RTN","DGJOPRT1",28,0)
 I DGJTSR1=1,$P(DGJTNODE,"^",13)'=1 Q
"RTN","DGJOPRT1",29,0)
 I DGJTSR1=2,$P(DGJTNODE,"^",13)]"" Q
"RTN","DGJOPRT1",30,0)
 I DGJTSR1'=2 I $P(DGJTNODE,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) S X=$P(DGJTNODE,"^",4) I X]"" I $D(^DGPM(X,0)) S X=$P(^DGPM(X,0),"^",17) Q:X']""
"RTN","DGJOPRT1",31,0)
 S DGJTPC=$S(DGJTL="PAT":1,DGJTL="DAT":3,DGJTL="SER":8,DGJTL="PHY":14,1:"")
"RTN","DGJOPRT1",32,0)
 Q:$P(DGJTNODE,"^",2)']""  Q:'$D(^VAS(393.3,$P(DGJTNODE,"^",2),0))  I "^OP REPORT^DISCHARGE SUMMARY^INTERIM SUMMARY^"'[$P(^VAS(393.3,$P(DGJTNODE,"^",2),0),"^",1) Q
"RTN","DGJOPRT1",33,0)
 I $D(VAUTN),'VAUTN I '$D(VAUTN(+$P(DGJTNODE,"^",DGJTPC))) Q
"RTN","DGJOPRT1",34,0)
 I $D(VAUTT),'VAUTT I '$D(VAUTT(+$P(DGJTNODE,"^",7))) Q
"RTN","DGJOPRT1",35,0)
 I $D(VAUTY),'VAUTY I '$D(VAUTY(+$P(DGJTNODE,"^",2))) Q
"RTN","DGJOPRT1",36,0)
 I $P(DGJTNODE,"^",3)<DGJTBG!($P(DGJTNODE,"^",3)>DGJTEND) Q
"RTN","DGJOPRT1",37,0)
 D ^DGJTUDIS I 'DGJTFLAG Q
"RTN","DGJOPRT1",38,0)
 S DGJTDIV=$P(DGJTNODE,"^",6),DGJTDVN=$S(DGJTDIV]"":DGJTDIV,1:$O(^DG(40.8,0))),DGJTDVN=$S($D(^DG(40.8,+DGJTDVN,0)):$P(^(0),"^",1),1:"NOT SPECIFIED") I '$D(DGJTOT(DGJTDVN)) S DGJTOT(DGJTDVN)=0
"RTN","DGJOPRT1",39,0)
 S DFN=$P(DGJTNODE,"^",1) I $D(^DPT(DFN,0)) S DGJTPT=$P(^(0),"^",1)
"RTN","DGJOPRT1",40,0)
 I DGJTL="PAT" S ^UTILITY("VAS",$J,DGJTDVN,DGJTPT,DFN,IFN)=DGJTDL D CNT Q
"RTN","DGJOPRT1",41,0)
 I DGJTL="DAT" S DGJTDT=$P(DGJTNODE,"^",DGJTPC) S ^UTILITY("VAS",$J,DGJTDVN,DGJTDT,DGJTPT,DFN,IFN)=DGJTDL D CNT Q
"RTN","DGJOPRT1",42,0)
 I DGJTL="PHY" S DGJTPHY=$S($P(DGJTNODE,"^",DGJTPC)]""&($D(^VA(200,+$P(DGJTNODE,"^",DGJTPC),0))):$P(^(0),"^",1),1:"NOT SPECIFIED") S ^UTILITY("VAS",$J,DGJTDVN,DGJTPHY,DGJTPT,DFN,IFN)=DGJTDL D CNT Q
"RTN","DGJOPRT1",43,0)
 I DGJTL="SER" S DGJTSV=$S($P(DGJTNODE,"^",DGJTPC)]""&($D(^DG(393.1,+$P(DGJTNODE,"^",DGJTPC),0))):$P(^(0),"^",1),1:"NOT SPECIFIED"),DGJTSP=$S($P(DGJTNODE,"^",7)]""&($D(^DIC(45.7,+$P(DGJTNODE,"^",7),0))):$P(^(0),"^",1),1:"NOT SPECIFIED")
"RTN","DGJOPRT1",44,0)
 I DGJTL="SER" S X=DGJTDVN,DGJTDVN=$E(DGJTDVN,1,23),DGJTSV=$E(DGJTSV,1,16),DGJTPT=$E(DGJTPT,1,16),DGJTSP=$E(DGJTSP,1,16) S ^UTILITY("VAS",$J,DGJTDVN,DGJTSV,DGJTSP,DGJTPT,DFN,IFN)=DGJTDL D CNT Q
"RTN","DGJOPRT1",45,0)
 Q
"RTN","DGJOPRT1",46,0)
PAT S VAUTNI=2 D PATIENT^VAUTOMA
"RTN","DGJOPRT1",47,0)
 Q
"RTN","DGJOPRT1",48,0)
PHY S VAUTVB="VAUTN",DIC="^VA(200,",VAUTSTR="Physician",VAUTNI=2 D FIRST^VAUTOMA S:Y=-1 DGJFL=1 Q:DGJFL
"RTN","DGJOPRT1",49,0)
 Q
"RTN","DGJOPRT1",50,0)
DAT ;DATE RANGE
"RTN","DGJOPRT1",51,0)
BEG W ! S %DT="AEX",%DT("A")="START WITH EVENT DATE: " D ^%DT S DGJTBG=Y,DGJTBEG=Y-.0001 S:X="^"!(X="") Y=-1 Q:Y=-1
"RTN","DGJOPRT1",52,0)
END W ! S %DT("A")="END WITH EVENT DATE: " D ^%DT S:X="^"!(X="") Y=-1 Q:Y=-1  I Y<1 D HELP^%DTC G END
"RTN","DGJOPRT1",53,0)
 S DGJTEND=Y_.9999
"RTN","DGJOPRT1",54,0)
 I DGJTEND\1<DGJTBG W !!?5,"The ending date cannot be before the beginning date" G END
"RTN","DGJOPRT1",55,0)
 Q
"RTN","DGJOPRT1",56,0)
SER S VAUTVB="VAUTN",DIC="^DG(393.1,",VAUTSTR="Service",VAUTNI=2 D FIRST^VAUTOMA Q:Y=-1
"RTN","DGJOPRT1",57,0)
 S VAUTVB="VAUTT",DIC="^DIC(45.7,",VAUTSTR="Specialty",VAUTNI=2 D FIRST^VAUTOMA
"RTN","DGJOPRT1",58,0)
 Q
"RTN","DGJOPRT1",59,0)
RECTYP(DGJTNODE) ; Get Default record type for Medical records.
"RTN","DGJOPRT1",60,0)
 ; input variables
"RTN","DGJOPRT1",61,0)
 ;   DGJTNODE := IRT node string
"RTN","DGJOPRT1",62,0)
 ;
"RTN","DGJOPRT1",63,0)
 ; output variables
"RTN","DGJOPRT1",64,0)
 ;   Default Record Type for Medical records, 1 if null (MEDICAL RECORD)
"RTN","DGJOPRT1",65,0)
 ;
"RTN","DGJOPRT1",66,0)
 N X
"RTN","DGJOPRT1",67,0)
 ; check Division / get Division
"RTN","DGJOPRT1",68,0)
 I $P(DGJTNODE,"^",6)']"" Q 1
"RTN","DGJOPRT1",69,0)
 S X=$P(DGJTNODE,"^",6)
"RTN","DGJOPRT1",70,0)
 S X=$P(^DG(40.8,X,"DT"),"^",12)
"RTN","DGJOPRT1",71,0)
 S:X="" X=1
"RTN","DGJOPRT1",72,0)
 Q +X
"RTN","DGJOPRT2")
0^7^B25031126
"RTN","DGJOPRT2",1,0)
DGJOPRT2 ;ALB/MAF - REPORTS CONTINUED ; AUG 30 1991@1000
"RTN","DGJOPRT2",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOPRT2",3,0)
 ;
"RTN","DGJOPRT2",4,0)
 D HEAD F DGJ=0:0 S DGJTDV=$O(^UTILITY("VAS",$J,DGJTDV)) Q:DGJTDV']""!(DGU)  D:DGJTF&(DGJTL="PAT"!(DGJTL="DAT")) RET Q:DGU  D:DGJTF&(DGJTL="PAT"!(DGJTL="DAT")) HEAD D:DGJTL="PAT"!(DGJTL="DAT") HDR S DGJTF=1 D @(DGJTL) Q:DGU 
"RTN","DGJOPRT2",5,0)
 G:DGU QUIT I $D(^UTILITY("VAS",$J)) D RET G:DGU QUIT D ^DGJOPRT3
"RTN","DGJOPRT2",6,0)
QUIT G QUIT^DGJOPRT3
"RTN","DGJOPRT2",7,0)
SET S DGJTDV1=DGJTDV Q
"RTN","DGJOPRT2",8,0)
DIV S X=$O(^DG(40.8,"B",DGJTDV1,0)) I $D(^DG(40.8,+X,"DT")) S DGJTDEL=^("DT") W $P(DGJTDEL,"^",9),! Q
"RTN","DGJOPRT2",9,0)
 Q
"RTN","DGJOPRT2",10,0)
DATE S DGJTX=$$FMTE^XLFDT(DGJTDT,"5DF"),DGJTX=$TR(DGJTX," ","0") W DGJTX K DGJTX Q
"RTN","DGJOPRT2",11,0)
PAT F DGJY=0:0 S DGJTPT=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPT)) Q:DGJTPT']""!(DGU)  D PAT1
"RTN","DGJOPRT2",12,0)
 Q
"RTN","DGJOPRT2",13,0)
PAT1 F DFN=0:0 S DFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPT,DFN)) Q:'DFN!(DGU)  F IFN=0:0 S IFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPT,DFN,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2
"RTN","DGJOPRT2",14,0)
 Q
"RTN","DGJOPRT2",15,0)
PHY D:'DGJTFF HDR
"RTN","DGJOPRT2",16,0)
 F DGJY=0:0 S DGJTPHY=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY)) Q:DGJTPHY']""!(DGU)  D:DGJTFF RET Q:DGU  D:DGJTFF HEAD,HDR D HDR1 S DGJTFF=1 F DGJJ=0:0 S DGJTPT=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT)) Q:DGJTPT']""!(DGU)  D PHY1 Q:DGU
"RTN","DGJOPRT2",17,0)
 Q
"RTN","DGJOPRT2",18,0)
PHY1 F DFN=0:0 S DFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DFN)) Q:'DFN!(DGU)  F IFN=0:0 S IFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DFN,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2 Q:DGU  D PH
"RTN","DGJOPRT2",19,0)
 Q
"RTN","DGJOPRT2",20,0)
DAT F DGJTDT=0:0 S DGJTDT=$O(^UTILITY("VAS",$J,DGJTDV,DGJTDT)) Q:'DGJTDT  F DGJY=0:0 S DGJTPT=$O(^UTILITY("VAS",$J,DGJTDV,DGJTDT,DGJTPT)) Q:DGJTPT']""!(DGU)  D DAT1
"RTN","DGJOPRT2",21,0)
 Q
"RTN","DGJOPRT2",22,0)
DAT1 F DFN=0:0 S DFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTDT,DGJTPT,DFN)) Q:'DFN!(DGU)  F IFN=0:0 S IFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTDT,DGJTPT,DFN,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2
"RTN","DGJOPRT2",23,0)
 Q
"RTN","DGJOPRT2",24,0)
SER D:'DGJTFF HDR
"RTN","DGJOPRT2",25,0)
 F DGJY=0:0 S DGJTSV=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV)) Q:DGJTSV']""!(DGU)  D:DGJTFF RET Q:DGU  D:DGJTFF HEAD,HDR D HDR2 S DGJTFF=1 F DGJJ=0:0 S DGJTSP=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP)) Q:DGJTSP']""!(DGU)  D HDR3,SER1 Q:DGU
"RTN","DGJOPRT2",26,0)
 Q
"RTN","DGJOPRT2",27,0)
SER1 F DGJP=0:0 S DGJTPT=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT)) Q:DGJTPT']""!(DGU)  D SER2
"RTN","DGJOPRT2",28,0)
 Q
"RTN","DGJOPRT2",29,0)
SER2 F DFN=0:0 S DFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN)) Q:'DFN!(DGU)  F IFN=0:0 S IFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2 Q:DGU  D SV
"RTN","DGJOPRT2",30,0)
 Q
"RTN","DGJOPRT2",31,0)
PRT2 D RELP Q:DGU  S DGJTNODE=^VAS(393,IFN,0)
"RTN","DGJOPRT2",32,0)
 I DGJTL'="PHY" S DGJTPC=14 S DGJTPHY=$S($P(DGJTNODE,"^",DGJTPC)]""&($D(^VA(200,+$P(DGJTNODE,"^",DGJTPC),0))):$P(^(0),"^",1),1:"NOT SPECIFIED")
"RTN","DGJOPRT2",33,0)
 I DGJTL="DAT" W ! D DATE W ?13
"RTN","DGJOPRT2",34,0)
 I DGJTL'="DAT" W !
"RTN","DGJOPRT2",35,0)
 W $E(DGJTPT,1,15)
"RTN","DGJOPRT2",36,0)
 D PID^VADPT6 W:DGJTL="DAT" ?30 W:DGJTL'="DAT" ?18 W VA("BID")
"RTN","DGJOPRT2",37,0)
 I DGJTL'="DAT" S DGJTDT=$P(DGJTNODE,"^",3) W ?26 D DATE
"RTN","DGJOPRT2",38,0)
 I $P(DGJTNODE,"^",4)]"" S DGJTAD=$P(DGJTNODE,"^",4) I $D(^DGPM(DGJTAD,0)) S DGJTDIS=$P(^(0),"^",17) I $D(^DGPM(+DGJTDIS,0)) S DGJTTYP=$P(^(0),"^",4) W ?39,$S($D(^DG(405.1,+DGJTTYP,0)):$E($P(^(0),"^",1),1,12),1:"")
"RTN","DGJOPRT2",39,0)
 W ?53,$S($P(DGJTNODE,"^",5)]""&($D(^SC(+$P(DGJTNODE,"^",5),0))):$E($P(^SC($P(DGJTNODE,"^",5),0),"^",1),1,13),1:"")
"RTN","DGJOPRT2",40,0)
 S DFN=$P(DGJTNODE,"^",1) S RTE=DFN_";DPT(",RTYPE=$$RECTYP^DGJOPRT1(DGJTNODE) D LATEST^RTUTL3
"RTN","DGJOPRT2",41,0)
 W ?69,$E($P(RTDATA,"^",2),1,12)
"RTN","DGJOPRT2",42,0)
 I DGJTL="PHY" D HD1^DGJOPRT3 Q
"RTN","DGJOPRT2",43,0)
 W ?87,$E(DGJTPHY,1,15)
"RTN","DGJOPRT2",44,0)
 W ?106,$S($P(DGJTNODE,"^",2)]""&($D(^VAS(393.3,+$P(DGJTNODE,"^",2),0))):$E($P(^VAS(393.3,$P(DGJTNODE,"^",2),0),"^",1),1,3),1:"")
"RTN","DGJOPRT2",45,0)
 I DGJTDIR=2 W ?111,$S($P(DGJTNODE,"^",11)&($D(^DG(393.2,+$P(DGJTNODE,"^",11),0))):$E($P(^DG(393.2,$P(DGJTNODE,"^",11),0),"^",1),1,10),1:"")
"RTN","DGJOPRT2",46,0)
 W ?125,$J(DGJTDL,4)
"RTN","DGJOPRT2",47,0)
 Q
"RTN","DGJOPRT2",48,0)
HEAD D HEAD^DGJOPRT3 Q
"RTN","DGJOPRT2",49,0)
RET I DGJTL="PAT"!(DGJTL="DAT")&(IOST'?1"C-".E) G RET1
"RTN","DGJOPRT2",50,0)
 Q:IOST'?1"C-".E
"RTN","DGJOPRT2",51,0)
RET1 F X=$Y:1:(IOSL-3) W !
"RTN","DGJOPRT2",52,0)
 D DIV Q:IOST'?1"C-".E
"RTN","DGJOPRT2",53,0)
 R ?22,"Enter <RET> to continue or ^ to QUIT ",X:DTIME S:X["^"!('$T) DGU=1 Q:DGU  S DGFLAG=1 Q
"RTN","DGJOPRT2",54,0)
RELP I $Y+8>IOSL I DGJTL="PAT"!(DGJTL="DAT") D RET Q:DGU  D HEAD Q
"RTN","DGJOPRT2",55,0)
 I $Y+8>IOSL D RET:(IOST?1"C-".E) Q:DGU  D HEAD
"RTN","DGJOPRT2",56,0)
 Q
"RTN","DGJOPRT2",57,0)
HDR W !?5,"DIVISION: ",DGJTDV Q
"RTN","DGJOPRT2",58,0)
HDR1 W !?6,"PHYSICIAN: ",DGJTPHY Q
"RTN","DGJOPRT2",59,0)
HDR2 W !?6,"SERVICE: ",DGJTSV Q
"RTN","DGJOPRT2",60,0)
HDR3 W !?7,"SPECIALTY: ",DGJTSP Q
"RTN","DGJOPRT2",61,0)
PH D PH^DGJOPRT3 Q
"RTN","DGJOPRT2",62,0)
SV D SV^DGJOPRT3 Q
"RTN","DGJOPRT3")
0^8^B14735638
"RTN","DGJOPRT3",1,0)
DGJOPRT3 ;ALB/MAF - TOTALS PAGE FOR REPORTS ; SEP 26 1991@1100
"RTN","DGJOPRT3",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOPRT3",3,0)
 ;
"RTN","DGJOPRT3",4,0)
 D HEAD1 S DGJTOTAL=0 F DGJTTO=0:0 S DGJTOTAL=$O(DGJTOT(DGJTOTAL)) Q:DGJTOTAL']""  W !,DGJTOTAL,?40,$J(DGJTOT(DGJTOTAL),4)
"RTN","DGJOPRT3",5,0)
 Q
"RTN","DGJOPRT3",6,0)
HEAD1 W @IOF,"TOTALS PAGE BY DIVISION",!,"DIVISION",?37,"TOTAL DELINQ",!,DGJTLN Q
"RTN","DGJOPRT3",7,0)
RET1 F X=$Y:1:(IOSL-3) W !
"RTN","DGJOPRT3",8,0)
 S X=$O(^DG(40.8,"B",DGJTDV1,0)) I $D(^DG(40.8,+X,"DT")) S DGJTDEL=^("DT") W $P(DGJTDEL,"^",9),!
"RTN","DGJOPRT3",9,0)
 Q:IOST'?1"C-".E
"RTN","DGJOPRT3",10,0)
 R ?22,"Enter <RET> to continue or ^ to QUIT ",X:DTIME S:X["^"!('$T) DGU=1 Q:DGU  S DGFLAG=1 Q
"RTN","DGJOPRT3",11,0)
HEAD S:DGJTDV'=DGJTDV1 DGJTPAG=0
"RTN","DGJOPRT3",12,0)
 W @IOF,$S(DGJTDIR=1:"UNDICTATED ",1:"INCOMPLETE ")_"RECORDS LISTING BY "_$S(DGJTL="DAT":"EVENT DATE",DGJTL="PAT":"PATIENT",DGJTL="PHY":"PHYSICIAN",1:"SERVICE/SPECIALTY"),?99,DGJTDAT,"  ","PAGE " S DGJTPAG=DGJTPAG+1 W DGJTPAG
"RTN","DGJOPRT3",13,0)
 I DGJTL="DAT" W !,"EVT DATE",?11,"PATIENT",?28,"PT ID"
"RTN","DGJOPRT3",14,0)
 I DGJTL'="DAT" W !,"PATIENT",?18,"PT ID",?26,"EVT DATE"
"RTN","DGJOPRT3",15,0)
 W ?39,"D/C TYPE",?53,"LOCATION",?69,"BORROWER"
"RTN","DGJOPRT3",16,0)
 I DGJTL'="PHY" W ?87,"PHYSICIAN",?106,"TYP" W:DGJTDIR=2 ?112,"STATUS" W ?120,"TOTAL DAYS",!,DGJTLN,!
"RTN","DGJOPRT3",17,0)
 I DGJTL="PHY" W ?87,"TYP" W:DGJTDIR=2 ?94,"STATUS" W ?110,"TOTAL DAYS",!,DGJTLN,!
"RTN","DGJOPRT3",18,0)
 Q
"RTN","DGJOPRT3",19,0)
QUIT K DFN,DGJTBEG,DGJTBG,DGJTEND,DGJFL,DGJTDT,DGJTDV,DGJTDVN,DGJTF,DGJTFF,DGJTFLAG,DGJ,DGJJ,DGJP,DGJSPTOT,DGJSVTOT,DGJTLN,DGJTL,DGJTMUL,DGJTNODE,DGJTPC,DGJTPHY,DGJTPT,DGJTSP,DGJTSV,DGJY,DGU,DIC,IFN,VAUTD,VAUTN,VAUTNI,VAUTSTR,VAUTVB,VAUTT,X,Y
"RTN","DGJOPRT3",20,0)
 K %,DIR,DGFLAG,DGJTAD,DGJTCK,DGJTDAT,DGJTDEL,DGJTDIR,DGJTDIS,DGJTDIV,DGJTDL,DGJTDV1,DGJTMESS,DGJTNODT,DGJTNOW,DGJTOT,DGJTOTAL,DGJTPAG,DGJTPAR,DGJPHTOT,DGJTSR,DGJTSR1,DGJTSTAT,DGJTTO,DGJTTYP,DGPGM,DGVAR,POP,VAR,VA,VADAT,VADATE,VAERR
"RTN","DGJOPRT3",21,0)
 K RT,RTDATA,RTE,RTYPE,VAUTY,^UTILITY("VAS",$J)
"RTN","DGJOPRT3",22,0)
 D CLOSE^DGJUTQ Q
"RTN","DGJOPRT3",23,0)
PH Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT))]""  Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DFN,IFN))]""  W !,"------------------------",!,"COUNT: ",DGJPHTOT(DGJTDV,DGJTPHY) D RET1:(IOST'?1"C-".E) Q
"RTN","DGJOPRT3",24,0)
SV Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT))]""  Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN,IFN))]""  W !,"------------------------",!,"COUNT: ",DGJSPTOT(DGJTDV,DGJTSV,DGJTSP)
"RTN","DGJOPRT3",25,0)
 Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP))]""  W !,"------------------------",!,"SERVICE SUBTOTAL: ",DGJSVTOT(DGJTDV,DGJTSV),! D RET1:(IOST'?1"C-".E) Q
"RTN","DGJOPRT3",26,0)
 Q
"RTN","DGJOPRT3",27,0)
HD1 W ?87,$S($P(DGJTNODE,"^",2)]""&($D(^VAS(393.3,+$P(DGJTNODE,"^",2),0))):$E($P(^VAS(393.3,$P(DGJTNODE,"^",2),0),"^",1),1,3),1:"")
"RTN","DGJOPRT3",28,0)
 I DGJTDIR=2 W ?94,$S($P(DGJTNODE,"^",11)&($D(^DG(393.2,+$P(DGJTNODE,"^",11),0))):$E($P(^DG(393.2,$P(DGJTNODE,"^",11),0),"^",1),1,10),1:"")
"RTN","DGJOPRT3",29,0)
 W ?110,$J(DGJTDL,4)
"RTN","DGJOPRT3",30,0)
 Q
"RTN","DGJOTP")
0^9^B16163012
"RTN","DGJOTP",1,0)
DGJOTP ;ALB/MAF - TRANSCRIPTION PRODUCTIVITY REPORT ; FEB 12 1991@900
"RTN","DGJOTP",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOTP",3,0)
 ;
"RTN","DGJOTP",4,0)
OUT S (DGJFL,DGJTMESS)=0 W !!,"Sort output by: PHYSICIAN// " D ZSET1 S X="" R X:DTIME G QUIT:X="^"!('$T) I X=""!("Pp"[X) S X="1"
"RTN","DGJOTP",5,0)
 S X=$S("Ss"[X:2,1:X)
"RTN","DGJOTP",6,0)
 I X="?" D ZSET1,HELP1 G OUT
"RTN","DGJOTP",7,0)
 S DGJTSR=$E(X) D IN^DGJHELP W ! I %=-1 D ZSET1,HELP1 G OUT
"RTN","DGJOTP",8,0)
OUT1 S DGJFL=0 W !!,"Print report for: (I)Inpatients, (O)Outpatients, (B)Both//  " D ZSET2 S X="" R X:DTIME G QUIT:X="^"!('$T) I X=""!("Bb"[X) S X=3
"RTN","DGJOTP",9,0)
 S X=$S("Ii"[X:1,"Oo"[X:2,1:X)
"RTN","DGJOTP",10,0)
 I X="?" D ZSET2,HELP2 G OUT1
"RTN","DGJOTP",11,0)
 S DGJTSR1=$E(X) D IN^DGJHELP W ! I %=-1 D ZSET2,HELP2 G OUT1
"RTN","DGJOTP",12,0)
TOT1 S DGJFL=0 W !!,"Print report for: (P)Patient Lists, (T)Totals Page, (B)Both//  " D ZSET3 S X="" R X:DTIME G QUIT:X="^"!('$T) I X=""!("Bb"[X) S X=3
"RTN","DGJOTP",13,0)
 S X=$S("Pp"[X:1,"Tt"[X:2,1:X)
"RTN","DGJOTP",14,0)
 I X="?" D ZSET3,HELP3 G TOT1
"RTN","DGJOTP",15,0)
 S DGJTLPG=$E(X) D IN^DGJHELP W ! I %=-1 D ZSET3,HELP3 G TOT1
"RTN","DGJOTP",16,0)
 I $D(^DG(43,1,"GL")) S DGJTMUL=$P(^DG(43,1,"GL"),"^",2)
"RTN","DGJOTP",17,0)
 S DGJTL=$S(DGJTSR=1:"PHY",DGJTSR=2:"SER",1:"QUIT")
"RTN","DGJOTP",18,0)
 S DGJTSTAT="^"_$O(^DG(393.2,"B","INCOMPLETE",0))_"^"_$O(^DG(393.2,"B","DICTATED",0))_"^"_$O(^DG(393.2,"B","TRANSCRIBED",0))_"^"_$O(^DG(393.2,"B","SIGNED",0))_"^"
"RTN","DGJOTP",19,0)
 G ^DGJOTP1
"RTN","DGJOTP",20,0)
QUIT K %,%DT,BY,DHD,DIC,DIOEND,DIS,DIR,DTOUT,DUOUT,FR,FLDS,K,L,TO,DGJTCK,DGJTDIR,DGJTL,DGJTLPG,DGJTMESS,DGJTMUL,DGJTSR,DGJTSTAT,DGJTUN,DGJFL,DGJTSR1,DGJ(0),X,Y,Z,DGJTBG,DGJTBEG,DGJTEND,%DT
"RTN","DGJOTP",21,0)
 K DFN,DGJTBEG,DGJTBG,DGJTEND,DGJTDT,DGJTDV,DGJTDVN,DGJTF,DGJTFF,DGJTFLAG,DGJ,DGJJ,DGJP,DGJSPTOT,DGJSVTOT,DGJTLN,DGJTNODE,DGJTPC,DGJTPHY,DGJTPT,DGJTSP,DGJTSV,DGJY,DGU,IFN,VAUTD,VAUTN,VAUTNI,VAUTSTR,VAUTVB,VAUTT
"RTN","DGJOTP",22,0)
 K DGFLAG,DGJTAD,DGJTDAT,DGJTDEL,DGJTDIS,DGJTDIV,DGJTDL,DGJTDV1,DGJTMESS,DGJTNODT,DGJTNOW,DGJTOT,DGJTOTAL,DGJTPAG,DGJTPAR,DGJPHTOT,DGJTTO,DGJTTYP,DGPGM,DGVAR,POP,VAR,VA,VADAT,VADATE,VAERR
"RTN","DGJOTP",23,0)
 K DGJ2CNT,DGJC,DGJCNTX,DGJCOTO,DGJDOC,DGJFFL,DGJJX,DGJT1,DGJT2PC,DGJT2PH,DGJT3PC,DGJT4PC,DGJT5PC,DGJTADN,DGJTADTP,DGJTAIFN,DGJTAT,DGJTCFLG,DGJTCL,DGJTCNT,DGJTCT,DGJTDBY,DGJTDD,DGJTEDT,DGJTFG,DGJTFL,DGJDICTO,DGJTREC,DGJTRNTO,DGJTTI,DGJX
"RTN","DGJOTP",24,0)
 K DGJ1X,DGJ30AVG,DGJDYAVG,DGJTCOD,DGJTDIC,DGJTO30,DGJTOREC,DGJTTODY,DGJTTRN,DGJT1X,DGJTFLLG,X1,X2,^UTILITY("VAS",$J)
"RTN","DGJOTP",25,0)
 D CLOSE^DGJUTQ Q
"RTN","DGJOTP",26,0)
DAT ;DATE RANGE
"RTN","DGJOTP",27,0)
BEG W ! S %DT="AEX",%DT("A")="START WITH EVENT DATE: " D ^%DT S DGJTBG=Y,DGJTBEG=Y-.0001 S:X="^"!(X="") Y=-1 Q:Y=-1
"RTN","DGJOTP",28,0)
END W ! S %DT("A")="END WITH EVENT DATE: " D ^%DT S:X="^"!(X="") Y=-1 Q:Y=-1  I Y<1 D HELP^%DTC G END
"RTN","DGJOTP",29,0)
 S DGJTEND=Y_.9999
"RTN","DGJOTP",30,0)
 I DGJTEND\1<DGJTBG W !!?5,"The ending date cannot be before the beginning date" G END
"RTN","DGJOTP",31,0)
 Q
"RTN","DGJOTP",32,0)
HELP1 W !!,"Choose a number or first initial :" F K=2:1:3 W !?15,$P(Z,"^",K)
"RTN","DGJOTP",33,0)
 W ! Q
"RTN","DGJOTP",34,0)
HELP2 W !!,"Choose a number or first initial:" F K=2:1:4 W !?15,$P(Z,"^",K)
"RTN","DGJOTP",35,0)
 W ! Q
"RTN","DGJOTP",36,0)
HELP3 W !!,"Choose a number or first initial:" F K=2:1:4 W !?15,$P(Z,"^",K)
"RTN","DGJOTP",37,0)
 W ! Q
"RTN","DGJOTP",38,0)
ZSET1 S Z="^1 PHYSICIAN^2 SERVICE/TREATING SPECIALTY^" Q
"RTN","DGJOTP",39,0)
ZSET2 S Z="^1 INPATIENTS ONLY^2 OUTPATIENTS ONLY^3 BOTH INPATIENT and OUTPATIENTS^" Q
"RTN","DGJOTP",40,0)
ZSET3 S Z="^1 PATIENTS LIST ONLY^2 TOTALS PAGE ONLY^3 BOTH PATIENTS LIST and TOTALS PAGE^" Q
"RTN","DGJOTP1")
0^10^B30433941
"RTN","DGJOTP1",1,0)
DGJOTP1 ;MAF/ALB - TRANS PROD REPORT CONT. 1 ; SEP 11 1991@10:00
"RTN","DGJOTP1",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOTP1",3,0)
 ;
"RTN","DGJOTP1",4,0)
 I $D(DGJTMUL),DGJTMUL D DIVISION^VAUTOMA G:Y=-1 QUIT
"RTN","DGJOTP1",5,0)
 I 'DGJTMUL S DGJTDV=$O(^DG(40.8,0))
"RTN","DGJOTP1",6,0)
 D @(DGJTL) G:Y=-1 QUIT
"RTN","DGJOTP1",7,0)
 D DAT^DGJOTP G:Y=-1 QUIT
"RTN","DGJOTP1",8,0)
 S DIC("S")="I $S(""^OP REPORT^INTERIM SUMMARY^DISCHARGE SUMMARY^""[$P(^VAS(393.3,+Y,0),U,1):1,1:0)"
"RTN","DGJOTP1",9,0)
 S VAUTVB="VAUTY",DIC="^VAS(393.3,",VAUTSTR="Summary Type",VAUTNI=2 D FIRST^VAUTOMA Q:Y=-1
"RTN","DGJOTP1",10,0)
 W !!,*7,"This output requires 132 column output",!
"RTN","DGJOTP1",11,0)
 D NOW^%DTC S Y=$E(%,1,12) S VADAT("W")=Y D ^VADATE S DGJTDAT=VADATE("E")
"RTN","DGJOTP1",12,0)
 S DGVAR="DGJTDV^DGJTDIR^DGJTDAT^DGJTLPG^DGJTSTAT^DGJTCK^DGJTFL^DGJTMESS^DGJTSR^DGJTSR1^DGJTMUL^DGJTL^DGJTBG^DGJTEND^VAUTD#^VAUTN#^VAUTT#^VAUTY#",DGPGM="START^DGJOTP1" D ZIS^DGJUTQ I 'POP U IO G START^DGJOTP1
"RTN","DGJOTP1",13,0)
 G QUIT
"RTN","DGJOTP1",14,0)
START S (DGJTPAG,DGJTDV1,DGJDICTO,DGJTRNTO,DGJCOTO,DGJDYAVG,DGJ30AVG)=0 F IFN=0:0 S IFN=$O(^VAS(393,IFN)) Q:'IFN  S DGJTNODE=^VAS(393,IFN,0) D CK
"RTN","DGJOTP1",15,0)
 I DGJTLPG=1!(DGJTLPG=3),$D(^UTILITY("VAS",$J)) S (DGJ,DGJTF,DGJTFF,DGJY,DGJTDV,DGJTDT,DGJTSV,DGJTSP,DGJTPHY,DGJTPT,DGU,DFN,IFN)=0,$P(DGJTLN,"=",133)="" G ^DGJOTP2
"RTN","DGJOTP1",16,0)
 I DGJTLPG=2,$D(^UTILITY("VAS",$J)) S (DGJ,DGJTF,DGJTFF,DGJY,DGJTDV,DGJTDT,DGJTSV,DGJTSP,DGJTPHY,DGJTPT,DGU,DFN,IFN)=0,$P(DGJTLN,"=",133)="" G ^DGJOTP3
"RTN","DGJOTP1",17,0)
 I '$D(^UTILITY("VAS",$J)) W !!,"NO RECORDS"
"RTN","DGJOTP1",18,0)
QUIT G QUIT^DGJOTP
"RTN","DGJOTP1",19,0)
CNT S DGJT5PC=DGJT2PC+DGJT3PC+DGJT4PC
"RTN","DGJOTP1",20,0)
 S $P(DGJTOT(DGJTDVN),"^",1)=+DGJTOT(DGJTDVN)+1 I DGJT5PC>30 S $P(DGJTOT(DGJTDVN),"^",2)=$P(DGJTOT(DGJTDVN),"^",2)+1
"RTN","DGJOTP1",21,0)
 I DGJTL="PHY" S:'$D(DGJPHTOT(DGJTDVN,DGJTPHY)) DGJPHTOT(DGJTDVN,DGJTPHY)=0 S $P(DGJPHTOT(DGJTDVN,DGJTPHY),"^",1)=$P(DGJPHTOT(DGJTDVN,DGJTPHY),"^",1)+1 S:DGJT5PC>30 $P(DGJPHTOT(DGJTDVN,DGJTPHY),"^",2)=$P(DGJPHTOT(DGJTDVN,DGJTPHY),"^",2)+1
"RTN","DGJOTP1",22,0)
 I DGJTL="PHY" D PC Q
"RTN","DGJOTP1",23,0)
 I DGJTL="SER" S:'$D(DGJSVTOT(DGJTDVN,DGJTSV)) DGJSVTOT(DGJTDVN,DGJTSV)=0 S $P(DGJSVTOT(DGJTDVN,DGJTSV),"^",1)=$P(DGJSVTOT(DGJTDVN,DGJTSV),"^",1)+1 S:DGJT5PC>30 $P(DGJSVTOT(DGJTDVN,DGJTSV),"^",2)=$P(DGJSVTOT(DGJTDVN,DGJTSV),"^",2)+1 D PC
"RTN","DGJOTP1",24,0)
 I DGJTL="SER" S:'$D(DGJSPTOT(DGJTDVN,DGJTSV,DGJTSP)) DGJSPTOT(DGJTDVN,DGJTSV,DGJTSP)=0 S DGJSPTOT(DGJTDVN,DGJTSV,DGJTSP)=DGJSPTOT(DGJTDVN,DGJTSV,DGJTSP)+1
"RTN","DGJOTP1",25,0)
 Q
"RTN","DGJOTP1",26,0)
CK I $D(VAUTD),'VAUTD I $P(DGJTNODE,"^",6)]"",'$D(VAUTD($P(DGJTNODE,"^",6))) Q
"RTN","DGJOTP1",27,0)
 I $D(DGJTDV),$P(DGJTNODE,"^",6)]"" I $P(DGJTNODE,"^",6)'=DGJTDV Q
"RTN","DGJOTP1",28,0)
 I DGJTSR1=1,$P(DGJTNODE,"^",13)'=1 Q
"RTN","DGJOTP1",29,0)
 I DGJTSR1=2,$P(DGJTNODE,"^",13)]"" Q
"RTN","DGJOTP1",30,0)
 I DGJTSR1'=2 I $P(DGJTNODE,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) S X=$P(DGJTNODE,"^",4) I X]"" I $D(^DGPM(X,0)) S X=$P(^DGPM(X,0),"^",17) Q:X']""
"RTN","DGJOTP1",31,0)
 S DGJTPC=$S(DGJTL="SER":8,DGJTL="PHY":14,1:"")
"RTN","DGJOTP1",32,0)
 Q:$P(DGJTNODE,"^",2)']""  Q:'$D(^VAS(393.3,$P(DGJTNODE,"^",2),0))  I "^OP REPORT^DISCHARGE SUMMARY^INTERIM SUMMARY^"'[$P(^VAS(393.3,$P(DGJTNODE,"^",2),0),"^",1) Q
"RTN","DGJOTP1",33,0)
 I $D(VAUTN),'VAUTN I '$D(VAUTN(+$P(DGJTNODE,"^",DGJTPC))) Q
"RTN","DGJOTP1",34,0)
 I $D(VAUTT),'VAUTT I '$D(VAUTT(+$P(DGJTNODE,"^",7))) Q
"RTN","DGJOTP1",35,0)
 I $D(VAUTY),'VAUTY I '$D(VAUTY(+$P(DGJTNODE,"^",2))) Q
"RTN","DGJOTP1",36,0)
 I $P(DGJTNODE,"^",3)<DGJTBG!($P(DGJTNODE,"^",3)>DGJTEND) Q
"RTN","DGJOTP1",37,0)
 D ^DGJOTPUL I 'DGJTREC Q
"RTN","DGJOTP1",38,0)
 S DGJTDIV=$P(DGJTNODE,"^",6),DGJTDVN=$S($P(DGJTNODE,"^",6)]""&($D(^DG(40.8,+$P(DGJTNODE,"^",6),0))):$P(^(0),"^",1),1:"NOT SPECIFIED") I DGJTL'="SER" I '$D(DGJTOT(DGJTDVN)) S DGJTOT(DGJTDVN)=0
"RTN","DGJOTP1",39,0)
 I DGJTL="SER" S DGJTDVN=$E(DGJTDVN,1,23) I '$D(DGJTOT(DGJTDVN)) S DGJTOT(DGJTDVN)=0
"RTN","DGJOTP1",40,0)
 S DFN=$P(DGJTNODE,"^",1) I $D(^DPT(DFN,0)) S DGJTPT=$P(^(0),"^",1)
"RTN","DGJOTP1",41,0)
 I DGJTL="PHY" S DGJTPHY=$S($P(DGJTNODE,"^",DGJTPC)]""&($D(^VA(200,+$P(DGJTNODE,"^",DGJTPC),0))):$P(^(0),"^",1),1:"NOT SPECIFIED") S ^UTILITY("VAS",$J,DGJTDVN,DGJTPHY,DGJTPT,DFN,IFN)=DGJTDL_"^"_DGJT2PC_"^"_DGJT3PC_"^"_DGJT4PC D CNT Q
"RTN","DGJOTP1",42,0)
 I DGJTL="SER" S DGJTSV=$S($P(DGJTNODE,"^",DGJTPC)]""&($D(^DG(393.1,+$P(DGJTNODE,"^",DGJTPC),0))):$P(^(0),"^",1),1:"NOT SPECIFIED"),DGJTSP=$S($P(DGJTNODE,"^",7)]""&($D(^DIC(45.7,+$P(DGJTNODE,"^",7),0))):$P(^(0),"^",1),1:"NOT SPECIFIED")
"RTN","DGJOTP1",43,0)
 I DGJTL="SER" S DGJTSV=$E(DGJTSV,1,16),DGJTSP=$E(DGJTSP,1,16),DGJTPT=$E(DGJTPT,1,16) S ^UTILITY("VAS",$J,DGJTDVN,DGJTSV,DGJTSP,DGJTPT,DFN,IFN)=DGJTDL_"^"_DGJT2PC_"^"_DGJT3PC_"^"_DGJT4PC D CNT Q
"RTN","DGJOTP1",44,0)
 Q
"RTN","DGJOTP1",45,0)
PC S DGJJX=$S(DGJTL="PHY":DGJPHTOT(DGJTDVN,DGJTPHY),1:DGJSVTOT(DGJTDVN,DGJTSV)) S $P(DGJJX,"^",3)=$P(DGJJX,"^",3)+DGJT2PC,$P(DGJJX,"^",4)=$P(DGJJX,"^",4)+DGJT3PC,$P(DGJJX,"^",5)=$P(DGJJX,"^",5)+DGJT4PC D TOT
"RTN","DGJOTP1",46,0)
 I DGJTL="PHY" S DGJPHTOT(DGJTDVN,DGJTPHY)=DGJJX
"RTN","DGJOTP1",47,0)
 I DGJTL="SER" S DGJSVTOT(DGJTDVN,DGJTSV)=DGJJX
"RTN","DGJOTP1",48,0)
 Q
"RTN","DGJOTP1",49,0)
TOT S $P(DGJJX,"^",6)=$P(DGJJX,"^",6)+DGJT2PC+DGJT3PC+DGJT4PC S X=$S((DGJT2PC+DGJT3PC+DGJT4PC)>30:(DGJT2PC+DGJT3PC+DGJT4PC)-30,1:0) S $P(DGJJX,"^",7)=$P(DGJJX,"^",7)+X
"RTN","DGJOTP1",50,0)
 Q
"RTN","DGJOTP1",51,0)
PHY S VAUTVB="VAUTN",DIC="^VA(200,",VAUTSTR="Physician",VAUTNI=2 D FIRST^VAUTOMA S:Y=-1 DGJFL=1 Q:DGJFL
"RTN","DGJOTP1",52,0)
 Q
"RTN","DGJOTP1",53,0)
SER S VAUTVB="VAUTN",DIC="^DG(393.1,",VAUTSTR="Service",VAUTNI=2 D FIRST^VAUTOMA Q:Y=-1
"RTN","DGJOTP1",54,0)
 S VAUTVB="VAUTT",DIC="^DIC(45.7,",VAUTSTR="Specialty",VAUTNI=2 D FIRST^VAUTOMA
"RTN","DGJOTP1",55,0)
 Q
"RTN","DGJOTP2")
0^11^B16903453
"RTN","DGJOTP2",1,0)
DGJOTP2 ;ALB/MAF - TRANS PROD REPORT CONT. 2 ; AUG 30 1991@1000
"RTN","DGJOTP2",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOTP2",3,0)
 ;
"RTN","DGJOTP2",4,0)
 D HEAD F DGJ=0:0 S DGJTDV=$O(^UTILITY("VAS",$J,DGJTDV)) Q:DGJTDV']""!(DGU)  S DGJTF=1 D @(DGJTL) Q:DGU
"RTN","DGJOTP2",5,0)
 G:DGU QUIT I DGJTLPG'=1,$D(^UTILITY("VAS",$J)) D RET G:DGU QUIT D ^DGJOTP3
"RTN","DGJOTP2",6,0)
QUIT G QUIT^DGJOTP
"RTN","DGJOTP2",7,0)
HD1 W ?65,$S($P(DGJTNODE,"^",2)]""&($D(^VAS(393.3,+$P(DGJTNODE,"^",2),0))):$E($P(^VAS(393.3,$P(DGJTNODE,"^",2),0),"^",1),1,3),1:"")
"RTN","DGJOTP2",8,0)
 I DGJTDIR=2 W ?70 S X=$P(DGJTNODE,"^",11) W $S(X=1:"UNDICT",X=2:"DICTAT",X=3:"TRANSC",X=4:"SIGNED",1:"")
"RTN","DGJOTP2",9,0)
 S X=$S('$D(^VAS(393,IFN,"DT")):"",$P(^("DT"),"^",1)]"":$P(^("DT"),"^",1),1:"")
"RTN","DGJOTP2",10,0)
 W ?77 S:X]"" X=$$FMTE^XLFDT(X,"5DF"),X=$TR(X," ","0") W X
"RTN","DGJOTP2",11,0)
 W ?88,$J($P(DGJTDL,"^",2),7)
"RTN","DGJOTP2",12,0)
 W ?97,$J($P(DGJTDL,"^",3),7)
"RTN","DGJOTP2",13,0)
 W ?106,$J($P(DGJTDL,"^",4),7)
"RTN","DGJOTP2",14,0)
 W ?116 S X=$P(DGJTDL,"^",2)+$P(DGJTDL,"^",3)+$P(DGJTDL,"^",4) W $J(X,7) S DGJDYAVG=DGJDYAVG+X
"RTN","DGJOTP2",15,0)
 W ?128 S X=$S(X-30'>0:0,1:X-30) W $J(X,4) S DGJ30AVG=DGJ30AVG+X
"RTN","DGJOTP2",16,0)
 Q
"RTN","DGJOTP2",17,0)
SET S DGJTDV1=DGJTDV Q
"RTN","DGJOTP2",18,0)
DIV W "* PENDING STATUS  - Number of days pending",! Q
"RTN","DGJOTP2",19,0)
 Q
"RTN","DGJOTP2",20,0)
DATE S DGJTX=$$FMTE^XLFDT(DGJTDT,"5DF"),DGJTX=$TR(DGJTX," ","0") W DGJTX K DGJTX Q
"RTN","DGJOTP2",21,0)
PHY D:'DGJTFF HDR
"RTN","DGJOTP2",22,0)
 F DGJY=0:0 S DGJTPHY=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY)) Q:DGJTPHY']""!(DGU)  D:DGJTFF RET Q:DGU  D:DGJTFF HEAD,HDR D HDR1 S DGJTFF=1 F DGJJ=0:0 S DGJTPT=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT)) Q:DGJTPT']""!(DGU)  D PHY1 Q:DGU
"RTN","DGJOTP2",23,0)
 Q
"RTN","DGJOTP2",24,0)
PHY1 F DFN=0:0 S DFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DFN)) Q:'DFN!(DGU)  F IFN=0:0 S IFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DFN,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2 Q:DGU  D PH^DGJOTP3
"RTN","DGJOTP2",25,0)
 Q
"RTN","DGJOTP2",26,0)
SER D:'DGJTFF HDR
"RTN","DGJOTP2",27,0)
 F DGJY=0:0 S DGJTSV=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV)) Q:DGJTSV']""!(DGU)  D:DGJTFF RET Q:DGU  D:DGJTFF HEAD,HDR D HDR2 S DGJTFF=1 F DGJJ=0:0 S DGJTSP=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP)) Q:DGJTSP']""!(DGU)  D HDR3,SER1 Q:DGU
"RTN","DGJOTP2",28,0)
 Q
"RTN","DGJOTP2",29,0)
SER1 F DGJP=0:0 S DGJTPT=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT)) Q:DGJTPT']""!(DGU)  D SER2
"RTN","DGJOTP2",30,0)
 Q
"RTN","DGJOTP2",31,0)
SER2 F DFN=0:0 S DFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN)) Q:'DFN!(DGU)  F IFN=0:0 S IFN=$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2 Q:DGU  D SV
"RTN","DGJOTP2",32,0)
 Q
"RTN","DGJOTP2",33,0)
PRT2 D RELP Q:DGU  S DGJTNODE=^VAS(393,IFN,0)
"RTN","DGJOTP2",34,0)
 I DGJTL'="PHY" S DGJTPC=14 S DGJTPHY=$S($P(DGJTNODE,"^",DGJTPC)]""&($D(^VA(200,+$P(DGJTNODE,"^",DGJTPC),0))):$P(^(0),"^",1),1:"NOT SPECIFIED")
"RTN","DGJOTP2",35,0)
 I DGJTL="PHY" W !,$E(DGJTPT,1,20)
"RTN","DGJOTP2",36,0)
 I DGJTL="SER" W !,$E(DGJTPT,1,16)
"RTN","DGJOTP2",37,0)
 D PID^VADPT6 W:DGJTL="SER" ?19 W:DGJTL'="SER" ?23 W VA("BID")
"RTN","DGJOTP2",38,0)
 S DGJTDT=$P(DGJTNODE,"^",3) W:DGJTL="SER" ?26 W:DGJTL="PHY" ?31 D DATE
"RTN","DGJOTP2",39,0)
 W:DGJTL="SER" ?39 W:DGJTL="PHY" ?44 W $S($P(DGJTNODE,"^",5)]""&($D(^SC(+$P(DGJTNODE,"^",5),0))):$E($P(^SC($P(DGJTNODE,"^",5),0),"^",1),1,12),1:"")
"RTN","DGJOTP2",40,0)
 W:DGJTL="SER" ?53,$E(DGJTPHY,1,10) D HD1 Q
"RTN","DGJOTP2",41,0)
HEAD D HEAD^DGJOTP3 Q
"RTN","DGJOTP2",42,0)
RET F X=$Y:1:(IOSL-3) W !
"RTN","DGJOTP2",43,0)
 D DIV Q:IOST'?1"C-".E
"RTN","DGJOTP2",44,0)
 R ?22,"Enter <RET> to continue or ^ to QUIT ",X:DTIME S:X["^"!('$T) DGU=1 Q:DGU  S DGFLAG=1 Q
"RTN","DGJOTP2",45,0)
RELP I $Y+8>IOSL D RET:(IOST?1"C-".E) Q:DGU  D HEAD
"RTN","DGJOTP2",46,0)
 Q
"RTN","DGJOTP2",47,0)
HDR W !?5,"DIVISION: ",DGJTDV Q
"RTN","DGJOTP2",48,0)
HDR1 W !?6,"PHYSICIAN: ",DGJTPHY Q
"RTN","DGJOTP2",49,0)
HDR2 W !?6,"SERVICE: ",DGJTSV Q
"RTN","DGJOTP2",50,0)
HDR3 W !?7,"SPECIALTY: ",DGJTSP Q
"RTN","DGJOTP2",51,0)
SV D SV^DGJOTP3 Q
"RTN","DGJOTP3")
0^12^B22968158
"RTN","DGJOTP3",1,0)
DGJOTP3 ;ALB/MAF - TOTALS PAGE FOR TRANS PROD REPORT ; SEP 26 1991@1100
"RTN","DGJOTP3",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOTP3",3,0)
 ;
"RTN","DGJOTP3",4,0)
 S (DGJDOC,DGJTOTAL)=0
"RTN","DGJOTP3",5,0)
 F DGJTTO=0:0 S DGJTOTAL=$O(DGJTOT(DGJTOTAL)) Q:DGJTOTAL']""!(DGU)  D SET,HEAD1,LIST,TOT
"RTN","DGJOTP3",6,0)
QUIT G QUIT^DGJOTP
"RTN","DGJOTP3",7,0)
SET S (DGJTDIC,DGJTTRN,DGJTCOD,DGJTTODY,DGJTO30,DGJTOREC)=0 Q
"RTN","DGJOTP3",8,0)
TOT W !,"------------------------",?30,"-------",?45,"-------",?60,"-------",?75,"-------",?88,"-------",?100,"-------",?112,"-------",?125,"-------"
"RTN","DGJOTP3",9,0)
 W !,"DIVISION TOTAL",?30 S X=DGJTDIC/DGJTOREC D EXT W ?45 S X=DGJTTRN/DGJTOREC D EXT W ?60 S X=DGJTCOD/DGJTOREC D EXT W ?75 S X=DGJTTODY/DGJTOREC D EXT W ?88 S X=DGJTO30/DGJTOREC D EXT
"RTN","DGJOTP3",10,0)
 W ?100,$J(+DGJTOT(DGJTOTAL),7),?112,$S($P(DGJTOT(DGJTOTAL),"^",2)]"":$J($P(DGJTOT(DGJTOTAL),"^",2),7),1:$J(0,7)),?125 S X=($P(DGJTOT(DGJTOTAL),"^",2)/+DGJTOT(DGJTOTAL))*100 D EXT I $O(DGJTOT(DGJTOTAL))]"" D RET1 Q:DGU
"RTN","DGJOTP3",11,0)
 Q
"RTN","DGJOTP3",12,0)
HEAD1 W @IOF,"TOTALS PAGE FOR "_DGJTOTAL,?100,DGJTDAT,!
"RTN","DGJOTP3",13,0)
 W $S(DGJTL="PHY":"PHYSICIAN",1:"SERVICE/SPECIALTY"),?30,"AVG DAYS",?45,"AVG DAYS",?60,"AVG DAYS",?75,"AVG TOT",?88,"AVG DAYS",?100,"TOT REC",?111,"REC DELQ",?123,"% DELQ>30",!
"RTN","DGJOTP3",14,0)
 W ?30,"D/C-DIC",?45,"DIC-TRAN",?60,"TRAN-COD",?75,"DAYS DELQ",?88,"DELQ>30",!,DGJTLN Q
"RTN","DGJOTP3",15,0)
RET1 F X=$Y:1:(IOSL-3) W !
"RTN","DGJOTP3",16,0)
 Q:IOST'?1"C-".E
"RTN","DGJOTP3",17,0)
 R ?22,"Enter <RET> to continue or ^ to QUIT ",X:DTIME S:X["^"!('$T) DGU=1 Q:DGU  S DGFLAG=1 Q
"RTN","DGJOTP3",18,0)
RELP I $Y+8>IOSL D RET1:(IOST?1"C-".E) Q:DGU  D HEAD:DGJTLPG=1 D HEAD1:DGJTLPG'=1
"RTN","DGJOTP3",19,0)
 Q
"RTN","DGJOTP3",20,0)
HEAD S:DGJTDV'=DGJTDV1 DGJTPAG=0
"RTN","DGJOTP3",21,0)
 S DGJTDIR=2 W @IOF,"TRANSCRIPTION PRODUCTIVITY REPORT BY "_$S(DGJTL="PHY":"PHYSICIAN",1:"SERVICE/SPECIALTY"),?97,DGJTDAT,"  ","PAGE " S DGJTPAG=DGJTPAG+1 W DGJTPAG
"RTN","DGJOTP3",22,0)
 I DGJTL="SER" W !,"PATIENT",?19,"PT ID",?26,"EVT DATE",?39
"RTN","DGJOTP3",23,0)
 I DGJTL="PHY" W !,"PATIENT",?23,"PT ID",?31,"EVT DATE",?44
"RTN","DGJOTP3",24,0)
 W "LOCATION"
"RTN","DGJOTP3",25,0)
 I DGJTL="SER" W ?53,"PHYSICIAN"
"RTN","DGJOTP3",26,0)
 W ?65,"TYP" W:DGJTDIR=2 ?70,"STATUS"
"RTN","DGJOTP3",27,0)
 W ?78,"DIC DATE",?88,"D/C-DIC",?97,"DIC-TRN",?106,"TRN-COD",?115,"TOT DAYS",?125,"DELQ>30",!,DGJTLN,!
"RTN","DGJOTP3",28,0)
 Q
"RTN","DGJOTP3",29,0)
PH Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT))]""  Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DFN,IFN))]""
"RTN","DGJOTP3",30,0)
 W !,"-------------------",?70,"-------",?88,"-------",?97,"-------",?106,"-------",?116,"-------",?125,"-------",!,"COUNT: ",$P(DGJPHTOT(DGJTDV,DGJTPHY),"^",1) D CNTWR D RET1:(IOST'?1"C-".E) Q
"RTN","DGJOTP3",31,0)
SV Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT))]""  Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN,IFN))]""  W !,"------------------------",!,"COUNT: ",DGJSPTOT(DGJTDV,DGJTSV,DGJTSP)
"RTN","DGJOTP3",32,0)
 Q:$O(^UTILITY("VAS",$J,DGJTDV,DGJTSV,DGJTSP))]""
"RTN","DGJOTP3",33,0)
 W !,"------------------------",?70,"-------",?88,"-------",?97,"-------",?106,"-------",?116,"-------",?125,"-------",!,"SERVICE SUBTOTAL: ",$P(DGJSVTOT(DGJTDV,DGJTSV),"^",1) D CNTWR D RET1:(IOST'?1"C-".E) Q
"RTN","DGJOTP3",34,0)
 Q
"RTN","DGJOTP3",35,0)
LIST F DGJTTI=0:0 S DGJDOC=$S(DGJTL="PHY":$O(DGJPHTOT(DGJTOTAL,DGJDOC)),1:$O(DGJSVTOT(DGJTOTAL,DGJDOC))) Q:DGJDOC']""!(DGU)  D WR Q:DGU
"RTN","DGJOTP3",36,0)
 Q
"RTN","DGJOTP3",37,0)
WR S DGJJX=0 W !,$E(DGJDOC,1,20),?30 S DGJX=$S(DGJTL="PHY":DGJPHTOT(DGJTOTAL,DGJDOC),1:DGJSVTOT(DGJTOTAL,DGJDOC)) S DGJJX=$P(DGJX,"^",1) S X=$P(DGJX,"^",3)/DGJJX D EXT W ?45 S X=$P(DGJX,"^",4)/DGJJX D EXT W ?60 S X=$P(DGJX,"^",5)/DGJJX D EXT
"RTN","DGJOTP3",38,0)
 W ?75 S X=$P(DGJX,"^",6)/DGJJX D EXT W ?88 S X=$P(DGJX,"^",7)/DGJJX D EXT
"RTN","DGJOTP3",39,0)
 W ?100,$J($P(DGJX,"^",1),7),?112 S X=$P(DGJX,"^",2) D EXT W ?125 S X=($P(DGJX,"^",2)/+DGJX)*100 D EXT D DIVTOT,RELP Q:DGU
"RTN","DGJOTP3",40,0)
 Q
"RTN","DGJOTP3",41,0)
EXT S X=$S(X]"":X,1:0)
"RTN","DGJOTP3",42,0)
 I X["." S X=$P(X,".",1)_"."_$E($P(X,".",2),1,2) W $J(X,7) Q
"RTN","DGJOTP3",43,0)
 W $J(X,7) Q
"RTN","DGJOTP3",44,0)
CNTWR W ?70,"AVG DAYS" S DGJCNTX=$S(DGJTL="PHY":DGJPHTOT(DGJTDV,DGJTPHY),1:DGJSVTOT(DGJTDV,DGJTSV)) S DGJ2CNT=$P(DGJCNTX,"^",1) W ?88 S X=$P(DGJCNTX,"^",3)/DGJ2CNT D EXT
"RTN","DGJOTP3",45,0)
 W ?97 S X=$P(DGJCNTX,"^",4)/DGJ2CNT D EXT W ?106 S X=$P(DGJCNTX,"^",5)/DGJ2CNT D EXT W ?116 S X=$P(DGJCNTX,"^",6)/DGJ2CNT D EXT W ?125 S X=$P(DGJCNTX,"^",7)/DGJ2CNT D EXT Q
"RTN","DGJOTP3",46,0)
 Q
"RTN","DGJOTP3",47,0)
DIVTOT S DGJTDIC=DGJTDIC+$P(DGJX,"^",3),DGJTTRN=DGJTTRN+$P(DGJX,"^",4),DGJTCOD=DGJTCOD+$P(DGJX,"^",5),DGJTTODY=DGJTTODY+$P(DGJX,"^",6),DGJTO30=DGJTO30+$P(DGJX,"^",7),DGJTOREC=DGJTOREC+$P(DGJX,"^",1)
"RTN","DGJOTP3",48,0)
 Q
"RTN","DGJOTPUL")
0^13^B11513262
"RTN","DGJOTPUL",1,0)
DGJOTPUL ;ALB/MAF - CHECK PARAMETERS FOR TRANS PROD REPORT ; FEB 12 1991
"RTN","DGJOTPUL",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJOTPUL",3,0)
 S DGJT1X="",(DGJTFLAG,DGJTREC,DGJT2PC,DGJT3PC,DGJT4PC,DGJT5PC)=0,DGJTNODE=^VAS(393,IFN,0),DGJTDEL=$S($D(^DG(40.8,+$P(DGJTNODE,"^",6),"DT")):^("DT"),1:"") S DGJTPAR=$P(DGJTDEL,"^",6)_"^"_$P(DGJTDEL,"^",7)_"^"_$P(DGJTDEL,"^",8)
"RTN","DGJOTPUL",4,0)
 K DGJTNODT I $D(^VAS(393,IFN,"DT")) S DGJTNODT=^VAS(393,IFN,"DT")
"RTN","DGJOTPUL",5,0)
 D NOW^%DTC S X=%,DGJTNOW=X\1 S DGJTDL=0
"RTN","DGJOTPUL",6,0)
 I DGJTSTAT[("^"_$P(DGJTNODE,"^",11)_"^") S DGJTREC=1 D PROC
"RTN","DGJOTPUL",7,0)
Q Q
"RTN","DGJOTPUL",8,0)
PROC I $P(DGJTNODE,"^",11)=$O(^DG(393.2,"B","INCOMPLETE",0)) S X1=$P(DGJTNODE,"^",3),X2=+DGJTPAR D C^%DTC S DGJTFLAG=$S(DGJTNOW=$E(X,1,7):1,DGJTNOW>(X\1):1,1:0) S:DGJTFLAG DGJTDL=DGJTNOW-$E(X,1,7) D:DGJTFLAG DAYS D TOT1 Q
"RTN","DGJOTPUL",9,0)
 I $P(DGJTNODE,"^",11)=$O(^DG(393.2,"B","DICTATED",0)) S DGJTFLAG=1,X=$P(DGJTNODE,"^",3) D DAYS,TOT1 Q
"RTN","DGJOTPUL",10,0)
 I $P(DGJTNODE,"^",11)=$O(^DG(393.2,"B","TRANSCRIBED",0)) S X1=$P(DGJTNODT,"^",3),X2=$P(DGJTPAR,"^",2) D C^%DTC S:DGJTNOW'<(X\1) DGJTFLAG=1 D:DGJTFLAG DAYS D TOT1 Q
"RTN","DGJOTPUL",11,0)
 Q:$P(DGJTDEL,"^",3)=0  I $P(DGJTNODE,"^",11)=$O(^DG(393.2,"B","SIGNED",0)) S X1=$P(DGJTNODT,"^",5),X2=$P(DGJTPAR,"^",3) D C^%DTC S:DGJTNOW'<(X\1) DGJTFLAG=1 D:DGJTFLAG DAYS D TOT1 Q
"RTN","DGJOTPUL",12,0)
 Q
"RTN","DGJOTPUL",13,0)
DAYS S X1=DGJTNOW,X2=X\1 D ^%DTC S DGJTDL=X Q
"RTN","DGJOTPUL",14,0)
TOT1 S DGJTFLLG=0 S X1=$S('$D(DGJTNODT):DGJTNOW,$D(DGJTNODT)&($P(DGJTNODT,"^",1)]""):$P(DGJTNODT,"^",1),1:DGJTNOW),X2=$P(DGJTNODE,"^",3) S:X2>X1 X1=X2 D ^%DTC
"RTN","DGJOTPUL",15,0)
 I $D(DGJTNODT),$P(DGJTNODT,"^",1)']"",$P(DGJTNODT,"^",5)]"" S DGJT2PC="-" D COD S X1=$S(X]"":X,1:DGJTNOW),X2=$P(DGJTNODE,"^",3) D ^%DTC D SET S DGJT3PC="-" Q
"RTN","DGJOTPUL",16,0)
 S DGJDICTO=DGJDICTO+X S DGJT2PC=X_"*"
"RTN","DGJOTPUL",17,0)
 I $D(DGJTNODT),$P(DGJTNODT,"^",1)]"" S X1=$S($P(DGJTNODT,"^",3)]"":$P(DGJTNODT,"^",3),1:DGJTNOW),X2=$P(DGJTNODT,"^",1) D ^%DTC S DGJTRNTO=DGJTRNTO+X S DGJT3PC=X_"*" S DGJT2PC=+DGJT2PC
"RTN","DGJOTPUL",18,0)
 I $D(DGJTNODT),$P(DGJTNODT,"^",3)]"" D COD
"RTN","DGJOTPUL",19,0)
 I $D(DGJTNODT),$P(DGJTNODT,"^",3)]"" S X1=$S(X]"":X,1:DGJTNOW),X2=$P(DGJTNODT,"^",3) D ^%DTC D SET
"RTN","DGJOTPUL",20,0)
 Q
"RTN","DGJOTPUL",21,0)
COD S X=$P(DGJTNODE,"^",4) S X=$S($D(^DGPM(+X,0)):$P(^(0),"^",16),1:"") I X]"" S X=$S($D(^DGPT(X,0)):$P(^DGPT(X,0),"^",9),1:"") I X]"" S X=$S($D(^DGP(45.84,+X,0)):$P(^(0),"^",2),1:"")
"RTN","DGJOTPUL",22,0)
        I X']"" S DGJTFLLG=1
"RTN","DGJOTPUL",23,0)
 Q
"RTN","DGJOTPUL",24,0)
SET S DGJCOTO=DGJCOTO+X S:DGJTFLLG DGJT4PC=X_"*" S:'DGJTFLLG DGJT4PC=X S DGJT3PC=+DGJT3PC Q
"RTN","DGJPAR")
0^14^B216642
"RTN","DGJPAR",1,0)
DGJPAR ;MAF/ALB - PARAMETER SET UP FOR IRT ; JUN 21,1991@8:00
"RTN","DGJPAR",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJPAR",3,0)
 S DIC="^DG(40.8,",DIC(0)="AEMQ" D ^DIC G:Y'>0 QUIT
"RTN","DGJPAR",4,0)
 S DIE=DIC,DA=+Y,DR="[DGJ IRT PARAMETERS]" D ^DIE
"RTN","DGJPAR",5,0)
QUIT K DIC,DIE,DA,DR,X,Y Q
"RTN","DGJPAR1")
0^15^B23062427
"RTN","DGJPAR1",1,0)
DGJPAR1 ;MAC/ALB - DEFICIENCIES PARAMETER SET UP FOR IRT ; MAY 13 1992@10:00
"RTN","DGJPAR1",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJPAR1",3,0)
START K XQORS,VALMEVL D EN^VALM("DGJ ENTER/EDIT DEF. PARMS.")
"RTN","DGJPAR1",4,0)
 Q
"RTN","DGJPAR1",5,0)
EVDT S DGJFLAG="" D WAIT^DICD K ^TMP("DGJDEF",$J),^TMP("DGJIDX",$J),^TMP("DGJ",$J),DGJCAT S (VALMCNT,DGJCNT,DGJCNT1,DGJTFG,DGJTFLG)=0 S DGJTSR1=1
"RTN","DGJPAR1",6,0)
 S DGJNAME=0,DGJTUP=1
"RTN","DGJPAR1",7,0)
 F X=0:0 S DGJNAME=$O(^VAS(393.3,"B",DGJNAME)) Q:DGJNAME=""!('$D(DGJTUP))  F IFN=0:0 S IFN=$O(^VAS(393.3,"B",DGJNAME,IFN)) Q:'IFN!('$D(DGJTUP))  S DGJTCDIS=$P($G(^VAS(393.41,$P(^VAS(393.3,IFN,0),"^",6),0)),"^",4) I DGJTCDIS]"" D UTIL
"RTN","DGJPAR1",8,0)
 S (CC,CM,CW,DC,DW,EC,EW,PC,PW,RV,SC,SN,SW,TC,TW)="" D INCSP,LOOP I '$O(^TMP("DGJDEF",$J,0)) D NUL^DGJTEE
"RTN","DGJPAR1",9,0)
 S VALMSG="Highlighted Text is Uneditable...Enter ?? for help"
"RTN","DGJPAR1",10,0)
 Q
"RTN","DGJPAR1",11,0)
LOOP F DGJTCDIS=0:0 S DGJTCDIS=$O(^TMP("DGJ",$J,DGJTCDIS)) Q:DGJTCDIS']""  F IFN=0:0 S IFN=$O(^TMP("DGJ",$J,DGJTCDIS,IFN)) Q:'IFN  I $D(^VAS(393.3,IFN,0)) D SETG1
"RTN","DGJPAR1",12,0)
 Q
"RTN","DGJPAR1",13,0)
QUIT K CC,CM,CW,DC,DGJAT,DGJCAT,DGJCNT,DGJCNT1,DGJDFNO,DGJFLAG,DGJTCAT,DGJTCDIS,DGJTEDT,DGJTFG,DGJTFLG,DGJTSR1,DGJTUP,DGJVAL,DGJVAL1,DGJVALM,DGJTX,DGX,DIC,DIE,DIR,DW,EC,EW,IOINHI,IOINORM,PC,PW,RV,SC,SN,SW,TC,TW,DA,DR,IFN,DGJNAME,POP,X,Y
"RTN","DGJPAR1",14,0)
 K DGJX1,DGJX2,^TMP("DGJ",$J),^TMP("DGJDEF",$J),^TMP("DGJIDX",$J) Q
"RTN","DGJPAR1",15,0)
EDIT ;EDIT OF DEFICIENCIES ON THE SCREEN
"RTN","DGJPAR1",16,0)
 N DGJVALM,DGJAT,VALMY
"RTN","DGJPAR1",17,0)
 S VALMBCK=""
"RTN","DGJPAR1",18,0)
 D SEL^VALM2 G REP:'$O(VALMY(0)) S DGJVALM=0
"RTN","DGJPAR1",19,0)
 D FULL^VALM1 S VALMBCK="R"
"RTN","DGJPAR1",20,0)
 F DGJVALM=0:0 S DGJVALM=$O(VALMY(DGJVALM)) Q:'DGJVALM  S DA=$P($G(^TMP("DGJIDX",$J,DGJVALM)),"^",2) I DA]"" S DGJTEDT="1^"_DA S (DGJDFNO,IFN)=DA D EDIT1,ABB,RSET I '$D(^VAS(393.3,+IFN,0)) S DGJFLAG=1
"RTN","DGJPAR1",21,0)
 I DGJFLAG]"" D KILL^VALM10() G REP
"RTN","DGJPAR1",22,0)
 S VALMBCK="R" Q
"RTN","DGJPAR1",23,0)
EDIT1 S DGJX1=$P($G(^VAS(393.3,DA,0)),"^",6)
"RTN","DGJPAR1",24,0)
 W:$P($G(^VAS(393.3,DA,0)),"^",9)=1 !!,$P(^VAS(393.3,DA,0),"^",1) S DIE="^VAS(393.3,",DR=$S($P($G(^VAS(393.3,DA,0)),"^",9)=1:".07;.08",1:"[DGJ DEF PARAMETER EDIT]") D ^DIE Q:'$D(DGJTUP)
"RTN","DGJPAR1",25,0)
 S DGJX2=$P($G(^VAS(393.3,DA,0)),"^",6) I DGJX1'=DGJX2 S DGJFLAG=1
"RTN","DGJPAR1",26,0)
 Q
"RTN","DGJPAR1",27,0)
RSET N DGJCNT1,VALMCNT,DGJCNT S DGJCNT1=DGJVALM,(VALMCNT,DGJCNT)=$P(^TMP("DGJIDX",$J,DGJVALM),"^",1) S X="" D RESET Q
"RTN","DGJPAR1",28,0)
REP K DR D EVDT S VALMBG=1,VALMBCK="R" Q
"RTN","DGJPAR1",29,0)
ABB S (CC,CM,CW,DC,DW,EC,EW,PC,PW,RV,SC,SN,SW,TC,TW)="" D INCSP Q
"RTN","DGJPAR1",30,0)
UTIL S ^TMP("DGJ",$J,DGJTCDIS,IFN)="" Q
"RTN","DGJPAR1",31,0)
SETG1 S DGJTCAT=$P(^VAS(393.3,IFN,0),"^",6)
"RTN","DGJPAR1",32,0)
 S DGJCNT1=DGJCNT1+1
"RTN","DGJPAR1",33,0)
 I '$D(DGJCAT(DGJTCAT)) D CATSET
"RTN","DGJPAR1",34,0)
 S X="",DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJPAR1",35,0)
RESET S X=$$SETSTR(DGJCNT1,X,1,3)
"RTN","DGJPAR1",36,0)
 I $P($G(^VAS(393.3,+IFN,0)),"^",9)=1 D FLDCTRL^VALM10(VALMCNT,"DEFICIENCY",IOINHI,IOINORM) D FLDCTRL^VALM10(VALMCNT,"CATEGORY",IOINHI,IOINORM)
"RTN","DGJPAR1",37,0)
 ;S X=$$SETSTR($$LOWER($P($G(^VAS(393.3,+IFN,0)),"^")),X,+$S($D(DGJTREC):TC,1:DC),+$S($D(DGJTREC):TW,1:DW))
"RTN","DGJPAR1",38,0)
 S X=$$SETSTR($P($G(^VAS(393.3,+IFN,0)),"^"),X,+$S($D(DGJTREC):TC,1:DC),+$S($D(DGJTREC):TW,1:DW))
"RTN","DGJPAR1",39,0)
 S X=$$SETSTR($$LOWER($S($P($G(^VAS(393.3,+IFN,0)),"^",7)=1:"YES",1:"NO")),X,PC,PW)
"RTN","DGJPAR1",40,0)
 S X=$$SETSTR($$LOWER($S($P($G(^VAS(393.3,+IFN,0)),"^",8)=1:"YES",1:"NO")),X,SC,SW)
"RTN","DGJPAR1",41,0)
 S DGX=$P($G(^VAS(393.3,IFN,0)),"^",6),DGX=$P($G(^VAS(393.41,+DGX,0)),"^") I DGX]"" S X=$$SETSTR($$LOWER(DGX),X,+CC,+CW)
"RTN","DGJPAR1",42,0)
 S ^TMP("DGJDEF",$J,DGJCNT,0)=X,^TMP("DGJDEF",$J,"IDX",VALMCNT,DGJCNT1)=""
"RTN","DGJPAR1",43,0)
 S ^TMP("DGJIDX",$J,DGJCNT1)=VALMCNT_"^"_IFN
"RTN","DGJPAR1",44,0)
 Q
"RTN","DGJPAR1",45,0)
CATSET ;CATEGORY HEADING
"RTN","DGJPAR1",46,0)
 S DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJPAR1",47,0)
 S DGJCAT(DGJTCAT)=DGJCNT
"RTN","DGJPAR1",48,0)
 S X=""
"RTN","DGJPAR1",49,0)
 S X=$$SETSTR(" ",X,1,3) D TMP
"RTN","DGJPAR1",50,0)
 S X="",DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJPAR1",51,0)
 S DGJVAL=$P(^VAS(393.41,DGJTCAT,0),"^",1)
"RTN","DGJPAR1",52,0)
 S DGJVAL1=$L(DGJVAL) S DGJVAL1=(80-DGJVAL1)/2 S DGJVAL1=DGJVAL1\1 S X=$$SETSTR(" ",X,1,DGJVAL1)
"RTN","DGJPAR1",53,0)
 S X=$$SETSTR(DGJVAL,X,DGJVAL1,25) D TMP
"RTN","DGJPAR1",54,0)
 S X="",DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJPAR1",55,0)
 S X=$$SETSTR(" ",X,1,3) D TMP
"RTN","DGJPAR1",56,0)
 Q
"RTN","DGJPAR1",57,0)
TMP S ^TMP("DGJDEF",$J,DGJCNT,0)=X,^TMP("DGJDEF",$J,"IDX",VALMCNT,DGJCNT1)=""
"RTN","DGJPAR1",58,0)
 S ^TMP("DGJIDX",$J,DGJCNT1)=VALMCNT_"^"_IFN
"RTN","DGJPAR1",59,0)
 Q
"RTN","DGJPAR1",60,0)
SETSTR(S,V,X,L) ; -- insert text(S) into variable(V)
"RTN","DGJPAR1",61,0)
 ;    S := string
"RTN","DGJPAR1",62,0)
 ;    V := destination
"RTN","DGJPAR1",63,0)
 ;    X := @ col X
"RTN","DGJPAR1",64,0)
 ;    L := # of chars
"RTN","DGJPAR1",65,0)
 ;
"RTN","DGJPAR1",66,0)
 Q $E(V_$J("",X-1),1,X-1)_$E(S_$J("",L),1,L)_$E(V,X+L,999)
"RTN","DGJPAR1",67,0)
 ;
"RTN","DGJPAR1",68,0)
LOWER(X) ;
"RTN","DGJPAR1",69,0)
 N Y,C,Z,I
"RTN","DGJPAR1",70,0)
 S Y=$E(X)_$TR($E(X,2,999),"ABCDEFGHIJKLMNOPQRSTUVWXYZ@","abcdefghijklmnopqrstuvwxyz ")
"RTN","DGJPAR1",71,0)
 F C=" ",",","/" S I=0 F  S I=$F(Y,C,I) Q:'I  S Y=$E(Y,1,I-1)_$TR($E(Y,I),"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")_$E(Y,I+1,999)
"RTN","DGJPAR1",72,0)
 Q Y
"RTN","DGJPAR1",73,0)
INCSP ;To increase speed of list.
"RTN","DGJPAR1",74,0)
 ; -- format vars     |- column -| |- width -|
"RTN","DGJPAR1",75,0)
 I '$D(DGJTREC) S X=VALMDDF("DEFICIENCY"),DC=$P(X,U,2),DW=$P(X,U,3) ;  D for deficiency
"RTN","DGJPAR1",76,0)
 S X=VALMDDF("TRACK DEF"),PC=$P(X,U,2),PW=$P(X,U,3) ;  P for track deficiency
"RTN","DGJPAR1",77,0)
 S X=VALMDDF("STANDARD DEF"),SC=$P(X,U,2),SW=$P(X,U,3) ;  S for standard deficiency
"RTN","DGJPAR1",78,0)
 S X=VALMDDF("CATEGORY"),CC=$P(X,U,2),CW=$P(X,U,3) ;  C for category
"RTN","DGJPDEF")
0^16^B20192087
"RTN","DGJPDEF",1,0)
DGJPDEF ;ALB/MAF - PHYSICIAN DEFICIENCY PRINT ROUTINE ; NOV 10 1992@300
"RTN","DGJPDEF",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJPDEF",3,0)
OUT S (DGJFL,DGJTMESS)=0 W !!,"Sort output by: PATIENT// " D ZSET1 S X="" R X:DTIME G QUIT:X="^"!('$T) I X=""!("Pp"[X) S X="3"
"RTN","DGJPDEF",4,0)
 S X=$S("Dd"[X:1,"Ss"[X:2,1:X)
"RTN","DGJPDEF",5,0)
 I X="?" D ZSET1,HELP1 G OUT
"RTN","DGJPDEF",6,0)
 S DGJTSR=$E(X) D IN^DGJHELP W ! I %=-1 D ZSET1,HELP1 G OUT
"RTN","DGJPDEF",7,0)
OUT1 S DGJFL=0 W !!,"Print report for: (I)Inpatients, (O)Outpatients, (B)Both//  " D ZSET2 S X="" R X:DTIME G QUIT:X="^"!('$T) I X=""!("Bb"[X) S X=3
"RTN","DGJPDEF",8,0)
 S X=$S("Ii"[X:1,"Oo"[X:2,1:X)
"RTN","DGJPDEF",9,0)
 I X="?" D ZSET2,HELP2 G OUT1
"RTN","DGJPDEF",10,0)
 S DGJTSR1=$E(X) D IN^DGJHELP W ! I %=-1 D ZSET2,HELP2 G OUT1
"RTN","DGJPDEF",11,0)
 I $D(^DG(43,1,"GL")) S DGJTMUL=$P(^DG(43,1,"GL"),"^",2)
"RTN","DGJPDEF",12,0)
 S DGJTLPG=1
"RTN","DGJPDEF",13,0)
 I $D(^DG(43,1,"GL")) S DGJTMUL=$P(^DG(43,1,"GL"),"^",2)
"RTN","DGJPDEF",14,0)
 S DGJTL=$S(DGJTSR=1:"PHY",DGJTSR=2:"SER",DGJTSR=3:"PAT",1:"QUIT")
"RTN","DGJPDEF",15,0)
 G ^DGJPDEF1
"RTN","DGJPDEF",16,0)
DAT ;DATE RANGE
"RTN","DGJPDEF",17,0)
BEG W ! S %DT="AEX",%DT("A")="START WITH EVENT DATE: " D ^%DT S DGJTBG=Y,DGJTBEG=Y-.0001 S:X="^"!(X="") Y=-1 Q:Y=-1
"RTN","DGJPDEF",18,0)
END W ! S %DT("A")="END WITH EVENT DATE: " D ^%DT S:X="^"!(X="") Y=-1 Q:Y=-1  I Y<1 D HELP^%DTC G END
"RTN","DGJPDEF",19,0)
 S DGJTEND=Y_.9999
"RTN","DGJPDEF",20,0)
 I DGJTEND\1<DGJTBG W !!?5,"The ending date cannot be before the beginning date" G END
"RTN","DGJPDEF",21,0)
 Q
"RTN","DGJPDEF",22,0)
ASK1 S DGJDSC=0 W !!,"Display Summary Deficiencies if patient has not been discharged?" S %=1 D YN^DICN I '% D HLP G ASK1
"RTN","DGJPDEF",23,0)
 I %=-1 S Y=% Q
"RTN","DGJPDEF",24,0)
 I %=2 S DGJDSC=1
"RTN","DGJPDEF",25,0)
 Q
"RTN","DGJPDEF",26,0)
QUIT K %,BY,DHD,DIC,DIOEND,DIS,DIR,DTOUT,DUOUT,FR,FLDS,IFN,K,L,TO,DGJTCK,DGJTDIR,DGJTL,DGJTLPG,DGJTMESS,DGPGM,DGJTMUL,DGJTSR,DGJTSTAT,DGJTUN,POP,DGU,DGJTQF,DGJTDEL,VAUTN,DGJFL,DGJTSR1,DGJ(0),RT,RTDATA,RTE,RTYPE,VAERR,VADATE,VAUTD,VAUTT,X,Y,Z
"RTN","DGJPDEF",27,0)
 K DGJDSC,DFN,DGFLAG,DGJ,DGJADM,DGJJ,DGJTDAT,DGJTDIV,DGJTDL,DGJTDT,DGJTDV,DGJTDV1,DGJTDVN,DGJTF,DGJTFF,DGJTLN,DGJTNODE,DGJTOT,DGJTPAG,DGJTPHY,DGJTPT,DGJTSP,DGJTSV,DGJY,DGVAR,VA,VADAT,VAUTY,^TMP("VAS",$J),DGJTBG,DGJTBEG,DGJTEND,%DT
"RTN","DGJPDEF",28,0)
 D CLOSE^DGJUTQ Q
"RTN","DGJPDEF",29,0)
HELP1 W !!,"Choose a number or first initial :" F K=2:1:4 W !?15,$P(Z,"^",K)
"RTN","DGJPDEF",30,0)
 W ! Q
"RTN","DGJPDEF",31,0)
HELP2 W !!,"Choose a number or first initial:" F K=2:1:4 W !?15,$P(Z,"^",K)
"RTN","DGJPDEF",32,0)
 W ! Q
"RTN","DGJPDEF",33,0)
HLP W !!,"ENTER:"
"RTN","DGJPDEF",34,0)
 W !?10,"Y - YES, if you would like the report to print Deficiencies under",!?10,"    the category SUMMARY if the patient has not been discharged."
"RTN","DGJPDEF",35,0)
 W !!?10,"N - NO, if you would not like the report to print Deficiencies under",!?10,"    the category SUMMARY if the patient has not been discharged."
"RTN","DGJPDEF",36,0)
 Q
"RTN","DGJPDEF",37,0)
ZSET1 S Z="^1 DOCTOR^2 SERVICE/TREATING SPECIALTY^3 PATIENT^" Q
"RTN","DGJPDEF",38,0)
ZSET2 S Z="^1 INPATIENTS ONLY^2 OUTPATIENTS ONLY^3 BOTH INPATIENT and OUTPATIENTS^" Q
"RTN","DGJPDEF",39,0)
SEL S DIR("A")="Select INCOMPLETE RECORD STATUS: ",DIR(0)="SA^A:ALL;D:UNDICTATED;T:NOT TRANSCRIBED;S:UNSIGNED;R:NOT REVIEWED",DIR("B")="ALL"
"RTN","DGJPDEF",40,0)
 S DIR("?")="Enter desired status that you would like to have listed on the report"
"RTN","DGJPDEF",41,0)
 S DIR("?",1)="CHOOSE FROM: "
"RTN","DGJPDEF",42,0)
 S DIR("?",2)="   A FOR ALL",DIR("?",3)="   D FOR UNDICTATED",DIR("?",4)="   T FOR NOT TRANSCRIBED",DIR("?",5)="   S FOR UNSIGNED",DIR("?",6)="   R FOR NOT REVIEWED" D ^DIR
"RTN","DGJPDEF",43,0)
 I $D(DTOUT)!$D(DUOUT) Q
"RTN","DGJPDEF",44,0)
 I Y="A" S DGJTSTAT="^"_$O(^DG(393.2,"B","INCOMPLETE",0))_"^"_$O(^DG(393.2,"B","DICTATED",0))_"^"_$O(^DG(393.2,"B","TRANSCRIBED",0))_"^"_$O(^DG(393.2,"B","SIGNED",0))_"^" Q
"RTN","DGJPDEF",45,0)
 S DGJTSTAT="^"
"RTN","DGJPDEF",46,0)
 D SET
"RTN","DGJPDEF",47,0)
 S $P(DIR(0),"^",1)=$P(DIR(0),"^",1)_"O",$P(DIR(0),"^",2)=$E($P(DIR(0),"^",2),7,999) K DIR("B")
"RTN","DGJPDEF",48,0)
 F I=2:1:6 S DIR("?",I)=$S($D(DIR("?",I+1)):DIR("?",I+1),1:"")
"RTN","DGJPDEF",49,0)
 S DIR("A")="Select another STATUS: "
"RTN","DGJPDEF",50,0)
ASK D ^DIR I $D(DUOUT)!$D(DTOUT) Q
"RTN","DGJPDEF",51,0)
 I X]"" D SET G ASK
"RTN","DGJPDEF",52,0)
 Q
"RTN","DGJPDEF",53,0)
SET S X=$S(Y="D":"INCOMPLETE",Y="T":"DICTATED",Y="S":"TRANSCRIBED",Y="R":"SIGNED",Y="C":"r",1:"INCOMPLETE")
"RTN","DGJPDEF",54,0)
 S X=$O(^DG(393.2,"B",X,0))
"RTN","DGJPDEF",55,0)
 S DGJTSTAT=DGJTSTAT_X_"^"
"RTN","DGJPDEF",56,0)
 Q
"RTN","DGJPDEF",57,0)
CK S X=Y Q
"RTN","DGJPDEF1")
0^17^B29669053
"RTN","DGJPDEF1",1,0)
DGJPDEF1 ;ALB/MAF - PHYSICIAN DEFICIENCY PRINT ROUTINE (CONT) ; NOV 10 1992@300
"RTN","DGJPDEF1",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJPDEF1",3,0)
 ;;MAS VERSION 5.2;
"RTN","DGJPDEF1",4,0)
 I $D(DGJTMUL),DGJTMUL D DIVISION^VAUTOMA G:Y=-1 QUIT
"RTN","DGJPDEF1",5,0)
 I 'DGJTMUL S DGJTDV=$O(^DG(40.8,0))
"RTN","DGJPDEF1",6,0)
 D @(DGJTL) G:Y=-1 QUIT
"RTN","DGJPDEF1",7,0)
 D DAT^DGJPDEF G:Y=-1 QUIT
"RTN","DGJPDEF1",8,0)
 S VAUTVB="VAUTY",DIC="^VAS(393.3,",VAUTSTR="Deficiency",VAUTNI=2 D FIRST^VAUTOMA G QUIT:Y=-1
"RTN","DGJPDEF1",9,0)
 D ASK1^DGJPDEF G:Y=-1 QUIT
"RTN","DGJPDEF1",10,0)
 W !!,*7,"This output requires 132 column output",!
"RTN","DGJPDEF1",11,0)
 D NOW^%DTC S Y=$E(%,1,12) S VADAT("W")=Y D ^VADATE S DGJTDAT=VADATE("E")
"RTN","DGJPDEF1",12,0)
 S DGVAR="DGJDSC^DGJTDV^DGJTDIR^DGJTDAT^DGJTLPG^DGJTSTAT^DGJTCK^DGJTFL^DGJTMESS^DGJTSR^DGJTSR1^DGJTMUL^DGJTL^DGJTBG^DGJTEND^VAUTD#^VAUTN#^VAUTT#^VAUTY#",DGPGM="START^DGJPDEF1" D ZIS^DGJUTQ I 'POP U IO G START^DGJPDEF1
"RTN","DGJPDEF1",13,0)
 G QUIT
"RTN","DGJPDEF1",14,0)
START S (DGJTPAG,DGJTDV1)=0 F IFN=0:0 S IFN=$O(^VAS(393,IFN)) Q:'IFN  S DGJTNODE=^VAS(393,IFN,0) D CK
"RTN","DGJPDEF1",15,0)
 I DGJTLPG=1!(DGJTLPG=3),$D(^TMP("VAS",$J)) S (DGJ,DGJTF,DGJTFF,DGJY,DGJTDV,DGJTDT,DGJTSV,DGJTSP,DGJTPHY,DGJTPT,DGU,DFN,IFN)=0,$P(DGJTLN,"=",133)="" G ^DGJPDEF2
"RTN","DGJPDEF1",16,0)
 I DGJTLPG=2,$D(^TMP("VAS",$J)) S (DGJ,DGJTF,DGJTFF,DGJY,DGJTDV,DGJTDT,DGJTSV,DGJTSP,DGJTPHY,DGJTPT,DGU,DFN,IFN)=0,$P(DGJTLN,"=",133)="" G ^DGJPDEF3
"RTN","DGJPDEF1",17,0)
 I '$D(^TMP("VAS",$J)) W !!,"NO RECORDS"
"RTN","DGJPDEF1",18,0)
QUIT G QUIT^DGJPDEF
"RTN","DGJPDEF1",19,0)
SSP ;find service and specialty
"RTN","DGJPDEF1",20,0)
 N CA S (DGJT,CA)=$S($P(DGJTNODE,"^",2)]"":+$P(DGJTNODE,"^",2),1:"") Q:DGJT']""
"RTN","DGJPDEF1",21,0)
 S:'$D(^DGPM(+DGJT,0)) DGJTQF=1 Q:'$D(^DGPM(+DGJT,0))  S DGJT=$O(^DGPM("ATS",DFN,DGJT,0)) S DGJT=$O(^(+DGJT,0)),DGJT=$O(^(+DGJT,0)),DGJT=$S($D(^DGPM(+DGJT,0)):^(0),1:"")
"RTN","DGJPDEF1",22,0)
 D WARD^DGJTUTL
"RTN","DGJPDEF1",23,0)
 I +X S DGJTWARD=+X,X=$S($D(^DIC(42,+X,0)):$P(^(0),"^",11),1:""),DGJTDIV=X
"RTN","DGJPDEF1",24,0)
 S DGJTP=$S($D(^DG(40.8,+DGJTDIV,"DT")):^("DT"),1:"")
"RTN","DGJPDEF1",25,0)
 S DGJTSV=$S(DGJTWARD]"":$P(^DIC(42,+DGJTWARD,0),"^",3),1:"") I DGJTSV]"" S DGJTSV=$O(^DG(393.1,"AC",DGJTSV,0)) S:(VAUTN=0)&('$D(VAUTN(DGJTSV))) DGJTQF=1 Q:DGJTQF  S DGJTSV=$S($D(^DG(393.1,+DGJTSV,0)):$P(^DG(393.1,+DGJTSV,0),"^",1),1:"NONE")
"RTN","DGJPDEF1",26,0)
 I DGJTSV']"" S:DGJTSV']"" DGJTSV=0 S DGJTSV=$S($D(^DG(393.1,"AC",DGJTSV)):$O(^(DGJTSV,0)),1:"") I DGJTSV']"" S DGJTSV=$O(^DG(393.1,"AC",0,0))
"RTN","DGJPDEF1",27,0)
 S DGJTSP=$P(DGJT,"^",9) S:VAUTT=0&('$D(VAUTT(+DGJTSP))) DGJTQF=1 Q:DGJTQF  S DGJTSP=$S($D(^DIC(45.7,+DGJTSP,0)):$P(^DIC(45.7,DGJTSP,0),"^",1),1:"NOT SPECIFIED")
"RTN","DGJPDEF1",28,0)
 Q
"RTN","DGJPDEF1",29,0)
CK S DGJTQF=0 I $D(VAUTD),'VAUTD Q:$P(DGJTNODE,"^",6)']""  I '$D(VAUTD(+$P(DGJTNODE,"^",6))) Q
"RTN","DGJPDEF1",30,0)
 I $D(DGJTDV),$P(DGJTNODE,"^",6)]"" I $P(DGJTNODE,"^",6)'=DGJTDV Q
"RTN","DGJPDEF1",31,0)
 S X=$P(DGJTNODE,"^",6),X1=$G(^DG(40.8,+X,"DT")),X1=$P(X1,"^",3),X2=$P(DGJTNODE,"^",11) I X1=0&(X2=$O(^DG(393.2,"B","SIGNED NO REVIEW",0))) K X1,X2,X3 Q
"RTN","DGJPDEF1",32,0)
 I X1=1&(X2=$O(^DG(393.2,"B","REVIEWED",0))) K X1,X2,X3 Q
"RTN","DGJPDEF1",33,0)
 I X2=$O(^DG(393.2,"B","COMPLETED",0)) K X1,X2,X3 Q
"RTN","DGJPDEF1",34,0)
 K X1,X2,X3
"RTN","DGJPDEF1",35,0)
 I DGJTSR1=1,$P(DGJTNODE,"^",4)']"" Q
"RTN","DGJPDEF1",36,0)
 I DGJTSR1=2,$P(DGJTNODE,"^",4)]"" Q
"RTN","DGJPDEF1",37,0)
 I $D(VAUTY),'VAUTY I '$D(VAUTY(+$P(DGJTNODE,"^",2))) Q
"RTN","DGJPDEF1",38,0)
 I $P(DGJTNODE,"^",3)<DGJTBG!($P(DGJTNODE,"^",3)>DGJTEND) Q
"RTN","DGJPDEF1",39,0)
 I DGJTL="PHY",$D(VAUTN),'VAUTN I '$D(VAUTN(+$P(DGJTNODE,"^",14))) Q
"RTN","DGJPDEF1",40,0)
 I DGJTL="PAT",$D(VAUTN),'VAUTN S X=$P(DGJTNODE,"^",1) I '$D(VAUTN(+X)) Q
"RTN","DGJPDEF1",41,0)
 I DGJDSC,DGJTSR1'=2 S X=$P(DGJTNODE,"^",4) I X]"" I $D(^DGPM(X,0)) S X=$P(^DGPM(X,0),"^",17) I X']"" S X=$P(DGJTNODE,"^",2),X=$G(^VAS(393.3,+X,0)) I X]"" S X=$P(X,"^",6) I X=$O(^VAS(393.41,"B","SUMMARY",0)) Q
"RTN","DGJPDEF1",42,0)
 S DGJTDIV=$P(DGJTNODE,"^",6),DGJTDVN=$E($S($P(DGJTNODE,"^",6)]""&($D(^DG(40.8,+$P(DGJTNODE,"^",6),0))):$P(^(0),"^",1),1:"NOT SPECIFIED"),1,10)_"^"_$P(DGJTNODE,"^",6) I '$D(DGJTOT(DGJTDVN)) S DGJTOT(DGJTDVN)=0
"RTN","DGJPDEF1",43,0)
 S DFN=+DGJTNODE S DGJTPT=$E($S('$D(^DPT(+DFN,0)):"UNDEFINED",1:$P(^DPT(+DFN,0),"^",1)),1,10)_"^"_DFN
"RTN","DGJPDEF1",44,0)
 I DGJTL="PHY" S DGJTPHY=$E($S($P(DGJTNODE,"^",14)]""&($D(^VA(200,+$P(DGJTNODE,"^",14),0))):$P(^(0),"^",1),1:"NOT SPECIFIED"),1,10)_"^"_$P(DGJTNODE,"^",14) S ^TMP("VAS",$J,DGJTDVN,DGJTPHY,DGJTPT,+$P(DGJTNODE,"^",4),IFN)=DFN Q
"RTN","DGJPDEF1",45,0)
 I DGJTL="PAT" S DGJTPHY=$E($S($P(DGJTNODE,"^",14)]""&($D(^VA(200,+$P(DGJTNODE,"^",14),0))):$P(^(0),"^",1),1:"NOT SPECIFIED"),1,10)_"^"_$P(DGJTNODE,"^",14) S ^TMP("VAS",$J,DGJTDVN,DGJTPT,+$P(DGJTNODE,"^",4),DGJTPHY,IFN)=DFN Q
"RTN","DGJPDEF1",46,0)
 I DGJTL="SER" S X=$P(DGJTNODE,"^",8) S DGJTSV=$S(X]""&($D(^DG(393.1,+$P(DGJTNODE,"^",8),0))):$P(^(0),"^",1),1:"NOT SPECIFIED"),DGJTSP=$S($P(DGJTNODE,"^",7)]""&($D(^DIC(45.7,+$P(DGJTNODE,"^",7),0))):$P(^(0),"^",1),1:"NOT SPECIFIED")
"RTN","DGJPDEF1",47,0)
 S X=$P(DGJTNODE,"^",8) I X]"" Q:VAUTN=0&('$D(VAUTN(+X)))  S DGJTSV=$E($S(X]""&($D(^DG(393.1,+X,0))):$P(^(0),"^",1),1:"NOT SPECIFIED"),1,10)_"^"_+X
"RTN","DGJPDEF1",48,0)
 S X=$P(DGJTNODE,"^",7) I X]"" Q:VAUTT=0&('$D(VAUTT(+X)))  S DGJTSP=$E($S(X]""&($D(^DIC(45.7,+X,0))):$P(^(0),"^",1),1:"NOT SPECIFIED"),1,10)_"^"_+X
"RTN","DGJPDEF1",49,0)
 Q:DGJTQF
"RTN","DGJPDEF1",50,0)
 I DGJTL="SER" S ^TMP("VAS",$J,DGJTDVN,DGJTSV,DGJTSP,DGJTPT,DFN,IFN)=DFN Q
"RTN","DGJPDEF1",51,0)
 Q
"RTN","DGJPDEF1",52,0)
PHY S VAUTVB="VAUTN",DIC="^VA(200,",VAUTSTR="Physician",VAUTNI=2 D FIRST^VAUTOMA S:Y=-1 DGJFL=1 Q:DGJFL
"RTN","DGJPDEF1",53,0)
 Q
"RTN","DGJPDEF1",54,0)
PAT S VAUTNI=2 D PATIENT^VAUTOMA
"RTN","DGJPDEF1",55,0)
 Q
"RTN","DGJPDEF1",56,0)
SER S VAUTVB="VAUTN",DIC="^DG(393.1,",VAUTSTR="Service",VAUTNI=2 D FIRST^VAUTOMA Q:Y=-1
"RTN","DGJPDEF1",57,0)
 S VAUTVB="VAUTT",DIC="^DIC(45.7,",VAUTSTR="Specialty",VAUTNI=2 D FIRST^VAUTOMA
"RTN","DGJPDEF1",58,0)
 Q
"RTN","DGJPDEF2")
0^18^B27822774
"RTN","DGJPDEF2",1,0)
DGJPDEF2 ;ALB/MAF - PHYSICIAN DEFICIENCY PRINT ROUTINE (CONT) ; NOV 10 1992@300
"RTN","DGJPDEF2",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJPDEF2",3,0)
 D HEAD F DGJ=0:0 S DGJTDV=$O(^TMP("VAS",$J,DGJTDV)) Q:DGJTDV']""!(DGU)  S DGJTF=1 D @(DGJTL) Q:DGU 
"RTN","DGJPDEF2",4,0)
 G:DGU QUIT I DGJTLPG'=1,$D(^TMP("VAS",$J)) D RET G:DGU QUIT D ^DGJPDEF3
"RTN","DGJPDEF2",5,0)
 F X=$Y:1:(IOSL-3) W !
"RTN","DGJPDEF2",6,0)
 D DIV
"RTN","DGJPDEF2",7,0)
QUIT G QUIT^DGJPDEF
"RTN","DGJPDEF2",8,0)
 F X=$Y:1:(IOSL-3) W ! D DIV
"RTN","DGJPDEF2",9,0)
HD1 W ?88,$J($P(DGJTDL,"^",2),7)
"RTN","DGJPDEF2",10,0)
 W ?97,$J($P(DGJTDL,"^",3),7)
"RTN","DGJPDEF2",11,0)
 W ?106,$J($P(DGJTDL,"^",4),7)
"RTN","DGJPDEF2",12,0)
 W ?116 S X=$P(DGJTDL,"^",2)+$P(DGJTDL,"^",3)+$P(DGJTDL,"^",4)+$P(DGJTDL,"^",1) W $J(X,7)
"RTN","DGJPDEF2",13,0)
 W ?128 S X=$S(X-30'>0:0,1:X-30) W $J(X,4)
"RTN","DGJPDEF2",14,0)
 Q
"RTN","DGJPDEF2",15,0)
SET S DGJTDV1=DGJTDV,DFN=DGJTDL Q
"RTN","DGJPDEF2",16,0)
DIV S X=$O(^DG(40.8,"B",DGJTDV1,0)) I $D(^DG(40.8,+X,"DT")) S DGJTDEL=^("DT") W $P(DGJTDEL,"^",9),! Q
"RTN","DGJPDEF2",17,0)
 Q
"RTN","DGJPDEF2",18,0)
DATE S DGJTX=$$FMTE^XLFDT(DGJTDT,"5DF"),DGJTX=$TR(DGJTX," ","0") W DGJTX K DGJTX Q
"RTN","DGJPDEF2",19,0)
DATE1 S X=$$FMTE^XLFDT(X,"5DF"),X=$TR(X," ","0") W X Q
"RTN","DGJPDEF2",20,0)
PHY D:'DGJTFF HDR
"RTN","DGJPDEF2",21,0)
 F DGJY=0:0 S DGJTPHY=$O(^TMP("VAS",$J,DGJTDV,DGJTPHY)) Q:DGJTPHY']""!(DGU)  D:DGJTFF RET Q:DGU  D:DGJTFF HEAD,HDR D HDR1 S DGJTFF=1 F DGJJ=0:0 S DGJTPT=$O(^TMP("VAS",$J,DGJTDV,DGJTPHY,DGJTPT)) Q:DGJTPT']""!(DGU)  D PHY1 Q:DGU
"RTN","DGJPDEF2",22,0)
 Q
"RTN","DGJPDEF2",23,0)
PHY1 F DGJADM=-1:0 S DGJADM=$O(^TMP("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DGJADM)) Q:DGJADM']""!(DGU)  F IFN=0:0 S IFN=$O(^TMP("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DGJADM,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2 Q:DGU
"RTN","DGJPDEF2",24,0)
 Q
"RTN","DGJPDEF2",25,0)
SER D:'DGJTFF HDR
"RTN","DGJPDEF2",26,0)
 F DGJY=0:0 S DGJTSV=$O(^TMP("VAS",$J,DGJTDV,DGJTSV)) Q:DGJTSV']""!(DGU)  D:DGJTFF RET Q:DGU  D:DGJTFF HEAD,HDR D HDR2 S DGJTFF=1 F DGJJ=0:0 S DGJTSP=$O(^TMP("VAS",$J,DGJTDV,DGJTSV,DGJTSP)) Q:DGJTSP']""!(DGU)  D HDR3,SER1 Q:DGU
"RTN","DGJPDEF2",27,0)
 Q
"RTN","DGJPDEF2",28,0)
PAT D:'DGJTFF HDR
"RTN","DGJPDEF2",29,0)
 F DGJY=0:0 S DGJTPT=$O(^TMP("VAS",$J,DGJTDV,DGJTPT)) Q:DGJTPT']""!(DGU)  D:DGJTFF RET Q:DGU  D:DGJTFF HEAD,HDR D HDR4 S DGJTFF=1 F DGJADM=-1:0 S DGJADM=$O(^TMP("VAS",$J,DGJTDV,DGJTPT,DGJADM)) Q:DGJADM']""!(DGU)  D PAT1 Q:DGU
"RTN","DGJPDEF2",30,0)
 Q
"RTN","DGJPDEF2",31,0)
PAT1 F DGJJ=0:0 S DGJTPHY=$O(^TMP("VAS",$J,DGJTDV,DGJTPT,DGJADM,DGJTPHY)) Q:DGJTPHY']""!(DGU)  F IFN=0:0 S IFN=$O(^TMP("VAS",$J,DGJTDV,DGJTPT,DGJADM,DGJTPHY,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2 Q:DGU
"RTN","DGJPDEF2",32,0)
 Q
"RTN","DGJPDEF2",33,0)
SER1 F DGJP=0:0 S DGJTPT=$O(^TMP("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT)) Q:DGJTPT']""!(DGU)  D SER2
"RTN","DGJPDEF2",34,0)
 Q
"RTN","DGJPDEF2",35,0)
SER2 F DFN=0:0 S DFN=$O(^TMP("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN)) Q:'DFN!(DGU)  F IFN=0:0 S IFN=$O(^TMP("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN,IFN)) Q:'IFN!(DGU)  S DGJTDL=^(IFN) D SET I $D(^VAS(393,IFN,0)) D PRT2 Q:DGU
"RTN","DGJPDEF2",36,0)
 Q
"RTN","DGJPDEF2",37,0)
PRT2 D RELP Q:DGU  S DGJTNODE=^VAS(393,IFN,0)
"RTN","DGJPDEF2",38,0)
 I DGJTL="PAT" S X="",X=$S($P(DGJTPHY,"^",2)]"":$E($P($G(^VA(200,$P(DGJTPHY,"^",2),0)),"^",1),1,20),1:"NOT SPECIFIED") W !,$S(X]"":X,1:"NOT SPECIFIED")
"RTN","DGJPDEF2",39,0)
 I DGJTL="PHY" W !,$E($P(^DPT($P(DGJTPT,"^",2),0),"^",1),1,20)
"RTN","DGJPDEF2",40,0)
 I DGJTL="SER" W !,$E($P(^DPT($P(DGJTPT,"^",2),0),"^",1),1,16)
"RTN","DGJPDEF2",41,0)
 D PID^VADPT6 W:DGJTL="SER" ?19 W:DGJTL'="SER" ?23 W VA("BID")
"RTN","DGJPDEF2",42,0)
 S DGJTDT=$S($D(^DGPM(+$P(DGJTNODE,"^",4),0)):$P(^DGPM(+$P(DGJTNODE,"^",4),0),"^",1),1:"OUTPATIENT") W:DGJTL="SER" ?27 W:DGJTL'="SER" ?31 D:DGJTDT]""&(DGJTDT'="OUTPATIENT") DATE I DGJTDT="OUTPATIENT" W DGJTDT
"RTN","DGJPDEF2",43,0)
 W:DGJTL="SER" ?40 W:DGJTL'="SER" ?44 S X=$P(^VAS(393,IFN,0),"^",2) W $S($D(^VAS(393.3,+X,0)):$E($P(^VAS(393.3,+X,0),"^",1),1,10),1:"NOT SPECIF")
"RTN","DGJPDEF2",44,0)
 S X=$P(^VAS(393,IFN,0),"^",12),X=$S(X]""&($D(^VA(200,+X,0))):$P(^VA(200,X,0),"^",1),1:"NOT SPECIFIED") W:DGJTL="SER" ?57,$E(X,1,10)
"RTN","DGJPDEF2",45,0)
 S X=IFN I X]"",$D(^VAS(393,+X,0)) S X=$P(^VAS(393,+X,0),"^",3) W ?70 S X=$$FMTE^XLFDT(X,"5DF") S:X]"" X=$TR(X," ","0") W X
"RTN","DGJPDEF2",46,0)
 W ?82 S X=$P(DGJTNODE,"^",11) W $S($D(^DG(393.2,+X,0)):$E($P(^DG(393.2,X,0),"^",1),1,10),1:"")
"RTN","DGJPDEF2",47,0)
 S DFN=$P(DGJTNODE,"^",1) S RTE=DFN_";DPT(",RTYPE=$$RECTYP^DGJOPRT1(DGJTNODE) D LATEST^RTUTL3
"RTN","DGJPDEF2",48,0)
 W ?95,$E($P(RTDATA,"^",2),1,10),?107,$E($P(RTDATA,"^",3),1,10),?121 S X="" S X=$P(RTDATA,"^",4) D:RTDATA]"" DATE1 Q
"RTN","DGJPDEF2",49,0)
HEAD D HEAD^DGJPDEF3 Q
"RTN","DGJPDEF2",50,0)
RET F X=$Y:1:(IOSL-3) W !
"RTN","DGJPDEF2",51,0)
 D DIV Q:IOST'?1"C-".E
"RTN","DGJPDEF2",52,0)
 R ?22,"Enter <RET> to continue or ^ to QUIT ",X:DTIME S:X["^"!('$T) DGU=1 Q:DGU  S DGFLAG=1 Q
"RTN","DGJPDEF2",53,0)
RELP I $Y+8>IOSL D RET:(IOST?1"C-".E) Q:DGU  D HEAD
"RTN","DGJPDEF2",54,0)
 Q
"RTN","DGJPDEF2",55,0)
HDR W !?5,"DIVISION: ",$S($D(^DG(40.8,+$P(DGJTDV,"^",2),0)):$P(^DG(40.8,$P(DGJTDV,"^",2),0),"^",1),1:"NOT SPECIFIED") Q
"RTN","DGJPDEF2",56,0)
HDR1 W !?6,"PHYSICIAN: ",$S($P(DGJTPHY,"^",2)]""&($D(^VA(200,+$P(DGJTPHY,"^",2),0))):$P(^VA(200,$P(DGJTPHY,"^",2),0),"^",1),1:"NOT SPECIFIED") Q
"RTN","DGJPDEF2",57,0)
HDR2 W !?6,"SERVICE: ",$S($P(DGJTSV,"^",2)]"":$P(^DG(393.1,$P(DGJTSV,"^",2),0),"^",1),1:"NOT SPECIFIED") Q
"RTN","DGJPDEF2",58,0)
HDR3 W !?7,"SPECIALTY: ",$S($P(DGJTSP,"^",2)]"":$P(^DIC(45.7,$P(DGJTSP,"^",2),0),"^",1),1:"NOT SPECIFIED") Q
"RTN","DGJPDEF2",59,0)
HDR4 W !?6,"PATIENT: ",$P(^DPT($P(DGJTPT,"^",2),0),"^",1) Q
"RTN","DGJPDEF2",60,0)
SV D SV^DGJPDEF3 Q
"RTN","DGJPDEF3")
0^19^B22532968
"RTN","DGJPDEF3",1,0)
DGJPDEF3 ;ALB/MAF - TOTALS PAGE FOR REPORTS - SEP 26 1991@1100
"RTN","DGJPDEF3",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJPDEF3",3,0)
 ;;MAS VERSION 5.1;
"RTN","DGJPDEF3",4,0)
 S (DGJDOC,DGJTOTAL)=0
"RTN","DGJPDEF3",5,0)
 F DGJTTO=0:0 S DGJTOTAL=$O(DGJTOT(DGJTOTAL)) Q:DGJTOTAL']""!(DGU)  D SET,HEAD1,LIST,TOT
"RTN","DGJPDEF3",6,0)
QUIT G QUIT^DGJPDEF
"RTN","DGJPDEF3",7,0)
SET S (DGJTDIC,DGJTTRN,DGJTCOD,DGJTTODY,DGJTO30,DGJTOREC)=0 Q
"RTN","DGJPDEF3",8,0)
TOT W !,"------------------------",?30,"-------",?45,"-------",?60,"-------",?75,"-------",?88,"-------",?100,"-------",?112,"-------",?125,"-------"
"RTN","DGJPDEF3",9,0)
 W !,"DIVISION TOTAL",?30 S X=DGJTDIC/DGJTOREC D EXT W ?45 S X=DGJTTRN/DGJTOREC D EXT W ?60 S X=DGJTCOD/DGJTOREC D EXT W ?75 S X=DGJTTODY/DGJTOREC D EXT W ?88 S X=DGJTO30/DGJTOREC D EXT
"RTN","DGJPDEF3",10,0)
 W ?100,$J(+DGJTOT(DGJTOTAL),7),?112,$J($P(DGJTOT(DGJTOTAL),"^",2),7),?125 S X=($P(DGJTOT(DGJTOTAL),"^",2)/+DGJTOT(DGJTOTAL))*100 D EXT I $O(DGJTOT(DGJTOTAL))]"" D RET1 Q:DGU 
"RTN","DGJPDEF3",11,0)
 Q
"RTN","DGJPDEF3",12,0)
HEAD1 W @IOF,"TOTALS PAGE FOR "_DGJTOTAL,?100,DGJTDAT,!
"RTN","DGJPDEF3",13,0)
 W $S(DGJTL="PHY":"PHYSICIAN",1:"SERVICE/SPECIALTY"),?30,"AVG DAYS",?45,"AVG DAYS",?60,"AVG DAYS",?75,"AVG TOT",?88,"AVG DAYS",?100,"TOT REC",?111,"REC DELQ",?124,"% DELINQ",!
"RTN","DGJPDEF3",14,0)
 W ?30,"D/C-DIC",?45,"DIC-TRAN",?60,"TRAN-COD",?75,"DAYS DELQ",?88,"DELQ>30",!,DGJTLN Q
"RTN","DGJPDEF3",15,0)
RET1 F X=$Y:1:(IOSL-3) W !
"RTN","DGJPDEF3",16,0)
 Q:IOST'?1"C-".E
"RTN","DGJPDEF3",17,0)
 R ?22,"Enter <RET> to continue or ^ to QUIT ",X:DTIME S:X["^"!('$T) DGU=1 Q:DGU  S DGFLAG=1 Q
"RTN","DGJPDEF3",18,0)
RELP I $Y+8>IOSL D RET1:(IOST?1"C-".E) Q:DGU  D HEAD
"RTN","DGJPDEF3",19,0)
 Q
"RTN","DGJPDEF3",20,0)
HEAD S:DGJTDV'=DGJTDV1 DGJTPAG=0
"RTN","DGJPDEF3",21,0)
 S DGJTDIR=2 W @IOF,"PHYSICIAN DEFICIENCY LIST BY "_$S(DGJTL="PHY":"PHYSICIAN",DGJTL="PAT":"PATIENT",1:"SERVICE/SPECIALTY"),?97,DGJTDAT,"  ","PAGE " S DGJTPAG=DGJTPAG+1 W DGJTPAG
"RTN","DGJPDEF3",22,0)
 I DGJTL="SER" W !,"PATIENT",?19,"PT ID",?27,"ADMISSION",?40
"RTN","DGJPDEF3",23,0)
 I DGJTL="PHY" W !,"PATIENT",?23,"PT ID",?31,"ADMISSION",?44
"RTN","DGJPDEF3",24,0)
 I DGJTL="PAT" W !,"PHYSICIAN",?23,"PT ID",?31,"ADMISSION",?44
"RTN","DGJPDEF3",25,0)
 W "DEFICIENCY"
"RTN","DGJPDEF3",26,0)
 I DGJTL="SER" W ?55,"PHYSICIAN",?70,"EVT DATE"
"RTN","DGJPDEF3",27,0)
 I DGJTL'="SER" W ?70,"EVT DATE"
"RTN","DGJPDEF3",28,0)
 W ?82,"STATUS",?95,"BORROWER",?107,"PHONE/RM",?121,"D/T CHARGED"
"RTN","DGJPDEF3",29,0)
 W !,DGJTLN,!
"RTN","DGJPDEF3",30,0)
 Q
"RTN","DGJPDEF3",31,0)
PH Q:$O(^TMP("VAS",$J,DGJTDV,DGJTPHY,DGJTPT))]""  Q:$O(^TMP("VAS",$J,DGJTDV,DGJTPHY,DGJTPT,DFN,IFN))]""
"RTN","DGJPDEF3",32,0)
 W !,"-------------------",?70,"-------",?88,"-------",?97,"-------",?106,"-------",?116,"-------",?125,"-------",!,"COUNT: ",$P(DGJPHTOT(DGJTDV,DGJTPHY),"^",1) D CNTWR D RET1:(IOST'?1"C-".E) Q
"RTN","DGJPDEF3",33,0)
SV Q:$O(^TMP("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT))]""  Q:$O(^TMP("VAS",$J,DGJTDV,DGJTSV,DGJTSP,DGJTPT,DFN,IFN))]""  W !,"------------------------",!,"COUNT: ",DGJSPTOT(DGJTDV,DGJTSV,DGJTSP)
"RTN","DGJPDEF3",34,0)
 Q:$O(^TMP("VAS",$J,DGJTDV,DGJTSV,DGJTSP))]""
"RTN","DGJPDEF3",35,0)
 W !,"------------------------",?70,"-------",?88,"-------",?97,"-------",?106,"-------",?116,"-------",?125,"-------",!,"SERVICE SUBTOTAL: ",$P(DGJSVTOT(DGJTDV,DGJTSV),"^",1) D CNTWR D RET1:(IOST'?1"C-".E) Q
"RTN","DGJPDEF3",36,0)
 Q
"RTN","DGJPDEF3",37,0)
LIST F DGJTTI=0:0 S DGJDOC=$S(DGJTL="PHY":$O(DGJPHTOT(DGJTOTAL,DGJDOC)),1:$O(DGJSVTOT(DGJTOTAL,DGJDOC))) Q:DGJDOC']""!(DGU)  D WR Q:DGU
"RTN","DGJPDEF3",38,0)
 Q
"RTN","DGJPDEF3",39,0)
WR S DGJJX=0 W !,$E(DGJDOC,1,20),?30 S DGJX=$S(DGJTL="PHY":DGJPHTOT(DGJTOTAL,DGJDOC),1:DGJSVTOT(DGJTOTAL,DGJDOC)) S DGJJX=$P(DGJX,"^",1) S X=$P(DGJX,"^",3)/DGJJX D EXT W ?45 S X=$P(DGJX,"^",4)/DGJJX D EXT W ?60 S X=$P(DGJX,"^",5)/DGJJX D EXT
"RTN","DGJPDEF3",40,0)
 W ?75 S X=$P(DGJX,"^",6)/DGJJX D EXT W ?88 S X=$P(DGJX,"^",7)/DGJJX D EXT
"RTN","DGJPDEF3",41,0)
 W ?100,$J($P(DGJX,"^",1),7),?112 S X=$P(DGJX,"^",2) D EXT W ?125 S X=($P(DGJX,"^",2)/+DGJX)*100 D EXT D DIVTOT,RELP Q:DGU
"RTN","DGJPDEF3",42,0)
 Q
"RTN","DGJPDEF3",43,0)
EXT S X=$S(X]"":X,1:0)
"RTN","DGJPDEF3",44,0)
 I X["." S X=$P(X,".",1)_"."_$E($P(X,".",2),1,2) W $J(X,7) Q
"RTN","DGJPDEF3",45,0)
 W $J(X,7) Q
"RTN","DGJPDEF3",46,0)
CNTWR W ?70,"AVG DAYS" S DGJCNTX=$S(DGJTL="PHY":DGJPHTOT(DGJTDV,DGJTPHY),1:DGJSVTOT(DGJTDV,DGJTSV)) S DGJ2CNT=$P(DGJCNTX,"^",1) W ?88 S X=$P(DGJCNTX,"^",3)/DGJ2CNT D EXT
"RTN","DGJPDEF3",47,0)
 W ?97 S X=$P(DGJCNTX,"^",4)/DGJ2CNT D EXT W ?106 S X=$P(DGJCNTX,"^",5)/DGJ2CNT D EXT W ?116 S X=$P(DGJCNTX,"^",6)/DGJ2CNT D EXT W ?125 S X=$P(DGJCNTX,"^",7)/DGJ2CNT D EXT Q
"RTN","DGJPDEF3",48,0)
 Q
"RTN","DGJPDEF3",49,0)
DIVTOT S DGJTDIC=DGJTDIC+$P(DGJX,"^",3),DGJTTRN=DGJTTRN+$P(DGJX,"^",4),DGJTCOD=DGJTCOD+$P(DGJX,"^",5),DGJTTODY=DGJTTODY+$P(DGJX,"^",6),DGJTO30=DGJTO30+$P(DGJX,"^",7),DGJTOREC=DGJTOREC+$P(DGJX,"^",1)
"RTN","DGJPDEF3",50,0)
 Q
"RTN","DGJSUM")
0^20^B15311962
"RTN","DGJSUM",1,0)
DGJSUM ;ALB/MAF - Interface routine with Discharge Summary Package - Jan 26 1993
"RTN","DGJSUM",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJSUM",3,0)
CHECK(DFN,DGJTDT,DGJPARM,DGJIRTDA,DGJT,DGJFLG,DGJTYP) ;Check to see if there is an IRT entry for a deficiency type.
"RTN","DGJSUM",4,0)
 ;Input variables:  DFN
"RTN","DGJSUM",5,0)
 ;                  DGJTDT  = Event Date
"RTN","DGJSUM",6,0)
 ;                  DGJPARM =  Division Parameters
"RTN","DGJSUM",7,0)
 ;                  DGJIRTDA= Incomplete Records IFN
"RTN","DGJSUM",8,0)
 ;                  DGJT   = Array variables
"RTN","DGJSUM",9,0)
 ;                      DGJT("DIV") = Division
"RTN","DGJSUM",10,0)
 ;                      DGJT("AD#") = Admission IFN
"RTN","DGJSUM",11,0)
 ;                      DGJT("WARD")= Ward
"RTN","DGJSUM",12,0)
 ;                      DGJT("TS")  = Treating Specialty
"RTN","DGJSUM",13,0)
 ;                      DGJT("ADDT") = Admission Date
"RTN","DGJSUM",14,0)
 ;                  DGJFLG = returns '1' if new entry created
"RTN","DGJSUM",15,0)
 ;       (optional) DGJTYP = Pointer to file #393.3 IRT Def. Type
"RTN","DGJSUM",16,0)
 N DGJOUT
"RTN","DGJSUM",17,0)
 S DGJPARM=$G(^DG(40.8,+$G(DGJT("DIV")),"DT"))
"RTN","DGJSUM",18,0)
 Q:'+DGJPARM  ;If IRT not turned on
"RTN","DGJSUM",19,0)
 S DGJTYP=$G(DGJTYP,+$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)))
"RTN","DGJSUM",20,0)
 I DGJIRTDA]"",$D(^VAS(393,DGJIRTDA,0)) I '$D(^VAS(393,DGJIRTDA,"DT"))!($D(^VAS(393,DGJIRTDA,"DT"))&($P($G(^("DT")),"^",1)']"")) S DGJFLG=1 Q
"RTN","DGJSUM",21,0)
 I DGJIRTDA]"",$D(^VAS(393,DGJIRTDA,0)) Q
"RTN","DGJSUM",22,0)
 S DGJIRTDA=0 F  S DGJIRTDA=$O(^VAS(393,"B",DFN,DGJIRTDA)) Q:+DGJIRTDA'>0  D  I +$G(DGJOUT) Q
"RTN","DGJSUM",23,0)
 .I $P($G(^VAS(393,DGJIRTDA,0)),"^",2)=DGJTYP,$P($G(^VAS(393,DGJIRTDA,0)),"^",4)=$G(DGJT("AD#")) S DGJOUT=1 Q
"RTN","DGJSUM",24,0)
 I 'DGJIRTDA D ADD Q
"RTN","DGJSUM",25,0)
 Q
"RTN","DGJSUM",26,0)
ADD ;Create an IRT entry
"RTN","DGJSUM",27,0)
 N DIC,DLAYGO,DR,DIE,DGJT9,DGJT10,DGJTSP,DGJTSV,DGJX,DGJY,DGJTEV,DGJTWARD
"RTN","DGJSUM",28,0)
 S DGJTSV=$S($G(DGJT("WARD"))]"":$P(^DIC(42,+$G(DGJT("WARD")),0),"^",3),1:"")
"RTN","DGJSUM",29,0)
 S:DGJTSV']"" DGJTSV=0 S DGJTSV=$S($D(^DG(393.1,"AC",DGJTSV)):$O(^(DGJTSV,0)),1:"") I DGJTSV']"" S DGJTSV=$O(^DG(393.1,"AC",0,0))
"RTN","DGJSUM",30,0)
 S DGJTSP=$O(^DGPM("ATS",DFN,+$G(DGJT("AD#")),0)),DGJTSP=$O(^(+DGJTSP,0)),DGJTSP=$O(^(+DGJTSP,0)),DGJTSP=$S($D(^DGPM(+DGJTSP,0)):^(0),1:"") ;last TS mvt
"RTN","DGJSUM",31,0)
 S DGJX=8,DGJY=2 D DOC S DGJT9=X,X=""
"RTN","DGJSUM",32,0)
 S DGJT10="" I $P(DGJPARM,"^",3) S DGJX=19,DGJY=4 D DOC S DGJT10=X
"RTN","DGJSUM",33,0)
 S DGJTEV=$S(DGJTDT]"":DGJTDT,1:$P(DGJT("ADDT"),"^",1)),DGJTWARD=$G(^DIC(42,$P($G(DGJT("WARD")),"^",1),44))
"RTN","DGJSUM",34,0)
 S DIC="^VAS(393,",DLAYGO=393,DIC(0)="L",X=DFN D FILE^DICN
"RTN","DGJSUM",35,0)
 S DGJIRTDA=+Y I +Y'>0 Q
"RTN","DGJSUM",36,0)
 L +^VAS(393,+DGJIRTDA):1 I '$T Q
"RTN","DGJSUM",37,0)
 S DR=".02////"_DGJTYP_";.03////"_DGJTEV_";.04////"_$G(DGJT("AD#"))_";.05////"_DGJTWARD_";.06////"_$G(DGJT("DIV"))_";.07////"_$P($G(DGJT("TS")),"^",1)_";.08////"_DGJTSV_";.09////"_DGJT9_";.1////"_DGJT10_";.12////"_DGJT9_";.13////1"
"RTN","DGJSUM",38,0)
 S DIE="^VAS(393,",DA=DGJIRTDA D ^DIE
"RTN","DGJSUM",39,0)
 L -^VAS(393,+DGJIRTDA)
"RTN","DGJSUM",40,0)
 S DGJFLG=1 Q
"RTN","DGJSUM",41,0)
EDIT(DGJIRTDA,DGJVDD,DGJVDB,DGJVDT,DGJVTB,DGJPARM) ;Edit an IRT file entry.
"RTN","DGJSUM",42,0)
 L +^VAS(393,+DGJIRTDA):1 I '$T Q
"RTN","DGJSUM",43,0)
 S DR="10.01////"_DGJVDD_";10.02////"_DGJVDB_";10.03////"_DGJVDT_";10.04///"_DGJVTB_";10.05///@;10.06///@;10.07///@;10.08///@"
"RTN","DGJSUM",44,0)
 S DIE="^VAS(393,",DA=DGJIRTDA D ^DIE,STAT1
"RTN","DGJSUM",45,0)
 L -^VAS(393,+DGJIRTDA)
"RTN","DGJSUM",46,0)
 Q
"RTN","DGJSUM",47,0)
DCSDEL(DGJIRTDA,DGJPARM) ;If DCS is Deleted, IRT Rec should just contain a stub
"RTN","DGJSUM",48,0)
 L +^VAS(393,+DGJIRTDA):1 I '$T Q
"RTN","DGJSUM",49,0)
 S DR="10.01///@;10.02///@;10.03///@;10.04///@;10.05///@;10.06///@;10.07///@;10.08///@"
"RTN","DGJSUM",50,0)
 S DIE="^VAS(393,",DA=DGJIRTDA D ^DIE,STAT1
"RTN","DGJSUM",51,0)
 L -^VAS(393,+DGJIRTDA)
"RTN","DGJSUM",52,0)
 Q
"RTN","DGJSUM",53,0)
SIGUP(DGJIRTDA,DGJDS,DGJSB,DGJDR,DGJRB,DGJPARM) ;Update Signed and Reviewed fields.
"RTN","DGJSUM",54,0)
 L +^VAS(393,+DGJIRTDA):1 I '$T Q
"RTN","DGJSUM",55,0)
 S DR="10.05////"_DGJDS_";10.06////"_DGJSB_";10.07////"_DGJDR_";10.08////"_DGJRB
"RTN","DGJSUM",56,0)
 S DA=DGJIRTDA,DIE=393 D ^DIE,STAT1
"RTN","DGJSUM",57,0)
 L -^VAS(393,+DGJIRTDA)
"RTN","DGJSUM",58,0)
 Q
"RTN","DGJSUM",59,0)
STAT1 ;check on the status of the report after a change has been made.
"RTN","DGJSUM",60,0)
 N DGJNODE,DGJSTAT,DGJSTAT1
"RTN","DGJSUM",61,0)
 S DGJNODE=$G(^VAS(393,DGJIRTDA,"DT"))
"RTN","DGJSUM",62,0)
 I $P(DGJNODE,"^",1)']"" S DGJSTAT="INCOMPLETE" G STAT
"RTN","DGJSUM",63,0)
 I $P(DGJNODE,"^",3)']"" S DGJSTAT="DICTATED" G STAT
"RTN","DGJSUM",64,0)
 I $P(DGJNODE,"^",5)']"" S DGJSTAT="TRANSCRIBED" G STAT
"RTN","DGJSUM",65,0)
 I $P(DGJPARM,"^",3)=0 S DGJSTAT="SIGNED NO REVIEW" G STAT
"RTN","DGJSUM",66,0)
 I $P(DGJNODE,"^",7)']"" S DGJSTAT="SIGNED" G STAT
"RTN","DGJSUM",67,0)
 I $P(DGJPARM,"^",3)=1 S DGJSTAT="REVIEWED"
"RTN","DGJSUM",68,0)
STAT S DGJSTAT1=$O(^DG(393.2,"B",DGJSTAT,0)) S DIE="^VAS(393,",DA=DGJIRTDA,DR=".11////^S X=DGJSTAT1" D ^DIE K DR,DIE K DGJSTAT1
"RTN","DGJSUM",69,0)
 Q
"RTN","DGJSUM",70,0)
DOC ;provider resp.
"RTN","DGJSUM",71,0)
 S X=$P(DGJPARM,"^",DGJY)
"RTN","DGJSUM",72,0)
 S X=$S(X="A":$P(DGJTSP,"^",19),X="N":"",1:$P(DGJTSP,"^",8))
"RTN","DGJSUM",73,0)
 Q
"RTN","DGJTADD")
0^21^B2872561
"RTN","DGJTADD",1,0)
DGJTADD ;MAC/ALB - ENTER/EDIT DEFICIENCIES FOR IRT ; MAY 13,1992@11:00
"RTN","DGJTADD",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTADD",3,0)
EN N DA,DIC,DIE,DIR,DLAYGO,DGJTABR,DGJTCTG,DGJTTRK,DGJTSTD D FULL^VALM1
"RTN","DGJTADD",4,0)
 R !!,"Enter New Deficiency: ",X:DTIME G Q1:X="^"!('$T) S DGJTX=X I DGJTX["?"!($L(DGJTX)>30)!($L(DGJTX)<3)!'(DGJTX'?1P.E) W !!,"Enter a new Deficiency Name ... 3-30 characters OR '^' to EXIT" G EN
"RTN","DGJTADD",5,0)
 S DIR(0)="393.3,.02" D ^DIR G Q1:X["^"!$D(DTOUT) S DGJTABR=$P(Y,"^",1)
"RTN","DGJTADD",6,0)
 S DIR(0)="393.3,.06" D ^DIR G Q1:X["^"!$D(DTOUT) S DGJTCTG=+Y
"RTN","DGJTADD",7,0)
 S DIR(0)="393.3,.07" D ^DIR G Q1:X["^"!$D(DTOUT) S DGJTTRK=+Y
"RTN","DGJTADD",8,0)
 S DIR(0)="393.3,.08" D ^DIR G Q1:X["^"!$D(DTOUT) S DGJTSTD=+Y
"RTN","DGJTADD",9,0)
 S X=DGJTX,DIC="^VAS(393.3,",DIC(0)="L",DLAYGO=393.3 D ^DIC G:Y'>0 Q1
"RTN","DGJTADD",10,0)
 S DIE=DIC,DA=+Y,DR=".02////"_DGJTABR_";.06////"_DGJTCTG_";.07////"_DGJTTRK_";.08////"_DGJTSTD D ^DIE
"RTN","DGJTADD",11,0)
 G EN
"RTN","DGJTADD",12,0)
Q1 K DR D EVDT^DGJPAR1 S VALMBG=1,VALMBCK="R" Q
"RTN","DGJTDEL")
0^22^B5396987
"RTN","DGJTDEL",1,0)
DGJTDEL ;ALB/MAF - DELETE OPTION FOR INCOMPLETE RECORDS TRACKING ; JAN 31,1989@900
"RTN","DGJTDEL",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTDEL",3,0)
EN D QUIT
"RTN","DGJTDEL",4,0)
 I $D(^DG(43,1,"GL")) S X=$P(^DG(43,1,"GL"),"^",2) I X=1 S DIR(0)="393,.06",DIR("A")="Select DIVISION " D ^DIR G QUIT:Y="^"!($D(DTOUT)) S DGJTDV=Y
"RTN","DGJTDEL",5,0)
 I '$D(DGJTDV) S X=$O(^DG(40.8,0)) S DGJTDV=X_"^"_$P(^DG(40.8,+X,0),"^")
"RTN","DGJTDEL",6,0)
 I '$D(^DG(40.8,+DGJTDV,"DT")) W !!?10,"PARAMETERS MUST BE SET UP IN THE MEDICAL CENTER DIVISION FILE ",!?30,"FOR DELINQUENCY TRACKING" G EN
"RTN","DGJTDEL",7,0)
 S DIC("S")="I $P(^VAS(393,+Y,0),""^"",6)=$P(DGJTDV,""^"",1)"
"RTN","DGJTDEL",8,0)
PAT S DIC="^VAS(393,",DIC(0)="AQEMZ",DIC("A")="Select PATIENT INCOMPLETE RECORD to Delete: " D ^DIC G QUIT:Y'>0 S DGJTIFN=+Y
"RTN","DGJTDEL",9,0)
 S DGJTEDT1=1,DGJTEDT="^"_DGJTIFN D EN2^DGJTVW
"RTN","DGJTDEL",10,0)
OKD N DGJVALM,DGJAT,VALMY
"RTN","DGJTDEL",11,0)
 S VALMBCK=""
"RTN","DGJTDEL",12,0)
 D SEL^VALM2 G ENQ:'$O(VALMY(0)) S DGJVALM=0
"RTN","DGJTDEL",13,0)
 D FULL^VALM1 S VALMBCK="R"
"RTN","DGJTDEL",14,0)
 F DGJVALM=0:0 S DGJVALM=$O(VALMY(DGJVALM)) Q:'DGJVALM  S (DA,DGJIFNO)=$P($G(^TMP("DGJIDX",$J,DGJVALM)),"^",2) I DA]"" S DGJTEDT="1^"_DA S DGJDFNO=DA,DIC="^VAS(393,",DGJTYP=$P(^VAS(393,DA,0),"^",2) D EDIT^DGJTEE2,OKD1
"RTN","DGJTDEL",15,0)
ENQ D REP^DGJTEE Q
"RTN","DGJTDEL",16,0)
OKD1 D FULL^VALM1 S %=2 W !!,"Ok to delete PATIENT INCOMPLETE RECORD ENTRY " D YN^DICN I '% D YN G OKD1
"RTN","DGJTDEL",17,0)
 I %=1 S DIK="^VAS(393,",DA=DGJIFNO D ^DIK W !,"*DELETED*" K DIC  Q
"RTN","DGJTDEL",18,0)
 I %=2 Q
"RTN","DGJTDEL",19,0)
 S DGJOUT=1 Q
"RTN","DGJTDEL",20,0)
QUIT K %,DA,DIC,DIR,DGT,DGJTST,DGA1,DIK,DGJTDELE,DGJTIFN,DGJTEDT1,X,Y,%Y Q
"RTN","DGJTDEL",21,0)
YN W !?10,"Choose:",!?25,"Y for YES",!?25,"N for NO",! Q
"RTN","DGJTEE")
0^23^B32407389
"RTN","DGJTEE",1,0)
DGJTEE ;MAF,ESD/ALB - ENTER/EDIT OPTION AND MAIN LIST PROCESSOR RTN ; JUN 21 1992@800
"RTN","DGJTEE",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTEE",3,0)
START K XQORS,VALMEVL D EN^VALM("DGJ DEFICIENCY LIST")
"RTN","DGJTEE",4,0)
 Q
"RTN","DGJTEE",5,0)
START1 K XQORS,VALMEVL D EN^VALM("DGJ IRT RECORD LIST")
"RTN","DGJTEE",6,0)
 Q
"RTN","DGJTEE",7,0)
START2 K XQORS,VALMEVL D EN^VALM("DGJ DELETE SINGLE")
"RTN","DGJTEE",8,0)
 Q
"RTN","DGJTEE",9,0)
START3 S DGJTOPT=1 D EN^VALM("DGJ COMP EDIT SINGLE")
"RTN","DGJTEE",10,0)
 Q
"RTN","DGJTEE",11,0)
START4 D EN^VALM("DGJ COMP EDIT SUPER")
"RTN","DGJTEE",12,0)
 Q
"RTN","DGJTEE",13,0)
START5 D EN^VALM("DGJ DELETE SUPER")
"RTN","DGJTEE",14,0)
 Q
"RTN","DGJTEE",15,0)
START6 K XQORS,VALMEVL S DGJVIEW=1 D EN^VALM("DGJ IRT VIEW")
"RTN","DGJTEE",16,0)
 K DGJVIEW Q
"RTN","DGJTEE",17,0)
EN S (DGJTDD,DGJTDBY,DGJTTD,DGJTTBY,DGJTSDT,DGJTSBY,DGJTOUT,DGJT2PH)="",(DGJTFG,DGJTAT,DGJTFLAG,DGJTIOFL,DGJCNT1)=0 S DGJTCFLG=1
"RTN","DGJTEE",18,0)
 I $D(^DG(43,1,"GL")) S X=$P(^DG(43,1,"GL"),"^",2) I X=1 S DIR(0)="393,.06",DIR("A")="Select DIVISION " D ^DIR S:Y="^"!($D(DTOUT)) VALMQUIT="",DGJTFLAG=1 G:DGJTFLAG INITQ S DGJTDV=Y K DIR("A")
"RTN","DGJTEE",19,0)
 I '$D(DGJTDV) S X=$O(^DG(40.8,0)) S DGJTDV=X_"^"_$P(^DG(40.8,+X,0),"^")
"RTN","DGJTEE",20,0)
 S DGJTDEL=^DG(40.8,+DGJTDV,"DT") I $P(DGJTDEL,"^",5)=0 W !!?10,"This facility not tracking for OUTPATIENT OP REPORTS!",! S DGJTIOFL=1
"RTN","DGJTEE",21,0)
 S (VALMCNT,DGJCNT)=0,VALMBG=1
"RTN","DGJTEE",22,0)
PAT K DGJTOA S DIC="^DPT(",DIC(0)="AQEMZ" D ^DIC
"RTN","DGJTEE",23,0)
 I $D(DTOUT)!($D(DUOUT)) S VALMQUIT="" G INITQ
"RTN","DGJTEE",24,0)
 I Y<0 G PAT
"RTN","DGJTEE",25,0)
 S (DFN,DGJTPT)=+Y
"RTN","DGJTEE",26,0)
 S DGJTNODE=^DPT(DFN,0) D PID^VADPT6 S DGJID=VA("PID")
"RTN","DGJTEE",27,0)
 I DGJTIOFL S DGJTSR1=1 G INP
"RTN","DGJTEE",28,0)
OUT1 S DGJFL=0 W !!,"Display for: (I)Inpatients, (O)Outpatients   INPATIENTS//  " R X:DTIME S:X="^"!('$T) VALMQUIT="" G:X="^"!('$T) INITQ D ZSET2 I X=""!("Ii"[X) S X=1
"RTN","DGJTEE",29,0)
 S X=$S("Oo"[X:2,1:X)
"RTN","DGJTEE",30,0)
 I X="?" D ZSET2,HELP2 G OUT1
"RTN","DGJTEE",31,0)
 S DGJTSR1=$E(X) D IN^DGJHELP W ! I %=-1 D ZSET2,HELP2 G OUT1
"RTN","DGJTEE",32,0)
 I DGJTSR1=2 G EVDT
"RTN","DGJTEE",33,0)
INP D WARN^DGJTUTL I '$D(^UTILITY("DGJTADM",$J)) I $P(DGJTDEL,"^",5)=0!(DGJTSR1=1) G PAT
"RTN","DGJTEE",34,0)
 I '$D(^UTILITY("DGJTADM",$J)),$P(DGJTDEL,"^",5) D NUL Q
"RTN","DGJTEE",35,0)
 S DGJTFG=0 D LIST^DGJTEE2 I DGJTFG S VALMQUIT="" G INITQ
"RTN","DGJTEE",36,0)
EVDT D WAIT^DICD K ^TMP("DGJDEF",$J),DGJCAT,DGJDISD S (VALMCNT,DGJCNT,DGJCNT1,DGJTFG,DGJTFLG)=0 I DGJTSR1=2 S DGJTAIFN="" D SCR^DGJTEE3 D:'$O(^TMP("DGJDEF",$J,0)) NUL Q
"RTN","DGJTEE",37,0)
 S DGJTDIV=$P(^DGPM(DGJTAIFN,0),"^",6),DGJTDIV=$P($G(^DIC(42,+DGJTDIV,0)),"^",11)
"RTN","DGJTEE",38,0)
 S VALMBG=1,DGJTCT=0 F IFN=0:0 S IFN=$O(^VAS(393,"ADM",DGJTAIFN,IFN)) Q:'IFN  I $D(^VAS(393,IFN,0)) S DGJTYP=$P(^VAS(393,IFN,0),"^",2) S DGJTCDIS=$S(DGJTYP]"":$P(^VAS(393.41,$P(^VAS(393.3,DGJTYP,0),"^",6),0),"^",4),1:"NOT SPECIFIED") D UTIL
"RTN","DGJTEE",39,0)
 N CC,CM,CW,DC,DW,EC,EW,PC,PW,RV,SC,SN,SW,TC,TW D INCSP^DGJTEE2 D LOOP^DGJTEE1 I '$O(^TMP("DGJDEF",$J,0)) D NUL
"RTN","DGJTEE",40,0)
 Q
"RTN","DGJTEE",41,0)
UTIL S ^TMP("DGJ",$J,DGJTCDIS,DGJTYP,IFN)="" S:$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0))=DGJTYP DGJDISD=1 Q
"RTN","DGJTEE",42,0)
INITQ Q
"RTN","DGJTEE",43,0)
Q K DIC("A"),DIC("B"),DIC("S") S VALMBCK="R" Q
"RTN","DGJTEE",44,0)
ZSET2 S Z="^1 INPATIENTS^2 OUTPATIENTS^" Q
"RTN","DGJTEE",45,0)
HELP2 W !!,"Choose a number or first initial:" F K=2:1:3 W !?15,$P(Z,"^",K)
"RTN","DGJTEE",46,0)
 W ! Q
"RTN","DGJTEE",47,0)
DATA I 'DGJTEDT S X=DGJTAIFN D NEW1
"RTN","DGJTEE",48,0)
 Q
"RTN","DGJTEE",49,0)
NEW ;EDIT CODE
"RTN","DGJTEE",50,0)
 N DGJVALM,DGJAT,VALMY
"RTN","DGJTEE",51,0)
 S VALMBCK=""
"RTN","DGJTEE",52,0)
 D SEL^VALM2 G ENQ:'$O(VALMY(0)) S DGJVALM=0
"RTN","DGJTEE",53,0)
 D FULL^VALM1 S VALMBCK="R"
"RTN","DGJTEE",54,0)
 F DGJVALM=0:0 S DGJVALM=$O(VALMY(DGJVALM)) Q:'DGJVALM  S DA=$P($G(^TMP("DGJIDX",$J,DGJVALM)),"^",2) I DA]"" S DGJTEDT="1^"_DA S DGJDFNO=DA,DIC="^VAS(393," D EN^DGJTEE2
"RTN","DGJTEE",55,0)
ENQ D REP Q
"RTN","DGJTEE",56,0)
FNL K DGJTDD,DGJTDBY,DGJTTD,DGJTTBY,DGJTSDT,DGJTSBY,DGJTOUT,DGJT2PH,DGJTFG,DGJTAT,DGJTFLAG,DGJTCFLG,DGJID,DGJTAIFN,DGJTDIV,DGJTDV,DGJTFLG,DGJTNODE,DGJTPT,VA,DGJTCT,DGJTIOFL,DGJTSR1,DGX,IFN,K,VALMQUIT,Z,DGJC,DGJFL,DGJTADTP,^TMP("DGJDEF",$J)
"RTN","DGJTEE",57,0)
 K DGJTCNT,DGJTF,I,VAERR,DGJTOA,DGJDFNO,DGJI,DGJNOTY,DGJTFL,DGJTYP,DGJVAL,DGJTREC,DGJCAT,DGJCNT1,DGJTCAT,DGJTCDIS,DGJVAL1,DGJX,DGJCPDFN,DGJCPNOD,DGJCPSR1,DGJIFNO,^TMP("DGJ",$J),^TMP("DGJIDX",$J)
"RTN","DGJTEE",58,0)
 K DGJTDT,DGJTDDT,DGJT1PH,DGJT,DGJTOPT,DGJTWD1,DGJTWD,DGJTSV,DGJTSP,DGJTPR,DIV,POP,S,VAIP,DGJCPTX,DGJDISD,DGJVIEW
"RTN","DGJTEE",59,0)
QUIT K %,%Y,DA,DFN,DGA1,DGJTADN,DGJTAIFN,DGJTCH,DGJTCH1,DGJCNT,DGJTDEF,DGJTDEL,DGJTDLT,DGJTEDT,DGJTEDT1,DGJTFG,DGJTFLG,DGJTIFN,DGJTST,DGJTX,DGT,DIC,DIE,DIK,DIR,DR,I,X,Y,^TMP("DGJDEF",$J) Q
"RTN","DGJTEE",60,0)
NEW1 ;ENTER CODE
"RTN","DGJTEE",61,0)
 K DGJTEDT
"RTN","DGJTEE",62,0)
 D FULL^VALM1
"RTN","DGJTEE",63,0)
CAT I DGJTSR1=1&('$D(DGJTREC)) N DGJY S DIC="^VAS(393.41,",DIC(0)="AEMN" D ^DIC K DIC G:X["^" REP G:Y<0 CAT S DGJY=+Y
"RTN","DGJTEE",64,0)
TYP I '$D(DGJTREC) S DIC("S")="I $P(^VAS(393.3,+Y,0),U,6)=+DGJY,$P(^VAS(393.3,+Y,0),U,7)=1" D CAT1
"RTN","DGJTEE",65,0)
 I DGJTSR1=2 S DIC("S")="I $S(""^OP REPORT^""[$P(^VAS(393.3,+Y,0),U,1):1,1:0)"
"RTN","DGJTEE",66,0)
 I DGJTSR1=1,$D(DGJTREC) S DIC("S")="I $S(""^OP REPORT^INTERIM SUMMARY^DISCHARGE SUMMARY^""[$P(^VAS(393.3,+Y,0),U,1):1,1:0)"
"RTN","DGJTEE",67,0)
 S DIC="^VAS(393.3,",DIC("A")="Enter TYPE OF DEFICIENCY: ",DIC(0)="AEMQ" D ^DIC G Q:X["^"!($D(DTOUT)) S DGJTYP=+Y K DIC("S"),DIC("A"),DIC("B") I X']"" G TYP
"RTN","DGJTEE",68,0)
 K DGJY D EDIT,REP Q
"RTN","DGJTEE",69,0)
CAT1 I $D(DGJDISD) S DIC("S")=DIC("S")_",""^DISCHARGE SUMMARY^""'[$P(^VAS(393.3,+Y,0),U,1)"
"RTN","DGJTEE",70,0)
 Q
"RTN","DGJTEE",71,0)
EDIT D FULL^VALM1
"RTN","DGJTEE",72,0)
 S DGJTDV=$P(DGJTDV,"^",1)
"RTN","DGJTEE",73,0)
 D NEW^DGJTEE2
"RTN","DGJTEE",74,0)
 Q
"RTN","DGJTEE",75,0)
REP K DR D EVDT S VALMBG=1,VALMBCK="R" Q
"RTN","DGJTEE",76,0)
HDR D HDR^DGJTEE1
"RTN","DGJTEE",77,0)
 Q
"RTN","DGJTEE",78,0)
NUL ;NULL MESSAGE
"RTN","DGJTEE",79,0)
 K ^TMP("DGJDEF",$J) S ^TMP("DGJDEF",$J,1,0)=" ",^TMP("DGJDEF",$J,2,0)=$S($D(DGJTCOM):"There are no Completed IRTs for this patient",1:"There are no DEFICIENCIES that meet this action's criteria."),^TMP("DGJIDX",$J,1)=1,^TMP("DGJIDX",$J,2)=2
"RTN","DGJTEE",80,0)
 Q
"RTN","DGJTEE1")
0^24^B29411664
"RTN","DGJTEE1",1,0)
DGJTEE1 ;MAF/ALB - CONT. ENTER EDIT DEFICIENCIES - JUNE 1992
"RTN","DGJTEE1",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTEE1",3,0)
LOOP F DGJTCDIS=0:0 S DGJTCDIS=$O(^TMP("DGJ",$J,DGJTCDIS)) Q:DGJTCDIS']""  F DGJTYP=0:0 S DGJTYP=$O(^TMP("DGJ",$J,DGJTCDIS,DGJTYP)) Q:'DGJTYP  F IFN=0:0 S IFN=$O(^TMP("DGJ",$J,DGJTCDIS,DGJTYP,IFN)) Q:'IFN  D LOOP2
"RTN","DGJTEE1",4,0)
 Q
"RTN","DGJTEE1",5,0)
LOOP2 Q:'$D(^VAS(393,IFN,0))  S DGJTADN=^VAS(393,IFN,0) Q:$P(DGJTDV,"^",1)'=$P(DGJTADN,"^",6)  Q:DGJTAIFN'=$P(DGJTADN,"^",4)  I '$D(DGJTDLT) D STATCK I $D(DGJFL1) K DGJFL1 Q
"RTN","DGJTEE1",6,0)
 I $D(DGJTDLT),'$D(DGJVIEW),$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0))=DGJTYP Q
"RTN","DGJTEE1",7,0)
 I DGJTAIFN]"" D SETG1 Q
"RTN","DGJTEE1",8,0)
 Q
"RTN","DGJTEE1",9,0)
LOWER(X) ;
"RTN","DGJTEE1",10,0)
 N Y,C,Z,I
"RTN","DGJTEE1",11,0)
 S Y=$E(X)_$TR($E(X,2,999),"ABCDEFGHIJKLMNOPQRSTUVWXYZ@","abcdefghijklmnopqrstuvwxyz ")
"RTN","DGJTEE1",12,0)
 F C=" ",",","/" S I=0 F  S I=$F(Y,C,I) Q:'I  S Y=$E(Y,1,I-1)_$TR($E(Y,I),"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")_$E(Y,I+1,999)
"RTN","DGJTEE1",13,0)
 Q Y
"RTN","DGJTEE1",14,0)
SETSTR(S,V,X,L) ; -- insert text(S) into variable(V)
"RTN","DGJTEE1",15,0)
 ;    S := string
"RTN","DGJTEE1",16,0)
 ;    V := destination
"RTN","DGJTEE1",17,0)
 ;    X := @ col X
"RTN","DGJTEE1",18,0)
 ;    L := # of chars
"RTN","DGJTEE1",19,0)
 ;
"RTN","DGJTEE1",20,0)
 Q $E(V_$J("",X-1),1,X-1)_$E(S_$J("",L),1,L)_$E(V,X+L,999)
"RTN","DGJTEE1",21,0)
 ;
"RTN","DGJTEE1",22,0)
STATCK ;Status check (complete)
"RTN","DGJTEE1",23,0)
 S X=$P(DGJTADN,"^",11),DGJX=$P(DGJTADN,"^",6),DGJX=$G(^DG(40.8,DGJX,"DT"))
"RTN","DGJTEE1",24,0)
 I $D(DGJTCOM) D
"RTN","DGJTEE1",25,0)
 .I X=CM Q
"RTN","DGJTEE1",26,0)
 .I $P(DGJX,"^",3)=1,X=RV Q
"RTN","DGJTEE1",27,0)
 .I $P(DGJX,"^",3)=0,X=SN Q
"RTN","DGJTEE1",28,0)
 .S DGJFL1=1
"RTN","DGJTEE1",29,0)
 .Q
"RTN","DGJTEE1",30,0)
 E  D  ;not complete
"RTN","DGJTEE1",31,0)
 .I X=CM S DGJFL1=1 Q
"RTN","DGJTEE1",32,0)
 .I $P(DGJX,"^",3)=1,X=RV S DGJFL1=1 Q
"RTN","DGJTEE1",33,0)
 .I $P(DGJX,"^",3)=0,X=SN S DGJFL1=1 Q
"RTN","DGJTEE1",34,0)
 Q
"RTN","DGJTEE1",35,0)
HDR S X=""
"RTN","DGJTEE1",36,0)
 S X=$$SETSTR("  PATIENT: ",X,1,11)
"RTN","DGJTEE1",37,0)
 S X=$$SETSTR($E($P($G(^DPT(DGJTPT,0)),"^",1),1,20),X,12,20)
"RTN","DGJTEE1",38,0)
 S X=$$SETSTR("PT ID: ",X,40,7)
"RTN","DGJTEE1",39,0)
 S X=$$SETSTR(DGJID,X,48,12)
"RTN","DGJTEE1",40,0)
 S VALMHDR(1)=X
"RTN","DGJTEE1",41,0)
 S X=""
"RTN","DGJTEE1",42,0)
 S X=$$SETSTR("ADMISSION: ",X,1,11)
"RTN","DGJTEE1",43,0)
 I $D(DGJTOA),+$G(DGJTX) S X=$$SETSTR($$FTIME^VALM1($P(DGJTOA(DGJTX),"^",2)),X,12,18)
"RTN","DGJTEE1",44,0)
 I '$D(DGJTOA) S X=$$SETSTR("OUTPATIENT",X,12,10)
"RTN","DGJTEE1",45,0)
 S VALMHDR(2)=X
"RTN","DGJTEE1",46,0)
 Q
"RTN","DGJTEE1",47,0)
EXP ; -- expand
"RTN","DGJTEE1",48,0)
 N DGJVALM,DGJAT,VALMY,DIR
"RTN","DGJTEE1",49,0)
 S VALMBCK=""
"RTN","DGJTEE1",50,0)
 D SEL^VALM2 G ENQ:'$O(VALMY(0)) S DGJVALM=0
"RTN","DGJTEE1",51,0)
 D FULL^VALM1 S VALMBCK="R"
"RTN","DGJTEE1",52,0)
 F  S DGJVALM=$O(VALMY(DGJVALM)) Q:'DGJVALM  D
"RTN","DGJTEE1",53,0)
 .D FULL^VALM1
"RTN","DGJTEE1",54,0)
 .S DGJAT=$G(^TMP("DGJIDX",$J,DGJVALM))
"RTN","DGJTEE1",55,0)
 .W !!,^TMP("DGJDEF",$J,+DGJAT,0),!
"RTN","DGJTEE1",56,0)
 .S (DA,DGJDFNO)=+$P(DGJAT,U,2),DIC="^VAS(393,",DR="0" D EN^DIQ,PAUSE^VALM1 I Y=""!(Y=0) S VALMBCK="R" Q
"RTN","DGJTEE1",57,0)
 .I $D(DGJTSEDT) D EXP2 Q
"RTN","DGJTEE1",58,0)
 .S DGJTYP=$P(^VAS(393.3,$P(^VAS(393,DA,0),"^",2),0),"^",1) I "^OP REPORT^DISCHARGE SUMMARY^INTERIM SUMMARY^"[DGJTYP S DGJTYP=$O(^VAS(393.3,"B",DGJTYP,0)) S DGJTAIFN=$P(^VAS(393,DA,0),"^",4),DGJTEDT="1^"_DA D EXP1
"RTN","DGJTEE1",59,0)
 S VALMBCK="R"
"RTN","DGJTEE1",60,0)
ENQ Q
"RTN","DGJTEE1",61,0)
EXP1 D INIT3^DGJTEE2 S VALMBG=1,VALMBCK="R"
"RTN","DGJTEE1",62,0)
 Q
"RTN","DGJTEE1",63,0)
EXP2 ;TS EDIT
"RTN","DGJTEE1",64,0)
 Q:'$D(^VAS(393,DA,0))  I $P(^VAS(393,DA,0),"^",2)'=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) D TSEDIT,EVDT^DGJTEE G TSQ
"RTN","DGJTEE1",65,0)
 S (X,DGJTNUM)=2 S DGJTNO="^^^"_DGJTAIFN D CK^DGJTVW1
"RTN","DGJTEE1",66,0)
 Q
"RTN","DGJTEE1",67,0)
TSEDIT S DIE="^VAS(393,",DA=DA,DR=".07;.09;.1" D ^DIE Q
"RTN","DGJTEE1",68,0)
TSQ S VALMBG=1,VALMBCK="R" Q
"RTN","DGJTEE1",69,0)
PAT1 ; -- change pat
"RTN","DGJTEE1",70,0)
 D FULL^VALM1 S VALMBG=1,VALMBCK="R"
"RTN","DGJTEE1",71,0)
 K X,DGJCPSR1,DGJCPSR2 I $D(XQORNOD(0)) S X=$P($P(XQORNOD(0),U,4),"=",2)
"RTN","DGJTEE1",72,0)
 S DGJCPDFN=DFN,DGJCPNOD=DGJTNODE S:$D(DGJTSR1) DGJCPSR1=DGJTSR1 S:$D(DGJTSR2) DGJCPSR2=DGJTSR2
"RTN","DGJTEE1",73,0)
 I $G(DGJTSR1)=1 S DGJCPTX=DGJTX
"RTN","DGJTEE1",74,0)
 K DGJTSR1,DGJTSR2
"RTN","DGJTEE1",75,0)
 D PAT^DGJTEE
"RTN","DGJTEE1",76,0)
 I Y<0!(DGJTFG=1)!('$D(DGJTSR1)&('$D(DGJTSR2))) S:DGJTAIFN]"" DGJTX=DGJCPTX,DGJTOA(DGJTX)=DGJTAIFN_"^"_$P(^DGPM(DGJTAIFN,0),"^",1) S (DFN,DGJTPT)=DGJCPDFN,DGJTNODE=DGJCPNOD D  G PATQ
"RTN","DGJTEE1",77,0)
 .S:$D(DGJCPSR1) DGJTSR1=DGJCPSR1 S:$D(DGJCPSR2) DGJTSR2=DGJCPSR2
"RTN","DGJTEE1",78,0)
 .W !!,*7,"Patient has not been changed."
"RTN","DGJTEE1",79,0)
 .W ! S DIR(0)="E" D ^DIR K DIR
"RTN","DGJTEE1",80,0)
 .S DGJTFG=0 S VALMBCK="R"
"RTN","DGJTEE1",81,0)
 D HDR^DGJTEE
"RTN","DGJTEE1",82,0)
PATQ Q
"RTN","DGJTEE1",83,0)
SETG1 I $D(DGJTREC) I "^OP REPORT^DISCHARGE SUMMARY^INTERIM SUMMARY^"'[($P(^VAS(393.3,$P(DGJTADN,"^",2),0),"^")) Q
"RTN","DGJTEE1",84,0)
 S DGJTCAT=$P(^VAS(393.3,DGJTYP,0),"^",6)
"RTN","DGJTEE1",85,0)
 S DGJCNT1=DGJCNT1+1
"RTN","DGJTEE1",86,0)
 I '$D(DGJCAT(DGJTCAT)) D CATSET
"RTN","DGJTEE1",87,0)
 S X="",DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJTEE1",88,0)
 S X=$$SETSTR(DGJCNT1,X,1,3)
"RTN","DGJTEE1",89,0)
 S DGJVAL=$P(DGJTADN,"^",2)
"RTN","DGJTEE1",90,0)
 S X=$$SETSTR($$LOWER($P($G(^VAS(393.3,+DGJVAL,0)),"^")),X,+$S($D(DGJTREC):TC,1:DC),+$S($D(DGJTREC):TW,1:DW))
"RTN","DGJTEE1",91,0)
 S X=$$SETSTR($$LOWER($P($G(^VA(200,+$P(DGJTADN,"^",14),0)),"^")),X,+PC,+PW)
"RTN","DGJTEE1",92,0)
 S X=$$SETSTR($$LOWER($P($G(^DG(393.2,+$P(DGJTADN,"^",11),0)),"^")),X,+SC,+SW)
"RTN","DGJTEE1",93,0)
 S DGX=$P($G(^VAS(393.3,+DGJVAL,0)),"^",6),DGX=$P($G(^VAS(393.41,+DGX,0)),"^") I DGX]"" S X=$$SETSTR($$LOWER(DGX),X,+CC,+CW)
"RTN","DGJTEE1",94,0)
 I $P(DGJTADN,"^",3)]"" S DGX=$P(DGJTADN,"^",3) I DGX]"" S X=$$SETSTR($$LOWER($$FTIME^VALM1(DGX)),X,+EC,+EW)
"RTN","DGJTEE1",95,0)
 S ^TMP("DGJDEF",$J,DGJCNT,0)=X,^TMP("DGJDEF",$J,"IDX",VALMCNT,DGJCNT1)=""
"RTN","DGJTEE1",96,0)
 S ^TMP("DGJIDX",$J,DGJCNT1)=VALMCNT_"^"_IFN
"RTN","DGJTEE1",97,0)
 Q
"RTN","DGJTEE1",98,0)
CATSET ;CATEGORY HEADING
"RTN","DGJTEE1",99,0)
 S DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJTEE1",100,0)
 S DGJCAT(DGJTCAT)=DGJCNT
"RTN","DGJTEE1",101,0)
 S X=""
"RTN","DGJTEE1",102,0)
 S X=$$SETSTR(" ",X,1,3) D TMP
"RTN","DGJTEE1",103,0)
 S X="",DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJTEE1",104,0)
 S DGJVAL=$P(^VAS(393.41,DGJTCAT,0),"^",1)
"RTN","DGJTEE1",105,0)
 S DGJVAL1=$L(DGJVAL) S DGJVAL1=(80-DGJVAL1)/2 S DGJVAL1=DGJVAL1\1 S X=$$SETSTR(" ",X,1,DGJVAL1)
"RTN","DGJTEE1",106,0)
 S X=$$SETSTR(DGJVAL,X,DGJVAL1,25) D TMP
"RTN","DGJTEE1",107,0)
 S X="",DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJTEE1",108,0)
 S X=$$SETSTR(" ",X,1,3) D TMP
"RTN","DGJTEE1",109,0)
 Q
"RTN","DGJTEE1",110,0)
TMP S ^TMP("DGJDEF",$J,DGJCNT,0)=X,^TMP("DGJDEF",$J,"IDX",VALMCNT,DGJCNT1)=""
"RTN","DGJTEE1",111,0)
 S ^TMP("DGJIDX",$J,DGJCNT1)=VALMCNT_"^"_IFN
"RTN","DGJTEE1",112,0)
 Q
"RTN","DGJTEE2")
0^25^B21013849
"RTN","DGJTEE2",1,0)
DGJTEE2 ;ALB/MAF - ENTER/EDIT LIST PROCESSOR SET UP VARIABLES  ;SEP 5 1992@100
"RTN","DGJTEE2",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTEE2",3,0)
EN I $P(DGJTEDT,"^",1)=1 D EDIT Q
"RTN","DGJTEE2",4,0)
NEW D DATA^DGJTEE3
"RTN","DGJTEE2",5,0)
Q Q
"RTN","DGJTEE2",6,0)
EDIT S VALMBCK=""
"RTN","DGJTEE2",7,0)
 I "^OP REPORT^DISCHARGE SUMMARY^INTERIM SUMMARY^"[$P(^VAS(393.3,+$P(^VAS(393,$P(DGJTEDT,"^",2),0),"^",2),0),"^",1) D INIT^DGJTEE2 S VALMBCK="R" Q
"RTN","DGJTEE2",8,0)
 D INIT4
"RTN","DGJTEE2",9,0)
 S VALMBCK="R" Q
"RTN","DGJTEE2",10,0)
INCSP ;To increase speed of list.
"RTN","DGJTEE2",11,0)
 ; -- format vars     |- column -| |- width -|
"RTN","DGJTEE2",12,0)
 I $D(DGJTREC) S X=VALMDDF("RECORD TYPE"),TC=$P(X,U,2),TW=$P(X,U,3) ; T for record type
"RTN","DGJTEE2",13,0)
 I '$D(DGJTREC) S X=VALMDDF("DEFICIENCY"),DC=$P(X,U,2),DW=$P(X,U,3) ;  D for deficiency
"RTN","DGJTEE2",14,0)
 S X=VALMDDF("PHYSICIAN"),PC=$P(X,U,2),PW=$P(X,U,3) ;  P for physician
"RTN","DGJTEE2",15,0)
 S X=VALMDDF("STATUS"),SC=$P(X,U,2),SW=$P(X,U,3) ;  S for status
"RTN","DGJTEE2",16,0)
 S X=VALMDDF("CATEGORY"),CC=$P(X,U,2),CW=$P(X,U,3) ;  C for category
"RTN","DGJTEE2",17,0)
 S X=VALMDDF("EVENT DATE"),EC=$P(X,U,2),EW=$P(X,U,3) ;  E for event date
"RTN","DGJTEE2",18,0)
 S CM=$O(^DG(393.2,"B","COMPLETED",0))
"RTN","DGJTEE2",19,0)
 S RV=$O(^DG(393.2,"B","REVIEWED",0))
"RTN","DGJTEE2",20,0)
 S SN=$O(^DG(393.2,"B","SIGNED NO REVIEW",0))
"RTN","DGJTEE2",21,0)
 Q
"RTN","DGJTEE2",22,0)
LIST W ! S (DGJTCT,DGJC,DGJTX)=0
"RTN","DGJTEE2",23,0)
 F I=0:0 S I=$O(^UTILITY("DGJTADM",$J,I)) Q:'I!(DGJC)  F IFN=0:0 S IFN=$O(^UTILITY("DGJTADM",$J,I,IFN)) Q:'IFN!(DGJC)  S DGJTCT=DGJTCT+1,DGJTADN=^DGPM(IFN,0),Y=$P(DGJTADN,"^",1),DGJTOA(DGJTCT)=IFN_"^"_Y D DT1 I $D(DGJTCH)!($D(DGJTCH1)) Q:DGJC=1
"RTN","DGJTEE2",24,0)
 I $D(DGJTCH1) S DGJTFG=1 K DGJTCH1 Q
"RTN","DGJTEE2",25,0)
 K DGJTCH,DGJTCH1
"RTN","DGJTEE2",26,0)
 I DGJTCT#5'=0 D  S:X="^"!('$T) DGJTFG=1 Q:DGJTFG=1  I X["?"!(X?.A) G LIST
"RTN","DGJTEE2",27,0)
 . W !!,"Choose admission 1"
"RTN","DGJTEE2",28,0)
 . W $S(DGJTCT=1:" ",1:"-"_DGJTCT_" ")_" or '^' to QUIT: "
"RTN","DGJTEE2",29,0)
 . R X:DTIME
"RTN","DGJTEE2",30,0)
 I '$D(DGJTOA($S(X]"":X,1:0))) G LIST
"RTN","DGJTEE2",31,0)
 W ! S DGJTX=X
"RTN","DGJTEE2",32,0)
 S DGJTAIFN=$P(DGJTOA(+X),"^",1)
"RTN","DGJTEE2",33,0)
 Q
"RTN","DGJTEE2",34,0)
DT1 D DT1^DGJTEE3
"RTN","DGJTEE2",35,0)
 W !,$J(DGJTCT,4),">",?7,$$FMTE^XLFDT($E(Y,1,12),5),?26,$S($L(DGJTADTP)'>20:DGJTADTP,1:$E(DGJTADTP,1,20))
"RTN","DGJTEE2",36,0)
 S Z=+$G(^DGPM(+$P(DGJTADN,"^",17),0)) W ?49,"Discharged: ",?61,$S(Z:$$FMTE^XLFDT($E(Z,1,12),5),1:"N/A")
"RTN","DGJTEE2",37,0)
 I DGJTCT#5=0 D CHOZ
"RTN","DGJTEE2",38,0)
 Q
"RTN","DGJTEE2",39,0)
DT X ^DD("DD") W !,?10,DGJTCT_".  "_Y I DGJTCT#5=0 D CHOZ
"RTN","DGJTEE2",40,0)
 Q
"RTN","DGJTEE2",41,0)
CHOZ W !!,"Type '^' to QUIT, or <RETURN> to display more ",!
"RTN","DGJTEE2",42,0)
 W "Choose "_$S($D(DGJTRC):"Record ",1:"Admission "),1,$S(DGJTCT=1:"",1:"-"_DGJTCT),": " R X:DTIME S:'$T!(X["^") DGJTCH1=1,DGJC=1 I X I $D(DGJTOA(X))!($D(DGJTRC(X))) S DGJTCH=1,DGJTX=X,DGJC=1 Q
"RTN","DGJTEE2",43,0)
 Q
"RTN","DGJTEE2",44,0)
SETG ;SET UP TEMP GLOBAL
"RTN","DGJTEE2",45,0)
 N VALMCNT,DGJCNT
"RTN","DGJTEE2",46,0)
 S (VALMCNT,DGJCNT)=0
"RTN","DGJTEE2",47,0)
 S X="",DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJTEE2",48,0)
 S ^TMP("DGJRPT",$J,DGJCNT,0)=X,^TMP("DGJRPT",$J,"IDX",VALMCNT,DGJCNT)=""
"RTN","DGJTEE2",49,0)
 S ^TMP("DGJRPIDX",$J,DGJCNT)=VALMCNT_"^"_I
"RTN","DGJTEE2",50,0)
 Q
"RTN","DGJTEE2",51,0)
INIT I $D(DGJTDLT) D EN^VALM("DGJ DELETE RECORD") Q
"RTN","DGJTEE2",52,0)
 D EN^VALM("DGJ IRT REC EDIT")
"RTN","DGJTEE2",53,0)
 Q
"RTN","DGJTEE2",54,0)
INIT1 D EN^VALM("DGJ IRT REC ENTER")
"RTN","DGJTEE2",55,0)
 Q
"RTN","DGJTEE2",56,0)
INIT3 D EN^VALM("DGJ EXP ENTRY")
"RTN","DGJTEE2",57,0)
 Q
"RTN","DGJTEE2",58,0)
INIT4 ;
"RTN","DGJTEE2",59,0)
 I $D(DGJTDLT) D EN^VALM("DGJ DELETE DEFICIENCY") Q
"RTN","DGJTEE2",60,0)
 D EN^VALM("DGJ DEF EDIT")
"RTN","DGJTEE2",61,0)
 Q
"RTN","DGJTEE2",62,0)
QUICMP ;QUICK COMPLETE OF DEFICIENCIES ON THE SCREEN
"RTN","DGJTEE2",63,0)
 N DGJVALM,DGJAT,VALMY
"RTN","DGJTEE2",64,0)
 S VALMBCK=""
"RTN","DGJTEE2",65,0)
 D SEL^VALM2 G REP^DGJTEE:'$O(VALMY(0)) S DGJVALM=0
"RTN","DGJTEE2",66,0)
 D FULL^VALM1 S VALMBCK="R"
"RTN","DGJTEE2",67,0)
 F DGJVALM=0:0 S DGJVALM=$O(VALMY(DGJVALM)) Q:'DGJVALM  S DA=$P($G(^TMP("DGJIDX",$J,DGJVALM)),"^",2) I DA]"" S DGJTEDT="1^"_DA S DGJDFNO=DA,DIE="^VAS(393,"  D SET
"RTN","DGJTEE2",68,0)
 G ENQ
"RTN","DGJTEE2",69,0)
SET I "^OP REPORT^DISCHARGE SUMMARY^INTERIM SUMMARY^"[$P(^VAS(393.3,+$P(^VAS(393,$P(DGJTEDT,"^",2),0),"^",2),0),"^",1) Q
"RTN","DGJTEE2",70,0)
 S DR=".11////"_$O(^DG(393.2,"B","COMPLETED",0)) D ^DIE K DR,DA
"RTN","DGJTEE2",71,0)
 Q
"RTN","DGJTEE2",72,0)
ENQ G REP^DGJTEE Q
"RTN","DGJTEE2",73,0)
QUIT K Z,DA,DFN,DIC,DIE,DIR,DR,DTOUT,I,IFN,PTF,VAIP,DGA1,DGJC,DGJT,DGJTADN,DGJTADTP,DGJTAT,DGJTCNT,DGJTCT,DGJTDT,DGJTDBY,DGJTDD,DGJTEDT,DGJTOUT,DGJTOA,DGJTOUT,DGJTRC,DGJTSBY,DGJTSDT,DGJTSP,DGJTSV,DGJTST,DGJTTBY,DGJTWD1,DGJFFL,DGJTPR
"RTN","DGJTEE2",74,0)
 K DGT,DGJTCFLG,DGJTSDT,DGJTTBY,DGJTTD,DGJTYP,DGJTWD,DGJTX,DGPM2X,DGPMCA,DGPMDCD,DGPMT,DGPMVI,DGPMY,DIV,X,^UTILITY("DGJTADM",$J),Y,OK,POP,VAERR,DGJT1PH,DGJT2PH,DGJTDEL,DGJTCH,DGJTCH1,DGJTFG,DGJTFL,DGJTDDT,DGJTF,VAINDT
"RTN","DGJTEE2",75,0)
 K DIC("S"),DIC("A") Q
"RTN","DGJTEE3")
0^26^B21200419
"RTN","DGJTEE3",1,0)
DGJTEE3 ;ALB/MAF - ENTER/EDIT (CONT) LIST PROCESSOR SET UP VARIABLES CONT. ;SEP 5 1992@100
"RTN","DGJTEE3",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTEE3",3,0)
DATA N DA K DIR("A"),DIR("B") S DIR(0)="393,.03" D ^DIR G Q:Y="^"!$D(DTOUT) S DGJTDT=Y
"RTN","DGJTEE3",4,0)
 I DGJTAIFN]"",$D(^DGPM(DGJTAIFN,0)),Y<+^DGPM(DGJTAIFN,0) S Y=+^DGPM(DGJTAIFN,0) X ^DD("DD") W !!?10,"Event Date must be after admission"," ",Y,! G DATA
"RTN","DGJTEE3",5,0)
 I DGJTAIFN]"" S X=$S($D(^DGPM(DGJTAIFN,0)):$P(^(0),"^",17),1:"") I $D(^DGPM(+X,0)),Y>+^DGPM(+X,0) S Y=+^DGPM(+X,0) X ^DD("DD") W !!?10,"Event date must not be after discharge date"," ",Y,! G DATA
"RTN","DGJTEE3",6,0)
 I DGJTYP=1 S VAIP("D")="L"
"RTN","DGJTEE3",7,0)
 I DGJTYP'=1 S VAIP("D")=$S($P(DGJTDT,".",2)]"":DGJTDT,1:DGJTDT_".2400")
"RTN","DGJTEE3",8,0)
 I DGJTSR1=1 D IN5^VADPT
"RTN","DGJTEE3",9,0)
 K DIR("A"),DIR("B") I $D(VAIP(5)) S:VAIP(5)]"" DIR("B")=$P(VAIP(5),"^",2)
"RTN","DGJTEE3",10,0)
 S DIR(0)="393,.05" D ^DIR G Q:X["^"!$D(DTOUT) S DGJTWD=+Y,DGJTWD1=$S($D(^SC(DGJTWD,42)):+^(42),1:0) K DIR("B")
"RTN","DGJTEE3",11,0)
 I $D(VAIP(8)) I VAIP(8)]"" S DIR("B")=$P(VAIP(8),"^",2)
"RTN","DGJTEE3",12,0)
 S DIR(0)="393,.07" D ^DIR G Q:X["^"!$D(DTOUT) S DGJTSP=+Y K DIR("B")
"RTN","DGJTEE3",13,0)
 I '$D(^DIC(42,+DGJTWD1,0)) S DGJTSV=$P(^SC(+DGJTWD,0),"^",8)
"RTN","DGJTEE3",14,0)
 I $D(^DIC(42,+DGJTWD1,0)) S DGJTSV=$P(^(0),"^",3)
"RTN","DGJTEE3",15,0)
 S:DGJTSV="" DGJTSV=0 S DGJTSV=$S(DGJTSV=0:12,$D(^DG(393.1,"AC",DGJTSV)):$O(^(DGJTSV,0)),1:"") I DGJTSV]"" S (DGJTSV,DIR("B"))=$P(^DG(393.1,+DGJTSV,0),"^",1)
"RTN","DGJTEE3",16,0)
 S DIR(0)="393,.08" D ^DIR G Q:X["^"!$D(DTOUT) S DGJTSV=+Y K DIR("B")
"RTN","DGJTEE3",17,0)
 I DGJTSR1=1 S X=$P(DGJTDEL,"^",2) D DOC S:X]"" DIR("B")=X
"RTN","DGJTEE3",18,0)
 S DIR(0)="393,.09" D ^DIR G Q:X["^"!$D(DTOUT) S DGJT1PH=+Y K DIR("B")
"RTN","DGJTEE3",19,0)
 S X="" I $P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A") S:DGJTSR1=1 X=$P(DGJTDEL,"^",10)
"RTN","DGJTEE3",20,0)
 S X="" I $P(DGJTDEL,"^",3)=1 S:DGJTSR1=1 X=$P(DGJTDEL,"^",4)
"RTN","DGJTEE3",21,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) D:DGJTSR1=1 DOC S:X]"" DIR("B")=X S DIR(0)="393,.1" D ^DIR G Q:X["^"!$D(DTOUT) I Y'=-1 S DGJT2PH=$S(Y]"":+Y,1:"@")
"RTN","DGJTEE3",22,0)
 S DIR("B")=$S(DGJT1PH]"":$P(^VA(200,DGJT1PH,0),"^",1),1:"")
"RTN","DGJTEE3",23,0)
 S DIR(0)="393,.12" D ^DIR G Q:X["^"!$D(DTOUT) S DGJTPR=+Y K DIR("B")
"RTN","DGJTEE3",24,0)
FILE K DD,DO S DGSENFLG="",DIC="^VAS(393,",DIC(0)="EL",X=DFN D FILE^DICN K DIC,DGSENFLG
"RTN","DGJTEE3",25,0)
 S DGJTEDT="1^"_+Y,DIE="^VAS(393,",DA=+Y
"RTN","DGJTEE3",26,0)
 I "^OP REPORT^DISCHARGE SUMMARY^INTERIM SUMMARY^"'[$P(^VAS(393.3,DGJTYP,0),"^",1) S DR="[DGJ ENTER IRT DEFICIENCY]" D ^DIE Q
"RTN","DGJTEE3",27,0)
 I "^OP REPORT^DISCHARGE SUMMARY^INTERIM SUMMARY^"[$P(^VAS(393.3,DGJTYP,0),"^",1) S DR="[DGJ ENTER IRT RECORD]"
"RTN","DGJTEE3",28,0)
 D ^DIE
"RTN","DGJTEE3",29,0)
 D INIT1^DGJTEE2 Q
"RTN","DGJTEE3",30,0)
Q I X="^"!($D(DTOUT)) S VALMBG=1,VALMBCK="R"
"RTN","DGJTEE3",31,0)
 Q
"RTN","DGJTEE3",32,0)
SCR S DGJTCT=0 F IFN=0:0 S IFN=$O(^VAS(393,"B",DFN,IFN)) Q:'IFN  I $D(^VAS(393,IFN,0)),$P(^VAS(393,IFN,0),"^",4)="" D SCR1
"RTN","DGJTEE3",33,0)
 Q
"RTN","DGJTEE3",34,0)
SCR1 S DGJTF=0 D DIVCK S DGJTADN=^VAS(393,IFN,0) Q:$P(DGJTDV,"^",1)'=$P(DGJTADN,"^",6)  S DGJTYP=$P(DGJTADN,"^",2) N CC,CM,CW,DC,DW,EC,EW,PC,PW,RV,SC,SN,SW,TC,TW D INCSP^DGJTEE2 I '$D(DGJTDLT) D STATCK^DGJTEE1 I $D(DGJFL1) K DGJFL1 Q
"RTN","DGJTEE3",35,0)
 D SETG1^DGJTEE1
"RTN","DGJTEE3",36,0)
 Q
"RTN","DGJTEE3",37,0)
DIVCK S X=$P(^VAS(393,IFN,0),"^",6) I X'=+DGJTDV S DGJTF=1
"RTN","DGJTEE3",38,0)
 S DGJTDEL=$S($D(^DG(40.8,+X,"DT")):^("DT"),1:DGJTDEL)
"RTN","DGJTEE3",39,0)
 S X=$S($P(DGJTDEL,"^",3)=0:$O(^DG(393.2,"B","SIGNED",0)),1:$O(^DG(393.2,"B","REVIEWED",0))) Q
"RTN","DGJTEE3",40,0)
DOC S DGJT=$S($D(^DGPM(+VAIP(1),0)):$P(^(0),"^",14),1:""),DGJT=$O(^DGPM("ATS",DFN,+DGJT,0)),DGJT=$O(^(+DGJT,0)),DGJT=$O(^(+DGJT,0)),DGJT=$S($D(^DGPM(+DGJT,0)):^(0),1:"") ;last treating specialty mvt
"RTN","DGJTEE3",41,0)
 D DOC1 S X=$S($D(^VA(200,+X,0)):$P(^(0),U),1:"") Q
"RTN","DGJTEE3",42,0)
DOC1 ;provider responsible
"RTN","DGJTEE3",43,0)
 S X=$S(X="A":$P(DGJT,"^",19),X="N":"",1:$P(DGJT,"^",8))
"RTN","DGJTEE3",44,0)
 Q
"RTN","DGJTEE3",45,0)
DT1 S DGJTADTP=+DGJTOA(DGJTCT),DGJTADTP=$S($D(^DGPM(DGJTADTP,0)):$P(^(0),"^",18),1:"") I DGJTADTP]"" S DGJTADTP=$S($D(^DG(405.2,+DGJTADTP,0)):$P(^(0),"^",1),1:"") Q
"RTN","DGJTEE3",46,0)
 Q
"RTN","DGJTEE3",47,0)
TMP ;
"RTN","DGJTEE3",48,0)
 K ^TMP("DGJRPT",$J)
"RTN","DGJTEE3",49,0)
 N VALMCNT,DGJCNT
"RTN","DGJTEE3",50,0)
 S X="",(VALMCNT,DGJCNT)=0,VALMBG=1
"RTN","DGJTEE3",51,0)
 S X=$$SETSTR^VALM1("No Deficiency was created for this Patient",X,1,50)
"RTN","DGJTEE3",52,0)
 D TMP^DGJTVW2
"RTN","DGJTEE3",53,0)
 Q
"RTN","DGJTEE3",54,0)
JUMP D FULL^VALM1 I $D(XQORNOD(0)),$P(XQORNOD(0),"^",4)]"" S X=$P(XQORNOD(0),"^",4) S X=$P(X,"=",2) I X]"" S DIC="^VAS(393.41,",DIC(0)="QEZ" D ^DIC G:Y<0 JMP S Y=+Y D JUMP1 Q
"RTN","DGJTEE3",55,0)
JMP S DIC="^VAS(393.41,",DIC(0)="AEMN",DIC("A")="Select Category you wish to move to: " D ^DIC K DIC
"RTN","DGJTEE3",56,0)
 I X["^" S VALMBG=1,VALMBCK="R" Q
"RTN","DGJTEE3",57,0)
JUMP1 I Y<0 G JUMP
"RTN","DGJTEE3",58,0)
 N DGJXCAT
"RTN","DGJTEE3",59,0)
 S DGJXCAT=+Y
"RTN","DGJTEE3",60,0)
 I '$D(DGJCAT(DGJXCAT)) W !!,"This Category does not contain any deficiencies." G JMP
"RTN","DGJTEE3",61,0)
 S VALMBG=DGJCAT(DGJXCAT) S VALMBCK="R" Q
"RTN","DGJTEE3",62,0)
 Q
"RTN","DGJTEVT")
0^27^B20480012
"RTN","DGJTEVT",1,0)
DGJTEVT ;ALB/MIR - EVENT DRIVER CALL FOR IRT ; 04 JAN 91
"RTN","DGJTEVT",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTEVT",3,0)
 ;
"RTN","DGJTEVT",4,0)
EN2 N CA,DGPMA,DGPMP,DGPMT
"RTN","DGJTEVT",5,0)
 S DGONE=1 ;first time
"RTN","DGJTEVT",6,0)
 F DGJII=1,2,3,6 F DGJJ=0:0 S DGJJ=$O(^UTILITY("DGPM",$J,DGJII,DGJJ)) Q:'DGJJ  S DGPMA=^(DGJJ,"A"),DGPMP=^("P") D START
"RTN","DGJTEVT",7,0)
 D DISQ K DGJTDA,DGJII,DGJJ,DGONE Q
"RTN","DGJTEVT",8,0)
 Q
"RTN","DGJTEVT",9,0)
 ;
"RTN","DGJTEVT",10,0)
START ;start processing mvmts. in event driver
"RTN","DGJTEVT",11,0)
 S CA=+$S($P(DGPMP,"^",14):$P(DGPMP,"^",14),1:$P(DGPMA,"^",14))
"RTN","DGJTEVT",12,0)
 S DGPMT=+$S($P(DGPMP,"^",2):$P(DGPMP,"^",2),1:$P(DGPMA,"^",2))
"RTN","DGJTEVT",13,0)
 I DGPMT=1&('DGPMA) D  Q
"RTN","DGJTEVT",14,0)
 .I DGONE,'$G(DGQUIET) W !!,"Updating incomplete records..."
"RTN","DGJTEVT",15,0)
 .S:DGONE DGONE=0
"RTN","DGJTEVT",16,0)
 .D DIK
"RTN","DGJTEVT",17,0)
 D WARD^DGJTUTL
"RTN","DGJTEVT",18,0)
 I +X S DGJTWARD=+X,X=$S($D(^DIC(42,+X,0)):$P(^(0),"^",11),1:""),DGJTDIV=X
"RTN","DGJTEVT",19,0)
 I $S('$D(^DG(40.8,+X,"DT")):1,$D(^DG(40.8,+X,"DT"))&(+^("DT")=0):1,1:0) Q  ;IRT off
"RTN","DGJTEVT",20,0)
EN1 I DGONE,'$G(DGQUIET) W !!,"Updating incomplete records..." S DGONE=0
"RTN","DGJTEVT",21,0)
 I $D(^UTILITY("DGPM",$J,6)) S DGJTSIFN=$O(^(6,0))
"RTN","DGJTEVT",22,0)
 D DIS Q
"RTN","DGJTEVT",23,0)
 ;
"RTN","DGJTEVT",24,0)
 ;if delete adm., del all corresponding summaries
"RTN","DGJTEVT",25,0)
 ;
"RTN","DGJTEVT",26,0)
DIK S DIK="^VAS(393," F DA=0:0 S DA=$O(^VAS(393,"ADM",DGPMDA,DA)) Q:'DA  D ^DIK
"RTN","DGJTEVT",27,0)
 K DIK,DA,DGJDIK Q
"RTN","DGJTEVT",28,0)
DIS ;create IRT summ., update if edit in ADT, del record if adm. deleted
"RTN","DGJTEVT",29,0)
 N DR
"RTN","DGJTEVT",30,0)
 S DGJTADM=$S(DGPMP:$P(DGPMP,"^",14),DGPMA:$P(DGPMA,"^",14),1:"") I 'DGJTADM G DISQ ;get adm ptr
"RTN","DGJTEVT",31,0)
 F I=0:0 S I=$O(^VAS(393,"ADM",DGJTADM,I)) Q:'I  I $D(^VAS(393,I,0)),$P(^(0),"^",2)=1 Q
"RTN","DGJTEVT",32,0)
 I $D(I),I]"" S DGJTDA=I
"RTN","DGJTEVT",33,0)
 I DGPMT=2,I,(DGPMA'=DGPMP),'$D(^UTILITY("DGPM",$J,6)) D CHNG Q
"RTN","DGJTEVT",34,0)
 I DGPMT=1!(DGPMT=3) I DGPMA,'I D NEW Q:DGPMT=3  D CK S DIE="^VAS(393,",DA=DGJTDA D ^DIE Q  ;no IRT rec
"RTN","DGJTEVT",35,0)
 I DGPMT=1,DGPMP,'DGPMA,I S DIK="^VAS(393,",DA=I D ^DIK Q  ;del IRT record
"RTN","DGJTEVT",36,0)
 I DGPMT=1,I,(DGPMA'=DGPMP) S DGJTCA=I D CK,CHNG Q
"RTN","DGJTEVT",37,0)
 I DGPMT=3,I,(DGPMA'=DGPMP) S DGJTPMA=$S(+DGPMA:+DGPMA,1:$P(^DGPM(DGJTADM,0),"^",1)) S DGJTCA=1 S DR=".03////"_DGJTPMA D CHNG Q
"RTN","DGJTEVT",38,0)
 I DGPMT=3,'DGPMA,DGPMP S X=$P(DGPMP,"^",14) I $D(^DGPM(X,0)) S DGPMA=^DGPM(X,0) D NEW Q
"RTN","DGJTEVT",39,0)
 I DGPMT=3 Q
"RTN","DGJTEVT",40,0)
 I I,DGPMT=1 S DGJTCA=I
"RTN","DGJTEVT",41,0)
 I I,^UTILITY("DGPM",$J,6,DGJTSIFN,"P")'=^UTILITY("DGPM",$J,6,DGJTSIFN,"A") D CHNG Q  ;TS change
"RTN","DGJTEVT",42,0)
 I I,^UTILITY("DGPM",$J,6,DGJTSIFN,"P")=^UTILITY("DGPM",$J,6,DGJTSIFN,"A"),$P(DGPMA,"^",6)'=$P(DGPMP,"^",6) D CHNG Q  ;WARD CHNG
"RTN","DGJTEVT",43,0)
DISQ K DA,DIC,DIE,DIK,DR,I,DGJTADM,DGJTWD,DGJTWARD,DGJTTM,DLAYGO,DGJTST,D0,D1,DGJT,DGJT9,DGJT10,DGJTDIV,DGJTP,DGJTSIFN,DGJTSV,DIV,DGJI,DGJX,DGJTCA,DGJTPMA,DGJY,X,Y Q
"RTN","DGJTEVT",44,0)
 ;
"RTN","DGJTEVT",45,0)
 ;
"RTN","DGJTEVT",46,0)
NEW ;new discharge
"RTN","DGJTEVT",47,0)
 S DGJT=$S(DGPMA]"":+$P(DGPMA,"^",14),1:+$P(DGPMP,"^",14)),DGJT=$O(^DGPM("ATS",DFN,DGJT,0)),DGJT=$O(^(+DGJT,0)),DGJT=$O(^(+DGJT,0)),DGJT=$S($D(^DGPM(+DGJT,0)):^(0),1:"") ;last TS mvt
"RTN","DGJTEVT",48,0)
 S DGJTP=$S($D(^DG(40.8,+DGJTDIV,"DT")):^("DT"),1:"")
"RTN","DGJTEVT",49,0)
 S DGJTWD=$S($D(^DIC(42,DGJTWARD,0)):^DIC(42,DGJTWARD,44),1:"")
"RTN","DGJTEVT",50,0)
 S DGJTSV=$S(DGJTWARD]"":$P(^DIC(42,+DGJTWARD,0),"^",3),1:"")
"RTN","DGJTEVT",51,0)
 S:DGJTSV']"" DGJTSV=0 S DGJTSV=$S($D(^DG(393.1,"AC",DGJTSV)):$O(^(DGJTSV,0)),1:"") I DGJTSV']"" S DGJTSV=$O(^DG(393.1,"AC",0,0))
"RTN","DGJTEVT",52,0)
 S DGJX=8,DGJY=2 D DOC S DGJT9=X,X=""
"RTN","DGJTEVT",53,0)
 S DGJT10="" I $P(DGJTP,"^",3)!('$P(DGJTP,"^",3)&($P(DGJTP,"^",10)="A")) S DGJX=19,DGJY=4 D DOC S DGJT10=X
"RTN","DGJTEVT",54,0)
 I "^6^2^"[DGPMT Q
"RTN","DGJTEVT",55,0)
 I $D(DGJTCA) Q
"RTN","DGJTEVT",56,0)
 S X=DFN,DIC="^VAS(393,",DIC(0)="L",DLAYGO=393 K DD,DO D FILE^DICN
"RTN","DGJTEVT",57,0)
 S DGJTST=$O(^DG(393.2,"B","INCOMPLETE",0))
"RTN","DGJTEVT",58,0)
 I Y>0 S DIE=DIC,(DA,DGJTDA)=+Y
"RTN","DGJTEVT",59,0)
 I Y>0 S DR=".02////1;.03////"_+DGPMA_";.04////"_+$P(DGPMA,"^",14)_";.05////"_DGJTWD_";.06////"_DGJTDIV_";.07////"_$S(+$P(DGJT,"^",9):+$P(DGJT,"^",9),1:"")_";.08////"_DGJTSV_";.09////"_DGJT9_";.1////"_DGJT10_";.11////"_DGJTST_";.12////"_DGJT9
"RTN","DGJTEVT",60,0)
 I Y>0 D ^DIE
"RTN","DGJTEVT",61,0)
 D DISQ Q
"RTN","DGJTEVT",62,0)
FILE I DGPMT=1!(DGPMT=2)!(DGPMT=3) S DR=$S($D(DR):DR_";",1:"")_".05////"_DGJTWD_";"_".06////"_DGJTDIV
"RTN","DGJTEVT",63,0)
 S DR=$S($D(DR):DR_";",1:"")_".07////"_$S(+$P(DGJT,"^",9):+$P(DGJT,"^",9),1:"")_";.08////"_DGJTSV_";.09////"_DGJT9_";.1////"_$S(DGJT10]"":DGJT10,1:"@") D ^DIE
"RTN","DGJTEVT",64,0)
 D DISQ
"RTN","DGJTEVT",65,0)
 Q
"RTN","DGJTEVT",66,0)
 ;
"RTN","DGJTEVT",67,0)
DOC ;provider resp.
"RTN","DGJTEVT",68,0)
 S X=$P(DGJTP,"^",DGJY)
"RTN","DGJTEVT",69,0)
 S X=$S(X="A":$P(DGJT,"^",19),X="N":"",1:$P(DGJT,"^",8))
"RTN","DGJTEVT",70,0)
 Q
"RTN","DGJTEVT",71,0)
CHNG S DGJI=I D NEW S DIE="^VAS(393,",DA=DGJI D FILE Q
"RTN","DGJTEVT",72,0)
 ;
"RTN","DGJTEVT",73,0)
 ;
"RTN","DGJTEVT",74,0)
CK Q:'$D(^DGPM(DGJJ,0))  I $P(^DGPM(DGJJ,0),"^",17)']"" S DGJTTM=+DGPMA
"RTN","DGJTEVT",75,0)
 I $P(^DGPM(DGJJ,0),"^",17)]"" S X=$P(^(0),"^",17) I $D(^DGPM(X,0)) S DGJTTM=+^(0)
"RTN","DGJTEVT",76,0)
 S DR=".03////"_DGJTTM Q
"RTN","DGJTHLP")
0^28^B21331459
"RTN","DGJTHLP",1,0)
DGJTHLP ;MJK/MAF/ESD/ALB - Help for IRT module using list processor ; 20-OCT-92
"RTN","DGJTHLP",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTHLP",3,0)
 ;
"RTN","DGJTHLP",4,0)
 ;
"RTN","DGJTHLP",5,0)
HLP ; -- IRT ListMan menu help
"RTN","DGJTHLP",6,0)
 I X="?" D HLPS,PAUSE^VALM1 S VALMBCK="" G HLPQ
"RTN","DGJTHLP",7,0)
 D CLEAR^VALM1
"RTN","DGJTHLP",8,0)
 S DGJTHTXT=$S(DGJTHFLG="EN":"ENHLPTXT",DGJTHFLG="DL":"DLHLPTXT",DGJTHFLG="CE":"CEHLPTXT",DGJTHFLG="VW":"VWHLPTXT",DGJTHFLG="AD":"ADHLPTXT",1:"ENHLPTXT")
"RTN","DGJTHLP",9,0)
HLPRTN S DGJTHRTN=$S(DGJTHTXT="ENHLPTXT"!(DGJTHTXT="DLHLPTXT"):"DGJTHLP",1:"DGJTHLP1")
"RTN","DGJTHLP",10,0)
 F I=1:1 S DGJXX=$P($T(@DGJTHTXT+I^@DGJTHRTN),";;",2,99) Q:DGJXX="$END"  D
"RTN","DGJTHLP",11,0)
 .D PAUSE^VALM1:DGJXX="$PAUSE" Q:'Y
"RTN","DGJTHLP",12,0)
 .W !,$S(DGJXX["$PAUSE":"",1:DGJXX)
"RTN","DGJTHLP",13,0)
 W !,"Possible actions for this option are the following:"
"RTN","DGJTHLP",14,0)
 D HLPS,PAUSE^VALM1 S VALMBCK="R"
"RTN","DGJTHLP",15,0)
 ;
"RTN","DGJTHLP",16,0)
HLPQ K I,DGJXX,DGJTHTXT,DGJTHRTN,Y
"RTN","DGJTHLP",17,0)
 Q
"RTN","DGJTHLP",18,0)
HLPS ; -- short help
"RTN","DGJTHLP",19,0)
 S X="?" D DISP^XQORM1 W !
"RTN","DGJTHLP",20,0)
 Q
"RTN","DGJTHLP",21,0)
 ;
"RTN","DGJTHLP",22,0)
HLP1 ; -- Edit IRT Deficiency (from Completed IRT Edit) menu help text
"RTN","DGJTHLP",23,0)
 I X="?" D HLPS,PAUSE^VALM1 S VALMBCK="" G HLPQ
"RTN","DGJTHLP",24,0)
 D CLEAR^VALM1
"RTN","DGJTHLP",25,0)
 S DGJTHTXT="CIHLPTXT" G HLPRTN
"RTN","DGJTHLP",26,0)
 ;
"RTN","DGJTHLP",27,0)
ENHLPTXT ; -- Enter/Edit menu help text
"RTN","DGJTHLP",28,0)
 ;;Enter actions by typing the names or abbreviations.
"RTN","DGJTHLP",29,0)
 ;;
"RTN","DGJTHLP",30,0)
 ;;LIST ENTRY PRE-SELECTION:
"RTN","DGJTHLP",31,0)
 ;;  Certain actions allow the user to pre-select one or more entries
"RTN","DGJTHLP",32,0)
 ;;  from the Deficiency list.  For the Enter/Edit Menu option, these
"RTN","DGJTHLP",33,0)
 ;;  actions are:
"RTN","DGJTHLP",34,0)
 ;;                 DE   --  Edit Deficiencies
"RTN","DGJTHLP",35,0)
 ;;                 EP   --  Expand Deficiency
"RTN","DGJTHLP",36,0)
 ;;                 QC   --  Quick Complete of Def.
"RTN","DGJTHLP",37,0)
 ;;                 TS   --  Treating Spec. Update
"RTN","DGJTHLP",38,0)
 ;;  For example:
"RTN","DGJTHLP",39,0)
 ;;
"RTN","DGJTHLP",40,0)
 ;;      DE=1      ...will process entry #1 using the Edit action.
"RTN","DGJTHLP",41,0)
 ;;      DE=3 4 5  ...will process entries 3,4,5 using the Edit action.
"RTN","DGJTHLP",42,0)
 ;;      DE=1-3    ...will process entries 1,2,3 using the Edit action.
"RTN","DGJTHLP",43,0)
 ;;$PAUSE
"RTN","DGJTHLP",44,0)
 ;;  The Jump to a Category (JC) action can be pre-selected by
"RTN","DGJTHLP",45,0)
 ;;  Type of Category.
"RTN","DGJTHLP",46,0)
 ;;
"RTN","DGJTHLP",47,0)
 ;;  For example:
"RTN","DGJTHLP",48,0)
 ;;
"RTN","DGJTHLP",49,0)
 ;;      JC=PHYS   ...will jump to the PHYSICAL EXAMINATION category.
"RTN","DGJTHLP",50,0)
 ;;
"RTN","DGJTHLP",51,0)
 ;;  If no entry is pre-selected, the user will be prompted for a
"RTN","DGJTHLP",52,0)
 ;;  selection.
"RTN","DGJTHLP",53,0)
 ;;
"RTN","DGJTHLP",54,0)
 ;;ACTION MENU DISPLAY:
"RTN","DGJTHLP",55,0)
 ;; The ADPL 'Auto Display(On/Off)' action can be used to turn on/off
"RTN","DGJTHLP",56,0)
 ;; the action menu that is displayed at the bottom of the screen.
"RTN","DGJTHLP",57,0)
 ;;------------------------------------------------------------------------------
"RTN","DGJTHLP",58,0)
 ;;$END
"RTN","DGJTHLP",59,0)
DLHLPTXT ; -- Delete menu help text
"RTN","DGJTHLP",60,0)
 ;;Enter actions by typing the names or abbreviations.
"RTN","DGJTHLP",61,0)
 ;;
"RTN","DGJTHLP",62,0)
 ;;LIST ENTRY PRE-SELECTION:
"RTN","DGJTHLP",63,0)
 ;;  Certain actions allow the user to pre-select one or more entries
"RTN","DGJTHLP",64,0)
 ;;  from the Deficiency list.  For the IRT Delete Menu option, these
"RTN","DGJTHLP",65,0)
 ;;  actions are:
"RTN","DGJTHLP",66,0)
 ;;
"RTN","DGJTHLP",67,0)
 ;;                 DL   --  Delete an IRT
"RTN","DGJTHLP",68,0)
 ;;                 EP   --  Expand Deficiency
"RTN","DGJTHLP",69,0)
 ;;  For example:
"RTN","DGJTHLP",70,0)
 ;;
"RTN","DGJTHLP",71,0)
 ;;      DL=3      ...will process entry #3 using the Delete action.
"RTN","DGJTHLP",72,0)
 ;;      DL=2 4 5  ...will process entries 2,4,5 using the Delete action.
"RTN","DGJTHLP",73,0)
 ;;      DL=1-3    ...will process entries 1,2,3 using the Delete action.
"RTN","DGJTHLP",74,0)
 ;;
"RTN","DGJTHLP",75,0)
 ;;  If no entry is pre-selected, the user will be prompted for a
"RTN","DGJTHLP",76,0)
 ;;  selection.
"RTN","DGJTHLP",77,0)
 ;;$PAUSE
"RTN","DGJTHLP",78,0)
 ;;ACTION MENU DISPLAY:
"RTN","DGJTHLP",79,0)
 ;; The ADPL 'Auto Display(On/Off)' action can be used to turn on/off
"RTN","DGJTHLP",80,0)
 ;; the action menu that is displayed at the bottom of the screen.
"RTN","DGJTHLP",81,0)
 ;;------------------------------------------------------------------------------
"RTN","DGJTHLP",82,0)
 ;;$END
"RTN","DGJTHLP",83,0)
 ;
"RTN","DGJTHLP",84,0)
STATUS ;This code is the screen code for the Status field (.11) of the
"RTN","DGJTHLP",85,0)
 ;Incomplete Records Tracking file (393).  This screens out the status
"RTN","DGJTHLP",86,0)
 ;for the different types of deficiencies and the divisions if they
"RTN","DGJTHLP",87,0)
 ;review IRTs.
"RTN","DGJTHLP",88,0)
 N DGJX,DGJY,DGJTPD S DGJX=$G(^VAS(393,DA,0)) Q:DGJX']""  S DGJY=$P(DGJX,"^",6),DGJTPD=$P($G(^VAS(393.3,$P(DGJX,"^",2),0)),"^",1)
"RTN","DGJTHLP",89,0)
 I $D(^DG(40.8,+DGJY,"DT")),$P(^DG(40.8,+DGJY,"DT"),"^",3)=1 I "^DISCHARGE SUMMARY^INTERIM SUMMARY^OP REPORT^"[DGJTPD S DIC("S")="I ""^COMPLETED^SIGNED NO REVIEW^""'[$P(^DG(393.2,+Y,0),U,1)" Q
"RTN","DGJTHLP",90,0)
 I "^DISCHARGE SUMMARY^INTERIM SUMMARY^OP REPORT^"[DGJTPD S DIC("S")="I ""^COMPLETED^SIGNED^REVIEWED^""'[$P(^DG(393.2,+Y,0),U,1)" Q
"RTN","DGJTHLP",91,0)
 S DIC("S")="I ""^COMPLETED^INCOMPLETE^""[$P(^DG(393.2,+Y,0),U,1)" Q
"RTN","DGJTHLP",92,0)
 Q
"RTN","DGJTHLP1")
0^29^B23949893
"RTN","DGJTHLP1",1,0)
DGJTHLP1 ;ESD/ALB - Help txt for IRT menu options; 30-NOV-1993
"RTN","DGJTHLP1",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTHLP1",3,0)
 ; -- IRT ListMan menu help
"RTN","DGJTHLP1",4,0)
 ;
"RTN","DGJTHLP1",5,0)
CEHLPTXT ; -- Completed IRT Edit menu help text
"RTN","DGJTHLP1",6,0)
 ;;Enter actions by typing the names or abbreviations.
"RTN","DGJTHLP1",7,0)
 ;;
"RTN","DGJTHLP1",8,0)
 ;;LIST ENTRY PRE-SELECTION:
"RTN","DGJTHLP1",9,0)
 ;;  Certain actions allow the user to pre-select one or more entries
"RTN","DGJTHLP1",10,0)
 ;;  from the Deficiency list.  For the Completed IRT Edit Menu option,
"RTN","DGJTHLP1",11,0)
 ;;  these actions are:
"RTN","DGJTHLP1",12,0)
 ;;
"RTN","DGJTHLP1",13,0)
 ;;                 CE   --  Completed IRT Edit
"RTN","DGJTHLP1",14,0)
 ;;                 EP   --  Expand Deficiency
"RTN","DGJTHLP1",15,0)
 ;;  For example:
"RTN","DGJTHLP1",16,0)
 ;;
"RTN","DGJTHLP1",17,0)
 ;;      CE=5      ...will process entry #5 using the Completed IRT Edit
"RTN","DGJTHLP1",18,0)
 ;;                   action.
"RTN","DGJTHLP1",19,0)
 ;;      CE=1 3 4  ...will process entries 1,3,4 using the Completed IRT
"RTN","DGJTHLP1",20,0)
 ;;                   Edit action.
"RTN","DGJTHLP1",21,0)
 ;;      CE=1-3    ...will process entries 1,2,3 using the Completed IRT
"RTN","DGJTHLP1",22,0)
 ;;                   Edit action.
"RTN","DGJTHLP1",23,0)
 ;;
"RTN","DGJTHLP1",24,0)
 ;;  If no entry is pre-selected, the user will be prompted for a
"RTN","DGJTHLP1",25,0)
 ;;  selection.
"RTN","DGJTHLP1",26,0)
 ;;$PAUSE
"RTN","DGJTHLP1",27,0)
 ;;ACTION MENU DISPLAY:
"RTN","DGJTHLP1",28,0)
 ;; The ADPL 'Auto Display(On/Off)' action can be used to turn on/off
"RTN","DGJTHLP1",29,0)
 ;; the action menu that is displayed at the bottom of the screen.
"RTN","DGJTHLP1",30,0)
 ;;------------------------------------------------------------------------------
"RTN","DGJTHLP1",31,0)
 ;;$END
"RTN","DGJTHLP1",32,0)
CIHLPTXT ; -- Edit IRT Deficiency (Complete IRT Edit) menu help text
"RTN","DGJTHLP1",33,0)
 ;;Enter actions by typing the names or abbreviations.
"RTN","DGJTHLP1",34,0)
 ;;In addition, the user has the ability to enter only the first
"RTN","DGJTHLP1",35,0)
 ;;character of an action to access it.  For example, entering a 1 at
"RTN","DGJTHLP1",36,0)
 ;;the "Select Action:" prompt will access the 1G (IRT Group 1 Edit)
"RTN","DGJTHLP1",37,0)
 ;;action.  Entering a 2 will access the 2G (IRT Group 2 Edit) action.
"RTN","DGJTHLP1",38,0)
 ;;
"RTN","DGJTHLP1",39,0)
 ;;An asterisk next to a field indicates that the field is for display
"RTN","DGJTHLP1",40,0)
 ;;only and is uneditable.
"RTN","DGJTHLP1",41,0)
 ;;
"RTN","DGJTHLP1",42,0)
 ;;$END
"RTN","DGJTHLP1",43,0)
VWHLPTXT ; -- View an IRT Record menu help text
"RTN","DGJTHLP1",44,0)
 ;;Enter actions by typing the names or abbreviations.
"RTN","DGJTHLP1",45,0)
 ;;
"RTN","DGJTHLP1",46,0)
 ;;LIST ENTRY PRE-SELECTION:
"RTN","DGJTHLP1",47,0)
 ;;  Certain actions allow the user to pre-select one or more entries
"RTN","DGJTHLP1",48,0)
 ;;  from the Deficiency list.  For the View an IRT Record Menu option,
"RTN","DGJTHLP1",49,0)
 ;;  this action is:
"RTN","DGJTHLP1",50,0)
 ;;
"RTN","DGJTHLP1",51,0)
 ;;                 EP   --  Expand Deficiency
"RTN","DGJTHLP1",52,0)
 ;;  For example:
"RTN","DGJTHLP1",53,0)
 ;;
"RTN","DGJTHLP1",54,0)
 ;;      EP=4      ...will process entry #4 using the Expand Deficiency
"RTN","DGJTHLP1",55,0)
 ;;                   action.
"RTN","DGJTHLP1",56,0)
 ;;      EP=2 3 5  ...will process entries 2,3,5 using the Expand
"RTN","DGJTHLP1",57,0)
 ;;                   Deficiency action.
"RTN","DGJTHLP1",58,0)
 ;;      EP=1-3    ...will process entries 1,2,3 using the Expand
"RTN","DGJTHLP1",59,0)
 ;;                   Deficiency action.
"RTN","DGJTHLP1",60,0)
 ;;$PAUSE
"RTN","DGJTHLP1",61,0)
 ;;  The Jump to a Category (JC) action can be pre-selected by
"RTN","DGJTHLP1",62,0)
 ;;  Type of Category.
"RTN","DGJTHLP1",63,0)
 ;;
"RTN","DGJTHLP1",64,0)
 ;;  For example:
"RTN","DGJTHLP1",65,0)
 ;;
"RTN","DGJTHLP1",66,0)
 ;;      JC=PHYS   ...will jump to the PHYSICAL EXAMINATION category.
"RTN","DGJTHLP1",67,0)
 ;;
"RTN","DGJTHLP1",68,0)
 ;;  If no entry is pre-selected, the user will be prompted for a
"RTN","DGJTHLP1",69,0)
 ;;  selection.
"RTN","DGJTHLP1",70,0)
 ;;
"RTN","DGJTHLP1",71,0)
 ;;ACTION MENU DISPLAY:
"RTN","DGJTHLP1",72,0)
 ;; The ADPL 'Auto Display(On/Off)' action can be used to turn on/off
"RTN","DGJTHLP1",73,0)
 ;; the action menu that is displayed at the bottom of the screen.
"RTN","DGJTHLP1",74,0)
 ;;------------------------------------------------------------------------------
"RTN","DGJTHLP1",75,0)
 ;;$END
"RTN","DGJTHLP1",76,0)
ADHLPTXT ; -- Add a New/Edit Deficiency List menu help text
"RTN","DGJTHLP1",77,0)
 ;;LIST ENTRY PRE-SELECTION:
"RTN","DGJTHLP1",78,0)
 ;;  Certain actions allow the user to pre-select one or more entries
"RTN","DGJTHLP1",79,0)
 ;;  from the Deficiency list.  For the Add a New/Edit Deficiency Menu
"RTN","DGJTHLP1",80,0)
 ;;  option, these actions are:
"RTN","DGJTHLP1",81,0)
 ;;                 DE   --  Edit Def. Parms.
"RTN","DGJTHLP1",82,0)
 ;;  For example:
"RTN","DGJTHLP1",83,0)
 ;;
"RTN","DGJTHLP1",84,0)
 ;;      DE=4      ...will process entry #4 using the Edit Def. Parms
"RTN","DGJTHLP1",85,0)
 ;;                   action.
"RTN","DGJTHLP1",86,0)
 ;;      DE=1 2 5  ...will process entries 1,2,5 using the Edit Def.
"RTN","DGJTHLP1",87,0)
 ;;                   Parms action.
"RTN","DGJTHLP1",88,0)
 ;;      DE=2-3    ...will process entries 2,3 using the Edit Def. Parms
"RTN","DGJTHLP1",89,0)
 ;;                   action.
"RTN","DGJTHLP1",90,0)
 ;;$PAUSE
"RTN","DGJTHLP1",91,0)
 ;;  The Jump to a Category (JC) action can be pre-selected by
"RTN","DGJTHLP1",92,0)
 ;;  Type of Category.
"RTN","DGJTHLP1",93,0)
 ;;
"RTN","DGJTHLP1",94,0)
 ;;  For example:
"RTN","DGJTHLP1",95,0)
 ;;
"RTN","DGJTHLP1",96,0)
 ;;      JC=PHYS   ...will jump to the PHYSICAL EXAMINATION category.
"RTN","DGJTHLP1",97,0)
 ;;
"RTN","DGJTHLP1",98,0)
 ;;  If no entry is pre-selected, the user will be prompted for a
"RTN","DGJTHLP1",99,0)
 ;;  selection.
"RTN","DGJTHLP1",100,0)
 ;;
"RTN","DGJTHLP1",101,0)
 ;;ACTION MENU DISPLAY:
"RTN","DGJTHLP1",102,0)
 ;; The ADPL 'Auto Display(On/Off)' action can be used to turn on/off
"RTN","DGJTHLP1",103,0)
 ;; the action menu that is displayed at the bottom of the screen.
"RTN","DGJTHLP1",104,0)
 ;;------------------------------------------------------------------------------
"RTN","DGJTHLP1",105,0)
 ;;$END
"RTN","DGJTHLP1",106,0)
 Q
"RTN","DGJTUDIS")
0^30^B5136598
"RTN","DGJTUDIS",1,0)
DGJTUDIS ;ALB/MAF - CHECK THE PARAMETERS F0R INCOMPLETE REPORTS ; FEB 12 1991
"RTN","DGJTUDIS",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTUDIS",3,0)
 S DGJTFLAG=0,DGJTNODE=^VAS(393,IFN,0),DGJTDEL=$S($D(^DG(40.8,+$P(DGJTNODE,"^",6),"DT")):^("DT"),1:"") S DGJTPAR=$P(DGJTDEL,"^",6)_"^"_$P(DGJTDEL,"^",7)_"^"_$P(DGJTDEL,"^",8)
"RTN","DGJTUDIS",4,0)
 I $D(^VAS(393,IFN,"DT")) S DGJTNODT=^VAS(393,IFN,"DT")
"RTN","DGJTUDIS",5,0)
 D NOW^%DTC S X=%,DGJTNOW=X\1
"RTN","DGJTUDIS",6,0)
 I DGJTSTAT[("^"_$P(DGJTNODE,"^",11)_"^") D PROC
"RTN","DGJTUDIS",7,0)
Q Q
"RTN","DGJTUDIS",8,0)
PROC I $P(DGJTNODE,"^",11)=$O(^DG(393.2,"B","INCOMPLETE",0)) S X1=$P(DGJTNODE,"^",3),X2=+DGJTPAR D C^%DTC S DGJTFLAG=$S(DGJTNOW=$E(X,1,7):1,DGJTNOW>(X\1):1,1:0) S:DGJTFLAG DGJTDL=DGJTNOW-$E(X,1,7) D:DGJTFLAG DAYS Q
"RTN","DGJTUDIS",9,0)
 I $P(DGJTNODE,"^",11)=$O(^DG(393.2,"B","DICTATED",0)) S DGJTFLAG=1,X=$P(DGJTNODE,"^",3) D DAYS Q
"RTN","DGJTUDIS",10,0)
 I $P(DGJTNODE,"^",11)=$O(^DG(393.2,"B","TRANSCRIBED",0)) S X1=$P(DGJTNODT,"^",3),X2=$P(DGJTPAR,"^",2) D C^%DTC S:DGJTNOW'<(X\1) DGJTFLAG=1 D:DGJTFLAG DAYS Q
"RTN","DGJTUDIS",11,0)
 Q:$P(DGJTDEL,"^",3)=0  I $P(DGJTNODE,"^",11)=$O(^DG(393.2,"B","SIGNED",0)) S X1=$P(DGJTNODT,"^",5),X2=$P(DGJTPAR,"^",3) D C^%DTC S:DGJTNOW'<(X\1) DGJTFLAG=1 D:DGJTFLAG DAYS Q
"RTN","DGJTUDIS",12,0)
 Q
"RTN","DGJTUDIS",13,0)
DAYS S X1=DGJTNOW,X2=X\1 D ^%DTC S DGJTDL=X Q
"RTN","DGJTUTL")
0^31^B27243979
"RTN","DGJTUTL",1,0)
DGJTUTL ;ALB/MIR - ZSECUTABLE HELP FOR EVENT DATE IN INCOMPLETE RECORD FILE ; 04 JAN 91
"RTN","DGJTUTL",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTUTL",3,0)
 N DFN,I,J,OK,PTF S DFN=+^VAS(393,DA,0)
"RTN","DGJTUTL",4,0)
 D WARN
"RTN","DGJTUTL",5,0)
 ;
"RTN","DGJTUTL",6,0)
 W !,"Choose from:"
"RTN","DGJTUTL",7,0)
 F I=0:0 S I=$O(^UTILITY("DGJTADM",$J,I)) Q:'I  S Y=+^DGPM(I,0) X ^DD("DD") W !?5,Y
"RTN","DGJTUTL",8,0)
 ;
"RTN","DGJTUTL",9,0)
PTF ;Check to make sure PTF exists and it is not closed
"RTN","DGJTUTL",10,0)
 S OK=$S('$D(^DGPT(+PTF)):0,$D(^DGP(45.84,+PTF)):0,1:1)
"RTN","DGJTUTL",11,0)
 Q
"RTN","DGJTUTL",12,0)
PHYSRTRG S DGJTEST=$P(^VAS(393,D0,0),"^",11) S X=$S(DGJTEST=$O(^DG(393.2,"B","TRANSCRIBED",0)):0,DGJTEST=$O(^DG(393.2,"B","SIGNED",0)):0,DGJTEST=$O(^DG(393.2,"B","REVIEWED",0)):0,1:1) K DGJTEST Q
"RTN","DGJTUTL",13,0)
LESS48 ;Checking for discharge summary less than 48 hours.
"RTN","DGJTUTL",14,0)
 I $D(^VAS(393,DA,"DT")),$P(^("DT"),"^",1)]"" S X=0 Q
"RTN","DGJTUTL",15,0)
 S (DGJTX4,X1)=$P(^DGPM(+$P(DGJTNO,"^",4),0),"^",1),DGJTX3=+$P(DGJTNO,"^",3) S X2=2 D C^%DTC I DGJTX3<X&($P(DGJTNO,"^",3)>DGJTX4) D ASK K DGJTX3,DGJTX4
"RTN","DGJTUTL",16,0)
 Q
"RTN","DGJTUTL",17,0)
ASK W !!,"Will this Discharge Summary <48 hrs need to be dictated? "
"RTN","DGJTUTL",18,0)
 S %=2 D YN^DICN I '% W !,"ENTER:",!?10,"Y for YES",!?10,"N for NO",!?10,"^ to EXIT" G ASK
"RTN","DGJTUTL",19,0)
 S X=$S(%=2:1,%=-1:"-1",1:0)
"RTN","DGJTUTL",20,0)
 Q
"RTN","DGJTUTL",21,0)
TS D FULL^VALM1 D EXP^DGJTEE1 G TSQ
"RTN","DGJTUTL",22,0)
TSQ D EVDT^DGJTEE S VALMBG=1,VALMBCK="R" Q
"RTN","DGJTUTL",23,0)
WARN K ^UTILITY("DGJTADM",$J)
"RTN","DGJTUTL",24,0)
 S DGJTCNT=0 F I=0:0 S I=$O(^DGPM("ATID1",DFN,I)) Q:'I  S IFN=$O(^(I,0)) I $D(^DGPM(IFN,0)),($P(^(0),"^",2)=1) S DGJTCNT=DGJTCNT+1,^UTILITY("DGJTADM",$J,DGJTCNT,IFN)=""
"RTN","DGJTUTL",25,0)
 I '$D(^UTILITY("DGJTADM",$J)) W !!,*7,"   Patient has no admissions on file in this facility",! Q
"RTN","DGJTUTL",26,0)
 K OK,I,PTF
"RTN","DGJTUTL",27,0)
 Q
"RTN","DGJTUTL",28,0)
 ;
"RTN","DGJTUTL",29,0)
 ;
"RTN","DGJTUTL",30,0)
WR ;write node from delinquent records file
"RTN","DGJTUTL",31,0)
 N X,Y
"RTN","DGJTUTL",32,0)
 S X=$P(DGJT,"^",2)
"RTN","DGJTUTL",33,0)
 W $S(X]""&($D(^VAS(393.3,+X,0))):$P(^VAS(393.3,+X,0),"^",1),1:"UNKNOWN DEFICIENCY")
"RTN","DGJTUTL",34,0)
 S Y=$P(DGJT,"^",3) I Y]"" X ^DD("DD") W ?45,Y
"RTN","DGJTUTL",35,0)
 Q
"RTN","DGJTUTL",36,0)
 ;
"RTN","DGJTUTL",37,0)
 ;
"RTN","DGJTUTL",38,0)
WARD ; -- find last ward for event driver
"RTN","DGJTUTL",39,0)
 ; input CA = ifn of cors adm
"RTN","DGJTUTL",40,0)
 N IDT,MVT,M
"RTN","DGJTUTL",41,0)
 S X=""
"RTN","DGJTUTL",42,0)
 F IDT=0:0 S IDT=$O(^DGPM("APMV",DFN,CA,IDT)) Q:'IDT  F MVT=0:0 S MVT=$O(^DGPM("APMV",DFN,CA,IDT,MVT)) Q:'MVT  I $D(^DGPM(MVT,0)) S M=^(0) I "^13^43^44^45^"'[(U_$P(M,U,18)_U),$D(^DIC(42,+$P(M,U,6),0)) S X=+$P(M,U,6) G WARDQ
"RTN","DGJTUTL",43,0)
WARDQ Q
"RTN","DGJTUTL",44,0)
PHYDEF ;Cross-reference on the Date Transcribed,10.03; Transcribed By,10.04
"RTN","DGJTUTL",45,0)
 ; Date Signed,10.05; Signed By,10.06
"RTN","DGJTUTL",46,0)
 ;to update the Physician for Deficiency field (#.14)
"RTN","DGJTUTL",47,0)
 ;in the Incomplete Records Tracking file (#393)
"RTN","DGJTUTL",48,0)
 N DGJX,DGJTNOD,DGJTDV,DGJTDN,DGJTPD,DGJNDT
"RTN","DGJTUTL",49,0)
 S DGJTNOD=$G(^VAS(393,DA,0)),DGJTDV=$P(DGJTNOD,"^",6)
"RTN","DGJTUTL",50,0)
 S DGJTDV=$G(^DG(40.8,DGJTDV,"DT"))
"RTN","DGJTUTL",51,0)
 I $D(DGJATTD) I $P(DGJTNOD,"^",11)=$O(^DG(393.2,"B","TRANSCRIBED",0))&($P(DGJTDV,"^",10)="A")!($P(DGJTNOD,"^",11)=$O(^DG(393.2,"B","SIGNED",0))&($P(DGJTDV,"^",4)="A")) S DGJX=$P(DGJTNOD,"^",10) D SET K DGJATTD Q
"RTN","DGJTUTL",52,0)
 S DGJTPD=$P(DGJTNOD,"^",14)
"RTN","DGJTUTL",53,0)
 S DGJNDT=$G(^VAS(393,DA,"DT"))
"RTN","DGJTUTL",54,0)
 I $D(DGJFDIC) D  K DGJFDIC Q
"RTN","DGJTUTL",55,0)
 .S DGJX=$S($P(DGJNDT,"^",2)]""&($P(DGJNDT,"^",1)]""):$P(DGJNDT,"^",2),$P(DGJTNOD,"^",12)]"":$P(DGJTNOD,"^",12),1:$P(DGJTNOD,"^",9)) D SET Q
"RTN","DGJTUTL",56,0)
 I $D(DGJFSIG) D  K DGJFSIG Q
"RTN","DGJTUTL",57,0)
 .I $P(DGJNDT,"^",3)']""!($P(DGJNDT,"^",4)']"") S DGJX=$S($P(DGJNDT,"^",2)]"":$P(DGJNDT,"^",2),$P(DGJTNOD,"^",12)]"":$P(DGJTNOD,"^",12),1:$P(DGJTNOD,"^",9)) D SET Q
"RTN","DGJTUTL",58,0)
 .S DGJX=$S($P(DGJTDV,"^",10)="P":$P(DGJTNOD,"^",9),$P(DGJTDV,"^",10)="A":$P(DGJTNOD,"^",10),1:"") Q:DGJX=DGJTPD  D SET Q
"RTN","DGJTUTL",59,0)
 I $D(DGJFREV) D  K DGJFREV Q
"RTN","DGJTUTL",60,0)
 .I $P(DGJNDT,"^",5)']""!($P(DGJNDT,"^",6)']"") I $P(DGJNDT,"^",2)]"" S DGJX=$S($P(DGJTDV,"^",10)="P":$P(DGJTNOD,"^",9),$P(DGJTDV,"^",10)="A":$P(DGJTNOD,"^",10),1:"") D SET Q
"RTN","DGJTUTL",61,0)
 .I $P(DGJNDT,"^",5)']""!($P(DGJNDT,"^",6)']"") I $P(DGJNDT,"^",2)']"" S DGJX=$S($P(DGJTNOD,"^",12)]"":$P(DGJTNOD,"^",12),$P(DGJTNOD,"^",9)]"":$P(DGJTNOD,"^",9),1:"") D SET Q
"RTN","DGJTUTL",62,0)
 .S DGJX=$S($P(DGJTDV,"^",3)=0:$P(DGJNDT,"^",6),$P(DGJTDV,"^",4)="P":$P(DGJTNOD,"^",9),$P(DGJTDV,"^",4)="A":$P(DGJTNOD,"^",10),1:"") D SET Q
"RTN","DGJTUTL",63,0)
 I $D(DGJREVD) D  K DGJREVD Q
"RTN","DGJTUTL",64,0)
 .I $P(DGJNDT,"^",7)']""!($P(DGJNDT,"^",8)']"") S DGJX=$S($P(DGJTDV,"^",4)="P":$P(DGJTNOD,"^",9),$P(DGJTDV,"^",4)="A":$P(DGJTNOD,"^",10),1:"") D SET Q
"RTN","DGJTUTL",65,0)
 .S DGJX=$S($P(DGJNDT,"^",7)]""&($P(DGJNDT,"^",8)]""):$P(DGJNDT,"^",8),$P(DGJTDV,"^",4)="P":$P(DGJTNOD,"^",9),$P(DGJTDV,"^",4)="A":$P(DGJTNOD,"^",10),1:"") D SET Q
"RTN","DGJTUTL",66,0)
 Q
"RTN","DGJTUTL",67,0)
SET S $P(^VAS(393,DA,0),"^",14)=DGJX Q
"RTN","DGJTUTL",68,0)
Q K DGJTDV,DGJTDEL
"RTN","DGJTUTL",69,0)
QUIT K DA,DFN,DIC,DIE,DIR,DR,DTOUT,I,IFN,PTF,VAIP,DGA1,DGJC,DGJT,DGJTADN,DGJTAIFN,DGJTADTP,DGJTAT,DGJTCNT,DGJTCT,DGJTDT,DGJTDBY,DGJTDD,DGJTEDT,DGJTOUT,DGJTOA,DGJTOUT,DGJTRC,DGJTSBY,DGJTSDT,DGJTSP,DGJTSV,DGJTST,DGJTTBY,DGJTWD1,DGJFFL,DGJTPR
"RTN","DGJTUTL",70,0)
 K DGT,DGJTCFLG,DGJTSDT,DGJTTBY,DGJTTD,DGJTYP,DGJTWD,DGJTX,DGPM2X,DGPMCA,DGPMDCD,DGPMT,DGPMVI,DGPMY,DIV,X,^UTILITY("DGJTADM",$J),Y,OK,POP,VAERR,DGJT1PH,DGJT2PH,DGJTCH,DGJTCH1,DGJTFG,DGJTFL,DGJTDDT,DGJTF,VAINDT
"RTN","DGJTUTL",71,0)
 K DIC("S"),DIC("A") Q
"RTN","DGJTVW")
0^32^B8861173
"RTN","DGJTVW",1,0)
DGJTVW ;ALB/MAF - DISPLAY SCREENS FOR INCOMPLETE RECORDS TRACKING (LIST PROCESSOR) ; JAN 31,1989@900
"RTN","DGJTVW",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTVW",3,0)
EN2 D HDR^DGJTEE S DGJTVIEW=1 K DIC D EN^DGJTVW1 Q
"RTN","DGJTVW",4,0)
 ;Display coded by and date coded on screens.
"RTN","DGJTVW",5,0)
CODDT S DGJVAL="        "_$S('$D(DGJTVIEW):"*",1:"")_"Date Coded: "
"RTN","DGJTVW",6,0)
 S X=""
"RTN","DGJTVW",7,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,42,21)
"RTN","DGJTVW",8,0)
 S DGJT1=2 D 1 S Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW",9,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP^DGJTVW2
"RTN","DGJTVW",10,0)
 Q
"RTN","DGJTVW",11,0)
CODBY S DGJVAL="           "_$S('$D(DGJTVIEW):"*",1:"")_"Coded By: "
"RTN","DGJTVW",12,0)
 S X=""
"RTN","DGJTVW",13,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,42,21)
"RTN","DGJTVW",14,0)
 S DGJT1=3 D 1 S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW",15,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP^DGJTVW2
"RTN","DGJTVW",16,0)
 Q
"RTN","DGJTVW",17,0)
1 S DGJVAL=$P(DGJTNO,"^",4) S DGJVAL=$S($D(^DGPM(+DGJVAL,0)):$P(^(0),"^",16),1:"") I DGJVAL]"" S DGJVAL=$S($D(^DGPT(DGJVAL,0)):$P(^DGPT(DGJVAL,0),"^",9),1:"") I DGJVAL]"" S DGJVAL=$S($D(^DGP(45.84,+DGJVAL,0)):$P(^(0),"^",DGJT1),1:"")
"RTN","DGJTVW",18,0)
 Q
"RTN","DGJTVW",19,0)
COM ;Code to print the comments lines on screens.
"RTN","DGJTVW",20,0)
 S X=""
"RTN","DGJTVW",21,0)
 S X=$$SETSTR^VALM1("4)",X,1,2) D TMP^DGJTVW2
"RTN","DGJTVW",22,0)
 S X=""
"RTN","DGJTVW",23,0)
 S X=$$SETSTR^VALM1("Comments:",X,1,9)
"RTN","DGJTVW",24,0)
 S DGJVAL=$P(^VAS(393,$P(DGJTEDT,"^",2),"MSG"),"^",1)
"RTN","DGJTVW",25,0)
 S X=$$SETSTR^VALM1($E(DGJVAL,1,64),X,11,64) D TMP^DGJTVW2
"RTN","DGJTVW",26,0)
 S X=""
"RTN","DGJTVW",27,0)
 S X=$$SETSTR^VALM1($E(DGJVAL,65,129),X,11,64) D TMP^DGJTVW2
"RTN","DGJTVW",28,0)
 S X=""
"RTN","DGJTVW",29,0)
 S X=$$SETSTR^VALM1($E(DGJVAL,130,194),X,11,64) D TMP^DGJTVW2
"RTN","DGJTVW",30,0)
 S X=""
"RTN","DGJTVW",31,0)
 S X=$$SETSTR^VALM1($E(DGJVAL,195,232),X,11,64) D TMP^DGJTVW2
"RTN","DGJTVW",32,0)
 Q
"RTN","DGJTVW",33,0)
STAT1 ;check on the status of the report after a change has been made.
"RTN","DGJTVW",34,0)
 I $D(DGJTSF),$P(DGJTNDT,"^",1)']"",$P(DGJTNDT,"^",5)']"" S DGJTST="INCOMPLETE" G STAT
"RTN","DGJTVW",35,0)
 I $D(DGJTSF),$P(DGJTNDT,"^",1)']"",$P(DGJTNDT,"^",7)]"" S DGJTST="REVIEWED" G STAT
"RTN","DGJTVW",36,0)
 I $D(DGJTSF),$P(DGJTNDT,"^",1)']"",$P(DGJTNDT,"^",5)]"",$P(DGJTDEL,"^",3)=0 S DGJTST="SIGNED NO REVIEW" G STAT
"RTN","DGJTVW",37,0)
 I $D(DGJTSF),$P(DGJTNDT,"^",1)']"",$P(DGJTNDT,"^",5)]"",$P(DGJTDEL,"^",3)=1 S DGJTST="SIGNED" G STAT
"RTN","DGJTVW",38,0)
 I $P(DGJTNDT,"^",1)']"" S DGJTST="INCOMPLETE" G STAT
"RTN","DGJTVW",39,0)
 I $P(DGJTNDT,"^",3)']"" S DGJTST="DICTATED" G STAT
"RTN","DGJTVW",40,0)
 I $P(DGJTNDT,"^",5)']"" S DGJTST="TRANSCRIBED" G STAT
"RTN","DGJTVW",41,0)
 I $P(DGJTDEL,"^",3)=0 S DGJTST="SIGNED NO REVIEW" G STAT
"RTN","DGJTVW",42,0)
 I $P(DGJTNDT,"^",7)']"" S DGJTST="SIGNED" G STAT
"RTN","DGJTVW",43,0)
 I $P(DGJTDEL,"^",3)=1 S DGJTST="REVIEWED"
"RTN","DGJTVW",44,0)
STAT S DGJTNSTA=$O(^DG(393.2,"B",DGJTST,0)) S DIE="^VAS(393,",DA=$P(DGJTEDT,"^",2),DR=".11////^S X=DGJTNSTA" D ^DIE K DR,DIE S $P(DGJTNO,"^",11)=DGJTNSTA K DGJTNSTA
"RTN","DGJTVW",45,0)
 Q
"RTN","DGJTVW1")
0^33^B28085322
"RTN","DGJTVW1",1,0)
DGJTVW1 ;ALB/MAF - DISPLAY SCREENS FOR INCOMPLETE RECORDS TRACKING (LIST PROCESSOR) CONT. ; SEP 31,1992@900
"RTN","DGJTVW1",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTVW1",3,0)
EN Q:'$D(^VAS(393,+$P(DGJTEDT,"^",2),0))  S DGJTNO=^VAS(393,$P(DGJTEDT,"^",2),0),DFN=+DGJTNO
"RTN","DGJTVW1",4,0)
 I $D(^VAS(393,$P(DGJTEDT,"^",2),"DT")) S DGJTNDT=^VAS(393,$P(DGJTEDT,"^",2),"DT")
"RTN","DGJTVW1",5,0)
 I '$D(^VAS(393,$P(DGJTEDT,"^",2),"DT")) S DGJTNDT="^^^^^^^^^^"
"RTN","DGJTVW1",6,0)
 S X=$P(^VAS(393,$P(DGJTEDT,"^",2),0),"^",6) S DGJTDEL=$S($D(^DG(40.8,+X,"DT")):^("DT"),1:DGJTDEL)
"RTN","DGJTVW1",7,0)
 S DGJTFL=0,DGJTHDR="INCOMPLETE RECORDS TRACKING "_$S($D(DGJTVIEW):"<View>",1:"<Edit>"),$P(DGJTCL,"=",81)="",DGJTNM=$P(^DPT(+DGJTNO,0),"^",1) D PID^VADPT6 S DGJTPTID=VA("PID") K VA
"RTN","DGJTVW1",8,0)
 D ^DGJTVW2
"RTN","DGJTVW1",9,0)
 S RTE=DFN_";DPT(",RTYPE=$$RECTYP^DGJOPRT1(DGJTNO) D LATEST^RTUTL3
"RTN","DGJTVW1",10,0)
 S X=""
"RTN","DGJTVW1",11,0)
 S DGJVAL="          "_$S('$D(^XUSEC("DGJ TS UPDATE",DUZ))&($P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)))&('$D(DGJTVIEW)):"*",1:" ")_"Specialty: "
"RTN","DGJTVW1",12,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW1",13,0)
 S DGJVAL=$P(DGJTNO,"^",7) S DGJVAL=$S($D(^DIC(45.7,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW1",14,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW1",15,0)
 S DGJVAL=$P(RTDATA,"^",2)
"RTN","DGJTVW1",16,0)
 S X=$$SETSTR^VALM1($S($D(DGJTVIEW):"           Borrower: ",1:"          *Borrower: "),X,42,21)
"RTN","DGJTVW1",17,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP^DGJTVW2
"RTN","DGJTVW1",18,0)
 S DGJVAL="  "_$S('$D(^XUSEC("DGJ TS UPDATE",DUZ))&($P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)))&('$D(DGJTVIEW)):"*",1:" ")_"Primary Physician: "
"RTN","DGJTVW1",19,0)
 S X=""
"RTN","DGJTVW1",20,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW1",21,0)
 S DGJVAL=$P(DGJTNO,"^",9) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW1",22,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW1",23,0)
 S DGJVAL=$P(RTDATA,"^",3)
"RTN","DGJTVW1",24,0)
 S X=$$SETSTR^VALM1($S($D(DGJTVIEW):"           Phone/Rm: ",1:"          *Phone/Rm: "),X,42,21)
"RTN","DGJTVW1",25,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP^DGJTVW2
"RTN","DGJTVW1",26,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) S DGJVAL=$S('$D(^XUSEC("DGJ TS UPDATE",DUZ))&($P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)))&('$D(DGJTVIEW)):"*",1:" ")_"Attending Physician: "
"RTN","DGJTVW1",27,0)
 S X=""
"RTN","DGJTVW1",28,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW1",29,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) S DGJVAL=$P(DGJTNO,"^",10) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW1",30,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW1",31,0)
 S DGJVAL=$P(RTDATA,"^",4),Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW1",32,0)
 S X=$$SETSTR^VALM1($S($D(DGJTVIEW):"       Date Charged: ",1:"      *Date Charged: "),X,42,21)
"RTN","DGJTVW1",33,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP^DGJTVW2
"RTN","DGJTVW1",34,0)
 K RTDATA,RTE,RTYPE
"RTN","DGJTVW1",35,0)
 D CODDT^DGJTVW,CODBY^DGJTVW
"RTN","DGJTVW1",36,0)
 I '$D(^VAS(393,$P(DGJTEDT,"^",2),"MSG")) S X="",X=$$SETSTR^VALM1("4)",X,1,2) D TMP^DGJTVW2 S X="",X=$$SETSTR^VALM1("Comments:",X,1,9) D TMP^DGJTVW2 G STAT
"RTN","DGJTVW1",37,0)
 D COM^DGJTVW
"RTN","DGJTVW1",38,0)
STAT S:'$D(DGJTVIEW) X="",X=$$SETSTR^VALM1("* For display only!",X,1,19) D:'$D(DGJTVIEW) TMP^DGJTVW2
"RTN","DGJTVW1",39,0)
 D STAT1^DGJTVW
"RTN","DGJTVW1",40,0)
 K DGJTSF
"RTN","DGJTVW1",41,0)
 I $D(DGJTVIEW) K DGJTVIEW Q
"RTN","DGJTVW1",42,0)
 Q
"RTN","DGJTVW1",43,0)
REDSP S VALMBCK="R" D EN Q
"RTN","DGJTVW1",44,0)
ALLEDIT ;Edit all 4 groups
"RTN","DGJTVW1",45,0)
 I $P(DGJTNO,"^",2)'=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) F DGJTNUM=1:1:4 S:DGJTNUM=3 X=3 D EDIT  Q:'$D(DGJTUP)!(X="^")!($D(DTOUT))  K DGJTUP
"RTN","DGJTVW1",46,0)
 I $P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) F DGJTNUM=1,3,4,2 S:DGJTNUM=3 X=3 D EDIT  Q:'$D(DGJTUP)!(X="^")!($D(DTOUT))  K DGJTUP
"RTN","DGJTVW1",47,0)
 Q
"RTN","DGJTVW1",48,0)
EDIT ;EDIT
"RTN","DGJTVW1",49,0)
 D FULL^VALM1
"RTN","DGJTVW1",50,0)
 I DGJTNUM["2",$P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)) D CK,EN S VALMBCK="R" Q
"RTN","DGJTVW1",51,0)
 D EDIT1
"RTN","DGJTVW1",52,0)
 D:'$D(DGJTDEF) EN D:$D(DGJTDEF) ^DGJTVW3 S VALMBCK="R" Q
"RTN","DGJTVW1",53,0)
QUIT1 K %,D,DA,D0,DIE,DR,VA,DGJT1,DGJTCL,DGJTEDT,DGJTHDR,DGJTNDT,DGJTNM,DGJTNO,DGJTNST,DGJTNUM,DGJTNUM1,DGJTPTID,DGJTRC,DGJTUP,DGJTXX,DGJX,DGX,DGJTYPX,Y,^TMP("DGJRPT",$J),^TMP("RPTIDX",$J) Q
"RTN","DGJTVW1",54,0)
DISTS S DGPMT=6,DGPMCA=$P(DGJTNO,"^",4) D CA^DGPMV S:Y]"" DGJTUP=1 Q:$D(DGJTSEDT)  D STAT1^DGJTVW Q
"RTN","DGJTVW1",55,0)
CK S DGJTNUM1=DGJTNUM I DGJTNUM["1" S DGJTNUM=1 D EDIT1 S DGJTNUM=DGJTNUM1 Q:'$D(DGJTUP)  K DGJTUP
"RTN","DGJTVW1",56,0)
 I '$D(^XUSEC("DGJ TS UPDATE",DUZ)) W !!,"A security key must be issued to edit data in item 2." R !!,"Hit return to continue ",X:DTIME Q:X="^"!('$T)  G CK1
"RTN","DGJTVW1",57,0)
 S DGJT1=2 D 1^DGJTVW
"RTN","DGJTVW1",58,0)
 I DGJVAL]"" S Y=X X ^DD("DD") W !!,"PTF Record was closed on "_Y_" for patient.... You Must",!,"reopen the record before you can enter any changes for group 2",! S DGJTNUM1=DGJTNUM R !!,"Hit return to continue ",X:DTIME Q:X="^"!('$T)  G CK1
"RTN","DGJTVW1",59,0)
 I DGJTNUM1[2 D MESS S DGJTNUM=2 D DISTS S DGJTNUM=DGJTNUM1 Q:'$D(DGJTUP)
"RTN","DGJTVW1",60,0)
CK1 I DGJTNUM1[3 S DGJTNUM=3 D EDIT1 Q:'$D(DGJTUP)  K DGJTUP
"RTN","DGJTVW1",61,0)
 S DGJTNUM=DGJTNUM1 I DGJTNUM1[4 S DGJTNUM=4 D EDIT1 S DGJTNUM=DGJTNUM1
"RTN","DGJTVW1",62,0)
 Q
"RTN","DGJTVW1",63,0)
EDIT1 S DIE="^VAS(393,",DA=$P(DGJTEDT,"^",2),DR="[DGJ EDIT IRT RECORD]" D ^DIE K DR,DIC("S")
"RTN","DGJTVW1",64,0)
 K DR Q
"RTN","DGJTVW1",65,0)
MESS W !!?3,"When editing this section you must edit/create a new Treating Specialty"
"RTN","DGJTVW1",66,0)
 W !,"Entering '^' at any prompt will exit you out of the "
"RTN","DGJTVW1",67,0)
 W "treating Specialty edit only"
"RTN","DGJTVW2")
0^34^B18685796
"RTN","DGJTVW2",1,0)
DGJTVW2 ;ALB/MAF - DISPLAY SCREENS FOR INCOMPLETE RECORDS TRACKING (LIST PROCESSOR) CONT. ; SEP 31,1992@900
"RTN","DGJTVW2",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTVW2",3,0)
 K ^TMP("DGJRPT",$J)
"RTN","DGJTVW2",4,0)
 S X="",(VALMCNT,DGJCNT)=0,VALMBG=1
"RTN","DGJTVW2",5,0)
 S X=$$SETSTR^VALM1(DGJTHDR,X,25,$L(DGJTHDR)) D TMP
"RTN","DGJTVW2",6,0)
 S X=""
"RTN","DGJTVW2",7,0)
 S X=$$SETSTR^VALM1("1)",X,1,2)
"RTN","DGJTVW2",8,0)
 S X=$$SETSTR^VALM1("3)",X,42,2) D TMP
"RTN","DGJTVW2",9,0)
 S X=""
"RTN","DGJTVW2",10,0)
 S DGJVAL=$P(DGJTNO,"^",2) S DGJVAL=$S($D(^VAS(393.3,DGJVAL,0)):$P(^(0),"^",1),1:"")
"RTN","DGJTVW2",11,0)
 I DGJVAL="DISCHARGE SUMMARY" S (DGJTX4,X1)=$P(^DGPM(+$P(DGJTNO,"^",4),0),"^",1),DGJTX3=+$P(DGJTNO,"^",3) S X2=2 D C^%DTC I DGJTX3<X&($P(DGJTNO,"^",3)>DGJTX4) S DGJVAL="DISCHARGE SUM <48" S DGJTSF=1 K DGJTX3,DGJTX4
"RTN","DGJTVW2",12,0)
 S X=$$SETSTR^VALM1("     *Type of Report: ",X,1,22)
"RTN","DGJTVW2",13,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW2",14,0)
 S DGJVAL=$P(DGJTNDT,"^",1),Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW2",15,0)
 I $D(DGJTSF),DGJVAL']"",$P(DGJTNDT,"^",5)]"" D SFRM
"RTN","DGJTVW2",16,0)
 S X=$$SETSTR^VALM1("      Date Dictated: ",X,42,21)
"RTN","DGJTVW2",17,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW2",18,0)
 S X=""
"RTN","DGJTVW2",19,0)
 S DGJVAL="         "_$S($P(DGJTNO,"^",2)=1&('$D(DGJTVIEW)):"*",1:" ")_"Event Date: "
"RTN","DGJTVW2",20,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW2",21,0)
 S DGJVAL=$P(DGJTNO,"^",3),Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW2",22,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW2",23,0)
 S DGJVAL=$P(DGJTNDT,"^",2) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW2",24,0)
 I $D(DGJTSF),DGJVAL']"",$P(DGJTNDT,"^",5)]"" D SFRM
"RTN","DGJTVW2",25,0)
 S X=$$SETSTR^VALM1("        Dictated By: ",X,42,21)
"RTN","DGJTVW2",26,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW2",27,0)
 S X="",DGJVAL="          "_$S('$D(DGJTVIEW):"*",1:"")_"Admission: "
"RTN","DGJTVW2",28,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW2",29,0)
 I $P(DGJTNO,"^",4)]"" S DGJVAL=$P(DGJTNO,"^",4) S Y=$S($D(^DGPM(+DGJVAL,0)):+^DGPM(DGJVAL,0),1:"") X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW2",30,0)
 I $P(DGJTNO,"^",4)']"" S DGJVAL="OUTPATIENT"
"RTN","DGJTVW2",31,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW2",32,0)
 S X=$$SETSTR^VALM1("   Date Transcribed: ",X,42,21)
"RTN","DGJTVW2",33,0)
 S DGJVAL=$P(DGJTNDT,"^",3),Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW2",34,0)
 I $D(DGJTSF),DGJVAL']"",$P(DGJTNDT,"^",1)']"",$P(DGJTNDT,"^",5)]"" D SFRM
"RTN","DGJTVW2",35,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW2",36,0)
 S X=""
"RTN","DGJTVW2",37,0)
 S X=$$SETSTR^VALM1("           *Division: ",X,1,22)
"RTN","DGJTVW2",38,0)
 S DGJVAL=$P(DGJTNO,"^",6) S DGJVAL=$S($D(^DG(40.8,+DGJVAL,0)):$P(^(0),"^",1),1:"")
"RTN","DGJTVW2",39,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW2",40,0)
 S Y=$P(DGJTNDT,"^",4),C=$P(^DD(393,10.04,0),"^",2) D Y^DIQ K C S DGJVAL=Y
"RTN","DGJTVW2",41,0)
 I $D(DGJTSF),DGJVAL']"",$P(DGJTNDT,"^",1)']"",$P(DGJTNDT,"^",5)]"" D SFRM
"RTN","DGJTVW2",42,0)
 S X=$$SETSTR^VALM1("     Transcribed By: ",X,42,21)
"RTN","DGJTVW2",43,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW2",44,0)
 S DGJVAL=$P(DGJTNO,"^",5) S DGJVAL=$S($D(^SC(+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW2",45,0)
 S DGJVAL="           "_$S($P(DGJTNO,"^",2)=1&('$D(DGJTVIEW)):"*",1:" ")_"Location: "
"RTN","DGJTVW2",46,0)
 S X=""
"RTN","DGJTVW2",47,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW2",48,0)
 S DGJVAL=$P(DGJTNO,"^",5) S DGJVAL=$S($D(^SC(+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW2",49,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW2",50,0)
 S X=$$SETSTR^VALM1("        Date Signed: ",X,42,21)
"RTN","DGJTVW2",51,0)
 S DGJVAL=$P(DGJTNDT,"^",5),Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW2",52,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW2",53,0)
 S DGJVAL=$P(DGJTNO,"^",8)
"RTN","DGJTVW2",54,0)
 S DGJVAL=$S($D(^DG(393.1,+DGJVAL,0)):$P(^(0),"^",1),1:"")
"RTN","DGJTVW2",55,0)
 S X=""
"RTN","DGJTVW2",56,0)
 S X=$$SETSTR^VALM1("            *Service: ",X,1,22)
"RTN","DGJTVW2",57,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW2",58,0)
 S DGJVAL=$P(DGJTNO,"^",8)
"RTN","DGJTVW2",59,0)
 S DGJVAL=$S($D(^DG(393.1,+DGJVAL,0)):$P(^(0),"^",1),1:"")
"RTN","DGJTVW2",60,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW2",61,0)
 S DGJVAL=$P(DGJTNDT,"^",6) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW2",62,0)
 S X=$$SETSTR^VALM1("          Signed By: ",X,42,21)
"RTN","DGJTVW2",63,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW2",64,0)
 S X=""
"RTN","DGJTVW2",65,0)
 S X=$$SETSTR^VALM1("   Phys. Responsible: ",X,1,22)
"RTN","DGJTVW2",66,0)
 S DGJVAL=$P(DGJTNO,"^",12) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW2",67,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW2",68,0)
 I $P(DGJTDEL,"^",3)=1 S X=$$SETSTR^VALM1("      Date Reviewed: ",X,42,21)
"RTN","DGJTVW2",69,0)
 I $P(DGJTDEL,"^",3)=1 S DGJVAL=$P(DGJTNDT,"^",7),Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y S X=$$SETSTR^VALM1(DGJVAL,X,63,18)
"RTN","DGJTVW2",70,0)
 D TMP
"RTN","DGJTVW2",71,0)
 S DGJVAL=$P(DGJTNDT,"^",8) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW2",72,0)
 S X=""
"RTN","DGJTVW2",73,0)
 I $P(DGJTDEL,"^",3)=1 S X=$$SETSTR^VALM1("        Reviewed By: ",X,42,21),X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW2",74,0)
 S X=""
"RTN","DGJTVW2",75,0)
 S X=$$SETSTR^VALM1("2)",X,1,2) D TMP
"RTN","DGJTVW2",76,0)
 Q
"RTN","DGJTVW2",77,0)
 ;
"RTN","DGJTVW2",78,0)
 ;
"RTN","DGJTVW2",79,0)
TMP S DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJTVW2",80,0)
 S ^TMP("DGJRPT",$J,DGJCNT,0)=X,^TMP("DGJRPT",$J,"IDX",VALMCNT,DGJCNT)=""
"RTN","DGJTVW2",81,0)
 S ^TMP("RPTIDX",$J,DGJCNT)=VALMCNT
"RTN","DGJTVW2",82,0)
 Q
"RTN","DGJTVW2",83,0)
SFRM S DGJVAL="NOT APPLICABLE"
"RTN","DGJTVW2",84,0)
 Q
"RTN","DGJTVW3")
0^35^B24357858
"RTN","DGJTVW3",1,0)
DGJTVW3 ;ALB/MAF - DISPLAY SCREENS FOR DEFICIENCIES (LIST PROCESSOR)  ; SEP 31,1992@900
"RTN","DGJTVW3",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJTVW3",3,0)
EN Q:'$D(^VAS(393,+$P(DGJTEDT,"^",2),0))  S DGJTNO=^VAS(393,$P(DGJTEDT,"^",2),0),DFN=+DGJTNO
"RTN","DGJTVW3",4,0)
 I $D(^VAS(393,$P(DGJTEDT,"^",2),"DT")) S DGJTNDT=^VAS(393,$P(DGJTEDT,"^",2),"DT")
"RTN","DGJTVW3",5,0)
 I '$D(^VAS(393,$P(DGJTEDT,"^",2),"DT")) S DGJTNDT="^^^^^^^^^^"
"RTN","DGJTVW3",6,0)
 S X=$P(^VAS(393,$P(DGJTEDT,"^",2),0),"^",6) S DGJTDEL=$S($D(^DG(40.8,+X,"DT")):^("DT"),1:DGJTDEL)
"RTN","DGJTVW3",7,0)
 S DGJTFL=0,DGJTHDR="INCOMPLETE RECORDS TRACKING "_$S($D(DGJTVIEW):"<View>",1:"<Edit>"),$P(DGJTCL,"=",81)="",DGJTNM=$P(^DPT(+DGJTNO,0),"^",1) D PID^VADPT6 S DGJTPTID=VA("PID") K VA
"RTN","DGJTVW3",8,0)
 S RTE=DFN_";DPT(",RTYPE=$$RECTYP^DGJOPRT1(DGJTNO) D LATEST^RTUTL3
"RTN","DGJTVW3",9,0)
 K ^TMP("DGJRPT",$J)
"RTN","DGJTVW3",10,0)
 S X="",(VALMCNT,DGJCNT)=0,VALMBG=1
"RTN","DGJTVW3",11,0)
 S X=$$SETSTR^VALM1(DGJTHDR,X,25,$L(DGJTHDR)) D TMP
"RTN","DGJTVW3",12,0)
 S X=""
"RTN","DGJTVW3",13,0)
 S X=$$SETSTR^VALM1("1)",X,1,2)
"RTN","DGJTVW3",14,0)
 S X=$$SETSTR^VALM1("2)",X,42,2) D TMP
"RTN","DGJTVW3",15,0)
 S X=""
"RTN","DGJTVW3",16,0)
 S DGJVAL=$P(DGJTNO,"^",2) S DGJVAL=$S($D(^VAS(393.3,+DGJVAL,0)):$P(^VAS(393.3,+DGJVAL,0),"^",1),1:"")
"RTN","DGJTVW3",17,0)
 S X=$$SETSTR^VALM1(" *Type of Deficiency: ",X,1,22)
"RTN","DGJTVW3",18,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW3",19,0)
 S DGJVAL="          "_$S('$D(^XUSEC("DGJ TS UPDATE",DUZ))&($P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)))&('$D(DGJTVIEW)):"*",1:" ")_"Specialty: "
"RTN","DGJTVW3",20,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,42,21)
"RTN","DGJTVW3",21,0)
 S DGJVAL=$P(DGJTNO,"^",7) S DGJVAL=$S($D(^DIC(45.7,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW3",22,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,64,17) D TMP
"RTN","DGJTVW3",23,0)
 S X=""
"RTN","DGJTVW3",24,0)
 S DGJVAL="         "_$S($P(DGJTNO,"^",2)=1&('$D(DGJTVIEW)):"*",1:" ")_"Event Date: "
"RTN","DGJTVW3",25,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW3",26,0)
 S DGJVAL=$P(DGJTNO,"^",3),Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW3",27,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW3",28,0)
 S DGJVAL="  "_$S('$D(^XUSEC("DGJ TS UPDATE",DUZ))&($P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)))&('$D(DGJTVIEW)):"*",1:" ")_"Primary Physician: "
"RTN","DGJTVW3",29,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,42,21)
"RTN","DGJTVW3",30,0)
 S DGJVAL=$P(DGJTNO,"^",9) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW3",31,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,64,17) D TMP
"RTN","DGJTVW3",32,0)
 S X="",DGJVAL="          "_$S('$D(DGJTVIEW):"*",1:"")_"Admission: "
"RTN","DGJTVW3",33,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW3",34,0)
 I $P(DGJTNO,"^",4)]"" S DGJVAL=$P(DGJTNO,"^",4) S Y=$S($D(^DGPM(+DGJVAL,0)):+^DGPM(DGJVAL,0),1:"") X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW3",35,0)
 I $P(DGJTNO,"^",4)']"" S DGJVAL="OUTPATIENT"
"RTN","DGJTVW3",36,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW3",37,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) S DGJVAL=$S('$D(^XUSEC("DGJ TS UPDATE",DUZ))&($P(DGJTNO,"^",2)=$O(^VAS(393.3,"B","DISCHARGE SUMMARY",0)))&('$D(DGJTVIEW)):"*",1:" ")_"Attending Physician: "
"RTN","DGJTVW3",38,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) S X=$$SETSTR^VALM1(DGJVAL,X,42,21)
"RTN","DGJTVW3",39,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) S DGJVAL=$P(DGJTNO,"^",10) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW3",40,0)
 I $P(DGJTDEL,"^",3)=1!($P(DGJTDEL,"^",3)=0&($P(DGJTDEL,"^",10)="A")) S X=$$SETSTR^VALM1(DGJVAL,X,64,17) D TMP
"RTN","DGJTVW3",41,0)
 S X=""
"RTN","DGJTVW3",42,0)
 S X=$$SETSTR^VALM1("           *Division: ",X,1,22)
"RTN","DGJTVW3",43,0)
 S DGJVAL=$P(DGJTNO,"^",6) S DGJVAL=$S($D(^DG(40.8,+DGJVAL,0)):$P(^(0),"^",1),1:"")
"RTN","DGJTVW3",44,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18) D TMP
"RTN","DGJTVW3",45,0)
 S DGJVAL=$P(DGJTNO,"^",5) S DGJVAL=$S($D(^SC(+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW3",46,0)
 S DGJVAL="           "_$S($P(DGJTNO,"^",2)=1&('$D(DGJTVIEW)):"*",1:" ")_"Location: "
"RTN","DGJTVW3",47,0)
 S X=""
"RTN","DGJTVW3",48,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,1,22)
"RTN","DGJTVW3",49,0)
 S DGJVAL=$P(DGJTNO,"^",5) S DGJVAL=$S($D(^SC(+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW3",50,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW3",51,0)
 S DGJVAL=$P(RTDATA,"^",2)
"RTN","DGJTVW3",52,0)
 S X=$$SETSTR^VALM1("           *Borrower: ",X,42,21)
"RTN","DGJTVW3",53,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW3",54,0)
 S DGJVAL=$P(DGJTNO,"^",8)
"RTN","DGJTVW3",55,0)
 S DGJVAL=$S($D(^DG(393.1,+DGJVAL,0)):$P(^(0),"^",1),1:"")
"RTN","DGJTVW3",56,0)
 S X=""
"RTN","DGJTVW3",57,0)
 S X=$$SETSTR^VALM1("            *Service: ",X,1,22)
"RTN","DGJTVW3",58,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW3",59,0)
 S DGJVAL=$P(RTDATA,"^",3)
"RTN","DGJTVW3",60,0)
 S X=$$SETSTR^VALM1("           *Phone/Rm: ",X,42,21)
"RTN","DGJTVW3",61,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW3",62,0)
 S X=""
"RTN","DGJTVW3",63,0)
 S X=$$SETSTR^VALM1("   Phys. Responsible: ",X,1,22)
"RTN","DGJTVW3",64,0)
 S DGJVAL=$P(DGJTNO,"^",12) S DGJVAL=$S($D(^VA(200,+DGJVAL,0)):$P(^(0),"^"),1:"")
"RTN","DGJTVW3",65,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18)
"RTN","DGJTVW3",66,0)
 S DGJVAL=$P(RTDATA,"^",4),Y=DGJVAL I DGJVAL]"" X ^DD("DD") S DGJVAL=Y
"RTN","DGJTVW3",67,0)
 S X=$$SETSTR^VALM1("       *Date Charged: ",X,42,21)
"RTN","DGJTVW3",68,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,63,18) D TMP
"RTN","DGJTVW3",69,0)
 K RTE,RTYPE,RTDATA
"RTN","DGJTVW3",70,0)
 D CODDT^DGJTVW,CODBY^DGJTVW
"RTN","DGJTVW3",71,0)
 S X=""
"RTN","DGJTVW3",72,0)
 S X=$$SETSTR^VALM1("3)",X,1,2) D TMP
"RTN","DGJTVW3",73,0)
 S X=""
"RTN","DGJTVW3",74,0)
 S X=$$SETSTR^VALM1("              Status: ",X,1,22)
"RTN","DGJTVW3",75,0)
 S DGJVAL=$P(DGJTNO,"^",11) S DGJVAL=$S($D(^DG(393.2,+DGJVAL,0)):$P(^DG(393.2,DGJVAL,0),"^",1),1:"NOT SPECIFIED")
"RTN","DGJTVW3",76,0)
 S X=$$SETSTR^VALM1(DGJVAL,X,23,18) D TMP
"RTN","DGJTVW3",77,0)
 I '$D(^VAS(393,$P(DGJTEDT,"^",2),"MSG")) S X="",X=$$SETSTR^VALM1("4)",X,1,2) D TMP S X="",X=$$SETSTR^VALM1("Comments:",X,1,9) D TMP,DISP Q
"RTN","DGJTVW3",78,0)
 D COM^DGJTVW
"RTN","DGJTVW3",79,0)
DISP S:'$D(DGJTVIEW) X="",X=$$SETSTR^VALM1("* For display only!",X,1,19) D:'$D(DGJTVIEW) TMP Q
"RTN","DGJTVW3",80,0)
TMP S DGJCNT=DGJCNT+1,VALMCNT=VALMCNT+1
"RTN","DGJTVW3",81,0)
 S ^TMP("DGJRPT",$J,DGJCNT,0)=X,^TMP("DGJRPT",$J,"IDX",VALMCNT,DGJCNT)=""
"RTN","DGJTVW3",82,0)
 S ^TMP("RPTIDX",$J,DGJCNT)=VALMCNT
"RTN","DGJTVW3",83,0)
 Q
"RTN","DGJUTQ")
0^36^B5459740
"RTN","DGJUTQ",1,0)
DGJUTQ ;ALB/MRY - QUEUING UTILITY (%ZTLOAD)  ; 23-AUG-2001
"RTN","DGJUTQ",2,0)
 ;;1.0;Incomplete Records Tracking;;Jun 25, 2001
"RTN","DGJUTQ",3,0)
 ;
"RTN","DGJUTQ",4,0)
Q1 S ZTDTH=$H
"RTN","DGJUTQ",5,0)
QUE K IO("Q") I '$D(ZTIO),$D(ION),ION="" S ZTIO=""
"RTN","DGJUTQ",6,0)
 I '$D(ZTDESC) S ZTDESC=$S($D(DGPGM):DGPGM,$D(PGM):PGM,1:"IRT UNKNOWN OPTION")
"RTN","DGJUTQ",7,0)
 I '$D(ZTRTN) S DGPGM=$S($D(DGPGM):DGPGM,$D(PGM):PGM,1:"") G:DGPGM="" CLOSE S ZTRTN="DQ^DGJUTQ"
"RTN","DGJUTQ",8,0)
 S DGZTSAVE=$S($D(DGVAR):DGVAR,$D(VAR):VAR,1:"*") D SAVE
"RTN","DGJUTQ",9,0)
 I $D(DGPGM),'$D(ZTSAVE("DGPGM")) S ZTSAVE("DGPGM")=""
"RTN","DGJUTQ",10,0)
LOAD D ^%ZTLOAD W:'$D(DGUTQND) !!,$S($D(ZTSK):"Request Queued!",1:"Request Cancelled!") S:'$D(ZTSK) X="^" S:$D(ZTSK) X="" G CLOSE:$D(ZTSK),END
"RTN","DGJUTQ",11,0)
 Q
"RTN","DGJUTQ",12,0)
ZIS W ! K IOP,IO("Q") S POP=0,%ZIS="QMP" D ^%ZIS K %ZIS,IOP Q:POP  I $D(IO("Q")) D QUE S POP=1 G CLOSE
"RTN","DGJUTQ",13,0)
 U IO Q
"RTN","DGJUTQ",14,0)
SAVE D:DGZTSAVE["#" ARRAY F DGI=1:1 S DGVAR=$P(DGZTSAVE,"^",DGI) Q:DGVAR']""  I '$D(ZTSAVE(DGVAR)) S ZTSAVE(DGVAR)="" S:$E(DGVAR,$L(DGVAR))="(" ZTSAVE($E(DGVAR,1,($L(DGVAR)-1)))=""
"RTN","DGJUTQ",15,0)
 Q
"RTN","DGJUTQ",16,0)
ARRAY F DGJ=1:1:$L(DGZTSAVE) I $E(DGZTSAVE,DGJ)="#" S DGZTSAVE=$E(DGZTSAVE,1,(DGJ-1))_"("_$E(DGZTSAVE,DGJ+1,$L(DGZTSAVE))
"RTN","DGJUTQ",17,0)
 Q
"RTN","DGJUTQ",18,0)
CLOSE Q:$D(ZTQUEUED)  N POP D ^%ZISC
"RTN","DGJUTQ",19,0)
END K ZTSK,ZTDESC,ZTRTN,ZTREQ,ZTSAVE,ZTIO,ZTDTH,ZTUCI,DGUTQND,DGVAR,VAR,DGPGM,PGM,DGZTSAVE,DGI,IO("Q"),IO("C")
"RTN","DGJUTQ",20,0)
 Q
"RTN","DGJUTQ",21,0)
DQ D @($S($D(DGPGM):DGPGM,$D(PGM):PGM,1:"CLOSE"))
"RTN","DGJUTQ",22,0)
 D KILL^%ZTLOAD,CLOSE
"RTN","DGJUTQ",23,0)
 Q
"RTN","DGJUTQ",24,0)
DTQ I $D(ZTSK("D")) S DGX=ZTSK("D"),%H=$P(DGX,",") D YMD^%DTC S DGX=$P(DGX,",",2),Z=X_((DGX#3600\60)/100+(DGX\3600)/100) ;Find time queued
"RTN","DGJUTQ",25,0)
 Q
"VER")
8.0^22
"^DD",40.8,40.8,100.01,0)
TRACK INCOMPLETE SUMMARIES?^RS^1:YES;0:NO;^DT;1^Q
"^DD",40.8,40.8,100.01,3)
Are you tracking delinquent summaries at this division?
"^DD",40.8,40.8,100.01,21,0)
^^1^1^2930713^^^^
"^DD",40.8,40.8,100.01,21,1,0)
Is this division using the MAS summary tracking package?
"^DD",40.8,40.8,100.01,"DT")
2910813
"^DD",40.8,40.8,100.02,0)
DEFAULT PRIMARY PHYSICIAN^RS^P:PRIMARY CARE PHYSICIAN;A:ATTENDING PHYSICIAN;^DT;2^Q
"^DD",40.8,40.8,100.02,3)
Enter the physician responsible for dictating the report
"^DD",40.8,40.8,100.02,21,0)
^^6^6^2920421^^^^
"^DD",40.8,40.8,100.02,21,1,0)
Enter 'P' if the PRIMARY CARE PHYSICIAN is responsible for this summary or
"^DD",40.8,40.8,100.02,21,2,0)
op report or 'A' if the ATTENDING PHYSICIAN is responsible.
"^DD",40.8,40.8,100.02,21,3,0)
If, for example, you choose ATTENDING PHYSICIAN, the ATTENDING PHYSICIAN
"^DD",40.8,40.8,100.02,21,4,0)
of record in bed control, when the summary or OP report is created,
"^DD",40.8,40.8,100.02,21,5,0)
will be the default. You may, however, edit the PHYSICIAN RESPONSIBLE
"^DD",40.8,40.8,100.02,21,6,0)
at any time.
"^DD",40.8,40.8,100.02,"DT")
2920421
"^DD",40.8,40.8,100.03,0)
ARE REPORTS REVIEWED?^RS^1:YES;0:NO;^DT;3^Q
"^DD",40.8,40.8,100.03,3)
Does this division require that summaries are reviewed?
"^DD",40.8,40.8,100.03,21,0)
^^2^2^2910813^^
"^DD",40.8,40.8,100.03,21,1,0)
If this division requires a second physician to review the summary, respond
"^DD",40.8,40.8,100.03,21,2,0)
YES, otherwise respond NO.
"^DD",40.8,40.8,100.03,"DT")
2910207
"^DD",40.8,40.8,100.04,0)
DEFAULT REVIEWING PHYSICIAN^RS^P:PRIMARY CARE PHYSICIAN;A:ATTENDING PHYSICIAN;^DT;4^Q
"^DD",40.8,40.8,100.04,3)
Enter the type of physician responsible for reviewing the summary.
"^DD",40.8,40.8,100.04,21,0)
^^4^4^2910813^^^^
"^DD",40.8,40.8,100.04,21,1,0)
If summaries require review, enter the PRIMARY or ATTENDING
"^DD",40.8,40.8,100.04,21,2,0)
physician responsible.  If, for example, you choose ATTENDING PHYSICIAN,
"^DD",40.8,40.8,100.04,21,3,0)
the ATTENDING PHYSICIAN of record in bed control, when the summary or
"^DD",40.8,40.8,100.04,21,4,0)
OP report is created, will be the default.
"^DD",40.8,40.8,100.04,"DT")
2910207
"^DD",40.8,40.8,100.05,0)
TRACK OUTPATIENT OP REPORTS?^RS^1:YES;0:NO;^DT;5^Q
"^DD",40.8,40.8,100.05,3)
Do you want to allow entry of outpatient op reports into the tracking system?
"^DD",40.8,40.8,100.05,21,0)
^^2^2^2910813^^^^
"^DD",40.8,40.8,100.05,21,1,0)
If you want to track outpatient op reports at this division, respond YES.
"^DD",40.8,40.8,100.05,21,2,0)
Otherwise, respond NO.
"^DD",40.8,40.8,100.05,"DT")
2910207
"^DD",40.8,40.8,100.06,0)
DAYS FOR DICTATION^RNJ2,0^^DT;6^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",40.8,40.8,100.06,3)
Type a Number between 0 and 99, 0 Decimal Digits
"^DD",40.8,40.8,100.06,21,0)
^^2^2^2910813^^^^
"^DD",40.8,40.8,100.06,21,1,0)
Enter the number of days the physician has to dictate a summary before it
"^DD",40.8,40.8,100.06,21,2,0)
is considered incomplete.
"^DD",40.8,40.8,100.06,"DT")
2910620
"^DD",40.8,40.8,100.07,0)
DAYS FOR SIGNATURE^RNJ2,0^^DT;7^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",40.8,40.8,100.07,3)
Type a Number between 0 and 99, 0 Decimal Digits
"^DD",40.8,40.8,100.07,21,0)
^^2^2^2910813^^^
"^DD",40.8,40.8,100.07,21,1,0)
Enter the number of days from the date of transcription the physician has
"^DD",40.8,40.8,100.07,21,2,0)
in order to sign the summary or op report.
"^DD",40.8,40.8,100.07,"DT")
2910620
"^DD",40.8,40.8,100.08,0)
DAYS FOR REVIEW^NJ2,0^^DT;8^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",40.8,40.8,100.08,3)
Type a Number between 0 and 99, 0 Decimal Digits
"^DD",40.8,40.8,100.08,21,0)
^^2^2^2910813^^^
"^DD",40.8,40.8,100.08,21,1,0)
Enter the number of days the reviewing physician has to review the report
"^DD",40.8,40.8,100.08,21,2,0)
once it has been signed.
"^DD",40.8,40.8,100.08,"DT")
2910620
"^DD",40.8,40.8,100.09,0)
INCOMPLETE SUMMARIES MESSAGE^F^^DT;9^K:$L(X)>99!($L(X)<1) X
"^DD",40.8,40.8,100.09,3)
Answer must be 1-99 characters in length.
"^DD",40.8,40.8,100.09,21,0)
^^2^2^2920213^^^^
"^DD",40.8,40.8,100.09,21,1,0)
This field contains the message that the facility wants displayed
"^DD",40.8,40.8,100.09,21,2,0)
at the end of each page for each type of report.
"^DD",40.8,40.8,100.09,"DT")
2910813
"^DD",40.8,40.8,100.1,0)
DEFAULT PHYS. FOR SIGNATURE^RS^P:PRIMARY CARE PHYSICIAN;A:ATTENDING PHYSICIAN;^DT;10^Q
"^DD",40.8,40.8,100.1,21,0)
^^5^5^2930714^^^^
"^DD",40.8,40.8,100.1,21,1,0)
This is a new field in file 40.8 the MEDICAL CENTER DIVISION
"^DD",40.8,40.8,100.1,21,2,0)
file.  This field will be asked in the Set Up IRT Parameters
"^DD",40.8,40.8,100.1,21,3,0)
option and will be used to store the default of the physician
"^DD",40.8,40.8,100.1,21,4,0)
who will be responsible for the signature of a deficiency.  It
"^DD",40.8,40.8,100.1,21,5,0)
will be either the Primary or the Attending physician.
"^DD",40.8,40.8,100.1,"DT")
2930211
"^DD",40.8,40.8,100.2,0)
STD. DEFIC. FOR SHORT FORMS?^RS^1:YES;0:N;^DT;11^Q
"^DD",40.8,40.8,100.2,3)
Entering 'Yes' will cause the IRT Background Job to create standard deficiencies for short forms.
"^DD",40.8,40.8,100.2,21,0)
^^4^4^2930713^^
"^DD",40.8,40.8,100.2,21,1,0)
By entering yes in this field,  the IRT Backgroud Job will create standard
"^DD",40.8,40.8,100.2,21,2,0)
deficiencies for short form discharges ( discharged less than 48 hours
"^DD",40.8,40.8,100.2,21,3,0)
after admission).  If you enter no in this field the standard deficiencies
"^DD",40.8,40.8,100.2,21,4,0)
will not be created for short forms in the IRT Background Job.
"^DD",40.8,40.8,100.2,"DT")
2930713
"^DD",40.8,40.8,100.3,0)
DEFAULT MEDICAL RECORD TYPE^P195.2'^DIC(195.2,^DT;12^Q
"^DD",40.8,40.8,100.3,3)
Enter the Division's default record type for Medical records.
"^DD",40.8,40.8,100.3,21,0)
^^3^3^3011022^
"^DD",40.8,40.8,100.3,21,1,0)
Incomplete Records Tracking will use this entry as the default Medical
"^DD",40.8,40.8,100.3,21,2,0)
record type for Division when pulling patient information.  If blank,
"^DD",40.8,40.8,100.3,21,3,0)
MEDICAL RECORD will be default value.
"^DD",40.8,40.8,100.3,"DT")
3011022
"^DD",43,43,401,0)
IRT BACKGROUND JOB LAST RUN^D^^IRT;1^S %DT="ET" D ^%DT S X=Y K:Y<1 X
"^DD",43,43,401,21,0)
^^2^2^2930511^
"^DD",43,43,401,21,1,0)
This field contains the date/time of the last run of the
"^DD",43,43,401,21,2,0)
IRT Background Job.
"^DD",43,43,401,"DT")
2930511
"^DD",43,43,513,0)
IRT SHORT FORM LIST GROUP^P3.8'^XMB(3.8,^NOT;14^Q
"^DD",43,43,513,21,0)
^^5^5^2930728^^^
"^DD",43,43,513,21,1,0)
Select the name of the mailgroup which should be notified whenever
"^DD",43,43,513,21,2,0)
the IRT Background Job is run, options: (IRT Update Std. Deficiencies and
"^DD",43,43,513,21,3,0)
IRT Update Std. Def. Background Job), to receive a list of patients that
"^DD",43,43,513,21,4,0)
have been discharged less than 48 hours from their admission (Short Form)..
"^DD",43,43,513,21,5,0)
If no mailgroup is selected no bulletin will be generated.
"^DD",43,43,513,"DT")
2930712
"^DD",393,393,0)
FIELD^^20.01^23
"^DD",393,393,0,"DDA")
N
"^DD",393,393,0,"DT")
2950731
"^DD",393,393,0,"ID","WRITE")
S DGJT=^(0) D WR^DGJTUTL
"^DD",393,393,0,"IX","AAT",393,.1)

"^DD",393,393,0,"IX","AC",393,.08)

"^DD",393,393,0,"IX","ADB",393,10.02)

"^DD",393,393,0,"IX","ADD",393,10.01)

"^DD",393,393,0,"IX","ADM",393,.04)

"^DD",393,393,0,"IX","ADR",393,10.07)

"^DD",393,393,0,"IX","ADS",393,10.05)

"^DD",393,393,0,"IX","ADT",393,10.03)

"^DD",393,393,0,"IX","ARB",393,10.08)

"^DD",393,393,0,"IX","ASB",393,10.06)

"^DD",393,393,0,"IX","ATB",393,10.04)

"^DD",393,393,0,"IX","B",393,.01)

"^DD",393,393,0,"IX","C",393,.03)

"^DD",393,393,0,"NM","INCOMPLETE RECORDS")

"^DD",393,393,0,"PT",128,.13)

"^DD",393,393,0,"PT",8925,1403)

"^DD",393,393,0,"VRPK")
DGJ
"^DD",393,393,.01,0)
PATIENT^RP2'^DPT(^0;1^Q
"^DD",393,393,.01,1,0)
^.1^^-1
"^DD",393,393,.01,1,1,0)
393^B
"^DD",393,393,.01,1,1,1)
S ^VAS(393,"B",$E(X,1,30),DA)=""
"^DD",393,393,.01,1,1,2)
K ^VAS(393,"B",$E(X,1,30),DA)
"^DD",393,393,.01,3)
Enter the patient for which this summary was created.
"^DD",393,393,.01,4)

"^DD",393,393,.01,21,0)
^^1^1^2930728^^^^
"^DD",393,393,.01,21,1,0)
Enter the patient for which this summary or op report has been recorded.
"^DD",393,393,.01,"DT")
2910109
"^DD",393,393,.02,0)
TYPE OF DEFICIENCY^RP393.3'^VAS(393.3,^0;2^Q
"^DD",393,393,.02,1,0)
^.1^^0
"^DD",393,393,.02,3)

"^DD",393,393,.02,21,0)
^^1^1^2930226^^^^
"^DD",393,393,.02,21,1,0)
Enter the type of deficiency that is being tracked.
"^DD",393,393,.02,"DT")
2930305
"^DD",393,393,.03,0)
EVENT DATE^RD^^0;3^S %DT="ESTX" D ^%DT S X=Y K:3991231<X!(2800101>X) X
"^DD",393,393,.03,1,0)
^.1
"^DD",393,393,.03,1,1,0)
393^C
"^DD",393,393,.03,1,1,1)
S ^VAS(393,"C",$E(X,1,30),DA)=""
"^DD",393,393,.03,1,1,2)
K ^VAS(393,"C",$E(X,1,30),DA)
"^DD",393,393,.03,1,1,"DT")
2910726
"^DD",393,393,.03,3)
TYPE A DATE BETWEEN 1/1/1980 AND 12/31/2099
"^DD",393,393,.03,21,0)
^^2^2^2910813^^
"^DD",393,393,.03,21,1,0)
Enter the date of the event (discharge date for discharge summaries, date
"^DD",393,393,.03,21,2,0)
of summary for interim summaries, or date of surgery for op reports).
"^DD",393,393,.03,"DT")
2910726
"^DD",393,393,.04,0)
ADMISSION^*P405'^DGPM(^0;4^S DIC("S")="I $P(^(0),""^"",2)=1,($P(^(0),""^"",3)=+^DGPM(DA,0))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",393,393,.04,1,0)
^.1^^-1
"^DD",393,393,.04,1,1,0)
^^TRIGGER^393^.13
"^DD",393,393,.04,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^VAS(393,D0,0)):^(0),1:"") S X=$P(Y(1),U,13),X=X S DIU=X K Y S X=DIV S X=1 X ^DD(393,.04,1,1,1.4)
"^DD",393,393,.04,1,1,1.4)
S DIH=$S($D(^VAS(393,DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,13)=DIV,DIH=393,DIG=.13 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",393,393,.04,1,1,2)
Q
"^DD",393,393,.04,1,1,"CREATE VALUE")
S X=1
"^DD",393,393,.04,1,1,"DELETE VALUE")
NO EFFECT
"^DD",393,393,.04,1,1,"FIELD")
INPA
"^DD",393,393,.04,1,2,0)
393^ADM
"^DD",393,393,.04,1,2,1)
S ^VAS(393,"ADM",$E(X,1,30),DA)=""
"^DD",393,393,.04,1,2,2)
K ^VAS(393,"ADM",$E(X,1,30),DA)
"^DD",393,393,.04,3)
Enter the admission associated with this report.
"^DD",393,393,.04,12)
Only admissions and only for same patient.
"^DD",393,393,.04,12.1)
S DIC("S")="I $P(^(0),""^"",2)=1,($P(^(0),""^"",3)=+^DGPM(DA,0))"
"^DD",393,393,.04,21,0)
^^2^2^2910813^^^
"^DD",393,393,.04,21,1,0)
Enter the admission associated with this report.  Enter nothing if this
"^DD",393,393,.04,21,2,0)
is an outpatient op report.
"^DD",393,393,.04,"DT")
2930305
"^DD",393,393,.05,0)
LOCATION^R*P44'^SC(^0;5^S DIC("S")="N CA S CA=$S($D(DGJTAIFN):DGJTAIFN,1:+$P(^VAS(393,DA,0),U,4)) I $P(^SC(+Y,0),U,3)=$S(CA:""W"",1:""C"")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",393,393,.05,3)
Enter the location of the patient at the time of the event.
"^DD",393,393,.05,12)
Screen WARDS for inpatients, CLINICS for outpatients
"^DD",393,393,.05,12.1)
S DIC("S")="N CA S CA=$S($D(DGJTAIFN):DGJTAIFN,1:+$P(^VAS(393,DA,0),U,4)) I $P(^SC(+Y,0),U,3)=$S(CA:""W"",1:""C"")"
"^DD",393,393,.05,21,0)
^^2^2^2930204^^^^
"^DD",393,393,.05,21,1,0)
Enter the location of the patient at the time of the event (discharge
"^DD",393,393,.05,21,2,0)
operation or interim summary.
"^DD",393,393,.05,"DT")
2920210
"^DD",393,393,.06,0)
DIVISION^R*P40.8'^DG(40.8,^0;6^S DIC("S")="I $D(^DG(40.8,+Y,0)) I $D(^DG(40.8,+Y,""DT"")) I $P(^DG(40.8,+Y,""DT""),""^"",1)=1" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",393,393,.06,1,0)
^.1^^0
"^DD",393,393,.06,3)
Enter the division at which this event took place.
"^DD",393,393,.06,12)
ONLY THOSE DIVISIONS THAT TRACK RECORDS.
"^DD",393,393,.06,12.1)
S DIC("S")="I $D(^DG(40.8,+Y,0)) I $D(^DG(40.8,+Y,""DT"")) I $P(^DG(40.8,+Y,""DT""),""^"",1)=1"
"^DD",393,393,.06,21,0)
^^2^2^2920210^^^^
"^DD",393,393,.06,21,1,0)
Enter the division at which this event took place.  Will initially be
"^DD",393,393,.06,21,2,0)
determined by the WARD field.
"^DD",393,393,.06,"DT")
2920210
"^DD",393,393,.07,0)
SPECIALTY^R*P45.7'^DIC(45.7,^0;7^S DIC("S")="I $$ACTIVE^DGACT(45.7,Y,$G(DGJTDT))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",393,393,.07,3)
Enter the patient's treating specialty.  This must be an active treating specialty.
"^DD",393,393,.07,12)
Allows only active treating specialties.
"^DD",393,393,.07,12.1)
S DIC("S")="I $$ACTIVE^DGACT(45.7,Y,$G(DGJTDT))"
"^DD",393,393,.07,21,0)
^^1^1^2910813^^^^
"^DD",393,393,.07,21,1,0)
Enter the treating specialty the patient had at the time of this event.
"^DD",393,393,.07,"DT")
2950731
"^DD",393,393,.08,0)
SERVICE^RP393.1'^DG(393.1,^0;8^Q
"^DD",393,393,.08,1,0)
^.1^^-1
"^DD",393,393,.08,1,1,0)
393^AC
"^DD",393,393,.08,1,1,1)
S ^VAS(393,"AC",$E(X,1,30),DA)=""
"^DD",393,393,.08,1,1,2)
K ^VAS(393,"AC",$E(X,1,30),DA)
"^DD",393,393,.08,1,1,"DT")
2910726
"^DD",393,393,.08,3)

"^DD",393,393,.08,21,0)
^^2^2^2910813^^^^
"^DD",393,393,.08,21,1,0)
Enter the service responsible for filing this report.  This field will be
"^DD",393,393,.08,21,2,0)
used to generate reports that are incomplete by service.
"^DD",393,393,.08,"DT")
2910805
"^DD",393,393,.09,0)
PRIMARY PHYSICIAN^RP200'^VA(200,^0;9^Q
"^DD",393,393,.09,1,0)
^.1
"^DD",393,393,.09,1,1,0)
^^TRIGGER^393^.12
"^DD",393,393,.09,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^VAS(393,D0,0)):^(0),1:"") S X=$P(Y(1),U,12),X=X S DIU=X K Y S X=DIV S X=DIV,X=X X ^DD(393,.09,1,1,1.4)
"^DD",393,393,.09,1,1,1.4)
S DIH=$S($D(^VAS(393,DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,12)=DIV,DIH=393,DIG=.12 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",393,393,.09,1,1,2)
Q
"^DD",393,393,.09,1,1,"%D",0)
^^2^2^2930122^
"^DD",393,393,.09,1,1,"%D",1,0)
This trigger will update the Physician Responsible field with the value of
"^DD",393,393,.09,1,1,"%D",2,0)
the Primary Physician field.
"^DD",393,393,.09,1,1,"CREATE VALUE")
INTERNAL(PRIMARY PHYSICIAN)
"^DD",393,393,.09,1,1,"DELETE VALUE")
NO EFFECT
"^DD",393,393,.09,1,1,"DT")
2930122
"^DD",393,393,.09,1,1,"FIELD")
PHYSICIAN RESPONSIBLE
"^DD",393,393,.09,3)
Enter the physician responsible for dictation of this report.
"^DD",393,393,.09,21,0)
^^2^2^2920511^^^^
"^DD",393,393,.09,21,1,0)
Enter the physician responsible for the patient... usually the physician
"^DD",393,393,.09,21,2,0)
that will be responsible for the dictation of the summary or report. 
"^DD",393,393,.09,"DT")
2930122
"^DD",393,393,.1,0)
ATTENDING PHYSICIAN^P200'^VA(200,^0;10^Q
"^DD",393,393,.1,1,0)
^.1
"^DD",393,393,.1,1,1,0)
393^AAT^MUMPS
"^DD",393,393,.1,1,1,1)
S DGJATTD=1 D PHYDEF^DGJTUTL
"^DD",393,393,.1,1,1,2)
S DGJATTD=1 D PHYDEF^DGJTUTL
"^DD",393,393,.1,1,1,"%D",0)
^^5^5^2930720^
"^DD",393,393,.1,1,1,"%D",1,0)
This MUMPS cross reference acts like a trigger that updates the Physician
"^DD",393,393,.1,1,1,"%D",2,0)
for Deficiency field in file 393.  If the attending physician is changed
"^DD",393,393,.1,1,1,"%D",3,0)
the record status is transcribed and the Physician for Signature is set
"^DD",393,393,.1,1,1,"%D",4,0)
to attending then the Physician for Deficiency will be updated with the new
"^DD",393,393,.1,1,1,"%D",5,0)
attending physicians name.
"^DD",393,393,.1,1,1,"DT")
2930720
"^DD",393,393,.1,3)
Enter the physician responsible for reviewing this summary.
"^DD",393,393,.1,21,0)
^^1^1^2930324^^^^
"^DD",393,393,.1,21,1,0)
Enter the physician responsible for reviewing this summary (if applicable).
"^DD",393,393,.1,"DT")
2930720
"^DD",393,393,.11,0)
STATUS^R*P393.2'^DG(393.2,^0;11^D STATUS^DGJTHLP D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",393,393,.11,1,0)
^.1^^0
"^DD",393,393,.11,3)

"^DD",393,393,.11,12)
Choose a STATUS
"^DD",393,393,.11,12.1)
D STATUS^DGJTHLP
"^DD",393,393,.11,21,0)
^^1^1^2930720^^^^
"^DD",393,393,.11,21,1,0)
Enter the status of this report at the present time.
"^DD",393,393,.11,"DT")
2930720
"^DD",393,393,.12,0)
PHYSICIAN RESPONSIBLE^RP200'^VA(200,^0;12^Q
"^DD",393,393,.12,1,0)
^.1
"^DD",393,393,.12,1,1,0)
^^TRIGGER^393^.14
"^DD",393,393,.12,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X D PHYSRTRG^DGJTUTL I X S X=DIV S Y(1)=$S($D(^VAS(393,D0,0)):^(0),1:"") S X=$P(Y(1),U,14),X=X S DIU=X K Y S X=DIV S X=DIV,X=X X ^DD(393,.12,1,1,1.4)
"^DD",393,393,.12,1,1,1.4)
S DIH=$S($D(^VAS(393,DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,14)=DIV,DIH=393,DIG=.14 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",393,393,.12,1,1,2)
Q
"^DD",393,393,.12,1,1,"%D",0)
^^1^1^2930316^
"^DD",393,393,.12,1,1,"%D",1,0)
This trigger updates the Physician for Deficiency field.
"^DD",393,393,.12,1,1,"CREATE CONDITION")
D PHYSRTRG^DGJTUTL
"^DD",393,393,.12,1,1,"CREATE VALUE")
INTERNAL(PHYSICIAN RESPONSIBLE)
"^DD",393,393,.12,1,1,"DELETE VALUE")
NO EFFECT
"^DD",393,393,.12,1,1,"DT")
2930316
"^DD",393,393,.12,1,1,"FIELD")
PHYSICIAN FOR DE
"^DD",393,393,.12,3)
Enter the physician who is responsible for the dictation of the summary or report.
"^DD",393,393,.12,5,1,0)
393^.09^1
"^DD",393,393,.12,21,0)
^^2^2^2921119^^^^
"^DD",393,393,.12,21,1,0)
This is the physician that is responsible for the
"^DD",393,393,.12,21,2,0)
dictation of the report.
"^DD",393,393,.12,"DT")
2930316
"^DD",393,393,.13,0)
INPATIENT REPORT?^RS^1:YES;0:NO;^0;13^Q
"^DD",393,393,.13,3)
Enter 1 if this is an inpatient summary or op report, otherwise 0.
"^DD",393,393,.13,5,1,0)
393^.04^1
"^DD",393,393,.13,9)
^
"^DD",393,393,.13,21,0)
^^2^2^2921222^^^^
"^DD",393,393,.13,21,1,0)
Enter  1 if this report is for an inpatient episode.  Enter 0 if it is an
"^DD",393,393,.13,21,2,0)
outpatient op report.
"^DD",393,393,.14,0)
PHYSICIAN FOR DEFICIENCY^P200'^VA(200,^0;14^Q
"^DD",393,393,.14,1,0)
^.1^^0
"^DD",393,393,.14,5,1,0)
393^.12^1
"^DD",393,393,.14,21,0)
^^6^6^2930812^
"^DD",393,393,.14,21,1,0)
This field contains the name of the physician that is
"^DD",393,393,.14,21,2,0)
responsible for the deficiency at the present time.  This
"^DD",393,393,.14,21,3,0)
field changes whenever an action is taken against a
"^DD",393,393,.14,21,4,0)
deficiency and the status changes.  This field will be
"^DD",393,393,.14,21,5,0)
displayed on all the IRT reports as well as all of the
"^DD",393,393,.14,21,6,0)
enter/edit screens.
"^DD",393,393,.14,"DT")
2930302
"^DD",393,393,10.01,0)
DATE DICTATED^DX^^DT;1^S %DT(0)="-NOW",%DT="ETX" D ^%DT K %DT(0) S X=Y K:Y<1 X
"^DD",393,393,10.01,1,0)
^.1
"^DD",393,393,10.01,1,1,0)
393^ADD^MUMPS
"^DD",393,393,10.01,1,1,1)
S DGJFDIC=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.01,1,1,2)
S DGJFDIC=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.01,1,1,"%D",0)
^^2^2^2930303^
"^DD",393,393,10.01,1,1,"%D",1,0)
This MUMPS cross reference acts like a trigger that updates the Physician
"^DD",393,393,10.01,1,1,"%D",2,0)
for Deficiency field in file 393.
"^DD",393,393,10.01,1,1,"DT")
2930303
"^DD",393,393,10.01,3)
ENTER A DATE IN THE PAST OR NOW
"^DD",393,393,10.01,21,0)
^^2^2^2921201^^^^
"^DD",393,393,10.01,21,1,0)
Enter the date on which this record was dictated.  Time of day may also be
"^DD",393,393,10.01,21,2,0)
entered.
"^DD",393,393,10.01,22)

"^DD",393,393,10.01,"DT")
2930303
"^DD",393,393,10.02,0)
DICTATED BY^P200'^VA(200,^DT;2^Q
"^DD",393,393,10.02,1,0)
^.1
"^DD",393,393,10.02,1,1,0)
393^ADB^MUMPS
"^DD",393,393,10.02,1,1,1)
S DGJFDIC=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.02,1,1,2)
S DGJFDIC=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.02,1,1,"%D",0)
^^2^2^2930720^^
"^DD",393,393,10.02,1,1,"%D",1,0)
This MUMPS cross reference acts like a trigger that updates the Physician
"^DD",393,393,10.02,1,1,"%D",2,0)
for Deficiency field in file 393.
"^DD",393,393,10.02,1,1,"DT")
2930303
"^DD",393,393,10.02,3)
Enter the person who dictated this report
"^DD",393,393,10.02,21,0)
^^1^1^2930204^^^^
"^DD",393,393,10.02,21,1,0)
Enter the user responsible for dictation of this summary or op report.
"^DD",393,393,10.02,"DT")
2930303
"^DD",393,393,10.03,0)
DATE TRANSCRIBED^DX^^DT;3^S %DT(0)="-NOW",%DT="ETX" D ^%DT K %DT(0) S X=Y K:Y<1 X
"^DD",393,393,10.03,1,0)
^.1
"^DD",393,393,10.03,1,1,0)
393^ADT^MUMPS
"^DD",393,393,10.03,1,1,1)
S DGJFSIG=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.03,1,1,2)
S DGJFSIG=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.03,1,1,"%D",0)
^^2^2^2930302^
"^DD",393,393,10.03,1,1,"%D",1,0)
This MUMPS cross reference acts like a trigger that updates the Physician
"^DD",393,393,10.03,1,1,"%D",2,0)
for Deficiency field in file 393.
"^DD",393,393,10.03,1,1,"DT")
2930302
"^DD",393,393,10.03,3)
ENTER A DATE IN THE PAST OR NOW
"^DD",393,393,10.03,21,0)
^^1^1^2910813^^^
"^DD",393,393,10.03,21,1,0)
Enter the date (or date/time) on which this report was transcribed.
"^DD",393,393,10.03,"DT")
2930302
"^DD",393,393,10.04,0)
TRANSCRIBED BY^V^^DT;4^Q
"^DD",393,393,10.04,1,0)
^.1
"^DD",393,393,10.04,1,1,0)
393^ATB^MUMPS
"^DD",393,393,10.04,1,1,1)
S DGJFSIG=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.04,1,1,2)
S DGJFSIG=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.04,1,1,"%D",0)
^^2^2^2930302^
"^DD",393,393,10.04,1,1,"%D",1,0)
This MUMPS cross reference acts like a trigger that updates the Physician
"^DD",393,393,10.04,1,1,"%D",2,0)
for Deficiency field in file 393.
"^DD",393,393,10.04,1,1,"DT")
2930302
"^DD",393,393,10.04,3)

"^DD",393,393,10.04,21,0)
^^1^1^2910827^^^^
"^DD",393,393,10.04,21,1,0)
Enter the person or vendor that transcribed this report.
"^DD",393,393,10.04,23,0)
^^1^1^2910827^^^
"^DD",393,393,10.04,23,1,0)
 
"^DD",393,393,10.04,"DT")
2930302
"^DD",393,393,10.04,"V",0)
^.12P^2^2
"^DD",393,393,10.04,"V",1,0)
200^PERSON^1^P^n^n
"^DD",393,393,10.04,"V",2,0)
440^VENDOR^2^V^n^n
"^DD",393,393,10.05,0)
DATE SIGNED^DX^^DT;5^S %DT(0)="-NOW",%DT="ETX" D ^%DT K %DT(0) S X=Y K:Y<1 X
"^DD",393,393,10.05,1,0)
^.1
"^DD",393,393,10.05,1,1,0)
393^ADS^MUMPS
"^DD",393,393,10.05,1,1,1)
S DGJFREV=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.05,1,1,2)
S DGJFREV=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.05,1,1,"%D",0)
^^2^2^2930302^
"^DD",393,393,10.05,1,1,"%D",1,0)
This Mumps Cross reference acts like a trigger. It will update the
"^DD",393,393,10.05,1,1,"%D",2,0)
Physician for Deficiency field.
"^DD",393,393,10.05,1,1,"DT")
2930302
"^DD",393,393,10.05,3)
ENTER A DATE IN THE PAST OR NOW
"^DD",393,393,10.05,21,0)
^^1^1^2910813^^^^
"^DD",393,393,10.05,21,1,0)
Enter the date on which this summary was signed by the responsible provider.
"^DD",393,393,10.05,"DT")
2930302
"^DD",393,393,10.06,0)
SIGNED BY^P200'^VA(200,^DT;6^Q
"^DD",393,393,10.06,1,0)
^.1
"^DD",393,393,10.06,1,1,0)
393^ASB^MUMPS
"^DD",393,393,10.06,1,1,1)
S DGJFREV=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.06,1,1,2)
S DGJFREV=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.06,1,1,"%D",0)
^^2^2^2930302^
"^DD",393,393,10.06,1,1,"%D",1,0)
This Mumps Cross reference acts like a trigger. It will update the
"^DD",393,393,10.06,1,1,"%D",2,0)
Physician for Deficiency field.
"^DD",393,393,10.06,1,1,"DT")
2930302
"^DD",393,393,10.06,3)
Enter the name of the user that signed this report or summary.
"^DD",393,393,10.06,21,0)
^^2^2^2910813^^^^
"^DD",393,393,10.06,21,1,0)
Enter in this field the name of the provider that signed this summary or
"^DD",393,393,10.06,21,2,0)
op report.
"^DD",393,393,10.06,"DT")
2930302
"^DD",393,393,10.07,0)
DATE REVIEWED^DX^^DT;7^S %DT(0)="-NOW",%DT="ETX" D ^%DT K %DT(0) S X=Y K:Y<1 X
"^DD",393,393,10.07,1,0)
^.1
"^DD",393,393,10.07,1,1,0)
393^ADR^MUMPS
"^DD",393,393,10.07,1,1,1)
S DGJREVD=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.07,1,1,2)
S DGJREVD=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.07,1,1,"%D",0)
^^2^2^2930303^
"^DD",393,393,10.07,1,1,"%D",1,0)
This MUMPS cross reference acts like a trigger that updates the Physician
"^DD",393,393,10.07,1,1,"%D",2,0)
for Deficiency field in file 393.
"^DD",393,393,10.07,1,1,"DT")
2930303
"^DD",393,393,10.07,3)
ENTER A DATE IN THE PAST OR NOW
"^DD",393,393,10.07,21,0)
^^2^2^2910813^^^
"^DD",393,393,10.07,21,1,0)
Enter the date on which this summary or op report was reviewed.
"^DD",393,393,10.07,21,2,0)
Entry of a review date/reviewer is optional.
"^DD",393,393,10.07,"DT")
2930303
"^DD",393,393,10.08,0)
REVIEWED BY^P200'^VA(200,^DT;8^Q
"^DD",393,393,10.08,1,0)
^.1
"^DD",393,393,10.08,1,1,0)
393^ARB^MUMPS
"^DD",393,393,10.08,1,1,1)
S DGJREVD=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.08,1,1,2)
S DGJREVD=1 D PHYDEF^DGJTUTL
"^DD",393,393,10.08,1,1,"%D",0)
^^2^2^2930303^
"^DD",393,393,10.08,1,1,"%D",1,0)
This MUMPS cross reference acts like a trigger that updates the Physician
"^DD",393,393,10.08,1,1,"%D",2,0)
for Deficiency field in file 393.
"^DD",393,393,10.08,1,1,"DT")
2930303
"^DD",393,393,10.08,3)
Enter the name of the physician responsible for reviewing this report.
"^DD",393,393,10.08,21,0)
^^2^2^2930326^^^^
"^DD",393,393,10.08,21,1,0)
Enter the name of the individual responsible for reviewing the signed
"^DD",393,393,10.08,21,2,0)
summary or op report.
"^DD",393,393,10.08,"DT")
2930303
"^DD",393,393,20.01,0)
COMMENTS^F^^MSG;1^K:$L(X)>200!($L(X)<3) X
"^DD",393,393,20.01,3)
Answer must be 3-200 characters in length.
"^DD",393,393,20.01,21,0)
^^3^3^2930812^
"^DD",393,393,20.01,21,1,0)
This field is a free text field that the user may add any comments
"^DD",393,393,20.01,21,2,0)
that they need to, in regards to the deficiency.  Each deficiency has
"^DD",393,393,20.01,21,3,0)
a comment field.
"^DD",393,393,20.01,"DT")
2921201
"^DD",393.1,393.1,0)
FIELD^^.03^3
"^DD",393.1,393.1,0,"DDA")
N
"^DD",393.1,393.1,0,"DT")
2910716
"^DD",393.1,393.1,0,"IX","AC",393.1,.02)

"^DD",393.1,393.1,0,"IX","B",393.1,.01)

"^DD",393.1,393.1,0,"NM","MAS SERVICE")

"^DD",393.1,393.1,0,"PT",393,.08)

"^DD",393.1,393.1,0,"VRPK")
DGJ
"^DD",393.1,393.1,.01,0)
NAME^RF^^0;1^K:$L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E) X
"^DD",393.1,393.1,.01,1,0)
^.1
"^DD",393.1,393.1,.01,1,1,0)
393.1^B
"^DD",393.1,393.1,.01,1,1,1)
S ^DG(393.1,"B",$E(X,1,30),DA)=""
"^DD",393.1,393.1,.01,1,1,2)
K ^DG(393.1,"B",$E(X,1,30),DA)
"^DD",393.1,393.1,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",393.1,393.1,.01,21,0)
^^2^2^2910813^^
"^DD",393.1,393.1,.01,21,1,0)
This field contains the name of the MAS SERVICES. It contains the service
"^DD",393.1,393.1,.01,21,2,0)
names for both inpatient wards as well as outpatient clinics.
"^DD",393.1,393.1,.02,0)
CODE^F^^0;2^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>3!($L(X)<1) X
"^DD",393.1,393.1,.02,1,0)
^.1
"^DD",393.1,393.1,.02,1,1,0)
393.1^AC
"^DD",393.1,393.1,.02,1,1,1)
S ^DG(393.1,"AC",$E(X,1,30),DA)=""
"^DD",393.1,393.1,.02,1,1,2)
K ^DG(393.1,"AC",$E(X,1,30),DA)
"^DD",393.1,393.1,.02,1,1,"DT")
2910716
"^DD",393.1,393.1,.02,3)
Answer must be 1-3 characters in length.
"^DD",393.1,393.1,.02,21,0)
^^1^1^2920511^^^
"^DD",393.1,393.1,.02,21,1,0)
This field contains the code for the MAS SERVICES. It can be 1-3 characters.
"^DD",393.1,393.1,.02,"DT")
2910716
"^DD",393.1,393.1,.03,0)
PRINT NAME^F^^0;3^K:$L(X)>10!($L(X)<1) X
"^DD",393.1,393.1,.03,3)
Answer must be 1-10 characters in length.
"^DD",393.1,393.1,.03,21,0)
^^2^2^2910813^^
"^DD",393.1,393.1,.03,21,1,0)
This field contains the print name for the MAS SERVICE. It is a shortened
"^DD",393.1,393.1,.03,21,2,0)
version of the full name. It is used to display the service for reports.
"^DD",393.1,393.1,.03,"DT")
2910716
"^DD",393.2,393.2,0)
FIELD^^.02^2
"^DD",393.2,393.2,0,"DDA")
N
"^DD",393.2,393.2,0,"DT")
2910813
"^DD",393.2,393.2,0,"IX","B",393.2,.01)

"^DD",393.2,393.2,0,"NM","IRT STATUS")

"^DD",393.2,393.2,0,"PT",393,.11)

"^DD",393.2,393.2,0,"VRPK")
DGJ
"^DD",393.2,393.2,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",393.2,393.2,.01,1,0)
^.1
"^DD",393.2,393.2,.01,1,1,0)
393.2^B
"^DD",393.2,393.2,.01,1,1,1)
S ^DG(393.2,"B",$E(X,1,30),DA)=""
"^DD",393.2,393.2,.01,1,1,2)
K ^DG(393.2,"B",$E(X,1,30),DA)
"^DD",393.2,393.2,.01,3)
Answer must be 3-30 characters in length.
"^DD",393.2,393.2,.01,21,0)
^^2^2^2910813^^
"^DD",393.2,393.2,.01,21,1,0)
This is the name of the status that a IRT record must go through on its
"^DD",393.2,393.2,.01,21,2,0)
way to being completed.
"^DD",393.2,393.2,.01,"DT")
2910813
"^DD",393.2,393.2,.02,0)
PRINT NAME^F^^0;2^K:$L(X)>20!($L(X)<1) X
"^DD",393.2,393.2,.02,3)
Answer must be 1-20 characters in length.
"^DD",393.2,393.2,.02,21,0)
^^2^2^2910813^^
"^DD",393.2,393.2,.02,21,1,0)
This field contains a shortened version of the status name. It is used
"^DD",393.2,393.2,.02,21,2,0)
for displaying the status on reports.
"^DD",393.2,393.2,.02,"DT")
2910716
"^DD",393.3,393.3,0)
FIELD^^.09^9
"^DD",393.3,393.3,0,"DDA")
N
"^DD",393.3,393.3,0,"DT")
2930525
"^DD",393.3,393.3,0,"IX","B",393.3,.01)

"^DD",393.3,393.3,0,"NM","IRT TYPE OF DEFICIENCY")

"^DD",393.3,393.3,0,"PT",393,.02)

"^DD",393.3,393.3,0,"PT",8925.95,.12)

"^DD",393.3,393.3,0,"VRPK")
DGJ
"^DD",393.3,393.3,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",393.3,393.3,.01,1,0)
^.1
"^DD",393.3,393.3,.01,1,1,0)
393.3^B
"^DD",393.3,393.3,.01,1,1,1)
S ^VAS(393.3,"B",$E(X,1,30),DA)=""
"^DD",393.3,393.3,.01,1,1,2)
K ^VAS(393.3,"B",$E(X,1,30),DA)
"^DD",393.3,393.3,.01,3)
Answer must be 3-30 characters in length.
"^DD",393.3,393.3,.01,21,0)
^^2^2^2940321^^^
"^DD",393.3,393.3,.01,21,1,0)
This field contains the names of the reports or Items that will be
"^DD",393.3,393.3,.01,21,2,0)
tracked by the IRT package.
"^DD",393.3,393.3,.01,"DEL",1,0)
I 1 W *7,!,"CAN'T DELETE THIS ENTRY"
"^DD",393.3,393.3,.01,"DT")
2910813
"^DD",393.3,393.3,.02,0)
ABBREVIATION^F^^0;2^K:$L(X)>3!($L(X)<1) X
"^DD",393.3,393.3,.02,3)
Answer must be 1-3 characters in length.
"^DD",393.3,393.3,.02,21,0)
^^2^2^2910813^^
"^DD",393.3,393.3,.02,21,1,0)
This field contains the three character abbreviation for the type of 
"^DD",393.3,393.3,.02,21,2,0)
report. It is used on the outputs.
"^DD",393.3,393.3,.02,"DT")
2910708
"^DD",393.3,393.3,.03,0)
DAYS FOR DICTATION^NJ2,0^^0;3^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",393.3,393.3,.03,3)
Type a Number between 0 and 99, 0 Decimal Digits
"^DD",393.3,393.3,.03,21,0)
^^2^2^2910813^^
"^DD",393.3,393.3,.03,21,1,0)
This field contains the number in days before the report being tracked
"^DD",393.3,393.3,.03,21,2,0)
is considered incomplete for dictation.
"^DD",393.3,393.3,.03,"DT")
2910708
"^DD",393.3,393.3,.04,0)
DAYS FOR SIGNATURE^NJ2,0^^0;4^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",393.3,393.3,.04,3)
Type a Number between 0 and 99, 0 Decimal Digits
"^DD",393.3,393.3,.04,21,0)
^^2^2^2910813^^
"^DD",393.3,393.3,.04,21,1,0)
This field contains the number in days before the report being tracked
"^DD",393.3,393.3,.04,21,2,0)
is considered incomplete for the physicians signature.
"^DD",393.3,393.3,.04,"DT")
2910708
"^DD",393.3,393.3,.05,0)
DAYS FOR REVIEW^NJ2,0^^0;5^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",393.3,393.3,.05,3)
Type a Number between 0 and 99, 0 Decimal Digits
"^DD",393.3,393.3,.05,21,0)
^^2^2^2910813^^
"^DD",393.3,393.3,.05,21,1,0)
This field contains the number in days before the report being tracked
"^DD",393.3,393.3,.05,21,2,0)
is considered incomplete for review, if the facility reviews.
"^DD",393.3,393.3,.05,"DT")
2910708
"^DD",393.3,393.3,.06,0)
CATEGORY^RP393.41'^VAS(393.41,^0;6^Q
"^DD",393.3,393.3,.06,21,0)
^^2^2^2930728^
"^DD",393.3,393.3,.06,21,1,0)
This field is a pointer to the TYPE OF CATEGORY file 393.41.
"^DD",393.3,393.3,.06,21,2,0)
It stores the category that the deficiency falls under.
"^DD",393.3,393.3,.06,"DT")
2930203
"^DD",393.3,393.3,.07,0)
TRACK DEFICIENCY^RS^0:NO;1:YES;^0;7^Q
"^DD",393.3,393.3,.07,21,0)
^^6^6^2930728^
"^DD",393.3,393.3,.07,21,1,0)
This field turns the tracking of the deficiency on or off.
"^DD",393.3,393.3,.07,21,2,0)
If this field is set to 'Yes' or 1, the deficiency will be
"^DD",393.3,393.3,.07,21,3,0)
one that is tracked by the site.  If this field is set to 'N0'
"^DD",393.3,393.3,.07,21,4,0)
or 0, the facility will not track this deficiency and this 
"^DD",393.3,393.3,.07,21,5,0)
deficiency will not appear as a choice in any of the 
"^DD",393.3,393.3,.07,21,6,0)
Enter/Edit options.
"^DD",393.3,393.3,.07,"DT")
2921124
"^DD",393.3,393.3,.08,0)
STANDARD DEFICIENCY?^RS^0:NO;1:YES;^0;8^Q
"^DD",393.3,393.3,.08,21,0)
^^8^8^2930728^^^^
"^DD",393.3,393.3,.08,21,1,0)
This field is checked by the IRT background jobs,  Options:  
"^DD",393.3,393.3,.08,21,2,0)
(IRT Update Std. Deficiencies & IRT Update Std. Def. Background Job).
"^DD",393.3,393.3,.08,21,3,0)
If the field is set to 1 (YES) this deficiency is considered a standard
"^DD",393.3,393.3,.08,21,4,0)
deficiency by the site.  The background job will then check
"^DD",393.3,393.3,.08,21,5,0)
this field and create an entry for the patient by admission
"^DD",393.3,393.3,.08,21,6,0)
for the standard deficiency.  If this field is set to 0 (NO),
"^DD",393.3,393.3,.08,21,7,0)
it is not considered a standard deficiency and therefore no
"^DD",393.3,393.3,.08,21,8,0)
IRT entry will be made for that deficiency.
"^DD",393.3,393.3,.08,"DT")
2930507
"^DD",393.3,393.3,.09,0)
UNEDITABLE DEFICIENCY^S^1:YES;0:NO;^0;9^Q
"^DD",393.3,393.3,.09,21,0)
^^5^5^2940321^^^
"^DD",393.3,393.3,.09,21,1,0)
This field is not seen by the user.  It distinguishes the
"^DD",393.3,393.3,.09,21,2,0)
deficiencies that are transported with the TYPE OF DEFICIENCY
"^DD",393.3,393.3,.09,21,3,0)
file 393.3.  Those deficiencies are highlighted  on the screen under the 
"^DD",393.3,393.3,.09,21,4,0)
Add a New/Edit Deficiency option.  This is the field that is checked
"^DD",393.3,393.3,.09,21,5,0)
for highlighting purposes.
"^DD",393.3,393.3,.09,"DT")
2930525
"^DD",393.41,393.41,0)
FIELD^^.04^4
"^DD",393.41,393.41,0,"DT")
2930212
"^DD",393.41,393.41,0,"IX","B",393.41,.01)

"^DD",393.41,393.41,0,"NM","TYPE OF CATEGORY")

"^DD",393.41,393.41,0,"PT",393.3,.06)

"^DD",393.41,393.41,0,"VRPK")
DGJ
"^DD",393.41,393.41,.01,0)
NAME^RF^^0;1^K:$L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E) X
"^DD",393.41,393.41,.01,1,0)
^.1
"^DD",393.41,393.41,.01,1,1,0)
393.41^B
"^DD",393.41,393.41,.01,1,1,1)
S ^VAS(393.41,"B",$E(X,1,30),DA)=""
"^DD",393.41,393.41,.01,1,1,2)
K ^VAS(393.41,"B",$E(X,1,30),DA)
"^DD",393.41,393.41,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",393.41,393.41,.01,21,0)
^^4^4^2930728^
"^DD",393.41,393.41,.01,21,1,0)
This field contains the name of the category that a deficiency can
"^DD",393.41,393.41,.01,21,2,0)
fall under. There are thirteen possible categories that a deficiency
"^DD",393.41,393.41,.01,21,3,0)
can fall under.  The categories were taken from the Record Review Checklist
"^DD",393.41,393.41,.01,21,4,0)
VA Form 10-2493.
"^DD",393.41,393.41,.02,0)
ABBREVIATION^F^^0;2^K:$L(X)>3!($L(X)<1) X
"^DD",393.41,393.41,.02,3)
Answer must be 1-3 characters in length.
"^DD",393.41,393.41,.02,21,0)
^^2^2^2930728^
"^DD",393.41,393.41,.02,21,1,0)
This field contains the three character abbreviation
"^DD",393.41,393.41,.02,21,2,0)
for the name of the category.
"^DD",393.41,393.41,.02,"DT")
2920513
"^DD",393.41,393.41,.03,0)
PRINT NAME^F^^0;3^K:$L(X)>10!($L(X)<1) X
"^DD",393.41,393.41,.03,3)
Answer must be 1-10 characters in length.
"^DD",393.41,393.41,.03,21,0)
^^2^2^2930728^
"^DD",393.41,393.41,.03,21,1,0)
This field contains the print name for the category.
"^DD",393.41,393.41,.03,21,2,0)
This field can be displayed on reports.
"^DD",393.41,393.41,.03,"DT")
2920513
"^DD",393.41,393.41,.04,0)
DISPLAY ORDER^RNJ7,3^^0;4^K:+X'=X!(X>999)!(X<1)!(X?.E1"."4N.N) X
"^DD",393.41,393.41,.04,3)
Type a Number between 1 and 999, 3 Decimal Digits
"^DD",393.41,393.41,.04,21,0)
^^2^2^2930212^
"^DD",393.41,393.41,.04,21,1,0)
This field shows the display order in which this category will be printed
"^DD",393.41,393.41,.04,21,2,0)
the enter/edit screens.
"^DD",393.41,393.41,.04,"DT")
2930212
"^DD",405,405,60.01,0)
IRT BACKGROUND JOB RUN^D^^IRT;1^S %DT="ET" D ^%DT S X=Y K:Y<1 X
"^DD",405,405,60.01,21,0)
^^9^9^2930507^
"^DD",405,405,60.01,21,1,0)
This field stores the date that the IRT background job
"^DD",405,405,60.01,21,2,0)
was run for this admission.  If this field contains
"^DD",405,405,60.01,21,3,0)
a date, this admission has been initialized and all
"^DD",405,405,60.01,21,4,0)
standard deficiencies have been created for this
"^DD",405,405,60.01,21,5,0)
admission.  When the IRT background Job is run for
"^DD",405,405,60.01,21,6,0)
all admission it will check to see if the admission
"^DD",405,405,60.01,21,7,0)
has already been initialized.  If so, this admission
"^DD",405,405,60.01,21,8,0)
will not created duplicate entries for the standard
"^DD",405,405,60.01,21,9,0)
deficiencies.
"^DD",405,405,60.01,"DT")
2930507
"^DIC",393,393,0)
INCOMPLETE RECORDS^393PI
"^DIC",393,393,0,"GL")
^VAS(393,
"^DIC",393,393,"%",0)
^1.005^^0
"^DIC",393,393,"%D",0)
^^3^3^2930610^^^
"^DIC",393,393,"%D",1,0)
This file is the main file for the Incomplete Records Tracking package IRT
"^DIC",393,393,"%D",2,0)
This is where all of the data is stored that will be displayed for each
"^DIC",393,393,"%D",3,0)
deficiency on the enter/edit screens and on all of the reports.
"^DIC",393,"B","INCOMPLETE RECORDS",393)

"^DIC",393.1,393.1,0)
MAS SERVICE^393.1
"^DIC",393.1,393.1,0,"GL")
^DG(393.1,
"^DIC",393.1,393.1,"%D",0)
^^1^1^2930610^^
"^DIC",393.1,393.1,"%D",1,0)
This file stores all the possible services for both wards and clinics.
"^DIC",393.1,"B","MAS SERVICE",393.1)

"^DIC",393.2,393.2,0)
IRT STATUS^393.2
"^DIC",393.2,393.2,0,"GL")
^DG(393.2,
"^DIC",393.2,393.2,"%D",0)
^^3^3^2930610^^
"^DIC",393.2,393.2,"%D",1,0)
This is the file that contains the names of the
"^DIC",393.2,393.2,"%D",2,0)
statuses that an IRT record must go thru to
"^DIC",393.2,393.2,"%D",3,0)
its completion.
"^DIC",393.2,"B","IRT STATUS",393.2)

"^DIC",393.3,393.3,0)
IRT TYPE OF DEFICIENCY^393.3
"^DIC",393.3,393.3,0,"GL")
^VAS(393.3,
"^DIC",393.3,393.3,"%D",0)
^^2^2^2930706^^^^
"^DIC",393.3,393.3,"%D",1,0)
This file contains the names of the types of deficiencies
"^DIC",393.3,393.3,"%D",2,0)
that are tracked in the IRT package.
"^DIC",393.3,"B","IRT TYPE OF DEFICIENCY",393.3)

"^DIC",393.41,393.41,0)
TYPE OF CATEGORY
"^DIC",393.41,393.41,0,"GL")
^VAS(393.41,
"^DIC",393.41,393.41,"%D",0)
^^3^3^2930715^^
"^DIC",393.41,393.41,"%D",1,0)
This is the file that stores the name of the category and all
"^DIC",393.41,393.41,"%D",2,0)
data elements related to the category, that a deficiency falls
"^DIC",393.41,393.41,"%D",3,0)
under. There are thirteen categories.
"^DIC",393.41,"B","TYPE OF CATEGORY",393.41)

**END**
**END**
