$TXT Created by HUA,PATRICK at MNTVLL.FO-ALBANY.MED.VA.GOV  (KIDS) on Saturday, 03/17/07 at 20:44
=============================================================================
Run Date: APR 05, 2007                     Designation: DG*5.3*738
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #660                    Status: Released
                  Compliance Date: MAY 06, 2007
=============================================================================

Associated patches: (v)DG*5.3*694  <<= must be installed BEFORE `DG*5.3*738'
                    (v)DG*5.3*725  <<= must be installed BEFORE `DG*5.3*738'

Subject: FIX INVALID STATE/INACTIVE COUNTY REPORT

Category: 
  - Routine

Description:
============

 A STORE error is occurring when the option DG INVALID STATE/COUNTY
 REPORT is run indicating that the process has run out of memory.
  
 Installation of this patch corrects this error by freeing memory resources
 as the report is being produced.  There is no change in functionality.
  
  
 This patch addresses the following Remedy tickets:
 --------------------------------------------------------------
 HD0000000150764
 HD0000000152183
 HD0000000154587
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch modifies DGRSTBAD which is the primary routine for this report.
 Therefore, this patch may be loaded during peak hours as it will not
 cause a disruption to users.  Installation will take less than 5 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2.   COMPONENTS SENT WITH PATCH
      --------------------------
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993;Build 8
  
                              CHECK^XTSUMBLD results
  Routine       Before Patch   After Patch              Patch List
  =======       ============   ===========              ==========
  DGRSTBAD          12887940      13038605                694,738
  
 Number of routines in patch:           1
  Number of routines changed:           1
  
  
  
                       CHECK1^XTSUMBLD (new method) results
  Routine       Before Patch   After Patch              Patch List
  =======       ============   ===========              ==========
  DGRSTBAD          86893663      87590235                694,738
  
 Number of routines in patch:           1
  Number of routines changed:           1
  
 3.  Review your mapped set.  If any of the routines listed in the
     ROUTINE SUMMARY section are mapped, they should be removed
     from the mapped set at this time.
  
 4.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
 5.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter DG*5.3*738:
     a.  Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch.  It will NOT
         backup any other changes such as DDs or templates.
     b.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch (routines,
         DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in
         the transport global.
  
 6.  Use the Install Package(s) option and select the package DG*5.3*738.
  
 7. When prompted 'Want KIDS to inhibit LOGONS during install?' YES//, 
    respond NO.
  
 8.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond YES.  When prompted to select the options
     you would like to place out of order, enter the following:
  
     DG INVALID STATE/COUNTY REPORT
  
     *No* routines are to be deleted upon successful installation of this
     patch.     

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DGRSTBAD
    Before: B86893663  After: B87590235  **694,738**
 Description of Changes:
  Original Code (in ISACT line tag):
   
           I DGACT Q "N" 
           S DGACT=$$LTD^IVMUFNC(DFN) ; active appointment
           S:'DGACT DGACT=$$PHARM^IVMLDEM6(DFN) ; active RX
   
   
  Modified Code (in ISACT line tag):
   
           I DGACT Q "N" 
           S DGACT=$S(+$$LTD^VAFHUTL(DFN)=-1:0,1:+$$LTD^VAFHUTL(DFN)) ; 
  active appointment
           S:'DGACT DGACT=$$PHARM^IVMLDEM6(DFN) ; active RX


=============================================================================
User Information:
Entered By  : MULLER,RICHARD                Date Entered  : NOV 16, 2006
Completed By: SADA,WILLIAM J                Date Completed: APR 05, 2007
Released By : ALEXANDER,DIANNE              Date Released : APR 05, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
