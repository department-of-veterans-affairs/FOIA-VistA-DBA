$TXT Created by WU,CHIAO-MING at SILVER.FORUM.VA.GOV on WEDNESDAY, 10/12/94 at 09:04
=============================================================================
Run Date: OCT 31, 1994                     Designation: XM*7.1*5
Package : XM - MAILMAN                         Priority: Mandatory
Version : 7.1         SEQ #5                   Status: Verified
=============================================================================


Subject: Fix Mail Msg Print Problems

Category: 
  - Routine
  - Informational

Description: 
============

This patch is intended to deal with problems which may occur in the
MailMan PRINT command, printing to P-Message, Message Reply response, and
a local mail delivery problem in a Kernel 8.0 environment.  Routines
XMA02, XMAH, XMA2, and XMADGO were modified for this patch.  See the
following routine descriptions for details.
 
 
Routine fixes:
 
XMA02  Routine -
       A user prints a mail message and queues the output to print later.
       If the user deletes the mail message from his mail basket before
       the queued job prints, the message will not print. Routine XMA02
       was modified to ensure that the message will print if queued and
       deleted.
 
XMAH   Routine -
       Routine XMAH was changed to prevent a user from getting an
       erroneous listing of response data on performing a range print.
 
XMA2   Routine -
       This patch prevents the loss of message or reply data when users
       have concurrent, multiple sessions.
 
XMADGO Routine -
       Routine XMADGO was modified to prevent a local mail delivery
       problem in a Kernel 8.0 environment.
 
Information:
 
      o Sometimes a print doesn't flush the last line from the output
        buffer.  The CLOSE EXECUTE of the P-MESSAGE-HFS Terminal Type,
        especially with MSM systems, should begin with a line feed.
 
        In the MailMan Technical Manual and Systems Management Guide, page
        209, The CLOSE EXECUTE of the P-MESSAGE-HFS Terminal Type for a
        VAX or an Alpha system should be changed;
 
        (* Below syntax may be different from what is on your system.
           Make sure "W !" is inserted at the beginning of the code. )
 
        From:  S XMREC="R X#255:1" U IO:DISCONNECT D
               ^XMAPHOST,READ^XMAPHOST X "C IO:DELETE" K XMIO,XMREC Q
 
        TO:    W ! S XMREC="R X#255:1" U IO:DISCONNECT D
               ^XMAPHOST,READ^XMAPHOST X "C IO:DELETE" K XMIO,XMREC Q
 
 
        In the MailMan Technical Manual and Systems Management Guide, page
        209, The CLOSE EXECUTE of the P-MESSAGE-HFS Terminal Type for an
        MSM system should be changed;
 
        (* Below syntax may be different from what is on your system.
           Make sure "W !" is inserted at the beginning of the code. )
 
        From:  U IO:(::0) D ^XMAPHOST,READ^XMAPHOST S X=$ZOS(2,"XM"_
               DUZ_".DAT") K XMIO Q
 
        To:    W ! U IO:(::0) D ^XMAPHOST,READ^XMAPHOST S X=$ZOS(2,"XM"_
               DUZ_".DAT") K XMIO Q
 
 
Installation Instructions
=========================
 
        Save a copy of the above routines either before you begin this
        installation or when requested to do so during the unloading
        of the specified PackMan message.
 
1.  If your system uses mapped routine sets, unmap routines from any
    mapped routine sets.
 
2.  Load the PackMan message into your production account.
 
3.  Execute CHECK^XTSUMBLD to compute checksums for the following
    routines.
 
        XMA02     value = 6053078
        XMA2      value = 10125317
        XMADGO    value = 2017307
        XMAH      value = 5011997
 
    * Stop installation, reload the original routines and call your
      supporting ISC if these values do not match.
 
4.  Move the newly installed routines to all DHCP systems (as
    appropriate).
 
5.  Check the mapped routine set and map the appropriate routines into the
    routine set.  Rebuild the mapped routine set.
 
NOTES:
 
  o  There is no TARGET or NOIS report associated with this patch.
  o  The installation is the same regardless of the platform.
  o  Users may be on the system during the installation of this patch.

Routine Information:
====================

Routine Name:
  - XMA02

Second line now looks like ";;7.1;MailMan;**4,5**;Jun 02, 1994".
 
See description for other changes.

Routine Checksum:
6053078

Routine Name:
  - XMAH

Second line now looks like ";;7.1;MailMan;**5**;Jun 02, 1994".
 
See description for other changes.

Routine Checksum:
5011997

Routine Name:
  - XMA2

Second line now looks like ";;7.1;MailMan;**5**;Jun 02, 1994".
 
See description for other changes.

Routine Checksum:
10125317

Routine Name:
  - XMADGO

Second line now looks like ";;7.1;MailMan;**5**;Jun 02, 1994".
 
See description for other changes.

Routine Checksum:
2017307

=============================================================================
User Information:                               
Entered By  : WU,CHIAO-MING                  Date Entered : SEP 22, 1994
Completed By: HIRZ,LEE J                   Date Completed : OCT 28, 1994
Verified By : MORRISON,MARTHA               Date Verified : OCT 31, 1994
=============================================================================


Packman Mail Message:
=====================

 
$END TXT
