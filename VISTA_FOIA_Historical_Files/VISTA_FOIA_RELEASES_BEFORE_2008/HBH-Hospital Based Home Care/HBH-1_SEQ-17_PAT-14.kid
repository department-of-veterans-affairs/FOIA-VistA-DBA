Released HBH*1*14 SEQ #17
Extracted from mail message
**KIDS**:HBH*1.0*14^

**INSTALL NAME**
HBH*1.0*14
"BLD",2957,0)
HBH*1.0*14^HOSPITAL BASED HOME CARE^0^3010220^y
"BLD",2957,1,0)
^^1^1^3000712^^^^
"BLD",2957,1,1,0)
This is HBH*1.0*14
"BLD",2957,4,0)
^9.64PA^633.1^2
"BLD",2957,4,632,0)
632
"BLD",2957,4,632,222)
y^n^f^^^^n
"BLD",2957,4,633.1,0)
633.1
"BLD",2957,4,633.1,222)
y^y^f^^n^^y^o^n
"BLD",2957,4,"B",632,632)

"BLD",2957,4,"B",633.1,633.1)

"BLD",2957,"ABPKG")
n
"BLD",2957,"INID")
^y
"BLD",2957,"INIT")
HBHCPS14
"BLD",2957,"KRN",0)
^9.67PA^19^18
"BLD",2957,"KRN",.4,0)
.4
"BLD",2957,"KRN",.4,"NM",0)
^9.68A^^
"BLD",2957,"KRN",.401,0)
.401
"BLD",2957,"KRN",.401,"NM",0)
^9.68A^^
"BLD",2957,"KRN",.402,0)
.402
"BLD",2957,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",2957,"KRN",.403,0)
.403
"BLD",2957,"KRN",.403,"NM",0)
^9.68A^^
"BLD",2957,"KRN",.5,0)
.5
"BLD",2957,"KRN",.84,0)
.84
"BLD",2957,"KRN",3.6,0)
3.6
"BLD",2957,"KRN",3.8,0)
3.8
"BLD",2957,"KRN",3.8,"NM",0)
^9.68A^^0
"BLD",2957,"KRN",9.2,0)
9.2
"BLD",2957,"KRN",9.8,0)
9.8
"BLD",2957,"KRN",9.8,"NM",0)
^9.68A^20^13
"BLD",2957,"KRN",9.8,"NM",2,0)
HBHCRP3^^0^B11045427
"BLD",2957,"KRN",9.8,"NM",3,0)
HBHCUTL3^^0^B9942489
"BLD",2957,"KRN",9.8,"NM",4,0)
HBHCRP4^^0^B24436870
"BLD",2957,"KRN",9.8,"NM",6,0)
HBHCXMV^^0^B18338581
"BLD",2957,"KRN",9.8,"NM",7,0)
HBHCXMV1^^0^B5749021
"BLD",2957,"KRN",9.8,"NM",8,0)
HBHCAPPT^^0^B33611586
"BLD",2957,"KRN",9.8,"NM",12,0)
HBHCPS14^^0^B1931747
"BLD",2957,"KRN",9.8,"NM",13,0)
HBHCXMA1^^0^B8839737
"BLD",2957,"KRN",9.8,"NM",16,0)
HBHCR19A^^0^B14530398
"BLD",2957,"KRN",9.8,"NM",17,0)
HBHCUTL2^^0^B31647509
"BLD",2957,"KRN",9.8,"NM",18,0)
HBHCRP6^^0^B499415
"BLD",2957,"KRN",9.8,"NM",19,0)
HBHCRP9^^0^B129336
"BLD",2957,"KRN",9.8,"NM",20,0)
HBHCR19B^^0^B7333986
"BLD",2957,"KRN",9.8,"NM","B","HBHCAPPT",8)

"BLD",2957,"KRN",9.8,"NM","B","HBHCPS14",12)

"BLD",2957,"KRN",9.8,"NM","B","HBHCR19A",16)

"BLD",2957,"KRN",9.8,"NM","B","HBHCR19B",20)

"BLD",2957,"KRN",9.8,"NM","B","HBHCRP3",2)

"BLD",2957,"KRN",9.8,"NM","B","HBHCRP4",4)

"BLD",2957,"KRN",9.8,"NM","B","HBHCRP6",18)

"BLD",2957,"KRN",9.8,"NM","B","HBHCRP9",19)

"BLD",2957,"KRN",9.8,"NM","B","HBHCUTL2",17)

"BLD",2957,"KRN",9.8,"NM","B","HBHCUTL3",3)

"BLD",2957,"KRN",9.8,"NM","B","HBHCXMA1",13)

"BLD",2957,"KRN",9.8,"NM","B","HBHCXMV",6)

"BLD",2957,"KRN",9.8,"NM","B","HBHCXMV1",7)

"BLD",2957,"KRN",19,0)
19
"BLD",2957,"KRN",19,"NM",0)
^9.68A^^0
"BLD",2957,"KRN",19.1,0)
19.1
"BLD",2957,"KRN",19.1,"NM",0)
^9.68A^^0
"BLD",2957,"KRN",101,0)
101
"BLD",2957,"KRN",409.61,0)
409.61
"BLD",2957,"KRN",771,0)
771
"BLD",2957,"KRN",869.2,0)
869.2
"BLD",2957,"KRN",870,0)
870
"BLD",2957,"KRN",8994,0)
8994
"BLD",2957,"KRN","B",.4,.4)

"BLD",2957,"KRN","B",.401,.401)

"BLD",2957,"KRN","B",.402,.402)

"BLD",2957,"KRN","B",.403,.403)

"BLD",2957,"KRN","B",.5,.5)

"BLD",2957,"KRN","B",.84,.84)

"BLD",2957,"KRN","B",3.6,3.6)

"BLD",2957,"KRN","B",3.8,3.8)

"BLD",2957,"KRN","B",9.2,9.2)

"BLD",2957,"KRN","B",9.8,9.8)

"BLD",2957,"KRN","B",19,19)

"BLD",2957,"KRN","B",19.1,19.1)

"BLD",2957,"KRN","B",101,101)

"BLD",2957,"KRN","B",409.61,409.61)

"BLD",2957,"KRN","B",771,771)

"BLD",2957,"KRN","B",869.2,869.2)

"BLD",2957,"KRN","B",870,870)

"BLD",2957,"KRN","B",8994,8994)

"BLD",2957,"QUES",0)
^9.62^^
"BLD",2957,"REQB",0)
^9.611^6^5
"BLD",2957,"REQB",2,0)
HBH*1.0*06^2
"BLD",2957,"REQB",3,0)
HBH*1.0*08^2
"BLD",2957,"REQB",4,0)
HBH*1.0*15^2
"BLD",2957,"REQB",5,0)
HBH*1.0*16^2
"BLD",2957,"REQB",6,0)
HBH*1.0*17^2
"BLD",2957,"REQB","B","HBH*1.0*06",2)

"BLD",2957,"REQB","B","HBH*1.0*08",3)

"BLD",2957,"REQB","B","HBH*1.0*15",4)

"BLD",2957,"REQB","B","HBH*1.0*16",5)

"BLD",2957,"REQB","B","HBH*1.0*17",6)

"DATA",633.1,1,0)
Appointment Check-Out Missing
"DATA",633.1,2,0)
Provider Missing
"DATA",633.1,3,0)
Diagnosis Missing
"DATA",633.1,4,0)
CPT Code Missing
"DATA",633.1,5,0)
Provider Ambiguous
"DATA",633.1,6,0)
Diagnoses > 5
"DATA",633.1,7,0)
CPT Codes > 10
"DATA",633.1,8,0)
Outpatient Encounter Pointer Missing
"DATA",633.1,9,0)
Visit File Pointer Missing
"DATA",633.1,10,0)
Provider > 10
"DATA",633.1,11,0)
HBHC Provider Number Missing
"DATA",633.1,12,0)
Multiple HBHC Provider Numbers
"DATA",633.1,13,0)
Provider Mismatch
"FIA",632)
HBHC VISIT
"FIA",632,0)
^HBHC(632,
"FIA",632,0,0)
632IP
"FIA",632,0,1)
y^n^f^^^^n
"FIA",632,0,10)

"FIA",632,0,11)

"FIA",632,0,"RLRO")

"FIA",632,0,"VR")
1.0^HBH
"FIA",632,632)
0
"FIA",632,632.032)
0
"FIA",632,632.033)
0
"FIA",632,632.321)
0
"FIA",633.1)
HBHC ERROR MESSAGES FOR VISITS
"FIA",633.1,0)
^HBHC(633.1,
"FIA",633.1,0,0)
633.1
"FIA",633.1,0,1)
y^y^f^^n^^y^o^n
"FIA",633.1,0,10)

"FIA",633.1,0,11)

"FIA",633.1,0,"RLRO")

"FIA",633.1,0,"VR")
1.0^HBH
"FIA",633.1,633.1)
0
"INIT")
HBHCPS14
"MBREQ")
0
"PKG",455,-1)
1^1
"PKG",455,0)
HOSPITAL BASED HOME CARE^HBH^Hospital Based Home Care
"PKG",455,20,0)
^9.402P^^
"PKG",455,22,0)
^9.49I^1^1
"PKG",455,22,1,0)
1.0^2931101
"PKG",455,22,1,"PAH",1,0)
14^3010220^3779
"PKG",455,22,1,"PAH",1,1,0)
^^1^1^3010220
"PKG",455,22,1,"PAH",1,1,1,0)
This is HBH*1.0*14
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
13
"RTN","HBHCAPPT")
0^8^B33611586
"RTN","HBHCAPPT",1,0)
HBHCAPPT ; LR VAMC(IRMS)/MJT-HBHC batch job to create ^HBHC(632) (visit) nodes from PCE module info => patient, appointment date/time, hospital location (clinic), prov, DX code(s), & CPT code(s), calls ^HBHCCAN, HBHCAPP1 ; Jul 2000
"RTN","HBHCAPPT",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,8,10,12,13,15,16,14**;NOV 01, 1993
"RTN","HBHCAPPT",3,0)
 ; Daily auto-queued option, also called from ^HBHCFILE, HBHCLSDT, last date to include in transmit set up in ^HBHCFILE
"RTN","HBHCAPPT",4,0)
 D START^HBHCAPP1
"RTN","HBHCAPPT",5,0)
SCAN ; Scan
"RTN","HBHCAPPT",6,0)
 N HBHCQRY
"RTN","HBHCAPPT",7,0)
 D OPEN^SDQ(.HBHCQRY)
"RTN","HBHCAPPT",8,0)
 D INDEX^SDQ(.HBHCQRY,"DATE/TIME","SET")
"RTN","HBHCAPPT",9,0)
 D DATE^SDQ(.HBHCQRY,HBHCBGDT,HBHCLSDT,"SET")
"RTN","HBHCAPPT",10,0)
 D SCANCB^SDQ(.HBHCQRY,"D CB^HBHCAPPT(Y,Y0,.SDSTOP)","SET")
"RTN","HBHCAPPT",11,0)
 D ACTIVE^SDQ(.HBHCQRY,"TRUE","SET")
"RTN","HBHCAPPT",12,0)
 D SCAN^SDQ(.HBHCQRY,"FORWARD")
"RTN","HBHCAPPT",13,0)
 D CLOSE^SDQ(.HBHCQRY)
"RTN","HBHCAPPT",14,0)
 I ($D(^HBHC(634.1,"B")))!($D(^HBHC(634.2,"B")))!($D(^HBHC(634.3,"B")))!($D(^HBHC(634.5,"B"))) D MAIL^HBHCAPP1
"RTN","HBHCAPPT",15,0)
 ; Delete File Update in Progress Flag
"RTN","HBHCAPPT",16,0)
 S $P(^HBHC(631.9,1,0),U,8)=""
"RTN","HBHCAPPT",17,0)
EXIT ; Exit module
"RTN","HBHCAPPT",18,0)
 D EXIT^HBHCAPP1
"RTN","HBHCAPPT",19,0)
 Q
"RTN","HBHCAPPT",20,0)
CB(HBHCOEP,HBHCSCE0,HBHCSTOP) ;
"RTN","HBHCAPPT",21,0)
 ; Omit Child encounter, (child if Parent Encounter field contains data)
"RTN","HBHCAPPT",22,0)
 Q:$P(HBHCSCE0,U,6)]""
"RTN","HBHCAPPT",23,0)
 ; Quit if invalid status for HBHC purposes
"RTN","HBHCAPPT",24,0)
 Q:($P(HBHCSCE0,U,12)=4)!($P(HBHCSCE0,U,12)=5)!($P(HBHCSCE0,U,12)=6)!($P(HBHCSCE0,U,12)=7)!($P(HBHCSCE0,U,12)=9)!($P(HBHCSCE0,U,12)=10)!($P(HBHCSCE0,U,12)=11)!($P(HBHCSCE0,U,12)=13)
"RTN","HBHCAPPT",25,0)
 ; Clinic missing
"RTN","HBHCAPPT",26,0)
 Q:$P(HBHCSCE0,U,4)=""
"RTN","HBHCAPPT",27,0)
 ; Include only HBHC clinics
"RTN","HBHCAPPT",28,0)
 Q:'$D(^HBHC(631.6,"B",$P(HBHCSCE0,U,4)))
"RTN","HBHCAPPT",29,0)
 S HBHCCLN=$P(HBHCSCE0,U,4)
"RTN","HBHCAPPT",30,0)
 D VERIFY I 'HBHCFLG D PROCESS D:$D(HBHCMSG) ERROR^HBHCAPP1
"RTN","HBHCAPPT",31,0)
 Q
"RTN","HBHCAPPT",32,0)
VERIFY ; Verify record doesn't already exist in ^HBHC(632) file
"RTN","HBHCAPPT",33,0)
 S HBHCFLG=0,HBHCDPT=$P(HBHCSCE0,U,2),HBHCAPDT=$P(HBHCSCE0,U)
"RTN","HBHCAPPT",34,0)
 I HBHCDPT="" S HBHCFLG=1 Q
"RTN","HBHCAPPT",35,0)
 S HBHCBXRF=0 F  S HBHCBXRF=$O(^HBHC(632,"B",HBHCDPT,HBHCBXRF)) Q:(HBHCBXRF'>0)!(HBHCFLG)  S:($D(^HBHC(632,"AE",HBHCOEP)))&(HBHCAPDT=$P(^HBHC(632,HBHCBXRF,0),U,2))&('$D(^HBHC(632,"AC","C",HBHCBXRF))) HBHCFLG=1
"RTN","HBHCAPPT",36,0)
 Q
"RTN","HBHCAPPT",37,0)
PROCESS ; Process provider, diagnosis (DX), & CPT code data
"RTN","HBHCAPPT",38,0)
 ; Dx
"RTN","HBHCAPPT",39,0)
 K HBHCDXL,HBHCDX
"RTN","HBHCAPPT",40,0)
 D GETDX^SDOE(HBHCOEP,"HBHCDXL")
"RTN","HBHCAPPT",41,0)
 S HBHCCNT=1 F HBHCI=1:1:HBHCDXL S HBHCDX(HBHCI)=""
"RTN","HBHCAPPT",42,0)
 S HBHCDFN=0 F  S HBHCDFN=$O(HBHCDXL(HBHCDFN)) Q:(HBHCDFN'>0)!(HBHCCNT>HBHCDXL)  S:$P(HBHCDXL(HBHCDFN),U,12)="P" HBHCDX(1)=$P(HBHCDXL(HBHCDFN),U) S:$P(HBHCDXL(HBHCDFN),U,12)="S" HBHCCNT=HBHCCNT+1,HBHCDX(HBHCCNT)=$P(HBHCDXL(HBHCDFN),U)
"RTN","HBHCAPPT",43,0)
 ; Dx missing
"RTN","HBHCAPPT",44,0)
 I (+$G(HBHCDXL)'>0) S HBHCMSG=3 Q
"RTN","HBHCAPPT",45,0)
 ; provider, use Encounter Provider (field 1204, file 9000010.18) or V Provider (9000010.06) (if encounter provider doesn't exist), each provider within encounter will become a separate HBHC Visit record
"RTN","HBHCAPPT",46,0)
 K HBHCPRV1,HBHCPRVL
"RTN","HBHCAPPT",47,0)
 D GETPRV^SDOE(HBHCOEP,"HBHCPRVL")
"RTN","HBHCAPPT",48,0)
 S (HBHCPCNT,HBHCDFN,HBHCONE)=0 F  S HBHCDFN=$O(HBHCPRVL(HBHCDFN)) Q:HBHCDFN'>0  S HBHCPRV=$P(HBHCPRVL(HBHCDFN),U) D CHECK S:HBHCONE=1 HBHCPCNT=HBHCPCNT+1,HBHCPRV1(HBHCPRV)=""
"RTN","HBHCAPPT",49,0)
 ; Provider missing
"RTN","HBHCAPPT",50,0)
 I (+$G(HBHCPRVL)'>0) S HBHCMSG=2 Q
"RTN","HBHCAPPT",51,0)
 ; HBHC provider missing
"RTN","HBHCAPPT",52,0)
 I HBHCONE=0 S HBHCMSG=11 Q
"RTN","HBHCAPPT",53,0)
 ; Multiple HBHC provider numbers
"RTN","HBHCAPPT",54,0)
 I HBHCONE>1 S HBHCMSG=12 Q
"RTN","HBHCAPPT",55,0)
 ; CPT Code 
"RTN","HBHCAPPT",56,0)
 K HBHCCPTL,HBHCPRV
"RTN","HBHCAPPT",57,0)
 D GETCPT^SDOE(HBHCOEP,"HBHCCPTL")
"RTN","HBHCAPPT",58,0)
 S (HBHCDFN,HBHCONE)=0 F  S HBHCDFN=$O(HBHCCPTL(HBHCDFN)) Q:(HBHCDFN'>0)!($D(HBHCMSG))  S HBHCPRV=$P($G(HBHCCPTL(HBHCDFN,12)),U,4) D:HBHCPRV]"" CHECK S HBHCNBR=$P(HBHCCPTL(HBHCDFN,0),U,16) D PROV
"RTN","HBHCAPPT",59,0)
 ; Provider mismatch
"RTN","HBHCAPPT",60,0)
 Q:$D(HBHCMSG)
"RTN","HBHCAPPT",61,0)
 ; Provider ambiguous
"RTN","HBHCAPPT",62,0)
 I $D(HBHCPRV("ZZ")) S HBHCMSG=5 Q
"RTN","HBHCAPPT",63,0)
 ; CPT Code missing
"RTN","HBHCAPPT",64,0)
 I (+$G(HBHCCPTL)=0) S HBHCMSG=4 Q
"RTN","HBHCAPPT",65,0)
 ; outpatient encounter must have 'checked-out' status (2) to ensure provider, Dx, & CPT data exist, or inpatient status (8)
"RTN","HBHCAPPT",66,0)
 I ($P(HBHCSCE0,U,12)'=2)&($P(HBHCSCE0,U,12)'=8) S HBHCMSG=1 Q
"RTN","HBHCAPPT",67,0)
SET ; Set node, call ^DIK to set cross-refs in ^HBHC(632) (visit) file
"RTN","HBHCAPPT",68,0)
 S HBHCPRV="" F  S HBHCPRV=$O(HBHCPRV(HBHCPRV)) Q:HBHCPRV=""  D SETLOOP
"RTN","HBHCAPPT",69,0)
 Q
"RTN","HBHCAPPT",70,0)
SETLOOP ; Set loop
"RTN","HBHCAPPT",71,0)
 S HBHC="" F  S HBHC=$O(^HBHC(631.4,"C",HBHCPRV,HBHC)) Q:(HBHC="")!('$D(^HBHC(631.4,"AC",1,HBHC)))
"RTN","HBHCAPPT",72,0)
 L +^HBHC(632,0) F  S HBHCDFN=$P(^HBHC(632,0),U,3)+1,$P(^HBHC(632,0),U,3)=HBHCDFN Q:'$D(^HBHC(632,HBHCDFN,0))
"RTN","HBHCAPPT",73,0)
 S $P(^HBHC(632,0),U,4)=$P(^HBHC(632,0),U,4)+1 L -^HBHC(632,0)
"RTN","HBHCAPPT",74,0)
 L +^HBHC(632,HBHCDFN,2) S HBHCCPT=""
"RTN","HBHCAPPT",75,0)
 F  S HBHCCPT=$O(HBHCPRV(HBHCPRV,HBHCCPT)) Q:HBHCCPT=""  S HBHCNBR="" F  S HBHCNBR=$O(HBHCPRV(HBHCPRV,HBHCCPT,HBHCNBR)) Q:HBHCNBR=""  D SETCPT S HBHCK=0 F  S HBHCK=$O(HBHCPRV(HBHCPRV,HBHCCPT,HBHCNBR,HBHCK)) Q:HBHCK'>0  D SETMOD
"RTN","HBHCAPPT",76,0)
 L -^HBHC(632,HBHCDFN,2)
"RTN","HBHCAPPT",77,0)
 L +^HBHC(632,HBHCDFN,3) K DD,DO S DIC="^HBHC(632,",DIC(0)="L",DIC("P")=$P(^DD(632,33,0),U,2),DA(1)=HBHCDFN,DIC=DIC_DA(1)_",3,",HBHCI="" F  S HBHCI=$O(HBHCDX(HBHCI)) Q:HBHCI=""  S X=HBHCDX(HBHCI) D FILE^DICN
"RTN","HBHCAPPT",78,0)
 L -^HBHC(632,HBHCDFN,3)
"RTN","HBHCAPPT",79,0)
 L +^HBHC(632,HBHCDFN,0) S ^HBHC(632,HBHCDFN,0)=HBHCDPT_U_HBHCAPDT_U_HBHCCLN_U_HBHC_U_U_U_U_"N"_U_U_U_U_U_U_U_U_U_U_U_U_U_U_HBHCOEP L -^HBHC(632,HBHCDFN,0)
"RTN","HBHCAPPT",80,0)
 K DIK S DIK="^HBHC(632,",DA=HBHCDFN D IX^DIK K DIK
"RTN","HBHCAPPT",81,0)
 Q
"RTN","HBHCAPPT",82,0)
CHECK ; Check to ensure provider only has 1 HBHC Provider Number (631.4) or if > 1, has others flagged as Inactive Provider Numbers
"RTN","HBHCAPPT",83,0)
 S (HBHCONE,HBHCIEN)=0 F  S HBHCIEN=$O(^HBHC(631.4,"C",HBHCPRV,HBHCIEN)) Q:(HBHCIEN'>0)!(HBHCONE>1)  S:'$D(^HBHC(631.4,"AC",1,HBHCIEN)) HBHCONE=HBHCONE+1
"RTN","HBHCAPPT",84,0)
 Q
"RTN","HBHCAPPT",85,0)
PROV ; Encounter provider & CPT code processing
"RTN","HBHCAPPT",86,0)
 S:HBHCPCNT=1 HBHCTXT="",HBHCTXT=$O(HBHCPRV1(HBHCTXT))
"RTN","HBHCAPPT",87,0)
 F HBHCJ=1:1:HBHCNBR D:HBHCPRV="" SUB1 D:HBHCPRV]"" SUB2
"RTN","HBHCAPPT",88,0)
 Q
"RTN","HBHCAPPT",89,0)
SUB1 ; Subroutine 1 for encounter provider & CPT code processing
"RTN","HBHCAPPT",90,0)
 S HBHCPRV($S(HBHCPCNT=1:HBHCTXT,1:"ZZ"),$P(HBHCCPTL(HBHCDFN,0),U),HBHCJ)=""
"RTN","HBHCAPPT",91,0)
 S HBHCK=0 F  S HBHCK=$O(HBHCCPTL(HBHCDFN,1,HBHCK)) Q:HBHCK'>0  S HBHCPRV($S(HBHCPCNT=1:HBHCTXT,1:"ZZ"),$P(HBHCCPTL(HBHCDFN,0),U),HBHCJ,HBHCK)=HBHCCPTL(HBHCDFN,1,HBHCK,0)
"RTN","HBHCAPPT",92,0)
 Q
"RTN","HBHCAPPT",93,0)
SUB2 ; Subroutine 2 for encounter provider & CPT code processing
"RTN","HBHCAPPT",94,0)
 I (HBHCONE=1)&($D(HBHCPRV1(HBHCPRV))) S HBHCPRV(HBHCPRV,$P(HBHCCPTL(HBHCDFN,0),U),HBHCJ)="",HBHCK=0 F  S HBHCK=$O(HBHCCPTL(HBHCDFN,1,HBHCK)) Q:HBHCK'>0  S HBHCPRV(HBHCPRV,$P(HBHCCPTL(HBHCDFN,0),U),HBHCJ,HBHCK)=HBHCCPTL(HBHCDFN,1,HBHCK,0)
"RTN","HBHCAPPT",95,0)
 S:'$D(HBHCPRV1(HBHCPRV)) HBHCMSG=13
"RTN","HBHCAPPT",96,0)
 Q
"RTN","HBHCAPPT",97,0)
SETCPT ; Set CPT multiple
"RTN","HBHCAPPT",98,0)
 K DD,DO S DIC="^HBHC(632,",DIC(0)="L",DIC("P")=$P(^DD(632,32,0),U,2),DA(1)=HBHCDFN,X=HBHCCPT,DIC=DIC_DA(1)_",2," D FILE^DICN
"RTN","HBHCAPPT",99,0)
 ; Set up for CPT Modifier update
"RTN","HBHCAPPT",100,0)
 S DA=+Y,DA(2)=DA(1),DA(1)=DA
"RTN","HBHCAPPT",101,0)
 K DD,DO S DIC("P")=$P(^DD(632.032,1,0),U,2),DIC=DIC_DA_",1,"
"RTN","HBHCAPPT",102,0)
 Q
"RTN","HBHCAPPT",103,0)
SETMOD ; Set CPT Modifier multiple
"RTN","HBHCAPPT",104,0)
 S X=HBHCPRV(HBHCPRV,HBHCCPT,HBHCNBR,HBHCK) D FILE^DICN S DA=+Y
"RTN","HBHCAPPT",105,0)
 Q
"RTN","HBHCPS14")
0^12^B1931747
"RTN","HBHCPS14",1,0)
HBHCPS14 ; LR VAMC(IRMS)/MJT-HBHC Patch 14 Post-installation conversion routine, Unlimited ICD9 Codes, Convert 5 ICD9 Code fields in node 0, to multiple, then kill 0 node pieces 17 thru 21 ; Jul 2000
"RTN","HBHCPS14",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**14**;NOV 01, 1993
"RTN","HBHCPS14",3,0)
 K DO
"RTN","HBHCPS14",4,0)
 ; Loop thru HBHC(632, move ICD9 codes from node 0 to multiple, then kill 0 node pieces 
"RTN","HBHCPS14",5,0)
 S HBHCIEN=0 F  S HBHCIEN=$O(^HBHC(632,HBHCIEN)) Q:HBHCIEN'>0  S HBHCINFO=$G(^HBHC(632,HBHCIEN,0)) I HBHCINFO]"" F HBHCI=17:1:21 Q:$P(HBHCINFO,U,HBHCI)=""  D SET S $P(^HBHC(632,HBHCIEN,0),U,HBHCI)=""
"RTN","HBHCPS14",6,0)
 ; Delete ICD9 fields from data dictionary
"RTN","HBHCPS14",7,0)
 S DIK="^DD(632,",DA(1)=632 F DA=16:1:20 D ^DIK
"RTN","HBHCPS14",8,0)
EXIT ; Exit module
"RTN","HBHCPS14",9,0)
 K DA,DIC,DIK,DO,HBHCI,HBHCIEN,HBHCINFO,X
"RTN","HBHCPS14",10,0)
 Q
"RTN","HBHCPS14",11,0)
SET ; Set ICD9 multiple
"RTN","HBHCPS14",12,0)
 S DA(1)=HBHCIEN,DIC="^HBHC(632,DA(1),3,",DIC(0)="L",DIC("P")=$P(^DD(632,33,0),U,2),X=$P(HBHCINFO,U,HBHCI) D FILE^DICN
"RTN","HBHCPS14",13,0)
 Q
"RTN","HBHCR19A")
0^16^B14530398
"RTN","HBHCR19A",1,0)
HBHCR19A ;LR VAMC(IRMS)/MJT- HBHC rpt, file 632, Diagnosis info by date range, sorted by DX category, then by patient name, includes: name, SSN, DX (code & text), with category subtotals & grand total, calls HBHCR19B & DX^HBHCUTL3 ; Aug 2000
"RTN","HBHCR19A",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**8,14**;NOV 01, 1993
"RTN","HBHCR19A",3,0)
 D START^HBHCUTL
"RTN","HBHCR19A",4,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCR19A",5,0)
 K ^TMP($J)
"RTN","HBHCR19A",6,0)
PROMPT1 ; Prompt user for whether to include all ICD9 Diagnosis Codes
"RTN","HBHCR19A",7,0)
 K DD,D0 W !!,"Do you wish to include ALL ICD Diagnosis Codes on the report" S %=2 D YN^DICN
"RTN","HBHCR19A",8,0)
 G:(%=-1) EXIT
"RTN","HBHCR19A",9,0)
 I %=1 S HBHCFLAG=1 G START2
"RTN","HBHCR19A",10,0)
 I %=0 W !!,"A 'Yes' response will include ALL ICD Diagnosis Codes.  A 'No' response will",!,"prompt for an individual ICD Diagnosis Code." G PROMPT1
"RTN","HBHCR19A",11,0)
PROMPT2 ; Prompt user for individual ICD9 Diagnosis Code
"RTN","HBHCR19A",12,0)
 W ! K DIR S DIR(0)="PO^80:AEMQ" D ^DIR
"RTN","HBHCR19A",13,0)
 G:($D(DTOUT))!($D(DUOUT)) EXIT
"RTN","HBHCR19A",14,0)
 G:(Y=-1) START1
"RTN","HBHCR19A",15,0)
 S HBHCTMP=Y
"RTN","HBHCR19A",16,0)
PROMPT3 ; Prompt user for whether ICD9 category is to be considered a range (e.g.  Diabetes ICD9 codes range from 250 to 250.93 (as of 8/97))
"RTN","HBHCR19A",17,0)
 W !!,"Do you wish to include ALL codes within category "_$P($P(HBHCTMP,U,2),".") S %=1 D YN^DICN
"RTN","HBHCR19A",18,0)
 G:(%=-1) START1
"RTN","HBHCR19A",19,0)
 I %=0 W !!,"A 'Yes' response will include ALL ICD Diagnosis Codes withing the category.",!,"A 'No' response selects the specific ICD9 Diagnosis Code." G PROMPT3
"RTN","HBHCR19A",20,0)
 S HBHCCAT=$P($P(HBHCTMP,U,2),".")
"RTN","HBHCR19A",21,0)
 S:%=2 ^TMP($J,HBHCCAT,$P(HBHCTMP,U,2))="",^TMP($J,"B",$P(^ICD9($P(HBHCTMP,U),0),U))=""
"RTN","HBHCR19A",22,0)
 ; Setup ^TMP($J array with range of Dx
"RTN","HBHCR19A",23,0)
 S:%=1 HBHCCATE=(HBHCCAT)_".99",HBHCCATB=$S($E(HBHCCAT)=0:"0"_(HBHCCAT-1)_".99",$E(HBHCCAT)'?1N:$E(HBHCCAT)_($E(HBHCCAT,2,99)-1)_".99",1:(HBHCCAT-1)_".99")
"RTN","HBHCR19A",24,0)
 I %=1 F  S HBHCCATB=$O(^ICD9("BA",HBHCCATB)) Q:(HBHCCATB="")!(($E(HBHCCATB,2,99))>($E(HBHCCATE,2,99)))  S HBHCICDP="" F  S HBHCICDP=$O(^ICD9("BA",HBHCCATB,HBHCICDP)) Q:HBHCICDP=""  D SETTMP
"RTN","HBHCR19A",25,0)
 G PROMPT2
"RTN","HBHCR19A",26,0)
START1 ; Initialization 1
"RTN","HBHCR19A",27,0)
 G:'$D(^TMP($J)) EXIT
"RTN","HBHCR19A",28,0)
START2 ; Initialization 2
"RTN","HBHCR19A",29,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCR19A",30,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCR19A",ZTDESC="HBPC ICD9 Code/Text Report",ZTSAVE("HBHC*")="",ZTSAVE("^TMP($J,")="" D ^%ZTLOAD G EXIT
"RTN","HBHCR19A",31,0)
DQ ; De-queue
"RTN","HBHCR19A",32,0)
 U IO
"RTN","HBHCR19A",33,0)
 D INITIAL^HBHCR19B,TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDRRANGE^HBHCUTL
"RTN","HBHCR19A",34,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCR19A",35,0)
LOOP ; Loop thru ^HBHC(632,"C" (appointment date) cross-ref to build report
"RTN","HBHCR19A",36,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCAPDT=X_.9999
"RTN","HBHCR19A",37,0)
 F  S HBHCAPDT=$O(^HBHC(632,"C",HBHCAPDT)) Q:(HBHCAPDT="")!($P(HBHCAPDT,".")>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(632,"C",HBHCAPDT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(632,HBHCDFN,0) D:$P(HBHCNOD0,U,7)="" PROCESS
"RTN","HBHCR19A",38,0)
 W:'$D(^TMP("HBHC",$J)) !!,"No data found for Date Range selected."
"RTN","HBHCR19A",39,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP^HBHCR19B W !!,HBHCZ,!,"ICD9 Diagnosis Categories Total:  ",HBHCTOT,!,HBHCZ
"RTN","HBHCR19A",40,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCR19A",41,0)
EXIT ; Exit module
"RTN","HBHCR19A",42,0)
 D EXIT^HBHCR19B
"RTN","HBHCR19A",43,0)
 Q
"RTN","HBHCR19A",44,0)
SETTMP ; Set ^TMP($J
"RTN","HBHCR19A",45,0)
 S ^TMP($J,HBHCCAT,HBHCCATB)="",^TMP($J,"B",$P(^ICD9(HBHCICDP,0),U))=""
"RTN","HBHCR19A",46,0)
 Q
"RTN","HBHCR19A",47,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCR19A",48,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0)
"RTN","HBHCR19A",49,0)
DX ; Process Diagnosis (DX), HBHCDFN must be defined prior to call, returns code plus text in local array HBHCDX
"RTN","HBHCR19A",50,0)
 D DX^HBHCUTL3
"RTN","HBHCR19A",51,0)
 S HBHCI=0 F  S HBHCI=$O(HBHCDX(HBHCI)) Q:HBHCI'>0  S HBHCDX="HBHCDX("_HBHCI_")" D:$D(HBHCFLAG) SET I '$D(HBHCFLAG) D:$D(^TMP($J,"B",$P(@HBHCDX,HBHCSP2))) SET
"RTN","HBHCR19A",52,0)
 Q
"RTN","HBHCR19A",53,0)
SET ; Set ^TMP node
"RTN","HBHCR19A",54,0)
 S ^TMP("HBHC",$J,$P(@HBHCDX,"."),$E($P(HBHCDPT0,U),1,24),$E($P(HBHCDPT0,U,9),1,3)_"-"_$E($P(HBHCDPT0,U,9),4,5)_"-"_$E($P(HBHCDPT0,U,9),6,9),@HBHCDX)=""
"RTN","HBHCR19A",55,0)
 Q
"RTN","HBHCR19B")
0^20^B7333986
"RTN","HBHCR19B",1,0)
HBHCR19B ;LR VAMC(IRMS)/MJT- HBHC rpt, called by HBHCR19A, entry points:  INITIAL, PRTLOOP, EXIT ; Aug 2000
"RTN","HBHCR19B",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**8,14**;NOV 01, 1993
"RTN","HBHCR19B",3,0)
INITIAL ; Initialize variables
"RTN","HBHCR19B",4,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCR19B",5,0)
 S $P(HBHCSP2," ",3)="",(HBHCCNT,HBHCTOT)=0,$P(HBHCY,"-",81)="",HBHCHEAD="ICD9 Code/Diagnosis Text by Date Range",HBHCHDR="W !,""Patient Name"",?27,""SSN"",?41,""ICD9 Code/Diagnosis Text"""
"RTN","HBHCR19B",6,0)
 S HBHCCOLM=(80-(20+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCR19B",7,0)
 Q
"RTN","HBHCR19B",8,0)
PRTLOOP ; Print loop
"RTN","HBHCR19B",9,0)
 S HBHCCAT=""
"RTN","HBHCR19B",10,0)
 F  S HBHCCAT=$O(^TMP("HBHC",$J,HBHCCAT)) Q:HBHCCAT=""  D SUBTOT S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCCAT,HBHCNAME)) Q:HBHCNAME=""  S HBHCSSN="" F  S HBHCSSN=$O(^TMP("HBHC",$J,HBHCCAT,HBHCNAME,HBHCSSN)) Q:HBHCSSN=""  D PRTLOOP2
"RTN","HBHCR19B",11,0)
 D SUBTOT
"RTN","HBHCR19B",12,0)
 Q
"RTN","HBHCR19B",13,0)
SUBTOT ; Print subtotal from previous category
"RTN","HBHCR19B",14,0)
 I HBHCCNT>0 W !!,"Category:  "_HBHC_"  Count:  ",HBHCCNT,!,HBHCY S HBHCTOT=HBHCTOT+HBHCCNT
"RTN","HBHCR19B",15,0)
 S HBHC=HBHCCAT,HBHCCNT=0
"RTN","HBHCR19B",16,0)
 Q
"RTN","HBHCR19B",17,0)
PRTLOOP2 ; Print loop 2, PRTLOOP continued
"RTN","HBHCR19B",18,0)
 S HBHCDX="" F  S HBHCDX=$O(^TMP("HBHC",$J,HBHCCAT,HBHCNAME,HBHCSSN,HBHCDX)) Q:HBHCDX=""  D PRINT
"RTN","HBHCR19B",19,0)
 Q
"RTN","HBHCR19B",20,0)
PRINT ; Print report
"RTN","HBHCR19B",21,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<8) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCR19B",22,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCCAT,HBHCNAME,HBHCSSN,HBHCDX)
"RTN","HBHCR19B",23,0)
 W !,HBHCNAME,?27,HBHCSSN,?41,HBHCDX
"RTN","HBHCR19B",24,0)
 S HBHCCNT=HBHCCNT+1
"RTN","HBHCR19B",25,0)
 Q
"RTN","HBHCR19B",26,0)
EXIT ; Exit module
"RTN","HBHCR19B",27,0)
 D ^%ZISC
"RTN","HBHCR19B",28,0)
 K HBHC,HBHCAPDT,HBHCBEG1,HBHCBEG2,HBHCCAT,HBHCCATB,HBHCCATE,HBHCCC,HBHCCNT,HBHCCOLM,HBHCDFN,HBHCDPT0,HBHCDX,HBHCEND1,HBHCEND2,HBHCFLAG,HBHCHDR,HBHCHEAD,HBHCI,HBHCICDP,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCSP2,HBHCSSN,HBHCTDY,HBHCTMP
"RTN","HBHCR19B",29,0)
 K HBHCTOT,HBHCY,HBHCZ,X,X1,X2,Y,^TMP("HBHC",$J),^TMP($J)
"RTN","HBHCR19B",30,0)
 Q
"RTN","HBHCRP3")
0^2^B11045427
"RTN","HBHCRP3",1,0)
HBHCRP3 ; LR VAMC(IRMS)/MJT-HBHC report on file 632, individual patient visit data by date range, includes all fields, calls DX^HBHCUTL3, DX80^HBHCUTL3, CPT^HBHCUTL3 ; Jan 2000
"RTN","HBHCRP3",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,8,15,16,14**;NOV 01, 1993
"RTN","HBHCRP3",3,0)
PROMPT ; Prompt user for patient name
"RTN","HBHCRP3",4,0)
 K DIC S DIC="^DPT(",DIC(0)="AEMQ",HBHCCC=0 D ^DIC
"RTN","HBHCRP3",5,0)
 G:Y=-1 EXIT
"RTN","HBHCRP3",6,0)
 S HBHCDPT=+Y
"RTN","HBHCRP3",7,0)
 I '$D(^HBHC(632,"B",HBHCDPT)) W *7,!!,"This patient has no visits on file.",!! H 3 G PROMPT
"RTN","HBHCRP3",8,0)
 D START^HBHCUTL
"RTN","HBHCRP3",9,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP3",10,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP3",11,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP3",ZTDESC="HBPC Patient Visit Data Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP3",12,0)
DQ ; De-queue
"RTN","HBHCRP3",13,0)
 U IO
"RTN","HBHCRP3",14,0)
 S $P(HBHCY,"-",81)="",$P(HBHCZ,"=",81)="",$P(HBHCSP2," ",3)="",HBHCMSG="(continued from previous page...)"
"RTN","HBHCRP3",15,0)
 S HBHCDPT0=^DPT(HBHCDPT,0),HBHCINFO=$P(HBHCDPT0,U)_HBHCSP2_$E($P(HBHCDPT0,U,9),1,3)_"-"_$E($P(HBHCDPT0,U,9),4,5)_"-"_$E($P(HBHCDPT0,U,9),6,9)
"RTN","HBHCRP3",16,0)
 S HBHCHEAD="Patient:  "_HBHCINFO_"  Visit Data",HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP3",17,0)
 D:IO'=IO(0)!($D(IO("S"))) HDRRANGE^HBHCUTL
"RTN","HBHCRP3",18,0)
 I '$D(IO("S")),IO=IO(0) S HBHCCC=HBHCCC+1 D HDRRANGE^HBHCUTL
"RTN","HBHCRP3",19,0)
LOOP ; Loop thru ^HBHC(632) "B" cross-ref to build report
"RTN","HBHCRP3",20,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(632,"B",HBHCDPT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(632,HBHCDFN,0) D:$P(HBHCNOD0,U,7)="" PROCESS
"RTN","HBHCRP3",21,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP3",22,0)
EXIT ; Exit module
"RTN","HBHCRP3",23,0)
 D ^%ZISC
"RTN","HBHCRP3",24,0)
 K DIC,HBHCBEG1,HBHCBEG2,HBHCCC,HBHCCOLM,HBHCCPT,HBHCCPTA,HBHCDFN,HBHCDPT,HBHCDPT0,HBHCEND1,HBHCEND2,HBHCHEAD,HBHCI,HBHCINFO,HBHCJ,HBHCMSG,HBHCNOD0,HBHCPAGE,HBHCPRV,HBHCSP2,HBHCTDY,HBHCY,HBHCZ,X,Y
"RTN","HBHCRP3",25,0)
 Q
"RTN","HBHCRP3",26,0)
PROCESS ; Process record
"RTN","HBHCRP3",27,0)
 Q:($E($P(HBHCNOD0,U,2),1,7)<HBHCBEG1)!($E($P(HBHCNOD0,U,2),1,7)>HBHCEND1)
"RTN","HBHCRP3",28,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<8) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP3",29,0)
 S HBHCPRV=$S($P(HBHCNOD0,U,4)]"":$E($P(^VA(200,$P(^HBHC(631.4,$P(HBHCNOD0,U,4),0),U,2),0),U),1,23),1:"")
"RTN","HBHCRP3",30,0)
 D WRITE,DX^HBHCUTL3,DX80^HBHCUTL3,CPT^HBHCUTL3,CPT80
"RTN","HBHCRP3",31,0)
 Q
"RTN","HBHCRP3",32,0)
WRITE ; Write record info
"RTN","HBHCRP3",33,0)
 W !,"Visit Date:  ",$S($P(HBHCNOD0,U,2)]"":$E($P(HBHCNOD0,U,2),4,5)_"-"_$E($P(HBHCNOD0,U,2),6,7)_"-"_(1700+$E($P(HBHCNOD0,U,2),1,3)),1:""),?27,"Prov No.:  ",$P(^HBHC(631.4,$P(HBHCNOD0,U,4),0),U),?45,"Prov Name:  ",HBHCPRV
"RTN","HBHCRP3",34,0)
 Q
"RTN","HBHCRP3",35,0)
CPT80 ; Print CPT info in 80 column format
"RTN","HBHCRP3",36,0)
 S HBHCI=0 F  S HBHCI=$O(HBHCCPTA(HBHCI)) Q:HBHCI'>0  D:(IOSL-$Y)<8 HDRCONT W !,"CPT Code:  ",?13,HBHCCPTA(HBHCI) S HBHCJ=0 F  S HBHCJ=$O(HBHCCPTA(HBHCI,HBHCJ)) Q:HBHCJ'>0  W !,"  Modifier:   - ",HBHCCPTA(HBHCI,HBHCJ)
"RTN","HBHCRP3",37,0)
 W !,HBHCY
"RTN","HBHCRP3",38,0)
 Q
"RTN","HBHCRP3",39,0)
HDRCONT ; Print header info when record continued to new page
"RTN","HBHCRP3",40,0)
 W @IOF D HDRRANGE^HBHCUTL W !,HBHCMSG,!
"RTN","HBHCRP3",41,0)
 Q
"RTN","HBHCRP4")
0^4^B24436870
"RTN","HBHCRP4",1,0)
HBHCRP4 ; LR VAMC(IRMS)/MJT-HBHC report on file 632, visit data by date range, sorted alphabetically by provider, then by visit date, includes all fields, & total ; Jan 2000
"RTN","HBHCRP4",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,8,15,16,14**;NOV 01, 1993
"RTN","HBHCRP4",3,0)
 ; calls PROV^HBHCUTL2, EN^HBHCUTL2, TOT^HBHCUTL2, FTOT^HBHCUTL2, DX^HBHCUTL3, CPT^HBHCUTL3
"RTN","HBHCRP4",4,0)
 D PROV^HBHCUTL2,EN^HBHCUTL2
"RTN","HBHCRP4",5,0)
 G:(%=-1)!($D(DTOUT))!($D(DUOUT)) EXIT
"RTN","HBHCRP4",6,0)
 D START^HBHCUTL
"RTN","HBHCRP4",7,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP4",8,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP4",9,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP4",ZTDESC="HBPC Visit Data Date Range Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP4",10,0)
DQ ; De-queue
"RTN","HBHCRP4",11,0)
 U IO
"RTN","HBHCRP4",12,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP4",13,0)
 S HBHCTEXT="  Modifier:   - ",HBHCTXT="Visit",HBHCONE=1,(HBHCFTOT,HBHCTOT)=0,$P(HBHCY,"-",81)="",HBHCMSG="(continued from previous page...)",HBHCHEAD="Visit Data by Date Range",HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP4",14,0)
LOOP ; Loop thru ^HBHC(632) "C" (visit date) cross-ref to build report
"RTN","HBHCRP4",15,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCDATE=X_.9999
"RTN","HBHCRP4",16,0)
 F  S HBHCDATE=$O(^HBHC(632,"C",HBHCDATE)) Q:(HBHCDATE="")!($P(HBHCDATE,".")>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(632,"C",HBHCDATE,HBHCDFN)) Q:HBHCDFN=""  D PROCESS
"RTN","HBHCRP4",17,0)
 I '$D(^TMP("HBHC",$J)) K HBHCNAM D HDRRANGE^HBHCUTL W !!,"No Visits found for Date Range selected."
"RTN","HBHCRP4",18,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP I '$D(HBHCPRVL) S HBHCTXT="All Providers Visit" D FTOT^HBHCUTL2
"RTN","HBHCRP4",19,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP4",20,0)
EXIT ; Exit module
"RTN","HBHCRP4",21,0)
 D ^%ZISC
"RTN","HBHCRP4",22,0)
 K DIC,DTOUT,DUOUT,HBHCBEG1,HBHCBEG2,HBHCCC,HBHCCLM1,HBHCCOLM,HBHCCPT,HBHCCPTA,HBHCDATE,HBHCDFN,HBHCDPT0,HBHCEND1,HBHCEND2,HBHCFILE,HBHCFTOT,HBHCHEAD,HBHCI,HBHCJ,HBHCMSG,HBHCNAM,HBHCNOD0,HBHCONE,HBHCPAGE,HBHCPRV,HBHCPRVL
"RTN","HBHCRP4",23,0)
 K HBHCSUB,HBHCTDY,HBHCTEXT,HBHCTMP,HBHCTOT,HBHCTXT,HBHCWHO,HBHCWHOC,HBHCWHOS,HBHCXREF,HBHCY,HBHCZ,X,X1,X2,Y,^TMP("HBHC",$J),%
"RTN","HBHCRP4",24,0)
 Q
"RTN","HBHCRP4",25,0)
PROCESS ; Process record & create ^TMP("HBHC",$J global
"RTN","HBHCRP4",26,0)
 S HBHCNOD0=^HBHC(632,HBHCDFN,0),HBHCDPT0=^DPT($P(HBHCNOD0,U),0)
"RTN","HBHCRP4",27,0)
 Q:$P(HBHCNOD0,U,7)]""  ; Q if cancelled appointment
"RTN","HBHCRP4",28,0)
 Q:($D(HBHCPRVL))&('$D(HBHCPRVL($P(HBHCNOD0,U,4))))  ; Q if not selected provider
"RTN","HBHCRP4",29,0)
 S HBHCPRV=$S($P(HBHCNOD0,U,4)]"":$E($P(^VA(200,$P(^HBHC(631.4,$P(HBHCNOD0,U,4),0),U,2),0),U),1,23)_"  ("_$P(^HBHC(631.4,$P(HBHCNOD0,U,4),0),U)_")",1:"None")
"RTN","HBHCRP4",30,0)
 S ^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,1)=$E($P(HBHCDPT0,U),1,21)_U_$E($P(HBHCDPT0,U,9),6,9)
"RTN","HBHCRP4",31,0)
 D DX^HBHCUTL3
"RTN","HBHCRP4",32,0)
 ; Note use of "DX" as subscript
"RTN","HBHCRP4",33,0)
 S (HBHCSUB,HBHCI)=0 F  S HBHCI=$O(HBHCDX(HBHCI)) Q:HBHCI'>0  S HBHCSUB=HBHCSUB+1,^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,"DX",HBHCI)=HBHCDX(HBHCI)
"RTN","HBHCRP4",34,0)
 D CPT^HBHCUTL3
"RTN","HBHCRP4",35,0)
 ; HBHCSUB must be initialized to 1, since node 1 is hardcoded above
"RTN","HBHCRP4",36,0)
 S HBHCSUB=1,HBHCI=0 F  S HBHCI=$O(HBHCCPTA(HBHCI)) Q:HBHCI'>0  S HBHCSUB=HBHCSUB+1,^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,HBHCSUB)=HBHCCPTA(HBHCI) S HBHCJ=0 F  S HBHCJ=$O(HBHCCPTA(HBHCI,HBHCJ)) Q:HBHCJ'>0  D SETMOD
"RTN","HBHCRP4",37,0)
 Q
"RTN","HBHCRP4",38,0)
SETMOD ; Set TMP global with CPT Modifier info
"RTN","HBHCRP4",39,0)
 S ^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,HBHCSUB,HBHCJ)=HBHCCPTA(HBHCI,HBHCJ)
"RTN","HBHCRP4",40,0)
 Q
"RTN","HBHCRP4",41,0)
PRTLOOP ; Print loop
"RTN","HBHCRP4",42,0)
 S HBHCPRV=""
"RTN","HBHCRP4",43,0)
 F  S HBHCPRV=$O(^TMP("HBHC",$J,HBHCPRV)) D TOT Q:HBHCPRV=""  D HDR S HBHCDATE="" F  S HBHCDATE=$O(^TMP("HBHC",$J,HBHCPRV,HBHCDATE)) Q:HBHCDATE=""  S HBHCDFN="" F  S HBHCDFN=$O(^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN)) Q:HBHCDFN=""  D PRINT
"RTN","HBHCRP4",44,0)
 Q
"RTN","HBHCRP4",45,0)
PRINT ; Print report
"RTN","HBHCRP4",46,0)
 K HBHCTMP
"RTN","HBHCRP4",47,0)
 S HBHCTMP(1)=^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,1)
"RTN","HBHCRP4",48,0)
 W !,"Visit Date:  ",$E(HBHCDATE,4,5)_"-"_$E(HBHCDATE,6,7)_"-"_(1700+$E(HBHCDATE,1,3)),?26,"Patient Name:  ",$P(HBHCTMP(1),U),?67,"Last 4:  ",$P(HBHCTMP(1),U,2) S HBHCTOT=HBHCTOT+1
"RTN","HBHCRP4",49,0)
 S HBHCI=0 F  S HBHCI=$O(^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,"DX",HBHCI)) Q:HBHCI'>0  D NEWPAGE W ! W:HBHCI=1 "Diagnosis:   " W ?13,^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,"DX",HBHCI)
"RTN","HBHCRP4",50,0)
 ; HBHCI must be initialized to 1, since node 1 is hardcoded above
"RTN","HBHCRP4",51,0)
 S HBHCI=1
"RTN","HBHCRP4",52,0)
 F  S HBHCI=$O(^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,HBHCI)) Q:HBHCI'>0  D CPTPRT S HBHCJ=0 F  S HBHCJ=$O(^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,HBHCI,HBHCJ)) Q:HBHCJ'>0  W !,HBHCTEXT,^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,HBHCI,HBHCJ)
"RTN","HBHCRP4",53,0)
 W !,HBHCY
"RTN","HBHCRP4",54,0)
 Q
"RTN","HBHCRP4",55,0)
HDR ; Report header setup
"RTN","HBHCRP4",56,0)
 S HBHCPAGE=0,HBHCNAM=HBHCPRV,HBHCCLM1=(80-(16+$L(HBHCNAM))\2) S:HBHCCLM1'>0 HBHCCLM1=1
"RTN","HBHCRP4",57,0)
 W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP4",58,0)
 Q 
"RTN","HBHCRP4",59,0)
TOT ; Print total
"RTN","HBHCRP4",60,0)
 Q:HBHCTOT=0
"RTN","HBHCRP4",61,0)
 D TOT^HBHCUTL2
"RTN","HBHCRP4",62,0)
 Q
"RTN","HBHCRP4",63,0)
CPTPRT ; CPT print
"RTN","HBHCRP4",64,0)
 D NEWPAGE
"RTN","HBHCRP4",65,0)
 W ! W:HBHCI=2 "CPT Code:  "  W ?13,^TMP("HBHC",$J,HBHCPRV,HBHCDATE,HBHCDFN,HBHCI)
"RTN","HBHCRP4",66,0)
 Q
"RTN","HBHCRP4",67,0)
NEWPAGE ; Check if new page needed
"RTN","HBHCRP4",68,0)
 I ((IOSL-$Y)<8) W @IOF D HDRRANGE^HBHCUTL W !,HBHCMSG,!
"RTN","HBHCRP4",69,0)
 Q
"RTN","HBHCRP6")
0^18^B499415
"RTN","HBHCRP6",1,0)
HBHCRP6 ; LR VAMC(IRMS)/MJT-HBHC rpt, file 631, All or multi case mgr census by date range, includes: Case Manager, Pat Name, SSN, Adm Date, Address, City, ZIP Code, & Phone, Totals for Case Mgr & All, calls EN^HBHCUTL2 & EN2^HBHCUTL2 ; Aug 2000
"RTN","HBHCRP6",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**16,14**;NOV 01, 1993
"RTN","HBHCRP6",3,0)
 S HBHCWHO="case manager",HBHCWHOS="case managers",HBHCWHOC="Case Manager",HBHCFILE=631,HBHCXREF="AD",HBHCC=24
"RTN","HBHCRP6",4,0)
 D EN^HBHCUTL2,EN2^HBHCUTL2
"RTN","HBHCRP6",5,0)
EXIT ; Exit module
"RTN","HBHCRP6",6,0)
 Q
"RTN","HBHCRP9")
0^19^B129336
"RTN","HBHCRP9",1,0)
HBHCRP9 ; LR VAMC(IRMS)/MJT-HBHC rpt, file 632, All or multi prov census by date range, includes: Prov, Pt Name, SSN, Adm Date, Address, City, ZIP Code, & Phone, Totals for Prov & All, calls PROV^HBHCUTL2, EN^HBHCUTL2, & EN2^HBHCUTL2 ; Aug 2000
"RTN","HBHCRP9",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**16,14**;NOV 01, 1993
"RTN","HBHCRP9",3,0)
 S HBHCC=20,HBHCFILE=632,HBHCXREF="C"
"RTN","HBHCRP9",4,0)
 D PROV^HBHCUTL2,EN^HBHCUTL2,EN2^HBHCUTL2
"RTN","HBHCRP9",5,0)
EXIT ; Exit module
"RTN","HBHCRP9",6,0)
 Q
"RTN","HBHCUTL2")
0^17^B31647509
"RTN","HBHCUTL2",1,0)
HBHCUTL2 ; LR VAMC(IRMS)/MJT-HBHC Utility module, Entry points:  PROV, EN, EN2, TOT, & FTOT (see line labels for called by routines) ; Aug 2000
"RTN","HBHCUTL2",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,16,14**;NOV 01, 1993
"RTN","HBHCUTL2",3,0)
PROV ; Provider variable setup, called by ^HBHCRP4, ^HBHCRP9, ^HBHCRP22
"RTN","HBHCUTL2",4,0)
 S HBHCWHO="provider",HBHCWHOS="providers",HBHCWHOC="Provider"
"RTN","HBHCUTL2",5,0)
 Q
"RTN","HBHCUTL2",6,0)
EN ; Entry point called by ^HBHCRP4, ^HBHCRP6, ^HBHCRP9, & ^HBHCRP22
"RTN","HBHCUTL2",7,0)
 S HBHCCC=0
"RTN","HBHCUTL2",8,0)
 W !!,"Do you wish to include ALL ",HBHCWHOS," on the report" S %=1 D YN^DICN
"RTN","HBHCUTL2",9,0)
 W !
"RTN","HBHCUTL2",10,0)
 I %=0 W !!,"A 'Yes' response will include ALL "_HBHCWHOS_".  A 'No' response will",!,"prompt for an individual "_HBHCWHO_" name." G EN
"RTN","HBHCUTL2",11,0)
 I %=2 K DIC S DIC="^HBHC(631.4,",DIC(0)="AEMQ",DIC("A")="Select HBPC "_HBHCWHOC_": ",DIC("S")="I $P(^HBHC(631.4,Y,0),U,7)="""""
"RTN","HBHCUTL2",12,0)
ENPRV ; Enter provider prompt
"RTN","HBHCUTL2",13,0)
 I %=2 D ^DIC S:+Y>0 HBHCPRVL(+Y)="" G:Y>0 ENPRV
"RTN","HBHCUTL2",14,0)
 Q
"RTN","HBHCUTL2",15,0)
EN2 ; Entry point 2 called by ^HBHCRP6 & ^HBHCRP9
"RTN","HBHCUTL2",16,0)
 D START^HBHCUTL
"RTN","HBHCUTL2",17,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCUTL2",18,0)
 S %ZIS="Q" K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCUTL2",19,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCUTL2",ZTDESC="HBPC "_HBHCWHOC_" Census Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCUTL2",20,0)
DQ ; De-queue
"RTN","HBHCUTL2",21,0)
 U IO
"RTN","HBHCUTL2",22,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCUTL2",23,0)
 S $P(HBHCY,"-",133)="",$P(HBHCZ,"=",133)="",HBHCTXT="Case Census",HBHCHEAD=HBHCWHOC_" Census",HBHCHDR="W !,""Patient Name"",?28,""SSN"",?41,""Date"",?51,""Street Address"",?83,""City"",?100,""ZIP Code"",?112,""Phone"""
"RTN","HBHCUTL2",24,0)
 S HBHCCOLM=(132-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1 S (HBHCTOT,HBHCFTOT)=0
"RTN","HBHCUTL2",25,0)
 D TODAY^HBHCUTL
"RTN","HBHCUTL2",26,0)
LOOP ; Loop thru ^HBHC(631) "AD" (Admission Date) cross-ref to build report for case manager report or thru ^HBHC(632) "C" (Visit Date) for provider report
"RTN","HBHCUTL2",27,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCDATE=X
"RTN","HBHCUTL2",28,0)
 F  S HBHCDATE=$O(^HBHC(HBHCFILE,HBHCXREF,HBHCDATE)) Q:(HBHCDATE="")!(HBHCDATE>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(HBHCFILE,HBHCXREF,HBHCDATE,HBHCDFN)) Q:HBHCDFN=""  D PROCESS
"RTN","HBHCUTL2",29,0)
 I '$D(^TMP("HBHC",$J)) K HBHCNAM D HDR132^HBHCUTL W !!,"No data found for "_HBHCWHOC_" by Date Range selected."
"RTN","HBHCUTL2",30,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP D:'$D(HBHCPRVL) FTOT
"RTN","HBHCUTL2",31,0)
 D END132^HBHCUTL1
"RTN","HBHCUTL2",32,0)
EXIT ; Exit module
"RTN","HBHCUTL2",33,0)
 D ^%ZISC
"RTN","HBHCUTL2",34,0)
 K DIC,DTOUT,DUOUT,HBHCADDT,HBHCBEG1,HBHCBEG2,HBHCC,HBHCCC,HBHCCLM1,HBHCCOLM,HBHCDATE,HBHCDFN,HBHCDPT0,HBHCDPTA,HBHCEND1,HBHCEND2,HBHCFILE,HBHCFTOT,HBHCHDR,HBHCHEAD,HBHCNAM,HBHCNBR,HBHCNDX,HBHCNM,HBHCNOD0,HBHCNOD1,HBHCPAGE
"RTN","HBHCUTL2",35,0)
 K HBHCPHON,HBHCPRV,HBHCPRVL,HBHCSSN,HBHCTDY,HBHCTMP,HBHCTOT,HBHCTXT,HBHCWHO,HBHCWHOC,HBHCWHOS,HBHCXREF,HBHCY,HBHCZ,HBHCZIP,X,Y,^TMP("HBHC",$J),%
"RTN","HBHCUTL2",36,0)
 Q
"RTN","HBHCUTL2",37,0)
PROCESS ; Process record & create ^TMP("HBHC",$J global
"RTN","HBHCUTL2",38,0)
 S HBHCNOD0=^HBHC(HBHCFILE,HBHCDFN,0),HBHCNOD1=$G(^HBHC(HBHCFILE,HBHCDFN,1))
"RTN","HBHCUTL2",39,0)
 ; Q if no case manager or not selected case manager 
"RTN","HBHCUTL2",40,0)
 I HBHCFILE=631 Q:$P(HBHCNOD1,U,13)=""  Q:($D(HBHCPRVL))&('$D(HBHCPRVL($P(HBHCNOD1,U,13))))
"RTN","HBHCUTL2",41,0)
 I HBHCFILE=631 Q:(($P(HBHCNOD0,U,40)]"")&($P(HBHCNOD0,U,40)<HBHCEND1))!($P(HBHCNOD0,U,15)=2)!($P(HBHCNOD1,U,13)="")  S HBHCADDT=$E(HBHCDATE,4,5)_"-"_$E(HBHCDATE,6,7)_"-"_$E(HBHCDATE,2,3)
"RTN","HBHCUTL2",42,0)
 I HBHCFILE=632 Q:$P(HBHCNOD0,U,4)=""  Q:($D(HBHCPRVL))&('$D(HBHCPRVL($P(HBHCNOD0,U,4))))  ; Q if not selected provider
"RTN","HBHCUTL2",43,0)
 I HBHCFILE=632 S (HBHCNBR,HBHCNDX)="" F  S HBHCNBR=$O(^HBHC(631,"B",+HBHCNOD0,HBHCNBR)) Q:HBHCNBR=""  S HBHCNDX=HBHCNBR
"RTN","HBHCUTL2",44,0)
 I HBHCFILE=632 Q:HBHCNDX=""  Q:(($P(^HBHC(631,HBHCNDX,0),U,40)]"")&($P(^HBHC(631,HBHCNDX,0),U,40)<HBHCEND1))!($P(^HBHC(631,HBHCNDX,0),U,15)=2)
"RTN","HBHCUTL2",45,0)
 I HBHCFILE=632 S HBHCADDT=$P(^HBHC(631,HBHCNDX,0),U,18),HBHCADDT=$E(HBHCADDT,4,5)_"-"_$E(HBHCADDT,6,7)_"-"_$E(HBHCADDT,2,3) Q:$P(HBHCNOD0,U,4)=""
"RTN","HBHCUTL2",46,0)
 S HBHCNAM=$S(HBHCFILE=631:$P(^VA(200,$P(^HBHC(631.4,$P(HBHCNOD1,U,13),0),U,2),0),U)_"  ("_$P(^HBHC(631.4,$P(HBHCNOD1,U,13),0),U)_")",1:$P(^VA(200,$P(^HBHC(631.4,$P(HBHCNOD0,U,4),0),U,2),0),U)_"  ("_$P(^HBHC(631.4,$P(HBHCNOD0,U,4),0),U)_")")
"RTN","HBHCUTL2",47,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0),HBHCDPTA=$G(^DPT($P(HBHCNOD0,U),.11))
"RTN","HBHCUTL2",48,0)
 S HBHCSSN=$E($P(HBHCDPT0,U,9),1,3)_"-"_$E($P(HBHCDPT0,U,9),4,5)_"-"_$E($P(HBHCDPT0,U,9),6,9),HBHCNM=$E($P(HBHCDPT0,U),1,26)
"RTN","HBHCUTL2",49,0)
 S HBHCZIP=$S(($P(HBHCDPTA,U,12)]""):$E($P(HBHCDPTA,U,12),1,5)_$S($E($P(HBHCDPTA,U,12),6,9)]"":"-"_$E($P(HBHCDPTA,U,12),6,9),1:""),1:$E($P(HBHCDPTA,U,6),1,5)_$S($E($P(HBHCDPTA,U,6),6,9)]"":"-"_$E($P(HBHCDPTA,U,6),6,9),1:""))
"RTN","HBHCUTL2",50,0)
 S HBHCPHON=$P($G(^DPT($P(HBHCNOD0,U),.13)),U) S:HBHCPHON?7N HBHCPHON=$E(HBHCPHON,1,3)_"-"_$E(HBHCPHON,4,7) S:HBHCPHON?10N HBHCPHON="("_$E(HBHCPHON,1,3)_") "_$E(HBHCPHON,4,6)_"-"_$E(HBHCPHON,7,10)
"RTN","HBHCUTL2",51,0)
 S ^TMP("HBHC",$J,HBHCNAM,HBHCNM)=HBHCSSN_U_HBHCADDT_U_$P(HBHCDPTA,U)_U_$P(HBHCDPTA,U,2)_U_$P(HBHCDPTA,U,3)_U_$E($P(HBHCDPTA,U,4),1,15)_U_HBHCZIP_U_HBHCPHON
"RTN","HBHCUTL2",52,0)
 Q
"RTN","HBHCUTL2",53,0)
PRTLOOP ; Print loop
"RTN","HBHCUTL2",54,0)
 S HBHCPRV="" F  S HBHCPRV=$O(^TMP("HBHC",$J,HBHCPRV)) D:HBHCTOT>0 TOT Q:HBHCPRV=""  D HDR S HBHCNM="" F  S HBHCNM=$O(^TMP("HBHC",$J,HBHCPRV,HBHCNM)) Q:HBHCNM=""  D PRT
"RTN","HBHCUTL2",55,0)
 Q
"RTN","HBHCUTL2",56,0)
HDR ; Report header setup
"RTN","HBHCUTL2",57,0)
 S HBHCPAGE=0,HBHCNAM=HBHCPRV,HBHCCLM1=(132-(HBHCC+$L(HBHCNAM))\2) S:HBHCCLM1'>0 HBHCCLM1=1
"RTN","HBHCUTL2",58,0)
 W @IOF D HDR132^HBHCUTL
"RTN","HBHCUTL2",59,0)
 Q
"RTN","HBHCUTL2",60,0)
PRT ; Print report
"RTN","HBHCUTL2",61,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDR132^HBHCUTL
"RTN","HBHCUTL2",62,0)
 S HBHCTOT=HBHCTOT+1,HBHCTMP=^TMP("HBHC",$J,HBHCPRV,HBHCNM)
"RTN","HBHCUTL2",63,0)
 W !,HBHCNM,?28,$P(HBHCTMP,U),?41,$P(HBHCTMP,U,2),?51,$P(HBHCTMP,U,3),?83,$P(HBHCTMP,U,6),?100,$P(HBHCTMP,U,7),?112,$P(HBHCTMP,U,8)
"RTN","HBHCUTL2",64,0)
 W:$P(HBHCTMP,U,4)]"" !?51,$P(HBHCTMP,U,4)
"RTN","HBHCUTL2",65,0)
 W:$P(HBHCTMP,U,5)]"" !?51,$P(HBHCTMP,U,5)
"RTN","HBHCUTL2",66,0)
 W !,HBHCY
"RTN","HBHCUTL2",67,0)
 Q
"RTN","HBHCUTL2",68,0)
TOT ; Print case manager/provider total, called by ^HBHCRP4 & ^HBHCRP22
"RTN","HBHCUTL2",69,0)
 W !!,HBHCZ,!,HBHCWHOC_": "_HBHCNAM_"  "_HBHCTXT_" Total:  ",HBHCTOT,!,HBHCZ
"RTN","HBHCUTL2",70,0)
 S HBHCFTOT=HBHCFTOT+HBHCTOT,HBHCTOT=0
"RTN","HBHCUTL2",71,0)
 Q
"RTN","HBHCUTL2",72,0)
FTOT ; Print report final total, called by ^HBHCRP4 & ^HBHCRP22
"RTN","HBHCUTL2",73,0)
 K HBHCHDR,HBHCNAM S HBHCPAGE=0 W @IOF
"RTN","HBHCUTL2",74,0)
 ; for HBHCUTL2 calls (called from HBHCRP6 & HBHCRP9)
"RTN","HBHCUTL2",75,0)
 D:$L(HBHCZ)=132 HDR132^HBHCUTL
"RTN","HBHCUTL2",76,0)
 ; for HBHCRP4 & HBHCRP22 calls
"RTN","HBHCUTL2",77,0)
 D:$L(HBHCZ)=80 HDRRANGE^HBHCUTL
"RTN","HBHCUTL2",78,0)
 W !!,HBHCTXT_" Total:  ",HBHCFTOT,!!,HBHCZ
"RTN","HBHCUTL2",79,0)
 Q
"RTN","HBHCUTL3")
0^3^B9942489
"RTN","HBHCUTL3",1,0)
HBHCUTL3 ; LR VAMC(IRMS)/MJT-HBHC Utility module, Entry points:  PSEUDO, PCEMSG, DX, DX80, & CPT ; Jan 2000
"RTN","HBHCUTL3",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,8,10,15,16,14**;NOV 01, 1993
"RTN","HBHCUTL3",3,0)
PSEUDO ; Print pseudo SSN message
"RTN","HBHCUTL3",4,0)
 W *7,!!,"Patient visit records with pseudo social security numbers (SSNs) exist.",!,"Print the 'Pseudo Social Security Number Report' located on the HBHC Reports"
"RTN","HBHCUTL3",5,0)
 W !,"Menu to obtain a list of patients with invalid SSNs.  HBHC must determine",!,"what corrective action is appropriate to eliminate these records from the",!,"HBHC Information System.",!! H 5
"RTN","HBHCUTL3",6,0)
 Q
"RTN","HBHCUTL3",7,0)
PCEMSG ; Print PCE correction of errors message
"RTN","HBHCUTL3",8,0)
 W !!,"Note:  Please use Appointment Management to Correct Visit Errors.  Run",!?7,"Edit Form Errors Data option when corrections are complete."
"RTN","HBHCUTL3",9,0)
 Q
"RTN","HBHCUTL3",10,0)
DX ; Diagnosis (DX) info, HBHCDFN must be defined prior to call, returns code plus text in local array HBHCDX
"RTN","HBHCUTL3",11,0)
 K HBHCDX S $P(HBHCSP5," ",6)="",HBHCI=0
"RTN","HBHCUTL3",12,0)
 F  S HBHCI=$O(^HBHC(632,HBHCDFN,3,HBHCI)) Q:HBHCI'>0  S HBHCICDP=$P(^HBHC(632,HBHCDFN,3,HBHCI,0),U),HBHCICD0=^ICD9(HBHCICDP,0),HBHCDX(HBHCI)=$P(HBHCICD0,U)_$E(HBHCSP5,1,(8-$L($P(HBHCICD0,U))))_$P(HBHCICD0,U,3)
"RTN","HBHCUTL3",13,0)
 K HBHCI,HBHCICD0,HBHCICDP
"RTN","HBHCUTL3",14,0)
 Q
"RTN","HBHCUTL3",15,0)
DX80 ; Print DX info in 80 column format, HBHCDX( array must be defined prior to call
"RTN","HBHCUTL3",16,0)
 S (HBHCFLG,HBHCI)=0 F  S HBHCI=$O(HBHCDX(HBHCI)) Q:HBHCI'>0  W ! W:HBHCFLG=0 "Diagnosis:   " W:HBHCFLG=1 ?13  W HBHCDX(HBHCI) S HBHCFLG=1
"RTN","HBHCUTL3",17,0)
 K HBHCDX,HBHCFLG,HBHCI
"RTN","HBHCUTL3",18,0)
 Q
"RTN","HBHCUTL3",19,0)
CPT ; CPT code info, HBHCDFN must be defined prior to call, returns code plus text in local array HBHCCPTA
"RTN","HBHCUTL3",20,0)
 K HBHCCPTA S $P(HBHCSP3," ",4)="",HBHCI=0 F  S HBHCI=$O(^HBHC(632,HBHCDFN,2,HBHCI)) Q:HBHCI'>0  S HBHCCPT=$$CPT^ICPTCOD(^HBHC(632,HBHCDFN,2,HBHCI,0)),HBHCCPTA(HBHCI)=$P(HBHCCPT,U,2)_HBHCSP3_$P(HBHCCPT,U,3) D CPTMOD
"RTN","HBHCUTL3",21,0)
 K HBHCCPT,HBHCI,HBHCJ,HBHCMOD,HBHCSP3
"RTN","HBHCUTL3",22,0)
 Q
"RTN","HBHCUTL3",23,0)
CPTMOD ; Process CPT Modifier code plus text into local array HBHCCPTA(HBHCCPT,HBHCJ)
"RTN","HBHCUTL3",24,0)
 S HBHCJ=0 F  S HBHCJ=$O(^HBHC(632,HBHCDFN,2,HBHCI,1,HBHCJ)) Q:HBHCJ'>0  S HBHCMOD=$$MOD^ICPTMOD($P(^HBHC(632,HBHCDFN,2,HBHCI,1,HBHCJ,0),U),"I"),HBHCCPTA(HBHCI,HBHCJ)=$P(HBHCMOD,U,2)_HBHCSP3_$P(HBHCMOD,U,3)
"RTN","HBHCUTL3",25,0)
 Q
"RTN","HBHCXMA1")
0^13^B8839737
"RTN","HBHCXMA1",1,0)
HBHCXMA1 ; LR VAMC(IRMS)/MJT-HBHC, called by ^HBHCXMA, entry points: START, ERROR, EXIT ; Jul 2000
"RTN","HBHCXMA1",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,6,14**;NOV 01, 1993
"RTN","HBHCXMA1",3,0)
START ; Initialization
"RTN","HBHCXMA1",4,0)
 W !,"Processing Admission/Form 3 Data"
"RTN","HBHCXMA1",5,0)
 S HBHCFORM=3,$P(HBHCSP1," ",2)="",$P(HBHCSP2," ",3)="",$P(HBHCSP4," ",5)="",$P(HBHCSP6," ",7)="",$P(HBHCSP8," ",9)="",$P(HBHCSP18," ",19)="",HBHCLNTH=30
"RTN","HBHCXMA1",6,0)
 S HBHCHOSP=$P($G(^DIC(4,$P(^HBHC(631.9,1,0),U,5),99)),U) S:$L(HBHCHOSP)'=7 HBHCHOSP=HBHCHOSP_$E(HBHCSP4,1,(7-($L(HBHCHOSP))))
"RTN","HBHCXMA1",7,0)
 S HBHCFLD1="HBHCMARE^HBHCLIVE^HBHCCARE^HBHCTYPE"
"RTN","HBHCXMA1",8,0)
 S HBHCFLD2="HBHCVISA^HBHCHERA^HBHCEXCA^HBHCRECA^HBHCBTHA^HBHCDRSA^HBHCTLTA^HBHCTRNA^HBHCEATA^HBHCWLKA^HBHCBWLA^HBHCBLDA^HBHCMOBA^HBHCADTA^HBHCBHVA^HBHCDSOA^HBHCMODA^HBHCLMTA"
"RTN","HBHCXMA1",9,0)
 K %DT S X="T" D ^%DT S HBHCTDY=Y
"RTN","HBHCXMA1",10,0)
 Q
"RTN","HBHCXMA1",11,0)
ERROR ; Set node in ^HBHC(634.1) if data is incomplete or proper fields invalid for 'Admit/Reject Action'
"RTN","HBHCXMA1",12,0)
 L +^HBHC(634.1,0) S HBHCNDX2=$P(^HBHC(634.1,0),U,3)+1,$P(^HBHC(634.1,0),U,3)=HBHCNDX2,$P(^HBHC(634.1,0),U,4)=$P(^HBHC(634.1,0),U,4)+1 L -^HBHC(634.1,0)
"RTN","HBHCXMA1",13,0)
 S ^HBHC(634.1,HBHCNDX2,0)=$P(HBHCINFO,U)_U_HBHCDFN,^HBHC(634.1,HBHCNDX2,1)=HBHCDR,^HBHC(634.1,"B",$P(HBHCINFO,U),HBHCNDX2)=""
"RTN","HBHCXMA1",14,0)
 Q
"RTN","HBHCXMA1",15,0)
EXIT ; Exit module => cleanup for HBHCXMA
"RTN","HBHCXMA1",16,0)
 K HBHCACTN,HBHCADDT,HBHCADTA,HBHCAFLG,HBHCBHVA,HBHCBLDA,HBHCBTHA,HBHCBWLA,HBHCBYR,HBHCCARE,HBHCCNTY,HBHCDATE,HBHCDFN,HBHCDPT0,HBHCDR,HBHCDRSA,HBHCDSOA,HBHCEATA,HBHCELGE,HBHCEXCA,HBHCFLD,HBHCFLD1,HBHCFLD2,HBHCFLG,HBHCFORM
"RTN","HBHCXMA1",17,0)
 K HBHCHERA,HBHCHOSP,HBHCI,HBHCICDA,HBHCINFO,HBHCJ,HBHCK,HBHCLIVE,HBHCLMTA,HBHCLNTH,HBHCMARE,HBHCMOBA,HBHCMODA,HBHCNAME,HBHCNDX1,HBHCNDX2,HBHCPSRV,HBHCRACE,HBHCRC,HBHCREC,HBHCRECA,HBHCREJ,HBHCREJD,HBHCRFIN,HBHCRFLG
"RTN","HBHCXMA1",18,0)
 K HBHCSEX,HBHCSP1,HBHCSP18,HBHCSP2,HBHCSP4,HBHCSP6,HBHCSP8,HBHCSSN,HBHCST,HBHCSX,HBHCTDY,HBHCTLTA,HBHCTRNA,HBHCTYPE,HBHCVISA,HBHCWLKA,HBHCXMT3,HBHCZIP,X,Y,%DT
"RTN","HBHCXMA1",19,0)
 Q
"RTN","HBHCXMV")
0^6^B18338581
"RTN","HBHCXMV",1,0)
HBHCXMV ; LR VAMC(IRMS)/MJT-HBHC populate ^HBHC(634 with Visit Data, or ^HBHC(634.5, file of recs in ^HBHC(632 w/pseudo SSNs, called by ^HBHCFILE, calls HBHCXMV1 ; Oct 2000
"RTN","HBHCXMV",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,5,6,9,12,15,17,14**;NOV 01, 1993
"RTN","HBHCXMV",3,0)
 D START^HBHCXMV1
"RTN","HBHCXMV",4,0)
LOOP ; Loop thru ^HBHC(632) "AC","N" cross-ref to create nodes in ^HBHC(634) => transmit
"RTN","HBHCXMV",5,0)
 S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(632,"AC","N",HBHCDFN)) Q:HBHCDFN=""  D SETNODE
"RTN","HBHCXMV",6,0)
EXIT ; Exit module
"RTN","HBHCXMV",7,0)
 D EXIT^HBHCXMV1
"RTN","HBHCXMV",8,0)
 Q
"RTN","HBHCXMV",9,0)
SETNODE ; Set node in ^HBHC(634) (Transmit)
"RTN","HBHCXMV",10,0)
 S HBHCINFO=^HBHC(632,HBHCDFN,0),HBHCXMT4=$P(HBHCINFO,U,8),HBHCAPDT=$P(HBHCINFO,U,2),HBHCSSN=$P(^DPT($P(HBHCINFO,U),0),U,9)
"RTN","HBHCXMV",11,0)
 Q:$P(HBHCINFO,U,7)]""  ; cancelled/no show appointment
"RTN","HBHCXMV",12,0)
 Q:HBHCAPDT>HBHCLSDT  ; Visit appointment date > HBHCLSDT (last date to include in transmit set up in ^HBHCFILE)
"RTN","HBHCXMV",13,0)
 I HBHCAPDT<2961001 D PCE^HBHCXMV1 Q
"RTN","HBHCXMV",14,0)
 I HBHCSSN'?9N D PSSN^HBHCXMV1 Q
"RTN","HBHCXMV",15,0)
 S HBHCPRV=+^HBHC(631.4,$P(HBHCINFO,U,4),0) S:$L(HBHCPRV)'=4 HBHCPRV=HBHCPRV_HBHCSP1
"RTN","HBHCXMV",16,0)
 S HBHCTIME=$P(HBHCAPDT,".",2) S:$L(HBHCTIME)<4 HBHCTIME=HBHCTIME_$E(HBHCZRO4,1,(4-($L(HBHCTIME)))) S:$L(HBHCTIME)>4 HBHCTIME=$E(HBHCTIME,1,4)
"RTN","HBHCXMV",17,0)
 S HBHCDATE=$E(HBHCAPDT,4,5)_$E(HBHCAPDT,6,7)_(1700+$E(HBHCAPDT,1,3))_HBHCTIME
"RTN","HBHCXMV",18,0)
 S HBHCLNME=$P($P(^DPT($P(HBHCINFO,U),0),U),",") S:$L(HBHCLNME)'=11 HBHCLNME=$S($L(HBHCLNME)<11:HBHCLNME_$E(HBHCSP10,1,11-$L(HBHCLNME)),1:$E(HBHCLNME,1,11))
"RTN","HBHCXMV",19,0)
 S HBHCQAI=$S(($L($P(HBHCINFO,U,16))=1)&($E(HBHCINFO,U,16)=""):HBHCSP1_$P(HBHCINFO,U,16),($L($P(HBHCINFO,U,16))=1)&($E(HBHCINFO,U,16)]""):$P(HBHCINFO,U,16)_HBHCSP1,$L($P(HBHCINFO,U,16))=2:$P(HBHCINFO,U,16),1:HBHCSP2)
"RTN","HBHCXMV",20,0)
DX ; Dx
"RTN","HBHCXMV",21,0)
 D INIT,DX^HBHCUTL3
"RTN","HBHCXMV",22,0)
 S HBHCL=0 F  S HBHCL=$O(HBHCDX(HBHCL)) Q:HBHCL'>0  S HBHCDX=$P(HBHCDX(HBHCL),"  "),HBHCDX=$P(HBHCDX,".")_$P(HBHCDX,".",2) S HBHCDX(HBHCL)=$S($L(HBHCDX)'=6:HBHCDX_$E(HBHCSP6,1,6-$L(HBHCDX)),1:HBHCDX)
"RTN","HBHCXMV",23,0)
 ; Note:  HBHCI initialized here vs in CPT loop, since need HBHCI to continue for each 10 CPT code iteration
"RTN","HBHCXMV",24,0)
 S (HBHCFLAG,HBHCI,HBHCL)=0 F  S HBHCL=$O(HBHCDX(HBHCL)) Q:HBHCL'>0  S HBHCCNT1=HBHCCNT1+1,@("HBHCDX"_HBHCCNT1)=HBHCDX(HBHCL) D:(HBHCCNT1=5)&('HBHCFLAG) CPT D:HBHCCNT1=5 WRITE
"RTN","HBHCXMV",25,0)
 F  D:'HBHCFLAG CPT D WRITE Q:HBHCFLAG
"RTN","HBHCXMV",26,0)
 Q
"RTN","HBHCXMV",27,0)
CPT ; CPT Codes
"RTN","HBHCXMV",28,0)
 F HBHCCNT=1:1:10 S HBHCI=$O(^HBHC(632,HBHCDFN,2,HBHCI)) Q:HBHCI'>0  S HBHCNOD2=^HBHC(632,HBHCDFN,2,HBHCI,0) D SET
"RTN","HBHCXMV",29,0)
 S:HBHCI'>0 HBHCFLAG=1
"RTN","HBHCXMV",30,0)
 Q
"RTN","HBHCXMV",31,0)
SET ; Set CPT variables
"RTN","HBHCXMV",32,0)
 I HBHCCNT<10 S @("HBHCCPT"_HBHCCNT)=$S($P(HBHCNOD2,U)]"":$E($P($G(^ICPT($P(HBHCNOD2,U),0)),U),1,5),1:HBHCSP5) S:$L(@("HBHCCPT"_HBHCCNT))'=5 @("HBHCCPT"_HBHCCNT)=@("HBHCCPT"_HBHCCNT)_$E(HBHCSP5,1,5-$L(@("HBHCCPT"_HBHCCNT)))
"RTN","HBHCXMV",33,0)
 I HBHCCNT=10 S HBHCCP10=$S($P(HBHCNOD2,U)]"":$E($P($G(^ICPT($P(HBHCNOD2,U),0)),U),1,5),1:HBHCSP5) S:$L(HBHCCP10)'=5 HBHCCP10=HBHCCP10_$E(HBHCSP5,1,5-$L(HBHCCP10))
"RTN","HBHCXMV",34,0)
 Q
"RTN","HBHCXMV",35,0)
WRITE ; Write transmit record, separate records containing max 5 DX & 10 CPTs each are generated for same visit if > 5 DX or > 10 CPTs exist
"RTN","HBHCXMV",36,0)
 Q:(HBHCDX1=HBHCSP6)&(HBHCCPT1=HBHCSP5)
"RTN","HBHCXMV",37,0)
 L +^HBHC(634,0) S HBHCNDX1=$P(^HBHC(634,0),U,3)+1 F  Q:'$D(^HBHC(634,HBHCNDX1))  S HBHCNDX1=HBHCNDX1+1
"RTN","HBHCXMV",38,0)
 S $P(^HBHC(634,0),U,3)=HBHCNDX1,$P(^HBHC(634,0),U,4)=$P(^HBHC(634,0),U,4)+1 L -^HBHC(634,0)
"RTN","HBHCXMV",39,0)
 S HBHCREC=HBHCFORM_HBHCHOSP_HBHCSSN_HBHCDATE_HBHCPRV_HBHCLNME_HBHCQAI_HBHCDX1_HBHCDX2_HBHCDX3_HBHCDX4_HBHCDX5_HBHCCPT1_HBHCCPT2_HBHCCPT3_HBHCCPT4_HBHCCPT5_HBHCCPT6_HBHCCPT7_HBHCCPT8_HBHCCPT9_HBHCCP10_HBHCSP4
"RTN","HBHCXMV",40,0)
 S ^HBHC(634,HBHCNDX1,0)=HBHCREC,^HBHC(634,"B",$E(HBHCREC,1,30),HBHCNDX1)=""
"RTN","HBHCXMV",41,0)
 ; Flag record as filed
"RTN","HBHCXMV",42,0)
 L +^HBHC(632,HBHCDFN,0) K:HBHCXMT4]"" ^HBHC(632,"AC",HBHCXMT4,HBHCDFN) S $P(^HBHC(632,HBHCDFN,0),U,8)="F",^HBHC(632,"AC","F",HBHCDFN)="",$P(^HBHC(632,HBHCDFN,0),U,9)=HBHCTDY L -^HBHC(632,HBHCDFN,0)
"RTN","HBHCXMV",43,0)
 ; Initialize QAI, DX & CPT fields to spaces after 1st record written to avoid multiple count(s) of same data when > 5 DX or > 10 CPTs exist
"RTN","HBHCXMV",44,0)
 S HBHCQAI=HBHCSP2
"RTN","HBHCXMV",45,0)
INIT ; Initialize variables
"RTN","HBHCXMV",46,0)
 F HBHCK=1:1:5 S @("HBHCDX"_HBHCK)=HBHCSP6
"RTN","HBHCXMV",47,0)
 S (HBHCCNT,HBHCCNT1)=0,HBHCCP10=HBHCSP5
"RTN","HBHCXMV",48,0)
 F HBHCJ=1:1:9 S @("HBHCCPT"_HBHCJ)=HBHCSP5
"RTN","HBHCXMV",49,0)
 Q
"RTN","HBHCXMV1")
0^7^B5749021
"RTN","HBHCXMV1",1,0)
HBHCXMV1 ; LR VAMC(IRMS)/MJT-HBHC, called by ^HBHCXMV, entry points:  START, PCE, PSSN, & EXIT ; Aug 2000
"RTN","HBHCXMV1",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,15,14**;NOV 01, 1993
"RTN","HBHCXMV1",3,0)
START ; Initialization
"RTN","HBHCXMV1",4,0)
 W !,"Processing Visit/Form 4 Data"
"RTN","HBHCXMV1",5,0)
 K ^HBHC(634.5) S ^HBHC(634.5,0)="HBHC PSEUDO SSN ERROR(S)^634.5P^"
"RTN","HBHCXMV1",6,0)
 S HBHCFORM=4,$P(HBHCSP1," ",2)="",$P(HBHCSP2," ",3)="",$P(HBHCSP4," ",5)="",$P(HBHCSP5," ",6)="",$P(HBHCSP6," ",7)="",$P(HBHCSP10," ",11)="",$P(HBHCZRO4,"0",5)=""
"RTN","HBHCXMV1",7,0)
 S HBHCHOSP=$P($G(^DIC(4,$P(^HBHC(631.9,1,0),U,5),99)),U) S:$L(HBHCHOSP)'=7 HBHCHOSP=HBHCHOSP_$E(HBHCSP4,1,(7-($L(HBHCHOSP))))
"RTN","HBHCXMV1",8,0)
 K %DT S X="T" D ^%DT S HBHCTDY=Y
"RTN","HBHCXMV1",9,0)
 Q
"RTN","HBHCXMV1",10,0)
PCE ; Appointment pre-dates Patient Care Encounter (PCE)
"RTN","HBHCXMV1",11,0)
 S DIE="^HBHC(632,",DA=HBHCDFN,DR="7///O" D ^DIE
"RTN","HBHCXMV1",12,0)
 Q
"RTN","HBHCXMV1",13,0)
PSSN ; Patient has pseudo SSN
"RTN","HBHCXMV1",14,0)
 K DD,DO S DIC="^HBHC(634.5,",DIC(0)="MN",(X,DINUM)=$P(HBHCINFO,U) D FILE^DICN
"RTN","HBHCXMV1",15,0)
 Q
"RTN","HBHCXMV1",16,0)
EXIT ; Exit module
"RTN","HBHCXMV1",17,0)
 K DA,DIC,DIE,DINUM,DR,DTOUT,HBHCAPDT,HBHCCNT,HBHCCNT1,HBHCCPT1,HBHCCPT2,HBHCCPT3,HBHCCPT4,HBHCCPT5,HBHCCPT6,HBHCCPT7,HBHCCPT8,HBHCCPT9,HBHCCP10,HBHCDATE,HBHCDFN,HBHCDX,HBHCDX1,HBHCDX2,HBHCDX3,HBHCDX4,HBHCDX5,HBHCFLAG,HBHCFORM
"RTN","HBHCXMV1",18,0)
 K HBHCHOSP,HBHCI,HBHCINFO,HBHCJ,HBHCK,HBHCL,HBHCLNME,HBHCNDX1,HBHCNDX2,HBHCNOD2,HBHCPRV,HBHCREC,HBHCQAI,HBHCSP1,HBHCSP10,HBHCSP2,HBHCSP4,HBHCSP5,HBHCSP6,HBHCSSN,HBHCSTDT,HBHCTDY,HBHCTIME,HBHCXMT4,HBHCZRO4,X,Y,%DT
"RTN","HBHCXMV1",19,0)
 Q
"SEC","^DIC",633.1,633.1,0,"AUDIT")
@
"SEC","^DIC",633.1,633.1,0,"DD")
@
"SEC","^DIC",633.1,633.1,0,"DEL")
@
"SEC","^DIC",633.1,633.1,0,"LAYGO")
@
"SEC","^DIC",633.1,633.1,0,"RD")
@
"SEC","^DIC",633.1,633.1,0,"WR")
@
"VER")
8.0^22.0
"^DD",632,632,0)
FIELD^^33^19
"^DD",632,632,0,"DDA")
N
"^DD",632,632,0,"DT")
3000725
"^DD",632,632,0,"ID",1)
W "   ",$E($P(^(0),U,2),4,5)_"-"_$E($P(^(0),U,2),6,7)_"-"_$E($P(^(0),U,2),2,3)
"^DD",632,632,0,"ID",2)
S %I=Y,Y=$S('$D(^(0)):"",$D(^SC(+$P(^(0),U,3),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(44,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",632,632,0,"IX","AC",632,7)

"^DD",632,632,0,"IX","AD",632,10)

"^DD",632,632,0,"IX","AE",632,31)

"^DD",632,632,0,"IX","B",632,.01)

"^DD",632,632,0,"IX","C",632,1)

"^DD",632,632,0,"NM","HBHC VISIT")

"^DD",632,632,0,"PT",634.2,1)

"^DD",632,632,0,"VRPK")
HBH
"^DD",632,632,.01,0)
PATIENT NAME^RP2'^DPT(^0;1^Q
"^DD",632,632,.01,1,0)
^.1
"^DD",632,632,.01,1,1,0)
632^B
"^DD",632,632,.01,1,1,1)
S ^HBHC(632,"B",$E(X,1,30),DA)=""
"^DD",632,632,.01,1,1,2)
K ^HBHC(632,"B",$E(X,1,30),DA)
"^DD",632,632,.01,1,1,"%D",0)
^^2^2^2921229^^
"^DD",632,632,.01,1,1,"%D",1,0)
This cross-reference represents regular 'B' file index of HBHC Visit (632)
"^DD",632,632,.01,1,1,"%D",2,0)
file, Patient Name (.01) field, which references Patient (2) file entries.
"^DD",632,632,.01,3)
Answer using last name, first name, middle name format, or enter first letter of last name and last four digits of social security number  (e.g. A1234).
"^DD",632,632,.01,21,0)
^^2^2^2921215^^^
"^DD",632,632,.01,21,1,0)
This field represents patient's name in Patient (2) file.  Patient must
"^DD",632,632,.01,21,2,0)
exist in DPT for HBHC selection, since LAYGO is not allowed.
"^DD",632,632,.01,"DT")
2921216
"^DD",632,632,1,0)
DATE^D^^0;2^S %DT="ETX" D ^%DT S X=Y K:2770101>X X
"^DD",632,632,1,1,0)
^.1
"^DD",632,632,1,1,1,0)
632^C
"^DD",632,632,1,1,1,1)
S ^HBHC(632,"C",$E(X,1,30),DA)=""
"^DD",632,632,1,1,1,2)
K ^HBHC(632,"C",$E(X,1,30),DA)
"^DD",632,632,1,1,1,"%D",0)
^^2^2^2921230^^^
"^DD",632,632,1,1,1,"%D",1,0)
This cross-reference represents regular 'C' file index of HBHC Visit (632)
"^DD",632,632,1,1,1,"%D",2,0)
file, Date (1) field.  Date field updated by package only, no user input.
"^DD",632,632,1,1,1,"DT")
2920413
"^DD",632,632,1,3)
Answer is date of HBHC visit.  Answer must be 1/1/1977 or later.  Field updated by package only, no user input.
"^DD",632,632,1,21,0)
^^3^3^2921218^^^
"^DD",632,632,1,21,1,0)
This field represents date of HBHC visit.  Date range allowed is
"^DD",632,632,1,21,2,0)
1/1/1977 or later.  Field updated by package only,
"^DD",632,632,1,21,3,0)
no user input.
"^DD",632,632,1,"DT")
2921218
"^DD",632,632,2,0)
CLINIC NUMBER^P44'^SC(^0;3^Q
"^DD",632,632,2,3)
Answer is clinic that exists in Hospital Location file.  Field updated only by package, no user input.
"^DD",632,632,2,21,0)
^^3^3^2921211^^
"^DD",632,632,2,21,1,0)
This field represents HBHC Clinic number in Hospital Location (44) file.
"^DD",632,632,2,21,2,0)
Clinic must exist in Hospital Location file, since LAYGO is not allowed.
"^DD",632,632,2,21,3,0)
Field updated by package only, no user input.
"^DD",632,632,2,"DT")
2910820
"^DD",632,632,3,0)
PROVIDER^P631.4'^HBHC(631.4,^0;4^Q
"^DD",632,632,3,3)
Answer with provider name or provider number that exists in HBHC Provider file.
"^DD",632,632,3,21,0)
^^3^3^2921203^^
"^DD",632,632,3,21,1,0)
This field represents HBHC provider number, referencing HBHC Provider
"^DD",632,632,3,21,2,0)
(631.4) file entries.  Provider must exist in HBHC Provider file, since
"^DD",632,632,3,21,3,0)
LAYGO is not allowed.
"^DD",632,632,3,"DT")
2910820
"^DD",632,632,4,0)
TYPE OF VISIT^P631.5'^HBHC(631.5,^0;5^Q
"^DD",632,632,4,3)
Answer with 1 digit numeric code representing type of visit.
"^DD",632,632,4,21,0)
^^2^2^2921211^
"^DD",632,632,4,21,1,0)
This field represents 1 digit numeric code for HBHC Type of Visit,
"^DD",632,632,4,21,2,0)
referencing HBHC Type of Visit (631.5) file entries.
"^DD",632,632,4,"DT")
2920427
"^DD",632,632,5,0)
COMMENTS^F^^0;6^K:$L(X)>30!($L(X)<1) X
"^DD",632,632,5,3)
Answer must be 1-30 characters in length.
"^DD",632,632,5,21,0)
^^2^2^2921216^^^
"^DD",632,632,5,21,1,0)
This field represents comments pertaining to this visit.  Field allows
"^DD",632,632,5,21,2,0)
1-30 characters of free text. 
"^DD",632,632,5,"DT")
2910820
"^DD",632,632,6,0)
CANCELLED APPOINTMENT^F^^0;7^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<1) X
"^DD",632,632,6,1,0)
^.1^^0
"^DD",632,632,6,3)
Field updated only by package, no user input.  Answer must be 1-30 characters in length.
"^DD",632,632,6,21,0)
^^2^2^2921215^^
"^DD",632,632,6,21,1,0)
This field represents cancelled appointment codes.  Field updated by
"^DD",632,632,6,21,2,0)
package only, no user input.
"^DD",632,632,6,"DT")
2950109
"^DD",632,632,7,0)
FORM 4 TRANSMIT STATUS^S^C:Record Contains Cancelled Appointment;F:Record in Transmit File;N:Record Needs Transmitting;P:Record Prior to Package Startup Date;T:Record Transmitted;O:Record Omitted, Pre-dates 10/1/96 PCE Usage;^0;8^Q
"^DD",632,632,7,1,0)
^.1
"^DD",632,632,7,1,1,0)
632^AC
"^DD",632,632,7,1,1,1)
S ^HBHC(632,"AC",$E(X,1,30),DA)=""
"^DD",632,632,7,1,1,2)
K ^HBHC(632,"AC",$E(X,1,30),DA)
"^DD",632,632,7,1,1,"%D",0)
^^3^3^2991115^^^^
"^DD",632,632,7,1,1,"%D",1,0)
This cross-reference represents regular 'AC' file index of HBHC Visit (632)
"^DD",632,632,7,1,1,"%D",2,0)
file, Form 4 (Visit) Transmit Status (7) field.  Form 4 Transmit Status
"^DD",632,632,7,1,1,"%D",3,0)
field updated by package only, no user input.
"^DD",632,632,7,1,1,"DT")
2920427
"^DD",632,632,7,3)
Field updated only by package, no user input.
"^DD",632,632,7,21,0)
^^5^5^2970313^^^^
"^DD",632,632,7,21,1,0)
This field represents Form 4 (Visit) Transmit Status.  Field will contain
"^DD",632,632,7,21,2,0)
either 'C' (Record Contains Cancelled Appointment), 'F' (Record in Transmit
"^DD",632,632,7,21,3,0)
File), 'N' (Record Needs Transmitting), 'O' (Record Omitted, Pre-dates 10/1/96
"^DD",632,632,7,21,4,0)
PCE Usage), 'P' (Record Prior to Package Startup Date),  or 'T' (Record
"^DD",632,632,7,21,5,0)
Transmitted).  Field updated by package only, no user input.
"^DD",632,632,7,"DT")
2970313
"^DD",632,632,8,0)
FORM 4 FILED IN HBHC(634) DATE^D^^0;9^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",632,632,8,3)
Date Form 4 filed in Transmit file.  Field updated only by package, no user input.
"^DD",632,632,8,21,0)
^^2^2^2921216^^
"^DD",632,632,8,21,1,0)
This field represents date Form 4 (Visit) record filed in Transmit
"^DD",632,632,8,21,2,0)
(634) file.  Field updated by package only, no user input.
"^DD",632,632,8,"DT")
2920429
"^DD",632,632,9,0)
FORM 4 BATCH INITIAL MM MSG #^F^^0;10^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>15!($L(X)<3) X
"^DD",632,632,9,1,0)
^.1^^0
"^DD",632,632,9,3)
Field updated only by package, no user input.  Number represents first MM msg # in transmission batch.  Record may be transmitted in different msg, if multiple msgs transmitted.
"^DD",632,632,9,21,0)
^^4^4^2921215^
"^DD",632,632,9,21,1,0)
This field represents MailMan message number of 'First' MailMan message
"^DD",632,632,9,21,2,0)
in Austin transmission batch.  Record 'may' be transmitted in different
"^DD",632,632,9,21,3,0)
message, if multiple messages are transmitted in one transmission batch.
"^DD",632,632,9,21,4,0)
Field updated by package only, no user input.
"^DD",632,632,9,"DT")
2920626
"^DD",632,632,10,0)
FORM 4 MAIL MESSAGE DATE^D^^0;11^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",632,632,10,1,0)
^.1
"^DD",632,632,10,1,1,0)
632^AD
"^DD",632,632,10,1,1,1)
S ^HBHC(632,"AD",$E(X,1,30),DA)=""
"^DD",632,632,10,1,1,2)
K ^HBHC(632,"AD",$E(X,1,30),DA)
"^DD",632,632,10,1,1,"%D",0)
^^3^3^2921230^^^
"^DD",632,632,10,1,1,"%D",1,0)
This cross-reference represents regular 'AD' file index of HBHC Visit (632)
"^DD",632,632,10,1,1,"%D",2,0)
file, Form 4 (Visit) Mail Message Date (10) field.  Form 4 Mail Message Date
"^DD",632,632,10,1,1,"%D",3,0)
field updated by package only, no user input.
"^DD",632,632,10,1,1,"DT")
2920504
"^DD",632,632,10,3)
Field updated only by package, no user input.
"^DD",632,632,10,21,0)
^^2^2^2921215^
"^DD",632,632,10,21,1,0)
This field represents date of Form 4 (Visit) record transmission via
"^DD",632,632,10,21,2,0)
MailMan to Austin.  Field updated by package only, no user input.
"^DD",632,632,10,"DT")
2920504
"^DD",632,632,11,0)
FORM 4 TRANSMIT FLAG EDIT DATE^D^^0;12^S %DT="ETXR" D ^%DT S X=Y K:Y<1 X
"^DD",632,632,11,3)
Field updated only by package, no user input.  Field is updated with current date when user requests Form 4 Transmit Status flag be reset (allowing editing of transmitted record).
"^DD",632,632,11,21,0)
^^3^3^2921216^^
"^DD",632,632,11,21,1,0)
This field represents date Form 4 (Visit) Transmit Status flag was
"^DD",632,632,11,21,2,0)
requested by user to be reset (allowing editing of previously transmitted
"^DD",632,632,11,21,3,0)
record).  Field updated by package only, no user input.
"^DD",632,632,11,"DT")
2920429
"^DD",632,632,12,0)
FORM 4 TRANSMIT FLAG EDIT DUZ^P200'^VA(200,^0;13^Q
"^DD",632,632,12,3)
Field updated only by package, no user input.  Field is updated with user's DUZ when user requests Form 4 Transmit Status flag be reset (allowing editing of transmitted record).
"^DD",632,632,12,21,0)
^^3^3^2921215^
"^DD",632,632,12,21,1,0)
This field represents DUZ of user requesting Form 4 (Visit) Transmit
"^DD",632,632,12,21,2,0)
Status flag be reset (allowing editing of previously transmitted
"^DD",632,632,12,21,3,0)
record).  Field updated by package only, no user input.
"^DD",632,632,12,"DT")
2920429
"^DD",632,632,13,0)
FORM 4 RE-TRANS BATCH MM MSG #^F^^0;14^K:$L(X)>15!($L(X)<3) X
"^DD",632,632,13,3)
Field updated only by package, no user input.  Number represents first MM msg # in re-transmission batch.  Record may be transmitted in different msg, if multiple msgs transmitted.
"^DD",632,632,13,21,0)
^^4^4^2921215^
"^DD",632,632,13,21,1,0)
This field represents MailMan message number of 'First' MailMan message
"^DD",632,632,13,21,2,0)
in re-transmission batch to Austin.  Record 'may' be transmitted in
"^DD",632,632,13,21,3,0)
different message, if multiple messages are transmitted in one
"^DD",632,632,13,21,4,0)
re-transmission batch.  Field updated by package only, no user input.
"^DD",632,632,13,"DT")
2920626
"^DD",632,632,14,0)
FORM 4 RE-TRANSMIT DATE^D^^0;15^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",632,632,14,3)
Field updated only by package, no user input.
"^DD",632,632,14,21,0)
^^2^2^2921215^
"^DD",632,632,14,21,1,0)
This field represents date of Form 4 (Visit) record re-transmission via
"^DD",632,632,14,21,2,0)
MailMan to Austin.  Field updated by package only, no user input.
"^DD",632,632,14,"DT")
2920504
"^DD",632,632,15,0)
QA INDICATOR^F^^0;16^K:$L(X)>2!($L(X)<1) X
"^DD",632,632,15,3)
Answer must be 1-2 characters in length.  Refer to directions from Office of Geriatrics & Extended Care for current QA Indicator data value instructions.
"^DD",632,632,15,21,0)
^^4^4^2930702^^
"^DD",632,632,15,21,1,0)
This field represents a generic QA Indicator.  The Office of Geriatrics &
"^DD",632,632,15,21,2,0)
Extended Care supplies HBHC programs with current QA Indicator information.
"^DD",632,632,15,21,3,0)
The QA Indicator & corresponding data value for the field will change
"^DD",632,632,15,21,4,0)
periodically at the discretion of the Geriatrics & Extended Care office.
"^DD",632,632,15,"DT")
2930702
"^DD",632,632,31,0)
OUTPATIENT ENCOUNTER^P409.68'^SCE(^0;22^Q
"^DD",632,632,31,1,0)
^.1
"^DD",632,632,31,1,1,0)
632^AE
"^DD",632,632,31,1,1,1)
S ^HBHC(632,"AE",$E(X,1,30),DA)=""
"^DD",632,632,31,1,1,2)
K ^HBHC(632,"AE",$E(X,1,30),DA)
"^DD",632,632,31,1,1,"%D",0)
^^3^3^2991115^
"^DD",632,632,31,1,1,"%D",1,0)
This cross-reference represents regular 'AE' file index of HBHC Visit (632)
"^DD",632,632,31,1,1,"%D",2,0)
file, Outpatient Encounter (31) field.  Outpatient Encounter field updated
"^DD",632,632,31,1,1,"%D",3,0)
by package only, no user input. 
"^DD",632,632,31,1,1,"DT")
2991115
"^DD",632,632,31,3)
Field updated by package only, no user input.
"^DD",632,632,31,21,0)
^^2^2^2970702^^^^
"^DD",632,632,31,21,1,0)
This field represents outpatient encounter record in ^SCE (#409.68) file. 
"^DD",632,632,31,21,2,0)
Field updated by package only, no user input. 
"^DD",632,632,31,"DT")
2991115
"^DD",632,632,32,0)
CPT^632.032PA^^2;0
"^DD",632,632,33,0)
DX^632.033PA^^3;0
"^DD",632,632.032,0)
CPT SUB-FIELD^^1^2
"^DD",632,632.032,0,"DT")
3000503
"^DD",632,632.032,0,"IX","B",632.032,.01)

"^DD",632,632.032,0,"NM","CPT")

"^DD",632,632.032,0,"UP")
632
"^DD",632,632.032,.01,0)
CPT^MRP81'^ICPT(^0;1^Q
"^DD",632,632.032,.01,1,0)
^.1
"^DD",632,632.032,.01,1,1,0)
632.032^B
"^DD",632,632.032,.01,1,1,1)
S ^HBHC(632,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",632,632.032,.01,1,1,2)
K ^HBHC(632,DA(1),2,"B",$E(X,1,30),DA)
"^DD",632,632.032,.01,3)
Field updated by package only, no user input.
"^DD",632,632.032,.01,21,0)
^.001^2^2^3000503^^^^
"^DD",632,632.032,.01,21,1,0)
This field represents the CPT code(s) performed during the encounter. 
"^DD",632,632.032,.01,21,2,0)
Field updated by package only, no user input. 
"^DD",632,632.032,.01,"DT")
2991206
"^DD",632,632.032,1,0)
CPT MODIFIER^632.321PA^^1;0
"^DD",632,632.033,0)
DX SUB-FIELD^^.01^1
"^DD",632,632.033,0,"DT")
3000714
"^DD",632,632.033,0,"IX","B",632.033,.01)

"^DD",632,632.033,0,"NM","DX")

"^DD",632,632.033,0,"UP")
632
"^DD",632,632.033,.01,0)
DX^MRP80'^ICD9(^0;1^Q
"^DD",632,632.033,.01,1,0)
^.1
"^DD",632,632.033,.01,1,1,0)
632.033^B
"^DD",632,632.033,.01,1,1,1)
S ^HBHC(632,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",632,632.033,.01,1,1,2)
K ^HBHC(632,DA(1),3,"B",$E(X,1,30),DA)
"^DD",632,632.033,.01,3)
Field updated by package only, no user input.
"^DD",632,632.033,.01,21,0)
^^3^3^3000714^
"^DD",632,632.033,.01,21,1,0)
This field represents the patient's ICD9 Diagnosis (DX) Code(s) for the
"^DD",632,632.033,.01,21,2,0)
encounter.  Primary DX will be contained in the first entry within the
"^DD",632,632.033,.01,21,3,0)
multiple.  Field updated by package only, no user input.
"^DD",632,632.033,.01,"DT")
3000714
"^DD",632,632.321,0)
CPT MODIFIER SUB-FIELD^^.01^1
"^DD",632,632.321,0,"DT")
3000503
"^DD",632,632.321,0,"IX","B",632.321,.01)

"^DD",632,632.321,0,"NM","CPT MODIFIER")

"^DD",632,632.321,0,"UP")
632.032
"^DD",632,632.321,.01,0)
CPT MODIFIER^MP81.3'^DIC(81.3,^0;1^Q
"^DD",632,632.321,.01,1,0)
^.1
"^DD",632,632.321,.01,1,1,0)
632.321^B
"^DD",632,632.321,.01,1,1,1)
S ^HBHC(632,DA(2),2,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",632,632.321,.01,1,1,2)
K ^HBHC(632,DA(2),2,DA(1),1,"B",$E(X,1,30),DA)
"^DD",632,632.321,.01,3)
Field updated by package only, no user input.
"^DD",632,632.321,.01,21,0)
^.001^2^2^3000503^^^^
"^DD",632,632.321,.01,21,1,0)
This field contains CPT Modifier(s) related to the CPT Code(s) for the 
"^DD",632,632.321,.01,21,2,0)
visit.  Field updated by package only, no user input.
"^DD",632,632.321,.01,"DT")
3000503
"^DD",633.1,633.1,0)
FIELD^^.01^1
"^DD",633.1,633.1,0,"DDA")
N
"^DD",633.1,633.1,0,"DT")
2970314
"^DD",633.1,633.1,0,"IX","B",633.1,.01)

"^DD",633.1,633.1,0,"NM","HBHC ERROR MESSAGES FOR VISITS")

"^DD",633.1,633.1,0,"PT",634.2,3)

"^DD",633.1,633.1,0,"VRPK")
HBH
"^DD",633.1,633.1,.01,0)
ERROR MESSAGE TEXT^RF^^0;1^K:$L(X)>40!($L(X)<3) X
"^DD",633.1,633.1,.01,1,0)
^.1
"^DD",633.1,633.1,.01,1,1,0)
633.1^B
"^DD",633.1,633.1,.01,1,1,1)
S ^HBHC(633.1,"B",$E(X,1,30),DA)=""
"^DD",633.1,633.1,.01,1,1,2)
K ^HBHC(633.1,"B",$E(X,1,30),DA)
"^DD",633.1,633.1,.01,3)
Answer must be 3-40 characters in length.
"^DD",633.1,633.1,.01,21,0)
^^4^4^2970314^^^
"^DD",633.1,633.1,.01,21,1,0)
This field represents error message text giving reason why Patient Care
"^DD",633.1,633.1,.01,21,2,0)
Encounter (PCE) visit did not pass validity check for completeness/accuracy to
"^DD",633.1,633.1,.01,21,3,0)
be added to HBHC Visit (632) & HBHC Transmit (634) files.  Entries in this file
"^DD",633.1,633.1,.01,21,4,0)
should NOT be added or edited. 
"^DD",633.1,633.1,.01,"DT")
2970314
"^DIC",632,632,0)
HBHC VISIT
"^DIC",632,632,0,"GL")
^HBHC(632,
"^DIC",632,632,"%D",0)
^^2^2^2931015^^^^
"^DIC",632,632,"%D",1,0)
This file is the HBHC Visit file and includes visit and record transmission
"^DIC",632,632,"%D",2,0)
data.
"^DIC",632,"B","HBHC VISIT",632)

"^DIC",633.1,633.1,0)
HBHC ERROR MESSAGES FOR VISITS^633.1
"^DIC",633.1,633.1,0,"GL")
^HBHC(633.1,
"^DIC",633.1,633.1,"%",0)
^1.005^^0
"^DIC",633.1,633.1,"%D",0)
^^3^3^2970314^
"^DIC",633.1,633.1,"%D",1,0)
This file contains HBHC Error Messages for Visits data, is exported with data,
"^DIC",633.1,633.1,"%D",2,0)
and is referenced by HBHC Visit Error(s) (634.2) file.  This file should not be
"^DIC",633.1,633.1,"%D",3,0)
edited or have entries added. 
"^DIC",633.1,"B","HBHC ERROR MESSAGES FOR VISITS",633.1)

**END**
**END**
