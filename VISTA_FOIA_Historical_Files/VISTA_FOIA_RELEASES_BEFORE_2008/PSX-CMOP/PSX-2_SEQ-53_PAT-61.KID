Released PSX*2*61 SEQ #53
Extracted from mail message
**KIDS**:PSX*2.0*61^

**INSTALL NAME**
PSX*2.0*61
"BLD",6061,0)
PSX*2.0*61^CMOP^0^3060622^y
"BLD",6061,1,0)
^^15^15^3060301^
"BLD",6061,1,1,0)
This patch contains an Application Program Interface (API) that will be 
"BLD",6061,1,2,0)
used by calling applications that currently do direct global reads or 
"BLD",6061,1,3,0)
writes to the CMOP SYSTEM file (#550). Since this file is being replaced 
"BLD",6061,1,4,0)
as part of the Pharmacy Re-engineering project, any direct M-based global 
"BLD",6061,1,5,0)
reads or writes to this file must be replaced by calling the APIs provided 
"BLD",6061,1,6,0)
in this patch. When the new data source is in place, the calling 
"BLD",6061,1,7,0)
applications will not be required to make any changes, because these APIs 
"BLD",6061,1,8,0)
will be flexible enough to retrieve the requested data from the new data 
"BLD",6061,1,9,0)
source, when the time comes.
"BLD",6061,1,10,0)
 
"BLD",6061,1,11,0)
This API replaces the following integration agreements:
"BLD",6061,1,12,0)
 
"BLD",6061,1,13,0)
DBIA #  Affected Package(s)
"BLD",6061,1,14,0)
---------------------------
"BLD",6061,1,15,0)
2199    CPRS
"BLD",6061,4,0)
^9.64PA^^
"BLD",6061,6.3)
1
"BLD",6061,"KRN",0)
^9.67PA^^
"BLD",6061,"KRN",.4,0)
.4
"BLD",6061,"KRN",.4,"NM",0)
^9.68A^^0
"BLD",6061,"KRN",.401,0)
.401
"BLD",6061,"KRN",.401,"NM",0)
^9.68A^^0
"BLD",6061,"KRN",.402,0)
.402
"BLD",6061,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",6061,"KRN",.403,0)
.403
"BLD",6061,"KRN",.5,0)
.5
"BLD",6061,"KRN",.84,0)
.84
"BLD",6061,"KRN",3.6,0)
3.6
"BLD",6061,"KRN",3.8,0)
3.8
"BLD",6061,"KRN",9.2,0)
9.2
"BLD",6061,"KRN",9.8,0)
9.8
"BLD",6061,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6061,"KRN",9.8,"NM",1,0)
PSX550^^0^B1992795
"BLD",6061,"KRN",9.8,"NM","B","PSX550",1)

"BLD",6061,"KRN",19,0)
19
"BLD",6061,"KRN",19.1,0)
19.1
"BLD",6061,"KRN",101,0)
101
"BLD",6061,"KRN",409.61,0)
409.61
"BLD",6061,"KRN",771,0)
771
"BLD",6061,"KRN",869.2,0)
869.2
"BLD",6061,"KRN",870,0)
870
"BLD",6061,"KRN",8994,0)
8994
"BLD",6061,"KRN","B",.4,.4)

"BLD",6061,"KRN","B",.401,.401)

"BLD",6061,"KRN","B",.402,.402)

"BLD",6061,"KRN","B",.403,.403)

"BLD",6061,"KRN","B",.5,.5)

"BLD",6061,"KRN","B",.84,.84)

"BLD",6061,"KRN","B",3.6,3.6)

"BLD",6061,"KRN","B",3.8,3.8)

"BLD",6061,"KRN","B",9.2,9.2)

"BLD",6061,"KRN","B",9.8,9.8)

"BLD",6061,"KRN","B",19,19)

"BLD",6061,"KRN","B",19.1,19.1)

"BLD",6061,"KRN","B",101,101)

"BLD",6061,"KRN","B",409.61,409.61)

"BLD",6061,"KRN","B",771,771)

"BLD",6061,"KRN","B",869.2,869.2)

"BLD",6061,"KRN","B",870,870)

"BLD",6061,"KRN","B",8994,8994)

"BLD",6061,"QUES",0)
^9.62^^
"BLD",6061,"REQG",0)
^9.611^^
"MBREQ")
0
"PKG",526,-1)
1^1
"PKG",526,0)
CMOP^PSX^CONSOLIDATED MAIL OUTPATIENT PHARMACY
"PKG",526,22,0)
^9.49I^1^1
"PKG",526,22,1,0)
2.0^3000210^3000217^11853
"PKG",526,22,1,"PAH",1,0)
61^3060622
"PKG",526,22,1,"PAH",1,1,0)
^^15^15^3060622
"PKG",526,22,1,"PAH",1,1,1,0)
This patch contains an Application Program Interface (API) that will be 
"PKG",526,22,1,"PAH",1,1,2,0)
used by calling applications that currently do direct global reads or 
"PKG",526,22,1,"PAH",1,1,3,0)
writes to the CMOP SYSTEM file (#550). Since this file is being replaced 
"PKG",526,22,1,"PAH",1,1,4,0)
as part of the Pharmacy Re-engineering project, any direct M-based global 
"PKG",526,22,1,"PAH",1,1,5,0)
reads or writes to this file must be replaced by calling the APIs provided 
"PKG",526,22,1,"PAH",1,1,6,0)
in this patch. When the new data source is in place, the calling 
"PKG",526,22,1,"PAH",1,1,7,0)
applications will not be required to make any changes, because these APIs 
"PKG",526,22,1,"PAH",1,1,8,0)
will be flexible enough to retrieve the requested data from the new data 
"PKG",526,22,1,"PAH",1,1,9,0)
source, when the time comes.
"PKG",526,22,1,"PAH",1,1,10,0)
 
"PKG",526,22,1,"PAH",1,1,11,0)
This API replaces the following integration agreements:
"PKG",526,22,1,"PAH",1,1,12,0)
 
"PKG",526,22,1,"PAH",1,1,13,0)
DBIA #  Affected Package(s)
"PKG",526,22,1,"PAH",1,1,14,0)
---------------------------
"PKG",526,22,1,"PAH",1,1,15,0)
2199    CPRS
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSX550")
0^1^B1992795^n/a
"RTN","PSX550",1,0)
PSX550 ;BIR/DB - API for file 550 ;24 Feb 2006
"RTN","PSX550",2,0)
 ;;2.0;CMOP;**61**;11 Apr 97;Build 1
"RTN","PSX550",3,0)
PSX(PSXIEN,PSXTXT,LIST) ;
"RTN","PSX550",4,0)
 ;PSXIEN -CMOP system internal entry number (optional)
"RTN","PSX550",5,0)
 ;PSXTXT - Free Text CMOP system name (optional)
"RTN","PSX550",6,0)
 ;LIST: Subscript name used in ^TMP global [REQUIRED]
"RTN","PSX550",7,0)
 I $G(PSXIEN)="",$G(PSXTXT)="" Q
"RTN","PSX550",8,0)
 I $G(LIST)="" Q
"RTN","PSX550",9,0)
 K ^TMP($J,LIST),DA,^UTILITY("DIQ1",$J),DIQ
"RTN","PSX550",10,0)
 I $G(PSXIEN)]"" S DA=PSXIEN I '$D(^PSX(550,DA,0)) G RET0
"RTN","PSX550",11,0)
 I $G(PSXTXT)'="",$G(PSXIEN)'>0,'$D(^PSX(550,"B",PSXTXT)) G RET0
"RTN","PSX550",12,0)
 I $G(PSXTXT)'="",$G(DA)'>0 S DA=$O(^PSX(550,"B",PSXTXT,0))
"RTN","PSX550",13,0)
 K ^UTILITY("DIQ1",$J),DIC S DIC=550,DR=".01;1",DIQ(0)="IE" D EN^DIQ1
"RTN","PSX550",14,0)
 I '$D(^UTILITY("DIQ1",$J)) G RET0
"RTN","PSX550",15,0)
 S:$G(PSXTXT)="" PSXTXT=^UTILITY("DIQ1",$J,550,DA,.01,"E")
"RTN","PSX550",16,0)
 S ^TMP($J,LIST,1)=$G(^UTILITY("DIQ1",$J,550,DA,1,"I"))
"RTN","PSX550",17,0)
 S ^TMP($J,LIST,1)=$S($G(^UTILITY("DIQ1",$J,550,DA,1,"E"))'="":^TMP($J,LIST,1)_"^"_$G(^UTILITY("DIQ1",$J,550,DA,1,"E")),1:"")
"RTN","PSX550",18,0)
 S ^TMP($J,LIST,"B",PSXTXT,DA)=""
"RTN","PSX550",19,0)
 Q
"RTN","PSX550",20,0)
 K PSXIEN,DA,X,PSXTXT,DR,DIC Q
"RTN","PSX550",21,0)
RET0 ;return no data
"RTN","PSX550",22,0)
 S ^TMP($J,LIST,0)="-1^NO DATA FOUND" Q
"RTN","PSX550",23,0)
 Q
"VER")
8.0^22.0
"BLD",6061,6)
^53
**END**
**END**
