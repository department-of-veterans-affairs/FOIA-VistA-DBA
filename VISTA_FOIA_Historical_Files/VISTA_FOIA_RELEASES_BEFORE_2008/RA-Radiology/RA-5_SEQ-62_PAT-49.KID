Released RA*5*49 SEQ #62
Extracted from mail message
**KIDS**:RA*5.0*49^

**INSTALL NAME**
RA*5.0*49
"BLD",5051,0)
RA*5.0*49^RADIOLOGY/NUCLEAR MEDICINE^0^3060526^y
"BLD",5051,1,0)
^^2^2^3040528^^
"BLD",5051,1,1,0)
Please see Patch Description for details to the "Scheduling Replacement - 
"BLD",5051,1,2,0)
Radiology" patch.
"BLD",5051,4,0)
^9.64PA^70^1
"BLD",5051,4,70,0)
70
"BLD",5051,4,70,2,0)
^9.641^70.03^1
"BLD",5051,4,70,2,70.03,0)
EXAMINATIONS  (sub-file)
"BLD",5051,4,70,2,70.03,1,0)
^9.6411^8^1
"BLD",5051,4,70,2,70.03,1,8,0)
PRINCIPAL CLINIC
"BLD",5051,4,70,222)
y^n^p^^^^n^^n
"BLD",5051,4,70,224)

"BLD",5051,4,"APDD",70,70.03)

"BLD",5051,4,"APDD",70,70.03,8)

"BLD",5051,4,"B",70,70)

"BLD",5051,6.3)
1
"BLD",5051,"KRN",0)
^9.67PA^8989.52^19
"BLD",5051,"KRN",.4,0)
.4
"BLD",5051,"KRN",.401,0)
.401
"BLD",5051,"KRN",.402,0)
.402
"BLD",5051,"KRN",.402,"NM",0)
^9.68A^1^1
"BLD",5051,"KRN",.402,"NM",1,0)
RA REGISTER    FILE #70^70^0
"BLD",5051,"KRN",.402,"NM","B","RA REGISTER    FILE #70",1)

"BLD",5051,"KRN",.403,0)
.403
"BLD",5051,"KRN",.5,0)
.5
"BLD",5051,"KRN",.84,0)
.84
"BLD",5051,"KRN",3.6,0)
3.6
"BLD",5051,"KRN",3.8,0)
3.8
"BLD",5051,"KRN",9.2,0)
9.2
"BLD",5051,"KRN",9.8,0)
9.8
"BLD",5051,"KRN",19,0)
19
"BLD",5051,"KRN",19.1,0)
19.1
"BLD",5051,"KRN",101,0)
101
"BLD",5051,"KRN",409.61,0)
409.61
"BLD",5051,"KRN",771,0)
771
"BLD",5051,"KRN",870,0)
870
"BLD",5051,"KRN",8989.51,0)
8989.51
"BLD",5051,"KRN",8989.52,0)
8989.52
"BLD",5051,"KRN",8994,0)
8994
"BLD",5051,"KRN","B",.4,.4)

"BLD",5051,"KRN","B",.401,.401)

"BLD",5051,"KRN","B",.402,.402)

"BLD",5051,"KRN","B",.403,.403)

"BLD",5051,"KRN","B",.5,.5)

"BLD",5051,"KRN","B",.84,.84)

"BLD",5051,"KRN","B",3.6,3.6)

"BLD",5051,"KRN","B",3.8,3.8)

"BLD",5051,"KRN","B",9.2,9.2)

"BLD",5051,"KRN","B",9.8,9.8)

"BLD",5051,"KRN","B",19,19)

"BLD",5051,"KRN","B",19.1,19.1)

"BLD",5051,"KRN","B",101,101)

"BLD",5051,"KRN","B",409.61,409.61)

"BLD",5051,"KRN","B",771,771)

"BLD",5051,"KRN","B",870,870)

"BLD",5051,"KRN","B",8989.51,8989.51)

"BLD",5051,"KRN","B",8989.52,8989.52)

"BLD",5051,"KRN","B",8994,8994)

"BLD",5051,"QUES",0)
^9.62^^
"BLD",5051,"REQB",0)
^9.611^1^1
"BLD",5051,"REQB",1,0)
RA*5.0*46^2
"BLD",5051,"REQB","B","RA*5.0*46",1)

"FIA",70)
RAD/NUC MED PATIENT
"FIA",70,0)
^RADPT(
"FIA",70,0,0)
70IP
"FIA",70,0,1)
y^n^p^^^^n^^n
"FIA",70,0,10)

"FIA",70,0,11)

"FIA",70,0,"RLRO")

"FIA",70,0,"VR")
5.0^RA
"FIA",70,70)
1
"FIA",70,70.03)
1
"FIA",70,70.03,8)

"KRN",.402,227,-1)
0^1
"KRN",.402,227,0)
RA REGISTER^3060516.1039^^70^^^3060525
"KRN",.402,227,"AR",70.03,486)
1^RACTRG11
"KRN",.402,227,"DIAB",1,2,70.03,9)
19;REQ
"KRN",.402,227,"DIAB",1,3,70.1,0)
ALL
"KRN",.402,227,"DIAB",3,2,70.03,6)
9.5//^S X=$S($D(RARSH):RARSH,1:"");REQ
"KRN",.402,227,"DIAB",3,2,70.03,7)
8//^S X=$S($D(RACLNC):RACLNC,1:"");REQ
"KRN",.402,227,"DIAB",3,2,70.03,8)
6;REQ
"KRN",.402,227,"DIAB",6,2,70.03,6)
9//^S X=$S($D(RASHA):RASHA,1:"");REQ
"KRN",.402,227,"DIAB",8,2,70.03,0)
2//^S X=$S($D(RAPRC):RAPRC,1:"");REQ
"KRN",.402,227,"DIAB",9,2,70.03,8)
7;REQ
"KRN",.402,227,"DR",1,70)
I '$D(RAMDV)!('$D(RAMLC))!('$D(RADTE))!('$D(RACAT))!('$D(RAOIFN))!('$D(RAIMGTY)) W !?3,*7,"Variables RAMDV,RAMLC,RADTE,RACAT,RAIMGTY and RAOIFN must be defined!",! S Y="@999";
"KRN",.402,227,"DR",1,70,1)
W !!?3,"...will now register ",RANME," with the next case number...";2///^S X=RADTE;@999;S REM="let calling rtn kill RAPOP,RAFM,RAFM1,RAI,RAMOD,RASTI,RACMTHOD,RANMFLG,RAIEN702";
"KRN",.402,227,"DR",2,70.02)
S RADTI=DA;2////^S X=$P(RAMLC,U,6);3////^S X=+RAMDIV;4////^S X=+RAMLC;Q;50///^S X=RACN;
"KRN",.402,227,"DR",3,70.03)
S RACN=X,RACNI=DA;S RACMTHOD=$P(^RA(79.1,+$P(RAMLC,"^"),0),"^",21);S RACMTHOD=$S(RACMTHOD]"":RACMTHOD,1:0);26////^S X=RACMTHOD;3////^S X=$O(^RA(72,"AA",RAIMGTY,1,0));S RASTI=X;@3;2R~//^S X=$S($D(RAPRC):RAPRC,1:"");S RAPRI=X;
"KRN",.402,227,"DR",3,70.03,1)
S RAPRI(0)=$G(^RAMIS(71,+RAPRI,0));I $P(RAMDV,U,7),($P(RAPRI(0),U,6)="B") S Y="@3000";S:$P($G(^RA(79,+$$DIVSION^RAUTL6(DT,+$P($G(^RAO(75.1,+RAOIFN,0)),"^",22)),.1)),"^",7)="N"!($P(RAPRI(0),"^",6)'="B") Y="@4";@3000;
"KRN",.402,227,"DR",3,70.03,2)
W !?3,$C(7),"A 'detailed' procedure or a 'series' of procedures is required!";2///@;S Y="@3";@4;S RAPX(RACNI)=RACN_"^"_^RAMIS(71,RAPRI,0);S REM="don't copy proc mods for Series and Broad, 9/24/1999";
"KRN",.402,227,"DR",3,70.03,3)
S:$P(RAPX(RACNI),U,7)="S" Y="@7";S:$P(RAPX(RACNI),U,7)="B" Y="@8";S RAI=0,Y=$S('$D(RAPRC):"@6",RAPRC'=$P(RAPX(RACNI),U,2):"@6",1:"@5");@5;S RAI=$O(^RAO(75.1,+RAOIFN,"M","B",RAI)) S:'RAI Y="@6";
"KRN",.402,227,"DR",3,70.03,4)
S RAMOD=$S($D(^RAMIS(71.2,RAI,0)):$P(^(0),U),1:-1) S:RAMOD<0 Y="@6";S:'$D(^RAMIS(71.2,"AB",+$$ITYPE^RASITE(+$G(RAPRI)),RAI)) Y="@5";125///^S X=RAMOD;S Y="@5";@6;125;@7;D:$T(SETDEFS^RACPTMSC)]"" SETDEFS^RACPTMSC;
"KRN",.402,227,"DR",3,70.03,5)
S REM="don't ask cpt mods after stuffing";@8;11////^S X=RAOIFN;14////^S X=$S($D(RAPIFN):RAPIFN,1:"");18////^S X=$S($P(RAPX(RACNI),U,15)]"":$P(RAPX(RACNI),U,15),1:"");@20;4//^S X=RACAT;
"KRN",.402,227,"DR",3,70.03,6)
S RAX=$E(X),Y=$S(RAX="I":"@60",RAX="E":"@45",RAX="R":"@30","CS"[RAX:"@40",1:"@50") K RAX;@30;9.5R~//^S X=$S($D(RARSH):RARSH,1:"");S Y=$S($D(RAWARD):"@60",1:"@50");@40;9R~//^S X=$S($D(RASHA):RASHA,1:"");S Y="@100";@45;
"KRN",.402,227,"DR",3,70.03,7)
S:$D(RAWARD) Y="@60";@50;8R~//^S X=$S($D(RACLNC):RACLNC,1:"");S RACLNC=$P(^SC(X,0),U);S Y="@100";@60;S:'$D(RAWARD) RAWARD="Unknown" S:'$D(RASER) RASER="Unknown" S:'$D(RABED) RABED="Unknown";
"KRN",.402,227,"DR",3,70.03,8)
W !?5,"Ward: ",RAWARD,"   Service: ",RASER,"  Bedsection: ",RABED;I RAWARD'="Unknown" S Y="@66";6R~;S Y="@68";@66;6///^S X=RAWARD;@68;I RASER'="Unknown" S Y="@80";7R~;S Y="@85";@80;7///^S X=RASER;@85;I RABED'="Unknown" S Y="@95";
"KRN",.402,227,"DR",3,70.03,9)
19R~;S Y="@100";@95;19///^S X=RABED;@100;21////^S X=$S($D(RARDTE):RARDTE,1:"");22////^S X=$S($D(RALIFN):RALIFN,1:"");I '$D(^RAMIS(71,RAPRI,"F",0)) S Y="@300";S RAI=0;@200;
"KRN",.402,227,"DR",3,70.03,10)
S RAI=$O(^RAMIS(71,RAPRI,"F",RAI)) S:RAI'>0!('$D(^(+RAI,0))) Y="@300";
"KRN",.402,227,"DR",3,70.03,11)
S RAFM(1)=+^RAMIS(71,RAPRI,"F",RAI,0),RAFM1=+$P(^(0),U,2),RAFM=$S($D(^RA(78.4,RAFM(1),0)):$P(^(0),U),1:-1),RAFM=$S('$D(^("I")):RAFM,'^("I"):RAFM,1:-1) S:RAFM<0 Y="@200";50///^S X=RAFM;S Y="@200";@300;
"KRN",.402,227,"DR",3,70.03,12)
S RAPOP=0 D USER^RAUTL S:RAPOP Y="@999";S:'$P(RAMDV,U,10) Y="@350";75///^S X="""NOW""";@350;S RANMFLG=0;S:'$D(RAIMGTYI) RAIMGTYI=$O(^RA(79.2,"B",RAIMGTY,0));S:$P($G(^RA(79.2,+$G(RAIMGTYI),0)),"^",5)="Y" RANMFLG=1;
"KRN",.402,227,"DR",3,70.03,13)
S:'RANMFLG Y="@450";S:'$O(^RAMIS(71,RAPRI,"NUC",0)) Y="@450";S REM="is this proc's ASK RADIOPHARMACEUTICAL = NEVER ?";S:$P(^RAMIS(71,RAPRI,0),U,2)=1 Y="@450";S REM="en1^ranmpt1 will stuff default radiopharms during registration";
"KRN",.402,227,"DR",3,70.03,14)
S RAIEN702=$$EN1^RANMPT1(RADFN,RADTE,RACN);S:RAIEN702=-1 Y="@450";500////^S X=RAIEN702;@450;S:'$O(^RAMIS(71,RAPRI,"P",0)) Y="@700";S REM="en2^ranmpt1 will stuff default meds";D EN2^RANMPT1(RADFN,RADTI,RACNI);@700;
"KRN",.402,227,"DR",3,70.03,15)
100///^S X="""NOW""";
"KRN",.402,227,"DR",4,70.04)
2///^S X=RAFM1;
"KRN",.402,227,"DR",4,70.05)
2////^S X=RASTI;3////^S X=RADUZ;
"KRN",.402,227,"DR",4,70.07)
2///^S X="E";3////^S X=RADUZ;S RATCXX=$$GETTCOM^RAUTL11(RADFN,RADTI,RACNI);4//^S X=RATCXX;S:RATCXX'=X Y="@18";4///@;K ^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",DA,"TCOM");@18;K RATCXX S RAFIN="";
"KRN",.402,227,"DR",4,70.1)
.01
"KRN",.402,227,"ROU")
^RACTRG
"KRN",.402,227,"ROUOLD")
RACTRG
"MBREQ")
0
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",18,-1)
1^1
"PKG",18,0)
RADIOLOGY/NUCLEAR MEDICINE^RA^REGISTERS PATIENTS,RECORDS EXAMS,PROFILES,AMIS REPORTS
"PKG",18,20,0)
^9.402P^^
"PKG",18,22,0)
^9.49I^1^1
"PKG",18,22,1,0)
5.0^3051109^2980407^50
"PKG",18,22,1,"PAH",1,0)
49^3060526
"PKG",18,22,1,"PAH",1,1,0)
^^2^2^3060526
"PKG",18,22,1,"PAH",1,1,1,0)
Please see Patch Description for details to the "Scheduling Replacement - 
"PKG",18,22,1,"PAH",1,1,2,0)
Radiology" patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"UP",70,70.03,-2)
70^DT
"UP",70,70.03,-1)
70.02^P
"UP",70,70.03,0)
70.03
"VER")
8.0^22.0
"^DD",70,70.03,8,0)
PRINCIPAL CLINIC^*P44'^SC(^0;8^S DIC("S")="I $P(^(0),U,3)=""C""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",70,70.03,8,.1)
REFERRING PRINCIPAL CLINIC
"^DD",70,70.03,8,3)
Enter the name of the clinic that referred this patient.
"^DD",70,70.03,8,10)
RAD/NUC MED RECEPTIONIST
"^DD",70,70.03,8,12)
Screen to allow any "C" type location.
"^DD",70,70.03,8,12.1)
S DIC("S")="I $P(^(0),U,3)=""C"""
"^DD",70,70.03,8,21,0)
^.001^7^7^3040527^^
"^DD",70,70.03,8,21,1,0)
This field is used for exams with a 'category of exam' of 'outpatient'
"^DD",70,70.03,8,21,2,0)
or 'employee'.  It points to the 'HOSPITAL LOCATION' file (#44) to
"^DD",70,70.03,8,21,3,0)
indicate the name of the principle clinic that referred the patient to
"^DD",70,70.03,8,21,4,0)
Radiology/Nuclear Medicine for the exam.  If the appropriate Report
"^DD",70,70.03,8,21,5,0)
Distribution Queue is active, the report for this exam will automatically
"^DD",70,70.03,8,21,6,0)
be placed in the queue for this clinic, or in the current ward if the
"^DD",70,70.03,8,21,7,0)
patient is admitted before the report is verified.
"^DD",70,70.03,8,"DT")
3040527
"BLD",5051,6)
^62
**END**
**END**
