$TXT Created by ANDERSON,CURTIS at DEVCUR.FO-SLC.MED.VA.GOV  (KIDS) on Wednesday, 04/02/03 at 15:18
=============================================================================
Run Date: FEB 03, 2004                     Designation: OR*3*179
Package : OR - ORDER ENTRY/RESULTS REPORTING  Priority: Mandatory
Version : 3       SEQ #187                      Status: Released
                  Compliance Date: MAR 05, 2004
=============================================================================

Associated patches: (v)OR*3*143    <<= must be installed BEFORE `OR*3*179'

Subject: FIX CPRS EXPERT SYSTEM ALLOCATION ERRORS

Category: 
  - Routine

Description:
============

 Problems and Issues:
 ====================
  
 1. [LON-0203-60357]  Fixes an allocation error ($ZE= CHECK+30^OCXOHL7:1, 
 %DSM-E-ALLOC, allocation failure) in the CPRS Expert System when HL7
 messages are too long.
  
 2. [HVH-0901-10874]  Changes the triggering mechanism for the NPO > 72 
 Hours notification/alert.  Previously used the "AF" cross-reference in 
 the Orders file.  This was problematic if the NPO order had 
 multiple order actions.  In these cases, the alert was triggered 
 too often and/or used the wrong order start date/time. This patch stores
 the start date/time for NPO orders in the ^XTMP("ORBNPO") temporary global
 for more reliable alert triggering.  ^XTMP("ORBNPO") entries are 
 removed after seven days to prevent the global from growing too large.
 Only NPO orders with start date/times older than 72 hours are stored in
 this global.
  
 3. [RIC-0103-22009]  When running the Notifications option "Determine 
 Recipients for a Notification" for the LAB THRESHOLD EXCEEDED alert, if 
 an order number was not entered at the ORDER NUMBER prompt, an error 
 occurred.  Also, if the order's results were non-numeric an error
 occurred.  This patch fixes those problems.
  
 4. [PUG-0303-51834]  When running the Notifications option "Determine 
 Recipients for a Notification" for the FLAG ORDER FOR CLARIFICATION 
 alert, the user is not prompted for recipients that could have been 
 entered in the GUI when the alert is triggered.  This patch fixes that 
 problem by adding the RECIPIENT(S) ENTERED AT GUI PROMPTS: prompt when 
 using the option for notification/alert FLAG ORDER FOR CLARIFICATION.
  
  
 ROUTINE SUMMARY:
 ================
  The following is a list of the routines included in this patch.  The
  second line of each of these routines will look like:
  
     <tab>;;3.0;ORDER ENTRY/RESULTS REPORTING;**[patch list]**;Dec 17, 1997
  
                             CHECK^XTSUMBLD results
  Routine name     Before Patch      After Patch         Patch List
  ============     ============      ===========         ==========
  OCXOHL7            6205140          9586468               32,179
  ORB3TIM1           8404736          9663016       31,64,74,88,102,143,179
  ORB3U1            12182978         12684885          9,74,88,91,105,179
  ORB3U2            14079427         14228267             9,74,105,179
  
  
 INSTALLATION INSTRUCTIONS:  
 =========================
 This patch should be loaded during non-peak hours to minimize disruption
 to users.  Users may be on the system during installation. Installation
 will take less than 5 minutes.
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2. Review your mapped set.  If any of the routines listed in the ROUTINE
    SUMMARY section are mapped, they should be removed from the mapped set
    at this time.
  
 3. From the Kernel Installation and Distribution System Menu, select the
    Installation menu.
  
 4. From this menu, you may elect to use the following options (when 
    prompted for INSTALL NAME, enter OR*3.0*179):
      a.  Backup a Transport Global
      b.  Compare Transport Global to Current System
      c.  Verify Checksums in Transport Global
  
 5. Use the Install Package(s) options and select the package OR*3*179.
  
 6. When prompted 'Want KIDS to INHIBIT LOGONS during install? YES//',
    respond "NO".
  
 7. When prompted 'Want to DISABLE Scheduled Options, Menu Options and 
    Protocols? YES//', respond "NO".
  
 8. If routines were unmapped as part of step 2, they should be returned
    to the mapped set once the installation has run to completion.

Routine Information:
====================

Routine Name:
  - OCXOHL7


Routine Checksum:

Routine Name:
  - ORB3TIM1


Routine Checksum:

Routine Name:
  - ORB3U1


Routine Checksum:

Routine Name:
  - ORB3U2


Routine Checksum:

=============================================================================
User Information:
Entered By  : ANDERSON,CURTIS L.            Date Entered  : FEB 25, 2003
Completed By: HOANG,CATHERINE               Date Completed: JAN 28, 2004
Released By : SPIVEY,RICHARD J              Date Released : FEB 03, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
