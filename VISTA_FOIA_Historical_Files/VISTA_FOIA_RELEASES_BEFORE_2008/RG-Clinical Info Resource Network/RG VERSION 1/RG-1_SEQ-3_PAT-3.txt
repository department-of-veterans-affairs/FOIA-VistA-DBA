$TXT Created by DAVIS,PAULETTE T at DEVCRN.ISC-ALBANY.VA.GOV  (KIDS) on FRIDAY, 04/28/00 at 10:35
=============================================================================
Run Date: MAY 16, 2000                     Designation: RG*1*3
Package : RG - CLINICAL INFO  NETWORKPriority: Mandatory
Version : 1         SEQ #3                     Status: Released
=============================================================================

Associated patches: (v)MPIF*1*1    <<= must be installed BEFORE `RG*1*3'
                    (v)RG*1*1     <<= must be installed BEFORE `RG*1*3'
                    (v)XU*8*131    <<= must be installed BEFORE `RG*1*3'
                    (v)XU*8*145    <<= must be installed BEFORE `RG*1*3'

Subject: CIRN EXCEPTION HANDLING OPTION

Category: 
  - Data Dictionary
  - Routine
  - Enhancement (Mandatory)

Description: 
============

  1.)  This patch eliminates a large number of mail messages currently 
  being sent for Clinical Information Resource Network (CIRN) exceptions.
  A new List Manager interface has been created for the resolution of the
  following exceptions in the CIRN HL7 EXCEPTION TYPE (#991.11) file.
  The site will no longer receive mail messages for these exceptions.
   
       209  Required field(s) Date of Birth or 
            Name missing for patient sent to MPI
       213  SSN Match Failed
       214  Name Doesn't Match
       215  Death Entry on MPI not in VISTA
       216  Death Entry on Vista not in MPI
       217  Death Entries on MPI and Vista DO NOT Match
       218  Potential Matches Returned
   
  Upon entering the CIRN Exception Handling option [RG CIRN EXCEPTION
  HANDLING], the status of purging the CIRN HL7 EXCEPTION LOG (#991.1)
  file is displayed.  The user can start the purge to clean up the
  CIRN HL7 EXCEPTION LOG (#991.1) file and return a few minutes later
  to use the CIRN Exception Handling option when the purge has completed.
  This provides the user with the most up-to-date information on the
  List Manager screen.
   
  The CIRN Exception Handling option [RG CIRN EXCEPTION HANDLING], lists 
  patients and pertinent information with actions that allow the user to 
  do a HINQ Inquiry, edit selected fields in the PATIENT (#2) file, Patient
  Audit, MPI Display Only Query, Single Patient Initialization to the MPI,
  Patient Inquiry, and Update Exception Status.
   
  The notification that users receive at log-in when there are exceptions
  that need resolution has been modified.  This resolves NOIS message
  MAC-0300-60330.
   
  2.)  A new background job, CIRN Exception Purge [RG EXCEPTION PURGE],
  is available for IRM use.  If your site is actively using the CIRN
  Exception Handling option [RG CIRN EXCEPTION HANDLING], there is no
  need for IRM to schedule this task.  Otherwise, the CIRN Exception 
  Purge option [RG EXCEPTION PURGE] can be scheduled via TaskMan to
  run once a week to purge the CIRN HL7 EXCEPTION LOG (#991.1) file.  
  This background job purges duplicate entries, resolved entries over
  30 days old and entries for patients with names beginning with "ZZ"
  from the CIRN HL7 EXCEPTION LOG (#991.1) file.
   
  3.)  View Potential Match Patient [RG EXCEPTION POTENTIAL MATCH]
  The wording of the display for the View Potential Match Patient option
  was refined as per NOIS messages HOU-0999-73036, NAS-0899-30547,
  ELP-1299-70771 and PRE-0200-62675.
   
  4.)  The PROTOCOL to process a CIRN patient subscription request, RG
  PT SUBSCRIPTION RECEIVER, has been changed.  The SENDING FACILITY
  REQUIRED? (#773.1) and RECEIVING FACILITY REQUIRED? (#773.2) fields
  are now set to NO.  This protocol is being attached as a SUBSCRIBER
  to the VAFC ADT-A08 SERVER protocol.  It was inadvertently left off
  in the CIRN PD/MPI 1.0 build.
   
  5.)  The remote patient's Social Security Number has been added to the
  "Remote Sensitivity Indicated" and "Remote Date of Death Indicated"
  bulletins as per E3R request #13584.
   
  6.)  NOIS FTL-0300-51425 identified a problem with the Patient Data
  Review option [VAFC EXCEPTION HANDLER].  After selecting the patient,
  on the Demographic Merge screen, if the Patient Audit report was
  queued to print, an undefined error occurred in RGMTAUD.  This has
  been corrected.
   
  7.)  NOIS messages MAR-0300-21212, CHA-0300-31972 and WRJ-0300-12026
  reported an undefined error when running the CIRN Exception Purge [RG
  EXCEPTION PURGE].  This has been corrected.
   
  8)  NOIS OKL-0300-70985 found a problem on the CIRN EXCEPTION ACTIONS
  screen of the CIRN Exception Handling option [RG CIRN EXCEPTION
  HANDLING].  The status was incorrectly changed to "processed" and
  the ICN was not properly displayed. This has been corrected.
   
  9)  NOIS DUB-0300-32176 reported an error in the CIRN Exception
  Handling option [RG CIRN EXCEPTION HANDLING] while processing
  exceptions sorted by patient.  Code was added in routine RGEXHND1
  to ensure that an entry in the Exception List exists in the PATIENT
  (#2) file.
   
  10) A new routine, RGRAS, provides a report of the number of active
  and shared patients at your site.  This report will be useful in
  the future for determining the time required for the seeding
  portion of the CPRS REMOTE DATA VIEWS project.  This routine is
  not attached to any menu and is to be run from programmer mode.
   
  Data Dictionary Changes:
  ========================
  A new field was added to the CIRN HL7 EXCEPTION LOG (#991.1) file.
  The EXCEPTION STATUS (#6) field was added to the EXCEPTION (#2)
  multiple.  The field is used to determine when an exception has been
  resolved and can be purged from the file.
   
  A MUMPS type cross-reference has been added to sort entries by
  EXCEPTION STATUS (#6) and TYPE (#2).  This new cross-reference speeds
  up the look-up process for exceptions to be resolved as requested in
  NOIS MAC-0200-61015.
   
  The TEXT (#10) field in the EXCEPTION (#2) multiple of the CIRN HL7
  EXCEPTION LOG (#991.1) file was edited to allow the text string to be
  up to 250 characters in length.
   
  Three new fields were added to the CIRN SITE PARAMETER (#991.8) file.
  The EXC PURGE START DATE/TIME (#40), EXC PURGE STOP DATE/TIME (#41)
  and EXC PRUGE STATUS (#42) fields enable functionality to allow the
  user to specify whether or not to purge exceptions based on current
  status and when it was last run.
  
  New Options:
  ============
  (1) CIRN Exception Handling [RG CIRN EXCEPTION HANDLING]
  This option provides utilities for handling CIRN Exceptions in
  the CIRN HL7 EXCEPTION LOG (#991.1) file.
  (2) CIRN Exception Purge [RG EXCEPTION PURGE]
  This option purges duplicate entries, resolved entries over 30
  days old and entries for patients with names beginning with
  "ZZ" from the CIRN HL7 EXCEPTION LOG (#991.1) file.
   
  New Protocols:
  ==============
  14 new protocols are included to support CIRN Exception Handling.
  RG EXCPT ACTION MENU
  RG EXCPT DATE SORT
  RG EXCPT DISPLAY ONLY QUERY
  RG EXCPT EDIT PATIENT DATA
  RG EXCPT HINQ INQUIRY
  RG EXCPT MAIN MENU
  RG EXCPT PATIENT AUDIT
  RG EXCPT PATIENT INQUIRY
  RG EXCPT PATIENT SORT
  RG EXCPT SELECT
  RG EXCPT SELECT TYPE
  RG EXCPT SING PATIENT INIT
  RG EXCPT TYPE SORT
  RG EXCPT UPDATE STATUS
   
  New List Templates:
  ===================
  2 new list templates are included to support CIRN Exception Handling.
  RG EXCPT ACTION
  RG EXCPT SUMMARY
   
  Documentation Update:
  =====================
  Revised information about Exception Handling is available at the
  following website address.
  http://vista.med.va.gov/cirn/Exception%20Handling.htm
   
  The Exception Handling document replaces Appendix B in the Clinical
  Information Resource Network (CIRN) V. 1.0, Patient Administration
  User Manual and Appendix F in the Clinical Information Resource
  Network, Patient Demographics (CIRN-PD) and Master Patient Index
  (MPI), Installation and Implementation Guide.
   
  File, RG1_0P3.PDF, explaining the new CIRN Exception Handling option,
  can be retrieved at the following locations.
   
        OI Field Office                 FTP Address
        ---------------                 -----------
        Hines                           152.129.1.110
        Albany                          152.127.1.5
        Salt Lake City                  152.131.2.1
   
  Test Sites:
  ===========
  Alexandria, LA
  Amarillo, TX
  Ann Arbor, MI
  Atlanta, GA
  Augusta, GA
  Battle Creek, MI
  Bay Pines, FL
  Bedford, MA
  Big Spring, TX
  Birmingham, AL
  Black Hills HCS
  Charleston, SC
  Columbia, MO
  Connecticut HCS
  Danville, IL
  Dayton, OH
  Denver, CO
  Detroit, MI
  Dublin, GA
  El Paso, TX
  Fort Lyon, CO
  Grand Junction, CO
  Houston, TX
  Huntington, WV
  Indianapolis, IN
  Las Vegas, NV
  Loma Linda, CA
  Long Beach, CA
  Louisville, KY
  Manchester, NH
  Martinsburg, WV
  Maryland HCS
  Miami, FL
  Mountain Home, TN
  Murfreesboro, TN
  Nashville, TN
  New Orleans, LA
  Northern California HCS
  Oklahoma City, OK
  Prescott, AZ
  Providence, RI
  Salem, VA
  Saginaw, MI
  Salt Lake City, UT
  San Francisco, CA
  Sheridan, WY
  Shreveport, LA
  Sioux Falls, SD
  Spokane, WA
  Togus, ME
  Tuscaloose, AL
  Washington DC
  West Palm Beach, FL
  White River Junction, VT
   
  Associated NOIS:
  ================
  HOU-0999-73036
  NAS-0899-30547
  ELP-1299-70771
  MAC-0200-61015
  PRE-0200-62675
  MAC-0300-60330
  FTL-0300-51425
  MAR-0300-21212
  OKL-0300-70985
  CHA-0300-31972
  WRJ-0300-12026
  DUB-0300-32176
   
  Associated E3R:
  ===============
  13584
   
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
   
  <TAB>;;1.0;CLINICAL INFO RESOURCE NETWORK;**[Patch List]**;30 Apr 99
  CHECK^XTSUMBLD results:
   
  Routine       Before Patch       After Patch       Patch List
  --------      ------------       ------------      ----------
  RGEVPM           7338460          7210066             1,3
  RGEVPRG            N/A            9706026               3
  RGEX01             N/A            7040015               3
  RGEX03             N/A            7564712               3
  RGEXHND1           N/A            9271707               3
  RGHLLOG          3763356          3989615             1,3
  RGJCTS01         4119447          4176167             1,3
  RGMTAUD          7098255          7153136               3
  RGP3PST            N/A            2597168               3
  RGRAS              N/A            5019980               3
  RGRSBUL1         7407808          8014124             1,3
  RGRSDYN1         8460215          8464126             1,3
  RGRSPT           6205472          6209267             1,3
  RGRSUTIL         3871163          3888387             1,3
   
  Post-Install Routine RGP3PST:
  =============================
  The post-install routine, RGP3PST, makes the following changes
  in the CIRN HL7 EXCEPTION TYPE (#991.11) file.  The MAIL GROUP (#6)
  field for exception 228, Patient Does Not Exist, has been changed
  to the MPIF EXCEPTIONS mail group.  The ACTION (#2) field for
  exception 211, CMOR Lookup Failed, has been restored to MAIL. 
  Data in the ACTION (#2) and MAIL GROUP (#6) fields has been 
  deleted for the exceptions that now use the List Manager interface
  (209, 213-218).  The data in these fields is no longer needed.
  Also, code has been added to set the EXCEPTION STATUS (#6) field
  to PROCESSED in the CIRN HL7 EXCEPTIONS LOG (#991.1) file if the
  exception type mail group is MPIF EXCEPTIONS.  The 'ASTAT' cross-
  reference on the TYPE (#2) and  EXCEPTION STATUS (#6) fields is
  re-indexed.
  
  Installation Instructions:
  ==========================
  This patch may be loaded with users on the system.  You may wish
  to install it during non-peak hours.  Installation will take less
  than 2 minutes.
   
  1.  Using the TaskMan option Schedule/Unschedule Options [XUTM SCHEDULE],
      unschedule the following option:
        VAFC BATCH UPDATE          UPDATE BATCH JOB FOR HL7 v2.3
   
  2.  Use the INSTALL/CHECK MESSAGE option on the Packman menu.  [Note: 
      TEXT PRINT/DISPLAY option in the PackMan menu will display the 
      patch text only.]
   
  3.  None of the routines in the CIRN Patient Demographics package
      have been recommended for routine mapping.
   
  4.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  5.  From this menu, you may elect to use the following options (when
      prompted for the INSTALL NAME, enter RG*1.0*3).
   
      (a)  Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch.  It will NOT
           backup any other changes such as DDs or templates.
   
      (b)  Compare Transport Global to Current System - this option will
           allow you to view all changes that will be made when the
           patch is installed.  It compares all components of the patch
           (routines, DDs, templates, etc.).
   
      (c)  Verify Checksums in Transport Global - this option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
   
      (d)  Print Transport Global - this option will allow you to view the
           components of the KIDS build.
   
  6.  Use the Install Package(s) option and select the package RG*1.0*3.
   
  7.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
      respond NO.
   
  8.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond NO.
   
  9.  Using the TaskMan option Schedule/Unschedule Options [XUTM SCHEDULE],
      schedule the option VAFC BATCH UPDATE [UPDATE BATCH JOB FOR HL7 v2.3]
      to run every 10 minutes.
   
  10. Routine RGP3PST can be deleted from your system after successful
      installation.
   
  Optional:  If your site is actively using the CIRN Exception Handling
  option [RG CIRN EXCEPTION HANDLING], there is no need for IRM to
  schedule the CIRN Exception Purge [RG EXCEPTION PURGE].  If this is
  not the case, using the TaskMan option Schedule/Unschedule Options
  [XUTM SCHEDULE], schedule the option CIRN Exception Purge [RG
  EXCEPTION PURGE] to run.  We recommend that you set the QUEUED TO
  RUN AT WHAT TIME field to after hours, when there is no conflict
  with backup.  We recommend that you set the RESCHEDULING FREQUENCY
  field for 7D for the job to be re-run every week.

Routine Information:
====================

Routine Name:
  - RGEVPRG


Routine Checksum:

Routine Name:
  - RGEX01


Routine Checksum:

Routine Name:
  - RGEX03


Routine Checksum:

Routine Name:
  - RGEXHND1


Routine Checksum:

Routine Name:
  - RGHLLOG


Routine Checksum:

Routine Name:
  - RGRSUTIL


Routine Checksum:

Routine Name:
  - RGEVPM


Routine Checksum:

Routine Name:
  - RGRSBUL1


Routine Checksum:

Routine Name:
  - RGP3PST


Routine Checksum:

Routine Name:
  - RGRSDYN1


Routine Checksum:

Routine Name:
  - RGJCTS01


Routine Checksum:

Routine Name:
  - RGMTAUD


Routine Checksum:

Routine Name:
  - RGRSPT


Routine Checksum:

Routine Name:
  - RGRAS


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : DAVIS,PAULETTE                 Date Entered : NOV 01, 1999
Completed By: HERREN,CATHRYN                Date Completed: MAY 08, 2000
Released By : CARLSON-GOTTS,NANCY           Date Released : MAY 16, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
