Released SD*5.3*424 SEQ #339
Extracted from mail message
**KIDS**:SD*5.3*424^

**INSTALL NAME**
SD*5.3*424
"BLD",5996,0)
SD*5.3*424^SCHEDULING^0^3050309^y
"BLD",5996,1,0)
^^1^1^3050131^
"BLD",5996,1,1,0)
Unable to inactivate stop code on wait list.
"BLD",5996,4,0)
^9.64PA^^
"BLD",5996,"ABPKG")
n
"BLD",5996,"KRN",0)
^9.67PA^8989.52^19
"BLD",5996,"KRN",.4,0)
.4
"BLD",5996,"KRN",.401,0)
.401
"BLD",5996,"KRN",.402,0)
.402
"BLD",5996,"KRN",.403,0)
.403
"BLD",5996,"KRN",.5,0)
.5
"BLD",5996,"KRN",.84,0)
.84
"BLD",5996,"KRN",3.6,0)
3.6
"BLD",5996,"KRN",3.8,0)
3.8
"BLD",5996,"KRN",9.2,0)
9.2
"BLD",5996,"KRN",9.8,0)
9.8
"BLD",5996,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",5996,"KRN",9.8,"NM",1,0)
SDWLE2^^0^B2289830
"BLD",5996,"KRN",9.8,"NM",2,0)
SDWLE110^^0^B21549046
"BLD",5996,"KRN",9.8,"NM","B","SDWLE110",2)

"BLD",5996,"KRN",9.8,"NM","B","SDWLE2",1)

"BLD",5996,"KRN",19,0)
19
"BLD",5996,"KRN",19.1,0)
19.1
"BLD",5996,"KRN",101,0)
101
"BLD",5996,"KRN",409.61,0)
409.61
"BLD",5996,"KRN",771,0)
771
"BLD",5996,"KRN",870,0)
870
"BLD",5996,"KRN",8989.51,0)
8989.51
"BLD",5996,"KRN",8989.52,0)
8989.52
"BLD",5996,"KRN",8994,0)
8994
"BLD",5996,"KRN","B",.4,.4)

"BLD",5996,"KRN","B",.401,.401)

"BLD",5996,"KRN","B",.402,.402)

"BLD",5996,"KRN","B",.403,.403)

"BLD",5996,"KRN","B",.5,.5)

"BLD",5996,"KRN","B",.84,.84)

"BLD",5996,"KRN","B",3.6,3.6)

"BLD",5996,"KRN","B",3.8,3.8)

"BLD",5996,"KRN","B",9.2,9.2)

"BLD",5996,"KRN","B",9.8,9.8)

"BLD",5996,"KRN","B",19,19)

"BLD",5996,"KRN","B",19.1,19.1)

"BLD",5996,"KRN","B",101,101)

"BLD",5996,"KRN","B",409.61,409.61)

"BLD",5996,"KRN","B",771,771)

"BLD",5996,"KRN","B",870,870)

"BLD",5996,"KRN","B",8989.51,8989.51)

"BLD",5996,"KRN","B",8989.52,8989.52)

"BLD",5996,"KRN","B",8994,8994)

"BLD",5996,"QUES",0)
^9.62^^
"BLD",5996,"REQB",0)
^9.611^2^2
"BLD",5996,"REQB",1,0)
SD*5.3*397^1
"BLD",5996,"REQB",2,0)
SD*5.3*273^1
"BLD",5996,"REQB","B","SD*5.3*273",2)

"BLD",5996,"REQB","B","SD*5.3*397",1)

"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
424^3050309
"PKG",16,22,1,"PAH",1,1,0)
^^1^1^3050309
"PKG",16,22,1,"PAH",1,1,1,0)
Unable to inactivate stop code on wait list.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","SDWLE110")
0^2^B21549046
"RTN","SDWLE110",1,0)
SDWLE110 ;;IOFO BAY PINES/TEH - WAITING LIST-ENTER/EDIT;06/12/2002 ; 29 Aug 2002  2:54 PM
"RTN","SDWLE110",2,0)
 ;;5.3;scheduling;**263,273,424**;AUG 13 1993
"RTN","SDWLE110",3,0)
 ;
"RTN","SDWLE110",4,0)
 ;
"RTN","SDWLE110",5,0)
 ;******************************************************************
"RTN","SDWLE110",6,0)
 ;                             CHANGE LOG
"RTN","SDWLE110",7,0)
 ;                                               
"RTN","SDWLE110",8,0)
 ;   DATE                        PATCH                   DESCRIPTION
"RTN","SDWLE110",9,0)
 ;   ----                        -----                   -----------
"RTN","SDWLE110",10,0)
 ;   11/27/02                  SD*5.3*273            Add "/", line SA1+11,+13,FA2+13
"RTN","SDWLE110",11,0)
 ;   
"RTN","SDWLE110",12,0)
 ;   
"RTN","SDWLE110",13,0)
EN K DIR
"RTN","SDWLE110",14,0)
 I $D(^SDWL(409.3,SDWLDA,0)) S DIR("B")=$$EXTERNAL^DILFD(409.3,10,,$P(^(0),U,11))
"RTN","SDWLE110",15,0)
 I DIR("B")="" K DIR("B")
"RTN","SDWLE110",16,0)
 S DIR(0)="SO^1:Future;2:ASAP"
"RTN","SDWLE110",17,0)
 S DIR("L",1)="Priority",DIR("L",2)=""
"RTN","SDWLE110",18,0)
 S DIR("L",3)="1. Future",DIR("L")="2. ASAP"
"RTN","SDWLE110",19,0)
 D ^DIR I X["^" S DUOUT=1 Q  ;-'^' here will remove patient from wait list
"RTN","SDWLE110",20,0)
 I X="@" W *7," ??" G EN
"RTN","SDWLE110",21,0)
 I X="" W *7,"Required or '^' to quit." G EN
"RTN","SDWLE110",22,0)
 I $D(DTOUT) S DUOUT=1 Q
"RTN","SDWLE110",23,0)
 S SDWLPRIE=$S(X["A":"A",X["F":"F",X[1:"F",X[2:"A",X["a":"A",X["f":"F",1:"F")
"RTN","SDWLE110",24,0)
 S DIE="^SDWL(409.3,",DA=SDWLDA,DR="10////^S X=SDWLPRIE" D ^DIE
"RTN","SDWLE110",25,0)
 ;
"RTN","SDWLE110",26,0)
 ;If priority is ASAP ask requesting provider
"RTN","SDWLE110",27,0)
 ;
"RTN","SDWLE110",28,0)
 I SDWLPRIE="A" S Y=DT D DD^%DT W " ",Y D SA,DUP G END:$D(DUOUT) Q
"RTN","SDWLE110",29,0)
 I SDWLPRIE="F" D FA G END:$D(DUOUT) Q
"RTN","SDWLE110",30,0)
 Q
"RTN","SDWLE110",31,0)
SA K DIR,DR,DIE S SDWLERR=0,SDWLX=$S($D(SDWLPROV):$$EXTERNAL^DILFD(409.3,12,,SDWLPROV),1:"")
"RTN","SDWLE110",32,0)
 I $D(SDWLPROV),SDWLPROV,SDWLX'="" S DIR("B")=SDWLX
"RTN","SDWLE110",33,0)
 I $D(^SDWL(409.3,SDWLDA,0)) S DIR("B")=$$EXTERNAL^DILFD(409.3,11,,$P(^(0),U,12))
"RTN","SDWLE110",34,0)
 I DIR("B")="" K DIR("B")
"RTN","SDWLE110",35,0)
 K %DT,DR S DIR(0)="SO^1:Provider;2:Patient"
"RTN","SDWLE110",36,0)
 S DIR("L",1)="Request By",DIR("L",2)=""
"RTN","SDWLE110",37,0)
 S DIR("L",3)="1. Provider",DIR("L")="2. Patient"
"RTN","SDWLE110",38,0)
 D ^DIR I X["^" S DUOUT=1,DIR("A")="ASAP" Q
"RTN","SDWLE110",39,0)
 S X=Y
"RTN","SDWLE110",40,0)
 I $D(DTOUT) S DUOUT=1,DIR("A")="ASAP" Q
"RTN","SDWLE110",41,0)
 S SDWLRBE=$S(X=1:1,X["PR":1,X["pr":1,X["Pr":1,X=2:2,X["PA":2,X["pa":2,X["Pa":2,1:0) I 'SDWLRBE W *7," ??" G SA
"RTN","SDWLE110",42,0)
 S DR="11////^S X=SDWLRBE",DA=SDWLDA,DIE="^SDWL(409.3," D ^DIE
"RTN","SDWLE110",43,0)
SA1 I SDWLRBE=1 D
"RTN","SDWLE110",44,0)
 .S DIC("S")="I $$SCREEN^SDUTL2(Y,DT)"
"RTN","SDWLE110",45,0)
 .S SDWLX=$S($D(SDWLPROV):$$EXTERNAL^DILFD(409.3,12,,SDWLPROV),1:"") I SDWLX'="" S DIC("B")=SDWLPROV
"RTN","SDWLE110",46,0)
 .I $D(^SDWL(409.3,SDWLDA,0)) S DIR("B")=$$EXTERNAL^DILFD(409.3,11,,$P(^(0),U,12))
"RTN","SDWLE110",47,0)
 .S SDWLERR=0,DIC(0)="AEQ",DIC=200,DIC("A")="Provider Requesting Appointment: " D ^DIC
"RTN","SDWLE110",48,0)
 .I X["^" S DUOUT=1 Q
"RTN","SDWLE110",49,0)
 .I Y<1 S SDWLERR=1 Q
"RTN","SDWLE110",50,0)
 .I $D(DUOUT) Q
"RTN","SDWLE110",51,0)
 .I $D(DTOUT) S DUOUT=1 Q
"RTN","SDWLE110",52,0)
 .K DIC,DIC("S"),DIC("A"),DIC(0),DIC("B")
"RTN","SDWLE110",53,0)
 .S SDWLPROV=+Y,SDWLPRON=$P(Y,U,2),DIE="^SDWL(409.3,",DA=SDWLDA
"RTN","SDWLE110",54,0)
 .S DR="12////^S X=SDWLPROV" D ^DIE S SDWLPRVE=SDWLPROV
"RTN","SDWLE110",55,0)
 I SDWLERR W *7," Required" G SA1
"RTN","SDWLE110",56,0)
 S DR="11////^S X=SDWLRBE" D ^DIE
"RTN","SDWLE110",57,0)
 S DR="22///TODAY" D ^DIE K DIE,DR,DIC,DIR,SDWLPRVE,SDWLPROV,SDWLPRON
"RTN","SDWLE110",58,0)
 Q
"RTN","SDWLE110",59,0)
 ;
"RTN","SDWLE110",60,0)
 ;If Priority is 'FUTURE' ask Desired Date of Appointment and Requesting by Provider or Patient
"RTN","SDWLE110",61,0)
 ;
"RTN","SDWLE110",62,0)
FA S SDWLERR=0 K DIR,DUOUT,DR,DIE I $D(SDWLDAPE) S Y=SDWLDAPE D DD^%DT S DIR("B")=Y
"RTN","SDWLE110",63,0)
 I $D(^SDWL(409.3,SDWLDA,0)),$P(^(0),U,16) S %DT("B")=$$EXTERNAL^DILFD(409.3,22,,$P(^(0),U,16))  ;SD*5.3*424
"RTN","SDWLE110",64,0)
 S %DT="AEF",%DT(0)=DT,%DT("A")="Desired Date of Appointment: " D ^%DT  ;SD*5.3*424
"RTN","SDWLE110",65,0)
 I $D(DTOUT)!(X="^") G EN
"RTN","SDWLE110",66,0)
 S SDWLDAPE=Y,DR="22////^S X=SDWLDAPE",DIE="^SDWL(409.3,",DA=SDWLDA D ^DIE
"RTN","SDWLE110",67,0)
 K SDWLDAPE,Y,DA,DIE,%DT,%DT(0),%DT("A"),%DT("B")
"RTN","SDWLE110",68,0)
FA1 K DIR,%DT,DR S DIR(0)="SO^1:Provider;2:Patient"
"RTN","SDWLE110",69,0)
 S SDWLX=$S($D(SDWLPROV):$$EXTERNAL^DILFD(409.3,12,,SDWLPROV),1:"") I SDWLX'="" S DIR("B")=SDWLPROV
"RTN","SDWLE110",70,0)
 I $D(^SDWL(409.3,SDWLDA,0)) S DIR("B")=$$EXTERNAL^DILFD(409.3,11,,$P(^(0),U,12))
"RTN","SDWLE110",71,0)
 I DIR("B")="" K DIR("B")
"RTN","SDWLE110",72,0)
 S DIR("L",1)="Request By",DIR("L",2)=""
"RTN","SDWLE110",73,0)
 S DIR("L",3)="1. Provider",DIR("L")="2. Patient"
"RTN","SDWLE110",74,0)
 D ^DIR I X["^" S DIR("B")=$S($D(SDWLDAPE):SDWLDAPE,1:"") G FA
"RTN","SDWLE110",75,0)
 S X=Y
"RTN","SDWLE110",76,0)
 I $D(DTOUT) S DUOUT=1 S DIR("B")=SDWLDAPE G FA
"RTN","SDWLE110",77,0)
 S SDWLRBE=$S(X=1:1,X["PR":1,X["pr":1,X["Pr":1,X=2:2,X["PA":2,X["pa":2,X["Pa":2,1:0) I 'SDWLRBE W *7," ??" G FA1
"RTN","SDWLE110",78,0)
 S DR="11////^S X=SDWLRBE",DA=SDWLDA,DIE="^SDWL(409.3," D ^DIE
"RTN","SDWLE110",79,0)
FA2 I SDWLRBE=1 D
"RTN","SDWLE110",80,0)
 .;
"RTN","SDWLE110",81,0)
 .;if provider is selected look-up valid provider from new person (File 200)
"RTN","SDWLE110",82,0)
 .;
"RTN","SDWLE110",83,0)
 .S DIC("S")="I $$SCREEN^SDUTL2(Y,DT)"
"RTN","SDWLE110",84,0)
 .S SDWLX=$S($D(SDWLPROV):$$EXTERNAL^DILFD(409.3,12,,SDWLPROV),1:""),DIC("B")=$S($D(SDWLPROV):SDWLX,1:"")
"RTN","SDWLE110",85,0)
 .S SDWLERR=0,DIC(0)="AEQ",DIC=200,DIC("A")="Provider Requesting Appointment: " D ^DIC
"RTN","SDWLE110",86,0)
 .I X["^" S DUOUT=1 Q
"RTN","SDWLE110",87,0)
 .I Y<1 S SDWLERR=1 Q
"RTN","SDWLE110",88,0)
 .I $D(DTOUT) S DUOUT=1 Q
"RTN","SDWLE110",89,0)
 .Q:$D(DUOUT)  D
"RTN","SDWLE110",90,0)
 ..K DIC,DIC("S"),DIC("A"),DIC(0),DIC("B")
"RTN","SDWLE110",91,0)
 ..S SDWLPROV=+Y,SDWLPRON=$P(Y,U,2),DIE="^SDWL(409.3,",DA=SDWLDA
"RTN","SDWLE110",92,0)
 ..S DR="12////^S X=SDWLPROV" D ^DIE S SDWLPRVE=SDWLPROV K DIE
"RTN","SDWLE110",93,0)
 I SDWLERR W *7," Required" G FA2
"RTN","SDWLE110",94,0)
END K DIC,DIE,DIR I $D(DUOUT) S DIR("B")=$S(SDWLPRIE="F":"Future",1:"ASAP")
"RTN","SDWLE110",95,0)
 K SDWLPRVE,SDWLPROV,SDWLPRON
"RTN","SDWLE110",96,0)
 Q
"RTN","SDWLE110",97,0)
DUP ;
"RTN","SDWLE110",98,0)
 Q
"RTN","SDWLE2")
0^1^B2289830
"RTN","SDWLE2",1,0)
SDWLE2 ;;IOFO BAY PINES/TEH - WAITING LIST-ENTER/EDIT;06/12/2002 ; 20 Aug 2002  2:10 PM
"RTN","SDWLE2",2,0)
 ;;5.3;scheduling;**263,397,424**;AUG 13 1993
"RTN","SDWLE2",3,0)
 ;
"RTN","SDWLE2",4,0)
 ;
"RTN","SDWLE2",5,0)
 ;******************************************************************
"RTN","SDWLE2",6,0)
 ;                             CHANGE LOG
"RTN","SDWLE2",7,0)
 ;                                               
"RTN","SDWLE2",8,0)
 ;   DATE                        PATCH                   DESCRIPTION
"RTN","SDWLE2",9,0)
 ;   ----                        -----                   -----------
"RTN","SDWLE2",10,0)
 ;   
"RTN","SDWLE2",11,0)
 ;   
"RTN","SDWLE2",12,0)
 ;   
"RTN","SDWLE2",13,0)
 ;      
"RTN","SDWLE2",14,0)
 ;Service/Specialty sub-routine
"RTN","SDWLE2",15,0)
 ;
"RTN","SDWLE2",16,0)
EN K DIR,DIC,DR I $D(SDWLSS) S X=$$EXTERNAL^DILFD(409.3,7,,SDWLSS)
"RTN","SDWLE2",17,0)
 S SDWLERR=0 I $D(SDWLSS) S DIC("B")=$S($D(SDWLSS):X,1:"") I DIC("B")="" K DIC("B")
"RTN","SDWLE2",18,0)
 S DIC(0)="AEQ",DIC=409.31,DIC("A")="Select Service/Specialty: "
"RTN","SDWLE2",19,0)
 S DIC("S")="I $D(^SDWL(409.31,""E"",SDWLINE,+Y)),$D(^SDWL(409.31,+Y,""I"")),$P(^SDWL(409.31,+Y,""I"",($O(^SDWL(409.31,+Y,""I"",""B"",SDWLINE,""""))),0),U,4)=""""" D ^DIC
"RTN","SDWLE2",20,0)
 I X["^" S DUOUT=1 G END
"RTN","SDWLE2",21,0)
 I Y<0 W *7," Required" G EN
"RTN","SDWLE2",22,0)
 S SDWLSSX=+Y,DIE="^SDWL(409.3,",DR="7////^S X=SDWLSSX" D ^DIE
"RTN","SDWLE2",23,0)
 K DIR,DIC,DIE,DR,Y,DUOUT
"RTN","SDWLE2",24,0)
END Q
"VER")
8.0^22.0
**END**
**END**
