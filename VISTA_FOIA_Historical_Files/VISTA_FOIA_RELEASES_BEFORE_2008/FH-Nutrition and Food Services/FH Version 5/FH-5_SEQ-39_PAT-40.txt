$TXT Created by KNOEPFLE,RICH at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Monday, 10/27/03 at 07:55
=============================================================================
Run Date: NOV 18, 2003                     Designation: FH*5*40
Package : FH - DIETETICS                      Priority: Mandatory
Version : 5        SEQ #39                      Status: Released
                  Compliance Date: DEC 19, 2003
=============================================================================

Associated patches: (v)FH*5*39     <<= must be installed BEFORE `FH*5*40'

Subject: Multidivisional additions

Category: 
  - Routine
  - Input Template

Description:
============

 NOIS calls resolved in this Patch:
   
 MON-1003-50791  DIETETIC REPORT PROBLEM              
 SBY-1003-30760  Served Meals and Staffing Worksheet 
 NOL-1003-70672  MISSING SERVED MEALS DATA            
 PRO-1003-10385  NPO Data                             
 WAS-0903-22337  Served Meals Worksheet problems      
 SAM-0903-22197  PROBLEMS W/SERVED MEALS REPORTS & EDIT 
 CPH-0903-41276  Tubefeeding Cost Report printout changed 
 WAS-0903-21033  Assist backing out Dietetics patch       
 MIW-0903-40921  ENCOUNTER DATA MISSING               
 TOM-0903-40627  Problem after installing FH*5*39.   
   
 This patch contains the following items:
    
 1) This patch will allow sites to choose whether or not they will use the
 multidivisional functionality introduced in patch FH*5.0*39 (IT New Service
 Request #20001205).  This will be done via a site parameter called
 MULTIDIVISIONAL SITE?  Non-multidivisional sites will be able to set this
 site parameter to NO.  This will allow the ability to use the old (pre-
 patch 39) non-multidivisional functionality.
   
 Multidivisional sites do not have to set the site parameter.  Leaving the site
 parameter blank (or optionally setting it to YES) will allow the ability to
 continue to use the new multidivisional functionality introduced in Patch 
 FH*5.0*39.
   
 -----------------------------------------------------------------------------
 This is an EXAMPLE of how to use the Modify Site Parameters option to set
 the MULTIDIVISIONAL SITE? parameter to NO:
   
 Select OPTION NAME: Modify Site Parameters
                     ======================
 Select LABEL PRINTERS: HPLASERJET5-LABEL// 
   LABEL PRINTERS: HPLASERJET5-LABEL// 
   SIZE OF LABELS: 4 x 1-1/3 (Laser labels - 14 labels per sheet)// 
 Select LABEL PRINTERS: 
 MULTIDIVISIONAL SITE?: N  NO  <--- SET THE FIELD TO NO.
 WILL YOU USE TRAY TICKETS?: YES// 
 HEADING ON BOTTOM OF TICKET?: YES// 
 -----------------------------------------------------------------------------
    
 NOTE: Patch 40 will also include a post-init routine which will restore 
 data entered during the time frame from the installation of Patch 39 until 
 Patch 40 is loaded.
   
 2)  Prior to patch FH*5.0*39, the Enter Assessment and the Enter Patient 
 Nutrition Status options automatically generated encounters that were 
 stored in the Dietetic Encounters file (#115.7).  With the introduction of 
 the multidivisional functionality where the data is stored by Communication 
 Office(s), these auto-generated encounters (assessment and nutrition 
 status) were not being stored by their respective Communication Offices.  
 Patch FH*5.0*40 will include these options and therefore the autogenerated 
 encounters will be correctly stored by Communication Office.
   
 NOTE: (the following is NOT APPLICABLE for sites switching back to the
 non-multidivisional functionality as described in item #1 above):
   
 FOR MULTIDIVISIONAL SITES ONLY:
 Encounters entered through Enter Assessment and Enter Patient Nutrition 
 Status in the time frame from Patch 39 until Patch 40 will not have a
 Communication Office. This will result in these encounters not showing up in
 the List Encounters or Encounter Statistics options.  A Fileman search can be
 done to find the encounters that do not have a Communication Office:
   
 Select OPTION:    SEARCH FILE ENTRIES
   
 OUTPUT FROM WHAT FILE: DIETETIC ENCOUNTERS// 
   
   -A- SEARCH FOR DIETETIC ENCOUNTERS FIELD: COMMUNICATIONS OFFICE  <---
   -A- CONDITION: NULL  <---
   
   -B- SEARCH FOR DIETETIC ENCOUNTERS FIELD: 
   
 IF: A//     COMMUNICATIONS OFFICE NULL
   
 STORE RESULTS OF SEARCH IN TEMPLATE: 
   
 SORT BY: NUMBER// 
 START WITH NUMBER: FIRST// 
 FIRST PRINT FIELD: .01  NUMBER  <---
 THEN PRINT FIELD: 1  DATE/TIME OF ENCOUNTER  <---
 THEN PRINT FIELD:  
 Heading (S/C): DIETETIC ENCOUNTERS SEARCH  Replace 
 DEVICE: ;80;9999  TELNET
 DIETETIC ENCOUNTERS SEARCH                     NOV 13,2003  13:50    PAGE 1
             DATE/TIME OF
     NUMBER  ENCOUNTER
 -------------------------------------------------------------------------------
         83  SEP 10,2003  11:10
         85  SEP 11,2003  11:09
         90  SEP 12,2003  15:20
         91  SEP 12,2003  15:23
         99  SEP 12,2003  16:10
        101  SEP 12,2003  16:31
        102  SEP 12,2003  16:32
        103  SEP 15,2003  09:20
        153  OCT 16,2003  08:10
        154  OCT 16,2003  08:16
        158  OCT 16,2003
        159  OCT 16,2003  09:18
        160  OCT 16,2003  09:32
        161  OCT 16,2003  13:49
        162  OCT 20,2003
        163  OCT 22,2003  11:47
        164  OCT 22,2003  11:47
        167  OCT 23,2003
        168  OCT 23,2003  08:29
  
                          19 MATCHES FOUND.
  
 Using the dietetic encounter number that displays on the search report,
 inquire into the DIETETICS ENCOUNTER file to display all the information
 relevant to that encounter.  From the encounter data (i.e. PATIENT and/or
 LOCATION) you should be able to determine which communication office to 
 associate with the encounter.  Below is how to use the inquire & the 
 dietetic encounter number to display all the data for the encounters you 
 need to review:
   
 Select OPTION: INQUIRE TO FILE ENTRIES  
  
 OUTPUT FROM WHAT FILE: DIETETIC ENCOUNTERS// 
 Select DIETETIC ENCOUNTERS NUMBER: `101653  101653
 ANOTHER ONE: 
 STANDARD CAPTIONED OUTPUT? Yes// Y  (Yes)
 Include COMPUTED fields:  (N/Y/R/B): NO// BOTH Computed Fields and Record 
 Number (IEN)
  
 NUMBER: 101653                          NUMBER: 101653
   DATE/TIME OF ENCOUNTER: NOV 12, 2003@12:25
   CLINICIAN: KREUZ,SHERI                ENCOUNTER TYPE: NUTRITIONAL 
 ASSESSMENT
   INITIAL/FOLLOWUP: INITIAL             TIME UNITS: 45
   GROUP/INDIVIDUAL: INDIVIDUAL          GROUP SIZE: 1
   ENTERING CLERK: KREUZ,SHERI           DATE/TIME ENTERED: NOV 12, 2003@12:26:29
 PATIENT: BHBBHYERDT,ILQDI               LOCATION: 7A DOM
   PATIENT COMMENT: Nutrition Status: Moderately Compromised"
   
 Fileman can then be used to enter the appropriate Communication Office for 
 any encounters which are found.
 Example:
   
 Select OPTION: 1  ENTER OR EDIT FILE ENTRIES
   
 INPUT TO WHAT FILE: DIETETIC ENCOUNTERS// 
 EDIT WHICH FIELD: ALL// COMMUNICATIONS OFFICE  
 THEN EDIT FIELD: 
   
 Select DIETETIC ENCOUNTERS NUMBER: `83  83 <---
 COMMUNICATIONS OFFICE: COMMUNICATION OFFICE   <---  
   
 3) The Calculate NPO/Trays option [FHADMR2A] was not calculating data by 
 Communication Office for multidivisional sites.  Patch FH*5.0*40 will include a
 modification to this option to correctly calculate the data by Communication 
 Office.
   
 4) The Served Meals Report [FHADMR2] and Additional Meals Report [FHADMR3] 
 options contained a problem in which the days of the week were displaying 
 incorrectly.  Patch FH*5.0*40 will fix this issue.
   
 5) Routine FHORT5D inadvertantly included a few write statements used for
 testing purposes for Outpatient Meals when it went out in Patch FH*5.0*39.
 This resulted in some unusual lines of text being displayed in the
 Print Tubefeeding Cost Report option [FHORTF5C].  Patch FH*5.0*40 will fix 
 this issue.
   
 Routine Summary: 
 ================
     
 The following routines are included in this patch.  The second line of 
 these routines should look like: 
       
  <tab>;;5.0;Dietetics;**[patch list]**;Oct 11, 1995
    
 CHECK^XTSUMBLD results:
    
 Routines       Pre Patch 40         Post Patch 40      Patch List
 ==========     ============         =============      =============
 FHADM2         3391283              2921907            39,40
 FHADM21        16038872             7831940            13,39,40
 FHADM2A        2375833              2445322            40
 FHADM3         11055827             5873579            13,39,40
 FHADM4         16666005             9650115            13,39,40
 FHASE          12435115             12492234           5,7,39,40
 FHASE1         5811894              4780508            39,40
 FHASE1A        14348907             10368196           39,40
 FHASE3         1455346              1585843            40
 FHASM1         8727595              8854795            2,4,22,24,40 
 FHASN          3149876              3279951            40
 FHMADM2        N/A, new routine     3400347            40
 FHMADM21       N/A, new routine     16057620           40
 FHMADM2A       N/A, new routine     3436762            40
 FHMADM3        N/A, new routine     11070198           40
 FHMADM4        N/A, new routine     16679518           40
 FHMASE         N/A, new routine     12441296           40
 FHMASE1        N/A, new routine     5823242            40
 FHMASE1A       N/A, new routine     14479670           40
 FHMMBRPT       N/A, new routine     7270012            40
 FHMMNADM       N/A, new routine     9335384            40
 FHMMNPRT       N/A, new routine     14742749           40
 FHMMNREP       N/A, new routine     8388671            40
 FHMNADM        9330665              3635257            37,39,40
 FHMNBRPT       7270033              2621515            36,39,40
 FHMNPRT        14742117             8184781            34,35,36,39,40
 FHMNREP        8381935              5817617            33,34,35,39,40
 FHORT5D        7122466              6780132            38,39,40
 FHPST40        N/A, new routine     Deleted after installation
 FHSYSP         1520196              1529610            40
   
 Test Sites
 ==========
     Biloxi
     Hines
     Milwaukee
     Tomah
     Salisbury
     Seattle/American Lake
     West LA
    
 ----------------------------------------------------------------------------
    
 Installation instructions:
 ==========================
    
 This Patch is created with Kernel V8 KIDS.  Follow these instructions:   
            
 1) Use Packman option 'INSTALL/CHECK MESSAGE' to load the KIDS build
    onto your system.
                                                            
 2) On the KIDS menu, under the 'Installation' menu, use the                
    option 'Verify Checksum in Transport Global' and verify that all        
    routines have the correct checksums. 
                                         
 3) From the 'Installation' Menu of KIDS, use the option                    
    'Install Package(s)'.  Select the package 'FH*5.0*40' and proceed
    with install.   Users may remain on the system.  Install should take
    less than two minutes.
     
 4) The routines included in this patch should be installed in the
    production UCI.  The DIETETICS options do not need to be disabled
    during the installation of this patch.  Your customer support
    representative will answer any questions regarding this patch.
    
 5) Recommended responses to the following installation questions:   
    Want KIDS to INHIBIT LOGONs during the install? YES// NO
    Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO

Routine Information:
====================

Routine Name:
  - FHASE3


Routine Checksum:

Routine Name:
  - FHASN


Routine Checksum:

Routine Name:
  - FHASM1


Routine Checksum:

Routine Name:
  - FHORT5D


Routine Checksum:

Routine Name:
  - FHADM2


Routine Checksum:

Routine Name:
  - FHADM21


Routine Checksum:

Routine Name:
  - FHADM2A


Routine Checksum:

Routine Name:
  - FHADM3


Routine Checksum:

Routine Name:
  - FHADM4


Routine Checksum:

Routine Name:
  - FHASE


Routine Checksum:

Routine Name:
  - FHASE1


Routine Checksum:

Routine Name:
  - FHASE1A


Routine Checksum:

Routine Name:
  - FHMADM2


Routine Checksum:

Routine Name:
  - FHMADM21


Routine Checksum:

Routine Name:
  - FHMADM2A


Routine Checksum:

Routine Name:
  - FHMADM3


Routine Checksum:

Routine Name:
  - FHMADM4


Routine Checksum:

Routine Name:
  - FHMASE


Routine Checksum:

Routine Name:
  - FHMASE1


Routine Checksum:

Routine Name:
  - FHMASE1A


Routine Checksum:

Routine Name:
  - FHMMBRPT


Routine Checksum:

Routine Name:
  - FHMMNADM


Routine Checksum:

Routine Name:
  - FHMMNPRT


Routine Checksum:

Routine Name:
  - FHMMNREP


Routine Checksum:

Routine Name:
  - FHMNADM


Routine Checksum:

Routine Name:
  - FHMNBRPT


Routine Checksum:

Routine Name:
  - FHMNPRT


Routine Checksum:

Routine Name:
  - FHMNREP


Routine Checksum:

Routine Name:
  - FHSYSP


Routine Checksum:

Routine Name:
  - FHPST40


Routine Checksum:

=============================================================================
User Information:
Entered By  : KNOEPFLE,RICH                 Date Entered  : SEP 22, 2003
Completed By: PATRICK,PAT                   Date Completed: NOV 17, 2003
Released By : KREUZ,SHERI B                 Date Released : NOV 18, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
