Released RMPR*3*88 SEQ #116
Extracted from mail message
**KIDS**:RMPR*3.0*88^

**INSTALL NAME**
RMPR*3.0*88
"BLD",5073,0)
RMPR*3.0*88^PROSTHETICS^0^3070420^y
"BLD",5073,1,0)
^^1^1^3070420^^
"BLD",5073,1,1,0)
Scheduling Replacement Encapsulation for Prosthetics.
"BLD",5073,4,0)
^9.64PA^^
"BLD",5073,6.3)
2
"BLD",5073,"ABPKG")
n
"BLD",5073,"KRN",0)
^9.67PA^8989.52^19
"BLD",5073,"KRN",.4,0)
.4
"BLD",5073,"KRN",.401,0)
.401
"BLD",5073,"KRN",.402,0)
.402
"BLD",5073,"KRN",.403,0)
.403
"BLD",5073,"KRN",.5,0)
.5
"BLD",5073,"KRN",.84,0)
.84
"BLD",5073,"KRN",3.6,0)
3.6
"BLD",5073,"KRN",3.8,0)
3.8
"BLD",5073,"KRN",9.2,0)
9.2
"BLD",5073,"KRN",9.2,"NM",0)
^9.68A^^
"BLD",5073,"KRN",9.8,0)
9.8
"BLD",5073,"KRN",9.8,"NM",0)
^9.68A^14^14
"BLD",5073,"KRN",9.8,"NM",1,0)
RMPRSC^^1^
"BLD",5073,"KRN",9.8,"NM",2,0)
RMPRSCA^^1^
"BLD",5073,"KRN",9.8,"NM",3,0)
RMPRSCB^^1^
"BLD",5073,"KRN",9.8,"NM",4,0)
RMPRGEC1^^1^
"BLD",5073,"KRN",9.8,"NM",5,0)
RMPRPAT0^^0^B11559936
"BLD",5073,"KRN",9.8,"NM",6,0)
RMPRELG2^^0^B9409050
"BLD",5073,"KRN",9.8,"NM",7,0)
RMPR9PA^^0^B2221033
"BLD",5073,"KRN",9.8,"NM",8,0)
RMPRGOR^^1^
"BLD",5073,"KRN",9.8,"NM",9,0)
RMPRGEC^^1^
"BLD",5073,"KRN",9.8,"NM",10,0)
RMPR6^^1^
"BLD",5073,"KRN",9.8,"NM",11,0)
RMPR61^^1^
"BLD",5073,"KRN",9.8,"NM",12,0)
RMPR62^^1^
"BLD",5073,"KRN",9.8,"NM",13,0)
RMPR6P^^1^
"BLD",5073,"KRN",9.8,"NM",14,0)
RMPRDA^^1^
"BLD",5073,"KRN",9.8,"NM","B","RMPR6",10)

"BLD",5073,"KRN",9.8,"NM","B","RMPR61",11)

"BLD",5073,"KRN",9.8,"NM","B","RMPR62",12)

"BLD",5073,"KRN",9.8,"NM","B","RMPR6P",13)

"BLD",5073,"KRN",9.8,"NM","B","RMPR9PA",7)

"BLD",5073,"KRN",9.8,"NM","B","RMPRDA",14)

"BLD",5073,"KRN",9.8,"NM","B","RMPRELG2",6)

"BLD",5073,"KRN",9.8,"NM","B","RMPRGEC",9)

"BLD",5073,"KRN",9.8,"NM","B","RMPRGEC1",4)

"BLD",5073,"KRN",9.8,"NM","B","RMPRGOR",8)

"BLD",5073,"KRN",9.8,"NM","B","RMPRPAT0",5)

"BLD",5073,"KRN",9.8,"NM","B","RMPRSC",1)

"BLD",5073,"KRN",9.8,"NM","B","RMPRSCA",2)

"BLD",5073,"KRN",9.8,"NM","B","RMPRSCB",3)

"BLD",5073,"KRN",19,0)
19
"BLD",5073,"KRN",19,"NM",0)
^9.68A^17^17
"BLD",5073,"KRN",19,"NM",1,0)
RMPR PULL SCHED^^1^
"BLD",5073,"KRN",19,"NM",2,0)
RMPR EDIT 2527^^1^
"BLD",5073,"KRN",19,"NM",3,0)
RMPR PRT 2527^^1^
"BLD",5073,"KRN",19,"NM",4,0)
RMPR CLOSE APP^^1^
"BLD",5073,"KRN",19,"NM",5,0)
RMPR SCHED DEL^^1^
"BLD",5073,"KRN",19,"NM",6,0)
RMPR CODE SHEET 120-121^^1^
"BLD",5073,"KRN",19,"NM",7,0)
RMPR CODE SHEET 122-121/139^^1^
"BLD",5073,"KRN",19,"NM",8,0)
RMPR CODE SHEET 132-138^^1^
"BLD",5073,"KRN",19,"NM",9,0)
RMPR SCHED-H/L VISITS^^0
"BLD",5073,"KRN",19,"NM",10,0)
RMPR MGMT REPORTS^^1^
"BLD",5073,"KRN",19,"NM",11,0)
RMPR AMIS^^1^
"BLD",5073,"KRN",19,"NM",12,0)
RMPR AMIS DIS^^1^
"BLD",5073,"KRN",19,"NM",13,0)
RMPR H/L OPEN^^0
"BLD",5073,"KRN",19,"NM",14,0)
RMPR H/L CLOSE^^0
"BLD",5073,"KRN",19,"NM",15,0)
RMPR H/L EDIT^^0
"BLD",5073,"KRN",19,"NM",16,0)
RMPR H/L PRINT CLOSED^^0
"BLD",5073,"KRN",19,"NM",17,0)
RMPR H/L PRINT OPEN^^0
"BLD",5073,"KRN",19,"NM","B","RMPR AMIS",11)

"BLD",5073,"KRN",19,"NM","B","RMPR AMIS DIS",12)

"BLD",5073,"KRN",19,"NM","B","RMPR CLOSE APP",4)

"BLD",5073,"KRN",19,"NM","B","RMPR CODE SHEET 120-121",6)

"BLD",5073,"KRN",19,"NM","B","RMPR CODE SHEET 122-121/139",7)

"BLD",5073,"KRN",19,"NM","B","RMPR CODE SHEET 132-138",8)

"BLD",5073,"KRN",19,"NM","B","RMPR EDIT 2527",2)

"BLD",5073,"KRN",19,"NM","B","RMPR H/L CLOSE",14)

"BLD",5073,"KRN",19,"NM","B","RMPR H/L EDIT",15)

"BLD",5073,"KRN",19,"NM","B","RMPR H/L OPEN",13)

"BLD",5073,"KRN",19,"NM","B","RMPR H/L PRINT CLOSED",16)

"BLD",5073,"KRN",19,"NM","B","RMPR H/L PRINT OPEN",17)

"BLD",5073,"KRN",19,"NM","B","RMPR MGMT REPORTS",10)

"BLD",5073,"KRN",19,"NM","B","RMPR PRT 2527",3)

"BLD",5073,"KRN",19,"NM","B","RMPR PULL SCHED",1)

"BLD",5073,"KRN",19,"NM","B","RMPR SCHED DEL",5)

"BLD",5073,"KRN",19,"NM","B","RMPR SCHED-H/L VISITS",9)

"BLD",5073,"KRN",19.1,0)
19.1
"BLD",5073,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",5073,"KRN",101,0)
101
"BLD",5073,"KRN",101,"NM",0)
^9.68A^1^1
"BLD",5073,"KRN",101,"NM",1,0)
RMPR SCH EVENT^^1^
"BLD",5073,"KRN",101,"NM","B","RMPR SCH EVENT",1)

"BLD",5073,"KRN",409.61,0)
409.61
"BLD",5073,"KRN",771,0)
771
"BLD",5073,"KRN",870,0)
870
"BLD",5073,"KRN",8989.51,0)
8989.51
"BLD",5073,"KRN",8989.52,0)
8989.52
"BLD",5073,"KRN",8994,0)
8994
"BLD",5073,"KRN","B",.4,.4)

"BLD",5073,"KRN","B",.401,.401)

"BLD",5073,"KRN","B",.402,.402)

"BLD",5073,"KRN","B",.403,.403)

"BLD",5073,"KRN","B",.5,.5)

"BLD",5073,"KRN","B",.84,.84)

"BLD",5073,"KRN","B",3.6,3.6)

"BLD",5073,"KRN","B",3.8,3.8)

"BLD",5073,"KRN","B",9.2,9.2)

"BLD",5073,"KRN","B",9.8,9.8)

"BLD",5073,"KRN","B",19,19)

"BLD",5073,"KRN","B",19.1,19.1)

"BLD",5073,"KRN","B",101,101)

"BLD",5073,"KRN","B",409.61,409.61)

"BLD",5073,"KRN","B",771,771)

"BLD",5073,"KRN","B",870,870)

"BLD",5073,"KRN","B",8989.51,8989.51)

"BLD",5073,"KRN","B",8989.52,8989.52)

"BLD",5073,"KRN","B",8994,8994)

"BLD",5073,"QUES",0)
^9.62^^
"BLD",5073,"REQB",0)
^9.611^^
"KRN",19,7033,-1)
0^9
"KRN",19,7033,0)
RMPR SCHED-H/L VISITS^Home/Liaison Visits^^M^^^^^^^^PROSTHETICS
"KRN",19,7033,1,0)
^19.06^1^1^3070420^^
"KRN",19,7033,1,1,0)
This is the main menu for Home Liaison Visits.
"KRN",19,7033,10,0)
^19.01IP^9^5
"KRN",19,7033,10,5,0)
7040^OP^5
"KRN",19,7033,10,5,"^")
RMPR H/L OPEN
"KRN",19,7033,10,6,0)
7041^CO^6
"KRN",19,7033,10,6,"^")
RMPR H/L CLOSE
"KRN",19,7033,10,7,0)
7042^ED^7
"KRN",19,7033,10,7,"^")
RMPR H/L EDIT
"KRN",19,7033,10,8,0)
7043^PC^8
"KRN",19,7033,10,8,"^")
RMPR H/L PRINT CLOSED
"KRN",19,7033,10,9,0)
7044^PO^9
"KRN",19,7033,10,9,"^")
RMPR H/L PRINT OPEN
"KRN",19,7033,99)
60740,26144
"KRN",19,7033,"U")
HOME/LIAISON VISITS
"KRN",19,7040,-1)
0^13
"KRN",19,7040,0)
RMPR H/L OPEN^Open Home/Liaison Visits^^A^^^^^^^^PROSTHETICS^^1
"KRN",19,7040,1,0)
^^1^1^2921229^^^
"KRN",19,7040,1,1,0)
Open home or liaison visits for Prosthetics.
"KRN",19,7040,20)
D OP^RMPRHL
"KRN",19,7040,"U")
OPEN HOME/LIAISON VISITS
"KRN",19,7041,-1)
0^14
"KRN",19,7041,0)
RMPR H/L CLOSE^Close Home/Liaison Visits^^A^^^^^^^^PROSTHETICS^^1
"KRN",19,7041,1,0)
^^1^1^2921229^^^^
"KRN",19,7041,1,1,0)
Close open home or liaison visits by entering the date closed and the total hours of the visit.
"KRN",19,7041,20)
D CL^RMPRHL
"KRN",19,7041,"U")
CLOSE HOME/LIAISON VISITS
"KRN",19,7042,-1)
0^15
"KRN",19,7042,0)
RMPR H/L EDIT^Edit/Delete Home/Liaison Visits^^A^^^^^^^^PROSTHETICS^^1
"KRN",19,7042,1,0)
^^1^1^2950519^
"KRN",19,7042,1,1,0)
Edit/delete home or liaison visits.
"KRN",19,7042,20)
D ED^RMPRHL
"KRN",19,7042,"U")
EDIT/DELETE HOME/LIAISON VISIT
"KRN",19,7043,-1)
0^16
"KRN",19,7043,0)
RMPR H/L PRINT CLOSED^Print Closed Home/Liaison Visits^^A^^^^^^^^PROSTHETICS^^1
"KRN",19,7043,1,0)
^^1^1^2950519^
"KRN",19,7043,1,1,0)
Print closed home/liaison visits.
"KRN",19,7043,20)
D CV^RMPRHL
"KRN",19,7043,"U")
PRINT CLOSED HOME/LIAISON VISI
"KRN",19,7044,-1)
0^17
"KRN",19,7044,0)
RMPR H/L PRINT OPEN^Print Open Home/Liaison Visits^^A^^^^^^^^PROSTHETICS^^1
"KRN",19,7044,1,0)
^^1^1^2921229^^^^
"KRN",19,7044,1,1,0)
Print open home or liaison visits.
"KRN",19,7044,20)
D PO^RMPRHL
"KRN",19,7044,"U")
PRINT OPEN HOME/LIAISON VISITS
"KRN",19,12685,-1)
1^1
"KRN",19,12685,0)
RMPR PULL SCHED
"KRN",19,12686,-1)
1^2
"KRN",19,12686,0)
RMPR EDIT 2527
"KRN",19,12687,-1)
1^3
"KRN",19,12687,0)
RMPR PRT 2527
"KRN",19,12688,-1)
1^4
"KRN",19,12688,0)
RMPR CLOSE APP
"KRN",19,12689,-1)
1^5
"KRN",19,12689,0)
RMPR SCHED DEL
"KRN",19,12690,-1)
1^6
"KRN",19,12690,0)
RMPR CODE SHEET 120-121
"KRN",19,12691,-1)
1^7
"KRN",19,12691,0)
RMPR CODE SHEET 122-121/139
"KRN",19,12692,-1)
1^8
"KRN",19,12692,0)
RMPR CODE SHEET 132-138
"KRN",19,12693,-1)
1^10
"KRN",19,12693,0)
RMPR MGMT REPORTS
"KRN",19,12694,-1)
1^11
"KRN",19,12694,0)
RMPR AMIS
"KRN",19,12695,-1)
1^12
"KRN",19,12695,0)
RMPR AMIS DIS
"KRN",101,6199,-1)
1^1
"KRN",101,6199,0)
RMPR SCH EVENT
"MBREQ")
0
"ORD",0,9.8)
9.8;;1;RTNF^XPDTA;RTNE^XPDTA
"ORD",0,9.8,0)
ROUTINE
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",101,-1)
1^1
"PKG",101,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",101,20,0)
^9.402P^^0
"PKG",101,22,0)
^9.49I^1^1
"PKG",101,22,1,0)
3.0^2960209^2960214
"PKG",101,22,1,"PAH",1,0)
88^3070420
"PKG",101,22,1,"PAH",1,1,0)
^^1^1^3070420
"PKG",101,22,1,"PAH",1,1,1,0)
Scheduling Replacement Encapsulation for Prosthetics.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
14
"RTN","RMPR6")
1^10^^B29912315
"RTN","RMPR61")
1^11^^B15990002
"RTN","RMPR62")
1^12^^B25431041
"RTN","RMPR6P")
1^13^^B23408268
"RTN","RMPR9PA")
0^7^B2221033^B1661694
"RTN","RMPR9PA",1,0)
RMPR9PA ;HOIFO/SPS - GUI 2319 TAB 2 PENDING APPOINTMENTS  ;3/26/07  07:27
"RTN","RMPR9PA",2,0)
 ;;3.0;PROSTHETICS;**59,88**;Feb 09, 1996;Build 2
"RTN","RMPR9PA",3,0)
 ;DDA 6 MAR 07 - Patch 88 - Added Scheduling Encapsulation database check
"RTN","RMPR9PA",4,0)
 ; for SDA^VADPT call and ^UTILITY("VASD", usage.
"RTN","RMPR9PA",5,0)
 ; Variable RMPRSDER will equal 2 if the COTS database is unavailable.
"RTN","RMPR9PA",6,0)
 ;
"RTN","RMPR9PA",7,0)
A1(IEN) G A2
"RTN","RMPR9PA",8,0)
EN(RESULTS,IEN) ;broker entry point
"RTN","RMPR9PA",9,0)
A2 ;
"RTN","RMPR9PA",10,0)
 S DFN=$P($G(^RMPR(668,IEN,0)),U,2)
"RTN","RMPR9PA",11,0)
 I DFN="" S RESULTS(0)="NOTHING TO REPORT" G EXIT
"RTN","RMPR9PA",12,0)
 ;Pending Appointments
"RTN","RMPR9PA",13,0)
 D SDA^VADPT S RMPRSDER=VAERR
"RTN","RMPR9PA",14,0)
 I RMPRSDER=2!'$D(^UTILITY("VASD",$J)) G EXIT
"RTN","RMPR9PA",15,0)
 S CNT=0,RO=0 F  S RO=$O(^UTILITY("VASD",$J,RO)) Q:RO'>0  D
"RTN","RMPR9PA",16,0)
 . I CNT>0 S CNT=CNT+1
"RTN","RMPR9PA",17,0)
 . S RESULTS(CNT)=$P(^UTILITY("VASD",$J,RO,"E"),U,1)_"^"_$P(^UTILITY("VASD",$J,RO,"E"),U,2)_"^"_$P(^UTILITY("VASD",$J,RO,"E"),U,3)_"^"_$P(^UTILITY("VASD",$J,RO,"E"),U,4)
"RTN","RMPR9PA",18,0)
 . S CNT=CNT+1
"RTN","RMPR9PA",19,0)
EXIT ;common exit point
"RTN","RMPR9PA",20,0)
 I RMPRSDER=2 S RESULTS(0)="Fatal RSA error. See SDAM RSA ERROR LOG file."
"RTN","RMPR9PA",21,0)
 I '$D(RESULTS) S RESULTS(0)="NOTHING TO REPORT"
"RTN","RMPR9PA",22,0)
 K CNT,DFN,RMPRSDER,RO,^UTILITY("VASD",$J)
"RTN","RMPR9PA",23,0)
 ;END
"RTN","RMPRDA")
1^14^^B24714369
"RTN","RMPRELG2")
0^6^B9409050^B8520995
"RTN","RMPRELG2",1,0)
RMPRELG2 ;Hines IOFO/RFM,DDA - DISPLAY ELIGIBILITY SECOND PAGE ;3/26/07  07:39
"RTN","RMPRELG2",2,0)
 ;;3.0;PROSTHETICS;**88**;Feb 09, 1996;Build 2
"RTN","RMPRELG2",3,0)
 ;DDA 6 MAR 07 - Patch 88 - Added Scheduling Encapsulation database check
"RTN","RMPRELG2",4,0)
 ; for SDA^VADPT call and ^UTILITY("VASD", usage.
"RTN","RMPRELG2",5,0)
 ; Variable RMPRSDER will equal 2 if the COTS database is unavailable.
"RTN","RMPRELG2",6,0)
 ;
"RTN","RMPRELG2",7,0)
 S VAIP("D")="L" D IN5^VADPT,SDE^VADPT K VAERR D SDA^VADPT S RMPRSDER=VAERR W @IOF
"RTN","RMPRELG2",8,0)
 W $E(RMPRNAM,1,20),?23,"SSN: ",$P(VADM(2),U,2),?42,"DOB: ",$P(VADM(3),U,2),?61,"CLAIM# ",RMPRCNUM
"RTN","RMPRELG2",9,0)
 W !!?20,"Last Movement Actions",! I VAIP(1)="" W !?5,"No Movements Recorded for this Patient",!! G CLI
"RTN","RMPRELG2",10,0)
 W "Trans. Type: ",$P(VAIP(2),U,2),?40,"Trans. Type: ",$P(VAIP(13,2),U,2),!,"Date: ",$P(VAIP(3),U,2),?40,"Date: ",$P(VAIP(13,1),U,2),!,"Type of Movement: ",?40,"Type of Movement: ",!,$P(VAIP(4),U,2),?40,$P(VAIP(13,3),U,2)
"RTN","RMPRELG2",11,0)
 W !,"Ward: ",$P(VAIP(5),U,2),?40,"Ward: ",$P(VAIP(13,4),U,2),!,"Physician: ",$E($P(VAIP(7),U,2),1,25),?40,"Physician: ",$E($P(VAIP(13,5),U,2),1,25)
"RTN","RMPRELG2",12,0)
 W !,"Diagnosis: ",$E(VAIP(9),1,28),?40,"Diagnosis: ",$E(VAIP(9),1,28)
"RTN","RMPRELG2",13,0)
CLI W !?20,"Clinic Enrollments" I '$D(^UTILITY("VAEN",$J)) W !!?5,"No Clinic Enrollments for this Patient" G APP
"RTN","RMPRELG2",14,0)
 S RO=0 F I=0:0 S RO=$O(^UTILITY("VAEN",$J,RO)) Q:RO'>0  D WRI
"RTN","RMPRELG2",15,0)
 G APP
"RTN","RMPRELG2",16,0)
WRI W:'$D(RMPRFLG) !,"Clinic",?40,"Enrollment Date",?60,"OPT or AC" S RMPRFLG=1 W !,$P(^UTILITY("VAEN",$J,RO,"E"),U,1),?40,$P(^UTILITY("VAEN",$J,RO,"E"),U,2),?63,$P(^UTILITY("VAEN",$J,RO,"E"),U,3) Q
"RTN","RMPRELG2",17,0)
APP W !!,?20,"Pending Appointments" I RMPRSDER=2!'$D(^UTILITY("VASD",$J)) D  G VIEW
"RTN","RMPRELG2",18,0)
 . I RMPRSDER=2 W !!?5,"Fatal RSA error. See SDAM RSA ERROR LOG file." Q
"RTN","RMPRELG2",19,0)
 . W !!?5,"No Pending Appointments for this Patient"
"RTN","RMPRELG2",20,0)
 .Q
"RTN","RMPRELG2",21,0)
 S RO=0 F I=0:0 S RO=$O(^UTILITY("VASD",$J,RO)) Q:RO'>0  D WRI2
"RTN","RMPRELG2",22,0)
VIEW S RMPRCOMB=1,RNSK=1 D:$D(DFN) DIV4^RMPRSIT,^RMPRFO2
"RTN","RMPRELG2",23,0)
 G EXIT
"RTN","RMPRELG2",24,0)
WRI2 W:'$D(RMPRFLL) !,"Appt. Date",?20,"Clinic",?50,"Status",?60,"Type" S RMPRFLL=1
"RTN","RMPRELG2",25,0)
 W !,$P(^UTILITY("VASD",$J,RO,"E"),U,1),?20,$E($P(^UTILITY("VASD",$J,RO,"E"),U,2),1,29),?50,$P(^UTILITY("VASD",$J,RO,"E"),U,3),?60,$P(^UTILITY("VASD",$J,RO,"E"),U,4) Q
"RTN","RMPRELG2",26,0)
EXIT K ^UTILITY("VAEN",$J),RMPRIN,^UTILITY("VASD",$J),RVA,RMPRFF,VAIP,VASD,RO,RMPRFLL,RMPRFLG,RMPRSDER S FL=2 W ! G EXIT^RMPRELG1
"RTN","RMPRELG2",27,0)
 Q
"RTN","RMPRGEC")
1^9^^B26383311
"RTN","RMPRGEC1")
1^4^^B21551041
"RTN","RMPRGOR")
1^8^^B12235408
"RTN","RMPRPAT0")
0^5^B11559936^B10496036
"RTN","RMPRPAT0",1,0)
RMPRPAT0 ;Hines IOFO/RFM,DDA - PATIENT INQUIRY SCREEN FROM MAS ;3/26/07  07:47
"RTN","RMPRPAT0",2,0)
 ;;3.0;PROSTHETICS;**88**;Feb 09, 1996;Build 2
"RTN","RMPRPAT0",3,0)
 ;DDA 13 FEB 07 - Patch 88 - Added Scheduling Encapsulation database check
"RTN","RMPRPAT0",4,0)
 ; for SDA^VADPT call and ^UTILITY("VASD", usage.
"RTN","RMPRPAT0",5,0)
 ; Variable RMPRSDER will equal 2 if the COTS database is unavailable.
"RTN","RMPRPAT0",6,0)
 ;
"RTN","RMPRPAT0",7,0)
 N VAHOW
"RTN","RMPRPAT0",8,0)
 Q:$G(RMPRDFN)'>0  K RMPRQUES S DFN=RMPRDFN,VAIP("D")="L" D DEM^VADPT,IN5^VADPT,SDE^VADPT K VAERR D SDA^VADPT S RMPRSDER=VAERR W @IOF
"RTN","RMPRPAT0",9,0)
 W !,$E(RMPRNAM,1,20),?23,"SSN: ",$P(VADM(2),U,2),?42
"RTN","RMPRPAT0",10,0)
 W "DOB: ",$P(VADM(3),U,2),?61,"CLAIM# ",$G(RMPRCNUM)
"RTN","RMPRPAT0",11,0)
 W !!?20,"Last Movement Actions",! I VAIP(1)="" W !?5,"No Movements Recorded for this Patient",!! G CLI
"RTN","RMPRPAT0",12,0)
 W "Trans. Type: ",$P(VAIP(2),U,2),?40,"Trans. Type: ",$P(VAIP(13,2),U,2),!,"Date: ",$P(VAIP(3),U,2),?40,"Date: ",$P(VAIP(13,1),U,2),!,"Type of Movement: ",?40,"Type of Movement: ",!,$P(VAIP(4),U,2),?40,$P(VAIP(13,3),U,2)
"RTN","RMPRPAT0",13,0)
 W !,"Ward: ",$P(VAIP(5),U,2),?40,"Ward: ",$P(VAIP(13,4),U,2),!,"Physician: ",$E($P(VAIP(7),U,2),1,25),?40,"Physician: ",$E($P(VAIP(13,5),U,2),1,25)
"RTN","RMPRPAT0",14,0)
 W !,"Diagnosis: ",$E(VAIP(9),1,28),?40,"Diagnosis: ",$E(VAIP(9),1,28)
"RTN","RMPRPAT0",15,0)
CLI W !?20,"Clinic Enrollments" I '$D(^UTILITY("VAEN",$J)) W !!?5,"No Clinic Enrollments for this Patient" G APP
"RTN","RMPRPAT0",16,0)
 S RO=0 F I=1:1 S RO=$O(^UTILITY("VAEN",$J,RO)) Q:RO'>0!($D(KILL))  D WRI
"RTN","RMPRPAT0",17,0)
 G APP
"RTN","RMPRPAT0",18,0)
WRI I I=3 S %=2 W !,"Would you like to see more clinics" D YN^DICN I %=-1!(%=2) S KILL=1 Q
"RTN","RMPRPAT0",19,0)
 I I=3,%=0 W !,"Enter `YES` or `NO`" G WRI
"RTN","RMPRPAT0",20,0)
 W:'$D(RMPRFLG) !,"Clinic",?40,"Enrollment Date",?60,"OPT or AC" S RMPRFLG=1 W !,$P(^UTILITY("VAEN",$J,RO,"E"),U,1),?40,$P(^UTILITY("VAEN",$J,RO,"E"),U,2),?63,$P(^UTILITY("VAEN",$J,RO,"E"),U,3) Q
"RTN","RMPRPAT0",21,0)
APP W !!,?20,"Pending Appointments" I RMPRSDER=2!'$D(^UTILITY("VASD",$J)) D  S RMPRCOMB=1 D DIRT D ^RMPRFO2 G EXIT
"RTN","RMPRPAT0",22,0)
 . I RMPRSDER=2 W !!?5,"Fatal RSA error. See SDAM RSA ERROR LOG file." Q
"RTN","RMPRPAT0",23,0)
 . W !!?5,"No Pending Appointments for this Patient"
"RTN","RMPRPAT0",24,0)
 .Q
"RTN","RMPRPAT0",25,0)
 S RO=0 K KILL F I=1:1 S RO=$O(^UTILITY("VASD",$J,RO)) Q:RO'>0!($D(KILL))  D WRI2
"RTN","RMPRPAT0",26,0)
 S RMPRCOMB=1 D DIRT D ^RMPRFO2
"RTN","RMPRPAT0",27,0)
 G EXIT
"RTN","RMPRPAT0",28,0)
WRI2 W:'$D(RMPRFLL) !,"Appt. Date",?20,"Clinic",?50,"Status",?60,"Type" S RMPRFLL=1
"RTN","RMPRPAT0",29,0)
APPA I I=3 S %=2 W !,"Would you like to see more appointments" D YN^DICN I %=-1!(%=2)!($D(DTOUT)) S KILL=1 Q
"RTN","RMPRPAT0",30,0)
 I I=3,%=0 W !,"Answer `YES` or `NO`" G APPA
"RTN","RMPRPAT0",31,0)
 W !,$P(^UTILITY("VASD",$J,RO,"E"),U,1),?20,$E($P(^UTILITY("VASD",$J,RO,"E"),U,2),1,29),?50,$P(^UTILITY("VASD",$J,RO,"E"),U,3),?60,$P(^UTILITY("VASD",$J,RO,"E"),U,4) Q
"RTN","RMPRPAT0",32,0)
EXIT K ^UTILITY("VAEN",$J),^UTILITY("VASD",$J),RO,VAIP,VASD,RMPRFLL,KILL,RMPRFLG,RMPRSDER W ! G ASK2^RMPRPAT
"RTN","RMPRPAT0",33,0)
 Q
"RTN","RMPRPAT0",34,0)
DIRT N DIR S DIR(0)="E" D ^DIR I Y'>0 G EXIT Q
"RTN","RMPRSC")
1^1^^B3817270
"RTN","RMPRSCA")
1^2^^B29755308
"RTN","RMPRSCB")
1^3^^B21966540
"VER")
8.0^22.0
"BLD",5073,6)
^116
**END**
**END**
