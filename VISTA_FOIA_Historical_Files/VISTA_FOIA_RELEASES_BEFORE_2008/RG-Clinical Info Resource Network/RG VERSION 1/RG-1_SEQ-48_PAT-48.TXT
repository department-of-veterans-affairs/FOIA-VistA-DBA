$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 08/21/07 at 09:38
=============================================================================
Run Date: SEP 06, 2007                     Designation: RG*1*48
Package : RG - CLINICAL INFO RESOURCE NETWORK Priority: Mandatory
Version : 1        SEQ #48                      Status: Released
                  Compliance Date: OCT 07, 2007
=============================================================================

Associated patches: (v)RG*1*25     <<= must be installed BEFORE `RG*1*48'
                    (v)RG*1*47     <<= must be installed BEFORE `RG*1*48'
                    (v)DG*5.3*756  <<= must be installed BEFORE `RG*1*48'

Subject: EXCEPTION HANDLER ENHANCEMENTS

Category: 
  - Routine
  - Data Dictionary
  - Enhancement (Mandatory)

Description:
============

  NOTE:  RG* and MPIF* patches should NOT be installed on legacy
  systems to avoid issues with the legacy systems ending up as
  Treating Facilities.
   
  RG*1.0*25, RG*1.0*47, and DG*5.3*756 are required builds for
  patch RG*1*48.
   
  Issue #1:
  The Identity Management Data Quality (IMDQ) team reports that their
  Request Remote Patient Activity option on the Master Patient Index
  (MPI) is not returning data.  This option uses a remote procedure call
  (RPC) from the MPI to retrieve patient activity information from
  associated facilities.  The data failure occurs because the internal
  entry number for the facility is used instead of the station number.
  This has been corrected in routine RGACTIV.
   
  Issue #2:
  In the MPI/PD Exception Handling [RG EXCEPTION HANDLING] option,
  the person that resolves an exception and the date/time the
  resolution occurred will be retained.  In the CIRN HL7 EXCEPTION
  LOG (#991.1) file, two new fields will store this information.
  The DATE/TIME PROCESSED (#7) and the WHO MARKED PROCESSED (#8)
  fields have been added.  Routine RGEX03 has been modified to
  capture this data.
   
  Issue #3:
  Functionality has been added to allow IMDQ to remotely view VistA
  exceptions for a selected patient and date range.  To support
  this effort a REMOTE PROCEDURE has been created - RG VIEW VISTA
  EXCEPTIONS.  Routine RGRPC supports this RPC.
   
  Issue #4:
  During the testing of the update process for the SSN VERIFICATION
  STATUS (#.0907) field in the PATIENT (#2) file, if the update of the
  SOCIAL SECURITY NUMBER (#.09) field failed, the SSN VERIFICATION
  STATUS (#.0907) field was still updated, giving misleading information.
  Code changes in routines RGADTP2 and RGADTP3 will address this situation.
   
  Issue #5:
  A change has been made in the MPI/PD EXCEPTION HANDLING [RG EXCEPTION
  HANDLING] option.  Upon entering the option, instead of asking the
  user if he/she wants to run the exception purge, the purge process
  will automatically run if it has not run during the past two hours.
  Additionally, the MPI/PD EXCEPTION PURGE [RG EXCEPTION PURGE] option
  should be scheduled to run once an hour via Taskman (as outlined
  in the installation instructions.)  If for any reason the task becomes
  unscheduled, the time that the purge process last ran will be displayed
  upon entry into the Exception Handler.  The user can notify IRM if the
  MPI/PD EXCEPTION PURGE [RG EXCEPTION PURGE] job needs to be rescheduled.
  Routine RGEX01 has been modified for this request.
   
  Issue #6:
  VistA users need the ability to view Primary View data from the MPI.
  This information is available on the MPI in the MPI Patient Data
  Inquiry (PDAT) report.  The report displays the current activity scores
  for individual identity elements.  The capability to examine this data
  is now available in two locations.  A new action, "MPI Primary View
  (PR)," is available in the MPI/PD Exception Handling [RG EXCEPTION
  HANDLING] option.  Additionally, the Primary View Display from MPI
  [RG PRIMARY VIEW FROM MPI] option has been added to the Message
  Exception Menu [RG EXCEPTION MENU].  The REMOTE PROCEDURE used for
  this functionality is - RG PRIMARY VIEW FROM MPI.  The RGEX03, RGEX06,
  and RGPVMPI routines support this RPC.  One new OPTION is exported -
  Primary View Display from MPI [RG PRIMARY VIEW FROM MPI].  Additionally,
  the LIST TEMPLATE used is RG EXCPT PV MPI PDAT, and the PROTOCOL required
  is RG EXCPT PV MPI PDAT.
    
  Issue #7:
  The ALIAS (#1) multiple in the PATIENT (#2) file will now be updated
  on VistA as a result of edits made to that information on the MPI by the
  IMDQ team.  The VistA data will be synchronized to match the MPI values.
  Additionally, when a facility revises their local ALIAS data, the
  information will be transmitted to the MPI, which in turn will update
  all treating facilities where the patient is known.  Routines RGADTP1
  and RGADTP2 have been modified to support this functionality.
  
  Issue #8: 
  The IMDQ team reports that if they make an edit on the MPI to patient
  name to remove a space in the last name (i.e., MC SPACE to MCSPACE),
  when that data is transmitted from the MPI to VistA, the change is not
  updating NAME (#.01) in the PATIENT (#2) file.  The incoming name and
  the existing name are compared, after Name Standardization is applied
  to both names.  Name Standardization removes the space, making the two
  appear to be the same value; so the update was not occurring.  The Name
  Standardization comparison has been removed.  So now a comparison of
  incoming to existing data will determine if the update should happen.
  Routine RGADTP3 has been modified to support this change.
   
  Data Dictionary Changes:
  ========================
  Two new fields have been added to the EXCEPTION (#2) multiple in the
  CIRN HL7 EXCEPTION LOG (#991.1) file.
      7     DATE/TIME PROCESSED
      8     WHO MARKED PROCESSED
    
  New Option:
  ===========
  One new OPTION is distributed with this patch:
  Primary View Display from MPI [RG PRIMARY VIEW FROM MPI]
  Additionally, because the option description has been updated, the
  MPI/PD Exception Purge [RG EXCEPTION PURGE] OPTION is also exported.
   
  New Protocol:
  =============
  The following new protocol is included to support MPI/PD Exception
  Handling.
      RG EXCPT PV MPI PDAT         MPI Primary View
  Because enhancements are being made to the MPI/PD Exception Handling
  [RG EXCEPTION HANDLING] option, ALL of the related protocols are
  included in the build to ensure that this List Manager application
  exports correctly.
   
  New List Template:
  ==================
  One list template is distributed to support remote data query.
      RG EXCPT PV MPI PDAT
   
  New Remote Procedures:
  ======================
  Two new REMOTE PROCEDURES are exported in this patch:
      RG VIEW VISTA EXCEPTIONS
      RG PRIMARY VIEW FROM MPI
   
  Documentation Update:
  =====================
  The following MASTER PATIENT INDEX/PATIENT DEMOGRAPHICS (MPI/PD)
  VISTA documentation is available, updated for patches RG*1.0*48
  and MPIF*1.0*48.  Facilities should download the revised
  documentation listed as follows:
    
      User Manual                         RG1_0_UM.PDF
      Release Notes                       RG1_0_RN.PDF
      Technical Manual                    RG1_0_TM.PDF
      Programmer Manual                   RG1_0_PM.PDF
      Exception Handling                  RG1_0_EH.PDF
   
  The preferred retrieval method is to FTP from the ANONYMOUS.SOFTWARE
  directory at: DOWNLOAD.VISTA.MED.VA.GOV
  This transmits the file from the first available FTP server.
  Sites may also elect to retrieve software directly from one
  of the following servers.
   
  OI Field Office         FTP Address                  Directory
  ------------------------------------------------------------------
  Albany             ftp.fo-albany.med.va.gov     ANONYMOUS.SOFTWARE
  Hines              ftp.fo-hines.med.va.gov      ANONYMOUS.SOFTWARE
  Salt Lake City     ftp.fo-slc.med.va.gov        ANONYMOUS.SOFTWARE
   
  Note:  These files must be transferred in binary or IMAGE,
         not ASCII, mode.
   
  The documents can also be downloaded from the VistA Documentation
  Library (VDL) Web page in both Acrobat PDF and MS-Word DOC formats:
   
      http://www.va.gov/vdl/application.asp?appid=16
   
  Associated Remedy Ticket(s):
  ============================
  There are no associated Remedy Tickets.
   
  Associated New Service Request (NSR):
  =====================================
  There is no associated NSR with the patch.
    
  Test Sites:
  ===========
  Bay Pines HCS
  Charleston, SC
  Connecticut HCS
   
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
   
  <TAB>;;1.0;CLINICAL INFO RESOURCE NETWORK;**[Patch List]**;30 Apr 99
   
  Using old logic: CHECK^XTSUMBLD results
  Routine       Before Patch       After Patch       Patch List
  --------      ------------       ------------      ----------
  RGACTIV          1336351            1349795        25,48
  RGADTP1         14435912           17008594        26,27,42,45,44,47,48
  RGADTP2         21664023           19456364        27,20,45,44,47,48
  RGADTP3            N/A              6889987        48
  RGEX01           9532749           10211320        3,12,19,23,43,45,
                                                     47,48
  RGEX03          17274213           17925479        3,12,19,23,27,30,
                                                     38,39,43,44,48
  RGEX06             N/A              4266016        48
  RGPVMPI            N/A              7679990        48
  RGRPC              N/A              6515520        48
   
  Installation Instructions:
  ==========================
  This patch may be loaded with users on the system.  It should be
  installed during non-peak hours to minimize disruption to the
  users.  Installation will take less than 2 minutes.
   
  1.  Users are allowed on the system during patch installation.
     
  2.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
      Note:  TEXT PRINT/DISPLAY option in the PackMan menu will
      display the patch text only.
     
  3.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  4.  From this menu, you may elect to use the following options:
      (a)  Backup a Transport Global.
      (b)  Compare Transport Global to Current System.
      (c)  Verify Checksums in Transport Global.
      (d)  Print Transport Global.
   
  5.  Use the Install Package(s) option and select the package RG*1.0*48.
   
  6.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of
      Install? YES//', respond YES (this may disrupt CPRS users, so
      if your facility has the XQBUILDTREEQUE tasked to run nightly,
      you can say NO to this question.)
   
  7.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
      respond NO.
   
  8.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond YES.  The following OPTION should be
      disabled during the installation.
           MPI/PD Exception Handling [RG EXCEPTION HANDLING]
           MPI/PD Exception Purge    [RG EXCEPTION PURGE]
   
  9.  ATTENTION IRM:  After patch RG*1*48 has been successfully installed,
      the MPI/PD Exception Purge [RG EXCEPTION PURGE] option should be
      scheduled to run once per hour.  Use the Schedule/Unschedule Options
      [XUTM SCHEDULE] option on the Taskman Management [XUTM MGR] menu.
      For the QUEUED TO RUN AT WHAT TIME field, enter a time that is a few
      minutes into the future (as soon as possible.)  In the RESCHEDULING
      FREQUENCY field, enter "1H" (1 hour.)

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.0;CLINICAL INFO RESOURCE NETWORK;**[Patch List]**;30 Apr 99;Build 3

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RGACTIV
    Before:  B1923961   After:  B2013191  **25,48**
Routine Name: RGADTP1
    Before: B32629728   After: B39482051  **26,27,42,45,44,47,48**
Routine Name: RGADTP2
    Before: B68268271   After: B48920670  **27,20,45,44,47,48**
Routine Name: RGADTP3
    Before:       n/a   After: B11058020  **48**
Routine Name: RGEX01
    Before: B33945025   After: B34733554  **3,12,19,23,43,45,47,48**
Routine Name: RGEX03
    Before: B64947419   After: B69509022  **3,12,19,23,27,30,38,39,43,44,48**
Routine Name: RGEX06
    Before:       n/a   After:  B8462958  **48**
Routine Name: RGPVMPI
    Before:       n/a   After: B17890972  **48**
Routine Name: RGRPC
    Before:       n/a   After: B13556106  **48**
 
Routine list of preceding patches: 25, 47

=============================================================================
User Information:
Entered By  : CHESNEY,CHRISTINE M           Date Entered  : MAY 03, 2007
Completed By: ALDERMAN,MATT S               Date Completed: SEP 05, 2007
Released By : FITCH,DONNA                   Date Released : SEP 06, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
