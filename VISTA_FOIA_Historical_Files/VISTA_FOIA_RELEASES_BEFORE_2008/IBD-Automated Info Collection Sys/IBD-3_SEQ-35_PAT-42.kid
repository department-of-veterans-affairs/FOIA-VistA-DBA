Released IBD*3*42 SEQ #35
Extracted from mail message
**KIDS**:IBD*3.0*42^

**INSTALL NAME**
IBD*3.0*42
"BLD",3322,0)
IBD*3.0*42^AUTOMATED INFO COLLECTION SYS^0^3010425^y
"BLD",3322,1,0)
^^2^2^3010412^
"BLD",3322,1,1,0)
While using Clinic Setup/Edit Forms option and printing an Encounter form,
"BLD",3322,1,2,0)
the option errors if a slave device is selected.
"BLD",3322,4,0)
^9.64PA^^
"BLD",3322,"KRN",0)
^9.67PA^19^17
"BLD",3322,"KRN",.4,0)
.4
"BLD",3322,"KRN",.401,0)
.401
"BLD",3322,"KRN",.402,0)
.402
"BLD",3322,"KRN",.403,0)
.403
"BLD",3322,"KRN",.5,0)
.5
"BLD",3322,"KRN",.84,0)
.84
"BLD",3322,"KRN",3.6,0)
3.6
"BLD",3322,"KRN",3.8,0)
3.8
"BLD",3322,"KRN",9.2,0)
9.2
"BLD",3322,"KRN",9.8,0)
9.8
"BLD",3322,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",3322,"KRN",9.8,"NM",1,0)
IBDF1C^^0^B7543531
"BLD",3322,"KRN",9.8,"NM","B","IBDF1C",1)

"BLD",3322,"KRN",19,0)
19
"BLD",3322,"KRN",19,"NM",0)
^9.68A^^
"BLD",3322,"KRN",19.1,0)
19.1
"BLD",3322,"KRN",101,0)
101
"BLD",3322,"KRN",409.61,0)
409.61
"BLD",3322,"KRN",771,0)
771
"BLD",3322,"KRN",870,0)
870
"BLD",3322,"KRN",8994,0)
8994
"BLD",3322,"KRN","B",.4,.4)

"BLD",3322,"KRN","B",.401,.401)

"BLD",3322,"KRN","B",.402,.402)

"BLD",3322,"KRN","B",.403,.403)

"BLD",3322,"KRN","B",.5,.5)

"BLD",3322,"KRN","B",.84,.84)

"BLD",3322,"KRN","B",3.6,3.6)

"BLD",3322,"KRN","B",3.8,3.8)

"BLD",3322,"KRN","B",9.2,9.2)

"BLD",3322,"KRN","B",9.8,9.8)

"BLD",3322,"KRN","B",19,19)

"BLD",3322,"KRN","B",19.1,19.1)

"BLD",3322,"KRN","B",101,101)

"BLD",3322,"KRN","B",409.61,409.61)

"BLD",3322,"KRN","B",771,771)

"BLD",3322,"KRN","B",870,870)

"BLD",3322,"KRN","B",8994,8994)

"BLD",3322,"QUES",0)
^9.62^^
"BLD",3322,"REQB",0)
^9.611^^
"MBREQ")
0
"PKG",421,-1)
1^1
"PKG",421,0)
AUTOMATED INFO COLLECTION SYS^IBD^The utilities for generating a paper encounter form.
"PKG",421,20,0)
^9.402P^^
"PKG",421,22,0)
^9.49I^1^1
"PKG",421,22,1,0)
3.0^2970212^2970424^1258
"PKG",421,22,1,"PAH",1,0)
42^3010425
"PKG",421,22,1,"PAH",1,1,0)
^^2^2^3010425
"PKG",421,22,1,"PAH",1,1,1,0)
While using Clinic Setup/Edit Forms option and printing an Encounter form,
"PKG",421,22,1,"PAH",1,1,2,0)
the option errors if a slave device is selected.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","IBDF1C")
0^1^B7543531
"RTN","IBDF1C",1,0)
IBDF1C ;ALB/CJM - ENCOUNTER FORM (print sample form) ; FEB 11,1992
"RTN","IBDF1C",2,0)
 ;;3.0;AUTOMATED INFO COLLECTION SYS;**42**;APR 24, 1997
"RTN","IBDF1C",3,0)
 ;
"RTN","IBDF1C",4,0)
 ;This print routine forces queueing - so that allocation problems do not occur.
"RTN","IBDF1C",5,0)
 ;
"RTN","IBDF1C",6,0)
PRINT(IBFORM) ;
"RTN","IBDF1C",7,0)
 N IBQUIT,NODE,HT,WD S IBQUIT=0
"RTN","IBDF1C",8,0)
 D FULL^VALM1
"RTN","IBDF1C",9,0)
 S VALMBCK="R"
"RTN","IBDF1C",10,0)
 ;
"RTN","IBDF1C",11,0)
 I ('$G(IBFORM))!$G(IBTKBLK) N IBFORM D FORM G:IBQUIT EXIT
"RTN","IBDF1C",12,0)
 I $G(IBFORM) S NODE=$G(^IBE(357,IBFORM,0)),WD=$P(NODE,"^",9),HT=$P(NODE,"^",10) K NODE
"RTN","IBDF1C",13,0)
 D DEVICE,HOME^%ZIS G EXIT
"RTN","IBDF1C",14,0)
 ;
"RTN","IBDF1C",15,0)
QUEUED ; entry
"RTN","IBDF1C",16,0)
 D FORM^IBDF2A(IBFORM,0)
"RTN","IBDF1C",17,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","IBDF1C",18,0)
 ;
"RTN","IBDF1C",19,0)
EXIT ;
"RTN","IBDF1C",20,0)
 K ZTSK,Y,X,J,D0,%,%I,D,DIC,DY,DX,I
"RTN","IBDF1C",21,0)
 Q
"RTN","IBDF1C",22,0)
 ;
"RTN","IBDF1C",23,0)
DEVICE ;
"RTN","IBDF1C",24,0)
 W !,"** You must queue the form to print. **"
"RTN","IBDF1C",25,0)
 W !,$C(7),"** This Encounter Form requires "_WD_" columns and a page length of "_HT_" lines. **",!
"RTN","IBDF1C",26,0)
 ;
"RTN","IBDF1C",27,0)
 ;queuing is automatic - the device is not opened
"RTN","IBDF1C",28,0)
 K %IS,%ZIS,IOP S %ZIS="N0Q",%ZIS("A")="Printer to queue to: ",%ZIS("B")="",%ZIS("S")="I $E($P($G(^%ZIS(2,+$G(^%ZIS(1,Y,""SUBTYPE"")),0)),U),1,2)=""P-""" D ^%ZIS
"RTN","IBDF1C",29,0)
 Q:POP
"RTN","IBDF1C",30,0)
 I $D(IO("S")) D  G DEVICE
"RTN","IBDF1C",31,0)
 .W !!,"** Printer can not be a slave printer please try again.**",!
"RTN","IBDF1C",32,0)
 S ZTRTN="QUEUED^IBDF1C",ZTSAVE("IBFORM")="",ZTDESC="ENCOUNTER FORM",ZTDTH=$H D ^%ZTLOAD W !,$S($D(ZTSK):"REQUEST QUEUED TASK="_ZTSK,1:"REQUEST CANCELLED")
"RTN","IBDF1C",33,0)
 Q
"RTN","IBDF1C",34,0)
 ;
"RTN","IBDF1C",35,0)
FORM ;returns IBFORM
"RTN","IBDF1C",36,0)
 N P4
"RTN","IBDF1C",37,0)
 S IBFORM=0
"RTN","IBDF1C",38,0)
 ;if the user used the '=' syntax then assume he wants to choose from the list
"RTN","IBDF1C",39,0)
 S P4=$P(XQORNOD(0),"^",4)
"RTN","IBDF1C",40,0)
 I P4["==" S P4=$P(P4,"==")_"="_$P(P4,"==",2),$P(XQORNOD(0),"^",4)=P4
"RTN","IBDF1C",41,0)
 I $G(VALM("TITLE"))["FORMS",$P(P4,"=",2) D
"RTN","IBDF1C",42,0)
 .I $G(IBAPI("SELECT"))'="" X IBAPI("SELECT")
"RTN","IBDF1C",43,0)
 .S:IBFORM Y(0)=$G(^IBE(357,IBFORM,0))
"RTN","IBDF1C",44,0)
 E  D
"RTN","IBDF1C",45,0)
 .K DIR S DIR(0)="YA",DIR("A")="Do you want to print a form from the toolkit? "
"RTN","IBDF1C",46,0)
 .D ^DIR K DIR Q:(Y=-1)!($D(DIRUT))
"RTN","IBDF1C",47,0)
 .K DIC S DIC("S")=$S(Y:"I $P(^(0),U,7),$P(^(0),U)'=""WORKCOPY"",$P(^(0),U)'=""TOOL KIT""",1:"I '$P(^(0),U,7)"),DIC=357,DIC(0)="AEQZ",DIC("A")="Select any FORM by name: "
"RTN","IBDF1C",48,0)
 .D ^DIC K DIC Q:$D(DIRUT)!(Y<0)
"RTN","IBDF1C",49,0)
 .S IBFORM=+Y
"RTN","IBDF1C",50,0)
 I 'IBFORM S IBQUIT=1 Q
"RTN","IBDF1C",51,0)
 S WD=$P($G(Y(0)),"^",9),HT=$P($G(Y(0)),"^",10)
"RTN","IBDF1C",52,0)
 Q
"VER")
8.0^22
**END**
**END**
