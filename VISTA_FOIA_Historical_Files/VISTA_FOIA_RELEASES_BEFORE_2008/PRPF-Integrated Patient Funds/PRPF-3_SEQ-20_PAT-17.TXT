
=============================================================================
Run Date: MAR 02, 2007                     Designation: PRPF*3*17
Package : PRPF - INTEGRATED PATIENT FUNDS     Priority: Mandatory
Version : 3        SEQ #20                      Status: Released
                  Compliance Date: MAR 09, 2007
=============================================================================

Associated patches: (v)PRPF*3*15   <<= must be installed BEFORE `PRPF*3*17'
                    (v)PRPF*3*16   <<= must be installed BEFORE `PRPF*3*17'

Subject: PRPF FINAL MIGRATION PATCH

Category: 
  - Enhancement (Mandatory)
  - Data Dictionary

Description:
============

 This patch is -ONLY- intended for installation in a VistA environment that 
 has successfully completed the VPFS migration process for the Patient
 Funds package. If migration has been completed and the site is ready to
 DISABLE all standard user write or delete privileges to their legacy VistA
 Patient Funds package then proceed with installation of this patch.
  
 All Patient Funds options and functionality that either adds, updates, or
 deletes Patient Funds data will be disabled for standard VistA users. All 
 other Patient Funds menu options, such as reporting, will continue to
 function normally and it is intended that the legacy VistA Patient Funds
 package still remain available for historical reporting purposes
 indefinitely.
  
 Specifically the write, delete, and Laygo attribute for the following
 VistA files will be set to "^" to disallow changes to occur in those files
 by standard users.
  
 File #    File Name
 ------------------------------------------
 470       PATIENT FUNDS
 470.1     PATIENT FUNDS MASTER TRANSACTION
 470.2     PATIENT FUNDS FORMS
 470.3     PATIENT FUNDS TRANSACTION COUNTER
 470.5     PATIENT FUNDS TEMPORARY TRANSACTION
 470.6     PATIENT FUNDS REMARKS CODE
 470.9     PATIENT FUNDS ARCHIVE HISTORY
  
 This patch will also use a post install routine PRPFMR3 which will change the 
 write, delete, and Laygo attribute for any VistA user of the Patient Funds 
 files mentioned above. These changes will affect any standard VistA user that 
 has been given specific file access due to the site installing Kernel Part 
 III. If any FileMan privilege has been granted to a user for use within VistA 
 the user will now not be able to add, edit, or delete data within the Patient 
 Funds files. These changes will only have limited effects on VistA users with 
 programmer or DBA level privileges. When the post install routine completes 
 execution it will be deleted for security reasons therefore the checksum can 
 not be verified after patch installation. The post install results will 
 create entries in the patch 17 installation report. The patch installation 
 report will always contain one of two possible responses from the file 
 attribute change process:
  
 If message 1 is displayed in the patch 17 installation report:
 1) PATIENT FUNDS FILE ACCESS HAS BEEN SUCCESSFULLY UPDATED!
 Then the attributes to the Patient Funds files and any user that has
 specific access to Patient Funds files has been successfully updated.
  
 If message 2 is displayed in the patch 17 installation report:
 2) ERROR: PATIENT FUNDS FILE ACCESS HAS -NOT- BEEN SUCCESSFULLY UPDATED!!"
 Then there was a problem and IRM should be approached for a resolution
 and patch 17 will then need to be re-installed.
  
 The following VistA Patient Funds menu options have also been changed to:
 [Out of order:  DISABLED DUE TO PATIENT FUNDS MIGRATION] and are not
 intended to be reinstated permanently;
  
 [PRPF ADDRESS EDIT]            Address Edit
 [PRPF ARCHIVE]                 Archive Patient Funds Transactions
 [PRPF CHANGE ACCOUNT STATUS]   Change Account Status (ACTIVE/INACTIVE)
 [PRPF DEFERRAL DATE EDIT]      Deferral Date Edit
 [PRPF FORMS EDIT]              Add/Edit Patient Funds Forms
 [PRPF LONG REGISTRATION]       Long Form Registration
 [PRPF MULTIPLE POST]           Multiple Transaction Posting
 [PRPF POST]                    Post Patient Funds Transaction
 [PRPF POST BAL CAR FWD]        Post Balance Carried Forward from Manual System
 [PRPF PURGE]                   Summarize & Purge Patient Funds Transactions
 [PRPF REGISTRATION]            Add/Edit Patient Account
 [PRPF REMARKS CODE EDIT]       Enter/Edit Remarks Codes
 [PRPF SELECTED DATA EDIT]      Edit Selected Patient Data
 [PRPF SHORT REGISTRATION]      Short Form Registration
 [PRPF SUSPENSE ADD]            Add/Edit Suspense Item
 [PRPF SUSPENSE DATE DELETE]    Kill Complete Suspense Date for Individ Patient
 [PRPF SUSPENSE ITEM DELETE]    Delete Individual Suspense Item
 [PRPF UPDATE STATUS (ALL)]     Update Patient Status for ALL Accounts
 [PRPF VERIFY & CORRECT]        Verify and Correct Balance
 [PRPF TASKMAN UPDATE STATUS]   Update Patient Status for ALL Accounts (TASKMAN)
  
 Special Note: There is one Patient Funds menu option that will not be 
 disabled with this patch and that menu option is Guardian Edit [PRPF
 GUARDIAN EDIT]. The reason for this is to allow the update of Patient
 Guardian information until this capability is available in the VistA
 Registration package.
  
 Important Note to IRM: Any scheduled TaskMan tasks that are related to 
 the Patient Funds namespace [PRPF] such as;
  
 Out of Balance Report (TASKMAN)                  [PRPF TASKMAN OUT OF BALANCE]
 Update Patient Status for ALL Accounts (TASKMAN) [PRPF TASKMAN UPDATE STATUS]
 Negative Balance Report (TASKMAN)                [PRPF TASKMAN NEGATIVE BAL]
  
 or any locally created tasks related to Patient Funds should be disabled
 permanently.
  
 The VPFS implementation manager will give each site instructions on where 
 to retrieve the KIDS file and the password that is required when it is 
 time for them to install patch PRPF*3.0*17.
  
 The following is a list of VPFS field test sites:
 1) Phoenix
 2) St. Cloud
 3) Pittsburgh
 4) White City
 5) Tuscaloosa
 6) Hines
  
 This patch addresses the following E3R(s):
 ------------------------------------------
 There are no E3Rs associated with this patch
  
 This patch addresses the following NOIS message(s):
 ---------------------------------------------------
 There are no NOIS associated with this patch
  
  
 ====================== INSTALLATION INSTRUCTIONS ======================
  
 Install Time - Less than 5 minutes.
  
  1.  START UP KIDS:
      -------------
      Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]:
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
           Load a Distribution
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
           Backup a Transport Global
  
  2.  Load The Distribution:
      ---------------------
      Load the KIDS build for patch PRPF*3.0*17
  
      a.  Choose the Load a Distribution option to start the KIDS install.
      b.  When prompted 'Enter a Host File:' enter the KIDS file name
      c.  When prompted 'OK to continue with Load? NO//' answer YES
      d.  When prompted 'Want to Continue with Load? YES//' answer YES
  
  3.  Select Installation Option:
      --------------------------
      NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
             NAME, enter PRPF*3.0*17):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  4.  Select Installation Option: Install Package(s)
                                  ------------------
      **This is the step to start the installation of this KIDS patch:
  
      a.  Choose the Install Package(s) option to start the patch install.
      b.  When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of
          Install? YES//" answer NO.
      c.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          YES//' answer NO.
      d.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//' answer NO

Routine Information:
====================
Routine Name: PRPFMR3
 Description of Changes:
       The checksums below are new checksums, and can be checked with
       CHECK1^XTSUMBLD.
   
       Routine Name: PRPFMR3
       Before:       n/a  After:  B5717508  **17**
   
       Description of Changes:
   
       The second line of each of the above routines now looks like:
   
       ;;3.0;PATIENT FUNDS - POST MIGRATION 1.0;**17**;JUNE 1, 1989


=============================================================================
User Information:
Entered By  : ENFINGER,MARK                 Date Entered  : DEC 22, 2003
Completed By: ZALLAR,KERRY                  Date Completed: FEB 09, 2007
Released By : STRICKLAND,JOAN C             Date Released : MAR 02, 2007
=============================================================================


Packman Mail Message:
=====================

No routines included
