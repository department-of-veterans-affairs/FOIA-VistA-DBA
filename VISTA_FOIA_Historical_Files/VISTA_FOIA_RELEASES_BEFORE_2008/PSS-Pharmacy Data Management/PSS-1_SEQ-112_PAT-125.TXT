$TXT Created by ALSAHHAR,SAMI at CTST.FO-BIRM.MED.VA.GOV  (KIDS) on Wednesday, 05/09/07 at 12:42
=============================================================================
Run Date: JUL 19, 2007                     Designation: PSS*1*125
Package : PSS - PHARMACY DATA MANAGEMENT      Priority: Mandatory
Version : 1       SEQ #112                      Status: Released
                  Compliance Date: AUG 19, 2007
=============================================================================

Associated patches: (v)PSS*1*41    <<= must be installed BEFORE `PSS*1*125'
                    (v)PSS*1*48    <<= must be installed BEFORE `PSS*1*125'
                    (v)PSS*1*52    <<= must be installed BEFORE `PSS*1*125'
                    (v)PSS*1*58    <<= must be installed BEFORE `PSS*1*125'
                    (v)PSS*1*82    <<= must be installed BEFORE `PSS*1*125'
                    (v)PSS*1*102   <<= must be installed BEFORE `PSS*1*125'

Subject: LOCK TIMEOUT (Q3 ENHANCEMENTS)

Category: 
  - Routine
  - Enhancement (Mandatory)

Description:
============

 With the deployment of Cache version 5, it was discovered that the short
 lock timeout values could generate a lock failure. Patch DI*22*147, which 
 has already been released, provided a solution to resolve this issue and 
 future lock issues.
  
 This patch instituted a new default lock timeout of three seconds based on
 a global node setting of ^DD("DILOCKTM")=3.
  
 In order to avoid the lock issue in Pharmacy Data Management, this patch 
 modifies all routines that currently use a lock timeout value of less than
 3 seconds to check for the node ^DD("DILOCKTM") and to use the value
 defined there, otherwise the lock timeout value is set to a default value
 of 3 seconds.
  
  Associated Remedy Tickets
  =========================
  N/A
  
  Test Sites:
  ===========
  DURHAM, NC
  IRON MOUNTAIN, MI
  LOUISVILLE, KY
  MONTANA HCS
  NEW YORK HARBOR HCS
  OKLAHOMA CITY, OK 
  
  Installation Instructions:
  ==========================
  Installation will take no longer than 5 minutes.  Suggested time to
  install: During non-peak requirement hours for Inpatient Medications
  users. Users may be on the system during this patch install.
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2. From the Kernel Installation & Distribution System menu, select
    the Installation menu.
  
 3. From this menu, you may select to use the following options:
    (when prompted for INSTALL NAME, enter PSS*1.0*125)
  
   a. Backup a Transport Global - this option will create a backup
      message of any routines exported with the patch. It will NOT
      backup any other changes such as DDs or templates.
  
   b. Compare Transport Global to Current System - this option will
      allow you to view all changes that will be made when the patch
      is installed. It compares all components of the patch (routines,
      DDs, templates, etc.).
  
   c. Verify Checksums in Transport Global - this option will ensure
      the integrity of the routines that are in the transport global.
  
 4. Use the Install Package(s) option and select the package PSS*1.0*125.
  
 5. When Prompted "Want KIDS to INHIBIT LOGONs during the install? YES//"
    respond NO.
  
 6. When Prompted "Want to DISABLE Scheduled Options, Menu Options, and
    Protocols? YES//" respond NO.
  
  
 Routine Summary:
  ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
     <tab>;;1.0;PHARMACY DATA MANAGEMENT;**[patch list]**;9/30/97
  
                       CHECK^XTSUMBLD results:
  
  Routine    Before Patch   After Patch   Patch List
  =======    ============   ===========   ==========
  PSS0052    4917713        4983392       52,125
  PSSADDIT   31170714       31575667      15,32,41,125
  PSSDFEE    2391570        2464939       38,48,125
  PSSDOSER   26077555       26452610      34,38,50,57,47,68,82,125
  PSSHELP    3001299        2703448       125
  PSSHL1     10736050       11652195      38,68,125
  PSSLOCK    3091252        3292110       26,58,125
  PSSPOIMN   35206733       35584638      15,32,34,38,51,57,82,125
  PSSPOIMO   40026827       40360848      29,32,38,47,68,102,125
  PSSSEE     2062079        2298792       37,57,70,77,82,125
  PSSSOLIT   15226124       15678441      32,41,125
  PSSVIDRG   16000419       16498605      2,10,32,38,125

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSS0052
    Before:  B6306052   After:  B6401941  **52,125**
Routine Name: PSSADDIT
    Before: B45782321   After: B46212078  **15,32,41,125**
Routine Name: PSSDFEE
    Before:  B2931039   After:  B3042568  **38,48,125**
Routine Name: PSSDOSER
    Before: B51578394   After: B51987793  **34,38,50,57,47,68,82,125**
Routine Name: PSSHELP
    Before:  B3230088   After:  B2969588  **125**
Routine Name: PSSHL1
    Before: B25861305   After: B26832539  **38,68,125**
Routine Name: PSSLOCK
    Before:  B6560145   After:  B6837283  **26,58,125**
Routine Name: PSSPOIMN
    Before: B61699020   After: B62103637  **15,32,34,38,51,57,82,125**
Routine Name: PSSPOIMO
    Before: B73322011   After: B73680836  **29,32,38,47,68,102,125**
Routine Name: PSSSEE
    Before:  B2533355   After:  B2787240  **37,57,70,77,82,125**
Routine Name: PSSSOLIT
    Before: B19253143   After: B19718816  **32,41,125**
Routine Name: PSSVIDRG
    Before: B28213537   After: B28763212  **2,10,32,38,125**
 
Routine list of preceding patches: 41, 48, 52, 58, 82, 102

=============================================================================
User Information:
Entered By  : ALSAHHAR,SAMI                 Date Entered  : MAR 28, 2007
Completed By: LEONARD,KEN                   Date Completed: JUL 17, 2007
Released By : LESIEUR,SHIRLEY               Date Released : JUL 19, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
