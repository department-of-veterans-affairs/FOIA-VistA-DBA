$TXT Created by NAPOLIELLO,GREG S at LAWVAA.FO-BIRM.MED.VA.GOV  (KIDS) on Tuesday, 06/21/05 at 09:04
=============================================================================
Run Date: JUN 28, 2005                     Designation: PSO*7*199
Package : PSO - OUTPATIENT PHARMACY           Priority: EMERGENCY
Version : 7       SEQ #180                      Status: Released
                  Compliance Date: JUN 30, 2005
=============================================================================

Associated patches: (v)PSO*7*118   <<= must be installed BEFORE `PSO*7*199'

Subject: DEATH ENTRY PROBLEM

Category: 
  - Routine

Description:
============

 This patch corrects the problem when the user tries entering a 
 date of death for a patient that has non-VA medications assigned and 
 where the patient has just died.  When using an option that edits the 
 DATE OF DEATH(#.351) field of the PATIENT(#2) file for a patient, it is 
 possible for an error to occur.
  
  
  Overview of NOIS Message(s):
  ============================
  
  PROBLEM:
  When using ADT Manager Menu [ADT MANAGER MENU] option and trying to
  assign a date of death for a patient, the system will receive an error.
  
  The following error occurs in routine PSOORUTL...
  
   %DSM-E-UNDEF, undefined variable DIFLD(1)
   -DSM-I-ECODE, MUMPS error code: M6
   %DSM-I-ATLABEL, IX+1^DIE1:6     S X="" I DG(DQ)]"" F DG=1:1 
   Q:'$D(DE(DQ,DG))  S 
   DIC=DIE,X=DG(DQ) X DE(DQ,DG,1)
  
  SOLUTION:
  The FILEMAN call in routine PSOORUTL needs to be changed in order to 
  allow the date of death entry to complete.
  
  Associated NOIS/REMEDY: 
  =======================
  SLC-0301-52944 (HD67399)  IX+1^DIE Undef DIFLD(1)
     Duplicates:
           SBY-0503-31207 (HD67634)  Undef Code IX+1
           OKL-0803-71771 (HD67703)  Discharge Patient errors out
           ALT-0105-20043 (HD68594)  Death Entry Problem
           ATG-0105-31490 (HD68698)  Undefined error IX+1 Death Entry
           LEB-0205-20581 (HD68797)  Death entry problem 
           HD0000000085261 Receving error message w/entry of date of death
           HD0000000086360 DATE OF DEATH ENTRY
           HD0000000087256 Frequent errors in error trap occurring during 
                             death entries
           BAC-0205-40997 (HD65395) DG DEATH
           HD0000000066905 Error when entering a death
           HD0000000065790 Error when entering Death Entry
  Test Sites: 
  ===========
  Salisbury, NC
  Battle Creek, MI
  Madison, WI
  Oklahoma City, OK
  
  Routine Summary: 
  ================
  
  The second line now reads as follows;
  
  <TAB> ;;7.0;OUTPATIENT PHARMACY;**Patch List**;DEC 1997
  
  Routine      Before Patch     After Patch     Patch List 
  ===================================================================
  PSOORUTL     21147138         21115836        14,46,146,132,118,199
   
  Installation Instructions: 
  ==========================
  It is recommended that this patch be installed after normal business
  hours while no Outpatient Pharmacy users are using the system.
  
  Installation will take about 5 minutes.  
  
   1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.  
  
   2. Review your mapped set. If the routines are mapped, they should 
      be removed from the mapped set at this time.  
  
   3. From the Kernel Installation & Distribution System menu, select 
      the Installation menu.  
  
   4. From this menu, you may select to use the following options: 
      (when prompted for INSTALL NAME, enter PSO*7.0*199)
  
        a.  Verify Checksums in Transport Global - This option will allow
            you to ensure the integrity of the routines that are in the
            transport global.
        b.  Print Transport Global - This option will allow you to view
            the components of the KIDS build.
        c.  Compare Transport Global to Current System - This option will
            allow you to view all changes that will be made when this patch
            is installed.  It compares all components of this patch
            (routines, DD's, templates, etc.).
        d.  Backup a Transport Global - This option will create a backup
            message of any routines exported with this patch. It will not
            backup any other changes such as DD's or templates.
  
   5. Use the Install Package(s) option and select the package PSO*7.0*199.
  
      Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
      Want KIDS to INHIBIT LOGONs during the install? YES// NO
      Want to DISABLE Scheduled Options, Menu Options, and Protocols? 
       YES// NO
  
   6. If Routines were unmapped as part of step 2, they should be 
      returned to the mapped set once the installation has run to 
      completion.

Routine Information:
====================

Routine Name:
  - PSOORUTL


Routine Checksum:

=============================================================================
User Information:
Entered By  : JACOBSON,PHIL                 Date Entered  : FEB 09, 2005
Completed By: CROSSMAN,PAM                  Date Completed: JUN 27, 2005
Released By : LESIEUR,SHIRLEY               Date Released : JUN 28, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
