$TXT Created by UNDERHILL,GARDNER III at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Thursday, 10/05/06 at 15:07
=============================================================================
Run Date: OCT 06, 2006                     Designation: LR*5.2*360
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #278                    Status: Released
                  Compliance Date: NOV 06, 2006
=============================================================================

Associated patches: (v)LR*5.2*286  <<= must be installed BEFORE `LR*5.2*360'
                    (v)LR*5.2*290  <<= must be installed BEFORE `LR*5.2*360'
                    (v)LR*5.2*305  <<= must be installed BEFORE `LR*5.2*360'

Subject: ACCESSIONING LAB ORDER ISSUES

Category: 
  - Routine

Description:
============

 VISTA Laboratory Package patch LR*5.2*360 contains changes to software 
 controlled by VHA DIRECTIVE 2004-053, titled VISTA BLOOD BANK SOFTWARE. 
 Changes include: 
 LRDPA   Modified to display a message stating the patient has died and 
 display the date of the patient's death if the variable DOD has a value.
 LRX - Modified to return the patient's date of death in variable DOD
  
 All of the above changes have been reviewed by the VISTA Blood Bank 
 Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE 
 control functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*360 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*360 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions.
  
 POTENTIAL IMPACT ON SITES: This patch contains changes to 2 routines and 
 0 files identified in Veterans Health Administration (VHA) Directive 
 2004-053, group B listing. The changes have no effect on Blood Bank 
 functionality or medical device control functions. There is no adverse 
 potential to sites.
  
 VALIDATION REQUIREMENTS BY OPTION: 
 There are no validation requirements by option for this patch.
  
 MINIMAL TEST CASE SCENARIOS BY OPTION, INCLUSIVE OF ALL CONTROL FUNCTIONS:
 There are no test case scenarios for this patch.
  
 **************************************************************************
  
 This patch will prevent the re-accessioning of accessioned lab orders,
 the input of order numbers exceeding eight characters in length, and 
 alerting the user to the patient's date of death.
  
  
 PARTICIPATING TEST SITES:
 =========================
 Salisbury VAMC
 Central Texas HCS
 Boston HCS
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1) HD142186 -  Need to debug report time earlier than collection time
    Duplicate:  HD69166 - Lab Date/Time Discrepancy
  
 2) HD70132 -   ERROR - NEXT+13^LROE, illegal number
  
 3) HD145836  - Date of Death warning not displaying in CH/MI accessioning
    Duplicates: HD71296 -  Lab package no longer alerts when patient is
                       deceased
                HD153398 - Patient died on 10-24-94; 
  
  
 Problem (1): HD142186, Duplicate: HD69166
 ============
 The routine LROE was allowing previously accessioned and partially
 accessioned orders to be re-accessioned, creating bad indexes and
 corrupting data. 
  
 Solution:
 =========
 Modify LROE to prevent the re-accessioning of orders and the 
 re-accessioning of the accessioned parts of a partially accessioned
 orders.
  
  
 Problem (2): HD70132
 ============
 The user is allowed to enter an order number of any length at the "Select 
 Order number:" prompt of routine LROE. If the length of the number entered
 exceeds what the system will allow for a maximum length the user is forced
 out of the system by a <MAXLENGTH> mumps error.
  
 Solution:
 =========
 Modify LROE to check the length of the input order number. If it exceeds 
 the length defined in the Data Dictionary for the field ORDER #
 (69.01,9.5) of 8 characters maximum, the user will be alerted of this and
 returned to the "Select Order number:" prompt.
  
  
 Problem (3): HD145836, Duplicates: HD71296, HD153398
 ============
 The chemistry and microbiology accessioning is not displaying a patient
 Date of Death warning message.
  
 Solution:
 =========
 Modify LRX to return the patient's date of death in a new variable DOD 
 (Date Of Death). Modify routines LROE (the chemistry accessioning) and 
 LRDPA (the patient selection routine for the microbiology accessioning) 
 to display a message stating the patient has died and the date of the 
 patient's death if the variable DOD has a value. In addition the user 
 will be prompted if they wish to continue with the accessioning for the 
 deceased patient. Entering Y for Yes will continue with the accessioning 
 process. Entering N for No, '^', or letting the prompt timeout (set at 
 120 seconds) will stop the accessioning. It does not cancel the order.
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch can be loaded with users in the system, but it should be
 installed during non-peak hours.  Installation time will be less than
 two minutes.
  
   1.  Choose the PackMan message containing this patch and invoke the
       INTALL/CHECK MESSAGE Packman option.
  
   2.  Start up the Kernel Installation and Distribution System Menu [XPD
       MAIN]:
  
             Edits and Distribution ...
             Utilities ...
             Installation ...
  
       Select Kernel Installation & Distribution System Option:
       Installation
  
             1      Load a Distribution
             2      Verify Checksums in Transport Global
             3      Print Transport Global
             4      Compare Transport Global to Current System
             5      Backup a Transport Global
             6      Install Package(s)
                    Restart Install of Package(s)
                    Unload a Distribution
  
   3.  From this menu, it is highly recommended that you use the
       following options (When prompted for the INSTALL NAME, enter
       LR*5.2*360):
  
       a.  Verify Checksums in Transport Global - This option will
           verify the checksums of routines included in this patch.
       b.  Print Transport Global - This option will print out a list
           of all the components exported in this patch.
       c.  Compare Transport Global to Current System - This option
           will allow you to view all changes that will be made when
           this patch is installed.  It compares all components of this
           patch (routines, DD's, templates, etc.).
       d.  Backup a Transport Global - This option will back up the
           current versions of the routines in this patch before it is
           installed.
  
   4.  Use the Install Package(s) option and select the package LR*5.2*360.
  
       a.  When prompted "Want KIDS to INHIBIT LOGONs during the
           install? YES//", answer NO.
       b.  When prompted "Want to DISABLE Scheduled Options and Menu
           Options and Protocols? YES//", answer NO.
  
  
 ROUTINE SUMMARY:
 ===============
 The following routines are included in this patch. The second line of 
 each of these routine now look like:
  
   <tab>;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
  
                         CHECK^XTSUMBLD
  
                  Checksum       Checksum
 Routine Name     Before Patch   After Patch    Patch List
 ------------     ------------   ------------   -----------
 LRDPA            7840899        8235406        137,121,153,202,211
                                                248,305,360
 LROE             11534796       12635663       100,121,201,221,263,286,
                                                360
 LRX              15315863       15676575       65,153,201,217,290,360

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: LRDPA
    Before: B24730842  After: B27232185  **137,121,153,202,211,248,305,360**
Routine Name: LROE
    Before: B30204534  After: B34568741  **100,121,201,221,263,286,360**
Routine Name: LRX
    Before: B56896675  After: B57348907  **65,153,201,217,290,360**

=============================================================================
User Information:
Entered By  : UNDERHILL,GARDNER D           Date Entered  : MAY 18, 2006
Completed By: WERNER,GARY                   Date Completed: OCT 06, 2006
Released By : LECLAIR,RAY                   Date Released : OCT 06, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
