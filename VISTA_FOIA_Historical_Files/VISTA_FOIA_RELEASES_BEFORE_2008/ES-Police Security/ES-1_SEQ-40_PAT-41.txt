$TXT Created by BECKWITH,RALPH at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 07/30/04 at 12:06
=============================================================================
Run Date: AUG 03, 2004                     Designation: ES*1*41
Package : ES - POLICE & SECURITY              Priority: Mandatory
Version : 1        SEQ #40                      Status: Released
                  Compliance Date: SEP 03, 2004
=============================================================================

Associated patches: (v)ES*1*39     <<= must be installed BEFORE `ES*1*41'

Subject: IDENTIFYING OFFICERS WITH SAME NAME

Category: 
  - Print Template
  - Data Dictionary

Description:
============

 
 1. Modify the Case Assignment Register to display the officer's names as 
    lastname,finit (finit=first name initial) to distinguish officers
    with the same last name.
  
 2. Prevent the ability to allow selection of non-officers at 
    Officer/Investigator questions for the following options:
     ESP EDIT OFFENSE REPORT   		[Edit a Completed Offense Report]
     ESP CREATE JOURNAL        		[Create a Daily Journal]
     ESP FOLLOW-UP ADD/EDIT    		[Follow-Up Entry Add/Edit]
     ESP FOLLOW-UP OFFENSE REPORTS    	[Follow-Up Offense Reports] 
     ESP ADD JOURNAL ENTRY     		[Add a Journal Entry]
     ESP COURTESY VIOLATION INPUT   	[Create Courtesy Violation Notice]
     ESP VIOLATION EDIT        		[Update Violation Notice Entry]
  
  
 ASSOCIATED NOIS:
 ================
  
 1) MAR-0300-21209  Identifying Officers w/same name
 2) MIN-0600-40840  Prevent selection of employee w/o security key
  
   
 ASSOCIATED E3RS:
 ================
  
 N/A
  
  
 PARTICIPATING TEST SITES
 ========================
  
 Black Hills, CA
 Manchester, NH
 Shreveport, LA
 Salem, VA
  
 
 NOIS OVERVIEW
 =============
  
 1) MAR-0300-21209  Identifying officers with same name on Case
                    Assignment Register
  
     Problem
     -------
  
     When printing the Case Assignment Register the officer's names
     appear as the first 9 characters of the last name only. The site
     wants to see the first 9 characters of last name and the first
     character of first name:  aaaaaaaaa,b
  
  
     
     Resolution
     ----------
  
     A modification was made to the Print Template (ESP CASE ASSIGNMENT
     REGISTER) to print officer's names as first 9 characters of last
     name and first character of first name:  BECKWITH,R
  
 2)MIN-0600-40840 Prevent selection of employee w/o security key
                  
  
     Problem
     -------
  
     For ESP options Create or Edit Offense Reports, Add or Create a Daily
     Journal, Follow-up Offense Reports and Create Courtesy/Violation
     Notice Entry prevent the ability to allow selection of non-officers
     at Officer/Investigator questions.
  
  
     Resolution
     ----------
  
     Modify the input transforms for Officers/Investigators in files: 912-
     ESP OFFENSE REPORT FILE, 914-ESP VIOLATION FILE and 916-ESP DAILY
     JOURNAL FILE to check the ^VA(200,"AK.ESP POLICE") index for defined
     for name AND New Person file internal number.
  
 ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;1.0;POLICE & SECURITY;**[patch list]**;Mar 31, 1994
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
    N/A
  
  
 DATA DICTIONARY CHANGES:
 =======================
 The DD changes for this patch are to allow the officer lookup
 logic to focus on name and internal # to insure that the NEW 
 PERSON name is a valid security officer.
  
 Before:
 ------
  
 912,.06     INVESTIGATING OFFICER:  0;6 POINTER TO NEW PERSON FILE (#200)
                               (Required)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))"
  
 912.17,.01  INVESTIGATOR:     0;1 POINTER TO NEW PERSON FILE (#200)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 
                               X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))"
  
 914,.06     ISSUING OFFICER:  0;6 POINTER TO NEW PERSON FILE (#200)
                               (Required)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 
                               X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))"
  
 916.31,.01  OFFICER:          0;1 POINTER TO NEW PERSON FILE (#200)
                               (Multiply asked)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P
                               (^(0),U)))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))"
  
 916.05,1    OFFICER           1;1 POINTER TO NEW PERSON FILE (#200)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 
                               X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U)))"
  
 After:
 -----
 912,.06     INVESTIGATING OFFICER:  0;6 POINTER TO NEW PERSON FILE (#200)
                               (Required)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))"
  
 912.17,.01  INVESTIGATOR:     0;1 POINTER TO NEW PERSON FILE (#200)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 
                               X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))"
  
 914,.06     ISSUING OFFICER:  0;6 POINTER TO NEW PERSON FILE (#200)
                               (Required)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 
                               X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))"
  
 916.31,.01  OFFICER:          0;1 POINTER TO NEW PERSON FILE (#200)
                               (Multiply asked)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P
                             (^(0),U),+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))"
  
 916.05,1    OFFICER:          1;1 POINTER TO NEW PERSON FILE (#200)
  
             INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 
                               X
             SCREEN:           S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^
                               (0),U),+Y))"
  
  
 INSTALLATION INSTRUCTIONS
 =========================
  
   This patch can be installed at any time.  Users do not need to be off
   the system.  Installation will take less than 2 minutes.
  
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.
  
  2.  (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
   
  3.  Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
    
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
    
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
                                                                
           Load a Distribution 
           Print Transport Global 
           Compare Transport Global to Current System 
           Verify Checksums in Transport Global 
           Install Package(s) 
           Restart Install of Package(s) 
           Unload a Distribution 
           Backup a Transport Global  
  
  4.  From this menu, you may elect to use the following options
      (when prompted for the INSTALL NAME, enter ES*1.0*41):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
  5.  Use the Install Package(s) option and select the package ES*1.0*41.
  
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          YES//', answer NO (unless otherwise indicated).
      b.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//', answer YES
          Selecting:
  
     ESP EDIT OFFENSE REPORT   		[Edit a Completed Offense Report]
     ESP CREATE JOURNAL        		[Create a Daily Journal]
     ESP FOLLOW-UP ADD/EDIT    		[Follow-Up Entry Add/Edit]
     ESP FOLLOW-UP OFFENSE REPORTS    	[Follow-Up Offense Reports] 
     ESP ADD JOURNAL ENTRY     		[Add a Journal Entry]	
     ESP COURTESY VIOLATION INPUT   	[Create Courtesy Violation Notice]
     ESP VIOLATION EDIT        		[Update Violation Notice Entry]
  
      c.  When prompted 'Enter protocols you wish to mark as 'Out Of 
          Order':', press <return>.
  
  6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
     
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.

Routine Information:
====================

=============================================================================
User Information:
Entered By  : BECKWITH,RALPH                Date Entered  : MAR 17, 2004
Completed By: WERNER,GARY                   Date Completed: JUL 30, 2004
Released By : COPELAND,ROLANDA              Date Released : AUG 03, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
