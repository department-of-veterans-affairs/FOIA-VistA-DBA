Released XT*7.3*92 SEQ #79
Extracted from mail message
**KIDS**:XT*7.3*92^

**INSTALL NAME**
XT*7.3*92
"BLD",870,0)
XT*7.3*92^TOOLKIT^0^3051201^y
"BLD",870,1,0)
^^2^2^3050523^
"BLD",870,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"BLD",870,1,2,0)
XT*7.3*92  Fix TAPE~XTRCMP for Cache.
"BLD",870,4,0)
^9.64PA^^
"BLD",870,6.3)
1
"BLD",870,"KRN",0)
^9.67PA^8989.52^19
"BLD",870,"KRN",.4,0)
.4
"BLD",870,"KRN",.401,0)
.401
"BLD",870,"KRN",.402,0)
.402
"BLD",870,"KRN",.403,0)
.403
"BLD",870,"KRN",.5,0)
.5
"BLD",870,"KRN",.84,0)
.84
"BLD",870,"KRN",3.6,0)
3.6
"BLD",870,"KRN",3.8,0)
3.8
"BLD",870,"KRN",9.2,0)
9.2
"BLD",870,"KRN",9.8,0)
9.8
"BLD",870,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",870,"KRN",9.8,"NM",1,0)
XTRCMP^^0^14525022
"BLD",870,"KRN",9.8,"NM","B","XTRCMP",1)

"BLD",870,"KRN",19,0)
19
"BLD",870,"KRN",19.1,0)
19.1
"BLD",870,"KRN",101,0)
101
"BLD",870,"KRN",409.61,0)
409.61
"BLD",870,"KRN",771,0)
771
"BLD",870,"KRN",870,0)
870
"BLD",870,"KRN",8989.51,0)
8989.51
"BLD",870,"KRN",8989.52,0)
8989.52
"BLD",870,"KRN",8994,0)
8994
"BLD",870,"KRN","B",.4,.4)

"BLD",870,"KRN","B",.401,.401)

"BLD",870,"KRN","B",.402,.402)

"BLD",870,"KRN","B",.403,.403)

"BLD",870,"KRN","B",.5,.5)

"BLD",870,"KRN","B",.84,.84)

"BLD",870,"KRN","B",3.6,3.6)

"BLD",870,"KRN","B",3.8,3.8)

"BLD",870,"KRN","B",9.2,9.2)

"BLD",870,"KRN","B",9.8,9.8)

"BLD",870,"KRN","B",19,19)

"BLD",870,"KRN","B",19.1,19.1)

"BLD",870,"KRN","B",101,101)

"BLD",870,"KRN","B",409.61,409.61)

"BLD",870,"KRN","B",771,771)

"BLD",870,"KRN","B",870,870)

"BLD",870,"KRN","B",8989.51,8989.51)

"BLD",870,"KRN","B",8989.52,8989.52)

"BLD",870,"KRN","B",8994,8994)

"MBREQ")
0
"PKG",6,-1)
1^1
"PKG",6,0)
TOOLKIT^XT^PROGRAMMERS OPTIONS, MULTI. TERM LOOKUP^
"PKG",6,20,0)
^9.402P^^0
"PKG",6,22,0)
^9.49I^1^1
"PKG",6,22,1,0)
7.3^3040428^2970513^2
"PKG",6,22,1,"PAH",1,0)
92^3051201
"PKG",6,22,1,"PAH",1,1,0)
^^2^2^3051201
"PKG",6,22,1,"PAH",1,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"PKG",6,22,1,"PAH",1,1,2,0)
XT*7.3*92  Fix TAPE~XTRCMP for Cache.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XTRCMP")
0^1^B14525022
"RTN","XTRCMP",1,0)
XTRCMP ;SF-ISC/RWF - Compare two routines. ;12/01/2005
"RTN","XTRCMP",2,0)
 ;;7.3;TOOLKIT;**92**;Apr 25, 1995;Build 1
"RTN","XTRCMP",3,0)
A ;Compare two routines in account
"RTN","XTRCMP",4,0)
 N DIR,DIRUT,RTN1,RTN2,%N,XCNP,DIF,%DEBUG,XTEND,%ZIS,ZTDESC,ZTRTN,ZTSAVE
"RTN","XTRCMP",5,0)
 N %,%1,%2,%3,%4,%H,%T,%Y,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z
"RTN","XTRCMP",6,0)
 S U="^" S:'$D(DTIME) DTIME=$$DTIME^XUP($G(DUZ),$G(IOS))
"RTN","XTRCMP",7,0)
 W !,"Compares two routines"
"RTN","XTRCMP",8,0)
 S DIR("A")="First Routine" D RSEL G QUIT:$D(DIRUT) S RTN1=X,DIR("A")="Compare to Routine: " D RSEL G QUIT:$D(DIRUT) S RTN2=X
"RTN","XTRCMP",9,0)
 S %ZIS="Q" D ^%ZIS G QUIT:POP
"RTN","XTRCMP",10,0)
 I '$D(IO("Q")) W !,"Loading Routines." G CHECK
"RTN","XTRCMP",11,0)
 S ZTRTN="CHECK^XTRCMP",ZTDESC="Routine Compare",ZTSAVE("RTN1")="",ZTSAVE("RTN2")=""
"RTN","XTRCMP",12,0)
 D ^%ZTLOAD D HOME^%ZIS
"RTN","XTRCMP",13,0)
 G QUIT
"RTN","XTRCMP",14,0)
 ;
"RTN","XTRCMP",15,0)
CHECK ;
"RTN","XTRCMP",16,0)
 S DIF="^TMP($J,1," D LOAD(RTN1) S O=XCNP-1
"RTN","XTRCMP",17,0)
 S DIF="^TMP($J,2," D LOAD(RTN2) S F=XCNP-1
"RTN","XTRCMP",18,0)
 U IO W @IOF,!,RTN1,?(IOM\2),RTN2
"RTN","XTRCMP",19,0)
 D LINE,^XMPC W !
"RTN","XTRCMP",20,0)
 D ^%ZISC
"RTN","XTRCMP",21,0)
 G QUIT
"RTN","XTRCMP",22,0)
 ;
"RTN","XTRCMP",23,0)
LOAD(X) ;Load Routine from Disk, Line count in XCNP.
"RTN","XTRCMP",24,0)
 S XCNP=0 X ^%ZOSF("LOAD")
"RTN","XTRCMP",25,0)
 Q
"RTN","XTRCMP",26,0)
RSEL S DIR(0)="F^1:8^D TEST^XTRCMP(X)",DIR("?")="Routine name to do compare on."
"RTN","XTRCMP",27,0)
 D ^DIR K DIR
"RTN","XTRCMP",28,0)
 Q
"RTN","XTRCMP",29,0)
TEST(X) ;Test if Routine is on Disk
"RTN","XTRCMP",30,0)
 X ^%ZOSF("TEST") I '$T W !,"Routine ",X," missing." K X
"RTN","XTRCMP",31,0)
 Q
"RTN","XTRCMP",32,0)
END S XTEND=1
"RTN","XTRCMP",33,0)
 Q
"RTN","XTRCMP",34,0)
 ;
"RTN","XTRCMP",35,0)
QUIT K ^TMP($J)
"RTN","XTRCMP",36,0)
 Q
"RTN","XTRCMP",37,0)
LINE S X="",$P(X,"-",IOM-3)="-" W !,X
"RTN","XTRCMP",38,0)
 Q
"RTN","XTRCMP",39,0)
 ;
"RTN","XTRCMP",40,0)
TAPE ;Read a tape and compare to disk.
"RTN","XTRCMP",41,0)
 N DIR,DIRUT,RTN1,RTN2,%N,XCNP,DIF,XTAPE,X1
"RTN","XTRCMP",42,0)
 N %,%1,%2,%3,%4,%H,%T,%Y,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z
"RTN","XTRCMP",43,0)
 S U="^"
"RTN","XTRCMP",44,0)
 W !!,"Compares routines from tape/file with what's on disk."
"RTN","XTRCMP",45,0)
 S %ZIS="",%ZIS("A")="Device with Routines: " D ^%ZIS Q:POP  S XTAPE=IO F I="IOT","IOST","IOST(0)","IOS" S XTAPE(I)=@I
"RTN","XTRCMP",46,0)
 U XTAPE R X:10,Y:10 U IO(0) W !!,"Tape header",!,X,!,Y
"RTN","XTRCMP",47,0)
 S DIR(0)="Y",DIR("A")="OK to continue",DIR("B")="Yes" D ^DIR K DIR G EXIT:$D(DIRUT)!('Y)
"RTN","XTRCMP",48,0)
 S IO=IO(0),%ZIS="",%ZIS("A")="Output Report on Device: " D ^%ZIS G EXIT:POP
"RTN","XTRCMP",49,0)
 U IO W !,"Compare of routines from file (",XTAPE,") and disk",!
"RTN","XTRCMP",50,0)
 F X1=0:0 D TIN Q:X=""  D DIN I $D(X) D CMP("Tape")
"RTN","XTRCMP",51,0)
 U IO W !,"DONE"
"RTN","XTRCMP",52,0)
EXIT S IO=XTAPE F I="IOT","IOST","IOST(0)","IOS" S @I=XTAPE(I)
"RTN","XTRCMP",53,0)
 D ^%ZISC
"RTN","XTRCMP",54,0)
 K ^TMP($J)
"RTN","XTRCMP",55,0)
 Q
"RTN","XTRCMP",56,0)
 ;
"RTN","XTRCMP",57,0)
TIN ;Read one routine from tape
"RTN","XTRCMP",58,0)
 N I
"RTN","XTRCMP",59,0)
 U XTAPE R RTN1:10 ;Read routine name
"RTN","XTRCMP",60,0)
 ;Cache has more than just the name. 32 char max name.
"RTN","XTRCMP",61,0)
 F I=2:1:32 Q:($E(RTN1,I)'?1AN)
"RTN","XTRCMP",62,0)
 S RTN1=$E(RTN1,1,I-1)
"RTN","XTRCMP",63,0)
 I (RTN1'?1.8AN)&(RTN1'?1"%".7AN) S X="" Q
"RTN","XTRCMP",64,0)
 K ^TMP($J,1)
"RTN","XTRCMP",65,0)
 F I=1:1 R X:10 Q:X=""  S ^TMP($J,1,I,0)=$TR(X,$C(9)," ")
"RTN","XTRCMP",66,0)
 S X=RTN1,O=I-1 U IO
"RTN","XTRCMP",67,0)
 Q
"RTN","XTRCMP",68,0)
 ;
"RTN","XTRCMP",69,0)
DIN X ^%ZOSF("TEST") I '$T U IO W !,"Routine ",X," not on disk" D LINE K X Q
"RTN","XTRCMP",70,0)
 K ^TMP($J,2) S DIF="^TMP($J,2," D LOAD(X) S F=XCNP-1
"RTN","XTRCMP",71,0)
 Q
"RTN","XTRCMP",72,0)
 ;
"RTN","XTRCMP",73,0)
CMP(S1) ;
"RTN","XTRCMP",74,0)
 U IO W !,"Routine ",RTN1,!?3,S1,?IOM\2+3,"Disk"
"RTN","XTRCMP",75,0)
 I $G(%DEBUG) F I=1,2 S ^TMP($J,2,I,0)=^TMP($J,1,I,0)
"RTN","XTRCMP",76,0)
 D LINE,^XMPC
"RTN","XTRCMP",77,0)
 Q
"RTN","XTRCMP",78,0)
 ;
"RTN","XTRCMP",79,0)
KIN(RN) ;KIDS routine in
"RTN","XTRCMP",80,0)
 K ^TMP($J,1) S R=$NA(^XTMP("XPDI",XPDST,"RTN",RN))
"RTN","XTRCMP",81,0)
 F I=1:1 Q:'$D(@R@(I))  S ^TMP($J,1,I,0)=@R@(I,0)
"RTN","XTRCMP",82,0)
 S X=RN,O=I-1
"RTN","XTRCMP",83,0)
 Q
"RTN","XTRCMP",84,0)
 ;
"RTN","XTRCMP",85,0)
XPD ;Compair a KIDS install to Disk
"RTN","XTRCMP",86,0)
 N RTN1,RTN2,O,F,%N,XCNP
"RTN","XTRCMP",87,0)
 ;Get the install
"RTN","XTRCMP",88,0)
 S %="I '$P(^(0),U,9),$D(^XPD(9.7,""ASP"",Y,1,Y)),$D(^XTMP(""XPDI"",Y))",XPDST=$$LOOK^XPDI1(%)
"RTN","XTRCMP",89,0)
 S XPDNM=$$GET1^DIQ(9.7,XPDST_",",.01)
"RTN","XTRCMP",90,0)
 Q:'XPDST!$D(XPDQUIT)
"RTN","XTRCMP",91,0)
 S %ZIS="M" D ^%ZIS Q:POP
"RTN","XTRCMP",92,0)
 D XPDDO(XPDST)
"RTN","XTRCMP",93,0)
 D ^%ZISC
"RTN","XTRCMP",94,0)
 Q
"RTN","XTRCMP",95,0)
 ;
"RTN","XTRCMP",96,0)
XPDDO(XPDST) ;Do the KIDS compare
"RTN","XTRCMP",97,0)
 N RTN1,RTN2,O,F,%N,XCNP,X
"RTN","XTRCMP",98,0)
 U IO W !,"Compare of routines from KIDS ",XPDNM,", and disk",!
"RTN","XTRCMP",99,0)
 S RTN1="" F  S RTN1=$O(^XTMP("XPDI",XPDST,"RTN",RTN1)) Q:RTN1=""  S X=^(RTN1) D
"RTN","XTRCMP",100,0)
 . I X W:X=1 !!,"DELETE Routine: ",RTN1,! Q
"RTN","XTRCMP",101,0)
 . D KIN(RTN1),DIN I $D(X) S F=XCNP-1 D CMP("KIDS")
"RTN","XTRCMP",102,0)
 . Q
"RTN","XTRCMP",103,0)
 Q
"VER")
8.0^22.0
"BLD",870,6)
^79
**END**
**END**
