Released IB*2*351 SEQ #327
Extracted from mail message
**KIDS**:IB*2.0*351^

**INSTALL NAME**
IB*2.0*351
"BLD",6968,0)
IB*2.0*351^INTEGRATED BILLING^0^3061023^y
"BLD",6968,1,0)
^^2^2^3061003^
"BLD",6968,1,1,0)
The Chief Business Office has requested to update the DSS Stop Codes
"BLD",6968,1,2,0)
to reflect the FY 07 Co-pay rates.
"BLD",6968,4,0)
^9.64PA^^
"BLD",6968,6)
^310
"BLD",6968,6.3)
4
"BLD",6968,"INIT")
POST^IB20P351
"BLD",6968,"KRN",0)
^9.67PA^8989.52^19
"BLD",6968,"KRN",.4,0)
.4
"BLD",6968,"KRN",.401,0)
.401
"BLD",6968,"KRN",.402,0)
.402
"BLD",6968,"KRN",.403,0)
.403
"BLD",6968,"KRN",.5,0)
.5
"BLD",6968,"KRN",.84,0)
.84
"BLD",6968,"KRN",3.6,0)
3.6
"BLD",6968,"KRN",3.8,0)
3.8
"BLD",6968,"KRN",9.2,0)
9.2
"BLD",6968,"KRN",9.8,0)
9.8
"BLD",6968,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6968,"KRN",9.8,"NM",1,0)
IBEMTSCR^^0^B15961443
"BLD",6968,"KRN",9.8,"NM","B","IBEMTSCR",1)

"BLD",6968,"KRN",19,0)
19
"BLD",6968,"KRN",19.1,0)
19.1
"BLD",6968,"KRN",101,0)
101
"BLD",6968,"KRN",409.61,0)
409.61
"BLD",6968,"KRN",771,0)
771
"BLD",6968,"KRN",870,0)
870
"BLD",6968,"KRN",8989.51,0)
8989.51
"BLD",6968,"KRN",8989.52,0)
8989.52
"BLD",6968,"KRN",8994,0)
8994
"BLD",6968,"KRN","B",.4,.4)

"BLD",6968,"KRN","B",.401,.401)

"BLD",6968,"KRN","B",.402,.402)

"BLD",6968,"KRN","B",.403,.403)

"BLD",6968,"KRN","B",.5,.5)

"BLD",6968,"KRN","B",.84,.84)

"BLD",6968,"KRN","B",3.6,3.6)

"BLD",6968,"KRN","B",3.8,3.8)

"BLD",6968,"KRN","B",9.2,9.2)

"BLD",6968,"KRN","B",9.8,9.8)

"BLD",6968,"KRN","B",19,19)

"BLD",6968,"KRN","B",19.1,19.1)

"BLD",6968,"KRN","B",101,101)

"BLD",6968,"KRN","B",409.61,409.61)

"BLD",6968,"KRN","B",771,771)

"BLD",6968,"KRN","B",870,870)

"BLD",6968,"KRN","B",8989.51,8989.51)

"BLD",6968,"KRN","B",8989.52,8989.52)

"BLD",6968,"KRN","B",8994,8994)

"BLD",6968,"QUES",0)
^9.62^^
"BLD",6968,"REQB",0)
^9.611^1^1
"BLD",6968,"REQB",1,0)
IB*2.0*187^2
"BLD",6968,"REQB","B","IB*2.0*187",1)

"INIT")
POST^IB20P351
"MBREQ")
0
"PKG",200,-1)
1^1
"PKG",200,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",200,20,0)
^9.402P^1^1
"PKG",200,20,1,0)
2^^IBAXDR
"PKG",200,20,1,1)

"PKG",200,20,"B",2,1)

"PKG",200,22,0)
^9.49I^1^1
"PKG",200,22,1,0)
2.0^2940321^2990406^2447
"PKG",200,22,1,"PAH",1,0)
351^3061023
"PKG",200,22,1,"PAH",1,1,0)
^^2^2^3061023
"PKG",200,22,1,"PAH",1,1,1,0)
The Chief Business Office has requested to update the DSS Stop Codes
"PKG",200,22,1,"PAH",1,1,2,0)
to reflect the FY 07 Co-pay rates.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","IB20P351")
0^^B16501010^n/a
"RTN","IB20P351",1,0)
IB20P351 ;ALB/CXW-FY07 DSS CLINIC STOP CODES IB*2.0*351 POST INIT ;25-SEP-06
"RTN","IB20P351",2,0)
 ;;2.0;INTEGRATED BILLING;**351**;21-MAR-94;Build 4
"RTN","IB20P351",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","IB20P351",4,0)
 ;
"RTN","IB20P351",5,0)
POST ;
"RTN","IB20P351",6,0)
 N IBEFFDT,U
"RTN","IB20P351",7,0)
 S U="^",IBEFFDT=3061001 ;effective date OCT 1st, 2006 
"RTN","IB20P351",8,0)
 D START,ADD(IBEFFDT),UPDATE(IBEFFDT),FINISH
"RTN","IB20P351",9,0)
 Q
"RTN","IB20P351",10,0)
 ;
"RTN","IB20P351",11,0)
START D BMES^XPDUTL("FY07 DSS Clinic Stop Codes, Post-Install Starting")
"RTN","IB20P351",12,0)
 Q
"RTN","IB20P351",13,0)
 ;
"RTN","IB20P351",14,0)
FINISH D BMES^XPDUTL("FY07 DSS Clinic Stop Codes, Post-Install Complete")
"RTN","IB20P351",15,0)
 Q
"RTN","IB20P351",16,0)
 ;
"RTN","IB20P351",17,0)
 ;
"RTN","IB20P351",18,0)
ADD(IBEFFDT) ;
"RTN","IB20P351",19,0)
 ;add a new code
"RTN","IB20P351",20,0)
 N Y,IBC,IBT,IBX,IBY,IBCODE,IBTYPE,IBDES,IBOVER
"RTN","IB20P351",21,0)
 D BMES^XPDUTL(" Adding new codes to file 352.5")
"RTN","IB20P351",22,0)
 S IBC=0
"RTN","IB20P351",23,0)
 F IBX=1:1 S IBT=$P($T(NCODE+IBX),";",3) Q:'$L(IBT)  D
"RTN","IB20P351",24,0)
 . S IBCODE=+$P(IBT,U)
"RTN","IB20P351",25,0)
 . S IBY=$S(IBCODE=372:3041001,IBCODE=373:3041001,1:IBEFFDT)
"RTN","IB20P351",26,0)
 . I $D(^IBE(352.5,"AEFFDT",IBCODE,-IBY)) D  Q
"RTN","IB20P351",27,0)
 . . D BMES^XPDUTL(" Duplication of stop code "_IBCODE)
"RTN","IB20P351",28,0)
 . S IBTYPE=$P(IBT,U,2)
"RTN","IB20P351",29,0)
 . S IBDES=$E($P(IBT,U,3),1,30)
"RTN","IB20P351",30,0)
 . S IBOVER=$P(IBT,U,4)
"RTN","IB20P351",31,0)
 . S Y=+$$ADD3525(IBCODE,IBY,IBTYPE,IBDES,IBOVER) S:Y>0 IBC=IBC+1
"RTN","IB20P351",32,0)
 D BMES^XPDUTL("     "_IBC_$S(IBC<2:" entry",1:" entries")_" added to 352.5")
"RTN","IB20P351",33,0)
 Q
"RTN","IB20P351",34,0)
 ;
"RTN","IB20P351",35,0)
UPDATE(IBEFFDT) ;
"RTN","IB20P351",36,0)
 ;update an old code
"RTN","IB20P351",37,0)
 N Y,IB1,IBC,IBT,IBX,IBCODE,IBMSG,IBTYPE,IBDES,IBOVER,IBLSTDT
"RTN","IB20P351",38,0)
 S (IBC,IBMSG(1),IBMSG(2),IBMSG(3))=0
"RTN","IB20P351",39,0)
 F IBX=1:1 S IBT=$P($T(OCODE+IBX),";",3) Q:'$L(IBT)  D
"RTN","IB20P351",40,0)
 . S IBCODE=+$P(IBT,U)
"RTN","IB20P351",41,0)
 . I $D(^IBE(352.5,"AEFFDT",IBCODE,-IBEFFDT)) D  Q 
"RTN","IB20P351",42,0)
 . . D BMES^XPDUTL(" Duplication of stop code "_IBCODE)
"RTN","IB20P351",43,0)
 . S IBLSTDT=$O(^IBE(352.5,"AEFFDT",IBCODE,-9999999))
"RTN","IB20P351",44,0)
 . I +IBLSTDT=0 D  Q
"RTN","IB20P351",45,0)
 . . D BMES^XPDUTL(" Code "_IBCODE_" not found in file 352.5")
"RTN","IB20P351",46,0)
 . S IB1=$O(^IBE(352.5,"AEFFDT",IBCODE,IBLSTDT,0))
"RTN","IB20P351",47,0)
 . S IB1=$G(^IBE(352.5,IB1,0))
"RTN","IB20P351",48,0)
 . S IBTYPE=$S($P(IBT,U,2):$P(IBT,U,2),1:$P(IB1,U,3))
"RTN","IB20P351",49,0)
 . S IBDES=$S($P(IBT,U,3)'="":$E($P(IBT,U,3),1,30),1:$P(IB1,U,4))
"RTN","IB20P351",50,0)
 . S IBOVER=$S($P(IBT,U,4)'="":$P(IBT,U,4),1:$P(IB1,U,5))
"RTN","IB20P351",51,0)
 . I $P(IBT,U,2) D
"RTN","IB20P351",52,0)
 . . I 'IBMSG(1) D BMES^XPDUTL(" Updating billable type in file 352.5") S IBMSG(1)=1
"RTN","IB20P351",53,0)
 . I $P(IBT,U,3)'="" D
"RTN","IB20P351",54,0)
 . . I 'IBMSG(2),$P(IBT,U,3)'="" D BMES^XPDUTL(" Updating description in file 352.5") S IBMSG(2)=1
"RTN","IB20P351",55,0)
 . I '$P(IBT,U,2),$P(IBT,U,3)="" D
"RTN","IB20P351",56,0)
 . . I 'IBMSG(3) D BMES^XPDUTL(" Updating effective date in file 352.5") S IBMSG(3)=1
"RTN","IB20P351",57,0)
 . S Y=+$$ADD3525(IBCODE,IBEFFDT,IBTYPE,IBDES,IBOVER) S:Y>0 IBC=IBC+1
"RTN","IB20P351",58,0)
 D BMES^XPDUTL("     "_IBC_$S(IBC<2:" update",1:" updates")_" added to file 352.5")
"RTN","IB20P351",59,0)
 Q
"RTN","IB20P351",60,0)
 ;
"RTN","IB20P351",61,0)
ADD3525(IBCODE,IBEFFDT,IBTYPE,IBDES,IBOVER) ;
"RTN","IB20P351",62,0)
 ;add a new entry
"RTN","IB20P351",63,0)
 D BMES^XPDUTL("   "_IBCODE_"  "_IBDES)
"RTN","IB20P351",64,0)
 N IBIENS,IBFDA,IBER,IBRET
"RTN","IB20P351",65,0)
 S IBRET=""
"RTN","IB20P351",66,0)
 S IBIENS="+1,"
"RTN","IB20P351",67,0)
 S IBFDA(352.5,IBIENS,.01)=IBCODE
"RTN","IB20P351",68,0)
 S IBFDA(352.5,IBIENS,.02)=IBEFFDT
"RTN","IB20P351",69,0)
 S IBFDA(352.5,IBIENS,.03)=IBTYPE
"RTN","IB20P351",70,0)
 S IBFDA(352.5,IBIENS,.04)=IBDES
"RTN","IB20P351",71,0)
 S:IBOVER IBFDA(352.5,IBIENS,.05)=1
"RTN","IB20P351",72,0)
 D UPDATE^DIE("","IBFDA","IBRET","IBER")
"RTN","IB20P351",73,0)
 I $D(IBER) D BMES^XPDUTL(IBER("DIERR",1,"TEXT",1))
"RTN","IB20P351",74,0)
 Q $G(IBRET(1))
"RTN","IB20P351",75,0)
 ;
"RTN","IB20P351",76,0)
 ;new codes
"RTN","IB20P351",77,0)
NCODE ;;code^billable type^description^override flag
"RTN","IB20P351",78,0)
 ;;372^1^MOVE PROGRAM INDIVIDUAL
"RTN","IB20P351",79,0)
 ;;373^1^MOVE PROGRAM GROUP
"RTN","IB20P351",80,0)
 ;;159^1^COMPLEMENTARY ALTERNATIVE THERAPIES
"RTN","IB20P351",81,0)
 ;;182^0^TELEPHONE CASE MANAGEMENT^1
"RTN","IB20P351",82,0)
 ;;310301^0^TRANSRECTAL ULTRASOUND F-U IND^1
"RTN","IB20P351",83,0)
 ;;394301^0^TRANSRECTAL ULTRASOUND F-U GRP^1
"RTN","IB20P351",84,0)
 ;;571^0^RETURN VET OUTREACH ED/CARE-IND^1
"RTN","IB20P351",85,0)
 ;;572^0^RETURN VET OUTREACH ED/CARE-GRP^1
"RTN","IB20P351",86,0)
 ;;582^1^PSYC/SOC REHAB/RECOV CENTR-IND
"RTN","IB20P351",87,0)
 ;;583^1^PSYC/SOC REHAB/RECOV CENTR-GRP
"RTN","IB20P351",88,0)
 ;;584^0^TELEPHONE PSYC/SOC REHAB/RECOVERY^1
"RTN","IB20P351",89,0)
 ;;643^0^SEND-OUT PROCEDURES - RADIOLOGY^1
"RTN","IB20P351",90,0)
 ;;697^0^CHART CONSULT
"RTN","IB20P351",91,0)
 ;
"RTN","IB20P351",92,0)
 ;codes update
"RTN","IB20P351",93,0)
OCODE ;;code^billable type^description^override flag
"RTN","IB20P351",94,0)
 ;;142^1^^0
"RTN","IB20P351",95,0)
 ;;640
"RTN","IB20P351",96,0)
 ;;641
"RTN","IB20P351",97,0)
 ;;642
"RTN","IB20P351",98,0)
 ;;656
"RTN","IB20P351",99,0)
 ;;670
"RTN","IB20P351",100,0)
 ;;704^^FEMALE GENDER SPECIFIC CANCER SCREENING
"RTN","IB20P351",101,0)
 ;
"RTN","IBEMTSCR")
0^1^B15961443^B15919015
"RTN","IBEMTSCR",1,0)
IBEMTSCR ;ALB/RFJ-print billable types for visit copay ;23 Nov 01
"RTN","IBEMTSCR",2,0)
 ;;2.0;INTEGRATED BILLING;**167,187,351**;21-MAR-94;Build 4
"RTN","IBEMTSCR",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","IBEMTSCR",4,0)
 ;
"RTN","IBEMTSCR",5,0)
 W !!,"This option will print the billable types for copay visits."
"RTN","IBEMTSCR",6,0)
 W !,"You have the option to deliver the report to yourself in MailMan"
"RTN","IBEMTSCR",7,0)
 W !,"or print the report to a printer or on your screen."
"RTN","IBEMTSCR",8,0)
 ;
"RTN","IBEMTSCR",9,0)
 N IBFMAIL,%ZIS,IBFPOST,POP,ZTDESC,ZTQUEUED,ZTRTN,ZTSAVE
"RTN","IBEMTSCR",10,0)
 S IBFMAIL=$$ASKPRINT
"RTN","IBEMTSCR",11,0)
 I IBFMAIL<0 Q
"RTN","IBEMTSCR",12,0)
 ;
"RTN","IBEMTSCR",13,0)
 ;  select device
"RTN","IBEMTSCR",14,0)
 I 'IBFMAIL D  I $D(IO("Q"))!(POP) K IO("Q"),ZTSK Q
"RTN","IBEMTSCR",15,0)
 .   W ! S %ZIS="Q" D ^%ZIS Q:POP
"RTN","IBEMTSCR",16,0)
 .   I $D(IO("Q")) D  D ^%ZTLOAD Q
"RTN","IBEMTSCR",17,0)
 .   .   S ZTDESC="IB Visit Copay Billing Types",ZTRTN="DQ^IBEMTSCR"
"RTN","IBEMTSCR",18,0)
 .   .   S ZTSAVE("IBFMAIL")="",ZTSAVE("ZTREQ")="@"
"RTN","IBEMTSCR",19,0)
 ;
"RTN","IBEMTSCR",20,0)
 W !!,"<*> please wait <*>"
"RTN","IBEMTSCR",21,0)
 ;
"RTN","IBEMTSCR",22,0)
 ;
"RTN","IBEMTSCR",23,0)
DQ ;  print report
"RTN","IBEMTSCR",24,0)
 ;  variable ibfmail=1 to print to a mail message
"RTN","IBEMTSCR",25,0)
 ;  variable ibfpost=1 if from post init
"RTN","IBEMTSCR",26,0)
 N IBDA,IBDATA,IBLINE,IBSTOP,X,XMY
"RTN","IBEMTSCR",27,0)
 ;
"RTN","IBEMTSCR",28,0)
 ;  *** build the report in tmp ***
"RTN","IBEMTSCR",29,0)
 ;
"RTN","IBEMTSCR",30,0)
 ;  report line counter
"RTN","IBEMTSCR",31,0)
 S IBLINE=0
"RTN","IBEMTSCR",32,0)
 ;
"RTN","IBEMTSCR",33,0)
 D SET("This message is a summary of the Visit Copay Billing Types defined")
"RTN","IBEMTSCR",34,0)
 D SET("for your station.")
"RTN","IBEMTSCR",35,0)
 ;D SET("IB MEANS TEST.")
"RTN","IBEMTSCR",36,0)
 D SET(" ")
"RTN","IBEMTSCR",37,0)
 ;
"RTN","IBEMTSCR",38,0)
 D SET("The following Visit Copay Billing Types are defined for your station:")
"RTN","IBEMTSCR",39,0)
 D SET("Stop Code    Description                        Effective Date  Billable Type")
"RTN","IBEMTSCR",40,0)
 D SET("---------    -----------------------------      --------------  -------------")
"RTN","IBEMTSCR",41,0)
 S IBSTOP="" F  S IBSTOP=$O(^IBE(352.5,"B",IBSTOP)) Q:IBSTOP=""  D
"RTN","IBEMTSCR",42,0)
 .   S IBDA=0 F  S IBDA=$O(^IBE(352.5,"B",IBSTOP,IBDA)) Q:'IBDA  S IBDATA=^IBE(352.5,IBDA,0) D
"RTN","IBEMTSCR",43,0)
 .   .   ;  stop code
"RTN","IBEMTSCR",44,0)
 .   .   S X=$J($P(IBDATA,"^"),9)
"RTN","IBEMTSCR",45,0)
 .   .   ;  description
"RTN","IBEMTSCR",46,0)
 .   .   S X=X_"    "_$P(IBDATA,"^",4)_$J("",35-$L($P(IBDATA,"^",4)))
"RTN","IBEMTSCR",47,0)
 .   .   ;  effective date
"RTN","IBEMTSCR",48,0)
 .   .   I '$P(IBDATA,"^",2) S $P(IBDATA,"^",2)="???????"
"RTN","IBEMTSCR",49,0)
 .   .   S X=X_$E($P(IBDATA,"^",2),4,5)_"/"_$E($P(IBDATA,"^",2),6,7)_"/"_$E($P(IBDATA,"^",2),2,3)
"RTN","IBEMTSCR",50,0)
 .   .   ;  billable type
"RTN","IBEMTSCR",51,0)
 .   .   D SET(X_$J("",8)_$$TYPE($P(IBDATA,"^",3)))
"RTN","IBEMTSCR",52,0)
 ;
"RTN","IBEMTSCR",53,0)
 ; *** print or deliver the report from tmp ***
"RTN","IBEMTSCR",54,0)
 ;
"RTN","IBEMTSCR",55,0)
 ;  print the report
"RTN","IBEMTSCR",56,0)
 I '$G(IBFMAIL) D
"RTN","IBEMTSCR",57,0)
 .   N %,%I,IBFLAG,IBNOW,IBPAGE,IBSCREEN,X,Y
"RTN","IBEMTSCR",58,0)
 .   D NOW^%DTC S Y=% D DD^%DT S IBNOW=Y
"RTN","IBEMTSCR",59,0)
 .   S IBPAGE=1
"RTN","IBEMTSCR",60,0)
 .   S IBSCREEN=0 I '$D(ZTQUEUED),IO=IO(0),$E(IOST)="C" S IBSCREEN=1
"RTN","IBEMTSCR",61,0)
 .   U IO D H
"RTN","IBEMTSCR",62,0)
 .   ;
"RTN","IBEMTSCR",63,0)
 .   S IBLINE=0 F  S IBLINE=$O(^TMP($J,"IBEMTSCR",IBLINE)) Q:'IBLINE!($G(IBFLAG))  S IBDATA=^(IBLINE) D
"RTN","IBEMTSCR",64,0)
 .   .   I $Y>(IOSL-4) D:IBSCREEN PAUSE Q:$G(IBFLAG)  D H
"RTN","IBEMTSCR",65,0)
 .   .   W !,IBDATA
"RTN","IBEMTSCR",66,0)
 .   ;
"RTN","IBEMTSCR",67,0)
 .   D ^%ZISC
"RTN","IBEMTSCR",68,0)
 ;
"RTN","IBEMTSCR",69,0)
 ;  deliver the report in mailman
"RTN","IBEMTSCR",70,0)
 I $G(IBFMAIL) D
"RTN","IBEMTSCR",71,0)
 .   I $G(IBFPOST) S XMY("G.IB MEANS TEST")=""
"RTN","IBEMTSCR",72,0)
 .   S XMY(DUZ)=""
"RTN","IBEMTSCR",73,0)
 .   S X=$$SENDMSG("IB Visit Copay Billing Types",.XMY)
"RTN","IBEMTSCR",74,0)
 ;
"RTN","IBEMTSCR",75,0)
 K ^TMP($J,"IBEMTSCR")
"RTN","IBEMTSCR",76,0)
 Q
"RTN","IBEMTSCR",77,0)
 ;
"RTN","IBEMTSCR",78,0)
 ;
"RTN","IBEMTSCR",79,0)
SET(DATA)       ; store report
"RTN","IBEMTSCR",80,0)
 S IBLINE=IBLINE+1,^TMP($J,"IBEMTSCR",IBLINE)=DATA
"RTN","IBEMTSCR",81,0)
 Q
"RTN","IBEMTSCR",82,0)
 ;
"RTN","IBEMTSCR",83,0)
 ;
"RTN","IBEMTSCR",84,0)
SENDMSG(XMSUB,XMY) ;  send message with subject and recipients
"RTN","IBEMTSCR",85,0)
 N %X,D0,D1,D2,DIC,DICR,DIW,X,XCNP,XMDISPI,XMDUN,XMDUZ,XMTEXT,XMZ,ZTPAR
"RTN","IBEMTSCR",86,0)
 S XMDUZ="IB PACKAGE",XMTEXT="^TMP($J,""IBEMTSCR"","
"RTN","IBEMTSCR",87,0)
 D ^XMD
"RTN","IBEMTSCR",88,0)
 Q +$G(XMZ)
"RTN","IBEMTSCR",89,0)
 ;
"RTN","IBEMTSCR",90,0)
 ;
"RTN","IBEMTSCR",91,0)
TYPE(CODE) ;  return the billable type based on set of codes
"RTN","IBEMTSCR",92,0)
 I CODE=1 Q "Basic Care"
"RTN","IBEMTSCR",93,0)
 I CODE=2 Q "Specialty Care"
"RTN","IBEMTSCR",94,0)
 Q "Non-Billable"
"RTN","IBEMTSCR",95,0)
 ;
"RTN","IBEMTSCR",96,0)
 ;
"RTN","IBEMTSCR",97,0)
ASKPRINT() ;  ask to print in mail or printer
"RTN","IBEMTSCR",98,0)
 ;  1 is yes, otherwise no
"RTN","IBEMTSCR",99,0)
 N DIR,DIQ2,DIRUT,DTOUT,DUOUT,X,Y
"RTN","IBEMTSCR",100,0)
 S DIR(0)="YO",DIR("B")="NO"
"RTN","IBEMTSCR",101,0)
 S DIR("A")="  Do you want to deliver the report in MailMan"
"RTN","IBEMTSCR",102,0)
 W ! D ^DIR
"RTN","IBEMTSCR",103,0)
 I $G(DTOUT)!($G(DUOUT)) S Y=-1
"RTN","IBEMTSCR",104,0)
 Q Y
"RTN","IBEMTSCR",105,0)
 ;
"RTN","IBEMTSCR",106,0)
 ;
"RTN","IBEMTSCR",107,0)
PAUSE ;  pause at end of page
"RTN","IBEMTSCR",108,0)
 N X U IO(0) W !!,"Press RETURN to continue, '^' to exit:" R X:DTIME S:'$T X="^" S:X["^" IBFLAG=1 U IO Q
"RTN","IBEMTSCR",109,0)
 ;
"RTN","IBEMTSCR",110,0)
 ;
"RTN","IBEMTSCR",111,0)
H ;  header
"RTN","IBEMTSCR",112,0)
 S %=IBNOW_"  PAGE "_IBPAGE,IBPAGE=IBPAGE+1 I IBPAGE'=2!(IBSCREEN) W @IOF
"RTN","IBEMTSCR",113,0)
 W $C(13),"IB VISIT COPAY BILLING TYPES",?(80-$L(%)),%
"RTN","IBEMTSCR",114,0)
 W !,$TR($J("",79)," ","-")
"RTN","IBEMTSCR",115,0)
 Q
"VER")
8.0^22.0
"BLD",6968,6)
^327
**END**
**END**
