$TXT Created by THEROUX,JOHN at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 11/09/04 at 14:01
=============================================================================
Run Date: DEC 08, 2004                     Designation: DG*5.3*600
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #540                    Status: Released
                  Compliance Date: JAN 08, 2005
=============================================================================

Associated patches: (v)DG*5.3*576  <<= must be installed BEFORE `DG*5.3*600'

Subject: TEST PATIENTS

Category: 
  - Routine

Description:
============

   This patch is concerned with identifying test patients.
  
 ASSOCIATED NOISes:
 =================
 MAC-0404-61635     reset test patient
 Duplicates:
   DUR-0504-30948   Patient record indicates test patient
   PHI-1004-21216   Live patient is coming up as a test patient
   NYH-0103-11587   Unable to edit or change test patient to regular
                    patient
   NYH-1299-12156    TEST PATIENT INDICATOR
  
 ASSOCIATED E/3R's:
 ==================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 Durham, NC
 El Paso,TX
 New York, NY
 Philadelphia, PA
  
 NOIS OVERVIEW:
 ==============
  
 1) MAC-0404-61635    reset test patient
   
 Problem:
 ========
 When records are merged using Patient Merge, if the 'merged from'
 record is indicated as being a test patient (Test Patient Indicator
 field #.6, Patient file #2 is set to '1'), this data carries over to
 the 'merged to' record, resulting in the merged patient becoming a
 test patient even though it's SSN does not have 5 leading zeros.
  
 Resolution:
 ===========
 The three-part solution consists of:
  
 a) notifying the Patient Merge package developers of this
    problem by filing NOIS ISP-0604-N2056.
  
 b) providing a patient file utility routine DG53P600 which 
    will update these records.  The routine will look at every record
    in the Patient file (#2) and only if the SSN contains 5 leading zeroes,
    will update the Test Patient Indicator and "ATEST" crossreference.
    Conversely, if the SSN does not contain 5 leading zeroes, it will  
    set the Test Patient Indicator to 0 and kill the "ATEST" 
    crossreference.
    Our experience is that few such records exist at sites,
    but we recommend that you nonetheless print the report before 
    doing the update (See Post-Install Instructions).
  
 c) In an effort to identify any such cases that may occur in the future,
    the patient lookup routine DPTLK has been modified.  Currently,the
    message "Warning: You have selected a test patient." is displayed only
    if the Test Patient Indicator (field #.6) is set. Henceforth the
    message "WARNING: You may have selected a test patient" will appear if
    either a) the Indicator is set or b) the "ATEST" crossreference is set
    or c) the first five digits of the SSN contain zeros.
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Aug 13,1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DG53P600                   N/A              4577954             600
  DPTLK                 17585579             17589567      32,72,93,73,136
                                                       157,197,232,265,277
                                                       223,327,244,513,528
                                                               541,576,600
  
 INSTALLATION INSTRUCTIONS:
 ==========================
  
 Because the patient lookup is being modified, it is recommended that this 
 patch be installed during non-peak hours to limit interruptions to users.
  
 Installation will take less than 2 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
  
 2.  Review your mapped set.  If any of the routines listed in the 
     ROUTINE section are mapped, they should be removed from the mapped
     set at this time.
  
 3.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter DG*5.3*600):
     a.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch (routines,
         DDs, templates, etc.).
     b.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in the
         transport global.
     c.  Print Transport Global - this option will allow you to view the
         components of the KIDS build.
     d.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
  
 5.  Use the Install Package(s) option and select the package DG*5.3*600.
  
 6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO.
  
 7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond NO.
  
 8.  If routines were unmapped as part of step 2, they should be returned
     to the mapped set once the installation has run to completion.
  
 POST-INSTALL INSTRUCTIONS:
 =========================
  
 Installing the patch does NOT do the file cleanup.  We recommend
 that you first run REPORT^DG53P600 (queuing is advised).
 When you are ready to do the actual cleanup (assuming there are 
 records to update), run CLEANUP^DG53P600. The utility routine
 will read through the entire Patient file.  However, as only test
 records should be involved in this process, the utility can be 
 run anytime and no options need be placed out of order.
 Nonetheless, you may prefer to queue the routine during non-peak 
 hours because of the heavy processing involved.  When the cleanup
 has completed, you can run REPORT^DG53P600 again. It should display "no 
 records to report".

Routine Information:
====================

Routine Name:
  - DPTLK


Routine Checksum:

Routine Name:
  - DG53P600


Routine Checksum:

=============================================================================
User Information:
Entered By  : THEROUX,JOHN                  Date Entered  : APR 23, 2004
Completed By: BOWEN,MARY JANE               Date Completed: DEC 08, 2004
Released By : FITCH,DONNA                   Date Released : DEC 08, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
