$TXT Created by MCCORMACK,JOHN J at FS.ISC-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 01/23/03 at 12:27
=============================================================================
Run Date: JAN 28, 2003                     Designation: LR*5.2*300
Package : LR - LAB SERVICE                    Priority: EMERGENCY
Version : 5.2       SEQ #225                     Status: Released
                  Compliance Date: JAN 30, 2003
=============================================================================

Associated patches: (v)LR*5.2*283  <<= must be installed BEFORE `LR*5.2*300'

Subject: UNDEFINED VARIABLE ERRORS WHEN PRINTING INTERIM REPORT

Category: 
  - Routine

Description: 
============

 VISTA Laboratory Package patch LR*5.2*300 contains no changes to software
 controlled by VHA DIRECTIVE 99-053, titled VISTA BLOOD BANK SOFTWARE.
  
 Patch LR*5.2*300 corrects the following defects:
  
 1. NOIS BAY-1202-31189, PRO-1202-11453, SFC-1202-61678 reported an
 undefined variable LRPRTPG in routine LRRP2 when printing laboratory
 interim reports via CPRS. The variable LRPRTPG is now defined when a
 user selects to print interim reports via CPRS.
  
 2. NOIS MAN-1202-11246, PHI-1202-21644 reported an undefined variable
 PNM in routine LRRP2 when printing laboratory cumulative reports via
 option TASK THE CUMULATIVE TO RUN EACH NITE [LRTASK CUM]. The undefined
 variable is caused by the software attempting to print the list of
 performing laboratories after the reports had completed. The logic has
 been corrected to print the list with each interim report.
  
 3. NOIS SFC-1202-61678 reported an undefined variable LRIDT in routine
 LRRP2 when printing interim reports via option Interim Report [LRRP2].
 The undefined variable is caused by the user aborting printing when
 selecting starting and ending date ranges for the report. The software
 was not detecting user aborting. The logic has been corrected to return
 the user to the select patient prompt when aborting from date range
 selection.
  
  
 ASSOCIATED NOIS
 ---------------
  BAY-1202-31189
  BUT-1202-21395
  CHA-1202-32023
  CLL-1202-42133
  COS-0103-40211
  HOU-1202-72266
  JAC-0103-70260
  MAN-1202-11246
  MIW-0103-40485
  MON-1202-52048
  PHI-1202-21644
  PHO-1202-62145
  PRO-1202-11453
  PUG-1202-51880
  SFC-1202-61678
  SPO-1202-51904
  TUA-0103-30226
  WIM-1202-21873
  
  
 TEST SITES
 ----------
  Battle Creek VAMC
  Bay Pines VAMC
  Charleston VAMC
  Chillicothe VAMC
  Columbus OPC
  Heartland-West HCS
  Houston VAMC
  Indianapolis VAMC
  Jackson VAMC
  Madison VAMC
  Manchester VAMC
  Milwaukee VAMC
  Philadelphia VAMC
  Phoenix VAMC
  Puget Sound HSC
  San Francisco VAMC
  Shreveport VAMC
  Spokane VAMC
  Wilmington VAMC
  
  
 ROUTINE SUMMARY
 ===============
   The following routines are included in this patch.  The second line
   of each of these routines now looks like:
   <tab> ;;5.2;LAB SERVICE;<patchlist>;Sep 27, 1994
  
                     Checksum       Checksum
    Routine Name     Before Patch   After Patch    Patch List
    ------------     ------------   -----------    ------------
    LR300            N/A            4452251        **300** (Deleted by KIDS)
    LRRP2            15278779       13459970       **106,121,221,283,300**
  
  List of preceding patches: 283
  Sites should use CHECK^XTSUMBLD to verify checksums.
  
 ************************************************************************
  
  
 INSTALLATION INSTRUCTIONS
 =========================
  
   The install time for this patch is less than 5 minute. This patch
   can be installed when Laboratory users are on the system.
   Suggested time to install: non-peak requirement hours.
  
  
 NOTE: Kernel patches must be current on the target system to avoid
       problems loading and/or installing this patch.
  
       Patch installation needs to be coordinated with the Laboratory
       Information Manager (LIM/ADPAC).
  
  
   1.  If any of the above routines are mapped, disable mapping for them.
  
   2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   3.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   4.  Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   5.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
   6.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LR*5.2*300.  When prompted 'Want KIDS to
       INHIBIT LOGONs during the install? YES//', choose 'NO'.  When prompted
       'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
       YES//', choose 'NO'.
  
       Note: KIDS will disable the following options during patch
       installation:
         Interim report [LRRP2]
         Interim report by provider [LRRD]
         Interim report for chosen tests [LRRP3]
         Interim report for selected tests as ordered [LRRSP]
         Interim reports by location (manual queue) [LRRS]
         Interim reports for 1 location (manual queue) [LRRS BY LOC]
         Interim reports for 1 provider (manual queue) [LRRD BY MD]
         Reprint cumulative on a given patient [LRAC PT]
         Reprint a permanent page from cumulative [LRAC 1 PAGE]
         Manual queuing of cumulative [LRAC MANUAL]
         TASK THE CUMULATIVE TO RUN EACH NITE [LRTASK CUM]
  
  
   7. On a mapped system, rebuild your map set.
  
 NOTE: Routine LR300 will be deleted after successful patch installation.
  
  
  ************************************************************************
  Installation example:
  
  
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME: LR*5.2*300  Loaded from Distribution  
 12/19/02@16:50:38
      => LR*5.2*300
  
 This Distribution was loaded on Dec 19, 2002@16:50:38 with header of
    LR*5.2*300
    It consisted of the following Install(s):
      LR*5.2*300
 Checking Install for Package LR*5.2*300
 Will first run the Environment Check Routine, LR300
  
  
                         --- Environment Check is Ok ---
  
 Install Questions for LR*5.2*300
  
  
 Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
  
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME// TELNET VIRTUAL
  
  
  Install Started for LR*5.2*300 :
                Dec 19, 2002@16:52:29
  
 Build Distribution Date: Dec 19, 2002
  
  Installing Routines:...
                Dec 19, 2002@16:52:30
  
  Running Pre-Install Routine: PRE^LR300.
  
                Sending install started alert to mail group G.LMI
  
                           *** Pre install started ***
  
                            --- No action required---
  
                          *** Pre install completed ***
  
  Installing PACKAGE COMPONENTS:
  
  Installing OPTION............
                Dec 19, 2002@16:52:30
  
  Running Post-Install Routine: POST^LR300.
  
                           *** Post install started ***
  
                   --- No actions required for post install ---
  
                          *** Post install completed ***
  
               Sending install completion alert to mail group G.LMI
  
  Updating Routine file......
  
  Updating KIDS files.......
  
  LR*5.2*300 Installed.
                Dec 19, 2002@16:52:30
  
  Install Message sent #XXXXX
  
 Select Installation Option:

Routine Information:
====================

Routine Name:
  - LRRP2


Routine Checksum:

Routine Name:
  - LR300


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : MCCORMACK,JOHN                 Date Entered : DEC 19, 2002
Completed By: DIBENEDETTO,PETER             Date Completed: JAN 24, 2003
Released By : LECLAIR,RAY                   Date Released : JAN 28, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
