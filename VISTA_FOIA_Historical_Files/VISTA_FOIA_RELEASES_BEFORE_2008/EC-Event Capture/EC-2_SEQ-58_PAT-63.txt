
=============================================================================
Run Date: OCT 08, 2004                     Designation: EC*2*63
Package : EC - EVENT CAPTURE                  Priority: Mandatory
Version : 2        SEQ #58                      Status: Released
                  Compliance Date: NOV 08, 2004
=============================================================================

Associated patches: (v)EC*2*55     <<= must be installed BEFORE `EC*2*63'
                    (v)EC*2*56     <<= must be installed BEFORE `EC*2*63'
                    (v)EC*2*62     <<= must be installed BEFORE `EC*2*63'
                    (v)ICD*18*12   <<= must be installed BEFORE `EC*2*63'
                    (v)ICPT*6*19   <<= must be installed BEFORE `EC*2*63'

Subject: CTD - ECS CODE TEXT DESCRIPTORS

Category: 
  - Routine
  - Enhancement (Mandatory)
  - Informational

Description:
============

 ***********************************NOTE***************************************
 This patch does NOT conflict with CoreFLS and can be installed at CoreFLS
 sites.
 ******************************************************************************
    
   
 I.  BACKGROUND
   
 Office of Information Assurance, Office of Information, Veterans Health 
 Administration, requested modifications to the VHA Information Systems and 
 Technical Architecture (VistA) Patient Information Management System (PIMS) 
 package that would allow for the use of multiple versions of the code sets 
 employed in financial transactions. This work was completed in 2003 in the 
 Code Set Versioning (CSV) project that was deployed in October of 2003.  
 CSV included the Health Information Portability and Accessibility Act 
 (HIPAA) stipulation that diagnosis and procedure codes used for billing 
 purposes must be the codes that were applicable at the time service was 
 provided. Four code sets, (ICD-9-CM, DRG, CPT, and HCPCS) for this project  
 were modified as required under HIPAA legislation to be date-sensitive 
 under the first phase of the project, i.e., CSV I.
   
 At the time that CSV I was developed, a request was made to defer 
 applicable text versioning to the next iteration. This deferment of the 
 short and long-text versions from the CSV project makes up the scope of 
 this Code Text Descriptor (CTD) project. This follow-up project, Code Text 
 Descriptors, intends to add the functionality of date-sensitive versioning 
 for all applicable code text descriptors for the four code sets, effective 
 with all textual changes occurring since October 1, 2002.
    
 This patch addresses the changes done within the Event Capture package
 in compliance with the CTD project.  
 
   
    
 II. TECHNICAL
   
 o  Routine ECPRSUM1 was modified to replace direct global reads and Fileman 
    calls with CPT and CPT modifiers APIs.
 o  Routine ECUTL was modified to replace the direct global display of ICD9
    description with the ICD9 API.
 o  Routine ECEDU was modified to set the variable ECDT to be used with the 
    ICD9 API.
 o  Routine ECUTL2 was modified to remove DIC("W") for display of diagnosis.  
    Display will use information from the "ID" nodes of the global DD.
 o  Routine ECHECK1 was modified to add the event date as a parameter when 
    calling the CPT API.
 o  Routine ECSCR was modified to use the CPT API to display the correct 
    descriptor.
 o  Routine ECMUTL was modified to pass the event date rather than the 
    current date when calling the CPT modifier API.
 o  Routines ECPROV3, ECRDSSU and ECRPRSN were modified to use the ending 
    date from the user specified date range to pull the CPT descriptors.  
    This is in accordance with the business rule, "Reports generated for fee 
    basis, workload, event capture, etc. that allow a date range for 
    extracting information shall display results based upon the code text 
    descriptions applicable on the ending date of the report." 
 o  The following DD changes were made to set the variable ICDVDT to be used 
    by Fileman to display the appropriate diagnoses descriptor.
    - File 721, field 20
    - File 721, subfile 721.038, field .01.
   
   
 III. FUNCTIONAL
   
 The only noticeable difference users may see will occur when a specific CPT, 
 CPT modifier or ICD9 code descriptor changes base on the date the procedure 
 was done.  Below is a listed of options are that are affected by the CTD 
 functionality.  In some cases, changes done to the options under the CSV 
 project automatically complies with the CTD requirements.
    
    
    Event Capture Roll-n-scroll
    ---------------------------
    Event Capture Data Entry [ECENTER] ...
      Enter/Edit Patient Procedures [ECPAT]
      Batch Enter Data by Patient [ECBATCH]
      Data Entry (Batch) by Procedure [ECBATCH PROC]
      Multiple Dates/Multiple Procedures Data Entry [ECMULT PROC]
   
    Event Capture Reports [ECREPS] ...
      Patient Summary - Event Capture [ECPAT SUM]
      DSS Unit Workload Summary [ECRDSSU]
      Provider Summary Report [ECPROV]
      Ordering Section Summary Report [EC OS SUM]
      Provider (1-3) Summary Report [EC PRO SUM]
      PCE Data Summary [EC PCE REPORT]
      Procedure Reason Report [ECRPRSN]
   
    Event Capture Management Menu [ECMGR] ...
      Local Procedure (Enter/Edit) [ECDSS PROCEDURE]
      Event Code Screens (Create) [ECSCREEN]
      Management Reports ...
      Print Category and Procedure Summary [ECCP]
     
      
    Event Capture GUI
    -----------------
    Data Entry [Enter Patient and Procedure Data] ...
      Data Entry by Patient [Enter/Edit Patient Procedure(s)]
      Data Entry by Procedure [Batch (Same Procedure, Multiple Patients)]
    
    Reports [Preview and Print Selected Reports] ...
      Patient Summary Report
      DSS Unit Workload Report
      Provider Summary Report
      Ordering Section Summary Report
      Provider (1-3) Summary Report
      PCE Data Summary Report
      Procedure Reason Report
      Print Category and Procedure Summary (Report)
    
    Management Menu [Perform Event Capture Management Functions] ...
      Procedure [Add or Update Local Procedures]
      Event Code Screens [Add or Update Event Code Screens]
     
 
 Test Sites
 ----------
 Greater LA
 Hines
 Loma Linda
 Madison
 Puget Sound
     
     
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
      <tab>;;2.0; EVENT CAPTURE ;**[patch list]**;8 May 96
  
                             CHECK^XTSUMBLD results
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
 ECEDU                  8969200              9030710     10,18,23,47,63
 ECHECK1                6549413              6643061     4,33,47,55,63
 ECMUTL                11579563             11587410     5,10,18,33,47,63
 ECPROV3               10894580             11213827    5,8,18,29,47,56,63
 ECPRSUM1              11325604             11354135     5,18,33,47,62,63
 ECRDSSU               11564988             11666104    5,8,10,14,18,47,63
 ECRPRSN               16701682             16740517       5,18,47,63
 ECSCR                  5255260              5426167            1,63
 ECUTL                  5272663              5510315      10,18,47,63
 ECUTL2                 8563647              8416831      23,33,47,63
   
   
 SOFTWARE AND DOCUMENTATION RETRIEVAL
 ====================================
 The software for this patch is not being distributed through the National
 Patch Module.  This patch is being distributed as a host file.  The host
 file is a multi-package build containing five (5) KIDS builds.
  
          Host file name: CTD_MS_1_0.KID
     Multi-Package Build: CTD MS 1.0
                  Builds: EC*2.0*63
                        : PX*1.0*149
                        : SD*5.3*351
                        : DG*5.3*606
                        : IB*2.0*266
  
 Sites may retrieve the software and documentation directly using FTP
 from the ANONYMOUS.SOFTWARE directory at the following OI Field Offices:
  
             Albany: ftp.fo-albany.med.va.gov
              Hines: ftp.fo-hines.med.va.gov
     Salt Lake City: ftp.fo-slc.med.va.gov
  
  The following files will be available:
  
     File Name                         Description
     ---------                         -----------
     CTD_MS_1_0.KID                    Host file containing KIDS software
                                       distribution
     CTD_Install_Guide_1_0.pdf         Code Text Descriptors (CTD) 
                                       Installation Guide
     EC2_0P63.EXE                      Event Capture GUI
  
     * Note: Use ASCII mode when transferring the .KID file.  Use Binary
             mode when transferring the .EXE and .PDF files.  The .PDF files
             can be read on a PC using the Adobe Acrobat Reader program.
  
  
 INSTALLATION INSTRUCTIONS:
 =========================
 This patch can be installed with users on the system, however it should
 be installed during off hours to minimize disruption to users.
    
 This patch affects the check-out process and must be installed when the
 SCDX AMBCAR NIGHTLY XMIT background job is not running.  Installation will
 take less than 10 minutes.
    
 Note: The following is a list of REQUIRED builds for this multi-package
       distribution.  KIDS will not allow the installation of this patch
       without the prior installation of them.
    
  
             DG*5.3*158     DG*5.3*243     DG*5.3*511    DG*5.3*594
             DG*5.3*599     EC*2*55        EC*2*56       EC*2*62
             IB*2*115       IB*2*210       IB*2*245      ICD*18*12
             ICPT*6*19      PX*1.0*136     PX*1.0*134    SD*5.3*324
             SD*5.3*329
 
  
  1. Download the KIDS file CTD_MS_1_0.KID from the ANONYMOUS.SOFTWARE 
     directory of either Albany, Hines or the Salt Lake OIFO to the 
     appropriate directory on your system.
  
  2. Use LOAD A DISTRIBUTION option on the KIDS INSTALLATION menu, and
     enter: CTD_MS_1_0.KID
  
  3. Review your mapped set.  If any of the routines listed in the
     ROUTINE SUMMARY section are mapped, they should be removed
     from the mapped set at this time.
  
  4. From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
  5. From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter the appropriate patch
     designation - EC*2.0*63, PX*1.0*149, SD*5.3*351, DG*5.3*606 and
     IB*2.0*266):
  
       a.  Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch.  It will NOT
           backup any other changes such as DDs or templates.
       b.  Compare Transport Global to Current System  - this option will
           allow you to view all changes that will be made when the patch
           is installed.  It compares all components of the patch
           (routines, DDs, templates, etc.).
       c.  Verify Checksums in Transport Global - this option will
           allow you to ensure the integrity of the routines that are in
           the transport global.
       d.  Print Transport Global - this option will allow you to view the
           components of the KIDS build.
  
  6. Use the Install Package(s) option and select the package CTD MS 1.0.
  
  7. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//',respond NO.
  
  8. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond YES.  When prompted to select the
     options you would like to place out of order, enter the following:
  
       DG PTF MENU                      PTF Menu
       DG REGISTRATION 10/10 REPRINT    10/10 Print without New Registration
       ECMENU                           Event Capture Menu
       EC GUI CONTEXT                   EC GUI Context
       PXCE ENCOUNTER DATA ENTRY        PCE Encounter Data Entry
       PXCE ENCOUNTER ENTRY & DELETE    PCE Encounter Data Entry & Delete
       PXCE ENCOUNTER ENTRY NO DELETE   PCE Encounter Entry Without Delete
       PXCE ENCOUNTER ENTRY SUPER       PCE Encounter Data Entry -
                                        Supervisor
       SCDX AMBCAR NIGHTLY XMIT         Ambulatory Care Nightly
                                        Transmission to NPCDB
       SDAM APPT MGT                    Appointment Management
       SDAM APPT CHECK IN/OUT           Appointment Check-in/Check-out
       SDADDEDIT                        Add/Edit Stop Codes
       SDAPP                            Appointment Menu
       SDI                              Check-in/Unsched. Visit
       SDM                              Make Appointment
  
  9. If routines were unmapped as part of step 3, they should be
     returned to the mapped set once the installation has run to
     completion.

Routine Information:
====================

Routine Name:
  - ECPRSUM1


Routine Checksum:

Routine Name:
  - ECPROV3


Routine Checksum:

Routine Name:
  - ECRDSSU


Routine Checksum:

Routine Name:
  - ECRPRSN


Routine Checksum:

Routine Name:
  - ECUTL2


Routine Checksum:

Routine Name:
  - ECUTL


Routine Checksum:

Routine Name:
  - ECHECK1


Routine Checksum:

Routine Name:
  - ECMUTL


Routine Checksum:

Routine Name:
  - ECEDU


Routine Checksum:

Routine Name:
  - ECSCR


Routine Checksum:

=============================================================================
User Information:
Entered By  : MORRISON,JENNIFER             Date Entered  : MAR 02, 2004
Completed By: LAVERTY,TIM                   Date Completed: OCT 04, 2004
Released By : STRICKLAND,JOAN C             Date Released : OCT 08, 2004
=============================================================================


Packman Mail Message:
=====================

No routines included
