$TXT Created by WILLIAMS,JOHN F at CHY7B.FO-BAYPINES.MED.VA.GOV  (KIDS) on Monday, 01/24/05 at 12:14
=============================================================================
Run Date: MAR 11, 2005                     Designation: DG*5.3*584
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #558                    Status: Released
                  Compliance Date: APR 11, 2005
=============================================================================

Associated patches: (v)DG*5.3*242  <<= must be installed BEFORE `DG*5.3*584'
                    (v)SD*5.3*301  <<= must be installed BEFORE `DG*5.3*584'

Subject: SDA_VADPT Encapsulation

Category: 
  - Routine

Description:
============

    
 PURPOSE OF THE PATCH
 ====================
 This patch contains modifications to the API that will be used by VistA
 applications to integrate M-based Class I, Class III and local 
 applications with the Government Off-the-Shelf (GOTS) Scheduling 
 application being developed by the Scheduling Replacement team.
   
 The API will call the Appointment API, SD*5.3*301, which replaces the
 current method of accessing the patient appointment information stored in
 the Patient sub-file(#2.98). During implementation of the new GOTS
 Scheduler, this appointment information will be moved to the GOTS database
 and deleted from the Scheduling files.
  
 Installing the patch will not modify functionality or data, but will 
 introduce a new error code, as well as modify the meaning of an 
 existing error code.
    
 OVERVIEW
 ========
 The modifications to the API are designed to make it 'flexible' in 
 retrieving appointment information from either the current database
 source (VistA Scheduling files) or the new database source (GOTS SQL
 tables) without the user being concerned where the appointment
 information is located. Therefore, any hard-coded or Fileman references
 to the Scheduling global (^DPT(D0,"S")), which aren't replaced will 
 cause the application to error.
  
 The API's overall functionality and parameters (optional or not), have 
 not been changed due to the modifications made. However, an error code
 has been added and the existing error code available has been expanded
 to provide additional error handling.
  
 The input (Parameters) and output (End Results), with exception to 
 setting of the specific error code in VAERR, will be unchanged.
  
 NEW ERROR CODE
 ==============
 ERROR CODE:     DEFINITION
   
   2             Error Encountered:  Database is unavailable.
  
 MODIFIED ERROR CODE
 ===================
 ERROR CODE:     DEFINITION
   
   1             ERROR ENCOUNTERED:  DFN or ^DPT(DFN,0) is not defined Or
                                     Other Errors (Invalid Input Array
                                     Entry or Data Mismatch between
                                     VistA and RSA) 
   
 The following documentation is available
   
   DG_53_584TM.PDF - Updated page from the PIMS Technical Manual.
   This page should replace page #82 of 154 in the PIMS Technical Manual.
   
   NOTE: The document is in binary format so it must be transferred in
   binary, not ASCII, mode.
    
   To download from the first available FTP server, use FTP location
   download.vista.med.va.gov
   
   Or any of the following may also be used to download directly from a
   particular FTP location
   
   ALBANY             ftp.fo-albany.med.va.gov
   HINES              ftp.fo-hines.med.va.gov
   SALT LAKE          ftp.fo-slc.med.va.gov  
    
   
  
 TEST SITES
 ==========
 Bay Pines, FL
 EL Paso, TX
 Muskogee, OK
 Sheridan, WY
  
    
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
     <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993
  
                             CHECK^XTSUMBLD results
  
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========      =============
 VADPT5                12028647             11228904      54,63,242,584
    
   
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch should be installed during non-peak hours.  Installation will 
 take less than 5 minutes. Note: This patch REQUIRES patches SD*5.3*301 
 and DG*5.3*242 to be installed PRIOR to installation. In addition, this 
 patch can be installed with users on the system. 
   
   1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
   
   2.  Review your mapped set.  If any of the routines listed in the
       ROUTINE SUMMARY section are mapped, they should be removed
       from the mapped set at this time.
  
   3.  From the Kernel Installation and Distribution System Menu, select
       the Installation menu.
   
   4.  From this menu, you may elect to use the following options
       (when prompted for INSTALL NAME, enter DG*5.3*584):
         a.  Backup a Transport Global - this option will create a backup
             message of any routines exported with the patch.  It will NOT
             backup any other changes such as DDs or templates.
         b.  Compare Transport Global to Current System  - this option will
             allow you to view all changes that will be made when the patch
             is installed.  It compares all components of the patch
             (routines, DDs, templates, etc.).
         c.  Verify Checksums in Transport Global - this option will
             allow you to ensure the integrity of the routines that are in
             the transport global.
    
   5.  Use the Install Package(s) option and select the package DG*5.3*584.
   
   6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
       YES??//',respond NO.
   
   7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', respond NO.
   
   8.  If routines were unmapped as part of step 2, they should be
       returned to the mapped set once the installation has run to
       completion.

Routine Information:
====================

Routine Name:
  - VADPT5


Routine Checksum:
11228904

=============================================================================
User Information:
Entered By  : WILLIAMS,JOHN F               Date Entered  : FEB 09, 2004
Completed By: MEYERS,STEPHEN                Date Completed: MAR 10, 2005
Released By : FIELDS-BARNES,JANETTE         Date Released : MAR 11, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
