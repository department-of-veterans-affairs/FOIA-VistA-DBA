$TXT Created by CLEMENS,JOHN at NXT.KERNEL.ISC-SF.VA.GOV  (KIDS) on TUESDAY, 05/23/00 at 11:05
=============================================================================
Run Date: MAY 31, 2000                     Designation: HL*1.6*59
Package : HL - HEALTH LEVEL SEVEN            Priority: Mandatory
Version : 1.6        SEQ #54                    Status: Released
=============================================================================

Associated patches: (v)HL*1.6*14       install with patch       `HL*1.6*59'
                    (v)HL*1.6*36       install with patch       `HL*1.6*59'
                    (v)HL*1.6*57       install with patch       `HL*1.6*59'
                    (v)HL*1.6*58       install with patch       `HL*1.6*59'
                    (v)HL*1.6*61       install with patch       `HL*1.6*59'

Subject: Support for message structures,fix STUB RECORDS

Category: 
  - Data Dictionary
  - Routine

Description: 
============

 1. Introduces HL7 version 2.3.1 MESSAGE STRUCTURE components:
         -Introduces a new file (#779.005) to hold the new HL7 MESSAGE
          STRUCTURE CODES.
         -Adds a new field, MESSAGE STRUCTURE (#770.5), to the Protocol
          file. When defined, the MESSAGE STRUCTURE will be added to the
          version 2.3.1 message header.
  
 2. The message type of outbound messages was incorrectly stored in file
    773. This has been fixed.
  
 3. In file 771, HL APPLICATION PARAMETER, the input transforms for FIELD
    SEPARATOR and ENCODING CHARACTERS have been modified to prevent reuse
    of the field separator in the encoding characters. Each of the
    characters defined must be unique.
  
 4. HL*1.6*57 introduced a new menu structure. However, the old, obsolete
    menus were not removed. This patch will remove them.
  
 5. Fixes a problem with STUB records left behind in file 870 (Logical
    Link) resulting in freezing of links and the System Link Monitor as
    well as causing queues to grow until disk space is used up.
  
 NOTE: Some sites may have a considerable number of messages needing to be
 purged from file 870. Please consider disabling journalling of ^HLCS() for
 about a week after installing this patch.
  
 6.  Changes the PROCESSING ID field of file 101 to be no longer required.
 Note that HL7 message headers are populated with information for
 'TRAINING' or 'PRODUCTION' taken from the HL7 site parameters. Use the
 option, SITE PARAMETER EDIT, to verify that your production account is
 identified as such and your test/training account is identified as
 'TRAINING.' The event driver protocol PROCESSING ID field is now used only
 for DEBUG mode. Debug mode will override your site parameter setting. Make
 sure the protocol is set to 'debug' on both the sending and receiving
 system.
  
 7. Corrects a problem with creating new subscriptions when a user edits
 the zero node of file 774.
  
 This patch resolves the following NOIS calls:
  
         AMA-0300-70683
         ISD-0300-71919
         HOU-0400-71933
  
 The following routines are included in this patch.  The second line of
 each of these routines now looks like:
   
    ;;1.6;HEALTH LEVEL SEVEN;<patchlist>;Oct 13, 1995
   
   CHECK^XTSUMBLD results: 
     
   Routine Name  Before Patch    After Patch     Patch List 
   ============  ============    ===========     ========== 
   HLCSHDR       7364841         7637619         **37,19,57,59**
   HLCSHDR1      7750238         8586633         **19,57,59**
   HLCSQUE       4338251         4440270         **14,61,59**
   HLCSQUE1      1150239         1371156         **14,59**
   HLFNC2        5397412         5365297         **2,26,57,59**
   HLSUB         5501510         5552075         **14,57,58,59**
   HLTP3         14451393        14649677        **19,43,57,58,59**
   HLTP4         7805100         7964901         **19,57,59**
   HLTPCK1       4288888         4452787         **8,36,59**
   HLTPCK1A      14402537        14751742        **2,25,34,57,59**
   HLTPCK2       3804314         3962788         **19,59**
   HLTPCK2A      15262342        15611547        **19,57,59**
   HLUTIL2       5387464         5486507         **19,43,57,59**
  
  List of preceding patches: 14, 36, 57, 58, 61
  Sites should use CHECK^XTSUMBLD to verify checksums.
   
  Installation Instructions: 
  ==========================
    1.  Users are allowed to be on the system during the installation.  
   
    2.  DSM SITES: Review your mapped set.  If any of the routines listed
        in the Routine Summary section are mapped, they should be removed
        from the mapped set at this time.
   
    3.  Shutdown all Logical Links and incoming and outgoing filers, and
        the Link Manager. Use the options:
   
          Filer and Link Management Options -> 
              SA     Stop All Messaging Background Processes
              LM     TCP/IP Link Manager Start/Stop
   
    4.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This 
        option will load the KIDS package onto your system.  
   
    5.  The patch has now been loaded into a Transport global on your 
        system. You now need to use KIDS to install the Transport global.  
        On the KIDS menu, under the 'Installation' menu, use the following 
        options: 
   
           2 Verify Checksums in Transport Global 
           3 Print Transport Global 
           4 Compare Transport Global to Current System 
           5 Backup a Transport Global 
           6 Install Package(s) 
               INSTALL NAME: HL*1.6*59
                             =========
   
          Answer 'NO' to 'Want KIDS to Rebuild Menu Trees upon Completion
          of Install?'.
   
          Answer 'NO' to 'Want KIDS to INHIBIT LOGONS during the install?'.
    
          Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu Options, 
          and Protocols?'.  
   
    6.  Startup all Logical Links and incoming and outgoing filers. Use the
  
   
          Filer and Link Management Options ->
              RA     Restart/Start All Links and Filers
          (Note that links that do not have "autostart" enabled will need
           to be restarted manually)
     
        For DSM sites ONLY, if you previously disabled an HL7 UCX Service
        for this installation, you may now enable it.
   
    7.  DSM Sites: Rebuild your mapped set if necessary.
   
    8.  Start Link Manager using the option: "TCP/IP
          Link Manager Start/Stop."

Routine Information:
====================

Routine Name:
  - HLCSHDR


Routine Checksum:

Routine Name:
  - HLCSHDR1


Routine Checksum:

Routine Name:
  - HLCSQUE


Routine Checksum:

Routine Name:
  - HLCSQUE1


Routine Checksum:

Routine Name:
  - HLFNC2


Routine Checksum:

Routine Name:
  - HLTP4


Routine Checksum:

Routine Name:
  - HLTPCK1A


Routine Checksum:

Routine Name:
  - HLTPCK2A


Routine Checksum:

Routine Name:
  - HLUTIL2


Routine Checksum:

Routine Name:
  - HLTPCK1


Routine Checksum:

Routine Name:
  - HLTPCK2


Routine Checksum:

Routine Name:
  - HLTP3


Routine Checksum:

Routine Name:
  - HLSUB


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : HSU,RAYMOND JL                Date Entered : JAN 19, 2000
Completed By: DIMICELI,RON                  Date Completed: MAY 25, 2000
Released By : SINGH,GURBIR                  Date Released : MAY 31, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
