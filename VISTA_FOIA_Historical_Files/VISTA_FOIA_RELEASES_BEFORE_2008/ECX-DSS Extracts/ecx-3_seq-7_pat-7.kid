Released ECX*3*7 SEQ #7
Extracted from mail message
**KIDS**:ECX*3.0*7^

**INSTALL NAME**
ECX*3.0*7
"BLD",1237,0)
ECX*3.0*7^DSS EXTRACTS^0^2980506^y
"BLD",1237,1,0)
^^1^1^2980506^
"BLD",1237,1,1,0)
Update File #728.441 per DSS Program Office.
"BLD",1237,4,0)
^9.64PA^^
"BLD",1237,"INIT")
ECX3P7PT
"BLD",1237,"KRN",0)
^9.67PA^19^18
"BLD",1237,"KRN",.4,0)
.4
"BLD",1237,"KRN",.401,0)
.401
"BLD",1237,"KRN",.402,0)
.402
"BLD",1237,"KRN",.403,0)
.403
"BLD",1237,"KRN",.5,0)
.5
"BLD",1237,"KRN",.84,0)
.84
"BLD",1237,"KRN",3.6,0)
3.6
"BLD",1237,"KRN",3.8,0)
3.8
"BLD",1237,"KRN",9.2,0)
9.2
"BLD",1237,"KRN",9.8,0)
9.8
"BLD",1237,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",1237,"KRN",9.8,"NM",1,0)
ECX3P7P1^^0^B46586900
"BLD",1237,"KRN",9.8,"NM",2,0)
ECX3P7PT^^0^B4962952
"BLD",1237,"KRN",9.8,"NM","B","ECX3P7P1",1)

"BLD",1237,"KRN",9.8,"NM","B","ECX3P7PT",2)

"BLD",1237,"KRN",19,0)
19
"BLD",1237,"KRN",19.1,0)
19.1
"BLD",1237,"KRN",101,0)
101
"BLD",1237,"KRN",409.61,0)
409.61
"BLD",1237,"KRN",771,0)
771
"BLD",1237,"KRN",869.2,0)
869.2
"BLD",1237,"KRN",870,0)
870
"BLD",1237,"KRN",8994,0)
8994
"BLD",1237,"KRN","B",.4,.4)

"BLD",1237,"KRN","B",.401,.401)

"BLD",1237,"KRN","B",.402,.402)

"BLD",1237,"KRN","B",.403,.403)

"BLD",1237,"KRN","B",.5,.5)

"BLD",1237,"KRN","B",.84,.84)

"BLD",1237,"KRN","B",3.6,3.6)

"BLD",1237,"KRN","B",3.8,3.8)

"BLD",1237,"KRN","B",9.2,9.2)

"BLD",1237,"KRN","B",9.8,9.8)

"BLD",1237,"KRN","B",19,19)

"BLD",1237,"KRN","B",19.1,19.1)

"BLD",1237,"KRN","B",101,101)

"BLD",1237,"KRN","B",409.61,409.61)

"BLD",1237,"KRN","B",771,771)

"BLD",1237,"KRN","B",869.2,869.2)

"BLD",1237,"KRN","B",870,870)

"BLD",1237,"KRN","B",8994,8994)

"BLD",1237,"QUES",0)
^9.62^^
"BLD",1237,"REQB",0)
^9.611^1^1
"BLD",1237,"REQB",1,0)
ECX*3.0*1^2
"BLD",1237,"REQB","B","ECX*3.0*1",1)

"INIT")
ECX3P7PT
"PKG",513,-1)
1^1
"PKG",513,0)
DSS EXTRACTS^ECX^Decision Support System. (DSS)
"PKG",513,20,0)
^9.402P^^
"PKG",513,22,0)
^9.49I^1^1
"PKG",513,22,1,0)
3.0^2971222^2980112^11714
"PKG",513,22,1,"PAH",1,0)
7^2980506^11713
"PKG",513,22,1,"PAH",1,1,0)
^^1^1^2980612
"PKG",513,22,1,"PAH",1,1,1,0)
Update File #728.441 per DSS Program Office.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ECX3P7P1")
0^1^B46586900
"RTN","ECX3P7P1",1,0)
ECX3P7P1 ;ALB/JAP - National Clinic Update ;May 6, 1998
"RTN","ECX3P7P1",2,0)
 ;;3.0;DSS EXTRACTS;**7**;Dec 22, 1997
"RTN","ECX3P7P1",3,0)
 ;
"RTN","ECX3P7P1",4,0)
ADD ;** Add National Clinic codes
"RTN","ECX3P7P1",5,0)
 ;ECXX is in format: CODE^SHORT DESCRIPTION
"RTN","ECX3P7P1",6,0)
 N ECX,ECXX,COUNT,DIC,DA,DIK,X,Y,DIR,DIRUT,JJ,SS,DUOUT
"RTN","ECX3P7P1",7,0)
 S COUNT=0
"RTN","ECX3P7P1",8,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",9,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",10,0)
 D MES^XPDUTL(" Adding new National Clinic codes to NATIONAL CLINIC File (#728.441)...")
"RTN","ECX3P7P1",11,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",12,0)
 F ECX=1:1 S ECXX=$P($T(NEW+ECX),";;",2) Q:ECXX="QUIT"  D
"RTN","ECX3P7P1",13,0)
 .S ECXDA=ECXDA+1
"RTN","ECX3P7P1",14,0)
 .S ^ECX(728.441,ECXDA,0)=ECXX
"RTN","ECX3P7P1",15,0)
 .S DA=ECXDA,DIK(1)=".01",DIK="^ECX(728.441,"
"RTN","ECX3P7P1",16,0)
 .D EN^DIK,MESS
"RTN","ECX3P7P1",17,0)
 .S $P(^ECX(728.441,0),"^",4)=$P(^ECX(728.441,0),"^",4)+1
"RTN","ECX3P7P1",18,0)
 .S COUNT=COUNT+1
"RTN","ECX3P7P1",19,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",20,0)
 D MES^XPDUTL(" Done... "_COUNT_" new entries added to NATIONAL CLINIC File (#728.441).")
"RTN","ECX3P7P1",21,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",22,0)
 S $P(^ECX(728.441,0),U,3)=ECXDA
"RTN","ECX3P7P1",23,0)
 Q
"RTN","ECX3P7P1",24,0)
 ;
"RTN","ECX3P7P1",25,0)
MESS ;** Add message
"RTN","ECX3P7P1",26,0)
 N ECXADMSG
"RTN","ECX3P7P1",27,0)
 S ECXADMSG=" "_$P(ECXX,"^",1)_" - "_$P(ECXX,"^",2)
"RTN","ECX3P7P1",28,0)
 D MES^XPDUTL(ECXADMSG)
"RTN","ECX3P7P1",29,0)
 S ECXADMSG="     added as record #"_ECXDA_"."
"RTN","ECX3P7P1",30,0)
 D MES^XPDUTL(ECXADMSG)
"RTN","ECX3P7P1",31,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",32,0)
 Q
"RTN","ECX3P7P1",33,0)
 ;
"RTN","ECX3P7P1",34,0)
CLEAN ;** Delete any new entries added -- backout patch ECX*3.0*7
"RTN","ECX3P7P1",35,0)
 ;
"RTN","ECX3P7P1",36,0)
 N ECX,ECXX,ECXDA,COUNT,DIC,DA,DIK,X,Y,DIR,JJ,SS,DIRUT,DUOUT
"RTN","ECX3P7P1",37,0)
 S COUNT=0
"RTN","ECX3P7P1",38,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",39,0)
 D MES^XPDUTL(" This subroutine will delete only those entries in file #728.441,")
"RTN","ECX3P7P1",40,0)
 D MES^XPDUTL(" NATIONAL CLINIC File, which were added by patch ECX*3.0*7.")
"RTN","ECX3P7P1",41,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",42,0)
 I $E(IOST)="C" D  Q:'Y
"RTN","ECX3P7P1",43,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECX3P7P1",44,0)
 .K X,Y
"RTN","ECX3P7P1",45,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECX3P7P1",46,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",47,0)
 D MES^XPDUTL(" Deleting...")
"RTN","ECX3P7P1",48,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",49,0)
 ;
"RTN","ECX3P7P1",50,0)
 F ECX=1:1 S ECXX=$P($T(NEW+ECX),";;",2) Q:ECXX="QUIT"  D
"RTN","ECX3P7P1",51,0)
 .S DIC="^ECX(728.441,",DIC(0)="X",X=$P(ECXX,"^",1) D ^DIC
"RTN","ECX3P7P1",52,0)
 .I +Y>112 D
"RTN","ECX3P7P1",53,0)
 ..S DIK=DIC,DA=+Y D ^DIK S COUNT=COUNT+1
"RTN","ECX3P7P1",54,0)
 ..D MES^XPDUTL(" Entry #"_DA_" deleted...") K Y
"RTN","ECX3P7P1",55,0)
 S JJ=$O(^ECX(728.441,999),-1),$P(^ECX(728.441,0),U,3)=JJ
"RTN","ECX3P7P1",56,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",57,0)
 D MES^XPDUTL(" Done... "_COUNT_" entries deleted from NATIONAL CLINIC File (#728.441).")
"RTN","ECX3P7P1",58,0)
 D MES^XPDUTL(" ")
"RTN","ECX3P7P1",59,0)
 Q
"RTN","ECX3P7P1",60,0)
 ;
"RTN","ECX3P7P1",61,0)
NEW ;National Clinic codes to add;;CODE^SHORT DESCRIPTION
"RTN","ECX3P7P1",62,0)
 ;;AAAA^General Purpose 1 - assign own use
"RTN","ECX3P7P1",63,0)
 ;;BBBB^General Purpose 2 - assign own use
"RTN","ECX3P7P1",64,0)
 ;;XXXX^General Purpose 3 - assign own use
"RTN","ECX3P7P1",65,0)
 ;;YYYY^General Purpose 4 - assign own use
"RTN","ECX3P7P1",66,0)
 ;;IACT^Feeder key inactive before start of current year
"RTN","ECX3P7P1",67,0)
 ;;MDPA^Physician Assistant
"RTN","ECX3P7P1",68,0)
 ;;NONC^Noncount for DSS (usually point to Stats;AC6)
"RTN","ECX3P7P1",69,0)
 ;;OPTC^Ophthalmology Technician
"RTN","ECX3P7P1",70,0)
 ;;PHRM^Clinical Pharmacy
"RTN","ECX3P7P1",71,0)
 ;;RECR^Recreation Therapy
"RTN","ECX3P7P1",72,0)
 ;;KTIN^KT Individual
"RTN","ECX3P7P1",73,0)
 ;;KTGR^KT Group
"RTN","ECX3P7P1",74,0)
 ;;MATI^MAT Individual
"RTN","ECX3P7P1",75,0)
 ;;MATG^MAT Group
"RTN","ECX3P7P1",76,0)
 ;;OTIN^OT Individual
"RTN","ECX3P7P1",77,0)
 ;;OTGR^OT Group
"RTN","ECX3P7P1",78,0)
 ;;PTIN^PT Individual
"RTN","ECX3P7P1",79,0)
 ;;PTGR^PT Group
"RTN","ECX3P7P1",80,0)
 ;;SATP^Substance Abuse Treatment Program
"RTN","ECX3P7P1",81,0)
 ;;STAT^Point to Statistics in DSS
"RTN","ECX3P7P1",82,0)
 ;;XREC^Feeder key to create more complete encounter
"RTN","ECX3P7P1",83,0)
 ;;ZZZZ^No Longer Active
"RTN","ECX3P7P1",84,0)
 ;;IOTH^I Other
"RTN","ECX3P7P1",85,0)
 ;;JOTH^J Other
"RTN","ECX3P7P1",86,0)
 ;;KOTH^K Other
"RTN","ECX3P7P1",87,0)
 ;;LOTH^L Other
"RTN","ECX3P7P1",88,0)
 ;;MOTH^M Other
"RTN","ECX3P7P1",89,0)
 ;;NOTH^N Other
"RTN","ECX3P7P1",90,0)
 ;;OOTH^O Other
"RTN","ECX3P7P1",91,0)
 ;;POTH^P Other
"RTN","ECX3P7P1",92,0)
 ;;QOTH^Q Other
"RTN","ECX3P7P1",93,0)
 ;;ROTH^R Other
"RTN","ECX3P7P1",94,0)
 ;;SOTH^S Other
"RTN","ECX3P7P1",95,0)
 ;;TOTH^T Other
"RTN","ECX3P7P1",96,0)
 ;;UOTH^U Other
"RTN","ECX3P7P1",97,0)
 ;;VOTH^V Other
"RTN","ECX3P7P1",98,0)
 ;;WOTH^W Other
"RTN","ECX3P7P1",99,0)
 ;;XOTH^X Other
"RTN","ECX3P7P1",100,0)
 ;;YOTH^Y Other
"RTN","ECX3P7P1",101,0)
 ;;ZOTH^Z Other
"RTN","ECX3P7P1",102,0)
 ;;ITEM^I Team
"RTN","ECX3P7P1",103,0)
 ;;JTEM^J Team
"RTN","ECX3P7P1",104,0)
 ;;KTEM^K Team
"RTN","ECX3P7P1",105,0)
 ;;LTEM^L Team
"RTN","ECX3P7P1",106,0)
 ;;MTEM^M Team
"RTN","ECX3P7P1",107,0)
 ;;NTEM^N Team
"RTN","ECX3P7P1",108,0)
 ;;OTEM^O Team
"RTN","ECX3P7P1",109,0)
 ;;PTEM^P Team
"RTN","ECX3P7P1",110,0)
 ;;QTEM^Q Team
"RTN","ECX3P7P1",111,0)
 ;;RTEM^R Team
"RTN","ECX3P7P1",112,0)
 ;;STEM^S Team
"RTN","ECX3P7P1",113,0)
 ;;TTEM^T Team
"RTN","ECX3P7P1",114,0)
 ;;UTEM^U Team
"RTN","ECX3P7P1",115,0)
 ;;VTEM^V Team
"RTN","ECX3P7P1",116,0)
 ;;WTEM^W Team
"RTN","ECX3P7P1",117,0)
 ;;XTEM^X Team
"RTN","ECX3P7P1",118,0)
 ;;YTEM^Y Team
"RTN","ECX3P7P1",119,0)
 ;;ZTEM^Z Team
"RTN","ECX3P7P1",120,0)
 ;;APRI^A Primary Care
"RTN","ECX3P7P1",121,0)
 ;;BPRI^B Primary Care
"RTN","ECX3P7P1",122,0)
 ;;CPRI^C Primary Care
"RTN","ECX3P7P1",123,0)
 ;;DPRI^D Primary Care
"RTN","ECX3P7P1",124,0)
 ;;EPRI^E Primary Care
"RTN","ECX3P7P1",125,0)
 ;;FPRI^F Primary Care
"RTN","ECX3P7P1",126,0)
 ;;GPRI^G Primary Care
"RTN","ECX3P7P1",127,0)
 ;;HPRI^H Primary Care
"RTN","ECX3P7P1",128,0)
 ;;IPRI^I Primary Care
"RTN","ECX3P7P1",129,0)
 ;;JPRI^J Primary Care
"RTN","ECX3P7P1",130,0)
 ;;KPRI^K Primary Care
"RTN","ECX3P7P1",131,0)
 ;;LPRI^L Primary Care
"RTN","ECX3P7P1",132,0)
 ;;MPRI^M Primary Care
"RTN","ECX3P7P1",133,0)
 ;;NPRI^N Primary Care
"RTN","ECX3P7P1",134,0)
 ;;OPRI^O Primary Care
"RTN","ECX3P7P1",135,0)
 ;;PPRI^P Primary Care
"RTN","ECX3P7P1",136,0)
 ;;QPRI^Q Primary Care
"RTN","ECX3P7P1",137,0)
 ;;RPRI^R Primary Care
"RTN","ECX3P7P1",138,0)
 ;;SPRI^S Primary Care
"RTN","ECX3P7P1",139,0)
 ;;TPRI^T Primary Care
"RTN","ECX3P7P1",140,0)
 ;;UPRI^U Primary Care
"RTN","ECX3P7P1",141,0)
 ;;VPRI^V Primary Care
"RTN","ECX3P7P1",142,0)
 ;;WPRI^W Primary Care
"RTN","ECX3P7P1",143,0)
 ;;XPRI^X Primary Care
"RTN","ECX3P7P1",144,0)
 ;;YPRI^Y Primary Care
"RTN","ECX3P7P1",145,0)
 ;;ZPRI^Z Primary Care
"RTN","ECX3P7P1",146,0)
 ;;ASAT^Satellite A
"RTN","ECX3P7P1",147,0)
 ;;BSAT^Satellite B
"RTN","ECX3P7P1",148,0)
 ;;CSAT^Satellite C
"RTN","ECX3P7P1",149,0)
 ;;DSAT^Satellite D
"RTN","ECX3P7P1",150,0)
 ;;ESAT^Satellite E
"RTN","ECX3P7P1",151,0)
 ;;FSAT^Satellite F
"RTN","ECX3P7P1",152,0)
 ;;GSAT^Satellite G
"RTN","ECX3P7P1",153,0)
 ;;HSAT^Satellite H
"RTN","ECX3P7P1",154,0)
 ;;ISAT^Satellite I
"RTN","ECX3P7P1",155,0)
 ;;JSAT^Satellite J
"RTN","ECX3P7P1",156,0)
 ;;KSAT^Satellite K
"RTN","ECX3P7P1",157,0)
 ;;LSAT^Satellite L
"RTN","ECX3P7P1",158,0)
 ;;MSAT^Satellite M
"RTN","ECX3P7P1",159,0)
 ;;NSAT^Satellite N
"RTN","ECX3P7P1",160,0)
 ;;OSAT^Satellite O
"RTN","ECX3P7P1",161,0)
 ;;PSAT^Satellite P
"RTN","ECX3P7P1",162,0)
 ;;QSAT^Satellite Q
"RTN","ECX3P7P1",163,0)
 ;;RSAT^Satellite R
"RTN","ECX3P7P1",164,0)
 ;;SSAT^Satellite S
"RTN","ECX3P7P1",165,0)
 ;;TSAT^Satellite T
"RTN","ECX3P7P1",166,0)
 ;;USAT^Satellite U
"RTN","ECX3P7P1",167,0)
 ;;VSAT^Satellite V
"RTN","ECX3P7P1",168,0)
 ;;WSAT^Satellite W
"RTN","ECX3P7P1",169,0)
 ;;XSAT^Satellite X
"RTN","ECX3P7P1",170,0)
 ;;YSAT^Satellite Y
"RTN","ECX3P7P1",171,0)
 ;;ZSAT^Satellite Z
"RTN","ECX3P7P1",172,0)
 ;;ACBC^CBC A
"RTN","ECX3P7P1",173,0)
 ;;BCBC^CBC B
"RTN","ECX3P7P1",174,0)
 ;;CCBC^CBC C
"RTN","ECX3P7P1",175,0)
 ;;DCBC^CBC D
"RTN","ECX3P7P1",176,0)
 ;;ECBC^CBC E
"RTN","ECX3P7P1",177,0)
 ;;FCBC^CBC F
"RTN","ECX3P7P1",178,0)
 ;;GCBC^CBC G
"RTN","ECX3P7P1",179,0)
 ;;HCBC^CBC H
"RTN","ECX3P7P1",180,0)
 ;;ANUR^RN managed clinic A
"RTN","ECX3P7P1",181,0)
 ;;BNUR^RN managed clinic B
"RTN","ECX3P7P1",182,0)
 ;;CNUR^RN managed clinic C
"RTN","ECX3P7P1",183,0)
 ;;DNUR^RN managed clinic D
"RTN","ECX3P7P1",184,0)
 ;;ENUR^RN managed clinic E
"RTN","ECX3P7P1",185,0)
 ;;FNUR^RN managed clinic F
"RTN","ECX3P7P1",186,0)
 ;;GNUR^RN managed clinic G
"RTN","ECX3P7P1",187,0)
 ;;HNUR^RN managed clinic H
"RTN","ECX3P7P1",188,0)
 ;;ACPX^C & P clinic profile A
"RTN","ECX3P7P1",189,0)
 ;;BCPX^C & P clinic profile B
"RTN","ECX3P7P1",190,0)
 ;;CCPX^C & P clinic profile C
"RTN","ECX3P7P1",191,0)
 ;;DCPX^C & P clinic profile D
"RTN","ECX3P7P1",192,0)
 ;;ECPX^C & P clinic profile E
"RTN","ECX3P7P1",193,0)
 ;;FCPX^C & P clinic profile F
"RTN","ECX3P7P1",194,0)
 ;;GCPX^C & P clinic profile G
"RTN","ECX3P7P1",195,0)
 ;;HCPX^C & P clinic profile H
"RTN","ECX3P7P1",196,0)
 ;;ARED^Red Team A
"RTN","ECX3P7P1",197,0)
 ;;BRED^Red Team B
"RTN","ECX3P7P1",198,0)
 ;;CRED^Red Team C
"RTN","ECX3P7P1",199,0)
 ;;DRED^Red Team D
"RTN","ECX3P7P1",200,0)
 ;;ERED^Red Team E
"RTN","ECX3P7P1",201,0)
 ;;FRED^Red Team F
"RTN","ECX3P7P1",202,0)
 ;;GRED^Red Team G
"RTN","ECX3P7P1",203,0)
 ;;HRED^Red Team H
"RTN","ECX3P7P1",204,0)
 ;;ABLU^Blue Team A
"RTN","ECX3P7P1",205,0)
 ;;BBLU^Blue Team B
"RTN","ECX3P7P1",206,0)
 ;;CBLU^Blue Team C
"RTN","ECX3P7P1",207,0)
 ;;DBLU^Blue Team D
"RTN","ECX3P7P1",208,0)
 ;;EBLU^Blue Team E
"RTN","ECX3P7P1",209,0)
 ;;FBLU^Blue Team F
"RTN","ECX3P7P1",210,0)
 ;;GBLU^Blue Team G
"RTN","ECX3P7P1",211,0)
 ;;HBLU^Blue Team H
"RTN","ECX3P7P1",212,0)
 ;;AYEL^Yellow Team A
"RTN","ECX3P7P1",213,0)
 ;;BYEL^Yellow Team B
"RTN","ECX3P7P1",214,0)
 ;;CYEL^Yellow Team C
"RTN","ECX3P7P1",215,0)
 ;;DYEL^Yellow Team D
"RTN","ECX3P7P1",216,0)
 ;;EYEL^Yellow Team E
"RTN","ECX3P7P1",217,0)
 ;;FYEL^Yellow Team F
"RTN","ECX3P7P1",218,0)
 ;;GYEL^Yellow Team G
"RTN","ECX3P7P1",219,0)
 ;;HYEL^Yellow Team H
"RTN","ECX3P7P1",220,0)
 ;;QUIT
"RTN","ECX3P7PT")
0^2^B4962952
"RTN","ECX3P7PT",1,0)
ECX3P7PT ;ALB/JAP - PATCH ECX*3*7 Post-Init Rtn ; May 6, 1998
"RTN","ECX3P7PT",2,0)
 ;;3.0;DSS EXTRACTS;**7**;Dec 22, 1997
"RTN","ECX3P7PT",3,0)
 ;
"RTN","ECX3P7PT",4,0)
POST ;Entry point
"RTN","ECX3P7PT",5,0)
 N ECXDA
"RTN","ECX3P7PT",6,0)
 D INTRO
"RTN","ECX3P7PT",7,0)
 ;
"RTN","ECX3P7PT",8,0)
 ;if new entries (iens>112) already added, display message and quit
"RTN","ECX3P7PT",9,0)
 S ECXDA=$O(^ECX(728.441,999),-1)
"RTN","ECX3P7PT",10,0)
 I $D(^ECX(728.441,113,0)),$P(^(0),U,1)="AAAA" D  Q
"RTN","ECX3P7PT",11,0)
 .D MES^XPDUTL(" ")
"RTN","ECX3P7PT",12,0)
 .D MES^XPDUTL(" It appears that patch ECX*3*7 was previously installed.")
"RTN","ECX3P7PT",13,0)
 .D MES^XPDUTL(" ")
"RTN","ECX3P7PT",14,0)
 .D MES^XPDUTL(" If you wish to repeat the installation of patch ECX*3*7,")
"RTN","ECX3P7PT",15,0)
 .D MES^XPDUTL(" then run CLEAN^ECX3P7P1 first -- that will delete any")
"RTN","ECX3P7PT",16,0)
 .D MES^XPDUTL(" entries from ECX*3*7 previously added.")
"RTN","ECX3P7PT",17,0)
 .D MES^XPDUTL(" ")
"RTN","ECX3P7PT",18,0)
 ;
"RTN","ECX3P7PT",19,0)
 ;check contents of entry #113
"RTN","ECX3P7PT",20,0)
 I ($D(^ECX(728.441,113,0))&($P($G(^(0)),U,1)'="AAAA"))!(ECXDA'=112) D  Q
"RTN","ECX3P7PT",21,0)
 .D MES^XPDUTL(" ")
"RTN","ECX3P7PT",22,0)
 .D MES^XPDUTL(" It appears that you may have a problem with File #728.441.")
"RTN","ECX3P7PT",23,0)
 .D MES^XPDUTL(" ")
"RTN","ECX3P7PT",24,0)
 .D MES^XPDUTL(" Perform a FileMan print of the entire file which shows")
"RTN","ECX3P7PT",25,0)
 .D MES^XPDUTL(" the internal entry number and #.01 field of each record.")
"RTN","ECX3P7PT",26,0)
 .D MES^XPDUTL(" ")
"RTN","ECX3P7PT",27,0)
 .D MES^XPDUTL(" Call Customer Support for further assistance.")
"RTN","ECX3P7PT",28,0)
 .D MES^XPDUTL(" Have the FileMan printout at hand when you call.")
"RTN","ECX3P7PT",29,0)
 .D MES^XPDUTL(" ")
"RTN","ECX3P7PT",30,0)
 ;
"RTN","ECX3P7PT",31,0)
 ;add new entries
"RTN","ECX3P7PT",32,0)
 I '$D(^EC(728.441,113)),ECXDA=112 D ADD^ECX3P7P1
"RTN","ECX3P7PT",33,0)
 Q
"RTN","ECX3P7PT",34,0)
 ;
"RTN","ECX3P7PT",35,0)
INTRO ; Message intro
"RTN","ECX3P7PT",36,0)
 ;;   
"RTN","ECX3P7PT",37,0)
 ;; The purpose of Patch ECX*3*7 is to add new entries to the
"RTN","ECX3P7PT",38,0)
 ;; NATIONAL CLINIC File (#728.441).  A total of 158 new
"RTN","ECX3P7PT",39,0)
 ;; entries will be made.
"RTN","ECX3P7PT",40,0)
 ;;   
"RTN","ECX3P7PT",41,0)
 ;;    
"RTN","ECX3P7PT",42,0)
 ;;QUIT
"RTN","ECX3P7PT",43,0)
 ;
"RTN","ECX3P7PT",44,0)
 N TXTVAR
"RTN","ECX3P7PT",45,0)
 F I=1:1 S TXTVAR=$P($T(INTRO+I),";;",2) Q:TXTVAR="QUIT"  DO
"RTN","ECX3P7PT",46,0)
 .D MES^XPDUTL(TXTVAR)
"RTN","ECX3P7PT",47,0)
 Q
"VER")
8.0^21.0
**END**
**END**
