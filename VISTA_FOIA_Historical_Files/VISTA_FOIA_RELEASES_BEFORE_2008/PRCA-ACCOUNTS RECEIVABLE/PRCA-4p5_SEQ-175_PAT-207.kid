EMERGENCY Released PRCA*4.5*207 SEQ #175
Extracted from mail message
**KIDS**:PRCA*4.5*207^

**INSTALL NAME**
PRCA*4.5*207
"BLD",3574,0)
PRCA*4.5*207^ACCOUNTS RECEIVABLE^0^3030922^y
"BLD",3574,1,0)
^^5^5^3030922^
"BLD",3574,1,1,0)
Sets effective date of the Point Accounts changes to 9/26/03 (except the
"BLD",3574,1,2,0)
effective date for the ARDC  functionality which remains 10/1/03).
"BLD",3574,1,3,0)
 
"BLD",3574,1,4,0)
FMS Documents, resubmitted before 10/1/03 will also not contain Point 
"BLD",3574,1,5,0)
Accounts funds.
"BLD",3574,4,0)
^9.64PA^^
"BLD",3574,"KRN",0)
^9.67PA^8989.52^19
"BLD",3574,"KRN",.4,0)
.4
"BLD",3574,"KRN",.401,0)
.401
"BLD",3574,"KRN",.402,0)
.402
"BLD",3574,"KRN",.403,0)
.403
"BLD",3574,"KRN",.5,0)
.5
"BLD",3574,"KRN",.84,0)
.84
"BLD",3574,"KRN",3.6,0)
3.6
"BLD",3574,"KRN",3.8,0)
3.8
"BLD",3574,"KRN",9.2,0)
9.2
"BLD",3574,"KRN",9.8,0)
9.8
"BLD",3574,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",3574,"KRN",9.8,"NM",1,0)
PRCARFD1^^0^B29289329
"BLD",3574,"KRN",9.8,"NM",2,0)
RCXFMSUF^^0^B16152526
"BLD",3574,"KRN",9.8,"NM","B","PRCARFD1",1)

"BLD",3574,"KRN",9.8,"NM","B","RCXFMSUF",2)

"BLD",3574,"KRN",19,0)
19
"BLD",3574,"KRN",19.1,0)
19.1
"BLD",3574,"KRN",101,0)
101
"BLD",3574,"KRN",409.61,0)
409.61
"BLD",3574,"KRN",771,0)
771
"BLD",3574,"KRN",870,0)
870
"BLD",3574,"KRN",8989.51,0)
8989.51
"BLD",3574,"KRN",8989.52,0)
8989.52
"BLD",3574,"KRN",8994,0)
8994
"BLD",3574,"KRN","B",.4,.4)

"BLD",3574,"KRN","B",.401,.401)

"BLD",3574,"KRN","B",.402,.402)

"BLD",3574,"KRN","B",.403,.403)

"BLD",3574,"KRN","B",.5,.5)

"BLD",3574,"KRN","B",.84,.84)

"BLD",3574,"KRN","B",3.6,3.6)

"BLD",3574,"KRN","B",3.8,3.8)

"BLD",3574,"KRN","B",9.2,9.2)

"BLD",3574,"KRN","B",9.8,9.8)

"BLD",3574,"KRN","B",19,19)

"BLD",3574,"KRN","B",19.1,19.1)

"BLD",3574,"KRN","B",101,101)

"BLD",3574,"KRN","B",409.61,409.61)

"BLD",3574,"KRN","B",771,771)

"BLD",3574,"KRN","B",870,870)

"BLD",3574,"KRN","B",8989.51,8989.51)

"BLD",3574,"KRN","B",8989.52,8989.52)

"BLD",3574,"KRN","B",8994,8994)

"BLD",3574,"QUES",0)
^9.62^^
"BLD",3574,"REQB",0)
^9.611^1^1
"BLD",3574,"REQB",1,0)
PRCA*4.5*203^2
"BLD",3574,"REQB","B","PRCA*4.5*203",1)

"MBREQ")
0
"PKG",142,-1)
1^1
"PKG",142,0)
ACCOUNTS RECEIVABLE^PRCA^BILL COLLECTIONS
"PKG",142,20,0)
^9.402P^2^1
"PKG",142,20,2,0)
2^^PRCAMRG
"PKG",142,20,2,1)

"PKG",142,20,"B",2,2)

"PKG",142,22,0)
^9.49I^1^1
"PKG",142,22,1,0)
4.5^^2950320
"PKG",142,22,1,"PAH",1,0)
207^3030922
"PKG",142,22,1,"PAH",1,1,0)
^^5^5^3030922
"PKG",142,22,1,"PAH",1,1,1,0)
Sets effective date of the Point Accounts changes to 9/26/03 (except the
"PKG",142,22,1,"PAH",1,1,2,0)
effective date for the ARDC  functionality which remains 10/1/03).
"PKG",142,22,1,"PAH",1,1,3,0)
 
"PKG",142,22,1,"PAH",1,1,4,0)
FMS Documents, resubmitted before 10/1/03 will also not contain Point 
"PKG",142,22,1,"PAH",1,1,5,0)
Accounts funds.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","PRCARFD1")
0^1^B29289329
"RTN","PRCARFD1",1,0)
PRCARFD1 ;WASH-ISC@ALTOONA,PA/LDB-APPROVE REFUND AND GENERATE FMS DOC ;2/14/96  9:13 AM
"RTN","PRCARFD1",2,0)
 ;;4.5;Accounts Receivable;**21,36,90,104,141,190,204,203,207**;Mar 20, 1995
"RTN","PRCARFD1",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","PRCARFD1",4,0)
 ;
"RTN","PRCARFD1",5,0)
APPRV ;Enter Elec sig for CFO
"RTN","PRCARFD1",6,0)
 N ADD,DA,ENT,ERROR,PRCABN0,PRCANM,RA,TIME,X,Y
"RTN","PRCARFD1",7,0)
 F X=1:1:5 S RA=+$G(RA)+$P($G(^PRCA(430,PRCABN,7)),U,X)
"RTN","PRCARFD1",8,0)
 I +$G(RA)'=$P($G(^PRCA(430,PRCABN,7)),U,18) W !!,"REFUND AMOUNT OUT-OF-BALANCE!" Q
"RTN","PRCARFD1",9,0)
 S DA=+PRCABN D SIG^PRCASIG I $G(PRCANM)']"" W !!,"DID NOT APPROVE REFUND" Q
"RTN","PRCARFD1",10,0)
 L +^PRCA(430,PRCABN):1 Q:'$T  S $P(^PRCA(430,PRCABN,9),U,2)=PRCANM,$P(^(9),U,1)=DUZ,$P(^(9),U,3)=$G(DT) L -^PRCA(430,PRCABN) W !," <APPROVED BY CERTIFYING OFFICER>"
"RTN","PRCARFD1",11,0)
 I $G(^PRCA(430,PRCABN,7))'>0 W !!,*7,"This Accounts Receivable doesn't have an excess payment !" D CANC^PRCARFD(PRCABN) W !!,"Status Changed to 'CANCELLATION'",! Q
"RTN","PRCARFD1",12,0)
 W *7,!!,"No other transactions may be made to the bill now."
"RTN","PRCARFD1",13,0)
 ;
"RTN","PRCARFD1",14,0)
FMSDOC ;Create FMS overcollection payment voucher document
"RTN","PRCARFD1",15,0)
 ;
"RTN","PRCARFD1",16,0)
 N %,ADD,GECSFMS,DATE,DEBT,DY,MO,PRCA,PRCANM,STAT,YR,DOC
"RTN","PRCARFD1",17,0)
 I '$D(^PRCA(430,+$G(PRCABN),0)) W !,"THIS BILL NUMBER ENTRY IN FILE 430 IS CORRUPTED",!,"NO PROCESSING CAN CONTINUE - SEE IRM" Q
"RTN","PRCARFD1",18,0)
 S PRCABN0=$G(^PRCA(430,+PRCABN,0)),PRCANM=$P(PRCABN0,"^")
"RTN","PRCARFD1",19,0)
 S STAT=$$GSTAT^RCFMFN02(PRCANM)
"RTN","PRCARFD1",20,0)
 I STAT>0&(STAT<3) W !!,*7,"THIS DOCUMENT SEEMS TO HAVE ALREADY BEEN SENT TO FMS-",!,"IT CANNOT BE RESENT UNLESS FMS REJECTS IT." Q
"RTN","PRCARFD1",21,0)
FMS W !!,"Creating an FMS Overcollection Payment Voucher . . .",!
"RTN","PRCARFD1",22,0)
 S PRCA("STN")=$P($P(PRCABN0,U),"-")
"RTN","PRCARFD1",23,0)
 S DEBT=+$P(PRCABN0,U,9),DEBT=$P($G(^RCD(340,DEBT,0)),U)
"RTN","PRCARFD1",24,0)
 S PRCA("VNAME")=$$NAM^RCFN01(DEBT) I PRCA("VNAME")="" S ADD=0
"RTN","PRCARFD1",25,0)
 S PRCA("VNAME")=$P(PRCA("VNAME"),",",2)_" "_$P(PRCA("VNAME"),",")
"RTN","PRCARFD1",26,0)
 S PRCA("VCODE")=$$SSN^RCFN01(DEBT)
"RTN","PRCARFD1",27,0)
 S ADD=1
"RTN","PRCARFD1",28,0)
 S PRCA("ADD")=$$DADD^RCAMADD(DEBT,1)
"RTN","PRCARFD1",29,0)
 S PRCA("VADD1")=$P(PRCA("ADD"),U) I PRCA("VADD1")="" S ADD=0
"RTN","PRCARFD1",30,0)
 S PRCA("VADD2")=$P(PRCA("ADD"),U,2)
"RTN","PRCARFD1",31,0)
 S PRCA("VCITY")=$P(PRCA("ADD"),U,4) I PRCA("VCITY")="" S ADD=0
"RTN","PRCARFD1",32,0)
 S PRCA("VSTATE")=$P(PRCA("ADD"),U,5) I PRCA("VSTATE")="" S ADD=0
"RTN","PRCARFD1",33,0)
 S PRCA("VZIP")=$P(PRCA("ADD"),U,6) I PRCA("VZIP")="" S ADD=0
"RTN","PRCARFD1",34,0)
 S PRCA("LAMT")=$P($G(^PRCA(430,+PRCABN,7)),U,18)
"RTN","PRCARFD1",35,0)
 S PRCANM=$P($G(^PRCA(430,+PRCABN,0)),U)
"RTN","PRCARFD1",36,0)
 I 'ADD D  Q
"RTN","PRCARFD1",37,0)
 .W *7,!,"THIS PATIENT DOES NOT HAVE A VALID ADDRESS."
"RTN","PRCARFD1",38,0)
 .W !,"AN FMS DOCUMENT CANNOT BE CREATED WITHOUT A VALID ADDRESS."
"RTN","PRCARFD1",39,0)
 .Q
"RTN","PRCARFD1",40,0)
 I '$G(REFMS)&(DT>$$LDATE^RCRJR(DT)) S Y=$E($$FPS^RCAMFN01(DT,1),1,5)_"01" D DD^%DT W !!,"   * * * * Transmission will be held until "_Y_" * * * *",!
"RTN","PRCARFD1",41,0)
 D NOW^%DTC S YR=$E(%,2,3),MO=$E(%,4,5),DY=$E(%,6,7)
"RTN","PRCARFD1",42,0)
 S Y=$P(%,".") X ^DD("DD") S DATE=$P(Y,",",2)_MO_DY
"RTN","PRCARFD1",43,0)
 S TIME=$P(%,".",2)
"RTN","PRCARFD1",44,0)
 S PRCA("FY")=$$FY^RCFN01($P(%,"."))
"RTN","PRCARFD1",45,0)
 S PRCA("LAMT")=$J(PRCA("LAMT"),0,2)
"RTN","PRCARFD1",46,0)
 D CONTROL^GECSUFMS("A",PRCA("STN"),PRCANM,"OP",10,0,"","")
"RTN","PRCARFD1",47,0)
 ;S FMSTRING("CTL")="CTL^FMS^"_PRCA("STN")^DOC^OP^10^^"_PRCA("STN")_PRCA("FY")_SEQ_U_YYYYMMDD_U_TIME_U_SEQ_U_PRCANM_"^ARS"_PRCA("STN")_U_VER
"RTN","PRCARFD1",48,0)
 I '$D(GECSFMS("DA")) W !,"AN ENTRY WAS NOT MADE IN THE STACKER FILE.",!,"PLEASE RE-SELECT THE BILL IN THE APPROVE OPTION." Q
"RTN","PRCARFD1",49,0)
 S DOC=$S($G(GECSFMS("DOC"))]"":$P(GECSFMS("DOC"),"^",3)_"-"_$P(GECSFMS("DOC"),"^",4),1:PRCANM)
"RTN","PRCARFD1",50,0)
 D OPEN^RCFMDRV1(DOC,5,"B"_PRCABN,.ENT,.ERROR,PRCABN)
"RTN","PRCARFD1",51,0)
 I ERROR]"" W !!,*7,"AN AR DOC REF CANNOT BE CREATED BECAUSE THE FOLLOWING ERROR HAS OCCURRED -",!?10,ERROR,!
"RTN","PRCARFD1",52,0)
 N FMSDT S FMSDT=$$FMSDATE^RCBEUTRA(DT)
"RTN","PRCARFD1",53,0)
 S ^TMP($J,"PRCA",1)="PV2^"_$E(FMSDT,4,5)_U_$E(FMSDT,6,7)_U_$E(FMSDT,2,3)_"^^^^^E^01^^^^^^^^^^MISCVET^^"_PRCA("LAMT")_"^"
"RTN","PRCARFD1",54,0)
 S ^TMP($J,"PRCA",2)=PRCA("VNAME")_U_$E(PRCA("VADD1"),1,30)_U_$E(PRCA("VADD2"),1,30)_U_PRCA("VCITY")_U_PRCA("VSTATE")_U_PRCA("VZIP")_"^~"
"RTN","PRCARFD1",55,0)
 S ^TMP($J,"PRCA",3)="LIN^~PVA^001^^^^^^^^^^^"_PRCA("FY")_"^^"_$S(DT<3030926:5287,$G(REFMS)&(DT<3031001):5287,1:5287.3)_"^"_PRCA("STN")_"^^^^^^^^^^^"_$$CALCRSC^RCXFMSUR(+PRCABN)_"^^^^^^"_PRCA("LAMT")_"^I^~"
"RTN","PRCARFD1",56,0)
 S DA=0 F  S DA=$O(^TMP($J,"PRCA",DA)) Q:'DA  D
"RTN","PRCARFD1",57,0)
 .D SETCS^GECSSTAA(GECSFMS("DA"),^TMP($J,"PRCA",DA))
"RTN","PRCARFD1",58,0)
 D SETCODE^GECSSDCT(GECSFMS("DA"),"D RETN^RCFMFN02")
"RTN","PRCARFD1",59,0)
 D SETSTAT^GECSSTAA(GECSFMS("DA"),"Q")
"RTN","PRCARFD1",60,0)
 D SSTAT^RCFMFN02("B"_+$G(PRCABN),1)
"RTN","PRCARFD1",61,0)
 Q:$P($G(^PRCA(430,+$G(PRCABN),0)),U,8)=$O(^PRCA(430.3,"AC",41,0))
"RTN","PRCARFD1",62,0)
 K ^TMP($J)
"RTN","PRCARFD1",63,0)
 ;Pass to FMS
"RTN","PRCARFD1",64,0)
 ;Call generic interface to setup document if completed flag proceed
"RTN","PRCARFD1",65,0)
 ;change date if resent to FMS
"RTN","PRCARFD1",66,0)
 ;
"RTN","PRCARFD1",67,0)
TREF ;Create REFUNDED transaction and set to REFUNDED status
"RTN","PRCARFD1",68,0)
 N DIE,DR,DA,PRCASVC,PRCAA2,PRCAEN,PRCAMT,X,Y,DIR,DEBTOR,CLYRRF
"RTN","PRCARFD1",69,0)
 S U="^"
"RTN","PRCARFD1",70,0)
 I $P($G(^PRCA(430,+PRCABN,0)),U,8)=$O(^PRCA(430.3,"AC",120,0)) Q
"RTN","PRCARFD1",71,0)
 D SETTR^PRCAUTL I '$G(PRCAEN) W !!,"COULD NOT SET UP A REFUND TRANSACTION!" Q
"RTN","PRCARFD1",72,0)
 W !!,"Creating a REFUNDED transaction for bill number: ",$P(^PRCA(430,PRCABN,0),"^")," . . .",!
"RTN","PRCARFD1",73,0)
 D PATTR^PRCAUTL S PRCA("ADJ")=$O(^PRCA(430.3,"AC",120,0)),PRCASV("BDT")=$G(DT),PRCASV("APR")=DUZ,PRCASV("FY")="^"_+$P($G(^PRCA(430,PRCABN,7)),U,18)
"RTN","PRCARFD1",74,0)
 S DIE="^PRCA(433,",DR="[PRCA FY ADJ2 BATCH]",DA=PRCAEN D ^DIE
"RTN","PRCARFD1",75,0)
 S PRCAMT=-$G(PRCAMT),PRCAA2=$P(^PRCA(433,PRCAEN,4,0),U,3)
"RTN","PRCARFD1",76,0)
 D UPFY^PRCADJ,TRANUP^PRCAUTL
"RTN","PRCARFD1",77,0)
 S $P(^PRCA(430,PRCABN,7),U,1)=$G(^PRCA(430,PRCABN,7))+PRCAMT,PRCA("STATUS")=$O(^PRCA(430.3,"AC",120,0)) D UPSTATS^PRCAUT2
"RTN","PRCARFD1",78,0)
 W !,"Bill is now in REFUNDED status.",!
"RTN","PRCARFD1",79,0)
 ;CHECK TO SEE IF TOP REFUND AND SET UP FIELDS TO SEND WITH NEXT
"RTN","PRCARFD1",80,0)
 ;TOP TRANSMISSION
"RTN","PRCARFD1",81,0)
 S DIR(0)="Y",DIR("B")="NO",DIR("A")="Is this a TOP Refund",DIR("??")="Enter 'YES' only if this is a refund of a payment from TOP"
"RTN","PRCARFD1",82,0)
 D ^DIR Q:'Y
"RTN","PRCARFD1",83,0)
 S DEBTOR=$P(^PRCA(430,PRCABN,0),U,9) Q:'DEBTOR
"RTN","PRCARFD1",84,0)
 S TRACE=$P($G(^RCD(340,DEBTOR,6)),U,7)
"RTN","PRCARFD1",85,0)
 I $L(TRACE)'=10 W !,*7,"There is no valid trace number entered for this debtor",!,"Cannot process as TOP refund." Q
"RTN","PRCARFD1",86,0)
 S CLYRRF=$E(DT,1,3)+1700,DA=PRCABN
"RTN","PRCARFD1",87,0)
 S DIE="^PRCA(430,",DR="144//^S X=CLYRRF;142////1;143///^S X=TRACE"
"RTN","PRCARFD1",88,0)
 S DA=PRCABN,DIE("NO^")=1 D ^DIE
"RTN","PRCARFD1",89,0)
 W !,"TOP REFUND DOCUMENT WILL BE SENT WITH NEXT TOP TRANSMISSION"
"RTN","PRCARFD1",90,0)
 Q
"RTN","PRCARFD1",91,0)
 ;
"RTN","RCXFMSUF")
0^2^B16152526
"RTN","RCXFMSUF",1,0)
RCXFMSUF ;WISC/RFJ-calculate fms fund code for a bill ;1 Oct 97
"RTN","RCXFMSUF",2,0)
 ;;4.5;Accounts Receivable;**90,101,135,157,160,165,170,203,207**;Mar 20, 1995
"RTN","RCXFMSUF",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","RCXFMSUF",4,0)
 Q
"RTN","RCXFMSUF",5,0)
 ;
"RTN","RCXFMSUF",6,0)
 ;
"RTN","RCXFMSUF",7,0)
GETFUNDO(TYPE) ;  return the fund for other type associated collections
"RTN","RCXFMSUF",8,0)
 ;  type can equal:
"RTN","RCXFMSUF",9,0)
 ;  I for interest         A for admin
"RTN","RCXFMSUF",10,0)
 ;  M for marshall fee     C for court cost
"RTN","RCXFMSUF",11,0)
 I TYPE="I" Q "1435"
"RTN","RCXFMSUF",12,0)
 I TYPE="A" Q "3220"
"RTN","RCXFMSUF",13,0)
 I TYPE="M" Q "0869"
"RTN","RCXFMSUF",14,0)
 I TYPE="C" Q "0869"
"RTN","RCXFMSUF",15,0)
 Q ""
"RTN","RCXFMSUF",16,0)
 ;
"RTN","RCXFMSUF",17,0)
 ;
"RTN","RCXFMSUF",18,0)
GETFUNDB(BILLDA,DONTSTOR) ;  return a bills fms fund code
"RTN","RCXFMSUF",19,0)
 ;  pass DONTSTOR equal 1 to prevent storing the fund code
"RTN","RCXFMSUF",20,0)
 ;  cannot rely on data in the fund field since it may reference the
"RTN","RCXFMSUF",21,0)
 ;  old funds S FUND=$P($G(^PRCA(430,BILLDA,11)),"^",17).  since there
"RTN","RCXFMSUF",22,0)
 ;  are reports which use 11;17, set it for a bill once its computed
"RTN","RCXFMSUF",23,0)
 ;  until all references to the fund are eliminated.
"RTN","RCXFMSUF",24,0)
 ;
"RTN","RCXFMSUF",25,0)
 N ACTDATE,CATEGDA,FUND
"RTN","RCXFMSUF",26,0)
 ;
"RTN","RCXFMSUF",27,0)
 ;  calculate a bills fund
"RTN","RCXFMSUF",28,0)
 S CATEGDA=+$P($G(^PRCA(430,BILLDA,0)),"^",2)
"RTN","RCXFMSUF",29,0)
 I CATEGDA>39 Q ""
"RTN","RCXFMSUF",30,0)
 ;
"RTN","RCXFMSUF",31,0)
 ;  piece 5 is new fund, remove spaces
"RTN","RCXFMSUF",32,0)
 S FUND=$P($TR($T(@CATEGDA)," "),";",5)
"RTN","RCXFMSUF",33,0)
 ;
"RTN","RCXFMSUF",34,0)
 ;  if category is vendor(17), ex-employee(15), current employee(16)
"RTN","RCXFMSUF",35,0)
 ;  federal agency refund(13), federal agency reimb(14), military(12)
"RTN","RCXFMSUF",36,0)
 ;  set the fund to what is stored in the file.  This was entered
"RTN","RCXFMSUF",37,0)
 ;  by the user during the audit process.  If fund is in the file
"RTN","RCXFMSUF",38,0)
 ;  already, do not need to store it again.
"RTN","RCXFMSUF",39,0)
 I CATEGDA=17!(CATEGDA=15)!(CATEGDA=16)!(CATEGDA=13)!(CATEGDA=14)!(CATEGDA=12) D
"RTN","RCXFMSUF",40,0)
 .   I $P($G(^PRCA(430,BILLDA,11)),"^",17)'="" S FUND=$P(^(11),"^",17),DONTSTOR=1
"RTN","RCXFMSUF",41,0)
 ;
"RTN","RCXFMSUF",42,0)
 ;  public law states that bills in the category ineligible (1),
"RTN","RCXFMSUF",43,0)
 ;  emerg/human (2), torts (10), or medicare (21) which are older 
"RTN","RCXFMSUF",44,0)
 ;  than oct 1, 1992 should be reported under fund 3220.
"RTN","RCXFMSUF",45,0)
 I CATEGDA=1!(CATEGDA=2)!(CATEGDA=10)!(CATEGDA=21) D
"RTN","RCXFMSUF",46,0)
 .   S ACTDATE=$P($G(^PRCA(430,BILLDA,6)),"^",21)
"RTN","RCXFMSUF",47,0)
 .   I ACTDATE,ACTDATE<2921001 S FUND=3220 Q
"RTN","RCXFMSUF",48,0)
 .   ;
"RTN","RCXFMSUF",49,0)
 .   ;  patch157 changes ineligibles.  an ineligible activated before
"RTN","RCXFMSUF",50,0)
 .   ;  oct 1, 1992 or after sep 30, 2000 will be recorded in fund 0160A1.
"RTN","RCXFMSUF",51,0)
 .   ;  otherwise it will be recorded in fund 5287.3
"RTN","RCXFMSUF",52,0)
 .   I CATEGDA=1,ACTDATE,ACTDATE<3001001 S FUND=5287.3
"RTN","RCXFMSUF",53,0)
 ;
"RTN","RCXFMSUF",54,0)
 ;  set the fund for the bill
"RTN","RCXFMSUF",55,0)
 I $G(DONTSTOR)'=1 D STORE^RCXFMSUR(BILLDA,"",FUND)
"RTN","RCXFMSUF",56,0)
 ;
"RTN","RCXFMSUF",57,0)
 I DT<3030926,$P(FUND,".")=5287 Q 5287 ; Effective date
"RTN","RCXFMSUF",58,0)
 I DT<3031001,$P(FUND,".")=5287,$G(REFMS) Q 5287 ; Resubmitted documents not held
"RTN","RCXFMSUF",59,0)
 ;
"RTN","RCXFMSUF",60,0)
 Q FUND
"RTN","RCXFMSUF",61,0)
 ;
"RTN","RCXFMSUF",62,0)
 ;
"RTN","RCXFMSUF",63,0)
 ;  this is a listing of all categories and associated funds
"RTN","RCXFMSUF",64,0)
 ;  the label is from the internal entry number in the category
"RTN","RCXFMSUF",65,0)
 ;  file 430.2.  piece 3 is a description, piece 4 is the old fund,
"RTN","RCXFMSUF",66,0)
 ;  piece 5 is the new fund
"RTN","RCXFMSUF",67,0)
0 ;;no fund                       ;       ;    
"RTN","RCXFMSUF",68,0)
1 ;;INELIGIBLE HOSP.              ;3220   ;0160A1
"RTN","RCXFMSUF",69,0)
2 ;;EMERGENCY/HUMANITARIAN        ;0160A1 ;5287.3
"RTN","RCXFMSUF",70,0)
3 ;;NURSING HOME CARE(NSC)        ;2431   ;5287.3
"RTN","RCXFMSUF",71,0)
4 ;;OUTPATIENT CARE(NSC)          ;2431   ;5287.3
"RTN","RCXFMSUF",72,0)
5 ;;HOSPITAL CARE (NSC)           ;2431   ;5287.3
"RTN","RCXFMSUF",73,0)
6 ;;WORKMAN'S COMP.               ;5014   ;5287.4
"RTN","RCXFMSUF",74,0)
7 ;;NO-FAULT AUTO ACC.            ;5014   ;5287.4
"RTN","RCXFMSUF",75,0)
8 ;;CRIME OF PER.VIO.             ;5014   ;5287.4
"RTN","RCXFMSUF",76,0)
9 ;;REIMBURS.HEALTH INS.          ;5014   ;5287.4
"RTN","RCXFMSUF",77,0)
10 ;;TORT FEASOR                   ;0160A1 ;5287.4
"RTN","RCXFMSUF",78,0)
11 ;;no entry                      ;       ;
"RTN","RCXFMSUF",79,0)
12 ;;MILITARY                      ;0160A1 ;0160A1
"RTN","RCXFMSUF",80,0)
13 ;;FEDERAL AGENCIES-REFUND       ;0160A1 ;0160A1
"RTN","RCXFMSUF",81,0)
14 ;;FEDERAL AGENCIES-REIMB.       ;0160A1 ;0160A1
"RTN","RCXFMSUF",82,0)
15 ;;EX-EMPLOYEE                   ;0160A1 ;0160A1
"RTN","RCXFMSUF",83,0)
16 ;;CURRENT EMP.                  ;0160A1 ;0160A1
"RTN","RCXFMSUF",84,0)
17 ;;VENDOR                        ;0160A1 ;0160A1
"RTN","RCXFMSUF",85,0)
18 ;;C (MEANS TEST)                ;2431   ;5287.3
"RTN","RCXFMSUF",86,0)
19 ;;SHARING AGREEMENTS            ;0160A1 ;0160A1
"RTN","RCXFMSUF",87,0)
20 ;;INTERAGENCY                   ;0160A1 ;0160A1
"RTN","RCXFMSUF",88,0)
21 ;;MEDICARE                      ;5014   ;5287.4
"RTN","RCXFMSUF",89,0)
22 ;;RX CO-PAYMENT/SC VET          ;5014   ;5287.1
"RTN","RCXFMSUF",90,0)
23 ;;RX CO-PAYMENT/NSC VET         ;5014   ;5287.1
"RTN","RCXFMSUF",91,0)
24 ;;NURSING HOME CARE PER DIEM    ;2431   ;5287.3
"RTN","RCXFMSUF",92,0)
25 ;;HOSPITAL CARE PER DIEM        ;2431   ;5287.3
"RTN","RCXFMSUF",93,0)
26 ;;PREPAYMENT                    ;5014   ;5287.3
"RTN","RCXFMSUF",94,0)
27 ;;CHAMPVA SUBSISTENCE           ;3220   ;3220
"RTN","RCXFMSUF",95,0)
28 ;;CHAMPVA THIRD PARTY           ;3220   ;3220
"RTN","RCXFMSUF",96,0)
29 ;;CHAMPVA                       ;0160A1 ;0160A1
"RTN","RCXFMSUF",97,0)
30 ;;CHAMPUS                       ;0160A1 ;0160A1
"RTN","RCXFMSUF",98,0)
31 ;;CHAMPUS PATIENT               ;0160A1 ;0160A1
"RTN","RCXFMSUF",99,0)
32 ;;CHAMPUS THIRD PARTY           ;0160A1 ;0160A1
"RTN","RCXFMSUF",100,0)
33 ;;ADULT DAY HEALTH CARE         ;       ;4032
"RTN","RCXFMSUF",101,0)
34 ;;DOMICILIARY                   ;       ;4032
"RTN","RCXFMSUF",102,0)
35 ;;RESPITE CARE-INSTITUTIONAL    ;       ;4032
"RTN","RCXFMSUF",103,0)
36 ;;RESPITE CARE-NON-INSTITUTIONAL;       ;4032
"RTN","RCXFMSUF",104,0)
37 ;;GERIATRIC EVAL-INSTITUTIONAL  ;       ;4032
"RTN","RCXFMSUF",105,0)
38 ;;GERIATRIC EVAL-NON-INSTITUTION;       ;4032
"RTN","RCXFMSUF",106,0)
39 ;;NURSING HOME CARE-LTC         ;       ;4032
"VER")
8.0^22.0
**END**
**END**
