Released TIU*1*135 SEQ #144
Extracted from mail message
**KIDS**:TIU*1.0*135^

**INSTALL NAME**
TIU*1.0*135
"BLD",3704,0)
TIU*1.0*135^TEXT INTEGRATION UTILITIES^0^3030424^y
"BLD",3704,1,0)
^^2^2^3021028^^^^
"BLD",3704,1,1,0)
The description of this patch may be found in the National Patch Module 
"BLD",3704,1,2,0)
under TIU*1.0*135.
"BLD",3704,4,0)
^9.64PA^^
"BLD",3704,"INI")

"BLD",3704,"INID")
^^n
"BLD",3704,"INIT")

"BLD",3704,"KRN",0)
^9.67PA^8989.52^19
"BLD",3704,"KRN",.4,0)
.4
"BLD",3704,"KRN",.401,0)
.401
"BLD",3704,"KRN",.402,0)
.402
"BLD",3704,"KRN",.403,0)
.403
"BLD",3704,"KRN",.5,0)
.5
"BLD",3704,"KRN",.84,0)
.84
"BLD",3704,"KRN",3.6,0)
3.6
"BLD",3704,"KRN",3.8,0)
3.8
"BLD",3704,"KRN",9.2,0)
9.2
"BLD",3704,"KRN",9.8,0)
9.8
"BLD",3704,"KRN",9.8,"NM",0)
^9.68A^6^4
"BLD",3704,"KRN",9.8,"NM",1,0)
TIUHSL^^0^B19011866
"BLD",3704,"KRN",9.8,"NM",4,0)
TIUHSV^^0^B21908299
"BLD",3704,"KRN",9.8,"NM",5,0)
TIUHSOBJ^^0^B19734172
"BLD",3704,"KRN",9.8,"NM",6,0)
TIUHSOLM^^0^B22687456
"BLD",3704,"KRN",9.8,"NM","B","TIUHSL",1)

"BLD",3704,"KRN",9.8,"NM","B","TIUHSOBJ",5)

"BLD",3704,"KRN",9.8,"NM","B","TIUHSOLM",6)

"BLD",3704,"KRN",9.8,"NM","B","TIUHSV",4)

"BLD",3704,"KRN",19,0)
19
"BLD",3704,"KRN",19,"NM",0)
^9.68A^7^7
"BLD",3704,"KRN",19,"NM",1,0)
TIUHS LIST MANAGER^^0
"BLD",3704,"KRN",19,"NM",2,0)
TIUHSOBJ MENU^^0
"BLD",3704,"KRN",19,"NM",3,0)
TIUF DOCUMENT DEFINITION MGR^^0
"BLD",3704,"KRN",19,"NM",4,0)
TIUFC CREATE DDEFS MGR^^0
"BLD",3704,"KRN",19,"NM",5,0)
TIUFH EDIT DDEFS MGR^^0
"BLD",3704,"KRN",19,"NM",6,0)
TIUFA SORT DDEFS MGR^^0
"BLD",3704,"KRN",19,"NM",7,0)
TIUFJ CREATE OBJECTS MGR^^0
"BLD",3704,"KRN",19,"NM","B","TIUF DOCUMENT DEFINITION MGR",3)

"BLD",3704,"KRN",19,"NM","B","TIUFA SORT DDEFS MGR",6)

"BLD",3704,"KRN",19,"NM","B","TIUFC CREATE DDEFS MGR",4)

"BLD",3704,"KRN",19,"NM","B","TIUFH EDIT DDEFS MGR",5)

"BLD",3704,"KRN",19,"NM","B","TIUFJ CREATE OBJECTS MGR",7)

"BLD",3704,"KRN",19,"NM","B","TIUHS LIST MANAGER",1)

"BLD",3704,"KRN",19,"NM","B","TIUHSOBJ MENU",2)

"BLD",3704,"KRN",19.1,0)
19.1
"BLD",3704,"KRN",101,0)
101
"BLD",3704,"KRN",101,"NM",0)
^9.68A^19^15
"BLD",3704,"KRN",101,"NM",1,0)
TIUHS CREATE OBJECT^^0
"BLD",3704,"KRN",101,"NM",2,0)
TIUHS CREATE/MODIFY HS TYPE^^0
"BLD",3704,"KRN",101,"NM",3,0)
TIUHS EDIT^^0
"BLD",3704,"KRN",101,"NM",6,0)
TIUHS EDIT OBJECT^^0
"BLD",3704,"KRN",101,"NM",7,0)
TIUHS QUIT^^0
"BLD",3704,"KRN",101,"NM",8,0)
TIUHS VIEW CURRENT HS^^0
"BLD",3704,"KRN",101,"NM",10,0)
TIUHSE MENU^^0
"BLD",3704,"KRN",101,"NM",11,0)
TIUHSFIND^^0
"BLD",3704,"KRN",101,"NM",12,0)
TIUHSLSM MENU^^0
"BLD",3704,"KRN",101,"NM",14,0)
TIU HS OBJECT DISPLAY^^0
"BLD",3704,"KRN",101,"NM",15,0)
TIUHS CHANGE HS TYPE^^0
"BLD",3704,"KRN",101,"NM",16,0)
TIUHS OBJECT MENU^^0
"BLD",3704,"KRN",101,"NM",17,0)
TIUHS OBJ EDIT HS OBJECT^^0
"BLD",3704,"KRN",101,"NM",18,0)
TIUHS OBJ CHANGE HST^^0
"BLD",3704,"KRN",101,"NM",19,0)
TIUHS EDIT HS OBJECT MM^^0
"BLD",3704,"KRN",101,"NM","B","TIU HS OBJECT DISPLAY",14)

"BLD",3704,"KRN",101,"NM","B","TIUHS CHANGE HS TYPE",15)

"BLD",3704,"KRN",101,"NM","B","TIUHS CREATE OBJECT",1)

"BLD",3704,"KRN",101,"NM","B","TIUHS CREATE/MODIFY HS TYPE",2)

"BLD",3704,"KRN",101,"NM","B","TIUHS EDIT",3)

"BLD",3704,"KRN",101,"NM","B","TIUHS EDIT HS OBJECT MM",19)

"BLD",3704,"KRN",101,"NM","B","TIUHS EDIT OBJECT",6)

"BLD",3704,"KRN",101,"NM","B","TIUHS OBJ CHANGE HST",18)

"BLD",3704,"KRN",101,"NM","B","TIUHS OBJ EDIT HS OBJECT",17)

"BLD",3704,"KRN",101,"NM","B","TIUHS OBJECT MENU",16)

"BLD",3704,"KRN",101,"NM","B","TIUHS QUIT",7)

"BLD",3704,"KRN",101,"NM","B","TIUHS VIEW CURRENT HS",8)

"BLD",3704,"KRN",101,"NM","B","TIUHSE MENU",10)

"BLD",3704,"KRN",101,"NM","B","TIUHSFIND",11)

"BLD",3704,"KRN",101,"NM","B","TIUHSLSM MENU",12)

"BLD",3704,"KRN",409.61,0)
409.61
"BLD",3704,"KRN",409.61,"NM",0)
^9.68A^4^3
"BLD",3704,"KRN",409.61,"NM",1,0)
TIUHSLSM^^0
"BLD",3704,"KRN",409.61,"NM",3,0)
TIUHSLSV^^0
"BLD",3704,"KRN",409.61,"NM",4,0)
TIUHS OBJ DISPLAY^^0
"BLD",3704,"KRN",409.61,"NM","B","TIUHS OBJ DISPLAY",4)

"BLD",3704,"KRN",409.61,"NM","B","TIUHSLSM",1)

"BLD",3704,"KRN",409.61,"NM","B","TIUHSLSV",3)

"BLD",3704,"KRN",771,0)
771
"BLD",3704,"KRN",870,0)
870
"BLD",3704,"KRN",8989.51,0)
8989.51
"BLD",3704,"KRN",8989.52,0)
8989.52
"BLD",3704,"KRN",8994,0)
8994
"BLD",3704,"KRN","B",.4,.4)

"BLD",3704,"KRN","B",.401,.401)

"BLD",3704,"KRN","B",.402,.402)

"BLD",3704,"KRN","B",.403,.403)

"BLD",3704,"KRN","B",.5,.5)

"BLD",3704,"KRN","B",.84,.84)

"BLD",3704,"KRN","B",3.6,3.6)

"BLD",3704,"KRN","B",3.8,3.8)

"BLD",3704,"KRN","B",9.2,9.2)

"BLD",3704,"KRN","B",9.8,9.8)

"BLD",3704,"KRN","B",19,19)

"BLD",3704,"KRN","B",19.1,19.1)

"BLD",3704,"KRN","B",101,101)

"BLD",3704,"KRN","B",409.61,409.61)

"BLD",3704,"KRN","B",771,771)

"BLD",3704,"KRN","B",870,870)

"BLD",3704,"KRN","B",8989.51,8989.51)

"BLD",3704,"KRN","B",8989.52,8989.52)

"BLD",3704,"KRN","B",8994,8994)

"BLD",3704,"QUES",0)
^9.62^^
"BLD",3704,"REQB",0)
^9.611^3^3
"BLD",3704,"REQB",1,0)
GMTS*2.7*55^2
"BLD",3704,"REQB",2,0)
TIU*1.0*132^2
"BLD",3704,"REQB",3,0)
GMTS*2.7*58^2
"BLD",3704,"REQB","B","GMTS*2.7*55",1)

"BLD",3704,"REQB","B","GMTS*2.7*58",3)

"BLD",3704,"REQB","B","TIU*1.0*132",2)

"KRN",19,5125,-1)
0^6
"KRN",19,5125,0)
TIUFA SORT DDEFS MGR^Sort Document Definitions^^A^^^^^^^n^TEXT INTEGRATION UTILITIES^^1^^^
"KRN",19,5125,1,0)
^19.06^5^5^3020410^^
"KRN",19,5125,1,1,0)
The Sort Document Definitions Option lets you select sort criteria.  It
"KRN",19,5125,1,2,0)
then displays selected entries in alphabetic order by Name, rather than in
"KRN",19,5125,1,3,0)
hierarchy order.  Depending on sort criteria, entries can include Objects.
"KRN",19,5125,1,4,0)
 
"KRN",19,5125,1,5,0)
The Sort Option lets you view and edit entries.
"KRN",19,5125,15)

"KRN",19,5125,20)
N TIUFWHO S TIUFWHO="M" D EN^TIUFA
"KRN",19,5125,26)

"KRN",19,5125,99)
56434,81210
"KRN",19,5125,99.1)
56725,54266
"KRN",19,5125,"U")
SORT DOCUMENT DEFINITIONS
"KRN",19,5126,-1)
0^5
"KRN",19,5126,0)
TIUFH EDIT DDEFS MGR^Edit Document Definitions^^A^^^^^^^n^TEXT INTEGRATION UTILITIES^^1^1^^
"KRN",19,5126,1,0)
^^6^6^2980818^^^^
"KRN",19,5126,1,1,0)
The Edit Document Definitions Option lets you view and edit entries.
"KRN",19,5126,1,2,0)
 
"KRN",19,5126,1,3,0)
Entries are presented in hierarchy order.  ITEMS of an entry are in
"KRN",19,5126,1,4,0)
Sequence order, or if they have no Sequence, in alphabetic order by Menu
"KRN",19,5126,1,5,0)
Text, and are indented below the entry.  Since Objects do not belong to
"KRN",19,5126,1,6,0)
the hierarchy, they cannot be viewed/edited using the Edit Option.
"KRN",19,5126,15)
I $G(TIUFWHO)'="N",'$G(TIUFZZ8) K ^TMP("TIUFMOVE",$J)
"KRN",19,5126,20)
N TIUFWHO S TIUFWHO="M" D EN^TIUFH
"KRN",19,5126,26)

"KRN",19,5126,99)
56434,85597
"KRN",19,5126,"U")
EDIT DOCUMENT DEFINITIONS
"KRN",19,5129,-1)
0^3
"KRN",19,5129,0)
TIUF DOCUMENT DEFINITION MGR^Document Definitions (Manager)^^M^^^^^^^y^TEXT INTEGRATION UTILITIES^^^^^1
"KRN",19,5129,1,0)
^19.06^10^10^3020619^^^^
"KRN",19,5129,1,1,0)
Document Definition menu for Managers/IRM.  Lets you create new
"KRN",19,5129,1,2,0)
entries, delete appropriate entries, copy entries, and edit entries,
"KRN",19,5129,1,3,0)
including Technical M fields and Upload fields.
"KRN",19,5129,1,4,0)
 
"KRN",19,5129,1,5,0)
Editing Exception: National Standard entries cannot be edited/deleted on
"KRN",19,5129,1,6,0)
ANY menu.
"KRN",19,5129,1,7,0)
 
"KRN",19,5129,1,8,0)
The Manager menu overrides Ownership for editing, but not for deleting
"KRN",19,5129,1,9,0)
entries; a manager can edit any entry regardless of owner, but must own
"KRN",19,5129,1,10,0)
an entry in order to delete it.
"KRN",19,5129,10,0)
^19.01IP^5^5
"KRN",19,5129,10,1,0)
5126^1^1
"KRN",19,5129,10,1,"^")
TIUFH EDIT DDEFS MGR
"KRN",19,5129,10,2,0)
5125^2^2
"KRN",19,5129,10,2,"^")
TIUFA SORT DDEFS MGR
"KRN",19,5129,10,3,0)
5254^3^3
"KRN",19,5129,10,3,"^")
TIUFC CREATE DDEFS MGR
"KRN",19,5129,10,4,0)
5997^4^4
"KRN",19,5129,10,4,"^")
TIUFJ CREATE OBJECTS MGR
"KRN",19,5129,10,5,0)
8891^5
"KRN",19,5129,10,5,"^")
TIUHS LIST MANAGER
"KRN",19,5129,20)

"KRN",19,5129,26)
W !!,$$CENTER^TIULS("--- Manager Document Definition Menu ---")
"KRN",19,5129,99)
59259,37782
"KRN",19,5129,"U")
DOCUMENT DEFINITIONS (MANAGER)
"KRN",19,5254,-1)
0^4
"KRN",19,5254,0)
TIUFC CREATE DDEFS MGR^Create Document Definitions^^A^^^^^^^n^TEXT INTEGRATION UTILITIES^^1
"KRN",19,5254,1,0)
^^11^11^2970220^
"KRN",19,5254,1,1,0)
The Create Document Definitions Option lets you create new entries of any
"KRN",19,5254,1,2,0)
type except Object, placing them where they belong in the hierarchy.
"KRN",19,5254,1,3,0)
 
"KRN",19,5254,1,4,0)
Although entries can be created using the Edit and Sort Options, the
"KRN",19,5254,1,5,0)
Create Option streamlines the process. This option presents entries in
"KRN",19,5254,1,6,0)
hierarchy order, traversing ONE line of descent, starting from Clinical
"KRN",19,5254,1,7,0)
Documents at the top.
"KRN",19,5254,1,8,0)
 
"KRN",19,5254,1,9,0)
The Create Option permits you to view, edit, and create entries, but only
"KRN",19,5254,1,10,0)
from within the current line of descent.  The Create Option does not let
"KRN",19,5254,1,11,0)
you copy an entry.
"KRN",19,5254,20)
N TIUFWHO S TIUFWHO="M" D EN^TIUFC
"KRN",19,5254,99)
56434,85597
"KRN",19,5254,"U")
CREATE DOCUMENT DEFINITIONS
"KRN",19,5997,-1)
0^7
"KRN",19,5997,0)
TIUFJ CREATE OBJECTS MGR^Create Objects^^A^^^^^^^n^TEXT INTEGRATION UTILITIES^^1
"KRN",19,5997,1,0)
^19.06^3^3^3020423^^^^
"KRN",19,5997,1,1,0)
The Create/Edit Objects Option lets you select Start With and Go to
"KRN",19,5997,1,2,0)
values. It then displays Objects within those values in alphabetic order
"KRN",19,5997,1,3,0)
by Name.  User can create new objects or edit existing objects.
"KRN",19,5997,20)
N TIUFWHO S TIUFWHO="M" D EN^TIUFJ
"KRN",19,5997,99)
56434,81210
"KRN",19,5997,99.1)
56725,54266
"KRN",19,5997,"U")
CREATE OBJECTS
"KRN",19,8864,-1)
0^2
"KRN",19,8864,0)
TIUHSOBJ MENU^Health Summary Object Menu^^R^^^^^^^^TEXT INTEGRATION UTILITIES
"KRN",19,8864,1,0)
^19.06^1^1^3021126^^^^
"KRN",19,8864,1,1,0)
This options selects the Health Summary Object Menu.
"KRN",19,8864,25)
EN^TIUHSL
"KRN",19,8864,99.1)
59023,27548
"KRN",19,8864,"U")
HEALTH SUMMARY OBJECT MENU
"KRN",19,8891,-1)
0^1
"KRN",19,8891,0)
TIUHS LIST MANAGER^Create TIU/Health Summary Objects^^R^^^^^^^^TEXT INTEGRATION UTILITIES
"KRN",19,8891,25)
TIUHSL
"KRN",19,8891,99.1)
59023,27548
"KRN",19,8891,"U")
CREATE TIU/HEALTH SUMMARY OBJE
"KRN",101,6108,-1)
0^12
"KRN",101,6108,0)
TIUHSLSM MENU^TIU HS Object Menu^^M^^^^^^^^
"KRN",101,6108,4)
40^4
"KRN",101,6108,10,0)
^101.01PA^6^5
"KRN",101,6108,10,1,0)
6109^^1^
"KRN",101,6108,10,1,"^")
TIUHS CREATE OBJECT
"KRN",101,6108,10,2,0)
6110^^2^
"KRN",101,6108,10,2,"^")
TIUHS EDIT
"KRN",101,6108,10,4,0)
6150^^4^
"KRN",101,6108,10,4,"^")
TIUHSFIND
"KRN",101,6108,10,5,0)
6321^^5^
"KRN",101,6108,10,5,"^")
TIUHS EDIT HS OBJECT MM
"KRN",101,6108,10,6,0)
6117^^3^
"KRN",101,6108,10,6,"^")
TIUHS QUIT
"KRN",101,6108,15)
D LSEXIT^TIUHSL
"KRN",101,6108,20)

"KRN",101,6108,26)
D SHOW^VALM
"KRN",101,6108,99)
59259,58877
"KRN",101,6109,-1)
0^1
"KRN",101,6109,0)
TIUHS CREATE OBJECT^Create New TIU Object^^A^^^^^^^^
"KRN",101,6109,4)
26^6
"KRN",101,6109,15)
S VALMBCK="R"
"KRN",101,6109,20)
D CREATE^TIUHSL
"KRN",101,6109,26)

"KRN",101,6109,99)
59259,37766
"KRN",101,6110,-1)
0^3
"KRN",101,6110,0)
TIUHS EDIT^Detailed Display/Edit TIU Object^^A^^^^^^^^
"KRN",101,6110,15)
S VALMBCK="R"
"KRN",101,6110,20)
D EDIT^TIUHSL
"KRN",101,6110,26)

"KRN",101,6110,99)
59259,58868
"KRN",101,6111,-1)
0^6
"KRN",101,6111,0)
TIUHS EDIT OBJECT^Change HS Object^^A^^^^^^^^
"KRN",101,6111,15)
S VALMBCK="R"
"KRN",101,6111,20)
D HSEDIT^TIUHSV
"KRN",101,6111,99)
59259,48505
"KRN",101,6112,-1)
0^10
"KRN",101,6112,0)
TIUHSE MENU^Detailed Display Menu^^M^^^^^^^^
"KRN",101,6112,4)
30^4
"KRN",101,6112,10,0)
^101.01PA^8^8
"KRN",101,6112,10,1,0)
6111^^3^
"KRN",101,6112,10,1,"^")
TIUHS EDIT OBJECT
"KRN",101,6112,10,7,0)
6263^^5^
"KRN",101,6112,10,7,"^")
TIU HS OBJECT DISPLAY
"KRN",101,6112,10,8,0)
6264^^4^
"KRN",101,6112,10,8,"^")
TIUHS CHANGE HS TYPE
"KRN",101,6112,15)

"KRN",101,6112,20)

"KRN",101,6112,26)
D SHOW^VALM
"KRN",101,6112,99)
59259,48711
"KRN",101,6115,-1)
0^2
"KRN",101,6115,0)
TIUHS CREATE/MODIFY HS TYPE^Edit HS Type^^A^^^^^^^^
"KRN",101,6115,15)
S VALMBCK="R"
"KRN",101,6115,20)
D CREATEHS^TIUHSOLM
"KRN",101,6115,99)
59259,48697
"KRN",101,6116,-1)
0^8
"KRN",101,6116,0)
TIUHS VIEW CURRENT HS^Inquire about a HS Type^^A^^^^^^^^
"KRN",101,6116,10,0)
^101.01PA^^0
"KRN",101,6116,15)
S VALMBCK="R"
"KRN",101,6116,20)
D FULL^VALM1 W @IOF D ^GMTSRI W ! S DIR(0)="E" D ^DIR
"KRN",101,6116,99)
59259,37767
"KRN",101,6117,-1)
0^7
"KRN",101,6117,0)
TIUHS QUIT^Quit^^A^^^^^^^^
"KRN",101,6117,20)
G EXIT^TIUHSL
"KRN",101,6117,99)
59259,37767
"KRN",101,6150,-1)
0^11
"KRN",101,6150,0)
TIUHSFIND^Find^^A^^^^^^^^
"KRN",101,6150,15)
S VALMBCK="R"
"KRN",101,6150,20)
D FIND^TIUHSL
"KRN",101,6150,99)
59259,37767
"KRN",101,6263,-1)
0^14
"KRN",101,6263,0)
TIU HS OBJECT DISPLAY^Detail Display/Edit HS Object^^A^^^^^^^^
"KRN",101,6263,15)
S VALMBCK="R"
"KRN",101,6263,20)
D HSOBJ^TIUHSV
"KRN",101,6263,99)
59259,48539
"KRN",101,6264,-1)
0^15
"KRN",101,6264,0)
TIUHS CHANGE HS TYPE^Change Health Summary Type^^A^^^^^^^^
"KRN",101,6264,15)
S VALMBCK="R"
"KRN",101,6264,20)
D CHHST^TIUHSV
"KRN",101,6264,99)
59259,37767
"KRN",101,6265,-1)
0^16
"KRN",101,6265,0)
TIUHS OBJECT MENU^^^M^^^^^^^^
"KRN",101,6265,4)
30^4
"KRN",101,6265,10,0)
^101.01PA^4^4
"KRN",101,6265,10,1,0)
6266^^1^
"KRN",101,6265,10,1,"^")
TIUHS OBJ EDIT HS OBJECT
"KRN",101,6265,10,2,0)
6267^^2^
"KRN",101,6265,10,2,"^")
TIUHS OBJ CHANGE HST
"KRN",101,6265,10,3,0)
6116^^5^
"KRN",101,6265,10,3,"^")
TIUHS VIEW CURRENT HS
"KRN",101,6265,10,4,0)
6115^^7^
"KRN",101,6265,10,4,"^")
TIUHS CREATE/MODIFY HS TYPE
"KRN",101,6265,26)
D SHOW^VALM
"KRN",101,6265,99)
59259,48715
"KRN",101,6266,-1)
0^17
"KRN",101,6266,0)
TIUHS OBJ EDIT HS OBJECT^Edit HS Object^^A^^^^^^^^
"KRN",101,6266,15)
S VALMBCK="R"
"KRN",101,6266,20)
D EHSO^TIUHSOLM
"KRN",101,6266,99)
59259,48604
"KRN",101,6267,-1)
0^18
"KRN",101,6267,0)
TIUHS OBJ CHANGE HST^Change HS Type^^A^^^^^^^^
"KRN",101,6267,15)
S VALMBCK="R"
"KRN",101,6267,20)
D CHST^TIUHSOLM
"KRN",101,6267,99)
59259,37767
"KRN",101,6321,-1)
0^19
"KRN",101,6321,0)
TIUHS EDIT HS OBJECT MM^Detailed Display/Edit HS Object^^A^^^^^^^^
"KRN",101,6321,15)
S VALMBCK="R"
"KRN",101,6321,20)
D EDITHSO^TIUHSL
"KRN",101,6321,99)
59259,56118
"KRN",409.61,859,-1)
0^1
"KRN",409.61,859,0)
TIUHSLSM^1^^80^5^18^0^1^TIUHS List Manager^TIUHSLSM MENU^TIU Health Summary Object^1^^1
"KRN",409.61,859,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,859,"ARRAY")

"KRN",409.61,859,"COL",0)
^409.621^2^2
"KRN",409.61,859,"COL",1,0)
OBJECT^6^35^TIU Object Name
"KRN",409.61,859,"COL",2,0)
HS^40^40^Health Summary Type
"KRN",409.61,859,"COL","B","HS",2)

"KRN",409.61,859,"COL","B","OBJECT",1)

"KRN",409.61,859,"FNL")
D EXIT^TIUHSL
"KRN",409.61,859,"HDR")
D HDR^TIUHSL
"KRN",409.61,859,"HLP")
D HELP^TIUHSL
"KRN",409.61,859,"INIT")
D INIT^TIUHSL
"KRN",409.61,860,-1)
0^3
"KRN",409.61,860,0)
TIUHSLSV^1^^80^4^18^0^1^TIUHS Detailed Display^TIUHSE MENU^TIUHS Detailed Display/Edit^1^^1
"KRN",409.61,860,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,860,"COL",0)
^409.621^^0
"KRN",409.61,860,"FNL")
D EXIT^TIUHSV
"KRN",409.61,860,"HDR")
D HDR^TIUHSV
"KRN",409.61,860,"HLP")
D HELP^TIUHSV
"KRN",409.61,860,"INIT")
D INIT^TIUHSV
"KRN",409.61,881,-1)
0^4
"KRN",409.61,881,0)
TIUHS OBJ DISPLAY^1^^80^4^19^0^1^HS OBJECT DISPLAY^TIUHS OBJECT MENU^HS OBJECT DISPLAY^1^^1
"KRN",409.61,881,1)
^VALM HIDDEN ACTIONS
"KRN",409.61,881,"FNL")
D EXIT^TIUHSOLM
"KRN",409.61,881,"HDR")
D HDR^TIUHSOLM
"KRN",409.61,881,"HLP")
D HELP^TIUHSOLM
"KRN",409.61,881,"INIT")
D INIT^TIUHSOLM
"MBREQ")
0
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",17,409.61)
409.61;17;1;;;;;;;LMDEL^XPDIA1
"ORD",17,409.61,0)
LIST TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",193,-1)
1^1
"PKG",193,0)
TEXT INTEGRATION UTILITIES^TIU^Text Integration Utilities 
"PKG",193,20,0)
^9.402P^^
"PKG",193,22,0)
^9.49I^1^1
"PKG",193,22,1,0)
1.0^3010321^3010321^11
"PKG",193,22,1,"PAH",1,0)
135^3030424^123456789078
"PKG",193,22,1,"PAH",1,1,0)
^^2^2^3030424
"PKG",193,22,1,"PAH",1,1,1,0)
The description of this patch may be found in the National Patch Module 
"PKG",193,22,1,"PAH",1,1,2,0)
under TIU*1.0*135.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","TIUHSL")
0^1^B19011866
"RTN","TIUHSL",1,0)
TIUHSL ;;SLC/AJB,AGP - Main List Manager for TIUHS ROutines; 10/25/02
"RTN","TIUHSL",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**135**;Jun 20, 1997
"RTN","TIUHSL",3,0)
EN ; -- main entry point for TIUHSLSM
"RTN","TIUHSL",4,0)
 N CENTER,GMTSHDR,GMTSN,POP,VALMBCK,VALMSG,X
"RTN","TIUHSL",5,0)
 D EN^VALM("TIUHSLSM")
"RTN","TIUHSL",6,0)
 Q
"RTN","TIUHSL",7,0)
 ;
"RTN","TIUHSL",8,0)
HDR ; -- header code
"RTN","TIUHSL",9,0)
 N CENTER,HEADER,TITLE,VALMHDR,VALMSG
"RTN","TIUHSL",10,0)
 S TITLE="TIU Health Summary Object."
"RTN","TIUHSL",11,0)
 S CENTER=(IOM-$L(TITLE))/2
"RTN","TIUHSL",12,0)
 S HEADER=$$SETSTR^VALM1(TITLE,"",CENTER,$L(TITLE))
"RTN","TIUHSL",13,0)
 S VALMHDR(1)=HEADER
"RTN","TIUHSL",14,0)
 ;display help option
"RTN","TIUHSL",15,0)
 S VALMSG="+ Next Screen   - Prev Screen   ?? More Actions"
"RTN","TIUHSL",16,0)
 D XQORM
"RTN","TIUHSL",17,0)
 Q
"RTN","TIUHSL",18,0)
 ;
"RTN","TIUHSL",19,0)
INIT ; -- init variables and list array
"RTN","TIUHSL",20,0)
 N DIS,IEN,LINE,HSNAME,HSOBIEN,HSTYPE,NAME,NUM,TMP
"RTN","TIUHSL",21,0)
 K TMP($J)
"RTN","TIUHSL",22,0)
 S (LINE,NUM)=0
"RTN","TIUHSL",23,0)
 ;
"RTN","TIUHSL",24,0)
 ;searches file 8925.1 for hs obj and places into temp array
"RTN","TIUHSL",25,0)
 S IEN="" F  S IEN=$O(^TIU(8925.1,"AT","O",IEN)) Q:IEN=""  I $G(^TIU(8925.1,IEN,9))["GMTSOBJ" D
"RTN","TIUHSL",26,0)
 .S NAME=$P($G(^TIU(8925.1,IEN,0)),U)
"RTN","TIUHSL",27,0)
 .S HSOBIEN=$P($P($G(^TIU(8925.1,IEN,9)),",",2),")")
"RTN","TIUHSL",28,0)
 .S HSTYPE=$P($G(^GMT(142.5,HSOBIEN,0)),U,3)
"RTN","TIUHSL",29,0)
 .I $G(HSTYPE)'=""&($D(^GMT(142.5,HSOBIEN,0))>0) S HSTYPE=$$GET1^DIQ(142,HSTYPE,.01)
"RTN","TIUHSL",30,0)
 .I $G(HSTYPE)="" S HSTYPE="No Health Summary Type Found"
"RTN","TIUHSL",31,0)
 .S TMP($J,NAME)=IEN_U_HSTYPE
"RTN","TIUHSL",32,0)
 ;
"RTN","TIUHSL",33,0)
 ;sort temp array in alpha order and display output
"RTN","TIUHSL",34,0)
 S NAME=""
"RTN","TIUHSL",35,0)
 F  S NAME=$O(TMP($J,NAME)) Q:NAME=""  D
"RTN","TIUHSL",36,0)
 .S IEN=$P(TMP($J,NAME),U)
"RTN","TIUHSL",37,0)
 .S HSNAME=$P(TMP($J,NAME),U,2)
"RTN","TIUHSL",38,0)
 .S LINE=LINE+1
"RTN","TIUHSL",39,0)
 .S NUM=NUM+1
"RTN","TIUHSL",40,0)
 .;
"RTN","TIUHSL",41,0)
 .;set output display
"RTN","TIUHSL",42,0)
 .S DIS=$$SETSTR^VALM1(NUM,"",1,5)
"RTN","TIUHSL",43,0)
 .S DIS=$$SETSTR^VALM1(NAME,DIS,6,37)
"RTN","TIUHSL",44,0)
 .S DIS=$$SETSTR^VALM1(HSNAME,DIS,40,40)
"RTN","TIUHSL",45,0)
 .D SET^VALM10(LINE,DIS,IEN)
"RTN","TIUHSL",46,0)
 S VALMCNT=LINE
"RTN","TIUHSL",47,0)
 K TMP($J)
"RTN","TIUHSL",48,0)
 Q
"RTN","TIUHSL",49,0)
 ;
"RTN","TIUHSL",50,0)
CREATE ;
"RTN","TIUHSL",51,0)
 ;call to tiuhsobj
"RTN","TIUHSL",52,0)
 D CLEAN^VALM10
"RTN","TIUHSL",53,0)
 D FULL^VALM1
"RTN","TIUHSL",54,0)
 D CREATE^TIUHSOBJ
"RTN","TIUHSL",55,0)
 D INIT
"RTN","TIUHSL",56,0)
 S VALMBCK="R"
"RTN","TIUHSL",57,0)
 Q
"RTN","TIUHSL",58,0)
EDIT ;
"RTN","TIUHSL",59,0)
 ;lst man function to allow user to select protocal and line item in one command i.e. det=3
"RTN","TIUHSL",60,0)
 ;
"RTN","TIUHSL",61,0)
 N HSOBJ,SEL,TRUE,Y
"RTN","TIUHSL",62,0)
 S TRUE=0
"RTN","TIUHSL",63,0)
 S SEL=$P(XQORNOD(0),"=",2)
"RTN","TIUHSL",64,0)
 I $A($E(SEL,$L(SEL)))<48!($A($E(SEL,$L(SEL)))>57) S SEL=$E(SEL,1,$L(SEL)-1)
"RTN","TIUHSL",65,0)
 I SEL["," D  Q
"RTN","TIUHSL",66,0)
 .W $C(7),!,"Only one item number allowed." H 2
"RTN","TIUHSL",67,0)
 .S VALMBCK="R"
"RTN","TIUHSL",68,0)
 I SEL="" D
"RTN","TIUHSL",69,0)
 .W !,"Select Entry:  (1-"_VALMLST_") " R SEL:DTIME
"RTN","TIUHSL",70,0)
 .I '$T!(SEL=U)!(SEL="") S TRUE=1
"RTN","TIUHSL",71,0)
 I TRUE=1 Q
"RTN","TIUHSL",72,0)
 I 'SEL!(SEL>VALMCNT)!('$D(@VALMAR@("IDX",SEL))) D  Q
"RTN","TIUHSL",73,0)
 .W $C(7),!,SEL_" is not a valid item number." H 2
"RTN","TIUHSL",74,0)
 .S VALMBCK="R"
"RTN","TIUHSL",75,0)
 S Y=$O(@VALMAR@("IDX",SEL,""))
"RTN","TIUHSL",76,0)
 D CLEAN^VALM10
"RTN","TIUHSL",77,0)
 D EN^TIUHSV(+Y)
"RTN","TIUHSL",78,0)
 D CLEAN^VALM10
"RTN","TIUHSL",79,0)
 D INIT
"RTN","TIUHSL",80,0)
 Q
"RTN","TIUHSL",81,0)
 ;
"RTN","TIUHSL",82,0)
EDITHSO ;
"RTN","TIUHSL",83,0)
 ;lst man function to allow user to select protocal and line item in one command i.e. det=3
"RTN","TIUHSL",84,0)
 ;
"RTN","TIUHSL",85,0)
 N HSOBJ,IEN,OBJMETD,SEL,TRUE,Y,YESNO
"RTN","TIUHSL",86,0)
 S TRUE=0
"RTN","TIUHSL",87,0)
 S SEL=$P(XQORNOD(0),"=",2)
"RTN","TIUHSL",88,0)
 I $A($E(SEL,$L(SEL)))<48!($A($E(SEL,$L(SEL)))>57) S SEL=$E(SEL,1,$L(SEL)-1)
"RTN","TIUHSL",89,0)
 I SEL["," D  Q
"RTN","TIUHSL",90,0)
 .W $C(7),!,"Only one item number allowed." H 2
"RTN","TIUHSL",91,0)
 .S VALMBCK="R"
"RTN","TIUHSL",92,0)
 I SEL="" D
"RTN","TIUHSL",93,0)
 .W !,"Select Entry:  (1-"_VALMLST_") " R SEL:DTIME
"RTN","TIUHSL",94,0)
 .I '$T!(SEL=U)!(SEL="") S TRUE=1
"RTN","TIUHSL",95,0)
 I TRUE=1 Q
"RTN","TIUHSL",96,0)
 I 'SEL!(SEL>VALMCNT)!('$D(@VALMAR@("IDX",SEL))) D  Q
"RTN","TIUHSL",97,0)
 .W $C(7),!,SEL_" is not a valid item number." H 2
"RTN","TIUHSL",98,0)
 .S VALMBCK="R"
"RTN","TIUHSL",99,0)
 S Y=$O(@VALMAR@("IDX",SEL,""))
"RTN","TIUHSL",100,0)
 S IEN=+Y
"RTN","TIUHSL",101,0)
 S OBJMETD=^TIU(8925.1,IEN,9)
"RTN","TIUHSL",102,0)
 S HSOBJ=$P($P($G(OBJMETD),",",2),")")
"RTN","TIUHSL",103,0)
 S YESNO="Y"
"RTN","TIUHSL",104,0)
 I $D(^GMT(142.5,HSOBJ,0))=0 D
"RTN","TIUHSL",105,0)
 . W !,"No HS Object found. Create new HS Object now?"
"RTN","TIUHSL",106,0)
 . S DIR(0)="YA0"
"RTN","TIUHSL",107,0)
 . S DIR("B")="NO"
"RTN","TIUHSL",108,0)
 . S DIR("?")="Enter Y or N. For detailed help type ??"
"RTN","TIUHSL",109,0)
 . D ^DIR
"RTN","TIUHSL",110,0)
 . I $D(DIROUT) S DTOUT=1
"RTN","TIUHSL",111,0)
 . I $D(DTOUT)!($D(DUOUT)) S YESNO="N" Q
"RTN","TIUHSL",112,0)
 . S YESNO=$E(Y(0))
"RTN","TIUHSL",113,0)
 . I YESNO="Y" S HSOBJ=$$CRE^GMTSOBJ()
"RTN","TIUHSL",114,0)
 I $G(YESNO)="Y"&(HSOBJ>0) D
"RTN","TIUHSL",115,0)
 . S ^TIU(8925.1,IEN,9)="S X=$$TIU^GMTSOBJ(DFN,"_HSOBJ_")"
"RTN","TIUHSL",116,0)
 . D EN^TIUHSOLM(HSOBJ,IEN)
"RTN","TIUHSL",117,0)
 D CLEAN^VALM10
"RTN","TIUHSL",118,0)
 D INIT
"RTN","TIUHSL",119,0)
 Q
"RTN","TIUHSL",120,0)
FIND ;
"RTN","TIUHSL",121,0)
 S DIC=8925.1,DIC("A")="Enter OBJECT NAME:  "
"RTN","TIUHSL",122,0)
 ;
"RTN","TIUHSL",123,0)
 ; DIC(0)="ABEOQ" a=ask user for input, b=use b xref only
"RTN","TIUHSL",124,0)
 ;                e=echo    o=only find 1 if exact match
"RTN","TIUHSL",125,0)
 ;                q=question erroneous input
"RTN","TIUHSL",126,0)
 ;
"RTN","TIUHSL",127,0)
 ; DIC("S") ensures IEN is greater or equal to 1 and will only
"RTN","TIUHSL",128,0)
 ; lookup objects that contain the health summary object routine
"RTN","TIUHSL",129,0)
 ;
"RTN","TIUHSL",130,0)
 S DIC(0)="ABEOQ",DIC("S")="I Y'<1,$G(^TIU(8925.1,+Y,9))[""GMTSOBJ"""
"RTN","TIUHSL",131,0)
 W ! D ^DIC I Y=-1 K DIC Q
"RTN","TIUHSL",132,0)
 D EN^TIUHSV(+Y)
"RTN","TIUHSL",133,0)
 K DIC
"RTN","TIUHSL",134,0)
 Q
"RTN","TIUHSL",135,0)
 ;
"RTN","TIUHSL",136,0)
LSEXIT ;
"RTN","TIUHSL",137,0)
 ;display help option
"RTN","TIUHSL",138,0)
 N VALMSG
"RTN","TIUHSL",139,0)
 S VALMSG="+ Next Screen   - Prev Screen   ?? More Actions"
"RTN","TIUHSL",140,0)
 D XQORM
"RTN","TIUHSL",141,0)
 Q
"RTN","TIUHSL",142,0)
 ;
"RTN","TIUHSL",143,0)
XQORM ;
"RTN","TIUHSL",144,0)
 S XQORM("#")=$O(^ORD(101,"B","TIUHS EDIT",0))_U_"1:"_VALMCNT
"RTN","TIUHSL",145,0)
 S XQORM("A")="Select Action: "
"RTN","TIUHSL",146,0)
 Q
"RTN","TIUHSL",147,0)
 ;
"RTN","TIUHSL",148,0)
HELP ; -- help code
"RTN","TIUHSL",149,0)
 N X
"RTN","TIUHSL",150,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","TIUHSL",151,0)
 Q
"RTN","TIUHSL",152,0)
 ;
"RTN","TIUHSL",153,0)
EXIT ; -- exit code
"RTN","TIUHSL",154,0)
 Q
"RTN","TIUHSL",155,0)
 ;
"RTN","TIUHSL",156,0)
EXPND ; -- expand code
"RTN","TIUHSL",157,0)
 Q
"RTN","TIUHSL",158,0)
 ;
"RTN","TIUHSOBJ")
0^5^B19734172
"RTN","TIUHSOBJ",1,0)
TIUHSOBJ ;SLC/AJB,AGP - Health Summary to TIU Object; 10/28/02
"RTN","TIUHSOBJ",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**135**;Jun 20, 1997
"RTN","TIUHSOBJ",3,0)
 ;
"RTN","TIUHSOBJ",4,0)
 Q
"RTN","TIUHSOBJ",5,0)
 ;
"RTN","TIUHSOBJ",6,0)
CREATE ; create a TIU object
"RTN","TIUHSOBJ",7,0)
 ;
"RTN","TIUHSOBJ",8,0)
 N TIUDA,TIUHS,TIUKF,TIUNAME
"RTN","TIUHSOBJ",9,0)
 N DA,DIC,DIK,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","TIUHSOBJ",10,0)
 ;
"RTN","TIUHSOBJ",11,0)
 W @IOF
"RTN","TIUHSOBJ",12,0)
 W !?19,"--- Create TIU/Health Summary Object ---"
"RTN","TIUHSOBJ",13,0)
 ;
"RTN","TIUHSOBJ",14,0)
 S DIR(0)="FAO^3:54"
"RTN","TIUHSOBJ",15,0)
 S DIR("A")="Enter a New TIU OBJECT NAME: "
"RTN","TIUHSOBJ",16,0)
 S DIR("?",1)="This is the technical name, 3-54* characters, not starting with punctuation."
"RTN","TIUHSOBJ",17,0)
 S DIR("?",2)="Name must be unique among all object Names, Abbreviations, and Print Names."
"RTN","TIUHSOBJ",18,0)
 S DIR("?",3)="Any lower case characters will automatically be changed to uppercase."
"RTN","TIUHSOBJ",19,0)
 S DIR("?",4)=""
"RTN","TIUHSOBJ",20,0)
 S DIR("?")="* "" (TIU)"" will be appended to the name entered to differentiate how the object was created.  Example:  OBJECT becomes OBJECT (TIU)"
"RTN","TIUHSOBJ",21,0)
 ;
"RTN","TIUHSOBJ",22,0)
 F  Q:$G(TIUDA)=0  W ! D ^DIR S X=$$UP^XLFSTR(X) D:'$D(DIRUT)  I $D(DIRUT) W ! K DIR S DIR("A")="Enter RETURN to abort TIU Object creation...",DIR(0)="EA" D ^DIR S DIRUT="" Q 
"RTN","TIUHSOBJ",23,0)
 . S TIUDA=$$FIND1^DIC(8925.1,"","AMX",X,"D^C^B","I $P(^TIU(8925.1,+Y,0),U,4)=""O""","ERR")
"RTN","TIUHSOBJ",24,0)
 . I TIUDA'=0 W !!,"The object name ",X," already exists." K X,Y,TIUDA Q
"RTN","TIUHSOBJ",25,0)
 . I ($A($E(X,1))'<48&($A($E(X,1))'>57))!($A($E(X,1))'<65&($A($E(X,1))'>90))!($A($E(X,1))=32)
"RTN","TIUHSOBJ",26,0)
 . E  W !!,DIR("?",1) K TIUDA,X,Y Q
"RTN","TIUHSOBJ",27,0)
 . W !!,"Object Name: ",X D
"RTN","TIUHSOBJ",28,0)
 . . N DIR,X,Y S DIR("A")="Is this correct",DIR(0)="Y",DIR("B")="YES" W ! D ^DIR
"RTN","TIUHSOBJ",29,0)
 . . Q:$D(DIRUT)  I Y(0)="NO" K TIUDA
"RTN","TIUHSOBJ",30,0)
 Q:$D(DIRUT)
"RTN","TIUHSOBJ",31,0)
 ;
"RTN","TIUHSOBJ",32,0)
 S TIUKF=0,TIUNAME=X K DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","TIUHSOBJ",33,0)
 ;
"RTN","TIUHSOBJ",34,0)
 D  I $D(DIRUT) W ! K DIR S DIR("A")="Enter RETURN to abort TIU Object creation...",DIR(0)="EA" D ^DIR Q
"RTN","TIUHSOBJ",35,0)
 . N DIR
"RTN","TIUHSOBJ",36,0)
 . S DIR("A")="Use a pre-existing Health Summary Object",DIR(0)="Y",DIR("B")="NO" W ! D ^DIR
"RTN","TIUHSOBJ",37,0)
 I $G(Y(0))="NO"
"RTN","TIUHSOBJ",38,0)
 E  G PE
"RTN","TIUHSOBJ",39,0)
 ;
"RTN","TIUHSOBJ",40,0)
 W !!,"Checking ",TIUNAME_" (TIU)"," with Health Summary..."
"RTN","TIUHSOBJ",41,0)
 I $$FIND1^DIC(142.5,,"BX",TIUNAME_" (TIU)","B",,"ERROR")=0 D
"RTN","TIUHSOBJ",42,0)
 . W ! S TIUHS=$$CRE^GMTSOBJ(TIUNAME_" (TIU)") S TIUKF=1
"RTN","TIUHSOBJ",43,0)
 I  D  Q:$G(Y)=-1
"RTN","TIUHSOBJ",44,0)
 . I TIUHS=-1 W ! K DIR S DIR("A")="Enter RETURN to abort TIU Object creation...",DIR(0)="EA" D ^DIR S Y=-1 Q
"RTN","TIUHSOBJ",45,0)
 E  H .5 W "that name already exists."
"RTN","TIUHSOBJ",46,0)
PE ;
"RTN","TIUHSOBJ",47,0)
 E  D  Q:$G(Y)=-1
"RTN","TIUHSOBJ",48,0)
 . S DIC=142.5,DIC("A")="Enter the name of the Health Summary Object: "
"RTN","TIUHSOBJ",49,0)
 . S DIC(0)="AEMQ",DIC("S")="I Y'<1"
"RTN","TIUHSOBJ",50,0)
 . W ! D ^DIC I Y=-1 W ! K DIR S DIR("A")="Enter RETURN to abort TIU Object creation...",DIR(0)="EA" D ^DIR S Y=-1 Q
"RTN","TIUHSOBJ",51,0)
 . S TIUHS=+Y K DIC,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","TIUHSOBJ",52,0)
 ;
"RTN","TIUHSOBJ",53,0)
 W !!,"Create a TIU Object named: ",TIUNAME ; ,"/",$$GET1^DIQ(142.5,TIUHS_",",.01)
"RTN","TIUHSOBJ",54,0)
 S DIR("A")="Ok",DIR(0)="Y",DIR("B")="YES" W ! D ^DIR
"RTN","TIUHSOBJ",55,0)
 I $G(Y(0))'="YES" D  Q
"RTN","TIUHSOBJ",56,0)
 . I TIUKF=1 S DA=TIUHS,DIK="^GMT(142.5," D ^DIK
"RTN","TIUHSOBJ",57,0)
 . W ! K DIR S DIR("A")="Enter RETURN to abort TIU Object creation...",DIR(0)="EA" D ^DIR
"RTN","TIUHSOBJ",58,0)
 ;
"RTN","TIUHSOBJ",59,0)
 N FDA,FDAIEN,MSG
"RTN","TIUHSOBJ",60,0)
 S FDA(8925.1,"+1,",.01)=TIUNAME
"RTN","TIUHSOBJ",61,0)
 S FDA(8925.1,"+1,",.03)=TIUNAME
"RTN","TIUHSOBJ",62,0)
 S FDA(8925.1,"+1,",.04)="O"
"RTN","TIUHSOBJ",63,0)
 S FDA(8925.1,"+1,",.05)=DUZ
"RTN","TIUHSOBJ",64,0)
 S FDA(8925.1,"+1,",.07)="11"
"RTN","TIUHSOBJ",65,0)
 S FDA(8925.1,"+1,",9)="S X=$$TIU^GMTSOBJ(DFN,"_TIUHS_")"
"RTN","TIUHSOBJ",66,0)
 S FDA(8925.1,"+1,",99)=$H
"RTN","TIUHSOBJ",67,0)
 ;
"RTN","TIUHSOBJ",68,0)
 D UPDATE^DIE("","FDA","FDAIEN","MSG")
"RTN","TIUHSOBJ",69,0)
 ;
"RTN","TIUHSOBJ",70,0)
 I $D(MSG) D  Q
"RTN","TIUHSOBJ",71,0)
 . W !!,"TIU Object creation failed.  The following error message was returned:",!!
"RTN","TIUHSOBJ",72,0)
 . S MSG="" F  S MSG=$O(MSG("DIERR",1,"TEXT",MSG)) Q:MSG=""  W MSG("DIERR",1,"TEXT",MSG),!
"RTN","TIUHSOBJ",73,0)
 ;
"RTN","TIUHSOBJ",74,0)
 W !!,"TIU Object created successfully.",! K DIR S DIR("A")="Enter RETURN to continue...",DIR(0)="EA" D ^DIR
"RTN","TIUHSOBJ",75,0)
 Q
"RTN","TIUHSOBJ",76,0)
 ;
"RTN","TIUHSOBJ",77,0)
EDIT(TIUDA) ;
"RTN","TIUHSOBJ",78,0)
 ;
"RTN","TIUHSOBJ",79,0)
 Q:$G(TIUDA)'>0
"RTN","TIUHSOBJ",80,0)
 Q:$D(^TIU(8925.1,TIUDA,0))'>0
"RTN","TIUHSOBJ",81,0)
 N DA,DIE,DIR,DR,X,Y
"RTN","TIUHSOBJ",82,0)
 I $G(DUZ)'=$P($G(^TIU(8925.1,TIUDA,0)),U,5) D  Q
"RTN","TIUHSOBJ",83,0)
 . W !!,"You are not the owner - cannot edit name!"
"RTN","TIUHSOBJ",84,0)
 . S DIR("A")="Enter RETURN to continue...",DIR(0)="EA" W ! D ^DIR
"RTN","TIUHSOBJ",85,0)
 S DA=TIUDA,DIE="^TIU(8925.1,",DR=".01//"
"RTN","TIUHSOBJ",86,0)
 D ^DIE
"RTN","TIUHSOBJ",87,0)
 Q
"RTN","TIUHSOBJ",88,0)
 ;
"RTN","TIUHSOBJ",89,0)
EXIST(HSNUM) ; entry point for Health Summary to verify if a HS Object is used in a TIU Object
"RTN","TIUHSOBJ",90,0)
 ;
"RTN","TIUHSOBJ",91,0)
 N EXIST,TIUDA S (EXIST,TIUDA)=0
"RTN","TIUHSOBJ",92,0)
 F  S TIUDA=$O(^TIU(8925.1,TIUDA)) Q:TIUDA=""  I +$P($G(^TIU(8925.1,TIUDA,9)),",",2)=HSNUM S EXIST=1
"RTN","TIUHSOBJ",93,0)
 Q EXIST
"RTN","TIUHSOLM")
0^6^B22687456
"RTN","TIUHSOLM",1,0)
TIUHSOLM ;;SLC/AJB,AGP Display Health Summary Object for TIU Objects;22-OCT-2002
"RTN","TIUHSOLM",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**135**;Jun 20, 1997
"RTN","TIUHSOLM",3,0)
EN(IEN,TIUIEN) ; -- main entry point for TIUHS OBJ DISPLAY
"RTN","TIUHSOLM",4,0)
 D EN^VALM("TIUHS OBJ DISPLAY")
"RTN","TIUHSOLM",5,0)
 Q
"RTN","TIUHSOLM",6,0)
 ;
"RTN","TIUHSOLM",7,0)
HDR ; -- header code
"RTN","TIUHSOLM",8,0)
 N CENTER,HEADER,TIUNAM,HSOBJNOD,TITLE,VALHDR,VALMSG
"RTN","TIUHSOLM",9,0)
 ;S HSOBJNOD=$G(^GMT(142.5,IEN,0))
"RTN","TIUHSOLM",10,0)
 S TIUNAM=$P($G(^TIU(8925.1,TIUIEN,0)),U)
"RTN","TIUHSOLM",11,0)
 S TITLE="Detailed Display for "_TIUNAM
"RTN","TIUHSOLM",12,0)
 S CENTER=(IOM-$L(TITLE))/2
"RTN","TIUHSOLM",13,0)
 S HEADER=$$SETSTR^VALM1(TITLE,"",CENTER,$L(TITLE))
"RTN","TIUHSOLM",14,0)
 S VALMHDR(1)=HEADER
"RTN","TIUHSOLM",15,0)
 S VALMSG="?? More Actions"
"RTN","TIUHSOLM",16,0)
 D XQORM
"RTN","TIUHSOLM",17,0)
 Q
"RTN","TIUHSOLM",18,0)
 ;
"RTN","TIUHSOLM",19,0)
INIT ; -- init variables and list array
"RTN","TIUHSOLM",20,0)
 N LINE,OBJ,OBJDISP,OBJECT,VAL,VALUE
"RTN","TIUHSOLM",21,0)
 S LINE=0
"RTN","TIUHSOLM",22,0)
 ;hs object heading
"RTN","TIUHSOLM",23,0)
 D EXTRACT^GMTSOBJ(IEN,.OBJ)
"RTN","TIUHSOLM",24,0)
 S HSTYNAM=$G(OBJ(IEN,.03,"E"))
"RTN","TIUHSOLM",25,0)
 S VALUE=$J("HS Object",25)_": "_$G(OBJ(IEN,.01,"E")),LINE=LINE+1
"RTN","TIUHSOLM",26,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",27,0)
 I $G(OBJ(IEN,.02,"E"))'="" D
"RTN","TIUHSOLM",28,0)
 . S VALUE=$J($G(OBJ(IEN,.02,"PROMPT")),25)_": "_$G(OBJ(IEN,.02,"E"))
"RTN","TIUHSOLM",29,0)
 . S LINE=LINE+1
"RTN","TIUHSOLM",30,0)
 . D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",31,0)
 S VALUE=$J($G(OBJ(IEN,.03,"PROMPT")),25)_": "_HSTYNAM,LINE=LINE+1
"RTN","TIUHSOLM",32,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",33,0)
 S VALUE=$J($G(OBJ(IEN,.04,"PROMPT")),25)_": "_$G(OBJ(IEN,.04,"E")),LINE=LINE+1
"RTN","TIUHSOLM",34,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",35,0)
 S VALUE=$J($G(OBJ(IEN,.17,"PROMPT")),25)_": "_$G(OBJ(IEN,.17,"E"))
"RTN","TIUHSOLM",36,0)
 S LINE=LINE+1
"RTN","TIUHSOLM",37,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",38,0)
 S VALUE=" ",LINE=LINE+1 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",39,0)
 S OBJDISP="HS Object",CENTER=(IOM-$L(OBJDISP))/2
"RTN","TIUHSOLM",40,0)
 S VALUE=$$SETSTR^VALM1(OBJDISP,"",CENTER,$L(OBJDISP))
"RTN","TIUHSOLM",41,0)
 S LINE=LINE+1 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",42,0)
 S VALUE=" ",LINE=LINE+1 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",43,0)
 S VALUE=$J($G(OBJ(IEN,.07,"PROMPT")),29)_": "_$G(OBJ(IEN,.07,"E"))
"RTN","TIUHSOLM",44,0)
 S VAL=$$LJ^XLFSTR(VALUE,40) S VALUE=VAL_$J($G(OBJ(IEN,.09,"PROMPT")),28)_": "_$G(OBJ(IEN,.09,"E"))
"RTN","TIUHSOLM",45,0)
 S LINE=LINE+1
"RTN","TIUHSOLM",46,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",47,0)
 S VALUE=$J($G(OBJ(IEN,.08,"PROMPT")),29)_": "_$G(OBJ(IEN,.08,"E"))
"RTN","TIUHSOLM",48,0)
 S VAL=$$LJ^XLFSTR(VALUE,40) S VALUE=VAL_$J($G(OBJ(IEN,.1,"PROMPT")),28)_": "_$G(OBJ(IEN,.1,"E"))
"RTN","TIUHSOLM",49,0)
 S LINE=LINE+1
"RTN","TIUHSOLM",50,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",51,0)
 S VALUE=$J("Customized Header",29)_": "_$G(OBJ(IEN,.06,"E"))
"RTN","TIUHSOLM",52,0)
 S VAL=$$LJ^XLFSTR(VALUE,40) S VALUE=VAL_$J($G(OBJ(IEN,.09,"PROMPT")),28)_": "_$G(OBJ(IEN,.09,"E"))
"RTN","TIUHSOLM",53,0)
 S LINE=LINE+1
"RTN","TIUHSOLM",54,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",55,0)
 S VALUE=$J($G(OBJ(IEN,.05,"PROMPT")),29)_": "_$G(OBJ(IEN,.05,"E"))
"RTN","TIUHSOLM",56,0)
 S VAL=$$LJ^XLFSTR(VALUE,40) S VALUE=VAL_$J($G(OBJ(IEN,.12,"PROMPT")),28)_": "_$G(OBJ(IEN,.12,"E"))
"RTN","TIUHSOLM",57,0)
 S LINE=LINE+1
"RTN","TIUHSOLM",58,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",59,0)
 S VALUE=$J($G(OBJ(IEN,.16,"PROMPT")),29)_": "_$G(OBJ(IEN,.16,"E"))
"RTN","TIUHSOLM",60,0)
 S VAL=$$LJ^XLFSTR(VALUE,40) S VALUE=VAL_$J($G(OBJ(IEN,.14,"PROMPT")),28)_": "_$G(OBJ(IEN,.14,"E"))
"RTN","TIUHSOLM",61,0)
 S LINE=LINE+1
"RTN","TIUHSOLM",62,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",63,0)
 S VALUE=$J($G(OBJ(IEN,.2,"PROMPT")),29)_": "_$G(OBJ(IEN,.2,"E"))
"RTN","TIUHSOLM",64,0)
 S VAL=$$LJ^XLFSTR(VALUE,40) S VALUE=VAL_$J($G(OBJ(IEN,.13,"PROMPT")),28)_": "_$G(OBJ(IEN,.13,"E"))
"RTN","TIUHSOLM",65,0)
 S LINE=LINE+1
"RTN","TIUHSOLM",66,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",67,0)
 S VALUE=$$RJ^XLFSTR("Blank Line After Header",68)_": "_$G(OBJ(IEN,.15,"E"))
"RTN","TIUHSOLM",68,0)
 S LINE=LINE+1
"RTN","TIUHSOLM",69,0)
 D SET^VALM10(LINE,VALUE)
"RTN","TIUHSOLM",70,0)
 S VALMCNT=LINE
"RTN","TIUHSOLM",71,0)
 Q
"RTN","TIUHSOLM",72,0)
 ;
"RTN","TIUHSOLM",73,0)
EHSO ;
"RTN","TIUHSOLM",74,0)
 N HSOBNAM,VALUE
"RTN","TIUHSOLM",75,0)
 D FULL^VALM1
"RTN","TIUHSOLM",76,0)
 I $P($G(^GMT(142.5,HSOBJ,0)),U,20)=1 W !,"Can't edit this HS Object:  Only the owner can edit this HS Object" H 2 Q
"RTN","TIUHSOLM",77,0)
 I $P($G(^GMT(142.5,HSOBJ,0)),U,17)'=DUZ W !,"Can't edit this HS Object:  Only the owner can edit this HS Object" H 2 Q
"RTN","TIUHSOLM",78,0)
 S HSOBNAM=$P($G(^GMT(142.5,IEN,0)),U)
"RTN","TIUHSOLM",79,0)
 S VALUE=$$CRE^GMTSOBJ(HSOBNAM)
"RTN","TIUHSOLM",80,0)
 D CLEAN^VALM10
"RTN","TIUHSOLM",81,0)
 D INIT
"RTN","TIUHSOLM",82,0)
 Q
"RTN","TIUHSOLM",83,0)
 ;
"RTN","TIUHSOLM",84,0)
CHST ;
"RTN","TIUHSOLM",85,0)
 N DA,DIC,DIE,DIR,DIROUT,DR,DTOUT,DUOUT,HSIEN,POP,TEXT,X,Y,YESNO
"RTN","TIUHSOLM",86,0)
 D FULL^VALM1
"RTN","TIUHSOLM",87,0)
 I $P($G(^GMT(142.5,HSOBJ,0)),U,20)=1 W !,"Can't edit this National Object" H 2 Q
"RTN","TIUHSOLM",88,0)
 I $P($G(^GMT(142.5,HSOBJ,0)),U,17)'=DUZ W !,"Can't edit this HS Object:  Only the owner can edit this HS Object" H 2 Q
"RTN","TIUHSOLM",89,0)
 W !,"***WARNING*** By changing the HS Type this will change the output data."
"RTN","TIUHSOLM",90,0)
 S DIR(0)="YA0"
"RTN","TIUHSOLM",91,0)
 S DIR("A")="Continue? "
"RTN","TIUHSOLM",92,0)
 S DIR("B")="NO"
"RTN","TIUHSOLM",93,0)
 S DIR("?")="Enter Y or N. For detailed help type ??"
"RTN","TIUHSOLM",94,0)
 D ^DIR
"RTN","TIUHSOLM",95,0)
 I $D(DIROUT) S DTOUT=1
"RTN","TIUHSOLM",96,0)
 I $D(DTOUT)!($D(DUOUT)) Q
"RTN","TIUHSOLM",97,0)
 S YESNO=$E(Y(0))
"RTN","TIUHSOLM",98,0)
 I YESNO="Y" D
"RTN","TIUHSOLM",99,0)
 .S DIC=142,DIC(0)="AEMQ",DIC("S")="I Y'<1",DIC("A")="Enter HEALTH SUMMARY TYPE: "
"RTN","TIUHSOLM",100,0)
 .W ! D ^DIC
"RTN","TIUHSOLM",101,0)
 .I Y=-1 K DIC Q
"RTN","TIUHSOLM",102,0)
 .S HSIEN=+Y
"RTN","TIUHSOLM",103,0)
 .S DIE="^GMT(142.5,",DA=IEN,DR=".03///^S X=HSIEN" D ^DIE
"RTN","TIUHSOLM",104,0)
 .D CLEAN^VALM10
"RTN","TIUHSOLM",105,0)
 .D INIT
"RTN","TIUHSOLM",106,0)
 Q
"RTN","TIUHSOLM",107,0)
 ;
"RTN","TIUHSOLM",108,0)
CREATEHS ;
"RTN","TIUHSOLM",109,0)
 N POP
"RTN","TIUHSOLM",110,0)
 D FULL^VALM1
"RTN","TIUHSOLM",111,0)
 D TYPE^GMTSOBJ(HSTYNAM)
"RTN","TIUHSOLM",112,0)
 W ! S DIR(0)="E" D ^DIR
"RTN","TIUHSOLM",113,0)
 D CLEAN^VALM10
"RTN","TIUHSOLM",114,0)
 D INIT
"RTN","TIUHSOLM",115,0)
 Q
"RTN","TIUHSOLM",116,0)
 ;
"RTN","TIUHSOLM",117,0)
HELP ; -- help code
"RTN","TIUHSOLM",118,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","TIUHSOLM",119,0)
 Q
"RTN","TIUHSOLM",120,0)
 ;
"RTN","TIUHSOLM",121,0)
XQORM ;
"RTN","TIUHSOLM",122,0)
 S XQORM("A")="Select Action: "
"RTN","TIUHSOLM",123,0)
 Q
"RTN","TIUHSOLM",124,0)
 ;
"RTN","TIUHSOLM",125,0)
EXIT ; -- exit code
"RTN","TIUHSOLM",126,0)
 Q
"RTN","TIUHSOLM",127,0)
 ;
"RTN","TIUHSOLM",128,0)
EXPND ; -- expand code
"RTN","TIUHSOLM",129,0)
 Q
"RTN","TIUHSOLM",130,0)
 ;
"RTN","TIUHSV")
0^4^B21908299
"RTN","TIUHSV",1,0)
TIUHSV ;;SLC/AJB,AGP Edit Menu for TIUHS Routines;10/25/02
"RTN","TIUHSV",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**135**;Jun 20, 1997
"RTN","TIUHSV",3,0)
EN(IEN) ; -- main entry point for TIUHSLSV
"RTN","TIUHSV",4,0)
 N MSG
"RTN","TIUHSV",5,0)
 K ^TMP("VALMAR",$J)
"RTN","TIUHSV",6,0)
 D EN^VALM("TIUHSLSV")
"RTN","TIUHSV",7,0)
 Q
"RTN","TIUHSV",8,0)
 ;
"RTN","TIUHSV",9,0)
HDR ; -- header code
"RTN","TIUHSV",10,0)
 N CENTER,HEADER,OBJNAME,OBJNODE,TITLE,VALMHDR
"RTN","TIUHSV",11,0)
 S OBJNODE=^TIU(8925.1,IEN,0)
"RTN","TIUHSV",12,0)
 S OBJNAME=$P($G(OBJNODE),U)
"RTN","TIUHSV",13,0)
 S TITLE="Detailed Display/Edit for "_OBJNAME
"RTN","TIUHSV",14,0)
 S CENTER=(IOM-$L(TITLE))/2
"RTN","TIUHSV",15,0)
 S HEADER=$$SETSTR^VALM1(TITLE,"",CENTER,$L(TITLE))
"RTN","TIUHSV",16,0)
 S VALMHDR(1)=HEADER
"RTN","TIUHSV",17,0)
 Q
"RTN","TIUHSV",18,0)
 ;
"RTN","TIUHSV",19,0)
INIT ; -- init variables and list array
"RTN","TIUHSV",20,0)
 N ANS,CNT,DISP,HSONAME,HSTNAME,HSTYPE,LINE
"RTN","TIUHSV",21,0)
 N NUM,OBJMETD,OBJNAME,OBJNODE,OBJSTAT,OWNER
"RTN","TIUHSV",22,0)
 S OBJNODE=^TIU(8925.1,IEN,0)
"RTN","TIUHSV",23,0)
 S OBJSTAT=$S($P($G(OBJNODE),U,7)=11:"ACTIVE",$P($G(OBJNODE),U,7)=13:"INACTIVE")
"RTN","TIUHSV",24,0)
 S OBJNAME=$P($G(OBJNODE),U)
"RTN","TIUHSV",25,0)
 S OBJMETD=^TIU(8925.1,IEN,9)
"RTN","TIUHSV",26,0)
 S OWNER=$$GET1^DIQ(200,$P($G(OBJNODE),U,5),.01)
"RTN","TIUHSV",27,0)
 I OWNER="" S OWNER="<UNKNOWN> OR 0"
"RTN","TIUHSV",28,0)
 S HSOBJ=$P($P($G(OBJMETD),",",2),")")
"RTN","TIUHSV",29,0)
 I $G(HSOBJ)'=""&($D(^GMT(142.5,HSOBJ))>0) D
"RTN","TIUHSV",30,0)
 . S HSONAME=$$GET1^DIQ(142.5,HSOBJ,.01)
"RTN","TIUHSV",31,0)
 . S HSTYPE=$P($G(^GMT(142.5,HSOBJ,0)),U,3)
"RTN","TIUHSV",32,0)
 . I $G(HSTYPE)'=""&($D(^GMT(142,HSTYPE))>0) S HSTNAME=$$GET1^DIQ(142,HSTYPE,.01)
"RTN","TIUHSV",33,0)
 . E  S HSTNAME="Invalid Health Summary Type IEN"
"RTN","TIUHSV",34,0)
 E  S HSONAME="Invalid Health Summary Object IEN",HSTNAME="Invalid Health Summary Type IEN"
"RTN","TIUHSV",35,0)
 S HSTYPE=$P($G(^GMT(142.5,HSOBJ,0)),U,3)
"RTN","TIUHSV",36,0)
 ;
"RTN","TIUHSV",37,0)
 ;
"RTN","TIUHSV",38,0)
 S LINE=1
"RTN","TIUHSV",39,0)
 S DISP=""
"RTN","TIUHSV",40,0)
 D SET^VALM10(LINE,DISP)
"RTN","TIUHSV",41,0)
 F CNT=1:1:6 D
"RTN","TIUHSV",42,0)
 .S LINE=LINE+1
"RTN","TIUHSV",43,0)
 .S DISP=$P($T(OUTPUT+CNT),";;",2)
"RTN","TIUHSV",44,0)
 .S ANS=$S(CNT=1:OBJNAME,CNT=2:OWNER,CNT=3:OBJSTAT,CNT=4:HSONAME,CNT=5:HSTNAME,CNT=6:OBJMETD)
"RTN","TIUHSV",45,0)
 .S DISP=($J(DISP,25))_" "_ANS
"RTN","TIUHSV",46,0)
 .D SET^VALM10(LINE,DISP)
"RTN","TIUHSV",47,0)
 S VALMCNT=LINE
"RTN","TIUHSV",48,0)
 Q
"RTN","TIUHSV",49,0)
OUTPUT ;
"RTN","TIUHSV",50,0)
 ;;TIU Object Name:
"RTN","TIUHSV",51,0)
 ;;Owner:
"RTN","TIUHSV",52,0)
 ;;Status:
"RTN","TIUHSV",53,0)
 ;;HS Object:
"RTN","TIUHSV",54,0)
 ;;HS Type:
"RTN","TIUHSV",55,0)
 ;;Technical Field:
"RTN","TIUHSV",56,0)
 ;
"RTN","TIUHSV",57,0)
TIUN ;
"RTN","TIUHSV",58,0)
 D FULL^VALM1
"RTN","TIUHSV",59,0)
 D EDIT^TIUHSOBJ(IEN)
"RTN","TIUHSV",60,0)
 D CLEAN^VALM10
"RTN","TIUHSV",61,0)
 D INIT
"RTN","TIUHSV",62,0)
 Q
"RTN","TIUHSV",63,0)
 ;
"RTN","TIUHSV",64,0)
HSEDIT ;
"RTN","TIUHSV",65,0)
 N DIC,DIR,DIR,DIROUT,DTOUT,DUOUT,HIEN,POP,TEXT,X,Y,YESNO
"RTN","TIUHSV",66,0)
 D FULL^VALM1
"RTN","TIUHSV",67,0)
 I DUZ'=$P($G(^TIU(8925.1,IEN,0)),U,5) W !,"Can't edit this TIU Object:  Only the owner can edit this TIU Object" H 2 Q
"RTN","TIUHSV",68,0)
 W !,"***WARNING***",!,"Changing the HS Object will change the output data and may change the HS Type."
"RTN","TIUHSV",69,0)
 S DIR(0)="YA0"
"RTN","TIUHSV",70,0)
 S DIR("A")="Continue? "
"RTN","TIUHSV",71,0)
 S DIR("B")="NO"
"RTN","TIUHSV",72,0)
 S DIR("?")="Enter Y or N. For detailed help type ??"
"RTN","TIUHSV",73,0)
 D ^DIR
"RTN","TIUHSV",74,0)
 I $D(DIROUT) S DTOUT=1
"RTN","TIUHSV",75,0)
 I $D(DTOUT)!($D(DUOUT)) Q
"RTN","TIUHSV",76,0)
 S YESNO=$E(Y(0))
"RTN","TIUHSV",77,0)
 I YESNO="Y" D
"RTN","TIUHSV",78,0)
 .S DIC=142.5,DIC(0)="AEMQ",DIC("S")="I Y'<1",DIC("A")="Enter HEALTH SUMMARY OBJECT: "
"RTN","TIUHSV",79,0)
 .W ! D ^DIC
"RTN","TIUHSV",80,0)
 .I Y=-1 K DIC Q
"RTN","TIUHSV",81,0)
 .S HIEN=+Y
"RTN","TIUHSV",82,0)
 .S ^TIU(8925.1,IEN,9)="S X=$$TIU^GMTSOBJ(DFN,"_HIEN_")"
"RTN","TIUHSV",83,0)
 D CLEAN^VALM10
"RTN","TIUHSV",84,0)
 D INIT
"RTN","TIUHSV",85,0)
 Q
"RTN","TIUHSV",86,0)
 ;
"RTN","TIUHSV",87,0)
CHHST ;
"RTN","TIUHSV",88,0)
 N DA,DIC,DIE,DIR,DIROUT,DR,DTOUT,DUOUT,HSIEN,POP,TEXT,X,Y,YESNO
"RTN","TIUHSV",89,0)
 I $P($G(^GMT(142.5,HSOBJ,0)),U,20)=1 W !,"Can't edit this National Object." H 2 Q
"RTN","TIUHSV",90,0)
 I $P($G(^GMT(142.5,HSOBJ,0)),U,17)'=DUZ W !,"Can't edit this HS object:  Only the owner can edit this HS object." H 2 Q
"RTN","TIUHSV",91,0)
 W !,"***WARNING*** Changing the HS Type will change the output data."
"RTN","TIUHSV",92,0)
 S DIR(0)="YA0"
"RTN","TIUHSV",93,0)
 S DIR("A")="Continue? "
"RTN","TIUHSV",94,0)
 S DIR("B")="NO"
"RTN","TIUHSV",95,0)
 S DIR("?")="Enter Y or N. For detailed help type ??"
"RTN","TIUHSV",96,0)
 D ^DIR
"RTN","TIUHSV",97,0)
 I $D(DIROUT) S DTOUT=1
"RTN","TIUHSV",98,0)
 I $D(DTOUT)!($D(DUOUT)) Q
"RTN","TIUHSV",99,0)
 S YESNO=$E(Y(0))
"RTN","TIUHSV",100,0)
 I YESNO="Y" D
"RTN","TIUHSV",101,0)
 .S DIC=142,DIC(0)="AEMQ",DIC("S")="I Y'<1",DIC("A")="Enter HEALTH SUMMARY TYPE: "
"RTN","TIUHSV",102,0)
 .W ! D ^DIC
"RTN","TIUHSV",103,0)
 .I Y=-1 K DIC Q
"RTN","TIUHSV",104,0)
 .S HSIEN=+Y
"RTN","TIUHSV",105,0)
 .S DIE="^GMT(142.5,",DA=HSOBJ,DR=".03///^S X=HSIEN" D ^DIE
"RTN","TIUHSV",106,0)
 D CLEAN^VALM10
"RTN","TIUHSV",107,0)
 D INIT
"RTN","TIUHSV",108,0)
 Q
"RTN","TIUHSV",109,0)
 ;
"RTN","TIUHSV",110,0)
HSOBJ ;
"RTN","TIUHSV",111,0)
 D FULL^VALM1
"RTN","TIUHSV",112,0)
 N HSTYNAM,YESNO
"RTN","TIUHSV",113,0)
 S YESNO="Y"
"RTN","TIUHSV",114,0)
 I $D(^GMT(142.5,HSOBJ,0))=0 D
"RTN","TIUHSV",115,0)
 . W !,"No HS Object found. Create new HS Object now?"
"RTN","TIUHSV",116,0)
 . S DIR(0)="YA0"
"RTN","TIUHSV",117,0)
 . S DIR("B")="NO"
"RTN","TIUHSV",118,0)
 . S DIR("?")="Enter Y or N. For detailed help type ??"
"RTN","TIUHSV",119,0)
 . D ^DIR
"RTN","TIUHSV",120,0)
 . I $D(DIROUT) S DTOUT=1
"RTN","TIUHSV",121,0)
 . I $D(DTOUT)!($D(DUOUT)) S YESNO="N" Q
"RTN","TIUHSV",122,0)
 . S YESNO=$E(Y(0))
"RTN","TIUHSV",123,0)
 . I YESNO="Y" S HSOBJ=$$CRE^GMTSOBJ()
"RTN","TIUHSV",124,0)
 I $G(YESNO)="Y"&(HSOBJ>0) D
"RTN","TIUHSV",125,0)
 . S ^TIU(8925.1,IEN,9)="S X=$$TIU^GMTSOBJ(DFN,"_HSOBJ_")"
"RTN","TIUHSV",126,0)
 . D EN^TIUHSOLM(HSOBJ,IEN)
"RTN","TIUHSV",127,0)
 D CLEAN^VALM10
"RTN","TIUHSV",128,0)
 D INIT
"RTN","TIUHSV",129,0)
 Q
"RTN","TIUHSV",130,0)
 ;
"RTN","TIUHSV",131,0)
HELP ; -- help code
"RTN","TIUHSV",132,0)
 N X
"RTN","TIUHSV",133,0)
 S X="?" D DISP^XQORM1 W !!
"RTN","TIUHSV",134,0)
 Q
"RTN","TIUHSV",135,0)
 ;
"RTN","TIUHSV",136,0)
EXIT ; -- exit code
"RTN","TIUHSV",137,0)
 Q
"RTN","TIUHSV",138,0)
 ;
"RTN","TIUHSV",139,0)
EXPND ; -- expand code
"RTN","TIUHSV",140,0)
 Q
"RTN","TIUHSV",141,0)
 ;
"VER")
8.0^22.0
**END**
**END**
