$TXT Created by ORMSBY,SKIP at FM22-PATCH.FO-OAKLAND.MED.VA.GOV  (KIDS) on Friday, 08/11/06 at 06:20
=============================================================================
Run Date: JUN 04, 2007                     Designation: DI*22*149
Package : DI - VA FILEMAN                     Priority: Mandatory
Version : 22       SEQ #135                     Status: Released
                  Compliance Date: JUL 05, 2007
=============================================================================

Associated patches: (v)DI*22*40    <<= must be installed BEFORE `DI*22*149'
                    (v)DI*22*133   <<= must be installed BEFORE `DI*22*149'

Subject: FRAMESTACK Look Up Error

Category: 
  - Routine

Description:
============

                               ** Notice**
  **See "Installation Instructions" section for Installation Warning **
  
 This patch corrects the following issues:
  
 1.  When using the FileMan's Classic Applications Programmer
 Interface(API): DIC, look up, and the value entered by the user contains a
 control character, who's $Character value is 233 or greater a FRAMESTACK
 error would occur.
 Routine: DICM
  
 2.  The local variable DILOCKTM, the amount of time FileMan will wait 
 for a Lock, will now be initialized when the FileMan 's Classic
 Applications Programmer Interface(API): DT^DICRW is called.
 Routine: DICRW
  
 3.   If a developer passes to FileMan's Data Base Server(DBS) call: 
 $$GET1^DIQ, a field that doesn't exist, the value returned would be the 
 field number and not an error.  After this patch has been installed, the 
 following error will now be returned:
 200 - An input variable or parameter is missing or invalid.
 Routine: DIQG
  
 Documentation Changes
 =====================
  -None-
  
 Blood Bank Clearance
 ====================
 Clearance - Aug 14, 2006
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch DI*22*149 contains 
 changes to a package referenced in VHA OI SEPG SOP 192-023 Review of 
 VISTA Patches for Effects on VISTA Blood Bank Software. This patch does 
 not alter or modify any VistA Blood Bank software design safeguards or 
 safety critical elements functions.
  
 RISK ANALYSIS: Changes made by patch DI*22*149 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 Remedy Ticket
 =============
  147215; 152077
  
 Thanks to Test Site 
 ====================
  BRONX, NY
  IRON MOUNTAIN, MI
  SALISBURY, NC
  
 Routine Summary: 
 ================
  The following routine(s) are included in this patch.  The second line of 
  these routine(s) now look like: 
   
   <tab>;;22.0;VA FileMan;**[patch list]**;Mar 30, 1999 
   
   CHECK^XTSUMBLD results: 
   Routine Name   Before Patch    After Patch     Patch List 
   ============   ============    ===========     ==========
   DI149ENV       N/A             3091731         149
   DICM           8513123         8454773         4,20,31,40,149
   DICRW          6532741         6634777         149
   DIQG           15160997        15499803        76,118,133,149
  
 Note: Routine: DI149ENV issues a warning during the installation of 
 this patch if it appears that TaskMan is still running and/or logons have
 not been inhibited.
  
 Installation Instructions:
 =========================
 ** Although queuing of this patch is allowed, it is HIGHLY recommended 
 that ALL Users be off the system and VISTA Background jobs be STOPPED 
 before this patch is installed. Failure to do so may result in 'source 
 routine edited' errors during a database update. Edits may be lost and 
 records may be left in an inconsistent state. An error that occurs before 
 a cross-reference is executed, for example, may lead to corrupted data or 
 hard errors in the future. **
  
 The following installation instructions are based upon the premise that 
 the installer has heeded the above warning.
  
 Installation should take less than a minute.
  
      1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This 
 option will load the KIDS package onto your system.
  
      2.  The patch has now been loaded into a transport global on your 
 system. You now need to use KIDS to install the transport global.
  
      3.  On the KIDS menu, under the 'Installation' menu, use the 
 following options:
  
            Print Transport Global
            Compare Transport Global to Current System
            Verify Checksums in Transport Global
            Backup a Transport Global
  
      4.  In accordance with the warning at the beginning of the 
 installation instructions, make sure ALL interactive processes, and ALL 
 non-interactive background jobs are stopped following your site specific 
 procedures.  NOT performing this step could result in 'source routine
 edited' errors during database updates, and records may be left in an
 inconsistent state.
  
      5.  On the KIDS menu, under the 'Installation' menu, use the 
 following option:
  
            Select Installation Option: Install Package(s)
            Select INSTALL NAME: DI*22.0*149
                                 ===========
  
 The Environment Check Routine DI149ENV runs automatically during this
 step. DI149ENV issues a warning if it appears that TaskMan is still 
 running or logons have not been inhibited.
  
            Answer 'YES' to 'Want KIDS to INHIBIT LOGONs during the 
 install?'
            Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu 
 Options, and Protocols?
  
      6.  Reenable all processes stopped in step 4 above.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DI149ENV
    Before:       n/a  After:  B5665116  **149**
Routine Name: DICM
    Before: B29893266  After: B29790678  **4,20,31,40,149**
Routine Name: DICRW
    Before: B13105146  After: B13427185  **149**
Routine Name: DIQG
    Before: B35600880  After: B36192228  **76,118,133,149**

=============================================================================
User Information:
Entered By  : ORMSBY,SKIP                   Date Entered  : JUN 23, 2006
Completed By: SINGH,GURBIR                  Date Completed: MAY 29, 2007
Released By : HARROD,PAUL                   Date Released : JUN 04, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
