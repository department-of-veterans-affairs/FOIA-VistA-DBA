Released USR*1*25 SEQ #26
Extracted from mail message
**KIDS**:USR*1.0*25^

**INSTALL NAME**
USR*1.0*25
"BLD",4821,0)
USR*1.0*25^AUTHORIZATION/SUBSCRIPTION^0^3040412^y
"BLD",4821,1,0)
^^2^2^3040217^^^
"BLD",4821,1,1,0)
The description of this patch may be found under the National Patch Module 
"BLD",4821,1,2,0)
under USR*1.0*25.
"BLD",4821,4,0)
^9.64PA^^
"BLD",4821,"ABPKG")
n
"BLD",4821,"KRN",0)
^9.67PA^8989.52^19
"BLD",4821,"KRN",.4,0)
.4
"BLD",4821,"KRN",.401,0)
.401
"BLD",4821,"KRN",.402,0)
.402
"BLD",4821,"KRN",.403,0)
.403
"BLD",4821,"KRN",.5,0)
.5
"BLD",4821,"KRN",.84,0)
.84
"BLD",4821,"KRN",3.6,0)
3.6
"BLD",4821,"KRN",3.8,0)
3.8
"BLD",4821,"KRN",9.2,0)
9.2
"BLD",4821,"KRN",9.8,0)
9.8
"BLD",4821,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4821,"KRN",9.8,"NM",1,0)
USRLM^^0^B43938978
"BLD",4821,"KRN",9.8,"NM","B","USRLM",1)

"BLD",4821,"KRN",19,0)
19
"BLD",4821,"KRN",19.1,0)
19.1
"BLD",4821,"KRN",101,0)
101
"BLD",4821,"KRN",409.61,0)
409.61
"BLD",4821,"KRN",771,0)
771
"BLD",4821,"KRN",870,0)
870
"BLD",4821,"KRN",8989.51,0)
8989.51
"BLD",4821,"KRN",8989.52,0)
8989.52
"BLD",4821,"KRN",8994,0)
8994
"BLD",4821,"KRN","B",.4,.4)

"BLD",4821,"KRN","B",.401,.401)

"BLD",4821,"KRN","B",.402,.402)

"BLD",4821,"KRN","B",.403,.403)

"BLD",4821,"KRN","B",.5,.5)

"BLD",4821,"KRN","B",.84,.84)

"BLD",4821,"KRN","B",3.6,3.6)

"BLD",4821,"KRN","B",3.8,3.8)

"BLD",4821,"KRN","B",9.2,9.2)

"BLD",4821,"KRN","B",9.8,9.8)

"BLD",4821,"KRN","B",19,19)

"BLD",4821,"KRN","B",19.1,19.1)

"BLD",4821,"KRN","B",101,101)

"BLD",4821,"KRN","B",409.61,409.61)

"BLD",4821,"KRN","B",771,771)

"BLD",4821,"KRN","B",870,870)

"BLD",4821,"KRN","B",8989.51,8989.51)

"BLD",4821,"KRN","B",8989.52,8989.52)

"BLD",4821,"KRN","B",8994,8994)

"BLD",4821,"QUES",0)
^9.62^^
"BLD",4821,"REQB",0)
^9.611^1^1
"BLD",4821,"REQB",1,0)
USR*1.0*16^2
"BLD",4821,"REQB","B","USR*1.0*16",1)

"MBREQ")
0
"PKG",515,-1)
1^1
"PKG",515,0)
AUTHORIZATION/SUBSCRIPTION^USR^User Authorization
"PKG",515,20,0)
^9.402P^^
"PKG",515,22,0)
^9.49I^1^1
"PKG",515,22,1,0)
1.0^2970620^2970815^11712
"PKG",515,22,1,"PAH",1,0)
25^3040412^1788
"PKG",515,22,1,"PAH",1,1,0)
^^2^2^3040412
"PKG",515,22,1,"PAH",1,1,1,0)
The description of this patch may be found under the National Patch Module 
"PKG",515,22,1,"PAH",1,1,2,0)
under USR*1.0*25.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","USRLM")
0^1^B43938978
"RTN","USRLM",1,0)
USRLM ; SLC/JER - User Class Membership functions and proc's ; Jan 1, 2004
"RTN","USRLM",2,0)
 ;;1.0;AUTHORIZATION/SUBSCRIPTION;**2,3,6,7,8,13,16,25**;Jun 20, 1997
"RTN","USRLM",3,0)
 ; 15 Dec 99 MA - Modified entry point TERM
"RTN","USRLM",4,0)
 ; 14 Feb 00 MA - Add check to verify that x-ref AUC has valid 0 node.
"RTN","USRLM",5,0)
 ; 27 Jun 00 MA - Changed WHOIS to build array in alphabetical order
"RTN","USRLM",6,0)
 ;                by subscriber name.
"RTN","USRLM",7,0)
ISA(USER,CLASS,ERR,USRDT) ; Boolean - Is USER a Member of CLASS?
"RTN","USRLM",8,0)
 N USRY,USRI
"RTN","USRLM",9,0)
 I $S(CLASS="USER":1,CLASS=+$O(^USR(8930,"B","USER",0)):1,1:0) S USRY=1 G ISAX
"RTN","USRLM",10,0)
 I '+USER S USER=+$O(^VA(200,"B",USER,0))
"RTN","USRLM",11,0)
 I +USER'>0 S ERR="INVALID USER" Q 0
"RTN","USRLM",12,0)
 I '+CLASS S CLASS=+$O(^USR(8930,"B",CLASS,0))
"RTN","USRLM",13,0)
 I +CLASS'>0 S ERR="INVALID USER CLASS" Q 0
"RTN","USRLM",14,0)
 ; If USER is a member of CLASS return true
"RTN","USRLM",15,0)
 S USRY=0
"RTN","USRLM",16,0)
 I +$D(^USR(8930.3,"AUC",USER,CLASS)) D
"RTN","USRLM",17,0)
 . N USRMDA
"RTN","USRLM",18,0)
 . S USRMDA=0
"RTN","USRLM",19,0)
 . F  S USRMDA=+$O(^USR(8930.3,"AUC",USER,CLASS,USRMDA)) Q:((+USRMDA'>0)!(USRY))  D
"RTN","USRLM",20,0)
 .. S USRY=+$$CURRENT(USRMDA,$G(USRDT))
"RTN","USRLM",21,0)
 I USRY Q USRY
"RTN","USRLM",22,0)
 ; Otherwise, check to see if user is a member of any subclass of CLASS
"RTN","USRLM",23,0)
 S USRI=0
"RTN","USRLM",24,0)
 F  S USRI=$O(^USR(8930,+CLASS,1,USRI)) Q:+USRI'>0!+$G(USRY)  D
"RTN","USRLM",25,0)
 . N USRSUB S USRSUB=+$G(^USR(8930,+CLASS,1,USRI,0)) Q:+USRSUB'>0
"RTN","USRLM",26,0)
 . S USRY=$$ISA(USER,USRSUB,,+$G(USRDT)) ; Recurs to find members of subclass
"RTN","USRLM",27,0)
ISAX Q +$G(USRY)
"RTN","USRLM",28,0)
 ;======================================================================
"RTN","USRLM",29,0)
ISAWM(USER,CLASS) ; Boolean - Is USER a Member of CLASS, with message.
"RTN","USRLM",30,0)
 I $$ISA(USER,CLASS) D  Q 1
"RTN","USRLM",31,0)
 . W !,"Already a member of this class"
"RTN","USRLM",32,0)
 . H 2
"RTN","USRLM",33,0)
 E  Q 0
"RTN","USRLM",34,0)
 ;
"RTN","USRLM",35,0)
 ;======================================================================
"RTN","USRLM",36,0)
CURRENT(MEMBER,USRDT) ; Boolean - Is Membership current?
"RTN","USRLM",37,0)
 N USRIN,USROUT,USRY
"RTN","USRLM",38,0)
 I +$G(USRDT)'>0 S USRDT=DT
"RTN","USRLM",39,0)
 S USRIN=+$P($G(^USR(8930.3,+MEMBER,0)),U,3)
"RTN","USRLM",40,0)
 S USROUT=+$P($G(^USR(8930.3,+MEMBER,0)),U,4)
"RTN","USRLM",41,0)
 I USRIN'>USRDT,$S(USROUT>0&(USROUT'<USRDT):1,USROUT=0:1,1:0) S USRY=1
"RTN","USRLM",42,0)
 E  S USRY=0
"RTN","USRLM",43,0)
 Q USRY
"RTN","USRLM",44,0)
 ;
"RTN","USRLM",45,0)
 ;======================================================================
"RTN","USRLM",46,0)
ISTERM(USER) ;Return true if USER has a termination date and that date
"RTN","USRLM",47,0)
 ;is less than the current date and time. The read is covered by
"RTN","USRLM",48,0)
 ;DBIA 10060
"RTN","USRLM",49,0)
 N TERM,TERMDATE
"RTN","USRLM",50,0)
 S TERM=0
"RTN","USRLM",51,0)
 I '$D(^VA(200,+USER,0)) D
"RTN","USRLM",52,0)
 . S TERMDATE=0
"RTN","USRLM",53,0)
 . W !,"Warning bad data DUZ=",+USER," found in file 8930.3 but does not exist in file 200!"
"RTN","USRLM",54,0)
 . H 3
"RTN","USRLM",55,0)
 E  S TERMDATE=+$P(^VA(200,+USER,0),U,11)
"RTN","USRLM",56,0)
 I (TERMDATE>0) D
"RTN","USRLM",57,0)
 . I TERMDATE<$$NOW^XLFDT S TERM=1
"RTN","USRLM",58,0)
 Q TERM
"RTN","USRLM",59,0)
 ;
"RTN","USRLM",60,0)
 ;======================================================================
"RTN","USRLM",61,0)
RESIZE(LONG,SHORT,SHRINK) ; Resizes list area
"RTN","USRLM",62,0)
 N USRBM S USRBM=$S(VALMMENU:SHORT,+$G(SHRINK):SHORT,1:LONG)
"RTN","USRLM",63,0)
 I VALM("BM")'=USRBM S VALMBCK="R" D
"RTN","USRLM",64,0)
 . S VALM("BM")=USRBM,VALM("LINES")=(USRBM-VALM("TM"))+1
"RTN","USRLM",65,0)
 . I +$G(VALMCC) D RESET^VALM4
"RTN","USRLM",66,0)
 Q
"RTN","USRLM",67,0)
 ;======================================================================
"RTN","USRLM",68,0)
TERM ;Actions to be taken when a user is terminated. Invoked by
"RTN","USRLM",69,0)
 ;XU USER TERMINATE. XUIFN is the user being terminated.
"RTN","USRLM",70,0)
 ;15 DEC 99 MA - Replaced $$NOW^XLFDT with DT.  Piece 4 does
"RTN","USRLM",71,0)
 ;not need the time.  Piece 4 is date only.
"RTN","USRLM",72,0)
 N IND,OLDTERM,NOW
"RTN","USRLM",73,0)
 S NOW=DT
"RTN","USRLM",74,0)
 S IND=""
"RTN","USRLM",75,0)
 F  S IND=$O(^USR(8930.3,"B",XUIFN,IND)) Q:IND=""  D
"RTN","USRLM",76,0)
 . S OLDTERM=+$P($G(^USR(8930.3,IND,0)),U,4)
"RTN","USRLM",77,0)
 . I (OLDTERM>0)&(OLDTERM<NOW) Q
"RTN","USRLM",78,0)
 . S $P(^USR(8930.3,IND,0),U,4)=NOW
"RTN","USRLM",79,0)
 Q
"RTN","USRLM",80,0)
 ;
"RTN","USRLM",81,0)
 ;======================================================================
"RTN","USRLM",82,0)
WHOIS(MEMBER,CLASS) ; Given a Class, return list of CURRENT members
"RTN","USRLM",83,0)
 ; CLASS is pointer to file 8930
"RTN","USRLM",84,0)
 ; MEMBER is name of array (local or global) in which members are
"RTN","USRLM",85,0)
 ;        returned in alphabetical order by name
"RTN","USRLM",86,0)
 N USER,USRCLNM,USRCNT,USRDA,EFFCTV,EXPIRES,USRI,USRNAME
"RTN","USRLM",87,0)
 S USER=0,USRCNT=+$P($G(@MEMBER@(0)),U,3)
"RTN","USRLM",88,0)
 F  S USER=$O(^USR(8930.3,"ACU",CLASS,USER)) Q:+USER'>0  D
"RTN","USRLM",89,0)
 . S USRDA=$O(^USR(8930.3,"ACU",CLASS,USER,0)) Q:+USRDA'>0
"RTN","USRLM",90,0)
 . S EFFCTV=$P($G(^USR(8930.3,+USRDA,0)),U,3)
"RTN","USRLM",91,0)
 . S EXPIRES=$P($G(^USR(8930.3,+USRDA,0)),U,4)
"RTN","USRLM",92,0)
 . S USRCLNM=$$CLNAME(+CLASS)
"RTN","USRLM",93,0)
 . S USRNAME=$$GET1^DIQ(200,USER,.01)
"RTN","USRLM",94,0)
 . S @MEMBER@(USRNAME)=USER_U_USRDA_U_USRCLNM_U_EFFCTV_U_EXPIRES
"RTN","USRLM",95,0)
 . S USRCNT=+$G(USRCNT)+1
"RTN","USRLM",96,0)
 I '$D(@MEMBER@(0)) S @MEMBER@(0)=CLASS_U_$P($G(^USR(8930,+CLASS,0)),U)_U
"RTN","USRLM",97,0)
 S $P(@MEMBER@(0),U,3)=USRCNT
"RTN","USRLM",98,0)
 S USRI=0 F  S USRI=$O(^USR(8930,+CLASS,1,USRI)) Q:+USRI'>0  D
"RTN","USRLM",99,0)
 . N USRSUB S USRSUB=+$G(^USR(8930,+CLASS,1,USRI,0)) Q:+USRSUB'>0
"RTN","USRLM",100,0)
 . D WHOIS(MEMBER,USRSUB) ; Recurs to find members of subclass
"RTN","USRLM",101,0)
 Q
"RTN","USRLM",102,0)
WHOIS2(MEMBER,CLASS) ; Given a Class, return list of CURRENT members
"RTN","USRLM",103,0)
 ; CLASS is pointer to file 8930
"RTN","USRLM",104,0)
 ; MEMBER is name of array (local or global) in which members are
"RTN","USRLM",105,0)
 ;        returned in alphabetical order by name - indexed by number
"RTN","USRLM",106,0)
 ;       i.e. @MEMBER@(1 ...n)
"RTN","USRLM",107,0)
 ;  @member@(0) = ien of8930^usr class name^count of members
"RTN","USRLM",108,0)
 ;  @member@(1..n)=
"RTN","USRLM",109,0)
 ;    1    2        3          4         5        6       7      8
"RTN","USRLM",110,0)
 ;  p200^p8930.3^classname^effectdate^inactdate^username^title^mailcode
"RTN","USRLM",111,0)
 ;  Note: For pieces 2,4 & 5 - Only one of potentially many is returned
"RTN","USRLM",112,0)
 ;
"RTN","USRLM",113,0)
 N USER,USRNM,USRCLNM,USRCNT,USRDA,USRNDX,EFFCTV,EXPIRES,USRI
"RTN","USRLM",114,0)
 D WHOISTMP(.CLASS)
"RTN","USRLM",115,0)
 S USRNM="",USRNDX=0
"RTN","USRLM",116,0)
 F  S USRNM=$O(^TMP($J,"USRWHO2","B",USRNM)) Q:USRNM']""  D
"RTN","USRLM",117,0)
 . S USER=0 F  S USER=$O(^TMP($J,"USRWHO2","B",USRNM,USER)) Q:'USER  D
"RTN","USRLM",118,0)
 . . S USRNDX=USRNDX+1
"RTN","USRLM",119,0)
 . . S @MEMBER@(USRNDX)=^TMP($J,"USRWHO2",USER)
"RTN","USRLM",120,0)
 S @MEMBER@(0)=^TMP($J,"USRWHO2",0)
"RTN","USRLM",121,0)
 S $P(@MEMBER@(0),U,3)=USRNDX
"RTN","USRLM",122,0)
 K ^TMP($J,"USRWHO2")
"RTN","USRLM",123,0)
 Q
"RTN","USRLM",124,0)
WHOISTMP(CLASS) ; Given a Class, return list of CURRENT members into ^TMP
"RTN","USRLM",125,0)
 ; CLASS is pointer to file 8930
"RTN","USRLM",126,0)
 ; MEMBER is name of array (local or global) in which members are
"RTN","USRLM",127,0)
 ;        returned in order by user/x-ref by name
"RTN","USRLM",128,0)
 ;        main = ^tmp($j,"USRWHO2",user)
"RTN","USRLM",129,0)
 ;        x-ref= ^tmp($j,"USRWHO2","b",usrnm,user)
"RTN","USRLM",130,0)
 ;  -- used by whois2 call
"RTN","USRLM",131,0)
 N USER,USRNM,USRCLNM,USRCNT,USRDA,EFFCTV,EXPIRES,USRI,USRMC,USRTIT,USRX
"RTN","USRLM",132,0)
 S USER=0,USRCNT=+$P($G(@MEMBER@(0)),U,3)
"RTN","USRLM",133,0)
 F  S USER=$O(^USR(8930.3,"ACU",CLASS,USER)) Q:+USER'>0  D
"RTN","USRLM",134,0)
 . S USRDA=$O(^USR(8930.3,"ACU",CLASS,USER,0)) Q:+USRDA'>0
"RTN","USRLM",135,0)
 . S EFFCTV=$P($G(^USR(8930.3,+USRDA,0)),U,3)
"RTN","USRLM",136,0)
 . S EXPIRES=$P($G(^USR(8930.3,+USRDA,0)),U,4)
"RTN","USRLM",137,0)
 . S USRNM=$P($G(^VA(200,+USER,0)),U)
"RTN","USRLM",138,0)
 . S USRX=$P($G(^VA(200,+USER,0)),U,9)
"RTN","USRLM",139,0)
 . S USRTIT=$$EXTERNAL^DILFD(200,8,"",USRX)
"RTN","USRLM",140,0)
 . S USRMC=$P($G(^VA(200,+USER,5)),U,2)
"RTN","USRLM",141,0)
 . S USRCLNM=$$CLNAME(+CLASS)
"RTN","USRLM",142,0)
 . S ^TMP($J,"USRWHO2",USER)=USER_U_USRDA_U_USRCLNM_U_EFFCTV_U_EXPIRES_U_USRNM_U_USRTIT_U_USRMC
"RTN","USRLM",143,0)
 . S ^TMP($J,"USRWHO2","B",USRNM,USER)=""
"RTN","USRLM",144,0)
 . S USRCNT=+$G(USRCNT)+1
"RTN","USRLM",145,0)
 I '$D(^TMP($J,"USRWHO2",0))#2 S ^TMP($J,"USRWHO2",0)=CLASS_U_$P($G(^USR(8930,+CLASS,0)),U)_U
"RTN","USRLM",146,0)
 S $P(^TMP($J,"USRWHO2",0),U,3)=USRCNT
"RTN","USRLM",147,0)
 S USRI=0 F  S USRI=$O(^USR(8930,+CLASS,1,USRI)) Q:+USRI'>0  D
"RTN","USRLM",148,0)
 . N USRSUB S USRSUB=+$G(^USR(8930,+CLASS,1,USRI,0)) Q:+USRSUB'>0
"RTN","USRLM",149,0)
 . D WHOISTMP(USRSUB) ; Recurs to find members of subclass
"RTN","USRLM",150,0)
 Q
"RTN","USRLM",151,0)
WHATIS(USER,CLASS) ; Given a User, return list of class memberships
"RTN","USRLM",152,0)
 ; USER is pointer to file 200
"RTN","USRLM",153,0)
 ; CLASS is name of array (local or global) in which the list of
"RTN","USRLM",154,0)
 ;       classes to which the USER belongs will be returned in
"RTN","USRLM",155,0)
 ;       alphabetic order by class name
"RTN","USRLM",156,0)
 N IND,GROUP,CLASSNM,CLASSCNT,USRDA,EFFCTV,EXPIRES
"RTN","USRLM",157,0)
 S (CLASSCNT,IND,GROUP)=0
"RTN","USRLM",158,0)
 F  S GROUP=$O(^USR(8930.3,"AUC",USER,GROUP)) Q:+GROUP'>0  D
"RTN","USRLM",159,0)
 . S USRDA=0
"RTN","USRLM",160,0)
 . F  S USRDA=$O(^USR(8930.3,"AUC",USER,GROUP,USRDA)) Q:+USRDA'>0  D
"RTN","USRLM",161,0)
 .. S EFFCTV=$P($G(^USR(8930.3,+USRDA,0)),U,3)
"RTN","USRLM",162,0)
 .. S EXPIRES=$P($G(^USR(8930.3,+USRDA,0)),U,4)
"RTN","USRLM",163,0)
 .. S CLASSNM=$$CLNAME(+GROUP)
"RTN","USRLM",164,0)
 .. S IND=IND+1
"RTN","USRLM",165,0)
 .. S @CLASS@(CLASSNM_IND)=GROUP_U_USRDA_U_CLASSNM_U_EFFCTV_U_EXPIRES
"RTN","USRLM",166,0)
 .. S CLASSCNT=+$G(CLASSCNT)+1
"RTN","USRLM",167,0)
 S @CLASS@(0)=USER_U_$$SIGNAME^USRLS(+USER)_U_CLASSCNT
"RTN","USRLM",168,0)
 Q
"RTN","USRLM",169,0)
CLNAME(CLASS) ; Given a class, return the Display Name
"RTN","USRLM",170,0)
 N USRREC,USRY
"RTN","USRLM",171,0)
 S USRREC=$G(^USR(8930,+CLASS,0))
"RTN","USRLM",172,0)
 Q $S($P(USRREC,U,4)]"":$P(USRREC,U,4),1:$$MIXED^USRLS($P(USRREC,U)))
"RTN","USRLM",173,0)
PUT(USER,CLASS) ; Make user a member of a given class
"RTN","USRLM",174,0)
 N DIC,DLAYGO,DA,DR,DIE,X,Y
"RTN","USRLM",175,0)
 S (DIC,DLAYGO)=8930.3,DIC(0)="LXF",X=""""_"`"_USER_"""" D ^DIC Q:+Y'>0
"RTN","USRLM",176,0)
 S DIE=DIC,DA=+Y,DR=".02///"_CLASS_";.03///"_DT
"RTN","USRLM",177,0)
 D ^DIE
"RTN","USRLM",178,0)
 Q
"RTN","USRLM",179,0)
SUBCLASS(DA,CLASS) ; Evaluate whether a given USER CLASS is a DESCENDENT
"RTN","USRLM",180,0)
 ;                 of another class
"RTN","USRLM",181,0)
 ; Receives DA = record # of possible subclass in 8930, and
"RTN","USRLM",182,0)
 ;       CLASS = record # of possible descendent class in 8930
"RTN","USRLM",183,0)
 N USRI,USRY S (USRI,USRY)=0
"RTN","USRLM",184,0)
 I +$G(DA)'>0 S DA=+$O(^USR(8930,"B",DA,0))
"RTN","USRLM",185,0)
 I +$G(CLASS)'>0 S CLASS=+$O(^USR(8930,"B",CLASS,0))
"RTN","USRLM",186,0)
 F  S USRI=$O(^USR(8930,"AD",DA,USRI)) Q:+USRI'>0!(USRY=1)  D
"RTN","USRLM",187,0)
 . I USRI=CLASS S USRY=1 Q
"RTN","USRLM",188,0)
 . S USRY=$$SUBCLASS(USRI,CLASS)
"RTN","USRLM",189,0)
 Q USRY
"RTN","USRLM",190,0)
CANDEL(USRCLDA) ; Evaluate whether user can delete a class
"RTN","USRLM",191,0)
 N USRMLST,USRY S USRY=0
"RTN","USRLM",192,0)
 D WHOIS("USRMLST",USRCLDA)
"RTN","USRLM",193,0)
 I +$P(USRMLST(0),U,3)>0 S USRY=1 W "  There are members of the class ",$$CLNAME(USRCLDA)
"RTN","USRLM",194,0)
 Q USRY
"VER")
8.0^22.0
**END**
**END**
