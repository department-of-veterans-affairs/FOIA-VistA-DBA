Released SD*5.3*426 SEQ #368
Extracted from mail message
**KIDS**:SD*5.3*426^

**INSTALL NAME**
SD*5.3*426
"BLD",6409,0)
SD*5.3*426^SCHEDULING^0^3051109^y
"BLD",6409,1,0)
^^1^1^3051005^
"BLD",6409,1,1,0)
Error codes not returned in documented node.
"BLD",6409,4,0)
^9.64PA^^
"BLD",6409,"ABPKG")
n
"BLD",6409,"KRN",0)
^9.67PA^8989.52^19
"BLD",6409,"KRN",.4,0)
.4
"BLD",6409,"KRN",.401,0)
.401
"BLD",6409,"KRN",.402,0)
.402
"BLD",6409,"KRN",.403,0)
.403
"BLD",6409,"KRN",.5,0)
.5
"BLD",6409,"KRN",.84,0)
.84
"BLD",6409,"KRN",3.6,0)
3.6
"BLD",6409,"KRN",3.8,0)
3.8
"BLD",6409,"KRN",9.2,0)
9.2
"BLD",6409,"KRN",9.8,0)
9.8
"BLD",6409,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6409,"KRN",9.8,"NM",1,0)
SDAMA301^^0^B3523610
"BLD",6409,"KRN",9.8,"NM","B","SDAMA301",1)

"BLD",6409,"KRN",19,0)
19
"BLD",6409,"KRN",19.1,0)
19.1
"BLD",6409,"KRN",101,0)
101
"BLD",6409,"KRN",409.61,0)
409.61
"BLD",6409,"KRN",771,0)
771
"BLD",6409,"KRN",870,0)
870
"BLD",6409,"KRN",8989.51,0)
8989.51
"BLD",6409,"KRN",8989.52,0)
8989.52
"BLD",6409,"KRN",8994,0)
8994
"BLD",6409,"KRN","B",.4,.4)

"BLD",6409,"KRN","B",.401,.401)

"BLD",6409,"KRN","B",.402,.402)

"BLD",6409,"KRN","B",.403,.403)

"BLD",6409,"KRN","B",.5,.5)

"BLD",6409,"KRN","B",.84,.84)

"BLD",6409,"KRN","B",3.6,3.6)

"BLD",6409,"KRN","B",3.8,3.8)

"BLD",6409,"KRN","B",9.2,9.2)

"BLD",6409,"KRN","B",9.8,9.8)

"BLD",6409,"KRN","B",19,19)

"BLD",6409,"KRN","B",19.1,19.1)

"BLD",6409,"KRN","B",101,101)

"BLD",6409,"KRN","B",409.61,409.61)

"BLD",6409,"KRN","B",771,771)

"BLD",6409,"KRN","B",870,870)

"BLD",6409,"KRN","B",8989.51,8989.51)

"BLD",6409,"KRN","B",8989.52,8989.52)

"BLD",6409,"KRN","B",8994,8994)

"BLD",6409,"QUES",0)
^9.62^^
"BLD",6409,"REQB",0)
^9.611^1^1
"BLD",6409,"REQB",1,0)
SD*5.3*347^2
"BLD",6409,"REQB","B","SD*5.3*347",1)

"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
426^3051109
"PKG",16,22,1,"PAH",1,1,0)
^^1^1^3051109
"PKG",16,22,1,"PAH",1,1,1,0)
Error codes not returned in documented node.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SDAMA301")
0^1^B3523610
"RTN","SDAMA301",1,0)
SDAMA301 ;BPOIFO/ACS-Filter API Main Entry ;12/13/04 3:21pm
"RTN","SDAMA301",2,0)
 ;;5.3;Scheduling;**301,347,426**;13 Aug 1993
"RTN","SDAMA301",3,0)
 ;
"RTN","SDAMA301",4,0)
 ;**   BEFORE USING THE API IN THIS ROUTINE, PLEASE SUBSCRIBE    **
"RTN","SDAMA301",5,0)
 ;**   TO DBIA #4433                                             **
"RTN","SDAMA301",6,0)
 ;
"RTN","SDAMA301",7,0)
 ;*****************************************************************
"RTN","SDAMA301",8,0)
 ;              CHANGE LOG
"RTN","SDAMA301",9,0)
 ;
"RTN","SDAMA301",10,0)
 ;  DATE      PATCH       DESCRIPTION
"RTN","SDAMA301",11,0)
 ;--------  ----------    -----------------------------------------
"RTN","SDAMA301",12,0)
 ;12/04/03  SD*5.3*301    ROUTINE COMPLETED
"RTN","SDAMA301",13,0)
 ;08/06/04  SD*5.3*347    ADDITION OF A NEW FILTER - DATE APPOINTMENT
"RTN","SDAMA301",14,0)
 ;                        MADE (FIELD #16) AND 2 NEW FIELDS TO RETURN:
"RTN","SDAMA301",15,0)
 ;                        1) AUTO-REBOOKED APPT DATE/TIME (FIELD #24)
"RTN","SDAMA301",16,0)
 ;                        2) NO-SHOW/CANCEL APPT DATE/TIME (FIELD #25)
"RTN","SDAMA301",17,0)
 ;                        INCREASE NUMBER OF FILTERS ALLOWED TO 6
"RTN","SDAMA301",18,0)
 ;*****************************************************************
"RTN","SDAMA301",19,0)
 ;
"RTN","SDAMA301",20,0)
 ;*****************************************************************
"RTN","SDAMA301",21,0)
 ;
"RTN","SDAMA301",22,0)
 ;               GET APPOINTMENT DATA
"RTN","SDAMA301",23,0)
 ;
"RTN","SDAMA301",24,0)
 ;INPUT
"RTN","SDAMA301",25,0)
 ;  SDINPUT   Appointment Filters (required)
"RTN","SDAMA301",26,0)
 ;  
"RTN","SDAMA301",27,0)
 ;OUTPUT
"RTN","SDAMA301",28,0)
 ;    Extrinsic call returns: 
"RTN","SDAMA301",29,0)
 ;      -1 if error
"RTN","SDAMA301",30,0)
 ;      Appointment count if no error
"RTN","SDAMA301",31,0)
 ;    If no error, data returned in:
"RTN","SDAMA301",32,0)
 ;      ^TMP($J,"SDAMA301",SORT1,SORT2,Appt Date/Time)=DATAn^DATAn^..
"RTN","SDAMA301",33,0)
 ;      where SORT1 is first sort (patient or clinic), SORT2 is
"RTN","SDAMA301",34,0)
 ;      second sort (patient or clnic), and DATAn
"RTN","SDAMA301",35,0)
 ;      is the appointment data requested
"RTN","SDAMA301",36,0)
 ;    If errors, error codes and messages returned in:
"RTN","SDAMA301",37,0)
 ;      ^TMP($J,"SDAMA301",error_code)=error_message
"RTN","SDAMA301",38,0)
 ;  
"RTN","SDAMA301",39,0)
 ;*****************************************************************
"RTN","SDAMA301",40,0)
SDAPI(SDINPUT) ;
"RTN","SDAMA301",41,0)
 K ^TMP($J,"SDAMA301")
"RTN","SDAMA301",42,0)
 ;Initialize global variables
"RTN","SDAMA301",43,0)
 N SDDV,SDI,SDARRAY,SDQUIT,SDFLTR,SDTEMP
"RTN","SDAMA301",44,0)
 S (SDARRAY("CNT"),SDARRAY("RSA"),SDQUIT,SDFLTR,SDTEMP)=0
"RTN","SDAMA301",45,0)
 ;Set Field Count and Max Filter variables
"RTN","SDAMA301",46,0)
 S SDARRAY("FC")=25,SDARRAY("MF")=6
"RTN","SDAMA301",47,0)
 ;Copy input array into "working" array
"RTN","SDAMA301",48,0)
 F SDI=1:1:SDARRAY("FC") S SDARRAY(SDI)=$G(SDINPUT(SDI))
"RTN","SDAMA301",49,0)
 S SDARRAY("FLDS")=$G(SDINPUT("FLDS"))
"RTN","SDAMA301",50,0)
 S SDARRAY("MAX")=$G(SDINPUT("MAX"))
"RTN","SDAMA301",51,0)
 S SDARRAY("SORT")=$G(SDINPUT("SORT"))
"RTN","SDAMA301",52,0)
 ;Initialize Input Array Filters as needed. Quit if error
"RTN","SDAMA301",53,0)
 D INITAE^SDAMA306(.SDARRAY)
"RTN","SDAMA301",54,0)
 Q:SDQUIT -1
"RTN","SDAMA301",55,0)
 ;Validate Input Array Filters.  Quit if error
"RTN","SDAMA301",56,0)
 I ($$VALARR^SDAMA300(.SDARRAY,.SDFLTR)=-1) S SDQUIT=1
"RTN","SDAMA301",57,0)
 Q:SDQUIT -1
"RTN","SDAMA301",58,0)
 ;
"RTN","SDAMA301",59,0)
 ;If Patient DFN populated, process by patient
"RTN","SDAMA301",60,0)
 I $G(SDARRAY(4))]"" D
"RTN","SDAMA301",61,0)
 . ;set RSA flag to true
"RTN","SDAMA301",62,0)
 . S SDARRAY("RSA")=1
"RTN","SDAMA301",63,0)
 . ;get data
"RTN","SDAMA301",64,0)
 . D PAT^SDAMA303(.SDARRAY,.SDDV,.SDFLTR)
"RTN","SDAMA301",65,0)
 ;
"RTN","SDAMA301",66,0)
 ;If Patient DFN is not populated, process by clinic
"RTN","SDAMA301",67,0)
 I $G(SDARRAY(4))']"" D
"RTN","SDAMA301",68,0)
 . D CLIN^SDAMA302(.SDARRAY,.SDDV,.SDFLTR)
"RTN","SDAMA301",69,0)
 ;
"RTN","SDAMA301",70,0)
 ;--Phase II--
"RTN","SDAMA301",71,0)
 N SDRSA
"RTN","SDAMA301",72,0)
 S SDRSA=0
"RTN","SDAMA301",73,0)
 ;If RSA flag = "true" and RSA implemented, get data from RSA
"RTN","SDAMA301",74,0)
 I SDARRAY("RSA"),$$IMP^SDAMA307(1) D DATA^SDAMA307(.SDARRAY)
"RTN","SDAMA301",75,0)
 ;
"RTN","SDAMA301",76,0)
 ;Pass back appointment count
"RTN","SDAMA301",77,0)
 Q SDARRAY("CNT")
"VER")
8.0^22.0
"BLD",6409,6)
^368
**END**
**END**
