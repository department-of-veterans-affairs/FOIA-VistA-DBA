Released SD*5.3*482 SEQ #391
Extracted from mail message
**KIDS**:SD*5.3*482^

**INSTALL NAME**
SD*5.3*482
"BLD",6774,0)
SD*5.3*482^SCHEDULING^0^3060721^y
"BLD",6774,1,0)
^^1^1^3060605^
"BLD",6774,1,1,0)
PCMM Team/POS Wait List not screening by Institution/Team.
"BLD",6774,4,0)
^9.64PA^^
"BLD",6774,"ABPKG")
n
"BLD",6774,"KRN",0)
^9.67PA^8989.52^19
"BLD",6774,"KRN",.4,0)
.4
"BLD",6774,"KRN",.401,0)
.401
"BLD",6774,"KRN",.402,0)
.402
"BLD",6774,"KRN",.403,0)
.403
"BLD",6774,"KRN",.5,0)
.5
"BLD",6774,"KRN",.84,0)
.84
"BLD",6774,"KRN",3.6,0)
3.6
"BLD",6774,"KRN",3.8,0)
3.8
"BLD",6774,"KRN",9.2,0)
9.2
"BLD",6774,"KRN",9.8,0)
9.8
"BLD",6774,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6774,"KRN",9.8,"NM",1,0)
SDWLRQ2^^0^B37614322
"BLD",6774,"KRN",9.8,"NM","B","SDWLRQ2",1)

"BLD",6774,"KRN",19,0)
19
"BLD",6774,"KRN",19.1,0)
19.1
"BLD",6774,"KRN",101,0)
101
"BLD",6774,"KRN",409.61,0)
409.61
"BLD",6774,"KRN",771,0)
771
"BLD",6774,"KRN",870,0)
870
"BLD",6774,"KRN",8989.51,0)
8989.51
"BLD",6774,"KRN",8989.52,0)
8989.52
"BLD",6774,"KRN",8994,0)
8994
"BLD",6774,"KRN","B",.4,.4)

"BLD",6774,"KRN","B",.401,.401)

"BLD",6774,"KRN","B",.402,.402)

"BLD",6774,"KRN","B",.403,.403)

"BLD",6774,"KRN","B",.5,.5)

"BLD",6774,"KRN","B",.84,.84)

"BLD",6774,"KRN","B",3.6,3.6)

"BLD",6774,"KRN","B",3.8,3.8)

"BLD",6774,"KRN","B",9.2,9.2)

"BLD",6774,"KRN","B",9.8,9.8)

"BLD",6774,"KRN","B",19,19)

"BLD",6774,"KRN","B",19.1,19.1)

"BLD",6774,"KRN","B",101,101)

"BLD",6774,"KRN","B",409.61,409.61)

"BLD",6774,"KRN","B",771,771)

"BLD",6774,"KRN","B",870,870)

"BLD",6774,"KRN","B",8989.51,8989.51)

"BLD",6774,"KRN","B",8989.52,8989.52)

"BLD",6774,"KRN","B",8994,8994)

"BLD",6774,"QUES",0)
^9.62^^
"BLD",6774,"REQB",0)
^9.611^1^1
"BLD",6774,"REQB",1,0)
SD*5.3*425^2
"BLD",6774,"REQB","B","SD*5.3*425",1)

"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
482^3060721
"PKG",16,22,1,"PAH",1,1,0)
^^1^1^3060721
"PKG",16,22,1,"PAH",1,1,1,0)
PCMM Team/POS Wait List not screening by Institution/Team.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SDWLRQ2")
0^1^B37614322^B34443810
"RTN","SDWLRQ2",1,0)
SDWLRQ2 ;;IOFO BAY PINES/TEH - ADHOC WAIT LIST REPORT PRIM CARE TEAM AND POSITION ASSIGNMENTS;06/12/2002 ; 29 Aug 2002  2:53 PM
"RTN","SDWLRQ2",2,0)
 ;;5.3;scheduling;**263,425,482**;AUG 13 1993
"RTN","SDWLRQ2",3,0)
 ;
"RTN","SDWLRQ2",4,0)
 ;
"RTN","SDWLRQ2",5,0)
 ;******************************************************************
"RTN","SDWLRQ2",6,0)
 ;                             CHANGE LOG
"RTN","SDWLRQ2",7,0)
 ;                                               
"RTN","SDWLRQ2",8,0)
 ;   DATE                        PATCH                   DESCRIPTION
"RTN","SDWLRQ2",9,0)
 ;   ----                        -----                   -----------
"RTN","SDWLRQ2",10,0)
 ;   
"RTN","SDWLRQ2",11,0)
 ;   
"RTN","SDWLRQ2",12,0)
 ;   
"RTN","SDWLRQ2",13,0)
 ;   
"RTN","SDWLRQ2",14,0)
EN ;Header
"RTN","SDWLRQ2",15,0)
 N ZCODE,ZTDESC,ZTDTH,ZTIO,ZTQUEDED,ZTREQ,ZTRTN,ZTSAVE,ZTSK
"RTN","SDWLRQ2",16,0)
 N SDTEAM,SDHIST,SDACTIVE
"RTN","SDWLRQ2",17,0)
 D HD
"RTN","SDWLRQ2",18,0)
1 S SDWLINST="",SDWLERR=0,SDWLE=0 K ^TMP("SDWLRQ2",$J),DIC,DIR,DR,DIE
"RTN","SDWLRQ2",19,0)
 D INS G END:SDWLERR
"RTN","SDWLRQ2",20,0)
2 D CAT G 1:SDWLERR
"RTN","SDWLRQ2",21,0)
3 D OPEN G 2:SDWLERR
"RTN","SDWLRQ2",22,0)
 S ^TMP("SDWLRQ2",$J,"DATE")=""
"RTN","SDWLRQ2",23,0)
4 I %=2 D DATE G 3:SDWLERR
"RTN","SDWLRQ2",24,0)
6 D FORM G 4:SDWLERR,END:$D(DUOUT)
"RTN","SDWLRQ2",25,0)
7 D DIS G EN:SDWLERR=1,END:SDWLERR=2
"RTN","SDWLRQ2",26,0)
 D QUE
"RTN","SDWLRQ2",27,0)
 Q
"RTN","SDWLRQ2",28,0)
INS ;Get Institution
"RTN","SDWLRQ2",29,0)
 S SDWLPROM="Select Institution ALL // ",SDWLERR=0
"RTN","SDWLRQ2",30,0)
IN W ! S DIC(0)="QEMA",DIC("A")=SDWLPROM,DIC=4,DIC("S")="I $D(^SCTM(404.51,""AINST"",+Y))" D ^DIC I Y<0,'SDWLE D
"RTN","SDWLRQ2",31,0)
 .S (SDWLINS,SDWLINST)="" F  S SDWLINS=$O(^SCTM(404.51,"AINST",SDWLINS)) Q:SDWLINS=""  S SDWLINST=SDWLINST_SDWLINS_";"
"RTN","SDWLRQ2",32,0)
 I X="^" S SDWLERR=1 Q
"RTN","SDWLRQ2",33,0)
 G IN2:Y<0,END:$D(DUOUT)
"RTN","SDWLRQ2",34,0)
 I Y="All"!(Y="")!(Y="all")!(Y="ALL") S ^TMP("SDWLRQ2",$J,"INS")=SDWLINST G IN3
"RTN","SDWLRQ2",35,0)
 S SDWLINST=SDWLINST_+Y_";",SDWLPROM="Another Institution: ",SDWLE=1 G IN
"RTN","SDWLRQ2",36,0)
IN2 S ^TMP("SDWLRQ2",$J,"INS")=SDWLINST
"RTN","SDWLRQ2",37,0)
IN3 Q
"RTN","SDWLRQ2",38,0)
DATE ;Date range selection
"RTN","SDWLRQ2",39,0)
 S %=1 W !,"Print Report for ALL dates? " D YN^DICN
"RTN","SDWLRQ2",40,0)
 I %=1 S ^TMP("SDWLRQ2",$J,"DATE")="ALL" G E1
"RTN","SDWLRQ2",41,0)
 Q:%=0
"RTN","SDWLRQ2",42,0)
 Q:%=-1
"RTN","SDWLRQ2",43,0)
 S SDWLERR=0 W ! S %DT="AE",%DT("A")="Start with Date Entered: " D ^%DT G E1:Y<1 S SDWLBDT=Y
"RTN","SDWLRQ2",44,0)
 S %DT(0)=SDWLBDT,%DT("A")="End with Date Entered: " D ^%DT
"RTN","SDWLRQ2",45,0)
 I X["^" S SDWLERR=1 Q
"RTN","SDWLRQ2",46,0)
 G E1:Y<1 S SDWLEDT=Y K %DT(0),%DT("A")
"RTN","SDWLRQ2",47,0)
 I SDWLEDT<SDWLBDT W !,"Beginning Date must be greater than Ending Date." G DATE
"RTN","SDWLRQ2",48,0)
 S ^TMP("SDWLRQ2",$J,"DATE")=SDWLBDT_"^"_SDWLEDT Q
"RTN","SDWLRQ2",49,0)
E1 Q
"RTN","SDWLRQ2",50,0)
CAT ;Report category selection
"RTN","SDWLRQ2",51,0)
 W !!,"    *** Report Category Selection ***" S SDWLERR=0
"RTN","SDWLRQ2",52,0)
 S SDWLERR=0,SDWLCAT="",DIR(0)="S0^1:Team;2:Position",DIR("L",1)="     1. Team",DIR("L")="     2. Position"
"RTN","SDWLRQ2",53,0)
 D ^DIR
"RTN","SDWLRQ2",54,0)
 I X="^" S SDWLERR=1 Q
"RTN","SDWLRQ2",55,0)
 S X=$S(X["T":"T",X["t":"T",X["P":"P",X["p":"P",X=1:"T",X=2:"P",1:"")
"RTN","SDWLRQ2",56,0)
 I X="" W *7," Invalid Selection." G CAT
"RTN","SDWLRQ2",57,0)
 W !!,"Select Category for Report Output",!
"RTN","SDWLRQ2",58,0)
 S SDWLX=$S(X="T":"Team: ALL/ ",X="P":"Position: ALL/ ")
"RTN","SDWLRQ2",59,0)
 S SDWLF=$S(X="T":404.51,X="P":404.57)
"RTN","SDWLRQ2",60,0)
 K DIR,DIC,DR
"RTN","SDWLRQ2",61,0)
 S ^TMP("SDWLRQ2",$J,"CT1")=X_"^"_SDWLF
"RTN","SDWLRQ2",62,0)
 S DIC("A")=SDWLX
"RTN","SDWLRQ2",63,0)
 I SDWLF=404.51 D
"RTN","SDWLRQ2",64,0)
 .S DIC("S")="I $$ACTIVE^SDWLRQ2(Y),SDWLINST[+$P($G(^SCTM(404.51,+Y,0)),""^"",7)"
"RTN","SDWLRQ2",65,0)
CT1 W ! S DIC(0)="QEMNZA",DIC=SDWLF D ^DIC
"RTN","SDWLRQ2",66,0)
 I X="^" S SDWLERR=1 Q
"RTN","SDWLRQ2",67,0)
 I Y<1,SDWLCAT="" S ^TMP("SDWLRQ2",$J,"CT2")="ALL" G CT3
"RTN","SDWLRQ2",68,0)
 I Y<0,'$D(^TMP("SDWLRQ2",$J,"CT1")) W !,"This Entry is Required." G CAT
"RTN","SDWLRQ2",69,0)
 G CT2:Y<0
"RTN","SDWLRQ2",70,0)
 S SDWLCAT=SDWLCAT_Y_";",DIC("A")="Another "_$P(SDWLX,":",1)_": ",SDWLE=1 G CT1
"RTN","SDWLRQ2",71,0)
CT2 G CT1:'$D(SDWLCAT) S ^TMP("SDWLRQ2",$J,"CT2")=SDWLCAT
"RTN","SDWLRQ2",72,0)
CT3 Q
"RTN","SDWLRQ2",73,0)
OPEN ;OPEN Wait List Entries  
"RTN","SDWLRQ2",74,0)
 S %=1 W !!,"Do you want only 'OPEN' Wait List Entries " D YN^DICN
"RTN","SDWLRQ2",75,0)
 I '% W *7,"Must Enter 'YES' or 'NO'." G OPEN
"RTN","SDWLRQ2",76,0)
 I %=-1 S SDWLERR=1
"RTN","SDWLRQ2",77,0)
 S ^TMP("SDWLRQ2",$J,"OPEN")=$S(%=1:"O",1:"C")
"RTN","SDWLRQ2",78,0)
 Q
"RTN","SDWLRQ2",79,0)
FORM ;Report Format
"RTN","SDWLRQ2",80,0)
 S SDWLERR=0,DIR(0)="SO^1:Detailed;2:Summary",DIR("L",2)="     1. Detailed"
"RTN","SDWLRQ2",81,0)
 S DIR("L")="     2. Summary",DIR("L",1)="Select One of the Following: "
"RTN","SDWLRQ2",82,0)
 D ^DIR
"RTN","SDWLRQ2",83,0)
 I X="^" S DUOUT=1 Q
"RTN","SDWLRQ2",84,0)
 S X=$S(X["S":"S",X["s":"S",X["D":"D",X["d":"D",X=1:"D",X=2:"S",1:"")
"RTN","SDWLRQ2",85,0)
 I X="" W *7," Invalid Response" G FORM
"RTN","SDWLRQ2",86,0)
 S ^TMP("SDWLRQ2",$J,"FORM")=X
"RTN","SDWLRQ2",87,0)
 Q
"RTN","SDWLRQ2",88,0)
DIS ;Display Parameters
"RTN","SDWLRQ2",89,0)
 S SDWLERR=0 W !!,?80-$L("*** Selected Report Parameters ***")\2,"*** Selected Report Parameters ***",!
"RTN","SDWLRQ2",90,0)
 F SDWLI="INS","CT1","CT2","FORM","OPEN" D
"RTN","SDWLRQ2",91,0)
 .S X="SDWL"_SDWLI,@X=$G(^TMP("SDWLRQ2",$J,SDWLI))
"RTN","SDWLRQ2",92,0)
 F SDWLTAG="IS","CT","OP","PR" D @SDWLTAG
"RTN","SDWLRQ2",93,0)
 Q
"RTN","SDWLRQ2",94,0)
IS I SDWLINS'["ALL" D
"RTN","SDWLRQ2",95,0)
 .K SDWLY F I=1:1 S SDWLY=$P($P(SDWLINS,";",I),U,1) Q:SDWLY=""  S SDWLY(I)=SDWLY
"RTN","SDWLRQ2",96,0)
 .W !,?20,"Institution: "
"RTN","SDWLRQ2",97,0)
 .I $D(SDWLY) S I="" F  S I=$O(SDWLY(I)) Q:I=""  W:I>1 !,?33 W $P($G(^DIC(4,SDWLY(I),0)),U,1)
"RTN","SDWLRQ2",98,0)
 .K SDWLY
"RTN","SDWLRQ2",99,0)
 I SDWLINS["ALL" W !,?20,"Institution: ALL "
"RTN","SDWLRQ2",100,0)
 Q
"RTN","SDWLRQ2",101,0)
CT I SDWLCT2'["ALL" D
"RTN","SDWLRQ2",102,0)
 .S SDWLF=$P(SDWLCT1,U,2)
"RTN","SDWLRQ2",103,0)
 .K SDWLY F I=1:1 S SDWLY=$P($P(SDWLCT2,";",I),U,2) Q:SDWLY=""  S SDWLY(I)=SDWLY
"RTN","SDWLRQ2",104,0)
 .W !,?16,"Report Category: " W $S(SDWLCT1["T":"Team",1:"Position"),!,?36 I @X="ALL" W "All "
"RTN","SDWLRQ2",105,0)
 .I $D(SDWLY) S I="" F   S I=$O(SDWLY(I)) Q:I=""  W:I>1 !,?35 W $$EXTERNAL^DILFD(SDWLF,.01,,SDWLY(I))
"RTN","SDWLRQ2",106,0)
 I SDWLCT2["ALL" W !,?16,"Report Category: " W $S(SDWLCT1["T":"Team",1:"Position"),!,?36 W "ALL "
"RTN","SDWLRQ2",107,0)
 Q
"RTN","SDWLRQ2",108,0)
OP W !,?18,"Output Format: ",$S(SDWLFORM="D":" Detailed",1:" Summary")
"RTN","SDWLRQ2",109,0)
 Q
"RTN","SDWLRQ2",110,0)
PR I SDWLOPEN="O" W !,?25,"Printing 'OPEN' Entries Only."
"RTN","SDWLRQ2",111,0)
 E  W !,?25,"Printing ALL Entries."
"RTN","SDWLRQ2",112,0)
 S %=1 W !!,"Are these Parameters Correct " D YN^DICN I %=2 S SDWLERR=1 W !,"  This Report will NOT be queued to print."
"RTN","SDWLRQ2",113,0)
 I SDWLERR S DIR(0)="E" D ^DIR I X["^" S SDWLERR=2
"RTN","SDWLRQ2",114,0)
 Q
"RTN","SDWLRQ2",115,0)
ACTIVE(Y) ;Active Team
"RTN","SDWLRQ2",116,0)
 S SDTEAM="",SDHIST="",SDACTIVE=""
"RTN","SDWLRQ2",117,0)
 I SDWLF="404.51" D
"RTN","SDWLRQ2",118,0)
 .S SDHIST=$O(^SCTM(404.58,"B",+Y,SDHIST),-1)
"RTN","SDWLRQ2",119,0)
 .S SDACTIVE=$P($G(^SCTM(404.58,+SDHIST,0)),"^",3)
"RTN","SDWLRQ2",120,0)
 Q +SDACTIVE
"RTN","SDWLRQ2",121,0)
QUE ;Queue Report
"RTN","SDWLRQ2",122,0)
 N ZTQUEUED,POP
"RTN","SDWLRQ2",123,0)
 K %ZIS,IOP,IOC,ZTIO,SDWLSPT S %ZIS="MQ" D ^%ZIS G:POP QUE1
"RTN","SDWLRQ2",124,0)
 S ZTRTN=$S(SDWLFORM="D":"EN^SDWLRPT2",1:"EN^SDWLRPS2"),ZTDTH=$H,ZTDESC="WAIT LIST REPORT FORMAT 2"
"RTN","SDWLRQ2",125,0)
 S SDWLTASK="" F  S SDWLTASK=$O(^TMP("SDWLRQ2",$J,SDWLTASK)) Q:SDWLTASK=""  D
"RTN","SDWLRQ2",126,0)
 .S SDWLTK=$G(^TMP("SDWLRQ2",$J,SDWLTASK))
"RTN","SDWLRQ2",127,0)
 .S ZTSAVE(SDWLTASK)=SDWLTK
"RTN","SDWLRQ2",128,0)
 I $D(IO("Q")) K IO("Q") D ^%ZTLOAD W !,"REQUEST QUEUED" G END
"RTN","SDWLRQ2",129,0)
QUE1 S:$E(IOST,1,2)="C-" SDWLSPT=1 I $D(ZTRTN) U IO D @ZTRTN K SDWLSPT
"RTN","SDWLRQ2",130,0)
 ;
"RTN","SDWLRQ2",131,0)
END K SDWLTASK,SDWLY,SDWLED,WDWLBD,SDWLOPEN,SDWLDATE,SDWLFORM,SDWLPRI
"RTN","SDWLRQ2",132,0)
 K DIR,DIC,DR,DIE,SDWLSPT,I
"RTN","SDWLRQ2",133,0)
 D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","SDWLRQ2",134,0)
 Q
"RTN","SDWLRQ2",135,0)
HD W:$D(IOF) @IOF W !,?80-$L("Primary Care Team/Position Assignment Wait List Report")\2,"Primary Care Team/Position Assignment Wait List Report"
"VER")
8.0^22.0
"BLD",6774,6)
^391
**END**
**END**
