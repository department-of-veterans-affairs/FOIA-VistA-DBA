
=============================================================================
Run Date: NOV 28, 2007                     Designation: MD*1*9
Package : MD - CLINICAL PROCEDURES            Priority: Mandatory
Version : 1         SEQ #7                      Status: Released
                  Compliance Date: DEC 29, 2007
=============================================================================


Subject: CACHE HL7 PORT PROBLEM

Category: 
  - Informational
  - Other

Description:
============

 This is a Non GUI (informational) patch.  There are no associated patches
 for this patch.
 
 508 Compliance
 ---------------
 This patch is exempt from coverage under the Section 508 Standards.
 The use of existing Fileman and Screen Manager utilities do not
 need to be compliant. 
                                                                           
                                                                   
 The following information is only relevant to OpenVMS/Cache sites
 who are experiencing problems with the Clinical Procedures (CP) 
 MCAR INST single port listener.  If CP ports are working correctly
 at your site, it is not necessary to make any changes.  If you
 implemented the changes to use port 5000, it will not affect
 anything.  The port listener will be using port 5000 instead of
 the old port.
                                                        
      THIS IS ONLY FOR THOSE SITES THAT ARE 
   EXPERIENCING PROBLEMS WITH THE CP LISTENER.
  
 To ensure the reliability of medical devices interfaced with Clinical 
 Procedures on an OpenVMS/Cache system, it is being recommended to 
 update the LOGICAL LINK (#770.7) field  in the PROTOCOL (#101) file 
 for the 'MCAR Device Client' protocol.  The procedure to be followed 
 when editing logical link information associated with a protocol is 
 documented below.
  
 In the example below, the logical link names exported by the VistA
 Clinical Procedure application are used. Your site may have named them
 differently, so be alert to which logical links you should change.
  
 For CP, the current logical link associated with the MCAR Device 
 Client protocol is MCAR INST. The new logical link value will be
 'VAxxx' where the 'VAxxx' is the name of the multi-listener at 
 your site.  For example, the Hines VA has the multi-listener 
 defined as 'VAHIN'.  Questions regarding the multi-listener 
 should be referred to your facility's IRM staff.
  
 STEP 1. SHUT DOWN MEDICAL DEVICES AND MCAR INST LINKS
   Before the port is deactivated, all the medical devices 
   that use the MCAR INST links should be shutdown.  Then 
   shutdown the MCAR INST Link.
  
 STEP 2. CHANGE THE LOGICAL LINK OF THE PROTOCOL
  
  D ^XUP
  
  Setting up programmer environment
  Terminal Type set to: C-VT320
  
  Select OPTION NAME: HL7 MAIN MENU  HL MAIN MENU     HL7 Main Menu
  
         Event monitoring menu ...
         Systems Link Monitor
         Filer and Link Management Options ...
         Message Management Options ...
         Interface Developer Options ...
         Site Parameter Edit
  HLO    HL7 (Optimized) MAIN MENU ...
  
  Select HL7 Main Menu Option: INTERFACE Developer Options
  
    EA   Application Edit
    EP   Protocol Edit
    EL   Link Edit
    VI   Validate Interfaces
         Reports ...
  
  Select Interface Developer Options Option: EP  Protocol Edit
 Select PROTOCOL NAME: MCAR
      1   MCAR Device Client       Instrument Device Client  
      2   MCAR Device Server       Instrument HL7 Event Driver  
      3   MCAR ORM CLIENT         
      4   MCAR ORM SERVER       Clinical Procedures ORM Protocol Server  
  
 CHOOSE 1-4: 1  MCAR Device Client       Instrument Device Client
  
  HL7   INTERFACE SETUP                                       PAGE 1 OF 2
  -----------------------------------------------------------------------
  NAME: MCAR Device Client                                 
   
  DESCRIPTION (wp):   [Subscriber protocol for sending report to VISTA]
  
  ENTRY ACTION:
  
  EXIT ACTION:
  
  TYPE: subscriber <--- press 'Enter' to get to the next screen
  
  MCAR Device Client                                          PAGE 2 OF 2
  -----------------------------------------------------------------------
  
     RECEIVING APPLICATION: MCAR-INST      
  
     RESPONSE MESSAGE TYPE: ACK                            EVENT TYPE: R01
  
     SENDING FACILITY REQUIRED?: NO      RECEIVING FACILITY REQUIRED?: NO
  
     SECURITY REQUIRED?:
  
     LOGICAL LINK: MCAR INST <--- Change 'MCAR INST' to 'VAxxx'
                             ===========================
  
     PROCESSING RTN: D ^MDHL7A              ROUTING LOGIC:
  
  'VAxxx' is the name of the multi-listener logical link running at your 
  site on port 5000.
  
 STEP 3. COORDINATING THE MODIFICATION OF MEDICAL DEVICE COMMUNICTION 
   
   The communication software application on all the medical devices that 
   interfaced with Clinical Procedures and use MCAR INST will need 
   modification.  Please refer to the vendors manual or contact the 
   vendor of the medical device to determine how to change these 
   settings.  It must be changed to the IP address and port definition
   that corresponds to the site's multi-listener.  This is to insure that 
   the medical devices will send their results to the new port and 
   MCAR INST will no longer be in use.  
  
  
 STEP 4. CONFIRM MEDICAL DEVICE COMMUNICATION
  
   Confirm that the various CP medical devices that were using MCAR INST
   are communicating to port 5000 successfully.  One way to test the 
   interface is to create an order for a test patient in CPRS, use CP USER
   and check in the study, and process the patient on the medical device 
   and send the result back to CP.  Then verify that results are returned
   from the medical device for that test patient by opening the patient in
   CP USER and checking that the status has changed to COMPLETE.  Then
   verify that the CPRS Consult order has been updated with an attachment.
  
  Associated
  Remedy Ticket                   Associated NOIS
  --------------                  ---------------
  HD68261                         MEM-0904-71036
  HD68262                         MEM-0904-71131
  HD125844
                                  
  
 Documentation
 -------------
 There are no documentation changes associated with this patch.
  
 Test Sites
 ----------
 Memphis VAMC      (Large Site)
 Providence VAMC   (Medium Site)
 North Texas HCS   (Integrated Site)
 

Routine Information:
====================
No routines included.

=============================================================================
User Information:
Entered By  : ACKERMAN,NIEN-CHIN            Date Entered  : SEP 21, 2004
Completed By: PATRICK,PAT                   Date Completed: NOV 14, 2007
Released By : REGA,ANNE                     Date Released : NOV 28, 2007
=============================================================================


Packman Mail Message:
=====================

No routines included
