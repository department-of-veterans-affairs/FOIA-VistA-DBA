Released GEC*2*34 SEQ #30
Extracted from mail message
**KIDS**:GEC*2.0*34^

**INSTALL NAME**
GEC*2.0*34
"BLD",6115,0)
GEC*2.0*34^GENERIC CODE SHEET^0^3050415^y
"BLD",6115,1,0)
^^3^3^3050414^
"BLD",6115,1,1,0)
This patch increases the number of possible unique batch numbers that can 
"BLD",6115,1,2,0)
be generated for modified billing documents being sent to FMS from 1000 
"BLD",6115,1,3,0)
to 12250.
"BLD",6115,4,0)
^9.64PA^^
"BLD",6115,"KRN",0)
^9.67PA^8989.52^19
"BLD",6115,"KRN",.4,0)
.4
"BLD",6115,"KRN",.401,0)
.401
"BLD",6115,"KRN",.402,0)
.402
"BLD",6115,"KRN",.403,0)
.403
"BLD",6115,"KRN",.5,0)
.5
"BLD",6115,"KRN",.84,0)
.84
"BLD",6115,"KRN",3.6,0)
3.6
"BLD",6115,"KRN",3.8,0)
3.8
"BLD",6115,"KRN",9.2,0)
9.2
"BLD",6115,"KRN",9.8,0)
9.8
"BLD",6115,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",6115,"KRN",9.8,"NM",1,0)
GECSUFMS^^0^B19913811
"BLD",6115,"KRN",9.8,"NM",2,0)
GECSUNUM^^0^B12465756
"BLD",6115,"KRN",9.8,"NM","B","GECSUFMS",1)

"BLD",6115,"KRN",9.8,"NM","B","GECSUNUM",2)

"BLD",6115,"KRN",19,0)
19
"BLD",6115,"KRN",19.1,0)
19.1
"BLD",6115,"KRN",101,0)
101
"BLD",6115,"KRN",409.61,0)
409.61
"BLD",6115,"KRN",771,0)
771
"BLD",6115,"KRN",870,0)
870
"BLD",6115,"KRN",8989.51,0)
8989.51
"BLD",6115,"KRN",8989.52,0)
8989.52
"BLD",6115,"KRN",8994,0)
8994
"BLD",6115,"KRN","B",.4,.4)

"BLD",6115,"KRN","B",.401,.401)

"BLD",6115,"KRN","B",.402,.402)

"BLD",6115,"KRN","B",.403,.403)

"BLD",6115,"KRN","B",.5,.5)

"BLD",6115,"KRN","B",.84,.84)

"BLD",6115,"KRN","B",3.6,3.6)

"BLD",6115,"KRN","B",3.8,3.8)

"BLD",6115,"KRN","B",9.2,9.2)

"BLD",6115,"KRN","B",9.8,9.8)

"BLD",6115,"KRN","B",19,19)

"BLD",6115,"KRN","B",19.1,19.1)

"BLD",6115,"KRN","B",101,101)

"BLD",6115,"KRN","B",409.61,409.61)

"BLD",6115,"KRN","B",771,771)

"BLD",6115,"KRN","B",870,870)

"BLD",6115,"KRN","B",8989.51,8989.51)

"BLD",6115,"KRN","B",8989.52,8989.52)

"BLD",6115,"KRN","B",8994,8994)

"BLD",6115,"QUES",0)
^9.62^^
"BLD",6115,"REQB",0)
^9.611^1^1
"BLD",6115,"REQB",1,0)
GEC*2.0*31^1
"BLD",6115,"REQB","B","GEC*2.0*31",1)

"MBREQ")
0
"PKG",155,-1)
1^1
"PKG",155,0)
GENERIC CODE SHEET^GEC^GENERIC CODE SHEET
"PKG",155,20,0)
^9.402P^^
"PKG",155,22,0)
^9.49I^1^1
"PKG",155,22,1,0)
2.0^2950210^2960703
"PKG",155,22,1,"PAH",1,0)
34^3050415
"PKG",155,22,1,"PAH",1,1,0)
^^3^3^3050415
"PKG",155,22,1,"PAH",1,1,1,0)
This patch increases the number of possible unique batch numbers that can 
"PKG",155,22,1,"PAH",1,1,2,0)
be generated for modified billing documents being sent to FMS from 1000 
"PKG",155,22,1,"PAH",1,1,3,0)
to 12250.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","GECSUFMS")
0^1^B19913811
"RTN","GECSUFMS",1,0)
GECSUFMS ;WISC/RFJ/KLD-fms utilities ;10/13/98
"RTN","GECSUFMS",2,0)
 ;;2.0;GCS;**7,8,15,19,30,31,34**;MAR 14, 1995
"RTN","GECSUFMS",3,0)
 Q
"RTN","GECSUFMS",4,0)
 ;
"RTN","GECSUFMS",5,0)
 ;
"RTN","GECSUFMS",6,0)
CONTROL(SYSTEM,STATION,DOCUMENT,TRANCODE,SECCODE,MODFLAG,FCPFLAG,DESCRIPT) ;  return fms control segment
"RTN","GECSUFMS",7,0)
 ;  system = "A" for ar, "I" for ifcap, "E" for eng, "C" for create doc
"RTN","GECSUFMS",8,0)
 ;  station = 3 digit station number
"RTN","GECSUFMS",9,0)
 ;  document = source document [sta-po####xx] where xx=partial (opt)
"RTN","GECSUFMS",10,0)
 ;  trancode = MO, SV, etc for class = DOC
"RTN","GECSUFMS",11,0)
 ;           = VR for vendor requests
"RTN","GECSUFMS",12,0)
 ;  seccode = security 1 code (usually '10  ')
"RTN","GECSUFMS",13,0)
 ;  modflag = 1 for modification document (batch number auto gen)
"RTN","GECSUFMS",14,0)
 ;  fcpflag = Y if transaction has updated ifcap fcp balance
"RTN","GECSUFMS",15,0)
 ;            use only for tran-code AR, CR, IV, MO, SA, ST
"RTN","GECSUFMS",16,0)
 ;  descript = description of event
"RTN","GECSUFMS",17,0)
 ;  return gecsfms("ctl"), gecsfms("bat"), gecsfms("doc")
"RTN","GECSUFMS",18,0)
 N %,%H,%I,BATNUMB,DATE,FY,H,M,S,SEGMENT,STACK,TIME,TRANCLAS,X,Y,SYSTEMI
"RTN","GECSUFMS",19,0)
 K GECSFMS
"RTN","GECSUFMS",20,0)
 S SYSTEMI=SYSTEM ; save initial system for rebuild
"RTN","GECSUFMS",21,0)
 S SYSTEM=$S($E(SYSTEM)="A":"ARS",$E(SYSTEM)="I":"IFC",$E(SYSTEM)="E":"AMM",1:"CFD")
"RTN","GECSUFMS",22,0)
 S STATION=$E(STATION,1,3)
"RTN","GECSUFMS",23,0)
 S DOCUMENT=$E($TR(DOCUMENT,"-")_"           ",1,11)
"RTN","GECSUFMS",24,0)
 S TRANCODE=$E(TRANCODE,1,2)
"RTN","GECSUFMS",25,0)
 S SECCODE=$E(SECCODE_"    ",1,4)
"RTN","GECSUFMS",26,0)
 D NOW^%DTC S Y=%,DATE=X D DD^%DT
"RTN","GECSUFMS",27,0)
 S %=$P(Y,"@",2),H=$P(%,":"),M=$P(%,":",2),S=$P(%,":",3),H=$E("00",$L(H)+1,2)_H,M=$E("00",$L(M)+1,2)_M,S=$E("00",$L(S)+1,2)_S,TIME=H_M_S
"RTN","GECSUFMS",28,0)
 S Y=X X ^DD("DD") S FY=$S($E(DATE,4,5)<10:$E(DATE,2,3),1:$P(Y,",",2)+1)
"RTN","GECSUFMS",29,0)
 S STACK=TRANCODE_"-"_DOCUMENT
"RTN","GECSUFMS",30,0)
 ; check if STACK exists in 2100.1 file
"RTN","GECSUFMS",31,0)
 K GECSDATA
"RTN","GECSUFMS",32,0)
 D DATA^GECSSGET(STACK,0)
"RTN","GECSUFMS",33,0)
 I $G(GECSDATA)>0,MODFLAG'>0 S GECSTEST=GECSDATA D  Q
"RTN","GECSUFMS",34,0)
 .    ;STACK entry exists.  convert CONTROL call into REBUILD call
"RTN","GECSUFMS",35,0)
 .    D REBUILD^GECSUFM1(GECSDATA,SYSTEMI,SECCODE,FCPFLAG,DESCRIPT)
"RTN","GECSUFMS",36,0)
 .    S DA=GECSTEST,GECSFMS("DA")=GECSTEST
"RTN","GECSUFMS",37,0)
 .    K GECSDATA,GECSTEST
"RTN","GECSUFMS",38,0)
 ;
"RTN","GECSUFMS",39,0)
 I MODFLAG F  S %=$$ACOUNTER^GECSUNUM(STATION_"-FMS:BATCH-"_FY),%=$E(%,$L(%)-2,$L(%)),%=$E("000",$L(%)+1,3)_%,X=STACK_"-"_STATION_% I '$D(^GECS(2100.1,"B",X)) L +^GECS(2100.1,"AZ",X):0 I $T S STACK=X Q
"RTN","GECSUFMS",40,0)
 S BATNUMB=$E($P(STACK,"-",3)_"      ",1,6)
"RTN","GECSUFMS",41,0)
 S TRANCLAS="DOC" I TRANCODE="VR" S TRANCLAS="VRQ",TRANCODE="  "
"RTN","GECSUFMS",42,0)
 S GECSFMS("CTL")="CTL^"_SYSTEM_"^FMS^"_$E(STATION,1,3)_"^"_TRANCLAS_"^"_TRANCODE_"^"_SECCODE_"^"_$E(BATNUMB,1,6)_"^"_DOCUMENT_"^"_(17+$E(DATE))_$E(DATE,2,7)_"^"_TIME_"^001^001^001^"_$C(126)
"RTN","GECSUFMS",43,0)
 ;
"RTN","GECSUFMS",44,0)
 ;  vendor request, add ctl to stack and quit
"RTN","GECSUFMS",45,0)
 I TRANCLAS="VRQ" D  Q
"RTN","GECSUFMS",46,0)
 .   S GECSFMS("DA")=$$ADD^GECSSTAA("VR:FMS",GECSFMS("CTL"),"","",DESCRIPT)
"RTN","GECSUFMS",47,0)
 .   L -^GECS(2100.1,"AZ",STACK)
"RTN","GECSUFMS",48,0)
 ;
"RTN","GECSUFMS",49,0)
 ;  change segment for specific transaction codes
"RTN","GECSUFMS",50,0)
 S SEGMENT=TRANCODE
"RTN","GECSUFMS",51,0)
 I TRANCODE="CF"!(TRANCODE="WR")!(TRANCODE="TR") S SEGMENT="CR"
"RTN","GECSUFMS",52,0)
 I TRANCODE="DV"!(TRANCODE="ET") S SEGMENT="DD"
"RTN","GECSUFMS",53,0)
 I TRANCODE="AO"!(TRANCODE="CO")!(TRANCODE="SO")!(TRANCODE="TG")!(TRANCODE="WO") S SEGMENT="MO"
"RTN","GECSUFMS",54,0)
 I TRANCODE="AV"!(TRANCODE="CT")!(TRANCODE="MV")!(TRANCODE="OP")!(TRANCODE="PS")!(TRANCODE="TD") S SEGMENT="PV"
"RTN","GECSUFMS",55,0)
 I TRANCODE="AR"!(TRANCODE="RT") S SEGMENT="RC"
"RTN","GECSUFMS",56,0)
 I TRANCODE="BV" S SEGMENT="SV"
"RTN","GECSUFMS",57,0)
 I TRANCODE="RO"!(TRANCODE="TZ") S SEGMENT="TO"
"RTN","GECSUFMS",58,0)
 I TRANCODE="RV"!(TRANCODE="TY") S SEGMENT="TV"
"RTN","GECSUFMS",59,0)
 ;  create bat segment
"RTN","GECSUFMS",60,0)
 I MODFLAG S GECSFMS("BAT")="BAT^"_$C(126)_SEGMENT_"0^"_BATNUMB_"^"_$C(126)
"RTN","GECSUFMS",61,0)
 ;  create doc and <tc>1 segments
"RTN","GECSUFMS",62,0)
 I "RC^CR^TR^IV^MO^SA^ST"[SEGMENT S FCPFLAG=$S(FCPFLAG="Y":"Y",1:"N")_"^"
"RTN","GECSUFMS",63,0)
 ;  security code is not on the sa1,st1 code sheets
"RTN","GECSUFMS",64,0)
 S SECCODE=SECCODE_"^"
"RTN","GECSUFMS",65,0)
 I "SA^ST"[SEGMENT S SECCODE=""
"RTN","GECSUFMS",66,0)
 S GECSFMS("DOC")="DOC^"_$C(126)
"RTN","GECSUFMS",67,0)
 ;  do not create <tc>1 document for at transaction code or amm system
"RTN","GECSUFMS",68,0)
 I SEGMENT'="AT",SYSTEM'="AMM" S GECSFMS("DOC")=GECSFMS("DOC")_SEGMENT_"1^"_TRANCODE_"^"_DOCUMENT_"^"_SECCODE_FCPFLAG_$C(126)
"RTN","GECSUFMS",69,0)
 ;  add entry and control segment to stack file
"RTN","GECSUFMS",70,0)
 S GECSFMS("DA")=$$ADD^GECSSTAA(TRANCODE_":FMS",GECSFMS("CTL"),$G(GECSFMS("BAT")),GECSFMS("DOC"),DESCRIPT)
"RTN","GECSUFMS",71,0)
 L -^GECS(2100.1,"AZ",STACK)
"RTN","GECSUFMS",72,0)
 Q
"RTN","GECSUFMS",73,0)
 ;
"RTN","GECSUFMS",74,0)
 ;
"RTN","GECSUFMS",75,0)
TRANSMIT ;  transmit fms document from file 2100 immediately without batching
"RTN","GECSUFMS",76,0)
 ;  called from gecsxbl1 routine
"RTN","GECSUFMS",77,0)
 N %,CTLDATA,DA,GECSFMS,STACK
"RTN","GECSUFMS",78,0)
 S CTLDATA=$G(^GECS(2100,GECS("CSDA"),"FMS"))
"RTN","GECSUFMS",79,0)
 ;  ctldata=trancode^transnumber^modification=Y^securitycode^fcpflag
"RTN","GECSUFMS",80,0)
 D CONTROL("C",GECS("SITE"),$P(CTLDATA,"^",2),$P(CTLDATA,"^"),$P(CTLDATA,"^",4),$S($P(CTLDATA,"^",3)="Y":1,1:0),$P(CTLDATA,"^",5),"Create a Code Sheet Document")
"RTN","GECSUFMS",81,0)
 S DA=0 F  S DA=$O(^GECS(2100,GECS("CSDA"),"CODE",DA)) Q:'DA  S %=$G(^(DA,0)) I %'="" D SETCS^GECSSTAA(GECSFMS("DA"),%)
"RTN","GECSUFMS",82,0)
 ;  set status for queued task to pick up and transmit
"RTN","GECSUFMS",83,0)
 D SETSTAT^GECSSTAA(GECSFMS("DA"),"Q")
"RTN","GECSUFMS",84,0)
 ;  set status in file 2100
"RTN","GECSUFMS",85,0)
 S STACK=$P($G(^GECS(2100.1,GECSFMS("DA"),0)),"^")
"RTN","GECSUFMS",86,0)
 S $P(^GECS(2100,GECS("CSDA"),"TRANS"),"^",3)=STACK
"RTN","GECSUFMS",87,0)
 W !!,"STACK FILE ENTRY: ",STACK,?53,"QUEUED FOR TRANSMISSION"
"RTN","GECSUFMS",88,0)
 W !?5,"document header automatically created:",!,GECSFMS("CTL")
"RTN","GECSUFMS",89,0)
 I $D(GECSFMS("BAT")) W !,GECSFMS("BAT")
"RTN","GECSUFMS",90,0)
 W !,$G(GECSFMS("DOC"))
"RTN","GECSUFMS",91,0)
 Q
"RTN","GECSUNUM")
0^2^B12465756
"RTN","GECSUNUM",1,0)
GECSUNUM ;WISC/RFJ-get next counter number                          ;01 Nov 93
"RTN","GECSUNUM",2,0)
 ;;2.0;GCS;**34**;MAR 14, 1995
"RTN","GECSUNUM",3,0)
 Q
"RTN","GECSUNUM",4,0)
 ;
"RTN","GECSUNUM",5,0)
 ;
"RTN","GECSUNUM",6,0)
COUNTER(GECSNAME) ;  return next counter number
"RTN","GECSUNUM",7,0)
 ;  gecsname=station-batch type-fiscal year
"RTN","GECSUNUM",8,0)
 ;  example for fms: 460-FMS:MO-94
"RTN","GECSUNUM",9,0)
 ;  return next counter number
"RTN","GECSUNUM",10,0)
 I $L($G(GECSNAME))<10!($L($G(GECSNAME))>20) Q "invalid format for "_$G(GECSNAME)
"RTN","GECSUNUM",11,0)
 N %,DA
"RTN","GECSUNUM",12,0)
 ;
"RTN","GECSUNUM",13,0)
 S DA=+$O(^GECS(2101.5,"B",GECSNAME,0))
"RTN","GECSUNUM",14,0)
 I 'DA D
"RTN","GECSUNUM",15,0)
 .   ;  add entry to file
"RTN","GECSUNUM",16,0)
 .   L +^GECS(2101.5,0)
"RTN","GECSUNUM",17,0)
 .   ;  check to make sure another job did not add entry between locks
"RTN","GECSUNUM",18,0)
 .   S DA=+$O(^GECS(2101.5,"B",GECSNAME,0)) I DA Q
"RTN","GECSUNUM",19,0)
 .   S %=^GECS(2101.5,0)
"RTN","GECSUNUM",20,0)
 .   F DA=$P(%,"^",3)+1:1 Q:'$D(^GECS(2101.5,DA))
"RTN","GECSUNUM",21,0)
 .   S ^GECS(2101.5,DA,0)=GECSNAME_"^0"
"RTN","GECSUNUM",22,0)
 .   S ^GECS(2101.5,"B",GECSNAME,DA)=""
"RTN","GECSUNUM",23,0)
 .   S $P(%,"^",3)=DA,$P(%,"^",4)=$P(%,"^",4)+1,^GECS(2101.5,0)=%
"RTN","GECSUNUM",24,0)
 .   L -^GECS(2101.5,0)
"RTN","GECSUNUM",25,0)
 ;
"RTN","GECSUNUM",26,0)
 L +^GECS(2101.5,DA)
"RTN","GECSUNUM",27,0)
 S %=$P(^GECS(2101.5,DA,0),"^",2)+1
"RTN","GECSUNUM",28,0)
 I %>9999999 S %=1
"RTN","GECSUNUM",29,0)
 I %=0 S %=1
"RTN","GECSUNUM",30,0)
 S $P(^GECS(2101.5,DA,0),"^",2)=%
"RTN","GECSUNUM",31,0)
 L -^GECS(2101.5,DA)
"RTN","GECSUNUM",32,0)
 Q %
"RTN","GECSUNUM",33,0)
 ;
"RTN","GECSUNUM",34,0)
ACOUNTER(GECSNAME) ;  return next alphanumeric counter number
"RTN","GECSUNUM",35,0)
 ;  gecsname=station-batch type-fiscal year
"RTN","GECSUNUM",36,0)
 ;  example for fms: 460-FMS:MO-94
"RTN","GECSUNUM",37,0)
 ;  return next alphanumeric counter number
"RTN","GECSUNUM",38,0)
 I $L($G(GECSNAME))<10!($L($G(GECSNAME))>20) Q "invalid format for "_$G(GECSNAME)
"RTN","GECSUNUM",39,0)
 N %,DA,GECALPHA,GECCNT,X1,X2,X3
"RTN","GECSUNUM",40,0)
 ;
"RTN","GECSUNUM",41,0)
 S GECALPHA="ABCDEFGHIJKLMNPQRSTUVWXYZA"
"RTN","GECSUNUM",42,0)
 S DA=+$O(^GECS(2101.5,"B",GECSNAME,0))
"RTN","GECSUNUM",43,0)
 I 'DA D
"RTN","GECSUNUM",44,0)
 .   ;  add entry to file
"RTN","GECSUNUM",45,0)
 .   L +^GECS(2101.5,0)
"RTN","GECSUNUM",46,0)
 .   ;  check to make sure another job did not add entry between locks
"RTN","GECSUNUM",47,0)
 .   S DA=+$O(^GECS(2101.5,"B",GECSNAME,0)) I DA Q
"RTN","GECSUNUM",48,0)
 .   S %=^GECS(2101.5,0)
"RTN","GECSUNUM",49,0)
 .   F DA=$P(%,"^",3)+1:1 Q:'$D(^GECS(2101.5,DA))
"RTN","GECSUNUM",50,0)
 .   S ^GECS(2101.5,DA,0)=GECSNAME_"^0"
"RTN","GECSUNUM",51,0)
 .   S ^GECS(2101.5,"B",GECSNAME,DA)=""
"RTN","GECSUNUM",52,0)
 .   S $P(%,"^",3)=DA,$P(%,"^",4)=$P(%,"^",4)+1,^GECS(2101.5,0)=%
"RTN","GECSUNUM",53,0)
 .   L -^GECS(2101.5,0)
"RTN","GECSUNUM",54,0)
 ;
"RTN","GECSUNUM",55,0)
 L +^GECS(2101.5,DA)
"RTN","GECSUNUM",56,0)
 S %=$P(^GECS(2101.5,DA,0),"^",2)
"RTN","GECSUNUM",57,0)
 I %?1N2A D  G ACNTEND
"RTN","GECSUNUM",58,0)
 . I %="9ZZ"!(%="9zz") S %=1 Q  ;Highest value reached, start over at 1
"RTN","GECSUNUM",59,0)
 . S X3=$E(%,3)
"RTN","GECSUNUM",60,0)
 . S X2=$E(%,2)
"RTN","GECSUNUM",61,0)
 . S X1=$E(%,1)
"RTN","GECSUNUM",62,0)
 . S X3=$$ALPHA(X3) ;increment 3rd digit alpha
"RTN","GECSUNUM",63,0)
 . I X3="A" D  ;if 3rd digit alpha equal "A", then increment 2nd digit alpha
"RTN","GECSUNUM",64,0)
 .. S X2=$$ALPHA(X2) ; increment 2nd digit alpha
"RTN","GECSUNUM",65,0)
 .. I X2="A" S X1=X1+1 ;if 2nd digit alpha equal "A", then increase 1st digit number
"RTN","GECSUNUM",66,0)
 . S %=X1_X2_X3
"RTN","GECSUNUM",67,0)
 I %?2N1A D  G ACNTEND
"RTN","GECSUNUM",68,0)
 . I %="99Z"!(%="99z") S %="0AA" Q  ;Highest value reached, begin using alpha for 2nd digit
"RTN","GECSUNUM",69,0)
 . S X3=$E(%,3)
"RTN","GECSUNUM",70,0)
 . S GECCNT=$E(%,1,2)+1 ; increment number by 1
"RTN","GECSUNUM",71,0)
 . I GECCNT>99 S GECCNT="00" D  ;reset cnt to zero and increment 3rd digit alpha
"RTN","GECSUNUM",72,0)
 .. S X3=$$ALPHA(X3) ;increment 3rd digit alpha
"RTN","GECSUNUM",73,0)
 . I $L(GECCNT)=1 S GECCNT="0"_GECCNT
"RTN","GECSUNUM",74,0)
 . S %=GECCNT_X3
"RTN","GECSUNUM",75,0)
 S %=%+1
"RTN","GECSUNUM",76,0)
 I %>999 S %="00A" ;Highest all numeric value reached, begin using alpha as 3rd digit
"RTN","GECSUNUM",77,0)
ACNTEND S $P(^GECS(2101.5,DA,0),"^",2)=%
"RTN","GECSUNUM",78,0)
 L -^GECS(2101.5,DA)
"RTN","GECSUNUM",79,0)
 Q %
"RTN","GECSUNUM",80,0)
 ;
"RTN","GECSUNUM",81,0)
ALPHA(A) ;Increment alpha character to next letter in the alphabet
"RTN","GECSUNUM",82,0)
 ; A = Any letter in the alphabet except O to prevent confusion with zero
"RTN","GECSUNUM",83,0)
 N X,Y
"RTN","GECSUNUM",84,0)
 I A'?1A!(A="") Q "Z" ;when in doubt return "Z"
"RTN","GECSUNUM",85,0)
 S X=A X ^%ZOSF("UPPERCASE") S A=Y
"RTN","GECSUNUM",86,0)
 I A="O" Q "P"
"RTN","GECSUNUM",87,0)
 S A=$E(GECALPHA,$F(GECALPHA,A))
"RTN","GECSUNUM",88,0)
 Q A
"VER")
8.0^22.0
"BLD",6115,6)
^SEQ #30
**END**
**END**
