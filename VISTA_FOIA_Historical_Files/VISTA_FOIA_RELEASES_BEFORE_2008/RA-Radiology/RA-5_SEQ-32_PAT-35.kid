Released RA*5*35 SEQ #32
Extracted from mail message
**KIDS**:RA*5.0*35^

**INSTALL NAME**
RA*5.0*35
"BLD",3890,0)
RA*5.0*35^RADIOLOGY/NUCLEAR MEDICINE^0^3020717^y
"BLD",3890,1,0)
^^1^1^3020717^^^
"BLD",3890,1,1,0)
See patch description for this patch.
"BLD",3890,4,0)
^9.64PA^79^1
"BLD",3890,4,79,0)
79
"BLD",3890,4,79,222)
y^n^f^^^^n
"BLD",3890,4,"B",79,79)

"BLD",3890,"ABPKG")
n
"BLD",3890,"KRN",0)
^9.67PA^8989.52^19
"BLD",3890,"KRN",.4,0)
.4
"BLD",3890,"KRN",.401,0)
.401
"BLD",3890,"KRN",.402,0)
.402
"BLD",3890,"KRN",.403,0)
.403
"BLD",3890,"KRN",.5,0)
.5
"BLD",3890,"KRN",.84,0)
.84
"BLD",3890,"KRN",3.6,0)
3.6
"BLD",3890,"KRN",3.8,0)
3.8
"BLD",3890,"KRN",9.2,0)
9.2
"BLD",3890,"KRN",9.8,0)
9.8
"BLD",3890,"KRN",9.8,"NM",0)
^9.68A^4^4
"BLD",3890,"KRN",9.8,"NM",1,0)
RAPROD^^0^B35653697
"BLD",3890,"KRN",9.8,"NM",2,0)
RART3^^0^B18584011
"BLD",3890,"KRN",9.8,"NM",3,0)
RARTR3^^0^B12333871
"BLD",3890,"KRN",9.8,"NM",4,0)
RAUTL11^^0^B43958049
"BLD",3890,"KRN",9.8,"NM","B","RAPROD",1)

"BLD",3890,"KRN",9.8,"NM","B","RART3",2)

"BLD",3890,"KRN",9.8,"NM","B","RARTR3",3)

"BLD",3890,"KRN",9.8,"NM","B","RAUTL11",4)

"BLD",3890,"KRN",19,0)
19
"BLD",3890,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",3890,"KRN",19,"NM",1,0)
RA SET PREFERENCE LONG DISPLAY^^0
"BLD",3890,"KRN",19,"NM",2,0)
RA USERUTL^^2
"BLD",3890,"KRN",19,"NM","B","RA SET PREFERENCE LONG DISPLAY",1)

"BLD",3890,"KRN",19,"NM","B","RA USERUTL",2)

"BLD",3890,"KRN",19.1,0)
19.1
"BLD",3890,"KRN",101,0)
101
"BLD",3890,"KRN",409.61,0)
409.61
"BLD",3890,"KRN",771,0)
771
"BLD",3890,"KRN",870,0)
870
"BLD",3890,"KRN",8989.51,0)
8989.51
"BLD",3890,"KRN",8989.52,0)
8989.52
"BLD",3890,"KRN",8994,0)
8994
"BLD",3890,"KRN","B",.4,.4)

"BLD",3890,"KRN","B",.401,.401)

"BLD",3890,"KRN","B",.402,.402)

"BLD",3890,"KRN","B",.403,.403)

"BLD",3890,"KRN","B",.5,.5)

"BLD",3890,"KRN","B",.84,.84)

"BLD",3890,"KRN","B",3.6,3.6)

"BLD",3890,"KRN","B",3.8,3.8)

"BLD",3890,"KRN","B",9.2,9.2)

"BLD",3890,"KRN","B",9.8,9.8)

"BLD",3890,"KRN","B",19,19)

"BLD",3890,"KRN","B",19.1,19.1)

"BLD",3890,"KRN","B",101,101)

"BLD",3890,"KRN","B",409.61,409.61)

"BLD",3890,"KRN","B",771,771)

"BLD",3890,"KRN","B",870,870)

"BLD",3890,"KRN","B",8989.51,8989.51)

"BLD",3890,"KRN","B",8989.52,8989.52)

"BLD",3890,"KRN","B",8994,8994)

"BLD",3890,"QUES",0)
^9.62^^
"BLD",3890,"REQB",0)
^9.611^2^2
"BLD",3890,"REQB",1,0)
RA*5.0*18^2
"BLD",3890,"REQB",2,0)
RA*5.0*27^2
"BLD",3890,"REQB","B","RA*5.0*18",1)

"BLD",3890,"REQB","B","RA*5.0*27",2)

"FIA",79)
RAD/NUC MED DIVISION
"FIA",79,0)
^RA(79,
"FIA",79,0,0)
79P
"FIA",79,0,1)
y^n^f^^^^n
"FIA",79,0,10)

"FIA",79,0,11)

"FIA",79,0,"RLRO")

"FIA",79,0,"VR")
5.0^RA
"FIA",79,79)
0
"FIA",79,79.01)
0
"FIA",79,79.0125)
0
"FIA",79,79.02)
0
"FIA",79,79.03)
0
"KRN",19,1755,-1)
2^2
"KRN",19,1755,0)
RA USERUTL^User Utility Menu^^M^50^^^^^^^
"KRN",19,1755,10,0)
^19.01IP^7^7
"KRN",19,1755,10,7,0)
11554
"KRN",19,1755,10,7,"^")
RA SET PREFERENCE LONG DISPLAY
"KRN",19,1755,"U")
USER UTILITY MENU
"KRN",19,11554,-1)
0^1
"KRN",19,11554,0)
RA SET PREFERENCE LONG DISPLAY^Set preference for Long Display of Procedures^^R^^^^^^^^RADIOLOGY/NUCLEAR MEDICINE
"KRN",19,11554,1,0)
^^9^9^3020717^
"KRN",19,11554,1,1,0)
This option can be used to set preference for long display of procedures, 
"KRN",19,11554,1,2,0)
procedure modifiers, and CPT modifiers in all Radiology reports.  That 
"KRN",19,11554,1,3,0)
is, if a procedure and associated modifiers are repeated in the same 
"KRN",19,11554,1,4,0)
exam, each of the repeated procedure and modifier will be listed in the 
"KRN",19,11554,1,5,0)
Radiology report, instead of being listed only once.
"KRN",19,11554,1,6,0)
 
"KRN",19,11554,1,7,0)
This option can also be used to remove your previously set preference for 
"KRN",19,11554,1,8,0)
long display of procedures, and return to the condensed display of 
"KRN",19,11554,1,9,0)
procedures.
"KRN",19,11554,25)
SETL^RAPROD
"KRN",19,11554,"U")
SET PREFERENCE FOR LONG DISPLA
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",18,-1)
1^1
"PKG",18,0)
RADIOLOGY/NUCLEAR MEDICINE^RA^REGISTERS PATIENTS,RECORDS EXAMS,PROFILES,AMIS REPORTS
"PKG",18,20,0)
^9.402P^^
"PKG",18,22,0)
^9.49I^1^1
"PKG",18,22,1,0)
5.0^3011017^2980407^50
"PKG",18,22,1,"PAH",1,0)
35^3020717
"PKG",18,22,1,"PAH",1,1,0)
^^1^1^3020717
"PKG",18,22,1,"PAH",1,1,1,0)
See patch description for this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","RAPROD")
0^1^B35653697
"RTN","RAPROD",1,0)
RAPROD ;HISC/FPT,GJC AISC/MJK-Detailed Exam View ;8/1/97  11:13
"RTN","RAPROD",2,0)
 ;;5.0;Radiology/Nuclear Medicine;**10,35**;Mar 16, 1998
"RTN","RAPROD",3,0)
START S RADI=^RADPT(RADFN,"DT",RADTI,0) S:$D(^("P",RACNI,"COMP")) RA("COMP")=^("COMP") S RA("REA")=$S($D(^("R")):^("R"),1:"")
"RTN","RAPROD",4,0)
 S RA("TECH")=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"TC",0)) I RA("TECH") S RA("TECH")=$S($D(^VA(200,+^(RA("TECH"),0),0)):$P(^(0),"^"),1:"")
"RTN","RAPROD",5,0)
 S X=$P(Y(0),"^",4),RA("CAT")=$S(X="I":"INPATIENT",X="O":"OUTPATIENT",X="S":"SHARING",X="C":"CONTRACT",X="R":"RESEARCH",X="E":"EMPLOYEE",1:"UNKNOWN")
"RTN","RAPROD",6,0)
 S X=$S($D(^RARPT(+RARPT,0)):$P(^(0),"^",5),1:""),RA("RST")=$S(X="D":"DRAFT",X="V":"VERIFIED",X="R":"RELEASED/NOT VERIFIED",X="PD":"PROBLEM DRAFT",1:"NO REPORT")
"RTN","RAPROD",7,0)
 F I=1:1:13 S Y=$T(LIST+I),@$P(Y,";",3)=$S($D(@($P(Y,";",4)_+$P(@$P(Y,";",5),"^",$P(Y,";",6))_",0)")):$P(^(0),"^"),1:"")
"RTN","RAPROD",8,0)
 ;
"RTN","RAPROD",9,0)
 N RAOPRC ; this will be the Requested Procedure defined only if it
"RTN","RAPROD",10,0)
 ; differs from the Registered Procedure
"RTN","RAPROD",11,0)
 I +$P(Y(0),U,11),($$DPROC^RAUTL15(RADFN,RADTI,RACNI,+$P(Y(0),U,11))]"") D
"RTN","RAPROD",12,0)
 . S RAOPRC=$$GET1^DIQ(75.1,+$P(Y(0),"^",11)_",",2)
"RTN","RAPROD",13,0)
 . Q
"RTN","RAPROD",14,0)
VIEW W @IOF S X="",$P(X,"=",80)="" W X K X
"RTN","RAPROD",15,0)
 W !?2,"Name        : ",RANME,"    ",RASSN
"RTN","RAPROD",16,0)
 W !?2,"Division    : ",$E(RA("DIV"),1,20),?40,"Category     : ",RA("CAT")
"RTN","RAPROD",17,0)
 W !?2,"Location    : ",$S($D(^SC(+RA("LOC"),0)):$P(^(0),"^"),1:"Unknown"),?40,"Ward         : ",$E(RA("WRD"),1,24)
"RTN","RAPROD",18,0)
 W !?2,"Exam Date   : ",RADATE,?40,"Service      : ",$E(RA("SERV"),1,24)
"RTN","RAPROD",19,0)
 W !?2,"Case No.    : ",RACN W ?40,"Bedsection   : ",$E(RA("BED"),1,24)
"RTN","RAPROD",20,0)
 W !?40,"Clinic       : ",$E(RA("CL"),1,24)
"RTN","RAPROD",21,0)
 S Y=$E(RA("CAT")) I "CSR"[Y W !?40,$E($S("C"=Y:"Contract     : "_RA("CONT"),"S"=Y:"Sharing      : "_RA("CONT"),"R"=Y:"Research     : "_RA("REA"),1:""),1,38)
"RTN","RAPROD",22,0)
 W:$X>1 ! S X="",$P(X,"-",80)="" W X K X
"RTN","RAPROD",23,0)
 W !?2,"Registered    : ",$E(RAPRC,1,60) D PRCCPT
"RTN","RAPROD",24,0)
 W:$G(RAOPRC)]"" !?2,"Requested     : ",$E(RAOPRC,1,60)
"RTN","RAPROD",25,0)
 W !?2,"Requesting Phy: ",$E(RA("PHY"),1,20),?40,"Exam Status  : ",$S($D(^RA(72,RAST,0)):$E($P(^(0),"^"),1,24),1:"")
"RTN","RAPROD",26,0)
 W !?2,"Int'g Resident: ",$E(RA("RES"),1,20),?40,"Report Status: ",$E(RA("RST"),1,21)
"RTN","RAPROD",27,0)
 S RAPREVER=+$P($G(^RARPT(RARPT,0)),"^",13)
"RTN","RAPROD",28,0)
 W !?2,"Pre-Verified  : ",$E($S($D(^VA(200,RAPREVER,0)):$P(^(0),"^",1),1:"NO"),1,20),?40,"Cam/Equip/Rm : ",$E(RA("RM"),1,20) K RAPREVER
"RTN","RAPROD",29,0)
 W !?2,"Int'g Staff   : ",$E(RA("STAFF"),1,20),?40,"Diagnosis    : ",$E(RA("DIA"),1,24)
"RTN","RAPROD",30,0)
 W !?2,"Technologist  : ",$E(RA("TECH"),1,20),?40,"Complication : ",$E(RA("CMP"),1,24)
"RTN","RAPROD",31,0)
 I $D(RA("COMP")) W !?2,"Comment       : " F I=1:60 Q:$E(RA("COMP"),I,I+59)']""  W ?18,$E(RA("COMP"),I,I+59),!
"RTN","RAPROD",32,0)
 W:$X>1 !
"RTN","RAPROD",33,0)
 K RAFL W ?40,"Films        :" F I=0:0 S I=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"F",I)) Q:I'>0  I $D(^(I,0)) S X=^(0) W ?55,$S($D(^RA(78.4,+$P(X,"^"),0)):$P(^(0),"^"),1:"Unknown")," - ",+$P(X,"^",2),!
"RTN","RAPROD",34,0)
 W:$X>1 ! S X="",$P(X,"-",34)="" W X
"RTN","RAPROD",35,0)
 W "Modifiers" W $E(X,1,32) K X
"RTN","RAPROD",36,0)
 W !?2,"Proc Modifiers:" D MODS^RAUTL2 F I=1:1 Q:$P(Y,", ",I)']""  W ?18,$P(Y,", ",I),!
"RTN","RAPROD",37,0)
 N J
"RTN","RAPROD",38,0)
 W !?2,"CPT Modifiers : " W:Y(1)="None" Y(1),!
"RTN","RAPROD",39,0)
 I Y(1)'="None" F I=1:1 Q:$P(Y(2),", ",I)']""  S J=$P(Y(2),", ",I),J=$$BASICMOD^RACPTMSC(J,DT) W ?18,$P(J,"^",2)," ",$P(J,"^",3),! I $Y>(IOSL-4) S RAXIT=$$EOS^RAUTL5() Q:RAXIT  W @IOF W !
"RTN","RAPROD",40,0)
 Q:+$G(RAXIT)
"RTN","RAPROD",41,0)
 I $O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"RX",0)) D PHARM^RAPROD2(RACNI_","_RADTI_","_RADFN_",") W ! ; display pharmaceutical data
"RTN","RAPROD",42,0)
 I +$G(RAXIT) K RAXIT Q
"RTN","RAPROD",43,0)
 I +$P($G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0)),"^",28) D RDIO^RAPROD2(+$P(^(0),"^",28)) W ! ; display radiopharm data
"RTN","RAPROD",44,0)
 I +$G(RAXIT) K RAXIT Q
"RTN","RAPROD",45,0)
 S X="",$P(X,"=",80)="" W X K X
"RTN","RAPROD",46,0)
 G ^RAPROD1
"RTN","RAPROD",47,0)
 ;
"RTN","RAPROD",48,0)
PRCCPT ; display Proc's abbrv, proc type, CPT
"RTN","RAPROD",49,0)
 Q:$G(RADTI)=""  Q:$G(RACNI)=""
"RTN","RAPROD",50,0)
 ;
"RTN","RAPROD",51,0)
 N RADISPLY
"RTN","RAPROD",52,0)
 S RADISPLY=$G(^RAMIS(71,+$P($G(^RADPT(+RADFN,"DT",+RADTI,"P",+RACNI,0)),U,2),0)) ; set $ZR to file 71 before calling prccpt^radd1
"RTN","RAPROD",53,0)
 S RADISPLY=$$PRCCPT^RADD1()
"RTN","RAPROD",54,0)
 W ?54,RADISPLY
"RTN","RAPROD",55,0)
 Q
"RTN","RAPROD",56,0)
SETL ;Set long display preference
"RTN","RAPROD",57,0)
 N RA1,RA2,DIR
"RTN","RAPROD",58,0)
 S RA1=$O(^RA(79,0)) Q:'RA1
"RTN","RAPROD",59,0)
 S RA2=$O(^RA(79,RA1,"LDIS","B",DUZ,0))
"RTN","RAPROD",60,0)
 I RA2 D  Q
"RTN","RAPROD",61,0)
 . W !!,"Your preference for Long Display of Procedures has already been set."
"RTN","RAPROD",62,0)
 . S DIR(0)="Y",DIR("A")="Do you want to delete your preference ",DIR("B")="No"
"RTN","RAPROD",63,0)
 . S DIR("?",1)="If you answer 'Yes', then all Radiology reports requested by you will"
"RTN","RAPROD",64,0)
 . S DIR("?",2)="will default to the condensed display, which means that repeated procedures"
"RTN","RAPROD",65,0)
 . S DIR("?")="and associated modifiers will only be listed once."
"RTN","RAPROD",66,0)
 . D ^DIR
"RTN","RAPROD",67,0)
 . Q:'Y
"RTN","RAPROD",68,0)
 . D DEL150
"RTN","RAPROD",69,0)
 . Q
"RTN","RAPROD",70,0)
 W !
"RTN","RAPROD",71,0)
 S DIR(0)="Y",DIR("A",1)="Do you want to set your preference for Long Display of Procedures"
"RTN","RAPROD",72,0)
 S DIR("A")="in all Radiology reports ",DIR("B")="No"
"RTN","RAPROD",73,0)
 S DIR("?",1)="If you answer 'Yes', then all Radiology reports requested by you will"
"RTN","RAPROD",74,0)
 S DIR("?",2)="list all repeated procedures and associated modifiers instead of"
"RTN","RAPROD",75,0)
 S DIR("?")="listing repeated procedures only once, which is the condensed (default) format."
"RTN","RAPROD",76,0)
 D ^DIR
"RTN","RAPROD",77,0)
 Q:'Y
"RTN","RAPROD",78,0)
 D STUF150
"RTN","RAPROD",79,0)
 Q
"RTN","RAPROD",80,0)
DEL150 ;Delete user ien from 1st record in file 79's field 150
"RTN","RAPROD",81,0)
 ; note: DIK utility looks for DA(1) here
"RTN","RAPROD",82,0)
 Q:'$D(DUZ)#2
"RTN","RAPROD",83,0)
 S DA(1)=$O(^RA(79,0)) Q:'DA(1)
"RTN","RAPROD",84,0)
 S DIK="^RA(79,"_DA(1)_",""LDIS"","
"RTN","RAPROD",85,0)
 S DA=$O(^RA(79,DA(1),"LDIS","B",DUZ,0))
"RTN","RAPROD",86,0)
 Q:'DA
"RTN","RAPROD",87,0)
 D ^DIK
"RTN","RAPROD",88,0)
 K DIK,DA
"RTN","RAPROD",89,0)
 W !!,"Your preference for Long Display of Procedures has been removed.",!
"RTN","RAPROD",90,0)
 Q
"RTN","RAPROD",91,0)
STUF150 ;Stuff user ien into 1st record in file 79's field 150
"RTN","RAPROD",92,0)
 Q:'$D(DUZ)#2
"RTN","RAPROD",93,0)
 S RA1=$O(^RA(79,0)) Q:'RA1
"RTN","RAPROD",94,0)
 K RAFDA,RAIEN,RAMSG
"RTN","RAPROD",95,0)
 S RAFDA(79.03,"?+2,"_RA1_",",.01)=DUZ
"RTN","RAPROD",96,0)
 D UPDATE^DIE("","RAFDA","RAIEN","RAMSG")
"RTN","RAPROD",97,0)
 W !!,"Your preference for Long Display of Procedures has been set.",!
"RTN","RAPROD",98,0)
 Q
"RTN","RAPROD",99,0)
CDIS ; set up RACDIS array to store 1st non-duplicate proc+pmod+cptmod
"RTN","RAPROD",100,0)
 N N1,N2,R1,RA71,Y
"RTN","RAPROD",101,0)
 K RACDIS
"RTN","RAPROD",102,0)
 D LDIS
"RTN","RAPROD",103,0)
 S N1=0
"RTN","RAPROD",104,0)
 F  S N1=$O(^RADPT(RADFN,"DT",RADTI,"P",N1)) Q:'N1  S R1=$G(^(N1,0)) D:R1]""
"RTN","RAPROD",105,0)
 . S RA71=$P(R1,U,2),RACNI=N1
"RTN","RAPROD",106,0)
 . D MODS^RAUTL2
"RTN","RAPROD",107,0)
 . S RACDIS("B",RA71,Y,Y(1),N1)=""
"RTN","RAPROD",108,0)
 . S N2=$O(RACDIS("B",RA71,Y,Y(1),0))
"RTN","RAPROD",109,0)
 . S RACDIS(N2)=$G(RACDIS(N2))+1 ;increment lowest ien of same proc+pmod+cptmod
"RTN","RAPROD",110,0)
 . S:RACDIS(N2)>1 RACDIS("RAFLDUP")=1 ;>1 same proc+pmod+cptmod
"RTN","RAPROD",111,0)
 . Q
"RTN","RAPROD",112,0)
 Q
"RTN","RAPROD",113,0)
LDIS ; See if user prefers Long Display of Procedures
"RTN","RAPROD",114,0)
 N RA1
"RTN","RAPROD",115,0)
 S RA1=$O(^RA(79,0)) Q:'RA1
"RTN","RAPROD",116,0)
 S:$O(^RA(79,RA1,"LDIS","B",DUZ,0)) RALDIS=1
"RTN","RAPROD",117,0)
 Q
"RTN","RAPROD",118,0)
LIST ;
"RTN","RAPROD",119,0)
 ;;RA("DIV");^DIC(4,;RADI;3
"RTN","RAPROD",120,0)
 ;;RA("LOC");^RA(79.1,;RADI;4
"RTN","RAPROD",121,0)
 ;;RA("WRD");^DIC(42,;Y(0);6
"RTN","RAPROD",122,0)
 ;;RA("SERV");^DIC(49,;Y(0);7
"RTN","RAPROD",123,0)
 ;;RA("CL");^SC(;Y(0);8
"RTN","RAPROD",124,0)
 ;;RA("CONT");^DIC(34,;Y(0);9
"RTN","RAPROD",125,0)
 ;;RA("RES");^VA(200,;Y(0);12
"RTN","RAPROD",126,0)
 ;;RA("DIA");^RA(78.3,;Y(0);13
"RTN","RAPROD",127,0)
 ;;RA("PHY");^VA(200,;Y(0);14
"RTN","RAPROD",128,0)
 ;;RA("STAFF");^VA(200,;Y(0);15
"RTN","RAPROD",129,0)
 ;;RA("CMP");^RA(78.1,;Y(0);16
"RTN","RAPROD",130,0)
 ;;RA("RM");^RA(78.6,;Y(0);18
"RTN","RAPROD",131,0)
 ;;RA("BED");^DIC(42.4,;Y(0);19
"RTN","RART3")
0^2^B18584011
"RTN","RART3",1,0)
RART3 ;HISC/GJC,SWM-Reporting Menu (Part 2) ;8/31/99  13:57
"RTN","RART3",2,0)
 ;;5.0;Radiology/Nuclear Medicine;**8,10,18,27,35**;Mar 16, 1998
"RTN","RART3",3,0)
 ; continue from RART1
"RTN","RART3",4,0)
 ; last modif by SS for P18
"RTN","RART3",5,0)
QRPT ; Queue the report to run
"RTN","RART3",6,0)
 N X K IOP,%ZIS S %ZIS="Q",%ZIS("B")=""
"RTN","RART3",7,0)
 S %ZIS("S")="I $E($P($G(^%ZIS(2,+$P($G(^(""SUBTYPE"")),""^""),0)),""^""),1,2)=""P-"""
"RTN","RART3",8,0)
 W ! D ^%ZIS
"RTN","RART3",9,0)
 I POP D Q6^RART1 Q
"RTN","RART3",10,0)
 I $E(IOST,1,2)="P-",('$D(IO("Q"))) D
"RTN","RART3",11,0)
 . D PRT^RARTR
"RTN","RART3",12,0)
 . Q
"RTN","RART3",13,0)
 I $D(IO("Q")) D
"RTN","RART3",14,0)
 . K RANME,RAPRC,Y S U="^",DT=$S($G(DT)]"":DT,1:$$DT^XLFDT())
"RTN","RART3",15,0)
 . S ZTDESC="Rad/Nuc Med Abnormal Report Alert",ZTRTN="PRT^RARTR"
"RTN","RART3",16,0)
 . S:$D(RARTMES) ZTSAVE("RARTMES")=""
"RTN","RART3",17,0)
 . F I="DT","RARPT","U" S ZTSAVE(I)=""
"RTN","RART3",18,0)
 . D ^%ZTLOAD W:$D(ZTSK) "   Task # ",ZTSK
"RTN","RART3",19,0)
 . K IO("Q"),ZTDESC,ZTRTN,ZTSAVE
"RTN","RART3",20,0)
 . Q
"RTN","RART3",21,0)
 W ! D ^%ZISC,HOME^%ZIS
"RTN","RART3",22,0)
 D Q6^RART1,EXIT^RART
"RTN","RART3",23,0)
 Q
"RTN","RART3",24,0)
PHYS N RA2ND,R1,R2,RASTR
"RTN","RART3",25,0)
 S (R1,R2)=0 F  S R2=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"SRR",R2)) Q:'R2  S:+$G(^(R2,0)) R1=R1+1,RA2ND("SRR",R1)=+^(0),RA2ND("SRR",R1)=$E($P($G(^VA(200,RA2ND("SRR",R1),0)),"^"),1,20)
"RTN","RART3",26,0)
 S (R1,R2)=0 F  S R2=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"SSR",R2)) Q:'R2  S:+$G(^(R2,0)) R1=R1+1,RA2ND("SSR",R1)=+^(0),RA2ND("SSR",R1)=$E($P($G(^VA(200,RA2ND("SSR",R1),0)),"^"),1,20)
"RTN","RART3",27,0)
 S R1=$E($P($G(^VA(200,+$P(R3,"^",15),0)),"^"),1,15)
"RTN","RART3",28,0)
 S RASTR="Staff Phys: "_R1 S:R1]"" RASTR=RASTR_" (P)"
"RTN","RART3",29,0)
PHYS1 I '$O(RA2ND("SSR",0)) W !,RASTR G PHYS2
"RTN","RART3",30,0)
 S R1=0
"RTN","RART3",31,0)
PHYS11 S R1=$O(RA2ND("SSR",R1)) G:R1="" PHYS19
"RTN","RART3",32,0)
 I $L(RASTR)+$L(RA2ND("SSR",R1))>79 W !,RASTR,";" S RASTR="   "
"RTN","RART3",33,0)
 S:RASTR]"   " RASTR=RASTR_"; " S RASTR=RASTR_RA2ND("SSR",R1) G PHYS11
"RTN","RART3",34,0)
PHYS19 W:RASTR]"" !,RASTR
"RTN","RART3",35,0)
PHYS2 S R1=$E($P($G(^VA(200,+$P(R3,"^",12),0)),"^"),1,15)
"RTN","RART3",36,0)
 S RASTR="Residents : "_R1 S:R1]"" RASTR=RASTR_" (P)"
"RTN","RART3",37,0)
 I '$O(RA2ND("SRR",0)) W !,RASTR Q
"RTN","RART3",38,0)
 S R1=0
"RTN","RART3",39,0)
PHYS21 S R1=$O(RA2ND("SRR",R1)) G:R1="" PHYS29
"RTN","RART3",40,0)
 I $L(RASTR)+$L(RA2ND("SRR",R1))>79 W !,RASTR,";" S RASTR="   "
"RTN","RART3",41,0)
 S:RASTR]"   " RASTR=RASTR_"; " S RASTR=RASTR_RA2ND("SRR",R1) G PHYS21
"RTN","RART3",42,0)
PHYS29 W:RASTR]"" !,RASTR
"RTN","RART3",43,0)
 Q
"RTN","RART3",44,0)
MODSET ; print modifiers of all cases of print set
"RTN","RART3",45,0)
 N RACDIS,RALDIS,RACNISAV,RAMEMARR,R1
"RTN","RART3",46,0)
 D EN2^RAUTL20(.RAMEMARR) Q:'$O(RAMEMARR(0))
"RTN","RART3",47,0)
 S RACNISAV=RACNI,RACNI=0
"RTN","RART3",48,0)
 D CDIS^RAPROD S RACNI=0
"RTN","RART3",49,0)
 F  S RACNI=$O(RAMEMARR(RACNI)) Q:'RACNI  D  Q:$L($G(X))  I $G(RAXIT) S X="^" Q
"RTN","RART3",50,0)
 . S R1=$G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0))
"RTN","RART3",51,0)
 . D MODS^RAUTL2
"RTN","RART3",52,0)
 . ; If printing page at a time we need to check the length - RA*5*8
"RTN","RART3",53,0)
 . I $Y>(IOSL-6),'$D(RARTVERF) S RAP="" D WAIT^RART1 I X="^"!(X="P")!(X="T") Q
"RTN","RART3",54,0)
 . K X
"RTN","RART3",55,0)
 . D OUT1
"RTN","RART3",56,0)
 . S:+$P(R1,"^",28) X=$$RDIO1^RARTUTL1(+$P(R1,"^",28))  Q:$L($G(X))
"RTN","RART3",57,0)
 . S:+$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"RX",0)) X=$$PHARM1^RARTUTL(RACNI_","_RADTI_","_RADFN_",")
"RTN","RART3",58,0)
 . Q
"RTN","RART3",59,0)
 S RACNI=RACNISAV
"RTN","RART3",60,0)
 W !
"RTN","RART3",61,0)
 Q
"RTN","RART3",62,0)
OUT1 ; print Procedure name, CPT code, Procedure modifier, and CPT Modifiers
"RTN","RART3",63,0)
 ; $O(RAMEMARR(0)) may be defined, if previously called MODSET^RART3
"RTN","RART3",64,0)
 ; RALDIS flags long display wanted, comes from certain output options
"RTN","RART3",65,0)
 ; RACDIS(n) exists if case n is to be displayed
"RTN","RART3",66,0)
 ; RACDIS(n) not set for dupl proc+pmod+cptmod so don't display
"RTN","RART3",67,0)
 ; If printset, skip if not long format or case not marked for cond.displ
"RTN","RART3",68,0)
 I $O(RAMEMARR(0)),'$G(RALDIS),'$D(RACDIS(RACNI)) Q
"RTN","RART3",69,0)
 N I,J
"RTN","RART3",70,0)
 N RA18RET S RA18RET=0 ;P18
"RTN","RART3",71,0)
 S R1=$G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0))
"RTN","RART3",72,0)
 ; Check if cancelled and not part of this report
"RTN","RART3",73,0)
 I $P(^RA(72,+$P(R1,"^",3),0),"^",3)=0,($P(R1,"^",17)="") Q
"RTN","RART3",74,0)
 I $P(^RA(72,+$P(R1,"^",3),0),"^",3)=0 D
"RTN","RART3",75,0)
 .W !,$S($G(RALDIS):"",'$D(RACDIS):"",$G(RACDIS(RACNI))=1:"",1:RACDIS(RACNI)_"x"),?4,$E($P($G(^RAMIS(71,+$P(R1,"^",2),0)),"^"),1,42)_" (cancelled)"
"RTN","RART3",76,0)
 E  W !,$S($G(RALDIS):"",'$D(RACDIS):"",$G(RACDIS(RACNI))=1:"",1:RACDIS(RACNI)_"x"),?4,$P($G(^RAMIS(71,+$P(R1,"^",2),0)),"^")
"RTN","RART3",77,0)
 D PRCCPT^RAPROD
"RTN","RART3",78,0)
 W:Y'="None" !?5,"Proc Modifiers : ",Y
"RTN","RART3",79,0)
 W:Y(1)'="None" !?5,"CPT Modifiers  :"
"RTN","RART3",80,0)
 I Y(1)'="None" F I=1:1 Q:$P(Y(2),", ",I)']""  S J=$P(Y(2),", ",I),J=$$BASICMOD^RACPTMSC(J,DT) W ?22,$P(J,"^",2)," ",$P(J,"^",3) W:$P(Y(2),", ",I+1)]"" ! I '$D(RARTVERF),$Y>(IOSL-5) S RAXIT=$$EOS^RAUTL5() S:RAXIT RA18RET=-1 Q:RAXIT  W @IOF W !
"RTN","RART3",81,0)
 Q:RA18RET=-1  ;P18
"RTN","RART3",82,0)
 ;RATECHCO is defined in OPTION FILE's  ENTRY/EXIT ACTION
"RTN","RART3",83,0)
 I $D(RATECHCO) W:$G(Y(1))="None" ! S RA18RET=$$PUTTCOM^RAUTL11(RADFN,RADTI,RACNI,"     Tech.Comment   : ",22,70,7,0,0,2,0) S:RA18RET=-1 RAXIT=1 Q:RA18RET=-1  ;P18
"RTN","RART3",84,0)
 Q
"RTN","RARTR3")
0^3^B12333871
"RTN","RARTR3",1,0)
RARTR3 ;HIRMFO/SWM-Queue/print Radiology Reports (utility) ;8/31/99  13:57
"RTN","RARTR3",2,0)
 ;;5.0;Radiology/Nuclear Medicine;**8,10,19,27,35**;Mar 16, 1998
"RTN","RARTR3",3,0)
MEMS1 ;--- modifiers --- handle cases within print set
"RTN","RARTR3",4,0)
 N RACNISAV,RAY3SAV,RAMEMARR,RACDIS,RALDIS
"RTN","RARTR3",5,0)
 D EN2^RAUTL20(.RAMEMARR) Q:'$O(RAMEMARR(0))
"RTN","RARTR3",6,0)
 S RACNISAV=RACNI,RAY3SAV=RAY3,RACNI=0
"RTN","RARTR3",7,0)
 D CDIS^RAPROD S RACNI=0
"RTN","RARTR3",8,0)
 F  S RACNI=$O(RAMEMARR(RACNI)) Q:'RACNI  D  S:$G(RAXIT) RAOOUT=1  Q:$D(RAOOUT)
"RTN","RARTR3",9,0)
 . S RAY3=$G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0))
"RTN","RARTR3",10,0)
 . ;Check if cancelled & not part of printset
"RTN","RARTR3",11,0)
 . I $P(^RA(72,+$P(RAY3,"^",3),0),"^",3)=0,($P(RAY3,"^",17)="") Q
"RTN","RARTR3",12,0)
 . D MODS^RAUTL2
"RTN","RARTR3",13,0)
 . ; If printing page at a time we need to check the length - RA*5*8
"RTN","RARTR3",14,0)
 . I '$D(RAUTOE),$Y>(IOSL-6),IOST["C-" S RAP="" D WAIT^RART1 I X="^"!(X="P")!(X="T") S RAOOUT=1 Q
"RTN","RARTR3",15,0)
 . D OUT1 Q:$G(RAXIT)
"RTN","RARTR3",16,0)
 . D:+$P(RAY3,"^",28) RDIO^RARTUTL(+$P(RAY3,"^",28)) Q:$D(RAOOUT)
"RTN","RARTR3",17,0)
 . D:+$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"RX",0)) PHARM^RARTUTL(RACNI_","_RADTI_","_RADFN_",")
"RTN","RARTR3",18,0)
 . Q
"RTN","RARTR3",19,0)
 S RACNI=RACNISAV,RAY3=RAY3SAV
"RTN","RARTR3",20,0)
 Q
"RTN","RARTR3",21,0)
OUT1 ;
"RTN","RARTR3",22,0)
 ; $O(RAMEMARR(0)) may be defined, if previously called MEMS1^RARTR3
"RTN","RARTR3",23,0)
 ; RALDIS flags long display wanted, comes from certain output options
"RTN","RARTR3",24,0)
 ; RACDIS(n) exists if case n is to be displayed
"RTN","RARTR3",25,0)
 ; RACDIS(n) not set for dupl proc+pmod+cptmod so don't display
"RTN","RARTR3",26,0)
 I $O(RAMEMARR(0)),'$G(RALDIS),'$D(RACDIS(RACNI)) Q
"RTN","RARTR3",27,0)
 I $D(RAUTOE) G MAIL1
"RTN","RARTR3",28,0)
 W !,$$XAM() W:Y'="None" !?RATAB,"Proc Modifiers : ",Y
"RTN","RARTR3",29,0)
 N I,J
"RTN","RARTR3",30,0)
 W:Y(1)'="None" !?RATAB,"CPT Modifiers  : "
"RTN","RARTR3",31,0)
 I Y(1)'="None" F I=1:1 Q:$P(Y(2),", ",I)']""  S J=$P(Y(2),", ",I),J=$$BASICMOD^RACPTMSC(J,DT) W ?22,$P(J,"^",2)," ",$P(J,"^",3) W:$P(Y(2),", ",I+1)]"" ! I $Y>(IOSL-5) S RAXIT=$$EOS^RAUTL5() Q:RAXIT  W @IOF W !
"RTN","RARTR3",32,0)
 Q
"RTN","RARTR3",33,0)
MAIL1 S ^TMP($J,"RA AUTOE",$$INCR^RAUTL4(RAACNT))=""
"RTN","RARTR3",34,0)
 S ^TMP($J,"RA AUTOE",$$INCR^RAUTL4(RAACNT))=$$XAM()
"RTN","RARTR3",35,0)
 S:Y'="None" ^TMP($J,"RA AUTOE",$$INCR^RAUTL4(RAACNT))="     Proc Modifiers : "_Y
"RTN","RARTR3",36,0)
 Q:Y(1)="None"
"RTN","RARTR3",37,0)
 S J=$P(Y(2),", ",1),J=$$BASICMOD^RACPTMSC(J,DT) S:+J<0 $P(J,"^",2,3)="None^"
"RTN","RARTR3",38,0)
 S ^TMP($J,"RA AUTOE",$$INCR^RAUTL4(RAACNT))="     CPT Modifiers  : "_$S(J]"":$P(J,"^",2)_" "_$P(J,"^",3),1:"")
"RTN","RARTR3",39,0)
 F I=2:1 Q:$P(Y(2),", ",I)']""  S J=$P(Y(2),", ",I),J=$$BASICMOD^RACPTMSC(J,DT) S ^TMP($J,"RA AUTOE",$$INCR^RAUTL4(RAACNT))="                      "_$P(J,"^",2)_" "_$P(J,"^",3)
"RTN","RARTR3",40,0)
 Q
"RTN","RARTR3",41,0)
 ;
"RTN","RARTR3",42,0)
XAM() ; Return exam data information.  Case number, exam status & procedure
"RTN","RARTR3",43,0)
 ; name build into one string.  Assumes RAY3 is the 0 node for exam data
"RTN","RARTR3",44,0)
 Q:$G(RAY3)="" "" ; no exam information present.
"RTN","RARTR3",45,0)
 N RAPROC,RAXAMSTR S RAXAMSTR=""
"RTN","RARTR3",46,0)
 I $G(RALDIS)!('$O(RAMEMARR(0)))!($O(RAMEMARR(0))&($G(RACDIS(RACNI))=1)) D
"RTN","RARTR3",47,0)
 . S $E(RAXAMSTR,1,5)="(Case"
"RTN","RARTR3",48,0)
 . S $E(RAXAMSTR,7,(7+$L(+RAY3)))=+RAY3
"RTN","RARTR3",49,0)
 . S $E(RAXAMSTR,$L(RAXAMSTR)+2,79)=$S($D(^RA(72,+$P(RAY3,"^",3),0)):$E($P(^(0),"^"),1,8)_")",1:"Unknown)")
"RTN","RARTR3",50,0)
 . Q
"RTN","RARTR3",51,0)
 E  S:$G(RACDIS(RACNI)) $E(RAXAMSTR,1)="(",$E(RAXAMSTR,9,14)=RACDIS(RACNI)_"x",$E(RAXAMSTR,20)=")"
"RTN","RARTR3",52,0)
 S RAPROC=$G(^RAMIS(71,+$P(RAY3,"^",2),0))
"RTN","RARTR3",53,0)
 S $E(RAXAMSTR,22,54)=$S($P(RAPROC,"^")]"":$E($P(RAPROC,"^"),1,33),1:"Unknown")
"RTN","RARTR3",54,0)
 N RADISPLY
"RTN","RARTR3",55,0)
 S RADISPLY=$G(^RAMIS(71,+$P($G(^RADPT(+RADFN,"DT",+RADTI,"P",+RACNI,0)),U,2),0)) ; set $ZR to 71 for prccpt^radd1, not call raprod since store result
"RTN","RARTR3",56,0)
 S RADISPLY=$$PRCCPT^RADD1()
"RTN","RARTR3",57,0)
 S $E(RAXAMSTR,55,79)=RADISPLY
"RTN","RARTR3",58,0)
 Q RAXAMSTR
"RTN","RAUTL11")
0^4^B43958049
"RTN","RAUTL11",1,0)
RAUTL11 ;HISC/CAH,FPT,GJC,SS-Utility File Maintenance ;4/21/97  11:59
"RTN","RAUTL11",2,0)
 ;;5.0;Radiology/Nuclear Medicine;**18,35**;Mar 16, 1998
"RTN","RAUTL11",3,0)
 ;
"RTN","RAUTL11",4,0)
 ;Last modification : by SS, SEP 30,2000 for P18 
"RTN","RAUTL11",5,0)
HEAD ; Header
"RTN","RAUTL11",6,0)
 I $E(IOST,1,2)="C-"!(RAPG>0) W:$Y>0 @IOF
"RTN","RAUTL11",7,0)
 S RAPG=RAPG+1
"RTN","RAUTL11",8,0)
 W !?62,"Page: ",RAPG,!?62,"Date: ",RADATE
"RTN","RAUTL11",9,0)
 W !!?(IOM-$L(RAHDR)\2),RAHDR,!,RALINE,!
"RTN","RAUTL11",10,0)
 Q
"RTN","RAUTL11",11,0)
ORDELSH ;Called by the 'List Exams with Inactive/Invalid Statuses' option.
"RTN","RAUTL11",12,0)
 ;Exams with statuses whose 'Order' field is blank are printed
"RTN","RAUTL11",13,0)
 N RADATE,RAHDR,RALINE,RAOUT,RAPG,Y
"RTN","RAUTL11",14,0)
 S RAHDR="Exams with Inactive/Invalid Statuses"
"RTN","RAUTL11",15,0)
 S (RAPG,RAOUT)=0,$P(RALINE,"=",(IOM+1))="",Y=DT
"RTN","RAUTL11",16,0)
 X ^DD("DD") S RADATE=Y
"RTN","RAUTL11",17,0)
 K %ZIS S %ZIS="MQ" W ! D ^%ZIS I POP D Q2 Q
"RTN","RAUTL11",18,0)
 I $D(IO("Q")) D  W ! Q
"RTN","RAUTL11",19,0)
 . S ZTDESC="Rad/Nuc Med List Exams with Inactive/Invalid Statuses",ZTSAVE("RA*")=""
"RTN","RAUTL11",20,0)
 . S ZTRTN="2^RAUTL11" D ^%ZTLOAD
"RTN","RAUTL11",21,0)
 . W !?5,$S($D(ZTSK):"Request Queued!",1:"Request Cancelled!")
"RTN","RAUTL11",22,0)
 . Q
"RTN","RAUTL11",23,0)
 D 2
"RTN","RAUTL11",24,0)
 Q
"RTN","RAUTL11",25,0)
2 ;
"RTN","RAUTL11",26,0)
 N A,B,C,D,E,F,FT,G,H,HD,I,J,K,L,LN,RACASE,RAEXDT,RAPAT,RAPROC,RARPT
"RTN","RAUTL11",27,0)
 N RASSN,X,Y,Y1,Y2 D HEAD
"RTN","RAUTL11",28,0)
 S (A,F)=0,FT="No evidence of inactive/invalid exams was detected."
"RTN","RAUTL11",29,0)
 S HD(1)="Exam Status: ",HD(2)="Imaging Type: "
"RTN","RAUTL11",30,0)
 S $P(LN(1),"*",($L(HD(1))-1))="",$P(LN(2),"*",($L(HD(2))-1))=""
"RTN","RAUTL11",31,0)
 F  S A=$O(^RA(72,A)) Q:A'>0  D  Q:RAOUT
"RTN","RAUTL11",32,0)
 . S B=$G(^RA(72,A,0)) Q:B']""
"RTN","RAUTL11",33,0)
 . S C=$P(B,U),D=$P(B,U,3),E=$P($G(^RA(79.2,+$P(B,U,7),0)),U)
"RTN","RAUTL11",34,0)
 . I D']"",($D(^RADPT("AS",A))) D
"RTN","RAUTL11",35,0)
 .. I $Y'<(IOSL-4) S RAOUT=$$EOS^RAUTL5() Q:RAOUT  D HEAD
"RTN","RAUTL11",36,0)
 .. W !,HD(1),C
"RTN","RAUTL11",37,0)
 .. W ?45,HD(2),$E($S(E]"":E,1:"Unknown"),1,20),!,LN(1),?45,LN(2),!
"RTN","RAUTL11",38,0)
 .. S F=1,G=0
"RTN","RAUTL11",39,0)
 .. F  S G=$O(^RADPT("AS",A,G)) Q:G'>0  S H=0 D  Q:RAOUT
"RTN","RAUTL11",40,0)
 ... S J=$G(^RADPT(G,0))
"RTN","RAUTL11",41,0)
 ... F  S H=$O(^RADPT("AS",A,G,H)) Q:H'>0  S I=0 D  Q:RAOUT
"RTN","RAUTL11",42,0)
 .... S K=$G(^RADPT(G,"DT",H,0))
"RTN","RAUTL11",43,0)
 .... F  S I=$O(^RADPT("AS",A,G,H,I)) Q:I'>0  D  Q:RAOUT
"RTN","RAUTL11",44,0)
 ..... S L=$G(^RADPT(G,"DT",H,"P",I,0))
"RTN","RAUTL11",45,0)
 ..... S RAPAT=$P($G(^DPT(+$P(J,U),0)),U)
"RTN","RAUTL11",46,0)
 ..... S RASSN=$P($G(^DPT(+$P(J,U),0)),U,9),RARPT=+$P(L,U,17)
"RTN","RAUTL11",47,0)
 ..... I RARPT D
"RTN","RAUTL11",48,0)
 ...... S Y1=$P($G(^RARPT(RARPT,0)),U,5)
"RTN","RAUTL11",49,0)
 ...... S Y2=$P($G(^DD(74,5,0)),U,2)
"RTN","RAUTL11",50,0)
 ...... S RARPT("STAT")=$$XTERNAL^RAUTL5(Y1,Y2)
"RTN","RAUTL11",51,0)
 ...... Q
"RTN","RAUTL11",52,0)
 ..... S Y=$P(K,U) X ^DD("DD") S RAEXDT=Y
"RTN","RAUTL11",53,0)
 ..... S RACASE=$P(L,U),RAPROC=$P($G(^RAMIS(71,+$P(L,U,2),0)),U)
"RTN","RAUTL11",54,0)
 ..... I $Y'<(IOSL-4) D  Q:RAOUT
"RTN","RAUTL11",55,0)
 ...... S RAOUT=$$EOS^RAUTL5() Q:RAOUT  D HEAD
"RTN","RAUTL11",56,0)
 ...... W !,HD(1),C,?45,HD(2),$E($S(E]"":E,1:"Unknown"),1,20)
"RTN","RAUTL11",57,0)
 ...... W !,LN(1),?45,LN(2),!
"RTN","RAUTL11",58,0)
 ...... Q
"RTN","RAUTL11",59,0)
 ..... W !,"Patient: ",$S(RAPAT]"":RAPAT,1:"Unknown")
"RTN","RAUTL11",60,0)
 ..... W ?45,"SSN: ",$E(RASSN,1,3)_"-"_$E(RASSN,4,5)_"-"_$E(RASSN,6,9)
"RTN","RAUTL11",61,0)
 ..... W !,"Exam Date: ",$S(RAEXDT]"":RAEXDT,1:"Unknown")
"RTN","RAUTL11",62,0)
 ..... W ?45,"Case #: ",$S(RACASE]"":RACASE,1:" --- ")
"RTN","RAUTL11",63,0)
 ..... I RARPT D
"RTN","RAUTL11",64,0)
 ...... W !,"Reported: Yes",?45,"Report Status: "
"RTN","RAUTL11",65,0)
 ...... W $S(RARPT("STAT")]"":$E(RARPT("STAT"),1,19),1:"Unknown")
"RTN","RAUTL11",66,0)
 ...... Q
"RTN","RAUTL11",67,0)
 ..... W !,"Procedure: ",$S(RAPROC]"":RAPROC,1:"Unknown"),!
"RTN","RAUTL11",68,0)
 ..... Q
"RTN","RAUTL11",69,0)
 .... Q
"RTN","RAUTL11",70,0)
 ... Q
"RTN","RAUTL11",71,0)
 .. Q
"RTN","RAUTL11",72,0)
 . Q
"RTN","RAUTL11",73,0)
 I 'F W !?(IOM-$L(FT)\2),FT
"RTN","RAUTL11",74,0)
 S:$D(ZTQUEUED) ZTREQ="@" D ^%ZISC
"RTN","RAUTL11",75,0)
Q2 K DUOUT,I,POP
"RTN","RAUTL11",76,0)
 Q
"RTN","RAUTL11",77,0)
 ;
"RTN","RAUTL11",78,0)
 ;called from RAO7PC1,saves TECH COMMENT in ^TMP($J,"RAE2",
"RTN","RAUTL11",79,0)
SVTCOM(RA11DFN,RA11DTI,RA11CNI) ;P18 used for API call
"RTN","RAUTL11",80,0)
 N RA11
"RTN","RAUTL11",81,0)
 S RA11(0)=$G(^RADPT(RA11DFN,"DT",RA11DTI,"P",RA11CNI,0))
"RTN","RAUTL11",82,0)
 Q:RA11(0)']""
"RTN","RAUTL11",83,0)
 S RA11(1)=$G(^RAMIS(71,+$P(RA11(0),"^",2),0))
"RTN","RAUTL11",84,0)
 S RA11(2)=$S($P(RA11(1),"^")]"":$P(RA11(1),"^"),1:"Unknown")
"RTN","RAUTL11",85,0)
 S RA11(3)=$$GETTCOM(RA11DFN,RA11DTI,RA11CNI)
"RTN","RAUTL11",86,0)
 S:RA11(3)'="" ^TMP($J,"RAE2",RA11DFN,RA11CNI,RA11(2),"TCOM",1)=RA11(3)
"RTN","RAUTL11",87,0)
 Q
"RTN","RAUTL11",88,0)
 ;
"RTN","RAUTL11",89,0)
GETTCOM(RA11DFN,RA11DTI,RA11CNI) ;P18 returns most recent tech comment
"RTN","RAUTL11",90,0)
 N RA11X,RA11XI
"RTN","RAUTL11",91,0)
 S RA11X="",RA11XI=99999
"RTN","RAUTL11",92,0)
 F  S RA11XI=$O(^RADPT(RA11DFN,"DT",RA11DTI,"P",RA11CNI,"L",RA11XI),-1) Q:+RA11XI=0  I RA11XI>0 S RA11X=$G(^RADPT(RA11DFN,"DT",RA11DTI,"P",RA11CNI,"L",RA11XI,"TCOM"),"") Q:RA11X'=""
"RTN","RAUTL11",93,0)
 Q RA11X
"RTN","RAUTL11",94,0)
 ;
"RTN","RAUTL11",95,0)
 ;Outputs most recent tech comments.Arguments:
"RTN","RAUTL11",96,0)
 ;RADFN,RADTI,RACNI,header(can be ""),left margin,right margin,
"RTN","RAUTL11",97,0)
 ;number of lines in the bottom before checking bottom of screen,
"RTN","RAUTL11",98,0)
 ;is NL before and after header,number of lines to output,
"RTN","RAUTL11",99,0)
 ;put header even if no text 
"RTN","RAUTL11",100,0)
PUTTCOM(RA18DFN,RA18DTI,RA18CNI,RA18HDR,RA18LFTM,RA18RGHM,RA18BOT,RANLHD,RAHDNL,RALINES,RAWRHDR) ;P18 outputs techcomm
"RTN","RAUTL11",101,0)
 N RA18X,RA18XI
"RTN","RAUTL11",102,0)
 S RA18X="",RA18X=$$GETTCOM(RA18DFN,RA18DTI,RA18CNI) I RA18X="" D  Q 0
"RTN","RAUTL11",103,0)
 . I RAWRHDR=1 W:RANLHD ! W RA18HDR W:RAHDNL !
"RTN","RAUTL11",104,0)
 . Q
"RTN","RAUTL11",105,0)
 W:RANLHD ! W RA18HDR W:RAHDNL !
"RTN","RAUTL11",106,0)
 Q:$$TXTOUT(RA18X,RA18LFTM,RA18RGHM,RA18BOT,RA18HDR,RALINES,RANLHD,RAHDNL,0)=-1 -1
"RTN","RAUTL11",107,0)
 Q 1
"RTN","RAUTL11",108,0)
 ;
"RTN","RAUTL11",109,0)
CONTIN(RABTM) ;P18 screen check
"RTN","RAUTL11",110,0)
 Q:$D(RARTVERF) 0 ;on-line verify or resident preverify--ENTIRE report
"RTN","RAUTL11",111,0)
 I ($Y+RABTM)'>IOSL Q 0
"RTN","RAUTL11",112,0)
 Q:$$EOS^RAUTL5()>0 -1
"RTN","RAUTL11",113,0)
 W:$E(IOST,1,2)="C-" @IOF
"RTN","RAUTL11",114,0)
 Q 1
"RTN","RAUTL11",115,0)
 ;
"RTN","RAUTL11",116,0)
 ;Prints text.Arguments:
"RTN","RAUTL11",117,0)
 ;Text,Left margin,Right margin
"RTN","RAUTL11",118,0)
 ;Number of lines in the bottom before screen check.if <0 don't check
"RTN","RAUTL11",119,0)
 ;Header text displayed ONLY for next page;Max lines to output, Should place NL before header,
"RTN","RAUTL11",120,0)
 ;Should place NL after header
"RTN","RAUTL11",121,0)
 ;Should place header for continuation after screen check
"RTN","RAUTL11",122,0)
TXTOUT(RA11TXT,RA11LM,RA11RM,RABT,RAHD,RALIN,RANLHD,RAHDNL,RA18ISHD) ;P18 outputs text
"RTN","RAUTL11",123,0)
 Q:(RA11LM'<RA11RM) 0
"RTN","RAUTL11",124,0)
 N DIWF,DIWL,DIWR,RAX,X,RALN,RA18EX,RA18A,RA18B,RA18C,RACHKBOT S (RA18EX,RAX)=0,RA18A="",RA18C=0
"RTN","RAUTL11",125,0)
 S RACHKBOT=$S(RABT<0:0,1:1)
"RTN","RAUTL11",126,0)
 S DIWF="",DIWL=RA11LM,DIWR=RA11RM K ^UTILITY($J,"W")
"RTN","RAUTL11",127,0)
 S X=RA11TXT
"RTN","RAUTL11",128,0)
 D ^DIWP
"RTN","RAUTL11",129,0)
 S RAX=0 F RALN=1:1 S RAX=$O(^UTILITY($J,"W",DIWL,RAX)) Q:RAX'>0!(RA18EX'=0)!(RA18C=-1)  D
"RTN","RAUTL11",130,0)
 . S RA18B=+$O(^UTILITY($J,"W",DIWL,RAX)) ;is it last?
"RTN","RAUTL11",131,0)
 . S X=$G(^UTILITY($J,"W",DIWL,RAX,0))
"RTN","RAUTL11",132,0)
 . I RALN'<RALIN S RA18EX=1 D  Q
"RTN","RAUTL11",133,0)
 .. S $P(RA18A," ",RA11RM-RA11LM-$L(X))="",X=X_RA18A
"RTN","RAUTL11",134,0)
 .. S:+RA18B'=0 X=$E(X,1,RA11RM-RA11LM)_"(more...)" W ?DIWL,X
"RTN","RAUTL11",135,0)
 .. Q
"RTN","RAUTL11",136,0)
 . W ?DIWL,X
"RTN","RAUTL11",137,0)
 . W:+RA18B>0 !
"RTN","RAUTL11",138,0)
 . I RACHKBOT=1 S RA18C=$$CONTIN(RABT) Q:RA18C=-1
"RTN","RAUTL11",139,0)
 . I RA18ISHD I RA18C=1 I RA18B W:RANLHD ! W RAHD W:RAHDNL !
"RTN","RAUTL11",140,0)
 . Q
"RTN","RAUTL11",141,0)
 Q $S(RA18C=-1:-1,1:0)
"RTN","RAUTL11",142,0)
 ;
"RTN","RAUTL11",143,0)
PUTTCOM2(RA18DFN,RA18DTI,RA18CN,RA18HDR,RA18LFTM,RA18RGHM,RA18BOT,RA18HDNL) ;P18 outputs techcomm using caseNo see PUTTCOM
"RTN","RAUTL11",144,0)
 N RA18A S RA18A=$$FNDIN70M^RAO7XX(RA18DFN,RA18DTI,RA18CN,"T")
"RTN","RAUTL11",145,0)
 Q:RA18A=0 0
"RTN","RAUTL11",146,0)
 Q:$$PUTTCOM(RA18DFN,RA18DTI,$P(RA18A,"^",2),RA18HDR,RA18LFTM,RA18RGHM,RA18BOT,1,RA18HDNL,2,0)=-1 -1
"RTN","RAUTL11",147,0)
 Q 0
"RTN","RAUTL11",148,0)
 ;
"RTN","RAUTL11",149,0)
VERONLY() ;outputs header with case info for Verify only menu option
"RTN","RAUTL11",150,0)
 N RA18EX,RA18I S RA18EX=0 ;P18 for quit if uparrow inside PUTTCOM
"RTN","RAUTL11",151,0)
 I '($D(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0))#2) D  Q
"RTN","RAUTL11",152,0)
 . W !!?2,"Case #: ",RACN," for ",RANME S RAXIT=1
"RTN","RAUTL11",153,0)
 . W !?2,"Procedure: '",$E(RAPRC,1,45),"' has been deleted"
"RTN","RAUTL11",154,0)
 . W !?2,"by another user!",$C(7)
"RTN","RAUTL11",155,0)
 . Q
"RTN","RAUTL11",156,0)
 W !
"RTN","RAUTL11",157,0)
 S RA18EX=$$PUTTCOM2^RAUTL11(RADFN,RADTI,RACN,"Tech. Comment for case No. "_RACN_":",1,70,-1,1)
"RTN","RAUTL11",158,0)
 Q:RA18EX=-1
"RTN","RAUTL11",159,0)
 N RAPRTSET,RAMEMARR,RA1P18
"RTN","RAUTL11",160,0)
 D EN2^RAUTL20(.RAMEMARR)
"RTN","RAUTL11",161,0)
 I RAPRTSET D
"RTN","RAUTL11",162,0)
 . S RA1P18=""
"RTN","RAUTL11",163,0)
 . F  S RA1P18=$O(RAMEMARR(RA1P18)) Q:RA1P18=""!(RA18EX=-1)  I RA1P18'=RACNI D
"RTN","RAUTL11",164,0)
 .. S RA18EX=$$PUTTCOM2^RAUTL11(RADFN,RADTI,+RAMEMARR(RA1P18),"Tech. Comment for case No. "_+RAMEMARR(RA1P18)_":",1,70,-1,1) Q:RA18EX=-1  ;
"RTN","RAUTL11",165,0)
 .. Q
"RTN","RAUTL11",166,0)
 . Q
"RTN","RAUTL11",167,0)
 Q RA18EX
"RTN","RAUTL11",168,0)
 ;------------
"RTN","RAUTL11",169,0)
 ;Outputs tech comment using
"RTN","RAUTL11",170,0)
 ;RADFN,RADTI,RACNI,activity log ien,header(can be ""),left margin,
"RTN","RAUTL11",171,0)
 ;right margin,number of lines in the bottom 
"RTN","RAUTL11",172,0)
 ;before checking bottom of screen,is NL after header,
"RTN","RAUTL11",173,0)
 ;number of lines to output,header even if no comments 
"RTN","RAUTL11",174,0)
PUTTCOM3(RA18DFN,RA18DTI,RA18CNI,RA18LOG,RA18HDR,RA18LFTM,RA18RGHM,RA18BOT,RANLHD,RAHDNL,RALINES,RAWRHDR) ;P18 outputs techcomm
"RTN","RAUTL11",175,0)
 N RA18X,RA18XI,I
"RTN","RAUTL11",176,0)
 S RA18X="",RA18X=$G(^RADPT(RA18DFN,"DT",RA18DTI,"P",RA18CNI,"L",RA18LOG,"TCOM"),"") I RA18X="" D  Q 0
"RTN","RAUTL11",177,0)
 . I RAWRHDR=1 W:RANLHD ! W RA18HDR W:RAHDNL !
"RTN","RAUTL11",178,0)
 . Q
"RTN","RAUTL11",179,0)
 W:RANLHD ! W RA18HDR W:RAHDNL !
"RTN","RAUTL11",180,0)
 Q:$$TXTOUT(RA18X,RA18LFTM,RA18RGHM,RA18BOT,RA18HDR,RALINES,RANLHD,RAHDNL,0)=-1 -1
"RTN","RAUTL11",181,0)
 Q 1
"VER")
8.0^22
"^DD",79,79,0)
FIELD^^150^29
"^DD",79,79,0,"DT")
3020716
"^DD",79,79,0,"IX","AC",79,.17)

"^DD",79,79,0,"IX","AC1",79,.121)

"^DD",79,79,0,"IX","AL",79.01,.01)

"^DD",79,79,0,"IX","B",79,.01)

"^DD",79,79,0,"NM","RAD/NUC MED DIVISION")

"^DD",79,79,0,"PT",70.02,3)

"^DD",79,79,0,"PT",79.1,25)

"^DD",79,79,0,"VRPK")
RA
"^DD",79,79,.01,0)
DIVISION^RP4'XI^DIC(4,^0;1^S DINUM=X
"^DD",79,79,.01,.1)
RAD/NUC MED DIVISION OF HOSPITAL
"^DD",79,79,.01,1,0)
^.1
"^DD",79,79,.01,1,1,0)
79^B
"^DD",79,79,.01,1,1,1)
S ^RA(79,"B",$E(X,1,30),DA)=""
"^DD",79,79,.01,1,1,2)
K ^RA(79,"B",$E(X,1,30),DA)
"^DD",79,79,.01,1,1,"%D",0)
^^2^2^2940518^
"^DD",79,79,.01,1,1,"%D",1,0)
     Regular 'B' cross reference assigned by FileMan.  DINUM'ed with the
"^DD",79,79,.01,1,1,"%D",2,0)
Institution file (4).
"^DD",79,79,.01,3)
Enter the name of the division.
"^DD",79,79,.01,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.01,21,0)
^.001^1^1^3000517^^^^
"^DD",79,79,.01,21,1,0)
This field contains the name of this division.
"^DD",79,79,.01,"DT")
2941107
"^DD",79,79,.11,0)
TRACK EXAM STATUS CHANGES^S^Y:yes;N:no;^.1;10^Q
"^DD",79,79,.11,.1)
SHOULD SYSTEM COLLECT EXAM STATUS CHANGE TIME DATA?
"^DD",79,79,.11,3)
Enter 'Y'es to track exam status changes.
"^DD",79,79,.11,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.11,21,0)
^^3^3^2960812^^^^
"^DD",79,79,.11,21,1,0)
This 'division' parameter can be set to 'Yes' to collect the date and the
"^DD",79,79,.11,21,2,0)
time of exam status changes.  If the data is collected, it is stored with
"^DD",79,79,.11,21,3,0)
the case in the Activity Log subfile of the Rad/Nuc Med Patient file.
"^DD",79,79,.11,"DT")
2910225
"^DD",79,79,.111,0)
ASK EXAM STATUS TIME^S^Y:yes;N:no;^.1;11^Q
"^DD",79,79,.111,.1)
SHOULD EXAM STATUS CHANGE TIME BE ASKED?
"^DD",79,79,.111,3)
Enter 'Y'es is you want the user asked the time of the status change.
"^DD",79,79,.111,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.111,21,0)
^^9^9^2960812^
"^DD",79,79,.111,21,1,0)
This 'division' parameter is used if the 'Track Exam Status Changes'
"^DD",79,79,.111,21,2,0)
parameter is set to 'Yes'.  This parameter may be set to 'Yes' to indicate
"^DD",79,79,.111,21,3,0)
that the user should be asked the time of the status change. If this
"^DD",79,79,.111,21,4,0)
parameter is set to 'No', then the system automatically uses the current
"^DD",79,79,.111,21,5,0)
date and time.
"^DD",79,79,.111,21,6,0)
 
"^DD",79,79,.111,21,7,0)
(If exam data is entered significantly later than the patient is actually
"^DD",79,79,.111,21,8,0)
processed, then this parameter could be set to 'Yes' so that the user can
"^DD",79,79,.111,21,9,0)
put in the actual time the work was done.)
"^DD",79,79,.111,"DT")
2910225
"^DD",79,79,.112,0)
ALLOW STANDARD REPORTS^S^Y:yes;N:no;^.1;12^Q
"^DD",79,79,.112,.1)
SHOULD STANDARD REPORTS BE ALLOWED?
"^DD",79,79,.112,3)
Enter 'Y'es if you want the transcriptionist to be able to select a standard report.
"^DD",79,79,.112,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.112,21,0)
^^3^3^2940526^
"^DD",79,79,.112,21,1,0)
This 'division' parameter can be set to 'Yes' if the transcriptionist
"^DD",79,79,.112,21,2,0)
should be given the opportunity to select a standard report during the
"^DD",79,79,.112,21,3,0)
report entry/edit process.
"^DD",79,79,.112,"DT")
2910225
"^DD",79,79,.113,0)
ALLOW BATCHING OF REPORTS^S^Y:yes;N:no;^.1;13^Q
"^DD",79,79,.113,.1)
SHOULD BATCHING OF REPORTS BE ALLOWED?
"^DD",79,79,.113,3)
Enter 'Y'es if the transcriptionist should be allowed to batch reports.
"^DD",79,79,.113,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.113,21,0)
^^10^10^2941222^
"^DD",79,79,.113,21,1,0)
This 'division' parameter can be set to 'Yes' if the transcriptionist
"^DD",79,79,.113,21,2,0)
should be given the opportunity to place reports in a batch during report
"^DD",79,79,.113,21,3,0)
entry.
"^DD",79,79,.113,21,4,0)
 
"^DD",79,79,.113,21,5,0)
    Batching of reports has the following advantages:
"^DD",79,79,.113,21,6,0)
    1)  Reports can be re-printed easily
"^DD",79,79,.113,21,7,0)
    2)  Two or more users are allowed to use the same
"^DD",79,79,.113,21,8,0)
        report printer without interweaving of reports
"^DD",79,79,.113,21,9,0)
    3)  Allows for batch verifying of reports
"^DD",79,79,.113,21,10,0)
    4)  Provides a mechanism for logical grouping of reports
"^DD",79,79,.113,"DT")
2910225
"^DD",79,79,.114,0)
ALLOW COPYING OF REPORTS^S^Y:yes;N:no;^.1;14^Q
"^DD",79,79,.114,.1)
SHOULD COPYING OF REPORTS BE ALLOWED?
"^DD",79,79,.114,3)
Enter 'Y'es if the transcriptionist should be able to copy the contents of one report into another. 
"^DD",79,79,.114,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.114,21,0)
^^3^3^2941222^
"^DD",79,79,.114,21,1,0)
This 'division' parameter can be set to 'Yes' if the transcriptionist
"^DD",79,79,.114,21,2,0)
should be given the opportunity to copy the contents of one report into
"^DD",79,79,.114,21,3,0)
another.  The report text and impression will be copied.
"^DD",79,79,.114,"DT")
2910225
"^DD",79,79,.116,0)
IMPRESSION REQUIRED ON REPORTS^S^Y:yes;N:no;^.1;16^Q
"^DD",79,79,.116,.1)
IS IMPRESSION REQUIRED ON REPORTS?
"^DD",79,79,.116,3)
Enter 'Y'es if an impression is required.
"^DD",79,79,.116,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.116,21,0)
^^3^3^2950926^^
"^DD",79,79,.116,21,1,0)
This 'division' parameter can be set to 'Yes' to indicate that an
"^DD",79,79,.116,21,2,0)
impression is required to be given on a report before:  1) the report can
"^DD",79,79,.116,21,3,0)
be verified and  2) the exam can be considered 'complete'.
"^DD",79,79,.116,"DT")
2910225
"^DD",79,79,.117,0)
ASK 'REQUESTED DATE'^S^Y:yes;N:no;^.1;17^Q
"^DD",79,79,.117,.1)
SHOULD 'REQUESTED DATE' BE ASKED?
"^DD",79,79,.117,3)
Enter 'Y'es if the transcriptionist should be prompted for the desired date. 
"^DD",79,79,.117,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.117,21,0)
^^2^2^2941228^^
"^DD",79,79,.117,21,1,0)
This 'division' parameter can be set to 'Yes' if the transcriptionist
"^DD",79,79,.117,21,2,0)
should be prompted for the Desired Date for the exam.
"^DD",79,79,.117,23,0)
^^3^3^2941228^
"^DD",79,79,.117,23,1,0)
This field is set to 'YES' by the system.  The ADPAC never edits it.  It
"^DD",79,79,.117,23,2,0)
is not asked in the Division Parameter Set-up option.  Instead, the edit
"^DD",79,79,.117,23,3,0)
template for the set-up stuffs 'YES' in the field.
"^DD",79,79,.117,"DT")
2910225
"^DD",79,79,.118,0)
ALLOW VERIFYING BY RESIDENTS^S^Y:yes;N:no;^.1;18^Q
"^DD",79,79,.118,3)
Enter 'Y'es if interpreting residents should be allowed to verify other interpreting physicians' reports.
"^DD",79,79,.118,21,0)
^^12^12^2941222^
"^DD",79,79,.118,21,1,0)
This 'division' parameter can be set to 'Yes' to allow interpreting
"^DD",79,79,.118,21,2,0)
residents to verify other interpreting physicians' reports while using the
"^DD",79,79,.118,21,3,0)
'On-line Verifying of Reports' option.
"^DD",79,79,.118,21,4,0)
 
"^DD",79,79,.118,21,5,0)
If the parameter is set to 'Yes' then only those residents whose
"^DD",79,79,.118,21,6,0)
individual parameter (ALLOW VERIFYING OF OTHERS) in the 'New Person' file
"^DD",79,79,.118,21,7,0)
is also set to 'Yes' will be allowed to verify other interpreting
"^DD",79,79,.118,21,8,0)
physicians' reports.
"^DD",79,79,.118,21,9,0)
 
"^DD",79,79,.118,21,10,0)
If this division parameter is set to 'No' then no residents will be
"^DD",79,79,.118,21,11,0)
allowed to verify other physicians' reports, regardless of how the
"^DD",79,79,.118,21,12,0)
individual parameter is set in the 'New Person' file.
"^DD",79,79,.118,"DT")
2910225
"^DD",79,79,.119,0)
TRACK REQUEST STATUS CHANGES^S^y:YES;n:NO;^.1;19^Q
"^DD",79,79,.119,3)
Enter 'Y'es if you want to track request status changes.
"^DD",79,79,.119,21,0)
^^5^5^2941222^
"^DD",79,79,.119,21,1,0)
This 'division' parameter can be set 'Yes' to collect the date and the
"^DD",79,79,.119,21,2,0)
time of request status changes.  If data is collected the new status,
"^DD",79,79,.119,21,3,0)
computer user, and, sometimes, the reason for the status change, are
"^DD",79,79,.119,21,4,0)
stored with the order in the Request Status Times subfile of the Rad/Nuc
"^DD",79,79,.119,21,5,0)
Med Orders file.
"^DD",79,79,.119,"DT")
2880626
"^DD",79,79,.12,0)
PRINT FLASH CARD FOR EACH EXAM^S^Y:yes;N:no;^.1;2^Q
"^DD",79,79,.12,.1)
SHOULD FLASH CARD BE PRINTED FOR EACH EXAM?
"^DD",79,79,.12,3)
Enter 'Y'es if you want a flash card printed for each exam (i.e. case).
"^DD",79,79,.12,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.12,21,0)
^^3^3^2941228^
"^DD",79,79,.12,21,1,0)
This 'division' parameter can be set to 'Yes' if one flash card should be
"^DD",79,79,.12,21,2,0)
printed for each exam (i.e. case). If this parameter is set to 'Yes', then
"^DD",79,79,.12,21,3,0)
the 'location' parameter, 'How Many Flashcards Per Visit' is ignored.
"^DD",79,79,.12,"DT")
2910225
"^DD",79,79,.121,0)
ASK 'IMAGING LOCATION'^S^y:YES;n:NO;^.1;21^Q
"^DD",79,79,.121,1,0)
^.1
"^DD",79,79,.121,1,1,0)
79^AC1^MUMPS
"^DD",79,79,.121,1,1,1)
D:+$$ORVR^RAORDU()>2.5 PUT^XPAR(DA_";DIC(4,","RA SUBMIT PROMPT",1,$S(X="y":1,1:0))
"^DD",79,79,.121,1,1,2)
Q
"^DD",79,79,.121,1,1,3)
Do not delete!
"^DD",79,79,.121,1,1,"%D",0)
^^4^4^2950712^
"^DD",79,79,.121,1,1,"%D",1,0)
    This cross-reference updates a mirror image parameter field in the
"^DD",79,79,.121,1,1,"%D",2,0)
OE/RR package.  OE/RR stores this parameter so they can determine if the
"^DD",79,79,.121,1,1,"%D",3,0)
'SUBMIT REQUEST TO' question was asked for a particular division in the
"^DD",79,79,.121,1,1,"%D",4,0)
Radiology/Nuclear Medicine software.
"^DD",79,79,.121,1,1,"DT")
2950712
"^DD",79,79,.121,3)
Enter 'y'es if the user should be asked for an imaging location when requesting an exam.
"^DD",79,79,.121,21,0)
^^6^6^2970317^^^
"^DD",79,79,.121,21,1,0)
This division 'parameter' can be set to 'Yes' to indicate that the user
"^DD",79,79,.121,21,2,0)
should be asked when requesting an exam, which 'Imaging Location' the
"^DD",79,79,.121,21,3,0)
request should be forwarded to.  It is recommended that this field be set
"^DD",79,79,.121,21,4,0)
to 'Yes' to facilitate sorting of requests by imaging location for various
"^DD",79,79,.121,21,5,0)
reports.  Answering 'Yes' to this questions causes the 'SUBMIT REQUEST TO:'
"^DD",79,79,.121,21,6,0)
prompt to appear after a request is created.
"^DD",79,79,.121,"DT")
2950712
"^DD",79,79,.122,0)
ALLOW RPTS ON CANCELLED CASES?^S^Y:yes;N:no;^.1;22^Q
"^DD",79,79,.122,.1)
ALLOW USER TO ENTER A REPORT FOR A CASE THAT IS CANCELLED
"^DD",79,79,.122,3)
Enter 'Y'es if a user without the RA MGR key can enter a report on a cancelled case.
"^DD",79,79,.122,21,0)
^^2^2^2940526^^^
"^DD",79,79,.122,21,1,0)
This field will determine if a user who does not have the RA MGR key
"^DD",79,79,.122,21,2,0)
may enter a report for an exam that has a status of CANCELLED.
"^DD",79,79,.122,"DT")
2940114
"^DD",79,79,.124,0)
TIME LIMIT FOR FUTURE EXAMS^NJ3,0^^.1;24^K:+X'=X!(X>168)!(X<0)!(X?.E1"."1N.N) X
"^DD",79,79,.124,3)
Enter the number of hours in the future (0-168) that a user may register a patient for an exam.
"^DD",79,79,.124,21,0)
^^3^3^2940526^
"^DD",79,79,.124,21,1,0)
This is the maximum number of hours in the future that a user may register
"^DD",79,79,.124,21,2,0)
a patient for an exam.  If this prompt is bypassed, the user may not
"^DD",79,79,.124,21,3,0)
register a patient at a future date.
"^DD",79,79,.124,23,0)
^^5^5^2940526^^
"^DD",79,79,.124,23,1,0)
     This data will be used as an upper limit when the user inputs the
"^DD",79,79,.124,23,2,0)
Exam Date.  (.01 field of subfile 70.02 within file 70)
"^DD",79,79,.124,23,3,0)
This division parameter was added to allow sites to prevent future
"^DD",79,79,.124,23,4,0)
registration if they wish, as well as to set reasonable limits so that
"^DD",79,79,.124,23,5,0)
dates in the future are not entered in error.
"^DD",79,79,.124,"DT")
2940329
"^DD",79,79,.125,0)
WARNING ON RPTS NOT YET VERIF?^S^Y:yes;N:no;^.1;25^Q
"^DD",79,79,.125,.1)
PRINT WARNING ON REPORTS NOT YET VERIFIED?
"^DD",79,79,.125,3)
Enter 'yes' to get the report status printed on unverified reports.
"^DD",79,79,.125,21,0)
^^6^6^2991001^^
"^DD",79,79,.125,21,1,0)
If this field is set to 'Yes' results reports in any status except
"^DD",79,79,.125,21,2,0)
'Verified' will print the status surrounded by asterisks under the body of
"^DD",79,79,.125,21,3,0)
the report.  If this field is set to 'No' or left unanswered, the status
"^DD",79,79,.125,21,4,0)
box will not print on reports not yet verified.  This can be used to make
"^DD",79,79,.125,21,5,0)
sure that hardcopies of unverified results reports are not accidentally
"^DD",79,79,.125,21,6,0)
placed in patient charts or interpreted as the final results.
"^DD",79,79,.125,"DT")
2960918
"^DD",79,79,.126,0)
AUTO E-MAIL TO REQ. PHYS?^S^1:yes;^.1;26^Q
"^DD",79,79,.126,3)
Enter 'Y'es to automatically send Requesting Physicians the radiology reports via e-mail.
"^DD",79,79,.126,21,0)
^^4^4^2991001^^^
"^DD",79,79,.126,21,1,0)
Entering 'Y'es will turn on a feature that automatically sends the
"^DD",79,79,.126,21,2,0)
Radiology/Nuclear Medicine findings report to the Requesting Physician
"^DD",79,79,.126,21,3,0)
via e-mail at the time it is verified.  If this field is left blank,
"^DD",79,79,.126,21,4,0)
verified reports will not be e-mailed to the requesting physician.
"^DD",79,79,.126,"DT")
2960129
"^DD",79,79,.127,0)
ALLOW E-SIG ON COTS HL7 RPTS^S^Y:yes;N:no;^.1;27^Q
"^DD",79,79,.127,3)
Enter 'Y' to allow VISTA e-sig on COTS reports.
"^DD",79,79,.127,21,0)
^^6^6^2991001^^^
"^DD",79,79,.127,21,1,0)
Entering 'Y' will turn on a feature that automatically adds the Electronic
"^DD",79,79,.127,21,2,0)
Signature Block printed name of the Verifying Physician that signed the
"^DD",79,79,.127,21,3,0)
report being transmitted to Rad/Nuc Med via an HL7 interface to a COTS
"^DD",79,79,.127,21,4,0)
voice reporting system.  This parameter is only checked for COTS HL7
"^DD",79,79,.127,21,5,0)
interfaces that use the Generate/Process Routine 'RAHLTCPB' in the 
"^DD",79,79,.127,21,6,0)
subscriber protocol.
"^DD",79,79,.127,"DT")
2991001
"^DD",79,79,.128,0)
INTERPRETING STAFF REQ'D?^S^Y:YES;N:NO;^.1;28^Q
"^DD",79,79,.128,3)
Is Interpreting Staff Required for this Divison?
"^DD",79,79,.128,21,0)
^^3^3^2991230^^
"^DD",79,79,.128,21,1,0)
This field should be set to YES if you require entry of 'PRIMARY
"^DD",79,79,.128,21,2,0)
INTERPRETING STAFF' (file 70, field #15) to be mandatory for this
"^DD",79,79,.128,21,3,0)
division when entering Diagnostic data or Reports.
"^DD",79,79,.128,"DT")
2991227
"^DD",79,79,.129,0)
HL7 RECEIVING APPLICATIONS^79.02PA^^HL7;0
"^DD",79,79,.129,21,0)
^.001^1^1^3001025^^^
"^DD",79,79,.129,21,1,0)
This field holds a list of pointers to the HL7 APPLICATIONS file (#771).
"^DD",79,79,.16,0)
AUTO USER CODE FILING^S^Y:yes;N:no;^.1;6^Q
"^DD",79,79,.16,.1)
SHOULD USER CODE BE AUTOMATICALLY FILLED IN?
"^DD",79,79,.16,3)
Enter 'Y'es if you don't want users asked for their codes when processing exams.
"^DD",79,79,.16,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.16,21,0)
^^6^6^2941228^^^^
"^DD",79,79,.16,21,1,0)
This 'division' parameter can be set to indicate that the user should be
"^DD",79,79,.16,21,2,0)
asked for their access code during the processing of exams and reports of 
"^DD",79,79,.16,21,3,0)
which various activity logs are kept.  If this parameter is set to 'Yes',
"^DD",79,79,.16,21,4,0)
then the system automatically uses the user code associated with the
"^DD",79,79,.16,21,5,0)
initial logon.  If this parameter is set to 'No', then the system asks the
"^DD",79,79,.16,21,6,0)
access code during each process. 
"^DD",79,79,.16,23,0)
^^3^3^2941228^
"^DD",79,79,.16,23,1,0)
This field is becoming obsolete.  It was used with PDP's before the
"^DD",79,79,.16,23,2,0)
existence of virtual terminals.  This field should normally be set to
"^DD",79,79,.16,23,3,0)
'YES'.
"^DD",79,79,.16,"DT")
2910225
"^DD",79,79,.17,0)
DETAILED PROCEDURE REQUIRED^S^Y:yes;N:no;^.1;7^Q
"^DD",79,79,.17,.1)
IS 'DETAILED' PROCEDURE REQUIRED?
"^DD",79,79,.17,1,0)
^.1
"^DD",79,79,.17,1,1,0)
79^AC^MUMPS
"^DD",79,79,.17,1,1,1)
D:+$$ORVR^RAORDU()>2.5 PUT^XPAR(DA_";DIC(4,","RA REQUIRE DETAILED",1,$S(X="Y":1,1:0))
"^DD",79,79,.17,1,1,2)
Q
"^DD",79,79,.17,1,1,3)
Do not delete.
"^DD",79,79,.17,1,1,"%D",0)
^^4^4^2941222^
"^DD",79,79,.17,1,1,"%D",1,0)
     This cross-reference updates a mirror image parameter field in the
"^DD",79,79,.17,1,1,"%D",2,0)
OE/RR package.  OE/RR stores this parameter so that they can determine
"^DD",79,79,.17,1,1,"%D",3,0)
whether to allow 'Broad' type procedures to be ordered at a given
"^DD",79,79,.17,1,1,"%D",4,0)
division.
"^DD",79,79,.17,1,1,"DT")
2941222
"^DD",79,79,.17,3)
Enter 'Y'es if a 'detailed', 'parent' or 'series' exam is required during initial exam request/registration.
"^DD",79,79,.17,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.17,21,0)
^^7^7^2970320^
"^DD",79,79,.17,21,1,0)
This 'division' parameter can be set to 'Yes' if the entry of a
"^DD",79,79,.17,21,2,0)
'detailed', 'series' or 'parent' procedure type should be required during
"^DD",79,79,.17,21,3,0)
the initial exam registration or request.
"^DD",79,79,.17,21,4,0)
 
"^DD",79,79,.17,21,5,0)
If this parameter is set to 'No', then the user can enter 'broad' procedure
"^DD",79,79,.17,21,6,0)
type, but this must be changed to 'detailed' or 'series' before the exam
"^DD",79,79,.17,21,7,0)
status can be changed to 'complete'.
"^DD",79,79,.17,"DT")
2941222
"^DD",79,79,.18,0)
PRINT JACKET LBLS W/EACH VISIT^S^Y:yes;N:no;^.1;8^Q
"^DD",79,79,.18,.1)
SHOULD JACKET LABELS BE PRINTED WITH EACH VISIT?
"^DD",79,79,.18,3)
Enter 'Y'es to print jacket labels with each visit.
"^DD",79,79,.18,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,.18,21,0)
^^6^6^2940608^
"^DD",79,79,.18,21,1,0)
This 'division' parameter can be set to 'Yes' to indicate that a jacket
"^DD",79,79,.18,21,2,0)
label should be printed automatically during each visit.
"^DD",79,79,.18,21,3,0)
 
"^DD",79,79,.18,21,4,0)
If this field is set to YES and the field 'HOW MANY JACKET LABELS PER
"^DD",79,79,.18,21,5,0)
VISIT' in the IMAGING LOCATIONS (79.1) file is set to zero, then the
"^DD",79,79,.18,21,6,0)
default will become two (i.e., two jacket labels will print out).
"^DD",79,79,.18,"DT")
2910225
"^DD",79,79,.19,0)
ASK 'CAMERA/EQUIP/RM'^S^Y:yes;N:no;^.1;9^Q
"^DD",79,79,.19,.1)
SHOULD 'CAMERA/EQUIP/RM' BE ASKED?
"^DD",79,79,.19,3)
Enter 'Y'es if user should be asked for camera/equip/rm when editing an exam.
"^DD",79,79,.19,10)
COORDINATOR
"^DD",79,79,.19,21,0)
^^2^2^2940603^
"^DD",79,79,.19,21,1,0)
This 'division' parameter can be set to 'Yes' to indicate that the
"^DD",79,79,.19,21,2,0)
'camera/equip/rm' should be asked during exam editing.
"^DD",79,79,.19,"DT")
2940603
"^DD",79,79,25,0)
CONTRAST REACTION MESSAGE^F^^CON;1^K:$L(X)>70!($L(X)<5) X
"^DD",79,79,25,.1)
SHOULD CONTRAST REACTION MESSAGE BE DISPLAYED?
"^DD",79,79,25,3)
Enter a warning message, between 5 and 70 characters in length, to be displayed for patients who have had a reaction to contrast medium.
"^DD",79,79,25,10)
RAD/NUC MED COORDINATOR
"^DD",79,79,25,21,0)
^^7^7^2940526^^^^
"^DD",79,79,25,21,1,0)
This is an optional field that may contain a site-defined message to be
"^DD",79,79,25,21,2,0)
displayed with the warning message for patients who have had a reaction
"^DD",79,79,25,21,3,0)
to the contrast medium.  For example, it may contain a reminder to use
"^DD",79,79,25,21,4,0)
a yellow sticker for this patient's films.
"^DD",79,79,25,21,5,0)
 
"^DD",79,79,25,21,6,0)
This field is only used for exams which may involve the use of contrast 
"^DD",79,79,25,21,7,0)
medium.  The message must be 5-70 characters in length.
"^DD",79,79,25,"DT")
2841129
"^DD",79,79,50,0)
IMAGING LOCATIONS^79.01P^^L;0
"^DD",79,79,50,.1)
IMAGING LOCATIONS SUB-FIELD
"^DD",79,79,50,21,0)
^^4^4^2970110^
"^DD",79,79,50,21,1,0)
This field points to file #79.1 to indicate
"^DD",79,79,50,21,2,0)
the name of the Imaging location associated with this
"^DD",79,79,50,21,3,0)
division.
"^DD",79,79,50,21,4,0)
A location may be associated with only one division.
"^DD",79,79,50,"DT")
2940608
"^DD",79,79,75,0)
CLINICAL HISTORY MESSAGE^F^^HIS;1^K:$L(X)>70!($L(X)<5) X
"^DD",79,79,75,3)
Enter a warning message, between 5 and 70 characters in length, to be displayed prior to prompting for clinical history when requesting an exam.
"^DD",79,79,75,21,0)
^^4^4^2940526^^^^
"^DD",79,79,75,21,1,0)
This is an optional field that may contain a site-defined message to be
"^DD",79,79,75,21,2,0)
displayed with a warning message which will be displayed in
"^DD",79,79,75,21,3,0)
order entry, immediately proceeding the clinical history prompt.
"^DD",79,79,75,21,4,0)
The message must be 5-70 characters in length.
"^DD",79,79,75,"DT")
2871224
"^DD",79,79,100,0)
RESOURCE DEVICE^*P3.5'^%ZIS(1,^RDEV;1^S DIC("S")="I $P(^(""TYPE""),""^"")=""RES""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",79,79,100,3)
Enter the Resource Device for this division.
"^DD",79,79,100,12)
Only devices whose TYPE is 'Resource' may be selected.
"^DD",79,79,100,12.1)
S DIC("S")="I $P(^(""TYPE""),""^"")=""RES"""
"^DD",79,79,100,21,0)
^^10^10^2961101^
"^DD",79,79,100,21,1,0)
A Resource device may be entered here if the facility wishes to control
"^DD",79,79,100,21,2,0)
the rate at which tasked exam status updates are released to be processed.
"^DD",79,79,100,21,3,0)
This is advised if the facility is experiencing drastic system slowdowns
"^DD",79,79,100,21,4,0)
due to periodic heavy use of the online report verification and batch
"^DD",79,79,100,21,5,0)
verification of reports options, which can queue a large number of tasks
"^DD",79,79,100,21,6,0)
at once.  However, if the facility chooses to enter a Resource Device in
"^DD",79,79,100,21,7,0)
this field, IRM should be careful to completely follow all directions in
"^DD",79,79,100,21,8,0)
Kernel documentation after a system crash to bring this Resource Device
"^DD",79,79,100,21,9,0)
back up.  Failure to follow those directions could result in Rad/Nuc Med
"^DD",79,79,100,21,10,0)
tasks being severely delayed, and data corruption.
"^DD",79,79,100,"DT")
2961101
"^DD",79,79,125,0)
RPHARM DOSE WARNING MESSAGE^79.0125^^RWARN;0
"^DD",79,79,125,21,0)
^^5^5^2970110^^
"^DD",79,79,125,21,1,0)
This field contains the message displayed to the user when the dose falls
"^DD",79,79,125,21,2,0)
outside the range of the 'Low Adult Dose' and the 'High Adult Dose'
"^DD",79,79,125,21,3,0)
fields.  These fields reside in the Default Radiopharmaceuticals multiple
"^DD",79,79,125,21,4,0)
in the Rad/Nuc Med Procedures file.  Use the 'Procedure Enter/Edit' option
"^DD",79,79,125,21,5,0)
to adjust these values.
"^DD",79,79,150,0)
USER PREFERS LONG DISPLAY^79.03P^^LDIS;0
"^DD",79,79,150,"DT")
3020716
"^DD",79,79.01,0)
IMAGING LOCATIONS SUB-FIELD^NL^.01^1
"^DD",79,79.01,0,"IX","B",79.01,.01)

"^DD",79,79.01,0,"NM","IMAGING LOCATIONS")

"^DD",79,79.01,0,"UP")
79
"^DD",79,79.01,.01,0)
IMAGING LOCATION^MP79.1X^RA(79.1,^0;1^X ^DD(79.01,.01,9.2) K RADIV I $D(X) S DINUM=X
"^DD",79,79.01,.01,.1)
IMAGING LOCATION ASSOCIATED WITH THIS DIVISION
"^DD",79,79.01,.01,1,0)
^.1^^-1
"^DD",79,79.01,.01,1,1,0)
79.01^B
"^DD",79,79.01,.01,1,1,1)
S ^RA(79,DA(1),"L","B",$E(X,1,30),DA)=""
"^DD",79,79.01,.01,1,1,2)
K ^RA(79,DA(1),"L","B",$E(X,1,30),DA)
"^DD",79,79.01,.01,1,1,"%D",0)
^^1^1^2940518^
"^DD",79,79.01,.01,1,1,"%D",1,0)
     Regular filewide 'B' cross reference assigned by FileMan.
"^DD",79,79.01,.01,1,2,0)
79^AL
"^DD",79,79.01,.01,1,2,1)
S ^RA(79,"AL",$E(X,1,30),DA(1),DA)=""
"^DD",79,79.01,.01,1,2,2)
K ^RA(79,"AL",$E(X,1,30),DA(1),DA)
"^DD",79,79.01,.01,1,2,"%D",0)
^^2^2^2940609^
"^DD",79,79.01,.01,1,2,"%D",1,0)
Allows the generation of a list of Imaging Locations associated with a
"^DD",79,79.01,.01,1,2,"%D",2,0)
Rad/Nuc Med Division.
"^DD",79,79.01,.01,1,3,0)
^^TRIGGER^79.1^25
"^DD",79,79.01,.01,1,3,1)
K DIV S DIV=X,D0=DA(1),DIV(0)=D0,D1=DA X ^DD(79.01,.01,1,3,9.2) S X=$S('$D(^DIC(4,+$P(Y(101),U,1),0)):"",1:$P(^(0),U,1)) S D0=Y(1) S DIU=X K Y X ^DD(79.01,.01,1,3,1.1) X ^DD(79.01,.01,1,3,1.4)
"^DD",79,79.01,.01,1,3,1.1)
S X=DIV S Y(1)=$S($D(^RA(79,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X S X=X
"^DD",79,79.01,.01,1,3,1.4)
S DIH=$S($D(^RA(79.1,DIV(0),"DIV")):^("DIV"),1:""),DIV=X I $D(^(0)) S %=$P(DIH,U,2,999),DIU=$P(DIH,U,1),^("DIV")=DIV_$S(%]"":U_%,1:""),DIH=79.1,DIG=25 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
"^DD",79,79.01,.01,1,3,2)
K DIV S DIV=X,D0=DA(1),DIV(0)=D0,D1=DA X ^DD(79.01,.01,1,3,9.2) S X=$S('$D(^DIC(4,+$P(Y(101),U,1),0)):"",1:$P(^(0),U,1)) S D0=Y(1) S DIU=X K Y S X=DIV S X="" X ^DD(79.01,.01,1,3,2.4)
"^DD",79,79.01,.01,1,3,2.4)
S DIH=$S($D(^RA(79.1,DIV(0),"DIV")):^("DIV"),1:""),DIV=X I $D(^(0)) S %=$P(DIH,U,2,999),DIU=$P(DIH,U,1),^("DIV")=DIV_$S(%]"":U_%,1:""),DIH=79.1,DIG=25 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
"^DD",79,79.01,.01,1,3,9.2)
S Y(1)=$S($D(D0):D0,1:""),D0=X S:'$D(^RA(79.1,+D0,0)) D0=-1 S DIV(0)=D0 S Y(101)=$S($D(^RA(79.1,D0,"DIV")):^("DIV"),1:"")
"^DD",79,79.01,.01,1,3,"%D",0)
^^2^2^2940518^
"^DD",79,79.01,.01,1,3,"%D",1,0)
     Triggers entries into the Radiology/Nuclear Medicine Division field
"^DD",79,79.01,.01,1,3,"%D",2,0)
in the Radiology/Nuclear Medicine Location file.
"^DD",79,79.01,.01,1,3,"CREATE VALUE")
INTERNAL(DIVISION)
"^DD",79,79.01,.01,1,3,"DELETE VALUE")
@
"^DD",79,79.01,.01,1,3,"FIELD")
#.01:#25
"^DD",79,79.01,.01,3)
Enter a location for this division.
"^DD",79,79.01,.01,9.2)
I $D(^RA(79,"AL",X)) S RADIV=$O(^(X,0)) Q:RADIV'>0  I RADIV'=DA(1) W !!,"Location is already assigned to the ",$S($D(^DIC(4,RADIV,0)):$P(^(0),U,1),1:"Unknown")," division!" K X
"^DD",79,79.01,.01,10)
RAD/NUC MED COORDINATOR
"^DD",79,79.01,.01,21,0)
^^4^4^2970110^^^
"^DD",79,79.01,.01,21,1,0)
This field points to file #79.1 to indicate
"^DD",79,79.01,.01,21,2,0)
the name of the Imaging location associated with this
"^DD",79,79.01,.01,21,3,0)
division.
"^DD",79,79.01,.01,21,4,0)
A location may be associated with only one division.
"^DD",79,79.01,.01,"DT")
2940608
"^DD",79,79.0125,0)
RPHARM DOSE WARNING MESSAGE SUB-FIELD^^.01^1
"^DD",79,79.0125,0,"DT")
2970110
"^DD",79,79.0125,0,"NM","RPHARM DOSE WARNING MESSAGE")

"^DD",79,79.0125,0,"UP")
79
"^DD",79,79.0125,.01,0)
RPHARM DOSE WARNING MESSAGE^W^^0;1^Q
"^DD",79,79.0125,.01,3)
Enter the message displayed to the user when the dosage entered falls outside the limits imposed by the Default Radiopharamaceutical parameters for this procedure.
"^DD",79,79.0125,.01,21,0)
^^5^5^2970110^^
"^DD",79,79.0125,.01,21,1,0)
This field contains the message displayed to the user when the dose falls
"^DD",79,79.0125,.01,21,2,0)
outside the range of the 'Low Adult Dose' and the 'High Adult Dose'
"^DD",79,79.0125,.01,21,3,0)
fields.  These fields reside in the Default Radiopharmaceuticals multiple
"^DD",79,79.0125,.01,21,4,0)
in the Rad/Nuc Med Procedures file.  Use the 'Procedure Enter/Edit' option
"^DD",79,79.0125,.01,21,5,0)
to adjust these values.
"^DD",79,79.0125,.01,"DT")
2970110
"^DD",79,79.02,0)
HL7 RECEIVING APPLICATIONS SUB-FIELD^^.01^1
"^DD",79,79.02,0,"DT")
3001025
"^DD",79,79.02,0,"IX","B",79.02,.01)

"^DD",79,79.02,0,"NM","HL7 RECEIVING APPLICATIONS")

"^DD",79,79.02,0,"UP")
79
"^DD",79,79.02,.01,0)
HL7 RECEIVING APPLICATION^M*P771'^HL(771,^0;1^S DIC("S")="I $$GET1^DIQ(771,+Y,.01)[""RA-"",$$GET1^DIQ(771,+Y,2)=""ACTIVE""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",79,79.02,.01,1,0)
^.1
"^DD",79,79.02,.01,1,1,0)
79.02^B
"^DD",79,79.02,.01,1,1,1)
S ^RA(79,DA(1),"HL7","B",$E(X,1,30),DA)=""
"^DD",79,79.02,.01,1,1,2)
K ^RA(79,DA(1),"HL7","B",$E(X,1,30),DA)
"^DD",79,79.02,.01,3)
Enter an HL7 APPLICATION to receive messages from this DIVISION.
"^DD",79,79.02,.01,12)
Selection limited to Active Radiology HL7 Applications only
"^DD",79,79.02,.01,12.1)
S DIC("S")="I $$GET1^DIQ(771,+Y,.01)[""RA-"",$$GET1^DIQ(771,+Y,2)=""ACTIVE"""
"^DD",79,79.02,.01,21,0)
^^15^15^3001025^
"^DD",79,79.02,.01,21,1,0)
Pointer to the HL7 APPLICATIONS file (#771).
"^DD",79,79.02,.01,21,2,0)
 
"^DD",79,79.02,.01,21,3,0)
If the Radiology HL7 Subscriber protocols (file #101) have been 
"^DD",79,79.02,.01,21,4,0)
setup to use ROUTING LOGIC, then HL7 RECEIVING APPLICATIONS should 
"^DD",79,79.02,.01,21,5,0)
be defined. This DIVISION will then send HL7 messages to the HL7 
"^DD",79,79.02,.01,21,6,0)
RECEIVING APPLICATIONS defined only.
"^DD",79,79.02,.01,21,7,0)
 
"^DD",79,79.02,.01,21,8,0)
If no HL7 RECEIVING APPLICATIONS are set when ROUTING LOGIC is being 
"^DD",79,79.02,.01,21,9,0)
used, no HL7 messages will be created for this DIVISION.
"^DD",79,79.02,.01,21,10,0)
 
"^DD",79,79.02,.01,21,11,0)
If ROUTING LOGIC is not being used and no HL7 RECEIVING APPLICATIONS
"^DD",79,79.02,.01,21,12,0)
are set, then messages will be sent to all Radiology Subscriber 
"^DD",79,79.02,.01,21,13,0)
protocols, as normal.
"^DD",79,79.02,.01,21,14,0)
 
"^DD",79,79.02,.01,21,15,0)
If in doubt, do not put entries in this field.
"^DD",79,79.02,.01,23,0)
^^6^6^3001025^
"^DD",79,79.02,.01,23,1,0)
Entries in this field will be ineffectual unless the Radiology HL7 
"^DD",79,79.02,.01,23,2,0)
routing routine (^RAHLROUT) is specified in the ROUTING LOGIC field 
"^DD",79,79.02,.01,23,3,0)
of the appropriate subscriber PROTOCOLs (File #101).
"^DD",79,79.02,.01,23,4,0)
 
"^DD",79,79.02,.01,23,5,0)
Refer to the Radiology/Nuclear Medicine HL7 Interfaces Specification
"^DD",79,79.02,.01,23,6,0)
document for more details.
"^DD",79,79.02,.01,"DT")
3001025
"^DD",79,79.03,0)
USER PREFERS LONG DISPLAY SUB-FIELD^^.01^1
"^DD",79,79.03,0,"DT")
3020716
"^DD",79,79.03,0,"IX","B",79.03,.01)

"^DD",79,79.03,0,"NM","USER PREFERS LONG DISPLAY")

"^DD",79,79.03,0,"UP")
79
"^DD",79,79.03,.01,0)
USER PREFERS LONG DISPLAY^MP200'^VA(200,^0;1^Q
"^DD",79,79.03,.01,1,0)
^.1
"^DD",79,79.03,.01,1,1,0)
79.03^B
"^DD",79,79.03,.01,1,1,1)
S ^RA(79,DA(1),"LDIS","B",$E(X,1,30),DA)=""
"^DD",79,79.03,.01,1,1,2)
K ^RA(79,DA(1),"LDIS","B",$E(X,1,30),DA)
"^DD",79,79.03,.01,3)
Enter name of user who prefers the long display of procedures in Radiology reports.
"^DD",79,79.03,.01,21,0)
^^5^5^3020716^
"^DD",79,79.03,.01,21,1,0)
This multiple field will store names of users who prefer to see the 
"^DD",79,79.03,.01,21,2,0)
long (or traditional) display of procedure, procedure modifiers, and 
"^DD",79,79.03,.01,21,3,0)
CPT modifiers in all reports where they are displayed.
"^DD",79,79.03,.01,21,4,0)
 
"^DD",79,79.03,.01,21,5,0)
Data will be entered by a Radiology package option.
"^DD",79,79.03,.01,"DT")
3020716
"^DIC",79,79,0)
RAD/NUC MED DIVISION^79P
"^DIC",79,79,0,"GL")
^RA(79,
"^DIC",79,79,"%",0)
^1.005^1^1
"^DIC",79,79,"%",1,0)
RA
"^DIC",79,79,"%","B","RA",1)

"^DIC",79,79,"%D",0)
^^69^69^2950822^^^^
"^DIC",79,79,"%D",1,0)
This file contains, for each division entry, parameters that the module
"^DIC",79,79,"%D",2,0)
uses during various stages of exam and report processing and inquiring.
"^DIC",79,79,"%D",3,0)
These parameter switches allow the 'customizing' of the module for each
"^DIC",79,79,"%D",4,0)
division by the package coordinator.
"^DIC",79,79,"%D",5,0)
 
"^DIC",79,79,"%D",6,0)
The module is designed to handle multiple divisions within a medical
"^DIC",79,79,"%D",7,0)
center.  While most medical centers only have one division, there are a
"^DIC",79,79,"%D",8,0)
number that are multi-divisional.  As a result, it was necessary to
"^DIC",79,79,"%D",9,0)
structure the entire system around the division concept.
"^DIC",79,79,"%D",10,0)
 
"^DIC",79,79,"%D",11,0)
However, single division medical centers will not notice this in the
"^DIC",79,79,"%D",12,0)
everyday execution of the module.
"^DIC",79,79,"%D",13,0)
 
"^DIC",79,79,"%D",14,0)
Within a division there may be a number of physical locations
"^DIC",79,79,"%D",15,0)
where an imaging procedure can be performed.  The module is designed to
"^DIC",79,79,"%D",16,0)
handle multiple locations within a division.  However, each location can
"^DIC",79,79,"%D",17,0)
only be associated with one division.  Location data is stored in the
"^DIC",79,79,"%D",18,0)
'IMAGING LOCATIONS' file (#79.1).
"^DIC",79,79,"%D",19,0)
 
"^DIC",79,79,"%D",20,0)
These parameters are loaded into the user's partition once the module
"^DIC",79,79,"%D",21,0)
determines which division and location the user is currently associated
"^DIC",79,79,"%D",22,0)
with.  This is determined by one of two ways: 1) the device the user is
"^DIC",79,79,"%D",23,0)
using is an entry in the 'INPUT DEVICES' sub-file of the 'IMAGING
"^DIC",79,79,"%D",24,0)
LOCATIONS' file or 2) if (1) is not true than the module will simply ask
"^DIC",79,79,"%D",25,0)
the user what his/her current location is.  Method 1 is becoming obsolete;
"^DIC",79,79,"%D",26,0)
it was used before virtual terminals came into being.  Therefore, most
"^DIC",79,79,"%D",27,0)
systems will ask the user for a sign-on imaging location.
"^DIC",79,79,"%D",28,0)
 
"^DIC",79,79,"%D",29,0)
 
"^DIC",79,79,"%D",30,0)
Entries in this file should not be deleted. Adding new entries is always
"^DIC",79,79,"%D",31,0)
allowed.
"^DIC",79,79,"%D",32,0)
 
"^DIC",79,79,"%D",33,0)
 Data Storage
"^DIC",79,79,"%D",34,0)
 ------------
"^DIC",79,79,"%D",35,0)
The data for the 'RAD/NUC MED DIVISION' file is stored in the ^RA(79,
"^DIC",79,79,"%D",36,0)
global. At the present time this file is very static after day-one
"^DIC",79,79,"%D",37,0)
initialization is complete.  However, it still should be journaled.
"^DIC",79,79,"%D",38,0)
It should also be translated if the operating system supports this function.
"^DIC",79,79,"%D",39,0)
 
"^DIC",79,79,"%D",40,0)
 Input Templates
"^DIC",79,79,"%D",41,0)
 ---------------
"^DIC",79,79,"%D",42,0)
The following is a list of input templates used by the package
"^DIC",79,79,"%D",43,0)
and the entry in the OPTIONS file (#19) that uses the template:
"^DIC",79,79,"%D",44,0)
 
"^DIC",79,79,"%D",45,0)
                        Compiled
"^DIC",79,79,"%D",46,0)
 Name                   Routine   Description; Option(s)
"^DIC",79,79,"%D",47,0)
 ----                   -------   ----------------------
"^DIC",79,79,"%D",48,0)
 RA DIVISION PARAMETERS           Used to enter/edit division parameters
"^DIC",79,79,"%D",49,0)
                                  that the package coordinator controls;
"^DIC",79,79,"%D",50,0)
                                  RA SYSDIV
"^DIC",79,79,"%D",51,0)
 
"^DIC",79,79,"%D",52,0)
If any modifications to these input templates are needed for local
"^DIC",79,79,"%D",53,0)
purposes, then great care should be taken not to degrade any branching logic
"^DIC",79,79,"%D",54,0)
in the template.
"^DIC",79,79,"%D",55,0)
 
"^DIC",79,79,"%D",56,0)
 Print Templates
"^DIC",79,79,"%D",57,0)
 ---------------
"^DIC",79,79,"%D",58,0)
 The following is a list of print templates used by the radiology package:
"^DIC",79,79,"%D",59,0)
 
"^DIC",79,79,"%D",60,0)
 Name                  Description; Option(s)
"^DIC",79,79,"%D",61,0)
 ----                  ----------------------
"^DIC",79,79,"%D",62,0)
 RA IMAGE DIV LIST     Prints the division parameters for the entries in
"^DIC",79,79,"%D",63,0)
                       this file;
"^DIC",79,79,"%D",64,0)
                       RA SYSDIVLIST
"^DIC",79,79,"%D",65,0)
 
"^DIC",79,79,"%D",66,0)
 Sort Templates
"^DIC",79,79,"%D",67,0)
 --------------
"^DIC",79,79,"%D",68,0)
The radiology package does not use any sort templates associated with this
"^DIC",79,79,"%D",69,0)
file.
"^DIC",79,"B","RAD/NUC MED DIVISION",79)

**END**
**END**
