Released LA*5.2*48 SEQ #32
Extracted from mail message
**KIDS**:LA*5.2*48^

**INSTALL NAME**
LA*5.2*48
"BLD",1294,0)
LA*5.2*48^AUTOMATED LAB INSTRUMENTS^0^2990203^y
"BLD",1294,1,0)
^^1^1^2990330^
"BLD",1294,1,1,0)
Fixes Date problems occurring after installation of Vitek's Y2K software. 
"BLD",1294,4,0)
^9.64PA^^
"BLD",1294,"ABPKG")
n
"BLD",1294,"KRN",0)
^9.67PA^19^18
"BLD",1294,"KRN",.4,0)
.4
"BLD",1294,"KRN",.401,0)
.401
"BLD",1294,"KRN",.402,0)
.402
"BLD",1294,"KRN",.403,0)
.403
"BLD",1294,"KRN",.5,0)
.5
"BLD",1294,"KRN",.84,0)
.84
"BLD",1294,"KRN",3.6,0)
3.6
"BLD",1294,"KRN",3.8,0)
3.8
"BLD",1294,"KRN",9.2,0)
9.2
"BLD",1294,"KRN",9.8,0)
9.8
"BLD",1294,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",1294,"KRN",9.8,"NM",1,0)
LAMIVTLD^^0^B22875145
"BLD",1294,"KRN",9.8,"NM","B","LAMIVTLD",1)

"BLD",1294,"KRN",19,0)
19
"BLD",1294,"KRN",19.1,0)
19.1
"BLD",1294,"KRN",101,0)
101
"BLD",1294,"KRN",409.61,0)
409.61
"BLD",1294,"KRN",771,0)
771
"BLD",1294,"KRN",869.2,0)
869.2
"BLD",1294,"KRN",870,0)
870
"BLD",1294,"KRN",8994,0)
8994
"BLD",1294,"KRN","B",.4,.4)

"BLD",1294,"KRN","B",.401,.401)

"BLD",1294,"KRN","B",.402,.402)

"BLD",1294,"KRN","B",.403,.403)

"BLD",1294,"KRN","B",.5,.5)

"BLD",1294,"KRN","B",.84,.84)

"BLD",1294,"KRN","B",3.6,3.6)

"BLD",1294,"KRN","B",3.8,3.8)

"BLD",1294,"KRN","B",9.2,9.2)

"BLD",1294,"KRN","B",9.8,9.8)

"BLD",1294,"KRN","B",19,19)

"BLD",1294,"KRN","B",19.1,19.1)

"BLD",1294,"KRN","B",101,101)

"BLD",1294,"KRN","B",409.61,409.61)

"BLD",1294,"KRN","B",771,771)

"BLD",1294,"KRN","B",869.2,869.2)

"BLD",1294,"KRN","B",870,870)

"BLD",1294,"KRN","B",8994,8994)

"BLD",1294,"QUES",0)
^9.62^^
"BLD",1294,"REQB",0)
^9.611^3^1
"BLD",1294,"REQB",3,0)
LA*5.2*42^2
"BLD",1294,"REQB","B","LA*5.2*42",3)

"PKG",53,-1)
1^1
"PKG",53,0)
AUTOMATED LAB INSTRUMENTS^LA^Lab Auto-Instrument Package
"PKG",53,20,0)
^9.402P^^
"PKG",53,22,0)
^9.49I^1^1
"PKG",53,22,1,0)
5.2^2940927^2950528
"PKG",53,22,1,"PAH",1,0)
48^2990203
"PKG",53,22,1,"PAH",1,1,0)
^^1^1^2990428
"PKG",53,22,1,"PAH",1,1,1,0)
Fixes Date problems occurring after installation of Vitek's Y2K software. 
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","LAMIVTLD")
0^1^B22875145
"RTN","LAMIVTLD",1,0)
LAMIVTLD ;SLC/RWF/DAL/DRH-VITEK BUILD DOWNLOAD FILE ;7/18/89  11:51
"RTN","LAMIVTLD",2,0)
 ;;5.2;AUTOMATED LAB INSTRUMENTS;**12,33,42,48**;Sep 27, 1994
"RTN","LAMIVTLD",3,0)
 ;Call with LRLL = load list to build
"RTN","LAMIVTLD",4,0)
 ;Call with LRINST = Auto Instrument pointer
"RTN","LAMIVTLD",5,0)
A ;
"RTN","LAMIVTLD",6,0)
 ;
"RTN","LAMIVTLD",7,0)
 S:$D(ZTQUEUED) ZTREQ="@"
"RTN","LAMIVTLD",8,0)
 S:'$D(T) T=LRINST
"RTN","LAMIVTLD",9,0)
 D:'$D(^LA(LRINST,"O")) SETO^LAB S LREND=""
"RTN","LAMIVTLD",10,0)
 Q:'$D(^LRO(68.2,LRLL,1,LRTRAY1))
"RTN","LAMIVTLD",11,0)
 S:'$D(^LA(T,"P3")) ^("P3")=0 S ^("P3")=^("P3")+1
"RTN","LAMIVTLD",12,0)
 ;
"RTN","LAMIVTLD",13,0)
 S SZ=$P(^LAB(69.9,1,1),U,7) ;---Download full data
"RTN","LAMIVTLD",14,0)
 ;
"RTN","LAMIVTLD",15,0)
 F LRTRAY=LRTRAY1:0 Q:+LRTRAY'>0  D:$D(^LRO(68.2,LRLL,1,LRTRAY)) TRAY D
"RTN","LAMIVTLD",16,0)
 .  S LRTRAY=$O(^LRO(68.2,LRLL,1,LRTRAY)) Q:LRTRAY'>0
"RTN","LAMIVTLD",17,0)
 ;
"RTN","LAMIVTLD",18,0)
 S LRECORD=$C(4)
"RTN","LAMIVTLD",19,0)
 D SEN
"RTN","LAMIVTLD",20,0)
TIK ;
"RTN","LAMIVTLD",21,0)
 I $D(^LA("TP")) L +^LA("TP"):10 S C=1+^LA("TP",0),^(0)=C,^LA("TP",C)=T_"^Sent:~E" L -^LA("TP"):10
"RTN","LAMIVTLD",22,0)
 ;
"RTN","LAMIVTLD",23,0)
 L +^LA("Q"):10 S Q=^LA("Q")+1,^("Q")=Q,^("Q",Q)=T L -^LA("Q"):10
"RTN","LAMIVTLD",24,0)
 D NEW^LASET
"RTN","LAMIVTLD",25,0)
 ;
"RTN","LAMIVTLD",26,0)
 K C,CNT,DOB,I,J,LRAA,LRAD,LRADAT,LRADIA,LRAN,LRCOM,LRCTY,LRCUP,LRDC,LRDPF,LRECORD,LRNDA,LRPMD,PRPNM,LRPRE,LRRD,LRRT,LRS,LRSERV,LRSI,LRSP,LRSPEC,LRSSN,LRSUM,LRTC,LRWARD,LRWRD,PNM,Q,SEX,SSN,SZ,T Q
"RTN","LAMIVTLD",27,0)
 ;-----------------------------------------------------------------------
"RTN","LAMIVTLD",28,0)
TRAY ;
"RTN","LAMIVTLD",29,0)
 F LRCUP=0:0 S LRCUP=$O(^LRO(68.2,LRLL,1,LRTRAY,1,LRCUP)) Q:+LRCUP'>0  D
"RTN","LAMIVTLD",30,0)
 .  S LRECORD=$C(5) D SEN,BLD S LRECORD=$C(4) D SEN
"RTN","LAMIVTLD",31,0)
 Q
"RTN","LAMIVTLD",32,0)
BLD ;
"RTN","LAMIVTLD",33,0)
 S LRECORD=$C(2)
"RTN","LAMIVTLD",34,0)
 D SEN
"RTN","LAMIVTLD",35,0)
 S LRSUM=0,LRECORD=$C(30)_"mtmpr|"
"RTN","LAMIVTLD",36,0)
 D SAMPLE S LRECORD=$C(3) D SEN
"RTN","LAMIVTLD",37,0)
 QUIT
"RTN","LAMIVTLD",38,0)
 ;
"RTN","LAMIVTLD",39,0)
 ;-----------------------------------------------------------------------
"RTN","LAMIVTLD",40,0)
SAMPLE ;
"RTN","LAMIVTLD",41,0)
 S (LRSSN,DOB,LRWRD,LRS,LRDIA,LRADAT,LRWARD,LRSERV,LRDC,LRRT,LRRD,LRCOM,LREND)=""
"RTN","LAMIVTLD",42,0)
 S LRL=^LRO(68.2,LRLL,1,LRTRAY,1,LRCUP,0)
"RTN","LAMIVTLD",43,0)
 S LRAA=+LRL
"RTN","LAMIVTLD",44,0)
 S LRAD=$P(LRL,U,2)
"RTN","LAMIVTLD",45,0)
 S LRAN=$P(LRL,U,3)
"RTN","LAMIVTLD",46,0)
 D PNM
"RTN","LAMIVTLD",47,0)
 I LRSSN']"" S LRECORD=LRECORD_"|pi"_LRAN D SUM G M
"RTN","LAMIVTLD",48,0)
 I 'SZ S LRECORD=LRECORD_"|pi"_LRSSN D SUM G M
"RTN","LAMIVTLD",49,0)
 S LRECORD=LRECORD_"pn"_$G(PNM)_"|pi"_$G(LRSSN)_"|"
"RTN","LAMIVTLD",50,0)
 S:DOB]"" LRECORD=LRECORD_"pb"_DOB_"|"
"RTN","LAMIVTLD",51,0)
 S:SEX]"" LRECORD=LRECORD_"ps"_SEX_"|"
"RTN","LAMIVTLD",52,0)
 ;
"RTN","LAMIVTLD",53,0)
 ;
"RTN","LAMIVTLD",54,0)
 I LRWRD]"" D
"RTN","LAMIVTLD",55,0)
 . S LRWRD=$S($L($P(LRWRD," ",1)_" "_$P(LRWRD," ",2))<7:$P(LRWRD," ",1)_" "_$P(LRWRD," ",2),1:$P(LRWRD," ",1)),LRWRD=$E(LRWRD,1,6)
"RTN","LAMIVTLD",56,0)
 . S LRECORD=LRECORD_"pl"_$E(LRWRD,1,6)_"|"
"RTN","LAMIVTLD",57,0)
 ;
"RTN","LAMIVTLD",58,0)
 ;---------put in chk for setup wild cards-----------
"RTN","LAMIVTLD",59,0)
 D ^LAMIVTL6
"RTN","LAMIVTLD",60,0)
 ;S:LRWRD]"" LRECORD=LRECORD_"|w1"_LRWRD_"|"
"RTN","LAMIVTLD",61,0)
 D:$L(LRECORD)>1 SUM
"RTN","LAMIVTLD",62,0)
 ;----------------------End Patient section------------------------------
"RTN","LAMIVTLD",63,0)
 ;
"RTN","LAMIVTLD",64,0)
 S LRECORD=$C(30)
"RTN","LAMIVTLD",65,0)
 S:LRS]"" LRECORD=LRECORD_"px"_$G(LRS)_"|"
"RTN","LAMIVTLD",66,0)
 S:LRADIA]"" LRECORD=LRECORD_"po"_LRADIA_"|"
"RTN","LAMIVTLD",67,0)
 S:LRADAT]"" LRECORD=LRECORD_"pa"_LRADAT_"|" D:$L(LRECORD)>1 SUM
"RTN","LAMIVTLD",68,0)
 S X=^LRO(68,LRAA,1,LRAD,1,LRAN,0),LRWARD=$P(X,"^",7) S:LRWARD="" LRWARD="UNK" S LRSERV=$P(X,"^",9)
"RTN","LAMIVTLD",69,0)
 ;
"RTN","LAMIVTLD",70,0)
 S LRSERV=$G(VAIN(3))
"RTN","LAMIVTLD",71,0)
 S LRDOC=$P(X,"^",8)
"RTN","LAMIVTLD",72,0)
 S:LRDOC]"" LRDOC=$P($G(^VA(200,+LRDOC,0)),U)
"RTN","LAMIVTLD",73,0)
 S:LRDOC="" LRDOC="UNKNOWN"
"RTN","LAMIVTLD",74,0)
 S X=^LRO(68,LRAA,1,LRAD,1,LRAN,3),LRDC=$P(X,"^",1)
"RTN","LAMIVTLD",75,0)
 S LRTC=$P(LRDC,".",2)
"RTN","LAMIVTLD",76,0)
 S LRTC=$E(LRTC_"0000",1,2)_":"_$E(LRTC_"0000",3,4)
"RTN","LAMIVTLD",77,0)
 S LRDC=$$Y2K^LRX(LRDC)
"RTN","LAMIVTLD",78,0)
 S LRRD=$P(X,"^",3)
"RTN","LAMIVTLD",79,0)
 S LRRT=$P(LRRD,".",2)
"RTN","LAMIVTLD",80,0)
 S LRRT=$E(LRRT_"0000",1,2)_":"_$E(LRRT_"0000",3,4)
"RTN","LAMIVTLD",81,0)
 S LRRD=$$Y2K^LRX(LRRD)
"RTN","LAMIVTLD",82,0)
 S LRCOM=$P(X,"^",6),X=""
"RTN","LAMIVTLD",83,0)
M F LRSPEC=0:0 S LRSPEC=$O(^LRO(68,LRAA,1,LRAD,1,LRAN,5,LRSPEC)) Q:LRSPEC'>0  D T2
"RTN","LAMIVTLD",84,0)
 ;
"RTN","LAMIVTLD",85,0)
 Q
"RTN","LAMIVTLD",86,0)
PNM ;Get patient name and SSN from an accession.
"RTN","LAMIVTLD",87,0)
 S X=^LRO(68,LRAA,1,LRAD,1,LRAN,0)
"RTN","LAMIVTLD",88,0)
 S X=^LR(+X,0)
"RTN","LAMIVTLD",89,0)
 S LRPNM="" S LRDPF=$P(X,U,2),DFN=$P(X,"^",3) D PT^LRX
"RTN","LAMIVTLD",90,0)
 D ^VADPT D INP^VADPT
"RTN","LAMIVTLD",91,0)
 S:$D(SSN) LRSSN=$E(SSN,1,3)_$E(SSN,5,6)_$E(SSN,8,11)
"RTN","LAMIVTLD",92,0)
 ;----fileman can do this----------------------------------
"RTN","LAMIVTLD",93,0)
 S DOB=$$Y2K^LRX(DOB)
"RTN","LAMIVTLD",94,0)
 S (LRS,LRADIA,LRPMD,LRADAT)=""
"RTN","LAMIVTLD",95,0)
 QUIT
"RTN","LAMIVTLD",96,0)
 ;-------------------End patient Look-up--------------------------------
"RTN","LAMIVTLD",97,0)
 ;
"RTN","LAMIVTLD",98,0)
T2 ;
"RTN","LAMIVTLD",99,0)
 ;-----\/------------------Bashfull ref. must go!
"RTN","LAMIVTLD",100,0)
 ;
"RTN","LAMIVTLD",101,0)
 S X=$G(^LRO(68,LRAA,1,LRAD,1,LRAN,5,LRSPEC,0))
"RTN","LAMIVTLD",102,0)
 S LRSP=$P(^LAB(62,$P(X,U,2),0),"^",1)
"RTN","LAMIVTLD",103,0)
 S LRSI=$P(^LAB(61,+X,0),"^",2)
"RTN","LAMIVTLD",104,0)
 ;
"RTN","LAMIVTLD",105,0)
 ;
"RTN","LAMIVTLD",106,0)
 S LRECORD=$C(30)_"si|ss"_$E(LRSP,1,6)_"|st"_$E(LRSI,1,6)_"|"
"RTN","LAMIVTLD",107,0)
 S:SZ LRECORD=LRECORD_"sl"_LRWARD_"|sx"_$G(LRSERV)_"|"
"RTN","LAMIVTLD",108,0)
 ;
"RTN","LAMIVTLD",109,0)
 D:$L(LRECORD)>1 SUM
"RTN","LAMIVTLD",110,0)
 I SZ S LRECORD=$C(30)_"s1"_$P($G(LRDC),"@")_"|s2"_LRTC_"|s3"_$P($G(LRRD),"@")_"|s4"_LRRT_"|sc"_LRCOM_"|" D:$L(LRECORD)>1 SUM
"RTN","LAMIVTLD",111,0)
 ;
"RTN","LAMIVTLD",112,0)
 S I=0
"RTN","LAMIVTLD",113,0)
 F  S I=$O(^LRO(68,LRAA,1,LRAD,1,LRAN,4,I)) Q:+I'>0  D
"RTN","LAMIVTLD",114,0)
 .  S LRCTY=$P(^LAB(60,I,0),U,1),LRPRE=$P(^(0),U,21)
"RTN","LAMIVTLD",115,0)
 .  I LRPRE]"" S LRECORD=$C(30)_"ci"_(LRPRE*100000+LRAN)_"|ct"_$E(LRCTY,1,6)_"|" D SUM
"RTN","LAMIVTLD",116,0)
 ;
"RTN","LAMIVTLD",117,0)
 S LRECORD=$C(29) D SUM S LRECORD=""
"RTN","LAMIVTLD",118,0)
 QUIT
"RTN","LAMIVTLD",119,0)
 ;
"RTN","LAMIVTLD",120,0)
SUM ;
"RTN","LAMIVTLD",121,0)
 I $A($E(LRECORD,1))=30 S LRSUM=LRSUM+13 D
"RTN","LAMIVTLD",122,0)
 .  F J=1:1:$L(LRECORD) S LRSUM=LRSUM+$A($E(LRECORD,J))
"RTN","LAMIVTLD",123,0)
 S:$A($E(LRECORD,1))=29 LRSUM=LRSUM+29,LRSUM=LRSUM#256,LRSUM=$E("0123456789abcdef",(LRSUM\16+1))_$E("0123456789abcdef",(LRSUM#16+1)),LRECORD=LRECORD_LRSUM,LRSUM=0
"RTN","LAMIVTLD",124,0)
SEN S CNT=^LA(LRINST,"O")+1,^("O")=CNT,^("O",CNT)=LRECORD Q
"VER")
8.0^21.0
**END**
**END**
