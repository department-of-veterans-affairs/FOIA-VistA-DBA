$TXT Created by WU,CHIAO-MING at SILVER.FORUM.VA.GOV on WEDNESDAY, 09/21/94 at 08:58
=============================================================================
Run Date: SEP 28, 1994                     Designation: XM*7.1*4
Package : XM - MAILMAN                         Priority: Mandatory
Version : 7.1         SEQ #3                   Status: Verified
=============================================================================


Subject: Miscellaneous Post Verification Fixes

Category: 
  - Routine
  - Informational

Description: 
============

This patch ships out a routine that must be renamed.  Please pay close
attention to the installation instructions to ensure that this patch is
installed successfully.
 
This patch is intended to deal with routine fixes, documentation notes in
the VA MailMan Network Reference Manual, and a Mail Group maintenance
issues.
 
 
Correct documentation notes in the VA MailMan Network Reference Manual:
 
In the VA MailMan Network Reference Manual, page 13, the Set statement
(S IO("C")=1,ZTNONTEXT=1,%ZTO="") in the Close Execute field of the
Terminal Type file for active Network Mail ports is incorrect.  The
correct Set Statement is shown below:
 
      S IO("C")=1,ZTNONEXT=1,%ZTIO=""
 
 
On page 19 of the Programmer Reference Manual, the description of the
KLQ^XMA1B entry point (to delete a message from a mail basket) doesn't
include the input variables required.  They are:
 
    XMDUZ = The DUZ of the user
    XMK   = The mail basket number that the message is in (optional)
    XMZ   = The message number
 
 
Note on Mail Groups:
 
Every Mail Group must have a local user as a member.
 
 
 
 
Routine fixes:
 
    o See following Routine descriptions
 
 
XMP Routine -
    When you do ^DIFROM and if you answer "YES" at the "Would you like
    this sent via the network:" prompt, an "UNDEF" error occurs.
 
XMA Routine -
    After a message was broadcasted to all the users, an "UNDEF" error
    would occur if the message sender "NEWed" the message before the
    message was read by any of the recipients.
 
XMR0B Routine -
    This routine was modified to prevent too many domain file entries from
    being set up automatically when messages are being received over the
    network by making sure that the compared value on the look-up is in
    uppercase.
 
XMBPOST Routine -
    The integer value stored in the "XMINTS TILL ERROR MESSAGE" field of
    file 4.3 (Kernel Site Parameters) was ignored by XMBPOST.  The "XMINTS
    TILL ERROR MESSAGE" field is used as a counter to track the number of
    transmission attempts to make before sending a bulletin to the
    Postmaster. Before this change, the default value (10) was always
    used.
 
XMAH1 Routine -
    This routine was changed to make sure that the subject of a reply
    entered by a user is always used.  Before this change, user input
    was ignored.
 
XMA21 & XMA21A Routine -
    XMA21 and XMA21A routines were modified to avoid a look-up into the
    remote user directory (file 4.2997) when network mail is being
    received.  Remote user directory look-up is only necessary during
    Email addressing procedures.
 
    Also, in XMA21A, the routine would ignore a message being sent to a
    domain name that begins with "VA." or "V.A." and ends with "VA.GOV"
    (eg. "VA.SRC.isc-wash.va.gov").  This fix is necessary to prevent a
    message being trapped in an infinite loop.
 
XMA02 Routine -
    This routine was modified to prevent a surrogate from successfully
    queuing a print of a confidential message.
 
XMC1 Routine -
    Changes were made to make sure that tasks that failed during message
    transmission are requeued.
 
XM0 Routine -
    This routine was modified to make sure that the Internet Suffix (file
    #4.2996) and domain name are compared only during MailMan
    installation.
 
XMSM Routine -
    When a mail task queue failed to transmit, an error message regarding
    the transmission error is generated and sent to the Postmaster.
    However, these error messages are often not displayed correctly.
    Changes were made in the XMSM routine to correct this problem.
 
 
 
 
 
 
 
Installation Instructions
=========================
 
NOTE:  Save a copy of above routines either before you begin this
       installation or when requested to do so during the unloading
       of the specified PackMan message.  There are no differences
       in the installation on a VAX, an ALPHA or on a 486 platform.
 
1.  Disable TaskMan, check mapped routine set and unmap the appropriate
    MailMan routines.
 
2.  Disable XMRTCP task if it is running on your system.
 
3.  Load the PackMan message into your production account.
 
4.  Rename routine XMPZ to XMP :
 
       At the MUMPs prompt perform the following
 
       >ZL XMPZ
       >ZS XMP
 
5.  Delete XMPZ routine.
 
6.  Execute CHECK^XTSUMBLD to compute checksums for the following
    routines.
 
        XM0       value = 5124637
        XMA       value = 12098380
        XMA02     value = 6119410
        XMA21     value = 9603768
        XMA21A    value = 8460688
        XMAH1     value = 8757966
        XMBPOST   value = 4850893
        XMC1      value = 6588399
        XMP       value = 8321915
        XMR0B     value = 9550706
        XMSM      value = 10168331
 
    * Stop installation, reload the original routines and call your
      supporting ISC if these values do not match.
 
7.  Move the newly installed routines to all DHCP systems (as
    appropriate).
 
8.  Check mapped routine set and map the appropriate routines into the
    routine set.
 
9.  Start up TaskMan.  Start up XMRTCP task if it was disabled in step two
    above.

Routine Information:
====================

Routine Name:
  - XMP

See description.

Routine Checksum:
8321915

Routine Name:
  - XMA

See description.

Routine Checksum:
12098380

Routine Name:
  - XMR0B

See description.

Routine Checksum:
9550706

Routine Name:
  - XMBPOST

See description.

Routine Checksum:
4850893

Routine Name:
  - XMAH1

See description.

Routine Checksum:
8757966

Routine Name:
  - XMA21

See description.

Routine Checksum:
9603768

Routine Name:
  - XMA21A

See description.

Routine Checksum:
8460688

Routine Name:
  - XMA02

See description.

Routine Checksum:
6119410

Routine Name:
  - XMC1

See description.

Routine Checksum:
6588399

Routine Name:
  - XM0

See description.

Routine Checksum:
5124637

Routine Name:
  - XMSM

See description.

Routine Checksum:
10168331

=============================================================================
User Information:                               
Entered By  : WU,CHIAO-MING                  Date Entered : SEP 21, 1994
Completed By: WILLIAMSON,ROBERT             Date Completed : SEP 27, 1994
Verified By : SATTERWHITE,MICHAEL           Date Verified : SEP 28, 1994
=============================================================================


Packman Mail Message:
=====================

 
$END TXT
