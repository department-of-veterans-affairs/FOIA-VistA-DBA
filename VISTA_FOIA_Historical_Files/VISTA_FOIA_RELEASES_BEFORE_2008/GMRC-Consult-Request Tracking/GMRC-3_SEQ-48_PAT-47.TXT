$TXT Created by PHELPS,TY at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Monday, 12/19/05 at 09:51
=============================================================================
Run Date: MAR 15, 2007                     Designation: GMRC*3*47
Package : GMRC - CONSULT/REQUEST TRACKING     Priority: Mandatory
Version : 3        SEQ #48                      Status: Released
                  Compliance Date: APR 15, 2007
=============================================================================

Associated patches: (v)GMRC*3*33   <<= must be installed BEFORE `GMRC*3*47'
                    (v)GMRC*3*39   <<= must be installed BEFORE `GMRC*3*47'

Subject: CONSULT ALERT ISSUES

Category: 
  - Routine

Description:
============

 This patch corrects Consult alerts being sent to users who do not wish to 
 receive them, missing Consult alerts, and invalid data displaying on 
 Consult alerts. 
  
 ASSOCIATED E3R(s):
 ==================
 N/A
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1. HD0000000068776     MIN-0205-40412  User not receiving IFC Consult UP
 2. HD0000000068437     PUG-1104-51431  Extraneous 'new result assoc' alert
                        to receivers
 3. HD0000000067697     PUG-0803-51188  VISTA 'cancelled' alert shows
 4. HD0000000068436     PUG-1104-51430  'remote' indicated in alert for
                        local request
  
 PARTICIPATING TEST SITES:
 =========================
 PUGET SOUND
 CLEVELAND
 SAN DIEGO
 UPSTATE NY
  
 NOIS OVERVIEW:
 ==============
 1. HD0000000068776     MIN-0205-40412  User not receiving IFC Consult UP
  
    Problem:
    --------
    The problem is a user was not receiving Inter-Facility Consult alerts
    for comments added to the Consult from the other facility (sending).
    The problem is caused by the sending site ordering a Consult and then
    forwarding the Consult to an Inter-Facility Consult.  This sets up a
    situation where a "Comment Added to remote" alert message may not be
    sent.
  
    Resolution:
    -----------
    This patch corrects a bad naked reference, in routine GMRCIACT, which was
    causing the "Comment Added to remote" alert message to not be sent.
  
 2. HD0000000068437     PUG-1104-51431  Extraneous 'new result assoc' alert
                        to receivers
  
    Problem:
    --------
    The NEW RESULT ASSOCIATED alert was being sent to all update users of the
    Consult which had a medicine result associated with it.  This behavior is
    not desired.
  
    Resolution:
    -----------
    Routine GMRCMED was modified to prevent the NEW RESULT ASSOCIATED alert
    from being sent to all the update users of the Consult. The alert 
    should only go to the Provider.
  
  
 3. HD0000000067697     PUG-0803-51188  VISTA 'cancelled' alert shows
  
    Problem:
    --------
    This ticket reported 2 problems with the VISTA alert for a canceled
    consult request.  First, the alert was being sent to all update users
    for the Consult in question.  This is not desired.  The second issue
    is with the alert display of the Consult information.  The alert uses
    the Edit/Resubmit [GMRCACT EDIT/RESUBMIT CONSULT] protocol to display
    the Consult data.  Depending on whether you were viewing the Consult at
    the Placer or Filler site, some data was not displaying or displayed
    unknown when actual data existed.  At the Filler site, the Sending
    Provider was blank in the header as well as in the report, the person
    cancelling the Consult was missing, and "UNKNOWN" was displayed for the
    persons who entered comments on the Consult.  At the Placer site,
    "UNKNOWN" was displayed for the persons who entered comments on the
    Consult.
  
    Resolution:
    -----------
    Routines GMRCEDIT and GMRCEDT1 were modified to correct the Edit/Resubmit
    [GMRCACT EDIT/RESUBMIT CONSULT] protocol display of the Consult.  Routine
    GMRCADC was modified to prevent the Cancelled Consult alert from being
    sent to all the update users of the Consult. The Cancelled alert should
    only go to the Provider.
  
 4. HD0000000068436     PUG-1104-51430  'remote' indicated in alert for
                        local request
  
    Problem:
    --------
    A Comment Added to remote consult alert was being generated even though
    the Consult was not an Inter-Facility Consult.  This was caused by the
    code incorrectly identifying a Consult as an Inter-Facility Consult no
    matter what the actual status is.
  
    Resolution:
    -----------
    Routine GMRCACMT is modified to correctly identify whether a Consult is
    an Inter-Facility Consult or not and add the word "remote" as appropriate
    to the alert text.
  
  
  
 INSTALLATION INSTRUCTIONS
 =========================
 This patch can be loaded with users in the system.  But, it is recommended
 it be installed when user activity is low.  Installation time will be less
 than 5 minutes.
  
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
  
  2.  Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
  3.  From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter GMRC*3.0*47):
      
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  4.  Use the Install Package(s) option and select the package
      GMRC*3.0*47.
  
      a.  When prompted "Want KIDS to INHIBIT LOGONs during the
          install? YES//", answer NO.
      b.  When prompted "Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//", answer YES.
      c.  When prompted "Enter options you wish to mark as 'Out Of Order':",
          press <return>.
   
      d.  When prompted "Enter protocols you wish to mark as 'Out Of Order':",
          enter the following protocols:
  
              Edit/Resubmit [GMRCACT EDIT/RESUBMIT CONSULT]
              Edit/Resubmit [ORC CONSULT EDIT/RESUBMIT]
  
      e.  When prompted "Delay Install (Minutes):  (0-60): 0//", press
          <return>.
  
 ROUTINE SUMMARY
 ===============
 The following is a list of the routines included in this patch. The
 second line of each of these routines now looks like:   
  
 <tab>;;3.0;CONSULT/REQUEST TRACKING;**[PATCH LIST]**;DEC 27,1997
  
                    CHECK^XTSUMBLD results
 Routine name  Before Patch   After Patch    Patch List
 ============  ============   ===========    =========== 
 GMRCACMT      6838787        6838809        4,14,18,20,22,29,35,47
 GMRCADC       7055438        7039331        1,5,10,12,35,39,47 
 GMRCEDIT      6794749        6746961        1,5,10,18,47 
 GMRCEDT1      19920866       23216858       1,5,12,15,22,33,47 
 GMRCIACT      11835920       11894924       22,47 
 GMRCMED       8044753        8044707        15,47

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: GMRCACMT
    Before: B27403570  After: B27403592  **4,14,18,20,22,29,35,47**
Routine Name: GMRCADC
    Before: B13902691  After: B13804624  **1,5,10,12,35,39,47**
Routine Name: GMRCEDIT
    Before: B11470474  After: B11706918  **1,5,10,18,47**
Routine Name: GMRCEDT1
    Before: B38760045  After: B45730491  **1,5,12,15,22,33,47**
Routine Name: GMRCIACT
    Before: B58449814  After: B58670458  **22,47**
Routine Name: GMRCMED
    Before: B35624704  After: B35624524  **15,47**

=============================================================================
User Information:
Entered By  : PHELPS,TY                     Date Entered  : JUN 07, 2005
Completed By: HEFFERNAN,COREY               Date Completed: MAR 15, 2007
Released By : PASTERNOCK,JOY                Date Released : MAR 15, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
