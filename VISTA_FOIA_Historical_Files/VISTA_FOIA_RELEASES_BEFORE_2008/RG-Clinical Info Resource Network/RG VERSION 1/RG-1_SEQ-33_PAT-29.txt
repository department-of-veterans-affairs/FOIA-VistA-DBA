$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 12/04/03 at 08:13
=============================================================================
Run Date: DEC 12, 2003                     Designation: RG*1*29
Package : RG - CLINICAL INFO RESOURCE NETWORK Priority: Mandatory
Version : 1        SEQ #33                      Status: Released
                  Compliance Date: JAN 12, 2004
=============================================================================

Associated patches: (v)RG*1*12     <<= must be installed BEFORE `RG*1*29'
                    (v)DG*5.3*479  <<= must be installed BEFORE `RG*1*29'

Subject: NEW MESSAGING STRUCTURE - PHASE 3

Category: 
  - Routine

Description:
============

  DG*5.3*479 and RG*1.0*12 are required builds for patch RG*1*29.
     
  NOTE:  RG* and MPIF* patches should NOT be installed on legacy
  systems to avoid issues with the legacy systems ending up as
  Coordinating Master of Records (CMORs), treating facilities,
  or subscribers.
   
  This patch includes enhancements that are proposed in the Master
  Patient Index/Patient Demographics, Phase III Enhancements, Software
  Design Document.
     
  When records were merged using the Toolkit Duplicate Resolution
  System [XDR MAIN MENU] and exceptions existed for the record that was
  removed, exceptions were being sent to the MPI when a facility attempted
  to resolve an exception for a merged patient using the MPI/PD Exception
  Handling [RG EXCEPTION HANDLING] option.
   
  A change was made in routine RGDRM01 to delete any existing exceptions
  on file for a patient being removed because of a merge.  Also, users
  will no longer be restricted from merging records when both records in
  a duplicate pair have a national ICN.  A call to the API A40^MPIFA40
  was added to send messages to the MPI to remove the FROM record and send
  messages to the FROM record's Treating Facilities to change ICNs to the
  TO record ICN.  These changes address NOIS PUG-0902-51018.
   
  Documentation Update:
  =====================
  Documentation revisions have been made to incorporate the
  enhancements introduced in NEW MESSAGE STRUCTURE - PHASE 3,
  patch RG*1*29, as well as patch DG*5.3*479, released on 11/13/03.
  The following MASTER PATIENT INDEX/PATIENT DEMOGRAPHICS (MPI/PD)
  VISTA documentation is available in two formats.
    
      User Manual          RG1_0_UM.PDF          RG1_0_UM.DOC
      Exception Handling   RG1_0_EH.PDF          RG1_0_EH.DOC
    
  The preferred retrieval method is to FTP from the ANONYMOUS.SOFTWARE
  directory at: DOWNLOAD.VISTA.MED.VA.GOV
  This transmits the file from the first available FTP server.
  Sites may also elect to retrieve software directly from one
  of the following servers.
    
    OI Field Office         FTP Address                  Directory
    ------------------------------------------------------------------
    Albany             ftp.fo-albany.med.va.gov     ANONYMOUS.SOFTWARE
    Hines              ftp.fo-hines.med.va.gov      ANONYMOUS.SOFTWARE
    Salt Lake City     ftp.fo-slc.med.va.gov        ANONYMOUS.SOFTWARE
    
  Note:  These files must be transferred in binary or IMAGE, 
         not ASCII, mode.
   
  The documents can also be downloaded from the VistA Documentation
  Library (VDL) Web page:
   
      http://www.va.gov/vdl/Infrastructure.asp?appID=16
   
  Test Sites:
  ===========
  Bay Pines, FL
  Grand Junction, CO
   
  Associated NOIS:
  ================
  PUG-0902-51018
   
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
   
  <TAB>;;1.0;CLINICAL INFO RESOURCE NETWORK;**[Patch List]**;30 Apr 99
  CHECK^XTSUMBLD results:
   
  Routine       Before Patch       After Patch       Patch List
  --------      ------------       ------------      ----------
  RGDRM01          3837437            3955878        6,10,12,29
  RGP29PST           N/A                N/A          29
   
  Note: Routine RGP29PST is deleted by the installation.  The
  checksum prior to deletion is:
           RGP29PST                   2914427
   
  The purpose of the post-installation routine, RGP29PST, is to delete
  exceptions in the CIRN HL7 EXCEPTION LOG (#991.1) file that show up
  in the MPI/PD Exception Handling [RG EXCEPTION HANDLING] option for
  records that have been merged.  Additionally, for all patients, if
  there is data for the SUBSCRIPTION CONTROL NUMBER (#991.05) field,
  it is removed.  Also, the SUBSCRIPTION CONTROL cross-reference "ASCN2"
  is cleaned up.
       
  Installation Instructions:
  ==========================
  This patch may be loaded with users on the system.  You may wish
  to install it during non-peak hours.  Installation will take some
  time because the post-installation routine is navigating through
  the entire PATIENT (#2) file.
     
                     Installation Times at Test Sites
                     ================================
  Station             File #2 Entries   Install Time    Entries/Min
  -----------------------------------------------------------------
  Bay Pines, FL           411,000       1 hr 34 min        4,372
  Grand Junction, CO       40,000       7 min 36 sec       5,333
   
  Based on this limited sample, you can estimate the installation time
  for your facility.  Installation will take approximately 1 minute per
  4,000 to 5,000 PATIENT (#2) file entries.
   
  1.  Use the INSTALL/CHECK MESSAGE option on the Packman menu.  [Note: 
      TEXT PRINT/DISPLAY option in the PackMan menu will display the 
      patch text only.]
   
  2.  None of the routines in this package have been recommended for
      routine mapping.
   
  3.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  4.  From this menu, you may elect to use the following options (when
      prompted for the INSTALL NAME, enter RG*1.0*29).
   
      (a)  Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch.  It will NOT
           backup any other changes such as DDs or templates.
   
      (b)  Compare Transport Global to Current System - this option will
           allow you to view all changes that will be made when the
           patch is installed.  It compares all components of the patch
           (routines, DDs, templates, etc.).
   
      (c)  Verify Checksums in Transport Global - this option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
   
      (d)  Print Transport Global - this option will allow you to view the
           components of the KIDS build.
   
  5.  Use the Install Package(s) option and select the package RG*1.0*29.
     
  6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
      respond NO.
   
  7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond YES.  The MPI/PD Master Menu [RGMGR]
      OPTION should be disabled during the installation.
     
  8.  Routine RGP29PST will be automatically deleted from your system
      after successful installation of the patch.

Routine Information:
====================

Routine Name:
  - RGP29PST


Routine Checksum:

Routine Name:
  - RGDRM01


Routine Checksum:

=============================================================================
User Information:
Entered By  : DAVIS,PAULETTE                Date Entered  : MAR 06, 2003
Completed By: ALDERMAN,MATT S               Date Completed: DEC 08, 2003
Released By : BURTS,WANDA                   Date Released : DEC 12, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
