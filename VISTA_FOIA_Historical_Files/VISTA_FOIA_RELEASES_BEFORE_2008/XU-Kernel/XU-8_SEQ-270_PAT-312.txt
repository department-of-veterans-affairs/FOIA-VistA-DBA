$TXT Created by FORT,WALLY at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Thursday, 10/09/03 at 16:23
=============================================================================
Run Date: OCT 22, 2003                     Designation: XU*8*312
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #270                      Status: Released
                  Compliance Date: NOV 22, 2003
=============================================================================

Associated patches: (v)XU*8*180    <<= must be installed BEFORE `XU*8*312'
                    (v)XU*8*258    <<= must be installed BEFORE `XU*8*312'

Subject: Allocation Error in XQ82

Category: 
  - Routine

Description:
============

  
 Patch Tracking #: 36613760
 Test Sites: BRONX, NY; SALISBURY, NC; VA GREATER LOS ANGELES HCS,
             Louisville, KY
 Blood Bank Clearance: 8/26/2003
  
 NOIS: BRX-0503-11680, SBY-0503-31955, LAH-0603-61298
 Problem: The background routine XQ82 could get an ALLOC error if the record 
 that it is cleaning up has been deleted.  The FileMan documentation fails 
 to note that the FDA array is not killed if there is an error. This can 
 cause the array to grow because every following DBS call will fail.
 Fix: Kill the FDA array after every call to UPDATE^DIE.
  
 NOIS: HEH-0403-42011
 Notes by Rob Whelan of NVS raised the issue that XUSPURGE may be leaving
 the "CUR" X-ref in the sign-on log.
 Fix: Added code to see that it is removed.
  
 Routine Summary
 The following routines are included in this patch.  The second line of each
 of these routines now looks like:
  ;;8.0;KERNEL;**[Patch List]**;Jul 10, 1995
  
                  Checksum
 Routine         Old       New      Patch List
 XQ82          4050743   3801935    **59,67,157,258,312**
 XUS6           944781   1062183    **258,312**
 XUSPURGE      4746135   4857378    **180,312**
  
 List of preceding patches: 180, 258
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 =========================================================================
 Installation:
  
 >>>Users may remain on the system.
 >>>TaskMan does *not* need to be stopped.
  
   1.  DSM sites - If any of these routines are mapped,
       you will need to disable mapping for the affected routines.
  
   2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
       option will load the KIDS package onto your system.
  
   3.  The patch has now been loaded into a Transport global on your
       system. You now need to use KIDS to install the Transport global.
       On the KIDS menu, under the 'Installation' menu, use the following
       options:
  
          Verify Checksums in Transport Global
          Print Transport Global
          Compare Transport Global to Current System
          Backup a Transport Global
  
   4.  Users can remain on the system. This patch can be loaded any
       non-peak time.
       This patch can be queued and installed at any time.
       TaskMan can remain running.
  
   5.  Installation will take less than 2 minutes.
       On the KIDS menu, under the 'Installation' menu, use the following
       option:
         Install Package(s)  'XU*8.0*312'
                              ==========
  
       Want KIDS to INHIBIT LOGONs during the install? YES// NO
  
       Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
   6.  DSM Sites, after patch has installed, rebuild your map set.
  
 =========================================================================

Routine Information:
====================

Routine Name:
  - XQ82


Routine Checksum:

Routine Name:
  - XUS6


Routine Checksum:

Routine Name:
  - XUSPURGE


Routine Checksum:

=============================================================================
User Information:
Entered By  : FORT,WALLY                    Date Entered  : JUN 18, 2003
Completed By: SINGH,GURBIR                  Date Completed: OCT 21, 2003
Released By : TILLIS,LEWIS                  Date Released : OCT 22, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
