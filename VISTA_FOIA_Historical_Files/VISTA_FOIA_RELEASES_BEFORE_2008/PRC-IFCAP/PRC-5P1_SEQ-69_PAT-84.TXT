$TXT Created by HOLLOWAY,THOMAS at MNTVBB.FO-WASH.MED.VA.GOV  (KIDS) on Tuesday, 06/14/05 at 13:13
=============================================================================
Run Date: AUG 12, 2005                     Designation: PRC*5.1*84
Package : PRC - IFCAP                         Priority: Mandatory
Version : 5.1        SEQ #69                    Status: Released
                  Compliance Date: SEP 12, 2005
=============================================================================

Associated patches: (v)PRC*5.1*27  <<= must be installed BEFORE `PRC*5.1*84'

Subject: FIX DATE SELECTION FOR DAYS OF STOCK ON HAND REPORT

Category: 
  - Routine

Description:
============

 This patch will correct the date routine used in 3 reports:
 - Days of Stock on Hand Report [PRCP DAYS STOCK ON HAND REPORT]
 - Cost Trend Analysis Report   [PRCP COST TREND ANALYSIS]
 - Usage Demand Item Report     [PRCP USAGE DEMAND ITEM REPORT]
  
 The first problem addressed is caused when the user inputs the same date for
 the start date and end date.  When the start date is subtracted from the end
 date, the result is zero, causing a divide by zero error.
  
 The second problem is caused when the user enters a date in month-day-year
 format since the program is expecting it in month-year format.  This again
 causes a problem when the start date is subtracted from the end date.
  
  
 ASSOCIATED REMEDY TICKETS:
 =========================
 1. HD55302     mumps code - perform division by zero
      HD55507   DIVIDE ERROR PRCPRSOH PRCP
 2. HD55315     'Day of Stock on Hand rpt' shows wrong number of days
      HD55445   DAYS OF STOCK ON HAND REPORT IS CALCULATING INCORRECTLY
  
    
 ASSOCIATED E3R(s):
 ==================
 N/A
    
  
 PARTICIPATING TEST SITES:
 =========================
 Palo Alto HCS
 West LA VAMC
 Upstate NY HCS
  
   
 REMEDY OVERVIEW:
 ==============
 1. HD55302     mumps code - perform division by zero
    
    Problem:
    --------           
    When selecting the date range for the Days of Stock on Hand Report, if
    the user entered the same date for the start date and for the end date,
    the date range algorithm computed that as zero days.  When the program
    tried to perform a calculation using zero, it created a divide by zero
    error.
    
    Resolution:
    ----------- 
    This patch changes the way the date range selection works such that a
    zero number of days can no longer be selected.
    
  
 2. HD55315     'Day of Stock on Hand rpt' shows wrong number of days
    
    Problem:
    --------           
    When the user selected an ending date, using the month-day-year format,
    and the date was in the current month, the number of days calculated
    was different from what they expected.  The miscalculation was due to
    the expectation by the program code that the dates would be in a 
    month/year format.  If the user specified specific days within the 
    month as the starting and ending dates it threw off the calculation.
    One other problem has been that the number of days was computed by
    subtracting the start date from the end date.  This left the number of
    days one day less than expected.  For example, the date range 3/1/05 to
    3/31/05 resulted in 31 - 1 = 30 days.  
    
    Resolution:
    ----------- 
    The date selection has been modified to restrict date selection to the
    month-year format, eliminating the date calculation errors.
               
                                
 ROUTINE SUMMARY 
 ===============
  
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like: 
  
            <tab>;;5.1;IFCAP;**[patch list]**;Oct 20, 2000
  
                           CHECK^XTSUMBLD results
  
  Routine        Before Patch      After Patch      Patch List
  --------       ------------      -----------      ----------
  PRCPRSOH           11539206         11859868              84
  PRCPRUSE           10414712         10745188         1,27,84
  PRCPURS2            2604812          4401351              84
   
      Number of Routines = 3
   
                               
        ================INSTALLATION INSTRUCTIONS =================
    
 This patch can be installed with users on the system, however several 
 options will need to be disabled (see step 4).
 Installation should take less than 2 minutes.  
    
    
 1.   LOAD TRANSPORT GLOBAL 
      ---------------------
      Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
    
 2.   START UP KIDS 
      -------------
      Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
    
             Edits and Distribution ...  
             Utilities ...  
             Installation ...  
    
      Select Kernel Installation & Distribution System Option: INStallation 
                                                               ---
             Load a Distribution 
             Print Transport Global 
             Compare Transport Global to Current System 
             Verify Checksums in Transport Global 
             Install Package(s) 
             Restart Install of Package(s) 
             Unload a Distribution 
             Backup a Transport Global 
  
 3.   Select Installation Option: 
      ---------------------------
      NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
             NAME, enter PRC*5.1*84):
    
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
    
 4.   Select Installation Option: Install Package(s) 
                                  ------------------
    
      a. Choose the Install Package(s) option and select the package
         PRC*5.1*84. 
  
      b. When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
         YES//' answer NO
  
      c. When prompted 'Want to DISABLE Scheduled Options, Menu Options, 
         and Protocols? YES//' answer YES
     
      d. When prompted 'Enter options you wish to mark as 'Out Of 
         Order':'  Enter the following options:
    
         Days of Stock on Hand Report [PRCP DAYS STOCK ON HAND REPORT]
         Cost Trend Analysis Report   [PRCP COST TREND ANALYSIS]
         Usage Demand Item Report     [PRCP USAGE DEMAND ITEM REPORT]
    
      e. When prompted 'Enter protocols you wish to mark as 'Out Of 
         Order':' press <return>.

Routine Information:
====================

Routine Name:
  - PRCPRUSE


Routine Checksum:

Routine Name:
  - PRCPRSOH


Routine Checksum:

Routine Name:
  - PRCPURS2


Routine Checksum:

=============================================================================
User Information:
Entered By  : HOLLOWAY,THOMAS J             Date Entered  : MAY 31, 2005
Completed By: WERNER,GARY                   Date Completed: AUG 08, 2005
Released By : NELSON,VICKI M                Date Released : AUG 12, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
