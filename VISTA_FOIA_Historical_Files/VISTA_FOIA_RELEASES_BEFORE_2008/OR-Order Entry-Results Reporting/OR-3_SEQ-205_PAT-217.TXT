$TXT Created by UNDERHILL,GARDNER at DEVCUR.FO-SLC.MED.VA.GOV  (KIDS) on Friday, 10/29/04 at 11:20
=============================================================================
Run Date: JAN 22, 2005                     Designation: OR*3*217
Package : OR - ORDER ENTRY/RESULTS REPORTING  Priority: Mandatory
Version : 3       SEQ #205                      Status: Released
                  Compliance Date: FEB 22, 2005
=============================================================================


Subject: Orderable Items Record Validation

Category: 
  - Routine

Description:
============

 Patch Description:
 ==================
 This patch provides a utility, consisting of a set of three routines; to 
 find records in the ORDERABLE ITEM FILE # 101.43, which do not have 
 matching records in their source, files. It will flag any active 
 Orderable Item record without a matching source record as inactive and 
 print a detailed report of its findings.
  
 The issue is an active orderable item record that does not have a 
 matching source record. To address this issue a utility has been written 
 that will perform an analysis of the ORDERABLE ITEM FILE, file # 101.43, 
 and produce a detailed report of its findings. This utility will scan the 
 ORDERABLE ITEM FILE record by record. This utility determines the 
 following about the current ORDERABLE ITEM FILE record being processed:
  
 1. Is the ID field null?
  
 2. Is the source record IEN stored in the ID field null?
  
 3. Is the source record package code stored in the ID field null?
  
 4. Is the data stored in the ID field properly formatted?
  
 5. Is the source record package code part of the current interface 
 specification?
  
 6. Is there a matching source record?
  
 7. Is it currently flagged as active?
  
 A temporary global is built tracking all of the above for a detailed 
 report. Only an ORDERABLE ITEM FILE record passing all tests  modified. At
 this point it will be flagged as inactive effective immediately. After the
 utility has printed its report the temporary global created by this
 utility is deleted.
  
 It is these invalid orderable items with no matching source records that 
 are generating the NULLSUBSCR errors described in the associated NOIS 
 cases. The flagging of records in the ORDERABLE ITEM FILE # 101.43 
 without matching source records as inactive will prevent CPRS GUI from 
 presenting them to the user as valid orderable items. The routines in 
 this patch can be run anytime a selected orderable item generates the 
 NULLSUBSCR error.
  
 Associated NOIS:
 ================
 1. ALB-1001-51034 - UNDEF VAR LOAD+6~ORWDLR32
 2. DAN-0204-42157 - Error on Order of Lab Test
 3. NJH-0402-20607 - Receiving error message in CPRS
 4. SBY-0803-30443 - LOAD+4~ORWDLR32:1,%DSM-E-NULLSUBSCR
  
 OPTIONS
 =======
  
 CPRS Clean-up Utilities menu (ORE MGR, a menu option) was modified. A new 
 option was added to it.
  
 Orderable Items Records Validation (ORE ORDERABLE ITEMS VALIDATION, a run 
 routine option) was created. It has been added to the CPRS Clean-up 
 Utilities menu.
  
 The menu path to the new option is:
         CPRS Manger Menu
         CPRS Configuration (IRM) - IR
         CPRS Clean-up Utilities - UT
         Orderable Items Records Validation - OI
  
 HOW TO RUN THE UTILITY:
 =======================
  
 1. Enter the "CPRS Manager Menu".
  
 2. Select the "CPRS Configuration (IRM)" option.
  
 3. Select the "CPRS Clean-up Utilities" option.
  
 4. Select the "Orderable Items Records Validation" option.
  
 5. The user will be presented with a screen with a brief description of 
 the option's functionality. At the "Do you wish to run this program? 
 Enter Yes or No?" prompt enter Y for yes. Entering N for No will return 
 the user to the menu.
  
 6. The user will be prompted for a device for the utilities output. The 
 output can be sent to the terminal screen. A printer for hard copy can be 
 selected. This is recommended. It can be queued to the Kernel Spool and 
 set to run at a preferred later time. 
  
 ROUTINE SUMMARY:
 ================
 The following routines are included in this patch.  The second line of 
 each of these routines now looks like:
  ;;3.0;ORDER ENTRY/RESULTS REPORTING;**[Patch List]**;Dec 17, 1997
  
 Routine name    Before Patch    After Patch        Patch List
 ============    ============    ===========        ==========
 OREORV                   N/A       4346077             217
 OREORV1                  N/A       3985270             217
 OREORV2                  N/A       8511634             217
  
 Installation Instructions:
 ==========================
 This patch should be loaded during non-peak hours to minimize disruption 
 to users. Installation should take less than 2 minutes. Users are allowed 
 to be on the system during the installation. TaskMan does not need to be 
 stopped.
  
 1. Review your mapped set. If any of the routines listed in the ROUTINE 
 SUMMARY section are mapped, they should be removed from the mapped set at 
 this time.
  
 2. Enter MailMan and select the message with the patch.
  
 3. At the Enter message action (in IN basket) prompt type in X for Xtract 
 KIDS.
  
 4. At the "Select PackMan function:" prompt enter "INSTALL/CHECK MESSAGE" 
 and hit enter.
  
 5. At the "Select PackMan function:" prompt enter "INSTALL/CHECK MESSAGE" 
 and hit enter.
  
 6. At the "Want to Continue with Load? YES//" prompt hit enter to accept 
 the default answer of yes. A message will display "Loading 
 Distribution..." followed by the patch name.
  
 7. At the "Select PackMan function:" prompt hit enter to exit the PackMan 
 function menu.
  
 8. At the "Enter message action (in IN basket): Ignore//" hit enter to 
 accept the default answer of ignore.
  
 9. Exit MailMan.
  
 10. On the KIDS menu, select the 'Installation' menu.
  
 11. In the "Installation" menu select the "Install Package(s)" option.
  
 12. At the "Select INSTALL NAME:" prompt enter OR*3.0*217 and hit enter.
  
 13. At this prompt:
 "Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES//"
 Enter N for No.
  
 14. At this prompt:
 "Want KIDS to INHIBIT LOGONs during the install? YES//"
 Enter N for No.
  
 15. At this prompt:
 "Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES//"
 Enter N for No.
  
 16. At the "DEVICE: HOME//" prompt hit enter to accept the default device 
 of HOME for installation messages. The output can be directed to the 
 printer if a hard copy of the installation is desired. 
  
 17. If routines were unmapped as part of step 1, they should be returned 
 to the mapped set once the installation has run to completion.
  
 18. Refer to the HOW TO RUN UTLITY section to run the utility.

Routine Information:
====================

Routine Name:
  - OREORV


Routine Checksum:

Routine Name:
  - OREORV1


Routine Checksum:

Routine Name:
  - OREORV2


Routine Checksum:

=============================================================================
User Information:
Entered By  : UNDERHILL,GARDNER D           Date Entered  : APR 13, 2004
Completed By: STERNHAGEN,SHERRIL            Date Completed: JAN 19, 2005
Released By : LECLAIR,RAY                   Date Released : JAN 22, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
