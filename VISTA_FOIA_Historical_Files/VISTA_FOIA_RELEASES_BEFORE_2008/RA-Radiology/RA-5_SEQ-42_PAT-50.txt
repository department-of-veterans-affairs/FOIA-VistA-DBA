$TXT Created by WESLEY,PAUL at MNTVAA.FO-BIRM.MED.VA.GOV  (KIDS) on Thursday, 07/29/04 at 13:26
=============================================================================
Run Date: AUG 02, 2004                     Designation: RA*5*50
Package : RA - RADIOLOGY/NUCLEAR MEDICINE     Priority: Mandatory
Version : 5        SEQ #42                      Status: Released
                  Compliance Date: SEP 02, 2004
=============================================================================

Associated patches: (v)RA*5*43     <<= must be installed BEFORE `RA*5*50'

Subject: RADIOLOGY PROCEDURE MESSAGE CHANGES & CPRS ORDERS

Category: 
  - Routine

Description:
============

 NOTE: This patch addresses a Patient Safety Issue 
  
 This patch addresses the problem where an edit to an entry in the RAD/NUC 
 MED PROCEDURE MESSAGE file (# 71.4) with the menu Procedure Message 
 Entry/Edit [RA PROCMSGEDIT] does not update the content of the
 related entries of the ORDERABLE ITEMS file (# 101.43).
  
 ASSOCIATED NOIS:
 ================
 1. MIN-0404-41468     PROCEDURE MESSAGE
 2. CPH-0902-42223     Text message in Radiology order
  
 ASSOCIATED E3R(s):
 ==================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 COLUMBUS, OH(OPC)
 HINES, IL
 RENO, NV
 WHITE RIVER JUNCTION, VT
  
 NOIS OVERVIEW:
 ==============
 1. MIN-0404-41468     PROCEDURE MESSAGE
 2. CPH-0902-42223     Text message in Radiology order
  
    Problem:
    --------
 An edit to an existing entry in the RAD/NUC MED MESSAGE file (# 71.4) does 
 change the warnings to be displayed from the RAD/NUC MED PROCEDURE  
 file (# 71) but does not upload/update the ORDERABLE ITEMS file (#101.43). 
 Clinicians using CPRS (Computerized Patient Records System) to order
 exams for patients may be seeing different messages than what is
 entered into the RAD/NUC MED MESSAGE file (# 71.4).
  
    Resolution:
    -----------
 The menu Procedure Message Entry/Edit [RA PROCMSGEDIT] has been modified
 to detect a change in the message editing. If it finds a change
 in an existing message it will then task a job that will update
 the appropriate entries in the ORDERABLE ITEMS file (# 101.43)
 with the content of the edited message.
  
 A patch post-init will be scheduled by the user and will go through the 
 RAD/NUC MED PROCEDURE file (# 71) looking for active entries
 that have RAD/NUC MED MESSAGES entries and update the ORDERABLE
 ITEMS file (# 101.43) accordingly. The job will also generate a
 mail-message to the installing user containing a list of the RAD/NUC
 MED PROCEDURES / ORDERABLE ITEMS that have been re-synchronized.
  
  
 TECHNICAL:
 ==========
 Routine RAMAIN has been modified to detect a change in the text of a 
 message in the RAD/NUC MED MESSAGE file (# 71.4). If it detects a
 change it calls a new routine, RAMAIN3, to task a job to perform the
 appropriate updates to the ORDERABLE ITEMS file (# 101.43).
  
 Routine RA50PST has been created to perform the post-init scanning of the 
 RAD/NUC MED PROCEDURE file (# 71) to locate active entries that contain 
 RAD/NUC MED MESSAGES and update the appropriate ORDERABLE ITEMS file 
 (# 101.43) entries. 
  
  
 ROUTINE SUMMARY 
 ===============
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like: 
  
   <tab>;;5.0;Radiology/Nuclear Medicine;**[patch number]**;Mar 16, 1998 
                        CHECK^XTSUMBLD results
 Routine name      Before Patch        After Patch       Patch List
 ============      ============        ===========       ===========
  
 RA50PST           n/a                 3565090           50
 RAMAIN            11316829            11581978          31,43,50
 RAMAIN3           n/a                 2142575           50
  
  
 INSTALLATION INSTRUCTIONS
 =========================
  
 *********************************      *********************************
 ********************************* NOTE *********************************
 *********************************      *********************************
 Due to a locking problem, which will be addressed in patch RA*5.0*54,
 two users may edit the same radiology message at the same time. All 
 radiology messages modified using menu option Procedure Message Entry/Edit 
 [RA PROCMSGEDIT] should be reviewed and verified upon completion to 
 insure simultaneous edits did not subsequently change the radiology message.
 ************************************************************************
 ************************************************************************
  
 This patch can be loaded with users in the system.  However there should 
 be no editing of the RAD/NUC MED MESSAGE file (# 71.4) with the menu 
 Procedure Message Entry/Edit [RA PROCMSGEDIT] during the installation.
 Installation time is less than one minute.
 You do not have to inhibit logon's or disable any options.
 The user will be prompted for a time to run a post-init. It is best to 
 schedule to run the post-init after regular work hours.
  
   1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
       
  2. Review your mapped set. If any of the routines listed in the
     ROUTINE SUMMARY section are mapped, they should be removed from the 
     mapped set at this time.
   
  3. Start up the Kernel Installation and Distribution System Menu
     [XPD MAIN]:
   
                 Edits and Distribution ...
                 Utilities ...
                 Installation ...
   
     Select Kernel Installation & Distribution System Option: Installation 
   
            1      Load a Distribution
            2      Verify Checksums in Transport Global
            3      Print Transport Global
            4      Compare Transport Global to Current System
            5      Backup a Transport Global
            6      Install Package(s)
                   Restart Install of Package(s)
                   Unload a Distribution
   
  4. From this menu, you may elect to use the following options:
     (when prompted for INSTALL NAME, enter RA*5.0*50)
      
     a.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are
         in the transport global.
     b.  Print Transport Global - this option will allow you to view
         the components of the KIDS build.
     c.  Compare Transport Global to Current System  - this option
         will allow you to view all changes that will be made when
         the patch is installed.  It compares all components of the
         patch (routines, DD's, templates, etc.).
     d.  Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch.  It will
         not backup any other changes such as DD's or templates.
      
  5. Use the Install Package(s) option and select the package
     RA*5.0*50
      
     a. When prompted 'Enter a Date/Time for the postinit to run:'
        respond with a time after regular work hours.
     b. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
        YES//', respond NO
     c. When prompted 'Want to DISABLE Scheduled Options, Menu Options,   
        and Protocols? YES//', respond NO.
   
  6. If routines were unmapped as part of step 2 they should be returned to 
     the mapped set once the installation has run to completion.
  
  
  
  
 INSTALLATION EXAMPLE:
 ===================== 
 Select Kernel Installation & Distribution System Option: INstallation
  
    1      Load a Distribution
    2      Verify Checksums in Transport Global
    3      Print Transport Global
    4      Compare Transport Global to Current System
    5      Backup a Transport Global
    6      Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME: RA*5.0*50       Loaded from Distribution  
 6/2/04@11:46:35
      => RA*5*50 v1 MNTVAA 2Jun04 11am
  
 This Distribution was loaded on Jun 02, 2004@11:46:35 with header of
    RA*5*50 v1 MNTVAA 2Jun04 11am
    It consisted of the following Install(s):
       RA*5.0*50
 Checking Install for Package RA*5.0*50
  
 Install Questions for RA*5.0*50
  
  
 This task will refresh/update the OE/RR Orderable Items file #101.43
 from the Rad/Nuc Med Procedures file #71.
  
 It is best to have it run after hours.
  
 The postinit will generate a message to the installing user listing the
 RAD/NUC MED PROCEDURES / ORDERABLE ITEMS that have been refreshed.
 Enter a Date/Time for the postinit to run.:  T@1900  (JUN 02, 2004@19:00)
  
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
 xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  
  Install Started for RA*5.0*50 :
                Jun 02, 2004@11:53:45
  
 Build Distribution Date: Jun 02, 2004
  
  Installing Routines:
                Jun 02, 2004@11:53:45
  
  Running Post-Install Routine: ^RA50PST
  
 The job is scheduled by task 205122
  
 Scheduled for JUN 2,2004@19:00
  
  Updating Routine file...
  
  Updating KIDS files...
  
  RA*5.0*50 Installed.
                Jun 02, 2004@11:53:45
  
  Not a production UCI
  
 Install Completed
  
 POSTINIT Message Sample:
 ========================  
  
 Subj: RA*5*50 Postinit - Procedure Update of Orderable Item file Report
 [#156438] 06/02/04@11:53  7 lines
 From: RA*5*50 POSTINIT  In 'IN' basket.   Page 1
 --------------------------------------------------------------------------
  
 RA*5*50 Postinit - Procedure Update of Orderable Item file Report
     Please forward this email to the Radiology ADPAC.
     RAD/NUC MED PROCEDURE file (# 71)
 # 71 IEN   RA Procedure/Orderable Item         Total Updated = 2
  
       58   CHEST 2 VIEWS PA&LAT [02]
      211   UROGRAM IV DRIP INFUSION
  
 Enter message action (in IN basket): Ignore//

Routine Information:
====================

Routine Name:
  - RAMAIN


Routine Checksum:

Routine Name:
  - RAMAIN3


Routine Checksum:

Routine Name:
  - RA50PST


Routine Checksum:

=============================================================================
User Information:
Entered By  : WESLEY,PAUL                   Date Entered  : MAY 18, 2004
Completed By: DI BENEDETTO,PETER            Date Completed: JUL 29, 2004
Released By : HINES,RICK                    Date Released : AUG 02, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
