$TXT Created by FORT,WALLY at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Wednesday, 11/05/03 at 16:49
=============================================================================
Run Date: NOV 13, 2003                     Designation: XU*8*293
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #272                      Status: Released
                  Compliance Date: DEC 14, 2003
=============================================================================

Associated patches: (v)XU*8*215    <<= must be installed BEFORE `XU*8*293'
                    (v)XU*8*278    <<= must be installed BEFORE `XU*8*293'

Subject: Cache 5 fix to AVJ~%ZOSV

Category: 
  - Routine
  - Data Dictionary
  - Other

Description:
============

 Patch Tracking #: 36125057
 Test Sites: Re-engineering team, VAMC Portland, VMAC White City, 
             VAMC Reno, Imaging.
 Blood Bank Clearance: 7/15/2003
  
 ***All sites must load this patch for the new fields to the device file ***
         ***The routine changes are only for Cache sites. ***
  
 NOIS: ISA-0303-12448
 As reported by HARDHATS and the re-engineering team.  Cache has changed
 the way you find out the number of available jobs under Cache 5.0
 Need to update %ZOSV to take this into account.
 Fix: Added code to test for Cache V5 and use new code.  Support was removed
 for OpenM 2.1 and lower.
  
 NOIS: ROS-0303-51415
 This is a new error.  It looks like under Cache now, a DO in a Execute 
 string doesn't return to the old routine that was there before the DO.  
 The standard is not clear on how this should work. 
 Fix: Change code in ZIS4ONT to use full references.
  
 NOIS: ISL-0503-50401
 Problem: Sites have been seeing intermittent problems with the SPOOL device 
 on VMS/Cache systems.
 Fix: Set Cache to report EOF thru the $ZEOF variable.
  
 Request from NVS to add three fields to the device file for Telnet printers.
 Included:
   Options: added under the Edit Devices by Specific Types.
            XUDEVEDITLPD, XUDEVEDITTRM   
   Forms: XUDEVICE LPD, XUDEVICE TRM
   
 STANDARD DATA DICTIONARY #3.5 -- DEVICE FILE    JUL 22,2003@12:17:16  PAGE 1
 STORED IN ^%ZIS(1,  (115 ENTRIES)   SITE: SF CIOFO, KERNEL PATCH ACCOUNT
 UCI: NXT,KDE (VERSION 8.0)
  
 DATA          NAME                  GLOBAL        DATA
 ELEMENT       TITLE                 LOCATION      TYPE
 ----------------------------------------------------------------------------
  
 3.5,65        PRINT SERVER NAME OR ADDRESS VMS;5 FREE TEXT
  
               INPUT TRANSFORM:  K:$L(X)>45!($L(X)<3) X
               LAST EDITED:      JUL 22, 2003 
               HELP-PROMPT:      Enter the FQDN or TCP/IP address of the remote 
                                 server. 
               DESCRIPTION:      This field contains the FQDN (fully qualified
                                 domain name) or specific TCP/IP address of a
                                 remote server (e.g., for LPD/LPR printing) or
                                 device (e.g., for telnet printer).  
  
  
 3.5,66        TELNET PORT            VMS;6 NUMBER
  
               INPUT TRANSFORM: K:+X'=X!(X>65534)!(X<2000)!(X?.E1"."1N.N) X
               LAST EDITED:     JUL 22, 2003 
               HELP-PROMPT:     Enter the telnet port (range = 2000 to 65534) 
               DESCRIPTION:     This field contains the telnet port of a remote
                                device (e.g., a telnet printer).  The allowable
                                range is a number between 2000 and 65534.  
  
  
 3.5,67        REMOTE PRINTER NAME    VMS;7 FREE TEXT
  
               INPUT TRANSFORM:  K:$L(X)>45!($L(X)<3) X
               LAST EDITED:      JUL 22, 2003 
               HELP-PROMPT:      Answer must be 3-45 characters in length. 
               DESCRIPTION:      This is the Name of the Remote Printer that is
                                 referenced by the "PRINT SERVER NAME OR
                                 ADDRESS" and "TELNET PORT" fields.  
  
 Routine Summary
 The following routines are included in this patch.  The second line of each
 of these routines now looks like:
  ;;8.0;KERNEL;**[Patch List]**;Jul 10, 1995
  
                  Checksum
 Routine         Old       New      Patch List
 ZIS4ONT       9870289  10205869    **34,59,69,191,278,293**
 ZOSVONT       5640784   6784414    **34,94,107,118,136,215,293**
  
 List of preceding patches: 215, 278
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 =========================================================================
 Installation:
  
 >>>Users may remain on the system.
 >>>TaskMan does not need to be stopped.
  
   1.  DSM sites - Not production routines, should not be mapped.
  
   2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
       option will load the KIDS package onto your system.
  
   3.  The patch has now been loaded into a Transport global on your
       system. You now need to use KIDS to install the Transport global.
       On the KIDS menu, under the 'Installation' menu, use the following
       options:
  
          Verify Checksums in Transport Global
          Print Transport Global
          Compare Transport Global to Current System
          Backup a Transport Global
  
  4.   DSM sites: Users can remain on the system. TaskMan can remain running.
       Cache sites: Inhibit users from login into the system. (If you 
       install when few users are on the system and a slight possibility of 
       some CLOBER errors is acceptable, then users can stay on the system.)
       Also place TaskMan in a wait state. (DO WAIT^ZTMKU)
  
   5.  Installation will take less than 3 minutes.
       In Programmer mode:
       Use "D ^XPDKRN" then
          Install Package(s)  'XU*8.0*293'
                               ==========
       Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// Yes
       
       Want KIDS to INHIBIT LOGONs during the install? YES// Yes
  
       Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// No
       
   6.  After installing this patch,
       DSM/MSM sites - YOU ARE DONE.
  
   7.  Cache sites remain in VAH
       DO RELOAD^ZTMGRSET
       Select the System
       Patch number to load: 293
                             ===
  
   8.  Remove TaskMan from the wait state. (DO RUN^ZTMKU)
  
 =========================================================================

Routine Information:
====================

Routine Name:
  - ZOSVONT


Routine Checksum:

Routine Name:
  - ZIS4ONT


Routine Checksum:

=============================================================================
User Information:
Entered By  : FORT,WALLY                    Date Entered  : MAR 27, 2003
Completed By: SINGH,GURBIR                  Date Completed: NOV 06, 2003
Released By : TILLIS,LEWIS                  Date Released : NOV 13, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
