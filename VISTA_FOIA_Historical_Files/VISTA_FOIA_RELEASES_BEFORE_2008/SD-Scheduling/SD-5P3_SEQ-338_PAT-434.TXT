$TXT Created by LUNDEN,JOHN at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 03/25/05 at 16:00
=============================================================================
Run Date: APR 15, 2005                     Designation: SD*5.3*434
Package : SD - SCHEDULING                     Priority: EMERGENCY
Version : 5.3       SEQ #338                    Status: Released
                  Compliance Date: APR 19, 2005
=============================================================================

Associated patches: (v)SD*5.3*356  <<= must be installed BEFORE `SD*5.3*434'

Subject: CANCEL APPOINTMENT NOT RE-CREATING AVAILABILITY

Category: 
  - PATCH FOR A PATCH

Description:
============

 This patch will correct an issue where the clinic availability is not 
 restored when canceling an appointment by scheduling the same patient 
 for the same date and time in a different clinic and saying "Y"es to 
 cancel the original appointment. The availability for the original 
 clinic's time slot is not made available after the cancellation.
  
 This patch contains a post-installation routine that will clean up 
 incorrect appointment nodes in the Hospital Location (44) file which were
 created by the above problem.
 
 Note:  Since this is an emergency patch for a patch, which affects clinic
 availability, a three work day compliance applies. 
  
 
 ASSOCIATED REMEDY:
 =================
 HD85334 - Cancelled appointments showing in Display Clinic Availability.
 (Duplicate) HD86150 - scheduling appointment makes 2 appts
 (Duplicate) HD85916 - Scheduling Appointment problems being seen
 (Duplicate) HD87778 - CANCELLED APPT STILL ON APPOINTMENT LIST
 
 
 ASSOCIATED E3R(s):
 ==================
 N/A
 
  
 PARTICIPATING TEST SITES:
 =========================
 Central Alabama HCS
 Montana HCS
 Cheyenne, WY
 Wilmington, DE 
  
 
 REMEDY OVERVIEW:
 ==============
 HD85334 - Cancelled appointments showing in Display Clinic Availability.
  
  
 Problem:
 --------
 When scheduling an appointment for a patient who has an existing 
 appointment in another clinic for the same date and time that you are 
 trying to schedule, there is a prompt asking if you wish to cancel the 
 original appointment. Answering yes to cancel the original appointment 
 will cancel the appointment but the clinic availability does not restore.
  
  
 Resolution:
 -----------
 A modification will be made to the routine SDM2 that will ensure the 
 integrity of the local variable that holds the value for the Hospital 
 Location. This will correct a problem where the code to restore the 
 clinic availability was bypassed because the integrity of the Hospital 
 Location variable was corrupted.
  
 A new routine, SD53P434 will automatically run at installation and clean up
 any incorrect appointment nodes in the Hospital Location (44) file.  This
 routine will delete at the completion of the installation.
 
 NOTE:  The routine will list any appointments it removes DURING INSTALLATION. 
 It is important to retrieve this list during installation of the patch, as it
 is not stored anywhere and will not be available through any other means after
 installation.
 
  
 ROUTINE SUMMARY:
 ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;Aug 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SDM2                  11143038             11412958    32,132,168,356,434
  SD53P434               N/A                  2399941         N/A
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch should be installed during non-business hours as one option will 
 be out of service during the installation process and the post-installation 
 routine could take an hour to run depending on the size of the site. Users 
 do not have to be off the system.
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note: TEXT 
    PRINT/DISPLAY option in the PackMan menu still display the patch text
    only].
  
 2. Review your mapped set.  If the routines are mapped, they should be
    removed from the mapped set at this time.
  
 3. From the Kernel Installation and Distribution System (KIDS) menu,
    select the Installation menu.
  
 4. From this menu, you may elect to use the following options:
    (when prompted for INSTALL NAME enter SD*5.3*434)
    
    a. Backup a Transport Global - this option will create a backup message
       of any routines exported with the patch. It will NOT backup any 
       other changes such as DDs or templates.
    b. Compare Transport Global to Current System - this option will allow
       you to view all changes that will be made when the patch is 
       installed. It compares all components of the patch (routines, DDs, 
       templates, etc.).
    c. Verify Checksums in Transport Global - this option will allow you
       to ensure the integrity of the routines that are in the Transport
       Global.
    d. Print Transport Global - this option will allow you to view the
       components of the KIDS build.
  
 5. Use the Install Package(s) option and select the package SD*5.3*434.
  
 6. When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//', 
    respond NO
  
 7. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
    Protocols? YES//', respond YES.
  
 8. When prompted to select the options you would like to place out of
    order, enter the following:
  
         SDAM APPT MGT     Appointment Management
  
 9. If routines were unmapped as part of step 2 (DSM for Open VMS sites
    only), they should be returned to the mapped set once the installation
    has run to completion.
 
 
 NOTE:  Routine SD53P434 will automatically run during installation and clean
 up any incorrect appointment nodes in the Hospital Location (44) file.  The
 routine will list any appointments it removes so that the user can confirm
 that they have been removed, and then it will automatically delete itself.
 

Routine Information:
====================

Routine Name:
  - SDM2


Routine Checksum:

Routine Name:
  - SD53P434


Routine Checksum:

=============================================================================
User Information:
Entered By  : VILLELLA,ROSS                 Date Entered  : MAR 22, 2005
Completed By: WERNER,GARY                   Date Completed: APR 15, 2005
Released By : BENBOW,PHYLLIS O              Date Released : APR 15, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
