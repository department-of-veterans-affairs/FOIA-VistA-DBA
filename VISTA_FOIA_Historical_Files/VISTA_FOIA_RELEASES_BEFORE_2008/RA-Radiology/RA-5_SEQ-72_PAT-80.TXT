$TXT Created by BRODNIANSKY,PAVEL at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Thursday, 08/23/07 at 15:50
=============================================================================
Run Date: OCT 01, 2007                     Designation: RA*5*80
Package : RA - RADIOLOGY/NUCLEAR MEDICINE     Priority: Mandatory
Version : 5        SEQ #72                      Status: Released
                  Compliance Date: NOV 01, 2007
=============================================================================

Associated patches: (v)RA*5*55     <<= must be installed BEFORE `RA*5*80'
                    (v)RA*5*75     <<= must be installed BEFORE `RA*5*80'
                    (v)RA*5*81     <<= must be installed BEFORE `RA*5*80'

Subject: ADDING MENU OPTION TO RESEND HL7 MESSAGES BY DATE RANGE

Category: 
  - Routine
  - Other
  - Enhancement (Mandatory)

Description:
============

  This patch will add menu option "Resend HL7 Messages By Date Range" 
  [RA HL7 RESEND BY DATE RANGE] to the Radiology HL7 menu [RA HL7 MENU].
  This will give authorized users with the RA MGR key the ability to resend
  HL7 messages in batch by date range, with the ability to target which HL7
  application(s) the messages will go to.
  
  Care has been taken to help minimize the overall impact this option 
  may have on the messaging system.  Messages are only sent to the output 
  queue if it is below a certain threshold value.  Also, the menu option
  may be tasked to run during off hours.
   
 ASSOCIATED NSR(s):
 ==================
  N/A
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
  HD151574 - Orders lost on Talkstation after system failure
    HD168749(duplicate) - Resend HL7 Messages in Batch
  HD144638 - Resend Messages & Bypass Particular Links 
  HD199212 - VistA Radiology/Nuclear Medicine & Nuance PowerScribe voice 
             recognition interface issues.
  
 PARTICIPATING TEST SITES:
 =========================
 NORTHERN INDIANA
 NORTHERN CALIFORNIA
 SAN FRANCISCO
 BUTLER
 PHILADELPHIA
 PITTSBURGH
 SALISBURY
  
  
 REMEDY OVERVIEW:
 ==================
 Problem 1:  HD151574,HD168749 
 ---------
  Currently, the only way of resending Radiology HL7 messages to their 
  respective subscribing applications is individually by case number.  This
  is impractical, particularly if a large number of messages need to be
  resent.
  
 Resolution 1:
 -----------
  Added new menu option to resend a batch of messages by date range.
  
  
 Problem 2:  HD144638  
 --------------------
  While the menu option to resend Radiology HL7 messages by date range was
  class III software, a site attempted to resend the messages to a newer
  PACS system. Their voice recognition dictation system became bogged down
  when it also received the re-sent messages that were intended for the
  PACS, since the option was not designed to target individual
  applications.
  
 Resolution 2:
 ------------- 
  The menu option exported in this patch will have the ability to target 
  individual Radiology applications.
  
  
 Problem 3: HD199212
 -------------------
  This patch also corrects the Nuance PowerScribe issue created when 
  multiple accession numbers are bundled for the purpose of linking them to
  a single report. This "bundling on the fly" concept for single procedures
  is similar to the parent-descendent printset business rule within the 
  VistA Radiology/Nuclear Medicine application.
  
  A primary Diagnostic Code and secondary diagnostic codes can be 
  associated with the report. The Nuance PowerScribe application associates
  each series of primary and secondary diagnostic codes with each accession
  number. So, if three single accessions were associated with a report then
  the system will repeat, times the number of accession numbers, the 
  diagnostic code for each case to VistA. 
  
  As the current business rules apply, VistA will reject the report due to 
  diagnostic code duplication.
  
 Resolution 3:
 -------------
  After this patch, the business rules concerning diagnostic codes will 
  change. Then, duplicate diagnostic codes will not cause the report to be 
  rejected. Each duplicate diagnostic code will be discarded so as to file 
  only the first instance of the primary or secondary diagnostic code.
  
  As mentioned, this is an issue with those facilities running the Nuance 
  PowerScribe voice recognition application. 
  
  To ensure backwards compatibility with our other voice recognition 
  interfaces namely Agfa TalkStation and Commissure RadWhere this patch 
  will be tested at sites running those applications.
  
 Problem 4: HD199212
 -------------------
  Whenever PowerScribe passes diagnostic codes in their ORU HL7 message,
  the first instance of the diagnostic code passed is set to a value of
  null. VistA Radiology/Nuclear Medicine will not accept a null value and
  rejects the entire ORU HL7 message.
  
 Resolution 4:
 -------------
  The VistA Radiology/Nuclear Medicine application will look for null 
  diagnostic code values and discard those null values. VistA
  Radiology/Nuclear Medicine will not reject PowerScribe's ORU HL7 
  message based on a null values for the diagnostic codes.
  
 DISTRIBUTION:
 =============
  This patch is exported using KIDS.
  
 DOCUMENTATION RETRIEVAL:
 ======================== 
  Documentation updates for this patch can be downloaded from the
  following [ANONYMOUS.SOFTWARE] directories:
  
                                       PREFERRED ADDRESS
                                       -------------------------
     First available ftp server        download.vista.med.va.gov
  
     SPECIFIC FIELD OFFICE             FTP ADDRESS
     ---------------------             ------------------------
     Albany                            ftp.fo-albany.med.va.gov
     Hines                             ftp.fo-hines.med.va.gov
     Salt Lake City                    ftp.fo-slc.med.va.gov
  
  
  The documentation includes:
   
 File Name                              Description
 =========                              ===========
  RA5_0RN_P80.PDF                       Release Notes in .PDF format
  RA5_0TM.PDF                           Technical Manual in .PDF format
  
  Once released, documentation may also be retrieved from the VistA
  Documentation Library (VDL) on the Internet at the following address:
  http://www.va.gov/vdl
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch may be run with users on the system. Installation will take
 less than 5 minutes.
   
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
  
 2. Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
 3.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter RA*5.0*80):
  
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will
         not backup any other changes such as DD's or templates.
     b.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch (routines,
         DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in
         the transport global.
     d.  Print Transport Global - this option will allow you to view the
         components of the KIDS build.
  
 4.  Use the Install Package(s) option and select the package RA*5.0*80.
  
 5.  Want KIDS to Rebuild Menu Trees Upon Completion of Install? NO//NO
  
 6.  When prompted ' Want KIDS to INHIBIT LOGONs during the install?
         NO//', respond NO.
  
 7.  When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? NO//', respond NO.
  
  
 POST INSTALL:
 =============
 Upon completion of the resend task, a summary message will be sent to 
 the mail group RAD HL7 MESSAGES.  It should be verified that this group
 exists at your site.  If it does not, it should be created.  This
 can be done from the Manage Mailman option XMMGR.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
    ;;5.0;Radiology/Nuclear Medicine;**[Patch List]**;Mar 16, 1998,Build 19
  
  
                             CHECK^XTSUMBLD results
  
  Routine name     Before Patch    After Patch    Patch List
  ===========      ===========     ===========    ==========
   RAHLO2          7948095          8349154        55,80
   RAHLR           23171365         23246959       2,12,10,25,71,82,75,80
   RAHLRPT         23788116         23863710       2,12,10,25,81,80
   RAHLRS1           N/A            14037769       80
  
 Total number of routines - 4

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.0;Radiology/Nuclear Medicine;**[Patch List]**;Mar 16, 1998;Build 19

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RAHLO2
    Before: B17806463   After: B19096682  **55,80**
Routine Name: RAHLR
    Before: B47516973   After: B48962117  **2,12,10,25,71,82,75,80**
Routine Name: RAHLRPT
    Before: B70016688   After: B70244672  **2,12,10,25,81,80**
Routine Name: RAHLRS1
    Before:       n/a   After: B51416412  **80**
 
Routine list of preceding patches: 55, 75, 81

=============================================================================
User Information:
Entered By  : TROHA,ROBERT                  Date Entered  : OCT 16, 2006
Completed By: HEFFERNAN,COREY               Date Completed: SEP 24, 2007
Released By : REGA,ANNE                     Date Released : OCT 01, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
