$TXT Created by FORT,WALLY at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on WEDNESDAY, 05/15/02 at 09:24
=============================================================================
Run Date: JUL 30, 2002                     Designation: XU*8*225
Package : XU - KERNEL                          Priority: Mandatory
Version : 8       SEQ #201                       Status: Released
=============================================================================

Associated patches: (v)XU*8*20     <<= must be installed BEFORE `XU*8*225'
                    (v)XU*8*127    <<= must be installed BEFORE `XU*8*225'
                    (v)XU*8*170    <<= must be installed BEFORE `XU*8*225'

Subject: ZISTCP and ZU fixes

Category: 
  - Routine

Description: 
============

 Test Site: ANCHORAGE
 NOIS Calls: LOU-0601-40314, LEX-0401-42341, COA-0401-21786, HVH-0101-11346
 Blood Bank Clearence: 4/12/2002
  
 Problem: The call to Intersystems' license share should only be called for 
 Telnet and TCP connections. Not for LAT.
 Fix: This patch changes ZU to check the type of device and only call the 
 Intersystems License share code for Telnet connections, this is done 
 for both DSM and Cache. 
  
 Problem: TCP clients on Cache were opened in 'mumps' mode, this caused some 
 problems when talking with DSM systems. This caused problems with HL7.
 Fix: This patch changes the way that TCP devices are opened on Cache 
 systems to be in packet mode.  This makes it behave more like the way that 
 DSM does.
  
 Problem: ZISTCPS would halt when told to stop.  When called from a job 
 started by Taskman the task would not be cleaned up. This caused problems 
 with HL7.
 Fix: To have ZISTCPS just QUIT when told to stop.
  
 Problem: VMS and DSM utilities require the job number in hex, but Taskman 
 listing would just show the job number in decimal.
 Fix: In a task listing of running tasks, include the job number in hex when 
 the job numbers is greater that 2048.
  
  
 Routine Summary
 The following routines are included in this patch.  The second line of each
 of these routines now looks like:
  ;;8.0;KERNEL;<patchlist>;Jul 10, 1995
  
                  Checksum
 Routine         Old       New      2nd Line
 XUTMTP1       5115647   5550117    **20,225**
 ZISTCP        2703750   3208452    **36,34,59,69,118,225**
 ZISTCPS       1115181   1281564    **78,118,127,225**
 ZUONT         2038331   2065413    **34,94,118,162,170,225**
 ZUSET         1042105   1042105    **162,170,225**
 ZUVXD         4620305   4178529    **13,24,84,94,118,162,225**
  
 List of preceding patches: 20, 127, 170
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 =========================================================================
 Installation:
 >>>Users may remain on the system.
 >>>TaskMan does not need to be stopped.
  
   1.  DSM sites - Some of these routines are usually mapped,
       so you will need to disable mapping for the affected routines.
  
   2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
       option will load the KIDS package onto your system.
  
   3.  The patch has now been loaded into a Transport global on your
       system. You now need to use KIDS to install the Transport global.
       On the KIDS menu, under the 'Installation' menu, use the following
       options:
  
          Verify Checksums in Transport Global
          Print Transport Global
          Compare Transport Global to Current System
          Backup a Transport Global
  
   4.  Users can remain on the system. This patch can be loaded any
       non-peak time. Installation should take less than two minutes.
       This patch can not be queued.
       TaskMan can remain running.
  
   5.  In Programmer mode:
          Install Package(s)  'XU*8.0*225'
                               ==========
  
         Want KIDS to INHIBIT LOGONs during the install? YES// NO
  
         No Options or Protocols need to be placed out-of-order.
         Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO
                                                                         ==
  
   6.  After installing this patch,
       Cache Sites - you don't need to move anything, skip this step.
       DSM/MSM sites - you need to move several routines from
       your production account to each manager account:
  
 ZISTCP
 ZISTCPS
  
   7.  And in the manager account,  (OpenM sites remain in VAH)
       All sites:
       DO RELOAD^ZTMGRSET
       Select the System
       Patch number to load: 225
                             ===
  
   8.  DSM Sites, after patch has installed, rebuild your map set.
  
 =========================================================================

Routine Information:
====================

Routine Name:
  - XUTMTP1


Routine Checksum:

Routine Name:
  - ZISTCP


Routine Checksum:

Routine Name:
  - ZISTCPS


Routine Checksum:

Routine Name:
  - ZUONT


Routine Checksum:

Routine Name:
  - ZUSET


Routine Checksum:

Routine Name:
  - ZUVXD


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : FORT,WALLY                     Date Entered : FEB 12, 2002
Completed By: SINGH,GURBIR                  Date Completed: MAY 15, 2002
Released By : CHANNELL,DEBBIE               Date Released : JUL 30, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
