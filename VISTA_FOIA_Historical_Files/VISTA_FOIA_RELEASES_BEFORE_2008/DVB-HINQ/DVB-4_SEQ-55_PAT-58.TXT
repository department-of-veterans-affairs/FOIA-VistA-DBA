
=============================================================================
Run Date: OCT 22, 2007                     Designation: DVB*4*58
Package : DVB - HINQ                          Priority: Mandatory
Version : 4        SEQ #55                      Status: Released
                  Compliance Date: NOV 22, 2007
=============================================================================

Associated patches: (v)DVB*4*50    <<= must be installed BEFORE `DVB*4*58'

Subject: AUTOMATED SERVICE CONNECTED DESIGNATION - DVB

Category: 
  - Routine
  - Enhancement (Mandatory)
  - Data Dictionary
  - Informational

Description:
============

                             I M P O R T A N T
 *************************************************************************
  
 This Hospital Inquiry (HINQ) patch, DVB*4.0*58, along with the Scheduling
 Application System patch, SD*5.3*495, and the Patient Care Encounter (PCE)
 patch, PX*1.0*184, is being released in a single KIDS software 
 distribution (host file) DVB_4_P58.KID. This patch description includes
 only the informational portion of DVB*4.0*58. Also as part of this
 project are patches PRCA*4.5*250 and IB*2.0*369. These patches must be 
 installed before the host file DVB_4_P58.KID.
  
 Please refer to the "Software Retrieval" and "Installation Instructions"
 sections of this patch description for instructions on how to acquire,
 install, and implement the patch software.
 *************************************************************************
  
 This patch addresses the Automated Service Connected Designation (ASCD) 
 project which will automate the Service Connected (SC) decision for
 outpatient encounters using mapped ICD9/Rated Disability Codes at the time
 the clinician enters the ICD9 code for the encounter within the Patient
 Care Encounter (PCE) and Scheduling packages ONLY.
  
 In the current clinical work environment providers are requested to 
 designate, at the point of care, if a specific patient care encounter is 
 service connected based on available disability rating information. This
 software will computerize the clinician's process at each encounter, i.e.
 mark the encounter service connected (SC) or non-service connected (NSC)
 as appropriate via the PCE & Scheduling packages.  Thus, when a provider
 or clinician chooses the diagnosis code within one of these packages for
 the encounter, the system will automatically determine if the diagnosis is
 related to the veteran's established SC conditions, and will likewise 
 automatically make the proper SC/NSC determination.  
  
 Additionally, the Class III Service Connection Objective Update Tool 
 (SCOUT) software has been converted and implemented as Class I Automated
 Service Connected Designation (ASCD).  This software recognizes
 potentially billable encounters for SC veterans that cannot be
 automatically matched to rated disability codes as well as potentially
 non-billable encounters which were designated NSC but should be SC.  These
 encounters are displayed in reports for coders and/or utilization review
 staff to review the patient visit information and change the incorrect
 SC/NSC designation so they can be billed appropriately.
  
 This patch introduces modifications to the DISABILITY CONDITION (#31) file.
 The Veterans Health Administration (VHA) has mapped the Veteran Benefits
 Administration (VBA) 4 digit RATED DISABILITIES (VA) code terminology to
 ICD-9-CM codes used for billing and reporting purposes within VistA.
 This mapping will help automate the Service Connected (SC) decision for
 outpatient encounters.
   
 DBIA 733 was updated with read access to RELATED ICD9 CODES, field #20 
 multiple file #31.01.
   
   DBIA REFERENCE: 733
   NAME: READ ACCESS TO ICD9 CODE INFORMATION
   CUSTODIAL PACKAGE: HINQ
        
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
 Request ID:    20050705
 Request Name:  Automated Service Connected Designation
 Product Name:  SCOUT and VBA/ICD mapping
  
  
 This patch addresses the following Remedy Ticket(s):
 ----------------------------------------------------
 There are no Remedy tickets associated with this patch.
  
  
 Components Sent With Patch:
 ---------------------------
 ROUTINE, FILE
  
   
 ROUTINE SUMMARY:
 ================
 The following is a list of the routines included in this patch.
 The second line of each of these routines now looks like:
  
      <tab>;;4.0;HINQ;**[patch list]**;03/25/92
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DVB458P                    N/A              9681194             58
  DVB458P1                   N/A             11622476             58
  DVB458P2                   N/A             19026889             58
  DVB458P3                   N/A             25900315             58
  DVB458P4                   N/A             29616464             58
  DVB458P5                   N/A             23018146             58
  DVB458P6                   N/A             21367822             58
   
  Number of Routines = 7
  
   
  
                        CHECK1^XTSUMBLD results (new method)
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DVB458P                    N/A             35413628             58
  DVB458P1                   N/A             42388125             58
  DVB458P2                   N/A             71594347             58
  DVB458P3                   N/A             85058690             58
  DVB458P4                   N/A             95562400             58
  DVB458P5                   N/A            101691653             58
  DVB458P6                   N/A             41872735             58
  
  Number of Routines = 7
  
  
 The following is a list of files included in this patch:
 --------------------------------------------------------
  
                                    UP   SEND DATA             USER
                                    DATE SEC. COMES  SITE RSLV OVER
 FILE #    NAME                     DD   CODE W/FILE DATA PTS  RIDE
 ------------------------------------------------------------------
 31        DISABILITY CONDITION     YES  NO   NO               NO
 Partial DD: subDD: 31.01      fld: .01
                               fld: .02 
  
  
 The following is a list of fields included in this patch:
 ---------------------------------------------------------
  
 Field Name (Number)             File Name (Number)
 ---------------------------     ------------------------------------
 RELATED ICD9 CODES   (#20)      RELATED ICD9 CODES SUB-FILE (#31.01)
   RELATED ICD9 CODES (#.01)               sub-file multiple (#31.01)
   ICD9 MATCH         (#.02)               sub-file multiple (#31.01)
  
  
 Test Sites:      Alpha  Beta
 -----------      -----  ----
 Bedford, MA             X
 Bronx, NY               X
 Fargo, ND        X
 North Texas, TX         X
 Puget Sound, WA         X
 Tampa, FL        X
  
  
 SOFTWARE RETRIEVAL INSTRUCTIONS:
 --------------------------------
 The software for this patch is not being distributed through the National 
 Patch Module.  This patch is being distributed as a host file.  The host
 file will contain three (3) KIDS builds.
  
   Host file name: DVB_4_P58.KID
            Build: DVB*4.0*58
                   SD*5.3*495
                   PX*1.0*184
  
 Sites may retrieve the software and documentation directly using FTP from
 the following Office of Information Field Offices (OIFOs) sites:
  
   OIFO                     FTP ADDRESS                  
   ------------             ------------------------     
   Albany                   ftp.fo-albany.med.va.gov     
   Hines                    ftp.fo-hines.med.va.gov      
   Salt Lake City           ftp.fo-slc.med.va.gov        
   First Available Server : download.vista.med.va.gov (preferred method) 
  
  
   The following files will be available:
  
   FILE NAME                DESCRIPTION
   --------------------     -----------------------------------------------
   DVB_4_P58.KID            Host file containing KIDS software distribution
   PX_10_P184_UM.PDF        PCE User Manual
   SD_53_P495_UM.PDF        User Manual - ASCD Menu
   SD_53_P495_RN.PDF        ASCD Release Notes
   SD_53_P495_TM.PDF        ASCD Technical Manual
   
     * Note:  Use ASCII mode when transferring the .KID file.
              Use Binary mode when transferring the .PDF files.
  
  
 Env/Pre/Post Installation Overview:
 -----------------------------------
 * Environment Check Routine (ENV^DVB458P):
  
   Programmer access is required for installing this patch.  Prior to
   installation, the installer must ensure the DUZ(0) node of the DUZ
   array is set to the "@" symbol.
  
 * Post-Install Routine (POST^DVB458P):
  
   This routine is the main post-install driver that will update
   the DISABILITY CONDITION (#31) file with the new mapping of the
   Rated Disabilities (VA) VBA DX CODES to specific ICD9 DIAGNOSIS codes.
  
 * File and Global Information:
  
   The size of the DISABILITY CONDITION (#31) file will increase based
   on the number of RELATED ICD9 CODES added.  There are 3,599 RELATED ICD9
   CODES that will be added.  During internal testing, the size of the
   ^DIC( global increased by 3 Blocks and the Bytes Used increased by 86,400.
   Please check your disk space availability before installing this patch.
  
 * Required Builds:
  
   The following is a list of REQUIRED builds for this KIDS distribution.
   KIDS will not allow the installation of this patch without their prior
   installation.
  
   Required Build(s):
   ------------------
   DVB*4.0*50
   PX*1.0*158
   SD*5.3*466
   PRCA*4.5*250
   IB*2.0*369 
  
  
         ================INSTALLATION INSTRUCTIONS =================
   
  -------------------------- VERY IMPORTANT  -------------------------- 
   Prior to installation of DVB*4.0*58, it is recommended that sites run 
   the following option.
  
    Select Menu Management Option: Fix Option File Pointers
    Do you want to remove any 'Dangling Pointers' from your OPTION File? Y//
      
   IF the installation errors out because of a <UNDEFINED>XPAND+1^XQ83A 
   error then do the following -
      a.  Run the 'Fix Option File Pointers' option.
      b.  On the INSTALL menu:
          Select Kernel Installation & Distribution System 
                                                    Option: INstallation
          1      Load a Distribution
          2      Verify Checksums in Transport Global
          3      Print Transport Global
          4      Compare Transport Global to Current System
          5      Backup a Transport Global
          6      Install Package(s)
                 Restart Install of Package(s) <----use this option
                 Unload a Distribution
  
          This install should pick up where it left off and finish.
  
  NOTE: The undefined error is not caused by this patch and is being 
        addressed by Remedy ticket 211707.
  --------------------------------------------------------------------------
  
 If installed during the normal workday, it is recommended that the following
 selection(s) in the OPTION (#19) file, and all of their descendants be 
 disabled to prevent possible conflicts while running the KIDS Install.
 Other VistA users will not be affected.
  
  For patch SD*5.3*495, the following SCHEDULING options need to be disabled:
   
  Appointment Management          [SDAM APPT MGT]
  Appointment Check-in/Check-out  [SDAM APPT CHECK IN/OUT]
  Appointment Status Update       [SDAM APPT UPDATE]
  Appointment Status Update Menu  [SDAM APPT UPDATE MENU]
  Scheduling Manager's Menu       [SDMGR]
  
  
  For patch PX*1.0*184, the following PCE PATIENT CARE ENCOUNTER options need 
  to be disabled:
  
  PCE Encounter Data Entry                [PXCE ENCOUNTER DATA ENTRY]
  PCE Encounter Data Entry and Delete     [PXCE ENCOUNTER ENTRY & DELETE]
  PCE Encounter Data Entry without Delete [PXCE ENCOUNTER ENTRY NO DELETE]
  PCE Encounter Data Entry - Supervisor   [PXCE ENCOUNTER ENTRY SUPER]
  PCE Encounter Viewer                    [PXCE ENCOUNTER VIEWER] 
  
  
 This patch can be installed during normal work hours.  Users do not need to be
 off the system.
  
 Install Time - less than 5 minutes
  
  
 1.  LOAD TRANSPORT GLOBAL
     ---------------------
     Download the KIDS file DVB_4_P58.KID from one of the OIFO sites.
  
 2.  START UP KIDS
     -------------
     Start up the Kernel Installation and Distribution System Menu [XPD MAIN]:
  
          Edits and Distribution ...
          Utilities ...
          Installation ...
  
     Select Kernel Installation & Distribution System Option: INStallation
                                                              ---
          Load a Distribution
          Print Transport Global
          Compare Transport Global to Current System
          Verify Checksums in Transport Global
          Install Package(s)
          Restart Install of Package(s)
          Unload a Distribution
          Backup a Transport Global
  
     Select Installation Option: LOAD A DISTRIBUTION
                                 -------------------
 3.  Select the LOAD A DISTRIBUTION option on the KIDS INSTALLATION menu, and
     enter: DVB_4_P58.KID
  
     When prompted, answer "YES" to the "Enviromental Check Routine" prompt
         Build DVB*4.0*58 has an Enviromental Check Routine
         Want to RUN the Environment Check Routine? YES//
  
 4.  Select Installation Option:
     ---------------------------
     NOTE:  The following are OPTIONAL - (When prompted for the INSTALL NAME,
            enter DVB*4.0*58):
  
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch.  It will not
         backup any other changes such as DD's or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DD's, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
  
 5.  Select Installation Option: Install Package(s)
                                 ------------------
     **This is the step to start the installation of this KIDS patch:
  
     a.  Choose the Install Package(s) option and select the package
         DVB*4.0*58.
     b.  When prompted for the name of the coordinator of the new mail group
         SDSC NIGHTLY TALLY, please enter the name of the individual that
         will be responsible for maintaining this mail group.
     c.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? NO//' answer NO.
     d.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
         YES//' answer NO.
     e.  When prompted 'Want to DISABLE Scheduled Options, Menu
         Options, and Protocols? YES//' answer YES.  When prompted to select
         the Options you would like to place out of order, enter all of the
         Options listed above.
     f.  When prompted 'Enter protocols you wish to mark as 'Out Of
         Order':' press <return>.
  
 6.  You may delete the ENV/PRE/POST Installation routines (DVB458P*) and
     (SD53P495) from your system after the patches have been successfully
     installed and verified.  The following patch install user screen
     messages provide for the verification of a successful install.
  
     a. For patch DVB*4.0*58:
        ---------------------
  
        >>> *** SUCCESS updating the DISABILITY CONDITION (#31) file.
                Total RELATED ICD9 CODES filed: 3599
  
  
     b. For patch SD*5.3*495:
        ---------------------
   
       * (If your site is NOT running the Class III (SCOUT) software.)
                       ------ 
          ******
          The Class III (SCOUT) File Conversion is NOT necessary because
          the ANU SERVICE CONNECTED CHANGES (#626140) file does not exist
          on this system.
          Post-Install process terminated...
          ******
  
  
        * (If your site IS running the Class III (SCOUT) software.)
                        --
          ******
          Task ####### has been started to run the Class III (SCOUT) File
          Conversion.
  
          You will receive a MailMan message when this task is completed
          or if it has been manually stopped.
          ******
  
  
 NOTE: Details of the changes applied by these patches are provided
       during the installation and may also be reviewed with the
       Install File Print option on the Utilities menu on the
       Kernel Installation and Distribution System menu.
  
  
  
 ************** POST-INSTALLATION INSTRUCTIONS **************
  
 The following Success or Failure screen messages will be displayed during
 the post-install updating of the DISABILITY CONDITION (#31) file.  All Filing
 errors need to be resolved and then the post-install routine (POST^DVB458P)
 re-run again to a successful completion before this patch can be considered
 successfully installed.
  
  
 Successful update messages:
 ---------------------------
  
   >>> *** Updating the DISABILITY CONDITION (#31) file...
       *** Please be patient, this should take less than 5 minutes.
  
  
   >>> *** SUCCESS updating the DISABILITY CONDITION (#31) file.
           Total RELATED ICD9 CODES filed: 3599
  
  
 Failure update messages:
 ------------------------
  
   >>> *** Updating the DISABILITY CONDITION (#31) file...
       *** Please be patient, this should take less than 5 minutes.
  
  
   >>> *** FAILURE updating the DISABILITY CONDITION (#31) file.
  
       Filing errors have occurred when adding the new RELATED ICD9
       CODES.  Immediate resolution is necessary to maintain database
       integrity.
  
       A MailMan message has been sent to the installer of this patch
       with a listing of the errors.
  
       Once these filing errors have been resolved, please re-run
       the Post-Installation routine directly from programmer mode
       by entering the following command:
  
       D POST^DVB458P
  
   >>> I'm now creating and sending the MailMan message...
   >>> All done.
  
  
 MAILMAN MESSAGE example:
 ------------------------
  
 The following example is of the MailMan message detailing any Filing errors
 that have occurred during the Post-Install updating of the DISABILITY 
 CONDITION (#31) file.
  
  
 Subj: DVB*4.0*58 Patch Post-Install Error Listing [####] 01/09/07@17:11
 243 lines
 From: POSTMASTER  In 'IN' basket.   Page 1  *New*
 -----------------------------------------------------------------------
 Patch:  DVB*4.0*58 Automated Service Connected Designation
  
 The post-installation update of the DISABILITY CONDITION (#31) file
 has FAILED to successfully complete.  Filing errors have occurred when
 attempting to add the new data mapping of RELATED ICD9 CODES.
  
 Immediate resolution of ALL errors is needed to maintain database integrity.
  
 Once these filing errors have been resolved, please re-run
 the Post-Installation routine directly from programmer mode
 by entering the following command:
  
 D POST^DVB458P
  
 The new update run time should take less than 5 minutes to complete.
  
 >>> Please review and resolve the following errors:
  
 *** DISABILITY CONDITION FILE (#31) FILING ERRORS ***
 -----------------------------------------------------
 VBA DX CODE: 4999 - DX CODE not found in (#31) file
 VBA DX CODE: 5005 - ARTHRITIS, PNEUMOCOCCIC
     ICD DIAGNOSIS CODE: 041.2 - not found in ICD DIAGNOSIS (#80) file
 VBA DX CODE: 5006 - ARTHRITIS, TYPHOID
     ICD DIAGNOSIS CODE: 002.0 - error filing to (#31) file
 VBA DX CODE: 5007 - ARTHRITIS, SYPHILITIC
     ICD DIAGNOSIS CODE: 094.0 - error filing to (#31) file
  
 <End of Report>

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DVB458P
    Before:       n/a   After: B35413628  **58**
Routine Name: DVB458P1
    Before:       n/a   After: B42388125  **58**
Routine Name: DVB458P2
    Before:       n/a   After: B71594347  **58**
Routine Name: DVB458P3
    Before:       n/a   After: B85058690  **58**
Routine Name: DVB458P4
    Before:       n/a   After: B95562400  **58**
Routine Name: DVB458P5
    Before:       n/a   After:B101691653  **58**
Routine Name: DVB458P6
    Before:       n/a   After: B41872735  **58**

=============================================================================
User Information:                          Hold Date     : OCT 22, 2007
Entered By  : MORRISON,JENNIFER             Date Entered  : DEC 27, 2006
Completed By: WOEHRLE,MARGARET              Date Completed: OCT 16, 2007
Released By : BENBOW,PHYLLIS O              Date Released : OCT 22, 2007
=============================================================================


Packman Mail Message:
=====================

No routines included
