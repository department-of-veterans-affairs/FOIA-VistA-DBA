Released RMPR*3*116 SEQ #92
Extracted from mail message
**KIDS**:RMPR*3.0*116^

**INSTALL NAME**
RMPR*3.0*116
"BLD",5811,0)
RMPR*3.0*116^PROSTHETICS^0^3060207^y
"BLD",5811,4,0)
^9.64PA^^0
"BLD",5811,6)
8^
"BLD",5811,6.3)
1
"BLD",5811,"INID")
^n
"BLD",5811,"INIT")
RMPRPFC
"BLD",5811,"KRN",0)
^9.67PA^8989.52^19
"BLD",5811,"KRN",.4,0)
.4
"BLD",5811,"KRN",.401,0)
.401
"BLD",5811,"KRN",.402,0)
.402
"BLD",5811,"KRN",.403,0)
.403
"BLD",5811,"KRN",.5,0)
.5
"BLD",5811,"KRN",.84,0)
.84
"BLD",5811,"KRN",3.6,0)
3.6
"BLD",5811,"KRN",3.8,0)
3.8
"BLD",5811,"KRN",9.2,0)
9.2
"BLD",5811,"KRN",9.8,0)
9.8
"BLD",5811,"KRN",9.8,"NM",0)
^9.68A^5^3
"BLD",5811,"KRN",9.8,"NM",2,0)
RMPRPFC^^0^10771
"BLD",5811,"KRN",9.8,"NM",4,0)
RMPR9AUT^^0^20925299
"BLD",5811,"KRN",9.8,"NM",5,0)
RMPR9P21^^0^39649375
"BLD",5811,"KRN",9.8,"NM","B","RMPR9AUT",4)

"BLD",5811,"KRN",9.8,"NM","B","RMPR9P21",5)

"BLD",5811,"KRN",9.8,"NM","B","RMPRPFC",2)

"BLD",5811,"KRN",19,0)
19
"BLD",5811,"KRN",19.1,0)
19.1
"BLD",5811,"KRN",101,0)
101
"BLD",5811,"KRN",409.61,0)
409.61
"BLD",5811,"KRN",771,0)
771
"BLD",5811,"KRN",870,0)
870
"BLD",5811,"KRN",8989.51,0)
8989.51
"BLD",5811,"KRN",8989.52,0)
8989.52
"BLD",5811,"KRN",8994,0)
8994
"BLD",5811,"KRN","B",.4,.4)

"BLD",5811,"KRN","B",.401,.401)

"BLD",5811,"KRN","B",.402,.402)

"BLD",5811,"KRN","B",.403,.403)

"BLD",5811,"KRN","B",.5,.5)

"BLD",5811,"KRN","B",.84,.84)

"BLD",5811,"KRN","B",3.6,3.6)

"BLD",5811,"KRN","B",3.8,3.8)

"BLD",5811,"KRN","B",9.2,9.2)

"BLD",5811,"KRN","B",9.8,9.8)

"BLD",5811,"KRN","B",19,19)

"BLD",5811,"KRN","B",19.1,19.1)

"BLD",5811,"KRN","B",101,101)

"BLD",5811,"KRN","B",409.61,409.61)

"BLD",5811,"KRN","B",771,771)

"BLD",5811,"KRN","B",870,870)

"BLD",5811,"KRN","B",8989.51,8989.51)

"BLD",5811,"KRN","B",8989.52,8989.52)

"BLD",5811,"KRN","B",8994,8994)

"BLD",5811,"QUES",0)
^9.62^^
"BLD",5811,"REQB",0)
^9.611^2^2
"BLD",5811,"REQB",1,0)
RMPR*3.0*90^1
"BLD",5811,"REQB",2,0)
RMPR*3.0*112^1
"BLD",5811,"REQB","B","RMPR*3.0*112",2)

"BLD",5811,"REQB","B","RMPR*3.0*90",1)

"INIT")
RMPRPFC
"MBREQ")
0
"PKG",101,-1)
1^1
"PKG",101,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",101,20,0)
^9.402P^^0
"PKG",101,22,0)
^9.49I^1^1
"PKG",101,22,1,0)
3.0^2960209^2960214
"PKG",101,22,1,"PAH",1,0)
116^3060207^104
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","RMPR9AUT")
0^4^B20925299
"RTN","RMPR9AUT",1,0)
RMPR9AUT ;HINES IOFO/RVD - DETAILED PO RPC UTILITY ;09/16/03  13:12
"RTN","RMPR9AUT",2,0)
 ;;3.0;PROSTHETICS;**90,116**;Feb 09, 1996
"RTN","RMPR9AUT",3,0)
 ;input variables:
"RTN","RMPR9AUT",4,0)
 ;DUZ = user
"RTN","RMPR9AUT",5,0)
 ;RMPRSITE = pointer or IEN of file #669.9
"RTN","RMPR9AUT",6,0)
 ;RESULTS = array of all PC number by a user.
"RTN","RMPR9AUT",7,0)
 ;list PC number available to the user
"RTN","RMPR9AUT",8,0)
A1(DUZ,RMPRSITE) G A2
"RTN","RMPR9AUT",9,0)
ENA(RESULTS,DUZ,RMPRSITE) ;broker entry point to list all available PC number.
"RTN","RMPR9AUT",10,0)
A2 ;
"RTN","RMPR9AUT",11,0)
 I $D(^RMPR(669.9,RMPRSITE,4)) S RMIFSITE=$P($G(^RMPR(669.9,RMPRSITE,4)),U,1)
"RTN","RMPR9AUT",12,0)
 I +RMIFSITE'>0 S RESULTS(0)="IFCAP Site is undefined in #669.9" G EXIT1
"RTN","RMPR9AUT",13,0)
 ;call IFCAP routine for the list of PC.
"RTN","RMPR9AUT",14,0)
 D A1^PRCH7PA4(DUZ,RMIFSITE)
"RTN","RMPR9AUT",15,0)
 S N="" F  S N=$O(RESULTS(N)) Q:N=""  D
"RTN","RMPR9AUT",16,0)
 .  I $P(RESULTS(N),U,11)="YES" K RESULTS(N) Q
"RTN","RMPR9AUT",17,0)
 .  S X=$P(RESULTS(N),U,13) D ^%DT
"RTN","RMPR9AUT",18,0)
 .  I Y'>DT K RESUTLS(N) Q
"RTN","RMPR9AUT",19,0)
EXIT1 ;exit
"RTN","RMPR9AUT",20,0)
 Q
"RTN","RMPR9AUT",21,0)
 ;
"RTN","RMPR9AUT",22,0)
 ;create file 442.
"RTN","RMPR9AUT",23,0)
 ;DUZ = user or initiator of an order
"RTN","RMPR9AUT",24,0)
 ;RMPRSITE = pointer or IEN of file #669.9
"RTN","RMPR9AUT",25,0)
 ;RESULTS = IEN of file #442 ^ PO number (e.g 499-PA1262)
"RTN","RMPR9AUT",26,0)
B1(DUZ,PRCSITE,RMPRSITE,PRCHXXX,PRCHVEN) G B2
"RTN","RMPR9AUT",27,0)
ENB(RESULTS,DUZ,PRCSITE,RMPRSITE,PRCHXXX,PRCHVEN,PRC4426) ;broker entry point
"RTN","RMPR9AUT",28,0)
B2 ;
"RTN","RMPR9AUT",29,0)
 I $D(^RMPR(669.9,RMPRSITE,4)) S RMIFSITE=$P($G(^RMPR(669.9,RMPRSITE,4)),U,1)
"RTN","RMPR9AUT",30,0)
 I '$D(RMIFSITE) S RESULTS(0)="IFCAP Site is undefined in #669.9" G EXIT2
"RTN","RMPR9AUT",31,0)
 ;call ITCAP routine to create a 442 entry.
"RTN","RMPR9AUT",32,0)
 D AD1^PRCH7PA1(DUZ,RMIFSITE,RMPRSITE,PRCHXXX,PRCHVEN,PRC4426)
"RTN","RMPR9AUT",33,0)
 ;
"RTN","RMPR9AUT",34,0)
EXIT2 ;
"RTN","RMPR9AUT",35,0)
 Q
"RTN","RMPR9AUT",36,0)
 ;
"RTN","RMPR9AUT",37,0)
 ;List all Open detailed Purchased Order
"RTN","RMPR9AUT",38,0)
 ;DUZ = user or initiator of an order
"RTN","RMPR9AUT",39,0)
 ;RMPRSITE = pointer or IEN of file #669.9
"RTN","RMPR9AUT",40,0)
 ;RESULTS = array of all open Detailed PO in file #664.
"RTN","RMPR9AUT",41,0)
C1(DUZ,RMPRSITE) G C2
"RTN","RMPR9AUT",42,0)
ENC(RESULTS,DUZ,RMPRSITE) ;broker entry point
"RTN","RMPR9AUT",43,0)
C2 ;
"RTN","RMPR9AUT",44,0)
 S RMCNT=0
"RTN","RMPR9AUT",45,0)
 F I=0:0 S I=$O(^RMPR(664,"H","DETAILED",I)) Q:I'>0  D
"RTN","RMPR9AUT",46,0)
 .D GETS^DIQ(664,I,".01;.5;8","","RM")
"RTN","RMPR9AUT",47,0)
 .Q:$G(RM(664,I_",",8))
"RTN","RMPR9AUT",48,0)
 .S RMCNT=RMCNT+1
"RTN","RMPR9AUT",49,0)
 .S RESULTS(RMCNT)=RM(664,I_",",.01)_U
"RTN","RMPR9AUT",50,0)
 .S RESULTS(RMCNT)=RESULTS(RMCNT)_$G(RM(664,I_",",.5))_U
"RTN","RMPR9AUT",51,0)
 Q
"RTN","RMPR9AUT",52,0)
 ;
"RTN","RMPR9AUT",53,0)
 ;List all Available Cost Center
"RTN","RMPR9AUT",54,0)
 ;RMFCP = Fund Control Point
"RTN","RMPR9AUT",55,0)
 ;RMPRSITE = pointer or IEN of file #669.9
"RTN","RMPR9AUT",56,0)
 ;RESULTS = array of all Cost Center available in a given FCP.
"RTN","RMPR9AUT",57,0)
D1(RMFCP,RMPRSITE) G D2
"RTN","RMPR9AUT",58,0)
END(RESULTS,RMFCP,RMPRSITE) ;broker entry point
"RTN","RMPR9AUT",59,0)
D2 ;
"RTN","RMPR9AUT",60,0)
 I $D(^RMPR(669.9,RMPRSITE,4)) S RMIFSITE=$P($G(^RMPR(669.9,RMPRSITE,4)),U,1)
"RTN","RMPR9AUT",61,0)
 I '$D(RMIFSITE) S RESULTS(0)="IFCAP Site is undefined in #669.9" Q
"RTN","RMPR9AUT",62,0)
 ;access IFCAP API to list available Cost center.
"RTN","RMPR9AUT",63,0)
 D B1^PRCH7PA4(RMFCP,RMIFSITE)
"RTN","RMPR9AUT",64,0)
 Q
"RTN","RMPR9AUT",65,0)
 ;
"RTN","RMPR9AUT",66,0)
 ;List all Available BOC
"RTN","RMPR9AUT",67,0)
 ;RMCC = Cost Center
"RTN","RMPR9AUT",68,0)
 ;RMPRSITE = pointer or IEN of file #669.9
"RTN","RMPR9AUT",69,0)
 ;RESULTS = array of all available BOC in a given Cost Center.
"RTN","RMPR9AUT",70,0)
E1(RMCC,RMPRSITE) G E2
"RTN","RMPR9AUT",71,0)
ENE(RESULTS,RMCC,RMPRSITE) ;broker entry point
"RTN","RMPR9AUT",72,0)
E2 ;
"RTN","RMPR9AUT",73,0)
 I $D(^RMPR(669.9,RMPRSITE,4)) S RMIFSITE=$P($G(^RMPR(669.9,RMPRSITE,4)),U,1)
"RTN","RMPR9AUT",74,0)
 I '$D(RMIFSITE) S RESULTS(0)="IFCAP Site is undefined in #669.9" Q
"RTN","RMPR9AUT",75,0)
 ;access IFCAP API to list available Budget Object Code.
"RTN","RMPR9AUT",76,0)
 D C1^PRCH7PA4(RMCC,RMIFSITE)
"RTN","RMPR9AUT",77,0)
 Q
"RTN","RMPR9AUT",78,0)
 ;
"RTN","RMPR9AUT",79,0)
 ;List all Available FCP
"RTN","RMPR9AUT",80,0)
 ;DUZ = user
"RTN","RMPR9AUT",81,0)
 ;RMPRSITE = pointer or IEN of file #669.9
"RTN","RMPR9AUT",82,0)
 ;RESULTS = array of all available FCP in a given station.
"RTN","RMPR9AUT",83,0)
F1(DUZ,RMPRSITE) G F2
"RTN","RMPR9AUT",84,0)
ENF(RESULTS,DUZ,RMPRSITE) ;broker entry point
"RTN","RMPR9AUT",85,0)
F2 ;
"RTN","RMPR9AUT",86,0)
 I $D(^RMPR(669.9,RMPRSITE,4)) S RMIFSITE=$P($G(^RMPR(669.9,RMPRSITE,4)),U,1)
"RTN","RMPR9AUT",87,0)
 I '$D(RMIFSITE) S RESULTS(0)="IFCAP Site is undefined in #669.9" Q
"RTN","RMPR9AUT",88,0)
 ;access IFCAP API to list available Fund control Point.
"RTN","RMPR9AUT",89,0)
 D D1^PRCH7PA4(DUZ,RMIFSITE)
"RTN","RMPR9AUT",90,0)
 Q
"RTN","RMPR9AUT",91,0)
 ;
"RTN","RMPR9AUT",92,0)
 ;Broker call to link suspense to 2319
"RTN","RMPR9AUT",93,0)
 ;RMPR64 = ien of file #664
"RTN","RMPR9AUT",94,0)
 ;RMPR68 = ien of file #668
"RTN","RMPR9AUT",95,0)
 ;RESULTS = success or failure message.
"RTN","RMPR9AUT",96,0)
G1(RMPR64,RMPR68) G G2
"RTN","RMPR9AUT",97,0)
ENG(RESULTS,RMPR64,RMPR68) ;broker entry point
"RTN","RMPR9AUT",98,0)
G2 ;
"RTN","RMPR9AUT",99,0)
 N RMAMIS,RMIDAT,RMIEN60,RMERCHK,RMAR
"RTN","RMPR9AUT",100,0)
 S RESULTS=""
"RTN","RMPR9AUT",101,0)
 ;do automatic linking to suspense.
"RTN","RMPR9AUT",102,0)
 ;loop all the item and get the pointer to 660.
"RTN","RMPR9AUT",103,0)
 F I=0:0 S I=$O(^RMPR(664,RMPR64,1,I)) Q:(I'>0)!(RESULTS'="")  D
"RTN","RMPR9AUT",104,0)
 .S RMIDAT=$G(^RMPR(664,RMPR64,1,I,0))
"RTN","RMPR9AUT",105,0)
 .S RMIEN60=$P(RMIDAT,U,13)
"RTN","RMPR9AUT",106,0)
 .Q:'$G(RMIEN60)
"RTN","RMPR9AUT",107,0)
 .S RMAMIS=""
"RTN","RMPR9AUT",108,0)
 .I $D(^RMPR(660,RMIEN60,"AMS")) S RMAMIS=$G(^RMPR(660,RMIEN60,"AMS"))
"RTN","RMPR9AUT",109,0)
 .Q:'$G(RMAMIS)
"RTN","RMPR9AUT",110,0)
 .S RMERCHK=0
"RTN","RMPR9AUT",111,0)
 .S RMERCHK=$$UP60^RMPRPCE1(RMIEN60,RMPR68,1)
"RTN","RMPR9AUT",112,0)
 .I $G(RMERCHK) S RESULTS="Error Linking to file #660" Q
"RTN","RMPR9AUT",113,0)
 .S RMERCHK=$$UP68^RMPRPCE1(RMIEN60,RMPR68,RMAMIS)
"RTN","RMPR9AUT",114,0)
 .I $G(RMERCHK) S RESULTS="Error Linking to file #668" Q
"RTN","RMPR9AUT",115,0)
 I RESULTS="" S RESULTS="PCE linking to suspense is complete"
"RTN","RMPR9AUT",116,0)
 Q
"RTN","RMPR9AUT",117,0)
 ;
"RTN","RMPR9AUT",118,0)
 ;Broker call to list vendor.
"RTN","RMPR9AUT",119,0)
 ;RMPR40 = ien of file #440
"RTN","RMPR9AUT",120,0)
 ;RESULTS = success or failure message.
"RTN","RMPR9AUT",121,0)
H1(RMPR40,RMPRSITE) G H2
"RTN","RMPR9AUT",122,0)
ENH(RESULTS,RMPR40,RMPRSITE) ;broker entry point
"RTN","RMPR9AUT",123,0)
H2 ;
"RTN","RMPR9AUT",124,0)
 I $D(^RMPR(669.9,RMPRSITE,4)) S RMIFSITE=$P($G(^RMPR(669.9,RMPRSITE,4)),U,1)
"RTN","RMPR9AUT",125,0)
 I '$D(RMIFSITE) S RESULTS(0)="IFCAP Site is undefined in #669.9" Q
"RTN","RMPR9AUT",126,0)
 ;call ifcap API for vendor listing.
"RTN","RMPR9AUT",127,0)
 D E1^PRCH7PA4(RMPR40)
"RTN","RMPR9AUT",128,0)
 Q
"RTN","RMPR9AUT",129,0)
 ;broker call to ask for electronic signature code
"RTN","RMPR9AUT",130,0)
 ;DUZ - user IEN
"RTN","RMPR9AUT",131,0)
 ;X - electronic code entered by user.
"RTN","RMPR9AUT",132,0)
 ;RESULTS - failure or success message.
"RTN","RMPR9AUT",133,0)
I1(DUZ,X) G I2
"RTN","RMPR9AUT",134,0)
ENI(RESULTS,DUZ,X) ;broker entry point
"RTN","RMPR9AUT",135,0)
I2 ;
"RTN","RMPR9AUT",136,0)
 N RMCODE
"RTN","RMPR9AUT",137,0)
 S RMCODE=$P($G(^VA(200,DUZ,20)),"^",4)
"RTN","RMPR9AUT",138,0)
 I RMCODE="" S RESULTS="You have no signature code on file." Q
"RTN","RMPR9AUT",139,0)
 ;W !,"Enter Electronic signature Code: "
"RTN","RMPR9AUT",140,0)
 ;X ^%ZOSF("EOFF") R X:60 X ^%ZOSF("EON")
"RTN","RMPR9AUT",141,0)
 ;I '$T S RESULTS="Failure" Q
"RTN","RMPR9AUT",142,0)
 I $E(X)="^" S RESULTS="User up arrowed out." Q
"RTN","RMPR9AUT",143,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","RMPR9AUT",144,0)
 I $$HASH(X)=RMCODE S RESULTS="Thank you." Q
"RTN","RMPR9AUT",145,0)
 S RESULTS="Sorry, but that's not your correct electronic signature code."
"RTN","RMPR9AUT",146,0)
 Q
"RTN","RMPR9AUT",147,0)
HASH(X) D HASH^XUSHSHP
"RTN","RMPR9AUT",148,0)
 Q X
"RTN","RMPR9AUT",149,0)
 ;END
"RTN","RMPR9P21")
0^5^B39649375
"RTN","RMPR9P21",1,0)
RMPR9P21 ;PHX/SPS,HNC,RVD -SEND DATA TO PC TO PRINT PURCHASE CARD ORDER ;4/27/05
"RTN","RMPR9P21",2,0)
 ;;3.0;PROSTHETICS;**90,116**;Feb 09, 1996
"RTN","RMPR9P21",3,0)
 ;
"RTN","RMPR9P21",4,0)
EN(RMPRA,RMPRSITE,RMPRPTR) ;ENTRY POINT FOR VISTA ROLL AND SCROLL
"RTN","RMPR9P21",5,0)
 G EN2
"RTN","RMPR9P21",6,0)
 ;
"RTN","RMPR9P21",7,0)
PRT(RESULTS,RMPRA,RMPRSITE,RMPRPTR) ;GUI ENTRY POINT TO PRINT
"RTN","RMPR9P21",8,0)
EN2 I RMPRPTR'="WINDOWS" Q
"RTN","RMPR9P21",9,0)
 K ^TMP($J,"RMPRPRT"),RESULTS
"RTN","RMPR9P21",10,0)
 D INF^RMPRSIT
"RTN","RMPR9P21",11,0)
 S %X="^RMPR(664,RMPRA,",%Y="R664(" D %XY^%RCR K %X,%Y,^TMP($J,"RMPRPRT")
"RTN","RMPR9P21",12,0)
 S RDUZ=$P(R664(0),U,9),RDUZ=$P(^VA(200,RDUZ,0),U,1),DFN=$P(R664(0),U,2),RTN=$P(R664(0),U,7),CP=$P(R664(0),U,6),RMPRPAGE=2
"RTN","RMPR9P21",13,0)
 D ADD^VADPT,DEM^VADPT,ELIG^VADPT
"RTN","RMPR9P21",14,0)
 S ^TMP($J,"RMPRPRT",0)="                           OMB Number 2900-0188                    PO#: "_$P($G(^RMPR(664,RMPRA,4)),U,5)
"RTN","RMPR9P21",15,0)
 S ^TMP($J,"RMPRPRT",1)=""
"RTN","RMPR9P21",16,0)
 S ^TMP($J,"RMPRPRT",2)=""
"RTN","RMPR9P21",17,0)
 S ^TMP($J,"RMPRPRT",3)="       ***ORIGINAL COPY AND COMMERCIAL INVOICE MUST BE SUBMITTED***"
"RTN","RMPR9P21",18,0)
 S ^TMP($J,"RMPRPRT",4)="               TO THE VAMC PROSTHETIC ACTIVITY LISTED BELOW"
"RTN","RMPR9P21",19,0)
HDR ;PRINT HEADER FOR 2421 ADDRESS INFO
"RTN","RMPR9P21",20,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P21",21,0)
 S (RMPRT,RMPRB)="",$P(RMPRT,"_",80)="",$P(RMPRB,"-",80)=""
"RTN","RMPR9P21",22,0)
 S ^TMP($J,"RMPRPRT",CNT+1)=RMPRT
"RTN","RMPR9P21",23,0)
 S ^TMP($J,"RMPRPRT",CNT+2)="Department of Veterans Affairs"_"|"_"Prosthetic Authorization for Items or Services"
"RTN","RMPR9P21",24,0)
 S ^TMP($J,"RMPRPRT",CNT+3)=RMPRB
"RTN","RMPR9P21",25,0)
 S ^TMP($J,"RMPRPRT",CNT+4)="1. Name and Address of Vendor          2. Name and Address of VA Facility"
"RTN","RMPR9P21",26,0)
 S RMPRV=$P(R664(0),U,4),RMPRST=""
"RTN","RMPR9P21",27,0)
 I $D(^PRC(440,RMPRV,0)) S RMPRV=^PRC(440,RMPRV,0) D
"RTN","RMPR9P21",28,0)
 .S RMPRST=$P(RMPRV,U,7),RMPRPHON=$P(RMPRV,U,10)
"RTN","RMPR9P21",29,0)
 .S RMPRAD1=$P(RMPRV,U,2),RMPRAD2=$P(RMPRV,U,3)
"RTN","RMPR9P21",30,0)
 .S RMPRCITY=$P(RMPRV,U,6),RMPR90IP=$P(RMPRV,U,8)
"RTN","RMPR9P21",31,0)
 .S RMPRVACN=$P($G(^PRC(440,$P(R664(0),U,4),2)),U,1)
"RTN","RMPR9P21",32,0)
 I $D(^DIC(5,+RMPRST,0)) S RMPRST=$P(^(0),U,2)
"RTN","RMPR9P21",33,0)
 E  S RMPRST="NO STATE ON FILE"
"RTN","RMPR9P21",34,0)
 S SPACE="",LRMPRV=$L($E($P(RMPRV,U,1),1,30)),$P(SPACE," ",40-LRMPRV)=""
"RTN","RMPR9P21",35,0)
 S ^TMP($J,"RMPRPRT",CNT+5)="    "_$E($P(RMPRV,U,1),1,30)_SPACE_$E(RMPR("NAME"),1,28)_" ,("_$$STA^RMPRUTIL_"/"_$$ROU^RMPRUTIL(RMPRSITE)_")"
"RTN","RMPR9P21",36,0)
 S LRMPRCTY=$L(RMPRCITY),LRMPRST=$L(RMPRST),LRMPRAD1=$L($E(RMPRAD1,1,35))
"RTN","RMPR9P21",37,0)
 S SPACE="",$P(SPACE," ",40-LRMPRAD1)=""
"RTN","RMPR9P21",38,0)
 S ^TMP($J,"RMPRPRT",CNT+6)="    "_$E(RMPRAD1,1,35)_SPACE_$E(RMPR("ADD"),1,39)
"RTN","RMPR9P21",39,0)
 S SPACE="",LRMPRAD2=$L($E(RMPRAD2,1,35)),$P(SPACE," ",45-LRMPRAD1)=""
"RTN","RMPR9P21",40,0)
 I RMPRAD2'="" S ^TMP($J,"RMPRPRT",CNT+7)="    "_$E(RMPRAD2,1,35)_SPACE_RMPR("CITY")
"RTN","RMPR9P21",41,0)
 S SPACE="",$P(SPACE," ",33-LRMPRCTY-LRMPRST)=""
"RTN","RMPR9P21",42,0)
 I RMPRAD2="" S ^TMP($J,"RMPRPRT",CNT+7)="    "_RMPRCITY_","_RMPRST_" "_RMPR90IP_SPACE_RMPR("CITY")
"RTN","RMPR9P21",43,0)
 I RMPRAD2'="" S ^TMP($J,"RMPRPRT",CNT+8)="    "_RMPRCITY_","_RMPRST_" "_RMPR90IP
"RTN","RMPR9P21",44,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P21",45,0)
 S ^TMP($J,"RMPRPRT",CNT+1)="    "_RMPRPHON_"                          "_$P(^RMPR(669.9,RMPRSITE,0),U,4)
"RTN","RMPR9P21",46,0)
 S ^TMP($J,"RMPRPRT",CNT+2)=RMPRB
"RTN","RMPR9P21",47,0)
 S ^TMP($J,"RMPRPRT",CNT+3)="3. Veterans Name (Last, First, MI)     4. Date of Authorization"
"RTN","RMPR9P21",48,0)
 S SPACE="",VADM1=$L(VADM(1))
"RTN","RMPR9P21",49,0)
 S ^TMP($J,"RMPRPRT",CNT+4)="    "_VADM(1) S Y=$P(R664(0),U,1) D DD^%DT
"RTN","RMPR9P21",50,0)
 S SPACE="",$P(SPACE," ",40-VADM1)=""
"RTN","RMPR9P21",51,0)
 S ^TMP($J,"RMPRPRT",CNT+4)=^TMP($J,"RMPRPRT",CNT+4)_SPACE_Y
"RTN","RMPR9P21",52,0)
 I $D(RMPRMOR) S ^TMP($J,"RMPRPRT",CNT+5)=RMPRB D HDR1 Q
"RTN","RMPR9P21",53,0)
 S ^TMP($J,"RMPRPRT",CNT+5)=RMPRB S RMPRODTE=Y
"RTN","RMPR9P21",54,0)
 S RMPRDELD="" I $D(R664(3)),$P(R664(3),U,2)]"" S Y=$P(R664(3),U,2) D DD^%DT S RMPRDELD=Y
"RTN","RMPR9P21",55,0)
 S ^TMP($J,"RMPRPRT",CNT+6)="5. Veterans Address                    6. Date Required"
"RTN","RMPR9P21",56,0)
 S SPACE="",VAPA1=$L(VAPA(1)),$P(SPACE," ",40-VAPA1)=""
"RTN","RMPR9P21",57,0)
 S ^TMP($J,"RMPRPRT",CNT+7)="    "_VAPA(1)_SPACE_RMPRDELD
"RTN","RMPR9P21",58,0)
 S SPACE="",VAPA4=$L(VAPA(4)),VAPA5=$P($L(VAPA(5)),U,2),VAPA6=$L(VAPA(6)),$P(SPACE," ",27-VAPA4-VAPA5-VAPA6)=""
"RTN","RMPR9P21",59,0)
 I VAPA(2)="" S ^TMP($J,"RMPRPRT",CNT+8)="    "_VAPA(4)_","_$P(VAPA(5),U,2)_" "_VAPA(6)_SPACE_$E(RMPRB,1,40)
"RTN","RMPR9P21",60,0)
 I VAPA(2)="" S ^TMP($J,"RMPRPRT",CNT+9)="                                        9. Authority For Issuance  CFR 17.115"
"RTN","RMPR9P21",61,0)
 S SPACE="",VAPA8=$L(VAPA(8)),$P(SPACE," ",40-VAPA8)=""
"RTN","RMPR9P21",62,0)
 I VAPA(2)="" S ^TMP($J,"RMPRPRT",CNT+10)="    "_VAPA(8)_SPACE_"CHARGE MEDICAL APPROPRIATION"
"RTN","RMPR9P21",63,0)
 S SPACE="",VAPA2=$L(VAPA(2)),$P(SPACE," ",31-VAPA2)=""
"RTN","RMPR9P21",64,0)
 I VAPA(2)'="" S ^TMP($J,"RMPRPRT",CNT+8)="    "_VAPA(2)_SPACE_$E(RMPRB,1,40)
"RTN","RMPR9P21",65,0)
 S SPACE="",$P(SPACE," ",30-VAPA4-VAPA5-VAPA6)=""
"RTN","RMPR9P21",66,0)
 I VAPA(2)'="" S ^TMP($J,"RMPRPRT",CNT+9)="    "_VAPA(4)_","_$P(VAPA(5),U,2)_" "_VAPA(6)_SPACE_"9. Authority For Issuance  CFR 17.115"
"RTN","RMPR9P21",67,0)
 S SPACE="",$P(SPACE," ",40-VAPA8)=""
"RTN","RMPR9P21",68,0)
 I VAPA(2)'="" S ^TMP($J,"RMPRPRT",CNT+10)="    "_VAPA(8)_SPACE_"CHARGE MEDICAL APPROPRIATION"
"RTN","RMPR9P21",69,0)
 S ^TMP($J,"RMPRPRT",CNT+11)=RMPRB
"RTN","RMPR9P21",70,0)
 S ^TMP($J,"RMPRPRT",CNT+12)="7. Claim Number   "_VAEL(7)_"             8. ID #:"_" "_$P($P(VADM(2),U,2),"-",3)
"RTN","RMPR9P21",71,0)
 S ^TMP($J,"RMPRPRT",CNT+13)=RMPRB
"RTN","RMPR9P21",72,0)
 S ^TMP($J,"RMPRPRT",CNT+14)="10. Statistical Data         11. FOB Point    12. Discount    13. Delivery Time"
"RTN","RMPR9P21",73,0)
 S R664("E")=$O(R664(1,0)),CAT=$P(R664(1,R664("E"),0),U,10)
"RTN","RMPR9P21",74,0)
 S RMPRCAT=$S(CAT=1:"SC/OP",CAT=2:"SC/IP",CAT=3:"NSC/IP",CAT=4:"NSC/OP",1:"")
"RTN","RMPR9P21",75,0)
 S SPE=$P(R664(1,R664("E"),0),U,11)
"RTN","RMPR9P21",76,0)
 S RMPRSCAT=$S(SPE=1:"SPECIAL LEGISLATION",SPE=2:"A&A",SPE=3:"PHC",SPE=4:"ELIGIBILITY REFORM",1:"")
"RTN","RMPR9P21",77,0)
 S ^TMP($J,"RMPRPRT",CNT+15)="    "_RMPRCAT_" "_RMPRSCAT S:+$P(R664(0),U,10) RMPRFOB=$P(R664(0),U,10)
"RTN","RMPR9P21",78,0)
 S SPACE="",LRMPRCAT=$L(RMPRCAT),LRMPSCAT=$L(RMPRSCAT),$P(SPACE," ",29-LRMPRCAT-LRMPSCAT)=""
"RTN","RMPR9P21",79,0)
 S ^TMP($J,"RMPRPRT",CNT+15)=^TMP($J,"RMPRPRT",CNT+15)_SPACE_$S($D(RMPRFOB):"ORIGIN",1:"DEST ")_"              % "
"RTN","RMPR9P21",80,0)
 I $D(R664(2)) S ^TMP($J,"RMPRPRT",CNT+15)=^TMP($J,"RMPRPRT",CNT+15)_$P(R664(2),U,6)
"RTN","RMPR9P21",81,0)
 I $D(R664(3)) S ^TMP($J,"RMPRPRT",CNT+15)=^TMP($J,"RMPRPRT",CNT+15)_"             "_$P(R664(3),U,3)_" Days"
"RTN","RMPR9P21",82,0)
 S ^TMP($J,"RMPRPRT",CNT+16)=RMPRB
"RTN","RMPR9P21",83,0)
 S ^TMP($J,"RMPRPRT",CNT+17)="14. Delivery To: "
"RTN","RMPR9P21",84,0)
 S:$D(R664(3)) ^TMP($J,"RMPRPRT",CNT+17)=^TMP($J,"RMPRPRT",CNT+17)_$P(R664(3),U)
"RTN","RMPR9P21",85,0)
 S ^TMP($J,"RMPRPRT",CNT+18)=RMPRB
"RTN","RMPR9P21",86,0)
HDR1 ;HEADER FOR 10-2421
"RTN","RMPR9P21",87,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P21",88,0)
 S ^TMP($J,"RMPRPRT",CNT+1)="                15. DESCRIPTION OF ITEMS OR SERVICES AUTHORIZED"
"RTN","RMPR9P21",89,0)
 S ^TMP($J,"RMPRPRT",CNT+2)=RMPRB
"RTN","RMPR9P21",90,0)
 S ^TMP($J,"RMPRPRT",CNT+3)="ITEM NUMBER           DESCRIPTION              QUANTITY  UNIT  UNIT     AMOUNT"
"RTN","RMPR9P21",91,0)
 S ^TMP($J,"RMPRPRT",CNT+4)="                                               ORDERED         PRICE"
"RTN","RMPR9P21",92,0)
 S ^TMP($J,"RMPRPRT",CNT+5)=RMPRB
"RTN","RMPR9P21",93,0)
 Q:$D(RMPRMOR)
"RTN","RMPR9P21",94,0)
 S K="" F  S K=$O(^TMP($J,"RMPRPRT",K)) Q:K=""  S CNT=K
"RTN","RMPR9P21",95,0)
 D ^RMPR9P22
"RTN","RMPR9P21",96,0)
 D:'$D(RMPRMOR1) CON^RMPR9P22
"RTN","RMPR9P21",97,0)
 M RESULTS=^TMP($J,"RMPRPRT")
"RTN","RMPR9P21",98,0)
EX ;Common Exit Point
"RTN","RMPR9P21",99,0)
 K VADM,CP,DFN,CAT,DIC,R664,RMPRA,RMPACT,RMPRAD1,RMPRAD2,RMPRAMT,RMPRAMT1,RMPRB,RMPRCAT,RMPRCH,RMPRCITY,RMPRDELD,RMPRI,RMPRI1,RMPRIT,RMPRN,RMPRODTE,RMPRST,RMPRPHON,RMPRT,RMPRTOT,RMPRUT,RMPRV,RMPR90IP,RO,RP,J1,RTN,RMPRMOR1,RMPRPRIV
"RTN","RMPR9P21",100,0)
 K SPE,VA,VAEL,VAPA,VAERR,RZZZ,RX,RX1,RDUZ,RC,RMPRACT,RMPRSCAT,RMPRDISC,RMPRAMTN,DIR,DIRUT,RMPRAMT2,RMPRFOB,RMPRDA,RMPRMOR,RMPRPAGE,RMPRPRIV,RMPRX,RMPR90,J,K,N D ^%ZISC Q
"RTN","RMPRPFC")
0^2^B10771
"RTN","RMPRPFC",1,0)
RMPRPFC ;HOIFO/SPS - POST INIT PROSTHETICS UTILITY ;10/20/05
"RTN","RMPRPFC",2,0)
 ;;3.0;Prosthetics;**116**;Feb 09, 1996
"RTN","RMPRPFC",3,0)
 D ^RMPR112P
"RTN","RMPRPFC",4,0)
 Q
"VER")
8.0^22.0
"BLD",5811,6)
^92
**END**
**END**
