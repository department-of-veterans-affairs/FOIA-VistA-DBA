$TXT Created by WANG,CHI at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Monday, 10/04/04 at 13:30
=============================================================================
Run Date: DEC 16, 2004                     Designation: PRCA*4.5*217
Package : PRCA - ACCOUNTS RECEIVABLE          Priority: Mandatory
Version : 4.5       SEQ #196                    Status: Released
                  Compliance Date: JAN 16, 2005
=============================================================================

Associated patches: (v)PRCA*4.5*195<<= must be installed BEFORE `PRCA*4.5*217'
                    (v)PRCA*4.5*214<<= must be installed BEFORE `PRCA*4.5*217'
                    (v)PRCA*4.5*220<<= must be installed BEFORE `PRCA*4.5*217'

Subject: CUSTOMIZING OPTION

Category: 
  - Routine
  - Data Dictionary

Description:
============

 This patch addresses 2 issues.
  
 The first issue is regarding the Customizing option under the Agent Cashier
 Receipt Processing Option that was losing the customization features when
 a user was at site running a multi-node system.
  
 The second issue is regarding a subscript error occurred at line EN+14
 ^RCCPCBJ when there is no any AR CCPC statement available for transmission.
  
 Associated E3R(s):
 ------------------ 
 N/A
  
 Associated NOIS:
 ----------------
 1. MEM-1103-70083   CUSTOMIZING OPTION
 2. MON-1103-51729   PRCA NIGHTLY PROCESS GETS <SUBSC>EN+14^RCCPCBJ ERROR
  
 PARTICIPATING TEST SITES:
 -------------------------
 Honolulu,HI
 Louisville,KY
 Memphis,TN
 Montana HCS
  
 NOIS OVERVIEW
 -------------
 1. MEM-1103-70083   CUSTOMIZING OPTION
  
    Problem:
    --------
    The global DISV used by both Fileman and Kernel to keep track of a
    user's most recent selections is not translated when a user was at site
    running a multi-node system and it caused him losing the customization 
    features for processing the receipts in the CU Customize option.
  
    Resolution:
    -----------
    In order to protect against losing the set up for the customization 
    features in the ^DISV global, the AR USER CUSTOMIZE file (#342.3) has
    been created to store them within the CU Customize option. A post-init
    routine will be used to convert the user's most recent selections to
    the file (342.3) during the installation of the patch.
  
    File: AR USER CUSTOMIZE file (#342.3)
           SCREEN/OPTIONS (#.01)
           USER PARAMETERS (#1)
  
           Subfile: USER PARAMETERS (#342.31)
                     ENTERED BY (#.01)
                     SELECTION (#1)
                     DEVICE (#2)
  
    Routine RCDPURE1, RCDPRPLM, RCDPRPL2, RCDPRECT have been modified to
    keep track of a user's most recent selections in the file (#342.3) 
    instead of using the Kernel/Fileman global DISV.
  
 2. MON-1103-51729   PRCA NIGHTLY PROCESS GETS <SUBSC>EN+14^RCCPCBJ ERROR
  
    Problem:
    --------
    While the [PRCA NIGHTLY PROCESS] Accounts Receivable Nightly Process
    Background Job option is running at an integrated site, a subscript 
    error occurs at line EN+14^RCCPCBJ when there are not any transmission
    entries in file due to the AR CCPC Statement file is not existing for
    transmission.
  
    Resolution:
    -----------
    Modified routine RCCPCBJ to resolve the bug problem if there are
    no transmission entries while the background job of the CCPC
    transmission is running.
  
  
 ROUTINE SUMMARY 
 ---------------
 The following is a list of the routines included in this patch.
 The second line of each of these routines now looks like:
  
       ;;4.5;Accounts Receivable;**[patch list]**;Mar 20, 1995
  
                      CHECK^XTSUMBLD results
  
       Routine       Before Patch     After Patch     Patch List 
       ---------     ------------     -----------     ----------
       PRCAI217      N/A              2170844         217
       RCCPCBJ       2960934          2962177         34,76,130,153,166,195
                                                      217
       RCDPRECT      4956485          5019237         114,148,217
       RCDPRPL2      11511952         12140727        114,148,173,217
       RCDPRPLM      22360880         22205029        114,148,149,173,196,220
                                                      217
       RCDPURE1      19647418         19630588        114,148,153,169,204,173
                                                      214,217
  
       Total number of routines = 6
  
 INSTALLATION INSTRUCTIONS
 =========================
 It is recommended this patch be installed outside of normal business
 hours to avoid any complications resulting from users on the system.
  
 This patch should not be installed while the [PRCA NIGHTLY PROCESS] option
 is running. Use Taskman to determine when the background job is scheduled
 to run. Installation will take less than 5 minutes.
  
  
  1.   Choose the PackMan message containing this patch and invoke the 
       INSTALL/CHECK MESSAGE PackMan option.  
  
  2.   (DSM for Open VMS sites only) Disable routine mapping on all systems
       for the routines listed in the Routine Summary.  
  
       NOTE:  If the routines included in this patch are not currently in
       your mapped routine set, please skip this step.
  
  3.   Start up the Kernel Installation and Distribution System Menu 
       [XPD MAIN]: 
  
            Edits and Distribution ...  
            Utilities ...  
            Installation ...  
  
  Select Kernel Installation & Distribution System Option: INStallation 
                           ---
            Load a Distribution 
            Print Transport Global
            Compare Transport Global to Current System 
            Verify Checksums in Transport Global 
            Install Package(s) 
            Restart Install of Package(s) 
            Unload a Distribution 
            Backup a Transport Global 
  
  Select Installation Option: 
  
  4.   From this menu, you may elect to use the following options
       (When prompted for the INSTALL NAME, enter PRCA*4.5*217):
  
       a.  Backup a Transport Global - This option will create a backup
           message of any routines exported with this patch. It will not
           backup any other changes such as DD's or templates.
       b.  Compare Transport Global to Current System - This option will
           allow you to view all changes that will be made when this patch
           is installed. It compares all components of this patch
           (routines, DD's, templates, etc.).
       c.  Verify Checksums in Transport Global - This option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
  
  5.   Use the Install Package(s) option and select the package
       PRCA*4.5*217.
  
       a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
           YES//', answer NO.
       b.  When prompted 'Want to DISABLE Scheduled Options, Menu 
           Options, and Protocols? YES//', answer YES.
       c.  When prompted 'Enter options you wish to mark as 'Out Of
           Order':', enter the following options:
  
       [PRCA NIGHTLY PROCESS]          Accounts Receivable Nightly Process
                                       Background Job
       [RCDP RECEIPT PROCESSING]       Receipt Processing
  
       d.  When prompted 'Enter protocols you wish to mark as 'Out Of
           Order':', press <return>.
  
  6.   (DSM for Open VMS sites only) Optional - Include the routines
       distributed with this patch in the mapped routine set.
  
       NOTE: This step is only necessary if you performed step 2 or if you
       wish to include the routines in your mapped set.
  
  7.   DELETE POST-INIT ROUTINE
       ------------------------
       You may delete the PRCAI217 routine from your system after successful
       installation of this patch.

Routine Information:
====================

Routine Name:
  - RCDPRPL2


Routine Checksum:

Routine Name:
  - RCDPRECT


Routine Checksum:

Routine Name:
  - RCDPRPLM


Routine Checksum:

Routine Name:
  - RCCPCBJ


Routine Checksum:

Routine Name:
  - RCDPURE1


Routine Checksum:

Routine Name:
  - PRCAI217


Routine Checksum:

=============================================================================
User Information:
Entered By  : WANG,CHI                      Date Entered  : APR 07, 2004
Completed By: ILUSTRISIMO,LUCY              Date Completed: DEC 14, 2004
Released By : BARRICK,DENISE                Date Released : DEC 16, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
