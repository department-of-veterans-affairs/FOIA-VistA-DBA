$TXT Created by NAPOLIELLO,GREG at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Thursday, 02/22/07 at 14:44
=============================================================================
Run Date: JUN 21, 2007                     Designation: PSO*7*265
Package : PSO - OUTPATIENT PHARMACY           Priority: Mandatory
Version : 7       SEQ #234                      Status: Released
                  Compliance Date: JUL 22, 2007
=============================================================================

Associated patches: (v)PSO*7*203   <<= must be installed BEFORE `PSO*7*265'

Subject: Adjust NVA-Meds on Meds tab in CPRS

Category: 
  - Routine

Description:
============

 *** This patch addresses Patient Safety Information - PSI-07-029 ***
  
 This patch will prevent an undefined error that occurs when a NON-VA Med 
 order is entered via CPRS.  The error occurs after entering Free Form 
 text that includes a semi-colon, in either the Dosage field or the 
 Schedule field, and then signed to send to VistA.
  
 The above error in turn leaves the NON-VA Med entry in the PHARMACY 
 PATEINT file (#55), partially added, which leads to another undefined
 error in the PCE CLINICAL REPORTS, for example "Caseload Profile by
 Clinic".
  
  
 Associated Remedy 
 Tickets:                                                      
 =======================
 HD68628     SAG-0105-40437  VA NON-MED ORDERS
   dupes: HD188357
          HD189017
          HD181455
 HD176763    EN+7~PSOHCSUM 
   Dupes: HD176177
          HD177576
          HD70887 
  
  
 Associated NSR(s):
 ==================
 N/A
  
  
 Test Sites:
 ===========
 HINES
 LAS VEGAS
 SAGINAW
 PUGET SOUND 
  
 Remedy Ticket Overview:
 =====================
 1. HD68628      SAG-0105-40437  VA NON-MED ORDERS
  
 Problem:
 --------
 A CPRS NON-VA Med order was entered, with Free form text, for the Dosage 
 field and an embedded semi-colon were used to separate some of the text.  
 This caused an undefined error when Fileman attempted to file the NON-VA 
 Med to the PHARMACY PATIENT file (#55).
  
  
 Resolution:
 -----------
 Correct the routine, PSONVNEW, to allow the semi-colon and file the free 
 form text as is, by altering the way the DR string is loaded with this 
 text information.
  
  
 2. HD176177      Invalid characters in schedule of a non-VA med
  
 Problem:
 --------
 A CPRS NON-VA Med order was entered, with Free form text, for the Schedule
 field and an embedded semi-colon were used to separate some of the text.
 This caused an undefined error when Fileman attempted to file the NON-VA 
 Med to the PHARMACY PATIENT file (#55).  Also the partially filed NON-VA 
 record in the PHARMACY PATIENT file (#55), caused the error reported by
 HD176763.
  
  
 Resolution:
 -----------
 Correct the routine, PSONVNEW, to allow the semi-colon and file the free 
 form text as is, by altering the way the DR string is loaded with this 
 text information.  The partially filed NON-VA meds records, in the 
 PHARMACY PATIENT file, should be updated via Fileman to put in the missing
 fields, that can be found in the ORDER file (#100) for this NON-VA med.
  
  
  
  
 Installation Instructions:
 ==========================
 It is recommended that this patch be installed after normal business 
 hours while no Outpatient Pharmacy users are processing orders.
  
 Installation will take less than 2 minutes.
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2. From the Kernel Installation & Distribution System menu, select the 
    Installation menu.
  
 3. From this menu, you may select to use the following options: (when     
    prompted for INSTALL NAME, enter PSO*7.0*265)
  
      a.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
      
      b.  Print Transport Global - This option will allow you to view
          the components of the KIDS build.
      
      c.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this 
          patch is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      
      d.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
  
  
 4. Use the Install Package(s) option and select the package      
    PSO*7.0*265. 
  
 5. When Prompted "Want KIDS to INHIBIT LOGONs during the install? 
    YES//" respond NO. 
  
 6. When Prompted "Want to DISABLE Scheduled Options, Menu Options, and 
    Protocols? YES//" respond NO.
  
  
 Routine Summary
 ===============
  
                          CHECK^XTSUMBLD results
 Routine name    Before Patch     After Patch        Patch List
 ============    ============     ===========    ======================
 PSONVNEW            10300356        10178475    132,118,203,265
         
  
           Total number of routines - 1

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSONVNEW
    Before: B26278040   After: B27192017  **132,118,203,265**
 
Routine list of preceding patches: 203

=============================================================================
User Information:
Entered By  : NAPOLIELLO,GREG               Date Entered  : FEB 15, 2007
Completed By: HEFFERNAN,COREY               Date Completed: JUN 20, 2007
Released By : CAMPBELL,THOMAS               Date Released : JUN 21, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
