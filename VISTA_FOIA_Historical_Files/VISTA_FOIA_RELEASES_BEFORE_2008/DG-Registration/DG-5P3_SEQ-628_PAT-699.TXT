$TXT Created by THEROUX,JOHN at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 05/17/06 at 15:05
=============================================================================
Run Date: AUG 17, 2006                     Designation: DG*5.3*699
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #628                    Status: Released
                  Compliance Date: SEP 17, 2006
=============================================================================

Associated patches: (v)DG*5.3*554  <<= must be installed BEFORE `DG*5.3*699'
                    (v)DG*5.3*684  <<= must be installed BEFORE `DG*5.3*699'

Subject: SENSITIVE PATIENT CHECK

Category: 
  - Routine

Description:
============

 This patch allows the patient security check to account for proxy users,
 and protects a system variable before displaying patient record flags.
  
  ASSOCIATED Remedy Tickets:
  =========================
  1) HD110151 - Proxy users
  2) HD 64248 -  VALM   undefined error~ <UNDEFINED>
     duplicates:
     HD 63553 - PUG-0703-51009  IOIL+1^VALM4
     HD 97290 - *Default summary - "reference old NOIS FNC-0904-31881"
     HD 98854 - $ZE= <UNDEFINED>IOIL+1^VALM4
     HD 129022 - IOIL+1^VALM4
     HD 139022 - IOIL+1^VALM4
  
  ASSOCIATED E3R(s):
  ==================
  N/A
  
  PARTICIPATING TEST SITES:
  ========================
 SALISBURY,NC
 FAYETTEVILLE,NC
 MARYLAND HCS
  
  REMEDY OVERVIEW:
  ================
  
 1) HD110151 - Proxy users
  
 Problem:
 ========
 As explained in DG*5.3*685, proxy users (as opposed to human users)
 fail the patient security check because they do not have an SSN in 
 the New Person file (#200).
  
 Solution:
 =========
 The temporary solution provided by DG*5.3*685, which was limited to 
 the MPI, is here expanded.  With the release of XU*8*361, the 
 patient security check is now able to determine whether the user 
 is a proxy user and, if so, will not check that the user has an SSN
 in the New Person file.  
 Routine DGSEC4 was modified after obtaining IA #4539.
  
 2) HD 64248 -  VALM   undefined error~ <UNDEFINED>
  
 Problem:
 ========
 When doing a patient lookup on a patient with a patient record flag
 and choosing to view the flag, then continuing the process, for example,
 toggling between appointments in Appointment Management Listman,
 a system error occurs.
  
 Solution:
 =========
 A system variable, IOIL, was not being protected before displaying
 the flag.  That variable will now be Newed in routine DGPFAPI.
  
 INSTALLATION INSTRUCTIONS:
 ==========================
  
 This patch can be installed with users on the system.  Installation will
 take less than 1 minute.
  
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
      the KIDS distribution included with this message.
  
  2.  From the Kernel Installation and Distribution System Menu, select the
      Installation menu.
  
  3.  From this menu, you may elect to use the following options:
      (when prompted for INSTALL NAME, enter DG*5.3*699)
      a.  Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.
      b.  Compare Transport Global to Current System  - this option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch.
      c.  Verify Checksums in Transport Global - this option will
          allow you to ensure the integrity of the routines that are in
          the transport global.
      d.  Print Transport Global - this option will allow you to view the
          components of the KIDS build.
  
  4.  Use the Install Package(s) option and select the package DG*5.3*699.
  
  5.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
      YES//', respond NO.
  
  7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond NO.
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993
  
 Using old logic:
                               CHECK^XTSUMBLD results
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
 DGPFAPI                5743798              5766632         425,554,699
 DGSEC4                 7800883              8253274   249,281,391,471,684
                                                                    699
  
 Number of Routines = 2

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DGPFAPI
    Before: B32121180  After: B32207494  **425,554,699**
 Description of Changes:
  **************************************************************************
  *****
  DGPFAPI.INT.1
   +2         ;;5.3;Registration;**425,554,699**;Aug 13, 1993
  ...................
  |"PATVEE"|DGPFAPI.INT.1
   +2         ;;5.3;Registration;**425,554**;Aug 13, 1993
  ---------------------------------------
  DGPFAPI.INT.1
   +184       N 
  IOBM,IOBOFF,IOBON,IOEDEOP,IOINHI,IOINORM,IORC,IORVOFF,IORVON,IOIL
  ...................
  |"PATVEE"|DGPFAPI.INT.1
   +184       N IOBM,IOBOFF,IOBON,IOEDEOP,IOINHI,IOINORM,IORC,IORVOFF,IORVON
  **************************************************************************
  *****

Routine Name: DGSEC4
    Before: B41969635  After: B43657348  **249,281,391,471,684,699**
 Description of Changes:
  DGSEC4.INT.1                  |"PATVEE"|DGSEC4.INT.1  
  **************************************************************************
  *****
  DGSEC4.INT.1
   +2         ;;5.3;Registration;**249,281,391,471,684,699**;Aug 13, 1993
  ...................
  |"PATVEE"|DGSEC4.INT.1
   +2         ;;5.3;Registration;**249,281,391,471,684**;Aug 13, 1993
  ---------------------------------------
  DGSEC4.INT.1
   +100       ; quit if user is a proxy user, i.e., not a real person
   +101       I $$ACTIVE^XUSAP(DGDUZ),$$USERTYPE^XUSAP(DGDUZ,"CONNECTOR 
  PROXY")!(
  $$USERTYPE^XUSAP(DGDUZ,"APPLICATION PROXY")) Q
  ...................
  |"PATVEE"|DGSEC4.INT.1
  ---------------------------------------
  DGSEC4.INT.1
   +192       Q
  ...................
  |"PATVEE"|DGSEC4.INT.1
  **************************************************************************
  *****


=============================================================================
User Information:
Entered By  : THEROUX,JOHN                  Date Entered  : JAN 19, 2006
Completed By: BOWEN,MARY JANE               Date Completed: AUG 17, 2006
Released By : CDEBACA,LARRY                 Date Released : AUG 17, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
