
=============================================================================
Run Date: APR 30, 2003                     Designation: IVM*2*78
Package : IVM - INCOME VERIFICATION MATCH    Priority: EMERGENCY
Version : 2        SEQ #62                      Status: Released
                  Compliance Date: MAY 02, 2003
=============================================================================

Associated patches: (v)IVM*2*77    <<= must be installed BEFORE `IVM*2*78'

Subject: IVM/EDB Z09 FIX

Category: 
  - Routine
  - Data Dictionary

Description: 
============

 Overview and Background:
 ====================
  
 The release of IVM*2.0*77 and EAS*1*30 on April 16, 2003 did not correctly
 place legacy IVM Billing/Collection (ORU~Z09) messages into the
 appropriate outbound HL7 queue. All Z09 messages are being placed in the
 Enrollment Database (EDB) outbound queue. Determination as to which Z09
 message goes to HEC legacy and which Z09 message goes to EDB needs to be
 added.
  
  
 Functional Description
 ===============
  
 The software for these patches, IVM*2*78 and EAS*1*33 are not being 
 distributed through the National Patch Module.   These patches are being 
 distributed as a single KIDS software distribution (host file).  This 
 patch contains the informational portion of IVM*2*78 and provides field 
 personnel with instructions on how to acquire, install and implement the 
 patch software.  
  
 Functionality released with IVM*2*78 includes the following:
  
   Update the IP address for LLEDBOUT (EDB Outgoing queue) to EDB
   Production.
  
   Transfer Z09 messages that were incorrectly placed into LLEDBOUT queue
   to the appropriate outbound queue.
  
   Configure 'LLEDBIN' (EDB Inbound queue) 'AutoStart' to "Disabled".  
  
   Protocol - EAS EDB ORU~Z09 SERVER - will remove text from field #2 - 
   DISABLE.  Some sites may have added disable text to eliminate the
   flip-flopping of the link from 'OPEN' to 'OPENFAIL' that occurred when 
   IVM*2*77 was installed.
  
   Send third party insurance billing and collection for any activity 
   where the BILL FROM field (#.05) in the IVM BILLING TRANSMISSION file
   (#301.61) is prior to the DATE IVM VERIFIED MT COMPLETED field (#.25) in
   the ANNUAL MEANS TEST file (#408.31).
  
 Associated NOIS: 
 ===============
 NOP-0403-11508
 MAR-0403-21531
  
 Associated E3R:
 ==============
 N/A 
  
  
 Test Sites:
 ===============
 Maryland HCS
 Northport 
  
 DATA DICTIONARY CHANGES
 =======================
 HL LOGICAL LINK (File #870) - the two entries that support the Z06/Z09  
     transmissions of data between the VAMC's and the EDB will be updated: 
  
 PROTOCOL (File #101) - the Z09 server protocols that support the Z09 
     transmissions will be updated, if a site has added text to field #2 
 - DISABLE:
  
         EAS EDB ORU~Z09 SERVER (IVM Billing/Collection Unsolicited VAMC to
                                 HEC/EDB)
  
  
 TECHNICAL DESCRIPTION
 =====================
  
 There is a post-install process for the IVM*2*78 patch (IVM2078P) that 
 will update the appropriate logical links and protocols.  When the patch 
 is installed the 'Disable Text' field in file #101 will be set to 
 <NULL>.  This will activate the 'EAS EDB ORU-Z06 SERVER' and 'EAS EDB 
 ORU-Z09 SERVER' protocols.  Additionally, logical link 'LLEDBOUT' will be 
 updated with the production TCP/IP address for e*Gate and logical link 
 'LLEDBIN' will be updated with 'AutoStart' as 'Disabled'. 
  
 File# 870 - LOGICAL LINK
  NODE: LLEDBIN                           LLP TYPE: TCP
    DEVICE TYPE: Multi-threaded Server  AUTOSTART: Disabled
    QUEUE SIZE: 10                         
    TCP/IP SERVICE TYPE: MULTI LISTENER PERSISTENT: NO
   
 NODE: LLEDBOUT                       LLP TYPE: TCP
    DEVICE TYPE: Non-Persistent Client AUTOSTART: Enabled
    QUEUE SIZE: 10                         RE-TRANSMISSION ATTEMPTS: 3
    READ TIMEOUT: 90                   ACK TIMEOUT: 270
    EXCEED RE-TRANSMIT ACTION: restart TCP/IP ADDRESS: 10.224.132.101
    TCP/IP PORT: 33001                 TCP/IP SERVICE TYPE: CLIENT (SENDER)
    PERSISTENT: NO
  
  
 IVMPTRN5 has been modified.  A call to an extrinsic function has been 
 added to determine whether the Z09 message should be sent to HEC legacy.
  
  
 SOFTWARE RETRIEVAL
 ====================================
 The software for this patch is being distributed in a host file.  The 
 host file will contain two KIDS builds.  The first build will be for the 
 Income Verification Match patch, IVM*2*78, the second build will be for 
 the Enrollment Application System patch, EAS*1*33. 
  
         Host file name: IVM_2_P78.KID
  
         Builds:  IVM*2*78
                  EAS*1*33
  
  
 Sites may retrieve the software directly using FTP from the 
 ANONYMOUS.SOFTWARE directory at the following OI Field Offices:
  
            Albany:  ftp.fo-albany.med.va.gov
             Hines:  ftp.fo-hines.med.va.gov
    Salt Lake City:  ftp.fo-slc.med.va.gov
  
 *Note: Use ASCII mode when transferring the .KID file.
  
 ROUTINE SUMMARY
 ===============
 The following is a list of the routine(s) included in this patch. The 
 second line of each of these routines will look like: 
   
 <tab>;;2.0;INCOME VERIFICATION MATCH;**[patch list]**;21-OCT-94
  
  
                             CHECK^XTSUMBLD results
    Routine        Before Patch     After Patch     Patch List
    -------        ------------     -----------     ----------
    IVM2078P          N/A             5011022       78
    IVMPTRN5         6635963          6783101       1,9,24,34,69,78
  
    Total Number of Routines - 2
  
  
 INSTALLATION INSTRUCTIONS
 =========================
  
 You may wish to stop the HL7 filers prior to the install to prevent 
 possible 'No Source Errors' from occurring. No transmissions will be lost
 if the filers are not stopped first, they will be picked up once the
 filers are restarted.
  
 The patch should be installed during non-peak hours.
  
 Install Time - less than 2 minutes 
  
  
  
  
   Installation Steps:
   ==================
   
   1. Download the KIDS file IVM_2_P78.KID from the ANONYMOUS.SOFTWARE
      directory of either Albany, Hines, or the Salt Lake CIOFO to the
      appropriate directory on your system.
   
   2. Use the 'LOAD A DISTRIBUTION' option on the KIDS INSTALLATION 
      menu, and enter:  IVM_2_P78.KID
   
   3. Review your mapped set.  If any of the routines listed in the 
      ROUTINE SUMMARY section of patches IVM*2*78 or EAS*1*33 are mapped, 
      they should be removed from the mapped set at this time.
   
   4. From the 'Kernel Installation & Distribution System' menu, select 
      the Installation menu.
   
   5. From this menu, you may elect to use the following options (when
      prompted for INSTALL NAME, enter IVM*2.0*78).
   
      a. Backup a Transport Global - This option will create a backup
         message of any routines exported with the patch.  It will NOT 
         backup any other changes such as DDs or templates.
   
      b. Compare Transport Global to Current System - This option will 
         allow you to view all changes that will be made when the patch 
         is installed.  It compares all components of the patch 
         (routines, DDs, templates, etc.).
   
      c. Verify Checksums in Transport Global - This option will allow 
         you to ensure the integrity of the routines that are in the 
         transport global.
   
      d. Print Transport Global - This option will allow you to view the
         components of the KIDS build.
         
   6. Use the Install Package(s) option and select IVM*2.0*78
     
   7. When prompted 'Want KIDS to INHIBIT Logon's during the install? 
      YES//', it is recommended you answer NO.
   
   8. When prompted 'Want to DISABLE Scheduled Options, Menu Options, 
      and Protocols? YES//', respond YES.   When prompted to select 
      the options you would like to place out of order, enter the
      following:
  
      IVM BACKGROUND JOB             IVM Background Job
            
   
   9. If routines were unmapped as part of Step 3, they should be 
      returned to the mapped set once the installation has run to 
      completion.
  
  10. After installation, if you had stopped them, be sure to restart the
      HL7 filers.

Routine Information:
====================

Routine Name:
  - IVM2078P

 This post-install program will activate the EAS EDB ORU~Z09 SERVER
 protocol. If a site has disabled the protocol by placing text in the
 DISABLE field (#2) in the PROTOCOL file (#101) it  will be removed.
  
 The outbound LLP 'LLEDBOUT' in the HL LOGICAL LINK file (#870) will be
 assigned the proper production IP ADDRESS (field #400.01).  The AUTOSTART
 field (#4.5) in the HL LOGICAL LINK file (#870) for the inbound logical
 link - LLEDBIN' will be set to 'DISABLED'.
  
 This program will also transfer the records currently placed in the HL7
 MESSAGE ADMINISTRATION file (#773) for the EDB outbound queue to the IVM
 BILLING TRANSMISSION file (#301.61).  As each record is transferred it
 will be marked as 'Complete' in the HL7 MESSAGE ADMINISTRATION file (#773)
 and will be removed them from the queue.

Routine Checksum:

Routine Name:
  - IVMPTRN5

 Add hook after TRNSMT+8 to bypass EDB Z06 MT and place the non-EDB Z06 MT
 into the IVM BILLING TRANSMISSION file (#301.61).
  
    .I $$WHERETO^EASPTRN1(DFN) Q                  ;Do not send EDB Z09's 

Routine Checksum:

=============================================================================
User Information:                               
Entered By  : GUSTIN,ERIC                    Date Entered : APR 18, 2003
Completed By: DRESS,KEN                     Date Completed: APR 29, 2003
Released By : GANUS,MAUNETTE                Date Released : APR 30, 2003
=============================================================================


Packman Mail Message:
=====================

No routines included
