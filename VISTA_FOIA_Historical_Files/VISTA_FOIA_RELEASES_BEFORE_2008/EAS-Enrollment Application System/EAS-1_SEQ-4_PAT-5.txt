$TXT Created by DESMOND,LINDA at DEVVOO.ISC-ALBANY.VA.GOV  (KIDS) on WEDNESDAY, 11/28/01 at 11:57
=============================================================================
Run Date: DEC 04, 2001                     Designation: EAS*1*5
Package : EAS - ENROLLMENT APPLICATION Priority: Mandatory
Version : 1         SEQ #4                     Status: Released
=============================================================================

Associated patches: (v)DG*5.3*397  <<= must be installed BEFORE `EAS*1*5'

Subject: LTC CO-PAYMENT

Category: 
  - Enhancement (Mandatory)
  - Data Dictionary
  - Input Template
  - Routine

Description: 
============

 This patch was developed in DEV,VOO.
  
 This patch contains changes to the VistA Enrollment Application System
 (EAS) module.  The changes were made to meet the requirements of the
 Veterans Millennium Health Care and Benefits Act, Public Law 106-117 Sec.
 101, that mandates the application of co-payments for veterans receiving
 Long Term Care (LTC) services.  This patch includes the following
 functionality:
  
 1. Provides the user with the ability to enter, edit, store and print
 financial information given by the veteran on the 10-10EC Application for
 Extended Care Services.
 2. Provides the user with the ability to designate a veteran who is exempt
 from the LTC co-payments and the reason for that exemption.
 3. Using the financial information entered from the 10-10EC form,
 automatically calculates and displays or prints an estimate of the LTC
 co-payments that the veteran will be obligated to pay for the next twelve
 months.
 4. Provides Integrated Billing with a veteran's co-payment amount via an
 API.
  
 DOCUMENTATION RETRIEVAL:
 =======================
  
 Sites may retrieve documentation for this application directly using FTP
 from the ANONYMOUS.SOFTWARE directory at the following OI Field Offices
  
            Albany: ftp.fo-albany.med.va.gov
             Hines: ftp.fo-hines.med.va.gov
    Salt Lake City: ftp.fo-slc.med.va.gov
  
  
 Filename               Manual Name
 --------               -----------
 EAS_1_P5_UM.PDF        User Manual 
 EAS_1_P5_TM.PDF        Technical Manual
 EAS_1_P5_IG.PDF        Installation Guide 
  
 These files are in pdf format, and must be downloaded in binary mode.
  
  
 DATA DICTIONARY CHANGES:
 ========================
 The following data dictionaries will be modified or added with this patch:
  
 1. LTC CO-PAY EXEMPTION (#714.1) - This new file will contain a list of
 reasons why a veteran may qualify for exemption from Long Term Care
 co-payments. This file is pointed to by the Reason for Exemption field
 (#2.07) of the Annual Means Test file (#408.31).
  
 2. INDIVIDUAL ANNUAL INCOME (#408.21) - This file contains the individual
 annual income for a veteran and his/her relations.  The following new
 fields are being added to this file to store financial data from the
 10-10EC Application for Extended Care Services:
  
 Field # Field Name                      Piece
 .06     RETIREMENT AND PENSION          0;6
 .07     VA PENSION                      0;7
 .19     SPOUSE VA DISABILITY/COMP       0;19
 .2      COURT MANDATED                  0;20
 1.04    RENT/MORTGAGE                   1;4
 1.05    UTILITIES                       1;5
 1.06    CAR PAYMENT                     1;6
 1.07    FOOD                            1;7
 1.08    COURT-ORDERED PAYMENTS          1;8
 1.09    INSURANCE                       1;9
 1.1     TAXES                           1;10
 1.11    TAXES (PROPERTY,PERSONAL)       1;11
 2.06    RESIDENCE                       2;6
 2.07    OTHER RESIDENCE/LAND/FARM       2;7
 2.08    VEHICLE(S)                      2;8
 2.09    OTHER LIQUID ASSETS             2;9
  
 The following existing fields are being modified so that the help text
 instructs the user to enter current year amounts for a LTC Co-pay Test and
 previous year amounts for a Means Test.  This will be accomplished using
 executable help:
  
 Field # Field Name                      Piece
 .08     SOCIAL SECURITY (NOT SSI)       0;8
 .09     U.S. CIVIL SERVICE              0;9
 .1      U.S. RAILROAD RETIREMENT        0;10
 .11     MILITARY RETIREMENT             0;11
 .12     UNEMPLOYMENT COMPENSATION       0;12
 .13     OTHER RETIREMENT                0;13
 .14     TOTAL INCOME FROM EMPLOYMENT    0;14
 .15     INTEREST, DIVIDEND OR ANNUITY   0;15
 .16     WORKERS COMP. OR BLACK LUNG     0;16
 .17     ALL OTHER INCOME                0;17
 1.01    MEDICAL EXPENSES                1;1
 1.02    FUNERAL AND BURIAL EXPENSES     1;2
 1.03    EDUCATIONAL EXPENSES            1;3
 2.01    CASH                            2;1
 2.02    STOCKS AND BONDS                2;2
  
 3. ANNUAL MEANS TEST (#408.31) - This file contains the annual financial
 tests for a veteran. The new Long Term Care Co-Pay Test will be stored in
 this file. The following new field is being added to this file to store
 the reason for exemption if a veteran qualifies for exemption from the LTC
 co-payment:
  
 Field # Field Name                      Piece
 2.07    REASON FOR EXEMPTION            2;7
  
 The MUMPS cross-reference "AAPD" on the AGREE TO PAY DEDUCTIBLE field
 (#.11) was modified as follows:
  
 Old: D AUTOUPD^DGENA2(+$P(^DGMT(408.31,DA,0),U,2),2)
 New: D:$G(DGMTYPT)'=3 AUTOUPD^DGENA2(+$P(^DGMT(408.31,DA,0),U,2),2)
  
  
 4. INCOME RELATION (#408.22) - This file contains the income relation type
 data for a veteran and any relations.  The following new fields are being
 added to this file to capture current year spouse and dependent
 relationships to the veteran:
  
 Field # Field Name                      Piece
 .14     MARRIED THIS YEAR               0;14
 .15     LIVING WITH PATIENT             0;15
 .16     RESIDING IN THE COMMUNITY       0;16
  
 5. TYPE OF TEST (#408.33) - This file contains the types of tests
 associated with financial data supplied by the veteran.  This file is
 pointed to by the Type of Test field (#.019) of the Annual Means Test file
 (#408.31).  The following new entry will be added to this file and will be
 used by the new LTC co-payment:
  
 Field Name              Value
 NUMBER                  3
 NAME                    LTC CO-PAY TEST
  
 6. MEANS TEST STATUS (#408.32) - This file contains the statuses for the
 different types of financial tests that a veteran may have to take.  This
 file is pointed to by the Status field (#.03) of the Annual Means Test
 file (#408.31). The following two new status records have been added to
 this file for the LTC Co-Pay Test:
  
 Field Name              Value
 NAME                    EXEMPT
 CODE                    X
 TYPE OF TEST            LTC CO-PAY TEST
 EFFECTIVE DATE          AUGUST 15, 2001
 ACTIVE                  YES
  
 NAME                    NON-EXEMPT
 CODE                    T
 TYPE OF TEST            LTC CO-PAY TEST
 EFFECTIVE DATE          AUGUST 15, 2001
 ACTIVE                  YES
  
  
 OPTION SUMMARY:
 ===============
 This patch will add the following new menu options:
  
 1. EASEC LTC COPAY MENU (LTC Co-payments Menu) - This is the menu that
 will contain the options for the Long Term Care Co-payments application.
  
 2. EASEC LTC COPAY TEST ADD (Add a New LTC Co-payment Test) - This option
 will add a new Long Term Care Co-payment Test for a patient.  The
 information entered will be from the 10-10EC Application for Extended
 Care.  If all the required information is entered, the test can be
 completed and the 10-10EC form can be printed.
  
 3. EASEC LTC COPAY TEST EDIT (Edit an Existing LTC Co-payment Test) - This
 option will enable the user to make changes to data in an existing Long
 Term Care Co-payment Test.  If all the required information is entered,
 the test can be completed and the 10-10EC form can be printed.
  
 4. EASEC LTC COPAY TEST VIEW (View a LTC Co-payment Test) - This option
 will display all of the screens containing the information for a selected
 Long Term Care Co-payment Test.  This option does not allow editing.
  
 5. EASEC LTC COPAY PRINT (Calculated LTC Co-payments Print) - This option
 will enable the user to display or print the calculated Long Term Care
 co-payments for a selected veteran.
  
 6. EASEC LTC COPAY TEST PRINT (Print Application for Extended Care
 (1010-EC)) - This option will allow the selection and printing of a Long
 Term Care Co-payment test on the Application for Extended Care form
 1010-EC.
  
 INPUT TEMPLATES:
 ================
 This patch will add the following input templates:
  
 1. EASEC ENTER/EDIT ASSETS (#408.21) - this template is used to enter or
 edit the asset data fields from 1010-EC form.  It is called from routine
 ^EASECSC4.
  
 2. EASEC ENTER/EDIT EXPENSES (#408.21) - this template is used to enter or
 edit the expense data fields from 1010-EC form.  It is called from routine
 ^EASECSC6.
  
 3. EASEC ENTER/EDIT INCOME (#408.21) - this template is used to enter or
 edit the income data fields from 1010-EC form.  It is called from routine
 ^EASECSC5.
  
 4. EASEC COMPLETE LTC CO-PAY TEST (#408.31) - this template is used to
 edit the fields necessary to complete the LTC co-payment test.  It is
 called from routine ^EASECSCC.
  
 5. EASEC EDIT MARITAL STATUS (#408.22) - this template is used to edit the
 fields related to the veteran's marital status.  It is called from routine
 ^EASECDP2.
  
 6. EASEC EDIT DEPENDENTS (#408.22) - this template is used to edit the
 veteran's dependent's data.  It is called from routine ^EASECDP2.
  
  
 PROTOCOLS:
 ==========
 This patch will add the following protocols:
  
 1. EASEC LTC COPAY DEPENDENT ADD (Add to LTC Co-pay Test)
 2. EASEC LTC COPAY DEPENDENT ADDDEP (Spouse/Dependent Add)
 3. EASEC LTC COPAY DEPENDENT DEMO (Edit Dependent Demographics)
 4. EASEC LTC COPAY DEPENDENT EFFECTIVE (Edit Effective Date)
 5. EASEC LTC COPAY DEPENDENT EXPAND (Expand Dependent)
 6. EASEC LTC COPAY DEPENDENT EXPAND MENU (LTC Co-payment Test Dependent
    Expand Menu)
 7. EASEC LTC COPAY DEPENDENT MARR (Marital/Dependent Info)
 8. EASEC LTC COPAY DEPENDENT MENU (LTC Co-payment Test Dependents)
 9. EASEC LTC COPAY DEPENDENT REMOVE (Remove from LTC Co-pay Test)
 10. EASEC LTC COPAY DEPENDENT SPOUSE DEMO (Edit Spouse Demographics)
  
 These protocols are used as selectable actions from the ListMan templates
 EASEC DEPENDENTS and EASEC EXPAND PROFILE.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
    <tab>;;1.0;ENROLLMENT APPLICATION SYSTEM;**[patch list]**;Mar 15, 2001
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  EASEC100                   N/A             13240163              5
  EASEC101                   N/A              7982246              5
  EASEC102                   N/A             13918264              5
  EASEC103                   N/A             12011159              5
  EASEC10E                   N/A              4502587              5
  EASECA                     N/A              5944542              5
  EASECCAL                   N/A              2062731              5
  EASECDD                    N/A             13368660              5
  EASECDEP                   N/A              3012332              5
  EASECDP0                   N/A              5120304              5
  EASECDP1                   N/A              3474132              5
  EASECDP2                   N/A              8330685              5
  EASECDP3                   N/A              4064247              5
  EASECDP4                   N/A              6604567              5
  EASECDPE                   N/A              1040818              5
  EASECDPH                   N/A              6163829              5
  EASECE                     N/A              4400596              5
  EASECED                    N/A              5298494              5
  EASECED1                   N/A             13262040              5
  EASECED2                   N/A              2299060              5
  EASECED3                   N/A              6137408              5
  EASECPC                    N/A             12035133              5
  EASECSC                    N/A              2424352              5
  EASECSC1                   N/A             15927659              5
  EASECSC2                   N/A             10264733              5
  EASECSC3                   N/A              1129719              5
  EASECSC4                   N/A              3978580              5
  EASECSC5                   N/A              5745101              5
  EASECSC6                   N/A              4795854              5
  EASECSCC                   N/A              9008052              5
  EASECSCR                   N/A              7408977              5
  EASECSCU                   N/A              3844071              5
  EASECSU3                   N/A              2956752              5
  EASECU                     N/A              1454151              5
  EASECU2                    N/A              1818152              5
  EASECU21                   N/A              1158309              5
  EASECU23                   N/A              5244512              5
  EASECV                     N/A              6516956              5
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch can be loaded with users on the system.
 Installation will take less than 10 minutes.
  
 1. From the PackMan menu, select the INSTALL/CHECK MESSAGE option.  [Note:
 TEXT PRINT/DISPLAY option in the PackMan menu will display the patch text
 only].
  
 2. From the Kernel Installation and Distribution System (KIDS) menu,
 select the Installation menu.
  
 3. From the Installation menu, you may elect to use the following options:
 (when prompted for INSTALL NAME, enter EAS*1.0*5)
  
    a. Backup a Transport Global - this option will create a backup message
       of any routines export with the patch.  It will NOT backup any other
       changes such as DDs or templates.
    b. Compare Transport Global to Current System - this option will allow
       you to view all changes that will be made when the patch is
       installed. It compares all components of the patch (routines, DDs,
       templates, etc.).
    c. Verify Checksums in Transport Global - this option will allow you to
       ensure the integrity of the routines that are in the transport
       global.
    d. Print Transport Global - this option will allow you to view the
       components of the KIDS build.
  
 4. Use the Install Package(s) option and at the "Select INSTALL NAME:"
 prompt, enter EAS*1.0*5.
  
 5. At the 'Want KIDS to Rebuild Menu Trees Upon Completion of
 Install? YES//' prompt, respond NO.
  
 6. At the 'Want KIDS to INHIBIT LOGINs during the install? YES//' prompt,
 respond NO.
  
 7. At the 'Want to DISABLE Scheduled Options, Menu Options, and Protocols?
 YES//' prompt, respond NO.

Routine Information:
====================

Routine Name:
  - EASECA

 This routine adds a new LTC co-pay test record to the Annual Means Test
 file (#408.31) and calls the process to allow the user to input financial
 data from the 10-10EC and create a new record in the Individual Annual
 Income file (#408.21).

Routine Checksum:

Routine Name:
  - EASECE

 This routine edits an existing LTC co-pay test record in the Annual Means
 Test file (#408.31) and calls the process to allow the user to edit
 financial data from the 10-10EC stored in the Individual Annual Income
 file (#408.21).

Routine Checksum:

Routine Name:
  - EASECPC

 This routine displays or prints a report of the calculated LTC co-payments
 for a selected veteran.

Routine Checksum:

Routine Name:
  - EASECSC1

 This routine displays a screen with the veteran's Military Service
 History.

Routine Checksum:

Routine Name:
  - EASECSC2

 This routine displays a screen of the veteran's Eligibility data.

Routine Checksum:

Routine Name:
  - EASECSC3

 This routine calls the List Manager template EASEC DEPENDENTS to edit
 marital status and dependents data for the LTC co-pay test.

Routine Checksum:

Routine Name:
  - EASECSC4

 This routine calls the edit screen for the 1010EC assets data fields.  The
 input template called is EASEC ENTER/EDIT ASSETS on the Individual Annual
 Income file (#408.21).

Routine Checksum:

Routine Name:
  - EASECSC5

 This routine calls the edit screen for the 1010EC income data fields.  The
 input template called is EASEC ENTER/EDIT INCOME on the Individual Annual
 Income file (#408.21).

Routine Checksum:

Routine Name:
  - EASECSC6

 This routine calls the edit screen for the 1010EC expense data fields.
 The input template called is EASEC ENTER/EDIT EXPENSES on the Individual
 Annual Income file (#408.21).

Routine Checksum:

Routine Name:
  - EASECU

 This routine contains utilities API's for LTC Co-Pay Test.  Tag LST looks
 for the last LTC test for a veteran.

Routine Checksum:

Routine Name:
  - EASECU23

 This routine displays the LTC Co-Pay Test information to the screen.  It
 is called from the Edit and View an LTC Co-Pay Test options.

Routine Checksum:

Routine Name:
  - EASECV

 This routine displays data entered for the veteran's LTC Co-Pay Test in
 the Individual Annual Income file (#408.21).

Routine Checksum:

Routine Name:
  - EASEC10E

 This is a new routine which is the main routine and entry point for the
 1010EC print functionality.  This routine is called at the OEN tag from the
 EASEC LTC COPAY TEST PRINT menu option, and at the QUE tag from the
 ^EASECSCC routine.

Routine Checksum:

Routine Name:
  - EASEC100

 This is a new routine that is part of the 1010EC print functionality.  This
 routine is used to collect the data to be displayed on the 1010EC form.
 It is called from the ^EASEC10E routine and will store the resulting data in
 the ^TMP("1010EC",$J, global until the process is completed.

Routine Checksum:

Routine Name:
  - EASEC101

 This is a new routine which is part of the 1010EC print functionality.  This
 routine is called from ^EASEC10E and prints the data for page 1 of the
 1010EC form.

Routine Checksum:

Routine Name:
  - EASEC102

 This is a new routine which is part of the 1010EC print functionality.
 This routine is called by ^EASEC10E and is used to print the data for page
 2 of the 1010EC form.

Routine Checksum:

Routine Name:
  - EASEC103

 This is a new routine that is part of the 1010EC print functionality.
 This routine is called by ^EASEC10E and is used to print page 3 of the
 1010EC form.

Routine Checksum:

Routine Name:
  - EASECCAL

 This routine contains the API $$COPAY that will be called by Billing to
 return a veteran's calculated LTC co-payments.

Routine Checksum:

Routine Name:
  - EASECDD

 This routine contains the executable help messages that are displayed
 for fields in the Individual Annual Income file (#408.21).

Routine Checksum:

Routine Name:
  - EASECDEP

 This routine is the main screen driver routine called by the ListMan
 template EASEC DEPENDENTS for the spouse and dependents edit options
 (Screen 3).  This routine is also called by routine EASECSC3.

Routine Checksum:

Routine Name:
  - EASECDP0

 This routine is a continuation of the screen driver EASECDEP for the
 List Man spouse and dependents edit options.  This routine formats the
 dependent data for display on the main ListMan screen.

Routine Checksum:

Routine Name:
  - EASECDP1

 This routine is called by the ListMan spouse and dependents edit options.
 The tag LSTDEP is called to list dependents.  Tag ONE is called to list 
 one dependent.  Tag EDIT is called by Edit Effective Date action.

Routine Checksum:

Routine Name:
  - EASECDP2

 This routine is called by the ListMan spouse and dependents edit options.
 Tag EN1 is called by the action to add a dependent to the LTC co-pay test.
 Tag EN2 is called by the action to delete a dependent from the LTC co-pay
 test.  Tag EN3 is called to edit marital status and dependent status data.

Routine Checksum:

Routine Name:
  - EASECDP3

 This routine is called by the screen driver for the ListMan spouse and
 dependent edit options.  This routine formats and displays veteran and
 dependent data on the main ListMan screen.

Routine Checksum:

Routine Name:
  - EASECDP4

 This routine is called by the ListMan spouse and dependent edit options.
 Tag ADDEP is called by the action to add a spouse or dependent.  Tag
 EDITDEP is called by the action to edit dependent demographic data.
 Tag EN is called by the action to edit spouse demographic data.

Routine Checksum:

Routine Name:
  - EASECDPE

 This routine is the screen driver called by the ListMan template
 EASEC EXPAND PROFILE.

Routine Checksum:

Routine Name:
  - EASECDPH

 This routine is called by the ListMan spouse and dependent edit options to
 display help text.

Routine Checksum:

Routine Name:
  - EASECED

 This routine is called to add entries to the Patient Relation file
 (#408.12) and the Income Person file (#408.13).

Routine Checksum:

Routine Name:
  - EASECED1

 This routine is a continuation of EASECED and adds entries to the Patient
 Relation file (#408.13) and the Income Person file (#408.12).

Routine Checksum:

Routine Name:
  - EASECED2

 This routine is called to check the status of a spouse.  The tag
 SPOUSE is called to determine if a spouse is active at a specified
 date.

Routine Checksum:

Routine Name:
  - EASECED3

 This routine is called as part of the process to edit spouse or dependent
 data.

Routine Checksum:

Routine Name:
  - EASECSC

 This routine is the screen driver for the 10-10EC data edit screens.
 It is called by routines EASECA, EASECE, and EASECV.

Routine Checksum:

Routine Name:
  - EASECSCC

 This routine is the LTC co-pay test screen completion routine for the
 10-10EC edit screens.  It calls the EASEC COMPLETE LTC CO-PAY TEST input
 template which updates the Annual Means Test file (#408.31).  This routine
 is called by routine EASECSC.

Routine Checksum:

Routine Name:
  - EASECSCR

 This routine is the screen read processor for the LTC Co-pay Test edit
 screens.  The user can select which fields on a screen to edit and this is
 returned to the calling edit routine.  This routine is called by routines
 EASECSC4, EASECSC5, and EASECSC6.

Routine Checksum:

Routine Name:
  - EASECSCU

 This routine sets up the variables and screen driver array required for
 the LTC co-pay test edit screens.  This routine is called by routine
 EASECSC.

Routine Checksum:

Routine Name:
  - EASECSU3

 This routine contains the API INC which determines the income expenses and
 net worth for a veteran, spouse and dependents, and the API DEP which
 returns data for a veteran's dependents.

Routine Checksum:

Routine Name:
  - EASECU2

 This routine contains the API GETIENS which looks up and returns the IEN
 for the Individual Annual Income file (#408.21) and the Income Relation
 file (#408.22).  If the file entries do not exist this API will add them.

Routine Checksum:

Routine Name:
  - EASECU21

 This routine contains the API ALL which returns the veteran, spouse and
 dependents, IEN's of the Individual Annual Income file (#408.21), the
 Income Relation file (#408.22), and the Patient Relation file (#408.12).
 The input variables determine which arrays will be returned.

Routine Checksum:

=============================================================================
User Information:                               
Entered By  : DESMOND,LINDA                  Date Entered : AUG 08, 2001
Completed By: MOORE,TERRY D                Date Completed: DEC 04, 2001
Released By : KOVACH,STUART                 Date Released : DEC 04, 2001
=============================================================================


Packman Mail Message:
=====================

$END TXT
