Released XU*8*400 SEQ #325
Extracted from mail message
**KIDS**:XU*8.0*400^

**INSTALL NAME**
XU*8.0*400
"BLD",917,0)
XU*8.0*400^KERNEL^0^3051228^y
"BLD",917,1,0)
^^2^2^3051228^
"BLD",917,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"BLD",917,1,2,0)
XU*8*400        New String Functions SENTENCE and TITLE.
"BLD",917,4,0)
^9.64PA^^
"BLD",917,6.3)
1
"BLD",917,"KRN",0)
^9.67PA^8989.52^19
"BLD",917,"KRN",.4,0)
.4
"BLD",917,"KRN",.401,0)
.401
"BLD",917,"KRN",.402,0)
.402
"BLD",917,"KRN",.403,0)
.403
"BLD",917,"KRN",.5,0)
.5
"BLD",917,"KRN",.84,0)
.84
"BLD",917,"KRN",3.6,0)
3.6
"BLD",917,"KRN",3.8,0)
3.8
"BLD",917,"KRN",9.2,0)
9.2
"BLD",917,"KRN",9.8,0)
9.8
"BLD",917,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",917,"KRN",9.8,"NM",1,0)
XLFSTR^^0^5626516
"BLD",917,"KRN",9.8,"NM","B","XLFSTR",1)

"BLD",917,"KRN",19,0)
19
"BLD",917,"KRN",19.1,0)
19.1
"BLD",917,"KRN",101,0)
101
"BLD",917,"KRN",409.61,0)
409.61
"BLD",917,"KRN",771,0)
771
"BLD",917,"KRN",870,0)
870
"BLD",917,"KRN",8989.51,0)
8989.51
"BLD",917,"KRN",8989.52,0)
8989.52
"BLD",917,"KRN",8994,0)
8994
"BLD",917,"KRN","B",.4,.4)

"BLD",917,"KRN","B",.401,.401)

"BLD",917,"KRN","B",.402,.402)

"BLD",917,"KRN","B",.403,.403)

"BLD",917,"KRN","B",.5,.5)

"BLD",917,"KRN","B",.84,.84)

"BLD",917,"KRN","B",3.6,3.6)

"BLD",917,"KRN","B",3.8,3.8)

"BLD",917,"KRN","B",9.2,9.2)

"BLD",917,"KRN","B",9.8,9.8)

"BLD",917,"KRN","B",19,19)

"BLD",917,"KRN","B",19.1,19.1)

"BLD",917,"KRN","B",101,101)

"BLD",917,"KRN","B",409.61,409.61)

"BLD",917,"KRN","B",771,771)

"BLD",917,"KRN","B",870,870)

"BLD",917,"KRN","B",8989.51,8989.51)

"BLD",917,"KRN","B",8989.52,8989.52)

"BLD",917,"KRN","B",8994,8994)

"BLD",917,"QUES",0)
^9.62^^
"BLD",917,"REQB",0)
^9.611^1^1
"BLD",917,"REQB",1,0)
XU*8.0*120^2
"BLD",917,"REQB","B","XU*8.0*120",1)

"MBREQ")
0
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^^0
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^3051215^2970507^.5
"PKG",3,22,1,"PAH",1,0)
400^3051228
"PKG",3,22,1,"PAH",1,1,0)
^^2^2^3051228
"PKG",3,22,1,"PAH",1,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"PKG",3,22,1,"PAH",1,1,2,0)
XU*8*400        New String Functions SENTENCE and TITLE.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XLFSTR")
0^1^B5626516
"RTN","XLFSTR",1,0)
XLFSTR ;ISC-SF/STAFF - String Functions ;12/28/2005
"RTN","XLFSTR",2,0)
 ;;8.0;KERNEL;**112,120,400**;Jul 10, 1995;Build 1
"RTN","XLFSTR",3,0)
 ;
"RTN","XLFSTR",4,0)
UP(X) Q $TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","XLFSTR",5,0)
 ;
"RTN","XLFSTR",6,0)
LOW(X) Q $TR(X,"ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz")
"RTN","XLFSTR",7,0)
 ;
"RTN","XLFSTR",8,0)
STRIP(X,Y) Q $TR(X,$G(Y),"")
"RTN","XLFSTR",9,0)
 ;
"RTN","XLFSTR",10,0)
REPEAT(X,Y) ;
"RTN","XLFSTR",11,0)
 N % Q:'$D(X) "" I $L(X)*$G(Y)>245 Q ""
"RTN","XLFSTR",12,0)
 S %="",$P(%,X,$G(Y)+1)=""
"RTN","XLFSTR",13,0)
 Q %
"RTN","XLFSTR",14,0)
 ;
"RTN","XLFSTR",15,0)
INVERT(X) ;
"RTN","XLFSTR",16,0)
 N %,%1 S %="" F %1=$L(X):-1:1 S %=%_$E(X,%1)
"RTN","XLFSTR",17,0)
 Q %
"RTN","XLFSTR",18,0)
 ;
"RTN","XLFSTR",19,0)
REPLACE(IN,SPEC) ;See $$REPLACE in MDC minutes.
"RTN","XLFSTR",20,0)
 Q:'$D(IN) "" Q:$D(SPEC)'>9 IN N %1,%2,%3,%4,%5,%6,%7,%8
"RTN","XLFSTR",21,0)
 S %1=$L(IN),%7=$J("",%1),%3="",%6=9999 F  S %3=$O(SPEC(%3)) Q:%3=""  S %6(%6)=%3,%6=%6-1
"RTN","XLFSTR",22,0)
 F %6=0:0 S %6=$O(%6(%6)) Q:%6'>0  S %3=%6(%6) D:$D(SPEC(%3))#2 RE1
"RTN","XLFSTR",23,0)
 S %8="" F %2=1:1:%1 D RE3
"RTN","XLFSTR",24,0)
 Q %8
"RTN","XLFSTR",25,0)
 ;
"RTN","XLFSTR",26,0)
RE1 S %4=$L(%3),%5=0 F  S %5=$F(IN,%3,%5) Q:%5<1  D RE2
"RTN","XLFSTR",27,0)
 Q
"RTN","XLFSTR",28,0)
RE2 Q:$E(%7,%5-%4,%5-1)["X"  S %8(%5-%4)=SPEC(%3)
"RTN","XLFSTR",29,0)
 F %2=%5-%4:1:%5-1 S %7=$E(%7,1,%2-1)_"X"_$E(%7,%2+1,%1)
"RTN","XLFSTR",30,0)
 Q
"RTN","XLFSTR",31,0)
RE3 I $E(%7,%2)=" " S %8=%8_$E(IN,%2) Q
"RTN","XLFSTR",32,0)
 S:$D(%8(%2)) %8=%8_%8(%2)
"RTN","XLFSTR",33,0)
 Q
"RTN","XLFSTR",34,0)
 ;
"RTN","XLFSTR",35,0)
RJ(%,%1,%2) ;Right justify
"RTN","XLFSTR",36,0)
 N %3
"RTN","XLFSTR",37,0)
 S:%1["T" %1=+%1,%=$E(%,1,%1)
"RTN","XLFSTR",38,0)
 S %3=$J("",%1-$L(%)) S:$D(%2) %3=$TR(%3," ",%2)
"RTN","XLFSTR",39,0)
 Q %3_%
"RTN","XLFSTR",40,0)
 ;
"RTN","XLFSTR",41,0)
LJ(%,%1,%2) ;Left justify
"RTN","XLFSTR",42,0)
 N %3
"RTN","XLFSTR",43,0)
 S:%1["T" %1=+%1,%=$E(%,1,%1)
"RTN","XLFSTR",44,0)
 S %3=$J("",%1-$L(%)) S:$G(%2)]"" %3=$TR(%3," ",%2)
"RTN","XLFSTR",45,0)
 Q %_%3
"RTN","XLFSTR",46,0)
 ;
"RTN","XLFSTR",47,0)
CJ(%,%1,%2) ;Center Justify
"RTN","XLFSTR",48,0)
 N %3,%4
"RTN","XLFSTR",49,0)
 S:%1["T" %1=+%1,%=$E(%,1,%1) S %3=%1-$L(%) Q:%3<1 %
"RTN","XLFSTR",50,0)
 S %3=%3\2,%4=$J("",%3+1) I $G(%2)]"" S %4=$TR(%4," ",%2)
"RTN","XLFSTR",51,0)
 Q $E(%4,1,%3)_%_$E(%4,1,%1-%3-$L(%))
"RTN","XLFSTR",52,0)
 ;
"RTN","XLFSTR",53,0)
QUOTE(%) ;Add quotes to value for concatenation 
"RTN","XLFSTR",54,0)
 S %(%)=0,%=$Q(%)
"RTN","XLFSTR",55,0)
 Q $P($E(%,1,$L(%)-1),"(",2,999)
"RTN","XLFSTR",56,0)
 ;
"RTN","XLFSTR",57,0)
TRIM(%X,%F,%V) ;Trim spaces\char from front(left)/back(right) of string
"RTN","XLFSTR",58,0)
 N %R,%L
"RTN","XLFSTR",59,0)
 S %F=$$UP($G(%F,"LR")),%L=1,%R=$L(%X),%V=$G(%V," ")
"RTN","XLFSTR",60,0)
 I %F["R" F %R=$L(%X):-1:1 Q:$E(%X,%R)'=%V
"RTN","XLFSTR",61,0)
 I %F["L" F %L=1:1:$L(%X) Q:$E(%X,%L)'=%V
"RTN","XLFSTR",62,0)
 Q $E(%X,%L,%R)
"RTN","XLFSTR",63,0)
 ;
"RTN","XLFSTR",64,0)
SENTENCE(%X) ;
"RTN","XLFSTR",65,0)
 ; Converts a string into proper sentence case (first letter of each sentence
"RTN","XLFSTR",66,0)
 ;  upper case, all the others lower case)
"RTN","XLFSTR",67,0)
 ; Example Usage:
"RTN","XLFSTR",68,0)
 ; W $$SENTENCE^XLFSTR("HELLO WORLD!!! THIS IS A CAPITALIZED SENTENCE. (this isn't.)")
"RTN","XLFSTR",69,0)
 ;  produces
"RTN","XLFSTR",70,0)
 ; Hello world!!! This is a capitalized sentence. This isn't.
"RTN","XLFSTR",71,0)
 ;
"RTN","XLFSTR",72,0)
 ; %S = string during conversion
"RTN","XLFSTR",73,0)
 ; %P = state flag (1 = next letter should be caps)
"RTN","XLFSTR",74,0)
 ; I = iteration index
"RTN","XLFSTR",75,0)
 ; C = current character
"RTN","XLFSTR",76,0)
 ;
"RTN","XLFSTR",77,0)
 N %I,%C,%S,%P
"RTN","XLFSTR",78,0)
 S %S=$$LOW(%X),%P=1
"RTN","XLFSTR",79,0)
 F %I=1:1:$L(%X) D
"RTN","XLFSTR",80,0)
 . S %C=$E(%S,%I)
"RTN","XLFSTR",81,0)
 . I %P,%C?1L S $E(%S,%I)=$$UP(%C),%P=0
"RTN","XLFSTR",82,0)
 . S:".!?"[%C %P=1
"RTN","XLFSTR",83,0)
 Q %S
"RTN","XLFSTR",84,0)
 ;
"RTN","XLFSTR",85,0)
TITLE(%X) ;
"RTN","XLFSTR",86,0)
 ; Converts a string into TITLE CASE format (first letter of each word is uppercase)
"RTN","XLFSTR",87,0)
 ; Example Usage:
"RTN","XLFSTR",88,0)
 ; W $$TITLE^XLFSTR("THIS IS CAPITALIZED. (this isn't.)")
"RTN","XLFSTR",89,0)
 ; produces
"RTN","XLFSTR",90,0)
 ; This Is Capitalized. This Isn't.
"RTN","XLFSTR",91,0)
 ; 
"RTN","XLFSTR",92,0)
 ; %S = string during conversion
"RTN","XLFSTR",93,0)
 ; %P = state flag
"RTN","XLFSTR",94,0)
 ; %I = iteration index
"RTN","XLFSTR",95,0)
 ; %C = current character
"RTN","XLFSTR",96,0)
 ; 
"RTN","XLFSTR",97,0)
 N %I,%C,%S,%P
"RTN","XLFSTR",98,0)
 S %S=$$LOW(%X),%P=1
"RTN","XLFSTR",99,0)
 F %I=1:1:$L(%S) D
"RTN","XLFSTR",100,0)
 . S %C=$E(%S,%I)
"RTN","XLFSTR",101,0)
 . I %P,%C?1L S $E(%S,%I)=$$UP(%C),%P=0
"RTN","XLFSTR",102,0)
 . S:%C=" " %P=1
"RTN","XLFSTR",103,0)
 . Q
"RTN","XLFSTR",104,0)
 Q %S
"VER")
8.0^22.0
"BLD",917,6)
^325
**END**
**END**
