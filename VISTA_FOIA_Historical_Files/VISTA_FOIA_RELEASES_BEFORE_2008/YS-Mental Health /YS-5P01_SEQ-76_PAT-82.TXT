$TXT Created by CARPENTER,TERRY at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Friday, 01/26/07 at 12:07
=============================================================================
Run Date: APR 26, 2007                     Designation: YS*5.01*82
Package : YS - MENTAL HEALTH                  Priority: Mandatory
Version : 5.01        SEQ #76                   Status: Released
                  Compliance Date: MAY 27, 2007
=============================================================================

Associated patches: (v)YS*5.01*71  <<= must be installed BEFORE `YS*5.01*82'

Subject: DATA DICTIONARY CLEAN UP FOR FILE 604

Category: 
  - Routine

Description:
============

 This patch corrects several problems in the Mental Health package.
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1. HD67565  -  YSSR ENTRY problem with bad data
 2. HD67998  -  File 604, field .53
 3. HD115922 -  Disappearing GAF scores
 4. HD67360  -  Getting error message access asi from FM
    Duplicate:  HD67443 - ERROR - Addiction Severity Index
  
  
 Participating Test Sites:
 =========================
 Southern Arizona HCS
 Salisbury VAMC
 New Mexico HCS
 Palo Alto HCS
  
  
 Remedy Overview:
 ================
  
 Problem (1):   HD67565
 ------------
 When a user exits the Entry of Patient to Seclusion/Restraint [YSSR ENTRY]
 option using <CONTROL-C>, a stub entry is left behind in the SECLUSION/
 RESTRAINT file (#615.2) that consists only of the 0 node.  When the user
 enters this option again, a list of all the patients in Seclusion/
 Restraint appears before the user is allowed to add someone to the list.  
 The stub entry from the "rude" exit does not contain all of the
 information that appears in this list and an <UNDEF> error results.
  
 Solution:
 ---------
 The routines for the YSSR ENTRY and the YSSR RELEASE options have been
 modified to prevent the <UNDEF> error. In addition, a new identifier(#)
 has been added to the Seclusion/Restraint list to denote records that are
 incomplete because of a "rude" exit.
  
 Routines: YSSR, YSSR1
  
  
 Problem (2):   HD67998
 ------------
 The ADDICTION SEVERITY INDEX(#604) file, the PROGRESS NOTE POINT(#.53) 
 field now points to a non-existent file(#121).  
  
 Solution:
 ---------
 Since this data item is no longer used, it will be removed from the Data
 Dictionary with post-init routine YS501P82.
  
 ^DD(604,.53)   
  
 Routine:  YS501P82
  
  
 Problem (3):   HD115922
 ------------
 Previous Global Assessment of Function (GAF) scores sometimes do not
 show up under the GAF tab in the CPRS Encounter dialogue due to some 
 variables left over from a previous %DT call from the ORDERS tab.
  
 Solution:
 ---------
 The solution is to 'NEW' %DT (N %DT) in routine YSGAFAPI, thus removing
 any leftover variables from the %DT call.
  
 Routines:  YSGAFAPI
  
  
 Problem (4):   HD67360
 ------------
 A "hanging" node leftover from a previous restructuring of the ADDICTION
 SEVERITY INDEX (#604) file causes an error to occur when editing the file
 using FileMan.
  
 Solution:
 ---------
 Remove the node from the Data Dictionary using post-init routine YS501P82.
  
 ^DD(604,18.1)  
  
 Routine: YS501P82
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 The install time for this patch is less than 2 minutes. This patch can be
 installed when Mental Health users are on the system.
  
 NOTE: Kernel patches must be current on the target system to avoid
 problems loading and/or installing this patch.
  
  
   1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   2.  The patch has now been loaded into a Transport global on your
       system.  You now need to use KIDS to install the transport global.
  
   3.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   4.  Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   5.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
       If you wish to preserve a copy of the routines exported in this 
       patch prior to installation, you should use the 'Backup a Transport
       Global' option at this time.  You may also compare the routines in
       your production account to the routines in the patch by using the
       'Compare a Transport Global to Current System' option.
  
  
   6.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'YS*5.01*82'.
  
       If prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//,
       choose 'NO'.
  
       If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', choose 'NO'.
  
   7.  Post-init routine YS501P82 may be deleted after the successful 
       installation of this patch.
  
  
 ROUTINE SUMMARY:
 ================
 The following routines are included in this patch.  The second line of
 each of these routines now looks like:
   
            <tab> ;;5.01;MENTAL HEALTH;<patchlist>;Dec 30, 1994
   
  
                             Checksums
  
     Routine Name     Before Patch   After Patch    Patch List
     ------------     ------------   -----------    ------------
     YS501P82             N/A            629235     82
     YSGAFAPI            1400361        1403807     53,71,82
     YSSR               14139675       14664103     82
     YSSR1              12275159       12496225     82

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: YS501P82
    Before:       n/a  After:  B1110072  **82**
Routine Name: YSGAFAPI
    Before:  B2405045  After:  B2459639  **53,71,82**
Routine Name: YSSR
    Before: B24842336  After: B26878218  **82**
Routine Name: YSSR1
    Before: B19043313  After: B19626927  **82**

=============================================================================
User Information:
Entered By  : DOWNING,TODD                  Date Entered  : JAN 27, 2004
Completed By: ILUSTRISIMO,LUCY              Date Completed: APR 24, 2007
Released By : LECLAIR,RAY                   Date Released : APR 26, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
