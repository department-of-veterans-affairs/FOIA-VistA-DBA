KIDS Distribution saved on Mar 19, 2002@10:33:17
Beneficiary Travel V.1.0.
**KIDS**:DGBT 1.0^

**INSTALL NAME**
DGBT 1.0
"BLD",3623,0)
DGBT 1.0^BENEFICIARY TRAVEL^0^3020319^y
"BLD",3623,1,0)
^^2^2^3011107^^^
"BLD",3623,1,1,0)
Beneficiary Travel v1.0.  Breakout of Beneficiary Travel (DGBT) from
"BLD",3623,1,2,0)
Registration (DG) v5.3.
"BLD",3623,4,0)
^9.64PA^43.1^7
"BLD",3623,4,43,0)
43
"BLD",3623,4,43,2,0)
^9.641^43^1
"BLD",3623,4,43,2,43,0)
MAS PARAMETERS  (File-top level)
"BLD",3623,4,43,2,43,1,0)
^9.6411^722^3
"BLD",3623,4,43,2,43,1,720,0)
BT CERTIFYING OFFICIAL
"BLD",3623,4,43,2,43,1,721,0)
BT OTHER EXPENSES ASKED
"BLD",3623,4,43,2,43,1,722,0)
USE TEMPORARY ADDRESS
"BLD",3623,4,43,222)
y^n^p^^^^n
"BLD",3623,4,43.1,0)
43.1
"BLD",3623,4,43.1,2,0)
^9.641^43.1^1
"BLD",3623,4,43.1,2,43.1,0)
MAS EVENT RATES  (File-top level)
"BLD",3623,4,43.1,2,43.1,1,0)
^9.6411^30.05^5
"BLD",3623,4,43.1,2,43.1,1,30.01,0)
DEDUCTIBLE/VISIT
"BLD",3623,4,43.1,2,43.1,1,30.02,0)
DEDUCTIBLE/MONTH
"BLD",3623,4,43.1,2,43.1,1,30.03,0)
MILEAGE RATE
"BLD",3623,4,43.1,2,43.1,1,30.04,0)
FISCAL SYMBOLS
"BLD",3623,4,43.1,2,43.1,1,30.05,0)
C&P REVIEW VISIT MILEAGE RATE
"BLD",3623,4,43.1,222)
n^n^p^^^^n
"BLD",3623,4,392,0)
392
"BLD",3623,4,392,222)
y^n^f^^^^n
"BLD",3623,4,392.1,0)
392.1
"BLD",3623,4,392.1,222)
y^n^f^^^^n
"BLD",3623,4,392.2,0)
392.2
"BLD",3623,4,392.2,222)
y^n^f^^^^n
"BLD",3623,4,392.3,0)
392.3
"BLD",3623,4,392.3,222)
y^n^f^^^^n
"BLD",3623,4,392.4,0)
392.4
"BLD",3623,4,392.4,222)
y^n^f^^^^n
"BLD",3623,4,"APDD",43,43)

"BLD",3623,4,"APDD",43,43,720)

"BLD",3623,4,"APDD",43,43,721)

"BLD",3623,4,"APDD",43,43,722)

"BLD",3623,4,"APDD",43.1,43.1)

"BLD",3623,4,"APDD",43.1,43.1,30.01)

"BLD",3623,4,"APDD",43.1,43.1,30.02)

"BLD",3623,4,"APDD",43.1,43.1,30.03)

"BLD",3623,4,"APDD",43.1,43.1,30.04)

"BLD",3623,4,"APDD",43.1,43.1,30.05)

"BLD",3623,4,"B",43,43)

"BLD",3623,4,"B",43.1,43.1)

"BLD",3623,4,"B",392,392)

"BLD",3623,4,"B",392.1,392.1)

"BLD",3623,4,"B",392.2,392.2)

"BLD",3623,4,"B",392.3,392.3)

"BLD",3623,4,"B",392.4,392.4)

"BLD",3623,"INI")
PRE^DGBT1PRE
"BLD",3623,"INIT")
POST^DGBT1PRE
"BLD",3623,"KRN",0)
^9.67PA^19^17
"BLD",3623,"KRN",.4,0)
.4
"BLD",3623,"KRN",.4,"NM",0)
^9.68A^4^4
"BLD",3623,"KRN",.4,"NM",1,0)
DGBT CLAIM STATS    FILE #392^392^0
"BLD",3623,"KRN",.4,"NM",2,0)
DGBT MILES    FILE #392.1^392.1^0
"BLD",3623,"KRN",.4,"NM",3,0)
DGBT REMARKS    FILE #392.1^392.1^0
"BLD",3623,"KRN",.4,"NM",4,0)
DGBT ZIP    FILE #392.1^392.1^0
"BLD",3623,"KRN",.4,"NM","B","DGBT CLAIM STATS    FILE #392",1)

"BLD",3623,"KRN",.4,"NM","B","DGBT MILES    FILE #392.1",2)

"BLD",3623,"KRN",.4,"NM","B","DGBT REMARKS    FILE #392.1",3)

"BLD",3623,"KRN",.4,"NM","B","DGBT ZIP    FILE #392.1",4)

"BLD",3623,"KRN",.401,0)
.401
"BLD",3623,"KRN",.401,"NM",0)
^9.68A^1^1
"BLD",3623,"KRN",.401,"NM",1,0)
DGBT REMARKS    FILE #392.1^392.1^0
"BLD",3623,"KRN",.401,"NM","B","DGBT REMARKS    FILE #392.1",1)

"BLD",3623,"KRN",.402,0)
.402
"BLD",3623,"KRN",.402,"NM",0)
^9.68A^3^3
"BLD",3623,"KRN",.402,"NM",1,0)
DGBT MILES    FILE #392.1^392.1^0
"BLD",3623,"KRN",.402,"NM",2,0)
DGBT REMARKS    FILE #392.1^392.1^0
"BLD",3623,"KRN",.402,"NM",3,0)
DGBT ZIP    FILE #392.1^392.1^0
"BLD",3623,"KRN",.402,"NM","B","DGBT MILES    FILE #392.1",1)

"BLD",3623,"KRN",.402,"NM","B","DGBT REMARKS    FILE #392.1",2)

"BLD",3623,"KRN",.402,"NM","B","DGBT ZIP    FILE #392.1",3)

"BLD",3623,"KRN",.403,0)
.403
"BLD",3623,"KRN",.5,0)
.5
"BLD",3623,"KRN",.84,0)
.84
"BLD",3623,"KRN",3.6,0)
3.6
"BLD",3623,"KRN",3.8,0)
3.8
"BLD",3623,"KRN",9.2,0)
9.2
"BLD",3623,"KRN",9.8,0)
9.8
"BLD",3623,"KRN",9.8,"NM",0)
^9.68A^33^33
"BLD",3623,"KRN",9.8,"NM",1,0)
DGBT1^^0^B10689550
"BLD",3623,"KRN",9.8,"NM",2,0)
DGBT2^^0^B17843643
"BLD",3623,"KRN",9.8,"NM",3,0)
DGBTCD^^0^B19211264
"BLD",3623,"KRN",9.8,"NM",4,0)
DGBTCE^^0^B20988612
"BLD",3623,"KRN",9.8,"NM",5,0)
DGBTCE1^^0^B6397951
"BLD",3623,"KRN",9.8,"NM",6,0)
DGBTCR^^0^B17854946
"BLD",3623,"KRN",9.8,"NM",7,0)
DGBTCR1^^0^B10584894
"BLD",3623,"KRN",9.8,"NM",8,0)
DGBTCR2^^0^B16865334
"BLD",3623,"KRN",9.8,"NM",9,0)
DGBTDIST^^0^B14889738
"BLD",3623,"KRN",9.8,"NM",10,0)
DGBTDST1^^0^B2989306
"BLD",3623,"KRN",9.8,"NM",11,0)
DGBTE^^0^B13161061
"BLD",3623,"KRN",9.8,"NM",12,0)
DGBTE1^^0^B17151890
"BLD",3623,"KRN",9.8,"NM",13,0)
DGBTE1A^^0^B8968861
"BLD",3623,"KRN",9.8,"NM",14,0)
DGBTEE^^0^B12421263
"BLD",3623,"KRN",9.8,"NM",15,0)
DGBTEE1^^0^B18859076
"BLD",3623,"KRN",9.8,"NM",16,0)
DGBTEE2^^0^B10939988
"BLD",3623,"KRN",9.8,"NM",17,0)
DGBTEF^^0^B20460457
"BLD",3623,"KRN",9.8,"NM",18,0)
DGBTEF1^^0^B14967485
"BLD",3623,"KRN",9.8,"NM",19,0)
DGBTEND^^0^B15041844
"BLD",3623,"KRN",9.8,"NM",20,0)
DGBTOA1^^0^B18380253
"BLD",3623,"KRN",9.8,"NM",21,0)
DGBTOA2^^0^B15311794
"BLD",3623,"KRN",9.8,"NM",22,0)
DGBTOA3^^0^B20246422
"BLD",3623,"KRN",9.8,"NM",23,0)
DGBTOA4^^0^B20122791
"BLD",3623,"KRN",9.8,"NM",24,0)
DGBTOA5^^0^B6087120
"BLD",3623,"KRN",9.8,"NM",25,0)
DGBTOA6^^0^B19084304
"BLD",3623,"KRN",9.8,"NM",26,0)
DGBTR^^0^B11233940
"BLD",3623,"KRN",9.8,"NM",27,0)
DGBTSRCH^^0^B18522779
"BLD",3623,"KRN",9.8,"NM",28,0)
DGBTUTL^^0^B2136588
"BLD",3623,"KRN",9.8,"NM",29,0)
DGBTHELP^^0^B447182
"BLD",3623,"KRN",9.8,"NM",30,0)
DGBTUTQ^^0^B5465005
"BLD",3623,"KRN",9.8,"NM",31,0)
DGBTDIV^^0^B868550
"BLD",3623,"KRN",9.8,"NM",32,0)
DGBT1PRE^^0^B4392446
"BLD",3623,"KRN",9.8,"NM",33,0)
DGBT1POS^^0^B7486105
"BLD",3623,"KRN",9.8,"NM","B","DGBT1",1)

"BLD",3623,"KRN",9.8,"NM","B","DGBT1POS",33)

"BLD",3623,"KRN",9.8,"NM","B","DGBT1PRE",32)

"BLD",3623,"KRN",9.8,"NM","B","DGBT2",2)

"BLD",3623,"KRN",9.8,"NM","B","DGBTCD",3)

"BLD",3623,"KRN",9.8,"NM","B","DGBTCE",4)

"BLD",3623,"KRN",9.8,"NM","B","DGBTCE1",5)

"BLD",3623,"KRN",9.8,"NM","B","DGBTCR",6)

"BLD",3623,"KRN",9.8,"NM","B","DGBTCR1",7)

"BLD",3623,"KRN",9.8,"NM","B","DGBTCR2",8)

"BLD",3623,"KRN",9.8,"NM","B","DGBTDIST",9)

"BLD",3623,"KRN",9.8,"NM","B","DGBTDIV",31)

"BLD",3623,"KRN",9.8,"NM","B","DGBTDST1",10)

"BLD",3623,"KRN",9.8,"NM","B","DGBTE",11)

"BLD",3623,"KRN",9.8,"NM","B","DGBTE1",12)

"BLD",3623,"KRN",9.8,"NM","B","DGBTE1A",13)

"BLD",3623,"KRN",9.8,"NM","B","DGBTEE",14)

"BLD",3623,"KRN",9.8,"NM","B","DGBTEE1",15)

"BLD",3623,"KRN",9.8,"NM","B","DGBTEE2",16)

"BLD",3623,"KRN",9.8,"NM","B","DGBTEF",17)

"BLD",3623,"KRN",9.8,"NM","B","DGBTEF1",18)

"BLD",3623,"KRN",9.8,"NM","B","DGBTEND",19)

"BLD",3623,"KRN",9.8,"NM","B","DGBTHELP",29)

"BLD",3623,"KRN",9.8,"NM","B","DGBTOA1",20)

"BLD",3623,"KRN",9.8,"NM","B","DGBTOA2",21)

"BLD",3623,"KRN",9.8,"NM","B","DGBTOA3",22)

"BLD",3623,"KRN",9.8,"NM","B","DGBTOA4",23)

"BLD",3623,"KRN",9.8,"NM","B","DGBTOA5",24)

"BLD",3623,"KRN",9.8,"NM","B","DGBTOA6",25)

"BLD",3623,"KRN",9.8,"NM","B","DGBTR",26)

"BLD",3623,"KRN",9.8,"NM","B","DGBTSRCH",27)

"BLD",3623,"KRN",9.8,"NM","B","DGBTUTL",28)

"BLD",3623,"KRN",9.8,"NM","B","DGBTUTQ",30)

"BLD",3623,"KRN",19,0)
19
"BLD",3623,"KRN",19,"NM",0)
^9.68A^9^9
"BLD",3623,"KRN",19,"NM",1,0)
DGBT BENE TRAVEL ACCOUNT^^0
"BLD",3623,"KRN",19,"NM",2,0)
DGBT BENE TRAVEL CERTIFICATION^^0
"BLD",3623,"KRN",19,"NM",3,0)
DGBT BENE TRAVEL DISTANCES^^0
"BLD",3623,"KRN",19,"NM",4,0)
DGBT BENE TRAVEL MENU^^0
"BLD",3623,"KRN",19,"NM",5,0)
DGBT BENE TRAVEL RATES^^0
"BLD",3623,"KRN",19,"NM",6,0)
DGBT BENE TRAVEL REPORT^^0
"BLD",3623,"KRN",19,"NM",7,0)
DGBT BENE TRAVEL REPRINT^^0
"BLD",3623,"KRN",19,"NM",8,0)
DGBT BENE TRAVEL SCREEN^^0
"BLD",3623,"KRN",19,"NM",9,0)
DGBT BENE TRAVEL VIEW^^0
"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL ACCOUNT",1)

"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL CERTIFICATION",2)

"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL DISTANCES",3)

"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL MENU",4)

"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL RATES",5)

"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL REPORT",6)

"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL REPRINT",7)

"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL SCREEN",8)

"BLD",3623,"KRN",19,"NM","B","DGBT BENE TRAVEL VIEW",9)

"BLD",3623,"KRN",19.1,0)
19.1
"BLD",3623,"KRN",19.1,"NM",0)
^9.68A^1^1
"BLD",3623,"KRN",19.1,"NM",1,0)
DGBT SUPERVISOR^^0
"BLD",3623,"KRN",19.1,"NM","B","DGBT SUPERVISOR",1)

"BLD",3623,"KRN",101,0)
101
"BLD",3623,"KRN",409.61,0)
409.61
"BLD",3623,"KRN",771,0)
771
"BLD",3623,"KRN",870,0)
870
"BLD",3623,"KRN",8994,0)
8994
"BLD",3623,"KRN","B",.4,.4)

"BLD",3623,"KRN","B",.401,.401)

"BLD",3623,"KRN","B",.402,.402)

"BLD",3623,"KRN","B",.403,.403)

"BLD",3623,"KRN","B",.5,.5)

"BLD",3623,"KRN","B",.84,.84)

"BLD",3623,"KRN","B",3.6,3.6)

"BLD",3623,"KRN","B",3.8,3.8)

"BLD",3623,"KRN","B",9.2,9.2)

"BLD",3623,"KRN","B",9.8,9.8)

"BLD",3623,"KRN","B",19,19)

"BLD",3623,"KRN","B",19.1,19.1)

"BLD",3623,"KRN","B",101,101)

"BLD",3623,"KRN","B",409.61,409.61)

"BLD",3623,"KRN","B",771,771)

"BLD",3623,"KRN","B",870,870)

"BLD",3623,"KRN","B",8994,8994)

"BLD",3623,"PRE")
DGBT1PRE
"BLD",3623,"QUES",0)
^9.62^^
"FIA",43)
MAS PARAMETERS
"FIA",43,0)
^DG(43,
"FIA",43,0,0)
43
"FIA",43,0,1)
y^n^p^^^^n
"FIA",43,0,10)

"FIA",43,0,11)

"FIA",43,0,"RLRO")

"FIA",43,0,"VR")
1.0^DGBT
"FIA",43,43)
1
"FIA",43,43,720)

"FIA",43,43,721)

"FIA",43,43,722)

"FIA",43.1)
MAS EVENT RATES
"FIA",43.1,0)
^DG(43.1,
"FIA",43.1,0,0)
43.1D
"FIA",43.1,0,1)
n^n^p^^^^n
"FIA",43.1,0,10)

"FIA",43.1,0,11)

"FIA",43.1,0,"RLRO")

"FIA",43.1,0,"VR")
1.0^DGBT
"FIA",43.1,43.1)
1
"FIA",43.1,43.1,30.01)

"FIA",43.1,43.1,30.02)

"FIA",43.1,43.1,30.03)

"FIA",43.1,43.1,30.04)

"FIA",43.1,43.1,30.05)

"FIA",392)
BENEFICIARY TRAVEL CLAIM
"FIA",392,0)
^DGBT(392,
"FIA",392,0,0)
392ID
"FIA",392,0,1)
y^n^f^^^^n
"FIA",392,0,10)

"FIA",392,0,11)

"FIA",392,0,"RLRO")

"FIA",392,0,"VR")
1.0^DGBT
"FIA",392,392)
0
"FIA",392.1)
BENEFICIARY TRAVEL DISTANCE
"FIA",392.1,0)
^DGBT(392.1,
"FIA",392.1,0,0)
392.1I
"FIA",392.1,0,1)
y^n^f^^^^n
"FIA",392.1,0,10)

"FIA",392.1,0,11)

"FIA",392.1,0,"RLRO")

"FIA",392.1,0,"VR")
1.0^DGBT
"FIA",392.1,392.1)
0
"FIA",392.1,392.1001)
0
"FIA",392.2)
BENEFICIARY TRAVEL CERTIFICATION
"FIA",392.2,0)
^DGBT(392.2,
"FIA",392.2,0,0)
392.2ID
"FIA",392.2,0,1)
y^n^f^^^^n
"FIA",392.2,0,10)

"FIA",392.2,0,11)

"FIA",392.2,0,"RLRO")

"FIA",392.2,0,"VR")
1.0^DGBT
"FIA",392.2,392.2)
0
"FIA",392.3)
BENEFICIARY TRAVEL ACCOUNT
"FIA",392.3,0)
^DGBT(392.3,
"FIA",392.3,0,0)
392.3I
"FIA",392.3,0,1)
y^n^f^^^^n
"FIA",392.3,0,10)

"FIA",392.3,0,11)

"FIA",392.3,0,"RLRO")

"FIA",392.3,0,"VR")
1.0^DGBT
"FIA",392.3,392.3)
0
"FIA",392.4)
BENEFICIARY TRAVEL MODE OF TRANSPORTATION
"FIA",392.4,0)
^DGBT(392.4,
"FIA",392.4,0,0)
392.4O
"FIA",392.4,0,1)
y^n^f^^^^n
"FIA",392.4,0,10)

"FIA",392.4,0,11)

"FIA",392.4,0,"RLRO")

"FIA",392.4,0,"VR")
1.0^DGBT
"FIA",392.4,392.4)
0
"INI")
PRE^DGBT1PRE
"INIT")
POST^DGBT1PRE
"KRN",.4,1046,-1)
0^2
"KRN",.4,1046,0)
DGBT MILES^2930209.1457^@^392.1^^@^2980707
"KRN",.4,1046,"F",2)
.01;S;L20~2;L15;C24~4;"ZIPCODE";C44~3;C52~100,.01;"DIVISION";L15;C8~100,2;"MILEAGE";C25~
"KRN",.4,1046,"H")
BENEFICIARY TRAVEL DISTANCE LIST
"KRN",.4,1047,-1)
0^3
"KRN",.4,1047,0)
DGBT REMARKS^2930209.1452^@^392.1^^@^2971211
"KRN",.4,1047,"F",2)
.01;"CITY";S;L20~2;L15;C24~4;"ZIPCODE";C44~100,.01;C8~100,5;X;C30~
"KRN",.4,1047,"H")
BENEFICIARY TRAVEL DISTANCE LIST
"KRN",.4,1048,-1)
0^4
"KRN",.4,1048,0)
DGBT ZIP^2930714.1141^@^392.1^^@^2971211
"KRN",.4,1048,"F",2)
.01;L20~2;L15;C24~4;"ZIP CODE";C44~
"KRN",.4,1048,"H")
BENEFICIARY TRAVEL DISTANCE LIST
"KRN",.4,1050,-1)
0^1
"KRN",.4,1050,0)
DGBT CLAIM STATS^2930616.1128^@^392^^@^2980122
"KRN",.4,1050,"DCL","392^10")
&
"KRN",.4,1050,"DCL","392^2")
!
"KRN",.4,1050,"DCL","392^33")
&
"KRN",.4,1050,"DCL","392^9")
&
"KRN",.4,1050,"F",1)
2;N;C1;L21~-2,^DPT(^^S I(0,0)=D0 S DIP(1)=$S($D(^DGBT(392,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;"2:"~-2,.363;C23;L13;N;"PATIENT ID"~
"KRN",.4,1050,"F",2)
.01;L18~33~9;"AMOUNT DEDUCT"~10~51;L30~
"KRN",.4,1050,"H")
Claim Statistics
"KRN",.401,796,-1)
0^1
"KRN",.401,796,0)
DGBT REMARKS^2930326.1515^@^392.1^^@^2971211
"KRN",.401,796,2,0)
^.4014^2^2
"KRN",.401,796,2,1,0)
392.1001^^ADDITIONAL INFORMATION="YES"^@"@B^;L1^^^^^4
"KRN",.401,796,2,1,1,0)
^.40141^1^1
"KRN",.401,796,2,1,1,1,0)
392.1^1
"KRN",.401,796,2,1,1,"B",392.1,1)

"KRN",.401,796,2,1,3,0)
^.401419^1^1
"KRN",.401,796,2,1,3,1,0)
OVF1^9.2
"KRN",.401,796,2,1,3,1,"OVF0")
S Y(2)=$C(59)_$S($D(^DD(392.1001,4,0)):$P(^(0),U,3),1:""),Y(1)=$S($D(^DGBT(392.1,D0,1,D1,0)):^(0),1:"") S X=$P($P(Y(2),$C(59)_$P(Y(1),U,4)_":",2),$C(59),1)
"KRN",.401,796,2,1,3,"B","OVF1",1)

"KRN",.401,796,2,1,"CM")
X DPP(1,"OVF1",9.2) S X=X="YES" I D1>0 S DISX(1)=X
"KRN",.401,796,2,1,"F")
0
"KRN",.401,796,2,1,"GET")
X DPP(1,"OVF1",9.2) S X=X="YES" I D1>0 S DISX(1)=X
"KRN",.401,796,2,1,"QCON")
I DISX(1)
"KRN",.401,796,2,1,"T")
1
"KRN",.401,796,2,1,"TXT")
ADDITIONAL INFORMATION=""YES""
"KRN",.401,796,2,2,0)
392.1001^^REMARKS=""^@"@B^;L1^^^^^4
"KRN",.401,796,2,2,1,0)
^.40141^1^1
"KRN",.401,796,2,2,1,1,0)
392.1^1
"KRN",.401,796,2,2,1,"B",392.1,1)

"KRN",.401,796,2,2,"CM")
S Y(1)=$S($D(^DGBT(392.1,D0,1,D1,0)):^(0),1:"") S X=$P(Y(1),U,5)="" I D1>0 S DISX(2)=X
"KRN",.401,796,2,2,"F")
0
"KRN",.401,796,2,2,"GET")
S Y(1)=$S($D(^DGBT(392.1,D0,1,D1,0)):^(0),1:"") S X=$P(Y(1),U,5)="" I D1>0 S DISX(2)=X
"KRN",.401,796,2,2,"QCON")
I DISX(2)
"KRN",.401,796,2,2,"T")
1
"KRN",.401,796,2,2,"TXT")
REMARKS=""""
"KRN",.401,796,2,"B",392.1001,1)

"KRN",.401,796,2,"B",392.1001,2)

"KRN",.402,1173,-1)
0^1
"KRN",.402,1173,0)
DGBT MILES^2930209.1503^@^392.1^^@^2930423
"KRN",.402,1173,"DR",1,392.1)
3;100;
"KRN",.402,1173,"DR",2,392.1001)
2;
"KRN",.402,1174,-1)
0^2
"KRN",.402,1174,0)
DGBT REMARKS^2930209.1504^@^392.1^^@^2930209
"KRN",.402,1174,"DR",1,392.1)
100;
"KRN",.402,1174,"DR",2,392.1001)
4;5;
"KRN",.402,1175,-1)
0^3
"KRN",.402,1175,0)
DGBT ZIP^2930209.1504^@^392.1^^@^2971211
"KRN",.402,1175,"DR",1,392.1)
4;
"KRN",19,1266,-1)
0^5
"KRN",19,1266,0)
DGBT BENE TRAVEL RATES^Parameter Rates Enter/Edit^^R^^DGBT SUPERVISOR^^^^^^BENEFICIARY TRAVEL
"KRN",19,1266,1,0)
^^9^9^3011001^
"KRN",19,1266,1,1,0)
This is an enter/edit option for the parameters in Beneficiary Travel.
"KRN",19,1266,1,2,0)
The name of the BT CERTIFYING OFFICIAL is to be used if the site wants
"KRN",19,1266,1,3,0)
a specific name printed on every form 70-3542d, or if left blank, the
"KRN",19,1266,1,4,0)
name of the user who prints the form will be followed by DESIGNEE OF
"KRN",19,1266,1,5,0)
CERTIFYING OFFICIAL.  BT OTHER EXPENSES ASKED is used to determine whether
"KRN",19,1266,1,6,0)
the prompts MEALS & LODGING and FERRY, BRIDGES, ETC. will be asked in the
"KRN",19,1266,1,7,0)
Beneficiary Travel Claim Enter/Edit Option.  Monetary rates
"KRN",19,1266,1,8,0)
DEDUCTIBLE/VISIT, DEDUCTIBLE/MONTH, MILEAGE RATE, C&P REVISIT MILEAGE RATE
"KRN",19,1266,1,9,0)
are also set up in this option.
"KRN",19,1266,25)
RATES^DGBTEF1
"KRN",19,1266,"U")
PARAMETER RATES ENTER/EDIT
"KRN",19,1267,-1)
0^3
"KRN",19,1267,0)
DGBT BENE TRAVEL DISTANCES^Distance Enter/Edit^^R^^DGBT SUPERVISOR^^^^^^BENEFICIARY TRAVEL
"KRN",19,1267,1,0)
^^4^4^2930217^^^^
"KRN",19,1267,1,1,0)
This option allows you to enter/edit information in the Beneficiary
"KRN",19,1267,1,2,0)
Travel Distance File.  The information collected consists of the name of
"KRN",19,1267,1,3,0)
CITY or TOWN, STATE, MILEAGE/ONE WAY, and ZIP.  The MILEAGE/ONE WAY 
"KRN",19,1267,1,4,0)
can have a different value for each division entered.
"KRN",19,1267,25)
START^DGBTDIST
"KRN",19,1267,"U")
DISTANCE ENTER/EDIT
"KRN",19,1268,-1)
0^4
"KRN",19,1268,0)
DGBT BENE TRAVEL MENU^Beneficiary Travel Menu^^M^^^^^^^^BENEFICIARY TRAVEL
"KRN",19,1268,1,0)
^^9^9^2930614^^
"KRN",19,1268,1,1,0)
This is a menu of the options used by the Beneficiary Travel Clerk/Supervisor.
"KRN",19,1268,1,2,0)
    Bene Travel Account Enter/Edit
"KRN",19,1268,1,3,0)
    Claim Enter/Edit
"KRN",19,1268,1,4,0)
    Distance Enter/Edit
"KRN",19,1268,1,5,0)
    Income Certification Eligibility
"KRN",19,1268,1,6,0)
    Parameter Rates Enter/Edit
"KRN",19,1268,1,7,0)
    Report of Claim Amounts
"KRN",19,1268,1,8,0)
    Reprint of 07-3542d form
"KRN",19,1268,1,9,0)
    View of Claim
"KRN",19,1268,10,0)
^19.01IP^10^10
"KRN",19,1268,10,1,0)
1267^
"KRN",19,1268,10,1,"^")
DGBT BENE TRAVEL DISTANCES
"KRN",19,1268,10,2,0)
1266^
"KRN",19,1268,10,2,"^")
DGBT BENE TRAVEL RATES
"KRN",19,1268,10,4,0)
1270^
"KRN",19,1268,10,4,"^")
DGBT BENE TRAVEL SCREEN
"KRN",19,1268,10,5,0)
1271^
"KRN",19,1268,10,5,"^")
DGBT BENE TRAVEL REPORT
"KRN",19,1268,10,6,0)
1272^
"KRN",19,1268,10,6,"^")
DGBT BENE TRAVEL CERTIFICATION
"KRN",19,1268,10,8,0)
1283^
"KRN",19,1268,10,8,"^")
DGBT BENE TRAVEL REPRINT
"KRN",19,1268,10,9,0)
1282^
"KRN",19,1268,10,9,"^")
DGBT BENE TRAVEL VIEW
"KRN",19,1268,10,10,0)
2701^
"KRN",19,1268,10,10,"^")
DGBT BENE TRAVEL ACCOUNT
"KRN",19,1268,99)
58777,59304
"KRN",19,1268,"U")
BENEFICIARY TRAVEL MENU
"KRN",19,1270,-1)
0^8
"KRN",19,1270,0)
DGBT BENE TRAVEL SCREEN^Claim Enter/Edit^^R^^^^^^^^BENEFICIARY TRAVEL
"KRN",19,1270,1,0)
^^8^8^2930614^
"KRN",19,1270,1,1,0)
This is the enter/edit option for Beneficiary Travel Claims.
"KRN",19,1270,1,2,0)
Two informational screens are displayed prior to entering/editing
"KRN",19,1270,1,3,0)
claim information.  Based on the information on these screens,
"KRN",19,1270,1,4,0)
the Beneficiary Travel Clerk should be able to determine the
"KRN",19,1270,1,5,0)
beneficiary's entitlement for travel reimbursement.  This option
"KRN",19,1270,1,6,0)
will determine whether the deductible should be applied and how much
"KRN",19,1270,1,7,0)
the deductible and amount payable should be based on the information
"KRN",19,1270,1,8,0)
entered.
"KRN",19,1270,25)
DGBTE
"KRN",19,1270,99)
55761,55967
"KRN",19,1270,"U")
CLAIM ENTER/EDIT
"KRN",19,1271,-1)
0^6
"KRN",19,1271,0)
DGBT BENE TRAVEL REPORT^Report of Claim Amounts^^R^^^^^^^^BENEFICIARY TRAVEL
"KRN",19,1271,1,0)
^^9^9^2930420^^^^
"KRN",19,1271,1,1,0)
This option can be used to print a wide variety of statistical reports.
"KRN",19,1271,1,2,0)
They can be sorted by Patient, Account, Carrier or Account Type.
"KRN",19,1271,1,3,0)
It generates a listing of totals for Beneficiary Travel for a 
"KRN",19,1271,1,4,0)
specified date range.  The report will be broken down by divisions
"KRN",19,1271,1,5,0)
and each division will be further broken down by Account,
"KRN",19,1271,1,6,0)
Patient, or Carrier (vendor).  Each of these reports will supply
"KRN",19,1271,1,7,0)
individual totals as well as division and grand totals.  A choice
"KRN",19,1271,1,8,0)
of displaying the full report (all necessary information) or just
"KRN",19,1271,1,9,0)
totals can be made by the user.
"KRN",19,1271,25)
START^DGBTOA5
"KRN",19,1271,"U")
REPORT OF CLAIM AMOUNTS
"KRN",19,1272,-1)
0^2
"KRN",19,1272,0)
DGBT BENE TRAVEL CERTIFICATION^Income Certification Eligibility^^R^^^^^^^^BENEFICIARY TRAVEL
"KRN",19,1272,1,0)
^^5^5^2890511^^^^
"KRN",19,1272,1,1,0)
This option is used to enter/edit income certification information.  
"KRN",19,1272,1,2,0)
It allows for the entering and editing of DATE CERTIFIED, ELIGIBLE,
"KRN",19,1272,1,3,0)
and AMOUNT CERTIFIED (the previous year's income as reported by the 
"KRN",19,1272,1,4,0)
patient).  This income information is usually done annually and
"KRN",19,1272,1,5,0)
does not replace full certification.
"KRN",19,1272,25)
CERT^DGBTEF
"KRN",19,1272,"U")
INCOME CERTIFICATION ELIGIBILI
"KRN",19,1282,-1)
0^9
"KRN",19,1282,0)
DGBT BENE TRAVEL VIEW^View of Claim^^R^^^^^^^^BENEFICIARY TRAVEL
"KRN",19,1282,1,0)
^^3^3^2901022^^^^
"KRN",19,1282,1,1,0)
This option allows the user to view a previously entered Beneficiary 
"KRN",19,1282,1,2,0)
Travel Claim for a specific patient and claim date.  
"KRN",19,1282,1,3,0)
No entering or editing of claims will take place under this option.  
"KRN",19,1282,25)
DISPLAY^DGBTR
"KRN",19,1282,"U")
VIEW OF CLAIM
"KRN",19,1283,-1)
0^7
"KRN",19,1283,0)
DGBT BENE TRAVEL REPRINT^Reprint of 70-3542d form^^R^^^^^^^^BENEFICIARY TRAVEL
"KRN",19,1283,1,0)
^^2^2^2890531^^^^
"KRN",19,1283,1,1,0)
This option can be used to reprint the Beneficiary Travel form (70-3542d),
"KRN",19,1283,1,2,0)
"Voucher for Cash Reimbursement of Beneficiary Travel Expenses".
"KRN",19,1283,25)
REPRINT^DGBTR
"KRN",19,1283,"U")
REPRINT OF 70-3542D FORM
"KRN",19,2701,-1)
0^1
"KRN",19,2701,0)
DGBT BENE TRAVEL ACCOUNT^Bene Travel Account file Enter/Edit^^R^^DGBT SUPERVISOR^^^^^^BENEFICIARY TRAVEL
"KRN",19,2701,1,0)
^^3^3^2931105^^
"KRN",19,2701,1,1,0)
Allows supervisor to make entries or edits to the account file.
"KRN",19,2701,1,2,0)
Entries/edits should only be made to the file when directed
"KRN",19,2701,1,3,0)
through a patch.
"KRN",19,2701,25)
NWACT^DGBTEF1
"KRN",19,2701,"U")
BENE TRAVEL ACCOUNT FILE ENTER
"KRN",19.1,72,-1)
0^1
"KRN",19.1,72,0)
DGBT SUPERVISOR
"KRN",19.1,72,1,0)
^^2^2^2910417^^^^
"KRN",19.1,72,1,1,0)
This key is to be given to MAS Supervisors to restrict access to some
"KRN",19.1,72,1,2,0)
of the Beneficiary Travel Options.
"MBREQ")
0
"ORD",3,19.1)
19.1;3;1;;KEY^XPDTA1;;;;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",6,.401)
.401;6;;;EDEOUT^DIFROMSO(.401,DA,"",XPDA);FPRE^DIFROMSI(.401,"",XPDA);EPRE^DIFROMSI(.401,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.401,DA,"",XPDA);DEL^DIFROMSK(.401,"",%)
"ORD",6,.401,0)
SORT TEMPLATE
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",154,-1)
1^1
"PKG",154,0)
BENEFICIARY TRAVEL^DGBT^Beneficiary Travel
"PKG",154,5)
TROY
"PKG",154,22,0)
^9.49I^1^1
"PKG",154,22,1,0)
1.0^3020319^3011204^100884
"PKG",154,22,1,1,0)
^^2^2^3020319
"PKG",154,22,1,1,1,0)
Beneficiary Travel v1.0.  Breakout of Beneficiary Travel (DGBT) from
"PKG",154,22,1,1,2,0)
Registration (DG) v5.3.
"PKG",154,"VERSION")
1.0
"PRE")
DGBT1PRE
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
33
"RTN","DGBT1")
0^1^B10689550
"RTN","DGBT1",1,0)
DGBT1 ;ALB/SCK - BENEFICIARY TRAVEL DISPLAY SCREEN 1; 12/15/92  1/8/93 4/1/93
"RTN","DGBT1",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBT1",3,0)
 Q
"RTN","DGBT1",4,0)
SCREEN ;  clear screen and write headers
"RTN","DGBT1",5,0)
 W @IOF
"RTN","DGBT1",6,0)
 W !?18,"Beneficiary Travel Claim Information <Screen 1>"
"RTN","DGBT1",7,0)
 W !!?2,"Claim Date: ",DGBTDTE
"RTN","DGBT1",8,0)
 D PID^VADPT6 W !!?8,"Name: ",VADM(1),?40,"PT ID: ",VA("PID"),?64,"DOB: ",$P(VADM(3),"^",2)
"RTN","DGBT1",9,0)
 W !!?5,"Address: ",VAPA(1) W:VAPA(2)]"" !?14,VAPA(2) W:VAPA(3)]"" !?14,VAPA(3) W !?14,VAPA(4),$S(VAPA(4)]"":", "_$P(VAPA(5),"^",2)_"  "_$P(VAPA(11),U,2),1:"UNSPECIFIED")
"RTN","DGBT1",10,0)
SETVAR  ;  if new claim, move in current info for elig, sc%
"RTN","DGBT1",11,0)
 I 'CHZFLG S DGBTELG=VAEL(1),DGBTCSC=VAEL(3)
"RTN","DGBT1",12,0)
 I +DGBTELG=3,'$E(DGBTCSC)=1 S DGBTCSC=1
"RTN","DGBT1",13,0)
 W !!," Eligibility: ",$P(DGBTELG,"^",2) W:DGBTCSC ?45,"SC%: ",$P(DGBTCSC,"^",2)
"RTN","DGBT1",14,0)
 I $O(VAEL(1,0))'="" W !," Other Elig.: " F I=0:0 S I=$O(VAEL(1,I)) Q:'I  W ?14,$P(VAEL(1,I),"^",2),!
"RTN","DGBT1",15,0)
SC ;  service connected status/information
"RTN","DGBT1",16,0)
 I DGBTCSC&($P(DGBTCSC,"^",2)'>29) W !!,"Disabilities:" S I3="" F I=0:0 S I=$O(^DPT(DFN,.372,I)) Q:'I  S I1=^(I,0),I2=$S($D(^DIC(31,+I1,0)):$P(^(0),"^",1)_" ("_+$P(I1,"^",2)_"%-"_$S($P(I1,"^",3):"SC",1:"NSC")_")",1:""),I3=I1 W ?14,I2,!
"RTN","DGBT1",17,0)
INCOME ;  income and eligibility information
"RTN","DGBT1",18,0)
 N DGBTIFL S DGBTIFL=$P(DGBTINC,U,2)
"RTN","DGBT1",19,0)
 W !!?2,"Income: ",$P(DGBTINC,U),?40,"Source of Income:  ",$S(DGBTIFL="M":"MEANS TEST",DGBTIFL="C":"COPAY TEST",DGBTIFL="I":"INCOME SCREENING",DGBTIFL="V":"VA CHECK",1:"")
"RTN","DGBT1",20,0)
 W !?2,"No. of Dependents: ",DGBTDEP
"RTN","DGBT1",21,0)
 I DGBTMTS]"" W:$P(DGBTMTS,"^")'="N" ?40,"MT Status: ",$S($P(DGBTMTS,"^")="R":"REQUIRED",$P(DGBTMTS,"^")="P":$P($P(DGBTMTS,"^",2)," "),DGBTMTS=U:" NOT APPLICABLE",1:$P(DGBTMTS,"^",2))
"RTN","DGBT1",22,0)
 W:$P(DGBTMTS,"^")="P" !?68,$P($P(DGBTMTS,"^",2)," ",2)
"RTN","DGBT1",23,0)
 I $P(DGBTMTS,"^")="N" W !!?20,"MEANS TEST ",$P(DGBTMTS,"^",2)
"RTN","DGBT1",24,0)
 ;
"RTN","DGBT1",25,0)
 W !!?2,"BT Income: ",$S($D(DGBTCA):DGBTCA,1:"NOT RECORDED") W:$D(DGBTCE) ?25,"Certified Eligible: ",$S(DGBTCE:"YES",1:"NO"),?53,"Date Certified: ",$S($D(DGBTCD):DGBTCD,1:"NOT RECORDED")
"RTN","DGBT1",26,0)
 I $D(DGBTCE) I DGBTCE'=1 W *7,*7,!!?8,"* * * NOTE * * PATIENT HAS BEEN CERTIFIED INELIGIBLE BASED ON INCOME"
"RTN","DGBT1",27,0)
 S DGBTINFL="" I $D(DGBTINC),$D(DGBTCA),$P(DGBTINC,U)'=DGBTCA,$P(DGBTMTS,"^")'="N" S DGBTINFL=" * * * * Discrepancy exists in incomes reported, please verify * * * *" W !!?5,DGBTINFL
"RTN","DGBT1",28,0)
 F I=$Y:1:20 W !
"RTN","DGBT1",29,0)
QUIT ;
"RTN","DGBT1",30,0)
 K I1,I2,I3
"RTN","DGBT1",31,0)
 Q
"RTN","DGBT1POS")
0^33^B7486105
"RTN","DGBT1POS",1,0)
DGBT1POS ;ALB/LEB - Post-install of DGBT v1.0 ;[ 11/21/01 13:20 pm]
"RTN","DGBT1POS",2,0)
 ;;1.0;Beneficiary Travel;;Jun 25,  2001
"RTN","DGBT1POS",3,0)
 ;
"RTN","DGBT1POS",4,0)
 ; Update PACKAGE (#2) File fields not updated by the KIDS install.
"RTN","DGBT1POS",5,0)
 ; Used for documentation purposes.
"RTN","DGBT1POS",6,0)
 ;
"RTN","DGBT1POS",7,0)
 D BMES^XPDUTL(" ")
"RTN","DGBT1POS",8,0)
 D MES^XPDUTL("   Updating PACKAGE File...")
"RTN","DGBT1POS",9,0)
 ;
"RTN","DGBT1POS",10,0)
PKG ; Retrieve 'DGBT' Package name
"RTN","DGBT1POS",11,0)
 ; Get Package IEN
"RTN","DGBT1POS",12,0)
 D FIND^DIC(9.4,"","@;1","P","DGBT","","C","","","DGBTARRY")
"RTN","DGBT1POS",13,0)
 S (DGBTI,DGBTIEN)=0
"RTN","DGBT1POS",14,0)
 F  S DGBTI=$O(DGBTARRY("DILIST",DGBTI)) Q:'DGBTI  D
"RTN","DGBT1POS",15,0)
 . Q:$P($G(DGBTARRY("DILIST",DGBTI,0)),"^",2)'="DGBT"
"RTN","DGBT1POS",16,0)
 . S DGBTIEN=$P($G(DGBTARRY("DILIST",DGBTI,0)),"^",1)
"RTN","DGBT1POS",17,0)
 I 'DGBTIEN D  G EXIT
"RTN","DGBT1POS",18,0)
 . D BMES^XPDUTL(" ")
"RTN","DGBT1POS",19,0)
 . D MES^XPDUTL("  No PACKAGE entry defined - Cannot update!")
"RTN","DGBT1POS",20,0)
 ;
"RTN","DGBT1POS",21,0)
UPD ; - Update fields not updated by the KIDS install.
"RTN","DGBT1POS",22,0)
 ; fields:
"RTN","DGBT1POS",23,0)
 ;       Short Description (#2); required field
"RTN","DGBT1POS",24,0)
 ;       Description (#3)      ; word processing field
"RTN","DGBT1POS",25,0)
 ;       File (#6)             ; multiple
"RTN","DGBT1POS",26,0)
 ;         Fields              ; multiple
"RTN","DGBT1POS",27,0)
 ;
"RTN","DGBT1POS",28,0)
 ; - Replace Short Description (#2) field.
"RTN","DGBT1POS",29,0)
 K FDATA S FDATA(9.4,DGBTIEN_",",2)="Beneficiary Travel"
"RTN","DGBT1POS",30,0)
 D FILE^DIE("E","FDATA","ERR")
"RTN","DGBT1POS",31,0)
 D BMES^XPDUTL(" ")
"RTN","DGBT1POS",32,0)
 D MES^XPDUTL("     SHORT DESCRIPTION field complete.")
"RTN","DGBT1POS",33,0)
 K FDATA,ERR
"RTN","DGBT1POS",34,0)
 ;
"RTN","DGBT1POS",35,0)
 ; - Replace Description (#3) field. Leave blank.
"RTN","DGBT1POS",36,0)
 D WP^DIE(9.4,DGBTIEN_",",3,"K","")
"RTN","DGBT1POS",37,0)
 D BMES^XPDUTL(" ")
"RTN","DGBT1POS",38,0)
 D MES^XPDUTL("     DESCRIPTION field complete.")
"RTN","DGBT1POS",39,0)
 ;
"RTN","DGBT1POS",40,0)
FILE ; - Replace File (#9.44) field.
"RTN","DGBT1POS",41,0)
 ;   first remove (delete) existing fields.
"RTN","DGBT1POS",42,0)
 N DIC K DGBTARRY
"RTN","DGBT1POS",43,0)
 D LIST^DIC(9.44,","_DGBTIEN_",","@;.01","P","","","","","","","DGBTARRY")
"RTN","DGBT1POS",44,0)
 S (DGBTII,DGBTFIL)=0
"RTN","DGBT1POS",45,0)
 F  S DGBTII=$O(DGBTARRY("DILIST",DGBTII)) Q:'DGBTII  D
"RTN","DGBT1POS",46,0)
 . S DGBTFIEN=$P(DGBTARRY("DILIST",DGBTII,0),"^",1)
"RTN","DGBT1POS",47,0)
 . S DIE="^DIC(9.4,",DA(1)=DGBTIEN,DIE=DIE_DA(1)_",4,"
"RTN","DGBT1POS",48,0)
 . S DA=+DGBTFIEN,DR=".01///@" D ^DIE
"RTN","DGBT1POS",49,0)
 ;   after old entries deleted, add current File entries
"RTN","DGBT1POS",50,0)
 F X="43","43.1","392","392.1","392.2","392.3","392.4" D
"RTN","DGBT1POS",51,0)
 . S DIC="^DIC(9.4,",DA(1)=DGBTIEN
"RTN","DGBT1POS",52,0)
 . S DIC=DIC_DA(1)_",4,",DIC(0)="L",DIC("P")=$P(^DD(9.4,6,0),"^",2)
"RTN","DGBT1POS",53,0)
 . D ^DIC
"RTN","DGBT1POS",54,0)
 D BMES^XPDUTL(" ")
"RTN","DGBT1POS",55,0)
 D MES^XPDUTL("     FILE field complete.")
"RTN","DGBT1POS",56,0)
 ; - Add fields.
"RTN","DGBT1POS",57,0)
FLDS ; Add FIELD entries to File entries #43, #43.1
"RTN","DGBT1POS",58,0)
 ; Add ASSIGN A VERSION NUMBER? entries to File entries #392-392.4
"RTN","DGBT1POS",59,0)
 S DIC="^DIC(9.4,",DA(1)=DGBTIEN,DIC(0)="X"
"RTN","DGBT1POS",60,0)
 S DIC=DIC_DA(1)_",4,",DIC("P")=$P(^DD(9.4,6,0),"^",2)
"RTN","DGBT1POS",61,0)
 F X="43","43.1","392","392.1","392.2","392.3","392.4" D
"RTN","DGBT1POS",62,0)
 . D ^DIC
"RTN","DGBT1POS",63,0)
 . S DIE=DIC,DA=+Y
"RTN","DGBT1POS",64,0)
 . I X=43 F FLD=720,721,722 S DR="2///"_FLD D ^DIE
"RTN","DGBT1POS",65,0)
 . I X=43.1 F FLD=30.01,30.02,30.03,30.04,30.05 S DR="2///"_FLD D ^DIE
"RTN","DGBT1POS",66,0)
 . I X[392 S DR="222.2///Y" D ^DIE
"RTN","DGBT1POS",67,0)
 D BMES^XPDUTL(" ")
"RTN","DGBT1POS",68,0)
 D MES^XPDUTL("     FIELD field complete.")
"RTN","DGBT1POS",69,0)
 ;
"RTN","DGBT1POS",70,0)
XPREF ; Add 'DGBTZ' entry to the EXCLUDED NAME SPACE (#919) field.
"RTN","DGBT1POS",71,0)
 S DIC="^DIC(9.4,",DA(1)=DGBTIEN
"RTN","DGBT1POS",72,0)
 S DIC=DIC_DA(1)_",""EX"",",DIC(0)="L",DIC("P")=$P(^DD(9.4,919,0),"^",2)
"RTN","DGBT1POS",73,0)
 S X="DGBTZ" D ^DIC
"RTN","DGBT1POS",74,0)
 ;
"RTN","DGBT1POS",75,0)
EXIT K DIC,DIE,DGBTII,DGBTFIL,DGBTFIEN,DGBTIEN,X,DA,DGBTARRY
"RTN","DGBT1POS",76,0)
 Q
"RTN","DGBT1PRE")
0^32^B4392446
"RTN","DGBT1PRE",1,0)
DGBT1PRE ;ALB/MRY - Env/Pre/Post-install of DGBT V1.0 ; 9/25/01 10:10 AM
"RTN","DGBT1PRE",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBT1PRE",3,0)
 ;
"RTN","DGBT1PRE",4,0)
EN ;
"RTN","DGBT1PRE",5,0)
 S XPDABORT=""
"RTN","DGBT1PRE",6,0)
 I '$G(DUZ)!($G(DUZ(0))'="@")!('$G(DT))!($G(U)'="^") D  G ABRT
"RTN","DGBT1PRE",7,0)
 . D BMES^XPDUTL("*****")
"RTN","DGBT1PRE",8,0)
 . D MES^XPDUTL("Your programming variables are not set up properly.")
"RTN","DGBT1PRE",9,0)
 . D MES^XPDUTL("Installation aborted.")
"RTN","DGBT1PRE",10,0)
 ; Verify Registration v5.3 exists, else Quit.
"RTN","DGBT1PRE",11,0)
 I $$VERSION^XPDUTL("DG")'=5.3 D  G ABRT
"RTN","DGBT1PRE",12,0)
 . W !!,"VERSION 5.3 OF REGISTRATION HAS NOT BEEN LOADED."
"RTN","DGBT1PRE",13,0)
 W !!,">> Environment check complete and okay."
"RTN","DGBT1PRE",14,0)
 Q
"RTN","DGBT1PRE",15,0)
 ;
"RTN","DGBT1PRE",16,0)
PRE ; Pre-init
"RTN","DGBT1PRE",17,0)
 ; If previous beta version with different name, then correct name.
"RTN","DGBT1PRE",18,0)
 D FIND^DIC(9.4,"","@;1;.01","P","DGBT","","C","","","DGBTARRY")
"RTN","DGBT1PRE",19,0)
 S DGBTI=0
"RTN","DGBT1PRE",20,0)
 F  S DGBTI=$O(DGBTARRY("DILIST",DGBTI)) Q:'DGBTI  D
"RTN","DGBT1PRE",21,0)
 . S X=$G(DGBTARRY("DILIST",DGBTI,0)),DGBTIEN=$P(X,"^",1)
"RTN","DGBT1PRE",22,0)
 . I $P(X,"^",2)="DGBT",$P(X,"^",3)'="BENEFICIARY TRAVEL" D
"RTN","DGBT1PRE",23,0)
 . . ; Correct old name to this version name.
"RTN","DGBT1PRE",24,0)
 . . S FDATA(9.4,DGBTIEN_",",.01)="BENEFICIARY TRAVEL"
"RTN","DGBT1PRE",25,0)
 . . D FILE^DIE("E","FDATA","ERR")
"RTN","DGBT1PRE",26,0)
 K DGBTI,DGBTIEN,X,FDATA,ERR,DGBTARRY
"RTN","DGBT1PRE",27,0)
 ;
"RTN","DGBT1PRE",28,0)
 ; Remove 'DGBT' from ADDITIONAL PREFIXES of the Registration Package.
"RTN","DGBT1PRE",29,0)
 N DIC
"RTN","DGBT1PRE",30,0)
 S DIC="^DIC(9.4,",DIC(0)="X",X="REGISTRATION"
"RTN","DGBT1PRE",31,0)
 D ^DIC I Y<0 D  G ABRT
"RTN","DGBT1PRE",32,0)
 . D BMES^XPDUTL("REGISTRATION PACKAGE HAS NOT BEEN FOUND")
"RTN","DGBT1PRE",33,0)
 . D MES^XPDUTL("CONTACT - PIMS National VISTA Support Team for assistance!")
"RTN","DGBT1PRE",34,0)
APREF ; Delete 'DGBT' from ADDITIONAL PREFIXES Field (#14).
"RTN","DGBT1PRE",35,0)
 S (DA(1),DGBTY)=+Y,DIC=DIC_DA(1)_",14,"
"RTN","DGBT1PRE",36,0)
 S DIC(0)="X",DIC("P")=$P(^DD(9.4,14,0),"^",2),X="DGBT"
"RTN","DGBT1PRE",37,0)
 D ^DIC I Y<0 K DIC,X G XPREF
"RTN","DGBT1PRE",38,0)
 S DIE=DIC K DIC
"RTN","DGBT1PRE",39,0)
 S DA=+Y,DR=".01///@" D ^DIE
"RTN","DGBT1PRE",40,0)
 K DIE,DR,DA,Y
"RTN","DGBT1PRE",41,0)
XPREF ; Add 'DGBT' entry to the EXCLUDED NAME SPACE (#919) field.
"RTN","DGBT1PRE",42,0)
 S DIC="^DIC(9.4,",DA(1)=+DGBTY
"RTN","DGBT1PRE",43,0)
 S DIC=DIC_DA(1)_",""EX"",",DIC(0)="L",DIC("P")=$P(^DD(9.4,919,0),"^",2)
"RTN","DGBT1PRE",44,0)
 S X="DGBT" D ^DIC
"RTN","DGBT1PRE",45,0)
 K DIC,DA,Y,X,DGBT Q
"RTN","DGBT1PRE",46,0)
 ;
"RTN","DGBT1PRE",47,0)
POST ; - Run Post-init to update PACKAGE entry for 'DGBT'.
"RTN","DGBT1PRE",48,0)
 D ^DGBT1POS
"RTN","DGBT1PRE",49,0)
 Q
"RTN","DGBT1PRE",50,0)
 ;
"RTN","DGBT1PRE",51,0)
ABRT S XPDABORT=2 Q
"RTN","DGBT2")
0^2^B17843643
"RTN","DGBT2",1,0)
DGBT2 ;ALB/LM - BENEFICIARY TRAVEL SCREEN 2 ;5/24/91  09:19
"RTN","DGBT2",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBT2",3,0)
 Q
"RTN","DGBT2",4,0)
SCREEN ;
"RTN","DGBT2",5,0)
 W @IOF
"RTN","DGBT2",6,0)
 W !?18,"Beneficiary Travel Claim Information <Screen 2>"
"RTN","DGBT2",7,0)
 D PID^VADPT6 W !!?8,"Name: ",VADM(1),?42,"PT ID: ",VA("PID"),?64,"DOB: ",$P(VADM(3),"^",2)
"RTN","DGBT2",8,0)
 D PAST,ADM
"RTN","DGBT2",9,0)
 W !!?2,"Visits For: " W $P(DGBTDTE,"@")
"RTN","DGBT2",10,0)
 S DGBTAS="" S:DGBTAD DGBTAS=$S($P(DGBTDD,".")=$P(DGBTDTI,"."):"D",$P(DGBTAD,".")=$P(DGBTDTI,"."):"A",$P(DGBTAD,".")&'$P(DGBTDD,"."):"I",$P(DGBTAD,".")&($P(DGBTDTI,".")'>$P(DGBTDD,".")):"II",1:"")
"RTN","DGBT2",11,0)
 I DGBTAS]"" W $S(DGBTAS="A":" * * * * ADMITTED ON THIS DATE * * * *",DGBTAS="D":" * * * * DISCHARGED ON THIS DATE * * * *",DGBTAS="I":" * * * * CURRENTLY AN INPATIENT * * * *",DGBTAS="II":" * * * INPATIENT STATUS * * *",1:"")
"RTN","DGBT2",12,0)
 I DGBTAS]"" W !!," Admitted On: " S Y=+DGBTAD X ^DD("DD") W Y K Y W:$D(^DPT(DFN,.1)) ?40,"Ward Location: ",^DPT(DFN,.1) I DGBTDD W ?40,"Discharge Date: " S Y=+DGBTDD X ^DD("DD") W Y K Y
"RTN","DGBT2",13,0)
 W !!,"Appointments: " W:'$D(DGBTCL) "NONE RECORDED FOR THIS DATE" I $D(DGBTCL) F I=0:0 S I=$O(DGBTCL(I)) Q:'I  D APPT
"RTN","DGBT2",14,0)
 N DGVAL,DGCBK,DGDT1
"RTN","DGBT2",15,0)
 ;
"RTN","DGBT2",16,0)
 S DGVAL("DFN")=DFN,DGVAL("BDT")=DGBTDTI\1,DGVAL("EDT")=DGVAL("BDT")_".9999"
"RTN","DGBT2",17,0)
 S DGCBK="I $P(SDOE0,U,8)=2 D WRTVIS^DGBT2(SDOE0) S DGDT1=+SDOE0",DGDT1=""
"RTN","DGBT2",18,0)
 D SCAN^DGSDU("PATIENT/DATE",.DGVAL,"",DGCBK,1,.DGQUERY)
"RTN","DGBT2",19,0)
EXIT ;
"RTN","DGBT2",20,0)
 K VAIP
"RTN","DGBT2",21,0)
 Q
"RTN","DGBT2",22,0)
 ;
"RTN","DGBT2",23,0)
WRTVIS(DGBTCSN) ;
"RTN","DGBT2",24,0)
 S:$S('DGDT1:0,1:+SDOE0'=DGDT1) SDSTOP=1
"RTN","DGBT2",25,0)
 I '$G(DGDT1) W !!?45,"Elig for Visit:",?65,"Appt Type:",!?45,"______________",?65,"_________",!!,"Clinic Stop: "
"RTN","DGBT2",26,0)
 I 'SDSTOP D
"RTN","DGBT2",27,0)
 .N DGBTCS
"RTN","DGBT2",28,0)
 .S:$P(DGBTCSN,U,3) DGBTCS=$P(DGBTCSN,U,3)
"RTN","DGBT2",29,0)
 .W ?14,$E($S($D(^DIC(40.7,+$P($G(DGBTCSN),U,3),0)):$P(^(0),U),1:"Unknown"),1,20),?45,$S($D(^DIC(8,+$P(DGBTCSN,U,13),0)):$E($P(^(0),U),1,18),1:"")
"RTN","DGBT2",30,0)
 .D STOP
"RTN","DGBT2",31,0)
 Q
"RTN","DGBT2",32,0)
 ;
"RTN","DGBT2",33,0)
ADM S DGBTAN=$S($D(^DPT(DFN,.105)):^(.105),1:"")
"RTN","DGBT2",34,0)
 I 'DGBTAN D NOW^%DTC S DGBTDI=+$O(^DGPM("ATID3",DFN,9999999.9999999-%)),DGBTDN=+$O(^(DGBTDI,0)),DGBTAN=$S($D(^DGPM(DGBTDN,0)):$P(^(0),"^",14),1:"")
"RTN","DGBT2",35,0)
 S DGBTAD=$S($D(^DGPM(+DGBTAN,0)):^(0),1:""),DGBTDD=$S($D(^DGPM(+$P(DGBTAD,"^",17),0)):^(0),1:"")
"RTN","DGBT2",36,0)
 K %,DGBTDI,DGBTDN Q
"RTN","DGBT2",37,0)
STOP I $D(DGBTCS) W ?65,$E($S($D(^SD(409.1,+$P(DGBTCSN,"^",10),0)):$P(^(0),"^"),1:"REGULAR"),1,15),!
"RTN","DGBT2",38,0)
 Q
"RTN","DGBT2",39,0)
APPT I $D(DGBTCL) S DGBTCN=+$P(DGBTCL(I),"^") W ?14,$S($D(^SC(DGBTCN,0)):$P(^(0),"^"),1:"Unknown") S Y=I X ^DD("DD") W " (",Y,") "
"RTN","DGBT2",40,0)
 I $D(DGBTCL) D
"RTN","DGBT2",41,0)
 .S X=$P(DGBTCL(I),"^",2)
"RTN","DGBT2",42,0)
 .W ?50,$S(X["NT":"NO ACTION TAKEN",X["N":"NO-SHOW",X["C":"CANCELLED",1:""),?66,$P("C&P^10-10^SCHED.^UNSCHED.","^",+$P(DGBTCL(I),"^",7)),?73,$S($D(^SD(409.1,+$P(DGBTCL(I),"^",16),0)):$E($P(^(0),"^"),1,7),1:"REGULAR"),!
"RTN","DGBT2",43,0)
 Q
"RTN","DGBT2",44,0)
PAST W:'$O(^DGBT(392,"AI",DFN,9999999.99999-DGBTDTI)) !!,"Past Claims: NONE RECORDED" I $O(^DGBT(392,"AI",DFN,9999999.99999-DGBTDTI)) W !!?14,"Date/Time",?35,"Account",?55,"Deductible",?69,"Amt. Paid",!!,"Past Claims: "
"RTN","DGBT2",45,0)
 S J=0 F DGBTP=9999999.99999-DGBTDTI:0 S DGBTP=$O(^DGBT(392,"AI",DFN,DGBTP)) Q:'DGBTP  S DGBTPDT=^DGBT(392,"AI",DFN,DGBTP),VADAT("W")=DGBTPDT D ^VADATE W ?14,VADATE("E") D ACCT S J=J+1 Q:J=5
"RTN","DGBT2",46,0)
 Q
"RTN","DGBT2",47,0)
ACCT W ?35,$S($P(^DGBT(392,DGBTPDT,0),"^",6):$E($P(^DGBT(392.3,$P(^(0),"^",6),0),"^"),1,15),1:"") D AMT
"RTN","DGBT2",48,0)
 Q
"RTN","DGBT2",49,0)
AMT S X=$P(^DGBT(392,DGBTPDT,0),"^",9),X2="2$" D COMMA^%DTC W ?54,X S X=$P(^(0),"^",10) D COMMA^%DTC W ?67,X,! K VADAT,VADATE,X,X2
"RTN","DGBT2",50,0)
 Q
"RTN","DGBTCD")
0^3^B19211264
"RTN","DGBTCD",1,0)
DGBTCD ;ALB/SCK - BENEFICIARY TRAVEL CLAIM DISPLAY; 12/15/92 4/14/93
"RTN","DGBTCD",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTCD",3,0)
 Q
"RTN","DGBTCD",4,0)
SCREEN Q:'$D(^DGBT(392,DGBTDT,0))  S U="^" K DGBTVAR F I=0,"A","D","M","R","T" S DGBTVAR(I)=$S($D(^DGBT(392,DGBTDT,I)):^(I),1:"")
"RTN","DGBTCD",5,0)
 S DGBTACCT=$S($D(^DGBT(392.3,+$P(DGBTVAR(0),U,6),0)):$P($G(^(0)),U,5),1:0)
"RTN","DGBTCD",6,0)
 I 'DGBTACCT W !!,*7,">> WARNING! No ACCOUNT TYPE for this claim, Please correct through Claim Enter/Edit!" G QUIT
"RTN","DGBTCD",7,0)
 W @IOF
"RTN","DGBTCD",8,0)
 W !?18,"Beneficiary Travel Claim Information <Display>"
"RTN","DGBTCD",9,0)
 W !!,?2,"Claim Date: ",DGBTDTE W:$P(DGBTVAR(0),U,11)'=""&($D(^DG(40.8,$P(DGBTVAR(0),U,11),0))) ?40,"Division: ",$P(^DG(40.8,$P(DGBTVAR(0),U,11),0),U)
"RTN","DGBTCD",10,0)
 D PID^VADPT6 W !!?8,"Name: ",VADM(1),?40,"PT ID: ",VA("PID"),?64,"DOB: ",$P(VADM(3),U,2)
"RTN","DGBTCD",11,0)
 S (DGBTFCTY,DGBTTCTY)=""
"RTN","DGBTCD",12,0)
 I $P(DGBTVAR("D"),U,4)]"" S DGBTCNA=$P(DGBTVAR("D"),U,4) D CITY^DGBTCR I DGBTCSZ[DGBTCNA D
"RTN","DGBTCD",13,0)
 . S DGBTCSZ=DGBTCNA_", "_$S(+$P(DGBTVAR("D"),U,5)>0:$P(^DIC(5,$P(DGBTVAR("D"),U,5),0),U,2),1:"")_"  "
"RTN","DGBTCD",14,0)
 . S Y=$P(DGBTVAR("D"),U,6),Y=$E(Y,1,5)_$S($E(Y,6,9)]"":"-"_$E(Y,6,9),1:"") S DGBTCSZ=DGBTCSZ_Y,DGBTFCTY=DGBTCSZ
"RTN","DGBTCD",15,0)
 I $P(DGBTVAR("T"),U,4)]"" S DGBTCNA=$P(DGBTVAR("T"),U,4) D CITY^DGBTCR S:DGBTCSZ[DGBTCNA DGBTCSZ=DGBTCNA_", "_$S(+$P(DGBTVAR("T"),U,5)>0:$P(^DIC(5,$P(DGBTVAR("T"),U,5),0),U,2),1:"")_"  "_$P(DGBTVAR("T"),U,6) S DGBTTCTY=DGBTCSZ
"RTN","DGBTCD",16,0)
FROM W !!," Depart From: ",$E($P(DGBTVAR("D"),U),1,30)
"RTN","DGBTCD",17,0)
 W ?46,"To: ",$E($P(DGBTVAR("T"),U),1,30)
"RTN","DGBTCD",18,0)
 W !?14 W:$P(DGBTVAR("D"),U,2)]"" $P(DGBTVAR("D"),U,2) W:$P(DGBTVAR("D"),U,2)="" $P(DGBTVAR("D"),U,3) W:$P(DGBTVAR("D"),U,2)=""&($P(DGBTVAR("D"),U,3)="") DGBTFCTY
"RTN","DGBTCD",19,0)
 W ?50 W:$P(DGBTVAR("T"),U,2)]"" $P(DGBTVAR("T"),U,2) W:$P(DGBTVAR("T"),U,2)="" $P(DGBTVAR("T"),U,3) W:$P(DGBTVAR("T"),U,2)=""&($P(DGBTVAR("T"),U,3)="") DGBTTCTY
"RTN","DGBTCD",20,0)
 W !?14 W:$P(DGBTVAR("D"),U,3)]"" $P(DGBTVAR("D"),U,3) W:$P(DGBTVAR("D"),U,2)]""&($P(DGBTVAR("D"),U,3)="") DGBTFCTY
"RTN","DGBTCD",21,0)
 W ?50 W:$P(DGBTVAR("T"),U,3)]"" $P(DGBTVAR("T"),U,3) W:$P(DGBTVAR("T"),U,2)]""&($P(DGBTVAR("T"),U,3)="") DGBTTCTY
"RTN","DGBTCD",22,0)
 W !?14 W:$P(DGBTVAR("D"),U,2)]""&($P(DGBTVAR("D"),U,3)]"") DGBTFCTY
"RTN","DGBTCD",23,0)
 W ?50 W:$P(DGBTVAR("T"),U,2)]""&($P(DGBTVAR("T"),U,3)]"") DGBTTCTY
"RTN","DGBTCD",24,0)
ELIG W !!," Eligibility: " W:$P(DGBTVAR(0),U,3) $P(^DIC(8,$P(DGBTVAR(0),U,3),0),U) W:$P(DGBTVAR(0),U,4)]"" ?45,"SC%: ",$P(DGBTVAR(0),U,4)
"RTN","DGBTCD",25,0)
 I $P(DGBTVAR(0),U,5) W ?57,"Cert. Date: " S VADAT("W")=9999999-$P($P(DGBTVAR(0),U,5),".") D ^VADATE W $P(VADATE("E"),"@") K VADAT,VADATE
"RTN","DGBTCD",26,0)
ACCT W !!?5,"Account: ",$S($P(DGBTVAR(0),U,6):$E($P(^DGBT(392.3,$P(DGBTVAR(0),U,6),0),U),1,15),1:"") W:$P(DGBTVAR("A"),U,3) ?31,"REVIEW VISIT"
"RTN","DGBTCD",27,0)
 W ?51,"Most Econ. Cost: " S X=$P(DGBTVAR(0),U,8),X2="2$" D COMMA^%DTC W X
"RTN","DGBTCD",28,0)
ATT I DGBTACCT=4!(DGBTACCT=5) W !,"Attend/Payee: ",$S($D(DGBTVAR("A")):$P(DGBTVAR("A"),U,2),1:"")
"RTN","DGBTCD",29,0)
 I DGBTACCT'=4&(DGBTACCT'=5) W !," Mode/Trans.: ",$S($P(DGBTVAR("A"),U,4):$P(^DGBT(392.4,$P(DGBTVAR("A"),U,4),0),U),1:"")
"RTN","DGBTCD",30,0)
 I $D(^DG(43,1,"BT")) I $P(^DG(43,1,"BT"),U,2)=1 W ?51,"Meals & Lodging: " S X=$P(DGBTVAR("M"),U,4) D COMMA^%DTC W X
"RTN","DGBTCD",31,0)
 I DGBTACCT=4!(DGBTACCT=5) W !,"One Way/"
"RTN","DGBTCD",32,0)
 I DGBTACCT'=4&(DGBTACCT'=5) W !?5,"Carrier: ",$S($P(DGBTVAR(0),U,7):$P(^PRC(440,$P(DGBTVAR(0),U,7),0),U),1:"")
"RTN","DGBTCD",33,0)
 I $D(^DG(43,1,"BT")) I $P(^DG(43,1,"BT"),U,2)=1 W ?46,"Ferry, Bridges, Etc.: " S X=$P(DGBTVAR("M"),U,5) D COMMA^%DTC W X
"RTN","DGBTCD",34,0)
 I DGBTACCT=4!(DGBTACCT=5) W !?2,"Round Trip: ",$S($P(DGBTVAR("M"),U)=1:"ONE WAY",$P(DGBTVAR("M"),U)=2:"ROUND TRIP",1:"")
"RTN","DGBTCD",35,0)
 I DGBTACCT'=4&(DGBTACCT'=5) W !,"Auth. Person: " I $P(DGBTVAR("A"),U) W $S($D(DGBTVAR("A"))&($D(^VA(200,$P(DGBTVAR("A"),U),0))):$P(^VA(200,$P(DGBTVAR("A"),U),0),U),1:"")
"RTN","DGBTCD",36,0)
 I DGBTACCT=4!(DGBTACCT=5) W ?46,"Total Mileage Amount: " S X=$P(DGBTVAR("M"),U,3) D COMMA^%DTC W X
"RTN","DGBTCD",37,0)
 I DGBTACCT=4!(DGBTACCT=5) W !,"Mileage/"
"RTN","DGBTCD",38,0)
DED W ?48,"Applied Deductible: " S X=$P(DGBTVAR(0),U,9) D COMMA^%DTC W X
"RTN","DGBTCD",39,0)
 W ! W:DGBTACCT=4!(DGBTACCT=5) ?5,"One Way: ",$P(DGBTVAR("M"),U,2)_" MILES"
"RTN","DGBTCD",40,0)
 W ?52,"Amount Payable: " S X=$P(DGBTVAR(0),U,10) D COMMA^%DTC W X
"RTN","DGBTCD",41,0)
REMARK W !!,"Remarks: ",$S($D(^DGBT(392,DGBTDT,"R")):$P(^DGBT(392,DGBTDT,"R"),U),1:"")
"RTN","DGBTCD",42,0)
QUIT K DGBTCNA,DGBTCSZ,DGBTFCTY,DGBTTCTY,DGBTCNA,DGBTDIV,VADAM,X,X2,I
"RTN","DGBTCD",43,0)
 Q
"RTN","DGBTCE")
0^4^B20988612
"RTN","DGBTCE",1,0)
DGBTCE ;ALB/SCK - BENEFICIARY TRAVEL CLAIM RE-ENTER/EDIT; 12/15/92  06/04/93
"RTN","DGBTCE",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTCE",3,0)
 Q
"RTN","DGBTCE",4,0)
SCREEN ;
"RTN","DGBTCE",5,0)
 D QUIT^DGBTCE1
"RTN","DGBTCE",6,0)
 D SCREEN^DGBTEE1 Q:'$D(^DGBT(392,DGBTDT,0))  I DGBTTOUT=-1 S DGBTTOUT=1 Q
"RTN","DGBTCE",7,0)
 I $D(DGBTOACT) I DGBTOACT'=DGBTACCT S DGBTVAR(0)=^DGBT(392,DGBTDT,0) D FILE
"RTN","DGBTCE",8,0)
 S (DGBTMAL,DGBTFAB,DGBTME,DGBTCP,DGBTFLAG,DGBTDE,DGBTDCV,DGBTDCM,DGBTDPV,DGBTDPM)=0
"RTN","DGBTCE",9,0)
 S:$G(DGBTACCT)'>0 DGBTACCT=$P($G(DGBTVAR(0)),U,6)
"RTN","DGBTCE",10,0)
 S DGBTAP=VADM(1),DIE="^DGBT(392,",DA=DGBTDT,DR=$S(DGBTACCT=4:"42//"_DGBTAP,DGBTACCT=5:"43;S DGBTCP=X;42//"_DGBTAP,1:"44")
"RTN","DGBTCE",11,0)
 D ^DIE K DIE,DQ,DR I $D(DTOUT)!($D(Y)) S DGBTTOUT=1 Q
"RTN","DGBTCE",12,0)
 I DGBTACCT=4!(DGBTACCT=5) S:$D(^DGBT(392,DGBTDT,"M")) DGBTWAY=$P(^("M"),"^"),DGBTMILE=$P(^("M"),"^",2) S:$D(^DGBT(392,DGBTDT,"D")) DGBTCITY=$P(^("D"),"^",4),DGBTSTAT=$P(^("D"),"^",5)
"RTN","DGBTCE",13,0)
 S DGBTDIV=$P($G(^DGBT(392,DA,0)),U,11),DGBTRMK=$S($D(DGBTREC):$$DICLKUP^DGBTUTL(DGBTREC,DGBTDIV,4),1:"")
"RTN","DGBTCE",14,0)
 S DIE="^DGBT(392,",DA=DGBTDT
"RTN","DGBTCE",15,0)
 S DR="3////"_DGBTELIG_";6////"_DGBTACTN_";21;I X="""" S Y=24;22;I X="""" S Y=24;23;24;24.1;24.2;25;I X="""" S Y=28;26;I X="""" S Y=28;27;28;28.1;28.2"
"RTN","DGBTCE",16,0)
 D ^DIE K DIE I $D(DTOUT)!($D(Y)) S DGBTTOUT=1 Q
"RTN","DGBTCE",17,0)
 W:DGBTRMK]"" !!,*7,"MILEAGE REMARKS: ",DGBTRMK,!
"RTN","DGBTCE",18,0)
 I DGBTACCT=4!(DGBTACCT=5) D  Q:$G(DGBTTOUT)
"RTN","DGBTCE",19,0)
 . S DR="31//;S DGBTOWRT=X;32//;S DGBTML=X"
"RTN","DGBTCE",20,0)
 . I DGBTACCT=5&(DGBTCP=1) S DGBTMR=DGBTMR1
"RTN","DGBTCE",21,0)
 . S DIE="^DGBT(392,",DA=DGBTDT
"RTN","DGBTCE",22,0)
 . D ^DIE K DIE,DQ,DR I $D(DTOUT)!($D(Y)) S DGBTTOUT=1
"RTN","DGBTCE",23,0)
DIE1 ;
"RTN","DGBTCE",24,0)
 S DGBTMLT=$S($D(DGBTVAR("M"))&((DGBTACCT=4)!(DGBTACCT=5)):DGBTOWRT*DGBTML*DGBTMR,1:""),$P(^DGBT(392,DGBTDT,"M"),"^",3)=DGBTMLT,$P(DGBTVAR("M"),"^",3)=DGBTMLT
"RTN","DGBTCE",25,0)
 ;
"RTN","DGBTCE",26,0)
 S DIE="^DGBT(392,",DA=DGBTDT,DR="I DGBTACCT=4!(DGBTACCT=5) S Y=""@1"";41;7;@1;I DGBTMLFB=0 S Y=""@2"";34//;S DGBTMAL=X;35//;S DGBTFAB=X;@2;8//;S DGBTME=X"
"RTN","DGBTCE",27,0)
DIE3 ;
"RTN","DGBTCE",28,0)
 D ^DIE K DIE,DQ,DR I $D(DTOUT)!($D(Y)) S DGBTTOUT=1 Q
"RTN","DGBTCE",29,0)
 ;
"RTN","DGBTCE",30,0)
TCOST ;CALCULATE TOTAL COST AND MONTHLY CUM. DEDUCTIBLE
"RTN","DGBTCE",31,0)
MLFB ;
"RTN","DGBTCE",32,0)
 S DGBTMAF=$S(DGBTMLFB:DGBTMAL+DGBTFAB,1:0),DGBTMETC=DGBTME+$S($D(DGBTMAL):DGBTMAL,1:0)
"RTN","DGBTCE",33,0)
 I DGBTACCT'=4&(DGBTACCT'=5) S DGBTPA=DGBTMAF+DGBTME G CONT
"RTN","DGBTCE",34,0)
 I $D(DGBTMLT) S DGBTTC=$S(DGBTMLT+DGBTMAF'>DGBTMETC:DGBTMLT+DGBTMAF,DGBTMLT+DGBTMAF>DGBTMETC&(DGBTME>0):DGBTMETC,DGBTME'>0:DGBTMLT+DGBTMAF,1:DGBTMETC)
"RTN","DGBTCE",35,0)
 I DGBTACCT=5 S DGBTDE=0 S DGBTPA=$S((DGBTMLT+DGBTMAF)'=0:DGBTTC,1:DGBTMETC) G CONT
"RTN","DGBTCE",36,0)
DED ;
"RTN","DGBTCE",37,0)
 F I=$E(DGBTDT,1,5)_"00.2399":0 S I=$O(^DGBT(392,"C",DFN,I)) Q:'I!($E(I,1,5)>$E(DGBTDT,1,5))  I I'=DGBTDT S DGBTDCM=DGBTDCM+($P(^DGBT(392,I,0),"^",9))
"RTN","DGBTCE",38,0)
 I $D(^DG(43.1,$O(^DG(43.1,(9999999.99999-DGBTDT))),"BT")) S DGBTRATE=^("BT"),DGBTDPV=$P(DGBTRATE,"^"),DGBTDPM=$P(DGBTRATE,"^",2),DGBTMR=$P(DGBTRATE,"^",3)
"RTN","DGBTCE",39,0)
 I $D(^DGBT(392,DGBTDT,"M")) S:$P(^("M"),"^")=1 DGBTDPV=DGBTDPV/2 I DGBTWAY'=$P(^("M"),"^")!(DGBTMILE'=$P(^("M"),"^",2)) I $D(^DGBT(392,DGBTDT,0)) S $P(^(0),"^",9)="" K ^DGBT(392,"AD",$P(^(0),"^",2),$E(DGBTDT,2,5),DGBTDT)
"RTN","DGBTCE",40,0)
 S DGBTDRM=DGBTDPM-DGBTDCM
"RTN","DGBTCE",41,0)
 S DGBTDCV=$S(DGBTDCM'<DGBTDPM:0,DGBTDRM'<DGBTDPV&(DGBTTC'<DGBTDPV):DGBTDPV,DGBTDRM'<DGBTDPV&(DGBTTC'>DGBTDPV):DGBTTC,DGBTDRM'>DGBTDPV&(DGBTTC'>DGBTDRM):DGBTTC,DGBTDRM'>DGBTDPV&(DGBTTC'<DGBTDRM):DGBTDRM,1:0)
"RTN","DGBTCE",42,0)
DED1 ;
"RTN","DGBTCE",43,0)
 S DR="I $P(^DGBT(392,DGBTDT,0),""^"",9)]"""" S Y=""@9"";9///"_DGBTDCV_";@9;9;S DGBTDE=X S:DGBTDE>DGBTTC DGBTDE=DGBTTC,DGBTFLAG=2 S:DGBTDE>DGBTDRM DGBTDE=DGBTDRM,DGBTFLAG=1"
"RTN","DGBTCE",44,0)
DIE4 ;
"RTN","DGBTCE",45,0)
 S DIE="^DGBT(392,",DA=DGBTDT D ^DIE K DIE,DQ,DR I $D(DTOUT)!($D(Y)) S DGBTTOUT=1 Q
"RTN","DGBTCE",46,0)
CONT ;
"RTN","DGBTCE",47,0)
 D CONT^DGBTCE1
"RTN","DGBTCE",48,0)
 Q
"RTN","DGBTCE",49,0)
FILE ;      Reset values if account changes
"RTN","DGBTCE",50,0)
 S DGBTVAR(0)=$P(DGBTVAR(0),"^",1,6)_"^^0^^"_$S($L(DGBTVAR(0),"^")>10:$P(DGBTVAR(0),"^",10,$L(DGBTVAR(0),"^")),1:""),DGBTVAR("A")="^"_$P(DGBTVAR("A"),"^",2)_"^^^"_$S($L(DGBTVAR("A"),"^")>4:$P(DGBTVAR("A"),"^",5,$L(DGBTVAR("A"),"^")),1:"")
"RTN","DGBTCE",51,0)
 I DGBTACCT<4 S DGBTVAR("M")="^^^"_$S($L(DGBTVAR("M"),"^")>3:$P(DGBTVAR("M"),"^",4,$L(DGBTVAR("M"),"^")),1:"")
"RTN","DGBTCE",52,0)
 S ^DGBT(392,DGBTDT,0)=DGBTVAR(0),^("A")=DGBTVAR("A") S:DGBTACCT<4 ^("M")=DGBTVAR("M") S DA=DGBTDT,DIK="^DGBT(392," D IX^DIK
"RTN","DGBTCE",53,0)
 Q
"RTN","DGBTCE1")
0^5^B6397951
"RTN","DGBTCE1",1,0)
DGBTCE1 ;ALB/LM - BENEFICIARY TRAVEL CLAIM RE-ENTER/EDIT CONT.; 9/13/89@8:00 ;4/23/91  09:42
"RTN","DGBTCE1",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTCE1",3,0)
 Q
"RTN","DGBTCE1",4,0)
CONT ; ENTRY POINTS FROM DGBTEE,DGBTCE
"RTN","DGBTCE1",5,0)
 S DGBTFLX=" DEDUCTIBLE AMOUNT HAS BEEN CHANGED " I DGBTACCT=4 S DGBTPA=$S(DGBTTC-DGBTDE>0:DGBTTC-DGBTDE,DGBTTC-DGBTDE<0:DGBTTC,1:0)
"RTN","DGBTCE1",6,0)
DIE5 S DGBTINFL=$S(DGBTDE=DGBTDCV:$P(DGBTVAR("R"),DGBTFLX)_$P(DGBTVAR("R"),DGBTFLX,2)_" ",DGBTDE'=DGBTDCV&(DGBTVAR("R")'[DGBTFLX):$E(DGBTVAR("R")_DGBTINFL_DGBTFLX,1,79),1:DGBTVAR("R"))
"RTN","DGBTCE1",7,0)
 S DIE="^DGBT(392,",DA=DGBTDT
"RTN","DGBTCE1",8,0)
 S DR="9///"_DGBTDE_";10///"_DGBTPA_$S(DGBTINFL=" ":"",1:";51///^S X=DGBTINFL") S DGBTINFL=""
"RTN","DGBTCE1",9,0)
 D ^DIE K DIE,DQ,DR I $D(DTOUT)!($D(Y)) S DGBTTOUT=-1 Q
"RTN","DGBTCE1",10,0)
 ;    stuff amount payable
"RTN","DGBTCE1",11,0)
 I DGBTFLAG=2 W !!,"DEDUCTIBLE AMOUNT CAN NOT EXCEED THE TOTAL COSTS FOR THIS CLAIM",! K X S DGBTFLAG=0 G DED1^DGBTCE
"RTN","DGBTCE1",12,0)
 I DGBTFLAG=1 W !!,"DEDUCTIBLE FOR THIS CLAIM CAN NOT EXCEED THE AMOUNT REMAINING FOR THIS MONTH",! K X S DGBTFLAG=0 G DED1^DGBTCE
"RTN","DGBTCE1",13,0)
 ;
"RTN","DGBTCE1",14,0)
 S DIE="^DGBT(392,",DA=DGBTDT,DIE("NO^")="BACK",DR="51"
"RTN","DGBTCE1",15,0)
DIE6 D ^DIE K DIE,DQ,DR I $D(DTOUT)!($D(Y)) S DGBTTOUT=-1 Q
"RTN","DGBTCE1",16,0)
 D QUIT
"RTN","DGBTCE1",17,0)
 D SCREEN^DGBTCD
"RTN","DGBTCE1",18,0)
 Q
"RTN","DGBTCE1",19,0)
QUIT ;KILL VARIABLES
"RTN","DGBTCE1",20,0)
 K DGBTCITY,DGBTSTAT,DGBTWAY,DGBTMILE,DIE,DR,DGBTOWRT,DGBTML,DGBTMLFB,DGBTACCT,DGBTAP,DGBTMAL,DGBTFAB,DGBTME,DGBTMAF,DGBTTC,DGBTDCM,DGBTDPV,DGBTDPM,DGBTDRM,DGBTDCV,DGBTDE,DGBTPA,I,DGBTELIG,DGBTFLAG,DGBTMETC,DGBTMLT,DGBTCP,DGBTMR1
"RTN","DGBTCE1",21,0)
 K DGBTFR1,DGBTFR2,DGBTFR3,DGBTFR4,DGBTTO1,DGBTTO2,DGBTTO3,DGBTTO4,DGBTMR,DGBTRATE,DGBTSCP,DGBTFLX Q
"RTN","DGBTCR")
0^6^B17854946
"RTN","DGBTCR",1,0)
DGBTCR ;ALB/SCK - BENEFICIARY TRAVEL FORM 70-3542d VARIABLES; 2/7/88@08:00 ;6/11/93@09:30
"RTN","DGBTCR",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTCR",3,0)
 ;Modification of AIVBTPRT / pmg / GRAND ISLAND ; 07 Jul 88 12:02 PM
"RTN","DGBTCR",4,0)
START Q:'$D(DGBTDT)
"RTN","DGBTCR",5,0)
 S DGBTVAR(0)=$G(^DGBT(392,+DGBTDT,0)),DGBTACCT=$P($G(^DGBT(392.3,+$P(DGBTVAR(0),"^",6),0)),"^",5)
"RTN","DGBTCR",6,0)
 Q:DGBTACCT'>3
"RTN","DGBTCR",7,0)
 W !!,*7,"This needs to be printed at 132 columns"
"RTN","DGBTCR",8,0)
 S DGPGM="PRINT^DGBTCR",DGVAR="DGBTDT"
"RTN","DGBTCR",9,0)
 S %ZIS="PMQ" D ^%ZIS G QUIT:POP
"RTN","DGBTCR",10,0)
 I $D(IO("Q")) D QUE G QUIT
"RTN","DGBTCR",11,0)
 D PRINT
"RTN","DGBTCR",12,0)
QUIT ;
"RTN","DGBTCR",13,0)
 D:'$D(ZTQUEUED) ^%ZISC
"RTN","DGBTCR",14,0)
 K DGPGM,DGVAR,VADAT,VADATE,I,X,X2,DGBTVAR,DGBTCC,DGBTDIV,DGBTDOB,DGBTINS,DGBTINS1,DGBTINS2,DGBTCNA,DGBTCSZ,DGBTCNU,DGBTTCTY,DGBTFCTY,DGBTDT,DGBTACCT,DFN,Y
"RTN","DGBTCR",15,0)
 K DGBTM6,DGBTM7,DGBTM8,DGBTM9,DGBTM10,DGBTM11,DGBTM12,DGBTM13,DGBTM14,DGBTM15,DGBTM16,DGBTM17,DGBTRATE,DGBTSCP,DGBTSSN,DGBTST
"RTN","DGBTCR",16,0)
 Q
"RTN","DGBTCR",17,0)
PRINT ;
"RTN","DGBTCR",18,0)
 U IO D SET,PRINT^DGBTCR1,PRINT^DGBTCR2,KVAR^VADPT
"RTN","DGBTCR",19,0)
 Q
"RTN","DGBTCR",20,0)
SET S DFN=$P(^DGBT(392,DGBTDT,0),"^",2) D 6^VADPT S (DGBTFCTY,DGBTTCTY)=""
"RTN","DGBTCR",21,0)
NODES F I=0,"A","D","M","R","T" S DGBTVAR(I)=$S($D(^DGBT(392,DGBTDT,I)):^(I),1:"")
"RTN","DGBTCR",22,0)
 I $D(^DG(43.1,$O(^DG(43.1,(9999999.99999-DGBTDT))),"BT")) S DGBTRATE=^("BT"),DGBTM7=$S($P(DGBTVAR("A"),"^",3)=1:$P(DGBTRATE,"^",5),1:$P(DGBTRATE,"^",3))
"RTN","DGBTCR",23,0)
 I $P(DGBTVAR("D"),"^",4)]"" S DGBTCNA=$P(DGBTVAR("D"),"^",4) D CITY I DGBTCSZ[DGBTCNA D
"RTN","DGBTCR",24,0)
 . S DGBTCSZ=DGBTCNA_", "_$S(+$P(DGBTVAR("D"),"^",5)>0:$P(^DIC(5,$P(DGBTVAR("D"),"^",5),0),U,2),1:"")_"  "
"RTN","DGBTCR",25,0)
 . S Y=$P(DGBTVAR("D"),U,6),Y=$E(Y,1,5)_$S($E(Y,6,9)]"":"-"_$E(Y,6,9),1:""),DGBTCSZ=DGBTCSZ_Y,DGBTFCTY=DGBTCSZ
"RTN","DGBTCR",26,0)
 I $P(DGBTVAR("T"),"^",4)]"" S DGBTCNA=$P(DGBTVAR("T"),U,4) D CITY^DGBTCR S:DGBTCSZ[DGBTCNA DGBTCSZ=DGBTCNA_", "_$S(+$P(DGBTVAR("T"),"^",5)>0:$P(^DIC(5,$P(DGBTVAR("T"),"^",5),0),U,2),1:"")_"  "_$P(DGBTVAR("T"),U,6) S DGBTTCTY=DGBTCSZ
"RTN","DGBTCR",27,0)
DIV S DGBTDIV=$P(DGBTVAR(0),"^",11) I +DGBTDIV S DGBTDIV=$P(^DG(40.8,DGBTDIV,0),"^",7) S (DGBTCC,DGBTST)=""
"RTN","DGBTCR",28,0)
 I $D(^DIC(4,+DGBTDIV,0)) S DGBTINS=^(0),DGBTINS1=$S($D(^DIC(4,DGBTDIV,1)):^(1),1:""),DGBTINS2=$S(DGBTINS1]"":$P(DGBTINS1,"^",3)_",",1:"UNSPECIFIED")_" "_$S($D(^DIC(5,+$P(DGBTINS,U,2),0)):$P(^(0),U,2),1:"")_"  "_$P(DGBTINS1,"^",4)
"RTN","DGBTCR",29,0)
 I VAPA(5)&(VAPA(7)) S DGBTCC=$S($D(^DIC(5,+VAPA(5),1,+VAPA(7),0)):$P(^(0),"^",3),1:""),DGBTST=$P(^DIC(5,+VAPA(5),0),"^",2)
"RTN","DGBTCR",30,0)
 ;S DGBTSSN=$P($P(VADM(2),"^",2),"-")_" "_$P($P(VADM(2),"^",2),"-",2)_" "_$P($P(VADM(2),"^",2),"-",3),DGBTDOB=$E(VADM(3),4,7)_$E(VADM(3),2,3)
"RTN","DGBTCR",31,0)
 D PID^VADPT6 S DGBTSSN=VA("PID"),DGBTDOB=$E(VADM(3),4,7)_($E(VADM(3),1,3)+1700)
"RTN","DGBTCR",32,0)
 S DGBTSCP=$S($L($P(VAEL(3),"^",2)<3):"0",1:"")_$P(VAEL(3),"^",2)
"RTN","DGBTCR",33,0)
MILES S DGBTM6=$P(DGBTVAR("M"),"^")*$P(DGBTVAR("M"),"^",2)
"RTN","DGBTCR",34,0)
 S X2="2$",X=DGBTM6*DGBTM7 D COMMA^%DTC S DGBTM8=X
"RTN","DGBTCR",35,0)
 S X=$P(DGBTVAR("M"),"^",4) D COMMA^%DTC S DGBTM9=X
"RTN","DGBTCR",36,0)
 S X=$P(DGBTVAR("M"),"^",5) D COMMA^%DTC S DGBTM10=X
"RTN","DGBTCR",37,0)
 S X=DGBTM6*DGBTM7+$P(DGBTVAR("M"),"^",4)+$P(DGBTVAR("M"),"^",5) D COMMA^%DTC S DGBTM11=X
"RTN","DGBTCR",38,0)
 S X=DGBTM7 D COMMA^%DTC S DGBTM7=X
"RTN","DGBTCR",39,0)
 S X=$P(DGBTVAR(0),"^",8) D COMMA^%DTC S DGBTM12=X
"RTN","DGBTCR",40,0)
 S X=$P(DGBTVAR("M"),"^",4)+$P(DGBTVAR(0),"^",8) D COMMA^%DTC S DGBTM13=X
"RTN","DGBTCR",41,0)
 S X=$P(DGBTVAR(0),"^",10) D COMMA^%DTC S DGBTM14=X
"RTN","DGBTCR",42,0)
 S X=$P(DGBTVAR(0),"^",9) D COMMA^%DTC S $P(DGBTM14,"^",2)=X
"RTN","DGBTCR",43,0)
CERT S VADAT("W")=DGBTDT D ^VADATE S DGBTM15=VADATE("E")
"RTN","DGBTCR",44,0)
 S X=$S($P(^DG(43,1,"BT"),"^")'="":$P(^DG(43,1,"BT"),"^"),1:DUZ),DGBTM16=$P($P(^VA(200,X,0),",",2),"^")_" "_$P(^VA(200,X,0),",")_$S($P(^DG(43,1,"BT"),"^")'="":"",1:", DESIGNEE OF CERTIFYING OFFICIAL") K X
"RTN","DGBTCR",45,0)
 S DGBTM17=$P($P(DGBTVAR("A"),"^",2),",",2)_" "_$P($P(DGBTVAR("A"),"^",2),",")
"RTN","DGBTCR",46,0)
 Q
"RTN","DGBTCR",47,0)
CITY S DGBTCSZ=DGBTCNA
"RTN","DGBTCR",48,0)
 S:VAPA(5)'="" DGBTCNU=$O(^DGBT(392.1,"ACS",DGBTCNA,+VAPA(5),0))
"RTN","DGBTCR",49,0)
 I $D(DGBTCNU),(DGBTCNU'="") S DGBTCSZ=$P(^DGBT(392.1,DGBTCNU,0),"^")_", "_($P(^DIC(5,+VAPA(5),0),"^",2))_"  "_($P(^DGBT(392.1,DGBTCNU,0),"^",4))
"RTN","DGBTCR",50,0)
 Q
"RTN","DGBTCR",51,0)
QUE ;
"RTN","DGBTCR",52,0)
 N I
"RTN","DGBTCR",53,0)
 S ZTRTN="PRINT^DGBTCR",ZTDESC="VA FORM 70-3542d"
"RTN","DGBTCR",54,0)
 F I="DFN","DGBTDT","DGBTFCTY","DGBTTCTY" S ZTSAVE(I)=""
"RTN","DGBTCR",55,0)
 D ^%ZTLOAD W:$D(ZTSK) !,"TASK #",ZTSK
"RTN","DGBTCR",56,0)
 D HOME^%ZIS K IO("Q")
"RTN","DGBTCR",57,0)
 Q
"RTN","DGBTCR1")
0^7^B10584894
"RTN","DGBTCR1",1,0)
DGBTCR1 ;ALB/SCK - BENEFICIARY TRAVEL FORM 70-3542d; 2/7/88@08:00  6/11/93@09:30
"RTN","DGBTCR1",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTCR1",3,0)
 ;This routine is a modification of AIVBTPRT / pmg / GRAND ISLAND ;07 Jul 88  12:02 PM
"RTN","DGBTCR1",4,0)
 Q
"RTN","DGBTCR1",5,0)
 ;Called by DGBTCR
"RTN","DGBTCR1",6,0)
PRINT K I S $P(I,"=",65)="" W !?66,"|",I,"|",!?7,VADM(1),?50 I $D(^DIC(13,+VADM(9),0)) W $P(^(0),"^",4)
"RTN","DGBTCR1",7,0)
 W ?66,"|  VOUCHER FOR CASH REIMBURSEMENT OF BENEFICIARY TRAVEL EXPENSES |"
"RTN","DGBTCR1",8,0)
 W !?7,VAPA(1),?50,DGBTCC,?66,"|"
"RTN","DGBTCR1",9,0)
 K I S $P(I,"=",65)="" W ?67,I,"|"
"RTN","DGBTCR1",10,0)
 W !?7,VAPA(4),?40,DGBTST,?50,$P(VAPA(11),U,2),?66,"| 2.  Name and Address of Issuing Health Care Facility",?131,"|"
"RTN","DGBTCR1",11,0)
 W !?66,"|",?131,"|"
"RTN","DGBTCR1",12,0)
 W !?7,DGBTSSN,?21,$E($P(VADM(10),"^",2),1),?22,$P(VADM(5),"^"),?30,DGBTDOB,?50,DGBTDIV,?66,"|",?88,$P(DGBTINS,"^"),?131,"|"
"RTN","DGBTCR1",13,0)
 W !?66,"|",?88 W:$P(DGBTINS1,"^")'="" $P(DGBTINS1,"^") W:$P(DGBTINS1,"^")="" $P(DGBTINS1,"^",2) W:$P(DGBTINS1,"^")=""&($P(DGBTINS1,"^",2)="") DGBTINS2 W ?131,"|"
"RTN","DGBTCR1",14,0)
 W !?7,VAEL(7),?19 I $D(^DIC(8,+VAEL(1),0)) W $P(^(0),"^",4)
"RTN","DGBTCR1",15,0)
 W ?21,DGBTSCP,?28 I $D(^DIC(21,+VAEL(2),0)) W $P(^(0),"^",3)
"RTN","DGBTCR1",16,0)
 W ?66,"|",?88 W:$P(DGBTINS1,"^",2)'=""&($P(DGBTINS1,"^")'="") $P(DGBTINS1,"^",2) W:$P(DGBTINS1,"^")'=""&($P(DGBTINS1,"^",2)="") DGBTINS2 W:$P(DGBTINS1,"^")=""&($P(DGBTINS1,"^",2)'="") DGBTINS2 W ?131,"|"
"RTN","DGBTCR1",17,0)
 W !?66,"|",?88 W:$P(DGBTINS1,"^")'=""&($P(DGBTINS1,"^",2)'="")&($P(DGBTINS,"^",2)'="") DGBTINS2 W ?131,"|"
"RTN","DGBTCR1",18,0)
 W !,"  1.  Patient Data Card Information",?66,"|",?131,"|" D LINE
"RTN","DGBTCR1",19,0)
FISCAL W !,"| 3.  Fiscal Symbols"
"RTN","DGBTCR1",20,0)
 W ?30,$P(DGBTRATE,"^",4),?131,"|" D LINE
"RTN","DGBTCR1",21,0)
 W !,"| 4.  From (Place of Departure)",?66,"| 5.  To (Destination)",?131,"|"
"RTN","DGBTCR1",22,0)
RMV ; W !,"|",?66,"|",?131,"|"
"RTN","DGBTCR1",23,0)
 W !,"|",?12,$P(DGBTVAR("D"),"^"),?66,"|",?88,$P(DGBTVAR("T"),"^"),?131,"|"
"RTN","DGBTCR1",24,0)
 W !,"|",?12 W:$P(DGBTVAR("D"),"^",2)'="" $P(DGBTVAR("D"),"^",2) W:$P(DGBTVAR("D"),"^",2)="" $P(DGBTVAR("D"),"^",3) W:$P(DGBTVAR("D"),"^",2)=""&($P(DGBTVAR("D"),"^",3)="") DGBTFCTY
"RTN","DGBTCR1",25,0)
 W ?66,"|",?88 W:$P(DGBTVAR("T"),"^",2)'="" $P(DGBTVAR("T"),"^",2) W:$P(DGBTVAR("T"),"^",2)="" $P(DGBTVAR("T"),"^",3) W:$P(DGBTVAR("T"),"^",2)=""&($P(DGBTVAR("T"),"^",3)="") DGBTTCTY W ?131,"|"
"RTN","DGBTCR1",26,0)
 W !,"|",?12 W:$P(DGBTVAR("D"),"^",3)'="" $P(DGBTVAR("D"),"^",3) W:$P(DGBTVAR("D"),"^",2)'=""&($P(DGBTVAR("D"),"^",3)="") DGBTFCTY
"RTN","DGBTCR1",27,0)
 W ?66,"|",?88 W:$P(DGBTVAR("T"),"^",3)'="" $P(DGBTVAR("T"),"^",3) W:$P(DGBTVAR("T"),"^",2)'=""&($P(DGBTVAR("T"),"^",3)="") DGBTTCTY W ?131,"|"
"RTN","DGBTCR1",28,0)
 W !,"|",?12 W:$P(DGBTVAR("D"),"^",2)'=""&($P(DGBTVAR("D"),"^",3)'="") DGBTFCTY
"RTN","DGBTCR1",29,0)
 W ?66,"|",?88 W:$P(DGBTVAR("T"),"^",2)'=""&($P(DGBTVAR("T"),"^",3)'="") DGBTTCTY W ?131,"|" D LINE
"RTN","DGBTCR1",30,0)
 Q
"RTN","DGBTCR1",31,0)
LINE K I S $P(I,"=",131)="" W !,"|",I,"|"
"RTN","DGBTCR1",32,0)
 Q
"RTN","DGBTCR2")
0^8^B16865334
"RTN","DGBTCR2",1,0)
DGBTCR2 ;ALB/SCK - BENEFICIARY TRAVEL FORM 70-3542d CONTINUE; 2/7/88@08:00  6/11/93@09:30
"RTN","DGBTCR2",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTCR2",3,0)
 ;This routine is a modification of AIVBTPRT / pmg / GRAND ISLAND ;07 Jul 88  12:02 PM
"RTN","DGBTCR2",4,0)
 Q
"RTN","DGBTCR2",5,0)
PRINT ;Continuation of DGBTCR1, called by DGBTCR
"RTN","DGBTCR2",6,0)
MILEAGE W !,"| 6.  Miles Traveled",?30,"| 7.  Authorized Mileage Rate:",?66,"| 8.  Mileage Allowance (Item 6 X Item 7)",?131,"|"
"RTN","DGBTCR2",7,0)
RMV ;W !,"|",?30,"|",?66,"|",?131,"|"
"RTN","DGBTCR2",8,0)
 W !,"|",?10,DGBTM6," miles",?30,"|",?40,DGBTM7," per mile",?66,"|",?80,DGBTM8,?131,"|" D LINE
"RTN","DGBTCR2",9,0)
COST1 W !,"| 9.  Meals & Lodging Costs   |",?32,"10.  Ferry, Bridges, Etc.",?66,"| 11.  Total (Sum of 8, 9, and 10)",?131,"|"
"RTN","DGBTCR2",10,0)
RMV1 ;W !,"|",?30,"|",?66,"|",?131,"|"
"RTN","DGBTCR2",11,0)
 W !,"|",?7,DGBTM9,?30,"|",?40,DGBTM10,?66,"|",?80,DGBTM11,?131,"|" D LINE
"RTN","DGBTCR2",12,0)
COST2 W !,"| 12.  Most Economical",?30,"| 13.  Total (Sum of 9 and 12)",?66,"| 14.  AMOUNT CLAIMED AND PAYABLE *",?131,"|"
"RTN","DGBTCR2",13,0)
 W !,"|      Public Trans. Costs",?30,"|",?66,"|","      MINUS",?80,$P(DGBTM14,"^",2)," APPLIED DEDUCTIBLE",?131,"|"
"RTN","DGBTCR2",14,0)
RMV2 ;W !,"|",?30,"|",?66,"|",?131,"|"
"RTN","DGBTCR2",15,0)
 W !,"|",?7,DGBTM12,?30,"|",?40,DGBTM13,?66,"|",?80,$P(DGBTM14,"^"),?131,"|" D LINE
"RTN","DGBTCR2",16,0)
 W !,"| * The amount payable will be the amount entered in Item 11 or Item 13, whichever is less.  Exception:  If public transportation",?131,"|"
"RTN","DGBTCR2",17,0)
 W !,"|   is not reasonably accessible or would be medically inadvisable, the amount payable will be the amount entered in item 11.",?131,"|" D LINE
"RTN","DGBTCR2",18,0)
CERTIFY W !,"|  I CERTIFY THAT THE CLAIMANT REPORTED FOR AN AUTHORIZED SERVICE ON THE DATE SHOWN.  (Authority VA Regulation 6100 & PL 100-322)",?131,"|" D LINE
"RTN","DGBTCR2",19,0)
 W !,"| 15.  Date/Time of Claim",?30,"| 16.  Signature of Certifying Official",?131,"|",!,"|",?30,"|",?131,"|"
"RTN","DGBTCR2",20,0)
 W !,"|",?8,DGBTM15,?30,"|",?37,DGBTM16,?131,"|" D LINE
"RTN","DGBTCR2",21,0)
PAYEE W !,"|  I have neither obtained transportation at Government expense nor through the use of Government request, tickets, or tokens;",?131,"|"
"RTN","DGBTCR2",22,0)
 W !,"|  and have not used any Government-owned conveyance or incurred any expenses which may be presented as charges against the",?131,"|"
"RTN","DGBTCR2",23,0)
 W !,"|  Dept. of Veterans Affairs for transportation, meals, or lodging in connection with my authorized travel that is not herein",?131,"|"
"RTN","DGBTCR2",24,0)
 W !,"|  claimed.  I hereby claim the amount entered in Item 14 above.  I certify that the claim is correct and just and that payment",?131,"|",!,"|  has not been received.",?131,"|",!,"|",?131,"|"
"RTN","DGBTCR2",25,0)
 W !,"|  I hereby acknowledge receipt, in  cash  or  check to be mailed, of the amount in Item 14 above, in full payment of this claim.",?131,"|" D LINE
"RTN","DGBTCR2",26,0)
 W !,"| 17.  Signature of Payee",?100,"| 18.  Date",?131,"|",!,"|",?100,"|",?131,"|"
"RTN","DGBTCR2",27,0)
 W !,"|",?7,DGBTM17,?100,"|",?131,"|" D LINE
"RTN","DGBTCR2",28,0)
REMKS W !,"|",?7,"REMARKS:  ",DGBTVAR("R"),?102,"ACCOUNT: ",$P(^DGBT(392.3,$P(DGBTVAR(0),"^",6),0),"^",2) W:$P(DGBTVAR("A"),"^",3)=1 "  REVIEW VISIT" W ?131,"|" D LINE
"RTN","DGBTCR2",29,0)
AUDIT W !,"|",?60,"AUDIT BLOCK",?131,"|",!,"|" K I S $P(I,"-",131)="" W I,"|"
"RTN","DGBTCR2",30,0)
 W !,"|",?7,"AMOUNT PAID FOUND CORRECT",?66,"|  Remarks",?131,"|",!,"|" K I S $P(I,"-",65)="" W I
"RTN","DGBTCR2",31,0)
 W ?66,"|",?131,"|",!,"|",?7,"Auditor's Initials",?45,"Date",?66,"|",?131,"|" D LINE W !,"VA Form 70-3542d",!
"RTN","DGBTCR2",32,0)
 Q
"RTN","DGBTCR2",33,0)
LINE K I S $P(I,"=",131)="" W !,"|",I,"|"
"RTN","DGBTCR2",34,0)
 Q
"RTN","DGBTDIST")
0^9^B14889738
"RTN","DGBTDIST",1,0)
DGBTDIST ;ALB/SCK-BENEFICIARY TRAVEL DEPARTURE CITY DISTANCE ENTER/EDIT;1/21/93  2/1/93 4/26/93
"RTN","DGBTDIST",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTDIST",3,0)
 Q
"RTN","DGBTDIST",4,0)
START ;
"RTN","DGBTDIST",5,0)
 N DGBTMDIV,DGBTDIV,XX,DA,DO,X,NEWDIV,CITY
"RTN","DGBTDIST",6,0)
 D HOME^%ZIS W @IOF
"RTN","DGBTDIST",7,0)
 D WAIT^DICD,STCHK^DGBTSRCH
"RTN","DGBTDIST",8,0)
 I '$$CHECKS^DGBTDST1 W !,"No Problems were found in the Distance Data."
"RTN","DGBTDIST",9,0)
 E  G:'$$FIX CLEAR
"RTN","DGBTDIST",10,0)
CLEAR ; set division and whether multi or single instit.
"RTN","DGBTDIST",11,0)
 S DGBTMDIV=+$P($G(^DG(43,1,"GL")),U,2),NEWDIV=0,DGBTDIV=+$P($G(^DG(43,1,"GL")),U,3),ERR=0
"RTN","DGBTDIST",12,0)
LKUP ; lookup departure city using DIR reader for input and DIC call for lookup
"RTN","DGBTDIST",13,0)
 D HEADER
"RTN","DGBTDIST",14,0)
 K DIR S DIR(0)="FO^1:30",DIR("A",1)="",DIR("A")="Enter Departure City",DIR("?",1)="Enter the name for the departure city",DIR("?")="Name must be free text, 1-30 characters in length"
"RTN","DGBTDIST",15,0)
 D ^DIR K DIR G:$D(DIRUT) EXIT S (CITY,X)=Y
"RTN","DGBTDIST",16,0)
 L +^DGBT(392.1):3 I '$T W !?5,*7,"FILE IN USE, PLEASE TRY AGAIN LATER" G EXIT
"RTN","DGBTDIST",17,0)
 S DIC="^DGBT(392.1,",DIC(0)="ELQMZ",DLAYGO="392",DIC("DR")="" D ^DIC K DIC,DLAYGO L -^DGBT(392.1) S (REC,DA)=+Y G:$D(DTOUT)!($D(DUOUT)) EXIT
"RTN","DGBTDIST",18,0)
 S:$P(Y,U,3)=1 NEWDIV=1 G:X["?"!(+Y'>0) LKUP
"RTN","DGBTDIST",19,0)
 G:$$ADDIT CLEAR
"RTN","DGBTDIST",20,0)
DIS ; check to add additional divisions
"RTN","DGBTDIST",21,0)
 I DGBTMDIV F XX=2:1 Q:'$$NEXTDV  D DIV
"RTN","DGBTDIST",22,0)
 G CLEAR
"RTN","DGBTDIST",23,0)
EXIT ;
"RTN","DGBTDIST",24,0)
 K REC,Y,DTOUT,DUOUT,DIRUT,DR,NEWDIV,DGBTMDIV,CITY,DGBTDIV,ERR,%,DIC,DIR
"RTN","DGBTDIST",25,0)
 Q
"RTN","DGBTDIST",26,0)
 ;
"RTN","DGBTDIST",27,0)
NEXTDV() ;
"RTN","DGBTDIST",28,0)
 N Y
"RTN","DGBTDIST",29,0)
 S DIR("A")="Enter another division for this departure city",DIR("B")="YES"
"RTN","DGBTDIST",30,0)
 S DIR(0)="YO",DIR("?")="Enter a 'Y'es to add or enter another division, or 'N'o to exit to the Departure City prompt"
"RTN","DGBTDIST",31,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) S Y=0
"RTN","DGBTDIST",32,0)
NEXTDIQ Q (+Y)
"RTN","DGBTDIST",33,0)
 ;
"RTN","DGBTDIST",34,0)
ADDIT() ; enter data for new city and create 1st division
"RTN","DGBTDIST",35,0)
 N ERR
"RTN","DGBTDIST",36,0)
 S DIE="^DGBT(392.1,",DA=REC,DR=".01"_"CITY OR TOWN"_";2;4" D ^DIE I '$D(DA) S ERR=1 G ADDQ
"RTN","DGBTDIST",37,0)
 I X="",$P($G(^DGBT(392.1,DA,0)),U,2)']""&($P($G(^DGBT(392.1,DA,0)),U,4)']"") D DELETE S ERR=1 G ADDQ
"RTN","DGBTDIST",38,0)
 I $D(DTOUT)!($D(Y))!('$D(DA)) S ERR=1 G ADDQ
"RTN","DGBTDIST",39,0)
 D MILES ; print default mileage message
"RTN","DGBTDIST",40,0)
 S DR=$S(NEWDIV:"100///"_DGBTDIV,1:"100")
"RTN","DGBTDIST",41,0)
 S DR(2,392.1001)="I 'DGBTMDIV S Y=""@2"";.01;@2;2;3;4//"_"NO"_";I X=""""!(X=0) S Y=""@1"";5;@1" D ^DIE K DIE
"RTN","DGBTDIST",42,0)
 D DEFMILE L -^DGBT(392.1) ; check 1st div mile vs default miles
"RTN","DGBTDIST",43,0)
ADDQ Q ($D(ERR))
"RTN","DGBTDIST",44,0)
 ;
"RTN","DGBTDIST",45,0)
MILES ; print default mileage message
"RTN","DGBTDIST",46,0)
 W:DGBTMDIV&(NEWDIV) !!?10,*7,"THE MILEAGE FOR THE SELECTED DIVISION WILL BE USED AS THE",!?10,"DEFAULT MILEAGE FOR THIS DEPARTURE CITY.",!!
"RTN","DGBTDIST",47,0)
 Q
"RTN","DGBTDIST",48,0)
DEFMILE ; compare city's default mileage vs. 1st divisions mileage, update if necessary
"RTN","DGBTDIST",49,0)
 I $P($G(^DGBT(392.1,REC,0)),U,3)'=$P($G(^DGBT(392.1,REC,1,1,0)),U,2) D
"RTN","DGBTDIST",50,0)
 . S DIE="^DGBT(392.1,",DA=REC,DR="3///^S X=+$P($G(^DGBT(392.1,DA,1,1,0)),U,2)" D ^DIE K DIE
"RTN","DGBTDIST",51,0)
 Q
"RTN","DGBTDIST",52,0)
DIV ; add additional divisions to existing city
"RTN","DGBTDIST",53,0)
 L +^DGBT(392.1):3 I '$T W !?5,*7,"FILE IN USE, PLEASE TRY AGAIN LATER" G EXIT
"RTN","DGBTDIST",54,0)
 S DIE="^DGBT(392.1,",DA=REC,DO=XX,DR="100",DR(2,392.1001)=".01;2;3;4//"_"NO"_";I X=""""!(X=0) S Y=""@1"";5;@1" D ^DIE K DIE
"RTN","DGBTDIST",55,0)
 L -^DGBT(392.1)
"RTN","DGBTDIST",56,0)
 Q
"RTN","DGBTDIST",57,0)
HEADER ;
"RTN","DGBTDIST",58,0)
 W !!,"Enter the CITY as the point of origin.  The MILEAGE/ONE-WAY",!,"is the distance from the CITY to the Medical Center Division.",!
"RTN","DGBTDIST",59,0)
 Q
"RTN","DGBTDIST",60,0)
 ;
"RTN","DGBTDIST",61,0)
DELETE ;
"RTN","DGBTDIST",62,0)
 W !!?5,*7,"INCOMPLETE INFORMATION WAS ENTERED, BOTH THE STATE AND ZIP CODE",!?5,"ARE REQUIRED, RECORD DELETED",!
"RTN","DGBTDIST",63,0)
 K DIE S DIK="^DGBT(392.1,",DA=REC D ^DIK K DIK S ERR=1
"RTN","DGBTDIST",64,0)
 Q
"RTN","DGBTDIST",65,0)
FIX() ;
"RTN","DGBTDIST",66,0)
 W !,"You can either correct these problems, or add a new departure city."
"RTN","DGBTDIST",67,0)
 W !,"CORRECT PROBLEMS"
"RTN","DGBTDIST",68,0)
 D:$$YESNO^DGBTSRCH=1 START^DGBTSRCH
"RTN","DGBTDIST",69,0)
 Q (+%)
"RTN","DGBTDIV")
0^31^B868550
"RTN","DGBTDIV",1,0)
DGBTDIV ;ALB/MRY - DIVISION SELECT ; 25 SEP 2001  9:37 AM
"RTN","DGBTDIV",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTDIV",3,0)
 ; Routine copied from SDDIV
"RTN","DGBTDIV",4,0)
ERR S Y=-1 K DIC,SDALL,SDEF Q
"RTN","DGBTDIV",5,0)
ASK2 S (VAUTD,Y)=0 I '$D(^DG(40.8,$N(^DG(40.8,0)),0)) W !,*7,"***WARNING...MEDICAL CENTER DIVISION FILE IS NOT SET UP" G ERR
"RTN","DGBTDIV",6,0)
 I $D(^DG(43,1,"GL")),$P(^("GL"),U,2) G DIVISION^VAUTOMA
"RTN","DGBTDIV",7,0)
 S I=$N(^DG(40.8,0)) G:'$D(^DG(40.8,I,0)) ERR S VAUTD(I)=$P(^(0),U) K DIC Q
"RTN","DGBTDST1")
0^10^B2989306
"RTN","DGBTDST1",1,0)
DGBTDST1 ;ALB/SCK - BENEFICIARY TRAVEL DIST. ENTER/EDIT CONT. ;4/26/93
"RTN","DGBTDST1",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTDST1",3,0)
START ;
"RTN","DGBTDST1",4,0)
 Q
"RTN","DGBTDST1",5,0)
 ;
"RTN","DGBTDST1",6,0)
CHECKS() ;
"RTN","DGBTDST1",7,0)
 N ERR
"RTN","DGBTDST1",8,0)
 I $$CRMK W !?5,*7,">> ONE OR MORE ADDITIONAL INFORMATION FIELDS NEED TO BE COMPLETED" S ERR=1
"RTN","DGBTDST1",9,0)
 I $$CZIP W !?5,*7,">> ONE OR MORE ZIP CODES ARE MISSING" S ERR=1
"RTN","DGBTDST1",10,0)
 I $$CMILE W !?5,*7,">> ONE OR MORE DEFAULT MILEAGES ARE MISSING OR SET TO ZERO" S ERR=1
"RTN","DGBTDST1",11,0)
 Q $D(ERR)>0
"RTN","DGBTDST1",12,0)
 ;
"RTN","DGBTDST1",13,0)
CRMK()  ;
"RTN","DGBTDST1",14,0)
 N ERR,CREC,DREC
"RTN","DGBTDST1",15,0)
 S CREC=0 F  S CREC=$O(^DGBT(392.1,CREC)) Q:'CREC!($D(ERR))  D
"RTN","DGBTDST1",16,0)
 . S DREC=0 F  S DREC=$O(^DGBT(392.1,CREC,1,DREC)) Q:'DREC!($D(ERR))  S:+$P($G(^DGBT(392.1,CREC,1,DREC,0)),U,4)=1&(($P($G(^DGBT(392.1,CREC,1,DREC,0)),U,5))']"") ERR=1
"RTN","DGBTDST1",17,0)
 Q $D(ERR)>0
"RTN","DGBTDST1",18,0)
 ;
"RTN","DGBTDST1",19,0)
CZIP() ;
"RTN","DGBTDST1",20,0)
 N ERR,CREC
"RTN","DGBTDST1",21,0)
 S CREC=0 F  S CREC=$O(^DGBT(392.1,CREC)) Q:'CREC!($D(ERR))  S:$P($G(^DGBT(392.1,CREC,0)),U,4)']"" ERR=1
"RTN","DGBTDST1",22,0)
 Q $D(ERR)>0
"RTN","DGBTDST1",23,0)
 ;
"RTN","DGBTDST1",24,0)
CMILE() ;
"RTN","DGBTDST1",25,0)
 N ERR,CREC
"RTN","DGBTDST1",26,0)
 S CREC=0 F  S CREC=$O(^DGBT(392.1,CREC)) Q:'CREC!($D(ERR))  S:$P($G(^DGBT(392.1,CREC,0)),U,3)'>0 ERR=1
"RTN","DGBTDST1",27,0)
 Q $D(ERR)>0
"RTN","DGBTE")
0^11^B13161061
"RTN","DGBTE",1,0)
DGBTE ;ALB/SCK-BENEFICIARY TRAVEL SETUP/MAIN ENTRY CALL UP; 11/20/92@1000; 11/25/92
"RTN","DGBTE",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTE",3,0)
START ;
"RTN","DGBTE",4,0)
 D QUIT^DGBTEND ; kill all variables
"RTN","DGBTE",5,0)
 S PRCABN=1,IOP="HOME" D ^%ZIS K IOP
"RTN","DGBTE",6,0)
 S DGBTIME=300 S:'$D(DTIME) DTIME=DGBTIME S:'$D(U) U="^"
"RTN","DGBTE",7,0)
 ;   if date/time is undefined, set DT value
"RTN","DGBTE",8,0)
 I '$D(DT)#2 S %DT="",S="T" D ^%DT S DT=Y
"RTN","DGBTE",9,0)
DIVISN ; if MED CTR DIV file set up (first record) and record does not exist, write warning, kill variables, and exit
"RTN","DGBTE",10,0)
 S X=$G(^DG(40.8,0)) I X="" W !,"WARNING...MEDICAL CENTER DIVISION FILE IS NOT SET UP",!,"USE THE ADT PARAMETER OPTION FILE TO SET UP DIVISION" G EXIT
"RTN","DGBTE",11,0)
 ;  check if multi-divisional center (GL node exists and 2nd piece=1). Do lookup, if it exists-set local variables
"RTN","DGBTE",12,0)
 I $D(^DG(43,1,"GL")),$P(^("GL"),U,2) D  G:Y'>0 EXIT G PATIENT
"RTN","DGBTE",13,0)
 . S DIC="^DG(40.8,",DIC(0)="AEQMNZ",DIC("A")="Select DIVISION: " W !!
"RTN","DGBTE",14,0)
 . D ^DIC K DIC Q:Y'>0
"RTN","DGBTE",15,0)
 . S DGBTDIVI=+Y,DGBTDIV=$P(Y,U,2)
"RTN","DGBTE",16,0)
 . D INSTIT S DGBTMD=1
"RTN","DGBTE",17,0)
 ;  if not a multi-divisional center, default to institution name
"RTN","DGBTE",18,0)
 S DGBTDIVI=$O(^DG(40.8,0)),DGBTDIV=$P(^DG(40.8,DGBTDIVI,0),U) D INSTIT
"RTN","DGBTE",19,0)
 ;
"RTN","DGBTE",20,0)
PATIENT ; patient lookup, quit if patient doesn't exist
"RTN","DGBTE",21,0)
 D QUIT1^DGBTEND ; kill local variables except med division vars
"RTN","DGBTE",22,0)
 S DGBTTOUT="",DIC="^DPT(",DIC(0)="AEQMZ",DIC("A")="Select PATIENT: "
"RTN","DGBTE",23,0)
 W !! D ^DIC K DIC G:Y'>0 EXIT
"RTN","DGBTE",24,0)
 ; get patient information#, call return patient return variables routine and set wether new claim or not
"RTN","DGBTE",25,0)
 S DFN=+Y D 6^VADPT,KVAR^DGBTEND,PID^VADPT
"RTN","DGBTE",26,0)
 S DGBTNEW=$S($D(^DGBT(392,"C",DFN)):0,1:1)
"RTN","DGBTE",27,0)
 ;
"RTN","DGBTE",28,0)
OLDCLAIM ;  find any past claims through DGBTE1 call
"RTN","DGBTE",29,0)
 D ^DGBTE1 Q:'$D(DGBTA)  ; set to call test routine, call old claims
"RTN","DGBTE",30,0)
 I '$D(^DG(43,1,"BT"))!('$D(^DG(43.1,$O(^DG(43.1,(9999999.9999999-DGBTDT))),"BT"))) D  G EXIT2
"RTN","DGBTE",31,0)
 . ;  check for certifying official and that current (or past) FY deductable is set up 
"RTN","DGBTE",32,0)
 . W !!,"***WARNING...BENE TRAVEL PARAMETERS HAVE NOT BEEN SET UP",!,"USE THE BENEFICIARY TRAVEL PARAMETER RATES ENTER/EDIT OPTION TO PROPERLY INITIALIZE"
"RTN","DGBTE",33,0)
 ;
"RTN","DGBTE",34,0)
SCREEN ;  display B/T claim information through screen1
"RTN","DGBTE",35,0)
 D SCREEN^DGBT1
"RTN","DGBTE",36,0)
 I '+VAEL(1) W !!,"Eligibility is missing from registration and is required to continue." G EXIT2
"RTN","DGBTE",37,0)
 S DIR("A")="Continue processing claim",DIR("?")="Sorry, enter 'Y'es or RETURN to continue procesing claim, 'N'o to exit",DIR(0)="Y",DIR("B")="YES"
"RTN","DGBTE",38,0)
 D ^DIR S ANS=Y K DIR G:'ANS!($D(DTOUT))!($D(DUOUT)) EXIT3
"RTN","DGBTE",39,0)
SCREEN2 ;
"RTN","DGBTE",40,0)
 D SCREEN^DGBT2
"RTN","DGBTE",41,0)
COMPLT ;  complete claims processing
"RTN","DGBTE",42,0)
 ;  
"RTN","DGBTE",43,0)
 I '$D(^DGBT(392,DGBTDT,"A")) S DA=DGBTDT,DIE="^DGBT(392,",DR="11///"_DGBTDIVI_";12////"_DUZ_";13///"_DT D ^DIE S %=1 W !!,"Complete claim for ",DGBTDTE D YN^DICN G:%=2 EXIT3 G:%=-1 EXIT2 D:%<1 HELP1 G:%<1 COMPLT D SCREEN^DGBTEE
"RTN","DGBTE",44,0)
 G:DGBTTOUT=-1 EXIT2
"RTN","DGBTE",45,0)
 G ^DGBTEND
"RTN","DGBTE",46,0)
HELP1 ;
"RTN","DGBTE",47,0)
 W !!?10,$S(%=-1:"SORRY, '^' NOT ALLOWED",1:"ENTER 'Y'ES OR 'N'O")
"RTN","DGBTE",48,0)
 Q
"RTN","DGBTE",49,0)
INSTIT ;  check for pointer to institution file and for address information on institution
"RTN","DGBTE",50,0)
 S DGBTDIVN=$P(^DG(40.8,DGBTDIVI,0),"^",7)
"RTN","DGBTE",51,0)
 I 'DGBTDIVN W !!,"INSTITUTION HAS NOT BEEN DEFINED FOR ",$P(^(0),"^"),!,"USE THE ADT PARAMETER OPTION TO UPDATE",! Q
"RTN","DGBTE",52,0)
 I $D(^DIC(4,DGBTDIVN,0)),$S($D(^(1))#10=0:1,$P(^(1),"^",3)']"":1,1:0) W !!,"INSTITUTION ADDRESS NOT ENTERED.  PLEASE UPDATE USING THE INSTITUTION FILE ENTER/EDIT",! Q
"RTN","DGBTE",53,0)
 Q
"RTN","DGBTE",54,0)
EXIT ; kills off all variables before quitting
"RTN","DGBTE",55,0)
 G QUIT^DGBTEND
"RTN","DGBTE",56,0)
 Q
"RTN","DGBTE",57,0)
EXIT2 ; delete claim through DIK call, return to patient label
"RTN","DGBTE",58,0)
 G DELETE1^DGBTEND
"RTN","DGBTE",59,0)
 Q
"RTN","DGBTE",60,0)
EXIT3 ;
"RTN","DGBTE",61,0)
 G DELETE^DGBTEND
"RTN","DGBTE",62,0)
 Q
"RTN","DGBTE1")
0^12^B17151890
"RTN","DGBTE1",1,0)
DGBTE1 ;ALB/SCK - BENEFICIARY TRAVEL FIND OLD CLAIM DATES  ;11/23/92@0800  03/19/93
"RTN","DGBTE1",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTE1",3,0)
DATE ;  get date for claim, either new or past date
"RTN","DGBTE1",4,0)
 K ^TMP("DGBT",$J),^TMP("DGBTARA",$J),DIR
"RTN","DGBTE1",5,0)
 I 'DGBTNEW S DIR("A",2)="Enter a 'P' to display Past CLAIM dates for editing."
"RTN","DGBTE1",6,0)
 S DIR("A",3)="Time is required when adding a new CLAIM.",DIR("A",4)="",DIR("A",1)="",DIR("A")="Select TRAVEL CLAIM DATE/TIME",DIR("?")="^D HELP^DGBTE1A"
"RTN","DGBTE1",7,0)
 S DIR(0)="F",DIR("B")="NOW" D ^DIR K DIR G ERR1:$D(DIRUT)
"RTN","DGBTE1",8,0)
 S CHZFLG=0,%DT="EXR",DTSUB=$S(Y="N":"NOW",Y="P":"OLD",Y="p":"OLD",1:"OTHR") D @DTSUB^DGBTE1A K DTSUB
"RTN","DGBTE1",9,0)
 G ERR1:$D(DTOUT),DATE:Y1<0 S DGBTA=Y1 G SET:CHZFLG
"RTN","DGBTE1",10,0)
DATE1 ;  for past claims, set DGBTDT to inverse date of claim date
"RTN","DGBTE1",11,0)
 I $D(^DGBT(392,"C",DFN)) D
"RTN","DGBTE1",12,0)
 . S DGBTC=0,DGBTDT=9999999-$E(DGBTA,1,7) ; set past claims counter=0
"RTN","DGBTE1",13,0)
 . ; for latest date (topmost) search for past claims
"RTN","DGBTE1",14,0)
 . F I=DGBTDT:0 S I=$O(^DGBT(392,"AI",DFN,I)) Q:'I!(I>(DGBTDT_.99999))  S DGBTC=DGBTC+1,DGBT(DGBTC)=9999999.99999-I
"RTN","DGBTE1",15,0)
 I '$D(DGBT) G LOCK
"RTN","DGBTE1",16,0)
 W !!,"There are other claims on this date.",!,"Select by number to edit or <RETURN> to add a new CLAIM.",!
"RTN","DGBTE1",17,0)
 ; convert inverse claim date to external format through VADATE conversion routine
"RTN","DGBTE1",18,0)
 F I=0:0 S I=$O(DGBT(I)) Q:'I  S VADAT("W")=DGBT(I) D ^VADATE W !?5,I,".",?10,VADATE("E")
"RTN","DGBTE1",19,0)
 K DIR S DIR("A")="Select 1"_$S(DGBTC=1:"",1:"-"_DGBTC)_", or <RETURN> to add a new claim: ",DIR(0)="NOA^1:"_DGBTC,DIR("?")="Select, by number, one of the displayed claim dates: "
"RTN","DGBTE1",20,0)
 D ^DIR K DIR G QUIT^DGBTEND:$D(DTOUT)!($D(DUOUT))
"RTN","DGBTE1",21,0)
 G LOCK:Y="" G DATE:'$D(DGBT(Y))
"RTN","DGBTE1",22,0)
 S DGBTA=DGBT(Y) G SET
"RTN","DGBTE1",23,0)
LOCK ;
"RTN","DGBTE1",24,0)
 L ^DGBT(392,DGBTA):1
"RTN","DGBTE1",25,0)
 I '$T!$D(^DGBT(392,DGBTA)) L  S DGBTA=DGBTA+.00001 G LOCK
"RTN","DGBTE1",26,0)
 S VADAT("W")=DGBTA D ^VADATE W VADATE("E")
"RTN","DGBTE1",27,0)
ASKADD ;
"RTN","DGBTE1",28,0)
 W !!,"Are you sure you want to add a new claim"
"RTN","DGBTE1",29,0)
 S %=1 D YN^DICN G PATIENT^DGBTE:%<0!(%=2)
"RTN","DGBTE1",30,0)
 I '% W !!,"Enter 'YES' to add a new claim, or 'NO' not to add the claim." G ASKADD
"RTN","DGBTE1",31,0)
 K DD,DO
"RTN","DGBTE1",32,0)
 ; create new file entry, stuff patient DFN into name field(pointer)
"RTN","DGBTE1",33,0)
 S (X,DINUM)=DGBTA,DIC="^DGBT(392,",DIC(0)="L",DIC("DR")="2////"_DFN
"RTN","DGBTE1",34,0)
 D FILE^DICN K DIC L
"RTN","DGBTE1",35,0)
 ; go back to patient if no file entry
"RTN","DGBTE1",36,0)
 G:Y'>0 PATIENT^DGBTE
"RTN","DGBTE1",37,0)
SET ; call inhouse generic date routine
"RTN","DGBTE1",38,0)
 S (DA,DGBTDT,VADAT("W"))=DGBTA D ^VADATE
"RTN","DGBTE1",39,0)
 ; get internal and external formats of converted inverse dates
"RTN","DGBTE1",40,0)
 S DGBTDTI=VADATE("I"),DGBTDTE=VADATE("E") K VADAT,VADATE,DIC,Y
"RTN","DGBTE1",41,0)
 S DGBTDIVN=$P(^DG(40.8,DGBTDIVI,0),"^",7)
"RTN","DGBTE1",42,0)
STUFF ;  stuff departure with address data from patient file, dest from institution file
"RTN","DGBTE1",43,0)
 S:'$D(^DGBT(392,DGBTDT,"D")) ^DGBT(392,DGBTDT,"D")=VAPA(1)_"^"_VAPA(2)_"^"_VAPA(3)_"^"_VAPA(4)_"^"_$S(VAPA(5)]"":+VAPA(5),1:"")_"^"_$P(VAPA(11),U,1)
"RTN","DGBTE1",44,0)
 I '$D(^DGBT(392,DGBTDT,"T")) D
"RTN","DGBTE1",45,0)
 . S X=$S($D(^DIC(4,DGBTDIVN,1)):^(1),1:"")
"RTN","DGBTE1",46,0)
 . S ^DGBT(392,DGBTDT,"T")=($P(^DG(40.8,DGBTDIVI,0),U)_"^"_$P(X,U)_"^"_$P(X,U,2)_"^"_$P(X,U,3)_"^"_$P(^DIC(4,DGBTDIVN,0),U,2)_"^"_$P(X,U,4))
"RTN","DGBTE1",47,0)
CHKFILES ; section removed, dependents picked up below in MEANS ; abr 10/94
"RTN","DGBTE1",48,0)
MEANS ;  find corres. means test entry, gets MT income, status, no. of dependents
"RTN","DGBTE1",49,0)
 ;DGBTMTS= MT Status;  DGBTCSC= claim Service Connected indicator & %;  DGBTELG=Eligibility status
"RTN","DGBTE1",50,0)
 N X,X2,X3,Y,DGBTIFL
"RTN","DGBTE1",51,0)
 S X=$$LST^DGMTU(DFN,DGBTA),DGBTMTS=$P(X,U,4)_U_$P(X,U,3) ; returns corres. MT info,X=IEN of last MT
"RTN","DGBTE1",52,0)
 ; get income, # dependents
"RTN","DGBTE1",53,0)
 S Y=$$INCOME^VAFMON(DFN,DGBTA,1)
"RTN","DGBTE1",54,0)
 S X=$P(Y,U),DGBTIFL=$P(Y,U,2) ; returns income & source.
"RTN","DGBTE1",55,0)
 I X?1N.E!(X<0) D
"RTN","DGBTE1",56,0)
 .I X<0 S X=0
"RTN","DGBTE1",57,0)
 .S X2="0$",X3=8 D COMMA^%DTC
"RTN","DGBTE1",58,0)
 S DGBTINC=X_U_$G(DGBTIFL) K X,X2
"RTN","DGBTE1",59,0)
 S DGBTDEP=$$DEP^VAFMON(DFN,DGBTA) ; finds depedents Vet, Spouse, Children
"RTN","DGBTE1",60,0)
 ;
"RTN","DGBTE1",61,0)
PREV ; if past claim get SC%, elig.
"RTN","DGBTE1",62,0)
 I CHZFLG S X=^DGBT(392,DGBTA,0),DGBTELG=$P(X,U,3),DGBTCSC=$P(X,U,4) D
"RTN","DGBTE1",63,0)
 . S:DGBTCSC DGBTCSC=1_U_DGBTCSC S:'DGBTCSC DGBTCSC=0
"RTN","DGBTE1",64,0)
 . S:DGBTELG DGBTELG=DGBTELG_U_$P(^DIC(8,DGBTELG,0),U)
"RTN","DGBTE1",65,0)
CERT ;  get last BT certification,  get date, then get eligibility
"RTN","DGBTE1",66,0)
 I $D(^DGBT(392.2,"C",DFN)) D
"RTN","DGBTE1",67,0)
 .;cd=cert date in inverse then external format, ce= eligibility, ca* = amt certified
"RTN","DGBTE1",68,0)
 . S DGBTCD=$O(^DGBT(392.2,"C",DFN,0)),DGBTCE=$P(^DGBT(392.2,DGBTCD,0),"^",3)
"RTN","DGBTE1",69,0)
 . S DGBTCA=$P(^DGBT(392.2,DGBTCD,0),"^",4),Y=9999999-$P(DGBTCD,".")
"RTN","DGBTE1",70,0)
 . X ^DD("DD") ; date conversion, y=cert date (internal)
"RTN","DGBTE1",71,0)
 . S DGBTCD=Y,X=DGBTCA,X2="0$",X3=8 K Y D COMMA^%DTC S DGBTCA=X K X,X2,X3
"RTN","DGBTE1",72,0)
APPTS ;  search patient file for appointments through claim date (DTI+1),  adddates to array DGBTCL 
"RTN","DGBTE1",73,0)
 F I=0:0 S I=$O(^DPT(DFN,"S",I)) Q:'I!(I>(DGBTDTI+1))  I $P(I,".")=$P(DGBTDTI,".") S DGBTCL(I)=^(I,0)
"RTN","DGBTE1",74,0)
EXIT ; exit routine
"RTN","DGBTE1",75,0)
 Q
"RTN","DGBTE1",76,0)
ERR1 ;  error condition
"RTN","DGBTE1",77,0)
 G QUIT^DGBTEND Q
"RTN","DGBTE1A")
0^13^B8968861
"RTN","DGBTE1A",1,0)
DGBTE1A ;ALB/SCK - BENEFICIARY TRAVEL FIND OLD CLAIMS PART 2; 1/22/93@1530
"RTN","DGBTE1A",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTE1A",3,0)
 ;
"RTN","DGBTE1A",4,0)
 ;
"RTN","DGBTE1A",5,0)
 Q
"RTN","DGBTE1A",6,0)
NOW ; date/time entry for NOW
"RTN","DGBTE1A",7,0)
 S (Y,Y1)=$$NOW^XLFDT()
"RTN","DGBTE1A",8,0)
 Q
"RTN","DGBTE1A",9,0)
OTHR ; date/time entry for manually entered date
"RTN","DGBTE1A",10,0)
 S %DT(0)="-NOW" D ^%DT S Y1=Y K %DT,%DT(0)
"RTN","DGBTE1A",11,0)
 Q
"RTN","DGBTE1A",12,0)
OLD ; date/time entry for select from past dates 
"RTN","DGBTE1A",13,0)
LIST2 ;  find all previous claims, get total count in DGBTC and put those claims in utility file
"RTN","DGBTE1A",14,0)
 N X1,YY
"RTN","DGBTE1A",15,0)
 S (DGBTC,DGBTCH,DGBTCH1)=0
"RTN","DGBTE1A",16,0)
 F I=0:0 S I=$O(^DGBT(392,"AI",DFN,I)) Q:'I  S DGBTC=DGBTC+1,^TMP("DGBT",$J,DGBTC,I)=9999999.99999-I ; order through claim file
"RTN","DGBTE1A",17,0)
 I '$D(^TMP("DGBT",$J))!('$D(^DGBT(392,"C",DFN))) W !!?10,"There are no entries on file for this patient",! S Y1=-1 G EXIT
"RTN","DGBTE1A",18,0)
 ;  build temporary global array using dates in utility file, converted to external format dates 
"RTN","DGBTE1A",19,0)
 F I=0:0 S I=$O(^TMP("DGBT",$J,I)) Q:'I  F J=0:0 S J=$O(^TMP("DGBT",$J,I,J)) Q:'J  S K=I,VADAT("W")=^(J) D ^VADATE S ^TMP("DGBTARA",$J,K)=VADATE("E")
"RTN","DGBTE1A",20,0)
LIST3 ;  list claims (in external format) from temporary global, 5 at a time. Loop thru list until selection made.
"RTN","DGBTE1A",21,0)
 S DGBTCH=1 W ! F X1=1:1:DGBTC W !?5,X1,".",?10,^TMP("DGBTARA",$J,X1) I X1#5=0!(X1=DGBTC) D CHOZ I $D(DUOUT)!$D(DTOUT)!(Y>0) S Y1=$S(+Y>0:Y,1:-1) K DIR Q
"RTN","DGBTE1A",22,0)
 G:'$D(DTOUT)&Y="" LIST3
"RTN","DGBTE1A",23,0)
  S Y1=$S(+Y>0:Y,1:-1) K DIR
"RTN","DGBTE1A",24,0)
EXIT ;
"RTN","DGBTE1A",25,0)
 K X1,YY,DGBTCHK,^TMP("DGBT",$J),^TMP("DGBTARA",$J)
"RTN","DGBTE1A",26,0)
 Q
"RTN","DGBTE1A",27,0)
CHOZ ;  select from the displayed past claims dates for claim to be edited.
"RTN","DGBTE1A",28,0)
 W !! S (Y1,Y)=0,DGBTCH1=X1,DIR(0)="FO^1:5",DIR("A")="Select CLAIM"
"RTN","DGBTE1A",29,0)
 S DIR("A",1)="Type '^' to exit date list, or <RETURN> to display more dates"
"RTN","DGBTE1A",30,0)
 S DIR("?")="Entering a '^' will exit the Past CLAIM list, entering <RETURN> will continue to scroll through past dates.",DIR("?",1)="Select a Past CLAIM date by number, or enter 'N' for NOW."
"RTN","DGBTE1A",31,0)
 D ^DIR K DIR I $D(DTOUT)!($D(DUOUT)) S Y1=-1 Q
"RTN","DGBTE1A",32,0)
 I Y="N"!(Y="n") W "   " D NOW Q
"RTN","DGBTE1A",33,0)
 Q:Y=""
"RTN","DGBTE1A",34,0)
 I X<DGBTCH!(X>DGBTCH1)!(X'=+X) W !?25,*7,"INVALID ENTRY!" G CHOZ ; value must be between 1 and last displayed number
"RTN","DGBTE1A",35,0)
 I X,$D(^TMP("DGBT",$J,X)) S Y=$O(^TMP("DGBT",$J,X,0)),Y=^TMP("DGBT",$J,X,Y),CHZFLG=1
"RTN","DGBTE1A",36,0)
 Q
"RTN","DGBTE1A",37,0)
HELP ;
"RTN","DGBTE1A",38,0)
 S %DT="EXR" D ^%DT
"RTN","DGBTE1A",39,0)
 W !!,"Time is required when adding a new CLAIM date.",!,"If there is more than one claim per date, select by number to edit."
"RTN","DGBTE1A",40,0)
 Q
"RTN","DGBTEE")
0^14^B12421263
"RTN","DGBTEE",1,0)
DGBTEE ;ALB/SCK - BENEFICIARY TRAVEL ENTER/EDIT; 12/3/92@1600
"RTN","DGBTEE",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTEE",3,0)
 Q
"RTN","DGBTEE",4,0)
SCREEN ;
"RTN","DGBTEE",5,0)
 D SCREEN^DGBTEE1 Q:DGBTTOUT=-1!(DGBTTOUT=1)  Q:'$D(^DGBT(392,DGBTDT,0))
"RTN","DGBTEE",6,0)
 ;  The following section of code moved to DGBTEE2 for space problems
"RTN","DGBTEE",7,0)
 D STUFF^DGBTEE2
"RTN","DGBTEE",8,0)
MILES ;  get miles between dep. and dest. using function call to DGBTUTL
"RTN","DGBTEE",9,0)
 K X,DGBTREC S (DGBTOWRT,DGBTML,DGBTMLT)=""
"RTN","DGBTEE",10,0)
 I DGBTFR4]""&((DGBTACCT=4)!(DGBTACCT=5)) I $D(^DGBT(392.1,"ACS",DGBTFR4,+VAPA(5))) D
"RTN","DGBTEE",11,0)
 . S X=$O(^(+VAPA(5),0)) ; naked ref. refers to file #392.1, "ACS", city.  Full reference on line MILES+2^DGBTEE, ^DGBTE(392.1,"ACS",DGBTFR4,+VAPA(5)
"RTN","DGBTEE",12,0)
 . ;  function $$miles passes city's record# and div name to function, mileage value is returned
"RTN","DGBTEE",13,0)
 . I X'="" S DGBTREC=X,DGBTML=$$MILES^DGBTUTL(DGBTREC,DGBTDV1),DGBTOWRT="ROUND TRIP" K X
"RTN","DGBTEE",14,0)
 S (DGBTMAL,DGBTFAB,DGBTME,DGBTCP,DGBTFLAG,DGBTDCV,DGBTDE,DGBTDCM,DGBTDPV,DGBTDPM)=0
"RTN","DGBTEE",15,0)
DIE1 ;  stuff from,to address, meals, ferry's/bridges
"RTN","DGBTEE",16,0)
 Q:'$D(^DGBT(392,DGBTDT,0))
"RTN","DGBTEE",17,0)
 S DIE="^DGBT(392,",DA=DGBTDT,DR=$S(DGBTACCT=4:"42//"_DGBTAP,DGBTACCT=5:"43;S DGBTCP=X;42//"_DGBTAP,1:"44")
"RTN","DGBTEE",18,0)
 D ^DIE I X=""!(X="^") S DGBTTOUT=-1 Q
"RTN","DGBTEE",19,0)
 S DR="21////^S X=DGBTFR1;22////^S X=DGBTFR2;23////^S X=DGBTFR3;24////^S X=DGBTFR4;25////^S X=DGBTTO1;26////^S X=DGBTTO2;27////^S X=DGBTTO3;28////^S X=DGBTTO4;34////^S X=DGBTMAL;35////^S X=DGBTFAB"
"RTN","DGBTEE",20,0)
 D ^DIE I X=""!(X="^") S DGBTTOUT=-1 Q
"RTN","DGBTEE",21,0)
 ;  function $$diclkup passes the city's record #, div name, and a flag for remarks (4), remarks or a null are returned
"RTN","DGBTEE",22,0)
 I DGBTACCT=4!(DGBTACCT=5) D
"RTN","DGBTEE",23,0)
 . W !!,"Please wait, Checking Mileage ..."
"RTN","DGBTEE",24,0)
 . S DGBTRMK=$S($D(DGBTREC):$$DICLKUP^DGBTUTL(DGBTREC,DGBTDV1,4),1:"") I $D(DGBTDEF),DGBTDEF S DGBTRMK="DEFAULT MILEAGE USED"
"RTN","DGBTEE",25,0)
 . I DGBTRMK]"" W !,*7,"MILEAGE REMARKS: ",DGBTRMK,!
"RTN","DGBTEE",26,0)
EDIT ;  display trip type, mileage
"RTN","DGBTEE",27,0)
 I DGBTACCT=4!(DGBTACCT=5) S DR="32//"_DGBTML_";S DGBTML=X;31//"_DGBTOWRT_";S DGBTOWRT=X;" D ^DIE I X=""!(X="^") S DGBTTOUT=-1 Q
"RTN","DGBTEE",28,0)
 S:DGBTACCT=5&(DGBTCP=1) DGBTMR=DGBTMR1 S DGBTMLT=DGBTOWRT*DGBTML*DGBTMR,DR="33///"_DGBTMLT
"RTN","DGBTEE",29,0)
 D ^DIE I X=""!(X="^") S DGBTTOUT=-1 Q
"RTN","DGBTEE",30,0)
DIE2 ;  stuff eligibility data, SC%, acct. type
"RTN","DGBTEE",31,0)
 S DIE("NO^")="12345" S:'$D(DGBTCD) DGBTCD=""
"RTN","DGBTEE",32,0)
 S DR="3////"_DGBTELIG_";4////"_DGBTSCP_";5///"_DGBTCD_";6////"_DGBTACTN_";I DGBTACCT=4!(DGBTACCT=5) S Y=""@1"";41;7;@1;I DGBTMLFB=0 S Y=""@2"";34;S DGBTMAL=X;35;S DGBTFAB=X;@2"
"RTN","DGBTEE",33,0)
DIE3 ;  get most econ. cost
"RTN","DGBTEE",34,0)
 D ^DIE I X=""!(X="^") S DGBTTOUT=-1 Q
"RTN","DGBTEE",35,0)
 ;  function $$diclkup passes the city's record #, division name, and flag for MEC (3), the MEC is returned
"RTN","DGBTEE",36,0)
 S:$D(DGBTREC) DGBTME=$$DICLKUP^DGBTUTL(DGBTREC,DGBTDV1,3) S:DGBTME="" DGBTME=0 S DR="8//"_DGBTME_";S DGBTME=X"
"RTN","DGBTEE",37,0)
 D ^DIE I X=""!(X="^") S DGBTTOUT=-1 G EXIT
"RTN","DGBTEE",38,0)
TCOST ; calculate total cost and monthly cum. deductable
"RTN","DGBTEE",39,0)
MLFB ;
"RTN","DGBTEE",40,0)
 S DGBTMAF=$S(DGBTMLFB:DGBTMAL+DGBTFAB,1:0),DGBTMETC=DGBTME+$S($D(DGBTMAL):DGBTMAL,1:0)
"RTN","DGBTEE",41,0)
 I DGBTACCT'=4&(DGBTACCT'=5) S DGBTPA=DGBTMAF+DGBTME G CONT
"RTN","DGBTEE",42,0)
 I $D(DGBTMLT) S DGBTTC=$S(DGBTMLT+DGBTMAF'>DGBTMETC:DGBTMLT+DGBTMAF,DGBTMLT+DGBTMAF>DGBTMETC&(DGBTME>0):DGBTMETC,DGBTME'>0:DGBTMLT+DGBTMAF,1:DGBTMETC)
"RTN","DGBTEE",43,0)
 I DGBTACCT=5 S DGBTDE=0 S DGBTPA=$S((DGBTMLT+DGBTMAF)'=0:DGBTTC,1:DGBTMETC) G CONT
"RTN","DGBTEE",44,0)
 ;  the following section of code moved to DGBTEE2 for space reasons
"RTN","DGBTEE",45,0)
 D DED^DGBTEE2
"RTN","DGBTEE",46,0)
DIE4 ;  display deductable amount
"RTN","DGBTEE",47,0)
 D ^DIE I X=""!(X="^") S DGBTTOUT=-1 Q
"RTN","DGBTEE",48,0)
CONT ;
"RTN","DGBTEE",49,0)
 D CONT^DGBTCE1 Q
"RTN","DGBTEE",50,0)
EXIT ;
"RTN","DGBTEE",51,0)
 K DGBTDV1,DGBTRMK Q
"RTN","DGBTEE1")
0^15^B18859076
"RTN","DGBTEE1",1,0)
DGBTEE1 ;ALB/SCK - BENEFICIARY TRAVEL ENTER/EDIT CHECK; 12/7/92 3/19/93
"RTN","DGBTEE1",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTEE1",3,0)
 Q
"RTN","DGBTEE1",4,0)
SCREEN ;  called by dgbtee,dgbtce
"RTN","DGBTEE1",5,0)
 Q:'$D(^DGBT(392,DGBTDT,0))
"RTN","DGBTEE1",6,0)
 K DGBTVAR F I=0,"A","D","M","R","T" S DGBTVAR(I)=$S($D(^DGBT(392,DGBTDT,I)):^(I),1:"") ; ref file #392, claims
"RTN","DGBTEE1",7,0)
 W @IOF S DGBTFLAG=0
"RTN","DGBTEE1",8,0)
 I '$D(^DG(43,1,"BT"))!('$D(^DG(43.1,$O(^DG(43.1,(9999999.99999-DGBTDT))),"BT"))) W !!,"Module has not been properly initialized - to continue you should first complete",!,"the parameters" Q
"RTN","DGBTEE1",9,0)
 W !?16,"Beneficiary Travel Claim Information <Enter/Edit>"
"RTN","DGBTEE1",10,0)
 D PID^VADPT6
"RTN","DGBTEE1",11,0)
 W !!?8,"Name: ",VADM(1),?40,"PT ID: ",VA("PID"),?64,"DOB: ",$P(VADM(3),"^",2),!
"RTN","DGBTEE1",12,0)
START ; ask date/time, and division
"RTN","DGBTEE1",13,0)
 K DIC,^TMP("DGBT",$J),X
"RTN","DGBTEE1",14,0)
 S DIE="^DGBT(392,",DIE("NO^")="OUTOK"
"RTN","DGBTEE1",15,0)
 S DR=".01;S (DGBTDT,VADAT(""W""))=X D ^VADATE S DGBTDTI=VADATE(""I""),DGBTDTE=VADATE(""E"") K VADAT,VADATE I '$D(DGBTMD) S Y=""@1"";11;@1"
"RTN","DGBTEE1",16,0)
 S DIDEL=392 ; allows users to delete BT claims
"RTN","DGBTEE1",17,0)
 D ^DIE K DIE,DIDEL,DQ,DR I $D(DTOUT)!($D(Y)) S DGBTTOUT=-1 Q
"RTN","DGBTEE1",18,0)
 K X
"RTN","DGBTEE1",19,0)
 I '$D(^DGBT(392,DGBTDT,0)) Q
"RTN","DGBTEE1",20,0)
 I $D(^DGBT(392,DGBTDT,0)) L ^DGBT(392,DGBTDT):2 I '$T W !?5,"Another user is editing this entry.",*7 S DGBTTOUT=1 G QUIT
"RTN","DGBTEE1",21,0)
 ; set rates and build eligibilities in DGBTEE2
"RTN","DGBTEE1",22,0)
 D RATES^DGBTEE2
"RTN","DGBTEE1",23,0)
ELIG1 ;  select eligibility from those available in TMP list
"RTN","DGBTEE1",24,0)
 I '$O(VAEL(1,0)) S DGBTELIG=+VAEL(1) G ESET1
"RTN","DGBTEE1",25,0)
 S DIR("A")="Select ELIGIBILITY",DIR("B")=$S($P(^DGBT(392,DGBTDT,0),"^",3):$P(^DIC(8,$P(^DGBT(392,DGBTDT,0),"^",3),0),"^"),VAEL(1):$P(VAEL(1),"^",2),1:"")
"RTN","DGBTEE1",26,0)
 S DIR(0)="F",DIR("?")="^D ELIST^DGBTEE2"
"RTN","DGBTEE1",27,0)
 D ^DIR K DIR I $D(DUOUT) W !?3,"SORRY, '^' NOT ALLOWED!!" G ELIG1
"RTN","DGBTEE1",28,0)
 I $D(DTOUT) S DGBTTOUT=-1 Q
"RTN","DGBTEE1",29,0)
 S:Y="" DGBTELIG=$S($P(^DGBT(392,DGBTDT,0),"^",3):$P(^(0),"^",3),1:+VAEL(1)) ; ref file #392, claims
"RTN","DGBTEE1",30,0)
 I X["@" W !,"ELIGIBILITY REQUIRED." G ELIG1
"RTN","DGBTEE1",31,0)
 I Y?1A.E F I=0:0 S I=$O(^TMP("DGBT",$J,I)) Q:'I  I $E($P(^(I),"^",2),1,$L(X))=X S XX=Y,Y=I G ESET ; ref ^TMP file for eligibility
"RTN","DGBTEE1",32,0)
 I +Y?1N.N S Y=+Y F I=0:0 S I=$O(^TMP("DGBT",$J,I)) Q:'I  I +$P(^(I),"^")=Y S XX=Y,Y=I G ESET ; ref ^TMP file for eligibility
"RTN","DGBTEE1",33,0)
ECHOZ ;
"RTN","DGBTEE1",34,0)
 W !!,"Choose by NUMBER the primary eligibility or other entitled eligibilities",!
"RTN","DGBTEE1",35,0)
 I DGBTCT>1 F I=0:0 S I=$O(^TMP("DGBT",$J,I)) Q:'I  W !?5,I,?10,$P(^TMP("DGBT",$J,I),"^",2)
"RTN","DGBTEE1",36,0)
 K DIR,X S DIR("A")="Choose 1-"_DGBTCT,DIR(0)="NO^1:"_DGBTCT,DIR("?")="Enter choice from those displayed"
"RTN","DGBTEE1",37,0)
 D ^DIR K DIR G:$D(DIRUT) ELIG1 S XX=Y
"RTN","DGBTEE1",38,0)
 I '$D(^TMP("DGBT",$J,Y)) W " ?? ",!,"Select ELIGIBILITY: " G ECHOZ
"RTN","DGBTEE1",39,0)
ESET ;
"RTN","DGBTEE1",40,0)
 S:$D(Y) DGBTELIG=$S($D(^TMP("DGBT",$J,Y)):+^TMP("DGBT",$J,Y),'$D(XX):Y,1:+VAEL(1))
"RTN","DGBTEE1",41,0)
 W:Y]"" ?30,$E($P(^DIC(8,+DGBTELIG,0),"^"),$S($D(XX):($L(XX)+1),1:1),99)
"RTN","DGBTEE1",42,0)
ESET1 ;
"RTN","DGBTEE1",43,0)
 S DGBTSCP=$S($P(^DIC(8,DGBTELIG,0),"^",9)=1&(+VAEL(3)):$P(VAEL(3),"^",2),$P(^DIC(8,DGBTELIG,0),"^",9)=3&(+VAEL(3)):$P(VAEL(3),"^",2),1:"")
"RTN","DGBTEE1",44,0)
CERT ;  stuff of certification date if appropriate
"RTN","DGBTEE1",45,0)
 ; naked global ref file #392.2, certification file.
"RTN","DGBTEE1",46,0)
 I $P(VAEL(3),"^") S DGBTCD="" I VAEL(3)&($P(VAEL(3),"^",2)'>29) S DGBTIDT=9999999.99999-DGBTDT F I=0:0 S I=$O(^DGBT(392.2,"C",DFN,I)) Q:'I  I I'>DGBTIDT&($P(^DGBT(392.2,I,0),"^",3)) S DGBTCD=$P(^(0),"^")
"RTN","DGBTEE1",47,0)
ACCT ;  allowed to select only valid active accounts
"RTN","DGBTEE1",48,0)
 S DGBTOACT=$S('$D(^DGBT(392.3,+$P(DGBTVAR(0),"^",6),0)):0,1:+$P(^DGBT(392.3,$P(DGBTVAR(0),"^",6),0),"^",5))
"RTN","DGBTEE1",49,0)
 K X S (DIC("B"),X)=$S(+$P(DGBTVAR(0),"^",6):$P(^DGBT(392.3,$P(DGBTVAR(0),"^",6),0),"^"),1:$$DEFLT1) S DIC("A")="Select ACCOUNT: "
"RTN","DGBTEE1",50,0)
 S DIC="^DGBT(392.3,",DIC(0)="AEQMZ",DIC("S")="I $P(^(0),U,3)'>DGBTDT&('$P(^(0),U,4)!($P(^(0),U,4)'<DGBTDT))"
"RTN","DGBTEE1",51,0)
 D ^DIC K DIC I $D(DTOUT) S DGBTTOUT=-1 K DTOUT Q
"RTN","DGBTEE1",52,0)
 I Y'>0 W !,"ACCOUNT IS REQUIRED!!" G ACCT
"RTN","DGBTEE1",53,0)
 S DGBTACTN=$P(Y,"^"),DGBTACCT=$P(Y(0),"^",5)
"RTN","DGBTEE1",54,0)
 ;  if account is ALL OTHER - stuff in mileage info
"RTN","DGBTEE1",55,0)
 I $D(DGBTVAR("M")) S DGBTML=$P(DGBTVAR("M"),"^",2),DGBTOWRT=$P(DGBTVAR("M"),"^"),DGBTMLT=DGBTML*DGBTOWRT*DGBTMR
"RTN","DGBTEE1",56,0)
QUIT ;
"RTN","DGBTEE1",57,0)
 K A,C,I,IA,J,X,XX,^TMP("DGBT",$J),DGBTDIV,DGBTIDT,DGBTCT
"RTN","DGBTEE1",58,0)
 Q
"RTN","DGBTEE1",59,0)
 ;
"RTN","DGBTEE1",60,0)
DEFLT1() ;
"RTN","DGBTEE1",61,0)
 N REC,Y
"RTN","DGBTEE1",62,0)
 S REC="0" F  S REC=$O(^DGBT(392.3,REC)) Q:'REC  D  Q:$D(Y)
"RTN","DGBTEE1",63,0)
 . S:$P(^DGBT(392.3,REC,0),U,5)=4&($P(^(0),U,3)'>DGBTDT&('$P(^(0),U,4)!($P(^(0),U,4)'<DGBTDT))) Y=$P(^(0),U,1)
"RTN","DGBTEE1",64,0)
 Q $G(Y)
"RTN","DGBTEE2")
0^16^B10939988
"RTN","DGBTEE2",1,0)
DGBTEE2 ;ALB/SCK BENEFICIARY TRAVEL ENTER/EDIT CONT; 03/23/93
"RTN","DGBTEE2",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTEE2",3,0)
START ;
"RTN","DGBTEE2",4,0)
 Q
"RTN","DGBTEE2",5,0)
STUFF ;  stuff departure=home address, destination=division(ins) address, and attendant/payee=patient        
"RTN","DGBTEE2",6,0)
 S DGBTFR1=VAPA(1),DGBTFR2=VAPA(2),DGBTFR3=VAPA(3),DGBTAP=VADM(1)
"RTN","DGBTEE2",7,0)
 ; function call $$DEPCTY passes the zip code from the patient data, and returns with the departure city name or a null.
"RTN","DGBTEE2",8,0)
 ; if a null for the city is returned, the city name in the patient data is defaulted to.
"RTN","DGBTEE2",9,0)
 S XX=$$DEPCTY^DGBTUTL($P(VAPA(11),U,1)) S X=$S(+XX>0:$P(XX,U,2),1:VAPA(4))
"RTN","DGBTEE2",10,0)
 D UP^DGBTHELP S DGBTFR4=X
"RTN","DGBTEE2",11,0)
 K DGBTVAR(0) S DGBTVAR(0)=$S($D(^DGBT(392,DGBTDT,0)):^(0),1:"")
"RTN","DGBTEE2",12,0)
 S (DGBTDIV,DGBTDV1)=$P(DGBTVAR(0),"^",11),DGBTTO1=$P(^DG(40.8,DGBTDIV,0),"^"),DGBTDIV=$P(^DG(40.8,DGBTDIV,0),"^",7)
"RTN","DGBTEE2",13,0)
 S (DGBTTO2,DGBTTO3,DGBTTO4,X)=""
"RTN","DGBTEE2",14,0)
 I $D(^DIC(4,DGBTDIV,1))#10=1 S DGBTTO2=$P(^DIC(4,DGBTDIV,1),"^"),DGBTTO3=$P(^(1),"^",2),X=$P(^(1),"^",3) D UP^DGBTHELP S DGBTTO4=X ; ref file #4, institution file by selected div
"RTN","DGBTEE2",15,0)
 Q
"RTN","DGBTEE2",16,0)
DED ;
"RTN","DGBTEE2",17,0)
 F I=$E(DGBTDT,1,5)_"00.2399":0 S I=$O(^DGBT(392,"C",DFN,I)) Q:'I!($E(I,1,5)>$E(DGBTDT,1,5))  S DGBTDCM=DGBTDCM+($P(^DGBT(392,I,0),"^",9))
"RTN","DGBTEE2",18,0)
 I $D(^DG(43.1,$O(^DG(43.1,(9999999.99999-DGBTDT))),"BT")) D
"RTN","DGBTEE2",19,0)
 . S DGBTRATE=^("BT"),DGBTDPV=$P(DGBTRATE,"^"),DGBTDPM=$P(DGBTRATE,"^",2),DGBTMR=$P(DGBTRATE,"^",3) ; ref file #43, MAS parameters file for BT settings
"RTN","DGBTEE2",20,0)
 I $D(^DGBT(392,DGBTDT,"M")) I $P(^("M"),"^")=1 S DGBTDPV=DGBTDPV/2 ; ref file #392, claims file.
"RTN","DGBTEE2",21,0)
 S DGBTDRM=DGBTDPM-DGBTDCM
"RTN","DGBTEE2",22,0)
 S DGBTDCV=$S(DGBTDCM'<DGBTDPM:0,DGBTDRM'<DGBTDPV&(DGBTTC'<DGBTDPV):DGBTDPV,DGBTDRM'<DGBTDPV&(DGBTTC'>DGBTDPV):DGBTTC,DGBTDRM'>DGBTDPV&(DGBTTC'>DGBTDRM):DGBTTC,DGBTDRM'>DGBTDPV&(DGBTTC'<DGBTDRM):DGBTDRM,1:0)
"RTN","DGBTEE2",23,0)
DED1 ;
"RTN","DGBTEE2",24,0)
 S DR="9////"_DGBTDCV_";9;S DGBTDE=X S:DGBTDE>DGBTTC DGBTDE=DGBTTC,DGBTFlAG=2 S:DGBTDE>DGBTDRM DGBTDE=DGBTDRM,DGBTFLAG=1"
"RTN","DGBTEE2",25,0)
 Q
"RTN","DGBTEE2",26,0)
RATES ;  checks parameter to ask meals & lodging, ferrys & bridges        
"RTN","DGBTEE2",27,0)
 S DGBTMLFB=$S($D(^DG(43,1,"BT")):$P(^DG(43,1,"BT"),"^",2),1:0)
"RTN","DGBTEE2",28,0)
 ;  mileage rate
"RTN","DGBTEE2",29,0)
 S DGBTMR=$S($D(^DG(43.1,$O(^DG(43.1,(9999999.99999-DGBTDT))),"BT")):$P(^("BT"),"^",3),1:0) ; ref file #43.1, MAS event rates file for BT rates
"RTN","DGBTEE2",30,0)
 S DGBTMR1=$S($D(^DG(43.1,$O(^DG(43.1,(9999999.99999-DGBTDT))),"BT")):$P(^("BT"),"^",5),1:0) ; ref file #43.1, MAS event rates file for BT rates
"RTN","DGBTEE2",31,0)
ELIG ;  lookup current eligibilities for patient and put into TMP list
"RTN","DGBTEE2",32,0)
 S DGBTCT=1,^TMP("DGBT",$J,DGBTCT)=VAEL(1)
"RTN","DGBTEE2",33,0)
 F I=0:0 S I=$O(VAEL(1,I)) Q:'I  S DGBTCT=DGBTCT+1,^TMP("DGBT",$J,DGBTCT)=VAEL(1,I)
"RTN","DGBTEE2",34,0)
 Q
"RTN","DGBTEE2",35,0)
ELIST ;
"RTN","DGBTEE2",36,0)
 W !!?5,"Primary and other entitled eligibilities for patient:",!
"RTN","DGBTEE2",37,0)
 I DGBTCT>1 F I=0:0 S I=$O(^TMP("DGBT",$J,I)) Q:'I  W !?10,$P(^TMP("DGBT",$J,I),U,2)
"RTN","DGBTEE2",38,0)
 Q
"RTN","DGBTEE2",39,0)
EXIT ;
"RTN","DGBTEE2",40,0)
 Q
"RTN","DGBTEF")
0^17^B20460457
"RTN","DGBTEF",1,0)
DGBTEF ;ALB/SCK - BENEFICIARY TRAVEL ENTER/EDIT CERTIFICATION FILE ; 12/8/92 03/11/93
"RTN","DGBTEF",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTEF",3,0)
CERT ;
"RTN","DGBTEF",4,0)
 D QUIT S DIC="^DPT(",DIC(0)="AEQMZ" W !! D ^DIC K DIC G QUIT:Y'>0 S DFN=+Y
"RTN","DGBTEF",5,0)
 G:'$O(^DGBT(392.2,"C",DFN,0)) ADD S DGBT=$O(^(0))
"RTN","DGBTEF",6,0)
 S DGBT=^DGBT(392.2,DGBT,0) W !!,"Last Certification: " S VADAT("W")=+DGBT D ^VADATE W VADATE("E"),?39,"Eligible: ",$S($P(DGBT,U,3):"YES",1:"NO"),?55,"Amount Certified: ",$P(DGBT,U,4)
"RTN","DGBTEF",7,0)
AE ;
"RTN","DGBTEF",8,0)
 S DIR("A")="'A'DD A NEW DATE, 'E'DIT EXISTING OR 'Q'UIT: ",DIR("A",1)="",DIR("B")="ADD",DIR("?")="Q - to 'Q'uit",DIR("?",1)=""
"RTN","DGBTEF",9,0)
 S DIR("?",2)="ENTER    A - to 'A'dd a new certification date",DIR("?",3)="E - to 'E'dit an existing entry for this patient"
"RTN","DGBTEF",10,0)
 S DIR(0)="SAO^A:ADD;E:EDIT;Q:QUIT"
"RTN","DGBTEF",11,0)
 D ^DIR K DIR Q:$D(DUOUT)!($D(DTOUT))!(Y="Q")  G EDIT:Y="E",ADD:Y="A"
"RTN","DGBTEF",12,0)
 Q
"RTN","DGBTEF",13,0)
ADD ;
"RTN","DGBTEF",14,0)
 S DIR(0)="D^:NOW:PXR",DIR("A")="Select CERTIFICATION DATE: ",DIR("A",1)="",DIR("B")="NOW",DIR("?")="^D DHELP^DGBTEF"
"RTN","DGBTEF",15,0)
 D ^DIR K DIR G QUIT:$D(DUOUT) G QUIT1:$D(DTOUT) S DGBTA=9999999.99999-(+Y),DGBTDT=+Y
"RTN","DGBTEF",16,0)
 I $D(^DGBT(392.2,"C",DFN)) F I=0:0 S I=$O(^DGBT(392.2,"C",DFN,I)) Q:'I  I I[$P(DGBTA,".") W !!,"There is already a certification for " S VADAT("W")=DGBTDT D ^VADATE W VADATE("E"),".",!,"Only one certification per date is necessary." G AE
"RTN","DGBTEF",17,0)
LOCK ;
"RTN","DGBTEF",18,0)
 I DGBTA'["." D DHELP G:DGBTA'["." ADD
"RTN","DGBTEF",19,0)
 L ^DGBT(392.2,DGBTA):1 I '$T!$D(^DGBT(392.2,DGBTA)) L  S DGBTA=DGBTA+.00001 G LOCK
"RTN","DGBTEF",20,0)
 S VADAT("W")=9999999.99999-DGBTA D ^VADATE W " ",VADATE("E")
"RTN","DGBTEF",21,0)
 K DD,DO S X=DGBTDT,DINUM=DGBTA,DIC="^DGBT(392.2,",DIC(0)="L",DIC("DR")="2////"_DFN D FILE^DICN K DIC("DR") L  G:Y'>0 CERT
"RTN","DGBTEF",22,0)
DIE ;
"RTN","DGBTEF",23,0)
 S X=$$LST^DGMTU(DFN,"",1) I $G(X),$D(^DGMT(408.31,+X,0)) S X=$P(^(0),"^",4),X2="0$" D COMMA^%DTC S DGBTMTI=X K X,X2 W !!,"REPORTED MEANS TEST INCOME: ",DGBTMTI
"RTN","DGBTEF",24,0)
 ;I $D(^DG(41.3,DFN,0)),$D(^(1,0)),$D(^(2,0)) S DGBTMTD=$P(^DG(41.3,DFN,1,$P(^(1,0),"^",3),0),"^",3),X=$P(^DG(41.3,DFN,2,$P(^(2,0),"^",3),0),"^",4),X2="0$" D COMMA^%DTC S DGBTMTI=X K X,X2 W !!,"REPORTED MEANS TEST INCOME: ",DGBTMTI
"RTN","DGBTEF",25,0)
 D 6^VADPT S DGBTCC=$S($D(^DIC(5,+VAPA(5),1,+VAPA(7),0)):$P(^(0),"^",3),1:""),DGBTEL=$P(VAEL(1),"^",2)
"RTN","DGBTEF",26,0)
 S DA=DGBTA,DIE="^DGBT(392.2,",DIE("NO^")="12345"
"RTN","DGBTEF",27,0)
 S DR=".01;4;3;5////"_DUZ_";6///"_DT_";11///^S X=VAPA(1);12///^S X=VAPA(2);13///^S X=VAPA(3);14///^S X=VAPA(4);15///"_$S(VAPA(5)]"":+VAPA(5),1:"")_";16///^S X=$P(VAPA(11),U,1);17///"_DGBTCC_";18///"_$P(VAEL(9),"^")_";19///"_DGBTEL
"RTN","DGBTEF",28,0)
 D ^DIE G QUIT:$D(DTOUT) G:'$D(DA) CERT
"RTN","DGBTEF",29,0)
 I $D(^DGBT(392.2,DA,0)) S X=$P(^DGBT(392.2,DA,0),U,4),X2="0$" D COMMA^%DTC S DGBTCA=X K X,X2
"RTN","DGBTEF",30,0)
 I $D(^DGBT(392.2,DA,0)),$D(DGBTMTI),DGBTMTI'=DGBTCA W !!?5," * * * * Discrepancy exists in incomes reported, please verify * * * *",! S DGBTINFL=1
"RTN","DGBTEF",31,0)
 G CERT
"RTN","DGBTEF",32,0)
EDIT ;
"RTN","DGBTEF",33,0)
 S X="",(DGBTC,DGBTCH,DGFL)=0 F I=0:0 S I=$O(^DGBT(392.2,"C",DFN,I)) Q:'I  S DGBTC=DGBTC+1,^UTILITY($J,"DGBT",DGBTC,I)=""
"RTN","DGBTEF",34,0)
 I '$D(^UTILITY($J,"DGBT"))!'$D(^DGBT(392.2,"C",DFN)) W !,"There are no computer entries on file for this patient." G CERT
"RTN","DGBTEF",35,0)
 F I=0:0 S I=$O(^UTILITY($J,"DGBT",I)) Q:'I!(DGBTCH)!(X["^")!(DGFL)  D
"RTN","DGBTEF",36,0)
 . F J=0:0 S J=$O(^UTILITY($J,"DGBT",I,J)) Q:'J  S K=I,Y=9999999.99999-J X ^DD("DD") W !?5,I,". ",?10,$P(Y,"@") I K#5=0 D CHOZ Q:DGBTCH!(DGFL)
"RTN","DGBTEF",37,0)
 G:DGFL=1 QUIT D:K#5'=0 CHOZ I DGBTCH S DGBTA=$O(^UTILITY($J,"DGBT",X,0)) G DIE
"RTN","DGBTEF",38,0)
 G:'$T QUIT G AE
"RTN","DGBTEF",39,0)
CHOZ ;
"RTN","DGBTEF",40,0)
 S DIR("A")="Choose",DIR(0)="NO^1:"_K D ^DIR K DIR Q:$D(DIRUT)
"RTN","DGBTEF",41,0)
 I Y,$D(^UTILITY($J,"DGBT",Y)) S DGBTCH=1,VADAT("W")=9999999.99999-$O(^(Y,0)) D ^VADATE W " ",VADATE("E") Q
"RTN","DGBTEF",42,0)
 Q
"RTN","DGBTEF",43,0)
DHELP ;
"RTN","DGBTEF",44,0)
 W !!,"Enter the date of annual certification.",!,"Time is required when adding a new certification date.",!,"Future dates are not allowed.",! S X="?",%DT="ER" D ^%DT Q
"RTN","DGBTEF",45,0)
QUIT1 ;
"RTN","DGBTEF",46,0)
 I $D(DA) S DIK="^DGBT(392.2," D ^DIK K DIK
"RTN","DGBTEF",47,0)
QUIT ;
"RTN","DGBTEF",48,0)
 K ^UTILITY($J,"DGBT"),%DT,D,DA,DD,DFN,DGBT,DGBTA,DGBTC,DGBTCA,DGBTCC,DGBTCH,DGBTDT,DGBTEL,DGBTINFL,DGBTMTD,DGBTMTI,DGFL,DIC,DIE,DINUM,DO,DR,I,J,K,VA,VADAT,VADATE,VADM,VAEL,VAERR,VAPA,VAROOT,X,Y,Z Q
"RTN","DGBTEF1")
0^18^B14967485
"RTN","DGBTEF1",1,0)
DGBTEF1 ;ALB/SCK - BENEFICIARY TRAVEL UPDATE PARAMETERS INTO FILES ;12/14/92 3/12/93
"RTN","DGBTEF1",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTEF1",3,0)
RATES ;enter/edit bene travel parameters;option DGBT BENE TRAVEL RATES
"RTN","DGBTEF1",4,0)
 S DA=1,DR="720;721",DIE="^DG(43," D ^DIE G QUIT:X="^"!($D(DTOUT))!($D(Y)) K DA,DE,DQ,DR,DIE
"RTN","DGBTEF1",5,0)
 W !!,"New travel rates are determined each fiscal year.  The rates should be",!,"entered each year with the effective date of Oct 1.",!
"RTN","DGBTEF1",6,0)
 W !,"Changing values for the current or past fiscal years could result in changes",!,"to the claims already entered.",!
"RTN","DGBTEF1",7,0)
DATE ;  change deductible rates for FY
"RTN","DGBTEF1",8,0)
 S DIR("A")="Select EFFECTIVE DATE",DIR(0)="DO^^E",DIR("?")="^D HELP1^DGBTEF1"
"RTN","DGBTEF1",9,0)
 D ^DIR K DIR G QUIT:$D(DIRUT) G HELP:$E(Y,4,7)'="1001" S X=+Y
"RTN","DGBTEF1",10,0)
 S DIC="^DG(43.1,",DIC(0)="ELQMZ"
"RTN","DGBTEF1",11,0)
 D ^DIC G QUIT:Y'>0 S DA=+Y
"RTN","DGBTEF1",12,0)
 S DGBTN=$S('$D(^DG(43.1,DA,"BT")):"",1:^DG(43.1,DA,"BT"))
"RTN","DGBTEF1",13,0)
 S:$D(DGBTN)&($P(DGBTN,"^")]"") DIR("B")=$P(DGBTN,"^")
"RTN","DGBTEF1",14,0)
 S DGBTDEDV=$$DEDUCT(6,"VISIT") G:DGBTDEDV<0 QUIT1
"RTN","DGBTEF1",15,0)
 S DIE="^DG(43.1,",DR="30.01///^S X=DGBTDEDV"
"RTN","DGBTEF1",16,0)
 D ^DIE
"RTN","DGBTEF1",17,0)
 S:$D(DGBTN)&($P(DGBTN,"^",2)]"") DIR("B")=$P(DGBTN,"^",2)
"RTN","DGBTEF1",18,0)
 S DGBTDEDM=$$DEDUCT(18,"MONTH") G:DGBTDEDM<0 QUIT1
"RTN","DGBTEF1",19,0)
 S DIE="^DG(43.1,",DR="30.02///^S X=DGBTDEDM"
"RTN","DGBTEF1",20,0)
 D ^DIE
"RTN","DGBTEF1",21,0)
 S DR="30.03;30.05;30.04",DIE="^DG(43.1,"
"RTN","DGBTEF1",22,0)
 D ^DIE G QUIT1
"RTN","DGBTEF1",23,0)
ACCT ;  change activation/inactivation dates for accounts
"RTN","DGBTEF1",24,0)
 W !!,"ACCOUNT TYPES are determined by Fiscal Service and have a direct impact",!,"on the type of questions asked in the Beneficiary Travel CLAIM ENTER/EDIT",!,"option."
"RTN","DGBTEF1",25,0)
 W !,"DO NOT add to this file unless so instructed by Fiscal Service.",!
"RTN","DGBTEF1",26,0)
TYPE ;  select account to edit
"RTN","DGBTEF1",27,0)
 S DIR("A")="Select ACCOUNT",DIR("?")="^D HELP2^DGBTEF1",DIR(0)="FO"
"RTN","DGBTEF1",28,0)
 D ^DIR K DIR G QUIT:$D(DIRUT) S X=Y
"RTN","DGBTEF1",29,0)
 S DIC="^DGBT(392.3,",DIC(0)="ELQMZ"
"RTN","DGBTEF1",30,0)
 D ^DIC G TYPE:Y'>0
"RTN","DGBTEF1",31,0)
 S DA=+Y,DR="2:4",DIE="^DGBT(392.3," D ^DIE G TYPE
"RTN","DGBTEF1",32,0)
NWACT ;enter/edit account file (392.3);option DGBT BENE TRAVEL ACCOUNT
"RTN","DGBTEF1",33,0)
 W !!?3,"You are about to enter/edit Bene Travel account types.  Although",!?3,"this process is now decentralized, changes and additions should be",!?3,"made with extreme care.",!
"RTN","DGBTEF1",34,0)
 S DIR(0)="Y",DIR("A")="Are you sure you wish to continue",DIR("B")="No" D ^DIR K DIR I $D(DTOUT)!($D(DUOUT))!('Y) G QUIT1
"RTN","DGBTEF1",35,0)
ED ;  edit data for new account
"RTN","DGBTEF1",36,0)
 W ! K X,DA
"RTN","DGBTEF1",37,0)
 S (DIE,DIC)="^DGBT(392.3,",DIC(0)="AEQLMZ",DLAYGO=392.3,DIC("DR")=""
"RTN","DGBTEF1",38,0)
 D ^DIC K DIC G:$D(DTOUT)!$D(DUOUT)!(X="") QUIT1 G:Y'>0 ED
"RTN","DGBTEF1",39,0)
 S DR="2///"_$P(Y(0)," ",1)_";3;4;5" ; account number now stuffed, not asked
"RTN","DGBTEF1",40,0)
 S DA=+Y L ^DGBT(392.3,DA):2 E  W !?5,"Another user is editing this entry.",*7 G ED
"RTN","DGBTEF1",41,0)
 S DIE("NO^")=1
"RTN","DGBTEF1",42,0)
 D ^DIE L  K DR,DIE,DIE("NO^")
"RTN","DGBTEF1",43,0)
 W ! S DIR(0)="Y",DIR("A")="Would you like to Enter/Edit another ACCOUNT",DIR("B")="Yes"
"RTN","DGBTEF1",44,0)
 D ^DIR K DIR G:$D(DTOUT)!($D(DUOUT))!(Y=0) QUIT1 G ED
"RTN","DGBTEF1",45,0)
QUIT1 ;
"RTN","DGBTEF1",46,0)
 K DIR,DTOUT,DI,D0,DUOUT,DIRUT,DGBTN,DGBTDEDV,DGBTDEDM
"RTN","DGBTEF1",47,0)
QUIT ;
"RTN","DGBTEF1",48,0)
 K %DT,DA,DIC,DIE,DIE("NO^"),DR,X,Y Q
"RTN","DGBTEF1",49,0)
DEDUCT(LIMIT,TYPE) ;  enter new deductble value
"RTN","DGBTEF1",50,0)
DEDCT1 S DIR(0)="FAO",DIR("A")="ENTER DEDUCTIBLE AMOUNT/"_TYPE_": "
"RTN","DGBTEF1",51,0)
 S DIR("?")="Type a dollar amount between 0 and "_LIMIT_" with up to 2 decimal places."
"RTN","DGBTEF1",52,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT))!(Y']"") S Y=-1 G DEDUCTQ
"RTN","DGBTEF1",53,0)
 S:Y["$" Y=$P(Y,"$",2)
"RTN","DGBTEF1",54,0)
 I Y'?.N,Y'?.N1".".N K X,Y,DIR G DEDCT1
"RTN","DGBTEF1",55,0)
 I Y>(LIMIT+.001) W "  -- Deductible exceeds limit." K X,Y,DIR G DEDCT1
"RTN","DGBTEF1",56,0)
DEDUCTQ Q (+Y)
"RTN","DGBTEF1",57,0)
 ;
"RTN","DGBTEF1",58,0)
HELP W !!,"The effective date must start on the fiscal year, Oct 1.",! G DATE
"RTN","DGBTEF1",59,0)
HELP1 S DIC="^DG(43.1,",DIC(0)="QMZ",X="?" D ^DIC K DIC Q
"RTN","DGBTEF1",60,0)
HELP2 S DIC="^DGBT(392.3,",DIC(0)="QMZ",X="?" D ^DIC K DIC Q
"RTN","DGBTEND")
0^19^B15041844
"RTN","DGBTEND",1,0)
DGBTEND ;ALB/SCK - BENEFICIARY TRAVEL CLEAN-UP VARIABLES ROUTINE;12/15/92 3/19/93
"RTN","DGBTEND",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTEND",3,0)
 ;
"RTN","DGBTEND",4,0)
END I DGBTTOUT=1 I $D(^DGBT(392,DGBTDT,0)) F I=0,"A","D","M","R","T" S ^DGBT(392,DGBTDT,I)=$S($D(DGBTVAR(I)):DGBTVAR(I),1:"")
"RTN","DGBTEND",5,0)
 G:'$D(^DGBT(392,DGBTDT,0))!(DGBTTOUT=1) QUIT I '$D(DGBTACCT) S DGBTVAR(0)=^DGBT(392,DGBTDT,0),DGBTACCT=$S('$D(^DGBT(392.3,+$P(DGBTVAR(0),"^",6),0)):0,1:+$P(^DGBT(392.3,+$P(DGBTVAR(0),"^",6),0),"^",5))
"RTN","DGBTEND",6,0)
 S Z="^INFORMATION^DISPLAY^EDIT",PROMPT="<I>nformation, <D>isplay claim, <E>dit claim," I DGBTACCT=4!(DGBTACCT=5) S PROMPT=PROMPT_" <P>rint form,",Z=Z_"^PRINT"
"RTN","DGBTEND",7,0)
 S DIR("A")=PROMPT_" or <Q>uit ",DIR("B")="Quit",DIR("?")="^D HELP^DGBTEND",DIR(0)="SA^Q:Quit;I:Information;D:Display;E:Edit;P:Print"
"RTN","DGBTEND",8,0)
 D ^DIR K DIR G DELETE:Y["Q"!($D(DIRUT)),SCREEN^DGBTE:Y="I"
"RTN","DGBTEND",9,0)
 S DGBTX1=$S(X="D":"SCREEN^DGBTCD",X="E":"SCREEN^DGBTCE",X="P":"START^DGBTCR",1:"") I DGBTX1]"" D @DGBTX1 D:DGBTTOUT QUIT^DGBTCE1 G:DGBTX1="START^DGBTCR" PATIENT^DGBTE G END
"RTN","DGBTEND",10,0)
 G END
"RTN","DGBTEND",11,0)
DELETE I '$D(^DGBT(392,DGBTDT,"A")) S %=2 W !!,"Do you want to delete this claim" D YN^DICN G:%=2 COMPLT^DGBTE G:%=-1 DELETE1 I %<1 D HELP1^DGBTE G DELETE
"RTN","DGBTEND",12,0)
DELETE1 I '$D(^DGBT(392,DGBTDT,"A"))!(DGBTTOUT=-1) W !,"This claim is incomplete and is now being deleted....." S DGBTTOUT="",DIK="^DGBT(392,",DA=DGBTDT D ^DIK
"RTN","DGBTEND",13,0)
 G:DGBTTOUT=-1 QUIT D KVAR G PATIENT^DGBTE
"RTN","DGBTEND",14,0)
QUIT K DGBTDIV,DGBTDIVI,PRCABN,DGBTMD,DGBTDIVN,DGBTTOUT,ANS,DGBTREC,ERR,RETURN
"RTN","DGBTEND",15,0)
QUIT1 K DGBT,DGBTA,DGBTAD,DGBTAI,DGBTAN,DGBTAS,DGBTC,DGBTCA,DGBTCD,DGBTCE,DGBTCH,DGBTCH1,DGBTCL,DGBTCN,DGBTCS,DGBTCSN,DGBTCST,DGBTDD,DGBTDTE,DGBTDTI,DGBTI,DGBTIME,DGBTMTD,DGBTMTI,DGBTNEW,DGBTP,DGBTPAP,DGBTPDE,DGBTPDT,DGBTPDTE,DGBTSCC,DGBTZ
"RTN","DGBTEND",16,0)
 K DGBTMTS,DGBTCSC,DGBTELG,DGBTINC,DGBTDEP ; created w/ patch 35
"RTN","DGBTEND",17,0)
 K DA,DFN,DIC,DIE,DINUM,DR,S,Y,X,DGBTX1,X2,I,J,VA,VADM,VAEL,VAPA,VADAT,VADATE,VAUTD,VAUTNALL,VAUTSTR,DIK
"RTN","DGBTEND",18,0)
 K ^UTILITY($J,"DGBT"),^UTILITY("DGBT",$J),C,DGBTELIG,DGBTSCP,DGBTVAR,DGBTDT,DGBTINFL,DGBTACCT,DGBTACTN,DGBTOACT,DGBTCNU,DGBTFLAG,DGBTFR4,DGBTMETC,DGBTMR,DGBTRATE,DGBTTCTY,DGBTFCTY,CHZFLG,Y1
"RTN","DGBTEND",19,0)
KVAR K VADM(4),VADM(5),VADM(6),VADM(7),VADM(8),VADM(9),VADM(10),VAEL(2),VAEL(4),VAEL(5),VAEL(7),VAEL(8),VAERR,VAPA(7),VAPA(8),VAPA(9),VAPA(10),DIC
"RTN","DGBTEND",20,0)
 K DGBTDEF,PROMPT,DLAYGO,J,DGBTDV1,DGBTRMK,K,DGBTREC,DGBTMD
"RTN","DGBTEND",21,0)
 Q
"RTN","DGBTEND",22,0)
HELP ;
"RTN","DGBTEND",23,0)
 W !!,"You may choose from the following: ",!!?5,"<I>nformation - to view the two informational screens",!?5,"<D>isplay - to view this claim",!?5,"<E>d it - to change this claim"
"RTN","DGBTEND",24,0)
 W:DGBTACCT=4!(DGBTACCT=5) !?5,"<P>rint - to print form 70-3542d (132 columns)" W !?5,"<Q>uit - to exit from this option"
"RTN","DGBTEND",25,0)
 Q
"RTN","DGBTHELP")
0^29^B447182
"RTN","DGBTHELP",1,0)
DGBTHELP ;ALB/MRY - EXECUTABLE ADT HELP PROMPTS ; 23 AUG 2001
"RTN","DGBTHELP",2,0)
 ;;1.0;Beneficiary Travel;;Jun 25, 2001
"RTN","DGBTHELP",3,0)
 ;
"RTN","DGBTHELP",4,0)
EN ;called from ques node on dispo multiple
"RTN","DGBTHELP",5,0)
 Q
"RTN","DGBTHELP",6,0)
UP I X'?.UNP F %=1:1:$L(X) I $E(X,%)?1L S X=$E(X,0,%-1)_$C($A(X,%)-32)_$E(X,%+1,999)
"RTN","DGBTHELP",7,0)
 Q
"RTN","DGBTHELP",8,0)
IN S %=0 D UP I X]""&(Z[(U_X)) F I=$F(Z,U_X):1 S %=$E(Z,I) Q:%=U!(%']"")  W %
"RTN","DGBTHELP",9,0)
 E  S %=-1
"RTN","DGBTHELP",10,0)
 S:'% X=$E(X,1) K Z
"RTN","DGBTHELP",11,0)
 Q
"RTN","DGBTOA1")
0^20^B18380253
"RTN","DGBTOA1",1,0)
DGBTOA1 ;ALB/TT,ALB/MAC - BENEFICIARY TRAVEL OUTPUTS ;4/22/91  12:50
"RTN","DGBTOA1",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTOA1",3,0)
 D QUIT D DT^DICRW,ASK2^DGBTDIV G QUIT:Y<0 S VAUTNI=1,(DGBTBEG,DGBTEND)=0
"RTN","DGBTOA1",4,0)
BEG W ! S %DT="AEX",%DT("A")="Enter beginning date: " D ^%DT S DGBTBG=Y,DGBTBEG=Y-.0001 G:X="^"!(X="") QUIT
"RTN","DGBTOA1",5,0)
END W ! S %DT("A")="Enter ending date: " D ^%DT G:X="^" QUIT I Y<1 D HELP^%DTC G END
"RTN","DGBTOA1",6,0)
 S DGBTEND=Y_.9999
"RTN","DGBTOA1",7,0)
 I DGBTEND\1<DGBTBG W !!?5,"The ending date cannot be before the beginning date" G END
"RTN","DGBTOA1",8,0)
 D NOW^%DTC I DGBTEND-.9999>X!(DGBTBG>X) W !!?5,"Future dates are not allowed" G BEG
"RTN","DGBTOA1",9,0)
SORT W !! S DIR("A")="Sort output by: ",DIR("B")="PATIENT",DIR(0)="SA^P:PATIENT;C:CARRIER;A:ACCOUNT;T:ACCOUNT TYPE"
"RTN","DGBTOA1",10,0)
 S DIR("?")="Select one from the above list",DIR("?",1)="Sort Bene Travel claims by one of the following:",DIR("?",2)="   A for Account",DIR("?",3)="   C for Carrier",DIR("?",4)="   P for Patient",DIR("?",5)="   T for Account Type"
"RTN","DGBTOA1",11,0)
 D ^DIR K DIR I $D(DTOUT)!($D(DUOUT))!(Y="^")!(Y<0) G QUIT
"RTN","DGBTOA1",12,0)
 S DGBTSL=$S(Y="A":"ACCT",Y="T":"TYP",Y="C":"CAR",1:"PAT") K Y D ACCT:DGBTSL="ACCT",TYP:DGBTSL="TYP",CAR:DGBTSL="CAR",PAT:DGBTSL="PAT" G:Y<0!(Y="^")!($D(DTOUT))!($D(DUOUT)) QUIT
"RTN","DGBTOA1",13,0)
DISP ;
"RTN","DGBTOA1",14,0)
 S DIR("A",1)="",DIR("A")="Display Report (F)ULL or (T)OTALS ONLY: ",DIR("B")="FULL",DIR("?")="^D HELP^DGBTOA1",DIR(0)="SA^F:FULL;T:TOTALS"
"RTN","DGBTOA1",15,0)
 D ^DIR K DIR G QUIT:$D(DIRUT)
"RTN","DGBTOA1",16,0)
 S DGBTZ=$E(Y)
"RTN","DGBTOA1",17,0)
 S DGVAR="VAUTN#^DGBTBEG^DGBTBG^DGBTEND^DGBTSL^DGBTZ^VAUTD#",DGPGM="START^DGBTOA2" W ! D ZIS^DGBTUTQ I 'POP U IO D START^DGBTOA2
"RTN","DGBTOA1",18,0)
QUIT K %,%DT,DFN,DGBT2,DGBT3,DGBT4,DGBTA,DGBTAT,DGBTB,DGBTBEG,DGBTBG,DGBTBY,DGBTC,DGBTCH,DGBTCL,DGBTCW,DGBTD,DGBTD1,DGBTDD,DGBTDN,DGBTDT,DGBTDV,DGBTEND,DGBTF,DGBTG,DGBTGT
"RTN","DGBTOA1",19,0)
 K DGBTI,DGBTIX,DGBTK,DGBTK9,DGBTK10,DGBTNO,DGBTO,DGBTOD,DGBTODV,DGBTOTX,DGBTP,DGBTPG,DGBTPTC,DGBTS,DGBTSD
"RTN","DGBTOA1",20,0)
 K DGBTSDT,DGBTSL,DGBTSSN,DGBTT,DGBTU,DGBTV,DGBTX,DGBTX1,DGBTXX,DGBTY,DGBTZ,DGPGM,DGSCR,DGVAR,DIC,DIR,DTOUT,DUOUT,K,K1,L1,M,POP,PRCABN,SSN,VA,VADAT,VADATE,VAERR,VAUTD
"RTN","DGBTOA1",21,0)
 K VAUTN,VAUTNI,VAUTSTR,VAUTVB,X,X2,Y,Z,^UTILITY($J)
"RTN","DGBTOA1",22,0)
 Q
"RTN","DGBTOA1",23,0)
 ;Selects the patient,account,carrier,account type (one,many,all).
"RTN","DGBTOA1",24,0)
PAT S VAUTNI=2 D PATIENT^VAUTOMA
"RTN","DGBTOA1",25,0)
 Q
"RTN","DGBTOA1",26,0)
ACCT S VAUTVB="VAUTN",DIC="^DGBT(392.3,",VAUTSTR="account",VAUTNI=2,DIC("S")="I $P(^(0),U,3)'>DGBTEND&('$P(^(0),U,4)!($P(^(0),U,4)>DGBTBG))" D FIRST^VAUTOMA
"RTN","DGBTOA1",27,0)
 Q
"RTN","DGBTOA1",28,0)
CAR S VAUTVB="VAUTN",PRCABN=0,DIC="^PRC(440,",VAUTSTR="carrier",VAUTNI=2 D FIRST^VAUTOMA
"RTN","DGBTOA1",29,0)
 Q
"RTN","DGBTOA1",30,0)
TYP S DIR("A")="Would you like ALL Account Types",DIR(0)="Y",DIR("B")="NO",DIR("?")="Enter 'Yes' if you wish to include ALL Account Types or press Return to select individual Account Types."
"RTN","DGBTOA1",31,0)
 D ^DIR K DIR Q:$D(DTOUT)!($D(DUOUT))
"RTN","DGBTOA1",32,0)
 I Y=1 S VAUTN=1 Q
"RTN","DGBTOA1",33,0)
 S DIR("A")="Select ACCOUNT TYPE",DIR(0)="392.3,5"
"RTN","DGBTOA1",34,0)
 S DIR("?")="Enter the account type by which you would like to sort bene travel claims."
"RTN","DGBTOA1",35,0)
 D ^DIR Q:$D(DTOUT)!($D(DUOUT))
"RTN","DGBTOA1",36,0)
 S VAUTN=0,VAUTN(Y)="",DIR("A")="Select another ACCOUNT TYPE",$P(DIR(0),"^",1)=$P(DIR(0),"^",1)_"O"
"RTN","DGBTOA1",37,0)
TYPMNY D ^DIR Q:$D(DUOUT)!($D(DTOUT))
"RTN","DGBTOA1",38,0)
 I X]"" S VAUTN(Y)="" D TYPMNY
"RTN","DGBTOA1",39,0)
 K DIR Q
"RTN","DGBTOA1",40,0)
HELP W !!?10,"Choose either:",!?20,"F - To get FULL DISPLAY as well as TOTALS",!?20,"(Report contains Patient name, Date of claim, Patient ID, ",!?20,"Account, Carrier, Deductible, Amount payable)",!!?20,"T - To display TOTALS ONLY",!!
"RTN","DGBTOA1",41,0)
 Q
"RTN","DGBTOA2")
0^21^B15311794
"RTN","DGBTOA2",1,0)
DGBTOA2 ;ALB/TT,ALB/MAC - BENEFICIARY TRAVEL OUTPUTS (Cont) ;2/21/91  15:57
"RTN","DGBTOA2",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTOA2",3,0)
 ;sort by ACCT, CARrier or PATient=DGBTBY
"RTN","DGBTOA2",4,0)
 ;associated cross-ref =DGBTIX
"RTN","DGBTOA2",5,0)
START D NOW^%DTC S Y=$E(%,1,12) S VADAT("W")=Y D ^VADATE S U="^",DGBTDT=VADATE("E"),$P(DGBTCL,"=",81)="",(DGBTU,DGBTA,DGBTV,DGBT2,DGBTDV,DGBTCH,DGBTS,DGBTSD,X2,DGBTD,DGBTU,DGBTY,DGBT4,DGBTDN,DGBTI,DGBTOTX)=0 D PID^VADPT
"RTN","DGBTOA2",6,0)
 S DGBTIX=$S(DGBTSL="ACCT":"AC",DGBTSL="CAR":"AS",DGBTSL="TYP":"ACTP",1:"C") D SORT G:DGBTU QUIT1 I $D(^UTILITY($J)) D TOTAL^DGBTOA4 G QUIT1
"RTN","DGBTOA2",7,0)
 W !,"=====>NO PATIENTS FOUND"
"RTN","DGBTOA2",8,0)
QUIT1 D CLOSE^DGBTUTQ Q
"RTN","DGBTOA2",9,0)
 ;Loops thru the  "AC","AS","ACTP" or "C" X-ref, depending upon selected sort list
"RTN","DGBTOA2",10,0)
SORT F DGBTBY=0:0 S DGBTBY=$O(^DGBT(392,DGBTIX,DGBTBY)) Q:DGBTBY=""!(DGBTU)  I $D(VAUTN(DGBTBY))!(VAUTN) D DATE
"RTN","DGBTOA2",11,0)
 D PR^DGBTOA3 Q
"RTN","DGBTOA2",12,0)
DATE F DGBTD=DGBTBEG:0 S DGBTD=$O(^DGBT(392,DGBTIX,DGBTBY,DGBTD)) Q:DGBTD=""!(DGBTU)!(DGBTD>DGBTEND)  I $D(^DGBT(392,DGBTIX,DGBTBY,DGBTD)) D SET
"RTN","DGBTOA2",13,0)
 Q
"RTN","DGBTOA2",14,0)
SET ;Sets up variables and does validity checks, also sets up Utility 
"RTN","DGBTOA2",15,0)
 ;for individual totals
"RTN","DGBTOA2",16,0)
 Q:'$D(^DGBT(392,DGBTD,0))
"RTN","DGBTOA2",17,0)
 S DGBTK=^DGBT(392,DGBTD,0) Q:'$D(^DPT(+$P(DGBTK,U,2),0))  S DGBTO=^(0),DGBTDN=$S($P(DGBTK,U,11):$P(DGBTK,U,11),1:""),DGBTDV=$S('DGBTDN:"ZNOT SPECIFIED",1:$P(^DG(40.8,DGBTDN,0),U,1))
"RTN","DGBTOA2",18,0)
 Q:('VAUTD)&'$D(VAUTD(+DGBTDN))
"RTN","DGBTOA2",19,0)
 S DGBTB=$S($P(DGBTK,U,7):$P(^PRC(440,$P(DGBTK,U,7),0),U,1),1:""),DGBTK9=$P(DGBTK,U,9),DGBTK10=$P(DGBTK,U,10)
"RTN","DGBTOA2",20,0)
 S DGBTCW=$S('+$P(DGBTK,U,6):"UNKNOWN",1:$P(^DGBT(392.3,+$P(DGBTK,U,6),0),U,1)),DGBTCH=$S(+DGBTCW:+DGBTCW,1:""),DGBTC=$S(+DGBTCW:$E($P(DGBTCW," ",2,$L(DGBTCW," ")),1,15),1:"")
"RTN","DGBTOA2",21,0)
 S (DGBTG,DGBTXX)=0,DGBTI=$S(DGBTSL="PAT":$P(DGBTO,U,1),DGBTSL="CAR":DGBTB,1:DGBTC)
"RTN","DGBTOA2",22,0)
 S DGBTP=$P(DGBTO,U,1),DFN=$P(DGBTK,U,2) D PID^VADPT6 S SSN=$S(VA("PID")]"":VA("PID"),1:"UNKNOWN") D PATU:DGBTSL="PAT",ACCTU:DGBTSL'="PAT"
"RTN","DGBTOA2",23,0)
 S DGBTS=$S($P(DGBTK,U,2):$P(DGBTK,U,2),1:""),DGBTSD=$S($P(DGBTK,U,6):$P(DGBTK,U,6),1:"")
"RTN","DGBTOA2",24,0)
 I $D(^UTILITY($J,2,DGBTDN,DGBTP,SSN,"T")) S DGBTS=$S($P(^UTILITY($J,2,DGBTDN,DGBTP,SSN,"T"),U,1):$P(^("T"),U,1),1:"")+DGBTS,DGBTSD=$S($P(^UTILITY($J,2,DGBTDN,DGBTP,SSN,"T"),U,2):$P(^("T"),U,2),1:"")+DGBTSD
"RTN","DGBTOA2",25,0)
 I $D(^UTILITY($J,2,DGBTDN,DGBTCW,"T")) S DGBTS=$S($P(^UTILITY($J,2,DGBTDN,DGBTCW,"T"),U,1):$P(^("T"),U,1),1:"")+DGBTS,DGBTSD=$S($P(^UTILITY($J,2,DGBTDN,DGBTCW,"T"),U,2):$P(^("T"),U,2),1:"")+DGBTSD
"RTN","DGBTOA2",26,0)
 I DGBTSL="PAT" S ^UTILITY($J,2,DGBTDN,DGBTP,SSN,"T")=DGBTS_U_DGBTSD_U_SSN Q
"RTN","DGBTOA2",27,0)
 S ^UTILITY($J,2,DGBTDN,DGBTCW,"T")=DGBTS_U_DGBTSD_U_DGBTBY Q
"RTN","DGBTOA2",28,0)
 ;Sets up Utility for valid patients
"RTN","DGBTOA2",29,0)
PATU S ^UTILITY($J,1,DGBTDN,DGBTP,SSN,DGBTD)=DGBTP_U_DGBTK10_U_DGBTCH_U_DGBTC_U_DGBTB_U_DGBTK9,DGBTK=^(DGBTD) Q
"RTN","DGBTOA2",30,0)
 ;Sets up Utility for valid accounts, account types and carriers
"RTN","DGBTOA2",31,0)
ACCTU S DGBTCW=$S(DGBTSL="CAR":$P(^PRC(440,DGBTBY,0),U,1),1:DGBTCW),DGBTOTX(DGBTDN,DGBTCW)=$S('$D(DGBTOTX(DGBTDN,DGBTCW)):0,1:DGBTOTX(DGBTDN,DGBTCW)),DGBTOTX(DGBTDN,DGBTCW)=DGBTOTX(DGBTDN,DGBTCW)+1
"RTN","DGBTOA2",32,0)
 S DGBTPTC(DGBTDV)=$S('$D(DGBTPTC(DGBTDV)):0,1:DGBTPTC(DGBTDV)) S DGBTPTC(DGBTDV)=DGBTPTC(DGBTDV)+1
"RTN","DGBTOA2",33,0)
 S ^UTILITY($J,1,DGBTDN,DGBTCW,DGBTP,SSN,DGBTD)=DGBTP_U_DGBTK10_U_DGBTCH_U_DGBTC_U_DGBTB_U_DGBTK9,DGBTK=^(DGBTD) Q
"RTN","DGBTOA2",34,0)
CM D COMMA^%DTC Q
"RTN","DGBTOA3")
0^22^B20246422
"RTN","DGBTOA3",1,0)
DGBTOA3 ;ALB/TT,ALB/MAC - BENEFICIARY TRAVEL OUTPUTS PR ROUTINE ;4/4/91  15:29
"RTN","DGBTOA3",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTOA3",3,0)
 ;Loops thru ^Utility
"RTN","DGBTOA3",4,0)
PR Q:'$D(^UTILITY($J))  S (DGBTDN,DGBTF,DGBTX,DGBTS,DGBTSD,DGBTDD,DGBT3,DGBTCH,DGBTSDT,DGBTAT,DGBTGT,DGBTP,DGBTSSN,DGBTD1,DGBTPG,SSN)=0
"RTN","DGBTOA3",5,0)
 F K1=0:0 S DGBTDN=$O(^UTILITY($J,1,DGBTDN)) Q:DGBTDN=""!(DGBTU)  D NO S:DGBTZ="T" DGBTPG=0 D:DGBTZ="T" SM^DGBTOA4 D:DGBTF TT,RT Q:DGBTU  D:DGBTZ="T"&(DGBT3) RT Q:DGBTU  D HE^DGBTOA4 D PRA:DGBTSL'="PAT",PRP:DGBTSL="PAT"
"RTN","DGBTOA3",6,0)
 Q:DGBTU  D:DGBTZ="F" TT D:DGBTZ="T" SM^DGBTOA4 D RT Q
"RTN","DGBTOA3",7,0)
PRA F L1=0:0 S DGBTX=$O(^UTILITY($J,1,DGBTDN,DGBTX)) Q:DGBTX=""!(DGBTU)  S DGBTX1=DGBTX D:DGBTF&(DGBTZ="F") TOT D:DGBTZ="T" TTT,RP Q:DGBTU  D AC
"RTN","DGBTOA3",8,0)
 Q
"RTN","DGBTOA3",9,0)
 ;For patients
"RTN","DGBTOA3",10,0)
PRP F L1=0:0 S DGBTX=$O(^UTILITY($J,1,DGBTDN,DGBTX)) Q:DGBTX=""!(DGBTU)  S DGBTX1=DGBTX Q:DGBTU  D PRP1
"RTN","DGBTOA3",11,0)
 Q
"RTN","DGBTOA3",12,0)
PRP1 F M1=0:0 S SSN=$O(^UTILITY($J,1,DGBTDN,DGBTX,SSN)) D:DGBTF&(DGBTZ="F")&(SSN>"") TOT Q:SSN=""!(DGBTU)  D:DGBTZ="T" TTT,RP F DGBTD=0:0 S DGBTD=$O(^UTILITY($J,1,DGBTDN,DGBTX,SSN,DGBTD)) Q:DGBTD=""!(DGBTU)  D PR3
"RTN","DGBTOA3",13,0)
 Q
"RTN","DGBTOA3",14,0)
 ;For account, account type and carrier
"RTN","DGBTOA3",15,0)
AC F M=0:0 S DGBTP=$O(^UTILITY($J,1,DGBTDN,DGBTX,DGBTP)) Q:DGBTP=""!(DGBTU)  F M1=0:0 S SSN=$O(^UTILITY($J,1,DGBTDN,DGBTX,DGBTP,SSN)) Q:SSN=""!(DGBTU)  D AC1
"RTN","DGBTOA3",16,0)
 Q
"RTN","DGBTOA3",17,0)
AC1 F DGBTD=0:0 S DGBTD=$O(^UTILITY($J,1,DGBTDN,DGBTX,DGBTP,SSN,DGBTD)) Q:DGBTD=""!(DGBTU)  D PR3
"RTN","DGBTOA3",18,0)
 Q
"RTN","DGBTOA3",19,0)
PR3 D:DGBTZ="F" RP Q:DGBTU  S DGBTNO=$S(DGBTSL="PAT":^UTILITY($J,1,DGBTDN,DGBTX,SSN,DGBTD),1:^UTILITY($J,1,DGBTDN,DGBTX,DGBTP,SSN,DGBTD))
"RTN","DGBTOA3",20,0)
 I DGBTSL="PAT" D:DGBTSSN'=SSN!(DGBTDN'=DGBTDD)!(DGBTS) HDR
"RTN","DGBTOA3",21,0)
 I DGBTSL'="PAT" D:DGBTX'=DGBTG!(DGBTDN'=DGBTDD)!(DGBT2) HDR
"RTN","DGBTOA3",22,0)
 S DGBTSSN=SSN,DGBTDD=DGBTDN,DGBTODV=DGBTDV,DGBT2=0 D DAT I DGBTZ="F" D PATP:DGBTSL="PAT",ACCTP:DGBTSL'="PAT"
"RTN","DGBTOA3",23,0)
 Q
"RTN","DGBTOA3",24,0)
 ;Prints patient entries
"RTN","DGBTOA3",25,0)
PATP K X2 W !?2,X,?23,$P(DGBTNO,"^",4),?38 K X S X=$P(DGBTNO,"^",6) D CM W X,?52 S X=$P(DGBTNO,"^",2) D CM W X,?63,$E($P(DGBTNO,"^",5),1,16) Q
"RTN","DGBTOA3",26,0)
 ;Print for account, account type and carrier entries
"RTN","DGBTOA3",27,0)
ACCTP S DGSCR=X K X2 W !?2,$E($P(DGBTNO,"^",1),1,15),?19,SSN,?32,DGSCR,?45 K X,DGSCR S X=$P(DGBTNO,"^",6) D CM W X,?54 S X=$P(DGBTNO,"^",2) D CM W X,?65,$S(DGBTSL="CAR":$E($P(DGBTNO,"^",4),1,11),1:$E($P(DGBTNO,"^",5),1,11)) Q
"RTN","DGBTOA3",28,0)
DAT S VADAT("W")=DGBTD D ^VADATE S X=$P(VADATE("E"),"@",1) Q
"RTN","DGBTOA3",29,0)
RT Q:$Y=0  Q:DGBTU  Q:IOST'?1"C-".E  F X=$Y:1:(IOSL-2) W !
"RTN","DGBTOA3",30,0)
 S DIR("A",1)="",DIR("A")="Enter <RET> to continue or ^ to QUIT ",DIR(0)="FO" D ^DIR K DIR S:$D(DUOUT)!($D(DTOUT)) DGBTU=1 Q:DGBTU  W:DGBTZ="T" @IOF Q
"RTN","DGBTOA3",31,0)
RP I $Y+6>IOSL D RT:(IOST?1"C-".E) Q:DGBTU  D HE^DGBTOA4 D:DGBTX=DGBTG HDR
"RTN","DGBTOA3",32,0)
 Q
"RTN","DGBTOA3",33,0)
HDR I DGBTZ="F" S DGBTXX=$S(DGBTSL="ACCT"!(DGBTSL="TYP"):DGBTX_":",DGBTSL="PAT":$P(DGBTNO,"^",1)_":"_SSN,1:$P(DGBTNO,"^",5)_":"_$P(DGBTNO,"^",3)),DGBTG=DGBTX W !,DGBTXX S DGBTF=1
"RTN","DGBTOA3",34,0)
 Q
"RTN","DGBTOA3",35,0)
 ;Totals at end of divisions
"RTN","DGBTOA3",36,0)
TT I $Y+6>IOSL S DGBT2=1 D RT Q:DGBTU  S:DGBTX="" DGBTD1=1 D HE^DGBTOA4,DTC^DGBTOA4 D:DGBTDD'=DGBTDN!(('VAUTD)&'$D(VAUTD(+DGBTDN))) SM^DGBTOA4 S (DGBTF,DGBTAT,DGBTSDT,DGBTGT,DGBTD1,DGBTPG)=0 S:DGBTDN="" DGBTF=1 Q
"RTN","DGBTOA3",37,0)
 I DGBTZ="F" D DTC^DGBTOA4 D:DGBTDD'=DGBTDN SM^DGBTOA4 S (DGBTF,DGBTAT,DGBTGT,DGBTSDT,DGBTD1,DGBTPG)=0 I DGBTDN="" S DGBTF=1
"RTN","DGBTOA3",38,0)
 Q
"RTN","DGBTOA3",39,0)
 ;Individual totals
"RTN","DGBTOA3",40,0)
TOT S DGBTOD=$S(DGBTSL="PAT":^UTILITY($J,2,DGBTDD,DGBTG,DGBTSSN,"T"),1:^UTILITY($J,2,DGBTDD,DGBTG,"T")) D RP Q:DGBTU  W:DGBTSL="PAT" !?32,"TOTAL",?38 W:DGBTSL'="PAT" !?35,"TOTAL",?45
"RTN","DGBTOA3",41,0)
 K X S X2="2$",X=$P(DGBTOD,"^",2),DGBTSDT=DGBTSDT+X D CM W X,?52 S X2="2$",X=$P(DGBTOD,"^",1),DGBTAT=DGBTAT+X D CM W X K X2 S DGBTGT(DGBTDV)=DGBTAT_"^"_DGBTSDT Q
"RTN","DGBTOA3",42,0)
 ;Totals for only totals report
"RTN","DGBTOA3",43,0)
TTT D RP Q:DGBTU  D DTC^DGBTOA4 S DGBT3=1 Q
"RTN","DGBTOA3",44,0)
CM D COMMA^%DTC Q
"RTN","DGBTOA3",45,0)
NO S DGBTDV=$S('$D(^DG(40.8,DGBTDN,0)):"UNKNOWN",1:$P(^DG(40.8,DGBTDN,0),"^")) S:DGBTDV']"" DGBTDV="UNKNOWN" Q
"RTN","DGBTOA4")
0^23^B20122791
"RTN","DGBTOA4",1,0)
DGBTOA4 ;ALB/MAC - BENEFICIARY OUTPUTS HEADER ROUTINE ;2/21/91  15:57
"RTN","DGBTOA4",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTOA4",3,0)
 ;Adds up totals
"RTN","DGBTOA4",4,0)
DTC K X,X2 I DGBTSL="PAT" S:DGBTZ="T" DGBTSSN=SSN I DGBTSL="PAT" S DGBTOD=$S(DGBTZ="F":^UTILITY($J,2,DGBTDD,DGBTX1,DGBTSSN,"T"),1:^UTILITY($J,2,DGBTDN,DGBTX,DGBTSSN,"T"))
"RTN","DGBTOA4",5,0)
 I DGBTSL'="PAT" S DGBTOD=$S(DGBTZ="F":^UTILITY($J,2,DGBTDD,DGBTX1,"T"),1:^UTILITY($J,2,DGBTDN,DGBTX,"T"))
"RTN","DGBTOA4",6,0)
 W ! I DGBTZ="T" W DGBTX,?32
"RTN","DGBTOA4",7,0)
 I DGBTZ="F" W:DGBTSL'="PAT" !?35,"TOTAL",?45 W:DGBTSL="PAT" !?32,"TOTAL",?38
"RTN","DGBTOA4",8,0)
 S:DGBTZ="F" X2="2$" S X=$P(DGBTOD,"^",2) S DGBTSDT=DGBTSDT+X D CM W X W:DGBTZ="T" ?46 I DGBTZ="F" W:DGBTSL="PAT" ?52 W:DGBTSL'="PAT" ?57
"RTN","DGBTOA4",9,0)
 S:DGBTZ="F" X2="2$" S X=$P(DGBTOD,"^",1) S DGBTAT=DGBTAT+X D CM W X
"RTN","DGBTOA4",10,0)
 I DGBTZ="T" S X=$P(DGBTOD,"^",1)+$P(DGBTOD,"^",2) S DGBTGT=DGBTGT+X D CM W ?60,X W:DGBTSL'="PAT" ?76,$J(DGBTOTX(DGBTDN,DGBTX1),4) S DGBTGT(DGBTDV)=DGBTAT_"^"_DGBTSDT Q
"RTN","DGBTOA4",11,0)
 S DGBTGT(DGBTODV)=DGBTAT_"^"_DGBTSDT Q
"RTN","DGBTOA4",12,0)
 ;Prints page headings
"RTN","DGBTOA4",13,0)
HE S DGBTPG=DGBTPG+1
"RTN","DGBTOA4",14,0)
 W @IOF W:'DGBT4 !?3,"DIVISION: ",$S(DGBTDV="ZNOT SPECIFIED":"NOT SPECIFIED",DGBTD1:DGBTODV,1:DGBTDV) W ?50,DGBTDT," PAGE ",DGBTPG
"RTN","DGBTOA4",15,0)
 S X="BENEFICIARY TRAVEL OUTPUT "_"BY "_$S(DGBTSL="CAR":"CARRIER",DGBTSL="ACCT":"ACCOUNT",DGBTSL="TYP":"ACCOUNT TYPE",1:"PATIENT")
"RTN","DGBTOA4",16,0)
 W !?(40-($L(X)/2)),X I DGBTZ="T" W !?32,"DIVISION TOTALS"
"RTN","DGBTOA4",17,0)
 S DGBTBG=DGBTBEG+.0001,DGBTT=$S(DGBTBG=(DGBTEND\1):"FOR ",1:"FROM "),VADAT("W")=DGBTBG D ^VADATE S DGBTT=DGBTT_$P(VADATE("E"),"@",1) I DGBTEND\1'=DGBTBG S VADAT("W")=DGBTEND\1 D ^VADATE S DGBTT=DGBTT_" TO "_$P(VADATE("E"),"@",1)
"RTN","DGBTOA4",18,0)
 S DGBTY=40-($L(DGBTT)/2) W !?DGBTY,DGBTT,!
"RTN","DGBTOA4",19,0)
 W ! I DGBTSL="PAT" W:DGBTZ="F" ?7,"DATE",?25,"ACCOUNT",?43
"RTN","DGBTOA4",20,0)
 I DGBTSL'="PAT" W:DGBTZ="F" ?7,"NAME",?22,"PT ID",?35,"DATE",?50
"RTN","DGBTOA4",21,0)
 I DGBTZ="T" W:DGBT4 ?5 W:'DGBT4 ?10 W $S(DGBT4:"DIVISION NAME",DGBTSL="PAT":"NAME",DGBTSL="CAR":"CARRIER",1:"ACCOUNT")
"RTN","DGBTOA4",22,0)
 I DGBTZ="F" W "$DEDUC" W:DGBTSL="PAT" ?55 W:DGBTSL'="PAT" ?60 W "$PAYABLE" W:DGBTZ="F" ?70,$S(DGBTSL="CAR":"ACCOUNT",1:"CARRIER") W !,DGBTCL,! Q
"RTN","DGBTOA4",23,0)
 W ?37,"$DEDUC",?49,"$PAYABLE",?65,"$TOTAL" W:DGBTSL'="PAT" ?75,"# PAT" W !,DGBTCL Q
"RTN","DGBTOA4",24,0)
RT Q:$Y=0  Q:IOST'?1"C-".E  F X=$Y:1:(IOSL-2) W !
"RTN","DGBTOA4",25,0)
 S DIR("A",1)="",DIR("A")="Enter <RET> to continue or ^ to QUIT ",DIR(0)="FO" D ^DIR K DIR S:$D(DUOUT)!($D(DTOUT)) DGBTU=1 Q:DGBTU  W:DGBTZ="T" @IOF Q
"RTN","DGBTOA4",26,0)
RP I $Y+6>IOSL D RT:(IOST?1"C-".E) Q:DGBTU  D HE D:DGBTX=DGBTG HDR S DGBTF=1
"RTN","DGBTOA4",27,0)
 Q
"RTN","DGBTOA4",28,0)
HDR I DGBTZ="F" S DGBTXX=$S(DGBTSL="ACCT":DGBTX_":",DGBTSL="PAT":$P(DGBTNO,"^",1)_":"_SSN,1:$P(DGBTNO,"^",5)_":"_$P(DGBTNO,"^",3)),DGBTG=DGBTX W !,DGBTXX S DGBTF=1
"RTN","DGBTOA4",29,0)
 Q
"RTN","DGBTOA4",30,0)
 ;prints total for divisions
"RTN","DGBTOA4",31,0)
SM I DGBTZ="T" Q:'DGBT3
"RTN","DGBTOA4",32,0)
 I DGBTZ="F" Q:'DGBTF
"RTN","DGBTOA4",33,0)
 S:DGBTX="" DGBTD1=1 D RP Q:DGBTU  S DGBTD1=0 W !! W:DGBTZ="T" ?3 W:DGBTZ="F" ?10 W "DIVISION TOTAL" S X=DGBTSDT,X2="2$" D CM W:DGBTZ="T" ?32,X I DGBTZ="F" W:DGBTSL="PAT" ?38 W:DGBTSL'="PAT" ?45 W X
"RTN","DGBTOA4",34,0)
 S X=DGBTAT,X2="2$" D CM W:DGBTZ="T" ?46,X I DGBTZ="F" W:DGBTSL="PAT" ?52 W:DGBTSL'="PAT" ?57 W X
"RTN","DGBTOA4",35,0)
 I DGBTZ="T" S X=DGBTGT,X2="2$" D CM W ?60,X I DGBTSL'="PAT" W ?76,$J(DGBTPTC(DGBTODV),4)
"RTN","DGBTOA4",36,0)
 S (DGBTAT,DGBTSDT,DGBTGT,DGBTPTC)=0 Q
"RTN","DGBTOA4",37,0)
 ;Prints total page plus grand total.
"RTN","DGBTOA4",38,0)
TOTAL S DGBTZ="T",DGBT4=1,DGBTPG=0 D HE S (DGBTDV,DGBTC)=0 F X=0:0 S DGBTDV=$O(DGBTGT(DGBTDV)) Q:DGBTDV=""  D:DGBT3 RP Q:DGBTU  D CON
"RTN","DGBTOA4",39,0)
 D RP Q:DGBTU  W !!?12,"GRAND TOTAL",?32 S X2="2$",X=DGBTSDT D CM W X S X2="2$",X=DGBTAT D CM W ?46,X S X2="2$",X=DGBTGT D CM W ?60,X I DGBTSL'="PAT" W ?74,$J(DGBTPTC,6)
"RTN","DGBTOA4",40,0)
 Q
"RTN","DGBTOA4",41,0)
CON S:DGBTSL'="PAT" DGBTPTC=DGBTPTC+DGBTPTC(DGBTDV) W !,$S(DGBTDV="ZNOT SPECIFIED":"NOT SPECIFIED",1:$E(DGBTDV,1,30)),?32 S X2="2$",X=$P(DGBTGT(DGBTDV),"^",2),DGBTSDT=DGBTSDT+X D CM W X
"RTN","DGBTOA4",42,0)
 S X2="2$",X=$P(DGBTGT(DGBTDV),"^",1),DGBTAT=DGBTAT+X D CM W ?46,X S X2="2$",X=$P(DGBTGT(DGBTDV),"^",1)+$P(DGBTGT(DGBTDV),"^",2),DGBTGT=DGBTGT+X D CM W ?60,X I DGBTSL'="PAT" W ?74,$J(DGBTPTC(DGBTDV),6)
"RTN","DGBTOA4",43,0)
 S DGBT3=1 D:$O(DGBTGT(DGBTDV))'="" RP
"RTN","DGBTOA4",44,0)
 Q
"RTN","DGBTOA4",45,0)
CM D COMMA^%DTC Q
"RTN","DGBTOA5")
0^24^B6087120
"RTN","DGBTOA5",1,0)
DGBTOA5 ;ALB/SCK - BENEFICIARY TRAVEL OUTPUTS FRONT END/STATISTICS; 2/22/93@10:00 7/2/93
"RTN","DGBTOA5",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTOA5",3,0)
 Q
"RTN","DGBTOA5",4,0)
START ;
"RTN","DGBTOA5",5,0)
 K DIR
"RTN","DGBTOA5",6,0)
 S (DGBTBG,DGBTEND)=0 W @IOF
"RTN","DGBTOA5",7,0)
OPT ; display report options for reports, front-end for claims reports
"RTN","DGBTOA5",8,0)
 W !?18,"BENEFICIARY TRAVEL REPORT OUTPUTS",!
"RTN","DGBTOA5",9,0)
 F II=1:1:2 W !!?18,II,".....",$P($T(OPTIONS+II),";",3)
"RTN","DGBTOA5",10,0)
 S DIR(0)="NO^1:2",DIR("A",1)="",DIR("A")="Enter Option",DIR("?")="Enter the desired report option number or either '^' or [RETURN] to exit" D ^DIR K DIR G:$D(DIRUT) EXIT
"RTN","DGBTOA5",11,0)
 IF +Y=1 D CSTATS G OPT
"RTN","DGBTOA5",12,0)
 IF +Y=2 D ^DGBTOA1 G OPT
"RTN","DGBTOA5",13,0)
 ;
"RTN","DGBTOA5",14,0)
EXIT ;
"RTN","DGBTOA5",15,0)
 K BY,DIRUT,DIS,FLDS,FR,II,L,M1,OPT,TO
"RTN","DGBTOA5",16,0)
 K ^TMP("BT",$J)
"RTN","DGBTOA5",17,0)
 K DGBTBG,DGBTEND,NOW,ACTCDE,BTCLAIM,CDATE,COUNT,CURACT,CURID,CURNAME,DEDCT,DGBTBEG,MILES,PAGE,PAY,PRVACT,TCOUNT,TDEDCT,TMILES,TPAY,DFN,VA
"RTN","DGBTOA5",18,0)
 Q
"RTN","DGBTOA5",19,0)
 ;
"RTN","DGBTOA5",20,0)
CSTATS ;
"RTN","DGBTOA5",21,0)
 I '$$RANGE Q
"RTN","DGBTOA5",22,0)
PRINT ;
"RTN","DGBTOA5",23,0)
 W !!,"This report requires 132 columns to print",!
"RTN","DGBTOA5",24,0)
 S %ZIS="PMQ" D ^%ZIS G PRINTQ:POP
"RTN","DGBTOA5",25,0)
 I $D(IO("Q")) D QUE G PRINTQ
"RTN","DGBTOA5",26,0)
 W ! D WAIT^DICD
"RTN","DGBTOA5",27,0)
 D ACCTS^DGBTOA6
"RTN","DGBTOA5",28,0)
 D:'$D(ZTQUEUED) ^%ZISC
"RTN","DGBTOA5",29,0)
PRINTQ Q
"RTN","DGBTOA5",30,0)
 ;
"RTN","DGBTOA5",31,0)
QUE ;
"RTN","DGBTOA5",32,0)
 N X
"RTN","DGBTOA5",33,0)
 S ZTRTN="ACCTS^DGBTOA6",ZTDESC="DGBT PAYABLE CLAIMS REPORT"
"RTN","DGBTOA5",34,0)
 F X="DGBTBG","DGBTEND","DGBTBEG" S ZTSAVE(X)=""
"RTN","DGBTOA5",35,0)
 D ^%ZTLOAD W:$D(ZTSK) !,"TASK #",ZTSK
"RTN","DGBTOA5",36,0)
 D HOME^%ZIS K IO("Q")
"RTN","DGBTOA5",37,0)
 Q
"RTN","DGBTOA5",38,0)
 ;
"RTN","DGBTOA5",39,0)
RANGE() ;
"RTN","DGBTOA5",40,0)
 N Y
"RTN","DGBTOA5",41,0)
 S Y=DT D DD^%DT S NOW=Y
"RTN","DGBTOA5",42,0)
 S DGBTBEG=$$DATE("Beginning",NOW) I DGBTBEG'>0 S Y=0 G RANGEQ
"RTN","DGBTOA5",43,0)
 S DGBTBG=DGBTBEG-.0001
"RTN","DGBTOA5",44,0)
 S DGBTEND=$$DATE("Ending",NOW) I DGBTEND'>0 S Y=0 G RANGEQ
"RTN","DGBTOA5",45,0)
 S DGBTEND=DGBTEND+.9999,Y=1
"RTN","DGBTOA5",46,0)
RANGEQ Q (Y)
"RTN","DGBTOA5",47,0)
 ;
"RTN","DGBTOA5",48,0)
DATE(STR,NDATE) ;
"RTN","DGBTOA5",49,0)
 N Y S Y=0
"RTN","DGBTOA5",50,0)
 S DIR(0)="D^:DT:EX",DIR("A")="Enter "_STR_" Search Date: ",DIR("B")=NDATE,DIR("?")="^D HELP^DGBTOA5"
"RTN","DGBTOA5",51,0)
 D ^DIR K DIR S:$D(DUOUT)!($D(DTOUT)) Y=-1
"RTN","DGBTOA5",52,0)
 Q (Y)
"RTN","DGBTOA5",53,0)
 ;
"RTN","DGBTOA5",54,0)
HELP ;
"RTN","DGBTOA5",55,0)
 S %DT="EX" D ^%DT Q
"RTN","DGBTOA5",56,0)
 ;
"RTN","DGBTOA5",57,0)
OPTIONS ;
"RTN","DGBTOA5",58,0)
 ;;Payable Claims Statistics
"RTN","DGBTOA5",59,0)
 ;;Standard Claims Output
"RTN","DGBTOA6")
0^25^B19084304
"RTN","DGBTOA6",1,0)
DGBTOA6 ;ALB/SCK - DGBT BENE TRAVEL PAYABLE CLAIMS REPORT ; 6/29/93 7/16/93
"RTN","DGBTOA6",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTOA6",3,0)
ACCTS ;
"RTN","DGBTOA6",4,0)
 U IO
"RTN","DGBTOA6",5,0)
 N Y
"RTN","DGBTOA6",6,0)
 K ^TMP("BT",$J)
"RTN","DGBTOA6",7,0)
 F ACTCDE=4,5 D
"RTN","DGBTOA6",8,0)
 .  S Y=$$GETACT(ACTCDE)
"RTN","DGBTOA6",9,0)
 D KVAR^VADPT
"RTN","DGBTOA6",10,0)
 D REPORT
"RTN","DGBTOA6",11,0)
 K DGBTBEG,DGBTBG,DGBTEND,CDATE,CURACT,ACTCDE,DIV,ERR,^TMP("BT",$J)
"RTN","DGBTOA6",12,0)
ACCTSQ Q
"RTN","DGBTOA6",13,0)
 ;
"RTN","DGBTOA6",14,0)
GETACT(ACTNUM) ;
"RTN","DGBTOA6",15,0)
 N Y S Y=1
"RTN","DGBTOA6",16,0)
 S CDATE=DGBTBG F  S CDATE=$O(^DGBT(392,"ACTP",ACTNUM,CDATE)) Q:'CDATE!(CDATE>DGBTEND)  D
"RTN","DGBTOA6",17,0)
 . N BTCLAIM
"RTN","DGBTOA6",18,0)
 . Q:'$D(^DGBT(392,CDATE,0))
"RTN","DGBTOA6",19,0)
 . S BTCLAIM=^DGBT(392,CDATE,0)
"RTN","DGBTOA6",20,0)
 . S BTCLAIM("M")=$G(^DGBT(392,CDATE,"M")) ; reference node "M" of bene travel claim file (#392)
"RTN","DGBTOA6",21,0)
 . S BTCLAIM("R")=$G(^DGBT(392,CDATE,"R")) ; reference node "R" of bene travel claim file ( #392)
"RTN","DGBTOA6",22,0)
 . S DIV=$P($G(BTCLAIM),U,11)
"RTN","DGBTOA6",23,0)
 . S DFN=$P($G(BTCLAIM),U,2)
"RTN","DGBTOA6",24,0)
 . D PID^VADPT6 Q:VAERR
"RTN","DGBTOA6",25,0)
 . S ^TMP("BT",$J,ACTNUM,DIV,$P($G(^DPT(DFN,0)),U),VA("PID"),CDATE)=$P(BTCLAIM("M"),U,3)_"^"_$P(BTCLAIM,U,9)_"^"_$P(BTCLAIM,U,10)_"^"_$P(BTCLAIM("R"),U)
"RTN","DGBTOA6",26,0)
 Q (Y)
"RTN","DGBTOA6",27,0)
 ;
"RTN","DGBTOA6",28,0)
REPORT ;
"RTN","DGBTOA6",29,0)
 N BTFIN,PDIV,NDIV
"RTN","DGBTOA6",30,0)
 I '$D(^TMP("BT",$J)) D NOREP Q
"RTN","DGBTOA6",31,0)
 S ERR=$$SETVAR()
"RTN","DGBTOA6",32,0)
 S CURACT="",CURACT=$O(^TMP("BT",$J,CURACT)),PRVACT=CURACT
"RTN","DGBTOA6",33,0)
 Q:$$HEADR()
"RTN","DGBTOA6",34,0)
 S CURACT="" F  S CURACT=$O(^TMP("BT",$J,CURACT)) Q:CURACT=""  D  Q:BTFIN
"RTN","DGBTOA6",35,0)
 . I CURACT'=PRVACT D SUBS S BTFIN=$$HEADR,PRVACT=CURACT I PDIV]"" S ERR=$$DIVSN(NDIV)
"RTN","DGBTOA6",36,0)
 . S NDIV="" F  S NDIV=$O(^TMP("BT",$J,CURACT,NDIV)) Q:NDIV']""  S:PDIV'=NDIV PDIV=$$DIVSN(NDIV) D  Q:BTFIN
"RTN","DGBTOA6",37,0)
 .. S CURNAME="" F  S CURNAME=$O(^TMP("BT",$J,CURACT,NDIV,CURNAME)) Q:CURNAME=""  D  Q:BTFIN
"RTN","DGBTOA6",38,0)
 ... S CURID="" F  S CURID=$O(^TMP("BT",$J,CURACT,NDIV,CURNAME,CURID)) Q:CURID=""  D  Q:BTFIN
"RTN","DGBTOA6",39,0)
 .... S CDATE="" F  S CDATE=$O(^TMP("BT",$J,CURACT,NDIV,CURNAME,CURID,CDATE)) Q:CDATE=""  S BTFIN=$$PRTOUT() Q:BTFIN
"RTN","DGBTOA6",40,0)
 D TOTL
"RTN","DGBTOA6",41,0)
 Q
"RTN","DGBTOA6",42,0)
 ;
"RTN","DGBTOA6",43,0)
PRTOUT() ;
"RTN","DGBTOA6",44,0)
 N Y
"RTN","DGBTOA6",45,0)
 S BTCLAIM=^TMP("BT",$J,CURACT,NDIV,CURNAME,CURID,CDATE)
"RTN","DGBTOA6",46,0)
 I $Y+5>IOSL S Y=$$HEADR() G:Y PRTOUTQ
"RTN","DGBTOA6",47,0)
 W !,$E(CURNAME,1,21),?23,CURID,?37,$$EXDATE(CDATE),?61,$FN($P(BTCLAIM,U,1),"",2),?70,$FN($P(BTCLAIM,U,2),"",2),?78,$FN($P(BTCLAIM,U,3),"",2),?86,$E($P(BTCLAIM,U,4),1,50)
"RTN","DGBTOA6",48,0)
 S COUNT=COUNT+1,MILES=MILES+$P(BTCLAIM,U,1),DEDCT=DEDCT+$P(BTCLAIM,U,2),PAY=PAY+$P(BTCLAIM,U,3)
"RTN","DGBTOA6",49,0)
PRTOUTQ Q (Y)
"RTN","DGBTOA6",50,0)
 ;
"RTN","DGBTOA6",51,0)
EXDATE(CDOUT) ;
"RTN","DGBTOA6",52,0)
 S Y=CDOUT D DD^%DT
"RTN","DGBTOA6",53,0)
 Q (Y)
"RTN","DGBTOA6",54,0)
 ;
"RTN","DGBTOA6",55,0)
DIVSN(NDIV) ;
"RTN","DGBTOA6",56,0)
 I $G(NDIV)]"" D
"RTN","DGBTOA6",57,0)
 . W !!,"Division: ",$P($G(^DG(40.8,NDIV,0)),"^")
"RTN","DGBTOA6",58,0)
 . W !,"========="
"RTN","DGBTOA6",59,0)
 Q (NDIV)
"RTN","DGBTOA6",60,0)
 ;
"RTN","DGBTOA6",61,0)
NOREP ;
"RTN","DGBTOA6",62,0)
 S CURACT=4,PAGE=0
"RTN","DGBTOA6",63,0)
 I $$HEADR() G NOREPQ
"RTN","DGBTOA6",64,0)
 W !!,"No data found for accounts 'ALL OTHER' or 'C&P'"
"RTN","DGBTOA6",65,0)
NOREPQ Q
"RTN","DGBTOA6",66,0)
 ;
"RTN","DGBTOA6",67,0)
HEADR() ;
"RTN","DGBTOA6",68,0)
 N QFLAG S QFLAG=0
"RTN","DGBTOA6",69,0)
 I $E(IOST,1,2)="C-" K DIR S DIR(0)="E" D ^DIR S QFLAG='Y G:QFLAG HEADRQ W @IOF
"RTN","DGBTOA6",70,0)
 S PAGE=PAGE+1
"RTN","DGBTOA6",71,0)
 I $E(IOST,1,2)'="C-" W @IOF
"RTN","DGBTOA6",72,0)
 W !,"Payable Claims Report"
"RTN","DGBTOA6",73,0)
 W ?(IOM-40),"Report Date: ",$P($$NOW^VALM1,"@"),?(IOM-10),"Page: ",PAGE
"RTN","DGBTOA6",74,0)
 W !,"Inclusion Dates: ",$P($$FMTE^XLFDT(DGBTBEG,1),"@")," to ",$P($$FMTE^XLFDT(DGBTEND,1),"@")
"RTN","DGBTOA6",75,0)
 W !,"For ACCOUNT TYPE: ",$S(CURACT=4:"ALL OTHER",CURACT=5:"C&P EXAMINATIONS")
"RTN","DGBTOA6",76,0)
 W !!?61,"Mileage",?70,"Amount",?78,"Amount"
"RTN","DGBTOA6",77,0)
 W !,"Patient Name",?23,"Patient ID",?37,"Claim DATE/TME",?61,"Amount",?70,"Deduct",?78,"Payable",?86,"Remarks"
"RTN","DGBTOA6",78,0)
 W !,"----------------",?23,"------------",?37,"------------------",?61,"------",?70,"------",?78,"-------",?86,"-----------------"
"RTN","DGBTOA6",79,0)
HEADRQ Q (QFLAG)
"RTN","DGBTOA6",80,0)
 ;
"RTN","DGBTOA6",81,0)
TOTL ;
"RTN","DGBTOA6",82,0)
 D SUBS
"RTN","DGBTOA6",83,0)
 W !!?61,"------",?70,"------",?78,"-------"
"RTN","DGBTOA6",84,0)
 W !,"TOTALS",?61,$FN(TMILES,"",2),?70,$FN(TDEDCT,"",2),?78,$FN(TPAY,"",2)
"RTN","DGBTOA6",85,0)
 W !,"TOTAL CLAIMS: ",TCOUNT
"RTN","DGBTOA6",86,0)
 Q
"RTN","DGBTOA6",87,0)
 ;
"RTN","DGBTOA6",88,0)
SUBS ;
"RTN","DGBTOA6",89,0)
 N Y
"RTN","DGBTOA6",90,0)
 W !!?61,"------",?70,"------",?78,"-------"
"RTN","DGBTOA6",91,0)
 W !,"Subtotals",?61,$FN(MILES,"",2),?70,$FN(DEDCT,"",2),?78,$FN(PAY,"",2)
"RTN","DGBTOA6",92,0)
 W !,"Subtotal Count of Claims: ",COUNT
"RTN","DGBTOA6",93,0)
 S TCOUNT=TCOUNT+COUNT,TMILES=TMILES+MILES,TDEDCT=TDEDCT+DEDCT,TPAY=TPAY+PAY
"RTN","DGBTOA6",94,0)
 S (MILES,DEDCT,PAY,COUNT)=0
"RTN","DGBTOA6",95,0)
 Q
"RTN","DGBTOA6",96,0)
 ;
"RTN","DGBTOA6",97,0)
SETVAR() ;
"RTN","DGBTOA6",98,0)
 N Y S Y=0
"RTN","DGBTOA6",99,0)
 S (PAGE,COUNT,MILES,DEDCT,PAY,TCOUNT,TPAY,TDEDCT,TMILES,BTFIN)=0
"RTN","DGBTOA6",100,0)
 S PDIV=""
"RTN","DGBTOA6",101,0)
 ;
"RTN","DGBTOA6",102,0)
 Q (Y)
"RTN","DGBTR")
0^26^B11233940
"RTN","DGBTR",1,0)
DGBTR ;ALB/LM - BENEFICIARY TRAVEL RE-PRINT; 1/30/89@8:00 ;4/26/91  14:32
"RTN","DGBTR",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTR",3,0)
 ;
"RTN","DGBTR",4,0)
 Q
"RTN","DGBTR",5,0)
DISPLAY S DGBTR=1 D ASK G:'$D(DGBTDT) QUIT G:'$D(^DGBT(392,DGBTDT,0)) QUIT S VADAT("W")=DGBTDT D ^VADATE S DGBTDTE=VADATE("E"),IOP="" D ^%ZIS D SCREEN^DGBTCD D QUIT G DISPLAY
"RTN","DGBTR",6,0)
 ;
"RTN","DGBTR",7,0)
REPRINT S DGBTR=0 D ASK G:'$D(DGBTDT) QUIT G:'$D(^DGBT(392,DGBTDT,0)) QUIT D START^DGBTCR G QUIT
"RTN","DGBTR",8,0)
 ;
"RTN","DGBTR",9,0)
ASK S DIC="^DPT(",DIC(0)="AEQMZ" D ^DIC G QUIT:Y<1 S DFN=+Y I '$D(^DGBT(392,"C",DFN)) W !!,"There are no computer entries on file for this patient.",! G ASK
"RTN","DGBTR",10,0)
 D 6^VADPT
"RTN","DGBTR",11,0)
 K ^UTILITY($J,"DGBT")
"RTN","DGBTR",12,0)
 W:'DGBTR !!,"Only claims with ACCOUNT TYPE of ALL OTHER or C&P are listed as choices.",! G LIST
"RTN","DGBTR",13,0)
 Q
"RTN","DGBTR",14,0)
LIST S X="",(DGBTC,DGBTCH)=0 F I=0:0 S I=$O(^DGBT(392,"AI",DFN,I)) Q:'I  S J=^(I) I $S(DGBTR:1,$D(^DGBT(392,"ACTP",4,J)):1,$D(^DGBT(392,"ACTP",5,J)):1,1:0) S DGBTC=DGBTC+1,^UTILITY($J,"DGBT",DGBTC,I)=9999999.99999-I
"RTN","DGBTR",15,0)
 I '$D(^UTILITY($J,"DGBT"))!'$D(^DGBT(392,"C",DFN)) W !,"There are no computer entries on file for this patient with these account types.",! G ASK
"RTN","DGBTR",16,0)
 I $D(^UTILITY($J,"DGBT")) W !,"Select Claim DATE/TIME: ",!
"RTN","DGBTR",17,0)
 F I=0:0 S I=$O(^UTILITY($J,"DGBT",I)) Q:'I!(DGBTCH)!(X["^")  F J=0:0 S J=$O(^UTILITY($J,"DGBT",I,J)) Q:'J  S K=I,VADAT("W")=^(J) D ^VADATE W !?5,I,".",?10,VADATE("E") I K#5=0 D CHOZ G QUIT:$D(DTOUT) Q:DGBTCH
"RTN","DGBTR",18,0)
 D:K#5'=0 CHOZ G QUIT:$D(DTOUT) I DGBTCH S DGBTA=$O(^UTILITY($J,"DGBT",X,0)),DGBTA=^UTILITY($J,"DGBT",X,DGBTA) S (DGBTDT,VADAT("W"))=DGBTA D ^VADATE W "  ",VADATE("E")
"RTN","DGBTR",19,0)
 G:'DGBTCH ASK Q
"RTN","DGBTR",20,0)
CHOZ ;
"RTN","DGBTR",21,0)
 I K'=DGBTC S DIR("A",1)="",DIR("A",2)="Type '^' to Stop, or" S DIR("?")="^D HELP^DGBTR"
"RTN","DGBTR",22,0)
 S DIR("A")="Choose 1-"_$S(K=1:"",1:K)_": ",DIR(0)="NOA^1:"_K  D ^DIR K DIR S:$D(DTOUT) DTOUT=1 I Y,$D(^UTILITY($J,"DGBT",Y)) S DGBTCH=1 Q
"RTN","DGBTR",23,0)
 Q
"RTN","DGBTR",24,0)
QUIT K DIC,DTOUT,X,VA,VADAT,VADATE,DGBTDT,DFN,VAEL,VADM,VAPA,DFN,DGBTA,DGBTC,DGBTCH,DGBTDTE,DGBTR,I,J,K,Y,DGBTFCTY,DGBTMR,DGBTTCTY,VAERR,DGBTCNU,DGBTVAR
"RTN","DGBTR",25,0)
 Q
"RTN","DGBTR",26,0)
HELP W !!,"ANSWER WITH NUMERIC CHOICE.  BECAUSE ENTRIES ARE STORED BY DATE.TIME.SECONDS,",!,"YOU MUST ENTER A NUMERIC CHOICE." Q
"RTN","DGBTSRCH")
0^27^B18522779
"RTN","DGBTSRCH",1,0)
DGBTSRCH ;ALB/SCK - SEARCH ROUTINE FOR INCOMPLETE DATA IN bt DISTANCE FILE;2/4/93  4/22/93
"RTN","DGBTSRCH",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTSRCH",3,0)
 Q
"RTN","DGBTSRCH",4,0)
START ;
"RTN","DGBTSRCH",5,0)
 K DIR D HOME^%ZIS W @IOF
"RTN","DGBTSRCH",6,0)
START2 ;
"RTN","DGBTSRCH",7,0)
 W !!!?5,"List the Incomplete data found in the Beneficiary Distance File",!?5,"Any incomplete data should be corrected as soon as possible"
"RTN","DGBTSRCH",8,0)
 S OPT=$$OPTION G:$D(DIRUT) EXIT
"RTN","DGBTSRCH",9,0)
 S OPT=$S(Y=1:"REMARKS",Y=2:"ZIP",Y=3:"MILES",1:"") G:OPT']"" EXIT
"RTN","DGBTSRCH",10,0)
 L +^DGBT(392.1):3 I '$T W !!?5,*7,"File not available, Please try later..." G EXIT
"RTN","DGBTSRCH",11,0)
 D @OPT L -^DGBT(392.1) G START2
"RTN","DGBTSRCH",12,0)
EXIT ;
"RTN","DGBTSRCH",13,0)
 L -^DGBT(392.1)
"RTN","DGBTSRCH",14,0)
 K II,DIR,TO,FLDS,DHD,L,FR,OPT,X,Y,DR,DIRUT,DIS,DIC,BY,DA,DIS,DIOEND
"RTN","DGBTSRCH",15,0)
 Q
"RTN","DGBTSRCH",16,0)
REMARKS ;  list cities and divisions with the additional information field set true
"RTN","DGBTSRCH",17,0)
 I $$REPORT=1 D
"RTN","DGBTSRCH",18,0)
 . K DIC S DIC="^DGBT(392.1,",DIC(0)="EMZ",L=0,BY="[DGBT REMARKS]",FLDS="[DGBT REMARKS]",DHD="Incomplete Additional Information Remarks in the Beneficiary Travel Distance FIle",DIOEND="D FTR^DGBTSRCH"
"RTN","DGBTSRCH",19,0)
 . D EN1^DIP K DIC
"RTN","DGBTSRCH",20,0)
 W !!,"Do you wish to update any Remark fields" Q:$$YESNO'=1
"RTN","DGBTSRCH",21,0)
REMARK1 ;  loop to complete remarks field
"RTN","DGBTSRCH",22,0)
 D SETUP S DIR(0)="FO^1:30" D ^DIR Q:$D(DIRUT)  S X=Y K DIR D ^DIC Q:+Y'>0  S DA=+Y,DIE="^DGBT(392.1,",DR="100",DR(2,392.1001)="5" D ^DIE K DIE
"RTN","DGBTSRCH",23,0)
 G REMARK1
"RTN","DGBTSRCH",24,0)
 Q
"RTN","DGBTSRCH",25,0)
ZIP ; list cities with missing zip codes, screen on fields that don't match 5N
"RTN","DGBTSRCH",26,0)
 I $$REPORT=1 D
"RTN","DGBTSRCH",27,0)
 . K DIC S DIC="^DGBT(392.1,",DIC(0)="EMZ",L=0,DIS(0)="I +$P($G(^DGBT(392.1,D0,0)),U,4)'>0",BY=".01",FLDS="[DGBT ZIP]",(FR,TO)=""
"RTN","DGBTSRCH",28,0)
 .S DHD="Incomplete zip code information in the Beneficiary Travel Distance File",DIOEND="D FTR^DGBTSRCH"
"RTN","DGBTSRCH",29,0)
 . D EN1^DIP K DIC
"RTN","DGBTSRCH",30,0)
 W !!,"Do you wish to update Zip Codes" Q:$$YESNO'=1
"RTN","DGBTSRCH",31,0)
ZIP1 ; loop to add zip codes
"RTN","DGBTSRCH",32,0)
 D SETUP D ^DIR Q:$D(DIRUT)  S X=Y K DIR D ^DIC Q:+Y'>0  S DA=+Y,DIE="^DGBT(392.1,",DR="[DGBT ZIP]" D ^DIE K DIE
"RTN","DGBTSRCH",33,0)
 G ZIP1
"RTN","DGBTSRCH",34,0)
 Q
"RTN","DGBTSRCH",35,0)
MILES ;  list those cities that have a null default mileage
"RTN","DGBTSRCH",36,0)
 I $$REPORT=1 D
"RTN","DGBTSRCH",37,0)
 . K DIC S DIC="^DGBT(392.1,",DIC(0)="EMZ",L=0,DIS(1)="I +$P($G(^DGBT(392.1,D0,0)),U,3)'>0",BY=".01",FLDS="[DGBT MILES]",(FR,TO)=""
"RTN","DGBTSRCH",38,0)
 . S DHD="Incomplete mileage information",DIOEND="D FTR^DGBTSRCH"
"RTN","DGBTSRCH",39,0)
 . D EN1^DIP K DIC
"RTN","DGBTSRCH",40,0)
 W !!,"Do you wish to update Mileage data" Q:$$YESNO'=1
"RTN","DGBTSRCH",41,0)
MILES1 ; add/edit default mileage and division mileage
"RTN","DGBTSRCH",42,0)
 D SETUP D ^DIR Q:$D(DIRUT)  S X=Y K DIR D ^DIC Q:+Y'>0  S DA=+Y,DIE="^DGBT(392.1,",DR="[DGBT MILES]" D ^DIE K DIE
"RTN","DGBTSRCH",43,0)
 G MILES1
"RTN","DGBTSRCH",44,0)
 Q
"RTN","DGBTSRCH",45,0)
STCHK ;
"RTN","DGBTSRCH",46,0)
 S STREC="",DIE="^DGBT(392.1,",DR="2",STERR=0
"RTN","DGBTSRCH",47,0)
 F STREC=0:0 S STREC=$O(^DGBT(392.1,STREC)) Q:+STREC'>0  I $P($G(^DGBT(392.1,STREC,0)),U,2)']"" S STATE(STERR)=STREC,STERR=STERR+1
"RTN","DGBTSRCH",48,0)
 I STERR>0 W !!?5,*7,">> YOU HAVE ",STERR," ERROR(S) IN YOUR STATE IDENTIFIERS,",!?5,"THESE MUST BE CORRECTED BEFORE CONTINUING",! D
"RTN","DGBTSRCH",49,0)
 . F XX=0:1:STREC S DA=STATE(XX) W !,"City Name: ",$P($G(^DGBT(392.1,DA,0)),U,1)
"RTN","DGBTSRCH",50,0)
 . D ^DIE
"RTN","DGBTSRCH",51,0)
 K DIE,STATE,STREC,STERR,XX
"RTN","DGBTSRCH",52,0)
 Q
"RTN","DGBTSRCH",53,0)
YESNO() ;
"RTN","DGBTSRCH",54,0)
YN1 S %=2 D YN^DICN I %=0 W !,"Enter either YES or NO, '^' to Exit." G YN1
"RTN","DGBTSRCH",55,0)
 Q (+%)
"RTN","DGBTSRCH",56,0)
SETUP ;  setup common variables for lookup and edit
"RTN","DGBTSRCH",57,0)
 S DIC="^DGBT(392.1,",(FR,TO)="",L=0,DIC(0)="EMZ",DIR(0)="FO^1:30",DIR("A")="ENTER NAME OF CITY TO CORRECT"
"RTN","DGBTSRCH",58,0)
 S DIR("?")="Enter the name of the city you wish to lookup, 1 to 30 characters in length"
"RTN","DGBTSRCH",59,0)
 Q
"RTN","DGBTSRCH",60,0)
OPTION() ;   menu options in text form.
"RTN","DGBTSRCH",61,0)
 S X="SO^"
"RTN","DGBTSRCH",62,0)
 S X=X_"1:Additional Information Fields Marked;"
"RTN","DGBTSRCH",63,0)
 S X=X_"2:Missing Zip Codes;"
"RTN","DGBTSRCH",64,0)
 S X=X_"3:No Default or Division Mileages"
"RTN","DGBTSRCH",65,0)
 S DIR(0)=X,DIR("A")="Enter Option or [RETURN] to continue",DIR("?")="Enter the desired menu option mumber or either '^' or [RETURN] to add departure city"
"RTN","DGBTSRCH",66,0)
 D ^DIR K DIR
"RTN","DGBTSRCH",67,0)
 Q (+Y)
"RTN","DGBTSRCH",68,0)
REPORT() ;  ask yes no to do report
"RTN","DGBTSRCH",69,0)
 W !!?5,"Print Report"
"RTN","DGBTSRCH",70,0)
RP1 S %=1 D YN^DICN I %=0 W !?5,"Enter 'Y'es or 'N'o" G RP1
"RTN","DGBTSRCH",71,0)
 Q (+%)
"RTN","DGBTSRCH",72,0)
 ;
"RTN","DGBTSRCH",73,0)
FTR ;
"RTN","DGBTSRCH",74,0)
 W !!?5,"NOTE:",!?5,"If no data prints, then no problems were found"
"RTN","DGBTSRCH",75,0)
 W !?5,"in the Distance file.",!
"RTN","DGBTSRCH",76,0)
 Q
"RTN","DGBTUTL")
0^28^B2136588
"RTN","DGBTUTL",1,0)
DGBTUTL ;ALB/SCK - BENEFICIARY/TRAVEL UTILITY ROUTINES; 1/6/93@1130
"RTN","DGBTUTL",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTUTL",3,0)
START ;
"RTN","DGBTUTL",4,0)
 Q
"RTN","DGBTUTL",5,0)
MILES(DGBTRN,DGBTDX) ;
"RTN","DGBTUTL",6,0)
 ; DGBTRN holds the record no., and DGBTDX holds the division pointer passed in during the function call
"RTN","DGBTUTL",7,0)
 N DGBTML,XX,DGBTCHK
"RTN","DGBTUTL",8,0)
 S XX="",(DGBTML,DGBTDEF)=0
"RTN","DGBTUTL",9,0)
 F XX=0:0 S XX=$O(^DGBT(392.1,DGBTRN,1,XX)) Q:+XX'>0!(DGBTML>0)  D
"RTN","DGBTUTL",10,0)
 . S DGBTCHK=$P($G(^DGBT(392.1,DGBTRN,1,XX,0)),U,1) I DGBTDX=DGBTCHK S DGBTML=$P($G(^(0)),U,2)
"RTN","DGBTUTL",11,0)
 I DGBTML'>0 S DGBTML=$P($G(^DGBT(392.1,DGBTRN,0)),U,3),DGBTDEF=1
"RTN","DGBTUTL",12,0)
 K DGBTRN,DGBTDX
"RTN","DGBTUTL",13,0)
 Q DGBTML
"RTN","DGBTUTL",14,0)
DICLKUP(DGBTRN,DGBTDX,DGBTP) ;
"RTN","DGBTUTL",15,0)
 N RETURN,XX
"RTN","DGBTUTL",16,0)
 S DIC="^DGBT(392.1,DGBTRN,1,",DIC(0)="MZX",X=DGBTDX,RETURN=""
"RTN","DGBTUTL",17,0)
 D ^DIC
"RTN","DGBTUTL",18,0)
 I +Y>0 D
"RTN","DGBTUTL",19,0)
 . I DGBTP=4 S RETURN=$S(+$P($G(Y(0)),U,4)>0:$P($G(Y(0)),U,5),1:"")
"RTN","DGBTUTL",20,0)
 . I DGBTP=3 S RETURN=$S(+$P($G(Y(0)),U,3)>0:$P(^(0),U,3),1:0)
"RTN","DGBTUTL",21,0)
 Q RETURN
"RTN","DGBTUTL",22,0)
DEPCTY(ZIPCDE) ;
"RTN","DGBTUTL",23,0)
 N RETURN
"RTN","DGBTUTL",24,0)
 S DIC="^DGBT(392.1,",DIC(0)="MZ",X=$S($L(ZIPCDE)>5:$E(ZIPCDE,1,5),1:ZIPCDE) D ^DIC S RETURN=Y K DIC
"RTN","DGBTUTL",25,0)
 K ZIPCDE
"RTN","DGBTUTL",26,0)
 Q RETURN
"RTN","DGBTUTL",27,0)
EXIT ;
"RTN","DGBTUTL",28,0)
 Q
"RTN","DGBTUTL",29,0)
TEST ;
"RTN","DGBTUTL",30,0)
 W !,"DATE/TIME REQUIRED.."
"RTN","DGBTUTL",31,0)
 S X="OLD",DTOUT=1
"RTN","DGBTUTL",32,0)
 Q
"RTN","DGBTUTQ")
0^30^B5465005
"RTN","DGBTUTQ",1,0)
DGBTUTQ ;ALB/MRY - QUEUING UTILITY (%ZTLOAD)  ; 23-AUG-2001
"RTN","DGBTUTQ",2,0)
 ;;1.0;Beneficiary Travel;;September 25, 2001
"RTN","DGBTUTQ",3,0)
 ;
"RTN","DGBTUTQ",4,0)
Q1 S ZTDTH=$H
"RTN","DGBTUTQ",5,0)
QUE K IO("Q") I '$D(ZTIO),$D(ION),ION="" S ZTIO=""
"RTN","DGBTUTQ",6,0)
 I '$D(ZTDESC) S ZTDESC=$S($D(DGPGM):DGPGM,$D(PGM):PGM,1:"DGBT UNKNOWN OPTION")
"RTN","DGBTUTQ",7,0)
 I '$D(ZTRTN) S DGPGM=$S($D(DGPGM):DGPGM,$D(PGM):PGM,1:"") G:DGPGM="" CLOSE S ZTRTN="DQ^DGJUTQ"
"RTN","DGBTUTQ",8,0)
 S DGZTSAVE=$S($D(DGVAR):DGVAR,$D(VAR):VAR,1:"*") D SAVE
"RTN","DGBTUTQ",9,0)
 I $D(DGPGM),'$D(ZTSAVE("DGPGM")) S ZTSAVE("DGPGM")=""
"RTN","DGBTUTQ",10,0)
LOAD D ^%ZTLOAD W:'$D(DGUTQND) !!,$S($D(ZTSK):"Request Queued!",1:"Request Cancelled!") S:'$D(ZTSK) X="^" S:$D(ZTSK) X="" G CLOSE:$D(ZTSK),END
"RTN","DGBTUTQ",11,0)
 Q
"RTN","DGBTUTQ",12,0)
ZIS W ! K IOP,IO("Q") S POP=0,%ZIS="QMP" D ^%ZIS K %ZIS,IOP Q:POP  I $D(IO("Q")) D QUE S POP=1 G CLOSE
"RTN","DGBTUTQ",13,0)
 U IO Q
"RTN","DGBTUTQ",14,0)
SAVE D:DGZTSAVE["#" ARRAY F DGI=1:1 S DGVAR=$P(DGZTSAVE,"^",DGI) Q:DGVAR']""  I '$D(ZTSAVE(DGVAR)) S ZTSAVE(DGVAR)="" S:$E(DGVAR,$L(DGVAR))="(" ZTSAVE($E(DGVAR,1,($L(DGVAR)-1)))=""
"RTN","DGBTUTQ",15,0)
 Q
"RTN","DGBTUTQ",16,0)
ARRAY F DGJ=1:1:$L(DGZTSAVE) I $E(DGZTSAVE,DGJ)="#" S DGZTSAVE=$E(DGZTSAVE,1,(DGJ-1))_"("_$E(DGZTSAVE,DGJ+1,$L(DGZTSAVE))
"RTN","DGBTUTQ",17,0)
 Q
"RTN","DGBTUTQ",18,0)
CLOSE Q:$D(ZTQUEUED)  N POP D ^%ZISC
"RTN","DGBTUTQ",19,0)
END K ZTSK,ZTDESC,ZTRTN,ZTREQ,ZTSAVE,ZTIO,ZTDTH,ZTUCI,DGUTQND,DGVAR,VAR,DGPGM,PGM,DGZTSAVE,DGI,IO("Q"),IO("C")
"RTN","DGBTUTQ",20,0)
 Q
"RTN","DGBTUTQ",21,0)
DQ D @($S($D(DGPGM):DGPGM,$D(PGM):PGM,1:"CLOSE"))
"RTN","DGBTUTQ",22,0)
 D KILL^%ZTLOAD,CLOSE
"RTN","DGBTUTQ",23,0)
 Q
"RTN","DGBTUTQ",24,0)
DTQ I $D(ZTSK("D")) S DGX=ZTSK("D"),%H=$P(DGX,",") D YMD^%DTC S DGX=$P(DGX,",",2),Z=X_((DGX#3600\60)/100+(DGX\3600)/100) ;Find time queued
"RTN","DGBTUTQ",25,0)
 Q
"VER")
8.0^22
"^DD",43,43,720,0)
BT CERTIFYING OFFICIAL^P200'^VA(200,^BT;1^Q
"^DD",43,43,720,3)
Enter the name you want printed on form 70-3542d, if blank the user's name will be printed instead followed by DESIGNEE OF CERTIFYING OFFICIAL..
"^DD",43,43,720,21,0)
^^4^4^3011001^
"^DD",43,43,720,21,1,0)
This will be used to print on the 70-3542d form, if the site decides that
"^DD",43,43,720,21,2,0)
they want to have a set name printed all the time.  If it is left blank then
"^DD",43,43,720,21,3,0)
the user's name, followed by DESIGNEE OF CERTIFYING OFFICIAL will be
"^DD",43,43,720,21,4,0)
printed instead of the set name of the certifying official.
"^DD",43,43,720,"DT")
2901017
"^DD",43,43,721,0)
BT OTHER EXPENSES ASKED^RS^0:NO;1:YES;^BT;2^Q
"^DD",43,43,721,3)
Enter NO if you do not want the questions "MEALS & LODGING" or "FERRY, BRIDGES, ETC" questions asked in the Beneficiary Travel Claim Enter/Edit Option.
"^DD",43,43,721,21,0)
^^3^3^2890512^^
"^DD",43,43,721,21,1,0)
This field will be used to determine whether the "MEALS & LODGING" and
"^DD",43,43,721,21,2,0)
"FERRY, BRIDGES, ETC." questions are asked in the Beneficiary Travel
"^DD",43,43,721,21,3,0)
Claim Enter/Edit Option.
"^DD",43,43,721,"DT")
2890512
"^DD",43,43,722,0)
USE TEMPORARY ADDRESS^S^0:NO;1:YES;^BT;3^Q
"^DD",43,43,722,21,0)
^^2^2^2920211^
"^DD",43,43,722,21,1,0)
Do you want the patient's temporary address to be used on scheduling
"^DD",43,43,722,21,2,0)
letters if one is provided in the PATIENT file?
"^DD",43,43,722,"DT")
2881228
"^DD",43.1,43.1,30.01,0)
DEDUCTIBLE/VISIT^RNJ5,2^^BT;1^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>99)!(X<0) X
"^DD",43.1,43.1,30.01,3)
Type a Dollar Amount between 0 and 99, 2 Decimal Digits
"^DD",43.1,43.1,30.01,21,0)
^^2^2^2920212^
"^DD",43.1,43.1,30.01,21,1,0)
Dollar amount deductible allowed for each outpatient visit at a VA
"^DD",43.1,43.1,30.01,21,2,0)
facility.
"^DD",43.1,43.1,30.01,"DT")
2890711
"^DD",43.1,43.1,30.02,0)
DEDUCTIBLE/MONTH^RNJ5,2^^BT;2^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>99)!(X<0) X
"^DD",43.1,43.1,30.02,3)
Type a Dollar Amount between 0 and 99, 2 Decimal Digits
"^DD",43.1,43.1,30.02,21,0)
^^2^2^2920212^
"^DD",43.1,43.1,30.02,21,1,0)
Dollar amount deductible allowed for  outpatient visits per month
"^DD",43.1,43.1,30.02,21,2,0)
at a 
"^DD",43.1,43.1,30.02,"DT")
2890511
"^DD",43.1,43.1,30.03,0)
MILEAGE RATE^RNJ4,2^^BT;3^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>1)!(X<0) X
"^DD",43.1,43.1,30.03,3)
Type a Dollar Amount between 0 and 1, 2 Decimal Digits
"^DD",43.1,43.1,30.03,21,0)
^^3^3^2920212^^
"^DD",43.1,43.1,30.03,21,1,0)
Mileage rate (dollar amount) allowed per mile for eligible veterans to
"^DD",43.1,43.1,30.03,21,2,0)
travel to and/or from a VA hospital for scheduled clinic visits
"^DD",43.1,43.1,30.03,21,3,0)
and scheduled hospital admissions or discharges to home.
"^DD",43.1,43.1,30.03,"DT")
2890511
"^DD",43.1,43.1,30.04,0)
FISCAL SYMBOLS^F^^BT;4^K:$L(X)>40!($L(X)<1) X
"^DD",43.1,43.1,30.04,3)
Answer must be 1-40 characters in length.
"^DD",43.1,43.1,30.04,21,0)
^^3^3^2920212^
"^DD",43.1,43.1,30.04,21,1,0)
Fiscal appropriation numbers assigned to travel vouchers given
"^DD",43.1,43.1,30.04,21,2,0)
to eligible veterans for payment of travel expenses to and from
"^DD",43.1,43.1,30.04,21,3,0)
a VA facility.
"^DD",43.1,43.1,30.04,"DT")
2890223
"^DD",43.1,43.1,30.05,0)
C&P REVIEW VISIT MILEAGE RATE^RNJ4,2^^BT;5^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>1)!(X<0) X
"^DD",43.1,43.1,30.05,3)
Type a Dollar Amount between 0 and 1, 2 Decimal Digits
"^DD",43.1,43.1,30.05,21,0)
^^4^4^2920512^^
"^DD",43.1,43.1,30.05,21,1,0)
Compensation and Pension review visit mileage rate allowed for
"^DD",43.1,43.1,30.05,21,2,0)
eligible veterans.  The mileage rate for a C&P visit as opposed to
"^DD",43.1,43.1,30.05,21,3,0)
a regularly scheduled outpatient visit is a higher rate as the
"^DD",43.1,43.1,30.05,21,4,0)
DVB requests the exam and not the patient.
"^DD",43.1,43.1,30.05,"DT")
2920512
"^DD",392,392,0)
FIELD^^51^35
"^DD",392,392,0,"DDA")
N
"^DD",392,392,0,"DT")
2930127
"^DD",392,392,0,"ID",2)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DPT(+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(2,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",392,392,0,"ID",6)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DGBT(392.3,+$P(^(0),U,6),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(392.3,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",392,392,0,"IX","AC",392,6)

"^DD",392,392,0,"IX","ACTP",392,6)

"^DD",392,392,0,"IX","AD",392,9)

"^DD",392,392,0,"IX","AE",392,3)

"^DD",392,392,0,"IX","AI",392,2)

"^DD",392,392,0,"IX","AS",392,7)

"^DD",392,392,0,"IX","B",392,.01)

"^DD",392,392,0,"IX","C",392,2)

"^DD",392,392,0,"NM","BENEFICIARY TRAVEL CLAIM")

"^DD",392,392,0,"VRPK")
DGBT
"^DD",392,392,.01,0)
Claim DATE/TIME^RDX^^0;1^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X I $D(X) S DINUM=X
"^DD",392,392,.01,1,0)
^.1
"^DD",392,392,.01,1,1,0)
392^B
"^DD",392,392,.01,1,1,1)
S ^DGBT(392,"B",$E(X,1,30),DA)=""
"^DD",392,392,.01,1,1,2)
K ^DGBT(392,"B",$E(X,1,30),DA)
"^DD",392,392,.01,3)
Enter the Beneficiary Travel CLAIM date/time in the usual fileman format.
"^DD",392,392,.01,21,0)
^^1^1^2920108^
"^DD",392,392,.01,21,1,0)
Enter the date/time of the Bene Travel Claim.
"^DD",392,392,.01,22)

"^DD",392,392,.01,"DT")
2890113
"^DD",392,392,2,0)
NAME^RP2'I^DPT(^0;2^Q
"^DD",392,392,2,1,0)
^.1
"^DD",392,392,2,1,1,0)
392^C
"^DD",392,392,2,1,1,1)
S ^DGBT(392,"C",$E(X,1,30),DA)=""
"^DD",392,392,2,1,1,2)
K ^DGBT(392,"C",$E(X,1,30),DA)
"^DD",392,392,2,1,2,0)
392^AI^MUMPS
"^DD",392,392,2,1,2,1)
S ^DGBT(392,"AI",$E(X,1,30),9999999.99999-DA)=DA
"^DD",392,392,2,1,2,2)
K ^DGBT(392,"AI",$E(X,1,30),9999999.99999-DA)
"^DD",392,392,2,21,0)
^^1^1^2920108^
"^DD",392,392,2,21,1,0)
Enter the patient that is related to this Bene Travel Claim.
"^DD",392,392,2,"DT")
2890129
"^DD",392,392,3,0)
ELIGIBILITY^P8'X^DIC(8,^0;3^Q
"^DD",392,392,3,1,0)
^.1
"^DD",392,392,3,1,1,0)
392^AE
"^DD",392,392,3,1,1,1)
S ^DGBT(392,"AE",$E(X,1,30),DA)=""
"^DD",392,392,3,1,1,2)
K ^DGBT(392,"AE",$E(X,1,30),DA)
"^DD",392,392,3,3)
Enter the primary eligibility or other entitled eligibilities
"^DD",392,392,3,21,0)
^^1^1^2920108^
"^DD",392,392,3,21,1,0)
This field contains the eligibililty of the patient for this Bene Travel Claim.
"^DD",392,392,3,"DT")
2890108
"^DD",392,392,4,0)
SC PERCENTAGE^NJ3,0^^0;4^K:+X'=X!(X>100)!(X<0)!(X?.E1"."1N.N) X
"^DD",392,392,4,3)
Type a Number between 0 and 100, 0 Decimal Digits
"^DD",392,392,4,21,0)
^^1^1^2920109^^
"^DD",392,392,4,21,1,0)
Enter the SC percentage of this patient related to this Bene Travel Claim.
"^DD",392,392,5,0)
CERTIFICATION DATE^*P392.2'^DGBT(392.2,^0;5^S DIC("S")="I $P(^(0),U,2)=$P(^DGBT(392,DA,0),U,2)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",392,392,5,.1)
ANNUAL CERTIFICATION
"^DD",392,392,5,3)

"^DD",392,392,5,4)

"^DD",392,392,5,12)
Only allowed to select Certification Dates for this patient
"^DD",392,392,5,12.1)
S DIC("S")="I $P(^(0),U,2)=$P(^DGBT(392,DA,0),U,2)"
"^DD",392,392,5,21,0)
^^1^1^2960726^^^
"^DD",392,392,5,21,1,0)
This field contains the Beneficiary Travel Certification date.
"^DD",392,392,5,"DT")
2890106
"^DD",392,392,6,0)
ACCOUNT^R*P392.3'^DGBT(392.3,^0;6^S DIC("S")="I $P(^(0),U,3)'>DA&('$P(^(0),U,4)!($P(^(0),U,4)'<DA))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",392,392,6,1,0)
^.1
"^DD",392,392,6,1,1,0)
392^AC
"^DD",392,392,6,1,1,1)
S ^DGBT(392,"AC",$E(X,1,30),DA)=""
"^DD",392,392,6,1,1,2)
K ^DGBT(392,"AC",$E(X,1,30),DA)
"^DD",392,392,6,1,2,0)
392^ACTP^MUMPS
"^DD",392,392,6,1,2,1)
Q:'$D(^DGBT(392.3,X,0))  S:+$P(^(0),U,5) ^DGBT(392,"ACTP",+$P(^(0),U,5),DA)=""
"^DD",392,392,6,1,2,2)
Q:'$D(^DGBT(392.3,X,0))  K:+$P(^(0),U,5) ^DGBT(392,"ACTP",+$P(^(0),U,5),DA)
"^DD",392,392,6,3)

"^DD",392,392,6,12)
Enter the appropriate account at the time of the claim.
"^DD",392,392,6,12.1)
S DIC("S")="I $P(^(0),U,3)'>DA&('$P(^(0),U,4)!($P(^(0),U,4)'<DA))"
"^DD",392,392,6,21,0)
^^3^3^2930127^^
"^DD",392,392,6,21,1,0)
This field is a pointer to the Beneficiary Travel Account file and
"^DD",392,392,6,21,2,0)
contains the account number assigned to an individual beneficiary
"^DD",392,392,6,21,3,0)
travel claim.
"^DD",392,392,6,"DT")
2910219
"^DD",392,392,7,0)
CARRIER^RP440'^PRC(440,^0;7^Q
"^DD",392,392,7,1,0)
^.1
"^DD",392,392,7,1,1,0)
392^AS
"^DD",392,392,7,1,1,1)
S ^DGBT(392,"AS",$E(X,1,30),DA)=""
"^DD",392,392,7,1,1,2)
K ^DGBT(392,"AS",$E(X,1,30),DA)
"^DD",392,392,7,3)

"^DD",392,392,7,21,0)
^^2^2^2920109^
"^DD",392,392,7,21,1,0)
This field points to the Vendor File and contains the Carrier providing 
"^DD",392,392,7,21,2,0)
services for this Bene Travel Claim.
"^DD",392,392,7,"DT")
2890129
"^DD",392,392,8,0)
MOST ECON. COST^NJ8,2^^0;8^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",392,392,8,3)
Type a Dollar Amount between 0 and 10000, 2 Decimal Digits
"^DD",392,392,8,21,0)
^^2^2^2920109^
"^DD",392,392,8,21,1,0)
This field contains the most economical cost amount (whatever cost less) 
"^DD",392,392,8,21,2,0)
for this Bene Travel Claim.
"^DD",392,392,8,"DT")
2881214
"^DD",392,392,9,0)
DEDUCTIBLE AMOUNT^RNJ4,2^^0;9^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>6)!(X<0) X
"^DD",392,392,9,1,0)
^.1
"^DD",392,392,9,1,1,0)
392^AD^MUMPS
"^DD",392,392,9,1,1,1)
S ^DGBT(392,"AD",$P(^DGBT(392,DA,0),"^",2),$E(DA,2,5),DA)=X
"^DD",392,392,9,1,1,2)
K ^DGBT(392,"AD",$P(^DGBT(392,DA,0),"^",2),$E(DA,2,5),DA)
"^DD",392,392,9,3)
Type a Dollar Amount between 0 and 6, 2 Decimal Digits
"^DD",392,392,9,21,0)
^^1^1^2920109^
"^DD",392,392,9,21,1,0)
This field contains the deductible amount applied to this Bene Travel Claim.
"^DD",392,392,10,0)
AMOUNT PAYABLE^RNJ8,2^^0;10^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",392,392,10,3)
Type a Dollar Amount between 0 and 10000, 2 Decimal Digits
"^DD",392,392,10,21,0)
^^2^2^2920109^
"^DD",392,392,10,21,1,0)
This field contains the amount payable (cost minus any applied deductible) 
"^DD",392,392,10,21,2,0)
for this Bene Travel Claim.
"^DD",392,392,10,"DT")
2881214
"^DD",392,392,11,0)
DIVISION^RP40.8'^DG(40.8,^0;11^Q
"^DD",392,392,11,21,0)
^^2^2^2920109^
"^DD",392,392,11,21,1,0)
This field contains the medical center division related to this Bene Travel 
"^DD",392,392,11,21,2,0)
Claim.
"^DD",392,392,11,"DT")
2890127
"^DD",392,392,12,0)
WHO ENTERED INTO FILE^P200'^VA(200,^0;12^Q
"^DD",392,392,12,21,0)
^^1^1^2920109^^^
"^DD",392,392,12,21,1,0)
The name of the user who first entered this patient into the Beneficiary Travel Claim file.
"^DD",392,392,12,"DT")
2901017
"^DD",392,392,13,0)
DATE ENTERED INTO THE FILE^MD^^0;13^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",392,392,13,21,0)
^^1^1^2881215^^
"^DD",392,392,13,21,1,0)
The date this beneficiary travel claim was entered into this file.
"^DD",392,392,13,"DT")
2881215
"^DD",392,392,21,0)
PLACE OF DEPARTURE [LINE 1]^F^^D;1^K:$L(X)>35!($L(X)<3) X
"^DD",392,392,21,1,0)
^.1
"^DD",392,392,21,1,1,0)
^^TRIGGER^392^22
"^DD",392,392,21,1,1,1)
Q
"^DD",392,392,21,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^DGBT(392,D0,"D")):^("D"),1:"") S X=$P(Y(1),U,2),X=X S DIU=X K Y S X="" X ^DD(392,21,1,1,2.4)
"^DD",392,392,21,1,1,2.4)
S DIH=$S($D(^DGBT(392,DIV(0),"D")):^("D"),1:""),DIV=X S %=$P(DIH,U,3,999),DIU=$P(DIH,U,2),^("D")=$P(DIH,U,1,1)_U_DIV_$S(%]"":U_%,1:""),DIH=392,DIG=22 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",392,392,21,1,1,"CREATE VALUE")
NO EFFECT
"^DD",392,392,21,1,1,"DELETE VALUE")
@
"^DD",392,392,21,1,1,"FIELD")
PLACE OF DEPARTURE [LINE 2]
"^DD",392,392,21,3)
Enter the first line of the place of departure address.  Answer must be 3-35 characters in length.
"^DD",392,392,21,21,0)
^^2^2^2920109^^
"^DD",392,392,21,21,1,0)
This field contains the first line of the address for the place of 
"^DD",392,392,21,21,2,0)
departure for this Bene Travel Claim.
"^DD",392,392,21,"DT")
2890406
"^DD",392,392,22,0)
PLACE OF DEPARTURE [LINE 2]^F^^D;2^K:$L(X)>30!($L(X)<3) X
"^DD",392,392,22,1,0)
^.1
"^DD",392,392,22,1,1,0)
^^TRIGGER^392^23
"^DD",392,392,22,1,1,1)
Q
"^DD",392,392,22,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^DGBT(392,D0,"D")):^("D"),1:"") S X=$P(Y(1),U,3),X=X S DIU=X K Y S X="" X ^DD(392,22,1,1,2.4)
"^DD",392,392,22,1,1,2.4)
S DIH=$S($D(^DGBT(392,DIV(0),"D")):^("D"),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,2,99))  S DIH=DIH_U" S %=$P(DIH,U,4,999),DIU=$P(DIH,U,3),^("D")=$P(DIH,U,1,2)_U_DIV_$S(%]"":U_%,1:""),DIH=392,DIG=23 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",392,392,22,1,1,"CREATE VALUE")
NO EFFECT
"^DD",392,392,22,1,1,"DELETE VALUE")
@
"^DD",392,392,22,1,1,"FIELD")
PLACE OF DEPARTURE [LINE 3]
"^DD",392,392,22,3)
If the space provided in 'PLACE OF DEPARTURE [LINE 1] was not sufficient, enter the second line of the place of departure address.  Answer must be 3-30 characters in length.
"^DD",392,392,22,5,1,0)
392^21^1
"^DD",392,392,22,21,0)
^^2^2^2920109^
"^DD",392,392,22,21,1,0)
This field contains the second line of the address for the place of 
"^DD",392,392,22,21,2,0)
departure for this Bene Travel Claim.
"^DD",392,392,22,"DT")
2890406
"^DD",392,392,23,0)
PLACE OF DEPARTURE [LINE 3]^F^^D;3^K:$L(X)>30!($L(X)<3) X
"^DD",392,392,23,3)
Answer must be 3-30 characters in length.
"^DD",392,392,23,5,1,0)
392^22^1
"^DD",392,392,23,21,0)
^^2^2^2920109^
"^DD",392,392,23,21,1,0)
This field contains the third line of the address for the place of 
"^DD",392,392,23,21,2,0)
departure for this Bene Travel Claim.
"^DD",392,392,23,"DT")
2881215
"^DD",392,392,24,0)
CITY OF DEPARTURE^FX^^D;4^K:$L(X)>30!($L(X)<2)!'(X'?1P.E) X I $D(X) D UP^DGHELP
"^DD",392,392,24,3)
Answer must be 2-30 characters in length.
"^DD",392,392,24,21,0)
^^2^2^2920109^
"^DD",392,392,24,21,1,0)
This field contains the name of the city in the address for the place of 
"^DD",392,392,24,21,2,0)
departure for this Bene Travel Claim.
"^DD",392,392,24,"DT")
2890227
"^DD",392,392,24.1,0)
STATE OF DEPARTURE^P5'^DIC(5,^D;5^Q
"^DD",392,392,24.1,21,0)
^^2^2^2920109^
"^DD",392,392,24.1,21,1,0)
This field points to the State File and uses this for the state in the 
"^DD",392,392,24.1,21,2,0)
address for the place of departure for this Bene Travel Claim.
"^DD",392,392,24.1,"DT")
2890227
"^DD",392,392,24.2,0)
ZIP CODE/DEPARTURE^FXO^^D;6^K:$L(X)>20!($L(X)<5) X I $D(X) D ZIPIN^VAFADDR
"^DD",392,392,24.2,2)
S Y(0)=Y D ZIPOUT^VAFADDR
"^DD",392,392,24.2,2.1)
D ZIPOUT^VAFADDR
"^DD",392,392,24.2,3)
Answer with either 5 digit or 9 digit zip code.
"^DD",392,392,24.2,21,0)
^^2^2^2930614^
"^DD",392,392,24.2,21,1,0)
This field contains the 5-digit zip code used in the address for the place
"^DD",392,392,24.2,21,2,0)
of departure for this Bene Travel Claim.
"^DD",392,392,24.2,"DT")
2930301
"^DD",392,392,25,0)
DESTINATION [LINE 1]^F^^T;1^K:$L(X)>35!($L(X)<3) X
"^DD",392,392,25,1,0)
^.1
"^DD",392,392,25,1,1,0)
^^TRIGGER^392^26
"^DD",392,392,25,1,1,1)
Q
"^DD",392,392,25,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^DGBT(392,D0,"T")):^("T"),1:"") S X=$P(Y(1),U,2),X=X S DIU=X K Y S X="" X ^DD(392,25,1,1,2.4)
"^DD",392,392,25,1,1,2.4)
S DIH=$S($D(^DGBT(392,DIV(0),"T")):^("T"),1:""),DIV=X S %=$P(DIH,U,3,999),DIU=$P(DIH,U,2),^("T")=$P(DIH,U,1,1)_U_DIV_$S(%]"":U_%,1:""),DIH=392,DIG=26 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",392,392,25,1,1,"CREATE VALUE")
NO EFFECT
"^DD",392,392,25,1,1,"DELETE VALUE")
@
"^DD",392,392,25,1,1,"FIELD")
DESTINATION [LINE 2]
"^DD",392,392,25,3)
Answer must be 3-35 characters in length.
"^DD",392,392,25,21,0)
^^2^2^2920109^
"^DD",392,392,25,21,1,0)
This field contains the first line of the address for place of destination 
"^DD",392,392,25,21,2,0)
for this Bene Travel Claim.
"^DD",392,392,25,"DT")
2890406
"^DD",392,392,26,0)
DESTINATION [LINE 2]^F^^T;2^K:$L(X)>30!($L(X)<3) X
"^DD",392,392,26,1,0)
^.1
"^DD",392,392,26,1,1,0)
^^TRIGGER^392^27
"^DD",392,392,26,1,1,1)
Q
"^DD",392,392,26,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^DGBT(392,D0,"T")):^("T"),1:"") S X=$P(Y(1),U,3),X=X S DIU=X K Y S X="" X ^DD(392,26,1,1,2.4)
"^DD",392,392,26,1,1,2.4)
S DIH=$S($D(^DGBT(392,DIV(0),"T")):^("T"),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,2,99))  S DIH=DIH_U" S %=$P(DIH,U,4,999),DIU=$P(DIH,U,3),^("T")=$P(DIH,U,1,2)_U_DIV_$S(%]"":U_%,1:""),DIH=392,DIG=27 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",392,392,26,1,1,"CREATE VALUE")
NO EFFECT
"^DD",392,392,26,1,1,"DELETE VALUE")
@
"^DD",392,392,26,1,1,"FIELD")
DESTINATION [LINE 3]
"^DD",392,392,26,3)
Answer must be 3-30 characters in length.
"^DD",392,392,26,5,1,0)
392^25^1
"^DD",392,392,26,21,0)
^^2^2^2920109^
"^DD",392,392,26,21,1,0)
This field contains the second line of the address for the place of 
"^DD",392,392,26,21,2,0)
destination for this Bene Travel Claim.
"^DD",392,392,26,"DT")
2890406
"^DD",392,392,27,0)
DESTINATION [LINE 3]^F^^T;3^K:$L(X)>30!($L(X)<3) X
"^DD",392,392,27,3)
Answer must be 3-30 characters in length.
"^DD",392,392,27,5,1,0)
392^26^1
"^DD",392,392,27,21,0)
^^2^2^2920109^^
"^DD",392,392,27,21,1,0)
This field contains the third line of the address for the place of 
"^DD",392,392,27,21,2,0)
destination for this Bene Travel Claim.
"^DD",392,392,27,"DT")
2890208
"^DD",392,392,28,0)
CITY OF DESTINATION^FX^^T;4^K:$L(X)>30!($L(X)<2)!'(X'?1P.E) X I $D(X) D UP^DGHELP
"^DD",392,392,28,3)
Answer must be 2-30 characters in length.
"^DD",392,392,28,21,0)
^^2^2^2920109^
"^DD",392,392,28,21,1,0)
This field contains the name of the city in the address for the place of 
"^DD",392,392,28,21,2,0)
destination for this Bene Travel Claim.
"^DD",392,392,28,"DT")
2890309
"^DD",392,392,28.1,0)
STATE OF DESTINATION^P5'^DIC(5,^T;5^Q
"^DD",392,392,28.1,21,0)
^^2^2^2920109^^
"^DD",392,392,28.1,21,1,0)
This field points the the STATE file and contains the state used in the 
"^DD",392,392,28.1,21,2,0)
address for the place of destination for this Bene Travel Claim.
"^DD",392,392,28.1,"DT")
2890227
"^DD",392,392,28.2,0)
ZIP CODE/DESTINATION^FXO^^T;6^K:$L(X)>20!($L(X)<5) X I $D(X) D ZIPIN^VAFADDR
"^DD",392,392,28.2,2)
S Y(0)=Y D ZIPOUT^VAFADDR
"^DD",392,392,28.2,2.1)
D ZIPOUT^VAFADDR
"^DD",392,392,28.2,3)
Answer with either 5 digit or 9 digit zip code.
"^DD",392,392,28.2,21,0)
^^2^2^2920109^
"^DD",392,392,28.2,21,1,0)
This field contains the 5-digit zip code used in the address for the 
"^DD",392,392,28.2,21,2,0)
place of destination for this Bene Travel Claim.
"^DD",392,392,28.2,"DT")
2930301
"^DD",392,392,31,0)
ONE WAY/ROUND TRIP^RS^1:ONE WAY;2:ROUND TRIP;^M;1^Q
"^DD",392,392,31,21,0)
^^1^1^2920109^^
"^DD",392,392,31,21,1,0)
This field indicates one way or round trip for this Bene Travel Claim.
"^DD",392,392,31,"DT")
2890208
"^DD",392,392,32,0)
MILEAGE/ONE WAY^RNJ5,0^^M;2^K:+X'=X!(X>10000)!(X<0)!(X?.E1"."1N.N) X
"^DD",392,392,32,3)
Type a Number between 0 and 10000, 0 Decimal Digits
"^DD",392,392,32,21,0)
^^1^1^2920109^
"^DD",392,392,32,21,1,0)
This field contains the one way mileage for this Bene Travel Calim.
"^DD",392,392,32,"DT")
2890129
"^DD",392,392,33,0)
TOTAL MILEAGE AMOUNT^NJ8,2^^M;3^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",392,392,33,3)
Type a Dollar Amount between 0 and 10000, 2 Decimal Digits
"^DD",392,392,33,21,0)
^^2^2^2930127^^
"^DD",392,392,33,21,1,0)
This is a numeric field containing the total mileage entered for a
"^DD",392,392,33,21,2,0)
specific beneficiary travel claim.
"^DD",392,392,33,"DT")
2890107
"^DD",392,392,34,0)
MEALS & LODGING^NJ8,2^^M;4^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",392,392,34,3)
Type a Dollar Amount between 0 and 10000, 2 Decimal Digits
"^DD",392,392,34,21,0)
^^1^1^2920109^
"^DD",392,392,34,21,1,0)
This field contains meals and lodging costs for this Bene Travel Claim.
"^DD",392,392,34,"DT")
2890107
"^DD",392,392,35,0)
FERRY, BRIDGES, ETC.^NJ8,2^^M;5^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",392,392,35,3)
Type a Dollar Amount between 0 and 10000, 2 Decimal Digits
"^DD",392,392,35,21,0)
^^1^1^2920109^
"^DD",392,392,35,21,1,0)
This field contains ferry, bridges, etc. costs for this Bene Travel Claim.
"^DD",392,392,35,"DT")
2890107
"^DD",392,392,41,0)
AUTHORIZING PERSON^P200'^VA(200,^A;1^Q
"^DD",392,392,41,21,0)
^^2^2^2930127^^
"^DD",392,392,41,21,1,0)
This field points the person file to indicate who the authorizing person 
"^DD",392,392,41,21,2,0)
responsible for this Bene Travel Claim.
"^DD",392,392,41,"DT")
2930127
"^DD",392,392,42,0)
ATTENDANT/PAYEE^FX^^A;2^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<3)!(X?1P.E)!(X'?1U.ANP)!(X'[",") X I $D(X) D UP^DGHELP S Y=", " F I=0:0 Q:$F(X,Y)<1  S X=$E(X,1,($F(X,Y)-2))_$E(X,$F(X,Y),99)
"^DD",392,392,42,3)
Enter the name in 'Last,First Middle' format between 3-30 characters.  With the exception of the comma, period, space, hyphen, dash and apostrophe punctuation characters should be avoided.
"^DD",392,392,42,21,0)
^^2^2^2930730^^
"^DD",392,392,42,21,1,0)
This field contains the 'Last, First Middle' name format of the 
"^DD",392,392,42,21,2,0)
attendent/payee of this Bene Travel Claim.
"^DD",392,392,42,"DT")
2930730
"^DD",392,392,43,0)
C&P REVIEW VISIT^RS^0:NO;1:YES;^A;3^Q
"^DD",392,392,43,3)
Answer whether this claim is a C&P review visit and should be paid at the C&P review visit mileage rate as indicated in the BT parameters.
"^DD",392,392,43,21,0)
^^3^3^2920109^
"^DD",392,392,43,21,1,0)
This field indicates whether this is a C&P review visit and should be 
"^DD",392,392,43,21,2,0)
paid at the C&P review visit mileage rate as indicated in the BT 
"^DD",392,392,43,21,3,0)
parameters for this Bene Travel Claim.
"^DD",392,392,43,"DT")
2890228
"^DD",392,392,44,0)
MODE OF TRANSPORTATION^RP392.4^DGBT(392.4,^A;4^Q
"^DD",392,392,44,3)
Enter the mode of transportation used for this Beneficiary Travel Claim         (e.g. AMBULANCE, HIRED CAR, HANDICAPPED VAN, etc.)
"^DD",392,392,44,21,0)
^^2^2^2920109^
"^DD",392,392,44,21,1,0)
This field points to the Beneficiary Travel Mode of Transportation file 
"^DD",392,392,44,21,2,0)
and indicates the mode of transportation used for this Bene Travel Claim.
"^DD",392,392,44,"DT")
2890302
"^DD",392,392,51,0)
REMARKS^FX^^R;1^K:$L(X)>79!($L(X)<1)!(X[";") X
"^DD",392,392,51,3)
Answer must be 1-79 characters in length and not containing a ";".
"^DD",392,392,51,21,0)
^^1^1^2920109^
"^DD",392,392,51,21,1,0)
This field contains remarks related to this Bene Travel Claim.
"^DD",392,392,51,"DT")
2900627
"^DD",392.1,392.1,0)
FIELD^^100^7
"^DD",392.1,392.1,0,"DDA")
N
"^DD",392.1,392.1,0,"DT")
2930209
"^DD",392.1,392.1,0,"ID",2)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DIC(5,+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(5,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",392.1,392.1,0,"IX","AC",392.1,.01)

"^DD",392.1,392.1,0,"IX","ACS",392.1,2)

"^DD",392.1,392.1,0,"IX","B",392.1,.01)

"^DD",392.1,392.1,0,"IX","C",392.1,4)

"^DD",392.1,392.1,0,"NM","BENEFICIARY TRAVEL DISTANCE")

"^DD",392.1,392.1,0,"VRPK")
DGBT
"^DD",392.1,392.1,.01,0)
CITY OR TOWN^RFX^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<1)!'(X'?1P.E) X I $D(X) D UP^DGBTHELP
"^DD",392.1,392.1,.01,1,0)
^.1
"^DD",392.1,392.1,.01,1,1,0)
392.1^B
"^DD",392.1,392.1,.01,1,1,1)
S ^DGBT(392.1,"B",$E(X,1,30),DA)=""
"^DD",392.1,392.1,.01,1,1,2)
K ^DGBT(392.1,"B",$E(X,1,30),DA)
"^DD",392.1,392.1,.01,1,2,0)
392.1^AC^MUMPS
"^DD",392.1,392.1,.01,1,2,1)
S:$P(^DGBT(392.1,DA,0),"^",2)]"" ^DGBT(392.1,"ACS",$E(X,1,30),$P(^DGBT(392.1,DA,0),"^",2),DA)="" S ^DGBT(392.1,"AC",DA)=$E(X,1,30)
"^DD",392.1,392.1,.01,1,2,2)
K:$P(^DGBT(392.1,DA,0),"^",2)]"" ^DGBT(392.1,"ACS",$E(X,1,30),$P(^DGBT(392.1,DA,0),"^",2),DA) K ^DGBT(392.1,"AC",DA)
"^DD",392.1,392.1,.01,3)
Enter the name of the city or town to be used as the point of departure, 1-30 characters in length.
"^DD",392.1,392.1,.01,21,0)
^^4^4^2930614^
"^DD",392.1,392.1,.01,21,1,0)
This field contains the free text departure name, 1 to 30 characters
"^DD",392.1,392.1,.01,21,2,0)
in length, of the City or Town that is used as the alternate lookup in
"^DD",392.1,392.1,.01,21,3,0)
determining the one way mileage distance that is pre-stuffed when entering
"^DD",392.1,392.1,.01,21,4,0)
the Bene Travel Claim.
"^DD",392.1,392.1,.01,"DT")
3011030
"^DD",392.1,392.1,2,0)
STATE^RP5'^DIC(5,^0;2^Q
"^DD",392.1,392.1,2,1,0)
^.1
"^DD",392.1,392.1,2,1,1,0)
392.1^ACS^MUMPS
"^DD",392.1,392.1,2,1,1,1)
S ^DGBT(392.1,"ACS",$P(^DGBT(392.1,DA,0),"^"),X,DA)=""
"^DD",392.1,392.1,2,1,1,2)
K ^DGBT(392.1,"ACS",$P(^DGBT(392.1,DA,0),"^"),X,DA)
"^DD",392.1,392.1,2,3)
Enter the State name or two digit postal abbreviation
"^DD",392.1,392.1,2,21,0)
^^4^4^2930216^^^^
"^DD",392.1,392.1,2,21,1,0)
This field points to the State File (#5) and contains the IFN for that 
"^DD",392.1,392.1,2,21,2,0)
field and is used in the Beneficiary Travel Claim Options
"^DD",392.1,392.1,2,21,3,0)
as the primary look-up to determine the
"^DD",392.1,392.1,2,21,4,0)
one way mileage that can be pre-stuffed in the Bene Travel Claim.  
"^DD",392.1,392.1,2,"DT")
2890316
"^DD",392.1,392.1,3,0)
DEFAULT MILEAGE^NJ5,0^^0;3^K:+X'=X!(X>10000)!(X<0)!(X?.E1"."1N.N) X
"^DD",392.1,392.1,3,3)
Enter the default mileage between the city/town and the primary division.  This must be a number between 0 and 10000.
"^DD",392.1,392.1,3,21,0)
^^7^7^2930216^^^^
"^DD",392.1,392.1,3,21,1,0)
This field contains the one way mileage (in whole numbers between 0 and 
"^DD",392.1,392.1,3,21,2,0)
10000) distance (e.g. between place of departure and place of destination).
"^DD",392.1,392.1,3,21,3,0)
The default mileage is between the departure city and the primary division
"^DD",392.1,392.1,3,21,4,0)
of the instituion.  This value is not accessed directly by the user
"^DD",392.1,392.1,3,21,5,0)
but is stuffed from the mileage/one way field in the primary division
"^DD",392.1,392.1,3,21,6,0)
of the division mileage multiple.  It is changed whenever the one-way
"^DD",392.1,392.1,3,21,7,0)
mileage in the primary division is changed.
"^DD",392.1,392.1,3,22)

"^DD",392.1,392.1,3,"DT")
2930209
"^DD",392.1,392.1,4,0)
ZIP^FXO^^0;4^K:$L(X)>20!($L(X)<5) X I $D(X) D ZIPIN^VAFADDR
"^DD",392.1,392.1,4,1,0)
^.1
"^DD",392.1,392.1,4,1,1,0)
392.1^C
"^DD",392.1,392.1,4,1,1,1)
S ^DGBT(392.1,"C",$E(X,1,30),DA)=""
"^DD",392.1,392.1,4,1,1,2)
K ^DGBT(392.1,"C",$E(X,1,30),DA)
"^DD",392.1,392.1,4,1,1,"%D",0)
^^1^1^2930209^
"^DD",392.1,392.1,4,1,1,"%D",1,0)
Zipcode cross-reference for lookup by zipcode
"^DD",392.1,392.1,4,1,1,"DT")
2930209
"^DD",392.1,392.1,4,2)
S Y(0)=Y D ZIPOUT^VAFADDR
"^DD",392.1,392.1,4,2.1)
D ZIPOUT^VAFADDR
"^DD",392.1,392.1,4,3)
Answer must be 5 digit or 9 digit zip code.  If no zip code is entered, you will not be able to do lookups later by cross-referencing on the zip code.
"^DD",392.1,392.1,4,21,0)
^^5^5^2930614^
"^DD",392.1,392.1,4,21,1,0)
This field contains the 5-digit zip code for the Beneficiary Travel
"^DD",392.1,392.1,4,21,2,0)
Distance File. This field is not required, but if no zip code is
"^DD",392.1,392.1,4,21,3,0)
present, the claim enter/edit routine will not be able to make the
"^DD",392.1,392.1,4,21,4,0)
initial look-up using the 'C' cross reference, and a correct look-up
"^DD",392.1,392.1,4,21,5,0)
for the mileage will rely solely  on the correct spelling of the city/town.
"^DD",392.1,392.1,4,"DT")
2930301
"^DD",392.1,392.1,5,0)
* ADDITIONAL INFORMATION^S^0:NO;1:YES;^0;5^Q
"^DD",392.1,392.1,5,3)
Enter 'YES' to indication that additional information should be checked (e.g. closer VA facility).
"^DD",392.1,392.1,5,21,0)
^^3^3^2930209^^
"^DD",392.1,392.1,5,21,1,0)
This field is a set of codes 0 for no and 1 for yes and is used to 
"^DD",392.1,392.1,5,21,2,0)
indicate that additional information should be checked or not 
"^DD",392.1,392.1,5,21,3,0)
(e.g. if there is a closer VA facility, etc.)
"^DD",392.1,392.1,5,"DT")
2930209
"^DD",392.1,392.1,6,0)
* MOST ECON/PUBLIC TRANS. COST^NJ8,2^^0;6^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",392.1,392.1,6,3)
Type a Dollar Amount between 0 and 10000, 2 Decimal Digits.  Indicate if there is a Most Econ./Public Trans. amount that should be used for this location.
"^DD",392.1,392.1,6,21,0)
^^3^3^2930209^^^
"^DD",392.1,392.1,6,21,1,0)
This field is a dollar amount between 0 and 10000.00 and is used to 
"^DD",392.1,392.1,6,21,2,0)
indicate if there is a most econ./public trans. amount that should 
"^DD",392.1,392.1,6,21,3,0)
be used for this location.
"^DD",392.1,392.1,6,"DT")
2930209
"^DD",392.1,392.1,100,0)
DIVISION MILEAGE^392.1001PA^^1;0
"^DD",392.1,392.1,100,21,0)
^^4^4^2930614^^^^
"^DD",392.1,392.1,100,21,1,0)
Multiple for divisions with each division having it's own
"^DD",392.1,392.1,100,21,2,0)
mileage value between the division and the departure city.  Edited
"^DD",392.1,392.1,100,21,3,0)
by the user and, for the primary division, the mileage will be stuffed into the 
"^DD",392.1,392.1,100,21,4,0)
default mileage field, #3.
"^DD",392.1,392.1,100,"DT")
2930209
"^DD",392.1,392.1001,0)
DIVISION MILEAGE SUB-FIELD^^5^5
"^DD",392.1,392.1001,0,"DT")
2930209
"^DD",392.1,392.1001,0,"IX","B",392.1001,.01)

"^DD",392.1,392.1001,0,"NM","DIVISION MILEAGE")

"^DD",392.1,392.1001,0,"UP")
392.1
"^DD",392.1,392.1001,.01,0)
DIVISION NAME^RP40.8'^DG(40.8,^0;1^Q
"^DD",392.1,392.1001,.01,1,0)
^.1
"^DD",392.1,392.1001,.01,1,1,0)
392.1001^B
"^DD",392.1,392.1001,.01,1,1,1)
S ^DGBT(392.1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",392.1,392.1001,.01,1,1,2)
K ^DGBT(392.1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",392.1,392.1001,.01,3)
Enter the division name to be associated with this departure city
"^DD",392.1,392.1001,.01,21,0)
^^1^1^2930527^
"^DD",392.1,392.1001,.01,21,1,0)
Division Name points to the Medical Center Division file, #40.8
"^DD",392.1,392.1001,.01,"DT")
2930209
"^DD",392.1,392.1001,2,0)
MILEAGE ONE WAY^RNJ5,0^^0;2^K:+X'=X!(X>10000)!(X<0)!(X?.E1"."1N.N) X
"^DD",392.1,392.1001,2,3)
Enter the one-way mileage distance between the departure city and the division, 0 to 10000 miles, no decimal points
"^DD",392.1,392.1001,2,21,0)
^^5^5^2930527^
"^DD",392.1,392.1001,2,21,1,0)
One-way mileage value between the departure city and the division.
"^DD",392.1,392.1001,2,21,2,0)
Value is between 0 and 10000 miles.  For the primary division only,
"^DD",392.1,392.1001,2,21,3,0)
this value is used to populate the Default Mileage field, #3 on the
"^DD",392.1,392.1001,2,21,4,0)
zero node.  This value is stuffed into Field #3 when ever there is a
"^DD",392.1,392.1001,2,21,5,0)
difference between the Default mileage, and the primary division mileage.
"^DD",392.1,392.1001,2,"DT")
2930209
"^DD",392.1,392.1001,3,0)
MOST ECONOMICAL COST^NJ8,2^^0;3^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>10000)!(X<0) X
"^DD",392.1,392.1001,3,3)
Enter the cost of the most economical method of transportation as a dollar value between $0 and $10000.
"^DD",392.1,392.1001,3,21,0)
^^2^2^2930527^
"^DD",392.1,392.1001,3,21,1,0)
Cost for the most economical method of transportation,
"^DD",392.1,392.1001,3,21,2,0)
public or private.
"^DD",392.1,392.1001,3,"DT")
2930209
"^DD",392.1,392.1001,4,0)
ADDITIONAL INFORMATION^S^0:NO;1:YES;^0;4^Q
"^DD",392.1,392.1001,4,3)
Enter 'Y'es if there are remarks to be entered, or a 'N'o if there are no additional mileage remarks.
"^DD",392.1,392.1001,4,21,0)
^^2^2^2930614^
"^DD",392.1,392.1001,4,21,1,0)
Set of codes for additional information/remarks field.  If '0',
"^DD",392.1,392.1001,4,21,2,0)
no remarks exist.  If '1', there are remarks attached.
"^DD",392.1,392.1001,4,"DT")
2930209
"^DD",392.1,392.1001,5,0)
REMARKS^F^^0;5^K:$L(X)>50!($L(X)<1) X
"^DD",392.1,392.1001,5,3)
Remarks can be 1 to 50 characters in length, and are associated with this division only.
"^DD",392.1,392.1001,5,21,0)
^^6^6^2930614^
"^DD",392.1,392.1001,5,21,1,0)
Additional remarks associated with this division.  Remarks are
"^DD",392.1,392.1001,5,21,2,0)
free text, 1 to 50 characters in length.  These remarks will be
"^DD",392.1,392.1001,5,21,3,0)
displayed for informational purposes during Claim Enter/Edit,
"^DD",392.1,392.1001,5,21,4,0)
prior to the mileage display.  The remark can only be changed in
"^DD",392.1,392.1001,5,21,5,0)
the Distance Enter/Edit option, it cannot be changed from the claim
"^DD",392.1,392.1001,5,21,6,0)
Enter/edit.
"^DD",392.1,392.1001,5,"DT")
2930209
"^DD",392.2,392.2,0)
FIELD^^19^15
"^DD",392.2,392.2,0,"DDA")
N
"^DD",392.2,392.2,0,"ID",2)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DPT(+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(2,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",392.2,392.2,0,"ID",3)
W "   ",@("$P($P($C(59)_$S($D(^DD(392.2,3,0)):$P(^(0),U,3),1:0)_$E("_DIC_"Y,0),0),$C(59)_$P(^(0),U,3)_"":"",2),$C(59),1)")
"^DD",392.2,392.2,0,"IX","B",392.2,.01)

"^DD",392.2,392.2,0,"IX","C",392.2,2)

"^DD",392.2,392.2,0,"IX","IVM01",392.2,.01)

"^DD",392.2,392.2,0,"IX","IVM2",392.2,2)

"^DD",392.2,392.2,0,"NM","BENEFICIARY TRAVEL CERTIFICATION")

"^DD",392.2,392.2,0,"PT",392,5)

"^DD",392.2,392.2,0,"VRPK")
DGBT
"^DD",392.2,392.2,.01,0)
DATE CERTIFIED^RDX^^0;1^S %DT="ESXR" D ^%DT S X=Y K:Y<1 X I $D(X) S DINUM=9999999.99999-X
"^DD",392.2,392.2,.01,.1)
ANNUAL CERTIFICATION DATE
"^DD",392.2,392.2,.01,1,0)
^.1
"^DD",392.2,392.2,.01,1,1,0)
392.2^B
"^DD",392.2,392.2,.01,1,1,1)
S ^DGBT(392.2,"B",$E(X,1,30),DA)=""
"^DD",392.2,392.2,.01,1,1,2)
K ^DGBT(392.2,"B",$E(X,1,30),DA)
"^DD",392.2,392.2,.01,1,2,0)
392.2^IVM01^MUMPS
"^DD",392.2,392.2,.01,1,2,1)
D BT^IVMCUC(DA)
"^DD",392.2,392.2,.01,1,2,2)
D BT^IVMCUC(DA)
"^DD",392.2,392.2,.01,1,2,"%D",0)
^^1^1^2971014^
"^DD",392.2,392.2,.01,1,2,"%D",1,0)
Used to log DCD defined events for nightly transmission to HEC.
"^DD",392.2,392.2,.01,1,2,"DT")
2971014
"^DD",392.2,392.2,.01,3)
Enter the date of annual certification.  Future dates are not allowed.
"^DD",392.2,392.2,.01,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,.01,21,1,0)
This field contains the date of annual income certification used in the 
"^DD",392.2,392.2,.01,21,2,0)
Beneficial Travel Claim process.
"^DD",392.2,392.2,.01,"DT")
2971014
"^DD",392.2,392.2,2,0)
NAME^RP2'^DPT(^0;2^Q
"^DD",392.2,392.2,2,1,0)
^.1
"^DD",392.2,392.2,2,1,1,0)
392.2^C
"^DD",392.2,392.2,2,1,1,1)
S ^DGBT(392.2,"C",$E(X,1,30),DA)=""
"^DD",392.2,392.2,2,1,1,2)
K ^DGBT(392.2,"C",$E(X,1,30),DA)
"^DD",392.2,392.2,2,1,2,0)
392.2^IVM2^MUMPS
"^DD",392.2,392.2,2,1,2,1)
D BT^IVMCUC(DA)
"^DD",392.2,392.2,2,1,2,2)
D BT^IVMCUC(DA)
"^DD",392.2,392.2,2,1,2,"%D",0)
^^1^1^2971014^
"^DD",392.2,392.2,2,1,2,"%D",1,0)
Used to log DCD defined events for nightly transmission to HEC.
"^DD",392.2,392.2,2,1,2,"DT")
2971014
"^DD",392.2,392.2,2,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,2,21,1,0)
This field points to the patient file and contains the IFN for the 
"^DD",392.2,392.2,2,21,2,0)
patient related to this Beneficiary Travel certification date.
"^DD",392.2,392.2,2,"DT")
2971014
"^DD",392.2,392.2,3,0)
ELIGIBLE^RS^0:NO;1:YES;^0;3^Q
"^DD",392.2,392.2,3,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,3,21,1,0)
This field is a set of codes (yes or no) indicating whether this person is 
"^DD",392.2,392.2,3,21,2,0)
eligible for Beneficiary Travel.
"^DD",392.2,392.2,3,"DT")
2890227
"^DD",392.2,392.2,4,0)
AMOUNT CERTIFIED^NJ9,2^^0;4^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>100000)!(X<0) X
"^DD",392.2,392.2,4,.1)
ANNUAL INCOME
"^DD",392.2,392.2,4,3)
Type a Dollar Amount between 0 and 100000, 2 Decimal Digits.  Enter the patient's annual income for the previous year.
"^DD",392.2,392.2,4,21,0)
^^2^2^2920123^^^^
"^DD",392.2,392.2,4,21,1,0)
This field is to be used to record the annual income reported by the 
"^DD",392.2,392.2,4,21,2,0)
patient.
"^DD",392.2,392.2,5,0)
EDITED BY^P200'^VA(200,^0;5^Q
"^DD",392.2,392.2,5,21,0)
^^3^3^2920123^
"^DD",392.2,392.2,5,21,1,0)
This field is a pointer to the new person file and contains the IFN 
"^DD",392.2,392.2,5,21,2,0)
of the person who last edited this Beneficiary Travel Certification 
"^DD",392.2,392.2,5,21,3,0)
date/time. 
"^DD",392.2,392.2,5,"DT")
2901017
"^DD",392.2,392.2,6,0)
LAST EDITED^D^^0;6^S %DT="ETX" D ^%DT S X=Y K:Y<1 X
"^DD",392.2,392.2,6,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,6,21,1,0)
This field contains the date this Beneficiary Travel Certification 
"^DD",392.2,392.2,6,21,2,0)
entry was last edited on.
"^DD",392.2,392.2,6,"DT")
2890114
"^DD",392.2,392.2,11,0)
ADDRESS LINE [1]^F^^A;1^K:$L(X)>35!($L(X)<3) X
"^DD",392.2,392.2,11,3)
ANSWER MUST BE 3-35 CHARACTERS IN LENGTH
"^DD",392.2,392.2,11,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,11,21,1,0)
This field contains the first line of the address associated with this 
"^DD",392.2,392.2,11,21,2,0)
Beneficiary Travel Certification date/time.
"^DD",392.2,392.2,11,"DT")
2890302
"^DD",392.2,392.2,12,0)
ADDRESS LINE [2]^F^^A;2^K:$L(X)>30!($L(X)<3) X
"^DD",392.2,392.2,12,3)
ANSWER MUST BE 3-30 CHARACTERS IN LENGTH
"^DD",392.2,392.2,12,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,12,21,1,0)
This field contains the second line of the address associated with this 
"^DD",392.2,392.2,12,21,2,0)
Beneficiary Travel Certification date/time.
"^DD",392.2,392.2,12,"DT")
2890302
"^DD",392.2,392.2,13,0)
ADDRESS LINE [3]^F^^A;3^K:$L(X)>30!($L(X)<3) X
"^DD",392.2,392.2,13,3)
ANSWER MUST BE 3-30 CHARACTERS IN LENGTH
"^DD",392.2,392.2,13,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,13,21,1,0)
This field contains the third line of the address associated with this 
"^DD",392.2,392.2,13,21,2,0)
Beneficiary Travel Certifiction date/time.
"^DD",392.2,392.2,13,"DT")
2890302
"^DD",392.2,392.2,14,0)
CITY^FX^^A;4^K:$L(X)>30!($L(X)<2)!'(X'?1P.E) X I $D(X) D UP^DGBTHELP
"^DD",392.2,392.2,14,3)
ANSWER MUST BE 2-30 CHARACTERS IN LENGTH
"^DD",392.2,392.2,14,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,14,21,1,0)
This field contains the free text 2-30 character name of the City associated 
"^DD",392.2,392.2,14,21,2,0)
with this Beneficiary Travel Certification date/time.  
"^DD",392.2,392.2,14,"DT")
3011030
"^DD",392.2,392.2,15,0)
STATE^P5'^DIC(5,^A;5^Q
"^DD",392.2,392.2,15,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,15,21,1,0)
This field points to the State File and contains the IFN of the State 
"^DD",392.2,392.2,15,21,2,0)
associated with this Beneficiary Travel Certification date/time.
"^DD",392.2,392.2,15,"DT")
2890302
"^DD",392.2,392.2,16,0)
ZIP^FXO^^A;6^K:$L(X)>20!($L(X)<5) X I $D(X) D ZIPIN^VAFADDR
"^DD",392.2,392.2,16,2)
S Y(0)=Y D ZIPOUT^VAFADDR
"^DD",392.2,392.2,16,2.1)
D ZIPOUT^VAFADDR
"^DD",392.2,392.2,16,3)
Answer must be 5 digit or 9 digit zip code.
"^DD",392.2,392.2,16,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,16,21,1,0)
This field contains the 5-digit zip code associated with this Beneficiary 
"^DD",392.2,392.2,16,21,2,0)
Travel Certification date/time.
"^DD",392.2,392.2,16,"DT")
2930301
"^DD",392.2,392.2,17,0)
COUNTY CODE^FX^^A;7^K:$L(X)>3!($L(X)<3)!'(X?3N) X
"^DD",392.2,392.2,17,3)
ANSWER MUST BE 3 NUMERIC CHARACTERS IN LENGTH
"^DD",392.2,392.2,17,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,17,21,1,0)
This field contains three numeric characters in length for the County Code 
"^DD",392.2,392.2,17,21,2,0)
associated with this Beneficiary Travel Certification date/time.
"^DD",392.2,392.2,17,"DT")
2890302
"^DD",392.2,392.2,18,0)
MEANS TEST STATUS^F^^A;8^K:$L(X)>2!($L(X)<1) X
"^DD",392.2,392.2,18,3)
ANSWER MUST BE 1-2 CHARACTERS IN LENGTH
"^DD",392.2,392.2,18,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,18,21,1,0)
This field contains the Means Test Status associated with this Beneficiary 
"^DD",392.2,392.2,18,21,2,0)
Travel Certification date/time.
"^DD",392.2,392.2,18,"DT")
2890302
"^DD",392.2,392.2,19,0)
PRIMARY ELIGIBILITY^F^^A;9^K:$L(X)>30!($L(X)<3) X
"^DD",392.2,392.2,19,3)
ANSWER MUST BE 3-30 CHARACTERS IN LENGTH
"^DD",392.2,392.2,19,21,0)
^^2^2^2920123^
"^DD",392.2,392.2,19,21,1,0)
This field contains the primary eligibility associated with this Beneficiary 
"^DD",392.2,392.2,19,21,2,0)
Travel Certification date/time.
"^DD",392.2,392.2,19,"DT")
2890302
"^DD",392.3,392.3,0)
FIELD^^5^5
"^DD",392.3,392.3,0,"DDA")
N
"^DD",392.3,392.3,0,"DT")
2931103
"^DD",392.3,392.3,0,"ID",2)
W "   ",$P(^(0),U,2)
"^DD",392.3,392.3,0,"IX","B",392.3,.01)

"^DD",392.3,392.3,0,"IX","C",392.3,2)

"^DD",392.3,392.3,0,"IX","D",392.3,.01)

"^DD",392.3,392.3,0,"NM","BENEFICIARY TRAVEL ACCOUNT")

"^DD",392.3,392.3,0,"PT",392,6)

"^DD",392.3,392.3,0,"VRPK")
DGBT
"^DD",392.3,392.3,.01,0)
ACCOUNT^RFXI^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<3)!(X'?3.4N1" "1AN.ANP) X
"^DD",392.3,392.3,.01,1,0)
^.1
"^DD",392.3,392.3,.01,1,1,0)
392.3^B
"^DD",392.3,392.3,.01,1,1,1)
S ^DGBT(392.3,"B",$E(X,1,30),DA)=""
"^DD",392.3,392.3,.01,1,1,2)
K ^DGBT(392.3,"B",$E(X,1,30),DA)
"^DD",392.3,392.3,.01,1,2,0)
392.3^D^MUMPS
"^DD",392.3,392.3,.01,1,2,1)
S ^DGBT(392.3,"D",$P(X," ",2,$L(X," ")),DA)=""
"^DD",392.3,392.3,.01,1,2,2)
K ^DGBT(392.3,"D",$P(X," ",2,$L(X," ")),DA)
"^DD",392.3,392.3,.01,3)
Enter account number (three to four numerics) space account name (26 character limit, upper case).
"^DD",392.3,392.3,.01,4)
W !!?5,"Some examples of valid entries follow:",!!?8,"888 SAMPLE",!?8,"1021 SECOND SAMPLE",!!
"^DD",392.3,392.3,.01,9)
^
"^DD",392.3,392.3,.01,21,0)
^^3^3^3011026^
"^DD",392.3,392.3,.01,21,1,0)
This field contains the account number (three to four numerics) a space
"^DD",392.3,392.3,.01,21,2,0)
then the account name (26 characters limit, upper case) associated with
"^DD",392.3,392.3,.01,21,3,0)
the Beneficiary Travel Claims.
"^DD",392.3,392.3,.01,"DEL",1,0)
I 1 W *7,!,"ACCOUNT TYPES CAN NOT BE DELETED!!"
"^DD",392.3,392.3,.01,"DT")
3011030
"^DD",392.3,392.3,2,0)
ACCOUNT NUMBER^RFX^^0;2^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>4!($L(X)<3)!'(X?3.4N) X I $D(X),X'=$P($P(^DGBT(392.3,DA,0),U)," ",1) W !,"Account number must match the number in the ACCOUNT (.01) field." K X
"^DD",392.3,392.3,2,1,0)
^.1
"^DD",392.3,392.3,2,1,1,0)
392.3^C
"^DD",392.3,392.3,2,1,1,1)
S ^DGBT(392.3,"C",$E(X,1,30),DA)=""
"^DD",392.3,392.3,2,1,1,2)
K ^DGBT(392.3,"C",$E(X,1,30),DA)
"^DD",392.3,392.3,2,1,1,"DT")
2931103
"^DD",392.3,392.3,2,3)
Type a three to four character Number between 000 and 9999, No decimal digits.
"^DD",392.3,392.3,2,9)
^
"^DD",392.3,392.3,2,21,0)
^^4^4^3011026^
"^DD",392.3,392.3,2,21,1,0)
 
"^DD",392.3,392.3,2,21,2,0)
This field contains the Account Number (a three to four character number
"^DD",392.3,392.3,2,21,3,0)
between 000 and 9999) and must match the number in the ACCOUNT (.01) field
"^DD",392.3,392.3,2,21,4,0)
of this file associated with the Beneficiary Travel Claims.
"^DD",392.3,392.3,2,"DT")
3011026
"^DD",392.3,392.3,3,0)
ACTIVE DATE^RD^^0;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",392.3,392.3,3,21,0)
^^1^1^2920123^
"^DD",392.3,392.3,3,21,1,0)
This field contains date this Beneficiary Travel Account became active.
"^DD",392.3,392.3,4,0)
INACTIVE DATE^D^^0;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",392.3,392.3,4,21,0)
^^1^1^2920123^
"^DD",392.3,392.3,4,21,1,0)
This field contains the date this Beneficiary Travel Account became inactive.
"^DD",392.3,392.3,5,0)
ACCOUNT TYPE^RS^1:EMERGENCIES;2:INTERFACILITY;3:SPECIAL MODE;4:ALL OTHER;5:C&P EXAMS;^0;5^Q
"^DD",392.3,392.3,5,3)
Select the account type which pertains to the account.
"^DD",392.3,392.3,5,4)

"^DD",392.3,392.3,5,21,0)
^^2^2^2920123^^^^
"^DD",392.3,392.3,5,21,1,0)
Field is designed to group like ACCOUNTs by account type, since the
"^DD",392.3,392.3,5,21,2,0)
account name/number is subject to change.
"^DD",392.3,392.3,5,"DT")
2910212
"^DD",392.4,392.4,0)
FIELD^^.01^2
"^DD",392.4,392.4,0,"DDA")
N
"^DD",392.4,392.4,0,"IX","B",392.4,.01)

"^DD",392.4,392.4,0,"NM","BENEFICIARY TRAVEL MODE OF TRANSPORTATION")

"^DD",392.4,392.4,0,"PT",161.5,16)

"^DD",392.4,392.4,0,"PT",392,44)

"^DD",392.4,392.4,0,"VRPK")
DGBT
"^DD",392.4,392.4,.001,0)
NUMBER^NJ2,0X^^ ^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X I $D(X) S DINUM=X
"^DD",392.4,392.4,.001,3)
Type a Number between 1 and 99, 0 Decimal Digits
"^DD",392.4,392.4,.001,21,0)
^^2^2^2920123^
"^DD",392.4,392.4,.001,21,1,0)
This field contains the IFN for the Beneficiary Travel Mode of Tra
"^DD",392.4,392.4,.001,21,2,0)
Transportation used in the Beneficiary Travel Claims.
"^DD",392.4,392.4,.01,0)
MODE OF TRANSPORTATION^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",392.4,392.4,.01,1,0)
^.1
"^DD",392.4,392.4,.01,1,1,0)
392.4^B
"^DD",392.4,392.4,.01,1,1,1)
S ^DGBT(392.4,"B",$E(X,1,30),DA)=""
"^DD",392.4,392.4,.01,1,1,2)
K ^DGBT(392.4,"B",$E(X,1,30),DA)
"^DD",392.4,392.4,.01,3)
ANSWER MUST BE 3-30 CHARACTERS IN LENGTH, ENTER THE TYPE OF TRANSPORTATION USED FOR BENEFICIARY TRAVEL
"^DD",392.4,392.4,.01,21,0)
^^2^2^2920123^^^
"^DD",392.4,392.4,.01,21,1,0)
This field contains the free text 3-30 characters in length (name or type) 
"^DD",392.4,392.4,.01,21,2,0)
mode of transportation used in the Beneficiary Travel Claims.
"^DIC",392,392,0)
BENEFICIARY TRAVEL CLAIM^392ID
"^DIC",392,392,0,"GL")
^DGBT(392,
"^DIC",392,392,"%D",0)
^^2^2^2950710^^^^
"^DIC",392,392,"%D",1,0)
This file contains the completed travel claim entries for patients showing
"^DIC",392,392,"%D",2,0)
departure/destination data, as well as specific claim data.
"^DIC",392,"B","BENEFICIARY TRAVEL CLAIM",392)

"^DIC",392.1,392.1,0)
BENEFICIARY TRAVEL DISTANCE^392.1
"^DIC",392.1,392.1,0,"GL")
^DGBT(392.1,
"^DIC",392.1,392.1,"%D",0)
^^5^5^2930609^^^
"^DIC",392.1,392.1,"%D",1,0)
 
"^DIC",392.1,392.1,"%D",2,0)
This file contains the mileage data between departure cities and
"^DIC",392.1,392.1,"%D",3,0)
medical center divisions.  Each departure city can have multiple
"^DIC",392.1,392.1,"%D",4,0)
divisions entered, each with it's own associated mileage, most
"^DIC",392.1,392.1,"%D",5,0)
economical cost, and remarks field.
"^DIC",392.1,"B","BENEFICIARY TRAVEL DISTANCE",392.1)

"^DIC",392.2,392.2,0)
BENEFICIARY TRAVEL CERTIFICATION^392.2DI
"^DIC",392.2,392.2,0,"GL")
^DGBT(392.2,
"^DIC",392.2,392.2,"%D",0)
^^4^4^2930811^^
"^DIC",392.2,392.2,"%D",1,0)
 
"^DIC",392.2,392.2,"%D",2,0)
This file contains the income certification data for patients
"^DIC",392.2,392.2,"%D",3,0)
for Beneficiary Travel claims, including amount certified,
"^DIC",392.2,392.2,"%D",4,0)
eligibility for for Bene. Travel, and means test status.
"^DIC",392.2,"B","BENEFICIARY TRAVEL CERTIFICATION",392.2)

"^DIC",392.3,392.3,0)
BENEFICIARY TRAVEL ACCOUNT^392.3I
"^DIC",392.3,392.3,0,"GL")
^DGBT(392.3,
"^DIC",392.3,392.3,"%",0)
^1.005^^0
"^DIC",392.3,392.3,"%D",0)
^^2^2^3011026^
"^DIC",392.3,392.3,"%D",1,0)
Although this file has be decentralized, changes and additions should be 
"^DIC",392.3,392.3,"%D",2,0)
made with extreme care. 
"^DIC",392.3,"B","BENEFICIARY TRAVEL ACCOUNT",392.3)

"^DIC",392.4,392.4,0)
BENEFICIARY TRAVEL MODE OF TRANSPORTATION
"^DIC",392.4,392.4,0,"GL")
^DGBT(392.4,
"^DIC",392.4,392.4,"%D",0)
^^3^3^2930811^^
"^DIC",392.4,392.4,"%D",1,0)
 
"^DIC",392.4,392.4,"%D",2,0)
This file contains the data on the different modes of transportation
"^DIC",392.4,392.4,"%D",3,0)
available in Bene Travel claims.
"^DIC",392.4,"B","BENEFICIARY TRAVEL MODE OF TRANSPORTATION",392.4)

**END**
**END**
