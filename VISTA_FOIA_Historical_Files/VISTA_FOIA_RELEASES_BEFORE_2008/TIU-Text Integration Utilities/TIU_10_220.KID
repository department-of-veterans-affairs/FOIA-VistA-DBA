KIDS Distribution saved on Nov 08, 2006@09:29:55
Combined Build for LM Action EDIT COSIGNER
**KIDS**:USR*1.0*30^TIU*1.0*220^

**INSTALL NAME**
USR*1.0*30
"BLD",6295,0)
USR*1.0*30^AUTHORIZATION/SUBSCRIPTION^0^3061108^y
"BLD",6295,1,0)
^^1^1^3061017^
"BLD",6295,1,1,0)
See patch USR*1*30 in the National Patch Module.
"BLD",6295,4,0)
^9.64PA^8930.8^1
"BLD",6295,4,8930.8,0)
8930.8
"BLD",6295,4,8930.8,222)
n^y^f^^n^^y^o^n
"BLD",6295,4,8930.8,223)

"BLD",6295,4,8930.8,224)
I Y=27
"BLD",6295,4,"B",8930.8,8930.8)

"BLD",6295,6.3)
6
"BLD",6295,"INID")
n
"BLD",6295,"KRN",0)
^9.67PA^8989.52^19
"BLD",6295,"KRN",.4,0)
.4
"BLD",6295,"KRN",.401,0)
.401
"BLD",6295,"KRN",.402,0)
.402
"BLD",6295,"KRN",.403,0)
.403
"BLD",6295,"KRN",.5,0)
.5
"BLD",6295,"KRN",.84,0)
.84
"BLD",6295,"KRN",3.6,0)
3.6
"BLD",6295,"KRN",3.8,0)
3.8
"BLD",6295,"KRN",9.2,0)
9.2
"BLD",6295,"KRN",9.8,0)
9.8
"BLD",6295,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6295,"KRN",9.8,"NM",1,0)
USR30^^0^B2267491
"BLD",6295,"KRN",9.8,"NM","B","USR30",1)

"BLD",6295,"KRN",19,0)
19
"BLD",6295,"KRN",19.1,0)
19.1
"BLD",6295,"KRN",101,0)
101
"BLD",6295,"KRN",409.61,0)
409.61
"BLD",6295,"KRN",771,0)
771
"BLD",6295,"KRN",870,0)
870
"BLD",6295,"KRN",8989.51,0)
8989.51
"BLD",6295,"KRN",8989.52,0)
8989.52
"BLD",6295,"KRN",8994,0)
8994
"BLD",6295,"KRN","B",.4,.4)

"BLD",6295,"KRN","B",.401,.401)

"BLD",6295,"KRN","B",.402,.402)

"BLD",6295,"KRN","B",.403,.403)

"BLD",6295,"KRN","B",.5,.5)

"BLD",6295,"KRN","B",.84,.84)

"BLD",6295,"KRN","B",3.6,3.6)

"BLD",6295,"KRN","B",3.8,3.8)

"BLD",6295,"KRN","B",9.2,9.2)

"BLD",6295,"KRN","B",9.8,9.8)

"BLD",6295,"KRN","B",19,19)

"BLD",6295,"KRN","B",19.1,19.1)

"BLD",6295,"KRN","B",101,101)

"BLD",6295,"KRN","B",409.61,409.61)

"BLD",6295,"KRN","B",771,771)

"BLD",6295,"KRN","B",870,870)

"BLD",6295,"KRN","B",8989.51,8989.51)

"BLD",6295,"KRN","B",8989.52,8989.52)

"BLD",6295,"KRN","B",8994,8994)

"BLD",6295,"PRE")
USR30
"BLD",6295,"QUES",0)
^9.62^^
"BLD",6295,"REQB",0)
^9.611^1^1
"BLD",6295,"REQB",1,0)
USR*1.0*27^2
"BLD",6295,"REQB","B","USR*1.0*27",1)

"DATA",8930.8,27,0)
EDIT COSIGNER^^^^EDIT THE COSIGNER OF^HAVE ITS COSIGNER EDITED
"DATA",8930.8,27,2,0)
^^5^5^3061017^
"DATA",8930.8,27,2,1,0)
This USR action only applies to editing the Expected Cosigner of
"DATA",8930.8,27,2,2,0)
documents. Use USR action EDIT RECORD for more general edit authorization.
"DATA",8930.8,27,2,3,0)
 
"DATA",8930.8,27,2,4,0)
This action is intended for Clinical Coordinators. Rules for this
"DATA",8930.8,27,2,5,0)
action are recommended in the patch description for patch USR*1*30.
"FIA",8930.8)
USR ACTION
"FIA",8930.8,0)
^USR(8930.8,
"FIA",8930.8,0,0)
8930.8I
"FIA",8930.8,0,1)
n^y^f^^n^^y^o^n
"FIA",8930.8,0,10)

"FIA",8930.8,0,11)
I Y=27
"FIA",8930.8,0,"RLRO")

"FIA",8930.8,0,"VR")
1.0^USR
"FIA",8930.8,8930.8)
0
"FIA",8930.8,8930.81)
0
"FIA",8930.8,8930.82)
0
"MBREQ")
0
"PKG",194,-1)
1^1
"PKG",194,0)
AUTHORIZATION/SUBSCRIPTION^USR^User Authorization
"PKG",194,20,0)
^9.402P^^
"PKG",194,22,0)
^9.49I^1^1
"PKG",194,22,1,0)
1.0^2970620
"PKG",194,22,1,"PAH",1,0)
30^3061108
"PKG",194,22,1,"PAH",1,1,0)
^^1^1^3061108
"PKG",194,22,1,"PAH",1,1,1,0)
See patch USR*1*30 in the National Patch Module.
"PRE")
USR30
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","USR30")
0^1^B2267491
"RTN","USR30",1,0)
USR30 ; SLC/MAM - Environment check - new USR Action EDIT COSIGNER ;10/11/06
"RTN","USR30",2,0)
 ;;1.0;AUTHORIZATION/SUBSCRIPTION;**30**;Jun 20, 1997;Build 6
"RTN","USR30",3,0)
 ;
"RTN","USR30",4,0)
ENVCK ;Environment check
"RTN","USR30",5,0)
 ; Check if already have 27 = EDIT COSIGNER:
"RTN","USR30",6,0)
 I $P(^USR(8930.8,0),U,3)=27,$P($G(^USR(8930.8,27,0)),U)="EDIT COSIGNER" W !!,"You already have action EDIT COSIGNER, IEN 27. I will overwrite it." Q
"RTN","USR30",7,0)
 ; Check if current file is correct:
"RTN","USR30",8,0)
 I ($P(^USR(8930.8,0),U,3)'=26)!($P($G(^USR(8930.8,26,0)),U)'="LINK TO FLAG") S XPDQUIT=2 D  Q
"RTN","USR30",9,0)
 . W !!,"Your last USR ACTION FILE entry should be LINK TO FLAG, IEN #26."
"RTN","USR30",10,0)
 . W !,"I cannot create new USR Action EDIT COSIGNER unless"
"RTN","USR30",11,0)
 . W !,"your current file is correct. Please contact EVS. Aborting."
"RTN","USR30",12,0)
 W !!,"Current file looks OK; I will create new USR Action EDIT COSIGNER with IEN 27."
"RTN","USR30",13,0)
 Q
"RTN","USR30",14,0)
 ;
"SEC","^DIC",8930.8,8930.8,0,"AUDIT")
@
"SEC","^DIC",8930.8,8930.8,0,"DD")
@
"SEC","^DIC",8930.8,8930.8,0,"DEL")
@
"SEC","^DIC",8930.8,8930.8,0,"LAYGO")
@
"SEC","^DIC",8930.8,8930.8,0,"RD")
@
"SEC","^DIC",8930.8,8930.8,0,"WR")
@
"VER")
8.0^22.0
"^DD",8930.8,8930.8,0)
FIELD^^2^10
"^DD",8930.8,8930.8,0,"DDA")
N
"^DD",8930.8,8930.8,0,"DT")
3010614
"^DD",8930.8,8930.8,0,"ID","PHRASE")
D EN^DDIOL("   "_$$GET1^DIQ(8930.8,+Y,.08),"","?0")
"^DD",8930.8,8930.8,0,"IX","B",8930.8,.01)

"^DD",8930.8,8930.8,0,"NM","USR ACTION")

"^DD",8930.8,8930.8,0,"PT",8925.113,.01)

"^DD",8930.8,8930.8,0,"PT",8925.951,.01)

"^DD",8930.8,8930.8,0,"PT",8930.1,.03)

"^DD",8930.8,8930.8,0,"PT",8930.81,.01)

"^DD",8930.8,8930.8,0,"VRPK")
AUTHORIZATION/SUBSCRIPTION
"^DD",8930.8,8930.8,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",8930.8,8930.8,.01,.1)
ACTION NAME
"^DD",8930.8,8930.8,.01,1,0)
^.1
"^DD",8930.8,8930.8,.01,1,1,0)
8930.8^B
"^DD",8930.8,8930.8,.01,1,1,1)
S ^USR(8930.8,"B",$E(X,1,30),DA)=""
"^DD",8930.8,8930.8,.01,1,1,2)
K ^USR(8930.8,"B",$E(X,1,30),DA)
"^DD",8930.8,8930.8,.01,3)
Please enter the name of the event.
"^DD",8930.8,8930.8,.01,21,0)
^.001^3^3^3001026^^^^
"^DD",8930.8,8930.8,.01,21,1,0)
These are names of events which occur in connection with clinical
"^DD",8930.8,8930.8,.01,21,2,0)
narrative documents.  These are referenced by the User
"^DD",8930.8,8930.8,.01,21,3,0)
Authorization/Subscription file to associate users with events.
"^DD",8930.8,8930.8,.01,23,0)
^^8^8^3001026^
"^DD",8930.8,8930.8,.01,23,1,0)
Warning about changing an action name:
"^DD",8930.8,8930.8,.01,23,2,0)
 
"^DD",8930.8,8930.8,.01,23,3,0)
Action NAMES are checked when evaluating permissions in CANDO^TIULP. In
"^DD",8930.8,8930.8,.01,23,4,0)
addition, action NAME: ATTACH ID ENTRY is checked in input template USR
"^DD",8930.8,8930.8,.01,23,5,0)
DEFINE AUTHORIZATIONS when action ATTACH ID ENTRY is entered.
"^DD",8930.8,8930.8,.01,23,6,0)
 
"^DD",8930.8,8930.8,.01,23,7,0)
These areas (and possibly other new areas) MUST be updated if the NAME of
"^DD",8930.8,8930.8,.01,23,8,0)
an action is changed.
"^DD",8930.8,8930.8,.01,"DT")
2970225
"^DD",8930.8,8930.8,.02,0)
EVENT TYPE^S^A:authorization;S:subscription;^0;2^Q
"^DD",8930.8,8930.8,.02,3)
Indicate the type of event you are defining.
"^DD",8930.8,8930.8,.02,21,0)
^^7^7^2950209^^
"^DD",8930.8,8930.8,.02,21,1,0)
This file contains two types of events: those a user is AUTHORIZED to
"^DD",8930.8,8930.8,.02,21,2,0)
perform and those a user SUBSCRIBES to.  For example, a user is authorized
"^DD",8930.8,8930.8,.02,21,3,0)
to perform the Signature event, but a user subscribes to ("signs up to
"^DD",8930.8,8930.8,.02,21,4,0)
receive") a Notification event.
"^DD",8930.8,8930.8,.02,21,6,0)
This field helps to define the meaning of an event and its relationship to
"^DD",8930.8,8930.8,.02,21,7,0)
a user.
"^DD",8930.8,8930.8,.02,"DT")
2950209
"^DD",8930.8,8930.8,.03,0)
APPLIES TO^S^DOC:document;DEF:definition;^0;3^Q
"^DD",8930.8,8930.8,.03,3)
Indicate whether event applies to documents or their definitions
"^DD",8930.8,8930.8,.03,"DT")
2950207
"^DD",8930.8,8930.8,.04,0)
ASSOCIATED PROTOCOL^P101'^ORD(101,^0;4^Q
"^DD",8930.8,8930.8,.04,1,0)
^.1^^0
"^DD",8930.8,8930.8,.04,3)
Indicate which Protocol corresponds to this event.
"^DD",8930.8,8930.8,.04,"DT")
2970109
"^DD",8930.8,8930.8,.05,0)
USER VERB^F^^0;5^K:$L(X)>50!($L(X)<3) X
"^DD",8930.8,8930.8,.05,3)
Example: In "You cannot SIGN this unsigned document", the user verb is "SIGN".  Uppercase, 3-50 characters.
"^DD",8930.8,8930.8,.05,21,0)
^^9^9^3010614^
"^DD",8930.8,8930.8,.05,21,1,0)
This word or phrase is displayed in explanatory messages when the user is
"^DD",8930.8,8930.8,.05,21,2,0)
denied authority to perform the given action.  Such a message might read,
"^DD",8930.8,8930.8,.05,21,3,0)
"You cannot SIGN this unsigned progress note", where the USER VERB is
"^DD",8930.8,8930.8,.05,21,4,0)
"SIGN".
"^DD",8930.8,8930.8,.05,21,5,0)
 
"^DD",8930.8,8930.8,.05,21,6,0)
The USER VERB must make grammatical sense inserted in a sentence of the
"^DD",8930.8,8930.8,.05,21,7,0)
form: "You cannot [     ] this unsigned progress note."
"^DD",8930.8,8930.8,.05,21,8,0)
 
"^DD",8930.8,8930.8,.05,21,9,0)
Please use uppercase, 3-50 characters.
"^DD",8930.8,8930.8,.05,"DT")
3010614
"^DD",8930.8,8930.8,.06,0)
DOCUMENT VERB^F^^0;6^K:$L(X)>40!($L(X)<3) X
"^DD",8930.8,8930.8,.06,3)
Example: In "An unsigned progress note can BE SIGNED by an author/dictator", the document verb is "BE SIGNED". Uppercase,3-40 characters.
"^DD",8930.8,8930.8,.06,21,0)
^.001^10^10^3001024^^
"^DD",8930.8,8930.8,.06,21,1,0)
This word or phrase is used in business rule options when displaying
"^DD",8930.8,8930.8,.06,21,2,0)
an authorization in sentence form.
"^DD",8930.8,8930.8,.06,21,3,0)
     
"^DD",8930.8,8930.8,.06,21,4,0)
A business rule might read: "An unsigned Progress Note can BE SIGNED by
"^DD",8930.8,8930.8,.06,21,5,0)
an author/dictator." The DOCUMENT VERB in this rule is "BE SIGNED".
"^DD",8930.8,8930.8,.06,21,6,0)
 
"^DD",8930.8,8930.8,.06,21,7,0)
The DOCUMENT VERB must make grammatical sense inserted in a sentence of
"^DD",8930.8,8930.8,.06,21,8,0)
the form: "An unsigned progress note can [      ] by an author/dictator."
"^DD",8930.8,8930.8,.06,21,9,0)
 
"^DD",8930.8,8930.8,.06,21,10,0)
Please use uppercase, 3-40 characters.
"^DD",8930.8,8930.8,.06,"DT")
3000215
"^DD",8930.8,8930.8,.07,0)
USER VERB MODIFIER^F^^0;7^K:$L(X)>30!($L(X)<3) X
"^DD",8930.8,8930.8,.07,3)
Example: In "You cannot LINK this unsigned note with a request", the user verb modifier is "with a request".  Lowercase, 3-30 characters.
"^DD",8930.8,8930.8,.07,21,0)
^.001^16^16^3010614^^
"^DD",8930.8,8930.8,.07,21,1,0)
Sometimes, in writing messages to the user denying a permission, the
"^DD",8930.8,8930.8,.07,21,2,0)
action must be split into two parts.  In such cases, the USER VERB
"^DD",8930.8,8930.8,.07,21,3,0)
MODIFIER is the second part.
"^DD",8930.8,8930.8,.07,21,4,0)
 
"^DD",8930.8,8930.8,.07,21,5,0)
Example: In "You cannot LINK this UNSIGNED PROGRESS NOTE with a request",
"^DD",8930.8,8930.8,.07,21,6,0)
the USER VERB is "LINK", and the USER VERB MODIFIER is "with a request".
"^DD",8930.8,8930.8,.07,21,7,0)
 
"^DD",8930.8,8930.8,.07,21,8,0)
The USER VERB MODIFIER must make grammatical sense when inserted in: 
"^DD",8930.8,8930.8,.07,21,9,0)
     "You cannot LINK this UNSIGNED PROGRESS NOTE [    ]."
"^DD",8930.8,8930.8,.07,21,10,0)
 
"^DD",8930.8,8930.8,.07,21,11,0)
Please use lowercase, 3-30 characters.
"^DD",8930.8,8930.8,.07,21,12,0)
 
"^DD",8930.8,8930.8,.07,21,13,0)
If an action has an IDENTIFYING PHRASE or a USER VERB MODIFIER, the
"^DD",8930.8,8930.8,.07,21,14,0)
business rule ADD or EDIT action presents the user with a clarifying note
"^DD",8930.8,8930.8,.07,21,15,0)
about the rule they are creating immediately after the user enters an
"^DD",8930.8,8930.8,.07,21,16,0)
action.
"^DD",8930.8,8930.8,.07,"DT")
3010614
"^DD",8930.8,8930.8,.08,0)
IDENTIFYING PHRASE^F^^3;1^K:$L(X)>50!($L(X)<3) X
"^DD",8930.8,8930.8,.08,3)
Enter a phrase to help the user distinguish this action from others. 3-50 characters.
"^DD",8930.8,8930.8,.08,21,0)
^.001^10^10^3001024^^
"^DD",8930.8,8930.8,.08,21,1,0)
This field is NOT required.  It is available for use in helping users
"^DD",8930.8,8930.8,.08,21,2,0)
identify the correct action when writing business rules.  It appears
"^DD",8930.8,8930.8,.08,21,3,0)
when selecting actions from a list.
"^DD",8930.8,8930.8,.08,21,4,0)
 
"^DD",8930.8,8930.8,.08,21,5,0)
For examples, see actions ATTACH TO ID NOTE, and ATTACH ID ENTRY.
"^DD",8930.8,8930.8,.08,21,6,0)
 
"^DD",8930.8,8930.8,.08,21,7,0)
If an action has an IDENTIFYING PHRASE or a USER VERB MODIFIER, the
"^DD",8930.8,8930.8,.08,21,8,0)
business rule ADD or EDIT action presents the user with a clarifying note
"^DD",8930.8,8930.8,.08,21,9,0)
about the rule they are creating immediately after the user enters an
"^DD",8930.8,8930.8,.08,21,10,0)
action.
"^DD",8930.8,8930.8,.08,"DT")
3000601
"^DD",8930.8,8930.8,1,0)
IMPLIED EVENT^8930.81P^^1;0
"^DD",8930.8,8930.8,1,21,0)
^^9^9^2941011^
"^DD",8930.8,8930.8,1,21,1,0)
Some events imply other events.  For example, the ability to Sign a
"^DD",8930.8,8930.8,1,21,2,0)
document implies the ability to View the document.  Thus, View is an
"^DD",8930.8,8930.8,1,21,3,0)
implied event for the Signature event.
"^DD",8930.8,8930.8,1,21,4,0)
 
"^DD",8930.8,8930.8,1,21,6,0)
Authorization/Subscription file, the user will be shown implied events for
"^DD",8930.8,8930.8,1,21,7,0)
the given event and asked if they wish to include implied events for the
"^DD",8930.8,8930.8,1,21,8,0)
current entry.  If so, a copy of the current entry will be created for each
"^DD",8930.8,8930.8,1,21,9,0)
implied event.
"^DD",8930.8,8930.8,1,"DT")
2941011
"^DD",8930.8,8930.8,2,0)
DESCRIPTION^8930.82^^2;0
"^DD",8930.8,8930.8,2,21,0)
^^17^17^2941011^
"^DD",8930.8,8930.8,2,21,1,0)
 
"^DD",8930.8,8930.8,2,21,2,0)
The event description will be used in conjunction with the
"^DD",8930.8,8930.8,2,21,3,0)
Authorization/Subscription field to define what it means to associate
"^DD",8930.8,8930.8,2,21,4,0)
users with the event.
"^DD",8930.8,8930.8,2,21,6,0)
In most cases, this event description will suffice to determine the
"^DD",8930.8,8930.8,2,21,7,0)
meaning of User Authorization/Subscription file entries.
"^DD",8930.8,8930.8,2,21,8,0)
 
"^DD",8930.8,8930.8,2,21,9,0)
In rare cases, further description of what an event means when associated
"^DD",8930.8,8930.8,2,21,10,0)
with users, document type and document status will be made in the
"^DD",8930.8,8930.8,2,21,11,0)
description field of the User Authorization/Subscription file.  For
"^DD",8930.8,8930.8,2,21,12,0)
example, a signature event associated with documents of status
"^DD",8930.8,8930.8,2,21,13,0)
completed means a walkup signature.
"^DD",8930.8,8930.8,2,21,14,0)
 
"^DD",8930.8,8930.8,2,21,15,0)
This information will be used by persons creating entries in the User
"^DD",8930.8,8930.8,2,21,16,0)
Authorization/Subscription file and by persons assigning users to user
"^DD",8930.8,8930.8,2,21,17,0)
classes, when checking what events those user classes are associated with.
"^DD",8930.8,8930.81,0)
IMPLIED EVENT SUB-FIELD^^.01^1
"^DD",8930.8,8930.81,0,"IX","B",8930.81,.01)

"^DD",8930.8,8930.81,0,"NM","IMPLIED EVENT")

"^DD",8930.8,8930.81,0,"UP")
8930.8
"^DD",8930.8,8930.81,.01,0)
IMPLIED EVENT^P8930.8'^USR(8930.8,^0;1^Q
"^DD",8930.8,8930.81,.01,1,0)
^.1
"^DD",8930.8,8930.81,.01,1,1,0)
8930.81^B
"^DD",8930.8,8930.81,.01,1,1,1)
S ^USR(8930.8,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",8930.8,8930.81,.01,1,1,2)
K ^USR(8930.8,DA(1),1,"B",$E(X,1,30),DA)
"^DD",8930.8,8930.81,.01,3)
If this event implies another event, enter the implied event, for example, signature implies view.
"^DD",8930.8,8930.81,.01,"DT")
2941011
"^DD",8930.8,8930.82,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",8930.8,8930.82,0,"NM","DESCRIPTION")

"^DD",8930.8,8930.82,0,"UP")
8930.8
"^DD",8930.8,8930.82,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",8930.8,8930.82,.01,3)
Enter a description of the event and what it means to associate users with this event.
"^DD",8930.8,8930.82,.01,"DT")
2940921
"^DIC",8930.8,8930.8,0)
USR ACTION^8930.8
"^DIC",8930.8,8930.8,0,"GL")
^USR(8930.8,
"^DIC",8930.8,8930.8,"%D",0)
^^10^10^2970203^^
"^DIC",8930.8,8930.8,"%D",1,0)
This file encodes actions which occur in connection with clinical
"^DIC",8930.8,8930.8,"%D",2,0)
narrative documents.
"^DIC",8930.8,8930.8,"%D",3,0)
 
"^DIC",8930.8,8930.8,"%D",4,0)
These actions are referenced by entries in the User
"^DIC",8930.8,8930.8,"%D",5,0)
Authorization/Subscription file to associate users with actions.
"^DIC",8930.8,8930.8,"%D",6,0)
 
"^DIC",8930.8,8930.8,"%D",7,0)
This file contains 2 kinds of actions: those a user is authorized to
"^DIC",8930.8,8930.8,"%D",8,0)
perform on a document, and those a user subscribes to for a document.  For
"^DIC",8930.8,8930.8,"%D",9,0)
example, a user is authorized to perform the Signature action, but a user
"^DIC",8930.8,8930.8,"%D",10,0)
subscribes to ("signs up to receive") a Notification action.
"^DIC",8930.8,"B","USR ACTION",8930.8)

**INSTALL NAME**
TIU*1.0*220
"BLD",6385,0)
TIU*1.0*220^TEXT INTEGRATION UTILITIES^0^3061108^y
"BLD",6385,1,0)
^^1^1^3061011^
"BLD",6385,1,1,0)
See patch description in the National Patch Module.
"BLD",6385,4,0)
^9.64PA^^
"BLD",6385,6.3)
4
"BLD",6385,"KRN",0)
^9.67PA^8989.52^19
"BLD",6385,"KRN",.4,0)
.4
"BLD",6385,"KRN",.401,0)
.401
"BLD",6385,"KRN",.402,0)
.402
"BLD",6385,"KRN",.403,0)
.403
"BLD",6385,"KRN",.5,0)
.5
"BLD",6385,"KRN",.84,0)
.84
"BLD",6385,"KRN",3.6,0)
3.6
"BLD",6385,"KRN",3.8,0)
3.8
"BLD",6385,"KRN",9.2,0)
9.2
"BLD",6385,"KRN",9.8,0)
9.8
"BLD",6385,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6385,"KRN",9.8,"NM",1,0)
TIURA3^^0^B23238249
"BLD",6385,"KRN",9.8,"NM","B","TIURA3",1)

"BLD",6385,"KRN",19,0)
19
"BLD",6385,"KRN",19.1,0)
19.1
"BLD",6385,"KRN",101,0)
101
"BLD",6385,"KRN",101,"NM",0)
^9.68A^5^5
"BLD",6385,"KRN",101,"NM",1,0)
TIU ACTION EDIT COSIGNER^^0
"BLD",6385,"KRN",101,"NM",2,0)
TIU BROWSE ACTION EDIT COSIGNER^^0
"BLD",6385,"KRN",101,"NM",3,0)
TIU HIDDEN ACTIONS ADVANCED^^2
"BLD",6385,"KRN",101,"NM",4,0)
TIU HIDDEN ACTIONS BROWSE^^2
"BLD",6385,"KRN",101,"NM",5,0)
TIU HIDDEN ACTIONS OE/RR^^2
"BLD",6385,"KRN",101,"NM","B","TIU ACTION EDIT COSIGNER",1)

"BLD",6385,"KRN",101,"NM","B","TIU BROWSE ACTION EDIT COSIGNER",2)

"BLD",6385,"KRN",101,"NM","B","TIU HIDDEN ACTIONS ADVANCED",3)

"BLD",6385,"KRN",101,"NM","B","TIU HIDDEN ACTIONS BROWSE",4)

"BLD",6385,"KRN",101,"NM","B","TIU HIDDEN ACTIONS OE/RR",5)

"BLD",6385,"KRN",409.61,0)
409.61
"BLD",6385,"KRN",409.61,"NM",0)
^9.68A^^
"BLD",6385,"KRN",771,0)
771
"BLD",6385,"KRN",870,0)
870
"BLD",6385,"KRN",8989.51,0)
8989.51
"BLD",6385,"KRN",8989.52,0)
8989.52
"BLD",6385,"KRN",8994,0)
8994
"BLD",6385,"KRN","B",.4,.4)

"BLD",6385,"KRN","B",.401,.401)

"BLD",6385,"KRN","B",.402,.402)

"BLD",6385,"KRN","B",.403,.403)

"BLD",6385,"KRN","B",.5,.5)

"BLD",6385,"KRN","B",.84,.84)

"BLD",6385,"KRN","B",3.6,3.6)

"BLD",6385,"KRN","B",3.8,3.8)

"BLD",6385,"KRN","B",9.2,9.2)

"BLD",6385,"KRN","B",9.8,9.8)

"BLD",6385,"KRN","B",19,19)

"BLD",6385,"KRN","B",19.1,19.1)

"BLD",6385,"KRN","B",101,101)

"BLD",6385,"KRN","B",409.61,409.61)

"BLD",6385,"KRN","B",771,771)

"BLD",6385,"KRN","B",870,870)

"BLD",6385,"KRN","B",8989.51,8989.51)

"BLD",6385,"KRN","B",8989.52,8989.52)

"BLD",6385,"KRN","B",8994,8994)

"BLD",6385,"QUES",0)
^9.62^^
"BLD",6385,"REQB",0)
^9.611^1^1
"BLD",6385,"REQB",1,0)
USR*1.0*30^2
"BLD",6385,"REQB","B","USR*1.0*30",1)

"KRN",101,3487,-1)
2^4
"KRN",101,3487,0)
TIU HIDDEN ACTIONS BROWSE^Hidden Actions^^M^11^^^^^^^193
"KRN",101,3487,10,0)
^101.01PA^21^21
"KRN",101,3487,10,21,0)
7001^EC^18^
"KRN",101,3487,10,21,"^")
TIU BROWSE ACTION EDIT COSIGNER
"KRN",101,4738,-1)
2^5
"KRN",101,4738,0)
TIU HIDDEN ACTIONS OE/RR^Hidden Actions^^M^11^^^^^^^193
"KRN",101,4738,10,0)
^101.01PA^27^27
"KRN",101,4738,10,27,0)
7000^EC^^
"KRN",101,4738,10,27,"^")
TIU ACTION EDIT COSIGNER
"KRN",101,4750,-1)
2^3
"KRN",101,4750,0)
TIU HIDDEN ACTIONS ADVANCED^Hidden Actions^^M^11^^^^^^^193
"KRN",101,4750,10,0)
^101.01PA^27^27
"KRN",101,4750,10,27,0)
7000^EC^^
"KRN",101,4750,10,27,"^")
TIU ACTION EDIT COSIGNER
"KRN",101,7000,-1)
0^1
"KRN",101,7000,0)
TIU ACTION EDIT COSIGNER^Edit Cosigner^^A^^^^^^^^TEXT INTEGRATION UTILITIES
"KRN",101,7000,1,0)
^^9^9^3061011^
"KRN",101,7000,1,1,0)
This List Manager action allows authorized users to modify the Expected
"KRN",101,7000,1,2,0)
Cosigner (Attending Physician for Discharge Summaries) of documents
"KRN",101,7000,1,3,0)
without having access to the text of the document. It is intended for
"KRN",101,7000,1,4,0)
Clinical Coordinators when they need to change the Expected Cosigner of a
"KRN",101,7000,1,5,0)
document whose text cannot be edited because it is already signed. It
"KRN",101,7000,1,6,0)
permits edit of unsigned or uncosigned documents of type Progress
"KRN",101,7000,1,7,0)
Notes, Consults, or Discharge Summaries.
"KRN",101,7000,1,8,0)
 
"KRN",101,7000,1,9,0)
See USR ACTION EDIT COSIGNER.
"KRN",101,7000,20)
Q:$G(TIUGLINK)  D EDITCOS^TIURA3
"KRN",101,7000,24)
I '$G(TIUGLINK)
"KRN",101,7000,99)
60549,58799
"KRN",101,7001,-1)
0^2
"KRN",101,7001,0)
TIU BROWSE ACTION EDIT COSIGNER^Edit Cosigner^^A^^^^^^^^TEXT INTEGRATION UTILITIES
"KRN",101,7001,1,0)
^^9^9^3061011^
"KRN",101,7001,1,1,0)
This List Manager action allows authorized users to modify the Expected
"KRN",101,7001,1,2,0)
Cosigner (Attending Physician for Discharge Summaries) of a single
"KRN",101,7001,1,3,0)
document without having access to the text of the document. It is intended
"KRN",101,7001,1,4,0)
for Clinical Coordinators when they need to change the Expected Cosigner
"KRN",101,7001,1,5,0)
of a document whose text cannot be edited because it is already signed. It
"KRN",101,7001,1,6,0)
permits edit of unsigned or uncosigned documents of type Progress Notes,
"KRN",101,7001,1,7,0)
Consults, or Discharge Summaries.
"KRN",101,7001,1,8,0)
  
"KRN",101,7001,1,9,0)
See USR ACTION EDIT COSIGNER.  
"KRN",101,7001,20)
Q:$G(TIUGLINK)  D EDITCOS1^TIURA3
"KRN",101,7001,24)
I '$G(TIUGLINK)
"KRN",101,7001,99)
60533,56134
"MBREQ")
0
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"PKG",193,-1)
1^1
"PKG",193,0)
TEXT INTEGRATION UTILITIES^TIU^Text Integration Utilities 
"PKG",193,20,0)
^9.402P^^
"PKG",193,22,0)
^9.49I^1^1
"PKG",193,22,1,0)
1.0^3010321^3010321^11
"PKG",193,22,1,"PAH",1,0)
220^3061108
"PKG",193,22,1,"PAH",1,1,0)
^^1^1^3061108
"PKG",193,22,1,"PAH",1,1,1,0)
See patch description in the National Patch Module.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","TIURA3")
0^1^B23238249
"RTN","TIURA3",1,0)
TIURA3 ; SLC/JER - Review screen actions ; 11/7/06
"RTN","TIURA3",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**220**;Jun 20, 1997;Build 4
"RTN","TIURA3",3,0)
 ; Call to ISA^USRLM supported by DBIA 2324
"RTN","TIURA3",4,0)
EDITCOS ; Edit Expected Cosigner
"RTN","TIURA3",5,0)
 ; Modeled after EDIT^TIURA
"RTN","TIURA3",6,0)
 N TIUDA,TIUDATA,TIUCHNG,TIUI,DIROUT,TIUDAARY
"RTN","TIURA3",7,0)
 N TIULST,MSGVERB,TIUXNOD
"RTN","TIURA3",8,0)
 S TIUXNOD=$G(XQORNOD(0))
"RTN","TIURA3",9,0)
 I $P(TIUXNOD,U,3)="EC" W "Edit Cosigner",! S $P(TIUXNOD,U,4)="EC="_$P($P(TIUXNOD,U,4),"==",2)
"RTN","TIURA3",10,0)
 S TIUI=0
"RTN","TIURA3",11,0)
 I '$D(VALMY) D EN^VALM2(TIUXNOD)
"RTN","TIURA3",12,0)
 F  S TIUI=$O(VALMY(TIUI)) Q:+TIUI'>0  D  Q:$D(DIROUT)
"RTN","TIURA3",13,0)
 . N RSTRCTD
"RTN","TIURA3",14,0)
 . S TIUDATA=$G(^TMP("TIURIDX",$J,TIUI))
"RTN","TIURA3",15,0)
 . D CLEAR^VALM1 W !!,"Editing #",+TIUDATA
"RTN","TIURA3",16,0)
 . S TIUDA=+$P(TIUDATA,U,2) S RSTRCTD=$$DOCRES^TIULRR(TIUDA)
"RTN","TIURA3",17,0)
 . I RSTRCTD D  Q
"RTN","TIURA3",18,0)
 . . W !!,$C(7),"Ok, no harm done...",!
"RTN","TIURA3",19,0)
 . . I $$READ^TIUU("EA","RETURN to continue...") ; pause
"RTN","TIURA3",20,0)
 . S TIUDAARY(TIUI)=TIUDA
"RTN","TIURA3",21,0)
 . S TIUCHNG=0
"RTN","TIURA3",22,0)
 . I +$D(^TIU(8925,+TIUDA,0)) D EDITCOS1
"RTN","TIURA3",23,0)
 . I +$G(TIUCHNG) D
"RTN","TIURA3",24,0)
 . . S TIULST=$G(TIULST)_$S($G(TIULST)]"":",",1:"")_TIUI
"RTN","TIURA3",25,0)
 ; -- Update or Rebuild list, restore video: --
"RTN","TIURA3",26,0)
 S TIUCHNG("UPDATE")=1
"RTN","TIURA3",27,0)
 D UPRBLD^TIURL(.TIUCHNG,.VALMY) K VALMY
"RTN","TIURA3",28,0)
 S VALMBCK="R"
"RTN","TIURA3",29,0)
 S MSGVERB="edited"
"RTN","TIURA3",30,0)
 D VMSG^TIURS1($G(TIULST),.TIUDAARY,MSGVERB)
"RTN","TIURA3",31,0)
 Q
"RTN","TIURA3",32,0)
EDITCOS1 ; Edit expected cosigner/attending for single record
"RTN","TIURA3",33,0)
 ; Receives TIUDA
"RTN","TIURA3",34,0)
 ; Modeled after Input template for document type
"RTN","TIURA3",35,0)
 I '+$G(TIUDA) W !,"No Documents selected." H 2 Q
"RTN","TIURA3",36,0)
 ; Evaluate edit privilege
"RTN","TIURA3",37,0)
 N NODE0,STATUS,OK2CHNG,CANTMSG,NODE12,REQCOSIG,PROBMSG
"RTN","TIURA3",38,0)
 N ECSIGNER,ESIGNER,OKCLASS,TIUISDS,DA,DR,DIE,X
"RTN","TIURA3",39,0)
 N ALTNODE0,ALTTIUDA,NESIGNR,NECSIGNR,ATTEND,NATTEND,CHKSUM
"RTN","TIURA3",40,0)
 S NODE0=^TIU(8925,TIUDA,0),STATUS=$P(NODE0,U,5),(OK2CHNG,OKCLASS)=1
"RTN","TIURA3",41,0)
 S ALTNODE0=NODE0,ALTTIUDA=TIUDA,NODE12=$G(^TIU(8925,TIUDA,12))
"RTN","TIURA3",42,0)
 I $$ISADDNDM^TIULC1(TIUDA) D
"RTN","TIURA3",43,0)
 . S ALTTIUDA=$P(NODE0,U,6)
"RTN","TIURA3",44,0)
 . S ALTNODE0=^TIU(8925,ALTTIUDA,0)
"RTN","TIURA3",45,0)
 S TIUISDS=$$ISDS^TIULX(+ALTNODE0)
"RTN","TIURA3",46,0)
 I '$$ISPN^TIULX(+ALTNODE0),'TIUISDS,'$$ISA^TIULX(+ALTNODE0,$$CLASS^TIUCNSLT()) S OKCLASS=0
"RTN","TIURA3",47,0)
 I 'OKCLASS S PROBMSG="This action is valid only for Progress Notes, Discharge Summaries, and Consults." G COS1X
"RTN","TIURA3",48,0)
 I STATUS>6 S PROBMSG="This document is already Complete!" G COS1X
"RTN","TIURA3",49,0)
 I STATUS<5 S PROBMSG="This document still needs Release or Verification!" G COS1X
"RTN","TIURA3",50,0)
 ; -- Status = 5 unsigned or 6 uncosigned.
"RTN","TIURA3",51,0)
 ;    Try rules for EDIT COSIGNER:
"RTN","TIURA3",52,0)
 S OK2CHNG=$$CANDO^TIULP(TIUDA,"EDIT COSIGNER")
"RTN","TIURA3",53,0)
 I 'OK2CHNG S CANTMSG=OK2CHNG G:STATUS=6 COS1X
"RTN","TIURA3",54,0)
 ; -- If docmt is unsigned and EDIT COSIGNER rules failed,
"RTN","TIURA3",55,0)
 ;    try EDIT RECORD rules:
"RTN","TIURA3",56,0)
 I STATUS=5,'OK2CHNG D  G:'OK2CHNG COS1X
"RTN","TIURA3",57,0)
 . S OK2CHNG=$$CANDO^TIULP(TIUDA,"EDIT RECORD")
"RTN","TIURA3",58,0)
 . I 'OK2CHNG S CANTMSG="0^You are not authorized to edit this document."
"RTN","TIURA3",59,0)
 ; -- DUZ may change Expected Cosigner/attending.
"RTN","TIURA3",60,0)
 S DA=TIUDA,DIE=8925
"RTN","TIURA3",61,0)
 ; -- If docmt is a Progress Note or Consult:
"RTN","TIURA3",62,0)
 I 'TIUISDS D  G COS1X
"RTN","TIURA3",63,0)
 . ; -- Does Expected Signer Require Cosignature?
"RTN","TIURA3",64,0)
 . S ESIGNER=$P(NODE12,U,4)
"RTN","TIURA3",65,0)
 . S ECSIGNER=$P(NODE12,U,8)
"RTN","TIURA3",66,0)
 . I ESIGNER']"" S PROBMSG="This document has no Expected Signer!" Q
"RTN","TIURA3",67,0)
 . S REQCOSIG=$$REQCOSIG^TIULP(+NODE0,+TIUDA,ESIGNER)
"RTN","TIURA3",68,0)
 . ; -- If cosig not required:
"RTN","TIURA3",69,0)
 . I 'REQCOSIG D  Q
"RTN","TIURA3",70,0)
 . . ; -- If status is uncosigned, "see IRM" and quit:
"RTN","TIURA3",71,0)
 . . I STATUS=6 S PROBMSG="Cosignature not required!  See IRM." Q
"RTN","TIURA3",72,0)
 . . ; -- If (status is unsigned) & has no exp cosgnr, say so and quit:
"RTN","TIURA3",73,0)
 . . I ECSIGNER="" S PROBMSG="Cosignature not required." Q
"RTN","TIURA3",74,0)
 . . ; -- If (status is unsigned), has exp cosgnr, fix it:
"RTN","TIURA3",75,0)
 . . I ECSIGNER]"" D  Q
"RTN","TIURA3",76,0)
 . . . S PROBMSG="Cosignature not required. Expected Cosigner deleted."
"RTN","TIURA3",77,0)
 . . . S DR="1208///@;1506///@" D ^DIE
"RTN","TIURA3",78,0)
 . ; --Cosig is required so get it or change it:
"RTN","TIURA3",79,0)
 . W !!,"You may edit the Expected Cosigner:"
"RTN","TIURA3",80,0)
 . S DR="1208R//;1506////1" D ^DIE
"RTN","TIURA3",81,0)
 . S NECSIGNR=$P(^TIU(8925,TIUDA,12),U,8)
"RTN","TIURA3",82,0)
 . I NECSIGNR'=ECSIGNER D  Q
"RTN","TIURA3",83,0)
 . . W !!,"Expected Cosigner edited." H 1 S TIUCHNG=1
"RTN","TIURA3",84,0)
 ; -- Docmt is a Discharge Summary:
"RTN","TIURA3",85,0)
 S ATTEND=$P($G(^TIU(8925,TIUDA,12)),U,9)
"RTN","TIURA3",86,0)
 W !!,"You may edit the Attending Physician:"
"RTN","TIURA3",87,0)
 S DR="1209R//" D ^DIE
"RTN","TIURA3",88,0)
 S NATTEND=$P(^TIU(8925,TIUDA,12),U,9)
"RTN","TIURA3",89,0)
 I STATUS=6,NATTEND=$P(NODE12,U,2) D  G COS1X
"RTN","TIURA3",90,0)
 . S PROBMSG="You may not change the Attending of a signed"
"RTN","TIURA3",91,0)
 . S PROBMSG=PROBMSG_" summary to the author."
"RTN","TIURA3",92,0)
 . S DR="1209////^S X=ATTEND" D ^DIE
"RTN","TIURA3",93,0)
 S NESIGNR=$$WHOSIGNS^TIULC1(DA),NECSIGNR=$$WHOCOSIG^TIULC1(DA)
"RTN","TIURA3",94,0)
 S DR="1204////^S X=NESIGNR"
"RTN","TIURA3",95,0)
 S DR=DR_";1208////^S X=NECSIGNR"
"RTN","TIURA3",96,0)
 S DR=DR_";1506////^S X=$S(+NESIGNR=+NATTEND:0,1:1)"
"RTN","TIURA3",97,0)
 D ^DIE
"RTN","TIURA3",98,0)
 I NATTEND'=ATTEND D
"RTN","TIURA3",99,0)
 . W !!,"Attending Physician edited" H 1 S TIUCHNG=1
"RTN","TIURA3",100,0)
COS1X ;
"RTN","TIURA3",101,0)
 I $G(TIUCHNG),$G(STATUS)=6 D  ; Audit uncosigned docmts only
"RTN","TIURA3",102,0)
 . S CHKSUM=+$$CHKSUM^TIULC("^TIU(8925,"_+TIUDA_",""TEXT"")")
"RTN","TIURA3",103,0)
 . D AUDIT^TIUEDI1(TIUDA,CHKSUM,CHKSUM)
"RTN","TIURA3",104,0)
 I $D(PROBMSG) W !!,PROBMSG
"RTN","TIURA3",105,0)
 I 'OK2CHNG W !!,$P(CANTMSG,U,2)
"RTN","TIURA3",106,0)
 I $D(PROBMSG)!'OK2CHNG I $$READ^TIUU("EA","RETURN to continue...")
"RTN","TIURA3",107,0)
 D SEND^TIUALRT(TIUDA)
"RTN","TIURA3",108,0)
 Q
"RTN","TIURA3",109,0)
 ;
"VER")
8.0^22.0
**END**
**END**
