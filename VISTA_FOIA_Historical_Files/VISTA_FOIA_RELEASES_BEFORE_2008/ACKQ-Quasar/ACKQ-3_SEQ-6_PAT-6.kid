Released ACKQ*3*6 SEQ #6
Extracted from mail message
**KIDS**:ACKQ*3.0*6^

**INSTALL NAME**
ACKQ*3.0*6
"BLD",4381,0)
ACKQ*3.0*6^QUASAR^0^3030724^y
"BLD",4381,1,0)
^^2^2^3030619^
"BLD",4381,1,1,0)
Please see the National Patch Module for details of the enhancements
"BLD",4381,1,2,0)
included in this patch.
"BLD",4381,4,0)
^9.64PA^509850.4^3
"BLD",4381,4,509850.1,0)
509850.1
"BLD",4381,4,509850.1,2,0)
^9.641^509850.1^1
"BLD",4381,4,509850.1,2,509850.1,0)
A&SP DIAGNOSTIC CONDITION  (File-top level)
"BLD",4381,4,509850.1,2,509850.1,1,0)
^9.6411^.01^1
"BLD",4381,4,509850.1,2,509850.1,1,.01,0)
CODE
"BLD",4381,4,509850.1,222)
y^y^p^^^^n^^n
"BLD",4381,4,509850.1,224)
 
"BLD",4381,4,509850.4,0)
509850.4
"BLD",4381,4,509850.4,2,0)
^9.641^509850.4^1
"BLD",4381,4,509850.4,2,509850.4,0)
A&SP PROCEDURE CODE  (File-top level)
"BLD",4381,4,509850.4,2,509850.4,1,0)
^9.6411^.01^1
"BLD",4381,4,509850.4,2,509850.4,1,.01,0)
CODE
"BLD",4381,4,509850.4,222)
y^y^p^^^^n^^n
"BLD",4381,4,509850.4,224)
 
"BLD",4381,4,509850.6,0)
509850.6
"BLD",4381,4,509850.6,2,0)
^9.641^509850.61^2
"BLD",4381,4,509850.6,2,509850.61,0)
PROCEDURE CODE  (sub-file)
"BLD",4381,4,509850.6,2,509850.61,1,0)
^9.6411^.01^1
"BLD",4381,4,509850.6,2,509850.61,1,.01,0)
PROCEDURE CODE
"BLD",4381,4,509850.6,2,509850.63,0)
DIAGNOSTIC CODE  (sub-file)
"BLD",4381,4,509850.6,2,509850.63,1,0)
^9.6411^.01^1
"BLD",4381,4,509850.6,2,509850.63,1,.01,0)
DIAGNOSTIC CODE
"BLD",4381,4,509850.6,222)
y^y^p^^^^n^^n
"BLD",4381,4,509850.6,224)
 
"BLD",4381,4,"APDD",509850.1,509850.1)
 
"BLD",4381,4,"APDD",509850.1,509850.1,.01)
 
"BLD",4381,4,"APDD",509850.4,509850.4)
 
"BLD",4381,4,"APDD",509850.4,509850.4,.01)
 
"BLD",4381,4,"APDD",509850.6,509850.61)
 
"BLD",4381,4,"APDD",509850.6,509850.61,.01)
 
"BLD",4381,4,"APDD",509850.6,509850.63)
 
"BLD",4381,4,"APDD",509850.6,509850.63,.01)
 
"BLD",4381,4,"B",509850.1,509850.1)
 
"BLD",4381,4,"B",509850.4,509850.4)
 
"BLD",4381,4,"B",509850.6,509850.6)
 
"BLD",4381,"ABPKG")
n
"BLD",4381,"KRN",0)
^9.67PA^8989.52^19
"BLD",4381,"KRN",.4,0)
.4
"BLD",4381,"KRN",.401,0)
.401
"BLD",4381,"KRN",.402,0)
.402
"BLD",4381,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",4381,"KRN",.403,0)
.403
"BLD",4381,"KRN",.5,0)
.5
"BLD",4381,"KRN",.84,0)
.84
"BLD",4381,"KRN",3.6,0)
3.6
"BLD",4381,"KRN",3.8,0)
3.8
"BLD",4381,"KRN",9.2,0)
9.2
"BLD",4381,"KRN",9.8,0)
9.8
"BLD",4381,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",4381,"KRN",9.8,"NM",1,0)
ACKQUTL5^^0^B58359695
"BLD",4381,"KRN",9.8,"NM",2,0)
ACKQUT1^^0^B2204546
"BLD",4381,"KRN",9.8,"NM","B","ACKQUT1",2)
 
"BLD",4381,"KRN",9.8,"NM","B","ACKQUTL5",1)
 
"BLD",4381,"KRN",19,0)
19
"BLD",4381,"KRN",19,"NM",0)
^9.68A^^0
"BLD",4381,"KRN",19.1,0)
19.1
"BLD",4381,"KRN",19.1,"NM",0)
^9.68A^^0
"BLD",4381,"KRN",101,0)
101
"BLD",4381,"KRN",409.61,0)
409.61
"BLD",4381,"KRN",771,0)
771
"BLD",4381,"KRN",870,0)
870
"BLD",4381,"KRN",8989.51,0)
8989.51
"BLD",4381,"KRN",8989.52,0)
8989.52
"BLD",4381,"KRN",8994,0)
8994
"BLD",4381,"KRN","B",.4,.4)
 
"BLD",4381,"KRN","B",.401,.401)
 
"BLD",4381,"KRN","B",.402,.402)
 
"BLD",4381,"KRN","B",.403,.403)
 
"BLD",4381,"KRN","B",.5,.5)
 
"BLD",4381,"KRN","B",.84,.84)
 
"BLD",4381,"KRN","B",3.6,3.6)
 
"BLD",4381,"KRN","B",3.8,3.8)
 
"BLD",4381,"KRN","B",9.2,9.2)
 
"BLD",4381,"KRN","B",9.8,9.8)
 
"BLD",4381,"KRN","B",19,19)
 
"BLD",4381,"KRN","B",19.1,19.1)
 
"BLD",4381,"KRN","B",101,101)
 
"BLD",4381,"KRN","B",409.61,409.61)
 
"BLD",4381,"KRN","B",771,771)
 
"BLD",4381,"KRN","B",870,870)
 
"BLD",4381,"KRN","B",8989.51,8989.51)
 
"BLD",4381,"KRN","B",8989.52,8989.52)
 
"BLD",4381,"KRN","B",8994,8994)
 
"BLD",4381,"QUES",0)
^9.62^^
"BLD",4381,"REQB",0)
^9.611^5^5
"BLD",4381,"REQB",1,0)
ACKQ*3.0*2^2
"BLD",4381,"REQB",2,0)
ACKQ*3.0*4^2
"BLD",4381,"REQB",3,0)
ICD*18.0*6^2
"BLD",4381,"REQB",4,0)
ICPT*6.0*14^2
"BLD",4381,"REQB",5,0)
ACKQ*3.0*7^2
"BLD",4381,"REQB","B","ACKQ*3.0*2",1)
 
"BLD",4381,"REQB","B","ACKQ*3.0*4",2)
 
"BLD",4381,"REQB","B","ACKQ*3.0*7",5)
 
"BLD",4381,"REQB","B","ICD*18.0*6",3)
 
"BLD",4381,"REQB","B","ICPT*6.0*14",4)
 
"FIA",509850.1)
A&SP DIAGNOSTIC CONDITION
"FIA",509850.1,0)
^ACK(509850.1,
"FIA",509850.1,0,0)
509850.1IP
"FIA",509850.1,0,1)
y^y^p^^^^n^^n
"FIA",509850.1,0,10)
 
"FIA",509850.1,0,11)
 
"FIA",509850.1,0,"RLRO")
 
"FIA",509850.1,0,"VR")
3.0^ACKQ
"FIA",509850.1,509850.1)
1
"FIA",509850.1,509850.1,.01)
 
"FIA",509850.4)
A&SP PROCEDURE CODE
"FIA",509850.4,0)
^ACK(509850.4,
"FIA",509850.4,0,0)
509850.4IP
"FIA",509850.4,0,1)
y^y^p^^^^n^^n
"FIA",509850.4,0,10)
 
"FIA",509850.4,0,11)
 
"FIA",509850.4,0,"RLRO")
 
"FIA",509850.4,0,"VR")
3.0^ACKQ
"FIA",509850.4,509850.4)
1
"FIA",509850.4,509850.4,.01)
 
"FIA",509850.6)
A&SP CLINIC VISIT
"FIA",509850.6,0)
^ACK(509850.6,
"FIA",509850.6,0,0)
509850.6ID
"FIA",509850.6,0,1)
y^y^p^^^^n^^n
"FIA",509850.6,0,10)
 
"FIA",509850.6,0,11)
 
"FIA",509850.6,0,"RLRO")
 
"FIA",509850.6,0,"VR")
3.0^ACKQ
"FIA",509850.6,509850.6)
1
"FIA",509850.6,509850.6,3)
 
"FIA",509850.6,509850.6,10)
 
"FIA",509850.6,509850.61)
1
"FIA",509850.6,509850.61,.01)
 
"FIA",509850.6,509850.63)
1
"FIA",509850.6,509850.63,.01)
 
"MBREQ")
0
"PKG",322,-1)
1^1
"PKG",322,0)
QUASAR^ACKQ^Quality: Audiology and Speech Pathology Audit and Review
"PKG",322,20,0)
^9.402P^^
"PKG",322,22,0)
^9.49I^1^1
"PKG",322,22,1,0)
3.0^3000211^3000317^2178
"PKG",322,22,1,"PAH",1,0)
6^3030724^2178
"PKG",322,22,1,"PAH",1,1,0)
^^2^2^3030724
"PKG",322,22,1,"PAH",1,1,1,0)
Please see the National Patch Module for details of the enhancements
"PKG",322,22,1,"PAH",1,1,2,0)
included in this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")
 
"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ACKQUT1")
0^2^B2204546
"RTN","ACKQUT1",1,0)
ACKQUT1 ;HCIOFO/BH-Quasar utilities routine ; 04/01/03
"RTN","ACKQUT1",2,0)
 ;;3.0;QUASAR;**6**;Feb 11, 2000
"RTN","ACKQUT1",3,0)
 ;Per VHA Directive 10-93-142, this routine SHOULD NOT be modified.
"RTN","ACKQUT1",4,0)
 ;
"RTN","ACKQUT1",5,0)
ACKCPT(CODE)    ;  Validate CPT code using today's date
"RTN","ACKQUT1",6,0)
 ;
"RTN","ACKQUT1",7,0)
 N ACKPARAM,DTE,X,Y
"RTN","ACKQUT1",8,0)
 D NOW^%DTC S DTE=$P(%,".",1)
"RTN","ACKQUT1",9,0)
 S ACKPARAM=$P($$CPT^ICPTCOD(CODE,DTE),"^",7)
"RTN","ACKQUT1",10,0)
 I 'ACKPARAM D
"RTN","ACKQUT1",11,0)
 . W !!
"RTN","ACKQUT1",12,0)
 . W "The selected code is not valid for today's date.",!!
"RTN","ACKQUT1",13,0)
 Q ACKPARAM
"RTN","ACKQUT1",14,0)
 ;
"RTN","ACKQUT1",15,0)
ACKICD(CODE) ;  Validate ICD code using today's date
"RTN","ACKQUT1",16,0)
 ;
"RTN","ACKQUT1",17,0)
 N ACKPARAM,DTE,X,Y
"RTN","ACKQUT1",18,0)
 D NOW^%DTC S DTE=$P(%,".",1)
"RTN","ACKQUT1",19,0)
 S ACKPARAM=$P($$ICDDX^ICDCODE(CODE,DTE),"^",10)
"RTN","ACKQUT1",20,0)
 I 'ACKPARAM D
"RTN","ACKQUT1",21,0)
 . W !!
"RTN","ACKQUT1",22,0)
 . W "The selected code is not valid for today's date.",!!
"RTN","ACKQUT1",23,0)
 ;
"RTN","ACKQUT1",24,0)
 Q ACKPARAM
"RTN","ACKQUT1",25,0)
 ;
"RTN","ACKQUT1",26,0)
 ;
"RTN","ACKQUT1",27,0)
CPT(CODE,ACKVD,ACKCSC) ; screen for active CPT codes
"RTN","ACKQUT1",28,0)
 N ACKPARAM
"RTN","ACKQUT1",29,0)
 I $P(^ACK(509850.4,CODE,0),U,2)'[$E(ACKCSC) Q 0
"RTN","ACKQUT1",30,0)
 I $P(^ACK(509850.4,CODE,0),U,4)'=1 Q 0
"RTN","ACKQUT1",31,0)
 S ACKPARAM=$P($$CPT^ICPTCOD(CODE,ACKVD),"^",7)
"RTN","ACKQUT1",32,0)
 Q ACKPARAM
"RTN","ACKQUT1",33,0)
 ;
"RTN","ACKQUT1",34,0)
 ;
"RTN","ACKQUT1",35,0)
ICD(CODE,ACKVD,ACKCSC) ; screen for active ICD codes
"RTN","ACKQUT1",36,0)
 N ACKPARAM
"RTN","ACKQUT1",37,0)
 I $P(^ACK(509850.1,CODE,0),U,4)'[$E(ACKCSC) Q 0
"RTN","ACKQUT1",38,0)
 I $P(^ACK(509850.1,CODE,0),U,6)'=1 Q 0
"RTN","ACKQUT1",39,0)
 S ACKPARAM=$P($$ICDDX^ICDCODE(CODE,ACKVD),"^",10)
"RTN","ACKQUT1",40,0)
 Q ACKPARAM
"RTN","ACKQUT1",41,0)
 ;
"RTN","ACKQUT1",42,0)
 ;
"RTN","ACKQUTL5")
0^1^B58359695
"RTN","ACKQUTL5",1,0)
ACKQUTL5 ;HCIOFO/BH-Quasar utilities routine ; 04/01/99
"RTN","ACKQUTL5",2,0)
 ;;3.0;QUASAR;**1,4,6**;Feb 11, 2000
"RTN","ACKQUTL5",3,0)
 ;Per VHA Directive 10-93-142, this routine SHOULD NOT be modified.
"RTN","ACKQUTL5",4,0)
SETREF(X,ACKVIEN,ACKTYPE) ;
"RTN","ACKQUTL5",5,0)
 ; Maintains APCE xRef When 3 of the 4 entries are present & the 4TH
"RTN","ACKQUTL5",6,0)
 ; has been entered a new entry will be set up. If any of the 4 data 
"RTN","ACKQUTL5",7,0)
 ; items used within the X ref are changed the entry will be deleted & a
"RTN","ACKQUTL5",8,0)
 ; new 1 set up
"RTN","ACKQUTL5",9,0)
 N ACKTME,ACKCLIN,ACKVD,ACKPAT
"RTN","ACKQUTL5",10,0)
 D GETVAL
"RTN","ACKQUTL5",11,0)
 I ACKTME="",ACKTYPE'="T" Q
"RTN","ACKQUTL5",12,0)
 I ACKCLIN="",ACKTYPE'="C" Q
"RTN","ACKQUTL5",13,0)
 I ACKVD="",ACKTYPE'="D" Q
"RTN","ACKQUTL5",14,0)
 I ACKPAT="",ACKTYPE'="P" Q
"RTN","ACKQUTL5",15,0)
 ;
"RTN","ACKQUTL5",16,0)
 S ^ACK(509850.6,"APCE",ACKPAT,ACKCLIN,ACKVD,ACKTME,ACKVIEN)=""
"RTN","ACKQUTL5",17,0)
 Q
"RTN","ACKQUTL5",18,0)
KILLREF(X,ACKVIEN,ACKTYPE) ;
"RTN","ACKQUTL5",19,0)
 ; When any of the 4 var values that make up the APCE xRef are deleted
"RTN","ACKQUTL5",20,0)
 ; or when the visit record is deleted the APCE xRef will be deleted
"RTN","ACKQUTL5",21,0)
 N ACKTME,ACKCLIN,ACKVD,ACKPAT
"RTN","ACKQUTL5",22,0)
 D GETVAL
"RTN","ACKQUTL5",23,0)
 ;
"RTN","ACKQUTL5",24,0)
 I ACKTYPE'="T",ACKTME="" Q   ;  If any of the 4 field values other than
"RTN","ACKQUTL5",25,0)
 I ACKTYPE'="C",ACKCLIN="" Q  ;  the field being edited are null the
"RTN","ACKQUTL5",26,0)
 I ACKTYPE'="D",ACKVD="" Q    ;  xRef will not have been set up
"RTN","ACKQUTL5",27,0)
 I ACKTYPE'="P",ACKPAT="" Q
"RTN","ACKQUTL5",28,0)
 ;
"RTN","ACKQUTL5",29,0)
 I ACKTYPE="D" S ACKVD=X      ;  X=Old field value
"RTN","ACKQUTL5",30,0)
 I ACKTYPE="P" S ACKPAT=X
"RTN","ACKQUTL5",31,0)
 I ACKTYPE="C" S ACKCLIN=X
"RTN","ACKQUTL5",32,0)
 I ACKTYPE="T" S ACKTME=X
"RTN","ACKQUTL5",33,0)
 ;
"RTN","ACKQUTL5",34,0)
 I $D(^ACK(509850.6,"APCE",ACKPAT,ACKCLIN,ACKVD,ACKTME,ACKVIEN)) D
"RTN","ACKQUTL5",35,0)
 . K ^ACK(509850.6,"APCE",ACKPAT,ACKCLIN,ACKVD,ACKTME,ACKVIEN)
"RTN","ACKQUTL5",36,0)
 Q
"RTN","ACKQUTL5",37,0)
 ;
"RTN","ACKQUTL5",38,0)
GETVAL ; Used with SETREF & KILLREF - Gets The Clinic, Visit Date, Visit
"RTN","ACKQUTL5",39,0)
 ; time and Patient from the visit file currently being processed
"RTN","ACKQUTL5",40,0)
 N ACKTGT
"RTN","ACKQUTL5",41,0)
 D GETS^DIQ(509850.6,ACKVIEN_",",".01;1;2.6;55","I","ACKTGT")
"RTN","ACKQUTL5",42,0)
 S ACKVD=$G(ACKTGT(509850.6,ACKVIEN_",",.01,"I"))
"RTN","ACKQUTL5",43,0)
 S ACKPAT=$G(ACKTGT(509850.6,ACKVIEN_",",1,"I"))
"RTN","ACKQUTL5",44,0)
 S ACKCLIN=$G(ACKTGT(509850.6,ACKVIEN_",",2.6,"I"))
"RTN","ACKQUTL5",45,0)
 S ACKTME=$G(ACKTGT(509850.6,ACKVIEN_",",55,"I"))
"RTN","ACKQUTL5",46,0)
 Q
"RTN","ACKQUTL5",47,0)
 ;
"RTN","ACKQUTL5",48,0)
EXCEPT(ACKVIEN,ACKFLD,ACKVAL) ;  Called from xRefs within the LAST SENT TO PCE, LAST
"RTN","ACKQUTL5",49,0)
 ;  EDITED IN QSR and PCE VISIT IEN fields
"RTN","ACKQUTL5",50,0)
 N ACKTGT,ACKPIEN,ACKSENT,ACKEDIT,ACKARR,ACKEXCP
"RTN","ACKQUTL5",51,0)
 I ACKFLD=125 D
"RTN","ACKQUTL5",52,0)
 . S ACKPIEN=ACKVAL
"RTN","ACKQUTL5",53,0)
 . S ACKSENT=$$GET1^DIQ(509850.6,ACKVIEN_",",135,"I")
"RTN","ACKQUTL5",54,0)
 . S ACKEDIT=$$GET1^DIQ(509850.6,ACKVIEN_",",140,"I")
"RTN","ACKQUTL5",55,0)
 I ACKFLD=135 D
"RTN","ACKQUTL5",56,0)
 . S ACKPIEN=$$GET1^DIQ(509850.6,ACKVIEN_",",125,"I")
"RTN","ACKQUTL5",57,0)
 . S ACKSENT=ACKVAL
"RTN","ACKQUTL5",58,0)
 . S ACKEDIT=$$GET1^DIQ(509850.6,ACKVIEN_",",140,"I")
"RTN","ACKQUTL5",59,0)
 I ACKFLD=140 D
"RTN","ACKQUTL5",60,0)
 . S ACKPIEN=$$GET1^DIQ(509850.6,ACKVIEN_",",125,"I")
"RTN","ACKQUTL5",61,0)
 . S ACKSENT=$$GET1^DIQ(509850.6,ACKVIEN_",",135,"I")
"RTN","ACKQUTL5",62,0)
 . S ACKEDIT=ACKVAL
"RTN","ACKQUTL5",63,0)
 ;
"RTN","ACKQUTL5",64,0)
 ; if PCE visit ien known and PCE updated last then no exception
"RTN","ACKQUTL5",65,0)
 I ACKPIEN'="",ACKEDIT'="",ACKSENT'="",ACKEDIT<ACKSENT D  Q
"RTN","ACKQUTL5",66,0)
 . S ACKARR(509850.6,ACKVIEN_",",900)="@"
"RTN","ACKQUTL5",67,0)
 . D FILE^DIE("","ACKARR")
"RTN","ACKQUTL5",68,0)
 ; else this visit is an exception - only update if null or
"RTN","ACKQUTL5",69,0)
 ; earlier than today
"RTN","ACKQUTL5",70,0)
 S ACKEXCP=$$GET1^DIQ(509850.6,ACKVIEN_",",900,"I")
"RTN","ACKQUTL5",71,0)
 D NOW^%DTC
"RTN","ACKQUTL5",72,0)
 I (ACKEXCP="")!(ACKEXCP\1<(%\1)) D
"RTN","ACKQUTL5",73,0)
 . S ACKARR(509850.6,ACKVIEN_",",900)=%
"RTN","ACKQUTL5",74,0)
 . D FILE^DIE("","ACKARR")
"RTN","ACKQUTL5",75,0)
 Q
"RTN","ACKQUTL5",76,0)
SEND(ACKVIEN) ;  Called when entering/editing any of the PCE fields.
"RTN","ACKQUTL5",77,0)
 ; inputs: ACKVIEN - visit ien 
"RTN","ACKQUTL5",78,0)
 ; this s/r is used in the xRef of any data field that, if changed,
"RTN","ACKQUTL5",79,0)
 ; should be sent to PCE to keep PCE up to date. The edit triggers the 
"RTN","ACKQUTL5",80,0)
 ; xRef call to this s/r. It ensures that the LAST EDITED IN QSR date is
"RTN","ACKQUTL5",81,0)
 ; after the LAST SENT TO PCE date so that the visit becomes a PCE 
"RTN","ACKQUTL5",82,0)
 ; EXCEPTION. NB. The LAST EDITED IN QSR date will only be updated if
"RTN","ACKQUTL5",83,0)
 ; a. it is currently earlier than the LAST SENT TO PCE and by updating 
"RTN","ACKQUTL5",84,0)
 ; it the visit becomes a PCE Exception. or b. the current value is 
"RTN","ACKQUTL5",85,0)
 ; earlier than today this saves the system from constantly updating 
"RTN","ACKQUTL5",86,0)
 ; this field and checking the exception status each time a pce field 
"RTN","ACKQUTL5",87,0)
 ; is changed
"RTN","ACKQUTL5",88,0)
 N ACKARR,ACKEDIT,ACKSENT
"RTN","ACKQUTL5",89,0)
 ; get current value of LAST EDITED IN QSR and LAST SENT TO PCE
"RTN","ACKQUTL5",90,0)
 S ACKEDIT=$$GET1^DIQ(509850.6,ACKVIEN_",",140,"I")
"RTN","ACKQUTL5",91,0)
 S ACKSENT=$$GET1^DIQ(509850.6,ACKVIEN_",",135,"I")
"RTN","ACKQUTL5",92,0)
 D NOW^%DTC
"RTN","ACKQUTL5",93,0)
 ; if qsr edit currently earlier than sent to pce update
"RTN","ACKQUTL5",94,0)
 I ACKEDIT<ACKSENT D  Q
"RTN","ACKQUTL5",95,0)
 . S ACKARR(509850.6,ACKVIEN_",",140)=%
"RTN","ACKQUTL5",96,0)
 . D FILE^DIE("","ACKARR")
"RTN","ACKQUTL5",97,0)
 ;
"RTN","ACKQUTL5",98,0)
 ; if last edit is earlier than today update
"RTN","ACKQUTL5",99,0)
 I (ACKEDIT\1)<(%\1) D  Q
"RTN","ACKQUTL5",100,0)
 . S ACKARR(509850.6,ACKVIEN_",",140)=%
"RTN","ACKQUTL5",101,0)
 . D FILE^DIE("","ACKARR")
"RTN","ACKQUTL5",102,0)
 ; nothing to do - QSR date must already be after LAST SENT and for today
"RTN","ACKQUTL5",103,0)
 Q
"RTN","ACKQUTL5",104,0)
MOD ; Creates an array of valid CPT Modfrs.  gets all valid Mods for the 
"RTN","ACKQUTL5",105,0)
 ; Proc then disgards any that are not on the A&SP Proc Mod file or that
"RTN","ACKQUTL5",106,0)
 ; are on file but Inactive
"RTN","ACKQUTL5",107,0)
 K ACKMOD,ACKMODD
"RTN","ACKQUTL5",108,0)
 N CDT,ACKMOD1,ACKM1,ACKK2
"RTN","ACKQUTL5",109,0)
 I $$PATCH^XPDUTL("PX*1.0*73") S ACKMOD1=$$CODM^ICPTCOD(ACKPC,"ACKMODD","",ACKVD)
"RTN","ACKQUTL5",110,0)
 I '$$PATCH^XPDUTL("PX*1.0*73") S ACKMOD1=$$CODM^ICPTCOD(ACKPC,"ACKMODD")
"RTN","ACKQUTL5",111,0)
 S ACKM1=""
"RTN","ACKQUTL5",112,0)
 F  S ACKM1=$O(ACKMODD(ACKM1)) Q:ACKM1=""  D
"RTN","ACKQUTL5",113,0)
 . S ACKK2=$P(ACKMODD(ACKM1),U,2)
"RTN","ACKQUTL5",114,0)
 . I '$D(^ACK(509850.5,ACKK2,0)) K ACKMODD(ACKM1) Q
"RTN","ACKQUTL5",115,0)
 . I $P(^ACK(509850.5,ACKK2,0),U,2)=0 K ACKMODD(ACKM1) Q
"RTN","ACKQUTL5",116,0)
 . K ACKMODD(ACKM1) S ACKMOD(ACKPC,ACKK2)=""
"RTN","ACKQUTL5",117,0)
 S ACKMOD(ACKPC)=""
"RTN","ACKQUTL5",118,0)
 Q
"RTN","ACKQUTL5",119,0)
MODW ; Called from x ref of Modfr field within 509850.6
"RTN","ACKQUTL5",120,0)
 I X'["?" Q
"RTN","ACKQUTL5",121,0)
 S DIC("W")="W ""  "",$$GET1^DIQ(81.3,Y,.02),?48,$$GET1^DIQ(81.3,Y,.04)"
"RTN","ACKQUTL5",122,0)
 Q
"RTN","ACKQUTL5",123,0)
 ;
"RTN","ACKQUTL5",124,0)
 ;
"RTN","ACKQUTL5",125,0)
MODS ; Screen for Modfrs input within Modifrs field of Modfrs File
"RTN","ACKQUTL5",126,0)
 S DIC("S")="D GETS^DIQ(81.3,Y,"".04;5"",""I"",""ACKARR"",""ACKMSG"") I ACKARR(81.3,Y_"","",.04,""I"")=""C""!(ACKARR(81.3,Y_"","",.04,""I"")=""H""),ACKARR(81.3,Y_"","",5,""I"")'=1"
"RTN","ACKQUTL5",127,0)
 S DIC("W")="W ""  "",$$GET1^DIQ(81.3,Y,.02)"
"RTN","ACKQUTL5",128,0)
 Q
"RTN","ACKQUTL5",129,0)
 ;
"RTN","ACKQUTL5",130,0)
 ;
"RTN","ACKQUTL5",131,0)
CHK(Y,ACKVD,ACKCSC) ;  Screen for EC codes
"RTN","ACKQUTL5",132,0)
 N ACKQCD,ACKQQD,ACKQQCPT,ACKPARAM
"RTN","ACKQUTL5",133,0)
 I $E($P(^EC(725,+Y,0),"^",2),1,2)'="SP" Q 0
"RTN","ACKQUTL5",134,0)
 S ACKQQCPT=$$GET1^DIQ(725,+Y_",",4,"I") I ACKQQCPT="" Q 0
"RTN","ACKQUTL5",135,0)
 ;S ACKQCD=$$CONVERT(ACKQQCPT) I ACKQCD="" Q 0
"RTN","ACKQUTL5",136,0)
 S ACKQCD=ACKQQCPT
"RTN","ACKQUTL5",137,0)
 S ACKPARAM=$P($$CPT^ICPTCOD(ACKQCD,ACKVD),"^",7) I 'ACKPARAM Q 0
"RTN","ACKQUTL5",138,0)
 I '$D(^ACK(509850.4,ACKQCD,0)) Q 0
"RTN","ACKQUTL5",139,0)
 I $P(^ACK(509850.4,ACKQCD,0),U,2)'[$E(ACKCSC) Q 0
"RTN","ACKQUTL5",140,0)
 I $P(^ACK(509850.4,ACKQCD,0),U,4)'=1 Q 0
"RTN","ACKQUTL5",141,0)
 S ACKQQD=$P(^EC(725,Y,0),"^",3) I ACKQQD="" Q 1
"RTN","ACKQUTL5",142,0)
 I ACKVD<ACKQQD Q 1
"RTN","ACKQUTL5",143,0)
 Q 0
"RTN","ACKQUTL5",144,0)
EVNTDIS ; Get EC Procs filed and display
"RTN","ACKQUTL5",145,0)
 D ENS^%ZISS
"RTN","ACKQUTL5",146,0)
 N D0,ACKKEY,ACKEVTDS,ACKK3,ACKPROC,ACKPRV,ACKNME,ACKNATNM
"RTN","ACKQUTL5",147,0)
 D LIST^DIC(509850.615,","_ACKVIEN_",",".01;.03;.05","I","*","","","","","","ACKEVTDS")
"RTN","ACKQUTL5",148,0)
 I '$D(ACKEVTDS("DILIST",1)) Q
"RTN","ACKQUTL5",149,0)
 W !!," ",IOUON,"Event Capture Procedures currently entered for this visit",IOUOFF,!
"RTN","ACKQUTL5",150,0)
 S ACKK3=""
"RTN","ACKQUTL5",151,0)
 F  S ACKK3=$O(ACKEVTDS("DILIST",1,ACKK3)) Q:ACKK3=""  D
"RTN","ACKQUTL5",152,0)
 . S ACKPROC=ACKEVTDS("DILIST",1,ACKK3)
"RTN","ACKQUTL5",153,0)
 . S ACKPRV=ACKEVTDS("DILIST","ID",ACKK3,.05)
"RTN","ACKQUTL5",154,0)
 . I ACKPRV'="" S ACKPRV=$$CONVERT^ACKQUTL4(ACKPRV)
"RTN","ACKQUTL5",155,0)
 . S ACKNME=$$GET1^DIQ(725,ACKPROC_",",.01) S ACKNME=$E(ACKNME,1,29)
"RTN","ACKQUTL5",156,0)
 . S ACKNATNM=$$GET1^DIQ(725,ACKPROC_",",1)
"RTN","ACKQUTL5",157,0)
 . W !," Nat.#: ",ACKNATNM,?14,"    Name: ",ACKNME,?55,"Vol.: ",ACKEVTDS("DILIST","ID",ACKK3,.03) I ACKPRV'="" W !,?14,"Provider: ",ACKPRV
"RTN","ACKQUTL5",158,0)
 . W !
"RTN","ACKQUTL5",159,0)
 Q
"RTN","ACKQUTL5",160,0)
SETCPT(DA,ACKQQIEN,X) ;  When EC Code is entered create a CPT entry
"RTN","ACKQUTL5",161,0)
 I '$D(ACKEVENT) Q   ; "" or 1 ACKEVENT must be defined
"RTN","ACKQUTL5",162,0)
 N ACK,ACKARR1,ACKCIEN,ACKQQCPT
"RTN","ACKQUTL5",163,0)
 ; Get CPT associated with EC code
"RTN","ACKQUTL5",164,0)
 S ACKQQCPT=$$GET1^DIQ(725,X_",",4,"I")
"RTN","ACKQUTL5",165,0)
 ;S ACKQQCPT=$$CONVERT(ACKQQCPT)
"RTN","ACKQUTL5",166,0)
 S ACKCIEN="" K ACKARR1
"RTN","ACKQUTL5",167,0)
 ; Create CPT entry and enter DA as CPT's pter to creating EC entry
"RTN","ACKQUTL5",168,0)
 S ACKARR1(509850.61,"+1,"_ACKQQIEN_",",.01)=ACKQQCPT
"RTN","ACKQUTL5",169,0)
 S ACKARR1(509850.61,"+1,"_ACKQQIEN_",",.07)=DA
"RTN","ACKQUTL5",170,0)
 D UPDATE^DIE("","ACKARR1","ACKCIEN","")
"RTN","ACKQUTL5",171,0)
 K ACK
"RTN","ACKQUTL5",172,0)
 ; After CPT entry set up get its IEN & set it to the creating EC 
"RTN","ACKQUTL5",173,0)
 ; entries CPT ptr field
"RTN","ACKQUTL5",174,0)
 S ACK(509850.615,DA_","_ACKQQIEN_",",.07)=ACKCIEN(1)
"RTN","ACKQUTL5",175,0)
 D FILE^DIE("","ACK","")
"RTN","ACKQUTL5",176,0)
 Q
"RTN","ACKQUTL5",177,0)
KILLCPT(DA,ACKQQIEN) ;  Deletes CPT entry if created by an EC entry
"RTN","ACKQUTL5",178,0)
 I '$D(ACKEVENT) Q  ; "" or 1 ACKEVENT must be defined
"RTN","ACKQUTL5",179,0)
 Q:'ACKEVENT  ; Q if Div set up to use CPT's
"RTN","ACKQUTL5",180,0)
 N ACKCIEN,ACK
"RTN","ACKQUTL5",181,0)
 S ACKCIEN=$$GET1^DIQ(509850.615,DA_","_ACKQQIEN_",",.07)
"RTN","ACKQUTL5",182,0)
 I ACKCIEN="" Q
"RTN","ACKQUTL5",183,0)
 S ACK(509850.61,ACKCIEN_","_ACKQQIEN_",",.01)="@" D FILE^DIE("","ACK")
"RTN","ACKQUTL5",184,0)
 Q
"RTN","ACKQUTL5",185,0)
ECVOLPRV(DA,ACKQQIEN,X,ACKQQVP,ACKQQDS) ; Update CPT rec. when EC data entered 
"RTN","ACKQUTL5",186,0)
 ;If CPT entry linked with the EC entry - 
"RTN","ACKQUTL5",187,0)
 ;   If ACKQQDS='S'
"RTN","ACKQUTL5",188,0)
 ;     If ACKQQVP='V' set EC vol to CPT vol
"RTN","ACKQUTL5",189,0)
 ;     If ACKQQVP='P' set EC Prvdr to CPT Prvdr
"RTN","ACKQUTL5",190,0)
 ;   If ACKQQDS='D'
"RTN","ACKQUTL5",191,0)
 ;     If ACKQQVP='V' delete CPT vol
"RTN","ACKQUTL5",192,0)
 ;     If ACKQQVP='P' delete CPT Prvdr
"RTN","ACKQUTL5",193,0)
 ;
"RTN","ACKQUTL5",194,0)
 I '$D(ACKEVENT) Q   ; "" or 1 ACKEVENT must be defined
"RTN","ACKQUTL5",195,0)
 Q:'ACKEVENT
"RTN","ACKQUTL5",196,0)
 N ACKFIELD,ACKVAL,ACK,ACKCIEN
"RTN","ACKQUTL5",197,0)
 S ACKCIEN=$$GET1^DIQ(509850.615,DA_","_ACKQQIEN_",",.07)
"RTN","ACKQUTL5",198,0)
 I ACKCIEN="" Q
"RTN","ACKQUTL5",199,0)
 S ACKFIELD=".03" I ACKQQVP="P" S ACKFIELD=".05"
"RTN","ACKQUTL5",200,0)
 S ACKVAL=X I ACKQQDS="D" S ACKVAL="@"
"RTN","ACKQUTL5",201,0)
 S ACK(509850.61,ACKCIEN_","_ACKQQIEN_",",ACKFIELD)=ACKVAL
"RTN","ACKQUTL5",202,0)
 D FILE^DIE("","ACK","")
"RTN","ACKQUTL5",203,0)
 Q
"RTN","ACKQUTL5",204,0)
CPVOLPRV(DA,ACKQQIEN,X,ACKQQVP,ACKQQDS) ; Update EC rec. when CPT data entered 
"RTN","ACKQUTL5",205,0)
 ;If EC entry linked with the CPT entry - 
"RTN","ACKQUTL5",206,0)
 ;   If ACKQQDS='S'
"RTN","ACKQUTL5",207,0)
 ;     If ACKQQVP='V' set CPT vol to EC vol
"RTN","ACKQUTL5",208,0)
 ;     If ACKQQVP='P' set CPT Prvdr to EC Prvdr
"RTN","ACKQUTL5",209,0)
 ;   If ACKQQDS='D'
"RTN","ACKQUTL5",210,0)
 ;     If ACKQQVP='V' delete EC vol
"RTN","ACKQUTL5",211,0)
 ;     If ACKQQVP='P' delete EC Prvdr
"RTN","ACKQUTL5",212,0)
 ;
"RTN","ACKQUTL5",213,0)
 I '$D(ACKEVENT) Q   ; "" or 1 ACKEVENT must be defined
"RTN","ACKQUTL5",214,0)
 Q:ACKEVENT
"RTN","ACKQUTL5",215,0)
 N ACKFIELD,ACKVAL,ACK,ACKEIEN
"RTN","ACKQUTL5",216,0)
 S ACKEIEN=$$GET1^DIQ(509850.61,DA_","_ACKQQIEN_",",.07)
"RTN","ACKQUTL5",217,0)
 I ACKEIEN="" Q
"RTN","ACKQUTL5",218,0)
 S ACKFIELD=".03" I ACKQQVP="P" S ACKFIELD=".05"
"RTN","ACKQUTL5",219,0)
 S ACKVAL=X I ACKQQDS="D" S ACKVAL="@"
"RTN","ACKQUTL5",220,0)
 S ACK(509850.615,ACKEIEN_","_ACKQQIEN_",",ACKFIELD)=ACKVAL
"RTN","ACKQUTL5",221,0)
 D FILE^DIE("","ACK","")
"RTN","ACKQUTL5",222,0)
 Q
"RTN","ACKQUTL5",223,0)
KILLEC(DA,ACKQQIEN) ;  Delets EC entry if CPT entry has EC pter
"RTN","ACKQUTL5",224,0)
 I '$D(ACKEVENT) Q   ; "" or 1 ACKEVENT must be defined
"RTN","ACKQUTL5",225,0)
 Q:ACKEVENT   ; Q if Div set up to use EC's
"RTN","ACKQUTL5",226,0)
 N ACKECIEN,ACK
"RTN","ACKQUTL5",227,0)
 S ACKECIEN=$$GET1^DIQ(509850.61,DA_","_ACKQQIEN_",",.07)
"RTN","ACKQUTL5",228,0)
 I ACKECIEN="" Q
"RTN","ACKQUTL5",229,0)
 S ACK(509850.615,ACKECIEN_","_ACKQQIEN_",",.01)="@" D FILE^DIE("","ACK")
"RTN","ACKQUTL5",230,0)
 Q
"RTN","ACKQUTL5",231,0)
EVENT(ACKDIV,ACKVD) ; params set up for Divn to use EC Codes ?
"RTN","ACKQUTL5",232,0)
 N ACKY,X,Y,ACKM
"RTN","ACKQUTL5",233,0)
 S ACKY=$E(ACKVD,2,3),ACKM=$E(ACKVD,4,5)
"RTN","ACKQUTL5",234,0)
 I ACKM>9 S ACKY=ACKY+1 I $L(ACKY)=1 S ACKY="0"_ACKY
"RTN","ACKQUTL5",235,0)
 I '$D(^ACK(509850.8,1,2,ACKDIV,2,"B",ACKY)) Q 0
"RTN","ACKQUTL5",236,0)
 S ACKKEY=0
"RTN","ACKQUTL5",237,0)
 S ACKKEY=$O(^ACK(509850.8,1,2,ACKDIV,2,"B",ACKY,ACKKEY))
"RTN","ACKQUTL5",238,0)
 S ACKEC=$P(^ACK(509850.8,1,2,ACKDIV,2,ACKKEY,0),"^",2)
"RTN","ACKQUTL5",239,0)
 I ACKEC="" S ACKEC="0"
"RTN","ACKQUTL5",240,0)
 Q ACKEC
"RTN","ACKQUTL5",241,0)
 ;
"UP",509850.6,509850.61,-1)
509850.6^3
"UP",509850.6,509850.61,0)
509850.61
"UP",509850.6,509850.63,-1)
509850.6^1
"UP",509850.6,509850.63,0)
509850.63
"VER")
8.0^22
"^DD",509850.1,509850.1,.01,0)
CODE^RP80'X^ICD9(^0;1^K:'$$ACKICD^ACKQUT1(X) X S:$D(X) DINUM=X
"^DD",509850.1,509850.1,.01,.1)
Code
"^DD",509850.1,509850.1,.01,1,0)
^.1
"^DD",509850.1,509850.1,.01,1,1,0)
509850.1^B
"^DD",509850.1,509850.1,.01,1,1,1)
S ^ACK(509850.1,"B",$E(X,1,30),DA)=""
"^DD",509850.1,509850.1,.01,1,1,2)
K ^ACK(509850.1,"B",$E(X,1,30),DA)
"^DD",509850.1,509850.1,.01,3)
Enter the ICD-9CM code number.
"^DD",509850.1,509850.1,.01,4)
W !?5,"Input should take place ONLY through the QUASAR menu options.",!
"^DD",509850.1,509850.1,.01,21,0)
^.001^2^2^3001002^^^^
"^DD",509850.1,509850.1,.01,21,1,0)
The CODE field contains the pointer to the diagnostic condition code for 
"^DD",509850.1,509850.1,.01,21,2,0)
Audiology and Speech Pathology.
"^DD",509850.1,509850.1,.01,"DT")
3030226
"^DD",509850.4,509850.4,.01,0)
CODE^RP81'X^ICPT(^0;1^K:'$$ACKCPT^ACKQUT1(X) X S:$D(X) DINUM=X
"^DD",509850.4,509850.4,.01,.1)
Code
"^DD",509850.4,509850.4,.01,1,0)
^.1
"^DD",509850.4,509850.4,.01,1,1,0)
509850.4^B
"^DD",509850.4,509850.4,.01,1,1,1)
S ^ACK(509850.4,"B",$E(X,1,30),DA)=""
"^DD",509850.4,509850.4,.01,1,1,2)
K ^ACK(509850.4,"B",$E(X,1,30),DA)
"^DD",509850.4,509850.4,.01,3)
Enter the CPT code number.
"^DD",509850.4,509850.4,.01,4)
W !?5,"Input should take place ONLY through the QUASAR menu options.",!
"^DD",509850.4,509850.4,.01,21,0)
^.001^2^2^3001002^^^^
"^DD",509850.4,509850.4,.01,21,1,0)
The CODE field contains the pointer to the CPT-4 procedure code for 
"^DD",509850.4,509850.4,.01,21,2,0)
Audiology and Speech Pathology.
"^DD",509850.4,509850.4,.01,"DT")
3030414
"^DD",509850.6,509850.6,3,0)
DIAGNOSTIC CODE^509850.63PA^^1;0
"^DD",509850.6,509850.6,3,21,0)
^.001^2^2^3001013^^^^
"^DD",509850.6,509850.6,3,21,1,0)
The DIAGNOSTIC CODE field is a pointer to the A&SP DIAGNOSTIC
"^DD",509850.6,509850.6,3,21,2,0)
CONDITION file (#509850.1).
"^DD",509850.6,509850.6,10,0)
PROCEDURE CODE^509850.61PA^^3;0
"^DD",509850.6,509850.6,10,21,0)
^.001^2^2^3001006^^^^
"^DD",509850.6,509850.6,10,21,1,0)
The PROCEDURE CODE field contains CPT-4 procedure codes and modifiers, 
"^DD",509850.6,509850.6,10,21,2,0)
if any, for this exam.
"^DD",509850.6,509850.61,0)
PROCEDURE CODE SUB-FIELD^^.07^6
"^DD",509850.6,509850.61,0,"NM","PROCEDURE CODE")
 
"^DD",509850.6,509850.61,.01,0)
PROCEDURE CODE^M*P509850.4'X^ACK(509850.4,^0;1^S DIC("S")="I $D(ACKCSC),'$G(ACKEVENT),$$CPT^ACKQUT1(+Y,ACKVD,ACKCSC)" S DIC("W")="" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",509850.6,509850.61,.01,.1)
Procedure Code
"^DD",509850.6,509850.61,.01,1,0)
^.1
"^DD",509850.6,509850.61,.01,1,1,0)
509850.61^B
"^DD",509850.6,509850.61,.01,1,1,1)
S ^ACK(509850.6,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",509850.6,509850.61,.01,1,1,2)
K ^ACK(509850.6,DA(1),3,"B",$E(X,1,30),DA)
"^DD",509850.6,509850.61,.01,1,2,0)
509850.61^AC^MUMPS
"^DD",509850.6,509850.61,.01,1,2,1)
D SEND^ACKQUTL5(DA(1))
"^DD",509850.6,509850.61,.01,1,2,2)
D SEND^ACKQUTL5(DA(1))
"^DD",509850.6,509850.61,.01,1,2,3)
Do not Delete
"^DD",509850.6,509850.61,.01,1,2,"%D",0)
^.101^2^2^3001006^^^^
"^DD",509850.6,509850.61,.01,1,2,"%D",1,0)
This index updates the Last Edited in Quasar field. This in turn
"^DD",509850.6,509850.61,.01,1,2,"%D",2,0)
may cause the visit to become a PCE Exception.
"^DD",509850.6,509850.61,.01,1,2,"DT")
2990930
"^DD",509850.6,509850.61,.01,1,3,0)
509850.6^AD^MUMPS
"^DD",509850.6,509850.61,.01,1,3,1)
Q
"^DD",509850.6,509850.61,.01,1,3,2)
D KILLEC^ACKQUTL5(DA,DA(1))
"^DD",509850.6,509850.61,.01,1,3,3)
Do not Delete.
"^DD",509850.6,509850.61,.01,1,3,"%D",0)
^.101^2^2^3001010^^^
"^DD",509850.6,509850.61,.01,1,3,"%D",1,0)
If the CPT code was set up via the input of an EC code and the CPT is being
"^DD",509850.6,509850.61,.01,1,3,"%D",2,0)
deleted the EC code also requires deleting.
"^DD",509850.6,509850.61,.01,1,3,"DT")
3001010
"^DD",509850.6,509850.61,.01,3)
Enter a CPT procedure code for this visit.
"^DD",509850.6,509850.61,.01,12)
The CPT code must be active and consistent with the stop code.
"^DD",509850.6,509850.61,.01,12.1)
S DIC("S")="I $D(ACKCSC),'$G(ACKEVENT),$$CPT^ACKQUT1(+Y,ACKVD,ACKCSC)" S DIC("W")=""
"^DD",509850.6,509850.61,.01,21,0)
^.001^8^8^3001005^^^^
"^DD",509850.6,509850.61,.01,21,1,0)
The PROCEDURE CODE field contains a CPT procedure code for this exam.  
"^DD",509850.6,509850.61,.01,21,2,0)
QUASAR accepts multiple CPT-4 codes and displays a sequential count of 
"^DD",509850.6,509850.61,.01,21,3,0)
entered procedures.  QUASAR allows the same CPT-4 code to be entered 
"^DD",509850.6,509850.61,.01,21,4,0)
more than once if the second and subsequent codes are enclosed in 
"^DD",509850.6,509850.61,.01,21,5,0)
quotation marks (e.g., "92507").  If this is not done, QUASAR assumes 
"^DD",509850.6,509850.61,.01,21,6,0)
that the entry is a mistake and displays the entered code followed by 
"^DD",509850.6,509850.61,.01,21,7,0)
double slant bars (e.g., 92507//).  This signals you that this code has 
"^DD",509850.6,509850.61,.01,21,8,0)
already been entered for this visit.
"^DD",509850.6,509850.61,.01,"DT")
3030414
"^DD",509850.6,509850.63,0)
DIAGNOSTIC CODE SUB-FIELD^^.15^5
"^DD",509850.6,509850.63,0,"NM","DIAGNOSTIC CODE")
 
"^DD",509850.6,509850.63,.01,0)
DIAGNOSTIC CODE^M*P509850.1'X^ACK(509850.1,^0;1^S DIC("S")="I $D(ACKCSC),$$ICD^ACKQUT1(+Y,ACKVD,ACKCSC)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",509850.6,509850.63,.01,.1)
Diagnostic Code
"^DD",509850.6,509850.63,.01,1,0)
^.1
"^DD",509850.6,509850.63,.01,1,1,0)
509850.63^B
"^DD",509850.6,509850.63,.01,1,1,1)
S ^ACK(509850.6,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",509850.6,509850.63,.01,1,1,2)
K ^ACK(509850.6,DA(1),1,"B",$E(X,1,30),DA)
"^DD",509850.6,509850.63,.01,1,2,0)
509850.63^AC^MUMPS
"^DD",509850.6,509850.63,.01,1,2,1)
D SEND^ACKQUTL5(DA(1))
"^DD",509850.6,509850.63,.01,1,2,2)
D SEND^ACKQUTL5(DA(1))
"^DD",509850.6,509850.63,.01,1,2,3)
Do not Delete
"^DD",509850.6,509850.63,.01,1,2,"%D",0)
^.101^2^2^3010215^^^^
"^DD",509850.6,509850.63,.01,1,2,"%D",1,0)
This index updates the Last Edited in QUASAR field. This in turn may
"^DD",509850.6,509850.63,.01,1,2,"%D",2,0)
cause the visit to become a PCE Exception.
"^DD",509850.6,509850.63,.01,1,2,"DT")
2990930
"^DD",509850.6,509850.63,.01,3)
Enter an ICD9 code for this clinic visit.
"^DD",509850.6,509850.63,.01,4)
 
"^DD",509850.6,509850.63,.01,12)
The diagnostic code must be active and consistent with the stop code.
"^DD",509850.6,509850.63,.01,12.1)
S DIC("S")="I $D(ACKCSC),$$ICD^ACKQUT1(+Y,ACKVD,ACKCSC)"
"^DD",509850.6,509850.63,.01,21,0)
^^2^2^2991026^^^^
"^DD",509850.6,509850.63,.01,21,1,0)
The DIAGNOSTIC CODE field is a pointer to the A&SP DIAGNOSTIC
"^DD",509850.6,509850.63,.01,21,2,0)
CONDITION file (#509850.1).
"^DD",509850.6,509850.63,.01,"DT")
3030618
**END**
**END**
