Released SR*3*146 SEQ #146
Extracted from mail message
**KIDS**:SR*3.0*146^

**INSTALL NAME**
SR*3.0*146
"BLD",5520,0)
SR*3.0*146^SURGERY^0^3060308^y
"BLD",5520,1,0)
^^49^49^3060113^
"BLD",5520,1,1,0)
1. At many sites the Risk Assessment Nurse Reviewers are involved with the
"BLD",5520,1,2,0)
Health Information Management Systems (HIMS) staff in determining the
"BLD",5520,1,3,0)
final codes for a Surgery case. An Alert Coder Option will allow the Risk
"BLD",5520,1,4,0)
Assessment Nurse Reviewer to alert the coder if there is a question on the
"BLD",5520,1,5,0)
Current Procedural Terminology (CPT) or International Classification of
"BLD",5520,1,6,0)
Diseases (ICD) codes on a Surgery case.
"BLD",5520,1,7,0)
 
"BLD",5520,1,8,0)
 o The new Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option
"BLD",5520,1,9,0)
   will appear on both the Non-Cardiac Assessment Information (Enter/Edit)
"BLD",5520,1,10,0)
   [SROA ENTER/EDIT] and Cardiac Risk Assessment Information (Enter/Edit) 
"BLD",5520,1,11,0)
   [SROA CARDIAC ENTER/EDIT] menus.
"BLD",5520,1,12,0)
 o The Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option will
"BLD",5520,1,13,0)
   not check the PFSS On/Off switch.
"BLD",5520,1,14,0)
 o The Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option will
"BLD",5520,1,15,0)
   display basic surgery case information including Patient, Case Number,
"BLD",5520,1,16,0)
   Surgery Date, and Procedure.
"BLD",5520,1,17,0)
 o The Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option will
"BLD",5520,1,18,0)
   display the following coded information:  the PRINCIPAL CPT CODE, OTHER
"BLD",5520,1,19,0)
   CPT CODE, and PRINCIPAL DIAGNOSIS CODE.
"BLD",5520,1,20,0)
 o The Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option will
"BLD",5520,1,21,0)
   allow the Reviewer to enter a free text comment field to send coding
"BLD",5520,1,22,0)
   concerns to the coder, as well as to members of a predefined mail group
"BLD",5520,1,23,0)
   identified in the CODE ISSUE MAIL GROUP parameter.
"BLD",5520,1,24,0)
 o Values for the CODING COMPLETED BY field (#.01) of the CODING 
"BLD",5520,1,25,0)
   COMPLETED BY multiple (#136.011) of the SURGERY PROCEDURE/DIAGNOSIS
"BLD",5520,1,26,0)
   CODES file (#136) or the CODE ISSUE MAIL GROUP will be present when the
"BLD",5520,1,27,0)
   user selects the Alert Coder Regarding Coding Issues [SROA CODE ISSUE]
"BLD",5520,1,28,0)
   option. If neither are valued, the user will be notified that the
"BLD",5520,1,29,0)
   message cannot be sent without one of these two items defined.
"BLD",5520,1,30,0)
 o The CODE ISSUE MAIL GROUP field (#43) is added in the SURGERY SITE
"BLD",5520,1,31,0)
   PARAMETERS file (#133) to allow the site to create a designated mail
"BLD",5520,1,32,0)
   group for the Alert Coder Regarding Coding Issues [SROA CODE ISSUE]
"BLD",5520,1,33,0)
   option.
"BLD",5520,1,34,0)
 o The Surgery Site Parameters (Enter/Edit) [SROPARAM] option within
"BLD",5520,1,35,0)
   the Surgery Package Management Menu [SRO PACKAGE MANAGEMENT] option is 
"BLD",5520,1,36,0)
   modified to allow entry and editing of the new CODE ISSUE MAIL GROUP.
"BLD",5520,1,37,0)
 
"BLD",5520,1,38,0)
2. When creating a request from a waiting list entry, the Surgery screen 
"BLD",5520,1,39,0)
server incorrectly displays "SCHEDULING" in the screen header. This patch 
"BLD",5520,1,40,0)
makes a modification to display "REQUEST" instead.
"BLD",5520,1,41,0)
 
"BLD",5520,1,42,0)
3. This patch corrects problems with the two trigger cross references that
"BLD",5520,1,43,0)
were added to the SITE field (#.01) of the SURGERY SITE PARAMETERS file
"BLD",5520,1,44,0)
(#133) by patch SR*3*150.
"BLD",5520,1,45,0)
 
"BLD",5520,1,46,0)
Note: This patch includes a post-installation process that updates each
"BLD",5520,1,47,0)
entry in the SURGERY SITE PARAMETERS file (#133) as follows:
"BLD",5520,1,48,0)
 - UPDATES TO PCE field (#18) is set to ALL CASES.
"BLD",5520,1,49,0)
 - ASK CLASSIFICATION QUESTIONS field (#19) is set to YES.  
"BLD",5520,4,0)
^9.64PA^133^1
"BLD",5520,4,133,0)
133
"BLD",5520,4,133,2,0)
^9.641^133^1
"BLD",5520,4,133,2,133,0)
SURGERY SITE PARAMETERS  (File-top level)
"BLD",5520,4,133,2,133,1,0)
^9.6411^.01^2
"BLD",5520,4,133,2,133,1,.01,0)
SITE
"BLD",5520,4,133,2,133,1,43,0)
CODE ISSUE MAIL GROUP
"BLD",5520,4,133,222)
y^y^p^^^^n^^n
"BLD",5520,4,133,224)

"BLD",5520,4,"APDD",133,133)

"BLD",5520,4,"APDD",133,133,.01)

"BLD",5520,4,"APDD",133,133,43)

"BLD",5520,4,"B",133,133)

"BLD",5520,6)
3^
"BLD",5520,"INID")
^y
"BLD",5520,"INIT")
POST^SR146UTL
"BLD",5520,"KRN",0)
^9.67PA^8989.52^19
"BLD",5520,"KRN",.4,0)
.4
"BLD",5520,"KRN",.401,0)
.401
"BLD",5520,"KRN",.402,0)
.402
"BLD",5520,"KRN",.402,"NM",0)
^9.68A^1^1
"BLD",5520,"KRN",.402,"NM",1,0)
SRPARAM    FILE #133^133^0
"BLD",5520,"KRN",.402,"NM","B","SRPARAM    FILE #133",1)

"BLD",5520,"KRN",.403,0)
.403
"BLD",5520,"KRN",.5,0)
.5
"BLD",5520,"KRN",.84,0)
.84
"BLD",5520,"KRN",3.6,0)
3.6
"BLD",5520,"KRN",3.8,0)
3.8
"BLD",5520,"KRN",9.2,0)
9.2
"BLD",5520,"KRN",9.8,0)
9.8
"BLD",5520,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",5520,"KRN",9.8,"NM",1,0)
SROACOD^^0^B17209875
"BLD",5520,"KRN",9.8,"NM",2,0)
SRSWREQ^^0^B11509762
"BLD",5520,"KRN",9.8,"NM","B","SROACOD",1)

"BLD",5520,"KRN",9.8,"NM","B","SRSWREQ",2)

"BLD",5520,"KRN",19,0)
19
"BLD",5520,"KRN",19,"NM",0)
^9.68A^3^3
"BLD",5520,"KRN",19,"NM",1,0)
SROA CODE ISSUE^^0
"BLD",5520,"KRN",19,"NM",2,0)
SROA ENTER/EDIT^^2
"BLD",5520,"KRN",19,"NM",3,0)
SROA CARDIAC ENTER/EDIT^^2
"BLD",5520,"KRN",19,"NM","B","SROA CARDIAC ENTER/EDIT",3)

"BLD",5520,"KRN",19,"NM","B","SROA CODE ISSUE",1)

"BLD",5520,"KRN",19,"NM","B","SROA ENTER/EDIT",2)

"BLD",5520,"KRN",19.1,0)
19.1
"BLD",5520,"KRN",101,0)
101
"BLD",5520,"KRN",409.61,0)
409.61
"BLD",5520,"KRN",771,0)
771
"BLD",5520,"KRN",870,0)
870
"BLD",5520,"KRN",8989.51,0)
8989.51
"BLD",5520,"KRN",8989.52,0)
8989.52
"BLD",5520,"KRN",8994,0)
8994
"BLD",5520,"KRN","B",.4,.4)

"BLD",5520,"KRN","B",.401,.401)

"BLD",5520,"KRN","B",.402,.402)

"BLD",5520,"KRN","B",.403,.403)

"BLD",5520,"KRN","B",.5,.5)

"BLD",5520,"KRN","B",.84,.84)

"BLD",5520,"KRN","B",3.6,3.6)

"BLD",5520,"KRN","B",3.8,3.8)

"BLD",5520,"KRN","B",9.2,9.2)

"BLD",5520,"KRN","B",9.8,9.8)

"BLD",5520,"KRN","B",19,19)

"BLD",5520,"KRN","B",19.1,19.1)

"BLD",5520,"KRN","B",101,101)

"BLD",5520,"KRN","B",409.61,409.61)

"BLD",5520,"KRN","B",771,771)

"BLD",5520,"KRN","B",870,870)

"BLD",5520,"KRN","B",8989.51,8989.51)

"BLD",5520,"KRN","B",8989.52,8989.52)

"BLD",5520,"KRN","B",8994,8994)

"BLD",5520,"QUES",0)
^9.62^^
"BLD",5520,"REQB",0)
^9.611^1^1
"BLD",5520,"REQB",1,0)
SR*3.0*142^2
"BLD",5520,"REQB","B","SR*3.0*142",1)

"FIA",133)
SURGERY SITE PARAMETERS
"FIA",133,0)
^SRO(133,
"FIA",133,0,0)
133P
"FIA",133,0,1)
y^y^p^^^^n^^n
"FIA",133,0,10)

"FIA",133,0,11)

"FIA",133,0,"RLRO")

"FIA",133,0,"VR")
3.0^SR
"FIA",133,133)
1
"FIA",133,133,.01)

"FIA",133,133,43)

"INIT")
POST^SR146UTL
"KRN",.402,1404,-1)
0^1
"KRN",.402,1404,0)
SRPARAM^3051101.1313^^133^^^3051101
"KRN",.402,1404,"DIAB",1,0,133,0)
3;T
"KRN",.402,1404,"DIAB",1,1,133.027,0)
.01;T
"KRN",.402,1404,"DIAB",1,1,133.028,0)
.01;T
"KRN",.402,1404,"DIAB",2,0,133,0)
6;T
"KRN",.402,1404,"DIAB",2,1,133.028,0)
1;T
"KRN",.402,1404,"DIAB",3,0,133,0)
41;T
"KRN",.402,1404,"DIAB",4,0,133,0)
9;T
"KRN",.402,1404,"DIAB",5,0,133,0)
10;T
"KRN",.402,1404,"DIAB",6,0,133,0)
11;T
"KRN",.402,1404,"DIAB",7,0,133,0)
13;T
"KRN",.402,1404,"DIAB",8,0,133,0)
29;T
"KRN",.402,1404,"DIAB",9,0,133,0)
15;T
"KRN",.402,1404,"DIAB",10,0,133,0)
17;T
"KRN",.402,1404,"DIAB",11,0,133,0)
18.5;T
"KRN",.402,1404,"DIAB",12,0,133,0)
33;T
"KRN",.402,1404,"DIAB",19,0,133,0)
28;T
"KRN",.402,1404,"DIAB",20,0,133,0)
20;T
"KRN",.402,1404,"DIAB",21,0,133,0)
21;T
"KRN",.402,1404,"DIAB",22,0,133,0)
22;T
"KRN",.402,1404,"DIAB",23,0,133,0)
23;T
"KRN",.402,1404,"DIAB",24,0,133,0)
24;T
"KRN",.402,1404,"DIAB",25,0,133,0)
25;T
"KRN",.402,1404,"DIAB",26,0,133,0)
26;T
"KRN",.402,1404,"DIAB",27,0,133,0)
27;T
"KRN",.402,1404,"DIAB",28,0,133,0)
35;T
"KRN",.402,1404,"DIAB",29,0,133,0)
37;T
"KRN",.402,1404,"DIAB",30,0,133,0)
40;T
"KRN",.402,1404,"DIAB",31,0,133,0)
42;T
"KRN",.402,1404,"DIAB",32,0,133,0)
43;T
"KRN",.402,1404,"DR",1,133)
3T~;6T~;41T~;9T~;10T~;11T~;13T~;29T~;15T~;17T~;18.5T~;33T~;Q;Q;Q;28T~;20T~;21T~;22T~;23T~;24T~;25T~;26T~;27T~;35T~;37T~;40T~;42T~;43T~;
"KRN",.402,1404,"DR",2,133.027)
.01T~;
"KRN",.402,1404,"DR",2,133.028)
.01T~;1T~;
"KRN",19,7297,-1)
2^2
"KRN",19,7297,0)
SROA ENTER/EDIT^Non-Cardiac Assessment Information (Enter/Edit)^^M^517^^^^^^^167^^1^1^^1
"KRN",19,7297,10,0)
^19.01PI^11^11
"KRN",19,7297,10,11,0)
12942^CODE^9
"KRN",19,7297,10,11,"^")
SROA CODE ISSUE
"KRN",19,7297,"U")
NON-CARDIAC ASSESSMENT INFORMA
"KRN",19,7306,-1)
2^3
"KRN",19,7306,0)
SROA CARDIAC ENTER/EDIT^Cardiac Risk Assessment Information (Enter/Edit)^^M^517^^^^^^^167^^1^1^^1
"KRN",19,7306,10,0)
^19.01IP^12^12
"KRN",19,7306,10,12,0)
12942^CODE^11
"KRN",19,7306,10,12,"^")
SROA CODE ISSUE
"KRN",19,7306,"U")
CARDIAC RISK ASSESSMENT INFORM
"KRN",19,12942,-1)
0^1
"KRN",19,12942,0)
SROA CODE ISSUE^Alert Coder Regarding Coding Issues^^R^^^^^^^^^^1^1
"KRN",19,12942,1,0)
^^4^4^3050623^
"KRN",19,12942,1,1,0)
This option is used to provide the Risk Assessment Nurse Reviewers an
"KRN",19,12942,1,2,0)
electronic method to notify coders of potential coding issues or concerns.
"KRN",19,12942,1,3,0)
The message sent will include the basic Surgery case information and
"KRN",19,12942,1,4,0)
comments specifically added by the Nurse Reviewer.
"KRN",19,12942,15)
D EXIT^SROES,EXIT^SROVAR
"KRN",19,12942,20)
D ^SROVAR Q:$D(XQUIT)  D SRA^SROES
"KRN",19,12942,22)
Q
"KRN",19,12942,25)
SROACOD
"KRN",19,12942,"U")
ALERT CODER REGARDING CODING I
"MBREQ")
0
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",167,-1)
1^1
"PKG",167,0)
SURGERY^SR^SURGICAL DATA COLLECTION AND OPERATIONS SCHEDULING
"PKG",167,20,0)
^9.402P^^
"PKG",167,22,0)
^9.49I^1^1
"PKG",167,22,1,0)
3.0^3040426^2930811
"PKG",167,22,1,"PAH",1,0)
146^3060308^517
"PKG",167,22,1,"PAH",1,1,0)
^^49^49^3060308
"PKG",167,22,1,"PAH",1,1,1,0)
1. At many sites the Risk Assessment Nurse Reviewers are involved with the
"PKG",167,22,1,"PAH",1,1,2,0)
Health Information Management Systems (HIMS) staff in determining the
"PKG",167,22,1,"PAH",1,1,3,0)
final codes for a Surgery case. An Alert Coder Option will allow the Risk
"PKG",167,22,1,"PAH",1,1,4,0)
Assessment Nurse Reviewer to alert the coder if there is a question on the
"PKG",167,22,1,"PAH",1,1,5,0)
Current Procedural Terminology (CPT) or International Classification of
"PKG",167,22,1,"PAH",1,1,6,0)
Diseases (ICD) codes on a Surgery case.
"PKG",167,22,1,"PAH",1,1,7,0)
 
"PKG",167,22,1,"PAH",1,1,8,0)
 o The new Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option
"PKG",167,22,1,"PAH",1,1,9,0)
   will appear on both the Non-Cardiac Assessment Information (Enter/Edit)
"PKG",167,22,1,"PAH",1,1,10,0)
   [SROA ENTER/EDIT] and Cardiac Risk Assessment Information (Enter/Edit) 
"PKG",167,22,1,"PAH",1,1,11,0)
   [SROA CARDIAC ENTER/EDIT] menus.
"PKG",167,22,1,"PAH",1,1,12,0)
 o The Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option will
"PKG",167,22,1,"PAH",1,1,13,0)
   not check the PFSS On/Off switch.
"PKG",167,22,1,"PAH",1,1,14,0)
 o The Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option will
"PKG",167,22,1,"PAH",1,1,15,0)
   display basic surgery case information including Patient, Case Number,
"PKG",167,22,1,"PAH",1,1,16,0)
   Surgery Date, and Procedure.
"PKG",167,22,1,"PAH",1,1,17,0)
 o The Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option will
"PKG",167,22,1,"PAH",1,1,18,0)
   display the following coded information:  the PRINCIPAL CPT CODE, OTHER
"PKG",167,22,1,"PAH",1,1,19,0)
   CPT CODE, and PRINCIPAL DIAGNOSIS CODE.
"PKG",167,22,1,"PAH",1,1,20,0)
 o The Alert Coder Regarding Coding Issues [SROA CODE ISSUE] option will
"PKG",167,22,1,"PAH",1,1,21,0)
   allow the Reviewer to enter a free text comment field to send coding
"PKG",167,22,1,"PAH",1,1,22,0)
   concerns to the coder, as well as to members of a predefined mail group
"PKG",167,22,1,"PAH",1,1,23,0)
   identified in the CODE ISSUE MAIL GROUP parameter.
"PKG",167,22,1,"PAH",1,1,24,0)
 o Values for the CODING COMPLETED BY field (#.01) of the CODING 
"PKG",167,22,1,"PAH",1,1,25,0)
   COMPLETED BY multiple (#136.011) of the SURGERY PROCEDURE/DIAGNOSIS
"PKG",167,22,1,"PAH",1,1,26,0)
   CODES file (#136) or the CODE ISSUE MAIL GROUP will be present when the
"PKG",167,22,1,"PAH",1,1,27,0)
   user selects the Alert Coder Regarding Coding Issues [SROA CODE ISSUE]
"PKG",167,22,1,"PAH",1,1,28,0)
   option. If neither are valued, the user will be notified that the
"PKG",167,22,1,"PAH",1,1,29,0)
   message cannot be sent without one of these two items defined.
"PKG",167,22,1,"PAH",1,1,30,0)
 o The CODE ISSUE MAIL GROUP field (#43) is added in the SURGERY SITE
"PKG",167,22,1,"PAH",1,1,31,0)
   PARAMETERS file (#133) to allow the site to create a designated mail
"PKG",167,22,1,"PAH",1,1,32,0)
   group for the Alert Coder Regarding Coding Issues [SROA CODE ISSUE]
"PKG",167,22,1,"PAH",1,1,33,0)
   option.
"PKG",167,22,1,"PAH",1,1,34,0)
 o The Surgery Site Parameters (Enter/Edit) [SROPARAM] option within
"PKG",167,22,1,"PAH",1,1,35,0)
   the Surgery Package Management Menu [SRO PACKAGE MANAGEMENT] option is 
"PKG",167,22,1,"PAH",1,1,36,0)
   modified to allow entry and editing of the new CODE ISSUE MAIL GROUP.
"PKG",167,22,1,"PAH",1,1,37,0)
 
"PKG",167,22,1,"PAH",1,1,38,0)
2. When creating a request from a waiting list entry, the Surgery screen 
"PKG",167,22,1,"PAH",1,1,39,0)
server incorrectly displays "SCHEDULING" in the screen header. This patch 
"PKG",167,22,1,"PAH",1,1,40,0)
makes a modification to display "REQUEST" instead.
"PKG",167,22,1,"PAH",1,1,41,0)
 
"PKG",167,22,1,"PAH",1,1,42,0)
3. This patch corrects problems with the two trigger cross references that
"PKG",167,22,1,"PAH",1,1,43,0)
were added to the SITE field (#.01) of the SURGERY SITE PARAMETERS file
"PKG",167,22,1,"PAH",1,1,44,0)
(#133) by patch SR*3*150.
"PKG",167,22,1,"PAH",1,1,45,0)
 
"PKG",167,22,1,"PAH",1,1,46,0)
Note: This patch includes a post-installation process that updates each
"PKG",167,22,1,"PAH",1,1,47,0)
entry in the SURGERY SITE PARAMETERS file (#133) as follows:
"PKG",167,22,1,"PAH",1,1,48,0)
 - UPDATES TO PCE field (#18) is set to ALL CASES.
"PKG",167,22,1,"PAH",1,1,49,0)
 - ASK CLASSIFICATION QUESTIONS field (#19) is set to YES.  
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","SR146UTL")
0^^B319135
"RTN","SR146UTL",1,0)
SR146UTL ;BIR/ADM - SR*3*146 POST-INSTALL ;01/13/06
"RTN","SR146UTL",2,0)
 ;;3.0; Surgery ;**146**;24 Jun 93
"RTN","SR146UTL",3,0)
 Q
"RTN","SR146UTL",4,0)
POST ; post-install action for SR*3*146 to update file 133
"RTN","SR146UTL",5,0)
 ; set UPDATES TO PCE field to ALL CASES
"RTN","SR146UTL",6,0)
 ; set ASK CLASSIFICATION QUESTIONS field to YES
"RTN","SR146UTL",7,0)
 N SRI
"RTN","SR146UTL",8,0)
 S SRI=0 F  S SRI=$O(^SRO(133,SRI)) Q:'SRI  I $D(^SRO(133,SRI,0)) D
"RTN","SR146UTL",9,0)
 .S $P(^SRO(133,SRI,0),"^",15)="A",$P(^SRO(133,SRI,0),"^",16)=1
"RTN","SR146UTL",10,0)
 Q
"RTN","SROACOD")
0^1^B17209875
"RTN","SROACOD",1,0)
SROACOD ;BIR/SJA - ALERT CODERS OF POTENTIAL CODING ISSUES ;03/08/06
"RTN","SROACOD",2,0)
 ;;3.0; Surgery ;**146**;24 Jun 93
"RTN","SROACOD",3,0)
 I '$D(SRTN) W !!,"A Surgery Risk Assessment must be selected prior to using this option.",!!,"Press <RET> to continue  " R X:DTIME G END
"RTN","SROACOD",4,0)
 N I,J,SRCPTP,SRLN,SRNODE0,SRPOST,SRTXT,SRSOUT,SRSUPCPT,X,XX,Y
"RTN","SROACOD",5,0)
 S SRSOUT=0,SRSUPCPT=1 D ^SROAUTL
"RTN","SROACOD",6,0)
START G:SRSOUT END K SRAOTH
"RTN","SROACOD",7,0)
 D HDR^SROAUTL
"RTN","SROACOD",8,0)
 W !,"The following ""final"" codes have been entered for the case.",!!
"RTN","SROACOD",9,0)
 S X=$P($G(^SRO(136,SRTN,0)),"^",2) I X S Y=$P($$CPT^ICPTCOD(X),"^",2) D SSPRIN^SROCPT0 S X=Y
"RTN","SROACOD",10,0)
 W "Principal CPT Code: ",$S($L(X):X,1:"NOT ENTERED") S SRCPTP=X
"RTN","SROACOD",11,0)
 N SRPROC,K,SRL
"RTN","SROACOD",12,0)
 S SRPROC(1)="",SRL=60,K=1 D OTH^SROUTLN W !,"Other CPT Codes: "_$S(SRPROC(1)="":"   NOT ENTERED",1:"")
"RTN","SROACOD",13,0)
 F I=1:1 Q:'$D(SRPROC(I))  W:I=1 ?20,$P(SRPROC(I),", ",2,99),! W:I'=1 ?20,SRPROC(I),!
"RTN","SROACOD",14,0)
 S X=$P($G(^SRO(136,SRTN,0)),"^",3) S:X X=$$ICDDX^ICDCODE(X,$P($G(^SRF(SRTN,0)),"^",9)),X=$P(X,"^",2)_"   "_$P(X,"^",4)
"RTN","SROACOD",15,0)
 W "Postop Diagnosis Code (ICD9): ",$S(X'="":X,1:"NOT ENTERED"),! S SRPOST=X
"RTN","SROACOD",16,0)
 W !!,"If you believe that the information coded is not correct and would like to",!,"alert the coders of the potential issue, enter a brief description of your",!,"concern below.",!
"RTN","SROACOD",17,0)
 D ASK G:SRSOUT END
"RTN","SROACOD",18,0)
 K ^TMP($J,"SRC")
"RTN","SROACOD",19,0)
ED W ! S DIC="^TMP($J,""SRC"",",DIWESUB="Coding Discrepancy Comments" D EN^DIWE
"RTN","SROACOD",20,0)
 I '$D(^TMP($J,"SRC")) W !,"NOTE:   You have exited the field without entering comments. ",!
"RTN","SROACOD",21,0)
 W !!,"1. Transmit Message",!,"2. Edit Text"
"RTN","SROACOD",22,0)
 W !!,"Select Number:  1//  " R X:DTIME I '$T!(X["^") S SRSOUT=1 G END
"RTN","SROACOD",23,0)
 S:X="" X=1 I X<1!(X>2)!(X'?.N) D HELP G ASK
"RTN","SROACOD",24,0)
 I X=2 G ED
"RTN","SROACOD",25,0)
MSG I '$P($G(^SRO(136,SRTN,10)),"^")&('$P($G(^SRO(133,SRSITE,7)),"^",2)) D ERR G END
"RTN","SROACOD",26,0)
 K SR,XMY S SRNODE0=$G(^SRF(SRTN,0))
"RTN","SROACOD",27,0)
 S SR(1)="Patient: "_$E(VADM(1),1,20)_$J("",30-$L(VADM(1)))_" Case #: "_SRTN
"RTN","SROACOD",28,0)
 S Y=$P(SRNODE0,"^",9) D DD^%DT S SR(2)="Operation Date: "_Y
"RTN","SROACOD",29,0)
 S SR(3)=""
"RTN","SROACOD",30,0)
 S SR(4)="The following ""final"" codes have been entered for the case."
"RTN","SROACOD",31,0)
 S DFN=$P(SRNODE0,"^") D DEM^VADPT
"RTN","SROACOD",32,0)
 S SR(5)=""
"RTN","SROACOD",33,0)
 S SR(6)="  Principal CPT Code: "_SRCPTP
"RTN","SROACOD",34,0)
 S SRLN=6 F I=1:1 Q:'$D(SRPROC(I))  S SRLN=SRLN+1 S:I=1 SR(SRLN)="  Other CPT Codes: "_$P(SRPROC(I),", ",2,99) S:I>1 SR(SRLN)=$J(SRPROC(I),$L(SRPROC(I))+19)
"RTN","SROACOD",35,0)
 S SRLN=SRLN+1,SR(SRLN)="  Postop Diagnosis Code (ICD9): "_SRPOST
"RTN","SROACOD",36,0)
 S SRLN=SRLN+1,SR(SRLN)="",SRLN=SRLN+1
"RTN","SROACOD",37,0)
 S I=0 F  S I=$O(^TMP($J,"SRC",I)) Q:'I  S SR(SRLN)=$G(^(I,0)),SRLN=SRLN+1
"RTN","SROACOD",38,0)
 S I=0 F  S I=$O(^SRO(136,SRTN,11,I)) Q:'I  S XX=$G(^(I,0)) I $P(XX,"^") S XMY($P(XX,"^"))=""
"RTN","SROACOD",39,0)
 S XMY(DUZ)=""
"RTN","SROACOD",40,0)
 S X=$P($G(^SRO(133,SRSITE,7)),"^",2) I X S X=$$GET1^DIQ(3.8,X,.01) S:X]"" XMY("G."_X)=""
"RTN","SROACOD",41,0)
 S XMSUB="Surgery Coding Issues" D NOW^%DTC S Y=% X ^DD("DD")
"RTN","SROACOD",42,0)
 S XMTEXT="SR(" D ^XMD K XMTEXT,XMY,XMSUB,^TMP($J,"SRC")
"RTN","SROACOD",43,0)
 W !!,"Transmitting message..."
"RTN","SROACOD",44,0)
 Q
"RTN","SROACOD",45,0)
ASK K DIR S DIR(0)="Y",DIR("A")="Do you want to alert the coders (Y/N)",DIR("B")="YES" D ^DIR S:'Y SRSOUT=1
"RTN","SROACOD",46,0)
 Q
"RTN","SROACOD",47,0)
END S:SRSOUT SRSOUT=0 W @IOF D ^SRSKILL
"RTN","SROACOD",48,0)
 Q
"RTN","SROACOD",49,0)
HELP W !!,"Enter <RET> or '1' to Transmit Message ",!,", enter '2' to Edit the text."
"RTN","SROACOD",50,0)
 W !!,"Press <RET> to continue  " R X:DTIME
"RTN","SROACOD",51,0)
 Q
"RTN","SROACOD",52,0)
ERR ;The Coding Issue Alert cannot be created at this time
"RTN","SROACOD",53,0)
 D EN^DDIOL("The information needed to send a code issue mail message is",,"!!")
"RTN","SROACOD",54,0)
 D EN^DDIOL("not entered.  Because the coding is not completed, no coder",,"!")
"RTN","SROACOD",55,0)
 D EN^DDIOL("is identified. Also, there is no mail group identified in the",,"!")
"RTN","SROACOD",56,0)
 D EN^DDIOL("CODE ISSUE MAIL GROUP site parameter.",,"!")
"RTN","SROACOD",57,0)
 D EN^DDIOL("To send a coding issue message the case must have either the",,"!!")
"RTN","SROACOD",58,0)
 D EN^DDIOL("coder or mail group identified.",,"!")
"RTN","SROACOD",59,0)
 W ! K DIR S DIR(0)="FOA",DIR("A")="Press RETURN to continue  " D ^DIR K DIR
"RTN","SROACOD",60,0)
 Q
"RTN","SRSWREQ")
0^2^B11509762^B11428787
"RTN","SRSWREQ",1,0)
SRSWREQ ;BIR/MAM - REQUEST FROM WAITING LIST ;08/11/05
"RTN","SRSWREQ",2,0)
 ;;3.0; Surgery ;**58,77,105,146**;24 Jun 93
"RTN","SRSWREQ",3,0)
 S SRWL=1,SRSOUT=0 I $D(ORVP) S (DFN,SRSDPT)=+ORVP G DEAD
"RTN","SRSWREQ",4,0)
 W @IOF,! K DIC S DIC=2,DIC(0)="QEAMZ",DIC("A")="Make a request from the waiting list for which patient ?  " D ^DIC K DIC I Y<0 S SRSOUT=1 G END
"RTN","SRSWREQ",5,0)
 S (DFN,SRSDPT)=+Y
"RTN","SRSWREQ",6,0)
DEAD D DEM^VADPT S SRNM=VADM(1),SRSSN=VA("PID")
"RTN","SRSWREQ",7,0)
 I $D(^DPT(DFN,.35)),$P(^(.35),"^")'="" S Y=$E($P(^(.35),"^"),1,7) D D^DIQ W !!,"The records show that "_SRNM_" died on "_Y_".",! G END
"RTN","SRSWREQ",8,0)
 I '$O(^SRO(133.8,"AP",DFN,0)) W !!,"There are no entries on the Waiting List for "_SRNM_"." G END
"RTN","SRSWREQ",9,0)
LIST W @IOF,!,"Procedures Entered on the Waiting List for "_SRNM_": ",!! K SRW S (CNT,SRSS)=0
"RTN","SRSWREQ",10,0)
 F  S SRSS=$O(^SRO(133.8,"AP",DFN,SRSS)) Q:'SRSS  S SROFN=0 F  S SROFN=$O(^SRO(133.8,"AP",DFN,SRSS,SROFN)) Q:'SROFN  D ARRAY
"RTN","SRSWREQ",11,0)
 I '$D(SRW(2)) S SRW=1 D OK G:"Yy"[SRYN REQ S SRSOUT=1 G END
"RTN","SRSWREQ",12,0)
 W !!!,"Select Number: " R SRW:DTIME I '$T!("^"[SRW) S SRSOUT=1 G END
"RTN","SRSWREQ",13,0)
 I '$D(SRW(SRW)) W !!,"Select the number corresponding to the entry for which the request will",!,"be made.",!!,"Press RETURN to continue  " R X:DTIME G LIST
"RTN","SRSWREQ",14,0)
REQ S SRSOTH=0
"RTN","SRSWREQ",15,0)
 D LFTOVR^SRSREQUT I SRSOTH S SRSOUT=1 G END
"RTN","SRSWREQ",16,0)
DATE W ! K %DT S %DT="AEFX",%DT("A")="Make a request for which Date ?  " D ^%DT I Y<0 S SRSOUT=1 G END
"RTN","SRSWREQ",17,0)
 S SRSDATE=+Y,SRSST=0 I SRSDATE<DT W !!,"Requests cannot be made for past dates.",!!,"Press RETURN to continue  " G DATE
"RTN","SRSWREQ",18,0)
 D D^DIQ S SREQDT=Y
"RTN","SRSWREQ",19,0)
 K SRLATE D LATE^SRSREQ I $D(SRLATE) G DATE
"RTN","SRSWREQ",20,0)
 S SRSS=$P(SRW(SRW),"^"),SRSOP=$P(SRW(SRW),"^",5) F SRI=6:1:12 S SRCL(SRI+10)=$P(SRW(SRW),"^",SRI)
"RTN","SRSWREQ",21,0)
 K DIR I $D(ORNP) S DIR("B")=$P(^VA(200,ORNP,0),"^")
"RTN","SRSWREQ",22,0)
 S ST="REQUEST"
"RTN","SRSWREQ",23,0)
 D ^SRSRQST
"RTN","SRSWREQ",24,0)
END I 'SRSOUT W ! K DIR S DIR(0)="FOA",DIR("A")="Press RETURN to continue: " D ^DIR
"RTN","SRSWREQ",25,0)
 K SRTN D ^SRSKILL W @IOF
"RTN","SRSWREQ",26,0)
 Q
"RTN","SRSWREQ",27,0)
ARRAY ; set array for waiting list info
"RTN","SRSWREQ",28,0)
 S CNT=CNT+1,SRSER=$P(^SRO(133.8,SRSS,0),"^"),SRSERV=$P(^SRO(137.45,SRSER,0),"^")
"RTN","SRSWREQ",29,0)
 S SROPER=$P(^SRO(133.8,SRSS,1,SROFN,0),"^",2),Y=$P(^(0),"^",3) D D^DIQ S SRDT=$E(Y,1,12),SRW(CNT)=SRSER_"^"_SROFN_"^"_SRSERV_"^"_SRDT_"^"_SROPER_"^"_$P(^SRO(133.8,SRSS,1,SROFN,0),"^",16,22)
"RTN","SRSWREQ",30,0)
 W !,CNT_". "_SRSERV,?40,"Date Entered on List: "_SRDT,!,?3,SROPER,!
"RTN","SRSWREQ",31,0)
 Q
"RTN","SRSWREQ",32,0)
OK W !!,"Is this the correct procedure ?  YES//  " R SRYN:DTIME I '$T!(SRYN["^") S SRYN="N" Q
"RTN","SRSWREQ",33,0)
 S SRYN=$E(SRYN) S:SRYN="" SRYN="Y" I "YyNn"'[SRYN W !!,"Enter RETURN if this is the procedure that you would like to make into a",!,"request.  Otherwise, enter 'NO'." G OK
"RTN","SRSWREQ",34,0)
 Q
"VER")
8.0^22.0
"^DD",133,133,.01,0)
SITE^RP4'^DIC(4,^0;1^Q
"^DD",133,133,.01,.1)
Site/Division
"^DD",133,133,.01,1,0)
^.1
"^DD",133,133,.01,1,1,0)
133^B
"^DD",133,133,.01,1,1,1)
S ^SRO(133,"B",$E(X,1,30),DA)=""
"^DD",133,133,.01,1,1,2)
K ^SRO(133,"B",$E(X,1,30),DA)
"^DD",133,133,.01,1,2,0)
^^TRIGGER^133^18
"^DD",133,133,.01,1,2,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRO(133,D0,0)):^(0),1:"") S X=$P(Y(1),U,15),X=X S DIU=X K Y S X=DIV S X="A" S DIH=$G(^SRO(133,DIV(0),0)),DIV=X S $P(^(0),U,15)=DIV,DIH=133,DIG=18 D ^DICR
"^DD",133,133,.01,1,2,2)
Q
"^DD",133,133,.01,1,2,"%D",0)
^.101^2^2^3060113^^^
"^DD",133,133,.01,1,2,"%D",1,0)
The trigger on the SITE field stuffs the UPDATES TO PCE field with "A" 
"^DD",133,133,.01,1,2,"%D",2,0)
for ALL CASES.
"^DD",133,133,.01,1,2,"CREATE VALUE")
S X="A"
"^DD",133,133,.01,1,2,"DELETE VALUE")
NO EFFECT
"^DD",133,133,.01,1,2,"DT")
3060113
"^DD",133,133,.01,1,2,"FIELD")
UPDATES TO PCE
"^DD",133,133,.01,1,3,0)
^^TRIGGER^133^19
"^DD",133,133,.01,1,3,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRO(133,D0,0)):^(0),1:"") S X=$P(Y(1),U,16),X=X S DIU=X K Y S X=DIV S X=1 S DIH=$G(^SRO(133,DIV(0),0)),DIV=X S $P(^(0),U,16)=DIV,DIH=133,DIG=19 D ^DICR
"^DD",133,133,.01,1,3,2)
Q
"^DD",133,133,.01,1,3,"%D",0)
^^2^2^3060113^
"^DD",133,133,.01,1,3,"%D",1,0)
The trigger on the SITE field stuffs the ASK CLASSIFICATION QUESTIONS
"^DD",133,133,.01,1,3,"%D",2,0)
field with "1" for YES.
"^DD",133,133,.01,1,3,"CREATE VALUE")
S X=1
"^DD",133,133,.01,1,3,"DELETE VALUE")
NO EFFECT
"^DD",133,133,.01,1,3,"DT")
3060113
"^DD",133,133,.01,1,3,"FIELD")
ASK CLASSIFICATION QUESTIONS
"^DD",133,133,.01,3)

"^DD",133,133,.01,21,0)
^.001^4^4^3051003^^^
"^DD",133,133,.01,21,1,0)
This is the institution responsible for the Surgery service.  If the
"^DD",133,133,.01,21,2,0)
facility is multi-divisional, there will be more than one entry in
"^DD",133,133,.01,21,3,0)
this file.
"^DD",133,133,.01,21,4,0)
 
"^DD",133,133,.01,"DEL",1,0)
N SRX S SRX=$C(7)_"Deletion from this file is not allowed !!" D EN^DDIOL(SRX) I 1
"^DD",133,133,.01,"DT")
3060113
"^DD",133,133,43,0)
CODE ISSUE MAIL GROUP^P3.8'^XMB(3.8,^7;2^Q
"^DD",133,133,43,.1)
Code Issue Mail Group
"^DD",133,133,43,3)
Enter the name of the mail group that will receive all coding issue messages.
"^DD",133,133,43,21,0)
^^5^5^3050623^
"^DD",133,133,43,21,1,0)
This is the name of the mail group that will receive all coding issue 
"^DD",133,133,43,21,2,0)
messages sent by the Risk Assessment Nurse Reviewer. 
"^DD",133,133,43,21,3,0)
When the Non-Cardiac and Cardiac Risk Assessment option Alert Coder
"^DD",133,133,43,21,4,0)
Regarding Coding Issues is used, a mail message is sent to the person 
"^DD",133,133,43,21,5,0)
that coded the Surgery case and the mail group identified in this field.
"^DD",133,133,43,"DT")
3050623
"BLD",5520,6)
^146
**END**
**END**
