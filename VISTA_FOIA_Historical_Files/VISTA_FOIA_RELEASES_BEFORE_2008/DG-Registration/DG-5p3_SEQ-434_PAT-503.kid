EMERGENCY Released DG*5.3*503 SEQ #434
Extracted from mail message
**KIDS**:DG*5.3*503^

**INSTALL NAME**
DG*5.3*503
"BLD",4226,0)
DG*5.3*503^REGISTRATION^0^3030226^y
"BLD",4226,4,0)
^9.64PA^27.11^1
"BLD",4226,4,27.11,0)
27.11
"BLD",4226,4,27.11,2,0)
^9.641^27.11^1
"BLD",4226,4,27.11,2,27.11,0)
PATIENT ENROLLMENT  (File-top level)
"BLD",4226,4,27.11,2,27.11,1,0)
^9.6411^.04^1
"BLD",4226,4,27.11,2,27.11,1,.04,0)
ENROLLMENT STATUS
"BLD",4226,4,27.11,222)
y^y^p^^^^n^^n
"BLD",4226,4,27.11,224)

"BLD",4226,4,"APDD",27.11,27.11)

"BLD",4226,4,"APDD",27.11,27.11,.04)

"BLD",4226,4,"B",27.11,27.11)

"BLD",4226,"ABPKG")
n
"BLD",4226,"KRN",0)
^9.67PA^8989.52^19
"BLD",4226,"KRN",.4,0)
.4
"BLD",4226,"KRN",.401,0)
.401
"BLD",4226,"KRN",.402,0)
.402
"BLD",4226,"KRN",.403,0)
.403
"BLD",4226,"KRN",.5,0)
.5
"BLD",4226,"KRN",.84,0)
.84
"BLD",4226,"KRN",3.6,0)
3.6
"BLD",4226,"KRN",3.8,0)
3.8
"BLD",4226,"KRN",9.2,0)
9.2
"BLD",4226,"KRN",9.8,0)
9.8
"BLD",4226,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4226,"KRN",9.8,"NM",1,0)
DGENDD^^0^B5152913
"BLD",4226,"KRN",9.8,"NM","B","DGENDD",1)

"BLD",4226,"KRN",19,0)
19
"BLD",4226,"KRN",19.1,0)
19.1
"BLD",4226,"KRN",101,0)
101
"BLD",4226,"KRN",409.61,0)
409.61
"BLD",4226,"KRN",771,0)
771
"BLD",4226,"KRN",870,0)
870
"BLD",4226,"KRN",8989.51,0)
8989.51
"BLD",4226,"KRN",8989.52,0)
8989.52
"BLD",4226,"KRN",8994,0)
8994
"BLD",4226,"KRN","B",.4,.4)

"BLD",4226,"KRN","B",.401,.401)

"BLD",4226,"KRN","B",.402,.402)

"BLD",4226,"KRN","B",.403,.403)

"BLD",4226,"KRN","B",.5,.5)

"BLD",4226,"KRN","B",.84,.84)

"BLD",4226,"KRN","B",3.6,3.6)

"BLD",4226,"KRN","B",3.8,3.8)

"BLD",4226,"KRN","B",9.2,9.2)

"BLD",4226,"KRN","B",9.8,9.8)

"BLD",4226,"KRN","B",19,19)

"BLD",4226,"KRN","B",19.1,19.1)

"BLD",4226,"KRN","B",101,101)

"BLD",4226,"KRN","B",409.61,409.61)

"BLD",4226,"KRN","B",771,771)

"BLD",4226,"KRN","B",870,870)

"BLD",4226,"KRN","B",8989.51,8989.51)

"BLD",4226,"KRN","B",8989.52,8989.52)

"BLD",4226,"KRN","B",8994,8994)

"BLD",4226,"QUES",0)
^9.62^^
"BLD",4226,"REQB",0)
^9.611^1^1
"BLD",4226,"REQB",1,0)
DG*5.3*491^2
"BLD",4226,"REQB","B","DG*5.3*491",1)

"FIA",27.11)
PATIENT ENROLLMENT
"FIA",27.11,0)
^DGEN(27.11,
"FIA",27.11,0,0)
27.11OID
"FIA",27.11,0,1)
y^y^p^^^^n^^n
"FIA",27.11,0,10)

"FIA",27.11,0,11)

"FIA",27.11,0,"RLRO")

"FIA",27.11,0,"VR")
5.3^DG
"FIA",27.11,27.11)
1
"FIA",27.11,27.11,.04)

"MBREQ")
0
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,20,0)
^9.402P^^
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2930813
"PKG",5,22,1,"PAH",1,0)
503^3030226
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","DGENDD")
0^1^B5152913
"RTN","DGENDD",1,0)
DGENDD ;ALB/CJM,JAN,LBD - Enrollment Data Dictionary Functions; 13 JUN 1997;6-28-01
"RTN","DGENDD",2,0)
 ;;5.3;Registration;**121,351,503**;Aug 13,1993
"RTN","DGENDD",3,0)
 ;
"RTN","DGENDD",4,0)
SET1(DFN,DGENRIEN) ;
"RTN","DGENDD",5,0)
 ;Description: sets the "AENRC" X-ref on the patient file
"RTN","DGENDD",6,0)
 ;Inputs:
"RTN","DGENDD",7,0)
 ;  DFN - the patient ien
"RTN","DGENDD",8,0)
 ;  DGENRIEN - ien of current enrollment
"RTN","DGENDD",9,0)
 ;
"RTN","DGENDD",10,0)
 Q:'$G(DGENRIEN)
"RTN","DGENDD",11,0)
 Q:'$G(DFN)
"RTN","DGENDD",12,0)
 ;
"RTN","DGENDD",13,0)
 N STATUS
"RTN","DGENDD",14,0)
 S STATUS=$P($G(^DGEN(27.11,DGENRIEN,0)),"^",4)
"RTN","DGENDD",15,0)
 S:STATUS ^DPT("AENRC",STATUS,DFN)=""
"RTN","DGENDD",16,0)
 ;
"RTN","DGENDD",17,0)
 Q
"RTN","DGENDD",18,0)
 ;
"RTN","DGENDD",19,0)
KILL1(DFN) ;
"RTN","DGENDD",20,0)
 ;Description: This is the kill logic that corresponds to SET1.
"RTN","DGENDD",21,0)
 ;Input: DFN is the patient ien
"RTN","DGENDD",22,0)
 ;
"RTN","DGENDD",23,0)
 Q:'$G(DFN)
"RTN","DGENDD",24,0)
 ;
"RTN","DGENDD",25,0)
 N DGSTATUS,STATUS
"RTN","DGENDD",26,0)
 S DGSTATUS=$P(^DGEN(27.15,0),U,3)
"RTN","DGENDD",27,0)
 F STATUS=1:1:DGSTATUS K ^DPT("AENRC",STATUS,DFN)
"RTN","DGENDD",28,0)
 Q
"RTN","DGENDD",29,0)
 ;
"RTN","DGENDD",30,0)
SET2(DGENRIEN,STATUS) ;
"RTN","DGENDD",31,0)
 ;Description: This MUMPS x-ref on the Patient Enrollment file sets the
"RTN","DGENDD",32,0)
 ;  "AENRC" X-ref on the patient file.
"RTN","DGENDD",33,0)
 ;Inputs:
"RTN","DGENDD",34,0)
 ;  DGENRIEN - enrollment ien
"RTN","DGENDD",35,0)
 ;  STATUS - the enrollment status
"RTN","DGENDD",36,0)
 ;
"RTN","DGENDD",37,0)
 Q:'$G(DGENRIEN)
"RTN","DGENDD",38,0)
 Q:'$G(STATUS)
"RTN","DGENDD",39,0)
 ;
"RTN","DGENDD",40,0)
 N DFN
"RTN","DGENDD",41,0)
 S DFN=$P($G(^DGEN(27.11,DGENRIEN,0)),"^",2)
"RTN","DGENDD",42,0)
 Q:'DFN
"RTN","DGENDD",43,0)
 I $$FINDCUR^DGENA(DFN)=DGENRIEN D
"RTN","DGENDD",44,0)
 .S ^DPT("AENRC",STATUS,DFN)=""
"RTN","DGENDD",45,0)
 ;
"RTN","DGENDD",46,0)
 Q
"RTN","DGENDD",47,0)
 ;
"RTN","DGENDD",48,0)
KILL2(DGENRIEN,STATUS) ;
"RTN","DGENDD",49,0)
 ;Description: This is the kill logic that corresponds to SET2.
"RTN","DGENDD",50,0)
 ;Inputs:
"RTN","DGENDD",51,0)
 ;  DGENRIEN - enrollment ien
"RTN","DGENDD",52,0)
 ;  STATUS - the enrollment status
"RTN","DGENDD",53,0)
 ;
"RTN","DGENDD",54,0)
 Q:'$G(DGENRIEN)
"RTN","DGENDD",55,0)
 Q:'$G(STATUS)
"RTN","DGENDD",56,0)
 ;
"RTN","DGENDD",57,0)
 N DFN
"RTN","DGENDD",58,0)
 S DFN=$P($G(^DGEN(27.11,DGENRIEN,0)),"^",2)
"RTN","DGENDD",59,0)
 Q:'DFN
"RTN","DGENDD",60,0)
 I $$FINDCUR^DGENA(DFN)=DGENRIEN D
"RTN","DGENDD",61,0)
 .K ^DPT("AENRC",STATUS,DFN)
"RTN","DGENDD",62,0)
 Q
"RTN","DGENDD",63,0)
 ;
"RTN","DGENDD",64,0)
SETREM(DGENRIEN,STATUS) ;
"RTN","DGENDD",65,0)
 ;This set logic is called by the Enrollment Status field (#.04) in 
"RTN","DGENDD",66,0)
 ;the Patient Enrollment file (#27.11).  If the Enrollment Status
"RTN","DGENDD",67,0)
 ;contains the word REJECTED, then "**REJECTED**" will be stuffed
"RTN","DGENDD",68,0)
 ;into the Remarks field (#.091) of the Patient file (#2).  If the
"RTN","DGENDD",69,0)
 ;Enrollment Status does not contain REJECTED, then the word
"RTN","DGENDD",70,0)
 ;"**REJECTED**" will be removed.
"RTN","DGENDD",71,0)
 ;Input:
"RTN","DGENDD",72,0)
 ;  DGENRIEN - IEN of the enrollment record
"RTN","DGENDD",73,0)
 ;  STATUS - enrollment status
"RTN","DGENDD",74,0)
 ;
"RTN","DGENDD",75,0)
 Q:'$G(DGENRIEN)
"RTN","DGENDD",76,0)
 Q:'$G(STATUS)
"RTN","DGENDD",77,0)
 ;
"RTN","DGENDD",78,0)
 N DFN,REM
"RTN","DGENDD",79,0)
 S DFN=$P($G(^DGEN(27.11,DGENRIEN,0)),U,2)
"RTN","DGENDD",80,0)
 Q:'DFN  Q:$G(^DPT(DFN,0))=""
"RTN","DGENDD",81,0)
 L +^DPT(DFN,0):5 I '$T Q
"RTN","DGENDD",82,0)
 S REM=$P(^DPT(DFN,0),U,10)
"RTN","DGENDD",83,0)
 ;The enrollment status contains REJECTED, set REMARKS
"RTN","DGENDD",84,0)
 I "^11^12^13^14^22^"[(U_STATUS_U) D  G SETREMQ
"RTN","DGENDD",85,0)
 . I REM["**REJECTED**" Q  ;Remarks already contain REJECTED
"RTN","DGENDD",86,0)
 . S REM=REM_"**REJECTED**"
"RTN","DGENDD",87,0)
 . S $P(^DPT(DFN,0),U,10)=REM
"RTN","DGENDD",88,0)
 ;The enrollment status does not contain REJECTED, remove REMARKS
"RTN","DGENDD",89,0)
 I REM'["**REJECTED**" G SETREMQ
"RTN","DGENDD",90,0)
 S REM=$P(REM,"**REJECTED**",1)_$P(REM,"**REJECTED**",2,99)
"RTN","DGENDD",91,0)
 S $P(^DPT(DFN,0),U,10)=REM
"RTN","DGENDD",92,0)
SETREMQ L -^DPT(DFN,0)
"RTN","DGENDD",93,0)
 Q
"VER")
8.0^22
"^DD",27.11,27.11,.04,0)
ENROLLMENT STATUS^RP27.15'IX^DGEN(27.15,^0;4^Q
"^DD",27.11,27.11,.04,1,0)
^.1
"^DD",27.11,27.11,.04,1,1,0)
27.11^AENRC^MUMPS
"^DD",27.11,27.11,.04,1,1,1)
D SET2^DGENDD(DA,X)
"^DD",27.11,27.11,.04,1,1,2)
D KILL2^DGENDD(DA,X)
"^DD",27.11,27.11,.04,1,1,3)
DO NOT DELETE
"^DD",27.11,27.11,.04,1,1,"%D",0)
^^7^7^2970829^^^^
"^DD",27.11,27.11,.04,1,1,"%D",1,0)
This index sorts the patients by their current enrollment status.
"^DD",27.11,27.11,.04,1,1,"%D",2,0)
The CURRENT ENROLLMENT field of the PATIENT file also triggers this
"^DD",27.11,27.11,.04,1,1,"%D",3,0)
cross-reference.
"^DD",27.11,27.11,.04,1,1,"%D",4,0)

"^DD",27.11,27.11,.04,1,1,"%D",5,0)
The format of the index is:
"^DD",27.11,27.11,.04,1,1,"%D",6,0)

"^DD",27.11,27.11,.04,1,1,"%D",7,0)
^DPT("AENRC",<current enrollment status>,<DFN>)=""
"^DD",27.11,27.11,.04,1,1,"DT")
2970619
"^DD",27.11,27.11,.04,1,2,0)
27.11^AC^MUMPS
"^DD",27.11,27.11,.04,1,2,1)
D SETREM^DGENDD(DA,X)
"^DD",27.11,27.11,.04,1,2,2)
D SETREM^DGENDD(DA,X)
"^DD",27.11,27.11,.04,1,2,"%D",0)
^.101^6^6^3030226^^
"^DD",27.11,27.11,.04,1,2,"%D",1,0)
This cross-reference calls an API that will update the Remarks field #.091
"^DD",27.11,27.11,.04,1,2,"%D",2,0)
of the Patient file #2 depending on the value of the enrollment status.
"^DD",27.11,27.11,.04,1,2,"%D",3,0)
If the enrollment status contains the word REJECTED, then the Remarks
"^DD",27.11,27.11,.04,1,2,"%D",4,0)
field will be updated with the message **REJECTED**.  If the enrollment
"^DD",27.11,27.11,.04,1,2,"%D",5,0)
status is not a Rejected status then the message **REJECTED** will be
"^DD",27.11,27.11,.04,1,2,"%D",6,0)
removed from the Remarks field.
"^DD",27.11,27.11,.04,1,2,"DT")
3030225
"^DD",27.11,27.11,.04,3)
Enter the status of the application for enrollment.
"^DD",27.11,27.11,.04,21,0)
^^1^1^2990507^^^^
"^DD",27.11,27.11,.04,21,1,0)
The status of an application for enrollment.
"^DD",27.11,27.11,.04,"DT")
3030225
**END**
**END**
