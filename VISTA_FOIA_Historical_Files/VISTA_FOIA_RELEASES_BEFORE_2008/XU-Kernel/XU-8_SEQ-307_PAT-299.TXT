$TXT Created by METCALF,ROGER at VAB-RAD.FO-OAKLAND.MED.VA.GOV  (KIDS) on TUESDAY, 04/26/05 at 13:25
=============================================================================
Run Date: MAY 17, 2005                     Designation: XU*8*299
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #307                      Status: Released
                  Compliance Date: JUN 17, 2005
=============================================================================

Associated patches: (v)XU*8*261    <<= must be installed BEFORE `XU*8*299'

Subject: MFS Enhancement

Category: 
  - Data Dictionary
  - Routine
  - Enhancement (Mandatory)

Description:
============

 IMPORTANT: follow all installation instructions!  In particular,
 you must edit and enable the XUMF ACK logical link immediately
 after installing the patch.
  
 The purpose of this patch is to extend the Master File Server (MFS)
 mechanism to support multiple standard files.  The patch introduces
 the MASTER FILE PARAMETERS file (#4.001).  The file holds data type
 (data type = a standard file) parameters such as mapping HL7 segment
 fields and components to FileMan fields, pre/post update sub-routine
 calls, post-processing logic, HL7 data types, and Primary Key Value
 value definitions.
  
 The following components are provided:
 --------------------------------------
  
   PROTOCOLS:
     DS Pub Man~~L      Master File Notification
     DTS Term Srv~~L    DTS Terminology Server
     XUMF MFP MFQ       Master File Parameters 
     XUMF MFP MFR       Master File Parameters Query Response
     XUMF MFS           MFS handler
     XUMFX MFQ          MFS query
     XUMFX MFR          MFS query response
     XUMFX SERVER       Master File Notification (VistA-to-VistA)
  
   HL7 APPLICATION PARAMETERS:
     DS Pub Man~~L      Master File Notification
     DTS Term Srv~~L    DTS Terminology Server
     XUMF MFP MFQ       Master File Parameters 
     XUMF MFP MFR       Master File Parameters Query Response
     XUMF MFS           MFS handler
     XUMFX MFQ          MFS query
     XUMFX MFR          MFS query response
     XUMFX SERVER       Master File Notification (VistA-to-VistA)
  
   HL LOGICAL LINK:
     XUMF ACK           MFS application acknowledgement
  
   MAIL GROUP:
     XUMF ERROR         MFS update error notifications
  
 Data Dictionary
 ===============
  
 MASTER FILE PARAMETERS (#4.001) file
 ------------------------------------
  
 MASTER FILE                    4.001,.01    POINTER FILE FILE (#1) 
 The file to be supported by the Master File Server (MFS) mechanism. 
  
 SEGMENT                      4.001,.02      FREE TEXT 
 The 3 character data segment label.  
  
 MFI CODE                       4.001,.03    FREE TEXT 
 This field holds the value that uniquely identifies the standard file.
  
 PRE-UPDATE ROUTINE             4.001,.04    FREE TEXT 
 The label of sub-routine in XUMFR to be executed prior to the MFS update. 
  
 POST-UPDATE ROUTINE            4.001,.05    FREE TEXT 
 The label of sub-routine in XUMFR to be executed after MFS updates. 
  
 MAIL GROUP                     4.001,.06    POINTER MAIL GROUP FILE (#3.8) 
 The mail group that will receive update notifications. 
  
 COLUMN                         4.001,1     4.011  
    Multiple 
  
   COLUMN DESCRIPTION           4.011,.01    FREE TEXT 
   Answer must be 1-40 characters in length.
  
   FIELD NUMBER                 4.011,.02    NUMBER 
   The field number for the data element. 
  
   HL7 DATA TYPE                4.011,.03    POINTER HL7 DATA TYPE (#771.4) 
   The HL7 data type. 
  
   SUBFILE NUMBER               4.011,.04    NUMBER 
   If multiple field, enter sub-file number. 
  
   SUBFILE LKUP LITERAL         4.011,.05    FREE TEXT 
   If subfile and .01 not in HL7 segment, enter literal value of the .01 
  
   SUBFILE LKUP SEQUENCE        4.011,.06    NUMBER 
   If multiple, enter the .01 sequence number. 
  
   EXTENDED POINTER LKUP        4.011,.07    NUMBER 
   The field number which is the key to the extended reference of FIELD
   NAME if other than .01 
  
   COLUMN LENGTH                4.011,.09    NUMBER 
   Type the maximum column width 
  
   REPEATING FIELD              4.011,.11    SET 
                                           '1' FOR YES;
                                           '0' FOR NO;
  
   CLEAN MULTIPLE               4.011,.12    SET 
                                           '1' FOR YES;
                                           '0' FOR NO;
   delete existing values before updating 
  
   VUID PREFIX                  4.011,.13    FREE TEXT         
   Enter string (i.e. "VUID") to indicate VUID value is passed instead of 
   VALUE
  
   TIME ZONE FLAG               4.011,.14    SET 
                                           'L' FOR LOCAL;
                                           'U' FOR UTC;
                                       Should the local or UTC time be filed?
  
 MFE ID FIELD                   4.001,4.1     NUMBER 
 The field # that corresponds to the PKV id. 
  
 MFE ID TYPE                    4.001,4.11    POINTER HL7 DATA TYPE (#771.4)
 The HL7 data type. 
  
 MFE TEXT TYPE                  4.001,4.12    POINTER HL7 DATA TYPE (#771.4)
 The HL7 data type. 
  
 MFE ALT ID TYPE                4.001,4.14    POINTER HL7 DATA TYPE (#771.4)
 The HL7 data type. 
  
 MFE ALT TEXT TYPE              4.001,4.15    POINTER HL7 DATA TYPE (#771.4) 
 The HL7 data type. 
  
 MFE PRE-UPDATE ROUTINE         4.001,4.16    FREE TEXT 
 The subroutine label that executes prior to MFE. 
  
 MFE POST-UPDATE ROUTINE        4.001,4.17    FREE TEXT 
 The subroutine label that executes after the MFE segment. 
  
 MFE TEXT FIELD                 4.001,4.2    NUMBER 
 The field # that corresponds to the PKV text. 
  
 MFE CODSYS                     4.001,4.3    FREE TEXT           
 The coding system for the MFE ID. 
  
 MFE ALT ID FIELD               4.001,4.4    NUMBER 
 The field # that corresponds to the PKV alternate id. 
  
 MFE ALT TEXT FIELD             4.001,4.5    NUMBER 
 The field # that corresponds to the PKV alternate text. 
  
 MFE ALT CODSYS                 4.001,4.6    FREE TEXT       
 The alternate coding system of the PKV. 
  
 MFE PKV TYPE                   4.001,4.7    POINTER 
 The PKV type (i.e., CE or PL) CE or Composite Element is standard. 
  
 MFE PKV X-REF                  4.001,4.8    FREE TEXT 
 Enter the FM x-ref of the PKV alt id.
  
 ASSIGNING AUTHORITY            4.001,4.9    FREE TEXT 
 The entity responsible for assigning IDs for coding system. 
  
 Blood Bank Team Coordination
 ============================
  
 Clearance - 04/06/05
  
  
 List of Test Sites
 ==================
  
 Martinsburg (Cache/VMS),
 Heartland-East HCS (Cache/VMS) 
 Cheyenne (Cache/VMS)
  
  
 Routine Summary
 ===============
  
 The following routines are included in this patch.  The second line of 
 each of these routines now looks like:
  ;;8.0;KERNEL;299;Jul 10, 1995
  
 Checksums:
 =========
  
 Sites should use CHECK^XTSUMBLD to verify checksums. 
  
    Rtn Nm      Chksum Before       Chksum After       Patch List
    ------      -------------       ------------       ----------
  
    XUMF299     new                  700234             **299** 
    XUMFHPQ     new                 5276434             **299**
    XUMFHPR     new                 2066793             **299**
    XUMFPOST    new                  469281             **299**
    XUMFX       new                 5189423             **299**
    XUMFXACK    new                  514734             **299**
    XUMFXH      new                 9996897             **299**
    XUMFXHL7    new                 1765969             **299**
    XUMFXI      new                 8801744             **299**
    XUMFXP      new                 2279436             **299**
    XUMFXP1     new                 4026733             **299**
    XUMFXP2     new                 2934306             **299**
    XUMFXR      new                 2562947             **299**
  
  
 Installation Instructions:
 ==========================
  
 The patch can be installed at anytime.  Install time should not take more
 than two minutes.
  
 1.  Users ARE allowed to be on the system during the installation. 
  
 2.  DSM/AXP sites: These routines are not usually mapped, so you will
 probably not have to disable mapping. 
  
 3.  You DO NOT need to stop TaskMan or the background filers.
  
 4.  Use the "INSTALL/CHECK MESSAGE" option on the PackMan menu. This loads 
 the patch into a Transport Global onto your system. 
  
 5.  On the KIDS menu, select the "Installation" menu and use the following 
 options to install the Transport Global: 
  
            Verify Checksums in Transport Global
            Print Transport Global 
            Compare Transport Global to Current System
            Backup a Transport Global
  
            Install Package(s) 
  
              INSTALL NAME: XU*8.0*299
                            ==========
  
     Want KIDS to INHIBIT LOGONs during the install?  NO
                                                      ==
     Want to DISABLE Scheduled Options, Menu Options, and Protocols?  NO
                                                                      ==
                                                                             
 6.  DSM/AXP Sites - Answer NO to the question "Want to MOVE routines to 
 other CPUs?"   
  
 7.  DSM/AXP Sites:  If the routines were unmapped per STEP #2, the mapped 
 set should be rebuilt once the installation has run to completion.
  
 8.  Add members to the XUMF ERROR mail group who should be notified 
 of any problems with the MFS messaging or data filing.
  
 9.  Edit the HL LOGICAL LINK (#870) node XUMF ACK.  Enter the TCP/IP
 ADDRESS (#400.01) of the local Vitria Interface Engine (VIE).
  
 10. Enable the XUMF ACK logical link.
  
 Required package
 ================
  
 VistA HL7 version 1.6 is required by this patch.  Contact HSITES 
 Infrastructure Team (G.CSINFRAST@FORUM.VA.GOV) if you need a
 complete build of the HL7 package. 

Routine Information:
====================

Routine Name:
  - XUMF299


Routine Checksum:

Routine Name:
  - XUMFHPQ


Routine Checksum:

Routine Name:
  - XUMFHPR


Routine Checksum:

Routine Name:
  - XUMFPOST


Routine Checksum:

Routine Name:
  - XUMFX


Routine Checksum:

Routine Name:
  - XUMFXACK


Routine Checksum:

Routine Name:
  - XUMFXH


Routine Checksum:

Routine Name:
  - XUMFXHL7


Routine Checksum:

Routine Name:
  - XUMFXI


Routine Checksum:

Routine Name:
  - XUMFXP


Routine Checksum:

Routine Name:
  - XUMFXP1


Routine Checksum:

Routine Name:
  - XUMFXP2


Routine Checksum:

Routine Name:
  - XUMFXR


Routine Checksum:

=============================================================================
User Information:
Entered By  : METCALF,ROGER A               Date Entered  : APR 16, 2003
Completed By: SINGH,GURBIR                  Date Completed: MAY 17, 2005
Released By : TILLIS,LEWIS                  Date Released : MAY 17, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
