$TXT Created by CURTIS,RICHARD L at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Monday, 07/23/07 at 11:05
=============================================================================
Run Date: OCT 01, 2007                     Designation: SD*5.3*517
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #421                    Status: Released
                  Compliance Date: NOV 01, 2007
=============================================================================

Associated patches: (v)SD*5.3*80   <<= must be installed BEFORE `SD*5.3*517'
                    (v)SD*5.3*243  <<= must be installed BEFORE `SD*5.3*517'
                    (v)SD*5.3*410  <<= must be installed BEFORE `SD*5.3*517'
                    (v)SD*5.3*478  <<= must be installed BEFORE `SD*5.3*517'
                    (v)SD*5.3*490  <<= must be installed BEFORE `SD*5.3*517'

Subject: Inactivate menu option SD TRANS RX CANC APPT REPORT

Category: 
  - Routine

Description:
============

 Health Systems Design and Development (HSD&D) staff have requested that 
 menu option Transitional Pharmacy Benefit Deferred Appt Report [SD TRANS 
 RX CANC APPT REPORT] be inactivated now that the Outpatient Pharmacy (PSO)
 options and HL7 links for Transitional Pharmacy Benefits have been 
 inactivated.
  
 This patch will also fix several undefined errors due to a "lingering" 
 "C" node (appointment Check-In) in the HOSPITAL LOCATION file (#44) after
 an appointment has been cancelled.  Errors occur in the following options:
  
 Display Clinic Availability Report [SD DISPLAY AVAIL REPORT]
 Clinic Assignment Listing [SDCLINIC ASSIGNMENT]
 No Show Report [SD NOSHOW REPORT]
 Patient Profile MAS [SDPATIENT]
 Cancel Appointment [SD CANCEL APPOINTMENT]
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1)   HD129804 - TPB Report
  
 The following Remedy tickets are all related to one problem, a hanging 
 'C' node in the HOSPITAL LOCATION file (#44):
  
 2.1) HD153457 - <UNDEFINED>NM1^SDCLAV0
  
 2.2) HD119788 - <UNDEFINED>PT^SDCLAS
  
 2.3) HD112006 - <UNDEFINED>CHK^SDNOS0
      Duplicates:
      HD116194 - $ZE= <UNDEFINED>CHK^SDNOS0
      HD119566 - NO SHOW REPORT GETTING ERROR
      HD165561 - No Show report errors out
      HD176737 - $ZE= <UNDEFINED>CHK^SDNOS0
      HD188330 - Error in trap <UNDEFINED>CHK^SDNOS0
      HD193061 - No Report Error
      HD202597 - <UNDEFINED>CHK^SDNOSO
      HD204058 - <UNDEFINED>CHK^SDNOSO
  
 2.4) HD116191 - <UNDEFINED>EN1+8^SDPPAPP1
  
 2.5) HD113134 - <UNDEFINED>FLEN^SDCNP1A
  
  
 PARTICIPATING TEST SITES:
 =========================
 Fayetteville, NC
 Martinsburg VAMC
 Salisbury VAMC
 Upstate NY HCS
  
  
 REMEDY TICKET OVERVIEW:
 =======================
 1)   HD129804 - Transitional Pharmacy Benefit (TPB) Report
  
      Problem:
      --------
      HSD&D staff have requested that menu option Transitional Pharmacy
      Benefit Deferred Appt Report [SD TRANS RX CANC APPT REPORT] be
      inactivated now that the Outpatient Pharmacy (PSO) options and HL7
      links for Transitional Pharmacy Benefits have been inactivated.
  
      Resolution:
      -----------
      This patch will inactivate the menu option: Transitional Pharmacy
      Benefit Deferred Appt Report [SD TRANS RX CANC APPT REPORT].
  
 2.1) HD153457 - <UNDEFINED>NM1^SDCLAV0
  
      Problem:
      --------
      This error will occur occasionally when running the Display Clinic
      Availability Report [SD DISPLAY AVAIL REPORT].  The problem is due
      to a "lingering" "C" node (appointment Check-In) in the HOSPITAL 
      LOCATION file (#44) after an appointment has been cancelled.
      Developers could not determine why the "C" node is occasionally not
      deleted during the cancellation process.
  
      Resolution:
      -----------
      Routine SDCLAV0 will be modified to eliminate future occurrences of
      this error by flagging the appointments with the problem with
      '**WARNING**' next to the patient name.  The appointment length will
      show zero (0) minutes and the following warning message will print at
      the bottom of the report (for each applicable month):
  
 **************************************************************************
 * WARNING:  There is a data inconsistency or data corruption problem     *
 * with one or more of the above appointments.  These appointments will   *
 * have WARNING displayed to the left of the time.  Corrective action     *
 * needs to be taken.  Please cancel any of the appointments above, which *
 * have the WARNING display.  If any of them are valid appointments, they *
 * will have to be re-entered via Appointment Management.                 *
 **************************************************************************
  
 2.2) HD119788 - <UNDEFINED>PT^SDCLAS
  
      Problem:
      --------
      This problem, also due to a "lingering" "C" node in the HOSPITAL 
      LOCATION file (#44), will occur occasionally when running the Clinic
      Assignment Listing [SDCLINIC ASSIGNMENT].
  
      Resolution:
      -----------
      Routine SDCLAS will be modified to eliminate future occurrences of
      this error.
  
 2.3) HD112006 - <UNDEFINED>CHK^SDNOS0
  
      Problem:
      --------
      This problem, also due to a "lingering" "C" node in the HOSPITAL 
      LOCATION file (#44), will occur occasionally when running the No
      Show Report [SD NOSHOW REPORT].
  
      Resolution:
      -----------
      Routine SDNOS0 will be modified to eliminate future occurrences of
      this error.
  
 2.4) HD116191 - <UNDEFINED>EN1+8^SDPPAPP1
  
      Problem:
      --------
      This problem, also due to a "lingering" "C" node in the HOSPITAL 
      LOCATION file (#44), can occur when running the Patient Profile
      MAS [SDPATIENT].
  
      Resolution:
      -----------
      Routine SDPPAPP1 will be modified to eliminate future occurrences
      of this error.  When this problem is detected, the following warning
      message will display:
  
 ***************************WARNING****************************************
 * There is a data inconsistency or data corruption problem with the above*
 * appointment.  Corrective action needs to be taken.  Please cancel      *
 * the appointment above.  If it is a valid appointment, it will have to  *
 * be re-entered via Appointment Management.                              *
 **************************************************************************
  
 2.5) HD113134 - <UNDEFINED>FLEN^SDCNP1A
  
      Problem:
      --------
      This problem, also due to a "lingering" "C" node in the HOSPITAL 
      LOCATION file (#44), will occur occasionally when using Cancel
      Appointment [SD CANCEL APPOINTMENT] to cancel an appointment.
      The patient's appointment will still be displayed with a status of
      "No Action Taken" and when a user attempts to cancel it, the error
      will occur.
  
      Resolution:
      -----------
      Routine SDCNP1A will be modified to eliminate future occurrences
      of this error.  New logic will also be added to properly kill a
      "lingering" "C" node, when applicable.  Also, any questionable
      appointments will be listed with no minutes for the appointment
      length.  Routine SDCNP0 will be modified to display the following
      warning message, when applicable:
  
 ************************************************************************
 * WARNING: There is a data inconsistency or data corruption problem    *
 * with the above appointment.  Correction action needs to be taken.    *
 * Please cancel the appointment above.  If it is a valid appointment,  *
 * it will have to be re-entered via Appointment Management.            *
 ************************************************************************
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 Users can be on the system during the installation of this patch.
  
 Installation should take less than 5 minutes.
  
 1.  LOAD TRANSPORT GLOBAL
     ---------------------
     Choose the PackMan message containing this patch and invoke the
     INSTALL/CHECK MESSAGE PackMan option.
  
 2.  START UP KIDS
     -------------
     Start up the Kernel Installation and Distribution System Menu
     [XPD MAIN]
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
     Select Kernel Installation & Distribution System Option:  INStallation
                                                               ---
  
     1     Load a Distribution
     2     Verify Checksums in Transport Global
     3     Print Transport Global
     4     Compare Transport Global to Current System
     5     Backup a Transport Global
     6     Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 3.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter SD*5.3*517):
  
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch.  It will NOT
         backup any other changes such as DDs or templates.
  
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch
         (routines, DDs, templates, etc.).
  
     c.  Verify Checksums in Transport Global - This option will ensure
         the integrity of the routines that are in the transport global.
  
     d.  Print Transport Global - This option will allow you to view
         the components of the KIDS build.
  
 4.  Use the Install Package(s) option and select the package SD*5.3*517.
  
     a.  When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of
         Install? YES//", respond NO.
  
     b.  When prompted "Want KIDS to INHIBIT LOGONS during the
         install? YES//", respond NO.
  
     c.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
         and Protocols? YES//", respond YES.
  
         1) When prompted "Enter options you wish to mark as "Out of
            Order":" enter the following option:
  
            Display Clinic Availability Report [SD DISPLAY AVAIL REPORT]
            Clinic Assignment Listing          [SDCLINIC ASSIGNMENT]
            No-Show Report                     [SD NOSHOW REPORT]
            Patient Profile MAS                [SDPATIENT]
            Appointment Management             [SDAM APPT MGT]
            Transitional Pharmacy Benefit Deferred Appt Report
                                          [SD TRANS RX CANC APPT REPORT]
  
         2) When prompted "Enter protocols you wish to mark as "Out of
            Order":" just press <Return>.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  
 The second line of each of these routine(s) will look like:
  
           ;;5.3;Scheduling;**[patch list]**;Aug 13, 1993
  
  
                             CHECK^XTSUMBLD results
  
 Routine name      Before Patch      After Patch       Patch List
 ============      ============      ===========       ===================
 SDCLAS                13577486         13518911       63,243,517
 SDCLAV0                5598464          6715873       184,439,490,517
 SDCLAV1               19938282         22416390       140,167,168,76,383
                                                       463,490,517
 SDCNP0                21062764         22197437       132,167,478,517
 SDCNP1A               20334432         19871176        167,340,398,478,517
 SDNOS0                18052290         18154353       20,194,410,517
 SDPPAPP1               6252366          8624580       6,22,140,80,517

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.3;Scheduling;**[Patch List]**;Aug 13, 1993;Build 4

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SDCLAS
    Before: B18724083   After: B18871590  **63,243,517**
Routine Name: SDCLAV0
    Before:  B6584983   After:  B9198238  **184,439,490,517**
Routine Name: SDCLAV1
    Before: B39056960   After: B53681023  **140,167,168,76,383,463,490,517**
Routine Name: SDCNP0
    Before: B29432577   After: B34170117  **132,167,478,517**
Routine Name: SDCNP1A
    Before: B28182331   After: B29978567  **167,340,398,478,517**
Routine Name: SDNOS0
    Before: B27720027   After: B27834725  **20,194,410,517**
Routine Name: SDPPAPP1
    Before: B10770758   After: B16631535  **6,22,140,80,517**
 
Routine list of preceding patches: 80, 243, 410, 478, 490

=============================================================================
User Information:
Entered By  : CURTIS,RICHARD                Date Entered  : JUN 06, 2007
Completed By: WERNER,GARY                   Date Completed: SEP 26, 2007
Released By : SCHMITT,MARSHA                Date Released : OCT 01, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
