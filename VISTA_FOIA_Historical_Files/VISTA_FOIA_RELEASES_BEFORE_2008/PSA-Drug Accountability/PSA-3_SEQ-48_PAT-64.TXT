$TXT Created by ALSAHHAR,SAMI at CINP.FO-BIRM.MED.VA.GOV  (KIDS) on Wednesday, 05/30/07 at 14:42
=============================================================================
Run Date: JUL 19, 2007                     Designation: PSA*3*64
Package : PSA - DRUG ACCOUNTABILITY           Priority: Mandatory
Version : 3        SEQ #48                      Status: Released
                  Compliance Date: AUG 19, 2007
=============================================================================

Associated patches: (v)PSA*3*25    <<= must be installed BEFORE `PSA*3*64'
                    (v)PSA*3*37    <<= must be installed BEFORE `PSA*3*64'
                    (v)PSA*3*51    <<= must be installed BEFORE `PSA*3*64'
                    (v)PSA*3*56    <<= must be installed BEFORE `PSA*3*64'
                    (v)PSA*3*60    <<= must be installed BEFORE `PSA*3*64'
                    (v)PSA*3*61    <<= must be installed BEFORE `PSA*3*64'

Subject: LOCK TIMEOUT (Q3 ENHANCEMENTS)

Category: 
  - Routine
  - Enhancement (Mandatory)

Description:
============

 With the deployment of Cache version 5, it was discovered that the short
 lock timeout values could generate a lock failure. Patch DI*22*147, which
 has already been released, provided a solution to resolve this issue and
 future lock issues.
  
 This patch instituted a new default lock timeout of three seconds based on
 a global node setting of ^DD("DILOCKTM")=3.
  
 In order to avoid the lock issue in Drug Accountability, this patch
 modifies all routines that currently use a lock timeout value of less than
 3 seconds to check for the node ^DD("DILOCKTM") and to use the value
 defined there, otherwise the lock timeout value is set to a default value
 of 3 seconds.
  
  
  Associated Remedy Ticket(s):
  ============================
  N/A
  
  Test Sites:
  ===========
  DURHAM, NC
  IRON MOUNTAIN, MI
  LOUISVILLE, KY
  MONTANA HCS
  NEW YORK HARBOR HCS
  OKLAHOMA CITY, OK
  
  Installation Instructions:
  ==========================
  This patch can be loaded with users on the system. Installation will
  take less than 5 minutes.
  
  Suggested time to install: non-peak requirement hours
  
  1. Use the INSTALL/CHECK MESSAGE option in the PackMan function.
  
  2. From the Kernel Installation & Distribution System Option, select
     the Installation Option.
  
  3. From this option, you may select to use the following items:
     (when prompted for INSTALL NAME, enter PSA*3.0*64).
    a. Backup a Transport Global - this option will create a backup
       message of any routines exported with the patch. It will NOT
       backup any other changes such as DDs or templates.
    b. Compare Transport Global to Current System - this option will
       allow you to view all changes that will be made when the patch
       is installed. It compares all components of the patch (routines,
       DDs, templates, etc.).
    c. Verify Checksums in Transport Global - this option will ensure
       the integrity of the routines that are in the transport global.
  
  4. Use the Install Package(s) option and select the package PSA*3.0*64.
  
  5. When prompted "Want KIDS to INHIBIT LOGONs during the install? YES//"
     respond NO.
  
  6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//" respond NO.
  
 Routine Summary:
 ================
  The second line now reads as follows:
  
  <TAB>;;3.0; DRUG ACCOUNTABILITY ;**[PATCH LIST]**;24 OCT 97
                                                         
              CHECK^XTSUMBLD results:
  
  Routine    Before Patch   After Patch     Patch List
  -------    ------------   -----------     ----------
  PSAAOP     10885786       10976195        21,64
  PSABRKU4   22100300       22227825        26,64
  PSACREDR   14737181       14854302        3,64
  PSADJ      26944807       27144705        3,12,64
  PSADJI     7697016        7896914         64
  PSADRUG    14852917       15041367        64
  PSADRUGP   13063692       13359723        3,21,60,64
  PSAGIP     13097195       13181880        8,64
  PSANAC     18616464       18699241        15,64
  PSAOP1     9894343        10278875        64
  PSAOUT     25435530       25514491        51,64
  PSAPOST    3085256        3173757         64
  PSAPROC7   18400679       18483456        3,12,27,21,42,61,64
  PSAPROC8   24719890       24981577        3,64
  PSAPSI1    6627356        6815806         64
  PSAREC1    13531219       14406689        21,37,64
  PSARWS     11036019       11222561        3,64
  PSATRAN1   10464836       10826472        64
  PSAUDP     10459969       10550378        6,3,12,14,25,64
  PSAVER2    20814752       21267972        3,12,21,60,64
  PSAVER3    28853622       29080232        3,19,21,64
  PSAVER6    20321231       20521129        1,3,21,42,53,57,61,64
  PSAVER7    10279861       10964973        12,21,42,56,64
  
 Note: Patch PSA*3*24 was entered in error, so the 2nd line of the routine
 PSAPROC7 was modified to remove that patch number.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSAAOP
    Before: B15006908   After: B15158373  **21,64**
Routine Name: PSABRKU4
    Before: B39501736   After: B39640697  **26,64**
Routine Name: PSACREDR
    Before: B30767974   After: B31030103  **3,64**
Routine Name: PSADJ
    Before: B54165345   After: B54586571  **3,12,64**
Routine Name: PSADJI
    Before: B10851547   After: B11144937  **64**
Routine Name: PSADRUG
    Before: B21853949   After: B22959232  **64**
Routine Name: PSADRUGP
    Before: B22701616   After: B23255227  **3,21,60,64**
Routine Name: PSAGIP
    Before: B22177455   After: B22355632  **8,64**
Routine Name: PSANAC
    Before: B28314130   After: B28480859  **15,64**
Routine Name: PSAOP1
    Before: B17931264   After: B18529492  **64**
Routine Name: PSAOUT
    Before: B52711368   After: B52860925  **51,64**
Routine Name: PSAPOST
    Before:  B3787169   After:  B3906198  **64**
Routine Name: PSAPROC7
    Before: B51614865   After: B51722446  **3,12,27,21,42,61,64**
Routine Name: PSAPROC8
    Before: B42292090   After: B42624373  **3,64**
Routine Name: PSAPSI1
    Before:  B9513101   After:  B9754975  **64**
Routine Name: PSAREC1
    Before: B25736843   After: B27528153  **21,37,64**
Routine Name: PSARWS
    Before: B16948588   After: B17261058  **3,64**
Routine Name: PSATRAN1
    Before: B20498296   After: B21031652  **64**
Routine Name: PSAUDP
    Before: B16331334   After: B16486615  **6,3,12,14,25,64**
Routine Name: PSAVER2
    Before: B48168766   After: B49116158  **3,12,21,60,64**
Routine Name: PSAVER3
    Before: B70683191   After: B71438317  **3,19,21,64**
Routine Name: PSAVER6
    Before: B56721595   After: B57278289  **1,3,21,42,53,57,61,64**
Routine Name: PSAVER7
    Before: B21998515   After: B23378139  **12,21,42,56,64**
 
Routine list of preceding patches: 8, 15, 25, 26, 37, 51, 56, 60, 61

=============================================================================
User Information:
Entered By  : ALSAHHAR,SAMI                 Date Entered  : APR 03, 2007
Completed By: LEONARD,KEN                   Date Completed: JUL 17, 2007
Released By : WASHINGTON,JANET P            Date Released : JUL 19, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
