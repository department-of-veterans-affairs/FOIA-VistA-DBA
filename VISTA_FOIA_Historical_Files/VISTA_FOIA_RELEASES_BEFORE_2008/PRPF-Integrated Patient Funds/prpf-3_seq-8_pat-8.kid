Released PRPF*3*8 SEQ #8
Extracted from mail message
**KIDS**:PRPF*3.0*8^

**INSTALL NAME**
PRPF*3.0*8
"BLD",782,0)
PRPF*3.0*8^INTEGRATED PATIENT FUNDS^0^2980206^y
"BLD",782,1,0)
^^8^8^2980219^
"BLD",782,1,1,0)
This patch addresses two unrelated problems in the Patient Funds
"BLD",782,1,2,0)
package that resulted in the following NOIS:
"BLD",782,1,3,0)
 
"BLD",782,1,4,0)
   Overview of NOIS MESSAGES:
"BLD",782,1,5,0)
   -------------------------
"BLD",782,1,6,0)
 CLE-1097-42161 - re occasional display of info from Engineering (due to
"BLD",782,1,7,0)
non-initialization of print buffer)
"BLD",782,1,8,0)
 TOM-1297-41000 - re inclusion of inactive patients in some reports
"BLD",782,4,0)
^9.64PA^470^1
"BLD",782,4,470,0)
470
"BLD",782,4,470,2,0)
^9.641^470.01^1
"BLD",782,4,470,2,470.01,0)
PATIENT TRANSACTION  (sub-file)
"BLD",782,4,470,2,470.01,1,0)
^9.6411^9^1
"BLD",782,4,470,2,470.01,1,9,0)
DATE ENTERED
"BLD",782,4,470,222)
y^n^p^^^^n
"BLD",782,4,"APDD",470,470.01)

"BLD",782,4,"APDD",470,470.01,9)

"BLD",782,4,"B",470,470)

"BLD",782,"KRN",0)
^9.67PA^19^18
"BLD",782,"KRN",.4,0)
.4
"BLD",782,"KRN",.401,0)
.401
"BLD",782,"KRN",.401,"NM",0)
^9.68A^1^1
"BLD",782,"KRN",.401,"NM",1,0)
PRPF INDIGENT LIST    FILE #470^470^0
"BLD",782,"KRN",.401,"NM","B","PRPF INDIGENT LIST    FILE #470",1)

"BLD",782,"KRN",.402,0)
.402
"BLD",782,"KRN",.403,0)
.403
"BLD",782,"KRN",.5,0)
.5
"BLD",782,"KRN",.84,0)
.84
"BLD",782,"KRN",3.6,0)
3.6
"BLD",782,"KRN",3.8,0)
3.8
"BLD",782,"KRN",9.2,0)
9.2
"BLD",782,"KRN",9.8,0)
9.8
"BLD",782,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",782,"KRN",9.8,"NM",1,0)
PRPFBAL^^0^B14872224
"BLD",782,"KRN",9.8,"NM",2,0)
PRPFMIN^^0^B5952117
"BLD",782,"KRN",9.8,"NM","B","PRPFBAL",1)

"BLD",782,"KRN",9.8,"NM","B","PRPFMIN",2)

"BLD",782,"KRN",19,0)
19
"BLD",782,"KRN",19.1,0)
19.1
"BLD",782,"KRN",101,0)
101
"BLD",782,"KRN",409.61,0)
409.61
"BLD",782,"KRN",771,0)
771
"BLD",782,"KRN",869.2,0)
869.2
"BLD",782,"KRN",870,0)
870
"BLD",782,"KRN",8994,0)
8994
"BLD",782,"KRN","B",.4,.4)

"BLD",782,"KRN","B",.401,.401)

"BLD",782,"KRN","B",.402,.402)

"BLD",782,"KRN","B",.403,.403)

"BLD",782,"KRN","B",.5,.5)

"BLD",782,"KRN","B",.84,.84)

"BLD",782,"KRN","B",3.6,3.6)

"BLD",782,"KRN","B",3.8,3.8)

"BLD",782,"KRN","B",9.2,9.2)

"BLD",782,"KRN","B",9.8,9.8)

"BLD",782,"KRN","B",19,19)

"BLD",782,"KRN","B",19.1,19.1)

"BLD",782,"KRN","B",101,101)

"BLD",782,"KRN","B",409.61,409.61)

"BLD",782,"KRN","B",771,771)

"BLD",782,"KRN","B",869.2,869.2)

"BLD",782,"KRN","B",870,870)

"BLD",782,"KRN","B",8994,8994)

"BLD",782,"QUES",0)
^9.62^^
"BLD",782,"REQB",0)
^9.611^^
"FIA",470)
PATIENT FUNDS
"FIA",470,0)
^PRPF(470,
"FIA",470,0,0)
470PI
"FIA",470,0,1)
y^n^p^^^^n
"FIA",470,0,10)

"FIA",470,0,11)

"FIA",470,0,"RLRO")

"FIA",470,0,"VR")
3.0^PRPF
"FIA",470,470)
1
"FIA",470,470.01)
1
"FIA",470,470.01,9)

"KRN",.401,1325,-1)
0^1
"KRN",.401,1325,0)
PRPF INDIGENT LIST^2980219.1523^^470^^^2980219
"KRN",.401,1325,2,0)
^.4014^3^3
"KRN",.401,1325,2,1,0)
470^4^INDIGENT^]^^^^^^3
"KRN",.401,1325,2,1,"F")
Xz^Y^Y (YES)
"KRN",.401,1325,2,1,"GET")
S DISX(1)=$P($G(^PRPF(470,D0,0)),U,5)
"KRN",.401,1325,2,1,"QCON")
I DISX(1)]]"Xz"
"KRN",.401,1325,2,1,"SER")
0.0000^0.0000
"KRN",.401,1325,2,1,"T")
z^
"KRN",.401,1325,2,1,"TXT")
INDIGENT from Y (YES)
"KRN",.401,1325,2,2,0)
470^1^ACCOUNT STATUS^^^^^^^3
"KRN",.401,1325,2,2,"F")
@z^A^A (ACTIVE)
"KRN",.401,1325,2,2,"GET")
S DISX(2)=$P($G(^PRPF(470,D0,0)),U,2)
"KRN",.401,1325,2,2,"IX")
^PRPF(470,"AC",^PRPF(470,^2
"KRN",.401,1325,2,2,"QCON")
I DISX(2)="A"
"KRN",.401,1325,2,2,"SER")
0.0000^0.0000
"KRN",.401,1325,2,2,"T")
A^A^A (ACTIVE)
"KRN",.401,1325,2,2,"TXT")
ACCOUNT STATUS equals A (ACTIVE)
"KRN",.401,1325,2,3,0)
470^^NAME^".01^^^^^^4
"KRN",.401,1325,2,3,"CM")
S Y(1)=$S($D(^PRPF(470,D0,0)):^(0),1:"") S X=$S('$D(^DPT(+$P(Y(1),U,1),0)):"",1:$P(^(0),U,1)) I D0>0 S DISX(3)=X
"KRN",.401,1325,2,3,"GET")
S Y(1)=$S($D(^PRPF(470,D0,0)):^(0),1:"") S X=$S('$D(^DPT(+$P(Y(1),U,1),0)):"",1:$P(^(0),U,1)) I D0>0 S DISX(3)=X
"KRN",.401,1325,2,3,"IX")
^PRPF(470,"B",^PRPF(470,^2
"KRN",.401,1325,2,3,"PTRIX")
^DPT("B",
"KRN",.401,1325,2,3,"QCON")
I DISX(3)'=""
"KRN",.401,1325,2,3,"SER")
0.0000^0.0000
"KRN",.401,1325,2,3,"TXT")
NAME not null
"KRN",.401,1325,2,"B",470,1)

"KRN",.401,1325,2,"B",470,2)

"KRN",.401,1325,2,"B",470,3)

"KRN",.401,1325,"%D",0)
^^1^1^2980219^
"KRN",.401,1325,"%D",1,0)
Select all Active Indigent patients.
"OER",466,0)
466^^0^M.A.S.^
"ORD",6,.401)
.401;6;;;EDEOUT^DIFROMSO(.401,DA,"",XPDA);FPRE^DIFROMSI(.401,"",XPDA);EPRE^DIFROMSI(.401,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.401,DA,"",XPDA);DEL^DIFROMSK(.401,"",%)
"ORD",6,.401,0)
SORT TEMPLATE
"PKG",466,-1)
1^1
"PKG",466,0)
INTEGRATED PATIENT FUNDS^PRPF^PATIENT FUNDS.  INTEGRATED WITH PATIENT FILE
"PKG",466,22,0)
^9.49I^1^1
"PKG",466,22,1,0)
3.0^2970224
"PKG",466,22,1,"PAH",1,0)
8^2980206
"PKG",466,22,1,"PAH",1,1,0)
^^8^8^2980226
"PKG",466,22,1,"PAH",1,1,1,0)
This patch addresses two unrelated problems in the Patient Funds
"PKG",466,22,1,"PAH",1,1,2,0)
package that resulted in the following NOIS:
"PKG",466,22,1,"PAH",1,1,3,0)
 
"PKG",466,22,1,"PAH",1,1,4,0)
   Overview of NOIS MESSAGES:
"PKG",466,22,1,"PAH",1,1,5,0)
   -------------------------
"PKG",466,22,1,"PAH",1,1,6,0)
 CLE-1097-42161 - re occasional display of info from Engineering (due to
"PKG",466,22,1,"PAH",1,1,7,0)
non-initialization of print buffer)
"PKG",466,22,1,"PAH",1,1,8,0)
 TOM-1297-41000 - re inclusion of inactive patients in some reports
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","PRPFBAL")
0^1^B14872224
"RTN","PRPFBAL",1,0)
PRPFBAL ;ALTOONA/CTB   PATIENT LOOKUP AND COMPUTE BALANCE ;11/22/96  4:32 PM
"RTN","PRPFBAL",2,0)
V ;;3.0;PATIENT FUNDS;**6,8**;JUNE 1, 1989
"RTN","PRPFBAL",3,0)
EN S DIC(0)="ZAEQM",DIC=470 D ^DIC I +Y>0 S DFN=+Y,DFN(0)=Y(0),DFN(0,0)=Y(0,0),DFN(1)=$S($D(^PRPF(470,DFN,1)):^(1),1:"") D EN1 G EN
"RTN","PRPFBAL",4,0)
 W:$D(IOF) @IOF K %,%W,%X,%Y,C,DFN,DIC,DIYS,POP,Y
"RTN","PRPFBAL",5,0)
OUT K %H,%I,%TG,D,D1,DG1,DGT,DGX,DIW,DIWT,DN,I,N,PFHI,PFLO,PFNORM,PRBAL,Q3,RES,TMP,TYPE,X,X2,Y,Z Q
"RTN","PRPFBAL",6,0)
EN1 D HILO S PRBAL("DEF")=$P(^DD(470,30.5,0),"^",5,99) S DFN(0)=^PRPF(470,DFN,0),DFN(1)=$S($D(^(1)):^(1),1:""),DFN(0,0)=$P(^DPT(DFN,0),"^") D EN^PRPFRES S PRBAL("SB")=$P(DFN(1),"^",4),PRBAL("PB")=$P(DFN(1),"^",5),PRBAL("GB")=$P(DFN(1),"^",6)
"RTN","PRPFBAL",7,0)
 S RES=$P(DFN(0),U,3) S TYPE=$S(RES="R":"RESTRICTED",RES="L":"LIMITED UNRESTRICTED",RES="U":"UNRESTRICTED",1:"UNKNOWN")
"RTN","PRPFBAL",8,0)
A D ^PRPFDEF S D0=DFN X PRBAL("DEF") K D0 S PRBAL("DEF")=X
"RTN","PRPFBAL",9,0)
 W:$D(IOF) @IOF W !,@PFHI,$P(DFN(0,0),"^"),@PFLO,?40 W "SSN: ",@PFHI S SSN=$P(^DPT(+DFN(0),0),"^",9)
"RTN","PRPFBAL",10,0)
 W $E(SSN,1,3),@PFLO,"-",@PFHI,$E(SSN,4,5),@PFLO,"-",@PFHI,$E(SSN,6,9),?60,@PFLO,"CLAIM #: ",@PFHI,$S($D(^DPT(+DFN(0),.31)):$P(^(.31),"^",3),1:""),@PFLO K SSN
"RTN","PRPFBAL",11,0)
 D DGINPW^PRPFU1 W @PFHI D DEAD^PRPFED W @PFLO,!
"RTN","PRPFBAL",12,0)
 W ?18,"* * * ACCOUNT TYPE IS ",@PFHI,TYPE,@PFLO," * * *",!,"WARD: ",@PFHI,DFN(.1),@PFLO
"RTN","PRPFBAL",13,0)
 I "UX"[RES G B
"RTN","PRPFBAL",14,0)
 W !,"AUTH WD/MONTH: ",@PFHI S X=$P(DFN(1),U,7) D C W X,@PFLO,?39,"AUTH WD/WEEK: ",@PFHI S X=$P(DFN(1),U,8) D C W X,@PFLO,!,?7,"ACTUAL: ",@PFHI S X=$P(DFN(1),"^",11) D C W X,@PFLO,?45,"ACTUAL: ",@PFHI S X=$P(DFN(1),"^",12) D C W X
"RTN","PRPFBAL",15,0)
B W @PFLO S XI="",$P(XI,"*",80)="" W !,XI
"RTN","PRPFBAL",16,0)
 W !,?10," TOTAL BALANCE:  ",@PFHI S X=PRBAL("SB") D C W X,@PFLO,?45,"PRIVATE SOURCE: ",@PFHI S X=PRBAL("PB") D C W X,@PFLO,!,?16,"DEFERRED:  ",@PFHI S X=PRBAL("DEF") D C W X,@PFLO,?49
"RTN","PRPFBAL",17,0)
 W "GRATUITOUS: ",@PFHI S X=PRBAL("GB") D C W X,@PFLO,!!,"AVAILABLE FOR WITHDRAWAL:  " S (PRBAL("PB"),X)=PRBAL("SB")-PRBAL("DEF") W @PFHI D C W X,@PFLO,!
"RTN","PRPFBAL",18,0)
 W XI K XI
"RTN","PRPFBAL",19,0)
 I +PRBAL("DEF")>0 W !,"DEFERRAL INFORMATION:",?30,"TRANSACTION",?50,"DEF DATE",?69,"AMOUNT" D DEF
"RTN","PRPFBAL",20,0)
GI ;PRINT GENERAL INFORMATION REMARKS
"RTN","PRPFBAL",21,0)
T2 W !,"GENERAL REMARKS/INFORMATION:"
"RTN","PRPFBAL",22,0)
 K ^UTILITY($J,"W") ; <<<  Added by REW in patch 8 since Eng. doesn't kill -- see NOIS CLE-1097-42161
"RTN","PRPFBAL",23,0)
 W @PFHI S N=0,DIWF="W",DIWL=5,DIWR=IOM-10 F I=1:1 S N=$O(^PRPF(470,DFN,7,N)) Q:N=""  S X=^(N,0) D ^DIWP
"RTN","PRPFBAL",24,0)
 D ^DIWW K DIWF,DIWL,DIWR,X
"RTN","PRPFBAL",25,0)
 W @PFNORM
"RTN","PRPFBAL",26,0)
T3 G:'$D(^XUSEC("PRPF CLERK",DUZ)) OUT W !,"SPECIAL REMARKS: "
"RTN","PRPFBAL",27,0)
 W @PFHI S N=0,DIWF="W",DIWL=5,DIWR=IOM-10 F I=1:1 S N=$O(^PRPF(470,DFN,8,N)) Q:N=""  S X=^(N,0) D ^DIWP
"RTN","PRPFBAL",28,0)
 D ^DIWW K DIWF,DIWL,DIWR,X W @PFNORM G OUT
"RTN","PRPFBAL",29,0)
DEF ;WRITES DEFERRAL INFORMATION
"RTN","PRPFBAL",30,0)
 F I=0:0 S I=$O(^PRPF(470,DFN,4,I)) Q:I'=+I  I $D(^(I,0)) S PRPF(1)=^PRPF(470,DFN,4,I,0) W !,?35,@PFHI,$P(PRPF(1),"^"),?49 S Y=$P(PRPF(1),"^",2) X ^DD("DD") W Y,?64 S X=$P(PRPF(1),"^",3) D C W X,@PFLO
"RTN","PRPFBAL",31,0)
 K PRPF(1) Q
"RTN","PRPFBAL",32,0)
HILO S IOP=0 D ^%ZIS S (PFHI,PFLO,PFNORM)="*0" I ^%ZOSF("OS")'["M/11" Q
"RTN","PRPFBAL",33,0)
 ;HI/LO INTENSITY DISABLED FOR DSM DUE TO INAPPROPRIATE HANDLING OF COLUMN POSITIONING
"RTN","PRPFBAL",34,0)
 S:$D(^%ZIS(2,IOST(0),7)) TMP=^(7),PFHI=$P(TMP,"^",1),PFLO=$P(TMP,"^",2),PFNORM=$P(TMP,"^",3) I PFHI=""!(PFLO="")!(PFNORM="") S (PFLO,PFHI,PFNORM)="*0"
"RTN","PRPFBAL",35,0)
 Q
"RTN","PRPFBAL",36,0)
 ;
"RTN","PRPFBAL",37,0)
C S X2="2$"
"RTN","PRPFBAL",38,0)
 S %D=X<0 S:%D X=-X S %=$S($D(X2):+X2,1:2),X=$J(X,1,%),%=$L(X)-3-$E(23456789,%)
"RTN","PRPFBAL",39,0)
 F %=%:-3 Q:$E(X,%)=""  S X=$E(X,1,%)_","_$E(X,%+1,99)
"RTN","PRPFBAL",40,0)
 S:$D(X2) X=$E("$",X2["$")_X S X=$J($E("(",%D)_X_$E(" )",%D+1),12) K %,%D Q
"RTN","PRPFMIN")
0^2^B5952117
"RTN","PRPFMIN",1,0)
PRPFMIN ;ALTOONA/CTB  CREATE MIN/MAS SEARCH LISTS ;4/22/97  8:51 AM
"RTN","PRPFMIN",2,0)
V ;;3.0;PATIENT FUNDS;**6,8**;JUNE 1, 1989
"RTN","PRPFMIN",3,0)
 S ZTRTN="DQ^PRPFMIN",ZTDESC=$P($T(DQ),";",3) D ^PRPFQ
"RTN","PRPFMIN",4,0)
 K %X,DFN,DG1,DGT,DGX Q
"RTN","PRPFMIN",5,0)
DQ ;MIN/MAX PATIENT FUNDS REPORT
"RTN","PRPFMIN",6,0)
 S PRIOP=ION
"RTN","PRPFMIN",7,0)
 K ^TMP("PRPFAF",$J)
"RTN","PRPFMIN",8,0)
 K ^TMP("PRPFAG",$J)
"RTN","PRPFMIN",9,0)
 S DA=0 S X="I'm now beginning to search the file." D MSG^PRPFQ
"RTN","PRPFMIN",10,0)
 F I=1:1 S DA=$O(^PRPF(470,DA)) Q:'DA  D CK I I#25=0,'$D(ZTQUEUED) W "."
"RTN","PRPFMIN",11,0)
 I '$D(^TMP("PRPFAF",$J)),'$D(^TMP("PRPFAG",$J)) D NONE QUIT
"RTN","PRPFMIN",12,0)
 S IOP=PRIOP,DIC="^PRPF(470,",L=0,L(0)=1,BY=".01",(FR,TO)="",BY(0)="^TMP(""PRPFAF"",$J,",FLDS="[PRPF MIN/MAX1]",DIOEND="K ^TMP(""PRPFAF"",$J)" D:'$D(ZTQUEUED) WAIT^PRPFYN
"RTN","PRPFMIN",13,0)
 D EN1^DIP I '$D(ZTQUEUED) D ENCON^PRPFQ
"RTN","PRPFMIN",14,0)
 S IOP=PRIOP,DIC="^PRPF(470,",L=0,L(0)=1,BY=".01",(FR,TO)="",BY(0)="^TMP(""PRPFAG"",$J,",FLDS="[PRPF MIN/MAX2]",DIOEND="K ^TMP(""PRPFAG"",$J)" D:'$D(ZTQUEUED) WAIT^PRPFYN
"RTN","PRPFMIN",15,0)
 D EN1^DIP I '$D(ZTQUEUED) D ENCON^PRPFQ
"RTN","PRPFMIN",16,0)
 K DIJ,DP,DQTIME,IOX,IOY,MAX1,MAX2,MIN1,MIN2,PRPFQ,PRIOP,SBAL,PRIOP,DIOEND
"RTN","PRPFMIN",17,0)
 S ZTREQ="@"
"RTN","PRPFMIN",18,0)
 QUIT
"RTN","PRPFMIN",19,0)
NONE S IOP=ION W @IOF D NOW^PRPFQ W "PATIENT FUNDS MIN/MAX REPORT",?50,%X,!!,"No matches were found while running this report." W:$E($G(IOST))="P" @IOF
"RTN","PRPFMIN",20,0)
 Q
"RTN","PRPFMIN",21,0)
CK ;CHECKS BALANCES
"RTN","PRPFMIN",22,0)
 Q:'+$D(^PRPF(470,DA,2))  S A=^(2),MIN1=+$P(A,U),MAX1=+$P(A,U,2),MIN2=+$P(A,U,3),MAX2=+$P(A,U,4),SBAL=$S($D(^(1)):$P(^(1),U,4),1:0)
"RTN","PRPFMIN",23,0)
 Q:$P(^PRPF(470,DA,0),U,2)="I"  ; <<<< by REW in patch 8 to suppress inactives
"RTN","PRPFMIN",24,0)
 I MIN1=0!(MAX1=0) G CK1
"RTN","PRPFMIN",25,0)
 I MIN1<MAX1 I SBAL>MAX1!(SBAL<MIN1) S ^TMP("PRPFAF",$J,DA)=""
"RTN","PRPFMIN",26,0)
CK1 I MIN2=0!(MAX2=0) Q
"RTN","PRPFMIN",27,0)
 I MIN2<MAX2,SBAL>MAX2!(SBAL<MIN2) S ^TMP("PRPFAG",$J,DA)=""
"RTN","PRPFMIN",28,0)
 Q
"UP",470,470.01,-1)
470^3
"UP",470,470.01,0)
470.01
"VER")
8.0^21.0
"^DD",470,470.01,9,0)
DATE ENTERED^CJ10^^ ; ^X ^DD(470.01,9,9.3) S:X X=$E(X,4,5)_"/"_$E(X,6,7)_"/"_(1700+$E(X,1,3)) S X=X S D0=Y(470.01,9,80) S D1=Y(470.01,9,81)
"^DD",470,470.01,9,.1)
DATE
"^DD",470,470.01,9,9)
^
"^DD",470,470.01,9,9.01)
470.1^5;470.01^.01
"^DD",470,470.01,9,9.1)
NUMDATE4(PATIENT TRANSACTION:DATE TRANSACTION ENTERED)
"^DD",470,470.01,9,9.2)
S Y(470.01,9,81)=$S($D(D1):D1,1:""),Y(470.01,9,80)=$S($D(D0):D0,1:""),Y(470.01,9,1)=$S($D(^PRPF(470,D0,3,D1,0)):^(0),1:"")
"^DD",470,470.01,9,9.3)
X ^DD(470.01,9,9.2) S D0=$P(Y(470.01,9,1),U,1) S:'$D(^PRPF(470.1,+D0,0)) D0=-1 S Y(470.01,9,101)=$S($D(^PRPF(470.1,D0,0)):^(0),1:"") S X=$P(Y(470.01,9,101),U,6)
"^DD",470,470.01,9,"DT")
2980225
**END**
**END**
