$TXT Created by METCALF,ROGER at VAA-RAD.VA.GOV  (KIDS) on TUESDAY, 11/27/01 at 13:37
=============================================================================
Run Date: NOV 28, 2001                     Designation: XU*8*212
Package : XU - KERNEL                          Priority: Mandatory
Version : 8       SEQ #181                       Status: Released
=============================================================================

Associated patches: (v)XU*8*209    <<= must be installed BEFORE `XU*8*212'

Subject: MFS - Developer / Test Server

Category: 
  - Enhancement (Mandatory)

Description: 
============

 The IFR project - patch XU*8*206 - implemented a Master File Server (MFS)
 mechanism.  Also included in patch 206 was functionality to clean up the 
 local INSTITUTION (#4) file with data from the Institution Master File (IMF) 
 -- the FORUM server.
  
 The server mechanism was implemented using HL7 as the messaging protocol.  
 The VistA implementation of HL7 provides site parameter specifications 
 regarding environment such as the target account (production, debug, or 
 training).
  
 For reasons of security and other considerations, the target account is 
 included in the HL7 message header.  A message to a production link will 
 reject if the header indicates the message is intended for the training 
 account.  The HL7 package does not route these messages but rejects them.
  
 Several developers have requested the ability to subscribe to the 
 unsolicited update notifications related to IMF updating.  Since the 
 development accounts normally have the HL7 site parameter set to 'training' 
 to avoid any unintentional messages to production systems, it is not 
 possible to subscribe to the IMF FORUM server because that is a production
 server.
  
 Also, sites have requested the ability to perform and test the IFR patch 
 clean up in their training accounts as well as subscribe to unsolicited 
 update notifications.
  
 A separate developer / test account was required.  The Bay Pines Test Lab 
 has provided a host environment to act as a developer / test Master File 
 Server (MFS).
  
 This patch enhances the MFS components and the clean up code related to the 
 INSTITUTION (#4) file clean up to allow sites to connect to either the 
 production server on FORUM or the developer / test server at Bay Pines Test 
 Lab, and allows sites and developers to subscribe to update notifications 
 from the test lab.
  
 ============================
  
 CHECK^XTSUMBLD
  
 Rtn Nm    Before     After     Patch list
 ------    -------    -----     -----------
 XUMF4     9167436    8713427   **206,209,212**
 XUMF4A    5724102    5724999   **206,209,212**
  
 ===============================================
  
 TEST SITES
  
 Puget Sound HCS
 Montana HCS
 Birmingham OIFO
  
 ===============================================
 INSTALLATION INSTRUCTIONS
 
 WARNING:  Prior to installing Institution File Redesign (IFR) patches 
 (XU*8*206, XU*8*209, and XU*8*212), make a copy of the INSTITUTION (#4) 
 file.
 
   Use ^%GTO (DSM) (for Cache use %GO) to save a copy of the INSTITUTION 
   (#4) file for backup purposes.  Following is an example:
  
     VAH>D ^%GTO
  
     This routine saves globals to be restored by %GTI
  
     Output Device ?  > DIC4.GBL
  
     Header comment... INSTITUTION (#4) file backup
     global(s) ? > ^DIC(4
     global(s) ? > ^DIC(4.1
     global(s) ? > ^
 
     Global(s) Selected:
        ^DIC(4)
  
     Output started for ^DIC at 8:19:50 AM
  
     Global transfer finished at 8:19:51 AM
  
     VAH>
  
 In the event of some unforeseen disaster the site decides they need to back
 out of the clean up, the site may 'KILL ^DIC(4),^DIC(4.1' and DO ^%GTI 
 (DSM)(for Cache use DO ^%GI) to restore the backup copy.  This will restore 
 the data to its original state.
  
 The patch can be installed at anytime.  Install time should not take more
 than two minutes.
  
 1.  Users ARE allowed to be on the system during the installation. 
  
 2.  DSM/AXP sites: These routines are not usually mapped, so you will
 probably not have to disable mapping. 
  
 3.  You DO NOT need to stop TaskMan or the background filers.
  
 4.  Use the "INSTALL/CHECK MESSAGE" option on the PackMan menu. This loads 
 the patch into a Transport Global onto your system. 
  
 5.  On the KIDS menu, select the "Installation" menu and use the following 
 options to install the Transport Global: 
  
            Verify Checksums in Transport Global
            Print Transport Global 
            Compare Transport Global to Current System
            Backup a Transport Global
  
            Install Package(s) 
  
              INSTALL NAME: XU*8.0*212
                            ==========
  
     Want KIDS to INHIBIT LOGONs during the install?  NO
                                                      ==
     Want to DISABLE Scheduled Options, Menu Options, and Protocols?  NO
                                                                      ==
  
 6.  DSM/AXP Sites - Answer NO to the question "Want to MOVE routines to 
 other CPUs?"   
  
 7.  DSM/AXP Sites:  If the routines were unmapped per STEP #2, the mapped 
 set should be rebuilt once the installation has run to completion.
 
 POST-INSTALLATION INSTRUCTIONS
 
 This patch allows you to run the clean up in a test account without any 
 special set up.  The clean up process is documented in the IFR, Supplement 
 to Patch Description (XU*8*206) posted on the web.  The web address is
 http://vista.med.va.gov/vdl/#App9 -- see appendix B.

Routine Information:
====================

=============================================================================
User Information:                               
Entered By  : METCALF,ROGER A               Date Entered : AUG 29, 2001
Completed By: MURPHY,MINAO J               Date Completed: NOV 27, 2001
Released By : GAYFIELD,LISA                 Date Released : NOV 28, 2001
=============================================================================


Packman Mail Message:
=====================

$END TXT
