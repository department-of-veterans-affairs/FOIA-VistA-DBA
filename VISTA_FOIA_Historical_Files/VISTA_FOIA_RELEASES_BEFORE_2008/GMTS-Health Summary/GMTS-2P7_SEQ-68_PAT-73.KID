Released GMTS*2.7*73 SEQ #68
Extracted from mail message
**KIDS**:GMTS*2.7*73^

**INSTALL NAME**
GMTS*2.7*73
"BLD",6117,0)
GMTS*2.7*73^HEALTH SUMMARY^0^3050425^y
"BLD",6117,1,0)
^^2^2^3050415^
"BLD",6117,1,1,0)
Correct the Branch of Service line in the demographic Health Summary 
"BLD",6117,1,2,0)
display. The last 1- 4 characters are dropped.
"BLD",6117,4,0)
^9.64PA^^
"BLD",6117,"KRN",0)
^9.67PA^8989.52^19
"BLD",6117,"KRN",.4,0)
.4
"BLD",6117,"KRN",.401,0)
.401
"BLD",6117,"KRN",.402,0)
.402
"BLD",6117,"KRN",.403,0)
.403
"BLD",6117,"KRN",.5,0)
.5
"BLD",6117,"KRN",.84,0)
.84
"BLD",6117,"KRN",3.6,0)
3.6
"BLD",6117,"KRN",3.8,0)
3.8
"BLD",6117,"KRN",9.2,0)
9.2
"BLD",6117,"KRN",9.8,0)
9.8
"BLD",6117,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6117,"KRN",9.8,"NM",1,0)
GMTSDEM^^0^B37316372
"BLD",6117,"KRN",9.8,"NM","B","GMTSDEM",1)

"BLD",6117,"KRN",19,0)
19
"BLD",6117,"KRN",19.1,0)
19.1
"BLD",6117,"KRN",101,0)
101
"BLD",6117,"KRN",409.61,0)
409.61
"BLD",6117,"KRN",771,0)
771
"BLD",6117,"KRN",870,0)
870
"BLD",6117,"KRN",8989.51,0)
8989.51
"BLD",6117,"KRN",8989.52,0)
8989.52
"BLD",6117,"KRN",8994,0)
8994
"BLD",6117,"KRN","B",.4,.4)

"BLD",6117,"KRN","B",.401,.401)

"BLD",6117,"KRN","B",.402,.402)

"BLD",6117,"KRN","B",.403,.403)

"BLD",6117,"KRN","B",.5,.5)

"BLD",6117,"KRN","B",.84,.84)

"BLD",6117,"KRN","B",3.6,3.6)

"BLD",6117,"KRN","B",3.8,3.8)

"BLD",6117,"KRN","B",9.2,9.2)

"BLD",6117,"KRN","B",9.8,9.8)

"BLD",6117,"KRN","B",19,19)

"BLD",6117,"KRN","B",19.1,19.1)

"BLD",6117,"KRN","B",101,101)

"BLD",6117,"KRN","B",409.61,409.61)

"BLD",6117,"KRN","B",771,771)

"BLD",6117,"KRN","B",870,870)

"BLD",6117,"KRN","B",8989.51,8989.51)

"BLD",6117,"KRN","B",8989.52,8989.52)

"BLD",6117,"KRN","B",8994,8994)

"BLD",6117,"QUES",0)
^9.62^^
"BLD",6117,"REQB",0)
^9.611^1^1
"BLD",6117,"REQB",1,0)
GMTS*2.7*60^2
"BLD",6117,"REQB","B","GMTS*2.7*60",1)

"MBREQ")
0
"PKG",229,-1)
1^1
"PKG",229,0)
HEALTH SUMMARY^GMTS^Integrated Health Summary Tools
"PKG",229,22,0)
^9.49I^1^1
"PKG",229,22,1,0)
2.7^2951020^2960805
"PKG",229,22,1,"PAH",1,0)
73^3050425
"PKG",229,22,1,"PAH",1,1,0)
^^2^2^3050425
"PKG",229,22,1,"PAH",1,1,1,0)
Correct the Branch of Service line in the demographic Health Summary 
"PKG",229,22,1,"PAH",1,1,2,0)
display. The last 1- 4 characters are dropped.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","GMTSDEM")
0^1^B37316372
"RTN","GMTSDEM",1,0)
GMTSDEM ; SLC/DLT,KER - Demographics ; 12/11/2002
"RTN","GMTSDEM",2,0)
 ;;2.7;Health Summary;**28,49,55,56,60,73**;Oct 20, 1995
"RTN","GMTSDEM",3,0)
 ;                 
"RTN","GMTSDEM",4,0)
 ; External References
"RTN","GMTSDEM",5,0)
 ;   DBIA 10061  OAD^VADPT
"RTN","GMTSDEM",6,0)
 ;   DBIA 10061  OPD^VADPT
"RTN","GMTSDEM",7,0)
 ;   DBIA 10061  SVC^VADPT
"RTN","GMTSDEM",8,0)
 ;   DBIA 10061  ADD^VADPT
"RTN","GMTSDEM",9,0)
 ;   DBIA 10061  DEM^VADPT
"RTN","GMTSDEM",10,0)
 ;   DBIA 10061  ELIG^VADPT
"RTN","GMTSDEM",11,0)
 ;   DBIA  2967  ^DIC(31,
"RTN","GMTSDEM",12,0)
 ;   DBIA 10035  ^DPT( (file #2)
"RTN","GMTSDEM",13,0)
 ;                     
"RTN","GMTSDEM",14,0)
DEMOG ; Demographic (VADPT)
"RTN","GMTSDEM",15,0)
 N I,VA,VADM,VAERR,VAOA,VASV,VAPA,VAPD,VAEL,SCD,SCDS,SCDP,FROM,GMI,TO,IX,X,Z
"RTN","GMTSDEM",16,0)
 D ADR,PER,SVC,BOS,COMB,ELIG,SC,SCDD,MT
"RTN","GMTSDEM",17,0)
 D NOK^GMTSDEM2,CD^GMTSDEMP(+($G(DFN)))
"RTN","GMTSDEM",18,0)
 D INS^GMTSDEM2,TF^GMTSDEMB(+($G(DFN)))
"RTN","GMTSDEM",19,0)
 D SRC^GMTSDEMB,END
"RTN","GMTSDEM",20,0)
 Q
"RTN","GMTSDEM",21,0)
DEMO(DFN) ;
"RTN","GMTSDEM",22,0)
 K ^TMP("GMTSDEMO",$J,+($G(DFN)))
"RTN","GMTSDEM",23,0)
 N GMTSDEMX,I,VA,VADM,VAERR,VAOA,VASV,VAPA,VAPD,VAEL,SCD,SCDS,SCDP,FROM,GMI,TO,IX,X,Z
"RTN","GMTSDEM",24,0)
 S GMTSDEMX="" D DEMOG D:$D(GMTSTEST) ST
"RTN","GMTSDEM",25,0)
 Q
"RTN","GMTSDEM",26,0)
ADR ; Patient Address
"RTN","GMTSDEM",27,0)
 Q:$D(GMTSQIT)  D:$D(GMTSDEMX) NAM Q:$D(GMTSQIT)  N %,%H,VA,VAPA,VAERR D ADD^VADPT
"RTN","GMTSDEM",28,0)
 D WRT("Address",$S($L(VAPA(1)):VAPA(1),1:"Not available"),"Phone",VAPA(8),1) Q:$D(GMTSQIT)
"RTN","GMTSDEM",29,0)
 I VAPA(2)'="" D WRT(($J("",21)_VAPA(2)),,,,0) Q:$D(GMTSQIT)
"RTN","GMTSDEM",30,0)
 I VAPA(3)'="" D WRT(($J("",21)_VAPA(3)),,,,0) Q:$D(GMTSQIT)
"RTN","GMTSDEM",31,0)
 I VAPA(4)'="" D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",32,0)
 . N STR S STR=VAPA(4)_", " S:VAPA(5)'="" STR=STR_$P($G(VAPA(5)),"^",2)_"  "
"RTN","GMTSDEM",33,0)
 . S:VAPA(6)'="" STR=STR_VAPA(6) D WRT("",STR,"County",$P(VAPA(7),"^",2),1)
"RTN","GMTSDEM",34,0)
 D WRT(" ",,,,0)
"RTN","GMTSDEM",35,0)
 Q
"RTN","GMTSDEM",36,0)
NAM ; Name/SSN/DOB/Sex
"RTN","GMTSDEM",37,0)
 N VAPTYP,VAHOW,VAROUT,VADM D DEM^VADPT
"RTN","GMTSDEM",38,0)
 D WRT("Name",$G(VADM(1)),"SSN",$E($P($G(VADM(2)),"^",2),1,11),1)
"RTN","GMTSDEM",39,0)
 D WRT("Date of Birth",$$EDT^GMTSU($P($G(VADM(3)),"^",1)),,,1)
"RTN","GMTSDEM",40,0)
 Q
"RTN","GMTSDEM",41,0)
PER ; Personal
"RTN","GMTSDEM",42,0)
 Q:$D(GMTSQIT)  N %,%H,VA,VADM,VAERR,VAPD D DEM^VADPT,OPD^VADPT
"RTN","GMTSDEM",43,0)
 I VADM(10)'=""!(VADM(4)'="") D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",44,0)
 . D WRT("Marital Status",$P($G(VADM(10)),"^",2),"Age",$P($G(VADM(4)),"^",1),1)
"RTN","GMTSDEM",45,0)
 I VADM(9)'=""!(VADM(5)'="") D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",46,0)
 . D WRT("Religion",$P($G(VADM(9)),"^",2),"Sex",$P($G(VADM(5)),"^",2),1)
"RTN","GMTSDEM",47,0)
 D RACE^GMTSDEM2 I VAPD(6)'="" D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",48,0)
 . D WRT("Occupation",$P($G(VAPD(6)),"^",1),,,1)
"RTN","GMTSDEM",49,0)
 Q
"RTN","GMTSDEM",50,0)
SVC ; Service
"RTN","GMTSDEM",51,0)
 Q:$D(GMTSQIT)  N %,%H,VAEL,VAERR D ELIG^VADPT
"RTN","GMTSDEM",52,0)
 I $P(VAEL(2),"^",1) D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",53,0)
 . D WRT("Period of Service",$P($G(VAEL(2)),"^",2),,,1)
"RTN","GMTSDEM",54,0)
 Q
"RTN","GMTSDEM",55,0)
BOS ; Branch of Service
"RTN","GMTSDEM",56,0)
 Q:$D(GMTSQIT)  N %,%H,VAEL,VAERR,VASV,GMTSI,FROM,TO
"RTN","GMTSDEM",57,0)
 D SVC^VADPT F GMTSI=6,7,8 D
"RTN","GMTSDEM",58,0)
 . Q:'$D(VASV(GMTSI))  Q:+(VASV(GMTSI))=0
"RTN","GMTSDEM",59,0)
 . S FROM=$$EDT^GMTSU($P(VASV(GMTSI,4),U,1))
"RTN","GMTSDEM",60,0)
 . S TO=$$EDT^GMTSU($P(VASV(GMTSI,5),U,1))
"RTN","GMTSDEM",61,0)
 . S:$L(FROM)&('$L(TO)) TO="UNKNOWN"
"RTN","GMTSDEM",62,0)
 . D:GMTSI=6 WRT("Branch of Service",($P(VASV(GMTSI,1),U,2)_" "_FROM_" TO "_TO),,,1)
"RTN","GMTSDEM",63,0)
 . D:GMTSI'=6 WRT("",($P(VASV(GMTSI,1),U,2)_" "_FROM_" TO "_TO),,,1)
"RTN","GMTSDEM",64,0)
 Q
"RTN","GMTSDEM",65,0)
COMB ; Service Connected Disabilities
"RTN","GMTSDEM",66,0)
 Q:$D(GMTSQIT)  N %,%H,VAEL,VAERR,VASV D ELIG^VADPT,SVC^VADPT
"RTN","GMTSDEM",67,0)
 I $P(VAEL(2),U) D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",68,0)
 . D WRT("Combat",$S(VASV(5):"YES",1:"NO"),"POW",$S(VASV(4):"YES",1:"NO"),1)
"RTN","GMTSDEM",69,0)
 Q
"RTN","GMTSDEM",70,0)
ELIG ; Eligibility
"RTN","GMTSDEM",71,0)
 Q:$D(GMTSQIT)  N Z,I,%,%H,VAEL,VAERR D ELIG^VADPT
"RTN","GMTSDEM",72,0)
 I $P(VAEL(1),"^",1) D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",73,0)
 . D WRT("Eligibility",$P(VAEL(1),"^",2),$S(VAEL(8)'="":"Status",1:""),$P(VAEL(8),"^",2),1)
"RTN","GMTSDEM",74,0)
 I $O(VAEL(1,0)) D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",75,0)
 . S I=0 F Z=0:0 D  Q:$D(GMTSQIT)  Q:I=""
"RTN","GMTSDEM",76,0)
 . . Q:$D(GMTSQIT)  S I=$O(VAEL(1,I)) Q:I=""
"RTN","GMTSDEM",77,0)
 . . D WRT("",$P(VAEL(1,I),"^",2),,,1)
"RTN","GMTSDEM",78,0)
 Q
"RTN","GMTSDEM",79,0)
SC ; Service Connected Percent
"RTN","GMTSDEM",80,0)
 Q:$D(GMTSQIT)  N %,%H,VAEL,VAERR D ELIG^VADPT
"RTN","GMTSDEM",81,0)
 D:VAEL(3) WRT("S/C %",$P(VAEL(3),"^",2),,,1)
"RTN","GMTSDEM",82,0)
 Q
"RTN","GMTSDEM",83,0)
SCDD ; Service Connected Disabilities/Diagnosis
"RTN","GMTSDEM",84,0)
 Q:$D(GMTSQIT)  N SCD,SCDP,SCDS,IX,GMTSC S (IX,GMTSC)=0
"RTN","GMTSDEM",85,0)
 F  S IX=$O(^DPT(DFN,.372,IX)) Q:$D(GMTSQIT)  Q:+IX=0  D SCDP  Q:$D(GMTSQIT)
"RTN","GMTSDEM",86,0)
 Q
"RTN","GMTSDEM",87,0)
SCDP ; Service Connected Diagnosis
"RTN","GMTSDEM",88,0)
 Q:$D(GMTSQIT)  N SCD,SCDS,SCDP S SCD=^DPT(DFN,.372,IX,0)
"RTN","GMTSDEM",89,0)
 S SCDS=$S($P(SCD,"^",1):$P(^DIC(31,$P(SCD,"^",1),0),"^",1),1:"")
"RTN","GMTSDEM",90,0)
 S SCDP=$P(SCD,"^",2)_"% "_$S($P(SCD,"^",3):"SC",1:"")
"RTN","GMTSDEM",91,0)
 S GMTSC=+($G(GMTSC))+1
"RTN","GMTSDEM",92,0)
 I +($G(GMTSC))'>1 D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",93,0)
 . S STR="   S/C Disabilities: "_SCDS,STR=STR_$J("",(61-$L(STR)))_SCDP
"RTN","GMTSDEM",94,0)
 . D WRT(STR,,,,0)
"RTN","GMTSDEM",95,0)
 I +($G(GMTSC))>1 D
"RTN","GMTSDEM",96,0)
 . S STR=$J("",21)_SCDS,STR=STR_$J("",(61-$L(STR)))_SCDP
"RTN","GMTSDEM",97,0)
 . D WRT(STR,,,,0)
"RTN","GMTSDEM",98,0)
 Q
"RTN","GMTSDEM",99,0)
MT ; Means Test
"RTN","GMTSDEM",100,0)
 Q:$D(GMTSQIT)  N %,%H,VAEL,VAERR D ELIG^VADPT
"RTN","GMTSDEM",101,0)
 D:VAEL(9)'="" WRT("Means Test",$P(VAEL(9),"^",2),,,1)
"RTN","GMTSDEM",102,0)
 Q
"RTN","GMTSDEM",103,0)
NOK ; Next of Kin
"RTN","GMTSDEM",104,0)
 Q:$D(GMTSQIT)  N %,%H,VAOA S VAOA("A")=1 D OAD^VADPT
"RTN","GMTSDEM",105,0)
 Q:VAOA(9)=""  I VAOA(9)'="" D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",106,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)
"RTN","GMTSDEM",107,0)
 . W ?16,"NOK: ",VAOA(9)
"RTN","GMTSDEM",108,0)
 . W:VAOA(10)'="" ?51,"Relation: ",VAOA(10) W !
"RTN","GMTSDEM",109,0)
 I VAOA(1)'="" D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",110,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)
"RTN","GMTSDEM",111,0)
 . W:VAOA(1)]"" ?21,VAOA(1)
"RTN","GMTSDEM",112,0)
 . W:VAOA(8)'="" ?54,"Phone: ",VAOA(8) W !
"RTN","GMTSDEM",113,0)
 I VAOA(2)'="" D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",114,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W ?21,VAOA(2),!
"RTN","GMTSDEM",115,0)
 I VAOA(3)'="" D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",116,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W ?21,VAOA(3),!
"RTN","GMTSDEM",117,0)
 I VAOA(4)'="" D  Q:$D(GMTSQIT)
"RTN","GMTSDEM",118,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)
"RTN","GMTSDEM",119,0)
 . W ?21,VAOA(4) W:VAOA(5) ", ",$P(VAOA(5),U,2)
"RTN","GMTSDEM",120,0)
 . W:VAOA(6) "  ",VAOA(6) W !
"RTN","GMTSDEM",121,0)
 Q
"RTN","GMTSDEM",122,0)
IEN ; Ineligible for Care Data
"RTN","GMTSDEM",123,0)
 Q:$D(GMTSQIT)  N STR,REM,WRD,%,%H,VAEL,VAERR,GMTSDT D ELIG^VADPT
"RTN","GMTSDEM",124,0)
 I +($P(VAEL(5,1),U,1))>0 D
"RTN","GMTSDEM",125,0)
 . S GMTSDT=$$EDT^GMTSU($P(VAEL(5,1),U,1))
"RTN","GMTSDEM",126,0)
 . Q:$D(GMTSQIT)  D WRT("Ineligible date",GMTSDT,,,1)
"RTN","GMTSDEM",127,0)
 . Q:$D(GMTSQIT)  S STR=$P(VAEL(5,2),U,2)_"  "_VAEL(5,3)_", "_$P(VAEL(5,4),U,2)
"RTN","GMTSDEM",128,0)
 . D WRT("Inelig. TWX source",STR,,,1)
"RTN","GMTSDEM",129,0)
 . Q:$D(GMTSQIT)  S STR=$G(VAEL(5,5))
"RTN","GMTSDEM",130,0)
 . F WRD=1:1 Q:$L(STR)'>58  D
"RTN","GMTSDEM",131,0)
 . . S REM=$P(STR," ",($L(STR," ")-WRD),$L(STR," "))
"RTN","GMTSDEM",132,0)
 . . S STR=$P(STR," ",1,($L(STR," ")-(WRD+1)))
"RTN","GMTSDEM",133,0)
 . D:$L(STR) WRT(($J("",21)_STR),,,,0)
"RTN","GMTSDEM",134,0)
 . D:$L(REM) WRT(($J("",21)_REM),,,,0)
"RTN","GMTSDEM",135,0)
 . D:$L(VAEL(5,6)) WRT("Reason",$E(VAEL(5,6),1,58),,,1)
"RTN","GMTSDEM",136,0)
 Q
"RTN","GMTSDEM",137,0)
 ;                      
"RTN","GMTSDEM",138,0)
WRT(CH1,CD1,CH2,CD2,FMT) ; Write/Save Demographic Line
"RTN","GMTSDEM",139,0)
 ;          
"RTN","GMTSDEM",140,0)
 ;   Input
"RTN","GMTSDEM",141,0)
 ;     CH1 - Column 1 Header or Preformated Line
"RTN","GMTSDEM",142,0)
 ;     CD1 - Column 1 Data
"RTN","GMTSDEM",143,0)
 ;     CH2 - Column 2 Header
"RTN","GMTSDEM",144,0)
 ;     CD2 - Column 2 Data
"RTN","GMTSDEM",145,0)
 ;     FMT - Format in Columns  1=Yes 0=No
"RTN","GMTSDEM",146,0)
 ;          
"RTN","GMTSDEM",147,0)
 ;   If the variable GMTSDEMX exist, then the data will 
"RTN","GMTSDEM",148,0)
 ;   be saved in a global array instead of written to the
"RTN","GMTSDEM",149,0)
 ;   screen.  Global array:
"RTN","GMTSDEM",150,0)
 ;          
"RTN","GMTSDEM",151,0)
 ;     ^TMP("GMTSDEMO",$J,DFN,#)=<demographic text>
"RTN","GMTSDEM",152,0)
 Q:$D(GMTSQIT)  N STR,BL,COL1,COL2,LN,LNLGTH
"RTN","GMTSDEM",153,0)
 S LN=+($O(^TMP("GMTSDEMO",$J,+($G(DFN))," "),-1))+1,CH1=$G(CH1),CD1=$G(CD1),CH2=$G(CH2),CD2=$G(CD2),FMT=$G(FMT)
"RTN","GMTSDEM",154,0)
 S:+FMT'>0 STR=CH1
"RTN","GMTSDEM",155,0)
 I +FMT>0 D
"RTN","GMTSDEM",156,0)
 . S LNLGTH=59
"RTN","GMTSDEM",157,0)
 . S:CH2="" LNLGTH=78
"RTN","GMTSDEM",158,0)
 . S BL=$J("",(19-$L(CH1))),CH1=BL_CH1_$S($L(CH1)>0:": ",1:"  ")
"RTN","GMTSDEM",159,0)
 . S BL=$J("",(((LNLGTH-$L(CH1))-$L(CH2))-2))
"RTN","GMTSDEM",160,0)
 . S CD1=$E(CD1,1,$L(BL)),COL1=CH1_CD1
"RTN","GMTSDEM",161,0)
 . S BL=$J("",((59-$L(COL1))-$L(CH2)))
"RTN","GMTSDEM",162,0)
 . S CH2=BL_CH2_$S($L(CH2)>0:": ",1:"  "),COL2=CH2_$E(CD2,1,17)
"RTN","GMTSDEM",163,0)
 . S STR=COL1_COL2
"RTN","GMTSDEM",164,0)
 I '$D(GMTSDEMX) D CKP^GMTSUP Q:$D(GMTSQIT)  W $G(STR),!
"RTN","GMTSDEM",165,0)
 S:$D(GMTSDEMX) ^TMP("GMTSDEMO",$J,+($G(DFN)),LN)=STR
"RTN","GMTSDEM",166,0)
 Q
"RTN","GMTSDEM",167,0)
 ;                        
"RTN","GMTSDEM",168,0)
ST ; Show ^TMP Global Array
"RTN","GMTSDEM",169,0)
 W !! N NN,NC S NN="^TMP(""GMTSDEMO"","_$J_","_+($G(DFN))_")",NC="^TMP(""GMTSDEMO"","_$J_","_+($G(DFN))_"," F  S NN=$Q(@NN) Q:NN=""!(NN'[NC)  W !,@NN
"RTN","GMTSDEM",170,0)
 Q
"RTN","GMTSDEM",171,0)
END ; Clean-up and quit
"RTN","GMTSDEM",172,0)
 K I,VA,VADM,VAERR,VAOA,VASV,VAPA,VAPD,VAEL,SCD,SCDS,SCDP,FROM
"RTN","GMTSDEM",173,0)
 K GMI,TO,IX,X,Z Q
"VER")
8.0^22.0
"BLD",6117,6)
^SEQ #68
**END**
**END**
