$TXT Created by ORMSBY,SKIP at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Friday, 11/12/04 at 05:08
=============================================================================
Run Date: JAN 05, 2005                     Designation: XU*8*370
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #303                      Status: Released
                  Compliance Date: FEB 05, 2005
=============================================================================

Associated patches: (v)XU*8*330    <<= must be installed BEFORE `XU*8*370'

Subject: Displaying Providers Who Don't Have VistA Access

Category: 
  - Routine
  - Other

Description:
============

 This patch corrects the following issue:
  
 Providers who don't have access to a local sites VistA system are not 
 being displayed as a selectable provider in CPRS, for example, a FEE 
 Basis Provider.  So that these providers will now display, a new Security 
 Key is being exported: XUORES.  This security key should NEVER be 
 entered as LOCK either on an individual type option or on a menu type 
 option.  Once Allocated to the New Person entry, that provider will begin
 to be displayed.
  
 DBA Clearance
 =============
 Nov 5, 2004
  
 New Cross Reference
 ===================
 FILE: 200                               NAME: AUSERKEY
   SHORT DESCRIPTION: Index to monitor the Allocation/De-allocation of the 
                      XUORES Security Key
 TYPE: MUMPS
   EXECUTION: FIELD                      ACTIVITY: IR
   ROOT TYPE: WHOLE FILE                 ROOT FILE: 200.051
   USE: SORTING ONLY
   SET LOGIC: I $$PROVIDER^XUSER(DA(1))
              S ^VA(200,"AUSER",$P(^VA(200,DA(1),0),U), DA(1))=""
   KILL LOGIC: I '$$PROVIDER^XUSER(DA(1))
               K ^VA(200,"AUSER",$P(^VA(200,DA(1),0),U ),DA(1))
   KILL ENTIRE INDEX CODE: Q
 ORDER NUMBER: 1                         TYPE OF VALUE: FIELD
   FILE: 200.051                         FIELD: .01
   COLLATION: forwards
  
 New Security Key
 ================
 NAME: XUORES
  DESCRIPTION:   This key is given to Non-VistA persons that are 
 authorized to write orders in the chart.
   
  This key is typically given to licensed Physicians.  
   
  DO NOT give this key to anyone who has VistA access.  Nor assign it to 
 an individual option or menu.  Should the person who holds this key become
 a VistA user then this key should be de-allocated.
  
 $$PROVIDER API Business Rules
 =============================
 Has ACCESS CODE? -->Yes --> Selectable
 NO
 |
 v
 TERMINATION DATE Less Than TODAY And Does Not Own XUORES?
                                 -->Yes --> NOT Selectable
 NO
 |
 v
 Owns XUORES? -->Yes --> Selectable
 NO
 |
 v
 FLAG=TRUE{Default=FALSE} And Does ^VA(200,"BB","VISITOR",DA) exist?
                                 -->Yes --> Selectable
 NO
 |
 v
 Does ^VA(200,"BB","VISITOR",DA) exist? -->Yes -->NOT Selectable
 NO
 |
 v
 NOT Selectable
  
 Blood Bank Clearance
 ====================
 Clearance - Nov 9. 2004
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch XU*8*370 contains 
 changes to a package referenced in VHA OI SEPG SOP 192-023 Review of 
 VISTA Patches for Effects on VISTA Blood Bank Software. This patch does 
 not alter or modify any VistA Blood Bank software design safeguards or 
 safety critical elements functions.
  
 RISK ANALYSIS: Changes made by patch XU*8*370 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 NOIS
 ====
  ALX-1004-70411; ANC-1004-51696; BHH-1004-41281; STC-1004-42054;
  TUC-1104-60086
  
 Thanks to Test Sites 
 ====================
 CLARKSBURG, WV  System: VMS/CACHE
 MARTINSBURG, WV  System: VMS/CACHE
 MINNEAPOLIS, MN  System: VMS/CACHE
 MONTANA HCS  System: ALPHA/ISM (NT)
 NORTHERN CALIFORNIA HCS  System: ALPHA/DSM
 ST CLOUD, MN  System: VMS/CACHE
 TUCSON, AZ  System: VMS/CACHE
  
 Routine Summary: 
 ================
  The following routines are included in this patch.  The second line of 
 these routines now look like: 
   
   <tab>;;8.0;KERNEL;**[patch list]**;Jul 10, 1995
   
 CHECK^XTSUMBLD results: 
   
   Routine Name   Before Patch    After Patch     Patch List 
   ============   ============    ===========     ==========
   XU8P370        N/A             1605755         370
   XUSER          2979384         3063563         75,97,99,150,
                                                  226,267,288,330,370
 Installation Instructions: 
 ==========================
 This patch can be installed with VISTA users online.  However, it is 
 recommended that it be Queued for a time of generally least activity.  
  
 TaskMan does not need to be STOPPED or placed in a WAIT state and 
 installation should take less than a minute.
  
      1.  AXP/DSM sites: Review your mapped routine set.  If any of the 
 routine(s) listed in the ROUTINE SUMMARY section are mapped, they 
 should be removed from the mapped set at this time.  
  
      2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.  
 This option will load the KIDS package onto your system.  
  
      3.  The patch has now been loaded into a transport global on your 
 system. You now need to use KIDS to install the transport global.  
   
      4.  On the KIDS menu, under the 'Installation' menu, use the 
 following options: 
             Print Transport Global 
             Compare Transport Global to Current System 
             Verify Checksums in Transport Global 
             Backup a Transport Global 
  
      5.  On the KIDS menu, under the 'Installation' menu, use the 
 following option: 
             Select Installation Option: Install Package(s) 
             Select INSTALL NAME: XU*8.0*370
                                  ==========
         Answer 'NO' to 'Want KIDS to INHIBIT LOGONs during the install?
         Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu Options,
 and Protocols? 
  
      6.  AXP/DSM Sites - After the patch has been installed, rebuild your 
 map set, if necessary.  

Routine Information:
====================

Routine Name:
  - XUSER


Routine Checksum:

Routine Name:
  - XU8P370


Routine Checksum:

=============================================================================
User Information:
Entered By  : ORMSBY,SKIP                   Date Entered  : NOV 02, 2004
Completed By: SINGH,GURBIR                  Date Completed: JAN 05, 2005
Released By : TILLIS,LEWIS                  Date Released : JAN 05, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
