$TXT Created by FORT,WALLY at PAT-XWB.ISC-SF.VA.GOV  (KIDS) on TUESDAY, 08/28/01 at 11:17
=============================================================================
Run Date: OCT 03, 2001                     Designation: XWB*1.1*22
Package : XWB - RPC BROKER                    Priority: Mandatory
Version : 1.1        SEQ #17                    Status: Released
=============================================================================

Associated patches: (v)XWB*1.1*20  <<= must be installed BEFORE `XWB*1.1*22'

Subject: Name and NullSubscript error

Category: 
  - Routine

Description: 
============

  
 NOIS: BRX-0401-12377, ISA-0401-12369
 The calling site had a New Person File entry with a phone number containing a 
 trailing backslash (\).  As part of Remote Data Views (RDV) this data was then 
 encoded and sent to the remote site.
  
 At the remote site, a bug caused the backslash (\) to be appended to the 
 end of several other strings, which then caused the reported error.  This was 
 fixed by correcting the decoding routine.
  
 Because the error occurred before RDV was setup to handle an error, it caused
 the calling site to keep sending the same message repeatedly.  This has been 
 fixed by setting an error trap at the beginning of RDV.  
  
 If the application does not set some data into the return variable,
 XWB2HL7 will return a string starting with "-1^".
  
 The XWB EXAMPLE option, RPC's and routine (XWBEXMPL) are included to
 add an entry point for testing that will record the symbol table in the error
 trap.
  
 Routine Summary
 The following routines are included in this patch.  The second line of each
 of these routines now looks like:
  ;;1.1;RPC BROKER;<patchlist>;Mar 28, 1997
  
                  Checksum
 Routine         Old       New      2nd Line
 XWB2HL7       9762168  10783627    **12,18,20,22**
 XWB2HL7B      9424236   9524542    **12,22**
 XWBEXMPL      1244483   1441211    **22**
  
 List of preceding patches: 20
 Sites should use CHECK^XTSUMBLD to verify checksums.
 =========================================================================
 Installation:
  
    1.  Do not run any RPC-Broker-based Remote Data View software 
        (e.g., CPRS, PCMM) during the installation.  Do not allow any 
        incoming HL7 RDV messages. To identify these jobs, check the 
        system status and verify if any XWBTCPC routines are running 
        (i.e., Broker Handler).  Once identified, notify users to logoff 
        or forcex the jobs.  Active users may get NOSOURCE or CLOBBER 
        error messages .  
  
    2.  Stop the Broker Listener on the server.  Check the system status 
        and verify if the XWBTCPL routine is running (i.e., Broker 
        Listener).  If it is running stop it.  To stop the Listener, do the
        following: 
  
            a.  Log into your M server.                   
            b.  Enter the following at the M prompt: 
  
                >D STOP^XWBTCP(Listener port) 
                (Typically, the Listener port is 9200) 
  
    3.  Broker routines are not usually mapped on systems that allow it, so
        you will probably not have to disable mapping.
  
    4.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
  
    5.  The patch has now been loaded into a Transport global on your
        system. You now need to use KIDS to install the Transport global.
        On the KIDS menu, under the 'Installation' menu, use the following
        options:
  
           Verify Checksums in Transport Global
           Print Transport Global
           Compare Transport Global to Current System
           Backup a Transport Global
  
    6.  On the KIDS menu, under the 'Installation' menu, use the following
        option:
          Install Package(s)  'XWB*1.1*22'
                               ==========
  
        Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES//
                               
        Want KIDS to INHIBIT LOGONs during the install? YES//
        
        No Options or Protocols need to be placed out-of-order.
        Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO
                                                                        ==
  
    7.  If the routines were unmapped as part of step 3, the mapped set
        should be rebuilt once the installation has run to completion. 
  
    8.  Restart the Broker Listener on the Server:
          a.  Log into your M server
          b.  Enter the following at the M prompt:
  
              >D STRT^XWBTCP(Listener port)
              (Typically, the Listener port is 9200)
  
 ============================================================================

Routine Information:
====================

Routine Name:
  - XWB2HL7


Routine Checksum:

Routine Name:
  - XWB2HL7B


Routine Checksum:

Routine Name:
  - XWBEXMPL


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : FORT,WALLY                     Date Entered : MAY 01, 2001
Completed By: SINGH,GURBIR                  Date Completed: SEP 14, 2001
Released By : PALMER,MICHAEL                Date Released : OCT 03, 2001
=============================================================================


Packman Mail Message:
=====================

$END TXT
