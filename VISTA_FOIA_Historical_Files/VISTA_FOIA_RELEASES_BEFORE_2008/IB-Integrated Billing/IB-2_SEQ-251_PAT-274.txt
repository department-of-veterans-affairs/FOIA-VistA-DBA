$TXT Created by HOLLOWAY,THOMAS J at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 07/22/04 at 17:25
=============================================================================
Run Date: SEP 09, 2004                     Designation: IB*2*274
Package : IB - INTEGRATED BILLING             Priority: Mandatory
Version : 2       SEQ #251                      Status: Released
                  Compliance Date: OCT 10, 2004
=============================================================================

Associated patches: (v)IB*2*240    <<= must be installed BEFORE `IB*2*274'

Subject: CORRECTING USAGE OF DIQUIET VARIABLE

Category: 
  - Routine

Description:
============

 ******************************** N O T E ***********************************
 There is no conflict between this patch and the CoreFLS implementation. 
 Installation of this patch by the CoreFLS sites will not cause any problems.
 ****************************************************************************
   
 The improper usage of the DIQUIET variable can cause identifiers not to be 
 displayed during a FileMan look-up.  There are no reported instances of this
 causing a problem within IB but the possibility exists so the code is being
 brought up to standard.
   
 ASSOCIATED NOIS:
 ================
 1. ISP-0704-N1355     DIQUIET VARIABLE MAY CAUSE LOOK-UP PROBLEMS
   
 ASSOCIATED E3R(s):
 ==================
 N/A
   
 PARTICIPATING TEST SITES:
 ========================
 Dallas, TX
   
 NOIS OVERVIEW:
 ==============
   
 1. ISP-0704-N1355     DIQUIET VARIABLE MAY CAUSE LOOK-UP PROBLEMS
   
    Problem:
    --------
    Several IB routines set the variable DIQUIET to a value of 1 but
    do not remove the variable when done.
    The DIQUIET variable is used by FileMan to control some of what may be
    displayed on-screen during a variety of processes.  If DIQUIET is set
    to 1, the Select function will not display the identifiers when more
    than one choice is available (e.g. when looking up a patient, SSN and
    DOB will not be displayed).  This can make it impossible to determine
    which patient (or item) to select if there are several with the same
    name.  
   
    Resolution:
    -----------
    VistA routines which need to use DIQUIET with a value of 1 should be
    sure to remove the variable when it is no longer needed so that it is
    not accidentally carried over to a situation in which it is 
    inappropriate.  The five routines in IB which exhibit this problem
    will be modified to NEW the variable just prior to using it.  This
    will result in the variable being eliminated as soon as the function
    or subroutine is exited.
   
 TECHNICAL:
 ==========
   
 1. ISP-0704-N1355     DIQUIET VARIABLE MAY CAUSE LOOK-UP PROBLEMS
     
    The following lines of code, in the routines indicated, are modified:
 From this:
 IBACUS: +124     S DIQUIET=1 D DT^DICRW
 IBECUS1: +121    .S DIQUIET=1,IBG=0 D DT^DICRW
 IBECUS2: +23     S DIQUIET=1 D DT^DICRW
 IBECUS21: +56    S DIQUIET=1 D DT^DICRW S $P(^IBA(351.5,IBCHTRN,0),U,7)=DT
 IBECUS22: +35    S DIQUIET=1 D DT^DICRW,^XMD
   
 To this:
 IBACUS: +124     N DIQUIET S DIQUIET=1 D DT^DICRW
 IBECUS1: +121    .N DIQUIET S DIQUIET=1,IBG=0 D DT^DICRW
 IBECUS2: +23     N DIQUIET S DIQUIET=1 D DT^DICRW
 IBECUS21: +56    N DIQUIET S DIQUIET=1 D DT^DICRW S $P(^IBA(351.5,IBCHTRN,0)
                  ,U,7)=DT
 IBECUS22: +35    N DIQUIET S DIQUIET=1 D DT^DICRW,^XMD
   
   
 ROUTINE SUMMARY 
 ===============
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like: 
   
    <tab>;;2.0;INTEGRATED BILLING;**[PATCH LIST]**;21-MAR-94
   
                         CHECK^XTSUMBLD results
 Routine name      Before Patch       After Patch       Patch List
 ============      ============       ===========       ===========
 IBACUS                 1934031           1953528       52,240,274
 IBECUS1                4462965           4486767       52,88,240,274
 IBECUS2                6960432           6979929       52,89,143,162,240,274
 IBECUS21               4322461           4362698       52,240,274
 IBECUS22               2970252           2993459       52,89,240,274
  
   
 INSTALLATION INSTRUCTIONS
 =========================
   
 This patch should be installed after normal working hours when billing
 activity is at a minimum.  Prior to installing this patch, the 
 TRICARE Rx Billing Engine should be stopped (see instruction step 3
 below for more information).  Install time - less than 2 minutes.
   
   1.  Choose the PackMan message containing this patch and invoke the 
       INSTALL/CHECK MESSAGE PackMan option.  
   
   2.  (DSM for open VMS sites only) Disable routine mapping on all systems
       for the routines listed in the routine summary.
       NOTE:  If the routines included in this patch are not currently in
       your mapped routine set, please skip this step.
   
   3.  If your site is running the TRICARE Rx Billing Engine you should stop
       it with 'Stop the TRICARE Rx Billing Engine' [IB TRICARE ENGINE STOP].
   
   4.  Start up the Kernel Installation and Distribution System Menu 
       [XPD MAIN]: 
   
             Edits and Distribution ...  
             Utilities ...
             Installation ...  
   
       Select Kernel Installation & Distribution System Option: INStallation
                                                                ---
   
       1      Load a Distribution
       2      Verify Checksums in Transport Global
       3      Print Transport Global
       4      Compare Transport Global to Current System
       5      Backup a Transport Global
       6      Install Package(s)
              Restart Install of Package(s)
              Unload a Distribution
   
   5.  From this menu, you may elect to use the following options
       (When prompted for the INSTALL NAME, enter IB*2.0*274):
   
       a.  Backup a Transport Global - This option will create a backup
           message of any routines exported with this patch. It will
           not backup any other changes such as DD's or templates.
       b.  Compare Transport Global to Current System - This option
           will allow you to view all changes that will be made when
           this patch is installed.  It compares all components of this
           patch (routines, DD's, templates, etc.).
       c.  Verify Checksums in Transport Global - This option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
         
   6.  Use the Install Package(s) option and select the package IB*2.0*274.
   
       a.  When prompted 'Want KIDS to INHIBIT LOGONs during the
           install- YES//', answer NO.
       b.  When prompted 'Want to DISABLE Scheduled Options, Menu
           Options, and Protocols- YES//' answer YES.
       c.  When prompted "Enter options you wish to mark as 'Out Of Order':",
           enter the following option:
  
           Start the TRICARE Rx Billing Engine    [IB TRICARE ENGINE START]
  
       d.  When prompted "Enter protocols you wish to mark as 'Out Of
            Order':", press <return>.
     
   7.  (DSM for Open VMS sites only) Optional - Include the routines
       distributed with this patch in the mapped routine set.
   
       NOTE: This step is only necessary if you performed step 2 or if you 
       wish to include the routines in your mapped set.
   
   8.  Optional - This step is only necessary if you performed step 3.
       Run the option Start the TRICARE Rx Billing Engine
       [IB TRICARE ENGINE START].
   
 INSTALLATION EXAMPLE:
 =====================
   
 Select OPTION NAME: IB TRICARE ENGINE STOP   Stop the TRICARE Rx Billing Eng
 ine
 Stop the TRICARE Rx Billing Engine
   
 Are you sure you wish to shut down these jobs? YES
   
 The TRICARE Billing and AWP Update engines will be shut down.
 ...
   
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME: IB*2.0*274       Loaded from Distribution  7/22/04@17:3
 5:06
      => IB*2*274 TEST v1
   
 This Distribution was loaded on Jul 22, 2004@17:35:06 with header of 
    IB*2*274 TEST v1
    It consisted of the following Install(s):
      IB*2.0*274
 Checking Install for Package IB*2.0*274
   
 Install Questions for IB*2.0*274
   
 Want KIDS to INHIBIT LOGONs during the install? NO// 
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// 
   
 Enter options you wish to mark as 'Out Of Order': IB TRICARE ENGINE START
 Start the TRICARE Rx Billing Engine
   
 Enter options you wish to mark as 'Out Of Order': 
   
 Enter protocols you wish to mark as 'Out Of Order': 
   
 Delay Install (Minutes):  (0-60): 0// 
   
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
   
 DEVICE: HOME//   IP network
   
                                    IB*2.0*274
 ----------------------------------------------------------------------------
  
  Install Started for IB*2.0*274 : 
                Jul 22, 2004@17:56:31
  
 Build Distribution Date: Jul 22, 2004
  
  Installing Routines:
                Jul 22, 2004@17:56:31
  
  Updating Routine file...
  
  Updating KIDS files...
  
  IB*2.0*274 Installed. 
                Jul 22, 2004@17:56:32
  
  Install Message sent #13791
   
 ----------------------------------------------------------------------------
           +------------------------------------------------------------+
   100%    |             25             50             75               |
 Complete  +------------------------------------------------------------+
   
   
 Install Completed
 ...
   
 Select Installation Option: ^Start the TRICARE Rx Billing Engine

Routine Information:
====================

Routine Name:
  - IBACUS


Routine Checksum:

Routine Name:
  - IBECUS1


Routine Checksum:

Routine Name:
  - IBECUS2


Routine Checksum:

Routine Name:
  - IBECUS21


Routine Checksum:

Routine Name:
  - IBECUS22


Routine Checksum:

=============================================================================
User Information:
Entered By  : HOLLOWAY,THOMAS J             Date Entered  : APR 27, 2004
Completed By: DAWSON,TIM                    Date Completed: SEP 09, 2004
Released By : NEWLIN,JARED                  Date Released : SEP 09, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
