$TXT Created by COX,KEITH A at DMA.FO-ALBANY.MED.VA.GOV  (KIDS) on Monday, 01/27/03 at 20:44
=============================================================================
Run Date: MAR 25, 2003                     Designation: DG*5.3*494
Package : DG - REGISTRATION                    Priority: Mandatory
Version : 5.3       SEQ #435                     Status: Released
                  Compliance Date: APR 25, 2003
=============================================================================


Subject: HL7 SEGMENT BUILDER CHANGES

Category: 
  - Routine
  - Other

Description: 
============

 In support of Patient Name Standardization and Master Patient Index, this 
 patch contains changes to various patient data HL7 segment builders. It 
 also distributes a new server option for reviewing data quality relative 
 to these initiatives.
  
 HL7 segment building routines that contain patient data have been updated
 to utilize Kernel name standardization utilities.  Logic related to the
 A28 message has been modified to prevent the COORDINATING MASTER OF RECORD
 field (#991.03) from being populated prior to the ICN being returned from
 the MPI.
  
  
 Changes to HL7 segment builders:
 --------------------------------
  
 HL7 routines are modified as follows:
  
 VAFCADT2 - If the patient name value is null, ^VAFCPID returns a 
 "-1^Patient Name is Blank" error.
  
 VAFCMSG1 - Modified to quit if no segment array is built and SEGERR=1.                                         
  
 VAFCMSG3 - ICN retrieval call ICNLC^MPIF001 with GETICN^MPIF001.
  
 VAFCPID2 - The FLG parameter which originally denoted whether or not to 
 update the NAME in the patient file is no longer supported.  The patient 
 name value is no longer updated by this routine.
  
 VAFHAPV1 - Changed call to Kernel ^XLFNAME name formatting utility 
 instead of ^HLFNC routine.
  
 VAFHCPV - Changed call to Kernel ^XLFNAME name formatting utility instead 
 of ^HLFNC routine.
  
 VAFHLOBX - Changed call to Kernel ^XLFNAME name formatting utility 
 instead of ^HLFNC routine.
  
 VAFCMS03 - New routine for building patient data ADT-A08 message.
  
  
 New Option:
 -----------
 A new server option, 'DG Data Server' [DG DATA SERVER] for reviewing 
 patient data quality is distributed in this patch.
  
  
 Routine Summary:
 ================
  
 The following is a list of routines included in this patch.
  
 The second line of each of these routines will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993
  
                     CHECK^XTSUMBLD results
  
 Routine name       Before Patch          After Patch        Patch List
 ============       ============          ===========        ==========
 VAFCADT2            4194411               4244024            91,179,209,415,
                                                              494
 VAFCMS03            N/A                   3432207            494
 VAFCMSG1            2558713               2630680            91,149,494
 VAFCMSG3            5974703               5970143            91,209,149,261,
                                                              307,494
 VAFCPID2            10592048              10179962           149,240,312,428,
                                                              494
 VAFHAPV1            10613734              10807874           91,209,190,298,
                                                              494
 VAFHCPV             6744387               6909244            91,151,298,494
 VAFHLOBX            6195387               6490088            189,149,494
  
  
 Installation Instructions:
 ==========================
  
    This patch can be installed with users on the system, however it should
    be installed during off hours to minimize disruption to users.
  
   1. Review your mapped set.  If the routines listed in the ROUTINE
      SUMMARY section are mapped, they should be removed from the mapped
      set at this time.
  
   2. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
   3. From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
  
   4. From this menu, you may elect to use the following options (when
      prompted for the INSTALL NAME, enter DG*5.3*494).
  
       a. Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any of the other changes.
  
       b. Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the patch is
          installed.  It compares all components of the patch (routines and
          options).
  
       c. Verify Checksums in Transport Global - this option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
   5. Use the Install Package(s) option and select the package
      DG*5.3*494.
  
   6. When prompted, 'Want KIDS to Rebuild Menu Trees Upon Completion of 
      Install? YES//' answer NO.
  
   7. When prompted, 'Want KIDS to INHIBIT LOGONs during the install?
      YES//' answer NO.
  
   8. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond NO.
  
   9. If any routines were unmapped as a part of step 1, they should be
      returned to the mapped set once the installation has run to
      completion.

Routine Information:
====================

Routine Name:
  - VAFCADT2


Routine Checksum:

Routine Name:
  - VAFCMS03


Routine Checksum:

Routine Name:
  - VAFCMSG1


Routine Checksum:

Routine Name:
  - VAFCMSG3


Routine Checksum:

Routine Name:
  - VAFCPID2


Routine Checksum:

Routine Name:
  - VAFHAPV1


Routine Checksum:

Routine Name:
  - VAFHCPV


Routine Checksum:

Routine Name:
  - VAFHLOBX


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : COX,KEITH                      Date Entered : JAN 19, 2003
Completed By: FAIN,ZACHARY                  Date Completed: MAR 24, 2003
Released By : FITCH,DONNA                   Date Released : MAR 25, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
