$TXT Created by FORT,WALLY at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Tuesday, 09/05/06 at 15:02
=============================================================================
Run Date: SEP 20, 2006                     Designation: XU*8*393
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #347                      Status: Released
                  Compliance Date: OCT 21, 2006
=============================================================================

Associated patches: (v)XU*8*124    <<= must be installed BEFORE `XU*8*393'
                    (v)XU*8*202    <<= must be installed BEFORE `XU*8*393'
                    (v)XU*8*302    <<= must be installed BEFORE `XU*8*393'
                    (v)XU*8*350    <<= must be installed BEFORE `XU*8*393'

Subject: HF routine checksums to FORUM.

Category: 
  - Routine
  - Data Dictionary

Description:
============

 Patch Tracking #: 41789324
 Test Sites: Montana HCS, Salisbury VAMC, Washington VAMC
 Blood Bank Clearance: 02/23/2006
  
 This patch changes KIDS to send a message to a server on FORUM when a KIDS
 build is send to a HFS device.  This message has the checksums for the
 routines in the patch. The server on FORUM matches the message with a
 patch if the sending domain is authorized on FORUM.
  
 With Changes in the NPM when the patch is released the checksums for the 
 routines are moved to the ROUTINE file on FORUM.  When sites run the option 
 installed by patch XU*8*369 (under development) these GOLD checksums will be 
 used to create reports showing any routines that don't match.
  
 Routine file updates:
  
 STANDARD DATA DICTIONARY #9.8 -- ROUTINE FILE   SEP 5,2006@13:28:54  PAGE 1
 STORED IN ^DIC(9.8,  (5207 ENTRIES)   SITE: SF CIOFO, KERNEL PATCH ACCOUNT     
  
 DATA          NAME                  GLOBAL        DATA
 ELEMENT       TITLE                 LOCATION      TYPE
 ---------------------------------------------------------------------------
 9.8,6         CHECKSUM REPORT        6;1 SET
  
                                 '0' FOR Local - don't report; 
                                 '1' FOR Local - report; 
                                 '2' FOR National - report; 
               LAST EDITED:      OCT 28, 2004 
               DESCRIPTION:      Entries flaged with "National - report" should
                                 not be changed.  Sites may determine if they
                                 want reports on checksum differences for local
                                 routines by selecting "Local - report".  
  
  
 9.8,6.1       LOCALLY MODIFIED       6;2 SET
                                 '1' FOR YES; 
               LAST EDITED:      AUG 24, 2005 
               HELP-PROMPT:      Enter ?? to read field description. 
               DESCRIPTION:      This field was introduced by the VISTA
                                 Auto-patch Utility v2.0 for the purpose of not
                                 installing patches that contain routines with
                                 local mods. If the value is set to YES for a
                                 given routine VAPU will not install a patch or
                                 any of the routines contained in the patch.  
  
  
 9.8,6.2       DELETED BY PATCH       6;3 FREE TEXT
  
               INPUT TRANSFORM:  K:$L(X)>15!($L(X)<2) X
               LAST EDITED:      SEP 21, 2005 
               HELP-PROMPT:      Answer must be 2-15 characters in length. 
               DESCRIPTION:      This field is set by KIDS during an Install
                                 when the routine is sent with the 'delete at
                                 site'.  It holds the patch name.  
  
  
  
  
  
 9.8,7.2       CHECKSUM VALUE         4;2 FREE TEXT
  
               INPUT TRANSFORM:  K:$L(X)>15!($L(X)<2)!'(X?1A1.N) X
               LAST EDITED:      SEP 22, 2005 
               HELP-PROMPT:      Answer must be 1 Alpha 1-14 Numerics in length 
               DESCRIPTION:      This is the saved Checksum value.  The letter
                                 at the front tells us what checksum algorithm
                                 was used.  It is loaded from the KIDS build on
                                 FORUM and sent to the sites.  The only
                                 application that should load date into this
                                 field are on FORUM and the Master File Update
                                 routines in the field.  
  
  
 9.8,8         PATCH                  8;0 Multiple #9.818
  
  
 9.818,.01       PATCH                  0;1 FREE TEXT
  
                 INPUT TRANSFORM:  K:$L(X)>50!($L(X)<2) X
                 LAST EDITED:      MAY 09, 2006 
                 HELP-PROMPT:      Answer must be 2-20 characters in length 
                 DESCRIPTION:      This field holds a Package or Patch name
                                   that included this routine.  
  
                 CROSS-REFERENCE:  9.818^B 
                                   1)= S ^DIC(9.8,DA(1),8,"B",$E(X,1,30),DA)=""
                                   2)= K ^DIC(9.8,DA(1),8,"B",$E(X,1,30),DA)
  
  
 9.818,2         CHECKSUM               0;2 FREE TEXT
  
                 CheckSum                
                 INPUT TRANSFORM:  K:$L(X)>15!($L(X)<2)!'(X?1A1.N) X
                 LAST EDITED:      SEP 22, 2005 
                 HELP-PROMPT:      Answer must be 1 Alpha 1-14 Numerics in 
                                   length. 
                 DESCRIPTION:      This field holds the checksum (based on
                                   $$SUMB^XPDRSUM(routine)) calculated for
                                   Class I release loaded by KIDS.  
  
  
 9.818,3         PATCH LIST             0;3 FREE TEXT
  
                 INPUT TRANSFORM:  K:$L(X)>200!($L(X)<2) X
                 LAST EDITED:      MAY 09, 2006 
                 HELP-PROMPT:      Answer must be 2-200 characters in length 
                 DESCRIPTION:      This field holds the patch list at the time
                                   of the patch.  
  
  
 9.8,9         DEV PATCH              9;0 Multiple #9.819
                                  (Add New Entry without Asking)
  
  
 9.819,.01       Dev Patch              0;1 FREE TEXT
  
                 INPUT TRANSFORM:  K:$L(X)>15!($L(X)<2) X
                 LAST EDITED:      MAY 04, 2006 
                 HELP-PROMPT:      Answer must be 2-15 characters in length. 
                 DESCRIPTION:      This field holds the patch number.  This is
                                   were KIDS will put the Checksum for the
                                   routine at the time the the routine is
                                   exported from the account.  The PATCH (#8)
                                   field is synced with the FORUM gold account.  
  
                 CROSS-REFERENCE:  9.819^B 
                                   1)= S ^DIC(9.8,DA(1),9,"B",$E(X,1,30),DA)=""
                                   2)= K ^DIC(9.8,DA(1),9,"B",$E(X,1,30),DA)
  
  
 9.819,2         Dev Checksum           0;2 FREE TEXT
  
                 INPUT TRANSFORM:  K:$L(X)>20!($L(X)<2) X
                 LAST EDITED:      MAY 04, 2006 
                 HELP-PROMPT:      Answer must be 2-20 characters in length. 
                 DESCRIPTION:      This is the Checksum value for the routine
                                   at the time of export.  
  
  
 9.819,3         Dev Patch List         0;3 FREE TEXT
  
                 INPUT TRANSFORM:  K:$L(X)>200!($L(X)<2) X
                 LAST EDITED:      MAY 04, 2006 
                 HELP-PROMPT:      Answer must be 2-200 characters in length. 
                 DESCRIPTION:      This is the patch list at the time the patch
                                   was exported from this account.  
  
  
 The KIDS build file will keep a build number that will be incremented each
 time a build is made.  This build number will be added to the second line
 of each routine in the 7th ';' piece.  This will make it easy to tell if a
 site is running the current release during testing and afterword.
  
 STANDARD DATA DICTIONARY #9.6 -- BUILD FILE      DEC 6,2005@16:46:31  PAGE 1
 STORED IN ^XPD(9.6,  (893 ENTRIES) SITE: SF CIOFO, KERNEL PATCH ACCOUNT   
 UCI: NXT,NXT                                            (VERSION 8.0)
  
 DATA          NAME                  GLOBAL        DATA
 ELEMENT       TITLE                 LOCATION      TYPE
 ------------------------------------------------------------------------------
  
 9.6,63        Transport Build Number 6.3;1 NUMBER
  
              INPUT TRANSFORM:  K:+X'=X!(X>999)!(X<0)!(X?.E1"."1.N) X
              LAST EDITED:      OCT 17, 2005
              HELP-PROMPT:      Type a number between 0 and 999, 0 Decimal
                                Digits
              DESCRIPTION:      This field holds the Transport Build Number for
                                this package or patch. It is incremented by one
                                every time there is a KIDS transport done. It
                                should not be edited. During the KIDS transport
                                this build number will be inserted into the 7th
                                piece of the second line. During the testing of
                                a package or patch this gives a way for support
                                to know if the most current routines are loaded
  
 This patch also adds an option to KIDS option Compare Transport Global to
 Current System [XPD COMPARE TO SYSTEM] to do a Columnar (side by side)
 compare.  This will only work if patch XT*7.3*93 has been installed. 
 Example:
  
 Select Kernel Installation & Distribution System Option:
  
    1      Load a Distribution
    2      Verify Checksums in Transport Global
    3      Print Transport Global
    4      Compare Transport Global to Current System
    5      Backup a Transport Global
    6      Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 Select Installation Option: 4  Compare Transport Global to Current System
 Select INSTALL NAME:  XU*8.0*381    Loaded from Distribution     
 Loaded from Distribution  9/14/06@12:39:52
      => DEMO COMPARE  ;Created on Sep 14, 2006@12:39:17
  
 This Distribution was loaded on Sep 14, 2006@12:39:52 with header of 
    DEMO COMPARE  ;Created on Sep 14, 2006@12:39:17
    It consisted of the following Install(s): XU*8.0*381
  
      Select one of the following:
  
           1         Full Comparison
           2         Second line of Routines only
           3         Routines only
           4         Columnar Routine compare
  
 Type of Compare: 4  Columnar Routine compare
 DEVICE: HOME//   Telnet terminal
  
 Compare XU*8.0*381 to current site     Routines Only
 --------------------------------------------------------------------------
  
 Compare of routines from KIDS XU*8.0*381, and disk
  
 Routine XU8P381 not on disk
 --------------------------------------------------------------------------
 Routine XUTMTP
    KIDS                                    Disk
 --------------------------------------------------------------------------
 1{XUTMTP ;SEA/RDS - TaskMan:ToolKit} 1{XUTMTP ;SEA/RDS - TaskMan: ToolKit}
  {, Print, Part 1 ;04/18/2006  16:19} {, Print, Part 1 ;04/24/2003  11:06}
                         ^                                       ^
 2{ ;;8.0;KERNEL;**20,86,169,242,381*}2{ ;;8.0;KERNEL;**20,86,169,242**;Ju}
                                 ^                                       ^
 --------------------------------------------------------------------------
  
 In the option "Update Routine File" [XPD ROUTINE UPDATE] any routine that 
 has been marked in the CHECKSUM REPORT (#6) in the ROUTINE file (#9.8) as 
 "National" will not be deleted during the clean up the Routine File phase 
 of the update.
  
 HD: 134548
 Problem: In the Package file (#9.4) the VERSION field (#22) the PATCH 
 APPLICATION HISTORY field (#1105) the DATE APPLIED (#.02) is date only.  
 This causes problems with the KIDS function that returns the last patch 
 when more that one patch is applied to the same package on the same day.
 Fix: Change the DD to allow time.  Change the code to store $$NOW^XLFDT in 
 place of DT.
  
 STANDARD DATA DICTIONARY #9.4 -- PACKAGE FILE  SEP 5,2006@12:47:12  PAGE 6
 STORED IN ^DIC(9.4,  (116 ENTRIES)   SITE: SF CIOFO, KERNEL PATCH ACCOUNT  
  
 DATA          NAME                  GLOBAL        DATA
 ELEMENT       TITLE                 LOCATION      TYPE
 --------------------------------------------------------------------------
 9.4901,.02        DATE APPLIED       0;2 DATE
  
                   INPUT TRANSFORM:S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
                   LAST EDITED:  SEP 05, 2006 
                   HELP-PROMPT:  (No range limit on date)
  
  
 Routine Summary
 Checksums shown are OLD Checksums
 The following routines are included in this patch.  The second line of each
 of these routines now looks like:
  ;;8.0;KERNEL;**[Patch List]**;Jul 10, 1995;
  
                  Checksums
 Routine         Before      After      Patch List
 XPDCOM        5537105     6136855    **21,58,108,124,393**
 XPDDCS        4262122     6107806    **2,44,108,202,393**
 XPDET         5725256     5738051    **15,39,41,44,51,58,66,137,229,393**
 XPDIA3        3290308     3340448    **201,302,393**
 XPDIP        10212384    10261359    **15,21,28,30,41,44,51,58,83,92,100,
                                        108,137,229,350,393**
 XPDIR         2964712     3042542    **30,58,393**
 XPDIST        6477481     6535643    **66,108,185,233,350,393**
 XPDR         18038674    18353216    **1,2,44,393**
 XPDT         19317490    21069279    **2,10,28,41,44,51,58,66,68,85,100,
                                        108,393**
 XPDTA         9184295     9633399    **15,44,58,131,229,393**
  
 List of preceding patches: 124, 202, 302, 350
 Sites should use CHECK^XTSUMBLD to verify checksums.
  
 =========================================================================
 Installation:
  
 >>>Users may remain on the system.
 >>>TaskMan does *not* need to be stopped.
  
   1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
       option will load the KIDS package onto your system.
  
   2.  The patch has now been loaded into a Transport global on your
       system. You now need to use KIDS to install the Transport global.
       On the KIDS menu, under the 'Installation' menu, use the following
       options:
  
          Verify Checksums in Transport Global
          Print Transport Global
          Compare Transport Global to Current System
          Backup a Transport Global
  
   3.  Users can remain on the system. This patch can be loaded any
       non-peak time.
       Do not do a KIDS transport during the install.
       TaskMan can remain running.
  
   4.  Installation will take less than 2 minutes.
       On the KIDS menu, under the 'Installation' menu, use the following
       option:
         Install Package(s)  'XU*8.0*393'
                              ==========
  
       Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
       
       Want KIDS to INHIBIT LOGONs during the install? YES// NO
  
       Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
  
 =========================================================================

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: XPDCOM
    Before: B12356442  After: B12902115  **21,58,108,124,393**
Routine Name: XPDDCS
    Before: B10451575  After: B17950481  **2,44,108,202,393**
Routine Name: XPDET
    Before: B32568215  After: B32583280  **15,39,41,44,51,58,66,137,229,393**
Routine Name: XPDIA3
    Before:  B8649739  After:  B8738323  **201,302,393**
Routine Name: XPDIP
    Before: B39673736  After: B39786511  **15,21,28,30,41,44,51,58,83,
                                          92,100,108,137,229,350,393**
Routine Name: XPDIR
    Before:  B4714175  After:  B4848673  **30,58,393**
Routine Name: XPDIST
    Before: B15492727  After: B15585220  **66,108,185,233,350,393**
Routine Name: XPDR
    Before: B49327107  After: B50211509  **1,2,44,393**
Routine Name: XPDT
    Before: B60483119  After: B73091341  **2,10,28,41,44,51,58,66,68,85,
                                          100,108,393**
Routine Name: XPDTA
    Before: B26161584  After: B28341432  **15,44,58,131,229,393**

=============================================================================
User Information:
Entered By  : FORT,WALLY                    Date Entered  : JUL 13, 2005
Completed By: SINGH,GURBIR                  Date Completed: SEP 14, 2006
Released By : TILLIS,LEWIS                  Date Released : SEP 20, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
