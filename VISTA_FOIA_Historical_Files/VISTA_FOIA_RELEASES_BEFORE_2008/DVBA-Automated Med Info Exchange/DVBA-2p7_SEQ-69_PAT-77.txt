$TXT Created by HARTIN,JAMES at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 08/31/04 at 15:40
=============================================================================
Run Date: DEC 08, 2004                     Designation: DVBA*2.7*77
Package : DVBA - AUTOMATED MED INFO EXCHANGE  Priority: Mandatory
Version : 2.7        SEQ #69                    Status: Released
                  Compliance Date: JAN 08, 2005
=============================================================================

Associated patches: (v)DVBA*2.7*55 <<= must be installed BEFORE `DVBA*2.7*77'

Subject: CORRECT WRONG PATIENT NAME ENTERED IN NAME COMPONENT

Category: 
  - Routine

Description:
============

 ***********************************************************************
 NOTE: It is recommended that users close the CAPRI GUI and restart CAPRI
 GUI after the installation of this patch is complete, to get the benefits
 of the patch.
 THIS PATCH DOES NOT CORRECT DATA ENTERED BEFORE THE INSTALLATION OF THE 
 PATCH - POST INSTALLATION INSTRUCTIONS DETAIL DATA CORRECTION.
 ***********************************************************************
 This patch corrects the problem causing Pre-appointment letters to print
 the wrong veteran name: all other info on the letter was correct.
  
 ASSOCIATED NOIS:
 ================
 1. BHS-1003-11991     WRONG PATIENT NAME IN NAME COMPONENT
    DUPLICATE: IND-1003-41957   Records incorrectly being entered by DVBA
    NTH-0904-70569     PRE-APPT LETTER PRINTS WRONG NAME
  
 ASSOCIATED E3RS:
 ================
 N/A
    
 PARTICIPATING TEST SITES:
 =========================
 North Texas
 Boston (Boston HCS),MA
 Albuquerque, NM
 North Chicago, IL 
    
 NOIS OVERVIEW:
 ==============
 1. BHS-1003-11991     WRONG PATIENT NAME IN NAME COMPONENT
    
    Problem:
    --------
 Pre-appointment letters printing the wrong veteran name: all other info on
 the letter is correct.  The incorrect name is coming from the NAME
 COMPONENTS file (FILE 20). This is happening with newly
 entered patients who were entered using CAPRI.
  
 This occurs when the following sequence of events occurs:
  
 a. Two or more patients are entered during the same CAPRI session.
 b. On the "Enter New Patient" screen incorrect data is entered.
 c. When pressing the "Add Patient" button an error box is returned.
 d. The data is corrected. 
 e. The "Add Patient" button is pressed again without an error box
 appearing.
 f. Next patient added.
  
    Resolution:
    -----------
 It all comes down to variable DG20NAME in the input transform of the name 
 field in file 2. When using CAPRI, the Delphi FM Components are being 
 called. DG20NAME isn't getting killed off. So, if the user enters a 
 patient, works with the patient in CAPRI, then proceeds to enter another
 patient without exiting CAPRI, the DG20NAME variable in the input 
 transform is still there and the previous info gets passed into file
 20. The routine DVBCPATA will be modified to clean up (kill) the DG20NAME
 variable when a new name process is complete and going to MPI to be 
 finalized.
       
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The 
 second line of each of these routine(s) will look like:
    
     <tab>;;2.7;AMIE;**[patch list]**;Apr 10, 1995
    
                            CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DVBCPATA          6402276               6423722          1,23,40,42,55,77
  
    
 INSTALLATION INSTRUCTIONS
 =========================
    
 This patch can be installed at any time. Users do not need to be off
 the system. However you may want to have users close the CAPRI GUI 
 during installation. Installation will take less than 2 minutes.
    
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.
    
  2.  (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
    
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
    
  3.  Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
     
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
    
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
    
           Load a Distribution 
           Print Transport Global 
           Compare Transport Global to Current System 
           Verify Checksums in Transport Global 
           Install Package(s) 
           Restart Install of Package(s) 
           Unload a Distribution 
           Backup a Transport Global  
    
  4.  From this menu, you may elect to use the following options
      (when prompted for the INSTALL NAME, enter DVBA*2.7*77):
    
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
    
  5.  Use the Install Package(s) option and select the package DVBA*2.7*77.
    
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          YES//', answer NO (unless otherwise indicated).
      b.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//', answer NO.
    
  6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
    
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.
  
 POST INSTALLATION INSTRUCTIONS:
 ------------------------------
 This patch corrects an issue with the use of the name components in the
 CAPRI GUI.  It does not correct data entered before installation of the
 patch.
 Previously released patch DG*5.3*543 rebuilds the Name Component file. 
 D CLEANUP^DG53P543 can be run without re-installing that patch. 
 This cleanup routine needs to be run to correct entries in the
 name components file that have have been entered since that patch was 
 installed.                                             

Routine Information:
====================

Routine Name:
  - DVBCPATA


Routine Checksum:

=============================================================================
User Information:
Entered By  : HARTIN,JAMES                  Date Entered  : AUG 25, 2004
Completed By: BOWEN,MARY JANE               Date Completed: DEC 08, 2004
Released By : FIELDS-BARNES,JANETTE         Date Released : DEC 08, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
