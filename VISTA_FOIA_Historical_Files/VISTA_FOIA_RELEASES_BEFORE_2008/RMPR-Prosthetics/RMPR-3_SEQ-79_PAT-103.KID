Released RMPR*3*103 SEQ #79
Extracted from mail message
**KIDS**:RMPR*3.0*103^

**INSTALL NAME**
RMPR*3.0*103
"BLD",5487,0)
RMPR*3.0*103^PROSTHETICS^0^3050216^y
"BLD",5487,4,0)
^9.64PA^661.1^1
"BLD",5487,4,661.1,0)
661.1
"BLD",5487,4,661.1,2,0)
^9.641^661.1^1
"BLD",5487,4,661.1,2,661.1,0)
NATIONAL PROSTHETICS ITEM FILE  (File-top level)
"BLD",5487,4,661.1,2,661.1,1,0)
^9.6411^1.2^2
"BLD",5487,4,661.1,2,661.1,1,1.1,0)
DATE/TIME LAST UPDATE
"BLD",5487,4,661.1,2,661.1,1,1.2,0)
PROCESS LAST MODIFIED
"BLD",5487,4,661.1,222)
y^y^p^^^^n^^n
"BLD",5487,4,661.1,224)

"BLD",5487,4,"APDD",661.1,661.1)

"BLD",5487,4,"APDD",661.1,661.1,1.1)

"BLD",5487,4,"APDD",661.1,661.1,1.2)

"BLD",5487,4,"B",661.1,661.1)

"BLD",5487,"KRN",0)
^9.67PA^8989.52^19
"BLD",5487,"KRN",.4,0)
.4
"BLD",5487,"KRN",.401,0)
.401
"BLD",5487,"KRN",.402,0)
.402
"BLD",5487,"KRN",.403,0)
.403
"BLD",5487,"KRN",.5,0)
.5
"BLD",5487,"KRN",.84,0)
.84
"BLD",5487,"KRN",3.6,0)
3.6
"BLD",5487,"KRN",3.8,0)
3.8
"BLD",5487,"KRN",9.2,0)
9.2
"BLD",5487,"KRN",9.8,0)
9.8
"BLD",5487,"KRN",9.8,"NM",0)
^9.68A^12^12
"BLD",5487,"KRN",9.8,"NM",1,0)
RMPRESRV^^0^B6942714
"BLD",5487,"KRN",9.8,"NM",2,0)
RMPRET^^0^B11977615
"BLD",5487,"KRN",9.8,"NM",3,0)
RMPRN62^^0^B21018371
"BLD",5487,"KRN",9.8,"NM",4,0)
RMPRN6PR^^0^B29786078
"BLD",5487,"KRN",9.8,"NM",5,0)
RMPRN6PT^^0^B34767275
"BLD",5487,"KRN",9.8,"NM",6,0)
RMPRN6UT^^0^B6997890
"BLD",5487,"KRN",9.8,"NM",7,0)
RMPRN72^^0^B21378257
"BLD",5487,"KRN",9.8,"NM",8,0)
RMPRN7PR^^0^B30931244
"BLD",5487,"KRN",9.8,"NM",9,0)
RMPRN7PT^^0^B36298448
"BLD",5487,"KRN",9.8,"NM",10,0)
RMPRN7UT^^0^B7209757
"BLD",5487,"KRN",9.8,"NM",11,0)
RMPR5HQ4^^0^B77779818
"BLD",5487,"KRN",9.8,"NM",12,0)
RMPREXT^^0^B31862955
"BLD",5487,"KRN",9.8,"NM","B","RMPR5HQ4",11)

"BLD",5487,"KRN",9.8,"NM","B","RMPRESRV",1)

"BLD",5487,"KRN",9.8,"NM","B","RMPRET",2)

"BLD",5487,"KRN",9.8,"NM","B","RMPREXT",12)

"BLD",5487,"KRN",9.8,"NM","B","RMPRN62",3)

"BLD",5487,"KRN",9.8,"NM","B","RMPRN6PR",4)

"BLD",5487,"KRN",9.8,"NM","B","RMPRN6PT",5)

"BLD",5487,"KRN",9.8,"NM","B","RMPRN6UT",6)

"BLD",5487,"KRN",9.8,"NM","B","RMPRN72",7)

"BLD",5487,"KRN",9.8,"NM","B","RMPRN7PR",8)

"BLD",5487,"KRN",9.8,"NM","B","RMPRN7PT",9)

"BLD",5487,"KRN",9.8,"NM","B","RMPRN7UT",10)

"BLD",5487,"KRN",19,0)
19
"BLD",5487,"KRN",19.1,0)
19.1
"BLD",5487,"KRN",101,0)
101
"BLD",5487,"KRN",409.61,0)
409.61
"BLD",5487,"KRN",771,0)
771
"BLD",5487,"KRN",870,0)
870
"BLD",5487,"KRN",8989.51,0)
8989.51
"BLD",5487,"KRN",8989.52,0)
8989.52
"BLD",5487,"KRN",8994,0)
8994
"BLD",5487,"KRN","B",.4,.4)

"BLD",5487,"KRN","B",.401,.401)

"BLD",5487,"KRN","B",.402,.402)

"BLD",5487,"KRN","B",.403,.403)

"BLD",5487,"KRN","B",.5,.5)

"BLD",5487,"KRN","B",.84,.84)

"BLD",5487,"KRN","B",3.6,3.6)

"BLD",5487,"KRN","B",3.8,3.8)

"BLD",5487,"KRN","B",9.2,9.2)

"BLD",5487,"KRN","B",9.8,9.8)

"BLD",5487,"KRN","B",19,19)

"BLD",5487,"KRN","B",19.1,19.1)

"BLD",5487,"KRN","B",101,101)

"BLD",5487,"KRN","B",409.61,409.61)

"BLD",5487,"KRN","B",771,771)

"BLD",5487,"KRN","B",870,870)

"BLD",5487,"KRN","B",8989.51,8989.51)

"BLD",5487,"KRN","B",8989.52,8989.52)

"BLD",5487,"KRN","B",8994,8994)

"BLD",5487,"QUES",0)
^9.62^^
"BLD",5487,"REQB",0)
^9.611^3^3
"BLD",5487,"REQB",1,0)
RMPR*3.0*84^2
"BLD",5487,"REQB",2,0)
RMPR*3.0*91^2
"BLD",5487,"REQB",3,0)
RMPR*3.0*59^2
"BLD",5487,"REQB","B","RMPR*3.0*59",3)

"BLD",5487,"REQB","B","RMPR*3.0*84",1)

"BLD",5487,"REQB","B","RMPR*3.0*91",2)

"FIA",661.1)
PROSTHETIC HCPCS
"FIA",661.1,0)
^RMPR(661.1,
"FIA",661.1,0,0)
661.1I
"FIA",661.1,0,1)
y^y^p^^^^n^^n
"FIA",661.1,0,10)

"FIA",661.1,0,11)

"FIA",661.1,0,"RLRO")

"FIA",661.1,0,"VR")
3.0^RMPR
"FIA",661.1,661.1)
1
"FIA",661.1,661.1,1.1)

"FIA",661.1,661.1,1.2)

"MBREQ")
0
"PKG",101,-1)
1^1
"PKG",101,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",101,20,0)
^9.402P^^
"PKG",101,22,0)
^9.49I^1^1
"PKG",101,22,1,0)
3.0^2960209^2960214
"PKG",101,22,1,"PAH",1,0)
103^3050216
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
12
"RTN","RMPR5HQ4")
0^11^B77779818
"RTN","RMPR5HQ4",1,0)
RMPR5HQ4 ;HCIOFO/ODJ - INVENTORY REPORT - PARAMETER DATA ENTRY ; 20 SEP 00
"RTN","RMPR5HQ4",2,0)
 ;;3.0;PROSTHETICS;**51,84,103**;Feb 09, 1996
"RTN","RMPR5HQ4",3,0)
 ;
"RTN","RMPR5HQ4",4,0)
 ; AAC Patch 84, 02-25-04, additions, deletions and change descriptions for Groups and lines.
"RTN","RMPR5HQ4",5,0)
 ;
"RTN","RMPR5HQ4",6,0)
 ; Prompts for Station, Start date, End date, level of detail, 
"RTN","RMPR5HQ4",7,0)
 ; NPPD group, NPPD line, HCPC selections and Report Device
"RTN","RMPR5HQ4",8,0)
START N RMPRSDT,RMPREDT,RMPREXC,RMPRSEL,RMPRHTY,RMPRGLST,RMPRLINX
"RTN","RMPR5HQ4",9,0)
 N RMPRI,RMPRJ,RMPRLCN,RMPRHCN,RMPR,RMPRGRPA,RMPRVISN
"RTN","RMPR5HQ4",10,0)
 ; RMPR("STA")  Station Number (ien ^DIC(4)
"RTN","RMPR5HQ4",11,0)
 S RMPRSDT="" ; start date VM internal
"RTN","RMPR5HQ4",12,0)
 S RMPREDT=DT ; end date VM internal
"RTN","RMPR5HQ4",13,0)
 I '$D(RMPRDET) N RMPRDET S RMPRDET="" ; Level of detail
"RTN","RMPR5HQ4",14,0)
 S RMPRHTY="" ; type of HCPCS selection
"RTN","RMPR5HQ4",15,0)
 S RMPRLCN=1  ; Count for number of individual NPPD lines selected
"RTN","RMPR5HQ4",16,0)
 S RMPRHCN=1  ; Count for number of individual HCPCs selected
"RTN","RMPR5HQ4",17,0)
 K RMPREXC    ; Exit condition from prompts (^ defined as quit)
"RTN","RMPR5HQ4",18,0)
 K RMPRSEL    ; Array of parameter selections
"RTN","RMPR5HQ4",19,0)
 ;              If this array gets too big then need to save in ^TMP
"RTN","RMPR5HQ4",20,0)
 ;              in which case queuing option will have to be removed
"RTN","RMPR5HQ4",21,0)
 ;
"RTN","RMPR5HQ4",22,0)
 D GRPLST(.RMPRGLST) ;set list of NPPD group codes for DIR prompt
"RTN","RMPR5HQ4",23,0)
 D GRPARY(.RMPRGRPA)
"RTN","RMPR5HQ4",24,0)
 D SETLIN(.RMPRLINX) ;set an indexing array for NPPD line help
"RTN","RMPR5HQ4",25,0)
 S RMPREXC=$$STN(.RMPR,.RMPRVISN)
"RTN","RMPR5HQ4",26,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",27,0)
 S RMPREXC=$$STDT(.RMPRSDT) ;get Start Date (fileman format)
"RTN","RMPR5HQ4",28,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",29,0)
 S RMPREXC=$$ENDT(.RMPREDT,RMPRSDT) ;get End Date (fileman format)
"RTN","RMPR5HQ4",30,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",31,0)
 I RMPRDET="" S RMPREXC=$$LEV(.RMPRDET) ;get Level of Detail
"RTN","RMPR5HQ4",32,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",33,0)
 I RMPRDET="G" K RMPRSEL S RMPRSEL("*")="" G EDDEV ;NPPD group level of detail
"RTN","RMPR5HQ4",34,0)
 I RMPRDET="L" G EDLIN ;NPPD line level of detail
"RTN","RMPR5HQ4",35,0)
 I RMPRDET="H"!(RMPRDET="I") G EDHCPC ;HCPC or Item level of detail
"RTN","RMPR5HQ4",36,0)
 ;
"RTN","RMPR5HQ4",37,0)
 ; NPPD Group level of detail
"RTN","RMPR5HQ4",38,0)
EDGRP S RMPREXC=$$NPGRP(.RMPRSEL)
"RTN","RMPR5HQ4",39,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",40,0)
 G EDDEV
"RTN","RMPR5HQ4",41,0)
 ;
"RTN","RMPR5HQ4",42,0)
 ; NPPD Line level of detail
"RTN","RMPR5HQ4",43,0)
EDLIN S RMPREXC=$$NPLIN(.RMPRSEL)
"RTN","RMPR5HQ4",44,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",45,0)
EDLINX G EDDEV
"RTN","RMPR5HQ4",46,0)
 ;
"RTN","RMPR5HQ4",47,0)
 ; HCPC level of detail
"RTN","RMPR5HQ4",48,0)
EDHCPC S RMPREXC=$$HCPCTY(.RMPRHTY)
"RTN","RMPR5HQ4",49,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",50,0)
 I RMPRHTY="" G EDDEV
"RTN","RMPR5HQ4",51,0)
 I RMPRHTY="A" K RMPRSEL S RMPRSEL("*")="" G EDDEV
"RTN","RMPR5HQ4",52,0)
 I RMPRHTY="G" S RMPREXC=$$NPGRP(.RMPRSEL) G EDDEV
"RTN","RMPR5HQ4",53,0)
 I RMPRHTY="L" S RMPREXC=$$NPLIN(.RMPRSEL) G EDDEV
"RTN","RMPR5HQ4",54,0)
 S RMPREXC=$$HCPC(.RMPRSEL,.RMPRHCN)
"RTN","RMPR5HQ4",55,0)
 G EDDEV
"RTN","RMPR5HQ4",56,0)
 ;
"RTN","RMPR5HQ4",57,0)
 ; Get device and run report or queue it
"RTN","RMPR5HQ4",58,0)
EDDEV S RMPREXC=$$REPDEV("")
"RTN","RMPR5HQ4",59,0)
 I RMPREXC="^" G EDX
"RTN","RMPR5HQ4",60,0)
 I '$D(IO("Q")) D REPORT^RMPR5HQ5 G EDX
"RTN","RMPR5HQ4",61,0)
 K IO("Q")
"RTN","RMPR5HQ4",62,0)
 S ZTDESC="INVENTORY REPORT",ZTRTN="REPORT^RMPR5HQ5",ZTIO=ION
"RTN","RMPR5HQ4",63,0)
 S ZTSAVE("RMPRSDT")=""
"RTN","RMPR5HQ4",64,0)
 S ZTSAVE("RMPREDT")=""
"RTN","RMPR5HQ4",65,0)
 S ZTSAVE("RMPRDET")=""
"RTN","RMPR5HQ4",66,0)
 S ZTSAVE("RMPRSEL(")=""
"RTN","RMPR5HQ4",67,0)
 ;S ZTSAVE("IOM")=""
"RTN","RMPR5HQ4",68,0)
 S ZTSAVE("RMPR(""STA"")")=""
"RTN","RMPR5HQ4",69,0)
 D ^%ZTLOAD
"RTN","RMPR5HQ4",70,0)
 W:$D(ZTSK) !,"REQUEST QUEUED!" H 1
"RTN","RMPR5HQ4",71,0)
EDX Q
"RTN","RMPR5HQ4",72,0)
 ;
"RTN","RMPR5HQ4",73,0)
 ; Prompt for Site/Station
"RTN","RMPR5HQ4",74,0)
STN(RMPR,RMPRVISN) ;
"RTN","RMPR5HQ4",75,0)
 N X,Y,DIC,DA
"RTN","RMPR5HQ4",76,0)
 S RMPRVISN=""
"RTN","RMPR5HQ4",77,0)
 D DIV4^RMPRSIT ; call standard Prosthetic site look-up
"RTN","RMPR5HQ4",78,0)
 I $D(X) S X="^"
"RTN","RMPR5HQ4",79,0)
 E  S X="" S:RMPRSITE'="" RMPRVISN=$P($G(^RMPR(669.9,RMPRSITE,"INV")),"^",2)
"RTN","RMPR5HQ4",80,0)
 Q X
"RTN","RMPR5HQ4",81,0)
 ;
"RTN","RMPR5HQ4",82,0)
 ; Prompt for level of detail
"RTN","RMPR5HQ4",83,0)
EN1 N RMPRDET S RMPRDET="G" ;entry point NPPD Group level
"RTN","RMPR5HQ4",84,0)
 G START
"RTN","RMPR5HQ4",85,0)
EN2 N RMPRDET S RMPRDET="L" ;entry point NPPD Line level
"RTN","RMPR5HQ4",86,0)
 G START
"RTN","RMPR5HQ4",87,0)
EN3 N RMPRDET S RMPRDET="H" ;entry point HCPCS level
"RTN","RMPR5HQ4",88,0)
 G START
"RTN","RMPR5HQ4",89,0)
EN4 N RMPRDET S RMPRDET="I" ;entry point Item level
"RTN","RMPR5HQ4",90,0)
 G START
"RTN","RMPR5HQ4",91,0)
LEV(RMPRDET) ;
"RTN","RMPR5HQ4",92,0)
 N DIR,X,Y
"RTN","RMPR5HQ4",93,0)
 S RMPRDET=$G(RMPRDET)
"RTN","RMPR5HQ4",94,0)
 S DIR(0)="S^G:NPPD Group;L:NPPD Line;H:HCPCS Code;I:HCPCS Item"
"RTN","RMPR5HQ4",95,0)
 S DIR("A")="Select inventory report level of detail"
"RTN","RMPR5HQ4",96,0)
 D ^DIR
"RTN","RMPR5HQ4",97,0)
 I Y="",$D(DTOUT) S X="^" G LEVX
"RTN","RMPR5HQ4",98,0)
 I Y="^"!(Y="^^") S X="^" G LEVX
"RTN","RMPR5HQ4",99,0)
 S RMPRDET=Y
"RTN","RMPR5HQ4",100,0)
LEVX Q X
"RTN","RMPR5HQ4",101,0)
 ;
"RTN","RMPR5HQ4",102,0)
 ; Prompt for Start Date
"RTN","RMPR5HQ4",103,0)
STDT(RMPRSDT) ; RMPRSDT is start date in FM internal form
"RTN","RMPR5HQ4",104,0)
 N %DT,X,Y
"RTN","RMPR5HQ4",105,0)
 S %DT("A")="Beginning Date: "
"RTN","RMPR5HQ4",106,0)
 S %DT(0)=-DT
"RTN","RMPR5HQ4",107,0)
 S %DT="AEP"
"RTN","RMPR5HQ4",108,0)
 D ^%DT
"RTN","RMPR5HQ4",109,0)
 I Y<0 S X="^"
"RTN","RMPR5HQ4",110,0)
 S RMPRSDT=$P(Y,".",1)
"RTN","RMPR5HQ4",111,0)
 Q X
"RTN","RMPR5HQ4",112,0)
 ;
"RTN","RMPR5HQ4",113,0)
 ; Prompt for End Date
"RTN","RMPR5HQ4",114,0)
ENDT(RMPREDT,RMPRSDT) ; RMPREDT is end date in FM internal form
"RTN","RMPR5HQ4",115,0)
 N %DT,X,Y
"RTN","RMPR5HQ4",116,0)
ENDT1 S %DT("A")="Ending Date: "
"RTN","RMPR5HQ4",117,0)
 S %DT(0)=-DT
"RTN","RMPR5HQ4",118,0)
 S %DT="AEP"
"RTN","RMPR5HQ4",119,0)
 D ^%DT
"RTN","RMPR5HQ4",120,0)
 I Y<0 S X="^" G ENDT1X
"RTN","RMPR5HQ4",121,0)
 S RMPREDT=$P(Y,".",1)
"RTN","RMPR5HQ4",122,0)
 I RMPREDT<RMPRSDT W !,"Ending date should not precede start date",! G ENDT1
"RTN","RMPR5HQ4",123,0)
ENDT1X Q X
"RTN","RMPR5HQ4",124,0)
 ;
"RTN","RMPR5HQ4",125,0)
 ; Prompt for NPPD group
"RTN","RMPR5HQ4",126,0)
NPGRP(RMPRSEL) ;
"RTN","RMPR5HQ4",127,0)
 N DIR,DA,X,Y,RMPRCNT,RMPRI,RMPRJ,RMPRGRP
"RTN","RMPR5HQ4",128,0)
 W !
"RTN","RMPR5HQ4",129,0)
 F RMPRCNT=1:1:$L(RMPRGLST,";") D
"RTN","RMPR5HQ4",130,0)
 . W !,$J(RMPRCNT,2)_". "_$P($P(RMPRGLST,";",RMPRCNT),":",2)
"RTN","RMPR5HQ4",131,0)
 . Q
"RTN","RMPR5HQ4",132,0)
 S DIR(0)="L" S:$D(RMPRSEL) DIR(0)=DIR(0)_"O"
"RTN","RMPR5HQ4",133,0)
 S DIR("A")="Select NPPD Group "
"RTN","RMPR5HQ4",134,0)
 S $P(DIR(0),U,2)="1:"_RMPRCNT
"RTN","RMPR5HQ4",135,0)
 D ^DIR
"RTN","RMPR5HQ4",136,0)
 I Y="",$D(DTOUT) S X="^" G NPGRPX
"RTN","RMPR5HQ4",137,0)
 I Y="^"!(Y="^^") S X="^" G NPGRPX
"RTN","RMPR5HQ4",138,0)
 I Y="" S X="" G NPGRPX ; no selection so just exit
"RTN","RMPR5HQ4",139,0)
 ;
"RTN","RMPR5HQ4",140,0)
 ; add in the new selections
"RTN","RMPR5HQ4",141,0)
 S RMPRI=""
"RTN","RMPR5HQ4",142,0)
 F  S RMPRI=$O(Y(RMPRI)) Q:RMPRI=""  D  Q:RMPRI=""
"RTN","RMPR5HQ4",143,0)
 . I $L(Y(RMPRI),",")-1=RMPRCNT D  Q
"RTN","RMPR5HQ4",144,0)
 .. K RMPRSEL
"RTN","RMPR5HQ4",145,0)
 .. S RMPRSEL("*")="" ; all groups selected
"RTN","RMPR5HQ4",146,0)
 .. S RMPRI=""
"RTN","RMPR5HQ4",147,0)
 .. Q
"RTN","RMPR5HQ4",148,0)
 . F RMPRJ=1:1:$L(Y(RMPRI),",")-1 D
"RTN","RMPR5HQ4",149,0)
 .. S RMPRGRP=$P($P(RMPRGLST,";",$P(Y(RMPRI),",",RMPRJ)),":",1)
"RTN","RMPR5HQ4",150,0)
 .. K RMPRSEL(RMPRGRP)
"RTN","RMPR5HQ4",151,0)
 .. S RMPRSEL(RMPRGRP,"*")=""
"RTN","RMPR5HQ4",152,0)
 .. Q
"RTN","RMPR5HQ4",153,0)
 . Q
"RTN","RMPR5HQ4",154,0)
NPGRPX Q X
"RTN","RMPR5HQ4",155,0)
 ;
"RTN","RMPR5HQ4",156,0)
 ; Prompt for NPPD line
"RTN","RMPR5HQ4",157,0)
 ; User can select lines within a group
"RTN","RMPR5HQ4",158,0)
 ; If more than 1 group selected must use all lines within those groups
"RTN","RMPR5HQ4",159,0)
NPLIN(RMPRSEL) ;
"RTN","RMPR5HQ4",160,0)
 N DIR,DA,X,Y,RMPRHPG,RMPRGRP,RMPRLIN,RMPREXC,RMPRI,RMPRJ
"RTN","RMPR5HQ4",161,0)
 S DIR(0)="L" S:$D(RMPRSEL) DIR(0)=DIR(0)_"O"
"RTN","RMPR5HQ4",162,0)
NPLIN1C S RMPREXC=$$NPGRP(.RMPRSEL)
"RTN","RMPR5HQ4",163,0)
 I RMPREXC="^" S X="^" G NPLIN1X
"RTN","RMPR5HQ4",164,0)
 I $O(RMPRSEL(""))="*" S X="" G NPLIN1X
"RTN","RMPR5HQ4",165,0)
 S RMPRI=0,RMPRJ="" F  S RMPRJ=$O(RMPRSEL(RMPRJ)) Q:RMPRJ=""  S RMPRI=RMPRI+1 Q:RMPRI=2
"RTN","RMPR5HQ4",166,0)
 I RMPRI=2 S X="" G NPLIN1X
"RTN","RMPR5HQ4",167,0)
 S RMPRGRP=$O(RMPRSEL("")) K RMPRSEL
"RTN","RMPR5HQ4",168,0)
NPLIN1A D NPLINH(RMPRGRP,.RMPRHPG)
"RTN","RMPR5HQ4",169,0)
 S $P(DIR(0),U,2)="1:"_RMPRHPG
"RTN","RMPR5HQ4",170,0)
 S DIR("A")="Select NPPD line(s) within the above group"
"RTN","RMPR5HQ4",171,0)
 D ^DIR
"RTN","RMPR5HQ4",172,0)
 I Y="",$D(DTOUT) S X="^" G NPLIN1X
"RTN","RMPR5HQ4",173,0)
 I Y="^"!(Y="^^") S X="^" G NPLIN1X
"RTN","RMPR5HQ4",174,0)
 I Y="" S X="" G NPLIN1X
"RTN","RMPR5HQ4",175,0)
 S RMPRI=""
"RTN","RMPR5HQ4",176,0)
 F  S RMPRI=$O(Y(RMPRI)) Q:RMPRI=""  D  Q:RMPRI=""
"RTN","RMPR5HQ4",177,0)
 . I $L(Y(RMPRI),",")-1=RMPRHPG D  Q
"RTN","RMPR5HQ4",178,0)
 .. K RMPRSEL(RMPRGRP)
"RTN","RMPR5HQ4",179,0)
 .. S RMPRSEL(RMPRGRP,"*")="" ; all lines selected
"RTN","RMPR5HQ4",180,0)
 .. S RMPRI=""
"RTN","RMPR5HQ4",181,0)
 .. Q
"RTN","RMPR5HQ4",182,0)
 . F RMPRJ=1:1:$L(Y(RMPRI),",")-1 D
"RTN","RMPR5HQ4",183,0)
 .. D NPLINC(RMPRGRP,$P(Y(RMPRI),",",RMPRJ),.RMPRLIN)
"RTN","RMPR5HQ4",184,0)
 .. K RMPRSEL(RMPRGRP,RMPRLIN)
"RTN","RMPR5HQ4",185,0)
 .. S RMPRSEL(RMPRGRP,RMPRLIN,"*")=""
"RTN","RMPR5HQ4",186,0)
 .. Q
"RTN","RMPR5HQ4",187,0)
 . Q
"RTN","RMPR5HQ4",188,0)
 S X=""
"RTN","RMPR5HQ4",189,0)
NPLIN1X Q X
"RTN","RMPR5HQ4",190,0)
 ;
"RTN","RMPR5HQ4",191,0)
 ; Check entered NPPD line
"RTN","RMPR5HQ4",192,0)
 ; OFFS = line offset in RMPRN62 if valid NPPD line (else null)
"RTN","RMPR5HQ4",193,0)
 ;
"RTN","RMPR5HQ4",194,0)
NPLINC(RMPRGRP,INP,RMPRLIN) ;
"RTN","RMPR5HQ4",195,0)
 N S,OFFS
"RTN","RMPR5HQ4",196,0)
 S OFFS=RMPRLINX(RMPRGRP)+INP-1
"RTN","RMPR5HQ4",197,0)
 S S=$P($T(DES+OFFS^RMPRN62),";;",2)
"RTN","RMPR5HQ4",198,0)
 S RMPRLIN=$P(S,";",1)
"RTN","RMPR5HQ4",199,0)
 Q
"RTN","RMPR5HQ4",200,0)
 ;
"RTN","RMPR5HQ4",201,0)
 ; Display NPPD lines for a given group
"RTN","RMPR5HQ4",202,0)
NPLINH(RMPRGRP,TO) ;
"RTN","RMPR5HQ4",203,0)
 N FR,I,S,LINCD
"RTN","RMPR5HQ4",204,0)
 W !,"NPPD Lines for Group: ",RMPRGRP," - ",RMPRGRPA(RMPRGRP),!
"RTN","RMPR5HQ4",205,0)
 S FR=RMPRLINX(RMPRGRP)
"RTN","RMPR5HQ4",206,0)
 S TO=0
"RTN","RMPR5HQ4",207,0)
 F  S S=$P($T(DES+FR^RMPRN62),";;",2),LINCD=$P(S,";",1) Q:$P(LINCD," ",1)'=RMPRGRP  D
"RTN","RMPR5HQ4",208,0)
 . S TO=TO+1
"RTN","RMPR5HQ4",209,0)
 . W !,$J(TO,2),". ",$P(S,";",1)_" "_$P(S,";",2)
"RTN","RMPR5HQ4",210,0)
 . W:$D(RMPRSEL(RMPRGRP,LINCD)) ?65,"<< Selected"
"RTN","RMPR5HQ4",211,0)
 . S FR=FR+1
"RTN","RMPR5HQ4",212,0)
 . Q
"RTN","RMPR5HQ4",213,0)
 Q
"RTN","RMPR5HQ4",214,0)
 ;
"RTN","RMPR5HQ4",215,0)
 ; Select type of HCPCS selection
"RTN","RMPR5HQ4",216,0)
HCPCTY(RMPRHTY) ;
"RTN","RMPR5HQ4",217,0)
 N DIR,DA,X,Y
"RTN","RMPR5HQ4",218,0)
 S DIR("B")="A"
"RTN","RMPR5HQ4",219,0)
 S DIR(0)="S^A:ALL HCPCS;G:ALL HCPCS for NPPD group;L:ALL HCPCS for NPPD  line;S:Select individual HCPCS"
"RTN","RMPR5HQ4",220,0)
 S DIR("A")="Choose HCPCS selection option"
"RTN","RMPR5HQ4",221,0)
 D ^DIR
"RTN","RMPR5HQ4",222,0)
 I Y="",$D(DTOUT) S X="^" G HCPCTYX
"RTN","RMPR5HQ4",223,0)
 I Y="^"!(Y="^^") S X="^" G HCPCTYX
"RTN","RMPR5HQ4",224,0)
 I X="" S RMPRHTY="" G HCPCTYX
"RTN","RMPR5HQ4",225,0)
 S RMPRHTY=Y
"RTN","RMPR5HQ4",226,0)
HCPCTYX Q X
"RTN","RMPR5HQ4",227,0)
 ;
"RTN","RMPR5HQ4",228,0)
 ; Select HCPCS
"RTN","RMPR5HQ4",229,0)
HCPC(RMPRSEL,RMPRSCN) ;
"RTN","RMPR5HQ4",230,0)
 N DIC,X,Y,DA,RMPRLIN
"RTN","RMPR5HQ4",231,0)
 S DIC="^RMPR(661.1,",DIC(0)="AEQMZ"
"RTN","RMPR5HQ4",232,0)
HCPC1 S DIC("A")="Select HCPCS "_RMPRSCN_": "
"RTN","RMPR5HQ4",233,0)
 D ^DIC
"RTN","RMPR5HQ4",234,0)
 I $D(DTOUT) S X="^" G HCPCX
"RTN","RMPR5HQ4",235,0)
 I $D(DUOUT) S X="^" G HCPCX
"RTN","RMPR5HQ4",236,0)
 I X="" G HCPCX
"RTN","RMPR5HQ4",237,0)
 S RMPRLIN=$P(Y(0),U,7)
"RTN","RMPR5HQ4",238,0)
 S:RMPRLIN="" RMPRLIN="999 X"
"RTN","RMPR5HQ4",239,0)
 S RMPRSEL($P(RMPRLIN," ",1),RMPRLIN,$P(Y,U,1))=""
"RTN","RMPR5HQ4",240,0)
 S RMPRSCN=RMPRSCN+1
"RTN","RMPR5HQ4",241,0)
 G HCPC1
"RTN","RMPR5HQ4",242,0)
HCPCX Q X
"RTN","RMPR5HQ4",243,0)
 ;
"RTN","RMPR5HQ4",244,0)
 ; Select Report device
"RTN","RMPR5HQ4",245,0)
REPDEV(RMPRDEV) ;
"RTN","RMPR5HQ4",246,0)
 N X,POP,Y,%ZIS,IOP
"RTN","RMPR5HQ4",247,0)
REPDEV1 S X=""
"RTN","RMPR5HQ4",248,0)
 S %ZIS="MQ" K IOP D ^%ZIS I POP S X="^" G REPDEVX
"RTN","RMPR5HQ4",249,0)
 I IOM<132 W !,"You need at least 132 columns for this report.",!,"Please use a device capable of this requirement.",! G REPDEV1
"RTN","RMPR5HQ4",250,0)
REPDEVX Q X
"RTN","RMPR5HQ4",251,0)
 ;
"RTN","RMPR5HQ4",252,0)
 ; LINX is an array used in the help system within NPPD line selection
"RTN","RMPR5HQ4",253,0)
 ; Basically each page of help will show lines for a group.
"RTN","RMPR5HQ4",254,0)
 ; Each page has a start line corresponding to an offset in RMPRN62
"RTN","RMPR5HQ4",255,0)
SETLIN(LINX) ;
"RTN","RMPR5HQ4",256,0)
 N I,HLPPG,S,LINCD,LINCD0
"RTN","RMPR5HQ4",257,0)
 S HLPPG=0,LINCD0=""
"RTN","RMPR5HQ4",258,0)
 F I=1:1 S S=$T(DES+I^RMPRN62) D  Q:LINCD0=""
"RTN","RMPR5HQ4",259,0)
 . S LINCD=$P($P(S,";;",2),";",1)
"RTN","RMPR5HQ4",260,0)
 . S HLPPG=$P(LINCD," ",1)
"RTN","RMPR5HQ4",261,0)
 . I $E(HLPPG)'?1N S LINX(HLPPG)=I,LINCD0="" Q
"RTN","RMPR5HQ4",262,0)
 . I HLPPG'=LINCD0 D  Q
"RTN","RMPR5HQ4",263,0)
 .. S LINX(HLPPG)=I,LINCD0=HLPPG
"RTN","RMPR5HQ4",264,0)
 .. Q
"RTN","RMPR5HQ4",265,0)
 . Q
"RTN","RMPR5HQ4",266,0)
 Q
"RTN","RMPR5HQ4",267,0)
 ;
"RTN","RMPR5HQ4",268,0)
 ; Set NPPD (new) group codes and desc. for use in DIR
"RTN","RMPR5HQ4",269,0)
 ; set of codes prompt.
"RTN","RMPR5HQ4",270,0)
 ; Hard coded, but better if in Fileman file sometime
"RTN","RMPR5HQ4",271,0)
 ; Codes and desc. copied from RMPRN6UT
"RTN","RMPR5HQ4",272,0)
GRPLST(LIST) ;
"RTN","RMPR5HQ4",273,0)
 S LIST="100:WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPR5HQ4",274,0)
 S $P(LIST,";",2)="200:ARTIFICIAL LEGS"
"RTN","RMPR5HQ4",275,0)
 S $P(LIST,";",3)="300:ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPR5HQ4",276,0)
 S $P(LIST,";",4)="400:ORTHOSIS/ORTHOTICS"
"RTN","RMPR5HQ4",277,0)
 S $P(LIST,";",5)="500:SHOES/ORTHOTICS"
"RTN","RMPR5HQ4",278,0)
 S $P(LIST,";",6)="600:SENSORI-NEURO AIDS"
"RTN","RMPR5HQ4",279,0)
 S $P(LIST,";",7)="700:RESTORATIONS"
"RTN","RMPR5HQ4",280,0)
 S $P(LIST,";",8)="800:OXYGEN AND RESPIRATORY"
"RTN","RMPR5HQ4",281,0)
 S $P(LIST,";",9)="900:MEDICAL EQUIPMENT"
"RTN","RMPR5HQ4",282,0)
 S $P(LIST,";",10)="910:ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPR5HQ4",283,0)
 S $P(LIST,";",11)="920:HOME DIALYSIS PROGRAM"
"RTN","RMPR5HQ4",284,0)
 S $P(LIST,";",12)="930:ADAPTIVE EQUIPMENT"
"RTN","RMPR5HQ4",285,0)
 S $P(LIST,";",13)="940:HISA"
"RTN","RMPR5HQ4",286,0)
 S $P(LIST,";",14)="960:SURGICAL IMPLANTS"
"RTN","RMPR5HQ4",287,0)
 S $P(LIST,";",15)="999:MISC"
"RTN","RMPR5HQ4",288,0)
 Q
"RTN","RMPR5HQ4",289,0)
 ;
"RTN","RMPR5HQ4",290,0)
 ; Same as above but set into array
"RTN","RMPR5HQ4",291,0)
GRPARY(ARRAY) ;
"RTN","RMPR5HQ4",292,0)
 N LIST,I
"RTN","RMPR5HQ4",293,0)
 K ARRAY
"RTN","RMPR5HQ4",294,0)
 D GRPLST(.LIST)
"RTN","RMPR5HQ4",295,0)
 F I=1:1:$L(LIST,";") S ARRAY($P($P(LIST,";",I),":",1))=$P($P(LIST,";",I),":",2)
"RTN","RMPR5HQ4",296,0)
 Q
"RTN","RMPRESRV")
0^1^B6942714
"RTN","RMPRESRV",1,0)
RMPRESRV ;PHX/HNC - SERVER ROUTINE FOR NATIONAL DATA EXTRACT ; 1/19/2005
"RTN","RMPRESRV",2,0)
 ;;3.0;PROSTHETICS;**12,18,24,51,59,103**;Feb 09, 1996
"RTN","RMPRESRV",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","RMPRESRV",4,0)
 ;
"RTN","RMPRESRV",5,0)
 ;DBIA # 10072 - for routine REMSBMSG^XMA1C
"RTN","RMPRESRV",6,0)
 ;
"RTN","RMPRESRV",7,0)
 ;HCPCS SERVER - patch 103, HNC 1/19/2005
"RTN","RMPRESRV",8,0)
 ;
"RTN","RMPRESRV",9,0)
 ;modified to include the PIP extract 9/28/00
"RTN","RMPRESRV",10,0)
 X XMREC D
"RTN","RMPRESRV",11,0)
 .;disability codes
"RTN","RMPRESRV",12,0)
 .I XMRG["DS1" S RMPRDS1=$P(XMRG,"*",2)
"RTN","RMPRESRV",13,0)
 .I XMRG["DS2" S RMPRDS2=$P(XMRG,"*",4)
"RTN","RMPRESRV",14,0)
 .;new and repair worksheets
"RTN","RMPRESRV",15,0)
 .I XMRG["DT1" S RMPRDT1=$P(XMRG,"*",2)
"RTN","RMPRESRV",16,0)
 .I XMRG["DT2" S RMPRDT2=$P(XMRG,"*",4)
"RTN","RMPRESRV",17,0)
 .;suspense delayed order report
"RTN","RMPRESRV",18,0)
 .I XMRG["DOR1" S RMPRDOR1=$P(XMRG,"*",2)
"RTN","RMPRESRV",19,0)
 .I XMRG["DOR1" S RMPRDORS=$P(XMRG,"*",3)
"RTN","RMPRESRV",20,0)
 .I XMRG["DOR1" S RMPRDORW=$P(XMRG,"*",4)
"RTN","RMPRESRV",21,0)
 .I XMRG["DOR1" D A1^RMPR9DO("00","99","ALL",RMPRDORS,RMPRDOR1,RMPRDORW) S XMSER="S."_XQSOP,XMZ=XQMSG D REMSBMSG^XMA1C Q
"RTN","RMPRESRV",22,0)
 ;new items to file 661.1
"RTN","RMPRESRV",23,0)
 I XMRG="ITEM SERVER 661.1" G EN^RMPRET
"RTN","RMPRESRV",24,0)
 ;pip EXCEL extract
"RTN","RMPRESRV",25,0)
 I $P(XMRG,"*",1)="PIP ROLL-UP" S RMPRPIP1=$P(XMRG,"*",2),RMPRPIP2=$P(XMRG,"*",3) G ^RMPR5HQ1
"RTN","RMPRESRV",26,0)
 ;pip REPORT extract
"RTN","RMPRESRV",27,0)
 I $P(XMRG,"*",1)="PIP REPORT" S RMPRPIP1=$P(XMRG,"*",2),RMPRPIP2=$P(XMRG,"*",3),RMPRDET=$P(XMRG,"*",4) G ^RMPR5HQA
"RTN","RMPRESRV",28,0)
 ;open obligations
"RTN","RMPRESRV",29,0)
 I XMRG="PR2" G PR2^RMPREXT
"RTN","RMPRESRV",30,0)
 I $D(RMPRDS1)&($D(RMPRDS2)) D EN^RMPREXDS(RMPRDS1,RMPRDS2) G EXIT
"RTN","RMPRESRV",31,0)
 I '$D(RMPRDT1)!('$D(RMPRDT2)) G EXIT
"RTN","RMPRESRV",32,0)
 ;dates for message subject
"RTN","RMPRESRV",33,0)
 S Y=RMPRDT1 D DD^%DT S RMPRDAT1=Y
"RTN","RMPRESRV",34,0)
 S Y=RMPRDT2 D DD^%DT S RMPRDAT2=Y
"RTN","RMPRESRV",35,0)
 ;send message to group so they know the server was activated
"RTN","RMPRESRV",36,0)
 S XMDUZ=.5
"RTN","RMPRESRV",37,0)
 S XMY("G.RMPR SERVER")=""
"RTN","RMPRESRV",38,0)
 S XMSUB="Prosthetics Data Extract "_RMPRDAT1_" to "_RMPRDAT2
"RTN","RMPRESRV",39,0)
 S RMPRMSG(1)="The National Data Server has been activated today by Prosthetics HQ."
"RTN","RMPRESRV",40,0)
 S RMPRMSG(2)="Data has been collected for the date range "_RMPRDAT1_" to "_RMPRDAT2_"."
"RTN","RMPRESRV",41,0)
 S RMPRMSG(3)=""
"RTN","RMPRESRV",42,0)
 S RMPRMSG(4)="This was activated by "_$P(XMFROM,"@",1)
"RTN","RMPRESRV",43,0)
 S RMPRMSG(5)=""
"RTN","RMPRESRV",44,0)
 S XMTEXT="RMPRMSG("
"RTN","RMPRESRV",45,0)
 D ^XMD
"RTN","RMPRESRV",46,0)
 ;refresh amis codes in file 660
"RTN","RMPRESRV",47,0)
 D ^RMPREXR
"RTN","RMPRESRV",48,0)
 ;gather and send the raw data
"RTN","RMPRESRV",49,0)
 ;add additional extract here if needed
"RTN","RMPRESRV",50,0)
 D EN1^RMPREXT
"RTN","RMPRESRV",51,0)
EXIT ;common exit point
"RTN","RMPRESRV",52,0)
 S XMSER="S."_XQSOP,XMZ=XQMSG D REMSBMSG^XMA1C
"RTN","RMPRESRV",53,0)
 K RMPRDAT1,RMPRDAT2,RMPRDT1,XMRG,XMSUB
"RTN","RMPRESRV",54,0)
 K RMPRDET,RMPRDOR1,RMPRDORS,RMPRDORW,RMPRDS1,RMPRDS2,RMPRDT2,RMPRMSG
"RTN","RMPRESRV",55,0)
 K RMPRPIP1,RMPRPIP2,XMDUZ,XMFROM,XMREC,XMSER,XMTEXT,XMY,XMZ,XQMSG,XQSOP,Y
"RTN","RMPRESRV",56,0)
 ;END
"RTN","RMPRET")
0^2^B11977615
"RTN","RMPRET",1,0)
RMPRET ;Hines-OI/HNC - ITEM SERVER ;01/14/2005
"RTN","RMPRET",2,0)
 ;;3.0;PROSTHETICS;**103**;Feb 09, 1996
"RTN","RMPRET",3,0)
 ;
"RTN","RMPRET",4,0)
 ;DBIA # 10072 - for routine REMSBMSG^XMA1C
"RTN","RMPRET",5,0)
 ;
"RTN","RMPRET",6,0)
EN ;Entry Point
"RTN","RMPRET",7,0)
 ;HCPCS SERVER
"RTN","RMPRET",8,0)
 ;
"RTN","RMPRET",9,0)
 ;K ^TMP($J)
"RTN","RMPRET",10,0)
 X XMREC D
"RTN","RMPRET",11,0)
 .;check
"RTN","RMPRET",12,0)
 .S RMPRWHO3=XMRG
"RTN","RMPRET",13,0)
 .X XMREC S RMPRWHO1=XMRG
"RTN","RMPRET",14,0)
 .X XMREC S RMPRWHO2=XMRG
"RTN","RMPRET",15,0)
 .S RMPRWHO=$$DEC^RMPR4LI(RMPRWHO3,RMPRWHO1,RMPRWHO2)
"RTN","RMPRET",16,0)
 .S RMPRCHK=0
"RTN","RMPRET",17,0)
 .F  S RMPRCHK=$O(^RMPR(669.9,RMPRCHK)) Q:RMPRCHK>0
"RTN","RMPRET",18,0)
 .I RMPRWHO'=$P(^RMPR(669.9,RMPRCHK,"INV"),U,4) D NOGO Q
"RTN","RMPRET",19,0)
 D NOW^%DTC S RMPRWHN=%
"RTN","RMPRET",20,0)
 S CNT=6,RMPRDLM=","_"""I"""
"RTN","RMPRET",21,0)
 S (RMPRIEN,RMPRFLD,RMPRVL,RMPRIEN2)=""
"RTN","RMPRET",22,0)
 F  X XMREC Q:XMRG=""  D
"RTN","RMPRET",23,0)
 .;S RMPRMSG(CNT+10000)=$P(XMRG,RMPRDLM,1)_$P(XMRG,RMPRDLM,2)
"RTN","RMPRET",24,0)
 .S RMPRIEN=$P(XMRG,U,1)
"RTN","RMPRET",25,0)
 .S RMPRFLD=$P(XMRG,U,2)
"RTN","RMPRET",26,0)
 .S RMPRVL=$P(XMRG,U,3)
"RTN","RMPRET",27,0)
 .S RMPRIEN2=$P(XMRG,U,4)
"RTN","RMPRET",28,0)
 .I RMPRFLD=.01 S RMPRMSG(CNT)="HCPCS: "_RMPRVL
"RTN","RMPRET",29,0)
 .;S ^TMP($J,RMPRIEN,RMPRFLD)=RMPRVL
"RTN","RMPRET",30,0)
 .;check to see if new and add
"RTN","RMPRET",31,0)
 .I '$D(^RMPR(661.1,RMPRIEN)) D
"RTN","RMPRET",32,0)
 . .S $P(^RMPR(661.1,RMPRIEN,0),U,1)=RMPRVL
"RTN","RMPRET",33,0)
 . .S DIK="^RMPR(661.1,"
"RTN","RMPRET",34,0)
 . .S DA=RMPRIEN D IX1^DIK
"RTN","RMPRET",35,0)
 .S UPD(661.1,RMPRIEN_",",1.1)=RMPRWHN
"RTN","RMPRET",36,0)
 .S UPD(661.1,RMPRIEN_",",1.2)=XMFROM
"RTN","RMPRET",37,0)
 .I RMPRFLD="661.18" D
"RTN","RMPRET",38,0)
 . .;START DESCRIPTION
"RTN","RMPRET",39,0)
 . .S ^RMPR(661.1,RMPRIEN,2,RMPRIEN2,0)=RMPRVL
"RTN","RMPRET",40,0)
 . .S CNTIEN=0,CNTIEN1=0
"RTN","RMPRET",41,0)
 . .F  S CNTIEN=$O(^RMPR(661.1,RMPRIEN,2,CNTIEN)) Q:CNTIEN'>0  D
"RTN","RMPRET",42,0)
 . . .S CNTIEN1=CNTIEN1+1
"RTN","RMPRET",43,0)
 . .S ^RMPR(661.1,RMPRIEN,2,0)="^661.18^"_CNTIEN1_U_CNTIEN1
"RTN","RMPRET",44,0)
 . .S DIK="^RMPR(661.1,"
"RTN","RMPRET",45,0)
 . .S DA=RMPRIEN D IX1^DIK
"RTN","RMPRET",46,0)
 . .S RMPRFLD=""
"RTN","RMPRET",47,0)
 .I RMPRFLD="" Q
"RTN","RMPRET",48,0)
 .I RMPRFLD'=.01 S UPD(661.1,RMPRIEN_",",RMPRFLD)=RMPRVL
"RTN","RMPRET",49,0)
 .S CNT=CNT+1
"RTN","RMPRET",50,0)
 D FILE^DIE("","UPD","ERROR")
"RTN","RMPRET",51,0)
 I $D(ERROR("DIERR")) S RMPRMSG(1.1)="******* ERROR ENCOUNTERED*******"
"RTN","RMPRET",52,0)
 S XMDUZ=.5
"RTN","RMPRET",53,0)
 S XMY("G.RMPR SERVER")=""
"RTN","RMPRET",54,0)
 S XMY("VHACOPSASPIPReport@med.va.gov")=""
"RTN","RMPRET",55,0)
 S XMSUB="PSAS HCPCS Item Server Update "_$P($$SITE^VASITE,U,2)
"RTN","RMPRET",56,0)
 S RMPRMSG(1)="The National PSAS Item Server has been activated today by Prosthetics HQ."
"RTN","RMPRET",57,0)
 S RMPRMSG(2)="Please print your HCPCS Mapping File."
"RTN","RMPRET",58,0)
 S RMPRMSG(3)=""
"RTN","RMPRET",59,0)
 S RMPRMSG(4)="This was activated by "_$P(XMFROM,"@",1)
"RTN","RMPRET",60,0)
 S RMPRMSG(5)=""
"RTN","RMPRET",61,0)
 S XMTEXT="RMPRMSG("
"RTN","RMPRET",62,0)
 D ^XMD
"RTN","RMPRET",63,0)
 G EXIT
"RTN","RMPRET",64,0)
 Q
"RTN","RMPRET",65,0)
NOGO ;message not valid
"RTN","RMPRET",66,0)
 S XMDUZ=.5
"RTN","RMPRET",67,0)
 S XMY("G.RMPR SERVER")=""
"RTN","RMPRET",68,0)
 S XMY("VHACOPSASPIPReport@med.va.gov")=""
"RTN","RMPRET",69,0)
 S XMSUB="**ERROR** Not Authorized HCPCS Item Server Update From "_$P($$SITE^VASITE,U,2)
"RTN","RMPRET",70,0)
 S RMPRMSG(1)="The National PSAS Item Server was unsuccessful today."
"RTN","RMPRET",71,0)
 S RMPRMSG(2)="****ERROR**** Not Authorized!"
"RTN","RMPRET",72,0)
 S RMPRMSG(3)=""
"RTN","RMPRET",73,0)
 S RMPRMSG(4)="This was activated by "_XMFROM
"RTN","RMPRET",74,0)
 S XMTEXT="RMPRMSG("
"RTN","RMPRET",75,0)
 D ^XMD
"RTN","RMPRET",76,0)
 ;
"RTN","RMPRET",77,0)
EXIT ;common exit point
"RTN","RMPRET",78,0)
 S XMSER="S."_XQSOP,XMZ=XQMSG D REMSBMSG^XMA1C
"RTN","RMPRET",79,0)
 K %,CNT,DA,DIK,ERROR,RMPRDL,RMPRFLD,RMPRIEN2,RMPRMSG,RMPRVL,RMPRWHN
"RTN","RMPRET",80,0)
 K UPD,XMDUZ,XMFROM,XMREC,XMRG,XMSUB,XMTEXT,XMY,RMPRIEN,RMPRDLM,CNTIEN,CNTIEN1
"RTN","RMPRET",81,0)
 K RMPRWHO,RMPRWHO1,RMPRWHO2,RMPRWHO3,XMSER,RMPRCHK,XMZ,XQMSG,XQSOP
"RTN","RMPRET",82,0)
 ;END
"RTN","RMPREXT")
0^12^B31862955
"RTN","RMPREXT",1,0)
RMPREXT ;PHX/HNC-DATA EXTRACT FOR Nppd  ;4/20/1995
"RTN","RMPREXT",2,0)
 ;;3.0;PROSTHETICS;**12,18,24,64,59,103**;Feb 09, 1996
"RTN","RMPREXT",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","RMPREXT",4,0)
 ;
"RTN","RMPREXT",5,0)
 ;DBIA #4599, Vendor file read 38,39,18.3,8.3
"RTN","RMPREXT",6,0)
 ;
"RTN","RMPREXT",7,0)
EN ;extract from 660
"RTN","RMPREXT",8,0)
 N %ZIS,ZTIO,ZTRTN,ZTSK,ZTDESC
"RTN","RMPREXT",9,0)
 S %ZIS="Q" D ^%ZIS Q:POP
"RTN","RMPREXT",10,0)
 I $D(IO("Q")) D QUE,HOME^%ZIS Q
"RTN","RMPREXT",11,0)
PR1 ;refresh amis codes
"RTN","RMPREXT",12,0)
 D ^RMPREXR
"RTN","RMPREXT",13,0)
EN1 ;pass dates if needed
"RTN","RMPREXT",14,0)
 S DIC="^RMPR(660,",DR=".01:83",DIQ(0)="EN"
"RTN","RMPREXT",15,0)
 S RMPRB=0,RMPRCNT=0,RMPRSUB="B1 "
"RTN","RMPREXT",16,0)
 K ^TMP("RMPR",$J)
"RTN","RMPREXT",17,0)
 F  S RMPRB=$O(^RMPR(660,"B",RMPRB)) Q:(RMPRB>RMPRDT2)!(RMPRB'>0)  D
"RTN","RMPREXT",18,0)
 .Q:RMPRB<RMPRDT1
"RTN","RMPREXT",19,0)
 .;date range check complete
"RTN","RMPREXT",20,0)
 .;pick up mult records with same date
"RTN","RMPREXT",21,0)
 .S RMPRA=0
"RTN","RMPREXT",22,0)
 .F  S RMPRA=$O(^RMPR(660,"B",RMPRB,RMPRA)) Q:RMPRA'>0  D
"RTN","RMPREXT",23,0)
 ..S DA=RMPRA,DIQ="RMPR"
"RTN","RMPREXT",24,0)
 ..D EN^DIQ1,LINECK
"RTN","RMPREXT",25,0)
 ..;parse array in format needed to send/receive
"RTN","RMPREXT",26,0)
 ..S RMPRC=0
"RTN","RMPREXT",27,0)
 ..F  S RMPRC=$O(RMPR(660,RMPRC)) Q:RMPRC'>0  D TMP
"RTN","RMPREXT",28,0)
 ;clean up before calling mailman
"RTN","RMPREXT",29,0)
 K DFN,RMPRFLD,RMPRE,RMPRCNT,DFN,RMPRA,RMPRC,DIQ,DIC,DR,DA,RMPRDT1,RMPRDT2
"RTN","RMPREXT",30,0)
 S XMSUB="B1-F " D MAIL,EXIT
"RTN","RMPREXT",31,0)
 Q
"RTN","RMPREXT",32,0)
LINECK ;check the message line limit (5000)
"RTN","RMPREXT",33,0)
 I RMPRCNT>5000 S XMSUB=RMPRSUB D MAIL K ^TMP("RMPR",$J) S RMPRCNT=0
"RTN","RMPREXT",34,0)
 Q
"RTN","RMPREXT",35,0)
TMP ;format for mailman ^TMP(namespace,$J,counter)=record,field,value
"RTN","RMPREXT",36,0)
 S RMPRFLD=0
"RTN","RMPREXT",37,0)
 F  S RMPRFLD=$O(RMPR(660,RMPRC,RMPRFLD)) Q:RMPRFLD'>0  D
"RTN","RMPREXT",38,0)
 .S RMPRCNT=RMPRCNT+1,RMPRE=0,DFN=0
"RTN","RMPREXT",39,0)
 .S RMPRE=$O(RMPR(660,RMPRC,RMPRFLD,RMPRE)) Q:RMPRE=""
"RTN","RMPREXT",40,0)
 .;strip the , for CSV file
"RTN","RMPREXT",41,0)
 .S ^TMP("RMPR",$J,RMPRCNT)=RMPRC_","_RMPRFLD_","_$TR(RMPR(660,RMPRC,RMPRFLD,RMPRE),",","/")
"RTN","RMPREXT",42,0)
 .;get SSN
"RTN","RMPREXT",43,0)
 .I RMPRFLD=".02" D
"RTN","RMPREXT",44,0)
 .  .S DFN=$P(^RMPR(660,RMPRC,0),U,2)
"RTN","RMPREXT",45,0)
 .  .D DEM^VADPT,ADD^VADPT
"RTN","RMPREXT",46,0)
 .  .S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",644,"_VA("PID")
"RTN","RMPREXT",47,0)
 .  .;DOB int
"RTN","RMPREXT",48,0)
 .  .I $G(VADM(3)) S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.3,"_$P(VADM(3),U,1)
"RTN","RMPREXT",49,0)
 .  .;DOB ext
"RTN","RMPREXT",50,0)
 .  .I $G(VADM(3)) S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.31,"_$P(VADM(3),U,2)
"RTN","RMPREXT",51,0)
 .  .;Sex, int
"RTN","RMPREXT",52,0)
 .  .I $G(VADM(5))'="" S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.5,"_$P(VADM(5),U,1)
"RTN","RMPREXT",53,0)
 .  .;DOD int
"RTN","RMPREXT",54,0)
 .  .I $G(VADM(6)) S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.6,"_$P(VADM(6),U,1)
"RTN","RMPREXT",55,0)
 .  .;DOD ext
"RTN","RMPREXT",56,0)
 .  .I $G(VADM(6)) S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.61,"_$P(VADM(6),U,2)
"RTN","RMPREXT",57,0)
 .  .;patient zip
"RTN","RMPREXT",58,0)
 .  .I $G(VAPA(6)) S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.62,"_VAPA(6)
"RTN","RMPREXT",59,0)
 .  .;patient county name
"RTN","RMPREXT",60,0)
 .  .I $G(VAPA(7)) S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.63,"_$P(VAPA(7),U,2)
"RTN","RMPREXT",61,0)
 .  .;city
"RTN","RMPREXT",62,0)
 .  .I $G(VAPA(4)) S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.66,"_VAPA(4)
"RTN","RMPREXT",63,0)
 .  .;requestor service
"RTN","RMPREXT",64,0)
 .  .;
"RTN","RMPREXT",65,0)
 .  .;ICN
"RTN","RMPREXT",66,0)
 .  .S ICN=$$GETICN^MPIF001(DFN)
"RTN","RMPREXT",67,0)
 .  .I +ICN'=-1 S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.64,"_ICN
"RTN","RMPREXT",68,0)
 .  .;CMOR
"RTN","RMPREXT",69,0)
 .  .S CMOR=$$GETVCCI^MPIF001(DFN)
"RTN","RMPREXT",70,0)
 .  .I +CMOR'=-1 S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.65,"_CMOR
"RTN","RMPREXT",71,0)
 .;vendor info
"RTN","RMPREXT",72,0)
 .I RMPRFLD=7 D
"RTN","RMPREXT",73,0)
 ..N DIC,DR,DA
"RTN","RMPREXT",74,0)
 ..S DIC="^PRC(440,"
"RTN","RMPREXT",75,0)
 ..S DA=$P(^RMPR(660,RMPRC,0),U,9)
"RTN","RMPREXT",76,0)
 ..Q:DA=""
"RTN","RMPREXT",77,0)
 ..S DR="38;39;18.3;8.3",DIQ="TAXID(",DIQ(0)="E"
"RTN","RMPREXT",78,0)
 ..D EN^DIQ1
"RTN","RMPREXT",79,0)
 ..S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.738,"_TAXID(440,DA,38,"E")
"RTN","RMPREXT",80,0)
 ..S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.739,"_TAXID(440,DA,39,"E")
"RTN","RMPREXT",81,0)
 ..S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.7183,"_TAXID(440,DA,18.3,"E")
"RTN","RMPREXT",82,0)
 ..S RMPRCNT=RMPRCNT+1,^TMP("RMPR",$J,RMPRCNT)=RMPRC_",664.783,"_TAXID(440,DA,8.3,"E")
"RTN","RMPREXT",83,0)
 ;
"RTN","RMPREXT",84,0)
 K VA("PID"),RMPR,VADM,VAPA,ICN,CMOR,TAXID
"RTN","RMPREXT",85,0)
 Q
"RTN","RMPREXT",86,0)
MAIL ;pack it up and send it off
"RTN","RMPREXT",87,0)
 S XMTEXT="^TMP(""RMPR"",$J,"
"RTN","RMPREXT",88,0)
MAILS ;entry point to send summary msg
"RTN","RMPREXT",89,0)
 S XMDUZ=.5
"RTN","RMPREXT",90,0)
 S XMY("G.PROSTHETICS@PSAS.MED.VA.GOV")=""
"RTN","RMPREXT",91,0)
 S XMSUB=XMSUB_" Extract From "_$P($$SITE^VASITE,U,2)
"RTN","RMPREXT",92,0)
 D ^XMD
"RTN","RMPREXT",93,0)
 ;keep track of messages sent
"RTN","RMPREXT",94,0)
 S RMPRM(XMZ)=XMZ
"RTN","RMPREXT",95,0)
 Q
"RTN","RMPREXT",96,0)
QUE ;TaskMan Queue
"RTN","RMPREXT",97,0)
 S ZTIO=ION_";"_IOST K IO("Q")
"RTN","RMPREXT",98,0)
 S ZTRTN="PR1^RMPREXT"
"RTN","RMPREXT",99,0)
 S ZTDESC="Prosthetics National Data Extract"
"RTN","RMPREXT",100,0)
 K ZTSK D ^%ZTLOAD I $G(ZTSK) U IO(0) W !,"<REQUEST QUEUED>"
"RTN","RMPREXT",101,0)
 Q
"RTN","RMPREXT",102,0)
EXIT ;exit point
"RTN","RMPREXT",103,0)
 ;send summary msg
"RTN","RMPREXT",104,0)
 S RMPRM(1)="Message Numbers Created"
"RTN","RMPREXT",105,0)
 S XMSUB=RMPRSUB_"Summary ",XMTEXT="RMPRM("
"RTN","RMPREXT",106,0)
 D MAILS
"RTN","RMPREXT",107,0)
 K ^TMP("RMPR",$J),XMTEXT,XMDUZ,XMY,XMSUB,RMPRM
"RTN","RMPREXT",108,0)
 Q
"RTN","RMPREXT",109,0)
PR2 ;Bundle open obligations on 2319
"RTN","RMPREXT",110,0)
 S XMDUZ=.5
"RTN","RMPREXT",111,0)
 S XMY("G.RMPR SERVER")=""
"RTN","RMPREXT",112,0)
 S XMSUB="Prosthetics Data Extract Open Obligations"
"RTN","RMPREXT",113,0)
 S RMPRMSG(1)="The National Data Server has been activated today by Prosthetics HQ."
"RTN","RMPREXT",114,0)
 S RMPRMSG(2)="Data has been collected for all open obligations."
"RTN","RMPREXT",115,0)
 S RMPRMSG(3)=""
"RTN","RMPREXT",116,0)
 S RMPRMGS(4)="This was activated by "_$P(XMFROM,"@",1)
"RTN","RMPREXT",117,0)
 S RMPRMSG(5)=""
"RTN","RMPREXT",118,0)
 S XMTEXT="RMPRMSG("
"RTN","RMPREXT",119,0)
 D ^XMD
"RTN","RMPREXT",120,0)
 ;
"RTN","RMPREXT",121,0)
 K ^TMP("RMPR",$J)
"RTN","RMPREXT",122,0)
 S RMPRB=0,RMPRCNT=0,RMPRSUB="B2 "
"RTN","RMPREXT",123,0)
 S DIC="^RMPR(660,",DR=".01:83",DIQ(0)="EN"
"RTN","RMPREXT",124,0)
 F  S RMPRB=$O(^RMPR(660,RMPRB)) Q:RMPRB'>0  D
"RTN","RMPREXT",125,0)
 .I $G(^RMPR(660,RMPRB,0))="" Q
"RTN","RMPREXT",126,0)
 .S RMPRA=^RMPR(660,RMPRB,0)
"RTN","RMPREXT",127,0)
 .;delivery date not null
"RTN","RMPREXT",128,0)
 .Q:$P(RMPRA,U,12)'=""
"RTN","RMPREXT",129,0)
 .S RMPRX=$P($G(^RMPR(660,RMPRB,1)),U,1)
"RTN","RMPREXT",130,0)
 .;has an IFCAP transaction number
"RTN","RMPREXT",131,0)
 .Q:$P(RMPRX,U,1)=""
"RTN","RMPREXT",132,0)
 .;refresh amis data
"RTN","RMPREXT",133,0)
 .D
"RTN","RMPREXT",134,0)
 ..N ITM,TYPE,NEW,REPAIR
"RTN","RMPREXT",135,0)
 ..S ITM=$P(RMPRA,U,6),TYPE=$P(RMPRA,U,4)
"RTN","RMPREXT",136,0)
 ..Q:ITM=""
"RTN","RMPREXT",137,0)
 ..Q:TYPE=""
"RTN","RMPREXT",138,0)
 ..S NEW=$P($G(^RMPR(661,ITM,0)),U,3)
"RTN","RMPREXT",139,0)
 ..S REPAIR=$P($G(^RMPR(661,ITM,0)),U,4)
"RTN","RMPREXT",140,0)
 ..I TYPE="X" S $P(^RMPR(660,RMPRB,"AM"),U,5)=REPAIR,$P(^("AM"),U,9)="" Q
"RTN","RMPREXT",141,0)
 ..S $P(^RMPR(660,RMPRB,"AM"),U,9)=NEW,$P(^("AM"),U,5)=""
"RTN","RMPREXT",142,0)
 .;get data
"RTN","RMPREXT",143,0)
 .S DA=RMPRB,DIQ="RMPR" D EN^DIQ1,LINECK
"RTN","RMPREXT",144,0)
 .S RMPRC=0
"RTN","RMPREXT",145,0)
 .F  S RMPRC=$O(RMPR(660,RMPRC)) Q:RMPRC'>0  D LINECK,TMP
"RTN","RMPREXT",146,0)
 K DFN,RMPRFLD,RMPRC,RMPRA,RMPRB,RMPRX,RMPRCNT,RMPRE,DR,DIC,DIQ,DA
"RTN","RMPREXT",147,0)
 S XMSUB="B2-F " D MAIL,EXIT
"RTN","RMPREXT",148,0)
 D ^%ZISC
"RTN","RMPREXT",149,0)
 Q
"RTN","RMPREXT",150,0)
 ;END
"RTN","RMPRN62")
0^3^B21018371
"RTN","RMPRN62",1,0)
RMPRN62 ;Hines OIFO/HNC -NPPD CALCULATIONS ;02/14/98
"RTN","RMPRN62",2,0)
 ;;3.0;PROSTHETICS;**31,39,48,50,57,70,84,91,103**;Feb 09, 1996
"RTN","RMPRN62",3,0)
 ;
"RTN","RMPRN62",4,0)
 ; ODJ - patch 50 - 7/28/00 - add line label REP to mark start of
"RTN","RMPRN62",5,0)
 ;                            repair lines.
"RTN","RMPRN62",6,0)
 ; HNC - patch 57 - 4/5/01 - add Dental Implant
"RTN","RMPRN62",7,0)
 ;
"RTN","RMPRN62",8,0)
 ; AAC - Patch 84 - 02-25-04; additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN62",9,0)
 ; AAC - patch 84 - add new lines 100 H,100 I,400 H,900 N,910 B,R10 A,R10 B,R10 C,R60 D.
"RTN","RMPRN62",10,0)
 ; AAC - patch 84 - change desc -100 D,100 G,900 I,900 J,R20 B,R20 C,R91 F.
"RTN","RMPRN62",11,0)
 ;
"RTN","RMPRN62",12,0)
 ; AAC - Patch 91 - 06/23/04 -  NPPD line R10, no longer used, but keep in display as historical listing.
"RTN","RMPRN62",13,0)
 ;
"RTN","RMPRN62",14,0)
 ; AAC - Patch 103 - 01/17/05 - NPPD Categories/lines - New and Repair
"RTN","RMPRN62",15,0)
 ;
"RTN","RMPRN62",16,0)
 ;build array or tmp
"RTN","RMPRN62",17,0)
DES ;description of line numbers
"RTN","RMPRN62",18,0)
 ;;100 A;MOTORIZED
"RTN","RMPRN62",19,0)
 ;;100 A1;SCOOTERS
"RTN","RMPRN62",20,0)
 ;;100 B;MANUAL CUSTOM
"RTN","RMPRN62",21,0)
 ;;100 C;STANDARD
"RTN","RMPRN62",22,0)
 ;;100 D;WC ACCESSORIES
"RTN","RMPRN62",23,0)
 ;;100 E;CUSHION FOAM
"RTN","RMPRN62",24,0)
 ;;100 F;CUSHION SPEC
"RTN","RMPRN62",25,0)
 ;;100 G;CARRIERS(INCLUDING WC,SCOOTERS)
"RTN","RMPRN62",26,0)
 ;;100 H;NSC VAN MOD
"RTN","RMPRN62",27,0)
 ;;100 I;SCOOTER ACCESSORIES
"RTN","RMPRN62",28,0)
 ;;200 A;LEG IPOP
"RTN","RMPRN62",29,0)
 ;;200 B;LEG TEM
"RTN","RMPRN62",30,0)
 ;;200 C;LEG PART FOOT
"RTN","RMPRN62",31,0)
 ;;200 E;LEG SYMES
"RTN","RMPRN62",32,0)
 ;;200 F;LEG B/K
"RTN","RMPRN62",33,0)
 ;;200 G;LEG A/O
"RTN","RMPRN62",34,0)
 ;;200 H;LEG A/K
"RTN","RMPRN62",35,0)
 ;;200 I;LEG COMPONENT
"RTN","RMPRN62",36,0)
 ;;300 A;ARM B/E
"RTN","RMPRN62",37,0)
 ;;300 B;ARM A/E
"RTN","RMPRN62",38,0)
 ;;300 C;COSMETIC GLOVES
"RTN","RMPRN62",39,0)
 ;;300 D;ARM A/O
"RTN","RMPRN62",40,0)
 ;;300 E;TERMINAL DEVICES
"RTN","RMPRN62",41,0)
 ;;300 F;EXT.POWERED,ARM
"RTN","RMPRN62",42,0)
 ;;400 A;ORTHOSIS ANKLE
"RTN","RMPRN62",43,0)
 ;;400 B;ORTHOSIS LEG AK
"RTN","RMPRN62",44,0)
 ;;400 C;ORTHOSIS, SPINAL
"RTN","RMPRN62",45,0)
 ;;400 D;ORTHOSIS AL/OTH
"RTN","RMPRN62",46,0)
 ;;400 E;ELAS HOSE, EA
"RTN","RMPRN62",47,0)
 ;;400 F;ORTHOSIS, KNEE
"RTN","RMPRN62",48,0)
 ;;400 G;CORSET/BELT
"RTN","RMPRN62",49,0)
 ;;400 H;ORTHOSIS,WHO
"RTN","RMPRN62",50,0)
 ;;400 X;ORTHOSIS UNKNOWN
"RTN","RMPRN62",51,0)
 ;;500 A;ARCH SUPT, EA
"RTN","RMPRN62",52,0)
 ;;500 B;SHOE INLAY, EA
"RTN","RMPRN62",53,0)
 ;;500 C;SHOE MOLDED, EA
"RTN","RMPRN62",54,0)
 ;;500 D;SHOE ORTH OTH
"RTN","RMPRN62",55,0)
 ;;500 E;INSERTS, SHOE
"RTN","RMPRN62",56,0)
 ;;500 F;SHOES A/O, EA
"RTN","RMPRN62",57,0)
 ;;600 1;EYEGLASSES PR
"RTN","RMPRN62",58,0)
 ;;600 A;* NO LONGER USED *
"RTN","RMPRN62",59,0)
 ;;600 B;HEARING AIDS
"RTN","RMPRN62",60,0)
 ;;600 C;AID FOR BLIND
"RTN","RMPRN62",61,0)
 ;;600 D;CONT LENS, EA.
"RTN","RMPRN62",62,0)
 ;;600 E;EAR INSERT
"RTN","RMPRN62",63,0)
 ;;600 F;ASSIST LISTEN
"RTN","RMPRN62",64,0)
 ;;600 G;SPEECH DEVICES
"RTN","RMPRN62",65,0)
 ;;700 A;EYE
"RTN","RMPRN62",66,0)
 ;;700 B;FACIAL
"RTN","RMPRN62",67,0)
 ;;700 C;BODY, OTHER
"RTN","RMPRN62",68,0)
 ;;800 A;OXYGEN EQP
"RTN","RMPRN62",69,0)
 ;;800 B;OXYGEN CONCEN
"RTN","RMPRN62",70,0)
 ;;800 C;MOVED TO REPAIR
"RTN","RMPRN62",71,0)
 ;;800 D;OXYGEN, SUPPLIES
"RTN","RMPRN62",72,0)
 ;;800 E;MOVED TO REPAIR
"RTN","RMPRN62",73,0)
 ;;800 F;VENTILATOR, A/O
"RTN","RMPRN62",74,0)
 ;;800 G;RESPIRATORY EQUIPMENT
"RTN","RMPRN62",75,0)
 ;;800 H;RESPIRATORY SUPPLIES
"RTN","RMPRN62",76,0)
 ;;900 A;WALKING AIDS
"RTN","RMPRN62",77,0)
 ;;900 B;PATIENT LIFT
"RTN","RMPRN62",78,0)
 ;;900 C;BED HOSP STD
"RTN","RMPRN62",79,0)
 ;;900 D;BED HOSP SPEC
"RTN","RMPRN62",80,0)
 ;;900 E;MATTRESS STAN
"RTN","RMPRN62",81,0)
 ;;900 F;MATTRESS SPEC
"RTN","RMPRN62",82,0)
 ;;900 G;BED, ACCESSORIES
"RTN","RMPRN62",83,0)
 ;;900 H;ENVIRON CONTR
"RTN","RMPRN62",84,0)
 ;;900 I;HOME SAFETY EQUIPMENT
"RTN","RMPRN62",85,0)
 ;;900 J;* NO LONGER USED *
"RTN","RMPRN62",86,0)
 ;;900 K;MED EQP AL/OTH
"RTN","RMPRN62",87,0)
 ;;900 L;* NO LONGER USED *
"RTN","RMPRN62",88,0)
 ;;900 M;COMPUTER EQUIP
"RTN","RMPRN62",89,0)
 ;;900 N;TELEHEALTH
"RTN","RMPRN62",90,0)
 ;;910 A;MED SUP AL/OTH
"RTN","RMPRN62",91,0)
 ;;910 B;BATTERIES
"RTN","RMPRN62",92,0)
 ;;920 A;HOME DIAL EQP
"RTN","RMPRN62",93,0)
 ;;920 B;HOME DIAL SUP
"RTN","RMPRN62",94,0)
 ;;930 A;MOD VANS
"RTN","RMPRN62",95,0)
 ;;930 B;ADAPT EQP AL/OTH
"RTN","RMPRN62",96,0)
 ;;940 A;HISA SC
"RTN","RMPRN62",97,0)
 ;;940 B;HISA NSC
"RTN","RMPRN62",98,0)
 ;;960 A; H&N ALL OTHER
"RTN","RMPRN62",99,0)
 ;;960 A1; H&N INTRAOCULAR LENS
"RTN","RMPRN62",100,0)
 ;;960 A2; H&N HEAD
"RTN","RMPRN62",101,0)
 ;;960 A3; H&N NECK
"RTN","RMPRN62",102,0)
 ;;960 A4; H&N EYES A/O
"RTN","RMPRN62",103,0)
 ;;960 B; ABDOMEN ALL OTHER
"RTN","RMPRN62",104,0)
 ;;960 B1; ABDOMEN STENT
"RTN","RMPRN62",105,0)
 ;;960 B2; ABDOMEN MESH
"RTN","RMPRN62",106,0)
 ;;960 B3; ABDOMEN CATHETER
"RTN","RMPRN62",107,0)
 ;;960 C; UE ALL OTHER
"RTN","RMPRN62",108,0)
 ;;960 C1; UE ARM
"RTN","RMPRN62",109,0)
 ;;960 C2; UE SHOULDER
"RTN","RMPRN62",110,0)
 ;;960 C3; UE HAND
"RTN","RMPRN62",111,0)
 ;;960 D; LE ALL OTHER
"RTN","RMPRN62",112,0)
 ;;960 D1; LE HIP
"RTN","RMPRN62",113,0)
 ;;960 D2; LE KNEE
"RTN","RMPRN62",114,0)
 ;;960 D3; LE FOOT
"RTN","RMPRN62",115,0)
 ;;960 E; THORACIC ALL OTHER
"RTN","RMPRN62",116,0)
 ;;960 E1; THOR PACEMAKER/LEADS
"RTN","RMPRN62",117,0)
 ;;960 E2; THOR ICD/LEADS
"RTN","RMPRN62",118,0)
 ;;960 E3; THOR STENTS
"RTN","RMPRN62",119,0)
 ;;960 E4; THOR VALVES
"RTN","RMPRN62",120,0)
 ;;960 F; DENTAL IMPLANTS
"RTN","RMPRN62",121,0)
 ;;960 G; ALL SCRWS,PLTS,ANCRS,ETC.
"RTN","RMPRN62",122,0)
 ;;960 X; SI UNKNOWNS(ALL)
"RTN","RMPRN62",123,0)
 ;;999 A;AL/OTH ITEMS
"RTN","RMPRN62",124,0)
 ;;999 X;HCPCS NOT GRP
"RTN","RMPRN62",125,0)
 ;;999 Z;NO HCPCS
"RTN","RMPRN62",126,0)
REP ;;R10;* NO LONGER USED *
"RTN","RMPRN62",127,0)
 ;;R10 A;WHEELCHAIR
"RTN","RMPRN62",128,0)
 ;;R10 B;CARRIERS
"RTN","RMPRN62",129,0)
 ;;R10 C;NSC VAN MOD
"RTN","RMPRN62",130,0)
 ;;R20 A;LEG A/K
"RTN","RMPRN62",131,0)
 ;;R20 B;* NO LONGER USED *
"RTN","RMPRN62",132,0)
 ;;R20 C;LEG B/K
"RTN","RMPRN62",133,0)
 ;;R20 D;LEG ALL OTHER 
"RTN","RMPRN62",134,0)
 ;;R30;ART ARM,TOTAL
"RTN","RMPRN62",135,0)
 ;;R40;ORTHOSIS TOTAL
"RTN","RMPRN62",136,0)
 ;;R50 A;ORTH SHOE ALL
"RTN","RMPRN62",137,0)
 ;;R50 B;SHOE MOD
"RTN","RMPRN62",138,0)
 ;;R50 C;A/O ITEM SERV
"RTN","RMPRN62",139,0)
 ;;R60 A;AID FOR BLIND
"RTN","RMPRN62",140,0)
 ;;R60 B;EYEGLASS RPR
"RTN","RMPRN62",141,0)
 ;;R60 C;HEARING AID
"RTN","RMPRN62",142,0)
 ;;R60 D;ASSISTIVE LISTENING DEVICES
"RTN","RMPRN62",143,0)
 ;;R70;HOME DIAL EQU
"RTN","RMPRN62",144,0)
 ;;R80 A;INVALID LIFTS
"RTN","RMPRN62",145,0)
 ;;R80 B;REPAIR TO ECU
"RTN","RMPRN62",146,0)
 ;;R80 C;MED EQUIP A/O
"RTN","RMPRN62",147,0)
 ;;R80 D;HME DELIVERY/PU
"RTN","RMPRN62",148,0)
 ;;R80 E;TELEHEALTH
"RTN","RMPRN62",149,0)
 ;;R90;ALL OTHER
"RTN","RMPRN62",150,0)
 ;;R90 A;SHIPPING
"RTN","RMPRN62",151,0)
 ;;R90 B;TRAINING
"RTN","RMPRN62",152,0)
 ;;R91 A;CONCENTRATOR
"RTN","RMPRN62",153,0)
 ;;R91 B;VENTILATOR
"RTN","RMPRN62",154,0)
 ;;R91 C;EQUIPMENT A/O
"RTN","RMPRN62",155,0)
 ;;R91 D;SERVICE VISIT
"RTN","RMPRN62",156,0)
 ;;R91 E;COMPRESSED O2
"RTN","RMPRN62",157,0)
 ;;R91 F;LIQUID O2(LBS)
"RTN","RMPRN62",158,0)
 ;;R91 G;LIQUID DELIVERY SYSTEM
"RTN","RMPRN62",159,0)
 ;;R91 H;RESPIRATORY EQUIP
"RTN","RMPRN62",160,0)
 ;;R92 A;VAN MODS
"RTN","RMPRN62",161,0)
 ;;R92 B;AUTO ADPT EQUIP
"RTN","RMPRN62",162,0)
 ;;R99 A;SHIPPING
"RTN","RMPRN62",163,0)
 ;;R99 X;HCPCS NOT GRP
"RTN","RMPRN62",164,0)
 ;;R99 Z;NO HCPCS
"RTN","RMPRN62",165,0)
 ;;END
"RTN","RMPRN6PR")
0^4^B29786078
"RTN","RMPRN6PR",1,0)
RMPRN6PR ;HINES/HNC -PRINT REPAIR WORKSHEETS ;2/14/98
"RTN","RMPRN6PR",2,0)
 ;;3.0;PROSTHETICS;**31,32,39,48,51,84,103**;Feb 09, 1996
"RTN","RMPRN6PR",3,0)
 ;
"RTN","RMPRN6PR",4,0)
 ; AAC Patch 84, 02-25-04, additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN6PR",5,0)
 ; AAC - Patch 84 change description for R60, 2/25/04
"RTN","RMPRN6PR",6,0)
 ; AAC - Patch 103 NPPD CATEGORIES/LINES - NEW and REPAIR 
"RTN","RMPRN6PR",7,0)
 ;
"RTN","RMPRN6PR",8,0)
 K ^TMP($J,"RS")
"RTN","RMPRN6PR",9,0)
 S STN=1
"RTN","RMPRN6PR",10,0)
 F  S STN=$O(^TMP($J,"R",STN)) Q:STN=""  D HDR,CDATA,SUM
"RTN","RMPRN6PR",11,0)
 Q
"RTN","RMPRN6PR",12,0)
HDR ;leave this form feed alone
"RTN","RMPRN6PR",13,0)
 W @IOF
"RTN","RMPRN6PR",14,0)
 W !,"REPORT OF REPAIR PROSTHETICS ACTIVITIES"
"RTN","RMPRN6PR",15,0)
 ;header depending on sort selected
"RTN","RMPRN6PR",16,0)
 W !,$$HDR^RMPRN6S(RMPRDET)
"RTN","RMPRN6PR",17,0)
 S Y=DATE(1) D DD^%DT W !,Y," - " S Y=DATE(2) D DD^%DT W Y
"RTN","RMPRN6PR",18,0)
 W !,?10,"STATION: ",STN
"RTN","RMPRN6PR",19,0)
 ;RMPRSUM if summary header
"RTN","RMPRN6PR",20,0)
 Q:$G(RMPRSUM)
"RTN","RMPRN6PR",21,0)
 W !!
"RTN","RMPRN6PR",22,0)
 W !,"Line",?6,"Item",?21,"VA",?26,"Com",?31,"Total",?37,"Cost",?46
"RTN","RMPRN6PR",23,0)
 W "Ave Com",?54
"RTN","RMPRN6PR",24,0)
 W "SC/OP",?61,"NSC/OP",?68,"SC/IP",?74,"NSC/IP"
"RTN","RMPRN6PR",25,0)
 I IOM>120 D
"RTN","RMPRN6PR",26,0)
 .W ?83,"SP LEG"
"RTN","RMPRN6PR",27,0)
 .W ?90,"A&A",?97,"PHC",?104,"ELG REF",?112,"NEW",?120,"$ELG REF"
"RTN","RMPRN6PR",28,0)
 Q
"RTN","RMPRN6PR",29,0)
CDATA ;
"RTN","RMPRN6PR",30,0)
 Q:FL=1
"RTN","RMPRN6PR",31,0)
 S LINE="",LINEP=""
"RTN","RMPRN6PR",32,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PR",33,0)
 F  S LINE=$O(^TMP($J,"R",STN,LINE)) Q:LINE=""  Q:FL=1  D
"RTN","RMPRN6PR",34,0)
 .I $E(LINE,0,3)'=$E(LINEP,0,3) D SUM Q:FL=1  D LBLR
"RTN","RMPRN6PR",35,0)
 .W !,LINE,?6,$E($P(^TMP($J,"R",STN,LINE),U,15),1,15)
"RTN","RMPRN6PR",36,0)
 .W ?21,$P(^TMP($J,"R",STN,LINE),U,1) S CA=CA+$P(^(LINE),U,1)
"RTN","RMPRN6PR",37,0)
 .W ?26,$P(^TMP($J,"R",STN,LINE),U,2) S CB=CB+$P(^(LINE),U,2)
"RTN","RMPRN6PR",38,0)
 .W ?31,$P(^TMP($J,"R",STN,LINE),U,1)+($P(^TMP($J,"R",STN,LINE),U,2))
"RTN","RMPRN6PR",39,0)
 .W ?37,$FN($J($P(^TMP($J,"R",STN,LINE),U,3),0,0),",") S CC=CC+$P(^(LINE),U,3)
"RTN","RMPRN6PR",40,0)
 .W:$P(^TMP($J,"R",STN,LINE),U,2)>0 ?46,$FN($J(($P(^(LINE),U,3))/($P(^(LINE),U,2)),0,0),",")
"RTN","RMPRN6PR",41,0)
 .W ?55,$P(^TMP($J,"R",STN,LINE),U,4) S CD=CD+$P(^(LINE),U,4)
"RTN","RMPRN6PR",42,0)
 .W ?62,$P(^TMP($J,"R",STN,LINE),U,5) S CE=CE+$P(^(LINE),U,5)
"RTN","RMPRN6PR",43,0)
 .W ?69,$P(^TMP($J,"R",STN,LINE),U,6) S CF=CF+$P(^(LINE),U,6)
"RTN","RMPRN6PR",44,0)
 .W ?76,$P(^TMP($J,"R",STN,LINE),U,7) S CG=CG+$P(^(LINE),U,7)
"RTN","RMPRN6PR",45,0)
 .S CH=CH+$P(^TMP($J,"R",STN,LINE),U,8)
"RTN","RMPRN6PR",46,0)
 .S CI=CI+$P(^TMP($J,"R",STN,LINE),U,9)
"RTN","RMPRN6PR",47,0)
 .S CJ=CJ+$P(^TMP($J,"R",STN,LINE),U,10)
"RTN","RMPRN6PR",48,0)
 .S CK=CK+$P(^TMP($J,"R",STN,LINE),U,11)
"RTN","RMPRN6PR",49,0)
 .S CL=CL+$P(^TMP($J,"R",STN,LINE),U,12)
"RTN","RMPRN6PR",50,0)
 .S CM=CM+$P(^TMP($J,"R",STN,LINE),U,16)
"RTN","RMPRN6PR",51,0)
 .I IOM>120 D
"RTN","RMPRN6PR",52,0)
 ..W ?83,$P(^TMP($J,"R",STN,LINE),U,8)
"RTN","RMPRN6PR",53,0)
 ..W ?90,$P(^TMP($J,"R",STN,LINE),U,9)
"RTN","RMPRN6PR",54,0)
 ..W ?97,$P(^TMP($J,"R",STN,LINE),U,10)
"RTN","RMPRN6PR",55,0)
 ..W ?104,$P(^TMP($J,"R",STN,LINE),U,11)
"RTN","RMPRN6PR",56,0)
 ..W ?112,$P(^TMP($J,"R",STN,LINE),U,12)
"RTN","RMPRN6PR",57,0)
 ..W ?120,$P(^TMP($J,"R",STN,LINE),U,16)
"RTN","RMPRN6PR",58,0)
 .S LINEP=LINE
"RTN","RMPRN6PR",59,0)
 Q
"RTN","RMPRN6PR",60,0)
SUM ;Print summary for group
"RTN","RMPRN6PR",61,0)
 Q:FL=1
"RTN","RMPRN6PR",62,0)
 I LINEP'="" D  Q:FL=1
"RTN","RMPRN6PR",63,0)
 .I $Y+13>IOSL,IOST["C-" D CHK Q:FL=1
"RTN","RMPRN6PR",64,0)
 .S GROUPT=CA_U_CB_U_(CA+CB)_U_$J(CC,0,0)_U_CD_U_CE_U_CF_U_CG_U_CH_U_CI_U_CJ_U_CK_U_CL_U_CM
"RTN","RMPRN6PR",65,0)
 .W !,LN,!
"RTN","RMPRN6PR",66,0)
 .W ?21,CA,?26,CB,?31,(CA+CB),?37,$FN($J(CC,0,0),","),?55,CD,?62,CE,?69,CF,?76,CG
"RTN","RMPRN6PR",67,0)
 .I IOM>120 W ?83,CH,?90,CI,?97,CJ,?104,CK,?112,CL,?120,CM
"RTN","RMPRN6PR",68,0)
 .W !
"RTN","RMPRN6PR",69,0)
 .D LBLG
"RTN","RMPRN6PR",70,0)
 .S ^TMP($J,"RS",STN,GROUP,STN)=GROUPT
"RTN","RMPRN6PR",71,0)
 .S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PR",72,0)
 Q:$G(LINEP)'="R99 Z"
"RTN","RMPRN6PR",73,0)
 D FSUM S RMPRSUM=1 D HDR K RMPRSUM
"RTN","RMPRN6PR",74,0)
 W !!,"STATION SUMMARY (REPAIR ACTIVITIES)"
"RTN","RMPRN6PR",75,0)
 ;W !,$$HDR^RMPRN6S(RMPRDET)
"RTN","RMPRN6PR",76,0)
 W !,?21,"VA",?31,"Com",?41,"Total",?51,"Cost",?61
"RTN","RMPRN6PR",77,0)
 W "Ave Com",?71,"Elg Ref $"
"RTN","RMPRN6PR",78,0)
 W !,LN
"RTN","RMPRN6PR",79,0)
 W !,?21,CA,?31,CB,?41,(CA+CB),?51,"$"_$FN($J(CC,0,0),",")
"RTN","RMPRN6PR",80,0)
 W ?61
"RTN","RMPRN6PR",81,0)
 I CB>0 W "$"_$FN($J((CC/CB),0,0),",")
"RTN","RMPRN6PR",82,0)
 W ?71
"RTN","RMPRN6PR",83,0)
 I CM>0 W "$"_$FN($J((CM),0,0),",")
"RTN","RMPRN6PR",84,0)
 W !,LN,!
"RTN","RMPRN6PR",85,0)
 W !,?21,"SC/OP",?31,"NSC/OP",?41,"SC/IP",?51,"NSC/IP"
"RTN","RMPRN6PR",86,0)
 W !,LN,!
"RTN","RMPRN6PR",87,0)
 W ?21,CD,?31,CE,?41,CF,?51,CG
"RTN","RMPRN6PR",88,0)
 W !,LN
"RTN","RMPRN6PR",89,0)
 W !,?21,"SPEC LEG",?31,"A&A",?41,"PHC",?51,"ELG REF",?61,"NEW"
"RTN","RMPRN6PR",90,0)
 W !,LN,!,?21,CH,?31,CI,?41,CJ,?51,CK,?61,CL,!,LN
"RTN","RMPRN6PR",91,0)
 W !,?21,"Total Disability: ",(CD+CE+CF+CG),!,LN,!
"RTN","RMPRN6PR",92,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL)=0
"RTN","RMPRN6PR",93,0)
 I IOST["C-" D CHK
"RTN","RMPRN6PR",94,0)
 Q
"RTN","RMPRN6PR",95,0)
LBLG ;group description fo final repair summary
"RTN","RMPRN6PR",96,0)
 I $E(LINEP,0,3)="R07" S GROUP=$E(LINEP,0,3)_" HEARING AID, LOCAL REPAIRS"
"RTN","RMPRN6PR",97,0)
 I $E(LINEP,0,3)="R10" S GROUP=$E(LINEP,0,3)_" WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6PR",98,0)
 I $E(LINEP,0,3)="R20" S GROUP=$E(LINEP,0,3)_" ARTIFICIAL LEGS"
"RTN","RMPRN6PR",99,0)
 I $E(LINEP,0,3)="R30" S GROUP=$E(LINEP,0,3)_" ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6PR",100,0)
 I $E(LINEP,0,3)="R40" S GROUP=$E(LINEP,0,3)_" ORTHOSIS"
"RTN","RMPRN6PR",101,0)
 I $E(LINEP,0,3)="R50" S GROUP=$E(LINEP,0,3)_" SHOES/ORTHOTICS"
"RTN","RMPRN6PR",102,0)
 I $E(LINEP,0,3)="R60" S GROUP=$E(LINEP,0,3)_" SENSORI-NEURO AIDS"
"RTN","RMPRN6PR",103,0)
 I $E(LINEP,0,3)="R70" S GROUP=$E(LINEP,0,3)_" HOME DIALYSIS EQUIPMENT"
"RTN","RMPRN6PR",104,0)
 I $E(LINEP,0,3)="R80" S GROUP=$E(LINEP,0,3)_" MEDICAL EQUIPMENT"
"RTN","RMPRN6PR",105,0)
 I $E(LINEP,0,3)="R90" S GROUP=$E(LINEP,0,3)_" ALL OTHER"
"RTN","RMPRN6PR",106,0)
 I $E(LINEP,0,3)="R91" S GROUP=$E(LINEP,0,3)_" OXYGEN & RESPIRATORY"
"RTN","RMPRN6PR",107,0)
 I $E(LINEP,0,3)="R92" S GROUP=$E(LINEP,0,3)_" AUTO & VAN EQUIP"
"RTN","RMPRN6PR",108,0)
 I $E(LINEP,0,3)="R99" S GROUP=$E(LINEP,0,3)_" MISC"
"RTN","RMPRN6PR",109,0)
 Q
"RTN","RMPRN6PR",110,0)
LBLR ;label for repair group
"RTN","RMPRN6PR",111,0)
 I $E(LINE,0,3)="R10" W !,"WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6PR",112,0)
 I $E(LINE,0,3)="R20" W !,"ARTIFICIAL LEGS"
"RTN","RMPRN6PR",113,0)
 I $E(LINE,0,3)="R30" W !,"ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6PR",114,0)
 I $E(LINE,0,3)="R40" W !,"ORTHOSIS"
"RTN","RMPRN6PR",115,0)
 I $E(LINE,0,3)="R50" W !,"SHOES/ORTHOTICS"
"RTN","RMPRN6PR",116,0)
 I $E(LINE,0,3)="R60" W !,"SENSORI-NEURO AIDS"
"RTN","RMPRN6PR",117,0)
 I $E(LINE,0,3)="R70" W !,"HOME DIALYSIS EQUIPMENT"
"RTN","RMPRN6PR",118,0)
 I $E(LINE,0,3)="R80",IOST'["C-" D HDR W !,"MEDICAL EQUIPMENT"
"RTN","RMPRN6PR",119,0)
 I $E(LINE,0,3)="R80",IOST["C-" W !,"MEDICAL EQUIPMENT"
"RTN","RMPRN6PR",120,0)
 I $E(LINE,0,3)="R90" W !,"ALL OTHER"
"RTN","RMPRN6PR",121,0)
 I $E(LINE,0,3)="R91" W !,"OXYGEN & RESPIRATORY"
"RTN","RMPRN6PR",122,0)
 I $E(LINE,0,3)="R92" W !,"AUTO & VAN EQUIP"
"RTN","RMPRN6PR",123,0)
 I $E(LINE,0,3)="R99" W !,"MISC"
"RTN","RMPRN6PR",124,0)
 Q
"RTN","RMPRN6PR",125,0)
FSUM ;final summay on Repair Worksheets STATION
"RTN","RMPRN6PR",126,0)
 S H=0
"RTN","RMPRN6PR",127,0)
 F  S H=$O(^TMP($J,"RS",STN,H)) Q:H=""  D
"RTN","RMPRN6PR",128,0)
 .S H1=0,H2=0
"RTN","RMPRN6PR",129,0)
 .F  S H1=$O(^TMP($J,"RS",STN,H,H1)) Q:H1=""  D
"RTN","RMPRN6PR",130,0)
 ..Q:H1'=STN
"RTN","RMPRN6PR",131,0)
 ..S H2=^TMP($J,"RS",STN,H,H1)
"RTN","RMPRN6PR",132,0)
 ..S CA=CA+$P(H2,U,1)
"RTN","RMPRN6PR",133,0)
 ..S CB=CB+$P(H2,U,2)
"RTN","RMPRN6PR",134,0)
 ..S CC=CC+$P(H2,U,4)
"RTN","RMPRN6PR",135,0)
 ..S CD=CD+$P(H2,U,5)
"RTN","RMPRN6PR",136,0)
 ..S CE=CE+$P(H2,U,6)
"RTN","RMPRN6PR",137,0)
 ..S CF=CF+$P(H2,U,7)
"RTN","RMPRN6PR",138,0)
 ..S CG=CG+$P(H2,U,8)
"RTN","RMPRN6PR",139,0)
 ..S CH=CH+$P(H2,U,9)
"RTN","RMPRN6PR",140,0)
 ..S CI=CI+$P(H2,U,10)
"RTN","RMPRN6PR",141,0)
 ..S CJ=CJ+$P(H2,U,11)
"RTN","RMPRN6PR",142,0)
 ..S CK=CK+$P(H2,U,12)
"RTN","RMPRN6PR",143,0)
 ..S CL=CL+$P(H2,U,13)
"RTN","RMPRN6PR",144,0)
 ..S CM=CM+$P(H2,U,14)
"RTN","RMPRN6PR",145,0)
 Q
"RTN","RMPRN6PR",146,0)
CHK ;
"RTN","RMPRN6PR",147,0)
 K DIR W !! S DIR(0)="E" D ^DIR S:+Y'>0 FL=1
"RTN","RMPRN6PR",148,0)
 W @IOF
"RTN","RMPRN6PR",149,0)
 Q
"RTN","RMPRN6PR",150,0)
 ;END
"RTN","RMPRN6PT")
0^5^B34767275
"RTN","RMPRN6PT",1,0)
RMPRN6PT ;HINES/HNC -PRINT NPPD NEW WORKSHEETS ;2/14/98
"RTN","RMPRN6PT",2,0)
 ;;3.0;PROSTHETICS;**31,32,39,51,57,84,103**;Feb 09, 1996
"RTN","RMPRN6PT",3,0)
 ;
"RTN","RMPRN6PT",4,0)
 ; AAC Patch 84, 02-25-04, additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN6PT",5,0)
 ; AAC Patch 84, 02-25-04, Change Description for 600
"RTN","RMPRN6PT",6,0)
 ; AAC PATCH 103, 01-17-05 NPPD CATEGORIES/LINES -  NEW and REPAIR
"RTN","RMPRN6PT",7,0)
 ;
"RTN","RMPRN6PT",8,0)
 K ^TMP($J,"NS")
"RTN","RMPRN6PT",9,0)
 S STN=1
"RTN","RMPRN6PT",10,0)
 S SSNCT=0,BDC=0
"RTN","RMPRN6PT",11,0)
 F  S BDC=$O(^TMP($J,"A",BDC)) Q:BDC'>0  S SSNCT=SSNCT+1
"RTN","RMPRN6PT",12,0)
 K BDC,^TMP($J,"A")
"RTN","RMPRN6PT",13,0)
 F  S STN=$O(^TMP($J,"N",STN)) Q:STN=""  W:$E(IOST,1,2)="C-" @IOF D HDR,CDATA,SUM
"RTN","RMPRN6PT",14,0)
 Q
"RTN","RMPRN6PT",15,0)
HDR ;
"RTN","RMPRN6PT",16,0)
 ;W @IOF
"RTN","RMPRN6PT",17,0)
 W !,"REPORT OF NEW PROSTHETICS ACTIVITIES"
"RTN","RMPRN6PT",18,0)
 ;header based on sort select
"RTN","RMPRN6PT",19,0)
 W !,$$HDR^RMPRN6S(RMPRDET)
"RTN","RMPRN6PT",20,0)
 S Y=DATE(1) D DD^%DT S DATE(3)=Y W !,DATE(3)," - " S Y=DATE(2) D DD^%DT S DATE(4)=Y W DATE(4)
"RTN","RMPRN6PT",21,0)
 W !,?10,"STATION: ",STN
"RTN","RMPRN6PT",22,0)
 ;RMPRSUM if summary header
"RTN","RMPRN6PT",23,0)
 Q:$G(RMPRSUM)
"RTN","RMPRN6PT",24,0)
 W !!
"RTN","RMPRN6PT",25,0)
 W !,"Line",?6,"Item",?21,"VA",?26,"Com",?31,"Total",?37,"Cost",?46
"RTN","RMPRN6PT",26,0)
 W "Ave Com",?54
"RTN","RMPRN6PT",27,0)
 W "SC/OP",?61,"NSC/OP",?68,"SC/IP",?74,"NSC/IP"
"RTN","RMPRN6PT",28,0)
 I IOM>120 D
"RTN","RMPRN6PT",29,0)
 .W ?83,"SP LEG"
"RTN","RMPRN6PT",30,0)
 .W ?90,"A&A",?97,"PHC",?104,"ELG REF",?112,"NEW",?120,"$ELG REF"
"RTN","RMPRN6PT",31,0)
 Q
"RTN","RMPRN6PT",32,0)
CDATA ;
"RTN","RMPRN6PT",33,0)
 S LINE="",LINEP=""
"RTN","RMPRN6PT",34,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PT",35,0)
 F  S LINE=$O(^TMP($J,"N",STN,LINE)) Q:LINE=""  Q:FL=1  D
"RTN","RMPRN6PT",36,0)
 .I $E(LINE,0,3)'=$E(LINEP,0,3) D SUM Q:FL=1  D LBL
"RTN","RMPRN6PT",37,0)
 .W !,LINE,?6,$E($P(^TMP($J,"N",STN,LINE),U,15),1,15)
"RTN","RMPRN6PT",38,0)
 .W ?21,$P(^TMP($J,"N",STN,LINE),U,1) S CA=CA+$P(^(LINE),U,1)
"RTN","RMPRN6PT",39,0)
 .W ?26,$P(^TMP($J,"N",STN,LINE),U,2) S CB=CB+$P(^(LINE),U,2)
"RTN","RMPRN6PT",40,0)
 .W ?31,$P(^TMP($J,"N",STN,LINE),U,1)+($P(^TMP($J,"N",STN,LINE),U,2))
"RTN","RMPRN6PT",41,0)
 .W ?37,$FN($J($P(^TMP($J,"N",STN,LINE),U,3),0,0),",") S CC=CC+$P(^(LINE),U,3)
"RTN","RMPRN6PT",42,0)
 .W:$P(^TMP($J,"N",STN,LINE),U,2)>0 ?46,$FN($J(($P(^(LINE),U,3))/($P(^(LINE),U,2)),0,0),",")
"RTN","RMPRN6PT",43,0)
 .W ?55,$P(^TMP($J,"N",STN,LINE),U,4) S CD=CD+$P(^(LINE),U,4)
"RTN","RMPRN6PT",44,0)
 .W ?62,$P(^TMP($J,"N",STN,LINE),U,5) S CE=CE+$P(^(LINE),U,5)
"RTN","RMPRN6PT",45,0)
 .W ?69,$P(^TMP($J,"N",STN,LINE),U,6) S CF=CF+$P(^(LINE),U,6)
"RTN","RMPRN6PT",46,0)
 .W ?76,$P(^TMP($J,"N",STN,LINE),U,7) S CG=CG+$P(^(LINE),U,7)
"RTN","RMPRN6PT",47,0)
 .S CH=CH+$P(^TMP($J,"N",STN,LINE),U,8)
"RTN","RMPRN6PT",48,0)
 .S CI=CI+$P(^TMP($J,"N",STN,LINE),U,9)
"RTN","RMPRN6PT",49,0)
 .S CJ=CJ+$P(^TMP($J,"N",STN,LINE),U,10)
"RTN","RMPRN6PT",50,0)
 .S CK=CK+$P(^TMP($J,"N",STN,LINE),U,11)
"RTN","RMPRN6PT",51,0)
 .S CL=CL+$P(^TMP($J,"N",STN,LINE),U,12)
"RTN","RMPRN6PT",52,0)
 .S CM=CM+$P(^TMP($J,"N",STN,LINE),U,16)
"RTN","RMPRN6PT",53,0)
 .I IOM>120 D
"RTN","RMPRN6PT",54,0)
 ..W ?83,$P(^TMP($J,"N",STN,LINE),U,8)
"RTN","RMPRN6PT",55,0)
 ..W ?90,$P(^TMP($J,"N",STN,LINE),U,9)
"RTN","RMPRN6PT",56,0)
 ..W ?97,$P(^TMP($J,"N",STN,LINE),U,10)
"RTN","RMPRN6PT",57,0)
 ..W ?104,$P(^TMP($J,"N",STN,LINE),U,11)
"RTN","RMPRN6PT",58,0)
 ..W ?112,$P(^TMP($J,"N",STN,LINE),U,12)
"RTN","RMPRN6PT",59,0)
 ..W ?120,$P(^TMP($J,"N",STN,LINE),U,16)
"RTN","RMPRN6PT",60,0)
 .S LINEP=LINE
"RTN","RMPRN6PT",61,0)
 Q
"RTN","RMPRN6PT",62,0)
SUM ;Print summary for group
"RTN","RMPRN6PT",63,0)
 Q:FL=1
"RTN","RMPRN6PT",64,0)
 I LINEP'="" D  Q:FL=1
"RTN","RMPRN6PT",65,0)
 .I $Y+13>IOSL,IOST["C-" D CHK Q:FL=1
"RTN","RMPRN6PT",66,0)
 .S GROUPT=CA_U_CB_U_(CA+CB)_U_$J(CC,0,0)_U_CD_U_CE_U_CF_U_CG_U_CH_U_CI_U_CJ_U_CK_U_CL_U_CM
"RTN","RMPRN6PT",67,0)
 .W !,LN,!
"RTN","RMPRN6PT",68,0)
 .W ?21,CA,?26,CB,?31,(CA+CB),?37,$FN($J(CC,0,0),","),?55,CD,?62,CE,?69,CF,?76,CG
"RTN","RMPRN6PT",69,0)
 .I IOM>120 W ?83,CH,?90,CI,?97,CJ,?104,CK,?112,CL,?120,CM
"RTN","RMPRN6PT",70,0)
 .W !
"RTN","RMPRN6PT",71,0)
 .D LBLG
"RTN","RMPRN6PT",72,0)
 .S ^TMP($J,"NS",STN,GROUP,STN)=GROUPT
"RTN","RMPRN6PT",73,0)
 .S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PT",74,0)
 Q:$G(LINEP)'="999 Z"
"RTN","RMPRN6PT",75,0)
 D FSUM S RMPRSUM=1 W @IOF D HDR K RMPRSUM
"RTN","RMPRN6PT",76,0)
 W !!,"STATION SUMMARY (NEW ACTIVITIES)"
"RTN","RMPRN6PT",77,0)
 ;W !,$$HDR^RMPRN6S(RMPRDET)
"RTN","RMPRN6PT",78,0)
 W !,?21,"VA",?31,"Com",?41,"Total",?51,"Cost",?61
"RTN","RMPRN6PT",79,0)
 W "Ave Com",?71,"Elg Ref $"
"RTN","RMPRN6PT",80,0)
 W !,LN
"RTN","RMPRN6PT",81,0)
 W !,?21,$FN(CA,","),?31,$FN(CB,","),?41,$FN((CA+CB),","),?51,"$"_$FN($J(CC,0,0),",")
"RTN","RMPRN6PT",82,0)
 I CB>0 W ?61,"$"_$FN($J((CC/CB),0,0),",")
"RTN","RMPRN6PT",83,0)
 I CM>0 W ?71,"$"_$FN($J(CM,0,0),",")
"RTN","RMPRN6PT",84,0)
 W !,LN,!!
"RTN","RMPRN6PT",85,0)
 W ?21,"SC/OP",?31,"NSC/OP",?41,"SC/IP",?51,"NSC/IP"
"RTN","RMPRN6PT",86,0)
 W !,LN,!,?21,CD,?31,CE,?41,CF,?51,CG
"RTN","RMPRN6PT",87,0)
 W !,LN
"RTN","RMPRN6PT",88,0)
 W !,?21,"SPEC LEG",?31,"A&A",?41,"PHC",?51,"ELG REF",?61,"NEW"
"RTN","RMPRN6PT",89,0)
 W !,LN,!,?21,CH,?31,CI,?41,CJ,?51,CK,?61,CL,!,LN
"RTN","RMPRN6PT",90,0)
 W !,?21,"Total Disability: ",$FN((CD+CE+CF+CG),","),?47,"Unique SSN: ",SSNCT,!
"RTN","RMPRN6PT",91,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN6PT",92,0)
 I IOST["C-" D CHK
"RTN","RMPRN6PT",93,0)
 Q
"RTN","RMPRN6PT",94,0)
LBLG ;group description for final summary
"RTN","RMPRN6PT",95,0)
 I $E(LINEP,0,3)=100 S GROUP=$E(LINEP,0,3)_" WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6PT",96,0)
 I $E(LINEP,0,3)=200 S GROUP=$E(LINEP,0,3)_" ARTIFICIAL LEGS"
"RTN","RMPRN6PT",97,0)
 I $E(LINEP,0,3)=300 S GROUP=$E(LINEP,0,3)_" ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6PT",98,0)
 I $E(LINEP,0,3)=400 S GROUP=$E(LINEP,0,3)_" ORTHOSIS/ORTHOTICS"
"RTN","RMPRN6PT",99,0)
 I $E(LINEP,0,3)=500 S GROUP=$E(LINEP,0,3)_" SHOES/ORTHOTICS"
"RTN","RMPRN6PT",100,0)
 I $E(LINEP,0,3)=600 S GROUP=$E(LINEP,0,3)_" SENSORI-NEURO AIDS"
"RTN","RMPRN6PT",101,0)
 I $E(LINEP,0,3)=700 S GROUP=$E(LINEP,0,3)_" RESTORATIONS"
"RTN","RMPRN6PT",102,0)
 I $E(LINEP,0,3)=800 S GROUP=$E(LINEP,0,3)_" OXYGEN AND RESPIRATORY"
"RTN","RMPRN6PT",103,0)
 I $E(LINEP,0,3)=900 S GROUP=$E(LINEP,0,3)_" MEDICAL EQUIPMENT"
"RTN","RMPRN6PT",104,0)
 I $E(LINEP,0,3)=910 S GROUP=$E(LINEP,0,3)_" ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN6PT",105,0)
 I $E(LINEP,0,3)=920 S GROUP=$E(LINEP,0,3)_" HOME DIALYSIS PROGRAM"
"RTN","RMPRN6PT",106,0)
 I $E(LINEP,0,3)=930 S GROUP=$E(LINEP,0,3)_" ADAPTIVE EQUIPMENT"
"RTN","RMPRN6PT",107,0)
 I $E(LINEP,0,3)=940 S GROUP=$E(LINEP,0,3)_" HISA"
"RTN","RMPRN6PT",108,0)
 I $E(LINEP,0,3)=960 S GROUP=$E(LINEP,0,3)_" SURGICAL IMPLANTS"
"RTN","RMPRN6PT",109,0)
 I $E(LINEP,0,3)=999 S GROUP=$E(LINEP,0,3)_" MISC"
"RTN","RMPRN6PT",110,0)
 Q
"RTN","RMPRN6PT",111,0)
LBL ;label for group
"RTN","RMPRN6PT",112,0)
 I $E(LINE,0,3)=100 W !,"WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6PT",113,0)
 I $E(LINE,0,3)=200 W !,"ARTIFICIAL LEGS"
"RTN","RMPRN6PT",114,0)
 I $E(LINE,0,3)=300 W !,"ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6PT",115,0)
 I $E(LINE,0,3)=400 W !,"ORTHOSIS/ORTHOTICS"
"RTN","RMPRN6PT",116,0)
 I $E(LINE,0,3)=500,IOST'["C-" W @IOF D HDR W !,"SHOES/ORTHOTICS"
"RTN","RMPRN6PT",117,0)
 I $E(LINE,0,3)=500,IOST["C-" W !,"SHOES/ORTHOTICS"
"RTN","RMPRN6PT",118,0)
 I $E(LINE,0,3)=600 W !,"SENSORI-NEURO AIDS"
"RTN","RMPRN6PT",119,0)
 I $E(LINE,0,3)=700 W !,"RESTORATIONS"
"RTN","RMPRN6PT",120,0)
 I $E(LINE,0,3)=800 W !,"OXYGEN AND RESPIRATORY"
"RTN","RMPRN6PT",121,0)
 I $E(LINE,0,3)=900,IOST'["C-" W @IOF D HDR W !,"MEDICAL EQUIPMENT"
"RTN","RMPRN6PT",122,0)
 I $E(LINE,0,3)=900,IOST["C-" W !,"MEDICAL EQUIPMENT"
"RTN","RMPRN6PT",123,0)
 I $E(LINE,0,3)=910 W !,"ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN6PT",124,0)
 I $E(LINE,0,3)=920 W !,"HOME DIALYSIS PROGRAM"
"RTN","RMPRN6PT",125,0)
 I $E(LINE,0,3)=930 W !,"ADAPTIVE EQUIPMENT"
"RTN","RMPRN6PT",126,0)
 I $E(LINE,0,3)=940 W !,"HISA"
"RTN","RMPRN6PT",127,0)
 I $E(LINE,0,3)=960 W !,"SURGICAL IMPLANTS"
"RTN","RMPRN6PT",128,0)
 I $E(LINE,0,3)=999,IOST'["C-" W @IOF D HDR W !,"MISC"
"RTN","RMPRN6PT",129,0)
 I $E(LINE,0,3)=999,IOST["C-" W !,"MISC"
"RTN","RMPRN6PT",130,0)
 Q
"RTN","RMPRN6PT",131,0)
FSUM ;final summay on New Worksheets STATION
"RTN","RMPRN6PT",132,0)
 S H=0
"RTN","RMPRN6PT",133,0)
 F  S H=$O(^TMP($J,"NS",STN,H)) Q:H=""  D
"RTN","RMPRN6PT",134,0)
 .S H1=0,H2=0
"RTN","RMPRN6PT",135,0)
 .F  S H1=$O(^TMP($J,"NS",STN,H,H1)) Q:H1=""  D
"RTN","RMPRN6PT",136,0)
 ..Q:H1'=STN
"RTN","RMPRN6PT",137,0)
 ..S H2=^TMP($J,"NS",STN,H,H1)
"RTN","RMPRN6PT",138,0)
 ..S CA=CA+$P(H2,U,1)
"RTN","RMPRN6PT",139,0)
 ..S CB=CB+$P(H2,U,2)
"RTN","RMPRN6PT",140,0)
 ..S CC=CC+$P(H2,U,4)
"RTN","RMPRN6PT",141,0)
 ..S CD=CD+$P(H2,U,5)
"RTN","RMPRN6PT",142,0)
 ..S CE=CE+$P(H2,U,6)
"RTN","RMPRN6PT",143,0)
 ..S CF=CF+$P(H2,U,7)
"RTN","RMPRN6PT",144,0)
 ..S CG=CG+$P(H2,U,8)
"RTN","RMPRN6PT",145,0)
 ..S CH=CH+$P(H2,U,9)
"RTN","RMPRN6PT",146,0)
 ..S CI=CI+$P(H2,U,10)
"RTN","RMPRN6PT",147,0)
 ..S CJ=CJ+$P(H2,U,11)
"RTN","RMPRN6PT",148,0)
 ..S CK=CK+$P(H2,U,12)
"RTN","RMPRN6PT",149,0)
 ..S CL=CL+$P(H2,U,13)
"RTN","RMPRN6PT",150,0)
 ..S CM=CM+$P(H2,U,14)
"RTN","RMPRN6PT",151,0)
 Q
"RTN","RMPRN6PT",152,0)
CHK ;
"RTN","RMPRN6PT",153,0)
 K DIR W !! S DIR(0)="E" D ^DIR S:+Y'>0 FL=1
"RTN","RMPRN6PT",154,0)
 W @IOF
"RTN","RMPRN6PT",155,0)
 Q
"RTN","RMPRN6PT",156,0)
 ;END
"RTN","RMPRN6UT")
0^6^B6997890
"RTN","RMPRN6UT",1,0)
RMPRN6UT ;HINES-CIOFO/HNC - DISPLAY HEADER GROUPS NPPD;2-14-98
"RTN","RMPRN6UT",2,0)
 ;;3.0;PROSTHETICS;**32,36,39,44,48,50,57,84,103**;Feb 09, 1996
"RTN","RMPRN6UT",3,0)
 ;
"RTN","RMPRN6UT",4,0)
 ; ODJ - patch 50 - 7/28/00 - amend repair selection so that we don't
"RTN","RMPRN6UT",5,0)
 ;                            need to alter this routine for NPPD line
"RTN","RMPRN6UT",6,0)
 ;                            changes made in RMPRN62
"RTN","RMPRN6UT",7,0)
 ; AAC - PATCH 103 - 01/17/05 - NPPD CATEGORIES/LINES - NEW and REPAIR
"RTN","RMPRN6UT",8,0)
 ;
"RTN","RMPRN6UT",9,0)
 ;;
"RTN","RMPRN6UT",10,0)
DIS W !,?5,"1.   WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN6UT",11,0)
 W !,?5,"2.   ARTIFICIAL LEGS"
"RTN","RMPRN6UT",12,0)
 W !,?5,"3.   ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN6UT",13,0)
 W !,?5,"4.   ORTHOSIS/ORTHOTICS"
"RTN","RMPRN6UT",14,0)
 W !,?5,"5.   SHOES/ORTHOTICS"
"RTN","RMPRN6UT",15,0)
 W !,?5,"6.   SENSORI-NEURO AIDS"
"RTN","RMPRN6UT",16,0)
 W !,?5,"7.   RESTORATIONS"
"RTN","RMPRN6UT",17,0)
 W !,?5,"8.   OXYGEN AND RESPIRATORY"
"RTN","RMPRN6UT",18,0)
 W !,?5,"9.   MEDICAL EQUIPMENT"
"RTN","RMPRN6UT",19,0)
 W !,?5,"10.  ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN6UT",20,0)
 W !,?5,"11.  HOME DIALYSIS PROGRAM"
"RTN","RMPRN6UT",21,0)
 W !,?5,"12.  ADAPTIVE EQUIPMENT"
"RTN","RMPRN6UT",22,0)
 W !,?5,"13.  HISA"
"RTN","RMPRN6UT",23,0)
 W !,?5,"14.  SURGICAL IMPLANTS"
"RTN","RMPRN6UT",24,0)
 W !,?5,"15.  MISC"
"RTN","RMPRN6UT",25,0)
 W !,?5,"16.  REPAIR"
"RTN","RMPRN6UT",26,0)
ASK ;
"RTN","RMPRN6UT",27,0)
 K DIR,DTOUT,DIRUT
"RTN","RMPRN6UT",28,0)
 S RMPRCDE=""
"RTN","RMPRN6UT",29,0)
 S DIR(0)="N^1:16:0"
"RTN","RMPRN6UT",30,0)
 S DIR("A")="Select NPPD Group "
"RTN","RMPRN6UT",31,0)
 D ^DIR
"RTN","RMPRN6UT",32,0)
 G:$D(DIRUT)!($D(DTOUT)) EXIT
"RTN","RMPRN6UT",33,0)
 S BR=0,BRC=0 K BRA W @IOF
"RTN","RMPRN6UT",34,0)
 I Y=1 S SELY=10
"RTN","RMPRN6UT",35,0)
 I Y=2 S SELY=20
"RTN","RMPRN6UT",36,0)
 I Y=3 S SELY=30
"RTN","RMPRN6UT",37,0)
 I Y=4 S SELY=40
"RTN","RMPRN6UT",38,0)
 I Y=5 S SELY=50
"RTN","RMPRN6UT",39,0)
 I Y=6 S SELY=60
"RTN","RMPRN6UT",40,0)
 I Y=7 S SELY=70
"RTN","RMPRN6UT",41,0)
 I Y=8 S SELY=80
"RTN","RMPRN6UT",42,0)
 I Y=9 S SELY=90
"RTN","RMPRN6UT",43,0)
 I Y=10 S SELY=91
"RTN","RMPRN6UT",44,0)
 I Y=11 S SELY=92
"RTN","RMPRN6UT",45,0)
 I Y=12 S SELY=93
"RTN","RMPRN6UT",46,0)
 I Y=13 S SELY=94
"RTN","RMPRN6UT",47,0)
 I Y=14 S SELY=96
"RTN","RMPRN6UT",48,0)
 I Y=15 S SELY=99
"RTN","RMPRN6UT",49,0)
 I Y=16 S SELY=100
"RTN","RMPRN6UT",50,0)
 F  S BR=$O(^TMP($J,"RMPRCODE",BR)) Q:BR=""  D
"RTN","RMPRN6UT",51,0)
 .I $E(BR,1,2)=SELY S BRC=BRC+1 W !?5,BRC_".",?10,BR,?18,^(BR) S BRA(BRC,BR)=""
"RTN","RMPRN6UT",52,0)
 .Q
"RTN","RMPRN6UT",53,0)
 I SELY=100 D
"RTN","RMPRN6UT",54,0)
 . D RSEL
"RTN","RMPRN6UT",55,0)
 . Q
"RTN","RMPRN6UT",56,0)
 E  D
"RTN","RMPRN6UT",57,0)
 . D NSEL
"RTN","RMPRN6UT",58,0)
 . Q
"RTN","RMPRN6UT",59,0)
 G:$D(DIRUT)!($D(DTOUT)) EXIT
"RTN","RMPRN6UT",60,0)
 Q
"RTN","RMPRN6UT",61,0)
RSEL ;repair selection
"RTN","RMPRN6UT",62,0)
 N CNT,Y,OFFS,TXT,I
"RTN","RMPRN6UT",63,0)
 S CNT=$P(^TMP($J,"RMPRCODE"),U,2) ; num of NPPD repair lines
"RTN","RMPRN6UT",64,0)
 S OFFS=CNT-(CNT\2)-1
"RTN","RMPRN6UT",65,0)
 F I=0:1:OFFS D
"RTN","RMPRN6UT",66,0)
 . S TXT=$P($T(REP+I^RMPRN62),";;",2)
"RTN","RMPRN6UT",67,0)
 . W !,$J(I+1,2)_".",?5,$P(TXT,";",1),?14,$P(TXT,";",2)
"RTN","RMPRN6UT",68,0)
 . S TXT=$P($T(REP+I+OFFS+1^RMPRN62),";;",2)
"RTN","RMPRN6UT",69,0)
 . Q:$E(TXT)'="R"
"RTN","RMPRN6UT",70,0)
 . W ?35,$J(I+2+OFFS,2)_".",?40,$P(TXT,";",1),?51,$P(TXT,";",2)
"RTN","RMPRN6UT",71,0)
 . Q
"RTN","RMPRN6UT",72,0)
 F I=OFFS:1:17 W !
"RTN","RMPRN6UT",73,0)
 S DIR(0)="N^1:"_CNT_":0"
"RTN","RMPRN6UT",74,0)
 S DIR("A")="Select NPPD Line "
"RTN","RMPRN6UT",75,0)
 D ^DIR
"RTN","RMPRN6UT",76,0)
 Q:$D(DIRUT)!($D(DTOUT))
"RTN","RMPRN6UT",77,0)
 S TXT=$P($T(REP+Y-1^RMPRN62),";;",2)
"RTN","RMPRN6UT",78,0)
 S RMPRCDE=$P(TXT,";",1)
"RTN","RMPRN6UT",79,0)
 Q
"RTN","RMPRN6UT",80,0)
NSEL ;new select
"RTN","RMPRN6UT",81,0)
 I BR'="" W "QUIT" Q
"RTN","RMPRN6UT",82,0)
 W !
"RTN","RMPRN6UT",83,0)
 S DIR(0)="N^1:"_BRC_":0"
"RTN","RMPRN6UT",84,0)
 S DIR("A")="Select NPPD Line "
"RTN","RMPRN6UT",85,0)
 D ^DIR
"RTN","RMPRN6UT",86,0)
 Q:$D(DIRUT)!($D(DTOUT))
"RTN","RMPRN6UT",87,0)
 S RMPRCDE=$O(BRA(Y,RMPRCDE))
"RTN","RMPRN6UT",88,0)
 Q
"RTN","RMPRN6UT",89,0)
EXIT ;exit on ^ or timeout
"RTN","RMPRN6UT",90,0)
 K ^TMP($J)
"RTN","RMPRN6UT",91,0)
 Q
"RTN","RMPRN6UT",92,0)
 ;END
"RTN","RMPRN72")
0^7^B21378257
"RTN","RMPRN72",1,0)
RMPRN72 ;Hines OIFO/HNC -NPPD CALCULATIONS ;9/2/04  12:12
"RTN","RMPRN72",2,0)
 ;;3.0;PROSTHETICS;**57,70,84,91,103**;Feb 09, 1996
"RTN","RMPRN72",3,0)
 ;
"RTN","RMPRN72",4,0)
 ; AAC Patch 84, 2/25/04, additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN72",5,0)
 ; AAC Patch 84, Changes description,100 DL,100 GL,900 IL,900 JL,R10 AL,R20 BL,R20 CL,R91 FL.
"RTN","RMPRN72",6,0)
 ; add new lines,100 HL,100 IL,400 HL,900 NL,910 BL,R10 BL,R10 CL,R60 DL.
"RTN","RMPRN72",7,0)
 ;
"RTN","RMPRN72",8,0)
 ; AAC PATCH 91, ADD HCPCs R10 back into the line descriptions because they were not distributed to R10 A 
"RTN","RMPRN72",9,0)
 ; in Patch 84.
"RTN","RMPRN72",10,0)
 ; AAC PATCH 103 - 01/17/05 NPPD CATEGORIES/LINES - NEW and REPAIR
"RTN","RMPRN72",11,0)
 ;
"RTN","RMPRN72",12,0)
 ;build array or tmp
"RTN","RMPRN72",13,0)
DES ;description of line numbers
"RTN","RMPRN72",14,0)
 ;;100 AL;MOTORIZED
"RTN","RMPRN72",15,0)
 ;;100 A1L;SCOOTERS
"RTN","RMPRN72",16,0)
 ;;100 BL;MANUAL CUSTOM
"RTN","RMPRN72",17,0)
 ;;100 CL;STANDARD
"RTN","RMPRN72",18,0)
 ;;100 DL;WC ACCESSORIES
"RTN","RMPRN72",19,0)
 ;;100 EL;CUSHION FOAM
"RTN","RMPRN72",20,0)
 ;;100 FL;CUSHION SPEC
"RTN","RMPRN72",21,0)
 ;;100 GL;CARRIERS(INCLUDES WC,SCOOTERS)
"RTN","RMPRN72",22,0)
 ;;100 HL;NSC VAN MOD
"RTN","RMPRN72",23,0)
 ;;100 IL;SCOOTER ACCESSORIES
"RTN","RMPRN72",24,0)
 ;;200 AL;LEG IPOP
"RTN","RMPRN72",25,0)
 ;;200 BL;LEG TEM
"RTN","RMPRN72",26,0)
 ;;200 CL;LEG PART FOOT
"RTN","RMPRN72",27,0)
 ;;200 EL;LEG SYMES
"RTN","RMPRN72",28,0)
 ;;200 FL;LEG B/K
"RTN","RMPRN72",29,0)
 ;;200 GL;LEG A/O
"RTN","RMPRN72",30,0)
 ;;200 HL;LEG A/K
"RTN","RMPRN72",31,0)
 ;;200 IL;LEG COMPONENT
"RTN","RMPRN72",32,0)
 ;;300 AL;ARM B/E
"RTN","RMPRN72",33,0)
 ;;300 BL;ARM A/E
"RTN","RMPRN72",34,0)
 ;;300 CL;COSMETIC GLOVES
"RTN","RMPRN72",35,0)
 ;;300 DL;ARM A/O
"RTN","RMPRN72",36,0)
 ;;300 EL;TERMINAL DEVICES
"RTN","RMPRN72",37,0)
 ;;300 FL;EXT.POWERED,ARM
"RTN","RMPRN72",38,0)
 ;;400 AL;ORTHOSIS ANKLE
"RTN","RMPRN72",39,0)
 ;;400 BL;ORTHOSIS LEG AK
"RTN","RMPRN72",40,0)
 ;;400 CL;ORTHOSIS, SPINAL
"RTN","RMPRN72",41,0)
 ;;400 DL;ORTHOSIS AL/OTH
"RTN","RMPRN72",42,0)
 ;;400 EL;ELAS HOSE, EA
"RTN","RMPRN72",43,0)
 ;;400 FL;ORHTOSIS, KNEE
"RTN","RMPRN72",44,0)
 ;;400 GL;CORSET/BELT
"RTN","RMPRN72",45,0)
 ;;400 HL;ORHTOSIS,WHO
"RTN","RMPRN72",46,0)
 ;;400 XL;ORTHOTICS UNKNOWN
"RTN","RMPRN72",47,0)
 ;;500 AL;ARCH SUPT, EA
"RTN","RMPRN72",48,0)
 ;;500 BL;SHOE INLAY, EA
"RTN","RMPRN72",49,0)
 ;;500 CL;SHOE MOLDED, EA
"RTN","RMPRN72",50,0)
 ;;500 DL;SHOE ORTH OTH
"RTN","RMPRN72",51,0)
 ;;500 EL;INSERTS, SHOE
"RTN","RMPRN72",52,0)
 ;;500 FL;SHOES A/O, EA
"RTN","RMPRN72",53,0)
 ;;600 1L;EYEGLASSES PR
"RTN","RMPRN72",54,0)
 ;;600 AL;* NO LONGER USED *
"RTN","RMPRN72",55,0)
 ;;600 BL;HEARING AIDS
"RTN","RMPRN72",56,0)
 ;;600 CL;AID FOR BLIND
"RTN","RMPRN72",57,0)
 ;;600 DL;CONT LENS, EA.
"RTN","RMPRN72",58,0)
 ;;600 EL;EAR INSERT
"RTN","RMPRN72",59,0)
 ;;600 FL;ASSIST LISTEN
"RTN","RMPRN72",60,0)
 ;;600 GL;SPEECH DEVICES
"RTN","RMPRN72",61,0)
 ;;700 AL;EYE
"RTN","RMPRN72",62,0)
 ;;700 BL;FACIAL
"RTN","RMPRN72",63,0)
 ;;700 CL;BODY, OTHER
"RTN","RMPRN72",64,0)
 ;;800 AL;OXYGEN EQP
"RTN","RMPRN72",65,0)
 ;;800 BL;OXYGEN CONCEN
"RTN","RMPRN72",66,0)
 ;;800 CL;MOVED TO REPAIR
"RTN","RMPRN72",67,0)
 ;;800 DL;OXYGEN, SUPPLIES
"RTN","RMPRN72",68,0)
 ;;800 EL;MOVED TO REPAIR
"RTN","RMPRN72",69,0)
 ;;800 FL;VENTILATOR, A/O
"RTN","RMPRN72",70,0)
 ;;800 GL;RESPIRATORY EQUIPMENT
"RTN","RMPRN72",71,0)
 ;;800 HL;RESPIRATORY SUPPLIES
"RTN","RMPRN72",72,0)
 ;;900 AL;WALKING AIDS
"RTN","RMPRN72",73,0)
 ;;900 BL;PATIENT LIFT
"RTN","RMPRN72",74,0)
 ;;900 CL;BED HOSP STD
"RTN","RMPRN72",75,0)
 ;;900 DL;BED HOSP SPEC
"RTN","RMPRN72",76,0)
 ;;900 EL;MATTRESS STAN
"RTN","RMPRN72",77,0)
 ;;900 FL;MATTRESS SPEC
"RTN","RMPRN72",78,0)
 ;;900 GL;BED, ACCESSORIES
"RTN","RMPRN72",79,0)
 ;;900 HL;ENVIRON CONTR
"RTN","RMPRN72",80,0)
 ;;900 IL;HOME SAFETY EQUIPMENT
"RTN","RMPRN72",81,0)
 ;;900 JL;* NO LONGER USED *
"RTN","RMPRN72",82,0)
 ;;900 KL;MED EQP AL/OTH
"RTN","RMPRN72",83,0)
 ;;900 LL;* NO LONGER USED *
"RTN","RMPRN72",84,0)
 ;;900 ML;COMPUTER EQUIP
"RTN","RMPRN72",85,0)
 ;;900 NL;TELEHEALTH
"RTN","RMPRN72",86,0)
 ;;910 AL;MED SUP AL/OTH
"RTN","RMPRN72",87,0)
 ;;910 BL;BATTERIES
"RTN","RMPRN72",88,0)
 ;;920 AL;HOME DIAL EQP
"RTN","RMPRN72",89,0)
 ;;920 BL;HOME DIAL SUP
"RTN","RMPRN72",90,0)
 ;;930 AL;MOD VANS
"RTN","RMPRN72",91,0)
 ;;930 BL;ADAPT EQP AL/OTH
"RTN","RMPRN72",92,0)
 ;;940 AL;HISA SC
"RTN","RMPRN72",93,0)
 ;;940 BL;HISA NSC
"RTN","RMPRN72",94,0)
 ;;960 AL;H&N ALL OTHER
"RTN","RMPRN72",95,0)
 ;;960 A1L; H&N INTRAOCULAR LENS
"RTN","RMPRN72",96,0)
 ;;960 A2L; H&N HEAD
"RTN","RMPRN72",97,0)
 ;;960 A3L; H&N NECK
"RTN","RMPRN72",98,0)
 ;;960 A4L; H&N EYES A/O
"RTN","RMPRN72",99,0)
 ;;960 BL;ABDOMEN ALL OTHER
"RTN","RMPRN72",100,0)
 ;;960 B1L;ABDOMEN STENT
"RTN","RMPRN72",101,0)
 ;;960 B2L;ABDOMEN MESH
"RTN","RMPRN72",102,0)
 ;;960 B3L;ABDOMEN CATHETER
"RTN","RMPRN72",103,0)
 ;;960 CL;UE ALL OTHER
"RTN","RMPRN72",104,0)
 ;;960 C1L;UE ARM
"RTN","RMPRN72",105,0)
 ;;960 C2L;UE SHOULDER
"RTN","RMPRN72",106,0)
 ;;960 C3L;UE HAND
"RTN","RMPRN72",107,0)
 ;;960 DL;LE ALL OTHER
"RTN","RMPRN72",108,0)
 ;;960 D1L;LE HIP
"RTN","RMPRN72",109,0)
 ;;960 D2L;LE KNEE
"RTN","RMPRN72",110,0)
 ;;960 D3L;LE FOOT
"RTN","RMPRN72",111,0)
 ;;960 EL;THORACIC ALL OTHER
"RTN","RMPRN72",112,0)
 ;;960 E1L;THOR PACEMAKER/LEADS
"RTN","RMPRN72",113,0)
 ;;960 E2L;THOR ICD/LEADS
"RTN","RMPRN72",114,0)
 ;;960 E3L;THOR STENTS
"RTN","RMPRN72",115,0)
 ;;960 E4L;THOR VALVE
"RTN","RMPRN72",116,0)
 ;;960 FL;DENTAL IMPLANTS
"RTN","RMPRN72",117,0)
 ;;960 GL;ALL SCRWS,PLTS,ANCRS,ETC.
"RTN","RMPRN72",118,0)
 ;;960 XL;SI UNKNOWNS(ALL)
"RTN","RMPRN72",119,0)
 ;;999 AL;AL/OTH ITEMS
"RTN","RMPRN72",120,0)
 ;;999 XL;HCPCS NOT GRP
"RTN","RMPRN72",121,0)
 ;;999 ZL;NO HCPCS
"RTN","RMPRN72",122,0)
REP ;;R10L;* NO LONGER USED *
"RTN","RMPRN72",123,0)
 ;;R10 AL;WHEELCHAIR
"RTN","RMPRN72",124,0)
 ;;R10 BL;CARRIERS
"RTN","RMPRN72",125,0)
 ;;R10 CL;NSC VAN MOD
"RTN","RMPRN72",126,0)
 ;;R20 AL;LEG A/K
"RTN","RMPRN72",127,0)
 ;;R20 BL;* NO LONGER USED *
"RTN","RMPRN72",128,0)
 ;;R20 CL;LEG B/K
"RTN","RMPRN72",129,0)
 ;;R20 DL;LEG ALL OTHER 
"RTN","RMPRN72",130,0)
 ;;R30L;ART ARM,TOTAL
"RTN","RMPRN72",131,0)
 ;;R40L;ORTHOSIS TOTAL
"RTN","RMPRN72",132,0)
 ;;R50 AL;ORTH SHOE ALL
"RTN","RMPRN72",133,0)
 ;;R50 BL;SHOE MOD
"RTN","RMPRN72",134,0)
 ;;R50 CL;A/O ITEM SERV
"RTN","RMPRN72",135,0)
 ;;R60 AL;AID FOR BLIND
"RTN","RMPRN72",136,0)
 ;;R60 BL;EYEGLASS RPR
"RTN","RMPRN72",137,0)
 ;;R60 CL;HEARING AID
"RTN","RMPRN72",138,0)
 ;;R60 DL;ASSISTIVE LISTENING DEVICES
"RTN","RMPRN72",139,0)
 ;;R70L;HOME DIAL EQU
"RTN","RMPRN72",140,0)
 ;;R80 AL;INVALID LIFTS
"RTN","RMPRN72",141,0)
 ;;R80 BL;REPAIR TO ECU
"RTN","RMPRN72",142,0)
 ;;R80 CL;MED EQUIP A/O
"RTN","RMPRN72",143,0)
 ;;R80 DL;HME DELIVERY/PU
"RTN","RMPRN72",144,0)
 ;;R80 EL;TELEHEALTH
"RTN","RMPRN72",145,0)
 ;;R90L;ALL OTHER
"RTN","RMPRN72",146,0)
 ;;R90 AL;NO LONGER USED
"RTN","RMPRN72",147,0)
 ;;R90 BL;TRAINING
"RTN","RMPRN72",148,0)
 ;;R91 AL;CONCENTRATOR
"RTN","RMPRN72",149,0)
 ;;R91 BL;VENTILATOR
"RTN","RMPRN72",150,0)
 ;;R91 CL;EQUIPMENT A/O
"RTN","RMPRN72",151,0)
 ;;R91 DL;SERVICE VISIT
"RTN","RMPRN72",152,0)
 ;;R91 EL;COMPRESSED O2
"RTN","RMPRN72",153,0)
 ;;R91 FL;LIQUID O2(LBS)
"RTN","RMPRN72",154,0)
 ;;R91 GL;LIQUID DELIVERY SYSTEM
"RTN","RMPRN72",155,0)
 ;;R91 HL;RESPIRATORY EQUIP
"RTN","RMPRN72",156,0)
 ;;R92 AL;VAN MODS
"RTN","RMPRN72",157,0)
 ;;R92 BL;AUTO ADPT EQUIP
"RTN","RMPRN72",158,0)
 ;;R99 AL;SHIPPING
"RTN","RMPRN72",159,0)
 ;;R99 XL;HCPCS NOT GRP
"RTN","RMPRN72",160,0)
 ;;R99 ZL;NO HCPCS
"RTN","RMPRN72",161,0)
 ;;END
"RTN","RMPRN7PR")
0^8^B30931244
"RTN","RMPRN7PR",1,0)
RMPRN7PR ;HINES/HNC -PRINT REPAIR WORKSHEETS ;2/14/01
"RTN","RMPRN7PR",2,0)
 ;;3.0;PROSTHETICS;**57,84,103**;Feb 09, 1996
"RTN","RMPRN7PR",3,0)
 ;
"RTN","RMPRN7PR",4,0)
 ; AAC Patch 84 2/25/04 additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN7PR",5,0)
 ; AAC Patch 84 - New Group description changes, R60
"RTN","RMPRN7PR",6,0)
 ;              - Repair Group description changes, R60
"RTN","RMPRN7PR",7,0)
 ; AAC Patch 103 - 1/17/05 NPPD CATEGORIES/LINES - NEW and REPAIR UPDATES
"RTN","RMPRN7PR",8,0)
 ; 
"RTN","RMPRN7PR",9,0)
 K ^TMP($J,"RS")
"RTN","RMPRN7PR",10,0)
 S STN=1
"RTN","RMPRN7PR",11,0)
 F  S STN=$O(^TMP($J,"R",STN)) Q:STN=""  D HDR,CDATA,SUM
"RTN","RMPRN7PR",12,0)
 Q
"RTN","RMPRN7PR",13,0)
HDR ;leave this form feed alone
"RTN","RMPRN7PR",14,0)
 W @IOF
"RTN","RMPRN7PR",15,0)
 W !,"REPORT OF 2529-3 REPAIR PROSTHETICS ACTIVITIES"
"RTN","RMPRN7PR",16,0)
 ;header depending on sort selected
"RTN","RMPRN7PR",17,0)
 W !,$$HDR^RMPRN7S(RMPRDET)
"RTN","RMPRN7PR",18,0)
 S Y=DATE(1) D DD^%DT W !,Y," - " S Y=DATE(2) D DD^%DT W Y
"RTN","RMPRN7PR",19,0)
 W !,?10,"STATION: ",STN
"RTN","RMPRN7PR",20,0)
 ;RMPRSUM if summary header
"RTN","RMPRN7PR",21,0)
 Q:$G(RMPRSUM)
"RTN","RMPRN7PR",22,0)
 W !!
"RTN","RMPRN7PR",23,0)
 W !,"Line",?7,"Item",?21,"VA",?26,"Com",?31,"Total",?37,"Cost",?46
"RTN","RMPRN7PR",24,0)
 W "Ave Com",?54
"RTN","RMPRN7PR",25,0)
 W "SC/OP",?61,"NSC/OP",?68,"SC/IP",?74,"NSC/IP"
"RTN","RMPRN7PR",26,0)
 I IOM>120 D
"RTN","RMPRN7PR",27,0)
 .W ?83,"SP LEG"
"RTN","RMPRN7PR",28,0)
 .W ?90,"A&A",?97,"PHC",?104,"ELG REF",?112,"NEW",?120,"$ELG REF"
"RTN","RMPRN7PR",29,0)
 Q
"RTN","RMPRN7PR",30,0)
CDATA ;
"RTN","RMPRN7PR",31,0)
 Q:FL=1
"RTN","RMPRN7PR",32,0)
 S LINE="",LINEP=""
"RTN","RMPRN7PR",33,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PR",34,0)
 F  S LINE=$O(^TMP($J,"R",STN,LINE)) Q:LINE=""  Q:FL=1  D
"RTN","RMPRN7PR",35,0)
 .I $E(LINE,0,3)'=$E(LINEP,0,3) D SUM Q:FL=1  D LBLR
"RTN","RMPRN7PR",36,0)
 .W !,LINE,?7,$E($P(^TMP($J,"R",STN,LINE),U,15),1,14)
"RTN","RMPRN7PR",37,0)
 .W ?21,$P(^TMP($J,"R",STN,LINE),U,1) S CA=CA+$P(^(LINE),U,1)
"RTN","RMPRN7PR",38,0)
 .W ?26,$P(^TMP($J,"R",STN,LINE),U,2) S CB=CB+$P(^(LINE),U,2)
"RTN","RMPRN7PR",39,0)
 .W ?31,$P(^TMP($J,"R",STN,LINE),U,1)+($P(^TMP($J,"R",STN,LINE),U,2))
"RTN","RMPRN7PR",40,0)
 .W ?37,$FN($J($P(^TMP($J,"R",STN,LINE),U,3),0,0),",") S CC=CC+$P(^(LINE),U,3)
"RTN","RMPRN7PR",41,0)
 .W:$P(^TMP($J,"R",STN,LINE),U,2)>0 ?46,$FN($J(($P(^(LINE),U,3))/($P(^(LINE),U,2)),0,0),",")
"RTN","RMPRN7PR",42,0)
 .W ?55,$P(^TMP($J,"R",STN,LINE),U,4) S CD=CD+$P(^(LINE),U,4)
"RTN","RMPRN7PR",43,0)
 .W ?62,$P(^TMP($J,"R",STN,LINE),U,5) S CE=CE+$P(^(LINE),U,5)
"RTN","RMPRN7PR",44,0)
 .W ?69,$P(^TMP($J,"R",STN,LINE),U,6) S CF=CF+$P(^(LINE),U,6)
"RTN","RMPRN7PR",45,0)
 .W ?76,$P(^TMP($J,"R",STN,LINE),U,7) S CG=CG+$P(^(LINE),U,7)
"RTN","RMPRN7PR",46,0)
 .S CH=CH+$P(^TMP($J,"R",STN,LINE),U,8)
"RTN","RMPRN7PR",47,0)
 .S CI=CI+$P(^TMP($J,"R",STN,LINE),U,9)
"RTN","RMPRN7PR",48,0)
 .S CJ=CJ+$P(^TMP($J,"R",STN,LINE),U,10)
"RTN","RMPRN7PR",49,0)
 .S CK=CK+$P(^TMP($J,"R",STN,LINE),U,11)
"RTN","RMPRN7PR",50,0)
 .S CL=CL+$P(^TMP($J,"R",STN,LINE),U,12)
"RTN","RMPRN7PR",51,0)
 .S CM=CM+$P(^TMP($J,"R",STN,LINE),U,16)
"RTN","RMPRN7PR",52,0)
 .I IOM>120 D
"RTN","RMPRN7PR",53,0)
 ..W ?83,$P(^TMP($J,"R",STN,LINE),U,8)
"RTN","RMPRN7PR",54,0)
 ..W ?90,$P(^TMP($J,"R",STN,LINE),U,9)
"RTN","RMPRN7PR",55,0)
 ..W ?97,$P(^TMP($J,"R",STN,LINE),U,10)
"RTN","RMPRN7PR",56,0)
 ..W ?104,$P(^TMP($J,"R",STN,LINE),U,11)
"RTN","RMPRN7PR",57,0)
 ..W ?112,$P(^TMP($J,"R",STN,LINE),U,12)
"RTN","RMPRN7PR",58,0)
 ..W ?120,$P(^TMP($J,"R",STN,LINE),U,16)
"RTN","RMPRN7PR",59,0)
 .S LINEP=LINE
"RTN","RMPRN7PR",60,0)
 Q
"RTN","RMPRN7PR",61,0)
SUM ;Print summary for group
"RTN","RMPRN7PR",62,0)
 Q:FL=1
"RTN","RMPRN7PR",63,0)
 I LINEP'="" D  Q:FL=1
"RTN","RMPRN7PR",64,0)
 .I $Y+13>IOSL,IOST["C-" D CHK Q:FL=1
"RTN","RMPRN7PR",65,0)
 .S GROUPT=CA_U_CB_U_(CA+CB)_U_$J(CC,0,0)_U_CD_U_CE_U_CF_U_CG_U_CH_U_CI_U_CJ_U_CK_U_CL_U_CM
"RTN","RMPRN7PR",66,0)
 .W !,LN,!
"RTN","RMPRN7PR",67,0)
 .W ?21,CA,?26,CB,?31,(CA+CB),?37,$FN($J(CC,0,0),","),?55,CD,?62,CE,?69,CF,?76,CG
"RTN","RMPRN7PR",68,0)
 .I IOM>120 W ?83,CH,?90,CI,?97,CJ,?104,CK,?112,CL,?120,CM
"RTN","RMPRN7PR",69,0)
 .W !
"RTN","RMPRN7PR",70,0)
 .D LBLG
"RTN","RMPRN7PR",71,0)
 .S ^TMP($J,"RS",STN,GROUP,STN)=GROUPT
"RTN","RMPRN7PR",72,0)
 .S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PR",73,0)
 Q:$G(LINEP)'="R99 ZL"
"RTN","RMPRN7PR",74,0)
 D FSUM S RMPRSUM=1 D HDR K RMPRSUM
"RTN","RMPRN7PR",75,0)
 W !!,"STATION SUMMARY (2529-3 REPAIR ACTIVITIES)"
"RTN","RMPRN7PR",76,0)
 ;W !,$$HDR^RMPRN7S(RMPRDET)
"RTN","RMPRN7PR",77,0)
 W !,?21,"VA",?31,"Com",?41,"Total",?51,"Cost",?61
"RTN","RMPRN7PR",78,0)
 W "Ave Com",?71,"Elg Ref $"
"RTN","RMPRN7PR",79,0)
 W !,LN
"RTN","RMPRN7PR",80,0)
 W !,?21,CA,?31,CB,?41,(CA+CB),?51,"$"_$FN($J(CC,0,0),",")
"RTN","RMPRN7PR",81,0)
 W ?61
"RTN","RMPRN7PR",82,0)
 I CB>0 W "$"_$FN($J((CC/CB),0,0),",")
"RTN","RMPRN7PR",83,0)
 W ?71
"RTN","RMPRN7PR",84,0)
 I CM>0 W "$"_$FN($J((CM),0,0),",")
"RTN","RMPRN7PR",85,0)
 W !,LN,!
"RTN","RMPRN7PR",86,0)
 W !,?21,"SC/OP",?31,"NSC/OP",?41,"SC/IP",?51,"NSC/IP"
"RTN","RMPRN7PR",87,0)
 W !,LN,!
"RTN","RMPRN7PR",88,0)
 W ?21,CD,?31,CE,?41,CF,?51,CG
"RTN","RMPRN7PR",89,0)
 W !,LN
"RTN","RMPRN7PR",90,0)
 W !,?21,"SPEC LEG",?31,"A&A",?41,"PHC",?51,"ELG REF",?61,"NEW"
"RTN","RMPRN7PR",91,0)
 W !,LN,!,?21,CH,?31,CI,?41,CJ,?51,CK,?61,CL,!,LN
"RTN","RMPRN7PR",92,0)
 W !,?21,"Total Disability: ",(CD+CE+CF+CG),!,LN,!
"RTN","RMPRN7PR",93,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL)=0
"RTN","RMPRN7PR",94,0)
 I IOST["C-" D CHK
"RTN","RMPRN7PR",95,0)
 Q
"RTN","RMPRN7PR",96,0)
LBLG ;group description fo final repair summary
"RTN","RMPRN7PR",97,0)
 I $E(LINEP,0,3)="R07" S GROUP=$E(LINEP,0,3)_" HEARING AID, LOCAL REPAIRS"
"RTN","RMPRN7PR",98,0)
 I $E(LINEP,0,3)="R10" S GROUP=$E(LINEP,0,3)_" WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7PR",99,0)
 I $E(LINEP,0,3)="R20" S GROUP=$E(LINEP,0,3)_" ARTIFICIAL LEGS"
"RTN","RMPRN7PR",100,0)
 I $E(LINEP,0,3)="R30" S GROUP=$E(LINEP,0,3)_" ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7PR",101,0)
 I $E(LINEP,0,3)="R40" S GROUP=$E(LINEP,0,3)_" ORTHOSIS"
"RTN","RMPRN7PR",102,0)
 I $E(LINEP,0,3)="R50" S GROUP=$E(LINEP,0,3)_" SHOES/ORTHOTICS"
"RTN","RMPRN7PR",103,0)
 I $E(LINEP,0,3)="R60" S GROUP=$E(LINEP,0,3)_" SENSORI-NEURO AIDS"
"RTN","RMPRN7PR",104,0)
 I $E(LINEP,0,3)="R70" S GROUP=$E(LINEP,0,3)_" HOME DIALYSIS EQUIPMENT"
"RTN","RMPRN7PR",105,0)
 I $E(LINEP,0,3)="R80" S GROUP=$E(LINEP,0,3)_" MEDICAL EQUIPMENT"
"RTN","RMPRN7PR",106,0)
 I $E(LINEP,0,3)="R90" S GROUP=$E(LINEP,0,3)_" ALL OTHER"
"RTN","RMPRN7PR",107,0)
 I $E(LINEP,0,3)="R91" S GROUP=$E(LINEP,0,3)_" OXYGEN & RESPIRATORY"
"RTN","RMPRN7PR",108,0)
 I $E(LINEP,0,3)="R92" S GROUP=$E(LINEP,0,3)_" AUTO & VAN EQUIP"
"RTN","RMPRN7PR",109,0)
 I $E(LINEP,0,3)="R99" S GROUP=$E(LINEP,0,3)_" MISC"
"RTN","RMPRN7PR",110,0)
 Q
"RTN","RMPRN7PR",111,0)
LBLR ;label for repair group
"RTN","RMPRN7PR",112,0)
 I $E(LINE,0,3)="R10" W !,"2529-3 WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7PR",113,0)
 I $E(LINE,0,3)="R20" W !,"2529-3 ARTIFICIAL LEGS"
"RTN","RMPRN7PR",114,0)
 I $E(LINE,0,3)="R30" W !,"2529-3 ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7PR",115,0)
 I $E(LINE,0,3)="R40" W !,"2529-3 ORTHOSIS"
"RTN","RMPRN7PR",116,0)
 I $E(LINE,0,3)="R50" W !,"2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7PR",117,0)
 I $E(LINE,0,3)="R60" W !,"2529-3 SENSORI-NEURO AIDS"
"RTN","RMPRN7PR",118,0)
 I $E(LINE,0,3)="R70" W !,"2529-3 HOME DIALYSIS EQUIPMENT"
"RTN","RMPRN7PR",119,0)
 I $E(LINE,0,3)="R80",IOST'["C-" D HDR W !,"2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PR",120,0)
 I $E(LINE,0,3)="R80",IOST["C-" W !,"2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PR",121,0)
 I $E(LINE,0,3)="R90" W !,"2529-3 ALL OTHER"
"RTN","RMPRN7PR",122,0)
 I $E(LINE,0,3)="R91" W !,"2529-3 OXYGEN & RESPIRATORY"
"RTN","RMPRN7PR",123,0)
 I $E(LINE,0,3)="R92" W !,"2529-3 AUTO & VAN EQUIP"
"RTN","RMPRN7PR",124,0)
 I $E(LINE,0,3)="R99" W !,"2529-3 MISC"
"RTN","RMPRN7PR",125,0)
 Q
"RTN","RMPRN7PR",126,0)
FSUM ;final summay on Repair Worksheets STATION
"RTN","RMPRN7PR",127,0)
 S H=0
"RTN","RMPRN7PR",128,0)
 F  S H=$O(^TMP($J,"RS",STN,H)) Q:H=""  D
"RTN","RMPRN7PR",129,0)
 .S H1=0,H2=0
"RTN","RMPRN7PR",130,0)
 .F  S H1=$O(^TMP($J,"RS",STN,H,H1)) Q:H1=""  D
"RTN","RMPRN7PR",131,0)
 ..Q:H1'=STN
"RTN","RMPRN7PR",132,0)
 ..S H2=^TMP($J,"RS",STN,H,H1)
"RTN","RMPRN7PR",133,0)
 ..S CA=CA+$P(H2,U,1)
"RTN","RMPRN7PR",134,0)
 ..S CB=CB+$P(H2,U,2)
"RTN","RMPRN7PR",135,0)
 ..S CC=CC+$P(H2,U,4)
"RTN","RMPRN7PR",136,0)
 ..S CD=CD+$P(H2,U,5)
"RTN","RMPRN7PR",137,0)
 ..S CE=CE+$P(H2,U,6)
"RTN","RMPRN7PR",138,0)
 ..S CF=CF+$P(H2,U,7)
"RTN","RMPRN7PR",139,0)
 ..S CG=CG+$P(H2,U,8)
"RTN","RMPRN7PR",140,0)
 ..S CH=CH+$P(H2,U,9)
"RTN","RMPRN7PR",141,0)
 ..S CI=CI+$P(H2,U,10)
"RTN","RMPRN7PR",142,0)
 ..S CJ=CJ+$P(H2,U,11)
"RTN","RMPRN7PR",143,0)
 ..S CK=CK+$P(H2,U,12)
"RTN","RMPRN7PR",144,0)
 ..S CL=CL+$P(H2,U,13)
"RTN","RMPRN7PR",145,0)
 ..S CM=CM+$P(H2,U,14)
"RTN","RMPRN7PR",146,0)
 Q
"RTN","RMPRN7PR",147,0)
CHK ;
"RTN","RMPRN7PR",148,0)
 K DIR W !! S DIR(0)="E" D ^DIR S:+Y'>0 FL=1
"RTN","RMPRN7PR",149,0)
 W @IOF
"RTN","RMPRN7PR",150,0)
 Q
"RTN","RMPRN7PR",151,0)
 ;END
"RTN","RMPRN7PT")
0^9^B36298448
"RTN","RMPRN7PT",1,0)
RMPRN7PT ;HINES/HNC -PRINT NPPD NEW WORKSHEETS ;2/14/01
"RTN","RMPRN7PT",2,0)
 ;;3.0;PROSTHETICS;**57,84,103**;Feb 09, 1996
"RTN","RMPRN7PT",3,0)
 ;
"RTN","RMPRN7PT",4,0)
 ; AAC Patch 84, 2/25/04 additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN7PT",5,0)
 ; AAC Patch 84, 2/25/04 change description for group 600
"RTN","RMPRN7PT",6,0)
 ; AAC Patch 103, 1/17/05 NPPD CATEGORIES/LINES - NEW and REPAIRS
"RTN","RMPRN7PT",7,0)
 ;
"RTN","RMPRN7PT",8,0)
 K ^TMP($J,"NS")
"RTN","RMPRN7PT",9,0)
 S STN=1
"RTN","RMPRN7PT",10,0)
 S SSNCT=0,BDC=0
"RTN","RMPRN7PT",11,0)
 F  S BDC=$O(^TMP($J,"A",BDC)) Q:BDC'>0  S SSNCT=SSNCT+1
"RTN","RMPRN7PT",12,0)
 K BDC,^TMP($J,"A")
"RTN","RMPRN7PT",13,0)
 F  S STN=$O(^TMP($J,"N",STN)) Q:STN=""  W:$E(IOST,1,2)="C-" @IOF D HDR,CDATA,SUM
"RTN","RMPRN7PT",14,0)
 Q
"RTN","RMPRN7PT",15,0)
HDR ;
"RTN","RMPRN7PT",16,0)
 W !,"REPORT OF 2529-3 NEW PROSTHETICS ACTIVITIES"
"RTN","RMPRN7PT",17,0)
 ;header based on sort select
"RTN","RMPRN7PT",18,0)
 W !,$$HDR^RMPRN7S(RMPRDET)
"RTN","RMPRN7PT",19,0)
 S Y=DATE(1) D DD^%DT S DATE(3)=Y W !,DATE(3)," - " S Y=DATE(2) D DD^%DT S DATE(4)=Y W DATE(4)
"RTN","RMPRN7PT",20,0)
 W !,?10,"STATION: ",STN
"RTN","RMPRN7PT",21,0)
 ;RMPRSUM if summary header
"RTN","RMPRN7PT",22,0)
 Q:$G(RMPRSUM)
"RTN","RMPRN7PT",23,0)
 W !!
"RTN","RMPRN7PT",24,0)
 W !,"Line",?7,"Item",?21,"VA",?26,"Com",?31,"Total",?37,"Cost",?46
"RTN","RMPRN7PT",25,0)
 W "Ave Com",?54
"RTN","RMPRN7PT",26,0)
 W "SC/OP",?61,"NSC/OP",?68,"SC/IP",?74,"NSC/IP"
"RTN","RMPRN7PT",27,0)
 I IOM>120 D
"RTN","RMPRN7PT",28,0)
 .W ?83,"SP LEG"
"RTN","RMPRN7PT",29,0)
 .W ?90,"A&A",?97,"PHC",?104,"ELG REF",?112,"NEW",?120,"$ELG REF"
"RTN","RMPRN7PT",30,0)
 Q
"RTN","RMPRN7PT",31,0)
CDATA ;
"RTN","RMPRN7PT",32,0)
 S LINE="",LINEP=""
"RTN","RMPRN7PT",33,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PT",34,0)
 F  S LINE=$O(^TMP($J,"N",STN,LINE)) Q:LINE=""  Q:FL=1  D
"RTN","RMPRN7PT",35,0)
 .I $E(LINE,0,3)'=$E(LINEP,0,3) D SUM Q:FL=1  D LBL
"RTN","RMPRN7PT",36,0)
 .W !,LINE,?7,$E($P(^TMP($J,"N",STN,LINE),U,15),1,14)
"RTN","RMPRN7PT",37,0)
 .W ?21,$P(^TMP($J,"N",STN,LINE),U,1) S CA=CA+$P(^(LINE),U,1)
"RTN","RMPRN7PT",38,0)
 .W ?26,$P(^TMP($J,"N",STN,LINE),U,2) S CB=CB+$P(^(LINE),U,2)
"RTN","RMPRN7PT",39,0)
 .W ?31,$P(^TMP($J,"N",STN,LINE),U,1)+($P(^TMP($J,"N",STN,LINE),U,2))
"RTN","RMPRN7PT",40,0)
 .W ?37,$FN($J($P(^TMP($J,"N",STN,LINE),U,3),0,0),",") S CC=CC+$P(^(LINE),U,3)
"RTN","RMPRN7PT",41,0)
 .W:$P(^TMP($J,"N",STN,LINE),U,2)>0 ?46,$FN($J(($P(^(LINE),U,3))/($P(^(LINE),U,2)),0,0),",")
"RTN","RMPRN7PT",42,0)
 .W ?55,$P(^TMP($J,"N",STN,LINE),U,4) S CD=CD+$P(^(LINE),U,4)
"RTN","RMPRN7PT",43,0)
 .W ?62,$P(^TMP($J,"N",STN,LINE),U,5) S CE=CE+$P(^(LINE),U,5)
"RTN","RMPRN7PT",44,0)
 .W ?69,$P(^TMP($J,"N",STN,LINE),U,6) S CF=CF+$P(^(LINE),U,6)
"RTN","RMPRN7PT",45,0)
 .W ?76,$P(^TMP($J,"N",STN,LINE),U,7) S CG=CG+$P(^(LINE),U,7)
"RTN","RMPRN7PT",46,0)
 .S CH=CH+$P(^TMP($J,"N",STN,LINE),U,8)
"RTN","RMPRN7PT",47,0)
 .S CI=CI+$P(^TMP($J,"N",STN,LINE),U,9)
"RTN","RMPRN7PT",48,0)
 .S CJ=CJ+$P(^TMP($J,"N",STN,LINE),U,10)
"RTN","RMPRN7PT",49,0)
 .S CK=CK+$P(^TMP($J,"N",STN,LINE),U,11)
"RTN","RMPRN7PT",50,0)
 .S CL=CL+$P(^TMP($J,"N",STN,LINE),U,12)
"RTN","RMPRN7PT",51,0)
 .S CM=CM+$P(^TMP($J,"N",STN,LINE),U,16)
"RTN","RMPRN7PT",52,0)
 .I IOM>120 D
"RTN","RMPRN7PT",53,0)
 ..W ?83,$P(^TMP($J,"N",STN,LINE),U,8)
"RTN","RMPRN7PT",54,0)
 ..W ?90,$P(^TMP($J,"N",STN,LINE),U,9)
"RTN","RMPRN7PT",55,0)
 ..W ?97,$P(^TMP($J,"N",STN,LINE),U,10)
"RTN","RMPRN7PT",56,0)
 ..W ?104,$P(^TMP($J,"N",STN,LINE),U,11)
"RTN","RMPRN7PT",57,0)
 ..W ?112,$P(^TMP($J,"N",STN,LINE),U,12)
"RTN","RMPRN7PT",58,0)
 ..W ?120,$P(^TMP($J,"N",STN,LINE),U,16)
"RTN","RMPRN7PT",59,0)
 .S LINEP=LINE
"RTN","RMPRN7PT",60,0)
 Q
"RTN","RMPRN7PT",61,0)
SUM ;Print summary for group
"RTN","RMPRN7PT",62,0)
 Q:FL=1
"RTN","RMPRN7PT",63,0)
 I LINEP'="" D  Q:FL=1
"RTN","RMPRN7PT",64,0)
 .I $Y+13>IOSL,IOST["C-" D CHK Q:FL=1
"RTN","RMPRN7PT",65,0)
 .S GROUPT=CA_U_CB_U_(CA+CB)_U_$J(CC,0,0)_U_CD_U_CE_U_CF_U_CG_U_CH_U_CI_U_CJ_U_CK_U_CL_U_CM
"RTN","RMPRN7PT",66,0)
 .W !,LN,!
"RTN","RMPRN7PT",67,0)
 .W ?21,CA,?26,CB,?31,(CA+CB),?37,$FN($J(CC,0,0),","),?55,CD,?62,CE,?69,CF,?76,CG
"RTN","RMPRN7PT",68,0)
 .I IOM>120 W ?83,CH,?90,CI,?97,CJ,?104,CK,?112,CL,?120,CM
"RTN","RMPRN7PT",69,0)
 .W !
"RTN","RMPRN7PT",70,0)
 .D LBLG
"RTN","RMPRN7PT",71,0)
 .S ^TMP($J,"NS",STN,GROUP,STN)=GROUPT
"RTN","RMPRN7PT",72,0)
 .S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PT",73,0)
 Q:$G(LINEP)'="999 ZL"
"RTN","RMPRN7PT",74,0)
 D FSUM S RMPRSUM=1 D HDR K RMPRSUM
"RTN","RMPRN7PT",75,0)
 W !!,"STATION SUMMARY (2529-3 NEW ACTIVITIES)"
"RTN","RMPRN7PT",76,0)
 W !,?21,"VA",?31,"Com",?41,"Total",?51,"Cost",?61
"RTN","RMPRN7PT",77,0)
 W "Ave Com",?71,"Elg Ref $"
"RTN","RMPRN7PT",78,0)
 W !,LN
"RTN","RMPRN7PT",79,0)
 W !,?21,$FN(CA,","),?31,$FN(CB,","),?41,$FN((CA+CB),","),?51,"$"_$FN($J(CC,0,0),",")
"RTN","RMPRN7PT",80,0)
 I CB>0 W ?61,"$"_$FN($J((CC/CB),0,0),",")
"RTN","RMPRN7PT",81,0)
 I CM>0 W ?71,"$"_$FN($J(CM,0,0),",")
"RTN","RMPRN7PT",82,0)
 W !,LN,!!
"RTN","RMPRN7PT",83,0)
 W ?21,"SC/OP",?31,"NSC/OP",?41,"SC/IP",?51,"NSC/IP"
"RTN","RMPRN7PT",84,0)
 W !,LN,!,?21,CD,?31,CE,?41,CF,?51,CG
"RTN","RMPRN7PT",85,0)
 W !,LN
"RTN","RMPRN7PT",86,0)
 W !,?21,"SPEC LEG",?31,"A&A",?41,"PHC",?51,"ELG REF",?61,"NEW"
"RTN","RMPRN7PT",87,0)
 W !,LN,!,?21,CH,?31,CI,?41,CJ,?51,CK,?61,CL,!,LN
"RTN","RMPRN7PT",88,0)
 W !,?21,"Total Disability: ",$FN((CD+CE+CF+CG),","),?47,"Unique SSN: ",SSNCT,!
"RTN","RMPRN7PT",89,0)
 S (CA,CB,CC,CD,CE,CF,CG,CH,CI,CJ,CK,CL,CM)=0
"RTN","RMPRN7PT",90,0)
 I IOST["C-" D CHK
"RTN","RMPRN7PT",91,0)
 Q
"RTN","RMPRN7PT",92,0)
LBLG ;group description for final summary
"RTN","RMPRN7PT",93,0)
 I $E(LINEP,0,3)=100 S GROUP=$E(LINEP,0,3)_" 2529-3 WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7PT",94,0)
 I $E(LINEP,0,3)=200 S GROUP=$E(LINEP,0,3)_" 2529-3 ARTIFICIAL LEGS"
"RTN","RMPRN7PT",95,0)
 I $E(LINEP,0,3)=300 S GROUP=$E(LINEP,0,3)_" 2529-3 ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7PT",96,0)
 I $E(LINEP,0,3)=400 S GROUP=$E(LINEP,0,3)_" 2529-3 ORTHOSIS/ORTHOTICS"
"RTN","RMPRN7PT",97,0)
 I $E(LINEP,0,3)=500 S GROUP=$E(LINEP,0,3)_" 2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7PT",98,0)
 I $E(LINEP,0,3)=600 S GROUP=$E(LINEP,0,3)_" 2529-3 SENSORI-NEURO AIDS"
"RTN","RMPRN7PT",99,0)
 I $E(LINEP,0,3)=700 S GROUP=$E(LINEP,0,3)_" 2529-3 RESTORATIONS"
"RTN","RMPRN7PT",100,0)
 I $E(LINEP,0,3)=800 S GROUP=$E(LINEP,0,3)_" 2529-3 OXYGEN AND RESPIRATORY"
"RTN","RMPRN7PT",101,0)
 I $E(LINEP,0,3)=900 S GROUP=$E(LINEP,0,3)_" 2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PT",102,0)
 I $E(LINEP,0,3)=910 S GROUP=$E(LINEP,0,3)_" 2529-3 ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN7PT",103,0)
 I $E(LINEP,0,3)=920 S GROUP=$E(LINEP,0,3)_" 2529-3 HOME DIALYSIS PROGRAM"
"RTN","RMPRN7PT",104,0)
 I $E(LINEP,0,3)=930 S GROUP=$E(LINEP,0,3)_" 2529-3 ADAPTIVE EQUIPMENT"
"RTN","RMPRN7PT",105,0)
 I $E(LINEP,0,3)=940 S GROUP=$E(LINEP,0,3)_" 2529-3 HISA"
"RTN","RMPRN7PT",106,0)
 I $E(LINEP,0,3)=960 S GROUP=$E(LINEP,0,3)_" 2529-3 SURGICAL IMPLANTS"
"RTN","RMPRN7PT",107,0)
 I $E(LINEP,0,3)=999 S GROUP=$E(LINEP,0,3)_" 2529-3 MISC"
"RTN","RMPRN7PT",108,0)
 Q
"RTN","RMPRN7PT",109,0)
LBL ;label for group
"RTN","RMPRN7PT",110,0)
 I $E(LINE,0,3)=100 W !,"2529-3 WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7PT",111,0)
 I $E(LINE,0,3)=200 W !,"2529-3 ARTIFICIAL LEGS"
"RTN","RMPRN7PT",112,0)
 I $E(LINE,0,3)=300 W !,"2529-3 ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7PT",113,0)
 I $E(LINE,0,3)=400 W !,"2529-3 ORTHOSIS/ORTHOTICS"
"RTN","RMPRN7PT",114,0)
 I $E(LINE,0,3)=500,IOST'["C-" W @IOF D HDR W !,"2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7PT",115,0)
 I $E(LINE,0,3)=500,IOST["C-" W !,"2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7PT",116,0)
 I $E(LINE,0,3)=600 W !,"2529-3 SENSORI-NEURO AIDS"
"RTN","RMPRN7PT",117,0)
 I $E(LINE,0,3)=700 W !,"2529-3 RESTORATIONS"
"RTN","RMPRN7PT",118,0)
 I $E(LINE,0,3)=800 W !,"2529-3 OXYGEN AND RESPIRATORY"
"RTN","RMPRN7PT",119,0)
 I $E(LINE,0,3)=900,IOST'["C-" W @IOF D HDR W !,"2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PT",120,0)
 I $E(LINE,0,3)=900,IOST["C-" W !,"2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7PT",121,0)
 I $E(LINE,0,3)=910 W !,"2529-3 ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN7PT",122,0)
 I $E(LINE,0,3)=920 W !,"2529-3 HOME DIALYSIS PROGRAM"
"RTN","RMPRN7PT",123,0)
 I $E(LINE,0,3)=930 W !,"2529-3 ADAPTIVE EQUIPMENT"
"RTN","RMPRN7PT",124,0)
 I $E(LINE,0,3)=940 W !,"2529-3 HISA"
"RTN","RMPRN7PT",125,0)
 I $E(LINE,0,3)=960 W !,"2529-3 SURGICAL IMPLANTS"
"RTN","RMPRN7PT",126,0)
 I $E(LINE,0,3)=999,IOST'["C-" W @IOF D HDR W !,"2529-3 MISC"
"RTN","RMPRN7PT",127,0)
 I $E(LINE,0,3)=999,IOST["C-" W !,"2529-3 MISC"
"RTN","RMPRN7PT",128,0)
 Q
"RTN","RMPRN7PT",129,0)
FSUM ;final summay on New Worksheets STATION
"RTN","RMPRN7PT",130,0)
 S H=0
"RTN","RMPRN7PT",131,0)
 F  S H=$O(^TMP($J,"NS",STN,H)) Q:H=""  D
"RTN","RMPRN7PT",132,0)
 .S H1=0,H2=0
"RTN","RMPRN7PT",133,0)
 .F  S H1=$O(^TMP($J,"NS",STN,H,H1)) Q:H1=""  D
"RTN","RMPRN7PT",134,0)
 ..Q:H1'=STN
"RTN","RMPRN7PT",135,0)
 ..S H2=^TMP($J,"NS",STN,H,H1)
"RTN","RMPRN7PT",136,0)
 ..S CA=CA+$P(H2,U,1)
"RTN","RMPRN7PT",137,0)
 ..S CB=CB+$P(H2,U,2)
"RTN","RMPRN7PT",138,0)
 ..S CC=CC+$P(H2,U,4)
"RTN","RMPRN7PT",139,0)
 ..S CD=CD+$P(H2,U,5)
"RTN","RMPRN7PT",140,0)
 ..S CE=CE+$P(H2,U,6)
"RTN","RMPRN7PT",141,0)
 ..S CF=CF+$P(H2,U,7)
"RTN","RMPRN7PT",142,0)
 ..S CG=CG+$P(H2,U,8)
"RTN","RMPRN7PT",143,0)
 ..S CH=CH+$P(H2,U,9)
"RTN","RMPRN7PT",144,0)
 ..S CI=CI+$P(H2,U,10)
"RTN","RMPRN7PT",145,0)
 ..S CJ=CJ+$P(H2,U,11)
"RTN","RMPRN7PT",146,0)
 ..S CK=CK+$P(H2,U,12)
"RTN","RMPRN7PT",147,0)
 ..S CL=CL+$P(H2,U,13)
"RTN","RMPRN7PT",148,0)
 ..S CM=CM+$P(H2,U,14)
"RTN","RMPRN7PT",149,0)
 Q
"RTN","RMPRN7PT",150,0)
CHK ;
"RTN","RMPRN7PT",151,0)
 K DIR W !! S DIR(0)="E" D ^DIR S:+Y'>0 FL=1
"RTN","RMPRN7PT",152,0)
 W @IOF
"RTN","RMPRN7PT",153,0)
 Q
"RTN","RMPRN7PT",154,0)
 ;END
"RTN","RMPRN7UT")
0^10^B7209757
"RTN","RMPRN7UT",1,0)
RMPRN7UT ;HINES-CIOFO/HNC - DISPLAY HEADER GROUPS NPPD;2-14-01
"RTN","RMPRN7UT",2,0)
 ;;3.0;PROSTHETICS;**57,84,103**;Feb 09, 1996
"RTN","RMPRN7UT",3,0)
 ;
"RTN","RMPRN7UT",4,0)
 ; AAC Patch 84, 2/25/04, additions, deletions and change descriptions for Groups and lines
"RTN","RMPRN7UT",5,0)
 ; AAC Patch 84, 2/25/04, change description for line 6
"RTN","RMPRN7UT",6,0)
 ; AAC Patch 103, 1/17/05 - NPPD CATEGORIES/LINES - NEW and REPAIR UPDATES
"RTN","RMPRN7UT",7,0)
 ;
"RTN","RMPRN7UT",8,0)
DIS W !,?5,"1.   2529-3 WHEELCHAIRS AND ACCESSORIES"
"RTN","RMPRN7UT",9,0)
 W !,?5,"2.   2529-3 ARTIFICIAL LEGS"
"RTN","RMPRN7UT",10,0)
 W !,?5,"3.   2529-3 ARTIFICIAL ARMS AND TERMINAL DEVICES"
"RTN","RMPRN7UT",11,0)
 W !,?5,"4.   2529-3 ORTHOSIS/ORTHOTICS"
"RTN","RMPRN7UT",12,0)
 W !,?5,"5.   2529-3 SHOES/ORTHOTICS"
"RTN","RMPRN7UT",13,0)
 W !,?5,"6.   2529-3 SENSORI-NEURO AIDS"
"RTN","RMPRN7UT",14,0)
 W !,?5,"7.   2529-3 RESTORATIONS"
"RTN","RMPRN7UT",15,0)
 W !,?5,"8.   2529-3 OXYGEN AND RESPIRATORY"
"RTN","RMPRN7UT",16,0)
 W !,?5,"9.   2529-3 MEDICAL EQUIPMENT"
"RTN","RMPRN7UT",17,0)
 W !,?5,"10.  2529-3 ALL OTHER SUPPLIES AND EQUIPMENT"
"RTN","RMPRN7UT",18,0)
 W !,?5,"11.  2529-3 HOME DIALYSIS PROGRAM"
"RTN","RMPRN7UT",19,0)
 W !,?5,"12.  2529-3 ADAPTIVE EQUIPMENT"
"RTN","RMPRN7UT",20,0)
 W !,?5,"13.  2529-3 HISA"
"RTN","RMPRN7UT",21,0)
 W !,?5,"14.  2529-3 SURGICAL IMPLANTS"
"RTN","RMPRN7UT",22,0)
 W !,?5,"15.  2529-3 MISC"
"RTN","RMPRN7UT",23,0)
 W !,?5,"16.  2529-3 REPAIR"
"RTN","RMPRN7UT",24,0)
ASK ;
"RTN","RMPRN7UT",25,0)
 K DIR,DTOUT,DIRUT
"RTN","RMPRN7UT",26,0)
 S RMPRCDE=""
"RTN","RMPRN7UT",27,0)
 S DIR(0)="N^1:16:0"
"RTN","RMPRN7UT",28,0)
 S DIR("A")="Select 2529-3 NPPD Group "
"RTN","RMPRN7UT",29,0)
 D ^DIR
"RTN","RMPRN7UT",30,0)
 G:$D(DIRUT)!($D(DTOUT)) EXIT
"RTN","RMPRN7UT",31,0)
 S BR=0,BRC=0 K BRA W @IOF
"RTN","RMPRN7UT",32,0)
 I Y=1 S SELY=10
"RTN","RMPRN7UT",33,0)
 I Y=2 S SELY=20
"RTN","RMPRN7UT",34,0)
 I Y=3 S SELY=30
"RTN","RMPRN7UT",35,0)
 I Y=4 S SELY=40
"RTN","RMPRN7UT",36,0)
 I Y=5 S SELY=50
"RTN","RMPRN7UT",37,0)
 I Y=6 S SELY=60
"RTN","RMPRN7UT",38,0)
 I Y=7 S SELY=70
"RTN","RMPRN7UT",39,0)
 I Y=8 S SELY=80
"RTN","RMPRN7UT",40,0)
 I Y=9 S SELY=90
"RTN","RMPRN7UT",41,0)
 I Y=10 S SELY=91
"RTN","RMPRN7UT",42,0)
 I Y=11 S SELY=92
"RTN","RMPRN7UT",43,0)
 I Y=12 S SELY=93
"RTN","RMPRN7UT",44,0)
 I Y=13 S SELY=94
"RTN","RMPRN7UT",45,0)
 I Y=14 S SELY=96
"RTN","RMPRN7UT",46,0)
 I Y=15 S SELY=99
"RTN","RMPRN7UT",47,0)
 I Y=16 S SELY=100
"RTN","RMPRN7UT",48,0)
 F  S BR=$O(^TMP($J,"RMPRCODE",BR)) Q:BR=""  D
"RTN","RMPRN7UT",49,0)
 .I $E(BR,1,2)=SELY S BRC=BRC+1 W !?5,BRC_".",?10,BR,?18,^(BR) S BRA(BRC,BR)=""
"RTN","RMPRN7UT",50,0)
 .Q
"RTN","RMPRN7UT",51,0)
 I SELY=100 D
"RTN","RMPRN7UT",52,0)
 . D RSEL
"RTN","RMPRN7UT",53,0)
 . Q
"RTN","RMPRN7UT",54,0)
 E  D
"RTN","RMPRN7UT",55,0)
 . D NSEL
"RTN","RMPRN7UT",56,0)
 . Q
"RTN","RMPRN7UT",57,0)
 G:$D(DIRUT)!($D(DTOUT)) EXIT
"RTN","RMPRN7UT",58,0)
 Q
"RTN","RMPRN7UT",59,0)
RSEL ;repair selection
"RTN","RMPRN7UT",60,0)
 N CNT,Y,OFFS,TXT,I
"RTN","RMPRN7UT",61,0)
 S CNT=$P(^TMP($J,"RMPRCODE"),U,2) ; num of NPPD repair lines
"RTN","RMPRN7UT",62,0)
 S OFFS=CNT-(CNT\2)-1
"RTN","RMPRN7UT",63,0)
 F I=0:1:OFFS D
"RTN","RMPRN7UT",64,0)
 . S TXT=$P($T(REP+I^RMPRN72),";;",2)
"RTN","RMPRN7UT",65,0)
 . W !,$J(I+1,2)_".",?5,$P(TXT,";",1),?14,$P(TXT,";",2)
"RTN","RMPRN7UT",66,0)
 . S TXT=$P($T(REP+I+OFFS+1^RMPRN72),";;",2)
"RTN","RMPRN7UT",67,0)
 . Q:$E(TXT)'="R"
"RTN","RMPRN7UT",68,0)
 . W ?35,$J(I+2+OFFS,2)_".",?40,$P(TXT,";",1),?51,$P(TXT,";",2)
"RTN","RMPRN7UT",69,0)
 . Q
"RTN","RMPRN7UT",70,0)
 F I=OFFS:1:17 W !
"RTN","RMPRN7UT",71,0)
 S DIR(0)="N^1:"_CNT_":0"
"RTN","RMPRN7UT",72,0)
 S DIR("A")="Select 2529-3 NPPD Line "
"RTN","RMPRN7UT",73,0)
 D ^DIR
"RTN","RMPRN7UT",74,0)
 Q:$D(DIRUT)!($D(DTOUT))
"RTN","RMPRN7UT",75,0)
 S TXT=$P($T(REP+Y-1^RMPRN72),";;",2)
"RTN","RMPRN7UT",76,0)
 S RMPRCDE=$P(TXT,";",1)
"RTN","RMPRN7UT",77,0)
 Q
"RTN","RMPRN7UT",78,0)
NSEL ;new select
"RTN","RMPRN7UT",79,0)
 I BR'="" W "QUIT" Q
"RTN","RMPRN7UT",80,0)
 W !
"RTN","RMPRN7UT",81,0)
 S DIR(0)="N^1:"_BRC_":0"
"RTN","RMPRN7UT",82,0)
 S DIR("A")="Select 2529-3 NPPD Line "
"RTN","RMPRN7UT",83,0)
 D ^DIR
"RTN","RMPRN7UT",84,0)
 Q:$D(DIRUT)!($D(DTOUT))
"RTN","RMPRN7UT",85,0)
 S RMPRCDE=$O(BRA(Y,RMPRCDE))
"RTN","RMPRN7UT",86,0)
 Q
"RTN","RMPRN7UT",87,0)
EXIT ;exit on ^ or timeout
"RTN","RMPRN7UT",88,0)
 K ^TMP($J)
"RTN","RMPRN7UT",89,0)
 Q
"RTN","RMPRN7UT",90,0)
 ;END
"VER")
8.0^22
"^DD",661.1,661.1,1.1,0)
DATE/TIME LAST UPDATE^D^^0;11^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",661.1,661.1,1.1,21,0)
^.001^1^1^3050119^^
"^DD",661.1,661.1,1.1,21,1,0)
This is the date and time the record was last updated.
"^DD",661.1,661.1,1.1,"DT")
3050114
"^DD",661.1,661.1,1.2,0)
LAST UPDATE^F^^0;12^K:$L(X)>60!($L(X)<3) X
"^DD",661.1,661.1,1.2,3)
Answer must be 3-60 characters in length.
"^DD",661.1,661.1,1.2,21,0)
^.001^1^1^3050119^^^^
"^DD",661.1,661.1,1.2,21,1,0)
This is the identifier associated with the last update. 
"^DD",661.1,661.1,1.2,23,0)
^^2^2^3050119^
"^DD",661.1,661.1,1.2,23,1,0)
The Identifier is the value in XMFROM.  A free text string identifying the
"^DD",661.1,661.1,1.2,23,2,0)
process that triggered the server update, to be used as an audit log.
"^DD",661.1,661.1,1.2,"DT")
3050119
**END**
**END**
