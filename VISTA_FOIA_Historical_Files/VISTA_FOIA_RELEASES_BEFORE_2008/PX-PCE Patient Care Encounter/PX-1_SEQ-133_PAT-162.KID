Released PX*1*162 SEQ #133
Extracted from mail message
**KIDS**:PX*1.0*162^

**INSTALL NAME**
PX*1.0*162
"BLD",6385,0)
PX*1.0*162^PCE PATIENT CARE ENCOUNTER^0^3051003^y
"BLD",6385,1,0)
^^1^1^3050916^
"BLD",6385,1,1,0)
PPD RULES ARE INCORRECT.
"BLD",6385,4,0)
^9.64PA^9000010.12^1
"BLD",6385,4,9000010.12,0)
9000010.12
"BLD",6385,4,9000010.12,2,0)
^9.641^9000010.12^1
"BLD",6385,4,9000010.12,2,9000010.12,0)
V SKIN TEST  (File-top level)
"BLD",6385,4,9000010.12,2,9000010.12,1,0)
^9.6411^.05^1
"BLD",6385,4,9000010.12,2,9000010.12,1,.05,0)
READING
"BLD",6385,4,9000010.12,222)
y^y^p^^^^n^^n
"BLD",6385,4,9000010.12,224)

"BLD",6385,4,"APDD",9000010.12,9000010.12)

"BLD",6385,4,"APDD",9000010.12,9000010.12,.05)

"BLD",6385,4,"B",9000010.12,9000010.12)

"BLD",6385,"ABPKG")
n
"BLD",6385,"KRN",0)
^9.67PA^8989.52^19
"BLD",6385,"KRN",.4,0)
.4
"BLD",6385,"KRN",.401,0)
.401
"BLD",6385,"KRN",.402,0)
.402
"BLD",6385,"KRN",.403,0)
.403
"BLD",6385,"KRN",.5,0)
.5
"BLD",6385,"KRN",.84,0)
.84
"BLD",6385,"KRN",3.6,0)
3.6
"BLD",6385,"KRN",3.8,0)
3.8
"BLD",6385,"KRN",9.2,0)
9.2
"BLD",6385,"KRN",9.8,0)
9.8
"BLD",6385,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6385,"KRN",9.8,"NM",1,0)
PXCESK^^0^B17217954
"BLD",6385,"KRN",9.8,"NM","B","PXCESK",1)

"BLD",6385,"KRN",19,0)
19
"BLD",6385,"KRN",19.1,0)
19.1
"BLD",6385,"KRN",101,0)
101
"BLD",6385,"KRN",409.61,0)
409.61
"BLD",6385,"KRN",771,0)
771
"BLD",6385,"KRN",870,0)
870
"BLD",6385,"KRN",8989.51,0)
8989.51
"BLD",6385,"KRN",8989.52,0)
8989.52
"BLD",6385,"KRN",8994,0)
8994
"BLD",6385,"KRN","B",.4,.4)

"BLD",6385,"KRN","B",.401,.401)

"BLD",6385,"KRN","B",.402,.402)

"BLD",6385,"KRN","B",.403,.403)

"BLD",6385,"KRN","B",.5,.5)

"BLD",6385,"KRN","B",.84,.84)

"BLD",6385,"KRN","B",3.6,3.6)

"BLD",6385,"KRN","B",3.8,3.8)

"BLD",6385,"KRN","B",9.2,9.2)

"BLD",6385,"KRN","B",9.8,9.8)

"BLD",6385,"KRN","B",19,19)

"BLD",6385,"KRN","B",19.1,19.1)

"BLD",6385,"KRN","B",101,101)

"BLD",6385,"KRN","B",409.61,409.61)

"BLD",6385,"KRN","B",771,771)

"BLD",6385,"KRN","B",870,870)

"BLD",6385,"KRN","B",8989.51,8989.51)

"BLD",6385,"KRN","B",8989.52,8989.52)

"BLD",6385,"KRN","B",8994,8994)

"BLD",6385,"QUES",0)
^9.62^^
"BLD",6385,"REQB",0)
^9.611^1^1
"BLD",6385,"REQB",1,0)
PX*1.0*124^2
"BLD",6385,"REQB","B","PX*1.0*124",1)

"FIA",9000010.12)
V SKIN TEST
"FIA",9000010.12,0)
^AUPNVSK(
"FIA",9000010.12,0,0)
9000010.12IP
"FIA",9000010.12,0,1)
y^y^p^^^^n^^n
"FIA",9000010.12,0,10)

"FIA",9000010.12,0,11)

"FIA",9000010.12,0,"RLRO")

"FIA",9000010.12,0,"VR")
1.0^PX
"FIA",9000010.12,9000010.12)
1
"FIA",9000010.12,9000010.12,.05)

"MBREQ")
0
"PKG",413,-1)
1^1
"PKG",413,0)
PCE PATIENT CARE ENCOUNTER^PX^Patient Care Encounter (VA Parent package)^
"PKG",413,20,0)
^9.402P^^
"PKG",413,22,0)
^9.49I^1^1
"PKG",413,22,1,0)
1.0^2960812^2960913^12537
"PKG",413,22,1,"PAH",1,0)
162^3051003
"PKG",413,22,1,"PAH",1,1,0)
^^1^1^3051003
"PKG",413,22,1,"PAH",1,1,1,0)
PPD RULES ARE INCORRECT.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PXCESK")
0^1^B17217954
"RTN","PXCESK",1,0)
PXCESK ;ISL/dee - Used to edit and display V SKIN TEST ;3/11/04 1:49pm
"RTN","PXCESK",2,0)
 ;;1.0;PCE PATIENT CARE ENCOUNTER;**27,124,162**;Aug 12, 1996
"RTN","PXCESK",3,0)
 ;; ;
"RTN","PXCESK",4,0)
 Q
"RTN","PXCESK",5,0)
 ;
"RTN","PXCESK",6,0)
 ;Line with the line label "FORMAT"
"RTN","PXCESK",7,0)
 ;;Long name~File Number~Node Subscripts~Allow Duplicate entries (1=yes, 0=no)~File global name
"RTN","PXCESK",8,0)
 ;     1         2             3                   4                                   5
"RTN","PXCESK",9,0)
 ;
"RTN","PXCESK",10,0)
 ;Followning lines:
"RTN","PXCESK",11,0)
 ;;Node~Piece~,Field Number~Edit Label~Display Label~Display Routine~Edit Routine~Help Text for DIR("?")~Set of PXCEKEYS that can Edit~D if Detail Display Only~
"RTN","PXCESK",12,0)
 ;  1  ~  2  ~      3      ~     4    ~        5    ~        6      ~     7      ~       8              ~          9                  ~       10
"RTN","PXCESK",13,0)
 ;The Display & Edit routines are for special caces.
"RTN","PXCESK",14,0)
 ;  (The .01 field cannot have a special edit.)
"RTN","PXCESK",15,0)
 ;
"RTN","PXCESK",16,0)
 ;***Reading (.05) must be the line before Results (.04)***
"RTN","PXCESK",17,0)
 ;
"RTN","PXCESK",18,0)
FORMAT ;;Skin Test~9000010.12~0,12,811,812~1~^AUPNVSK
"RTN","PXCESK",19,0)
 ;;0~1~.01~Skin Test:  ~Skin Test:  ~~~~~B
"RTN","PXCESK",20,0)
 ;;0~5~.05~Reading in mm:  ~Reading in mm:  ~~EREADING^PXCESK~~~D
"RTN","PXCESK",21,0)
 ;;0~4~.04~Results~Results:  ~~ERESULTS^PXCESK~~~D
"RTN","PXCESK",22,0)
 ;;12~1~1201~Administered Date and (optional) Time~Date/Time of Administered:  ~~E1201^PXCEPOV1(0,30,30)~~~D
"RTN","PXCESK",23,0)
 ;;0~6~.06~Reading Date and (optional) Time~Reading Date:  ~~E1201^PXCEPOV1(0,30,60)~~~D
"RTN","PXCESK",24,0)
 ;;12~4~1204~Reader:  ~Reader:  ~~EPROV12^PXCEPRV~~~D
"RTN","PXCESK",25,0)
 ;;811~1~81101~Comments:  ~Comments:  ~~~~~D
"RTN","PXCESK",26,0)
 ;;0~8~.08~Diagnosis:  ~Diagnosis:  ~$$DISPLY01^PXCEPOV~EPOV^PXCEVIMM~~~
"RTN","PXCESK",27,0)
 ;;0~9~.09~Diagnosis 2:  ~Diagnosis 2:  ~$$DISPLY01^PXCEPOV~EPOV^PXCEVIMM~~~
"RTN","PXCESK",28,0)
 ;;0~10~.1~Diagnosis 3:  ~Diagnosis 3:  ~$$DISPLY01^PXCEPOV~EPOV^PXCEVIMM~~~
"RTN","PXCESK",29,0)
 ;;0~11~.11~Diagnosis 4:  ~Diagnosis 4:  ~$$DISPLY01^PXCEPOV~EPOV^PXCEVIMM~~~
"RTN","PXCESK",30,0)
 ;;0~12~.12~Diagnosis 5:  ~Diagnosis 5:  ~$$DISPLY01^PXCEPOV~EPOV^PXCEVIMM~~~
"RTN","PXCESK",31,0)
 ;;0~13~.13~Diagnosis 6:  ~Diagnosis 6:  ~$$DISPLY01^PXCEPOV~EPOV^PXCEVIMM~~~
"RTN","PXCESK",32,0)
 ;;0~14~.14~Diagnosis 7:  ~Diagnosis 7:  ~$$DISPLY01^PXCEPOV~EPOV^PXCEVIMM~~~
"RTN","PXCESK",33,0)
 ;;0~15~.15~Diagnosis 8:  ~Diagnosis 8:  ~$$DISPLY01^PXCEPOV~EPOV^PXCEVIMM~~~
"RTN","PXCESK",34,0)
 ;;
"RTN","PXCESK",35,0)
 ;
"RTN","PXCESK",36,0)
 ;The interface for AICS to get list on form for help.
"RTN","PXCESK",37,0)
INTRFACE ;;PX SELECT SKIN TEST
"RTN","PXCESK",38,0)
 ;
"RTN","PXCESK",39,0)
 ;********************************
"RTN","PXCESK",40,0)
 ;Special cases for display.
"RTN","PXCESK",41,0)
 ;
"RTN","PXCESK",42,0)
 ;********************************
"RTN","PXCESK",43,0)
 ;Special cases for edit.
"RTN","PXCESK",44,0)
 ;
"RTN","PXCESK",45,0)
EREADING ;
"RTN","PXCESK",46,0)
 I $P(PXCEAFTR(0),"^",5)'="" D
"RTN","PXCESK",47,0)
 . N DIERR,PXCEDILF,PXCEINT,PXCEEXT
"RTN","PXCESK",48,0)
 . S PXCEINT=$P(PXCEAFTR($P(PXCETEXT,"~",1)),"^",$P(PXCETEXT,"~",2))
"RTN","PXCESK",49,0)
 . S PXCEEXT=$$EXTERNAL^DILFD(PXCEFILE,$P(PXCETEXT,"~",3),"",PXCEINT,"PXCEDILF")
"RTN","PXCESK",50,0)
 . S DIR("B")=$S('$D(DIERR):PXCEEXT,1:PXCEINT)
"RTN","PXCESK",51,0)
 S DIR(0)="NAO^0:40:0"
"RTN","PXCESK",52,0)
 S DIR("A")=$P(PXCETEXT,"~",4)
"RTN","PXCESK",53,0)
 S:$P(PXCETEXT,"~",8)]"" DIR("?")=$P(PXCETEXT,"~",8)
"RTN","PXCESK",54,0)
 D ^DIR
"RTN","PXCESK",55,0)
 K DIR,DA
"RTN","PXCESK",56,0)
 I X="@" S Y="@"
"RTN","PXCESK",57,0)
 E  I $D(DTOUT)!$D(DUOUT) S PXCEEND=1 Q
"RTN","PXCESK",58,0)
 S $P(PXCEAFTR(0),"^",5)=$P(Y,"^")
"RTN","PXCESK",59,0)
 Q
"RTN","PXCESK",60,0)
 ;
"RTN","PXCESK",61,0)
ERESULTS ;
"RTN","PXCESK",62,0)
 I $P(PXCEAFTR(0),"^",4)'="" D
"RTN","PXCESK",63,0)
 . N DIERR,PXCEDILF,PXCEINT,PXCEEXT
"RTN","PXCESK",64,0)
 . S PXCEINT=$P(PXCEAFTR($P(PXCETEXT,"~",1)),"^",$P(PXCETEXT,"~",2))
"RTN","PXCESK",65,0)
 . S PXCEEXT=$$EXTERNAL^DILFD(PXCEFILE,$P(PXCETEXT,"~",3),"",PXCEINT,"PXCEDILF")
"RTN","PXCESK",66,0)
 . S DIR("B")=$S('$D(DIERR):PXCEEXT,1:PXCEINT)
"RTN","PXCESK",67,0)
 S DIR(0)="SOM^P:POSITIVE;N:NEGATIVE;D:DOUBTFUL;O:NO TAKE"
"RTN","PXCESK",68,0)
 S DIR("A")=$P(PXCETEXT,"~",4)
"RTN","PXCESK",69,0)
 S:$P(PXCETEXT,"~",8)]"" DIR("?")=$P(PXCETEXT,"~",8)
"RTN","PXCESK",70,0)
 D ^DIR
"RTN","PXCESK",71,0)
 K DIR,DA
"RTN","PXCESK",72,0)
 I X="@" S Y="@"
"RTN","PXCESK",73,0)
 E  I $D(DTOUT)!$D(DUOUT) S PXCEEND=1 Q
"RTN","PXCESK",74,0)
 S $P(PXCEAFTR(0),"^",4)=$P(Y,"^")
"RTN","PXCESK",75,0)
 Q
"RTN","PXCESK",76,0)
 ;
"RTN","PXCESK",77,0)
 ;********************************
"RTN","PXCESK",78,0)
 ;Display text for the .01 field which is a pointer to Skin Test.
"RTN","PXCESK",79,0)
 ;(Must have is called by ASK^PXCEVFI2 and DEL^PXCEVFI2.)
"RTN","PXCESK",80,0)
DISPLY01(PXCESK) ;
"RTN","PXCESK",81,0)
 N DIERR,PXCEDILF,PXCEINT,PXCEEXT
"RTN","PXCESK",82,0)
 S PXCEINT=$P(PXCESK,"^",1)
"RTN","PXCESK",83,0)
 S PXCEEXT=$$EXTERNAL^DILFD(9000010.12,.01,"",PXCEINT,"PXCEDILF")
"RTN","PXCESK",84,0)
 Q $S('$D(DIERR):PXCEEXT,1:PXCEINT)
"RTN","PXCESK",85,0)
 ;
"RTN","PXCESK",86,0)
 ;********************************
"RTN","PXCESK",87,0)
 ;
"RTN","PXCESK",88,0)
SAVE ;Special code for saving a Skin Test.
"RTN","PXCESK",89,0)
 N PXCERR
"RTN","PXCESK",90,0)
 S PXCERR=$P(^TMP("PXK",$J,PXCECATS,1,0,"AFTER"),"^",4,5)
"RTN","PXCESK",91,0)
 Q:PXCERR="^"
"RTN","PXCESK",92,0)
 I $P(PXCERR,"^",1)'=$P(^TMP("PXK",$J,PXCECATS,1,0,"BEFORE"),"^",4) S $P(^TMP("PXK",$J,PXCECATS,1,0,"AFTER"),"^",4)="@"
"RTN","PXCESK",93,0)
 I $P(PXCERR,"^",2)'=$P(^TMP("PXK",$J,PXCECATS,1,0,"BEFORE"),"^",5) S $P(^TMP("PXK",$J,PXCECATS,1,0,"AFTER"),"^",5)="@"
"RTN","PXCESK",94,0)
 D EN1^PXKMAIN
"RTN","PXCESK",95,0)
 S ^TMP("PXK",$J,PXCECATS,1,0,"AFTER")=PXCEAFTR(0)
"RTN","PXCESK",96,0)
 Q
"VER")
8.0^22.0
"^DD",9000010.12,9000010.12,.05,0)
READING^NJ2,0X^^0;5^K:+X'=X!(X>40)!(X<0)!(X?.E1"."1N.N) X
"^DD",9000010.12,9000010.12,.05,1,0)
^.1^^-1
"^DD",9000010.12,9000010.12,.05,1,2,0)
9000010.12^AE
"^DD",9000010.12,9000010.12,.05,1,2,1)
S ^AUPNVSK("AE",$E(X,1,30),DA)=""
"^DD",9000010.12,9000010.12,.05,1,2,2)
K ^AUPNVSK("AE",$E(X,1,30),DA)
"^DD",9000010.12,9000010.12,.05,1,2,"%D",0)
^^4^4^2950901^
"^DD",9000010.12,9000010.12,.05,1,2,"%D",1,0)
This cross-reference searches on the results of skin tests across all
"^DD",9000010.12,9000010.12,.05,1,2,"%D",2,0)
patients.
"^DD",9000010.12,9000010.12,.05,1,2,"%D",3,0)
 
"^DD",9000010.12,9000010.12,.05,1,2,"%D",4,0)
   "AE",READING,DA
"^DD",9000010.12,9000010.12,.05,3)
TYPE A WHOLE NUMBER BETWEEN 0 AND 40.
"^DD",9000010.12,9000010.12,.05,10)
082/SKREAD
"^DD",9000010.12,9000010.12,.05,21,0)
^^1^1^2980921^^^
"^DD",9000010.12,9000010.12,.05,21,1,0)
Enter the value representing the reading of the skin test.
"^DD",9000010.12,9000010.12,.05,"DT")
2950901
"BLD",6385,6)
^133
**END**
**END**
