$TXT Created by BECKWITH,RALPH at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 03/10/04 at 08:56
=============================================================================
Run Date: APR 20, 2004                     Designation: LBR*2.5*11
Package : LBR - LIBRARY                       Priority: Mandatory
Version : 2.5        SEQ #10                    Status: Released
                  Compliance Date: MAY 21, 2004
=============================================================================

Associated patches: (v)LBR*2.5*8   <<= must be installed BEFORE `LBR*2.5*11'

Subject: SERVER MESSAGES NOT REMOVED

Category: 
  - Routine
  - Input Template

Description:
============

 ************************** N O T E *********************************
 This patch has *NO* conflict with the CoreFLS environment for Library.
 ********************************************************************
  
 When running option LBRY TRAN SEND, the Library Server Messages are not 
 being removed from the postmaster (S.LBRYSRV) mailbox.
  
 When running the Holding Setup LBRY BIBLI EDIT option, sites using CoreFLS
 were required to enter a Microfilm CoreFLS vendor.  Input template LBRY
 BIBLIOGRAPHIC 2 ENTRY was edited, not requiring this field to have a 
 value.
  
 ASSOCIATED NOIS:
 ================
 1) AAA-0403-N1484   Server messages not removed
  
 ASSOCIATED E3RS:
 ================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 
 Bay Pines,FL
 Cheyenne,WY
 Walla Walla,WA 
 
 NOIS OVERVIEW:
 ==============
 1) AAA-0403-N1484   Server messages not removed
  
    Problem:
    --------
   
    When running option LBRY TRAN SEND, the Library server 
    messages are not being removed from postmaster (S.LBRYSRV) 
    mailbox. REMSBMSG^XMA1C is the entry point to remove a message 
    from a Postmaster server basket. In several sites, found that in 
    checking other packages whose server mailbox had "0" messages,
    those packages call REMSBMSG^XMA1C. However, with the problem,
    did not find that Library calls REMSBMSG^XMA1C to remove the 
    messages.  
   
    Resolution:
    -----------
      
    Added the routine REMSBMSG^XMA1C to LBRYSEND routine just
    before exiting. At the entry point REMSBMSG, the routine XMA1C 
    removes a message from the server basket.
  
    ****Also, modified File# 680 (LOCAL SERIALS) to disallow (LAYGO=NO)
       MICROFILM COREFLS VENDOR if vendor entered is not found.
  
 ROUTINE SUMMARY:
 ================
 
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
   <tab>;;2.5;LIBRARY;**[PATCH LIST]**;Mar 11, 1996  
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
   LBRYSEND              2510217              2801549            8,11
  
 NOTE:
  
 An update was made to file #680 for the CoreFLS site. The following 
 routines are needed for cross-referencing and will be passed/called
 during installation:
  
      LBRYX1
      LBRYX11
      LBRYX12
      LBRYX13
      LBRYX14
      LBRYX15
      LBRYX16
  
 INSTALLATION INSTRUCTIONS
 =========================
  
 ************************** N O T E *********************************
 This patch has *NO* conflict with the CoreFLS environment for Library.
 ********************************************************************
 Note:
 Before you proceed with installation, you must check the LBR Package
 History in Fileman to make sure it is pointing to the current version 
 of LBR: [LBR 2.5] AND that patch *8 is in the installed patch list.  
 If it is not, you either have to install Patch *8 or if you know you 
 already have you will need to update the Package history list through 
 a Fileman edit for patch *8, seq #6. 
  
 This patch can be installed at any time.  Users do not need to be off
 the system.  Installation will take less than 2 minutes.
   
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.
  
  2.  (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
   
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
   
  3.  Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
    
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
    
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
                                                                
           Load a Distribution 
           Print Transport Global 
           Compare Transport Global to Current System 
           Verify Checksums in Transport Global 
           Install Package(s) 
           Restart Install of Package(s) 
           Unload a Distribution 
           Backup a Transport Global  
  
  4.  From this menu, you may elect to use the following options
      (when prompted for the INSTALL NAME, enter LBR*2.5*11)
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
  5.  Use the Install Package(s) option and select the package LBR*2.5*11.
  
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          YES//', answer NO (unless otherwise indicated).
  
      b.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//', answer NO.
  
  6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
     
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.

Routine Information:
====================

Routine Name:
  - LBRYSEND


Routine Checksum:

=============================================================================
User Information:
Entered By  : ROSSON,JERRY                  Date Entered  : OCT 02, 2003
Completed By: ILUSTRISIMO,LUCY              Date Completed: APR 14, 2004
Released By : MORRIS,DELISA                 Date Released : APR 20, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
