$TXT Created by ROWE,KIMBALL at OEX.ISC-SLC.VA.GOV  (KIDS) on WEDNESDAY, 12/17/97 at 14:11
=============================================================================
Run Date: DEC 23, 1997                     Designation: LEX*2*8
Package : LEX - LEXICON UTILITY               Priority: Mandatory
Version : 2         SEQ #8                     Status: Released
=============================================================================

Associated patches: (v)LEX*2*4     <<= must be installed BEFORE `LEX*2*8'
                    (v)LEX*2*6     <<= must be installed BEFORE `LEX*2*8'

Subject: LEXICON ICD-9 UPDATE

Category: 
  - Routine
  - Enhancement (Mandatory)

Description: 
============

 This patch includes data and routines.
   
 FIXES/ENHANCEMENTS
 ==================
   
     1)  Updated ICD-9-CM codes/terms for 1998 (NOIS LON-1297-60833).
  
     2)  If a previous copy of the ^LEXM import global exists on the
         system, it should be killed before attempting to load and install
         this patch (NOIS GRI-1197-41863).
  
     3)  Import global ^LEXM altered to prevent mismatch between 
         import global host file and KIDs build.
  
     4)  Post-install routines (LEXXST*) have been altered to return
         the build name of current install and to include a 4 digit 
         year compliant with Project Year 2000 (Y2K) in the post
         installation message.
  
 ROUTINES/CHECKSUMS
 ==================
   
     The following routines are included in this patch.  The second 
     line of each routine now looks like:
    
       <tab>;;2.0;LEXICON UTILITY;**[Patch List]**;Sep 23, 1996
    
  
           Routine   [Patch List]    Old Checksum     New Checksum
   
           LEXXST       4,5,8          17643709         19814563
           LEXXST2      4,5,8          10257688         10265987
           LEXXST3      4,5,8           8093268          8320614
        *  LEX208         8               New           12981043
  
           * Environment Check, Pre-Install and Post-Install
             for patch LEX*2*8
  
 DATA
 ====
   
       Revision Number:       4
  
       Files Updated:         6
  
          757      Major Concept Map
          757.001  Concept Usage
          757.01   Expressions
          757.02   Codes
          757.1    Semantic Map
          757.21   Subsets
  
 FTP SOFTWARE RETRIEVAL
 ======================
   
     Global Host File:                  LEX2_0P8.GBL  (ASCII)
   
     FTP Address and Directory:
   
         Hines         152.129.1.110    [ANONYMOUS.SOFTWARE]
         Albany        152.127.1.5      [ANONYMOUS.SOFTWARE]
         Salt Lake     152.131.2.1      [ANONYMOUS.SOFTWARE]
  
 INSTALLATION INSTRUCTIONS
 =========================
   
     1)   Users may be on the system during the install of LEX*2*8.
   
     2)   Make sure that the remnants of a previous import global does
          not exist on your system.  If the ^LEXM global is found on
          your system, you will have to kill this global before proceeding.
  
          To kill the unsubscripted global ^LEXM:
  
              DSM    
  
                  K ^LEXM
  
              Open M
  
                  The prevention of unsubscripted global kills is a 
                  system wide setting, but can be allowed for a particular
                  process using the $ZU command.  The command for enabling 
                  unsubscripted global kills is:
  
                      VAH>S X=$ZU(68,28,0)
                      VAH>K ^LEXM
  
                  The command for disabling unsubscripted kills for a 
                  process is S X=$ZU(68,28,1), however, halting out of 
                  the process and creating a new process will achieve 
                  the same effect.
  
  
     3)   Install the data from the global host file LEX2_0P8.GBL.  This 
          file contains the Lexicon Utility's Maintenance Global ^LEXM.
   
          DSM
  
              Use ^%GTI and the input device LEX2_0P8.GBL
  
          Open M
  
              We recommend that the GUI Thin Client be used to 
              restore the global.  Be sure to select the VAH 
              namespace in the "Global Utilities" window.  Make sure
              that you select the global host file LEX2_0P8.GBL 
              (File / Open) before changing the file format.  With
              the namespace and file selected, change the restore 
              file format to VAX DSM.
  
              Using the GUI utilities will prevent an <ENDOFFILE> 
              error when restoring a global saved under DSM  (usually
              seen when using the CHUI %GI utility to restore a DSM 
              global).
  
          The loading of the global should take from 3 to 10 seconds.
   
     4)   Turn journaling off for globals ^LEX, ^LEXT and ^LEXM.
  
          DSM
       
              Use ^%GLOMAN
              For the globals ^LEX, ^LEXT and ^LEXM
              Select "Change Journaling Capabilities"
              Select "D" for "Disabled"
  
          Open M
  
              We recommend using the GUI System Operations Utilities.  
              Select the database where the globals ^LEX, ^LEXT and
              ^LEXM reside using the Databases tab (to find out where
              a global resides use the GUI global utility directory 
              tab).  Then select Action / Database / Global attributes
              menu item.  In the Attributes and Journaling window, 
              click on the "Globals" button.  Select the globals ^LEX,
              ^LEXT and ^LEXM (note the "All Globals" check box needs
              to be unmarked to select a specific global).  Make sure
              the check box under the column heading "Journal" is 
              unmarked for the ^LEX, ^LEXT and ^LEXM globals and then
              click "OK."
  
     5)   Set up user and IO variables (D ^XUP) for programmer access.
   
     6)   Distribution Load:
   
          Load the Distribution from the Packman Message using the 
          Packman function "Install/Check Message."
   
          Environment Check:  
  
              Only package components and system variables will be 
              checked during the loading of the transport global.
   
     7)   KIDS Installation:
   
          Install the patch using the KIDS Installation Menu action
          "Install Package(s)" and the install name LEX*2.0*8.  The
          KIDS installation should take from 30 seconds to 1.5 minutes 
          (with journaling off) depending on the number of users/jobs 
          on the system.
   
          Environment Check:  
  
              During the installation environment check the import 
              global ^LEXM will be verified by build namespace and 
              checksum.  This is to insure that the correct import
              global is loaded and that all of the data contained
              in the import global arrived at your site during the 
              FTP transfer.  If you have inadvertently loaded the
              wrong import global or the global fails the checksum,
              the install will stop and you will need to FTP another
              copy of the import global ^LEXM (see the section on FTP
              Software Retrieval and step 3 of the Installation
              Instructions).
               
          Disable Options:
   
              Respond "NO" at the "Want to DISABLE Schedule 
              Options, Menu Options, and Protocols?" prompt.
   
     8)   Cleanup
   
          a)  Kill the unsubscripted global ^LEXM:
  
              After the installation of this patch the you will need to
              kill the "unsubscripted" import global ^LEXM to prevent
              import global checksum errors on future installations.
              (see step 2 for "unsubscripted" kills)
  
          b)  If journaling was turned off in step 4 for the ^LEX and
              ^LEXT globals, turn journaling back on.
  
              DSM
  
                  Same instructions as in step 4 except select "E"
                  for "Enabled"
  
              Open M
  
                  Same instructions as in step 4 except make sure the
                  check box under the column heading "Journal" is 
                  marked for the ^LEX and ^LEXT globals.
  
          c)  Purge all routines in the LEX20* namespace (these are 
              v 2.0's environment check, pre-install and post-install
              routines).

Routine Information:
====================

Routine Name:
  - LEXXST

 Fixes undefined variable @LEXX reported during installation of patch
 LEX*2.0*6.  Manually computes the last internal entry number (IEN) of
 the file being checked.  Reports inconsistencies between the computed
 last IEN and the 4th piece of the file's 0 node. 
 
 Revision date in the installation message has been changed to include
 a 4 digit year to comply with Project Year 2000 (Y2K).

Routine Checksum:
19814563

Routine Name:
  - LEXXST2

 Excludes environment check, pre-install and post install routines
 from being listed in the Lexicon Status message.

Routine Checksum:
10265987

Routine Name:
  - LEXXST3

 Excludes environment check, pre-install and post install routines
 from being listed in the Lexicon Status message.

Routine Checksum:
8320614

=============================================================================
User Information:                               
Entered By  : ROWE,KIMBALL                   Date Entered : DEC 07, 1997
Completed By: REDINGTON,PATRICK             Date Completed: DEC 22, 1997
Released By : SAUNDERS,TOM                  Date Released : DEC 23, 1997
=============================================================================


Packman Mail Message:
=====================

$END TXT
