$TXT Created by SAUNDERS,ANGELA at BAY.FO-ALBANY.MED.VA.GOV  (KIDS) on THURSDAY, 01/09/03 at 10:11
=============================================================================
Run Date: JAN 17, 2003                     Designation: SD*5.3*275
Package : SD - SCHEDULING                      Priority: Mandatory
Version : 5.3       SEQ #249                     Status: Released
                  Compliance Date: FEB 17, 2003
=============================================================================


Subject: SCHEDULING REPLACEMENT APIs RELEASE 2

Category: 
  - Routine

Description: 
============

 **INSTALLATION OF THIS PATCH IS TRANSPARENT TO USERS**
  
 PURPOSE OF THE PATCH
 ====================
  
 This patch contains the second release of a series of APIs that will 
 be used to integrate M-based Class I, Class III and local applications
 with the Government Off-the-Shelf (GOTS) Scheduling application being
 developed by the Scheduling Replacement team.
  
 NOTE: 
 All elements of the APIs are re-released in this patch, so there are no
 required patches that need to be installed before this one.
  
  
 Changes from API Release 1 (SD*5.3*253)
 =======================================
  
 All 4 APIs are changed as follows:
  
   Two new data elements are available:
     1. CHECK-OUT DATE/TIME
     2. PATIENT STATUS
  
   Inpatient appointment data is available and a new Patient Status
   filter parameter, SDIOSTAT, has been added.  This filter allows
   the calling application to request appointment data for Inpatient, 
   Outpatient, or both patient types.  The previous release of these APIs
   returned outpatient appointment data only.  Please refer to the release
   notes for further details on this new parameter.
  
   Two additional error codes have been added:
     1. INVALID PATIENT STATUS FILTER
     2. APPT STATUS AND PATIENT STATUS FILTER COMBINATION UNSUPPORTED IN
        VISTA
  
  
 The NEXTAPPT API has been changed as follows:
  
   A null or undefined value (default) of the appointment status filter, 
   SDAPSTAT, has been changed to indicate that 'all' appointment statuses are
   requested (scheduled/kept, cancelled, and no-show).
  
  
 OVERVIEW
 ========
  
 The APIs return scheduled/kept appointments, cancelled appointments, and
 no-show appointments.  
  
 The APIs contained in this patch will replace other methods of
 accessing the patient appointment information stored in the 
 Patient sub-file(2.98) and the Hospital Location sub-files 
 (44.001, 44.003).  During implementation of the new GOTS Scheduler, this 
 appointment information will be moved to the GOTS database and 
 deleted from the Scheduling files.
  
 The APIs are designed to be 'flexible' and will switch from the old 
 database source (VistA Scheduling files) to the new database source (GOTS
 SQL tables) without re-programming the requesting application.  Any 
 hard-coded or Fileman references to Scheduling globals in routines or data
 dictionaries that are not replaced with one of the APIs will cause the
 application to error.
  
 This patch is being released now so that applications that are using 
 the patient appointment information stored in the Scheduling files can be 
 redesigned to use the APIs in place of direct global/file references.
  
 The APIs published in this patch return selected patient appointment data
 within a user-specified date range by Patient or by Clinic.  The following
 appointment information can be requested:
         - APPOINTMENT DATE/TIME
         - CLINIC ID
         - CLINIC NAME
         - APPOINTMENT STATUS
         - PATIENT ID
         - PATIENT NAME
         - LENGTH OF APPOINTMENT
         - COMMENTS
         - ELIGIBILITY OF VISIT ID
         - ELIGIBILITY OF VISIT NAME
         - OVERBOOK
         - CHECK-IN DATE/TIME
         - APPOINTMENT TYPE ID
         - APPOINTMENT TYPE NAME
 NEW==>  - CHECK-OUT DATE/TIME
 NEW==>  - PATIENT STATUS
  
  
 More fields may be added in future releases.
  
 An updated file, SDAM DATA MAP (44.3), is included in this patch to hold the
 information necessary to retrieve the data. 
  
  
 The following documentation is available
  
   SD_53_275RN.DOC - Scheduling Replacement API Release Notes
  
   NOTE: The document is in binary format so it must be transferred in
   binary, not ASCII, mode.
   
   To download from the first available FTP server, use FTP location
   download.vista.med.va.gov
  
   Or any of the following may also be used to download directly from a
   particular FTP location
   
   ALBANY             ftp.fo-albany.med.va.gov
   HINES              ftp.fo-hines.med.va.gov
   SALT LAKE          ftp.fo-slc.med.va.gov  
    
   The file is available in the SOFTWARE sub-directory.
  
   
 ROUTINES INCLUDED IN THIS PATCH
 ===============================
 SDAMA200 - Contains parameter validation and a list of error codes
            used by SDAMA201 and SDAMA202
 SDAMA201 - Contains APIs GETAPPT and NEXTAPPT
 SDAMA202 - Contains APIs GETPLIST and GETALLCL
  
  
 GLOBAL INCLUDED IN THIS PATCH
 =============================
 ^SDAM(44.3) SDAM DATA MAP.  This file contains logic to retrieve the data
 fields requested by the calling application.  It is a control file and
 should not be modified.
  
   
 APIs
 ====
 GETAPPT  - retrieves appointment data for a patient ID
 GETPLIST - retrieves appointment data for a clinic ID
 NEXTAPPT - retrieves "next appointment" data for a patient ID
 GETALLCL - retrieves appointment data for all clinics associated with a facility
   
   
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
   
     <tab>;;5.3;Scheduling;**[patch list]**;Aug 13, 1993
   
                             CHECK^XTSUMBLD results
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
   
 SDAMA200               5085795              6342578             253,275
 SDAMA201               7129822              8160888             253,275
 SDAMA202               8069717              8601639             253,275
  
                        Number of Routines = 3
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch should be installed during non-peak hours.  Installation will 
 take less than 5 minutes.
   
   
   1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu
   
   2.  Review your mapped set.  If any of the routines listed in the
       ROUTINE SUMMARY section are mapped, they should be removed
       from the mapped set at this time
   
   3.  From the Kernel Installation and Distribution System Menu, select
       the Installation menu
   
   4.  From this menu, you may elect to use the following options
       (when prompted for INSTALL NAME, enter SD*5.3*275):
         a.  Backup a Transport Global - this option will create a backup
             message of any routines exported with the patch.  It will NOT
             backup any other changes such as DDs or templates.
         b.  Compare Transport Global to Current System  - this option will
             allow you to view all changes that will be made when the patch
             is installed.  It compares all components of the patch
             (routines, DDs, templates, etc.).
         c.  Verify Checksums in Transport Global - this option will
             allow you to ensure the integrity of the routines that are in
             the transport global.
   
   5.  Use the Install Package(s) option and select the package SD*5.3*275
   
   6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
       YES??//',respond NO
   
   7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', respond NO
   
   8.  If routines were unmapped as part of step 2, they should be
       returned to the mapped set once the installation has run to
       completion

Routine Information:
====================

Routine Name:
  - SDAMA200


Routine Checksum:
6342578

Routine Name:
  - SDAMA201


Routine Checksum:
8160888

Routine Name:
  - SDAMA202


Routine Checksum:
8601639

=============================================================================
User Information:                               
Entered By  : SAUNDERS,ANGELA C             Date Entered : DEC 06, 2002
Completed By: WOLF,ED                       Date Completed: JAN 15, 2003
Released By : PURSCHE,DONNA                 Date Released : JAN 17, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
