$TXT Created by CARPENTER,TERRY at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 04/10/07 at 12:11
=============================================================================
Run Date: JUN 22, 2007                     Designation: LR*5.2*369
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #286                    Status: Released
                  Compliance Date: JUL 23, 2007
=============================================================================

Associated patches: (v)LR*5.2*258  <<= must be installed BEFORE `LR*5.2*369'
                    (v)LR*5.2*272  <<= must be installed BEFORE `LR*5.2*369'
                    (v)LR*5.2*336  <<= must be installed BEFORE `LR*5.2*369'
                    (v)LR*5.2*357  <<= must be installed BEFORE `LR*5.2*369'

Subject: MULTIPLE CORRECTIONS TO THE LAB SERVICE PACKAGE

Category: 
  - Routine

Description:
============

 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*369 does not 
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
 DIRECTIVE 2004-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*369 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*369 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 **************************************************************************
  
 This patch corrects several issues in the Lab Service package.
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1. HD69406  - NLT Mapped Code Search (LRCAP64S)
 2. HD69700  - ERROR - <INVSUBSCR>LOOP+2^LRDRAW
 3. HD173801 - AP Electronic Signature(Patch LR*5.2*259)
 4. HD172546 - Special Report Problem
 5. HD69689  - LRSORA2 Combining data for pts with same name
  
  
 Testing Sites:
 ==============
 N. CA HCS
 N. FL/S. GA HCS
 Oklahoma City VAMC
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
  
 Problem (1):  HD69406 - NLT Mapped Code Search (LRCAP64S)
 ------------
 When using the option NLT MAPPED CODE SEARCH and printing the report to
 the screen, the report does not quit when an "^" is entered as the Help
 Text indicates.
  
 Solution:
 ---------
 Modify routine LRCAP64S to quit the report when printing to the screen and
 an "^" is encountered at the prompt "Enter RETURN to continue or "^" to
 exit".
  
 Routine:  LRCAP64S
  
  
 Problem (2):  HD69700 - ERROR - <INVSUBSCR>LOOP+2^LRDRAW
 ------------
 In option LRNODRAW, a response to the prompt "Select PATIENT LOCATION:"
 which is over 256 characters causes a <SUBSCRIPT> error.
  
 Solution:
 ---------
 Modify LRDRAW to reject any response that does not contain between 2
 and 30 alphanumeric characters which is what FileMan allows.
  
 Routine:  LRDRAW
  
  
 Problem (3):  HD173801 - AP Electronic Signature(Patch LR*5.2*259)
 ------------
 There is a need for dentists who are board certified in Oral Maxofacial
 Pathology to have access to electronic signature.  Currently this Person
 Class is not able to use Electronic Signature.
  
 Solution:
 ---------
 Modify routine LRAPRES1 to allow users with a Person Class of DENTIST and
 a VA code of V030503 to have access to Electronic Signature.
  
 Routine:  LRAPRES1
  
  
 Problem (4):  HD172546 - Special Report Problem
 ------------
 Menu option LRSORA (Search for high/low values of a test) requires a date
 range.  When the date range includes a future year which has no orders on
 file, the option loops back to the date range prompt with no explanation.
  
 Solution:                              
 ---------
 Modify routine LRSORA to display the message, "No data for the year
 selected", when the above situation occurs so that the user can enter 
 a different date range or exit the option.
  
 Routine:  LRSORA
  
  
 Problem (5):  HD69689 - LRSORA2 Combining data for pts with same name
 ------------
 In option LRSORA (Search for high/low values of a test), the results
 for 2 persons with the same name are showing up together as if there
 is only one patient.
  
 Solution:
 ---------
 Modify routine LRSORA2 to report on each Patient Name/SSN separately
 so that results for 2 patients with the same name will display with
 a break between the 2 patients clearly indicating that these are
 separate patients.
  
 Routine:  LRSORA2
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 The install time for this patch is less than 2 minutes.  This patch can be
 installed when Laboratory users are on the system.
  
 NOTE: Kernel patches must be current on the target system
       to avoid problems loading and/or installing this patch.
  
   1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   2.  The patch has now been loaded into a Transport global on your
       system.  You now need to use KIDS to install the transport global.
  
   3.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   4.  Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   5.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
       If you wish to preserve a copy of the routines exported in this 
       patch prior to installation, you should use the 'Backup a Transport
       Global' option at this time.  You may also compare the routines in
       your production account to the routines in the patch by using the
       'Compare a Transport Global to Current System' option.
  
   6.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LR*5.2*369'.
  
       If prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//,
       choose 'NO'.
  
       If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', choose 'NO'.
  
  
 ROUTINE SUMMARY:
 ================
 The following routines are included in this patch.  
 The second line of each of these routines now looks like:
   
            <tab> ;;5.2;LAB SERVICE;**[patchlist]**;Sep 27, 1994
   
  
                             CHECK^XTSUMBLD
  
     Routine Name     Before Patch     After Patch            Patch List
     ------------     ------------     ------------     ----------------
     LRAPRES1              7810295          8060575          259,336,369
  
     LRCAP64S              4824368          4891235              258,369
  
     LRDRAW                8812401          8975398      121,190,272,369
  
     LRSORA                7850534          8318131          344,357,369
  
     LRSORA2               3614713          3615254     2,62,201,272,369

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: LRAPRES1
    Before: B41479483   After: B43595923  **259,336,369**
Routine Name: LRCAP64S
    Before: B10561887   After: B10776643  **258,369**
Routine Name: LRDRAW
    Before: B13018094   After: B13380662  **121,190,272,369**
Routine Name: LRSORA
    Before: B27384582   After: B28201937  **344,357,369**
Routine Name: LRSORA2
    Before: B18842054   After: B18844521  **2,62,201,272,369**
 
Routine list of preceding patches: 258, 272, 336, 357

=============================================================================
User Information:
Entered By  : CARPENTER,TERRY               Date Entered  : JAN 23, 2007
Completed By: WERNER,GARY                   Date Completed: JUN 18, 2007
Released By : CURTIS,SEAN                   Date Released : JUN 22, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
