$TXT Created by BAUMAN,HELENE at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 04/21/05 at 11:33
=============================================================================
Run Date: JUN 06, 2005                     Designation: XM*8*30
Package : XM - MAILMAN                        Priority: Mandatory
Version : 8        SEQ #30                      Status: Released
                  Compliance Date: JUL 07, 2005
=============================================================================


Subject: MAIL MESSAGES TOO LONG AND GETTING REQUEUED

Category: 
  - Routine

Description:
============

 This patch resolves an issue with too much data being sent in a single
 message to the SMTP virus server, med.va.gov.  The error code that is 
 being sent from the virus server is 552.   Mailman reacts to this 
 error code and re queues the message with an error code of 552 (too 
 much data).  Mailman should remove the message from the delivery queue
 altogether.
   
  ASSOCIATED E3R(s):
  ==================
  N/A
  
  ASSOCIATED REMEDY:
  ==================
  HD0000000064620- Mail Messages too long
  (NOIS call ISP-0105-N0332)
   
 
  PARTICIPATING TEST SITES:
  =========================
  Cheyenne, WY
  Columbus, OH
  Cincinnati, OH
  Detroit, MI
    
  REMEDY OVERVIEW:
  ===============
  HD0000000064620-  Mail Messages too long
   
   Problem:
   --------
   When the SMTP virus server sends a "message too long" error to MAILMAN,
   the message clogs the system, remaining in the queue.
    
   Resolution:
   -----------
   This patch will remove the message from the delivery queue.
  
    
  TECHNICAL:
  ==========
  HD0000000064620   Mail Messages too long
   
    When a message is too long, SMTP virus server sends back a 552 
    messages. This code is processed as though it were a mail error.  
    Adding 552, the error handling for 551, 554 and 555, will solve 
    this problem.
  
   
  ROUTINE SUMMARY 
  ===============
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
             <tab>;;8.0;MailMan;**[patch list]**;Jun 28, 2002
  
                              CHECK^XTSUMBLD results
   Routine name      Before Patch          After Patch         Patch List
   ============      ============          ===========         ==========
   XMS1              9572683               9583258                  30
  
  
 INSTALLATION INSTRUCTIONS
 =========================
  This patch can be installed at any time.  Users do not need to be off
  the system.  Installation time will be less than 2 minutes.
   
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
                                
  2.  (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
   
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
   
  3.  Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
                          
            Edits and Distribution ...  
            Utilities ...
            Installation ...  
                                    
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
    
      1      Load a Distribution
      2      Verify Checksums in Transport Global
      3      Print Transport Global
      4      Compare Transport Global to Current System
      5      Backup a Transport Global
      6      Install Package(s)
             Restart Install of Package(s)
             Unload a Distribution
      
  4.  From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter XM*8.0*30):
      
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
                    
  5.  Use the Install Package(s) option and select the package XM*8.0*30.
  
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the
          install? YES//', answer NO.
      b.  When prompted 'Want to DISABLE Scheduled Options, Menu
          Options, and Protocols? YES//' answer NO.
        
  6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
  
      NOTE: This step is only necessary if you performed step 3 or if
      you wish to include the routines in your mapped set.
   
 INSTALLATION EXAMPLE:
 =====================
 Select INSTALL NAME:  XM*8.0*30   Loaded from Distribution  5/7/03@14:21:46
      => XM*8.0*30
   
 This Distribution was loaded on May 07, 2003@14:21:46 with header of 
    XM*8.0*30
    It consisted of the following Install(s):
      XM*8.0*30
 Checking Install for Package XM*8.0*30
   
 Install Questions for XM*8.0*30
   
   
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
   
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
   
 DEVICE: HOME//   UCX/TELNET
      
  Install Started for XM*8.0*30 : 
                May 07, 2003@14:22:39
   
 Build Distribution Date: May 07, 2003
  
  Installing Routines:
                May 07, 2003@14:22:39
  
  
  Updating Routine file...
  
  
  XM*8.0*30 Installed. 
                May 07, 2003@14:22:40
  
  Install Message sent #406071
 ----------------------------------------------------------------------------
           +------------------------------------------------------------+
   100%    |             25             50             75               |
 Complete  +------------------------------------------------------------+
   
 Install Completed

Routine Information:
====================

Routine Name:
  - XMS1


Routine Checksum:

=============================================================================
User Information:
Entered By  : BAUMAN,HELENE                 Date Entered  : OCT 01, 2004
Completed By: TSAIMEUCHONG,BRENDA           Date Completed: JUN 06, 2005
Released By : NOSS,ROD                      Date Released : JUN 06, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
