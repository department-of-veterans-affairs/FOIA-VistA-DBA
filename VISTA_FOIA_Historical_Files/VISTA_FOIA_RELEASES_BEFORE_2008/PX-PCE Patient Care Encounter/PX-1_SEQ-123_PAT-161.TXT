$TXT Created by BECKWITH,RALPH at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 04/12/05 at 16:02
=============================================================================
Run Date: JUN 27, 2005                     Designation: PX*1*161
Package : PX - PCE PATIENT CARE ENCOUNTER     Priority: Mandatory
Version : 1       SEQ #123                      Status: Released
                  Compliance Date: JUL 28, 2005
=============================================================================

Associated patches: (v)PX*1*160    <<= must be installed BEFORE `PX*1*161'

Subject: CHANGE DATE ACTION GIVES WRONG CENTURY/PATIENT EXPIRED WARNING

Category: 
  - Routine

Description:
============

 
 1. When viewing clinic appointments through PCE Encounter options 
    [PXCE ENCOUNTER*], using the Change Date (CD) action with a future date into
    the next year (MM/DD/YY) the system returns a date with century 1900.
  
 2. After using the Select Patient (SP) action to select a live patient, if the
    user switches to a patient that is expired, then tries to up arrow (^) out,
    an 'undefined' error occurs.  
    
    Also, when using Select Patient (SP) action after selecting live patient, if
    the user switches to an expired patient, and hits the return key to accept
    the expired note, this causes the expired message to hang there with no
    escape. This happens because DIR variables are lost when control returns to
    the PX* routines after using the 3M Coding action.
 
  
 Associated NOIS:
 ===============
 1)  HD64502  BRX-1204-10690  Change date returns invalid century
  
 2)  HD64304  MAD-1004-40921 Undefined variable 'PXCEPAT'
  
  
 ASSOCIATED E3RS:
 ===============
 N/A
  
  
 PARTICIPATING TEST SITES:
 ========================
 BLACK HILLS HCS
 BRONX, NY
 MADISON, WI
  
 
 NOIS OVERVIEW:
 =============
 1.  HD64502  BRX-1204-10690  Change date returns invalid century
  
     Problem:
     ------------
     When using the Change Date (CD) action on the PXCE Encounter
     options to view appointments,  entering a future date in next year will
     return a date with 1900 century.
  
     Resolution:
     ----------    
     Modify routine PXCEDATE to handle a future 2-digit year appropriately
     by returning the correct century.
  
  
 2.  HD64304  MAD-1004-40921 Undefined variable 'PXCEPAT'
  
     Problem:
     -------
     Undefined variable when patient expired notice appears after
     using Change Patient (SP) action any place in PXCE Encounters options. Also,
     when returning from 3M using change patient and receiving expired notice
     will cause 'hit return' to be inoperable.
  
     Resolution:
     ----------
     Modify routines PXCEPAT,PXCE to handle up-arrow and 'hit return'
     options when receiving 'expired patient' notice after selecting
     new patient with Change Patient action.
  
  
 ROUTINE SUMMARY:
 ===============
 The following is a list of the routine(s) included in this patch. The
 second line of each of these routine(s) will look like:
  
      <tab>;;5.3;PCE PATIENT CARE ENCOUNTER;**[patch list]**;AUG 13 1993
  
                             CHECK^XTSUMBLD results
  Routine name       Before Patch     After Patch    Patch List
  ============       ============     ===========    ==========
  PXCE                11857361        11931076       25,47,52,64,75
                                                      78,147,151,161
  PXCEDATE             1084934         1083932       47,161
  PXCEPAT              7015479         7295275       1,5,14,30,70
                                                      147,160,161
  
  
 INSTALLATION INSTRUCTIONS:
 ========================== 
 Users should be off the system during installation
  
 Installation should take less than 5 minutes.
  
 1.  LOAD TRANSPORT GLOBAL
     ---------------------
     Choose the PackMan message containing this patch and invoke the
     INSTALL/CHECK MESSAGE PackMan option.
  
 2.  DISABLE ROUTINE MAPPING   (DSM for Open VMS sites only)
     -----------------------
     Disable routine mapping on all systems for the routines listed in
     the routine summary.
  
     NOTE:  If the routines included in this patch are not currently in
     your mapped routine set, please skip this step.
  
 3.  START UP KIDS
     -------------
     Start up the Kernel Installation and Distribution System Menu
     [XPD MAIN]
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
     Select Kernel Installation & Distribution System Option:  INStallation
                                                               ---
  
     1     Load a Distribution
     2     Verify Checksums in Transport Global
     3     Print Transport Global
     4     Compare Transport Global to Current System
     5     Backup a Transport Global
     6     Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter PX*1.0*161):
  
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with the patch.  It will NOT
         backup any other changes such as DDs or templates.
  
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch
         (routines, DDs, templates, etc.).
  
     c.  Verify Checksums in Transport Global - This option will ensure
         the integrity of the routines that are in the transport global.
  
 5.  Use the Install Package(s) option and select the package PX*1.0*161.
  
     a.  When prompted "Want KIDS to INHIBIT LOGONS during the
         install? YES//" respond NO.
  
     b.  When prompted "Want to DISABLE Scheduled Options, Menu
         Options, and Protocols? YES//" respond YES.
  
         1) When prompted "Enter options you wish to mark as "Out of
            Order:" enter the following options:
  
       PXCE ENCOUNTER DATA ENTRY       PCE Encounter Data Entry
       PXCE ENCOUNTER ENTRY & DELETE   PCE Encounter Data Entry and Delete 
       PXCE ENCOUNTER ENTRY NO DELETE  PCE Encounter Data Entry w/o Delete 
       PXCE ENCOUNTER ENTRY SUPER      PCE Encounter Data Entry - Supv
       PXCE ENCOUNTER VIEWER           PCE Encounter Viewer 
  
         2) When prompted "Enter protocols you wish to mark as "Out of
            Order":" just press <Return>.
  
 6.  BUILD MAPPED ROUTINES(S)   (DSM for Open VMS sites only)
     ------------------------
     Optional - Include the routines distributed with this patch in
     the mapped routine set.
  
     NOTE:  This step is only necessary if you performed step 2 or if
     you wish to include the routine(s) in your mapped set.

Routine Information:
====================

Routine Name:
  - PXCEDATE


Routine Checksum:

Routine Name:
  - PXCEPAT


Routine Checksum:

Routine Name:
  - PXCE


Routine Checksum:

=============================================================================
User Information:
Entered By  : BECKWITH,RALPH                Date Entered  : DEC 14, 2004
Completed By: ANDERSON,MAXINE               Date Completed: JUN 21, 2005
Released By : HEUER,CINDY                   Date Released : JUN 27, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
