$TXT Created by TRAXLER,FRANK at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Thursday, 10/09/03 at 10:39
=============================================================================
Run Date: OCT 28, 2003                     Designation: GMRV*5*1
Package : GMRV - GEN. MED. REC. - VITALS      Priority: Mandatory
Version : 5         SEQ #1                      Status: Released
                  Compliance Date: NOV 28, 2003
=============================================================================


Subject: PULSE OXIMETRY FIXES

Category: 
  - Routine
  - Other

Description:
============

 Associated NOIS: 
  BHS-1202-10197
  BHS-0303-10777
  CLE-0403-41975
  FRE-0603-62196
  HWH-1102-40996
  HWH-0203-41276
  ISH-1102-42317
  ISH-0403-41148
  ISH-0403-41151
  ISH-0403-41153
  ISH-0403-41154
  ISH-0603-40870
  ISH-0903-41504
  ISH-0903-42293
  LAH-1202-60206
  LEX-0803-41934
  MAD-0303-41042
  PRE-1202-60552
  RIC-1202-20565
  RIC-0103-22002
  RIC-0103-22008
  SAJ-0503-70091
  WCO-1102-51956
  
 Associated E3Rs: 18092
  
 Test Sites:
 ===========
  Boston VAMC
  Cleveland VAMC
  Heartland-West HCS
  Lexington VAMC
  Madison VAMC
  Philadelphia VAMC
  Prescott VAMC
  Richmond VAMC
  San Juan VAMC
  VA Greater Los Angeles HCS
  Washington VAMC
  White City VAMC 
  
  
 The following problems are fixed:
  
 1) A facility placed the Pulse Oximetry vital type on an input template. 
 When entering data for a patient, the user clicked on the dropdown list of
 qualifiers for Pulse Oximetry and no qualifiers appeared in the list. All
 qualifiers for Pulse Oximetry are associated with the vital category
 called METHOD. The METHOD category is used to build the qualifier list for
 Pulse Oximetry. The software is looking for the METHOD category using an
 internal entry number (IEN) that is not the same IEN in the local
 database. After this patch, the software will find the correct IEN from
 the local database and use it. [HWH-1102-40996]
  
 Routines: GMVUTL8, GMVLAT0
  
 2) A facility placed the Pulse Oximetry vital type on an input template. A
 user entered a value for Pulse Oximetry. The user clicked on the dropdown
 list associated with Pulse Oximetry. The user entered a value for O2
 Concentration and did not change the default qualifier (labeled Method).
 No value was entered for Flow Rate. The user saved the data. The software
 did not save the default qualifier. The software only saves the qualifier
 when the user changes the qualifier. After this patch is installed, the
 software will save the qualifier selected regardless if it is the default
 qualifier or not. [ISH-1102-42317]
  
 Routines: GMVLAT0
  
 3) In the M code, three instances of naked references appear without being
 preceded with the appropriate full reference defining it or comment to
 document it. This violates the Standards and Conventions (SAC) rules 
 (2.2.10). After this patch, the naked references will be replaced with the
 full reference. [ISH-0403-41153]
  
 Routines:  GMVHB3 - Used to print the B/P Plotting Chart report to a
                     HP LaserJet printer.) 
            GMVGR1 - Used to print the Vitals Signs Record report to a 
                     Kyocera printer.)
           GMVRPCM - Returns a list of qualifiers associated with a
                     vital type and category in the Manager Module.
  
 4) Several routines were distributed that are not being used. These
 routines will be deleted. [ISH-0403-41151]
  
 Routines: GMVTBL0, GMVTBL1, GMVTBL2, GMVTBL3, GMVTBL4, GMVUTL5
  
 5) Two routines included comments that incorrectly documented the use 
 of Integration Agreements (IAs) that are not being used. After this patch,
 those routine comments will be accurate. [ISH-0403-41154]
  
 Routines: GMVCLIN, GMVRPCP
  
 6) A facility reported that the Pain vital type is not showing up 
 properly on the templates they create. The software is using Internal 
 Entry Numbers (IENs) to look up the vital types in FILE 120.51. These 
 IENS may not be the same at every facility. After the patch is installed, 
 the software will get the IENs from the local FILE 120.51.
 [LAH-1202-60206]
  
 Routines: GMVRPCM, GMVUTL8
  
 7) A user invokes the CPRS package, selects a patient and invokes the
 Vitals GUI from the CPRS Tools Menu. The Vitals GUI opens with the patient
 selected. If the user wants to select a different patient they must go
 back to the CPRS GUI to do so. The user should not be able to select a
 patient within the Vitals GUI when it is called from the CPRS GUI.
 However, if the user uses the CTRL + O shortcut, they can open the Vitals
 patient selector. After this patch is installed, that shortcut will not
 work when the Vitals GUI is invoked by the CPRS GUI. [BHS-1202-10197]
  
 Routines: N/A
  
 8) A user selects a patient, invokes the "Enter Vitals" button and enters
 the Vitals Input screen. On the input template, the user can click the U
 or R boxes to gray out a vital type so that a numerical value cannot be
 entered for that vital type. If the user grays out any vital type other
 than the first, enters a value for the vital type prior to the one that is
 grayed out, and presses the ENTER key to go on to the next value (i.e.,
 the next value is one that is grayed out) an error message states "Cannot
 focus a disabled or invisible window". After this patch is installed,
 pressing the ENTER key will not generate an error message.
 [RIC-0103-22002]
  
 Routines: N/A
  
 9) The user selects a patient, invokes the "Enter Vitals" button and 
 enters the Vitals Input screen. The Temperature vital type must be on the
 input template. The default unit of measurement must be C or the user must
 change it to C before entering the Temperature reading. The user then
 enters a value greater than 48. An error message appears stating "The
 value you have entered is out of range for this vital. Please enter a
 value between 45 and 120". The error message is incorrect. After this
 patch is installed, the Temperature field will display the correct error
 message if the unit of measurement is C. The new error message when the 
 unit of measurement is C will be "The value you entered is out of range 
 for this vital. Please enter a value from 7.2 to 48.9" [RIC-0103-22008]
  
 Routines: N/A
  
 10) The user selects an outpatient, invokes the "Enter Vitals" button and
 enters the Vitals Input screen. The user does not select a hospital
 location, but does enter some vitals data for the patient and saves the
 data. The software does not prompt you to enter a hospital location before
 saving the data. After this patch is installed, the software will prompt
 the user to select a hospital location. The data will not save the data
 until one is selected. [MAD-0303-41042]
  
 Routines: N/A
  
 11) The user selects an outpatient, invokes the "Enter Vitals" button and 
 enters the Vitals Input screen. The user invokes the "Date/Time" button 
 and selects a date more than one year old. The previous version (aka roll
 & scroll) prevented an entry greater than one year old. After this patch
 is installed, the user will not be able to select a date more than one
 year old in the GUI. [WCO-1102-51956]
  
 Routines: N/A
  
 12) The user selects a patient, invokes the "Enter Vitals" button and 
 enters the Vitals Input screen. The user invokes the "Save" button 
 without entering any data. The software displays a message stating that 
 no data was entered for that patient which is correct. However, the 
 software asks if the user wants to process the next patient. This is 
 incorrect because the user selected one patient and not a list of 
 patients. After this patch, the correct message will be displayed.
 [ISH-0403-41148]
  
 Routines: N/A
  
 13) After this patch is installed the "Vitals Input" and "Entered in 
 Error" displays will show the name of the user who entered the data. This 
 is an enhancement.
  
 To see the change on the Vitals Input display, select a patient and invoke
 the "Enter Vitals" button. When the Vitals Input screen opens make certain
 the "Latest vitals on file for this patient" portion appears at the bottom
 of the screen. If the latest vitals are not showing, invoke the Latest V.
 button to display them. There is a new column labeled "Entered by" on the
 far right side of the latest vitals display. This column displays the name
 of the user who entered the data.
  
 To see the change on the "Entered in Error" display, select a patient and 
 invoke the Entered in Error option from the File menu. There is a new 
 column labeled "Entered by" on the far right side of the display. This 
 column displays the name of the user who entered the data. [E3R 18092]
  
 Routines: GMVGETD2, GMVLAT0
  
 14) When entering vitals for multiple patients, if the user enters and
 saves data, the yellow check box appears next to the patient's name as it
 should. However, if the user selects a previous patient by clicking on the
 patient's name (for instance if you wanted to see something about that
 patient), but does not need to enter anything, the check box disappears.
 If the person entering vitals did not have the "Latest V." box
 functionality active to display the latest entries at the bottom of the
 input template, it would appear to that user that the vitals may not have
 been saved. After this patch is installed, the check will remain in the
 box next to the patient's name if the user returns to that patient's name.
 [RIC-1202-20565]
  
 Routines: N/A
  
 15) The very first time a user enters the Vitals GUI and selects a
 patient, no previous vitals data appears in the data grid because no date
 range is selected. It is not apparent to the user to select a date range
 to fill the data grid. After this patch is installed, the date range
 default of "T-30" will be used for first time users. [PRE-1202-60552]
  
 Routines: N/A
  
 16) When attempting to select a clinic on the "Vitals User" screen, the
 software displays the following error message:
  
 Error encountered retrieving VistA data.
 Server: BROKERSERVER
 Listener port: 9200
 Remote procedure: GMV MANAGER
 Error is:
 Error encountered.
 Functions was: recv
 Error was: WASEINTR
  
 The software is building the list of clinics for the user to choose from.
 There are so many entries to check when building the list, that the Remote
 Procedure Call (RPC) is timing out before the list is completed. After
 this patch, the RPC will not time out when building the clinic list. The 
 fix to this problem uses the AC cross-reference on FILE 44 to speed up the
 retrieval of entries by type (e.g., clinics). Permission to use the AC
 cross-reference is documented in Integration Agreement #4084.
 [HWH-0203-41276, BHS-0303-10777, CLE-0403-41975, SAJ-0503-70091]
  
 Routines: GMVRPCM
  
 17) In the patient selector portion of the software, the user may select a
 clinic and a date range. The software displays a list of patients who 
 have an appointment in that clinic and within that date range. The list is
 built using direct global reads of nodes in the HOSPITAL LOCATION file
 (#44). The Integration Agreements (IAs) that support these direct global
 reads are retired. After this patch, the list will be built using an
 Application Programming Interface (API) to get the necessary information.
 References to the retired IAs are removed. [ISH-0603-40870]
  
 Routines: GMVCLIN, GMVRPCM, GMVUTL1
  
 18) In the data grid of the Vitals User screen, the software currently
 displays the qualifier value next to the Saturation value for Pulse
 Oximetry. That qualifier value should be displayed with the Flow Rate and
 Oxygen Concentration values on the next line down in the data grid. Also,
 when entering Pulse Oximetry data, the default qualifier value, if there
 is one, should not be saved if there is no Flow Rate or O2 Concentration 
 value.
  
 After this patch, the qualifer value for Pulse Oximetry will be displayed
 next to the Flow Rate and Oxygen Cencentration values in the data grid.
 Also, when entering data, the default qualifier will not be saved if there
 is no Flow Rate value or Oxygen Concentration value. [FRE-0603-62196]
  
 Routines: N/A
  
 19) When entering Pulse Oximetry values for multiple patients and a Flow
 Rate and/or Oxygen Concentration value is entered for a patient, that
 value remains in the input template for the next patient on the list. If
 the user enters a Pulse Oximetry value for the next patient, but no Flow
 Rate or Oxygen Concentration value, the previously entered value is 
 saved. The Flow Rate and Oxygen Concentration values are in a dropdown
 display. The user is not aware that those leftover values are there.
  
 After this patch, the Flow Rate and Oxygen Concentration values will be 
 erased when another patient is selected. [LEX-0803-41934]
  
 Routines: N/A
  
 20) When entering vitals data for several patients, the unit of 
 measurement caption may change on the input template. The user selects
 multiple patients and invokes "Enter Vitals". The input template has vital
 types where the default unit of measurement is metric. Also, the unit of
 measurement is indicated by the checkbox, not the dropdown list. The
 user enters the data for the first patient and invokes "Save". The data is
 saved, the next patient is highlighted, the input template is cleared, but
 the caption next to the vital types changes to the US Customary unit
 (e.g., "lbs") instead of the metric unit (e.g., "kgs"). This can confuse
 the user as to which value should be entered.
  
 After this patch, the correct caption will appear for the units of
 measurement. [ISH-0903-41504]
  
 Routines: N/A
  
 21) If the user enters 1500 lbs for a patient's weight, an error message
 appears stating "The value you entered is out of range for this vital.
 Please enter a value from 0 to 1500".
  
 Also, if the user enters 682 kgs for a patient's weight, an error message
 appears stating "The value you entered is out of range for this vital.
 Please enter a value from 0 to 682".
  
 The error message should not appear when 1500 lbs or 682 kgs is 
 entered as a weight value.
  
 After this patch, the error message will not appear if the user enters 
 1500 lbs or 682 kgs for a patient's weight. [ISH-0903-42293]
  
 Routines: N/A
  
  
 SOFTWARE RETRIEVAL:
 -------------------
  
 The KIDS build is attached to this message.
  
 Sites may retrieve the other files in one of the following ways:
  
 (1)     The preferred method is to FTP the files from:
  
         download.vista.med.va.gov
  
         This will transmit the files from the first available FTP Server.
  
 (2)     Sites may also elect to retrieve the software directly from a 
         specific Server as follows:
  
   CIO FIELD OFFICE      FTP ADDRESS                  DIRECTORY
   ---------------       -----------                  ---------
   Albany                ftp.fo-albany.med.va.gov     [anonymous.software]
   Hines                 ftp.fo-hines.med.va.gov      [anonymous.software]
   Salt Lake City        ftp.fo-slc.med.va.gov        [anonymous.software]
  
   The software distribution includes:
  
   FILE NAME                   DESCRIPTION               RETRIEVAL FORMAT
   ----------                  -----------               ----------------
   VITL5_0_1.exe               GUI executable            Binary
  
  
 DOCUMENTATION:
 --------------
  
 Documentation in Adobe Acrobat format (.PDF files) may be obtained from 
 one of the ANONYMOUS.SOFTWARE directories listed above (see SOFTWARE 
 RETRIEVAL).
  
  FILE NAMES          DESCRIPTION                 RETRIEVAL FORMAT
  ----------          -----------                 ----------------
  VITL5_P1_UM.PDF     User Manual (change pages)  Binary
  VITL5_UM.PDF        User Manual (all pages)     Binary
  
 The User Manual (all pages) can also be retrieved from the VistA
 Documentation Library (VDL) on the VA Intranet at the following address:
   
         http://vista.med.va.gov/vdl
  
  
 Routine Version Line:
 =====================
  
 Below is a list of the routines included in this patch. The second line of
 each of these routines now looks like:
  
 <tab>;;5.0;GEN. MED. REC. - VITALS;[patch list];Oct 31, 2002 
  
 Checksum Results:
 =================
  
 Routine Name   Before Patch    After Patch     Patch History
 ============   ============    ===========     =============
  GMV1PST       new             623331          1
  GMVCLIN       4219190         3207106         1
  GMVGETD2      13435578        13849854        1
  GMVGR1        18837465        18917671        1
  GMVHB3        741291          810378          1
  GMVLAT0       16350268        17018022        1
  GMVRPCM       12721301        13082062        1
  GMVRPCP       5864996         5864996         1
  GMVTBL0       10456945        deleted         n/a
  GMVTBL1       6117786         deleted         n/a
  GMVTBL2       562637          deleted         n/a 
  GMVTBL3       1002488         deleted         n/a
  GMVTBL4       8677845         deleted         n/a
  GMVUTL1       2299882         2299882         1
  GMVUTL5       3779470         deleted         n/a
  GMVUTL8       416366          879102          1
  
  
 Installation Instructions:
 ==========================
  
 1) This patch can be installed with users on the system. Installation 
    should take place when package use is minimum.
    Installation should take less than 5 minutes.
    These routines are not recommended for mapping.
  
 2) Load the Transport Global.
  
 3) (Optional) Run the following KIDS options before installing the patch:
  
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
  
 4) Install the Build GMRV*5.0*1.
  
    At the 'Want KIDS to Rebuild Menu Trees Upon Completion of Install?'
    prompt answer according to your facility's policy concerning the
    rebuilding of menu trees.
  
    At the 'Want KIDS to INHIBIT LOGONs during the install' prompt answer
    NO.
  
    At the 'Want to DISABLE Scheduled Options, Menu Options, and
    Protocols?' prompt answer YES. Place the following option(s) out of 
    order:
  
    GMV V/M GUI       Vitals/Measurements GUI Application
  
    At the 'Delay Install (Minutes): (0-60): 0//' prompt enter the number 
    of minutes you wish to wait before the installation begins.
  
 5) Move the routines to other CPUs if appropriate.
  
 6) Move the VITL5_0_1.exe file to an appropriate directory and/or
    workstations.
  
 7) Remove the existing Vitals executable files.
    a) Double-click on the VITL5_0_1.exe file to start the InstallShield 
       Wizard.
    b) Follow the Wizard instructions. When prompted to "Modify, repair, or
       remove the program." select "Remove".
    c) Follow the wizard instructions to completion.
  
 8) Install the new Vitals executable files.
    a) Double-click on the VITL5_0_1.exe file to start the InstallShield 
       Wizard again.
    b) At the "Choose Destination Location" screen, select the location to 
       place the software. The default is "C:\Program Files\vista\Vitals".
    c) At the "Setup Type" screen, select "Clinician" or "Manager". 
       Clinician will install the Vitals User module only. Manager will 
       install the Vitals User module and the Manager module.
       
       Clinical staff should get the Clinician setup.
  
       Clinical Application Coordinators (CACs), package coordinators, and 
       Information Resource Management Service (IRMS) staff should get the 
       Manager Setup.
  
    d) Continue to follow the wizard instructions to completion.
  
 9) If you are running the software from a server, you should move the 
    following files from the location selected in 8b to the server:
  
    C:\Program Files\vista\Vitals\Vitals.exe
    C:\Program Files\vista\Vitals\VitalsManager.exe
    C:\Program Files\vista\Vitals\Help\Vitals.hlp
    C:\Program Files\vista\Vitals\Help\Vitals.cnt
    C:\Program Files\vista\Vitals\Help\VitalsManager.hlp
    C:\Program Files\vista\Vitals\Help\VitalsManager.cnt
    C:\Program Files\vista\Vitals\Help\Roboex32.dll

Routine Information:
====================

Routine Name:
  - GMVCLIN


Routine Checksum:

Routine Name:
  - GMVGR1


Routine Checksum:

Routine Name:
  - GMVHB3


Routine Checksum:

Routine Name:
  - GMVLAT0


Routine Checksum:

Routine Name:
  - GMVRPCM


Routine Checksum:

Routine Name:
  - GMVRPCP


Routine Checksum:

Routine Name:
  - GMVTBL0


Routine Checksum:

Routine Name:
  - GMVTBL1


Routine Checksum:

Routine Name:
  - GMVTBL2


Routine Checksum:

Routine Name:
  - GMVTBL3


Routine Checksum:

Routine Name:
  - GMVTBL4


Routine Checksum:

Routine Name:
  - GMVUTL8


Routine Checksum:

Routine Name:
  - GMVUTL5


Routine Checksum:

Routine Name:
  - GMVGETD2


Routine Checksum:

Routine Name:
  - GMV1PST


Routine Checksum:

Routine Name:
  - GMVUTL1


Routine Checksum:

=============================================================================
User Information:
Entered By  : TRAXLER,FRANK                 Date Entered  : NOV 29, 2002
Completed By: REZNIK,CHARMAINE              Date Completed: OCT 15, 2003
Released By : THORNTON,NANCY                Date Released : OCT 28, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
