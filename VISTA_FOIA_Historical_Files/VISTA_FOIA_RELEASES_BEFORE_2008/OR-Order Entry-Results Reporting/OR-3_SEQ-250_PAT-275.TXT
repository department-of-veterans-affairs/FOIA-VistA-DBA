$TXT Created by RLYILAA,TEHUUN at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Friday, 07/13/07 at 14:43
=============================================================================
Run Date: AUG 03, 2007                     Designation: OR*3*275
Package : OR - ORDER ENTRY/RESULTS REPORTING  Priority: Mandatory
Version : 3       SEQ #250                      Status: Released
                  Compliance Date: SEP 03, 2007
=============================================================================

Associated patches: (v)OR*3*265    <<= must be installed BEFORE `OR*3*275'

Subject: PENDING MEDICATION ADMINISTRATIVE HISTORY

Category: 
  - PATCH FOR A PATCH

Description:
============

 This patch will correct Patient Safety Issue  PSI-07-094.
  
 This patch corrects the following issues:
  
 1.  Corrects the issue introduced in OR*3*265 where pending inpatient
 medication orders no longer display the Medication Administration History.
  
 2.  OR*3.0*265 added logic to look for duplicate order comments but did
 not anticipate comments from Pharmacy process when no comments were
 currently in the Order file. So this puts it in an endless loop filling 
 the disk.   
  
 3.  OR*3.0*265 added logic to look for duplicate orders comments but did
 not initialize one of the node subscript variables correctly and points to
 an non-existing node in the ORDER FILE (#100), causing the error.
  
 4.  Problem when resetting copay status.  Receive error.  This is the 
 caused by the same problem as stated in #3.
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 HD0000000189259 - Pending Med Order doesn't show administration history
    HD0000000191359 - duplicate
    HD0000000191949 - duplicate
    HD0000000193167 - duplicate
    HD0000000194703 - duplicate
    HD0000000195889 - duplicate
 HD0000000192606 - CMOP transmission failure - caused <DISKFULL>
 HD0000000193418 - <UNDEFINED>OUT2+11^ORMPS1 
 HD0000000194299 - PSOCP RESET COPAY status error
  
 PARTICIPATING TEST SITES:
 =========================
 Palo Alto HCS
 Greater Los Angeles HCS
 San Juan, PR
 Phoenix, AZ 
 Upstate New York, NY
 North Chicago, IL
 Oklahoma City, OK
  
 REMEDY OVERVIEW:
 ===============
 1. HD0000000189259 Pending Med Order doesn't show administration history
  
 Problem:
 --------
 OR*3.0*265 added logic to print the additive search for Hyperal type 
 orders, but now the pending inpatient medication orders no longer display
 the Medication Administration History.
  
 Solution:
 ---------
 Modify MEDHIST^ORWPS to call RPC^PSBO (and via HISTORY^PSBMLHS) for 
 variable ORPHMID (pharmacy number), and if the pharmacy number is 
 "pending" call BCMA routine using variable ORPHSID (orderable item).
  
 2. HD0000000192606 - CMOP transmission failure - caused <DISKFULL>
  
 Problem:
 --------
 OR*3.0*265 added logic to look for duplicate order comments but did not 
 anticipate comments from Pharmacy process when no comments were
 currently in the Order file. So this puts it in an endless loop filling 
 the disk.   
  
 Solution:
 ---------
 The routine was modified to anticipate no comment and not test for a null 
 subscript condition and quit if found. 
  
 3. HD0000000193418 - <UNDEFINED>OUT2+11^ORMPS1 
      HD0000000194299 dup  - PSOCP RESET COPAY status error 
  
 Problem:
 --------
 OR*3.0*265 added logic to look for duplicate orders comments but did not 
 initialize one of the node subscript variables correctly and points to an 
 non-existing node in the ORDER FILE (#100), causing the error. 
  
 Solution:
 ---------
 The routine was modified to initialize the subscript variable correctly 
 starting at zero instead of null. 
  
 4. HD0000000194299 - PSOCP RESET COPAY status error
  
 Problem:
 --------
 OR*3.0*265 added logic to look for duplicate orders comments but did not 
 initialize one of the node subscript variables correctly and points to an 
 non-existing node in the ORDER FILE (#100), causing the error. 
  
 Solution:
 ---------
 The routine was modified to initialize the subscript variable correctly 
 starting at zero instead of null. 
  
  
 INSTALLATION INSTRUCTIONS
 =========================
 This patch can be loaded with users in the system.  Installation time
 will be less than 2 minutes.
  
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
  
  2.  Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
  3.  From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter "OR*3.0*275"):
    
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  4.  Use the Install Package(s) option and select the package.
      a.  When prompted "Want KIDS to INHIBIT LOGONs during the
          install? YES//", answer NO.
      b.  When prompted "Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//", answer NO.
  
 ROUTINE SUMMARY:
 ===============
 The second line of each of these routine(s) will look like:
  
 <tab>;;3.0;ORDER ENTRY/RESULTS REPORTING;**[Patch List]**;Dec 17, 1997
                      
                      CHECK^XTSUMBLD results
 Routine name  Before Patch    After Patch    Patch List
 ============  ============    ===========    ==========
 ORMPS1        19942892        19897360       86,92,94,116,134,152
                                              158,149,190,195,215,265,275
 ORWPS         10614924        11249922       10,85,116,132,141,173,
                                              203,190,195,265,275

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**[Patch List]**;Dec 17, 1997;Build 7

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: ORMPS1
    Before: B67707538   After: B68253979  **86,92,94,116,134,152,158,149,
                                           190,195,215,265,275**
Routine Name: ORWPS
    Before: B46786086   After: B51113307  **10,85,116,132,141,173,203,
                                           190,195,265,275**
 
Routine list of preceding patches: 265

=============================================================================
User Information:
Entered By  : RANDALL,SHERRY                Date Entered  : MAY 24, 2007
Completed By: CROSSMAN,PAM                  Date Completed: AUG 02, 2007
Released By : PASTERNOCK,JOY                Date Released : AUG 03, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
