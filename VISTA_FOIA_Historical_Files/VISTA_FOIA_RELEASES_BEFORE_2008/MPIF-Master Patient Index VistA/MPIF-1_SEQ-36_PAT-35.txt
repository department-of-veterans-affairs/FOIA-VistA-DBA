$TXT Created by CHESNEY,CHRISTINE M at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 11/05/04 at 08:10
=============================================================================
Run Date: NOV 10, 2004                     Designation: MPIF*1*35
Package : MPIF - MASTER PATIENT INDEX VISTA   Priority: Mandatory
Version : 1        SEQ #36                      Status: Released
                  Compliance Date: NOV 25, 2004
=============================================================================

Associated patches: (v)MPIF*1*25   <<= must be installed BEFORE `MPIF*1*35'
                    (v)MPIF*1*28   <<= must be installed BEFORE `MPIF*1*35'
                    (v)MPIF*1*29   <<= must be installed BEFORE `MPIF*1*35'
                    (v)MPIF*1*33   <<= must be installed BEFORE `MPIF*1*35'

Subject: MPI CHANGES ITERATION 2 - REST OF TASK #9

Category: 
  - Enhancement (Mandatory)
  - Routine

Description:
============

  NOTE:  MPIF and RG patches should NOT be installed on Legacy systems to
  avoid issues with the legacy systems ending up as Coordinating Master 
  of Records (CMORs) or Treating Facilities.
  
  This patch is for the Master Patient Index/Patient Demographics (MPI/PD)
  Changes Iteration 2 project.
  
  Issue 1:  Place of Birth State value is not being returned in the 
  Display Only Query [MPIF DISPLAY ONLY QUERY TO MPI] due to an extra
  semi-colon in FIELD+12 of routine MPIFSA2.  The extra semi-colon
  has been removed.
  
  Issue 2:  The MPI Data Management Team has requested more information
  be included in the e-mail exception message 'MPI/PD Exception: Multiple
  ICNs' that is generated when a second entry in the PATIENT (#2) file
  attempts to have the same Integration Control Number (ICN) as another
  entry.  The exception message will now contain the Name and SSN for
  the patients involved as well as what the site should do with this
  information.  Routines MPIF001, MPIFAPI, MPIFBT3, MPIFQ0 and MPIFQ1.  
  
  Issue 3:  In an effort to reduce the number of patients that have to
  be manually resolved to the MPI, the Changes Iteration 2 project will
  begin matching patients automatically if the only difference in the
  matching fields is middle name vs. middle initial.  Routine MPIFQ1
  supports this change.
  
  Issue 4:  In an effort to be consistent with which fields are passed to
  the MPI in queries, middle name, suffix, prefix and sex will always be
  included.  Routines MPIFSA2 and MPIFSAQ support this change.
  
  Issue 5:  The option Local/Missing ICN Resolution Background Job [MPIF
  LOC/MIS ICN RES] is now set to run every 600 seconds since the 
  installation of patch MPIF*1.0*33.  The option description was not 
  updated in patch 33 to reflect the new schedule from the previous
  schedule of once a day. The option description has been updated with 
  this patch.
  
  Issue 6: The post init for this patch will resend all the local ICNs to
  the MPI in the next running of the Local/Missing ICN Resolution 
  Background Job [MPIF LOC/MIS ICN RES] unless that patient was sent up 
  today OR has a Potential Match exception.  This may reduce the number of
  manual resolutions that need to be done by the site staff due to the 
  change in business rules with the Changes 2 project.  The post init will
  be deleted automatically at the end of the successful patch installation.
   
  Issue 7:  When a query is sent to the MPI via the real-time connection or
  via the Local/Missing ICN Resolution Background Job [MPIF LOC/MIS ICN 
  RES], if the patient doesn't have a SSN or has a pseudo SSN, no value
  for SSN is passed in the query.  This makes it impossible for the MPI to
  tell the difference between required data missing at the site or not.  
  Routines MPIFVTQ and MPIFSA3 have been modified to pass the pseudo SSN to
  the qeury messages to the MPI.  The psuedo SSN will continue to not be
  stored on the MPI or used in any search algorithm.
  
  Issue 8:  It is possible for the Local/Missing ICN Resolution Background
  Job [MPIF LOC/MIS ICN RES] to include a patient that was sent to the MPI
  to be added in a Health Level Seven (HL7) A28 Add Patient message.  This
  could cause the patient to be added twice to the MPI if both messages are
  processed at the same time.  Routine MPIFRES and MPIFA28 have been 
  modified to minimize this.
  
  Issue 9:  It is possible for the Display Only Query [MPIF DISPLAY ONLY 
  QUERY TO MPI] to return an erroneous match IF the site has an entry in 
  their PATIENT file (#2) for internal entry number (IEN) 235 AND that 
  patient has a national ICN.  This was code left over from developer 
  testing from several patches ago.  Routine MPIFSA2 has been modified to 
  correct this issue.  NOIS:  MON-1004-52258 reported this along with San 
  Francisco, a test site for this patch.
  
   TEST SITES:
   ==========
   Bay Pines (VMS/DSM)
   Miami (VMS/CACHE)
   New Jersey (VMS/CACHE)
   San Francisco (VMS/CACHE)
   San Juan (ALPHA/DSM)
   Upstate New York (VMS/CACHE)
  
   NOIS:
   =====
   MON-1004-52258
  
   Routine Summary:
   ================
   The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
    
   <TAB>;;1.0; MASTER PATIENT INDEX VISTA ;**[Patch List]**;30 Apr 99
   CHECK^XTSUMBLD results:
  
   Routine       Before Patch       After Patch       Patch List
   --------      ------------       ------------      ----------
   MPIF001        9928854             8844271    1,3,9,16,18,21,27,33,35
   MPIFA28        2310059             2445395    22,31,25,35
   MPIFAPI       19787098            18757434  1,3,14,16,17,21,27,28,33,35
   MPIFBT3       17257173            16375512  1,3,10,17,21,24,28,31,33,35
   MPIFP35          NEW                800097 
                 **DELETED AFTER SUCCESSFUL INSTALL 
   MPIFQ0        22408197            21179149   1,3,8,14,13,16,17,21,20,24,
                                                         26,28,31,33,35
   MPIFQ1        15709676            16320602 1,8,12,16,17,21,23,24,28,31,
                                                         33,35
   MPIFRES        4745909             5679691 1,7,10,15,17,21,26,28,33,35
   MPIFSA2       17893206            20459900    28,29,35
   MPIFSA3       16961510            17047641    28,31,35
   MPIFSAQ        7245288             7322047    1,3,8,13,17,21,23,28,35
   MPIFVTQ       11758328            11660568    1,9,17,21,23,28,33,35
   
   INSTALLATION INSTRUCTIONS:
   ==========================
  
    This patch takes less than 3 minutes to install.  This patch should
    be loaded during non-peak hours to minimize disruption to the users.   
  
    1.  Users are allowed on the system during patch installation.
        
    2.  TaskMan does not need to be stopped or placed in a wait state. 
   
    3.  These routines are not usually mapped, so you will probably not
        have to disable mapping. 
  
    4.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note:
        TEXT PRINT/DISPLAY option in the PackMan menu will display the
        patch text only.
  
    5.  From the Kernel Installation and Distribution System Menu, select
        the Installation menu.  
  
    6.  From this menu, you may elect to use the following options:
        a.  Backup a Transport Global - this option will create a backup
            message of any routines exported with the patch.  It will NOT
            backup any other changes such as DDs or templates.
        b.  Compare Transport Global to Current System  - this option will
            allow you to view all changes that will be made when the patch
            is installed.  It compares all components of the patch
            (routines, DDs, templates, etc.).
        c.  Verify Checksums in Transport Global - this option will allow
            you to ensure the integrity of the routines that are in the
            transport global.
        d.  Print Transport Global - this option will allow you to view the
            components of the KIDS build.
  
    7.  Use the Install Package(s) option and select the package 
        MPIF*1.0*35.
   
    8.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion
        of Install? YES//', respond NO.
   
    9.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? '
        YES//', respond No.
   
   10.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
        Protocols? YES//', respond Yes and enter the following options:
  
         Single Patient Initialization to MPI    [MPIF IND MPI LOAD]
         Display Only Query              [MPIF DISPLAY ONLY QUERY TO MPI] 
         Local/Missing ICN Resolution Background Job [MPIF LOC/MIS ICN RES]
         Coordinating Master of Record (CMOR) Request  [MPIF CMOR MGR]
  
         10-10T Registration             [DGRPT 10-10T REGISTRATION]     
         Register a Patient              [DG REGISTER PATIENT]           
         Load/Edit Patient Data          [DG LOAD PATIENT DATA]          
         Electronic 10-10EZ Processing   [EAS EZ 1010EZ PROCESSING]
    
   11.  If you unmapped routines in step 3, remap them after installation
        has completed.

Routine Information:
====================

Routine Name:
  - MPIF001


Routine Checksum:

Routine Name:
  - MPIFAPI


Routine Checksum:

Routine Name:
  - MPIFBT3


Routine Checksum:

Routine Name:
  - MPIFP35


Routine Checksum:

Routine Name:
  - MPIFQ0


Routine Checksum:

Routine Name:
  - MPIFQ1


Routine Checksum:

Routine Name:
  - MPIFSA2


Routine Checksum:

Routine Name:
  - MPIFSAQ


Routine Checksum:

Routine Name:
  - MPIFVTQ


Routine Checksum:

Routine Name:
  - MPIFRES


Routine Checksum:

Routine Name:
  - MPIFA28


Routine Checksum:

Routine Name:
  - MPIFSA3


Routine Checksum:

=============================================================================
User Information:
Entered By  : CHESNEY,CHRISTINE M           Date Entered  : APR 01, 2004
Completed By: SINGH,GURBIR                  Date Completed: NOV 05, 2004
Released By : BURTS,WANDA                   Date Released : NOV 10, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
