Released OOPS*1*7 SEQ #7
Extracted from mail message
**KIDS**:OOPS*1.0*7^

**INSTALL NAME**
OOPS*1.0*7
"BLD",2359,0)
OOPS*1.0*7^ASISTS^0^3000229^y
"BLD",2359,1,0)
^^1^1^3000229^^^^
"BLD",2359,1,1,0)
Multifacility Enhancements
"BLD",2359,4,0)
^9.64PA^2262.1^2
"BLD",2359,4,2262,0)
2262
"BLD",2359,4,2262,222)
y^y^f^^y^^y^o^n
"BLD",2359,4,2262.1,0)
2262.1
"BLD",2359,4,2262.1,222)
y^y^f^^n^^y^o^n
"BLD",2359,4,"B",2262,2262)
 
"BLD",2359,4,"B",2262.1,2262.1)
 
"BLD",2359,"ABPKG")
n
"BLD",2359,"KRN",0)
^9.67PA^19^18
"BLD",2359,"KRN",.4,0)
.4
"BLD",2359,"KRN",.4,"NM",0)
^9.68A^^
"BLD",2359,"KRN",.401,0)
.401
"BLD",2359,"KRN",.401,"NM",0)
^9.68A^^
"BLD",2359,"KRN",.402,0)
.402
"BLD",2359,"KRN",.403,0)
.403
"BLD",2359,"KRN",.5,0)
.5
"BLD",2359,"KRN",.84,0)
.84
"BLD",2359,"KRN",3.6,0)
3.6
"BLD",2359,"KRN",3.8,0)
3.8
"BLD",2359,"KRN",9.2,0)
9.2
"BLD",2359,"KRN",9.8,0)
9.8
"BLD",2359,"KRN",9.8,"NM",0)
^9.68A^5^5
"BLD",2359,"KRN",9.8,"NM",1,0)
OOPSMBUL^^0^B9403818
"BLD",2359,"KRN",9.8,"NM",2,0)
OOPSCC^^0^B32096141
"BLD",2359,"KRN",9.8,"NM",3,0)
OOPSSUP2^^0^B62618856
"BLD",2359,"KRN",9.8,"NM",4,0)
OOPSUTL2^^0^B36476658
"BLD",2359,"KRN",9.8,"NM",5,0)
OOPSESP^^0^B619853
"BLD",2359,"KRN",9.8,"NM","B","OOPSCC",2)
 
"BLD",2359,"KRN",9.8,"NM","B","OOPSESP",5)
 
"BLD",2359,"KRN",9.8,"NM","B","OOPSMBUL",1)
 
"BLD",2359,"KRN",9.8,"NM","B","OOPSSUP2",3)
 
"BLD",2359,"KRN",9.8,"NM","B","OOPSUTL2",4)
 
"BLD",2359,"KRN",19,0)
19
"BLD",2359,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",2359,"KRN",19,"NM",1,0)
OOPS EDIT SITE PARAMETER^^0
"BLD",2359,"KRN",19,"NM",2,0)
OOPS SAFETY MENU^^2
"BLD",2359,"KRN",19,"NM","B","OOPS EDIT SITE PARAMETER",1)
 
"BLD",2359,"KRN",19,"NM","B","OOPS SAFETY MENU",2)
 
"BLD",2359,"KRN",19.1,0)
19.1
"BLD",2359,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",2359,"KRN",101,0)
101
"BLD",2359,"KRN",409.61,0)
409.61
"BLD",2359,"KRN",771,0)
771
"BLD",2359,"KRN",869.2,0)
869.2
"BLD",2359,"KRN",870,0)
870
"BLD",2359,"KRN",8994,0)
8994
"BLD",2359,"KRN","B",.4,.4)
 
"BLD",2359,"KRN","B",.401,.401)
 
"BLD",2359,"KRN","B",.402,.402)
 
"BLD",2359,"KRN","B",.403,.403)
 
"BLD",2359,"KRN","B",.5,.5)
 
"BLD",2359,"KRN","B",.84,.84)
 
"BLD",2359,"KRN","B",3.6,3.6)
 
"BLD",2359,"KRN","B",3.8,3.8)
 
"BLD",2359,"KRN","B",9.2,9.2)
 
"BLD",2359,"KRN","B",9.8,9.8)
 
"BLD",2359,"KRN","B",19,19)
 
"BLD",2359,"KRN","B",19.1,19.1)
 
"BLD",2359,"KRN","B",101,101)
 
"BLD",2359,"KRN","B",409.61,409.61)
 
"BLD",2359,"KRN","B",771,771)
 
"BLD",2359,"KRN","B",869.2,869.2)
 
"BLD",2359,"KRN","B",870,870)
 
"BLD",2359,"KRN","B",8994,8994)
 
"BLD",2359,"QUES",0)
^9.62^^
"BLD",2359,"REQB",0)
^9.611^4^4
"BLD",2359,"REQB",1,0)
OOPS*1.0*1^2
"BLD",2359,"REQB",2,0)
OOPS*1.0*2^2
"BLD",2359,"REQB",3,0)
OOPS*1.0*3^2
"BLD",2359,"REQB",4,0)
OOPS*1.0*5^2
"BLD",2359,"REQB","B","OOPS*1.0*1",1)
 
"BLD",2359,"REQB","B","OOPS*1.0*2",2)
 
"BLD",2359,"REQB","B","OOPS*1.0*3",3)
 
"BLD",2359,"REQB","B","OOPS*1.0*5",4)
 
"DATA",2262,1,0)
MODIFY TO SITE NAME^^
"DATA",2262,1,1,0)
^2262.03P^^0
"DATA",2262.1,1,0)
BOSTON^1
"DATA",2262.1,2,0)
NEW YORK^2
"DATA",2262.1,3,0)
PHILADELPHIA^3
"DATA",2262.1,4,0)
JACKSONVILLE^6
"DATA",2262.1,5,0)
CLEVELAND^9
"DATA",2262.1,6,0)
CHICAGO^10
"DATA",2262.1,7,0)
KANSAS CITY^11
"DATA",2262.1,8,0)
DENVER^12
"DATA",2262.1,9,0)
SAN FRANCISCO^13
"DATA",2262.1,10,0)
SEATTLE^14
"DATA",2262.1,11,0)
DALLAS^16
"DATA",2262.1,12,0)
WASHINGTON, D.C.^25
"DATA",2262.1,13,0)
NATIONAL OFFICE, WASH D.C.^50
"FIA",2262)
ASISTS SITE PARAMETER
"FIA",2262,0)
^OOPS(2262,
"FIA",2262,0,0)
2262
"FIA",2262,0,1)
y^y^f^^y^^y^o^n
"FIA",2262,0,10)
 
"FIA",2262,0,11)
 
"FIA",2262,0,"RLRO")
 
"FIA",2262,0,"VR")
1.0^OOPS
"FIA",2262,2262)
0
"FIA",2262,2262.03)
0
"FIA",2262.1)
ASISTS DOL DISTRICT OFFICE
"FIA",2262.1,0)
^OOPS(2262.1,
"FIA",2262.1,0,0)
2262.1
"FIA",2262.1,0,1)
y^y^f^^n^^y^o^n
"FIA",2262.1,0,10)
 
"FIA",2262.1,0,11)
 
"FIA",2262.1,0,"RLRO")
 
"FIA",2262.1,0,"VR")
1.0^OOPS
"FIA",2262.1,2262.1)
0
"KRN",19,7450,-1)
2^2
"KRN",19,7450,0)
OOPS SAFETY MENU^ASISTS Safety Officers Menu^^M^66481^^^^^^^
"KRN",19,7450,10,0)
^19.01IP^18^18
"KRN",19,7450,10,18,0)
10124
"KRN",19,7450,10,18,"^")
OOPS EDIT SITE PARAMETER
"KRN",19,7450,"U")
ASISTS SAFETY OFFICERS MENU
"KRN",19,10124,-1)
0^1
"KRN",19,10124,0)
OOPS EDIT SITE PARAMETER^Edit Site Parameter^^R^^^^^^^^ASISTS^^1
"KRN",19,10124,1,0)
^^2^2^3000223^^^^
"KRN",19,10124,1,1,0)
This option allows sites to modify the entry in the ASISTS Site Parameter file 
"KRN",19,10124,1,2,0)
(#2162) to the default values that are unique to their site.
"KRN",19,10124,20)
D ^OOPSESP
"KRN",19,10124,25)
OOPSESP
"KRN",19,10124,"U")
EDIT SITE PARAMETER
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PGL",2262,0,3,2)
OWCP DISTRICT CODE^P2262.1'^OOPS(2262.1,^0;3^Q
"PGL",2262.03,0,5,4)
PHYSICIAN STATE^P5'^DIC(5,^0;5^Q
"PKG",472,-1)
1^1
"PKG",472,0)
ASISTS^OOPS^Automated Safety Incident Surveillance Tracking System
"PKG",472,20,0)
^9.402P^^
"PKG",472,22,0)
^9.49I^1^1
"PKG",472,22,1,0)
1.0^^2980819^66481
"PKG",472,22,1,"PAH",1,0)
7^3000229
"PKG",472,22,1,"PAH",1,1,0)
^^1^1^3000229
"PKG",472,22,1,"PAH",1,1,1,0)
Multifacility Enhancements
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")
 
"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
5
"RTN","OOPSCC")
0^2^B32096141
"RTN","OOPSCC",1,0)
OOPSCC ;HINES CIOFO/GWB-CREATE ASISTS CASE ;3/5/98
"RTN","OOPSCC",2,0)
 ;;1.0;ASISTS;**3,5,7**;Jun 01, 1998
"RTN","OOPSCC",3,0)
 N CAT,DATE,SUP,FYEAR,GRP,I,IEN2260,OOPS,IEN450,EMP,IEN200,PAID,VIEW
"RTN","OOPSCC",4,0)
 S DIE("NO^")="BACKOUTOK",VIEW=0
"RTN","OOPSCC",5,0)
 D NOW^%DTC
"RTN","OOPSCC",6,0)
 S DATE=X,FYEAR="",FYEAR=$$FYEAR^OOPSCSN(X),NUM=$$NEWR^OOPSCSN(FYEAR)
"RTN","OOPSCC",7,0)
 S (NAME,SEX,SSN,DOB,STN,CCT,OCC,GRD,STP,EDU,ANS,PAID)=""
"RTN","OOPSCC",8,0)
 W @IOF
"RTN","OOPSCC",9,0)
 W !!," Case number ",NUM," will be assigned to this incident.",!
"RTN","OOPSCC",10,0)
 K DD,DO S DIC="^OOPS(2260,",DIC(0)="QLZ",X=NUM D FILE^DICN G:Y=-1 EXIT
"RTN","OOPSCC",11,0)
 S IEN2260=+Y
"RTN","OOPSCC",12,0)
PS K DR S DIE="^OOPS(2260,",DA=IEN2260,DR="2 PERSONNEL STATUS........."
"RTN","OOPSCC",13,0)
 D ^DIE
"RTN","OOPSCC",14,0)
 G:$D(Y)'=0 DELETE S CAT=X
"RTN","OOPSCC",15,0)
 I CAT=1 D  G:Y=-1 DELETE               ; Employee in ^PRSPC (PAID)
"RTN","OOPSCC",16,0)
 .S DIC="^PRSPC(",DIC("A")=" PERSON INVOLVED..........: ",DIC("B")=NAME
"RTN","OOPSCC",17,0)
 .S DIC("W")="W ?30,$E($P(^(0),U,9),6,9)"
"RTN","OOPSCC",18,0)
 .S DIC(0)="QEAMZ" D ^DIC Q:Y=-1
"RTN","OOPSCC",19,0)
 .S IEN450=+Y,NAME=$P(Y,U,2)
"RTN","OOPSCC",20,0)
 .N Y K DIQ S DIC="^PRSPC(",DR="6;8;10;13;16;31;32;38;458;604",DA=IEN450
"RTN","OOPSCC",21,0)
 .S DIQ="OOPS",DIQ(0)="IE" D EN^DIQ1
"RTN","OOPSCC",22,0)
 .S STN=OOPS(450,IEN450,6,"I")
"RTN","OOPSCC",23,0)
 .S SSN=OOPS(450,IEN450,8,"I")
"RTN","OOPSCC",24,0)
 .S EDU=OOPS(450,IEN450,10,"E"),EDU=$E(EDU,1)_$$LOW^XLFSTR($E(EDU,2,45))
"RTN","OOPSCC",25,0)
 .S GRD=OOPS(450,IEN450,13,"I")
"RTN","OOPSCC",26,0)
 .S OCC=OOPS(450,IEN450,16,"I")
"RTN","OOPSCC",27,0)
 .S CCT=OOPS(450,IEN450,458,"I")
"RTN","OOPSCC",28,0)
 .S SEX=OOPS(450,IEN450,31,"I")
"RTN","OOPSCC",29,0)
 .S DOB=OOPS(450,IEN450,32,"I")
"RTN","OOPSCC",30,0)
 .S STP=OOPS(450,IEN450,38,"I")
"RTN","OOPSCC",31,0)
 ;
"RTN","OOPSCC",32,0)
 ; New Personnel Status = Non-Paid Employee. Get fields from ^VA(200
"RTN","OOPSCC",33,0)
 ; If Person in PAID file (PAID=1) don't allow adding as non-paid emp
"RTN","OOPSCC",34,0)
 ; If no SSN in file 200, set PAID=1, prevent hard errors
"RTN","OOPSCC",35,0)
 I CAT=6 D  G:(Y=-1!(PAID)) DELETE
"RTN","OOPSCC",36,0)
 .S DIC="^VA(200,",DIC("A")=" PERSON INVOLVED..........: ",DIC("B")=NAME
"RTN","OOPSCC",37,0)
 .S DIC("W")="W ?30,$E($P(^(1),U,9),6,9)"
"RTN","OOPSCC",38,0)
 .S DIC(0)="QEAMZ" D ^DIC Q:Y=-1
"RTN","OOPSCC",39,0)
 .S IEN200=+Y,NAME=$P(Y,U,2)
"RTN","OOPSCC",40,0)
 .; Make sure the person is not a PAID Employee - Patch 3
"RTN","OOPSCC",41,0)
 .S PAID=0
"RTN","OOPSCC",42,0)
 .; If no SSN, Can't continue - Patch 3
"RTN","OOPSCC",43,0)
 .I '$$GET1^DIQ(200,IEN200,9,"I") D  Q
"RTN","OOPSCC",44,0)
 ..W !,"No SSN on file in the New Person file. Must enter to create case."
"RTN","OOPSCC",45,0)
 ..S PAID=1
"RTN","OOPSCC",46,0)
 .N Y K DIQ S DIC="^VA(200,",DR="4;5;9",DA=IEN200
"RTN","OOPSCC",47,0)
 .S DIQ="OOPS",DIQ(0)="IE" D EN^DIQ1
"RTN","OOPSCC",48,0)
 .S SEX=OOPS(200,IEN200,4,"I")
"RTN","OOPSCC",49,0)
 .S DOB=OOPS(200,IEN200,5,"I")
"RTN","OOPSCC",50,0)
 .S SSN=OOPS(200,IEN200,9,"I")
"RTN","OOPSCC",51,0)
 .I $D(^PRSPC("SSN",SSN)) D
"RTN","OOPSCC",52,0)
 ..W !,"This person (SSN) is a 'PAID' Employee, Please Re-enter"
"RTN","OOPSCC",53,0)
 ..S PAID=1
"RTN","OOPSCC",54,0)
 K DR S DIE="^OOPS(2260,",DA=IEN2260,DR=""
"RTN","OOPSCC",55,0)
 I CAT=1 D                           ; Employee in ^PRSPC (PAID)
"RTN","OOPSCC",56,0)
 .S DR(1,2260,1)="1///^S X=NAME"
"RTN","OOPSCC",57,0)
 .S DR(1,2260,2)="5///^S X=SSN"
"RTN","OOPSCC",58,0)
 .S DR(1,2260,3)="6///^S X=DOB"
"RTN","OOPSCC",59,0)
 .S DR(1,2260,4)="7///^S X=SEX"
"RTN","OOPSCC",60,0)
 .; S DR(1,2260,5)="13///^S X=STN"   ; patch 5 - don't stuff pointer
"RTN","OOPSCC",61,0)
 .S DR(1,2260,6)="14///^S X=CCT"
"RTN","OOPSCC",62,0)
 .S DR(1,2260,7)="15///^S X=$E(OCC,1,4)"
"RTN","OOPSCC",63,0)
 .S DR(1,2260,8)="16///^S X=GRD"
"RTN","OOPSCC",64,0)
 .S DR(1,2260,9)="17///^S X=STP"
"RTN","OOPSCC",65,0)
 .S DR(1,2260,10)="18///^S X=EDU"
"RTN","OOPSCC",66,0)
 I CAT=6 D                           ; Employee not in ^PRSPC (Non-PAID)
"RTN","OOPSCC",67,0)
 .S DR(1,2260,1)="1///^S X=NAME"
"RTN","OOPSCC",68,0)
 .S DR(1,2260,2)="5///^S X=SSN"
"RTN","OOPSCC",69,0)
 .S DR(1,2260,3)="6///^S X=DOB"
"RTN","OOPSCC",70,0)
 .S DR(1,2260,4)="7///^S X=SEX"
"RTN","OOPSCC",71,0)
 I CAT'=1&(CAT'=6) D                 ; Everyone else
"RTN","OOPSCC",72,0)
 .S DR(1,2260,1)="1 PERSON INVOLVED.........."
"RTN","OOPSCC",73,0)
 .S DR(1,2260,2)="5 SSN......................"
"RTN","OOPSCC",74,0)
 .; Patch 5 - get data for non-employee personnel
"RTN","OOPSCC",75,0)
 . S DR(1,2260,2.5)="I X="""" W !,""Social Security Number is Required"" S Y=5"
"RTN","OOPSCC",76,0)
 .S DR(1,2260,3)="6 DOB......................"
"RTN","OOPSCC",77,0)
 .S DR(1,2260,3.5)="I X="""" W !,""Date of Birth is required"" S Y=6"
"RTN","OOPSCC",78,0)
 .S DR(1,2260,4)="7 SEX......................"
"RTN","OOPSCC",79,0)
 .S DR(1,2260,4.5)="I X="""" W !,""Sex is Required"" S Y=7"
"RTN","OOPSCC",80,0)
 ;
"RTN","OOPSCC",81,0)
 ; Patch 5 - Check for Duplicate Cases
"RTN","OOPSCC",82,0)
 S DR(1,2260,2.7)="I $$DUP^OOPSCC() S Y=""@3"""
"RTN","OOPSCC",83,0)
 S DR(1,2260,11)="8 HOME STREET ADDRESS......"
"RTN","OOPSCC",84,0)
 S DR(1,2260,12)="9 CITY....................."
"RTN","OOPSCC",85,0)
 S DR(1,2260,13)="10 STATE...................."
"RTN","OOPSCC",86,0)
 S DR(1,2260,14)="11 ZIP CODE................."
"RTN","OOPSCC",87,0)
 S DR(1,2260,15)="12 HOME PHONE NUMBER........"
"RTN","OOPSCC",88,0)
 ; Patch 5 - Collect Station Number for everyone, allow changing PAID
"RTN","OOPSCC",89,0)
 S DR(1,2260,15.5)="13 STATION NUMBER...........//^S X=STN"
"RTN","OOPSCC",90,0)
 S DR(1,2260,16)="52 INJURY/ILLNESS..........."
"RTN","OOPSCC",91,0)
 S DR(1,2260,17)="S Y=$S(X=1:""@1"",1:""@2"")"
"RTN","OOPSCC",92,0)
 S DR(1,2260,18)="@1"
"RTN","OOPSCC",93,0)
 S DR(1,2260,19)="4 DATE/TIME INJURY OCCURRED"
"RTN","OOPSCC",94,0)
 S DR(1,2260,20)="I $P(X,""."",2)="""" W !,""Time is REQUIRED in this response."" S Y=4"
"RTN","OOPSCC",95,0)
 S DR(1,2260,21)="S Y=3"
"RTN","OOPSCC",96,0)
 S DR(1,2260,22)="@2"
"RTN","OOPSCC",97,0)
 S DR(1,2260,23)="4 DATE 1ST AWARE OF ILLNESS"
"RTN","OOPSCC",98,0)
 S DR(1,2260,24)="3 TYPE OF INCIDENT........."
"RTN","OOPSCC",99,0)
 ; patch 5 - changed for new category types
"RTN","OOPSCC",100,0)
 S SUP=$S((CAT=1!(CAT>6)):" SUPERVISOR...............",CAT=2:" VOLUNTARY SVC SUPERVISOR.",CAT=3:" CONTRACT ADMINISTRATOR...",1:" SAFETY OFFICER...........")
"RTN","OOPSCC",101,0)
 S DR(1,2260,25)="53"_SUP
"RTN","OOPSCC",102,0)
 S DR(1,2260,26)="53.1 SECONDARY SUPERVISOR....."
"RTN","OOPSCC",103,0)
 S DR(1,2260,27)="56'////^S X=DUZ"
"RTN","OOPSCC",104,0)
 S DR(1,2260,28)="@3"
"RTN","OOPSCC",105,0)
 S DR(1,2260,29)="I VIEW W !!?4,""This Case will be DELETED!"""
"RTN","OOPSCC",106,0)
 D ^DIE G:$D(Y)'=0!(VIEW) DELETE            ; VIEW = Duplicate Patch 5
"RTN","OOPSCC",107,0)
 S DIR(0)="S^E:Edit;S:Save;D:Delete",DIR("A")=" Case action" D ^DIR K DIR
"RTN","OOPSCC",108,0)
 I Y="E" S ANS="E" G PS
"RTN","OOPSCC",109,0)
 I Y="S" D  D CASE^OOPSMBUL(IEN2260) D:((CAT=1)!(CAT=6))&(SSN'="") BOR^OOPSMBUL(IEN2260):$D(^VA(200,"SSN",SSN)) G EXIT
"RTN","OOPSCC",110,0)
 .K DR S DIE="^OOPS(2260,",DA=IEN2260,DR="51///0" D ^DIE K DIE
"RTN","OOPSCC",111,0)
 .W !!," Case number ",NUM," has been saved.",!
"RTN","OOPSCC",112,0)
 I (Y="D")!($D(DIRUT)) G DELETE
"RTN","OOPSCC",113,0)
 G EXIT
"RTN","OOPSCC",114,0)
DUP() ; Patch 5 Finds Open Cases w/Matching names, Cases checked for
"RTN","OOPSCC",115,0)
 ;   being a duplicate must have a Status of OPEN
"RTN","OOPSCC",116,0)
 ;
"RTN","OOPSCC",117,0)
 ; Input Variables:
"RTN","OOPSCC",118,0)
 ;   IEN2260 - IEN of Current Case
"RTN","OOPSCC",119,0)
 ;   SSN     - SSN of Current Case
"RTN","OOPSCC",120,0)
 ; Output Variables
"RTN","OOPSCC",121,0)
 ;   VIEW    - returns 1 if user indicates case is a duplicate
"RTN","OOPSCC",122,0)
 ;             which triggers system to delete the case and exit
"RTN","OOPSCC",123,0)
 ;           - returns 0 if user indicates case is not a duplicate
"RTN","OOPSCC",124,0)
 ;             and system continues normal processing.
"RTN","OOPSCC",125,0)
 ;
"RTN","OOPSCC",126,0)
 N ARR,FILE,FLD,IX,SCR,Y
"RTN","OOPSCC",127,0)
 S FILE=2260,FLD=5
"RTN","OOPSCC",128,0)
 S SSN=$$GET1^DIQ(2260,IEN2260,5,"I")
"RTN","OOPSCC",129,0)
 S IX="SSN",ARR="OOPS",VIEW=0
"RTN","OOPSCC",130,0)
 S SCR="I ($$GET1^DIQ(FILE,Y,51,""I"")<1)&(Y'=IEN2260)"
"RTN","OOPSCC",131,0)
 S SCR=SCR_"&($$GET1^DIQ(FILE,Y,5,""I"")=SSN)"
"RTN","OOPSCC",132,0)
 D LIST^DIC(FILE,,FLD,,,,,IX,SCR,,ARR)
"RTN","OOPSCC",133,0)
 I $G(OOPS("DILIST",0)) D
"RTN","OOPSCC",134,0)
 . W !!,"The following case(s) are Open with SSN: "_SSN,!
"RTN","OOPSCC",135,0)
 . N DIC,DA,DR,OPID,Y
"RTN","OOPSCC",136,0)
 . S DIC="^OOPS(2260,",(DA,DR,OPID)=0
"RTN","OOPSCC",137,0)
 . F  S OPID=$O(OOPS("DILIST",2,OPID)) Q:OPID=""  D
"RTN","OOPSCC",138,0)
 .. S DA=OOPS("DILIST",2,OPID) D EN^DIQ
"RTN","OOPSCC",139,0)
 . K DIR S DIR(0)="Y"
"RTN","OOPSCC",140,0)
 . S DIR("A")=" Is the Current entry a DUPLICATE Case: "
"RTN","OOPSCC",141,0)
 . D ^DIR K DIR
"RTN","OOPSCC",142,0)
 . I Y S VIEW=1
"RTN","OOPSCC",143,0)
 Q VIEW
"RTN","OOPSCC",144,0)
DELETE ;Delete incomplete case
"RTN","OOPSCC",145,0)
 S DIK="^OOPS(2260,",DA=IEN2260 D ^DIK K DIK
"RTN","OOPSCC",146,0)
END W !!," Case ",NUM," deleted"
"RTN","OOPSCC",147,0)
EXIT K DA,DIC,DIE,DR,NUM,NAME,SEX,SSN,DOB,STN,CCT,OCC,GRD,STP,EDU,ANS
"RTN","OOPSCC",148,0)
 Q
"RTN","OOPSESP")
0^5^B619853
"RTN","OOPSESP",1,0)
OOPSESP ;WIOFO/CAH-EDIT SITE PARAMETER; 2/16/00
"RTN","OOPSESP",2,0)
 ;;1.0;ASISTS;**7**,Jun 1, 1998
"RTN","OOPSESP",3,0)
 W @IOF
"RTN","OOPSESP",4,0)
EDIT K DR S DR(1,2262,10)=".01 SITE NAME..............."
"RTN","OOPSESP",5,0)
 K DO,DD S DIC="^OOPS(2262,",DIC(0)="AEMQ" D ^DIC G:Y=-1 EXIT
"RTN","OOPSESP",6,0)
 S DR(2,2262.03)="1;2;3;4;5"
"RTN","OOPSESP",7,0)
 S DIE="^OOPS(2262,",IEN2262=+Y,DA=IEN2262,DR=""
"RTN","OOPSESP",8,0)
 S DR(1,2262,20)="1 OWCP AGENCY CODE........"
"RTN","OOPSESP",9,0)
 S DR(1,2262,30)="2 OWCP DISTRICT OFFICE...."
"RTN","OOPSESP",10,0)
 S DR(1,2262,40)="3"    ;MULTIPLE FIELD
"RTN","OOPSESP",11,0)
 D ^DIE
"RTN","OOPSESP",12,0)
EXIT K DA,DIC,DIE,DR
"RTN","OOPSESP",13,0)
 Q
"RTN","OOPSMBUL")
0^1^B9403818
"RTN","OOPSMBUL",1,0)
OOPSMBUL ; HIRMFO/REL-Bulletin ;3/30/98  16:25
"RTN","OOPSMBUL",2,0)
 ;;1.0;ASISTS;**1,2,7**;Jun 01, 1998
"RTN","OOPSMBUL",3,0)
CASE(IEN) ;
"RTN","OOPSMBUL",4,0)
 S XMB="OOPS CASE",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",5,0)
 S CN=$P(X0,U,1),SUP=$P(X0,U,8),XMY(SUP)=""
"RTN","OOPSMBUL",6,0)
 S SUP2=$P(X0,U,9) I SUP2>0 S XMY(SUP2)=""
"RTN","OOPSMBUL",7,0)
 S XMB(3)=CN
"RTN","OOPSMBUL",8,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",9,0)
 S Y=$P(X0,U,3)
"RTN","OOPSMBUL",10,0)
 S GRP="OOPS INJURY"
"RTN","OOPSMBUL",11,0)
 S NIEN=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",12,0)
 S NGRP=GRP_" - "_$$GET1^DIQ(4,NIEN,99,"E")
"RTN","OOPSMBUL",13,0)
 S TEST=$$FIND1^DIC(3.8,"","AMX",NGRP)
"RTN","OOPSMBUL",14,0)
 I TEST S GRP=NGRP
"RTN","OOPSMBUL",15,0)
 D GRP
"RTN","OOPSMBUL",16,0)
 S GRP="OOPS UNION"
"RTN","OOPSMBUL",17,0)
 S NIEN=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",18,0)
 S NGRP=GRP_" - "_$$GET1^DIQ(4,NIEN,99,"E")
"RTN","OOPSMBUL",19,0)
 S TEST=$$FIND1^DIC(3.8,"","AMX",NGRP)
"RTN","OOPSMBUL",20,0)
 I TEST S GRP=NGRP
"RTN","OOPSMBUL",21,0)
 D GRP
"RTN","OOPSMBUL",22,0)
 I $P(X0,U,4)>10 D
"RTN","OOPSMBUL",23,0)
 .S GRP="OOPS EH"
"RTN","OOPSMBUL",24,0)
 .S NIEN=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",25,0)
 .S NGRP=GRP_" - "_$$GET1^DIQ(4,NIEN,99,"E")
"RTN","OOPSMBUL",26,0)
 .S TEST=$$FIND1^DIC(3.8,"","AMX",NGRP)
"RTN","OOPSMBUL",27,0)
 .I TEST S GRP=NGRP
"RTN","OOPSMBUL",28,0)
 .D GRP
"RTN","OOPSMBUL",29,0)
 D ^XMB K XMB,XMY,XMM,XMDT,CN,SUP2 Q
"RTN","OOPSMBUL",30,0)
 Q
"RTN","OOPSMBUL",31,0)
SAFETY(IEN) ; Safety Officer Bulletin
"RTN","OOPSMBUL",32,0)
 N SUP
"RTN","OOPSMBUL",33,0)
 S XMB="OOPS SAFETY",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",34,0)
 S XMB(1)=$P(X0,U,2)
"RTN","OOPSMBUL",35,0)
 S XMB(3)=$P(X0,U,1)
"RTN","OOPSMBUL",36,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",37,0)
 S GRP="OOPS SAFETY"
"RTN","OOPSMBUL",38,0)
 S NIEN=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",39,0)
 S NGRP=GRP_" - "_$$GET1^DIQ(4,NIEN,99,"E")
"RTN","OOPSMBUL",40,0)
 S TEST=$$FIND1^DIC(3.8,"","AMX",NGRP)
"RTN","OOPSMBUL",41,0)
 I TEST S GRP=NGRP
"RTN","OOPSMBUL",42,0)
 D GRP
"RTN","OOPSMBUL",43,0)
 D ^XMB K XMB,XMY,XMM,XMDT Q
"RTN","OOPSMBUL",44,0)
 Q
"RTN","OOPSMBUL",45,0)
UNION(IEN) ; Union  Bulletin
"RTN","OOPSMBUL",46,0)
 N SUP
"RTN","OOPSMBUL",47,0)
 S XMB="OOPS SUPERVISOR",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",48,0)
 S XMB(3)=$P(X0,U,1)
"RTN","OOPSMBUL",49,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",50,0)
 S GRP="OOPS UNION"
"RTN","OOPSMBUL",51,0)
 S NIEN=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",52,0)
 S NGRP=GRP_" - "_$$GET1^DIQ(4,NIEN,99,"E")
"RTN","OOPSMBUL",53,0)
 S TEST=$$FIND1^DIC(3.8,"","AMX",NGRP)
"RTN","OOPSMBUL",54,0)
 I TEST S GRP=NGRP
"RTN","OOPSMBUL",55,0)
 D GRP
"RTN","OOPSMBUL",56,0)
 D ^XMB K XMB,XMY,XMM,XMDT Q
"RTN","OOPSMBUL",57,0)
 Q
"RTN","OOPSMBUL",58,0)
EMP(IEN) ; Employee notification to supervisor
"RTN","OOPSMBUL",59,0)
 N SUP,GRP,SUP2
"RTN","OOPSMBUL",60,0)
 S XMB="OOPS EMPLOYEE",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",61,0)
 S XMB(3)=$P(X0,U,1)
"RTN","OOPSMBUL",62,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",63,0)
 S SUP=$P(X0,U,8),XMY(SUP)=""
"RTN","OOPSMBUL",64,0)
 S SUP2=$P(X0,U,9) I SUP2>0 S XMY(SUP2)=""
"RTN","OOPSMBUL",65,0)
 S GRP="OOPS UNION"
"RTN","OOPSMBUL",66,0)
 S NIEN=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",67,0)
 S NGRP=GRP_" - "_$$GET1^DIQ(4,NIEN,99,"E")
"RTN","OOPSMBUL",68,0)
 S TEST=$$FIND1^DIC(3.8,"","AMX",NGRP)
"RTN","OOPSMBUL",69,0)
 I TEST S GRP=NGRP
"RTN","OOPSMBUL",70,0)
 D GRP
"RTN","OOPSMBUL",71,0)
 S GRP="OOPS INJURY"
"RTN","OOPSMBUL",72,0)
 S NIEN=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",73,0)
 S NGRP=GRP_" - "_$$GET1^DIQ(4,NIEN,99,"E")
"RTN","OOPSMBUL",74,0)
 S TEST=$$FIND1^DIC(3.8,"","AMX",NGRP)
"RTN","OOPSMBUL",75,0)
 I TEST S GRP=NGRP
"RTN","OOPSMBUL",76,0)
 D GRP
"RTN","OOPSMBUL",77,0)
 D ^XMB K XMB,XMY,XMM,XMDT Q
"RTN","OOPSMBUL",78,0)
 Q
"RTN","OOPSMBUL",79,0)
BOR(IEN) ; Employee Bill of Rights
"RTN","OOPSMBUL",80,0)
 S XMB="OOPS BILL OF RIGHTS" K XMY
"RTN","OOPSMBUL",81,0)
 S EMP=$O(^VA(200,"SSN",SSN,0)),XMY(EMP)=""
"RTN","OOPSMBUL",82,0)
 D ^XMB K XMB,XMY,XMM,XMDT Q
"RTN","OOPSMBUL",83,0)
 Q
"RTN","OOPSMBUL",84,0)
GRP ; Get Mail group Members for GRP
"RTN","OOPSMBUL",85,0)
 I GRP="" Q
"RTN","OOPSMBUL",86,0)
 S XMY("G."_GRP)=""
"RTN","OOPSMBUL",87,0)
 Q
"RTN","OOPSMBUL",88,0)
SUP ; Get Supervisors for Employee
"RTN","OOPSMBUL",89,0)
 S SSN=$P($G(^OOPS(2260,IEN,"2162A")),U,1) Q:'SSN  S DA=$O(^PRSPC("SSN",SSN,0)) Q:'DA
"RTN","OOPSMBUL",90,0)
 S TL=$P($G(^PRSPC(DA,0)),U,8) Q:TL=""  S TLI=+$O(^PRST(455.5,"B",TL,0)) Q:'TLI
"RTN","OOPSMBUL",91,0)
 F Z=0:0 S Z=$O(^PRST(455.5,TLI,"S",Z)) Q:'Z  S XMY(Z)=""
"RTN","OOPSMBUL",92,0)
 Q
"RTN","OOPSSUP2")
0^3^B62618856
"RTN","OOPSSUP2",1,0)
OOPSSUP2 ;HINES/WAA - S/E Supervisor Edit routine [ 04/15/1998  1:26 PM ]
"RTN","OOPSSUP2",2,0)
 ;;1.0;ASISTS;**3,5,7**;Jun 01, 1998
"RTN","OOPSSUP2",3,0)
 ;;
"RTN","OOPSSUP2",4,0)
CA1 ; CA1 FORM
"RTN","OOPSSUP2",5,0)
 N ITEM,DTINJ
"RTN","OOPSSUP2",6,0)
 ; Patch 7 - initialize new default values
"RTN","OOPSSUP2",7,0)
 S (AIEN,AGN,ADD,CITY,STATE,ZIP)=""
"RTN","OOPSSUP2",8,0)
 S (PNAME,PADD,PCITY,PSTATE,PZIP,STAT,SIEN)=""
"RTN","OOPSSUP2",9,0)
 W !!," Federal Employee's Notice of Traumatic Injury and Claim"
"RTN","OOPSSUP2",10,0)
 W !," for Continuation of Pay/Compensation (Form CA-1)"
"RTN","OOPSSUP2",11,0)
 W !!,"     Witness"
"RTN","OOPSSUP2",12,0)
 W !,"     -------"
"RTN","OOPSSUP2",13,0)
 S DR=""
"RTN","OOPSSUP2",14,0)
 S DR(1,2260,1)="115 16. NAME OF WITNESS..........."
"RTN","OOPSSUP2",15,0)
 S DR(1,2260,2)="W !!,""     Supervisor's Report"""
"RTN","OOPSSUP2",16,0)
 S DR(1,2260,3)="W !,""     -------------------"""
"RTN","OOPSSUP2",17,0)
 ;Patch 7 - default agency info- if agnecy name deleted, del other fields
"RTN","OOPSSUP2",18,0)
 D AGNINFO^OOPSUTL2
"RTN","OOPSSUP2",19,0)
 S DR(1,2260,4)="130 17. AGENCY NAME...............//^S X=AGN;I X="""" S Y=""@5"""
"RTN","OOPSSUP2",20,0)
 S DR(1,2260,5)="131     STREET ADDRESS............//^S X=ADD"
"RTN","OOPSSUP2",21,0)
 S DR(1,2260,6)="132     CITY......................//^S X=CITY"
"RTN","OOPSSUP2",22,0)
 S DR(1,2260,7)="133     STATE.....................//^S X=STATE"
"RTN","OOPSSUP2",23,0)
 S DR(1,2260,8)="134     ZIP CODE..................//^S X=ZIP"
"RTN","OOPSSUP2",24,0)
 S DR(1,2260,9)="S Y=176"
"RTN","OOPSSUP2",25,0)
 S DR(1,2260,10)="@5"
"RTN","OOPSSUP2",26,0)
 S DR(1,2260,11)="131////@"
"RTN","OOPSSUP2",27,0)
 S DR(1,2260,12)="132////@"
"RTN","OOPSSUP2",28,0)
 S DR(1,2260,13)="133////@"
"RTN","OOPSSUP2",29,0)
 S DR(1,2260,14)="134////@"
"RTN","OOPSSUP2",30,0)
 S DR(1,2260,15)="176 18. EMPLOYEE'S DUTY STATION..."
"RTN","OOPSSUP2",31,0)
 S DR(1,2260,16)="177     STREET ADDRESS............"
"RTN","OOPSSUP2",32,0)
 S DR(1,2260,17)="178     CITY......................"
"RTN","OOPSSUP2",33,0)
 S DR(1,2260,18)="179     STATE....................."
"RTN","OOPSSUP2",34,0)
 S DR(1,2260,19)="180     ZIP CODE.................."
"RTN","OOPSSUP2",35,0)
 S DR(1,2260,20)="W !,"" 19. REGULAR WORK HOURS:"""
"RTN","OOPSSUP2",36,0)
 S DR(1,2260,21)="138     FROM......................"
"RTN","OOPSSUP2",37,0)
 S DR(1,2260,22)="139     TO........................"
"RTN","OOPSSUP2",38,0)
 S DR(1,2260,23)="S ITEM=20 W !,"" 20. REGULAR WORK SCHEDULE.....: ""_$$GET1^DIQ(2260,D0,140,""E"")"
"RTN","OOPSSUP2",39,0)
 S DR(1,2260,24)="K DIR S DIR(""A"")=""                                 "",DIR(""B"")=$$GET1^DIQ(2260,D0,140,""I"") D RWS^OOPSUTL2 S:$D(DIRUT) Y=""@2"""
"RTN","OOPSSUP2",40,0)
 ;
"RTN","OOPSSUP2",41,0)
 ; Default from 2162, require time entry but allow edit
"RTN","OOPSSUP2",42,0)
 S DTINJ=$$GET1^DIQ(2260,IEN,4,"E")
"RTN","OOPSSUP2",43,0)
 S DR(1,2260,25)="4 21. DATE/TIME INJURY OCCURRED.......//^S X=DTINJ"
"RTN","OOPSSUP2",44,0)
 S DR(1,2260,26)="I $P(X,""."",2)="""" W !,""Time is REQUIRED in this response."" S Y=4"
"RTN","OOPSSUP2",45,0)
 S DR(1,2260,27)="175 22. DATE OF NOTICE RECEIVED..."
"RTN","OOPSSUP2",46,0)
 S DR(1,2260,28)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=175"
"RTN","OOPSSUP2",47,0)
 S DR(1,2260,29)="142 23. DATE/TIME STOPPED WORK...."
"RTN","OOPSSUP2",48,0)
 S DR(1,2260,30)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=142"
"RTN","OOPSSUP2",49,0)
 S DR(1,2260,31)="143 24. DATE PAY STOPPED.........."
"RTN","OOPSSUP2",50,0)
 S DR(1,2260,32)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=143"
"RTN","OOPSSUP2",51,0)
 S DR(1,2260,33)="144 25. DATE 45 DAY PERIOD BEGAN.."
"RTN","OOPSSUP2",52,0)
 S DR(1,2260,34)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=144"
"RTN","OOPSSUP2",53,0)
 S DR(1,2260,35)="145 26. DATE/TIME RETURNED TO WORK"
"RTN","OOPSSUP2",54,0)
 S DR(1,2260,36)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=145"
"RTN","OOPSSUP2",55,0)
 S DR(1,2260,37)="146 27. WAS EMPLOYEE INJURED IN PERFORMANCE OF DUTY;I X=""Y"" S Y=148;"
"RTN","OOPSSUP2",56,0)
 S DR(1,2260,38)="147     EXPLANATION"
"RTN","OOPSSUP2",57,0)
 S DR(1,2260,39)="148 28. WAS INJURY CAUSED BY EMPLOYEE'S WILLFUL MISCONDUCT, INTOXICATION, OR            INTENT TO INJURE SELF OR ANOTHER;I X=""N"" S Y=150;"
"RTN","OOPSSUP2",58,0)
 S DR(1,2260,40)="149     EXPLANATION"
"RTN","OOPSSUP2",59,0)
 S DR(1,2260,41)="150 29. WAS INJURY CAUSED BY 3RD PARTY;I X=""N"" S Y=""@1"""
"RTN","OOPSSUP2",60,0)
 S DR(1,2260,42)="W !,"" 30. NAME AND ADDRESS OF THIRD PARTY:"""
"RTN","OOPSSUP2",61,0)
 S DR(1,2260,43)="151     NAME OF THIRD PARTY.......;I X="""" S Y=""@1"""
"RTN","OOPSSUP2",62,0)
 S DR(1,2260,44)="152     STREET ADDRESS............"
"RTN","OOPSSUP2",63,0)
 S DR(1,2260,45)="153     CITY......................"
"RTN","OOPSSUP2",64,0)
 S DR(1,2260,46)="154     STATE....................."
"RTN","OOPSSUP2",65,0)
 S DR(1,2260,47)="155     ZIP CODE.................."
"RTN","OOPSSUP2",66,0)
 S DR(1,2260,48)="@1"
"RTN","OOPSSUP2",67,0)
 S DR(1,2260,49)="W !,"" 31. NAME AND ADDRESS OF PHYSICIAN FIRST PROVIDING MEDICAL CARE:"""
"RTN","OOPSSUP2",68,0)
 ; Patch 7 - default physician info, if name deleted, del other fields
"RTN","OOPSSUP2",69,0)
 D PHINFO^OOPSUTL2
"RTN","OOPSSUP2",70,0)
 S DR(1,2260,50)="156     NAME OF PHYSICIAN.........//^S X=PNAME;I X="""" S Y=""@4"""
"RTN","OOPSSUP2",71,0)
 S DR(1,2260,51)="157     STREET ADDRESS............//^S X=PADD"
"RTN","OOPSSUP2",72,0)
 S DR(1,2260,52)="158     CITY......................//^S X=PCITY"
"RTN","OOPSSUP2",73,0)
 S DR(1,2260,53)="159     STATE.....................//^S X=PSTATE"
"RTN","OOPSSUP2",74,0)
 S DR(1,2260,54)="160     ZIP CODE..................//^S X=PZIP"
"RTN","OOPSSUP2",75,0)
 S DR(1,2260,55)="S Y=161"
"RTN","OOPSSUP2",76,0)
 S DR(1,2260,56)="@4"
"RTN","OOPSSUP2",77,0)
 S DR(1,2260,57)="157////@"
"RTN","OOPSSUP2",78,0)
 S DR(1,2260,58)="158////@"
"RTN","OOPSSUP2",79,0)
 S DR(1,2260,59)="159////@"
"RTN","OOPSSUP2",80,0)
 S DR(1,2260,60)="160////@"
"RTN","OOPSSUP2",81,0)
 S DR(1,2260,61)="161 32. 1ST DATE MEDICAL CARE RECEIVED"
"RTN","OOPSSUP2",82,0)
 S DR(1,2260,62)="I X'="""",'$$FUT^OOPSUTL4(X) S Y=161"
"RTN","OOPSSUP2",83,0)
 S DR(1,2260,63)="162 33. DO MEDICAL REPORTS SHOW EMPLOYEE IS DISABLED FOR WORK"
"RTN","OOPSSUP2",84,0)
 S DR(1,2260,64)="163 34. DOES YOUR KNOWLEDGE OF THE FACTS AGREE WITH STATEMENTS OF THE EMPLOYEE;I X=""Y"" S Y=165"
"RTN","OOPSSUP2",85,0)
 S DR(1,2260,65)="164     EXPLANATION~"
"RTN","OOPSSUP2",86,0)
 S DR(1,2260,66)="W !"
"RTN","OOPSSUP2",87,0)
 S DR(1,2260,67)="165 35. IF THE EMPLOYING AGENCY CONTROVERTS CONTINUATION OF PAY, STATE THE REASON       IN DETAIL~"
"RTN","OOPSSUP2",88,0)
 S DR(1,2260,68)="W !!,"" 36. PAY RATE WHEN EMPLOYEE STOPPED WORK:"""
"RTN","OOPSSUP2",89,0)
 S DR(1,2260,69)="166     $........................."
"RTN","OOPSSUP2",90,0)
 S DR(1,2260,70)="167     PER......................."
"RTN","OOPSSUP2",91,0)
 S DR(1,2260,71)="W !!,""     Signature of Supervisor and Filing Instructions"""
"RTN","OOPSSUP2",92,0)
 S DR(1,2260,72)="W !,""     -----------------------------------------------"""
"RTN","OOPSSUP2",93,0)
 S DR(1,2260,73)="S ITEM=37 D EXCEPT^OOPSUTL2;168     EXCEPTION"
"RTN","OOPSSUP2",94,0)
 S DR(1,2260,74)="W !,""     NAME OF SUPERVISOR:  ""_SUP"
"RTN","OOPSSUP2",95,0)
 S DR(1,2260,75)="172     SUPERVISOR'S TITLE."
"RTN","OOPSSUP2",96,0)
 S DR(1,2260,76)="173     OFFICE PHONE......."
"RTN","OOPSSUP2",97,0)
 S DR(1,2260,77)="174 38. FILING INSTRUCTIONS"
"RTN","OOPSSUP2",98,0)
 S DR(1,2260,78)="@2"
"RTN","OOPSSUP2",99,0)
 Q
"RTN","OOPSSUP2",100,0)
CA2 ; CA2 FORM
"RTN","OOPSSUP2",101,0)
 N ITEM
"RTN","OOPSSUP2",102,0)
 ; Patch 7 - initialize varibles, new default values
"RTN","OOPSSUP2",103,0)
 S (AIEN,AGN,ADD,CITY,STATE,ZIP)=""
"RTN","OOPSSUP2",104,0)
 S (PNAME,PADD,PCITY,PSTATE,PZIP,STAT,SIEN)=""
"RTN","OOPSSUP2",105,0)
 W !!," Notice of Occupational Disease and Claim for Compensation (Form CA-2)"
"RTN","OOPSSUP2",106,0)
 W !!,"     Supervisor's Report"
"RTN","OOPSSUP2",107,0)
 W !,"     -------------------",!
"RTN","OOPSSUP2",108,0)
 ;Patch 7 - default agency info, if Agency Name deleted, del other fields
"RTN","OOPSSUP2",109,0)
 D AGNINFO^OOPSUTL2
"RTN","OOPSSUP2",110,0)
 S DR=""
"RTN","OOPSSUP2",111,0)
 S DR(1,2260,1)="230 19. AGENCY NAME...................//^S X=AGN;I X="""" S Y=""@5"""
"RTN","OOPSSUP2",112,0)
 S DR(1,2260,2)="231     STREET ADDRESS................//^S X=ADD"
"RTN","OOPSSUP2",113,0)
 S DR(1,2260,3)="232     CITY..........................//^S X=CITY"
"RTN","OOPSSUP2",114,0)
 S DR(1,2260,4)="233     STATE.........................//^S X=STATE"
"RTN","OOPSSUP2",115,0)
 S DR(1,2260,5)="234     AGENCY ZIP CODE...............//^S X=ZIP"
"RTN","OOPSSUP2",116,0)
 S DR(1,2260,6)="S Y=237"
"RTN","OOPSSUP2",117,0)
 S DR(1,2260,7)="@5"
"RTN","OOPSSUP2",118,0)
 S DR(1,2260,8)="231////@"
"RTN","OOPSSUP2",119,0)
 S DR(1,2260,9)="232////@"
"RTN","OOPSSUP2",120,0)
 S DR(1,2260,10)="233////@"
"RTN","OOPSSUP2",121,0)
 S DR(1,2260,11)="234////@"
"RTN","OOPSSUP2",122,0)
 S DR(1,2260,12)="237 20. EMPLOYEE'S DUTY STATION......."
"RTN","OOPSSUP2",123,0)
 S DR(1,2260,13)="238     STREET ADDRESS................"
"RTN","OOPSSUP2",124,0)
 S DR(1,2260,14)="239     CITY.........................."
"RTN","OOPSSUP2",125,0)
 S DR(1,2260,15)="240     STATE........................."
"RTN","OOPSSUP2",126,0)
 S DR(1,2260,16)="241     ZIP CODE......................"
"RTN","OOPSSUP2",127,0)
 S DR(1,2260,17)="W !,"" 21. REGULAR WORK HOURS:"""
"RTN","OOPSSUP2",128,0)
 S DR(1,2260,18)="242     FROM.........................."
"RTN","OOPSSUP2",129,0)
 S DR(1,2260,19)="243     TO............................"
"RTN","OOPSSUP2",130,0)
 S DR(1,2260,20)="S ITEM=22 W !,"" 22. REGULAR WORK SCHEDULE.........: ""_$$GET1^DIQ(2260,D0,244,""E"")"
"RTN","OOPSSUP2",131,0)
 S DR(1,2260,21)="K DIR S DIR(""A"")=""                                     "",DIR(""B"")=$$GET1^DIQ(2260,D0,244,""I"") D RWS^OOPSUTL2 S:$D(DIRUT) Y=""@2"""
"RTN","OOPSSUP2",132,0)
 S DR(1,2260,22)="W !,"" 23. NAME AND ADDRESS OF PHYSICIAN FIRST PROVIDING MEDICAL CARE"""
"RTN","OOPSSUP2",133,0)
 ;Patch 7 - default physician info - if physician deleted, del oth flds
"RTN","OOPSSUP2",134,0)
 D PHINFO^OOPSUTL2
"RTN","OOPSSUP2",135,0)
 S DR(1,2260,23)="245     NAME OF PHYSICIAN.............//^S X=PNAME;I X="""" S Y=""@4"""
"RTN","OOPSSUP2",136,0)
 S DR(1,2260,24)="246     STREET ADDRESS................//^S X=PADD"
"RTN","OOPSSUP2",137,0)
 S DR(1,2260,25)="247     CITY..........................//^S X=PCITY"
"RTN","OOPSSUP2",138,0)
 S DR(1,2260,26)="248     STATE.........................//^S X=STATE"
"RTN","OOPSSUP2",139,0)
 S DR(1,2260,27)="249     ZIP CODE......................//^S X=PZIP"
"RTN","OOPSSUP2",140,0)
 S DR(1,2260,28)="S Y=250"
"RTN","OOPSSUP2",141,0)
 S DR(1,2260,29)="@4"
"RTN","OOPSSUP2",142,0)
 S DR(1,2260,30)="246////@"
"RTN","OOPSSUP2",143,0)
 S DR(1,2260,31)="247////@"
"RTN","OOPSSUP2",144,0)
 S DR(1,2260,32)="248////@"
"RTN","OOPSSUP2",145,0)
 S DR(1,2260,33)="249////@"
"RTN","OOPSSUP2",146,0)
 S DR(1,2260,34)="250 24. 1ST DATE MEDICAL CARE RECEIVED"
"RTN","OOPSSUP2",147,0)
 S DR(1,2260,35)="I X'="""",'$$FUT^OOPSUTL4(X) S Y=250"
"RTN","OOPSSUP2",148,0)
 S DR(1,2260,36)="251 25. DO MEDICAL REPORTS SHOW EMPLOYEE IS DISABLED FOR WORK"
"RTN","OOPSSUP2",149,0)
 S DR(1,2260,37)="252 26. DATE EMPLOYEE FIRST REPORTED CONDITION TO SUPERVISOR."
"RTN","OOPSSUP2",150,0)
 S DR(1,2260,38)="I X'="""",'$$FUT^OOPSUTL4(X) S Y=252"
"RTN","OOPSSUP2",151,0)
 S DR(1,2260,39)="253 27. DATE/TIME EMPLOYEE STOPPED WORK.."
"RTN","OOPSSUP2",152,0)
 S DR(1,2260,40)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=253"
"RTN","OOPSSUP2",153,0)
 S DR(1,2260,41)="254 28. DATE/TIME EMPLOYEE'S PAY STOPPED."
"RTN","OOPSSUP2",154,0)
 S DR(1,2260,42)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=254"
"RTN","OOPSSUP2",155,0)
 S DR(1,2260,43)="255 29. DATE EMPLOYEE WAS LAST EXPOSED TO CONDITIONS ALLEGED TO HAVE CAUSED             DISEASE OR ILLNESS..............."
"RTN","OOPSSUP2",156,0)
 S DR(1,2260,44)="256 30. DATE/TIME RETURNED TO WORK......."
"RTN","OOPSSUP2",157,0)
 S DR(1,2260,45)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=256"
"RTN","OOPSSUP2",158,0)
 S DR(1,2260,46)="@3"
"RTN","OOPSSUP2",159,0)
 S DR(1,2260,47)="W !,"" 31. IF EMPLOYEE HAS RETURNED TO WORK AND WORK ASSIGNMENT HAS CHANGED, DESCRIBE      NEW DUTIES"""
"RTN","OOPSSUP2",160,0)
 S DR(1,2260,48)="257     DESCRIPTION~"
"RTN","OOPSSUP2",161,0)
 S DR(1,2260,49)="W !"
"RTN","OOPSSUP2",162,0)
 S DR(1,2260,50)="258 32. WAS INJURY CAUSED BY 3RD PARTY;I X=""N"" S Y=""@1"""
"RTN","OOPSSUP2",163,0)
 S DR(1,2260,51)="259 33. NAME OF THIRD PARTY..........."
"RTN","OOPSSUP2",164,0)
 S DR(1,2260,52)="260     STREET ADDRESS................"
"RTN","OOPSSUP2",165,0)
 S DR(1,2260,53)="261     CITY.........................."
"RTN","OOPSSUP2",166,0)
 S DR(1,2260,54)="262     STATE........................."
"RTN","OOPSSUP2",167,0)
 S DR(1,2260,55)="263     ZIP CODE......................"
"RTN","OOPSSUP2",168,0)
 S DR(1,2260,56)="@1"
"RTN","OOPSSUP2",169,0)
 S DR(1,2260,57)="W !!,""     Signature of Supervisor"""
"RTN","OOPSSUP2",170,0)
 S DR(1,2260,58)="W !,""     -----------------------"""
"RTN","OOPSSUP2",171,0)
 S DR(1,2260,59)="S ITEM=34 D EXCEPT^OOPSUTL2;264     EXCEPTION"
"RTN","OOPSSUP2",172,0)
 S DR(1,2260,60)="W !,""     NAME OF SUPERVISOR: ""_SUP"
"RTN","OOPSSUP2",173,0)
 S DR(1,2260,61)="268     SUPERVISOR'S TITLE"
"RTN","OOPSSUP2",174,0)
 S DR(1,2260,62)="269     OFFICE PHONE......"
"RTN","OOPSSUP2",175,0)
 S DR(1,2260,63)="@2"
"RTN","OOPSSUP2",176,0)
 Q
"RTN","OOPSUTL2")
0^4^B36476658
"RTN","OOPSUTL2",1,0)
OOPSUTL2 ;HINES/WAA - Utilities Routines - 3/24/98
"RTN","OOPSUTL2",2,0)
 ;;1.0;ASISTS;**7**;Jun 01, 1998
"RTN","OOPSUTL2",3,0)
 ;;
"RTN","OOPSUTL2",4,0)
CARE2(IEN) ; Update location field
"RTN","OOPSUTL2",5,0)
 N LOC,GEN
"RTN","OOPSUTL2",6,0)
 S GEN=$$GET1^DIQ(2260,IEN,27,"I")
"RTN","OOPSUTL2",7,0)
 S LOC=$$GET1^DIQ(2261.4,GEN,2,"I")
"RTN","OOPSUTL2",8,0)
 S $P(^OOPS(2260,IEN,"2162B"),U,1)=LOC
"RTN","OOPSUTL2",9,0)
 Q
"RTN","OOPSUTL2",10,0)
EQUIP() ; This will ask if the product failed
"RTN","OOPSUTL2",11,0)
 N ANS,DIR,Y
"RTN","OOPSUTL2",12,0)
 S ANS=0
"RTN","OOPSUTL2",13,0)
 S DIR(0)="YO^"
"RTN","OOPSUTL2",14,0)
 S ANS=0,DIR("B")=$S($P($G(^OOPS(2260,IEN,"2162D")),U,7)'="":"YES",1:"NO")
"RTN","OOPSUTL2",15,0)
 S DIR("A")="WAS THERE AN EQUIPMENT/DEVICE/PRODUCT FAILURE"
"RTN","OOPSUTL2",16,0)
 S DIR("?")="Enter Yes or No to indicate that it was a failure of an device."
"RTN","OOPSUTL2",17,0)
 D ^DIR
"RTN","OOPSUTL2",18,0)
 I Y=1 S ANS=1
"RTN","OOPSUTL2",19,0)
 I ANS'=1,$P($G(^OOPS(2260,IEN,"2162D")),U,7)'="" S $P(^("2162D"),U,7)=""
"RTN","OOPSUTL2",20,0)
 Q ANS
"RTN","OOPSUTL2",21,0)
DISP ; disp text for prompt
"RTN","OOPSUTL2",22,0)
 W !,"Was the exposed part:"
"RTN","OOPSUTL2",23,0)
 W !,"      Skin,"
"RTN","OOPSUTL2",24,0)
 W !,"      Eyes(Conjunctiva),"
"RTN","OOPSUTL2",25,0)
 W !,"      Nose(mucosa),"
"RTN","OOPSUTL2",26,0)
 W !,"      Mouth(mucosa)"
"RTN","OOPSUTL2",27,0)
 W !,"      Other"
"RTN","OOPSUTL2",28,0)
 W !
"RTN","OOPSUTL2",29,0)
 Q
"RTN","OOPSUTL2",30,0)
CARE(IEN,GEN) ; Select Patient Care Area
"RTN","OOPSUTL2",31,0)
 N AREA,TYPE,VIEW
"RTN","OOPSUTL2",32,0)
 S VIEW=0
"RTN","OOPSUTL2",33,0)
 S AREA=$$GET1^DIQ(2260,IEN,26,"I")
"RTN","OOPSUTL2",34,0)
 I AREA="" S AREA="U"
"RTN","OOPSUTL2",35,0)
 I AREA="U" S VIEW=1
"RTN","OOPSUTL2",36,0)
 E  D
"RTN","OOPSUTL2",37,0)
 .S TYPE=$$GET1^DIQ(2261.4,GEN,2,"I")
"RTN","OOPSUTL2",38,0)
 .I AREA=TYPE S VIEW=1
"RTN","OOPSUTL2",39,0)
 .Q
"RTN","OOPSUTL2",40,0)
 Q VIEW
"RTN","OOPSUTL2",41,0)
 ;
"RTN","OOPSUTL2",42,0)
 N AREA,OTHER
"RTN","OOPSUTL2",43,0)
 N SELECT,DIR,Y,DEFAULT,INC
"RTN","OOPSUTL2",44,0)
 S INC=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSUTL2",45,0)
 S SELECT=""
"RTN","OOPSUTL2",46,0)
 ;W !
"RTN","OOPSUTL2",47,0)
 ;W !,"  Select the Area Type:",!
"RTN","OOPSUTL2",48,0)
 ;W !,"                  1) Patient"
"RTN","OOPSUTL2",49,0)
 ;W !,"                  2) Non-patient"
"RTN","OOPSUTL2",50,0)
 ;W !,"                  3) Unknown",!
"RTN","OOPSUTL2",51,0)
 S DIR(0)="SAO^1:Patient;2:Non-patient;3:Unknown"
"RTN","OOPSUTL2",52,0)
 S DIR("A")="GENERAL SETTING OF "_$S(INC=1:"INJURY",INC=2:"ILLNESS",1:"")_": "
"RTN","OOPSUTL2",53,0)
 S DIR("?")="Select the area type to be used."
"RTN","OOPSUTL2",54,0)
 S SELECT=$$GET1^DIQ(2260,IEN,27,"I")
"RTN","OOPSUTL2",55,0)
 S SELECT=$S(SELECT'="":$$GET1^DIQ(2261.4,SELECT,2,"I"),1:"")
"RTN","OOPSUTL2",56,0)
 S:SELECT'="" SELECT=$S(SELECT="P":"Patient",SELECT="N":"Non-patient",1:"")
"RTN","OOPSUTL2",57,0)
 S:SELECT'="" DIR("B")=SELECT
"RTN","OOPSUTL2",58,0)
 D ^DIR
"RTN","OOPSUTL2",59,0)
 I $D(DTOUT)!($D(DUOUT)) S Y(0)="",AREA=-1
"RTN","OOPSUTL2",60,0)
 S (OTHER,AREA)=$S(Y(0)="Patient":"P",Y(0)="Non-patient":"N",Y(0)="Unknown":"",1:"-1")
"RTN","OOPSUTL2",61,0)
 I AREA'=-1 D
"RTN","OOPSUTL2",62,0)
 .I AREA'="",$E(AREA,1)=$E(SELECT,1) S DEFAULT=$$GET1^DIQ(2261.4,$$GET1^DIQ(2260,IEN,27,"I"),.01,"E")
"RTN","OOPSUTL2",63,0)
 .D
"RTN","OOPSUTL2",64,0)
 ..N DIC,X
"RTN","OOPSUTL2",65,0)
 ..S DIC="^OOPS(2261.4,"
"RTN","OOPSUTL2",66,0)
 ..I AREA'="" S DIC("S")="I $$GET1^DIQ(2261.4,Y,2,""I"")=AREA"
"RTN","OOPSUTL2",67,0)
 ..I $D(DEFAULT) S DIC("B")=DEFAULT
"RTN","OOPSUTL2",68,0)
 ..S DIC("A")=$S(AREA="P":"PATIENT ",AREA="N":"NON-PATIENT ",1:" ")_"CARE AREA: ",DIC(0)="AQEMNZ"
"RTN","OOPSUTL2",69,0)
 ..D ^DIC
"RTN","OOPSUTL2",70,0)
 ..I $D(DTOUT)!($D(DUOUT)) S AREA=-1 Q
"RTN","OOPSUTL2",71,0)
 ..I Y<1 S AREA=-1 Q
"RTN","OOPSUTL2",72,0)
 ..S AREA=$P(Y,U)
"RTN","OOPSUTL2",73,0)
 ..Q
"RTN","OOPSUTL2",74,0)
 .Q
"RTN","OOPSUTL2",75,0)
 I AREA>0 S AREA=AREA_U_OTHER
"RTN","OOPSUTL2",76,0)
 Q AREA
"RTN","OOPSUTL2",77,0)
SAFETY(IEN,OPEN) ; Safety Officer Screen
"RTN","OOPSUTL2",78,0)
 N VIEW
"RTN","OOPSUTL2",79,0)
 S VIEW=0,OPEN=$G(OPEN,0)
"RTN","OOPSUTL2",80,0)
 ;I FORM=
"RTN","OOPSUTL2",81,0)
 I OPEN,'$P(^OOPS(2260,IEN,0),U,6) S VIEW=1
"RTN","OOPSUTL2",82,0)
 I 'OPEN,$P(^OOPS(2260,IEN,0),U,6)'=2,$P($$EDSTA^OOPSUTL1(IEN,"S"),U,3) S VIEW=1
"RTN","OOPSUTL2",83,0)
 Q VIEW
"RTN","OOPSUTL2",84,0)
SUPSCR(SUP,IEN,OPEN) ; Supervisor screen
"RTN","OOPSUTL2",85,0)
 ; Input
"RTN","OOPSUTL2",86,0)
 ;   SUP the DUZ of the Supervisor
"RTN","OOPSUTL2",87,0)
 ;   IEN the IEN of the ENTRY in file 2260
"RTN","OOPSUTL2",88,0)
 ;
"RTN","OOPSUTL2",89,0)
 ; Output
"RTN","OOPSUTL2",90,0)
 ;   VIEW 1 Sup can see
"RTN","OOPSUTL2",91,0)
 ;        0 Sup can't see
"RTN","OOPSUTL2",92,0)
 N VIEW
"RTN","OOPSUTL2",93,0)
 S VIEW=0,OPEN=$G(OPEN,0)
"RTN","OOPSUTL2",94,0)
 I $$OPEN^OOPSUTL1(IEN,OPEN) D  ;Form can be selected
"RTN","OOPSUTL2",95,0)
 .N INJ
"RTN","OOPSUTL2",96,0)
 .S INJ=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSUTL2",97,0)
 .I ($$GET1^DIQ(2260,IEN,53,"I")'=DUZ)&($$GET1^DIQ(2260,IEN,53.1,"I")'=DUZ) Q  ; Not the Primary or secondary super
"RTN","OOPSUTL2",98,0)
 .I $$EDSTA^OOPSUTL1(IEN,"O") Q
"RTN","OOPSUTL2",99,0)
 .;     ^^^ 2162 has been signed by the Safety Officer
"RTN","OOPSUTL2",100,0)
 .
"RTN","OOPSUTL2",101,0)
 .I ($P($$EDSTA^OOPSUTL1(IEN,"S"),U,INJ)),($P($$EDSTA^OOPSUTL1(IEN,"S"),U,3)) Q  ; Form can not be selected because both
"RTN","OOPSUTL2",102,0)
 . ;the 2162 and the CA1/2 have been signed
"RTN","OOPSUTL2",103,0)
 .S VIEW=1
"RTN","OOPSUTL2",104,0)
 .Q
"RTN","OOPSUTL2",105,0)
 Q VIEW
"RTN","OOPSUTL2",106,0)
AGNINFO ;Patch 7 - default Agency info if available
"RTN","OOPSUTL2",107,0)
 S AIEN=$P(^OOPS(2260,IEN,"2162A"),"^",9)
"RTN","OOPSUTL2",108,0)
 S AGN=$$GET1^DIQ(4,AIEN,.01,"E")
"RTN","OOPSUTL2",109,0)
 S ADD=$$GET1^DIQ(4,AIEN,1.01,"E")
"RTN","OOPSUTL2",110,0)
 S CITY=$$GET1^DIQ(4,AIEN,1.03,"E")
"RTN","OOPSUTL2",111,0)
 S STATE=$$GET1^DIQ(4,AIEN,.02,"E")
"RTN","OOPSUTL2",112,0)
 S ZIP=$$GET1^DIQ(4,AIEN,1.04,"E")
"RTN","OOPSUTL2",113,0)
 Q
"RTN","OOPSUTL2",114,0)
PHINFO  ;Patch 7 - default physician data, if available
"RTN","OOPSUTL2",115,0)
 S STAT=0
"RTN","OOPSUTL2",116,0)
 S AIEN=$P(^OOPS(2260,IEN,"2162A"),"^",9)
"RTN","OOPSUTL2",117,0)
 ; get physician data for correct STATION
"RTN","OOPSUTL2",118,0)
 F  S STAT=$O(^OOPS(2262,1,1,STAT)) Q:STAT'>0  I ($P(^OOPS(2262,1,1,STAT,0),"^")=AIEN) Q  ;found match, quit
"RTN","OOPSUTL2",119,0)
 I STAT D
"RTN","OOPSUTL2",120,0)
 .S SIEN=STAT_",1,"
"RTN","OOPSUTL2",121,0)
 .S PNAME=$$GET1^DIQ(2262.03,SIEN,1)
"RTN","OOPSUTL2",122,0)
 .S PADD=$$GET1^DIQ(2262.03,SIEN,2)
"RTN","OOPSUTL2",123,0)
 .S PCITY=$$GET1^DIQ(2262.03,SIEN,3)
"RTN","OOPSUTL2",124,0)
 .S PSTATE=$$GET1^DIQ(2262.03,SIEN,4)
"RTN","OOPSUTL2",125,0)
 .S PZIP=$$GET1^DIQ(2262.03,SIEN,5)
"RTN","OOPSUTL2",126,0)
 Q
"RTN","OOPSUTL2",127,0)
RWS ;Regular Work Schedule
"RTN","OOPSUTL2",128,0)
 N Y S DIR(0)="LA^1:7"
"RTN","OOPSUTL2",129,0)
 S DIR("?",1)="     Enter the employee's work schedule at the time of thE incident."
"RTN","OOPSUTL2",130,0)
 S DIR("?",2)="     The numbers 1-7 correspond to the days of the week."
"RTN","OOPSUTL2",131,0)
 S DIR("?",3)="       1 = Sunday"
"RTN","OOPSUTL2",132,0)
 S DIR("?",4)="       2 = Monday"
"RTN","OOPSUTL2",133,0)
 S DIR("?",5)="       3 = Tuesday"
"RTN","OOPSUTL2",134,0)
 S DIR("?",6)="       4 = Wednesday"
"RTN","OOPSUTL2",135,0)
 S DIR("?",7)="       5 = Thursday"
"RTN","OOPSUTL2",136,0)
 S DIR("?",8)="       6 = Friday"
"RTN","OOPSUTL2",137,0)
 S DIR("?",9)="       7 = Saturday"
"RTN","OOPSUTL2",138,0)
 S DIR("?",10)="     Enter the day numbers as a range or list separated b y commas."
"RTN","OOPSUTL2",139,0)
 S DIR("?",11)=""
"RTN","OOPSUTL2",140,0)
 S DIR("?",12)="     Examples: For Mon-Fri     enter 2-6 (or 2,3,4,5,6)"
"RTN","OOPSUTL2",141,0)
 S DIR("?",13)="               For Wed-Sat     enter 4-7 (or 4,5,6,7)"
"RTN","OOPSUTL2",142,0)
 S DIR("?")="               For Mon,Wed,Fri enter 2,4,6"
"RTN","OOPSUTL2",143,0)
 D ^DIR
"RTN","OOPSUTL2",144,0)
 I $P(X,"-",2)>7 W !,"     Range exceeds 1-7 limit." G RWS
"RTN","OOPSUTL2",145,0)
 Q:$D(DIRUT)
"RTN","OOPSUTL2",146,0)
 S:ITEM=20 $P(^OOPS(2260,D0,"CA1F"),U,11)=Y
"RTN","OOPSUTL2",147,0)
 S:ITEM=22 $P(^OOPS(2260,D0,"CA2I"),U,8)=Y
"RTN","OOPSUTL2",148,0)
 Q
"RTN","OOPSUTL2",149,0)
EXCEPT ; Exception statement
"RTN","OOPSUTL2",150,0)
 W !," ",ITEM,". A supervisor who knowingly certifies to any false statement,"
"RTN","OOPSUTL2",151,0)
 W !,"     misrepresentation, concealment of fact, etc., in respect of"
"RTN","OOPSUTL2",152,0)
 W !,"     this claim may also be subject to appropriate felony criminal"
"RTN","OOPSUTL2",153,0)
 W !,"     prosecution."
"RTN","OOPSUTL2",154,0)
 W !
"RTN","OOPSUTL2",155,0)
 W !,"     I certify that the information given above and that furnished"
"RTN","OOPSUTL2",156,0)
 W !,"     by the employee is true to the best of my knowledge with the"
"RTN","OOPSUTL2",157,0)
 W !,"     following exception."
"RTN","OOPSUTL2",158,0)
 W !
"RTN","OOPSUTL2",159,0)
 Q
"SEC","^DIC",2262,2262,0,"AUDIT")
@
"SEC","^DIC",2262,2262,0,"DD")
@
"SEC","^DIC",2262,2262,0,"DEL")
@
"SEC","^DIC",2262,2262,0,"LAYGO")
@
"SEC","^DIC",2262,2262,0,"RD")
@
"SEC","^DIC",2262,2262,0,"WR")
@
"SEC","^DIC",2262.1,2262.1,0,"AUDIT")
@
"SEC","^DIC",2262.1,2262.1,0,"DD")
@
"SEC","^DIC",2262.1,2262.1,0,"DEL")
@
"SEC","^DIC",2262.1,2262.1,0,"LAYGO")
@
"SEC","^DIC",2262.1,2262.1,0,"RD")
@
"SEC","^DIC",2262.1,2262.1,0,"WR")
@
"VER")
8.0^22.0
"^DD",2262,2262,0)
FIELD^^3^4
"^DD",2262,2262,0,"DT")
3000224
"^DD",2262,2262,0,"IX","B",2262,.01)
 
"^DD",2262,2262,0,"NM","ASISTS SITE PARAMETER")
 
"^DD",2262,2262,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",2262,2262,.01,1,0)
^.1
"^DD",2262,2262,.01,1,1,0)
2262^B
"^DD",2262,2262,.01,1,1,1)
S ^OOPS(2262,"B",$E(X,1,30),DA)=""
"^DD",2262,2262,.01,1,1,2)
K ^OOPS(2262,"B",$E(X,1,30),DA)
"^DD",2262,2262,.01,3)
Answer must be 3-30 characters in length
"^DD",2262,2262,.01,21,0)
^^1^1^3000216^^^^
"^DD",2262,2262,.01,21,1,0)
This is the name of the site that this entry is being created for.
"^DD",2262,2262,.01,"DT")
3000216
"^DD",2262,2262,1,0)
OWCP AGENCY CODE^F^^0;2^K:$L(X)>6!($L(X)<4) X
"^DD",2262,2262,1,3)
Answer must be 4-6 characters in length.
"^DD",2262,2262,1,21,0)
^.001^3^3^3000229^^^^
"^DD",2262,2262,1,21,1,0)
This is a four digit (or four digits plus two letter) code used by the 
"^DD",2262,2262,1,21,2,0)
employing agency.  The proper code may be obtained from your personnel
"^DD",2262,2262,1,21,3,0)
or compensation office, or by contacting the Office of Worker Compensation(OWCP).
"^DD",2262,2262,1,"DT")
3000224
"^DD",2262,2262,2,0)
OWCP DISTRICT CODE^P2262.1'^OOPS(2262.1,^0;3^Q
"^DD",2262,2262,2,21,0)
^^1^1^3000216^
"^DD",2262,2262,2,21,1,0)
This is the Office of Worker Compensation (OWCP) District Office.
"^DD",2262,2262,2,"DT")
3000210
"^DD",2262,2262,3,0)
STATION^2262.03P^^1;0
"^DD",2262,2262,3,21,0)
^^1^1^3000216^^^
"^DD",2262,2262,3,21,1,0)
This is a pointer to the station sub-file (2262.03)
"^DD",2262,2262.03,0)
STATION SUB-FIELD^^5^6
"^DD",2262,2262.03,0,"DT")
3000224
"^DD",2262,2262.03,0,"IX","B",2262.03,.01)
 
"^DD",2262,2262.03,0,"NM","STATION")
 
"^DD",2262,2262.03,0,"UP")
2262
"^DD",2262,2262.03,.01,0)
STATION^MP4'^DIC(4,^0;1^Q
"^DD",2262,2262.03,.01,1,0)
^.1
"^DD",2262,2262.03,.01,1,1,0)
2262.03^B
"^DD",2262,2262.03,.01,1,1,1)
S ^OOPS(2262,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",2262,2262.03,.01,1,1,2)
K ^OOPS(2262,DA(1),1,"B",$E(X,1,30),DA)
"^DD",2262,2262.03,.01,21,0)
^^1^1^3000216^
"^DD",2262,2262.03,.01,21,1,0)
This is a pointer to the institution file (#4).
"^DD",2262,2262.03,.01,"DT")
3000216
"^DD",2262,2262.03,1,0)
PHYSICIAN NAME^FX^^0;2^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<3)!(X?1P.E)!(X'?1U.ANP)!(X'[",") X
"^DD",2262,2262.03,1,3)
Answer must be 3-30 characters in length
"^DD",2262,2262.03,1,21,0)
^^3^3^3000216^^
"^DD",2262,2262.03,1,21,1,0)
This is the name of the head Employee Health Physician or the name of the 
"^DD",2262,2262.03,1,21,2,0)
Physician the site wants to use as a default in the physician block on the 
"^DD",2262,2262.03,1,21,3,0)
CA1/CA2.
"^DD",2262,2262.03,1,"DT")
3000224
"^DD",2262,2262.03,2,0)
PHYSICIAN ADDRESS^F^^0;3^K:$L(X)>35!($L(X)<3) X
"^DD",2262,2262.03,2,3)
Answer must be 3-35 characters in length
"^DD",2262,2262.03,2,21,0)
^^1^1^3000216^^
"^DD",2262,2262.03,2,21,1,0)
This the Physician's street address.
"^DD",2262,2262.03,2,"DT")
3000224
"^DD",2262,2262.03,3,0)
PHYSICIAN CITY^F^^0;4^K:$L(X)>20!($L(X)<3) X
"^DD",2262,2262.03,3,3)
Answer must be 3-20 characters in length
"^DD",2262,2262.03,3,21,0)
^^1^1^3000216^^
"^DD",2262,2262.03,3,21,1,0)
This is the Physician's city address.
"^DD",2262,2262.03,3,"DT")
3000224
"^DD",2262,2262.03,4,0)
PHYSICIAN STATE^P5'^DIC(5,^0;5^Q
"^DD",2262,2262.03,4,3)
Enter the Physican's state address
"^DD",2262,2262.03,4,21,0)
^^1^1^3000216^
"^DD",2262,2262.03,4,21,1,0)
This is the Physician's state address.
"^DD",2262,2262.03,4,"DT")
3000216
"^DD",2262,2262.03,5,0)
PHYSICIAN ZIP CODE^F^^0;6^K:$L(X)>10!($L(X)<5)!'(((X?5N)!(X?5N1"-"4N))) X
"^DD",2262,2262.03,5,3)
Enter Zip code or Zip + 4
"^DD",2262,2262.03,5,21,0)
^^1^1^3000216^
"^DD",2262,2262.03,5,21,1,0)
This is the Physician postal Zip code.
"^DD",2262,2262.03,5,"DT")
3000216
"^DD",2262.1,2262.1,0)
FIELD^^1^2
"^DD",2262.1,2262.1,0,"DT")
3000209
"^DD",2262.1,2262.1,0,"IX","B",2262.1,.01)
 
"^DD",2262.1,2262.1,0,"NM","ASISTS DOL DISTRICT OFFICE")
 
"^DD",2262.1,2262.1,0,"PT",2262,2)
 
"^DD",2262.1,2262.1,.01,0)
NAME^RF^^0;1^K:$L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E) X
"^DD",2262.1,2262.1,.01,1,0)
^.1
"^DD",2262.1,2262.1,.01,1,1,0)
2262.1^B
"^DD",2262.1,2262.1,.01,1,1,1)
S ^OOPS(2262.1,"B",$E(X,1,30),DA)=""
"^DD",2262.1,2262.1,.01,1,1,2)
K ^OOPS(2262.1,"B",$E(X,1,30),DA)
"^DD",2262.1,2262.1,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",2262.1,2262.1,1,0)
CODE^NJ3,0^^0;2^K:+X'=X!(X>100)!(X<1)!(X?.E1"."1.N) X
"^DD",2262.1,2262.1,1,3)
Type a number between 1 and 100, 0 Decimal Digits
"^DD",2262.1,2262.1,1,"DT")
3000209
"^DIC",2262,2262,0)
ASISTS SITE PARAMETER^2262
"^DIC",2262,2262,0,"GL")
^OOPS(2262,
"^DIC",2262,"B","ASISTS SITE PARAMETER",2262)
 
"^DIC",2262.1,2262.1,0)
ASISTS DOL DISTRICT OFFICE^2262.1
"^DIC",2262.1,2262.1,0,"GL")
^OOPS(2262.1,
"^DIC",2262.1,"B","ASISTS DOL DISTRICT OFFICE",2262.1)
 
**END**
**END**
