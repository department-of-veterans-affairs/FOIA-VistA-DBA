
=============================================================================
Run Date: SEP 18, 2003                     Designation: SD*5.3*309
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #271                    Status: Released
                  Compliance Date: SEP 27, 2003
=============================================================================

Associated patches: (v)SD*5.3*307  <<= must be installed BEFORE `SD*5.3*309'

Subject: Restricting Stop Code Use - SD

Category: 
  - Routine
  - Enhancement (Mandatory)
  - Data Dictionary
  - Informational

Description:
============

 Background
 ----------
 The Health Administration Center (HAC) Decision Support System (DSS) office, 
 requested an enhancement to the Veterans Health Information Systems and 
 Technology Architecture (VISTA) to implement an electronic means of restricting
 medical centers from entering secondary DSS stop codes, also known as DSS 
 Identifiers, in the primary DSS stop code position.  Also to prevent stations 
 from putting stop codes in the secondary position that should be primary only. 
 
 This project is being implemented in 2 phases.  The first phase adds 2 new 
 fields, restriction type and restriction date, to the CLINIC STOP file #40.7.  
 It also generates a report with clinics not conforming to the stop code 
 requirements.  The next phase will be released in a future patch and will 
 perform validation on primary and secondary stop codes when setting up a 
 clinic.
 
 Patch SD*5.3*309 is part of a combined build along with ECX*3.0*53.
  
     
 Technical
 ---------
 This patch SD*5.3*309 implements the following functionality.
  o  Adds a new field, 'RESTRICTION TYPE', to the CLINIC STOP file #40.7.
  o  Adds a new field, 'RESTRICTION DATE', to the CLINIC STOP file #40.7.
  o  Assigns all Stop Codes in the CLINIC STOP file #40.7 as 'Primary',
     'Secondary' or 'Either'.  This is done by the post install routines,
     SD53P309, SDSTPD1, and SDSTPD2.
  o  Creates a new report,'Non-Conforming Clinics Stop Code Report' that
     lists entries with TYPE=C in the Hospital Location File (#44) that
     have Primary Stop Codes and/or Secondary Stop Codes that are
     non-conforming to the stop code restriction types.
  o  Creates a new option, 'SD CLN STOP CODE REP', for the 'Non-Conforming
     Clinics Stop Code Report'.
  o  Adds a new routine, SDSCRP for the 'Non-Conforming Clinics Stop Code
     Report'.
  o  Modifies menu option SDSUP to add 'Non-Conforming Clinics Stop Code
     Report' as a submenu.
  o  Produces a MailMan message of problem Clinics and their corresponding 
     stop codes in the HOSPITAL LOCATION file #44 after the restriction is 
     applied.
   
   
 Sample MailMan Message
 -----------------------
 Below is a sample of a MailMan message with problem clinics.
     
 Subj: Non-Conforming Clinics Restricted Stop Codes  [#26439]
 08/11/03@17:22  19 lines
 From: POSTMASTER  In 'IN' basket.   Page 1
 -------------------------------------------------------------------------------
  Please forward this message to your local MAS ADPAC.
  
  A review of the Primary and Secondary Stop Codes in the HOSPITAL
  LOCATION file (#44) was completed against the Restriction Type
  field (#5) of the CLINIC STOP file (#40.7) for nonconforming clinics.
  
  
 HOSPITAL LOCATION FILE (#44) - (Use Set up a Clinic [SDBUILD] menu option to
                                 make corrections)
  
                                    PRIMARY   SECONDARY/  REASON FOR
 CLINIC NAME                        STOP      CREDIT      NON
 (* - currently inactive)           CODE      STOP CODE   CONFORMANCE
 -------------------------------------------------------------------------------
 MENTAL HYGIENE                                           Missing primary code
 CARDIOLOGY                         704                   704 cannot be primary
  
                          2 PROBLEM CLINICS FOUND.
   
   
 Sample - Report
 ---------------
 Below is a sample of the report.
 
 Select OPTION NAME: SDSUP       Supervisor Menu
  
           ACRP Database Conversion
           Add/Edit a Holiday
           Appointment Status Update Menu ...
           Appointment Waiting Time Report
           Cancel Clinic Availability
           Change Patterns to 30-60
           Convert Patient File Fields to PCMM
           Current MAS Release Notes
           Enter/Edit Letters
           Inactivate a clinic
           Look up on Clerk Who Made Appointment
           Non-Conforming Clinics Stop Code Report
           Purge Scheduling Data
           Reactivate a Clinic
           Remap Clinic
           Restore Clinic Availability
           Scheduling Parameters
           Set up a Clinic
           Sharing Agreement Category Update
  
 Select Supervisor Menu Option: Non-Conforming Clinics Stop Code Report
  
      Select one of the following:
  
           A         Active Clinics
           I         Inactive Clinics
           B         Both
  
 Select Report: Both
 Select Device: HOME//   UCX/TELNET    Right Margin: 80//
 
 SEP 11, 2003@12:02:17                                             Page: 1
  
                   NON-CONFORMING CLINICS STOP CODE REPORT
                                 All Clinics
  
 HOSPITAL LOCATION FILE (#44) - (Use Set up a Clinic [SDBUILD] menu option to
                                 make corrections)
  
 
                                      PRIMARY  SECONDARY  REASON FOR
         CLINIC NAME                  STOP     CREDIT     NON
 IEN     (*currently inactive)        CODE     STOP CODE  CONFORMANCE
 -------------------------------------------------------------------------------
 17      *MENTAL HYGIENE              117                 117 cannot be primary
 257     MENTAL HYGIENE                                   Missing primary code
 271     SURGICAL CLINIC              429      429        429 cannot be secondary
 
                          3 PROBLEM CLINICS FOUND.
  
 Press RETURN to continue... 
   
 
   
 Test Sites
 ----------
 Murfreesboro
 Portland
   
   
   
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
     <tab>;;5.3;Scheduling;**[patch list]**;AUG 13, 1993
    
                            CHECK^XTSUMBLD results
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
 SD53P309                   N/A              8956243             309
 SDSCRP                     N/A              4403795             309
 SDSTPD1                    N/A             10748328             309
 SDSTPD2                    N/A             10568110             309  
   
   
 SOFTWARE RETRIEVAL
 ==================
 1.  The software distribution for this combined build includes:-
     a) a host file with two KIDS builds.  The builds contained in the 
        multi-package distribution are:
  
         Package               Build(s)
         -------               --------  
         Scheduling            SD*5.3*309
         DSS                   ECX*3.0*53
  
         Host file name: SD_RSC_1_0.KID
  
     b) PDF files containing the following documentation.
 
         File Name             Description
         ---------             -----------
         SD_53_309_UM.PDF      Scheduling User Manual Change Page Document
         ECX_3_53_UM.PDF       DSS User Manual Manual Change Page Document
   
      
     Sites may retrieve the software and documentation directly using FTP 
     from the ANONYMOUS.SOFTWARE directory at the following OI Field Offices:
  
                Albany:  ftp.fo-albany.med.va.gov
                 Hines:  ftp.fo-hines.med.va.gov
        Salt Lake City:  ftp.fo-slc.med.va.gov
    
 
 2.  Documentation can also be retrieved from VISTA Documentation Library 
     (VDL) on the Internet at the following address, http://www.va.gov/vdl.
   
        
 INSTALLATION INSTRUCTIONS:
 
 1.  Use the LOAD A DISTRIBUTION option on the KIDS INSTALLATION Menu, 
     and enter:  SD_RSC_1_0.KID
  
 2.  Review your mapped set.  If any of the routines listed in the ROUTINE 
     SUMMARY section are mapped, they should be removed from the mapped set
     at this time.
 
 3.  From the Kernel Installation and Distribution System Menu, select 
     the Installation menu.
 
 4.  From this menu, you may elect to use the following options (when 
     prompted for INSTALL NAME, enter: SD RSC 1.0): 
      a. Backup a Transport Global - this option will create a backup 
         message of any routines exported with the build.  It will NOT 
         backup any other changes such as data dictionaries (DD's) or 
         templates.
      b. Compare Transport Global to Current System- this option will 
         allow you to view all changes that will be made when the build 
         is installed.  It compares all components of the build (routines, 
         DDs, templates, etc.). 
      c. Verify Checksums in Transport Global - this option will allow 
         you to ensure the integrity of the routines that are in the 
         transport global.
      d. Print Transport Global - this option will allow you to view the 
         components of the KIDS build.
  
 5.  Use the Install Package(s) option and select the package: SD RSC 1.0 
    
 6.  Select Installation Option: Install Package(s)
       a. Choose the Install Package(s) option to start the build install.
       b. When prompted, "Want KIDS to INHIBIT LOGONs during the install?" 
           YES//, answer NO.
       c. When prompted, "Want to DISABLE Scheduled Options, Menu Options, 
          and Protocols?  YES//', answer 'YES'.
       d. When prompted 'Enter options you wish to mark as "Out of Order".'   
          enter the following options:
               SDSUP              Supervisor Menu
               ECX SETUP CLINIC   Setup for DSS Clinic Information
       e. When prompted 'Enter protocols you wish to mark as "Out Of Order":' 
          answer NO.
   
 7.  If routines were unmapped as part of step 2, they should be returned to 
     the mapped set once the installation has run to completion.
    
 8.  Delete the global save made at the beginning of these installation
     instructions.
  
 9.  Delete the routines SD53P309, SDSTPD1, SDSTPD2 and ECX353PT from your 
     production system once the installation has successfully completed.

Routine Information:
====================

Routine Name:
  - SDSCRP


Routine Checksum:

Routine Name:
  - SD53P309


Routine Checksum:

Routine Name:
  - SDSTPD1


Routine Checksum:

Routine Name:
  - SDSTPD2


Routine Checksum:

=============================================================================
User Information:
Entered By  : MORRISON,JENNIFER             Date Entered  : AUG 05, 2003
Completed By: LAVERTY,TIM                   Date Completed: SEP 17, 2003
Released By : BURTS,WANDA                   Date Released : SEP 18, 2003
=============================================================================


Packman Mail Message:
=====================

No routines included
