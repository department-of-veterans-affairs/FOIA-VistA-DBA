
=============================================================================
Run Date: MAY 10, 2005                     Designation: LR*5.2*302
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #250                    Status: Released
                  Compliance Date: JUN 10, 2005
=============================================================================


Subject: NLT/LOINC V2.13 UPDATE

Category: 
  - Enhancement (Mandatory)
  - Data Dictionary
  - Routine

Description:
============

 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*302 does not 
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
 DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*302 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions. 
 RISK ANALYSIS: Changes made by patch LR*5.2*302 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 ****************************IMPORTANT**********************************
 There is considerable PRE-installation file verification and preparation 
 to be performed by staff familiar with the use of FileMan and Laboratory 
 file structure.  Failure to perform this pre-install testing before 
 attempting to install this patch significantly increases the risk of 
 encountering errors, during or post installation.  The key element to 
 ensuring a successful installation of the patch depends upon existing 
 files not containing corrupt data.  If corrupt data is present in the 
 affected files, when the fields are re-pointed during the post 
 installation update phase, errors will occur.  Please read and follow all 
 of the instructions outlined in this patch description.
 ***********************************************************************
  
 Technical post-install notes are included at the end of the patch
 description. These technical notes can be used by the IRM service to 
 prevent or resolve issues surrounding the installation of this patch. It 
 is impossible to anticipate all potential situations that exist; but the 
 notes address the most common. The key element ensuring successful 
 installation of the patch depends upon existing files not containing 
 corrupt data.
  
 This patch will update the WKLD CODE (#64) file and replace several 
 laboratory standardized files associated with National Laboratory Test 
 (NLT) package and Logical Observation Identifier Naming Codes (LOINC) 
 coding. (See list below) This patch will remove certain WKLD CODE (#64) 
 file duplicates. This patch will also correct certain field definitions 
 that produce invalid warnings produced by the FileMan Verify Field 
 option. In order to implement the numerous file/field corrections, it is 
 necessary to completely replace certain referenced NLT and LOINC files. 
 To ensure that this patch does not introduce any new data validation 
 errors, it is desirable that the data currently stored pointing to 
 replaced files is valid and errors resolved.
  
  
 File #    File Name                     Update Method
 64.061    LAB ELECTRONIC CODES          Replaced
 64.062    LAB ELECTRONIC SUBTYPES       Replaced
 64.2      WKLD SUFFIX CODES             Replaced
 64.3      WKLD INSTRUMENT MANUFACTURER  Replaced
 64.81     LAB NLT/CPT CODES             Replaced
 95.3      LAB LOINC                     Replaced
 95.31     LAB LOINC COMPONENT           Replaced
  
 *64        WKLD CODE           Updated with new terms.
  
 ============================
 LOINC Copyright acknowledgement:
 LOINC was Copyrighted 1995, 1996, 1997, by Regenstrief Institute and the 
 Logical Observation Identifier Names and Codes (LOINC) Committee.  All 
 rights reserved. LOINC is a trademark of the Regenstrief Institute.
 Contact information:
 LOINC
 C/o Regenstrief Institute
 1001 West 10th Street, RHC-5
 Indianapolis, Indiana 46202 USA
  
 ========================
 VistA Laboratory Package LAB LOINC (#95.3) file does not support all of 
 the fields contained in the LOINC database. Refer to the LOINC user's 
 manual for more field details. The following fields are imported and 
 supported within VistA.
  
 #    Loinc Term      VistA name
 1    LOINC_NUM       CODE + CHECK DIGIT
 2    COMPONENT       COMPONENT + LAB LOINC COMPONENT (95.31)
 3    PROPERTY        PROPERTY
 4    TIME_ASPECT     TIME ASPECT
 5    SYSTEM          SYSTEM
 6    SCALE_TYPE      SCALE TYPE
 7    METHOD_TYPE     METHOD TYPE
 9    CLASS           CLASSTYPE
 10   SOURCE          SOURCE
 14   DT_LAST_CH      DATE LAST CHANGED
 15   CHNG_REAS       CHANGE REASON
 16   CHNG_TYPE       CHANGE TYPE
 19   STATUS          STATUS
 20   MAP_TO          MAP TO
 23   VA_CD           VA CODE
 59   SHORTNAME       SHORTNAME
  
  
 Because several standardized files are being completely replaced, the 
 pre-install routine will extract and save the values of the fields 
 pointing to the replaced files. 
  
 The complete WKLD SUFFIX CODES (#64.2) file is saved into 
 ^XTMP("LRNLT642") global for 90 days. The ^XTMP("LRNLT642") file can be 
 used to assist those sites that may have mistakenly added terms to the 
 (#64.2) file. Those local terms not included in the installed file should 
 be formally requested by notifying the National Laboratory Test 
 Coordinator using the form provided on the VistA laboratory Documentation 
 Web Page. 
 http://vista.med.va.gov/clinicalspecialties/lab/
  
 Forward your completed request form to the Exchange distribution group:
  VHAISD LAB NLT_LOINC
  
 ===========================
  
 This patch will completely remove certain files, replace the files with a 
 standardized copy and then re-point the saved field entries to the 
 standardized copy. It is high desirable to determine that current fields 
 and files are free of incorrect data. This will ensure that the patch 
 installation will not introduce any new errors.
      Failure to ensure FileMan verification of fields option can be run 
 without generating warnings will result in unresolved errors, which could 
 have unpredictable results. The patch installation will not be affected 
 by an invalid field. The patch will generate error message indicating 
 those files/fields that could not be successfully re-pointed after the 
 standardized have been installed.
  
 *** Examples of a single file verify:
 Select OPTION NAME: VA FileMan
  
           VA FileMan Version 22.0
  
 Select VA FileMan Option: Utility Functions
  
 Select Utility Functions Option: VERify Fields
  
 MODIFY WHAT FILE: WKLD CODE// 60  LABORATORY TEST  (1059 entries)
 VERIFY WHICH FIELD: ALL
 DO YOU MEAN ALL THE FIELDS IN THE FILE? YES
  
 DEVICE: HOME//
  
 While the entire file should pass the verify fields check, the fields 
 listed below are the critical entries that should not produce any 
 warnings. If there are any warnings for these fields, they should be 
 rectified before the patch is installed or the post install re-pointing 
 procedure will not perform properly.
  
 This is a list of files and fields that will be re-pointed after the LAB 
 ELECTRONIC CODES (#64.061) is installed. These fields should be free of 
 verify field warnings. Errors or warnings in other fields WILL NOT affect 
 the post-install re-pointing process but should be addressed as soon a 
 possible.
  
 To ensure that there are not any existing pointer problems, files and 
 fields need to be validated. Data and file validation is done with the FM 
 Verify Fields option. Only those fields pointing to the replaced files 
 and the WKLD CODE file are an issue.
  
  
 File #     File Name               Field #  Field Name
 ======     =========               =======  ==========
 60         LABORATORY TEST
 60.01      SITE/SPECIMEN SUB-FIELD  95.3    LOINC CODE
  
 61         TOPOGRAPHY FIELD
 61         TOPOGRAPHY FIELD         .09     LEDI HL7
 61         TOPOGRAPHY FIELD         .0961   TIME ASPECT
  
 62.05      URGENCY
 62.05      URGENCY                  4       LEDI HL7
  
 62.4       AUTO INSTRUMENT
 62.4       AUTO INSTRUMENT          .14     WKLD METHOD
  
 62.8       LAB SHIPPING MANIFEST
 62.801     SPECIMENS SUB-FIELD      1.14    PATIENT HEIGHT CODE
 62.801     SPECIMENS SUB-FIELD      1.24    PATIENT WEIGHT CODE
 62.801     SPECIMENS SUB-FIELD      2.14    COLLECTION VOLUME CODE
 62.801     SPECIMENS SUB-FIELD      2.24    COLLECTION DURATION CODE
 62.801     SPECIMENS SUB-FIELD      2.34    COLLECTION WEIGHT CODE
 62.801     SPECIMENS SUB-FIELD      1.13    PATIENT HEIGHT UNITS
 62.801     SPECIMENS SUB-FIELD      1.23    PATIENT WEIGHT UNITS
 62.801     SPECIMENS SUB-FIELD      2.13    COLLECTION VOLUME UNITS
 62.801     SPECIMENS SUB-FIELD      2.23    COLLECTION DURATION UNITS
 62.801     SPECIMENS SUB-FIELD      2.33    COLLECTION WEIGHT UNITS
 62.85      LAB SHIPPING EVENT       .05     EVENT CODE
  
 62.9       LAB SHIPPING CONFIGURATION   
 62.9001    TEST/PROFILE             1.15    PATIENT HEIGHT UNITS
 62.9001    TEST/PROFILE             1.25    PATIENT WEIGHT UNITS
 62.9001    TEST/PROFILE             2.15    COLLECTION VOLUME UNITS
 62.9001    TEST/PROFILE             2.25    COLLECTION DURATION UNITS
 62.9001    TEST/PROFILE             2.35    COLLECTION WEIGHT UNITS
 62.9001    TEST/PROFILE             1.16    PATIENT HEIGHT CODE
 62.9001    TEST/PROFILE             1.26    PATIENT WEIGHT CODE
 62.9001    TEST/PROFILE             2.16    COLLECTION VOLUME CODE
 62.9001    TEST/PROFILE             2.26    COLLECTION DURATION CODE
 62.9001    TEST/PROFILE             2.36    COLLECTION WEIGHT CODE
  
 64.2       WKLD SUFFIX CODE
 64.2       WKLD SUFFIX CODE         1       WKLD SUFFIX CODE
 64.2       WKLD SUFFIX CODE         4       BILLABLE PROCEDURE
 64.2       WKLD SUFFIX CODE         7       COST
 64.2       WKLD SUFFIX CODE         8       PRICE
 64.2       WKLD SUFFIX CODE         9       SORTING GROUP
 64.2       WKLD SUFFIX CODE         15      ACTIVATE WKLD CODE
  
 64         WKLD CODE
 64.02      TIME ASPECT SUB-FIELD    .01     TIME ASPECT
 64.02      TIME ASPECT SUB-FIELD    1       UNITS
  
 68.2       LOAD/WORK LIST
 68.2       LOAD/WORK LIST           .14     WKLD METHOD
  
 69.6       LAB PENDING ORDERS ENTRY
 69.6       LAB PENDING ORDERS ENTRY  6       SPECIMEN STATUS
 69.64      ORDERED TESTS SUB-FIELD   5       TEST STATUS
  
 Resolving FM Verify Fields warnings instructions
  
 The most common verify field errors are:
 1. Fields not properly cross referenced. This can be resolved by 
 re-indexing the file.
 2. Fields failing input transform. This can be resolved by either editing 
 the field and entering appropriate data; or deleting the existing data in 
 the field.
  
 Note: When performing FM Verify fields, an error will be produced in the 
 TOPOGRAPHY FIELD((#61) file, SNOMED CODE (#2)field by the input transform 
 logic error.
 Example:
 ENTRY#    NAME                          ERROR
 1         RIGHT LUNG                    "28100" fails Input Transform
  ALREADY AN ENTRY
 This input transform logic error will be corrected with the installation 
 of this patch.
 ** NO PRE-INSTALL CORRECTIVE ACTION IS REQUIRED. **
  
  
 When the Verify Field option is run on the various files, several 
 different kinds of warnings can be generated. It isn't possible to 
 describe a resolution method for the type of warning discovered using the 
 FM Verify field option, but here are some techniques used during testing. 
 If you require additional technical assistance, contact the EVS group.
  
 Known problems:
  
 WKLD CODE (#64)
 ========================
 --UNIT FOR COUNT--   POINTER
  
 ENTRY#    PROCEDURE                     ERROR
 1504      Shell Vial Technique          No '68' in pointed-to File
  
 This broken pointer will be correct with the install. No action required.
 =======================
 --RELEASE DATE--   DATE
  
 1749      Misc Chem Test 5
 1         86023;ICPT(                   Missing
  
 1753      Misc Chem Test 9
 1         80100;ICPT(                   Missing
  
 Enter a release date to correct this problem.
  
 ==========================
  
 --ACTIVATE WKLD CODE-
  
    SET OF CODES
 (CHECKING CROSS-REFERENCE)
  
 ENTRY#    PROCEDURE                     ERROR
 100074    Lactic Acid~ACA IV            "1" not properly Cross-referenced
  
 Re-index the file will correct this problem.
  
 ++++++++++++++++++
  
 TOPOGRAPHY FIELD (#61) File
 ====================
 LEDI HL7 (#.09) field
  
    POINTER
 (CANNOT CHECK CROSS-REFERENCE)
  
 ENTRY#    NAME                          ERROR
 22        KIDNEY                        "1275" fails Input Transform
 82        CILIARY GLAND                 "6417" fails Input Transform
  
 Should either delete the entry if not using this specimen or enter a 
 correct entry.
  
 ===========================
 VERIFY WHICH FIELD: SNOMED CODE  
  
    FREE TEXT
 (CHECKING CROSS-REFERENCE)
  
 ENTRY#    NAME                          ERROR
 8729      TISSUE                        Missing
 8730      ORGANISM                      Missing
  
 Enter missing data, if input transform failure is reported this will be 
 corrected when patch is installed.
  
 There is also a FM Verify field error 'fails Input Transform' in WKLD 
 CODE (#64) file that will be corrected with the install of LR*5.2*302. 
 The screen preventing the selection of LOINC codes with Del (delete) 
 status will be removed. This will allow LEDI sites to coordinate 
 transition from deprecated terms to active terms.
     The 'DEL' screen will be removed from the following 2 fields:
    DEFAULT LOINC CODE (#25) field.
    SPECIMEN (#20), sub-file TIME ASPECT (#30), LOINC CODE (#4) field.
 NO PRE-INSTALL CORRECTIVE ACTION IS REQUIRED for these errors.
  
 Other types of errors may require assistance from the EVS technical teams 
 before proceeding.
  
 PRE-INSTALL ROUTINE
 Note: The pre-install routine will produce a listing of duplicate(s) 
 contained in WKLD CODE (#64) file if any are present.
     Those duplicates listed with a proceeding '*' SHOULD be resolved 
 before installation of the patch. However, the patch will install if the 
 duplicates are present during installation.
     Those duplicates listed with a proceeding '+' will be deleted by the 
 pre-install program. No action is required.
     Those duplicates that do not have a preceding character will not 
 affect the installation.  Those entries that do not have a proceeding 
 character are locally created NLT codes and are provided to indicate to 
 the local user that multiples do exist. This information maybe useful 
 when doing searches on the WKLD DATA (#64.1) file for a particular 
 test(s).
  
 Example of listing:
          Checking WKLD CODE file (#64) for duplicate names or 
 numbers.       
  
 +Blood Products Administration^2633
 +Blood Products Administration^3214
  
 +CPK MB/CPK Tot^3702
 +CPK MB/CPK Tot^3767
  
 +Coagulation Factor VIII Inhib~BLOOD CENTER OF SE WISCONSIN^100873
 Coagulation Factor VIII Inhib~BLOOD CENTER OF SE WISCONSIN^100874
  
 *CPK MB/CPT Tot~BLOOD CENTER OF SE WISCONSIN^100973
 *CPK MB/CPT Tot~BLOOD CENTER OF SE WISCONSIN^100974
  
 +Hypersensitivity Pneumonitis^1557
 +Hypersensitivity Pneumonitis^1600
  
 +89026.0000 ^1600
 +89026.0000 ^2828
                            End of duplicate listing.
  
   If '*' duplicates were listed they should be resolved before patch 
 install.
  
                Those '+' will be removed during the post install.
 =====================
  
  
 Routines:
 =====================
 LRDAGE
 This patch contains a NEW age calculation routine, LRDAGE. This routine 
 is used to calculate the age of the patient based on when the specimen 
 was collected instead of date of birth (DOB). For example, if the 
 specimen was collected one year ago, the age will be a year less than 
 today's age. The routine is particularly useful in pediatric patient's 
 normal ranges. This age is used to determine the appropriate normal range 
 based on collection date. This patch expands the age format to include 
 day, month or year designation. This could affect the $SELECT statement 
 evaluation of normal range. Sites are advised to review $SELECT statement 
 in light of this age format. The format of the age is as follows:
  1hr - 30 days = 1dy - 30dy
  1 - 23 months = 1mo - 24mo
  >23 month     = 2yr - 999yr
 The default age of 99yr is return if a computation error occurs because 
 of incorrect values passed to age API. Technical information for the API 
 call is contained in the routine documentation section.
     The functionality of this routine is not implemented by the patch 
 installation. However, sites requiring the ability to determine age to 
 this degree, may wish to migrate their local M code in the EXECUTE CODE 
 (#62.07) and DELTA CHECKS (#62.1) files to make use of this routine.
  
 Routine Summary:
 ================
  
 The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
   
       <tab>;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
   
                              CHECK^XTSUMBLD results
  
 Routine    Checksum             Checksum
 Name       Before Patch         After Patch   Patch List
  =======    ============         ===========   ==========
 LR302      N/A                  7036526       302 (Deleted by KIDS)
 LR302A     N/A                  4415522       302
 LR302P     N/A                  3800106       302
 LR302PO    N/A                  9375744       302
 LR302POA   N/A                  2988034       302
 LRDAGE     1480375              1454485       279,302
  
  
  
 ASSOCIATED NOIS:
  ===============
  MAR-1104-21653
     
  TEST SITES:
  ==========
 Long Beach, CA VAMC
 Durham, NC VAMC
 San Diego, CA VAMC
 Muskogee, OK VAMC
 Cheyenne, WY
 Hines, IL
 Martinsburg, WV
 Brockton, MA
 Boston Health Care System
 Cheyenne, WY
  
 Required Builds:
 ==========================
 LR*5.2*263
 LR*5.2*274
 LR*5.2*279
  
 Installation Instructions:  
 ========================= 
  
 The patch LR*5.2*302 KIDS build file named LR52_302.KID stored in the 
 ASCII format can be obtained from the following Office of Information 
 Field Offices (OIFOs) ANONYMOUS SOFTWARE directories
 OIFO         FTP Address                Directory
 Albany       ftp.fo-albany.med.va.gov   anonymous.software 
 Hines        ftp.fo-hines.med.va.gov    anonymous.software
 Salt Lake    ftp.fo-slc.med.va.gov      anonymous.software
   
 All users may remain on the system. Installation time is less than 30 
 minutes.
  
 Note: The patch should be installed during off peak hours.
  
 No laboratory background jobs need to be stopped. No options need to be 
 placed out of service.
  
 LABORATORY USERS MUST NOT ACCESSION SPECIMENS OR ENTER/VERIFY RESULTS 
 DURING THE INSTALLATION because several reference files are being deleted 
 and replaced with this patch.
  
  
 ============================                           
  
 From the Kernel Installation & Distribution System (KIDS) menu 
  
          1. Use the 'Load a Distribution' option to load the 
             LR_52_302.KID file onto your system.
          2. The patch has now been loaded into a Transport global
             on your system. You now need to use KIDS to install
             the Transport global.
             On the KIDS menu, under the 'Installation' menu, use 
             the following options:
                 Print Transport Global
                 Compare Transport Global to Current System
                 Verify Checksums in Transport Global
                 Backup a Transport Global
          3. Users may remain on the system, but installation 
             should be done at off peak hours.
          4. Installation time is less than 30 minutes during off 
             peak hours and less than 45 minutes during peak hours.
          5. Installation of this patch requires no additional 
             memory space.
          6. From the 'Installation Menu' of the KIDS menu, run the 
             option
             'Install Package(s)' Select the package 'LR*5.2*302' 
             and proceed with the install.
          7. When prompted 'Want KIDS to INHIBIT LOGONS during the
             install? YES//' respond NO.
          8. When prompted 'Want to DISABLE scheduled Options, Menu
             Options, and Protocols? YES//' respond NO.
  
  
 ================
 Example of install:
  
  Select Installation Option: LOAD a Distribution
 Enter a Host File: LR_52_302.KID
  
 KIDS Distribution saved on Dec 09, 2004@04:27:46
 Comment: NLT/LOINC v2.13 Update
  
 This Distribution contains Transport Globals for the following Package(s):
    LR*5.2*302
  
 OK to continue with Load? NO// YES
  
 Distribution OK!
  
 Want to Continue with Load? YES// 
 Loading Distribution...
  
 Build LR*5.2*302 has an Enviromental Check Routine
 Want to RUN the Environment Check Routine? YES// 
  
    LR*5.2*302
 Will first run the Environment Check Routine, LR302
  
  
           Checking WKLD CODE file (#64) for duplicate names or numbers
  
                            End of duplicate 
 listing.                         
  
  If duplicates were listed they should be resolved before patch install  
  
                         --- Environment Check is Ok ---
  
                 Sending install loaded alert to mail group G.LMI
  
  
 Using VA FileMan menu "UTILITY FUNCTIONS",
  perform the option "VERIFY FIELDS",
  MODIFY WHAT FILE: WKLD CODE
  
                             VERIFY WHICH FIELD: ALL
  
                   DO YOU MEAN ALL THE FIELDS IN THE FILE? YES
  
 Ensure that this option runs CLEANLY before installation of this patch.
  
   
 Use INSTALL NAME: LR*5.2*302 to install this Distribution.
  
  
 Select Installation Option: VERify Checksums in Transport Global
 Select INSTALL NAME:    LR*5.2*302   Loaded from Distribution 
 12/9/04@01:53:23
      => NLT/LOINC v2.13 Update  ;Created on Dec 09, 2004@04:27:46
  
 This Distribution was loaded on Dec 09, 2004@01:53:23 with header of 
    NLT/LOINC v2.13 Update  ;Created on Dec 09, 2004@04:27:46
    It consisted of the following Install(s):
      LR*5.2*302
 DEVICE: HOME//   TELNET TO ALPHAS
  
  
    6 Routine checked, 0 failed.
  
  
 Select Installation Option: INStall Package(s)
 Select INSTALL NAME: LR*5.2*302 
      => NLT/LOINC v2.13 Update  ;Created on Dec 09, 2004@04:27:46
  
 This Distribution was loaded on Dec 09, 2004@01:53:23 with header of 
    NLT/LOINC v2.13 Update  ;Created on Dec 09, 2004@04:27:46
    It consisted of the following Install(s):
      LR*5.2*302
 Checking Install for Package LR*5.2*302
 Will first run the Environment Check Routine, LR302
  
  
           Checking WKLD CODE file (#64) for duplicate names or numbers
  
                            End of duplicate listing.
  
 If duplicates were listed they should be resolved before patch install  
  
                         --- Environment Check is Ok ---
  
                 Sending install loaded alert to mail group G.LMI
  
  
  Using VA FileMan menu "UTILITY FUNCTIONS",
  perform the option "VERIFY FIELDS",
  
                           MODIFY WHAT FILE: WKLD CODE
  
                             VERIFY WHICH FIELD: ALL
  
                   DO YOU MEAN ALL THE FIELDS IN THE FILE? YES
  
 Ensure that this option runs CLEANLY before installation of this patch.  
  
 Install Questions for LR*5.2*302
  
 Incoming Files:
  
    61        TOPOGRAPHY FIELD  (Partial Definition)
 Note:  You already have the 'TOPOGRAPHY FIELD' File.
  
    64        WKLD CODE
 Note:  You already have the 'WKLD CODE' File.
  
    64.061    LAB ELECTRONIC CODES  (including data)
 Note:  You already have the 'LAB ELECTRONIC CODES' File.
 I will OVERWRITE your data with mine.
  
    64.062    LAB ELECTRONIC SUBTYPES  (including data)
 Note:  You already have the 'LAB ELECTRONIC SUBTYPES' File.
 I will OVERWRITE your data with mine.
  
    64.2      WKLD SUFFIX CODES  (including data)
 Note:  You already have the 'WKLD SUFFIX CODES' File.
 I will OVERWRITE your data with mine.
  
    64.21     WKLD CODE LAB SECT  (including data)
 Note:  You already have the 'WKLD CODE LAB SECT' File.
 I will OVERWRITE your data with mine.
  
    64.22     WKLD ITEM FOR COUNT  (including data)
 Note:  You already have the 'WKLD ITEM FOR COUNT' File.
 I will OVERWRITE your data with mine.
  
    64.3      WKLD INSTRUMENT MANUFACTURER  (including data)
 Note:  You already have the 'WKLD INSTRUMENT MANUFACTURER' File.
 I will OVERWRITE your data with mine.
  
    64.81     LAB NLT/CPT CODES  (including data)
 Note:  You already have the 'LAB NLT/CPT CODES' File.
 I will OVERWRITE your data with mine.
  
    68.2      LOAD/WORK LIST
 Note:  You already have the 'LOAD/WORK LIST' File.
  
    95.3      LAB LOINC  (including data)
 Note:  You already have the 'LAB LOINC' File.
 I will OVERWRITE your data with mine.
  
    95.31     LAB LOINC COMPONENT  (including data)
 Note:  You already have the 'LAB LOINC COMPONENT' File.
 I will OVERWRITE your data with mine.
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options,Menu Options, and Protocols? YES// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   TELNET TO ALPHAS
 Complete                                   
 LR*5.2*302                        
  
  Install Started for LR*5.2*302 : 
                Dec 09, 2004@01:57:39
  
 Build Distribution Date: Dec 09, 2004
  
  Installing Routines:     
                Dec 09, 2004@01:57:39
  
  Running Pre-Install Routine: PRE^LR302 
                           ** Saving Pointer Values **
  
                              Saving File #60 data.
  
                              Saving File #61 data.
  
                             Saving File #62.05 data.
  
                             Saving File #62.4 data.
  
                             Saving File #62.8 data.
  
                             Saving File #62.85 data.
  
                             Saving File #62.9 data.
  
                             Saving File #64.2 data.
 .......
                             Saving File #68.2 data.
  
                             Saving File #69.6 data.
 .......................................................................
  
                           *** Preinstall completed ***
  
  Installing Data Dictionaries:        
                Dec 09, 2004@01:59:41
  
  Installing Data: 
                Dec 09, 2004@02:04:45
  
  Running Post-Install Routine: POST^LR302        
  
                     Updating DSS Feeder Key for AP NLT Codes
  
                        Update DSS AP Feeder Key Complete
  
                         Building List Of Added NLT CODEs
  
                        Sending message to LMI Mail Group.
  
                        List Of Added WKLD CODEs Complete
  
                     Processing data for File/Subfile #60.01
  
                       Processing data for File/Subfile #61
  
                     Processing data for File/Subfile #62.05
  
                      Processing data for File/Subfile #62.4
  
                     Processing data for File/Subfile #62.85
  
                      Processing data for File/Subfile #64.2
                   ............
                      Processing data for File/Subfile #68.2
  
                      Processing data for File/Subfile #69.6
 .......................................................................
  
                     Processing data for File/Subfile #69.64
 .......................................................................
  
                        Historical data restored                         
  
                  Sending install completion alert to mail group G.LMI
  
                                    
 LR*5.2*302                                   
 --------------------------------------------------
  Using VA FileMan menu "UTILITY FUNCTIONS",
  perform the option "VERIFY FIELDS", 
  
                           MODIFY WHAT FILE: WKLD CODE
  
                             VERIFY WHICH FIELD: ALL
  
                   DO YOU MEAN ALL THE FIELDS IN THE FILE? YES           
  
  
  Updating Routine file...      
  
  Updating KIDS files...          
  
  LR*5.2*302 Installed.                Dec 09, 2004@02:13:10
  
 Install Completed
  
 Loading of patch LR*5.2*302 completed on Dec 09, 2004@01:57:10
 LIM: Review description for LR*5.2*302 use KIDS:Utilities: Build File 
 Print
  
 Installation of patch LR*5.2*302 completed on Dec 09, 2004@02:13
  
  
   POST INSTALLATION INSTRUCTIONS:
   =============================
 Review installed LOINC codes to ensure that codes with the status of 
 Deprecated (DEL) are not used in your current mapping of LOINC codes. In 
 some cases, deprecated LOINC codes [LAB LOINC (#95.3) file, MAP TO (#21) 
 field] will have the suggested replacement LOINC code populated.
 Note:
 If your site is a HOST LEDI site, changing of any LOINC or NLT codes 
 should be coordinated the collection site to ensure that both sites agree 
 in LOINC and NLT mappings.
  
 LR*5.2*302 Technical Install Notes:
 =========================
  
 This patch is attempting to clean-up the following files:
 File #    File Name                     Update Method
 64.061    LAB ELECTRONIC CODES          Replaced
 64.062    LAB ELECTRONIC SUBTYPES       Replaced
 64.2      WKLD SUFFIX CODES             Replaced
 64.3      WKLD INSTRUMENT MANUFACTURE   Replaced
 64.81     LAB NLT/CPT CODES             Replaced
 95.3      LAB LOINC                     Replaced
 95.31     LAB LOINC COMPONENT           Replaced
  
 *64       WKLD CODE                     Updated
  
  
  
 The currently installed files are not compatible with the incoming LOINC 
 V2.13. Therefore these files are being completely removed and a fresh 
 version is being installed. When the new versions are installed certain 
 pointers in other files could be broken or incorrect.
  
 To address this problem, the pre-install routine will save the existing 
 data in external format in the ^XTMP("LR302",FILE,IEN,FLD)=DATA
 This file will be purged in 90 days.
 All the fields that point to the replaced files will be saved before the 
 old files are purged.
  
 The post-install routine will:
 1) Add any missing WKLD CODE to your system and create a mail message 
 containing the added codes. If this process is successful the LAB NLT/CPT 
 CODES (#64.81) should be empty of WKLD CODES.
  
 2) Compare your previous WKLD SUFFIX CODES (#64.2) to the file installed 
 by the patch. A MailMan message is created listing any locally added. 
 These codes must be requested via the mail group indicated in the patch 
 description. Codes should not be locally added to any of the NLT Package 
 files.
  
 3) Re-index WKLD CODE file
  
 4) Re-point the fields stored in the ^XTMP("LR302",FILE,IEN,FLD)=DATA 
 file. If errors occur during the re-pointing process the wording "ERROR" 
 will appear during the post-install.
 The error is stored in this format.
  
 S ^XTMP("LR302","LRERR",LRCNT)=LRFILE_U_LRIEN_U_LRFLD_U_LRDATA
  
 The file will be purged in 90 days.
 You will have to manually enter the appropriate value.

Routine Information:
====================

Routine Name:
  - LR302


Routine Checksum:

Routine Name:
  - LR302P


Routine Checksum:

Routine Name:
  - LR302A


Routine Checksum:

Routine Name:
  - LR302PO


Routine Checksum:

Routine Name:
  - LR302POA


Routine Checksum:

Routine Name:
  - LRDAGE


Routine Checksum:

=============================================================================
User Information:
Entered By  : HANKS,ANTHONEY                Date Entered  : JAN 16, 2003
Completed By: ELIJAH,VICKEY                 Date Completed: MAY 05, 2005
Released By : LECLAIR,RAY                   Date Released : MAY 10, 2005
=============================================================================


Packman Mail Message:
=====================

No routines included
