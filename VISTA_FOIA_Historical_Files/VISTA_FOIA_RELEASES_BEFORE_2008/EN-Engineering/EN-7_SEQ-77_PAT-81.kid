Released EN*7*81 SEQ #77
Extracted from mail message
**KIDS**:EN*7.0*81^

**INSTALL NAME**
EN*7.0*81
"BLD",4885,0)
EN*7.0*81^ENGINEERING^0^3031003^y
"BLD",4885,1,0)
^^1^1^3030710^
"BLD",4885,1,1,0)
CoreFLS Data Cleansing Reports for AEMS/MERS file PM PROCEDURES (#6914.2)
"BLD",4885,4,0)
^9.64PA^^
"BLD",4885,"KRN",0)
^9.67PA^8989.52^19
"BLD",4885,"KRN",.4,0)
.4
"BLD",4885,"KRN",.401,0)
.401
"BLD",4885,"KRN",.402,0)
.402
"BLD",4885,"KRN",.403,0)
.403
"BLD",4885,"KRN",.5,0)
.5
"BLD",4885,"KRN",.84,0)
.84
"BLD",4885,"KRN",3.6,0)
3.6
"BLD",4885,"KRN",3.8,0)
3.8
"BLD",4885,"KRN",9.2,0)
9.2
"BLD",4885,"KRN",9.8,0)
9.8
"BLD",4885,"KRN",9.8,"NM",0)
^9.68A^5^5
"BLD",4885,"KRN",9.8,"NM",1,0)
ENH9142^^0^B18586954
"BLD",4885,"KRN",9.8,"NM",2,0)
ENH9142I^^0^B56101712
"BLD",4885,"KRN",9.8,"NM",3,0)
ENH9142L^^0^B14410446
"BLD",4885,"KRN",9.8,"NM",4,0)
ENH9142P^^0^B39530067
"BLD",4885,"KRN",9.8,"NM",5,0)
ENH9142M^^0^B16688101
"BLD",4885,"KRN",9.8,"NM","B","ENH9142",1)

"BLD",4885,"KRN",9.8,"NM","B","ENH9142I",2)

"BLD",4885,"KRN",9.8,"NM","B","ENH9142L",3)

"BLD",4885,"KRN",9.8,"NM","B","ENH9142M",5)

"BLD",4885,"KRN",9.8,"NM","B","ENH9142P",4)

"BLD",4885,"KRN",19,0)
19
"BLD",4885,"KRN",19,"NM",0)
^9.68A^6^6
"BLD",4885,"KRN",19,"NM",1,0)
ENH DATA CLEANSING^^2
"BLD",4885,"KRN",19,"NM",2,0)
ENH PM PROCEDURES^^0
"BLD",4885,"KRN",19,"NM",3,0)
ENH 6914.2 SUMMARY REPORT^^0
"BLD",4885,"KRN",19,"NM",4,0)
ENH 6914.2 REQUIRED RPT^^0
"BLD",4885,"KRN",19,"NM",5,0)
ENH 6914.2 LOOKUP RPT^^0
"BLD",4885,"KRN",19,"NM",6,0)
ENH 6914.2 NON-REQUIRED RPT^^0
"BLD",4885,"KRN",19,"NM","B","ENH 6914.2 LOOKUP RPT",5)

"BLD",4885,"KRN",19,"NM","B","ENH 6914.2 NON-REQUIRED RPT",6)

"BLD",4885,"KRN",19,"NM","B","ENH 6914.2 REQUIRED RPT",4)

"BLD",4885,"KRN",19,"NM","B","ENH 6914.2 SUMMARY REPORT",3)

"BLD",4885,"KRN",19,"NM","B","ENH DATA CLEANSING",1)

"BLD",4885,"KRN",19,"NM","B","ENH PM PROCEDURES",2)

"BLD",4885,"KRN",19.1,0)
19.1
"BLD",4885,"KRN",101,0)
101
"BLD",4885,"KRN",409.61,0)
409.61
"BLD",4885,"KRN",771,0)
771
"BLD",4885,"KRN",870,0)
870
"BLD",4885,"KRN",8989.51,0)
8989.51
"BLD",4885,"KRN",8989.52,0)
8989.52
"BLD",4885,"KRN",8994,0)
8994
"BLD",4885,"KRN","B",.4,.4)

"BLD",4885,"KRN","B",.401,.401)

"BLD",4885,"KRN","B",.402,.402)

"BLD",4885,"KRN","B",.403,.403)

"BLD",4885,"KRN","B",.5,.5)

"BLD",4885,"KRN","B",.84,.84)

"BLD",4885,"KRN","B",3.6,3.6)

"BLD",4885,"KRN","B",3.8,3.8)

"BLD",4885,"KRN","B",9.2,9.2)

"BLD",4885,"KRN","B",9.8,9.8)

"BLD",4885,"KRN","B",19,19)

"BLD",4885,"KRN","B",19.1,19.1)

"BLD",4885,"KRN","B",101,101)

"BLD",4885,"KRN","B",409.61,409.61)

"BLD",4885,"KRN","B",771,771)

"BLD",4885,"KRN","B",870,870)

"BLD",4885,"KRN","B",8989.51,8989.51)

"BLD",4885,"KRN","B",8989.52,8989.52)

"BLD",4885,"KRN","B",8994,8994)

"BLD",4885,"QUES",0)
^9.62^^
"BLD",4885,"REQB",0)
^9.611^1^1
"BLD",4885,"REQB",1,0)
EN*7.0*74^0
"BLD",4885,"REQB","B","EN*7.0*74",1)

"KRN",19,11578,-1)
2^1
"KRN",19,11578,0)
ENH DATA CLEANSING^CoreFLS AEMS/MERS Data Cleansing Reports^^M^101009^ENH DATA CLEANSING^^^^^^33
"KRN",19,11578,10,0)
^19.01IP^7^7
"KRN",19,11578,10,7,0)
11740^7^7
"KRN",19,11578,10,7,"^")
ENH PM PROCEDURES
"KRN",19,11578,"U")
COREFLS AEMS/MERS DATA CLEANSI
"KRN",19,11740,-1)
0^2
"KRN",19,11740,0)
ENH PM PROCEDURES^PM Procedures - 6914.2^^M^^ENH DATA CLEANSING^^^^^^ENGINEERING
"KRN",19,11740,1,0)
^19.06^2^2^3030916^^
"KRN",19,11740,1,1,0)
This menu displays all the CoreFLS Data Cleansing report options for 
"KRN",19,11740,1,2,0)
AEMS/MERS PM PROCEDURES (#6914.2) file.
"KRN",19,11740,10,0)
^19.01IP^4^4
"KRN",19,11740,10,1,0)
11741^1^1
"KRN",19,11740,10,1,"^")
ENH 6914.2 SUMMARY REPORT
"KRN",19,11740,10,2,0)
11742^2^2
"KRN",19,11740,10,2,"^")
ENH 6914.2 REQUIRED RPT
"KRN",19,11740,10,3,0)
11743^3^3
"KRN",19,11740,10,3,"^")
ENH 6914.2 LOOKUP RPT
"KRN",19,11740,10,4,0)
11744^4^4
"KRN",19,11740,10,4,"^")
ENH 6914.2 NON-REQUIRED RPT
"KRN",19,11740,99)
59403,63040
"KRN",19,11740,"U")
PM PROCEDURES - 6914.2
"KRN",19,11741,-1)
0^3
"KRN",19,11741,0)
ENH 6914.2 SUMMARY REPORT^Summary Report^^R^^^^^^^^ENGINEERING^^1
"KRN",19,11741,1,0)
^^4^4^3030822^
"KRN",19,11741,1,1,0)
This option prints or displays the CoreFLS Data Cleansing Summary Report
"KRN",19,11741,1,2,0)
for the PM PROCEDURES (#6914.2) file. The report shows the fields being
"KRN",19,11741,1,3,0)
checked and the total number of times that required and non-required
"KRN",19,11741,1,4,0)
fields are missing data.
"KRN",19,11741,20)
S ENHRPT=1
"KRN",19,11741,25)
REPTYP^ENH9142
"KRN",19,11741,"U")
SUMMARY REPORT
"KRN",19,11742,-1)
0^4
"KRN",19,11742,0)
ENH 6914.2 REQUIRED RPT^Required Fields Missing Data Report^^R^^^^^^^^ENGINEERING^^1
"KRN",19,11742,1,0)
^^3^3^3030930^
"KRN",19,11742,1,1,0)
This option prints or displays the CoreFLS Data Cleansing Required Fields
"KRN",19,11742,1,2,0)
Missing Data Report for the PM PROCEDURES (#6914.2) file. The report lists
"KRN",19,11742,1,3,0)
the required fields that are empty and that you must correct.
"KRN",19,11742,20)
S ENHRPT=2
"KRN",19,11742,25)
REPTYP^ENH9142
"KRN",19,11742,"U")
REQUIRED FIELDS MISSING DATA R
"KRN",19,11743,-1)
0^5
"KRN",19,11743,0)
ENH 6914.2 LOOKUP RPT^Lookup Fields w/ Invalid Data Report - N/A^^R^^^^^^^^ENGINEERING^^1
"KRN",19,11743,1,0)
^^5^5^3030930^
"KRN",19,11743,1,1,0)
This option is a placeholder for the Lookup Fields w/ Invalid Data 
"KRN",19,11743,1,2,0)
Report. The PM PROCEDURE (#6914.2) file does not have any lookup fields
"KRN",19,11743,1,3,0)
(a.k.a pointers) and thus does not have a report to print for this type of
"KRN",19,11743,1,4,0)
data check. This option is included for consistency with other Data
"KRN",19,11743,1,5,0)
Cleansing menus.
"KRN",19,11743,20)
S ENHRPT=3
"KRN",19,11743,25)
REPTYP^ENH9142
"KRN",19,11743,"U")
LOOKUP FIELDS W/ INVALID DATA 
"KRN",19,11744,-1)
0^6
"KRN",19,11744,0)
ENH 6914.2 NON-REQUIRED RPT^Non-Required Fields Missing Data Report^^R^^^^^^^^ENGINEERING^^1
"KRN",19,11744,1,0)
^^4^4^3030930^
"KRN",19,11744,1,1,0)
This option prints or displays the CoreFLS Data Cleansing Non-Required
"KRN",19,11744,1,2,0)
Fields Missing Data Report for the PM PROCEDURES (#6914.2) file. The
"KRN",19,11744,1,3,0)
report lists the non-required fields that are empty and that you should 
"KRN",19,11744,1,4,0)
correct.
"KRN",19,11744,20)
S ENHRPT=4
"KRN",19,11744,25)
REPTYP^ENH9142
"KRN",19,11744,"U")
NON-REQUIRED FIELDS MISSING DA
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",33,-1)
1^1
"PKG",33,0)
ENGINEERING^EN^AUTOMATED ENGINEERING MANAGEMENT SYSTEM
"PKG",33,20,0)
^9.402P^^
"PKG",33,22,0)
^9.49I^1^1
"PKG",33,22,1,0)
7.0^2930817^2960130
"PKG",33,22,1,"PAH",1,0)
81^3031003
"PKG",33,22,1,"PAH",1,1,0)
^^1^1^3031003
"PKG",33,22,1,"PAH",1,1,1,0)
CoreFLS Data Cleansing Reports for AEMS/MERS file PM PROCEDURES (#6914.2)
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
5
"RTN","ENH9142")
0^1^B18586954
"RTN","ENH9142",1,0)
ENH9142 ;WOIFO/EEN - PM Procedures Report Driver (AMES/MERS) - CoreFLS ;09/30/03 14:30
"RTN","ENH9142",2,0)
 ;;7.0;Engineering;**81**;Aug 17,1993
"RTN","ENH9142",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","ENH9142",4,0)
 ;
"RTN","ENH9142",5,0)
 Q  ;this routine is not callable from the top
"RTN","ENH9142",6,0)
 ;
"RTN","ENH9142",7,0)
 ;This routine is the main entry point for all the PM PROCEDURES
"RTN","ENH9142",8,0)
 ;(#6914.2) data cleansing options.
"RTN","ENH9142",9,0)
 ;
"RTN","ENH9142",10,0)
REPTYP ; Entry Point to print all data cleansing reports
"RTN","ENH9142",11,0)
 ;
"RTN","ENH9142",12,0)
 K ^TMP("ENH9142",$J)
"RTN","ENH9142",13,0)
 S (P,L,ABORT)=0
"RTN","ENH9142",14,0)
 Q:'$D(ENHRPT)
"RTN","ENH9142",15,0)
 I ENHRPT=1 D
"RTN","ENH9142",16,0)
 . S PRTRTN="OPT1^ENH9142P"
"RTN","ENH9142",17,0)
 I ENHRPT=2 D
"RTN","ENH9142",18,0)
 . S PRTRTN="OPT2^ENH9142P"
"RTN","ENH9142",19,0)
 I ENHRPT=3 D  G EXIT Q
"RTN","ENH9142",20,0)
 . W !!,"*** Data cleansing of lookup fields is not applicable for this file ***"
"RTN","ENH9142",21,0)
 . W !!,"  Enter RETURN to continue or '^' to exit: " R Y:DTIME I '$T!(Y[U) S ABORT=1
"RTN","ENH9142",22,0)
 I ENHRPT=4 D
"RTN","ENH9142",23,0)
 . S PRTRTN="OPT4^ENH9142P"
"RTN","ENH9142",24,0)
 D SORT I ABORT G EXIT Q
"RTN","ENH9142",25,0)
 D INST I ABORT G EXIT Q
"RTN","ENH9142",26,0)
 D DEVICE
"RTN","ENH9142",27,0)
 G EXIT
"RTN","ENH9142",28,0)
 Q
"RTN","ENH9142",29,0)
 ;
"RTN","ENH9142",30,0)
SORT ; Ask question how to sort by prefix or suffix
"RTN","ENH9142",31,0)
 K DIR,Y
"RTN","ENH9142",32,0)
 W !!," This report can be sorted by record number or the prefix or suffix of the"
"RTN","ENH9142",33,0)
 W !," PM REFERENCE (#.01) field."
"RTN","ENH9142",34,0)
 S DIR(0)="S^1:Record Number;2:Prefix;3:Suffix"
"RTN","ENH9142",35,0)
 S DIR("A")="Please select a sort criteria (1-3)"
"RTN","ENH9142",36,0)
 S DIR("A",1)=" "
"RTN","ENH9142",37,0)
 S DIR("B")=1
"RTN","ENH9142",38,0)
 S DIR("?")=" "
"RTN","ENH9142",39,0)
 S DIR("?",1)=" Select 1 to print the records in internal entry number (IEN) order."
"RTN","ENH9142",40,0)
 S DIR("?",2)=" "
"RTN","ENH9142",41,0)
 S DIR("?",3)=" Select 2 to sort the PM PROCEDURES (#6914.2) records by the characters"
"RTN","ENH9142",42,0)
 S DIR("?",4)=" appearing to the left of the first hyphen in the PM REFERENCE (#.01) field."
"RTN","ENH9142",43,0)
 S DIR("?",5)=" "
"RTN","ENH9142",44,0)
 S DIR("?",6)=" Select 3 to sort the PM PROCEDURES (#6914.2) records by the characters"
"RTN","ENH9142",45,0)
 S DIR("?",7)=" appearing to the right of the last hyphen in the PM REFERENCE (#.01) field."
"RTN","ENH9142",46,0)
 S DIR("?",8)=" "
"RTN","ENH9142",47,0)
 S DIR("?",9)=" (For example, if the PM REFERENCE field contains ""AAA-bbb-ccc-DDD"","
"RTN","ENH9142",48,0)
 S DIR("?",10)=" the ""AAA"" is the prefix and the ""DDD"" is the suffix.)"
"RTN","ENH9142",49,0)
 D ^DIR K DIR
"RTN","ENH9142",50,0)
 I Y[U!(Y="")!$D(DTOUT)!$D(DUOUT) S ABORT=1 Q
"RTN","ENH9142",51,0)
 S ENHSORT=Y
"RTN","ENH9142",52,0)
 Q
"RTN","ENH9142",53,0)
 ;
"RTN","ENH9142",54,0)
DEVICE ; Ask the user for a device to print to (queuing is allowed).
"RTN","ENH9142",55,0)
 W !
"RTN","ENH9142",56,0)
 S %ZIS="Q"
"RTN","ENH9142",57,0)
 D ^%ZIS Q:POP
"RTN","ENH9142",58,0)
 ;User has decided to Queue report
"RTN","ENH9142",59,0)
 I $D(IO("Q")) D  Q
"RTN","ENH9142",60,0)
 . S ZTSAVE("ENHRPT")="",ZTSAVE("ENHDIVFG")="",ZTSAVE("ENHINST")=""
"RTN","ENH9142",61,0)
 . S ZTRTN=PRTRTN,ZTSAVE("ENHSORT")=""
"RTN","ENH9142",62,0)
 . S ZTDESC="CoreFLS DATA QUALITY REPORT (File# 6914.2 - PM PROCEDURES)"
"RTN","ENH9142",63,0)
 . D ^%ZTLOAD,HOME^%ZIS
"RTN","ENH9142",64,0)
 . K ZTSK,ZTSAVE,ZTRTN,ZTDESC
"RTN","ENH9142",65,0)
 D @PRTRTN
"RTN","ENH9142",66,0)
 Q
"RTN","ENH9142",67,0)
 ;
"RTN","ENH9142",68,0)
HDR ; Print the standard report header.
"RTN","ENH9142",69,0)
 ; Do not ask 'RETURN' before first page on CRT.
"RTN","ENH9142",70,0)
 I $E(IOST,1,2)="C-",P R !!,"Enter RETURN to continue or '^' to exit: ",Y:DTIME I '$T!(Y[U) S ABORT=1 Q
"RTN","ENH9142",71,0)
 ; Do not print a form feed before first page on printer.
"RTN","ENH9142",72,0)
 ; Top of form is set at end of previous report.
"RTN","ENH9142",73,0)
 I $E(IOST,1,2)="C-"!P W @IOF
"RTN","ENH9142",74,0)
 S P=P+1,L=4
"RTN","ENH9142",75,0)
 W !,"PM PROCEDURES (#6914.2) - "_$G(ENHDR),?67,"Page: ",$J(P,5,0)
"RTN","ENH9142",76,0)
 W !,"CoreFLS Data Cleansing Report ",$G(ENHDR1),?58,"Printed: ",$$FMTE^XLFDT(DT)
"RTN","ENH9142",77,0)
 Q
"RTN","ENH9142",78,0)
 ;
"RTN","ENH9142",79,0)
EORT ; Report completed
"RTN","ENH9142",80,0)
 I 'ABORT D
"RTN","ENH9142",81,0)
 . W !!,"<End of Report>"
"RTN","ENH9142",82,0)
 . I $E(IOST,1,2)="C-" W " Enter RETURN to continue" R Y:DTIME
"RTN","ENH9142",83,0)
 I ABORT W !!,"<Report Aborted>"
"RTN","ENH9142",84,0)
 D ^%ZISC
"RTN","ENH9142",85,0)
 K L,P,X,Y,ABORT
"RTN","ENH9142",86,0)
 I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ENH9142",87,0)
 Q
"RTN","ENH9142",88,0)
 ;
"RTN","ENH9142",89,0)
INST ; Print Instructions for Summary Report
"RTN","ENH9142",90,0)
 ;
"RTN","ENH9142",91,0)
 ;  Variables:
"RTN","ENH9142",92,0)
 ;    ENHRPT = Type of report
"RTN","ENH9142",93,0)
 ;           1 - Summary Report
"RTN","ENH9142",94,0)
 ;           2 - Required Fields Missing Data Report
"RTN","ENH9142",95,0)
 ;           3 - Lookup Fields w/ Invalid Data Report
"RTN","ENH9142",96,0)
 ;           4 - Non-Required Fields Missing Data Report
"RTN","ENH9142",97,0)
 ;
"RTN","ENH9142",98,0)
 K DIR
"RTN","ENH9142",99,0)
 S DIR(0)="Y"
"RTN","ENH9142",100,0)
 S DIR("A")="Do you wish to print the instructions for this report"
"RTN","ENH9142",101,0)
 S DIR("A",1)=" "
"RTN","ENH9142",102,0)
 S DIR("B")="NO"
"RTN","ENH9142",103,0)
 S DIR("?")="Please enter Y to print the instructions or N to skip the instructions"
"RTN","ENH9142",104,0)
 D ^DIR K DIR
"RTN","ENH9142",105,0)
 I Y[U!(Y="")!$D(DTOUT)!$D(DUOUT) S ABORT=1 Q
"RTN","ENH9142",106,0)
 S ENHINST=Y
"RTN","ENH9142",107,0)
 Q
"RTN","ENH9142",108,0)
 ;
"RTN","ENH9142",109,0)
EXIT ;
"RTN","ENH9142",110,0)
 K P,L,ABORT,ENFLG,TOTANA,CRITREC,BPTREC,DESREC,CRITNUM,BPTNUM,DESNUM
"RTN","ENH9142",111,0)
 K CHKTYP,FLDNAME,FLDNUM,PRTRTN,UIEN,DESNSF,DIR,ENHRPT,ENHDIVFG,ENHDIV
"RTN","ENH9142",112,0)
 K ENHDR,DIV,SFIEN,SFNAME,RMNUM,FLD,RECIEN,RECNUM,CNT,DIVDIR,DTOUT,DUOUT
"RTN","ENH9142",113,0)
 K POP,Y,DESFLD,ENHHELP1,ENHHELP2,ENHMNU1,ENHMNU2,DIVCT,%ZIS,ENHINST
"RTN","ENH9142",114,0)
 K FLDANA,I,IEN,NAME,PROTCRIT,RECANA,TXTDES,ENFILE,ENHQFLG,ENHSORT
"RTN","ENH9142",115,0)
 Q
"RTN","ENH9142I")
0^2^B56101712
"RTN","ENH9142I",1,0)
ENH9142I ;WOIFO/EEN - PM Procedures Report Instructions ;09/30/03 14:30
"RTN","ENH9142I",2,0)
 ;;7.0;ENGINEERING;**81**;Aug 17, 1993
"RTN","ENH9142I",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","ENH9142I",4,0)
 ;
"RTN","ENH9142I",5,0)
 Q  ;this routine is not callable from the top
"RTN","ENH9142I",6,0)
 ;
"RTN","ENH9142I",7,0)
 ;This routine includes all instructions for the 6914.2 reports
"RTN","ENH9142I",8,0)
 ;
"RTN","ENH9142I",9,0)
PRT1 ;Instructions for the Summary Report
"RTN","ENH9142I",10,0)
 U IO
"RTN","ENH9142I",11,0)
 S (P,L,ABORT)=0,ENHDR="SUMMARY",ENHDR1="Instructions"
"RTN","ENH9142I",12,0)
 D HDR^ENH9142
"RTN","ENH9142I",13,0)
 W !!,"The purpose of this report is to display the total number of records in the"
"RTN","ENH9142I",14,0)
 W !,"PM PROCEDURES (#6914.2) file that have missing (empty) values in the fields"
"RTN","ENH9142I",15,0)
 W !,"that are being converted into the CoreFLS system. The report examines two"
"RTN","ENH9142I",16,0)
 W !,"fields to determine if there is a valid value in each. If there is no value"
"RTN","ENH9142I",17,0)
 W !,"in the field, it is considered to be empty."
"RTN","ENH9142I",18,0)
 S L=L+6
"RTN","ENH9142I",19,0)
 I L+6>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",20,0)
 W !!,"This report examines the following fields:"
"RTN","ENH9142I",21,0)
 W !,"     PROCEDURE TITLE (#1)"
"RTN","ENH9142I",22,0)
 W !,"     TEXT (#3)"
"RTN","ENH9142I",23,0)
 S L=L+4
"RTN","ENH9142I",24,0)
 I L+10>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",25,0)
 W !!,"The report prints or displays in one of three sort orders: record number,"
"RTN","ENH9142I",26,0)
 W !,"prefix, or suffix. Prefix is comprised of characters appearing to the left of"
"RTN","ENH9142I",27,0)
 W !,"the first hyphen in the PM REFERENCE (#.01) field while the suffix consists"
"RTN","ENH9142I",28,0)
 W !,"of characters appearing to the right of the last hyphen in the field. (For"
"RTN","ENH9142I",29,0)
 W !,"example, if the field contains ""AAA-bbb-ccc-DDD"", then ""AAA"" is the prefix"
"RTN","ENH9142I",30,0)
 W !,"and ""DDD"" is the suffix.) When printing or viewing this report, select one"
"RTN","ENH9142I",31,0)
 W !,"of the sort orders."
"RTN","ENH9142I",32,0)
 S L=L+8
"RTN","ENH9142I",33,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",34,0)
 W !!,"The report lists the overall count of the number of problem records and"
"RTN","ENH9142I",35,0)
 W !,"fields detected."
"RTN","ENH9142I",36,0)
 S L=L+3
"RTN","ENH9142I",37,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",38,0)
 W !!,"The totals for the report are as follows:"
"RTN","ENH9142I",39,0)
 S L=L+2
"RTN","ENH9142I",40,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",41,0)
 W !!,"Total records analyzed - number of records in the PM PROCEDURES (#6914.2) file"
"RTN","ENH9142I",42,0)
 W !,"     within the sort order"
"RTN","ENH9142I",43,0)
 S L=L+3
"RTN","ENH9142I",44,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",45,0)
 W !!,"Total records with Required Fields Missing Data - number of records that have"
"RTN","ENH9142I",46,0)
 W !,"     at least one empty required field"
"RTN","ENH9142I",47,0)
 S L=L+3
"RTN","ENH9142I",48,0)
 I L+6>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",49,0)
 W !!,"Total records with Lookup Fields w/ Invalid Data - ""N/A"" appears because"
"RTN","ENH9142I",50,0)
 W !,"     this file does not contain any lookup-type fields. This entry has been"
"RTN","ENH9142I",51,0)
 W !,"     left for consistency with the other Data Cleansing reports."
"RTN","ENH9142I",52,0)
 S L=L+4
"RTN","ENH9142I",53,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",54,0)
 W !!,"Total records with Non-Required Fields Missing Data - number of records that"
"RTN","ENH9142I",55,0)
 W !,"     have nothing in at least one non-required field"
"RTN","ENH9142I",56,0)
 S L=L+3
"RTN","ENH9142I",57,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",58,0)
 W !!,"Next, the report lists the counts for each individual field. Each row consists"
"RTN","ENH9142I",59,0)
 W !,"of the following columns:"
"RTN","ENH9142I",60,0)
 S L=L+3
"RTN","ENH9142I",61,0)
 I L+8>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",62,0)
 W !!,"DATA QUALITY CHECK TYPE - tells whether the field was examined for:"
"RTN","ENH9142I",63,0)
 W !,"     REQ: required fields missing data"
"RTN","ENH9142I",64,0)
 W !,"     NREQ: non-required fields missing data"
"RTN","ENH9142I",65,0)
 S L=L+6
"RTN","ENH9142I",66,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",67,0)
 W !!,"FIELD NAME - name of the field from the PM PROCEDURES (#6914.2) file"
"RTN","ENH9142I",68,0)
 S L=L+2
"RTN","ENH9142I",69,0)
 I L+6>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",70,0)
 W !!,"REQUIRED FIELDS MISSING DATA - count of the number of empty required"
"RTN","ENH9142I",71,0)
 W !,"     fields (""N/A"" appears in this column if the field is not required"
"RTN","ENH9142I",72,0)
 W !,"     by CoreFLS.)"
"RTN","ENH9142I",73,0)
 S L=L+4
"RTN","ENH9142I",74,0)
 I L+6>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",75,0)
 W !!,"LOOKUP FIELDS W/ INVALID DATA - ""N/A"" appears because this file does not"
"RTN","ENH9142I",76,0)
 W !,"     contain any lookup-type fields. This column has been left for consistency"
"RTN","ENH9142I",77,0)
 W !,"     with the other Data Cleansing reports."
"RTN","ENH9142I",78,0)
 S L=L+4
"RTN","ENH9142I",79,0)
 I L+7>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",80,0)
 W !!,"NON-REQ. FIELDS WITH MISSING DATA - count of the number of empty non-required"
"RTN","ENH9142I",81,0)
 W !,"     fields (""N/A"" appears in this column if non-required does not apply to"
"RTN","ENH9142I",82,0)
 W !,"     this field)"
"RTN","ENH9142I",83,0)
 W !!,"<End of Instructions>" I $E(IOST,1,2)="C-" W "  Enter RETURN to continue or '^' to exit: " R Y:DTIME I '$T!(Y[U) S ABORT=1 Q
"RTN","ENH9142I",84,0)
 W @IOF
"RTN","ENH9142I",85,0)
 K Y,P,L,ENHDR,ENHDR1
"RTN","ENH9142I",86,0)
 Q
"RTN","ENH9142I",87,0)
 ;
"RTN","ENH9142I",88,0)
PRT2 ;These are the instructions for the Required Fields Report
"RTN","ENH9142I",89,0)
 U IO
"RTN","ENH9142I",90,0)
 S (P,L,ABORT)=0
"RTN","ENH9142I",91,0)
 S ENHDR="REQUIRED FIELDS MISSING DATA",ENHDR1="Instructions"
"RTN","ENH9142I",92,0)
 D HDR^ENH9142
"RTN","ENH9142I",93,0)
 W !!,"The purpose of this report is to display a list of all PM PROCEDURES (#6914.2)"
"RTN","ENH9142I",94,0)
 W !,"items with missing (empty) data for the fields that are required in the CoreFLS"
"RTN","ENH9142I",95,0)
 W !,"system. CoreFLS is unable to function when a required field is empty; therefore,"
"RTN","ENH9142I",96,0)
 W !,"you must enter valid data in these fields prior to conversion."
"RTN","ENH9142I",97,0)
 S L=L+5
"RTN","ENH9142I",98,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",99,0)
 W !!,"This report examines the following required field:"
"RTN","ENH9142I",100,0)
 W !,"     PROCEDURE TITLE (#1)"
"RTN","ENH9142I",101,0)
 S L=L+3
"RTN","ENH9142I",102,0)
 I L+10>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",103,0)
 W !!,"The report prints or displays in one of three sort orders: record number,"
"RTN","ENH9142I",104,0)
 W !,"prefix, or suffix. Prefix is comprised of characters appearing to the left of"
"RTN","ENH9142I",105,0)
 W !,"the first hyphen in the PM REFERENCE (#.01) field while the suffix consists"
"RTN","ENH9142I",106,0)
 W !,"of characters appearing to the right of the last hyphen in the field. (For"
"RTN","ENH9142I",107,0)
 W !,"example, if the field contains ""AAA-bbb-ccc-DDD"", then ""AAA"" is the prefix"
"RTN","ENH9142I",108,0)
 W !,"and ""DDD"" is the suffix.) When printing or viewing this report, select one"
"RTN","ENH9142I",109,0)
 W !,"of the sort orders."
"RTN","ENH9142I",110,0)
 S L=L+8
"RTN","ENH9142I",111,0)
 I L+7>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",112,0)
 W !!,"The totals for the report are as follows:"
"RTN","ENH9142I",113,0)
 W !!,"Total records analyzed - number of records in the PM PROCEDURES (#6914.2) file"
"RTN","ENH9142I",114,0)
 W !,"     within the sort order"
"RTN","ENH9142I",115,0)
 S L=L+5
"RTN","ENH9142I",116,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",117,0)
 W !!,"Total records with Required Fields Missing Data - number of records that have"
"RTN","ENH9142I",118,0)
 W !,"     an empty required field"
"RTN","ENH9142I",119,0)
 S L=L+3
"RTN","ENH9142I",120,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",121,0)
 W !!,"Total fields with Required Fields Missing Data - number of required fields"
"RTN","ENH9142I",122,0)
 W !,"     that are empty"
"RTN","ENH9142I",123,0)
 S L=L+3
"RTN","ENH9142I",124,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",125,0)
 W !!,"The report then lists each record in the selected sort order. Each row on the"
"RTN","ENH9142I",126,0)
 W !,"report contains the following columns:"
"RTN","ENH9142I",127,0)
 S L=L+3
"RTN","ENH9142I",128,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",129,0)
 W !!,"REC IEN - lists the PM PROCEDURES (#6914.2) file internal record number"
"RTN","ENH9142I",130,0)
 S L=L+2
"RTN","ENH9142I",131,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",132,0)
 W !!,"PM REFERENCE - PM REFERENCE (#.01) field"
"RTN","ENH9142I",133,0)
 S L=L+2
"RTN","ENH9142I",134,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",135,0)
 W !!,"FIELD NAME - name of the required field"
"RTN","ENH9142I",136,0)
 S L=L+2
"RTN","ENH9142I",137,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",138,0)
 W !!,"You must correct every field that appears on this report prior to conversion."
"RTN","ENH9142I",139,0)
 W !,"Use AEMS/MERS to enter a valid value in each empty field listed."
"RTN","ENH9142I",140,0)
 S L=L+3
"RTN","ENH9142I",141,0)
 I L+8>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142I",142,0)
 W !!,"*** Conversion Note **********************************************"
"RTN","ENH9142I",143,0)
 W !,"If any PROCEDURE TITLE (#1) field remains empty at the time of"
"RTN","ENH9142I",144,0)
 W !,"conversion, the PM record in CoreFLS will not have a description."
"RTN","ENH9142I",145,0)
 W !,"******************************************************************"
"RTN","ENH9142I",146,0)
 W !!,"<End of Instructions>" I $E(IOST,1,2)="C-" W " Enter RETURN to continue or '^' to exit: " R Y:DTIME I '$T!(Y[U) S ABORT=1 Q
"RTN","ENH9142I",147,0)
 W @IOF
"RTN","ENH9142I",148,0)
 K Y,L,P,ENHDR,ENHDR1
"RTN","ENH9142I",149,0)
 Q
"RTN","ENH9142L")
0^3^B14410446
"RTN","ENH9142L",1,0)
ENH9142L ;WOIFO/EEN - PM Procedures Report Loop (AEMS/MERS) - CoreFLS ;09/30/03 14:30
"RTN","ENH9142L",2,0)
 ;;7.0;ENGINEERING;**81**;Aug 17,1993
"RTN","ENH9142L",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","ENH9142L",4,0)
 ;
"RTN","ENH9142L",5,0)
INIT ; Initialize Variables
"RTN","ENH9142L",6,0)
 I $E(IOST,1,2)="C-" D WAIT^DICD
"RTN","ENH9142L",7,0)
 K ^TMP("ENH9142",$J)
"RTN","ENH9142L",8,0)
 S (ENIEN,DIVCT)=0,ENFILE="ENH9142"
"RTN","ENH9142L",9,0)
 ;
"RTN","ENH9142L",10,0)
LOOP ; Initialize TMP global with records in file 6914.2 Engineering Space
"RTN","ENH9142L",11,0)
 ;
"RTN","ENH9142L",12,0)
 F  S ENIEN=$O(^ENG(6914.2,ENIEN)) Q:'ENIEN  D
"RTN","ENH9142L",13,0)
 . S (CRITFLD,BPTFLD,DESFLD,CRITFLG,BPTFLG,DESFLG)=0
"RTN","ENH9142L",14,0)
 . S (ENHDIV,NAME)=""
"RTN","ENH9142L",15,0)
 . S NAME=$P(^ENG(6914.2,ENIEN,0),U)
"RTN","ENH9142L",16,0)
 . ;
"RTN","ENH9142L",17,0)
 . ; No Sorting
"RTN","ENH9142L",18,0)
 . I ENHSORT=1 S ENHDIV="entire file"
"RTN","ENH9142L",19,0)
 . ;
"RTN","ENH9142L",20,0)
 . ; Find Prefix
"RTN","ENH9142L",21,0)
 . I ENHSORT=2 D
"RTN","ENH9142L",22,0)
 .. I NAME["-" D
"RTN","ENH9142L",23,0)
 ... S ENHDIV=$P(NAME,"-")
"RTN","ENH9142L",24,0)
 .. I ENHDIV="" S ENHDIV="ZZ no prefix"
"RTN","ENH9142L",25,0)
 . ;
"RTN","ENH9142L",26,0)
 . ; Find Suffix
"RTN","ENH9142L",27,0)
 . I ENHSORT=3 D
"RTN","ENH9142L",28,0)
 .. I NAME["-" D
"RTN","ENH9142L",29,0)
 ... S ENHDIV=$P(NAME,"-",$L(NAME,"-"))
"RTN","ENH9142L",30,0)
 .. I ENHDIV="" S ENHDIV="ZZ no suffix"
"RTN","ENH9142L",31,0)
 . ;
"RTN","ENH9142L",32,0)
 . ; Set SORT node in ^TMP and initialize nodes for Sort
"RTN","ENH9142L",33,0)
 . I '$D(^TMP(ENFILE,$J,"DIV",ENHDIV)) D
"RTN","ENH9142L",34,0)
 .. S DIVCT=DIVCT+1
"RTN","ENH9142L",35,0)
 .. S ^TMP(ENFILE,$J,"DIV",ENHDIV)=DIVCT
"RTN","ENH9142L",36,0)
 .. S ^TMP(ENFILE,$J,DIVCT,0)=ENHDIV
"RTN","ENH9142L",37,0)
 .. S ^TMP(ENFILE,$J,DIVCT,"SUM")="0^0^0^0"
"RTN","ENH9142L",38,0)
 .. S ^TMP(ENFILE,$J,DIVCT,"CRIT")="0"
"RTN","ENH9142L",39,0)
 .. S ^TMP(ENFILE,$J,DIVCT,"BPT")=0
"RTN","ENH9142L",40,0)
 .. S ^TMP(ENFILE,$J,DIVCT,"DES")=0
"RTN","ENH9142L",41,0)
 .. S ^TMP(ENFILE,$J,DIVCT,"CRIT",1)=0
"RTN","ENH9142L",42,0)
 .. S ^TMP(ENFILE,$J,DIVCT,"DES",3)=0
"RTN","ENH9142L",43,0)
 . ;
"RTN","ENH9142L",44,0)
 . ; Nodes that have been initialized or that already exist
"RTN","ENH9142L",45,0)
 . I $D(^TMP(ENFILE,$J,"DIV",ENHDIV)) D
"RTN","ENH9142L",46,0)
 .. S ENDIVCT=^TMP(ENFILE,$J,"DIV",ENHDIV)
"RTN","ENH9142L",47,0)
 . ;
"RTN","ENH9142L",48,0)
 . ; Get PM REFERENCE (.01 field)
"RTN","ENH9142L",49,0)
 . S NAME=$P($G(^ENG(6914.2,ENIEN,0)),U)
"RTN","ENH9142L",50,0)
 . ;
"RTN","ENH9142L",51,0)
 . ; **Add up Critical Null fields**
"RTN","ENH9142L",52,0)
 . ; -- Procedure Title (Check for Crit Null) --
"RTN","ENH9142L",53,0)
 . I $P($G(^ENG(6914.2,ENIEN,0)),U,2)="" D
"RTN","ENH9142L",54,0)
 .. S CRITFLD=CRITFLD+1,CRITFLG=1
"RTN","ENH9142L",55,0)
 .. S ^TMP(ENFILE,$J,ENDIVCT,"CRIT",1)=^TMP(ENFILE,$J,ENDIVCT,"CRIT",1)+1
"RTN","ENH9142L",56,0)
 .. S ^TMP(ENFILE,$J,ENDIVCT,"CRIT",1,ENIEN)=ENIEN_U_NAME_U_"Procedure Title"_U_"6914.2,1"_U_"N/A"_U_"N/A"
"RTN","ENH9142L",57,0)
 . ;
"RTN","ENH9142L",58,0)
 . ; **Add up Broken Pointer fields**
"RTN","ENH9142L",59,0)
 . ; -- No Pointer fields for this file (Check for Broken Pter) --
"RTN","ENH9142L",60,0)
 . ;
"RTN","ENH9142L",61,0)
 . ; **Add up the Desirable Null fields**
"RTN","ENH9142L",62,0)
 . ; -- Text (Check for Desirable Null) --
"RTN","ENH9142L",63,0)
 . I $P($G(^ENG(6914.2,ENIEN,1,1,0)),U)="" D
"RTN","ENH9142L",64,0)
 .. S DESFLD=DESFLD+1,DESFLG=1
"RTN","ENH9142L",65,0)
 .. S ^TMP(ENFILE,$J,ENDIVCT,"DES",3)=^TMP(ENFILE,$J,ENDIVCT,"DES",3)+1
"RTN","ENH9142L",66,0)
 .. S ^TMP(ENFILE,$J,ENDIVCT,"DES",3,ENIEN)=ENIEN_U_NAME_U_"Text"_U_"6914.2,3"_U_"N/A"_U_"N/A"
"RTN","ENH9142L",67,0)
 . ;
"RTN","ENH9142L",68,0)
 . ; Add counters for Total Analyzed, Critical, Broken, and Desirable
"RTN","ENH9142L",69,0)
 . S $P(^TMP("ENH9142",$J,ENDIVCT,"SUM"),U)=$P(^TMP("ENH9142",$J,ENDIVCT,"SUM"),U)+1
"RTN","ENH9142L",70,0)
 . I CRITFLG D
"RTN","ENH9142L",71,0)
 .. S $P(^TMP("ENH9142",$J,ENDIVCT,"SUM"),U,2)=$P(^TMP("ENH9142",$J,ENDIVCT,"SUM"),U,2)+1
"RTN","ENH9142L",72,0)
 .. S ^TMP("ENH9142",$J,ENDIVCT,"CRIT")=^TMP("ENH9142",$J,ENDIVCT,"CRIT")+CRITFLD
"RTN","ENH9142L",73,0)
 . I BPTFLG D
"RTN","ENH9142L",74,0)
 .. S $P(^TMP("ENH9142",$J,ENDIVCT,"SUM"),U,3)=$P(^TMP("ENH9142",$J,ENDIVCT,"SUM"),U,3)+1
"RTN","ENH9142L",75,0)
 .. S ^TMP("ENH9142",$J,ENDIVCT,"BPT")=^TMP("ENH9142",$J,ENDIVCT,"BPT")+BPTFLD
"RTN","ENH9142L",76,0)
 . I DESFLG D
"RTN","ENH9142L",77,0)
 .. S $P(^TMP("ENH9142",$J,ENDIVCT,"SUM"),U,4)=$P(^TMP("ENH9142",$J,ENDIVCT,"SUM"),U,4)+1
"RTN","ENH9142L",78,0)
 .. S ^TMP("ENH9142",$J,ENDIVCT,"DES")=^TMP("ENH9142",$J,ENDIVCT,"DES")+DESFLD
"RTN","ENH9142L",79,0)
 . ;
"RTN","ENH9142L",80,0)
 . Q
"RTN","ENH9142L",81,0)
 ;
"RTN","ENH9142L",82,0)
EXIT ; Kill all local variables
"RTN","ENH9142L",83,0)
 K ENIEN,ENHDIV,ENDIVCT,CRITFLD,BPTFLD,DESFLD,CRITFLG,BPTFLG,DESFLG
"RTN","ENH9142L",84,0)
 K DIVCT,UIEN,DIVI
"RTN","ENH9142L",85,0)
 Q
"RTN","ENH9142M")
0^5^B16688101
"RTN","ENH9142M",1,0)
ENH9142M ;WOIFO/EEN - PM Procedures Report Instructions ;09/30/03 14:30
"RTN","ENH9142M",2,0)
 ;;7.0;ENGINEERING;**81**;Aug 17, 1993
"RTN","ENH9142M",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","ENH9142M",4,0)
 ;
"RTN","ENH9142M",5,0)
 Q  ;this routine is not callable from the top
"RTN","ENH9142M",6,0)
 ;
"RTN","ENH9142M",7,0)
 ;This routine includes all instructions for the 6914.2 reports
"RTN","ENH9142M",8,0)
 ;
"RTN","ENH9142M",9,0)
PRT4 ;These are the instructions for the Non-Required Report
"RTN","ENH9142M",10,0)
 U IO
"RTN","ENH9142M",11,0)
 S (P,L,ABORT)=0,ENHDR1="Instructions"
"RTN","ENH9142M",12,0)
 S ENHDR="NON-REQUIRED FIELDS MISSING DATA"
"RTN","ENH9142M",13,0)
 D HDR^ENH9142
"RTN","ENH9142M",14,0)
 W !!,"The purpose of this report is to display a list of all PM PROCEDURES (#6914.2)"
"RTN","ENH9142M",15,0)
 W !,"items with missing (empty) data for the fields that are not required in"
"RTN","ENH9142M",16,0)
 W !,"the CoreFLS system. If fields appearing on this report are left empty, the"
"RTN","ENH9142M",17,0)
 W !,"conversion will either default to a value or convert the empty field into the"
"RTN","ENH9142M",18,0)
 W !,"CoreFLS system."
"RTN","ENH9142M",19,0)
 S L=L+6
"RTN","ENH9142M",20,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",21,0)
 W !!,"This report examines the following non-required field:"
"RTN","ENH9142M",22,0)
 W !,"   TEXT (#3)"
"RTN","ENH9142M",23,0)
 S L=L+3
"RTN","ENH9142M",24,0)
 I L+10>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",25,0)
 W !!,"The report prints or displays in one of three sort orders: record number,"
"RTN","ENH9142M",26,0)
 W !,"prefix, or suffix. Prefix is comprised of characters appearing to the left of"
"RTN","ENH9142M",27,0)
 W !,"the first hyphen in the PM REFERENCE (#.01) field while the suffix consists"
"RTN","ENH9142M",28,0)
 W !,"of characters appearing to the right of the last hyphen in the field. (For"
"RTN","ENH9142M",29,0)
 W !,"example, if the field contains ""AAA-bbb-ccc-DDD"", then ""AAA"" is the prefix"
"RTN","ENH9142M",30,0)
 W !,"and ""DDD"" is the suffix.) When printing or viewing this report, select one"
"RTN","ENH9142M",31,0)
 W !,"of the sort orders."
"RTN","ENH9142M",32,0)
 S L=L+8
"RTN","ENH9142M",33,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",34,0)
 W !!,"The totals for the report are as follows:"
"RTN","ENH9142M",35,0)
 S L=L+2
"RTN","ENH9142M",36,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",37,0)
 W !!,"Total records analyzed - number of records in the PM PROCEDURES (#6914.2) file"
"RTN","ENH9142M",38,0)
 W !,"     within the sort order"
"RTN","ENH9142M",39,0)
 S L=L+3
"RTN","ENH9142M",40,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",41,0)
 W !!,"Total records with Non-Required Fields Missing Data - number of records that"
"RTN","ENH9142M",42,0)
 W !,"     have an empty non-required field"
"RTN","ENH9142M",43,0)
 S L=L+3
"RTN","ENH9142M",44,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",45,0)
 W !!,"Total fields with Non-Required Fields Missing Data - number of non-required"
"RTN","ENH9142M",46,0)
 W !,"     fields that are empty"
"RTN","ENH9142M",47,0)
 S L=L+3
"RTN","ENH9142M",48,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",49,0)
 W !!,"The report then lists each record in the selected sort order. Each row on the"
"RTN","ENH9142M",50,0)
 W !,"report contains the following columns:"
"RTN","ENH9142M",51,0)
 S L=L+3
"RTN","ENH9142M",52,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",53,0)
 W !!,"REC IEN - lists the PM PROCEDURES (#6914.2) file internal record number"
"RTN","ENH9142M",54,0)
 S L=L+2
"RTN","ENH9142M",55,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",56,0)
 W !!,"PM REFERENCE - PM REFERENCE (#.01) field"
"RTN","ENH9142M",57,0)
 S L=L+2
"RTN","ENH9142M",58,0)
 I L+4>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",59,0)
 W !!,"FIELD NAME - name of the non-required field"
"RTN","ENH9142M",60,0)
 S L=L+2
"RTN","ENH9142M",61,0)
 I L+5>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",62,0)
 W !!,"You should correct every field that appears on this report prior to conversion."
"RTN","ENH9142M",63,0)
 W !,"Use AEMS/MERS to enter a valid value in each empty field listed."
"RTN","ENH9142M",64,0)
 S L=L+3
"RTN","ENH9142M",65,0)
 I L+8>IOSL D HDR^ENH9142 Q:ABORT
"RTN","ENH9142M",66,0)
 W !!,"*** Conversion Note **********************************************"
"RTN","ENH9142M",67,0)
 W !,"If any non-required field on this report is left with missing data,"
"RTN","ENH9142M",68,0)
 W !,"it will be converted as empty into CoreFLS."
"RTN","ENH9142M",69,0)
 W !,"******************************************************************"
"RTN","ENH9142M",70,0)
 W !!,"<End of Instructions>" I $E(IOST,1,2)="C-" W "  Enter RETURN to continue or '^' to exit: " R Y:DTIME I '$T!(Y[U) S ABORT=1 Q
"RTN","ENH9142M",71,0)
 W @IOF
"RTN","ENH9142M",72,0)
 K Y,L,P,ENHDR,ENHDR1
"RTN","ENH9142M",73,0)
 Q
"RTN","ENH9142P")
0^4^B39530067
"RTN","ENH9142P",1,0)
ENH9142P ;WOIFO/EEN - PM Procedures Report Print (AMES/MERS) - CoreFLS ;09/30/03 14:30
"RTN","ENH9142P",2,0)
 ;;7.0;Engineering;**81**;Aug 17,1993
"RTN","ENH9142P",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","ENH9142P",4,0)
 ;
"RTN","ENH9142P",5,0)
 ; This routine prints Summary and Detailed Reports for the
"RTN","ENH9142P",6,0)
 ; Engineering Space File (#6928)
"RTN","ENH9142P",7,0)
 ;
"RTN","ENH9142P",8,0)
 Q  ;This routine is not callable from the top
"RTN","ENH9142P",9,0)
 ;
"RTN","ENH9142P",10,0)
INIT ; Initialize Variables
"RTN","ENH9142P",11,0)
 S (P,L,ABORT,ENFLG,TOTANA,CRITREC,BPTREC,DESREC,FLDANA,RECANA)=0
"RTN","ENH9142P",12,0)
 S (CHKTYP,FLDNAME,DIV,UIEN,PROTCRIT,TXTDES,TYP,NAME)=""
"RTN","ENH9142P",13,0)
 K ENHDR1
"RTN","ENH9142P",14,0)
 Q
"RTN","ENH9142P",15,0)
 ;
"RTN","ENH9142P",16,0)
OPT1 ; Print Summary Report
"RTN","ENH9142P",17,0)
 I ENHINST=1 D PRT1^ENH9142I I ABORT Q
"RTN","ENH9142P",18,0)
 I '$D(^TMP("ENH9142",$J)) D ^ENH9142L
"RTN","ENH9142P",19,0)
 D INIT
"RTN","ENH9142P",20,0)
 S ENHDR="SUMMARY"
"RTN","ENH9142P",21,0)
 S ENHDIVFG="ALL"
"RTN","ENH9142P",22,0)
 I ENHDIVFG="ALL" D
"RTN","ENH9142P",23,0)
 . S DIVI=""
"RTN","ENH9142P",24,0)
 . F  S DIVI=$O(^TMP("ENH9142",$J,"DIV",DIVI)) Q:DIVI=""!(ENFLG=1)  D
"RTN","ENH9142P",25,0)
 .. S DIV=^TMP("ENH9142",$J,"DIV",DIVI)
"RTN","ENH9142P",26,0)
 .. D L1
"RTN","ENH9142P",27,0)
 ;I ENHDIVFG'="ALL" D
"RTN","ENH9142P",28,0)
 ;. S ENHDIV=" for the "_ENHDIVFG_$S(ENHSORT=2:" Prexfix",1:" Suffix")
"RTN","ENH9142P",29,0)
 ;. S DIV=^TMP("ENH9142",$J,"DIV",ENHDIVFG)
"RTN","ENH9142P",30,0)
 ;. D L1
"RTN","ENH9142P",31,0)
 D EORT^ENH9142
"RTN","ENH9142P",32,0)
 K DIVI
"RTN","ENH9142P",33,0)
 Q
"RTN","ENH9142P",34,0)
L1 U IO
"RTN","ENH9142P",35,0)
 D HDR^ENH9142
"RTN","ENH9142P",36,0)
 I ABORT S ENFLG=1 Q
"RTN","ENH9142P",37,0)
 S TOTANA=$P($G(^TMP("ENH9142",$J,DIV,"SUM")),U)
"RTN","ENH9142P",38,0)
 S CRITREC=$P($G(^TMP("ENH9142",$J,DIV,"SUM")),U,2)
"RTN","ENH9142P",39,0)
 S BPTREC=$P($G(^TMP("ENH9142",$J,DIV,"SUM")),U,3)
"RTN","ENH9142P",40,0)
 S DESREC=$P($G(^TMP("ENH9142",$J,DIV,"SUM")),U,4)
"RTN","ENH9142P",41,0)
 S PROTCRIT=^TMP("ENH9142",$J,DIV,"CRIT",1)
"RTN","ENH9142P",42,0)
 S TXTDES=^TMP("ENH9142",$J,DIV,"DES",3)
"RTN","ENH9142P",43,0)
 D SHDR
"RTN","ENH9142P",44,0)
 W !,"REQ",?15,"Procedure Title",?35,$J(PROTCRIT,5),?52,$J("N/A",5)
"RTN","ENH9142P",45,0)
 W ?69,$J("N/A",5)
"RTN","ENH9142P",46,0)
 W !,"NREQ",?15,"Text",?35,$J("N/A",5),?52,$J("N/A",5),?69,$J(TXTDES,5),!
"RTN","ENH9142P",47,0)
 S L=L+2
"RTN","ENH9142P",48,0)
 I ENHDIVFG'="ALL" S ENFLG=1 ; Stop print if single source is picked
"RTN","ENH9142P",49,0)
 Q
"RTN","ENH9142P",50,0)
 ;
"RTN","ENH9142P",51,0)
OPT2 ; Required Fields Missing Data Report
"RTN","ENH9142P",52,0)
 I ENHINST=1 D PRT2^ENH9142I I ABORT Q
"RTN","ENH9142P",53,0)
 I '$D(^TMP("ENH9142",$J)) D ^ENH9142L
"RTN","ENH9142P",54,0)
 D INIT
"RTN","ENH9142P",55,0)
 S TYP="CRIT",ENHDIVFG="ALL"
"RTN","ENH9142P",56,0)
 S ENHDR="REQUIRED FIELDS MISSING DATA"
"RTN","ENH9142P",57,0)
 G PRT
"RTN","ENH9142P",58,0)
 Q
"RTN","ENH9142P",59,0)
 ;
"RTN","ENH9142P",60,0)
OPT3 ; Lookup Fields with Invalid Data Report
"RTN","ENH9142P",61,0)
 ; THIS TAG IS NOT USED FOR THIS FILE - NO BROKEN POINTERS ANALYZED
"RTN","ENH9142P",62,0)
 ;I ENHINST=1 D PRT3^ENH9142I I ABORT Q
"RTN","ENH9142P",63,0)
 ;I '$D(^TMP("ENH9142",$J)) D ^ENH9142L
"RTN","ENH9142P",64,0)
 ;D INIT
"RTN","ENH9142P",65,0)
 ;S TYP="BPT"
"RTN","ENH9142P",66,0)
 ;S ENHDR="LOOKUP FIELDS W/ INVALID DATA"
"RTN","ENH9142P",67,0)
 ;G PRT
"RTN","ENH9142P",68,0)
 Q
"RTN","ENH9142P",69,0)
 ;
"RTN","ENH9142P",70,0)
OPT4 ; Non-Required Fields Missing Data Report
"RTN","ENH9142P",71,0)
 I ENHINST=1 D PRT4^ENH9142M I ABORT Q
"RTN","ENH9142P",72,0)
 I '$D(^TMP("ENH9142",$J)) D ^ENH9142L
"RTN","ENH9142P",73,0)
 D INIT
"RTN","ENH9142P",74,0)
 S TYP="DES",ENHDIVFG="ALL"
"RTN","ENH9142P",75,0)
 S ENHDR="NON-REQUIRED FIELDS MISSING DATA"
"RTN","ENH9142P",76,0)
 G PRT
"RTN","ENH9142P",77,0)
 Q
"RTN","ENH9142P",78,0)
PRT ; Start printing detailed reports by sort
"RTN","ENH9142P",79,0)
 I ENHDIVFG="ALL" D
"RTN","ENH9142P",80,0)
 . S DIVI=""
"RTN","ENH9142P",81,0)
 . F  S DIVI=$O(^TMP("ENH9142",$J,"DIV",DIVI)) Q:DIVI=""!(ENFLG=1)  D
"RTN","ENH9142P",82,0)
 .. S DIV=^TMP("ENH9142",$J,"DIV",DIVI)
"RTN","ENH9142P",83,0)
 .. D LOOP
"RTN","ENH9142P",84,0)
 ;I ENHDIVFG'="ALL" D
"RTN","ENH9142P",85,0)
 ;. S ENHDIV=" for "_ENHDIVFG_" Source"
"RTN","ENH9142P",86,0)
 ;. S DIV=^TMP("ENH9142",$J,"DIV",ENHDIVFG)
"RTN","ENH9142P",87,0)
 ;. D LOOP
"RTN","ENH9142P",88,0)
 D EORT^ENH9142
"RTN","ENH9142P",89,0)
 K DIVI,TYP
"RTN","ENH9142P",90,0)
 Q
"RTN","ENH9142P",91,0)
 ;
"RTN","ENH9142P",92,0)
LOOP ; Loop to print regular fields
"RTN","ENH9142P",93,0)
 U IO
"RTN","ENH9142P",94,0)
 Q:TYP=""
"RTN","ENH9142P",95,0)
 S TOTANA=$P($G(^TMP("ENH9142",$J,DIV,"SUM")),U)
"RTN","ENH9142P",96,0)
 I TYP="CRIT" S RECANA=$P($G(^TMP("ENH9142",$J,DIV,"SUM")),U,2)
"RTN","ENH9142P",97,0)
 ;I TYP="BPT" S RECANA=$P($G(^TMP("ENH9142",$J,DIV,"SUM")),U,3)
"RTN","ENH9142P",98,0)
 I TYP="DES" S RECANA=$P($G(^TMP("ENH9142",$J,DIV,"SUM")),U,4)
"RTN","ENH9142P",99,0)
 S FLDANA=^TMP("ENH9142",$J,DIV,TYP)
"RTN","ENH9142P",100,0)
 D HDR^ENH9142
"RTN","ENH9142P",101,0)
 I ABORT S ENFLG=1 Q
"RTN","ENH9142P",102,0)
 I TYP="CRIT" D CHDR
"RTN","ENH9142P",103,0)
 I TYP="DES" D DHDR
"RTN","ENH9142P",104,0)
 I FLDANA=0&(RECANA=0) D  Q
"RTN","ENH9142P",105,0)
 . W !!,"**NO DATA TO PRINT**",!
"RTN","ENH9142P",106,0)
 . S L=L+3
"RTN","ENH9142P",107,0)
 . I ENHDIVFG'="ALL" S ENFLG=1
"RTN","ENH9142P",108,0)
 S FLD=0
"RTN","ENH9142P",109,0)
 F  S FLD=$O(^TMP("ENH9142",$J,DIV,TYP,FLD)) Q:'FLD!(ENFLG=1)  D
"RTN","ENH9142P",110,0)
 . S RECIEN=0
"RTN","ENH9142P",111,0)
 . F  S RECIEN=$O(^TMP("ENH9142",$J,DIV,TYP,FLD,RECIEN)) Q:'RECIEN!(ENFLG=1)  D
"RTN","ENH9142P",112,0)
 .. S NAME=$P(^TMP("ENH9142",$J,DIV,TYP,FLD,RECIEN),U,2)
"RTN","ENH9142P",113,0)
 .. S FLDNAME=$P(^TMP("ENH9142",$J,DIV,TYP,FLD,RECIEN),U,3)
"RTN","ENH9142P",114,0)
 .. ;S FLDNUM=$P(^TMP("ENH9142",$J,DIV,TYP,FLD,RECIEN),U,4)
"RTN","ENH9142P",115,0)
 .. W !,$J(RECIEN,8),?10,NAME,?45,FLDNAME
"RTN","ENH9142P",116,0)
 .. S L=L+1
"RTN","ENH9142P",117,0)
 .. I L+3>IOSL D  Q:ABORT
"RTN","ENH9142P",118,0)
 ... D HDR^ENH9142 I ABORT S ENFLG=1 Q
"RTN","ENH9142P",119,0)
 ... D OHDR
"RTN","ENH9142P",120,0)
 I ENHDIVFG'="ALL" S ENFLG=1 ; Stop Print if single source is picked
"RTN","ENH9142P",121,0)
 Q
"RTN","ENH9142P",122,0)
 ;
"RTN","ENH9142P",123,0)
SHDR ; Summary Report Header
"RTN","ENH9142P",124,0)
 W !!,"Totals for the "_^TMP("ENH9142",$J,DIV,0)_$S(ENHSORT=1:":",ENHSORT=2:" Prefix:",1:" Suffix:")
"RTN","ENH9142P",125,0)
 W ! F I=1:1:60 W "-"
"RTN","ENH9142P",126,0)
 W !,"Total records analyzed",?55,$J(TOTANA,5)
"RTN","ENH9142P",127,0)
 W !,"Total records with Required Fields Missing Data",?55,$J(CRITREC,5)
"RTN","ENH9142P",128,0)
 W !,"Total records with Lookup Fields w/ Invalid Data",?55,$J("N/A",5)
"RTN","ENH9142P",129,0)
 W !,"Total records with Non-Required Fields Missing Data",?55,$J(DESREC,5)
"RTN","ENH9142P",130,0)
 W !!,"DATA QUALITY",?15,"FIELD",?31,"REQUIRED FIELDS",?48,"LOOKUP FIELDS",?65,"NON-REQ. FIELDS"
"RTN","ENH9142P",131,0)
 W !,"CHECK TYPE",?15,"NAME",?31,"MISSING DATA",?48,"W/ INVALID DATA",?65,"MISSING DATA"
"RTN","ENH9142P",132,0)
 W ! F I=1:1:80 W "="
"RTN","ENH9142P",133,0)
 S L=L+11
"RTN","ENH9142P",134,0)
 Q
"RTN","ENH9142P",135,0)
 ;
"RTN","ENH9142P",136,0)
CHDR ; Required Fields w/ Missing Data Report Header
"RTN","ENH9142P",137,0)
 W !!,"Totals for the "_^TMP("ENH9142",$J,DIV,0)_$S(ENHSORT=1:":",ENHSORT=2:" Prefix:",1:" Suffix:")
"RTN","ENH9142P",138,0)
 W ! F I=1:1:60 W "-"
"RTN","ENH9142P",139,0)
 W !,"Total records analyzed",?55,$J(TOTANA,5)
"RTN","ENH9142P",140,0)
 W !,"Total records with Required Fields Missing Data",?55,$J(RECANA,5)
"RTN","ENH9142P",141,0)
 W !,"Total fields with Required Fields Missing Data",?55,$J(FLDANA,5)
"RTN","ENH9142P",142,0)
 W !!,"REC",?10,"PM",?45,"FIELD"
"RTN","ENH9142P",143,0)
 W !,"IEN",?10,"REFERENCE",?45,"NAME"
"RTN","ENH9142P",144,0)
 W ! F I=1:1:80 W "="
"RTN","ENH9142P",145,0)
 S L=L+10
"RTN","ENH9142P",146,0)
 Q
"RTN","ENH9142P",147,0)
 ;
"RTN","ENH9142P",148,0)
BHDR ; Lookup Fields w/ Invalid Data Report Header
"RTN","ENH9142P",149,0)
 W !!,"Totals for the "_^TMP("ENH9142",$J,DIV,0)_$S(ENHSORT=1:":",ENHSORT=2:" Prefix:",1:" Suffix:")
"RTN","ENH9142P",150,0)
 W ! F I=1:1:60 W "-"
"RTN","ENH9142P",151,0)
 W !,"Total records analyzed",?55,$J(TOTANA,5)
"RTN","ENH9142P",152,0)
 W !,"Total records with Lookup Fields w/ Invalid Data",?55,$J(RECANA,5)
"RTN","ENH9142P",153,0)
 W !,"Total fields with Lookup Fields with Invalid Data",?55,$J(FLDANA,5)
"RTN","ENH9142P",154,0)
 W !!,"REC",?10,"PM",?45,"FIELD"
"RTN","ENH9142P",155,0)
 W !,"IEN",?10,"REFERENCE",?45,"NAME"
"RTN","ENH9142P",156,0)
 W ! F I=1:1:80 W "="
"RTN","ENH9142P",157,0)
 S L=L+10
"RTN","ENH9142P",158,0)
 Q
"RTN","ENH9142P",159,0)
 ;
"RTN","ENH9142P",160,0)
DHDR ; Non-Required Fields w/ Missing Data Report Header
"RTN","ENH9142P",161,0)
 W !!,"Totals for the "_^TMP("ENH9142",$J,DIV,0)_$S(ENHSORT=1:":",ENHSORT=2:" Prefix:",1:" Suffix:")
"RTN","ENH9142P",162,0)
 W ! F I=1:1:60 W "-"
"RTN","ENH9142P",163,0)
 W !,"Total records analyzed",?55,$J(TOTANA,5)
"RTN","ENH9142P",164,0)
 W !,"Total records with Non-Required Fields Missing Data",?55,$J(RECANA,5)
"RTN","ENH9142P",165,0)
 W !,"Total fields with Non-Required Fields Missing Data",?55,$J(FLDANA,5)
"RTN","ENH9142P",166,0)
 W !!,"REC",?10,"PM",?45,"FIELD"
"RTN","ENH9142P",167,0)
 W !,"IEN",?10,"REFERENCE",?45,"NAME"
"RTN","ENH9142P",168,0)
 W ! F I=1:1:80 W "="
"RTN","ENH9142P",169,0)
 S L=L+10
"RTN","ENH9142P",170,0)
 Q
"RTN","ENH9142P",171,0)
 ;
"RTN","ENH9142P",172,0)
OHDR ; Header for subsequent pages on detailed reports
"RTN","ENH9142P",173,0)
 W !!,"For the "_^TMP("ENH9142",$J,DIV,0)_$S(ENHSORT=1:":",ENHSORT=2:" Prefix:",1:" Suffix:")
"RTN","ENH9142P",174,0)
 W ! F I=1:1:60 W "-"
"RTN","ENH9142P",175,0)
 W !!,"REC",?10,"PM",?45,"FIELD"
"RTN","ENH9142P",176,0)
 W !,"IEN",?10,"REFERENCE",?45,"NAME"
"RTN","ENH9142P",177,0)
 W ! F I=1:1:80 W "="
"RTN","ENH9142P",178,0)
 S L=L+7
"RTN","ENH9142P",179,0)
 Q
"VER")
8.0^22
**END**
**END**
