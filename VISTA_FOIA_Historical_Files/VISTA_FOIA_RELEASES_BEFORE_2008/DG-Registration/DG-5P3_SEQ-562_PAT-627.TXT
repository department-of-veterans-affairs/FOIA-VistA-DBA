$TXT Created by HARTIN,JAMES at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 01/18/05 at 12:04
=============================================================================
Run Date: MAR 21, 2005                     Designation: DG*5.3*627
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #562                    Status: Released
                  Compliance Date: APR 21, 2005
=============================================================================

Associated patches: (v)DG*5.3*505  <<= must be installed BEFORE `DG*5.3*627'
                    (v)DG*5.3*575  <<= must be installed BEFORE `DG*5.3*627'

Subject: FIX HL7 MESSAGE BUILD FOR MULTIPLE ALIAS

Category: 
  - Routine

Description:
============

 This patch concerns a situation where the patient record has a large 
 number of aliases. The  HL7 message to update the MPI was being built
 incorrectly and causing an exception on the MPI in cases where the patient
 record has several aliases.  The MPI was then not able to process the
 message and update the record.  
                           AND
 The MPI DQ Team requests that the Patient file ALIAS SSN (2.01,1) 
 multiple field be added to the Display Remote Patient Data Query [RG
 REMOTE PDAT DISPLAY] Option. 
                           AND
 The VDEF / Standardized Messaging team request that when the HL7 PID 
 segment build process is called from the VDEF process, any "HL7 special
 characters" that could be found in patient street address data, be encoded
 to HL7 standards.
  
 ASSOCIATED REMEDY TICKET/NOISes:
 ===============================
 1)HD64225 -  ISP-0904-N1444     HL7 message being built incorrectly when
              multiple Alias
 2)HD64020 -  ISB-0604-32301     Request to add Alias SSN to RPDAT
  
 3)HD64529 -  ISP-1204-N0947     HL7 Special characters need to be encoded
              when from VDEF
  
 4)HD65792 -  We have a patient that involves Boston that has a large 
              number of Aliases which is a currently a problem, this patch
              fixes.
  
 ASSOCIATED E3R(s):
 ==================
 N/A
     
 PARTICIPATING TEST SITES:
 =========================
 Providence,RI
 San Juan,PR
 Boston HCS
   
 REMEDY/NOIS OVERVIEW:
 ====================
  
 1) HD64225 - ISP-0904-N1444 HL7 message being built incorrectly when
              multiple Alias
  
 Problem:
 ========
 When building a HL7 message to update the MPI, if the character length is 
 greater than 245, the message is not built properly and causes an
 exception on the MPI. 
  
 Resolution:
 ==========
 The VAFCQRY1 routine was modified to build and send multiple subscripted 
 arrays of 245 characters. 
  
 The process on the MPI system was also modified to properly process the 
 incoming message.
  
 2) HD64020 - ISB-0604-32301 Request to add Alias SSN to RPDAT  
  
 Problem:
 =======
 The MPI DQ Team requests that the ALIAS SSN (2.01,1) field be added to 
 the Display Remote Patient Data Query [RG REMOTE PDAT DISPLAY] Option.
  
 Resolution:
 ==========
 Modifications have been made to routine VAFCPDT2 to display the ALIAS SSN 
 (2.01,1) field when using the Display Remote Patient Data Query [RG 
 REMOTE PDAT DISPLAY] Option.
  
 3) HD64529 - ISP-1204-N0947 HL7 Special characters need to be encoded when
              from VDEF
  
 Problem:
 =======
 The VDEF / Standardized Messaging team request that when the HL7 PID 
 segment build process is called from the VDEF process, any "HL7 special
 characters" that could be found in patient street address data, be encoded
 to HL7 standards.
  
 Resolution:
 ==========
 Modifications have been made to routines VAFCQRY AND VAFCQRY1 called 
 by VDEF to build PID segments to encode to HL7 standards any of
 the HL7 special characters found in the patient street address data.
  
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  VAFCPDT2           7034715              7419673            414,505,627
  VAFCQRY            4970292              5085237            428,575,627
  VAFCQRY1          24389962              25784120      428,474,477,575,627
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
  
 This patch may be run with users on the system, but it is recommended
 that it be queued to run after normal business hours to minimize the 
 impact on users of the Registration package.
  
 Installation will take less than 5 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
  
 2.  (DSM for Open VMS sites only) Review your mapped set.
     If any of the routines listed in the ROUTINE section are mapped, they
     should be removed from the mapped set at this time.
  
 3.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter DG*5.3*627):
     a.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch (routines,
         DDs, templates, etc.).
     b.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in
         the Transport Global.
     c.  Print Transport Global - this option will allow you to view the
         components of the KIDS build.
     d.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
  
 5.  Use the Install Package(s) option and select the package DG*5.3*627.
  
 6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO.
  
 7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond YES. When prompted, 'Enter options you
     wish to mark as 'Out Of Order':', enter:
  
         Display Remote Patient Data Query   [RG REMOTE PDAT DISPLAY]  
  
 8.  If routines were unmapped as part of step 2, they should be returned
     to the mapped set once the installation has run to completion.

Routine Information:
====================

Routine Name:
  - VAFCQRY1


Routine Checksum:

Routine Name:
  - VAFCPDT2


Routine Checksum:

Routine Name:
  - VAFCQRY


Routine Checksum:

=============================================================================
User Information:
Entered By  : SNOOK,APRIL L                 Date Entered  : OCT 05, 2004
Completed By: BOWEN,MARY JANE               Date Completed: MAR 18, 2005
Released By : HEUER,CINDY                   Date Released : MAR 21, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
