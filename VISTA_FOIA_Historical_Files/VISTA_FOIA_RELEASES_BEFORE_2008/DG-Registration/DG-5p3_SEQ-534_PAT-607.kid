Released DG*5.3*607 SEQ #534
Extracted from mail message
**KIDS**:DG*5.3*607^

**INSTALL NAME**
DG*5.3*607
"BLD",5605,0)
DG*5.3*607^REGISTRATION^0^3040816^y
"BLD",5605,1,0)
^^2^2^3040610^
"BLD",5605,1,1,0)
This patch repairs certain Patient Record Flag displays when
"BLD",5605,1,2,0)
patient lookups are done from within ScreenMan.
"BLD",5605,4,0)
^9.64PA^^
"BLD",5605,"KRN",0)
^9.67PA^8989.52^19
"BLD",5605,"KRN",.4,0)
.4
"BLD",5605,"KRN",.401,0)
.401
"BLD",5605,"KRN",.402,0)
.402
"BLD",5605,"KRN",.403,0)
.403
"BLD",5605,"KRN",.5,0)
.5
"BLD",5605,"KRN",.84,0)
.84
"BLD",5605,"KRN",3.6,0)
3.6
"BLD",5605,"KRN",3.8,0)
3.8
"BLD",5605,"KRN",9.2,0)
9.2
"BLD",5605,"KRN",9.8,0)
9.8
"BLD",5605,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",5605,"KRN",9.8,"NM",1,0)
DGPFUT1^^0^B32867509
"BLD",5605,"KRN",9.8,"NM","B","DGPFUT1",1)

"BLD",5605,"KRN",19,0)
19
"BLD",5605,"KRN",19.1,0)
19.1
"BLD",5605,"KRN",101,0)
101
"BLD",5605,"KRN",409.61,0)
409.61
"BLD",5605,"KRN",771,0)
771
"BLD",5605,"KRN",870,0)
870
"BLD",5605,"KRN",8989.51,0)
8989.51
"BLD",5605,"KRN",8989.52,0)
8989.52
"BLD",5605,"KRN",8994,0)
8994
"BLD",5605,"KRN","B",.4,.4)

"BLD",5605,"KRN","B",.401,.401)

"BLD",5605,"KRN","B",.402,.402)

"BLD",5605,"KRN","B",.403,.403)

"BLD",5605,"KRN","B",.5,.5)

"BLD",5605,"KRN","B",.84,.84)

"BLD",5605,"KRN","B",3.6,3.6)

"BLD",5605,"KRN","B",3.8,3.8)

"BLD",5605,"KRN","B",9.2,9.2)

"BLD",5605,"KRN","B",9.8,9.8)

"BLD",5605,"KRN","B",19,19)

"BLD",5605,"KRN","B",19.1,19.1)

"BLD",5605,"KRN","B",101,101)

"BLD",5605,"KRN","B",409.61,409.61)

"BLD",5605,"KRN","B",771,771)

"BLD",5605,"KRN","B",870,870)

"BLD",5605,"KRN","B",8989.51,8989.51)

"BLD",5605,"KRN","B",8989.52,8989.52)

"BLD",5605,"KRN","B",8994,8994)

"BLD",5605,"QUES",0)
^9.62^^
"BLD",5605,"REQB",0)
^9.611^1^1
"BLD",5605,"REQB",1,0)
DG*5.3*425^1
"BLD",5605,"REQB","B","DG*5.3*425",1)

"MBREQ")
0
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,20,0)
^9.402P^^
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2930813
"PKG",5,22,1,"PAH",1,0)
607^3040816
"PKG",5,22,1,"PAH",1,1,0)
^^2^2^3040816
"PKG",5,22,1,"PAH",1,1,1,0)
This patch repairs certain Patient Record Flag displays when
"PKG",5,22,1,"PAH",1,1,2,0)
patient lookups are done from within ScreenMan.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","DGPFUT1")
0^1^B32867509
"RTN","DGPFUT1",1,0)
DGPFUT1 ;ALB/RBS - PRF UTILITIES CONTINUED ; 6/10/04 12:29pm
"RTN","DGPFUT1",2,0)
 ;;5.3;Registration;**425,607**;Aug 13, 1993
"RTN","DGPFUT1",3,0)
 ;
"RTN","DGPFUT1",4,0)
 Q  ;no direct entry
"RTN","DGPFUT1",5,0)
 ;
"RTN","DGPFUT1",6,0)
DISPACT(DGPFAPI) ;Display all ACTIVE Patient Record Flag's for a patient
"RTN","DGPFUT1",7,0)
 ; Input:   DGPFAPI() = Array of patients active flags
"RTN","DGPFUT1",8,0)
 ;                      (passed by reference)
"RTN","DGPFUT1",9,0)
 ;                      See $$GETACT^DGPFAPI for array format.
"RTN","DGPFUT1",10,0)
 ; Output:  None
"RTN","DGPFUT1",11,0)
 ;
"RTN","DGPFUT1",12,0)
 I '$G(DGPFAPI) Q  ;no flags
"RTN","DGPFUT1",13,0)
 ;
"RTN","DGPFUT1",14,0)
 N DGPF,DGPFIEN,DGPFFLAG,DGPFCAT,IORVON,IORVOFF
"RTN","DGPFUT1",15,0)
 N DGCNT  ;flag display count
"RTN","DGPFUT1",16,0)
 N DGRET  ;return
"RTN","DGPFUT1",17,0)
 ;
"RTN","DGPFUT1",18,0)
 I $D(DDS) D CLRMSG^DDS
"RTN","DGPFUT1",19,0)
 W:'$D(DDS) !! W ">>> Active Patient Record Flag(s):"
"RTN","DGPFUT1",20,0)
 ;
"RTN","DGPFUT1",21,0)
 ; setup for reverse video display
"RTN","DGPFUT1",22,0)
 ;
"RTN","DGPFUT1",23,0)
 S (IORVON,IORVOFF)=""
"RTN","DGPFUT1",24,0)
 D:$D(IOST(0))
"RTN","DGPFUT1",25,0)
 . N X S X="IORVON;IORVOFF" D ENDR^%ZISS
"RTN","DGPFUT1",26,0)
 ;
"RTN","DGPFUT1",27,0)
 ; loop all returned Active Record Flag Assignment ien's
"RTN","DGPFUT1",28,0)
 S DGCNT=0
"RTN","DGPFUT1",29,0)
 S DGPFIEN="" F  S DGPFIEN=$O(DGPFAPI(DGPFIEN)) Q:DGPFIEN=""  D
"RTN","DGPFUT1",30,0)
 . I $D(DDS),DGCNT=4 D
"RTN","DGPFUT1",31,0)
 . . W !,"Press RETURN to continue..."
"RTN","DGPFUT1",32,0)
 . . R DGRET:$S('$D(DTIME):300,1:DTIME)
"RTN","DGPFUT1",33,0)
 . . D CLRMSG^DDS
"RTN","DGPFUT1",34,0)
 . . W ">>> Active Patient Record Flag(s):"
"RTN","DGPFUT1",35,0)
 . . S DGCNT=0
"RTN","DGPFUT1",36,0)
 . S DGPFFLAG=$P($G(DGPFAPI(DGPFIEN,"FLAG")),U,2)
"RTN","DGPFUT1",37,0)
 . Q:(DGPFFLAG'["")
"RTN","DGPFUT1",38,0)
 . S DGPFCAT=$P($P($G(DGPFAPI(DGPFIEN,"CATEGORY")),U,2)," ")
"RTN","DGPFUT1",39,0)
 . W !?5,IORVON,"<"_DGPFFLAG_">",IORVOFF,?45,"CATEGORY ",DGPFCAT
"RTN","DGPFUT1",40,0)
 . S DGCNT=DGCNT+1
"RTN","DGPFUT1",41,0)
 W:'$D(DDS) !
"RTN","DGPFUT1",42,0)
 Q
"RTN","DGPFUT1",43,0)
 ;
"RTN","DGPFUT1",44,0)
ASKDET() ;does user want to display flag details?
"RTN","DGPFUT1",45,0)
 ;
"RTN","DGPFUT1",46,0)
 ; Input:
"RTN","DGPFUT1",47,0)
 ;   None
"RTN","DGPFUT1",48,0)
 ;
"RTN","DGPFUT1",49,0)
 ; Output:
"RTN","DGPFUT1",50,0)
 ;  Function value - return 1 on YES; otherwise 0
"RTN","DGPFUT1",51,0)
 ;
"RTN","DGPFUT1",52,0)
 N YN,%,%Y
"RTN","DGPFUT1",53,0)
 F  D  Q:"^YN"[YN
"RTN","DGPFUT1",54,0)
 . W !,"Do you wish to view active patient record flag details"
"RTN","DGPFUT1",55,0)
 . S %=1  ;default to YES
"RTN","DGPFUT1",56,0)
 . D YN^DICN
"RTN","DGPFUT1",57,0)
 . S YN=$S(%=-1:"^",%=1:"Y",%=2:"N",1:"?")
"RTN","DGPFUT1",58,0)
 . I YN="?" D:$D(DDS) CLRMSG^DDS W !,"Enter either 'Y' or 'N'."
"RTN","DGPFUT1",59,0)
 ;I $D(DDS) D REFRESH^DDSUTL
"RTN","DGPFUT1",60,0)
 Q (YN="Y")
"RTN","DGPFUT1",61,0)
 ;
"RTN","DGPFUT1",62,0)
DISPDET(DGPFAPI) ; Display the details of patients Active record flags
"RTN","DGPFUT1",63,0)
 ;
"RTN","DGPFUT1",64,0)
 ; Input:   DGPFAPI() = Array of patients active flags
"RTN","DGPFUT1",65,0)
 ;                      (passed by reference)
"RTN","DGPFUT1",66,0)
 ;                      See $$GETACT^DGPFAPI for array format.
"RTN","DGPFUT1",67,0)
 ; Output:  None
"RTN","DGPFUT1",68,0)
 ;
"RTN","DGPFUT1",69,0)
 I '$G(DGPFAPI) Q  ;no flags
"RTN","DGPFUT1",70,0)
 ;
"RTN","DGPFUT1",71,0)
 N DGPFI,DGPFQ,DGPFIEN,DGPFFLAG,IORVON,IORVOFF,DIRUT,DUOUT,DTOUT,X
"RTN","DGPFUT1",72,0)
 ;
"RTN","DGPFUT1",73,0)
 S (IORVON,IORVOFF)=""
"RTN","DGPFUT1",74,0)
 D:$D(IOST(0))
"RTN","DGPFUT1",75,0)
 . N X S X="IORVON;IORVOFF" D ENDR^%ZISS
"RTN","DGPFUT1",76,0)
 ;
"RTN","DGPFUT1",77,0)
 ; loop all returned Active Record Flag Assignment ien's
"RTN","DGPFUT1",78,0)
 S (DGPFIEN,DGPFQ)=""
"RTN","DGPFUT1",79,0)
 F  S DGPFIEN=$O(DGPFAPI(DGPFIEN)) Q:DGPFIEN=""  D  Q:DGPFQ
"RTN","DGPFUT1",80,0)
 . S DGPFFLAG=$P($G(DGPFAPI(DGPFIEN,"FLAG")),U,2)
"RTN","DGPFUT1",81,0)
 . Q:(DGPFFLAG'["")
"RTN","DGPFUT1",82,0)
 . I $G(DGPFQ)=0 W ! S DGPFQ='$$CONTINUE^DGPFUT() Q:DGPFQ
"RTN","DGPFUT1",83,0)
 . S DGPFQ=0
"RTN","DGPFUT1",84,0)
 . W:$E(IOST,1,2)="C-" @IOF
"RTN","DGPFUT1",85,0)
 . W !?11,"Flag Name: ",IORVON,"<"_DGPFFLAG_">",IORVOFF
"RTN","DGPFUT1",86,0)
 . W !?11,"Flag Type: ",$P($G(DGPFAPI(DGPFIEN,"FLAGTYPE")),U,2)
"RTN","DGPFUT1",87,0)
 . W !?7,"Flag Category: ",$P($G(DGPFAPI(DGPFIEN,"CATEGORY")),U,2)
"RTN","DGPFUT1",88,0)
 . W !?3,"Assignment Status: ACTIVE"
"RTN","DGPFUT1",89,0)
 . W !?2,"Initial Assignment: ",$P($G(DGPFAPI(DGPFIEN,"ASSIGNDT")),U,2)
"RTN","DGPFUT1",90,0)
 . W !?9,"Approved By: ",$P($G(DGPFAPI(DGPFIEN,"APPRVBY")),U,2)
"RTN","DGPFUT1",91,0)
 . W !?4,"Next Review Date: ",$P($G(DGPFAPI(DGPFIEN,"REVIEWDT")),U,2)
"RTN","DGPFUT1",92,0)
 . W !?10,"Owner Site: ",$P($G(DGPFAPI(DGPFIEN,"OWNER")),U,2)
"RTN","DGPFUT1",93,0)
 . W !?4,"Originating Site: ",$P($G(DGPFAPI(DGPFIEN,"ORIGSITE")),U,2)
"RTN","DGPFUT1",94,0)
 . W !,"Assignment Narrative:",!,"---------------------"
"RTN","DGPFUT1",95,0)
 . I $D(DGPFAPI(DGPFIEN,"NARR",1,0)) D
"RTN","DGPFUT1",96,0)
 . . S DGPFI=""
"RTN","DGPFUT1",97,0)
 . . F  S DGPFI=$O(DGPFAPI(DGPFIEN,"NARR",DGPFI)) Q:DGPFI=""  D  Q:DGPFQ
"RTN","DGPFUT1",98,0)
 . . . I $Y>(IOSL-3) S DGPFQ='$$CONTINUE^DGPFUT() Q:DGPFQ  S $Y=2
"RTN","DGPFUT1",99,0)
 . . . W !,$G(DGPFAPI(DGPFIEN,"NARR",DGPFI,0))
"RTN","DGPFUT1",100,0)
 ;
"RTN","DGPFUT1",101,0)
 W !!,IORVON,"<END OF RECORD FLAG DISPLAY>",IORVOFF,!
"RTN","DGPFUT1",102,0)
 N DIR,X,Y,DIRUT,DTOUT,DUOUT,DIROUT
"RTN","DGPFUT1",103,0)
 S DIR("A")="Enter RETURN to continue",DIR(0)="E"
"RTN","DGPFUT1",104,0)
 D ^DIR K DIR
"RTN","DGPFUT1",105,0)
 W !
"RTN","DGPFUT1",106,0)
 Q
"RTN","DGPFUT1",107,0)
 ;
"RTN","DGPFUT1",108,0)
DISPPRF(DGDFN) ; Patient Record Flags screen Display
"RTN","DGPFUT1",109,0)
 ;
"RTN","DGPFUT1",110,0)
 ; Supported References:
"RTN","DGPFUT1",111,0)
 ;   DBIA #10096 Z OPERATING SYSTEM FILE (%ZOSF)
"RTN","DGPFUT1",112,0)
 ;   DBIA #10150 ScreenMan API: Form Utilities
"RTN","DGPFUT1",113,0)
 ;
"RTN","DGPFUT1",114,0)
 ; Input:  
"RTN","DGPFUT1",115,0)
 ;   DGDFN - pointer to patient in PATIENT (#2) file
"RTN","DGPFUT1",116,0)
 ;
"RTN","DGPFUT1",117,0)
 ; Output:
"RTN","DGPFUT1",118,0)
 ;   none
"RTN","DGPFUT1",119,0)
 ;
"RTN","DGPFUT1",120,0)
 ; patient ien not setup
"RTN","DGPFUT1",121,0)
 S DGDFN=+$G(DGDFN)
"RTN","DGPFUT1",122,0)
 Q:'DGDFN
"RTN","DGPFUT1",123,0)
 ;
"RTN","DGPFUT1",124,0)
 N DGPFAPI
"RTN","DGPFUT1",125,0)
 ;
"RTN","DGPFUT1",126,0)
 ; call API to get the display array for ALL Active Assignments
"RTN","DGPFUT1",127,0)
 S DGPFAPI=$$GETACT^DGPFAPI(DGDFN,"DGPFAPI")  ;DBIA #3860
"RTN","DGPFUT1",128,0)
 ;
"RTN","DGPFUT1",129,0)
 ; quit if no Active Record Flags to display
"RTN","DGPFUT1",130,0)
 Q:'+DGPFAPI
"RTN","DGPFUT1",131,0)
 ;
"RTN","DGPFUT1",132,0)
 ; call api to display Active Record Flags
"RTN","DGPFUT1",133,0)
 D DISPACT(.DGPFAPI)
"RTN","DGPFUT1",134,0)
 ;
"RTN","DGPFUT1",135,0)
 ; display the details of patients Active record flags
"RTN","DGPFUT1",136,0)
 ;D DISPDET(.DGPFAPI)  ;roll-and-scroll
"RTN","DGPFUT1",137,0)
 ;
"RTN","DGPFUT1",138,0)
 ; prompt and display assignment details
"RTN","DGPFUT1",139,0)
 I $$ASKDET() D EN^DGPFLMD(DGDFN,.DGPFAPI)  ;ListMan
"RTN","DGPFUT1",140,0)
 ;
"RTN","DGPFUT1",141,0)
 ; cleanup display for ScreenMan
"RTN","DGPFUT1",142,0)
 I $D(DDS) D  D CLRMSG^DDS D REFRESH^DDSUTL
"RTN","DGPFUT1",143,0)
 . ;set right margin to zero - needed for Cache
"RTN","DGPFUT1",144,0)
 . N X
"RTN","DGPFUT1",145,0)
 . S X=0 X ^%ZOSF("RM")
"RTN","DGPFUT1",146,0)
 Q
"RTN","DGPFUT1",147,0)
 ;
"RTN","DGPFUT1",148,0)
SELPAT(DGPAT) ;This procedure is used to perform a patient lookup for an existing patient in the PATIENT (#2) file.
"RTN","DGPFUT1",149,0)
 ;
"RTN","DGPFUT1",150,0)
 ;  Input: None
"RTN","DGPFUT1",151,0)
 ;
"RTN","DGPFUT1",152,0)
 ; Output:
"RTN","DGPFUT1",153,0)
 ;   DGPAT - result array containing the patient selection on success,
"RTN","DGPFUT1",154,0)
 ;           pass by reference. Array will have same structure as the Y
"RTN","DGPFUT1",155,0)
 ;           variable returned by the ^DIC call.
"RTN","DGPFUT1",156,0)
 ;            Array Format:
"RTN","DGPFUT1",157,0)
 ;            -------------
"RTN","DGPFUT1",158,0)
 ;                 DGPAT = IEN of patient in PATIENT (#2) file on
"RTN","DGPFUT1",159,0)
 ;                         success, -1 on failure
"RTN","DGPFUT1",160,0)
 ;              DGPAT(0) = zero node of entry selected
"RTN","DGPFUT1",161,0)
 ;            DGPAT(0,0) = external form of the .01 field of the entry
"RTN","DGPFUT1",162,0)
 ;
"RTN","DGPFUT1",163,0)
 ;- int input vars for ^DIC call
"RTN","DGPFUT1",164,0)
 N DIC,DTOUT,DUPOT,X,Y
"RTN","DGPFUT1",165,0)
 S DIC="^DPT(",DIC(0)="AEMQZV"
"RTN","DGPFUT1",166,0)
 ;
"RTN","DGPFUT1",167,0)
 ;- lookup patient
"RTN","DGPFUT1",168,0)
 D ^DIC K DIC
"RTN","DGPFUT1",169,0)
 ;
"RTN","DGPFUT1",170,0)
 ;- result of lookup
"RTN","DGPFUT1",171,0)
 S DGPAT=Y
"RTN","DGPFUT1",172,0)
 ;
"RTN","DGPFUT1",173,0)
 ;- if success, setup return array using output vars from ^DIC call
"RTN","DGPFUT1",174,0)
 I (+DGPAT>0) D
"RTN","DGPFUT1",175,0)
 . S DGPAT=+Y              ;patient ien
"RTN","DGPFUT1",176,0)
 . S DGPAT(0)=$G(Y(0))     ;zero node of patient in (#2) file
"RTN","DGPFUT1",177,0)
 . S DGPAT(0,0)=$G(Y(0,0)) ;external form of the .01 field
"RTN","DGPFUT1",178,0)
 ;
"RTN","DGPFUT1",179,0)
 Q
"RTN","DGPFUT1",180,0)
 ;
"RTN","DGPFUT1",181,0)
 ;
"RTN","DGPFUT1",182,0)
GETFLAG(DGPFPTR,DGPFLAG) ;retrieve a single FLAG record
"RTN","DGPFUT1",183,0)
 ;  This function acts as a wrapper around the $$GETLF and $$GETNF
"RTN","DGPFUT1",184,0)
 ;  API's. Function will be used to obtain a single flag record from
"RTN","DGPFUT1",185,0)
 ;  either the PRF LOCAL FLAG (#26.11) file or the PRF NATIONAL FLAG
"RTN","DGPFUT1",186,0)
 ;  (#26.15) file depending on the value of the DGPFPTR input parameter.
"RTN","DGPFUT1",187,0)
 ;
"RTN","DGPFUT1",188,0)
 ;  Input:
"RTN","DGPFUT1",189,0)
 ;   DGPFPTR - (required) IEN of patient record flag in PRF NATIONAL
"RTN","DGPFUT1",190,0)
 ;             FLAG (#26.15) file or PRF LOCAL FLAG (#26.11) file.
"RTN","DGPFUT1",191,0)
 ;             [ex: "1;DGPF(26.15,"]
"RTN","DGPFUT1",192,0)
 ;
"RTN","DGPFUT1",193,0)
 ; Output:
"RTN","DGPFUT1",194,0)
 ;  Function Value - returns 1 on success, 0 on failure
"RTN","DGPFUT1",195,0)
 ;         DGPFLAG - (required) result array passed by reference. See the
"RTN","DGPFUT1",196,0)
 ;                   $$GETLF and $$GETNF for the result array structure.
"RTN","DGPFUT1",197,0)
 ;
"RTN","DGPFUT1",198,0)
 N RESULT   ;returned function value
"RTN","DGPFUT1",199,0)
 N DGPFIEN  ;ien of PRF local or national flag file
"RTN","DGPFUT1",200,0)
 N DGPFILE  ;file # of PRF local or national flag file
"RTN","DGPFUT1",201,0)
 ;
"RTN","DGPFUT1",202,0)
 S RESULT=0
"RTN","DGPFUT1",203,0)
 ;
"RTN","DGPFUT1",204,0)
 D
"RTN","DGPFUT1",205,0)
 . ;-- quit if pointer is not valid
"RTN","DGPFUT1",206,0)
 . Q:$G(DGPFPTR)']""
"RTN","DGPFUT1",207,0)
 . Q:'$$TESTVAL^DGPFUT(26.13,.02,DGPFPTR)
"RTN","DGPFUT1",208,0)
 . ;
"RTN","DGPFUT1",209,0)
 . ;-- get ien and file from pointer value
"RTN","DGPFUT1",210,0)
 . S DGPFIEN=+$G(DGPFPTR)
"RTN","DGPFUT1",211,0)
 . S DGPFILE=$P($G(DGPFPTR),";",2)
"RTN","DGPFUT1",212,0)
 . ;
"RTN","DGPFUT1",213,0)
 . ;-- if local flag file, get local flag into DGPFLAG array
"RTN","DGPFUT1",214,0)
 . I DGPFILE["26.11" D
"RTN","DGPFUT1",215,0)
 . . Q:'$$GETLF^DGPFALF(+DGPFIEN,.DGPFLAG)
"RTN","DGPFUT1",216,0)
 . . S RESULT=1  ;success
"RTN","DGPFUT1",217,0)
 . ;
"RTN","DGPFUT1",218,0)
 . ;-- if national flag file, get national flag into DGPFLAG array
"RTN","DGPFUT1",219,0)
 . I DGPFILE["26.15" D
"RTN","DGPFUT1",220,0)
 . . Q:'$$GETNF^DGPFANF(+DGPFIEN,.DGPFLAG)
"RTN","DGPFUT1",221,0)
 . . S RESULT=1  ;success
"RTN","DGPFUT1",222,0)
 ;
"RTN","DGPFUT1",223,0)
 Q RESULT
"VER")
8.0^22
**END**
**END**
