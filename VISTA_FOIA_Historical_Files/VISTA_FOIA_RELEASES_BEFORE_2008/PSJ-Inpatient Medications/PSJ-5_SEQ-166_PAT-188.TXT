$TXT Created by WILLIAMS,BRIAN at CHEY20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Wednesday, 03/14/07 at 14:30
=============================================================================
Run Date: MAY 21, 2007                     Designation: PSJ*5*188
Package : PSJ - INPATIENT MEDICATIONS         Priority: EMERGENCY
Version : 5       SEQ #166                      Status: Released
                  Compliance Date: MAY 23, 2007
=============================================================================

Associated patches: (v)PSJ*5*111   <<= must be installed BEFORE `PSJ*5*188'

Subject: PSI: DEFAULT SCHEDULE TYPE

Category: 
  - Routine

Description:
============

 Patch resolves one of the issues presented in PSI-06-159.
 
 When editing the patient Schedule field from a "CONTINUOUS" type 
 to a "ONE-TIME" type, the schedule type remained "CONTINUOUS".  This 
 caused BCMA to not display the order on the Missed Medications Report.
 
 It was also found, during the internal testing of this patch, that the 
 "administration times" could be automatically updated based on the 
 Schedule being entered. While this logic is correct, it did not display 
 the "highlighting" of the administration times as is the standard when 
 a field is changed.
 
 Technical Note:
 ---------------
 Because the code that selects the schedule returns the schedule name rather 
 than the IEN of the schedule, it is possible under very rare conditions 
 described in the Technical Note Example, that the TYPE OF SCHEDULE (#5) field 
 may not be changed to ONE-TIME within the ADMINISTRATION SHEDULE file (#51.1).  
 
 In the ADMINISTRATION SHEDULE file (#51.1), it is possible to have multiple 
 administration schedules defined with the exact same name and with the exact 
 same PACKAGE PREFIX field (#4) name of PSJ.
 
 This patch uses the first schedule that is defined for use with the Inpatient 
 Medications package (PSJ) to determine the schedule type.  The API which 
 returns the schedule information will be enhanced to include the internal 
 number (IEN) of the schedule in a future enhancement (currently planned for 
 patch PSJ*5*134).
  
 Technical Note Example:
 -----------------------
 Although unlikely, it is currently possible to have defined 2 schedules, with 
 the same ADMINISTRATION SCHEDULE NAME, AND the same PACKAGE PREFIX of PSJ as
 seen in the FileMan listing below.
 
 Select ADMINISTRATION SCHEDULE NAME: ONCE
      1   ONCE       
      2   ONCE       
 
 NAME: ONCE                              PACKAGE PREFIX: PSJ
 TYPE OF SCHEDULE: ONE-TIME              OUTPATIENT EXPANSION: ONCE
 
 NAME: ONCE                              PACKAGE PREFIX: PSJ
 TYPE OF SCHEDULE: ONE-TIME              OUTPATIENT EXPANSION: ONCE
 
 
 Associated Remedy Tickets:
 ==========================
 HD165832 - Schedule type not defaulting to One-Time
 New Issue - Automatic edits to Administration Times not being Highlighted.
 
  
 Participating Test Sites:
 ========================= 
 COATESVILLE, PA
 MARYLAND HCS
 MOUNTAIN HOME, TN
 
  
 Remedy Overview:
 ================
 
 1. HD165832 - Schedule type not defaulting to One-Time
  
 Problem:
 --------
 User reported that when editing the patient Schedule field from a "CONTINUOUS" 
 type to a "ONE-TIME" type, the schedule type remained "CONTINUOUS".  This 
 caused BCMA to not display the order on the Missed Medications Report.
  
 Resolution:
 -----------
 Modify PSGOE8 and PSGOE9 to automatically update the Schedule Type to "ONE-TIME"
 when the Schedule is changed to a "ONE-TIME" type of schedule.
 
 2. New Issue - Automatic edits to administration times not being highlighted.
 
 Problem:
 --------
 During the internal testing of this patch, it was noticed that the 
 "administration times" could be automatically updated based on the schedule 
 being entered. While this logic is correct, it did not display the 
 "highlighting" of the administration times as is the standard when a field is 
 changed.
  
 Resolution:
 -----------
 Modify PSGOE8 and PSGOE9 to "highlight" the administration times when the 
 system automatically changes them.
 
 
 Install Instructions:
 =====================
 Suggested time to install: non-peak requirement hours. The patch should be
 installed when NO Inpatient Medication users are on the system.
  
 Install Time - less than 5 minutes (unless otherwise indicated)
  
   1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
     
   2. From the Kernel Installation & Distribution System menu, select
      the Installation menu.
   
   3. From this menu, you may select to use the following options
      (when prompted for INSTALL NAME, enter PSJ*5.0*188):
          a.  Verify Checksums in Transport Global - This option will allow
              you to ensure the integrity of the routines that are in the
              transport global.
          b.  Print Transport Global - This option will allow you to view
              the components of the KIDS build.
          c.  Compare Transport Global to Current System - This option will
              allow you to view all changes that will be made when this 
              patch is installed.  It compares all components of this patch
              (routines, DD's, templates, etc.).
          d.  Backup a Transport Global - This option will create a backup
              message of any routines exported with this patch. It will not
              backup any other changes such as DD's or templates.
    
   4. Use the Install Package(s) option and select the package PSJ*5.0*188.
    
   5. When prompted "Want KIDS to INHIBIT LOGONs during the install? YES//"
      respond NO.
    
   6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//" respond NO. 
 
 
 Routine Summary:
 ================
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like: 
  
  <TAB>;;5.0; INPATIENT MEDICATIONS ;**[patch list]**;16 DEC 97
  
                        CHECK^XTSUMBLD results
 Routine name      Before Patch         After Patch       Patch List
 ============      ============         ===========       ===========
 PSGOE8            16986388             18267590          47,50,65,72,110,111,188
 PSGOE9            16037498             17311971          11,47,50,72,110,111,188
   
 Total number of routines - 2
 
 
 
 
 
 
 
 
 
 

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSGOE8
    Before: B34977716  After: B38965921  **47,50,65,72,110,111,188**
Routine Name: PSGOE9
    Before: B31080984  After: B34693430  **11,47,50,72,110,111,188**

=============================================================================
User Information:
Entered By  : WILLIAMS,BRIAN                Date Entered  : DEC 29, 2006
Completed By: GOLDSMITH,JAMES H             Date Completed: MAY 16, 2007
Released By : LESIEUR,SHIRLEY               Date Released : MAY 21, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
