Released XU*8*293 SEQ #272
Extracted from mail message
**KIDS**:XU*8.0*293^

**INSTALL NAME**
XU*8.0*293
"BLD",729,0)
XU*8.0*293^KERNEL^0^3031105^y
"BLD",729,1,0)
^^2^2^3030423^
"BLD",729,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"BLD",729,1,2,0)
XU*8*293  Cache 5 fix to AVJ~%ZOSV.
"BLD",729,4,0)
^9.64PA^3.5^1
"BLD",729,4,3.5,0)
3.5
"BLD",729,4,3.5,2,0)
^9.641^3.5^1
"BLD",729,4,3.5,2,3.5,0)
DEVICE  (File-top level)
"BLD",729,4,3.5,2,3.5,1,0)
^9.6411^67^3
"BLD",729,4,3.5,2,3.5,1,65,0)
PRINT SERVER NAME OR ADDRESS
"BLD",729,4,3.5,2,3.5,1,66,0)
TELNET PORT
"BLD",729,4,3.5,2,3.5,1,67,0)
REMOTE PRINTER NAME
"BLD",729,4,3.5,222)
y^n^p^^^^n^^n
"BLD",729,4,3.5,224)

"BLD",729,4,"APDD",3.5,3.5)

"BLD",729,4,"APDD",3.5,3.5,65)

"BLD",729,4,"APDD",3.5,3.5,66)

"BLD",729,4,"APDD",3.5,3.5,67)

"BLD",729,4,"B",3.5,3.5)

"BLD",729,"KRN",0)
^9.67PA^8989.52^19
"BLD",729,"KRN",.4,0)
.4
"BLD",729,"KRN",.401,0)
.401
"BLD",729,"KRN",.402,0)
.402
"BLD",729,"KRN",.403,0)
.403
"BLD",729,"KRN",.403,"NM",0)
^9.68A^2^2
"BLD",729,"KRN",.403,"NM",1,0)
XUDEVICE LPD    FILE #3.5^3.5^0
"BLD",729,"KRN",.403,"NM",2,0)
XUDEVICE TRM    FILE #3.5^3.5^0
"BLD",729,"KRN",.403,"NM","B","XUDEVICE LPD    FILE #3.5",1)

"BLD",729,"KRN",.403,"NM","B","XUDEVICE TRM    FILE #3.5",2)

"BLD",729,"KRN",.5,0)
.5
"BLD",729,"KRN",.84,0)
.84
"BLD",729,"KRN",3.6,0)
3.6
"BLD",729,"KRN",3.8,0)
3.8
"BLD",729,"KRN",9.2,0)
9.2
"BLD",729,"KRN",9.8,0)
9.8
"BLD",729,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",729,"KRN",9.8,"NM",1,0)
ZIS4ONT^^0^B26749275
"BLD",729,"KRN",9.8,"NM",2,0)
ZOSVONT^^0^B22320010
"BLD",729,"KRN",9.8,"NM","B","ZIS4ONT",1)

"BLD",729,"KRN",9.8,"NM","B","ZOSVONT",2)

"BLD",729,"KRN",19,0)
19
"BLD",729,"KRN",19,"NM",0)
^9.68A^3^3
"BLD",729,"KRN",19,"NM",1,0)
XUDEVEDIT^^2
"BLD",729,"KRN",19,"NM",2,0)
XUDEVEDITTRM^^0
"BLD",729,"KRN",19,"NM",3,0)
XUDEVEDITLPD^^0
"BLD",729,"KRN",19,"NM","B","XUDEVEDIT",1)

"BLD",729,"KRN",19,"NM","B","XUDEVEDITLPD",3)

"BLD",729,"KRN",19,"NM","B","XUDEVEDITTRM",2)

"BLD",729,"KRN",19.1,0)
19.1
"BLD",729,"KRN",101,0)
101
"BLD",729,"KRN",409.61,0)
409.61
"BLD",729,"KRN",771,0)
771
"BLD",729,"KRN",870,0)
870
"BLD",729,"KRN",8989.51,0)
8989.51
"BLD",729,"KRN",8989.52,0)
8989.52
"BLD",729,"KRN",8994,0)
8994
"BLD",729,"KRN","B",.4,.4)

"BLD",729,"KRN","B",.401,.401)

"BLD",729,"KRN","B",.402,.402)

"BLD",729,"KRN","B",.403,.403)

"BLD",729,"KRN","B",.5,.5)

"BLD",729,"KRN","B",.84,.84)

"BLD",729,"KRN","B",3.6,3.6)

"BLD",729,"KRN","B",3.8,3.8)

"BLD",729,"KRN","B",9.2,9.2)

"BLD",729,"KRN","B",9.8,9.8)

"BLD",729,"KRN","B",19,19)

"BLD",729,"KRN","B",19.1,19.1)

"BLD",729,"KRN","B",101,101)

"BLD",729,"KRN","B",409.61,409.61)

"BLD",729,"KRN","B",771,771)

"BLD",729,"KRN","B",870,870)

"BLD",729,"KRN","B",8989.51,8989.51)

"BLD",729,"KRN","B",8989.52,8989.52)

"BLD",729,"KRN","B",8994,8994)

"BLD",729,"QUES",0)
^9.62^^
"BLD",729,"REQB",0)
^9.611^2^2
"BLD",729,"REQB",1,0)
XU*8.0*215^2
"BLD",729,"REQB",2,0)
XU*8.0*278^2
"BLD",729,"REQB","B","XU*8.0*215",1)

"BLD",729,"REQB","B","XU*8.0*278",2)

"FIA",3.5)
DEVICE
"FIA",3.5,0)
^%ZIS(1,
"FIA",3.5,0,0)
3.5Is
"FIA",3.5,0,1)
y^n^p^^^^n^^n
"FIA",3.5,0,10)

"FIA",3.5,0,11)

"FIA",3.5,0,"RLRO")

"FIA",3.5,0,"VR")
8.0^XU
"FIA",3.5,3.5)
1
"FIA",3.5,3.5,65)

"FIA",3.5,3.5,66)

"FIA",3.5,3.5,67)

"KRN",.403,41,-1)
0^1
"KRN",.403,41,0)
XUDEVICE LPD^@^@^^3030722.1401^^^3.5^0^0^1
"KRN",.403,41,40,0)
^.4031I^1^1
"KRN",.403,41,40,1,0)
1^^1,1
"KRN",.403,41,40,1,1)
Page 1
"KRN",.403,41,40,1,40,0)
^.4032IP^187^1
"KRN",.403,41,40,1,40,187,0)
XUDEVICE LPD^1^1,1^e
"KRN",.403,42,-1)
0^2
"KRN",.403,42,0)
XUDEVICE TRM^@^@^^3030722.1427^^^3.5^0^0^1
"KRN",.403,42,40,0)
^.4031I^1^1
"KRN",.403,42,40,1,0)
1^^1,1
"KRN",.403,42,40,1,1)
Page 1
"KRN",.403,42,40,1,40,0)
^.4032IP^188^1
"KRN",.403,42,40,1,40,188,0)
XUDEVICE TRM^1^1,1^e
"KRN",.404,187,0)
XUDEVICE LPD^3.5
"KRN",.404,187,40,0)
^.4044I^18^18
"KRN",.404,187,40,1,0)
1^EDIT A LDP DEVICE^1
"KRN",.404,187,40,1,2)
^^1,26
"KRN",.404,187,40,2,0)
2^NAME^3
"KRN",.404,187,40,2,1)
.01
"KRN",.404,187,40,2,2)
2,7^30^2,1
"KRN",.404,187,40,3,0)
3^PAGE 1 OF 1^1
"KRN",.404,187,40,3,2)
^^2,64
"KRN",.404,187,40,4,0)
4^$I^3
"KRN",.404,187,40,4,1)
1
"KRN",.404,187,40,4,2)
4,7^32^4,3
"KRN",.404,187,40,4,3)
_TNA
"KRN",.404,187,40,4,11)
D HLP^DDSUTL("To work this must be a _TNA device.")
"KRN",.404,187,40,5,0)
5^LOCATION OF TERMINAL^3
"KRN",.404,187,40,5,1)
.02
"KRN",.404,187,40,5,2)
4,64^16^4,42
"KRN",.404,187,40,6,0)
6^TYPE^3
"KRN",.404,187,40,6,1)
2
"KRN",.404,187,40,6,2)
5,7^20^5,1
"KRN",.404,187,40,7,0)
8^SUBTYPE^3
"KRN",.404,187,40,7,1)
3
"KRN",.404,187,40,7,2)
7,10^29^7,1
"KRN",.404,187,40,8,0)
11^ASK PARAMETERS^3
"KRN",.404,187,40,8,1)
5
"KRN",.404,187,40,8,2)
9,17^3^9,1
"KRN",.404,187,40,9,0)
16^PRINT SERVER NAME OR ADDRESS^3
"KRN",.404,187,40,9,1)
65
"KRN",.404,187,40,9,2)
15,31^45^15,1
"KRN",.404,187,40,10,0)
17^TELNET PORT^3
"KRN",.404,187,40,10,1)
66
"KRN",.404,187,40,10,2)
16,31^4^16,18
"KRN",.404,187,40,11,0)
18^REMOTE PRINTER NAME^3
"KRN",.404,187,40,11,1)
67
"KRN",.404,187,40,11,2)
17,31^45^17,10
"KRN",.404,187,40,12,0)
9^MARGIN WIDTH^3
"KRN",.404,187,40,12,1)
9
"KRN",.404,187,40,12,2)
7,64^3^7,50
"KRN",.404,187,40,12,11)
D HLP^DDSUTL("Only fill this in if you wish to override the subtype.")
"KRN",.404,187,40,13,0)
10^PAGE LENGTH^3
"KRN",.404,187,40,13,1)
11
"KRN",.404,187,40,13,2)
8,64^5^8,51
"KRN",.404,187,40,13,11)
D HLP^DDSUTL("Only fill this in if you wish to override the subtype.")
"KRN",.404,187,40,14,0)
7^VOLUME SET(CPU)^3
"KRN",.404,187,40,14,1)
1.9
"KRN",.404,187,40,14,2)
5,64^16^5,47
"KRN",.404,187,40,15,0)
12^QUEUING^3
"KRN",.404,187,40,15,1)
5.5
"KRN",.404,187,40,15,2)
10,17^11^10,8
"KRN",.404,187,40,16,0)
13^SUPPRESS FORM FEED AT CLOSE^3
"KRN",.404,187,40,16,1)
11.2
"KRN",.404,187,40,16,2)
10,64^3^10,35
"KRN",.404,187,40,17,0)
14^PRE-OPEN EXECUTE^3
"KRN",.404,187,40,17,1)
19.7
"KRN",.404,187,40,17,2)
12,21^59^12,3
"KRN",.404,187,40,18,0)
15^POST-CLOSE EXECUTE^3
"KRN",.404,187,40,18,1)
19.8
"KRN",.404,187,40,18,2)
13,21^59^13,1
"KRN",.404,188,0)
XUDEVICE TRM^3.5
"KRN",.404,188,40,0)
^.4044I^12^12
"KRN",.404,188,40,1,0)
1^Edit a TRM or VTRM device^1
"KRN",.404,188,40,1,2)
^^1,22
"KRN",.404,188,40,2,0)
2^NAME^3
"KRN",.404,188,40,2,1)
.01
"KRN",.404,188,40,2,2)
2,7^30^2,1
"KRN",.404,188,40,3,0)
3^LOCATION OF TERMINAL^3
"KRN",.404,188,40,3,1)
.02
"KRN",.404,188,40,3,2)
2,60^20^2,38
"KRN",.404,188,40,4,0)
4^$I^3
"KRN",.404,188,40,4,1)
1
"KRN",.404,188,40,4,2)
3,7^33^3,3
"KRN",.404,188,40,5,0)
5^VOLUME SET(CPU)^3
"KRN",.404,188,40,5,1)
1.9
"KRN",.404,188,40,5,2)
3,60^20^3,43
"KRN",.404,188,40,6,0)
6^TYPE^3
"KRN",.404,188,40,6,1)
2
"KRN",.404,188,40,6,2)
4,7^20^4,1
"KRN",.404,188,40,7,0)
7^SIGN-ON/SYSTEM DEVICE^3
"KRN",.404,188,40,7,1)
1.95
"KRN",.404,188,40,7,2)
4,60^3^4,37
"KRN",.404,188,40,8,0)
8^SUBTYPE^3
"KRN",.404,188,40,8,1)
3
"KRN",.404,188,40,8,2)
6,10^30^6,1
"KRN",.404,188,40,9,0)
9^MARGIN WIDTH^3
"KRN",.404,188,40,9,1)
9
"KRN",.404,188,40,9,2)
6,64^3^6,50
"KRN",.404,188,40,9,11)
D HLP^DDSUTL("Only fill this in if you wish to override the subtype.")
"KRN",.404,188,40,10,0)
10^PAGE LENGTH^3
"KRN",.404,188,40,10,1)
11
"KRN",.404,188,40,10,2)
7,64^5^7,51
"KRN",.404,188,40,10,11)
D HLP^DDSUTL("Only fill this in if you wish to override the subtype.")
"KRN",.404,188,40,11,0)
11^ASK DEVICE^3
"KRN",.404,188,40,11,1)
4
"KRN",.404,188,40,11,2)
9,17^3^9,5
"KRN",.404,188,40,12,0)
12^ASK PARAMETERS^3
"KRN",.404,188,40,12,1)
5
"KRN",.404,188,40,12,2)
10,17^3^10,1
"KRN",19,183,-1)
2^1
"KRN",19,183,0)
XUDEVEDIT^Edit Devices by Specific Types^^M^.5^^^^^^^^y
"KRN",19,183,10,0)
^19.01IP^8^8
"KRN",19,183,10,7,0)
944^TRM
"KRN",19,183,10,7,"^")
XUDEVEDITTRM
"KRN",19,183,10,8,0)
945^LPD
"KRN",19,183,10,8,"^")
XUDEVEDITLPD
"KRN",19,183,"U")
EDIT DEVICES BY SPECIFIC TYPES
"KRN",19,944,-1)
0^2
"KRN",19,944,0)
XUDEVEDITTRM^TRM or VTRM Device Edit^^C^^^^^^^^KERNEL
"KRN",19,944,1,0)
^19.06^1^1^3030722^^
"KRN",19,944,1,1,0)
This option calls a screenman form to edit a TRM or VTRM device.
"KRN",19,944,30)
%ZIS(1,
"KRN",19,944,31)
AEMLQ
"KRN",19,944,40)
[XUDEVICE TRM]
"KRN",19,944,41)
%ZIS(1,
"KRN",19,944,"U")
TRM OR VTRM DEVICE EDIT
"KRN",19,945,-1)
0^3
"KRN",19,945,0)
XUDEVEDITLPD^LPD/VMS Device Edit^^C^^^^^^^^KERNEL
"KRN",19,945,1,0)
^^1^1^3030722^
"KRN",19,945,1,1,0)
This option calls a screenman form to edit a VMS LPD device.
"KRN",19,945,30)
%ZIS(1,
"KRN",19,945,31)
AEMLQ
"KRN",19,945,40)
[XUDEVICE LPD]
"KRN",19,945,41)
%ZIS(1,
"KRN",19,945,"U")
LPD/VMS DEVICE EDIT
"MBREQ")
0
"ORD",8,.403)
.403;8;;;EDEOUT^DIFROMSO(.403,DA,"",XPDA);FPRE^DIFROMSI(.403,"",XPDA);EPRE^DIFROMSI(.403,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.403,DA,"",XPDA);DEL^DIFROMSK(.403,"",%)
"ORD",8,.403,0)
FORM
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^^0
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^2950703^2970507^.5
"PKG",3,22,1,"PAH",1,0)
293^3031105
"PKG",3,22,1,"PAH",1,1,0)
^^2^2^3031105
"PKG",3,22,1,"PAH",1,1,1,0)
Please refer to the Description in the FORUM Patch Module for details.
"PKG",3,22,1,"PAH",1,1,2,0)
XU*8*293  Cache 5 fix to AVJ~%ZOSV.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ZIS4ONT")
0^1^B26749275
"RTN","ZIS4ONT",1,0)
%ZIS4 ;SFISC/RWF,AC - DEVICE HANDLER SPOOL SPECIFIC CODE (OpenM/WNT) ;11/03/2003  17:32
"RTN","ZIS4ONT",2,0)
 ;;8.0;KERNEL;**34,59,69,191,278,293**;Jul 10, 1995
"RTN","ZIS4ONT",3,0)
 ;
"RTN","ZIS4ONT",4,0)
OPEN G OPN2:$D(IO(1,IO))
"RTN","ZIS4ONT",5,0)
 S POP=0 D OP1 G NOPEN:'$D(IO(1,IO))
"RTN","ZIS4ONT",6,0)
OPN2 I $D(%ZISHP),'$D(IOP) W !,$C(7)_" Routing to device "_$P(^%ZIS(1,%E,0),"^",1)_$S($D(^(1)):" "_$P(^(1),"^",1)_" ",1:"")
"RTN","ZIS4ONT",7,0)
 Q
"RTN","ZIS4ONT",8,0)
NOPEN I %IS'["D",$D(%ZISHP)!(%ZISHG]"") S POP=1 Q
"RTN","ZIS4ONT",9,0)
 I '$D(IOP) W $C(7)_"  [BUSY]" W "  ...  RETRY" S %=2,U="^" D YN^%ZIS1 G OPEN:%=1
"RTN","ZIS4ONT",10,0)
 K:%E'=%H ^XUTL("ZISPARAM",IO)
"RTN","ZIS4ONT",11,0)
 S POP=1 Q
"RTN","ZIS4ONT",12,0)
 Q
"RTN","ZIS4ONT",13,0)
OP1 N X S X="OPNERR^%ZIS4",@^%ZOSF("TRAP")
"RTN","ZIS4ONT",14,0)
 L:$D(%ZISLOCK) +@%ZISLOCK:60
"RTN","ZIS4ONT",15,0)
 O IO::%ZISTO S:$T IO(1,IO)="" S:'$T POP=1 L:$D(%ZISLOCK) -@%ZISLOCK
"RTN","ZIS4ONT",16,0)
 Q
"RTN","ZIS4ONT",17,0)
OPNERR S POP=1,IO("LASTERR")=$G(IO("ERROR")),IO("ERROR")=$ZE,$EC="" Q
"RTN","ZIS4ONT",18,0)
 ;
"RTN","ZIS4ONT",19,0)
O N X D:%IS["L" ZIO
"RTN","ZIS4ONT",20,0)
 I $D(IO("S")),$D(^%ZIS(2,IO("S"),10)),^(10)]"" U IO(0) D X10^ZISX ;Open Printer port
"RTN","ZIS4ONT",21,0)
OPAR I $D(IOP),%ZTYPE="HFS",$D(%IS("HFSIO")),$D(%IS("IOPAR")),%IS("HFSIO")]"" S IO=%IS("HFSIO"),%ZISOPAR=%IS("IOPAR")
"RTN","ZIS4ONT",22,0)
 S %A=$S(%ZISOPAR]"":%ZISOPAR,%ZTYPE'["TRM":"",%ZISIOST?1"C".E:"("_+%Z91_":""C"")",%ZISIOST?1"PK".E:"("_+%Z91_":""P"")",1:+%Z91)
"RTN","ZIS4ONT",23,0)
 S %A=%A_$S(%A["):":"",%ZTYPE["OTH"&($P(%ZTIME,"^",3)="n"):"",1:":"_%ZISTO),%A=""""_IO_""""_$E(":",%A]"")_%A
"RTN","ZIS4ONT",24,0)
 D O1 I POP W:'$D(IOP) !,?5,$C(7)_"[Device is BUSY]" Q
"RTN","ZIS4ONT",25,0)
 ;I %ZTYPE="HFS" U IO S X=IO,IO=IO_";"_$P($ZIO,";",2),IO(1,IO)="" K IO(1,X)
"RTN","ZIS4ONT",26,0)
 U IO S $X=0,$Y=0
"RTN","ZIS4ONT",27,0)
 I %ZISUPAR]"" S %A1=""""_IO_""":"_%ZISUPAR U @%A1
"RTN","ZIS4ONT",28,0)
 ;U:%IS'[0 IO(0)
"RTN","ZIS4ONT",29,0)
 G OXECUTE^%ZIS6
"RTN","ZIS4ONT",30,0)
 ;
"RTN","ZIS4ONT",31,0)
O1 N X S X="OPNERR^%ZIS4",@^%ZOSF("TRAP")
"RTN","ZIS4ONT",32,0)
 L:$D(%ZISLOCK) +@%ZISLOCK:60
"RTN","ZIS4ONT",33,0)
 O @%A S:'$T&(%A?.E1":".N) POP=1 S:'POP IO(1,IO)=""
"RTN","ZIS4ONT",34,0)
 L:$D(%ZISLOCK) -@%ZISLOCK
"RTN","ZIS4ONT",35,0)
 S IO("ERROR")=""
"RTN","ZIS4ONT",36,0)
 Q
"RTN","ZIS4ONT",37,0)
 ;Version 3 used ip/port, Version 4 has ip:port|xx
"RTN","ZIS4ONT",38,0)
ZIO N %,%1 S %=$ZIO,%1=$$VERSION^%ZOSV
"RTN","ZIS4ONT",39,0)
 S IO("ZIO")=$S(%1<4:$I,1:$ZIO),%1=$S(%["/":"/",1:":")
"RTN","ZIS4ONT",40,0)
 ;Drop prefix
"RTN","ZIS4ONT",41,0)
 S:%["|TNT|" %=$E(%,6,999) S:%["|TNA|" %=$E(%,6,999)
"RTN","ZIS4ONT",42,0)
 ;Get IP name or number
"RTN","ZIS4ONT",43,0)
 I '$D(IO("IP")) D
"RTN","ZIS4ONT",44,0)
 . S:$P(%,%1)["." IO("IP")=$P(%,%1)
"RTN","ZIS4ONT",45,0)
 Q
"RTN","ZIS4ONT",46,0)
 ;
"RTN","ZIS4ONT",47,0)
SPOOL ;%ZDA=pointer to ^XMB(3.51, %ZFN=spool file Num/Name.
"RTN","ZIS4ONT",48,0)
 N %ZOS S %ZOS=$$OS^%ZOSV
"RTN","ZIS4ONT",49,0)
 I '$D(^XMB(3.51,0)) W:'$D(IOP) !?5,"The spooler files are not setup in this account." G NO
"RTN","ZIS4ONT",50,0)
 I $D(ZISDA) W:'$D(IOP) !?5,$C(7)_"You may not Spool the printing of a Spool document" G NO
"RTN","ZIS4ONT",51,0)
 I $D(DUZ)[0 W:'$D(IOP) !,"Must be a valid user." G NO
"RTN","ZIS4ONT",52,0)
 ;Get entry in Spool Doc file
"RTN","ZIS4ONT",53,0)
R S %ZY=-1 D NEWDOC^ZISPL1:$D(DUZ)=11 G NO:%ZY'>0 S %ZDA=+%ZY,%ZFN=$P(%ZY(0),U,2),IO("DOC")=$P(%ZY(0),U,1) G OK:$D(IO("Q"))
"RTN","ZIS4ONT",54,0)
 G:'%ZISB OK I '$P(%ZY,"^",3),%ZFN]"" D SPL3 G NO:%ZFN<0,DOC
"RTN","ZIS4ONT",55,0)
 I %ZOS="NT" D  G:%ZFN>255 NO
"RTN","ZIS4ONT",56,0)
 . F %ZFN=1:1:260 I '$D(^XMB(3.51,"C",%ZFN))!$D(^(%ZFN,%ZDA)) Q:%ZFN<256  W:'$D(IOP) $C(7)_"  DELETE SOME OTHER DOCUMENT!" Q
"RTN","ZIS4ONT",57,0)
 . Q:%ZFN>255  D SPL2 S $P(^XMB(3.51,%ZDA,0),U,2)=%ZFN,^XMB(3.51,"C",%ZFN,%ZDA)=""
"RTN","ZIS4ONT",58,0)
 I %ZOS="VMS" D  G:%ZFN=-1 NO
"RTN","ZIS4ONT",59,0)
 . S %ZFN=IO_"SPOOL_no_"_%ZDA_".TMP" D SPL2 Q:%ZFN=-1  S $P(^XMB(3.51,%ZDA,0),U,2)=%ZFN,^XMB(3.51,"C",%ZFN,%ZDA)="",IO=%ZFN
"RTN","ZIS4ONT",60,0)
DOC S IO("SPOOL")=%ZDA,^XUTL("XQ",$J,"SPOOL")=%ZDA
"RTN","ZIS4ONT",61,0)
 I $D(^%ZIS(1,%ZISIOS,1)),$P(^(1),"^",8),$O(^("SPL",0)) S ^XUTL("XQ",$J,"ADSPL")=%ZISIOS,ZISPLAD=%ZISIOS
"RTN","ZIS4ONT",62,0)
OK K %ZDA,%ZFN Q
"RTN","ZIS4ONT",63,0)
NO K %ZDA,%ZFN,IO("DOC") S POP=1 Q
"RTN","ZIS4ONT",64,0)
 ;
"RTN","ZIS4ONT",65,0)
SPL2 I %ZOS="NT" O IO:(%ZFN:0) S IO(1,IO)="",^SPOOL(0,IO("DOC"),%ZFN)="",^SPOOL(%ZFN,0)=IO("DOC")_"{"_$H Q
"RTN","ZIS4ONT",66,0)
 ;VMS
"RTN","ZIS4ONT",67,0)
 O %ZFN:("WNS"):2 G:'$T SPL4 S IO(1,%ZFN)="" Q
"RTN","ZIS4ONT",68,0)
 ;
"RTN","ZIS4ONT",69,0)
SPL3 I %ZOS="NT" G SPL4:'$D(^SPOOL(%ZFN,2147483647)) O IO:(%ZFN:$P(^(2147483647),"{",3)):1 S:'$T ZISPLQ=1 K ^(2147483647) S IO(1,IO)="" Q
"RTN","ZIS4ONT",70,0)
 ;VMS
"RTN","ZIS4ONT",71,0)
 N $ETRAP S $ETRAP="S $EC="""" G SPL4^%ZIS4"
"RTN","ZIS4ONT",72,0)
 O %ZFN:"RV":1 S:'$T ZISPLQ=1 G:$ZA<0!('$T) SPL4 S IO(1,%ZFN)="" Q
"RTN","ZIS4ONT",73,0)
 ;
"RTN","ZIS4ONT",74,0)
SPL4 W:'$D(IOP) !,"Spool file already open" S %ZFN=-1 Q
"RTN","ZIS4ONT",75,0)
 ;
"RTN","ZIS4ONT",76,0)
CLOSE N %ZOS,%Z1,%ZCR,%2,%3,%X,%Y,ZTSK,%ZFN S %ZOS=$$OS^%ZOSV
"RTN","ZIS4ONT",77,0)
 I %ZOS="NT",IO=2,$D(IO(1,IO)) K IO(1,IO) C IO
"RTN","ZIS4ONT",78,0)
 I %ZOS="VMS",IO]"",$D(IO(1,IO)) U IO S %ZFN=$ZIO C IO K IO(1,IO)
"RTN","ZIS4ONT",79,0)
 ;See that ZTSK is set so we will move to the global now.
"RTN","ZIS4ONT",80,0)
 S ZTSK=$G(ZTSK,1) D FILE^ZISPL1 I %ZDA'>0 K ZISPLAD Q
"RTN","ZIS4ONT",81,0)
 G:%ZOS="VMS" CLVMS
"RTN","ZIS4ONT",82,0)
 S %ZFN=$P(%ZS,"^",2),%ZCR=$C(13),%Y="",%=0,%3=$P(^SPOOL(%ZFN,2147483647),"{",3)
"RTN","ZIS4ONT",83,0)
 S %Z1=+$G(^XTV(8989.3,1,"SPL"))
"RTN","ZIS4ONT",84,0)
 F %2=1:1:%3 Q:'$D(^SPOOL(%ZFN,%2))  S %X=^SPOOL(%ZFN,%2) D
"RTN","ZIS4ONT",85,0)
 . I %Z1<% D LIMIT S %2=%3 Q
"RTN","ZIS4ONT",86,0)
 . I %X[$C(13,12) D:$L($P(%X,$C(13))) ADD($P(%X,$C(13))) D ADD("|TOP|") Q
"RTN","ZIS4ONT",87,0)
 . D ADD($P(%X,$C(13),1))
"RTN","ZIS4ONT",88,0)
 K ^SPOOL(%ZFN),^SPOOL(0,$P(%ZS,U,1)),%Y,%X,%1,%2,%3 D CLOSE^ZISPL1
"RTN","ZIS4ONT",89,0)
 Q
"RTN","ZIS4ONT",90,0)
ADD(L) S %=%+1,^XMBS(3.519,XS,2,%,0)=L Q
"RTN","ZIS4ONT",91,0)
LIMIT D ADD("*** INCOMPLETE REPORT  -- SPOOL DOCUMENT LINE LIMIT EXCEEDED ***") S $P(^XMB(3.51,%ZDA,0),"^",11)=1
"RTN","ZIS4ONT",92,0)
 Q
"RTN","ZIS4ONT",93,0)
CLVMS ;Close for Cache VMS
"RTN","ZIS4ONT",94,0)
 N $ES,$ET S $ET="D:$EC'[""ENDOF"" ^%ZTER,UNWIND^%ZTER S $EC="""" D SPLEX^%ZIS4,UNWIND^%ZTER"
"RTN","ZIS4ONT",95,0)
 S %ZA=$ZU(68,40,1) ;Work like DSM
"RTN","ZIS4ONT",96,0)
 ;%ZFN Could be set at the top
"RTN","ZIS4ONT",97,0)
 S %ZFN=$S($G(%ZFN)]"":%ZFN,1:$P(%ZS,"^",2)) D SPL3 Q:%ZFN']""  U %ZFN S %ZCR=$C(13),%Y=""
"RTN","ZIS4ONT",98,0)
 S %Z1=+$G(^XTV(8989.3,1,"SPL")),%=0
"RTN","ZIS4ONT",99,0)
 F  R %X#255:5 Q:$ZEOF<0  D  G:%Z1<% SPLEX
"RTN","ZIS4ONT",100,0)
 . I %Z1<% D LIMIT Q
"RTN","ZIS4ONT",101,0)
 . I %X[$C(12) D  Q
"RTN","ZIS4ONT",102,0)
 . . S %Y=$P(%X,$C(12)) D:$L(%Y) ADD(%Y),ADD("|TOP|")
"RTN","ZIS4ONT",103,0)
 . . S %Y=$P(%X,$C(12),2) D:$L(%Y) ADD(%Y)
"RTN","ZIS4ONT",104,0)
 . . Q
"RTN","ZIS4ONT",105,0)
 . D ADD(%X)
"RTN","ZIS4ONT",106,0)
 . Q
"RTN","ZIS4ONT",107,0)
SPLEX C %ZFN:"D" K:%ZFN]"" IO(1,%ZFN) D CLOSE^ZISPL1 K %Y,%X,%1,%ZFN Q
"RTN","ZIS4ONT",108,0)
 ;
"RTN","ZIS4ONT",109,0)
 ;
"RTN","ZIS4ONT",110,0)
HFS G HFS^%ZISF
"RTN","ZIS4ONT",111,0)
REWMT(IO2,IOPAR) ;Rewind Magtape
"RTN","ZIS4ONT",112,0)
 N $ETRAP S $ET="G REWERR^%ZIS4"
"RTN","ZIS4ONT",113,0)
 U IO2 W *5
"RTN","ZIS4ONT",114,0)
 Q 1
"RTN","ZIS4ONT",115,0)
REWSDP(IO2,IOPAR) ;Rewind SDP
"RTN","ZIS4ONT",116,0)
 G REW1
"RTN","ZIS4ONT",117,0)
REWHFS(IO2,IOPAR) ;Rewind Host File.
"RTN","ZIS4ONT",118,0)
REW1 ;ZIS set % to the current $I so need to update % if = IO
"RTN","ZIS4ONT",119,0)
 N NIO,OP,$ETRAP
"RTN","ZIS4ONT",120,0)
 S $ET="G REWERR^%ZIS4"
"RTN","ZIS4ONT",121,0)
 C IO2 ;You do a rewind to read the file.
"RTN","ZIS4ONT",122,0)
 S OP=$S($ZV["VMS":"RV",1:"RS")
"RTN","ZIS4ONT",123,0)
 O IO2:(OP):1 S IO(1,IO2)=""
"RTN","ZIS4ONT",124,0)
 Q 1
"RTN","ZIS4ONT",125,0)
REWERR ;Error encountered
"RTN","ZIS4ONT",126,0)
 S IO("ERROR")=$EC,$ECODE=""
"RTN","ZIS4ONT",127,0)
 Q 0
"RTN","ZOSVONT")
0^2^B22320010
"RTN","ZOSVONT",1,0)
%ZOSV ;SFISC/AC - $View commands for Open M for NT.  ;11/05/2003  16:46
"RTN","ZOSVONT",2,0)
 ;;8.0;KERNEL;**34,94,107,118,136,215,293**;Jul 10, 1995
"RTN","ZOSVONT",3,0)
ACTJ() ;# Active jobs
"RTN","ZOSVONT",4,0)
 N %,V,Y S V=$$VERSION()
"RTN","ZOSVONT",5,0)
 I V<5 D  Q Y
"RTN","ZOSVONT",6,0)
 . S %=0 F Y=0:1 S %=$ZJ(%) Q:%=""
"RTN","ZOSVONT",7,0)
 S Y=$system.License.LUConsumed()
"RTN","ZOSVONT",8,0)
 Q Y
"RTN","ZOSVONT",9,0)
AVJ() ;# available jobs
"RTN","ZOSVONT",10,0)
 N %,AVJ,ZOSV,port,t,x,v,maxpid,lmflim,$ET
"RTN","ZOSVONT",11,0)
 S v=+$$VERSION()
"RTN","ZOSVONT",12,0)
 ;Cache 3 and 4
"RTN","ZOSVONT",13,0)
 ;maxpid: from %SS
"RTN","ZOSVONT",14,0)
 I v<5 D  Q AVJ
"RTN","ZOSVONT",15,0)
 . S $ET="",maxpid=$v($zu(40,2,118),-2,4)
"RTN","ZOSVONT",16,0)
 . X "S ZOSV=$ZU(5),%=$ZU(5,""%SYS"") S lmflim=$$inquire^LMFCLI,%=$ZU(5,ZOSV)" ;Get the license info
"RTN","ZOSVONT",17,0)
 . ;Add together the enterprise and division licenses avaliable
"RTN","ZOSVONT",18,0)
 . S x=$P(lmflim,";",2)+$P($P(lmflim,"|",2),";",2)
"RTN","ZOSVONT",19,0)
 . S t=+lmflim+$P(lmflim,"|",2) ;Check the license total
"RTN","ZOSVONT",20,0)
 . S AVJ=$S(t<maxpid:x,1:maxpid-$$ACTJ) ;Return the smaller of license or pid
"RTN","ZOSVONT",21,0)
 ;To get available jobs from Cache 5.0
"RTN","ZOSVONT",22,0)
 I v'<5 D  Q AVJ
"RTN","ZOSVONT",23,0)
 . X "S ZOSV=$ZU(5),%=$ZU(5,""%SYS"") S AVJ=$system.License.LUAvailable(),%=$ZU(5,ZOSV)"
"RTN","ZOSVONT",24,0)
 ;Return fixed value not known version
"RTN","ZOSVONT",25,0)
 Q 15
"RTN","ZOSVONT",26,0)
 ; 
"RTN","ZOSVONT",27,0)
PRIINQ() ; 
"RTN","ZOSVONT",28,0)
 Q 8
"RTN","ZOSVONT",29,0)
 ; 
"RTN","ZOSVONT",30,0)
UCI ;Current UCI
"RTN","ZOSVONT",31,0)
 S Y=$ZU(5)_","_^%ZOSF("VOL") Q
"RTN","ZOSVONT",32,0)
 ; 
"RTN","ZOSVONT",33,0)
UCICHECK(X) ;Check if valid UCI
"RTN","ZOSVONT",34,0)
 N Y,%
"RTN","ZOSVONT",35,0)
 S %=$P(X,",",1),Y=0 I $ZU(90,10,%) S Y=%
"RTN","ZOSVONT",36,0)
 Q Y
"RTN","ZOSVONT",37,0)
 ; 
"RTN","ZOSVONT",38,0)
GETPEER() ;Get the PEER tcp/ip address
"RTN","ZOSVONT",39,0)
 N PEER,NL,$ET S NL="",$ET="S $EC=NL Q NL",PEER=""
"RTN","ZOSVONT",40,0)
 I $$OS="VMS" S PEER=$ZF("TRNLNM","VISTA$IP")
"RTN","ZOSVONT",41,0)
 I '$L(PEER) S PEER=$ZU(111,0) S:$L(PEER) PEER=$A(PEER,1)_"."_$A(PEER,2)_"."_$A(PEER,3)_"."_$A(PEER,4)
"RTN","ZOSVONT",42,0)
 Q PEER
"RTN","ZOSVONT",43,0)
 ; 
"RTN","ZOSVONT",44,0)
SHARELIC(TYPE) ;See if can share a C/S license
"RTN","ZOSVONT",45,0)
 ;Type is 1 for C/S and 0 for Telnet
"RTN","ZOSVONT",46,0)
 N %,%N,%2,UID,%V,$ET S $ET="S $EC="""" Q",%V=$$VERSION()
"RTN","ZOSVONT",47,0)
 I %V<3.1 X:TYPE "S %N=$ZU(5),%2=$ZU(5,""%SYS""),%2=$$GetLic^LMFCLI,%N=$ZU(5,%N)" Q
"RTN","ZOSVONT",48,0)
 I %V<5 S:TYPE %=$$GetCSLic^%LICENSE S:'TYPE %=$$ShareLic^%LICENSE
"RTN","ZOSVONT",49,0)
 ;Per Sandy Waal 10/18/2003: With Cache' 5.0, your telnet and IP connections are now handled properly.
"RTN","ZOSVONT",50,0)
 I %V'<5 S %V=%V
"RTN","ZOSVONT",51,0)
 S $EC=""
"RTN","ZOSVONT",52,0)
 Q 
"RTN","ZOSVONT",53,0)
JOBPAR ;See if X points to a valid Job. Return its UCI.
"RTN","ZOSVONT",54,0)
 N ZJ S Y="",$ZT="JOBX"
"RTN","ZOSVONT",55,0)
 Q:'$D(^$JOB(X))  S Y=$V(-1,X),Y=$P(Y,"^",14)_","_^%ZOSF("VOL")
"RTN","ZOSVONT",56,0)
JOBX Q 
"RTN","ZOSVONT",57,0)
 ; 
"RTN","ZOSVONT",58,0)
NOLOG ; 
"RTN","ZOSVONT",59,0)
 S Y="$V(0,-2,4)\4096#2" Q
"RTN","ZOSVONT",60,0)
 ; 
"RTN","ZOSVONT",61,0)
PROGMODE() ;Check if in PROG mode
"RTN","ZOSVONT",62,0)
 Q $ZJ#2 
"RTN","ZOSVONT",63,0)
 ; 
"RTN","ZOSVONT",64,0)
PRGMODE ; 
"RTN","ZOSVONT",65,0)
 W ! S ZTPAC=$S('$D(^VA(200,+DUZ,.1)):"",1:$P(^(.1),U,5)),XUVOL=^%ZOSF("VOL")
"RTN","ZOSVONT",66,0)
 S X="" X ^%ZOSF("EOFF") R:ZTPAC]"" !,"PAC: ",X:60 D LC^XUS X ^%ZOSF("EON") I X'=ZTPAC W "??"_$C(7) Q
"RTN","ZOSVONT",67,0)
 S XMB="XUPROGMODE",XMB(1)=DUZ,XMB(2)=$I D ^XMB:$L($T(^XMB)) D BYE^XUSCLEAN K ZTPAC,X,XMB
"RTN","ZOSVONT",68,0)
 D UCI S XUCI=Y,XQZ="PRGM^ZUA[MGR]",XUSLNT=1 D DO^%XUCI D ^%PMODE U $I:(:"+B+C+R") S $ZT="" Q
"RTN","ZOSVONT",69,0)
 Q 
"RTN","ZOSVONT",70,0)
LGR() S $ZT="LGRX^%ZOSV"
"RTN","ZOSVONT",71,0)
 Q $ZR ;Last Global ref.
"RTN","ZOSVONT",72,0)
LGRX Q ""
"RTN","ZOSVONT",73,0)
 ; 
"RTN","ZOSVONT",74,0)
EC() Q $ZE ;Error code
"RTN","ZOSVONT",75,0)
 ; 
"RTN","ZOSVONT",76,0)
DOLRO ;SAVE ENTIRE SYMBOL TABLE IN LOCATION SPECIFIED BY X
"RTN","ZOSVONT",77,0)
 S Y="%" F %=0:0 S Y=$O(@Y) Q:Y=""  S %=$D(@Y) S:%#2 @(X_"Y)="_Y) I %>9 S %X=Y_"(",%Y=X_"Y," D %XY^%RCR
"RTN","ZOSVONT",78,0)
 Q 
"RTN","ZOSVONT",79,0)
 ; 
"RTN","ZOSVONT",80,0)
ORDER ;SAVE PART OF SYMBOL TABLE IN LOCATION SPECIFIED BY X
"RTN","ZOSVONT",81,0)
 S (Y,Y1)=$P(Y,"*",1) I $D(@Y)=0 F %=0:0 S Y=$O(@Y) Q:Y=""!(Y[Y1)
"RTN","ZOSVONT",82,0)
 Q:Y=""  S %=$D(@Y) S:%#2 @(X_"Y)="_Y) I %>9 S %X=Y_"(",%Y=X_"Y," D %XY^%RCR
"RTN","ZOSVONT",83,0)
 F %=0:0 S Y=$O(@Y) Q:Y=""!(Y'[Y1)  S %=$D(@Y) S:%#2 @(X_"Y)="_Y) I %>9 S %X=Y_"(",%Y=X_"Y," D %XY^%RCR
"RTN","ZOSVONT",84,0)
 K %,X,Y,Y1
"RTN","ZOSVONT",85,0)
 Q 
"RTN","ZOSVONT",86,0)
 ; 
"RTN","ZOSVONT",87,0)
PARSIZ ; 
"RTN","ZOSVONT",88,0)
 S X=3
"RTN","ZOSVONT",89,0)
 Q 
"RTN","ZOSVONT",90,0)
 ; 
"RTN","ZOSVONT",91,0)
DEVOPN ;List of Devices opened
"RTN","ZOSVONT",92,0)
 ;Returns variable Y. Y=Devices owned separated by a comma
"RTN","ZOSVONT",93,0)
 Q 
"RTN","ZOSVONT",94,0)
DEVOK ; 
"RTN","ZOSVONT",95,0)
 S Y=0,X1=$G(X1) Q:X=2  Q:(X1="HFS")!(X1="SPL")!(X1="MT")!(X1="CHAN")  ;Quit w/ OK for HFS, Spool, MT, TCP/IP
"RTN","ZOSVONT",96,0)
 G:X1="RES" RESOK^%ZIS6
"RTN","ZOSVONT",97,0)
 N $ET S $ET="D OPNERR Q"
"RTN","ZOSVONT",98,0)
 O X::$S($D(%ZISTO):%ZISTO,1:0) E  S Y=999 Q  ;G NOPN
"RTN","ZOSVONT",99,0)
 S Y=0 I '$D(%ZISCHK)!($G(%ZIS)["T") C X Q
"RTN","ZOSVONT",100,0)
 S:X]"" IO(1,X)="" Q
"RTN","ZOSVONT",101,0)
 Q 
"RTN","ZOSVONT",102,0)
NOPN ; 
"RTN","ZOSVONT",103,0)
 N ZJ S $ZT="NJ"
"RTN","ZOSVONT",104,0)
 S ZJ="" F %=0:0 S ZJ=$ZJ(ZJ) Q:'ZJ  D NOPN1 Q:'ZJ
"RTN","ZOSVONT",105,0)
 Q 
"RTN","ZOSVONT",106,0)
NOPN1 S Y=$V(-1,ZJ) I $P(Y,"^",3)[X_","!($P(Y,"^",3)[X_"*,") S Y=ZJ,ZJ="" Q
"RTN","ZOSVONT",107,0)
 Q 
"RTN","ZOSVONT",108,0)
NJ Q  ;NOJOB ERROR
"RTN","ZOSVONT",109,0)
OPNERR S $EC="",Y=-1 Q
"RTN","ZOSVONT",110,0)
 ; 
"RTN","ZOSVONT",111,0)
GETENV ;Get environment  (UCI^VOL^NODE^BOX:VOLUME)
"RTN","ZOSVONT",112,0)
 N %,%1 S %=$$VERSION,%1=$ZU(86),%1=$S(%<3.1:$P(%1,"*",3),1:$P(%1,"*",2))
"RTN","ZOSVONT",113,0)
 D UCI S Y=$P(Y,",")_"^"_^%ZOSF("VOL")_"^"_$ZU(110)_"^"_^%ZOSF("VOL")_":"_%1
"RTN","ZOSVONT",114,0)
 Q 
"RTN","ZOSVONT",115,0)
VERSION(X) ;return Cache version, X=1 - return full name
"RTN","ZOSVONT",116,0)
 Q $S($G(X):$P($ZV,")")_")",1:$P($P($ZV,") ",2),"("))
"RTN","ZOSVONT",117,0)
 ; 
"RTN","ZOSVONT",118,0)
OS() ;Return the OS NT, VMS, Unix
"RTN","ZOSVONT",119,0)
 Q $S($ZV["VMS":"VMS",$ZV["NT":"NT",$ZV["LINUX":"UNIX",1:"UNK")
"RTN","ZOSVONT",120,0)
 ; 
"RTN","ZOSVONT",121,0)
SETNM(X) ;Set name, Fall into SETENV
"RTN","ZOSVONT",122,0)
SETENV ;Set environment
"RTN","ZOSVONT",123,0)
 N Q,$ET,$ES S $ET="S $EC="""" Q"
"RTN","ZOSVONT",124,0)
 I $$OS="VMS" S Q=$ZF("SETPRN",$E(X,1,15))
"RTN","ZOSVONT",125,0)
 Q 
"RTN","ZOSVONT",126,0)
 ;
"RTN","ZOSVONT",127,0)
SID() ;System ID Ver 1
"RTN","ZOSVONT",128,0)
 N J1,T S T="~"
"RTN","ZOSVONT",129,0)
 S J1(1)=$ZU(86)
"RTN","ZOSVONT",130,0)
 S J1(2)=$ZU(5)_T_$ZU(12,"")
"RTN","ZOSVONT",131,0)
 Q "1~"_J1(1)_T_J1(2)
"RTN","ZOSVONT",132,0)
 ;
"RTN","ZOSVONT",133,0)
HFSREW(IO,IOPAR) ;Rewind Host File.
"RTN","ZOSVONT",134,0)
 S $ZT="HFSRWERR"
"RTN","ZOSVONT",135,0)
 C IO O @(""""_IO_""""_$S(IOPAR]"":":"_IOPAR_":1",1:":1")) I '$T Q 0
"RTN","ZOSVONT",136,0)
 Q 1
"RTN","ZOSVONT",137,0)
HFSRWERR ;Error encountered
"RTN","ZOSVONT",138,0)
 Q 0
"RTN","ZOSVONT",139,0)
LOGRSRC(OPT,TYPE,STATUS) ;record resource usage in ^XTMP("KMPR"
"RTN","ZOSVONT",140,0)
 Q:'$G(^%ZTSCH("LOGRSRC"))  ; quit if RUM not turned on.
"RTN","ZOSVONT",141,0)
 ; call to RUM routine.
"RTN","ZOSVONT",142,0)
 D RU^%ZOSVKR($G(OPT),$G(TYPE),$G(STATUS))
"RTN","ZOSVONT",143,0)
 Q 
"RTN","ZOSVONT",144,0)
SETTRM(X) ;Turn on specified terminators.
"RTN","ZOSVONT",145,0)
 U $I:(:"+T":X)
"RTN","ZOSVONT",146,0)
 Q 1
"RTN","ZOSVONT",147,0)
 ; 
"RTN","ZOSVONT",148,0)
T0 ; start RT clock
"RTN","ZOSVONT",149,0)
 S XRT0=$H Q
"RTN","ZOSVONT",150,0)
T1 ; store RT datum
"RTN","ZOSVONT",151,0)
 S ^%ZRTL(3,XRTL,+$H,XRTN,$P($H,",",2))=XRT0 K XRT0 Q
"VER")
8.0^22.0
"^DD",3.5,3.5,65,0)
PRINT SERVER NAME OR ADDRESS^F^^VMS;5^K:$L(X)>45!($L(X)<3) X
"^DD",3.5,3.5,65,3)
Enter the FQDN or TCP/IP address of the remote server.
"^DD",3.5,3.5,65,21,0)
^^3^3^3030722^
"^DD",3.5,3.5,65,21,1,0)
This field contains the FQDN (fully qualified domain name) or specific
"^DD",3.5,3.5,65,21,2,0)
TCP/IP address of a remote server (e.g., for LPD/LPR printing) or device
"^DD",3.5,3.5,65,21,3,0)
(e.g., for telnet printer).
"^DD",3.5,3.5,65,"DT")
3030722
"^DD",3.5,3.5,66,0)
TELNET PORT^NJ5,0^^VMS;6^K:+X'=X!(X>65534)!(X<2000)!(X?.E1"."1.N) X
"^DD",3.5,3.5,66,3)
Enter the telnet port (range = 2000 to 65534)
"^DD",3.5,3.5,66,21,0)
^^2^2^3030825^
"^DD",3.5,3.5,66,21,1,0)
This field contains the telnet port of a remote device (e.g., a telnet
"^DD",3.5,3.5,66,21,2,0)
printer).  The allowable range is a number between 2000 and 65534.
"^DD",3.5,3.5,66,"DT")
3030825
"^DD",3.5,3.5,67,0)
REMOTE PRINTER NAME^F^^VMS;7^K:$L(X)>45!($L(X)<3) X
"^DD",3.5,3.5,67,3)
Answer must be 3-45 characters in length.
"^DD",3.5,3.5,67,21,0)
^^2^2^3030722^
"^DD",3.5,3.5,67,21,1,0)
This is the Name of the Remote Printer that is referenced by
"^DD",3.5,3.5,67,21,2,0)
the "PRINT SERVER NAME OR ADDRESS" and "TELNET PORT" fields.
"^DD",3.5,3.5,67,"DT")
3030722
**END**
**END**
