Released SPN*2*23 SEQ #23
Extracted from mail message
**KIDS**:SPN*2.0*23^

**INSTALL NAME**
SPN*2.0*23
"BLD",5487,0)
SPN*2.0*23^SPINAL CORD DYSFUNCTION^0^3040817^y
"BLD",5487,1,0)
^^2^2^3040804^
"BLD",5487,1,1,0)
Revision of object code to support TIU objects for Spinal Cord
"BLD",5487,1,2,0)
Dysfunction.
"BLD",5487,4,0)
^9.64PA^^
"BLD",5487,"KRN",0)
^9.67PA^8989.52^19
"BLD",5487,"KRN",.4,0)
.4
"BLD",5487,"KRN",.401,0)
.401
"BLD",5487,"KRN",.402,0)
.402
"BLD",5487,"KRN",.403,0)
.403
"BLD",5487,"KRN",.5,0)
.5
"BLD",5487,"KRN",.84,0)
.84
"BLD",5487,"KRN",3.6,0)
3.6
"BLD",5487,"KRN",3.8,0)
3.8
"BLD",5487,"KRN",9.2,0)
9.2
"BLD",5487,"KRN",9.8,0)
9.8
"BLD",5487,"KRN",9.8,"NM",0)
^9.68A^3^3
"BLD",5487,"KRN",9.8,"NM",1,0)
SPN23E^^0^B1529462
"BLD",5487,"KRN",9.8,"NM",2,0)
SPNETOBJ^^0^B2460275
"BLD",5487,"KRN",9.8,"NM",3,0)
SPNOBJ^^0^B15299316
"BLD",5487,"KRN",9.8,"NM","B","SPN23E",1)

"BLD",5487,"KRN",9.8,"NM","B","SPNETOBJ",2)

"BLD",5487,"KRN",9.8,"NM","B","SPNOBJ",3)

"BLD",5487,"KRN",19,0)
19
"BLD",5487,"KRN",19.1,0)
19.1
"BLD",5487,"KRN",101,0)
101
"BLD",5487,"KRN",409.61,0)
409.61
"BLD",5487,"KRN",771,0)
771
"BLD",5487,"KRN",870,0)
870
"BLD",5487,"KRN",8989.51,0)
8989.51
"BLD",5487,"KRN",8989.52,0)
8989.52
"BLD",5487,"KRN",8994,0)
8994
"BLD",5487,"KRN","B",.4,.4)

"BLD",5487,"KRN","B",.401,.401)

"BLD",5487,"KRN","B",.402,.402)

"BLD",5487,"KRN","B",.403,.403)

"BLD",5487,"KRN","B",.5,.5)

"BLD",5487,"KRN","B",.84,.84)

"BLD",5487,"KRN","B",3.6,3.6)

"BLD",5487,"KRN","B",3.8,3.8)

"BLD",5487,"KRN","B",9.2,9.2)

"BLD",5487,"KRN","B",9.8,9.8)

"BLD",5487,"KRN","B",19,19)

"BLD",5487,"KRN","B",19.1,19.1)

"BLD",5487,"KRN","B",101,101)

"BLD",5487,"KRN","B",409.61,409.61)

"BLD",5487,"KRN","B",771,771)

"BLD",5487,"KRN","B",870,870)

"BLD",5487,"KRN","B",8989.51,8989.51)

"BLD",5487,"KRN","B",8989.52,8989.52)

"BLD",5487,"KRN","B",8994,8994)

"BLD",5487,"PRE")
SPN23E
"BLD",5487,"QUES",0)
^9.62^^
"BLD",5487,"REQB",0)
^9.611^^
"MBREQ")
0
"PKG",418,-1)
1^1
"PKG",418,0)
SPINAL CORD DYSFUNCTION^SPN^SPINAL CORD DYSFUNCTION, FIELD COMPONENT
"PKG",418,20,0)
^9.402P^^
"PKG",418,22,0)
^9.49I^1^1
"PKG",418,22,1,0)
2.0^2961206^2970131^13722
"PKG",418,22,1,"PAH",1,0)
23^3040817
"PKG",418,22,1,"PAH",1,1,0)
^^2^2^3040817
"PKG",418,22,1,"PAH",1,1,1,0)
Revision of object code to support TIU objects for Spinal Cord
"PKG",418,22,1,"PAH",1,1,2,0)
Dysfunction.
"PRE")
SPN23E
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","SPN23E")
0^1^B1529462
"RTN","SPN23E",1,0)
SPN23E ;SD/CM- ENVIRONMENT CHECK FOR SPN*2.0*23;8/4/2004
"RTN","SPN23E",2,0)
 ;;2.0;Spinal Cord Dysfunction;**23**;01/02/97
"RTN","SPN23E",3,0)
 ;
"RTN","SPN23E",4,0)
EN ;ENTRY
"RTN","SPN23E",5,0)
 N ROU,TEST,VER,X,ZAP,P22
"RTN","SPN23E",6,0)
 S ROU="SPNOGRDA"
"RTN","SPN23E",7,0)
 D CHK
"RTN","SPN23E",8,0)
 I $G(ZAP)=1 S XPDABORT=2 W !,"***SPN*2.0*23 ABORTED***",! D EXIT Q
"RTN","SPN23E",9,0)
 I $G(ZAP)=1 S XPDABORT=2 W !,"***SPN*2.0*23 ABORTED***",! D EXIT Q
"RTN","SPN23E",10,0)
 W !,"***Environment is fine***",!
"RTN","SPN23E",11,0)
 K ROU,TEST,VER,ZAP,P22
"RTN","SPN23E",12,0)
 Q
"RTN","SPN23E",13,0)
CHK ;CHECK FOR PATCH SPN*2*22
"RTN","SPN23E",14,0)
 S X="S TEST=$T(+2^"_ROU_")" X X
"RTN","SPN23E",15,0)
 S VER=$P(TEST,";",3),P22=$P(TEST,";",5)
"RTN","SPN23E",16,0)
 I VER="" W !,"This account is missing some SPN routines!" S ZAP=1 Q
"RTN","SPN23E",17,0)
 I VER'[2 W !,"This is not the current version of Spinal Cord!" S ZAP=1 Q
"RTN","SPN23E",18,0)
 I P22'[22 W !,"Routine: ",ROU," is missing patch SPN*2*22" S ZAP=1
"RTN","SPN23E",19,0)
 Q
"RTN","SPN23E",20,0)
EXIT ;
"RTN","SPN23E",21,0)
 K ROU,TEST,VER,ZAP,P22
"RTN","SPN23E",22,0)
 Q
"RTN","SPNETOBJ")
0^2^B2460275
"RTN","SPNETOBJ",1,0)
SPNETOBJ ;SD/CM- ETIOLOGY OBJECT; 2-14-2003
"RTN","SPNETOBJ",2,0)
 ;;2.0;Spinal Cord Dysfunction;**20,23**;01/02/97
"RTN","SPNETOBJ",3,0)
EN(DFN) S U="^",SPNET="",X="Etiologies:"
"RTN","SPNETOBJ",4,0)
 S CNT=0
"RTN","SPNETOBJ",5,0)
 K ^TMP($J,"ETIOL")
"RTN","SPNETOBJ",6,0)
 I '$D(^SPNL(154,DFN,0)) S SPNET="No data available" Q "Etiologies: "_SPNET
"RTN","SPNETOBJ",7,0)
 I $O(^SPNL(154,DFN,"E",0))<1 S SPNET="No data available" Q "Etiologies: "_SPNET
"RTN","SPNETOBJ",8,0)
 N SPNETI,SPNDFLG
"RTN","SPNETOBJ",9,0)
 S (SPNETI,SPNDFLG)=0
"RTN","SPNETOBJ",10,0)
 F  S SPNETI=$O(^SPNL(154,DFN,"E",SPNETI)) Q:SPNETI<1  D
"RTN","SPNETOBJ",11,0)
 .N SPNETO
"RTN","SPNETOBJ",12,0)
 .S CNT=CNT+1
"RTN","SPNETOBJ",13,0)
 .S SPNETO=$P($G(^SPNL(154,DFN,"E",SPNETI,0)),U) Q:SPNETO=""
"RTN","SPNETOBJ",14,0)
 .W !
"RTN","SPNETOBJ",15,0)
 .;W ?12,$E($$GET^DDSVAL(154.03,SPNETO,.01,"","E"),1,30),?44,$$FMTE^XLFDT($P($G(^SPNL(154,DFN,"E",SPNETI,0)),U,2),"5DZP"),?58,$$GET^DDSVAL(154.03,SPNETO,.02,"","E")
"RTN","SPNETOBJ",16,0)
 .S ^TMP($J,"ETIOL",CNT)=CNT_") "_$E($$GET^DDSVAL(154.03,SPNETO,.01,"","E"),1,30)
"RTN","SPNETOBJ",17,0)
 .S X=X_"  "_^TMP($J,"ETIOL",CNT) I '+CNT S X=X_"No data available"
"RTN","SPNETOBJ",18,0)
 .Q
"RTN","SPNETOBJ",19,0)
 Q X
"RTN","SPNOBJ")
0^3^B15299316
"RTN","SPNOBJ",1,0)
SPNOBJ ;SD/CM- OBJECTS FROM SCD REGISTRY; 1-27-2003
"RTN","SPNOBJ",2,0)
 ;;2.0;Spinal Cord Dysfunction;**20,23**;01/02/97
"RTN","SPNOBJ",3,0)
MAR(DFN) ;Marital Status
"RTN","SPNOBJ",4,0)
 ;Populate Object Method with: S X=$$MAR^SPNOBJ(DFN)
"RTN","SPNOBJ",5,0)
 S X=$P($G(^DPT(DFN,0)),U,5) S X="Marital Status: "_$S(X:$P(^DIC(11,X,0),U,1),1:"No data available") Q X
"RTN","SPNOBJ",6,0)
 Q
"RTN","SPNOBJ",7,0)
 ;
"RTN","SPNOBJ",8,0)
RSTAT(DFN) ;Registration Status in SCD Registry
"RTN","SPNOBJ",9,0)
 ;Populate Object Method with: S X=$$RSTAT^SPNOBJ(DFN)
"RTN","SPNOBJ",10,0)
 S X=$P($G(^SPNL(154,DFN,0)),U,3) S X="Registration Status: "_$S(X=0:"NOT SCD",X=1:"SCD - CURRENTLY SERVED",X=2:"SCD - NOT CURRENTLY SERVED",X="X":"EXPIRED",1:"No data available") Q X
"RTN","SPNOBJ",11,0)
 Q
"RTN","SPNOBJ",12,0)
 ;
"RTN","SPNOBJ",13,0)
VASCI(DFN) ;VA SCI Status
"RTN","SPNOBJ",14,0)
 ;Populate Object Method with: S X=$$VASCI^SPNOBJ(DFN)
"RTN","SPNOBJ",15,0)
 S X=$P($G(^SPNL(154,DFN,2)),U,6) S X="VA SCI Status: "_$S(X=1:"PARAPLEGIA-TRAUMATIC",X=2:"QUADRIPLEGIA-TRAUMATIC",X=3:"PARAPLEGIA-NONTRAUMATIC",X=4:"QUADRIPLEGIA-NONTRAUMATIC",X="X":"NOT APPLICABLE",1:"No data available") Q X
"RTN","SPNOBJ",16,0)
 Q
"RTN","SPNOBJ",17,0)
 ;
"RTN","SPNOBJ",18,0)
SCILEV(DFN) ;SCI Level
"RTN","SPNOBJ",19,0)
 ;Populate Object Method with: S X=$$SCILEV^SPNOBJ(DFN)
"RTN","SPNOBJ",20,0)
 S X=$P($G(^SPNL(154,DFN,2)),U,1) S X="SCI Level: "_$S(X:$P(^SPNL(154.01,X,0),U,1),1:"No data available") Q X
"RTN","SPNOBJ",21,0)
 Q
"RTN","SPNOBJ",22,0)
 ;
"RTN","SPNOBJ",23,0)
LOFF(DFN) ;Last Annual Eval Offered
"RTN","SPNOBJ",24,0)
 ;Populate Object Method with: S X=$$LOFF^SPNOBJ(DFN)
"RTN","SPNOBJ",25,0)
 S X=$O(^SPNL(154,DFN,"REHAB","B"," "),-1) S X="Last Annual Eval Offered: "_$S(X:$$FMTE^XLFDT(X,"5DZP"),1:"No data available") Q X
"RTN","SPNOBJ",26,0)
 Q
"RTN","SPNOBJ",27,0)
 ;
"RTN","SPNOBJ",28,0)
EP(DFN) ;Enrollment Priority
"RTN","SPNOBJ",29,0)
 ;Populate Object Method with: S X=$$EP^SPNOBJ(DFN)
"RTN","SPNOBJ",30,0)
 N SPNNRIEN
"RTN","SPNOBJ",31,0)
 S SPNNRIEN=$$FINDCUR^SPNENPR($G(DFN)) I '+SPNNRIEN S X="No data available" Q "Enrollment Priority: "_X
"RTN","SPNOBJ",32,0)
 S X="GROUP "_$P($G(^DGEN(27.11,SPNNRIEN,0)),U,7) Q "Enrollment Priority: "_X
"RTN","SPNOBJ",33,0)
 Q
"RTN","SPNOBJ",34,0)
 ;
"RTN","SPNOBJ",35,0)
EXTNT(DFN) ;Extent of SCI
"RTN","SPNOBJ",36,0)
 ;Populate Object Method with: S X=$$EXTNT^SPNOBJ(DFN)
"RTN","SPNOBJ",37,0)
 S X=$P($G(^SPNL(154,DFN,6)),U,9) S X="Extent of SCI: "_$S(X="C":"COMPLETE",X="I":"INCOMPLETE",1:"No data available") Q X
"RTN","SPNOBJ",38,0)
 Q
"RTN","SPNOBJ",39,0)
ETIOL(DFN) ;Etiology.  Returns etiologies
"RTN","SPNOBJ",40,0)
 ;Populate Object Method with: S X=$$EN^SPNETOBJ(DFN)
"RTN","SPNOBJ",41,0)
 S X=$$EN^SPNETOBJ(DFN) Q "Etiologies:"_X
"RTN","SPNOBJ",42,0)
 Q
"RTN","SPNOBJ",43,0)
PCPROV(DFN) ;Primary Care Provider
"RTN","SPNOBJ",44,0)
 ;Populate Object Method with: S X=$$PCPROV^SPNOBJ(DFN)
"RTN","SPNOBJ",45,0)
 S X=$S($L($$GET1^DIQ(154,DFN,8.1))>1:$$GET1^DIQ(154,DFN,8.1),1:"No data available") Q "Primary Care Provider: "_X
"RTN","SPNOBJ",46,0)
 Q
"RTN","SPNOBJ",47,0)
SCDCOOR(DFN) ;SCD Coordinator
"RTN","SPNOBJ",48,0)
 ;Populate Object Method with: S X=$$SCDCOOR^SPNOBJ(DFN)
"RTN","SPNOBJ",49,0)
 S X=$S($L($$GET1^DIQ(154,DFN,8.2))>1:$$GET1^DIQ(154,DFN,8.2),1:"No data available") Q "SCD Coordinator: "_X
"RTN","SPNOBJ",50,0)
 Q
"RTN","SPNOBJ",51,0)
REMARKS(DFN) ;Remarks
"RTN","SPNOBJ",52,0)
 ;Populate Object Method with: S X=$$REMARKS^SPNOBJ(DFN)
"RTN","SPNOBJ",53,0)
 S X=$S($L($$GET1^DIQ(154,DFN,11))>1:$$GET1^DIQ(154,DFN,11),1:"No data available") Q "Remarks: "_X
"RTN","SPNOBJ",54,0)
 Q
"RTN","SPNOBJ",55,0)
MSSUBT(DFN) ;Multiple Sclerosis (MS) Sub Type
"RTN","SPNOBJ",56,0)
 ;Populate Object Method with: S X=$$MSSUBT^SPNOBJ(DFN)
"RTN","SPNOBJ",57,0)
 S X=$S($L($$GET1^DIQ(154,DFN,2.2))>1:$$GET1^DIQ(154,DFN,2.2),1:"No data available") Q "Multiple Sclerosis Sub Type: "_X
"RTN","SPNOBJ",58,0)
 Q
"RTN","SPNOBJ",59,0)
LREC(DFN) ;Last Annual Evaluation Received
"RTN","SPNOBJ",60,0)
 ;Populate Object Method with: S X=$$LREC^SPNOBJ(DFN)
"RTN","SPNOBJ",61,0)
 S X=$$GET1^DIQ(154,DFN,999.07) D ^%DT
"RTN","SPNOBJ",62,0)
 S X=$S(Y'=-1:$$FMTE^XLFDT(Y,"5DZP"),1:"No data available") Q "Last Annual Eval Received: "_X
"RTN","SPNOBJ",63,0)
 Q
"RTN","SPNOBJ",64,0)
BCREIMB(DFN) ;Bowel Care Reimbursement
"RTN","SPNOBJ",65,0)
 ;Populate Object Method with: S X=$$BCREIMB^SPNOBJ(DFN)
"RTN","SPNOBJ",66,0)
 S X=$S($L($$GET1^DIQ(154,DFN,10.1))>1:$$GET1^DIQ(154,DFN,10.1),1:"No data available") Q "Bowel Care Reimbursement: "_X
"RTN","SPNOBJ",67,0)
 Q
"RTN","SPNOBJ",68,0)
BCDC(DFN) ;Bowel Care Date Certified
"RTN","SPNOBJ",69,0)
 ;Populate Object Method with: S X=$$BCDC^SPNOBJ(DFN)
"RTN","SPNOBJ",70,0)
 S X=$$GET1^DIQ(154,DFN,10.2) D ^%DT
"RTN","SPNOBJ",71,0)
 S X=$S(Y'=-1:$$FMTE^XLFDT(Y,"5DZP"),1:"No data available") Q "Bowel Care Date Certified: "_X
"RTN","SPNOBJ",72,0)
 Q
"RTN","SPNOBJ",73,0)
BCPROV(DFN) ;Bowel Care Provider
"RTN","SPNOBJ",74,0)
 ;Populate Object Method with: S X=$$BCPROV^SPNOBJ(DFN)
"RTN","SPNOBJ",75,0)
 S X=$S($L($$GET1^DIQ(154,DFN,10.3))>1:$$GET1^DIQ(154,DFN,10.3),1:"No data available") Q "Bowel Care Provider: "_X
"RTN","SPNOBJ",76,0)
 Q
"VER")
8.0^22.0
**END**
**END**
