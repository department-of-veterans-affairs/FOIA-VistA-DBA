KIDS Distribution saved on Apr 12, 2007@10:23:38
ONCOLOGY PATCH ONC*2.11*47
**KIDS**:ONC*2.11*47^

**INSTALL NAME**
ONC*2.11*47
"BLD",6236,0)
ONC*2.11*47^ONCOLOGY^0^3070412^y
"BLD",6236,4,0)
^9.64PA^5.1^7
"BLD",6236,4,5.1,0)
5.1
"BLD",6236,4,5.1,222)
y^y^f^^^^n
"BLD",6236,4,160.16,0)
160.16
"BLD",6236,4,160.16,222)
y^y^f^^n^^y^o^n
"BLD",6236,4,160.2,0)
160.2
"BLD",6236,4,160.2,222)
y^y^f^^n^^y^o^n
"BLD",6236,4,160.2,224)
I Y=9
"BLD",6236,4,164.43,0)
164.43
"BLD",6236,4,164.43,222)
y^y^f^^n^^y^o^n
"BLD",6236,4,165.5,0)
165.5
"BLD",6236,4,165.5,2,0)
^9.641^165.5^1
"BLD",6236,4,165.5,2,165.5,0)
ONCOLOGY PRIMARY  (File-top level)
"BLD",6236,4,165.5,2,165.5,1,0)
^9.6411^138.1^18
"BLD",6236,4,165.5,2,165.5,1,.015,0)
SELECTED SITES
"BLD",6236,4,165.5,2,165.5,1,2.2,0)
MANAGING PHYSICIAN
"BLD",6236,4,165.5,2,165.5,1,3,0)
DATE DX
"BLD",6236,4,165.5,2,165.5,1,35.1,0)
SEER SUMMARY STAGE ABBREVIATED
"BLD",6236,4,165.5,2,165.5,1,38.5,0)
STAGE GROUPING-AJCC
"BLD",6236,4,165.5,2,165.5,1,39,0)
OTHER STAGING SYSTEM
"BLD",6236,4,165.5,2,165.5,1,58.3,0)
SURGICAL DX/STAGING PROC DATE
"BLD",6236,4,165.5,2,165.5,1,58.5,0)
SURG DX/STAGING PROC @FAC DATE
"BLD",6236,4,165.5,2,165.5,1,95.1,0)
STATUS/LAST TUMOR STATUS
"BLD",6236,4,165.5,2,165.5,1,138.1,0)
SCOPE OF LN SURGERY @FAC (R)
"BLD",6236,4,165.5,2,165.5,1,159,0)
AMBIGUOUS TERMINOLOGY DX
"BLD",6236,4,165.5,2,165.5,1,193,0)
DATE OF CONCLUSIVE DX
"BLD",6236,4,165.5,2,165.5,1,194,0)
MULT TUM RPT AS ONE PRIM
"BLD",6236,4,165.5,2,165.5,1,195,0)
DATE OF MULTIPLE TUMORS
"BLD",6236,4,165.5,2,165.5,1,196,0)
MULTIPLICITY COUNTER
"BLD",6236,4,165.5,2,165.5,1,197,0)
EDITS CHECKSUM
"BLD",6236,4,165.5,2,165.5,1,198,0)
DATE CASE LAST CHANGED
"BLD",6236,4,165.5,2,165.5,1,199,0)
CASE LAST CHANGED BY
"BLD",6236,4,165.5,222)
y^y^p^^^^n^^n
"BLD",6236,4,165.5,224)

"BLD",6236,4,166,0)
166
"BLD",6236,4,166,222)
y^y^f^^n^^y^o^n
"BLD",6236,4,169,0)
169
"BLD",6236,4,169,222)
y^y^f^^n^^y^o^n
"BLD",6236,4,"APDD",165.5,165.5)

"BLD",6236,4,"APDD",165.5,165.5,.015)

"BLD",6236,4,"APDD",165.5,165.5,2.2)

"BLD",6236,4,"APDD",165.5,165.5,3)

"BLD",6236,4,"APDD",165.5,165.5,35.1)

"BLD",6236,4,"APDD",165.5,165.5,38.5)

"BLD",6236,4,"APDD",165.5,165.5,39)

"BLD",6236,4,"APDD",165.5,165.5,58.3)

"BLD",6236,4,"APDD",165.5,165.5,58.5)

"BLD",6236,4,"APDD",165.5,165.5,95.1)

"BLD",6236,4,"APDD",165.5,165.5,138.1)

"BLD",6236,4,"APDD",165.5,165.5,159)

"BLD",6236,4,"APDD",165.5,165.5,193)

"BLD",6236,4,"APDD",165.5,165.5,194)

"BLD",6236,4,"APDD",165.5,165.5,195)

"BLD",6236,4,"APDD",165.5,165.5,196)

"BLD",6236,4,"APDD",165.5,165.5,197)

"BLD",6236,4,"APDD",165.5,165.5,198)

"BLD",6236,4,"APDD",165.5,165.5,199)

"BLD",6236,4,"B",5.1,5.1)

"BLD",6236,4,"B",160.16,160.16)

"BLD",6236,4,"B",160.2,160.2)

"BLD",6236,4,"B",164.43,164.43)

"BLD",6236,4,"B",165.5,165.5)

"BLD",6236,4,"B",166,166)

"BLD",6236,4,"B",169,169)

"BLD",6236,6.3)
19
"BLD",6236,"INI")
ONCPRE47
"BLD",6236,"INID")
^y^y
"BLD",6236,"INIT")
ONCPST47
"BLD",6236,"KRN",0)
^9.67PA^8989.52^19
"BLD",6236,"KRN",.4,0)
.4
"BLD",6236,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",6236,"KRN",.4,"NM",1,0)
ONCO XABSTRACT RECORD    FILE #165.5^165.5^0
"BLD",6236,"KRN",.4,"NM","B","ONCO XABSTRACT RECORD    FILE #165.5",1)

"BLD",6236,"KRN",.401,0)
.401
"BLD",6236,"KRN",.402,0)
.402
"BLD",6236,"KRN",.402,"NM",0)
^9.68A^2^2
"BLD",6236,"KRN",.402,"NM",1,0)
ONCO ABSTRACT-I    FILE #165.5^165.5^0
"BLD",6236,"KRN",.402,"NM",2,0)
ONCO RECURRENCE FOLLOWUP    FILE #165.5^165.5^0
"BLD",6236,"KRN",.402,"NM","B","ONCO ABSTRACT-I    FILE #165.5",1)

"BLD",6236,"KRN",.402,"NM","B","ONCO RECURRENCE FOLLOWUP    FILE #165.5",2)

"BLD",6236,"KRN",.403,0)
.403
"BLD",6236,"KRN",.5,0)
.5
"BLD",6236,"KRN",.84,0)
.84
"BLD",6236,"KRN",3.6,0)
3.6
"BLD",6236,"KRN",3.8,0)
3.8
"BLD",6236,"KRN",9.2,0)
9.2
"BLD",6236,"KRN",9.8,0)
9.8
"BLD",6236,"KRN",9.8,"NM",0)
^9.68A^55^55
"BLD",6236,"KRN",9.8,"NM",1,0)
ONCSAPI^^0^B5208764
"BLD",6236,"KRN",9.8,"NM",2,0)
ONCSAPID^^0^B21856891
"BLD",6236,"KRN",9.8,"NM",3,0)
ONCSAPIE^^0^B50726698
"BLD",6236,"KRN",9.8,"NM",4,0)
ONCSAPIR^^0^B26610695
"BLD",6236,"KRN",9.8,"NM",5,0)
ONCSAPIV^^0^B11259789
"BLD",6236,"KRN",9.8,"NM",6,0)
ONCSAPIX^^0^B9859486
"BLD",6236,"KRN",9.8,"NM",7,0)
ONCSED01^^0^B13507255
"BLD",6236,"KRN",9.8,"NM",8,0)
ONCSED02^^0^B17490289
"BLD",6236,"KRN",9.8,"NM",9,0)
ONCSED03^^0^B44378907
"BLD",6236,"KRN",9.8,"NM",10,0)
ONCSED04^^0^B25577841
"BLD",6236,"KRN",9.8,"NM",11,0)
ONCSEDEM^^0^B3657858
"BLD",6236,"KRN",9.8,"NM",12,0)
ONCSNACR^^0^B6005907
"BLD",6236,"KRN",9.8,"NM",13,0)
ONCSAPIT^^0^B76432501
"BLD",6236,"KRN",9.8,"NM",14,0)
ONCSAPI1^^0^B25134181
"BLD",6236,"KRN",9.8,"NM",15,0)
ONCSAPIU^^0^B7316141
"BLD",6236,"KRN",9.8,"NM",16,0)
ONCPRE47^^0^B985059
"BLD",6236,"KRN",9.8,"NM",17,0)
ONCODEL^^0^B16933003
"BLD",6236,"KRN",9.8,"NM",18,0)
ONCACD1^^0^B38363121
"BLD",6236,"KRN",9.8,"NM",19,0)
ONCGENED^^0^B19458550
"BLD",6236,"KRN",9.8,"NM",20,0)
ONCOEDC^^0^B17632099
"BLD",6236,"KRN",9.8,"NM",21,0)
ONCPSD^^0^B5294026
"BLD",6236,"KRN",9.8,"NM",22,0)
ONCOAIP^^0^B89832212
"BLD",6236,"KRN",9.8,"NM",23,0)
ONCOTN^^0^B72346345
"BLD",6236,"KRN",9.8,"NM",24,0)
ONCOTNO^^0^B13095185
"BLD",6236,"KRN",9.8,"NM",25,0)
ONCOPA1A^^0^B35964884
"BLD",6236,"KRN",9.8,"NM",26,0)
ONCEDIT^^0^B75961355
"BLD",6236,"KRN",9.8,"NM",27,0)
ONCODIS^^0^B1389387
"BLD",6236,"KRN",9.8,"NM",28,0)
ONCOCOS^^0^B10396818
"BLD",6236,"KRN",9.8,"NM",29,0)
ONCOGEN^^0^B47169178
"BLD",6236,"KRN",9.8,"NM",30,0)
ONCOPA1^^0^B51389164
"BLD",6236,"KRN",9.8,"NM",31,0)
ONCOPMA^^0^B20918742
"BLD",6236,"KRN",9.8,"NM",32,0)
ONCOPMB^^0^B23741129
"BLD",6236,"KRN",9.8,"NM",33,0)
ONCOPA3^^0^B32549593
"BLD",6236,"KRN",9.8,"NM",34,0)
ONCOPMP^^0^B3059088
"BLD",6236,"KRN",9.8,"NM",35,0)
ONCEDIT2^^0^B39277416
"BLD",6236,"KRN",9.8,"NM",36,0)
ONCOFUP^^0^B4216330
"BLD",6236,"KRN",9.8,"NM",37,0)
ONCOCOM^^0^B38117626
"BLD",6236,"KRN",9.8,"NM",38,0)
ONCPCI^^0^B17696827
"BLD",6236,"KRN",9.8,"NM",39,0)
ONCACD0^^0^B50981890
"BLD",6236,"KRN",9.8,"NM",40,0)
ONCMPH^^0^B1505699
"BLD",6236,"KRN",9.8,"NM",41,0)
ONCOEDC1^^0^B40620133
"BLD",6236,"KRN",9.8,"NM",42,0)
ONCPST47^^0^B1743811
"BLD",6236,"KRN",9.8,"NM",43,0)
ONCACDU2^^0^B62998568
"BLD",6236,"KRN",9.8,"NM",44,0)
ONCOAI^^0^B26893541
"BLD",6236,"KRN",9.8,"NM",45,0)
ONCOFTS^^0^B13108300
"BLD",6236,"KRN",9.8,"NM",46,0)
ONCODXD^^0^B17370508
"BLD",6236,"KRN",9.8,"NM",47,0)
ONCCS^^0^B22750957
"BLD",6236,"KRN",9.8,"NM",48,0)
ONCSYMP^^0^B11984863
"BLD",6236,"KRN",9.8,"NM",49,0)
ONCOAIF^^0^B41938394
"BLD",6236,"KRN",9.8,"NM",50,0)
ONCOUTC^^0^B16162194
"BLD",6236,"KRN",9.8,"NM",51,0)
ONCOFDP^^0^B14855963
"BLD",6236,"KRN",9.8,"NM",52,0)
ONCODSR^^0^B77463937
"BLD",6236,"KRN",9.8,"NM",53,0)
ONCTIME^^0^B5842422
"BLD",6236,"KRN",9.8,"NM",54,0)
ONCNTX^^0^B84335165
"BLD",6236,"KRN",9.8,"NM",55,0)
ONCOCC^^0^B54549376
"BLD",6236,"KRN",9.8,"NM","B","ONCACD0",39)

"BLD",6236,"KRN",9.8,"NM","B","ONCACD1",18)

"BLD",6236,"KRN",9.8,"NM","B","ONCACDU2",43)

"BLD",6236,"KRN",9.8,"NM","B","ONCCS",47)

"BLD",6236,"KRN",9.8,"NM","B","ONCEDIT",26)

"BLD",6236,"KRN",9.8,"NM","B","ONCEDIT2",35)

"BLD",6236,"KRN",9.8,"NM","B","ONCGENED",19)

"BLD",6236,"KRN",9.8,"NM","B","ONCMPH",40)

"BLD",6236,"KRN",9.8,"NM","B","ONCNTX",54)

"BLD",6236,"KRN",9.8,"NM","B","ONCOAI",44)

"BLD",6236,"KRN",9.8,"NM","B","ONCOAIF",49)

"BLD",6236,"KRN",9.8,"NM","B","ONCOAIP",22)

"BLD",6236,"KRN",9.8,"NM","B","ONCOCC",55)

"BLD",6236,"KRN",9.8,"NM","B","ONCOCOM",37)

"BLD",6236,"KRN",9.8,"NM","B","ONCOCOS",28)

"BLD",6236,"KRN",9.8,"NM","B","ONCODEL",17)

"BLD",6236,"KRN",9.8,"NM","B","ONCODIS",27)

"BLD",6236,"KRN",9.8,"NM","B","ONCODSR",52)

"BLD",6236,"KRN",9.8,"NM","B","ONCODXD",46)

"BLD",6236,"KRN",9.8,"NM","B","ONCOEDC",20)

"BLD",6236,"KRN",9.8,"NM","B","ONCOEDC1",41)

"BLD",6236,"KRN",9.8,"NM","B","ONCOFDP",51)

"BLD",6236,"KRN",9.8,"NM","B","ONCOFTS",45)

"BLD",6236,"KRN",9.8,"NM","B","ONCOFUP",36)

"BLD",6236,"KRN",9.8,"NM","B","ONCOGEN",29)

"BLD",6236,"KRN",9.8,"NM","B","ONCOPA1",30)

"BLD",6236,"KRN",9.8,"NM","B","ONCOPA1A",25)

"BLD",6236,"KRN",9.8,"NM","B","ONCOPA3",33)

"BLD",6236,"KRN",9.8,"NM","B","ONCOPMA",31)

"BLD",6236,"KRN",9.8,"NM","B","ONCOPMB",32)

"BLD",6236,"KRN",9.8,"NM","B","ONCOPMP",34)

"BLD",6236,"KRN",9.8,"NM","B","ONCOTN",23)

"BLD",6236,"KRN",9.8,"NM","B","ONCOTNO",24)

"BLD",6236,"KRN",9.8,"NM","B","ONCOUTC",50)

"BLD",6236,"KRN",9.8,"NM","B","ONCPCI",38)

"BLD",6236,"KRN",9.8,"NM","B","ONCPRE47",16)

"BLD",6236,"KRN",9.8,"NM","B","ONCPSD",21)

"BLD",6236,"KRN",9.8,"NM","B","ONCPST47",42)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPI",1)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPI1",14)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPID",2)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPIE",3)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPIR",4)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPIT",13)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPIU",15)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPIV",5)

"BLD",6236,"KRN",9.8,"NM","B","ONCSAPIX",6)

"BLD",6236,"KRN",9.8,"NM","B","ONCSED01",7)

"BLD",6236,"KRN",9.8,"NM","B","ONCSED02",8)

"BLD",6236,"KRN",9.8,"NM","B","ONCSED03",9)

"BLD",6236,"KRN",9.8,"NM","B","ONCSED04",10)

"BLD",6236,"KRN",9.8,"NM","B","ONCSEDEM",11)

"BLD",6236,"KRN",9.8,"NM","B","ONCSNACR",12)

"BLD",6236,"KRN",9.8,"NM","B","ONCSYMP",48)

"BLD",6236,"KRN",9.8,"NM","B","ONCTIME",53)

"BLD",6236,"KRN",19,0)
19
"BLD",6236,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",6236,"KRN",19,"NM",1,0)
ONC TIMELINESS REPORT^^0
"BLD",6236,"KRN",19,"NM",2,0)
ONCO UTIL MENU^^2
"BLD",6236,"KRN",19,"NM","B","ONC TIMELINESS REPORT",1)

"BLD",6236,"KRN",19,"NM","B","ONCO UTIL MENU",2)

"BLD",6236,"KRN",19.1,0)
19.1
"BLD",6236,"KRN",101,0)
101
"BLD",6236,"KRN",409.61,0)
409.61
"BLD",6236,"KRN",771,0)
771
"BLD",6236,"KRN",870,0)
870
"BLD",6236,"KRN",8989.51,0)
8989.51
"BLD",6236,"KRN",8989.52,0)
8989.52
"BLD",6236,"KRN",8994,0)
8994
"BLD",6236,"KRN","B",.4,.4)

"BLD",6236,"KRN","B",.401,.401)

"BLD",6236,"KRN","B",.402,.402)

"BLD",6236,"KRN","B",.403,.403)

"BLD",6236,"KRN","B",.5,.5)

"BLD",6236,"KRN","B",.84,.84)

"BLD",6236,"KRN","B",3.6,3.6)

"BLD",6236,"KRN","B",3.8,3.8)

"BLD",6236,"KRN","B",9.2,9.2)

"BLD",6236,"KRN","B",9.8,9.8)

"BLD",6236,"KRN","B",19,19)

"BLD",6236,"KRN","B",19.1,19.1)

"BLD",6236,"KRN","B",101,101)

"BLD",6236,"KRN","B",409.61,409.61)

"BLD",6236,"KRN","B",771,771)

"BLD",6236,"KRN","B",870,870)

"BLD",6236,"KRN","B",8989.51,8989.51)

"BLD",6236,"KRN","B",8989.52,8989.52)

"BLD",6236,"KRN","B",8994,8994)

"BLD",6236,"QUES",0)
^9.62^^
"BLD",6236,"REQB",0)
^9.611^1^1
"BLD",6236,"REQB",1,0)
ONC*2.11*46^2
"BLD",6236,"REQB","B","ONC*2.11*46",1)

"DATA",160.16,12,0)
NCDB EXTRACT V11.1
"DATA",160.16,12,"FIELD",0)
^160.161I^509^341
"DATA",160.16,12,"FIELD",1,0)
1^1^1^Record Type
"DATA",160.16,12,"FIELD",1,1)
S ACDANS="I"
"DATA",160.16,12,"FIELD",1,2)
BLANK
"DATA",160.16,12,"FIELD",1,3)
L,BLANK^10
"DATA",160.16,12,"FIELD",1,4)
"I" Incidence-only record type (nonconfidential coded data)
"DATA",160.16,12,"FIELD",2,0)
2^8^9^Patient ID Number
"DATA",160.16,12,"FIELD",2,1)
S ACDANS=99999999
"DATA",160.16,12,"FIELD",2,2)
BLANK
"DATA",160.16,12,"FIELD",2,3)
L,BLANK^20
"DATA",160.16,12,"FIELD",3,0)
10^1^10^Registry Type
"DATA",160.16,12,"FIELD",3,1)
S ACDANS=3
"DATA",160.16,12,"FIELD",3,2)
BLANK
"DATA",160.16,12,"FIELD",3,3)
L,BLANK^30
"DATA",160.16,12,"FIELD",3,4)
3 Single hospital/freestanding center
"DATA",160.16,12,"FIELD",4,0)
11^1^11^FIN Coding System
"DATA",160.16,12,"FIELD",4,1)
S ACDANS=$S($L(STAT1)=7:1,$L(STAT1)=8:2,1:9)
"DATA",160.16,12,"FIELD",4,2)
BLANK
"DATA",160.16,12,"FIELD",4,3)
L,BLANK^35
"DATA",160.16,12,"FIELD",4,4)
FACILITY ID # (160.1,27)
"DATA",160.16,12,"FIELD",5,0)
19^1^19^NAACCR Record Version
"DATA",160.16,12,"FIELD",5,1)
S ACDANS="B"
"DATA",160.16,12,"FIELD",5,2)
BLANK
"DATA",160.16,12,"FIELD",5,3)
L,BLANK^50
"DATA",160.16,12,"FIELD",5,4)
2006 Version 11
"DATA",160.16,12,"FIELD",6,0)
20^10^29^Registry Id
"DATA",160.16,12,"FIELD",6,1)
S ACDANS=STAT1
"DATA",160.16,12,"FIELD",6,2)
ZERO
"DATA",160.16,12,"FIELD",6,3)
L,ZERO^40
"DATA",160.16,12,"FIELD",6,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,12,"FIELD",18,0)
74^9^82^Addr at DX--Postal Code
"DATA",160.16,12,"FIELD",18,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,9,"I")
"DATA",160.16,12,"FIELD",18,2)
BLANK
"DATA",160.16,12,"FIELD",18,3)
R,BLANK^100
"DATA",160.16,12,"FIELD",18,4)
POSTAL CODE AT DX (165.5,9)
"DATA",160.16,12,"FIELD",26,0)
93^6^98^Census Tract 2000
"DATA",160.16,12,"FIELD",26,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,12,"FIELD",26,2)
BLANK
"DATA",160.16,12,"FIELD",26,3)
L,BLANK^130
"DATA",160.16,12,"FIELD",26,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,12,"FIELD",29,0)
101^1^101^Census Tr Certainty 2000
"DATA",160.16,12,"FIELD",29,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",29,2)
BLANK
"DATA",160.16,12,"FIELD",29,3)
L,BLANK^365
"DATA",160.16,12,"FIELD",30,0)
102^1^102^Marital Status at DX
"DATA",160.16,12,"FIELD",30,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,11,"I")
"DATA",160.16,12,"FIELD",30,2)
BLANK
"DATA",160.16,12,"FIELD",30,3)
L,BLANK^150
"DATA",160.16,12,"FIELD",30,4)
MARITAL STATUS AT DX (165.5,11)
"DATA",160.16,12,"FIELD",31,0)
103^2^104^Race 1
"DATA",160.16,12,"FIELD",31,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8,"I")
"DATA",160.16,12,"FIELD",31,2)
BLANK
"DATA",160.16,12,"FIELD",31,3)
L,ZERO^160
"DATA",160.16,12,"FIELD",31,4)
RACE 1 (160,8)
"DATA",160.16,12,"FIELD",32,0)
143^40^182^Text--Usual Occupation
"DATA",160.16,12,"FIELD",32,1)
S ACDANS=$$OCCUP~ONCACDU1(ACD160)
"DATA",160.16,12,"FIELD",32,2)
BLANK
"DATA",160.16,12,"FIELD",32,3)
R,BLANK^310
"DATA",160.16,12,"FIELD",32,4)
USUAL OCCUPATION (160.042,.01)
"DATA",160.16,12,"FIELD",33,0)
183^40^222^Text--Usual Industry
"DATA",160.16,12,"FIELD",33,1)
S ACDANS=$$IND~ONCACDU1(ACD160)
"DATA",160.16,12,"FIELD",33,2)
BLANK
"DATA",160.16,12,"FIELD",33,3)
R,BLANK^320
"DATA",160.16,12,"FIELD",33,4)
USUAL INDUSTRY (160.042,3)
"DATA",160.16,12,"FIELD",41,0)
291^4^294^Primary Site
"DATA",160.16,12,"FIELD",41,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,20,"I") S:ACDANS'="" ACDANS=$TR($$GET1~DIQ(164,ACDANS,1,"I"),".","")
"DATA",160.16,12,"FIELD",41,2)
BLANK
"DATA",160.16,12,"FIELD",41,3)
L,ZERO^400
"DATA",160.16,12,"FIELD",41,4)
PRIMARY SITE (165.5,20)
"DATA",160.16,12,"FIELD",42,0)
295^1^295^Laterality
"DATA",160.16,12,"FIELD",42,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,28,"I")
"DATA",160.16,12,"FIELD",42,2)
BLANK
"DATA",160.16,12,"FIELD",42,3)
L,BLANK^410
"DATA",160.16,12,"FIELD",42,4)
LATERALITY (165.5,28)
"DATA",160.16,12,"FIELD",43,0)
296^5^300^Morph--Type&Behav ICD-O-2
"DATA",160.16,12,"FIELD",43,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,22,"I"),1:"") K DATEDX
"DATA",160.16,12,"FIELD",43,2)
BLANK
"DATA",160.16,12,"FIELD",43,3)
L,ZERO^419
"DATA",160.16,12,"FIELD",43,4)
HISTOLOGY (ICD-O-2) (165.5,22)
"DATA",160.16,12,"FIELD",45,0)
306^1^306^Grade
"DATA",160.16,12,"FIELD",45,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24,"I")
"DATA",160.16,12,"FIELD",45,2)
BLANK
"DATA",160.16,12,"FIELD",45,3)
L,ZERO^440
"DATA",160.16,12,"FIELD",45,4)
GRADE/DIFFERENTIATION (165.5,24)
"DATA",160.16,12,"FIELD",46,0)
307^1^307^Site Coding Sys--Current
"DATA",160.16,12,"FIELD",46,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,12,"FIELD",46,2)
BLANK
"DATA",160.16,12,"FIELD",46,3)
L,ZERO^450
"DATA",160.16,12,"FIELD",46,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,12,"FIELD",47,0)
308^1^308^Site Coding Sys--Original
"DATA",160.16,12,"FIELD",47,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,12,"FIELD",47,2)
BLANK
"DATA",160.16,12,"FIELD",47,3)
L,ZERO^460
"DATA",160.16,12,"FIELD",47,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,12,"FIELD",48,0)
309^1^309^Morph Coding Sys--Current
"DATA",160.16,12,"FIELD",48,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:7,1:6) K DATEDX
"DATA",160.16,12,"FIELD",48,2)
BLANK
"DATA",160.16,12,"FIELD",48,3)
L,ZERO^470
"DATA",160.16,12,"FIELD",48,4)
6 = ICD-O, Second Edition, plus FAB codes effective 1/1/98; 7 = ICD-O, Third Edition
"DATA",160.16,12,"FIELD",49,0)
310^1^310^Morph Coding Sys--Originl
"DATA",160.16,12,"FIELD",49,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:7,1:6) K DATEDX
"DATA",160.16,12,"FIELD",49,2)
BLANK
"DATA",160.16,12,"FIELD",49,3)
L,ZERO^480
"DATA",160.16,12,"FIELD",49,4)
6 = ICD-O, Second Edition, plus FAB codes effective 1/1/98; 7 = ICD-O, Third Edition
"DATA",160.16,12,"FIELD",50,0)
311^1^311^Diagnostic Confirmation
"DATA",160.16,12,"FIELD",50,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,26,"I")
"DATA",160.16,12,"FIELD",50,2)
BLANK
"DATA",160.16,12,"FIELD",50,3)
L,ZERO^490
"DATA",160.16,12,"FIELD",50,4)
DIAGNOSTIC CONFIRMATION (165.5,26)
"DATA",160.16,12,"FIELD",51,0)
312^1^312^Type of Reporting Source
"DATA",160.16,12,"FIELD",51,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.2,"I")
"DATA",160.16,12,"FIELD",51,2)
BLANK
"DATA",160.16,12,"FIELD",51,3)
L,BLANK^500
"DATA",160.16,12,"FIELD",51,4)
TYPE OF REPORTING SOURCE (165.5,1.2)
"DATA",160.16,12,"FIELD",52,0)
313^8^320^Screening Date
"DATA",160.16,12,"FIELD",52,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,79,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",52,2)
BLANK
"DATA",160.16,12,"FIELD",52,3)
L,BLANK^510
"DATA",160.16,12,"FIELD",52,4)
SCREENING DATE (165.5,79)
"DATA",160.16,12,"FIELD",53,0)
321^1^321^Screening Result
"DATA",160.16,12,"FIELD",53,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,119,"I")
"DATA",160.16,12,"FIELD",53,2)
BLANK
"DATA",160.16,12,"FIELD",53,3)
L,BLANK^520
"DATA",160.16,12,"FIELD",53,4)
SCREENING RESULT (165.5,119)
"DATA",160.16,12,"FIELD",54,0)
301^5^305^Morph--Type&Behav ICD-O-3
"DATA",160.16,12,"FIELD",54,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,22.3,"I")
"DATA",160.16,12,"FIELD",54,2)
BLANK
"DATA",160.16,12,"FIELD",54,3)
L,ZERO^521
"DATA",160.16,12,"FIELD",54,4)
HISTOLOGY (ICD-O-3) (165.5,22.3)
"DATA",160.16,12,"FIELD",57,0)
411^2^412^Sequence Number--Hospital
"DATA",160.16,12,"FIELD",57,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.06,"I")
"DATA",160.16,12,"FIELD",57,2)
BLANK
"DATA",160.16,12,"FIELD",57,3)
L,ZERO^560
"DATA",160.16,12,"FIELD",57,4)
SEQUENCE NUMBER (165.5,.06)
"DATA",160.16,12,"FIELD",58,0)
413^3^415^Abstracted By
"DATA",160.16,12,"FIELD",58,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,92,"I") S:ACDANS'="" ACDANS=$E($$GET1~DIQ(200,ACDANS,1,"I"),1,3)
"DATA",160.16,12,"FIELD",58,2)
BLANK
"DATA",160.16,12,"FIELD",58,3)
R,BLANK^570
"DATA",160.16,12,"FIELD",58,4)
ABSTRACTED BY (165.5,92)
"DATA",160.16,12,"FIELD",59,0)
416^8^423^Date of 1st Contact
"DATA",160.16,12,"FIELD",59,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,155,"I") S:ACDANS="" ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",59,2)
BLANK
"DATA",160.16,12,"FIELD",59,3)
L,ZERO^580
"DATA",160.16,12,"FIELD",59,4)
DATE OF FIRST CONTACT (165.5,155) or DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,12,"FIELD",60,0)
424^8^431^Date of Inpatient Adm
"DATA",160.16,12,"FIELD",60,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",60,2)
BLANK
"DATA",160.16,12,"FIELD",60,3)
L,ZERO^590
"DATA",160.16,12,"FIELD",60,4)
DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,12,"FIELD",61,0)
432^8^439^Date of Inpatient Disch
"DATA",160.16,12,"FIELD",61,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",61,2)
BLANK
"DATA",160.16,12,"FIELD",61,3)
L,ZERO^600
"DATA",160.16,12,"FIELD",61,4)
DATE OF INPATIENT DISCHARGE (165.5,1.1)
"DATA",160.16,12,"FIELD",62,0)
440^1^440^Class of Case
"DATA",160.16,12,"FIELD",62,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.04,"I")
"DATA",160.16,12,"FIELD",62,2)
BLANK
"DATA",160.16,12,"FIELD",62,3)
L,ZERO^610
"DATA",160.16,12,"FIELD",62,4)
CLASS OF CASE (165.5,.04)
"DATA",160.16,12,"FIELD",63,0)
441^4^444^Reserved 26
"DATA",160.16,12,"FIELD",63,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",63,2)
BLANK
"DATA",160.16,12,"FIELD",63,3)
L,BLANK^615
"DATA",160.16,12,"FIELD",63,4)

"DATA",160.16,12,"FIELD",64,0)
445^2^446^Primary Payer at DX
"DATA",160.16,12,"FIELD",64,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,18,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.3,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",64,2)
NINE
"DATA",160.16,12,"FIELD",64,3)
L,BLANK^630
"DATA",160.16,12,"FIELD",64,4)
PRIMARY PAYER AT DX (165.5,18)
"DATA",160.16,12,"FIELD",65,0)
447^10^456^NPI--Archive FIN
"DATA",160.16,12,"FIELD",65,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",65,2)
BLANK
"DATA",160.16,12,"FIELD",65,3)
L,BLANK^3105
"DATA",160.16,12,"FIELD",65,4)

"DATA",160.16,12,"FIELD",68,0)
457^2^458^RX Hosp--Surg Prim Site
"DATA",160.16,12,"FIELD",68,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.7,"SPS")
"DATA",160.16,12,"FIELD",68,2)
NINE
"DATA",160.16,12,"FIELD",68,3)
L,ZERO^670
"DATA",160.16,12,"FIELD",68,4)
SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"DATA",160.16,12,"FIELD",69,0)
478^2^479^RX Hosp--Surg Site 98-02
"DATA",160.16,12,"FIELD",69,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,50.2,"SPS")
"DATA",160.16,12,"FIELD",69,2)
BLANK
"DATA",160.16,12,"FIELD",69,3)
L,ZERO^746
"DATA",160.16,12,"FIELD",69,4)
SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"DATA",160.16,12,"FIELD",70,0)
463^1^463^RX Hosp--Radiation
"DATA",160.16,12,"FIELD",70,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.4,"I")
"DATA",160.16,12,"FIELD",70,2)
BLANK
"DATA",160.16,12,"FIELD",70,3)
L,ZERO^690
"DATA",160.16,12,"FIELD",70,4)
RADIATION @FACILITY (165.5,51.4)
"DATA",160.16,12,"FIELD",71,0)
464^2^465^RX Hosp--Chemo
"DATA",160.16,12,"FIELD",71,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.3,"I")
"DATA",160.16,12,"FIELD",71,2)
NINE
"DATA",160.16,12,"FIELD",71,3)
L,BLANK^700
"DATA",160.16,12,"FIELD",71,4)
CHEMOTHERAPY @FAC (165.5,53.3)
"DATA",160.16,12,"FIELD",72,0)
466^2^467^RX Hosp--Hormone
"DATA",160.16,12,"FIELD",72,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.3,"I")
"DATA",160.16,12,"FIELD",72,2)
NINE
"DATA",160.16,12,"FIELD",72,3)
L,BLANK^710
"DATA",160.16,12,"FIELD",72,4)
HORMONE THERAPY @FAC (165.5,54.3)
"DATA",160.16,12,"FIELD",73,0)
468^2^469^RX Hosp--BRM
"DATA",160.16,12,"FIELD",73,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.3,"I")
"DATA",160.16,12,"FIELD",73,2)
NINE
"DATA",160.16,12,"FIELD",73,3)
L,BLANK^720
"DATA",160.16,12,"FIELD",73,4)
IMMUNOTHERAPY @FAC (165.5,55.3)
"DATA",160.16,12,"FIELD",74,0)
470^1^470^RX Hosp--Other
"DATA",160.16,12,"FIELD",74,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.3,"I")
"DATA",160.16,12,"FIELD",74,2)
BLANK
"DATA",160.16,12,"FIELD",74,3)
L,ZERO^730
"DATA",160.16,12,"FIELD",74,4)
OTHER TREATMENT @FAC (165.5,57.3)
"DATA",160.16,12,"FIELD",75,0)
471^2^472^RX Hosp--DX/Stg Proc
"DATA",160.16,12,"FIELD",75,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.4,"I")
"DATA",160.16,12,"FIELD",75,2)
ZNINE
"DATA",160.16,12,"FIELD",75,3)
L,ZERO^740
"DATA",160.16,12,"FIELD",75,4)
SURG DX/STAGING PROC @FAC (165.5,58.4)
"DATA",160.16,12,"FIELD",77,0)
529^1^529^SEER Summary Stage 1977
"DATA",160.16,12,"FIELD",77,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,12,"FIELD",77,2)
BLANK
"DATA",160.16,12,"FIELD",77,3)
L,BLANK^760
"DATA",160.16,12,"FIELD",77,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,12,"FIELD",78,0)
530^1^530^Reserved 29
"DATA",160.16,12,"FIELD",78,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",78,2)
BLANK
"DATA",160.16,12,"FIELD",78,3)
L,BLANK^765
"DATA",160.16,12,"FIELD",78,4)

"DATA",160.16,12,"FIELD",79,0)
531^3^533^EOD--Tumor Size
"DATA",160.16,12,"FIELD",79,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,29,"I")
"DATA",160.16,12,"FIELD",79,2)
BLANK
"DATA",160.16,12,"FIELD",79,3)
L,ZERO^780
"DATA",160.16,12,"FIELD",79,4)
TUMOR SIZE (165.5,29)
"DATA",160.16,12,"FIELD",80,0)
534^2^535^EOD--Extension
"DATA",160.16,12,"FIELD",80,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30,"I")
"DATA",160.16,12,"FIELD",80,2)
BLANK
"DATA",160.16,12,"FIELD",80,3)
L,ZERO^790
"DATA",160.16,12,"FIELD",80,4)
EXTENSION (165.5,30)
"DATA",160.16,12,"FIELD",81,0)
536^2^537^EOD--Extension Prost Path
"DATA",160.16,12,"FIELD",81,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30.1,"I")
"DATA",160.16,12,"FIELD",81,2)
BLANK
"DATA",160.16,12,"FIELD",81,3)
L,ZERO^800
"DATA",160.16,12,"FIELD",81,4)
PATHOLOGIC EXTENSION (165.5,30.1)
"DATA",160.16,12,"FIELD",82,0)
538^1^538^EOD--Lymph Node Involv
"DATA",160.16,12,"FIELD",82,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,31,"I")
"DATA",160.16,12,"FIELD",82,2)
BLANK
"DATA",160.16,12,"FIELD",82,3)
L,BLANK^810
"DATA",160.16,12,"FIELD",82,4)
LYMPH NODES (165.5,31)
"DATA",160.16,12,"FIELD",83,0)
539^2^540^Regional Nodes Positive
"DATA",160.16,12,"FIELD",83,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,32,"I")
"DATA",160.16,12,"FIELD",83,2)
BLANK
"DATA",160.16,12,"FIELD",83,3)
L,ZERO^820
"DATA",160.16,12,"FIELD",83,4)
REGIONAL LYMPH NODES POSITIVE (165.5,32)
"DATA",160.16,12,"FIELD",84,0)
541^2^542^Regional Nodes Examined
"DATA",160.16,12,"FIELD",84,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,33,"I")
"DATA",160.16,12,"FIELD",84,2)
BLANK
"DATA",160.16,12,"FIELD",84,3)
L,ZERO^830
"DATA",160.16,12,"FIELD",84,4)
REGIONAL LYMPH NODES EXAMINED (165.5,33)
"DATA",160.16,12,"FIELD",85,0)
543^13^555^EOD--Old 13 Digit
"DATA",160.16,12,"FIELD",85,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",85,2)
BLANK
"DATA",160.16,12,"FIELD",85,3)
L,BLANK^840
"DATA",160.16,12,"FIELD",86,0)
556^2^557^EOD--Old 2 Digit
"DATA",160.16,12,"FIELD",86,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",86,2)
BLANK
"DATA",160.16,12,"FIELD",86,3)
L,BLANK^850
"DATA",160.16,12,"FIELD",87,0)
558^4^561^EOD--Old 4 Digit
"DATA",160.16,12,"FIELD",87,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",87,2)
BLANK
"DATA",160.16,12,"FIELD",87,3)
L,BLANK^860
"DATA",160.16,12,"FIELD",88,0)
562^1^562^Coding System for EOD
"DATA",160.16,12,"FIELD",88,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3031231:"",1:4) K DATEDX
"DATA",160.16,12,"FIELD",88,2)
BLANK
"DATA",160.16,12,"FIELD",88,3)
L,BLANK^870
"DATA",160.16,12,"FIELD",88,4)
Blank = DATE DX 2004+; 4 = 10-Digit Extent of Disease, 1988 (1988+) 
"DATA",160.16,12,"FIELD",89,0)
563^2^564^TNM Path T
"DATA",160.16,12,"FIELD",89,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,85,"I") S:ACDANS'="" ACDANS=$S(ACDANS="1A1":"A1",ACDANS="1A2":"A2",ACDANS="1B1":"B1",ACDANS="1B2":"B2",1:ACDANS)
"DATA",160.16,12,"FIELD",89,2)
BLANK
"DATA",160.16,12,"FIELD",89,3)
R,BLANK^880
"DATA",160.16,12,"FIELD",89,4)
PATHOLOGIC T (165.5,85)
"DATA",160.16,12,"FIELD",90,0)
565^2^566^TNM Path N
"DATA",160.16,12,"FIELD",90,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,86,"I") S:ACDANS'="" ACDANS=$S(ACDANS="O(I+)":0,ACDANS="O(I-)":0,ACDANS="0(MOL+)":0,ACDANS="0(MOL-)":0,1:ACDANS)
"DATA",160.16,12,"FIELD",90,2)
BLANK
"DATA",160.16,12,"FIELD",90,3)
R,BLANK^890
"DATA",160.16,12,"FIELD",90,4)
PATHOLOGIC N (165.5,86)
"DATA",160.16,12,"FIELD",91,0)
567^2^568^TNM Path M
"DATA",160.16,12,"FIELD",91,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,87,"I")
"DATA",160.16,12,"FIELD",91,2)
BLANK
"DATA",160.16,12,"FIELD",91,3)
R,BLANK^900
"DATA",160.16,12,"FIELD",91,4)
PATHOLOGIC M (165.5,87)
"DATA",160.16,12,"FIELD",92,0)
569^2^570^TNM Path Stage Group
"DATA",160.16,12,"FIELD",92,1)
S ACDANS=$$SG~ONCACDU1(IEN,"P")
"DATA",160.16,12,"FIELD",92,2)
BLANK
"DATA",160.16,12,"FIELD",92,3)
R,BLANK^910
"DATA",160.16,12,"FIELD",92,4)
PATHOLOGIC STAGE GROUP (165.5,88)
"DATA",160.16,12,"FIELD",93,0)
571^1^571^TNM Path Descriptor
"DATA",160.16,12,"FIELD",93,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"P")
"DATA",160.16,12,"FIELD",93,2)
ZERO
"DATA",160.16,12,"FIELD",93,3)
L,ZERO^920
"DATA",160.16,12,"FIELD",93,4)
PATHOLOGIC TNM (165.5,89.1)
"DATA",160.16,12,"FIELD",94,0)
572^1^572^TNM Path Staged By
"DATA",160.16,12,"FIELD",94,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,89,"I")
"DATA",160.16,12,"FIELD",94,2)
NINE
"DATA",160.16,12,"FIELD",94,3)
L,BLANK^930
"DATA",160.16,12,"FIELD",94,4)
STAGED BY (PATHOLOGIC STAGE) (165.5,89)
"DATA",160.16,12,"FIELD",95,0)
573^2^574^TNM Clin T
"DATA",160.16,12,"FIELD",95,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.1,"I") S:ACDANS'="" ACDANS=$S(ACDANS="1A1":"A1",ACDANS="1A2":"A2",ACDANS="1B1":"B1",ACDANS="1B2":"B2",1:ACDANS)
"DATA",160.16,12,"FIELD",95,2)
BLANK
"DATA",160.16,12,"FIELD",95,3)
R,BLANK^940
"DATA",160.16,12,"FIELD",95,4)
CLINICAL T (165.5,37.1)
"DATA",160.16,12,"FIELD",96,0)
575^2^576^TNM Clin N
"DATA",160.16,12,"FIELD",96,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.2,"I")
"DATA",160.16,12,"FIELD",96,2)
BLANK
"DATA",160.16,12,"FIELD",96,3)
R,BLANK^950
"DATA",160.16,12,"FIELD",96,4)
CLINCIAL N (165.5,37.2)
"DATA",160.16,12,"FIELD",97,0)
577^2^578^TNM Clin M
"DATA",160.16,12,"FIELD",97,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.3,"I")
"DATA",160.16,12,"FIELD",97,2)
BLANK
"DATA",160.16,12,"FIELD",97,3)
R,BLANK^960
"DATA",160.16,12,"FIELD",97,4)
CLINCIAL M (165.5,37.3)
"DATA",160.16,12,"FIELD",98,0)
579^2^580^TNM Clin Stage Group
"DATA",160.16,12,"FIELD",98,1)
S ACDANS=$$SG~ONCACDU1(IEN,"C")
"DATA",160.16,12,"FIELD",98,2)
BLANK
"DATA",160.16,12,"FIELD",98,3)
R,BLANK^970
"DATA",160.16,12,"FIELD",98,4)
CLINICAL STAGE GROUP (165.5,38)
"DATA",160.16,12,"FIELD",99,0)
581^1^581^TNM Clin Descriptor
"DATA",160.16,12,"FIELD",99,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"C")
"DATA",160.16,12,"FIELD",99,2)
ZERO
"DATA",160.16,12,"FIELD",99,3)
L,ZERO^980
"DATA",160.16,12,"FIELD",99,4)
CLINICAL TNM (165.5,37)
"DATA",160.16,12,"FIELD",100,0)
582^1^582^TNM Clin Staged By
"DATA",160.16,12,"FIELD",100,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,19,"I")
"DATA",160.16,12,"FIELD",100,2)
NINE
"DATA",160.16,12,"FIELD",100,3)
L,BLANK^990
"DATA",160.16,12,"FIELD",100,4)
STAGED BY (CLINICAL STAGE) (165.5,19)
"DATA",160.16,12,"FIELD",101,0)
583^10^592^Reserved 30
"DATA",160.16,12,"FIELD",101,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",101,2)
BLANK
"DATA",160.16,12,"FIELD",101,3)
L,BLANK^995
"DATA",160.16,12,"FIELD",101,4)

"DATA",160.16,12,"FIELD",107,0)
593^2^594^TNM Edition Number
"DATA",160.16,12,"FIELD",107,1)
S ACDANS=$$TNMED~ONCOU55(IEN)
"DATA",160.16,12,"FIELD",107,2)
BLANK
"DATA",160.16,12,"FIELD",107,3)
L,ZERO^1060
"DATA",160.16,12,"FIELD",107,4)
DATE DX (165.5,3)
"DATA",160.16,12,"FIELD",108,0)
595^15^609^Reserved 31
"DATA",160.16,12,"FIELD",108,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",108,2)
BLANK
"DATA",160.16,12,"FIELD",108,3)
L,BLANK^1065
"DATA",160.16,12,"FIELD",108,4)

"DATA",160.16,12,"FIELD",109,0)
610^8^617^Date of 1st Positive BX
"DATA",160.16,12,"FIELD",109,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,137,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",109,2)
BLANK
"DATA",160.16,12,"FIELD",109,3)
L,BLANK^1080
"DATA",160.16,12,"FIELD",109,4)
DATE OF 1ST POSITIVE BIOPSY (165.5,137)
"DATA",160.16,12,"FIELD",110,0)
618^1^618^Site of Distant Met 1
"DATA",160.16,12,"FIELD",110,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34,"I")
"DATA",160.16,12,"FIELD",110,2)
BLANK
"DATA",160.16,12,"FIELD",110,3)
L,BLANK^1090
"DATA",160.16,12,"FIELD",110,4)
SITE OF DISTANT METASTASIS #1 (165.5,34)
"DATA",160.16,12,"FIELD",111,0)
619^1^619^Site of Distant Met 2
"DATA",160.16,12,"FIELD",111,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.1,"I")
"DATA",160.16,12,"FIELD",111,2)
BLANK
"DATA",160.16,12,"FIELD",111,3)
L,BLANK^1100
"DATA",160.16,12,"FIELD",111,4)
SITE OF DISTANT METASTASIS #2 (165.5,34.1)
"DATA",160.16,12,"FIELD",112,0)
620^1^620^Site of Distant Met 3
"DATA",160.16,12,"FIELD",112,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.2,"I")
"DATA",160.16,12,"FIELD",112,2)
BLANK
"DATA",160.16,12,"FIELD",112,3)
L,BLANK^1110
"DATA",160.16,12,"FIELD",112,4)
SITE OF DISTANT METASTASIS #3 (165.5,34.2)
"DATA",160.16,12,"FIELD",113,0)
621^2^622^Pediatric Stage
"DATA",160.16,12,"FIELD",113,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,850,"I")
"DATA",160.16,12,"FIELD",113,2)
BLANK
"DATA",160.16,12,"FIELD",113,3)
L,BLANK^1120
"DATA",160.16,12,"FIELD",113,4)
PEDIATRIC STAGE (165.5,850)
"DATA",160.16,12,"FIELD",114,0)
623^2^624^Pediatric Staging System
"DATA",160.16,12,"FIELD",114,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,849,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.6,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",114,2)
BLANK
"DATA",160.16,12,"FIELD",114,3)
L,BLANK^1130
"DATA",160.16,12,"FIELD",114,4)
TYPE OF STAGING SYSTEM (PED) (165.5,849)
"DATA",160.16,12,"FIELD",115,0)
625^1^625^Pediatric Staged By
"DATA",160.16,12,"FIELD",115,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,851,"I")
"DATA",160.16,12,"FIELD",115,2)
BLANK
"DATA",160.16,12,"FIELD",115,3)
L,BLANK^1140
"DATA",160.16,12,"FIELD",115,4)
STAGED BY (PEDIATRIC STAGE) (165.5,851)
"DATA",160.16,12,"FIELD",116,0)
626^1^626^Tumor Marker 1
"DATA",160.16,12,"FIELD",116,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",116,2)
BLANK
"DATA",160.16,12,"FIELD",116,3)
L,BLANK^1150
"DATA",160.16,12,"FIELD",116,4)
TUMOR MARKER 1 (165.5,25.1)
"DATA",160.16,12,"FIELD",117,0)
627^1^627^Tumor Marker 2
"DATA",160.16,12,"FIELD",117,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",117,2)
BLANK
"DATA",160.16,12,"FIELD",117,3)
L,BLANK^1160
"DATA",160.16,12,"FIELD",117,4)
TUMOR MARKER 2 (165.5,25.2)
"DATA",160.16,12,"FIELD",118,0)
628^1^628^Tumor Marker 3
"DATA",160.16,12,"FIELD",118,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",118,2)
BLANK
"DATA",160.16,12,"FIELD",118,3)
L,BLANK^1170
"DATA",160.16,12,"FIELD",118,4)
TUMOR MARKER 3 (165.5,25.3)
"DATA",160.16,12,"FIELD",119,0)
717^5^721^Comorbid/Complication 7
"DATA",160.16,12,"FIELD",119,1)
D CC~ONCACDU1 S ACDANS=CCEX(7)
"DATA",160.16,12,"FIELD",119,2)
BLANK
"DATA",160.16,12,"FIELD",119,3)
R,ZERO^3161
"DATA",160.16,12,"FIELD",119,4)
COMORBIDITY/COMPLICATION #7 (160,25.6)
"DATA",160.16,12,"FIELD",121,0)
755^8^762^RX Date--Surgery
"DATA",160.16,12,"FIELD",121,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"))
"DATA",160.16,12,"FIELD",121,2)
BLANK
"DATA",160.16,12,"FIELD",121,3)
L,BLANK^1200
"DATA",160.16,12,"FIELD",121,4)
DATE FIRST SURGICAL PROCEDURE (165.5,170)
"DATA",160.16,12,"FIELD",122,0)
779^8^786^RX Date--Radiation
"DATA",160.16,12,"FIELD",122,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"))
"DATA",160.16,12,"FIELD",122,2)
BLANK
"DATA",160.16,12,"FIELD",122,3)
L,BLANK^1210
"DATA",160.16,12,"FIELD",122,4)
DATE RADIATION STARTED (165.5,51)
"DATA",160.16,12,"FIELD",123,0)
803^8^810^RX Date--Chemo
"DATA",160.16,12,"FIELD",123,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"))
"DATA",160.16,12,"FIELD",123,2)
BLANK
"DATA",160.16,12,"FIELD",123,3)
L,BLANK^1220
"DATA",160.16,12,"FIELD",123,4)
CHEMOTHERAPY DATE (165.5,53)
"DATA",160.16,12,"FIELD",124,0)
811^8^818^RX Date--Hormone
"DATA",160.16,12,"FIELD",124,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"))
"DATA",160.16,12,"FIELD",124,2)
BLANK
"DATA",160.16,12,"FIELD",124,3)
L,BLANK^1230
"DATA",160.16,12,"FIELD",124,4)
HORMONE THERAPY DATE (165.5,54)
"DATA",160.16,12,"FIELD",125,0)
819^8^826^RX Date--BRM
"DATA",160.16,12,"FIELD",125,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"))
"DATA",160.16,12,"FIELD",125,2)
BLANK
"DATA",160.16,12,"FIELD",125,3)
L,BLANK^1240
"DATA",160.16,12,"FIELD",125,4)
IMMUNOTHERAPY DATE (165.5,55)
"DATA",160.16,12,"FIELD",126,0)
827^8^834^RX Date--Other
"DATA",160.16,12,"FIELD",126,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"))
"DATA",160.16,12,"FIELD",126,2)
BLANK
"DATA",160.16,12,"FIELD",126,3)
L,BLANK^1250
"DATA",160.16,12,"FIELD",126,4)
OTHER TREATMENT START DATE (165.5,57)
"DATA",160.16,12,"FIELD",127,0)
835^8^842^Date of Initial RX--SEER
"DATA",160.16,12,"FIELD",127,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",127,2)
BLANK
"DATA",160.16,12,"FIELD",127,3)
L,ZERO^1260
"DATA",160.16,12,"FIELD",127,4)

"DATA",160.16,12,"FIELD",128,0)
843^8^850^Date of 1st Crs RX--COC
"DATA",160.16,12,"FIELD",128,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,49,"E") S:ACDANS'="" ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,12,"FIELD",128,2)
BLANK
"DATA",160.16,12,"FIELD",128,3)
L,ZERO^1270
"DATA",160.16,12,"FIELD",128,4)
FIRST COURSE OF TREATMENT DATE (165.5,49)
"DATA",160.16,12,"FIELD",129,0)
851^8^858^RX Date--DX/Stg Proc
"DATA",160.16,12,"FIELD",129,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.3,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",129,2)
BLANK
"DATA",160.16,12,"FIELD",129,3)
L,ZERO^1280
"DATA",160.16,12,"FIELD",129,4)
SURGICAL DX/STAGING PROC DATE (165.5,58.3)
"DATA",160.16,12,"FIELD",130,0)
859^2^860^RX Summ--Surg Prim Site
"DATA",160.16,12,"FIELD",130,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.6,"SPS")
"DATA",160.16,12,"FIELD",130,2)
NINE
"DATA",160.16,12,"FIELD",130,3)
L,ZERO^1290
"DATA",160.16,12,"FIELD",130,4)
SURGERY OF PRIMARY (F) (165.5,58.6)
"DATA",160.16,12,"FIELD",132,0)
865^1^865^RX Summ--Surgical Approch
"DATA",160.16,12,"FIELD",132,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,74,"SUA"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,12,"FIELD",132,2)
NINE
"DATA",160.16,12,"FIELD",132,3)
L,BLANK^1310
"DATA",160.16,12,"FIELD",132,4)
SURGICAL APPROACH (R) (165.5,74)
"DATA",160.16,12,"FIELD",133,0)
866^1^866^RX Summ--Surgical Margins
"DATA",160.16,12,"FIELD",133,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,59,"I")
"DATA",160.16,12,"FIELD",133,2)
BLANK
"DATA",160.16,12,"FIELD",133,3)
L,BLANK^1320
"DATA",160.16,12,"FIELD",133,4)
SURGICAL MARGINS (165.5,59)
"DATA",160.16,12,"FIELD",134,0)
867^1^867^RX Summ--Reconstruct 1st
"DATA",160.16,12,"FIELD",134,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,23,"RR5"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,12,"FIELD",134,2)
BLANK
"DATA",160.16,12,"FIELD",134,3)
L,BLANK^1330
"DATA",160.16,12,"FIELD",134,4)
RECONSTRUCTION/RESTORATION (165.5,23)
"DATA",160.16,12,"FIELD",135,0)
868^1^868^Reason for No Surgery
"DATA",160.16,12,"FIELD",135,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58,"I")
"DATA",160.16,12,"FIELD",135,2)
BLANK
"DATA",160.16,12,"FIELD",135,3)
L,BLANK^1340
"DATA",160.16,12,"FIELD",135,4)
REASON FOR NO SURGERY (165.5,58)
"DATA",160.16,12,"FIELD",136,0)
869^2^870^RX Summ--DX/Stg Proc
"DATA",160.16,12,"FIELD",136,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.1,"I")
"DATA",160.16,12,"FIELD",136,2)
ZNINE
"DATA",160.16,12,"FIELD",136,3)
L,ZERO^1350
"DATA",160.16,12,"FIELD",136,4)
SURGICAL DX/STAGING PROC (165.5,58.1)
"DATA",160.16,12,"FIELD",137,0)
873^1^873^RX Summ--Radiation
"DATA",160.16,12,"FIELD",137,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.2,"I")
"DATA",160.16,12,"FIELD",137,2)
BLANK
"DATA",160.16,12,"FIELD",137,3)
L,ZERO^1360
"DATA",160.16,12,"FIELD",137,4)
RADIATION (165.5,51.2)
"DATA",160.16,12,"FIELD",138,0)
874^1^874^RX Summ--Rad to CNS
"DATA",160.16,12,"FIELD",138,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,52.2,"I")
"DATA",160.16,12,"FIELD",138,2)
BLANK
"DATA",160.16,12,"FIELD",138,3)
L,ZERO^1370
"DATA",160.16,12,"FIELD",138,4)
RADIATION THERAPY TO CNS (165.5,52.2)
"DATA",160.16,12,"FIELD",139,0)
875^1^875^RX Summ--Surg/Rad Seq
"DATA",160.16,12,"FIELD",139,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.3,"I")
"DATA",160.16,12,"FIELD",139,2)
BLANK
"DATA",160.16,12,"FIELD",139,3)
L,ZERO^1380
"DATA",160.16,12,"FIELD",139,4)
RADIATION/SURGERY SEQUENCE (165.5,51.3)
"DATA",160.16,12,"FIELD",140,0)
878^2^879^RX Summ--Chemo
"DATA",160.16,12,"FIELD",140,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.2,"I")
"DATA",160.16,12,"FIELD",140,2)
NINE
"DATA",160.16,12,"FIELD",140,3)
L,BLANK^1390
"DATA",160.16,12,"FIELD",140,4)
CHEMOTHERAPY (165.5,53.2)
"DATA",160.16,12,"FIELD",141,0)
880^2^881^RX Summ--Hormone
"DATA",160.16,12,"FIELD",141,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.2,"I")
"DATA",160.16,12,"FIELD",141,2)
NINE
"DATA",160.16,12,"FIELD",141,3)
L,BLANK^1400
"DATA",160.16,12,"FIELD",141,4)
HORMONE THERAPY (165.5,54.2)
"DATA",160.16,12,"FIELD",142,0)
882^2^883^RX Summ--BRM
"DATA",160.16,12,"FIELD",142,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.2,"I")
"DATA",160.16,12,"FIELD",142,2)
NINE
"DATA",160.16,12,"FIELD",142,3)
L,BLANK^1410
"DATA",160.16,12,"FIELD",142,4)
IMMUNOTHERAPY (165.5,55.2)
"DATA",160.16,12,"FIELD",143,0)
884^1^884^RX Summ--Other
"DATA",160.16,12,"FIELD",143,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.2,"I")
"DATA",160.16,12,"FIELD",143,2)
BLANK
"DATA",160.16,12,"FIELD",143,3)
L,ZERO^1420
"DATA",160.16,12,"FIELD",143,4)
OTHER TREATMENT (165.5,57.2)
"DATA",160.16,12,"FIELD",144,0)
885^1^885^Reason for No Radiation
"DATA",160.16,12,"FIELD",144,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,75,"I")
"DATA",160.16,12,"FIELD",144,2)
NINE
"DATA",160.16,12,"FIELD",144,3)
L,BLANK^1430
"DATA",160.16,12,"FIELD",144,4)
REASON FOR NO RADIATION (165.5,75)
"DATA",160.16,12,"FIELD",145,0)
886^2^887^Reserved 32
"DATA",160.16,12,"FIELD",145,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",145,2)
BLANK
"DATA",160.16,12,"FIELD",145,3)
L,BLANK^1435
"DATA",160.16,12,"FIELD",145,4)

"DATA",160.16,12,"FIELD",147,0)
888^2^889^RX Coding System--Current
"DATA",160.16,12,"FIELD",147,1)
S ACDANS="06"
"DATA",160.16,12,"FIELD",147,2)
BLANK
"DATA",160.16,12,"FIELD",147,3)
L,ZERO^1460
"DATA",160.16,12,"FIELD",147,4)
06 Treatment data coded according to FORDS manual
"DATA",160.16,12,"FIELD",151,0)
894^1^894^First Course Calc Method
"DATA",160.16,12,"FIELD",151,1)
S ACDANS=1
"DATA",160.16,12,"FIELD",151,2)
BLANK
"DATA",160.16,12,"FIELD",151,3)
L,BLANK^1500
"DATA",160.16,12,"FIELD",151,4)
1 COC definitions
"DATA",160.16,12,"FIELD",152,0)
895^5^899^Rad--Regional Dose:cGy
"DATA",160.16,12,"FIELD",152,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,442,"I")
"DATA",160.16,12,"FIELD",152,2)
NINE
"DATA",160.16,12,"FIELD",152,3)
L,ZERO^1510
"DATA",160.16,12,"FIELD",152,4)
REGIONAL DOSE: cGy (165.5,442)
"DATA",160.16,12,"FIELD",153,0)
900^2^901^Rad--No of Treatment Vol
"DATA",160.16,12,"FIELD",153,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,56,"I")
"DATA",160.16,12,"FIELD",153,2)
NINE
"DATA",160.16,12,"FIELD",153,3)
L,ZERO^1520
"DATA",160.16,12,"FIELD",153,4)
NUMBER OF TXS TO THIS VOLUME (165.5,56)
"DATA",160.16,12,"FIELD",154,0)
902^3^904^Reserved 34
"DATA",160.16,12,"FIELD",154,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",154,2)
BLANK
"DATA",160.16,12,"FIELD",154,3)
L,BLANK^1535
"DATA",160.16,12,"FIELD",155,0)
905^2^906^Rad--Treatment Volume
"DATA",160.16,12,"FIELD",155,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,125,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.7,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",155,2)
NINE
"DATA",160.16,12,"FIELD",155,3)
L,ZERO^1540
"DATA",160.16,12,"FIELD",155,4)
RADIATION TREATMENT VOLUME (165.5,125)
"DATA",160.16,12,"FIELD",156,0)
907^1^907^Rad--Location of RX
"DATA",160.16,12,"FIELD",156,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,126,"I")
"DATA",160.16,12,"FIELD",156,2)
NINE
"DATA",160.16,12,"FIELD",156,3)
L,BLANK^1550
"DATA",160.16,12,"FIELD",156,4)
LOCATION OF RADIATION TX (165.5,126)
"DATA",160.16,12,"FIELD",157,0)
908^1^908^Reserved 35
"DATA",160.16,12,"FIELD",157,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",157,2)
BLANK
"DATA",160.16,12,"FIELD",157,3)
L,BLANK^1555
"DATA",160.16,12,"FIELD",157,4)

"DATA",160.16,12,"FIELD",158,0)
909^2^910^Rad--Regional RX Modality
"DATA",160.16,12,"FIELD",158,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",158,2)
BLANK
"DATA",160.16,12,"FIELD",158,3)
L,ZERO^1570
"DATA",160.16,12,"FIELD",158,4)
REGIONAL TREATMENT MODALITY (165.5,363)
"DATA",160.16,12,"FIELD",159,0)
918^13^930^Reserved 23
"DATA",160.16,12,"FIELD",159,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",159,2)
BLANK
"DATA",160.16,12,"FIELD",159,3)
L,BLANK^1635
"DATA",160.16,12,"FIELD",159,4)

"DATA",160.16,12,"FIELD",164,0)
931^1^931^RX Summ--Systemic Sur Seq
"DATA",160.16,12,"FIELD",164,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,15,"I")
"DATA",160.16,12,"FIELD",164,2)
BLANK
"DATA",160.16,12,"FIELD",164,3)
L,BLANK^1639
"DATA",160.16,12,"FIELD",164,4)
SYSTEMIC/SURGERY SEQUENCE (165.5,15)
"DATA",160.16,12,"FIELD",165,0)
932^2^933^RX Summ--Surgery Type
"DATA",160.16,12,"FIELD",165,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",165,2)
BLANK
"DATA",160.16,12,"FIELD",165,3)
L,BLANK^1640
"DATA",160.16,12,"FIELD",166,0)
943^45^987^Reserved 06
"DATA",160.16,12,"FIELD",166,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",166,2)
BLANK
"DATA",160.16,12,"FIELD",166,3)
L,BLANK^1190
"DATA",160.16,12,"FIELD",167,0)
988^8^995^Subsq RX 2nd Course Date
"DATA",160.16,12,"FIELD",167,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",167,2)
ZERO
"DATA",160.16,12,"FIELD",167,3)
L,BLANK^1660
"DATA",160.16,12,"FIELD",167,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,12,"FIELD",168,0)
996^2^997^Subsq RX 2nd Course Surg
"DATA",160.16,12,"FIELD",168,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.04)
"DATA",160.16,12,"FIELD",168,2)
BLANK
"DATA",160.16,12,"FIELD",168,3)
L,ZERO^1671
"DATA",160.16,12,"FIELD",168,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,12,"FIELD",169,0)
998^1^998^Subsq RX 2nd Course Rad
"DATA",160.16,12,"FIELD",169,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.05)
"DATA",160.16,12,"FIELD",169,2)
BLANK
"DATA",160.16,12,"FIELD",169,3)
L,BLANK^1672
"DATA",160.16,12,"FIELD",169,4)
RADIATION (165.51,.05)
"DATA",160.16,12,"FIELD",170,0)
999^1^999^Subsq RX 2nd Course Chemo
"DATA",160.16,12,"FIELD",170,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.06)
"DATA",160.16,12,"FIELD",170,2)
BLANK
"DATA",160.16,12,"FIELD",170,3)
L,BLANK^1673
"DATA",160.16,12,"FIELD",170,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,12,"FIELD",171,0)
1000^1^1000^Subsq RX 2nd Course Horm
"DATA",160.16,12,"FIELD",171,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.07)
"DATA",160.16,12,"FIELD",171,2)
BLANK
"DATA",160.16,12,"FIELD",171,3)
L,BLANK^1674
"DATA",160.16,12,"FIELD",171,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,12,"FIELD",172,0)
1001^1^1001^Subsq RX 2nd Course BRM
"DATA",160.16,12,"FIELD",172,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.08)
"DATA",160.16,12,"FIELD",172,2)
BLANK
"DATA",160.16,12,"FIELD",172,3)
L,BLANK^1675
"DATA",160.16,12,"FIELD",172,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,12,"FIELD",173,0)
1002^1^1002^Subsq RX 2nd Course Oth
"DATA",160.16,12,"FIELD",173,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.09)
"DATA",160.16,12,"FIELD",173,2)
BLANK
"DATA",160.16,12,"FIELD",173,3)
L,BLANK^1676
"DATA",160.16,12,"FIELD",173,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,12,"FIELD",174,0)
1003^8^1010^Subsq RX 3rd Course Date
"DATA",160.16,12,"FIELD",174,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",174,2)
ZERO
"DATA",160.16,12,"FIELD",174,3)
L,BLANK^1680
"DATA",160.16,12,"FIELD",174,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,12,"FIELD",175,0)
1011^2^1012^Subsq RX 3rd Course Surg
"DATA",160.16,12,"FIELD",175,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.04)
"DATA",160.16,12,"FIELD",175,2)
BLANK
"DATA",160.16,12,"FIELD",175,3)
L,ZERO^1691
"DATA",160.16,12,"FIELD",175,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,12,"FIELD",176,0)
1013^1^1013^Subsq RX 3rd Course Rad
"DATA",160.16,12,"FIELD",176,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.05)
"DATA",160.16,12,"FIELD",176,2)
BLANK
"DATA",160.16,12,"FIELD",176,3)
L,BLANK^1692
"DATA",160.16,12,"FIELD",176,4)
RADIATION (165.51,.05)
"DATA",160.16,12,"FIELD",177,0)
1014^1^1014^Subsq RX 3rd Course Chemo
"DATA",160.16,12,"FIELD",177,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.06)
"DATA",160.16,12,"FIELD",177,2)
BLANK
"DATA",160.16,12,"FIELD",177,3)
L,BLANK^1693
"DATA",160.16,12,"FIELD",177,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,12,"FIELD",178,0)
1015^1^1015^Subsq RX 3rd Course Horm
"DATA",160.16,12,"FIELD",178,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.07)
"DATA",160.16,12,"FIELD",178,2)
BLANK
"DATA",160.16,12,"FIELD",178,3)
L,BLANK^1694
"DATA",160.16,12,"FIELD",178,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,12,"FIELD",179,0)
1016^1^1016^Subsq RX 3rd Course BRM
"DATA",160.16,12,"FIELD",179,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.08)
"DATA",160.16,12,"FIELD",179,2)
BLANK
"DATA",160.16,12,"FIELD",179,3)
L,BLANK^1695
"DATA",160.16,12,"FIELD",179,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,12,"FIELD",180,0)
1017^1^1017^Subsq RX 3rd Course Oth
"DATA",160.16,12,"FIELD",180,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.09)
"DATA",160.16,12,"FIELD",180,2)
BLANK
"DATA",160.16,12,"FIELD",180,3)
L,BLANK^1696
"DATA",160.16,12,"FIELD",180,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,12,"FIELD",181,0)
1018^8^1025^Subsq RX 4th Course Date
"DATA",160.16,12,"FIELD",181,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",181,2)
ZERO
"DATA",160.16,12,"FIELD",181,3)
L,BLANK^1700
"DATA",160.16,12,"FIELD",181,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,12,"FIELD",182,0)
1026^2^1027^Subsq RX 4th Course Surg
"DATA",160.16,12,"FIELD",182,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.04)
"DATA",160.16,12,"FIELD",182,2)
BLANK
"DATA",160.16,12,"FIELD",182,3)
L,ZERO^1711
"DATA",160.16,12,"FIELD",182,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,12,"FIELD",183,0)
1028^1^1028^Subsq RX 4th Course Rad
"DATA",160.16,12,"FIELD",183,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.05)
"DATA",160.16,12,"FIELD",183,2)
BLANK
"DATA",160.16,12,"FIELD",183,3)
L,BLANK^1712
"DATA",160.16,12,"FIELD",183,4)
RADIATION (165.51,.05)
"DATA",160.16,12,"FIELD",184,0)
1029^1^1029^Subsq RX 4th Course Chemo
"DATA",160.16,12,"FIELD",184,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.06)
"DATA",160.16,12,"FIELD",184,2)
BLANK
"DATA",160.16,12,"FIELD",184,3)
L,BLANK^1713
"DATA",160.16,12,"FIELD",184,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,12,"FIELD",185,0)
1030^1^1030^Subsq RX 4th Course Horm
"DATA",160.16,12,"FIELD",185,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.07)
"DATA",160.16,12,"FIELD",185,2)
BLANK
"DATA",160.16,12,"FIELD",185,3)
L,BLANK^1714
"DATA",160.16,12,"FIELD",185,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,12,"FIELD",186,0)
1031^1^1031^Subsq RX 4th Course BRM
"DATA",160.16,12,"FIELD",186,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.08)
"DATA",160.16,12,"FIELD",186,2)
BLANK
"DATA",160.16,12,"FIELD",186,3)
L,BLANK^1715
"DATA",160.16,12,"FIELD",186,4)
IMMUNOTHERAPY (165.5,.08)
"DATA",160.16,12,"FIELD",187,0)
1032^1^1032^Subsq RX 4th Course Oth
"DATA",160.16,12,"FIELD",187,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.09)
"DATA",160.16,12,"FIELD",187,2)
BLANK
"DATA",160.16,12,"FIELD",187,3)
L,BLANK^1716
"DATA",160.16,12,"FIELD",187,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,12,"FIELD",188,0)
1033^15^1047^Reserved 37
"DATA",160.16,12,"FIELD",188,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",188,2)
BLANK
"DATA",160.16,12,"FIELD",188,3)
L,BLANK^1725
"DATA",160.16,12,"FIELD",188,4)

"DATA",160.16,12,"FIELD",195,0)
1065^50^1114^Reserved 07
"DATA",160.16,12,"FIELD",195,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",195,2)
BLANK
"DATA",160.16,12,"FIELD",195,3)
L,BLANK^1300
"DATA",160.16,12,"FIELD",196,0)
1294^8^1301^Date of Last Contact
"DATA",160.16,12,"FIELD",196,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",196,2)
BLANK
"DATA",160.16,12,"FIELD",196,3)
L,ZERO^1750
"DATA",160.16,12,"FIELD",196,4)
DATE OF LAST CONTACT OR DEATH (160.04,.01)
"DATA",160.16,12,"FIELD",197,0)
1302^1^1302^Vital Status
"DATA",160.16,12,"FIELD",197,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,1),VS=ACDANS
"DATA",160.16,12,"FIELD",197,2)
BLANK
"DATA",160.16,12,"FIELD",197,3)
L,BLANK^1760
"DATA",160.16,12,"FIELD",197,4)
VITAL STATUS (160.04,1)
"DATA",160.16,12,"FIELD",198,0)
1303^1^1303^Cancer Status
"DATA",160.16,12,"FIELD",198,1)
S ACDANS=$$CS~ONCACDU2(IEN)
"DATA",160.16,12,"FIELD",198,2)
BLANK
"DATA",160.16,12,"FIELD",198,3)
L,BLANK^1770
"DATA",160.16,12,"FIELD",198,4)
CANCER STATUS (165.573,.02)
"DATA",160.16,12,"FIELD",199,0)
1304^1^1304^Quality of Survival
"DATA",160.16,12,"FIELD",199,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,4)
"DATA",160.16,12,"FIELD",199,2)
BLANK
"DATA",160.16,12,"FIELD",199,3)
L,BLANK^1780
"DATA",160.16,12,"FIELD",199,4)
QUALITY OF SURVIVAL (160.04,4)
"DATA",160.16,12,"FIELD",200,0)
1305^1^1305^Follow-Up Source
"DATA",160.16,12,"FIELD",200,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,3)
"DATA",160.16,12,"FIELD",200,2)
BLANK
"DATA",160.16,12,"FIELD",200,3)
L,BLANK^1790
"DATA",160.16,12,"FIELD",200,4)
FOLLOW-UP SOURCE (160.04,3)
"DATA",160.16,12,"FIELD",201,0)
1306^1^1306^Next Follow-up Source
"DATA",160.16,12,"FIELD",201,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,6)
"DATA",160.16,12,"FIELD",201,2)
BLANK
"DATA",160.16,12,"FIELD",201,3)
L,BLANK^1800
"DATA",160.16,12,"FIELD",201,4)
NEXT FOLLOW-UP SOURCE (160.04,6)
"DATA",160.16,12,"FIELD",202,0)
1307^20^1326^Addr Current--City
"DATA",160.16,12,"FIELD",202,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160)
"DATA",160.16,12,"FIELD",202,2)
BLANK
"DATA",160.16,12,"FIELD",202,3)
R,BLANK^1810
"DATA",160.16,12,"FIELD",202,4)
CITY (2,.114)
"DATA",160.16,12,"FIELD",203,0)
1327^2^1328^Addr Current--State
"DATA",160.16,12,"FIELD",203,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160)
"DATA",160.16,12,"FIELD",203,2)
BLANK
"DATA",160.16,12,"FIELD",203,3)
R,BLANK^1820
"DATA",160.16,12,"FIELD",203,4)
STATE (2,.115)
"DATA",160.16,12,"FIELD",204,0)
1329^9^1337^Addr Current--Postal Code
"DATA",160.16,12,"FIELD",204,1)
S ACDANS=$$ZIP~ONCACDU1(ACD160) S:ACDANS=75999 ACDANS=999999999
"DATA",160.16,12,"FIELD",204,2)
BLANK
"DATA",160.16,12,"FIELD",204,3)
R,BLANK^1830
"DATA",160.16,12,"FIELD",204,4)
ZIP CODE (2,.116)
"DATA",160.16,12,"FIELD",206,0)
1341^1^1341^Unusual Follow-Up Method
"DATA",160.16,12,"FIELD",206,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,7)
"DATA",160.16,12,"FIELD",206,2)
BLANK
"DATA",160.16,12,"FIELD",206,3)
L,BLANK^1850
"DATA",160.16,12,"FIELD",206,4)
UNUSUAL FOLLOW-UP METHOD (160.04,7)
"DATA",160.16,12,"FIELD",207,0)
1342^8^1349^Recurrence Date--1st
"DATA",160.16,12,"FIELD",207,1)
S RT=$$GET1~DIQ(165.5,IEN,71,"I") S:RT'="" RT=$$GET1~DIQ(160.12,RT,.01,"I") S ACDANS=$$GET1~DIQ(165.5,IEN,70,"I") S ACDANS=$S(ACDANS'="":$$DATE~ONCACDU1(ACDANS),(RT="00")!(RT=70):"00000000",1:"") K RT
"DATA",160.16,12,"FIELD",207,2)
NINE
"DATA",160.16,12,"FIELD",207,3)
L,NINE^1860
"DATA",160.16,12,"FIELD",207,4)
DATE OF FIRST RECURRENCE (165.5,70)
"DATA",160.16,12,"FIELD",208,0)
1350^1^1350^Recurrence Distant Site 1
"DATA",160.16,12,"FIELD",208,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.1,"I")
"DATA",160.16,12,"FIELD",208,2)
BLANK
"DATA",160.16,12,"FIELD",208,3)
L,BLANK^1871
"DATA",160.16,12,"FIELD",208,4)
DISTANT SITE 1 (165.5,71.1)
"DATA",160.16,12,"FIELD",209,0)
1353^2^1354^Recurrence Type--1st
"DATA",160.16,12,"FIELD",209,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.12,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",209,2)
NINE
"DATA",160.16,12,"FIELD",209,3)
L,ZERO^1880
"DATA",160.16,12,"FIELD",209,4)
TYPE OF FIRST RECURRENCE (165.5,71)
"DATA",160.16,12,"FIELD",210,0)
1355^2^1356^Reserved 39
"DATA",160.16,12,"FIELD",210,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",210,2)
BLANK
"DATA",160.16,12,"FIELD",210,3)
L,BLANK^1895
"DATA",160.16,12,"FIELD",210,4)

"DATA",160.16,12,"FIELD",211,0)
1338^3^1340^County--Current
"DATA",160.16,12,"FIELD",211,1)
S ACDANS=$$CCOUNTY~ONCACDU2(ACD160)
"DATA",160.16,12,"FIELD",211,2)
BLANK
"DATA",160.16,12,"FIELD",211,3)
L,BLANK^1840
"DATA",160.16,12,"FIELD",213,0)
1388^4^1391^Cause of Death
"DATA",160.16,12,"FIELD",213,1)
S ACDANS=$$GET1~DIQ(160,ACD160,19,"I") S:ACDANS'="" ACDANS=$$ICD~ONCACDU2(ACDANS) S:ACDANS="" ACDANS=$$GET1~DIQ(160,ACD160,19.1,"I") I ACDANS="",VS=1 S ACDANS="0000"
"DATA",160.16,12,"FIELD",213,2)
BLANK
"DATA",160.16,12,"FIELD",213,3)
L,ZERO^1910
"DATA",160.16,12,"FIELD",213,4)
CAUSE OF DEATH (160,19)
"DATA",160.16,12,"FIELD",214,0)
1392^1^1392^ICD Revision Number
"DATA",160.16,12,"FIELD",214,1)
S ACDANS=$$ICDR~ONCACDU2($$GET1~DIQ(160,ACD160,19,"I")) I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,12,"FIELD",214,2)
BLANK
"DATA",160.16,12,"FIELD",214,3)
L,ZERO^1920
"DATA",160.16,12,"FIELD",214,4)
CAUSE OF DEATH (160,19), ICD REVISION (160,20)
"DATA",160.16,12,"FIELD",215,0)
1393^1^1393^Autopsy
"DATA",160.16,12,"FIELD",215,1)
S ACDANS=$$GET1~DIQ(160,ACD160,22.9,"I") I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,12,"FIELD",215,2)
BLANK
"DATA",160.16,12,"FIELD",215,3)
L,BLANK^1930
"DATA",160.16,12,"FIELD",215,4)
AUTOPSY (160,22.9)
"DATA",160.16,12,"FIELD",216,0)
1394^3^1396^Place of Death
"DATA",160.16,12,"FIELD",216,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,.02,"I") I ACDANS="",VS=1 S ACDANS=997
"DATA",160.16,12,"FIELD",216,2)
BLANK
"DATA",160.16,12,"FIELD",216,3)
L,BLANK^1940
"DATA",160.16,12,"FIELD",216,4)
PLACE OF DEATH (160,21)
"DATA",160.16,12,"FIELD",218,0)
1137^4^1140^Site (73-91) ICD-O-1
"DATA",160.16,12,"FIELD",218,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",218,2)
BLANK
"DATA",160.16,12,"FIELD",218,3)
L,BLANK^1960
"DATA",160.16,12,"FIELD",219,0)
1141^6^1146^Morph (73-91) ICD-O-1
"DATA",160.16,12,"FIELD",219,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",219,2)
BLANK
"DATA",160.16,12,"FIELD",219,3)
L,BLANK^1970
"DATA",160.16,12,"FIELD",220,0)
1147^1^1147^ICD-O-2 Conversion Flag
"DATA",160.16,12,"FIELD",220,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:4,1:"") K DATEDX
"DATA",160.16,12,"FIELD",220,2)
BLANK
"DATA",160.16,12,"FIELD",220,3)
L,BLANK^1980
"DATA",160.16,12,"FIELD",221,0)
1124^1^1124^Over-ride Age/Site/Morph
"DATA",160.16,12,"FIELD",221,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,205,"I")
"DATA",160.16,12,"FIELD",221,2)
BLANK
"DATA",160.16,12,"FIELD",221,3)
L,BLANK^1990
"DATA",160.16,12,"FIELD",221,4)
OVERRIDE AGE/SITE/MORPH (165.5,205)
"DATA",160.16,12,"FIELD",222,0)
1125^1^1125^Over-ride SeqNo/DxConf
"DATA",160.16,12,"FIELD",222,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,206,"I")
"DATA",160.16,12,"FIELD",222,2)
BLANK
"DATA",160.16,12,"FIELD",222,3)
L,BLANK^2000
"DATA",160.16,12,"FIELD",222,4)
OVERRIDE SEQNO/DXCONF (165.5,206)
"DATA",160.16,12,"FIELD",223,0)
1126^1^1126^Over-ride Site/Lat/SeqNo
"DATA",160.16,12,"FIELD",223,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,207,"I")
"DATA",160.16,12,"FIELD",223,2)
BLANK
"DATA",160.16,12,"FIELD",223,3)
L,BLANK^2010
"DATA",160.16,12,"FIELD",223,4)
OVERRIDE SITE/LAT/SEQNO (165.5,207)
"DATA",160.16,12,"FIELD",224,0)
1127^1^1127^Over-ride Surg/DxConf
"DATA",160.16,12,"FIELD",224,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,208,"I")
"DATA",160.16,12,"FIELD",224,2)
BLANK
"DATA",160.16,12,"FIELD",224,3)
L,BLANK^2020
"DATA",160.16,12,"FIELD",224,4)
OVERRIDE SURG/DXCONF (165.5,208)
"DATA",160.16,12,"FIELD",225,0)
1128^1^1128^Over-ride Site/Type
"DATA",160.16,12,"FIELD",225,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,209,"I")
"DATA",160.16,12,"FIELD",225,2)
BLANK
"DATA",160.16,12,"FIELD",225,3)
L,BLANK^2030
"DATA",160.16,12,"FIELD",225,4)
OVERRIDE SITE/TYPE (165.5,209)
"DATA",160.16,12,"FIELD",226,0)
1129^1^1129^Over-ride Histology
"DATA",160.16,12,"FIELD",226,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,210,"I")
"DATA",160.16,12,"FIELD",226,2)
BLANK
"DATA",160.16,12,"FIELD",226,3)
L,BLANK^2040
"DATA",160.16,12,"FIELD",226,4)
OVERRIDE HISTOLOGY (165.5,210)
"DATA",160.16,12,"FIELD",227,0)
1130^1^1130^Over-ride Report Source
"DATA",160.16,12,"FIELD",227,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,211,"I")
"DATA",160.16,12,"FIELD",227,2)
BLANK
"DATA",160.16,12,"FIELD",227,3)
L,BLANK^2050
"DATA",160.16,12,"FIELD",227,4)
OVERRIDE REPORT SOURCE (165.5,211)
"DATA",160.16,12,"FIELD",228,0)
1131^1^1131^Over-ride Ill-define Site
"DATA",160.16,12,"FIELD",228,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,212,"I")
"DATA",160.16,12,"FIELD",228,2)
BLANK
"DATA",160.16,12,"FIELD",228,3)
L,BLANK^2060
"DATA",160.16,12,"FIELD",228,4)
OVERRIDE ILL-DEFINE SITE (165.5,212)
"DATA",160.16,12,"FIELD",229,0)
1132^1^1132^Over-ride Leuk, Lymphoma
"DATA",160.16,12,"FIELD",229,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,213,"I")
"DATA",160.16,12,"FIELD",229,2)
BLANK
"DATA",160.16,12,"FIELD",229,3)
L,BLANK^2070
"DATA",160.16,12,"FIELD",229,4)
OVERRIDE LEUK,LYMPHOMA (165.5,213)
"DATA",160.16,12,"FIELD",231,0)
1174^8^1181^Date Case Completed
"DATA",160.16,12,"FIELD",231,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,90,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",231,2)
BLANK
"DATA",160.16,12,"FIELD",231,3)
L,BLANK^2090
"DATA",160.16,12,"FIELD",231,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,12,"FIELD",232,0)
1182^8^1189^Date Case Last Changed
"DATA",160.16,12,"FIELD",232,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,198,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",232,2)
BLANK
"DATA",160.16,12,"FIELD",232,3)
L,BLANK^2100
"DATA",160.16,12,"FIELD",232,4)
DATE CASE LAST CHANGED (165.5,198)
"DATA",160.16,12,"FIELD",233,0)
1190^8^1197^Date Case Report Exported
"DATA",160.16,12,"FIELD",233,1)
S ACDANS="" Q:$G(EXPORT)'="YES"  S:$G(DT)'="" ACDANS=$E(DT,4,5)_$E(DT,6,7)_(1700+$E(DT,1,3))
"DATA",160.16,12,"FIELD",233,2)
BLANK
"DATA",160.16,12,"FIELD",233,3)
L,ZERO^2110
"DATA",160.16,12,"FIELD",233,4)
Current date
"DATA",160.16,12,"FIELD",234,0)
1198^1^1198^SEER Coding Sys--Current
"DATA",160.16,12,"FIELD",234,1)
S ACDANS=6
"DATA",160.16,12,"FIELD",234,2)
BLANK
"DATA",160.16,12,"FIELD",234,3)
L,BLANK^2120
"DATA",160.16,12,"FIELD",234,4)
6 January 2003 SEER Coding Manual
"DATA",160.16,12,"FIELD",235,0)
1199^1^1199^SEER Coding Sys--Original
"DATA",160.16,12,"FIELD",235,1)
S ACDANS=6
"DATA",160.16,12,"FIELD",235,2)
BLANK
"DATA",160.16,12,"FIELD",235,3)
L,BLANK^2130
"DATA",160.16,12,"FIELD",235,4)
6 January 2003 SEER Coding Manual
"DATA",160.16,12,"FIELD",236,0)
1200^2^1201^COC Coding Sys--Current
"DATA",160.16,12,"FIELD",236,1)
S ACDANS="08"
"DATA",160.16,12,"FIELD",236,2)
BLANK
"DATA",160.16,12,"FIELD",236,3)
L,BLANK^2140
"DATA",160.16,12,"FIELD",236,4)
08 FORDS (effective with cases diagnosed 2003 are forward)
"DATA",160.16,12,"FIELD",237,0)
1202^2^1203^COC Coding Sys--Original
"DATA",160.16,12,"FIELD",237,1)
S ACDANS=$$COCO~ONCACDU2(IEN)
"DATA",160.16,12,"FIELD",237,2)
BLANK
"DATA",160.16,12,"FIELD",237,3)
L,BLANK^2150
"DATA",160.16,12,"FIELD",237,4)
08, 07, or 05 depending on DATE DX
"DATA",160.16,12,"FIELD",238,0)
1244^50^1293^Reserved 08
"DATA",160.16,12,"FIELD",238,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",238,2)
BLANK
"DATA",160.16,12,"FIELD",238,3)
L,BLANK^1650
"DATA",160.16,12,"FIELD",239,0)
1204^10^1213^Vendor Name
"DATA",160.16,12,"FIELD",239,1)
S ACDANS=$$VENDOR~ONCACDU2
"DATA",160.16,12,"FIELD",239,2)
BLANK
"DATA",160.16,12,"FIELD",239,3)
R,BLANK^2170
"DATA",160.16,12,"FIELD",239,4)
"VA"_NAACCR version_patch # e.g. VAV11P46
"DATA",160.16,12,"FIELD",240,0)
1214^1^1214^SEER Type of Follow-Up
"DATA",160.16,12,"FIELD",240,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",240,2)
BLANK
"DATA",160.16,12,"FIELD",240,3)
L,BLANK^2180
"DATA",160.16,12,"FIELD",241,0)
1215^2^1216^SEER Record Number
"DATA",160.16,12,"FIELD",241,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",241,2)
BLANK
"DATA",160.16,12,"FIELD",241,3)
L,BLANK^2190
"DATA",160.16,12,"FIELD",242,0)
1217^2^1218^Diagnostic Proc 73-87
"DATA",160.16,12,"FIELD",242,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",242,2)
BLANK
"DATA",160.16,12,"FIELD",242,3)
L,BLANK^2200
"DATA",160.16,12,"FIELD",243,0)
1243^1^1243^ICD-O-3 Conversion Flag
"DATA",160.16,12,"FIELD",243,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:0,1:1) K DATEDX
"DATA",160.16,12,"FIELD",243,2)
BLANK
"DATA",160.16,12,"FIELD",243,3)
L,BLANK^2116
"DATA",160.16,12,"FIELD",340,0)
459^1^459^RX Hosp--Scope Reg LN Sur
"DATA",160.16,12,"FIELD",340,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.5,"I")
"DATA",160.16,12,"FIELD",340,2)
NINE
"DATA",160.16,12,"FIELD",340,3)
L,BLANK^672
"DATA",160.16,12,"FIELD",340,4)
SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"DATA",160.16,12,"FIELD",341,0)
460^1^460^RX Hosp--Surg Oth Reg/Dis
"DATA",160.16,12,"FIELD",341,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.5,"I")
"DATA",160.16,12,"FIELD",341,2)
NINE
"DATA",160.16,12,"FIELD",341,3)
L,BLANK^674
"DATA",160.16,12,"FIELD",341,4)
SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"DATA",160.16,12,"FIELD",342,0)
461^2^462^RX Hosp--Reg LN Removed
"DATA",160.16,12,"FIELD",342,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140.1,"I")
"DATA",160.16,12,"FIELD",342,2)
BLANK
"DATA",160.16,12,"FIELD",342,3)
L,BLANK^676
"DATA",160.16,12,"FIELD",342,4)
NUMBER OF LN REMOVED @FAC (R) (165.5,140.1)
"DATA",160.16,12,"FIELD",343,0)
474^4^477^Reserved 28
"DATA",160.16,12,"FIELD",343,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",343,2)
BLANK
"DATA",160.16,12,"FIELD",343,3)
L,BLANK^741
"DATA",160.16,12,"FIELD",343,4)

"DATA",160.16,12,"FIELD",347,0)
861^1^861^RX Summ--Scope Reg LN Sur
"DATA",160.16,12,"FIELD",347,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.4,"I")
"DATA",160.16,12,"FIELD",347,2)
NINE
"DATA",160.16,12,"FIELD",347,3)
L,BLANK^1292
"DATA",160.16,12,"FIELD",347,4)
SCOPE OF LN SURGERY (F) (165.5,138.4)
"DATA",160.16,12,"FIELD",348,0)
862^1^862^RX Summ--Surg Oth Reg/Dis
"DATA",160.16,12,"FIELD",348,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.4,"I")
"DATA",160.16,12,"FIELD",348,2)
NINE
"DATA",160.16,12,"FIELD",348,3)
L,BLANK^1294
"DATA",160.16,12,"FIELD",348,4)
SURG PROC/OTHER SITE (F) (165.5,139.4)
"DATA",160.16,12,"FIELD",349,0)
863^2^864^RX Summ--Reg LN Examined
"DATA",160.16,12,"FIELD",349,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140,"I")
"DATA",160.16,12,"FIELD",349,2)
BLANK
"DATA",160.16,12,"FIELD",349,3)
L,ZERO^1296
"DATA",160.16,12,"FIELD",349,4)
NUMBER OF LN REMOVED (R) (165.5,140)
"DATA",160.16,12,"FIELD",350,0)
934^4^937^Reserved 36
"DATA",160.16,12,"FIELD",350,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",350,2)
BLANK
"DATA",160.16,12,"FIELD",350,3)
L,BLANK^1641
"DATA",160.16,12,"FIELD",350,4)

"DATA",160.16,12,"FIELD",354,0)
1048^1^1048^Subsq RX 2nd--Scope LN Su
"DATA",160.16,12,"FIELD",354,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,35)
"DATA",160.16,12,"FIELD",354,2)
BLANK
"DATA",160.16,12,"FIELD",354,3)
L,BLANK^1677
"DATA",160.16,12,"FIELD",354,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,12,"FIELD",355,0)
1049^1^1049^Subsq RX 2nd--Surg Oth
"DATA",160.16,12,"FIELD",355,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,36)
"DATA",160.16,12,"FIELD",355,2)
BLANK
"DATA",160.16,12,"FIELD",355,3)
L,BLANK^1678
"DATA",160.16,12,"FIELD",355,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,12,"FIELD",356,0)
1050^2^1051^Subsq RX 2nd--Reg LN Rem
"DATA",160.16,12,"FIELD",356,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,37)
"DATA",160.16,12,"FIELD",356,2)
BLANK
"DATA",160.16,12,"FIELD",356,3)
L,BLANK^1679
"DATA",160.16,12,"FIELD",356,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,12,"FIELD",357,0)
1052^1^1052^Subsq RX 3rd--Scope LN Su
"DATA",160.16,12,"FIELD",357,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,35)
"DATA",160.16,12,"FIELD",357,2)
BLANK
"DATA",160.16,12,"FIELD",357,3)
L,BLANK^1697
"DATA",160.16,12,"FIELD",357,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,12,"FIELD",358,0)
1053^1^1053^Subsq RX 3rd--Surg Oth
"DATA",160.16,12,"FIELD",358,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,36)
"DATA",160.16,12,"FIELD",358,2)
BLANK
"DATA",160.16,12,"FIELD",358,3)
L,BLANK^1698
"DATA",160.16,12,"FIELD",358,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,12,"FIELD",359,0)
1054^2^1055^Subsq RX 3rd--Reg LN Rem
"DATA",160.16,12,"FIELD",359,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,37)
"DATA",160.16,12,"FIELD",359,2)
BLANK
"DATA",160.16,12,"FIELD",359,3)
L,BLANK^1699
"DATA",160.16,12,"FIELD",359,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,12,"FIELD",360,0)
1056^1^1056^Subsq RX 4th--Scope LN Su
"DATA",160.16,12,"FIELD",360,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,35)
"DATA",160.16,12,"FIELD",360,2)
BLANK
"DATA",160.16,12,"FIELD",360,3)
L,BLANK^1717
"DATA",160.16,12,"FIELD",360,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,12,"FIELD",361,0)
1057^1^1057^Subsq RX 4th--Surg Oth
"DATA",160.16,12,"FIELD",361,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,36)
"DATA",160.16,12,"FIELD",361,2)
BLANK
"DATA",160.16,12,"FIELD",361,3)
L,BLANK^1718
"DATA",160.16,12,"FIELD",361,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,12,"FIELD",362,0)
1058^2^1059^Subsq RX 4th--Reg LN Rem
"DATA",160.16,12,"FIELD",362,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,37)
"DATA",160.16,12,"FIELD",362,2)
BLANK
"DATA",160.16,12,"FIELD",362,3)
L,BLANK^1719
"DATA",160.16,12,"FIELD",362,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,12,"FIELD",363,0)
1060^4^1063^Reserved 38
"DATA",160.16,12,"FIELD",363,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",363,2)
BLANK
"DATA",160.16,12,"FIELD",363,3)
L,BLANK^1726
"DATA",160.16,12,"FIELD",363,4)

"DATA",160.16,12,"FIELD",366,0)
1064^1^1064^Subsq RX--Reconstruct Del
"DATA",160.16,12,"FIELD",366,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,33)
"DATA",160.16,12,"FIELD",366,2)
NINE
"DATA",160.16,12,"FIELD",366,3)
L,NINE^1741
"DATA",160.16,12,"FIELD",366,4)
RECON/RESTORE - DELAYED (165.51,33)
"DATA",160.16,12,"FIELD",367,0)
1357^20^1376^Follow-Up Contact--City
"DATA",160.16,12,"FIELD",367,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160)
"DATA",160.16,12,"FIELD",367,2)
BLANK
"DATA",160.16,12,"FIELD",367,3)
R,BLANK^1842
"DATA",160.16,12,"FIELD",367,4)
CITY (2,.114)
"DATA",160.16,12,"FIELD",368,0)
1377^2^1378^Follow-Up Contact--State
"DATA",160.16,12,"FIELD",368,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160)
"DATA",160.16,12,"FIELD",368,2)
BLANK
"DATA",160.16,12,"FIELD",368,3)
L,BLANK^1844
"DATA",160.16,12,"FIELD",368,4)
STATE (2,.115)
"DATA",160.16,12,"FIELD",369,0)
1379^9^1387^Follow-Up Contact--Postal
"DATA",160.16,12,"FIELD",369,1)
S ACDANS=$$ZIP~ONCACDU1(ACD160)
"DATA",160.16,12,"FIELD",369,2)
BLANK
"DATA",160.16,12,"FIELD",369,3)
R,BLANK^1846
"DATA",160.16,12,"FIELD",369,4)
ZIP CODE (2,.116)
"DATA",160.16,12,"FIELD",370,0)
1133^1^1133^Over-ride Site/Behavior
"DATA",160.16,12,"FIELD",370,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,214,"I")
"DATA",160.16,12,"FIELD",370,2)
BLANK
"DATA",160.16,12,"FIELD",370,3)
L,BLANK^2071
"DATA",160.16,12,"FIELD",370,4)
OVERRIDE SITE/BEHAVIOR (165.5,214)
"DATA",160.16,12,"FIELD",371,0)
1134^1^1134^Over-ride Site/EOD/DX Dt
"DATA",160.16,12,"FIELD",371,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,215,"I")
"DATA",160.16,12,"FIELD",371,2)
BLANK
"DATA",160.16,12,"FIELD",371,3)
L,BLANK^2072
"DATA",160.16,12,"FIELD",371,4)
OVERRIDE SITE/EOD/DX DT (165.5,215)
"DATA",160.16,12,"FIELD",372,0)
1135^1^1135^Over-ride Site/Lat/EOD
"DATA",160.16,12,"FIELD",372,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,216,"I")
"DATA",160.16,12,"FIELD",372,2)
BLANK
"DATA",160.16,12,"FIELD",372,3)
L,BLANK^2073
"DATA",160.16,12,"FIELD",372,4)
OVERRIDE SITE/LAT/EOD (165.5,216)
"DATA",160.16,12,"FIELD",373,0)
1136^1^1136^Over-ride Site/Lat/Morph
"DATA",160.16,12,"FIELD",373,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,217,"I")
"DATA",160.16,12,"FIELD",373,2)
BLANK
"DATA",160.16,12,"FIELD",373,3)
L,BLANK^2074
"DATA",160.16,12,"FIELD",373,4)
OVERRIDE SITE/LAT/MORPH (165.5,217)
"DATA",160.16,12,"FIELD",374,0)
1148^8^1155^Future Use Timeliness 1 (item retired)
"DATA",160.16,12,"FIELD",374,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",374,2)
BLANK
"DATA",160.16,12,"FIELD",374,3)
L,BLANK
"DATA",160.16,12,"FIELD",375,0)
1156^8^1163^Future Use Timeliness 2 (item retired)
"DATA",160.16,12,"FIELD",375,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",375,2)
BLANK
"DATA",160.16,12,"FIELD",375,3)
L,BLANK
"DATA",160.16,12,"FIELD",376,0)
1219^8^1226^Date Case Report Received
"DATA",160.16,12,"FIELD",376,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",376,2)
BLANK
"DATA",160.16,12,"FIELD",376,3)
L,BLANK^2111
"DATA",160.16,12,"FIELD",377,0)
1227^8^1234^Date Case Report Loaded
"DATA",160.16,12,"FIELD",377,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",377,2)
BLANK
"DATA",160.16,12,"FIELD",377,3)
L,BLANK^2112
"DATA",160.16,12,"FIELD",378,0)
1235^8^1242^Date Tumor Record Availbl
"DATA",160.16,12,"FIELD",378,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",378,2)
BLANK
"DATA",160.16,12,"FIELD",378,3)
L,BLANK^2113
"DATA",160.16,12,"FIELD",379,0)
1164^10^1173^CRC CHECKSUM
"DATA",160.16,12,"FIELD",379,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",379,2)
BLANK
"DATA",160.16,12,"FIELD",379,3)
L,BLANK^2081
"DATA",160.16,12,"FIELD",380,0)
12^7^18^Reserved 00
"DATA",160.16,12,"FIELD",380,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",380,2)
BLANK
"DATA",160.16,12,"FIELD",380,3)
L,BLANK^37
"DATA",160.16,12,"FIELD",382,0)
382^10^391^Reporting Facility
"DATA",160.16,12,"FIELD",382,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.03,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") I (ACDANS=9999999)&($L(STAT1)=8) S ACDANS=99999999
"DATA",160.16,12,"FIELD",382,2)
ZERO
"DATA",160.16,12,"FIELD",382,3)
L,ZERO^540
"DATA",160.16,12,"FIELD",382,4)
REPORTING FACILITY (165.5,.03)
"DATA",160.16,12,"FIELD",383,0)
402^9^410^Accession Number--Hosp
"DATA",160.16,12,"FIELD",383,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.05,"I")
"DATA",160.16,12,"FIELD",383,2)
BLANK
"DATA",160.16,12,"FIELD",383,3)
L,ZERO^550
"DATA",160.16,12,"FIELD",383,4)
ACCESSION NUMBER (165.5,.05)
"DATA",160.16,12,"FIELD",388,0)
372^10^381^NPI--Reporting Facility
"DATA",160.16,12,"FIELD",388,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",388,2)
BLANK
"DATA",160.16,12,"FIELD",388,3)
L,BLANK^545
"DATA",160.16,12,"FIELD",390,0)
347^25^371^Reserved 03
"DATA",160.16,12,"FIELD",390,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",390,2)
BLANK
"DATA",160.16,12,"FIELD",390,3)
L,BLANK^680
"DATA",160.16,12,"FIELD",391,0)
528^1^528^SEER Summary Stage 2000
"DATA",160.16,12,"FIELD",391,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,12,"FIELD",391,2)
BLANK
"DATA",160.16,12,"FIELD",391,3)
L,BLANK^759
"DATA",160.16,12,"FIELD",391,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,12,"FIELD",392,0)
1115^1^1115^Over-ride SS/NodesPos
"DATA",160.16,12,"FIELD",392,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,218,"I")
"DATA",160.16,12,"FIELD",392,2)
BLANK
"DATA",160.16,12,"FIELD",392,3)
L,BLANK^1981
"DATA",160.16,12,"FIELD",392,4)
OVERRIDE SS/NODESPOS (165.5,218)
"DATA",160.16,12,"FIELD",393,0)
1116^1^1116^Over-ride SS/TNM-N
"DATA",160.16,12,"FIELD",393,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,219,"I")
"DATA",160.16,12,"FIELD",393,2)
BLANK
"DATA",160.16,12,"FIELD",393,3)
L,BLANK^1982
"DATA",160.16,12,"FIELD",393,4)
OVERRIDE SS/TNM-N (165.5,219)
"DATA",160.16,12,"FIELD",394,0)
1117^1^1117^Over-ride SS/TNM-M
"DATA",160.16,12,"FIELD",394,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,220,"I")
"DATA",160.16,12,"FIELD",394,2)
BLANK
"DATA",160.16,12,"FIELD",394,3)
L,BLANK^1983
"DATA",160.16,12,"FIELD",394,4)
OVERRIDE SS/TNM-M (165.5,220)
"DATA",160.16,12,"FIELD",395,0)
1118^1^1118^Over-ride SS/DisMet1
"DATA",160.16,12,"FIELD",395,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,221,"I")
"DATA",160.16,12,"FIELD",395,2)
BLANK
"DATA",160.16,12,"FIELD",395,3)
L,BLANK^1984
"DATA",160.16,12,"FIELD",395,4)
OVERRIDE SS/DISMET1 (165.5,221)
"DATA",160.16,12,"FIELD",396,0)
1119^1^1119^Over-ride Acsn/Class/Seq
"DATA",160.16,12,"FIELD",396,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,222,"I")
"DATA",160.16,12,"FIELD",396,2)
BLANK
"DATA",160.16,12,"FIELD",396,3)
L,BLANK^1985
"DATA",160.16,12,"FIELD",396,4)
OVERRIDE ACSN/CLASS/SEQ (165.5,222)
"DATA",160.16,12,"FIELD",397,0)
1120^1^1120^Over-ride HospSeq/DxConf
"DATA",160.16,12,"FIELD",397,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,223,"I")
"DATA",160.16,12,"FIELD",397,2)
BLANK
"DATA",160.16,12,"FIELD",397,3)
L,BLANK^1986
"DATA",160.16,12,"FIELD",397,4)
OVERRIDE HOSPSEQ/DXCONF (165.5,223)
"DATA",160.16,12,"FIELD",398,0)
1121^1^1121^Over-ride COC-Site/Type
"DATA",160.16,12,"FIELD",398,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,224,"I")
"DATA",160.16,12,"FIELD",398,2)
BLANK
"DATA",160.16,12,"FIELD",398,3)
L,BLANK^1987
"DATA",160.16,12,"FIELD",398,4)
OVERRIDE COC-SITE/TYPE (165.5,224)
"DATA",160.16,12,"FIELD",399,0)
1122^1^1122^Over-ride HospSeq/Site
"DATA",160.16,12,"FIELD",399,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,225,"I")
"DATA",160.16,12,"FIELD",399,2)
BLANK
"DATA",160.16,12,"FIELD",399,3)
L,BLANK^1988
"DATA",160.16,12,"FIELD",399,4)
OVERRIDE HOSPSEQ/SITE (165.5,225)
"DATA",160.16,12,"FIELD",400,0)
1123^1^1123^Over-ride Site/TNM-StgGrp
"DATA",160.16,12,"FIELD",400,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,226,"I")
"DATA",160.16,12,"FIELD",400,2)
BLANK
"DATA",160.16,12,"FIELD",400,3)
L,BLANK^1989
"DATA",160.16,12,"FIELD",400,4)
OVERRIDE SITE/TNM-STAGE GROUP (165.5,226)
"DATA",160.16,12,"FIELD",401,0)
1399^48^1446^Reserved 09
"DATA",160.16,12,"FIELD",401,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",401,2)
BLANK
"DATA",160.16,12,"FIELD",401,3)
L,BLANK^1740
"DATA",160.16,12,"FIELD",402,0)
30^2^31^Tumor Record Number
"DATA",160.16,12,"FIELD",402,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",402,2)
BLANK
"DATA",160.16,12,"FIELD",402,3)
L,BLANK^60
"DATA",160.16,12,"FIELD",403,0)
32^8^39^Patient System ID-Hosp
"DATA",160.16,12,"FIELD",403,1)
S ACDANS=ACD160
"DATA",160.16,12,"FIELD",403,2)
BLANK
"DATA",160.16,12,"FIELD",403,3)
L,ZERO^21
"DATA",160.16,12,"FIELD",403,4)
ONCOLOGY PATIENT file IEN
"DATA",160.16,12,"FIELD",404,0)
52^20^71^Addr at DX--City
"DATA",160.16,12,"FIELD",404,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,8.1,"E")'="":$$GET1~DIQ(165.5,IEN,8.1,"E"),1:"UNKNOWN")
"DATA",160.16,12,"FIELD",404,2)
BLANK
"DATA",160.16,12,"FIELD",404,3)
R,BLANK^70
"DATA",160.16,12,"FIELD",404,4)
CITY/TOWN AT DX (165.5,8.1)
"DATA",160.16,12,"FIELD",405,0)
72^2^73^Addr at DX--State
"DATA",160.16,12,"FIELD",405,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,16,"I")'="":$$GET1~DIQ(160.15,$$GET1~DIQ(165.5,IEN,16,"I"),.01,"I"),1:"")
"DATA",160.16,12,"FIELD",405,2)
BLANK
"DATA",160.16,12,"FIELD",405,3)
L,BLANK^80
"DATA",160.16,12,"FIELD",405,4)
STATE AT DX (165.5,16)
"DATA",160.16,12,"FIELD",406,0)
114^1^114^Race Coding Sys--Original
"DATA",160.16,12,"FIELD",406,1)
S ACDANS=6
"DATA",160.16,12,"FIELD",406,2)
BLANK
"DATA",160.16,12,"FIELD",406,3)
L,BLANK^180
"DATA",160.16,12,"FIELD",406,4)
6 2000+ SEER & COC
"DATA",160.16,12,"FIELD",407,0)
83^3^85^County at DX
"DATA",160.16,12,"FIELD",407,1)
S ACDANS=$$CNTY~ONCACDU1(IEN)
"DATA",160.16,12,"FIELD",407,2)
BLANK
"DATA",160.16,12,"FIELD",407,3)
L,ZERO^90
"DATA",160.16,12,"FIELD",407,4)
COUNTY AT DX (165.5,10)
"DATA",160.16,12,"FIELD",408,0)
86^6^91^Census Tract 1970/80/90
"DATA",160.16,12,"FIELD",408,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",408,2)
BLANK
"DATA",160.16,12,"FIELD",408,3)
L,BLANK^110
"DATA",160.16,12,"FIELD",408,4)

"DATA",160.16,12,"FIELD",409,0)
92^1^92^Census Cod Sys 1970/80/90
"DATA",160.16,12,"FIELD",409,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",409,2)
BLANK
"DATA",160.16,12,"FIELD",409,3)
L,BLANK^120
"DATA",160.16,12,"FIELD",410,0)
133^2^134^Religion
"DATA",160.16,12,"FIELD",410,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",410,2)
BLANK
"DATA",160.16,12,"FIELD",410,3)
L,BLANK^260
"DATA",160.16,12,"FIELD",411,0)
142^1^142^Industry Source
"DATA",160.16,12,"FIELD",411,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",411,2)
BLANK
"DATA",160.16,12,"FIELD",411,3)
L,BLANK^300
"DATA",160.16,12,"FIELD",412,0)
223^1^223^Occup/Ind Coding System
"DATA",160.16,12,"FIELD",412,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",412,2)
BLANK
"DATA",160.16,12,"FIELD",412,3)
L,BLANK^330
"DATA",160.16,12,"FIELD",413,0)
113^1^113^Race Coding Sys--Current
"DATA",160.16,12,"FIELD",413,1)
S ACDANS=6
"DATA",160.16,12,"FIELD",413,2)
BLANK
"DATA",160.16,12,"FIELD",413,3)
L,BLANK^170
"DATA",160.16,12,"FIELD",413,4)
6 2000+ SEER & COC
"DATA",160.16,12,"FIELD",414,0)
115^1^115^Spanish/Hispanic Origin
"DATA",160.16,12,"FIELD",414,1)
S ACDANS=$$GET1~DIQ(160,ACD160,9,"I")
"DATA",160.16,12,"FIELD",414,2)
BLANK
"DATA",160.16,12,"FIELD",414,3)
L,BLANK^190
"DATA",160.16,12,"FIELD",414,4)
SPANISH ORIGIN (160,9)
"DATA",160.16,12,"FIELD",415,0)
116^1^116^Computed Ethnicity
"DATA",160.16,12,"FIELD",415,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,12,"FIELD",415,2)
BLANK
"DATA",160.16,12,"FIELD",415,3)
L,BLANK^200
"DATA",160.16,12,"FIELD",415,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,12,"FIELD",416,0)
117^1^117^Computed Ethnicity Source
"DATA",160.16,12,"FIELD",416,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,12,"FIELD",416,2)
BLANK
"DATA",160.16,12,"FIELD",416,3)
L,BLANK^210
"DATA",160.16,12,"FIELD",416,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,12,"FIELD",417,0)
118^1^118^Sex
"DATA",160.16,12,"FIELD",417,1)
S ACDANS=$$GET1~DIQ(160,ACD160,10,"I")
"DATA",160.16,12,"FIELD",417,2)
BLANK
"DATA",160.16,12,"FIELD",417,3)
L,BLANK^220
"DATA",160.16,12,"FIELD",417,4)
SEX (160,10)
"DATA",160.16,12,"FIELD",418,0)
119^3^121^Age at Diagnosis
"DATA",160.16,12,"FIELD",418,1)
S ACDANS=$$AGEDX~ONCACDU1(IEN)
"DATA",160.16,12,"FIELD",418,2)
BLANK
"DATA",160.16,12,"FIELD",418,3)
L,ZERO^230
"DATA",160.16,12,"FIELD",418,4)
AGE~ONCOCOM
"DATA",160.16,12,"FIELD",419,0)
122^8^129^Birth Date
"DATA",160.16,12,"FIELD",419,1)
S ACDANS=$$BDATE~ONCACDU2(ACD160) S ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,12,"FIELD",419,2)
BLANK
"DATA",160.16,12,"FIELD",419,3)
L,ZERO^240
"DATA",160.16,12,"FIELD",419,4)
DOB~ONCOES
"DATA",160.16,12,"FIELD",420,0)
130^3^132^Birthplace
"DATA",160.16,12,"FIELD",420,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I")
"DATA",160.16,12,"FIELD",420,2)
BLANK
"DATA",160.16,12,"FIELD",420,3)
L,ZERO^250
"DATA",160.16,12,"FIELD",420,4)
PLACE OF BIRTH (160,7)
"DATA",160.16,12,"FIELD",421,0)
99^1^99^Census Tract Block Group
"DATA",160.16,12,"FIELD",421,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",421,2)
BLANK
"DATA",160.16,12,"FIELD",421,3)
L,BLANK^362
"DATA",160.16,12,"FIELD",422,0)
100^1^100^Census Tr Cert 1970/80/90
"DATA",160.16,12,"FIELD",422,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",422,2)
BLANK
"DATA",160.16,12,"FIELD",422,3)
L,BLANK^364
"DATA",160.16,12,"FIELD",423,0)
141^1^141^Occupation Source
"DATA",160.16,12,"FIELD",423,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",423,2)
BLANK
"DATA",160.16,12,"FIELD",423,3)
L,BLANK^290
"DATA",160.16,12,"FIELD",424,0)
105^2^106^Race 2
"DATA",160.16,12,"FIELD",424,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.1,"I")
"DATA",160.16,12,"FIELD",424,2)
8
"DATA",160.16,12,"FIELD",424,3)
L,ZERO^161
"DATA",160.16,12,"FIELD",424,4)
RACE 2 (160,8.1)
"DATA",160.16,12,"FIELD",425,0)
107^2^108^Race 3
"DATA",160.16,12,"FIELD",425,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.2,"I")
"DATA",160.16,12,"FIELD",425,2)
8
"DATA",160.16,12,"FIELD",425,3)
L,ZERO^162
"DATA",160.16,12,"FIELD",425,4)
RACE 3 (160,8.2)
"DATA",160.16,12,"FIELD",426,0)
109^2^110^Race 4
"DATA",160.16,12,"FIELD",426,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.3,"I")
"DATA",160.16,12,"FIELD",426,2)
8
"DATA",160.16,12,"FIELD",426,3)
L,ZERO^163
"DATA",160.16,12,"FIELD",426,4)
RACE 4 (160,8.3)
"DATA",160.16,12,"FIELD",427,0)
111^2^112^Race 5
"DATA",160.16,12,"FIELD",427,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.4,"I")
"DATA",160.16,12,"FIELD",427,2)
8
"DATA",160.16,12,"FIELD",427,3)
L,ZERO^164
"DATA",160.16,12,"FIELD",427,4)
RACE 5 (160,8.4)
"DATA",160.16,12,"FIELD",428,0)
135^3^137^Occupation Code--Census
"DATA",160.16,12,"FIELD",428,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",428,2)
BLANK
"DATA",160.16,12,"FIELD",428,3)
L,BLANK^270
"DATA",160.16,12,"FIELD",429,0)
138^3^140^Industry Code--Census
"DATA",160.16,12,"FIELD",429,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",429,2)
BLANK
"DATA",160.16,12,"FIELD",429,3)
L,BLANK^280
"DATA",160.16,12,"FIELD",430,0)
224^1^224^Tobacco History
"DATA",160.16,12,"FIELD",430,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",430,2)
BLANK
"DATA",160.16,12,"FIELD",430,3)
L,BLANK^340
"DATA",160.16,12,"FIELD",430,4)
NAACCR has not adopted standards for this item.
"DATA",160.16,12,"FIELD",431,0)
225^1^225^Alcohol History
"DATA",160.16,12,"FIELD",431,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",431,2)
BLANK
"DATA",160.16,12,"FIELD",431,3)
L,BLANK^350
"DATA",160.16,12,"FIELD",431,4)
NAACCR has not adopted standards for this item.
"DATA",160.16,12,"FIELD",432,0)
226^1^226^Family History of Cancer
"DATA",160.16,12,"FIELD",432,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",432,2)
BLANK
"DATA",160.16,12,"FIELD",432,3)
L,BLANK^360
"DATA",160.16,12,"FIELD",432,4)
NAACCR has not adopted standards for this item.
"DATA",160.16,12,"FIELD",433,0)
281^2^282^Sequence Number--Central
"DATA",160.16,12,"FIELD",433,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",433,2)
BLANK
"DATA",160.16,12,"FIELD",433,3)
L,BLANK^380
"DATA",160.16,12,"FIELD",434,0)
283^8^290^Date of Diagnosis
"DATA",160.16,12,"FIELD",434,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,12,"FIELD",434,2)
BLANK
"DATA",160.16,12,"FIELD",434,3)
L,ZERO^390
"DATA",160.16,12,"FIELD",434,4)
DATE DX (165.5,3)
"DATA",160.16,12,"FIELD",435,0)
227^2^228^RuralUrban Continuum 1993
"DATA",160.16,12,"FIELD",435,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",435,2)
BLANK
"DATA",160.16,12,"FIELD",435,3)
L,BLANK^3300
"DATA",160.16,12,"FIELD",435,4)
Program not run; record not coded
"DATA",160.16,12,"FIELD",436,0)
229^2^230^RuralUrban Continuum 2000
"DATA",160.16,12,"FIELD",436,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",436,2)
BLANK
"DATA",160.16,12,"FIELD",436,3)
L,BLANK^3310
"DATA",160.16,12,"FIELD",436,4)
Program not run; record not coded
"DATA",160.16,12,"FIELD",437,0)
235^46^280^Reserved 02
"DATA",160.16,12,"FIELD",437,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",437,2)
BLANK
"DATA",160.16,12,"FIELD",437,3)
L,BLANK^530
"DATA",160.16,12,"FIELD",438,0)
392^10^401^Archive FIN
"DATA",160.16,12,"FIELD",438,1)
S ACDANS=STAT1
"DATA",160.16,12,"FIELD",438,2)
ZERO
"DATA",160.16,12,"FIELD",438,3)
L,ZERO^3100
"DATA",160.16,12,"FIELD",438,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,12,"FIELD",439,0)
473^1^473^RX Hosp--Palliative Proc
"DATA",160.16,12,"FIELD",439,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,13,"I")
"DATA",160.16,12,"FIELD",439,2)
NINE
"DATA",160.16,12,"FIELD",439,3)
L,BLANK^3280
"DATA",160.16,12,"FIELD",439,4)
PALLIATIVE PROCEDURE @FAC (165.5,13)
"DATA",160.16,12,"FIELD",440,0)
629^3^631^CS Tumor Size
"DATA",160.16,12,"FIELD",440,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.2,"I")) K DATEDX
"DATA",160.16,12,"FIELD",440,2)
BLANK
"DATA",160.16,12,"FIELD",440,3)
L,ZERO^2800
"DATA",160.16,12,"FIELD",440,4)
TUMOR SIZE (CS) (165.5,29.2)
"DATA",160.16,12,"FIELD",441,0)
632^2^633^CS Extension
"DATA",160.16,12,"FIELD",441,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,30.2,"I")) K DATEDX
"DATA",160.16,12,"FIELD",441,2)
BLANK
"DATA",160.16,12,"FIELD",441,3)
L,ZERO^2810
"DATA",160.16,12,"FIELD",441,4)
EXTENSION (CS) (165.5,30.2)
"DATA",160.16,12,"FIELD",442,0)
634^1^634^CS Tumor Size/Ext Eval
"DATA",160.16,12,"FIELD",442,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.1,"I")) K DATEDX
"DATA",160.16,12,"FIELD",442,2)
BLANK
"DATA",160.16,12,"FIELD",442,3)
L,ZERO^2820
"DATA",160.16,12,"FIELD",442,4)
TUMOR SIZE/EXT EVAL (CS) (165.5,29.1)
"DATA",160.16,12,"FIELD",443,0)
635^2^636^CS Lymph Nodes
"DATA",160.16,12,"FIELD",443,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,31.1,"I")) K DATEDX
"DATA",160.16,12,"FIELD",443,2)
BLANK
"DATA",160.16,12,"FIELD",443,3)
L,BLANK^2830
"DATA",160.16,12,"FIELD",443,4)
LYMPH NODES (CS) (165.5,31.1)
"DATA",160.16,12,"FIELD",444,0)
637^1^637^CS Reg Nodes Eval
"DATA",160.16,12,"FIELD",444,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,32.1,"I")) K DATEDX
"DATA",160.16,12,"FIELD",444,2)
BLANK
"DATA",160.16,12,"FIELD",444,3)
L,BLANK^2840
"DATA",160.16,12,"FIELD",444,4)
REG NODES EVAL (CS) (165.5,32.1)
"DATA",160.16,12,"FIELD",445,0)
638^2^639^CS Mets at DX
"DATA",160.16,12,"FIELD",445,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.3,"I")) K DATEDX
"DATA",160.16,12,"FIELD",445,2)
BLANK
"DATA",160.16,12,"FIELD",445,3)
L,BLANK^2850
"DATA",160.16,12,"FIELD",445,4)
METS AT DX (CS) (165.5,34.3)
"DATA",160.16,12,"FIELD",446,0)
640^1^640^CS Mets Eval
"DATA",160.16,12,"FIELD",446,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.4,"I")) K DATEDX
"DATA",160.16,12,"FIELD",446,2)
BLANK
"DATA",160.16,12,"FIELD",446,3)
L,BLANK^2860
"DATA",160.16,12,"FIELD",446,4)
METS EVAL (CS) (165.5,34.4)
"DATA",160.16,12,"FIELD",447,0)
641^3^643^CS Site-Specific Factor 1
"DATA",160.16,12,"FIELD",447,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.1,"I")) K DATEDX
"DATA",160.16,12,"FIELD",447,2)
BLANK
"DATA",160.16,12,"FIELD",447,3)
L,BLANK^2880
"DATA",160.16,12,"FIELD",447,4)
SITE-SPECIFIC FACTOR 1 (CS) (165.5,44.1)
"DATA",160.16,12,"FIELD",448,0)
644^3^646^CS Site-Specific Factor 2
"DATA",160.16,12,"FIELD",448,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.2,"I")) K DATEDX
"DATA",160.16,12,"FIELD",448,2)
BLANK
"DATA",160.16,12,"FIELD",448,3)
L,BLANK^2890
"DATA",160.16,12,"FIELD",448,4)
SITE-SPECIFIC FACTOR 2 (CS) (165.5,44.2)
"DATA",160.16,12,"FIELD",449,0)
647^3^649^CS Site-Specific Factor 3
"DATA",160.16,12,"FIELD",449,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.3,"I")) K DATEDX
"DATA",160.16,12,"FIELD",449,2)
BLANK
"DATA",160.16,12,"FIELD",449,3)
L,BLANK^2900
"DATA",160.16,12,"FIELD",449,4)
SITE-SPECIFIC FACTOR 3 (CS) (165.5,44.3)
"DATA",160.16,12,"FIELD",450,0)
650^3^652^CS Site-Specific Factor 4
"DATA",160.16,12,"FIELD",450,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.4,"I")) K DATEDX
"DATA",160.16,12,"FIELD",450,2)
BLANK
"DATA",160.16,12,"FIELD",450,3)
L,BLANK^2910
"DATA",160.16,12,"FIELD",450,4)
SITE-SPECIFIC FACTOR 4 (CS) (165.5,44.4)
"DATA",160.16,12,"FIELD",451,0)
653^3^655^CS Site-Specific Factor 5
"DATA",160.16,12,"FIELD",451,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.5,"I")) K DATEDX
"DATA",160.16,12,"FIELD",451,2)
BLANK
"DATA",160.16,12,"FIELD",451,3)
L,BLANK^2920
"DATA",160.16,12,"FIELD",451,4)
SITE-SPECIFIC FACTOR 5 (CS) (165.5,44.5)
"DATA",160.16,12,"FIELD",452,0)
656^3^658^CS Site-Specific Factor 6
"DATA",160.16,12,"FIELD",452,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.6,"I")) K DATEDX
"DATA",160.16,12,"FIELD",452,2)
BLANK
"DATA",160.16,12,"FIELD",452,3)
L,BLANK^2930
"DATA",160.16,12,"FIELD",452,4)
SITE-SPECIFIC FACTOR 6 (CS) (165.5,44.6)
"DATA",160.16,12,"FIELD",453,0)
659^2^660^Derived AJCC T
"DATA",160.16,12,"FIELD",453,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160,"I")) K DATEDX
"DATA",160.16,12,"FIELD",453,2)
BLANK
"DATA",160.16,12,"FIELD",453,3)
L,BLANK^2940
"DATA",160.16,12,"FIELD",453,4)
DERIVED AJCC T (165.5,160)
"DATA",160.16,12,"FIELD",454,0)
661^1^661^Derived AJCC T Desciptor
"DATA",160.16,12,"FIELD",454,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161,"I")) K DATEDX
"DATA",160.16,12,"FIELD",454,2)
BLANK
"DATA",160.16,12,"FIELD",454,3)
L,BLANK^2950
"DATA",160.16,12,"FIELD",454,4)
DERIVED AJCC T DESCRIPTOR (165.5,161)
"DATA",160.16,12,"FIELD",455,0)
662^2^663^Derived AJCC N
"DATA",160.16,12,"FIELD",455,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162,"I")) K DATEDX
"DATA",160.16,12,"FIELD",455,2)
BLANK
"DATA",160.16,12,"FIELD",455,3)
L,BLANK^2960
"DATA",160.16,12,"FIELD",455,4)
DERIVED AJCC N (165.5,162)
"DATA",160.16,12,"FIELD",456,0)
664^1^664^Derived AJCC N Descriptor
"DATA",160.16,12,"FIELD",456,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163,"I")) K DATEDX
"DATA",160.16,12,"FIELD",456,2)
BLANK
"DATA",160.16,12,"FIELD",456,3)
L,BLANK^2970
"DATA",160.16,12,"FIELD",456,4)
DERIVED AJCC N DESCRIPTOR (165.5,163)
"DATA",160.16,12,"FIELD",457,0)
665^2^666^Derived AJCC M
"DATA",160.16,12,"FIELD",457,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164,"I")) K DATEDX
"DATA",160.16,12,"FIELD",457,2)
BLANK
"DATA",160.16,12,"FIELD",457,3)
L,BLANK^2980
"DATA",160.16,12,"FIELD",457,4)
DERIVED AJCC M (165.5,164)
"DATA",160.16,12,"FIELD",458,0)
667^1^667^Derived AJCC M Descriptor
"DATA",160.16,12,"FIELD",458,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165,"I")) K DATEDX
"DATA",160.16,12,"FIELD",458,2)
BLANK
"DATA",160.16,12,"FIELD",458,3)
L,BLANK^2990
"DATA",160.16,12,"FIELD",458,4)
DERIVED AJCC M DESCRIPTOR (165.5,165)
"DATA",160.16,12,"FIELD",459,0)
668^2^669^Derived AJCC Stage Group
"DATA",160.16,12,"FIELD",459,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166,"I")) K DATEDX
"DATA",160.16,12,"FIELD",459,2)
BLANK
"DATA",160.16,12,"FIELD",459,3)
L,BLANK^3000
"DATA",160.16,12,"FIELD",459,4)
DERIVED AJCC STAGE GROUP (165.5,166)
"DATA",160.16,12,"FIELD",460,0)
670^1^670^Derived SS1977
"DATA",160.16,12,"FIELD",460,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,167,"I")) K DATEDX
"DATA",160.16,12,"FIELD",460,2)
BLANK
"DATA",160.16,12,"FIELD",460,3)
L,BLANK^3010
"DATA",160.16,12,"FIELD",460,4)
DERIVED SS1977 (165.5,670)
"DATA",160.16,12,"FIELD",461,0)
671^1^671^Derived SS2000
"DATA",160.16,12,"FIELD",461,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,168,"I")) K DATEDX
"DATA",160.16,12,"FIELD",461,2)
BLANK
"DATA",160.16,12,"FIELD",461,3)
L,BLANK^3020
"DATA",160.16,12,"FIELD",461,4)
DERIVED SS2000 (165.5,168)
"DATA",160.16,12,"FIELD",462,0)
672^1^672^Derived AJCC--Flag
"DATA",160.16,12,"FIELD",462,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,166,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,12,"FIELD",462,2)
BLANK
"DATA",160.16,12,"FIELD",462,3)
L,BLANK^3030
"DATA",160.16,12,"FIELD",463,0)
673^1^673^Derived SS1977--Flag
"DATA",160.16,12,"FIELD",463,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,167,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,12,"FIELD",463,2)
BLANK
"DATA",160.16,12,"FIELD",463,3)
L,BLANK^3040
"DATA",160.16,12,"FIELD",464,0)
674^1^674^Derived SS2000--Flag
"DATA",160.16,12,"FIELD",464,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,168,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,12,"FIELD",464,2)
BLANK
"DATA",160.16,12,"FIELD",464,3)
L,BLANK^3050
"DATA",160.16,12,"FIELD",465,0)
675^5^679^Comorbid/Complication 1
"DATA",160.16,12,"FIELD",465,1)
D CC~ONCACDU1 S ACDANS=CCEX(1)
"DATA",160.16,12,"FIELD",465,2)
ZERO
"DATA",160.16,12,"FIELD",465,3)
R,ZERO^3110
"DATA",160.16,12,"FIELD",465,4)
COMORBIDITY/COMPLICATION #1 (160,25)
"DATA",160.16,12,"FIELD",466,0)
680^5^684^Comorbid/Complication 2
"DATA",160.16,12,"FIELD",466,1)
D CC~ONCACDU1 S ACDANS=CCEX(2)
"DATA",160.16,12,"FIELD",466,2)
BLANK
"DATA",160.16,12,"FIELD",466,3)
R,ZERO^3120
"DATA",160.16,12,"FIELD",466,4)
COMORBIDITY/COMPLICATION #2 (160,25.1)
"DATA",160.16,12,"FIELD",467,0)
685^5^689^Comorbid/Complication 3
"DATA",160.16,12,"FIELD",467,1)
D CC~ONCACDU1 S ACDANS=CCEX(3)
"DATA",160.16,12,"FIELD",467,2)
BLANK
"DATA",160.16,12,"FIELD",467,3)
R,ZERO^3130
"DATA",160.16,12,"FIELD",467,4)
COMORBIDITY/COMPLICATION #3 (160,25.2)
"DATA",160.16,12,"FIELD",468,0)
690^5^694^Comorbid/Complication 4
"DATA",160.16,12,"FIELD",468,1)
D CC~ONCACDU1 S ACDANS=CCEX(4)
"DATA",160.16,12,"FIELD",468,2)
BLANK
"DATA",160.16,12,"FIELD",468,3)
R,ZERO^3140
"DATA",160.16,12,"FIELD",468,4)
COMORBIDITY/COMPLICATION #4 (160,25.3)
"DATA",160.16,12,"FIELD",469,0)
695^5^699^Comorbid/Complication 5
"DATA",160.16,12,"FIELD",469,1)
D CC~ONCACDU1 S ACDANS=CCEX(5)
"DATA",160.16,12,"FIELD",469,2)
BLANK
"DATA",160.16,12,"FIELD",469,3)
R,ZERO^3150
"DATA",160.16,12,"FIELD",469,4)
COMORBIDITY/COMPLICATION #5 (160,25.4)
"DATA",160.16,12,"FIELD",470,0)
700^5^704^Comorbid/Complication 6
"DATA",160.16,12,"FIELD",470,1)
D CC~ONCACDU1 S ACDANS=CCEX(6)
"DATA",160.16,12,"FIELD",470,2)
BLANK
"DATA",160.16,12,"FIELD",470,3)
R,ZERO^3160
"DATA",160.16,12,"FIELD",470,4)
COMORBIDITY/COMPLICATION #6 (160,25.5)
"DATA",160.16,12,"FIELD",471,0)
763^8^770^RX Date--Most Defin Surg
"DATA",160.16,12,"FIELD",471,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"))
"DATA",160.16,12,"FIELD",471,2)
BLANK
"DATA",160.16,12,"FIELD",471,3)
L,BLANK^3170
"DATA",160.16,12,"FIELD",471,4)
SURGERY OF PRIMARY DATE (165.5,50)
"DATA",160.16,12,"FIELD",472,0)
771^8^778^RX Date--Surgical Disch
"DATA",160.16,12,"FIELD",472,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"))
"DATA",160.16,12,"FIELD",472,2)
BLANK
"DATA",160.16,12,"FIELD",472,3)
L,BLANK^3180
"DATA",160.16,12,"FIELD",472,4)
DATE OF SURGICAL DISCHARGE (165.5,435)
"DATA",160.16,12,"FIELD",473,0)
787^8^794^RX Date--Radiation Ended
"DATA",160.16,12,"FIELD",473,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"))
"DATA",160.16,12,"FIELD",473,2)
NINE
"DATA",160.16,12,"FIELD",473,3)
L,BLANK^3220
"DATA",160.16,12,"FIELD",473,4)
DATE RADIATION ENDED (165.5,361)
"DATA",160.16,12,"FIELD",474,0)
795^8^802^RX Date--Systemic
"DATA",160.16,12,"FIELD",474,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,152) S ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,12,"FIELD",474,2)
BLANK
"DATA",160.16,12,"FIELD",474,3)
L,BLANK^3230
"DATA",160.16,12,"FIELD",474,4)
DATE SYSTEMIC THERAPY STARTED (165.5,152)
"DATA",160.16,12,"FIELD",475,0)
1351^1^1351^Recurrence Distant Site 2
"DATA",160.16,12,"FIELD",475,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.2,"I")
"DATA",160.16,12,"FIELD",475,2)
BLANK
"DATA",160.16,12,"FIELD",475,3)
L,BLANK^1872
"DATA",160.16,12,"FIELD",475,4)
DISTANT SITE 2 (165.5,71.2)
"DATA",160.16,12,"FIELD",476,0)
1352^1^1352^Recurrence Distant Site 3
"DATA",160.16,12,"FIELD",476,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.3,"I")
"DATA",160.16,12,"FIELD",476,2)
BLANK
"DATA",160.16,12,"FIELD",476,3)
L,BLANK^1873
"DATA",160.16,12,"FIELD",476,4)
DISTANT SITE 3 (165.5,71.3)
"DATA",160.16,12,"FIELD",477,0)
871^1^871^RX Summ--Palliative Proc
"DATA",160.16,12,"FIELD",477,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,12,"I")
"DATA",160.16,12,"FIELD",477,2)
NINE
"DATA",160.16,12,"FIELD",477,3)
L,BLANK^3270
"DATA",160.16,12,"FIELD",477,4)
PALLIATIVE PROCEDURE (165.5,12)
"DATA",160.16,12,"FIELD",478,0)
872^1^872^Pain Assessment (item withdrawn by COC)
"DATA",160.16,12,"FIELD",478,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",478,2)
BLANK
"DATA",160.16,12,"FIELD",478,3)
L,BLANK
"DATA",160.16,12,"FIELD",479,0)
876^2^877^RX Summ--Transplnt/Endocr
"DATA",160.16,12,"FIELD",479,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,153,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(167,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",479,2)
BLANK
"DATA",160.16,12,"FIELD",479,3)
L,BLANK^3250
"DATA",160.16,12,"FIELD",479,4)
HEMA TRANS/ENDOCRINE PROC (165.5,153)
"DATA",160.16,12,"FIELD",480,0)
911^2^912^Rad--Boost RX Modality
"DATA",160.16,12,"FIELD",480,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",480,2)
ZERO
"DATA",160.16,12,"FIELD",480,3)
L,BLANK^3200
"DATA",160.16,12,"FIELD",480,4)
BOOST TREATMENT MODALITY (165.5,363.1)
"DATA",160.16,12,"FIELD",481,0)
913^5^917^Rad--Boost Dose cGy
"DATA",160.16,12,"FIELD",481,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,443,"I")
"DATA",160.16,12,"FIELD",481,2)
ZERO
"DATA",160.16,12,"FIELD",481,3)
L,ZERO^3210
"DATA",160.16,12,"FIELD",481,4)
BOOST DOSE: cGy (165.5,443)
"DATA",160.16,12,"FIELD",482,0)
938^1^938^Readm Same Hosp 30 Days
"DATA",160.16,12,"FIELD",482,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,14,"I")
"DATA",160.16,12,"FIELD",482,2)
BLANK
"DATA",160.16,12,"FIELD",482,3)
L,BLANK^3190
"DATA",160.16,12,"FIELD",482,4)
READMISSION W/I 30 DAYS/SURG (165.5,14)
"DATA",160.16,12,"FIELD",483,0)
480^1^480^RX Hosp--Scope Reg 98-02
"DATA",160.16,12,"FIELD",483,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138.1,"SC5")
"DATA",160.16,12,"FIELD",483,2)
BLANK
"DATA",160.16,12,"FIELD",483,3)
L,BLANK^747
"DATA",160.16,12,"FIELD",483,4)
SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"DATA",160.16,12,"FIELD",484,0)
481^1^481^RX Hosp--Surg Oth 98-02
"DATA",160.16,12,"FIELD",484,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139.1,"SO5")
"DATA",160.16,12,"FIELD",484,2)
BLANK
"DATA",160.16,12,"FIELD",484,3)
L,BLANK^748
"DATA",160.16,12,"FIELD",484,4)
SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"DATA",160.16,12,"FIELD",485,0)
482^46^527^Reserved 04
"DATA",160.16,12,"FIELD",485,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",485,2)
BLANK
"DATA",160.16,12,"FIELD",485,3)
L,BLANK^750
"DATA",160.16,12,"FIELD",486,0)
939^2^940^RX Summ--Surg Site 98-02
"DATA",160.16,12,"FIELD",486,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.2,"SPS")
"DATA",160.16,12,"FIELD",486,2)
BLANK
"DATA",160.16,12,"FIELD",486,3)
L,ZERO^1646
"DATA",160.16,12,"FIELD",486,4)
SURGERY OF PRIMARY (R) (165.5,58.2)
"DATA",160.16,12,"FIELD",487,0)
941^1^941^RX Summ--Scope Reg 98-02
"DATA",160.16,12,"FIELD",487,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138,"SC5")
"DATA",160.16,12,"FIELD",487,2)
BLANK
"DATA",160.16,12,"FIELD",487,3)
L,BLANK^1647
"DATA",160.16,12,"FIELD",487,4)
SCOPE OF LN SURGERY (R) (165.5,138)
"DATA",160.16,12,"FIELD",488,0)
942^1^942^RX Summ--Surg Oth 98-02
"DATA",160.16,12,"FIELD",488,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139,"SO5")
"DATA",160.16,12,"FIELD",488,2)
BLANK
"DATA",160.16,12,"FIELD",488,3)
L,NINE^1648
"DATA",160.16,12,"FIELD",488,4)
SURG PROC/OTHER SITE (R) (165.5,139)
"DATA",160.16,12,"FIELD",489,0)
705^6^710^CS Version 1st
"DATA",160.16,12,"FIELD",489,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,12,"FIELD",489,2)
BLANK
"DATA",160.16,12,"FIELD",489,3)
L,BLANK^2935
"DATA",160.16,12,"FIELD",489,4)
CS VERSION (165.5,169)
"DATA",160.16,12,"FIELD",490,0)
711^6^716^CS Version Latest
"DATA",160.16,12,"FIELD",490,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,12,"FIELD",490,2)
BLANK
"DATA",160.16,12,"FIELD",490,3)
L,BLANK^2936
"DATA",160.16,12,"FIELD",490,4)
CS VERSION (165.5,169)
"DATA",160.16,12,"FIELD",491,0)
722^5^726^Comorbid/Complication 8
"DATA",160.16,12,"FIELD",491,1)
D CC~ONCACDU1 S ACDANS=CCEX(8)
"DATA",160.16,12,"FIELD",491,2)
BLANK
"DATA",160.16,12,"FIELD",491,3)
R,ZERO^3162
"DATA",160.16,12,"FIELD",491,4)
COMORBIDITY/COMPLICATION #8 (160,25.7)
"DATA",160.16,12,"FIELD",492,0)
727^5^731^Comorbid/Complication 9
"DATA",160.16,12,"FIELD",492,1)
D CC~ONCACDU1 S ACDANS=CCEX(9)
"DATA",160.16,12,"FIELD",492,2)
BLANK
"DATA",160.16,12,"FIELD",492,3)
R,ZERO^3163
"DATA",160.16,12,"FIELD",492,4)
COMORBIDITY/COMPLICATION #9 (160,25.8)
"DATA",160.16,12,"FIELD",493,0)
732^5^736^Comorbid/Complication 10
"DATA",160.16,12,"FIELD",493,1)
D CC~ONCACDU1 S ACDANS=CCEX(10)
"DATA",160.16,12,"FIELD",493,2)
BLANK
"DATA",160.16,12,"FIELD",493,3)
R,ZERO^3164
"DATA",160.16,12,"FIELD",493,4)
COMORBIDITY/COMPLICATION #9 (160,25.9)
"DATA",160.16,12,"FIELD",494,0)
737^1^737^ICD Revision Comorbid
"DATA",160.16,12,"FIELD",494,1)
D CC~ONCACDU1 S CC1=CCEX(1) S ACDANS=$S(CC1="":0,1:9)
"DATA",160.16,12,"FIELD",494,2)
BLANK
"DATA",160.16,12,"FIELD",494,3)
L,BLANK^3165
"DATA",160.16,12,"FIELD",494,4)
0 = No secondary diagnosis reported.  9 = ICD-9.
"DATA",160.16,12,"FIELD",495,0)
738^17^754^Reserved 05
"DATA",160.16,12,"FIELD",495,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",495,2)
BLANK
"DATA",160.16,12,"FIELD",495,3)
L,BLANK^1180
"DATA",160.16,12,"FIELD",496,0)
40^10^49^NPI--Registry ID
"DATA",160.16,12,"FIELD",496,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",496,2)
BLANK
"DATA",160.16,12,"FIELD",496,3)
L,BLANK^45
"DATA",160.16,12,"FIELD",497,0)
231^1^231^NHIA Derived Hisp Origin
"DATA",160.16,12,"FIELD",497,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",497,2)
BLANK
"DATA",160.16,12,"FIELD",497,3)
L,BLANK^191
"DATA",160.16,12,"FIELD",497,4)
Blank = Algorithm has not been run
"DATA",160.16,12,"FIELD",498,0)
232^1^232^IHS Link
"DATA",160.16,12,"FIELD",498,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",498,2)
BLANK
"DATA",160.16,12,"FIELD",498,3)
L,BLANK^192
"DATA",160.16,12,"FIELD",498,4)
Blank = Record not sent for linkage or linkage result pending
"DATA",160.16,12,"FIELD",499,0)
233^2^234^GIS Coordinate Quality
"DATA",160.16,12,"FIELD",499,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",499,2)
BLANK
"DATA",160.16,12,"FIELD",499,3)
L,BLANK^366
"DATA",160.16,12,"FIELD",499,4)
Blank = Not applicable, coordinate assignment not attempted
"DATA",160.16,12,"FIELD",500,0)
322^2^323^Casefinding Source
"DATA",160.16,12,"FIELD",500,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,21,"I")
"DATA",160.16,12,"FIELD",500,2)
NINE
"DATA",160.16,12,"FIELD",500,3)
L,BLANK^501
"DATA",160.16,12,"FIELD",500,4)
CASEFINDING SOURCE (165.5,21)
"DATA",160.16,12,"FIELD",501,0)
324^1^324^Ambiguous Terminology DX
"DATA",160.16,12,"FIELD",501,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,159,"I")
"DATA",160.16,12,"FIELD",501,2)
BLANK
"DATA",160.16,12,"FIELD",501,3)
L,BLANK^442
"DATA",160.16,12,"FIELD",501,4)
AMBIGUOUS TERMINOLOGY DX (165.5,159)
"DATA",160.16,12,"FIELD",502,0)
325^8^332^Date of Conclusive DX
"DATA",160.16,12,"FIELD",502,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"))
"DATA",160.16,12,"FIELD",502,2)
BLANK
"DATA",160.16,12,"FIELD",502,3)
L,BLANK^443
"DATA",160.16,12,"FIELD",502,4)
DATE OF CONCLUSIVE DX (165.5,193)
"DATA",160.16,12,"FIELD",503,0)
333^2^334^Mult Tum Rpt as One Prim
"DATA",160.16,12,"FIELD",503,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,194,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(169,ACDANS,.01,"I")
"DATA",160.16,12,"FIELD",503,2)
BLANK
"DATA",160.16,12,"FIELD",503,3)
L,BLANK^444
"DATA",160.16,12,"FIELD",503,4)
MULT TUM RPT AS ONE PRIM (165.5,194)
"DATA",160.16,12,"FIELD",504,0)
335^8^342^Date of Multiple Tumors
"DATA",160.16,12,"FIELD",504,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"))
"DATA",160.16,12,"FIELD",504,2)
BLANK
"DATA",160.16,12,"FIELD",504,3)
L,BLANK^445
"DATA",160.16,12,"FIELD",504,4)
DATE OF MULTIPLE TUMORS (165.5,195)
"DATA",160.16,12,"FIELD",505,0)
343^2^344^Multiplicity Counter
"DATA",160.16,12,"FIELD",505,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,196,"I")
"DATA",160.16,12,"FIELD",505,2)
BLANK
"DATA",160.16,12,"FIELD",505,3)
L,BLANK^446
"DATA",160.16,12,"FIELD",505,4)
MULTIPLICITY COUNTER (165.5,196)
"DATA",160.16,12,"FIELD",506,0)
345^2^346^Number of Tumors/Hist
"DATA",160.16,12,"FIELD",506,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",506,2)
BLANK
"DATA",160.16,12,"FIELD",506,3)
L,BLANK^447
"DATA",160.16,12,"FIELD",506,4)
This item is for future use in 2007.
"DATA",160.16,12,"FIELD",507,0)
890^4^893^Reserved 33
"DATA",160.16,12,"FIELD",507,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",507,2)
BLANK
"DATA",160.16,12,"FIELD",507,3)
L,BLANK^1465
"DATA",160.16,12,"FIELD",508,0)
1397^2^1398^Follow-up Source Central
"DATA",160.16,12,"FIELD",508,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",508,2)
BLANK
"DATA",160.16,12,"FIELD",508,3)
L,BLANK^1791
"DATA",160.16,12,"FIELD",508,4)
This field is created by the central registry.
"DATA",160.16,12,"FIELD",509,0)
50^2^51^Reserved 01
"DATA",160.16,12,"FIELD",509,1)
S ACDANS=""
"DATA",160.16,12,"FIELD",509,2)
BLANK
"DATA",160.16,12,"FIELD",509,3)
L,BLANK^370
"DATA",160.16,12,"RULES",0)
^160.162^10^10^3070409^^^^
"DATA",160.16,12,"RULES",1,0)
S VALID=1
"DATA",160.16,12,"RULES",2,0)
S DATEDX=$$GET1^DIQ(165.5,IEN,3,"I")
"DATA",160.16,12,"RULES",3,0)
S SCREEN="^"_$$GET1^DIQ(165.5,IEN,.04,"I")_"^"
"DATA",160.16,12,"RULES",4,0)
I DATEDX<3000000,"^0^1^2^6^"'[SCREEN S VALID=0
"DATA",160.16,12,"RULES",5,0)
I DATEDX>2991231,"^0^1^2^"'[SCREEN S VALID=0
"DATA",160.16,12,"RULES",6,0)
I $$GET1^DIQ(165.5,IEN,91,"I")<3 S VALID=0
"DATA",160.16,12,"RULES",7,0)
S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"DATA",160.16,12,"RULES",8,0)
S:VALID VALID=$S($E(TPG,3,4)=71:1,$E(TPG,3,4)=72:1,$E(TPG,3,5)=751:1,$E(TPG,3,5)=753:1,$$BEHAV^ONCACDU1(IEN)=2:1,$$BEHAV^ONCACDU1(IEN)=3:1,1:0)
"DATA",160.16,12,"RULES",9,0)
S JUMP=0
"DATA",160.16,12,"RULES",10,0)
K SCREEN
"DATA",160.16,13,0)
STATE EXTRACT V11.1
"DATA",160.16,13,"FIELD",0)
^160.161I^571^403
"DATA",160.16,13,"FIELD",1,0)
1^1^1^Record Type
"DATA",160.16,13,"FIELD",1,1)
S ACDANS="A"
"DATA",160.16,13,"FIELD",1,2)
BLANK
"DATA",160.16,13,"FIELD",1,3)
L,BLANK^10
"DATA",160.16,13,"FIELD",1,4)
"A" Full case Abstract record type (incidence and confidential data plus text summaries; used for reporting to central registries)
"DATA",160.16,13,"FIELD",2,0)
2^8^9^Patient ID Number
"DATA",160.16,13,"FIELD",2,1)
S ACDANS=99999999
"DATA",160.16,13,"FIELD",2,2)
BLANK
"DATA",160.16,13,"FIELD",2,3)
L,BLANK^20
"DATA",160.16,13,"FIELD",3,0)
10^1^10^Registry Type
"DATA",160.16,13,"FIELD",3,1)
S ACDANS=3
"DATA",160.16,13,"FIELD",3,2)
BLANK
"DATA",160.16,13,"FIELD",3,3)
L,BLANK^30
"DATA",160.16,13,"FIELD",3,4)
3 Single hospital/freestanding center
"DATA",160.16,13,"FIELD",4,0)
11^1^11^FIN Coding System
"DATA",160.16,13,"FIELD",4,1)
S ACDANS=$S($L(STAT1)=7:1,$L(STAT1)=8:2,1:9)
"DATA",160.16,13,"FIELD",4,2)
BLANK
"DATA",160.16,13,"FIELD",4,3)
L,BLANK^35
"DATA",160.16,13,"FIELD",4,4)
FACILITY ID # (160.1,27)
"DATA",160.16,13,"FIELD",5,0)
19^1^19^NAACCR Record Version
"DATA",160.16,13,"FIELD",5,1)
S ACDANS="B"
"DATA",160.16,13,"FIELD",5,2)
BLANK
"DATA",160.16,13,"FIELD",5,3)
L,BLANK^50
"DATA",160.16,13,"FIELD",5,4)
2006 Version 11
"DATA",160.16,13,"FIELD",6,0)
20^10^29^Registry Id
"DATA",160.16,13,"FIELD",6,1)
S ACDANS=STAT1
"DATA",160.16,13,"FIELD",6,2)
ZERO
"DATA",160.16,13,"FIELD",6,3)
L,ZERO^40
"DATA",160.16,13,"FIELD",6,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,13,"FIELD",18,0)
74^9^82^Addr at DX--Postal Code
"DATA",160.16,13,"FIELD",18,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,9,"I")
"DATA",160.16,13,"FIELD",18,2)
BLANK
"DATA",160.16,13,"FIELD",18,3)
R,BLANK^100
"DATA",160.16,13,"FIELD",18,4)
POSTAL CODE AT DX (165.5,9)
"DATA",160.16,13,"FIELD",26,0)
93^6^98^Census Tract 2000
"DATA",160.16,13,"FIELD",26,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,13,"FIELD",26,2)
BLANK
"DATA",160.16,13,"FIELD",26,3)
L,BLANK^130
"DATA",160.16,13,"FIELD",26,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,13,"FIELD",29,0)
101^1^101^Census Tr Certainty 2000
"DATA",160.16,13,"FIELD",29,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",29,2)
BLANK
"DATA",160.16,13,"FIELD",29,3)
L,BLANK^365
"DATA",160.16,13,"FIELD",30,0)
102^1^102^Marital Status at DX
"DATA",160.16,13,"FIELD",30,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,11,"I")
"DATA",160.16,13,"FIELD",30,2)
BLANK
"DATA",160.16,13,"FIELD",30,3)
L,BLANK^150
"DATA",160.16,13,"FIELD",30,4)
MARITAL STATUS AT DX (165.5,11)
"DATA",160.16,13,"FIELD",31,0)
103^2^104^Race 1
"DATA",160.16,13,"FIELD",31,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8,"I")
"DATA",160.16,13,"FIELD",31,2)
BLANK
"DATA",160.16,13,"FIELD",31,3)
L,ZERO^160
"DATA",160.16,13,"FIELD",31,4)
RACE 1 (160,8)
"DATA",160.16,13,"FIELD",32,0)
143^40^182^Text--Usual Occupation
"DATA",160.16,13,"FIELD",32,1)
S ACDANS=$$OCCUP~ONCACDU1(ACD160)
"DATA",160.16,13,"FIELD",32,2)
BLANK
"DATA",160.16,13,"FIELD",32,3)
R,BLANK^310
"DATA",160.16,13,"FIELD",32,4)
USUAL OCCUPATION (160.042,.01)
"DATA",160.16,13,"FIELD",33,0)
183^40^222^Text--Usual Industry
"DATA",160.16,13,"FIELD",33,1)
S ACDANS=$$IND~ONCACDU1(ACD160)
"DATA",160.16,13,"FIELD",33,2)
BLANK
"DATA",160.16,13,"FIELD",33,3)
R,BLANK^320
"DATA",160.16,13,"FIELD",33,4)
USUAL INDUSTRY (160.042,3)
"DATA",160.16,13,"FIELD",41,0)
291^4^294^Primary Site
"DATA",160.16,13,"FIELD",41,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,20,"I") S:ACDANS'="" ACDANS=$TR($$GET1~DIQ(164,ACDANS,1,"I"),".","")
"DATA",160.16,13,"FIELD",41,2)
BLANK
"DATA",160.16,13,"FIELD",41,3)
L,ZERO^400
"DATA",160.16,13,"FIELD",41,4)
PRIMARY SITE (165.5,20)
"DATA",160.16,13,"FIELD",42,0)
295^1^295^Laterality
"DATA",160.16,13,"FIELD",42,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,28,"I")
"DATA",160.16,13,"FIELD",42,2)
BLANK
"DATA",160.16,13,"FIELD",42,3)
L,BLANK^410
"DATA",160.16,13,"FIELD",42,4)
LATERALITY (165.5,28)
"DATA",160.16,13,"FIELD",43,0)
296^5^300^Morph--Type&Behav ICD-O-2
"DATA",160.16,13,"FIELD",43,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,22,"I"),1:"") K DATEDX
"DATA",160.16,13,"FIELD",43,2)
BLANK
"DATA",160.16,13,"FIELD",43,3)
L,ZERO^419
"DATA",160.16,13,"FIELD",43,4)
HISTOLOGY (ICD-O-2) (165.5,22)
"DATA",160.16,13,"FIELD",45,0)
306^1^306^Grade
"DATA",160.16,13,"FIELD",45,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24,"I")
"DATA",160.16,13,"FIELD",45,2)
BLANK
"DATA",160.16,13,"FIELD",45,3)
L,ZERO^440
"DATA",160.16,13,"FIELD",45,4)
GRADE/DIFFERENTIATION (165.5,24)
"DATA",160.16,13,"FIELD",46,0)
307^1^307^Site Coding Sys--Current
"DATA",160.16,13,"FIELD",46,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,13,"FIELD",46,2)
BLANK
"DATA",160.16,13,"FIELD",46,3)
L,ZERO^450
"DATA",160.16,13,"FIELD",46,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,13,"FIELD",47,0)
308^1^308^Site Coding Sys--Original
"DATA",160.16,13,"FIELD",47,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,13,"FIELD",47,2)
BLANK
"DATA",160.16,13,"FIELD",47,3)
L,ZERO^460
"DATA",160.16,13,"FIELD",47,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,13,"FIELD",48,0)
309^1^309^Morph Coding Sys--Current
"DATA",160.16,13,"FIELD",48,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:7,1:6) K DATEDX
"DATA",160.16,13,"FIELD",48,2)
BLANK
"DATA",160.16,13,"FIELD",48,3)
L,ZERO^470
"DATA",160.16,13,"FIELD",48,4)
6 = ICD-O, Second Edition, plus FAB codes effective 1/1/98; 7 = ICD-O, Third Edition
"DATA",160.16,13,"FIELD",49,0)
310^1^310^Morph Coding Sys--Originl
"DATA",160.16,13,"FIELD",49,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:7,1:6) K DATEDX
"DATA",160.16,13,"FIELD",49,2)
BLANK
"DATA",160.16,13,"FIELD",49,3)
L,ZERO^480
"DATA",160.16,13,"FIELD",49,4)
6 = ICD-O, Second Edition, plus FAB codes effective 1/1/98; 7 = ICD-O, Third Edition
"DATA",160.16,13,"FIELD",50,0)
311^1^311^Diagnostic Confirmation
"DATA",160.16,13,"FIELD",50,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,26,"I")
"DATA",160.16,13,"FIELD",50,2)
BLANK
"DATA",160.16,13,"FIELD",50,3)
L,ZERO^490
"DATA",160.16,13,"FIELD",50,4)
DIAGNOSTIC CONFIRMATION (165.5,26)
"DATA",160.16,13,"FIELD",51,0)
312^1^312^Type of Reporting Source
"DATA",160.16,13,"FIELD",51,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.2,"I")
"DATA",160.16,13,"FIELD",51,2)
BLANK
"DATA",160.16,13,"FIELD",51,3)
L,BLANK^500
"DATA",160.16,13,"FIELD",51,4)
TYPE OF REPORTING SOURCE (165.5,1.2)
"DATA",160.16,13,"FIELD",52,0)
313^8^320^Screening Date
"DATA",160.16,13,"FIELD",52,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,79,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",52,2)
BLANK
"DATA",160.16,13,"FIELD",52,3)
L,BLANK^510
"DATA",160.16,13,"FIELD",52,4)
SCREENING DATE (165.5,79)
"DATA",160.16,13,"FIELD",53,0)
321^1^321^Screening Result
"DATA",160.16,13,"FIELD",53,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,119,"I")
"DATA",160.16,13,"FIELD",53,2)
BLANK
"DATA",160.16,13,"FIELD",53,3)
L,BLANK^520
"DATA",160.16,13,"FIELD",53,4)
SCREENING RESULT (165.5,119)
"DATA",160.16,13,"FIELD",54,0)
301^5^305^Morph--Type&Behav ICD-O-3
"DATA",160.16,13,"FIELD",54,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,22.3,"I")
"DATA",160.16,13,"FIELD",54,2)
BLANK
"DATA",160.16,13,"FIELD",54,3)
L,ZERO^521
"DATA",160.16,13,"FIELD",54,4)
HISTOLOGY (ICD-O-3) (165.5,22.3)
"DATA",160.16,13,"FIELD",57,0)
411^2^412^Sequence Number--Hospital
"DATA",160.16,13,"FIELD",57,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.06,"I")
"DATA",160.16,13,"FIELD",57,2)
BLANK
"DATA",160.16,13,"FIELD",57,3)
L,ZERO^560
"DATA",160.16,13,"FIELD",57,4)
SEQUENCE NUMBER (165.5,.06)
"DATA",160.16,13,"FIELD",58,0)
413^3^415^Abstracted By
"DATA",160.16,13,"FIELD",58,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,92,"I") S:ACDANS'="" ACDANS=$E($$GET1~DIQ(200,ACDANS,1,"I"),1,3)
"DATA",160.16,13,"FIELD",58,2)
BLANK
"DATA",160.16,13,"FIELD",58,3)
R,BLANK^570
"DATA",160.16,13,"FIELD",58,4)
ABSTRACTED BY (165.5,92)
"DATA",160.16,13,"FIELD",59,0)
416^8^423^Date of 1st Contact
"DATA",160.16,13,"FIELD",59,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,155,"I") S:ACDANS="" ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",59,2)
BLANK
"DATA",160.16,13,"FIELD",59,3)
L,ZERO^580
"DATA",160.16,13,"FIELD",59,4)
DATE OF FIRST CONTACT (165.5,155) or DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,13,"FIELD",60,0)
424^8^431^Date of Inpatient Adm
"DATA",160.16,13,"FIELD",60,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",60,2)
BLANK
"DATA",160.16,13,"FIELD",60,3)
L,ZERO^590
"DATA",160.16,13,"FIELD",60,4)
DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,13,"FIELD",61,0)
432^8^439^Date of Inpatient Disch
"DATA",160.16,13,"FIELD",61,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",61,2)
BLANK
"DATA",160.16,13,"FIELD",61,3)
L,ZERO^600
"DATA",160.16,13,"FIELD",61,4)
DATE OF INPATIENT DISCHARGE (165.5,1.1)
"DATA",160.16,13,"FIELD",62,0)
440^1^440^Class of Case
"DATA",160.16,13,"FIELD",62,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.04,"I")
"DATA",160.16,13,"FIELD",62,2)
BLANK
"DATA",160.16,13,"FIELD",62,3)
L,ZERO^610
"DATA",160.16,13,"FIELD",62,4)
CLASS OF CASE (165.5,.04)
"DATA",160.16,13,"FIELD",63,0)
441^4^444^Reserved 26
"DATA",160.16,13,"FIELD",63,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",63,2)
BLANK
"DATA",160.16,13,"FIELD",63,3)
L,BLANK^615
"DATA",160.16,13,"FIELD",63,4)

"DATA",160.16,13,"FIELD",64,0)
445^2^446^Primary Payer at DX
"DATA",160.16,13,"FIELD",64,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,18,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.3,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",64,2)
NINE
"DATA",160.16,13,"FIELD",64,3)
L,BLANK^630
"DATA",160.16,13,"FIELD",64,4)
PRIMARY PAYER AT DX (165.5,18)
"DATA",160.16,13,"FIELD",65,0)
447^10^456^NPI--Archive FIN
"DATA",160.16,13,"FIELD",65,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",65,2)
BLANK
"DATA",160.16,13,"FIELD",65,3)
L,BLANK^3105
"DATA",160.16,13,"FIELD",65,4)

"DATA",160.16,13,"FIELD",68,0)
457^2^458^RX Hosp--Surg Prim Site
"DATA",160.16,13,"FIELD",68,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.7,"SPS")
"DATA",160.16,13,"FIELD",68,2)
NINE
"DATA",160.16,13,"FIELD",68,3)
L,ZERO^670
"DATA",160.16,13,"FIELD",68,4)
SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"DATA",160.16,13,"FIELD",69,0)
478^2^479^RX Hosp--Surg Site 98-02
"DATA",160.16,13,"FIELD",69,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,50.2,"SPS")
"DATA",160.16,13,"FIELD",69,2)
BLANK
"DATA",160.16,13,"FIELD",69,3)
L,ZERO^746
"DATA",160.16,13,"FIELD",69,4)
SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"DATA",160.16,13,"FIELD",70,0)
463^1^463^RX Hosp--Radiation
"DATA",160.16,13,"FIELD",70,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.4,"I")
"DATA",160.16,13,"FIELD",70,2)
BLANK
"DATA",160.16,13,"FIELD",70,3)
L,ZERO^690
"DATA",160.16,13,"FIELD",70,4)
RADIATION @FACILITY (165.5,51.4)
"DATA",160.16,13,"FIELD",71,0)
464^2^465^RX Hosp--Chemo
"DATA",160.16,13,"FIELD",71,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.3,"I")
"DATA",160.16,13,"FIELD",71,2)
NINE
"DATA",160.16,13,"FIELD",71,3)
L,BLANK^700
"DATA",160.16,13,"FIELD",71,4)
CHEMOTHERAPY @FAC (165.5,53.3)
"DATA",160.16,13,"FIELD",72,0)
466^2^467^RX Hosp--Hormone
"DATA",160.16,13,"FIELD",72,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.3,"I")
"DATA",160.16,13,"FIELD",72,2)
NINE
"DATA",160.16,13,"FIELD",72,3)
L,BLANK^710
"DATA",160.16,13,"FIELD",72,4)
HORMONE THERAPY @FAC (165.5,54.3)
"DATA",160.16,13,"FIELD",73,0)
468^2^469^RX Hosp--BRM
"DATA",160.16,13,"FIELD",73,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.3,"I")
"DATA",160.16,13,"FIELD",73,2)
NINE
"DATA",160.16,13,"FIELD",73,3)
L,BLANK^720
"DATA",160.16,13,"FIELD",73,4)
IMMUNOTHERAPY @FAC (165.5,55.3)
"DATA",160.16,13,"FIELD",74,0)
470^1^470^RX Hosp--Other
"DATA",160.16,13,"FIELD",74,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.3,"I")
"DATA",160.16,13,"FIELD",74,2)
BLANK
"DATA",160.16,13,"FIELD",74,3)
L,ZERO^730
"DATA",160.16,13,"FIELD",74,4)
OTHER TREATMENT @FAC (165.5,57.3)
"DATA",160.16,13,"FIELD",75,0)
471^2^472^RX Hosp--DX/Stg Proc
"DATA",160.16,13,"FIELD",75,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.4,"I")
"DATA",160.16,13,"FIELD",75,2)
ZNINE
"DATA",160.16,13,"FIELD",75,3)
L,ZERO^740
"DATA",160.16,13,"FIELD",75,4)
SURG DX/STAGING PROC @FAC (165.5,58.4)
"DATA",160.16,13,"FIELD",77,0)
529^1^529^SEER Summary Stage 1977
"DATA",160.16,13,"FIELD",77,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,13,"FIELD",77,2)
BLANK
"DATA",160.16,13,"FIELD",77,3)
L,BLANK^760
"DATA",160.16,13,"FIELD",77,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,13,"FIELD",78,0)
530^1^530^Reserved 29
"DATA",160.16,13,"FIELD",78,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",78,2)
BLANK
"DATA",160.16,13,"FIELD",78,3)
L,BLANK^765
"DATA",160.16,13,"FIELD",78,4)

"DATA",160.16,13,"FIELD",79,0)
531^3^533^EOD--Tumor Size
"DATA",160.16,13,"FIELD",79,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,29,"I")
"DATA",160.16,13,"FIELD",79,2)
BLANK
"DATA",160.16,13,"FIELD",79,3)
L,ZERO^780
"DATA",160.16,13,"FIELD",79,4)
TUMOR SIZE (165.5,29)
"DATA",160.16,13,"FIELD",80,0)
534^2^535^EOD--Extension
"DATA",160.16,13,"FIELD",80,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30,"I")
"DATA",160.16,13,"FIELD",80,2)
BLANK
"DATA",160.16,13,"FIELD",80,3)
L,ZERO^790
"DATA",160.16,13,"FIELD",80,4)
EXTENSION (165.5,30)
"DATA",160.16,13,"FIELD",81,0)
536^2^537^EOD--Extension Prost Path
"DATA",160.16,13,"FIELD",81,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30.1,"I")
"DATA",160.16,13,"FIELD",81,2)
BLANK
"DATA",160.16,13,"FIELD",81,3)
L,ZERO^800
"DATA",160.16,13,"FIELD",81,4)
PATHOLOGIC EXTENSION (165.5,30.1)
"DATA",160.16,13,"FIELD",82,0)
538^1^538^EOD--Lymph Node Involv
"DATA",160.16,13,"FIELD",82,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,31,"I")
"DATA",160.16,13,"FIELD",82,2)
BLANK
"DATA",160.16,13,"FIELD",82,3)
L,BLANK^810
"DATA",160.16,13,"FIELD",82,4)
LYMPH NODES (165.5,31)
"DATA",160.16,13,"FIELD",83,0)
539^2^540^Regional Nodes Positive
"DATA",160.16,13,"FIELD",83,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,32,"I")
"DATA",160.16,13,"FIELD",83,2)
BLANK
"DATA",160.16,13,"FIELD",83,3)
L,ZERO^820
"DATA",160.16,13,"FIELD",83,4)
REGIONAL LYMPH NODES POSITIVE (165.5,32)
"DATA",160.16,13,"FIELD",84,0)
541^2^542^Regional Nodes Examined
"DATA",160.16,13,"FIELD",84,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,33,"I")
"DATA",160.16,13,"FIELD",84,2)
BLANK
"DATA",160.16,13,"FIELD",84,3)
L,ZERO^830
"DATA",160.16,13,"FIELD",84,4)
REGIONAL LYMPH NODES EXAMINED (165.5,33)
"DATA",160.16,13,"FIELD",85,0)
543^13^555^EOD--Old 13 Digit
"DATA",160.16,13,"FIELD",85,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",85,2)
BLANK
"DATA",160.16,13,"FIELD",85,3)
L,BLANK^840
"DATA",160.16,13,"FIELD",86,0)
556^2^557^EOD--Old 2 Digit
"DATA",160.16,13,"FIELD",86,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",86,2)
BLANK
"DATA",160.16,13,"FIELD",86,3)
L,BLANK^850
"DATA",160.16,13,"FIELD",87,0)
558^4^561^EOD--Old 4 Digit
"DATA",160.16,13,"FIELD",87,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",87,2)
BLANK
"DATA",160.16,13,"FIELD",87,3)
L,BLANK^860
"DATA",160.16,13,"FIELD",88,0)
562^1^562^Coding System for EOD
"DATA",160.16,13,"FIELD",88,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3031231:"",1:4) K DATEDX
"DATA",160.16,13,"FIELD",88,2)
BLANK
"DATA",160.16,13,"FIELD",88,3)
L,BLANK^870
"DATA",160.16,13,"FIELD",88,4)
Blank = DATE DX 2004+; 4 = 10-Digit Extent of Disease, 1988 (1988+)
"DATA",160.16,13,"FIELD",89,0)
563^2^564^TNM Path T
"DATA",160.16,13,"FIELD",89,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,85,"I") S:ACDANS'="" ACDANS=$S(ACDANS="1A1":"A1",ACDANS="1A2":"A2",ACDANS="1B1":"B1",ACDANS="1B2":"B2",1:ACDANS)
"DATA",160.16,13,"FIELD",89,2)
BLANK
"DATA",160.16,13,"FIELD",89,3)
R,BLANK^880
"DATA",160.16,13,"FIELD",89,4)
PATHOLOGIC T (165.5,85)
"DATA",160.16,13,"FIELD",90,0)
565^2^566^TNM Path N
"DATA",160.16,13,"FIELD",90,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,86,"I") S:ACDANS'="" ACDANS=$S(ACDANS="O(I+)":0,ACDANS="O(I-)":0,ACDANS="0(MOL+)":0,ACDANS="0(MOL-)":0,1:ACDANS)
"DATA",160.16,13,"FIELD",90,2)
BLANK
"DATA",160.16,13,"FIELD",90,3)
R,BLANK^890
"DATA",160.16,13,"FIELD",90,4)
PATHOLOGIC N (165.5,86)
"DATA",160.16,13,"FIELD",91,0)
567^2^568^TNM Path M
"DATA",160.16,13,"FIELD",91,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,87,"I")
"DATA",160.16,13,"FIELD",91,2)
BLANK
"DATA",160.16,13,"FIELD",91,3)
R,BLANK^900
"DATA",160.16,13,"FIELD",91,4)
PATHOLOGIC M (165.5,87)
"DATA",160.16,13,"FIELD",92,0)
569^2^570^TNM Path Stage Group
"DATA",160.16,13,"FIELD",92,1)
S ACDANS=$$SG~ONCACDU1(IEN,"P")
"DATA",160.16,13,"FIELD",92,2)
BLANK
"DATA",160.16,13,"FIELD",92,3)
R,BLANK^910
"DATA",160.16,13,"FIELD",92,4)
PATHOLOGIC STAGE GROUP (165.5,88)
"DATA",160.16,13,"FIELD",93,0)
571^1^571^TNM Path Descriptor
"DATA",160.16,13,"FIELD",93,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"P")
"DATA",160.16,13,"FIELD",93,2)
ZERO
"DATA",160.16,13,"FIELD",93,3)
L,ZERO^920
"DATA",160.16,13,"FIELD",93,4)
PATHOLOGIC TNM (165.5,89.1)
"DATA",160.16,13,"FIELD",94,0)
572^1^572^TNM Path Staged By
"DATA",160.16,13,"FIELD",94,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,89,"I")
"DATA",160.16,13,"FIELD",94,2)
NINE
"DATA",160.16,13,"FIELD",94,3)
L,BLANK^930
"DATA",160.16,13,"FIELD",94,4)
STAGED BY (PATHOLOGIC STAGE) (165.5,89)
"DATA",160.16,13,"FIELD",95,0)
573^2^574^TNM Clin T
"DATA",160.16,13,"FIELD",95,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.1,"I") S:ACDANS'="" ACDANS=$S(ACDANS="1A1":"A1",ACDANS="1A2":"A2",ACDANS="1B1":"B1",ACDANS="1B2":"B2",1:ACDANS)
"DATA",160.16,13,"FIELD",95,2)
BLANK
"DATA",160.16,13,"FIELD",95,3)
R,BLANK^940
"DATA",160.16,13,"FIELD",95,4)
CLINICAL T (165.5,37.1)
"DATA",160.16,13,"FIELD",96,0)
575^2^576^TNM Clin N
"DATA",160.16,13,"FIELD",96,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.2,"I")
"DATA",160.16,13,"FIELD",96,2)
BLANK
"DATA",160.16,13,"FIELD",96,3)
R,BLANK^950
"DATA",160.16,13,"FIELD",96,4)
CLINCIAL N (165.5,37.2)
"DATA",160.16,13,"FIELD",97,0)
577^2^578^TNM Clin M
"DATA",160.16,13,"FIELD",97,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.3,"I")
"DATA",160.16,13,"FIELD",97,2)
BLANK
"DATA",160.16,13,"FIELD",97,3)
R,BLANK^960
"DATA",160.16,13,"FIELD",97,4)
CLINCIAL M (165.5,37.3)
"DATA",160.16,13,"FIELD",98,0)
579^2^580^TNM Clin Stage Group
"DATA",160.16,13,"FIELD",98,1)
S ACDANS=$$SG~ONCACDU1(IEN,"C")
"DATA",160.16,13,"FIELD",98,2)
BLANK
"DATA",160.16,13,"FIELD",98,3)
R,BLANK^970
"DATA",160.16,13,"FIELD",98,4)
CLINICAL STAGE GROUP (165.5,38)
"DATA",160.16,13,"FIELD",99,0)
581^1^581^TNM Clin Descriptor
"DATA",160.16,13,"FIELD",99,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"C")
"DATA",160.16,13,"FIELD",99,2)
ZERO
"DATA",160.16,13,"FIELD",99,3)
L,ZERO^980
"DATA",160.16,13,"FIELD",99,4)
CLINICAL TNM (165.5,37)
"DATA",160.16,13,"FIELD",100,0)
582^1^582^TNM Clin Staged By
"DATA",160.16,13,"FIELD",100,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,19,"I")
"DATA",160.16,13,"FIELD",100,2)
NINE
"DATA",160.16,13,"FIELD",100,3)
L,BLANK^990
"DATA",160.16,13,"FIELD",100,4)
STAGED BY (CLINICAL STAGE) (165.5,19)
"DATA",160.16,13,"FIELD",101,0)
583^10^592^Reserved 30
"DATA",160.16,13,"FIELD",101,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",101,2)
BLANK
"DATA",160.16,13,"FIELD",101,3)
L,BLANK^995
"DATA",160.16,13,"FIELD",101,4)

"DATA",160.16,13,"FIELD",107,0)
593^2^594^TNM Edition Number
"DATA",160.16,13,"FIELD",107,1)
S ACDANS=$$TNMED~ONCOU55(IEN)
"DATA",160.16,13,"FIELD",107,2)
BLANK
"DATA",160.16,13,"FIELD",107,3)
L,ZERO^1060
"DATA",160.16,13,"FIELD",107,4)
DATE DX (165.5,3)
"DATA",160.16,13,"FIELD",108,0)
595^15^609^Reserved 31
"DATA",160.16,13,"FIELD",108,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",108,2)
BLANK
"DATA",160.16,13,"FIELD",108,3)
L,BLANK^1065
"DATA",160.16,13,"FIELD",108,4)

"DATA",160.16,13,"FIELD",109,0)
610^8^617^Date of 1st Positive BX
"DATA",160.16,13,"FIELD",109,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,137,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",109,2)
BLANK
"DATA",160.16,13,"FIELD",109,3)
L,BLANK^1080
"DATA",160.16,13,"FIELD",109,4)
DATE OF 1ST POSITIVE BIOPSY (165.5,137)
"DATA",160.16,13,"FIELD",110,0)
618^1^618^Site of Distant Met 1
"DATA",160.16,13,"FIELD",110,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34,"I")
"DATA",160.16,13,"FIELD",110,2)
BLANK
"DATA",160.16,13,"FIELD",110,3)
L,BLANK^1090
"DATA",160.16,13,"FIELD",110,4)
SITE OF DISTANT METASTASIS #1 (165.5,34)
"DATA",160.16,13,"FIELD",111,0)
619^1^619^Site of Distant Met 2
"DATA",160.16,13,"FIELD",111,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.1,"I")
"DATA",160.16,13,"FIELD",111,2)
BLANK
"DATA",160.16,13,"FIELD",111,3)
L,BLANK^1100
"DATA",160.16,13,"FIELD",111,4)
SITE OF DISTANT METASTASIS #2 (165.5,34.1)
"DATA",160.16,13,"FIELD",112,0)
620^1^620^Site of Distant Met 3
"DATA",160.16,13,"FIELD",112,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.2,"I")
"DATA",160.16,13,"FIELD",112,2)
BLANK
"DATA",160.16,13,"FIELD",112,3)
L,BLANK^1110
"DATA",160.16,13,"FIELD",112,4)
SITE OF DISTANT METASTASIS #3 (165.5,34.2)
"DATA",160.16,13,"FIELD",113,0)
621^2^622^Pediatric Stage
"DATA",160.16,13,"FIELD",113,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,850,"I")
"DATA",160.16,13,"FIELD",113,2)
BLANK
"DATA",160.16,13,"FIELD",113,3)
L,BLANK^1120
"DATA",160.16,13,"FIELD",113,4)
PEDIATRIC STAGE (165.5,850)
"DATA",160.16,13,"FIELD",114,0)
623^2^624^Pediatric Staging System
"DATA",160.16,13,"FIELD",114,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,849,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.6,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",114,2)
BLANK
"DATA",160.16,13,"FIELD",114,3)
L,BLANK^1130
"DATA",160.16,13,"FIELD",114,4)
TYPE OF STAGING SYSTEM (PED) (165.5,849)
"DATA",160.16,13,"FIELD",115,0)
625^1^625^Pediatric Staged By
"DATA",160.16,13,"FIELD",115,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,851,"I")
"DATA",160.16,13,"FIELD",115,2)
BLANK
"DATA",160.16,13,"FIELD",115,3)
L,BLANK^1140
"DATA",160.16,13,"FIELD",115,4)
STAGED BY (PEDIATRIC STAGE) (165.5,851)
"DATA",160.16,13,"FIELD",116,0)
626^1^626^Tumor Marker 1
"DATA",160.16,13,"FIELD",116,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",116,2)
BLANK
"DATA",160.16,13,"FIELD",116,3)
L,BLANK^1150
"DATA",160.16,13,"FIELD",116,4)
TUMOR MARKER 1 (165.5,25.1)
"DATA",160.16,13,"FIELD",117,0)
627^1^627^Tumor Marker 2
"DATA",160.16,13,"FIELD",117,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",117,2)
BLANK
"DATA",160.16,13,"FIELD",117,3)
L,BLANK^1160
"DATA",160.16,13,"FIELD",117,4)
TUMOR MARKER 2 (165.5,25.2)
"DATA",160.16,13,"FIELD",118,0)
628^1^628^Tumor Marker 3
"DATA",160.16,13,"FIELD",118,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",118,2)
BLANK
"DATA",160.16,13,"FIELD",118,3)
L,BLANK^1170
"DATA",160.16,13,"FIELD",118,4)
TUMOR MARKER 3 (165.5,25.3)
"DATA",160.16,13,"FIELD",119,0)
717^5^721^Comorbid/Complication 7
"DATA",160.16,13,"FIELD",119,1)
D CC~ONCACDU1 S ACDANS=CCEX(7)
"DATA",160.16,13,"FIELD",119,2)
BLANK
"DATA",160.16,13,"FIELD",119,3)
R,ZERO^3161
"DATA",160.16,13,"FIELD",119,4)
COMORBIDITY/COMPLICATION #7 (160,25.6)
"DATA",160.16,13,"FIELD",121,0)
755^8^762^RX Date--Surgery
"DATA",160.16,13,"FIELD",121,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"))
"DATA",160.16,13,"FIELD",121,2)
BLANK
"DATA",160.16,13,"FIELD",121,3)
L,BLANK^1200
"DATA",160.16,13,"FIELD",121,4)
DATE FIRST SURGICAL PROCEDURE (165.5,170)
"DATA",160.16,13,"FIELD",122,0)
779^8^786^RX Date--Radiation
"DATA",160.16,13,"FIELD",122,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"))
"DATA",160.16,13,"FIELD",122,2)
BLANK
"DATA",160.16,13,"FIELD",122,3)
L,BLANK^1210
"DATA",160.16,13,"FIELD",122,4)
DATE RADIATION STARTED (165.5,51)
"DATA",160.16,13,"FIELD",123,0)
803^8^810^RX Date--Chemo
"DATA",160.16,13,"FIELD",123,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"))
"DATA",160.16,13,"FIELD",123,2)
BLANK
"DATA",160.16,13,"FIELD",123,3)
L,BLANK^1220
"DATA",160.16,13,"FIELD",123,4)
CHEMOTHERAPY DATE (165.5,53)
"DATA",160.16,13,"FIELD",124,0)
811^8^818^RX Date--Hormone
"DATA",160.16,13,"FIELD",124,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"))
"DATA",160.16,13,"FIELD",124,2)
BLANK
"DATA",160.16,13,"FIELD",124,3)
L,BLANK^1230
"DATA",160.16,13,"FIELD",124,4)
HORMONE THERAPY DATE (165.5,54)
"DATA",160.16,13,"FIELD",125,0)
819^8^826^RX Date--BRM
"DATA",160.16,13,"FIELD",125,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"))
"DATA",160.16,13,"FIELD",125,2)
BLANK
"DATA",160.16,13,"FIELD",125,3)
L,BLANK^1240
"DATA",160.16,13,"FIELD",125,4)
IMMUNOTHERAPY DATE (165.5,55)
"DATA",160.16,13,"FIELD",126,0)
827^8^834^RX Date--Other
"DATA",160.16,13,"FIELD",126,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"))
"DATA",160.16,13,"FIELD",126,2)
BLANK
"DATA",160.16,13,"FIELD",126,3)
L,BLANK^1250
"DATA",160.16,13,"FIELD",126,4)
OTHER TREATMENT START DATE (165.5,57)
"DATA",160.16,13,"FIELD",127,0)
835^8^842^Date of Initial RX--SEER
"DATA",160.16,13,"FIELD",127,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",127,2)
BLANK
"DATA",160.16,13,"FIELD",127,3)
L,ZERO^1260
"DATA",160.16,13,"FIELD",127,4)

"DATA",160.16,13,"FIELD",128,0)
843^8^850^Date of 1st Crs RX--COC
"DATA",160.16,13,"FIELD",128,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,49,"E") S:ACDANS'="" ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,13,"FIELD",128,2)
BLANK
"DATA",160.16,13,"FIELD",128,3)
L,ZERO^1270
"DATA",160.16,13,"FIELD",128,4)
FIRST COURSE OF TREATMENT DATE (165.5,49)
"DATA",160.16,13,"FIELD",129,0)
851^8^858^RX Date--DX/Stg Proc
"DATA",160.16,13,"FIELD",129,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.3,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",129,2)
BLANK
"DATA",160.16,13,"FIELD",129,3)
L,ZERO^1280
"DATA",160.16,13,"FIELD",129,4)
SURGICAL DX/STAGING PROC DATE (165.5,58.3)
"DATA",160.16,13,"FIELD",130,0)
859^2^860^RX Summ--Surg Prim Site
"DATA",160.16,13,"FIELD",130,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.6,"SPS")
"DATA",160.16,13,"FIELD",130,2)
NINE
"DATA",160.16,13,"FIELD",130,3)
L,ZERO^1290
"DATA",160.16,13,"FIELD",130,4)
SURGERY OF PRIMARY (F) (165.5,58.6)
"DATA",160.16,13,"FIELD",132,0)
865^1^865^RX Summ--Surgical Approch
"DATA",160.16,13,"FIELD",132,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,74,"SUA"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,13,"FIELD",132,2)
NINE
"DATA",160.16,13,"FIELD",132,3)
L,BLANK^1310
"DATA",160.16,13,"FIELD",132,4)
SURGICAL APPROACH (R) (165.5,74)
"DATA",160.16,13,"FIELD",133,0)
866^1^866^RX Summ--Surgical Margins
"DATA",160.16,13,"FIELD",133,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,59,"I")
"DATA",160.16,13,"FIELD",133,2)
BLANK
"DATA",160.16,13,"FIELD",133,3)
L,BLANK^1320
"DATA",160.16,13,"FIELD",133,4)
SURGICAL MARGINS (165.5,59)
"DATA",160.16,13,"FIELD",134,0)
867^1^867^RX Summ--Reconstruct 1st
"DATA",160.16,13,"FIELD",134,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,23,"RR5"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,13,"FIELD",134,2)
BLANK
"DATA",160.16,13,"FIELD",134,3)
L,BLANK^1330
"DATA",160.16,13,"FIELD",134,4)
RECONSTRUCTION/RESTORATION (165.5,23)
"DATA",160.16,13,"FIELD",135,0)
868^1^868^Reason for No Surgery
"DATA",160.16,13,"FIELD",135,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58,"I")
"DATA",160.16,13,"FIELD",135,2)
BLANK
"DATA",160.16,13,"FIELD",135,3)
L,BLANK^1340
"DATA",160.16,13,"FIELD",135,4)
REASON FOR NO SURGERY (165.5,58)
"DATA",160.16,13,"FIELD",136,0)
869^2^870^RX Summ-DX/Stg Proc
"DATA",160.16,13,"FIELD",136,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.1,"I")
"DATA",160.16,13,"FIELD",136,2)
ZNINE
"DATA",160.16,13,"FIELD",136,3)
L,ZERO^1350
"DATA",160.16,13,"FIELD",136,4)
SURGICAL DX/STAGING PROC (165.5,58.1)
"DATA",160.16,13,"FIELD",137,0)
873^1^873^RX Summ--Radiation
"DATA",160.16,13,"FIELD",137,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.2,"I")
"DATA",160.16,13,"FIELD",137,2)
BLANK
"DATA",160.16,13,"FIELD",137,3)
L,ZERO^1360
"DATA",160.16,13,"FIELD",137,4)
RADIATION (165.5,51.2)
"DATA",160.16,13,"FIELD",138,0)
874^1^874^RX Summ--Rad to CNS
"DATA",160.16,13,"FIELD",138,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,52.2,"I")
"DATA",160.16,13,"FIELD",138,2)
BLANK
"DATA",160.16,13,"FIELD",138,3)
L,ZERO^1370
"DATA",160.16,13,"FIELD",138,4)
RADIATION THERAPY TO CNS (165.5,52.2)
"DATA",160.16,13,"FIELD",139,0)
875^1^875^RX Summ--Surg/Rad Seq
"DATA",160.16,13,"FIELD",139,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.3,"I")
"DATA",160.16,13,"FIELD",139,2)
BLANK
"DATA",160.16,13,"FIELD",139,3)
L,ZERO^1380
"DATA",160.16,13,"FIELD",139,4)
RADIATION/SURGERY SEQUENCE (165.5,51.3)
"DATA",160.16,13,"FIELD",140,0)
878^2^879^RX Summ--Chemo
"DATA",160.16,13,"FIELD",140,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.2,"I")
"DATA",160.16,13,"FIELD",140,2)
NINE
"DATA",160.16,13,"FIELD",140,3)
L,BLANK^1390
"DATA",160.16,13,"FIELD",140,4)
CHEMOTHERAPY (165.5,53.2)
"DATA",160.16,13,"FIELD",141,0)
880^2^881^RX Summ--Hormone
"DATA",160.16,13,"FIELD",141,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.2,"I")
"DATA",160.16,13,"FIELD",141,2)
NINE
"DATA",160.16,13,"FIELD",141,3)
L,BLANK^1400
"DATA",160.16,13,"FIELD",141,4)
HORMONE THERAPY (165.5,54.2)
"DATA",160.16,13,"FIELD",142,0)
882^2^883^RX Summ--BRM
"DATA",160.16,13,"FIELD",142,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.2,"I")
"DATA",160.16,13,"FIELD",142,2)
NINE
"DATA",160.16,13,"FIELD",142,3)
L,BLANK^1410
"DATA",160.16,13,"FIELD",142,4)
IMMUNOTHERAPY (165.5,55.2)
"DATA",160.16,13,"FIELD",143,0)
884^1^884^RX Summ--Other
"DATA",160.16,13,"FIELD",143,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.2,"I")
"DATA",160.16,13,"FIELD",143,2)
BLANK
"DATA",160.16,13,"FIELD",143,3)
L,ZERO^1420
"DATA",160.16,13,"FIELD",143,4)
OTHER TREATMENT (165.5,57.2)
"DATA",160.16,13,"FIELD",144,0)
885^1^885^Reason for No Radiation
"DATA",160.16,13,"FIELD",144,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,75,"I")
"DATA",160.16,13,"FIELD",144,2)
NINE
"DATA",160.16,13,"FIELD",144,3)
L,BLANK^1430
"DATA",160.16,13,"FIELD",144,4)
REASON FOR NO RADIATION (165.5,75)
"DATA",160.16,13,"FIELD",145,0)
886^2^887^Reserved 32
"DATA",160.16,13,"FIELD",145,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",145,2)
BLANK
"DATA",160.16,13,"FIELD",145,3)
L,BLANK^1435
"DATA",160.16,13,"FIELD",145,4)

"DATA",160.16,13,"FIELD",147,0)
888^2^889^RX Coding System--Current
"DATA",160.16,13,"FIELD",147,1)
S ACDANS="06"
"DATA",160.16,13,"FIELD",147,2)
BLANK
"DATA",160.16,13,"FIELD",147,3)
L,ZERO^1460
"DATA",160.16,13,"FIELD",147,4)
06 Treatment data coded according to FORDS manual
"DATA",160.16,13,"FIELD",151,0)
894^1^894^First Course Calc Method
"DATA",160.16,13,"FIELD",151,1)
S ACDANS=1
"DATA",160.16,13,"FIELD",151,2)
BLANK
"DATA",160.16,13,"FIELD",151,3)
L,BLANK^1500
"DATA",160.16,13,"FIELD",151,4)
1 COC definitions
"DATA",160.16,13,"FIELD",152,0)
895^5^899^Rad--Regional Dose:cGy
"DATA",160.16,13,"FIELD",152,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,442,"I")
"DATA",160.16,13,"FIELD",152,2)
NINE
"DATA",160.16,13,"FIELD",152,3)
L,ZERO^1510
"DATA",160.16,13,"FIELD",152,4)
REGIONAL DOSE: cGy (165.5,442)
"DATA",160.16,13,"FIELD",153,0)
900^2^901^Rad--No of Treatment Vol
"DATA",160.16,13,"FIELD",153,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,56,"I")
"DATA",160.16,13,"FIELD",153,2)
NINE
"DATA",160.16,13,"FIELD",153,3)
L,ZERO^1520
"DATA",160.16,13,"FIELD",153,4)
NUMBER OF TXS TO THIS VOLUME (165.5,56)
"DATA",160.16,13,"FIELD",154,0)
902^3^904^Reserved 34
"DATA",160.16,13,"FIELD",154,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",154,2)
BLANK
"DATA",160.16,13,"FIELD",154,3)
L,BLANK^1535
"DATA",160.16,13,"FIELD",155,0)
905^2^906^Rad--Treatment Volume
"DATA",160.16,13,"FIELD",155,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,125,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.7,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",155,2)
NINE
"DATA",160.16,13,"FIELD",155,3)
L,ZERO^1540
"DATA",160.16,13,"FIELD",155,4)
RADIATION TREATMENT VOLUME (165.5,125)
"DATA",160.16,13,"FIELD",156,0)
907^1^907^Rad--Location of RX
"DATA",160.16,13,"FIELD",156,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,126,"I")
"DATA",160.16,13,"FIELD",156,2)
NINE
"DATA",160.16,13,"FIELD",156,3)
L,BLANK^1550
"DATA",160.16,13,"FIELD",156,4)
LOCATION OF RADIATION TX (165.5,126)
"DATA",160.16,13,"FIELD",157,0)
908^1^908^Reserved 35
"DATA",160.16,13,"FIELD",157,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",157,2)
BLANK
"DATA",160.16,13,"FIELD",157,3)
L,BLANK^1555
"DATA",160.16,13,"FIELD",157,4)

"DATA",160.16,13,"FIELD",158,0)
909^2^910^Rad--Regional RX Modality
"DATA",160.16,13,"FIELD",158,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",158,2)
BLANK
"DATA",160.16,13,"FIELD",158,3)
L,ZERO^1570
"DATA",160.16,13,"FIELD",158,4)
REGIONAL TREATMENT MODALITY (165.5,363)
"DATA",160.16,13,"FIELD",159,0)
918^13^930^Reserved 23
"DATA",160.16,13,"FIELD",159,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",159,2)
BLANK
"DATA",160.16,13,"FIELD",159,3)
L,BLANK^1635
"DATA",160.16,13,"FIELD",159,4)

"DATA",160.16,13,"FIELD",164,0)
931^1^931^RX Summ--Systemic Sur Seq
"DATA",160.16,13,"FIELD",164,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,15,"I")
"DATA",160.16,13,"FIELD",164,2)
BLANK
"DATA",160.16,13,"FIELD",164,3)
L,BLANK^1639
"DATA",160.16,13,"FIELD",164,4)
SYSTEMIC/SURGERY SEQUENCE (165.5,15)
"DATA",160.16,13,"FIELD",165,0)
932^2^933^RX Summ--Surgery Type
"DATA",160.16,13,"FIELD",165,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",165,2)
BLANK
"DATA",160.16,13,"FIELD",165,3)
L,BLANK^1640
"DATA",160.16,13,"FIELD",166,0)
943^45^987^Reserved 06
"DATA",160.16,13,"FIELD",166,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",166,2)
BLANK
"DATA",160.16,13,"FIELD",166,3)
L,BLANK^1190
"DATA",160.16,13,"FIELD",167,0)
988^8^995^Subsq RX 2nd Course Date
"DATA",160.16,13,"FIELD",167,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",167,2)
ZERO
"DATA",160.16,13,"FIELD",167,3)
L,BLANK^1660
"DATA",160.16,13,"FIELD",167,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,13,"FIELD",168,0)
996^2^997^Subsq RX 2nd Course Surg
"DATA",160.16,13,"FIELD",168,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.04)
"DATA",160.16,13,"FIELD",168,2)
BLANK
"DATA",160.16,13,"FIELD",168,3)
L,ZERO^1671
"DATA",160.16,13,"FIELD",168,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,13,"FIELD",169,0)
998^1^998^Subsq RX 2nd Course Rad
"DATA",160.16,13,"FIELD",169,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.05)
"DATA",160.16,13,"FIELD",169,2)
BLANK
"DATA",160.16,13,"FIELD",169,3)
L,BLANK^1672
"DATA",160.16,13,"FIELD",169,4)
RADIATION (165.51,.05)
"DATA",160.16,13,"FIELD",170,0)
999^1^999^Subsq RX 2nd Course Chemo
"DATA",160.16,13,"FIELD",170,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.06)
"DATA",160.16,13,"FIELD",170,2)
BLANK
"DATA",160.16,13,"FIELD",170,3)
L,BLANK^1673
"DATA",160.16,13,"FIELD",170,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,13,"FIELD",171,0)
1000^1^1000^Subsq RX 2nd Course Horm
"DATA",160.16,13,"FIELD",171,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.07)
"DATA",160.16,13,"FIELD",171,2)
BLANK
"DATA",160.16,13,"FIELD",171,3)
L,BLANK^1674
"DATA",160.16,13,"FIELD",171,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,13,"FIELD",172,0)
1001^1^1001^Subsq RX 2nd Course BRM
"DATA",160.16,13,"FIELD",172,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.08)
"DATA",160.16,13,"FIELD",172,2)
BLANK
"DATA",160.16,13,"FIELD",172,3)
L,BLANK^1675
"DATA",160.16,13,"FIELD",172,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,13,"FIELD",173,0)
1002^1^1002^Subsq RX 2nd Course Oth
"DATA",160.16,13,"FIELD",173,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.09)
"DATA",160.16,13,"FIELD",173,2)
BLANK
"DATA",160.16,13,"FIELD",173,3)
L,BLANK^1676
"DATA",160.16,13,"FIELD",173,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,13,"FIELD",174,0)
1003^8^1010^Subsq RX 3rd Course Date
"DATA",160.16,13,"FIELD",174,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",174,2)
ZERO
"DATA",160.16,13,"FIELD",174,3)
L,BLANK^1680
"DATA",160.16,13,"FIELD",174,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,13,"FIELD",175,0)
1011^2^1012^Subsq RX 3rd Course Surg
"DATA",160.16,13,"FIELD",175,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.04)
"DATA",160.16,13,"FIELD",175,2)
BLANK
"DATA",160.16,13,"FIELD",175,3)
L,ZERO^1691
"DATA",160.16,13,"FIELD",175,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,13,"FIELD",176,0)
1013^1^1013^Subsq RX 3rd Course Rad
"DATA",160.16,13,"FIELD",176,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.05)
"DATA",160.16,13,"FIELD",176,2)
BLANK
"DATA",160.16,13,"FIELD",176,3)
L,BLANK^1692
"DATA",160.16,13,"FIELD",176,4)
RADIATION (165.51,.05)
"DATA",160.16,13,"FIELD",177,0)
1014^1^1014^Subsq RX 3rd Course Chemo
"DATA",160.16,13,"FIELD",177,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.06)
"DATA",160.16,13,"FIELD",177,2)
BLANK
"DATA",160.16,13,"FIELD",177,3)
L,BLANK^1693
"DATA",160.16,13,"FIELD",177,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,13,"FIELD",178,0)
1015^1^1015^Subsq RX 3rd Course Horm
"DATA",160.16,13,"FIELD",178,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.07)
"DATA",160.16,13,"FIELD",178,2)
BLANK
"DATA",160.16,13,"FIELD",178,3)
L,BLANK^1694
"DATA",160.16,13,"FIELD",178,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,13,"FIELD",179,0)
1016^1^1016^Subsq RX 3rd Course BRM
"DATA",160.16,13,"FIELD",179,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.08)
"DATA",160.16,13,"FIELD",179,2)
BLANK
"DATA",160.16,13,"FIELD",179,3)
L,BLANK^1695
"DATA",160.16,13,"FIELD",179,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,13,"FIELD",180,0)
1017^1^1017^Subsq RX 3rd Course Oth
"DATA",160.16,13,"FIELD",180,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.09)
"DATA",160.16,13,"FIELD",180,2)
BLANK
"DATA",160.16,13,"FIELD",180,3)
L,BLANK^1696
"DATA",160.16,13,"FIELD",180,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,13,"FIELD",181,0)
1018^8^1025^Subsq RX 4th Course Date
"DATA",160.16,13,"FIELD",181,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",181,2)
ZERO
"DATA",160.16,13,"FIELD",181,3)
L,BLANK^1700
"DATA",160.16,13,"FIELD",181,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,13,"FIELD",182,0)
1026^2^1027^Subsq RX 4th Course Surg
"DATA",160.16,13,"FIELD",182,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.04)
"DATA",160.16,13,"FIELD",182,2)
BLANK
"DATA",160.16,13,"FIELD",182,3)
L,ZERO^1711
"DATA",160.16,13,"FIELD",182,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,13,"FIELD",183,0)
1028^1^1028^Subsq RX 4th Course Rad
"DATA",160.16,13,"FIELD",183,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.05)
"DATA",160.16,13,"FIELD",183,2)
BLANK
"DATA",160.16,13,"FIELD",183,3)
L,BLANK^1712
"DATA",160.16,13,"FIELD",183,4)
RADIATION (165.51,.05)
"DATA",160.16,13,"FIELD",184,0)
1029^1^1029^Subsq RX 4th Course Chemo
"DATA",160.16,13,"FIELD",184,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.06)
"DATA",160.16,13,"FIELD",184,2)
BLANK
"DATA",160.16,13,"FIELD",184,3)
L,BLANK^1713
"DATA",160.16,13,"FIELD",184,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,13,"FIELD",185,0)
1030^1^1030^Subsq RX 4th Course Horm
"DATA",160.16,13,"FIELD",185,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.07)
"DATA",160.16,13,"FIELD",185,2)
BLANK
"DATA",160.16,13,"FIELD",185,3)
L,BLANK^1714
"DATA",160.16,13,"FIELD",185,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,13,"FIELD",186,0)
1031^1^1031^Subsq RX 4th Course BRM
"DATA",160.16,13,"FIELD",186,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.08)
"DATA",160.16,13,"FIELD",186,2)
BLANK
"DATA",160.16,13,"FIELD",186,3)
L,BLANK^1715
"DATA",160.16,13,"FIELD",186,4)
IMMUNOTHERAPY (165.5,.08)
"DATA",160.16,13,"FIELD",187,0)
1032^1^1032^Subsq RX 4th Course Oth
"DATA",160.16,13,"FIELD",187,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.09)
"DATA",160.16,13,"FIELD",187,2)
BLANK
"DATA",160.16,13,"FIELD",187,3)
L,BLANK^1716
"DATA",160.16,13,"FIELD",187,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,13,"FIELD",188,0)
1033^15^1047^Reserved 37
"DATA",160.16,13,"FIELD",188,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",188,2)
BLANK
"DATA",160.16,13,"FIELD",188,3)
L,BLANK^1725
"DATA",160.16,13,"FIELD",188,4)

"DATA",160.16,13,"FIELD",195,0)
1065^50^1114^Reserved 07
"DATA",160.16,13,"FIELD",195,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",195,2)
BLANK
"DATA",160.16,13,"FIELD",195,3)
L,BLANK^1300
"DATA",160.16,13,"FIELD",196,0)
1294^8^1301^Date of Last Contact
"DATA",160.16,13,"FIELD",196,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",196,2)
BLANK
"DATA",160.16,13,"FIELD",196,3)
L,ZERO^1750
"DATA",160.16,13,"FIELD",196,4)
DATE OF LAST CONTACT OR DEATH (160.04,.01)
"DATA",160.16,13,"FIELD",197,0)
1302^1^1302^Vital Status
"DATA",160.16,13,"FIELD",197,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,1),VS=ACDANS
"DATA",160.16,13,"FIELD",197,2)
BLANK
"DATA",160.16,13,"FIELD",197,3)
L,BLANK^1760
"DATA",160.16,13,"FIELD",197,4)
VITAL STATUS (160.04,1)
"DATA",160.16,13,"FIELD",198,0)
1303^1^1303^Cancer Status
"DATA",160.16,13,"FIELD",198,1)
S ACDANS=$$CS~ONCACDU2(IEN)
"DATA",160.16,13,"FIELD",198,2)
BLANK
"DATA",160.16,13,"FIELD",198,3)
L,BLANK^1770
"DATA",160.16,13,"FIELD",198,4)
CANCER STATUS (165.573,.02)
"DATA",160.16,13,"FIELD",199,0)
1304^1^1304^Quality of Survival
"DATA",160.16,13,"FIELD",199,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,4)
"DATA",160.16,13,"FIELD",199,2)
BLANK
"DATA",160.16,13,"FIELD",199,3)
L,BLANK^1780
"DATA",160.16,13,"FIELD",199,4)
QUALITY OF SURVIVAL (160.04,4)
"DATA",160.16,13,"FIELD",200,0)
1305^1^1305^Follow-Up Source
"DATA",160.16,13,"FIELD",200,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,3)
"DATA",160.16,13,"FIELD",200,2)
BLANK
"DATA",160.16,13,"FIELD",200,3)
L,BLANK^1790
"DATA",160.16,13,"FIELD",200,4)
FOLLOW-UP SOURCE (160.04,3)
"DATA",160.16,13,"FIELD",201,0)
1306^1^1306^Next Follow-up Source
"DATA",160.16,13,"FIELD",201,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,6)
"DATA",160.16,13,"FIELD",201,2)
BLANK
"DATA",160.16,13,"FIELD",201,3)
L,BLANK^1800
"DATA",160.16,13,"FIELD",201,4)
NEXT FOLLOW-UP SOURCE (160.04,6)
"DATA",160.16,13,"FIELD",202,0)
1307^20^1326^Addr Current--City
"DATA",160.16,13,"FIELD",202,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160)
"DATA",160.16,13,"FIELD",202,2)
BLANK
"DATA",160.16,13,"FIELD",202,3)
R,BLANK^1810
"DATA",160.16,13,"FIELD",202,4)
CITY (2,.114)
"DATA",160.16,13,"FIELD",203,0)
1327^2^1328^Addr Current--State
"DATA",160.16,13,"FIELD",203,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160)
"DATA",160.16,13,"FIELD",203,2)
BLANK
"DATA",160.16,13,"FIELD",203,3)
R,BLANK^1820
"DATA",160.16,13,"FIELD",203,4)
STATE (2,.115)
"DATA",160.16,13,"FIELD",204,0)
1329^9^1337^Addr Current--Postal Code
"DATA",160.16,13,"FIELD",204,1)
S ACDANS=$$ZIP~ONCACDU1(ACD160) S:ACDANS=75999 ACDANS=999999999
"DATA",160.16,13,"FIELD",204,2)
BLANK
"DATA",160.16,13,"FIELD",204,3)
R,BLANK^1830
"DATA",160.16,13,"FIELD",204,4)
ZIP CODE (2,.116)
"DATA",160.16,13,"FIELD",206,0)
1341^1^1341^Unusual Follow-Up Method
"DATA",160.16,13,"FIELD",206,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,7)
"DATA",160.16,13,"FIELD",206,2)
BLANK
"DATA",160.16,13,"FIELD",206,3)
L,BLANK^1850
"DATA",160.16,13,"FIELD",206,4)
UNUSUAL FOLLOW-UP METHOD (160.04,7)
"DATA",160.16,13,"FIELD",207,0)
1342^8^1349^Recurrence Date--1st
"DATA",160.16,13,"FIELD",207,1)
S RT=$$GET1~DIQ(165.5,IEN,71,"I") S:RT'="" RT=$$GET1~DIQ(160.12,RT,.01,"I") S ACDANS=$$GET1~DIQ(165.5,IEN,70,"I") S ACDANS=$S(ACDANS'="":$$DATE~ONCACDU1(ACDANS),(RT="00")!(RT=70):"00000000",1:"") K RT
"DATA",160.16,13,"FIELD",207,2)
NINE
"DATA",160.16,13,"FIELD",207,3)
L,NINE^1860
"DATA",160.16,13,"FIELD",207,4)
DATE OF FIRST RECURRENCE (165.5,70)
"DATA",160.16,13,"FIELD",208,0)
1350^1^1350^Recurrence Distant Site 1
"DATA",160.16,13,"FIELD",208,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.1,"I")
"DATA",160.16,13,"FIELD",208,2)
BLANK
"DATA",160.16,13,"FIELD",208,3)
L,BLANK^1871
"DATA",160.16,13,"FIELD",208,4)
DISTANT SITE 1 (165.5,71.1)
"DATA",160.16,13,"FIELD",209,0)
1353^2^1354^Recurrence Type--1st
"DATA",160.16,13,"FIELD",209,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.12,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",209,2)
NINE
"DATA",160.16,13,"FIELD",209,3)
L,ZERO^1880
"DATA",160.16,13,"FIELD",209,4)
TYPE OF FIRST RECURRENCE (165.5,71)
"DATA",160.16,13,"FIELD",210,0)
1355^2^1356^Reserved 39
"DATA",160.16,13,"FIELD",210,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",210,2)
BLANK
"DATA",160.16,13,"FIELD",210,3)
L,BLANK^1895
"DATA",160.16,13,"FIELD",210,4)

"DATA",160.16,13,"FIELD",211,0)
1338^3^1340^County--Current
"DATA",160.16,13,"FIELD",211,1)
S ACDANS=$$CCOUNTY~ONCACDU2(ACD160)
"DATA",160.16,13,"FIELD",211,2)
BLANK
"DATA",160.16,13,"FIELD",211,3)
L,BLANK^1840
"DATA",160.16,13,"FIELD",213,0)
1388^4^1391^Cause of Death
"DATA",160.16,13,"FIELD",213,1)
S ACDANS=$$GET1~DIQ(160,ACD160,19,"I") S:ACDANS'="" ACDANS=$$ICD~ONCACDU2(ACDANS) S:ACDANS="" ACDANS=$$GET1~DIQ(160,ACD160,19.1,"I") I ACDANS="",VS=1 S ACDANS="0000"
"DATA",160.16,13,"FIELD",213,2)
BLANK
"DATA",160.16,13,"FIELD",213,3)
L,ZERO^1910
"DATA",160.16,13,"FIELD",213,4)
CAUSE OF DEATH (160,19)
"DATA",160.16,13,"FIELD",214,0)
1392^1^1392^ICD Revision Number
"DATA",160.16,13,"FIELD",214,1)
S ACDANS=$$ICDR~ONCACDU2($$GET1~DIQ(160,ACD160,19,"I")) I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,13,"FIELD",214,2)
BLANK
"DATA",160.16,13,"FIELD",214,3)
L,ZERO^1920
"DATA",160.16,13,"FIELD",214,4)
CAUSE OF DEATH (160,19), ICD REVISION (160,20)
"DATA",160.16,13,"FIELD",215,0)
1393^1^1393^Autopsy
"DATA",160.16,13,"FIELD",215,1)
S ACDANS=$$GET1~DIQ(160,ACD160,22.9,"I") I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,13,"FIELD",215,2)
BLANK
"DATA",160.16,13,"FIELD",215,3)
L,BLANK^1930
"DATA",160.16,13,"FIELD",215,4)
AUTOPSY (160,22.9)
"DATA",160.16,13,"FIELD",216,0)
1394^3^1396^Place of Death
"DATA",160.16,13,"FIELD",216,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,.02,"I") I ACDANS="",VS=1 S ACDANS=997
"DATA",160.16,13,"FIELD",216,2)
BLANK
"DATA",160.16,13,"FIELD",216,3)
L,BLANK^1940
"DATA",160.16,13,"FIELD",216,4)
PLACE OF DEATH (160,21)
"DATA",160.16,13,"FIELD",218,0)
1137^4^1140^Site (73-91) ICD-O-1
"DATA",160.16,13,"FIELD",218,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",218,2)
BLANK
"DATA",160.16,13,"FIELD",218,3)
L,BLANK^1960
"DATA",160.16,13,"FIELD",219,0)
1141^6^1146^Morph (73-91) ICD-O-1
"DATA",160.16,13,"FIELD",219,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",219,2)
BLANK
"DATA",160.16,13,"FIELD",219,3)
L,BLANK^1970
"DATA",160.16,13,"FIELD",220,0)
1147^1^1147^ICD-O-2 Conversion Flag
"DATA",160.16,13,"FIELD",220,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:4,1:"") K DATEDX
"DATA",160.16,13,"FIELD",220,2)
BLANK
"DATA",160.16,13,"FIELD",220,3)
L,BLANK^1980
"DATA",160.16,13,"FIELD",221,0)
1124^1^1124^Over-ride Age/Site/Morph
"DATA",160.16,13,"FIELD",221,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,205,"I")
"DATA",160.16,13,"FIELD",221,2)
BLANK
"DATA",160.16,13,"FIELD",221,3)
L,BLANK^1990
"DATA",160.16,13,"FIELD",221,4)
OVERRIDE AGE/SITE/MORPH (165.5,205)
"DATA",160.16,13,"FIELD",222,0)
1125^1^1125^Over-ride SeqNo/DxConf
"DATA",160.16,13,"FIELD",222,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,206,"I")
"DATA",160.16,13,"FIELD",222,2)
BLANK
"DATA",160.16,13,"FIELD",222,3)
L,BLANK^2000
"DATA",160.16,13,"FIELD",222,4)
OVERRIDE SEQNO/DXCONF (165.5,206)
"DATA",160.16,13,"FIELD",223,0)
1126^1^1126^Over-ride Site/Lat/SeqNo
"DATA",160.16,13,"FIELD",223,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,207,"I")
"DATA",160.16,13,"FIELD",223,2)
BLANK
"DATA",160.16,13,"FIELD",223,3)
L,BLANK^2010
"DATA",160.16,13,"FIELD",223,4)
OVERRIDE SITE/LAT/SEQNO (165.5,207)
"DATA",160.16,13,"FIELD",224,0)
1127^1^1127^Over-ride Surg/DxConf
"DATA",160.16,13,"FIELD",224,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,208,"I")
"DATA",160.16,13,"FIELD",224,2)
BLANK
"DATA",160.16,13,"FIELD",224,3)
L,BLANK^2020
"DATA",160.16,13,"FIELD",224,4)
OVERRIDE SURG/DXCONF (165.5,208)
"DATA",160.16,13,"FIELD",225,0)
1128^1^1128^Over-ride Site/Type
"DATA",160.16,13,"FIELD",225,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,209,"I")
"DATA",160.16,13,"FIELD",225,2)
BLANK
"DATA",160.16,13,"FIELD",225,3)
L,BLANK^2030
"DATA",160.16,13,"FIELD",225,4)
OVERRIDE SITE/TYPE (165.5,209)
"DATA",160.16,13,"FIELD",226,0)
1129^1^1129^Over-ride Histology
"DATA",160.16,13,"FIELD",226,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,210,"I")
"DATA",160.16,13,"FIELD",226,2)
BLANK
"DATA",160.16,13,"FIELD",226,3)
L,BLANK^2040
"DATA",160.16,13,"FIELD",226,4)
OVERRIDE HISTOLOGY (165.5,210)
"DATA",160.16,13,"FIELD",227,0)
1130^1^1130^Over-ride Report Source
"DATA",160.16,13,"FIELD",227,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,211,"I")
"DATA",160.16,13,"FIELD",227,2)
BLANK
"DATA",160.16,13,"FIELD",227,3)
L,BLANK^2050
"DATA",160.16,13,"FIELD",227,4)
OVERRIDE REPORT SOURCE (165.5,211)
"DATA",160.16,13,"FIELD",228,0)
1131^1^1131^Over-ride Ill-define Site
"DATA",160.16,13,"FIELD",228,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,212,"I")
"DATA",160.16,13,"FIELD",228,2)
BLANK
"DATA",160.16,13,"FIELD",228,3)
L,BLANK^2060
"DATA",160.16,13,"FIELD",228,4)
OVERRIDE ILL-DEFINE SITE (165.5,212)
"DATA",160.16,13,"FIELD",229,0)
1132^1^1132^Over-ride Leuk, Lymphoma
"DATA",160.16,13,"FIELD",229,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,213,"I")
"DATA",160.16,13,"FIELD",229,2)
BLANK
"DATA",160.16,13,"FIELD",229,3)
L,BLANK^2070
"DATA",160.16,13,"FIELD",229,4)
OVERRIDE LEUK,LYMPHOMA (165.5,213)
"DATA",160.16,13,"FIELD",231,0)
1174^8^1181^Date Case Completed
"DATA",160.16,13,"FIELD",231,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,90,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",231,2)
BLANK
"DATA",160.16,13,"FIELD",231,3)
L,BLANK^2090
"DATA",160.16,13,"FIELD",231,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,13,"FIELD",232,0)
1182^8^1189^Date Case Last Changed
"DATA",160.16,13,"FIELD",232,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,198,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",232,2)
BLANK
"DATA",160.16,13,"FIELD",232,3)
L,BLANK^2100
"DATA",160.16,13,"FIELD",232,4)
DATE CASE LAST CHANGED (165.5,198)
"DATA",160.16,13,"FIELD",233,0)
1190^8^1197^Date Case Report Exported
"DATA",160.16,13,"FIELD",233,1)
S ACDANS="" Q:$G(EXPORT)'="YES"  S:$G(DT)'="" ACDANS=$E(DT,4,5)_$E(DT,6,7)_(1700+$E(DT,1,3))
"DATA",160.16,13,"FIELD",233,2)
BLANK
"DATA",160.16,13,"FIELD",233,3)
L,ZERO^2110
"DATA",160.16,13,"FIELD",233,4)
Current date
"DATA",160.16,13,"FIELD",234,0)
1198^1^1198^SEER Coding Sys--Current
"DATA",160.16,13,"FIELD",234,1)
S ACDANS=6
"DATA",160.16,13,"FIELD",234,2)
BLANK
"DATA",160.16,13,"FIELD",234,3)
L,BLANK^2120
"DATA",160.16,13,"FIELD",234,4)
6 January 2003 SEER Coding Manual
"DATA",160.16,13,"FIELD",235,0)
1199^1^1199^SEER Coding Sys--Original
"DATA",160.16,13,"FIELD",235,1)
S ACDANS=6
"DATA",160.16,13,"FIELD",235,2)
BLANK
"DATA",160.16,13,"FIELD",235,3)
L,BLANK^2130
"DATA",160.16,13,"FIELD",235,4)
6 January 2003 SEER Coding Manual
"DATA",160.16,13,"FIELD",236,0)
1200^2^1201^COC Coding Sys--Current
"DATA",160.16,13,"FIELD",236,1)
S ACDANS="08"
"DATA",160.16,13,"FIELD",236,2)
BLANK
"DATA",160.16,13,"FIELD",236,3)
L,BLANK^2140
"DATA",160.16,13,"FIELD",236,4)
08 FORDS (effective with cases diagnosed 2003 are forward)
"DATA",160.16,13,"FIELD",237,0)
1202^2^1203^COC Coding Sys--Original
"DATA",160.16,13,"FIELD",237,1)
S ACDANS=$$COCO~ONCACDU2(IEN)
"DATA",160.16,13,"FIELD",237,2)
BLANK
"DATA",160.16,13,"FIELD",237,3)
L,BLANK^2150
"DATA",160.16,13,"FIELD",237,4)
08, 07, or 05 depending on DATE DX
"DATA",160.16,13,"FIELD",238,0)
1244^50^1293^Reserved 08
"DATA",160.16,13,"FIELD",238,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",238,2)
BLANK
"DATA",160.16,13,"FIELD",238,3)
L,BLANK^1650
"DATA",160.16,13,"FIELD",239,0)
1204^10^1213^Vendor Name
"DATA",160.16,13,"FIELD",239,1)
S ACDANS=$$VENDOR~ONCACDU2
"DATA",160.16,13,"FIELD",239,2)
BLANK
"DATA",160.16,13,"FIELD",239,3)
R,BLANK^2170
"DATA",160.16,13,"FIELD",239,4)
"VA"_NAACCR version_patch #_"B" e.g. VAV11P46B
"DATA",160.16,13,"FIELD",240,0)
1214^1^1214^SEER Type of Follow-Up
"DATA",160.16,13,"FIELD",240,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",240,2)
BLANK
"DATA",160.16,13,"FIELD",240,3)
L,BLANK^2180
"DATA",160.16,13,"FIELD",241,0)
1215^2^1216^SEER Record Number
"DATA",160.16,13,"FIELD",241,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",241,2)
BLANK
"DATA",160.16,13,"FIELD",241,3)
L,BLANK^2190
"DATA",160.16,13,"FIELD",242,0)
1217^2^1218^Diagnostic Proc 73-87
"DATA",160.16,13,"FIELD",242,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",242,2)
BLANK
"DATA",160.16,13,"FIELD",242,3)
L,BLANK^2200
"DATA",160.16,13,"FIELD",243,0)
1243^1^1243^ICD-O-3 Conversion Flag
"DATA",160.16,13,"FIELD",243,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:0,1:1) K DATEDX
"DATA",160.16,13,"FIELD",243,2)
BLANK
"DATA",160.16,13,"FIELD",243,3)
L,BLANK^2116
"DATA",160.16,13,"FIELD",340,0)
459^1^459^RX Hosp--Scope Reg LN Sur
"DATA",160.16,13,"FIELD",340,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.5,"I")
"DATA",160.16,13,"FIELD",340,2)
NINE
"DATA",160.16,13,"FIELD",340,3)
L,BLANK^672
"DATA",160.16,13,"FIELD",340,4)
SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"DATA",160.16,13,"FIELD",341,0)
460^1^460^RX Hosp--Surg Oth Reg/Dis
"DATA",160.16,13,"FIELD",341,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.5,"I")
"DATA",160.16,13,"FIELD",341,2)
NINE
"DATA",160.16,13,"FIELD",341,3)
L,BLANK^674
"DATA",160.16,13,"FIELD",341,4)
SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"DATA",160.16,13,"FIELD",342,0)
461^2^462^RX Hosp--Reg LN Removed
"DATA",160.16,13,"FIELD",342,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140.1,"I")
"DATA",160.16,13,"FIELD",342,2)
BLANK
"DATA",160.16,13,"FIELD",342,3)
L,BLANK^676
"DATA",160.16,13,"FIELD",342,4)
NUMBER OF LN REMOVED @FAC (R) (165.5,140.1)
"DATA",160.16,13,"FIELD",343,0)
474^4^477^Reserved 28
"DATA",160.16,13,"FIELD",343,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",343,2)
BLANK
"DATA",160.16,13,"FIELD",343,3)
L,BLANK^741
"DATA",160.16,13,"FIELD",343,4)

"DATA",160.16,13,"FIELD",347,0)
861^1^861^RX Summ--Scope Reg LN Sur
"DATA",160.16,13,"FIELD",347,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.4,"I")
"DATA",160.16,13,"FIELD",347,2)
NINE
"DATA",160.16,13,"FIELD",347,3)
L,BLANK^1292
"DATA",160.16,13,"FIELD",347,4)
SCOPE OF LN SURGERY (F) (165.5,138.4)
"DATA",160.16,13,"FIELD",348,0)
862^1^862^RX Summ--Surg Oth Reg/Dis
"DATA",160.16,13,"FIELD",348,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.4,"I")
"DATA",160.16,13,"FIELD",348,2)
NINE
"DATA",160.16,13,"FIELD",348,3)
L,BLANK^1294
"DATA",160.16,13,"FIELD",348,4)
SURG PROC/OTHER SITE (F) (165.5,139.4)
"DATA",160.16,13,"FIELD",349,0)
863^2^864^RX Summ--Reg LN Examined
"DATA",160.16,13,"FIELD",349,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140,"I")
"DATA",160.16,13,"FIELD",349,2)
BLANK
"DATA",160.16,13,"FIELD",349,3)
L,ZERO^1296
"DATA",160.16,13,"FIELD",349,4)
NUMBER OF LN REMOVED (R) (165.5,140)
"DATA",160.16,13,"FIELD",350,0)
934^4^937^Reserved 36
"DATA",160.16,13,"FIELD",350,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",350,2)
BLANK
"DATA",160.16,13,"FIELD",350,3)
L,BLANK^1641
"DATA",160.16,13,"FIELD",350,4)

"DATA",160.16,13,"FIELD",354,0)
1048^1^1048^Subsq RX 2nd--Scope LN Su
"DATA",160.16,13,"FIELD",354,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,35)
"DATA",160.16,13,"FIELD",354,2)
BLANK
"DATA",160.16,13,"FIELD",354,3)
L,BLANK^1677
"DATA",160.16,13,"FIELD",354,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,13,"FIELD",355,0)
1049^1^1049^Subsq RX 2nd--Surg Oth
"DATA",160.16,13,"FIELD",355,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,36)
"DATA",160.16,13,"FIELD",355,2)
BLANK
"DATA",160.16,13,"FIELD",355,3)
L,BLANK^1678
"DATA",160.16,13,"FIELD",355,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,13,"FIELD",356,0)
1050^2^1051^Subsq RX 2nd--Reg LN Rem
"DATA",160.16,13,"FIELD",356,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,37)
"DATA",160.16,13,"FIELD",356,2)
BLANK
"DATA",160.16,13,"FIELD",356,3)
L,BLANK^1679
"DATA",160.16,13,"FIELD",356,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,13,"FIELD",357,0)
1052^1^1052^Subsq RX 3rd--Scope LN Su
"DATA",160.16,13,"FIELD",357,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,35)
"DATA",160.16,13,"FIELD",357,2)
BLANK
"DATA",160.16,13,"FIELD",357,3)
L,BLANK^1697
"DATA",160.16,13,"FIELD",357,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,13,"FIELD",358,0)
1053^1^1053^Subsq RX 3rd--Surg Oth
"DATA",160.16,13,"FIELD",358,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,36)
"DATA",160.16,13,"FIELD",358,2)
BLANK
"DATA",160.16,13,"FIELD",358,3)
L,BLANK^1698
"DATA",160.16,13,"FIELD",358,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,13,"FIELD",359,0)
1054^2^1055^Subsq RX 3rd--Reg LN Rem
"DATA",160.16,13,"FIELD",359,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,37)
"DATA",160.16,13,"FIELD",359,2)
BLANK
"DATA",160.16,13,"FIELD",359,3)
L,BLANK^1699
"DATA",160.16,13,"FIELD",359,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,13,"FIELD",360,0)
1056^1^1056^Subsq RX 4th--Scope LN Su
"DATA",160.16,13,"FIELD",360,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,35)
"DATA",160.16,13,"FIELD",360,2)
BLANK
"DATA",160.16,13,"FIELD",360,3)
L,BLANK^1717
"DATA",160.16,13,"FIELD",360,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,13,"FIELD",361,0)
1057^1^1057^Subsq RX 4th--Surg Oth
"DATA",160.16,13,"FIELD",361,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,36)
"DATA",160.16,13,"FIELD",361,2)
BLANK
"DATA",160.16,13,"FIELD",361,3)
L,BLANK^1718
"DATA",160.16,13,"FIELD",361,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,13,"FIELD",362,0)
1058^2^1059^Subsq RX 4th--Reg LN Rem
"DATA",160.16,13,"FIELD",362,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,37)
"DATA",160.16,13,"FIELD",362,2)
BLANK
"DATA",160.16,13,"FIELD",362,3)
L,BLANK^1719
"DATA",160.16,13,"FIELD",362,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,13,"FIELD",363,0)
1060^4^1063^Reserved 38
"DATA",160.16,13,"FIELD",363,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",363,2)
BLANK
"DATA",160.16,13,"FIELD",363,3)
L,BLANK^1726
"DATA",160.16,13,"FIELD",363,4)

"DATA",160.16,13,"FIELD",366,0)
1064^1^1064^Subsq RX--Reconstruct Del
"DATA",160.16,13,"FIELD",366,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,33)
"DATA",160.16,13,"FIELD",366,2)
NINE
"DATA",160.16,13,"FIELD",366,3)
L,NINE^1741
"DATA",160.16,13,"FIELD",366,4)
RECON/RESTORE - DELAYED (165.51,33)
"DATA",160.16,13,"FIELD",367,0)
1357^20^1376^Follow-Up Contact--City
"DATA",160.16,13,"FIELD",367,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160)
"DATA",160.16,13,"FIELD",367,2)
BLANK
"DATA",160.16,13,"FIELD",367,3)
R,BLANK^1842
"DATA",160.16,13,"FIELD",367,4)
CITY (2,.114)
"DATA",160.16,13,"FIELD",368,0)
1377^2^1378^Follow-Up Contact--State
"DATA",160.16,13,"FIELD",368,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160)
"DATA",160.16,13,"FIELD",368,2)
BLANK
"DATA",160.16,13,"FIELD",368,3)
L,BLANK^1844
"DATA",160.16,13,"FIELD",368,4)
STATE (2,.115)
"DATA",160.16,13,"FIELD",369,0)
1379^9^1387^Follow-Up Contact--Postal
"DATA",160.16,13,"FIELD",369,1)
S ACDANS=$$ZIP~ONCACDU1(ACD160)
"DATA",160.16,13,"FIELD",369,2)
BLANK
"DATA",160.16,13,"FIELD",369,3)
R,BLANK^1846
"DATA",160.16,13,"FIELD",369,4)
ZIP CODE (2,.116)
"DATA",160.16,13,"FIELD",370,0)
1133^1^1133^Over-ride Site/Behavior
"DATA",160.16,13,"FIELD",370,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,214,"I")
"DATA",160.16,13,"FIELD",370,2)
BLANK
"DATA",160.16,13,"FIELD",370,3)
L,BLANK^2071
"DATA",160.16,13,"FIELD",370,4)
OVERRIDE SITE/BEHAVIOR (165.5,214)
"DATA",160.16,13,"FIELD",371,0)
1134^1^1134^Over-ride Site/EOD/DX Dt
"DATA",160.16,13,"FIELD",371,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,215,"I")
"DATA",160.16,13,"FIELD",371,2)
BLANK
"DATA",160.16,13,"FIELD",371,3)
L,BLANK^2072
"DATA",160.16,13,"FIELD",371,4)
OVERRIDE SITE/EOD/DX DT (165.5,215)
"DATA",160.16,13,"FIELD",372,0)
1135^1^1135^Over-ride Site/Lat/EOD
"DATA",160.16,13,"FIELD",372,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,216,"I")
"DATA",160.16,13,"FIELD",372,2)
BLANK
"DATA",160.16,13,"FIELD",372,3)
L,BLANK^2073
"DATA",160.16,13,"FIELD",372,4)
OVERRIDE SITE/LAT/EOD (165.5,216)
"DATA",160.16,13,"FIELD",373,0)
1136^1^1136^Over-ride Site/Lat/Morph
"DATA",160.16,13,"FIELD",373,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,217,"I")
"DATA",160.16,13,"FIELD",373,2)
BLANK
"DATA",160.16,13,"FIELD",373,3)
L,BLANK^2074
"DATA",160.16,13,"FIELD",373,4)
OVERRIDE SITE/LAT/MORPH (165.5,217)
"DATA",160.16,13,"FIELD",374,0)
1148^8^1155^Future Use Timeliness 1 (item retired)
"DATA",160.16,13,"FIELD",374,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",374,2)
BLANK
"DATA",160.16,13,"FIELD",374,3)
L,BLANK
"DATA",160.16,13,"FIELD",375,0)
1156^8^1163^Future Use Timeliness 2 (item retired)
"DATA",160.16,13,"FIELD",375,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",375,2)
BLANK
"DATA",160.16,13,"FIELD",375,3)
L,BLANK
"DATA",160.16,13,"FIELD",376,0)
1219^8^1226^Date Case Report Received
"DATA",160.16,13,"FIELD",376,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",376,2)
BLANK
"DATA",160.16,13,"FIELD",376,3)
L,BLANK^2111
"DATA",160.16,13,"FIELD",377,0)
1227^8^1234^Date Case Report Loaded
"DATA",160.16,13,"FIELD",377,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",377,2)
BLANK
"DATA",160.16,13,"FIELD",377,3)
L,BLANK^2112
"DATA",160.16,13,"FIELD",378,0)
1235^8^1242^Date Tumor Record Availbl
"DATA",160.16,13,"FIELD",378,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",378,2)
BLANK
"DATA",160.16,13,"FIELD",378,3)
L,BLANK^2113
"DATA",160.16,13,"FIELD",379,0)
1164^10^1173^CRC CHECKSUM
"DATA",160.16,13,"FIELD",379,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",379,2)
BLANK
"DATA",160.16,13,"FIELD",379,3)
L,BLANK^2081
"DATA",160.16,13,"FIELD",380,0)
12^7^18^Reserved 00
"DATA",160.16,13,"FIELD",380,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",380,2)
BLANK
"DATA",160.16,13,"FIELD",380,3)
L,BLANK^37
"DATA",160.16,13,"FIELD",382,0)
382^10^391^Reporting Facility
"DATA",160.16,13,"FIELD",382,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.03,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") I (ACDANS=9999999)&($L(STAT1)=8) S ACDANS=99999999
"DATA",160.16,13,"FIELD",382,2)
ZERO
"DATA",160.16,13,"FIELD",382,3)
L,ZERO^540
"DATA",160.16,13,"FIELD",382,4)
REPORTING FACILITY (165.5,.03)
"DATA",160.16,13,"FIELD",383,0)
402^9^410^Accession Number--Hosp
"DATA",160.16,13,"FIELD",383,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.05,"I")
"DATA",160.16,13,"FIELD",383,2)
BLANK
"DATA",160.16,13,"FIELD",383,3)
L,ZERO^550
"DATA",160.16,13,"FIELD",383,4)
ACCESSION NUMBER (165.5,.05)
"DATA",160.16,13,"FIELD",388,0)
372^10^381^NPI--Reporting Facility
"DATA",160.16,13,"FIELD",388,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",388,2)
BLANK
"DATA",160.16,13,"FIELD",388,3)
L,BLANK^545
"DATA",160.16,13,"FIELD",390,0)
347^25^371^Reserved 03
"DATA",160.16,13,"FIELD",390,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",390,2)
BLANK
"DATA",160.16,13,"FIELD",390,3)
L,BLANK^680
"DATA",160.16,13,"FIELD",391,0)
528^1^528^SEER Summary Stage 2000
"DATA",160.16,13,"FIELD",391,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,13,"FIELD",391,2)
BLANK
"DATA",160.16,13,"FIELD",391,3)
L,BLANK^759
"DATA",160.16,13,"FIELD",391,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,13,"FIELD",392,0)
1115^1^1115^Over-ride SS/NodesPos
"DATA",160.16,13,"FIELD",392,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,218,"I")
"DATA",160.16,13,"FIELD",392,2)
BLANK
"DATA",160.16,13,"FIELD",392,3)
L,BLANK^1981
"DATA",160.16,13,"FIELD",392,4)
OVERRIDE SS/NODESPOS (165.5,218)
"DATA",160.16,13,"FIELD",393,0)
1116^1^1116^Over-ride SS/TNM-N
"DATA",160.16,13,"FIELD",393,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,219,"I")
"DATA",160.16,13,"FIELD",393,2)
BLANK
"DATA",160.16,13,"FIELD",393,3)
L,BLANK^1982
"DATA",160.16,13,"FIELD",393,4)
OVERRIDE SS/TNM-N (165.5,219)
"DATA",160.16,13,"FIELD",394,0)
1117^1^1117^Over-ride SS/TNM-M
"DATA",160.16,13,"FIELD",394,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,220,"I")
"DATA",160.16,13,"FIELD",394,2)
BLANK
"DATA",160.16,13,"FIELD",394,3)
L,BLANK^1983
"DATA",160.16,13,"FIELD",394,4)
OVERRIDE SS/TNM-M (165.5,220)
"DATA",160.16,13,"FIELD",395,0)
1118^1^1118^Over-ride SS/DisMet1
"DATA",160.16,13,"FIELD",395,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,221,"I")
"DATA",160.16,13,"FIELD",395,2)
BLANK
"DATA",160.16,13,"FIELD",395,3)
L,BLANK^1984
"DATA",160.16,13,"FIELD",395,4)
OVERRIDE SS/DISMET1 (165.5,221)
"DATA",160.16,13,"FIELD",396,0)
1119^1^1119^Over-ride Acsn/Class/Seq
"DATA",160.16,13,"FIELD",396,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,222,"I")
"DATA",160.16,13,"FIELD",396,2)
BLANK
"DATA",160.16,13,"FIELD",396,3)
L,BLANK^1985
"DATA",160.16,13,"FIELD",396,4)
OVERRIDE ACSN/CLASS/SEQ (165.5,222)
"DATA",160.16,13,"FIELD",397,0)
1120^1^1120^Over-ride HospSeq/DxConf
"DATA",160.16,13,"FIELD",397,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,223,"I")
"DATA",160.16,13,"FIELD",397,2)
BLANK
"DATA",160.16,13,"FIELD",397,3)
L,BLANK^1986
"DATA",160.16,13,"FIELD",397,4)
OVERRIDE HOSPSEQ/DXCONF (165.5,223)
"DATA",160.16,13,"FIELD",398,0)
1121^1^1121^Over-ride COC-Site/Type
"DATA",160.16,13,"FIELD",398,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,224,"I")
"DATA",160.16,13,"FIELD",398,2)
BLANK
"DATA",160.16,13,"FIELD",398,3)
L,BLANK^1987
"DATA",160.16,13,"FIELD",398,4)
OVERRIDE COC-SITE/TYPE (165.5,224)
"DATA",160.16,13,"FIELD",399,0)
1122^1^1122^Over-ride HospSeq/Site
"DATA",160.16,13,"FIELD",399,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,225,"I")
"DATA",160.16,13,"FIELD",399,2)
BLANK
"DATA",160.16,13,"FIELD",399,3)
L,BLANK^1988
"DATA",160.16,13,"FIELD",399,4)
OVERRIDE HOSPSEQ/SITE (165.5,225)
"DATA",160.16,13,"FIELD",400,0)
1123^1^1123^Over-ride Site/TNM-StgGrp
"DATA",160.16,13,"FIELD",400,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,226,"I")
"DATA",160.16,13,"FIELD",400,2)
BLANK
"DATA",160.16,13,"FIELD",400,3)
L,BLANK^1989
"DATA",160.16,13,"FIELD",400,4)
OVERRIDE SITE/TNM-STAGE GROUP (165.5,226)
"DATA",160.16,13,"FIELD",401,0)
1399^48^1446^Reserved 09
"DATA",160.16,13,"FIELD",401,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",401,2)
BLANK
"DATA",160.16,13,"FIELD",401,3)
L,BLANK^1740
"DATA",160.16,13,"FIELD",402,0)
30^2^31^Tumor Record Number
"DATA",160.16,13,"FIELD",402,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",402,2)
BLANK
"DATA",160.16,13,"FIELD",402,3)
L,BLANK^60
"DATA",160.16,13,"FIELD",403,0)
32^8^39^Patient System ID-Hosp
"DATA",160.16,13,"FIELD",403,1)
S ACDANS=ACD160
"DATA",160.16,13,"FIELD",403,2)
BLANK
"DATA",160.16,13,"FIELD",403,3)
L,ZERO^21
"DATA",160.16,13,"FIELD",403,4)
ONCOLOGY PATIENT file IEN
"DATA",160.16,13,"FIELD",404,0)
52^20^71^Addr at DX--City
"DATA",160.16,13,"FIELD",404,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,8.1,"E")'="":$$GET1~DIQ(165.5,IEN,8.1,"E"),1:"UNKNOWN")
"DATA",160.16,13,"FIELD",404,2)
BLANK
"DATA",160.16,13,"FIELD",404,3)
R,BLANK^70
"DATA",160.16,13,"FIELD",404,4)
CITY/TOWN AT DX (165.5,8.1)
"DATA",160.16,13,"FIELD",405,0)
72^2^73^Addr at DX--State
"DATA",160.16,13,"FIELD",405,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,16,"I")'="":$$GET1~DIQ(160.15,$$GET1~DIQ(165.5,IEN,16,"I"),.01,"I"),1:"")
"DATA",160.16,13,"FIELD",405,2)
BLANK
"DATA",160.16,13,"FIELD",405,3)
L,BLANK^80
"DATA",160.16,13,"FIELD",405,4)
STATE AT DX (165.5,16)
"DATA",160.16,13,"FIELD",406,0)
114^1^114^Race Coding Sys--Original
"DATA",160.16,13,"FIELD",406,1)
S ACDANS=6
"DATA",160.16,13,"FIELD",406,2)
BLANK
"DATA",160.16,13,"FIELD",406,3)
L,BLANK^180
"DATA",160.16,13,"FIELD",406,4)
6 2000+ SEER & COC
"DATA",160.16,13,"FIELD",407,0)
83^3^85^County at DX
"DATA",160.16,13,"FIELD",407,1)
S ACDANS=$$CNTY~ONCACDU1(IEN)
"DATA",160.16,13,"FIELD",407,2)
BLANK
"DATA",160.16,13,"FIELD",407,3)
L,ZERO^90
"DATA",160.16,13,"FIELD",407,4)
COUNTY AT DX (165.5,10)
"DATA",160.16,13,"FIELD",408,0)
86^6^91^Census Tract 1970/80/90
"DATA",160.16,13,"FIELD",408,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",408,2)
BLANK
"DATA",160.16,13,"FIELD",408,3)
L,BLANK^110
"DATA",160.16,13,"FIELD",408,4)

"DATA",160.16,13,"FIELD",409,0)
92^1^92^Census Cod Sys 1970/80/90
"DATA",160.16,13,"FIELD",409,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",409,2)
BLANK
"DATA",160.16,13,"FIELD",409,3)
L,BLANK^120
"DATA",160.16,13,"FIELD",410,0)
133^2^134^Religion
"DATA",160.16,13,"FIELD",410,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",410,2)
BLANK
"DATA",160.16,13,"FIELD",410,3)
L,BLANK^260
"DATA",160.16,13,"FIELD",411,0)
142^1^142^Industry Source
"DATA",160.16,13,"FIELD",411,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",411,2)
BLANK
"DATA",160.16,13,"FIELD",411,3)
L,BLANK^300
"DATA",160.16,13,"FIELD",412,0)
223^1^223^Occup/Ind Coding System
"DATA",160.16,13,"FIELD",412,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",412,2)
BLANK
"DATA",160.16,13,"FIELD",412,3)
L,BLANK^330
"DATA",160.16,13,"FIELD",413,0)
113^1^113^Race Coding Sys--Current
"DATA",160.16,13,"FIELD",413,1)
S ACDANS=6
"DATA",160.16,13,"FIELD",413,2)
BLANK
"DATA",160.16,13,"FIELD",413,3)
L,BLANK^170
"DATA",160.16,13,"FIELD",413,4)
6 2000+ SEER & COC
"DATA",160.16,13,"FIELD",414,0)
115^1^115^Spanish/Hispanic Origin
"DATA",160.16,13,"FIELD",414,1)
S ACDANS=$$GET1~DIQ(160,ACD160,9,"I")
"DATA",160.16,13,"FIELD",414,2)
BLANK
"DATA",160.16,13,"FIELD",414,3)
L,BLANK^190
"DATA",160.16,13,"FIELD",414,4)
SPANISH ORIGIN (160,9)
"DATA",160.16,13,"FIELD",415,0)
116^1^116^Computed Ethnicity
"DATA",160.16,13,"FIELD",415,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,13,"FIELD",415,2)
BLANK
"DATA",160.16,13,"FIELD",415,3)
L,BLANK^200
"DATA",160.16,13,"FIELD",415,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,13,"FIELD",416,0)
117^1^117^Computed Ethnicity Source
"DATA",160.16,13,"FIELD",416,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,13,"FIELD",416,2)
BLANK
"DATA",160.16,13,"FIELD",416,3)
L,BLANK^210
"DATA",160.16,13,"FIELD",416,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,13,"FIELD",417,0)
118^1^118^Sex
"DATA",160.16,13,"FIELD",417,1)
S ACDANS=$$GET1~DIQ(160,ACD160,10,"I")
"DATA",160.16,13,"FIELD",417,2)
BLANK
"DATA",160.16,13,"FIELD",417,3)
L,BLANK^220
"DATA",160.16,13,"FIELD",417,4)
SEX (160,10)
"DATA",160.16,13,"FIELD",418,0)
119^3^121^Age at Diagnosis
"DATA",160.16,13,"FIELD",418,1)
S ACDANS=$$AGEDX~ONCACDU1(IEN)
"DATA",160.16,13,"FIELD",418,2)
BLANK
"DATA",160.16,13,"FIELD",418,3)
L,ZERO^230
"DATA",160.16,13,"FIELD",418,4)
AGE~ONCOCOM
"DATA",160.16,13,"FIELD",419,0)
122^8^129^Birth Date
"DATA",160.16,13,"FIELD",419,1)
S ACDANS=$$BDATE~ONCACDU2(ACD160) S ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,13,"FIELD",419,2)
BLANK
"DATA",160.16,13,"FIELD",419,3)
L,ZERO^240
"DATA",160.16,13,"FIELD",419,4)
DOB~ONCOES
"DATA",160.16,13,"FIELD",420,0)
130^3^132^Birthplace
"DATA",160.16,13,"FIELD",420,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I")
"DATA",160.16,13,"FIELD",420,2)
BLANK
"DATA",160.16,13,"FIELD",420,3)
L,ZERO^250
"DATA",160.16,13,"FIELD",420,4)
PLACE OF BIRTH (160,7)
"DATA",160.16,13,"FIELD",421,0)
99^1^99^Census Tract Block Group
"DATA",160.16,13,"FIELD",421,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",421,2)
BLANK
"DATA",160.16,13,"FIELD",421,3)
L,BLANK^362
"DATA",160.16,13,"FIELD",422,0)
100^1^100^Census Tr Cert 1970/80/90
"DATA",160.16,13,"FIELD",422,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",422,2)
BLANK
"DATA",160.16,13,"FIELD",422,3)
L,BLANK^364
"DATA",160.16,13,"FIELD",423,0)
141^1^141^Occupation Source
"DATA",160.16,13,"FIELD",423,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",423,2)
BLANK
"DATA",160.16,13,"FIELD",423,3)
L,BLANK^290
"DATA",160.16,13,"FIELD",424,0)
105^2^106^Race 2
"DATA",160.16,13,"FIELD",424,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.1,"I")
"DATA",160.16,13,"FIELD",424,2)
8
"DATA",160.16,13,"FIELD",424,3)
L,ZERO^161
"DATA",160.16,13,"FIELD",424,4)
RACE 2 (160,8.1)
"DATA",160.16,13,"FIELD",425,0)
107^2^108^Race 3
"DATA",160.16,13,"FIELD",425,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.2,"I")
"DATA",160.16,13,"FIELD",425,2)
8
"DATA",160.16,13,"FIELD",425,3)
L,ZERO^162
"DATA",160.16,13,"FIELD",425,4)
RACE 3 (160,8.2)
"DATA",160.16,13,"FIELD",426,0)
109^2^110^Race 4
"DATA",160.16,13,"FIELD",426,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.3,"I")
"DATA",160.16,13,"FIELD",426,2)
8
"DATA",160.16,13,"FIELD",426,3)
L,ZERO^163
"DATA",160.16,13,"FIELD",426,4)
RACE 4 (160,8.3)
"DATA",160.16,13,"FIELD",427,0)
111^2^112^Race 5
"DATA",160.16,13,"FIELD",427,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.4,"I")
"DATA",160.16,13,"FIELD",427,2)
8
"DATA",160.16,13,"FIELD",427,3)
L,ZERO^164
"DATA",160.16,13,"FIELD",427,4)
RACE 5 (160,8.4)
"DATA",160.16,13,"FIELD",428,0)
135^3^137^Occupation Code--Census
"DATA",160.16,13,"FIELD",428,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",428,2)
BLANK
"DATA",160.16,13,"FIELD",428,3)
L,BLANK^270
"DATA",160.16,13,"FIELD",429,0)
138^3^140^Industry Code--Census
"DATA",160.16,13,"FIELD",429,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",429,2)
BLANK
"DATA",160.16,13,"FIELD",429,3)
L,BLANK^280
"DATA",160.16,13,"FIELD",430,0)
224^1^224^Tobacco History
"DATA",160.16,13,"FIELD",430,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",430,2)
BLANK
"DATA",160.16,13,"FIELD",430,3)
L,BLANK^340
"DATA",160.16,13,"FIELD",430,4)
NAACCR has not adopted standards for this item.
"DATA",160.16,13,"FIELD",431,0)
225^1^225^Alcohol History
"DATA",160.16,13,"FIELD",431,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",431,2)
BLANK
"DATA",160.16,13,"FIELD",431,3)
L,BLANK^350
"DATA",160.16,13,"FIELD",431,4)
NAACCR has not adopted standards for this item.
"DATA",160.16,13,"FIELD",432,0)
226^1^226^Family History of Cancer
"DATA",160.16,13,"FIELD",432,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",432,2)
BLANK
"DATA",160.16,13,"FIELD",432,3)
L,BLANK^360
"DATA",160.16,13,"FIELD",432,4)
NAACCR has not adopted standards for this item.
"DATA",160.16,13,"FIELD",433,0)
281^2^282^Sequence Number--Central
"DATA",160.16,13,"FIELD",433,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",433,2)
BLANK
"DATA",160.16,13,"FIELD",433,3)
L,BLANK^380
"DATA",160.16,13,"FIELD",434,0)
283^8^290^Date of Diagnosis
"DATA",160.16,13,"FIELD",434,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,13,"FIELD",434,2)
BLANK
"DATA",160.16,13,"FIELD",434,3)
L,ZERO^390
"DATA",160.16,13,"FIELD",434,4)
DATE DX (165.5,3)
"DATA",160.16,13,"FIELD",435,0)
227^2^228^RuralUrban Continuum 1993
"DATA",160.16,13,"FIELD",435,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",435,2)
BLANK
"DATA",160.16,13,"FIELD",435,3)
L,BLANK^3300
"DATA",160.16,13,"FIELD",435,4)
Program not run; record not coded
"DATA",160.16,13,"FIELD",436,0)
229^2^230^RuralUrban Continuum 2000
"DATA",160.16,13,"FIELD",436,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",436,2)
BLANK
"DATA",160.16,13,"FIELD",436,3)
L,BLANK^3310
"DATA",160.16,13,"FIELD",436,4)
Program not run; record not coded
"DATA",160.16,13,"FIELD",437,0)
235^46^280^Reserved 02
"DATA",160.16,13,"FIELD",437,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",437,2)
BLANK
"DATA",160.16,13,"FIELD",437,3)
L,BLANK^530
"DATA",160.16,13,"FIELD",438,0)
392^10^401^Archive FIN
"DATA",160.16,13,"FIELD",438,1)
S ACDANS=STAT1
"DATA",160.16,13,"FIELD",438,2)
ZERO
"DATA",160.16,13,"FIELD",438,3)
L,ZERO^3100
"DATA",160.16,13,"FIELD",438,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,13,"FIELD",439,0)
473^1^473^RX Hosp--Palliative Proc
"DATA",160.16,13,"FIELD",439,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,13,"I")
"DATA",160.16,13,"FIELD",439,2)
NINE
"DATA",160.16,13,"FIELD",439,3)
L,BLANK^3280
"DATA",160.16,13,"FIELD",439,4)
PALLIATIVE PROCEDURE @FAC (165.5,13)
"DATA",160.16,13,"FIELD",440,0)
629^3^631^CS Tumor Size
"DATA",160.16,13,"FIELD",440,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.2,"I")) K DATEDX
"DATA",160.16,13,"FIELD",440,2)
BLANK
"DATA",160.16,13,"FIELD",440,3)
L,ZERO^2800
"DATA",160.16,13,"FIELD",440,4)
TUMOR SIZE (CS) (165.5,29.2)
"DATA",160.16,13,"FIELD",441,0)
632^2^633^CS Extension
"DATA",160.16,13,"FIELD",441,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,30.2,"I")) K DATEDX
"DATA",160.16,13,"FIELD",441,2)
BLANK
"DATA",160.16,13,"FIELD",441,3)
L,ZERO^2810
"DATA",160.16,13,"FIELD",441,4)
EXTENSION (CS) (165.5,30.2)
"DATA",160.16,13,"FIELD",442,0)
634^1^634^CS Tumor Size/Ext Eval
"DATA",160.16,13,"FIELD",442,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.1,"I")) K DATEDX
"DATA",160.16,13,"FIELD",442,2)
BLANK
"DATA",160.16,13,"FIELD",442,3)
L,ZERO^2820
"DATA",160.16,13,"FIELD",442,4)
TUMOR SIZE/EXT EVAL (CS) (165.5,29.1)
"DATA",160.16,13,"FIELD",443,0)
635^2^636^CS Lymph Nodes
"DATA",160.16,13,"FIELD",443,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,31.1,"I")) K DATEDX
"DATA",160.16,13,"FIELD",443,2)
BLANK
"DATA",160.16,13,"FIELD",443,3)
L,BLANK^2830
"DATA",160.16,13,"FIELD",443,4)
LYMPH NODES (CS) (165.5,31.1)
"DATA",160.16,13,"FIELD",444,0)
637^1^637^CS Reg Nodes Eval
"DATA",160.16,13,"FIELD",444,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,32.1,"I")) K DATEDX
"DATA",160.16,13,"FIELD",444,2)
BLANK
"DATA",160.16,13,"FIELD",444,3)
L,BLANK^2840
"DATA",160.16,13,"FIELD",444,4)
REG NODES EVAL (CS) (165.5,32.1)
"DATA",160.16,13,"FIELD",445,0)
638^2^639^CS Mets at DX
"DATA",160.16,13,"FIELD",445,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.3,"I")) K DATEDX
"DATA",160.16,13,"FIELD",445,2)
BLANK
"DATA",160.16,13,"FIELD",445,3)
L,BLANK^2850
"DATA",160.16,13,"FIELD",445,4)
METS AT DX (CS) (165.5,34.3)
"DATA",160.16,13,"FIELD",446,0)
640^1^640^CS Mets Eval
"DATA",160.16,13,"FIELD",446,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.4,"I")) K DATEDX
"DATA",160.16,13,"FIELD",446,2)
BLANK
"DATA",160.16,13,"FIELD",446,3)
L,BLANK^2860
"DATA",160.16,13,"FIELD",446,4)
METS EVAL (CS) (165.5,34.4)
"DATA",160.16,13,"FIELD",447,0)
641^3^643^CS Site-Specific Factor 1
"DATA",160.16,13,"FIELD",447,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.1,"I")) K DATEDX
"DATA",160.16,13,"FIELD",447,2)
BLANK
"DATA",160.16,13,"FIELD",447,3)
L,BLANK^2880
"DATA",160.16,13,"FIELD",447,4)
SITE-SPECIFIC FACTOR 1 (CS) (165.5,44.1)
"DATA",160.16,13,"FIELD",448,0)
644^3^646^CS Site-Specific Factor 2
"DATA",160.16,13,"FIELD",448,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.2,"I")) K DATEDX
"DATA",160.16,13,"FIELD",448,2)
BLANK
"DATA",160.16,13,"FIELD",448,3)
L,BLANK^2890
"DATA",160.16,13,"FIELD",448,4)
SITE-SPECIFIC FACTOR 2 (CS) (165.5,44.2)
"DATA",160.16,13,"FIELD",449,0)
647^3^649^CS Site-Specific Factor 3
"DATA",160.16,13,"FIELD",449,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.3,"I")) K DATEDX
"DATA",160.16,13,"FIELD",449,2)
BLANK
"DATA",160.16,13,"FIELD",449,3)
L,BLANK^2900
"DATA",160.16,13,"FIELD",449,4)
SITE-SPECIFIC FACTOR 3 (CS) (165.5,44.3)
"DATA",160.16,13,"FIELD",450,0)
650^3^652^CS Site-Specific Factor 4
"DATA",160.16,13,"FIELD",450,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.4,"I")) K DATEDX
"DATA",160.16,13,"FIELD",450,2)
BLANK
"DATA",160.16,13,"FIELD",450,3)
L,BLANK^2910
"DATA",160.16,13,"FIELD",450,4)
SITE-SPECIFIC FACTOR 4 (CS) (165.5,44.4)
"DATA",160.16,13,"FIELD",451,0)
653^3^655^CS Site-Specific Factor 5
"DATA",160.16,13,"FIELD",451,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.5,"I")) K DATEDX
"DATA",160.16,13,"FIELD",451,2)
BLANK
"DATA",160.16,13,"FIELD",451,3)
L,BLANK^2920
"DATA",160.16,13,"FIELD",451,4)
SITE-SPECIFIC FACTOR 5 (CS) (165.5,44.5)
"DATA",160.16,13,"FIELD",452,0)
656^3^658^CS Site-Specific Factor 6
"DATA",160.16,13,"FIELD",452,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.6,"I")) K DATEDX
"DATA",160.16,13,"FIELD",452,2)
BLANK
"DATA",160.16,13,"FIELD",452,3)
L,BLANK^2930
"DATA",160.16,13,"FIELD",452,4)
SITE-SPECIFIC FACTOR 6 (CS) (165.5,44.6)
"DATA",160.16,13,"FIELD",453,0)
659^2^660^Derived AJCC T
"DATA",160.16,13,"FIELD",453,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160,"I")) K DATEDX
"DATA",160.16,13,"FIELD",453,2)
BLANK
"DATA",160.16,13,"FIELD",453,3)
L,BLANK^2940
"DATA",160.16,13,"FIELD",453,4)
DERIVED AJCC T (165.5,160)
"DATA",160.16,13,"FIELD",454,0)
661^1^661^Derived AJCC T Desciptor
"DATA",160.16,13,"FIELD",454,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161,"I")) K DATEDX
"DATA",160.16,13,"FIELD",454,2)
BLANK
"DATA",160.16,13,"FIELD",454,3)
L,BLANK^2950
"DATA",160.16,13,"FIELD",454,4)
DERIVED AJCC T DESCRIPTOR (165.5,161)
"DATA",160.16,13,"FIELD",455,0)
662^2^663^Derived AJCC N
"DATA",160.16,13,"FIELD",455,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162,"I")) K DATEDX
"DATA",160.16,13,"FIELD",455,2)
BLANK
"DATA",160.16,13,"FIELD",455,3)
L,BLANK^2960
"DATA",160.16,13,"FIELD",455,4)
DERIVED AJCC N (165.5,162)
"DATA",160.16,13,"FIELD",456,0)
664^1^664^Derived AJCC N Descriptor
"DATA",160.16,13,"FIELD",456,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163,"I")) K DATEDX
"DATA",160.16,13,"FIELD",456,2)
BLANK
"DATA",160.16,13,"FIELD",456,3)
L,BLANK^2970
"DATA",160.16,13,"FIELD",456,4)
DERIVED AJCC N DESCRIPTOR (165.5,163)
"DATA",160.16,13,"FIELD",457,0)
665^2^666^Derived AJCC M
"DATA",160.16,13,"FIELD",457,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164,"I")) K DATEDX
"DATA",160.16,13,"FIELD",457,2)
BLANK
"DATA",160.16,13,"FIELD",457,3)
L,BLANK^2980
"DATA",160.16,13,"FIELD",457,4)
DERIVED AJCC M (165.5,164)
"DATA",160.16,13,"FIELD",458,0)
667^1^667^Derived AJCC M Descriptor
"DATA",160.16,13,"FIELD",458,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165,"I")) K DATEDX
"DATA",160.16,13,"FIELD",458,2)
BLANK
"DATA",160.16,13,"FIELD",458,3)
L,BLANK^2990
"DATA",160.16,13,"FIELD",458,4)
DERIVED AJCC M DESCRIPTOR (165.5,165)
"DATA",160.16,13,"FIELD",459,0)
668^2^669^Derived AJCC Stage Group
"DATA",160.16,13,"FIELD",459,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166,"I")) K DATEDX
"DATA",160.16,13,"FIELD",459,2)
BLANK
"DATA",160.16,13,"FIELD",459,3)
L,BLANK^3000
"DATA",160.16,13,"FIELD",459,4)
DERIVED AJCC STAGE GROUP (165.5,166)
"DATA",160.16,13,"FIELD",460,0)
670^1^670^Derived SS1977
"DATA",160.16,13,"FIELD",460,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,167,"I")) K DATEDX
"DATA",160.16,13,"FIELD",460,2)
BLANK
"DATA",160.16,13,"FIELD",460,3)
L,BLANK^3010
"DATA",160.16,13,"FIELD",460,4)
DERIVED SS1977 (165.5,670)
"DATA",160.16,13,"FIELD",461,0)
671^1^671^Derived SS2000
"DATA",160.16,13,"FIELD",461,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,168,"I")) K DATEDX
"DATA",160.16,13,"FIELD",461,2)
BLANK
"DATA",160.16,13,"FIELD",461,3)
L,BLANK^3020
"DATA",160.16,13,"FIELD",461,4)
DERIVED SS2000 (165.5,168)
"DATA",160.16,13,"FIELD",462,0)
672^1^672^Derived AJCC--Flag
"DATA",160.16,13,"FIELD",462,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,166,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,13,"FIELD",462,2)
BLANK
"DATA",160.16,13,"FIELD",462,3)
L,BLANK^3030
"DATA",160.16,13,"FIELD",463,0)
673^1^673^Derived SS1977--Flag
"DATA",160.16,13,"FIELD",463,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,167,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,13,"FIELD",463,2)
BLANK
"DATA",160.16,13,"FIELD",463,3)
L,BLANK^3040
"DATA",160.16,13,"FIELD",464,0)
674^1^674^Derived SS2000--Flag
"DATA",160.16,13,"FIELD",464,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,168,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,13,"FIELD",464,2)
BLANK
"DATA",160.16,13,"FIELD",464,3)
L,BLANK^3050
"DATA",160.16,13,"FIELD",465,0)
675^5^679^Comorbid/Complication 1
"DATA",160.16,13,"FIELD",465,1)
D CC~ONCACDU1 S ACDANS=CCEX(1)
"DATA",160.16,13,"FIELD",465,2)
ZERO
"DATA",160.16,13,"FIELD",465,3)
R,ZERO^3110
"DATA",160.16,13,"FIELD",465,4)
COMORBIDITY/COMPLICATION #1 (160,25)
"DATA",160.16,13,"FIELD",466,0)
680^5^684^Comorbid/Complication 2
"DATA",160.16,13,"FIELD",466,1)
D CC~ONCACDU1 S ACDANS=CCEX(2)
"DATA",160.16,13,"FIELD",466,2)
BLANK
"DATA",160.16,13,"FIELD",466,3)
R,ZERO^3120
"DATA",160.16,13,"FIELD",466,4)
COMORBIDITY/COMPLICATION #2 (160,25.1)
"DATA",160.16,13,"FIELD",467,0)
685^5^689^Comorbid/Complication 3
"DATA",160.16,13,"FIELD",467,1)
D CC~ONCACDU1 S ACDANS=CCEX(3)
"DATA",160.16,13,"FIELD",467,2)
BLANK
"DATA",160.16,13,"FIELD",467,3)
R,ZERO^3130
"DATA",160.16,13,"FIELD",467,4)
COMORBIDITY/COMPLICATION #3 (160,25.2)
"DATA",160.16,13,"FIELD",468,0)
690^5^694^Comorbid/Complication 4
"DATA",160.16,13,"FIELD",468,1)
D CC~ONCACDU1 S ACDANS=CCEX(4)
"DATA",160.16,13,"FIELD",468,2)
BLANK
"DATA",160.16,13,"FIELD",468,3)
R,ZERO^3140
"DATA",160.16,13,"FIELD",468,4)
COMORBIDITY/COMPLICATION #4 (160,25.3)
"DATA",160.16,13,"FIELD",469,0)
695^5^699^Comorbid/Complication 5
"DATA",160.16,13,"FIELD",469,1)
D CC~ONCACDU1 S ACDANS=CCEX(5)
"DATA",160.16,13,"FIELD",469,2)
BLANK
"DATA",160.16,13,"FIELD",469,3)
R,ZERO^3150
"DATA",160.16,13,"FIELD",469,4)
COMORBIDITY/COMPLICATION #5 (160,25.4)
"DATA",160.16,13,"FIELD",470,0)
700^5^704^Comorbid/Complication 6
"DATA",160.16,13,"FIELD",470,1)
D CC~ONCACDU1 S ACDANS=CCEX(6)
"DATA",160.16,13,"FIELD",470,2)
BLANK
"DATA",160.16,13,"FIELD",470,3)
R,ZERO^3160
"DATA",160.16,13,"FIELD",470,4)
COMORBIDITY/COMPLICATION #6 (160,25.5)
"DATA",160.16,13,"FIELD",471,0)
763^8^770^RX Date--Most Defin Surg
"DATA",160.16,13,"FIELD",471,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"))
"DATA",160.16,13,"FIELD",471,2)
BLANK
"DATA",160.16,13,"FIELD",471,3)
L,BLANK^3170
"DATA",160.16,13,"FIELD",471,4)
SURGERY OF PRIMARY DATE (165.5,50)
"DATA",160.16,13,"FIELD",472,0)
771^8^778^RX Date--Surgical Disch
"DATA",160.16,13,"FIELD",472,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"))
"DATA",160.16,13,"FIELD",472,2)
BLANK
"DATA",160.16,13,"FIELD",472,3)
L,BLANK^3180
"DATA",160.16,13,"FIELD",472,4)
DATE OF SURGICAL DISCHARGE (165.5,435)
"DATA",160.16,13,"FIELD",473,0)
787^8^794^RX Date--Radiation Ended
"DATA",160.16,13,"FIELD",473,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"))
"DATA",160.16,13,"FIELD",473,2)
NINE
"DATA",160.16,13,"FIELD",473,3)
L,BLANK^3220
"DATA",160.16,13,"FIELD",473,4)
DATE RADIATION ENDED (165.5,361)
"DATA",160.16,13,"FIELD",474,0)
795^8^802^RX Date--Systemic
"DATA",160.16,13,"FIELD",474,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,152) S ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,13,"FIELD",474,2)
BLANK
"DATA",160.16,13,"FIELD",474,3)
L,BLANK^3230
"DATA",160.16,13,"FIELD",474,4)
DATE SYSTEMIC THERAPY STARTED (165.5,152)
"DATA",160.16,13,"FIELD",475,0)
1351^1^1351^Recurrence Distant Site 2
"DATA",160.16,13,"FIELD",475,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.2,"I")
"DATA",160.16,13,"FIELD",475,2)
BLANK
"DATA",160.16,13,"FIELD",475,3)
L,BLANK^1872
"DATA",160.16,13,"FIELD",475,4)
DISTANT SITE 2 (165.5,71.2)
"DATA",160.16,13,"FIELD",476,0)
1352^1^1352^Recurrence Distant Site 3
"DATA",160.16,13,"FIELD",476,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.3,"I")
"DATA",160.16,13,"FIELD",476,2)
BLANK
"DATA",160.16,13,"FIELD",476,3)
L,BLANK^1873
"DATA",160.16,13,"FIELD",476,4)
DISTANT SITE 3 (165.5,71.3)
"DATA",160.16,13,"FIELD",477,0)
871^1^871^RX Summ--Palliative Proc
"DATA",160.16,13,"FIELD",477,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,12,"I")
"DATA",160.16,13,"FIELD",477,2)
NINE
"DATA",160.16,13,"FIELD",477,3)
L,BLANK^3270
"DATA",160.16,13,"FIELD",477,4)
PALLIATIVE PROCEDURE (165.5,12)
"DATA",160.16,13,"FIELD",478,0)
872^1^872^Pain Assessment (item withdrawn by COC)
"DATA",160.16,13,"FIELD",478,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",478,2)
BLANK
"DATA",160.16,13,"FIELD",478,3)
L,BLANK
"DATA",160.16,13,"FIELD",479,0)
876^2^877^RX Summ--Transplnt/Endocr
"DATA",160.16,13,"FIELD",479,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,153,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(167,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",479,2)
BLANK
"DATA",160.16,13,"FIELD",479,3)
L,BLANK^3250
"DATA",160.16,13,"FIELD",479,4)
HEMA TRANS/ENDOCRINE PROC (165.5,153)
"DATA",160.16,13,"FIELD",480,0)
911^2^912^Rad--Boost RX Modality
"DATA",160.16,13,"FIELD",480,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",480,2)
ZERO
"DATA",160.16,13,"FIELD",480,3)
L,BLANK^3200
"DATA",160.16,13,"FIELD",480,4)
BOOST TREATMENT MODALITY (165.5,363.1)
"DATA",160.16,13,"FIELD",481,0)
913^5^917^Rad--Boost Dose cGy
"DATA",160.16,13,"FIELD",481,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,443,"I")
"DATA",160.16,13,"FIELD",481,2)
ZERO
"DATA",160.16,13,"FIELD",481,3)
L,ZERO^3210
"DATA",160.16,13,"FIELD",481,4)
BOOST DOSE: cGy (165.5,443)
"DATA",160.16,13,"FIELD",482,0)
938^1^938^Readm Same Hosp 30 Days
"DATA",160.16,13,"FIELD",482,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,14,"I")
"DATA",160.16,13,"FIELD",482,2)
BLANK
"DATA",160.16,13,"FIELD",482,3)
L,BLANK^3190
"DATA",160.16,13,"FIELD",482,4)
READMISSION W/I 30 DAYS/SURG (165.5,14)
"DATA",160.16,13,"FIELD",483,0)
1447^500^1946^State/Requestor Items
"DATA",160.16,13,"FIELD",483,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",483,2)
BLANK
"DATA",160.16,13,"FIELD",483,3)
L,BLANK^2220
"DATA",160.16,13,"FIELD",484,0)
1947^25^1971^Name--Last
"DATA",160.16,13,"FIELD",484,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.011,"E") D NL~ONCACDU1
"DATA",160.16,13,"FIELD",484,2)
BLANK
"DATA",160.16,13,"FIELD",484,3)
R,BLANK^2230
"DATA",160.16,13,"FIELD",484,4)
LAST NAME (160,.011)
"DATA",160.16,13,"FIELD",485,0)
1972^14^1985^Name--First
"DATA",160.16,13,"FIELD",485,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.01,"E") S:ACDANS'="" ACDANS=$P($P(ACDANS,",",2)," ")
"DATA",160.16,13,"FIELD",485,2)
BLANK
"DATA",160.16,13,"FIELD",485,3)
R,BLANK^2240
"DATA",160.16,13,"FIELD",485,4)
NAME (160,.01)
"DATA",160.16,13,"FIELD",486,0)
1986^14^1999^Name--Middle
"DATA",160.16,13,"FIELD",486,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.015,"E")
"DATA",160.16,13,"FIELD",486,2)
BLANK
"DATA",160.16,13,"FIELD",486,3)
R,BLANK^2250
"DATA",160.16,13,"FIELD",486,4)
MIDDLE NAME (160,.015)
"DATA",160.16,13,"FIELD",487,0)
2000^3^2002^Name--Prefix
"DATA",160.16,13,"FIELD",487,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",487,2)
BLANK
"DATA",160.16,13,"FIELD",487,3)
R,BLANK^2260
"DATA",160.16,13,"FIELD",488,0)
2003^3^2005^Name--Suffix
"DATA",160.16,13,"FIELD",488,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.01,"E") S:ACDANS'="" ACDANS=$P(ACDANS," ",3)
"DATA",160.16,13,"FIELD",488,2)
BLANK
"DATA",160.16,13,"FIELD",488,3)
R,BLANK^2270
"DATA",160.16,13,"FIELD",488,4)
NAME (160,.01)
"DATA",160.16,13,"FIELD",489,0)
2006^15^2020^Name--Alias
"DATA",160.16,13,"FIELD",489,1)
S ACDANS=$$ALIAS~ONCACDU1(ACD160)
"DATA",160.16,13,"FIELD",489,2)
BLANK
"DATA",160.16,13,"FIELD",489,3)
R,BLANK^2280
"DATA",160.16,13,"FIELD",489,4)
ALIAS (2,1)
"DATA",160.16,13,"FIELD",490,0)
2021^15^2035^Name--Maiden
"DATA",160.16,13,"FIELD",490,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",490,2)
BLANK
"DATA",160.16,13,"FIELD",490,3)
R,BLANK^2390
"DATA",160.16,13,"FIELD",491,0)
2036^50^2085^Name--Spouse/Parent
"DATA",160.16,13,"FIELD",491,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",491,2)
BLANK
"DATA",160.16,13,"FIELD",491,3)
R,BLANK^2290
"DATA",160.16,13,"FIELD",492,0)
2086^11^2096^Medical Record Number
"DATA",160.16,13,"FIELD",492,1)
S ACDANS=$$GET1~DIQ(160,ACD160,2,"E"),ACDANS=$E(ACDANS,1,3)_$E(ACDANS,5,6)_$E(ACDANS,8,11)
"DATA",160.16,13,"FIELD",492,2)
BLANK
"DATA",160.16,13,"FIELD",492,3)
L,ZERO^2300
"DATA",160.16,13,"FIELD",492,4)
SSN (160,2)
"DATA",160.16,13,"FIELD",493,0)
2097^2^2098^Military Record No Suffix
"DATA",160.16,13,"FIELD",493,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",493,2)
BLANK
"DATA",160.16,13,"FIELD",493,3)
L,ZERO^2310
"DATA",160.16,13,"FIELD",494,0)
2099^9^2107^Social Security Number
"DATA",160.16,13,"FIELD",494,1)
S ACDANS=$P($$GET1~DIQ(160,ACD160,2,"E"),"-")_$P($$GET1~DIQ(160,ACD160,2,"E"),"-",2)_$P($$GET1~DIQ(160,ACD160,2,"E"),"-",3)
"DATA",160.16,13,"FIELD",494,2)
NINE
"DATA",160.16,13,"FIELD",494,3)
L,BLANK^2320
"DATA",160.16,13,"FIELD",494,4)
SSN (160,2)
"DATA",160.16,13,"FIELD",495,0)
2108^40^2147^Addr at DX--No & Street
"DATA",160.16,13,"FIELD",495,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,8,"E")
"DATA",160.16,13,"FIELD",495,2)
BLANK
"DATA",160.16,13,"FIELD",495,3)
R,BLANK^2330
"DATA",160.16,13,"FIELD",495,4)
PATIENT ADDRESS AT DX (165.5,8)
"DATA",160.16,13,"FIELD",496,0)
2148^40^2187^Addr at DX--Supplementl
"DATA",160.16,13,"FIELD",496,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,8.2,"E")
"DATA",160.16,13,"FIELD",496,2)
BLANK
"DATA",160.16,13,"FIELD",496,3)
R,BLANK^2335
"DATA",160.16,13,"FIELD",496,4)
PATIENT ADDRESS AT DX - SUPP (165.5,8.2)
"DATA",160.16,13,"FIELD",497,0)
2188^40^2227^Addr Current--No & Street
"DATA",160.16,13,"FIELD",497,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.119,"E")
"DATA",160.16,13,"FIELD",497,2)
BLANK
"DATA",160.16,13,"FIELD",497,3)
R,BLANK^2350
"DATA",160.16,13,"FIELD",497,4)
PATIENT ADDRESS - CURRENT (160,.119)
"DATA",160.16,13,"FIELD",498,0)
2228^40^2267^Addr Current--Supplementl
"DATA",160.16,13,"FIELD",498,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.1191,"E")
"DATA",160.16,13,"FIELD",498,2)
BLANK
"DATA",160.16,13,"FIELD",498,3)
R,BLANK^2355
"DATA",160.16,13,"FIELD",498,4)
PATIENT ADDRESS - CURRENT SUPP (160,.1191)
"DATA",160.16,13,"FIELD",499,0)
2268^10^2277^Telephone
"DATA",160.16,13,"FIELD",499,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.131,"E") I ACDANS'="" S ACDANS=$TR(ACDANS,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`~!@#$%&*()-_=+[{]}\|;:',<.>/? ","") I ACDANS'?10N S ACDANS=""
"DATA",160.16,13,"FIELD",499,2)
NINE
"DATA",160.16,13,"FIELD",499,3)
R,BLANK^2360
"DATA",160.16,13,"FIELD",499,4)
TELEPHONE (160,.131)
"DATA",160.16,13,"FIELD",500,0)
2278^6^2283^DC State File Number
"DATA",160.16,13,"FIELD",500,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",500,2)
BLANK
"DATA",160.16,13,"FIELD",500,3)
L,BLANK^2380
"DATA",160.16,13,"FIELD",501,0)
2284^30^2313^Follow-Up Contact--Name
"DATA",160.16,13,"FIELD",501,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",501,2)
BLANK
"DATA",160.16,13,"FIELD",501,3)
L,BLANK^2394
"DATA",160.16,13,"FIELD",502,0)
2314^40^2353^Follow-Up Contact--No&St
"DATA",160.16,13,"FIELD",502,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",502,2)
BLANK
"DATA",160.16,13,"FIELD",502,3)
L,BLANK^2392
"DATA",160.16,13,"FIELD",503,0)
2354^40^2393^Follow-Up Contact--Suppl
"DATA",160.16,13,"FIELD",503,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",503,2)
BLANK
"DATA",160.16,13,"FIELD",503,3)
L,BLANK^2393
"DATA",160.16,13,"FIELD",504,0)
2394^10^2403^Latitude
"DATA",160.16,13,"FIELD",504,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",504,2)
BLANK
"DATA",160.16,13,"FIELD",504,3)
L,BLANK^2352
"DATA",160.16,13,"FIELD",505,0)
2404^11^2414^Longitude
"DATA",160.16,13,"FIELD",505,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",505,2)
BLANK
"DATA",160.16,13,"FIELD",505,3)
L,BLANK^2354
"DATA",160.16,13,"FIELD",506,0)
2415^50^2464^Reserved 10
"DATA",160.16,13,"FIELD",506,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",506,2)
BLANK
"DATA",160.16,13,"FIELD",506,3)
L,BLANK^1835
"DATA",160.16,13,"FIELD",507,0)
2465^10^2474^Reserved 40
"DATA",160.16,13,"FIELD",507,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",507,2)
BLANK
"DATA",160.16,13,"FIELD",507,3)
L,BLANK^2435
"DATA",160.16,13,"FIELD",507,4)

"DATA",160.16,13,"FIELD",508,0)
2475^10^2484^Following Registry
"DATA",160.16,13,"FIELD",508,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,10) S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",508,2)
ZERO
"DATA",160.16,13,"FIELD",508,3)
L,ZERO^2440
"DATA",160.16,13,"FIELD",508,4)
FOLLOWING REGISTRY (160.04,10)
"DATA",160.16,13,"FIELD",509,0)
2485^10^2494^Institution Referred From
"DATA",160.16,13,"FIELD",509,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,6,"I") I ACDANS'="" S ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") S ACDANS=$S(+ACDANS=0:ACDANS,1:ACDANS)
"DATA",160.16,13,"FIELD",509,2)
ZERO
"DATA",160.16,13,"FIELD",509,3)
L,ZERO^2410
"DATA",160.16,13,"FIELD",509,4)
FACILITY REFERRED FROM (165.5,6)
"DATA",160.16,13,"FIELD",510,0)
2495^10^2504^Institution Referred To
"DATA",160.16,13,"FIELD",510,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,7,"I") I ACDANS'="" S ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") S ACDANS=$S(+ACDANS=0:ACDANS,1:ACDANS)
"DATA",160.16,13,"FIELD",510,2)
ZERO
"DATA",160.16,13,"FIELD",510,3)
L,ZERO^2420
"DATA",160.16,13,"FIELD",510,4)
FACILITY REFERRED TO (165.5,7)
"DATA",160.16,13,"FIELD",511,0)
2505^10^2514^NPI--Inst Referred From
"DATA",160.16,13,"FIELD",511,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",511,2)
BLANK
"DATA",160.16,13,"FIELD",511,3)
L,BLANK^2415
"DATA",160.16,13,"FIELD",512,0)
2555^8^2562^Physician--Managing
"DATA",160.16,13,"FIELD",512,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.2,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,13,"FIELD",512,2)
NINE
"DATA",160.16,13,"FIELD",512,3)
R,BLANK^2460
"DATA",160.16,13,"FIELD",512,4)
MANAGING PHYSICIAN (165.5,2.2)
"DATA",160.16,13,"FIELD",513,0)
2563^8^2570^Physician--Follow-Up
"DATA",160.16,13,"FIELD",513,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.1,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,13,"FIELD",513,2)
NINE
"DATA",160.16,13,"FIELD",513,3)
R,BLANK^2470
"DATA",160.16,13,"FIELD",513,4)
FOLLOWING PHYSICIAN (165.5,2.1)
"DATA",160.16,13,"FIELD",514,0)
2571^8^2578^Physician--Primary Surg
"DATA",160.16,13,"FIELD",514,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,13,"FIELD",514,2)
ZERO
"DATA",160.16,13,"FIELD",514,3)
R,BLANK^2480
"DATA",160.16,13,"FIELD",514,4)
PRIMARY SURGEON (165.5,2)
"DATA",160.16,13,"FIELD",515,0)
2579^8^2586^Physician 3
"DATA",160.16,13,"FIELD",515,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.3,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,13,"FIELD",515,2)
ZERO
"DATA",160.16,13,"FIELD",515,3)
R,BLANK^2490
"DATA",160.16,13,"FIELD",515,4)
PHYSICIAN #3 (165.5,2.3)
"DATA",160.16,13,"FIELD",516,0)
2587^8^2594^Physician 4
"DATA",160.16,13,"FIELD",516,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.4,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,13,"FIELD",516,2)
ZERO
"DATA",160.16,13,"FIELD",516,3)
R,BLANK^2500
"DATA",160.16,13,"FIELD",516,4)
PHYSICIAN #4 (165.5,2.4)
"DATA",160.16,13,"FIELD",517,0)
2595^10^2604^NPI--Physician--Managing
"DATA",160.16,13,"FIELD",517,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",517,2)
BLANK
"DATA",160.16,13,"FIELD",517,3)
L,BLANK^2465
"DATA",160.16,13,"FIELD",518,0)
2645^200^2844^Text--DX Proc--PE
"DATA",160.16,13,"FIELD",518,1)
S ACDANS=$$WORD~ONCACDU2(IEN,10,200)
"DATA",160.16,13,"FIELD",518,2)
BLANK
"DATA",160.16,13,"FIELD",518,3)
R,BLANK^2520
"DATA",160.16,13,"FIELD",518,4)
TEXT-DX PROC-PE (165.5,104)
"DATA",160.16,13,"FIELD",519,0)
2845^250^3094^Text--DX Proc--X-ray/Scan
"DATA",160.16,13,"FIELD",519,1)
S ACDANS=$$WORD~ONCACDU2(IEN,11,250)
"DATA",160.16,13,"FIELD",519,2)
BLANK
"DATA",160.16,13,"FIELD",519,3)
R,BLANK^2530
"DATA",160.16,13,"FIELD",519,4)
TEXT-DX PROC-X-RAY/SCAN (165.5,105)
"DATA",160.16,13,"FIELD",520,0)
3095^250^3344^Text--DX Proc--Scopes
"DATA",160.16,13,"FIELD",520,1)
S ACDANS=$$WORD~ONCACDU2(IEN,12,250)
"DATA",160.16,13,"FIELD",520,2)
BLANK
"DATA",160.16,13,"FIELD",520,3)
R,BLANK^2540
"DATA",160.16,13,"FIELD",520,4)
TEXT-DX PROC-SCOPES (165.5,106)
"DATA",160.16,13,"FIELD",521,0)
3345^250^3594^Text--DX Proc--Lab Tests
"DATA",160.16,13,"FIELD",521,1)
S ACDANS=$$WORD~ONCACDU2(IEN,22,250)
"DATA",160.16,13,"FIELD",521,2)
BLANK
"DATA",160.16,13,"FIELD",521,3)
R,BLANK^2550
"DATA",160.16,13,"FIELD",521,4)
TEXT-DX PROC-LAB TESTS (165.5,116)
"DATA",160.16,13,"FIELD",522,0)
3595^250^3844^Text--DX Proc--Op
"DATA",160.16,13,"FIELD",522,1)
S ACDANS=$$WORD~ONCACDU2(IEN,9,250)
"DATA",160.16,13,"FIELD",522,2)
BLANK
"DATA",160.16,13,"FIELD",522,3)
R,BLANK^2560
"DATA",160.16,13,"FIELD",522,4)
TEXT-DX PROC-OP (165.5,103)
"DATA",160.16,13,"FIELD",523,0)
3845^250^4094^Text--DX Proc--Path
"DATA",160.16,13,"FIELD",523,1)
S ACDANS=$$WORD~ONCACDU2(IEN,13,250)
"DATA",160.16,13,"FIELD",523,2)
BLANK
"DATA",160.16,13,"FIELD",523,3)
R,BLANK^2570
"DATA",160.16,13,"FIELD",523,4)
TEXT-DX PROC-PATH (165.5,107)
"DATA",160.16,13,"FIELD",524,0)
4095^40^4134^Text--Primary Site Title
"DATA",160.16,13,"FIELD",524,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,100,"E")
"DATA",160.16,13,"FIELD",524,2)
BLANK
"DATA",160.16,13,"FIELD",524,3)
R,BLANK^2580
"DATA",160.16,13,"FIELD",524,4)
TEXT-PRIMARY SITE TITLE (165.5,100)
"DATA",160.16,13,"FIELD",525,0)
4135^40^4174^Text--Histology Title
"DATA",160.16,13,"FIELD",525,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,101,"E")
"DATA",160.16,13,"FIELD",525,2)
BLANK
"DATA",160.16,13,"FIELD",525,3)
R,BLANK^2590
"DATA",160.16,13,"FIELD",525,4)
TEXT-HISTOLOGY TITLE (165.5,101)
"DATA",160.16,13,"FIELD",526,0)
4175^300^4474^Text--Staging
"DATA",160.16,13,"FIELD",526,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",526,2)
BLANK
"DATA",160.16,13,"FIELD",526,3)
R,BLANK^2600
"DATA",160.16,13,"FIELD",527,0)
4475^150^4624^RX Text--Surgery
"DATA",160.16,13,"FIELD",527,1)
S ACDANS=$$WORD~ONCACDU2(IEN,14,150)
"DATA",160.16,13,"FIELD",527,2)
BLANK
"DATA",160.16,13,"FIELD",527,3)
R,BLANK^2610
"DATA",160.16,13,"FIELD",527,4)
RX TEXT-SURGERY (165.5,108)
"DATA",160.16,13,"FIELD",528,0)
4625^150^4774^RX Text--Radiation (Beam)
"DATA",160.16,13,"FIELD",528,1)
S ACDANS=$$WORD~ONCACDU2(IEN,15,150)
"DATA",160.16,13,"FIELD",528,2)
BLANK
"DATA",160.16,13,"FIELD",528,3)
R,BLANK^2620
"DATA",160.16,13,"FIELD",528,4)
RX TEXT-RADIATION (165.5,109)
"DATA",160.16,13,"FIELD",529,0)
4775^150^4924^RX Text--Radiation Other
"DATA",160.16,13,"FIELD",529,1)
S ACDANS=$$WORD~ONCACDU2(IEN,16,150)
"DATA",160.16,13,"FIELD",529,2)
BLANK
"DATA",160.16,13,"FIELD",529,3)
R,BLANK^2630
"DATA",160.16,13,"FIELD",529,4)
RX TEXT-RADIATION OTHER (165.5,110)
"DATA",160.16,13,"FIELD",530,0)
4925^200^5124^RX Text--Chemo
"DATA",160.16,13,"FIELD",530,1)
S ACDANS=$$WORD~ONCACDU2(IEN,17,200)
"DATA",160.16,13,"FIELD",530,2)
BLANK
"DATA",160.16,13,"FIELD",530,3)
R,BLANK^2640
"DATA",160.16,13,"FIELD",530,4)
RX TEXT-CHEMO (165.5,111)
"DATA",160.16,13,"FIELD",531,0)
5125^200^5324^RX Text--Hormone
"DATA",160.16,13,"FIELD",531,1)
S ACDANS=$$WORD~ONCACDU2(IEN,18,200)
"DATA",160.16,13,"FIELD",531,2)
BLANK
"DATA",160.16,13,"FIELD",531,3)
R,BLANK^2650
"DATA",160.16,13,"FIELD",531,4)
RX TEXT-HORMONE (165.5,112)
"DATA",160.16,13,"FIELD",532,0)
5325^100^5424^RX Text--BRM
"DATA",160.16,13,"FIELD",532,1)
S ACDANS=$$WORD~ONCACDU2(IEN,20,100)
"DATA",160.16,13,"FIELD",532,2)
BLANK
"DATA",160.16,13,"FIELD",532,3)
R,BLANK^2660
"DATA",160.16,13,"FIELD",532,4)
RX TEXT-BRM (165.5,114)
"DATA",160.16,13,"FIELD",533,0)
5425^100^5524^RX Text--Other
"DATA",160.16,13,"FIELD",533,1)
S ACDANS=$$WORD~ONCACDU2(IEN,21,100)
"DATA",160.16,13,"FIELD",533,2)
BLANK
"DATA",160.16,13,"FIELD",533,3)
R,BLANK^2670
"DATA",160.16,13,"FIELD",533,4)
RX TEXT-OTHER (165.5,115)
"DATA",160.16,13,"FIELD",534,0)
5525^350^5874^Text--Remarks
"DATA",160.16,13,"FIELD",534,1)
S ACDANS=$$WORD~ONCACDU2(IEN,19,350)
"DATA",160.16,13,"FIELD",534,2)
BLANK
"DATA",160.16,13,"FIELD",534,3)
R,BLANK^2680
"DATA",160.16,13,"FIELD",534,4)
TEXT-REMARKS (165.5,113)
"DATA",160.16,13,"FIELD",535,0)
5875^50^5924^Place of Diagnosis
"DATA",160.16,13,"FIELD",535,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,5,"E")
"DATA",160.16,13,"FIELD",535,2)
BLANK
"DATA",160.16,13,"FIELD",535,3)
R,BLANK^2690
"DATA",160.16,13,"FIELD",535,4)
DX FACILITY (165.5,5)
"DATA",160.16,13,"FIELD",536,0)
5925^385^6309^Reserved 19 (part one)
"DATA",160.16,13,"FIELD",536,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",536,2)
BLANK
"DATA",160.16,13,"FIELD",536,3)
L,BLANK^2700
"DATA",160.16,13,"FIELD",537,0)
480^1^480^RX Hosp--Scope Reg 98-02
"DATA",160.16,13,"FIELD",537,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138.1,"SC5")
"DATA",160.16,13,"FIELD",537,2)
BLANK
"DATA",160.16,13,"FIELD",537,3)
L,BLANK^747
"DATA",160.16,13,"FIELD",537,4)
SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"DATA",160.16,13,"FIELD",538,0)
481^1^481^RX Hosp--Surg Oth 98-02
"DATA",160.16,13,"FIELD",538,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139.1,"SO5")
"DATA",160.16,13,"FIELD",538,2)
BLANK
"DATA",160.16,13,"FIELD",538,3)
L,BLANK^748
"DATA",160.16,13,"FIELD",538,4)
SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"DATA",160.16,13,"FIELD",539,0)
482^46^527^Reserved 04
"DATA",160.16,13,"FIELD",539,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",539,2)
BLANK
"DATA",160.16,13,"FIELD",539,3)
L,BLANK^750
"DATA",160.16,13,"FIELD",540,0)
939^2^940^RX Summ--Surg Site 98-02
"DATA",160.16,13,"FIELD",540,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.2,"SPS")
"DATA",160.16,13,"FIELD",540,2)
BLANK
"DATA",160.16,13,"FIELD",540,3)
L,ZERO^1646
"DATA",160.16,13,"FIELD",540,4)
SURGERY OF PRIMARY (R) (165.5,58.2)
"DATA",160.16,13,"FIELD",541,0)
941^1^941^RX Summ--Scope Reg 98-02
"DATA",160.16,13,"FIELD",541,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138,"SC5")
"DATA",160.16,13,"FIELD",541,2)
BLANK
"DATA",160.16,13,"FIELD",541,3)
L,BLANK^1647
"DATA",160.16,13,"FIELD",541,4)
SCOPE OF LN SURGERY (R) (165.5,138)
"DATA",160.16,13,"FIELD",542,0)
942^1^942^RX Summ--Surg Oth 98-02
"DATA",160.16,13,"FIELD",542,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139,"SO5")
"DATA",160.16,13,"FIELD",542,2)
BLANK
"DATA",160.16,13,"FIELD",542,3)
L,NINE^1648
"DATA",160.16,13,"FIELD",542,4)
SURG PROC/OTHER SITE (R) (165.5,139)
"DATA",160.16,13,"FIELD",543,0)
705^6^710^CS Version 1st
"DATA",160.16,13,"FIELD",543,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,13,"FIELD",543,2)
BLANK
"DATA",160.16,13,"FIELD",543,3)
L,BLANK^2935
"DATA",160.16,13,"FIELD",543,4)
CS VERSION (165.5,169)
"DATA",160.16,13,"FIELD",544,0)
711^6^716^CS Version Latest
"DATA",160.16,13,"FIELD",544,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,13,"FIELD",544,2)
BLANK
"DATA",160.16,13,"FIELD",544,3)
L,BLANK^2936
"DATA",160.16,13,"FIELD",544,4)
CS VERSION (165.5,169)
"DATA",160.16,13,"FIELD",545,0)
6310^385^6694^Reserved 19 (part two)
"DATA",160.16,13,"FIELD",545,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",545,2)
BLANK
"DATA",160.16,13,"FIELD",545,3)
L,BLANK^2700
"DATA",160.16,13,"FIELD",546,0)
722^5^726^Comorbid/Complication 8
"DATA",160.16,13,"FIELD",546,1)
D CC~ONCACDU1 S ACDANS=CCEX(8)
"DATA",160.16,13,"FIELD",546,2)
BLANK
"DATA",160.16,13,"FIELD",546,3)
R,ZERO^3162
"DATA",160.16,13,"FIELD",546,4)
COMORBIDITY/COMPLICATION #8 (160,25.7)
"DATA",160.16,13,"FIELD",547,0)
727^5^731^Comorbid/Complication 9
"DATA",160.16,13,"FIELD",547,1)
D CC~ONCACDU1 S ACDANS=CCEX(9)
"DATA",160.16,13,"FIELD",547,2)
BLANK
"DATA",160.16,13,"FIELD",547,3)
R,ZERO^3163
"DATA",160.16,13,"FIELD",547,4)
COMORBIDITY/COMPLICATION #9 (160,25.8)
"DATA",160.16,13,"FIELD",548,0)
732^5^736^Comorbid/Complication 10
"DATA",160.16,13,"FIELD",548,1)
D CC~ONCACDU1 S ACDANS=CCEX(10)
"DATA",160.16,13,"FIELD",548,2)
BLANK
"DATA",160.16,13,"FIELD",548,3)
R,ZERO^3164
"DATA",160.16,13,"FIELD",548,4)
COMORBIDITY/COMPLICATION #10 (160,25.9)
"DATA",160.16,13,"FIELD",549,0)
737^1^737^ICD Revision Comorbid
"DATA",160.16,13,"FIELD",549,1)
D CC~ONCACDU1 S CC1=CCEX(1) S ACDANS=$S(CC1="":0,1:9)
"DATA",160.16,13,"FIELD",549,2)
BLANK
"DATA",160.16,13,"FIELD",549,3)
L,BLANK^3165
"DATA",160.16,13,"FIELD",549,4)
0 = No secondary diagnosis reported.  9 = ICD-9.
"DATA",160.16,13,"FIELD",550,0)
738^17^754^Reserved 05
"DATA",160.16,13,"FIELD",550,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",550,2)
BLANK
"DATA",160.16,13,"FIELD",550,3)
L,BLANK^1180
"DATA",160.16,13,"FIELD",551,0)
40^10^49^NPI--Registry ID
"DATA",160.16,13,"FIELD",551,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",551,2)
BLANK
"DATA",160.16,13,"FIELD",551,3)
L,BLANK^45
"DATA",160.16,13,"FIELD",552,0)
231^1^231^NHIA Derived Hisp Origin
"DATA",160.16,13,"FIELD",552,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",552,2)
BLANK
"DATA",160.16,13,"FIELD",552,3)
L,BLANK^191
"DATA",160.16,13,"FIELD",552,4)
Blank = Algorithm has not been run
"DATA",160.16,13,"FIELD",553,0)
232^1^232^IHS Link
"DATA",160.16,13,"FIELD",553,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",553,2)
BLANK
"DATA",160.16,13,"FIELD",553,3)
L,BLANK^192
"DATA",160.16,13,"FIELD",553,4)
Blank = Record not sent for linkage or linkage result pending
"DATA",160.16,13,"FIELD",554,0)
233^2^234^GIS Coordinate Quality
"DATA",160.16,13,"FIELD",554,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",554,2)
BLANK
"DATA",160.16,13,"FIELD",554,3)
L,BLANK^366
"DATA",160.16,13,"FIELD",554,4)
Blank = Not applicable, coordinate assignment not attempted
"DATA",160.16,13,"FIELD",555,0)
322^2^323^Casefinding Source
"DATA",160.16,13,"FIELD",555,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,21,"I")
"DATA",160.16,13,"FIELD",555,2)
NINE
"DATA",160.16,13,"FIELD",555,3)
L,BLANK^501
"DATA",160.16,13,"FIELD",555,4)
CASEFINDING SOURCE (165.5,21)
"DATA",160.16,13,"FIELD",556,0)
324^1^324^Ambiguous Terminology DX
"DATA",160.16,13,"FIELD",556,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,159,"I")
"DATA",160.16,13,"FIELD",556,2)
BLANK
"DATA",160.16,13,"FIELD",556,3)
L,BLANK^442
"DATA",160.16,13,"FIELD",556,4)
AMBIGUOUS TERMINOLOGY DX (165.5,159)
"DATA",160.16,13,"FIELD",557,0)
325^8^332^Date of Conclusive DX
"DATA",160.16,13,"FIELD",557,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"))
"DATA",160.16,13,"FIELD",557,2)
BLANK
"DATA",160.16,13,"FIELD",557,3)
L,BLANK^443
"DATA",160.16,13,"FIELD",557,4)
DATE OF CONCLUSIVE DX (165.5,193)
"DATA",160.16,13,"FIELD",558,0)
333^2^334^Mult Tum Rpt as One Prim
"DATA",160.16,13,"FIELD",558,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,194,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(169,ACDANS,.01,"I")
"DATA",160.16,13,"FIELD",558,2)
BLANK
"DATA",160.16,13,"FIELD",558,3)
L,BLANK^444
"DATA",160.16,13,"FIELD",558,4)
MULT TUM RPT AS ONE PRIM (165.5,194)
"DATA",160.16,13,"FIELD",559,0)
335^8^342^Date of Multiple Tumors
"DATA",160.16,13,"FIELD",559,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"))
"DATA",160.16,13,"FIELD",559,2)
BLANK
"DATA",160.16,13,"FIELD",559,3)
L,BLANK^445
"DATA",160.16,13,"FIELD",559,4)
DATE OF MULTIPLE TUMORS (165.5,195)
"DATA",160.16,13,"FIELD",560,0)
343^2^344^Multiplicity Counter
"DATA",160.16,13,"FIELD",560,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,196,"I")
"DATA",160.16,13,"FIELD",560,2)
BLANK
"DATA",160.16,13,"FIELD",560,3)
L,BLANK^446
"DATA",160.16,13,"FIELD",560,4)
MULTIPLICITY COUNTER (165.5,196)
"DATA",160.16,13,"FIELD",561,0)
345^2^346^Number of Tumors/Hist
"DATA",160.16,13,"FIELD",561,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",561,2)
BLANK
"DATA",160.16,13,"FIELD",561,3)
L,BLANK^447
"DATA",160.16,13,"FIELD",561,4)
This item is for future use in 2007.
"DATA",160.16,13,"FIELD",562,0)
890^4^893^Reserved 33
"DATA",160.16,13,"FIELD",562,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",562,2)
BLANK
"DATA",160.16,13,"FIELD",562,3)
L,BLANK^1465
"DATA",160.16,13,"FIELD",563,0)
1397^2^1398^Follow-up Source Central
"DATA",160.16,13,"FIELD",563,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",563,2)
BLANK
"DATA",160.16,13,"FIELD",563,3)
L,BLANK^1791
"DATA",160.16,13,"FIELD",563,4)
This field is created by the central registry.
"DATA",160.16,13,"FIELD",564,0)
50^2^51^Reserved 01
"DATA",160.16,13,"FIELD",564,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",564,2)
BLANK
"DATA",160.16,13,"FIELD",564,3)
L,BLANK^370
"DATA",160.16,13,"FIELD",565,0)
2515^10^2524^NPI--Inst Referred To
"DATA",160.16,13,"FIELD",565,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",565,2)
BLANK
"DATA",160.16,13,"FIELD",565,3)
L,BLANK^2425
"DATA",160.16,13,"FIELD",566,0)
2525^10^2534^NPI--Following Registry
"DATA",160.16,13,"FIELD",566,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",566,2)
BLANK
"DATA",160.16,13,"FIELD",566,3)
L,BLANK^2445
"DATA",160.16,13,"FIELD",567,0)
2535^20^2554^Reserved 11
"DATA",160.16,13,"FIELD",567,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",567,2)
BLANK
"DATA",160.16,13,"FIELD",567,3)
L,BLANK^1900
"DATA",160.16,13,"FIELD",568,0)
2605^10^2614^NPI--Physician--Follow-Up
"DATA",160.16,13,"FIELD",568,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",568,2)
BLANK
"DATA",160.16,13,"FIELD",568,3)
L,BLANK^2475
"DATA",160.16,13,"FIELD",569,0)
2615^10^2624^NPI--Physician--Primary Surg
"DATA",160.16,13,"FIELD",569,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",569,2)
BLANK
"DATA",160.16,13,"FIELD",569,3)
L,BLANK^2485
"DATA",160.16,13,"FIELD",570,0)
2625^10^2634^NPI--Physician 3
"DATA",160.16,13,"FIELD",570,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",570,2)
BLANK
"DATA",160.16,13,"FIELD",570,3)
L,BLANK^2495
"DATA",160.16,13,"FIELD",571,0)
2635^10^2644^NPI--Physician 4
"DATA",160.16,13,"FIELD",571,1)
S ACDANS=""
"DATA",160.16,13,"FIELD",571,2)
BLANK
"DATA",160.16,13,"FIELD",571,3)
L,BLANK^2505
"DATA",160.16,13,"RULES",0)
^160.162^12^12^3070409^^^^
"DATA",160.16,13,"RULES",1,0)
S VALID=1
"DATA",160.16,13,"RULES",2,0)
S DATEDX=$$GET1^DIQ(165.5,IEN,3,"I")
"DATA",160.16,13,"RULES",3,0)
S SCREEN="^"_$$GET1^DIQ(165.5,IEN,.04,"I")_"^"
"DATA",160.16,13,"RULES",4,0)
I $G(ACO)=1,DATEDX<3000000,"^0^1^2^6^"'[SCREEN S VALID=0
"DATA",160.16,13,"RULES",5,0)
I $G(ACO)=1,DATEDX>2991231,"^0^1^2^"'[SCREEN S VALID=0
"DATA",160.16,13,"RULES",6,0)
I $$GET1^DIQ(165.5,IEN,91,"I")<3 S VALID=0
"DATA",160.16,13,"RULES",7,0)
S STDX=$S($$GET1^DIQ(165.5,IEN,16,"I")'="":$$GET1^DIQ(160.15,$$GET1^DIQ(165.5,IEN,16,"I"),.01,"I"),1:"")
"DATA",160.16,13,"RULES",8,0)
I STDX'=STATE S VALID=0
"DATA",160.16,13,"RULES",9,0)
S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"DATA",160.16,13,"RULES",10,0)
S:VALID VALID=$S($E(TPG,3,4)=71:1,$E(TPG,3,4)=72:1,$E(TPG,3,5)=751:1,$E(TPG,3,5)=753:1,$$BEHAV^ONCACDU1(IEN)=2:1,$$BEHAV^ONCACDU1(IEN)=3:1,1:0)
"DATA",160.16,13,"RULES",11,0)
S JUMP=0
"DATA",160.16,13,"RULES",12,0)
K SCREEN
"DATA",160.16,14,0)
VACCR EXTRACT V11.1
"DATA",160.16,14,"FIELD",0)
^160.161I^591^423
"DATA",160.16,14,"FIELD",1,0)
1^1^1^Record Type
"DATA",160.16,14,"FIELD",1,1)
S ACDANS="A"
"DATA",160.16,14,"FIELD",1,2)
BLANK
"DATA",160.16,14,"FIELD",1,3)
L,BLANK^10
"DATA",160.16,14,"FIELD",1,4)
"A" Full case Abstract record type (incidence and confidential data plus text summaries; used for reporting to central registries)
"DATA",160.16,14,"FIELD",2,0)
2^8^9^Patient ID Number
"DATA",160.16,14,"FIELD",2,1)
S ACDANS=99999999
"DATA",160.16,14,"FIELD",2,2)
BLANK
"DATA",160.16,14,"FIELD",2,3)
L,BLANK^20
"DATA",160.16,14,"FIELD",3,0)
10^1^10^Registry Type
"DATA",160.16,14,"FIELD",3,1)
S ACDANS=3
"DATA",160.16,14,"FIELD",3,2)
BLANK
"DATA",160.16,14,"FIELD",3,3)
L,BLANK^30
"DATA",160.16,14,"FIELD",3,4)
3 Single hospital/freestanding center
"DATA",160.16,14,"FIELD",4,0)
11^1^11^FIN Coding System
"DATA",160.16,14,"FIELD",4,1)
S ACDANS=$S($L(STAT1)=7:1,$L(STAT1)=8:2,1:9)
"DATA",160.16,14,"FIELD",4,2)
BLANK
"DATA",160.16,14,"FIELD",4,3)
L,BLANK^35
"DATA",160.16,14,"FIELD",4,4)
FACILITY ID # (160.1,27)
"DATA",160.16,14,"FIELD",5,0)
19^1^19^NAACCR Record Version
"DATA",160.16,14,"FIELD",5,1)
S ACDANS="B"
"DATA",160.16,14,"FIELD",5,2)
BLANK
"DATA",160.16,14,"FIELD",5,3)
L,BLANK^50
"DATA",160.16,14,"FIELD",5,4)
2006 Version 11
"DATA",160.16,14,"FIELD",6,0)
20^10^29^Registry Id
"DATA",160.16,14,"FIELD",6,1)
S ACDANS=STAT1
"DATA",160.16,14,"FIELD",6,2)
ZERO
"DATA",160.16,14,"FIELD",6,3)
L,ZERO^40
"DATA",160.16,14,"FIELD",6,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,14,"FIELD",18,0)
74^9^82^Addr at DX--Postal Code
"DATA",160.16,14,"FIELD",18,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,9,"I")
"DATA",160.16,14,"FIELD",18,2)
BLANK
"DATA",160.16,14,"FIELD",18,3)
R,BLANK^100
"DATA",160.16,14,"FIELD",18,4)
POSTAL CODE AT DX (165.5,9)
"DATA",160.16,14,"FIELD",26,0)
93^6^98^Census Tract 2000
"DATA",160.16,14,"FIELD",26,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,14,"FIELD",26,2)
BLANK
"DATA",160.16,14,"FIELD",26,3)
L,BLANK^130
"DATA",160.16,14,"FIELD",26,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,14,"FIELD",29,0)
101^1^101^Census Tr Certainty 2000
"DATA",160.16,14,"FIELD",29,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",29,2)
BLANK
"DATA",160.16,14,"FIELD",29,3)
L,BLANK^365
"DATA",160.16,14,"FIELD",30,0)
102^1^102^Marital Status at DX
"DATA",160.16,14,"FIELD",30,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,11,"I")
"DATA",160.16,14,"FIELD",30,2)
BLANK
"DATA",160.16,14,"FIELD",30,3)
L,BLANK^150
"DATA",160.16,14,"FIELD",30,4)
MARITAL STATUS AT DX (165.5,11)
"DATA",160.16,14,"FIELD",31,0)
103^2^104^Race 1
"DATA",160.16,14,"FIELD",31,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8,"I")
"DATA",160.16,14,"FIELD",31,2)
BLANK
"DATA",160.16,14,"FIELD",31,3)
L,ZERO^160
"DATA",160.16,14,"FIELD",31,4)
RACE 1 (160,8)
"DATA",160.16,14,"FIELD",32,0)
143^40^182^Text--Usual Occupation
"DATA",160.16,14,"FIELD",32,1)
S ACDANS=$$OCCUP~ONCACDU1(ACD160)
"DATA",160.16,14,"FIELD",32,2)
BLANK
"DATA",160.16,14,"FIELD",32,3)
R,BLANK^310
"DATA",160.16,14,"FIELD",32,4)
USUAL OCCUPATION (160.042,.01)
"DATA",160.16,14,"FIELD",33,0)
183^40^222^Text--Usual Industry
"DATA",160.16,14,"FIELD",33,1)
S ACDANS=$$IND~ONCACDU1(ACD160)
"DATA",160.16,14,"FIELD",33,2)
BLANK
"DATA",160.16,14,"FIELD",33,3)
R,BLANK^320
"DATA",160.16,14,"FIELD",33,4)
USUAL INDUSTRY (160.042,3)
"DATA",160.16,14,"FIELD",41,0)
291^4^294^Primary Site
"DATA",160.16,14,"FIELD",41,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,20,"I") S:ACDANS'="" ACDANS=$TR($$GET1~DIQ(164,ACDANS,1,"I"),".","")
"DATA",160.16,14,"FIELD",41,2)
BLANK
"DATA",160.16,14,"FIELD",41,3)
L,ZERO^400
"DATA",160.16,14,"FIELD",41,4)
PRIMARY SITE (165.5,20)
"DATA",160.16,14,"FIELD",42,0)
295^1^295^Laterality
"DATA",160.16,14,"FIELD",42,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,28,"I")
"DATA",160.16,14,"FIELD",42,2)
BLANK
"DATA",160.16,14,"FIELD",42,3)
L,BLANK^410
"DATA",160.16,14,"FIELD",42,4)
LATERALITY (165.5,28)
"DATA",160.16,14,"FIELD",43,0)
296^5^300^Morph--Type&Behav ICD-O-2
"DATA",160.16,14,"FIELD",43,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,22,"I"),1:"") K DATEDX
"DATA",160.16,14,"FIELD",43,2)
BLANK
"DATA",160.16,14,"FIELD",43,3)
L,ZERO^419
"DATA",160.16,14,"FIELD",43,4)
HISTOLOGY (ICD-O-2) (165.5,22)
"DATA",160.16,14,"FIELD",45,0)
306^1^306^Grade
"DATA",160.16,14,"FIELD",45,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24,"I")
"DATA",160.16,14,"FIELD",45,2)
BLANK
"DATA",160.16,14,"FIELD",45,3)
L,ZERO^440
"DATA",160.16,14,"FIELD",45,4)
GRADE/DIFFERENTIATION (165.5,24)
"DATA",160.16,14,"FIELD",46,0)
307^1^307^Site Coding Sys--Current
"DATA",160.16,14,"FIELD",46,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,14,"FIELD",46,2)
BLANK
"DATA",160.16,14,"FIELD",46,3)
L,ZERO^450
"DATA",160.16,14,"FIELD",46,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,14,"FIELD",47,0)
308^1^308^Site Coding Sys--Original
"DATA",160.16,14,"FIELD",47,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,14,"FIELD",47,2)
BLANK
"DATA",160.16,14,"FIELD",47,3)
L,ZERO^460
"DATA",160.16,14,"FIELD",47,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,14,"FIELD",48,0)
309^1^309^Morph Coding Sys--Current
"DATA",160.16,14,"FIELD",48,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:7,1:6) K DATEDX
"DATA",160.16,14,"FIELD",48,2)
BLANK
"DATA",160.16,14,"FIELD",48,3)
L,ZERO^470
"DATA",160.16,14,"FIELD",48,4)
6 = ICD-O, Second Edition, plus FAB codes effective 1/1/98; 7 = ICD-O, Third Edition
"DATA",160.16,14,"FIELD",49,0)
310^1^310^Morph Coding Sys--Originl
"DATA",160.16,14,"FIELD",49,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:7,1:6) K DATEDX
"DATA",160.16,14,"FIELD",49,2)
BLANK
"DATA",160.16,14,"FIELD",49,3)
L,ZERO^480
"DATA",160.16,14,"FIELD",49,4)
6 = ICD-O, Second Edition, plus FAB codes effective 1/1/98; 7 = ICD-O, Third Edition
"DATA",160.16,14,"FIELD",50,0)
311^1^311^Diagnostic Confirmation
"DATA",160.16,14,"FIELD",50,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,26,"I")
"DATA",160.16,14,"FIELD",50,2)
BLANK
"DATA",160.16,14,"FIELD",50,3)
L,ZERO^490
"DATA",160.16,14,"FIELD",50,4)
DIAGNOSTIC CONFIRMATION (165.5,26)
"DATA",160.16,14,"FIELD",51,0)
312^1^312^Type of Reporting Source
"DATA",160.16,14,"FIELD",51,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.2,"I")
"DATA",160.16,14,"FIELD",51,2)
BLANK
"DATA",160.16,14,"FIELD",51,3)
L,BLANK^500
"DATA",160.16,14,"FIELD",51,4)
TYPE OF REPORTING SOURCE (165.5,1.2)
"DATA",160.16,14,"FIELD",52,0)
313^8^320^Screening Date
"DATA",160.16,14,"FIELD",52,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,79,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",52,2)
BLANK
"DATA",160.16,14,"FIELD",52,3)
L,BLANK^510
"DATA",160.16,14,"FIELD",52,4)
SCREENING DATE (165.5,79)
"DATA",160.16,14,"FIELD",53,0)
321^1^321^Screening Result
"DATA",160.16,14,"FIELD",53,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,119,"I")
"DATA",160.16,14,"FIELD",53,2)
BLANK
"DATA",160.16,14,"FIELD",53,3)
L,BLANK^520
"DATA",160.16,14,"FIELD",53,4)
SCREENING RESULT (165.5,119)
"DATA",160.16,14,"FIELD",54,0)
301^5^305^Morph--Type&Behav ICD-O-3
"DATA",160.16,14,"FIELD",54,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,22.3,"I")
"DATA",160.16,14,"FIELD",54,2)
BLANK
"DATA",160.16,14,"FIELD",54,3)
L,ZERO^521
"DATA",160.16,14,"FIELD",54,4)
HISTOLOGY (ICD-O-3) (165.5,22.3)
"DATA",160.16,14,"FIELD",57,0)
411^2^412^Sequence Number--Hospital
"DATA",160.16,14,"FIELD",57,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.06,"I")
"DATA",160.16,14,"FIELD",57,2)
BLANK
"DATA",160.16,14,"FIELD",57,3)
L,ZERO^560
"DATA",160.16,14,"FIELD",57,4)
SEQUENCE NUMBER (165.5,.06)
"DATA",160.16,14,"FIELD",58,0)
413^3^415^Abstracted By
"DATA",160.16,14,"FIELD",58,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,92,"I") S:ACDANS'="" ACDANS=$E($$GET1~DIQ(200,ACDANS,1,"I"),1,3)
"DATA",160.16,14,"FIELD",58,2)
BLANK
"DATA",160.16,14,"FIELD",58,3)
R,BLANK^570
"DATA",160.16,14,"FIELD",58,4)
ABSTRACTED BY (165.5,92)
"DATA",160.16,14,"FIELD",59,0)
416^8^423^Date of 1st Contact
"DATA",160.16,14,"FIELD",59,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,155,"I") S:ACDANS="" ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",59,2)
BLANK
"DATA",160.16,14,"FIELD",59,3)
L,ZERO^580
"DATA",160.16,14,"FIELD",59,4)
DATE OF FIRST CONTACT (165.5,155) or DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,14,"FIELD",60,0)
424^8^431^Date of Inpatient Adm
"DATA",160.16,14,"FIELD",60,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",60,2)
BLANK
"DATA",160.16,14,"FIELD",60,3)
L,ZERO^590
"DATA",160.16,14,"FIELD",60,4)
DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,14,"FIELD",61,0)
432^8^439^Date of Inpatient Disch
"DATA",160.16,14,"FIELD",61,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",61,2)
BLANK
"DATA",160.16,14,"FIELD",61,3)
L,ZERO^600
"DATA",160.16,14,"FIELD",61,4)
DATE OF INPATIENT DISCHARGE (165.5,1.1)
"DATA",160.16,14,"FIELD",62,0)
440^1^440^Class of Case
"DATA",160.16,14,"FIELD",62,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.04,"I")
"DATA",160.16,14,"FIELD",62,2)
BLANK
"DATA",160.16,14,"FIELD",62,3)
L,ZERO^610
"DATA",160.16,14,"FIELD",62,4)
CLASS OF CASE (165.5,.04)
"DATA",160.16,14,"FIELD",63,0)
441^4^444^Reserved 26
"DATA",160.16,14,"FIELD",63,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",63,2)
BLANK
"DATA",160.16,14,"FIELD",63,3)
L,BLANK^615
"DATA",160.16,14,"FIELD",63,4)

"DATA",160.16,14,"FIELD",64,0)
445^2^446^Primary Payer at DX
"DATA",160.16,14,"FIELD",64,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,18,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.3,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",64,2)
NINE
"DATA",160.16,14,"FIELD",64,3)
L,BLANK^630
"DATA",160.16,14,"FIELD",64,4)
PRIMARY PAYER AT DX (165.5,18)
"DATA",160.16,14,"FIELD",65,0)
447^10^456^NPI--Archive FIN
"DATA",160.16,14,"FIELD",65,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",65,2)
BLANK
"DATA",160.16,14,"FIELD",65,3)
L,BLANK^3105
"DATA",160.16,14,"FIELD",65,4)

"DATA",160.16,14,"FIELD",68,0)
457^2^458^RX Hosp--Surg Prim Site
"DATA",160.16,14,"FIELD",68,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.7,"SPS")
"DATA",160.16,14,"FIELD",68,2)
NINE
"DATA",160.16,14,"FIELD",68,3)
L,ZERO^670
"DATA",160.16,14,"FIELD",68,4)
SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"DATA",160.16,14,"FIELD",69,0)
478^2^479^RX Hosp--Surg Site 98-02
"DATA",160.16,14,"FIELD",69,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,50.2,"SPS")
"DATA",160.16,14,"FIELD",69,2)
BLANK
"DATA",160.16,14,"FIELD",69,3)
L,ZERO^746
"DATA",160.16,14,"FIELD",69,4)
SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"DATA",160.16,14,"FIELD",70,0)
463^1^463^RX Hosp--Radiation
"DATA",160.16,14,"FIELD",70,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.4,"I")
"DATA",160.16,14,"FIELD",70,2)
BLANK
"DATA",160.16,14,"FIELD",70,3)
L,ZERO^690
"DATA",160.16,14,"FIELD",70,4)
RADIATION @FACILITY (165.5,51.4)
"DATA",160.16,14,"FIELD",71,0)
464^2^465^RX Hosp--Chemo
"DATA",160.16,14,"FIELD",71,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.3,"I")
"DATA",160.16,14,"FIELD",71,2)
NINE
"DATA",160.16,14,"FIELD",71,3)
L,BLANK^700
"DATA",160.16,14,"FIELD",71,4)
CHEMOTHERAPY @FAC (165.5,53.3)
"DATA",160.16,14,"FIELD",72,0)
466^2^467^RX Hosp--Hormone
"DATA",160.16,14,"FIELD",72,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.3,"I")
"DATA",160.16,14,"FIELD",72,2)
NINE
"DATA",160.16,14,"FIELD",72,3)
L,BLANK^710
"DATA",160.16,14,"FIELD",72,4)
HORMONE THERAPY @FAC (165.5,54.3)
"DATA",160.16,14,"FIELD",73,0)
468^2^469^RX Hosp--BRM
"DATA",160.16,14,"FIELD",73,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.3,"I")
"DATA",160.16,14,"FIELD",73,2)
NINE
"DATA",160.16,14,"FIELD",73,3)
L,BLANK^720
"DATA",160.16,14,"FIELD",73,4)
IMMUNOTHERAPY @FAC (165.5,55.3)
"DATA",160.16,14,"FIELD",74,0)
470^1^470^RX Hosp--Other
"DATA",160.16,14,"FIELD",74,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.3,"I")
"DATA",160.16,14,"FIELD",74,2)
BLANK
"DATA",160.16,14,"FIELD",74,3)
L,ZERO^730
"DATA",160.16,14,"FIELD",74,4)
OTHER TREATMENT @FAC (165.5,57.3)
"DATA",160.16,14,"FIELD",75,0)
471^2^472^RX Hosp--DX/Stg Proc
"DATA",160.16,14,"FIELD",75,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.4,"I")
"DATA",160.16,14,"FIELD",75,2)
ZNINE
"DATA",160.16,14,"FIELD",75,3)
L,ZERO^740
"DATA",160.16,14,"FIELD",75,4)
SURG DX/STAGING PROC @FAC (165.5,58.4)
"DATA",160.16,14,"FIELD",77,0)
529^1^529^SEER Summary Stage 1977
"DATA",160.16,14,"FIELD",77,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,14,"FIELD",77,2)
BLANK
"DATA",160.16,14,"FIELD",77,3)
L,BLANK^760
"DATA",160.16,14,"FIELD",77,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,14,"FIELD",78,0)
530^1^530^Reserved 29
"DATA",160.16,14,"FIELD",78,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",78,2)
BLANK
"DATA",160.16,14,"FIELD",78,3)
L,BLANK^765
"DATA",160.16,14,"FIELD",78,4)

"DATA",160.16,14,"FIELD",79,0)
531^3^533^EOD--Tumor Size
"DATA",160.16,14,"FIELD",79,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,29,"I")
"DATA",160.16,14,"FIELD",79,2)
BLANK
"DATA",160.16,14,"FIELD",79,3)
L,ZERO^780
"DATA",160.16,14,"FIELD",79,4)
TUMOR SIZE (165.5,29)
"DATA",160.16,14,"FIELD",80,0)
534^2^535^EOD--Extension
"DATA",160.16,14,"FIELD",80,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30,"I")
"DATA",160.16,14,"FIELD",80,2)
BLANK
"DATA",160.16,14,"FIELD",80,3)
L,ZERO^790
"DATA",160.16,14,"FIELD",80,4)
EXTENSION (165.5,30)
"DATA",160.16,14,"FIELD",81,0)
536^2^537^EOD--Extension Prost Path
"DATA",160.16,14,"FIELD",81,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30.1,"I")
"DATA",160.16,14,"FIELD",81,2)
BLANK
"DATA",160.16,14,"FIELD",81,3)
L,ZERO^800
"DATA",160.16,14,"FIELD",81,4)
PATHOLOGIC EXTENSION (165.5,30.1)
"DATA",160.16,14,"FIELD",82,0)
538^1^538^EOD--Lymph Node Involv
"DATA",160.16,14,"FIELD",82,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,31,"I")
"DATA",160.16,14,"FIELD",82,2)
BLANK
"DATA",160.16,14,"FIELD",82,3)
L,BLANK^810
"DATA",160.16,14,"FIELD",82,4)
LYMPH NODES (165.5,31)
"DATA",160.16,14,"FIELD",83,0)
539^2^540^Regional Nodes Positive
"DATA",160.16,14,"FIELD",83,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,32,"I")
"DATA",160.16,14,"FIELD",83,2)
BLANK
"DATA",160.16,14,"FIELD",83,3)
L,ZERO^820
"DATA",160.16,14,"FIELD",83,4)
REGIONAL LYMPH NODES POSITIVE (165.5,32)
"DATA",160.16,14,"FIELD",84,0)
541^2^542^Regional Nodes Examined
"DATA",160.16,14,"FIELD",84,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,33,"I")
"DATA",160.16,14,"FIELD",84,2)
BLANK
"DATA",160.16,14,"FIELD",84,3)
L,ZERO^830
"DATA",160.16,14,"FIELD",84,4)
REGIONAL LYMPH NODES EXAMINED (165.5,33)
"DATA",160.16,14,"FIELD",85,0)
543^13^555^EOD--Old 13 Digit
"DATA",160.16,14,"FIELD",85,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",85,2)
BLANK
"DATA",160.16,14,"FIELD",85,3)
L,BLANK^840
"DATA",160.16,14,"FIELD",86,0)
556^2^557^EOD--Old 2 Digit
"DATA",160.16,14,"FIELD",86,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",86,2)
BLANK
"DATA",160.16,14,"FIELD",86,3)
L,BLANK^850
"DATA",160.16,14,"FIELD",87,0)
558^4^561^EOD--Old 4 Digit
"DATA",160.16,14,"FIELD",87,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",87,2)
BLANK
"DATA",160.16,14,"FIELD",87,3)
L,BLANK^860
"DATA",160.16,14,"FIELD",88,0)
562^1^562^Coding System for EOD
"DATA",160.16,14,"FIELD",88,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3031231:"",1:4) K DATEDX
"DATA",160.16,14,"FIELD",88,2)
BLANK
"DATA",160.16,14,"FIELD",88,3)
L,BLANK^870
"DATA",160.16,14,"FIELD",88,4)
Blank = DATE DX 2004+; 4 = 10-Digit Extent of Disease, 1988 (1988+)
"DATA",160.16,14,"FIELD",89,0)
563^2^564^TNM Path T
"DATA",160.16,14,"FIELD",89,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,85,"I") S:ACDANS'="" ACDANS=$S(ACDANS="1A1":"A1",ACDANS="1A2":"A2",ACDANS="1B1":"B1",ACDANS="1B2":"B2",1:ACDANS)
"DATA",160.16,14,"FIELD",89,2)
BLANK
"DATA",160.16,14,"FIELD",89,3)
R,BLANK^880
"DATA",160.16,14,"FIELD",89,4)
PATHOLOGIC T (165.5,85)
"DATA",160.16,14,"FIELD",90,0)
565^2^566^TNM Path N
"DATA",160.16,14,"FIELD",90,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,86,"I") S:ACDANS'="" ACDANS=$S(ACDANS="O(I+)":0,ACDANS="O(I-)":0,ACDANS="0(MOL+)":0,ACDANS="0(MOL-)":0,1:ACDANS)
"DATA",160.16,14,"FIELD",90,2)
BLANK
"DATA",160.16,14,"FIELD",90,3)
R,BLANK^890
"DATA",160.16,14,"FIELD",90,4)
PATHOLOGIC N (165.5,86)
"DATA",160.16,14,"FIELD",91,0)
567^2^568^TNM Path M
"DATA",160.16,14,"FIELD",91,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,87,"I")
"DATA",160.16,14,"FIELD",91,2)
BLANK
"DATA",160.16,14,"FIELD",91,3)
R,BLANK^900
"DATA",160.16,14,"FIELD",91,4)
 PATHOLOGIC M (165.5,87)
"DATA",160.16,14,"FIELD",92,0)
569^2^570^TNM Path Stage Group
"DATA",160.16,14,"FIELD",92,1)
S ACDANS=$$SG~ONCACDU1(IEN,"P")
"DATA",160.16,14,"FIELD",92,2)
BLANK
"DATA",160.16,14,"FIELD",92,3)
R,BLANK^910
"DATA",160.16,14,"FIELD",92,4)
PATHOLOGIC STAGE GROUP (165.5,88)
"DATA",160.16,14,"FIELD",93,0)
571^1^571^TNM Path Descriptor
"DATA",160.16,14,"FIELD",93,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"P")
"DATA",160.16,14,"FIELD",93,2)
ZERO
"DATA",160.16,14,"FIELD",93,3)
L,ZERO^920
"DATA",160.16,14,"FIELD",93,4)
PATHOLOGIC TNM (165.5,89.1)
"DATA",160.16,14,"FIELD",94,0)
572^1^572^TNM Path Staged By
"DATA",160.16,14,"FIELD",94,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,89,"I")
"DATA",160.16,14,"FIELD",94,2)
NINE
"DATA",160.16,14,"FIELD",94,3)
L,BLANK^930
"DATA",160.16,14,"FIELD",94,4)
STAGED BY (PATHOLOGIC STAGE) (165.5,89)
"DATA",160.16,14,"FIELD",95,0)
573^2^574^TNM Clin T
"DATA",160.16,14,"FIELD",95,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.1,"I") S:ACDANS'="" ACDANS=$S(ACDANS="1A1":"A1",ACDANS="1A2":"A2",ACDANS="1B1":"B1",ACDANS="1B2":"B2",1:ACDANS)
"DATA",160.16,14,"FIELD",95,2)
BLANK
"DATA",160.16,14,"FIELD",95,3)
R,BLANK^940
"DATA",160.16,14,"FIELD",95,4)
CLINICAL T (165.5,37.1)
"DATA",160.16,14,"FIELD",96,0)
575^2^576^TNM Clin N
"DATA",160.16,14,"FIELD",96,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.2,"I")
"DATA",160.16,14,"FIELD",96,2)
BLANK
"DATA",160.16,14,"FIELD",96,3)
R,BLANK^950
"DATA",160.16,14,"FIELD",96,4)
CLINCIAL N (165.5,37.2)
"DATA",160.16,14,"FIELD",97,0)
577^2^578^TNM Clin M
"DATA",160.16,14,"FIELD",97,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.3,"I")
"DATA",160.16,14,"FIELD",97,2)
BLANK
"DATA",160.16,14,"FIELD",97,3)
R,BLANK^960
"DATA",160.16,14,"FIELD",97,4)
CLINCIAL M (165.5,37.3)
"DATA",160.16,14,"FIELD",98,0)
579^2^580^TNM Clin Stage Group
"DATA",160.16,14,"FIELD",98,1)
S ACDANS=$$SG~ONCACDU1(IEN,"C")
"DATA",160.16,14,"FIELD",98,2)
BLANK
"DATA",160.16,14,"FIELD",98,3)
R,BLANK^970
"DATA",160.16,14,"FIELD",98,4)
CLINICAL STAGE GROUP (165.5,38)
"DATA",160.16,14,"FIELD",99,0)
581^1^581^TNM Clin Descriptor
"DATA",160.16,14,"FIELD",99,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"C")
"DATA",160.16,14,"FIELD",99,2)
ZERO
"DATA",160.16,14,"FIELD",99,3)
L,ZERO^980
"DATA",160.16,14,"FIELD",99,4)
CLINICAL TNM (165.5,37)
"DATA",160.16,14,"FIELD",100,0)
582^1^582^TNM Clin Staged By
"DATA",160.16,14,"FIELD",100,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,19,"I")
"DATA",160.16,14,"FIELD",100,2)
NINE
"DATA",160.16,14,"FIELD",100,3)
L,BLANK^990
"DATA",160.16,14,"FIELD",100,4)
STAGED BY (CLINICAL STAGE) (165.5,19)
"DATA",160.16,14,"FIELD",101,0)
583^10^592^Reserved 30
"DATA",160.16,14,"FIELD",101,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",101,2)
BLANK
"DATA",160.16,14,"FIELD",101,3)
L,BLANK^995
"DATA",160.16,14,"FIELD",101,4)

"DATA",160.16,14,"FIELD",107,0)
593^2^594^TNM Edition Number
"DATA",160.16,14,"FIELD",107,1)
S ACDANS=$$TNMED~ONCOU55(IEN)
"DATA",160.16,14,"FIELD",107,2)
BLANK
"DATA",160.16,14,"FIELD",107,3)
L,ZERO^1060
"DATA",160.16,14,"FIELD",107,4)
DATE DX (165.5,3)
"DATA",160.16,14,"FIELD",108,0)
595^15^609^Reserved 31
"DATA",160.16,14,"FIELD",108,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",108,2)
BLANK
"DATA",160.16,14,"FIELD",108,3)
L,BLANK^1065
"DATA",160.16,14,"FIELD",108,4)

"DATA",160.16,14,"FIELD",109,0)
610^8^617^Date of 1st Positive BX
"DATA",160.16,14,"FIELD",109,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,137,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",109,2)
BLANK
"DATA",160.16,14,"FIELD",109,3)
L,BLANK^1080
"DATA",160.16,14,"FIELD",109,4)
DATE OF 1ST POSITIVE BIOPSY (165.5,137)
"DATA",160.16,14,"FIELD",110,0)
618^1^618^Site of Distant Met 1
"DATA",160.16,14,"FIELD",110,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34,"I")
"DATA",160.16,14,"FIELD",110,2)
BLANK
"DATA",160.16,14,"FIELD",110,3)
L,BLANK^1090
"DATA",160.16,14,"FIELD",110,4)
SITE OF DISTANT METASTASIS #1 (165.5,34)
"DATA",160.16,14,"FIELD",111,0)
619^1^619^Site of Distant Met 2
"DATA",160.16,14,"FIELD",111,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.1,"I")
"DATA",160.16,14,"FIELD",111,2)
BLANK
"DATA",160.16,14,"FIELD",111,3)
L,BLANK^1100
"DATA",160.16,14,"FIELD",111,4)
SITE OF DISTANT METASTASIS #2 (165.5,34.1)
"DATA",160.16,14,"FIELD",112,0)
620^1^620^Site of Distant Met 3
"DATA",160.16,14,"FIELD",112,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.2,"I")
"DATA",160.16,14,"FIELD",112,2)
BLANK
"DATA",160.16,14,"FIELD",112,3)
L,BLANK^1110
"DATA",160.16,14,"FIELD",112,4)
SITE OF DISTANT METASTASIS #3 (165.5,34.2)
"DATA",160.16,14,"FIELD",113,0)
621^2^622^Pediatric Stage
"DATA",160.16,14,"FIELD",113,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,850,"I")
"DATA",160.16,14,"FIELD",113,2)
BLANK
"DATA",160.16,14,"FIELD",113,3)
L,BLANK^1120
"DATA",160.16,14,"FIELD",113,4)
PEDIATRIC STAGE (165.5,850)
"DATA",160.16,14,"FIELD",114,0)
623^2^624^Pediatric Staging System
"DATA",160.16,14,"FIELD",114,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,849,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.6,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",114,2)
BLANK
"DATA",160.16,14,"FIELD",114,3)
L,BLANK^1130
"DATA",160.16,14,"FIELD",114,4)
TYPE OF STAGING SYSTEM (PED) (165.5,849)
"DATA",160.16,14,"FIELD",115,0)
625^1^625^Pediatric Staged By
"DATA",160.16,14,"FIELD",115,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,851,"I")
"DATA",160.16,14,"FIELD",115,2)
BLANK
"DATA",160.16,14,"FIELD",115,3)
L,BLANK^1140
"DATA",160.16,14,"FIELD",115,4)
STAGED BY (PEDIATRIC STAGE) (165.5,851)
"DATA",160.16,14,"FIELD",116,0)
626^1^626^Tumor Marker 1
"DATA",160.16,14,"FIELD",116,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",116,2)
BLANK
"DATA",160.16,14,"FIELD",116,3)
L,BLANK^1150
"DATA",160.16,14,"FIELD",116,4)
TUMOR MARKER 1 (165.5,25.1)
"DATA",160.16,14,"FIELD",117,0)
627^1^627^Tumor Marker 2
"DATA",160.16,14,"FIELD",117,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",117,2)
BLANK
"DATA",160.16,14,"FIELD",117,3)
L,BLANK^1160
"DATA",160.16,14,"FIELD",117,4)
TUMOR MARKER 2 (165.5,25.2)
"DATA",160.16,14,"FIELD",118,0)
628^1^628^Tumor Marker 3
"DATA",160.16,14,"FIELD",118,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",118,2)
BLANK
"DATA",160.16,14,"FIELD",118,3)
L,BLANK^1170
"DATA",160.16,14,"FIELD",118,4)
TUMOR MARKER 3 (165.5,25.3)
"DATA",160.16,14,"FIELD",119,0)
717^5^721^Comorbid/Complication 7
"DATA",160.16,14,"FIELD",119,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.6,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",119,2)
BLANK
"DATA",160.16,14,"FIELD",119,3)
R,ZERO^3161
"DATA",160.16,14,"FIELD",119,4)
COMORBIDITY/COMPLICATION #7 (160,25.6)
"DATA",160.16,14,"FIELD",121,0)
755^8^762^RX Date--Surgery
"DATA",160.16,14,"FIELD",121,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"))
"DATA",160.16,14,"FIELD",121,2)
BLANK
"DATA",160.16,14,"FIELD",121,3)
L,BLANK^1200
"DATA",160.16,14,"FIELD",121,4)
DATE FIRST SURGICAL PROCEDURE (165.5,170)
"DATA",160.16,14,"FIELD",122,0)
779^8^786^RX Date--Radiation
"DATA",160.16,14,"FIELD",122,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"))
"DATA",160.16,14,"FIELD",122,2)
BLANK
"DATA",160.16,14,"FIELD",122,3)
L,BLANK^1210
"DATA",160.16,14,"FIELD",122,4)
DATE RADIATION STARTED (165.5,51)
"DATA",160.16,14,"FIELD",123,0)
803^8^810^RX Date--Chemo
"DATA",160.16,14,"FIELD",123,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"))
"DATA",160.16,14,"FIELD",123,2)
BLANK
"DATA",160.16,14,"FIELD",123,3)
L,BLANK^1220
"DATA",160.16,14,"FIELD",123,4)
CHEMOTHERAPY DATE (165.5,53)
"DATA",160.16,14,"FIELD",124,0)
811^8^818^RX Date--Hormone
"DATA",160.16,14,"FIELD",124,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"))
"DATA",160.16,14,"FIELD",124,2)
BLANK
"DATA",160.16,14,"FIELD",124,3)
L,BLANK^1230
"DATA",160.16,14,"FIELD",124,4)
HORMONE THERAPY DATE (165.5,54)
"DATA",160.16,14,"FIELD",125,0)
819^8^826^RX Date--BRM
"DATA",160.16,14,"FIELD",125,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"))
"DATA",160.16,14,"FIELD",125,2)
BLANK
"DATA",160.16,14,"FIELD",125,3)
L,BLANK^1240
"DATA",160.16,14,"FIELD",125,4)
IMMUNOTHERAPY DATE (165.5,55)
"DATA",160.16,14,"FIELD",126,0)
827^8^834^RX Date--Other
"DATA",160.16,14,"FIELD",126,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"))
"DATA",160.16,14,"FIELD",126,2)
BLANK
"DATA",160.16,14,"FIELD",126,3)
L,BLANK^1250
"DATA",160.16,14,"FIELD",126,4)
OTHER TREATMENT START DATE (165.5,57)
"DATA",160.16,14,"FIELD",127,0)
835^8^842^Date of Initial RX--SEER
"DATA",160.16,14,"FIELD",127,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",127,2)
ZERO
"DATA",160.16,14,"FIELD",127,3)
L,ZERO^1260
"DATA",160.16,14,"FIELD",127,4)

"DATA",160.16,14,"FIELD",128,0)
843^8^850^Date of 1st Crs RX--COC
"DATA",160.16,14,"FIELD",128,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,49,"E") S:ACDANS'="" ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,14,"FIELD",128,2)
BLANK
"DATA",160.16,14,"FIELD",128,3)
L,ZERO^1270
"DATA",160.16,14,"FIELD",128,4)
FIRST COURSE OF TREATMENT DATE (165.5,49)
"DATA",160.16,14,"FIELD",129,0)
851^8^858^RX Date--DX/Stg Proc
"DATA",160.16,14,"FIELD",129,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.3,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",129,2)
BLANK
"DATA",160.16,14,"FIELD",129,3)
L,ZERO^1280
"DATA",160.16,14,"FIELD",129,4)
SURGICAL DX/STAGING PROC DATE (165.5,58.3)
"DATA",160.16,14,"FIELD",130,0)
859^2^860^RX Summ--Surg Prim Site
"DATA",160.16,14,"FIELD",130,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.6,"SPS")
"DATA",160.16,14,"FIELD",130,2)
NINE
"DATA",160.16,14,"FIELD",130,3)
L,ZERO^1290
"DATA",160.16,14,"FIELD",130,4)
SURGERY OF PRIMARY (F) (165.5,58.6)
"DATA",160.16,14,"FIELD",132,0)
865^1^865^RX Summ--Surgical Approch
"DATA",160.16,14,"FIELD",132,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,74,"SUA"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,14,"FIELD",132,2)
NINE
"DATA",160.16,14,"FIELD",132,3)
L,BLANK^1310
"DATA",160.16,14,"FIELD",132,4)
SURGICAL APPROACH (R) (165.5,74)
"DATA",160.16,14,"FIELD",133,0)
866^1^866^RX Summ--Surgical Margins
"DATA",160.16,14,"FIELD",133,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,59,"I")
"DATA",160.16,14,"FIELD",133,2)
BLANK
"DATA",160.16,14,"FIELD",133,3)
L,BLANK^1320
"DATA",160.16,14,"FIELD",133,4)
SURGICAL MARGINS (165.5,59)
"DATA",160.16,14,"FIELD",134,0)
867^1^867^RX Summ--Reconstruct 1st
"DATA",160.16,14,"FIELD",134,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,23,"RR5"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,14,"FIELD",134,2)
BLANK
"DATA",160.16,14,"FIELD",134,3)
L,BLANK^1330
"DATA",160.16,14,"FIELD",134,4)
RECONSTRUCTION/RESTORATION (165.5,23)
"DATA",160.16,14,"FIELD",135,0)
868^1^868^Reason for No Surgery
"DATA",160.16,14,"FIELD",135,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58,"I")
"DATA",160.16,14,"FIELD",135,2)
BLANK
"DATA",160.16,14,"FIELD",135,3)
L,BLANK^1340
"DATA",160.16,14,"FIELD",135,4)
REASON FOR NO SURGERY (165.5,58)
"DATA",160.16,14,"FIELD",136,0)
869^2^870^RX Summ-DX/Stg Proc
"DATA",160.16,14,"FIELD",136,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.1,"I")
"DATA",160.16,14,"FIELD",136,2)
ZNINE
"DATA",160.16,14,"FIELD",136,3)
L,ZERO^1350
"DATA",160.16,14,"FIELD",136,4)
SURGICAL DX/STAGING PROC (165.5,58.1)
"DATA",160.16,14,"FIELD",137,0)
873^1^873^RX Summ--Radiation
"DATA",160.16,14,"FIELD",137,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.2,"I")
"DATA",160.16,14,"FIELD",137,2)
BLANK
"DATA",160.16,14,"FIELD",137,3)
L,ZERO^1360
"DATA",160.16,14,"FIELD",137,4)
RADIATION (165.5,51.2)
"DATA",160.16,14,"FIELD",138,0)
874^1^874^RX Summ--Rad to CNS
"DATA",160.16,14,"FIELD",138,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,52.2,"I")
"DATA",160.16,14,"FIELD",138,2)
BLANK
"DATA",160.16,14,"FIELD",138,3)
L,ZERO^1370
"DATA",160.16,14,"FIELD",138,4)
RADIATION THERAPY TO CNS (165.5,52.2)
"DATA",160.16,14,"FIELD",139,0)
875^1^875^RX Summ--Surg/Rad Seq
"DATA",160.16,14,"FIELD",139,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.3,"I")
"DATA",160.16,14,"FIELD",139,2)
BLANK
"DATA",160.16,14,"FIELD",139,3)
L,ZERO^1380
"DATA",160.16,14,"FIELD",139,4)
RADIATION/SURGERY SEQUENCE (165.5,51.3)
"DATA",160.16,14,"FIELD",140,0)
878^2^879^RX Summ--Chemo
"DATA",160.16,14,"FIELD",140,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.2,"I")
"DATA",160.16,14,"FIELD",140,2)
NINE
"DATA",160.16,14,"FIELD",140,3)
L,BLANK^1390
"DATA",160.16,14,"FIELD",140,4)
CHEMOTHERAPY (165.5,53.2)
"DATA",160.16,14,"FIELD",141,0)
880^2^881^RX Summ--Hormone
"DATA",160.16,14,"FIELD",141,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.2,"I")
"DATA",160.16,14,"FIELD",141,2)
NINE
"DATA",160.16,14,"FIELD",141,3)
L,BLANK^1400
"DATA",160.16,14,"FIELD",141,4)
HORMONE THERAPY (165.5,54.2)
"DATA",160.16,14,"FIELD",142,0)
882^2^883^RX Summ--BRM
"DATA",160.16,14,"FIELD",142,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.2,"I")
"DATA",160.16,14,"FIELD",142,2)
NINE
"DATA",160.16,14,"FIELD",142,3)
L,BLANK^1410
"DATA",160.16,14,"FIELD",142,4)
IMMUNOTHERAPY (165.5,55.2)
"DATA",160.16,14,"FIELD",143,0)
884^1^884^RX Summ--Other
"DATA",160.16,14,"FIELD",143,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.2,"I")
"DATA",160.16,14,"FIELD",143,2)
BLANK
"DATA",160.16,14,"FIELD",143,3)
L,ZERO^1420
"DATA",160.16,14,"FIELD",143,4)
OTHER TREATMENT (165.5,57.2)
"DATA",160.16,14,"FIELD",144,0)
885^1^885^Reason for No Radiation
"DATA",160.16,14,"FIELD",144,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,75,"I")
"DATA",160.16,14,"FIELD",144,2)
NINE
"DATA",160.16,14,"FIELD",144,3)
L,BLANK^1430
"DATA",160.16,14,"FIELD",144,4)
REASON FOR NO RADIATION (165.5,75)
"DATA",160.16,14,"FIELD",145,0)
886^2^887^Reserved 32
"DATA",160.16,14,"FIELD",145,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",145,2)
BLANK
"DATA",160.16,14,"FIELD",145,3)
L,BLANK^1435
"DATA",160.16,14,"FIELD",145,4)

"DATA",160.16,14,"FIELD",147,0)
888^2^889^RX Coding System--Current
"DATA",160.16,14,"FIELD",147,1)
S ACDANS="06"
"DATA",160.16,14,"FIELD",147,2)
BLANK
"DATA",160.16,14,"FIELD",147,3)
L,ZERO^1460
"DATA",160.16,14,"FIELD",147,4)
06 Treatment data coded according to FORDS manual
"DATA",160.16,14,"FIELD",151,0)
894^1^894^First Course Calc Method
"DATA",160.16,14,"FIELD",151,1)
S ACDANS=1
"DATA",160.16,14,"FIELD",151,2)
BLANK
"DATA",160.16,14,"FIELD",151,3)
L,BLANK^1500
"DATA",160.16,14,"FIELD",151,4)
1 COC definitions
"DATA",160.16,14,"FIELD",152,0)
895^5^899^Rad--Regional Dose:cGy
"DATA",160.16,14,"FIELD",152,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,442,"I")
"DATA",160.16,14,"FIELD",152,2)
NINE
"DATA",160.16,14,"FIELD",152,3)
L,ZERO^1510
"DATA",160.16,14,"FIELD",152,4)
REGIONAL DOSE: cGy (165.5,442)
"DATA",160.16,14,"FIELD",153,0)
900^2^901^Rad--No of Treatment Vol
"DATA",160.16,14,"FIELD",153,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,56,"I")
"DATA",160.16,14,"FIELD",153,2)
NINE
"DATA",160.16,14,"FIELD",153,3)
L,ZERO^1520
"DATA",160.16,14,"FIELD",153,4)
NUMBER OF TXS TO THIS VOLUME (165.5,56)
"DATA",160.16,14,"FIELD",154,0)
902^3^904^Reserved 34
"DATA",160.16,14,"FIELD",154,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",154,2)
BLANK
"DATA",160.16,14,"FIELD",154,3)
L,BLANK^1535
"DATA",160.16,14,"FIELD",155,0)
905^2^906^Rad--Treatment Volume
"DATA",160.16,14,"FIELD",155,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,125,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.7,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",155,2)
NINE
"DATA",160.16,14,"FIELD",155,3)
L,ZERO^1540
"DATA",160.16,14,"FIELD",155,4)
RADIATION TREATMENT VOLUME (165.5,125)
"DATA",160.16,14,"FIELD",156,0)
907^1^907^Rad--Location of RX
"DATA",160.16,14,"FIELD",156,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,126,"I")
"DATA",160.16,14,"FIELD",156,2)
NINE
"DATA",160.16,14,"FIELD",156,3)
L,BLANK^1550
"DATA",160.16,14,"FIELD",156,4)
LOCATION OF RADIATION TX (165.5,126)
"DATA",160.16,14,"FIELD",157,0)
908^1^908^Reserved 35
"DATA",160.16,14,"FIELD",157,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",157,2)
BLANK
"DATA",160.16,14,"FIELD",157,3)
L,BLANK^1555
"DATA",160.16,14,"FIELD",157,4)

"DATA",160.16,14,"FIELD",158,0)
909^2^910^Rad--Regional RX Modality
"DATA",160.16,14,"FIELD",158,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",158,2)
BLANK
"DATA",160.16,14,"FIELD",158,3)
L,ZERO^1570
"DATA",160.16,14,"FIELD",158,4)
REGIONAL TREATMENT MODALITY (165.5,363)
"DATA",160.16,14,"FIELD",159,0)
918^13^930^Reserved 23
"DATA",160.16,14,"FIELD",159,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",159,2)
BLANK
"DATA",160.16,14,"FIELD",159,3)
L,BLANK^1635
"DATA",160.16,14,"FIELD",159,4)

"DATA",160.16,14,"FIELD",164,0)
931^1^931^RX Summ--Systemic Sur Seq
"DATA",160.16,14,"FIELD",164,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,15,"I")
"DATA",160.16,14,"FIELD",164,2)
BLANK
"DATA",160.16,14,"FIELD",164,3)
L,BLANK^1639
"DATA",160.16,14,"FIELD",164,4)
SYSTEMIC/SURGERY SEQUENCE (165.5,15)
"DATA",160.16,14,"FIELD",165,0)
932^2^933^RX Summ--Surgery Type
"DATA",160.16,14,"FIELD",165,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",165,2)
BLANK
"DATA",160.16,14,"FIELD",165,3)
L,BLANK^1640
"DATA",160.16,14,"FIELD",166,0)
943^45^987^Reserved 06
"DATA",160.16,14,"FIELD",166,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",166,2)
BLANK
"DATA",160.16,14,"FIELD",166,3)
L,BLANK^1190
"DATA",160.16,14,"FIELD",167,0)
988^8^995^Subsq RX 2nd Course Date
"DATA",160.16,14,"FIELD",167,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",167,2)
ZERO
"DATA",160.16,14,"FIELD",167,3)
L,BLANK^1660
"DATA",160.16,14,"FIELD",167,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,14,"FIELD",168,0)
996^2^997^Subsq RX 2nd Course Surg
"DATA",160.16,14,"FIELD",168,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.04)
"DATA",160.16,14,"FIELD",168,2)
BLANK
"DATA",160.16,14,"FIELD",168,3)
L,ZERO^1671
"DATA",160.16,14,"FIELD",168,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,14,"FIELD",169,0)
998^1^998^Subsq RX 2nd Course Rad
"DATA",160.16,14,"FIELD",169,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.05)
"DATA",160.16,14,"FIELD",169,2)
BLANK
"DATA",160.16,14,"FIELD",169,3)
L,BLANK^1672
"DATA",160.16,14,"FIELD",169,4)
RADIATION (165.51,.05)
"DATA",160.16,14,"FIELD",170,0)
999^1^999^Subsq RX 2nd Course Chemo
"DATA",160.16,14,"FIELD",170,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.06)
"DATA",160.16,14,"FIELD",170,2)
BLANK
"DATA",160.16,14,"FIELD",170,3)
L,BLANK^1673
"DATA",160.16,14,"FIELD",170,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,14,"FIELD",171,0)
1000^1^1000^Subsq RX 2nd Course Horm
"DATA",160.16,14,"FIELD",171,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.07)
"DATA",160.16,14,"FIELD",171,2)
BLANK
"DATA",160.16,14,"FIELD",171,3)
L,BLANK^1674
"DATA",160.16,14,"FIELD",171,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,14,"FIELD",172,0)
1001^1^1001^Subsq RX 2nd Course BRM
"DATA",160.16,14,"FIELD",172,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.08)
"DATA",160.16,14,"FIELD",172,2)
BLANK
"DATA",160.16,14,"FIELD",172,3)
L,BLANK^1675
"DATA",160.16,14,"FIELD",172,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,14,"FIELD",173,0)
1002^1^1002^Subsq RX 2nd Course Oth
"DATA",160.16,14,"FIELD",173,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.09)
"DATA",160.16,14,"FIELD",173,2)
BLANK
"DATA",160.16,14,"FIELD",173,3)
L,BLANK^1676
"DATA",160.16,14,"FIELD",173,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,14,"FIELD",174,0)
1003^8^1010^Subsq RX 3rd Course Date
"DATA",160.16,14,"FIELD",174,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",174,2)
ZERO
"DATA",160.16,14,"FIELD",174,3)
L,BLANK^1680
"DATA",160.16,14,"FIELD",174,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,14,"FIELD",175,0)
1011^2^1012^Subsq RX 3rd Course Surg
"DATA",160.16,14,"FIELD",175,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.04)
"DATA",160.16,14,"FIELD",175,2)
BLANK
"DATA",160.16,14,"FIELD",175,3)
L,ZERO^1691
"DATA",160.16,14,"FIELD",175,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,14,"FIELD",176,0)
1013^1^1013^Subsq RX 3rd Course Rad
"DATA",160.16,14,"FIELD",176,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.05)
"DATA",160.16,14,"FIELD",176,2)
BLANK
"DATA",160.16,14,"FIELD",176,3)
L,BLANK^1692
"DATA",160.16,14,"FIELD",176,4)
RADIATION (165.51,.05)
"DATA",160.16,14,"FIELD",177,0)
1014^1^1014^Subsq RX 3rd Course Chemo
"DATA",160.16,14,"FIELD",177,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.06)
"DATA",160.16,14,"FIELD",177,2)
BLANK
"DATA",160.16,14,"FIELD",177,3)
L,BLANK^1693
"DATA",160.16,14,"FIELD",177,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,14,"FIELD",178,0)
1015^1^1015^Subsq RX 3rd Course Horm
"DATA",160.16,14,"FIELD",178,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.07)
"DATA",160.16,14,"FIELD",178,2)
BLANK
"DATA",160.16,14,"FIELD",178,3)
L,BLANK^1694
"DATA",160.16,14,"FIELD",178,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,14,"FIELD",179,0)
1016^1^1016^Subsq RX 3rd Course BRM
"DATA",160.16,14,"FIELD",179,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.08)
"DATA",160.16,14,"FIELD",179,2)
BLANK
"DATA",160.16,14,"FIELD",179,3)
L,BLANK^1695
"DATA",160.16,14,"FIELD",179,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,14,"FIELD",180,0)
1017^1^1017^Subsq RX 3rd Course Oth
"DATA",160.16,14,"FIELD",180,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.09)
"DATA",160.16,14,"FIELD",180,2)
BLANK
"DATA",160.16,14,"FIELD",180,3)
L,BLANK^1696
"DATA",160.16,14,"FIELD",180,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,14,"FIELD",181,0)
1018^8^1025^Subsq RX 4th Course Date
"DATA",160.16,14,"FIELD",181,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",181,2)
ZERO
"DATA",160.16,14,"FIELD",181,3)
L,BLANK^1700
"DATA",160.16,14,"FIELD",181,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,14,"FIELD",182,0)
1026^2^1027^Subsq RX 4th Course Surg
"DATA",160.16,14,"FIELD",182,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.04)
"DATA",160.16,14,"FIELD",182,2)
BLANK
"DATA",160.16,14,"FIELD",182,3)
L,ZERO^1711
"DATA",160.16,14,"FIELD",182,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,14,"FIELD",183,0)
1028^1^1028^Subsq RX 4th Course Rad
"DATA",160.16,14,"FIELD",183,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.05)
"DATA",160.16,14,"FIELD",183,2)
BLANK
"DATA",160.16,14,"FIELD",183,3)
L,BLANK^1712
"DATA",160.16,14,"FIELD",183,4)
RADIATION (165.51,.05)
"DATA",160.16,14,"FIELD",184,0)
1029^1^1029^Subsq RX 4th Course Chemo
"DATA",160.16,14,"FIELD",184,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.06)
"DATA",160.16,14,"FIELD",184,2)
BLANK
"DATA",160.16,14,"FIELD",184,3)
L,BLANK^1713
"DATA",160.16,14,"FIELD",184,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,14,"FIELD",185,0)
1030^1^1030^Subsq RX 4th Course Horm
"DATA",160.16,14,"FIELD",185,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.07)
"DATA",160.16,14,"FIELD",185,2)
BLANK
"DATA",160.16,14,"FIELD",185,3)
L,BLANK^1714
"DATA",160.16,14,"FIELD",185,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,14,"FIELD",186,0)
1031^1^1031^Subsq RX 4th Course BRM
"DATA",160.16,14,"FIELD",186,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.08)
"DATA",160.16,14,"FIELD",186,2)
BLANK
"DATA",160.16,14,"FIELD",186,3)
L,BLANK^1715
"DATA",160.16,14,"FIELD",186,4)
IMMUNOTHERAPY (165.5,.08)
"DATA",160.16,14,"FIELD",187,0)
1032^1^1032^Subsq RX 4th Course Oth
"DATA",160.16,14,"FIELD",187,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.09)
"DATA",160.16,14,"FIELD",187,2)
BLANK
"DATA",160.16,14,"FIELD",187,3)
L,BLANK^1716
"DATA",160.16,14,"FIELD",187,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,14,"FIELD",188,0)
1033^15^1047^Reserved 37
"DATA",160.16,14,"FIELD",188,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",188,2)
BLANK
"DATA",160.16,14,"FIELD",188,3)
L,BLANK^1725
"DATA",160.16,14,"FIELD",188,4)

"DATA",160.16,14,"FIELD",195,0)
1065^50^1114^Reserved 07
"DATA",160.16,14,"FIELD",195,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",195,2)
BLANK
"DATA",160.16,14,"FIELD",195,3)
L,BLANK^1300
"DATA",160.16,14,"FIELD",196,0)
1294^8^1301^Date of Last Contact
"DATA",160.16,14,"FIELD",196,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",196,2)
BLANK
"DATA",160.16,14,"FIELD",196,3)
L,ZERO^1750
"DATA",160.16,14,"FIELD",196,4)
DATE OF LAST CONTACT OR DEATH (160.04,.01)
"DATA",160.16,14,"FIELD",197,0)
1302^1^1302^Vital Status
"DATA",160.16,14,"FIELD",197,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,1),VS=ACDANS
"DATA",160.16,14,"FIELD",197,2)
BLANK
"DATA",160.16,14,"FIELD",197,3)
L,BLANK^1760
"DATA",160.16,14,"FIELD",197,4)
VITAL STATUS (160.04,1)
"DATA",160.16,14,"FIELD",198,0)
1303^1^1303^Cancer Status
"DATA",160.16,14,"FIELD",198,1)
S ACDANS=$$CS~ONCACDU2(IEN)
"DATA",160.16,14,"FIELD",198,2)
BLANK
"DATA",160.16,14,"FIELD",198,3)
L,BLANK^1770
"DATA",160.16,14,"FIELD",198,4)
CANCER STATUS (165.573,.02)
"DATA",160.16,14,"FIELD",199,0)
1304^1^1304^Quality of Survival
"DATA",160.16,14,"FIELD",199,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,4)
"DATA",160.16,14,"FIELD",199,2)
BLANK
"DATA",160.16,14,"FIELD",199,3)
L,BLANK^1780
"DATA",160.16,14,"FIELD",199,4)
QUALITY OF SURVIVAL (160.04,4)
"DATA",160.16,14,"FIELD",200,0)
1305^1^1305^Follow-Up Source
"DATA",160.16,14,"FIELD",200,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,3)
"DATA",160.16,14,"FIELD",200,2)
BLANK
"DATA",160.16,14,"FIELD",200,3)
L,BLANK^1790
"DATA",160.16,14,"FIELD",200,4)
FOLLOW-UP SOURCE (160.04,3)
"DATA",160.16,14,"FIELD",201,0)
1306^1^1306^Next Follow-up Source
"DATA",160.16,14,"FIELD",201,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,6)
"DATA",160.16,14,"FIELD",201,2)
BLANK
"DATA",160.16,14,"FIELD",201,3)
L,BLANK^1800
"DATA",160.16,14,"FIELD",201,4)
NEXT FOLLOW-UP SOURCE (160.04,6)
"DATA",160.16,14,"FIELD",202,0)
1307^20^1326^Addr Current--City
"DATA",160.16,14,"FIELD",202,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160)
"DATA",160.16,14,"FIELD",202,2)
BLANK
"DATA",160.16,14,"FIELD",202,3)
R,BLANK^1810
"DATA",160.16,14,"FIELD",202,4)
CITY (2,.114)
"DATA",160.16,14,"FIELD",203,0)
1327^2^1328^Addr Current--State
"DATA",160.16,14,"FIELD",203,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160)
"DATA",160.16,14,"FIELD",203,2)
BLANK
"DATA",160.16,14,"FIELD",203,3)
R,BLANK^1820
"DATA",160.16,14,"FIELD",203,4)
STATE (2,.115)
"DATA",160.16,14,"FIELD",204,0)
1329^9^1337^Addr Current--Postal Code
"DATA",160.16,14,"FIELD",204,1)
S ACDANS=$$ZIP~ONCACDU1(ACD160) S:ACDANS=75999 ACDANS=999999999
"DATA",160.16,14,"FIELD",204,2)
BLANK
"DATA",160.16,14,"FIELD",204,3)
R,BLANK^1830
"DATA",160.16,14,"FIELD",204,4)
ZIP CODE (2,.116)
"DATA",160.16,14,"FIELD",206,0)
1341^1^1341^Unusual Follow-Up Method
"DATA",160.16,14,"FIELD",206,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,7)
"DATA",160.16,14,"FIELD",206,2)
BLANK
"DATA",160.16,14,"FIELD",206,3)
L,BLANK^1850
"DATA",160.16,14,"FIELD",206,4)
UNUSUAL FOLLOW-UP METHOD (160.04,7)
"DATA",160.16,14,"FIELD",207,0)
1342^8^1349^Recurrence Date--1st
"DATA",160.16,14,"FIELD",207,1)
S RT=$$GET1~DIQ(165.5,IEN,71,"I") S:RT'="" RT=$$GET1~DIQ(160.12,RT,.01,"I") S ACDANS=$$GET1~DIQ(165.5,IEN,70,"I") S ACDANS=$S(ACDANS'="":$$DATE~ONCACDU1(ACDANS),(RT="00")!(RT=70):"00000000",1:"") K RT
"DATA",160.16,14,"FIELD",207,2)
NINE
"DATA",160.16,14,"FIELD",207,3)
L,NINE^1860
"DATA",160.16,14,"FIELD",207,4)
DATE OF FIRST RECURRENCE (165.5,70)
"DATA",160.16,14,"FIELD",208,0)
1350^1^1350^Recurrence Distant Site 1
"DATA",160.16,14,"FIELD",208,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.1,"I")
"DATA",160.16,14,"FIELD",208,2)
BLANK
"DATA",160.16,14,"FIELD",208,3)
L,BLANK^1871
"DATA",160.16,14,"FIELD",208,4)
DISTANT SITE 1 (165.5,71.1)
"DATA",160.16,14,"FIELD",209,0)
1353^2^1354^Recurrence Type--1st
"DATA",160.16,14,"FIELD",209,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.12,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",209,2)
NINE
"DATA",160.16,14,"FIELD",209,3)
L,ZERO^1880
"DATA",160.16,14,"FIELD",209,4)
TYPE OF FIRST RECURRENCE (165.5,71)
"DATA",160.16,14,"FIELD",210,0)
1355^2^1356^Reserved 39
"DATA",160.16,14,"FIELD",210,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",210,2)
BLANK
"DATA",160.16,14,"FIELD",210,3)
L,BLANK^1895
"DATA",160.16,14,"FIELD",210,4)

"DATA",160.16,14,"FIELD",211,0)
1338^3^1340^County--Current
"DATA",160.16,14,"FIELD",211,1)
S ACDANS=$$CCOUNTY~ONCACDU2(ACD160)
"DATA",160.16,14,"FIELD",211,2)
BLANK
"DATA",160.16,14,"FIELD",211,3)
L,BLANK^1840
"DATA",160.16,14,"FIELD",213,0)
1388^4^1391^Cause of Death
"DATA",160.16,14,"FIELD",213,1)
S ACDANS=$$GET1~DIQ(160,ACD160,19,"I") S:ACDANS'="" ACDANS=$$ICD~ONCACDU2(ACDANS) S:ACDANS="" ACDANS=$$GET1~DIQ(160,ACD160,19.1,"I") I ACDANS="",VS=1 S ACDANS="0000"
"DATA",160.16,14,"FIELD",213,2)
BLANK
"DATA",160.16,14,"FIELD",213,3)
L,ZERO^1910
"DATA",160.16,14,"FIELD",213,4)
CAUSE OF DEATH (160,19)
"DATA",160.16,14,"FIELD",214,0)
1392^1^1392^ICD Revision Number
"DATA",160.16,14,"FIELD",214,1)
S ACDANS=$$ICDR~ONCACDU2($$GET1~DIQ(160,ACD160,19,"I")) I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,14,"FIELD",214,2)
BLANK
"DATA",160.16,14,"FIELD",214,3)
L,ZERO^1920
"DATA",160.16,14,"FIELD",214,4)
CAUSE OF DEATH (160,19), ICD REVISION (160,20)
"DATA",160.16,14,"FIELD",215,0)
1393^1^1393^Autopsy
"DATA",160.16,14,"FIELD",215,1)
S ACDANS=$$GET1~DIQ(160,ACD160,22.9,"I") I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,14,"FIELD",215,2)
BLANK
"DATA",160.16,14,"FIELD",215,3)
L,BLANK^1930
"DATA",160.16,14,"FIELD",215,4)
AUTOPSY (160,22.9)
"DATA",160.16,14,"FIELD",216,0)
1394^3^1396^Place of Death
"DATA",160.16,14,"FIELD",216,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,.02,"I") I ACDANS="",VS=1 S ACDANS=997
"DATA",160.16,14,"FIELD",216,2)
BLANK
"DATA",160.16,14,"FIELD",216,3)
L,BLANK^1940
"DATA",160.16,14,"FIELD",216,4)
PLACE OF DEATH (160,21)
"DATA",160.16,14,"FIELD",218,0)
1137^4^1140^Site (73-91) ICD-O-1
"DATA",160.16,14,"FIELD",218,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",218,2)
BLANK
"DATA",160.16,14,"FIELD",218,3)
L,BLANK^1960
"DATA",160.16,14,"FIELD",219,0)
1141^6^1146^Morph (73-91) ICD-O-1
"DATA",160.16,14,"FIELD",219,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",219,2)
BLANK
"DATA",160.16,14,"FIELD",219,3)
L,BLANK^1970
"DATA",160.16,14,"FIELD",220,0)
1147^1^1147^ICD-O-2 Conversion Flag
"DATA",160.16,14,"FIELD",220,1)
S ACDANS=4
"DATA",160.16,14,"FIELD",220,2)
BLANK
"DATA",160.16,14,"FIELD",220,3)
L,BLANK^1980
"DATA",160.16,14,"FIELD",221,0)
1124^1^1124^Over-ride Age/Site/Morph
"DATA",160.16,14,"FIELD",221,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,205,"I")
"DATA",160.16,14,"FIELD",221,2)
BLANK
"DATA",160.16,14,"FIELD",221,3)
L,BLANK^1990
"DATA",160.16,14,"FIELD",221,4)
OVERRIDE AGE/SITE/MORPH (165.5,205)
"DATA",160.16,14,"FIELD",222,0)
1125^1^1125^Over-ride SeqNo/DxConf
"DATA",160.16,14,"FIELD",222,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,206,"I")
"DATA",160.16,14,"FIELD",222,2)
BLANK
"DATA",160.16,14,"FIELD",222,3)
L,BLANK^2000
"DATA",160.16,14,"FIELD",222,4)
OVERRIDE SEQNO/DXCONF (165.5,206)
"DATA",160.16,14,"FIELD",223,0)
1126^1^1126^Over-ride Site/Lat/SeqNo
"DATA",160.16,14,"FIELD",223,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,207,"I")
"DATA",160.16,14,"FIELD",223,2)
BLANK
"DATA",160.16,14,"FIELD",223,3)
L,BLANK^2010
"DATA",160.16,14,"FIELD",223,4)
OVERRIDE SITE/LAT/SEQNO (165.5,207)
"DATA",160.16,14,"FIELD",224,0)
1127^1^1127^Over-ride Surg/DxConf
"DATA",160.16,14,"FIELD",224,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,208,"I")
"DATA",160.16,14,"FIELD",224,2)
BLANK
"DATA",160.16,14,"FIELD",224,3)
L,BLANK^2020
"DATA",160.16,14,"FIELD",224,4)
OVERRIDE SURG/DXCONF (165.5,208)
"DATA",160.16,14,"FIELD",225,0)
1128^1^1128^Over-ride Site/Type
"DATA",160.16,14,"FIELD",225,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,209,"I")
"DATA",160.16,14,"FIELD",225,2)
BLANK
"DATA",160.16,14,"FIELD",225,3)
L,BLANK^2030
"DATA",160.16,14,"FIELD",225,4)
OVERRIDE SITE/TYPE (165.5,209)
"DATA",160.16,14,"FIELD",226,0)
1129^1^1129^Over-ride Histology
"DATA",160.16,14,"FIELD",226,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,210,"I")
"DATA",160.16,14,"FIELD",226,2)
BLANK
"DATA",160.16,14,"FIELD",226,3)
L,BLANK^2040
"DATA",160.16,14,"FIELD",226,4)
OVERRIDE HISTOLOGY (165.5,210)
"DATA",160.16,14,"FIELD",227,0)
1130^1^1130^Over-ride Report Source
"DATA",160.16,14,"FIELD",227,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,211,"I")
"DATA",160.16,14,"FIELD",227,2)
BLANK
"DATA",160.16,14,"FIELD",227,3)
L,BLANK^2050
"DATA",160.16,14,"FIELD",227,4)
OVERRIDE REPORT SOURCE (165.5,211)
"DATA",160.16,14,"FIELD",228,0)
1131^1^1131^Over-ride Ill-define Site
"DATA",160.16,14,"FIELD",228,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,212,"I")
"DATA",160.16,14,"FIELD",228,2)
BLANK
"DATA",160.16,14,"FIELD",228,3)
L,BLANK^2060
"DATA",160.16,14,"FIELD",228,4)
OVERRIDE ILL-DEFINE SITE (165.5,212)
"DATA",160.16,14,"FIELD",229,0)
1132^1^1132^Over-ride Leuk, Lymphoma
"DATA",160.16,14,"FIELD",229,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,213,"I")
"DATA",160.16,14,"FIELD",229,2)
BLANK
"DATA",160.16,14,"FIELD",229,3)
L,BLANK^2070
"DATA",160.16,14,"FIELD",229,4)
OVERRIDE LEUK,LYMPHOMA (165.5,213)
"DATA",160.16,14,"FIELD",231,0)
1174^8^1181^Date Case Completed
"DATA",160.16,14,"FIELD",231,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,90,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",231,2)
BLANK
"DATA",160.16,14,"FIELD",231,3)
L,BLANK^2090
"DATA",160.16,14,"FIELD",231,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,14,"FIELD",232,0)
1182^8^1189^Date Case Last Changed
"DATA",160.16,14,"FIELD",232,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,198,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",232,2)
BLANK
"DATA",160.16,14,"FIELD",232,3)
L,BLANK^2100
"DATA",160.16,14,"FIELD",232,4)
DATE CASE LAST CHANGED (165.5,198)
"DATA",160.16,14,"FIELD",233,0)
1190^8^1197^Date Case Report Exported
"DATA",160.16,14,"FIELD",233,1)
S ACDANS="" Q:$G(EXPORT)'="YES"  S:$G(DT)'="" ACDANS=$E(DT,4,5)_$E(DT,6,7)_(1700+$E(DT,1,3))
"DATA",160.16,14,"FIELD",233,2)
BLANK
"DATA",160.16,14,"FIELD",233,3)
L,ZERO^2110
"DATA",160.16,14,"FIELD",233,4)
Current date
"DATA",160.16,14,"FIELD",234,0)
1198^1^1198^SEER Coding Sys--Current
"DATA",160.16,14,"FIELD",234,1)
S ACDANS=6
"DATA",160.16,14,"FIELD",234,2)
BLANK
"DATA",160.16,14,"FIELD",234,3)
L,BLANK^2120
"DATA",160.16,14,"FIELD",234,4)
6 January 2003 SEER Coding Manual
"DATA",160.16,14,"FIELD",235,0)
1199^1^1199^SEER Coding Sys--Original
"DATA",160.16,14,"FIELD",235,1)
S ACDANS=6
"DATA",160.16,14,"FIELD",235,2)
BLANK
"DATA",160.16,14,"FIELD",235,3)
L,BLANK^2130
"DATA",160.16,14,"FIELD",235,4)
6 January 2003 SEER Coding Manual
"DATA",160.16,14,"FIELD",236,0)
1200^2^1201^COC Coding Sys--Current
"DATA",160.16,14,"FIELD",236,1)
S ACDANS="08"
"DATA",160.16,14,"FIELD",236,2)
BLANK
"DATA",160.16,14,"FIELD",236,3)
L,BLANK^2140
"DATA",160.16,14,"FIELD",236,4)
08 FORDS (effective with cases diagnosed 2003 are forward)
"DATA",160.16,14,"FIELD",237,0)
1202^2^1203^COC Coding Sys--Original
"DATA",160.16,14,"FIELD",237,1)
S ACDANS=$$COCO~ONCACDU2(IEN)
"DATA",160.16,14,"FIELD",237,2)
BLANK
"DATA",160.16,14,"FIELD",237,3)
L,BLANK^2150
"DATA",160.16,14,"FIELD",237,4)
08, 07, or 05 depending on DATE DX
"DATA",160.16,14,"FIELD",238,0)
1244^50^1293^Reserved 08
"DATA",160.16,14,"FIELD",238,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",238,2)
BLANK
"DATA",160.16,14,"FIELD",238,3)
L,BLANK^1650
"DATA",160.16,14,"FIELD",239,0)
1204^10^1213^Vendor Name
"DATA",160.16,14,"FIELD",239,1)
S ACDANS=$$VENDOR~ONCACDU2
"DATA",160.16,14,"FIELD",239,2)
BLANK
"DATA",160.16,14,"FIELD",239,3)
R,BLANK^2170
"DATA",160.16,14,"FIELD",239,4)
"VA"_NAACCR version_patch #_"A" e.g. VAV11P46A
"DATA",160.16,14,"FIELD",240,0)
1214^1^1214^SEER Type of Follow-Up
"DATA",160.16,14,"FIELD",240,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",240,2)
BLANK
"DATA",160.16,14,"FIELD",240,3)
L,BLANK^2180
"DATA",160.16,14,"FIELD",241,0)
1215^2^1216^SEER Record Number
"DATA",160.16,14,"FIELD",241,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",241,2)
BLANK
"DATA",160.16,14,"FIELD",241,3)
L,BLANK^2190
"DATA",160.16,14,"FIELD",242,0)
1217^2^1218^Diagnostic Proc 73-87
"DATA",160.16,14,"FIELD",242,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",242,2)
BLANK
"DATA",160.16,14,"FIELD",242,3)
L,BLANK^2200
"DATA",160.16,14,"FIELD",243,0)
1243^1^1243^ICD-O-3 Conversion Flag
"DATA",160.16,14,"FIELD",243,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:0,1:1) K DATEDX
"DATA",160.16,14,"FIELD",243,2)
BLANK
"DATA",160.16,14,"FIELD",243,3)
L,BLANK^2116
"DATA",160.16,14,"FIELD",340,0)
459^1^459^RX Hosp--Scope Reg LN Sur
"DATA",160.16,14,"FIELD",340,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.5,"I")
"DATA",160.16,14,"FIELD",340,2)
NINE
"DATA",160.16,14,"FIELD",340,3)
L,BLANK^672
"DATA",160.16,14,"FIELD",340,4)
SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"DATA",160.16,14,"FIELD",341,0)
460^1^460^RX Hosp--Surg Oth Reg/Dis
"DATA",160.16,14,"FIELD",341,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.5,"I")
"DATA",160.16,14,"FIELD",341,2)
NINE
"DATA",160.16,14,"FIELD",341,3)
L,BLANK^674
"DATA",160.16,14,"FIELD",341,4)
SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"DATA",160.16,14,"FIELD",342,0)
461^2^462^RX Hosp--Reg LN Removed
"DATA",160.16,14,"FIELD",342,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140.1,"I")
"DATA",160.16,14,"FIELD",342,2)
BLANK
"DATA",160.16,14,"FIELD",342,3)
L,BLANK^676
"DATA",160.16,14,"FIELD",342,4)
NUMBER OF LN REMOVED @FAC (R) (165.5,140.1)
"DATA",160.16,14,"FIELD",343,0)
474^4^477^Reserved 28
"DATA",160.16,14,"FIELD",343,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",343,2)
BLANK
"DATA",160.16,14,"FIELD",343,3)
L,BLANK^741
"DATA",160.16,14,"FIELD",343,4)

"DATA",160.16,14,"FIELD",347,0)
861^1^861^RX Summ--Scope Reg LN Sur
"DATA",160.16,14,"FIELD",347,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.4,"I")
"DATA",160.16,14,"FIELD",347,2)
NINE
"DATA",160.16,14,"FIELD",347,3)
L,BLANK^1292
"DATA",160.16,14,"FIELD",347,4)
SCOPE OF LN SURGERY (F) (165.5,138.4)
"DATA",160.16,14,"FIELD",348,0)
862^1^862^RX Summ--Surg Oth Reg/Dis
"DATA",160.16,14,"FIELD",348,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.4,"I")
"DATA",160.16,14,"FIELD",348,2)
NINE
"DATA",160.16,14,"FIELD",348,3)
L,BLANK^1294
"DATA",160.16,14,"FIELD",348,4)
SURG PROC/OTHER SITE (F) (165.5,139.4)
"DATA",160.16,14,"FIELD",349,0)
863^2^864^RX Summ--Reg LN Examined
"DATA",160.16,14,"FIELD",349,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140,"I")
"DATA",160.16,14,"FIELD",349,2)
NINE
"DATA",160.16,14,"FIELD",349,3)
L,ZERO^1296
"DATA",160.16,14,"FIELD",349,4)
NUMBER OF LN REMOVED (R) (165.5,140)
"DATA",160.16,14,"FIELD",350,0)
934^4^937^Reserved 36
"DATA",160.16,14,"FIELD",350,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",350,2)
BLANK
"DATA",160.16,14,"FIELD",350,3)
L,BLANK^1641
"DATA",160.16,14,"FIELD",350,4)

"DATA",160.16,14,"FIELD",354,0)
1048^1^1048^Subsq RX 2nd--Scope LN Su
"DATA",160.16,14,"FIELD",354,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,35)
"DATA",160.16,14,"FIELD",354,2)
BLANK
"DATA",160.16,14,"FIELD",354,3)
L,BLANK^1677
"DATA",160.16,14,"FIELD",354,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,14,"FIELD",355,0)
1049^1^1049^Subsq RX 2nd--Surg Oth
"DATA",160.16,14,"FIELD",355,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,36)
"DATA",160.16,14,"FIELD",355,2)
BLANK
"DATA",160.16,14,"FIELD",355,3)
L,BLANK^1678
"DATA",160.16,14,"FIELD",355,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,14,"FIELD",356,0)
1050^2^1051^Subsq RX 2nd--Reg LN Rem
"DATA",160.16,14,"FIELD",356,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,37)
"DATA",160.16,14,"FIELD",356,2)
BLANK
"DATA",160.16,14,"FIELD",356,3)
L,BLANK^1679
"DATA",160.16,14,"FIELD",356,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,14,"FIELD",357,0)
1052^1^1052^Subsq RX 3rd--Scope LN Su
"DATA",160.16,14,"FIELD",357,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,35)
"DATA",160.16,14,"FIELD",357,2)
BLANK
"DATA",160.16,14,"FIELD",357,3)
L,BLANK^1697
"DATA",160.16,14,"FIELD",357,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,14,"FIELD",358,0)
1053^1^1053^Subsq RX 3rd--Surg Oth
"DATA",160.16,14,"FIELD",358,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,36)
"DATA",160.16,14,"FIELD",358,2)
BLANK
"DATA",160.16,14,"FIELD",358,3)
L,BLANK^1698
"DATA",160.16,14,"FIELD",358,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,14,"FIELD",359,0)
1054^2^1055^Subsq RX 3rd--Reg LN Rem
"DATA",160.16,14,"FIELD",359,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,37)
"DATA",160.16,14,"FIELD",359,2)
BLANK
"DATA",160.16,14,"FIELD",359,3)
L,BLANK^1699
"DATA",160.16,14,"FIELD",359,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,14,"FIELD",360,0)
1056^1^1056^Subsq RX 4th--Scope LN Su
"DATA",160.16,14,"FIELD",360,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,35)
"DATA",160.16,14,"FIELD",360,2)
BLANK
"DATA",160.16,14,"FIELD",360,3)
L,BLANK^1717
"DATA",160.16,14,"FIELD",360,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,14,"FIELD",361,0)
1057^1^1057^Subsq RX 4th--Surg Oth
"DATA",160.16,14,"FIELD",361,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,36)
"DATA",160.16,14,"FIELD",361,2)
BLANK
"DATA",160.16,14,"FIELD",361,3)
L,BLANK^1718
"DATA",160.16,14,"FIELD",361,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,14,"FIELD",362,0)
1058^2^1059^Subsq RX 4th--Reg LN Rem
"DATA",160.16,14,"FIELD",362,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,37)
"DATA",160.16,14,"FIELD",362,2)
BLANK
"DATA",160.16,14,"FIELD",362,3)
L,BLANK^1719
"DATA",160.16,14,"FIELD",362,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,14,"FIELD",363,0)
1060^4^1063^Reserved 38
"DATA",160.16,14,"FIELD",363,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",363,2)
BLANK
"DATA",160.16,14,"FIELD",363,3)
L,BLANK^1726
"DATA",160.16,14,"FIELD",363,4)

"DATA",160.16,14,"FIELD",366,0)
1064^1^1064^Subsq RX--Reconstruct Del
"DATA",160.16,14,"FIELD",366,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,33)
"DATA",160.16,14,"FIELD",366,2)
NINE
"DATA",160.16,14,"FIELD",366,3)
L,NINE^1741
"DATA",160.16,14,"FIELD",366,4)
RECON/RESTORE - DELAYED (165.51,33)
"DATA",160.16,14,"FIELD",367,0)
1357^20^1376^Follow-Up Contact--City
"DATA",160.16,14,"FIELD",367,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160)
"DATA",160.16,14,"FIELD",367,2)
BLANK
"DATA",160.16,14,"FIELD",367,3)
R,BLANK^1842
"DATA",160.16,14,"FIELD",367,4)
CITY (2,.114)
"DATA",160.16,14,"FIELD",368,0)
1377^2^1378^Follow-Up Contact--State
"DATA",160.16,14,"FIELD",368,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160)
"DATA",160.16,14,"FIELD",368,2)
BLANK
"DATA",160.16,14,"FIELD",368,3)
L,BLANK^1844
"DATA",160.16,14,"FIELD",368,4)
STATE (2,.115)
"DATA",160.16,14,"FIELD",369,0)
1379^9^1387^Follow-Up Contact--Postal
"DATA",160.16,14,"FIELD",369,1)
S ACDANS=$$ZIP~ONCACDU1(ACD160)
"DATA",160.16,14,"FIELD",369,2)
BLANK
"DATA",160.16,14,"FIELD",369,3)
R,BLANK^1846
"DATA",160.16,14,"FIELD",369,4)
ZIP CODE (2,.116)
"DATA",160.16,14,"FIELD",370,0)
1133^1^1133^Over-ride Site/Behavior
"DATA",160.16,14,"FIELD",370,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,214,"I")
"DATA",160.16,14,"FIELD",370,2)
BLANK
"DATA",160.16,14,"FIELD",370,3)
L,BLANK^2071
"DATA",160.16,14,"FIELD",370,4)
OVERRIDE SITE/BEHAVIOR (165.5,214)
"DATA",160.16,14,"FIELD",371,0)
1134^1^1134^Over-ride Site/EOD/DX Dt
"DATA",160.16,14,"FIELD",371,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,215,"I")
"DATA",160.16,14,"FIELD",371,2)
BLANK
"DATA",160.16,14,"FIELD",371,3)
L,BLANK^2072
"DATA",160.16,14,"FIELD",371,4)
OVERRIDE SITE/EOD/DX DT (165.5,215)
"DATA",160.16,14,"FIELD",372,0)
1135^1^1135^Over-ride Site/Lat/EOD
"DATA",160.16,14,"FIELD",372,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,216,"I")
"DATA",160.16,14,"FIELD",372,2)
BLANK
"DATA",160.16,14,"FIELD",372,3)
L,BLANK^2073
"DATA",160.16,14,"FIELD",372,4)
OVERRIDE SITE/LAT/EOD (165.5,216)
"DATA",160.16,14,"FIELD",373,0)
1136^1^1136^Over-ride Site/Lat/Morph
"DATA",160.16,14,"FIELD",373,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,217,"I")
"DATA",160.16,14,"FIELD",373,2)
BLANK
"DATA",160.16,14,"FIELD",373,3)
L,BLANK^2074
"DATA",160.16,14,"FIELD",373,4)
OVERRIDE SITE/LAT/MORPH (165.5,217)
"DATA",160.16,14,"FIELD",374,0)
1148^8^1155^Future Use Timeliness 1 (item retired)
"DATA",160.16,14,"FIELD",374,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",374,2)
BLANK
"DATA",160.16,14,"FIELD",374,3)
L,BLANK
"DATA",160.16,14,"FIELD",375,0)
1156^8^1163^Future Use Timeliness 2 (item retired)
"DATA",160.16,14,"FIELD",375,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",375,2)
BLANK
"DATA",160.16,14,"FIELD",375,3)
L,BLANK
"DATA",160.16,14,"FIELD",376,0)
1219^8^1226^Date Case Report Received
"DATA",160.16,14,"FIELD",376,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",376,2)
BLANK
"DATA",160.16,14,"FIELD",376,3)
L,BLANK^2111
"DATA",160.16,14,"FIELD",377,0)
1227^8^1234^Date Case Report Loaded
"DATA",160.16,14,"FIELD",377,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",377,2)
BLANK
"DATA",160.16,14,"FIELD",377,3)
L,BLANK^2112
"DATA",160.16,14,"FIELD",378,0)
1235^8^1242^Date Tumor Record Availbl
"DATA",160.16,14,"FIELD",378,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",378,2)
BLANK
"DATA",160.16,14,"FIELD",378,3)
L,BLANK^2113
"DATA",160.16,14,"FIELD",379,0)
1164^10^1173^CRC CHECKSUM
"DATA",160.16,14,"FIELD",379,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",379,2)
BLANK
"DATA",160.16,14,"FIELD",379,3)
L,BLANK^2081
"DATA",160.16,14,"FIELD",380,0)
12^7^18^Reserved 00
"DATA",160.16,14,"FIELD",380,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",380,2)
BLANK
"DATA",160.16,14,"FIELD",380,3)
L,BLANK^37
"DATA",160.16,14,"FIELD",382,0)
382^10^391^Reporting Facility
"DATA",160.16,14,"FIELD",382,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.03,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") I (ACDANS=9999999)&($L(STAT1)=8) S ACDANS=99999999
"DATA",160.16,14,"FIELD",382,2)
ZERO
"DATA",160.16,14,"FIELD",382,3)
L,ZERO^540
"DATA",160.16,14,"FIELD",382,4)
REPORTING FACILITY (165.5,.03)
"DATA",160.16,14,"FIELD",383,0)
402^9^410^Accession Number--Hosp
"DATA",160.16,14,"FIELD",383,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.05,"I")
"DATA",160.16,14,"FIELD",383,2)
BLANK
"DATA",160.16,14,"FIELD",383,3)
L,ZERO^550
"DATA",160.16,14,"FIELD",383,4)
ACCESSION NUMBER (165.5,.05)
"DATA",160.16,14,"FIELD",388,0)
372^10^381^NPI--Reporting Facility
"DATA",160.16,14,"FIELD",388,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",388,2)
BLANK
"DATA",160.16,14,"FIELD",388,3)
L,BLANK^545
"DATA",160.16,14,"FIELD",390,0)
347^25^371^Reserved 03
"DATA",160.16,14,"FIELD",390,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",390,2)
BLANK
"DATA",160.16,14,"FIELD",390,3)
L,BLANK^680
"DATA",160.16,14,"FIELD",391,0)
528^1^528^SEER Summary Stage 2000
"DATA",160.16,14,"FIELD",391,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,14,"FIELD",391,2)
BLANK
"DATA",160.16,14,"FIELD",391,3)
L,BLANK^759
"DATA",160.16,14,"FIELD",391,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,14,"FIELD",392,0)
1115^1^1115^Over-ride SS/NodesPos
"DATA",160.16,14,"FIELD",392,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,218,"I")
"DATA",160.16,14,"FIELD",392,2)
BLANK
"DATA",160.16,14,"FIELD",392,3)
L,BLANK^1981
"DATA",160.16,14,"FIELD",392,4)
OVERRIDE SS/NODESPOS (165.5,218)
"DATA",160.16,14,"FIELD",393,0)
1116^1^1116^Over-ride SS/TNM-N
"DATA",160.16,14,"FIELD",393,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,219,"I")
"DATA",160.16,14,"FIELD",393,2)
BLANK
"DATA",160.16,14,"FIELD",393,3)
L,BLANK^1982
"DATA",160.16,14,"FIELD",393,4)
OVERRIDE SS/TNM-N (165.5,219)
"DATA",160.16,14,"FIELD",394,0)
1117^1^1117^Over-ride SS/TNM-M
"DATA",160.16,14,"FIELD",394,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,220,"I")
"DATA",160.16,14,"FIELD",394,2)
BLANK
"DATA",160.16,14,"FIELD",394,3)
L,BLANK^1983
"DATA",160.16,14,"FIELD",394,4)
OVERRIDE SS/TNM-M (165.5,220)
"DATA",160.16,14,"FIELD",395,0)
1118^1^1118^Over-ride SS/DisMet1
"DATA",160.16,14,"FIELD",395,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,221,"I")
"DATA",160.16,14,"FIELD",395,2)
BLANK
"DATA",160.16,14,"FIELD",395,3)
L,BLANK^1984
"DATA",160.16,14,"FIELD",395,4)
OVERRIDE SS/DISMET1 (165.5,221)
"DATA",160.16,14,"FIELD",396,0)
1119^1^1119^Over-ride Acsn/Class/Seq
"DATA",160.16,14,"FIELD",396,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,222,"I")
"DATA",160.16,14,"FIELD",396,2)
BLANK
"DATA",160.16,14,"FIELD",396,3)
L,BLANK^1985
"DATA",160.16,14,"FIELD",396,4)
OVERRIDE ACSN/CLASS/SEQ (165.5,222)
"DATA",160.16,14,"FIELD",397,0)
1120^1^1120^Over-ride HospSeq/DxConf
"DATA",160.16,14,"FIELD",397,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,223,"I")
"DATA",160.16,14,"FIELD",397,2)
BLANK
"DATA",160.16,14,"FIELD",397,3)
L,BLANK^1986
"DATA",160.16,14,"FIELD",397,4)
OVERRIDE HOSPSEQ/DXCONF (165.5,223)
"DATA",160.16,14,"FIELD",398,0)
1121^1^1121^Over-ride COC-Site/Type
"DATA",160.16,14,"FIELD",398,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,224,"I")
"DATA",160.16,14,"FIELD",398,2)
BLANK
"DATA",160.16,14,"FIELD",398,3)
L,BLANK^1987
"DATA",160.16,14,"FIELD",398,4)
OVERRIDE COC-SITE/TYPE (165.5,224)
"DATA",160.16,14,"FIELD",399,0)
1122^1^1122^Over-ride HospSeq/Site
"DATA",160.16,14,"FIELD",399,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,225,"I")
"DATA",160.16,14,"FIELD",399,2)
BLANK
"DATA",160.16,14,"FIELD",399,3)
L,BLANK^1988
"DATA",160.16,14,"FIELD",399,4)
OVERRIDE HOSPSEQ/SITE (165.5,225)
"DATA",160.16,14,"FIELD",400,0)
1123^1^1123^Over-ride Site/TNM-StgGrp
"DATA",160.16,14,"FIELD",400,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,226,"I")
"DATA",160.16,14,"FIELD",400,2)
BLANK
"DATA",160.16,14,"FIELD",400,3)
L,BLANK^1989
"DATA",160.16,14,"FIELD",400,4)
OVERRIDE SITE/TNM-STAGE GROUP (165.5,226)
"DATA",160.16,14,"FIELD",401,0)
1399^48^1446^Reserved 09
"DATA",160.16,14,"FIELD",401,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",401,2)
BLANK
"DATA",160.16,14,"FIELD",401,3)
L,BLANK^1740
"DATA",160.16,14,"FIELD",402,0)
30^2^31^Tumor Record Number
"DATA",160.16,14,"FIELD",402,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",402,2)
BLANK
"DATA",160.16,14,"FIELD",402,3)
L,BLANK^60
"DATA",160.16,14,"FIELD",402,4)

"DATA",160.16,14,"FIELD",403,0)
40^10^49^NPI--Registry ID
"DATA",160.16,14,"FIELD",403,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",403,2)
BLANK
"DATA",160.16,14,"FIELD",403,3)
L,BLANK^45
"DATA",160.16,14,"FIELD",404,0)
52^20^71^Addr at DX--City
"DATA",160.16,14,"FIELD",404,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,8.1,"E")'="":$$GET1~DIQ(165.5,IEN,8.1,"E"),1:"UNKNOWN")
"DATA",160.16,14,"FIELD",404,2)
BLANK
"DATA",160.16,14,"FIELD",404,3)
R,BLANK^70
"DATA",160.16,14,"FIELD",404,4)
CITY/TOWN AT DX (165.5,8.1)
"DATA",160.16,14,"FIELD",405,0)
72^2^73^Addr at DX--State
"DATA",160.16,14,"FIELD",405,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,16,"I")'="":$$GET1~DIQ(160.15,$$GET1~DIQ(165.5,IEN,16,"I"),.01,"I"),1:"")
"DATA",160.16,14,"FIELD",405,2)
BLANK
"DATA",160.16,14,"FIELD",405,3)
L,BLANK^80
"DATA",160.16,14,"FIELD",405,4)
STATE AT DX (165.5,16)
"DATA",160.16,14,"FIELD",406,0)
114^1^114^Race Coding Sys--Original
"DATA",160.16,14,"FIELD",406,1)
S ACDANS=6
"DATA",160.16,14,"FIELD",406,2)
BLANK
"DATA",160.16,14,"FIELD",406,3)
L,BLANK^180
"DATA",160.16,14,"FIELD",406,4)
6 2000+ SEER & COC
"DATA",160.16,14,"FIELD",407,0)
83^3^85^County at DX
"DATA",160.16,14,"FIELD",407,1)
S ACDANS=$$CNTY~ONCACDU1(IEN)
"DATA",160.16,14,"FIELD",407,2)
BLANK
"DATA",160.16,14,"FIELD",407,3)
L,ZERO^90
"DATA",160.16,14,"FIELD",407,4)
COUNTY AT DX (165.5,10)
"DATA",160.16,14,"FIELD",408,0)
86^6^91^Census Tract 1970/80/90
"DATA",160.16,14,"FIELD",408,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",408,2)
BLANK
"DATA",160.16,14,"FIELD",408,3)
L,BLANK^110
"DATA",160.16,14,"FIELD",408,4)

"DATA",160.16,14,"FIELD",409,0)
92^1^92^Census Cod Sys 1970/80/90
"DATA",160.16,14,"FIELD",409,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",409,2)
BLANK
"DATA",160.16,14,"FIELD",409,3)
L,BLANK^120
"DATA",160.16,14,"FIELD",410,0)
133^2^134^Religion
"DATA",160.16,14,"FIELD",410,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",410,2)
BLANK
"DATA",160.16,14,"FIELD",410,3)
L,BLANK^260
"DATA",160.16,14,"FIELD",411,0)
142^1^142^Industry Source
"DATA",160.16,14,"FIELD",411,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",411,2)
BLANK
"DATA",160.16,14,"FIELD",411,3)
L,BLANK^300
"DATA",160.16,14,"FIELD",412,0)
223^1^223^Occup/Ind Coding System
"DATA",160.16,14,"FIELD",412,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",412,2)
BLANK
"DATA",160.16,14,"FIELD",412,3)
L,BLANK^330
"DATA",160.16,14,"FIELD",413,0)
113^1^113^Race Coding Sys--Current
"DATA",160.16,14,"FIELD",413,1)
S ACDANS=6
"DATA",160.16,14,"FIELD",413,2)
BLANK
"DATA",160.16,14,"FIELD",413,3)
L,BLANK^170
"DATA",160.16,14,"FIELD",413,4)
6 2000+ SEER & COC
"DATA",160.16,14,"FIELD",414,0)
115^1^115^Spanish/Hispanic Origin
"DATA",160.16,14,"FIELD",414,1)
S ACDANS=$$GET1~DIQ(160,ACD160,9,"I")
"DATA",160.16,14,"FIELD",414,2)
BLANK
"DATA",160.16,14,"FIELD",414,3)
L,BLANK^190
"DATA",160.16,14,"FIELD",414,4)
SPANISH ORIGIN (160,9)
"DATA",160.16,14,"FIELD",415,0)
116^1^116^Computed Ethnicity
"DATA",160.16,14,"FIELD",415,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,14,"FIELD",415,2)
BLANK
"DATA",160.16,14,"FIELD",415,3)
L,BLANK^200
"DATA",160.16,14,"FIELD",415,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,14,"FIELD",416,0)
117^1^117^Computed Ethnicity Source
"DATA",160.16,14,"FIELD",416,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,14,"FIELD",416,2)
BLANK
"DATA",160.16,14,"FIELD",416,3)
L,BLANK^210
"DATA",160.16,14,"FIELD",416,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,14,"FIELD",417,0)
118^1^118^Sex
"DATA",160.16,14,"FIELD",417,1)
S ACDANS=$$GET1~DIQ(160,ACD160,10,"I")
"DATA",160.16,14,"FIELD",417,2)
BLANK
"DATA",160.16,14,"FIELD",417,3)
L,BLANK^220
"DATA",160.16,14,"FIELD",417,4)
SEX (160,10)
"DATA",160.16,14,"FIELD",418,0)
119^3^121^Age at Diagnosis
"DATA",160.16,14,"FIELD",418,1)
S ACDANS=$$AGEDX~ONCACDU1(IEN)
"DATA",160.16,14,"FIELD",418,2)
BLANK
"DATA",160.16,14,"FIELD",418,3)
L,ZERO^230
"DATA",160.16,14,"FIELD",418,4)
AGE~ONCOCOM
"DATA",160.16,14,"FIELD",419,0)
122^8^129^Birth Date
"DATA",160.16,14,"FIELD",419,1)
S ACDANS=$$BDATE~ONCACDU2(ACD160) S ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,14,"FIELD",419,2)
BLANK
"DATA",160.16,14,"FIELD",419,3)
L,ZERO^240
"DATA",160.16,14,"FIELD",419,4)
DOB~ONCOES
"DATA",160.16,14,"FIELD",420,0)
130^3^132^Birthplace
"DATA",160.16,14,"FIELD",420,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I")
"DATA",160.16,14,"FIELD",420,2)
BLANK
"DATA",160.16,14,"FIELD",420,3)
L,ZERO^250
"DATA",160.16,14,"FIELD",420,4)
PLACE OF BIRTH (160,7)
"DATA",160.16,14,"FIELD",421,0)
99^1^99^Census Tract Block Group
"DATA",160.16,14,"FIELD",421,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",421,2)
BLANK
"DATA",160.16,14,"FIELD",421,3)
L,BLANK^362
"DATA",160.16,14,"FIELD",422,0)
100^1^100^Census Tr Cert 1970/80/90
"DATA",160.16,14,"FIELD",422,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",422,2)
BLANK
"DATA",160.16,14,"FIELD",422,3)
L,BLANK^364
"DATA",160.16,14,"FIELD",423,0)
141^1^141^Occupation Source
"DATA",160.16,14,"FIELD",423,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",423,2)
BLANK
"DATA",160.16,14,"FIELD",423,3)
L,BLANK^290
"DATA",160.16,14,"FIELD",424,0)
105^2^106^Race 2
"DATA",160.16,14,"FIELD",424,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.1,"I")
"DATA",160.16,14,"FIELD",424,2)
8
"DATA",160.16,14,"FIELD",424,3)
L,ZERO^161
"DATA",160.16,14,"FIELD",424,4)
RACE 2 (160,8.1)
"DATA",160.16,14,"FIELD",425,0)
107^2^108^Race 3
"DATA",160.16,14,"FIELD",425,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.2,"I")
"DATA",160.16,14,"FIELD",425,2)
8
"DATA",160.16,14,"FIELD",425,3)
L,ZERO^162
"DATA",160.16,14,"FIELD",425,4)
RACE 3 (160,8.2)
"DATA",160.16,14,"FIELD",426,0)
109^2^110^Race 4
"DATA",160.16,14,"FIELD",426,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.3,"I")
"DATA",160.16,14,"FIELD",426,2)
8
"DATA",160.16,14,"FIELD",426,3)
L,ZERO^163
"DATA",160.16,14,"FIELD",426,4)
RACE 4 (160,8.3)
"DATA",160.16,14,"FIELD",427,0)
111^2^112^Race 5
"DATA",160.16,14,"FIELD",427,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.4,"I")
"DATA",160.16,14,"FIELD",427,2)
8
"DATA",160.16,14,"FIELD",427,3)
L,ZERO^164
"DATA",160.16,14,"FIELD",427,4)
RACE 5 (160,8.4)
"DATA",160.16,14,"FIELD",428,0)
135^3^137^Occupation Code--Census
"DATA",160.16,14,"FIELD",428,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",428,2)
BLANK
"DATA",160.16,14,"FIELD",428,3)
L,BLANK^270
"DATA",160.16,14,"FIELD",429,0)
138^3^140^Industry Code--Census
"DATA",160.16,14,"FIELD",429,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",429,2)
BLANK
"DATA",160.16,14,"FIELD",429,3)
L,BLANK^280
"DATA",160.16,14,"FIELD",430,0)
224^1^224^Tobacco History
"DATA",160.16,14,"FIELD",430,1)
S ACDANS=$$TOB~ONCACDU1(IEN)
"DATA",160.16,14,"FIELD",430,2)
BLANK
"DATA",160.16,14,"FIELD",430,3)
L,BLANK^340
"DATA",160.16,14,"FIELD",430,4)
TOBACCO HISTORY (160,38)
"DATA",160.16,14,"FIELD",431,0)
225^1^225^Alcohol History
"DATA",160.16,14,"FIELD",431,1)
S ACDANS=$$ALC~ONCACDU1(IEN)
"DATA",160.16,14,"FIELD",431,2)
BLANK
"DATA",160.16,14,"FIELD",431,3)
L,BLANK^350
"DATA",160.16,14,"FIELD",431,4)
ALCOHOL HISTORY (160,39)
"DATA",160.16,14,"FIELD",432,0)
226^1^226^Family History of Cancer
"DATA",160.16,14,"FIELD",432,1)
S ACDANS=$$GET1~DIQ(160,ACD160,43,"I")
"DATA",160.16,14,"FIELD",432,2)
BLANK
"DATA",160.16,14,"FIELD",432,3)
L,BLANK^360
"DATA",160.16,14,"FIELD",432,4)
FAMILY HISTORY OF CANCER (160,43)
"DATA",160.16,14,"FIELD",433,0)
281^2^282^Sequence Number--Central
"DATA",160.16,14,"FIELD",433,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",433,2)
BLANK
"DATA",160.16,14,"FIELD",433,3)
L,BLANK^380
"DATA",160.16,14,"FIELD",434,0)
283^8^290^Date of Diagnosis
"DATA",160.16,14,"FIELD",434,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,14,"FIELD",434,2)
BLANK
"DATA",160.16,14,"FIELD",434,3)
L,ZERO^390
"DATA",160.16,14,"FIELD",434,4)
DATE DX (165.5,3)
"DATA",160.16,14,"FIELD",435,0)
227^2^228^RuralUrban Continuum 1993
"DATA",160.16,14,"FIELD",435,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",435,2)
BLANK
"DATA",160.16,14,"FIELD",435,3)
L,BLANK^3300
"DATA",160.16,14,"FIELD",435,4)
Program not run; record not coded
"DATA",160.16,14,"FIELD",436,0)
229^2^230^RuralUrban Continuum 2000
"DATA",160.16,14,"FIELD",436,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",436,2)
BLANK
"DATA",160.16,14,"FIELD",436,3)
L,BLANK^3310
"DATA",160.16,14,"FIELD",436,4)
Program not run; record not coded
"DATA",160.16,14,"FIELD",437,0)
235^46^280^Reserved 02
"DATA",160.16,14,"FIELD",437,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",437,2)
BLANK
"DATA",160.16,14,"FIELD",437,3)
L,BLANK^530
"DATA",160.16,14,"FIELD",438,0)
392^10^401^Archive FIN
"DATA",160.16,14,"FIELD",438,1)
S ACDANS=STAT1
"DATA",160.16,14,"FIELD",438,2)
ZERO
"DATA",160.16,14,"FIELD",438,3)
L,ZERO^3100
"DATA",160.16,14,"FIELD",438,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,14,"FIELD",439,0)
473^1^473^RX Hosp--Palliative Proc
"DATA",160.16,14,"FIELD",439,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,13,"I")
"DATA",160.16,14,"FIELD",439,2)
NINE
"DATA",160.16,14,"FIELD",439,3)
L,BLANK^3280
"DATA",160.16,14,"FIELD",439,4)
PALLIATIVE PROCEDURE @FAC (165.5,13)
"DATA",160.16,14,"FIELD",440,0)
629^3^631^CS Tumor Size
"DATA",160.16,14,"FIELD",440,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.2,"I")) K DATEDX
"DATA",160.16,14,"FIELD",440,2)
BLANK
"DATA",160.16,14,"FIELD",440,3)
L,ZERO^2800
"DATA",160.16,14,"FIELD",440,4)
TUMOR SIZE (CS) (165.5,29.2)
"DATA",160.16,14,"FIELD",441,0)
632^2^633^CS Extension
"DATA",160.16,14,"FIELD",441,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,30.2,"I")) K DATEDX
"DATA",160.16,14,"FIELD",441,2)
BLANK
"DATA",160.16,14,"FIELD",441,3)
L,ZERO^2810
"DATA",160.16,14,"FIELD",441,4)
EXTENSION (CS) (165.5,30.2)
"DATA",160.16,14,"FIELD",442,0)
634^1^634^CS Tumor Size/Ext Eval
"DATA",160.16,14,"FIELD",442,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.1,"I")) K DATEDX
"DATA",160.16,14,"FIELD",442,2)
BLANK
"DATA",160.16,14,"FIELD",442,3)
L,ZERO^2820
"DATA",160.16,14,"FIELD",442,4)
TUMOR SIZE/EXT EVAL (CS) (165.5,29.1)
"DATA",160.16,14,"FIELD",443,0)
635^2^636^CS Lymph Nodes
"DATA",160.16,14,"FIELD",443,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,31.1,"I")) K DATEDX
"DATA",160.16,14,"FIELD",443,2)
BLANK
"DATA",160.16,14,"FIELD",443,3)
L,BLANK^2830
"DATA",160.16,14,"FIELD",443,4)
LYMPH NODES (CS) (165.5,31.1)
"DATA",160.16,14,"FIELD",444,0)
637^1^637^CS Reg Nodes Eval
"DATA",160.16,14,"FIELD",444,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,32.1,"I")) K DATEDX
"DATA",160.16,14,"FIELD",444,2)
BLANK
"DATA",160.16,14,"FIELD",444,3)
L,BLANK^2840
"DATA",160.16,14,"FIELD",444,4)
REG NODES EVAL (CS) (165.5,32.1)
"DATA",160.16,14,"FIELD",445,0)
638^2^639^CS Mets at DX
"DATA",160.16,14,"FIELD",445,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.3,"I")) K DATEDX
"DATA",160.16,14,"FIELD",445,2)
BLANK
"DATA",160.16,14,"FIELD",445,3)
L,BLANK^2850
"DATA",160.16,14,"FIELD",445,4)
METS AT DX (CS) (165.5,34.3)
"DATA",160.16,14,"FIELD",446,0)
640^1^640^CS Mets Eval
"DATA",160.16,14,"FIELD",446,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.4,"I")) K DATEDX
"DATA",160.16,14,"FIELD",446,2)
BLANK
"DATA",160.16,14,"FIELD",446,3)
L,BLANK^2860
"DATA",160.16,14,"FIELD",446,4)
METS EVAL (CS) (165.5,34.4)
"DATA",160.16,14,"FIELD",447,0)
641^3^643^CS Site-Specific Factor 1
"DATA",160.16,14,"FIELD",447,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.1,"I")) K DATEDX
"DATA",160.16,14,"FIELD",447,2)
BLANK
"DATA",160.16,14,"FIELD",447,3)
L,BLANK^2880
"DATA",160.16,14,"FIELD",447,4)
SITE-SPECIFIC FACTOR 1 (CS) (165.5,44.1)
"DATA",160.16,14,"FIELD",448,0)
644^3^646^CS Site-Specific Factor 2
"DATA",160.16,14,"FIELD",448,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.2,"I")) K DATEDX
"DATA",160.16,14,"FIELD",448,2)
BLANK
"DATA",160.16,14,"FIELD",448,3)
L,BLANK^2890
"DATA",160.16,14,"FIELD",448,4)
SITE-SPECIFIC FACTOR 2 (CS) (165.5,44.2)
"DATA",160.16,14,"FIELD",449,0)
647^3^649^CS Site-Specific Factor 3
"DATA",160.16,14,"FIELD",449,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.3,"I")) K DATEDX
"DATA",160.16,14,"FIELD",449,2)
BLANK
"DATA",160.16,14,"FIELD",449,3)
L,BLANK^2900
"DATA",160.16,14,"FIELD",449,4)
SITE-SPECIFIC FACTOR 3 (CS) (165.5,44.3)
"DATA",160.16,14,"FIELD",450,0)
650^3^652^CS Site-Specific Factor 4
"DATA",160.16,14,"FIELD",450,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.4,"I")) K DATEDX
"DATA",160.16,14,"FIELD",450,2)
BLANK
"DATA",160.16,14,"FIELD",450,3)
L,BLANK^2910
"DATA",160.16,14,"FIELD",450,4)
SITE-SPECIFIC FACTOR 4 (CS) (165.5,44.4)
"DATA",160.16,14,"FIELD",451,0)
653^3^655^CS Site-Specific Factor 5
"DATA",160.16,14,"FIELD",451,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.5,"I")) K DATEDX
"DATA",160.16,14,"FIELD",451,2)
BLANK
"DATA",160.16,14,"FIELD",451,3)
L,BLANK^2920
"DATA",160.16,14,"FIELD",451,4)
SITE-SPECIFIC FACTOR 5 (CS) (165.5,44.5)
"DATA",160.16,14,"FIELD",452,0)
656^3^658^CS Site-Specific Factor 6
"DATA",160.16,14,"FIELD",452,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.6,"I")) K DATEDX
"DATA",160.16,14,"FIELD",452,2)
BLANK
"DATA",160.16,14,"FIELD",452,3)
L,BLANK^2930
"DATA",160.16,14,"FIELD",452,4)
SITE-SPECIFIC FACTOR 6 (CS) (165.5,44.6)
"DATA",160.16,14,"FIELD",453,0)
659^2^660^Derived AJCC T
"DATA",160.16,14,"FIELD",453,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160,"I")) K DATEDX
"DATA",160.16,14,"FIELD",453,2)
BLANK
"DATA",160.16,14,"FIELD",453,3)
L,BLANK^2940
"DATA",160.16,14,"FIELD",453,4)
DERIVED AJCC T (165.5,160)
"DATA",160.16,14,"FIELD",454,0)
661^1^661^Derived AJCC T Desciptor
"DATA",160.16,14,"FIELD",454,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161,"I")) K DATEDX
"DATA",160.16,14,"FIELD",454,2)
BLANK
"DATA",160.16,14,"FIELD",454,3)
L,BLANK^2950
"DATA",160.16,14,"FIELD",454,4)
DERIVED AJCC T DESCRIPTOR (165.5,161)
"DATA",160.16,14,"FIELD",455,0)
662^2^663^Derived AJCC N
"DATA",160.16,14,"FIELD",455,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162,"I")) K DATEDX
"DATA",160.16,14,"FIELD",455,2)
BLANK
"DATA",160.16,14,"FIELD",455,3)
L,BLANK^2960
"DATA",160.16,14,"FIELD",455,4)
DERIVED AJCC N (165.5,162)
"DATA",160.16,14,"FIELD",456,0)
664^1^664^Derived AJCC N Descriptor
"DATA",160.16,14,"FIELD",456,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163,"I")) K DATEDX
"DATA",160.16,14,"FIELD",456,2)
BLANK
"DATA",160.16,14,"FIELD",456,3)
L,BLANK^2970
"DATA",160.16,14,"FIELD",456,4)
DERIVED AJCC N DESCRIPTOR (165.5,163)
"DATA",160.16,14,"FIELD",457,0)
665^2^666^Derived AJCC M
"DATA",160.16,14,"FIELD",457,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164,"I")) K DATEDX
"DATA",160.16,14,"FIELD",457,2)
BLANK
"DATA",160.16,14,"FIELD",457,3)
L,BLANK^2980
"DATA",160.16,14,"FIELD",457,4)
DERIVED AJCC M (165.5,164)
"DATA",160.16,14,"FIELD",458,0)
667^1^667^Derived AJCC M Descriptor
"DATA",160.16,14,"FIELD",458,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165,"I")) K DATEDX
"DATA",160.16,14,"FIELD",458,2)
BLANK
"DATA",160.16,14,"FIELD",458,3)
L,BLANK^2990
"DATA",160.16,14,"FIELD",458,4)
DERIVED AJCC M DESCRIPTOR (165.5,165)
"DATA",160.16,14,"FIELD",459,0)
668^2^669^Derived AJCC Stage Group
"DATA",160.16,14,"FIELD",459,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166,"I")) K DATEDX
"DATA",160.16,14,"FIELD",459,2)
BLANK
"DATA",160.16,14,"FIELD",459,3)
L,BLANK^3000
"DATA",160.16,14,"FIELD",459,4)
DERIVED AJCC STAGE GROUP (165.5,166)
"DATA",160.16,14,"FIELD",460,0)
670^1^670^Derived SS1977
"DATA",160.16,14,"FIELD",460,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,167,"I")) K DATEDX
"DATA",160.16,14,"FIELD",460,2)
BLANK
"DATA",160.16,14,"FIELD",460,3)
L,BLANK^3010
"DATA",160.16,14,"FIELD",460,4)
DERIVED SS1977 (165.5,670)
"DATA",160.16,14,"FIELD",461,0)
671^1^671^Derived SS2000
"DATA",160.16,14,"FIELD",461,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,168,"I")) K DATEDX
"DATA",160.16,14,"FIELD",461,2)
BLANK
"DATA",160.16,14,"FIELD",461,3)
L,BLANK^3020
"DATA",160.16,14,"FIELD",461,4)
DERIVED SS2000 (165.5,168)
"DATA",160.16,14,"FIELD",462,0)
672^1^672^Derived AJCC--Flag
"DATA",160.16,14,"FIELD",462,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,166,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,14,"FIELD",462,2)
BLANK
"DATA",160.16,14,"FIELD",462,3)
L,BLANK^3030
"DATA",160.16,14,"FIELD",463,0)
673^1^673^Derived SS1977--Flag
"DATA",160.16,14,"FIELD",463,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,167,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,14,"FIELD",463,2)
BLANK
"DATA",160.16,14,"FIELD",463,3)
L,BLANK^3040
"DATA",160.16,14,"FIELD",464,0)
674^1^674^Derived SS2000--Flag
"DATA",160.16,14,"FIELD",464,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,168,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,14,"FIELD",464,2)
BLANK
"DATA",160.16,14,"FIELD",464,3)
L,BLANK^3050
"DATA",160.16,14,"FIELD",465,0)
675^5^679^Comorbid/Complication 1
"DATA",160.16,14,"FIELD",465,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",465,2)
ZERO
"DATA",160.16,14,"FIELD",465,3)
R,ZERO^3110
"DATA",160.16,14,"FIELD",465,4)
COMORBIDITY/COMPLICATION #1 (160,25)
"DATA",160.16,14,"FIELD",466,0)
680^5^684^Comorbid/Complication 2
"DATA",160.16,14,"FIELD",466,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",466,2)
BLANK
"DATA",160.16,14,"FIELD",466,3)
R,ZERO^3120
"DATA",160.16,14,"FIELD",466,4)
COMORBIDITY/COMPLICATION #2 (160,25.1)
"DATA",160.16,14,"FIELD",467,0)
685^5^689^Comorbid/Complication 3
"DATA",160.16,14,"FIELD",467,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",467,2)
BLANK
"DATA",160.16,14,"FIELD",467,3)
R,ZERO^3130
"DATA",160.16,14,"FIELD",467,4)
COMORBIDITY/COMPLICATION #3 (160,25.2)
"DATA",160.16,14,"FIELD",468,0)
690^5^694^Comorbid/Complication 4
"DATA",160.16,14,"FIELD",468,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",468,2)
BLANK
"DATA",160.16,14,"FIELD",468,3)
R,ZERO^3140
"DATA",160.16,14,"FIELD",468,4)
COMORBIDITY/COMPLICATION #4 (160,25.3)
"DATA",160.16,14,"FIELD",469,0)
695^5^699^Comorbid/Complication 5
"DATA",160.16,14,"FIELD",469,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.4,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",469,2)
BLANK
"DATA",160.16,14,"FIELD",469,3)
R,ZERO^3150
"DATA",160.16,14,"FIELD",469,4)
COMORBIDITY/COMPLICATION #5 (160,25.4)
"DATA",160.16,14,"FIELD",470,0)
700^5^704^Comorbid/Complication 6
"DATA",160.16,14,"FIELD",470,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.5,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",470,2)
BLANK
"DATA",160.16,14,"FIELD",470,3)
R,ZERO^3160
"DATA",160.16,14,"FIELD",470,4)
COMORBIDITY/COMPLICATION #6 (160,25.5)
"DATA",160.16,14,"FIELD",471,0)
763^8^770^RX Date--Most Defin Surg
"DATA",160.16,14,"FIELD",471,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"))
"DATA",160.16,14,"FIELD",471,2)
BLANK
"DATA",160.16,14,"FIELD",471,3)
L,BLANK^3170
"DATA",160.16,14,"FIELD",471,4)
MOST DEFINITIVE SURG DATE (165.5,50)
"DATA",160.16,14,"FIELD",472,0)
771^8^778^RX Date--Surgical Disch
"DATA",160.16,14,"FIELD",472,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"))
"DATA",160.16,14,"FIELD",472,2)
BLANK
"DATA",160.16,14,"FIELD",472,3)
L,BLANK^3180
"DATA",160.16,14,"FIELD",472,4)
DATE OF SURGICAL DISCHARGE (165.5,435)
"DATA",160.16,14,"FIELD",473,0)
787^8^794^RX Date--Radiation Ended
"DATA",160.16,14,"FIELD",473,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"))
"DATA",160.16,14,"FIELD",473,2)
NINE
"DATA",160.16,14,"FIELD",473,3)
L,BLANK^3220
"DATA",160.16,14,"FIELD",473,4)
DATE RADIATION ENDED (165.5,361)
"DATA",160.16,14,"FIELD",474,0)
795^8^802^RX Date--Systemic
"DATA",160.16,14,"FIELD",474,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,152) S ACDANS=$E(ACDANS,1,2)_$E(ACDANS,4,5)_$E(ACDANS,7,10)
"DATA",160.16,14,"FIELD",474,2)
BLANK
"DATA",160.16,14,"FIELD",474,3)
L,BLANK^3230
"DATA",160.16,14,"FIELD",474,4)
DATE SYSTEMIC THERAPY STARTED (165.5,152)
"DATA",160.16,14,"FIELD",475,0)
1351^1^1351^Recurrence Distant Site 2
"DATA",160.16,14,"FIELD",475,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.2,"I")
"DATA",160.16,14,"FIELD",475,2)
BLANK
"DATA",160.16,14,"FIELD",475,3)
L,BLANK^1872
"DATA",160.16,14,"FIELD",475,4)
DISTANT SITE 2 (165.5,71.2)
"DATA",160.16,14,"FIELD",476,0)
1352^1^1352^Recurrence Distant Site 3
"DATA",160.16,14,"FIELD",476,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.3,"I")
"DATA",160.16,14,"FIELD",476,2)
BLANK
"DATA",160.16,14,"FIELD",476,3)
L,BLANK^1873
"DATA",160.16,14,"FIELD",476,4)
DISTANT SITE 3 (165.5,71.3)
"DATA",160.16,14,"FIELD",477,0)
871^1^871^RX Summ--Palliative Proc
"DATA",160.16,14,"FIELD",477,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,12,"I")
"DATA",160.16,14,"FIELD",477,2)
NINE
"DATA",160.16,14,"FIELD",477,3)
L,BLANK^3270
"DATA",160.16,14,"FIELD",477,4)
PALLIATIVE PROCEDURE (165.5,12)
"DATA",160.16,14,"FIELD",478,0)
872^1^872^Pain Assessment (item withdrawn by COC)
"DATA",160.16,14,"FIELD",478,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",478,2)
BLANK
"DATA",160.16,14,"FIELD",478,3)
L,BLANK
"DATA",160.16,14,"FIELD",479,0)
876^2^877^RX Summ--Transplnt/Endocr
"DATA",160.16,14,"FIELD",479,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,153,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(167,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",479,2)
BLANK
"DATA",160.16,14,"FIELD",479,3)
L,BLANK^3250
"DATA",160.16,14,"FIELD",479,4)
HEMA TRANS/ENDOCRINE PROC (165.5,153)
"DATA",160.16,14,"FIELD",480,0)
911^2^912^Rad--Boost RX Modality
"DATA",160.16,14,"FIELD",480,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",480,2)
ZERO
"DATA",160.16,14,"FIELD",480,3)
L,BLANK^3200
"DATA",160.16,14,"FIELD",480,4)
BOOST TREATMENT MODALITY (165.5,363.1)
"DATA",160.16,14,"FIELD",481,0)
913^5^917^Rad--Boost Dose cGy
"DATA",160.16,14,"FIELD",481,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,443,"I")
"DATA",160.16,14,"FIELD",481,2)
ZERO
"DATA",160.16,14,"FIELD",481,3)
L,ZERO^3210
"DATA",160.16,14,"FIELD",481,4)
BOOST DOSE: cGy (165.5,443)
"DATA",160.16,14,"FIELD",482,0)
938^1^938^Readm Same Hosp 30 Days
"DATA",160.16,14,"FIELD",482,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,14,"I")
"DATA",160.16,14,"FIELD",482,2)
BLANK
"DATA",160.16,14,"FIELD",482,3)
L,BLANK^3190
"DATA",160.16,14,"FIELD",482,4)
READMISSION W/I 30 DAYS/SURG (165.5,14)
"DATA",160.16,14,"FIELD",483,0)
1447^1^1447^Agent Orange Exposure
"DATA",160.16,14,"FIELD",483,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,48,"I"))
"DATA",160.16,14,"FIELD",483,2)
BLANK
"DATA",160.16,14,"FIELD",483,3)
L,BLANK^
"DATA",160.16,14,"FIELD",483,4)
AGENT ORANGE EXPOSURE (160,48)
"DATA",160.16,14,"FIELD",484,0)
1947^25^1971^Name--Last
"DATA",160.16,14,"FIELD",484,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.011,"E") D NL~ONCACDU1
"DATA",160.16,14,"FIELD",484,2)
BLANK
"DATA",160.16,14,"FIELD",484,3)
R,BLANK^2230
"DATA",160.16,14,"FIELD",484,4)
LAST  NAME (160,.011)
"DATA",160.16,14,"FIELD",485,0)
1972^14^1985^Name--First
"DATA",160.16,14,"FIELD",485,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.01,"E") S:ACDANS'="" ACDANS=$P($P(ACDANS,",",2)," ")
"DATA",160.16,14,"FIELD",485,2)
BLANK
"DATA",160.16,14,"FIELD",485,3)
R,BLANK^2240
"DATA",160.16,14,"FIELD",485,4)
NAME (160,.01)
"DATA",160.16,14,"FIELD",486,0)
1986^14^1999^Name--Middle
"DATA",160.16,14,"FIELD",486,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.015,"E")
"DATA",160.16,14,"FIELD",486,2)
BLANK
"DATA",160.16,14,"FIELD",486,3)
R,BLANK^2250
"DATA",160.16,14,"FIELD",486,4)
MIDDLE NAME (160,.015)
"DATA",160.16,14,"FIELD",487,0)
2000^3^2002^Name--Prefix
"DATA",160.16,14,"FIELD",487,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",487,2)
BLANK
"DATA",160.16,14,"FIELD",487,3)
R,BLANK^2260
"DATA",160.16,14,"FIELD",488,0)
2003^3^2005^Name--Suffix
"DATA",160.16,14,"FIELD",488,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.01,"E") S:ACDANS'="" ACDANS=$P(ACDANS," ",3)
"DATA",160.16,14,"FIELD",488,2)
BLANK
"DATA",160.16,14,"FIELD",488,3)
R,BLANK^2270
"DATA",160.16,14,"FIELD",488,4)
NAME (160,.01)
"DATA",160.16,14,"FIELD",489,0)
2006^15^2020^Name--Alias
"DATA",160.16,14,"FIELD",489,1)
S ACDANS=$$ALIAS~ONCACDU1(ACD160)
"DATA",160.16,14,"FIELD",489,2)
BLANK
"DATA",160.16,14,"FIELD",489,3)
R,BLANK^2280
"DATA",160.16,14,"FIELD",489,4)
ALIAS (2,1)
"DATA",160.16,14,"FIELD",490,0)
2021^15^2035^Name--Maiden
"DATA",160.16,14,"FIELD",490,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",490,2)
BLANK
"DATA",160.16,14,"FIELD",490,3)
R,BLANK^2390
"DATA",160.16,14,"FIELD",491,0)
2036^50^2085^Name--Spouse/Parent
"DATA",160.16,14,"FIELD",491,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",491,2)
BLANK
"DATA",160.16,14,"FIELD",491,3)
R,BLANK^2290
"DATA",160.16,14,"FIELD",492,0)
2086^11^2096^Medical Record Number
"DATA",160.16,14,"FIELD",492,1)
S ACDANS=$$GET1~DIQ(160,ACD160,2,"E"),ACDANS=$E(ACDANS,1,3)_$E(ACDANS,5,6)_$E(ACDANS,8,11)
"DATA",160.16,14,"FIELD",492,2)
BLANK
"DATA",160.16,14,"FIELD",492,3)
L,ZERO^2300
"DATA",160.16,14,"FIELD",492,4)
SSN (160,2)
"DATA",160.16,14,"FIELD",493,0)
2097^2^2098^Military Record No Suffix
"DATA",160.16,14,"FIELD",493,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",493,2)
BLANK
"DATA",160.16,14,"FIELD",493,3)
L,ZERO^2310
"DATA",160.16,14,"FIELD",494,0)
2099^9^2107^Social Security Number
"DATA",160.16,14,"FIELD",494,1)
S ACDANS=$P($$GET1~DIQ(160,ACD160,2,"E"),"-")_$P($$GET1~DIQ(160,ACD160,2,"E"),"-",2)_$P($$GET1~DIQ(160,ACD160,2,"E"),"-",3)
"DATA",160.16,14,"FIELD",494,2)
NINE
"DATA",160.16,14,"FIELD",494,3)
L,BLANK^2320
"DATA",160.16,14,"FIELD",494,4)
SSN (160,2)
"DATA",160.16,14,"FIELD",495,0)
2108^40^2147^Addr at DX--No & Street
"DATA",160.16,14,"FIELD",495,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,8,"E")
"DATA",160.16,14,"FIELD",495,2)
BLANK
"DATA",160.16,14,"FIELD",495,3)
R,BLANK^2330
"DATA",160.16,14,"FIELD",495,4)
PATIENT ADDRESS AT DX (165.5,8)
"DATA",160.16,14,"FIELD",496,0)
2148^40^2187^Addr at DX--Supplementl
"DATA",160.16,14,"FIELD",496,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,8.2,"E")
"DATA",160.16,14,"FIELD",496,2)
BLANK
"DATA",160.16,14,"FIELD",496,3)
R,BLANK^2335
"DATA",160.16,14,"FIELD",496,4)
PATIENT ADDRESS AT DX - SUPP (165.5,8.2)
"DATA",160.16,14,"FIELD",497,0)
2188^40^2227^Addr Current--No & Street
"DATA",160.16,14,"FIELD",497,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.119,"E")
"DATA",160.16,14,"FIELD",497,2)
BLANK
"DATA",160.16,14,"FIELD",497,3)
R,BLANK^2350
"DATA",160.16,14,"FIELD",497,4)
PATIENT ADDRESS - CURRENT (160,.119)
"DATA",160.16,14,"FIELD",498,0)
2228^40^2267^Addr Current--Supplementl
"DATA",160.16,14,"FIELD",498,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.1191,"E")
"DATA",160.16,14,"FIELD",498,2)
BLANK
"DATA",160.16,14,"FIELD",498,3)
R,BLANK^2355
"DATA",160.16,14,"FIELD",498,4)
PATIENT ADDRESS - CURRENT SUPP (160,.1191)
"DATA",160.16,14,"FIELD",499,0)
2268^10^2277^Telephone
"DATA",160.16,14,"FIELD",499,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.131,"E") I ACDANS'="" S ACDANS=$TR(ACDANS,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`~!@#$%&*()-_=+[{]}\|;:',<.>/? ","") I ACDANS'?10N S ACDANS=""
"DATA",160.16,14,"FIELD",499,2)
NINE
"DATA",160.16,14,"FIELD",499,3)
R,BLANK^2360
"DATA",160.16,14,"FIELD",499,4)
TELEPHONE (160,.131)
"DATA",160.16,14,"FIELD",500,0)
2278^6^2283^DC State File Number
"DATA",160.16,14,"FIELD",500,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",500,2)
BLANK
"DATA",160.16,14,"FIELD",500,3)
L,BLANK^2380
"DATA",160.16,14,"FIELD",501,0)
2284^30^2313^Follow-Up Contact--Name
"DATA",160.16,14,"FIELD",501,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",501,2)
BLANK
"DATA",160.16,14,"FIELD",501,3)
L,BLANK^2394
"DATA",160.16,14,"FIELD",502,0)
2314^40^2353^Follow-Up Contact--No&St
"DATA",160.16,14,"FIELD",502,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",502,2)
BLANK
"DATA",160.16,14,"FIELD",502,3)
L,BLANK^2392
"DATA",160.16,14,"FIELD",503,0)
2354^40^2393^Follow-Up Contact--Suppl
"DATA",160.16,14,"FIELD",503,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",503,2)
BLANK
"DATA",160.16,14,"FIELD",503,3)
L,BLANK^2393
"DATA",160.16,14,"FIELD",504,0)
2394^10^2403^Latitude
"DATA",160.16,14,"FIELD",504,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",504,2)
BLANK
"DATA",160.16,14,"FIELD",504,3)
L,BLANK^2352
"DATA",160.16,14,"FIELD",505,0)
2404^11^2414^Longitude
"DATA",160.16,14,"FIELD",505,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",505,2)
BLANK
"DATA",160.16,14,"FIELD",505,3)
L,BLANK^2354
"DATA",160.16,14,"FIELD",506,0)
2415^50^2464^Reserved 10
"DATA",160.16,14,"FIELD",506,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",506,2)
BLANK
"DATA",160.16,14,"FIELD",506,3)
L,BLANK^1835
"DATA",160.16,14,"FIELD",507,0)
2465^10^2474^Reserved 40
"DATA",160.16,14,"FIELD",507,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",507,2)
BLANK
"DATA",160.16,14,"FIELD",507,3)
L,BLANK^2435
"DATA",160.16,14,"FIELD",507,4)

"DATA",160.16,14,"FIELD",508,0)
2475^10^2484^Following Registry
"DATA",160.16,14,"FIELD",508,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,10) S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",508,2)
ZERO
"DATA",160.16,14,"FIELD",508,3)
L,ZERO^2440
"DATA",160.16,14,"FIELD",508,4)
FOLLOWING REGISTRY (160.04,10)
"DATA",160.16,14,"FIELD",509,0)
2485^10^2494^Institution Referred From
"DATA",160.16,14,"FIELD",509,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,6,"I") I ACDANS'="" S ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") S ACDANS=$S(+ACDANS=0:ACDANS,1:ACDANS)
"DATA",160.16,14,"FIELD",509,2)
ZERO
"DATA",160.16,14,"FIELD",509,3)
L,ZERO^2410
"DATA",160.16,14,"FIELD",509,4)
FACILITY REFERRED FROM (165.5,6)
"DATA",160.16,14,"FIELD",510,0)
2495^10^2504^Institution Referred To
"DATA",160.16,14,"FIELD",510,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,7,"I") I ACDANS'="" S ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") S ACDANS=$S(+ACDANS=0:ACDANS,1:ACDANS)
"DATA",160.16,14,"FIELD",510,2)
ZERO
"DATA",160.16,14,"FIELD",510,3)
L,ZERO^2420
"DATA",160.16,14,"FIELD",510,4)
FACILITY REFERRED TO (165.5,7)
"DATA",160.16,14,"FIELD",511,0)
2505^10^2514^NPI--Inst Referred From
"DATA",160.16,14,"FIELD",511,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",511,2)
BLANK
"DATA",160.16,14,"FIELD",511,3)
L,BLANK^2415
"DATA",160.16,14,"FIELD",512,0)
2555^8^2562^Physician--Managing
"DATA",160.16,14,"FIELD",512,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.2,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,14,"FIELD",512,2)
NINE
"DATA",160.16,14,"FIELD",512,3)
R,BLANK^2460
"DATA",160.16,14,"FIELD",512,4)
MANAGING PHYSICIAN (165.5,2.2)
"DATA",160.16,14,"FIELD",513,0)
2563^8^2570^Physician--Follow-Up
"DATA",160.16,14,"FIELD",513,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.1,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,14,"FIELD",513,2)
NINE
"DATA",160.16,14,"FIELD",513,3)
R,BLANK^2470
"DATA",160.16,14,"FIELD",513,4)
FOLLOWING PHYSICIAN (165.5,2.1)
"DATA",160.16,14,"FIELD",514,0)
2571^8^2578^Physician--Primary Surg
"DATA",160.16,14,"FIELD",514,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,14,"FIELD",514,2)
ZERO
"DATA",160.16,14,"FIELD",514,3)
R,BLANK^2480
"DATA",160.16,14,"FIELD",514,4)
PRIMARY SURGEON (165.5,2)
"DATA",160.16,14,"FIELD",515,0)
2579^8^2586^Physician 3
"DATA",160.16,14,"FIELD",515,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.3,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,14,"FIELD",515,2)
ZERO
"DATA",160.16,14,"FIELD",515,3)
R,BLANK^2490
"DATA",160.16,14,"FIELD",515,4)
PHYSICIAN #3 (165.5,2.3)
"DATA",160.16,14,"FIELD",516,0)
2587^8^2594^Physician 4
"DATA",160.16,14,"FIELD",516,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.4,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,14,"FIELD",516,2)
ZERO
"DATA",160.16,14,"FIELD",516,3)
R,BLANK^2500
"DATA",160.16,14,"FIELD",516,4)
PHYSICIAN #4 (165.5,2.4)
"DATA",160.16,14,"FIELD",517,0)
2595^10^2604^NPI--Physician--Managing
"DATA",160.16,14,"FIELD",517,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",517,2)
BLANK
"DATA",160.16,14,"FIELD",517,3)
L,BLANK^2465
"DATA",160.16,14,"FIELD",518,0)
2645^200^2844^Text--DX Proc--PE
"DATA",160.16,14,"FIELD",518,1)
S ACDANS=$$WORD~ONCACDU2(IEN,10,200)
"DATA",160.16,14,"FIELD",518,2)
BLANK
"DATA",160.16,14,"FIELD",518,3)
R,BLANK^2520
"DATA",160.16,14,"FIELD",518,4)
TEXT-DX PROC-PE (165.5,104)
"DATA",160.16,14,"FIELD",519,0)
2845^250^3094^Text--DX Proc--X-ray/Scan
"DATA",160.16,14,"FIELD",519,1)
S ACDANS=$$WORD~ONCACDU2(IEN,11,250)
"DATA",160.16,14,"FIELD",519,2)
BLANK
"DATA",160.16,14,"FIELD",519,3)
R,BLANK^2530
"DATA",160.16,14,"FIELD",519,4)
TEXT-DX PROC-X-RAY/SCAN (165.5,105)
"DATA",160.16,14,"FIELD",520,0)
3095^250^3344^Text--DX Proc--Scopes
"DATA",160.16,14,"FIELD",520,1)
S ACDANS=$$WORD~ONCACDU2(IEN,12,250)
"DATA",160.16,14,"FIELD",520,2)
BLANK
"DATA",160.16,14,"FIELD",520,3)
R,BLANK^2540
"DATA",160.16,14,"FIELD",520,4)
TEXT-DX PROC-SCOPES (165.5,106)
"DATA",160.16,14,"FIELD",521,0)
3345^250^3594^Text--DX Proc--Lab Tests
"DATA",160.16,14,"FIELD",521,1)
S ACDANS=$$WORD~ONCACDU2(IEN,22,250)
"DATA",160.16,14,"FIELD",521,2)
BLANK
"DATA",160.16,14,"FIELD",521,3)
R,BLANK^2550
"DATA",160.16,14,"FIELD",521,4)
TEXT-DX PROC-LAB TESTS (165.5,116)
"DATA",160.16,14,"FIELD",522,0)
3595^250^3844^Text--DX Proc--Op
"DATA",160.16,14,"FIELD",522,1)
S ACDANS=$$WORD~ONCACDU2(IEN,9,250)
"DATA",160.16,14,"FIELD",522,2)
BLANK
"DATA",160.16,14,"FIELD",522,3)
R,BLANK^2560
"DATA",160.16,14,"FIELD",522,4)
TEXT-DX PROC-OP (165.5,103)
"DATA",160.16,14,"FIELD",523,0)
3845^250^4094^Text--DX Proc--Path
"DATA",160.16,14,"FIELD",523,1)
S ACDANS=$$WORD~ONCACDU2(IEN,13,250)
"DATA",160.16,14,"FIELD",523,2)
BLANK
"DATA",160.16,14,"FIELD",523,3)
R,BLANK^2570
"DATA",160.16,14,"FIELD",523,4)
TEXT-DX PROC-PATH (165.5,107)
"DATA",160.16,14,"FIELD",524,0)
4095^40^4134^Text--Primary Site Title
"DATA",160.16,14,"FIELD",524,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,100,"E")
"DATA",160.16,14,"FIELD",524,2)
BLANK
"DATA",160.16,14,"FIELD",524,3)
R,BLANK^2580
"DATA",160.16,14,"FIELD",524,4)
TEXT-PRIMARY SITE TITLE (165.5,100)
"DATA",160.16,14,"FIELD",525,0)
4135^40^4174^Text--Histology Title
"DATA",160.16,14,"FIELD",525,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,101,"E")
"DATA",160.16,14,"FIELD",525,2)
BLANK
"DATA",160.16,14,"FIELD",525,3)
R,BLANK^2590
"DATA",160.16,14,"FIELD",525,4)
TEXT-HISTOLOGY TITLE (165.5,101)
"DATA",160.16,14,"FIELD",526,0)
4175^300^4474^Text--Staging
"DATA",160.16,14,"FIELD",526,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",526,2)
BLANK
"DATA",160.16,14,"FIELD",526,3)
R,BLANK^2600
"DATA",160.16,14,"FIELD",527,0)
4475^150^4624^RX Text--Surgery
"DATA",160.16,14,"FIELD",527,1)
S ACDANS=$$WORD~ONCACDU2(IEN,14,150)
"DATA",160.16,14,"FIELD",527,2)
BLANK
"DATA",160.16,14,"FIELD",527,3)
R,BLANK^2610
"DATA",160.16,14,"FIELD",527,4)
RX TEXT-SURGERY (165.5,108)
"DATA",160.16,14,"FIELD",528,0)
4625^150^4774^RX Text--Radiation (Beam)
"DATA",160.16,14,"FIELD",528,1)
S ACDANS=$$WORD~ONCACDU2(IEN,15,150)
"DATA",160.16,14,"FIELD",528,2)
BLANK
"DATA",160.16,14,"FIELD",528,3)
R,BLANK^2620
"DATA",160.16,14,"FIELD",528,4)
RX TEXT-RADIATION (165.5,109)
"DATA",160.16,14,"FIELD",529,0)
4775^150^4924^RX Text--Radiation Other
"DATA",160.16,14,"FIELD",529,1)
S ACDANS=$$WORD~ONCACDU2(IEN,16,150)
"DATA",160.16,14,"FIELD",529,2)
BLANK
"DATA",160.16,14,"FIELD",529,3)
R,BLANK^2630
"DATA",160.16,14,"FIELD",529,4)
RX TEXT-RADIATION OTHER (165.5,110)
"DATA",160.16,14,"FIELD",530,0)
4925^200^5124^RX Text--Chemo
"DATA",160.16,14,"FIELD",530,1)
S ACDANS=$$WORD~ONCACDU2(IEN,17,200)
"DATA",160.16,14,"FIELD",530,2)
BLANK
"DATA",160.16,14,"FIELD",530,3)
R,BLANK^2640
"DATA",160.16,14,"FIELD",530,4)
RX TEXT-CHEMO (165.5,111)
"DATA",160.16,14,"FIELD",531,0)
5125^200^5324^RX Text--Hormone
"DATA",160.16,14,"FIELD",531,1)
S ACDANS=$$WORD~ONCACDU2(IEN,18,200)
"DATA",160.16,14,"FIELD",531,2)
BLANK
"DATA",160.16,14,"FIELD",531,3)
R,BLANK^2650
"DATA",160.16,14,"FIELD",531,4)
RX TEXT-HORMONE (165.5,112)
"DATA",160.16,14,"FIELD",532,0)
5325^100^5424^RX Text--BRM
"DATA",160.16,14,"FIELD",532,1)
S ACDANS=$$WORD~ONCACDU2(IEN,20,100)
"DATA",160.16,14,"FIELD",532,2)
BLANK
"DATA",160.16,14,"FIELD",532,3)
R,BLANK^2660
"DATA",160.16,14,"FIELD",532,4)
RX TEXT-BRM (165.5,114)
"DATA",160.16,14,"FIELD",533,0)
5425^100^5524^RX Text--Other
"DATA",160.16,14,"FIELD",533,1)
S ACDANS=$$WORD~ONCACDU2(IEN,21,100)
"DATA",160.16,14,"FIELD",533,2)
BLANK
"DATA",160.16,14,"FIELD",533,3)
R,BLANK^2670
"DATA",160.16,14,"FIELD",533,4)
RX TEXT-OTHER (165.5,115)
"DATA",160.16,14,"FIELD",534,0)
5525^350^5874^Text--Remarks
"DATA",160.16,14,"FIELD",534,1)
S ACDANS=$$WORD~ONCACDU2(IEN,19,350)
"DATA",160.16,14,"FIELD",534,2)
BLANK
"DATA",160.16,14,"FIELD",534,3)
R,BLANK^2680
"DATA",160.16,14,"FIELD",534,4)
TEXT-REMARKS (165.5,113)
"DATA",160.16,14,"FIELD",535,0)
5875^50^5924^Place of Diagnosis
"DATA",160.16,14,"FIELD",535,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,5,"E")
"DATA",160.16,14,"FIELD",535,2)
BLANK
"DATA",160.16,14,"FIELD",535,3)
R,BLANK^2690
"DATA",160.16,14,"FIELD",535,4)
DX FACILITY (165.5,5)
"DATA",160.16,14,"FIELD",536,0)
5925^385^6309^Reserved 19 (part one)
"DATA",160.16,14,"FIELD",536,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",536,2)
BLANK
"DATA",160.16,14,"FIELD",536,3)
L,BLANK^2700
"DATA",160.16,14,"FIELD",537,0)
1448^1^1448^Ionizing Radiation Exposure
"DATA",160.16,14,"FIELD",537,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,50,"I"))
"DATA",160.16,14,"FIELD",537,2)
BLANK
"DATA",160.16,14,"FIELD",537,3)
L,BLANK
"DATA",160.16,14,"FIELD",537,4)
IONIZING RADIATION EXPOSURE (160,50)
"DATA",160.16,14,"FIELD",538,0)
1449^1^1449^Persian Gulf Service
"DATA",160.16,14,"FIELD",538,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,51,"I"))
"DATA",160.16,14,"FIELD",538,2)
BLANK
"DATA",160.16,14,"FIELD",538,3)
L,BLANK
"DATA",160.16,14,"FIELD",538,4)
PERSIAN GULF SERVICE (160,51)
"DATA",160.16,14,"FIELD",539,0)
1450^1^1450^Chemical Exposure
"DATA",160.16,14,"FIELD",539,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,52,"I"))
"DATA",160.16,14,"FIELD",539,2)
BLANK
"DATA",160.16,14,"FIELD",539,3)
L,BLANK
"DATA",160.16,14,"FIELD",539,4)
CHEMICAL EXPOSURE (160,52)
"DATA",160.16,14,"FIELD",540,0)
1451^1^1451^Asbestos Exposure
"DATA",160.16,14,"FIELD",540,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,61,"I"))
"DATA",160.16,14,"FIELD",540,2)
BLANK
"DATA",160.16,14,"FIELD",540,3)
L,BLANK
"DATA",160.16,14,"FIELD",540,4)
ASBESTOS EXPOSURE (160,61)
"DATA",160.16,14,"FIELD",541,0)
1452^2^1453^VISN
"DATA",160.16,14,"FIELD",541,1)
S ACDANS=$$VASIT~ONCACDU2
"DATA",160.16,14,"FIELD",541,2)
BLANK
"DATA",160.16,14,"FIELD",541,3)
L,ZERO
"DATA",160.16,14,"FIELD",541,4)
VISN (160.1,7)
"DATA",160.16,14,"FIELD",542,0)
1454^2^1455^Reserved for DOD usage
"DATA",160.16,14,"FIELD",542,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",542,2)
BLANK
"DATA",160.16,14,"FIELD",542,3)
L,BLANK
"DATA",160.16,14,"FIELD",543,0)
1456^50^1505^Family History of Cancer Text
"DATA",160.16,14,"FIELD",543,1)
D FHCT~ONCACDU1
"DATA",160.16,14,"FIELD",543,2)
BLANK
"DATA",160.16,14,"FIELD",543,3)
R,BLANK
"DATA",160.16,14,"FIELD",543,4)
FAMILY MEMBER WITH CANCER (160,44)
"DATA",160.16,14,"FIELD",544,0)
1513^15^1527^Other Staging System
"DATA",160.16,14,"FIELD",544,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,39,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.3,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",544,2)
BLANK
"DATA",160.16,14,"FIELD",544,3)
L,BLANK^1070
"DATA",160.16,14,"FIELD",544,4)
OTHER STAGING SYSTEM (165.5,39)
"DATA",160.16,14,"FIELD",545,0)
1784^1^1784^AFIP Submission
"DATA",160.16,14,"FIELD",545,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,83,"I")
"DATA",160.16,14,"FIELD",545,2)
BLANK
"DATA",160.16,14,"FIELD",545,3)
L,BLANK
"DATA",160.16,14,"FIELD",545,4)
AFIP SUBMISSION (165.5,83)
"DATA",160.16,14,"FIELD",546,0)
1785^20^1804^Previous History of Cancer Text
"DATA",160.16,14,"FIELD",546,1)
D PHCT~ONCACDU1
"DATA",160.16,14,"FIELD",546,2)
BLANK
"DATA",160.16,14,"FIELD",546,3)
R,BLANK
"DATA",160.16,14,"FIELD",546,4)
CANCER #1 (165.5,148.1), CANCER #2 (165.5,148.2), CANCER #3 (165.5,148.3), CANCER #4 (165.5,148.4)
"DATA",160.16,14,"FIELD",547,0)
1805^1^1805^Reserved for Expansion
"DATA",160.16,14,"FIELD",547,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",547,2)
BLANK
"DATA",160.16,14,"FIELD",547,3)
L,BLANK
"DATA",160.16,14,"FIELD",548,0)
1806^1^1806^Previous History of Cancer
"DATA",160.16,14,"FIELD",548,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,148,"I")
"DATA",160.16,14,"FIELD",548,2)
BLANK
"DATA",160.16,14,"FIELD",548,3)
L,BLANK
"DATA",160.16,14,"FIELD",548,4)
PREVIOUS HISTORY OF CANCER (165.5,148)
"DATA",160.16,14,"FIELD",549,0)
1807^1^1807^Somalia Service
"DATA",160.16,14,"FIELD",549,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,56,"I"))
"DATA",160.16,14,"FIELD",549,2)
BLANK
"DATA",160.16,14,"FIELD",549,3)
L,BLANK
"DATA",160.16,14,"FIELD",549,4)
SOMALIA SERVICE (160,56)
"DATA",160.16,14,"FIELD",550,0)
1808^1^1808^Middle East Service
"DATA",160.16,14,"FIELD",550,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,55,"I"))
"DATA",160.16,14,"FIELD",550,2)
BLANK
"DATA",160.16,14,"FIELD",550,3)
L,BLANK
"DATA",160.16,14,"FIELD",550,4)
MIDDLE EAST SERVICE (160,55)
"DATA",160.16,14,"FIELD",551,0)
1809^1^1809^Hepatitis C
"DATA",160.16,14,"FIELD",551,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1010,"I")
"DATA",160.16,14,"FIELD",551,2)
BLANK
"DATA",160.16,14,"FIELD",551,3)
L,BLANK
"DATA",160.16,14,"FIELD",551,4)
HEPATITIS C (165.5,1010)
"DATA",160.16,14,"FIELD",552,0)
1810^137^1946^Reserved for Expansion
"DATA",160.16,14,"FIELD",552,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",552,2)
BLANK
"DATA",160.16,14,"FIELD",552,3)
L,BLANK
"DATA",160.16,14,"FIELD",553,0)
480^1^480^RX Hosp--Scope Reg 98-02
"DATA",160.16,14,"FIELD",553,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138.1,"SC5")
"DATA",160.16,14,"FIELD",553,2)
BLANK
"DATA",160.16,14,"FIELD",553,3)
L,BLANK^747
"DATA",160.16,14,"FIELD",553,4)
SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"DATA",160.16,14,"FIELD",554,0)
481^1^481^RX Hosp--Surg Oth 98-02
"DATA",160.16,14,"FIELD",554,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139.1,"SO5")
"DATA",160.16,14,"FIELD",554,2)
BLANK
"DATA",160.16,14,"FIELD",554,3)
L,BLANK^748
"DATA",160.16,14,"FIELD",554,4)
SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"DATA",160.16,14,"FIELD",555,0)
482^46^527^Reserved 04
"DATA",160.16,14,"FIELD",555,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",555,2)
BLANK
"DATA",160.16,14,"FIELD",555,3)
L,BLANK^750
"DATA",160.16,14,"FIELD",556,0)
939^2^940^RX Summ--Surg Site 98-02
"DATA",160.16,14,"FIELD",556,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.2,"SPS")
"DATA",160.16,14,"FIELD",556,2)
BLANK
"DATA",160.16,14,"FIELD",556,3)
L,ZERO^1646
"DATA",160.16,14,"FIELD",556,4)
SURGERY OF PRIMARY (R) (165.5,58.2)
"DATA",160.16,14,"FIELD",557,0)
941^1^941^RX Summ--Scope Reg 98-02
"DATA",160.16,14,"FIELD",557,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138,"SC5")
"DATA",160.16,14,"FIELD",557,2)
NINE
"DATA",160.16,14,"FIELD",557,3)
L,BLANK^1647
"DATA",160.16,14,"FIELD",557,4)
SCOPE OF LN SURGERY (R) (165.5,138)
"DATA",160.16,14,"FIELD",558,0)
942^1^942^RX Summ--Surg Oth 98-02
"DATA",160.16,14,"FIELD",558,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139,"SO5")
"DATA",160.16,14,"FIELD",558,2)
NINE
"DATA",160.16,14,"FIELD",558,3)
L,NINE^1648
"DATA",160.16,14,"FIELD",558,4)
SURG PROC/OTHER SITE (R) (165.5,139)
"DATA",160.16,14,"FIELD",559,0)
705^6^710^CS Version 1st
"DATA",160.16,14,"FIELD",559,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,14,"FIELD",559,2)
BLANK
"DATA",160.16,14,"FIELD",559,3)
L,BLANK^2935
"DATA",160.16,14,"FIELD",559,4)
CS VERSION (165.5,169)
"DATA",160.16,14,"FIELD",560,0)
711^6^716^CS Version Latest
"DATA",160.16,14,"FIELD",560,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,14,"FIELD",560,2)
BLANK
"DATA",160.16,14,"FIELD",560,3)
L,BLANK^2936
"DATA",160.16,14,"FIELD",560,4)
CS VERSION (165.5,169)
"DATA",160.16,14,"FIELD",561,0)
6310^385^6694^Reserved 19 (part two)
"DATA",160.16,14,"FIELD",561,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",561,2)
BLANK
"DATA",160.16,14,"FIELD",561,3)
L,BLANK^2700
"DATA",160.16,14,"FIELD",562,0)
722^5^726^Comorbid/Complication 8
"DATA",160.16,14,"FIELD",562,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",562,2)
BLANK
"DATA",160.16,14,"FIELD",562,3)
R,ZERO^3162
"DATA",160.16,14,"FIELD",562,4)
COMORBIDITY/COMPLICATION #8 (160,25.7)
"DATA",160.16,14,"FIELD",563,0)
727^5^731^Comorbid/Complication 9
"DATA",160.16,14,"FIELD",563,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.8,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",563,2)
BLANK
"DATA",160.16,14,"FIELD",563,3)
R,ZERO^3163
"DATA",160.16,14,"FIELD",563,4)
COMORBIDITY/COMPLICATION #9 (160,25.8)
"DATA",160.16,14,"FIELD",564,0)
732^5^736^Comorbid/Complication 10
"DATA",160.16,14,"FIELD",564,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.9,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,14,"FIELD",564,2)
BLANK
"DATA",160.16,14,"FIELD",564,3)
R,ZERO^3164
"DATA",160.16,14,"FIELD",564,4)
COMORBIDITY/COMPLICATION #10 (160,25.9)
"DATA",160.16,14,"FIELD",565,0)
737^1^737^ICD Revision Comorbid
"DATA",160.16,14,"FIELD",565,1)
D CC~ONCACDU1 S CC1=CCEX(1) S ACDANS=$S(CC1="":0,1:9)
"DATA",160.16,14,"FIELD",565,2)
BLANK
"DATA",160.16,14,"FIELD",565,3)
L,BLANK^3165
"DATA",160.16,14,"FIELD",565,4)
0 = No secondary diagnosis reported.  9 = ICD-9.
"DATA",160.16,14,"FIELD",566,0)
738^17^754^Reserved 05
"DATA",160.16,14,"FIELD",566,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",566,2)
BLANK
"DATA",160.16,14,"FIELD",566,3)
L,BLANK^1180
"DATA",160.16,14,"FIELD",567,0)
32^8^39^Patient System ID-Hosp
"DATA",160.16,14,"FIELD",567,1)
S ACDANS=ACD160
"DATA",160.16,14,"FIELD",567,2)
BLANK
"DATA",160.16,14,"FIELD",567,3)
L,ZERO^21
"DATA",160.16,14,"FIELD",567,4)
ONCOLOGY PATIENT file IEN
"DATA",160.16,14,"FIELD",568,0)
231^1^231^NHIA Derived Hisp Origin
"DATA",160.16,14,"FIELD",568,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",568,2)
BLANK
"DATA",160.16,14,"FIELD",568,3)
L,BLANK^191
"DATA",160.16,14,"FIELD",568,4)
Blank = Algorithm has not been run
"DATA",160.16,14,"FIELD",569,0)
232^1^232^IHS Link
"DATA",160.16,14,"FIELD",569,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",569,2)
BLANK
"DATA",160.16,14,"FIELD",569,3)
L,BLANK^192
"DATA",160.16,14,"FIELD",569,4)
Blank = Record not sent for linkage or linkage result pending
"DATA",160.16,14,"FIELD",570,0)
233^2^234^GIS Coordinate Quality
"DATA",160.16,14,"FIELD",570,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",570,2)
BLANK
"DATA",160.16,14,"FIELD",570,3)
L,BLANK^366
"DATA",160.16,14,"FIELD",570,4)
Blank = Not applicable, coordinate assignment not attempted
"DATA",160.16,14,"FIELD",571,0)
322^2^323^Casefinding Source
"DATA",160.16,14,"FIELD",571,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,21,"I")
"DATA",160.16,14,"FIELD",571,2)
NINE
"DATA",160.16,14,"FIELD",571,3)
L,BLANK^501
"DATA",160.16,14,"FIELD",571,4)
CASEFINDING SOURCE (165.5,21)
"DATA",160.16,14,"FIELD",572,0)
324^1^324^Ambiguous Terminology DX
"DATA",160.16,14,"FIELD",572,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,159,"I")
"DATA",160.16,14,"FIELD",572,2)
BLANK
"DATA",160.16,14,"FIELD",572,3)
L,BLANK^442
"DATA",160.16,14,"FIELD",572,4)
AMBIGUOUS TERMINOLOGY (165.5,159)
"DATA",160.16,14,"FIELD",573,0)
325^8^332^Date of Conclusive DX
"DATA",160.16,14,"FIELD",573,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"))
"DATA",160.16,14,"FIELD",573,2)
BLANK
"DATA",160.16,14,"FIELD",573,3)
L,BLANK^443
"DATA",160.16,14,"FIELD",573,4)
DATE OF CONCLUSIVE DX (165.5,193)
"DATA",160.16,14,"FIELD",574,0)
333^2^334^Mult Tum Rpt as One Prim
"DATA",160.16,14,"FIELD",574,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,194,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(169,ACDANS,.01,"I")
"DATA",160.16,14,"FIELD",574,2)
BLANK
"DATA",160.16,14,"FIELD",574,3)
L,BLANK^444
"DATA",160.16,14,"FIELD",574,4)
MULT TUM RPT AS ONE PRIM (165.5,194)
"DATA",160.16,14,"FIELD",575,0)
335^8^342^Date of Multiple Tumors
"DATA",160.16,14,"FIELD",575,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"))
"DATA",160.16,14,"FIELD",575,2)
BLANK
"DATA",160.16,14,"FIELD",575,3)
L,BLANK^445
"DATA",160.16,14,"FIELD",575,4)
DATE OF MULTIPLE TUMORS (165.5,195)
"DATA",160.16,14,"FIELD",576,0)
343^2^344^Multiplicity Counter
"DATA",160.16,14,"FIELD",576,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,196,"I")
"DATA",160.16,14,"FIELD",576,2)
BLANK
"DATA",160.16,14,"FIELD",576,3)
L,BLANK^446
"DATA",160.16,14,"FIELD",576,4)
MULTIPLICITY COUNTER (165.5,196)
"DATA",160.16,14,"FIELD",577,0)
345^2^346^Number of Tumors/Hist
"DATA",160.16,14,"FIELD",577,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",577,2)
BLANK
"DATA",160.16,14,"FIELD",577,3)
L,BLANK^447
"DATA",160.16,14,"FIELD",577,4)
This item is for future use in 2007.
"DATA",160.16,14,"FIELD",578,0)
1506^4^1509^Year First Seen This CA
"DATA",160.16,14,"FIELD",578,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.07,"I")
"DATA",160.16,14,"FIELD",578,2)
BLANK
"DATA",160.16,14,"FIELD",578,3)
L,ZERO^620
"DATA",160.16,14,"FIELD",578,4)
ACCESSION YEAR (165.5,.07)
"DATA",160.16,14,"FIELD",579,0)
1510^1^1510^Protocol Eligibility Stat
"DATA",160.16,14,"FIELD",579,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,346,"I")
"DATA",160.16,14,"FIELD",579,2)
BLANK
"DATA",160.16,14,"FIELD",579,3)
L,BLANK^1470
"DATA",160.16,14,"FIELD",579,4)
PROTOCOL ELIGIBILITY STATUS (165.5,346)
"DATA",160.16,14,"FIELD",580,0)
1511^2^1512^Protocol Participation
"DATA",160.16,14,"FIELD",580,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,560,"I")
"DATA",160.16,14,"FIELD",580,2)
BLANK
"DATA",160.16,14,"FIELD",580,3)
L,BLANK^1480
"DATA",160.16,14,"FIELD",580,4)
PROTOCOL PARTICIPATION (165.5,560)
"DATA",160.16,14,"FIELD",581,0)
890^4^893^Reserved 33
"DATA",160.16,14,"FIELD",581,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",581,2)
BLANK
"DATA",160.16,14,"FIELD",581,3)
L,BLANK^1465
"DATA",160.16,14,"FIELD",582,0)
1397^2^1398^Follow-up Source Central
"DATA",160.16,14,"FIELD",582,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",582,2)
BLANK
"DATA",160.16,14,"FIELD",582,3)
L,BLANK^1791
"DATA",160.16,14,"FIELD",582,4)
This field is created by the central registry.
"DATA",160.16,14,"FIELD",583,0)
1528^256^1783^Reserved for expansion
"DATA",160.16,14,"FIELD",583,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",583,2)
BLANK
"DATA",160.16,14,"FIELD",583,3)
L,BLANK
"DATA",160.16,14,"FIELD",584,0)
50^2^51^Reserved 01
"DATA",160.16,14,"FIELD",584,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",584,2)
BLANK
"DATA",160.16,14,"FIELD",584,3)
L,BLANK^370
"DATA",160.16,14,"FIELD",585,0)
2515^10^2524^NPI--Inst Referred To
"DATA",160.16,14,"FIELD",585,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",585,2)
BLANK
"DATA",160.16,14,"FIELD",585,3)
L,BLANK^2425
"DATA",160.16,14,"FIELD",586,0)
2525^10^2534^NPI--Following Registry
"DATA",160.16,14,"FIELD",586,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",586,2)
BLANK
"DATA",160.16,14,"FIELD",586,3)
L,BLANK^2445
"DATA",160.16,14,"FIELD",587,0)
2535^20^2554^Reserved 11
"DATA",160.16,14,"FIELD",587,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",587,2)
BLANK
"DATA",160.16,14,"FIELD",587,3)
L,BLANK^1900
"DATA",160.16,14,"FIELD",588,0)
2605^10^2614^NPI--Physician--Follow-Up
"DATA",160.16,14,"FIELD",588,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",588,2)
BLANK
"DATA",160.16,14,"FIELD",588,3)
L,BLANK^2475
"DATA",160.16,14,"FIELD",589,0)
2615^10^2624^NPI--Physician--Primary Surg
"DATA",160.16,14,"FIELD",589,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",589,2)
BLANK
"DATA",160.16,14,"FIELD",589,3)
L,BLANK^2485
"DATA",160.16,14,"FIELD",590,0)
2625^10^2634^NPI--Physician 3
"DATA",160.16,14,"FIELD",590,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",590,2)
BLANK
"DATA",160.16,14,"FIELD",590,3)
L,BLANK^2495
"DATA",160.16,14,"FIELD",591,0)
2635^10^2644^NPI--Physician 4
"DATA",160.16,14,"FIELD",591,1)
S ACDANS=""
"DATA",160.16,14,"FIELD",591,2)
BLANK
"DATA",160.16,14,"FIELD",591,3)
L,BLANK^2505
"DATA",160.16,14,"RULES",0)
^160.162^10^10^3070409^^^^
"DATA",160.16,14,"RULES",1,0)
S VALID=1
"DATA",160.16,14,"RULES",2,0)
S DATEDX=$$GET1^DIQ(165.5,IEN,3,"I")
"DATA",160.16,14,"RULES",3,0)
S SCREEN="^"_$$GET1^DIQ(165.5,IEN,.04,"I")_"^"
"DATA",160.16,14,"RULES",4,0)
I DATEDX<3000000,"^0^1^2^6^"'[SCREEN S VALID=0
"DATA",160.16,14,"RULES",5,0)
I DATEDX>2991231,"^0^1^2^"'[SCREEN S VALID=0
"DATA",160.16,14,"RULES",6,0)
I $$GET1^DIQ(165.5,IEN,91,"I")<3 S VALID=0
"DATA",160.16,14,"RULES",7,0)
S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"DATA",160.16,14,"RULES",8,0)
S:VALID VALID=$S($E(TPG,3,4)=71:1,$E(TPG,3,4)=72:1,$E(TPG,3,5)=751:1,$E(TPG,3,5)=753:1,$$BEHAV^ONCACDU1(IEN)=2:1,$$BEHAV^ONCACDU1(IEN)=3:1,1:0)
"DATA",160.16,14,"RULES",9,0)
S JUMP=0
"DATA",160.16,14,"RULES",10,0)
K SCREEN
"DATA",160.2,9,0)
10% QA REPORT-3A^1^Y
"DATA",160.2,9,1,0)
^^59^59^3070411^
"DATA",160.2,9,1,1,0)
|NOWRAP|
"DATA",160.2,9,1,2,0)
                           QA REGISTRY ABSTRACTS
"DATA",160.2,9,1,3,0)
 
"DATA",160.2,9,1,4,0)
  
"DATA",160.2,9,1,5,0)
Patient: XXXXX,XXXXX                             SSN: XXX-XX-XXXX
"DATA",160.2,9,1,6,0)
 
"DATA",160.2,9,1,7,0)
          Directions: Check the appropriate column.  If a field is
"DATA",160.2,9,1,8,0)
          incorrect make the correction in the "CHANGED TO" column.
"DATA",160.2,9,1,9,0)
 
"DATA",160.2,9,1,10,0)
 
"DATA",160.2,9,1,11,0)
Reviewer's Signature ________________________________________________
"DATA",160.2,9,1,12,0)
 
"DATA",160.2,9,1,13,0)
 
"DATA",160.2,9,1,14,0)
CANCER IDENTIFICATION:              CORRECT     INCORRECT        CHANGED TO
"DATA",160.2,9,1,15,0)
======================             =========    =========    ==================
"DATA",160.2,9,1,16,0)
 
"DATA",160.2,9,1,17,0)
Date DX                            _________    _________    __________________
"DATA",160.2,9,1,18,0)
Class of Case                      _________    _________    __________________
"DATA",160.2,9,1,19,0)
Histology                          _________    _________    __________________
"DATA",160.2,9,1,20,0)
Grade                              _________    _________    __________________
"DATA",160.2,9,1,21,0)
Site                               _________    _________    __________________
"DATA",160.2,9,1,22,0)
Laterality                         _________    _________    __________________
"DATA",160.2,9,1,23,0)
Dx Confirmation                    _________    _________    __________________
"DATA",160.2,9,1,24,0)
 
"DATA",160.2,9,1,25,0)
 
"DATA",160.2,9,1,26,0)
STAGE OF DISEASE AT DX:     N/A     CORRECT     INCORRECT        CHANGED TO
"DATA",160.2,9,1,27,0)
=======================     ===    =========    =========    ==================
"DATA",160.2,9,1,28,0)
 
"DATA",160.2,9,1,29,0)
Clinical TNM - Stage        ___    _________    _________    __________________
"DATA",160.2,9,1,30,0)
Pathologic TNM - Stage      ___    _________    _________    __________________
"DATA",160.2,9,1,31,0)
Size of Tumor               ___    _________    _________    __________________
"DATA",160.2,9,1,32,0)
Nodes Positive              ___    _________    _________    __________________
"DATA",160.2,9,1,33,0)
Nodes Examined              ___    _________    _________    __________________
"DATA",160.2,9,1,34,0)
 
"DATA",160.2,9,1,35,0)
 
"DATA",160.2,9,1,36,0)
FIRST COURSE OF TREATMENT:  N/A     CORRECT     INCORRECT        CHANGED TO
"DATA",160.2,9,1,37,0)
==========================  ===    =========    =========    ==================
"DATA",160.2,9,1,38,0)
 
"DATA",160.2,9,1,39,0)
Surgery Date                ___    _________    _________    __________________
"DATA",160.2,9,1,40,0)
  Surgery of Primary Site   ___    _________    _________    __________________
"DATA",160.2,9,1,41,0)
  Surgical Margins          ___    _________    _________    __________________
"DATA",160.2,9,1,42,0)
Radiation Date              ___    _________    _________    __________________
"DATA",160.2,9,1,43,0)
  Type of Radiation         ___    _________    _________    __________________
"DATA",160.2,9,1,44,0)
Chemotherapy Date           ___    _________    _________    __________________
"DATA",160.2,9,1,45,0)
  Type of Chemotherapy      ___    _________    _________    __________________
"DATA",160.2,9,1,46,0)
Hormone Therapy Date        ___    _________    _________    __________________
"DATA",160.2,9,1,47,0)
  Type of Hormone Therapy   ___    _________    _________    __________________
"DATA",160.2,9,1,48,0)
Immunotherapy Date          ___    _________    _________    __________________
"DATA",160.2,9,1,49,0)
  Type of Immunotherapy     ___    _________    _________    __________________
"DATA",160.2,9,1,50,0)
 
"DATA",160.2,9,1,51,0)
 
"DATA",160.2,9,1,52,0)
FOLLOW-UP:                  N/A     CORRECT     INCORRECT        CHANGED TO
"DATA",160.2,9,1,53,0)
==========                  ===    =========    =========    ==================
"DATA",160.2,9,1,54,0)
 
"DATA",160.2,9,1,55,0)
Recurrence Date             ___    _________    _________    __________________
"DATA",160.2,9,1,56,0)
Subsequent Therapy Date     ___    _________    _________    __________________
"DATA",160.2,9,1,57,0)
  Subsequent Treatment      ___    _________    _________    __________________
"DATA",160.2,9,1,58,0)
Date of Last Contact        ___    _________    _________    __________________
"DATA",160.2,9,1,59,0)
Cancer/Vital Status         ___    _________    _________    __________________
"DATA",160.2,9,2,0)
^160.23^1^1^3070411^^^^
"DATA",160.2,9,2,1,0)
New QA Review report for printed abstracts.
"DATA",164.43,1,0)
Grade I^Well differentiated, NOS^WD
"DATA",164.43,2,0)
Grade II^Moderately, moderately well, intermediate^MD
"DATA",164.43,3,0)
Grade III^Poorly differentiated^PD
"DATA",164.43,4,0)
Grade IV^Undifferentiated/anaplastic^UD
"DATA",164.43,5,0)
T-cell^Lymphomas and leukemias, T-cell^T
"DATA",164.43,6,0)
B-cell^Lymphomas and leukemias, B-cell, Pre-B^B
"DATA",164.43,7,0)
Null cell^Leukemias only, Null cell, Non T-non B^N
"DATA",164.43,8,0)
Natural killer cell^Lymphomas and leukemias^NK
"DATA",164.43,9,0)
Unknown^Not determined, stated or applicable^NA
"DATA",166,10,0)
10^Reporting Hospital, NOS
"DATA",166,20,0)
20^Pathology Department Review
"DATA",166,21,0)
21^Daily Discharge Review
"DATA",166,22,0)
22^Disease Index Review
"DATA",166,23,0)
23^Radiation Therapy Department/Center
"DATA",166,24,0)
24^Laboratory Reports
"DATA",166,25,0)
25^Outpatient Chemotherapy
"DATA",166,26,0)
26^Diagnostic Imaging/Radiology
"DATA",166,27,0)
27^Tumor Board
"DATA",166,28,0)
28^Hospital Rehabilitaion Service or Clinic
"DATA",166,29,0)
29^Other Hospital Source
"DATA",166,30,0)
30^Physician-Initiated Case
"DATA",166,40,0)
40^Consultation-only or Pathology-only Report
"DATA",166,50,0)
50^Independent Pathology-Laboratory Report
"DATA",166,60,0)
60^Nursing Home-Initiated Case
"DATA",166,70,0)
70^Coroner's Office Records Review
"DATA",166,75,0)
75^Managed Care Org (MCO) or Insurance Records
"DATA",166,80,0)
80^Death Certificate
"DATA",166,85,0)
85^Out-of-State Case Sharing
"DATA",166,90,0)
90^Other Non-Reporting Hospital Source
"DATA",166,95,0)
95^Quality Control Review
"DATA",166,99,0)
99^Unknown
"DATA",169,1,0)
00^Single tumor
"DATA",169,2,0)
10^Multiple benign
"DATA",169,3,0)
11^Multiple borderline
"DATA",169,4,0)
12^Benign and borderline
"DATA",169,5,0)
20^Multiple in situ
"DATA",169,6,0)
30^In situ and invasive
"DATA",169,7,0)
31^Polyp and adenocarcinoma
"DATA",169,8,0)
32^FAP with carcinoma
"DATA",169,9,0)
40^Multiple invasive
"DATA",169,10,0)
80^Unk in situ or invasive
"DATA",169,11,0)
88^NA
"DATA",169,12,0)
99^Unknown
"FIA",5.1)
COUNTY
"FIA",5.1,0)
^VIC(5.1,
"FIA",5.1,0,0)
5.1I
"FIA",5.1,0,1)
y^y^f^^^^n
"FIA",5.1,0,10)

"FIA",5.1,0,11)

"FIA",5.1,0,"RLRO")

"FIA",5.1,0,"VR")
2.11^ONC
"FIA",5.1,5.1)
0
"FIA",160.16)
ONCOLOGY DATA EXTRACT FORMAT
"FIA",160.16,0)
^ONCO(160.16,
"FIA",160.16,0,0)
160.16
"FIA",160.16,0,1)
y^y^f^^n^^y^o^n
"FIA",160.16,0,10)

"FIA",160.16,0,11)

"FIA",160.16,0,"RLRO")

"FIA",160.16,0,"VR")
2.11^ONC
"FIA",160.16,160.16)
0
"FIA",160.16,160.161)
0
"FIA",160.16,160.162)
0
"FIA",160.2)
FORMS/INSTRUCTIONS
"FIA",160.2,0)
^ONCO(160.2,
"FIA",160.2,0,0)
160.2I
"FIA",160.2,0,1)
y^y^f^^n^^y^o^n
"FIA",160.2,0,10)

"FIA",160.2,0,11)
I Y=9
"FIA",160.2,0,"RLRO")

"FIA",160.2,0,"VR")
2.11^ONC
"FIA",160.2,160.2)
0
"FIA",160.2,160.21)
0
"FIA",160.2,160.23)
0
"FIA",164.43)
GRADE
"FIA",164.43,0)
^ONCO(164.43,
"FIA",164.43,0,0)
164.43I
"FIA",164.43,0,1)
y^y^f^^n^^y^o^n
"FIA",164.43,0,10)

"FIA",164.43,0,11)

"FIA",164.43,0,"RLRO")

"FIA",164.43,0,"VR")
2.11^ONC
"FIA",164.43,164.43)
0
"FIA",165.5)
ONCOLOGY PRIMARY
"FIA",165.5,0)
^ONCO(165.5,
"FIA",165.5,0,0)
165.5IsP
"FIA",165.5,0,1)
y^y^p^^^^n^^n
"FIA",165.5,0,10)

"FIA",165.5,0,11)

"FIA",165.5,0,"RLRO")

"FIA",165.5,0,"VR")
2.11^ONC
"FIA",165.5,165.5)
1
"FIA",165.5,165.5,.015)

"FIA",165.5,165.5,2.2)

"FIA",165.5,165.5,3)

"FIA",165.5,165.5,35.1)

"FIA",165.5,165.5,38.5)

"FIA",165.5,165.5,39)

"FIA",165.5,165.5,58.3)

"FIA",165.5,165.5,58.5)

"FIA",165.5,165.5,95.1)

"FIA",165.5,165.5,138.1)

"FIA",165.5,165.5,159)

"FIA",165.5,165.5,193)

"FIA",165.5,165.5,194)

"FIA",165.5,165.5,195)

"FIA",165.5,165.5,196)

"FIA",165.5,165.5,197)

"FIA",165.5,165.5,198)

"FIA",165.5,165.5,199)

"FIA",166)
CASEFINDING SOURCE
"FIA",166,0)
^ONCO(166,
"FIA",166,0,0)
166I
"FIA",166,0,1)
y^y^f^^n^^y^o^n
"FIA",166,0,10)

"FIA",166,0,11)

"FIA",166,0,"RLRO")

"FIA",166,0,"VR")
2.11^ONC
"FIA",166,166)
0
"FIA",169)
TYPE OF MULTIPLE TUMORS
"FIA",169,0)
^ONCO(169,
"FIA",169,0,0)
169I
"FIA",169,0,1)
y^y^f^^n^^y^o^n
"FIA",169,0,10)

"FIA",169,0,11)

"FIA",169,0,"RLRO")

"FIA",169,0,"VR")
2.11^ONC
"FIA",169,169)
0
"INI")
ONCPRE47
"INIT")
ONCPST47
"KRN",.4,1087,-1)
0^1
"KRN",.4,1087,0)
ONCO XABSTRACT RECORD^3070112.1603^^165.5^^@^3070116
"KRN",.4,1087,"DXS",1,1)
Male
"KRN",.4,1087,"DXS",1,2)
Female
"KRN",.4,1087,"DXS",1,3)
Other (hermaphrodite)
"KRN",.4,1087,"DXS",1,4)
Transsexual
"KRN",.4,1087,"DXS",1,9)
Not stated
"KRN",.4,1087,"DXS",2,0)
Dead
"KRN",.4,1087,"DXS",2,1)
Alive
"KRN",.4,1087,"DXS",3,0)
Incomplete
"KRN",.4,1087,"DXS",3,1)
Minimal data
"KRN",.4,1087,"DXS",3,2)
Partial
"KRN",.4,1087,"DXS",3,3)
Complete
"KRN",.4,1087,"F",1)
W @IOF;Z;"W @IOF"~.03;C3~
"KRN",.4,1087,"F",2)
S X="PATIENT SUMMARY",X=$J("",$S($D(DIWR)+$D(DIWL)=2:DIWR-DIWL+1,$D(IOM):IOM,1:80)-$L(X)\2-$X)_X W X K DIP;X;Z;"CENTER("PATIENT SUMMARY")"~
"KRN",.4,1087,"F",3)
S X=DT S Y=X D DT K DIP;C68;L11;d;Z;"TODAY"~W !,"";Z;"W !,"""~
"KRN",.4,1087,"F",4)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;"PATIENT NAME:"~-160,"Name: ";C3~-160,.01;X;C9~
"KRN",.4,1087,"F",5)
-160,"SSN: ";C40~-160,2;X;C47~-160,"Sex: ";C3~-160,10;X;C9~-160,"DOB: ";C40~-160,3;X;C47~-160,"Race: ";C3~-160,8;X;C9~-160,"Status: ";C40~-160,15;X;C48~
"KRN",.4,1087,"F",6)
-160,W !," ";Z;"W !," ""~-160,D DLC^ONCOCRF,DATEOT^ONCOES;Z;"D DLC^ONCOCRF,DATEOT^ONCOES"~-160,"Date of Last Contact or Death:";C3~-160,W X;C34;Z;"W X"~
"KRN",.4,1087,"F",7)
-160,"Autopsy Date/Time: ";C3~-160,23;X;C34~-160,"Autopsy #: ";C3~-160,24;X;C34~-160,"Cause of Death: ";C3~-160,19;X;C34~W !!," ";Z;"W !!," ""~
"KRN",.4,1087,"F",8)
"Abstract Status: ";C3~91;X~"Date Case Completed: ";C40~90;X~"Acc/Seq Number: ";C3~.061;X;C19~"Date Dx: ";C3~3;X;C20~"Site/Gp: ";C3~.01;X;C20~
"KRN",.4,1087,"F",9)
"Primary Site: ";C3~20;X;C20~"Histology: ";C3~22.3;X;C20~
"KRN",.4,1087,"H")
@
"KRN",.4,1087,"IOM")
80
"KRN",.4,1087,"LAST")

"KRN",.4,1087,"ROU")
^ONCOXU
"KRN",.4,1087,"ROUOLD")
ONCOXU
"KRN",.4,1087,"SUB")
1
"KRN",.402,1248,-1)
0^2
"KRN",.402,1248,0)
ONCO RECURRENCE FOLLOWUP^3070314.1504^^165.5^^^3070409
"KRN",.402,1248,"DR",1,165.5)
D RE^ONCOAIF;71;S:X="" Y="@70";S XR=$P(^ONCO(160.12,X,0),U,1);70;S Y="@11";@70;70////@;S Y="@99";@11;I $P($G(^ONCO(165.5,DA,0)),U,16)>3051231 S Y="@1";71.4;@1;S:(XR<40)!(XR>62) Y="@98";71.1;S:X=0 Y="@96";71.2;S:X=0 Y="@97";71.3;
"KRN",.402,1248,"DR",1,165.5,1)
S Y="@99";@96;71.2////0;W !,"DISTANT SITE 2: None";@97;71.3////0;W !,"DISTANT SITE 3: None";S Y="@99";@98;S $P(^ONCO(165.5,D0,5),U,3,5)="0^0^0";W !,"DISTANT SITE 1: None";W !,"DISTANT SITE 2: None";W !,"DISTANT SITE 3: None";@99;
"KRN",.402,1248,"DR",1,165.5,2)
D STX^ONCOAIF;60;K XR;
"KRN",.402,1248,"DR",2,165.51)
.01;I TX="" W !!,"  **  ICDO-TOPOGRAPHY CODE NOT defined for this primary -- cannot continue  **",! S Y="@999";.04;I X="" S Y=$S(DATEDX>2971231:"@35",1:.05);S X=X;S SPS=$P($G(^ONCO(165.5,D0,4,DA,0)),"^",4);
"KRN",.402,1248,"DR",2,165.51,1)
I (SPS="00")!(SPS=1) S $P(^ONCO(165.5,D0,4,D1,0),U,11)="0000000",Y=$S(DATEDX>2971231:"@35",1:.05) W !,"  SURGERY OF PRIMARY SITE DATE..: 00/00/00";S SSTOP=$P($G(^ONCO(164,TX,0)),"^",16);
"KRN",.402,1248,"DR",2,165.51,2)
I SPS'="",$G(^ONCO(164,SSTOP,"SPS",SPS,0))["Unknown" S $P(^ONCO(165.5,D0,4,D1,0),U,11)="9999999",Y=$S(DATEDX>2971231:"@35",1:.05) W !,"  SURGERY OF PRIMARY SITE DATE..: 99/99/99";.041;S Y=$S(DATEDX<2980101:.05,1:"@35");@35;.05;
"KRN",.402,1248,"DR",2,165.51,3)
S:(X=0)!(X=7) Y="@20";S:(X=8)!(X=9) Y="@29";.051;S Y="@03";@20;.051////0000000;W !,?2,"RADIATION DATE: 00/00/0000";S Y="@03";@29;.051////9999999;W !,?2,"RADIATION DATE: 99/99/9999";@03;I DATEDX>2951231 S Y=.06;.03;
"KRN",.402,1248,"DR",2,165.51,4)
S:(X=0)!(X=7) Y="@30";S:(X=8)!(X=9) Y="@39";.031;S Y=.06;@30;.031////0000000;W !,?2,"RADIATION THERAPY TO CNS DATE: 00/00/0000";S Y=.06;@39;.031////9999999;W !,?2,"RADIATION THERAPY TO CNS DATE: 99/99/9999";.06;
"KRN",.402,1248,"DR",2,165.51,5)
S:(X="00")!(X=82)!(X=85)!(X=86)!(X=87) Y="@40";S:(X=88)!(X=99) Y="@49";.061;S Y=.07;@40;.061////0000000;W !,?2,"CHEMOTHERAPY DATE: 00/00/0000";S Y=.07;@49;.061////9999999;W !,?2,"CHEMOTHERAPY DATE: 99/99/9999";.07;
"KRN",.402,1248,"DR",2,165.51,6)
S:(X="00")!(X=82)!(X=85)!(X=86)!(X=87) Y="@50";S:(X=88)!(X=99) Y="@59";.071;S Y=.08;@50;.071////0000000;W !,?2,"HORMONE THERAPY DATE: 00/00/0000";S Y=.08;@59;.071////9999999;W !,?2,"HORMONE THERAPY DATE: 99/99/9999";.08;
"KRN",.402,1248,"DR",2,165.51,7)
I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) S Y="@60";I (X=88)!(X=99) S Y="@69";.081;S Y=.02;@60;.081////0000000;W !,?2,"IMMUNOTHERAPY DATE: 00/00/0000";S Y=.02;@69;.081////9999999;W !,?2,"IMMUNOTHERAPY DATE: 99/99/9999";.02;
"KRN",.402,1248,"DR",2,165.51,8)
I X="" S Y=.021;S HTEP=$P($G(^ONCO(167,X,0)),U,1);I (HTEP="00")!(HTEP=82)!(HTEP=85)!(HTEP=86)!(HTEP=87) S Y="@80";I (HTEP=88)!(HTEP=99) S Y="@89";.021;S Y=.09;@80;.021////0000000;W !,?2,"HEMA TRANS/ENDOCRINE DATE: 00/00/0000";
"KRN",.402,1248,"DR",2,165.51,9)
S Y=.09;@89;.021////9999999;W !,?2,"HEMA TRANS/ENDOCRINE DATE: 99/99/9999";.09;S:(X=0)!(X=7) Y="@70";S:(X=8)!(X=9) Y="@79";.091;S Y=2;@70;.091////0000000;W !,?2,"OTHER TREATMENT START DATE: 00/00/0000";S Y=2;@79;.091////9999999;
"KRN",.402,1248,"DR",2,165.51,10)
W !,?2,"OTHER TREATMENT START DATE: 99/99/9999";2;3;@999;
"KRN",.402,1256,-1)
0^1
"KRN",.402,1256,0)
ONCO ABSTRACT-I^3070409.1033^^165.5^^^3070412
"KRN",.402,1256,"%D",0)
^.4021^2^2^3060713^
"KRN",.402,1256,"%D",1,0)
Template for complete abstract for fields in Primary file: data relevant
"KRN",.402,1256,"%D",2,0)
to particular cancer only as opposed to specific to Patient.
"KRN",.402,1256,"DR",1,165.5)
@0;D MEN^ONCOAIP;.01;.05;.06;.07;S Y="@0";@1;D PAT^ONCOAIP;.03//^S X=$P($G(^ONCO(160.19,IIN,0)),U,2);11;8;8.2;8.1;16;9;10;147//^S X="000000";I $P($G(^ONCO(165.5,DA,0)),U,16)<3070000 S Y=2.1;2.2;2.1;2;2.3;S:'X Y=18;2.4;18;1.2;
"KRN",.402,1256,"DR",1,165.5,1)
W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";D PHCDSP^ONCPHC;148//^S X=PHCDEF;I X=1 S Y="@11";148.1////@;148.2////@;148.3////@;148.4////@;S Y="@12";@11;W !;148.1//^S X=PHCDEF(1);148.2//^S X=PHCDEF(2);148.3//^S X=PHCDEF(3);
"KRN",.402,1256,"DR",1,165.5,2)
148.4//^S X=PHCDEF(4);@12;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";S Y=$S(ONCOANS="A":"@2",1:"@0");@2;D CAN^ONCOAIP;.04;S COC=X;I (EVADS="N")!(COC'=1) S Y="@20";171;172;173;@20;I (COC=5)!(COC=8) D ^ONCOCC;
"KRN",.402,1256,"DR",1,165.5,3)
I COC=0 S RFDEF="NONE" S Y=6;I COC=1 S RFDEF="NONE",TFDEF="NONE";6//^S X=$G(RFDEF);I COC=2 S TFDEF="NONE";7//^S X=$G(TFDEF);155;3;I $P($G(^ONCO(165.5,DA,0)),U,16)<3070000 S Y="@15";159;
"KRN",.402,1256,"DR",1,165.5,4)
I X=0 S $P(^ONCO(165.5,DA,24),U,13)="8888888" W !,"DATE OF CONCLUSIVE DX: 88/88/8888" S Y="@15";I X=1 S $P(^ONCO(165.5,DA,24),U,13)="0000000" W !,"DATE OF CONCLUSIVE DX: 00/00/0000" S Y="@15";
"KRN",.402,1256,"DR",1,165.5,5)
I X=9 S $P(^ONCO(165.5,DA,24),U,13)="9999999" W !,"DATE OF CONCLUSIVE DX: 99/99/9999" S Y="@15";193;@15;I (COC=0)!(COC=1) S DFDEF=$E(RH,1,30);5//^S X=$G(DFDEF);20;S PS=X;D PAIR^ONCOAIP;S Y=$$TOP^ONCOAIT;21.5;S Y=100;21.51;S Y=100;
"KRN",.402,1256,"DR",1,165.5,6)
21.52;100;I $P($G(^ONCO(165.5,DA,0)),U,16)<3070000 S Y=28;I $P($G(^ONCO(165.5,D0,2)),U,1)=67809 D UNKPRIM^ONCMPH;194;D MTRAOP^ONCMPH;195;196;28;I $P($G(^ONCO(165.5,DA,0)),U,16)>3001231 S Y=22.3;22;D DEFH3^ONCOHICD;
"KRN",.402,1256,"DR",1,165.5,7)
22.3//^S X=$G(H3DEF);W !,"HISTOLOGY CODE: ",$$GET1^DIQ(165.5,D0,22.1);D HISTXT^ONCOAIP;S X=X;101;I $G(TOP)'=67619 S Y=24;623;
"KRN",.402,1256,"DR",1,165.5,8)
I (+X>1)&(+X<11),$P($G(^ONCO(165.5,D0,0)),U,16)>3031231 S $P(^ONCO(165.5,D0,"CS"),U,10)=$S($L(X)=1:"00"_X,$L(X)=2:"0"_X,1:X);684;96;102;I X=9 S Y="@156";156;S Y=24;@156;156////0000000;W !,"DRE DATE: 00/00/0000";24;83;26;
"KRN",.402,1256,"DR",1,165.5,9)
I ($$GET1^DIQ(165.5,D0,.01,"E")'="LIVER")&($G(TOP)'=67220) S Y="@251";1010;@251;I $P($G(^ONCO(165.5,DA,0)),U,16)>3021231 S Y="@27";D TMARKER^ONCOU55 I TM1=0 S Y="@21";D TM^ONCOTM(D0,1);@2510;I $G(TM2)=0 S Y="@22";D TM^ONCOTM(D0,2);
"KRN",.402,1256,"DR",1,165.5,10)
@2520;I $G(TM3)=0 S Y="@23";D TM^ONCOTM(D0,3);@2530;S Y="@27";@21;25.1///9;W !,"TUMOR MARKER 1: Unknown or no information";@22;25.2///9;W !,"TUMOR MARKER 2: Unknown or no information";@23;25.3///9;
"KRN",.402,1256,"DR",1,165.5,11)
W !,"TUMOR MARKER 3: Unknown or no information";S Y="@27";25.1;25.2;25.3;@27;120;I X=0 S Y="@1210";I X=9 S Y="@1219";121;S Y="@28";@1210;121////0000000;W !,"DATE OF CANCER CONF: 00/00/0000";S Y="@28";@1219;121////9999999;
"KRN",.402,1256,"DR",1,165.5,12)
W !,"DATE OF CANCER CONF: 99/99/9999";@28;21;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";I (EVADS="N")!(COC'=1) S Y="@105";S PS=$P($G(^ONCO(165.5,D0,2)),U,1);I $E($G(PS),3,4)=34 S Y="@174";
"KRN",.402,1256,"DR",1,165.5,13)
I ($E($G(PS),3,4)=18)!($G(PS)=67199)!($G(PS)=67209) S Y="@180";S Y="@105";@174;D ^ONCSYMP;174;I (X=0)!(X=9) S PIECE=18 D STUFF^ONCSYMP S Y=186;174.1;186;I (X=0)!(X=9) S PIECE=33 D STUFF^ONCSYMP S Y=187;186.1;187;
"KRN",.402,1256,"DR",1,165.5,14)
I (X=0)!(X=9) S PIECE=35 D STUFF^ONCSYMP S Y=188;187.1;188;I (X=0)!(X=9) S PIECE=37 D STUFF^ONCSYMP S Y=189;188.1;189;I (X=0)!(X=9) S PIECE=39 D STUFF^ONCSYMP S Y=190;189.1;190;175;I (X=0)!(X=9) S PIECE=19 D STUFF^ONCSYMP S Y=176;
"KRN",.402,1256,"DR",1,165.5,15)
175.1;176;I (X=0)!(X=9) S PIECE=20 D STUFF^ONCSYMP S Y=177;176.1;177;I (X=0)!(X=9) S PIECE=21 D STUFF^ONCSYMP S Y=178;177.1;178;I (X=0)!(X=9) S PIECE=22 D STUFF^ONCSYMP S Y=179;178.1;179;
"KRN",.402,1256,"DR",1,165.5,16)
I (X=0)!(X=9) S PIECE=23 D STUFF^ONCSYMP S Y="@105";179.1;S Y="@105";@180;D COLON^ONCSYMP;191;711;712;809;713;192;180;I (X=0)!(X=9) S PIECE=24 D STUFF^ONCSYMP S Y=181;180.1;181;I (X=0)!(X=9) S PIECE=25 D STUFF^ONCSYMP S Y=182;
"KRN",.402,1256,"DR",1,165.5,17)
181.1;182;I (X=0)!(X=9) S PIECE=27 D STUFF^ONCSYMP S Y=183;182.1;183;I (X=0)!(X=9) S PIECE=28 D STUFF^ONCSYMP S Y=185;183.1;185;I (X=0)!(X=9) S PIECE=30 D STUFF^ONCSYMP S Y=184;185.1;184;
"KRN",.402,1256,"DR",1,165.5,18)
I (X=0)!(X=9) S PIECE=31 D STUFF^ONCSYMP S Y=179;184.1;179;I (X=0)!(X=9) S PIECE=23 D STUFF^ONCSYMP S Y="@105";179.1;@105;S SECTION="Cancer Identification" D SECTION^ONCOAIP;W !;104;S FLDNUM=104,NODE=10,LIMIT=200 D ^ONCTEXT;W !;
"KRN",.402,1256,"DR",1,165.5,19)
105;S FLDNUM=105,NODE=11,LIMIT=250 D ^ONCTEXT;W !;106;S FLDNUM=106,NODE=12,LIMIT=250 D ^ONCTEXT;W !;116;S FLDNUM=116,NODE=22,LIMIT=250 D ^ONCTEXT;W !;103;S FLDNUM=103,NODE=9,LIMIT=250 D ^ONCTEXT;W !;107;
"KRN",.402,1256,"DR",1,165.5,20)
S FLDNUM=107,NODE=13,LIMIT=250 D ^ONCTEXT;W !;S Y=$S(ONCOANS="A":"@3",1:"@0");@3;D EXT^ONCOAIP;@31;D MO^ONCOAIP2;41;I $G(AWHFLG)=0 S Y=30 K AWHFLG;29;I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y=30;29.2;30;
"KRN",.402,1256,"DR",1,165.5,21)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y="@305";30.2;29.1;@305;D BLOOD^ONCOAIP2;30.5;@301;D PGPE^ONCOAIP2;30.1;I X=99,$P($G(^ONCO(165.5,D0,0)),U,16)>3031231 S $P(^ONCO(165.5,D0,"CS"),U,7)="097";@231;D LN^ONCOAIP2;31;S L=X;
"KRN",.402,1256,"DR",1,165.5,22)
I $$LYMPHOMA^ONCFUNC(D0) S $P(^ONCO(165.5,D0,2),U,12,13)="99^99";S X=X;I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y=33;31.1;32.1;33;I X=0 S Y="@24";I X=99 S Y="@25";32;S Y="@26";@24;32////98;
"KRN",.402,1256,"DR",1,165.5,23)
W !,"REGIONAL LYMPH NODES POSITIVE: No nodes were examined";S Y="@26";@25;32////99;W !,"REGIONAL LYMPH NODES POSITIVE: Unknown if nodes +, NA, not stated";@26;35;I (X'="")&(X'=7) S Y="@310";34;S:X=0 Y="@32";34.1;S:X=0 Y="@33";34.2;
"KRN",.402,1256,"DR",1,165.5,24)
S Y="@34";@310;34////0;W !,"SITE OF DISTANT METASTASIS #1: None";@32;34.1////0;W !,"SITE OF DISTANT METASTASIS #2: None";@33;34.2////0;W !,"SITE OF DISTANT METASTASIS #3: None";@34;
"KRN",.402,1256,"DR",1,165.5,25)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y="@341";34.3;34.4;@341;D ^ONCOTN;69;W !;S:$E($$HIST^ONCFUNC(D0),1,3)'=951 Y=37.1;69.1;69.2;37.1;D CN2^ONCOTN;37.2;37.3;I '$$GTT^ONCOU55(D0) S Y="@38";134;@38;I '$$T^ONCOU55(D0) S Y="@39";
"KRN",.402,1256,"DR",1,165.5,26)
136;@39;S STGIND="C" D ES^ONCOTN;S X=X;19;W !;69.4;85;D CN4^ONCOTN;86;87;I '$$GTT^ONCOU55(D0) S Y="@311";135;@311;I '$$T^ONCOU55(D0) S Y="@312";136;@312;S STGIND="P" D ES^ONCOTN;S X=X;89;W !;149;151;S Y="@313";@376;38;19;88;89;
"KRN",.402,1256,"DR",1,165.5,27)
@313;39;W !;65;S:X="" Y="@82";66;@82;W !;25;44;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y="@399";D ^ONCPCS;@292;29.2;30.2;29.1;31.1;32.1;33;I X=0 S Y="@241";I X=99 S Y="@252";32;S Y="@261";
"KRN",.402,1256,"DR",1,165.5,28)
@241;32////98;W !,"REGIONAL LYMPH NODES POSITIVE: No nodes were examined";S Y="@261";@252;32////99;W !,"REGIONAL LYMPH NODES POSITIVE: Unknown if nodes +, NA, not stated";@261;34.3;34.4;44.1;44.2;44.3;44.4;44.5;44.6;D ^ONCCS;
"KRN",.402,1256,"DR",1,165.5,29)
W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";@399;S Y=$S(ONCOANS="A":"@4",1:"@0");@4;D CHKCOC^ONCATF I (COC=5)!(COC=8) S Y="@7";D NCDS^ONCPTX;58.1;D NCDS^ONCATF;I X="" S TXNUL=1,$P(^ONCO(165.5,D0,3),U,31)="",Y="@35";
"KRN",.402,1256,"DR",1,165.5,30)
I (X=0)!(X="00") D NCDS^ONCNTX S TXNO=1 S Y="@35";I (X=9)!(X="09") D NCDS^ONCUTX S TXUNK=1 S Y="@35";58.3;D NCDSDT^ONCATF;@35;D DSPNCDS^ONCATF;W !;58.4;I X="" S $P(^ONCO(165.5,D0,3.1),U,6)="",Y="@36";
"KRN",.402,1256,"DR",1,165.5,31)
I (X=0)!(X="00") D NCDSATF^ONCNTX1 S Y="@36";I (X=9)!(X="09") D NCDSATF^ONCUTX1 S Y="@36";58.5;@36;W !;124;I (X="")!(X="0000000")!(X=9999999) S Y="@41";D NTX^ONCOAIP;@41;I $P($G(^ONCO(165.5,DA,0)),U,16)>3021231 S Y="@429";
"KRN",.402,1256,"DR",1,165.5,32)
D ROADS^ONCPTX;58.2;D SPSR^ONCATF;I X="" S TXNUL=1,$P(^ONCO(165.5,D0,3),U,38)="",Y="@426";S X=X;S SPS=$P($G(^ONCO(165.5,D0,3)),U,38);I SPS=("00")!(SPS=1) D SURR^ONCNTX S TXNO=1,Y="@426";S TPX=$P($G(^ONCO(165.5,D0,2)),U,1);
"KRN",.402,1256,"DR",1,165.5,33)
S SGRP=$P($G(^ONCO(164,TPX,0)),U,16);I $E(TPX,3,4)=77 S SGRP=67422;I $G(^ONCO(164,SGRP,"SPS",SPS,0))[99 D SURR^ONCUTX S TXUNK=1 S Y="@426";D SATFDFR^ONCOCC;74;@426;D DSPSPSR^ONCATF;W !;50.2//^S X=$G(SPSDF);@427;W !;
"KRN",.402,1256,"DR",1,165.5,34)
D CHKPRMR^ONCUTX1;138;D SCPR^ONCATF;S X=X;S SCOPE=$P($G(^ONCO(165.5,D0,3)),U,40);I SCOPE="" S $P(^ONCO(165.5,D0,3),U,42)="",TXNUL=1,Y="@1381";I SCOPE=1 D NODER^ONCNTX S TXNO=1,Y="@1381";
"KRN",.402,1256,"DR",1,165.5,35)
S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" S Y="@428";S SGRP=$P($G(^ONCO(164,TPX,0)),U,16) I SGRP="" S Y="@428";I $G(^ONCO(164,SGRP,"SC5",SCOPE,0))["Unknown" D NODER^ONCUTX S TXUNK=1,Y="@1381";140;D NUMND^ONCATF;@1381;
"KRN",.402,1256,"DR",1,165.5,36)
D DSPSCPR^ONCATF;W !;D SCOPER^ONCOCC;138.1//^S X=$G(SCPDF);S X=X;S SCPATF=$P($G(^ONCO(165.5,D0,3.1)),U,9);I SCPATF="" S $P(^ONCO(165.5,D0,3.1),U,11)="",Y="@139";I SCPATF=1 D NODATFR^ONCNTX1 S Y="@139";
"KRN",.402,1256,"DR",1,165.5,37)
S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" S Y="@428";S SGRP=$P($G(^ONCO(164,TPX,0)),U,16) I SGRP="" S Y="@428";I $G(^ONCO(164,SGRP,"SC5",SCPATF,0))["Unknown" D NODATFR^ONCUTX1 S Y="@139";D NUMN^ONCOCC;140.1//^S X=$G(NUMDF);@139;
"KRN",.402,1256,"DR",1,165.5,38)
W !;139;D SOSNR^ONCATF;S X=X;S SOSN=$P($G(^ONCO(165.5,D0,3)),U,41) I SOSN="" S TXNUL=1,Y="@1391";I SOSN=1 D SOSNR^ONCNTX S TXNO=1,Y="@1391";S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" S Y="@428";
"KRN",.402,1256,"DR",1,165.5,39)
S SGRP=$P($G(^ONCO(164,TPX,0)),U,16) I SGRP="" S Y="@428";I $G(^ONCO(164,SGRP,"SO5",SOSN,0))["Unknown" S TXUNK=1;@1391;D DSPSOSR^ONCATF;D SOSNR^ONCOCC;139.1//^S X=$G(SOSNDF);S X=X;@428;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";@429;
"KRN",.402,1256,"DR",1,165.5,40)
D FORDS^ONCPTX;S X=X;58.6;D SPS^ONCATF;I X="" S TXNUL=1,$P(^ONCO(165.5,D0,3.1),U,29)="",Y="@42";S X=X;S SPS=$P($G(^ONCO(165.5,D0,3.1)),U,29);I SPS="00"!(SPS=1) D SUR^ONCNTX,SM^ONCNTX,DSD^ONCNTX S TXNO=1,Y="@42";
"KRN",.402,1256,"DR",1,165.5,41)
S TPX=$P($G(^ONCO(165.5,D0,2)),U,1);S SGRP=$P($G(^ONCO(164,TPX,0)),U,16);I $G(^ONCO(164,SGRP,"SPS",SPS,0))[99 D SUR^ONCUTX S TXUNK=1,Y="@42";50;D SPSDT^ONCATF;D SATFDEF^ONCOCC;59;@42;D DSPSPS^ONCATF;W !;58.7//^S X=$G(SPSDF);
"KRN",.402,1256,"DR",1,165.5,42)
I X="" S $P(^ONCO(165.5,D0,3.1),U,8)="",Y="@43";S X=X;S SPSATF=$P($G(^ONCO(165.5,D0,3.1)),U,30) I SPSATF="" S $P(^ONCO(165.5,D0,3.1),U,8)="",Y="@43";I SPSATF="00"!(SPSATF=1) D SURATF^ONCNTX1 S Y="@43";
"KRN",.402,1256,"DR",1,165.5,43)
S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" S Y="@44";S SGRP=$P($G(^ONCO(164,TPX,0)),U,16) I SGRP="" S Y="@44";I $G(^ONCO(164,SGRP,"SPS",SPSATF,0))[99 D SURATF^ONCUTX1 S Y="@43";50.3//^S X=$G(SPSDTDF);@43;W !;D RFNS^ONCATF1;58;
"KRN",.402,1256,"DR",1,165.5,44)
@431;W !;D CHKPRMF^ONCUTX1;138.4;D SCP^ONCATF;S X=X;S SCOPE=$P($G(^ONCO(165.5,D0,3.1)),U,31) I SCOPE="" S $P(^ONCO(165.5,D0,3.1),U,22)="",$P(^ONCO(165.5,D0,3),U,42)="",TXNUL=1,Y="@45";I SCOPE=0 D NODE^ONCNTX S TXNO=1,Y="@45";
"KRN",.402,1256,"DR",1,165.5,45)
I SCOPE=9 D NODE^ONCUTX S TXUNK=1,Y="@45";138.2;D SCPDT^ONCATF;@45;D DSPSCP^ONCATF;W !;D SCOPE^ONCOCC;138.5//^S X=$G(SCPDF);S X=X;
"KRN",.402,1256,"DR",1,165.5,46)
S SCPATF=$P($G(^ONCO(165.5,D0,3.1)),U,32) I SCPATF="" S $P(^ONCO(165.5,D0,3.1),U,23)="",$P(^ONCO(165.5,D0,3.1),U,11)="",Y="@46";I SCPATF=0 D NODEATF^ONCNTX1 S Y="@46";I SCPATF=9 D NODEATF^ONCUTX1 S Y="@46";138.3//^S X=$G(SCPDTDF);
"KRN",.402,1256,"DR",1,165.5,47)
@46;W !;139.4;D SOSN^ONCATF;S X=X;S SOSN=$P($G(^ONCO(165.5,D0,3.1)),U,33) I SOSN="" S $P(^ONCO(165.5,D0,3.1),U,24)="",TXNUL=1,Y="@47";I SOSN=0 D SOSN^ONCNTX S TXNO=1,Y="@47";I SOSN=9 D SOSN^ONCUTX S TXUNK=1,Y="@47";139.2;
"KRN",.402,1256,"DR",1,165.5,48)
D SOSNDT^ONCATF;@47;D DSPSOSN^ONCATF;W !;D SOSN^ONCOCC;139.5//^S X=$G(SOSNDF);S X=X;S SOSNATF=$P($G(^ONCO(165.5,D0,3.1)),U,34) I SOSNATF="" S $P(^ONCO(165.5,D0,3.1),U,25)="",Y="@48";I SOSNATF=0 D SOSNATF^ONCNTX1 S Y="@48";
"KRN",.402,1256,"DR",1,165.5,49)
I SOSNATF=9 D SOSNATF^ONCUTX1 S Y="@48";139.3//^S X=$G(SOSNDTDF);@48;W !;170;I $P($G(^ONCO(165.5,DA,0)),U,16)>3021231 S Y=435;D DEFAULT^ONCTXSM;23//^S X=$G(RRDF);435;14;W !;108;S FLDNUM=108,NODE=14,LIMIT=150 D ^ONCTEXT;W !;@44;46;
"KRN",.402,1256,"DR",1,165.5,50)
I (X=1)!(X=9) S $P(^ONCO(165.5,DA,7),U,20)="" S Y="@441";47;@441;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";D RAD^ONCPTX;51.2;D RAD^ONCATF1;S R=$S(X&(X<7):1,1:0);I X="" S $P(^ONCO(165.5,D0,3),U,4)="",TXNUL=1,Y="@49";
"KRN",.402,1256,"DR",1,165.5,51)
I (X=0)!(X=7) D RAD1^ONCNTX,RAD2^ONCNTX S TXNO=1,Y="@49";I (X=8)!(X=9) D RAD^ONCUTX S TXUNK=1,Y="@49";51;D RADDT^ONCATF1;D RATFDEF^ONCOCC;126;125;363;442;363.1;443;56;361;@49;D DSPRAD^ONCATF1;W !;51.4//^S X=$G(RADDF);
"KRN",.402,1256,"DR",1,165.5,52)
I X="" S $P(^ONCO(165.5,D0,3.1),U,13)="",Y="@411";I (X=0)!(X=7) D RADATF^ONCNTX1 S Y="@411";I (X=8)!(X=9) D RADATF^ONCUTX1 S Y="@411";51.5//^S X=$G(RADDTDF);@411;D RS^ONCOAIP;S X=X;W !;51.3;D RFNR^ONCATF1;W !;75;
"KRN",.402,1256,"DR",1,165.5,53)
S RFNR=X D ^ONCRFNR W:$G(RFNRMSG)'="" !!,RFNRMSG;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";S RVAR=$P($G(^ONCO(165.5,D0,3)),U,6);I RVAR=""!(RVAR=0)!(RVAR=9) S Y="@413";@412;W !;109;S FLDNUM=109,NODE=15,LIMIT=150 D ^ONCTEXT;@413;
"KRN",.402,1256,"DR",1,165.5,54)
D ST^ONCPTX;53.2;D CHEM^ONCATF1;I X="" S $P(^ONCO(165.5,D0,3),U,11)="",TXNUL=1,Y="@414";I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D CHE^ONCNTX S TXNO=1,Y="@414";I (X=88)!(X=99) S XX=X D CHE^ONCUTX S TXUNK=1,Y="@414";53;
"KRN",.402,1256,"DR",1,165.5,55)
D CHEMDT^ONCATF1;D CATFDEF^ONCOCC;@414;D DSPCHEM^ONCATF1;W !;53.3//^S X=$G(CHEMDF);I X="" S $P(^ONCO(165.5,D0,3.1),U,15)="",Y="@415";I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D CMATFDT^ONCNTX1 S Y="@415";
"KRN",.402,1256,"DR",1,165.5,56)
I (X=88)!(X=99) D CHEMATF^ONCUTX1 S Y="@415";53.4//^S X=$G(CHMDTDF);@415;W !;S CVAR=$P($G(^ONCO(165.5,D0,3)),U,13);I (CVAR="")!(CVAR="00")!(CVAR=99)!(CVAR=82)!(CVAR=85)!(CVAR=86)!(X=87) S Y="@416";111;
"KRN",.402,1256,"DR",1,165.5,57)
S FLDNUM=111,NODE=17,LIMIT=200 D ^ONCTEXT;@416;W !;54.2;D HT^ONCATF1;I X="" S $P(^ONCO(165.5,D0,3),U,14)="",TXNUL=1,Y="@417";I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D HOR^ONCNTX1 S TXNO=1,Y="@417";
"KRN",.402,1256,"DR",1,165.5,58)
I (X=88)!(X=99) S XX=X D HOR^ONCUTX S TXUNK=1,Y="@417";54;D HTDT^ONCATF1;D HATFDEF^ONCOCC;@417;D DSPHT^ONCATF1;W !;54.3//^S X=$G(HTDF);I X="" S $P(^ONCO(165.5,D0,3.1),U,17)="",Y="@418";
"KRN",.402,1256,"DR",1,165.5,59)
I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D HTATFDT^ONCNTX1 S Y="@418";I (X=88)!(X=99) D HTATF^ONCUTX1 S Y="@418";54.4//^S X=$G(HTDTDF);@418;W !;S HVAR=$P($G(^ONCO(165.5,D0,3)),U,16);
"KRN",.402,1256,"DR",1,165.5,60)
I (HVAR="")!(HVAR="00")!(HVAR=99)!(HVAR=82)!(HVAR=85)!(HVAR=86)!(X=87) S Y="@419";112;S FLDNUM=112,NODE=18,LIMIT=200 D ^ONCTEXT;@419;W !;55.2;D IMM^ONCATF1;I X="" S $P(^ONCO(165.5,D0,3),U,17)="",TXNUL=1,Y="@420";
"KRN",.402,1256,"DR",1,165.5,61)
I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D IMM^ONCNTX1 S TXNO=1,Y="@420";I (X=88)!(X=99) S XX=X D IMM^ONCUTX S TXUNK=1,Y="@420";55;D IMMDT^ONCATF1;D IATFDEF^ONCOCC;@420;D DSPIMM^ONCATF1;W !;55.3//^S X=$G(IMMDF);
"KRN",.402,1256,"DR",1,165.5,62)
I X="" S $P(^ONCO(165.5,D0,3.1),U,19)="",Y="@421";I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D IMATFDT^ONCNTX1 S Y="@421";I (X=88)!(X=99) D IMMATF^ONCUTX1 S Y="@421";55.4//^S X=$G(IMMDTDF);@421;W !;
"KRN",.402,1256,"DR",1,165.5,63)
S IVAR=$P($G(^ONCO(165.5,D0,3)),U,19);I (IVAR="")!(IVAR="00")!(IVAR=99)!(IVAR=82)!(IVAR=85)!(IVAR=86)!(X=87) S Y="@422";114;S FLDNUM=114,NODE=20,LIMIT=200 D ^ONCTEXT;@422;W !;153;
"KRN",.402,1256,"DR",1,165.5,64)
I X="" S $P(^ONCO(165.5,D0,3.1),U,35)="",TXNUL=1,Y="@4201";S HE=$P(^ONCO(167,X,0),U,1);I (HE="00")!(HE=82)!(HE=85)!(HE=86)!(HE=87) D HTEP^ONCNTX1 S TXNO=1,Y="@4201";I (HE=88)!(HE=99) D HTEP^ONCUTX S TXUNK=1,Y="@4201";153.1;@4201;
"KRN",.402,1256,"DR",1,165.5,65)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3060000 S Y="@4202";D SSS^ONCOAIP1;S X=X;W !;15;@4202;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";D OTH^ONCPTX;57.2;D OTH^ONCATF1;I X="" S $P(^ONCO(165.5,D0,3),U,23)="",TXNUL=1,Y="@423";
"KRN",.402,1256,"DR",1,165.5,66)
I (X=0)!(X=7) D OTH^ONCNTX1 S TXNO=$S(X=0:1,1:""),Y="@423";I (X=8)!(X=9) D OTH^ONCUTX S TXUNK=$S(X=9:1,1:""),Y="@423";57;D OTHDT^ONCATF1;D OATFDEF^ONCOCC;@423;D DSPOTH^ONCATF1;W !;57.3//^S X=$G(OTHDF);
"KRN",.402,1256,"DR",1,165.5,67)
I X="" S $P(^ONCO(165.5,D0,3.1),U,21)="" S Y="@424";I X=0!(X=7) D OTHATF^ONCNTX1 S Y="@424";I X=8!(X=9) D OTHATF^ONCUTX1 S Y="@424";57.4//^S X=$G(OTHDTDF);@424;W !;S OVAR=$P($G(^ONCO(165.5,D0,3)),U,25);
"KRN",.402,1256,"DR",1,165.5,68)
I OVAR=""!(OVAR=0)!(OVAR=9) S Y="@425";115;S FLDNUM=115,NODE=21,LIMIT=100 D ^ONCTEXT;@425;D PRO^ONCPTX;12;@13;D PP^ONCATF1;D PATFDEF^ONCOCC;13//^S X=$G(PPDF);346;I X=9 D PRO^ONCUTX S Y="@113";
"KRN",.402,1256,"DR",1,165.5,69)
I (X=0)!(X=2)!(X=3)!(X=4)!(X=5)!(X=6)!(X=7)!(X=8) D PRO^ONCNTX1 S Y="@113";560;133;@113;W !;113;S FLDNUM=113,NODE=19,LIMIT=350 D ^ONCTEXT;S Y=$S(ONCOANS="A":"@5",1:"@0");@5;D ^ONCOPCE;S Y=$S(ONCOANS="A":"@7",1:"@0");@6;
"KRN",.402,1256,"DR",1,165.5,70)
D ORF^ONCOAIP;205;206;207;208;209;210;211;212;213;214;215;216;217;218;219;220;221;222;223;224;225;226;S Y="@0";@7;D AB^ONCOAIP;91;I $G(EDIT)="YES" S Y="@0";S:$P(^ONCO(165.5,D0,7),U,4)="" Y="@83";W !!?5,"Selected for QA=>",!;63;
"KRN",.402,1256,"DR",1,165.5,71)
S:X="N" Y="@83";64;64.1;64.2;@83;S Y="";62;@999999;62;
"KRN",19,6589,-1)
2^2
"KRN",19,6589,0)
ONCO UTIL MENU^*..Utility Options^^M^47^^^^^^^^^1^1
"KRN",19,6589,10,0)
^19.01IP^26^19
"KRN",19,6589,10,26,0)
12665^TIME^21
"KRN",19,6589,10,26,"^")
ONC TIMELINESS REPORT
"KRN",19,6589,"U")
*..UTILITY OPTIONS
"KRN",19,12665,-1)
0^1
"KRN",19,12665,0)
ONC TIMELINESS REPORT^Timeliness Report^^R^^^^^^^^
"KRN",19,12665,1,0)
^19.06^3^3^3070329^^
"KRN",19,12665,1,1,0)
This option will prompt for a "Start Date Case Completed" and "End Date 
"KRN",19,12665,1,2,0)
Case Completed" and compute the percentage of cases whose ELAPSED DAYS TO 
"KRN",19,12665,1,3,0)
COMPLETION is less than 180 days within the selected date range.
"KRN",19,12665,25)
ONCTIME
"KRN",19,12665,"U")
TIMELINESS REPORT
"MBREQ")
0
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",14,-1)
1^1
"PKG",14,0)
ONCOLOGY^ONC^Oncology treatment tracking & tumor registry package.
"PKG",14,20,0)
^9.402P^^
"PKG",14,22,0)
^9.49I^1^1
"PKG",14,22,1,0)
2.11^3041126^2950417
"PKG",14,22,1,"PAH",1,0)
47^3070412
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
55
"RTN","ONCACD0")
0^39^B50981890
"RTN","ONCACD0",1,0)
ONCACD0 ;Hines OIFO/GWB - NAACCR extract driver ;06/11/01
"RTN","ONCACD0",2,0)
 ;;2.11;Oncology;**9,12,20,24,25,28,29,30,36,37,38,40,41,44,45,47**;Mar 07, 1995;Build 19
"RTN","ONCACD0",3,0)
 ;
"RTN","ONCACD0",4,0)
EN1(DEVICE,STEXT) ;Select extract from ONCOLOGY DATA EXTRACT FORMAT (160.16)
"RTN","ONCACD0",5,0)
EN2 N EXTRACT,HDRIEN,STAT,STAT1,STAT2,DATE,YESNO,BDT,SDT,EDT,QUEUE
"RTN","ONCACD0",6,0)
 K ^TMP($J)
"RTN","ONCACD0",7,0)
 S DEVICE=$G(DEVICE,0),STEXT=$G(STEXT,0),(EXTRACT,QUEUE)=0,EXT=""
"RTN","ONCACD0",8,0)
 I STEXT=0 S EXTRACT=$O(^ONCO(160.16,"B","NCDB EXTRACT V11.1",0))
"RTN","ONCACD0",9,0)
 S (STAT,DATE,OUT,SDT,EDT)=0
"RTN","ONCACD0",10,0)
 S HDRIEN=EXTRACT
"RTN","ONCACD0",11,0)
 D DISPLAY
"RTN","ONCACD0",12,0)
 I STEXT=1 D GETREC(.EXTRACT,.OUT)
"RTN","ONCACD0",13,0)
 I 'OUT S STAT=$$GETHOSP
"RTN","ONCACD0",14,0)
 I 'STAT S OUT=1
"RTN","ONCACD0",15,0)
 I 'OUT S STAT1=$P(STAT,U,1),STAT2=$P(STAT,U,2)
"RTN","ONCACD0",16,0)
 I 'OUT D GETDATE(.DATE,.OUT)
"RTN","ONCACD0",17,0)
 I 'OUT,STEXT D GETDT(.SDT,.EDT,DATE,.OUT)
"RTN","ONCACD0",18,0)
 I 'OUT D VERIFY(STAT,DATE,SDT,EDT,STEXT,.YESNO,.OUT)
"RTN","ONCACD0",19,0)
 I 'OUT G:'YESNO EN2
"RTN","ONCACD0",20,0)
 I 'OUT D DEVICE(DEVICE,.OUT)
"RTN","ONCACD0",21,0)
 I 'OUT D:'QUEUE PRINT(DEVICE,.OUT)
"RTN","ONCACD0",22,0)
 D EXIT
"RTN","ONCACD0",23,0)
 Q
"RTN","ONCACD0",24,0)
 ;
"RTN","ONCACD0",25,0)
GETREC(EXTRACT,OUT) ;Select record layout
"RTN","ONCACD0",26,0)
 W !!," Available record layouts:",!
"RTN","ONCACD0",27,0)
 W !,"  1) VACCR Record Layout v11.1 (VA Registry)"
"RTN","ONCACD0",28,0)
 W !,"  2) NAACCR State Record Layout v11.1"
"RTN","ONCACD0",29,0)
 W !
"RTN","ONCACD0",30,0)
 N DIR,X,Y
"RTN","ONCACD0",31,0)
 S DIR(0)="SAO^1:VACCR Record Layout v11.1;2:NAACCR State Record Layout v11.1"
"RTN","ONCACD0",32,0)
 S DIR("A")=" Select record layout: "
"RTN","ONCACD0",33,0)
 S DIR("?")="Select the record layout to use"
"RTN","ONCACD0",34,0)
 D ^DIR
"RTN","ONCACD0",35,0)
 I $D(DIRUT) S OUT=1 Q
"RTN","ONCACD0",36,0)
 I +Y<1 S OUT=1 Q
"RTN","ONCACD0",37,0)
 I Y=1 S EXT="VACCR",EXTRACT=$O(^ONCO(160.16,"B","VACCR EXTRACT V11.1",0))
"RTN","ONCACD0",38,0)
 I Y=2 S EXT="STATE",EXTRACT=$O(^ONCO(160.16,"B","STATE EXTRACT V11.1",0))
"RTN","ONCACD0",39,0)
 S HDRIEN=EXTRACT
"RTN","ONCACD0",40,0)
 Q
"RTN","ONCACD0",41,0)
 ;
"RTN","ONCACD0",42,0)
DISPLAY ;Display on-line instructions
"RTN","ONCACD0",43,0)
 N X,DIR,Y
"RTN","ONCACD0",44,0)
 S DIR("A")="    DISPLAY/PRINT on-line instructions"
"RTN","ONCACD0",45,0)
 S DIR("B")="No"
"RTN","ONCACD0",46,0)
 S DIR(0)="Y"
"RTN","ONCACD0",47,0)
 D ^DIR I ($D(DIRUT))!(+Y<1) Q
"RTN","ONCACD0",48,0)
 I X=0 Q
"RTN","ONCACD0",49,0)
 I X<0 S OUT=1 Q
"RTN","ONCACD0",50,0)
 W ! S DIC="^ONCO(160.2,",L=0,DHD="@"
"RTN","ONCACD0",51,0)
 S FLDS="1",BY="@.01"
"RTN","ONCACD0",52,0)
 I STEXT S (FR,TO)="STATE REPORTING ACOS INFOA"
"RTN","ONCACD0",53,0)
 E  S (FR,TO)="PRIMARY ACOS INFO (850)"
"RTN","ONCACD0",54,0)
 D EN1^DIP
"RTN","ONCACD0",55,0)
 S:'($D(DTOUT)+$D(DUOUT)=0) OUT=1
"RTN","ONCACD0",56,0)
 S X=$$ASKY^ONCOU("Continue")
"RTN","ONCACD0",57,0)
 S:X<1 OUT=1
"RTN","ONCACD0",58,0)
 Q
"RTN","ONCACD0",59,0)
 ;
"RTN","ONCACD0",60,0)
GETDT(SDT,EDT,DATE,OUT) ; Select a date range
"RTN","ONCACD0",61,0)
 K DIR
"RTN","ONCACD0",62,0)
 S DIR(0)="SAO^1:Date Case Completed;2:Date Case Last Changed"
"RTN","ONCACD0",63,0)
 S DIR("A")=" Select date field to be used for Start/End range: "
"RTN","ONCACD0",64,0)
 S DIR("?")="Select the date field you wish to use for this download's Start/End range prompts."
"RTN","ONCACD0",65,0)
 D ^DIR
"RTN","ONCACD0",66,0)
 I $D(DIRUT) S OUT=1 Q
"RTN","ONCACD0",67,0)
 I Y<1 S OUT=1 Q
"RTN","ONCACD0",68,0)
 I +Y=2 S STEXT=2
"RTN","ONCACD0",69,0)
 K DIR
"RTN","ONCACD0",70,0)
 S DIR(0)="D^::X"
"RTN","ONCACD0",71,0)
 I STEXT=1 D
"RTN","ONCACD0",72,0)
 .S DIR("A")=" Start, Date Case Completed"
"RTN","ONCACD0",73,0)
 .S DIR("?",1)="   Enter the DATE CASE COMPLETED of the"
"RTN","ONCACD0",74,0)
 .S DIR("?",2)="   FIRST abstract you would like to report."
"RTN","ONCACD0",75,0)
 I STEXT=2 D
"RTN","ONCACD0",76,0)
 .S DIR("A")=" Start, Date Case Last Changed"
"RTN","ONCACD0",77,0)
 .S DIR("?",1)="   Enter the DATE CASE LAST CHANGED of the"
"RTN","ONCACD0",78,0)
 .S DIR("?",2)="   FIRST abstract you would like to report."
"RTN","ONCACD0",79,0)
 S DIR("?")=" "
"RTN","ONCACD0",80,0)
 D ^DIR I $D(DIRUT) S OUT=1 Q
"RTN","ONCACD0",81,0)
 S (SDT,BDT)=Y
"RTN","ONCACD0",82,0)
 S DIR(0)="D^::X"
"RTN","ONCACD0",83,0)
 I STEXT=1 D
"RTN","ONCACD0",84,0)
 .S DIR("A")="   End, Date Case Completed"
"RTN","ONCACD0",85,0)
 .S DIR("?",1)="   Enter the DATE CASE COMPLETED of the"
"RTN","ONCACD0",86,0)
 .S DIR("?",2)="   LAST abstract you would like to report."
"RTN","ONCACD0",87,0)
 I STEXT=2 D
"RTN","ONCACD0",88,0)
 .S DIR("A")="   End, Date Case Last Changed"
"RTN","ONCACD0",89,0)
 .S DIR("?",1)="   Enter the DATE CASE LAST CHANGED  of the"
"RTN","ONCACD0",90,0)
 .S DIR("?",2)="   LAST abstract you would like to report."
"RTN","ONCACD0",91,0)
 D ^DIR I $D(DIRUT) S OUT=1 Q
"RTN","ONCACD0",92,0)
 S EDT=Y
"RTN","ONCACD0",93,0)
 I EXT="" Q
"RTN","ONCACD0",94,0)
 I EXT="VACCR" S ACO=1 Q
"RTN","ONCACD0",95,0)
 K DIR
"RTN","ONCACD0",96,0)
 S DIR("A")=" Analytic cases only"
"RTN","ONCACD0",97,0)
 S DIR("B")="YES"
"RTN","ONCACD0",98,0)
 S DIR(0)="Y"
"RTN","ONCACD0",99,0)
 S DIR("?")=" "
"RTN","ONCACD0",100,0)
 S DIR("?",1)=" Answer 'YES' if you want only analytic cases (CLASS OF CASE 0-2) extracted."
"RTN","ONCACD0",101,0)
 S DIR("?",2)=" Answer  'NO' if you want all cases (analytic and non-analytic) extracted."
"RTN","ONCACD0",102,0)
 D ^DIR
"RTN","ONCACD0",103,0)
 I $D(DIRUT) S OUT=1 Q
"RTN","ONCACD0",104,0)
 S ACO=Y
"RTN","ONCACD0",105,0)
 Q
"RTN","ONCACD0",106,0)
 ;
"RTN","ONCACD0",107,0)
PRINT(DEVICE,OUT) ;Capture output data
"RTN","ONCACD0",108,0)
 I 'DEVICE D  Q:OUT
"RTN","ONCACD0",109,0)
 .N X
"RTN","ONCACD0",110,0)
 .W !!
"RTN","ONCACD0",111,0)
 .W !,?6,"--------------------------------------------------------------"
"RTN","ONCACD0",112,0)
 .W !,?6,"|Please activate your PC capture program.  The data will be  |"
"RTN","ONCACD0",113,0)
 .W !,?6,"|sent in 2 minutes or when you press the return key.         |"
"RTN","ONCACD0",114,0)
 .W !,?6,"--------------------------------------------------------------"
"RTN","ONCACD0",115,0)
 .W !!!
"RTN","ONCACD0",116,0)
 .R X:120
"RTN","ONCACD0",117,0)
 .I X="^" S OUT=1
"RTN","ONCACD0",118,0)
 U IO D EN1^ONCACD1
"RTN","ONCACD0",119,0)
 Q
"RTN","ONCACD0",120,0)
 ;
"RTN","ONCACD0",121,0)
EXIT ;Exit
"RTN","ONCACD0",122,0)
 K D0,DI,DIC,DISYS,DQ,FIL,ONCOM,ONCOT,ONCOYR,OUT,ST,STGIND,X,Y
"RTN","ONCACD0",123,0)
 I '$D(^TMP($J)) W !?3,"No records extracted." G EX
"RTN","ONCACD0",124,0)
 W !
"RTN","ONCACD0",125,0)
 S DIC="^ONCO(165.5,",L=0,FLDS="[ONC EXTRACT]",BY(0)="^TMP($J,",L(0)=1
"RTN","ONCACD0",126,0)
 S:DEVICE IOP=ION
"RTN","ONCACD0",127,0)
 I STEXT=0 S DHD=$P(^ONCO(160.16,HDRIEN,0),U,1) W !
"RTN","ONCACD0",128,0)
 I (STEXT=1)!(STEXT=2) S DHD=$P(^ONCO(160.16,HDRIEN,0),U,1)_" "_$$FMTE^XLFDT(BDT,"2D")_" - "_$$FMTE^XLFDT(EDT,"2D")
"RTN","ONCACD0",129,0)
 D EN1^DIP
"RTN","ONCACD0",130,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y
"RTN","ONCACD0",131,0)
EX K ^TMP($J)
"RTN","ONCACD0",132,0)
 K %ZIS
"RTN","ONCACD0",133,0)
 D ^%ZISC
"RTN","ONCACD0",134,0)
 Q
"RTN","ONCACD0",135,0)
 ;
"RTN","ONCACD0",136,0)
DEVICE(DEVICE,OUT) ;Select output device
"RTN","ONCACD0",137,0)
 Q:'DEVICE
"RTN","ONCACD0",138,0)
 S %ZIS="Q"
"RTN","ONCACD0",139,0)
 D ^%ZIS
"RTN","ONCACD0",140,0)
 I POP S OUT=1 Q
"RTN","ONCACD0",141,0)
 I $D(IO("Q")) D
"RTN","ONCACD0",142,0)
 .S ZTRTN="PRINT^ONCACD0(DEVICE,.OUT)"
"RTN","ONCACD0",143,0)
 .S ZTDESC=$S('STEXT:"ONC NCDB Extract",STEXT:"ONC State Extract",1:"")
"RTN","ONCACD0",144,0)
 .S ZTSAVE("STAT1")=""
"RTN","ONCACD0",145,0)
 .S ZTSAVE("DATE")=""
"RTN","ONCACD0",146,0)
 .S ZTSAVE("STEXT")=""
"RTN","ONCACD0",147,0)
 .S ZTSAVE("DEVICE")=""
"RTN","ONCACD0",148,0)
 .S ZTSAVE("OUT")=""
"RTN","ONCACD0",149,0)
 .S ZTSAVE("BDT")=""
"RTN","ONCACD0",150,0)
 .S ZTSAVE("SDT")=""
"RTN","ONCACD0",151,0)
 .S ZTSAVE("EDT")=""
"RTN","ONCACD0",152,0)
 .S ZTSAVE("EXTRACT")=""
"RTN","ONCACD0",153,0)
 .S ZTSAVE("HDRIEN")=""
"RTN","ONCACD0",154,0)
 .D ^%ZTLOAD
"RTN","ONCACD0",155,0)
 .I $D(ZTSK)[0 S OUT=1 W !!,?20,"Report Canceled!"
"RTN","ONCACD0",156,0)
 .E  W !!,?20,"Report Queued!" S QUEUE=1
"RTN","ONCACD0",157,0)
 .D HOME^%ZIS
"RTN","ONCACD0",158,0)
 Q
"RTN","ONCACD0",159,0)
 ;
"RTN","ONCACD0",160,0)
VERIFY(STAT,DATE,SDT,EDT,STEXT,YESNO,OUT) ;Verify settings
"RTN","ONCACD0",161,0)
 N DIR,Y
"RTN","ONCACD0",162,0)
 S RL=$P(^ONCO(160.16,HDRIEN,0),U,1)
"RTN","ONCACD0",163,0)
 W !!," These are your current settings:"
"RTN","ONCACD0",164,0)
 W !
"RTN","ONCACD0",165,0)
 W !," Record layout.......................: ",RL
"RTN","ONCACD0",166,0)
 W !," Facility Identification Number (FIN): ",STAT1
"RTN","ONCACD0",167,0)
 I EXT="STATE" D
"RTN","ONCACD0",168,0)
 .W !," State to be extracted...............: ",STATE
"RTN","ONCACD0",169,0)
 I STEXT=0 W !," Accession Year......................: ",DATE
"RTN","ONCACD0",170,0)
 I (STEXT=1)!(STEXT=2) D
"RTN","ONCACD0",171,0)
 .W !," Start date..........................: ",$$FMTE^XLFDT(SDT,"2D")
"RTN","ONCACD0",172,0)
 .W !," End date............................: ",$$FMTE^XLFDT(EDT,"2D")
"RTN","ONCACD0",173,0)
 I EXT="STATE" D
"RTN","ONCACD0",174,0)
 .W !," Analytic cases only.................: ",$S(ACO=1:"YES",1:"NO")
"RTN","ONCACD0",175,0)
 W !
"RTN","ONCACD0",176,0)
 S DIR("A")=" Are these settings correct"
"RTN","ONCACD0",177,0)
 S DIR("B")="YES"
"RTN","ONCACD0",178,0)
 S DIR(0)="Y"
"RTN","ONCACD0",179,0)
 D ^DIR
"RTN","ONCACD0",180,0)
 I $D(DIRUT) S OUT=1 Q
"RTN","ONCACD0",181,0)
 S YESNO=Y
"RTN","ONCACD0",182,0)
 Q
"RTN","ONCACD0",183,0)
 ;
"RTN","ONCACD0",184,0)
GETDATE(DATE,OUT) ;Select ACCESSION YEAR
"RTN","ONCACD0",185,0)
 Q:STEXT=1
"RTN","ONCACD0",186,0)
 N CYR,DIR,SCREEN,Y
"RTN","ONCACD0",187,0)
 S DATE=0
"RTN","ONCACD0",188,0)
 S CYR=1700+($E(DT,1,3)),SCREEN="K:X>CYR X"
"RTN","ONCACD0",189,0)
 S DIR(0)="NAO^1900:"_CYR_":0^"_SCREEN
"RTN","ONCACD0",190,0)
 S DIR("A")=" Accession Year: "
"RTN","ONCACD0",191,0)
 D ^DIR
"RTN","ONCACD0",192,0)
 I $D(DIRUT) S OUT=1 Q
"RTN","ONCACD0",193,0)
 S DATE=Y
"RTN","ONCACD0",194,0)
 Q
"RTN","ONCACD0",195,0)
 ;
"RTN","ONCACD0",196,0)
GETHOSP() ;Facility Identification Number (FIN)
"RTN","ONCACD0",197,0)
 N STAT,STATI,ALLOK
"RTN","ONCACD0",198,0)
 S STAT=0,ALLOK=$$GETDXH(.STAT)
"RTN","ONCACD0",199,0)
 I STAT S STATI=6_STAT_0,STAT=STAT_"^"_STATI
"RTN","ONCACD0",200,0)
 Q STAT
"RTN","ONCACD0",201,0)
 ;
"RTN","ONCACD0",202,0)
GETDXH(DXH) ;INSTITUTION ID NUMBER (160.1,27)
"RTN","ONCACD0",203,0)
 N OKHERE,DIE,DA,DR,ONCOL
"RTN","ONCACD0",204,0)
 W !
"RTN","ONCACD0",205,0)
 S DIE=160.1
"RTN","ONCACD0",206,0)
 S DA=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCACD0",207,0)
 I DA="" S DA=$O(^ONCO(160.1,0))
"RTN","ONCACD0",208,0)
 S DR=27_$J("",1)_"Facility Identification Number (FIN)"
"RTN","ONCACD0",209,0)
 S ONCOL=0
"RTN","ONCACD0",210,0)
 L +^ONCO(160.1,DA):0 I $T D ^DIE L -^ONCO(160.1,DA) S ONCOL=1
"RTN","ONCACD0",211,0)
 I 'ONCOL W !,"This site paramaters record is being edited by another user."
"RTN","ONCACD0",212,0)
 K ONCOL,DIE
"RTN","ONCACD0",213,0)
 I $D(Y)=0 S DXH=$$GET1^DIQ(160.19,X,.01,"I")
"RTN","ONCACD0",214,0)
 I X'="" S STATE=$P($G(^ONCO(160.19,X,0)),U,4)
"RTN","ONCACD0",215,0)
 S OKHERE=($D(Y)=0)
"RTN","ONCACD0",216,0)
 Q OKHERE
"RTN","ONCACD1")
0^18^B38363121
"RTN","ONCACD1",1,0)
ONCACD1 ;Hines OIFO/GWB - Annual Call for Data; 06/11/01
"RTN","ONCACD1",2,0)
 ;;2.11;Oncology;**9,12,14,18,20,22,24,25,26,28,29,31,36,37,41,43,47**;Mar 07, 1995;Build 19
"RTN","ONCACD1",3,0)
 ;;
"RTN","ONCACD1",4,0)
EN1 ;Main entry point
"RTN","ONCACD1",5,0)
 S EXPORT="YES"
"RTN","ONCACD1",6,0)
 K ^TMP($J)
"RTN","ONCACD1",7,0)
 N PAGE,OIEN
"RTN","ONCACD1",8,0)
 S PAGE=1
"RTN","ONCACD1",9,0)
 S OIEN=0
"RTN","ONCACD1",10,0)
 D SETUP
"RTN","ONCACD1",11,0)
 I DEVICE S:$D(ZTQUEUED) ZTREQ="@" Q
"RTN","ONCACD1",12,0)
 I 'DEVICE W $C(26) H 30
"RTN","ONCACD1",13,0)
 K EXPORT
"RTN","ONCACD1",14,0)
 Q
"RTN","ONCACD1",15,0)
 ;
"RTN","ONCACD1",16,0)
HEAD(IEN,OUT) ;Header print
"RTN","ONCACD1",17,0)
 N FLG
"RTN","ONCACD1",18,0)
 I IEN=OIEN S FLG=0
"RTN","ONCACD1",19,0)
 I IEN'=OIEN S OIEN=IEN,FLG=1
"RTN","ONCACD1",20,0)
 I 'FLG Q:$Y+4<IOSL
"RTN","ONCACD1",21,0)
 I PAGE'=1 D  Q:OUT
"RTN","ONCACD1",22,0)
 .Q:$E(IOST,1)'="C"
"RTN","ONCACD1",23,0)
 .N DIR,Y
"RTN","ONCACD1",24,0)
 .S DIR("A")="Press ENTER to Continue or ""^"" to Quit: "
"RTN","ONCACD1",25,0)
 .S DIR(0)="EA" D ^DIR
"RTN","ONCACD1",26,0)
 .I 'Y S OUT=1 Q
"RTN","ONCACD1",27,0)
 D HEADER
"RTN","ONCACD1",28,0)
 Q
"RTN","ONCACD1",29,0)
 ;
"RTN","ONCACD1",30,0)
HEADER ;Master header
"RTN","ONCACD1",31,0)
 I PAGE'=1 W @IOF
"RTN","ONCACD1",32,0)
 I PAGE=1,$E(IOST,1)="C" W @IOF
"RTN","ONCACD1",33,0)
 W !,$P(^ONCO(160.16,HDRIEN,0),U),?70,"Page: ",PAGE S PAGE=PAGE+1
"RTN","ONCACD1",34,0)
 W !,"Patient: ",$$GET1^DIQ(160,ACD160,.01,"E")
"RTN","ONCACD1",35,0)
 W ?55,"SSN: ",$$GET1^DIQ(160,ACD160,2,"E")
"RTN","ONCACD1",36,0)
 W !,"Col#",?5,"Data item",?51,"Data Value",!
"RTN","ONCACD1",37,0)
 F I=1:1:79 W "="
"RTN","ONCACD1",38,0)
 Q
"RTN","ONCACD1",39,0)
 ;
"RTN","ONCACD1",40,0)
SETUP ;Setup the data to be verified.
"RTN","ONCACD1",41,0)
 N IEN,BLANK,NINE,ZERO,ZNINE,X
"RTN","ONCACD1",42,0)
 I 'DEVICE S X=0 X ^%ZOSF("RM") ;disable autowrap
"RTN","ONCACD1",43,0)
 S BLANK=" "
"RTN","ONCACD1",44,0)
 S (IEN,ZERO)=0
"RTN","ONCACD1",45,0)
 S NINE=9
"RTN","ONCACD1",46,0)
 S ZNINE="09"
"RTN","ONCACD1",47,0)
 S OUT=$G(OUT,0)
"RTN","ONCACD1",48,0)
 I STEXT=0 F  S IEN=$O(^ONCO(165.5,"AY",DATE,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",49,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",50,0)
 .D LOOP
"RTN","ONCACD1",51,0)
 I STEXT=1 S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AAD",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AAD",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",52,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",53,0)
 .D LOOP
"RTN","ONCACD1",54,0)
 I STEXT=2 S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AAE",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AAE",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",55,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",56,0)
 .D LOOP
"RTN","ONCACD1",57,0)
 Q
"RTN","ONCACD1",58,0)
 ;
"RTN","ONCACD1",59,0)
LOOP ;Loop though the data that was given
"RTN","ONCACD1",60,0)
 N LINE,RULES,VALID,JUMP
"RTN","ONCACD1",61,0)
 S RULES=0
"RTN","ONCACD1",62,0)
 F  S RULES=$O(^ONCO(160.16,EXTRACT,"RULES",RULES)) Q:RULES<1  D
"RTN","ONCACD1",63,0)
 .S LINE=^ONCO(160.16,EXTRACT,"RULES",RULES,0)
"RTN","ONCACD1",64,0)
 .X LINE
"RTN","ONCACD1",65,0)
 Q:'VALID
"RTN","ONCACD1",66,0)
 S ^TMP($J,IEN)=""
"RTN","ONCACD1",67,0)
 D OUTPUT(IEN,EXTRACT,JUMP,.OUT)
"RTN","ONCACD1",68,0)
 I 'DEVICE W !
"RTN","ONCACD1",69,0)
 Q
"RTN","ONCACD1",70,0)
OUTPUT(IEN,EXTRACT,JUMP,OUT) ;Output the data
"RTN","ONCACD1",71,0)
 N POS
"RTN","ONCACD1",72,0)
 S ACD160=$P(^ONCO(165.5,IEN,0),U,2)
"RTN","ONCACD1",73,0)
 I DEVICE D HEAD(IEN,.OUT) Q:OUT
"RTN","ONCACD1",74,0)
 S POS=0
"RTN","ONCACD1",75,0)
 F  S POS=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCACD1",76,0)
 .N NODE
"RTN","ONCACD1",77,0)
 .S NODE=0
"RTN","ONCACD1",78,0)
 .F  S NODE=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCACD1",79,0)
 ..N STRING,DEFAULT,FILL,LEN
"RTN","ONCACD1",80,0)
 ..Q:$G(^ONCO(160.16,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCACD1",81,0)
 ..D DISPLAY(DEVICE,$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,1)_U_$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,4),.OUT)
"RTN","ONCACD1",82,0)
 ..Q:OUT
"RTN","ONCACD1",83,0)
 ..S STRING=$TR(^ONCO(160.16,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCACD1",84,0)
 ..S DEFAULT=^ONCO(160.16,EXTRACT,"FIELD",NODE,2)
"RTN","ONCACD1",85,0)
 ..S FILL=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,3),U,1)
"RTN","ONCACD1",86,0)
 ..S LEN=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCACD1",87,0)
 ..D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS)
"RTN","ONCACD1",88,0)
 ..I $G(^ONCO(160.16,EXTRACT,0))["NCDB" D
"RTN","ONCACD1",89,0)
 ...I $O(^ONCO(160.16,EXTRACT,"FIELD","B",POS))>1 Q  ; Search for last
"RTN","ONCACD1",90,0)
 ...N EXTRACT,NODE,POS
"RTN","ONCACD1",91,0)
 ...;============================================
"RTN","ONCACD1",92,0)
 ...;| This Code is to support the PCE Extract. |
"RTN","ONCACD1",93,0)
 ...;============================================
"RTN","ONCACD1",94,0)
 ...S EXTRACT=100,JUMP=0
"RTN","ONCACD1",95,0)
 ...;S:$D(^ONCO(165.5,"APCE","BLA",IEN)) EXTRACT=1
"RTN","ONCACD1",96,0)
 ...; ^==== Bladder 95,90,85
"RTN","ONCACD1",97,0)
 ...;S:$D(^ONCO(165.5,"APCE","THY",IEN)) EXTRACT=2
"RTN","ONCACD1",98,0)
 ...; ^==== Thyroid 96,91,86
"RTN","ONCACD1",99,0)
 ...;S:$D(^ONCO(165.5,"APCE","STS",IEN)) EXTRACT=3
"RTN","ONCACD1",100,0)
 ...; ^==== Soft Tissue 96,91,86
"RTN","ONCACD1",101,0)
 ...;S:$D(^ONCO(165.5,"APCE","COL",IEN)) EXTRACT=4
"RTN","ONCACD1",102,0)
 ...; ^==== Colorectal 97,92,87
"RTN","ONCACD1",103,0)
 ...;S:$D(^ONCO(165.5,"APCE","NHL",IEN)) EXTRACT=5
"RTN","ONCACD1",104,0)
 ...; ^==== Non-Hodgkins 97,92,87
"RTN","ONCACD1",105,0)
 ...;S:$D(^ONCO(165.5,"APCE","BRE",IEN)) EXTRACT=6
"RTN","ONCACD1",106,0)
 ...; ^==== Breast 98,93,88
"RTN","ONCACD1",107,0)
 ...;S:$D(^ONCO(165.5,"APCE","PRO2",IEN)) EXTRACT=7
"RTN","ONCACD1",108,0)
 ...; ^==== Prostate 98,93,88
"RTN","ONCACD1",109,0)
 ...;S:$D(^ONCO(165.5,"APCE","MEL",IEN)) EXTRACT=8
"RTN","ONCACD1",110,0)
 ...; ^==== Melanoma 99,94,89
"RTN","ONCACD1",111,0)
 ...;S:$D(^ONCO(165.5,"APCE","HEP",IEN)) EXTRACT=9
"RTN","ONCACD1",112,0)
 ...; ^==== Hepatocellular Cancers 00,95,90
"RTN","ONCACD1",113,0)
 ...;S:$D(^ONCO(165.5,"APCE","CNS",IEN)) EXTRACT=10
"RTN","ONCACD1",114,0)
 ...; ^==== Primary Intracranial/CNS Tumors 00,95,90
"RTN","ONCACD1",115,0)
 ...;S:$D(^ONCO(165.5,"APCE","LNG",IEN)) EXTRACT=11
"RTN","ONCACD1",116,0)
 ...; ^==== Lung (NSCLC) 01,96,91
"RTN","ONCACD1",117,0)
 ...;S:$D(^ONCO(165.5,"APCE","GAS",IEN)) EXTRACT=12
"RTN","ONCACD1",118,0)
 ...; ^==== Gastric Cancers 01,96,91
"RTN","ONCACD1",119,0)
 ...S POS=0
"RTN","ONCACD1",120,0)
 ...F  S POS=$O(^ONCO(160.17,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCACD1",121,0)
 ....N NODE
"RTN","ONCACD1",122,0)
 ....S NODE=0
"RTN","ONCACD1",123,0)
 ....F  S NODE=$O(^ONCO(160.17,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCACD1",124,0)
 .....N STRING,DEFAULT,FILL,LEN
"RTN","ONCACD1",125,0)
 .....Q:$G(^ONCO(160.17,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCACD1",126,0)
 .....D DISPLAY(DEVICE,$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,1)_U_$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,4),.OUT)
"RTN","ONCACD1",127,0)
 .....Q:OUT
"RTN","ONCACD1",128,0)
 .....S STRING=$TR(^ONCO(160.17,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCACD1",129,0)
 .....S DEFAULT=^ONCO(160.17,EXTRACT,"FIELD",NODE,2)
"RTN","ONCACD1",130,0)
 .....S FILL=^ONCO(160.17,EXTRACT,"FIELD",NODE,3)
"RTN","ONCACD1",131,0)
 .....S LEN=$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCACD1",132,0)
 .....D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS)
"RTN","ONCACD1",133,0)
 Q
"RTN","ONCACD1",134,0)
DISPLAY(DEVICE,WRITE,OUT) ; Display Data
"RTN","ONCACD1",135,0)
 Q:'DEVICE
"RTN","ONCACD1",136,0)
 N DOTS,COL,ITEM
"RTN","ONCACD1",137,0)
 I DEVICE,($Y+5)>IOSL D HEAD(0,.OUT) Q:OUT
"RTN","ONCACD1",138,0)
 S COL=$P(WRITE,U,1)
"RTN","ONCACD1",139,0)
 S COL=$S($L(COL)=1:"   "_COL,$L(COL)=2:"  "_COL,$L(COL)=3:" "_COL,1:COL)
"RTN","ONCACD1",140,0)
 S ITEM=$P(WRITE,U,2),ITEM=$E(ITEM,1,45)
"RTN","ONCACD1",141,0)
 S DOTS=(46-$L(ITEM))
"RTN","ONCACD1",142,0)
 W !,COL,?5,ITEM
"RTN","ONCACD1",143,0)
 F I=1:1:DOTS W "."
"RTN","ONCACD1",144,0)
 Q
"RTN","ONCACD1",145,0)
 ;
"RTN","ONCACD1",146,0)
DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS) ; Data print
"RTN","ONCACD1",147,0)
 N ACDANS,EXIT
"RTN","ONCACD1",148,0)
 S EXIT=0
"RTN","ONCACD1",149,0)
 I JUMP'="0" D
"RTN","ONCACD1",150,0)
 .I POS<$P(JUMP,U) Q
"RTN","ONCACD1",151,0)
 .I POS>$P(JUMP,U,2) Q
"RTN","ONCACD1",152,0)
 .N I
"RTN","ONCACD1",153,0)
 .S EXIT=1
"RTN","ONCACD1",154,0)
 .F I=1:1:LEN W BLANK
"RTN","ONCACD1",155,0)
 Q:EXIT
"RTN","ONCACD1",156,0)
 X STRING
"RTN","ONCACD1",157,0)
 I ACDANS="" D  Q
"RTN","ONCACD1",158,0)
 .N X,I
"RTN","ONCACD1",159,0)
 .S X=""
"RTN","ONCACD1",160,0)
 .I DEFAULT=8 D  Q
"RTN","ONCACD1",161,0)
 ..F I=1:1:LEN W DEFAULT
"RTN","ONCACD1",162,0)
 .I @DEFAULT="09" W @DEFAULT Q
"RTN","ONCACD1",163,0)
 .F I=1:1:LEN W @DEFAULT
"RTN","ONCACD1",164,0)
 I $L(ACDANS)=LEN W ACDANS Q
"RTN","ONCACD1",165,0)
 I $L(ACDANS)>LEN W $E(ACDANS,1,LEN) Q
"RTN","ONCACD1",166,0)
 E  D  Q
"RTN","ONCACD1",167,0)
 .N JUST,STUFF,I,REM,CAL
"RTN","ONCACD1",168,0)
 .S JUST=$P(FILL,","),STUFF=$P(FILL,",",2)
"RTN","ONCACD1",169,0)
 .S REM=LEN-$L(ACDANS)
"RTN","ONCACD1",170,0)
 .I JUST="R" W ACDANS
"RTN","ONCACD1",171,0)
 .F I=1:1:REM W @STUFF
"RTN","ONCACD1",172,0)
 .I JUST="L" W ACDANS
"RTN","ONCACD1",173,0)
 Q
"RTN","ONCACDU2")
0^43^B62998568
"RTN","ONCACDU2",1,0)
ONCACDU2 ;Hines OIFO/GWB - UTILITY ROUTINE #1 ;09/20/2000
"RTN","ONCACDU2",2,0)
 ;;2.11;Oncology;**12,18,20,21,22,24,26,27,29,30,31,32,34,36,37,38,39,41,46,47**;Mar 07, 1995;Build 19
"RTN","ONCACDU2",3,0)
 ;
"RTN","ONCACDU2",4,0)
HOSP1(PROC,IEN) ;Check to see if the site is breast or prostate
"RTN","ONCACDU2",5,0)
 ;Inputs: PROC = Process Number to be processed
"RTN","ONCACDU2",6,0)
 ;         IEN = Record within File 160.16
"RTN","ONCACDU2",7,0)
 ;Output; X data for field.
"RTN","ONCACDU2",8,0)
 ;
"RTN","ONCACDU2",9,0)
 N PTR,X,SITE
"RTN","ONCACDU2",10,0)
 S X=0
"RTN","ONCACDU2",11,0)
 S SITE=$$GET1^DIQ(165.5,IEN,.01,"I")
"RTN","ONCACDU2",12,0)
 S SITE=$$GET1^DIQ(164.2,SITE,.01,"I")
"RTN","ONCACDU2",13,0)
 I SITE="BREAST" D
"RTN","ONCACDU2",14,0)
 .I PROC=1 S PTR=$$GET1^DIQ(165.5,IEN,141,"I") S:PTR'="" X=$P($G(^ONCO(164,67500,"BP5",PTR,0)),U,2) Q
"RTN","ONCACDU2",15,0)
 .I PROC=2 S PTR=$$GET1^DIQ(165.5,IEN,142,"I") S:PTR'="" X=$P($G(^ONCO(164,67500,"GU5",PTR,0)),U,2) Q
"RTN","ONCACDU2",16,0)
 .I PROC=3 S X=$$GET1^DIQ(165.5,IEN,143,"I") Q
"RTN","ONCACDU2",17,0)
 .I PROC=4 S X=$$GET1^DIQ(165.5,IEN,144,"I")
"RTN","ONCACDU2",18,0)
 ;
"RTN","ONCACDU2",19,0)
 I SITE="PROSTATE" D
"RTN","ONCACDU2",20,0)
 .I PROC=1 S PTR=$$GET1^DIQ(165.5,IEN,141,"I") S:PTR'="" X=$P($G(^ONCO(164,67619,"BP5",PTR,0)),U,2) Q
"RTN","ONCACDU2",21,0)
 .I PROC=2 S PTR=$$GET1^DIQ(165.5,IEN,142,"I") S:PTR'="" X=$P($G(^ONCO(164,67619,"GU5",PTR,0)),U,2) Q
"RTN","ONCACDU2",22,0)
 .I PROC=3 S X=$$GET1^DIQ(165.5,IEN,145,"I") Q
"RTN","ONCACDU2",23,0)
 .I PROC=4 S X=$$GET1^DIQ(165.5,IEN,146,"I")
"RTN","ONCACDU2",24,0)
 Q X
"RTN","ONCACDU2",25,0)
 ;
"RTN","ONCACDU2",26,0)
VAFLD(ACDANS) ;Convert data to valid external format
"RTN","ONCACDU2",27,0)
 ;Input: ACDANS
"RTN","ONCACDU2",28,0)
 ;       Y=1
"RTN","ONCACDU2",29,0)
 ;       N=0
"RTN","ONCACDU2",30,0)
 ;       U=9
"RTN","ONCACDU2",31,0)
 I ACDANS="N" S ACDANS=0
"RTN","ONCACDU2",32,0)
 I ACDANS="Y" S ACDANS=1
"RTN","ONCACDU2",33,0)
 I ACDANS="U" S ACDANS=9
"RTN","ONCACDU2",34,0)
 Q ACDANS
"RTN","ONCACDU2",35,0)
 ;
"RTN","ONCACDU2",36,0)
VASIT() ;VISN 1452-1453
"RTN","ONCACDU2",37,0)
 ;Output: X = VISN
"RTN","ONCACDU2",38,0)
 N X
"RTN","ONCACDU2",39,0)
 S OSPIEN=$O(^ONCO(160.1,0))
"RTN","ONCACDU2",40,0)
 S X=$P($G(^ONCO(160.1,OSPIEN,1)),U,7)
"RTN","ONCACDU2",41,0)
 K OSPIEN
"RTN","ONCACDU2",42,0)
 Q X
"RTN","ONCACDU2",43,0)
 ;
"RTN","ONCACDU2",44,0)
COCO(IEN) ;COC Coding Sys--Original [2150] 1202-1203
"RTN","ONCACDU2",45,0)
 N X
"RTN","ONCACDU2",46,0)
 S DATEDX=$$GET1^DIQ(165.5,IEN,3,"I")
"RTN","ONCACDU2",47,0)
 S X=$S(DATEDX>3021231:"08",DATEDX>2951231:"07",1:"05")
"RTN","ONCACDU2",48,0)
 Q X
"RTN","ONCACDU2",49,0)
 ;
"RTN","ONCACDU2",50,0)
VENDOR() ;Vendor Name [2170] 1204-1213
"RTN","ONCACDU2",51,0)
 N X,VERSION,EXTR,SUFFIX
"RTN","ONCACDU2",52,0)
 S EXTR=$G(^ONCO(160.16,EXTRACT,0))
"RTN","ONCACDU2",53,0)
 S SUFFIX=$S(EXTR["VACCR":"A",EXTR["STATE":"B",1:"")
"RTN","ONCACDU2",54,0)
 S VERSION=$P($G(^ONCO(160.16,EXTRACT,0))," ",3)
"RTN","ONCACDU2",55,0)
 S X="VA"_VERSION_$E($T(LOGO+3^ONCODIS),62,64)_SUFFIX
"RTN","ONCACDU2",56,0)
 Q X
"RTN","ONCACDU2",57,0)
 ;
"RTN","ONCACDU2",58,0)
BDATE(ACD160) ;Birth Date [240] 122-129
"RTN","ONCACDU2",59,0)
 N D0,X
"RTN","ONCACDU2",60,0)
 S D0=ACD160
"RTN","ONCACDU2",61,0)
 D DOB^ONCOES
"RTN","ONCACDU2",62,0)
 S X=$G(X)
"RTN","ONCACDU2",63,0)
 Q X
"RTN","ONCACDU2",64,0)
 ;
"RTN","ONCACDU2",65,0)
WORD(IEN,NODE,LEN) ;Get word processing data
"RTN","ONCACDU2",66,0)
 N X
"RTN","ONCACDU2",67,0)
 S X=""
"RTN","ONCACDU2",68,0)
 I $D(^ONCO(165.5,IEN,NODE,0)) D
"RTN","ONCACDU2",69,0)
 .N CNT,LINE
"RTN","ONCACDU2",70,0)
 .S CNT=0
"RTN","ONCACDU2",71,0)
 .S LINE=""
"RTN","ONCACDU2",72,0)
 .F  S CNT=$O(^ONCO(165.5,IEN,NODE,CNT)) Q:CNT<1  D  Q:($L(LINE)>LEN)
"RTN","ONCACDU2",73,0)
 ..Q:'$D(^ONCO(165.5,IEN,NODE,CNT,0))
"RTN","ONCACDU2",74,0)
 ..S LINE=LINE_^ONCO(165.5,IEN,NODE,CNT,0)_" "
"RTN","ONCACDU2",75,0)
 .S X=LINE
"RTN","ONCACDU2",76,0)
 Q X
"RTN","ONCACDU2",77,0)
 ;
"RTN","ONCACDU2",78,0)
STAGE(IEN,TYPE) ;TNM Descriptors
"RTN","ONCACDU2",79,0)
 ;TNM Path Descriptor [910] 571-571
"RTN","ONCACDU2",80,0)
 ;TNM Clin Descriptor [980] 581-581
"RTN","ONCACDU2",81,0)
 N LOC,X
"RTN","ONCACDU2",82,0)
 S X=""
"RTN","ONCACDU2",83,0)
 S LOC=$S(TYPE="P":89.1,TYPE="C":37,1:"")
"RTN","ONCACDU2",84,0)
 I TYPE'="" D
"RTN","ONCACDU2",85,0)
 .N STRING
"RTN","ONCACDU2",86,0)
 .S STRING=$$GET1^DIQ(165.5,IEN,LOC,"E")
"RTN","ONCACDU2",87,0)
 .I ($P(STRING," ")["m")&($P(STRING," ")["y") S X=6 Q
"RTN","ONCACDU2",88,0)
 .I $P(STRING," ")["m" S X=3 Q
"RTN","ONCACDU2",89,0)
 .I $P(STRING," ")["y" S X=4 Q
"RTN","ONCACDU2",90,0)
 Q X
"RTN","ONCACDU2",91,0)
 ;
"RTN","ONCACDU2",92,0)
CCOUNTY(ACD160) ;County--Current
"RTN","ONCACDU2",93,0)
 N ZIP,X
"RTN","ONCACDU2",94,0)
 S X=""
"RTN","ONCACDU2",95,0)
 S ZIP=$$GET1^DIQ(160,ACD160,.116,"E")
"RTN","ONCACDU2",96,0)
 I ZIP'="" D
"RTN","ONCACDU2",97,0)
 .N ZIP1,CODE,COUNTY
"RTN","ONCACDU2",98,0)
 .S ZIP1=$P($P(ZIP,",",2)," ",3) S:$L(ZIP1)>5 ZIP1=$E(ZIP1,1,5)
"RTN","ONCACDU2",99,0)
 .Q:$L(ZIP1)<5
"RTN","ONCACDU2",100,0)
 .S CODE=$O(^VIC(5.11,"C",ZIP1,""))
"RTN","ONCACDU2",101,0)
 .Q:CODE<1
"RTN","ONCACDU2",102,0)
 .S COUNTY=$$GET1^DIQ(5.11,CODE,2,"I")
"RTN","ONCACDU2",103,0)
 .Q:COUNTY=""
"RTN","ONCACDU2",104,0)
 .S X=$$GET1^DIQ(5.1,COUNTY,2,"I")
"RTN","ONCACDU2",105,0)
 Q X
"RTN","ONCACDU2",106,0)
 ;
"RTN","ONCACDU2",107,0)
SUB(IEN,CNT,FIELD) ;
"RTN","ONCACDU2",108,0)
 ;Subsq RX 2nd Course Date [1660] 988-995
"RTN","ONCACDU2",109,0)
 N X
"RTN","ONCACDU2",110,0)
 S CNT=CNT-1
"RTN","ONCACDU2",111,0)
 S X=""
"RTN","ONCACDU2",112,0)
 I $O(^ONCO(165.5,IEN,4,0)) D
"RTN","ONCACDU2",113,0)
 .N IENS,SUB,SUBFLD,ENTRY,SUBIEN
"RTN","ONCACDU2",114,0)
 .S SUBIEN=0 F I=1:1 S SUBIEN=$O(^ONCO(165.5,IEN,4,SUBIEN)) Q:(I=CNT)!(SUBIEN'>0)
"RTN","ONCACDU2",115,0)
 .I SUBIEN="" S X="" Q
"RTN","ONCACDU2",116,0)
 .S IENS=SUBIEN_","_IEN
"RTN","ONCACDU2",117,0)
 .S ENTRY=$$GET1^DIQ(165.51,IENS,FIELD,"I") I ENTRY="",FIELD'=".07",FIELD'=".08" S X="" Q
"RTN","ONCACDU2",118,0)
 .S HEMA=""
"RTN","ONCACDU2",119,0)
 .S HEMAPT=$$GET1^DIQ(165.51,IENS,.02,"I")
"RTN","ONCACDU2",120,0)
 .S:HEMAPT'="" HEMA=$P($G(^ONCO(167,HEMAPT,0)),U,1)
"RTN","ONCACDU2",121,0)
 .I $S(FIELD=".01":1,FIELD=".05":1,FIELD=".06":1,FIELD=".07":1,FIELD=".08":1,FIELD=".09":1,FIELD="37":1,1:0) D  Q
"RTN","ONCACDU2",122,0)
 ..I FIELD=".06" S X=$S(ENTRY="01":1,ENTRY="02":2,ENTRY="03":3,$E(ENTRY,1)=8:0,1:ENTRY) Q
"RTN","ONCACDU2",123,0)
 ..I FIELD=".07" S X=$S(ENTRY="00":0,ENTRY="01":1,$E(ENTRY,1)=8:0,ENTRY=99:9,1:"") Q:X'=""  S X=$S(HEMA=30:2,HEMA=40:2,1:"") Q
"RTN","ONCACDU2",124,0)
 ..I FIELD=".08" S X=$S(ENTRY="01":1,ENTRY=87:7,ENTRY=88:8,$E(ENTRY,1)=8:0,ENTRY=99:9,1:ENTRY) Q:X'=""  S X=$S(HEMA=10:4,HEMA=11:2,HEMA=12:3,HEMA=20:5,1:"") Q
"RTN","ONCACDU2",125,0)
 ..S X=ENTRY
"RTN","ONCACDU2",126,0)
 .I $$GET1^DIQ(165.5,IEN,3,"I")<2980000 S X=ENTRY Q
"RTN","ONCACDU2",127,0)
 .S SUBFLD=$S(FIELD=33:"RR5",FIELD=35:"SC5",FIELD=36:"SO5",FIELD=.04:"SPS",1:"") I SUBFLD="" S X="" Q
"RTN","ONCACDU2",128,0)
 .S X=$$SUB164^ONCACDU2(IEN,SUBFLD,ENTRY)
"RTN","ONCACDU2",129,0)
 I FIELD=.04,$L(X)=1 S X="0"_X
"RTN","ONCACDU2",130,0)
 Q X
"RTN","ONCACDU2",131,0)
 ;
"RTN","ONCACDU2",132,0)
SUB164(IEN,SUBFLD,ENTRY) ;ICDO TOPOGRAPHY (164)
"RTN","ONCACDU2",133,0)
 N X,TOP1,TOP2
"RTN","ONCACDU2",134,0)
 S X=""
"RTN","ONCACDU2",135,0)
 S TOP1=$$GET1^DIQ(165.5,IEN,20,"I") D:TOP1'=""
"RTN","ONCACDU2",136,0)
 .S TOP2=$$GET1^DIQ(164,TOP1,107,"I")
"RTN","ONCACDU2",137,0)
 .I (TOP1=67420)!(TOP1=67421)!(TOP1=67423)!(TOP1=67424)!($E(TOP1,3,4)=76)!(TOP1=67809),($G(FIELD)=58.6)!($G(FIELD)=58.7) S TOP2=67420
"RTN","ONCACDU2",138,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2)!($G(FIELD)=138)!($G(FIELD)=138.1)!($G(FIELD)=139)!($G(FIELD)=139.1)!($G(FIELD)=74)!($G(FIELD)=23),($E(TOP1,3,4)=76)!(TOP1=67809)!(TOP1=67420)!(TOP1=67421)!(TOP1=67423)!(TOP1=67424) S TOP2=67141
"RTN","ONCACDU2",139,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2),TOP1=67422 S TOP2=67770
"RTN","ONCACDU2",140,0)
 .I $G(SUBFLD)="SUA",($E(TOP1,3,4)=77) S TOP2=67141
"RTN","ONCACDU2",141,0)
 .D:TOP2'=""
"RTN","ONCACDU2",142,0)
 ..S X=$P($G(^ONCO(164,TOP2,SUBFLD,ENTRY,0)),U,2)
"RTN","ONCACDU2",143,0)
 Q X
"RTN","ONCACDU2",144,0)
 ;
"RTN","ONCACDU2",145,0)
RXPRI(IEN,FIELD,SUBFLD) ;
"RTN","ONCACDU2",146,0)
 ;RX Hosp--Surg Prim Site    [670] 457-458
"RTN","ONCACDU2",147,0)
 ;RX Hosp--Surg Site 98-02   [746] 478-479
"RTN","ONCACDU2",148,0)
 ;RX Hosp--Scope Reg 98-02   [747] 480-480
"RTN","ONCACDU2",149,0)
 ;RX Hosp--Surg Oth 98-02    [748] 481-481
"RTN","ONCACDU2",150,0)
 ;RX Summ--Surg Prim Site   [1290] 859-860
"RTN","ONCACDU2",151,0)
 ;RX Summ--Surgical Approch [1310] 865-865
"RTN","ONCACDU2",152,0)
 ;RX Summ--Reconstruct 1st  [1330] 867-867
"RTN","ONCACDU2",153,0)
 ;RX Summ--Surg Site 98-02  [1646] 939-940
"RTN","ONCACDU2",154,0)
 ;RX Summ--Scope Reg 98-02  [1647] 941-941
"RTN","ONCACDU2",155,0)
 ;RX Summ--Surg Oth 98-02   [1648] 942-942
"RTN","ONCACDU2",156,0)
 N X,ENTRY
"RTN","ONCACDU2",157,0)
 S X=""
"RTN","ONCACDU2",158,0)
 S TOP1=$$GET1^DIQ(165.5,IEN,20,"I")
"RTN","ONCACDU2",159,0)
 S ENTRY=$$GET1^DIQ(165.5,IEN,FIELD,"I") D:ENTRY'=""
"RTN","ONCACDU2",160,0)
 .I (TOP1=67420)!(TOP1=67421)!(TOP1=67423)!(TOP1=67424)!($E(TOP1,3,4)=76)!(TOP1=67809),($G(FIELD)=58.6)!($G(FIELD)=58.7) S X=$$SUB164^ONCACDU2(IEN,SUBFLD,ENTRY) Q
"RTN","ONCACDU2",161,0)
 .I $$GET1^DIQ(165.5,IEN,3,"I")<2980000,(FIELD=23)!(FIELD=74)!(FIELD=50.2)!(FIELD=58.2)!(FIELD=58.6)!(FIELD=58.7) S X=$S(FIELD=23:$$GET1^DIQ(160.4,ENTRY,.01,"I"),FIELD=74:$$GET1^DIQ(160.6,ENTRY,.01,"I"),1:ENTRY) Q
"RTN","ONCACDU2",162,0)
 .S X=$$SUB164^ONCACDU2(IEN,SUBFLD,ENTRY)
"RTN","ONCACDU2",163,0)
 Q X
"RTN","ONCACDU2",164,0)
 ;
"RTN","ONCACDU2",165,0)
LAST(ACD160) ;Get last DATE OF LAST CONTACT OR DEATH (160.04,.01)
"RTN","ONCACDU2",166,0)
 S X="",DLC=0
"RTN","ONCACDU2",167,0)
 S DLC=$O(^ONCO(160,ACD160,"F","AA",DLC))
"RTN","ONCACDU2",168,0)
 S:DLC'="" X=$O(^ONCO(160,ACD160,"F","AA",DLC,0))
"RTN","ONCACDU2",169,0)
 I X'>0 S X=""
"RTN","ONCACDU2",170,0)
 Q X
"RTN","ONCACDU2",171,0)
 ;
"RTN","ONCACDU2",172,0)
FNODE(ACD160,FIELD) ;
"RTN","ONCACDU2",173,0)
 ;Date of Last Contact     [1750] 1294-1301
"RTN","ONCACDU2",174,0)
 ;Vital Status             [1760] 1302-1302
"RTN","ONCACDU2",175,0)
 ;Quality of Survival      [1780] 1304-1304
"RTN","ONCACDU2",176,0)
 ;Follow-Up Source         [1790] 1305-1305
"RTN","ONCACDU2",177,0)
 ;Next Follow-Up Source    [1800] 1306-1306
"RTN","ONCACDU2",178,0)
 ;Unusual Follow-Up Method [1850] 1341-1341
"RTN","ONCACDU2",179,0)
 ;Following Registry       [2440] 2475-2484
"RTN","ONCACDU2",180,0)
 N FNODE,X
"RTN","ONCACDU2",181,0)
 S FNODE=$$LAST(ACD160),X=""
"RTN","ONCACDU2",182,0)
 I FNODE'="" D
"RTN","ONCACDU2",183,0)
 .N IENS
"RTN","ONCACDU2",184,0)
 .S IENS=FNODE_","_ACD160_","
"RTN","ONCACDU2",185,0)
 .S X=$$GET1^DIQ(160.04,IENS,FIELD,"I")
"RTN","ONCACDU2",186,0)
 Q X
"RTN","ONCACDU2",187,0)
 ;
"RTN","ONCACDU2",188,0)
CS(IEN) ;Cancer Status [1770] 1303-1303
"RTN","ONCACDU2",189,0)
 N X,Z,FNODE
"RTN","ONCACDU2",190,0)
 S FNODE=0
"RTN","ONCACDU2",191,0)
 S X=""
"RTN","ONCACDU2",192,0)
 S FNODE=$O(^ONCO(165.5,IEN,"TS",FNODE))
"RTN","ONCACDU2",193,0)
 I FNODE>0 D
"RTN","ONCACDU2",194,0)
 .N IENS,PT
"RTN","ONCACDU2",195,0)
 .S FNODE=$O(^ONCO(165.5,IEN,"TS"," "),-1)
"RTN","ONCACDU2",196,0)
 .Q:FNODE<1
"RTN","ONCACDU2",197,0)
 .S IENS=FNODE_","_IEN_","
"RTN","ONCACDU2",198,0)
 .S PT=$$GET1^DIQ(165.573,IENS,.02,"I")
"RTN","ONCACDU2",199,0)
 .Q:PT<1
"RTN","ONCACDU2",200,0)
 .S X=$$GET1^DIQ(164.42,PT,1,"I")
"RTN","ONCACDU2",201,0)
 Q X
"RTN","ONCACDU2",202,0)
 ;
"RTN","ONCACDU2",203,0)
CCTST(ACD160) ;
"RTN","ONCACDU2",204,0)
 ;Addr Current--City      [1810] 1307-1326
"RTN","ONCACDU2",205,0)
 ;Follow-Up Contact--City [1842] 1357-1376
"RTN","ONCACDU2",206,0)
 N X,D0,ONCOX1,OIEN,INCOM,ONCON,ONCOX
"RTN","ONCACDU2",207,0)
 S X=""
"RTN","ONCACDU2",208,0)
 S D0=ACD160
"RTN","ONCACDU2",209,0)
 I $D(^ONCO(160,D0,0)) D SETUP1^ONCOES
"RTN","ONCACDU2",210,0)
 I $D(ONCOX1) S X=$S($D(@ONCOX1):$P(@ONCOX1,U,4),1:"")
"RTN","ONCACDU2",211,0)
 S X=$$STRIP^XLFSTR(X,"!""""#$%&'()*+,-./:;<=>?[>]^_\{|}~`")
"RTN","ONCACDU2",212,0)
 Q X
"RTN","ONCACDU2",213,0)
 ;
"RTN","ONCACDU2",214,0)
CSTST(ACD160) ;
"RTN","ONCACDU2",215,0)
 ;Addr Current--State      [1820] 1327-1328
"RTN","ONCACDU2",216,0)
 ;Follow-Up Contact--State [1844] 1377-1378
"RTN","ONCACDU2",217,0)
 N X,D0,ONCOX1,ONCON,ONCOX
"RTN","ONCACDU2",218,0)
 S X=""
"RTN","ONCACDU2",219,0)
 S D0=ACD160
"RTN","ONCACDU2",220,0)
 I $D(^ONCO(160,D0,0)) D SETUP1^ONCOES
"RTN","ONCACDU2",221,0)
 I $D(ONCOX1) S X=$S($D(@ONCOX1):$P(@ONCOX1,U,5),1:"")
"RTN","ONCACDU2",222,0)
 S:X'="" X=$$GET1^DIQ(5,X,1,"I")
"RTN","ONCACDU2",223,0)
 S X=$S(X="CANAD":"CD",X="EU":"YY",X="MX":"XX",X="NF":"NL",X="PH":"XX",X="UN":"ZZ",1:X)
"RTN","ONCACDU2",224,0)
 Q X
"RTN","ONCACDU2",225,0)
 ;
"RTN","ONCACDU2",226,0)
ICD(ICD) ;ICD Code
"RTN","ONCACDU2",227,0)
 N X
"RTN","ONCACDU2",228,0)
 S ICD=$S(ICD'="":$P($G(^ICD9(ICD,0)),U),1:"0000")
"RTN","ONCACDU2",229,0)
 I ICD["." S ICD=$P(ICD,".")_$P(ICD,".",2)
"RTN","ONCACDU2",230,0)
 S:$L(ICD)=3 ICD=ICD_9
"RTN","ONCACDU2",231,0)
 S:$L(ICD)<4 ICD=$E("0000",1,4-$L(ICD))_ICD
"RTN","ONCACDU2",232,0)
 S:$L(ICD)>4 ICD=$E(ICD,1,4)
"RTN","ONCACDU2",233,0)
 I $E(ICD,4)="X"!($E(ICD,4)="-") S ICD=$E(ICD,1,3)_9
"RTN","ONCACDU2",234,0)
 Q ICD
"RTN","ONCACDU2",235,0)
 ;
"RTN","ONCACDU2",236,0)
ICDR(ICD) ;ICD Revision Number [1920] 1392-1392
"RTN","ONCACDU2",237,0)
 N ICDR
"RTN","ONCACDU2",238,0)
 S ICD=$$ICD(ICD)
"RTN","ONCACDU2",239,0)
 S ICDR=$S(ICD="    ":0,1:$$GET1^DIQ(160,ACD160,20,"I"))
"RTN","ONCACDU2",240,0)
 S:ICDR="" ICDR=0
"RTN","ONCACDU2",241,0)
 Q ICDR
"RTN","ONCACDU2",242,0)
 ;
"RTN","ONCACDU2",243,0)
LINK(ACD160) ;Linkage Name
"RTN","ONCACDU2",244,0)
 N NAME,X
"RTN","ONCACDU2",245,0)
 S DFN=ACD160 D DEM^VADPT
"RTN","ONCACDU2",246,0)
 S NAME=VADM(1)
"RTN","ONCACDU2",247,0)
 D KVAR^VADPT
"RTN","ONCACDU2",248,0)
 S X=($A($E(NAME,1)))+($A($E(NAME,2)))
"RTN","ONCACDU2",249,0)
 S X=X-128 I X<1 S X=""
"RTN","ONCACDU2",250,0)
 Q X
"RTN","ONCACDU2",251,0)
 ;
"RTN","ONCACDU2",252,0)
PPAY(IEN) ;PRIMARY PAYER AT DX (165.5,18)
"RTN","ONCACDU2",253,0)
 N X
"RTN","ONCACDU2",254,0)
 S X=$$GET1^DIQ(165.5,IEN,18,"I")
"RTN","ONCACDU2",255,0)
 S X=$$GET1^DIQ(160.3,$S(X'="":X,1:99),.01,"I")
"RTN","ONCACDU2",256,0)
 S X=$S(X<42:X,X>47:X,1:X-1)
"RTN","ONCACDU2",257,0)
 Q X
"RTN","ONCACDU2",258,0)
 ;
"RTN","ONCACDU2",259,0)
DS(IEN) ;RX Date--Surgery [1200] 755-762
"RTN","ONCACDU2",260,0)
 N X
"RTN","ONCACDU2",261,0)
 S X=$$GET1^DIQ(165.5,IEN,50,"I") I X'="" S SURGDT(X)=""
"RTN","ONCACDU2",262,0)
 S X=$$GET1^DIQ(165.5,IEN,138.2,"I") I X'="" S SURGDT(X)=""
"RTN","ONCACDU2",263,0)
 S X=$$GET1^DIQ(165.5,IEN,139.2,"I") I X'="" S SURGDT(X)=""
"RTN","ONCACDU2",264,0)
 S SURGDT=$O(SURGDT(0))
"RTN","ONCACDU2",265,0)
 S X=$$DATE^ONCACDU1(SURGDT)
"RTN","ONCACDU2",266,0)
 K SURGDT
"RTN","ONCACDU2",267,0)
 Q X
"RTN","ONCCS")
0^47^B22750957
"RTN","ONCCS",1,0)
ONCCS ;Hines OIFO/GWB - COLLABORATIVE STAGING ;11/20/03
"RTN","ONCCS",2,0)
 ;;2.11;ONCOLOGY;**40,43,44,47**;Mar 07, 1995;Build 19
"RTN","ONCCS",3,0)
 ;
"RTN","ONCCS",4,0)
 N DIR,X
"RTN","ONCCS",5,0)
 W !
"RTN","ONCCS",6,0)
 S DIR("A")=" Compute Collaborative Staging"
"RTN","ONCCS",7,0)
 S DIR(0)="Y",DIR("B")="Yes" D ^DIR
"RTN","ONCCS",8,0)
 I (Y=0)!(Y="")!(Y[U) S Y=$S(ONCOANS="A":"@4",1:"@0") Q
"RTN","ONCCS",9,0)
 ;
"RTN","ONCCS",10,0)
 S IEN=D0
"RTN","ONCCS",11,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,1,9)=U_U_U_U_U_U_U_U
"RTN","ONCCS",12,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,11)=""
"RTN","ONCCS",13,0)
 ;
"RTN","ONCCS",14,0)
 K INPUT,STORE,DISPLAY,STATUS,ONCSAPI
"RTN","ONCCS",15,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCCS",16,0)
 S INPUT("AGE")=$$AGEDX^ONCACDU1(IEN)
"RTN","ONCCS",17,0)
 S:$L(INPUT("AGE"))=1 INPUT("AGE")="00"_INPUT("AGE")
"RTN","ONCCS",18,0)
 S:$L(INPUT("AGE"))=2 INPUT("AGE")=0_INPUT("AGE")
"RTN","ONCCS",19,0)
 S INPUT("BEHAV")=$E($$GET1^DIQ(165.5,IEN,22.3,"I"),5)
"RTN","ONCCS",20,0)
 S INPUT("EXT")=$$GET1^DIQ(165.5,IEN,30.2,"I")
"RTN","ONCCS",21,0)
 S INPUT("EXTEVAL")=$$GET1^DIQ(165.5,IEN,29.1,"I")
"RTN","ONCCS",22,0)
 S INPUT("GRADE")=$$GET1^DIQ(165.5,IEN,24,"I")
"RTN","ONCCS",23,0)
 S INPUT("HIST")=$E($$GET1^DIQ(165.5,IEN,22.3,"I"),1,4)
"RTN","ONCCS",24,0)
 S INPUT("LNPOS")=$$GET1^DIQ(165.5,IEN,32,"I")
"RTN","ONCCS",25,0)
 S:$L(INPUT("LNPOS"))=1 INPUT("LNPOS")=0_INPUT("LNPOS")
"RTN","ONCCS",26,0)
 S INPUT("LNEXAM")=$$GET1^DIQ(165.5,IEN,33,"I")
"RTN","ONCCS",27,0)
 S:$L(INPUT("LNEXAM"))=1 INPUT("LNEXAM")=0_INPUT("LNEXAM")
"RTN","ONCCS",28,0)
 S INPUT("METS")=$$GET1^DIQ(165.5,IEN,34.3,"I")
"RTN","ONCCS",29,0)
 S INPUT("METSEVAL")=$$GET1^DIQ(165.5,IEN,34.4,"I")
"RTN","ONCCS",30,0)
 S INPUT("NODES")=$$GET1^DIQ(165.5,IEN,31.1,"I")
"RTN","ONCCS",31,0)
 S INPUT("NODESEVAL")=$$GET1^DIQ(165.5,IEN,32.1,"I")
"RTN","ONCCS",32,0)
 S PS=$$GET1^DIQ(165.5,IEN,20,"I")
"RTN","ONCCS",33,0)
 S:PS'="" PS=$TR($$GET1^DIQ(164,PS,1,"I"),".","")
"RTN","ONCCS",34,0)
 S INPUT("SITE")=PS
"RTN","ONCCS",35,0)
 S INPUT("SIZE")=$$GET1^DIQ(165.5,IEN,29.2,"I")
"RTN","ONCCS",36,0)
 S INPUT("SSF1")=$$GET1^DIQ(165.5,IEN,44.1,"I")
"RTN","ONCCS",37,0)
 S INPUT("SSF2")=$$GET1^DIQ(165.5,IEN,44.2,"I")
"RTN","ONCCS",38,0)
 S INPUT("SSF3")=$$GET1^DIQ(165.5,IEN,44.3,"I")
"RTN","ONCCS",39,0)
 S INPUT("SSF4")=$$GET1^DIQ(165.5,IEN,44.4,"I")
"RTN","ONCCS",40,0)
 S INPUT("SSF5")=$$GET1^DIQ(165.5,IEN,44.5,"I")
"RTN","ONCCS",41,0)
 S INPUT("SSF6")=$$GET1^DIQ(165.5,IEN,44.6,"I")
"RTN","ONCCS",42,0)
 ;
"RTN","ONCCS",43,0)
 S RC=$$CALC^ONCSAPI3(.ONCSAPI,.INPUT,.STORE,.DISPLAY,.STATUS)
"RTN","ONCCS",44,0)
 I RC D PRTERRS^ONCSAPIE() R "Press return to continue",X:DTIME
"RTN","ONCCS",45,0)
 ;---
"RTN","ONCCS",46,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,1)=STORE("T")
"RTN","ONCCS",47,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,2)=STORE("TDESCR")
"RTN","ONCCS",48,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,3)=STORE("N")
"RTN","ONCCS",49,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,4)=STORE("NDESCR")
"RTN","ONCCS",50,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,5)=STORE("M")
"RTN","ONCCS",51,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,6)=STORE("MDESCR")
"RTN","ONCCS",52,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,7)=STORE("AJCC")
"RTN","ONCCS",53,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,8)=STORE("SS1977")
"RTN","ONCCS",54,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,9)=STORE("SS2000")
"RTN","ONCCS",55,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,11)=$G(STATUS("APIVER"))
"RTN","ONCCS",56,0)
 D ^ONCPCS
"RTN","ONCCS",57,0)
 I $P(RC,U,1)=0 W !," Collaborative Staging was successful" Q
"RTN","ONCCS",58,0)
 I $P(RC,U,1)=-10 W !," CS server unavailable.  Contact IRM." Q
"RTN","ONCCS",59,0)
 I $P(RC,U,1)=-22 W !," Invalid COLLABORATIVE STAGING URL value in ONCOLOGY SITE PARAMETERS" Q
"RTN","ONCCS",60,0)
 I $P(RC,U,1)<0 W !," You have encountered a CS error" G CSERR
"RTN","ONCCS",61,0)
 I $P(RC,U,1)>0 W !," You have encountered a CS warning" G CSERR
"RTN","ONCCS",62,0)
 ;
"RTN","ONCCS",63,0)
CSERR N DIR,X
"RTN","ONCCS",64,0)
 S DIR("A")="Do you wish to re-enter the CS input values"
"RTN","ONCCS",65,0)
 S DIR(0)="Y",DIR("B")="Yes" D ^DIR
"RTN","ONCCS",66,0)
 I Y=1 S Y="@292" Q
"RTN","ONCCS",67,0)
 I Y[U S Y="@0" Q
"RTN","ONCCS",68,0)
 S Y=$S(ONCOANS="A":"@4",1:"@0")
"RTN","ONCCS",69,0)
 Q
"RTN","ONCCS",70,0)
 ;
"RTN","ONCCS",71,0)
INIT ;Initialize CS fields when HISTOLOGY (ICD-O-3) (165.5,22.3) changes
"RTN","ONCCS",72,0)
 S LNS=$O(^ONCO(164.2,"B","LUNG NOS",0))
"RTN","ONCCS",73,0)
 S LSC=$O(^ONCO(164.2,"B","LUNG SMALL CELL",0))
"RTN","ONCCS",74,0)
 S MEL=$O(^ONCO(164.2,"B","MELANOMA",0))
"RTN","ONCCS",75,0)
 S SITEGRP=$P($G(^ONCO(165.5,D0,0)),U,1)
"RTN","ONCCS",76,0)
 S OLDHST=$P($G(^ONCO(165.5,D0,2.2)),U,3)
"RTN","ONCCS",77,0)
 I X=OLDHST Q
"RTN","ONCCS",78,0)
 I SITEGRP=LNS D
"RTN","ONCCS",79,0)
 .I ($E(X,1,4)=8041)!($E(X,1,4)=8042)!($E(X,1,4)=8043)!($E(X,1,4)=8044)!($E(X,1,4)=8045)!($E(X,1,4)=8246) D  W !!," SITE/GP changed to LUNG SMALL CELL",!
"RTN","ONCCS",80,0)
 ..S $P(^ONCO(165.5,D0,0),U,1)=LSC
"RTN","ONCCS",81,0)
 ..K ^ONCO(165.5,"B",LNS,D0)
"RTN","ONCCS",82,0)
 ..S ^ONCO(165.5,"B",LSC,D0)=""
"RTN","ONCCS",83,0)
 I SITEGRP=LSC D
"RTN","ONCCS",84,0)
 .I ($E(X,1,4)'=8041)&($E(X,1,4)'=8042)&($E(X,1,4)'=8043)&($E(X,1,4)'=8044)&($E(X,1,4)'=8045)&($E(X,1,4)'=8246) D  W !!," SITE/GP changed to LUNG NOS",!
"RTN","ONCCS",85,0)
 ..S $P(^ONCO(165.5,D0,0),U,1)=LNS
"RTN","ONCCS",86,0)
 ..K ^ONCO(165.5,"B",LSC,D0)
"RTN","ONCCS",87,0)
 ..S ^ONCO(165.5,"B",LNS,D0)=""
"RTN","ONCCS",88,0)
 I SITEGRP'=MEL D
"RTN","ONCCS",89,0)
 .I (X'<87200)&(X<87910) D  W !!," SITE/GP changed to MELANOMA",!
"RTN","ONCCS",90,0)
 ..S $P(^ONCO(165.5,D0,0),U,1)=MEL
"RTN","ONCCS",91,0)
 ..K ^ONCO(165.5,"B",SITEGRP,D0)
"RTN","ONCCS",92,0)
 ..S ^ONCO(165.5,"B",MEL,D0)=""
"RTN","ONCCS",93,0)
 I SITEGRP=MEL D
"RTN","ONCCS",94,0)
 .I (X<87200)!(X>87900) D
"RTN","ONCCS",95,0)
 ..W !
"RTN","ONCCS",96,0)
 ..W !," WARNING: SITE/GP and HISTOLOGY discrepancy"
"RTN","ONCCS",97,0)
 ..W !,"          SITE/GP   = MELANOMA"
"RTN","ONCCS",98,0)
 ..W !,"          HISTOLOGY = ",$P(Y,U,1),"  ",$P(Y,U,2)
"RTN","ONCCS",99,0)
 ..W !
"RTN","ONCCS",100,0)
 I OLDHST="" Q
"RTN","ONCCS",101,0)
 S HSTI=$$HIST^ONCFUNC(D0)
"RTN","ONCCS",102,0)
 S TEXT=HISTNAM
"RTN","ONCCS",103,0)
 S $P(^ONCO(165.5,D0,8),U,2)=$E(TEXT,1,40)
"RTN","ONCCS",104,0)
 I $P($G(^ONCO(165.5,D0,0)),U,16)<3040000 Q
"RTN","ONCCS",105,0)
 W !
"RTN","ONCCS",106,0)
 W !?3,"You have changed the HISTOLOGY (ICD-O-3).  This change may"
"RTN","ONCCS",107,0)
 W !?3,"affect the validity of the COLLABORATIVE STAGING data."
"RTN","ONCCS",108,0)
 W !?3,"Therefore, the CS fields have been initialized and need to"
"RTN","ONCCS",109,0)
 W !?3,"be re-entered."
"RTN","ONCCS",110,0)
 W !
"RTN","ONCCS",111,0)
 F PIECE=1:1:12 S $P(^ONCO(165.5,D0,"CS"),U,PIECE)=""
"RTN","ONCCS",112,0)
 F PIECE=1:1:11 S $P(^ONCO(165.5,D0,"CS1"),U,PIECE)=""
"RTN","ONCCS",113,0)
 Q
"RTN","ONCEDIT")
0^26^B75961355
"RTN","ONCEDIT",1,0)
ONCEDIT ;Hines OIFO/GWB - ONCOLOGY INTER-FIELD EDITS ;09/29/00
"RTN","ONCEDIT",2,0)
 ;;2.11;ONCOLOGY;**27,28,34,36,39,42,43,45,46,47**;Mar 07, 1995;Build 19
"RTN","ONCEDIT",3,0)
 ;
"RTN","ONCEDIT",4,0)
 N X
"RTN","ONCEDIT",5,0)
 K MSG
"RTN","ONCEDIT",6,0)
 S RHSP=$$GET1^DIQ(165.5,PRM,.03,"I")  ;REPORTING HOSPITAL
"RTN","ONCEDIT",7,0)
 S COCI=$$GET1^DIQ(165.5,PRM,.04,"I")  ;CLASS OF CASE
"RTN","ONCEDIT",8,0)
 S COCE=$$GET1^DIQ(165.5,PRM,.04,"E")
"RTN","ONCEDIT",9,0)
 S STAT=$$GET1^DIQ(165.5,PRM,.091)     ;STATUS
"RTN","ONCEDIT",10,0)
 S TRSI=$$GET1^DIQ(165.5,PRM,1.2,"I")  ;TYPE OF REPORTING SOURCE
"RTN","ONCEDIT",11,0)
 S TRSE=$$GET1^DIQ(165.5,PRM,1.2,"E")
"RTN","ONCEDIT",12,0)
 S RFAC=$$GET1^DIQ(165.5,PRM,6,"I")    ;FACILITY REFERRED FROM
"RTN","ONCEDIT",13,0)
 S TFAC=$$GET1^DIQ(165.5,PRM,7,"I")    ;FACILITY REFERRED TO
"RTN","ONCEDIT",14,0)
 S TOPI=$$GET1^DIQ(165.5,PRM,20,"I")   ;PRIMARY SITE
"RTN","ONCEDIT",15,0)
 S TOPE=$$GET1^DIQ(165.5,PRM,20,"E")
"RTN","ONCEDIT",16,0)
 S HSTI=$$HIST^ONCFUNC(PRM)            ;HISTOLOGY
"RTN","ONCEDIT",17,0)
 S HSTE=$$GET1^DIQ(165.5,PRM,HSTFLD,"E")
"RTN","ONCEDIT",18,0)
 S BCOD=$E(HSTI,5)                     ;BEHAVIOR CODE
"RTN","ONCEDIT",19,0)
 S SSTI=$$GET1^DIQ(165.5,PRM,35,"I")   ;SUMMARY STAGE
"RTN","ONCEDIT",20,0)
 S SSTE=$$GET1^DIQ(165.5,PRM,35,"E")
"RTN","ONCEDIT",21,0)
 ;
"RTN","ONCEDIT",22,0)
IF02 S SDX=""
"RTN","ONCEDIT",23,0)
 S SDXI=$$GET1^DIQ(165.5,PRM,16,"I")   ;STATE AT DX
"RTN","ONCEDIT",24,0)
 S SDXE=$$GET1^DIQ(165.5,PRM,16,"E")
"RTN","ONCEDIT",25,0)
 I SDXI'="" S SDX=$P(^ONCO(160.15,SDXI,0),U,1)
"RTN","ONCEDIT",26,0)
 S PCDX=$$GET1^DIQ(165.5,PRM,9,"I")    ;POSTAL CODE AT DX
"RTN","ONCEDIT",27,0)
 I SDX="YY",PCDX'=888888888 D  D ERRMSG
"RTN","ONCEDIT",28,0)
 .S MSG(1)="STATE AT DX = YY ("_SDXE_")"
"RTN","ONCEDIT",29,0)
 .S MSG(2)="POSTAL CODE AT DX must be 888888888"
"RTN","ONCEDIT",30,0)
 I SDX="ZZ",PCDX'=999999999 D  D ERRMSG
"RTN","ONCEDIT",31,0)
 .S MSG(1)="STATE AT DX = ZZ ("_SDXE_")"
"RTN","ONCEDIT",32,0)
 .S MSG(2)="POSTAL CODE AT DX must be 999999999"
"RTN","ONCEDIT",33,0)
 K MSG,PCDX,SDX,SDXI,SDXE
"RTN","ONCEDIT",34,0)
 ;
"RTN","ONCEDIT",35,0)
IF03 I RHSP=RFAC D  D ERRMSG
"RTN","ONCEDIT",36,0)
 .S MSG(1)="REPORTING HOSPITAL = FACILITY REFERRED FROM"
"RTN","ONCEDIT",37,0)
 I RHSP=TFAC D  D ERRMSG
"RTN","ONCEDIT",38,0)
 .S MSG(1)="REPORTING HOSPITAL = FACILITY REFERRED TO"
"RTN","ONCEDIT",39,0)
 ;
"RTN","ONCEDIT",40,0)
IF10 I ((COCI=2)!(COCI=3)),RFAC="" D  D ERRMSG
"RTN","ONCEDIT",41,0)
 .S MSG(1)="CLASS OF CASE = "_COCI_" ("_COCE_")"
"RTN","ONCEDIT",42,0)
 .S MSG(2)="FACILITY REFERRED FROM may not be blank"
"RTN","ONCEDIT",43,0)
 K MSG,RHSP,RFAC,TFAC
"RTN","ONCEDIT",44,0)
 ;
"RTN","ONCEDIT",45,0)
IF06 S DIAI=$$GET1^DIQ(165.5,PRM,155,"I")  ;DATE OF FIRST CONTACT
"RTN","ONCEDIT",46,0)
 S DIAE=$$GET1^DIQ(165.5,PRM,155,"E")
"RTN","ONCEDIT",47,0)
 S DDXI=$$GET1^DIQ(165.5,PRM,3,"I")    ;DATE DX
"RTN","ONCEDIT",48,0)
 S DDXE=$$GET1^DIQ(165.5,PRM,3,"E")
"RTN","ONCEDIT",49,0)
 I DIAE="99/99/9999" G IF06EX
"RTN","ONCEDIT",50,0)
 S MSG(1)="CLASS OF CASE = "_COCI_" ("_COCE_")"
"RTN","ONCEDIT",51,0)
 S MSG(2)="DATE OF FIRST CONTACT..: "_DIAE
"RTN","ONCEDIT",52,0)
 S MSG(3)=" later than"
"RTN","ONCEDIT",53,0)
 I COCI=0 D
"RTN","ONCEDIT",54,0)
 .S SPSI=$$GET1^DIQ(165.5,PRM,50,"I")  ;MOST DEFINITIVE SURG DATE
"RTN","ONCEDIT",55,0)
 .S SPSE=$$GET1^DIQ(165.5,PRM,50,"E")
"RTN","ONCEDIT",56,0)
 .S RADI=$$GET1^DIQ(165.5,PRM,51,"I")  ;DATE RADIATION STARTED
"RTN","ONCEDIT",57,0)
 .S RADE=$$GET1^DIQ(165.5,PRM,51,"E")
"RTN","ONCEDIT",58,0)
 .S CNSI=$$GET1^DIQ(165.5,PRM,52,"I")  ;RADIATION THERAPY TO CNS DATE
"RTN","ONCEDIT",59,0)
 .S CNSE=$$GET1^DIQ(165.5,PRM,52,"E")
"RTN","ONCEDIT",60,0)
 .S CHMI=$$GET1^DIQ(165.5,PRM,53,"I")  ;CHEMOTHERAPY DATE
"RTN","ONCEDIT",61,0)
 .S CHME=$$GET1^DIQ(165.5,PRM,53,"E")
"RTN","ONCEDIT",62,0)
 .S HORI=$$GET1^DIQ(165.5,PRM,54,"I")  ;HORMONE THERAPY DATE
"RTN","ONCEDIT",63,0)
 .S HORE=$$GET1^DIQ(165.5,PRM,54,"E")
"RTN","ONCEDIT",64,0)
 .S BRMI=$$GET1^DIQ(165.5,PRM,55,"I")  ;IMMUNOTHERAPY DATE
"RTN","ONCEDIT",65,0)
 .S BRME=$$GET1^DIQ(165.5,PRM,55,"E")
"RTN","ONCEDIT",66,0)
 .S OTHI=$$GET1^DIQ(165.5,PRM,57,"I")  ;OTHER TREATMENT START DATE
"RTN","ONCEDIT",67,0)
 .S OTHE=$$GET1^DIQ(165.5,PRM,57,"E")
"RTN","ONCEDIT",68,0)
 .I SPSI'="0000000",DIAI>SPSI D  D ERRMSG
"RTN","ONCEDIT",69,0)
 ..S MSG(4)="MOST DEFINITIVE SURG DATE....: "_SPSE
"RTN","ONCEDIT",70,0)
 .I RADI'="0000000",DIAI>RADI D  D ERRMSG
"RTN","ONCEDIT",71,0)
 ..S MSG(4)="DATE RADIATION STARTED.......: "_RADE
"RTN","ONCEDIT",72,0)
 .I DDXI<2960000,CNSI'="0000000",DIAI>CNSI D  D ERRMSG
"RTN","ONCEDIT",73,0)
 ..S MSG(4)="RADIATION THERAPY TO CNS DATE: "_CNSE
"RTN","ONCEDIT",74,0)
 .I CHMI'="0000000",DIAI>CHMI D  D ERRMSG
"RTN","ONCEDIT",75,0)
 ..S MSG(4)="CHEMOTHERAPY DATE............: "_CHME
"RTN","ONCEDIT",76,0)
 .I HORI'="0000000",DIAI>HORI D  D ERRMSG
"RTN","ONCEDIT",77,0)
 ..S MSG(4)="HORMONE THERAPY DATE.........: "_HORE
"RTN","ONCEDIT",78,0)
 .I BRMI'="0000000",DIAI>BRMI D  D ERRMSG
"RTN","ONCEDIT",79,0)
 ..S MSG(4)="IMMUNOTHERAPY DATE...........: "_BRME
"RTN","ONCEDIT",80,0)
 .I OTHI'="0000000",DIAI>OTHI D  D ERRMSG
"RTN","ONCEDIT",81,0)
 ..S MSG(4)="OTHER TREATMENT START DATE...: "_OTHE
"RTN","ONCEDIT",82,0)
IF06EX K MSG,DIAI,DIAE
"RTN","ONCEDIT",83,0)
 K SPSI,SPSE,RADI,RADE,CNSI,CNSE,CHMI,CHME,HORI,HORE,BRMI,BRME,OTHI,OTHE
"RTN","ONCEDIT",84,0)
 ;
"RTN","ONCEDIT",85,0)
IF0708 S DXCF=$$GET1^DIQ(165.5,PRM,26,"I")   ;DIAGNOSTIC CONFIRMATION
"RTN","ONCEDIT",86,0)
 S SEQ=$$GET1^DIQ(165.5,PRM,.06,"I")   ;SEQUENCE NUMBER
"RTN","ONCEDIT",87,0)
 S SEQN=+$$GET1^DIQ(165.5,PRM,.06,"I")
"RTN","ONCEDIT",88,0)
 S PRIM=$$GET1^DIQ(165.5,PRM,20,"I")   ;PRIMARY SITE
"RTN","ONCEDIT",89,0)
 S OVER=$$GET1^DIQ(165.5,PRM,223,"I")  ;OVERRIDE HOSPSEQ/DXCONF
"RTN","ONCEDIT",90,0)
 I TRSI=6,COCI'=5 D  D ERRMSG
"RTN","ONCEDIT",91,0)
 .S MSG(1)="TYPE OF REPORTING SOURCE = 6 ("_TRSE_")"
"RTN","ONCEDIT",92,0)
 .S MSG(2)="CLASS OF CASE must be 5 (Dx at autopsy)"
"RTN","ONCEDIT",93,0)
 I COCI=5,TRSI'=6 D  D ERRMSG
"RTN","ONCEDIT",94,0)
 .S MSG(1)="CLASS OF CASE = 5 ("_COCE_")"
"RTN","ONCEDIT",95,0)
 .S MSG(2)="TYPE OF REPORTING SOURCE must be 6 (Autopsy only)"
"RTN","ONCEDIT",96,0)
 I TRSI=7,DXCF'=9 D  D ERRMSG
"RTN","ONCEDIT",97,0)
 .S MSG(1)="TYPE OF REPORTING SOURCE = 7 ("_TRSE_")"
"RTN","ONCEDIT",98,0)
 .S MSG(2)="DIAGNOSTIC CONFIRMATION must be 9 (Unk if microscopically confirmed)"
"RTN","ONCEDIT",99,0)
 I TRSI=6,((DXCF'=1)&(DXCF'=6)) D  D ERRMSG
"RTN","ONCEDIT",100,0)
 .S MSG(1)="TYPE OF REPORTING SOURCE = 6 ("_TRSE_")"
"RTN","ONCEDIT",101,0)
 .S MSG(2)="DIAGNOSTIC CONFIRMATION must be 1 (Pos histology) or"
"RTN","ONCEDIT",102,0)
 .S MSG(3)="                                6 (Direct visualization)"
"RTN","ONCEDIT",103,0)
 I ($E(PRIM,3,4)=76)!(PRIM=67809) G IF11
"RTN","ONCEDIT",104,0)
 I DXCF>5,((SEQN>0)&(SEQN<60))!(SEQN>88),OVER="" D  D ERRMSG K DIR S DIR(0)="YA",DIR("A")="Do you wish to set the OVERRIDE HOSPSEQ/DXCONF flag to 'Reviewed'? ",DIR("B")="Y" D ^DIR W ! I Y=1 S $P(^ONCO(165.5,PRM,"OVRD"),U,19)=1,CMPLT=SAVCMPLT
"RTN","ONCEDIT",105,0)
 .S SAVCMPLT=CMPLT
"RTN","ONCEDIT",106,0)
 .S MSG(1)="DIAGNOSTIC CONFIRMATION > 5 ("_DXCF_")"
"RTN","ONCEDIT",107,0)
 .S MSG(2)="SEQUENCE NUMBER > 00 ("_SEQ_")"
"RTN","ONCEDIT",108,0)
 .S MSG(3)="OVERRIDE HOSPSEQ/DXCONF is required"
"RTN","ONCEDIT",109,0)
 K MSG,DXCF,SEQN,PRIM,OVER,SAVCMPLT,DIR
"RTN","ONCEDIT",110,0)
 ;
"RTN","ONCEDIT",111,0)
IF11 G:TOPI="" IF11EX
"RTN","ONCEDIT",112,0)
 S PORG=$$GET1^DIQ(164,TOPI,.07,"I")   ;PAIRED ORGAN
"RTN","ONCEDIT",113,0)
 S LTRL=$$GET1^DIQ(165.5,PRM,28,"I")   ;LATERALITY
"RTN","ONCEDIT",114,0)
 I PORG=1,LTRL=0,DDXI>3031231 D  D ERRMSG
"RTN","ONCEDIT",115,0)
 .S MSG(1)=TOPE_" is a paired site"
"RTN","ONCEDIT",116,0)
 .S MSG(2)="LATERALITY must be provided for specified paired organs/sites"
"RTN","ONCEDIT",117,0)
 .S MSG(3)=""
"RTN","ONCEDIT",118,0)
 .S:TOPI=67300 MSG(4)="NOTE: If NASAL CARTILAGE or NASAL SEPTUM, override this warning."
"RTN","ONCEDIT",119,0)
 .S:TOPI=67340 MSG(4)="NOTE: If CARINA, override this warning."
"RTN","ONCEDIT",120,0)
 .S:TOPI=67413 MSG(4)="NOTE: If STERNUM, override this warning."
"RTN","ONCEDIT",121,0)
 .S:TOPI=67414 MSG(4)="NOTE: If SACRUM, COCCYX or SYMPHYSIS PUBIS, override this warning."
"RTN","ONCEDIT",122,0)
 I PORG=1,LTRL="" D  D ERRMSG
"RTN","ONCEDIT",123,0)
 .S MSG(1)=TOPE_" is a paired site"
"RTN","ONCEDIT",124,0)
 .S MSG(2)="LATERALITY must be provided for specified paired organs/sites"
"RTN","ONCEDIT",125,0)
 I PORG="",LTRL'=0 D  D ERRMSG
"RTN","ONCEDIT",126,0)
 .S MSG(1)=TOPE_" is an unpaired site"
"RTN","ONCEDIT",127,0)
 .S MSG(2)="LATERALITY must be 0 (Not a paired site)"
"RTN","ONCEDIT",128,0)
IF11EX K MSG,PORG,LTRL
"RTN","ONCEDIT",129,0)
 ;
"RTN","ONCEDIT",130,0)
 S RADI=$$GET1^DIQ(165.5,PRM,51.2,"I")   ;RADIATION
"RTN","ONCEDIT",131,0)
 S RADE=$$GET1^DIQ(165.5,PRM,51.2,"E")
"RTN","ONCEDIT",132,0)
 S LRTI=$$GET1^DIQ(165.5,PRM,126,"I")    ;LOCATION OF RADIATION TX
"RTN","ONCEDIT",133,0)
 I RADI'=0,LRTI=0 D  D ERRMSG
"RTN","ONCEDIT",134,0)
 .S MSG(1)="RADIATION = "_RADI_" ("_RADE_")"
"RTN","ONCEDIT",135,0)
 .S MSG(2)="LOCATION OF RADIATION TX cannot be 0 (No radiation tx)"
"RTN","ONCEDIT",136,0)
 K MSG,RADI,RADE,LRTI
"RTN","ONCEDIT",137,0)
 ;
"RTN","ONCEDIT",138,0)
 ;Treatment codes of 88 or dates of 88/88/8888 will prohibit 'Completion'
"RTN","ONCEDIT",139,0)
 S DRS=$$GET1^DIQ(165.5,PRM,51,"E")       ;DATE RADIATION STARTED
"RTN","ONCEDIT",140,0)
 S DRSFAC=$$GET1^DIQ(165.5,PRM,51.5,"E")  ;RADIATION @FACILITY DATE
"RTN","ONCEDIT",141,0)
 S DRE=$$GET1^DIQ(165.5,PRM,361,"E")      ;DATE RADIATION ENDED
"RTN","ONCEDIT",142,0)
 S CI=$$GET1^DIQ(165.5,PRM,53.2,"I")      ;CHEMOTHERAPY
"RTN","ONCEDIT",143,0)
 S CE=$$GET1^DIQ(165.5,PRM,53.2,"E")
"RTN","ONCEDIT",144,0)
 S CFACI=$$GET1^DIQ(165.5,PRM,53.3,"I")   ;CHEMOTHERAPY @FAC
"RTN","ONCEDIT",145,0)
 S CFACE=$$GET1^DIQ(165.5,PRM,53.3,"E")   ;CHEMOTHERAPY @FAC
"RTN","ONCEDIT",146,0)
 S CD=$$GET1^DIQ(165.5,PRM,53,"E")        ;CHEMOTHERAPY DATE
"RTN","ONCEDIT",147,0)
 S CFACD=$$GET1^DIQ(165.5,PRM,53.4,"E")   ;CHEMOTHERAPY @FAC DATE
"RTN","ONCEDIT",148,0)
 S HTI=$$GET1^DIQ(165.5,PRM,54.2,"I")     ;HORMONE THERAPY
"RTN","ONCEDIT",149,0)
 S HTE=$$GET1^DIQ(165.5,PRM,54.2,"E")
"RTN","ONCEDIT",150,0)
 S HTFACI=$$GET1^DIQ(165.5,PRM,54.3,"I")  ;HORMONE THERAPY @FAC
"RTN","ONCEDIT",151,0)
 S HTFACE=$$GET1^DIQ(165.5,PRM,54.3,"E")
"RTN","ONCEDIT",152,0)
 S HTD=$$GET1^DIQ(165.5,PRM,54,"E")       ;HORMONE THERAPY DATE
"RTN","ONCEDIT",153,0)
 S HTFACD=$$GET1^DIQ(165.5,PRM,54.4,"E")  ;HORMONE THERAPY @FAC DATE
"RTN","ONCEDIT",154,0)
 S ITI=$$GET1^DIQ(165.5,PRM,55.2,"I")     ;IMMUNOTHERAPY
"RTN","ONCEDIT",155,0)
 S ITE=$$GET1^DIQ(165.5,PRM,55.2,"E")
"RTN","ONCEDIT",156,0)
 S ITFACI=$$GET1^DIQ(165.5,PRM,55.3,"I")  ;IMMUNOTHERAPY @FAC
"RTN","ONCEDIT",157,0)
 S ITFACE=$$GET1^DIQ(165.5,PRM,55.3,"E")
"RTN","ONCEDIT",158,0)
 S ITD=$$GET1^DIQ(165.5,PRM,55,"E")       ;IMMUNOTHERAPY DATE
"RTN","ONCEDIT",159,0)
 S ITFACD=$$GET1^DIQ(165.5,PRM,55.4,"E")  ;IMMUNOTHERAPY @FAC DATE
"RTN","ONCEDIT",160,0)
 S HTEPI=$$GET1^DIQ(165.5,PRM,153,"I")     ;HEMA TRANS/ENDOCRINE PROC
"RTN","ONCEDIT",161,0)
 S HTEPE=$$GET1^DIQ(165.5,PRM,153,"E")
"RTN","ONCEDIT",162,0)
 S HTEPD=$$GET1^DIQ(165.5,PRM,153.1,"E")  ;HEMA TRANS/ENDOCRINE PROC DATE
"RTN","ONCEDIT",163,0)
 I DRS="88/88/8888" D  D TXDT88,ERRMSG
"RTN","ONCEDIT",164,0)
 .S MSG(1)="DATE RADIATION STARTED = "_DRS
"RTN","ONCEDIT",165,0)
 I DRSFAC="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",166,0)
 .S MSG(1)="RADIATION @FACILITY DATE = "_DRSFAC
"RTN","ONCEDIT",167,0)
 I DRE="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",168,0)
 .S MSG(1)="DATE RADIATION ENDED = "_DRE
"RTN","ONCEDIT",169,0)
 I CI=88 D  D ERRMSG
"RTN","ONCEDIT",170,0)
 .S MSG(1)="CHEMOTHERAPY = "_CI_" ("_CE_")"
"RTN","ONCEDIT",171,0)
 I CD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",172,0)
 .S MSG(1)="CHEMOTHERAPY DATE = "_CD
"RTN","ONCEDIT",173,0)
 I CFACI=88 D  D ERRMSG
"RTN","ONCEDIT",174,0)
 .S MSG(1)="CHEMOTHERAPY @FAC = "_CFACI_" ("_CFACE_")"
"RTN","ONCEDIT",175,0)
 I CFACD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",176,0)
 .S MSG(1)="CHEMOTHERAPY @FAC DATE = "_CFACD
"RTN","ONCEDIT",177,0)
 I HTI=88 D  D ERRMSG
"RTN","ONCEDIT",178,0)
 .S MSG(1)="HORMONE THERAPY = "_HTI_" ("_HTE_")"
"RTN","ONCEDIT",179,0)
 I HTD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",180,0)
 .S MSG(1)="HORMONE THERAPY DATE = "_HTD
"RTN","ONCEDIT",181,0)
 I HTFACI=88 D  D ERRMSG
"RTN","ONCEDIT",182,0)
 .S MSG(1)="HORMONE THERAPY @FAC = "_HTFACI_" ("_HTFACE_")"
"RTN","ONCEDIT",183,0)
 I HTFACD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",184,0)
 .S MSG(1)="HORMONE THERAPY @FAC DATE = "_HTFACD
"RTN","ONCEDIT",185,0)
 I ITI=88 D  D ERRMSG
"RTN","ONCEDIT",186,0)
 .S MSG(1)="IMMUNOTHERAPY = "_ITI_" ("_ITE_")"
"RTN","ONCEDIT",187,0)
 I ITD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",188,0)
 .S MSG(1)="IMMUNOTHERAPY DATE = "_ITD
"RTN","ONCEDIT",189,0)
 I ITFACI=88 D  D ERRMSG
"RTN","ONCEDIT",190,0)
 .S MSG(1)="IMMUNOTHERAPY @FAC = "_ITFACI_" ("_ITFACE_")"
"RTN","ONCEDIT",191,0)
 I ITFACD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",192,0)
 .S MSG(1)="IMMUNOTHERAPY @FAC DATE = "_ITFACD
"RTN","ONCEDIT",193,0)
 I HTEPI=12 D  D ERRMSG
"RTN","ONCEDIT",194,0)
 .S MSG(1)="HEMA TRANS/ENDOCRINE PROC = 88 ("_HTEPE_")"
"RTN","ONCEDIT",195,0)
 I HTEPD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",196,0)
 .S MSG(1)="HEMA TRANS/ENDOCRINE PROC DATE = "_HTEPD
"RTN","ONCEDIT",197,0)
 G ^ONCEDIT2
"RTN","ONCEDIT",198,0)
 ;
"RTN","ONCEDIT",199,0)
ERRMSG ;Error message
"RTN","ONCEDIT",200,0)
 S CMPLT=0
"RTN","ONCEDIT",201,0)
 W !," WARNING: "
"RTN","ONCEDIT",202,0)
 S MSGSUB=0 F  S MSGSUB=$O(MSG(MSGSUB)) Q:MSGSUB'>0  W ?10,MSG(MSGSUB),!
"RTN","ONCEDIT",203,0)
 R Z:10
"RTN","ONCEDIT",204,0)
 Q
"RTN","ONCEDIT",205,0)
 ;
"RTN","ONCEDIT",206,0)
TXDT88 ;Treatment date = 88/88/8888 error message
"RTN","ONCEDIT",207,0)
 S MSG(2)="This abstract cannot be 'Complete' without a valid treatment date."
"RTN","ONCEDIT",208,0)
 S MSG(3)="This inter-field edit WARNING may not be overridden."
"RTN","ONCEDIT",209,0)
 S OVERRIDE="NO"
"RTN","ONCEDIT",210,0)
 Q
"RTN","ONCEDIT2")
0^35^B39277416
"RTN","ONCEDIT2",1,0)
ONCEDIT2 ;Hines OIFO/GWB - ONCOLOGY INTERFIELD EDITS (continued);09/29/00
"RTN","ONCEDIT2",2,0)
 ;;2.11;ONCOLOGY;**27,28,32,33,44,47**;Mar 07, 1995;Build 19
"RTN","ONCEDIT2",3,0)
 ;
"RTN","ONCEDIT2",4,0)
IF1213 I BCOD=2,SSTI'=0 D  D ERRMSG
"RTN","ONCEDIT2",5,0)
 .S MSG(1)="BEHAVIOR CODE = 2 (In situ)"
"RTN","ONCEDIT2",6,0)
 .S MSG(2)="SUMMARY STAGE = "_SSTI_" ("_SSTE_")"
"RTN","ONCEDIT2",7,0)
 .S MSG(3)="BEHAVIOR CODE and SUMMARY STAGE confict"
"RTN","ONCEDIT2",8,0)
 I BCOD=3,SSTI=0 D  D ERRMSG
"RTN","ONCEDIT2",9,0)
 .S MSG(1)="BEHAVIOR CODE = 3 (Malignant)"
"RTN","ONCEDIT2",10,0)
 .S MSG(2)="SUMMARY STAGE = 0 (In situ)"
"RTN","ONCEDIT2",11,0)
 .S MSG(3)="BEHAVIOR CODE and SUMMARY STAGE confict"
"RTN","ONCEDIT2",12,0)
 K MSG
"RTN","ONCEDIT2",13,0)
 ;
"RTN","ONCEDIT2",14,0)
IF14 I $$LEUKEMIA^ONCOAIP2(PRM),TRSI'=7,SSTI'=7 D  D ERRMSG
"RTN","ONCEDIT2",15,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",16,0)
 .S MSG(2)="TYPE OF REPORTING SOURCE = "_TRSI_" ("_TRSE_")"
"RTN","ONCEDIT2",17,0)
 .S MSG(3)="SUMMARY STAGE must be 7 (Distant Mets/systemic disease)"
"RTN","ONCEDIT2",18,0)
 K MSG
"RTN","ONCEDIT2",19,0)
 ;
"RTN","ONCEDIT2",20,0)
IF1718 S HST4=$E(HSTI,1,4)
"RTN","ONCEDIT2",21,0)
 S GRDI=$$GET1^DIQ(165.5,PRM,24,"I") ;GRADE/DIFF/CELL TYPE 
"RTN","ONCEDIT2",22,0)
 S GRDE=$$GET1^DIQ(165.5,PRM,24,"E")
"RTN","ONCEDIT2",23,0)
 I ((HST4=8331)!(HST4=8851)!(HST4=9511)!(HST4=9693)),GRDI'=1 D  D ERRMSG
"RTN","ONCEDIT2",24,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",25,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be 1 (Grade I)"
"RTN","ONCEDIT2",26,0)
 I HST4=9083,GRDI'=2 D  D ERRMSG
"RTN","ONCEDIT2",27,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",28,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be 2 (Grade II)"
"RTN","ONCEDIT2",29,0)
 I ((HST4=8020)!(HST4=8021)!(HST4=9062)!(HST4=9082)!(HST4=9390)!(HST4=9401)!(HST4=9451)!(HST4=9512)),GRDI'=4 D  D ERRMSG
"RTN","ONCEDIT2",30,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",31,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be 4 (Grade IV)"
"RTN","ONCEDIT2",32,0)
 I (((DDXI<3010000)&(HST4=9696))!((DDXI>3001231)&(HST4=9695))),((GRDI'=3)&(GRDI'=5)&(GRDI'=6)&(GRDI'=7)) D  D ERRMSG
"RTN","ONCEDIT2",33,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",34,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be: 3 (Grade III)"
"RTN","ONCEDIT2",35,0)
 .S MSG(3)="                               5 (T-cell)"
"RTN","ONCEDIT2",36,0)
 .S MSG(4)="                               6 (B-cell)"
"RTN","ONCEDIT2",37,0)
 .S MSG(5)="                               7 (Null cell)"
"RTN","ONCEDIT2",38,0)
 I (((DDXI<3010000)&(HST4=9694))!((DDXI>3001231)&(HST4=9591))),((GRDI'=2)&(GRDI'=5)&(GRDI'=6)&(GRDI'=7)&(GRDI'=9)) D  D ERRMSG
"RTN","ONCEDIT2",39,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",40,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be: 2 (Grade II)"
"RTN","ONCEDIT2",41,0)
 .S MSG(3)="                               5 (T-cell)"
"RTN","ONCEDIT2",42,0)
 .S MSG(4)="                               6 (B-cell)"
"RTN","ONCEDIT2",43,0)
 .S MSG(5)="                               7 (Null cell)"
"RTN","ONCEDIT2",44,0)
 .S MSG(6)="                               9 (Unknown)"
"RTN","ONCEDIT2",45,0)
 I (((DDXI<3010000)&(HST4=9683))!((DDXI>3001231)&(HST4=9680))),((GRDI'=4)&(GRDI'=5)&(GRDI'=6)&(GRDI'=7)) D  D ERRMSG
"RTN","ONCEDIT2",46,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",47,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be: 4 (Grade IV)"
"RTN","ONCEDIT2",48,0)
 .S MSG(3)="                               5 (T-cell)"
"RTN","ONCEDIT2",49,0)
 .S MSG(4)="                               6 (B-cell)"
"RTN","ONCEDIT2",50,0)
 .S MSG(5)="                               7 (Null cell)"
"RTN","ONCEDIT2",51,0)
IF19 I ((GRDI=5)!(GRDI=6)!(GRDI=7)!(GRDI=8)),((HST4<9590)!(HST4>9948)) D  D ERRMSG
"RTN","ONCEDIT2",52,0)
 .S MSG(1)="GRADE/DIFF/CELL TYPE = "_GRDI_" ("_GRDE_")"
"RTN","ONCEDIT2",53,0)
 .S MSG(2)="HISTOLOGY must be leukemia or lymphoma (9590-9948)"
"RTN","ONCEDIT2",54,0)
 K MSG,HST4,GRDI,GRDE
"RTN","ONCEDIT2",55,0)
 ;
"RTN","ONCEDIT2",56,0)
IF20 I ($E(HSTI,1,3)>958)&($E(HSTI,1,3)<973),SSTI="" D  D ERRMSG
"RTN","ONCEDIT2",57,0)
 .S MSG(1)="No TNM classification is available for LYMPHOMA"
"RTN","ONCEDIT2",58,0)
 .S MSG(2)="SUMMARY STAGE cannot be blank"
"RTN","ONCEDIT2",59,0)
 I HSTI=91403,SSTI="" D  D ERRMSG
"RTN","ONCEDIT2",60,0)
 .S MSG(1)="No TNM classification is available for KAPOSI'S SAROMA"
"RTN","ONCEDIT2",61,0)
 .S MSG(2)="SUMMARY STAGE cannot be blank"
"RTN","ONCEDIT2",62,0)
 K MSG
"RTN","ONCEDIT2",63,0)
 ;
"RTN","ONCEDIT2",64,0)
IF21 S EXTE=$$GET1^DIQ(165.5,PRM,30,"E")   ;EXTENSION
"RTN","ONCEDIT2",65,0)
 I BCOD=3,$E(EXTE,1,2)="00" D  D ERRMSG
"RTN","ONCEDIT2",66,0)
 .S MSG(1)="BEHAVIOR CODE = 3 (Malignant)"
"RTN","ONCEDIT2",67,0)
 .S MSG(2)="EXTENSION may not be 00 (In situ)"
"RTN","ONCEDIT2",68,0)
 K MSG,EXTE
"RTN","ONCEDIT2",69,0)
 ;
"RTN","ONCEDIT2",70,0)
IF22 S PEXI=$$GET1^DIQ(165.5,PRM,30.1,"I") ;PATHOLOGIC EXTENSION
"RTN","ONCEDIT2",71,0)
 S PEXE=$$GET1^DIQ(165.5,PRM,30.1,"E")
"RTN","ONCEDIT2",72,0)
 I PEXI'="",PEXI'=99,TOPI'=67619 D  D ERRMSG
"RTN","ONCEDIT2",73,0)
 .S MSG(1)="PRIMARY SITE = "_TOPE
"RTN","ONCEDIT2",74,0)
 .S MSG(2)="PATHOLGIC EXTENSION = "_PEXE
"RTN","ONCEDIT2",75,0)
 .S MSG(3)="PATHOLOGIC EXTENSION may only be coded for PROSTATE (C61.9) cases"
"RTN","ONCEDIT2",76,0)
 K MSG,PEXI,PEXE
"RTN","ONCEDIT2",77,0)
 ;
"RTN","ONCEDIT2",78,0)
IF24 S LYMP=$$GET1^DIQ(165.5,PRM,31,"I")   ;LYMPH NODES
"RTN","ONCEDIT2",79,0)
 S NPRI=$$GET1^DIQ(165.5,PRM,32,"I")   ;REGIONAL NODES POSITIVE
"RTN","ONCEDIT2",80,0)
 S NPRE=$$GET1^DIQ(165.5,PRM,32,"E")
"RTN","ONCEDIT2",81,0)
 I ((NPRI>0)&(NPRI<98)),LYMP=0 D  D ERRMSG
"RTN","ONCEDIT2",82,0)
 .S MSG(1)="REGIONAL NODES POSITIVE = "_NPRE
"RTN","ONCEDIT2",83,0)
 .S MSG(2)="LYMPH NODES may not be 0 (No lymph nodes)"
"RTN","ONCEDIT2",84,0)
 K MSG,LYMP,NPRI,NPRE
"RTN","ONCEDIT2",85,0)
IF2A S NERI=$$GET1^DIQ(165.5,PRM,33,"I")   ;REGIONAL NODES EXAMINED
"RTN","ONCEDIT2",86,0)
 S NPRI=$$GET1^DIQ(165.5,PRM,32,"I")   ;REGIONAL NODES POSITIVE
"RTN","ONCEDIT2",87,0)
 S NERE=$$GET1^DIQ(165.5,PRM,33,"E")
"RTN","ONCEDIT2",88,0)
 I ((NERI=99)&(NPRI'=99)) D  D ERRMSG
"RTN","ONCEDIT2",89,0)
 .S MSG(1)="REGIONAL NODES EXAMINED = 99 ("_NERE_")"
"RTN","ONCEDIT2",90,0)
 .S MSG(2)="REGIONAL NODES POSITIVE must be 99 (Unk if nodes + or -, NA)"
"RTN","ONCEDIT2",91,0)
 K MSG,NERI,NPRI,NERE
"RTN","ONCEDIT2",92,0)
 ;
"RTN","ONCEDIT2",93,0)
IF25 S HORI=$$GET1^DIQ(165.5,PRM,54.2,"I")  ;HORMONE THERAPY
"RTN","ONCEDIT2",94,0)
 S HORE=$$GET1^DIQ(165.5,PRM,54.2,"E")
"RTN","ONCEDIT2",95,0)
 I ((HORI=2)!(HORI=3)),((TOPI'=67619)&($E(TOPI,3,4)'=50)) D  D ERRMSG
"RTN","ONCEDIT2",96,0)
 .S MSG(1)="PRIMARY SITE = "_TOPE
"RTN","ONCEDIT2",97,0)
 .S MSG(2)="HORMONE THERAPY = "_HORI_" ("_HORE_")"
"RTN","ONCEDIT2",98,0)
 .S MSG(3)="Only BREAST and PROSTATE cases may be coded as receiving"
"RTN","ONCEDIT2",99,0)
 .S MSG(4)="endocrine surgery or endocrine radiation"
"RTN","ONCEDIT2",100,0)
 K MSG,HORI,HORE
"RTN","ONCEDIT2",101,0)
 ;
"RTN","ONCEDIT2",102,0)
IF2627 S CDTH=$$GET1^DIQ(160,PTN,19)         ;CAUSE OF DEATH
"RTN","ONCEDIT2",103,0)
 S SDC=$$GET1^DIQ(160,PTN,19.1)        ;STATE DEATH CERT
"RTN","ONCEDIT2",104,0)
 S PDTH=$$GET1^DIQ(160,PTN,21)         ;PLACE OF DEATH
"RTN","ONCEDIT2",105,0)
 I STAT="Dead",PDTH="" D  D ERRMSG
"RTN","ONCEDIT2",106,0)
 .S MSG(1)="STATUS = "_STAT
"RTN","ONCEDIT2",107,0)
 .S MSG(2)="PLACE OF DEATH may not be blank"
"RTN","ONCEDIT2",108,0)
 I STAT="Dead",((CDTH="")&(SDC="")) D  D ERRMSG
"RTN","ONCEDIT2",109,0)
 .S MSG(1)="STATUS = "_STAT
"RTN","ONCEDIT2",110,0)
 .S MSG(2)="CAUSE OF DEATH and STATE DEATH CERT may not both be blank"
"RTN","ONCEDIT2",111,0)
 K MSG,CDTH,SDC,PDTH
"RTN","ONCEDIT2",112,0)
 ;
"RTN","ONCEDIT2",113,0)
RACE S RACE1=$$GET1^DIQ(160,PTN,8)   ;RACE 1
"RTN","ONCEDIT2",114,0)
 S RACE2=$$GET1^DIQ(160,PTN,8.1) ;RACE 2
"RTN","ONCEDIT2",115,0)
 S RACE3=$$GET1^DIQ(160,PTN,8.2) ;RACE 3
"RTN","ONCEDIT2",116,0)
 S RACE4=$$GET1^DIQ(160,PTN,8.3) ;RACE 4
"RTN","ONCEDIT2",117,0)
 S RACE5=$$GET1^DIQ(160,PTN,8.4) ;RACE 5
"RTN","ONCEDIT2",118,0)
 I RACE1="White",((RACE2'="NA")&(RACE2'="Unknown")&(RACE2'="")) D  D ERRMSG
"RTN","ONCEDIT2",119,0)
 .S MSG(1)="RACE 1 = "_RACE1
"RTN","ONCEDIT2",120,0)
 .S MSG(2)="RACE 2 = "_RACE2
"RTN","ONCEDIT2",121,0)
 .S MSG(3)="RACE 3 = "_RACE3
"RTN","ONCEDIT2",122,0)
 .S MSG(4)="RACE 4 = "_RACE4
"RTN","ONCEDIT2",123,0)
 .S MSG(5)="RACE 5 = "_RACE5
"RTN","ONCEDIT2",124,0)
 .S MSG(6)="For race combinations RACE 1 may not be 'White'"
"RTN","ONCEDIT2",125,0)
 I (RACE1="")!(RACE2="")!(RACE3="")!(RACE4="")!(RACE5="") G RACEX
"RTN","ONCEDIT2",126,0)
 S RACE(RACE1)="" I ((RACE2'="NA")&(RACE2'="Unknown")),$D(RACE(RACE2)) D DUPRACE
"RTN","ONCEDIT2",127,0)
 S RACE(RACE2)="" I ((RACE3'="NA")&(RACE3'="Unknown")),$D(RACE(RACE3)) D DUPRACE
"RTN","ONCEDIT2",128,0)
 S RACE(RACE3)="" I ((RACE4'="NA")&(RACE4'="Unknown")),$D(RACE(RACE4)) D DUPRACE
"RTN","ONCEDIT2",129,0)
 S RACE(RACE4)="" I ((RACE5'="NA")&(RACE5'="Unknown")),$D(RACE(RACE5)) D DUPRACE
"RTN","ONCEDIT2",130,0)
 K MSG,RACE,RACE1,RACE2,RACE3,RACE4,RACE5
"RTN","ONCEDIT2",131,0)
 ;
"RTN","ONCEDIT2",132,0)
RACEX K BCOD,COCI,COCE,DDXI,DDXE,HSTI,HSTE,SSTI,SSTE,STAT,TOPI,TOPE,TRSI,TRSE
"RTN","ONCEDIT2",133,0)
 Q
"RTN","ONCEDIT2",134,0)
 ;
"RTN","ONCEDIT2",135,0)
DUPRACE S MSG(1)="RACE 1 = "_RACE1
"RTN","ONCEDIT2",136,0)
 S MSG(2)="RACE 2 = "_RACE2
"RTN","ONCEDIT2",137,0)
 S MSG(3)="RACE 3 = "_RACE3
"RTN","ONCEDIT2",138,0)
 S MSG(4)="RACE 4 = "_RACE4
"RTN","ONCEDIT2",139,0)
 S MSG(5)="RACE 5 = "_RACE5
"RTN","ONCEDIT2",140,0)
 S MSG(6)="A specific race code may not occur more than once"
"RTN","ONCEDIT2",141,0)
 D ERRMSG
"RTN","ONCEDIT2",142,0)
 Q
"RTN","ONCEDIT2",143,0)
 ;
"RTN","ONCEDIT2",144,0)
ERRMSG ;Error message
"RTN","ONCEDIT2",145,0)
 S CMPLT=0
"RTN","ONCEDIT2",146,0)
 W !," WARNING: "
"RTN","ONCEDIT2",147,0)
 S MSGSUB=0 F  S MSGSUB=$O(MSG(MSGSUB)) Q:MSGSUB'>0  W ?10,MSG(MSGSUB),!
"RTN","ONCEDIT2",148,0)
 R Z:10
"RTN","ONCEDIT2",149,0)
 Q
"RTN","ONCGENED")
0^19^B19458550
"RTN","ONCGENED",1,0)
ONCGENED ;Hines OIFO/GWB - EDITS API ; 3/7/07 4:21pm
"RTN","ONCGENED",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07,1995;Build 19
"RTN","ONCGENED",3,0)
 ;
"RTN","ONCGENED",4,0)
NAACCR D CLEAR^ONCSAPIE(1)
"RTN","ONCGENED",5,0)
 K ^TMP("ONC",$J)
"RTN","ONCGENED",6,0)
 K ^TMP("ONC1",$J)
"RTN","ONCGENED",7,0)
 K ONCEDLST
"RTN","ONCGENED",8,0)
 N BLANK,NINE,ZERO,ZNINE,X
"RTN","ONCGENED",9,0)
 S BLANK=" "
"RTN","ONCGENED",10,0)
 S ZERO=0
"RTN","ONCGENED",11,0)
 S NINE=9
"RTN","ONCGENED",12,0)
 S ZNINE="09"
"RTN","ONCGENED",13,0)
 S EXTRACT=$O(^ONCO(160.16,"B","VACCR EXTRACT V11.1",0))
"RTN","ONCGENED",14,0)
 S EXT="VACCR"
"RTN","ONCGENED",15,0)
 S DEVICE=0,OIEN=0,PAGE=1,HDRIEN=12,OUT=0
"RTN","ONCGENED",16,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCGENED",17,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCGENED",18,0)
 S IINPNT=$P($G(^ONCO(160.1,OSP,1)),U,4)
"RTN","ONCGENED",19,0)
 S DXH=$$GET1^DIQ(160.19,IINPNT,.01,"I")
"RTN","ONCGENED",20,0)
 S STAT1=DXH
"RTN","ONCGENED",21,0)
 S PAGE=1
"RTN","ONCGENED",22,0)
 S IEN=D0
"RTN","ONCGENED",23,0)
 S ONCDST=$NA(^TMP("ONC",$J))
"RTN","ONCGENED",24,0)
 S MSGLST=$NA(^TMP("ONC1",$J))
"RTN","ONCGENED",25,0)
 ;
"RTN","ONCGENED",26,0)
 ;S RC=$$RBQPREP^ONCSED01(.ONCSAPI,.ONCDST,"DEBUG")
"RTN","ONCGENED",27,0)
 S RC=$$RBQPREP^ONCSED01(.ONCSAPI,.ONCDST)
"RTN","ONCGENED",28,0)
 ;S ERRFLG=RC
"RTN","ONCGENED",29,0)
 I RC<0 D PRTERRS^ONCSAPIE() Q
"RTN","ONCGENED",30,0)
 ;
"RTN","ONCGENED",31,0)
 N D0
"RTN","ONCGENED",32,0)
 D OUTPUT(IEN,EXTRACT,.OUT)
"RTN","ONCGENED",33,0)
 I $G(EDITS)="NO" D END^ONCSNACR(.ONCDST) Q
"RTN","ONCGENED",34,0)
 ;
"RTN","ONCGENED",35,0)
EDITS S RC=$$RBQEXEC^ONCSED01(.ONCSAPI,.ONCDST,MSGLST)
"RTN","ONCGENED",36,0)
 S ERRFLG=RC
"RTN","ONCGENED",37,0)
 I RC<0 D PRTERRS^ONCSAPIE()
"RTN","ONCGENED",38,0)
 I RC>0 D  Q:RC<0
"RTN","ONCGENED",39,0)
 . N %ZIS,IOP,POP
"RTN","ONCGENED",40,0)
 . S %ZIS("B")="HOME"
"RTN","ONCGENED",41,0)
 . D ^%ZIS  Q:$G(POP)  U IO
"RTN","ONCGENED",42,0)
 . S RC=$$REPORT^ONCSED01(.ONCSAPI,MSGLST,"MT")
"RTN","ONCGENED",43,0)
 . D ^%ZISC
"RTN","ONCGENED",44,0)
 Q
"RTN","ONCGENED",45,0)
 ;
"RTN","ONCGENED",46,0)
OUTPUT(IEN,EXTRACT,OUT) ;
"RTN","ONCGENED",47,0)
 N POS
"RTN","ONCGENED",48,0)
 S ACD160=$P(^ONCO(165.5,IEN,0),U,2)
"RTN","ONCGENED",49,0)
 S POS=0
"RTN","ONCGENED",50,0)
 F  S POS=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCGENED",51,0)
 .N NODE
"RTN","ONCGENED",52,0)
 .S NODE=0
"RTN","ONCGENED",53,0)
 .F  S NODE=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCGENED",54,0)
 ..N STRING,DEFAULT,FILL,LEN
"RTN","ONCGENED",55,0)
 ..Q:$G(^ONCO(160.16,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCGENED",56,0)
 ..S STRING=$TR(^ONCO(160.16,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCGENED",57,0)
 ..S DEFAULT=^ONCO(160.16,EXTRACT,"FIELD",NODE,2)
"RTN","ONCGENED",58,0)
 ..S FILL=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,3),U,1)
"RTN","ONCGENED",59,0)
 ..S LEN=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCGENED",60,0)
 ..D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,NODE,POS)
"RTN","ONCGENED",61,0)
 Q
"RTN","ONCGENED",62,0)
 ;
"RTN","ONCGENED",63,0)
DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,NODE,POS) ;Data print
"RTN","ONCGENED",64,0)
 N ACDANS
"RTN","ONCGENED",65,0)
 X STRING
"RTN","ONCGENED",66,0)
 I ACDANS="" D  Q
"RTN","ONCGENED",67,0)
 .N X,I
"RTN","ONCGENED",68,0)
 .S X=""
"RTN","ONCGENED",69,0)
 .I DEFAULT=8 D  Q
"RTN","ONCGENED",70,0)
 ..F I=1:1:LEN D WRITE^ONCSNACR(.ONCDST,DEFAULT)
"RTN","ONCGENED",71,0)
 .I @DEFAULT="09" D WRITE^ONCSNACR(.ONCDST,@DEFAULT) Q
"RTN","ONCGENED",72,0)
 .F I=1:1:LEN D WRITE^ONCSNACR(.ONCDST,@DEFAULT)
"RTN","ONCGENED",73,0)
 I $L(ACDANS)=LEN D WRITE^ONCSNACR(.ONCDST,ACDANS) Q
"RTN","ONCGENED",74,0)
 I $L(ACDANS)>LEN D WRITE^ONCSNACR(.ONCDST,$E(ACDANS,1,LEN)) Q
"RTN","ONCGENED",75,0)
 E  D  Q
"RTN","ONCGENED",76,0)
 .N JUST,STUFF,I,REM,CAL
"RTN","ONCGENED",77,0)
 .S JUST=$P(FILL,","),STUFF=$P(FILL,",",2)
"RTN","ONCGENED",78,0)
 .S REM=LEN-$L(ACDANS)
"RTN","ONCGENED",79,0)
 .I JUST="R" D WRITE^ONCSNACR(.ONCDST,ACDANS)
"RTN","ONCGENED",80,0)
 .F I=1:1:REM D WRITE^ONCSNACR(.ONCDST,@STUFF)
"RTN","ONCGENED",81,0)
 .I JUST="L" D WRITE^ONCSNACR(.ONCDST,ACDANS)
"RTN","ONCGENED",82,0)
 Q
"RTN","ONCGENED",83,0)
 ;
"RTN","ONCGENED",84,0)
CHKSUM ;Compute checksum
"RTN","ONCGENED",85,0)
 Q:'$D(ONCDST)
"RTN","ONCGENED",86,0)
 Q:$P($G(^ONCO(165.5,D0,7)),U,2)'=3
"RTN","ONCGENED",87,0)
 W !," Computing checksum value for this abstract..."
"RTN","ONCGENED",88,0)
 S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCGENED",89,0)
 S $P(^ONCO(165.5,D0,"EDITS"),U,1)=CHECKSUM
"RTN","ONCGENED",90,0)
 Q
"RTN","ONCGENED",91,0)
 ;
"RTN","ONCGENED",92,0)
CHANGE ;Check for change to ONCOLOGY PRIMARY (165.5) record
"RTN","ONCGENED",93,0)
 S EDITS="NO" D NAACCR K EDITS
"RTN","ONCGENED",94,0)
 S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCGENED",95,0)
 Q:$P($G(^ONCO(165.5,ONCOD0P,"EDITS")),U,1)=""
"RTN","ONCGENED",96,0)
 I CHECKSUM'=$P($G(^ONCO(165.5,ONCOD0P,"EDITS")),U,1) D
"RTN","ONCGENED",97,0)
 .W !
"RTN","ONCGENED",98,0)
 .W !," You have made a change to a 'Completed' abstract."
"RTN","ONCGENED",99,0)
 .W !," This abstract needs to be re-run through the EDITS API."
"RTN","ONCGENED",100,0)
 .W !!," Calling EDITS API..."
"RTN","ONCGENED",101,0)
 .D ^ONCGENED
"RTN","ONCGENED",102,0)
 .I ERRFLG'=0 D  Q
"RTN","ONCGENED",103,0)
 ..W !!," EDITS errors were encountered."
"RTN","ONCGENED",104,0)
 ..W !!," The ABSTRACT STATUS has been changed to 0 (Incomplete)."
"RTN","ONCGENED",105,0)
 ..S DIE="^ONCO(165.5,"
"RTN","ONCGENED",106,0)
 ..S DA=ONCOD0P
"RTN","ONCGENED",107,0)
 ..S DR="91///0;197///@;198///^S X=DT;199///^S X=DUZ"
"RTN","ONCGENED",108,0)
 ..D ^DIE
"RTN","ONCGENED",109,0)
 ..W !
"RTN","ONCGENED",110,0)
 ..K DIR S DIR(0)="YA"
"RTN","ONCGENED",111,0)
 ..S DIR("A")=" Do you wish to return to the Primary Menu Options? "
"RTN","ONCGENED",112,0)
 ..S DIR("B")="Yes" D ^DIR K DIR
"RTN","ONCGENED",113,0)
 ..I Y=1 S Y="@0"
"RTN","ONCGENED",114,0)
 .W !!," No EDITS errors or warnings.  ABSTRACT STATUS = 3 (Complete)."
"RTN","ONCGENED",115,0)
 .S DIE="^ONCO(165.5,"
"RTN","ONCGENED",116,0)
 .S DA=ONCOD0P
"RTN","ONCGENED",117,0)
 .S DR="197///^S X=CHECKSUM;198///^S X=DT;199///^S X=DUZ"
"RTN","ONCGENED",118,0)
 .D ^DIE
"RTN","ONCGENED",119,0)
 .S EDITS="NO" D NAACCR K EDITS
"RTN","ONCGENED",120,0)
 .S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCGENED",121,0)
 .S $P(^ONCO(165.5,D0,"EDITS"),U,1)=CHECKSUM
"RTN","ONCGENED",122,0)
 .W !
"RTN","ONCGENED",123,0)
 .K DIR S DIR(0)="E" D ^DIR
"RTN","ONCGENED",124,0)
 Q
"RTN","ONCMPH")
0^40^B1505699
"RTN","ONCMPH",1,0)
ONCMPH ;Hines OIFO/GWB - Multiple primary stuffing logic; 01/26/07
"RTN","ONCMPH",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCMPH",3,0)
 ;
"RTN","ONCMPH",4,0)
UNKPRIM ;UNKNOWN PRIMARY (C80.9) stuffing
"RTN","ONCMPH",5,0)
 S $P(^ONCO(165.5,DA,24),U,14)=11
"RTN","ONCMPH",6,0)
 W !,"MULT TUM RPT AS ONE PRIM: NA"
"RTN","ONCMPH",7,0)
 S $P(^ONCO(165.5,DA,24),U,15)=8888888
"RTN","ONCMPH",8,0)
 W !,"DATE OF MULTIPLE TUMORS: 88/88/8888"
"RTN","ONCMPH",9,0)
 S $P(^ONCO(165.5,DA,24),U,16)=88
"RTN","ONCMPH",10,0)
 W !,"MULTIPLICITY COUNTER: 88"
"RTN","ONCMPH",11,0)
 S Y=28
"RTN","ONCMPH",12,0)
 Q
"RTN","ONCMPH",13,0)
MTRAOP ;MULT TUM RPT AS ONE PRIM (165.5,194)
"RTN","ONCMPH",14,0)
 I X=1 D   S Y=28 Q
"RTN","ONCMPH",15,0)
 .S $P(^ONCO(165.5,DA,24),U,15)="0000000"
"RTN","ONCMPH",16,0)
 .W !,"DATE OF MULTIPLE TUMORS: 00/00/0000"
"RTN","ONCMPH",17,0)
 .S $P(^ONCO(165.5,DA,24),U,16)="01"
"RTN","ONCMPH",18,0)
 .W !,"MULTIPLICITY COUNTER: 01"
"RTN","ONCMPH",19,0)
 I X=11 D  S Y=28 Q
"RTN","ONCMPH",20,0)
 .S $P(^ONCO(165.5,DA,24),U,15)=8888888
"RTN","ONCMPH",21,0)
 .W !,"DATE OF MULTIPLE TUMORS: 88/88/8888"
"RTN","ONCMPH",22,0)
 .S $P(^ONCO(165.5,DA,24),U,16)=88
"RTN","ONCMPH",23,0)
 .W !,"MULTIPLICITY COUNTER: 88"
"RTN","ONCMPH",24,0)
 I X=12 D  S Y=28 Q
"RTN","ONCMPH",25,0)
 .S $P(^ONCO(165.5,DA,24),U,15)=9999999
"RTN","ONCMPH",26,0)
 .W !,"DATE OF MULTIPLE TUMORS: 99/99/9999"
"RTN","ONCMPH",27,0)
 .S $P(^ONCO(165.5,DA,24),U,16)=99
"RTN","ONCMPH",28,0)
 .W !,"MULTIPLICITY COUNTER: 99"
"RTN","ONCMPH",29,0)
 Q
"RTN","ONCNTX")
0^54^B84335165
"RTN","ONCNTX",1,0)
ONCNTX ;Hines OIFO/GWB; No treatment stuffing; 08/27/97
"RTN","ONCNTX",2,0)
 ;;2.11;ONCOLOGY;**13,15,16,19,22,25,26,27,32,33,34,36,37,38,39,41,42,43,44,45,46,47**;Mar 07, 1995;Build 19
"RTN","ONCNTX",3,0)
 ;
"RTN","ONCNTX",4,0)
NTX ;No treatment stuffing
"RTN","ONCNTX",5,0)
 ;(ROADS)
"RTN","ONCNTX",6,0)
 S SITE=$P(^ONCO(165.5,DA,0),U,1)
"RTN","ONCNTX",7,0)
 I DATEDX<3030000 D
"RTN","ONCNTX",8,0)
 .D HDR,SURR,SURATFR^ONCNTX1,NODER
"RTN","ONCNTX",9,0)
 .I (SITE=35)!(SITE=58)!(SITE=63)!(SITE=65)!($$LYMPHOMA^ONCFUNC(DA)=1) D NODATFR^ONCUTX1
"RTN","ONCNTX",10,0)
 .E  D NODATFR^ONCNTX1
"RTN","ONCNTX",11,0)
 .D SOSNR,SOSATFR^ONCNTX1
"RTN","ONCNTX",12,0)
 .W ! D PAUSE^ONCOPA2A
"RTN","ONCNTX",13,0)
 ;
"RTN","ONCNTX",14,0)
 ;(FORDS)
"RTN","ONCNTX",15,0)
 D HDR
"RTN","ONCNTX",16,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,38)_"S0"
"RTN","ONCNTX",17,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",18,0)
 S $P(^ONCO(165.5,DA,3.1),U,38)="0000000"
"RTN","ONCNTX",19,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S0")=""
"RTN","ONCNTX",20,0)
 D SUR,SURATF^ONCNTX1,SM,NODE
"RTN","ONCNTX",21,0)
 ;Code 9 (FORDS pages 138-139)
"RTN","ONCNTX",22,0)
 I ($E(TP,1,4)=6770)!($E(TP,1,4)=6771)!($E(TP,1,4)=6772)!($E(TP,1,4)=6776)!(($$LYMPHOMA^ONCFUNC(DA)=1)&($E(TP,1,4)=6777))!($E(TP,1,4)=6776)!(TP=67809)!(TP=67420)!(TP=67421)!(TP=67423)!(TP=67424)!((MO'<97310)&(MO'>99899)) D NODEATF^ONCUTX1
"RTN","ONCNTX",23,0)
 E  D NODEATF^ONCNTX1
"RTN","ONCNTX",24,0)
 D SOSN,SOSNATF^ONCNTX1,RR,DSD
"RTN","ONCNTX",25,0)
 D RFNS W !
"RTN","ONCNTX",26,0)
 K ^ONCO(165.5,DA,14)
"RTN","ONCNTX",27,0)
 K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNTX",28,0)
 S $P(^ONCO(165.5,DA,3),U,6)=0
"RTN","ONCNTX",29,0)
 S $P(^ONCO(165.5,DA,3.1),U,12)=0
"RTN","ONCNTX",30,0)
 S $P(^ONCO(165.5,DA,3),U,35)=""
"RTN","ONCNTX",31,0)
 D HDR,RAD1,RADATF^ONCNTX1,RAD2,RSSQ^ONCNTX1,RFNR W !
"RTN","ONCNTX",32,0)
 K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNTX",33,0)
 S $P(^ONCO(165.5,DA,3),U,13)="00"
"RTN","ONCNTX",34,0)
 S $P(^ONCO(165.5,DA,3.1),U,14)="00"
"RTN","ONCNTX",35,0)
 S $P(^ONCO(165.5,DA,3),U,16)="00"
"RTN","ONCNTX",36,0)
 S $P(^ONCO(165.5,DA,3.1),U,16)="00"
"RTN","ONCNTX",37,0)
 S $P(^ONCO(165.5,DA,3),U,19)="00"
"RTN","ONCNTX",38,0)
 S $P(^ONCO(165.5,DA,3.1),U,18)="00"
"RTN","ONCNTX",39,0)
 S $P(^ONCO(165.5,DA,3.1),U,36)=1
"RTN","ONCNTX",40,0)
 S $P(^ONCO(165.5,DA,3),U,25)=0
"RTN","ONCNTX",41,0)
 S $P(^ONCO(165.5,DA,3.1),U,20)=0
"RTN","ONCNTX",42,0)
 D HDR,CHE,CHEMATF^ONCNTX1,HOR^ONCNTX1,HTATF^ONCNTX1,IMM^ONCNTX1,IMMATF^ONCNTX1,HTEP^ONCNTX1,SSS^ONCNTX1,OTH^ONCNTX1,OTHATF^ONCNTX1
"RTN","ONCNTX",43,0)
 K DIR S DIR(0)="E" D ^DIR I Y=0 S Y="@0" G EXIT
"RTN","ONCNTX",44,0)
 W ! S Y="@425" G EXIT
"RTN","ONCNTX",45,0)
 ;
"RTN","ONCNTX",46,0)
SURR ;SURGERY OF PRIMARY (R) (165.5,58.2)
"RTN","ONCNTX",47,0)
 S $P(^ONCO(165.5,DA,3),U,38)=$S(DATEDX>2971231:1,1:"00")
"RTN","ONCNTX",48,0)
 S $P(^ONCO(165.5,DA,3),U,34)=1
"RTN","ONCNTX",49,0)
 S DR="58.2;74" D DIQ1
"RTN","ONCNTX",50,0)
 I $D(NTX) D
"RTN","ONCNTX",51,0)
 .W !,"SURGICAL PROCEDURES (R)=ROADS"
"RTN","ONCNTX",52,0)
 .W !,"-----------------------------"
"RTN","ONCNTX",53,0)
 .W !,"SURGERY OF PRIMARY..........(R): ",ONC(165.5,DA,58.2,"E")
"RTN","ONCNTX",54,0)
 W !,"SURGICAL APPROACH...........(R): ",ONC(165.5,DA,74,"E")
"RTN","ONCNTX",55,0)
 K ONC
"RTN","ONCNTX",56,0)
 Q
"RTN","ONCNTX",57,0)
 ;
"RTN","ONCNTX",58,0)
SUR ;SURGERY OF PRIMARY (F) (165.5,58.6)
"RTN","ONCNTX",59,0)
 S TOPX=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCNTX",60,0)
 I (TOPX=67420)!(TOPX=67421)!(TOPX=67423)!(TOPX=67424)!($E(TOPX,3,4)=76)!(TOPX=67809) D  G SUR1
"RTN","ONCNTX",61,0)
 .S $P(^ONCO(165.5,DA,3.1),U,29)=1
"RTN","ONCNTX",62,0)
 S $P(^ONCO(165.5,DA,3.1),U,29)=$S(DATEDX>2971231:1,1:"00")
"RTN","ONCNTX",63,0)
SUR1 S TXDT=$P($G(^ONCO(165.5,DA,3)),U,1)_"S1"
"RTN","ONCNTX",64,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",65,0)
 S $P(^ONCO(165.5,DA,3),U,1)="0000000" D SPSDT^ONCATF
"RTN","ONCNTX",66,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S1")=""
"RTN","ONCNTX",67,0)
 S $P(^ONCO(165.5,DA,3),U,28)=8
"RTN","ONCNTX",68,0)
 S $P(^ONCO(165.5,DA,0),U,11)="00000000"
"RTN","ONCNTX",69,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,36)="0000000"
"RTN","ONCNTX",70,0)
 S $P(^ONCO(165.5,DA,3.1),U,28)=0
"RTN","ONCNTX",71,0)
 S DR="58.6;50;74;59;435;14;170" D DIQ1
"RTN","ONCNTX",72,0)
 I $D(NTX) D
"RTN","ONCNTX",73,0)
 .W !,"SURGICAL PROCEDURES (F)=FORDS"
"RTN","ONCNTX",74,0)
 .W !,"-----------------------------"
"RTN","ONCNTX",75,0)
 .W !,"DATE FIRST SURGICAL PROCEDURE..: ",ONC(165.5,DA,170,"E")
"RTN","ONCNTX",76,0)
 .W !,"SURGERY OF PRIMARY..........(F): ",ONC(165.5,DA,58.6,"E")
"RTN","ONCNTX",77,0)
 W !,"MOST DEFINITIVE SURG DATE......: ",ONC(165.5,DA,50,"E")
"RTN","ONCNTX",78,0)
 K ONC,TXDT
"RTN","ONCNTX",79,0)
 Q
"RTN","ONCNTX",80,0)
 ;
"RTN","ONCNTX",81,0)
SM ;SURGICAL MARGINS (165.5,59)
"RTN","ONCNTX",82,0)
 S $P(^ONCO(165.5,DA,3),U,28)=8
"RTN","ONCNTX",83,0)
 S TPG=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCNTX",84,0)
 I ($E(TPG,3,4)=76)!(TPG=67809)!(TPG=67420)!(TPG=67421)!(TPG=67423)!(TPG=67424) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCNTX",85,0)
 S MO=$$HIST^ONCFUNC(DA)
"RTN","ONCNTX",86,0)
 S HIST14=$E(MO,1,4)
"RTN","ONCNTX",87,0)
 I (HIST14=9750)!((HIST14>9759)&(HIST14<9765))!((HIST14>9799)&(HIST14<9821))!(HIST14=9826)!((HIST14>9830)&(HIST14<9921))!((HIST14>9930)&(HIST14<9965))!((HIST14>9979)&(HIST14<9990)) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCNTX",88,0)
 I $$LYMPHOMA^ONCFUNC(DA),($E(TPG,3,4)=77) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCNTX",89,0)
 S DR="59" D DIQ1
"RTN","ONCNTX",90,0)
 W !,"SURGICAL MARGINS...............: ",ONC(165.5,DA,59,"E")
"RTN","ONCNTX",91,0)
 K ONC
"RTN","ONCNTX",92,0)
 Q
"RTN","ONCNTX",93,0)
 ;
"RTN","ONCNTX",94,0)
NODER ;SCOPE OF LN SURGERY (R) (165.5,138)
"RTN","ONCNTX",95,0)
 ;For unknown primary, leukemia, lymphoma, and brain primaries, code 9
"RTN","ONCNTX",96,0)
 S SITE=$P(^ONCO(165.5,DA,0),U,1)
"RTN","ONCNTX",97,0)
 I (SITE=35)!(SITE=58)!(SITE=63)!(SITE=65)!($$LYMPHOMA^ONCFUNC(DA)=1) D  D NUMND^ONCATF Q
"RTN","ONCNTX",98,0)
 .D SGRP^ONCUTX1
"RTN","ONCNTX",99,0)
 .I ($E(TPG,3,4)=76)!(TPG=67809)!(TPG=67420)!(TPG=67421)!(TPG=67423)!(TPG=67424) S SGRP=67141
"RTN","ONCNTX",100,0)
 .F SC=0:0 S SC=$O(^ONCO(164,SGRP,"SC5",SC)) Q:SC="B"  S LAST=SC
"RTN","ONCNTX",101,0)
 .S $P(^ONCO(165.5,DA,3),U,40)=LAST
"RTN","ONCNTX",102,0)
 .W !,"SCOPE OF LN SURGERY.........(R): ",$P(^ONCO(164,SGRP,"SC5",LAST,0),U,1)
"RTN","ONCNTX",103,0)
 .D NODER^ONCUTX
"RTN","ONCNTX",104,0)
 S $P(^ONCO(165.5,DA,3),U,40)=1
"RTN","ONCNTX",105,0)
 S $P(^ONCO(165.5,DA,3),U,42)="00"
"RTN","ONCNTX",106,0)
 D NUMND^ONCATF
"RTN","ONCNTX",107,0)
 S DR="138;140" D DIQ1
"RTN","ONCNTX",108,0)
 W:$D(NTX) !,"SCOPE OF LN SURGERY.........(R): ",ONC(165.5,DA,138,"E")
"RTN","ONCNTX",109,0)
 W !,"NUMBER OF LN REMOVED........(R): ",ONC(165.5,DA,140,"E")
"RTN","ONCNTX",110,0)
 Q
"RTN","ONCNTX",111,0)
 ;
"RTN","ONCNTX",112,0)
NODE ;SCOPE OF LN SURGERY (F) (165.5,138.4)
"RTN","ONCNTX",113,0)
 ;Code 9 (FORDS pages 138-139)
"RTN","ONCNTX",114,0)
 S TP=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCNTX",115,0)
 S MO=$$HIST^ONCFUNC(DA)
"RTN","ONCNTX",116,0)
 I ($E(TP,1,4)=6770)!($E(TP,1,4)=6771)!($E(TP,1,4)=6772)!($E(TP,1,4)=6776)!(($$LYMPHOMA^ONCFUNC(DA)=1)&($E(TP,1,4)=6777))!($E(TP,1,4)=6776)!(TP=67809)!(TP=67420)!(TP=67421)!(TP=67423)!(TP=67424)!((MO'<97310)&(MO'>99899)) D  D SCPDT^ONCATF Q
"RTN","ONCNTX",117,0)
 .S $P(^ONCO(165.5,DA,3.1),U,31)=9
"RTN","ONCNTX",118,0)
 .W !,"SCOPE OF LN SURGERY.........(F): Unknown/NA"
"RTN","ONCNTX",119,0)
 .D NODE^ONCUTX
"RTN","ONCNTX",120,0)
 S $P(^ONCO(165.5,DA,3.1),U,31)=0
"RTN","ONCNTX",121,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,22)_"S2"
"RTN","ONCNTX",122,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",123,0)
 S $P(^ONCO(165.5,D0,3.1),U,22)="0000000" D SCPDT^ONCATF
"RTN","ONCNTX",124,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S2")=""
"RTN","ONCNTX",125,0)
 S DR="138.4;138.2" D DIQ1
"RTN","ONCNTX",126,0)
 W:$D(NTX) !,"SCOPE OF LN SURGERY.........(F): ",ONC(165.5,DA,138.4,"E")
"RTN","ONCNTX",127,0)
 W !,"SCOPE OF LN SURGERY DATE.......: ",ONC(165.5,DA,138.2,"E")
"RTN","ONCNTX",128,0)
 Q
"RTN","ONCNTX",129,0)
 ;
"RTN","ONCNTX",130,0)
SOSNR ;SURG PROC/OTHER SITE (R) (165.5,139)
"RTN","ONCNTX",131,0)
 S $P(^ONCO(165.5,DA,3),U,41)=1
"RTN","ONCNTX",132,0)
 S DR=139 D DIQ1
"RTN","ONCNTX",133,0)
 W:$D(NTX) !,"SURG PROC/OTHER SITE........(R): ",ONC(165.5,DA,139,"E")
"RTN","ONCNTX",134,0)
 Q
"RTN","ONCNTX",135,0)
 ;
"RTN","ONCNTX",136,0)
SOSN ;SURG PROC/OTHER SITE (F) (165.5,139.4)
"RTN","ONCNTX",137,0)
 S $P(^ONCO(165.5,DA,3.1),U,33)=0
"RTN","ONCNTX",138,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,24)_"S3"
"RTN","ONCNTX",139,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",140,0)
 S $P(^ONCO(165.5,D0,3.1),U,24)="0000000" D SOSNDT^ONCATF
"RTN","ONCNTX",141,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S3")=""
"RTN","ONCNTX",142,0)
 S DR="139.4;139.2" D DIQ1
"RTN","ONCNTX",143,0)
 W:$D(NTX) !,"SURG PROC/OTHER SITE........(F): ",ONC(165.5,DA,139.4,"E")
"RTN","ONCNTX",144,0)
 W !,"SURG PROC/OTHER SITE DATE......: ",ONC(165.5,DA,139.2,"E")
"RTN","ONCNTX",145,0)
 Q
"RTN","ONCNTX",146,0)
 ;
"RTN","ONCNTX",147,0)
RR ;RECONSTRUCTION/RESTORATION (165.5,23)
"RTN","ONCNTX",148,0)
 I DATEDX>3021231 Q
"RTN","ONCNTX",149,0)
 I DATEDX>2951231 D
"RTN","ONCNTX",150,0)
 .S $P(^ONCO(165.5,DA,3),U,33)=$S(DATEDX>2971231:1,1:9)
"RTN","ONCNTX",151,0)
 .S DR=23 D DIQ1
"RTN","ONCNTX",152,0)
 .W !,"RECONSTRUCTION/RESTORATION.....: ",ONC(165.5,DA,23,"E")
"RTN","ONCNTX",153,0)
 Q
"RTN","ONCNTX",154,0)
 ;
"RTN","ONCNTX",155,0)
DSD ;DATE OF SURGICAL DISCHARGE (165.5,435)
"RTN","ONCNTX",156,0)
 ;READMISSION W/I 30 DAYS/SURG (165.5,14)
"RTN","ONCNTX",157,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,36)="0000000"
"RTN","ONCNTX",158,0)
 S $P(^ONCO(165.5,DA,3.1),U,28)=0
"RTN","ONCNTX",159,0)
 S $P(^ONCO(165.5,DA,7),U,19)=9
"RTN","ONCNTX",160,0)
 S $P(^ONCO(165.5,DA,7),U,20)=""
"RTN","ONCNTX",161,0)
 S DR="435;14;46" D DIQ1
"RTN","ONCNTX",162,0)
 W !,"DATE OF SURGICAL DISCHARGE.....: ",ONC(165.5,DA,435,"E")
"RTN","ONCNTX",163,0)
 W !,"READMISSION W/I 30 DAYS/SURG...: ",ONC(165.5,DA,14,"E")
"RTN","ONCNTX",164,0)
 W !,"CAP PROTOCOL REVIEW............: ",ONC(165.5,DA,46,"E")
"RTN","ONCNTX",165,0)
 K ONC
"RTN","ONCNTX",166,0)
 Q
"RTN","ONCNTX",167,0)
 ;
"RTN","ONCNTX",168,0)
RFNS ;REASON NO SURGERY OF PRIMARY (165.5,58)
"RTN","ONCNTX",169,0)
 S RFNS=$$GET1^DIQ(165.5,DA,1.2)
"RTN","ONCNTX",170,0)
 I (RFNS="Autopsy only")!(RFNS="Death certificate only") D  Q
"RTN","ONCNTX",171,0)
 .S $P(^ONCO(165.5,DA,3),U,26)=9
"RTN","ONCNTX",172,0)
 .W !,"REASON NO SURGERY OF PRIMARY...: Unknown"
"RTN","ONCNTX",173,0)
 W ! K DIR S DIR(0)="SA^0:Surgery performed;1:Not part of 1st course;2:Contraindicated/risk factors;5:Patient died prior to surgery;6:No reason in record;7:Refused by patient;8:Unknown if performed;9:Unknown/dx at autopsy/death cert"
"RTN","ONCNTX",174,0)
 S DIR("A")="REASON NO SURGERY OF PRIMARY: "
"RTN","ONCNTX",175,0)
 S DIR("B")="Not part of 1st course"
"RTN","ONCNTX",176,0)
 S DIR("??")="^D RFNSHLP^ONCNTX1"
"RTN","ONCNTX",177,0)
 D ^DIR
"RTN","ONCNTX",178,0)
 I Y[U Q
"RTN","ONCNTX",179,0)
 S $P(^ONCO(165.5,DA,3),U,26)=Y
"RTN","ONCNTX",180,0)
 Q
"RTN","ONCNTX",181,0)
 ;
"RTN","ONCNTX",182,0)
RAD1 ;RADIATION (165.5,51.2)
"RTN","ONCNTX",183,0)
 S RFNR=$P($G(^ONCO(165.5,DA,3)),U,35)
"RTN","ONCNTX",184,0)
 D ^ONCRFNR
"RTN","ONCNTX",185,0)
 S DR="51.2;51" D DIQ1
"RTN","ONCNTX",186,0)
 W:$D(NTX) !,"RADIATION:.....................: ",ONC(165.5,DA,51.2,"E")
"RTN","ONCNTX",187,0)
 W !,"DATE RADIATION STARTED.........: ",ONC(165.5,DA,51,"E")
"RTN","ONCNTX",188,0)
 K ONC,TXDT Q
"RTN","ONCNTX",189,0)
 ;
"RTN","ONCNTX",190,0)
RAD2 ;RADIATION (cont)
"RTN","ONCNTX",191,0)
 S $P(^ONCO(165.5,DA,3),U,22)=0
"RTN","ONCNTX",192,0)
 S $P(^ONCO(165.5,DA,3),U,21)=1
"RTN","ONCNTX",193,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,18)=1
"RTN","ONCNTX",194,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,43)=0
"RTN","ONCNTX",195,0)
 S $P(^ONCO(165.5,DA,24),U,9)=1
"RTN","ONCNTX",196,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,44)=0
"RTN","ONCNTX",197,0)
 S $P(^ONCO(165.5,DA,3),U,20)=0
"RTN","ONCNTX",198,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,16)="0000000"
"RTN","ONCNTX",199,0)
 K ^ONCO(165.5,DA,15)
"RTN","ONCNTX",200,0)
 K ^ONCO(165.5,DA,16)
"RTN","ONCNTX",201,0)
 S DR="126;125;363;442;363.1;443;56;361" D DIQ1
"RTN","ONCNTX",202,0)
 W !,"LOCATION OF RADIATION..........: ",ONC(165.5,DA,126,"E")
"RTN","ONCNTX",203,0)
 W !,"RADIATION TREATMENT VOLUME.....: ",ONC(165.5,DA,125,"E")
"RTN","ONCNTX",204,0)
 W !,"REGIONAL TREATMENT MODALITY....: ",ONC(165.5,DA,363,"E")
"RTN","ONCNTX",205,0)
 W !,"REGIONAL DOSE:cGy..............: ",ONC(165.5,DA,442,"E")
"RTN","ONCNTX",206,0)
 W !,"BOOST TREATMENT MODALITY.......: ",ONC(165.5,DA,363.1,"E")
"RTN","ONCNTX",207,0)
 W !,"BOOST DOSE:cGy.................: ",ONC(165.5,DA,443,"E")
"RTN","ONCNTX",208,0)
 W !,"NUMBER OF TREATMENTS...........: ",ONC(165.5,DA,56,"E")
"RTN","ONCNTX",209,0)
 W !,"DATE RADIATION ENDED...........: ",ONC(165.5,DA,361,"E")
"RTN","ONCNTX",210,0)
 K ONC,TXDT Q
"RTN","ONCNTX",211,0)
 ;
"RTN","ONCNTX",212,0)
RFNR ;REASON FOR NO RADIATION (165.5,75)
"RTN","ONCNTX",213,0)
 W ! K DIR
"RTN","ONCNTX",214,0)
 S DIR(0)="SA^0:Radiation administered;1:Not part of 1st course;2:Contraindicated;5:Pt died prior to tx;6:Recommended, not admin, no reason given;7:Refusal;8:Recommended, unknown if admin;9:Unknown"
"RTN","ONCNTX",215,0)
 S DIR("A")="REASON FOR NO RADIATION: "
"RTN","ONCNTX",216,0)
 S DIR("B")="Not part of 1st course"
"RTN","ONCNTX",217,0)
 S DIR("??")="^D RFNRHLP^ONCNTX1"
"RTN","ONCNTX",218,0)
 D ^DIR
"RTN","ONCNTX",219,0)
 I Y[U Q
"RTN","ONCNTX",220,0)
 S $P(^ONCO(165.5,DA,3),U,35)=Y
"RTN","ONCNTX",221,0)
 I X=8 S RFNR=8 D ^ONCRFNR D
"RTN","ONCNTX",222,0)
 .W !!,"DATE RADIATION STARTED changed to 88/88/8888"
"RTN","ONCNTX",223,0)
 Q
"RTN","ONCNTX",224,0)
 ;
"RTN","ONCNTX",225,0)
CHE ;CHEMOTHERAPY (165.5,53.2)
"RTN","ONCNTX",226,0)
 I $D(NTX) D
"RTN","ONCNTX",227,0)
 .N DR,DP,DL
"RTN","ONCNTX",228,0)
 .S DIE="^ONCO(165.5,",DR=53.2 D ^DIE
"RTN","ONCNTX",229,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,11)_"C"
"RTN","ONCNTX",230,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",231,0)
 S $P(^ONCO(165.5,DA,3),U,11)="0000000" D CHEMDT^ONCATF1
"RTN","ONCNTX",232,0)
 S ^ONCO(165.5,"ATX",DA,"0000000C")=""
"RTN","ONCNTX",233,0)
 K ^ONCO(165.5,DA,17)
"RTN","ONCNTX",234,0)
 S DR="53.2;53" D DIQ1
"RTN","ONCNTX",235,0)
 W !,"CHEMOTHERAPY DATE.............: ",ONC(165.5,DA,53,"E")
"RTN","ONCNTX",236,0)
 K ONC Q
"RTN","ONCNTX",237,0)
 ;
"RTN","ONCNTX",238,0)
NCDS ;SURGICAL DX/STAGING PROC (165.5,58.1)
"RTN","ONCNTX",239,0)
 S $P(^ONCO(165.5,D0,3),U,31)="0000000" D NCDSDT^ONCATF
"RTN","ONCNTX",240,0)
 S DR=58.3 D DIQ1
"RTN","ONCNTX",241,0)
 W !,"SURGICAL DX/STAGING PROC DATE: ",ONC(165.5,DA,58.3,"E")
"RTN","ONCNTX",242,0)
 Q
"RTN","ONCNTX",243,0)
 ;
"RTN","ONCNTX",244,0)
HDR W @IOF,DASHES,!,?1,PATNAM,?TAB,"First Course of Treatment",?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCNTX",245,0)
 Q
"RTN","ONCNTX",246,0)
 ;
"RTN","ONCNTX",247,0)
DIQ1 N DI K ONC
"RTN","ONCNTX",248,0)
 S DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E" D EN^DIQ1
"RTN","ONCNTX",249,0)
 Q
"RTN","ONCNTX",250,0)
 ;
"RTN","ONCNTX",251,0)
EXIT W !
"RTN","ONCNTX",252,0)
 Q
"RTN","ONCOAI")
0^44^B26893541
"RTN","ONCOAI",1,0)
ONCOAI ;Hines OIFO/GWB [AI Complete Abstract]; 7/19/93
"RTN","ONCOAI",2,0)
 ;;2.11;ONCOLOGY;**6,15,17,18,19,25,26,27,28,29,32,33,34,35,43,45,47**;Mar 07, 1995;Build 19
"RTN","ONCOAI",3,0)
 ;
"RTN","ONCOAI",4,0)
BEG D EX
"RTN","ONCOAI",5,0)
 W @IOF,!!!
"RTN","ONCOAI",6,0)
 S DIC("A")="    Enter patient name: ",DLAYGO=160,DIC="^ONCO(160,"
"RTN","ONCOAI",7,0)
 S DIC(0)="AELMQZ" D ^DIC K DIC,DLAYGO G EX:Y<0
"RTN","ONCOAI",8,0)
 S (D0,ONCOD0)=+Y,ONCOVP=$P(Y,U,2)
"RTN","ONCOAI",9,0)
 S ONCONM=Y(0,0),ONCONAM=$P(ONCONM,",",2)_" "_$P(ONCONM,",",1)
"RTN","ONCOAI",10,0)
 S PT0=Y(0),SEX=$P(PT0,U,8) G:SEX'="" PD
"RTN","ONCOAI",11,0)
 ;
"RTN","ONCOAI",12,0)
DEM ;Display demographic data
"RTN","ONCOAI",13,0)
 D ^ONCOAID G BEG:ONCO0=""
"RTN","ONCOAI",14,0)
PD K DXS,DIOT S D0=ONCOD0 D PRT^ONCPDI
"RTN","ONCOAI",15,0)
 S SX=$S(SEX=1:"M",SEX=2:"F",1:"")
"RTN","ONCOAI",16,0)
 S ONCOSX=$S(SX="M":"Male",SX="F":"Female",1:"")
"RTN","ONCOAI",17,0)
A1 K DIR W ! S DIR("A")="    Edit patient data",DIR("B")="YES",DIR(0)="Y"
"RTN","ONCOAI",18,0)
 D ^DIR G CONT:Y[U,EX:Y="",HIS:'Y
"RTN","ONCOAI",19,0)
 ;
"RTN","ONCOAI",20,0)
PAT ;Edit ONCOLOGY PATIENT (160) data
"RTN","ONCOAI",21,0)
 N RACE,R1 S RACE="" D RACE^ONCOES
"RTN","ONCOAI",22,0)
 I X'="" D
"RTN","ONCOAI",23,0)
 .S R1=X
"RTN","ONCOAI",24,0)
 .S RACE=$S(R1["BLACK":"Black",R1["WHITE":"White",R1["AMERICAN INDIAN OR ALASKA NATIVE":"American Indian, Aleutian, Eskimo",1:"")
"RTN","ONCOAI",25,0)
 N AOE,IRE,PGS
"RTN","ONCOAI",26,0)
 D ENVIRON^ONCOES
"RTN","ONCOAI",27,0)
 S ONCOL=0,DA=ONCOD0
"RTN","ONCOAI",28,0)
 L +^ONCO(160,DA):0 I $T D ^ONCPAT L -^ONCO(160,DA) S ONCOL=1
"RTN","ONCOAI",29,0)
 I 'ONCOL W !,"Another user is editing this patient."
"RTN","ONCOAI",30,0)
 K ONCOL
"RTN","ONCOAI",31,0)
 ;
"RTN","ONCOAI",32,0)
HIS ;Patient History
"RTN","ONCOAI",33,0)
 K DIR W !
"RTN","ONCOAI",34,0)
 S DIR("A")="    Continue with Patient History",DIR(0)="Y",DIR("B")="Yes"
"RTN","ONCOAI",35,0)
 D ^DIR G CONT:Y[U,EX:Y="",CK:Y=0
"RTN","ONCOAI",36,0)
 S D0=ONCOD0 D PH^ONCPDI
"RTN","ONCOAI",37,0)
 S ONCOL=0,DA=ONCOD0
"RTN","ONCOAI",38,0)
 L +^ONCO(160,DA):0 I $T D ^ONCPTHST L -^ONCO(160,DA) S ONCOL=1
"RTN","ONCOAI",39,0)
 I 'ONCOL W !,"Another user is editing this patient"
"RTN","ONCOAI",40,0)
 K ONCOL
"RTN","ONCOAI",41,0)
 ;
"RTN","ONCOAI",42,0)
CK ;Check for existing primaries
"RTN","ONCOAI",43,0)
 S ONCOP0=$O(^ONCO(165.5,"C",ONCOD0,0)) I ONCOP0'="" S ONCOP=$S($D(^ONCO(165.5,ONCOP0,0)):^(0),1:"") I ONCOP'="" G PRIM2
"RTN","ONCOAI",44,0)
 ;
"RTN","ONCOAI",45,0)
PRIM1 ;Register a primary for this patient
"RTN","ONCOAI",46,0)
REG D KIL S DIR("B")="Yes",DIR(0)="Y",DIR("A")="    Register a Primary for this patient" W !! D ^DIR G AIP:Y,EX:Y="",CONT
"RTN","ONCOAI",47,0)
 ;
"RTN","ONCOAI",48,0)
PRIM2 ;patient in PRIMARY FILE
"RTN","ONCOAI",49,0)
 D SDD^ONCOCOM
"RTN","ONCOAI",50,0)
ASK K DIR,Y S DIR(0)="S^E:EDIT existing Primary;A:ADD another Primary;F:Follow-Up;Q:Quit Patient",DIR("A")="     EDIT/ADD primary for this patient",DIR("B")="Edit" D ^DIR G EDT:Y="E",AIP:Y="A",FOL:Y="F",CONT:Y="Q",CONT:U,EX
"RTN","ONCOAI",51,0)
 ;
"RTN","ONCOAI",52,0)
EDT ;Select primary to edit
"RTN","ONCOAI",53,0)
 S D="C",DIC(0)="EZ",DIC="^ONCO(165.5,",X=ONCONM D IX^DIC K D,DIC,X W ! G BEG:Y<0 I Y=" " W ?40,"Space bar not allowed!" G EDT
"RTN","ONCOAI",54,0)
 S ONCOD0P=+Y D EN^ONCOAIP G EX
"RTN","ONCOAI",55,0)
 ;
"RTN","ONCOAI",56,0)
AIP ;Abstract all Primary Data;Return with (D0,ONCOD0P)=Primary Record Number
"RTN","ONCOAI",57,0)
 D @($S(ONCOP0="":"EN^ONCOAIC",ONCOP'="":"EN^ONCOAIM",1:"ER")) G SET:Y,EX:Y="",CONT
"RTN","ONCOAI",58,0)
 ;
"RTN","ONCOAI",59,0)
SET S (SR,XD,MO,CS)=""
"RTN","ONCOAI",60,0)
 S SSPIEN=$O(^ONCO(160,ONCOD0,"SUS","C",DUZ(2),"")) I SSPIEN'="" D
"RTN","ONCOAI",61,0)
 .S XD=$P(^ONCO(160,ONCOD0,"SUS",SSPIEN,0),U,1)
"RTN","ONCOAI",62,0)
 .S SR=$P(^ONCO(160,ONCOD0,"SUS",SSPIEN,0),U,3)
"RTN","ONCOAI",63,0)
 .S CS=$S(SR="LS":20,SR="LC":20,SR="LE":20,SR="PT":21,SR="RA":26,1:"")
"RTN","ONCOAI",64,0)
 .S MO=$P(^ONCO(160,ONCOD0,"SUS",SSPIEN,0),U,11)
"RTN","ONCOAI",65,0)
 .S DA(1)=ONCOD0,DA=SSPIEN,DIK="^ONCO(160,"_DA(1)_",""SUS""," D ^DIK
"RTN","ONCOAI",66,0)
 S ONCOL=0
"RTN","ONCOAI",67,0)
 S DIE="^ONCO(165.5,"
"RTN","ONCOAI",68,0)
 S (D0,DA)=ONCOD0P
"RTN","ONCOAI",69,0)
 S DR="3///^S X=XD;91///0;95///2;21///^S X=CS"
"RTN","ONCOAI",70,0)
 L +^ONCO(165.5,DA):0 I $T D ^DIE L -^ONCO(165.5,DA) S ONCOL=1
"RTN","ONCOAI",71,0)
 I MO="" G SET1
"RTN","ONCOAI",72,0)
 I ((XD<3010000)&('$D(^ONCO(164.1,MO,0))))!((XD>3001231)&('$D(^ONCO(169.3,MO,0)))) D  W ! K DIR S DIR(0)="E" D ^DIR G:Y=0 EX G SET1
"RTN","ONCOAI",73,0)
 .W !!,"WARNING:"
"RTN","ONCOAI",74,0)
 .W !,"The morphology code ",$E(MO,1,4)_"/"_$E(MO,5,6)," found by lab casefinding is not a valid ICD-O code."
"RTN","ONCOAI",75,0)
 .W !,"Enter the correct morphology code at the appropriate HISTOLOGY (ICD-O) prompt."
"RTN","ONCOAI",76,0)
 S:XD<3010000 $P(^ONCO(165.5,D0,2),U,3)=MO,$P(^ONCO(165.5,D0,2.2),U,3)=MO
"RTN","ONCOAI",77,0)
 S:XD>3001231 $P(^ONCO(165.5,D0,2.2),U,3)=MO
"RTN","ONCOAI",78,0)
SET1 D MS^ONCOCOM,EN^ONCOAIP
"RTN","ONCOAI",79,0)
 I 'ONCOL W !,"Another user is editing this patient data."
"RTN","ONCOAI",80,0)
 K ONCOL
"RTN","ONCOAI",81,0)
 ;
"RTN","ONCOAI",82,0)
CONT ;Continue another patient
"RTN","ONCOAI",83,0)
 K DIR W !! S DIR("A")="  Abstract another patient",DIR(0)="Y",DIR("B")="Yes" D ^DIR G BEG:Y,EX
"RTN","ONCOAI",84,0)
 Q
"RTN","ONCOAI",85,0)
FOL ;Follow-Up
"RTN","ONCOAI",86,0)
 S ONCOAI=1 D EN^ONCOAIF
"RTN","ONCOAI",87,0)
 Q
"RTN","ONCOAI",88,0)
 ;
"RTN","ONCOAI",89,0)
KILL ;Kill variables
"RTN","ONCOAI",90,0)
 K ONCOACN,ONCO,ONCOD0,ONCOD0P,ONCOMR,ONCONM,ONCOOUT,ONCOP,ONCOP0,ONCOSN
"RTN","ONCOAI",91,0)
 K ONCOSX,ONCOEDIT,ONCOPB,ONCOSIT,ONCONAM,ONCOPN,ONCOVP,ONCOVS,ONCOX
"RTN","ONCOAI",92,0)
 K ONCOAI,ONCOANS,ONCOT,ONCOYR,COC,IIN
"RTN","ONCOAI",93,0)
KIL K D1,DI,DN,DIR,DIC,DIE,COB,D,DA,D0,DIR,DR,NM,R,RC,RCC,SEX,SX,POB,SN,TL,X
"RTN","ONCOAI",94,0)
 K A,AG,ABS,AN,ANS,C,CC,CT,CTY,DEF,DLAYGO,I2,I9,PT0,PTR,ST,SDD,VP0,VPR,XN
"RTN","ONCOAI",95,0)
 K DXS,FIL,G,I,J,K,L,M,N,N2,NM,O2,VAERR,D0P,ICD,OT,R1,R2,RIPD0,XDT,XS
"RTN","ONCOAI",96,0)
 K XTS,ZP,ZIP,RY,FG,P,MC,MO,KK,OD,ONCOAD,ONCODD,ONCOICD,OS,PR,Q,S,SC,SR
"RTN","ONCOAI",97,0)
 K T,TS,UF,XDA,XLC,XY,%ZISOS
"RTN","ONCOAI",98,0)
 Q
"RTN","ONCOAI",99,0)
ER ;Error
"RTN","ONCOAI",100,0)
 W !!?5,"Something is wrong with database!! - See SiteManger" S Y="" Q
"RTN","ONCOAI",101,0)
EX D KILL
"RTN","ONCOAI",102,0)
 K ONCOANS,D0,DA,DIC,DIE,DIR,DQ,DR,MS,PR,R1,R2,RS,RIP,SR,ST,SY,T,S,Z,ER,TM,CS,XD0,XD1
"RTN","ONCOAI",103,0)
 K A,AG,D0,D1,DA,DXS,FIL,G,I,J,K,L,M,N,NM,O2,TD,TX,OT,DOP,ICD,C,XX,ONCOYR
"RTN","ONCOAI",104,0)
 K ONCOAD,ONCODD,VAERR,ONCO,ONCOD0P,ONCONM,OP,ONCOD0,%W,%X,%Y,%ZISOS
"RTN","ONCOAI",105,0)
 K STAT
"RTN","ONCOAI",106,0)
 Q
"RTN","ONCOAI",107,0)
 ;
"RTN","ONCOAI",108,0)
WRTSDC ;CALLED BY [ONCO XDEATH INFO] PRINT TEMPLATE
"RTN","ONCOAI",109,0)
 N DI,DIC,DA
"RTN","ONCOAI",110,0)
 K DIQ S DIC="^ONCO(160,",DR="19.1",DA=D0,DIQ="ONCSDC" D EN^DIQ1
"RTN","ONCOAI",111,0)
 W !?4,"State Death Cert: ",ONCSDC(160,D0,19.1)
"RTN","ONCOAI",112,0)
 K ONCSDC
"RTN","ONCOAI",113,0)
 Q
"RTN","ONCOAI",114,0)
 ;
"RTN","ONCOAI",115,0)
CON ;ADD CONTACTS
"RTN","ONCOAI",116,0)
 ;G BEG:$P($G(^ONCO(160,ONCOD0,1)),U)=0,BEG:$D(^ONCO(160,"APC",ONCOD0))  S,EX:Y="" DIR("A")="     ADD CONTACTS at this time",DIR(0)="Y" W !! D ^DIR G BEG:'Y,CONT:Y[U D DCL^ONCOFUL
"RTN","ONCOAIF")
0^49^B41938394
"RTN","ONCOAIF",1,0)
ONCOAIF ;Hines OIFO/GWB - POST FOLLOW-UP; 07/12/00
"RTN","ONCOAIF",2,0)
 ;;2.11;ONCOLOGY;**11,15,16,24,25,26,27,28,37,45,47**;Mar 07, 1995;Build 19
"RTN","ONCOAIF",3,0)
 ;
"RTN","ONCOAIF",4,0)
BEG W @IOF,!," Post/Edit Follow-up"
"RTN","ONCOAIF",5,0)
 W !," -------------------",!
"RTN","ONCOAIF",6,0)
 Q
"RTN","ONCOAIF",7,0)
 ;
"RTN","ONCOAIF",8,0)
PAT ;[PF Post/Edit Follow-up]
"RTN","ONCOAIF",9,0)
 N ONCDUZ,ONCDT
"RTN","ONCOAIF",10,0)
 S ONCDUZ=DUZ,ONCDT=DT
"RTN","ONCOAIF",11,0)
 D BEG
"RTN","ONCOAIF",12,0)
 S DIC("A")=" Post/Edit Follow-Up for patient: "
"RTN","ONCOAIF",13,0)
 S DIC="^ONCO(160,",DIC(0)="AEMQZ" D ^DIC K DIC
"RTN","ONCOAIF",14,0)
 G EX:Y<0
"RTN","ONCOAIF",15,0)
 S (ONCOD0,DA,D0)=+Y,ONCONM=Y(0,0)
"RTN","ONCOAIF",16,0)
 D SUM,LST^ONCODLF G DIE
"RTN","ONCOAIF",17,0)
 ;
"RTN","ONCOAIF",18,0)
LST ;Follow-Up
"RTN","ONCOAIF",19,0)
 W @IOF,!!," **********FOLLOW-UP**********",!!
"RTN","ONCOAIF",20,0)
 W " Patient: ",ONCONM
"RTN","ONCOAIF",21,0)
 W:$D(XDD) !," Date of Inpatient Discharge: ",XDD
"RTN","ONCOAIF",22,0)
 Q
"RTN","ONCOAIF",23,0)
 ;
"RTN","ONCOAIF",24,0)
EN ;FOLLOW-UP entry when patient has been pre-selected
"RTN","ONCOAIF",25,0)
 K F,DIC,DO,ONCOD1,LC,VS,NF,XDT,XDD,XR
"RTN","ONCOAIF",26,0)
 S ONCDUZ=DUZ,ONCDT=DT
"RTN","ONCOAIF",27,0)
 S PRESEL=1
"RTN","ONCOAIF",28,0)
 S XDT=$S('$D(ONCOD0P):"",1:$$GET1^DIQ(165.5,ONCOD0P,1.1,"I"))
"RTN","ONCOAIF",29,0)
 I (XDT="")!(XDT="0000000")!(XDT="9999999") D LST G DIE
"RTN","ONCOAIF",30,0)
 D DD S F=$P($G(^ONCO(160,ONCOD0,"F",0)),U,4)
"RTN","ONCOAIF",31,0)
 I F<1 D DLC,LST S F=1 G DIE
"RTN","ONCOAIF",32,0)
RF S D0=ONCOD0 W !! K DXS,DIOT D BEG W ! D LST^ONCODLF G DIE
"RTN","ONCOAIF",33,0)
 ;
"RTN","ONCOAIF",34,0)
DIE K DXS S ONCOSTAT=1,DA=ONCOD0,DR="[ONCO FOLLOWUP]",DIE="^ONCO(160,",FG=0
"RTN","ONCOAIF",35,0)
 W ! D ^DIE
"RTN","ONCOAIF",36,0)
 I 'FG S ONCOVS="" D UPOUT,CHKCMP I $G(FOLINP)="YES" G DIE
"RTN","ONCOAIF",37,0)
 I $O(^ONCO(160,ONCOD0,"F",0))="" Q
"RTN","ONCOAIF",38,0)
 D CHKCHG
"RTN","ONCOAIF",39,0)
 I 'FG Q
"RTN","ONCOAIF",40,0)
 ;
"RTN","ONCOAIF",41,0)
UPDAT S D0=ONCOD0 K DXS,DIOT W ! D LST^ONCODLF,UPD^ONCOCRF
"RTN","ONCOAIF",42,0)
 N Y K DIQ,ONC S DIC="^ONCO(160,",DR=".01;16;15;15.2",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOAIF",43,0)
 D EN^DIQ1 W !
"RTN","ONCOAIF",44,0)
 W !," Name..: ",ONC(160,ONCOD0,.01)
"RTN","ONCOAIF",45,0)
 W ?35,"Date Last Contact: ",ONC(160,ONCOD0,16)
"RTN","ONCOAIF",46,0)
 W !," Status: ",ONC(160,ONCOD0,15)
"RTN","ONCOAIF",47,0)
 W ?35,"Follow-Up Status.: ",ONC(160,ONCOD0,15.2)
"RTN","ONCOAIF",48,0)
 D SUM
"RTN","ONCOAIF",49,0)
C K DIR S DIR("A")="DATA OK",DIR("B")="Yes",DIR(0)="Y"
"RTN","ONCOAIF",50,0)
 D ^DIR Q:(Y=U)!(Y="")  G DIE:'Y
"RTN","ONCOAIF",51,0)
 I ONCOVS G EX:$D(PRESEL) G PAT:'$D(REC),REC
"RTN","ONCOAIF",52,0)
 W !! D DEAD^ONCOFDP
"RTN","ONCOAIF",53,0)
 Q:$D(ONCOAI)  G REC:$D(REC) D KIL K ONCONM S ONCOD=1 G PAT:'$D(QA) Q
"RTN","ONCOAIF",54,0)
 ;
"RTN","ONCOAIF",55,0)
UPOUT ;Uparrow out check before deleting
"RTN","ONCOAIF",56,0)
 Q:'$D(ONCOD1)
"RTN","ONCOAIF",57,0)
 Q:'$D(^ONCO(160,ONCOD0,"F",ONCOD1,0))
"RTN","ONCOAIF",58,0)
 Q:$P(^(0),U,8)=1
"RTN","ONCOAIF",59,0)
 D DEL
"RTN","ONCOAIF",60,0)
 Q
"RTN","ONCOAIF",61,0)
 ;
"RTN","ONCOAIF",62,0)
DEL ;Delete FOLLOW-UP entry
"RTN","ONCOAIF",63,0)
 S DA(1)=ONCOD0,DA=ONCOD1,DIK="^ONCO(160,"_DA(1)_",""F"","
"RTN","ONCOAIF",64,0)
 D ^DIK S ONCOVS=""
"RTN","ONCOAIF",65,0)
 W:$D(^ONCO(160,ONCOD0,"F",ONCOD1,0)) $P(^(0),U,8)
"RTN","ONCOAIF",66,0)
 W !!," *********************ENTRY DELETED*************************"
"RTN","ONCOAIF",67,0)
 W !!," You have not entered all of the required information."
"RTN","ONCOAIF",68,0)
 W !!,"(Last Tumor Status(es) have been reset for this patient's primary site(s).)",!!
"RTN","ONCOAIF",69,0)
 H 1
"RTN","ONCOAIF",70,0)
 Q
"RTN","ONCOAIF",71,0)
 ;
"RTN","ONCOAIF",72,0)
CHKCMP ;Check for 'Complete" abstracts with no follow-up
"RTN","ONCOAIF",73,0)
 K ASTAT,FOLINP
"RTN","ONCOAIF",74,0)
 Q:$O(^ONCO(160,ONCOD0,"F",0))'=""
"RTN","ONCOAIF",75,0)
 S PRIM=0 F  S PRIM=$O(^ONCO(165.5,"C",ONCOD0,PRIM)) Q:PRIM'>0  D
"RTN","ONCOAIF",76,0)
 .I $P($G(^ONCO(165.5,PRIM,7)),U,2)=3 S ASTAT(PRIM)=""
"RTN","ONCOAIF",77,0)
 Q:'$D(ASTAT)
"RTN","ONCOAIF",78,0)
 W !
"RTN","ONCOAIF",79,0)
 W !," There is no follow-up information for this patient."
"RTN","ONCOAIF",80,0)
 W !," This patient has a 'Complete' abstract."
"RTN","ONCOAIF",81,0)
 W !," A 'Complete' abstract requires at least one follow-up."
"RTN","ONCOAIF",82,0)
 W !
"RTN","ONCOAIF",83,0)
 K DIR
"RTN","ONCOAIF",84,0)
 S DIR("A")=" Do you wish to enter a follow-up at this time"
"RTN","ONCOAIF",85,0)
 S DIR("B")="YES",DIR(0)="Y" D ^DIR
"RTN","ONCOAIF",86,0)
 I Y=1 S FOLINP="YES" Q
"RTN","ONCOAIF",87,0)
 S PRIM=0 F  S PRIM=$O(ASTAT(PRIM)) Q:PRIM'>0  D
"RTN","ONCOAIF",88,0)
 .S DIE="^ONCO(165.5,"
"RTN","ONCOAIF",89,0)
 .S DA=PRIM
"RTN","ONCOAIF",90,0)
 .S DR="90///@;91///0;92///@;197///@"
"RTN","ONCOAIF",91,0)
 .D ^DIE
"RTN","ONCOAIF",92,0)
 W !!," The ABSTRACT STATUS has been changed to 0 (Incomplete)"
"RTN","ONCOAIF",93,0)
 W !," for the following abstracts:",!
"RTN","ONCOAIF",94,0)
 S PRIM=0 F  S PRIM=$O(ASTAT(PRIM)) Q:PRIM'>0  D
"RTN","ONCOAIF",95,0)
 .S PN=$$GET1^DIQ(165.5,PRIM,.02)
"RTN","ONCOAIF",96,0)
 .S AN=$$GET1^DIQ(165.5,PRIM,.05)
"RTN","ONCOAIF",97,0)
 .S SEQ=$$GET1^DIQ(165.5,PRIM,.06)
"RTN","ONCOAIF",98,0)
 .S PID=$$GET1^DIQ(165.5,PRIM,61)
"RTN","ONCOAIF",99,0)
 .S PSCODE=$$GET1^DIQ(165.5,PRIM,20.1)
"RTN","ONCOAIF",100,0)
 .W !?1,PID,"  ",PSCODE,"  ",AN,"/",SEQ
"RTN","ONCOAIF",101,0)
 .W !
"RTN","ONCOAIF",102,0)
 K DIR S DIR(0)="E" D ^DIR
"RTN","ONCOAIF",103,0)
 Q
"RTN","ONCOAIF",104,0)
 ;
"RTN","ONCOAIF",105,0)
CHKCHG ;Check for checksum changes to 'Complete' abstracts
"RTN","ONCOAIF",106,0)
 S CNT=0 W !!," Checking for changes to 'Complete' abstracts" S PRIM=0 F  S PRIM=$O(^ONCO(165.5,"C",ONCOD0,PRIM)) Q:PRIM'>0  D
"RTN","ONCOAIF",107,0)
 .W "."
"RTN","ONCOAIF",108,0)
 .I $P($G(^ONCO(165.5,PRIM,7)),U,2)=3 D
"RTN","ONCOAIF",109,0)
 ..S EDITS="NO" S D0=PRIM D NAACCR^ONCGENED K EDITS
"RTN","ONCOAIF",110,0)
 ..S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCOAIF",111,0)
 ..I CHECKSUM'=$P($G(^ONCO(165.5,PRIM,"EDITS")),U,1) D
"RTN","ONCOAIF",112,0)
 ...S $P(^ONCO(165.5,PRIM,"EDITS"),U,1)=CHECKSUM
"RTN","ONCOAIF",113,0)
 ...W !!," Re-computing checksum value for 'Complete' abstract ",$$GET1^DIQ(165.5,PRIM,.061)
"RTN","ONCOAIF",114,0)
 ...S CNT=CNT+1
"RTN","ONCOAIF",115,0)
 W:CNT=0 " No changes found."
"RTN","ONCOAIF",116,0)
 Q
"RTN","ONCOAIF",117,0)
 ;
"RTN","ONCOAIF",118,0)
REC ;[RF Recurrence/Sub Tx Follow-up]
"RTN","ONCOAIF",119,0)
 K ^DISV(DUZ,"^ONCO(165.5,")
"RTN","ONCOAIF",120,0)
 N ONCDUZ,ONCDT
"RTN","ONCOAIF",121,0)
 S ONCDUZ=DUZ,ONCDT=DT
"RTN","ONCOAIF",122,0)
 S XR=1,REC="" W @IOF,!," Recurrence/Sub Tx Follow-up"
"RTN","ONCOAIF",123,0)
 W !," ---------------------------",!
"RTN","ONCOAIF",124,0)
 S DIC("A")="Select Patient for Recurrence: "
"RTN","ONCOAIF",125,0)
 S DIC="^ONCO(160,",DIC(0)="AEQMZ" D ^DIC K DIC
"RTN","ONCOAIF",126,0)
 G EX:Y<0
"RTN","ONCOAIF",127,0)
 S (D0,ONCOD0)=+Y,ONCONM=Y(0,0)
"RTN","ONCOAIF",128,0)
 N Y
"RTN","ONCOAIF",129,0)
 K DIQ,ONC S DIC="^ONCO(160,",DR=".01;2;3;8;10;15",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOAIF",130,0)
 D EN^DIQ1 W !
"RTN","ONCOAIF",131,0)
 W !?2,"Name.........: ",ONC(160,ONCOD0,.01)
"RTN","ONCOAIF",132,0)
 W ?35,"Race.........: ",ONC(160,ONCOD0,8)
"RTN","ONCOAIF",133,0)
 W !?2,"SSN..........: ",ONC(160,ONCOD0,2)
"RTN","ONCOAIF",134,0)
 W ?35,"Sex..........: ",ONC(160,ONCOD0,10)
"RTN","ONCOAIF",135,0)
 W !?2,"Date of Birth: ",ONC(160,ONCOD0,3)
"RTN","ONCOAIF",136,0)
 W ?35,"Status.......: ",ONC(160,ONCOD0,15)
"RTN","ONCOAIF",137,0)
 D SUM
"RTN","ONCOAIF",138,0)
 K DIC W !?1,"Select Primary for Recurrence: ",!
"RTN","ONCOAIF",139,0)
 S D="C",DIC="^ONCO(165.5,",X=ONCOD0,DIC(0)="EFZ" D IX^DIC G:Y<0 REC
"RTN","ONCOAIF",140,0)
 I Y'=" " S (ONCOD0P,DA)=+Y,DR="[ONCO RECURRENCE FOLLOWUP]",DIE="^ONCO(165.5,",DATEDX=$P(^ONCO(165.5,DA,0),U,16),TX=$P($G(^ONCO(165.5,DA,2)),U,1) D ^DIE D CHKCHG S AB=2,ONCOD0P=D0 G EN
"RTN","ONCOAIF",141,0)
 ;
"RTN","ONCOAIF",142,0)
RE ;Recurrence
"RTN","ONCOAIF",143,0)
 W !!," Recurrence"
"RTN","ONCOAIF",144,0)
 W !," ----------"
"RTN","ONCOAIF",145,0)
 Q
"RTN","ONCOAIF",146,0)
 ;
"RTN","ONCOAIF",147,0)
STX ;Subsequent Course of Treatment
"RTN","ONCOAIF",148,0)
 W !!," Subsequent Course of Treatment"
"RTN","ONCOAIF",149,0)
 W !," ------------------------------"
"RTN","ONCOAIF",150,0)
 Q
"RTN","ONCOAIF",151,0)
 ;
"RTN","ONCOAIF",152,0)
KIL ;Kill variables
"RTN","ONCOAIF",153,0)
 K ONCOSTAT,XR,ED0,DA,DIC,DIE,DIK,DIOT,DIR,DO,DR,DQ,DXS,F,FDOC,FG,FS
"RTN","ONCOAIF",154,0)
 K ONCOD1,ONCOLC,TM,TS,CS,K,I,XY,XX,XDA,XD1,XD0,LC,ONCONF,ONCOVS,REC
"RTN","ONCOAIF",155,0)
 K AB,DATEDX,PRESEL
"RTN","ONCOAIF",156,0)
 Q
"RTN","ONCOAIF",157,0)
 ;
"RTN","ONCOAIF",158,0)
EX ;Exit
"RTN","ONCOAIF",159,0)
 D KIL Q
"RTN","ONCOAIF",160,0)
 ;
"RTN","ONCOAIF",161,0)
DD ;Date format
"RTN","ONCOAIF",162,0)
 S XDD=$E(XDT,4,5)_"/"_$E(XDT,6,7)_"/"_($E(XDT,1,3)+1700) Q
"RTN","ONCOAIF",163,0)
 ;
"RTN","ONCOAIF",164,0)
DLC ;Create FOLLOW-UP
"RTN","ONCOAIF",165,0)
 K DA
"RTN","ONCOAIF",166,0)
 S DA(1)=ONCOD0,DIC="^ONCO(160,"_DA(1)_","_"""F"""_","
"RTN","ONCOAIF",167,0)
 S DLAYGO=160,X=XDT,DIC(0)="ZL"
"RTN","ONCOAIF",168,0)
 I '$D(^ONCO(160,DA(1),"F")) S ^ONCO(160,DA(1),"F",0)="^160.04DAI^^"
"RTN","ONCOAIF",169,0)
 D FILE^DICN S ONCOLC=XDT,DIE=DIC,DR="1////1;2////2;" D ^DIE
"RTN","ONCOAIF",170,0)
 K DA,DIC,DLAYGO,DIE
"RTN","ONCOAIF",171,0)
 Q
"RTN","ONCOAIF",172,0)
 ;
"RTN","ONCOAIF",173,0)
SUM ;Primary summary
"RTN","ONCOAIF",174,0)
 S XD0=D0
"RTN","ONCOAIF",175,0)
 N J,XD1,LINE W !!
"RTN","ONCOAIF",176,0)
 S LINE=" ------------- --------------------  -----------------  ----------  ----  -----"
"RTN","ONCOAIF",177,0)
 S J=0,XD1=0 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $D(^ONCO(165.5,XD1,0)) S J=J+1 W:J=1 " Acc/Sequence",?15,"Topography",?37,"Last Tumor Status",?56,"Date DX",?68,"Stat",?74,"Div",!,LINE,! D FU^ONCOCOML
"RTN","ONCOAIF",178,0)
 Q
"RTN","ONCOAIP")
0^22^B89832212
"RTN","ONCOAIP",1,0)
ONCOAIP ;Hines OIFO/GWB [EE Abstract Edit Primary]; 08/29/01
"RTN","ONCOAIP",2,0)
 ;;2.11;ONCOLOGY;**1,5,6,7,11,13,15,16,18,19,22,24,27,28,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOAIP",3,0)
 ;
"RTN","ONCOAIP",4,0)
ED ;[EE Abstract Edit Primary]
"RTN","ONCOAIP",5,0)
 W @IOF,!
"RTN","ONCOAIP",6,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQZM"
"RTN","ONCOAIP",7,0)
 S DIC("A")=" Select primary or patient name: "
"RTN","ONCOAIP",8,0)
 D ^DIC K DIC G EX:Y<0
"RTN","ONCOAIP",9,0)
 S ONCOD0P=+Y
"RTN","ONCOAIP",10,0)
 S ONCOD0=$P(^ONCO(165.5,+Y,0),U,2)
"RTN","ONCOAIP",11,0)
 S ONCONM=$$GET1^DIQ(160,ONCOD0,.01,"E")
"RTN","ONCOAIP",12,0)
 S ONCOEDIT=1
"RTN","ONCOAIP",13,0)
 ;
"RTN","ONCOAIP",14,0)
EN S ONCOYR=($$TNMED^ONCOU55(ONCOD0P)>3)
"RTN","ONCOAIP",15,0)
 S ABSTAT=$P($G(^ONCO(165.5,ONCOD0P,7)),U,2)
"RTN","ONCOAIP",16,0)
 S CHECKSUM=$P($G(^ONCO(165.5,ONCOD0P,"EDITS")),U,1)
"RTN","ONCOAIP",17,0)
 I ABSTAT=3,CHECKSUM="" D
"RTN","ONCOAIP",18,0)
 .S EDITS="NO" S D0=ONCOD0P D NAACCR^ONCGENED K EDITS
"RTN","ONCOAIP",19,0)
 .S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCOAIP",20,0)
 .S $P(^ONCO(165.5,ONCOD0P,"EDITS"),U,1)=CHECKSUM
"RTN","ONCOAIP",21,0)
 S DIE="^ONCO(165.5,",DA=ONCOD0P,DR="[ONCO ABSTRACT-I]",ONCOL1=0
"RTN","ONCOAIP",22,0)
 L +^ONCO(165.5,DA):0 I $T D ^DIE L -^ONCO(165.5,DA) S ONCOL1=1
"RTN","ONCOAIP",23,0)
 I 'ONCOL1 W !!,"This primary is being edited by another user" H 3 Q:'$D(ONCOEDIT)  K ONCOL1 G ED
"RTN","ONCOAIP",24,0)
 S ABSTAT=$P($G(^ONCO(165.5,ONCOD0P,7)),U,2)
"RTN","ONCOAIP",25,0)
 I ABSTAT'=3 D
"RTN","ONCOAIP",26,0)
 .S DIE="^ONCO(165.5,"
"RTN","ONCOAIP",27,0)
 .S DA=ONCOD0P
"RTN","ONCOAIP",28,0)
 .S DR="197///@"
"RTN","ONCOAIP",29,0)
 .D ^DIE
"RTN","ONCOAIP",30,0)
 I ABSTAT=3 D CHANGE^ONCGENED I $G(Y)="@0" G EN
"RTN","ONCOAIP",31,0)
 D FOL^ONCOAI
"RTN","ONCOAIP",32,0)
 K ONCOL1,LYMPHOMA,RFDEF,TFDEF,DFDEF
"RTN","ONCOAIP",33,0)
 I $D(ONCOOUT) Q
"RTN","ONCOAIP",34,0)
 I $D(Y) Q:'$D(ONCOEDIT)  G ED
"RTN","ONCOAIP",35,0)
 Q
"RTN","ONCOAIP",36,0)
 ;
"RTN","ONCOAIP",37,0)
PAIR ;LATERALITY (165.5,28)
"RTN","ONCOAIP",38,0)
 D TOPNAM
"RTN","ONCOAIP",39,0)
 S DATEDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOAIP",40,0)
 Q:TOP=""
"RTN","ONCOAIP",41,0)
 I TOP=67342,$P(^ONCO(165.5,D0,2),U,8)="" S $P(^ONCO(165.5,D0,2),U,8)=1 Q
"RTN","ONCOAIP",42,0)
 S PO=$P($G(^ONCO(164,TOP,0)),U,7)
"RTN","ONCOAIP",43,0)
 I PO="",$P(^ONCO(165.5,D0,2),U,8)="" S $P(^ONCO(165.5,D0,2),U,8)=0
"RTN","ONCOAIP",44,0)
 I DATEDX<3040000,(TOP=67700)!(TOP=67710)!(TOP=67711)!(TOP=67712)!(TOP=67713)!(TOP=67714)!(TOP=67722)!(TOP=67723)!(TOP=67724)!(TOP=67725),$P(^ONCO(165.5,D0,2),U,8)="" S $P(^ONCO(165.5,D0,2),U,8)=0
"RTN","ONCOAIP",45,0)
 K PO
"RTN","ONCOAIP",46,0)
 ;
"RTN","ONCOAIP",47,0)
 ;Stuff TEXT-PRIMARY SITE TITLE (165.5,100)
"RTN","ONCOAIP",48,0)
 S TEXT=$P($G(^ONCO(164,TOP,0)),U,1)
"RTN","ONCOAIP",49,0)
 S:$P($G(^ONCO(165.5,D0,8)),U,1)="" $P(^ONCO(165.5,D0,8),U,1)=TEXT
"RTN","ONCOAIP",50,0)
 K TEXT
"RTN","ONCOAIP",51,0)
 Q
"RTN","ONCOAIP",52,0)
 ;
"RTN","ONCOAIP",53,0)
HISTXT ;Stuff TEXT-HISTOLOGY TITLE (165.5,101)
"RTN","ONCOAIP",54,0)
 S HSTI=$$HIST^ONCFUNC(D0)
"RTN","ONCOAIP",55,0)
 S TEXT=HISTNAM
"RTN","ONCOAIP",56,0)
 S:$P($G(^ONCO(165.5,D0,8)),U,2)="" $P(^ONCO(165.5,D0,8),U,2)=$E(TEXT,1,40)
"RTN","ONCOAIP",57,0)
 K HSTI,TEXT
"RTN","ONCOAIP",58,0)
 D:$P($G(^ONCO(165.5,D0,0)),U,16)>3031231 ^ONCCSSTF
"RTN","ONCOAIP",59,0)
 Q
"RTN","ONCOAIP",60,0)
 ;
"RTN","ONCOAIP",61,0)
MEN ;Primary Menu Options
"RTN","ONCOAIP",62,0)
 K DXS,ONCOOUT,DASHES
"RTN","ONCOAIP",63,0)
 S $P(DASHES,"-",80)="-"
"RTN","ONCOAIP",64,0)
 S NODE0=^ONCO(165.5,D0,0)
"RTN","ONCOAIP",65,0)
 S S=$P(NODE0,U,1),SITEGP=$P(^ONCO(164.2,S,0),U,1)
"RTN","ONCOAIP",66,0)
 S Y=$P(NODE0,U,2),C=$P(^DD(165.5,.02,0),U,2) D Y^DIQ S PATNAM=Y
"RTN","ONCOAIP",67,0)
 S SAVED0=D0 S D0=$P(NODE0,U,2) D SSN^ONCOES S SSN=X,D0=SAVED0
"RTN","ONCOAIP",68,0)
 S DATEDX=$P(NODE0,U,16)
"RTN","ONCOAIP",69,0)
 D ^ONCPHC
"RTN","ONCOAIP",70,0)
 S COC=$P(NODE0,U,4)
"RTN","ONCOAIP",71,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOAIP",72,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCOAIP",73,0)
 S EVADS=$P($G(^ONCO(160.1,OSP,2)),U,2)
"RTN","ONCOAIP",74,0)
 S IIN=$P($G(^ONCO(160.1,OSP,1)),U,4)
"RTN","ONCOAIP",75,0)
 S RH=$P($G(^ONCO(160.19,IIN,0)),U,2)
"RTN","ONCOAIP",76,0)
 K OSP
"RTN","ONCOAIP",77,0)
 D TOPNAM
"RTN","ONCOAIP",78,0)
 W @IOF
"RTN","ONCOAIP",79,0)
 W !,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCOAIP",80,0)
 W !,?25,"Primary Menu Options",!,DASHES
"RTN","ONCOAIP",81,0)
 W !?22,"1. Patient Identification"
"RTN","ONCOAIP",82,0)
 W !?22,"2. Cancer Identification"
"RTN","ONCOAIP",83,0)
 W !?22,"3. Stage of Disease at Diagnosis"
"RTN","ONCOAIP",84,0)
 W !?22,"   Collaborative Staging (2004+ cases)"
"RTN","ONCOAIP",85,0)
 W !?22,"4. First Course of Treatment"
"RTN","ONCOAIP",86,0)
 W !?22,"5. Patient Care Evaluation"
"RTN","ONCOAIP",87,0)
 W !?22,"6. Over-ride Flags"
"RTN","ONCOAIP",88,0)
 W !?22,"7. Case Administration"
"RTN","ONCOAIP",89,0)
 W !!?22,"A  All - Complete Abstract"
"RTN","ONCOAIP",90,0)
 ;
"RTN","ONCOAIP",91,0)
A K AN,ONCOANS,X,Y
"RTN","ONCOAIP",92,0)
 R !!?25,"Enter option: All//",X:DTIME
"RTN","ONCOAIP",93,0)
 S:X="" (ONCOANS,X)="A"
"RTN","ONCOAIP",94,0)
 G:X["?" HP
"RTN","ONCOAIP",95,0)
 I X=U!'$T S Y="",ONCOOUT=U Q
"RTN","ONCOAIP",96,0)
 I (X="A")!(X="ALL")!(X="all")!(X="All") S ONCOANS="A",Y=1 G Y
"RTN","ONCOAIP",97,0)
 S (ONCOANS,Y)=X I X<1!(X>7) W *7,"??" G A
"RTN","ONCOAIP",98,0)
 ;
"RTN","ONCOAIP",99,0)
Y S Y="@"_Y
"RTN","ONCOAIP",100,0)
 Q
"RTN","ONCOAIP",101,0)
 ;
"RTN","ONCOAIP",102,0)
HP W !!,?10,"Select 'A' for the complete abstract"
"RTN","ONCOAIP",103,0)
 W !?10,"Select 1-7 for the desired subsection",!
"RTN","ONCOAIP",104,0)
 G A
"RTN","ONCOAIP",105,0)
 ;
"RTN","ONCOAIP",106,0)
PAT ;Patient Identification
"RTN","ONCOAIP",107,0)
 S SECTION="Patient Identification" D SECTION
"RTN","ONCOAIP",108,0)
 K DXS,DIOT D PI^ONCPCI
"RTN","ONCOAIP",109,0)
 Q
"RTN","ONCOAIP",110,0)
 ;
"RTN","ONCOAIP",111,0)
CAN S SECTION="Cancer Identification" D SECTION
"RTN","ONCOAIP",112,0)
 D PAIR
"RTN","ONCOAIP",113,0)
 K DXS,DIOT S D0=ONCOD0P D CI^ONCPCI
"RTN","ONCOAIP",114,0)
 Q
"RTN","ONCOAIP",115,0)
 ;
"RTN","ONCOAIP",116,0)
EXT S SECTION="Stage of Disease at Diagnosis" D SECTION
"RTN","ONCOAIP",117,0)
 S SY="@31"
"RTN","ONCOAIP",118,0)
 S S=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOAIP",119,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOAIP",120,0)
 S H=$$HIST^ONCFUNC(D0)
"RTN","ONCOAIP",121,0)
 I (S=35)!($$LEUKEMIA^ONCOAIP2(D0))!((S>64)&(S<71)) D  G PSD
"RTN","ONCOAIP",122,0)
 .S N=$S($E(H,1,4)=9731:"999^10^9",1:"999^80^9") ;Plasmacytoma, NOS
"RTN","ONCOAIP",123,0)
 .S N=$S(S=65:"999^99^9^99^99^9^9^9^9",1:N_"^99^99^9^9^9^7") ;Unk primary
"RTN","ONCOAIP",124,0)
 .I (T=67422)&(L'=1)&(H'=91403) S $P(N,U,2)=99,$P(N,U,9)=9   ;Spleen
"RTN","ONCOAIP",125,0)
 .S $P(^ONCO(165.5,D0,2),U,9,17)=N
"RTN","ONCOAIP",126,0)
 .D NOSTAGE
"RTN","ONCOAIP",127,0)
 .S SY="@313"  ;Other Staging System (165.5,39)
"RTN","ONCOAIP",128,0)
 .I S=65 W !?18,"====> UNKNOWN PRIMARY - No EOD/TNM coding <====" Q
"RTN","ONCOAIP",129,0)
 .W !?18,"====> SYSTEMIC DISEASE - No EOD/TMN coding <===="
"RTN","ONCOAIP",130,0)
 ;
"RTN","ONCOAIP",131,0)
PSD K DXS,DIOT S D0=ONCOD0P D ^ONCPSD K DXS
"RTN","ONCOAIP",132,0)
 S Y=SY
"RTN","ONCOAIP",133,0)
 Q
"RTN","ONCOAIP",134,0)
 ;
"RTN","ONCOAIP",135,0)
NOSTAGE ;No staging
"RTN","ONCOAIP",136,0)
 S $P(^ONCO(165.5,D0,2),U,25)=88   ;37.1 CT
"RTN","ONCOAIP",137,0)
 S $P(^ONCO(165.5,D0,2),U,26)=88   ;37.2 CN
"RTN","ONCOAIP",138,0)
 S $P(^ONCO(165.5,D0,2),U,27)=88   ;37.3 CM
"RTN","ONCOAIP",139,0)
 S $P(^ONCO(165.5,D0,2),U,20)=88   ;38   C Stage Group
"RTN","ONCOAIP",140,0)
 S $P(^ONCO(165.5,D0,3),U,32)=8    ;19   Staged By (C)
"RTN","ONCOAIP",141,0)
 S $P(^ONCO(165.5,D0,7),U,17)="N"  ;69.4 Multimodality Therapy (P)
"RTN","ONCOAIP",142,0)
 S $P(^ONCO(165.5,D0,2.1),U,1)=88  ;85   PT
"RTN","ONCOAIP",143,0)
 S $P(^ONCO(165.5,D0,2.1),U,2)=88  ;86   PN
"RTN","ONCOAIP",144,0)
 S $P(^ONCO(165.5,D0,2.1),U,3)=88  ;87   PM
"RTN","ONCOAIP",145,0)
 S $P(^ONCO(165.5,D0,2.1),U,4)=88  ;88   P Stage Group
"RTN","ONCOAIP",146,0)
 S $P(^ONCO(165.5,D0,2.1),U,5)=8   ;89   Staged By (P)
"RTN","ONCOAIP",147,0)
 S $P(^ONCO(165.5,D0,2),U,28)="NA" ;38.5 Stage Grouping-AJCC
"RTN","ONCOAIP",148,0)
 S:$P($G(^ONCO(165.5,D0,7)),U,7)="" $P(^ONCO(165.5,D0,7),U,7)="0000000"
"RTN","ONCOAIP",149,0)
 S:$P($G(^ONCO(165.5,D0,7)),U,14)="" $P(^ONCO(165.5,D0,7),U,14)="0000000"
"RTN","ONCOAIP",150,0)
 Q
"RTN","ONCOAIP",151,0)
 ;
"RTN","ONCOAIP",152,0)
FST S SECTION="First Course of Treatment" D SECTION
"RTN","ONCOAIP",153,0)
 Q
"RTN","ONCOAIP",154,0)
 ;
"RTN","ONCOAIP",155,0)
ORF S SECTION="Over-ride Flags" D SECTION
"RTN","ONCOAIP",156,0)
 K DXS,DIOT D ^ONCORF
"RTN","ONCOAIP",157,0)
 Q
"RTN","ONCOAIP",158,0)
 ;
"RTN","ONCOAIP",159,0)
NTX ;DATE OF NO TREATMENT (165.5,124)
"RTN","ONCOAIP",160,0)
 I '$D(NTDD) S Y="@425" Q
"RTN","ONCOAIP",161,0)
 K NTDD
"RTN","ONCOAIP",162,0)
 W !!?5,"You have entered a DATE OF NO TREATMENT.  All treatment fields"
"RTN","ONCOAIP",163,0)
 W !?5,"will be stuffed with the appropriate value indicating no"
"RTN","ONCOAIP",164,0)
 W !?5,"treatment.",!
"RTN","ONCOAIP",165,0)
 K DIR S DIR("A")="Are you sure you want to do this",DIR("B")="No"
"RTN","ONCOAIP",166,0)
 S DIR(0)="Y" D ^DIR
"RTN","ONCOAIP",167,0)
 I (Y=0)!(Y="") D  S Y=124 W ! Q
"RTN","ONCOAIP",168,0)
 .S TXDT=$P(^ONCO(165.5,D0,2.1),U,11)_"N"
"RTN","ONCOAIP",169,0)
 .K ^ONCO(165.5,"ATX",D0,TXDT)
"RTN","ONCOAIP",170,0)
 .S $P(^ONCO(165.5,D0,2.1),U,11)=""
"RTN","ONCOAIP",171,0)
 I Y[U S $P(^ONCO(165.5,D0,2.1),U,11)="",Y="@0" Q
"RTN","ONCOAIP",172,0)
 S NTX="" D NTX^ONCNTX K NTX
"RTN","ONCOAIP",173,0)
 Q
"RTN","ONCOAIP",174,0)
 ;
"RTN","ONCOAIP",175,0)
RS ;RADIATION/SURGERY SEQUENCE (165.5,51.3)
"RTN","ONCOAIP",176,0)
 Q:$P(^ONCO(165.5,D0,3),U,7)'=""
"RTN","ONCOAIP",177,0)
 S S=$E($$GET1^DIQ(165.5,D0,58.6,"E"),1,2)
"RTN","ONCOAIP",178,0)
 S SATF=$E($$GET1^DIQ(165.5,D0,58.7,"E"),1,2)
"RTN","ONCOAIP",179,0)
 S SCP=$P($G(^ONCO(165.5,D0,3.1)),U,31)
"RTN","ONCOAIP",180,0)
 S SCPATF=$P($G(^ONCO(165.5,D0,3.1)),U,32)
"RTN","ONCOAIP",181,0)
 S SOTH=$P($G(^ONCO(165.5,D0,3.1)),U,33)
"RTN","ONCOAIP",182,0)
 S SOTHATF=$P($G(^ONCO(165.5,D0,3.1)),U,34)
"RTN","ONCOAIP",183,0)
 S R=$$GET1^DIQ(165.5,D0,51.2,"I")
"RTN","ONCOAIP",184,0)
 S RATF=$$GET1^DIQ(165.5,D0,51.4,"I")
"RTN","ONCOAIP",185,0)
 I ((S="00")!(S=99)!(S=98)!(S=""))&((SATF="00")!(SATF=99)!(SATF=98)!(SATF=""))&((SCP=0)!(SCP="")!(SCP=9))&((SCPATF=0)!(SCPATF="")!(SCPATF=9))&((SOTH=0)!(SOTH=""))&((SOTHATF=0)!(SOTHATF="")) S SR=0
"RTN","ONCOAIP",186,0)
 E  S SR=1
"RTN","ONCOAIP",187,0)
 I ((R=0)!(R=7)!(R=8)!(R=9)!(R=""))&((RATF=0)!(RATF=7)!(RATF=8)!(RATF=9)!(RATF="")) S R=0
"RTN","ONCOAIP",188,0)
 E  S R=1
"RTN","ONCOAIP",189,0)
 I ($G(SR)&$G(R)) D  K S,SATF,SCP,SCPATF,SOTH,SOTHATF,R,RATF,SR,SDT,SATFDT,SCPDT,SCPATFDT,SOTDT,SOTATFDT,RDT,RATFDT,RSSEQ,FSDT,FRDT
"RTN","ONCOAIP",190,0)
 .S SDT=$P($G(^ONCO(165.5,D0,3)),U,1)
"RTN","ONCOAIP",191,0)
 .S:SDT'="" RSSEQ("S",SDT)="S",RSSEQ(SDT)="S"
"RTN","ONCOAIP",192,0)
 .S SATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,8)
"RTN","ONCOAIP",193,0)
 .S:SATFDT'="" RSSEQ("S",SATFDT)="S",RSSEQ(SATFDT)="S"
"RTN","ONCOAIP",194,0)
 .S SCPDT=$P($G(^ONCO(165.5,D0,3.1)),U,22)
"RTN","ONCOAIP",195,0)
 .S:SCPDT'="" RSSEQ("S",SCPDT)="S",RSSEQ(SCPDT)="S"
"RTN","ONCOAIP",196,0)
 .S SCPATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,23)
"RTN","ONCOAIP",197,0)
 .S:SCPATFDT'="" RSSEQ("S",SCPATFDT)="S",RSSEQ(SCPATFDT)="S"
"RTN","ONCOAIP",198,0)
 .S SOTDT=$P($G(^ONCO(165.5,D0,3.1)),U,24)
"RTN","ONCOAIP",199,0)
 .S:SOTDT'="" RSSEQ("S",SOTDT)="S",RSSEQ(SOTDT)="S"
"RTN","ONCOAIP",200,0)
 .S SOTATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,25)
"RTN","ONCOAIP",201,0)
 .S:SOTATFDT'="" RSSEQ("S",SOTATFDT)="S",RSSEQ(SOTATFDT)="S"
"RTN","ONCOAIP",202,0)
 .S RDT=$P($G(^ONCO(165.5,D0,3)),U,4)
"RTN","ONCOAIP",203,0)
 .S:RDT'="" RSSEQ("R",RDT)="R",RSSEQ(RDT)="R"
"RTN","ONCOAIP",204,0)
 .S RATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,13)
"RTN","ONCOAIP",205,0)
 .S:RATFDT'="" RSSEQ("R",RATFDT)="R",RSSEQ(RATFDT)="R"
"RTN","ONCOAIP",206,0)
 .S FSDT=$O(RSSEQ("S",0)),FRDT=$O(RSSEQ("R",0))
"RTN","ONCOAIP",207,0)
 .I FSDT=FRDT Q 
"RTN","ONCOAIP",208,0)
 .S RSSEQ=$O(RSSEQ(0))
"RTN","ONCOAIP",209,0)
 .I RSSEQ(RSSEQ)="R" S $P(^ONCO(165.5,D0,3),U,7)=2
"RTN","ONCOAIP",210,0)
 .I RSSEQ(RSSEQ)="S" S $P(^ONCO(165.5,D0,3),U,7)=3
"RTN","ONCOAIP",211,0)
 E  D
"RTN","ONCOAIP",212,0)
 .S $P(^ONCO(165.5,D0,3),U,7)=0
"RTN","ONCOAIP",213,0)
 Q
"RTN","ONCOAIP",214,0)
 ;
"RTN","ONCOAIP",215,0)
AB ;Abstract Status
"RTN","ONCOAIP",216,0)
 S SECTION="Case Administration" D SECTION
"RTN","ONCOAIP",217,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCOAIP",218,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCOAIP",219,0)
 S DR="90:92;198;199;155;157"
"RTN","ONCOAIP",220,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCOAIP",221,0)
 S X=ONC(165.5,D0,91) D UCASE^ONCPCI S ONC(165.5,D0,91)=X
"RTN","ONCOAIP",222,0)
 W !," Abstract Status...........: ",ONC(165.5,D0,91)
"RTN","ONCOAIP",223,0)
 W !," Date of First Contact.....: ",ONC(165.5,D0,155)
"RTN","ONCOAIP",224,0)
 W !," Date Case Completed.......: ",ONC(165.5,D0,90)
"RTN","ONCOAIP",225,0)
 W !," Elapsed Days to Completion: ",ONC(165.5,D0,157)
"RTN","ONCOAIP",226,0)
 W !," Abstracted by.............: ",ONC(165.5,D0,92)
"RTN","ONCOAIP",227,0)
 W !," Date Case Last Changed....: ",ONC(165.5,D0,198)
"RTN","ONCOAIP",228,0)
 W !," Case Last Changed by......: ",ONC(165.5,D0,199)
"RTN","ONCOAIP",229,0)
 W !,DASHES
"RTN","ONCOAIP",230,0)
 Q
"RTN","ONCOAIP",231,0)
 ;
"RTN","ONCOAIP",232,0)
NAN ;NEW ACC #
"RTN","ONCOAIP",233,0)
 K DIR S DIR(0)="N^:"_($E(DT,1,3)+1700),DIR("A")="YEAR of Accession Number: ",DIR("B")=($E(DT,1,3)+1700) W !! D ^DIR Q:(Y=U)!(Y="")
"RTN","ONCOAIP",234,0)
NA S YR=Y,MR=YR_"0001",XR=999999-((YR+1)_"0000"),NR=$O(^ONCO(165.5,"AF",XR))
"RTN","ONCOAIP",235,0)
 I NR<(990002-MR) W *7,!!?5,"SYSTEM appears out of numbers-looking for unassigned ones" G FND
"RTN","ONCOAIP",236,0)
 I NR>(999999-MR) S NR=""
"RTN","ONCOAIP",237,0)
 S AC=$S(NR="":YR_"0001",1:(1000000-NR)),SEQ="00"
"RTN","ONCOAIP",238,0)
 Q
"RTN","ONCOAIP",239,0)
FND ;SEARCH for unused #s
"RTN","ONCOAIP",240,0)
 S NR=YR_"0000",MR=(YR+1)_"0000"
"RTN","ONCOAIP",241,0)
NR S NR=NR+1 I NR<MR G:$D(^ONCO(165.5,"AA",NR)) NR S AC=NR,SEQ="00" Q
"RTN","ONCOAIP",242,0)
 W *7,!!?10,"OUT of ACCESSION Numbers for 19"_YR S Y=U
"RTN","ONCOAIP",243,0)
 Q
"RTN","ONCOAIP",244,0)
 ;
"RTN","ONCOAIP",245,0)
TOPNAM ;PRIMARY SITE and PRIMARY SITE CODE for header
"RTN","ONCOAIP",246,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD="",TOPNAM=""
"RTN","ONCOAIP",247,0)
 I TOP'="" S TOPNAM=$P(^ONCO(164,TOP,0),U,1),TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOAIP",248,0)
 S SITTAB=79-$L(SITEGP),TOPTAB=79-$L(TOPNAM_" "_TOPCOD)
"RTN","ONCOAIP",249,0)
 S NOS=TOPTAB-$L(PATNAM),NOS=NOS-1 K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOAIP",250,0)
 Q
"RTN","ONCOAIP",251,0)
 ;
"RTN","ONCOAIP",252,0)
SECTION S HDL=$L(SECTION),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",253,0)
 W @IOF,DASHES
"RTN","ONCOAIP",254,0)
 W !,?1,PATNAM,?TAB,SECTION,?SITTAB,SITEGP
"RTN","ONCOAIP",255,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCOAIP",256,0)
 W !,DASHES
"RTN","ONCOAIP",257,0)
 Q
"RTN","ONCOAIP",258,0)
 ;
"RTN","ONCOAIP",259,0)
EX ;Exit
"RTN","ONCOAIP",260,0)
 D KILL^ONCOAI
"RTN","ONCOAIP",261,0)
 K ONCOEDIT
"RTN","ONCOAIP",262,0)
 Q
"RTN","ONCOCC")
0^55^B54549376
"RTN","ONCOCC",1,0)
ONCOCC ;HINES OIFO/GWB - CLASS OF CASE 5 OR 8 ;06/03/96
"RTN","ONCOCC",2,0)
 ;;2.11;ONCOLOGY;**5,13,16,19,20,22,24,26,30,33,36,37,39,47**;Mar 07, 1995;Build 19
"RTN","ONCOCC",3,0)
 ;
"RTN","ONCOCC",4,0)
 S DTDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOCC",5,0)
 S TPG=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOCC",6,0)
 S SGRP="" I TPG'="" S SGRP=$P($G(^ONCO(164,TPG,0)),U,16)
"RTN","ONCOCC",7,0)
 F P=5,9,12,15,18,24 S $P(^ONCO(165.5,D0,3),U,P)=""
"RTN","ONCOCC",8,0)
 K ^ONCO(165.5,DA,6) S $P(^ONCO(165.5,DA,3),U,7)=0
"RTN","ONCOCC",9,0)
 K ^ONCO(165.5,DA,14),^ONCO(165.5,DA,15),^ONCO(165.5,DA,16),^ONCO(165.5,DA,17),^ONCO(165.5,DA,18),^ONCO(165.5,DA,20),^ONCO(165.5,DA,21)
"RTN","ONCOCC",10,0)
 I COC=5 D COC5
"RTN","ONCOCC",11,0)
 I COC=8 D COC8
"RTN","ONCOCC",12,0)
 D SCT Q
"RTN","ONCOCC",13,0)
 ;
"RTN","ONCOCC",14,0)
COC5 S $P(^ONCO(165.5,D0,3),U,35)=9
"RTN","ONCOCC",15,0)
 S $P(^ONCO(165.5,D0,3),U,27)=$S(DTDX>2951231:"00",1:0)
"RTN","ONCOCC",16,0)
 S $P(^ONCO(165.5,D0,3.1),U,5)=$S(DTDX>2951231:"00",1:0)
"RTN","ONCOCC",17,0)
 S $P(^ONCO(165.5,D0,3.1),U,29)=1
"RTN","ONCOCC",18,0)
 S $P(^ONCO(165.5,D0,3.1),U,30)=1
"RTN","ONCOCC",19,0)
 S $P(^ONCO(165.5,D0,3),U,34)=1
"RTN","ONCOCC",20,0)
 S $P(^ONCO(165.5,D0,3.1),U,28)=0
"RTN","ONCOCC",21,0)
 S $P(^ONCO(165.5,D0,3.1),U,39)=0
"RTN","ONCOCC",22,0)
 S $P(^ONCO(165.5,D0,0),U,10)=6
"RTN","ONCOCC",23,0)
 S $P(^ONCO(165.5,D0,3),U,26)=9
"RTN","ONCOCC",24,0)
 S $P(^ONCO(165.5,D0,3),U,28)=8
"RTN","ONCOCC",25,0)
 S TPG=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCOCC",26,0)
 I ($E(TPG,3,4)=76)!(TPG=67809)!(TPG=67420)!(TPG=67421)!(TPG=67423)!(TPG=67424) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCOCC",27,0)
 S MO=$$HIST^ONCFUNC(DA)
"RTN","ONCOCC",28,0)
 S HIST14=$E(MO,1,4)
"RTN","ONCOCC",29,0)
 I (HIST14=9750)!((HIST14>9759)&(HIST14<9765))!((HIST14>9799)&(HIST14<9821))!(HIST14=9826)!((HIST14>9830)&(HIST14<9921))!((HIST14>9930)&(HIST14<9965))!((HIST14>9979)&(HIST14<9990)) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCOCC",30,0)
 I $$LYMPHOMA^ONCFUNC(DA),($E(TPG,3,4)=77) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCOCC",31,0)
 S $P(^ONCO(165.5,D0,3.1),U,31)=0
"RTN","ONCOCC",32,0)
 S $P(^ONCO(165.5,D0,3.1),U,32)=0
"RTN","ONCOCC",33,0)
 S $P(^ONCO(165.5,D0,3.1),U,33)=0
"RTN","ONCOCC",34,0)
 S $P(^ONCO(165.5,D0,3.1),U,34)=0
"RTN","ONCOCC",35,0)
 S $P(^ONCO(165.5,D0,3),U,33)=$S(DTDX>2971231:1,1:9)
"RTN","ONCOCC",36,0)
 F P=6,10,25 S $P(^ONCO(165.5,D0,3),U,P)=0
"RTN","ONCOCC",37,0)
 F P=12,20 S $P(^ONCO(165.5,D0,3.1),U,P)=0
"RTN","ONCOCC",38,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,43)=$S(DTDX>2971231:0,1:"")
"RTN","ONCOCC",39,0)
 S $P(^ONCO(165.5,DA,3),U,13)="00"
"RTN","ONCOCC",40,0)
 S $P(^ONCO(165.5,DA,3.1),U,14)="00"
"RTN","ONCOCC",41,0)
 S $P(^ONCO(165.5,DA,3),U,16)="00"
"RTN","ONCOCC",42,0)
 S $P(^ONCO(165.5,DA,3.1),U,16)="00"
"RTN","ONCOCC",43,0)
 S $P(^ONCO(165.5,DA,3),U,19)="00"
"RTN","ONCOCC",44,0)
 S $P(^ONCO(165.5,DA,3.1),U,18)="00"
"RTN","ONCOCC",45,0)
 S $P(^ONCO(165.5,DA,3.1),U,36)=1
"RTN","ONCOCC",46,0)
 S $P(^ONCO(165.5,DA,3),U,20)=$S(DTDX>2971231:0,1:"")
"RTN","ONCOCC",47,0)
 S $P(^ONCO(165.5,DA,3),U,21)=$S(DTDX>2971231:1,1:"")
"RTN","ONCOCC",48,0)
 S $P(^ONCO(165.5,DA,3),U,22)=$S(DTDX>2971231:0,1:"")
"RTN","ONCOCC",49,0)
 S $P(^ONCO(165.5,DA,3),U,29)=$S(DTDX>2971231:0,1:"")
"RTN","ONCOCC",50,0)
 S $P(^ONCO(165.5,DA,3),U,39)=$S(DTDX>2971231:1,1:"")
"RTN","ONCOCC",51,0)
 S $P(^ONCO(165.5,DA,3.1),U,3)=$S(DTDX>2971231:0,1:"")
"RTN","ONCOCC",52,0)
 S $P(^ONCO(165.5,DA,3.1),U,1)=$S(DTDX>2971231:1,1:"")
"RTN","ONCOCC",53,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,36)="0000000"
"RTN","ONCOCC",54,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,16)="0000000"
"RTN","ONCOCC",55,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,18)=1
"RTN","ONCOCC",56,0)
 S $P(^ONCO(165.5,DA,3),U,5)=""
"RTN","ONCOCC",57,0)
 F PP=1,4,11,14,17,23,31 S $P(^ONCO(165.5,DA,3),U,PP)="0000000"
"RTN","ONCOCC",58,0)
 F PP=6,8,13:2:19,21:1:25,35,38 S $P(^ONCO(165.5,DA,3.1),U,PP)="0000000"
"RTN","ONCOCC",59,0)
 K ^ONCO(165.5,"ATX",DA)
"RTN","ONCOCC",60,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S1")=""
"RTN","ONCOCC",61,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S2")=""
"RTN","ONCOCC",62,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S3")=""
"RTN","ONCOCC",63,0)
 S ^ONCO(165.5,"ATX",DA,"0000000R")=""
"RTN","ONCOCC",64,0)
 S ^ONCO(165.5,"ATX",DA,"0000000C")=""
"RTN","ONCOCC",65,0)
 S ^ONCO(165.5,"ATX",DA,"0000000H")=""
"RTN","ONCOCC",66,0)
 S ^ONCO(165.5,"ATX",DA,"0000000B")=""
"RTN","ONCOCC",67,0)
 S ^ONCO(165.5,"ATX",DA,"0000000E")=""
"RTN","ONCOCC",68,0)
 S ^ONCO(165.5,"ATX",DA,"0000000O")=""
"RTN","ONCOCC",69,0)
 Q
"RTN","ONCOCC",70,0)
 ;
"RTN","ONCOCC",71,0)
COC8 ;CLASS OF CASE (165.5,.04) value 8 (Death cert) used by central
"RTN","ONCOCC",72,0)
 ;registries only
"RTN","ONCOCC",73,0)
 Q
"RTN","ONCOCC",74,0)
 ;
"RTN","ONCOCC",75,0)
SCT I $D(^ONCO(165.5,D0,4)) S SCTIEN=0 F  S SCTIEN=$O(^ONCO(165.5,D0,4,SCTIEN)) Q:SCTIEN'>0  D
"RTN","ONCOCC",76,0)
 .S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,4)="00"
"RTN","ONCOCC",77,0)
 .I COC=5 D
"RTN","ONCOCC",78,0)
 ..F P=11,12,13,14,15,16,17 S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,P)="0000000"
"RTN","ONCOCC",79,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,5)=0
"RTN","ONCOCC",80,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,6)="00"
"RTN","ONCOCC",81,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,7)="00"
"RTN","ONCOCC",82,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,9)=0
"RTN","ONCOCC",83,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,10)=0
"RTN","ONCOCC",84,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,3),U,19)=0
"RTN","ONCOCC",85,0)
 K BRM,FLD,P,REC,RFNR,RFNC,RFNHT,RR
"RTN","ONCOCC",86,0)
 K SA,SC,SM,SO,SPS,SCTIEN,SGRP,TPG
"RTN","ONCOCC",87,0)
 Q
"RTN","ONCOCC",88,0)
 ;
"RTN","ONCOCC",89,0)
SATFDFR ;SURGERY OF PRIMARY @FAC (R) (165.5,50.2) default
"RTN","ONCOCC",90,0)
 N SPS S SPS=$P($G(^ONCO(165.5,D0,3)),U,38)
"RTN","ONCOCC",91,0)
 D SGROUP I TPG="" Q
"RTN","ONCOCC",92,0)
 I (SPS="00")!(SPS=1)!($G(^ONCO(164,SGRP,"SPS",SPS,0))["Unknown") S Y="@427" Q
"RTN","ONCOCC",93,0)
 S SPSDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",94,0)
 .S SPSDF=$P($G(^ONCO(164,SGRP,"SPS",SPS,0)),U,1)
"RTN","ONCOCC",95,0)
 .S DTDX=$P($G(^ONCO(165.5,D0,0)),U,16) S:DTDX<2980000 SPSDF=""
"RTN","ONCOCC",96,0)
 Q
"RTN","ONCOCC",97,0)
 ;
"RTN","ONCOCC",98,0)
SATFDEF ;SURGERY OF PRIMARY @FAC (F) (165.5,58.7) default
"RTN","ONCOCC",99,0)
 N SPS S SPS=$P($G(^ONCO(165.5,D0,3.1)),U,29)
"RTN","ONCOCC",100,0)
 I SPS="" Q
"RTN","ONCOCC",101,0)
 D SGROUP I TPG="" Q
"RTN","ONCOCC",102,0)
 I (SPS="00")!(SPS=1)!($G(^ONCO(164,SGRP,"SPS",SPS,0))["Unknown") S Y="@43" Q
"RTN","ONCOCC",103,0)
 S (SPSDF,SPSDTDF)="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",104,0)
 .S SPSDF=$P($G(^ONCO(164,SGRP,"SPS",SPS,0)),U,1)
"RTN","ONCOCC",105,0)
 .S SPSDTDF=$$GET1^DIQ(165.5,D0,50,"E")
"RTN","ONCOCC",106,0)
 .S DTDX=$P($G(^ONCO(165.5,D0,0)),U,16) S:DTDX<2980000 (SPSDF,SPSDTDF)=""
"RTN","ONCOCC",107,0)
 Q
"RTN","ONCOCC",108,0)
 ;
"RTN","ONCOCC",109,0)
RATFDEF ;RADIATION @FACILITY (165.5,51.4) default
"RTN","ONCOCC",110,0)
 S RD=$P($G(^ONCO(165.5,D0,3)),U,6)
"RTN","ONCOCC",111,0)
 S RADDF="",RADDTDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",112,0)
 .I RD'="" D
"RTN","ONCOCC",113,0)
 ..S XX=$F(^DD(165.5,51.2,0),RD_":")
"RTN","ONCOCC",114,0)
 ..S YY=$F(^DD(165.5,51.2,0),";",XX)
"RTN","ONCOCC",115,0)
 ..S RADDF=$E(^DD(165.5,51.2,0),XX,YY-2)
"RTN","ONCOCC",116,0)
 .S RADDTDF=$P($G(^ONCO(165.5,D0,3)),U,4)
"RTN","ONCOCC",117,0)
 Q
"RTN","ONCOCC",118,0)
 ;
"RTN","ONCOCC",119,0)
CATFDEF ;CHEMOTHERAPY @FAC (165.5,53.3) default
"RTN","ONCOCC",120,0)
 S CH=$P($G(^ONCO(165.5,D0,3)),U,13)
"RTN","ONCOCC",121,0)
 S CHEMDF="",CHMDTDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",122,0)
 .I CH'="" D
"RTN","ONCOCC",123,0)
 ..S XX=$F(^DD(165.5,53.2,0),CH_":")
"RTN","ONCOCC",124,0)
 ..S YY=$F(^DD(165.5,53.2,0),";",XX)
"RTN","ONCOCC",125,0)
 ..S CHEMDF=$E(^DD(165.5,53.2,0),XX,YY-2)
"RTN","ONCOCC",126,0)
 .S CHMDTDF=$P($G(^ONCO(165.5,D0,3)),U,11)
"RTN","ONCOCC",127,0)
 Q
"RTN","ONCOCC",128,0)
 ;
"RTN","ONCOCC",129,0)
HATFDEF ;HORMONE THERAPY @FAC (165.5,54.3) default
"RTN","ONCOCC",130,0)
 S HT=$P($G(^ONCO(165.5,D0,3)),U,16)
"RTN","ONCOCC",131,0)
 S HTDF="",HTDTDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",132,0)
 .I HT'="" D
"RTN","ONCOCC",133,0)
 ..S XX=$F(^DD(165.5,54.2,0),HT_":")
"RTN","ONCOCC",134,0)
 ..S YY=$F(^DD(165.5,54.2,0),";",XX)
"RTN","ONCOCC",135,0)
 ..S HTDF=$E(^DD(165.5,54.2,0),XX,YY-2)
"RTN","ONCOCC",136,0)
 .S HTDTDF=$P($G(^ONCO(165.5,D0,3)),U,14)
"RTN","ONCOCC",137,0)
 Q
"RTN","ONCOCC",138,0)
 ;
"RTN","ONCOCC",139,0)
IATFDEF ;IMMUNOTHERAPY @FAC (165.5,55.3) default
"RTN","ONCOCC",140,0)
 S IMM=$P($G(^ONCO(165.5,D0,3)),U,19)
"RTN","ONCOCC",141,0)
 S IMMDF="",IMMDTDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",142,0)
 .I IMM'="" D
"RTN","ONCOCC",143,0)
 ..S XX=$F(^DD(165.5,55.2,0),IMM_":")
"RTN","ONCOCC",144,0)
 ..S YY=$F(^DD(165.5,55.2,0),";",XX)
"RTN","ONCOCC",145,0)
 ..S IMMDF=$E(^DD(165.5,55.2,0),XX,YY-2)
"RTN","ONCOCC",146,0)
 .S IMMDTDF=$P($G(^ONCO(165.5,D0,3)),U,17)
"RTN","ONCOCC",147,0)
 Q
"RTN","ONCOCC",148,0)
 ;
"RTN","ONCOCC",149,0)
OATFDEF ;OTHER TREATMENT @FAC (165.5,57.3) default
"RTN","ONCOCC",150,0)
 S OTH=$P($G(^ONCO(165.5,D0,3)),U,25)
"RTN","ONCOCC",151,0)
 S OTHDF="",OTHDTDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",152,0)
 .I OTH'="" D
"RTN","ONCOCC",153,0)
 ..S XX=$F(^DD(165.5,57.2,0),OTH_":")
"RTN","ONCOCC",154,0)
 ..S YY=$F(^DD(165.5,57.2,0),";",XX)
"RTN","ONCOCC",155,0)
 ..S OTHDF=$E(^DD(165.5,57.2,0),XX,YY-2)
"RTN","ONCOCC",156,0)
 .S OTHDTDF=$P($G(^ONCO(165.5,D0,3)),U,23)
"RTN","ONCOCC",157,0)
 Q
"RTN","ONCOCC",158,0)
 ;
"RTN","ONCOCC",159,0)
PATFDEF ;PALLIATIVE PROCEDURE @FAC (165.5,13) default
"RTN","ONCOCC",160,0)
 S PP=$P($G(^ONCO(165.5,D0,3.1)),U,26)
"RTN","ONCOCC",161,0)
 S PPDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",162,0)
 .I PP'="" D
"RTN","ONCOCC",163,0)
 ..S XX=$F(^DD(165.5,12,0),PP_":")
"RTN","ONCOCC",164,0)
 ..S YY=$F(^DD(165.5,12,0),";",XX)
"RTN","ONCOCC",165,0)
 ..S PPDF=$E(^DD(165.5,12,0),XX,YY-2)
"RTN","ONCOCC",166,0)
 Q
"RTN","ONCOCC",167,0)
 ;
"RTN","ONCOCC",168,0)
SCOPER ;SCOPE OF LN SURGERY @FAC (R) (165.5,138.1) default
"RTN","ONCOCC",169,0)
 N SCOPE S SCOPE=$P($G(^ONCO(165.5,D0,3)),U,40) I SCOPE="" Q
"RTN","ONCOCC",170,0)
 D SGROUP I TPG="" Q
"RTN","ONCOCC",171,0)
 S SCPDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",172,0)
 .S SCPDF=$P($G(^ONCO(164,SGRP,"SC5",SCOPE,0)),U,1)
"RTN","ONCOCC",173,0)
 Q
"RTN","ONCOCC",174,0)
 ;
"RTN","ONCOCC",175,0)
SCOPE ;SCOPE OF LN SURGERY @FAC (F) (165.5,138.5) default
"RTN","ONCOCC",176,0)
 ;SCOPE OF LN SURGERY @FAC DATE (165.5,138.3) default
"RTN","ONCOCC",177,0)
 N SCOPE S SCOPE=$P($G(^ONCO(165.5,D0,3.1)),U,31) I SCOPE="" Q
"RTN","ONCOCC",178,0)
 S (SCPDF,SCPDTDF)="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",179,0)
 .I SCOPE'="" D
"RTN","ONCOCC",180,0)
 ..S XX=$F(^DD(165.5,138.5,0),SCOPE_":")
"RTN","ONCOCC",181,0)
 ..S YY=$F(^DD(165.5,138.5,0),";",XX)
"RTN","ONCOCC",182,0)
 ..S SCPDF=$E(^DD(165.5,138.5,0),XX,YY-2)
"RTN","ONCOCC",183,0)
 .S SCPDTDF=$P($G(^ONCO(165.5,D0,3.1)),U,22)
"RTN","ONCOCC",184,0)
 Q
"RTN","ONCOCC",185,0)
 ;
"RTN","ONCOCC",186,0)
NUMN ;NUMBER OF LN REMOVED @FAC (R) (165.5,140.1) default
"RTN","ONCOCC",187,0)
 N NODES S NODES=$P($G(^ONCO(165.5,D0,3)),U,42)
"RTN","ONCOCC",188,0)
 S NUMDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",189,0)
 .S NUMDF=NODES
"RTN","ONCOCC",190,0)
 .I NUMDF="00" S NUMDF=NUMDF_"  No nodes removed"
"RTN","ONCOCC",191,0)
 .I NUMDF="90" S NUMDF=NUMDF_"  90 or more nodes removed"
"RTN","ONCOCC",192,0)
 .I NUMDF="95" S NUMDF=NUMDF_"  No nodes removed, aspiration performed"
"RTN","ONCOCC",193,0)
 .I NUMDF="96" S NUMDF=NUMDF_"  Node removal as a sampling, number unknown"
"RTN","ONCOCC",194,0)
 .I NUMDF="97" S NUMDF=NUMDF_"  Node removal as dissection, number unknown"
"RTN","ONCOCC",195,0)
 .I NUMDF="98" S NUMDF=NUMDF_"  Nodes surgically removed, number unknown"
"RTN","ONCOCC",196,0)
 .I NUMDF="99" S NUMDF=NUMDF_"  Unknown, not stated, death cert ONLY"
"RTN","ONCOCC",197,0)
 Q
"RTN","ONCOCC",198,0)
 ;
"RTN","ONCOCC",199,0)
SOSNR ;SURG PROC/OTHER SITE @FAC (R) (165.5,139.1) default
"RTN","ONCOCC",200,0)
 N SOSN S SOSN=$P($G(^ONCO(165.5,D0,3)),U,41) I SOSN="" Q
"RTN","ONCOCC",201,0)
 D SGROUP I TPG="" Q
"RTN","ONCOCC",202,0)
 S SOSNDF="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",203,0)
 .S SOSNDF=$P($G(^ONCO(164,SGRP,"SO5",SOSN,0)),U,1)
"RTN","ONCOCC",204,0)
 Q
"RTN","ONCOCC",205,0)
 ;
"RTN","ONCOCC",206,0)
SOSN ;SURG PROC/OTHER SITE @FAC (F) (165.5,139.5) default
"RTN","ONCOCC",207,0)
 N SOSN S SOSN=$P($G(^ONCO(165.5,D0,3.1)),U,33) I SOSN="" Q
"RTN","ONCOCC",208,0)
 S (SOSNDF,SOSNDTDF)="" I (COC=1)!(COC=2) D  Q
"RTN","ONCOCC",209,0)
 .I SOSN'="" D
"RTN","ONCOCC",210,0)
 ..S XX=$F(^DD(165.5,139.5,0),SOSN_":")
"RTN","ONCOCC",211,0)
 ..S YY=$F(^DD(165.5,139.5,0),";",XX)
"RTN","ONCOCC",212,0)
 ..S SOSNDF=$E(^DD(165.5,139.5,0),XX,YY-2)
"RTN","ONCOCC",213,0)
 .S SOSNDTDF=$P($G(^ONCO(165.5,D0,3.1)),U,24)
"RTN","ONCOCC",214,0)
 Q
"RTN","ONCOCC",215,0)
 ;
"RTN","ONCOCC",216,0)
SGROUP S TPG=$P($G(^ONCO(165.5,D0,2)),U,1) I TPG="" Q
"RTN","ONCOCC",217,0)
 S SGRP=$P($G(^ONCO(164,TPG,0)),U,16)
"RTN","ONCOCC",218,0)
 Q
"RTN","ONCOCOM")
0^37^B38117626
"RTN","ONCOCOM",1,0)
ONCOCOM ;Hines OIFO/GWB - 'COMPUTED FIELD' EXPRESSIONS ;02/10/00
"RTN","ONCOCOM",2,0)
 ;;2.11;ONCOLOGY;**1,6,11,12,13,14,16,17,19,25,36,42,43,44,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOCOM",3,0)
 ;
"RTN","ONCOCOM",4,0)
SDA ;List all primaries from 165.5
"RTN","ONCOCOM",5,0)
 S XD0=$P(^ONCO(165.5,D0,0),U,2) G CX
"RTN","ONCOCOM",6,0)
 ;
"RTN","ONCOCOM",7,0)
SDP ;get Other Primary Sites & dates Diagnosis: from 165.5
"RTN","ONCOCOM",8,0)
 D XD0 G:XD0="" EX
"RTN","ONCOCOM",9,0)
D ;List all primaries except current primary
"RTN","ONCOCOM",10,0)
X N J S J=0
"RTN","ONCOCOM",11,0)
 F XD1=0:0 S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) G:XD1'>0 NO I $$DIV^ONCFUNC(XD1)=DUZ(2),$D(^ONCO(165.5,XD1,0)),XD1'=D0 S J=J+1 W:J=1 ?1,"Acc/Seq#",?15,"Primary Site",?37,"Last Tumor Status",?56,"Date DX",?68,"Status",! D ^ONCOCOML
"RTN","ONCOCOM",12,0)
 ;
"RTN","ONCOCOM",13,0)
NO ;No other primaries
"RTN","ONCOCOM",14,0)
 G:J>0 EX W ?24,"None" G EX
"RTN","ONCOCOM",15,0)
 ;
"RTN","ONCOCOM",16,0)
SDD ;List primaries 
"RTN","ONCOCOM",17,0)
 Q:'$D(^ONCO(160,D0))  S XD0=D0
"RTN","ONCOCOM",18,0)
CX ;Entry point with XD0 defined, not D0
"RTN","ONCOCOM",19,0)
 N J,XD1,LINE W !!
"RTN","ONCOCOM",20,0)
 S LINE=" ------------- --------------------  -----------------  ----------  -----------"
"RTN","ONCOCOM",21,0)
 S J=0,XD1=0 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $D(^ONCO(165.5,XD1,0)),$$DIV^ONCFUNC(XD1)=DUZ(2) S J=J+1 W:J=1 " Acc/Sequence",?15,"Primary Site",?37,"Last Tumor Status",?56,"Date DX",?68,"Status",!,LINE,! D ^ONCOCOML
"RTN","ONCOCOM",22,0)
 Q
"RTN","ONCOCOM",23,0)
 ;
"RTN","ONCOCOM",24,0)
CLS ;CLass of Case (ANALYTIC/NON-ANALYTIC)
"RTN","ONCOCOM",25,0)
 ;Computed field (165.5, .042) CASE-CLASS
"RTN","ONCOCOM",26,0)
 S XD0=D0,X=$S($D(^ONCO(165.5,XD0,0)):$P(^(0),U,4),1:""),X=$S(X="":"",X<3:"Analytic",1:"Non-Analytic")
"RTN","ONCOCOM",27,0)
 K XD0 Q
"RTN","ONCOCOM",28,0)
 ;
"RTN","ONCOCOM",29,0)
DFC ;'COMPUTED-FIELD' EXPRESSION for FIRST COURSE OF TREATMENT DATE (165.5,49)
"RTN","ONCOCOM",30,0)
 I '$D(^ONCO(165.5,"ATX",D0)) S X="" Q
"RTN","ONCOCOM",31,0)
 S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT=""  Q:($E(TDT,1,7)'="0000000")&($E(TDT,1,7)'=9999999)&($E(TDT,1,7)'=8888888)&($E(TDT,8,9)'="S2")&($E(TDT,8,9)'="S3")
"RTN","ONCOCOM",32,0)
 I TDT="" S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT=""  Q:$E(TDT,1,7)=9999999
"RTN","ONCOCOM",33,0)
 I TDT="" S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT=""  Q:$E(TDT,1,7)="0000000"
"RTN","ONCOCOM",34,0)
 I TDT="" S TDT="9999999X"
"RTN","ONCOCOM",35,0)
 S X=$E(TDT,1,7)
"RTN","ONCOCOM",36,0)
 D DATEOT^ONCOES
"RTN","ONCOCOM",37,0)
 K TDT Q
"RTN","ONCOCOM",38,0)
 ;
"RTN","ONCOCOM",39,0)
DSTS ;DATE SYSTEMIC TREATMENT STARTED (165.5,152)
"RTN","ONCOCOM",40,0)
 S DSTS=""
"RTN","ONCOCOM",41,0)
 K DSTSDT
"RTN","ONCOCOM",42,0)
 S X=$$GET1^DIQ(165.5,D0,53,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCOCOM",43,0)
 S X=$$GET1^DIQ(165.5,D0,54,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCOCOM",44,0)
 S X=$$GET1^DIQ(165.5,D0,55,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCOCOM",45,0)
 S X=$$GET1^DIQ(165.5,D0,153.1,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCOCOM",46,0)
 S DSTS=0 F  S DSTS=$O(DSTSDT(DSTS)) Q:DSTS=""  Q:($E(DSTS,1,7)'="0000000")&($E(DSTS,1,7)'=9999999)
"RTN","ONCOCOM",47,0)
 I DSTS="" S DSTS=0 F  S DSTS=$O(DSTSDT(DSTS)) Q:DSTS=""  Q:$E(DSTS,1,7)=9999999
"RTN","ONCOCOM",48,0)
 I DSTS="" S DSTS=0 F  S DSTS=$O(DSTSDT(DSTS)) Q:DSTS=""  Q:$E(DSTS,1,7)="0000000"
"RTN","ONCOCOM",49,0)
 S X=DSTS
"RTN","ONCOCOM",50,0)
 D DATEOT^ONCOES
"RTN","ONCOCOM",51,0)
 K DSTS,DSTSDT
"RTN","ONCOCOM",52,0)
 Q
"RTN","ONCOCOM",53,0)
 ;
"RTN","ONCOCOM",54,0)
DD ;Y=date in FM format (2yrmoda); convert to da/mo/yr
"RTN","ONCOCOM",55,0)
 S Y=$S(Y="":"",1:$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_(1700+$E(Y,1,3))) ;_$S(Y#1:" "_$E(Y_0,9,10)_":"_$E(Y_"0000",11,12),1:"")
"RTN","ONCOCOM",56,0)
 Q
"RTN","ONCOCOM",57,0)
 ;
"RTN","ONCOCOM",58,0)
AGE ;AGE AT DIAGNOSIS
"RTN","ONCOCOM",59,0)
 S DOD=$P(^ONCO(165.5,D0,0),U,16) I DOD="" S AGE="" G AGEOUT
"RTN","ONCOCOM",60,0)
 S XD0=D0,D0=$P(^ONCO(165.5,XD0,0),U,2) D DOB1^ONCOES S DOB=X,D0=XD0
"RTN","ONCOCOM",61,0)
 I DOB="" S AGE="" G AGEOUT
"RTN","ONCOCOM",62,0)
 S AGE=$E(DOD,1,3)-$E(DOB,1,3)-($E(DOD,4,7)<$E(DOB,4,7))
"RTN","ONCOCOM",63,0)
 ;
"RTN","ONCOCOM",64,0)
AGEOUT S X=AGE K DOD,XD0,DOB,AGE
"RTN","ONCOCOM",65,0)
 Q
"RTN","ONCOCOM",66,0)
 ;
"RTN","ONCOCOM",67,0)
DEC ;AGE DX DECADE
"RTN","ONCOCOM",68,0)
 D AGE Q:X=""  S AG=X,X=$S(AG<20:"0-20",AG<30:"20-29",AG<40:"30-39",AG<50:"40-49",AG<60:"50-59",AG<70:"60-69",AG<80:"70-79",1:"80-99")
"RTN","ONCOCOM",69,0)
 K AG Q
"RTN","ONCOCOM",70,0)
XD0 S XD0=$S($D(^ONCO(165.5,D0,0)):$P(^(0),U,2),1:"") ;XD0=internal 160
"RTN","ONCOCOM",71,0)
 Q
"RTN","ONCOCOM",72,0)
PAT ;Get Patient pointer
"RTN","ONCOCOM",73,0)
V0 S OD0=$S($D(^ONCO(160,XD0,0)):$P(^(0),U),1:"") Q:OD0=""  S OF=$P(OD0,";",2),OD0=$P(OD0,";",1),VPR=U_OF_OD0_",0)",VP0=$S($D(@VPR):^(0),1:"")
"RTN","ONCOCOM",74,0)
 Q
"RTN","ONCOCOM",75,0)
PID ;PATIENT NAME,SSN,DOB
"RTN","ONCOCOM",76,0)
 S X="" D PAT G EX:OD0="" S ONCONM=$P(VP0,U),SN=$P(VP0,U,9),XD=$P(VP0,U,3),ONCOPID=$E(ONCONM)_$E(SN,6,9)
"RTN","ONCOCOM",77,0)
 Q
"RTN","ONCOCOM",78,0)
SID ;PID# (A1234)
"RTN","ONCOCOM",79,0)
PID5 S XD0=$P(^ONCO(165.5,D0,0),U,2) D PAT,PID S X=$E(ONCONM)_$E(SN,6,9) G EX
"RTN","ONCOCOM",80,0)
 ;
"RTN","ONCOCOM",81,0)
PID0 S XD0=D0 D PAT,PID S X=$E(ONCONM)_$E(SN,6,9) G EX
"RTN","ONCOCOM",82,0)
 ;
"RTN","ONCOCOM",83,0)
MS ;Marital status at Diagnosis FROM 165.5
"RTN","ONCOCOM",84,0)
 S X="" D XD0 G:XD0="" EX D PAT G:OD0="" EX S MS=$P(VP0,U,5),MC=$P($G(^DIC(11,+MS,0)),U,3),X1=$S(MC="N":1,MC="M":2,MC="S":3,MC="D":4,MC="W":5,1:9),$P(^ONCO(165.5,D0,1),U,5)=X1
"RTN","ONCOCOM",85,0)
ADX ;Address at DX
"RTN","ONCOCOM",86,0)
PT S GLR=U_OF_OD0_",",X11=$G(@(GLR_".11)")),CITY=$P(X11,U,4),ST=$P(X11,U,5),CT=$P(X11,U,7),ZIP=$P(X11,U,6),ZP=$O(^VIC(5.11,"B",ZIP_" ",0))
"RTN","ONCOCOM",87,0)
 I CITY'="" S $P(^ONCO(165.5,D0,1),U,12)=CITY
"RTN","ONCOCOM",88,0)
 I ST'="" S STDXABV=$P($G(^DIC(5,ST,0)),U,2),STDXIEN=$O(^ONCO(160.15,"B",STDXABV,"")),$P(^ONCO(165.5,D0,1),U,4)=STDXIEN
"RTN","ONCOCOM",89,0)
 S ADX=$P(X11,U)_" "_$P(X11,U,2)_U_ZIP,$P(^ONCO(165.5,D0,1),U,1)=$S($P(ADX,U,1)=" ":"",1:$P(ADX,U,1)),$P(^ONCO(165.5,D0,1),U,2)=$P(ADX,U,2) D CTY G EX
"RTN","ONCOCOM",90,0)
CTY ;Obtain county ptr
"RTN","ONCOCOM",91,0)
 Q:ST=""!(CT="")  I $D(^DIC(5,ST,1,CT,0)) S CTY=$P(^(0),U),VI=0 F  S VI=$O(^VIC(5.1,"B",CTY,VI)) Q:VI'>0  I $P(^VIC(5.1,VI,0),U,2)=ST S $P(^ONCO(165.5,D0,1),U,3)=VI
"RTN","ONCOCOM",92,0)
 Q
"RTN","ONCOCOM",93,0)
ONCPRI ;ICD0-TOPOGRAPHY LIST (160,49)
"RTN","ONCOCOM",94,0)
 S XD0=0
"RTN","ONCOCOM",95,0)
 F  S XD0=$O(^ONCO(165.5,"C",D0,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2) D
"RTN","ONCOCOM",96,0)
 .Q:'$D(^ONCO(165.5,XD0,2))
"RTN","ONCOCOM",97,0)
 .S TOPIEN=$P(^ONCO(165.5,XD0,2),U,1)
"RTN","ONCOCOM",98,0)
 .Q:TOPIEN=""
"RTN","ONCOCOM",99,0)
 .S TOPNAME=$P(^ONCO(164,TOPIEN,0),U,1)
"RTN","ONCOCOM",100,0)
 .S TOPCODE=$P(^ONCO(164,TOPIEN,0),U,2)
"RTN","ONCOCOM",101,0)
 .S TOP(TOPCODE)=TOPNAME
"RTN","ONCOCOM",102,0)
 I $D(TOP) S TOPCODE="" W ! F  S TOPCODE=$O(TOP(TOPCODE)) Q:TOPCODE=""  W ?5,TOP(TOPCODE),!
"RTN","ONCOCOM",103,0)
 S X="" K XD0,TOPIEN,TOP,TOPCODE Q
"RTN","ONCOCOM",104,0)
ACOS ;'COMPUTED-FIELD' EXPRESSION for ACOS # (165.5,67)
"RTN","ONCOCOM",105,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCOM",106,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCOCOM",107,0)
 S ACOS=$P(^ONCO(160.1,OSP,0),U,4)
"RTN","ONCOCOM",108,0)
 S ACOS=$$GET1^DIQ(160.19,ACOS,.01,"I")
"RTN","ONCOCOM",109,0)
 S X=ACOS K OSP,ACOS
"RTN","ONCOCOM",110,0)
 Q
"RTN","ONCOCOM",111,0)
 ;
"RTN","ONCOCOM",112,0)
HM ;'COMPUTED-FIELD' EXPRESSION for HISTO-MORPHOLOGY (165.5,27)
"RTN","ONCOCOM",113,0)
 N MO,GRADE
"RTN","ONCOCOM",114,0)
 S X=""
"RTN","ONCOCOM",115,0)
 S MO=$$GET1^DIQ(165.5,D0,22.3,"I")
"RTN","ONCOCOM",116,0)
 I MO'="" D
"RTN","ONCOCOM",117,0)
 .S GRADE=$$GET1^DIQ(165.5,D0,24,"I")
"RTN","ONCOCOM",118,0)
 .S X=$E(MO,1,4)_"/"_$E(MO,5)_GRADE
"RTN","ONCOCOM",119,0)
 Q
"RTN","ONCOCOM",120,0)
 ;
"RTN","ONCOCOM",121,0)
ET ;'COMPUTED-FIELD' EXPRESSION for ELAPSED DAYS TO COMPLETION (165.5,157)
"RTN","ONCOCOM",122,0)
 N DATE1,DATE2
"RTN","ONCOCOM",123,0)
 S DATE1=$P($G(^ONCO(165.5,D0,7)),U,1)
"RTN","ONCOCOM",124,0)
 S DATE2=$P($G(^ONCO(165.5,D0,0)),U,35)
"RTN","ONCOCOM",125,0)
 I (DATE2="")!(DATE2="0000000")!(DATE2=9999999) S X="Unknown (No Date of First Contact)" Q
"RTN","ONCOCOM",126,0)
 I (DATE1="")!(DATE1="0000000")!(DATE1=9999999)!(DATE1=8888888) S X="Unknown (No Date Case Completed)" Q
"RTN","ONCOCOM",127,0)
 I DATE1<DATE2 S X="Unknown (Dt 1st Cont > Dt Case Complt)" Q
"RTN","ONCOCOM",128,0)
 S X1=DATE1
"RTN","ONCOCOM",129,0)
 S X2=DATE2
"RTN","ONCOCOM",130,0)
 D ^%DTC
"RTN","ONCOCOM",131,0)
 I %Y=0 S X="Unknown (Dates imprecise)" Q
"RTN","ONCOCOM",132,0)
 ;S X=X_$S(X=1:" day",1:" days")
"RTN","ONCOCOM",133,0)
 ;D DTDIFF^ONCDTUTL(DATE1,DATE2,.DAYS,.MONTHS,.YEARS)
"RTN","ONCOCOM",134,0)
 ;I ($E(DATE1,4,5)="00")!($E(DATE2,4,5)="00") S MONTHS="?"
"RTN","ONCOCOM",135,0)
 ;I ($E(DATE1,6,7)="00")!($E(DATE2,6,7)="00") S DAYS="?"
"RTN","ONCOCOM",136,0)
 ;S X=YEARS_$S(YEARS=1:" Year/",1:" Years/")_MONTHS_$S(MONTHS=1:" Month/",1:" Months/")_DAYS_$S(DAYS=1:" Day",1:" Days")
"RTN","ONCOCOM",137,0)
 Q
"RTN","ONCOCOM",138,0)
 ;
"RTN","ONCOCOM",139,0)
DCD ;INPUT TRANSFORM for DATE OF CONCLUSIVE DX (165.5,193)
"RTN","ONCOCOM",140,0)
 N DCDX,X1,X2,%Y
"RTN","ONCOCOM",141,0)
 S DCDX=X
"RTN","ONCOCOM",142,0)
 S X2=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOCOM",143,0)
 S X1=X
"RTN","ONCOCOM",144,0)
 I (X2="")!(X2="0000000")!(X2=8888888)!(X2=9999999) Q
"RTN","ONCOCOM",145,0)
 I X2>X1 W !!,"DATE DX after DATE OF CONCLUSIVE DX",! K X Q
"RTN","ONCOCOM",146,0)
 D ^%DTC
"RTN","ONCOCOM",147,0)
 I %Y=0 Q
"RTN","ONCOCOM",148,0)
 I X<61 W !!," DATE OF CONCLUSIVE DX must be greater than 60 days after DATE DX",! K X Q
"RTN","ONCOCOM",149,0)
 S X=DCDX
"RTN","ONCOCOM",150,0)
 Q
"RTN","ONCOCOM",151,0)
 ;
"RTN","ONCOCOM",152,0)
SET ;SET VARIABLES
"RTN","ONCOCOM",153,0)
 K SDD,XTS,ABS,SD,ACS,ST Q
"RTN","ONCOCOM",154,0)
EX ;KILL ALL VARIABLES
"RTN","ONCOCOM",155,0)
 K ACS,ADX,CT,CTY,GLR,OD0,X11,ZIP,ZP,VI,MS,ST,SD,SDD,XD1,X1,X2,XD0,OD0,OF,VPR,VP0,Y
"RTN","ONCOCOM",156,0)
 Q
"RTN","ONCOCOS")
0^28^B10396818
"RTN","ONCOCOS",1,0)
ONCOCOS ;Hines OIFO/GWB 'COMPUTED-FIELD' EXPRESSIONS; 11/09/99
"RTN","ONCOCOS",2,0)
 ;;2.11;ONCOLOGY;**5,13,16,17,19,22,24,36,42,45,47**;Mar 07, 1995;Build 19
"RTN","ONCOCOS",3,0)
 ;
"RTN","ONCOCOS",4,0)
SICD ;SELECTED SITES (165.5,.015)
"RTN","ONCOCOS",5,0)
 S X=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOCOS",6,0)
 S X=$S(X=31:"LUNG NOS",X=62:"LYMPHOMA",X=63:"N-H LYMPHOMA",X=54:"BLADDER",X=17:"COLON",X>65&(X<70):"LEUKEMIA",X=39:"MELANOMA",X=50:"PROSTATE",X=9:"ORAL CAVITY",1:"OTHER")
"RTN","ONCOCOS",7,0)
 Q
"RTN","ONCOCOS",8,0)
 ;
"RTN","ONCOCOS",9,0)
SYS ;SYSTEMS (165.5,.017)
"RTN","ONCOCOS",10,0)
 S X=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOCOS",11,0)
 S X=$S(X=63:"LYMPH-NH",X=62:"LYMPH",1:"") Q:X'=""
"RTN","ONCOCOS",12,0)
 S X=$P($G(^ONCO(165.5,D0,0)),U,22) Q:X=""
"RTN","ONCOCOS",13,0)
 S X=$S(X<6715:"H&N",X<6726:"DS",X<6739:"RS",X<6747:"MS",(X>6751&(X<6768)):"GU",X=6747!(X>6769&(X<6772)):"NS",1:"OTH")
"RTN","ONCOCOS",14,0)
 Q
"RTN","ONCOCOS",15,0)
 ;
"RTN","ONCOCOS",16,0)
RSX ;RACE-SEX (165.5,.13)
"RTN","ONCOCOS",17,0)
 D GT G RSXEX:XD0=""
"RTN","ONCOCOS",18,0)
 S X=$S(SX=1:"-M",SX=2:"-F",1:"")
"RTN","ONCOCOS",19,0)
 S XRX=$S(RC=1:"White"_X,RC=2:"Black"_X,1:"Other"_X)
"RTN","ONCOCOS",20,0)
 S X=XRX
"RTN","ONCOCOS",21,0)
RSXEX K XD0,SX,RC,XRX
"RTN","ONCOCOS",22,0)
 Q
"RTN","ONCOCOS",23,0)
 ;
"RTN","ONCOCOS",24,0)
SXR ;SEX-RACE (165.5,.14)
"RTN","ONCOCOS",25,0)
 D GT G SXREX:XD0=""
"RTN","ONCOCOS",26,0)
 S X=$S(RC=1:"W",RC=2:"B",1:"O")
"RTN","ONCOCOS",27,0)
 S XRX=$S(SX=1:"Male-"_X,SX=2:"Female-"_X,1:X)
"RTN","ONCOCOS",28,0)
 S X=XRX
"RTN","ONCOCOS",29,0)
SXREX K XD0,SX,RC,XRX
"RTN","ONCOCOS",30,0)
 Q
"RTN","ONCOCOS",31,0)
 ;
"RTN","ONCOCOS",32,0)
GT ;RACE 1 (160,8)
"RTN","ONCOCOS",33,0)
 ;SEX (160,10)
"RTN","ONCOCOS",34,0)
 S XD0=$S($D(^ONCO(165.5,D0,0)):$P(^(0),U,2),1:"") Q:XD0=""
"RTN","ONCOCOS",35,0)
 Q:'$D(^ONCO(160,XD0,0))
"RTN","ONCOCOS",36,0)
 S XP0=^ONCO(160,XD0,0)
"RTN","ONCOCOS",37,0)
 S RC=$P(XP0,U,6)
"RTN","ONCOCOS",38,0)
 S SX=$P(XP0,U,8)
"RTN","ONCOCOS",39,0)
 Q
"RTN","ONCOCOS",40,0)
 ;
"RTN","ONCOCOS",41,0)
GSS ;SEER SUMMARY STAGE ABBREVIATED (165.5,35.1)
"RTN","ONCOCOS",42,0)
 S X=$P($G(^ONCO(165.5,D0,2)),U,17)
"RTN","ONCOCOS",43,0)
 S X=$S(X=0:"In Situ",X=1:"Local",X=2:"Reg Ext",X=3:"Reg Nodes",X=4:"Reg Ext/Nodes",X=5:"Reg NOS",X=7:"Dist Met/Sys",X=8:"NA",X=9:"Unk",1:"")
"RTN","ONCOCOS",44,0)
 Q
"RTN","ONCOCOS",45,0)
 ;
"RTN","ONCOCOS",46,0)
SSG1 ;GP-I AJCC SUMMARY STAGE (165.5,38.1)
"RTN","ONCOCOS",47,0)
 D SG
"RTN","ONCOCOS",48,0)
 S X=$S(+X=1:"I"_$E(X,2),1:"")
"RTN","ONCOCOS",49,0)
 Q
"RTN","ONCOCOS",50,0)
 ;
"RTN","ONCOCOS",51,0)
SSG2 ;GP-II AJCC SUMMARY STAGE (165.5,38.2)
"RTN","ONCOCOS",52,0)
 D SG
"RTN","ONCOCOS",53,0)
 S X=$S(+X=2:"II"_$E(X,2),1:"")
"RTN","ONCOCOS",54,0)
 Q
"RTN","ONCOCOS",55,0)
 ;
"RTN","ONCOCOS",56,0)
SSG3 ;GP-III AJCC SUMMARY STAGE (165.5,38.3)
"RTN","ONCOCOS",57,0)
 D SG
"RTN","ONCOCOS",58,0)
 S X=$S(+X=3:"III"_$E(X,2),1:"")
"RTN","ONCOCOS",59,0)
 Q
"RTN","ONCOCOS",60,0)
 ;
"RTN","ONCOCOS",61,0)
SSG4 ;GP-IV AJCC SUMMARY STAGE (165.5,38.4)
"RTN","ONCOCOS",62,0)
 D SG
"RTN","ONCOCOS",63,0)
 S X=$S(+X=4:"IV"_$E(X,2),1:"")
"RTN","ONCOCOS",64,0)
 Q
"RTN","ONCOCOS",65,0)
 ;
"RTN","ONCOCOS",66,0)
SG ;STAGE GROUP CLINICAL (165.5,38)
"RTN","ONCOCOS",67,0)
 S X=$S($D(^ONCO(165.5,D0,2)):$P(^(2),U,20),1:"")
"RTN","ONCOCOS",68,0)
 Q
"RTN","ONCOCOS",69,0)
 ;
"RTN","ONCOCOS",70,0)
TXS ;TREATMENT ABBREVIATED (165.5,42)
"RTN","ONCOCOS",71,0)
 S XD0=D0,XX=0
"RTN","ONCOCOS",72,0)
 F  S XX=$O(^ONCO(165.5,"ATX",XD0,XX)) Q:XX=""  D
"RTN","ONCOCOS",73,0)
 .I $E(XX,1,7)="0000000" Q
"RTN","ONCOCOS",74,0)
 .I $E(XX,1,7)=9999999 Q
"RTN","ONCOCOS",75,0)
 .S T=$E(XX,8,9)
"RTN","ONCOCOS",76,0)
 .I T["S",T'="S1" Q
"RTN","ONCOCOS",77,0)
 .I T["S",X["S" Q
"RTN","ONCOCOS",78,0)
 .S X=$S(X="":$E(XX,8),1:X_"/"_$E(XX,8))
"RTN","ONCOCOS",79,0)
 S X=$S(X="":"NONE",1:X)
"RTN","ONCOCOS",80,0)
 K XD0,XX,T
"RTN","ONCOCOS",81,0)
 Q
"RTN","ONCOCOS",82,0)
 ;
"RTN","ONCOCOS",83,0)
TX ;TREATMENT (165.5,43)
"RTN","ONCOCOS",84,0)
 S XD0=D0,XX=0
"RTN","ONCOCOS",85,0)
 F  S XX=$O(^ONCO(165.5,"ATX",XD0,XX)) Q:XX=""  D
"RTN","ONCOCOS",86,0)
 .I $E(XX,1,7)="0000000" Q
"RTN","ONCOCOS",87,0)
 .I $E(XX,1,7)=9999999 Q
"RTN","ONCOCOS",88,0)
 .S T=$E(XX,8,9)
"RTN","ONCOCOS",89,0)
 .I T["S",X["SUR" Q
"RTN","ONCOCOS",90,0)
 .S TX=$S(T="S1":"SUR",T="C":"CMX",T="R":"XRT",T="H":"HOR",T="B":"BRM",T="P":"CNS",T="N":"NTX",T="E":"HEM",T="O":"OTR",1:"XXX")
"RTN","ONCOCOS",91,0)
 .S:TX'="XXX" X=$S(X="":TX,1:X_"/"_TX)
"RTN","ONCOCOS",92,0)
 S X=$S(X="":"NONE",1:X)
"RTN","ONCOCOS",93,0)
 K XD0,XX,T,TX
"RTN","ONCOCOS",94,0)
 Q
"RTN","ONCOCOS",95,0)
 ;
"RTN","ONCOCOS",96,0)
TRS ;STATUS/LAST TUMOR STATUS (165.5,95.1)
"RTN","ONCOCOS",97,0)
 S XD0=D0
"RTN","ONCOCOS",98,0)
 S XTS=$P($G(^ONCO(165.5,XD0,7)),U,6)
"RTN","ONCOCOS",99,0)
 S XTS=$S(XTS=1:"No Evidence",XTS=2:"CA Evidence",1:"Unknown")
"RTN","ONCOCOS",100,0)
 S XD1=$P(^ONCO(165.5,XD0,0),U,2)
"RTN","ONCOCOS",101,0)
 S VS=$$GET1^DIQ(160,XD1,15)
"RTN","ONCOCOS",102,0)
 S X=VS_"/"_XTS
"RTN","ONCOCOS",103,0)
 K XD0,XTS,XD1,VS
"RTN","ONCOCOS",104,0)
 Q
"RTN","ONCODEL")
0^17^B16933003
"RTN","ONCODEL",1,0)
ONCODEL ;Hines OIFO/GWB - EXTENSION and LYMPH NODES ;8/12/94
"RTN","ONCODEL",2,0)
 ;;2.11;ONCOLOGY;**7,15,19,22,27,28,30,36,47**;Mar 07, 1995;Build 19
"RTN","ONCODEL",3,0)
 ;
"RTN","ONCODEL",4,0)
IN ;EXTENSION (165.5,30) and LYMPH NODES (165.5,31) INPUT TRANSFORM
"RTN","ONCODEL",5,0)
 S ONCOT=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCODEL",6,0)
 N OP S OP=$$GETLIST(D0,ONCOX,ONCOT)
"RTN","ONCODEL",7,0)
 I OP D
"RTN","ONCODEL",8,0)
 .I X?.N D  Q
"RTN","ONCODEL",9,0)
 ..I (X>99)!(X<0)!(X?.E1"."1N.N)!(X'?1.2N) K X W "  Invalid code" Q
"RTN","ONCODEL",10,0)
 ..S:($L(X)=2)&($E(X,1)="0") X=$E(X,2)
"RTN","ONCODEL",11,0)
 ..S Y=$G(^ONCO(164.5,OP,1,(X+1),0))
"RTN","ONCODEL",12,0)
 ..I Y="" K X W "  Invalid Code" Q
"RTN","ONCODEL",13,0)
 ..W ?(17-$L(X))," "_Y
"RTN","ONCODEL",14,0)
 .I X?.AP D UCASE^ONCOU D  Q
"RTN","ONCODEL",15,0)
 ..S XX=X
"RTN","ONCODEL",16,0)
 ..I $D(^ONCO(164.5,OP,1,"C",X)) D  Q
"RTN","ONCODEL",17,0)
 ...S X=$O(^ONCO(164.5,OP,1,"C",X,0)),X=X-1
"RTN","ONCODEL",18,0)
 ...W ?(17-$L(X)),$P(Y,XX,2)
"RTN","ONCODEL",19,0)
 ..S Y=$O(^ONCO(164.5,OP,1,"C",X))
"RTN","ONCODEL",20,0)
 ..I ($P(Y,XX,1)'="")!(Y="") K X W "  Invalid code" Q
"RTN","ONCODEL",21,0)
 ..S X=$O(^ONCO(164.5,OP,1,"C",Y,0)),X=X-1
"RTN","ONCODEL",22,0)
 ..W ?(17-$L(X)),$P(Y,XX,2)
"RTN","ONCODEL",23,0)
 .K X W "  Invalid code"
"RTN","ONCODEL",24,0)
 E  W:OP'="" !,OP,*7,! K X
"RTN","ONCODEL",25,0)
 D EX Q
"RTN","ONCODEL",26,0)
 ;
"RTN","ONCODEL",27,0)
OT ;EXTENSION (165.5,30) and LYMPH NODES (165.5,31) OUTPUT TRANSFORM
"RTN","ONCODEL",28,0)
 Q:Y=""
"RTN","ONCODEL",29,0)
 N YY,OP
"RTN","ONCODEL",30,0)
 S ONCOT=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCODEL",31,0)
 S OP=$$GETLIST(D0,ONCOX,ONCOT)
"RTN","ONCODEL",32,0)
 I ONCOX="E",$L(Y)=1 S Y="0"_Y
"RTN","ONCODEL",33,0)
 I OP S YY=$G(^ONCO(164.5,OP,1,(Y+1),0)),Y=$S(YY="":"Invalid code",1:Y_" "_YY)
"RTN","ONCODEL",34,0)
 E  S Y=OP
"RTN","ONCODEL",35,0)
 D EX
"RTN","ONCODEL",36,0)
 Q
"RTN","ONCODEL",37,0)
 ;
"RTN","ONCODEL",38,0)
HP ;EXTENSION (165.5,30) and LYMPH NODES (165.5,31) HELP
"RTN","ONCODEL",39,0)
 S ONCOT=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCODEL",40,0)
 N OP S OP=$$GETLIST(D0,ONCOX,ONCOT)
"RTN","ONCODEL",41,0)
 I OP D
"RTN","ONCODEL",42,0)
 .W !?2,$P(^ONCO(164.5,OP,0),U)," (",SEERED," edition)",!
"RTN","ONCODEL",43,0)
 .N X,Y S X=0
"RTN","ONCODEL",44,0)
 .F  S X=$O(^ONCO(164.5,OP,1,X)) Q:X'>0  D
"RTN","ONCODEL",45,0)
 ..S Y=X-1 S:($L(Y)=1)&(ONCOX="E") Y="0"_Y W !?2,Y_" "_^(X,0)
"RTN","ONCODEL",46,0)
 E  W:OP'="" !,OP,*7,! K X
"RTN","ONCODEL",47,0)
 W !
"RTN","ONCODEL",48,0)
 D EX Q
"RTN","ONCODEL",49,0)
 ;
"RTN","ONCODEL",50,0)
EX ;Exit
"RTN","ONCODEL",51,0)
 K ONCOX,SEERED,ONCFLD
"RTN","ONCODEL",52,0)
 Q
"RTN","ONCODEL",53,0)
 ;
"RTN","ONCODEL",54,0)
GETLIST(ONCOIX,CODTYP,ONCOT,OUTFLAG) ;CODTYP (E=extension, L=lymph node)
"RTN","ONCODEL",55,0)
 N OP
"RTN","ONCODEL",56,0)
 N ED S ED=$$EDITION^ONCOU55(ONCOIX)
"RTN","ONCODEL",57,0)
 S SEERED=$S(ED=3:"3rd",ED=2:"2nd",ED=1:"1st",1:ED)
"RTN","ONCODEL",58,0)
 N ONCOER
"RTN","ONCODEL",59,0)
 N SCOD S SCOD=$P(^ONCO(165.5,ONCOIX,0),U)
"RTN","ONCODEL",60,0)
 I ONCOT="" S ONCOER="No PRIMARY SITE."
"RTN","ONCODEL",61,0)
 I $G(ONCOER)="" N HST S HST=$$HIST^ONCFUNC(D0) I HST="" S ONCOER="No HISTOLOGY."
"RTN","ONCODEL",62,0)
 I $G(ONCOER)="" D
"RTN","ONCODEL",63,0)
 .N MELANOMA S MELANOMA=$$MELANOMA^ONCOU55(ONCOIX)
"RTN","ONCODEL",64,0)
 .I MELANOMA,$P($G(^ONCO(164,ONCOT,0)),U,15) S OP=$S(CODTYP="E":145,CODTYP="L":146,1:0) ;Malignant melanoma of the skin
"RTN","ONCODEL",65,0)
 .E  I MELANOMA,ED=2,ONCOT=67690 S OP=$S(CODTYP="E":167,CODTYP="L":172,1:0) ;Malignant melanoma of the conjunctiva (uses Conjunctiva list)
"RTN","ONCODEL",66,0)
 .E  I MELANOMA,ED=2,ONCOT>67690,ONCOT<67700 S OP=$S(CODTYP="E":169,CODTYP="L":170,1:0) ;Malignant Melanoma of Uvea - 2nd edition
"RTN","ONCODEL",67,0)
 .E  I MELANOMA,ED=3,ONCOT>67690,ONCOT<67700 S OP=$S(CODTYP="E":241,CODTYP="L":170,1:0) ;Malignant Melanoma of Uvea - 3rd edition 
"RTN","ONCODEL",68,0)
 .E  D
"RTN","ONCODEL",69,0)
 ..S OP=$P($G(^ONCO(ICDFILE,HST,CODTYP)),U,ED) ;Histology
"RTN","ONCODEL",70,0)
 ..I '$G(OP),ONCOT=67422,(($E(HST,1,3)<959)!($E(HST,1,3)>971)),'$$LEUKEMIA^ONCOAIP2(ONCOIX),HST'=91403 S OP=$S(CODTYP="E":132,1:133)
"RTN","ONCODEL",71,0)
 ..I '$G(OP),((ONCOT=67770)&((SCOD=62)!(SCOD=63)))!(SCOD=35)!(SCOD=39)!(SCOD=40) S OP=$P($G(^ONCO(164.2,SCOD,CODTYP)),U,ED) ;Special site-groups
"RTN","ONCODEL",72,0)
 ..I '$G(OP),ONCOT=67619,$G(ONCFLD)=30,ED=3 S OP=$P($G(^ONCO(164,ONCOT,CODTYP)),U,ED) ;Prostate Gland--Clincal Extension
"RTN","ONCODEL",73,0)
 ..I '$G(OP),ONCOT=67619,$G(ONCFLD)=30.1,ED=3 S OP=250 ;Prostate Gland--Pathologic Extension
"RTN","ONCODEL",74,0)
 ..I '$G(OP) S OP=$P($G(^ONCO(164,ONCOT,CODTYP)),U,ED) ;Topography
"RTN","ONCODEL",75,0)
 ..I '$G(OP) S OP=$P($G(^ONCO(164.2,SCOD,CODTYP)),U,ED) ;Other site-groups
"RTN","ONCODEL",76,0)
 I $D(ONCOER) Q ONCOER
"RTN","ONCODEL",77,0)
 E  Q $S($G(OUTFLAG)'="OUT":OP,1:OP_" "_$P(^ONCO(164.5,OP,0),U,5)_" "_ED_" "_$P(^(0),U))
"RTN","ONCODIS")
0^27^B1389387
"RTN","ONCODIS",1,0)
ONCODIS ;Hines OIFO/GWB - ONCOLOGY DISPLAYS ;05/25/00
"RTN","ONCODIS",2,0)
 ;;2.11;Oncology;**6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47**;Mar 07, 1995;Build 19
"RTN","ONCODIS",3,0)
MAIN ;Begin main menu VA display
"RTN","ONCODIS",4,0)
 S RC=$$CHKVER^ONCSAPIV()
"RTN","ONCODIS",5,0)
 S VR=$P($T(ONCODIS+1),";",3),NM="OncoTraX" D LOGO,FUNCT Q
"RTN","ONCODIS",6,0)
FUNCT ;INTRODUCTION
"RTN","ONCODIS",7,0)
 W !!?10,"Choose among the following functions:"
"RTN","ONCODIS",8,0)
 Q
"RTN","ONCODIS",9,0)
LOGO ;DISPLAY LOGO
"RTN","ONCODIS",10,0)
 S:'$D(IOF) IOP="HOME" D:'$D(IOF) ^%ZIS
"RTN","ONCODIS",11,0)
 W *7,@IOF W !!!!!!! F I=1:1:9 W !,?22,$P($T(DISP+I),";",3)
"RTN","ONCODIS",12,0)
 W !!,?23,"Department of Veterans Affairs",!!?23,NM_" V"_VR_"P47" Q
"RTN","ONCODIS",13,0)
DISP ;
"RTN","ONCODIS",14,0)
 ;;VVVV            VVAA
"RTN","ONCODIS",15,0)
 ;; VVVV          VVAAAA
"RTN","ONCODIS",16,0)
 ;;  VVVV        VVAAAAAA
"RTN","ONCODIS",17,0)
 ;;   VVVV      VVAA  AAAA
"RTN","ONCODIS",18,0)
 ;;    VVVV    VVAA    AAAA
"RTN","ONCODIS",19,0)
 ;;     VVVV  VVAA      AAAA
"RTN","ONCODIS",20,0)
 ;;      VVVVVVAA        AAAA
"RTN","ONCODIS",21,0)
 ;;       VVVVAA   AAAAAAAAAAA
"RTN","ONCODIS",22,0)
 ;;        VVAA     AAAAAAAAAAA
"RTN","ONCODIS",23,0)
D W !!?30,"INSTALLATION",!!,?20,NM," PACKAGE",!!,?31,"VERSION ",VR Q
"RTN","ONCODSR")
0^52^B77463937
"RTN","ONCODSR",1,0)
ONCODSR ;Hines OIFO/GWB - SURGERY OF PRIMARY SITE; 12/22/00
"RTN","ONCODSR",2,0)
 ;;2.11;ONCOLOGY;**1,5,6,7,11,13,15,16,18,27,36,37,42,46,47**;Mar 07, 1995;Build 19
"RTN","ONCODSR",3,0)
 ;
"RTN","ONCODSR",4,0)
 ;^ONCO(164.2,9,"S",1-10) hold SURGICAL DX/STAGING PROC codes 0-9
"RTN","ONCODSR",5,0)
 ;^ONCO(164.2,SITE/GP,"S",11-100) holds surgery coes 10-99
"RTN","ONCODSR",6,0)
 ;
"RTN","ONCODSR",7,0)
CDSIT ;SURGERY OF PRIMARY SITE (165.5,58.2) INPUT TRANSFORM
"RTN","ONCODSR",8,0)
 N T,TOPGRPHY,SS
"RTN","ONCODSR",9,0)
 K:$L(X)>2!(X'?1.N) X G EX:'$D(X)
"RTN","ONCODSR",10,0)
 I X="00" W "  00 No surgical procedure" G EX
"RTN","ONCODSR",11,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G ER:TOPGRPHY=""
"RTN","ONCODSR",12,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",13,0)
 I '$D(^ONCO(164.5,SS,1,X+1,0)) K X G EX
"RTN","ONCODSR",14,0)
 I ($P(^ONCO(165.5,D0,0),U,16)>2951231),$E(X,2)=8 K X G EX
"RTN","ONCODSR",15,0)
 W "  ",^ONCO(164.5,SS,1,X+1,0) G EX
"RTN","ONCODSR",16,0)
 ;
"RTN","ONCODSR",17,0)
NCDSIT ;SURGICAL DX/STAGING PROC (165.5,58.1) INPUT TRANSFORM
"RTN","ONCODSR",18,0)
 I '$D(^ONCO(160.14,"B",X)) K X G EX
"RTN","ONCODSR",19,0)
 I $L(X)'=2 K X G EX
"RTN","ONCODSR",20,0)
 S NCDSIEN=$O(^ONCO(160.14,"B",X,0))
"RTN","ONCODSR",21,0)
 W "  ",$P(^ONCO(160.14,NCDSIEN,0),U,2)
"RTN","ONCODSR",22,0)
 K NCDSIEN Q
"RTN","ONCODSR",23,0)
 ;
"RTN","ONCODSR",24,0)
NCDSOT ;SURGICAL DX/STAGING PROC (165.5,58.1) OUTPUT TRANSFORM
"RTN","ONCODSR",25,0)
 Q:Y=""
"RTN","ONCODSR",26,0)
 S NCDSIEN=$O(^ONCO(160.14,"B",Y,0))
"RTN","ONCODSR",27,0)
 I NCDSIEN'="" S Y=Y_" "_$P(^ONCO(160.14,NCDSIEN,0),U,2)
"RTN","ONCODSR",28,0)
 G EX
"RTN","ONCODSR",29,0)
 ;
"RTN","ONCODSR",30,0)
HP0 ;SURGICAL DX/STAGING PROC (165.5,58.1) HELP
"RTN","ONCODSR",31,0)
 F XX="00","01","02","03","04","05","06","07","09" S NCDSIEN=$O(^ONCO(160.14,"B",XX,0)) W !," ",$P(^ONCO(160.14,NCDSIEN,0),U,1),"  ",$P(^ONCO(160.14,NCDSIEN,0),U,2)
"RTN","ONCODSR",32,0)
 W !
"RTN","ONCODSR",33,0)
 K NCDSIEN G EX
"RTN","ONCODSR",34,0)
 ;
"RTN","ONCODSR",35,0)
CDSOT ;SURGERY OF PRIMARY SITE (165.5,58.2) OUTPUT TRANSFORM
"RTN","ONCODSR",36,0)
 I Y="00" S Y="00 No surgical procedure" G EX
"RTN","ONCODSR",37,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",38,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G EX:TOPGRPHY=""
"RTN","ONCODSR",39,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",40,0)
 S Y=Y_" "_$G(^ONCO(164.5,SS,1,Y+1,0)) G EX
"RTN","ONCODSR",41,0)
 ;
"RTN","ONCODSR",42,0)
HP1 ;SURGERY OF PRIMARY SITE (165.5,58.2) HELP
"RTN","ONCODSR",43,0)
 N TOPGRPHY,TPGRPHYR,SS,XX
"RTN","ONCODSR",44,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G:TOPGRPHY="" ER
"RTN","ONCODSR",45,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",46,0)
 S SS=$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",47,0)
 W !?5,"SURGERY OF PRIMARY SITE Codes for site ",$P(TPGRPHYR,U,2)," "
"RTN","ONCODSR",48,0)
 W $P(TPGRPHYR,U),!?5,"(",$P(^ONCO(164.5,SS,0),U),")",!!
"RTN","ONCODSR",49,0)
 W " ","00  No surgical procedure",!
"RTN","ONCODSR",50,0)
 S XX=10 F  S XX=$O(^ONCO(164.5,SS,1,XX)) Q:XX'=+XX  D
"RTN","ONCODSR",51,0)
 .S XXX=XX-1
"RTN","ONCODSR",52,0)
 .I ($P(^ONCO(165.5,D0,0),U,16)<2960000)!($E(XXX,2)'=8) W " ",(XX-1)_"  "_^ONCO(164.5,SS,1,XX,0),!
"RTN","ONCODSR",53,0)
 G EX
"RTN","ONCODSR",54,0)
 ;
"RTN","ONCODSR",55,0)
ER ;ERROR
"RTN","ONCODSR",56,0)
 W !!,?10,"ICDO CODE NOT defined!! - cannot continue",! G EX
"RTN","ONCODSR",57,0)
 ;
"RTN","ONCODSR",58,0)
EX ;EXIT
"RTN","ONCODSR",59,0)
 K AN,SS,ONCOSR
"RTN","ONCODSR",60,0)
 Q
"RTN","ONCODSR",61,0)
 ;
"RTN","ONCODSR",62,0)
TOPGRPHY(PRIMIX) ; returns ICDO-2 topography code for primary site PRIMIX
"RTN","ONCODSR",63,0)
 Q $P($G(^ONCO(165.5,PRIMIX,2)),U)
"RTN","ONCODSR",64,0)
 ;
"RTN","ONCODSR",65,0)
ESSPIT ;INPUT TRANSFORM FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",66,0)
 N T,TOPGRPHY,SS
"RTN","ONCODSR",67,0)
 K:$L(X)>2!(X'?1.N) X G EX:'$D(X)
"RTN","ONCODSR",68,0)
 I X="00" W "  No additional surgical procedure" G EX
"RTN","ONCODSR",69,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),U,10) G ER:TOPGRPHY=""
"RTN","ONCODSR",70,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") K X G EX
"RTN","ONCODSR",71,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",72,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",73,0)
 I '$D(^ONCO(164.5,SS,1,X+1,0)) K X G EX
"RTN","ONCODSR",74,0)
 I ($P(^ONCO(165.5,D0,0),U,16)>2951231),$E(X,2)=8 K X G EX
"RTN","ONCODSR",75,0)
 W "  ",^ONCO(164.5,SS,1,X+1,0) G EX
"RTN","ONCODSR",76,0)
 ;
"RTN","ONCODSR",77,0)
ESSPOT ;OUTPUT TRANSFORM FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",78,0)
 I Y="00" S Y=Y_"  No additional surgical procedure" G EX
"RTN","ONCODSR",79,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",80,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),U,10) G EX:TOPGRPHY=""
"RTN","ONCODSR",81,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") G EX
"RTN","ONCODSR",82,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",83,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",84,0)
 S Y=Y_" "_$G(^ONCO(164.5,SS,1,Y+1,0)) G EX
"RTN","ONCODSR",85,0)
 ;
"RTN","ONCODSR",86,0)
ESSHP ;EXECUTABLE HELP FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",87,0)
 N TOPGRPHY,TPGRPHYR,SS,XX
"RTN","ONCODSR",88,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),U,10) G ER:TOPGRPHY=""
"RTN","ONCODSR",89,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") W !,?5,"No extranodal site or unknown extranodal site!!",!!,?5,"00 No additional surgical procedure",! G EX
"RTN","ONCODSR",90,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",91,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",92,0)
 S SS=$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",93,0)
 W !!,"SURGERY OF PRIMARY SITE Codes for site ",$P(TPGRPHYR,U,2)," "
"RTN","ONCODSR",94,0)
 W $P(TPGRPHYR,U),!,"(",$P(^ONCO(164.5,SS,0),U),")",!!
"RTN","ONCODSR",95,0)
 W " ","00 No additional surgical procedure",!
"RTN","ONCODSR",96,0)
 S XX=10 F  S XX=$O(^ONCO(164.5,SS,1,XX)) Q:XX'=+XX  D
"RTN","ONCODSR",97,0)
 .S XXX=XX-1
"RTN","ONCODSR",98,0)
 .I ($P(^ONCO(165.5,D0,0),U,16)<2960000)!($E(XXX,2)'=8) W " ",(XX-1)_" "_^ONCO(164.5,SS,1,XX,0),!
"RTN","ONCODSR",99,0)
 W !,"Enter a code from the above list." G EX
"RTN","ONCODSR",100,0)
 Q
"RTN","ONCODSR",101,0)
 ;
"RTN","ONCODSR",102,0)
FADIT ;DATE OF FIRST CONTACT (165.5,155) Input Transform
"RTN","ONCODSR",103,0)
 D NINES Q:'$D(X)  Q:X=9999999
"RTN","ONCODSR",104,0)
 I $D(X) S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"RTN","ONCODSR",105,0)
 Q
"RTN","ONCODSR",106,0)
 ;
"RTN","ONCODSR",107,0)
DSDTIT ;DATE OF INPATIENT DISCHARGE (165.5,1.1) Input Transform
"RTN","ONCODSR",108,0)
 ;Must be >= DATE OF INPATIENT ADMISSION (165.5,1)
"RTN","ONCODSR",109,0)
 D ZS9S Q:'$D(X)  Q:(X="0000000")!(X=9999999)
"RTN","ONCODSR",110,0)
 I $D(X) S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $D(X) S FAD=$P($G(^ONCO(165.5,D0,0)),U,8) I FAD'="" K:X<FAD X K %DT(0)
"RTN","ONCODSR",111,0)
 Q
"RTN","ONCODSR",112,0)
 ;
"RTN","ONCODSR",113,0)
DFSPIT ;DATE FIRST SURGICAL PROCEDURE (165.5,170) Input Transform
"RTN","ONCODSR",114,0)
 D ZS9S Q:'$D(X)  Q:(X="0000000")!(X=9999999)
"RTN","ONCODSR",115,0)
 I $D(X) S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X
"RTN","ONCODSR",116,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3)),U,1) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X W !!?3,"DATE FIRST SURGICAL PROCEDURE later than MOST DEFINITIVE SURG DATE",! K %DT(0),SDT Q
"RTN","ONCODSR",117,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,8) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X W !!,"DATE FIRST SURGICAL PROCEDURE later than MOST DEFINITIVE SURG @FAC DATE",! K %DT(0),SDT Q
"RTN","ONCODSR",118,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,22) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X W !!,"DATE FIRST SURGICAL PROCEDURE later than SCOPE OF LN SURGERY DATE",! K %DT(0),SDT Q
"RTN","ONCODSR",119,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,23) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X W !!,"DATE FIRST SURGICAL PROCEDURE later than SCOPE OF LN SURGERY @FAC DATE",! K %DT(0),SDT Q
"RTN","ONCODSR",120,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,24) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X W !!,"DATE FIRST SURGICAL PROCEDURE later than SURG PROC/OTHER SITE DATE",!
"RTN","ONCODSR",121,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,25) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X W !!,"DATE FIRST SURGICAL PROCEDURE later than SURG PROC/OTHER SITE @FAC DATE",!
"RTN","ONCODSR",122,0)
 K %DT(0),SDT
"RTN","ONCODSR",123,0)
 Q
"RTN","ONCODSR",124,0)
 ;
"RTN","ONCODSR",125,0)
DFIT ;INPUT TRANSFORM for date fields
"RTN","ONCODSR",126,0)
 ;No future dates and date must be > or = DATE DX (165.5,3)
"RTN","ONCODSR",127,0)
 I $G(DIFLD)=124 S NTDD=""
"RTN","ONCODSR",128,0)
 D ZS9S Q:ZS9S=1 
"RTN","ONCODSR",129,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT
"RTN","ONCODSR",130,0)
 S X=Y I Y<1 K X W !!?5,"Future dates are not allowed.",! K %DT(0) Q
"RTN","ONCODSR",131,0)
 S X=X,DTDX=$P($G(^ONCO(165.5,D0,0)),U,16),FAIL=""
"RTN","ONCODSR",132,0)
 I X<DTDX S FAIL=FAIL_"X"
"RTN","ONCODSR",133,0)
 I FAIL'="" D  Q
"RTN","ONCODSR",134,0)
 .K X
"RTN","ONCODSR",135,0)
 .W !!?5,"The date entered must be later than or equal to the"
"RTN","ONCODSR",136,0)
 .I FAIL["X" W !?5,"DATE DX which is ",$E(DTDX,4,5)_"/"_$E(DTDX,6,7)_"/"_($E(DTDX,1,3)+1700),$S(FAIL["A":" and the",1:".")
"RTN","ONCODSR",137,0)
 .W ! K DTDX
"RTN","ONCODSR",138,0)
 S DFSP=$P($G(^ONCO(165.5,D0,3.1)),U,38)
"RTN","ONCODSR",139,0)
 I $D(X),$G(DIFLD)=50 D  Q
"RTN","ONCODSR",140,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X W !!?3,"MOST DEFINITIVE SURG DATE earlier than DATE FIRST SURGICAL PROCEDURE",!
"RTN","ONCODSR",141,0)
 I $D(X),$G(DIFLD)=50.3 D  Q
"RTN","ONCODSR",142,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X W !!?3,"MOST DEFINITIVE SURG @FAC DATE earlier than DATE FIRST SURGICAL PROCEDURE",!
"RTN","ONCODSR",143,0)
 I $D(X),$G(DIFLD)=138.2 D  Q
"RTN","ONCODSR",144,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X W !!?3,"SCOPE OF LN SURGERY DATE earlier than DATE FIRST SURGICAL PROCEDURE",!
"RTN","ONCODSR",145,0)
 I $D(X),$G(DIFLD)=138.3 D  Q
"RTN","ONCODSR",146,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X W !!?3,"SCOPE OF LN SURGERY @FAC DATE earlier than DATE FIRST SURGICAL PROCEDURE",!
"RTN","ONCODSR",147,0)
 I $D(X),$G(DIFLD)=139.2 D  Q
"RTN","ONCODSR",148,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X W !!?3,"SURG PROC/OTHER SITE DATE earlier than DATE FIRST SURGICAL PROCEDURE",!
"RTN","ONCODSR",149,0)
 I $D(X),$G(DIFLD)=139.3 D  Q
"RTN","ONCODSR",150,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X W !!?3,"SURG PROC/OTHER SITE @FAC DATE earlier than DATE FIRST SURGICAL PROCEDURE",!
"RTN","ONCODSR",151,0)
 Q
"RTN","ONCODSR",152,0)
 ;
"RTN","ONCODSR",153,0)
NTIT ;INPUT TRANSFORM FOR DATE OF NO TREATMENT (165.5,124)
"RTN","ONCODSR",154,0)
 ;(NO FUTURE DATES AND >= DATE DX)
"RTN","ONCODSR",155,0)
 S NTDD=""
"RTN","ONCODSR",156,0)
 I (X="00/00/00")!(X="00/00/0000")!(X="00000000") K X Q
"RTN","ONCODSR",157,0)
 I (X="99/99/99")!(X="99/99/9999")!(X="99999999") K X Q
"RTN","ONCODSR",158,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y I Y<1 K X W !!?5,"Future dates are not allowed.",! K %DT(0) Q
"RTN","ONCODSR",159,0)
 S DTDX=$P($G(^ONCO(165.5,D0,0)),U,16) I DTDX'="" I X<DTDX K X W !!?5,"This date must be later than or equal to the DATE DX of ",$E(DTDX,4,5)_"/"_$E(DTDX,6,7)_"/"_($E(DTDX,1,3)+1700)_".",! K DTDX Q
"RTN","ONCODSR",160,0)
 Q
"RTN","ONCODSR",161,0)
 ;
"RTN","ONCODSR",162,0)
NT ;DATE OF NO TREATMENT (Input transform for treatment fields)
"RTN","ONCODSR",163,0)
 S NTDD=$P($G(^ONCO(165.5,D0,2.1)),U,11)
"RTN","ONCODSR",164,0)
 I (NTDD'="")&(X'=V) K X W !!?5,"This primary has a DATE OF NO TREATMENT of ",$E(NTDD,4,5)_"/"_$E(NTDD,6,7)_"/"_($E(NTDD,1,3)+1700)_".",!?5,"Treatments are not allowed unless the DATE OF NO TREATMENT is deleted.",!
"RTN","ONCODSR",165,0)
 K NTDD,V Q
"RTN","ONCODSR",166,0)
 ;
"RTN","ONCODSR",167,0)
DBTS ;DATE BRACHYTHERAPY STARTED INPUT TRANSFORM (NOT FUTURE, DX<=DBS<=DBE)
"RTN","ONCODSR",168,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X Q:'$D(X)
"RTN","ONCODSR",169,0)
 S DBE=$P($G(^ONCO(165.5,D0,"STS2")),U,13),DTDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCODSR",170,0)
 I DBE'="" K:X>DBE X Q:'$D(X)
"RTN","ONCODSR",171,0)
 I DTDX'="" K:X<DTDX X K %DT(0)
"RTN","ONCODSR",172,0)
 Q
"RTN","ONCODSR",173,0)
DBTE ;DATE BRACHYTHERAPY ENDED INPUT TRANSFORM (NOT FUTURE, DBS<=DBE)
"RTN","ONCODSR",174,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $D(X) S DBS=$P($G(^ONCO(165.5,D0,"STS2")),U,12) I DBS'="" K:X<DBS X K %DT(0)
"RTN","ONCODSR",175,0)
 Q
"RTN","ONCODSR",176,0)
 ;
"RTN","ONCODSR",177,0)
ZS9S ;00/00/0000, 88/88/8888 and 99/99/9999 INPUT TRANSFORM
"RTN","ONCODSR",178,0)
 S ZS9S=1
"RTN","ONCODSR",179,0)
 I X="00/00/00" W *7,!!?5,"'00/00/00' is ambiguous.  Enter a 4 digit year." K X Q
"RTN","ONCODSR",180,0)
 I X="00/00/0000" S X="0000000" Q
"RTN","ONCODSR",181,0)
 I X="00000000" S X="0000000" Q
"RTN","ONCODSR",182,0)
 ;
"RTN","ONCODSR",183,0)
NINES ;99/99/9999 INPUT TRANSFORM
"RTN","ONCODSR",184,0)
 I X="99/99/99" W !!?5,"99/99/99 is ambiguous.  Enter a 4 digit year." K X Q
"RTN","ONCODSR",185,0)
 I X="99/99/9999" S X=9999999 Q
"RTN","ONCODSR",186,0)
 I X="99999999" S X=9999999 Q
"RTN","ONCODSR",187,0)
 ;
"RTN","ONCODSR",188,0)
EIGHTS ;88/88/8888 INPUT TRANSFORM
"RTN","ONCODSR",189,0)
 I $G(DIFLD)'=58.3,$G(DIFLD)'=58.5,$G(DIFLD)'=50,$G(DIFLD)'=50.3,$G(DIFLD)'=138.2,$G(DIFLD)'=138.3,$G(DIFLD)'=139.2,$G(DIFLD)'=139.3,$G(DIFLD)'=435 D  K FLD Q:X=8888888
"RTN","ONCODSR",190,0)
 .I X="88/88/88" W !!?5,"88/88/88 is ambiguous.  Enter a 4 digit year." K X Q
"RTN","ONCODSR",191,0)
 .I X="88/88/8888" S X=8888888
"RTN","ONCODSR",192,0)
 .I X="88888888" S X=8888888
"RTN","ONCODSR",193,0)
 S ZS9S=0
"RTN","ONCODSR",194,0)
 Q
"RTN","ONCODXD")
0^46^B17370508
"RTN","ONCODXD",1,0)
ONCODXD ;Hines OIFO/RTK,GWB - DATE DX (165.5,3) INPUT TRANSFORM ;4/9/97
"RTN","ONCODXD",2,0)
 ;;2.11;ONCOLOGY;**11,13,15,16,18,36,47**;Mar 07,1995;Build 19
"RTN","ONCODXD",3,0)
 ;
"RTN","ONCODXD",4,0)
DTDXIT ;Check that date entered is BEFORE or EQUAL to all other DATE fields
"RTN","ONCODXD",5,0)
 S DTXFLAG=1,C=0,MULT="" K LIST,SBCT,SUBR,RADT D CHKDTS
"RTN","ONCODXD",6,0)
 I DTXFLAG=1 D KLL Q
"RTN","ONCODXD",7,0)
 K X W !?4,"The DATE DX must be BEFORE or EQUAL TO certain date fields.  The date"
"RTN","ONCODXD",8,0)
 W !?4,"you have entered is unacceptable because it is AFTER the"
"RTN","ONCODXD",9,0)
 W !?4,"following date field(s):",!
"RTN","ONCODXD",10,0)
 F RTK=0:0 S RTK=$O(LIST(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",11,0)
 .S INDT=$P(LIST(RTK),U,2) D DT
"RTN","ONCODXD",12,0)
 .W !?4,EXDT," - ",$P(LIST(RTK),U,1) Q
"RTN","ONCODXD",13,0)
 F RTK=0:0 S RTK=$O(SBCT(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",14,0)
 .S INDT=$P(SBCT(RTK),U,2) D DT
"RTN","ONCODXD",15,0)
 .W !?4,EXDT," - SUBSEQUENT COURSE TREATMENT ",$P(SBCT(RTK),U,3)
"RTN","ONCODXD",16,0)
 .W " - ",$P(SBCT(RTK),U,1) Q
"RTN","ONCODXD",17,0)
 F RTK=0:0 S RTK=$O(SUBR(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",18,0)
 .S INDT=$P(SUBR(RTK),U,2) D DT
"RTN","ONCODXD",19,0)
 .W !?4,EXDT," - SUBSEQUENT RECURRENCE ",$P(SUBR(RTK),U,3)
"RTN","ONCODXD",20,0)
 .W " - ",$P(SUBR(RTK),U,1) Q
"RTN","ONCODXD",21,0)
 F RTK=0:0 S RTK=$O(RADT(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",22,0)
 .S INDT=$P(RADT(RTK),U,2) D DT
"RTN","ONCODXD",23,0)
 .W !?4,EXDT," - RADIATION TREATMENT ",$P(RADT(RTK),U,3)
"RTN","ONCODXD",24,0)
 .W " - ",$P(RADT(RTK),U,1) Q
"RTN","ONCODXD",25,0)
 W !
"RTN","ONCODXD",26,0)
 ;
"RTN","ONCODXD",27,0)
KLL I DTXFLAG=1,X<3040000 D
"RTN","ONCODXD",28,0)
 .F PIECE=1:1:12 S $P(^ONCO(165.5,D0,"CS"),U,PIECE)=""
"RTN","ONCODXD",29,0)
 .F PIECE=1:1:11 S $P(^ONCO(165.5,D0,"CS1"),U,PIECE)=""
"RTN","ONCODXD",30,0)
 K C,DTXFLAG,EXDT,FLD,FLDNM,INDT,LIST,MULT,NODE0,NODE1,NODE22
"RTN","ONCODXD",31,0)
 K NODE3,NODE31,NODE5,NODE7,NODEBL1,NODEBL2,NODENH2,NODEST2,NODETH1
"RTN","ONCODXD",32,0)
 K RADT,RADTZND,RDZ,RTK,SBCT,SBCTZND,SRZ,SUBR,SUBRZND,SZ Q
"RTN","ONCODXD",33,0)
 ;
"RTN","ONCODXD",34,0)
CHKDTS ; Check it against all other DATE fields
"RTN","ONCODXD",35,0)
 S NODE0=$G(^ONCO(165.5,D0,0)),NODE1=$G(^ONCO(165.5,D0,1))
"RTN","ONCODXD",36,0)
 S NODE3=$G(^ONCO(165.5,D0,3)),NODE31=$G(^ONCO(165.5,D0,3.1))
"RTN","ONCODXD",37,0)
 S NODE5=$G(^ONCO(165.5,D0,5)),NODE7=$G(^ONCO(165.5,D0,7))
"RTN","ONCODXD",38,0)
 S NODENH2=$G(^ONCO(165.5,D0,"NHL2")),NODE22=$G(^ONCO(165.5,D0,2.2))
"RTN","ONCODXD",39,0)
 S NODEBL1=$G(^ONCO(165.5,D0,"BLA1")),NODEBL2=$G(^ONCO(165.5,D0,"BLA2"))
"RTN","ONCODXD",40,0)
 S NODETH1=$G(^ONCO(165.5,D0,"THY1")),NODEST2=$G(^ONCO(165.5,D0,"STS2"))
"RTN","ONCODXD",41,0)
 ;
"RTN","ONCODXD",42,0)
 S FLD=$P(NODE1,U,10),FLDNM=$P($G(^DD(165.5,17,0)),U,1) D EDCHK
"RTN","ONCODXD",43,0)
 S FLD=$P(NODE3,U,1),FLDNM=$P($G(^DD(165.5,50,0)),U,1) D EDCHK
"RTN","ONCODXD",44,0)
 S FLD=$P(NODE3,U,4),FLDNM=$P($G(^DD(165.5,51,0)),U,1) D EDCHK
"RTN","ONCODXD",45,0)
 S FLD=$P(NODE3,U,11),FLDNM=$P($G(^DD(165.5,53,0)),U,1) D EDCHK
"RTN","ONCODXD",46,0)
 S FLD=$P(NODE3,U,14),FLDNM=$P($G(^DD(165.5,54,0)),U,1) D EDCHK
"RTN","ONCODXD",47,0)
 S FLD=$P(NODE3,U,17),FLDNM=$P($G(^DD(165.5,55,0)),U,1) D EDCHK
"RTN","ONCODXD",48,0)
 S FLD=$P(NODE3,U,23),FLDNM=$P($G(^DD(165.5,57,0)),U,1) D EDCHK
"RTN","ONCODXD",49,0)
 S FLD=$P(NODE7,U,9),FLDNM=$P($G(^DD(165.5,64,0)),U,1) D EDCHK
"RTN","ONCODXD",50,0)
 S FLD=$P(NODE5,U,1),FLDNM=$P($G(^DD(165.5,70,0)),U,1) D EDCHK
"RTN","ONCODXD",51,0)
 S FLD=$P(NODE7,U,1),FLDNM=$P($G(^DD(165.5,90,0)),U,1) D EDCHK
"RTN","ONCODXD",52,0)
 S FLD=$P(NODEBL1,U,24),FLDNM=$P($G(^DD(165.5,323,0)),U,1) D EDCHK
"RTN","ONCODXD",53,0)
 S FLD=$P(NODEBL2,U,16),FLDNM=$P($G(^DD(165.5,361,0)),U,1) D EDCHK
"RTN","ONCODXD",54,0)
 S FLD=$P(NODEBL2,U,22),FLDNM=$P($G(^DD(165.5,367,0)),U,1) D EDCHK
"RTN","ONCODXD",55,0)
 S FLD=$P(NODETH1,U,36),FLDNM=$P($G(^DD(165.5,435,0)),U,1) D EDCHK
"RTN","ONCODXD",56,0)
 S FLD=$P(NODEST2,U,12),FLDNM=$P($G(^DD(165.5,541,0)),U,1) D EDCHK
"RTN","ONCODXD",57,0)
 S FLD=$P(NODEST2,U,38),FLDNM=$P($G(^DD(165.5,567,0)),U,1) D EDCHK
"RTN","ONCODXD",58,0)
 S FLD=$P(NODENH2,U,20),FLDNM=$P($G(^DD(165.5,865,0)),U,1) D EDCHK
"RTN","ONCODXD",59,0)
 F SBCT=0:0 S SBCT=$O(^ONCO(165.5,D0,4,SBCT)) Q:SBCT'>0  D
"RTN","ONCODXD",60,0)
 .S SBCTZND=$G(^ONCO(165.5,D0,4,SBCT,0)),SZ=SBCTZND,MULT="SCT"
"RTN","ONCODXD",61,0)
 .S FLD=$P(SZ,U,1),FLDNM=$P($G(^DD(165.51,.01,0)),U,1) D EDCHK
"RTN","ONCODXD",62,0)
 .S FLD=$P(SZ,U,11),FLDNM=$P($G(^DD(165.51,.041,0)),U,1) D EDCHK
"RTN","ONCODXD",63,0)
 .S FLD=$P(SZ,U,12),FLDNM=$P($G(^DD(165.51,.051,0)),U,1) D EDCHK
"RTN","ONCODXD",64,0)
 .S FLD=$P(SZ,U,13),FLDNM=$P($G(^DD(165.51,.061,0)),U,1) D EDCHK
"RTN","ONCODXD",65,0)
 .S FLD=$P(SZ,U,14),FLDNM=$P($G(^DD(165.51,.071,0)),U,1) D EDCHK
"RTN","ONCODXD",66,0)
 .S FLD=$P(SZ,U,15),FLDNM=$P($G(^DD(165.51,.081,0)),U,1) D EDCHK
"RTN","ONCODXD",67,0)
 .S FLD=$P(SZ,U,16),FLDNM=$P($G(^DD(165.51,.091,0)),U,1) D EDCHK
"RTN","ONCODXD",68,0)
 F SUBR=0:0 S SUBR=$O(^ONCO(165.5,D0,23,SUBR)) Q:SUBR'>0  D
"RTN","ONCODXD",69,0)
 .S SUBRZND=$G(^ONCO(165.5,D0,23,SUBR,0)),SRZ=SUBRZND,MULT="SR"
"RTN","ONCODXD",70,0)
 .S FLD=$P(SRZ,U,1),FLDNM=$P($G(^DD(165.572,.01,0)),U,1) D EDCHK
"RTN","ONCODXD",71,0)
 Q
"RTN","ONCODXD",72,0)
 ;
"RTN","ONCODXD",73,0)
EDCHK ; If its a legitimate date check it against the date entered for DT DX
"RTN","ONCODXD",74,0)
 ; If its a partial date (no month or no day) just check year or year/mo
"RTN","ONCODXD",75,0)
 I FLD=""!(FLD="0000000")!(FLD=9999999) Q
"RTN","ONCODXD",76,0)
 I $E(FLD,4,7)="0000" D  Q  ;no DAY or MONTH
"RTN","ONCODXD",77,0)
 .I $E(X,1,3)>$E(FLD,1,3) D ERRDATE Q
"RTN","ONCODXD",78,0)
 I $E(FLD,6,7)="00" D  Q  ;MONTH but no DAY
"RTN","ONCODXD",79,0)
 .I $E(X,1,5)>$E(FLD,1,5) D ERRDATE Q
"RTN","ONCODXD",80,0)
 I X>FLD D ERRDATE Q
"RTN","ONCODXD",81,0)
 Q
"RTN","ONCODXD",82,0)
 ;
"RTN","ONCODXD",83,0)
ERRDATE ; Set DTXFLAG=0 and add FLDNM to the LIST of fields it must be before
"RTN","ONCODXD",84,0)
 S DTXFLAG=0,C=C+1
"RTN","ONCODXD",85,0)
 I MULT="SCT" S SBCT(C)=FLDNM_U_FLD_U_SBCT Q
"RTN","ONCODXD",86,0)
 I MULT="SR" S SUBR(C)=FLDNM_U_FLD_U_SUBR Q
"RTN","ONCODXD",87,0)
 I MULT="RDT" S RADT(C)=FLDNM_U_FLD_U_RADT Q
"RTN","ONCODXD",88,0)
 S LIST(C)=FLDNM_U_FLD
"RTN","ONCODXD",89,0)
 Q
"RTN","ONCODXD",90,0)
 ;
"RTN","ONCODXD",91,0)
DT ; CHANGE INTERNAL DATE TO EXTERNAL DATE FORMAT
"RTN","ONCODXD",92,0)
 S EXDT=$E(INDT,4,5)_"/"_$E(INDT,6,7)_"/"_($E(INDT,1,3)+1700)
"RTN","ONCODXD",93,0)
 Q
"RTN","ONCOEDC")
0^20^B17632099
"RTN","ONCOEDC",1,0)
ONCOEDC ;Hines OIFO/GWB - ABSTRACT STATUS (165.5,91) INPUT TRANSFORM ;8/2/96
"RTN","ONCOEDC",2,0)
 ;;2.11;ONCOLOGY;**6,7,13,27,36,41,47**;Mar 07,1995;Build 19
"RTN","ONCOEDC",3,0)
 ;
"RTN","ONCOEDC",4,0)
CHECK ;Required field check
"RTN","ONCOEDC",5,0)
 ;CLASS OF CASE   = 0,1 or 2
"RTN","ONCOEDC",6,0)
 ;SEQUENCE NUMBER = 00-59 or 99
"RTN","ONCOEDC",7,0)
 ;DATE DX > 12/31/95
"RTN","ONCOEDC",8,0)
 ;
"RTN","ONCOEDC",9,0)
 I (X=0)!(X=1)!(X=2) Q
"RTN","ONCOEDC",10,0)
 S PRM=D0
"RTN","ONCOEDC",11,0)
 S PTN=$P($G(^ONCO(165.5,D0,0)),U,2)
"RTN","ONCOEDC",12,0)
 S CMPLT=1,NODE0=$G(^ONCO(165.5,D0,0)),ONCTYP="",ONCANL="" K LIST
"RTN","ONCOEDC",13,0)
 S CC=$P(NODE0,U,4),SQN=$P(NODE0,U,6),DTDX=$P(NODE0,U,16)
"RTN","ONCOEDC",14,0)
 S ABSTAT=$P($G(^ONCO(165.5,D0,7)),U,2)
"RTN","ONCOEDC",15,0)
 I CC="" D  S ONCTYP="" K X Q
"RTN","ONCOEDC",16,0)
 .W !
"RTN","ONCOEDC",17,0)
 .W !?5,"CLASS OF CLASS is blank."
"RTN","ONCOEDC",18,0)
 .W !?5,"""Required"" field checking requires CLASS OF CASE."
"RTN","ONCOEDC",19,0)
 .W !
"RTN","ONCOEDC",20,0)
 I (CC=0)!(CC=1)!(CC=2),(+SQN<60)!(SQN=99),DTDX>2951231 S ONCANL=1 D CHKFLDS
"RTN","ONCOEDC",21,0)
 I CMPLT=0 S ONCTYP="A" K X Q
"RTN","ONCOEDC",22,0)
 I CMPLT=1 D
"RTN","ONCOEDC",23,0)
 .I $G(ONCANL)=1 D
"RTN","ONCOEDC",24,0)
 ..W !!," All required data fields have been entered."
"RTN","ONCOEDC",25,0)
 ..W !!," Beginning inter-field edit checks..." Q
"RTN","ONCOEDC",26,0)
 .W ! D ^ONCEDIT
"RTN","ONCOEDC",27,0)
 I CMPLT=1 W !," No inter-field edit check warnings.",! D EDITS Q
"RTN","ONCOEDC",28,0)
 I $G(OVERRIDE)="NO" G QUIT
"RTN","ONCOEDC",29,0)
 K DIR S DIR(0)="YA"
"RTN","ONCOEDC",30,0)
 S DIR("A",1)=" This abstract has inter-field WARNINGS."
"RTN","ONCOEDC",31,0)
 S DIR("A")=" Do you wish to override them and proceed to the EDITS API? "
"RTN","ONCOEDC",32,0)
 S DIR("B")="No" D ^DIR K DIR
"RTN","ONCOEDC",33,0)
 I Y=1 S X=3 W ! D EDITS Q
"RTN","ONCOEDC",34,0)
QUIT K OVERRIDE
"RTN","ONCOEDC",35,0)
 S ONCTYP="B" W ! S X=ABSTAT Q
"RTN","ONCOEDC",36,0)
 ;
"RTN","ONCOEDC",37,0)
CHKFLDS ;Check ONCOLOGY PRIMARY (165.5) and ONCOLOGY PATIENT (160)
"RTN","ONCOEDC",38,0)
 S ONCFILE=165.5 D F1655^ONCOEDC1
"RTN","ONCOEDC",39,0)
 S ONCFILE=160 D F160
"RTN","ONCOEDC",40,0)
 Q
"RTN","ONCOEDC",41,0)
 ;
"RTN","ONCOEDC",42,0)
F160 ;ONCOLOGY PATIENT (160)
"RTN","ONCOEDC",43,0)
 F FDNUM=2,3,7,8,9,10,38,39,43  D
"RTN","ONCOEDC",44,0)
 .D:$$GET1^DIQ(160,PTN,FDNUM,"I")="" CMPLT
"RTN","ONCOEDC",45,0)
 Q
"RTN","ONCOEDC",46,0)
 ;
"RTN","ONCOEDC",47,0)
CMPLT ;Set CMPLT = 0 and add field to list of fields needed to be filled in.
"RTN","ONCOEDC",48,0)
 S FLDNAME=$P($G(^DD(ONCFILE,FDNUM,0)),U,1) S FDNUM=""
"RTN","ONCOEDC",49,0)
 S CMPLT=0,LIST(FLDNAME)=""
"RTN","ONCOEDC",50,0)
 Q
"RTN","ONCOEDC",51,0)
 ;
"RTN","ONCOEDC",52,0)
PRINT ;Display results
"RTN","ONCOEDC",53,0)
 I $G(ONCTYP)="" Q
"RTN","ONCOEDC",54,0)
 I ONCTYP="A" D REQ
"RTN","ONCOEDC",55,0)
 I ONCTYP="B" D INTER
"RTN","ONCOEDC",56,0)
 W !
"RTN","ONCOEDC",57,0)
 Q
"RTN","ONCOEDC",58,0)
 ;
"RTN","ONCOEDC",59,0)
REQ ;Missing "required" data item list
"RTN","ONCOEDC",60,0)
 W !,"  ABSTRACT STATUS may not be set to COMPLETE unless"
"RTN","ONCOEDC",61,0)
 W !,"  all ""required"" data items have been entered.",!
"RTN","ONCOEDC",62,0)
 W !,"  The following ""required"" data items have not been"
"RTN","ONCOEDC",63,0)
 W !,"  entered for this primary:",!
"RTN","ONCOEDC",64,0)
 S EX="",LINE=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),CNT=0
"RTN","ONCOEDC",65,0)
 S FN=""
"RTN","ONCOEDC",66,0)
 F  S FN=$O(LIST(FN)),CNT=CNT+1 Q:FN=""  W !,?2,FN I CNT>14 D PCHK Q:EX=U
"RTN","ONCOEDC",67,0)
 Q
"RTN","ONCOEDC",68,0)
 ;
"RTN","ONCOEDC",69,0)
INTER ;Interfield edit warnings
"RTN","ONCOEDC",70,0)
 ;W !?5,"ABSTRACT STATUS may not be set to COMPLETE until all interfield"
"RTN","ONCOEDC",71,0)
 ;W !?5,"warnings listed above have been cleared."
"RTN","ONCOEDC",72,0)
 Q
"RTN","ONCOEDC",73,0)
 ;
"RTN","ONCOEDC",74,0)
PCHK ;Enter RETURN to continue or '^' to exit:
"RTN","ONCOEDC",75,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOEDC",76,0)
 .W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCOEDC",77,0)
 .W @IOF Q
"RTN","ONCOEDC",78,0)
 Q
"RTN","ONCOEDC",79,0)
 ;
"RTN","ONCOEDC",80,0)
EDITS ;Call to EDITS API
"RTN","ONCOEDC",81,0)
 W !," Calling EDITS API..."
"RTN","ONCOEDC",82,0)
 S DCC=$P($G(^ONCO(165.5,D0,7)),U,1)
"RTN","ONCOEDC",83,0)
 S DCLC=$P($G(^ONCO(165.5,D0,7)),U,21)
"RTN","ONCOEDC",84,0)
 I DCC="" D
"RTN","ONCOEDC",85,0)
 .S $P(^ONCO(165.5,PRM,7),U,1)=DT
"RTN","ONCOEDC",86,0)
 .S ^ONCO(165.5,"AAD",DT,PRM)=""
"RTN","ONCOEDC",87,0)
 .S $P(^ONCO(165.5,PRM,7),U,3)=DUZ
"RTN","ONCOEDC",88,0)
 D ^ONCGENED
"RTN","ONCOEDC",89,0)
 K EDIT
"RTN","ONCOEDC",90,0)
 I ERRFLG'=0 D  Q
"RTN","ONCOEDC",91,0)
 .I ABSTAT=3 W !!,"EDITS errors were encountered. ABSTRACT STATUS changed to 0 (Incomplete).",!
"RTN","ONCOEDC",92,0)
 .I ABSTAT'=3 W !!,"EDITS errors were encountered. ABSTRACT STATUS is unchanged.",!
"RTN","ONCOEDC",93,0)
 .I DCC="" D
"RTN","ONCOEDC",94,0)
 ..S $P(^ONCO(165.5,D0,7),U,1)=""
"RTN","ONCOEDC",95,0)
 ..K ^ONCO(165.5,"AAD",DT,PRM)
"RTN","ONCOEDC",96,0)
 ..S $P(^ONCO(165.5,D0,7),U,3)=""
"RTN","ONCOEDC",97,0)
 .K DIR S DIR(0)="YA"
"RTN","ONCOEDC",98,0)
 .S DIR("A")=" Do you wish to return to the Primary Menu Options? "
"RTN","ONCOEDC",99,0)
 .S DIR("B")="Yes" D ^DIR K DIR
"RTN","ONCOEDC",100,0)
 .I Y=1 S EDIT="YES"
"RTN","ONCOEDC",101,0)
 .S X=$S(ABSTAT=3:0,1:ABSTAT)
"RTN","ONCOEDC",102,0)
 W !," No EDITS errors or warnings."
"RTN","ONCOEDC",103,0)
 S $P(^ONCO(165.5,D0,7),U,2)=3
"RTN","ONCOEDC",104,0)
 I DCC'="" D
"RTN","ONCOEDC",105,0)
 .I DCLC'="" K ^ONCO(165.5,"AAE",DCLC,PRM)
"RTN","ONCOEDC",106,0)
 .S $P(^ONCO(165.5,PRM,7),U,21)=DT
"RTN","ONCOEDC",107,0)
 .S ^ONCO(165.5,"AAE",DT,PRM)=""
"RTN","ONCOEDC",108,0)
 .S $P(^ONCO(165.5,PRM,7),U,22)=DUZ
"RTN","ONCOEDC",109,0)
 W !
"RTN","ONCOEDC",110,0)
 W !," ABSTRACT STATUS.......: ",$$GET1^DIQ(165.5,D0,91,"E")
"RTN","ONCOEDC",111,0)
 W !," DATE CASE COMPLETED...: ",$$GET1^DIQ(165.5,D0,90,"E")
"RTN","ONCOEDC",112,0)
 W !," ABSTRACTED BY.........: ",$$GET1^DIQ(165.5,D0,92,"E")
"RTN","ONCOEDC",113,0)
 W !," DATE CASE LAST CHANGED: ",$$GET1^DIQ(165.5,D0,198,"E")
"RTN","ONCOEDC",114,0)
 W !," CASE LAST CHANGED BY..: ",$$GET1^DIQ(165.5,D0,199,"E")
"RTN","ONCOEDC",115,0)
 W !
"RTN","ONCOEDC",116,0)
 S EDITS="NO" D NAACCR^ONCGENED K EDITS
"RTN","ONCOEDC",117,0)
 D CHKSUM^ONCGENED
"RTN","ONCOEDC",118,0)
 W ! R "Enter RETURN to continue: ",PAUSE:30
"RTN","ONCOEDC",119,0)
 Q 
"RTN","ONCOEDC1")
0^41^B40620133
"RTN","ONCOEDC1",1,0)
ONCOEDC1 ;Hines OIFO/GWB - "Required" data item check ;10/30/00
"RTN","ONCOEDC1",2,0)
 ;;2.11;ONCOLOGY;**27,28,29,34,36,39,41,42,47**;Mar 07,1995;Build 19
"RTN","ONCOEDC1",3,0)
 ;
"RTN","ONCOEDC1",4,0)
F1655 ;If data item blank, S CMPLT=0 and add field to list
"RTN","ONCOEDC1",5,0)
 I $$GET1^DIQ(165.5,PRM,361,"I")="" S FDNUM=361 D CMPLT
"RTN","ONCOEDC1",6,0)
 I $$GET1^DIQ(165.5,PRM,155,"I")="" S FDNUM=155 D CMPLT
"RTN","ONCOEDC1",7,0)
 I $$GET1^DIQ(165.5,PRM,56,"I")="" S FDNUM=56 D CMPLT
"RTN","ONCOEDC1",8,0)
 I $$GET1^DIQ(165.5,PRM,125,"I")="" S FDNUM=125 D CMPLT
"RTN","ONCOEDC1",9,0)
 I $$GET1^DIQ(165.5,PRM,126,"I")="" S FDNUM=126 D CMPLT
"RTN","ONCOEDC1",10,0)
 I $$GET1^DIQ(165.5,PRM,363,"I")="" S FDNUM=363 D CMPLT
"RTN","ONCOEDC1",11,0)
 I $$GET1^DIQ(165.5,PRM,.03,"I")="" S FDNUM=.03 D CMPLT
"RTN","ONCOEDC1",12,0)
 I $$GET1^DIQ(165.5,PRM,.05,"I")="" S FDNUM=.05 D CMPLT
"RTN","ONCOEDC1",13,0)
 I $$GET1^DIQ(165.5,PRM,.06,"I")="" S FDNUM=.06 D CMPLT
"RTN","ONCOEDC1",14,0)
 I $$GET1^DIQ(165.5,PRM,.07,"I")="" S FDNUM=.07 D CMPLT
"RTN","ONCOEDC1",15,0)
 I $$GET1^DIQ(165.5,PRM,8,"I")="" S FDNUM=8 D CMPLT
"RTN","ONCOEDC1",16,0)
 I $$GET1^DIQ(165.5,PRM,8.1,"I")="" S FDNUM=8.1 D CMPLT
"RTN","ONCOEDC1",17,0)
 I $$GET1^DIQ(165.5,PRM,16,"I")="" S FDNUM=16 D CMPLT
"RTN","ONCOEDC1",18,0)
 I $$GET1^DIQ(165.5,PRM,11,"I")="" S FDNUM=11 D CMPLT
"RTN","ONCOEDC1",19,0)
 I $$GET1^DIQ(165.5,PRM,9,"I")="" S FDNUM=9 D CMPLT
"RTN","ONCOEDC1",20,0)
 I $$GET1^DIQ(165.5,PRM,10,"I")="" S FDNUM=10 D CMPLT
"RTN","ONCOEDC1",21,0)
 I $$GET1^DIQ(165.5,PRM,4,"E")="" S FDNUM=4 D CMPLT
"RTN","ONCOEDC1",22,0)
 I $$GET1^DIQ(165.5,PRM,1.2,"I")="" S FDNUM=1.2 D CMPLT
"RTN","ONCOEDC1",23,0)
 I $$GET1^DIQ(165.5,PRM,2.1,"I")="" S FDNUM=2.1 D CMPLT
"RTN","ONCOEDC1",24,0)
 I $$GET1^DIQ(165.5,PRM,18,"I")="" S FDNUM=18 D CMPLT
"RTN","ONCOEDC1",25,0)
 I $$GET1^DIQ(165.5,PRM,.04,"I")="" S FDNUM=.04 D CMPLT
"RTN","ONCOEDC1",26,0)
 I $$GET1^DIQ(165.5,PRM,12,"I")="" S FDNUM=12 D CMPLT
"RTN","ONCOEDC1",27,0)
 I $$GET1^DIQ(165.5,PRM,3,"I")="" S FDNUM=3 D CMPLT
"RTN","ONCOEDC1",28,0)
 I $$GET1^DIQ(165.5,PRM,147,"I")="" S FDNUM=147 D CMPLT
"RTN","ONCOEDC1",29,0)
 I $$GET1^DIQ(165.5,PRM,20,"I")="" S FDNUM=20 D CMPLT
"RTN","ONCOEDC1",30,0)
 I $$GET1^DIQ(165.5,PRM,28,"I")="" S FDNUM=28 D CMPLT
"RTN","ONCOEDC1",31,0)
 I $$GET1^DIQ(165.5,PRM,22.3,"I")="" S FDNUM=22.3 D CMPLT
"RTN","ONCOEDC1",32,0)
 I $$GET1^DIQ(165.5,PRM,24,"I")="" S FDNUM=24 D CMPLT
"RTN","ONCOEDC1",33,0)
 I $$GET1^DIQ(165.5,PRM,26,"I")="" S FDNUM=26 D CMPLT
"RTN","ONCOEDC1",34,0)
 I $$GET1^DIQ(165.5,PRM,29,"I")="" S FDNUM=29 D CMPLT
"RTN","ONCOEDC1",35,0)
 I $$GET1^DIQ(165.5,PRM,30,"I")="" S FDNUM=30 D CMPLT
"RTN","ONCOEDC1",36,0)
 I $$GET1^DIQ(165.5,PRM,31,"I")="" S FDNUM=31 D CMPLT
"RTN","ONCOEDC1",37,0)
 I $$GET1^DIQ(165.5,PRM,33,"I")="" S FDNUM=33 D CMPLT
"RTN","ONCOEDC1",38,0)
 I DTDX<3040000 D
"RTN","ONCOEDC1",39,0)
 .I $$GET1^DIQ(165.5,PRM,34,"I")="" S FDNUM=34 D CMPLT
"RTN","ONCOEDC1",40,0)
 .I $$GET1^DIQ(165.5,PRM,34.1,"I")="" S FDNUM=34.1 D CMPLT
"RTN","ONCOEDC1",41,0)
 .I $$GET1^DIQ(165.5,PRM,34.2,"I")="" S FDNUM=34.2 D CMPLT
"RTN","ONCOEDC1",42,0)
 .I $$GET1^DIQ(165.5,PRM,35,"I")="" S FDNUM=35 D CMPLT
"RTN","ONCOEDC1",43,0)
 I $$GET1^DIQ(165.5,PRM,32,"I")="" S FDNUM=32 D CMPLT
"RTN","ONCOEDC1",44,0)
 I $$GET1^DIQ(165.5,PRM,37.1,"I")="" S FDNUM=37.1  D CMPLT
"RTN","ONCOEDC1",45,0)
 I $$GET1^DIQ(165.5,PRM,85,"I")="" S FDNUM=85 D CMPLT
"RTN","ONCOEDC1",46,0)
 I $$GET1^DIQ(165.5,PRM,37.2,"I")="" S FDNUM=37.2 D CMPLT
"RTN","ONCOEDC1",47,0)
 I $$GET1^DIQ(165.5,PRM,86,"I")="" S FDNUM=86 D CMPLT
"RTN","ONCOEDC1",48,0)
 I $$GET1^DIQ(165.5,PRM,37.3,"I")="" S FDNUM=37.3 D CMPLT
"RTN","ONCOEDC1",49,0)
 I $$GET1^DIQ(165.5,PRM,87,"I")="" S FDNUM=87 D CMPLT
"RTN","ONCOEDC1",50,0)
 I DTDX<3030000 D
"RTN","ONCOEDC1",51,0)
 .I $$GET1^DIQ(165.5,PRM,25.1,"I")="" S FDNUM=25.1 D CMPLT
"RTN","ONCOEDC1",52,0)
 .I $$GET1^DIQ(165.5,PRM,25.2,"I")="" S FDNUM=25.2 D CMPLT
"RTN","ONCOEDC1",53,0)
 .I $$GET1^DIQ(165.5,PRM,25.3,"I")="" S FDNUM=25.3 D CMPLT
"RTN","ONCOEDC1",54,0)
 I $$GET1^DIQ(165.5,PRM,38,"I")="" S FDNUM=38 D CMPLT
"RTN","ONCOEDC1",55,0)
 I $$GET1^DIQ(165.5,PRM,88,"I")="" S FDNUM=88 D CMPLT
"RTN","ONCOEDC1",56,0)
 I $$GET1^DIQ(165.5,PRM,19,"I")="" S FDNUM=19 D CMPLT
"RTN","ONCOEDC1",57,0)
 I $$GET1^DIQ(165.5,PRM,89,"I")="" S FDNUM=89 D CMPLT
"RTN","ONCOEDC1",58,0)
 I $$GET1^DIQ(165.5,PRM,58.3,"I")="" S FDNUM=58.3 D CMPLT
"RTN","ONCOEDC1",59,0)
 I $$GET1^DIQ(165.5,PRM,58.1,"I")="" S FDNUM=58.1 D CMPLT
"RTN","ONCOEDC1",60,0)
 I $$GET1^DIQ(165.5,PRM,560,"I")="" S FDNUM=560 D CMPLT
"RTN","ONCOEDC1",61,0)
 I $$GET1^DIQ(165.5,PRM,49,"E")="" S FDNUM=49 D CMPLT
"RTN","ONCOEDC1",62,0)
 I $$GET1^DIQ(165.5,PRM,50,"I")="" S FDNUM=50 D CMPLT
"RTN","ONCOEDC1",63,0)
 I $$GET1^DIQ(165.5,PRM,58,"I")="" S FDNUM=58 D CMPLT
"RTN","ONCOEDC1",64,0)
 I $$GET1^DIQ(165.5,PRM,58.6,"I")="" S FDNUM=58.6 D CMPLT
"RTN","ONCOEDC1",65,0)
 I $$GET1^DIQ(165.5,PRM,75,"I")="" S FDNUM=75 D CMPLT
"RTN","ONCOEDC1",66,0)
 I $$GET1^DIQ(165.5,PRM,59,"I")="" S FDNUM=59 D CMPLT
"RTN","ONCOEDC1",67,0)
 I DTDX<3030000 D
"RTN","ONCOEDC1",68,0)
 .I $$GET1^DIQ(165.5,PRM,23,"I")="" S FDNUM=23 D CMPLT
"RTN","ONCOEDC1",69,0)
 I $$GET1^DIQ(165.5,PRM,51,"I")="" S FDNUM=51 D CMPLT
"RTN","ONCOEDC1",70,0)
 I $$GET1^DIQ(165.5,PRM,51.2,"I")="" S FDNUM=51.2 D CMPLT
"RTN","ONCOEDC1",71,0)
 I $$GET1^DIQ(165.5,PRM,51.3,"I")="" S FDNUM=51.3 D CMPLT
"RTN","ONCOEDC1",72,0)
 I $$GET1^DIQ(165.5,PRM,53,"I")="" S FDNUM=53 D CMPLT
"RTN","ONCOEDC1",73,0)
 I $$GET1^DIQ(165.5,PRM,53.2,"I")="" S FDNUM=53.2 D CMPLT
"RTN","ONCOEDC1",74,0)
 I $$GET1^DIQ(165.5,PRM,54,"I")="" S FDNUM=54 D CMPLT
"RTN","ONCOEDC1",75,0)
 I $$GET1^DIQ(165.5,PRM,54.2,"I")="" S FDNUM=54.2 D CMPLT
"RTN","ONCOEDC1",76,0)
 I $$GET1^DIQ(165.5,PRM,55,"I")="" S FDNUM=55 D CMPLT
"RTN","ONCOEDC1",77,0)
 I $$GET1^DIQ(165.5,PRM,55.2,"I")="" S FDNUM=55.2 D CMPLT
"RTN","ONCOEDC1",78,0)
 I $$GET1^DIQ(165.5,PRM,57,"I")="" S FDNUM=57 D CMPLT
"RTN","ONCOEDC1",79,0)
 I $$GET1^DIQ(165.5,PRM,57.2,"I")="" S FDNUM=57.2 D CMPLT
"RTN","ONCOEDC1",80,0)
 I DTDX<3030000 D
"RTN","ONCOEDC1",81,0)
 .I $$GET1^DIQ(165.5,PRM,74,"I")="" S FDNUM=74 D CMPLT
"RTN","ONCOEDC1",82,0)
 .I $$GET1^DIQ(165.5,PRM,58.2,"I")="" S FDNUM=58.2 D CMPLT
"RTN","ONCOEDC1",83,0)
 .I $$GET1^DIQ(165.5,PRM,50.2,"I")="" S FDNUM=50.2 D CMPLT
"RTN","ONCOEDC1",84,0)
 .I $$GET1^DIQ(165.5,PRM,138,"I")="" S FDNUM=138 D CMPLT
"RTN","ONCOEDC1",85,0)
 .I $$GET1^DIQ(165.5,PRM,138.1,"I")="" S FDNUM=138.1 D CMPLT
"RTN","ONCOEDC1",86,0)
 .I $$GET1^DIQ(165.5,PRM,139,"I")="" S FDNUM=139 D CMPLT
"RTN","ONCOEDC1",87,0)
 .I $$GET1^DIQ(165.5,PRM,139.1,"I")="" S FDNUM=139.1 D CMPLT
"RTN","ONCOEDC1",88,0)
 .I $$GET1^DIQ(165.5,PRM,140,"I")="" S FDNUM=140 D CMPLT
"RTN","ONCOEDC1",89,0)
 .I $$GET1^DIQ(165.5,PRM,140.1,"I")="" S FDNUM=140.1 D CMPLT
"RTN","ONCOEDC1",90,0)
 I DTDX'=9999999,DTDX>3061231 D
"RTN","ONCOEDC1",91,0)
 .I $$GET1^DIQ(165.5,PRM,159,"I")="" S FDNUM=159 D CMPLT
"RTN","ONCOEDC1",92,0)
 .I $$GET1^DIQ(165.5,PRM,193,"I")="" S FDNUM=193 D CMPLT
"RTN","ONCOEDC1",93,0)
 .I $$GET1^DIQ(165.5,PRM,194,"I")="" S FDNUM=194 D CMPLT
"RTN","ONCOEDC1",94,0)
 .I $$GET1^DIQ(165.5,PRM,195,"I")="" S FDNUM=195 D CMPLT
"RTN","ONCOEDC1",95,0)
 .I $$GET1^DIQ(165.5,PRM,196,"I")="" S FDNUM=196 D CMPLT
"RTN","ONCOEDC1",96,0)
 I DTDX'=9999999,DTDX>2971231 D
"RTN","ONCOEDC1",97,0)
 .I $$GET1^DIQ(165.5,PRM,138.4,"I")="" S FDNUM=138.4 D CMPLT
"RTN","ONCOEDC1",98,0)
 .I $$GET1^DIQ(165.5,PRM,139.4,"I")="" S FDNUM=139.4 D CMPLT
"RTN","ONCOEDC1",99,0)
 .I $$GET1^DIQ(165.5,PRM,138.5,"I")="" S FDNUM=138.5 D CMPLT
"RTN","ONCOEDC1",100,0)
 .I $$GET1^DIQ(165.5,PRM,139.5,"I")="" S FDNUM=139.5 D CMPLT
"RTN","ONCOEDC1",101,0)
 .I $$GET1^DIQ(165.5,PRM,435,"I")="" S FDNUM=435 D CMPLT
"RTN","ONCOEDC1",102,0)
 .I $$GET1^DIQ(165.5,PRM,14,"I")="" S FDNUM=14 D CMPLT
"RTN","ONCOEDC1",103,0)
 .I $$GET1^DIQ(165.5,PRM,58.7,"I")="" S FDNUM=58.7 D CMPLT
"RTN","ONCOEDC1",104,0)
 .I $$GET1^DIQ(165.5,PRM,51.4,"I")="" S FDNUM=51.4 D CMPLT
"RTN","ONCOEDC1",105,0)
 .I $$GET1^DIQ(165.5,PRM,53.3,"I")="" S FDNUM=53.3 D CMPLT
"RTN","ONCOEDC1",106,0)
 .I $$GET1^DIQ(165.5,PRM,54.3,"I")="" S FDNUM=54.3 D CMPLT
"RTN","ONCOEDC1",107,0)
 .I $$GET1^DIQ(165.5,PRM,55.3,"I")="" S FDNUM=55.3 D CMPLT
"RTN","ONCOEDC1",108,0)
 .I $$GET1^DIQ(165.5,PRM,57.3,"I")="" S FDNUM=57.3 D CMPLT
"RTN","ONCOEDC1",109,0)
 .I $$GET1^DIQ(165.5,PRM,58.4,"I")="" S FDNUM=58.4 D CMPLT
"RTN","ONCOEDC1",110,0)
 I DTDX'=9999999,DTDX>2961231 I $$GET1^DIQ(165.5,PRM,442,"I")="" S FDNUM=442 D CMPLT
"RTN","ONCOEDC1",111,0)
 I DTDX'=9999999,DTDX>3031231 D
"RTN","ONCOEDC1",112,0)
 .I $$GET1^DIQ(165.5,PRM,29.2,"I")="" S FDNUM=29.2 D CMPLT
"RTN","ONCOEDC1",113,0)
 .I $$GET1^DIQ(165.5,PRM,30.2,"I")="" S FDNUM=30.2 D CMPLT
"RTN","ONCOEDC1",114,0)
 .I $$GET1^DIQ(165.5,PRM,29.1,"I")="" S FDNUM=29.1 D CMPLT
"RTN","ONCOEDC1",115,0)
 .I $$GET1^DIQ(165.5,PRM,31.1,"I")="" S FDNUM=31.1 D CMPLT
"RTN","ONCOEDC1",116,0)
 .I $$GET1^DIQ(165.5,PRM,32.1,"I")="" S FDNUM=32.1 D CMPLT
"RTN","ONCOEDC1",117,0)
 .I $$GET1^DIQ(165.5,PRM,34.3,"I")="" S FDNUM=34.3 D CMPLT
"RTN","ONCOEDC1",118,0)
 .I $$GET1^DIQ(165.5,PRM,34.4,"I")="" S FDNUM=34.4 D CMPLT
"RTN","ONCOEDC1",119,0)
 .I $$GET1^DIQ(165.5,PRM,44.1,"I")="" S FDNUM=44.1 D CMPLT
"RTN","ONCOEDC1",120,0)
 .I $$GET1^DIQ(165.5,PRM,44.2,"I")="" S FDNUM=44.2 D CMPLT
"RTN","ONCOEDC1",121,0)
 .I $$GET1^DIQ(165.5,PRM,44.3,"I")="" S FDNUM=44.3 D CMPLT
"RTN","ONCOEDC1",122,0)
 .I $$GET1^DIQ(165.5,PRM,44.4,"I")="" S FDNUM=44.4 D CMPLT
"RTN","ONCOEDC1",123,0)
 .I $$GET1^DIQ(165.5,PRM,44.5,"I")="" S FDNUM=44.5 D CMPLT
"RTN","ONCOEDC1",124,0)
 .I $$GET1^DIQ(165.5,PRM,44.6,"I")="" S FDNUM=44.6 D CMPLT
"RTN","ONCOEDC1",125,0)
 .I $$GET1^DIQ(165.5,PRM,160,"I")="" S FDNUM=160 D CMPLT
"RTN","ONCOEDC1",126,0)
 .I $$GET1^DIQ(165.5,PRM,161,"I")="" S FDNUM=161 D CMPLT
"RTN","ONCOEDC1",127,0)
 .I $$GET1^DIQ(165.5,PRM,162,"I")="" S FDNUM=162 D CMPLT
"RTN","ONCOEDC1",128,0)
 .I $$GET1^DIQ(165.5,PRM,163,"I")="" S FDNUM=163 D CMPLT
"RTN","ONCOEDC1",129,0)
 .I $$GET1^DIQ(165.5,PRM,164,"I")="" S FDNUM=164 D CMPLT
"RTN","ONCOEDC1",130,0)
 .I $$GET1^DIQ(165.5,PRM,165,"I")="" S FDNUM=165 D CMPLT
"RTN","ONCOEDC1",131,0)
 .I $$GET1^DIQ(165.5,PRM,166,"I")="" S FDNUM=166 D CMPLT
"RTN","ONCOEDC1",132,0)
 .I $$GET1^DIQ(165.5,PRM,167,"I")="" S FDNUM=167 D CMPLT
"RTN","ONCOEDC1",133,0)
 .I $$GET1^DIQ(165.5,PRM,168,"I")="" S FDNUM=168 D CMPLT
"RTN","ONCOEDC1",134,0)
 Q
"RTN","ONCOEDC1",135,0)
 ;
"RTN","ONCOEDC1",136,0)
CMPLT ;Set CMPLT = 0 and add FLD to LIST of fields needed to be filled in.
"RTN","ONCOEDC1",137,0)
 S FLDNAME=$P($G(^DD(ONCFILE,FDNUM,0)),U,1) S FDNUM=""
"RTN","ONCOEDC1",138,0)
 S CMPLT=0,LIST(FLDNAME)=""
"RTN","ONCOEDC1",139,0)
 Q
"RTN","ONCOFDP")
0^51^B14855963
"RTN","ONCOFDP",1,0)
ONCOFDP ;Hines OIFO/GWB - FOLLOW DEAD PATIENTS ;07/12/00
"RTN","ONCOFDP",2,0)
 ;;2.11;ONCOLOGY;**1,5,16,22,25,26,47**;Mar 07, 1995;Build 19
"RTN","ONCOFDP",3,0)
DEAD ;Death information
"RTN","ONCOFDP",4,0)
 K DXS,DIOT S D0=ONCOD0,DIR("A")=" Edit Data",DIR("B")="Y",DIR(0)="Y"
"RTN","ONCOFDP",5,0)
 D ^ONCOXDI,^DIR G ED:Y,RC:'Y,EX
"RTN","ONCOFDP",6,0)
 ;
"RTN","ONCOFDP",7,0)
ED W !! S DA=ONCOD0,DR="[ONCO DEATH]",DIE="^ONCO(160," D ^DIE
"RTN","ONCOFDP",8,0)
 W !! K DXS,DIOT D ^ONCOXDI
"RTN","ONCOFDP",9,0)
 S DIR("A")=" Data OK",DIR("B")="Yes",DIR(0)="Y" D ^DIR G ED:'Y,RC:Y,EX
"RTN","ONCOFDP",10,0)
 ;
"RTN","ONCOFDP",11,0)
RC W !!,"First Recurrence Information..."
"RTN","ONCOFDP",12,0)
 S XD1=0,UPOUT=""
"RTN","ONCOFDP",13,0)
 F  S XD1=$O(^ONCO(165.5,"C",ONCOD0,XD1)) Q:XD1'>0  D  Q:UPOUT="Y"
"RTN","ONCOFDP",14,0)
 .S ONCOX2=$G(^ONCO(165.5,XD1,2)),ONCOTOP=$P(ONCOX2,U,1)
"RTN","ONCOFDP",15,0)
 .S TOP=$P($G(^ONCO(164,+ONCOTOP,0)),U,1)
"RTN","ONCOFDP",16,0)
 .S SITEGP=$P(^ONCO(165.5,XD1,0),U,1)
"RTN","ONCOFDP",17,0)
 .S ACCNO=$P(^ONCO(165.5,XD1,0),U,5),SEQNO=$P(^ONCO(165.5,XD1,0),U,6)
"RTN","ONCOFDP",18,0)
 .W !!,"Primary: ",$E(ACCNO,1,4),"-",$E(ACCNO,5,9),"/",SEQNO,"  ",TOP,!
"RTN","ONCOFDP",19,0)
 .S DIE="^ONCO(165.5,",DA=XD1,DR="71;D CHECK^ONCOFDP;70;@1" D ^DIE I $D(Y) S UPOUT="Y"
"RTN","ONCOFDP",20,0)
 D CHKCHG^ONCOAIF
"RTN","ONCOFDP",21,0)
 ;
"RTN","ONCOFDP",22,0)
DC ;Delete Contacts
"RTN","ONCOFDP",23,0)
 Q:'$D(^ONCO(160,"APC",ONCOD0))
"RTN","ONCOFDP",24,0)
H W @IOF,!!!?15,"--------------DELETE PATIENT'S CONTACTS---------------"
"RTN","ONCOFDP",25,0)
 S D0=ONCOD0 K DXS,DIOT D ^ONCOXCL
"RTN","ONCOFDP",26,0)
 W !!?5,"Patient is dead - please delete contacts as soon as possible."
"RTN","ONCOFDP",27,0)
 W !?5,"Deletion will affect this patient's contacts only.",!
"RTN","ONCOFDP",28,0)
 S DIR("A")="     Delete Contacts",DIR(0)="Y",DIR("B")="Yes" D ^DIR,KC:Y
"RTN","ONCOFDP",29,0)
 Q
"RTN","ONCOFDP",30,0)
 ;
"RTN","ONCOFDP",31,0)
KC ;Delete FOLLOW-UP CONTACT (160.03) sub-file and CONTACT (165) file
"RTN","ONCOFDP",32,0)
 ;entries
"RTN","ONCOFDP",33,0)
 D WAIT^DICD W !?5,"Deleting contacts..." D EN1 G EX
"RTN","ONCOFDP",34,0)
EN1 S XDC=0 F  S XDC=$O(^ONCO(160,"APC",ONCOD0,XDC)) Q:XDC'>0  S ONCOC0=XDC D  I C=0 S DIK="^ONCO(165,",DA=ONCOC0 D ^DIK W "*"
"RTN","ONCOFDP",35,0)
 .S C=0
"RTN","ONCOFDP",36,0)
 .S XDP=0 F  S XDP=$O(^ONCO(160,"ACP",ONCOC0,XDP)) Q:XDP'>0  I XDP'=ONCOD0 S C=1 Q
"RTN","ONCOFDP",37,0)
 .I C=1 Q
"RTN","ONCOFDP",38,0)
 .S XDP=0 F  S XDP=$O(^ONCO(160,"AC",ONCOC0,XDP)) Q:XDP'>0  I XDP'=ONCOD0 S C=1 Q
"RTN","ONCOFDP",39,0)
 .I C=1 Q
"RTN","ONCOFDP",40,0)
 .S XDP=0 F  S XDP=$O(^ONCO(160,"AE",ONCOC0,XDP)) Q:XDP'>0  I XDP'=ONCOD0 S C=1 Q
"RTN","ONCOFDP",41,0)
 .I C=1 Q
"RTN","ONCOFDP",42,0)
 .I $D(^ONCO(165.5,"APS",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",43,0)
 .I $D(^ONCO(165.5,"AFP",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",44,0)
 .I $D(^ONCO(165.5,"AMP",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",45,0)
 .I $D(^ONCO(165.5,"AOP3",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",46,0)
 .I $D(^ONCO(165.5,"AOP4",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",47,0)
 .I $D(^ONCO(165.5,"APST",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",48,0)
 ;Delete FOLLOW-UP CONTACT (160,420) sub-file (160.03)
"RTN","ONCOFDP",49,0)
 S DA=0,DA(1)=ONCOD0 F  S DA=$O(^ONCO(160,DA(1),"C",DA)) Q:DA'?1.N  S DIK="^ONCO(160,"_DA(1)_",""C""," D ^DIK
"RTN","ONCOFDP",50,0)
 I '$D(ONCODAC) S D0=ONCOD0 D ^ONCOXCL W ?35,"(None - Patient is Deceased)"
"RTN","ONCOFDP",51,0)
 N ONCOC0 S ONCOC0=$P(^ONCO(160,ONCOD0,1),U,6) G KA:ONCOC0="",KA:$D(^ONCO(165,ONCOC0,0))
"RTN","ONCOFDP",52,0)
CD S X="<CONTACT DELETED>",Y=$O(^ONCO(165,"B",X,0))
"RTN","ONCOFDP",53,0)
 I Y="" S (DIC,DLAYGO)="^ONCO(165,",DIC(0)="ZL" D FILE^DICN
"RTN","ONCOFDP",54,0)
 S OLDLFC=$P($G(^ONCO(160,ONCOD0,1)),U,6)
"RTN","ONCOFDP",55,0)
 K:OLDLFC'="" ^ONCO(160,"AC",OLDLFC,ONCOD0)
"RTN","ONCOFDP",56,0)
 S $P(^ONCO(160,ONCOD0,1),U,6)=+Y
"RTN","ONCOFDP",57,0)
 S ^ONCO(160,"AC",+Y,ONCOD0)=""
"RTN","ONCOFDP",58,0)
 K OLDLFC
"RTN","ONCOFDP",59,0)
KA ;Delete FOLLOW-UP ATTEMPTS (160,410) sub-file (160.06)
"RTN","ONCOFDP",60,0)
 W:'$D(ONCODAC) !!?5,"Deleting Follow-up Attempts..."
"RTN","ONCOFDP",61,0)
 S XX=$P($G(^ONCO(160,ONCOD0,"A",0)),U,3) I XX'="" S DIK="^ONCO(160,"_DA(1)_",""A""," F DA=1:1:XX I $D(^(DA)) D ^DIK
"RTN","ONCOFDP",62,0)
 F I="A","C" K ^ONCO(160,DA(1),I)
"RTN","ONCOFDP",63,0)
 Q
"RTN","ONCOFDP",64,0)
 ;
"RTN","ONCOFDP",65,0)
DAC ;Delete dead patients's Contacts
"RTN","ONCOFDP",66,0)
 W @IOF,"ARCHIVING of Contact File, Attempts and Contacts"
"RTN","ONCOFDP",67,0)
 W !!?5,"For dead patients - clean out unnecessary data.",!!!
"RTN","ONCOFDP",68,0)
 W ?5,"Working..."
"RTN","ONCOFDP",69,0)
 S XD0=0 F  S XD0=$O(^ONCO(160,"AS",0,XD0)) Q:XD0'>0  S ONCOD0=XD0,ONCODAC=1 D EN1 W:'(XD0#100) "."
"RTN","ONCOFDP",70,0)
EX ;RETURN from calling program, ONCOAIF/ONCOFUL
"RTN","ONCOFDP",71,0)
 K RC,RT,XD0,XX,XD1,XDC,I,DIK,DIC,XDP,ONCOD1
"RTN","ONCOFDP",72,0)
 Q
"RTN","ONCOFDP",73,0)
CHECK ;Check TYPE of FIRST RECURRENCE
"RTN","ONCOFDP",74,0)
 ;If 99, stuff 99/99/9999 into DATE of FIRST RECURRENCE
"RTN","ONCOFDP",75,0)
 ;If 00 or 70, stuff 00/00/0000 into DATE of FIRST RECURRENCE
"RTN","ONCOFDP",76,0)
 S TOFR=$P($G(^ONCO(165.5,XD1,5)),U,2)
"RTN","ONCOFDP",77,0)
 Q:TOFR=""
"RTN","ONCOFDP",78,0)
 I $P($G(^ONCO(160.12,TOFR,0)),U,1)=99 D
"RTN","ONCOFDP",79,0)
 .S $P(^ONCO(165.5,XD1,5),U,1)=9999999
"RTN","ONCOFDP",80,0)
 .W !,"DATE of FIRST RECURRENCE: 99/99/9999//"
"RTN","ONCOFDP",81,0)
 .S Y="@1"
"RTN","ONCOFDP",82,0)
 I ($P($G(^ONCO(160.12,TOFR,0)),U,1)="00")!($P($G(^ONCO(160.12,TOFR,0)),U,1)=70) D
"RTN","ONCOFDP",83,0)
 .S $P(^ONCO(165.5,XD1,5),U,1)="0000000"
"RTN","ONCOFDP",84,0)
 .W !,"DATE of FIRST RECURRENCE: 00/00/0000//"
"RTN","ONCOFDP",85,0)
 .S Y="@1"
"RTN","ONCOFTS")
0^45^B13108300
"RTN","ONCOFTS",1,0)
ONCOFTS ;Hines OIFO/GWB - TUMOR STATUS/CANCER STATUS OF PRIMARY ;02/02/00
"RTN","ONCOFTS",2,0)
 ;;2.11;ONCOLOGY;**24,25,47**;Mar 07, 1995;Build 19
"RTN","ONCOFTS",3,0)
 ;
"RTN","ONCOFTS",4,0)
STSM ;CREATE TUMOR STATUS MULTIPLE IN 165.5
"RTN","ONCOFTS",5,0)
 ;called from "AE" cross-reference of DATE OF LAST CONTACT OR DEATH
"RTN","ONCOFTS",6,0)
 ;Sub-field (#.01) of FOLLOW-UP Field (#400) of ONCOLOGY PATIENT (#160)
"RTN","ONCOFTS",7,0)
 ;N VARIABLES
"RTN","ONCOFTS",8,0)
 ;X=CURRENT FOLLOWUP DATE
"RTN","ONCOFTS",9,0)
 ;DA=CURRENT FOLLOWUP MULTIPLE ENTRY
"RTN","ONCOFTS",10,0)
 ;TUMOR STATUS
"RTN","ONCOFTS",11,0)
 N MH,LC,K,XD1,XY,XDA1
"RTN","ONCOFTS",12,0)
 I '$D(^ONCO(165.5,"C",DA(1))) W:'$D(ZTQUEUED) !!,?5,"Patient ",DA(1)," has no Primaries - cannot track Tumor Status",! ;NO PRIMARIES
"RTN","ONCOFTS",13,0)
 E  D STSMSET ;Set the primaries
"RTN","ONCOFTS",14,0)
 Q
"RTN","ONCOFTS",15,0)
 ;
"RTN","ONCOFTS",16,0)
STSMSET ;Patient has primaries, so set
"RTN","ONCOFTS",17,0)
 N CURFOLDT,PRIMARY
"RTN","ONCOFTS",18,0)
 S CURFOLDT=X ;Current Follow-Up Date
"RTN","ONCOFTS",19,0)
 S PRIMARY=0
"RTN","ONCOFTS",20,0)
 F  S PRIMARY=$O(^ONCO(165.5,"C",DA(1),PRIMARY)) Q:PRIMARY=""  I $$DIV^ONCFUNC(PRIMARY)=DUZ(2) D
"RTN","ONCOFTS",21,0)
 .N DATEDX
"RTN","ONCOFTS",22,0)
 .S DATEDX=$P(^ONCO(165.5,PRIMARY,0),U,16)
"RTN","ONCOFTS",23,0)
 .I DATEDX="" W:'$D(ZTQUEUED) !,?5," Patient ",DA(1),":  DATE DX MISSING for "_$P(^ONCO(164.2,$P(^ONCO(165.5,PRIMARY,0),U),0),U),!?5," NO Tumor Status Followup Created",!!
"RTN","ONCOFTS",24,0)
 .E  I DATEDX'>CURFOLDT D STSMONE
"RTN","ONCOFTS",25,0)
 Q
"RTN","ONCOFTS",26,0)
 ;
"RTN","ONCOFTS",27,0)
STSMONE ;Look for a corresponding tumor status for this primary, set up if none there
"RTN","ONCOFTS",28,0)
 I '$D(^ONCO(165.5,PRIMARY,"TS","B",CURFOLDT)) D  ;not defined, set up
"RTN","ONCOFTS",29,0)
 .N TUMSTAT
"RTN","ONCOFTS",30,0)
 .L +^ONCO(165.5,PRIMARY,"TS")
"RTN","ONCOFTS",31,0)
 .S:'$D(^ONCO(165.5,PRIMARY,"TS",0)) ^(0)="^165.573DA" ;set header if undefined
"RTN","ONCOFTS",32,0)
 .F TUMSTAT=$P(^ONCO(165.5,PRIMARY,"TS",0),U,3)+1:1 Q:'$D(^(TUMSTAT))  ;get index
"RTN","ONCOFTS",33,0)
 .S ^ONCO(165.5,PRIMARY,"TS",TUMSTAT,0)=CURFOLDT ;set data
"RTN","ONCOFTS",34,0)
 .S ^ONCO(165.5,PRIMARY,"TS","B",CURFOLDT,TUMSTAT)="" ;date xref
"RTN","ONCOFTS",35,0)
 .S ^ONCO(165.5,PRIMARY,"TS","AA",9999999-CURFOLDT,TUMSTAT)="" ;inverted date xref
"RTN","ONCOFTS",36,0)
 .S $P(^ONCO(165.5,PRIMARY,"TS",0),U,3)=TUMSTAT,$P(^(0),U,4)=$P(^(0),U,4)+1 ;update header
"RTN","ONCOFTS",37,0)
 .L -^ONCO(165.5,PRIMARY,"TS")
"RTN","ONCOFTS",38,0)
 Q
"RTN","ONCOFTS",39,0)
 ;
"RTN","ONCOFTS",40,0)
KTSM ;Delete TUMOR STATUS Multiple (#73) in ONCOLOGY PRIMARY File (#165.5)
"RTN","ONCOFTS",41,0)
 ;corresponding to an entry in the FOLLOW-UP Multiple (#400) in ONCOLOGY PATIENT File (#160)
"RTN","ONCOFTS",42,0)
 ;Called by KILL Logic of AE Cross-reference of DATE OF LAST CONTACT OR DEATH Sub-field (#.01) of FOLLOW-UP Multiple
"RTN","ONCOFTS",43,0)
 ;Input DA(1) = internal entry number in ONCOLOGY PATIENT File
"RTN","ONCOFTS",44,0)
 ;          X = date of follow-up to be deleted
"RTN","ONCOFTS",45,0)
 N XD1
"RTN","ONCOFTS",46,0)
 S XD1=0 F  S XD1=$O(^ONCO(165.5,"C",DA(1),XD1)) Q:'XD1  I $$DIV^ONCFUNC(XD1)=DUZ(2) D KTSMA
"RTN","ONCOFTS",47,0)
 Q
"RTN","ONCOFTS",48,0)
KTSMA I $D(^ONCO(165.5,XD1,"TS","B",X)) D
"RTN","ONCOFTS",49,0)
 .N DIK,DR,DA
"RTN","ONCOFTS",50,0)
 .S DA=0
"RTN","ONCOFTS",51,0)
 .F  S DA=$O(^ONCO(165.5,XD1,"TS","B",X,DA)) Q:'DA  D KTSMONE ;kill
"RTN","ONCOFTS",52,0)
 Q
"RTN","ONCOFTS",53,0)
 ;
"RTN","ONCOFTS",54,0)
KTSMONE ;kill a single tumor status sub-record
"RTN","ONCOFTS",55,0)
 ;DEVELOPERS NOTE:  The code is written this way because FileMan blows
"RTN","ONCOFTS",56,0)
 ;up if you try to make a DIK call from within DIE.  Thus this code
"RTN","ONCOFTS",57,0)
 ;should always be modified if any changes are made to the TUMOR STATUS
"RTN","ONCOFTS",58,0)
 ;multiple Field (#73) in the ONCOLOGY PRIMARY File (#165.5).
"RTN","ONCOFTS",59,0)
 ;When FileMan gets his act together, this logic can be simplified
"RTN","ONCOFTS",60,0)
 ;to a DIK call.     MLH 4/14/93
"RTN","ONCOFTS",61,0)
 ;
"RTN","ONCOFTS",62,0)
 ;kill xrefs
"RTN","ONCOFTS",63,0)
 K ^ONCO(165.5,XD1,"TS","B",X,DA) ;kill date xref (.01,B)
"RTN","ONCOFTS",64,0)
 K ^ONCO(165.5,XD1,"TS","AA",9999999-X,DA) ;kill inverse date xref (.01,AA)
"RTN","ONCOFTS",65,0)
 D LTS^ONCOU55(XD1,DA) ;reset LAST TUMOR STATUS Field (#95) (.02,AC)
"RTN","ONCOFTS",66,0)
 K ^ONCO(165.5,XD1,"TS",DA) ;kill data
"RTN","ONCOFTS",67,0)
 S $P(^ONCO(165.5,XD1,"TS",0),U,4)=$P($G(^ONCO(165.5,XD1,"TS",0)),U,4)-1 ;decrement count on header
"RTN","ONCOFTS",68,0)
 Q
"RTN","ONCOFTS",69,0)
 ;
"RTN","ONCOFTS",70,0)
DX ;DATE OF LAST CONTACT OR DEATH (160.04,.01) Input Transform 
"RTN","ONCOFTS",71,0)
 ;At least one DATE DX (165.5,3) must precede DATE OF LAST CONTACT OR
"RTN","ONCOFTS",72,0)
 ;DEATH
"RTN","ONCOFTS",73,0)
 ;DATE OF LAST CONTACT OR DEATH must precede DATE@TIME OF DEATH (160,29)
"RTN","ONCOFTS",74,0)
 N ONCOF,XD1
"RTN","ONCOFTS",75,0)
 S ONCOF=0,XD1=0 F  S XD1=$O(^ONCO(165.5,"C",DA(1),XD1)) Q:XD1'>0  S DATEDXZ=$P(^ONCO(165.5,XD1,0),U,16) I (DATEDXZ'>X)!(DATEDXZ="0000000")!(DATEDXZ=8888888)!(DATEDXZ=9999999) S ONCOF=1 Q
"RTN","ONCOFTS",76,0)
 I 'ONCOF W !,"DATE DX must precede DATE OF LAST CONTACT OR DEATH",! K X
"RTN","ONCOFTS",77,0)
 E  D
"RTN","ONCOFTS",78,0)
 .N ONCDTD
"RTN","ONCOFTS",79,0)
 .S ONCDTD=$P($G(^ONCO(160,D0,1)),U,8)
"RTN","ONCOFTS",80,0)
 .I $E(ONCDTD,6,7)="00" Q
"RTN","ONCOFTS",81,0)
 .I ONCDTD,ONCDTD<X W !,"DATE OF LAST CONTACT OR DEATH must precede DATE@TIME OF DEATH" K X
"RTN","ONCOFTS",82,0)
 Q
"RTN","ONCOFUP")
0^36^B4216330
"RTN","ONCOFUP",1,0)
ONCOFUP ;Hines OIFO/GWB - Print Follow-up Letter [ONCO FOLL-PRINT LETTER]
"RTN","ONCOFUP",2,0)
 ;;2.11;ONCOLOGY;**2,22,25,47**;Mar 07, 1995;Build 19
"RTN","ONCOFUP",3,0)
 ;
"RTN","ONCOFUP",4,0)
SCL W @IOF,!?2,"************ Print Follow-Up Letter ************",!
"RTN","ONCOFUP",5,0)
 K DIC
"RTN","ONCOFUP",6,0)
 S DIC="^ONCO(160,"
"RTN","ONCOFUP",7,0)
 S DIC(0)="AEMQZ"
"RTN","ONCOFUP",8,0)
 S DIC("A")="  Select patient: "
"RTN","ONCOFUP",9,0)
 D ^DIC G:(Y=-1)!($D(DTOUT))!($D(DUOUT)) EXIT
"RTN","ONCOFUP",10,0)
 S (DA,ONCOD0)=+Y
"RTN","ONCOFUP",11,0)
 ;
"RTN","ONCOFUP",12,0)
LFC ;LAST FOLLOW-UP CONTACT (160,15.1)
"RTN","ONCOFUP",13,0)
 K ONCOC0
"RTN","ONCOFUP",14,0)
 W !
"RTN","ONCOFUP",15,0)
 W !?2,"The follow-up letter is sent to the LAST FOLLOW-UP CONTACT."
"RTN","ONCOFUP",16,0)
 W !?2,"You may enter a new contact."
"RTN","ONCOFUP",17,0)
LC W !
"RTN","ONCOFUP",18,0)
 S DIE="^ONCO(160,",DR="15.1"
"RTN","ONCOFUP",19,0)
 L +^ONCO(160,DA):$G(DILOCKTM,5)
"RTN","ONCOFUP",20,0)
 I '$T R !?2,"Another user is editing this entry.",X:5 G SCL
"RTN","ONCOFUP",21,0)
 D ^DIE L -^ONCO(160,DA)
"RTN","ONCOFUP",22,0)
 G EXIT:$D(Y)
"RTN","ONCOFUP",23,0)
 S FC=$P($G(^ONCO(160,D0,1)),U,6)
"RTN","ONCOFUP",24,0)
 I FC="" W !!?2,"You need to designate a follow-up contact before printing a follow-up letter." G LC
"RTN","ONCOFUP",25,0)
 D LET G SCL
"RTN","ONCOFUP",26,0)
 ;
"RTN","ONCOFUP",27,0)
LET ;Print follow-up letter (Also called from FA^ONCOFUL)
"RTN","ONCOFUP",28,0)
 I $D(ONCOC0) D
"RTN","ONCOFUP",29,0)
 .S DIE="^ONCO(160,",DR="15.1////^S X=ONCOC0" D ^DIE
"RTN","ONCOFUP",30,0)
 S ONCOC0=$P(^ONCO(160,ONCOD0,1),U,6)
"RTN","ONCOFUP",31,0)
 ;
"RTN","ONCOFUP",32,0)
TP S ONCTP=$P($G(^ONCO(165,ONCOC0,0)),U,2)
"RTN","ONCOFUP",33,0)
 K DIC
"RTN","ONCOFUP",34,0)
 S DIC="^ONCO(165.1,"
"RTN","ONCOFUP",35,0)
 S DIC(0)="AEMQZ"
"RTN","ONCOFUP",36,0)
 S DIC("A")="Select FOLLOW-UP FORM LETTER: "
"RTN","ONCOFUP",37,0)
 I (ONCTP=1)!(ONCTP=2)!(ONCTP=6) S DIC("S")="I $P(^(0),U,2)=ONCTP"
"RTN","ONCOFUP",38,0)
 I (ONCTP=3)!(ONCTP=5) S DIC("S")="I $P(^(0),U,2)=3"
"RTN","ONCOFUP",39,0)
 I ONCTP=4 S DIC("S")="I $P(^(0),U,2)>3"
"RTN","ONCOFUP",40,0)
 D ^DIC
"RTN","ONCOFUP",41,0)
 G:(Y=-1)!($D(DTOUT))!($D(DUOUT)) EXIT
"RTN","ONCOFUP",42,0)
 S ZZL=+Y
"RTN","ONCOFUP",43,0)
 S DIWF="^ONCO(165.1,"_ZZL_",1,"
"RTN","ONCOFUP",44,0)
 S DIWF(1)="160"
"RTN","ONCOFUP",45,0)
 S BY="NUMBER",(FR,TO)=ONCOD0
"RTN","ONCOFUP",46,0)
 W !
"RTN","ONCOFUP",47,0)
 K DIC D EN2^DIWF D ^%ZISC D HOME^%ZIS
"RTN","ONCOFUP",48,0)
 Q
"RTN","ONCOFUP",49,0)
 ;
"RTN","ONCOFUP",50,0)
EXIT ;Exit
"RTN","ONCOFUP",51,0)
 K DIC,DA,ONCOD0,ONCOC0,DIE,DR,FC,ONCTP,ZZL,DIWF,BY,FR,TO
"RTN","ONCOFUP",52,0)
 Q
"RTN","ONCOGEN")
0^29^B47169178
"RTN","ONCOGEN",1,0)
ONCOGEN ;Hines OIFO/GWB - GENERAL REPORT DRIVER FOR SELECTED FORMATS ;02/02/00
"RTN","ONCOGEN",2,0)
 ;;2.11;ONCOLOGY;**6,7,11,13,16,17,18,22,24,25,26,29,44,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOGEN",3,0)
 ;
"RTN","ONCOGEN",4,0)
SU ;IR Patient Summary [ONCO ABSTRACT-INCOMP RECORD]
"RTN","ONCOGEN",5,0)
 W !
"RTN","ONCOGEN",6,0)
 S DIC="^ONCO(160,",DIC(0)="AEMQZ" D ^DIC G SUEX:Y<0
"RTN","ONCOGEN",7,0)
 S X=+Y
"RTN","ONCOGEN",8,0)
 S D="C",DIC="^ONCO(165.5,",DIC(0)="EQ" D IX^DIC G SUEX:Y<0
"RTN","ONCOGEN",9,0)
 S D0=+Y
"RTN","ONCOGEN",10,0)
 S BY="NUMBER",(FR,TO)=D0,FLDS="[ONCO XABSTRACT RECORD]",L=0
"RTN","ONCOGEN",11,0)
 S DIC="^ONCO(165.5,",L=0 D EN1^DIP
"RTN","ONCOGEN",12,0)
 K DIR S DIR(0)="E" D ^DIR
"RTN","ONCOGEN",13,0)
SUEX K DIC,D,BY,FR,TO,FLDS,L
"RTN","ONCOGEN",14,0)
 Q
"RTN","ONCOGEN",15,0)
 ;
"RTN","ONCOGEN",16,0)
SEER ;[QA Print Abstract QA]
"RTN","ONCOGEN",17,0)
 S SEER=1 G ABSEO
"RTN","ONCOGEN",18,0)
SER1 S ONCODA=DA
"RTN","ONCOGEN",19,0)
 S FLDS="[ONCQA1]"
"RTN","ONCOGEN",20,0)
 I $P($G(^ONCO(165.5,DA,2)),U,1)=67619 S FLDS="[ONCQA]"
"RTN","ONCOGEN",21,0)
 D PRT G END
"RTN","ONCOGEN",22,0)
 ;
"RTN","ONCOGEN",23,0)
ABSEO ;[EX Print Abstract-Extended (80c)]
"RTN","ONCOGEN",24,0)
 ;[PA Print Complete Abstract (132c)]
"RTN","ONCOGEN",25,0)
 S DIC="^ONCO(160,",DIC(0)="AEMQ" D ^DIC G:Y=-1 END
"RTN","ONCOGEN",26,0)
 S (HI,DA,I)=0
"RTN","ONCOGEN",27,0)
 I $D(^ONCO(165.5,"C",$P(Y,U,1))) W !,"Choose one:" F  S DA=$O(^ONCO(165.5,"C",$P(Y,U,1),DA)) Q:DA'>0  I $$DIV^ONCFUNC(DA)=DUZ(2) S I=I+1,SI=$P(^ONCO(165.5,DA,0),U,1) W:$D(^ONCO(164.2,SI,0)) !?10,I_". "_$P(^(0),U,1) D TEXT S ^TMP($J,I)=DA S HI=I
"RTN","ONCOGEN",28,0)
 I HI=0 W !,"No primaries for this patient" G EX
"RTN","ONCOGEN",29,0)
ANS S ANS=$$ASKNUM^ONCOU("Enter your selection","1:"_HI,1) G EX:$D(DIRUT)
"RTN","ONCOGEN",30,0)
 S DA=$P(^TMP($J,ANS),U,1),(Y,DA,NUMBER,HDA)=DA
"RTN","ONCOGEN",31,0)
 S PRTPCE=0
"RTN","ONCOGEN",32,0)
 I $P($G(^ONCO(165.5,DA,7)),U,15)'="" W ! K DIR S DIR(0)="YA",DIR("A")=" Print PCE data attached to this primary? ",DIR("B")="NO" D ^DIR
"RTN","ONCOGEN",33,0)
 S PRTPCE=Y G EX:$D(DIRUT)
"RTN","ONCOGEN",34,0)
 G SER1:$D(SEER),DS:$D(NS),X:III<49,Y
"RTN","ONCOGEN",35,0)
X S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOGEN",36,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCOGEN",37,0)
 S EVADS=$P($G(^ONCO(160.1,OSP,2)),U,2)
"RTN","ONCOGEN",38,0)
 D ESPD I ESPD[U K ESPD Q
"RTN","ONCOGEN",39,0)
 S (ONCODA,ONCOIEN)=DA D ^ONCOPA1
"RTN","ONCOGEN",40,0)
 G EX
"RTN","ONCOGEN",41,0)
Y S DIOEND="S DN=1,D0=ONCODA F II=III:1:IIII K DXS D @(""^ONCOY""_II)"
"RTN","ONCOGEN",42,0)
PT S ONCODA=DA,FLDS="[ONCOY49]"
"RTN","ONCOGEN",43,0)
 D PRT G END
"RTN","ONCOGEN",44,0)
PRT S FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0
"RTN","ONCOGEN",45,0)
 D EN1^DIP
"RTN","ONCOGEN",46,0)
 Q
"RTN","ONCOGEN",47,0)
 ;
"RTN","ONCOGEN",48,0)
PRT1 S FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(160,",L=0
"RTN","ONCOGEN",49,0)
 D EN1^DIP
"RTN","ONCOGEN",50,0)
 Q
"RTN","ONCOGEN",51,0)
TEXT W:$D(^ONCO(165.5,DA,8)) "  "_$P(^ONCO(165.5,DA,8),U,1) Q
"RTN","ONCOGEN",52,0)
DD S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_($E(Y,1,3)+1700)_$S(Y#1:" "_$E(Y_0,9,10)_":"_$E(Y_"0000",11,12),1:"")
"RTN","ONCOGEN",53,0)
 Q
"RTN","ONCOGEN",54,0)
 ;
"RTN","ONCOGEN",55,0)
DIS ;[AS Abstract Screens Menu (80c)...]
"RTN","ONCOGEN",56,0)
 G ABSEO
"RTN","ONCOGEN",57,0)
DS S (D0,ONCODA)=DA
"RTN","ONCOGEN",58,0)
 I $G(NF)=58 S III=50,IIII=58 D Y G END
"RTN","ONCOGEN",59,0)
 S FLDS="[ONCOY49]",FR=ONCODA,TO=ONCODA,BY="@NUMBER",L=0
"RTN","ONCOGEN",60,0)
 S DIC="^ONCO(165.5," D @("SCR"_NS) Q
"RTN","ONCOGEN",61,0)
SCR50 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY50"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",62,0)
SCR3 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOX3"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",63,0)
SCR51 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY51"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",64,0)
SCR52 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY52"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",65,0)
SCR53 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY53"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",66,0)
SCR54 S DIOEND="S DN=1,D0=ONCODA F II=54,55 K DXS D @(""^ONCOY""_II)"
"RTN","ONCOGEN",67,0)
 D EN1^DIP Q
"RTN","ONCOGEN",68,0)
SCR56 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY56"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",69,0)
SCR57 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY57"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",70,0)
SCR58 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY58"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",71,0)
 Q
"RTN","ONCOGEN",72,0)
 ;
"RTN","ONCOGEN",73,0)
RD K DIR S DIR(0)="E",DIR("A")="Hit Enter to continue" D ^DIR
"RTN","ONCOGEN",74,0)
 K QDS I Y'=1 S QDS=1
"RTN","ONCOGEN",75,0)
 Q
"RTN","ONCOGEN",76,0)
END K ANS,BY,DA,DHCOPIES,DHD,DIC,DIOEND,DN,DXS,HDA,I,NUMBER,L,ONCODA
"RTN","ONCOGEN",77,0)
 K ONCOTEMP,PG,BY,FR,TO,FLDS,HI,ANS,SI,SEER,XD0
"RTN","ONCOGEN",78,0)
 D ^%ZISC S IOP=ION D ^%ZIS
"RTN","ONCOGEN",79,0)
EX ;Exit
"RTN","ONCOGEN",80,0)
 K %DT,X,Y,DIC,DIC,DIC1,DISH,II,D,DIJ,DIW,DIWT,DIYS,DP,FIL,ST,XXD1
"RTN","ONCOGEN",81,0)
 K ONCOX1,ONCOD0,ONCON,ONCOX,%W,%ZISOS,ONTEMP,ONCOX2,ONCOR,ONCOYR
"RTN","ONCOGEN",82,0)
 K %Y,F,L,O,W,%T,B,LST,O2,OG,OP,OS,OT,P,TL,TX,YY,OIO,%ZISOS,DIP
"RTN","ONCOGEN",83,0)
 K ONCX,PCESEL,M,DIYS,DISH,PRTPCE,PCEABS,QDS,STGP,STGPNM
"RTN","ONCOGEN",84,0)
 Q
"RTN","ONCOGEN",85,0)
 ;
"RTN","ONCOGEN",86,0)
PCEPRT ;PRINT PCE DATA (IF ANY) FOR A PARTICULAR PRIMARY AFTER COMPLETE
"RTN","ONCOGEN",87,0)
 ;(OR EXT) ABSTR PRINT.  CALLED BY ROUTINE ^ONCOPA3A (FORMERLY CALLED
"RTN","ONCOGEN",88,0)
 ;BY ONCOX11 PRINT TEMPLATE).  ALSO CALLED BY [ONCOY58] PRINT TEMPLATE.
"RTN","ONCOGEN",89,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="" Q  ;IF NO PCE DATA, QUIT
"RTN","ONCOGEN",90,0)
 S STGP=$P($G(^ONCO(165.5,ONCODA,0)),U,1)
"RTN","ONCOGEN",91,0)
 S STGPNM=$P($G(^ONCO(164.2,STGP,0)),U,1),SITTAB=79-$L(STGPNM)
"RTN","ONCOGEN",92,0)
PRINT ;
"RTN","ONCOGEN",93,0)
 D PCEVARS
"RTN","ONCOGEN",94,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="BLA" D PRT^ONCBPC8 Q
"RTN","ONCOGEN",95,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="THY" D PRT^ONCTPC8 Q
"RTN","ONCOGEN",96,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="STS" D PRT^ONCSPC8 Q
"RTN","ONCOGEN",97,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="PRO" D PRT^ONCPPC9 Q
"RTN","ONCOGEN",98,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="COL" D PRT^ONCCPC9 Q
"RTN","ONCOGEN",99,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="NHL" D PRT^ONCNPC8 Q
"RTN","ONCOGEN",100,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="PRO2" D PRT^ONCP2P8 Q
"RTN","ONCOGEN",101,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="BRE" D PRT^ONCBRP9 Q
"RTN","ONCOGEN",102,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="MEL" D PRT^ONCMPC9 Q
"RTN","ONCOGEN",103,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="HEP" D PRT^ONCHPC8 Q
"RTN","ONCOGEN",104,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="CNS" D PRT^ONCIPC8 Q
"RTN","ONCOGEN",105,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="GAS" D PRT^ONCGPC7 Q
"RTN","ONCOGEN",106,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="LNG" D PRT^ONCLPC9 Q
"RTN","ONCOGEN",107,0)
 Q
"RTN","ONCOGEN",108,0)
PCEPRT2 ;PRINT ALL PCE'S FOR A PARTICULAR SITE.
"RTN","ONCOGEN",109,0)
 S ONCQ=0
"RTN","ONCOGEN",110,0)
 W !!?5,"Print PCE's for a particular site"
"RTN","ONCOGEN",111,0)
 K DIR S DIR(0)="SM^1:Bladder;2:Thyroid;3:Soft Tissue Sarcoma;4:Prostate;5:Prostate (1998);6:Colorectal;7:Non-Hodgkin's Lymphoma;8:Breast;9:Melanoma;10:Hepatocellular;11:Intracranial;12:Gastric;13:Lung" D ^DIR Q:$D(DIRUT)
"RTN","ONCOGEN",112,0)
 S PCESEL=$S(Y=1:"BLA",Y=2:"THY",Y=3:"STS",Y=4:"PRO",Y=5:"PRO2",Y=6:"COL",Y=7:"NHL",Y=8:"BRE",Y=9:"MEL",Y=10:"HEP",Y=11:"CNS",Y=12:"GAS",Y=13:"LNG",1:"") Q:PCESEL=""
"RTN","ONCOGEN",113,0)
 W ! K DIR S DIR(0)="YA",DIR("A")="Print PCE's AND Abstracts? ",DIR("B")="Y" D ^DIR S PCEABS=Y G EX:$D(DIRUT)
"RTN","ONCOGEN",114,0)
 K IOP,%ZIS S %ZIS="Q" W ! D ^%ZIS S ONCOIO=ION_";"_IOST_";"_IOM_";"_IOSL G:POP EX
"RTN","ONCOGEN",115,0)
 I $D(IO("Q")) S ONCQ=1 D TASK G EX
"RTN","ONCOGEN",116,0)
RTN ;
"RTN","ONCOGEN",117,0)
 S ONCOQUIT=0,ONCIOST=IOST
"RTN","ONCOGEN",118,0)
 I PCEABS'=1 F ONCX=0:0 S ONCX=$O(^ONCO(165.5,"APCE",PCESEL,ONCX)) Q:ONCX'>""  I $$DIV^ONCFUNC(ONCX)=DUZ(2) S ONCODA=ONCX D PRINT Q:$G(Y)=0
"RTN","ONCOGEN",119,0)
 I PCEABS=1 F ONCX=0:0 S ONCX=$O(^ONCO(165.5,"APCE",PCESEL,ONCX)) Q:ONCX'>""!ONCOQUIT  I $$DIV^ONCFUNC(ONCX)=DUZ(2) D
"RTN","ONCOGEN",120,0)
 .S ONCODA=ONCX,PRTPCE=1
"RTN","ONCOGEN",121,0)
 .S ONCOIEN=ONCX D MULT^ONCOPA1
"RTN","ONCOGEN",122,0)
 .Q
"RTN","ONCOGEN",123,0)
 G END
"RTN","ONCOGEN",124,0)
PCEVARS ;SET VARIABLES NEEDED TO PRINT THE PCE(S).
"RTN","ONCOGEN",125,0)
 K DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCOGEN",126,0)
 S D0=ONCODA,NODE0=^ONCO(165.5,D0,0)
"RTN","ONCOGEN",127,0)
 S S=$P(NODE0,U,1),SITEGP=$P(^ONCO(164.2,S,0),U,1),DATEDX=$P(NODE0,U,16)
"RTN","ONCOGEN",128,0)
 S Y=$P(NODE0,U,2),C=$P(^DD(165.5,.02,0),U,2) D Y^DIQ S PATNAM=Y
"RTN","ONCOGEN",129,0)
 S SAVED0=D0 S D0=$P(NODE0,U,2) D SSN^ONCOES S SSN=X,D0=SAVED0
"RTN","ONCOGEN",130,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD="",TOPNAM=""
"RTN","ONCOGEN",131,0)
 I TOP'="" S TOPNAM=$P(^ONCO(164,TOP,0),U,1),TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOGEN",132,0)
 S TOPTAB=79-$L(TOPNAM_" "_TOPCOD),TTAB=79-$L(TOPCOD)
"RTN","ONCOGEN",133,0)
 S STGP=$P($G(^ONCO(165.5,ONCODA,0)),U,1)
"RTN","ONCOGEN",134,0)
 S STGPNM=$P($G(^ONCO(164.2,STGP,0)),U,1),SITTAB=79-$L(STGPNM)
"RTN","ONCOGEN",135,0)
 S NOS=TOPTAB-$L(PATNAM),NOS=NOS-1 K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOGEN",136,0)
 S ONCONUM=D0,ONCOPA=$P(NODE0,U,2)
"RTN","ONCOGEN",137,0)
 Q
"RTN","ONCOGEN",138,0)
 ;
"RTN","ONCOGEN",139,0)
ESPD ;Exclude sensitive patient data
"RTN","ONCOGEN",140,0)
 N DIR,X
"RTN","ONCOGEN",141,0)
 W !
"RTN","ONCOGEN",142,0)
 S DIR("A")=" Exclude sensitive patient data"
"RTN","ONCOGEN",143,0)
 S DIR(0)="Y",DIR("B")="No" D ^DIR
"RTN","ONCOGEN",144,0)
 S ESPD=Y
"RTN","ONCOGEN",145,0)
 Q
"RTN","ONCOGEN",146,0)
 ;
"RTN","ONCOGEN",147,0)
TASK ;Queue a task
"RTN","ONCOGEN",148,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCOGEN",149,0)
 S ZTRTN="RTN^ONCOGEN"
"RTN","ONCOGEN",150,0)
 S ZTREQ="@",ZTSAVE("ZTREQ")="",ZTSAVE("ONCODA")="",ZTSAVE("PCESEL")=""
"RTN","ONCOGEN",151,0)
 S ZTSAVE("DATEDX")="",ZTSAVE("PCEABS")="",ZTSAVE("ONCOIO")=""
"RTN","ONCOGEN",152,0)
 S ZTSAVE("ONCQ")="",ZTDESC="Print PCE Data"
"RTN","ONCOGEN",153,0)
 D ^%ZTLOAD W !,"Request Queued",!
"RTN","ONCOGEN",154,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCOPA1")
0^30^B51389164
"RTN","ONCOPA1",1,0)
ONCOPA1 ;Hines OIFO/GWB - [PA Print Complete Abstract (132c)]; 08/25/97
"RTN","ONCOPA1",2,0)
 ;;2.11;ONCOLOGY;**13,15,16,18,28,33,34,36,40,41,42,43,44,45,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOPA1",3,0)
 ;Replaces print templates ONCOX1-X11.
"RTN","ONCOPA1",4,0)
 ;
"RTN","ONCOPA1",5,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP EXIT
"RTN","ONCOPA1",6,0)
 I $D(IO("Q")) S ONCOLST="ONCOIEN^PTIEN^STARS^LENGTH^TITLE^PRTPCE^ONCODA^EVADS^ESPD" D TASK G EXIT
"RTN","ONCOPA1",7,0)
 U IO D PRINT D ^%ZISC K %ZIS,IOP G EXIT
"RTN","ONCOPA1",8,0)
 ;
"RTN","ONCOPA1",9,0)
PRINT ;Print
"RTN","ONCOPA1",10,0)
 Q:$G(ONCOIEN)=""
"RTN","ONCOPA1",11,0)
 W @IOF
"RTN","ONCOPA1",12,0)
 S (IEN,D0)=ONCOIEN,PTIEN=$P($G(^ONCO(165.5,IEN,0)),U,2)
"RTN","ONCOPA1",13,0)
 S PG=0,EX="",LINE=$S(IOST?1"C".E:IOSL-2,1:IOSL-6)
"RTN","ONCOPA1",14,0)
 S STARS="******************************************************************************"
"RTN","ONCOPA1",15,0)
 S DATEDX=$P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONCOPA1",16,0)
 D NOW^%DTC S Y=% D DD^%DT S PRTDATE=Y
"RTN","ONCOPA1",17,0)
 K DIQ S DIC="^ONCO(160,",DIQ(0)="C"
"RTN","ONCOPA1",18,0)
 S DR=".111:.131;2;7:10;13;18.9:21;22.9:29;38:44;48;50;51;52;61;55;56"
"RTN","ONCOPA1",19,0)
 S DA=PTIEN,DIQ="ONCAB" D EN^DIQ1
"RTN","ONCOPA1",20,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",21,0)
 S DR=".01:.07;1.2;2:2.4;3;3.5:19;20.1;22:35.1;37:40.2;41;49:59;62:67;70:71.3;74:79;83;85:92;95;100;101;108;117:130;132;133;137:146;200;346;363;363.1;442;443;560;787;50.2;361;623;684;1010;153;153.1;435;149;151;154:157;170;171:192;711:713;809"
"RTN","ONCOPA1",22,0)
 S DA=ONCOIEN,DIQ="ONCAB" D EN^DIQ1
"RTN","ONCOPA1",23,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="IE"
"RTN","ONCOPA1",24,0)
 S DR="29.2;30.2;29.1;31.1;32.1;32;33;34.3;34.4;44.1;44.2;44.3;44.4;44.5;44.6;160;161;162;163;164;165;166;167;168;148:148.4;15;21;25;44;46;47;96;102;159;193;194;195;196;2.2"
"RTN","ONCOPA1",25,0)
 S DA=ONCOIEN,DIQ="ONCAB" D EN^DIQ1
"RTN","ONCOPA1",26,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",27,0)
 S DR="72",DA=ONCOIEN,DR(165.572)=".01;.02;.03;.031;.032",DIQ="ONCAB"
"RTN","ONCOPA1",28,0)
 F SR=0:0 S SR=$O(^ONCO(165.5,IEN,23,SR)) Q:SR'>0  D
"RTN","ONCOPA1",29,0)
 .S DA(165.572)=SR D EN^DIQ1 Q
"RTN","ONCOPA1",30,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",31,0)
 S DR="60",DA=ONCOIEN,DR(165.51)=".01:2;33:37",DIQ="ONCAB"
"RTN","ONCOPA1",32,0)
 F SCT=0:0 S SCT=$O(^ONCO(165.5,IEN,4,SCT)) Q:SCT'>0  D
"RTN","ONCOPA1",33,0)
 .S DA(165.51)=SCT D EN^DIQ1 Q
"RTN","ONCOPA1",34,0)
 K DIQ S DIC="^ONCO(160,",DIQ(0)="C"
"RTN","ONCOPA1",35,0)
 S DR="44",DA=PTIEN,DR(160.044)=".01:1",DIQ="ONCAB"
"RTN","ONCOPA1",36,0)
 F CHST=0:0 S CHST=$O(^ONCO(160,PTIEN,9,CHST)) Q:CHST'>0  D
"RTN","ONCOPA1",37,0)
 .S DA(160.044)=CHST D EN^DIQ1 Q
"RTN","ONCOPA1",38,0)
 I $G(ESPD)=1 D
"RTN","ONCOPA1",39,0)
 .S ONCAB(165.5,IEN,.02)="XXXXX,XXXXX"
"RTN","ONCOPA1",40,0)
 .S ONCAB(160,PTIEN,2)="XXX-XX-XXXX"
"RTN","ONCOPA1",41,0)
 .S ONCAB(160,PTIEN,.119)="XXXXXXXXXX"
"RTN","ONCOPA1",42,0)
 .S $P(ONCAB(160,PTIEN,.116),",",1)="XXXXX"
"RTN","ONCOPA1",43,0)
 .S ONCAB(160,PTIEN,.131)="XXX-XXX-XXXX"
"RTN","ONCOPA1",44,0)
 .S ONCAB(165.5,IEN,8)="XXXXXXXXXX"
"RTN","ONCOPA1",45,0)
 .S ONCAB(165.5,IEN,8.2)="XXXXXXXXXX"
"RTN","ONCOPA1",46,0)
 .S ONCAB(165.5,IEN,8.1)="XXXXX"
"RTN","ONCOPA1",47,0)
 S PATNAME=$G(ONCAB(165.5,IEN,.02)),SSAN=$G(ONCAB(160,PTIEN,2))
"RTN","ONCOPA1",48,0)
 S NAME="CANCER REGISTRY ABSTRACT" D FORMAT
"RTN","ONCOPA1",49,0)
 S CRA=TITLE W !!,TITLE
"RTN","ONCOPA1",50,0)
 W !!?21,$E(ONCAB(165.5,IEN,.03),1,26)
"RTN","ONCOPA1",51,0)
 W "    ACOS #:  ",ONCAB(165.5,IEN,67)
"RTN","ONCOPA1",52,0)
 W ?76,"Print Date:  ",PRTDATE D P Q:EX=U
"RTN","ONCOPA1",53,0)
 W !,"      Patient Name:  ",ONCAB(165.5,IEN,.02),?76,"SSN:  ",ONCAB(160,PTIEN,2) D P Q:EX=U
"RTN","ONCOPA1",54,0)
 S DOB="",VRBLPTR=$P($G(^ONCO(160,PTIEN,0)),U,1) I VRBLPTR'="" D
"RTN","ONCOPA1",55,0)
 .S FILE=U_$P(VRBLPTR,";",2)_$P(VRBLPTR,";",1)_",0)"
"RTN","ONCOPA1",56,0)
 .S Y=$S($D(@FILE):$P(@FILE,U,3),1:"") I Y'="" D DD^%DT S DOB=Y Q
"RTN","ONCOPA1",57,0)
 W !,"      Home Address:  ",ONCAB(160,PTIEN,.119) D P Q:EX=U
"RTN","ONCOPA1",58,0)
 W !,"                     ",ONCAB(160,PTIEN,.116) D P Q:EX=U
"RTN","ONCOPA1",59,0)
 W !,"            County:  ",ONCAB(160,PTIEN,.12) D P Q:EX=U
"RTN","ONCOPA1",60,0)
 W !,"               Sex:  ",$E(ONCAB(160,PTIEN,10),1,14),?44,"Race:  ",$E(ONCAB(160,PTIEN,8),1,21),?76,"Ethnicity:  ",ONCAB(160,PTIEN,9) D P Q:EX=U
"RTN","ONCOPA1",61,0)
 W !,"     Date of Birth:  ",DOB
"RTN","ONCOPA1",62,0)
 W ?38," Age at DX:  ",ONCAB(165.5,IEN,4) D P Q:EX=U
"RTN","ONCOPA1",63,0)
 ;
"RTN","ONCOPA1",64,0)
CI ;Cancer Identification
"RTN","ONCOPA1",65,0)
 S NAME="CANCER IDENTIFICATION" D FORMAT
"RTN","ONCOPA1",66,0)
 W !!,TITLE
"RTN","ONCOPA1",67,0)
 S NODE2=$G(^ONCO(165.5,IEN,2))
"RTN","ONCOPA1",68,0)
 S COC=$P($G(^ONCO(165.5,IEN,0)),U,4)
"RTN","ONCOPA1",69,0)
 W !!,"       Accession Number: ",ONCAB(165.5,IEN,.05),?38,"Accession Year:  ",ONCAB(165.5,IEN,.07),?76,"Sequence Number:  ",ONCAB(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCOPA1",70,0)
 W !,"                    Date Dx: ",ONCAB(165.5,IEN,3) D P Q:EX=U
"RTN","ONCOPA1",71,0)
 I DATEDX>3061231 D
"RTN","ONCOPA1",72,0)
 .W !,"   Ambiguous Terminology Dx: ",ONCAB(165.5,IEN,159,"E") D P Q:EX=U
"RTN","ONCOPA1",73,0)
 .W !,"      Date of Conclusive Dx: ",ONCAB(165.5,IEN,193,"E") D P Q:EX=U
"RTN","ONCOPA1",74,0)
 W !,"                Dx Facility: ",ONCAB(165.5,IEN,5) D P Q:EX=U
"RTN","ONCOPA1",75,0)
 W !,"      Date of First Contact: ",ONCAB(165.5,IEN,155) D P Q:EX=U
"RTN","ONCOPA1",76,0)
 W !,"              Class of Case: ",ONCAB(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCOPA1",77,0)
 I COC=1,$G(EVADS)'="N" D
"RTN","ONCOPA1",78,0)
 .W !,"     Date of First Symptoms: ",ONCAB(165.5,IEN,171) D P Q:EX=U
"RTN","ONCOPA1",79,0)
 .W !,"  Date Start Workup Ordered: ",ONCAB(165.5,IEN,172) D P Q:EX=U
"RTN","ONCOPA1",80,0)
 .W !,"        Date Workup Started: ",ONCAB(165.5,IEN,173) D P Q:EX=U
"RTN","ONCOPA1",81,0)
 W !,"   Type of Reporting Source: ",ONCAB(165.5,IEN,1.2) D P Q:EX=U
"RTN","ONCOPA1",82,0)
 W !,"                    Site/Gp: ",ONCAB(165.5,IEN,.01) D P Q:EX=U
"RTN","ONCOPA1",83,0)
 W !,"          Primary Site Code: ",ONCAB(165.5,IEN,20.1),"  "
"RTN","ONCOPA1",84,0)
 S TOP=$P(NODE2,U,1) I TOP'="" W $P(^ONCO(164,TOP,0),U,1) D P Q:EX=U
"RTN","ONCOPA1",85,0)
 W !,"    Text-Primary Site Title: ",ONCAB(165.5,IEN,100) D P Q:EX=U
"RTN","ONCOPA1",86,0)
 I DATEDX>3061231 D
"RTN","ONCOPA1",87,0)
 .W !,"   Mult Tum Rpt as One Prim: ",ONCAB(165.5,IEN,194,"E") D P Q:EX=U
"RTN","ONCOPA1",88,0)
 .W !,"   Date of Multiple Tumorsm: ",ONCAB(165.5,IEN,195,"E") D P Q:EX=U
"RTN","ONCOPA1",89,0)
 .W !,"       Multiplicity Counter: ",ONCAB(165.5,IEN,196,"E") D P Q:EX=U
"RTN","ONCOPA1",90,0)
 W !,"                 Laterality: ",ONCAB(165.5,IEN,28) D P Q:EX=U
"RTN","ONCOPA1",91,0)
 S HIST=$$HIST^ONCFUNC(IEN)
"RTN","ONCOPA1",92,0)
 W !,"                  Histology: ",ONCAB(165.5,IEN,HSTFLD) D P Q:EX=U
"RTN","ONCOPA1",93,0)
 W !,"       Text-Histology Title: ",ONCAB(165.5,IEN,101) D P Q:EX=U
"RTN","ONCOPA1",94,0)
 W:TOP=67619 !,"            Gleason's Score: ",ONCAB(165.5,IEN,623)
"RTN","ONCOPA1",95,0)
 W:TOP=67619 !,"                        PSA: ",ONCAB(165.5,IEN,684)
"RTN","ONCOPA1",96,0)
 W:TOP=67619 !,"                   PSA Date: ",ONCAB(165.5,IEN,96,"E")
"RTN","ONCOPA1",97,0)
 W:TOP=67619 !,"                    DRE +/-: ",ONCAB(165.5,IEN,102,"E")
"RTN","ONCOPA1",98,0)
 W:TOP=67619 !,"                   DRE Date: ",ONCAB(165.5,IEN,156)
"RTN","ONCOPA1",99,0)
 W !,"       Grade/Diff/Cell Type: ",ONCAB(165.5,IEN,24),"  "
"RTN","ONCOPA1",100,0)
 S GR=$P(NODE2,U,5) I GR'="" W $P(^ONCO(164.43,GR,0),U,2) D P Q:EX=U
"RTN","ONCOPA1",101,0)
 W !,"            AFIP Submission: ",ONCAB(165.5,IEN,83) D P Q:EX=U
"RTN","ONCOPA1",102,0)
 W !,"    Diagnostic Confirmation: ",ONCAB(165.5,IEN,26) D P Q:EX=U
"RTN","ONCOPA1",103,0)
 W:TOP=67220 !,"                Hepatitis C: ",ONCAB(165.5,IEN,1010)
"RTN","ONCOPA1",104,0)
 S TM1=$$PRINT^ONCOTM(IEN,1)
"RTN","ONCOPA1",105,0)
 I TM1["UMOR" S $E(TM1,2,5)="umor" I TM1["ARKER" S $E(TM1,8,12)="arker"
"RTN","ONCOPA1",106,0)
 S TM2=$$PRINT^ONCOTM(IEN,2)
"RTN","ONCOPA1",107,0)
 I TM2["UMOR" S $E(TM2,2,5)="umor" I TM2["ARKER" S $E(TM2,8,12)="arker"
"RTN","ONCOPA1",108,0)
 S TM3=$$PRINT^ONCOTM(IEN,3)
"RTN","ONCOPA1",109,0)
 I TM3["UMOR" S $E(TM3,2,5)="umor" I TM3["ARKER" S $E(TM3,8,12)="arker"
"RTN","ONCOPA1",110,0)
 S LEN=$L(TM1) W !?(27-LEN),TM1,": ",ONCAB(165.5,IEN,25.1) D P Q:EX=U
"RTN","ONCOPA1",111,0)
 S LEN=$L(TM2) W !?(27-LEN),TM2,": ",ONCAB(165.5,IEN,25.2) D P Q:EX=U
"RTN","ONCOPA1",112,0)
 S LEN=$L(TM3) W !?(27-LEN),TM3,": ",ONCAB(165.5,IEN,25.3) D P Q:EX=U
"RTN","ONCOPA1",113,0)
 W !,"         Referring Facility: ",ONCAB(165.5,IEN,6) D P Q:EX=U
"RTN","ONCOPA1",114,0)
 W !,"          Transfer Facility: ",ONCAB(165.5,IEN,7) D P Q:EX=U
"RTN","ONCOPA1",115,0)
 W !,"Presentation at Cancer Conf: ",ONCAB(165.5,IEN,120) D P Q:EX=U
"RTN","ONCOPA1",116,0)
 W !,"  Date of Cancer Conference: ",ONCAB(165.5,IEN,121) D P Q:EX=U
"RTN","ONCOPA1",117,0)
 W !,"         Casefinding Source: ",ONCAB(165.5,IEN,21,"E") ;D P Q:EX=U
"RTN","ONCOPA1",118,0)
 ;
"RTN","ONCOPA1",119,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR Q:'Y  D HDR G PA1A
"RTN","ONCOPA1",120,0)
 D P Q:EX=U
"RTN","ONCOPA1",121,0)
PA1A D ^ONCOPA1A
"RTN","ONCOPA1",122,0)
 ;
"RTN","ONCOPA1",123,0)
EXIT K CHF,CHST,CRA,DOB,DXDT,EX,FHDT,FHIEN,FHZN,FILE,FLG,FM,FOLH,FR,GR
"RTN","ONCOPA1",124,0)
 K HIST,IEN,J,LEN,LENGTH,LINE,NAME,NF,NODE2,NOK,NUM,ONCAB,ONCOIEN,OTHPRI
"RTN","ONCOPA1",125,0)
 K PATNAME,PG,PRTDATE,PRZN,PTIEN,QS,RCDT,SCT,SITE,SR,SSAN,ST,STARS
"RTN","ONCOPA1",126,0)
 K TITLE,TM1,TM2,TM3,TOP,TSTAT,TX,VRBLPTR,VS,XDX,XD1
"RTN","ONCOPA1",127,0)
 Q
"RTN","ONCOPA1",128,0)
P ;
"RTN","ONCOPA1",129,0)
 I $Y>(IOSL-10) D  Q:EX=U  W !
"RTN","ONCOPA1",130,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA1",131,0)
 .D HDR Q
"RTN","ONCOPA1",132,0)
 Q
"RTN","ONCOPA1",133,0)
FORMAT ;
"RTN","ONCOPA1",134,0)
 S LENGTH=$L(NAME),NUM=(((132-LENGTH)/2)\1)-10
"RTN","ONCOPA1",135,0)
 S TITLE="     "_$E(STARS,1,NUM)_"     "_NAME_"     "_$E(STARS,1,NUM)
"RTN","ONCOPA1",136,0)
 Q
"RTN","ONCOPA1",137,0)
TASK ;If report is queued
"RTN","ONCOPA1",138,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCOPA1",139,0)
 S ZTRTN="PRINT^ONCOPA1",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCOPA1",140,0)
 S ZTDESC="Print Complete Abstract"
"RTN","ONCOPA1",141,0)
 F RK=1:1 S RK1=$P(ONCOLST,U,RK) Q:RK1=""  S ZTSAVE(RK1)=""
"RTN","ONCOPA1",142,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Report Queued",!
"RTN","ONCOPA1",143,0)
 K RK,RK1,ONCOLST,ZTSK Q
"RTN","ONCOPA1",144,0)
HDR ;Header
"RTN","ONCOPA1",145,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA1",146,0)
 W CRA,!
"RTN","ONCOPA1",147,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA1",148,0)
 Q
"RTN","ONCOPA1",149,0)
MULT ;Entry point for option ABS...MA...3).
"RTN","ONCOPA1",150,0)
 ;Also called from PCEPRT2^ONCOGEN.
"RTN","ONCOPA1",151,0)
 I $D(IO("Q")) S ONCOLST="ONCOIEN^PTIEN^STARS^LENGTH^TITLE^PRTPCE^ONCODA^EVADS^ESPD" D TASK G EXIT
"RTN","ONCOPA1",152,0)
 U IO D PRINT K %ZIS,IOP G EXIT
"RTN","ONCOPA1",153,0)
 Q
"RTN","ONCOPA1A")
0^25^B35964884
"RTN","ONCOPA1A",1,0)
ONCOPA1A ;Hines OIFO/GWB - PRINT COMPLETE ABSTRACT continued; 08/25/97
"RTN","ONCOPA1A",2,0)
 ;;2.11;ONCOLOGY;**15,19,27,33,34,36,40,44,45,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOPA1A",3,0)
 I COC=1,$E(TOP,3,4)=34,$G(EVADS)'="N" D
"RTN","ONCOPA1A",4,0)
 .W !,"     Blood in Sputum Per Pt: ",ONCAB(165.5,IEN,174.1)," ",ONCAB(165.5,IEN,174) D P Q:EX=U
"RTN","ONCOPA1A",5,0)
 .W !,"                    Dyspnea: ",ONCAB(165.5,IEN,186.1)," ",ONCAB(165.5,IEN,186) D P Q:EX=U
"RTN","ONCOPA1A",6,0)
 .W !,"            Increased Cough: ",ONCAB(165.5,IEN,187.1)," ",ONCAB(165.5,IEN,187) D P Q:EX=U
"RTN","ONCOPA1A",7,0)
 .W !,"                      Fever: ",ONCAB(165.5,IEN,188.1)," ",ONCAB(165.5,IEN,188) D P Q:EX=U
"RTN","ONCOPA1A",8,0)
 .W !,"               Night Sweats: ",ONCAB(165.5,IEN,189.1)," ",ONCAB(165.5,IEN,189) D P Q:EX=U
"RTN","ONCOPA1A",9,0)
 .W !,"         Weight Loss Per Pt: ",ONCAB(165.5,IEN,190) D P Q:EX=U
"RTN","ONCOPA1A",10,0)
 .W !,"                Chest X-ray: ",ONCAB(165.5,IEN,175.1)," ",ONCAB(165.5,IEN,175) D P Q:EX=U
"RTN","ONCOPA1A",11,0)
 .W !,"                    CT Scan: ",ONCAB(165.5,IEN,176.1)," ",ONCAB(165.5,IEN,176) D P Q:EX=U
"RTN","ONCOPA1A",12,0)
 .W !,"               Bronchoscopy: ",ONCAB(165.5,IEN,177.1)," ",ONCAB(165.5,IEN,177) D P Q:EX=U
"RTN","ONCOPA1A",13,0)
 .W !,"            Mediastinoscopy: ",ONCAB(165.5,IEN,178.1)," ",ONCAB(165.5,IEN,178) D P Q:EX=U
"RTN","ONCOPA1A",14,0)
 .W !,"                   PET Scan: ",ONCAB(165.5,IEN,179.1)," ",ONCAB(165.5,IEN,179) D P Q:EX=U
"RTN","ONCOPA1A",15,0)
 I COC=1,($E(TOP,3,4)=18)!(TOP=67199)!(TOP=67209),$G(EVADS)'="N" D
"RTN","ONCOPA1A",16,0)
 .W !,"    Ulcerative Colitis (UC): ",ONCAB(165.5,IEN,191) D P Q:EX=U
"RTN","ONCOPA1A",17,0)
 .W !,"Familial Adenomatous Polyps: ",ONCAB(165.5,IEN,711) D P Q:EX=U
"RTN","ONCOPA1A",18,0)
 .W !,"                      HNPCC: ",ONCAB(165.5,IEN,712) D P Q:EX=U
"RTN","ONCOPA1A",19,0)
 .W !,"            Crohn's Disease: ",ONCAB(165.5,IEN,809) D P Q:EX=U
"RTN","ONCOPA1A",20,0)
 .W !," Inflammatory Bowel Disease: ",ONCAB(165.5,IEN,713) D P Q:EX=U
"RTN","ONCOPA1A",21,0)
 .W !,"            Sporadic Polyps: ",ONCAB(165.5,IEN,192) D P Q:EX=U
"RTN","ONCOPA1A",22,0)
 .W !," Change Bowel Habits Per Pt: ",ONCAB(165.5,IEN,180.1)," ",ONCAB(165.5,IEN,180) D P Q:EX=U
"RTN","ONCOPA1A",23,0)
 .W !,"    Fecal Occult Blood Test: ",ONCAB(165.5,IEN,181.1)," ",ONCAB(165.5,IEN,181) D P Q:EX=U
"RTN","ONCOPA1A",24,0)
 .W !,"               Barium Enema: ",ONCAB(165.5,IEN,182.1)," ",ONCAB(165.5,IEN,182) D P Q:EX=U
"RTN","ONCOPA1A",25,0)
 .W !,"              Sigmoidoscopy: ",ONCAB(165.5,IEN,183.1)," ",ONCAB(165.5,IEN,183) D P Q:EX=U
"RTN","ONCOPA1A",26,0)
 .W !,"                Colonoscopy: ",ONCAB(165.5,IEN,185.1)," ",ONCAB(165.5,IEN,185) D P Q:EX=U
"RTN","ONCOPA1A",27,0)
 .W !,"       CT of Abdomen/Pelvis: ",ONCAB(165.5,IEN,184.1)," ",ONCAB(165.5,IEN,184) D P Q:EX=U
"RTN","ONCOPA1A",28,0)
 .W !,"                   PET Scan: ",ONCAB(165.5,IEN,179.1)," ",ONCAB(165.5,IEN,179) D P Q:EX=U
"RTN","ONCOPA1A",29,0)
 ;
"RTN","ONCOPA1A",30,0)
 S NAME="EXTENT OF DISEASE AT DIAGNOSIS" D FORMAT^ONCOPA1
"RTN","ONCOPA1A",31,0)
 W !!,TITLE
"RTN","ONCOPA1A",32,0)
 W !!,"   TNM Clinical:  ",ONCAB(165.5,IEN,37),?67,"TNM Pathologic:  ",ONCAB(165.5,IEN,89.1) D P Q:EX=U
"RTN","ONCOPA1A",33,0)
 W !,"   Clinical T:  ",$E(ONCAB(165.5,IEN,37.1),1,48),?67,"Pathologic T:  ",$E(ONCAB(165.5,IEN,85),1,48) D P Q:EX=U
"RTN","ONCOPA1A",34,0)
 W !,"   Clinical N:  ",$E(ONCAB(165.5,IEN,37.2),1,48),?67,"Pathologic N:  ",$E(ONCAB(165.5,IEN,86),1,48) D P Q:EX=U
"RTN","ONCOPA1A",35,0)
 W !,"   Clinical M:  ",$E(ONCAB(165.5,IEN,37.3),1,48),?67,"Pathologic M:  ",$E(ONCAB(165.5,IEN,87),1,48) D P Q:EX=U
"RTN","ONCOPA1A",36,0)
 W !,"   Stage Group Clinical:  ",ONCAB(165.5,IEN,38),?67,"Stage Group Pathologic:  ",ONCAB(165.5,IEN,88) D P Q:EX=U
"RTN","ONCOPA1A",37,0)
 W !,"   Staged By (Clin):  ",ONCAB(165.5,IEN,19),?67,"Staged By (Path):  ",ONCAB(165.5,IEN,89) D P Q:EX=U
"RTN","ONCOPA1A",38,0)
 W !,"   Lymphatic Vessel Invasion (L):  ",ONCAB(165.5,IEN,149) D P Q:EX=U
"RTN","ONCOPA1A",39,0)
 W !,"   Venous Invasion (V):  ",ONCAB(165.5,IEN,151) D P Q:EX=U
"RTN","ONCOPA1A",40,0)
 W !,"   Other Staging System:  ",ONCAB(165.5,IEN,39) D P Q:EX=U
"RTN","ONCOPA1A",41,0)
 W !,"   Physician's Stage:  ",ONCAB(165.5,IEN,65),?67,"Physician Staging:  ",ONCAB(165.5,IEN,66) D P Q:EX=U
"RTN","ONCOPA1A",42,0)
 W !,"   TNM Form Assigned:  ",ONCAB(165.5,IEN,25,"E"),?67,"TNM Form Completed:  ",ONCAB(165.5,IEN,44,"E") D P Q:EX=U
"RTN","ONCOPA1A",43,0)
 W !!,"   Tumor Size:  ",ONCAB(165.5,IEN,29) D P Q:EX=U
"RTN","ONCOPA1A",44,0)
 W !,"   Extension:   ",ONCAB(165.5,IEN,30) D P Q:EX=U
"RTN","ONCOPA1A",45,0)
 I $P($G(^ONCO(165.5,IEN,0)),U,16)>2971231 D
"RTN","ONCOPA1A",46,0)
 .S TPX=$P($G(^ONCO(165.5,IEN,2)),U,1) I TPX'=67619 Q
"RTN","ONCOPA1A",47,0)
 .W !,"   Pathologic Extension:  ",ONCAB(165.5,IEN,30.1) D P Q:EX=U
"RTN","ONCOPA1A",48,0)
 W !,"   Lymph Nodes: ",ONCAB(165.5,IEN,31),?67,"Metastasis 1:  ",ONCAB(165.5,IEN,34) D P Q:EX=U
"RTN","ONCOPA1A",49,0)
 W !,"   Regional Nodes Examined:  ",$E(ONCAB(165.5,IEN,33),1,34),?67,"Metastasis 2:  ",ONCAB(165.5,IEN,34.1) D P Q:EX=U
"RTN","ONCOPA1A",50,0)
 W !,"   Regional Nodes Positive:  ",$E(ONCAB(165.5,IEN,32),1,34),?67,"Metastasis 3:  ",ONCAB(165.5,IEN,34.2) D P Q:EX=U
"RTN","ONCOPA1A",51,0)
 W !,"   General Summary Stage:  ",ONCAB(165.5,IEN,35) D P Q:EX=U
"RTN","ONCOPA1A",52,0)
 W !,"   Peripheral Blood Involvement:  ",ONCAB(165.5,IEN,30.5) D P Q:EX=U
"RTN","ONCOPA1A",53,0)
 W !,"   Associated With HIV:  ",ONCAB(165.5,IEN,41) D P Q:EX=U
"RTN","ONCOPA1A",54,0)
 ;
"RTN","ONCOPA1A",55,0)
 I $P($G(^ONCO(165.5,IEN,0)),U,16)<3040000 G FCT
"RTN","ONCOPA1A",56,0)
 S NAME="COLLABORATIVE STAGING" D FORMAT^ONCOPA1
"RTN","ONCOPA1A",57,0)
 W !!,TITLE
"RTN","ONCOPA1A",58,0)
 I $L(ONCAB(165.5,IEN,32,"I"))=1 S ONCAB(165.5,IEN,32,"I")="0"_ONCAB(165.5,IEN,32,"I") D P Q:EX=U
"RTN","ONCOPA1A",59,0)
 I $L(ONCAB(165.5,IEN,33,"I"))=1 S ONCAB(165.5,IEN,33,"I")="0"_ONCAB(165.5,IEN,33,"I") D P Q:EX=U
"RTN","ONCOPA1A",60,0)
 W !," Tumor Size (CS):          ",ONCAB(165.5,IEN,29.2,"I"),?35,"Derived AJJC T:            ",ONCAB(165.5,IEN,160,"E") D P Q:EX=U
"RTN","ONCOPA1A",61,0)
 W !," Extension (CS):            ",ONCAB(165.5,IEN,30.2,"I"),?35,"Derived AJCC T Descriptor: ",ONCAB(165.5,IEN,161,"E") D P Q:EX=U
"RTN","ONCOPA1A",62,0)
 W !," Tumor Size/Ext Eval (CS):   ",ONCAB(165.5,IEN,29.1,"I"),?35,"Derived AJCC N:            ",ONCAB(165.5,IEN,162,"E") D P Q:EX=U
"RTN","ONCOPA1A",63,0)
 W !," Lymph Nodes (CS):          ",ONCAB(165.5,IEN,31.1,"I"),?35,"Derived AJCC N Descriptor: ",ONCAB(165.5,IEN,163,"E") D P Q:EX=U
"RTN","ONCOPA1A",64,0)
 W !," Reg Nodes Eval (CS):        ",ONCAB(165.5,IEN,32.1,"I"),?35,"Derived AJCC M:            ",ONCAB(165.5,IEN,164,"E") D P Q:EX=U
"RTN","ONCOPA1A",65,0)
 W !," Regional Nodes Examined:   ",ONCAB(165.5,IEN,33,"I"),?35,"Derived AJCC M Descriptor: ",ONCAB(165.5,IEN,165,"E") D P Q:EX=U
"RTN","ONCOPA1A",66,0)
 W !," Regional Nodes Positive:   ",ONCAB(165.5,IEN,32,"I"),?35,"Derived AJCC Stage Group:  ",ONCAB(165.5,IEN,166,"E") D P Q:EX=U
"RTN","ONCOPA1A",67,0)
 W !," Mets at DX (CS):           ",ONCAB(165.5,IEN,34.3,"I"),?35,"Derived SS1977:            ",ONCAB(165.5,IEN,167,"E") D P Q:EX=U
"RTN","ONCOPA1A",68,0)
 W !," Mets Eval (CS):             ",ONCAB(165.5,IEN,34.4,"I"),?35,"Derived SS2000:            ",ONCAB(165.5,IEN,168,"E") D P Q:EX=U
"RTN","ONCOPA1A",69,0)
 W !," Site-Specific Factor 1:   ",ONCAB(165.5,IEN,44.1,"I") D P Q:EX=U
"RTN","ONCOPA1A",70,0)
 W !," Site-Specific Factor 2:   ",ONCAB(165.5,IEN,44.2,"I") D P Q:EX=U
"RTN","ONCOPA1A",71,0)
 W !," Site-Specific Factor 3:   ",ONCAB(165.5,IEN,44.3,"I") D P Q:EX=U
"RTN","ONCOPA1A",72,0)
 W !," Site-Specific Factor 4:   ",ONCAB(165.5,IEN,44.4,"I") D P Q:EX=U
"RTN","ONCOPA1A",73,0)
 W !," Site-Specific Factor 5:   ",ONCAB(165.5,IEN,44.5,"I") D P Q:EX=U
"RTN","ONCOPA1A",74,0)
 W !," Site-Specific Factor 6:   ",ONCAB(165.5,IEN,44.6,"I") D P Q:EX=U
"RTN","ONCOPA1A",75,0)
 ;
"RTN","ONCOPA1A",76,0)
FCT I IOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR Q:'Y  D HDR G PA2
"RTN","ONCOPA1A",77,0)
 D P Q:EX=U
"RTN","ONCOPA1A",78,0)
PA2 D ^ONCOPA2
"RTN","ONCOPA1A",79,0)
 ; WILL CALL ONCOPA2 ROUTINE FROM HERE TO CONTINUE...
"RTN","ONCOPA1A",80,0)
 ;
"RTN","ONCOPA1A",81,0)
 Q
"RTN","ONCOPA1A",82,0)
P ;
"RTN","ONCOPA1A",83,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA1A",84,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA1A",85,0)
 .D HDR Q
"RTN","ONCOPA1A",86,0)
 Q
"RTN","ONCOPA1A",87,0)
HDR ; Header
"RTN","ONCOPA1A",88,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA1A",89,0)
 W CRA,!
"RTN","ONCOPA1A",90,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA1A",91,0)
 Q
"RTN","ONCOPA3")
0^33^B32549593
"RTN","ONCOPA3",1,0)
ONCOPA3 ;Hines OIFO/GWB-[PA Print Complete Abstract (132c)]..continued ;05/30/00
"RTN","ONCOPA3",2,0)
 ;;2.11;ONCOLOGY;**13,15,18,25,26,33,34,36,37,44,45,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOPA3",3,0)
 ;
"RTN","ONCOPA3",4,0)
 S NAME="PERSONAL DATA" D FORMAT^ONCOPA1
"RTN","ONCOPA3",5,0)
 W !!,TITLE
"RTN","ONCOPA3",6,0)
 W !!?10,"             Address at Dx: ",ONCAB(165.5,IEN,8)
"RTN","ONCOPA3",7,0)
 W !?10,"      Address at Dx - Supp: ",ONCAB(165.5,IEN,8.2)
"RTN","ONCOPA3",8,0)
 W !?10,"           City/Town at Dx: ",ONCAB(165.5,IEN,8.1),?70,"     Place of Birth: ",ONCAB(160,PTIEN,7) D P Q:EX=U
"RTN","ONCOPA3",9,0)
 W !?10,"               State at Dx: ",ONCAB(165.5,IEN,16),?70,"           Religion: ",$E(ONCAB(160,PTIEN,13),1,14) D P Q:EX=U
"RTN","ONCOPA3",10,0)
 W !?10,"         Postal Code at Dx: ",ONCAB(165.5,IEN,9),?69,"Marital Status at Dx: ",ONCAB(165.5,IEN,11) D P Q:EX=U
"RTN","ONCOPA3",11,0)
 W !?10,"              County at Dx: ",ONCAB(165.5,IEN,10),?70,"Primary Payer at Dx: ",ONCAB(165.5,IEN,18) D P Q:EX=U
"RTN","ONCOPA3",12,0)
 W !?10,"                 Telephone: ",ONCAB(160,PTIEN,.131)
"RTN","ONCOPA3",13,0)
 S NOK=""
"RTN","ONCOPA3",14,0)
 I $D(^ONCO(160,PTIEN,0)) S RCDT=$G(^ONCO(160,PTIEN,0)) I $P(RCDT,";",2)["DPT",$D(^DPT($P(RCDT,";",1),.21)) S NOK=$P(^(.21),U)_" ("_$P(^(.21),U,2)_")"
"RTN","ONCOPA3",15,0)
 I ESPD=1 S NOK="XXXXX,XXXXX"
"RTN","ONCOPA3",16,0)
 W ?70,"        Next of Kin: ",NOK D P Q:EX=U
"RTN","ONCOPA3",17,0)
 W !?10,"           Abstract Status: ",ONCAB(165.5,IEN,91) D P Q:EX=U
"RTN","ONCOPA3",18,0)
 W !?10,"     Date of First Contact: ",ONCAB(165.5,IEN,155) D P Q:EX=U
"RTN","ONCOPA3",19,0)
 W !?10,"       Date Case Completed: ",ONCAB(165.5,IEN,90) D P Q:EX=U
"RTN","ONCOPA3",20,0)
 W !?10,"Elapsed Days to Completion: ",ONCAB(165.5,IEN,157) D P Q:EX=U
"RTN","ONCOPA3",21,0)
 W !?10,"             Abstracted by: ",ONCAB(165.5,IEN,92) D P Q:EX=U
"RTN","ONCOPA3",22,0)
 W !
"RTN","ONCOPA3",23,0)
 W !?1," Previous History of Cancer:  ",ONCAB(165.5,IEN,148,"E") D P Q:EX=U
"RTN","ONCOPA3",24,0)
 W !?1,"                  Cancer #1:  ",ONCAB(165.5,IEN,148.1,"E") D P Q:EX=U
"RTN","ONCOPA3",25,0)
 W !?1,"                  Cancer #2:  ",ONCAB(165.5,IEN,148.2,"E") D P Q:EX=U
"RTN","ONCOPA3",26,0)
 W !?1,"                  Cancer #3:  ",ONCAB(165.5,IEN,148.3,"E") D P Q:EX=U
"RTN","ONCOPA3",27,0)
 W !?1,"                  Cancer #4:  ",ONCAB(165.5,IEN,148.4,"E") D P Q:EX=U
"RTN","ONCOPA3",28,0)
 W !!?7,"Agent Orange Exposure:  ",ONCAB(160,PTIEN,48) D P Q:EX=U
"RTN","ONCOPA3",29,0)
 W !?1,"Ionizing Radiation Exposure:  ",ONCAB(160,PTIEN,50) D P Q:EX=U
"RTN","ONCOPA3",30,0)
 W !?1,"          Chemical Exposure:  ",ONCAB(160,PTIEN,52) D P Q:EX=U
"RTN","ONCOPA3",31,0)
 W !?1,"          Asbestos Exposure:  ",ONCAB(160,PTIEN,61) D P Q:EX=U
"RTN","ONCOPA3",32,0)
 W !?1,"       Persian Gulf Service:  ",ONCAB(160,PTIEN,51) D P Q:EX=U
"RTN","ONCOPA3",33,0)
 W !?1,"        Middle East Service:  ",ONCAB(160,PTIEN,55) D P Q:EX=U
"RTN","ONCOPA3",34,0)
 W !?1,"            Somalia Service:  ",ONCAB(160,PTIEN,56) D P Q:EX=U
"RTN","ONCOPA3",35,0)
 W !!?1,"Comorbidity/Complication  1:  ",ONCAB(160,PTIEN,25) D P Q:EX=U
"RTN","ONCOPA3",36,0)
 W !?1,"Comorbidity/Complication  2:  ",ONCAB(160,PTIEN,25.1) D P Q:EX=U
"RTN","ONCOPA3",37,0)
 W !?1,"Comorbidity/Complication  3:  ",ONCAB(160,PTIEN,25.2) D P Q:EX=U
"RTN","ONCOPA3",38,0)
 W !?1,"Comorbidity/Complication  4:  ",ONCAB(160,PTIEN,25.3) D P Q:EX=U
"RTN","ONCOPA3",39,0)
 W !?1,"Comorbidity/Complication  5:  ",ONCAB(160,PTIEN,25.4) D P Q:EX=U
"RTN","ONCOPA3",40,0)
 W !?1,"Comorbidity/Complication  6:  ",ONCAB(160,PTIEN,25.5) D P Q:EX=U
"RTN","ONCOPA3",41,0)
 W !?1,"Comorbidity/Complication  7:  ",ONCAB(160,PTIEN,25.6) D P Q:EX=U
"RTN","ONCOPA3",42,0)
 W !?1,"Comorbidity/Complication  8:  ",ONCAB(160,PTIEN,25.7) D P Q:EX=U
"RTN","ONCOPA3",43,0)
 W !?1,"Comorbidity/Complication  9:  ",ONCAB(160,PTIEN,25.8) D P Q:EX=U
"RTN","ONCOPA3",44,0)
 W !?1,"Comorbidity/Complication 10:  ",ONCAB(160,PTIEN,25.9) D P Q:EX=U
"RTN","ONCOPA3",45,0)
 S NAME="EMPLOYMENT HISTORY" D FORMAT^ONCOPA1
"RTN","ONCOPA3",46,0)
 W !!,TITLE,!
"RTN","ONCOPA3",47,0)
 I $D(^ONCO(160,PTIEN,7,0)) F OC=0:0 S OC=$O(^ONCO(160,PTIEN,7,OC)) Q:OC'>0  D
"RTN","ONCOPA3",48,0)
 .S OCCP=$P($G(^ONCO(160,PTIEN,7,OC,0)),U,1) I OCCP="" Q
"RTN","ONCOPA3",49,0)
 .W !,"    Occupation:  ",$E($P($G(^LAB(61.6,OCCP,0)),U,1),1,24) D P Q:EX=U
"RTN","ONCOPA3",50,0)
 .W !,"Usual Industry:  ",$E($P($G(^ONCO(160,PTIEN,7,OC,0)),U,4),1,22) D P Q:EX=U
"RTN","ONCOPA3",51,0)
 .W !  D P Q:EX=U 
"RTN","ONCOPA3",52,0)
 S NAME="TOBACCO AND ALCOHOL USAGE" D FORMAT^ONCOPA1
"RTN","ONCOPA3",53,0)
 W !,TITLE
"RTN","ONCOPA3",54,0)
 W !!?15,"  TOBACCO HISTORY:  ",ONCAB(160,PTIEN,38) D P Q:EX=U
"RTN","ONCOPA3",55,0)
 F TBHS=0:0 S TBHS=$O(^ONCO(160,PTIEN,5,TBHS)) Q:TBHS'>0  D
"RTN","ONCOPA3",56,0)
 .S TBZN=$G(^ONCO(160,PTIEN,5,TBHS,0)) S TBTP=$P(TBZN,U,1) I TBTP="" Q
"RTN","ONCOPA3",57,0)
 .W !?3,"Type of Tobacco User:  ",$S(TBTP=1:"CIGARETTE",TBTP=2:"CIGARS",TBTP=3:"PIPE",TBTP=4:"CHEWING TOBACCO",TBTP=5:"SNUFF",TBTP=6:"MARIJUANA",TBTP=7:"MORE THAN 1 TYPE",TBTP=8:"UNKNOWN",1:"")
"RTN","ONCOPA3",58,0)
 .W ?55,"Pack-Years:  ",$S($P(TBZN,U,2)="U":"UNK",1:$P(TBZN,U,2))
"RTN","ONCOPA3",59,0)
 .W ?77,"Year Quit Tobacco Use:  " S Y=$P(TBZN,U,3) W:Y="U" "UNK" I +Y D DD^%DT W Y
"RTN","ONCOPA3",60,0)
 .Q
"RTN","ONCOPA3",61,0)
 W !!?15,"  ALCOHOL HISTORY:  ",ONCAB(160,PTIEN,39) D P Q:EX=U
"RTN","ONCOPA3",62,0)
 F ALHS=0:0 S ALHS=$O(^ONCO(160,PTIEN,6,ALHS)) Q:ALHS'>0  D
"RTN","ONCOPA3",63,0)
 .S ALZN=$G(^ONCO(160,PTIEN,6,ALHS,0)) S ALTP=$P(ALZN,U,1) I ALTP="" Q
"RTN","ONCOPA3",64,0)
 .W !?3,"Type of Alcohol User:  ",$S(ALTP="B":"BEER",ALTP="W":"WINE",ALTP="H":"HARD LIQUOR",ALTP="M":"MODERATE/SOCIAL",ALTP="S":"SERIOUS/HEAVY",ALTP="U":"UNKNOWN",1:"")
"RTN","ONCOPA3",65,0)
 .W ?45,"Years of Alcohol Use:  ",$S($P(ALZN,U,2)="U":"UNK",1:$P(ALZN,U,2))
"RTN","ONCOPA3",66,0)
 .W ?77,"Drinks Per Day:  ",$S($P(ALZN,U,3)="U":"UNK",1:$P(ALZN,U,3))
"RTN","ONCOPA3",67,0)
 .W ?100,"Year Quit Drinking:  " S Y=$P(ALZN,U,4) W:Y="U" "UNK" I +Y D DD^%DT W Y
"RTN","ONCOPA3",68,0)
 .Q
"RTN","ONCOPA3",69,0)
 S CFH=ONCAB(160,PTIEN,43),NAME="CANCER FAMILY HISTORY: "_CFH
"RTN","ONCOPA3",70,0)
 D FORMAT^ONCOPA1 W !!,TITLE,!
"RTN","ONCOPA3",71,0)
 F CHST=0:0 S CHST=$O(ONCAB(160.044,CHST)) Q:CHST'>0  D
"RTN","ONCOPA3",72,0)
 .W !,"   Family member with cancer:  ",ONCAB(160.044,CHST,.01)
"RTN","ONCOPA3",73,0)
 .W ?50,"        Cancer:  ",ONCAB(160.044,CHST,1) D P Q:EX=U
"RTN","ONCOPA3",74,0)
 .Q
"RTN","ONCOPA3",75,0)
 S NAME="PHYSICIAN CONTACTS " D FORMAT^ONCOPA1
"RTN","ONCOPA3",76,0)
 W !!,TITLE
"RTN","ONCOPA3",77,0)
 I DATEDX>3061231 D
"RTN","ONCOPA3",78,0)
 .W !,"    Managing Physician:  ",ONCAB(165.5,IEN,2.2,"E") D P Q:EX=U
"RTN","ONCOPA3",79,0)
 W !,"   Following Physician:  ",ONCAB(165.5,IEN,2.1) D P Q:EX=U
"RTN","ONCOPA3",80,0)
 W !,"       Primary Surgeon:  ",ONCAB(165.5,IEN,2) D P Q:EX=U
"RTN","ONCOPA3",81,0)
 W !,"          Physician #3:  ",ONCAB(165.5,IEN,2.3) D P Q:EX=U
"RTN","ONCOPA3",82,0)
 W !,"          Physician #4:  ",ONCAB(165.5,IEN,2.4) D P Q:EX=U
"RTN","ONCOPA3",83,0)
 W !!,"   QA Selected:  ",ONCAB(165.5,IEN,62) D P Q:EX=U
"RTN","ONCOPA3",84,0)
 W ?25,"   QA Reviewer:  ",ONCAB(165.5,IEN,64.1) D P Q:EX=U
"RTN","ONCOPA3",85,0)
 W ?75,"   QA Date:  ",ONCAB(165.5,IEN,64) D P Q:EX=U
"RTN","ONCOPA3",86,0)
 W ?100,"   QA Review:  ",ONCAB(165.5,IEN,63) D P Q:EX=U
"RTN","ONCOPA3",87,0)
 W !,"   QA Findings: " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,28,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,28,TX,0) D P Q:EX=U
"RTN","ONCOPA3",88,0)
 ;
"RTN","ONCOPA3",89,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR Q:'Y  D HDR G PA3A
"RTN","ONCOPA3",90,0)
 D P Q:EX=U
"RTN","ONCOPA3",91,0)
PA3A D ^ONCOPA3A
"RTN","ONCOPA3",92,0)
 Q
"RTN","ONCOPA3",93,0)
P ;
"RTN","ONCOPA3",94,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA3",95,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA3",96,0)
 .D HDR Q
"RTN","ONCOPA3",97,0)
 Q
"RTN","ONCOPA3",98,0)
HDR ; Header
"RTN","ONCOPA3",99,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA3",100,0)
 W CRA,!
"RTN","ONCOPA3",101,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA3",102,0)
 Q
"RTN","ONCOPMA")
0^31^B20918742
"RTN","ONCOPMA",1,0)
ONCOPMA ;Hines OIFO/GWB - PRINT MULTIPLE ABSTRACTS ;12/13/99
"RTN","ONCOPMA",2,0)
 ;;2.11;ONCOLOGY;**6,25,44,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOPMA",3,0)
EN ;Select Report Type
"RTN","ONCOPMA",4,0)
 K DIR S DIR("A")=" Select Report"
"RTN","ONCOPMA",5,0)
 S DIR(0)="SO^1:QA Abstract;2:Extended Abstract (80c);3:Complete Abstract (132c);4:Incidence Report;5:Print PCE Data"
"RTN","ONCOPMA",6,0)
 D ^DIR
"RTN","ONCOPMA",7,0)
 G EX:Y[U,EX:Y=""
"RTN","ONCOPMA",8,0)
 I Y'=5 S PRINT="PRT"_Y_"^ONCOPMP"
"RTN","ONCOPMA",9,0)
 K DIR
"RTN","ONCOPMA",10,0)
 ;
"RTN","ONCOPMA",11,0)
OP ;Select option
"RTN","ONCOPMA",12,0)
 I Y=5 D PCEPRT2^ONCOGEN Q
"RTN","ONCOPMA",13,0)
 S DIR(0)="SO^1:All abstracts, One PATIENT;2:All abstracts, One SITE/GP;3:All abstracts, One ACCESSION YEAR, One SITE/GP;4:All abstracts, One ACCESSION YEAR;5:Complete Abstracts by DATE DX;6:QA - 10% Complete abstracts"
"RTN","ONCOPMA",14,0)
 S DIR("A")=" Select Option"
"RTN","ONCOPMA",15,0)
 W ! D ^DIR G EX:Y[U,EX:Y=""
"RTN","ONCOPMA",16,0)
 G @Y:Y<4,Y^ONCOPMB
"RTN","ONCOPMA",17,0)
 ;
"RTN","ONCOPMA",18,0)
1 ;[MA Print QA/Multiple Abstracts - 1 All abstracts, One PATIENT]
"RTN","ONCOPMA",19,0)
 W ! S DIC("A")=" Select PATIENT: "
"RTN","ONCOPMA",20,0)
 S DIC="^ONCO(160,",DIC(0)="AEMQ" D ^DIC G EX:Y<0 S ONCOXD1=+Y
"RTN","ONCOPMA",21,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMA",22,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOPMA",23,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMA",24,0)
 I '$D(IO("Q")) D TK1^ONCOPMA G EX
"RTN","ONCOPMA",25,0)
 S ZTRTN="TK1^ONCOPMA"
"RTN","ONCOPMA",26,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMA",27,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMA",28,0)
 S ZTSAVE("ONCOXD1")=""
"RTN","ONCOPMA",29,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMA",30,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMA",31,0)
 S ZTDESC="All abstracts, One PATIENT"
"RTN","ONCOPMA",32,0)
 D ^%ZTLOAD
"RTN","ONCOPMA",33,0)
 G EX
"RTN","ONCOPMA",34,0)
 ;
"RTN","ONCOPMA",35,0)
TK1 S ONCOXD0=0
"RTN","ONCOPMA",36,0)
 F  S ONCOXD0=$O(^ONCO(165.5,"C",ONCOXD1,ONCOXD0)) Q:ONCOXD0'>0  I $$DIV^ONCFUNC(ONCOXD0)=DUZ(2) D  I ONCIOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR Q:'Y
"RTN","ONCOPMA",37,0)
 .S (NUMBER,ONCODA)=ONCOXD0
"RTN","ONCOPMA",38,0)
 .S IOP=ONCOION
"RTN","ONCOPMA",39,0)
 .W @IOF
"RTN","ONCOPMA",40,0)
 .D @PRINT
"RTN","ONCOPMA",41,0)
 .I PRINT["PRT1" D
"RTN","ONCOPMA",42,0)
 ..S IOP=ONCOION
"RTN","ONCOPMA",43,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMA",44,0)
 G EX
"RTN","ONCOPMA",45,0)
 ;
"RTN","ONCOPMA",46,0)
2 ;[MA Print QA/Multiple Abstracts - 2 All Abstracts, One SITE/GP]
"RTN","ONCOPMA",47,0)
 W ! S DIC("A")=" Select SITE/GP: "
"RTN","ONCOPMA",48,0)
 S DIC="^ONCO(164.2,",DIC(0)="AEQM" D ^DIC G EX:Y<0 S ONCOXD1=+Y
"RTN","ONCOPMA",49,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMA",50,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOOUT="" G EX
"RTN","ONCOPMA",51,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMA",52,0)
 I '$D(IO("Q")) D TK2^ONCOPMA G EX
"RTN","ONCOPMA",53,0)
 S ZTRTN="TK2^ONCOPMA"
"RTN","ONCOPMA",54,0)
 S ZTSAVE("ONCOXD1")=""
"RTN","ONCOPMA",55,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMA",56,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMA",57,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMA",58,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMA",59,0)
 S ZTDESC="All Abstracts, One SITE/GP"
"RTN","ONCOPMA",60,0)
 D ^%ZTLOAD G EX
"RTN","ONCOPMA",61,0)
 ;
"RTN","ONCOPMA",62,0)
TK2 S ONCOXD0=0
"RTN","ONCOPMA",63,0)
 F  S ONCOXD0=$O(^ONCO(165.5,"B",ONCOXD1,ONCOXD0)) Q:ONCOXD0'>0  I $$DIV^ONCFUNC(ONCOXD0)=DUZ(2) D  I ONCIOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR Q:'Y  W @IOF
"RTN","ONCOPMA",64,0)
 .S (NUMBER,ONCODA)=ONCOXD0
"RTN","ONCOPMA",65,0)
 .S IOP=ONCOION
"RTN","ONCOPMA",66,0)
 .D @PRINT
"RTN","ONCOPMA",67,0)
 .I PRINT["PRT1" D
"RTN","ONCOPMA",68,0)
 ..S IOP=ONCOION
"RTN","ONCOPMA",69,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMA",70,0)
 G EX
"RTN","ONCOPMA",71,0)
 ;
"RTN","ONCOPMA",72,0)
3 ;[MA Print QA/Multiple Abstracts - 3 All abstracts, One ACCESSION YEAR, One SITE/GP]
"RTN","ONCOPMA",73,0)
 S Y=3 D Y^ONCOST G EX:Y[U
"RTN","ONCOPMA",74,0)
 S DIC("A")=" Select SITE/GP: "
"RTN","ONCOPMA",75,0)
 S DIC(0)="AEQZ",DIC="^ONCO(164.2," D ^DIC G EX:Y<0,EX:Y=U S ONCOXD1=+Y
"RTN","ONCOPMA",76,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMA",77,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOPMA",78,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMA",79,0)
 I '$D(IO("Q")) D TK3^ONCOPMA G EX
"RTN","ONCOPMA",80,0)
 S ZTRTN="TK3^ONCOPMA"
"RTN","ONCOPMA",81,0)
 S ZTSAVE("ONCOXD1")=""
"RTN","ONCOPMA",82,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMA",83,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMA",84,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMA",85,0)
 S ZTSAVE("ONCOS*")=""
"RTN","ONCOPMA",86,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMA",87,0)
 S ZTDESC="All abstracts, One ACCESSION YEAR, One SITE/GP"
"RTN","ONCOPMA",88,0)
 D ^%ZTLOAD G EX
"RTN","ONCOPMA",89,0)
 ;
"RTN","ONCOPMA",90,0)
TK3 N ONCOXD0 S ONCOXD0=0
"RTN","ONCOPMA",91,0)
 N ONCOSYR S ONCOSYR=+ONCOS("YR")
"RTN","ONCOPMA",92,0)
 F  S ONCOXD0=$O(^ONCO(165.5,"AY",ONCOSYR,ONCOXD0)) Q:ONCOXD0'>0  I $$DIV^ONCFUNC(ONCOXD0)=DUZ(2),$P(^ONCO(165.5,ONCOXD0,0),U)=ONCOXD1 D  I ONCIOST?1"C".E W ! D ^DIR Q:'Y  W @IOF
"RTN","ONCOPMA",93,0)
 .S (NUMBER,ONCODA)=ONCOXD0
"RTN","ONCOPMA",94,0)
 .S IOP=ONCOION
"RTN","ONCOPMA",95,0)
 .D @PRINT
"RTN","ONCOPMA",96,0)
 .I ONCIOST?1"C".E K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit"
"RTN","ONCOPMA",97,0)
 .I PRINT["PRT1" D
"RTN","ONCOPMA",98,0)
 ..S IOP=ONCOION
"RTN","ONCOPMA",99,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMA",100,0)
 G EX
"RTN","ONCOPMA",101,0)
 ;
"RTN","ONCOPMA",102,0)
EX ;EXIT
"RTN","ONCOPMA",103,0)
 K ONCOION,ONCIOST,ONCOXD0,ONCOXD1,ONCODA,ONCOS
"RTN","ONCOPMA",104,0)
 K DIOEND,FR,TO,BY,L,^TMP("ONCO",$J)
"RTN","ONCOPMA",105,0)
 K DIC,DIR,B,NUMBER,O2,OG,OP,OT,OS,P,PRINT,TX,TY
"RTN","ONCOPMA",106,0)
 D ^%ZISC
"RTN","ONCOPMA",107,0)
 Q
"RTN","ONCOPMB")
0^32^B23741129
"RTN","ONCOPMB",1,0)
ONCOPMB ;Himes OIFO/GWB - ONCOPMA continued ;12/14/99
"RTN","ONCOPMB",2,0)
 ;;2.11;ONCOLOGY;**11,23,25,44,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOPMB",3,0)
Y G @Y ;set from ONCOPMA
"RTN","ONCOPMB",4,0)
4 ;[MA Print QA/Multiple Abstracts - 4 All abstracts, 1 year]
"RTN","ONCOPMB",5,0)
 S Y=3 D Y^ONCOST G EX:Y[U
"RTN","ONCOPMB",6,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMB",7,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOOUT="" G EX
"RTN","ONCOPMB",8,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMB",9,0)
 I '$D(IO("Q")) D TK4^ONCOPMB G EX
"RTN","ONCOPMB",10,0)
 S ZTRTN="TK4^ONCOPMB"
"RTN","ONCOPMB",11,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMB",12,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMB",13,0)
 S ZTSAVE("ONCOS*")=""
"RTN","ONCOPMB",14,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMB",15,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMB",16,0)
 S ZTDESC="ALL ABSTRACTS for 19"_+ONCOS("YR")
"RTN","ONCOPMB",17,0)
 D ^%ZTLOAD
"RTN","ONCOPMB",18,0)
 G EX
"RTN","ONCOPMB",19,0)
 ;
"RTN","ONCOPMB",20,0)
TK4 N ONCOYEAR S ONCOXD0=0,ONCOYEAR=+ONCOS("YR")
"RTN","ONCOPMB",21,0)
 F  S ONCOXD0=$O(^ONCO(165.5,"AY",ONCOYEAR,ONCOXD0)) Q:ONCOXD0'>0  I $$DIV^ONCFUNC(ONCOXD0)=DUZ(2) D  I ONCIOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR Q:'Y
"RTN","ONCOPMB",22,0)
 .S (NUMBER,ONCODA)=ONCOXD0
"RTN","ONCOPMB",23,0)
 .S IOP=ONCOION
"RTN","ONCOPMB",24,0)
 .S DIOBEG="W @IOF"
"RTN","ONCOPMB",25,0)
 .D @PRINT
"RTN","ONCOPMB",26,0)
 .I PRINT["PRT1" D
"RTN","ONCOPMB",27,0)
 ..S IOP=ONCOION
"RTN","ONCOPMB",28,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMB",29,0)
 G EX
"RTN","ONCOPMB",30,0)
 ;
"RTN","ONCOPMB",31,0)
5 ;[MA Print QA/Multiple Abstracts - 5 Abstracts by DATE DX]
"RTN","ONCOPMB",32,0)
 W !
"RTN","ONCOPMB",33,0)
 S BDT=$O(^ONCO(165.5,"ADX",0))
"RTN","ONCOPMB",34,0)
 S DIR(0)="D^"_BDT_":DT:EX",DIR("A")=" Start, DATE DX" D ^DIR
"RTN","ONCOPMB",35,0)
 G EX:Y[U!(Y="")
"RTN","ONCOPMB",36,0)
 S ONCOD(1)=Y
"RTN","ONCOPMB",37,0)
 S DIR("A")="   End, DATE DX" D ^DIR
"RTN","ONCOPMB",38,0)
 G EX:Y[U
"RTN","ONCOPMB",39,0)
 S ONCOD(2)=Y
"RTN","ONCOPMB",40,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMB",41,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOPMB",42,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMB",43,0)
 I '$D(IO("Q")) D TK5^ONCOPMB G EX
"RTN","ONCOPMB",44,0)
 S ZTRTN="TK5^ONCOPMB"
"RTN","ONCOPMB",45,0)
 S ZTSAVE("ONCOD*")=""
"RTN","ONCOPMB",46,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMB",47,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMB",48,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMB",49,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMB",50,0)
 S ZTDESC="ABSTRACTS BY DXDT"
"RTN","ONCOPMB",51,0)
 D ^%ZTLOAD
"RTN","ONCOPMB",52,0)
 G EX
"RTN","ONCOPMB",53,0)
 ;
"RTN","ONCOPMB",54,0)
TK5 S XDT=ONCOD(1)-1
"RTN","ONCOPMB",55,0)
 S OUT=1
"RTN","ONCOPMB",56,0)
 F  S XDT=$O(^ONCO(165.5,"ADX",XDT)) Q:XDT=""  Q:XDT>ONCOD(2)  D  G:'OUT EX
"RTN","ONCOPMB",57,0)
 .S PIEN=0
"RTN","ONCOPMB",58,0)
 .F  S PIEN=$O(^ONCO(165.5,"ADX",XDT,PIEN)) Q:PIEN=""  I $$DIV^ONCFUNC(PIEN)=DUZ(2),$P($G(^ONCO(165.5,PIEN,7)),U,2)=3 D  I ONCIOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR S OUT=Y Q:'OUT
"RTN","ONCOPMB",59,0)
 ..S (NUMBER,ONCODA)=PIEN
"RTN","ONCOPMB",60,0)
 ..S IOP=ONCOION
"RTN","ONCOPMB",61,0)
 ..D @PRINT
"RTN","ONCOPMB",62,0)
 ..I PRINT["PRT1" D
"RTN","ONCOPMB",63,0)
 ...S IOP=ONCOION
"RTN","ONCOPMB",64,0)
 ...D 8^ONCOPMP
"RTN","ONCOPMB",65,0)
 G EX
"RTN","ONCOPMB",66,0)
 ;
"RTN","ONCOPMB",67,0)
6 ;[MA Print QA/Multiple Abstracts - 6 QA-10% Completed abstracts]
"RTN","ONCOPMB",68,0)
 I '$D(^ONCO(160.1,"AD")) W !!?10,"Define an AUTHORIZED QA USER in the ONCOLOGY SITE PARAMETERS file" G EX
"RTN","ONCOPMB",69,0)
 I '$D(^ONCO(160.1,"AD",DUZ)) W !!?10,"Not an AUTHORIZED QA USER" G EX
"RTN","ONCOPMB",70,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMB",71,0)
 W !
"RTN","ONCOPMB",72,0)
 S BDT=$O(^ONCO(165.5,"AAD",0))
"RTN","ONCOPMB",73,0)
 S DIR(0)="D^"_BDT_":DT:EX",DIR("A")=" Start, DATE CASE COMPLETED" D ^DIR
"RTN","ONCOPMB",74,0)
 G EX:Y[U!(Y="")
"RTN","ONCOPMB",75,0)
 S ONCOD(1)=Y
"RTN","ONCOPMB",76,0)
 S DIR("A")="   End, DATE CASE COMPLETED" D ^DIR
"RTN","ONCOPMB",77,0)
 G EX:Y[U!(Y="")
"RTN","ONCOPMB",78,0)
 S ONCOD(2)=Y
"RTN","ONCOPMB",79,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOPMB",80,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMB",81,0)
 I '$D(IO("Q")) D TK6^ONCOPMB G EX
"RTN","ONCOPMB",82,0)
 S ZTRTN="TK6^ONCOPMB"
"RTN","ONCOPMB",83,0)
 S ZTSAVE("ONCOD*")=""
"RTN","ONCOPMB",84,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMB",85,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMB",86,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMB",87,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMB",88,0)
 S ZTDESC="ABSTRACTS BY DXDT"
"RTN","ONCOPMB",89,0)
 D ^%ZTLOAD
"RTN","ONCOPMB",90,0)
 G EX
"RTN","ONCOPMB",91,0)
 ;
"RTN","ONCOPMB",92,0)
TK6 K ^TMP("ONCO",$J) S T=0,XDT=ONCOD(1)
"RTN","ONCOPMB",93,0)
 F  S XDT=$O(^ONCO(165.5,"AAD",XDT)) Q:XDT=""  Q:XDT>ONCOD(2)  D
"RTN","ONCOPMB",94,0)
 .S XD0=0 F  S XD0=$O(^ONCO(165.5,"AAD",XDT,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2),$P($G(^ONCO(165.5,XD0,0)),U,4)<3 S N7=$G(^ONCO(165.5,XD0,7)) I $P(N7,U,2)=3 D
"RTN","ONCOPMB",95,0)
 ..S QA=+$P(N7,U,4) I QA="Y",$P(N7,U,9)'="" Q
"RTN","ONCOPMB",96,0)
 ..S T=T+1,^TMP("ONCO",$J,T)=XD0,ONCO(T)=XD0 Q
"RTN","ONCOPMB",97,0)
 G EX:T=0 S QA=(.1*T) I QA["." S QA=$J(QA,$L(QA)-2,0)
"RTN","ONCOPMB",98,0)
 G EX:QA=0
"RTN","ONCOPMB",99,0)
 S ONCOQA=QA,ONCOTT=T,ONCOST=$P(^ONCO(160.1,0),U,3)
"RTN","ONCOPMB",100,0)
 K ^(ONCOST,"QA")
"RTN","ONCOPMB",101,0)
 S ^ONCO(160.1,ONCOST,"QA")=ONCOD(1)_U_ONCOD(2)
"RTN","ONCOPMB",102,0)
 F ONCOQ=1:1 D  Q:ONCOQ=ONCOQA  I ONCIOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR Q:'Y
"RTN","ONCOPMB",103,0)
 .S XDN=$R(ONCOTT+1)
"RTN","ONCOPMB",104,0)
 .I XDN D
"RTN","ONCOPMB",105,0)
 ..S (NUMBER,ONCODA)=^TMP("ONCO",$J,XDN)
"RTN","ONCOPMB",106,0)
 ..S XD0=$P(^ONCO(165.5,ONCODA,0),U,2),IOP=ONCOION
"RTN","ONCOPMB",107,0)
 ..S $P(^ONCO(165.5,ONCODA,7),U,4)="Y"
"RTN","ONCOPMB",108,0)
 ..D PID^ONCOCOM,@PRINT
"RTN","ONCOPMB",109,0)
 ..S ^ONCO(160.1,ONCOST,"QA",ONCOQ)=ONCOPID
"RTN","ONCOPMB",110,0)
 ..S $P(^ONCO(160.1,ONCOST,"QA"),U,3)=ONCOTT,IOP=ONCOION
"RTN","ONCOPMB",111,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMB",112,0)
 ;
"RTN","ONCOPMB",113,0)
EX ;EXIT
"RTN","ONCOPMB",114,0)
 K ONCOION,ONCIOST,ONCOD,ONCOXD0,ONCOXD1,ONCOQ,ONCOQA,ONCOTT,ONCOS,ONCOYR
"RTN","ONCOPMB",115,0)
 K T,ONCODA,ONCOS,DIOEND,DIC,DIR,FR,TO,BY,L,N7,^TMP("ONCO",$J)
"RTN","ONCOPMB",116,0)
 D ^%ZISC
"RTN","ONCOPMB",117,0)
 Q
"RTN","ONCOPMP")
0^34^B3059088
"RTN","ONCOPMP",1,0)
ONCOPMP ;Hines OIFO/GWB - PRINT MULTIPLE ABSTRACTS ;12/16/99
"RTN","ONCOPMP",2,0)
 ;;2.11;ONCOLOGY;**13,23,25,39,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOPMP",3,0)
 ;
"RTN","ONCOPMP",4,0)
PRT1 ;QA ABSTRACT
"RTN","ONCOPMP",5,0)
 S FLDS="[ONCQA]",(FR,TO)=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0
"RTN","ONCOPMP",6,0)
 D EN1^DIP
"RTN","ONCOPMP",7,0)
 Q
"RTN","ONCOPMP",8,0)
 ;
"RTN","ONCOPMP",9,0)
PRT2 ;SET VARIABLES AND @PRINT
"RTN","ONCOPMP",10,0)
 K DXS S DIOEND="S DN=1,D0=ONCODA F XI=50:1:58 K DXS D @(""^ONCOY""_XI)"
"RTN","ONCOPMP",11,0)
 S FLDS="[ONCOY49]",FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0 D EN1^DIP
"RTN","ONCOPMP",12,0)
 Q
"RTN","ONCOPMP",13,0)
PRT3 ;Report 3
"RTN","ONCOPMP",14,0)
 S ONCOIEN=ONCODA D MULT^ONCOPA1
"RTN","ONCOPMP",15,0)
 ; K DXS S DIOEND="S DN=1,D0=ONCODA F XI=2:1:11 K DXS D @(""^ONCOX""_XI) K DXS"
"RTN","ONCOPMP",16,0)
 ; S FLDS="[ONCOX1]",FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0 D EN1^DIP
"RTN","ONCOPMP",17,0)
 Q
"RTN","ONCOPMP",18,0)
 ;
"RTN","ONCOPMP",19,0)
PRT4 ;Report 4
"RTN","ONCOPMP",20,0)
 N XD0
"RTN","ONCOPMP",21,0)
 S FLDS="[ONCO XINCIDENCE RPRT]",(FR,TO)=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0 D EN1^DIP
"RTN","ONCOPMP",22,0)
 Q
"RTN","ONCOPMP",23,0)
 ;
"RTN","ONCOPMP",24,0)
 ;QA FORM
"RTN","ONCOPMP",25,0)
8 S DIWF=$S($G(ESPD)=1:"^ONCO(160.2,9,1,",1:"^ONCO(160.2,8,1,")
"RTN","ONCOPMP",26,0)
 S DIWF(1)="165.5",BY="NUMBER",(FR,TO)=ONCODA S TMPIO=IO W !! D EN2^DIWF S IOP=ONCOION D ^%ZIS
"RTN","ONCOPMP",27,0)
 Q
"RTN","ONCOPMP",28,0)
 ;
"RTN","ONCOPMP",29,0)
CK ;Check entry TO PREVENT DELETION
"RTN","ONCOPMP",30,0)
 I DUZ=231,DUZ(2)=10688 Q  ;    package developer can kill
"RTN","ONCOPMP",31,0)
 I DA>3 K ^ONCO(160.2,"B",$E(X,1,30),DA) Q
"RTN","ONCOPMP",32,0)
 W !!?5,"CANNOT DELETE THIS ENTRY" ;TO prevent deletion of exported entries.
"RTN","ONCOPMP",33,0)
H G ^XUSCLEAN ;HALT
"RTN","ONCOPMP",34,0)
 Q
"RTN","ONCOPMP",35,0)
EX ;EXIT
"RTN","ONCOPMP",36,0)
 K DIC,DIR,ONCOXD0,ONCOXD1,ONCOS,DIOEND,FR,TO,BY,L,^TMP("ONCO",$J)
"RTN","ONCOPMP",37,0)
 D ^%ZISC
"RTN","ONCOPMP",38,0)
 Q
"RTN","ONCOTN")
0^23^B72346345
"RTN","ONCOTN",1,0)
ONCOTN ;Hines OIFO/GWB - TNM Staging ;9/27/93
"RTN","ONCOTN",2,0)
 ;;2.11;ONCOLOGY;**1,3,6,7,11,15,19,22,25,28,29,35,36,37,41,42,43,44,46,47**;Mar 07, 1995;Build 19
"RTN","ONCOTN",3,0)
 S DATEDX=$P(^ONCO(165.5,D0,0),U,16)
"RTN","ONCOTN",4,0)
 N YR S YR=$E(DATEDX,1,3)
"RTN","ONCOTN",5,0)
 S ONCED=$S(YR<283:1,YR<288:2,YR<292:3,YR<298:4,YR<303:5,1:6)
"RTN","ONCOTN",6,0)
 S S=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOTN",7,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",8,0)
 I T="" W !!?5,"PRIMARY SITE not defined.",! S Y=20 Q
"RTN","ONCOTN",9,0)
 S H=$$HIST^ONCFUNC(D0)
"RTN","ONCOTN",10,0)
 S Y=69
"RTN","ONCOTN",11,0)
 ;
"RTN","ONCOTN",12,0)
 ;Mycosis fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCOTN",13,0)
 I (H=97003)!(H=97013),($E(T,3,4)=44)!($E(T,3,4)=51)!($E(T,3,4)=60)!(T=67632),ONCED>5 Q
"RTN","ONCOTN",14,0)
 ;
"RTN","ONCOTN",15,0)
 I (S=62)!($$LYMPHOMA^ONCFUNC(D0)) D  S Y="@376" Q
"RTN","ONCOTN",16,0)
 .W !!?3,"No TNM classification is available for Lymphoid Neoplasms.",!
"RTN","ONCOTN",17,0)
 .D CTNM88,PTNM88
"RTN","ONCOTN",18,0)
 ;
"RTN","ONCOTN",19,0)
 I (T=67301)!(T=67339)!(T=67379)!($E(T,1,4)=6739)!(T=67630)!(T=67631)!(T=67637)!(T=67638)!(T=67639)!(T=67691)!($E(T,1,4)=6774)!(T=67750)!(T=67754)!(T=67755)!(T=67758)!(T=67759)!($E(T,1,4)=6776)!($E(T,1,4)=6726) D  S Y="@313" Q
"RTN","ONCOTN",20,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",21,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",22,0)
 ;
"RTN","ONCOTN",23,0)
 I (T=67254)!(T=67312)!(T=67313)!(T=67318)!(T=67319) D  S Y="@313" Q
"RTN","ONCOTN",24,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",25,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",26,0)
 ;
"RTN","ONCOTN",27,0)
 I ONCED>5,$$MELANOMA^ONCOU55(D0),($E(T,3,4)=44)!($E(T,3,4)=51)!($E(T,3,4)=60)!(T=67632),(H=87233)!(H=87283)!(H=87303)!(H=87403)!(H=87412)!(H=87413)!(H=87463)!(H=87703)!(H=87733)!(H=87743)!(H=87422) D  S Y="@313" Q
"RTN","ONCOTN",28,0)
 .W !!?1,"Histology ",$E(H,1,4)_"/"_$E(H,5)," is not appropriate for or relevant to the staging of melanoma.",!
"RTN","ONCOTN",29,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",30,0)
 ;
"RTN","ONCOTN",31,0)
 I ONCED>5,(T=67140)!(T=67142)!(T=67148) D   S Y="@313" Q 
"RTN","ONCOTN",32,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",33,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",34,0)
 ;
"RTN","ONCOTN",35,0)
 I (T=67250)!($E(T,1,4)=6715)!($E(T,1,4)=6716)!($E(T,1,4)=6717)!($E(T,1,4)=6718),$E(H,1,4)=8936,ONCED>5 D   S Y="@313" Q 
"RTN","ONCOTN",36,0)
 .W !!," No TNM coding/staging available for GASTROINTESTINAL STROMA of ",$S($E(T,1,4)=6715:"ESOPHAGUS",$E(T,1,4)=6716:"STOMACH",$E(T,1,4)=6717:"SMALL INTESTINE",$E(T,1,4)=6718:"COLON",T=67250:"PANCREAS, HEAD",1:""),".",!
"RTN","ONCOTN",37,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",38,0)
 ;
"RTN","ONCOTN",39,0)
 I (T=67199)!(T=67209)!($E(T,3,4)=18)!($E(T,3,4)=21)!($E(T,3,4)=16)!($E(T,3,4)=17)!(T=67239)!($E(T,3,4)=24)!($E(T,3,4)=25),($E(H,1,4)=8240)!($E(H,1,4)=8241)!($E(H,1,4)=8242)!($E(H,1,4)=8243)!($E(H,1,4)=8249)!($E(H,1,4)=9091) D   S Y="@313" Q 
"RTN","ONCOTN",40,0)
 .W !!?3,"No TNM coding/staging is available for carcinoid tumors" D
"RTN","ONCOTN",41,0)
 ..I ($E(T,3,4)=16)!($E(T,3,4)=17)!($E(T,3,4)=18)!($E(T,3,4)=21)!(T=67239)!($E(T,3,4)=24)!(T=67241)!($E(T,3,4)=25) W !?3,"of the ",$P($G(^ONCO(164,T,0)),U,1),"."
"RTN","ONCOTN",42,0)
 ..W !
"RTN","ONCOTN",43,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",44,0)
 ;
"RTN","ONCOTN",45,0)
 I $E(T,1,4)=6734 D ^ONCLNG,^ONCLNG1 I $D(ONCLUNG(H)) D   S Y="@313" Q 
"RTN","ONCOTN",46,0)
 .W !!?3,"No TNM coding/staging available for sarcomas and rare tumors of the lung.",!
"RTN","ONCOTN",47,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",48,0)
 .K ONCLUNG
"RTN","ONCOTN",49,0)
 K ONCLUNG
"RTN","ONCOTN",50,0)
 ;
"RTN","ONCOTN",51,0)
 I (T=67380)!(T=67381)!(T=67382)!(T=67383)!(T=67388)!($E(T,1,4)=6747)!($E(T,1,4)=6748)!($E(T,1,4)=6749),(H=91203)!(H=89903) D   S Y="@313" Q 
"RTN","ONCOTN",52,0)
 .W !!?3,"No TNM coding/staging available for angiosarcoma or malignant mesenchymoma.",! D
"RTN","ONCOTN",53,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",54,0)
 ;
"RTN","ONCOTN",55,0)
 ;Fallopian Tube (C57.0)
"RTN","ONCOTN",56,0)
 ;Other/unspecified female genitalia (C57.1-C57.9)
"RTN","ONCOTN",57,0)
 I ((T=67570)&(ONCED<5))!(($E(T,1,4)=6757)&(T'=67570)) D  S Y="@313" Q
"RTN","ONCOTN",58,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",59,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",60,0)
 ;
"RTN","ONCOTN",61,0)
 ;Paraurethral gland (C68.1)
"RTN","ONCOTN",62,0)
 ;Overlapping lesion of urinary organs (C68.8)
"RTN","ONCOTN",63,0)
 ;Urinary system, NOS (C68.9)
"RTN","ONCOTN",64,0)
 I ONCED>5,((T=67681)!(T=67688)!(T=67689)) D  S Y="@313" Q
"RTN","ONCOTN",65,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",66,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",67,0)
 ;
"RTN","ONCOTN",68,0)
 ;Melanoma of the Eyelid
"RTN","ONCOTN",69,0)
 I ONCED<5,T=67441,$$MELANOMA^ONCOU55(D0) D  S Y=37.2 Q
"RTN","ONCOTN",70,0)
 .W !!?3,"No classification is recommended at present.",!
"RTN","ONCOTN",71,0)
 .S $P(^ONCO(165.5,D0,2),U,25)=88
"RTN","ONCOTN",72,0)
 .W !,"CLINICAL T: T88 NA"
"RTN","ONCOTN",73,0)
 ;
"RTN","ONCOTN",74,0)
 ;Brain and Spinal Cord
"RTN","ONCOTN",75,0)
 I ONCED>4,(T=67700)!(T=67701)!(T=67709)!(T=67751)!(T=67752)!(T=67753)!($E(T,3,4)=71)!($E(T,3,4)=72) D  S Y="@313" Q
"RTN","ONCOTN",76,0)
 .W !!?3,"Central Nervous System Tumors have no TNM designation.",!
"RTN","ONCOTN",77,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",78,0)
 ;
"RTN","ONCOTN",79,0)
 ;Kaposi's sarcoma
"RTN","ONCOTN",80,0)
 I H=91403 D  S Y="@313" Q
"RTN","ONCOTN",81,0)
 .W !!?3,"No TNM classification or staging is available for Kaposi's sarcoma.",!
"RTN","ONCOTN",82,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",83,0)
 ;
"RTN","ONCOTN",84,0)
 I $P(^ONCO(164,T,0),U,11)="" D  S Y="@313" Q
"RTN","ONCOTN",85,0)
 .W !!?3,"No stage grouping is presently recommended.",!
"RTN","ONCOTN",86,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",87,0)
 Q
"RTN","ONCOTN",88,0)
 ;
"RTN","ONCOTN",89,0)
CN2 ;GTT - clinical
"RTN","ONCOTN",90,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",91,0)
 I T=67589 D  S Y=37.3 Q
"RTN","ONCOTN",92,0)
 .W !!,"  Regional lymph node (N) classification does not apply to these tumors.",!
"RTN","ONCOTN",93,0)
 .S $P(^ONCO(165.5,D0,2),U,26)=88
"RTN","ONCOTN",94,0)
 .W !,"CLINICAL N: N88 NA"
"RTN","ONCOTN",95,0)
 Q
"RTN","ONCOTN",96,0)
 ;
"RTN","ONCOTN",97,0)
CN4 ;GTT - pathologic
"RTN","ONCOTN",98,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",99,0)
 I T=67589 D  S Y=87 Q
"RTN","ONCOTN",100,0)
 .W !!,"   Regional lymph node (N) classification does not apply to these tumors.",!
"RTN","ONCOTN",101,0)
 .S $P(^ONCO(165.5,D0,2.1),U,2)=88
"RTN","ONCOTN",102,0)
 .W !,"PATHOLOGIC N: N88 NA"
"RTN","ONCOTN",103,0)
 Q
"RTN","ONCOTN",104,0)
 ;
"RTN","ONCOTN",105,0)
CN5 ;GTT - other
"RTN","ONCOTN",106,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",107,0)
 I T=67589 D  S Y=99 Q
"RTN","ONCOTN",108,0)
 .W !!,"   Regional lymph node (N) classification does not apply to these tumors.",!
"RTN","ONCOTN",109,0)
 .S $P(^ONCO(165.5,D0,2.1),U,7)=88
"RTN","ONCOTN",110,0)
 .W !,"OTHER N: N88 NA"
"RTN","ONCOTN",111,0)
 Q
"RTN","ONCOTN",112,0)
 ;
"RTN","ONCOTN",113,0)
RECN ;GTT - Subsequent Recurrences - other
"RTN","ONCOTN",114,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",115,0)
 I T=67589 D  S Y=3 Q
"RTN","ONCOTN",116,0)
 .W !!,"   Regional lymph node (N) classification does not apply to these tumors.",!
"RTN","ONCOTN",117,0)
 .S $P(^ONCO(165.5,D0,23,D1,0),U,8)=88
"RTN","ONCOTN",118,0)
 .W !,"OTHER N: N88 NA"
"RTN","ONCOTN",119,0)
 Q
"RTN","ONCOTN",120,0)
 ;
"RTN","ONCOTN",121,0)
ES ;Automatic Staging
"RTN","ONCOTN",122,0)
 N YR S YR=$E($P($G(^ONCO(165.5,D0,0)),U,16),1,3)
"RTN","ONCOTN",123,0)
 S ONCED=$S(YR<283:1,YR<288:2,YR<292:3,YR<298:4,YR<303:5,1:6)
"RTN","ONCOTN",124,0)
 I ONCED<3 D  Q
"RTN","ONCOTN",125,0)
 .W !!,"DATE DX prior to 1988.  Automatic staging unavailable.",!
"RTN","ONCOTN",126,0)
 S STGTYP=$S(STGIND="C":"CLINICAL",STGIND="P":"PATHOLOGIC",STGIND="O":"OTHER",STGIND="R":"RECURRENCE",1:"")
"RTN","ONCOTN",127,0)
 S XX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTN",128,0)
 G EX:XX=""
"RTN","ONCOTN",129,0)
 S ST=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOTN",130,0)
 S G=$P(^ONCO(165.5,D0,2),U,5)
"RTN","ONCOTN",131,0)
 S TX=$P(^ONCO(165.5,D0,2),U,1)
"RTN","ONCOTN",132,0)
 S HT=$$HIST^ONCFUNC(D0)
"RTN","ONCOTN",133,0)
 S SP=$P($G(^ONCO(164,+TX,0)),U,11)
"RTN","ONCOTN",134,0)
 I STGIND="C" D
"RTN","ONCOTN",135,0)
 .S XXX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTN",136,0)
 .S T=$P(XXX,U,25)
"RTN","ONCOTN",137,0)
 .S N=$P(XXX,U,26)
"RTN","ONCOTN",138,0)
 .S M=$P(XXX,U,27)
"RTN","ONCOTN",139,0)
 I STGIND="P" D
"RTN","ONCOTN",140,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTN",141,0)
 .S T=$P(XXX,U,1)
"RTN","ONCOTN",142,0)
 .S N=$P(XXX,U,2)
"RTN","ONCOTN",143,0)
 .S M=$P(XXX,U,3)
"RTN","ONCOTN",144,0)
 .I $E(M,1)'=1 D
"RTN","ONCOTN",145,0)
 ..S M=$P($G(^ONCO(165.5,D0,2)),U,27)
"RTN","ONCOTN",146,0)
 ..W !!?12,"CLINICAL M will be used to calculate PATHOLOGIC STAGE GROUPING."
"RTN","ONCOTN",147,0)
 I STGIND="O" D
"RTN","ONCOTN",148,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTN",149,0)
 .S T=$P(XXX,U,6)
"RTN","ONCOTN",150,0)
 .S N=$P(XXX,U,7)
"RTN","ONCOTN",151,0)
 .S M=$P(XXX,U,8)
"RTN","ONCOTN",152,0)
 I STGIND="R" D
"RTN","ONCOTN",153,0)
 .S XXX=$G(^ONCO(165.5,D0,23,DA,0))
"RTN","ONCOTN",154,0)
 .S T=$P(XXX,U,6)
"RTN","ONCOTN",155,0)
 .S N=$P(XXX,U,7)
"RTN","ONCOTN",156,0)
 .S M=$P(XXX,U,8)
"RTN","ONCOTN",157,0)
 I T="" D  G SG
"RTN","ONCOTN",158,0)
 .W !!?3,"No ",STGTYP," T category has been assigned."
"RTN","ONCOTN",159,0)
 .S SG=99
"RTN","ONCOTN",160,0)
 I N="",ST'=58 D  G SG
"RTN","ONCOTN",161,0)
 .W !!?3,"No ",STGTYP," N category has been assigned."
"RTN","ONCOTN",162,0)
 .S SG=99
"RTN","ONCOTN",163,0)
 I M="" D  G SG
"RTN","ONCOTN",164,0)
 .W !?3,"No ",STGTYP," M category has been assigned."
"RTN","ONCOTN",165,0)
 .S SG=99
"RTN","ONCOTN",166,0)
 ;
"RTN","ONCOTN",167,0)
 ;Melanoma of the Eyelid (C44.1)
"RTN","ONCOTN",168,0)
 I TX=67441,ONCED<5,$$MELANOMA^ONCOU55(D0) S AG=37 G AG
"RTN","ONCOTN",169,0)
 ;
"RTN","ONCOTN",170,0)
 ;Melanoma of the Skin
"RTN","ONCOTN",171,0)
 I $$MELANOMA^ONCOU55(D0),$P($G(^ONCO(164,+TX,0)),U,15) S AG=22 G AG
"RTN","ONCOTN",172,0)
 ;
"RTN","ONCOTN",173,0)
 ;GTT
"RTN","ONCOTN",174,0)
 I TX=67589 S AG=54 G AG
"RTN","ONCOTN",175,0)
 ;
"RTN","ONCOTN",176,0)
 ;Urethra (C68.9)
"RTN","ONCOTN",177,0)
 ;Urothelial (Transitional Cell) Carcinoma of the Prostate
"RTN","ONCOTN",178,0)
 I ONCED>4,TX=67619,(HT=81203)!(HT=81303)!(HT=81223)!(HT=81202) D  G AG
"RTN","ONCOTN",179,0)
 .S AG=35
"RTN","ONCOTN",180,0)
 ;
"RTN","ONCOTN",181,0)
 ;Melanoma of the Conjunctiva
"RTN","ONCOTN",182,0)
 I $$MELANOMA^ONCOU55(D0),TX=67690 S AG=39 G AG
"RTN","ONCOTN",183,0)
 ;
"RTN","ONCOTN",184,0)
 ;Melanoma of the Uvea
"RTN","ONCOTN",185,0)
 I $$MELANOMA^ONCOU55(D0),((TX=67693)!(TX=67694)) S AG=40 G AG
"RTN","ONCOTN",186,0)
 ;
"RTN","ONCOTN",187,0)
 ;Lymphoid Neoplasms
"RTN","ONCOTN",188,0)
 ;Mycosis fungoides (9700/3)
"RTN","ONCOTN",189,0)
 ;Sezary Disease    (9701/3)
"RTN","ONCOTN",190,0)
 I ONCED>5,(HT=97003)!(HT=97013) S AG=55 G AG
"RTN","ONCOTN",191,0)
 ;
"RTN","ONCOTN",192,0)
 S AG=$P($G(^ONCO(164,+TX,0)),U,12)
"RTN","ONCOTN",193,0)
 ;
"RTN","ONCOTN",194,0)
AG ;DO staging subroutine
"RTN","ONCOTN",195,0)
 S SG=99
"RTN","ONCOTN",196,0)
 I T=88,N=88,M=88 S SG=88 G SG
"RTN","ONCOTN",197,0)
 D @(AG_"^ONCOTN0")
"RTN","ONCOTN",198,0)
 W:SG=99 !!,?12,"TNM combination not in staging table."
"RTN","ONCOTN",199,0)
 ;
"RTN","ONCOTN",200,0)
SG ;Computed stage
"RTN","ONCOTN",201,0)
 I STGIND="C" S $P(^ONCO(165.5,D0,2),U,20)=SG
"RTN","ONCOTN",202,0)
 I STGIND="P" S $P(^ONCO(165.5,D0,2.1),U,4)=SG
"RTN","ONCOTN",203,0)
 I STGIND="O" S $P(^ONCO(165.5,D0,2.1),U,9)=SG
"RTN","ONCOTN",204,0)
 I STGIND="R" S $P(^ONCO(165.5,D0,23,DA,0),U,9)=SG
"RTN","ONCOTN",205,0)
 I SG'="" S X=SG D KSG^ONCOCRC D
"RTN","ONCOTN",206,0)
 .I STGIND="C" D CSSG^ONCOCRC Q
"RTN","ONCOTN",207,0)
 .I STGIND="P" D PSSG^ONCOCRC Q
"RTN","ONCOTN",208,0)
 S CMPFLG="COMPUTING TNM"
"RTN","ONCOTN",209,0)
 W !!?12,"Computed "_$S(STGIND="C":"CLINICAL",STGIND="P":"PATHOLOGIC",STGIND="O":"OTHER",STGIND="R":"RECURRENCE",1:"")," STAGE GROUPING: ",$$SGOUT^ONCOTNO(D0),!
"RTN","ONCOTN",210,0)
EX Q
"RTN","ONCOTN",211,0)
 ;
"RTN","ONCOTN",212,0)
CTNM88 ;CLINICAL TNM 88
"RTN","ONCOTN",213,0)
 S $P(^ONCO(165.5,D0,2),U,25)=88
"RTN","ONCOTN",214,0)
 S $P(^ONCO(165.5,D0,2),U,26)=88
"RTN","ONCOTN",215,0)
 S $P(^ONCO(165.5,D0,2),U,27)=88
"RTN","ONCOTN",216,0)
 W !,"CLINICAL T: T88 NA"
"RTN","ONCOTN",217,0)
 W !,"CLINICAL N: N88 NA"
"RTN","ONCOTN",218,0)
 W !,"CLINICAL M: M88 NA",!
"RTN","ONCOTN",219,0)
 S:$P($G(^ONCO(165.5,D0,7)),U,7)="" $P(^ONCO(165.5,D0,7),U,7)="0000000"
"RTN","ONCOTN",220,0)
 S:$P($G(^ONCO(165.5,D0,7)),U,14)="" $P(^ONCO(165.5,D0,7),U,14)="0000000"
"RTN","ONCOTN",221,0)
 Q
"RTN","ONCOTN",222,0)
 ;
"RTN","ONCOTN",223,0)
CSB I DATEDX>2951231 D
"RTN","ONCOTN",224,0)
 .S $P(^ONCO(165.5,D0,3),U,32)=0
"RTN","ONCOTN",225,0)
 .W !,"STAGED BY (CLINICAL STAGE): Not staged",!
"RTN","ONCOTN",226,0)
 Q
"RTN","ONCOTN",227,0)
 ;
"RTN","ONCOTN",228,0)
PTNM88 ;PATHOLOGIC TNM 88
"RTN","ONCOTN",229,0)
 S $P(^ONCO(165.5,D0,7),U,17)="N"
"RTN","ONCOTN",230,0)
 S $P(^ONCO(165.5,D0,2.1),U,1)=88
"RTN","ONCOTN",231,0)
 S $P(^ONCO(165.5,D0,2.1),U,2)=88
"RTN","ONCOTN",232,0)
 S $P(^ONCO(165.5,D0,2.1),U,3)=88
"RTN","ONCOTN",233,0)
 W !,"MULTIMODALITY THERAPY: NO"
"RTN","ONCOTN",234,0)
 W !,"PATHOLOGIC T: T88 NA"
"RTN","ONCOTN",235,0)
 W !,"PATHOLOGIC N: N88 NA"
"RTN","ONCOTN",236,0)
 W !,"PATHOLOGIC M: M88 NA",!
"RTN","ONCOTN",237,0)
 Q
"RTN","ONCOTN",238,0)
 ;
"RTN","ONCOTN",239,0)
PSB I DATEDX>2951231 D
"RTN","ONCOTN",240,0)
 .S $P(^ONCO(165.5,D0,2.1),U,5)=0
"RTN","ONCOTN",241,0)
 .W !,"STAGED BY (PATHOLOGIC STAGE): Not staged",!
"RTN","ONCOTN",242,0)
 Q
"RTN","ONCOTN",243,0)
 ;
"RTN","ONCOTN",244,0)
CSTG88 ;CLINICAL STAGE 88
"RTN","ONCOTN",245,0)
 S $P(^ONCO(165.5,D0,2),U,20)=88
"RTN","ONCOTN",246,0)
 W !,"STAGE GROUP CLINICAL: NA",!
"RTN","ONCOTN",247,0)
 S TMP=$G(X),X=88 D CSSG^ONCOCRC S X=TMP
"RTN","ONCOTN",248,0)
 Q
"RTN","ONCOTN",249,0)
 ;
"RTN","ONCOTN",250,0)
PSTG88 ;PATHOLOGIC STAGE 88
"RTN","ONCOTN",251,0)
 S $P(^ONCO(165.5,D0,2.1),U,4)=88
"RTN","ONCOTN",252,0)
 W !,"STAGE GROUP PATHOLOGIC: NA",!
"RTN","ONCOTN",253,0)
 S TMP=$G(X),X=88 D PSSG^ONCOCRC S X=TMP
"RTN","ONCOTN",254,0)
 Q
"RTN","ONCOTN",255,0)
 ;
"RTN","ONCOTN",256,0)
CN1 ;No longer used. Called by PCEs.
"RTN","ONCOTN",257,0)
CN3 ;No longer used. Called by PCEs.
"RTN","ONCOTN",258,0)
 Q
"RTN","ONCOTNO")
0^24^B13095185
"RTN","ONCOTNO",1,0)
ONCOTNO ;Hines OIFO/GWB - ONCOLOGY - Convert AJCC stage for output ;10/03/00
"RTN","ONCOTNO",2,0)
 ;;2.11;ONCOLOGY;**1,6,7,11,15,27,32,35,47**;Mar 07, 1995;Build 19
"RTN","ONCOTNO",3,0)
 ;
"RTN","ONCOTNO",4,0)
SGOUT(IEN) ;AJCC stage formatted for display
"RTN","ONCOTNO",5,0)
 N XX,XXX,SG
"RTN","ONCOTNO",6,0)
 S XX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTNO",7,0)
 I STGIND="C" D
"RTN","ONCOTNO",8,0)
 .S XXX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTNO",9,0)
 .S SG=$P(XXX,U,20)
"RTN","ONCOTNO",10,0)
 I STGIND="P" D
"RTN","ONCOTNO",11,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTNO",12,0)
 .S SG=$P(XXX,U,4)
"RTN","ONCOTNO",13,0)
 I STGIND="O" D
"RTN","ONCOTNO",14,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTNO",15,0)
 .S SG=$P(XXX,U,9)
"RTN","ONCOTNO",16,0)
 I STGIND="R" D
"RTN","ONCOTNO",17,0)
 .S XXX=$G(^ONCO(165.5,D0,23,DA,0))
"RTN","ONCOTNO",18,0)
 .S SG=$P(XXX,U,9)
"RTN","ONCOTNO",19,0)
 N ONCOZ,XSG S ONCOZ=$E(SG),XSG=$S(ONCOZ=1:"I",ONCOZ=2:"II",ONCOZ=3:"III",ONCOZ=4:"IV",ONCOZ=8:8,ONCOZ=9:9,1:ONCOZ),XSG=XSG_$E(SG,2,$L(SG))
"RTN","ONCOTNO",20,0)
 S SG=XSG_" ("_$$TNMOUT(IEN)_")"
"RTN","ONCOTNO",21,0)
 I ($G(SP)=67400)!($G(SP)=67490) D  ;Bone and Soft Tissue Sarcoma Histopathologic Grade "G" prefix
"RTN","ONCOTNO",22,0)
 .S:($G(G)=9)!($G(G)="") G="X"
"RTN","ONCOTNO",23,0)
 .S SG=XSG_" (G"_G_" "_$$TNMOUT(IEN)_")"
"RTN","ONCOTNO",24,0)
 Q SG
"RTN","ONCOTNO",25,0)
 ;
"RTN","ONCOTNO",26,0)
TNMOUT(IEN) ;TNM coding formatted for display
"RTN","ONCOTNO",27,0)
 N XXX,II,ONCOTNM
"RTN","ONCOTNO",28,0)
 S ONCOTNM=""
"RTN","ONCOTNO",29,0)
 S TOP=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCOTNO",30,0)
 I STGIND="C" D
"RTN","ONCOTNO",31,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2))
"RTN","ONCOTNO",32,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",33,0)
 .S ONCOT=$P(XXX(2),U,25)
"RTN","ONCOTNO",34,0)
 .S ONCON=$P(XXX(2),U,26)
"RTN","ONCOTNO",35,0)
 .S ONCOM=$P(XXX(2),U,27)
"RTN","ONCOTNO",36,0)
 I STGIND="P" D
"RTN","ONCOTNO",37,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2.1))
"RTN","ONCOTNO",38,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",39,0)
 .S ONCOT=$P(XXX(2),U,1)
"RTN","ONCOTNO",40,0)
 .S ONCON=$P(XXX(2),U,2)
"RTN","ONCOTNO",41,0)
 .S ONCOM=$P(XXX(2),U,3)
"RTN","ONCOTNO",42,0)
 .I $G(CMPFLG)'="COMPUTING TNM" Q
"RTN","ONCOTNO",43,0)
 .S:$E(ONCOM,1)'=1 ONCOM=$P($G(^ONCO(165.5,IEN,2)),U,27)
"RTN","ONCOTNO",44,0)
 I STGIND="O" D
"RTN","ONCOTNO",45,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2.1))
"RTN","ONCOTNO",46,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",47,0)
 .S ONCOT=$P(XXX(2),U,6)
"RTN","ONCOTNO",48,0)
 .S ONCON=$P(XXX(2),U,7)
"RTN","ONCOTNO",49,0)
 .S ONCOM=$P(XXX(2),U,8)
"RTN","ONCOTNO",50,0)
 I STGIND="R" D
"RTN","ONCOTNO",51,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,23,DA,0))
"RTN","ONCOTNO",52,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",53,0)
 .S ONCOT=$P(XXX(2),U,6)
"RTN","ONCOTNO",54,0)
 .S ONCON=$P(XXX(2),U,7)
"RTN","ONCOTNO",55,0)
 .S ONCOM=$P(XXX(2),U,8)
"RTN","ONCOTNO",56,0)
 I ONCOT'="" D
"RTN","ONCOTNO",57,0)
 .S ONCOTNM="T"_ONCOT
"RTN","ONCOTNO",58,0)
 .N ONCOMULT S ONCOMULT=$P($G(^ONCO(165.5,D0,2)),U,31) ;multiple tumors
"RTN","ONCOTNO",59,0)
 .I ONCOMULT S ONCOTNM=ONCOTNM_"m" S:ONCOMULT>1 ONCOTNM=ONCOTNM_ONCOMULT
"RTN","ONCOTNO",60,0)
 .N ONCOMT S ONCOMT=""
"RTN","ONCOTNO",61,0)
 .I STGIND="C" D
"RTN","ONCOTNO",62,0)
 ..S:$P($G(^ONCO(165.5,D0,0)),U,16)<2980000 ONCOMT=$P($G(^ONCO(165.5,D0,7)),U,16)
"RTN","ONCOTNO",63,0)
 .I STGIND="P" D
"RTN","ONCOTNO",64,0)
 ..S ONCOMT=$P($G(^ONCO(165.5,D0,7)),U,17)
"RTN","ONCOTNO",65,0)
 .S COC=$P($G(^ONCO(165.5,D0,0)),U,4)
"RTN","ONCOTNO",66,0)
 .I COC=5 S ONCOTNM="a"_ONCOTNM ;a Prefix
"RTN","ONCOTNO",67,0)
 .I ONCOMT="Y" S ONCOTNM="y"_ONCOTNM ;Multimodality therapy
"RTN","ONCOTNO",68,0)
 .I TOP=67692,$P(XXX(2),U,32) S ONCOTNM=ONCOTNM_"f" ;Family History
"RTN","ONCOTNO",69,0)
 .I TOP=67692,$P(XXX(3),U,30) S ONCOTNM=ONCOTNM_"d" ;Diffuse Retinal Involvement
"RTN","ONCOTNO",70,0)
 S:(ONCOTNM'="")&(ONCON'="") ONCOTNM=ONCOTNM_" "
"RTN","ONCOTNO",71,0)
 S:ONCON'="" ONCOTNM=ONCOTNM_"N"_ONCON
"RTN","ONCOTNO",72,0)
 S:(ONCOTNM'="")&(ONCOM'="") ONCOTNM=ONCOTNM_" "
"RTN","ONCOTNO",73,0)
 S:ONCOM'="" ONCOTNM=ONCOTNM_"M"_ONCOM
"RTN","ONCOTNO",74,0)
 I TOP=67619 S G=$P(^ONCO(165.5,D0,2),U,5),ONCOTNM=ONCOTNM_" G"_G
"RTN","ONCOTNO",75,0)
 I $$GTT^ONCOU55(D0) D  K RF
"RTN","ONCOTNO",76,0)
 .S:$G(STGIND)="C" RF=$$GET1^DIQ(165.5,D0,134,"I")
"RTN","ONCOTNO",77,0)
 .S:$G(STGIND)="P" RF=$$GET1^DIQ(165.5,D0,135,"I")
"RTN","ONCOTNO",78,0)
 .S:$G(STGIND)="O" RF=$$GET1^DIQ(165.5,D0,134,"I")
"RTN","ONCOTNO",79,0)
 .S RF=$S(RF=0:"0RF",(RF=1)!(RF=2):"1RF",RF=3:"2RF",RF="U":"Unknown",RF="L":"Low risk",RF="H":"High risk",1:RF)
"RTN","ONCOTNO",80,0)
 .S ONCOTNM=ONCOTNM_" "_RF
"RTN","ONCOTNO",81,0)
 I $$T^ONCOU55(D0) D  K STM
"RTN","ONCOTNO",82,0)
 .S STM=$P($G(^ONCO(165.5,D0,24)),U,8)
"RTN","ONCOTNO",83,0)
 .S ONCOTNM=ONCOTNM_" "_STM
"RTN","ONCOTNO",84,0)
 Q ONCOTNM
"RTN","ONCOUTC")
0^50^B16162194
"RTN","ONCOUTC",1,0)
ONCOUTC ;Hines OIFO/GWB - [UTL *..Utility Options ...] ;02/04/00
"RTN","ONCOUTC",2,0)
 ;;2.11;ONCOLOGY;**5,24,25,47**;Mar 07, 1995;Build 19
"RTN","ONCOUTC",3,0)
 ;
"RTN","ONCOUTC",4,0)
INQ ;[PI Patient/Primary Inquiry]
"RTN","ONCOUTC",5,0)
 D PAT G EX:Y<0
"RTN","ONCOUTC",6,0)
 I $$PFTD^ONCFUNC(ONCOD0)="N" D  G INQ
"RTN","ONCOUTC",7,0)
 .W !!?5,ONCONM," has no primaries for division: ",DUZ(2)
"RTN","ONCOUTC",8,0)
 D SDD^ONCOCOM G INQ
"RTN","ONCOUTC",9,0)
 ;
"RTN","ONCOUTC",10,0)
DUMP ;[RD Print Oncology Patient Record]
"RTN","ONCOUTC",11,0)
 W !,?5,"This option will display the entire Oncology Record from"
"RTN","ONCOUTC",12,0)
 W !?5,"both the ONCOLOGY PATIENT and the ONCOLOGY PRIMARY files",!!
"RTN","ONCOUTC",13,0)
SEL S DIC(0)="AEQZ",DIC="^ONCO(160," D ^DIC G EX:Y<0 S ONCODA=+Y
"RTN","ONCOUTC",14,0)
 K IO("Q") S %ZIS="Q" W !! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOUTC",15,0)
 I '$D(IO("Q")) D DIQ W !!! G SEL
"RTN","ONCOUTC",16,0)
 S ZTRTN="DIQ^ONCOUTC",ZTSAVE("ONCODA")="",ZTSAVE("DUZ(2)")=""
"RTN","ONCOUTC",17,0)
 S ZTDESC="ONCOLOGY PATIENT RECORD"
"RTN","ONCOUTC",18,0)
 D ^%ZTLOAD G EX
"RTN","ONCOUTC",19,0)
DIQ ;Inquire to ONCOLOGY PATIENT (#160) and ONCOLOGY PRIMARY (#165.5) files
"RTN","ONCOUTC",20,0)
 U IO W @IOF,!!?5,"*** Information from ONCOLOGY PATIENT file ***",!!
"RTN","ONCOUTC",21,0)
 S DA=ONCODA,DIC="^ONCO(160,",DIQ(0)="C" D EN^DIQ
"RTN","ONCOUTC",22,0)
 W !!!?5,"*** Information from ONCOLOGY PRIMARY file ***",!!
"RTN","ONCOUTC",23,0)
 S ONCOD0=DA,ONCODA=0 F  S ONCODA=$O(^ONCO(165.5,"C",ONCOD0,ONCODA)) Q:ONCODA=""  I $$DIV^ONCFUNC(ONCODA)=DUZ(2) S DA=ONCODA,DIC="^ONCO(165.5,",DIQ(0)="C" D EN^DIQ
"RTN","ONCOUTC",24,0)
 W !!,?5,"*** END of RECORD ***",!! D ^%ZISC
"RTN","ONCOUTC",25,0)
 Q
"RTN","ONCOUTC",26,0)
 ;
"RTN","ONCOUTC",27,0)
EN2 ;[DP Delete Oncology Patient]
"RTN","ONCOUTC",28,0)
 D PAT G EX:Y<0
"RTN","ONCOUTC",29,0)
 I $D(^ONCO(165.5,"C",ONCOD0)) D SDD^ONCOCOM
"RTN","ONCOUTC",30,0)
 W !?5,"Deleting a patient will also delete any primaries associated"
"RTN","ONCOUTC",31,0)
 W !?5,"with your division."
"RTN","ONCOUTC",32,0)
 S DIR("A")="     Are your sure you want to delete this ONCOLOGY PATIENT"
"RTN","ONCOUTC",33,0)
 S DIR("B")="NO",DIR(0)="Y" W ! D ^DIR G EX:Y=U!(Y=""),EN2:'Y
"RTN","ONCOUTC",34,0)
 W !
"RTN","ONCOUTC",35,0)
 I $D(^ONCO(165.5,"C",ONCOD0)) S ONCOP0=0 F  S ONCOP0=$O(^ONCO(165.5,"C",ONCOD0,ONCOP0)) Q:ONCOP0'>0  I $$DIV^ONCFUNC(ONCOP0)=DUZ(2) D DP
"RTN","ONCOUTC",36,0)
 I $D(^ONCO(165.5,"C",ONCOD0)) D  G EN2
"RTN","ONCOUTC",37,0)
 .S ONCOP0=$O(^ONCO(165.5,"C",ONCOD0,0))
"RTN","ONCOUTC",38,0)
 .S ONCDIV=$P($G(^ONCO(165.5,ONCOP0,"DIV")),U,1)
"RTN","ONCOUTC",39,0)
 .W !?5,"Unable to delete ONCOLOGY PATIENT."
"RTN","ONCOUTC",40,0)
 .W !?5,"This patient has primaries which belong to division: ",ONCDIV,!
"RTN","ONCOUTC",41,0)
 S DA=ONCOD0,DIK="^ONCO(160,"
"RTN","ONCOUTC",42,0)
 W !!?5,"Deleting ONCOLOGY PATIENT..." D ^DIK G EN2
"RTN","ONCOUTC",43,0)
 ;
"RTN","ONCOUTC",44,0)
EN3 ;[DS Delete Primary Site/GP Record]
"RTN","ONCOUTC",45,0)
 D PAT G EX:Y<0
"RTN","ONCOUTC",46,0)
 S UTL="DELETE" D PRIM G EN3:Y<0
"RTN","ONCOUTC",47,0)
 S ONCOSIT=$P(Y,U,2),ONCOP0=+Y
"RTN","ONCOUTC",48,0)
 W !!?5,ONCONM,?35,$P(^ONCO(164.2,ONCOSIT,0),U),!!
"RTN","ONCOUTC",49,0)
 S DIR("A")=" Are you sure you want to delete this primary"
"RTN","ONCOUTC",50,0)
 S DIR("B")="NO",DIR(0)="Y" D ^DIR G EX:(Y="")!(Y=U),EN3:Y=0
"RTN","ONCOUTC",51,0)
 D DP G EN3
"RTN","ONCOUTC",52,0)
 ;
"RTN","ONCOUTC",53,0)
EN1 ;[EA Edit Site/AccSeq# Data]
"RTN","ONCOUTC",54,0)
 D PAT G EX:Y<0
"RTN","ONCOUTC",55,0)
SP S UTL="EDIT" D PRIM G:Y'>0 EN1 D DIE1
"RTN","ONCOUTC",56,0)
 S DIR("A")="Data OK",DIR("B")="Y",DIR(0)="Y"
"RTN","ONCOUTC",57,0)
 D ^DIR Q:Y=U!(Y="")  G:Y=0 SP G EN1
"RTN","ONCOUTC",58,0)
 ;
"RTN","ONCOUTC",59,0)
PRIM ;Select ONCOLOGY PRIMARY (#165.5)
"RTN","ONCOUTC",60,0)
 I $$PFTD^ONCFUNC(ONCOD0)="N" D  S Y=-1 Q
"RTN","ONCOUTC",61,0)
 .W !!?5,ONCONM," has no primaries for division: ",DUZ(2)
"RTN","ONCOUTC",62,0)
 S D0=ONCOD0 D SDD^ONCOCOM W !?5,"Select primary to ",UTL,!
"RTN","ONCOUTC",63,0)
 S D="C",DIC="^ONCO(165.5,",DIC(0)="EZ",X=ONCOD0 D IX^DIC Q:(Y<0)!(Y=U)
"RTN","ONCOUTC",64,0)
 Q
"RTN","ONCOUTC",65,0)
 ;
"RTN","ONCOUTC",66,0)
DIE1 ;Edit ONCOLOGY PRIMARY (#165.5)
"RTN","ONCOUTC",67,0)
 S (D0,ONCODP0,DA)=+Y,DR="[ONCO UTL CORRECT DATA]",DIE="^ONCO(165.5,"
"RTN","ONCOUTC",68,0)
 S ONCOL=0
"RTN","ONCOUTC",69,0)
 L +^ONCO(165.5,ONCODP0):0 I $T D ^DIE L -^ONCO(165.5,ONCODP0) S ONCOL=1
"RTN","ONCOUTC",70,0)
 I 'ONCOL W !,"Record being edited by another user." G PRIM
"RTN","ONCOUTC",71,0)
 S Y=0 K ONCOL
"RTN","ONCOUTC",72,0)
 S ONCOD0P=D0
"RTN","ONCOUTC",73,0)
 S ABSTAT=$P($G(^ONCO(165.5,ONCOD0P,7)),U,2)
"RTN","ONCOUTC",74,0)
 I ABSTAT=3 D CHANGE^ONCGENED
"RTN","ONCOUTC",75,0)
 Q
"RTN","ONCOUTC",76,0)
 ;
"RTN","ONCOUTC",77,0)
PAT ;Select ONCOLOGY PATIENT (#160)
"RTN","ONCOUTC",78,0)
 W ! S DIC="^ONCO(160,",DIC(0)="AEZM" D ^DIC K DIC Q:Y<0
"RTN","ONCOUTC",79,0)
 S (ONCOD0,D0)=+Y,ONCONM=Y(0,0)
"RTN","ONCOUTC",80,0)
 N Y K DIQ,ONC S DIC="^ONCO(160,",DR="2;3;8;10",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOUTC",81,0)
 D EN^DIQ1 W !
"RTN","ONCOUTC",82,0)
 W !?2,"SSN..........: ",ONC(160,ONCOD0,2)
"RTN","ONCOUTC",83,0)
 W ?35,"Race.........: ",ONC(160,ONCOD0,8)
"RTN","ONCOUTC",84,0)
 W !?2,"Date of Birth: ",ONC(160,ONCOD0,3)
"RTN","ONCOUTC",85,0)
 W ?35,"Sex..........: ",ONC(160,ONCOD0,10)
"RTN","ONCOUTC",86,0)
 Q
"RTN","ONCOUTC",87,0)
 ;
"RTN","ONCOUTC",88,0)
DP ;Delete ONCOLOGY PRIMARY (#165.5)
"RTN","ONCOUTC",89,0)
 W !?5,"Deleting ONCOLOGY PRIMARY: ",$$GET1^DIQ(165.5,ONCOP0,20)
"RTN","ONCOUTC",90,0)
 S DA=ONCOP0,DIK="^ONCO(165.5," D ^DIK S D0=ONCOD0 H 2 W !
"RTN","ONCOUTC",91,0)
 Q
"RTN","ONCOUTC",92,0)
 ;
"RTN","ONCOUTC",93,0)
EX ;Kill variables and exit
"RTN","ONCOUTC",94,0)
 K D,D0,DA,DIC,DIE,DIK,DIQ,DIR,DR,FLDS,L,X,Y
"RTN","ONCOUTC",95,0)
 K ONCDIV,ONC,ONCOD0,ONCODA,ONCODP0,ONCONM,ONCOP0,ONCOSIT,ONCOUT,UTL
"RTN","ONCOUTC",96,0)
 Q
"RTN","ONCPCI")
0^38^B17696827
"RTN","ONCPCI",1,0)
ONCPCI ;Hines OIFO/GWB - Patient Identification/Cancer Identification screen display ;05/30/00
"RTN","ONCPCI",2,0)
 ;;2.11;ONCOLOGY;**15,19,24,26,27,28,33,35,36,42,43,44,45,46,47**;Mar 07, 1995;Build 19
"RTN","ONCPCI",3,0)
PI ;Patient Identification
"RTN","ONCPCI",4,0)
 N DI,DIC,DR,DA,DIQ,ONC,TM1,TM2,TM3,DOTS1,DOTS2,DOTS3
"RTN","ONCPCI",5,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPCI",6,0)
 S DR=".03;1.2;2;2.1;2.2;2.3;2.4;8;8.1;8.2;9;10;11;16;18;147"
"RTN","ONCPCI",7,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCPCI",8,0)
 F I=.03,1.2,2,2.1,2.2,2.3,2.4,8,8.1,8.2,9,10,11,16,18 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPCI",9,0)
 W !," Reporting Hospital...........: ",ONC(165.5,D0,.03)
"RTN","ONCPCI",10,0)
 W !," Marital Status at Dx.........: ",ONC(165.5,D0,11)
"RTN","ONCPCI",11,0)
 W !," Patient Address at Dx........: ",ONC(165.5,D0,8)
"RTN","ONCPCI",12,0)
 W !," Patient Address at Dx - Supp.: ",ONC(165.5,D0,8.2)
"RTN","ONCPCI",13,0)
 W !," City/town at Dx..............: ",ONC(165.5,D0,8.1)
"RTN","ONCPCI",14,0)
 W !," State at Dx..................: ",ONC(165.5,D0,16)
"RTN","ONCPCI",15,0)
 W !," Postal Code at Dx............: ",ONC(165.5,D0,9)
"RTN","ONCPCI",16,0)
 W !," County at Dx.................: ",ONC(165.5,D0,10)
"RTN","ONCPCI",17,0)
 W !," Census Tract.................: ",ONC(165.5,D0,147)
"RTN","ONCPCI",18,0)
 I DATEDX>3061231 D
"RTN","ONCPCI",19,0)
 .W !," Managing Physician...........: ",ONC(165.5,D0,2.2)
"RTN","ONCPCI",20,0)
 W !," Following Physician..........: ",ONC(165.5,D0,2.1)
"RTN","ONCPCI",21,0)
 W !," Primary Surgeon..............: ",ONC(165.5,D0,2)
"RTN","ONCPCI",22,0)
 W !," Physician #3.................: ",ONC(165.5,D0,2.3)
"RTN","ONCPCI",23,0)
 W !," Physician #4       ..........: ",ONC(165.5,D0,2.4)
"RTN","ONCPCI",24,0)
 W !," Primary Payer at Dx..........: ",ONC(165.5,D0,18)
"RTN","ONCPCI",25,0)
 W !," Type of Reporting Source.....: ",ONC(165.5,D0,1.2)
"RTN","ONCPCI",26,0)
 W !,DASHES
"RTN","ONCPCI",27,0)
 Q
"RTN","ONCPCI",28,0)
 ;
"RTN","ONCPCI",29,0)
CI ;Cancer Identification
"RTN","ONCPCI",30,0)
 N DI,DIC,DR,DA,DIQ,ONC,TM1,TM2,TM3,DOTS1,DOTS2,DOTS3
"RTN","ONCPCI",31,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPCI",32,0)
 S DR=".04;6;7;155;3;28;22;22.1;22.3;24;26;25.1;25.2;25.3;83;623;684;120;121;1010;5;171;172;173;21;96;102;156;159;193;194;195;196"
"RTN","ONCPCI",33,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCPCI",34,0)
 F I=.04,28,24,25.1,25.2,25.3,26,83,120,623,684,1010,5,21,102,159,194 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPCI",35,0)
 S COC=$$GET1^DIQ(165.5,D0,.04,"I")
"RTN","ONCPCI",36,0)
 S TM1=$$PRINT^ONCOTM(D0,1)
"RTN","ONCPCI",37,0)
 K DOTS1 S $P(DOTS1,".",25-$L(TM1))="."
"RTN","ONCPCI",38,0)
 S TM2=$$PRINT^ONCOTM(D0,2)
"RTN","ONCPCI",39,0)
 K DOTS2 S $P(DOTS2,".",25-$L(TM2))="."
"RTN","ONCPCI",40,0)
 S TM3=$$PRINT^ONCOTM(D0,3)
"RTN","ONCPCI",41,0)
 K DOTS3 S $P(DOTS3,".",25-$L(TM3))="."
"RTN","ONCPCI",42,0)
 W !," Class of Case................: ",ONC(165.5,D0,.04)
"RTN","ONCPCI",43,0)
 I COC=1 D
"RTN","ONCPCI",44,0)
 .W !," Date of First Symptoms.......: ",ONC(165.5,D0,171)
"RTN","ONCPCI",45,0)
 .W !," Date Start of Workup Ordered.: ",ONC(165.5,D0,172)
"RTN","ONCPCI",46,0)
 .W !," Date Workup Started..........: ",ONC(165.5,D0,173)
"RTN","ONCPCI",47,0)
 S TXT=ONC(165.5,D0,6),LEN=46 D TXT
"RTN","ONCPCI",48,0)
 W !," Facility referred from.......: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",49,0)
 S TXT=ONC(165.5,D0,7),LEN=46 D TXT
"RTN","ONCPCI",50,0)
 W !," Facility referred to.........: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",51,0)
 W !," Date of First Contact........: ",ONC(165.5,D0,155)
"RTN","ONCPCI",52,0)
 W !," Date Dx......................: ",ONC(165.5,D0,3)
"RTN","ONCPCI",53,0)
 I DATEDX>3061231 D
"RTN","ONCPCI",54,0)
 .W !," Ambiguous Terminology Dx.....: ",ONC(165.5,D0,159)
"RTN","ONCPCI",55,0)
 .W !," Date of Conclusive Dx........: ",ONC(165.5,D0,193)
"RTN","ONCPCI",56,0)
 S TXT=ONC(165.5,D0,5),LEN=46 D TXT
"RTN","ONCPCI",57,0)
 W !," Dx Facility..................: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",58,0)
 S TXT=ONC(165.5,D0,28),LEN=46 D TXT
"RTN","ONCPCI",59,0)
 I DATEDX>3061231 D
"RTN","ONCPCI",60,0)
 .W !," Mult Tum Rpt as One Prim.....: ",ONC(165.5,D0,194)
"RTN","ONCPCI",61,0)
 .W !," Date of Multiple Tumors......: ",ONC(165.5,D0,195)
"RTN","ONCPCI",62,0)
 .W !," Multiplicity Counter.........: ",ONC(165.5,D0,196)
"RTN","ONCPCI",63,0)
 W !," Laterality...................: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",64,0)
 S HIST=$$HIST^ONCFUNC(D0)
"RTN","ONCPCI",65,0)
 W !," Histology/Behavior Code......: ",ONC(165.5,D0,22.1)_" "_$E(ONC(165.5,D0,HSTFLD),1,42)
"RTN","ONCPCI",66,0)
 W:$G(TOP)=67619 !," Gleason's Score..............: ",ONC(165.5,D0,623)
"RTN","ONCPCI",67,0)
 W:$G(TOP)=67619 !," PSA..........................: ",ONC(165.5,D0,96)," ",ONC(165.5,D0,684)
"RTN","ONCPCI",68,0)
 W:$G(TOP)=67619 !," DRE +/-......................: ",ONC(165.5,D0,156)," ",ONC(165.5,D0,102)
"RTN","ONCPCI",69,0)
 W !," Grade/Diff/Cell Type.........: ",ONC(165.5,D0,24)
"RTN","ONCPCI",70,0)
 W !," AFIP submission..............: ",ONC(165.5,D0,83)
"RTN","ONCPCI",71,0)
 W !," Diagnostic Confirmation......: ",ONC(165.5,D0,26)
"RTN","ONCPCI",72,0)
 W:($$GET1^DIQ(165.5,D0,.01,"E")="LIVER")!($G(TOP)=67220) !," Hepatitis C..................: ",ONC(165.5,D0,1010)
"RTN","ONCPCI",73,0)
 ;I DATEDX<3030000 D
"RTN","ONCPCI",74,0)
 ;.W !," ",TM1,DOTS1,"....: ",ONC(165.5,D0,25.1)
"RTN","ONCPCI",75,0)
 ;.W !," ",TM2,DOTS2,"....: ",ONC(165.5,D0,25.2)
"RTN","ONCPCI",76,0)
 ;.W !," ",TM3,DOTS3,"....: ",ONC(165.5,D0,25.3)
"RTN","ONCPCI",77,0)
 W !," Presentation at Cancer Conf..: ",ONC(165.5,D0,121)," ",ONC(165.5,D0,120)
"RTN","ONCPCI",78,0)
 W !," Casefinding Source...........: ",ONC(165.5,D0,21)
"RTN","ONCPCI",79,0)
 W !,DASHES
"RTN","ONCPCI",80,0)
 Q
"RTN","ONCPCI",81,0)
 ;
"RTN","ONCPCI",82,0)
TXT ;Text formatting
"RTN","ONCPCI",83,0)
 S (TXT1,TXT2)="",LOS=$L(TXT) I LOS<LEN S TXT1=TXT Q
"RTN","ONCPCI",84,0)
 S NOP=$L($E(TXT,1,LEN)," ")
"RTN","ONCPCI",85,0)
 S TXT1=$P(TXT," ",1,NOP-1),TXT2=$P(TXT," ",NOP,999)
"RTN","ONCPCI",86,0)
 Q
"RTN","ONCPCI",87,0)
 ;
"RTN","ONCPCI",88,0)
UCASE ;Mixed case to uppercase conversion
"RTN","ONCPCI",89,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPCI",90,0)
 Q
"RTN","ONCPRE47")
0^16^B985059
"RTN","ONCPRE47",1,0)
ONCPRE47 ;Hines OIFO/GWB - PRE-INSTALL ROUTINE FOR PATCH ONC*2.11*47
"RTN","ONCPRE47",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCPRE47",3,0)
 ;
"RTN","ONCPRE47",4,0)
 ;Kill ONCOLOGY DATA EXTRACT FORMAT (160.16) data
"RTN","ONCPRE47",5,0)
 K ^ONCO(160.16)
"RTN","ONCPRE47",6,0)
 ;
"RTN","ONCPRE47",7,0)
ITEM2 ;Change ZIP CODE (5.11) field COUNTY (5.11,2) pointer value from 3162
"RTN","ONCPRE47",8,0)
 ;to 37 for ZIP CODE entry 92183 (IEN = 86016)
"RTN","ONCPRE47",9,0)
 I '$D(^VIC(5.1,37,0)) G MISC6
"RTN","ONCPRE47",10,0)
 I $P($G(^VIC(5.11,86016,0)),U,3)=3162 S $P(^VIC(5.11,86016,0),U,3)=37
"RTN","ONCPRE47",11,0)
 ;
"RTN","ONCPRE47",12,0)
 ;Convert COUNTY AT DX (165.5,10) pointer values of 3162 to 37
"RTN","ONCPRE47",13,0)
 F IEN=0:0 S IEN=$O(^ONCO(165.5,IEN)) Q:IEN'>0  D
"RTN","ONCPRE47",14,0)
 .S CNTDX=$P($G(^ONCO(165.5,IEN,1)),U,3)
"RTN","ONCPRE47",15,0)
 .I CNTDX=3162 S $P(^ONCO(165.5,IEN,1),U,3)=37
"RTN","ONCPRE47",16,0)
 ;
"RTN","ONCPRE47",17,0)
 ;Delete COUNTY (5.1) entry 3162 (SAN DIEGO)
"RTN","ONCPRE47",18,0)
 S DIK="^VIC(5.1,",DA=3162 D ^DIK
"RTN","ONCPRE47",19,0)
 ;
"RTN","ONCPRE47",20,0)
MISC6 ;Delete CASE CLASS (165.5,.043)
"RTN","ONCPRE47",21,0)
 ;Delete MAJOR ICDO-SITES (165.5,.016)
"RTN","ONCPRE47",22,0)
 ;These COMPUTED fields do not work correctly and are not needed.
"RTN","ONCPRE47",23,0)
 S DIK="^DD(165.5,",DA=.043,DA(1)=165.5 D ^DIK
"RTN","ONCPRE47",24,0)
 S DIK="^DD(165.5,",DA=.016,DA(1)=165.5 D ^DIK
"RTN","ONCPRE47",25,0)
 ;
"RTN","ONCPRE47",26,0)
MISC7 ;Delete STAGE GROUPING-AJCC (165.5,38.5)
"RTN","ONCPRE47",27,0)
 ;The data dictionary for STAGE GROUPING-AJCC contains can unnecessary
"RTN","ONCPRE47",28,0)
 ;9.1 computed expression node.  STAGE GROUPING-AJCC will be re-created
"RTN","ONCPRE47",29,0)
 ;by the install.
"RTN","ONCPRE47",30,0)
 S DIK="^DD(165.5,",DA=38.5,DA(1)=165.5 D ^DIK
"RTN","ONCPRE47",31,0)
 Q
"RTN","ONCPSD")
0^21^B5294026
"RTN","ONCPSD",1,0)
ONCPSD ;Hines OIFO/GWB - STAGE OF DISEASE AT DIAGNOSIS PRINT;9/24/97
"RTN","ONCPSD",2,0)
 ;;2.11;ONCOLOGY;**15,19,22,28,34,36,40,45,47**;Mar 07, 1995;Build 19
"RTN","ONCPSD",3,0)
PRT N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCPSD",4,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPSD",5,0)
 S DR="34;34.1;34.2;35;37;89.1;38;88;19;89;39;149;151;29;30;31;32;33;65;66;25;44"
"RTN","ONCPSD",6,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCPSD",7,0)
 F I=34,34.1,34.2,35,37,89.1,38,88,19,89,39,149,151,29,30,31,32,33 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPSD",8,0)
 W !," Tumor Size...................: ",ONC(165.5,D0,29)
"RTN","ONCPSD",9,0)
 S TXT=ONC(165.5,D0,30),LEN=46 D TXT
"RTN","ONCPSD",10,0)
 W !," Extension....................: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPSD",11,0)
 W !," Lymph Nodes..................: ",ONC(165.5,D0,31)
"RTN","ONCPSD",12,0)
 W !," Regional Lymph Nodes Examined: ",ONC(165.5,D0,33)
"RTN","ONCPSD",13,0)
 W !," Regional Lymph Nodes Positive: ",ONC(165.5,D0,32)
"RTN","ONCPSD",14,0)
 W !," SEER Summary Stage 2000......: ",ONC(165.5,D0,35)
"RTN","ONCPSD",15,0)
 W !," Site of Distant Metastasis #1: ",ONC(165.5,D0,34)
"RTN","ONCPSD",16,0)
 W !," Site of Distant Metastasis #2: ",ONC(165.5,D0,34.1)
"RTN","ONCPSD",17,0)
 W !," Site of Distant Metastasis #3: ",ONC(165.5,D0,34.2)
"RTN","ONCPSD",18,0)
 W !
"RTN","ONCPSD",19,0)
 W !," Clinical Staging",?22,"TNM edition: ",$$TNMED^ONCOU55(D0),?41,"Pathologic Staging"
"RTN","ONCPSD",20,0)
 W !," ----------------",?41,"------------------"
"RTN","ONCPSD",21,0)
 W !," TNM........: ",ONC(165.5,D0,37),?41,"TNM........: ",ONC(165.5,D0,89.1)
"RTN","ONCPSD",22,0)
 W !," Stage Group: ",ONC(165.5,D0,38),?41,"Stage Group: ",ONC(165.5,D0,88)
"RTN","ONCPSD",23,0)
 W !," Staged By..: ",ONC(165.5,D0,19),?41,"Staged By..: ",ONC(165.5,D0,89)
"RTN","ONCPSD",24,0)
 W !
"RTN","ONCPSD",25,0)
 ;I $P($G(^ONCO(165.5,D0,0)),U,16)<3060000 D
"RTN","ONCPSD",26,0)
 W !," Other Staging System: ",ONC(165.5,D0,39),?41,"TNM Form Assigned..: ",ONC(165.5,D0,25)
"RTN","ONCPSD",27,0)
 W !," Physician's Stage...: ",ONC(165.5,D0,65),?41,"TNM Form Completed.: ",ONC(165.5,D0,44)
"RTN","ONCPSD",28,0)
 ;W ?40," Physician Staging: ",ONC(165.5,D0,66)
"RTN","ONCPSD",29,0)
 W !,DASHES
"RTN","ONCPSD",30,0)
 Q
"RTN","ONCPSD",31,0)
TXT S (TXT1,TXT2)="",LOS=$L(TXT) I LOS<LEN S TXT1=TXT Q
"RTN","ONCPSD",32,0)
 S NOP=$L($E(TXT,1,LEN)," ")
"RTN","ONCPSD",33,0)
 S TXT1=$P(TXT," ",1,NOP-1),TXT2=$P(TXT," ",NOP,999)
"RTN","ONCPSD",34,0)
 Q
"RTN","ONCPSD",35,0)
 ;
"RTN","ONCPSD",36,0)
UCASE S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPSD",37,0)
 Q
"RTN","ONCPST47")
0^42^B1743811
"RTN","ONCPST47",1,0)
ONCPST47 ;Hines OIFO/GWB - POST-INSTALL ROUTINE FOR PATCH ONC*2.11*47
"RTN","ONCPST47",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCPST47",3,0)
 ;
"RTN","ONCPST47",4,0)
 ;Set the COLLABORATIVE STAGING URL (160.1,19) value in all ONCOLOGY
"RTN","ONCPST47",5,0)
 ;SITE PARAMETERS entries = http://websrv.oncology.med.va.gov/oncsrv.exe
"RTN","ONCPST47",6,0)
 S RC=$$UPDCSURL^ONCSAPIU("http://websrv.oncology.med.va.gov/oncsrv.exe")
"RTN","ONCPST47",7,0)
 ;
"RTN","ONCPST47",8,0)
ITEM1 ;ACOS STATE AT DIAGNOSIS (160.15)
"RTN","ONCPST47",9,0)
 ;Edit code ZZ (Residence unknown)
"RTN","ONCPST47",10,0)
 ;Add codes CD (Resident of Canada, NOS) and
"RTN","ONCPST47",11,0)
 ;          US (Resident of United States, NOS)
"RTN","ONCPST47",12,0)
 S DIC="^ONCO(160.15,",X="ZZ" D ^DIC
"RTN","ONCPST47",13,0)
 I Y'=-1 S DIE="^ONCO(160.15,",DA=+Y,DR="1///Residence unknown" D ^DIE
"RTN","ONCPST47",14,0)
 I '$D(^ONCO(160.15,"B","CD")) D
"RTN","ONCPST47",15,0)
 .K DD,DO
"RTN","ONCPST47",16,0)
 .S DIC="^ONCO(160.15,",DIC(0)="L"
"RTN","ONCPST47",17,0)
 .S DIC("DR")="1///Resident of Canada, NOS",X="CD" D FILE^DICN
"RTN","ONCPST47",18,0)
 I '$D(^ONCO(160.15,"B","US")) D
"RTN","ONCPST47",19,0)
 .K DD,DO
"RTN","ONCPST47",20,0)
 .S DIC="^ONCO(160.15,",DIC(0)="L"
"RTN","ONCPST47",21,0)
 .S DIC("DR")="1///Resident of United States, NOS",X="US" D FILE^DICN
"RTN","ONCPST47",22,0)
 K DIC,X,Y,DIE,DR,DA
"RTN","ONCPST47",23,0)
 ;
"RTN","ONCPST47",24,0)
ITEM3 I '$D(^VIC(5.1,"B","BEN HILL")) D
"RTN","ONCPST47",25,0)
 .K DD,DO
"RTN","ONCPST47",26,0)
 .S DIC="^VIC(5.1,"
"RTN","ONCPST47",27,0)
 .S DIC(0)="L"
"RTN","ONCPST47",28,0)
 .S DIC("DR")="1///13;2///017",X="BEN HILL" D FILE^DICN
"RTN","ONCSAPI")
0^1^B5208764
"RTN","ONCSAPI",1,0)
ONCSAPI ;Hines OIFO/SG - ONCOLOGY WEB-SERVICE  ; 12/7/06 10:37am
"RTN","ONCSAPI",2,0)
 ;;2.11;ONCOLOGY;**40,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPI",3,0)
 ;
"RTN","ONCSAPI",4,0)
 ; ONCSAPI ------------- API DESCRIPTOR
"RTN","ONCSAPI",5,0)
 ;
"RTN","ONCSAPI",6,0)
 ; ONCSAPI(
"RTN","ONCSAPI",7,0)
 ;
"RTN","ONCSAPI",8,0)
 ;   "DEBUG")            Debug mode
"RTN","ONCSAPI",9,0)
 ;                         0  Disabled
"RTN","ONCSAPI",10,0)
 ;                         1  Enabled
"RTN","ONCSAPI",11,0)
 ;
"RTN","ONCSAPI",12,0)
 ;   "MSG",              ""
"RTN","ONCSAPI",13,0)
 ;     IEN,
"RTN","ONCSAPI",14,0)
 ;       0)              Error Descriptor
"RTN","ONCSAPI",15,0)
 ;                         ^01: Error Code   (see MSGLIST^ONCSAPIE)
"RTN","ONCSAPI",16,0)
 ;                         ^02: Error Message
"RTN","ONCSAPI",17,0)
 ;                         ^03: Label+Offset (optional)
"RTN","ONCSAPI",18,0)
 ;                         ^04: Routine      (optional)
"RTN","ONCSAPI",19,0)
 ;       1,i)            Error details (text)
"RTN","ONCSAPI",20,0)
 ;     "E",
"RTN","ONCSAPI",21,0)
 ;       Error Code,
"RTN","ONCSAPI",22,0)
 ;         IEN)    ""
"RTN","ONCSAPI",23,0)
 ;
"RTN","ONCSAPI",24,0)
 ; ^XTMP("ONCSAPI") ---- LOCAL CACHE FOR WEB-SERVICE DATA
"RTN","ONCSAPI",25,0)
 ;
"RTN","ONCSAPI",26,0)
 ; ^XTMP("ONCSAPI",
"RTN","ONCSAPI",27,0)
 ;
"RTN","ONCSAPI",28,0)
 ;   0)                  Node descriptor
"RTN","ONCSAPI",29,0)
 ;                         ^01: Purge date  (FileMan)
"RTN","ONCSAPI",30,0)
 ;                         ^02: Create date (FileMan)
"RTN","ONCSAPI",31,0)
 ;                         ^03: Description
"RTN","ONCSAPI",32,0)
 ;
"RTN","ONCSAPI",33,0)
 ;   "EDITS",            Metafile Version
"RTN","ONCSAPI",34,0)
 ;     IEN,
"RTN","ONCSAPI",35,0)
 ;       0)              Edit Descriptor
"RTN","ONCSAPI",36,0)
 ;                         ^01: Index in the edit set
"RTN","ONCSAPI",37,0)
 ;                         ^02: Name
"RTN","ONCSAPI",38,0)
 ;       "D",i)          Description
"RTN","ONCSAPI",39,0)
 ;       "H",i)          Help
"RTN","ONCSAPI",40,0)
 ;     "ES",
"RTN","ONCSAPI",41,0)
 ;       EditSetName,
"RTN","ONCSAPI",42,0)
 ;         EditIndex)    IEN
"RTN","ONCSAPI",43,0)
 ;
"RTN","ONCSAPI",44,0)
 ;   "SCHEMAS",
"RTN","ONCSAPI",45,0)
 ;     Schema#,
"RTN","ONCSAPI",46,0)
 ;       0)              Schema name
"RTN","ONCSAPI",47,0)
 ;
"RTN","ONCSAPI",48,0)
 ;     "N",
"RTN","ONCSAPI",49,0)
 ;       Name)           Schema#
"RTN","ONCSAPI",50,0)
 ;
"RTN","ONCSAPI",51,0)
 ;     "SH",
"RTN","ONCSAPI",52,0)
 ;       Site,Hist)      Schema#
"RTN","ONCSAPI",53,0)
 ;
"RTN","ONCSAPI",54,0)
 ;   "TABLES",           DLL Version
"RTN","ONCSAPI",55,0)
 ;
"RTN","ONCSAPI",56,0)
 ;     IEN,
"RTN","ONCSAPI",57,0)
 ;       0)              Table descriptor
"RTN","ONCSAPI",58,0)
 ;                         ^01: Number of rows
"RTN","ONCSAPI",59,0)
 ;                         ^02: Schema number
"RTN","ONCSAPI",60,0)
 ;                         ^03: Table number
"RTN","ONCSAPI",61,0)
 ;                         ^04: Table pattern
"RTN","ONCSAPI",62,0)
 ;                         ^05: Table title
"RTN","ONCSAPI",63,0)
 ;                         ^06: Table subtitle
"RTN","ONCSAPI",64,0)
 ;       Row#,
"RTN","ONCSAPI",65,0)
 ;         1)            Codes
"RTN","ONCSAPI",66,0)
 ;                         ^01: Row code
"RTN","ONCSAPI",67,0)
 ;                         ^02: Additional code #1
"RTN","ONCSAPI",68,0)
 ;                         ^03: Additional code #2
"RTN","ONCSAPI",69,0)
 ;                         ^04: ...
"RTN","ONCSAPI",70,0)
 ;         3,i)          Description (text)
"RTN","ONCSAPI",71,0)
 ;
"RTN","ONCSAPI",72,0)
 ;       "C",
"RTN","ONCSAPI",73,0)
 ;         RowCode)      Descriptor
"RTN","ONCSAPI",74,0)
 ;                         ^01: Row#
"RTN","ONCSAPI",75,0)
 ;                         ^02: Upper boundary (for intervals)
"RTN","ONCSAPI",76,0)
 ;
"RTN","ONCSAPI",77,0)
 ;       "FN",
"RTN","ONCSAPI",78,0)
 ;         Note#,i)      Footnote (text)
"RTN","ONCSAPI",79,0)
 ;       "TN",
"RTN","ONCSAPI",80,0)
 ;         Note#,i)      Note (text)
"RTN","ONCSAPI",81,0)
 ;
"RTN","ONCSAPI",82,0)
 ;     "ST",
"RTN","ONCSAPI",83,0)
 ;       Schema#,
"RTN","ONCSAPI",84,0)
 ;         Table#)       IEN
"RTN","ONCSAPI",85,0)
 ;
"RTN","ONCSAPI",86,0)
 ; CS TABLE NUMBER ----- TABLE DESCRIPTION
"RTN","ONCSAPI",87,0)
 ;
"RTN","ONCSAPI",88,0)
 ;               1       CS Tumor Size
"RTN","ONCSAPI",89,0)
 ;               2       CS Extension
"RTN","ONCSAPI",90,0)
 ;               3       CS Size/Ext Eval
"RTN","ONCSAPI",91,0)
 ;               4       CS Lymph Nodes
"RTN","ONCSAPI",92,0)
 ;               5       CS Reg Nodes Eval
"RTN","ONCSAPI",93,0)
 ;               6       Regional Nodes Positive
"RTN","ONCSAPI",94,0)
 ;               7       Regional Nodes Examined
"RTN","ONCSAPI",95,0)
 ;               8       CS Mets at DX
"RTN","ONCSAPI",96,0)
 ;               9       CS Mets Eval
"RTN","ONCSAPI",97,0)
 ;              10       CS Site-Specific Factor 1
"RTN","ONCSAPI",98,0)
 ;              11       CS Site-Specific Factor 2
"RTN","ONCSAPI",99,0)
 ;              12       CS Site-Specific Factor 3
"RTN","ONCSAPI",100,0)
 ;              13       CS Site-Specific Factor 4
"RTN","ONCSAPI",101,0)
 ;              14       CS Site-Specific Factor 5
"RTN","ONCSAPI",102,0)
 ;              15       CS Site-Specific Factor 6
"RTN","ONCSAPI",103,0)
 ;              16       Histologies
"RTN","ONCSAPI",104,0)
 ;
"RTN","ONCSAPI",105,0)
 ; CS ENTRY POINT ------ DESCRIPTION
"RTN","ONCSAPI",106,0)
 ;
"RTN","ONCSAPI",107,0)
 ;       HELP^ONCSAPI1   Displays the field's valid codes
"RTN","ONCSAPI",108,0)
 ;      INPUT^ONCSAPI1   Checks if the code is valid
"RTN","ONCSAPI",109,0)
 ;
"RTN","ONCSAPI",110,0)
 ;     $$CALC^ONCSAPI3   Calculates the staging values
"RTN","ONCSAPI",111,0)
 ;
"RTN","ONCSAPI",112,0)
 ;   $$SCHEMA^ONCSAPIS   Returns schema number
"RTN","ONCSAPI",113,0)
 ;
"RTN","ONCSAPI",114,0)
 ; $$CODEDESC^ONCSAPIT   Loads the CS code description
"RTN","ONCSAPI",115,0)
 ; $$GETCSTBL^ONCSAPIT   Returns table IEN (loads table if necessary)
"RTN","ONCSAPI",116,0)
 ;
"RTN","ONCSAPI",117,0)
 ; EDITS ENTRY POINT --- DESCRIPTION
"RTN","ONCSAPI",118,0)
 ;
"RTN","ONCSAPI",119,0)
 ;  $$RBQEXEC^ONCSED01   Executes the 'Run Batch' EDITS request
"RTN","ONCSAPI",120,0)
 ;  $$RBQPREP^ONCSED01   Starts preparation of the 'Run Batch' request
"RTN","ONCSAPI",121,0)
 ;
"RTN","ONCSAPI",122,0)
 ;   $$REPORT^ONCSED01   Prints EDITS report generated by the
"RTN","ONCSAPI",123,0)
 ;                       $$RBQEXEC^ONCSED01
"RTN","ONCSAPI",124,0)
 ;
"RTN","ONCSAPI",125,0)
 ; $$GETEDESC^ONCSED04   Returns the edit description node
"RTN","ONCSAPI",126,0)
 ; $$GETEDHLP^ONCSED04   Returns the edit help text node
"RTN","ONCSAPI",127,0)
 ;
"RTN","ONCSAPI",128,0)
 ; UTILITY ------------- DESCRIPTION
"RTN","ONCSAPI",129,0)
 ;
"RTN","ONCSAPI",130,0)
 ;       DEMO^ONCSAPI    Demonstration entry point
"RTN","ONCSAPI",131,0)
 ;
"RTN","ONCSAPI",132,0)
 ;      CLEAR^ONCSAPIE   Initializes the error stack
"RTN","ONCSAPI",133,0)
 ;      $$DBS^ONCSAPIE   Cehcks for FileMan DBS errors
"RTN","ONCSAPI",134,0)
 ;    $$ERROR^ONCSAPIE   Generates an error message
"RTN","ONCSAPI",135,0)
 ;      $$MSG^ONCSAPIE   Returns the text and type of the message
"RTN","ONCSAPI",136,0)
 ;    PRTERRS^ONCSAPIE   Displays the error messages
"RTN","ONCSAPI",137,0)
 ;      STORE^ONCSAPIE   Stores the message into the error stack
"RTN","ONCSAPI",138,0)
 ;
"RTN","ONCSAPI",139,0)
 ;   $$CHKERR^ONCSAPIR   Checks for parsing and web-service errors
"RTN","ONCSAPI",140,0)
 ;     HEADER^ONCSAPIR   Generates the request header
"RTN","ONCSAPI",141,0)
 ;   $$PARAMS^ONCSAPIR   Converts input parameters into XML format
"RTN","ONCSAPI",142,0)
 ;        PUT^ONCSAPIR   Adds element/text to the destination buffer
"RTN","ONCSAPI",143,0)
 ;  $$REQUEST^ONCSAPIR   Sends the request and gets the response
"RTN","ONCSAPI",144,0)
 ;    TRAILER^ONCSAPIR   Generates the request trailer
"RTN","ONCSAPI",145,0)
 ;
"RTN","ONCSAPI",146,0)
 ; $$GETCSURL^ONCSAPIU   Returns the Oncology web-service URL
"RTN","ONCSAPI",147,0)
 ;     $$PAGE^ONCSAPIU   Pauses the output at page end
"RTN","ONCSAPI",148,0)
 ; $$UPDCSURL^ONCSAPIU   Updates the Oncology web-service URL
"RTN","ONCSAPI",149,0)
 ;         WW^ONCSAPIU   Wraps the string and prints it
"RTN","ONCSAPI",150,0)
 ;         ZW^ONCSAPIU   Emulates and extends the ZWRITE command
"RTN","ONCSAPI",151,0)
 ;
"RTN","ONCSAPI",152,0)
 ;   $$CHKVER^ONCSAPIV   Checks version of the local cache
"RTN","ONCSAPI",153,0)
 ;  $$VERSION^ONCSAPIV   Returns versions of web-service components
"RTN","ONCSAPI",154,0)
 ;
"RTN","ONCSAPI",155,0)
 ;      BEGIN^ONCSNACR   Starts the NAACCR record output
"RTN","ONCSAPI",156,0)
 ;        END^ONCSNACR   Finishes the NAACCR record output
"RTN","ONCSAPI",157,0)
 ;      WRITE^ONCSNACR   Outputs the piece of the NAACCR record
"RTN","ONCSAPI",158,0)
 ;
"RTN","ONCSAPI",159,0)
 ; INITIALS ------------ DEVELOPER
"RTN","ONCSAPI",160,0)
 ;
"RTN","ONCSAPI",161,0)
 ; SG                    Sergey Gavrilov
"RTN","ONCSAPI",162,0)
 ;
"RTN","ONCSAPI",163,0)
 Q
"RTN","ONCSAPI",164,0)
 ;
"RTN","ONCSAPI",165,0)
 ;***** DEMO ENTRY POINT
"RTN","ONCSAPI",166,0)
DEMO ;
"RTN","ONCSAPI",167,0)
 N DA,DIR,DIRUT,DTOUT,DUOUT,ONCSAPI,X,Y
"RTN","ONCSAPI",168,0)
 ;
"RTN","ONCSAPI",169,0)
 ;--- Debug mode?
"RTN","ONCSAPI",170,0)
 K DIR  S DIR(0)="Y"
"RTN","ONCSAPI",171,0)
 S DIR("A")="Run in debug mode"
"RTN","ONCSAPI",172,0)
 S DIR("B")="NO"
"RTN","ONCSAPI",173,0)
 D ^DIR  Q:$D(DIRUT)
"RTN","ONCSAPI",174,0)
 S:Y ONCSAPI("DEBUG")=1
"RTN","ONCSAPI",175,0)
 ;
"RTN","ONCSAPI",176,0)
 ;--- Select and run a demo
"RTN","ONCSAPI",177,0)
DEMOSEL K DIR  S DIR(0)="SO^C:Collaborative Staging;E:EDITS"
"RTN","ONCSAPI",178,0)
 S DIR("A")="Select a demo"
"RTN","ONCSAPI",179,0)
 D ^DIR  Q:$D(DIRUT)
"RTN","ONCSAPI",180,0)
 D  G DEMOSEL
"RTN","ONCSAPI",181,0)
 . I Y="C"  D DEMO^ONCSAPID(.ONCSAPI)  Q  ; Collaborative Staging
"RTN","ONCSAPI",182,0)
 . I Y="E"  D DEMO^ONCSEDEM(.ONCSAPI)  Q  ; EDITS
"RTN","ONCSAPI1")
0^14^B25134181
"RTN","ONCSAPI1",1,0)
ONCSAPI1 ;Hines OIFO/SG - COLLABORATIVE STAGING (DD TOOLS)  ; 12/7/06 9:10am
"RTN","ONCSAPI1",2,0)
 ;;2.11;ONCOLOGY;**40,41,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPI1",3,0)
 ;
"RTN","ONCSAPI1",4,0)
 Q
"RTN","ONCSAPI1",5,0)
 ;
"RTN","ONCSAPI1",6,0)
 ;***** DISPLAYS THE ERRORS
"RTN","ONCSAPI1",7,0)
ERRORS(MODE,ERRCODE) ;
"RTN","ONCSAPI1",8,0)
 S ERRCODE=+$G(ERRCODE)
"RTN","ONCSAPI1",9,0)
 ;--- Display the explanations (for the user)
"RTN","ONCSAPI1",10,0)
 I MODE="HLP"  D:(ERRCODE=-10)
"RTN","ONCSAPI1",11,0)
 . D ERROR^ONCSAPIE(-19,"Please try later.")
"RTN","ONCSAPI1",12,0)
 E  I MODE="INP"  D:(ERRCODE'=-2)
"RTN","ONCSAPI1",13,0)
 . D ERROR^ONCSAPIE(-20,"Please inform IRM about the problem.")
"RTN","ONCSAPI1",14,0)
 E  I MODE="CDN"  D:(ERRCODE=-10)
"RTN","ONCSAPI1",15,0)
 . D ERROR^ONCSAPIE(-21,"Please try later.")
"RTN","ONCSAPI1",16,0)
 ;--- Display the error stack (for the IRM)
"RTN","ONCSAPI1",17,0)
 D PRTERRS^ONCSAPIE()
"RTN","ONCSAPI1",18,0)
 Q
"RTN","ONCSAPI1",19,0)
 ;
"RTN","ONCSAPI1",20,0)
 ;***** DISPLAYS THE HELP FOR A FIELD
"RTN","ONCSAPI1",21,0)
 ;
"RTN","ONCSAPI1",22,0)
 ; TABLE         Table number (see the ^ONCSAPI routine)
"RTN","ONCSAPI1",23,0)
 ;
"RTN","ONCSAPI1",24,0)
 ; [IEN]         IEN of the record in the file #165.5
"RTN","ONCSAPI1",25,0)
 ;
"RTN","ONCSAPI1",26,0)
 ; [SITE]        Primary site
"RTN","ONCSAPI1",27,0)
 ; [HIST]        Histology
"RTN","ONCSAPI1",28,0)
 ;
"RTN","ONCSAPI1",29,0)
 ; Either the IEN or both the SITE and HIST must be provided.
"RTN","ONCSAPI1",30,0)
 ;
"RTN","ONCSAPI1",31,0)
HELP(TABLE,IEN,SITE,HIST) ;
"RTN","ONCSAPI1",32,0)
 N EXIT,I,MNL,NODE,NOTE,ONCMSG,ONCSAPI,RC,ROW,SHNS,TBLIEN,TMP
"RTN","ONCSAPI1",33,0)
 S SHNS=$S($G(X)="":1,1:X="??")
"RTN","ONCSAPI1",34,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCSAPI1",35,0)
 D:$G(IEN)>0
"RTN","ONCSAPI1",36,0)
 . S SITE=$TR($$GET1^DIQ(165.5,IEN,20.1,,,"ONCMSG"),".")
"RTN","ONCSAPI1",37,0)
 . S HIST=$$HIST^ONCFUNC(IEN)
"RTN","ONCSAPI1",38,0)
 I ($G(SITE)="")&($G(HIST)="")  D  Q
"RTN","ONCSAPI1",39,0)
 . S TMP=""
"RTN","ONCSAPI1",40,0)
 . S:$D(IEN)#10 TMP=TMP_", IEN="_IEN
"RTN","ONCSAPI1",41,0)
 . S:$D(SITE)#10 TMP=TMP_", SITE="_SITE
"RTN","ONCSAPI1",42,0)
 . S:$D(HIST)#10 TMP=TMP_", HIST="_HIST
"RTN","ONCSAPI1",43,0)
 . S TMP=$P(TMP,", ",2,999)
"RTN","ONCSAPI1",44,0)
 . D PRTERRS^ONCSAPIE($$ERROR^ONCSAPIE(-16,TMP,"IEN, SITE, HIST"))
"RTN","ONCSAPI1",45,0)
 ;---
"RTN","ONCSAPI1",46,0)
 L +^XTMP("ONCSAPI","TABLES","JOB",$J):5  E  D  Q
"RTN","ONCSAPI1",47,0)
 . D ERROR^ONCSAPIE(-15,,"access control node")
"RTN","ONCSAPI1",48,0)
 . D ERRORS("HLP")
"RTN","ONCSAPI1",49,0)
 ;
"RTN","ONCSAPI1",50,0)
 S RC=0  D
"RTN","ONCSAPI1",51,0)
 . ;--- Get the table IEN
"RTN","ONCSAPI1",52,0)
 . S TBLIEN=$$GETCSTBL^ONCSAPIT(.ONCSAPI,SITE,HIST,TABLE)
"RTN","ONCSAPI1",53,0)
 . I TBLIEN<0  S RC=TBLIEN  Q
"RTN","ONCSAPI1",54,0)
 . ;--- Initialize constants and variables
"RTN","ONCSAPI1",55,0)
 . S NODE=$NA(^XTMP("ONCSAPI","TABLES",TBLIEN))
"RTN","ONCSAPI1",56,0)
 . S MNL=$S($G(IOSL)>3:IOSL-3,1:20),$Y=0
"RTN","ONCSAPI1",57,0)
 . ;--- Display the title and optional subtitle
"RTN","ONCSAPI1",58,0)
 . S TMP=$G(@NODE@(0))
"RTN","ONCSAPI1",59,0)
 . D WW^ONCSAPIU($P(TMP,U,5))
"RTN","ONCSAPI1",60,0)
 . D:$P(TMP,U,6)'="" WW^ONCSAPIU($P(TMP,U,6))
"RTN","ONCSAPI1",61,0)
 . ;--- Display top notes
"RTN","ONCSAPI1",62,0)
 . I SHNS  D  I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",63,0)
 . . S (EXIT,NOTE)=0
"RTN","ONCSAPI1",64,0)
 . . F  S NOTE=$O(@NODE@("TN",NOTE))  Q:NOTE'>0  D  Q:EXIT
"RTN","ONCSAPI1",65,0)
 . . . D EN^DDIOL(" ")
"RTN","ONCSAPI1",66,0)
 . . . I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",67,0)
 . . . S I=0
"RTN","ONCSAPI1",68,0)
 . . . F  S I=$O(@NODE@("TN",NOTE,I))  Q:I'>0  D  Q:EXIT
"RTN","ONCSAPI1",69,0)
 . . . . D EN^DDIOL(@NODE@("TN",NOTE,I))
"RTN","ONCSAPI1",70,0)
 . . . . S:$Y'<MNL EXIT=$$PAGE^ONCSAPIU()
"RTN","ONCSAPI1",71,0)
 . ;--- Display the table
"RTN","ONCSAPI1",72,0)
 . D EN^DDIOL(" ")
"RTN","ONCSAPI1",73,0)
 . S (EXIT,ROW)=0
"RTN","ONCSAPI1",74,0)
 . F  S ROW=$O(@NODE@(ROW))  Q:ROW'>0  D  Q:EXIT
"RTN","ONCSAPI1",75,0)
 . . D EN^DDIOL($J($P(@NODE@(ROW,1),U),7))
"RTN","ONCSAPI1",76,0)
 . . D:$D(@NODE@(ROW,3,1)) EN^DDIOL(@NODE@(ROW,3,1),,"?9")
"RTN","ONCSAPI1",77,0)
 . . I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",78,0)
 . . S I=1
"RTN","ONCSAPI1",79,0)
 . . F  S I=$O(@NODE@(ROW,3,I))  Q:I=""  D  Q:EXIT
"RTN","ONCSAPI1",80,0)
 . . . D EN^DDIOL(@NODE@(ROW,3,I),,"!?9")
"RTN","ONCSAPI1",81,0)
 . . . S:$Y'<MNL EXIT=$$PAGE^ONCSAPIU()
"RTN","ONCSAPI1",82,0)
 . ;--- Display footnotes
"RTN","ONCSAPI1",83,0)
 . I SHNS  D  I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",84,0)
 . . S (EXIT,NOTE)=0
"RTN","ONCSAPI1",85,0)
 . . F  S NOTE=$O(@NODE@("FN",NOTE))  Q:NOTE'>0  D  Q:EXIT
"RTN","ONCSAPI1",86,0)
 . . . D EN^DDIOL(" ")
"RTN","ONCSAPI1",87,0)
 . . . I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",88,0)
 . . . S I=0
"RTN","ONCSAPI1",89,0)
 . . . F  S I=$O(@NODE@("FN",NOTE,I))  Q:I'>0  D  Q:EXIT
"RTN","ONCSAPI1",90,0)
 . . . . D EN^DDIOL(@NODE@("FN",NOTE,I))
"RTN","ONCSAPI1",91,0)
 . . . . S:$Y'<MNL EXIT=$$PAGE^ONCSAPIU()
"RTN","ONCSAPI1",92,0)
 . . D EN^DDIOL(" ")
"RTN","ONCSAPI1",93,0)
 ;
"RTN","ONCSAPI1",94,0)
 L -^XTMP("ONCSAPI","TABLES","JOB",$J)
"RTN","ONCSAPI1",95,0)
 D:RC<0 ERRORS("HLP",RC)
"RTN","ONCSAPI1",96,0)
 Q
"RTN","ONCSAPI1",97,0)
 ;
"RTN","ONCSAPI1",98,0)
 ;***** VALIDATES AND TRANSFORMS THE INPUT (CODES)
"RTN","ONCSAPI1",99,0)
 ;
"RTN","ONCSAPI1",100,0)
 ; X             Input value should be assigned to the X local
"RTN","ONCSAPI1",101,0)
 ;               variable before calling this procedure. The
"RTN","ONCSAPI1",102,0)
 ;               variable is KILL'ed if it has an invalid value.
"RTN","ONCSAPI1",103,0)
 ;
"RTN","ONCSAPI1",104,0)
 ; TABLE         Table number (see the ^ONCSAPI routine)
"RTN","ONCSAPI1",105,0)
 ;
"RTN","ONCSAPI1",106,0)
 ; CODELEN       Valid length of the code
"RTN","ONCSAPI1",107,0)
 ;
"RTN","ONCSAPI1",108,0)
 ; [IEN]         IEN of the record in the file #165.5
"RTN","ONCSAPI1",109,0)
 ;
"RTN","ONCSAPI1",110,0)
 ; [SITE]        Primary site
"RTN","ONCSAPI1",111,0)
 ; [HIST]        Histology
"RTN","ONCSAPI1",112,0)
 ;
"RTN","ONCSAPI1",113,0)
 ; [SILENT]      Silent mode flags (can be combined):
"RTN","ONCSAPI1",114,0)
 ;                 D  Do not display code description
"RTN","ONCSAPI1",115,0)
 ;                 E  Do not display error messages
"RTN","ONCSAPI1",116,0)
 ;
"RTN","ONCSAPI1",117,0)
 ; Either the IEN or both the SITE and HIST must be provided.
"RTN","ONCSAPI1",118,0)
 ;
"RTN","ONCSAPI1",119,0)
INPUT(TABLE,CODELEN,IEN,SITE,HIST,SILENT) ;
"RTN","ONCSAPI1",120,0)
 N CODE,ONCBUF,ONCSAPI,RC,TBLIEN,TMP
"RTN","ONCSAPI1",121,0)
 S X=$$TRIM^XLFSTR($G(X))
"RTN","ONCSAPI1",122,0)
 I X'?@(CODELEN_"N")  K X  Q
"RTN","ONCSAPI1",123,0)
 S:'($D(SILENT)#10) SILENT=$S($G(DIUTIL)="VERIFY FIELDS":"DE",1:"")
"RTN","ONCSAPI1",124,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCSAPI1",125,0)
 ;---
"RTN","ONCSAPI1",126,0)
 D:$G(IEN)>0
"RTN","ONCSAPI1",127,0)
 . S SITE=$TR($$GET1^DIQ(165.5,IEN,20.1,,,"ONCMSG"),".")
"RTN","ONCSAPI1",128,0)
 . S HIST=$$HIST^ONCFUNC(IEN)
"RTN","ONCSAPI1",129,0)
 I ($G(SITE)="")&($G(HIST)="")  D  K X  Q
"RTN","ONCSAPI1",130,0)
 . D PRTERRS^ONCSAPIE($$ERROR^ONCSAPIE(-16,,"IEN, SITE, HIST"))
"RTN","ONCSAPI1",131,0)
 ;---
"RTN","ONCSAPI1",132,0)
 L +^XTMP("ONCSAPI","TABLES","JOB",$J):5  E  D  K X  Q
"RTN","ONCSAPI1",133,0)
 . D ERROR^ONCSAPIE(-15,,"access control node")
"RTN","ONCSAPI1",134,0)
 . D ERRORS("INP")
"RTN","ONCSAPI1",135,0)
 ;
"RTN","ONCSAPI1",136,0)
 S RC=0  D
"RTN","ONCSAPI1",137,0)
 . ;--- Get the table IEN
"RTN","ONCSAPI1",138,0)
 . S TBLIEN=$$GETCSTBL^ONCSAPIT(.ONCSAPI,SITE,HIST,TABLE)
"RTN","ONCSAPI1",139,0)
 . I TBLIEN<0  S RC=TBLIEN  Q
"RTN","ONCSAPI1",140,0)
 . ;--- Check the single code
"RTN","ONCSAPI1",141,0)
 . S CODE=+$G(X)
"RTN","ONCSAPI1",142,0)
 . Q:$D(^XTMP("ONCSAPI","TABLES",TBLIEN,"C",CODE))
"RTN","ONCSAPI1",143,0)
 . ;--- Check the interval
"RTN","ONCSAPI1",144,0)
 . S TMP=$O(^XTMP("ONCSAPI","TABLES",TBLIEN,"C",CODE),-1)
"RTN","ONCSAPI1",145,0)
 . I TMP'=""  D  Q:CODE'>$P(TMP,U,2)
"RTN","ONCSAPI1",146,0)
 . . S TMP=$G(^XTMP("ONCSAPI","TABLES",TBLIEN,"C",TMP))
"RTN","ONCSAPI1",147,0)
 . ;--- Invalid value
"RTN","ONCSAPI1",148,0)
 . K X
"RTN","ONCSAPI1",149,0)
 ;
"RTN","ONCSAPI1",150,0)
 I $D(X)&(RC'<0)  D:SILENT'["D"
"RTN","ONCSAPI1",151,0)
 . Q:$$CODEDESC^ONCSAPIT(.ONCSAPI,SITE,HIST,TABLE,X,"ONCBUF")<0
"RTN","ONCSAPI1",152,0)
 . S TMP=""
"RTN","ONCSAPI1",153,0)
 . F  S TMP=$O(ONCBUF(TMP))  Q:TMP=""  S ONCBUF(TMP,"F")="!?2"
"RTN","ONCSAPI1",154,0)
 . D EN^DDIOL(.ONCBUF),EN^DDIOL(" ")
"RTN","ONCSAPI1",155,0)
 ;
"RTN","ONCSAPI1",156,0)
 L -^XTMP("ONCSAPI","TABLES","JOB",$J)
"RTN","ONCSAPI1",157,0)
 I RC<0  D:SILENT'["E" ERRORS("INP",RC)  K X
"RTN","ONCSAPI1",158,0)
 Q
"RTN","ONCSAPID")
0^2^B21856891
"RTN","ONCSAPID",1,0)
ONCSAPID ;Hines OIFO/SG - COLLABORATIVE STAGING (DEMO) ; 12/7/06 9:33am
"RTN","ONCSAPID",2,0)
 ;;2.11;ONCOLOGY;**40,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPID",3,0)
 ;
"RTN","ONCSAPID",4,0)
 Q
"RTN","ONCSAPID",5,0)
 ;
"RTN","ONCSAPID",6,0)
 ;***** DEMO ENTRY POINT
"RTN","ONCSAPID",7,0)
 ;
"RTN","ONCSAPID",8,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSAPID",9,0)
 ;
"RTN","ONCSAPID",10,0)
DEMO(ONCSAPI) ;
"RTN","ONCSAPID",11,0)
 N DISPLAY,EXIT,I,INPUT,RC,STATUS,STORE
"RTN","ONCSAPID",12,0)
 W !!?10,"DEMO CLIENT FOR THE COLLABORATIVE STAGING API",!
"RTN","ONCSAPID",13,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCSAPID",14,0)
 ;--- Check the DLL version
"RTN","ONCSAPID",15,0)
 S RC=$$CHKVER^ONCSAPIV(.ONCSAPI)
"RTN","ONCSAPID",16,0)
 D:RC<0 PRTERRS^ONCSAPIE()
"RTN","ONCSAPID",17,0)
 ;
"RTN","ONCSAPID",18,0)
 ;---
"RTN","ONCSAPID",19,0)
 S EXIT=0
"RTN","ONCSAPID",20,0)
 F  D  Q:EXIT
"RTN","ONCSAPID",21,0)
 . D CLEAR^ONCSAPIE()
"RTN","ONCSAPID",22,0)
 . ;--- Review/Edit input values
"RTN","ONCSAPID",23,0)
 . S RC=$$INPUT(.INPUT)
"RTN","ONCSAPID",24,0)
 . I RC<0  S EXIT=1  Q
"RTN","ONCSAPID",25,0)
 . ;--- Call the CS API
"RTN","ONCSAPID",26,0)
 . S RC=$$CALC^ONCSAPI3(.ONCSAPI,.INPUT,.STORE,.DISPLAY,.STATUS)
"RTN","ONCSAPID",27,0)
 . ;--- Display the output values
"RTN","ONCSAPID",28,0)
 . W !!,"Output values of the Collaborative Staging API",!
"RTN","ONCSAPID",29,0)
 . I $D(STORE)>1  S I=""  D  W !
"RTN","ONCSAPID",30,0)
 . . F  S I=$O(STORE(I))  Q:I=""  D
"RTN","ONCSAPID",31,0)
 . . . W !?2,$NA(STORE(I))_"="""_$G(STORE(I))_""""
"RTN","ONCSAPID",32,0)
 . . . W ?42,$NA(DISPLAY(I))_"="""_$G(DISPLAY(I))_""""
"RTN","ONCSAPID",33,0)
 . I RC  D  D ZW^ONCSAPIU("STATUS")
"RTN","ONCSAPID",34,0)
 . . W !,"$$CALC^ONCSAPI3="""_RC_"""",!
"RTN","ONCSAPID",35,0)
 . ;--- Display formatted error messages
"RTN","ONCSAPID",36,0)
 . D:RC<0 PRTERRS^ONCSAPIE()
"RTN","ONCSAPID",37,0)
 . ;--- Pause the output
"RTN","ONCSAPID",38,0)
 . S EXIT=$$PAGE^ONCSAPIU()  W !
"RTN","ONCSAPID",39,0)
 ;---
"RTN","ONCSAPID",40,0)
 Q
"RTN","ONCSAPID",41,0)
 ;
"RTN","ONCSAPID",42,0)
 ;***** USER INPUT FOR THE DEMO ENTRY POINT
"RTN","ONCSAPID",43,0)
 ;
"RTN","ONCSAPID",44,0)
 ; .ONCINP       Reference to a local variable for input parameters
"RTN","ONCSAPID",45,0)
 ;
"RTN","ONCSAPID",46,0)
 ; Return values:
"RTN","ONCSAPID",47,0)
 ;
"RTN","ONCSAPID",48,0)
 ;       -2  Timeout
"RTN","ONCSAPID",49,0)
 ;       -1  User entered an up-arrow
"RTN","ONCSAPID",50,0)
 ;        0  Ok
"RTN","ONCSAPID",51,0)
 ;
"RTN","ONCSAPID",52,0)
INPUT(ONCINP) ;
"RTN","ONCSAPID",53,0)
 ;;HIST     ^8000^4^Histologic Type ICD-O-3
"RTN","ONCSAPID",54,0)
 ;;SITE     ^C000^4^Primary Site
"RTN","ONCSAPID",55,0)
 ;;BEHAV    ^3   ^1^Behavior Code ICD-O-3
"RTN","ONCSAPID",56,0)
 ;;GRADE    ^1   ^1^Grade
"RTN","ONCSAPID",57,0)
 ;;AGE      ^043 ^3^Age at Diagnosis
"RTN","ONCSAPID",58,0)
 ;;SIZE     ^010 ^3^CS Tumor Size^1
"RTN","ONCSAPID",59,0)
 ;;EXT      ^20  ^2^CS Extension^2
"RTN","ONCSAPID",60,0)
 ;;EXTEVAL  ^0   ^1^CS Size/Ext Eval^3
"RTN","ONCSAPID",61,0)
 ;;NODES    ^11  ^2^CS Lymph Nodes^4
"RTN","ONCSAPID",62,0)
 ;;NODESEVAL^0   ^1^CS Reg Nodes Eval^5
"RTN","ONCSAPID",63,0)
 ;;LNPOS    ^98  ^2^Regional Nodes Positive^6
"RTN","ONCSAPID",64,0)
 ;;LNEXAM   ^00  ^2^Regional Nodes Examined^7
"RTN","ONCSAPID",65,0)
 ;;METS     ^00  ^2^CS Mets at DX^8
"RTN","ONCSAPID",66,0)
 ;;METSEVAL ^0   ^1^CS Mets Eval^9
"RTN","ONCSAPID",67,0)
 ;;SSF1     ^001 ^3^CS Site-Specific Factor 1^10
"RTN","ONCSAPID",68,0)
 ;;SSF2     ^000 ^3^CS Site-Specific Factor 2^11
"RTN","ONCSAPID",69,0)
 ;;SSF3     ^000 ^3^CS Site-Specific Factor 3^12
"RTN","ONCSAPID",70,0)
 ;;SSF4     ^000 ^3^CS Site-Specific Factor 4^13
"RTN","ONCSAPID",71,0)
 ;;SSF5     ^000 ^3^CS Site-Specific Factor 5^14
"RTN","ONCSAPID",72,0)
 ;;SSF6     ^000 ^3^CS Site-Specific Factor 6^15
"RTN","ONCSAPID",73,0)
 ;
"RTN","ONCSAPID",74,0)
 N DIR,DIRUT,DTOUT,DUOUT,FLDLST,ICOL,IFLD,IIF,IROW,ML,NAME,NFL,NR,ONCBUF,RC,TABLE,TMP,VAL,X,Y
"RTN","ONCSAPID",75,0)
 W !,"Input values for Collaborative Staging API"
"RTN","ONCSAPID",76,0)
 S RC=0
"RTN","ONCSAPID",77,0)
 ;--- Determine number of fields and load default values
"RTN","ONCSAPID",78,0)
 F NFL=1:1  S TMP=$P($T(INPUT+NFL),";;",2)  Q:TMP=""  D
"RTN","ONCSAPID",79,0)
 . S FLDESCR(NFL)=TMP,NAME=$TR($P(TMP,U)," ")
"RTN","ONCSAPID",80,0)
 . S:'$D(ONCINP(NAME)) ONCINP(NAME)=$TR($P(TMP,U,2)," ")
"RTN","ONCSAPID",81,0)
 S NFL=NFL-1
"RTN","ONCSAPID",82,0)
 ;
"RTN","ONCSAPID",83,0)
 ;--- Review and/or edit field values
"RTN","ONCSAPID",84,0)
 F  W !  D  Q:RC
"RTN","ONCSAPID",85,0)
 . ;--- Display current values
"RTN","ONCSAPID",86,0)
 . S NR=NFL\2
"RTN","ONCSAPID",87,0)
 . F IROW=1:1:NR  W !  D
"RTN","ONCSAPID",88,0)
 . . F ICOL=1,2   D
"RTN","ONCSAPID",89,0)
 . . . S IFLD=NR*(ICOL-1)+IROW,X=(ICOL-1)*40
"RTN","ONCSAPID",90,0)
 . . . S TMP=$P($T(INPUT+IFLD),";;",2),NAME=$TR($P(TMP,U)," ")
"RTN","ONCSAPID",91,0)
 . . . W ?(X+2),"["_$J(IFLD,2)_"] "_$P(TMP,U,4)
"RTN","ONCSAPID",92,0)
 . . . W ?(X+35),$G(ONCINP(NAME))
"RTN","ONCSAPID",93,0)
 . ;
"RTN","ONCSAPID",94,0)
 . ;--- Ask for field(s) to be edited
"RTN","ONCSAPID",95,0)
 . K DIR
"RTN","ONCSAPID",96,0)
 . S DIR(0)="LO^1:"_NFL_":0"
"RTN","ONCSAPID",97,0)
 . S DIR("A")="Select a field"
"RTN","ONCSAPID",98,0)
 . S DIR("?")="Enter field number(s), '^' to exit, or hit RETURN to call the CS API."
"RTN","ONCSAPID",99,0)
 . W !  D ^DIR
"RTN","ONCSAPID",100,0)
 . I $D(DTOUT)  S RC=-2  Q
"RTN","ONCSAPID",101,0)
 . I $D(DUOUT)  S RC=-1  Q
"RTN","ONCSAPID",102,0)
 . I '$G(Y)  S RC=1  Q
"RTN","ONCSAPID",103,0)
 . S FLDLST=Y
"RTN","ONCSAPID",104,0)
 . ;
"RTN","ONCSAPID",105,0)
 . F IIF=1:1  S IFLD=$P(FLDLST,",",IIF)  Q:IFLD'>0  D  Q:RC<0
"RTN","ONCSAPID",106,0)
 . . ;--- Edit the field value
"RTN","ONCSAPID",107,0)
 . . S TMP=$P($T(INPUT+IFLD),";;",2)
"RTN","ONCSAPID",108,0)
 . . S NAME=$TR($P(TMP,U)," "),ML=+$TR($P(TMP,U,3)," ")
"RTN","ONCSAPID",109,0)
 . . S TABLE=+$TR($P(TMP,U,5)," ")
"RTN","ONCSAPID",110,0)
 . . K DIR
"RTN","ONCSAPID",111,0)
 . . S DIR(0)="FO^1:"_ML
"RTN","ONCSAPID",112,0)
 . . S:TABLE>0 $P(DIR(0),U,3)="D INPUT^ONCSAPI1("_TABLE_","_ML_",,$G(ONCINP(""SITE"")),$G(ONCINP(""HIST"")))"
"RTN","ONCSAPID",113,0)
 . . S DIR("A")=$P(TMP,U,4)
"RTN","ONCSAPID",114,0)
 . . S DIR("B")=$G(ONCINP(NAME))
"RTN","ONCSAPID",115,0)
 . . S X=$S(ML>1:ML_" characters",1:"1 character")
"RTN","ONCSAPID",116,0)
 . . S DIR("?")="Enter the field value ("_X_")"
"RTN","ONCSAPID",117,0)
 . . S:TABLE>0 DIR("??")="^D HELP^ONCSAPI1("_TABLE_",,$G(ONCINP(""SITE"")),$G(ONCINP(""HIST"")))"
"RTN","ONCSAPID",118,0)
 . . W !
"RTN","ONCSAPID",119,0)
 . . S TMP=$$TBLTTL^ONCSAPIT(,$G(ONCINP("SITE")),$G(ONCINP("HIST")),TABLE)
"RTN","ONCSAPID",120,0)
 . . I TMP'<0  D:$P(TMP,U,3)'="" WW^ONCSAPIU($P(TMP,U,3),75)
"RTN","ONCSAPID",121,0)
 . . D ^DIR
"RTN","ONCSAPID",122,0)
 . . I $D(DTOUT)  S RC=-2  Q
"RTN","ONCSAPID",123,0)
 . . I $D(DUOUT)  S RC=-1  Q
"RTN","ONCSAPID",124,0)
 . . S ONCINP(NAME)=Y
"RTN","ONCSAPID",125,0)
 . S:(RC=-1)!(RC=-2) RC=0
"RTN","ONCSAPID",126,0)
 ;---
"RTN","ONCSAPID",127,0)
 Q $S(RC<0:RC,1:0)
"RTN","ONCSAPIE")
0^3^B50726698
"RTN","ONCSAPIE",1,0)
ONCSAPIE ;Hines OIFO/SG - COLLABORATIVE STAGING (ERRORS)  ; 10/27/06 8:59am
"RTN","ONCSAPIE",2,0)
 ;;2.11;ONCOLOGY;**40,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPIE",3,0)
 ;;
"RTN","ONCSAPIE",4,0)
 ;
"RTN","ONCSAPIE",5,0)
 Q
"RTN","ONCSAPIE",6,0)
 ;
"RTN","ONCSAPIE",7,0)
 ;***** INITIALIZES THE ERROR STACK
"RTN","ONCSAPIE",8,0)
 ;
"RTN","ONCSAPIE",9,0)
 ; [ENABLE]      Enable error stack (0/1)
"RTN","ONCSAPIE",10,0)
 ;
"RTN","ONCSAPIE",11,0)
CLEAR(ENABLE) ;
"RTN","ONCSAPIE",12,0)
 S:'$D(ENABLE) ENABLE=$D(ONCSAPI("MSG"))#10
"RTN","ONCSAPIE",13,0)
 K ONCSAPI("MSG")  S:ENABLE ONCSAPI("MSG")=""
"RTN","ONCSAPIE",14,0)
 D CLEAN^DILF
"RTN","ONCSAPIE",15,0)
 Q
"RTN","ONCSAPIE",16,0)
 ;
"RTN","ONCSAPIE",17,0)
 ;***** CHECKS THE ERRORS AFTER A FILEMAN DBS CALL
"RTN","ONCSAPIE",18,0)
 ;
"RTN","ONCSAPIE",19,0)
 ; ONC8MSG       Closed reference of the error messages array
"RTN","ONCSAPIE",20,0)
 ;               (from DBS calls)
"RTN","ONCSAPIE",21,0)
 ; [ERRCODE]     Error code to assign
"RTN","ONCSAPIE",22,0)
 ; [FILE]        File number used in the DBS call
"RTN","ONCSAPIE",23,0)
 ; [IENS]        IENS used in the DBS call
"RTN","ONCSAPIE",24,0)
 ;
"RTN","ONCSAPIE",25,0)
 ; The $$DBS^ONCSAPIE function checks the DIERR and @ONC8MSG
"RTN","ONCSAPIE",26,0)
 ; variables for errors after a FileMan DBS call.
"RTN","ONCSAPIE",27,0)
 ; 
"RTN","ONCSAPIE",28,0)
 ; Return Values:
"RTN","ONCSAPIE",29,0)
 ;
"RTN","ONCSAPIE",30,0)
 ; If there are no errors found, it returns an empty string.
"RTN","ONCSAPIE",31,0)
 ; In case of errors, the result depends on value of the ERRCODE
"RTN","ONCSAPIE",32,0)
 ; parameter:
"RTN","ONCSAPIE",33,0)
 ;
"RTN","ONCSAPIE",34,0)
 ; If ERRCODE is omitted or equals 0, the function returns a string
"RTN","ONCSAPIE",35,0)
 ; containing the list of error codes separated by comma.
"RTN","ONCSAPIE",36,0)
 ; 
"RTN","ONCSAPIE",37,0)
 ; If ERRCODE is not zero, the $$ERROR^ONCSAPIE function is called
"RTN","ONCSAPIE",38,0)
 ; and its return value is returned.
"RTN","ONCSAPIE",39,0)
 ;
"RTN","ONCSAPIE",40,0)
 ; NOTE: This entry point can also be called as a procedure:
"RTN","ONCSAPIE",41,0)
 ;       D DBS^ONCSAPIE(...) if you do not need its return value.
"RTN","ONCSAPIE",42,0)
 ;
"RTN","ONCSAPIE",43,0)
DBS(ONC8MSG,ERRCODE,FILE,IENS) ;
"RTN","ONCSAPIE",44,0)
 I '$G(DIERR)  Q:$QUIT ""  Q
"RTN","ONCSAPIE",45,0)
 N ERRLST,ERRNODE,I,MSGTEXT
"RTN","ONCSAPIE",46,0)
 S ERRNODE=$S($G(ONC8MSG)'="":$NA(@ONC8MSG@("DIERR")),1:$NA(^TMP("DIERR",$J)))
"RTN","ONCSAPIE",47,0)
 I $D(@ERRNODE)<10  Q:$QUIT ""  Q
"RTN","ONCSAPIE",48,0)
 ;--- Return a list of errors
"RTN","ONCSAPIE",49,0)
 I '$G(ERRCODE)  D  Q:$QUIT $P(ERRLST,",",2,99)  Q
"RTN","ONCSAPIE",50,0)
 . S ERRLST="",I=0
"RTN","ONCSAPIE",51,0)
 . F  S I=$O(@ERRNODE@("E",I))  Q:'I  S ERRLST=ERRLST_","_I
"RTN","ONCSAPIE",52,0)
 . D CLEAN^DILF
"RTN","ONCSAPIE",53,0)
 ;--- Record the error message
"RTN","ONCSAPIE",54,0)
 D MSG^DIALOG("AE",.MSGTEXT,,,$G(ONC8MSG)),CLEAN^DILF
"RTN","ONCSAPIE",55,0)
 S I=$S($G(FILE):"; File #"_FILE,1:"")
"RTN","ONCSAPIE",56,0)
 S:$G(IENS)'="" I=I_"; IENS: """_IENS_""""
"RTN","ONCSAPIE",57,0)
 S I=$$ERROR(ERRCODE,.MSGTEXT,I)
"RTN","ONCSAPIE",58,0)
 Q:$QUIT I  Q
"RTN","ONCSAPIE",59,0)
 ;
"RTN","ONCSAPIE",60,0)
 ;***** GENERATES THE ERROR MESSAGE
"RTN","ONCSAPIE",61,0)
 ;
"RTN","ONCSAPIE",62,0)
 ; ERRCODE       Error code.
"RTN","ONCSAPIE",63,0)
 ;               If the 'S' suffix is appended to the code, the error 
"RTN","ONCSAPIE",64,0)
 ;               descriptor will not be stored into the error stack.
"RTN","ONCSAPIE",65,0)
 ;
"RTN","ONCSAPIE",66,0)
 ; [[.]ONCINFO]  Optional additional information (either a string or
"RTN","ONCSAPIE",67,0)
 ;               a reference to a local array that contains strings
"RTN","ONCSAPIE",68,0)
 ;               prepared for storing in a word processing field)
"RTN","ONCSAPIE",69,0)
 ;
"RTN","ONCSAPIE",70,0)
 ; [ARG1-ARG5]   Optional parameters as for $$MSG^ONCSAPIE
"RTN","ONCSAPIE",71,0)
 ;
"RTN","ONCSAPIE",72,0)
 ; Return Values:
"RTN","ONCSAPIE",73,0)
 ;       <0  Error code^Message Text^Label+Offset^Routine
"RTN","ONCSAPIE",74,0)
 ;        0  Ok (if ERRCOCE'<0)
"RTN","ONCSAPIE",75,0)
 ;
"RTN","ONCSAPIE",76,0)
 ; NOTE: This entry point can also be called as a procedure:
"RTN","ONCSAPIE",77,0)
 ;       D ERROR^ONCSAPIE(...) if you do not need its return value.
"RTN","ONCSAPIE",78,0)
 ;
"RTN","ONCSAPIE",79,0)
ERROR(ERRCODE,ONCINFO,ARG1,ARG2,ARG3,ARG4,ARG5) ;
"RTN","ONCSAPIE",80,0)
 I ERRCODE'<0  Q:$QUIT 0  Q
"RTN","ONCSAPIE",81,0)
 N IEN,MSG,PLACE,SL,TMP
"RTN","ONCSAPIE",82,0)
 ;--- Get the error location
"RTN","ONCSAPIE",83,0)
 S SL=$STACK(-1)-1
"RTN","ONCSAPIE",84,0)
 F  Q:SL'>0  D  Q:'(PLACE["^ONCSAPIE")  S SL=SL-1
"RTN","ONCSAPIE",85,0)
 . S PLACE=$P($STACK(SL,"PLACE")," ")
"RTN","ONCSAPIE",86,0)
 S:$G(PLACE)'[U PLACE=U
"RTN","ONCSAPIE",87,0)
 ;--- Prepare the additional information
"RTN","ONCSAPIE",88,0)
 I $D(ONCINFO)=1  S TMP=ONCINFO  K ONCINFO  S ONCINFO(1)=TMP
"RTN","ONCSAPIE",89,0)
 ;--- Prepare and store the message descriptor
"RTN","ONCSAPIE",90,0)
 S MSG=$$MSG(ERRCODE,,.ARG1,.ARG2,.ARG3,.ARG4,.ARG5)
"RTN","ONCSAPIE",91,0)
 S MSG=(+ERRCODE)_U_MSG_U_PLACE
"RTN","ONCSAPIE",92,0)
 D:ERRCODE'["S" STORE(MSG,"ONCINFO")
"RTN","ONCSAPIE",93,0)
 ;---
"RTN","ONCSAPIE",94,0)
 Q:$QUIT MSG  Q
"RTN","ONCSAPIE",95,0)
 ;
"RTN","ONCSAPIE",96,0)
 ;***** RETURNS THE TEXT AND TYPE OF THE MESSAGE
"RTN","ONCSAPIE",97,0)
 ;
"RTN","ONCSAPIE",98,0)
 ; ERRCODE       Error code
"RTN","ONCSAPIE",99,0)
 ;
"RTN","ONCSAPIE",100,0)
 ; [.TYPE]       Type of the error
"RTN","ONCSAPIE",101,0)
 ;
"RTN","ONCSAPIE",102,0)
 ; [ARG1-ARG5]   Optional parameters that substitute the |n| "windows"
"RTN","ONCSAPIE",103,0)
 ;               in the text of the message (for example, the |2| will
"RTN","ONCSAPIE",104,0)
 ;               be substituted by the value of the ARG2).
"RTN","ONCSAPIE",105,0)
 ;
"RTN","ONCSAPIE",106,0)
 ; NOTE: The "^" is replaced with the "~" in the resulting message.
"RTN","ONCSAPIE",107,0)
 ;
"RTN","ONCSAPIE",108,0)
MSG(ERRCODE,TYPE,ARG1,ARG2,ARG3,ARG4,ARG5) ;
"RTN","ONCSAPIE",109,0)
 S TYPE=6  Q:ERRCODE'<0 ""
"RTN","ONCSAPIE",110,0)
 N ARG,I1,I2,MSG
"RTN","ONCSAPIE",111,0)
 ;--- Get a descriptor of the message
"RTN","ONCSAPIE",112,0)
 S I1=-ERRCODE,MSG=$P($T(MSGLIST+I1),";;",2)
"RTN","ONCSAPIE",113,0)
 S I1=+$TR($P(MSG,U,2)," "),MSG=$P(MSG,U,3,999)
"RTN","ONCSAPIE",114,0)
 S:I1>0 TYPE=I1
"RTN","ONCSAPIE",115,0)
 Q:MSG?." " "Unknown error ("_ERRCODE_")"
"RTN","ONCSAPIE",116,0)
 ;--- Substitute parameters
"RTN","ONCSAPIE",117,0)
 S I1=2
"RTN","ONCSAPIE",118,0)
 F  S I1=$F(MSG,"|",I1-1)  Q:'I1  D
"RTN","ONCSAPIE",119,0)
 . S I2=$F(MSG,"|",I1)  Q:'I2
"RTN","ONCSAPIE",120,0)
 . X "S ARG=$G(ARG"_+$TR($E(MSG,I1,I2-2)," ")_")"
"RTN","ONCSAPIE",121,0)
 . S $E(MSG,I1-1,I2-1)=ARG
"RTN","ONCSAPIE",122,0)
 Q $TR($$TRIM^XLFSTR(MSG),U,"~")
"RTN","ONCSAPIE",123,0)
 ;
"RTN","ONCSAPIE",124,0)
 ;***** DISPLAYS THE ERROR STACK OR A SINGLE ERROR MESSAGE
"RTN","ONCSAPIE",125,0)
 ;
"RTN","ONCSAPIE",126,0)
 ; [ERROR]       Descriptor of a single error to be displayed
"RTN","ONCSAPIE",127,0)
 ;
"RTN","ONCSAPIE",128,0)
PRTERRS(ERROR) ;
"RTN","ONCSAPIE",129,0)
 Q:'$G(ERROR)&($D(ONCSAPI("MSG"))<10)
"RTN","ONCSAPIE",130,0)
 N EXIT,IMSG,INFONODE,ONCMNL
"RTN","ONCSAPIE",131,0)
 S ONCMNL=$S($G(IOSL)>3:IOSL-3,1:20),$Y=0
"RTN","ONCSAPIE",132,0)
 ;--- Print table header
"RTN","ONCSAPIE",133,0)
 D EN^DDIOL("Code",,"!"),EN^DDIOL("Description",,"?6")
"RTN","ONCSAPIE",134,0)
 D EN^DDIOL("Additional Information",,"!?6")
"RTN","ONCSAPIE",135,0)
 D EN^DDIOL("Type",,"!?6"),EN^DDIOL("Location",,"?22")
"RTN","ONCSAPIE",136,0)
 D EN^DDIOL("----",,"!"),EN^DDIOL($$REPEAT^XLFSTR("-",IOM-7),,"?6")
"RTN","ONCSAPIE",137,0)
 ;--- Print a single error message
"RTN","ONCSAPIE",138,0)
 I $G(ERROR)  S EXIT=$$PRT1ERR(ERROR)  Q
"RTN","ONCSAPIE",139,0)
 ;--- Print the error stack (most recent messages first)
"RTN","ONCSAPIE",140,0)
 S IMSG=" ",EXIT=0
"RTN","ONCSAPIE",141,0)
 F  S IMSG=$O(ONCSAPI("MSG",IMSG),-1)  Q:IMSG'>0  D  Q:EXIT
"RTN","ONCSAPIE",142,0)
 . S INFONODE=$NA(ONCSAPI("MSG",IMSG,1))
"RTN","ONCSAPIE",143,0)
 . S EXIT=$$PRT1ERR(ONCSAPI("MSG",IMSG,0),INFONODE)
"RTN","ONCSAPIE",144,0)
 Q
"RTN","ONCSAPIE",145,0)
 ;
"RTN","ONCSAPIE",146,0)
PRT1ERR(ERR,ONC8INFO) ;
"RTN","ONCSAPIE",147,0)
 N EXIT,I,LOC,TYPE
"RTN","ONCSAPIE",148,0)
 S LOC=$S($P(ERR,U,4)'="":$P(ERR,U,3,4),1:$P(ERR,U,3))
"RTN","ONCSAPIE",149,0)
 S I=$$TYPE(+ERR,.TYPE)
"RTN","ONCSAPIE",150,0)
 ;---
"RTN","ONCSAPIE",151,0)
 S EXIT=0  D
"RTN","ONCSAPIE",152,0)
 . D EN^DDIOL($J(+ERR,4),,"!"),EN^DDIOL($E($P(ERR,U,2),1,IOM-7),,"?6")
"RTN","ONCSAPIE",153,0)
 . I $Y'<ONCMNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPIE",154,0)
 . ;---
"RTN","ONCSAPIE",155,0)
 . I $G(ONC8INFO)'="",$D(@ONC8INFO)>1  S I=""  D
"RTN","ONCSAPIE",156,0)
 . . F  S I=$O(@ONC8INFO@(I))  Q:I=""  D  Q:EXIT
"RTN","ONCSAPIE",157,0)
 . . . D EN^DDIOL($E(@ONC8INFO@(I),1,IOM-7),,"!?6")
"RTN","ONCSAPIE",158,0)
 . . . S:$Y'<ONCMNL EXIT=$$PAGE^ONCSAPIU()
"RTN","ONCSAPIE",159,0)
 . Q:EXIT
"RTN","ONCSAPIE",160,0)
 . ;---
"RTN","ONCSAPIE",161,0)
 . D EN^DDIOL(TYPE,,"!?6"),EN^DDIOL(LOC,,"?22"):LOC'?.1"^"
"RTN","ONCSAPIE",162,0)
 . I $Y'<ONCMNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPIE",163,0)
 ;---
"RTN","ONCSAPIE",164,0)
 D EN^DDIOL(" ")
"RTN","ONCSAPIE",165,0)
 Q EXIT
"RTN","ONCSAPIE",166,0)
 ;
"RTN","ONCSAPIE",167,0)
 ;***** STORES THE MESSAGE INTO THE ERROR STACK
"RTN","ONCSAPIE",168,0)
 ;
"RTN","ONCSAPIE",169,0)
 ; ERROR         Error descriptor (see ^ONCSAPI)
"RTN","ONCSAPIE",170,0)
 ;
"RTN","ONCSAPIE",171,0)
 ; [ONC8INFO]    Closed root of the variable that contains
"RTN","ONCSAPIE",172,0)
 ;               additional information related to the error
"RTN","ONCSAPIE",173,0)
 ;
"RTN","ONCSAPIE",174,0)
STORE(ERROR,ONC8INFO) ;
"RTN","ONCSAPIE",175,0)
 Q:'$D(ONCSAPI("MSG"))!($G(ERROR)'<0)
"RTN","ONCSAPIE",176,0)
 N IEN
"RTN","ONCSAPIE",177,0)
 S IEN=$O(ONCSAPI("MSG"," "),-1)+1
"RTN","ONCSAPIE",178,0)
 S ONCSAPI("MSG",IEN,0)=ERROR
"RTN","ONCSAPIE",179,0)
 M:$G(ONC8INFO)'="" ONCSAPI("MSG",IEN,1)=@ONC8INFO
"RTN","ONCSAPIE",180,0)
 S ONCSAPI("MSG","E",+ERROR,IEN)=""
"RTN","ONCSAPIE",181,0)
 Q
"RTN","ONCSAPIE",182,0)
 ;
"RTN","ONCSAPIE",183,0)
 ;***** RETURNS TYPE OF THE MESSAGE
"RTN","ONCSAPIE",184,0)
 ;
"RTN","ONCSAPIE",185,0)
 ; ERRCODE       Error code
"RTN","ONCSAPIE",186,0)
 ;
"RTN","ONCSAPIE",187,0)
 ; [.DESCR]      Reference to a local variable where the type
"RTN","ONCSAPIE",188,0)
 ;               description is returned to
"RTN","ONCSAPIE",189,0)
 ;
"RTN","ONCSAPIE",190,0)
TYPE(ERRCODE,DESCR) ;
"RTN","ONCSAPIE",191,0)
 I ERRCODE'<0  S DESCR=""  Q 0
"RTN","ONCSAPIE",192,0)
 N I,TYPE  S I=-ERRCODE
"RTN","ONCSAPIE",193,0)
 S I=$P($T(MSGLIST+I),";;",2),TYPE=+$TR($P(I,U,2)," ")
"RTN","ONCSAPIE",194,0)
 S:TYPE'>0 TYPE=6
"RTN","ONCSAPIE",195,0)
 S DESCR=$P("Debug^Information^Data Quality^Warning^Database Error^Error",U,TYPE)
"RTN","ONCSAPIE",196,0)
 Q TYPE
"RTN","ONCSAPIE",197,0)
 ;
"RTN","ONCSAPIE",198,0)
 ;***** LIST OF THE MESSAGES (THERE SHOULD BE NOTHING AFTER THE LIST!)
"RTN","ONCSAPIE",199,0)
 ;
"RTN","ONCSAPIE",200,0)
 ; The error codes are provided in the table only for clarity.
"RTN","ONCSAPIE",201,0)
 ; Text of the messages are extracted using the $TEXT function and
"RTN","ONCSAPIE",202,0)
 ; absolute values of the ERRCODE parameter.
"RTN","ONCSAPIE",203,0)
 ;
"RTN","ONCSAPIE",204,0)
 ; Message Type:
"RTN","ONCSAPIE",205,0)
 ;               1  Debug          4  Warning
"RTN","ONCSAPIE",206,0)
 ;               2  Information    5  Database Error
"RTN","ONCSAPIE",207,0)
 ;               3  Data Quality   6  Error
"RTN","ONCSAPIE",208,0)
 ;
"RTN","ONCSAPIE",209,0)
MSGLIST ; Code Type  Message Text
"RTN","ONCSAPIE",210,0)
 ;;  -1 ^ 6 ^ Missing input parameters
"RTN","ONCSAPIE",211,0)
 ;;  -2 ^ 6 ^ Errors returned by the Oncology web-service
"RTN","ONCSAPIE",212,0)
 ;;  -3 ^ 4 ^ XML parsing warning
"RTN","ONCSAPIE",213,0)
 ;;  -4 ^ 6 ^ XML parsing error
"RTN","ONCSAPIE",214,0)
 ;;  -5 ^ 6 ^ Error(s) during parsing of the result XML
"RTN","ONCSAPIE",215,0)
 ;;  -6 ^ 6 ^ Parameter '|1|' has an invalid value: '|2|'
"RTN","ONCSAPIE",216,0)
 ;;  -7 ^ 2 ^ Oncology web-service temporary moved to '|1|'
"RTN","ONCSAPIE",217,0)
 ;;  -8 ^ 2 ^ Oncology web-service permanently moved to '|1|'
"RTN","ONCSAPIE",218,0)
 ;;  -9 ^ 6 ^ FileMan DBS call error(s)|2|
"RTN","ONCSAPIE",219,0)
 ;; -10 ^ 6 ^ HTTP client error(s)
"RTN","ONCSAPIE",220,0)
 ;; -11 ^ 6 ^ Invalid URL of the Oncology web-service
"RTN","ONCSAPIE",221,0)
 ;; -12 ^ 6 ^ Too many redirections (|1|)
"RTN","ONCSAPIE",222,0)
 ;; -13 ^ 6 ^ Cannot get the CS version number
"RTN","ONCSAPIE",223,0)
 ;; -14 ^ 6 ^ Cannot get the schema number and name
"RTN","ONCSAPIE",224,0)
 ;; -15 ^ 6 ^ Cannot lock the |1|
"RTN","ONCSAPIE",225,0)
 ;; -16 ^ 6 ^ Invalid combination of input parameters: |1|
"RTN","ONCSAPIE",226,0)
 ;; -17 ^ 6 ^ Cannot update the Oncology web-service URL in file #160.1
"RTN","ONCSAPIE",227,0)
 ;; -18 ^ 6 ^ Missing redirection URL
"RTN","ONCSAPIE",228,0)
 ;; -19 ^ 2 ^ Unfortunately, the extended help is unavailable now.
"RTN","ONCSAPIE",229,0)
 ;; -20 ^ 2 ^ Unfortunately, input value cannot be validated.
"RTN","ONCSAPIE",230,0)
 ;; -21 ^ 2 ^ Unfortunately, the code description is unavailable now.
"RTN","ONCSAPIE",231,0)
 ;; -22 ^ 6 ^ Cannot get the URL of the Oncology web-service
"RTN","ONCSAPIE",232,0)
 ;; -23 ^ 6 ^ Cannot get the EDITS metafile version number
"RTN","ONCSAPIR")
0^4^B26610695
"RTN","ONCSAPIR",1,0)
ONCSAPIR ;Hines OIFO/SG - COLLABORATIVE STAGING (REQUEST)  ; 2/8/07 8:28am
"RTN","ONCSAPIR",2,0)
 ;;2.11;ONCOLOGY;**40,41,44,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPIR",3,0)
 ;
"RTN","ONCSAPIR",4,0)
 ; ONC8DST ------------- DESCRIPTOR OF THE DESTINATION BUFFER
"RTN","ONCSAPIR",5,0)
 ;                       (a parameter of HEADER, PUT, and TRAILER)
"RTN","ONCSAPIR",6,0)
 ;
"RTN","ONCSAPIR",7,0)
 ; ONC8DST(              Closed root of the destination buffer
"RTN","ONCSAPIR",8,0)
 ;   "PTR")              Pointer in the destination buffer
"RTN","ONCSAPIR",9,0)
 ;   "PTRC")             Continuation pointer (optional)
"RTN","ONCSAPIR",10,0)
 ;   "REQ")              Name of the root tag of the request
"RTN","ONCSAPIR",11,0)
 ;
"RTN","ONCSAPIR",12,0)
 Q
"RTN","ONCSAPIR",13,0)
 ;
"RTN","ONCSAPIR",14,0)
 ;***** APPENDS THE STRING TO THE LAST LINE OF THE DESTINATION BUFFER
"RTN","ONCSAPIR",15,0)
 ;
"RTN","ONCSAPIR",16,0)
 ; .ONC8DST      Reference to a descriptor of the destination buffer.
"RTN","ONCSAPIR",17,0)
 ;
"RTN","ONCSAPIR",18,0)
 ; STR           String
"RTN","ONCSAPIR",19,0)
 ;
"RTN","ONCSAPIR",20,0)
 ; [NOENC]       Disable XML encoding (enabled by default)
"RTN","ONCSAPIR",21,0)
 ;
"RTN","ONCSAPIR",22,0)
 ; This procedure appends the string as the continuation node
"RTN","ONCSAPIR",23,0)
 ; to the last line added by the PUT^ONCSAPIR.
"RTN","ONCSAPIR",24,0)
 ;
"RTN","ONCSAPIR",25,0)
APPEND(ONC8DST,STR,NOENC) ;
"RTN","ONCSAPIR",26,0)
 Q:$G(ONC8DST("PTR"))'>0
"RTN","ONCSAPIR",27,0)
 N ENCSTR,I1,I2,S1
"RTN","ONCSAPIR",28,0)
 S ENCSTR=$S('$G(NOENC):$$SYMENC^MXMLUTL(STR),1:STR)
"RTN","ONCSAPIR",29,0)
 S I2=0
"RTN","ONCSAPIR",30,0)
 F  S I1=I2+1,I2=I1+249,S1=$E(ENCSTR,I1,I2)  Q:S1=""  D
"RTN","ONCSAPIR",31,0)
 . S ONC8DST("PTRC")=$G(ONC8DST("PTRC"))+1
"RTN","ONCSAPIR",32,0)
 . S @ONC8DST@(ONC8DST("PTR"),ONC8DST("PTRC"))=S1
"RTN","ONCSAPIR",33,0)
 Q
"RTN","ONCSAPIR",34,0)
 ;
"RTN","ONCSAPIR",35,0)
 ;***** CHECKS FOR PARSING AND WEB SERVICE ERRORS
"RTN","ONCSAPIR",36,0)
 ;
"RTN","ONCSAPIR",37,0)
 ; .ONCXML       Reference to the XML parsing descriptor
"RTN","ONCSAPIR",38,0)
 ;
"RTN","ONCSAPIR",39,0)
 ; [ONC8INFO]    Closed root of the variable that contains
"RTN","ONCSAPIR",40,0)
 ;               additional information related to the error
"RTN","ONCSAPIR",41,0)
 ;
"RTN","ONCSAPIR",42,0)
 ; Return values:
"RTN","ONCSAPIR",43,0)
 ;
"RTN","ONCSAPIR",44,0)
 ;       <0  Error Descriptor
"RTN","ONCSAPIR",45,0)
 ;        0  Ok
"RTN","ONCSAPIR",46,0)
 ;        1  Warning(s)
"RTN","ONCSAPIR",47,0)
 ;
"RTN","ONCSAPIR",48,0)
CHKERR(ONCXML,ONC8INFO) ;
"RTN","ONCSAPIR",49,0)
 N RC,TMP
"RTN","ONCSAPIR",50,0)
 I $G(ONCXML("ERR"))>0  Q $$ERROR^ONCSAPIE(-5)
"RTN","ONCSAPIR",51,0)
 I $G(ONCXML("FAULTCODE"))'=""  D  Q RC
"RTN","ONCSAPIR",52,0)
 . S TMP=$TR($G(ONCXML("FAULTSTRING")),"^","~")
"RTN","ONCSAPIR",53,0)
 . S:TMP="" TMP="Unknown error"
"RTN","ONCSAPIR",54,0)
 . S RC="-2"_U_ONCXML("FAULTCODE")_": "_TMP
"RTN","ONCSAPIR",55,0)
 . D STORE^ONCSAPIE(RC,$G(ONC8INFO))
"RTN","ONCSAPIR",56,0)
 . ;--- Error code -11 is returned by the web-service if the
"RTN","ONCSAPIR",57,0)
 . ;    CStage_calculate function calculated only some staging
"RTN","ONCSAPIR",58,0)
 . ;--- values and returned warning(s).
"RTN","ONCSAPIR",59,0)
 . S:+$G(ONCXML("RC"))=-11 RC=1
"RTN","ONCSAPIR",60,0)
 Q 0
"RTN","ONCSAPIR",61,0)
 ;
"RTN","ONCSAPIR",62,0)
 ;***** STORES THE REQUEST HEADER INTO THE DESTINATION BUFFER
"RTN","ONCSAPIR",63,0)
 ;
"RTN","ONCSAPIR",64,0)
 ; .ONC8DST      Reference to a descriptor of the destination buffer.
"RTN","ONCSAPIR",65,0)
 ;
"RTN","ONCSAPIR",66,0)
 ; REQUEST       Name of the root tag of the request.
"RTN","ONCSAPIR",67,0)
 ;
"RTN","ONCSAPIR",68,0)
 ; [.ATTS]       Reference to a local variable that stores a list
"RTN","ONCSAPIR",69,0)
 ;               of attribute values (ATTS(name)=value).
"RTN","ONCSAPIR",70,0)
 ;
"RTN","ONCSAPIR",71,0)
HEADER(ONC8DST,REQUEST,ATTS) ;
"RTN","ONCSAPIR",72,0)
 ;;<soap:Envelope xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSAPIR",73,0)
 ;; soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSAPIR",74,0)
 ;;<soap:Body>
"RTN","ONCSAPIR",75,0)
 ;
"RTN","ONCSAPIR",76,0)
 N I,TAG,TMP
"RTN","ONCSAPIR",77,0)
 S ONC8DST("PTR")=0  K @ONC8DST
"RTN","ONCSAPIR",78,0)
 D PUT(.ONC8DST,,$$XMLHDR^MXMLUTL())
"RTN","ONCSAPIR",79,0)
 F I=1:1  S TMP=$P($T(HEADER+I),";;",2)  Q:TMP=""  D
"RTN","ONCSAPIR",80,0)
 . D PUT(.ONC8DST,,TMP)
"RTN","ONCSAPIR",81,0)
 S TAG=REQUEST,I=""
"RTN","ONCSAPIR",82,0)
 F  S I=$O(ATTS(I))  Q:I=""  D
"RTN","ONCSAPIR",83,0)
 . S TAG=TAG_" "_I_"="""_$$SYMENC^MXMLUTL(ATTS(I))_""""
"RTN","ONCSAPIR",84,0)
 S TAG=TAG_" ver=""2.0"" xmlns=""http://websrv.oncology.med.va.gov"""
"RTN","ONCSAPIR",85,0)
 D PUT(.ONC8DST,TAG,,1)
"RTN","ONCSAPIR",86,0)
 S ONC8DST("REQ")=REQUEST
"RTN","ONCSAPIR",87,0)
 Q
"RTN","ONCSAPIR",88,0)
 ;
"RTN","ONCSAPIR",89,0)
 ;***** CONVERTS INPUT PARAMETERS INTO XML FORMAT
"RTN","ONCSAPIR",90,0)
 ;
"RTN","ONCSAPIR",91,0)
 ; ONC8DST       Closed root of the destination buffer
"RTN","ONCSAPIR",92,0)
 ;
"RTN","ONCSAPIR",93,0)
 ; REQUEST       Name of the root tag of the request.
"RTN","ONCSAPIR",94,0)
 ;
"RTN","ONCSAPIR",95,0)
 ; [.INPUT]      Reference to a local variable containg
"RTN","ONCSAPIR",96,0)
 ;               input parameters.
"RTN","ONCSAPIR",97,0)
 ;
"RTN","ONCSAPIR",98,0)
 ; Return values:
"RTN","ONCSAPIR",99,0)
 ;
"RTN","ONCSAPIR",100,0)
 ;       <0  Error Descriptor
"RTN","ONCSAPIR",101,0)
 ;        0  Ok
"RTN","ONCSAPIR",102,0)
 ;
"RTN","ONCSAPIR",103,0)
PARAMS(ONC8DST,REQUEST,INPUT) ;
"RTN","ONCSAPIR",104,0)
 N I,NAME,VAL
"RTN","ONCSAPIR",105,0)
 D HEADER(.ONC8DST,REQUEST)
"RTN","ONCSAPIR",106,0)
 ;---
"RTN","ONCSAPIR",107,0)
 S NAME=""
"RTN","ONCSAPIR",108,0)
 F  S NAME=$O(INPUT(NAME))  Q:NAME=""  D
"RTN","ONCSAPIR",109,0)
 . S VAL=$G(INPUT(NAME))  D:VAL'="" PUT(.ONC8DST,NAME,VAL)
"RTN","ONCSAPIR",110,0)
 ;---
"RTN","ONCSAPIR",111,0)
 D TRAILER(.ONC8DST)
"RTN","ONCSAPIR",112,0)
 Q 0
"RTN","ONCSAPIR",113,0)
 ;
"RTN","ONCSAPIR",114,0)
 ;***** ADDS THE ELEMENT/TEXT TO THE DESTINATION BUFFER
"RTN","ONCSAPIR",115,0)
 ;
"RTN","ONCSAPIR",116,0)
 ; .ONC8DST      Reference to a descriptor of the destination buffer.
"RTN","ONCSAPIR",117,0)
 ;
"RTN","ONCSAPIR",118,0)
 ; [NAME]        Name of the element. If omitted or empty then the
"RTN","ONCSAPIR",119,0)
 ;               text line defined by the second parameter is added
"RTN","ONCSAPIR",120,0)
 ;               to the buffer.
"RTN","ONCSAPIR",121,0)
 ;
"RTN","ONCSAPIR",122,0)
 ; [VAL]         Value of the element.
"RTN","ONCSAPIR",123,0)
 ;
"RTN","ONCSAPIR",124,0)
 ; [TAGONLY]     Ignore the value and output only the tag defined
"RTN","ONCSAPIR",125,0)
 ;               by the NAME parameter
"RTN","ONCSAPIR",126,0)
 ;
"RTN","ONCSAPIR",127,0)
PUT(ONC8DST,NAME,VAL,TAGONLY) ;
"RTN","ONCSAPIR",128,0)
 S (ONC8DST("PTR"),PTR)=ONC8DST("PTR")+1  K ONC8DST("PTRC")
"RTN","ONCSAPIR",129,0)
 I $G(NAME)=""  S @ONC8DST@(PTR)=$G(VAL)        Q
"RTN","ONCSAPIR",130,0)
 I $G(TAGONLY)  S @ONC8DST@(PTR)="<"_NAME_">"   Q
"RTN","ONCSAPIR",131,0)
 I $G(VAL)=""   S @ONC8DST@(PTR)="<"_NAME_"/>"  Q
"RTN","ONCSAPIR",132,0)
 S @ONC8DST@(PTR)="<"_NAME_">"_$$SYMENC^MXMLUTL(VAL)_"</"_NAME_">"
"RTN","ONCSAPIR",133,0)
 Q
"RTN","ONCSAPIR",134,0)
 ;
"RTN","ONCSAPIR",135,0)
 ;***** SENDS THE REQUEST AND GETS THE RESPONSE
"RTN","ONCSAPIR",136,0)
 ;
"RTN","ONCSAPIR",137,0)
 ; URL           URL (http://host:port/path)
"RTN","ONCSAPIR",138,0)
 ;
"RTN","ONCSAPIR",139,0)
 ; ONC8RSP       Closed root of the variable where the
"RTN","ONCSAPIR",140,0)
 ;               response text will be returned.
"RTN","ONCSAPIR",141,0)
 ;
"RTN","ONCSAPIR",142,0)
 ; [ONC8REQ]     Closed root of the variable containing
"RTN","ONCSAPIR",143,0)
 ;               the text of the request.
"RTN","ONCSAPIR",144,0)
 ;
"RTN","ONCSAPIR",145,0)
 ; Return Values:
"RTN","ONCSAPIR",146,0)
 ;        0  Ok
"RTN","ONCSAPIR",147,0)
 ;       <0  Error code
"RTN","ONCSAPIR",148,0)
 ;
"RTN","ONCSAPIR",149,0)
REQUEST(URL,ONC8RSP,ONC8REQ) ;
"RTN","ONCSAPIR",150,0)
 N HS,ONCINFO,ONCRHDR,ONCSHDR,RC,REPCNT,REPEAT,TMP
"RTN","ONCSAPIR",151,0)
 ;--- Prepare the request header
"RTN","ONCSAPIR",152,0)
 S ONCSHDR("Content-Type")="text/xml"
"RTN","ONCSAPIR",153,0)
 ;---
"RTN","ONCSAPIR",154,0)
 S (RC,REPCNT)=0  D
"RTN","ONCSAPIR",155,0)
 . F  S REPEAT=0  D  Q:'REPEAT
"RTN","ONCSAPIR",156,0)
 . . ;--- Call the web service
"RTN","ONCSAPIR",157,0)
 . . S RC=$$GETURL^ONCX10(URL,60,ONC8RSP,.ONCRHDR,$G(ONC8REQ),.ONCSHDR)
"RTN","ONCSAPIR",158,0)
 . . S HS=+RC  Q:HS=200
"RTN","ONCSAPIR",159,0)
 . . ;--- Temporary redirection
"RTN","ONCSAPIR",160,0)
 . . I HS=302  D  Q
"RTN","ONCSAPIR",161,0)
 . . . S REPCNT=REPCNT+1
"RTN","ONCSAPIR",162,0)
 . . . I REPCNT>5  S RC=$$ERROR^ONCSAPIE(-12,,REPCNT)  Q
"RTN","ONCSAPIR",163,0)
 . . . S URL=$G(ONCRHDR("LOCATION"))
"RTN","ONCSAPIR",164,0)
 . . . I URL?." "  S RC=$$ERROR^ONCSAPIE(-18)          Q
"RTN","ONCSAPIR",165,0)
 . . . D ERROR^ONCSAPIE(-7,,URL)  S REPEAT=1,RC=0
"RTN","ONCSAPIR",166,0)
 . . ;--- Permanent redirection
"RTN","ONCSAPIR",167,0)
 . . I HS=301  D  Q
"RTN","ONCSAPIR",168,0)
 . . . S REPCNT=REPCNT+1
"RTN","ONCSAPIR",169,0)
 . . . I REPCNT>5  S RC=$$ERROR^ONCSAPIE(-12,,REPCNT)  Q
"RTN","ONCSAPIR",170,0)
 . . . S URL=$G(ONCRHDR("LOCATION"))
"RTN","ONCSAPIR",171,0)
 . . . I URL?." "  S RC=$$ERROR^ONCSAPIE(-18)          Q
"RTN","ONCSAPIR",172,0)
 . . . S RC=$$UPDCSURL^ONCSAPIU(URL)                   Q:RC<0
"RTN","ONCSAPIR",173,0)
 . . . D ERROR^ONCSAPIE(-8,,URL)  S REPEAT=1,RC=0
"RTN","ONCSAPIR",174,0)
 . . ;--- Record the HTTP client error
"RTN","ONCSAPIR",175,0)
 . . K ONCINFO  S ONCINFO(1)=$P(RC,U,2)_" ("_$P(RC,U)_")"
"RTN","ONCSAPIR",176,0)
 . . S RC=$$ERROR^ONCSAPIE(-10,.ONCINFO)
"RTN","ONCSAPIR",177,0)
 . Q:RC<0
"RTN","ONCSAPIR",178,0)
 ;---
"RTN","ONCSAPIR",179,0)
 Q $S(RC<0:RC,1:0)
"RTN","ONCSAPIR",180,0)
 ;
"RTN","ONCSAPIR",181,0)
 ;***** APPENDS THE REQUEST TRAILER TO THE DESTINATION BUFFER
"RTN","ONCSAPIR",182,0)
 ;
"RTN","ONCSAPIR",183,0)
 ; .ONC8DST      Reference to a descriptor of the destination buffer.
"RTN","ONCSAPIR",184,0)
 ;
"RTN","ONCSAPIR",185,0)
TRAILER(ONC8DST) ;
"RTN","ONCSAPIR",186,0)
 S ONC8DST("PTR")=+$O(@ONC8DST@(""),-1)
"RTN","ONCSAPIR",187,0)
 D PUT(.ONC8DST,"/"_ONC8DST("REQ"),,1)
"RTN","ONCSAPIR",188,0)
 D PUT(.ONC8DST,"/soap:Body",,1)
"RTN","ONCSAPIR",189,0)
 D PUT(.ONC8DST,"/soap:Envelope",,1)
"RTN","ONCSAPIR",190,0)
 Q
"RTN","ONCSAPIT")
0^13^B76432501
"RTN","ONCSAPIT",1,0)
ONCSAPIT ;Hines OIFO/SG - COLLABORATIVE STAGING (TABLES)  ; 12/7/06 11:26am
"RTN","ONCSAPIT",2,0)
 ;;2.11;ONCOLOGY;**40,41,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPIT",3,0)
 ;
"RTN","ONCSAPIT",4,0)
 ;--- STRUCTURE OF THE RESPONSE
"RTN","ONCSAPIT",5,0)
 ;
"RTN","ONCSAPIT",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSAPIT",7,0)
 ; <soap:Envelope
"RTN","ONCSAPIT",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSAPIT",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSAPIT",10,0)
 ;   <soap:Body>
"RTN","ONCSAPIT",11,0)
 ;     <CS-RESPONSE xmlns="http://vista.med.va.gov/oncology">
"RTN","ONCSAPIT",12,0)
 ;       <SCHEMA>...</SCHEMA>
"RTN","ONCSAPIT",13,0)
 ;       <TABLE>
"RTN","ONCSAPIT",14,0)
 ;         <NUMBER>...</NUMBER>
"RTN","ONCSAPIT",15,0)
 ;         <PATTERN>...</PATTERN>
"RTN","ONCSAPIT",16,0)
 ;         <ROLE>...</ROLE>
"RTN","ONCSAPIT",17,0)
 ;         <SUBTITLE>...</SUBTITLE>
"RTN","ONCSAPIT",18,0)
 ;         <TITLE>...</TITLE>
"RTN","ONCSAPIT",19,0)
 ;         <ROWS>
"RTN","ONCSAPIT",20,0)
 ;           <ROW>
"RTN","ONCSAPIT",21,0)
 ;             <CODE>...</CODE>
"RTN","ONCSAPIT",22,0)
 ;             <DESCR>
"RTN","ONCSAPIT",23,0)
 ;               <P>...</P>
"RTN","ONCSAPIT",24,0)
 ;               ...
"RTN","ONCSAPIT",25,0)
 ;             </DESCR>
"RTN","ONCSAPIT",26,0)
 ;             <AC>...</AC>
"RTN","ONCSAPIT",27,0)
 ;             ...
"RTN","ONCSAPIT",28,0)
 ;           </ROW>
"RTN","ONCSAPIT",29,0)
 ;           ...
"RTN","ONCSAPIT",30,0)
 ;         </ROWS>
"RTN","ONCSAPIT",31,0)
 ;         <NOTES>
"RTN","ONCSAPIT",32,0)
 ;           <TN>
"RTN","ONCSAPIT",33,0)
 ;             <P>...</P>
"RTN","ONCSAPIT",34,0)
 ;             ...
"RTN","ONCSAPIT",35,0)
 ;           </TN>
"RTN","ONCSAPIT",36,0)
 ;           ...
"RTN","ONCSAPIT",37,0)
 ;           <FN>
"RTN","ONCSAPIT",38,0)
 ;             <P>...</P>
"RTN","ONCSAPIT",39,0)
 ;             ...
"RTN","ONCSAPIT",40,0)
 ;           </FN>
"RTN","ONCSAPIT",41,0)
 ;           ...
"RTN","ONCSAPIT",42,0)
 ;         </NOTES>
"RTN","ONCSAPIT",43,0)
 ;       </TABLE>
"RTN","ONCSAPIT",44,0)
 ;       ...
"RTN","ONCSAPIT",45,0)
 ;     </CS-RESPONSE>
"RTN","ONCSAPIT",46,0)
 ;     <soap:Fault>
"RTN","ONCSAPIT",47,0)
 ;       <faultcode> ... </faultcode>
"RTN","ONCSAPIT",48,0)
 ;       <faultstring> ... </faultstring>
"RTN","ONCSAPIT",49,0)
 ;       <detail>
"RTN","ONCSAPIT",50,0)
 ;         <RC> ... </RC>
"RTN","ONCSAPIT",51,0)
 ;       </detail>
"RTN","ONCSAPIT",52,0)
 ;     </soap:Fault>
"RTN","ONCSAPIT",53,0)
 ;   </soap:Body >
"RTN","ONCSAPIT",54,0)
 ; </soap:Envelope>
"RTN","ONCSAPIT",55,0)
 ;
"RTN","ONCSAPIT",56,0)
 Q
"RTN","ONCSAPIT",57,0)
 ;
"RTN","ONCSAPIT",58,0)
 ;***** LOADS THE CS CODE DESCRIPTION
"RTN","ONCSAPIT",59,0)
 ;
"RTN","ONCSAPIT",60,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSAPI)
"RTN","ONCSAPIT",61,0)
 ;
"RTN","ONCSAPIT",62,0)
 ; SITE          Primary site
"RTN","ONCSAPIT",63,0)
 ; HIST          Histology
"RTN","ONCSAPIT",64,0)
 ;
"RTN","ONCSAPIT",65,0)
 ; TABLE         Table number (see the ^ONCSAPI routine)
"RTN","ONCSAPIT",66,0)
 ; CODE          Primary code of a table row
"RTN","ONCSAPIT",67,0)
 ;
"RTN","ONCSAPIT",68,0)
 ; ONC8DST       Closed reference of the destination buffer
"RTN","ONCSAPIT",69,0)
 ;
"RTN","ONCSAPIT",70,0)
 ; Return Values:
"RTN","ONCSAPIT",71,0)
 ;        0  Ok
"RTN","ONCSAPIT",72,0)
 ;       <0  Error code
"RTN","ONCSAPIT",73,0)
 ;
"RTN","ONCSAPIT",74,0)
CODEDESC(ONCSAPI,SITE,HIST,TABLE,CODE,ONC8DST) ;
"RTN","ONCSAPIT",75,0)
 N I,NODE,RC,ROW,TBLIEN,TMP
"RTN","ONCSAPIT",76,0)
 D CLEAR^ONCSAPIE()  K @ONC8DST
"RTN","ONCSAPIT",77,0)
 Q:$G(CODE)?." " $$ERROR^ONCSAPIE(-6,,"CODE",$G(CODE))
"RTN","ONCSAPIT",78,0)
 ;---
"RTN","ONCSAPIT",79,0)
 L +^XTMP("ONCSAPI","TABLES","JOB",$J):5  E  D  Q RC
"RTN","ONCSAPIT",80,0)
 . S RC=$$ERROR^ONCSAPIE(-15,,"access control node")
"RTN","ONCSAPIT",81,0)
 ;
"RTN","ONCSAPIT",82,0)
 S RC=0  D
"RTN","ONCSAPIT",83,0)
 . ;--- Get the table IEN
"RTN","ONCSAPIT",84,0)
 . S TBLIEN=$$GETCSTBL(.ONCSAPI,SITE,HIST,TABLE)
"RTN","ONCSAPIT",85,0)
 . I TBLIEN<0  S RC=TBLIEN  Q
"RTN","ONCSAPIT",86,0)
 . S NODE=$NA(^XTMP("ONCSAPI","TABLES",TBLIEN))
"RTN","ONCSAPIT",87,0)
 . S CODE=+$G(CODE)
"RTN","ONCSAPIT",88,0)
 . ;--- Check the single code
"RTN","ONCSAPIT",89,0)
 . S ROW=$G(@NODE@("C",CODE))
"RTN","ONCSAPIT",90,0)
 . ;--- Check the interval
"RTN","ONCSAPIT",91,0)
 . I ROW'>0  D  I ROW'>0  S RC=$$ERROR^ONCSAPIE(-6,,"CODE",CODE)  Q
"RTN","ONCSAPIT",92,0)
 . . S TMP=$O(@NODE@("C",CODE),-1)  Q:TMP=""
"RTN","ONCSAPIT",93,0)
 . . S ROW=$G(@NODE@("C",TMP))
"RTN","ONCSAPIT",94,0)
 . . S:CODE>$P(ROW,U,2) ROW=0
"RTN","ONCSAPIT",95,0)
 . ;--- Load the description
"RTN","ONCSAPIT",96,0)
 . M @ONC8DST=@NODE@(+ROW,3)
"RTN","ONCSAPIT",97,0)
 ;
"RTN","ONCSAPIT",98,0)
 L -^XTMP("ONCSAPI","TABLES","JOB",$J)
"RTN","ONCSAPIT",99,0)
 Q $S(RC<0:RC,1:0)
"RTN","ONCSAPIT",100,0)
 ;
"RTN","ONCSAPIT",101,0)
 ;***** END ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIT",102,0)
 ;
"RTN","ONCSAPIT",103,0)
 ; ELMT          Name of the element
"RTN","ONCSAPIT",104,0)
 ;
"RTN","ONCSAPIT",105,0)
ENDEL(ELMT) ;
"RTN","ONCSAPIT",106,0)
 N I,J,L,L2E,L3E,SUBS,TMP
"RTN","ONCSAPIT",107,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIT",108,0)
 S L3E=$P(ONCXML("PATH"),",",L-2,L)
"RTN","ONCSAPIT",109,0)
 D ENDEL^ONCSAPIX(ELMT)
"RTN","ONCSAPIT",110,0)
 ;---
"RTN","ONCSAPIT",111,0)
 I L2E="CS-RESPONSE,TABLE"  D  Q
"RTN","ONCSAPIT",112,0)
 . N NAME,SCHEMA,TABLE
"RTN","ONCSAPIT",113,0)
 . S SCHEMA=+$G(ONCXML("SCHEMA")),TABLE=+$P(ONCTBDSC,U,3)
"RTN","ONCSAPIT",114,0)
 . S NAME=$P(ONCTBDSC,U,5)
"RTN","ONCSAPIT",115,0)
 . I (SCHEMA'>0)!(TABLE'>0)!(NAME="")  K @ONCXML@(ONCTBIEN)  Q
"RTN","ONCSAPIT",116,0)
 . S $P(ONCTBDSC,U,2)=SCHEMA
"RTN","ONCSAPIT",117,0)
 . ;---
"RTN","ONCSAPIT",118,0)
 . S @ONCXML@(ONCTBIEN,0)=$E(ONCTBDSC,1,254)
"RTN","ONCSAPIT",119,0)
 . S @ONCXML@("ST",SCHEMA,TABLE)=ONCTBIEN
"RTN","ONCSAPIT",120,0)
 ;---
"RTN","ONCSAPIT",121,0)
 I L2E="ROW,CODE"  D  Q
"RTN","ONCSAPIT",122,0)
 . S $P(@ONCXML@(ONCTBIEN,ONCTBROW,1),U)=ONCXML("ROWCODE")
"RTN","ONCSAPIT",123,0)
 . Q:ONCXML("ROWCODE")?."-"
"RTN","ONCSAPIT",124,0)
 . S TMP=ONCTBROW
"RTN","ONCSAPIT",125,0)
 . S:ONCXML("ROWCODE")["-" $P(TMP,U,2)=+$P(ONCXML("ROWCODE"),"-",2)
"RTN","ONCSAPIT",126,0)
 . S @ONCXML@(ONCTBIEN,"C",+ONCXML("ROWCODE"))=TMP
"RTN","ONCSAPIT",127,0)
 I L3E="ROW,DESCR,P"  D  Q
"RTN","ONCSAPIT",128,0)
 . S J=+$O(@ONCXML@(ONCTBIEN,ONCTBROW,3,""),-1)
"RTN","ONCSAPIT",129,0)
 . S I=""
"RTN","ONCSAPIT",130,0)
 . F  S I=$O(^UTILITY($J,"W",1,I))  Q:I=""  D
"RTN","ONCSAPIT",131,0)
 . . S TMP=$G(^UTILITY($J,"W",1,I,0)),J=J+1
"RTN","ONCSAPIT",132,0)
 . . S @ONCXML@(ONCTBIEN,ONCTBROW,3,J)=$$TRIM^XLFSTR(TMP,"R")
"RTN","ONCSAPIT",133,0)
 ;---
"RTN","ONCSAPIT",134,0)
 I (L3E="NOTES,FN,P")!(L3E="NOTES,TN,P")  D  Q
"RTN","ONCSAPIT",135,0)
 . S SUBS=$P(L3E,",",2)
"RTN","ONCSAPIT",136,0)
 . S J=+$O(@ONCXML@(ONCTBIEN,SUBS,ONCXML(SUBS),""),-1)
"RTN","ONCSAPIT",137,0)
 . S I=""
"RTN","ONCSAPIT",138,0)
 . F  S I=$O(^UTILITY($J,"W",1,I))  Q:I=""  D
"RTN","ONCSAPIT",139,0)
 . . S TMP=$G(^UTILITY($J,"W",1,I,0)),J=J+1
"RTN","ONCSAPIT",140,0)
 . . S @ONCXML@(ONCTBIEN,SUBS,ONCXML(SUBS),J)=$$TRIM^XLFSTR(TMP,"R")
"RTN","ONCSAPIT",141,0)
 Q
"RTN","ONCSAPIT",142,0)
 ;
"RTN","ONCSAPIT",143,0)
 ;***** RETURNS THE TABLE IEN (LOADS THE TABLES IF NECESSARY)
"RTN","ONCSAPIT",144,0)
 ;
"RTN","ONCSAPIT",145,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSAPI)
"RTN","ONCSAPIT",146,0)
 ;
"RTN","ONCSAPIT",147,0)
 ; SITE          Primary site
"RTN","ONCSAPIT",148,0)
 ; HIST          Histology
"RTN","ONCSAPIT",149,0)
 ; TABLE         Table number                    (see the ^ONCSAPI)
"RTN","ONCSAPIT",150,0)
 ;
"RTN","ONCSAPIT",151,0)
 ; The ^TMP("ONCSAPIT",$J) global node is used by this function.
"RTN","ONCSAPIT",152,0)
 ;
"RTN","ONCSAPIT",153,0)
 ; Return Values:
"RTN","ONCSAPIT",154,0)
 ;       >0  IEN of the table
"RTN","ONCSAPIT",155,0)
 ;       <0  Error code
"RTN","ONCSAPIT",156,0)
 ;
"RTN","ONCSAPIT",157,0)
GETCSTBL(ONCSAPI,SITE,HIST,TABLE) ;
"RTN","ONCSAPIT",158,0)
 N ONCTBDSC      ; Descriptor of the table
"RTN","ONCSAPIT",159,0)
 N ONCTBIEN      ; IEN of the table
"RTN","ONCSAPIT",160,0)
 N ONCTBROW      ; Row number
"RTN","ONCSAPIT",161,0)
 ;
"RTN","ONCSAPIT",162,0)
 N DST,ONCREQ,ONCRSP,ONCXML,SCHEMA,URL,XHIST,XSITE
"RTN","ONCSAPIT",163,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSAPIT",164,0)
 Q:TABLE'>0 $$ERROR^ONCSAPIE(-6,,"TABLE",TABLE)
"RTN","ONCSAPIT",165,0)
 ;--- Initialize constants and variables
"RTN","ONCSAPIT",166,0)
 S ONCXML=$NA(^XTMP("ONCSAPI","TABLES"))
"RTN","ONCSAPIT",167,0)
 S ONCXML("XSITE")=$S(SITE'="":SITE,1:" ")
"RTN","ONCSAPIT",168,0)
 S ONCXML("XHIST")=$S(HIST'="":HIST,1:" ")
"RTN","ONCSAPIT",169,0)
 ;
"RTN","ONCSAPIT",170,0)
 ;--- Check if the schema number is available
"RTN","ONCSAPIT",171,0)
 S SCHEMA=+$G(@ONCXML@("SH",ONCXML("XSITE"),ONCXML("XHIST")))
"RTN","ONCSAPIT",172,0)
 I SCHEMA'>0  D  Q:SCHEMA<0 SCHEMA
"RTN","ONCSAPIT",173,0)
 . S SCHEMA=+$$SCHEMA^ONCSAPIS(.ONCSAPI,SITE,HIST)
"RTN","ONCSAPIT",174,0)
 ;
"RTN","ONCSAPIT",175,0)
 ;--- Check if the table is available
"RTN","ONCSAPIT",176,0)
 S ONCTBIEN=+$G(@ONCXML@("ST",SCHEMA,TABLE))
"RTN","ONCSAPIT",177,0)
 Q:ONCTBIEN>0 ONCTBIEN
"RTN","ONCSAPIT",178,0)
 S ONCRSP=$NA(^TMP("ONCSAPIT",$J))  K @ONCRSP
"RTN","ONCSAPIT",179,0)
 ;
"RTN","ONCSAPIT",180,0)
 ;---  Get the server URL
"RTN","ONCSAPIT",181,0)
 S URL=$$GETCSURL^ONCSAPIU()
"RTN","ONCSAPIT",182,0)
 ;
"RTN","ONCSAPIT",183,0)
 L +@ONCXML@("ST",SCHEMA,TABLE):5
"RTN","ONCSAPIT",184,0)
 E  Q $$ERROR^ONCSAPIE(-15,,"local CS table")
"RTN","ONCSAPIT",185,0)
 S RC=0  D
"RTN","ONCSAPIT",186,0)
 . ;--- Check if the table has become available
"RTN","ONCSAPIT",187,0)
 . S ONCTBIEN=+$G(@ONCXML@("ST",SCHEMA,TABLE))  Q:ONCTBIEN>0
"RTN","ONCSAPIT",188,0)
 . ;--- Prepare the request data
"RTN","ONCSAPIT",189,0)
 . S DST="ONCREQ"
"RTN","ONCSAPIT",190,0)
 . D HEADER^ONCSAPIR(.DST,"CS-GET-TABLES")
"RTN","ONCSAPIT",191,0)
 . D PUT^ONCSAPIR(.DST,"SCHEMA",SCHEMA)
"RTN","ONCSAPIT",192,0)
 . D PUT^ONCSAPIR(.DST,"TABLE",TABLE)
"RTN","ONCSAPIT",193,0)
 . D TRAILER^ONCSAPIR(.DST)
"RTN","ONCSAPIT",194,0)
 . K DST
"RTN","ONCSAPIT",195,0)
 . ;--- Send the request and get the response
"RTN","ONCSAPIT",196,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIT",197,0)
 . . D ZW^ONCSAPIU("ONCREQ","*** 'TABLE' REQUEST ***")
"RTN","ONCSAPIT",198,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONCRSP,"ONCREQ")  Q:RC<0
"RTN","ONCSAPIT",199,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIT",200,0)
 . . D ZW^ONCSAPIU(ONCRSP,"*** 'TABLE' RESPONSE ***")
"RTN","ONCSAPIT",201,0)
 . ;--- Load the table into the XTMP global
"RTN","ONCSAPIT",202,0)
 . D SETCBK(.CBK),EN^MXMLPRSE(ONCRSP,.CBK,"W")
"RTN","ONCSAPIT",203,0)
 . ;--- Check for parsing and web service errors
"RTN","ONCSAPIT",204,0)
 . S RC=$$CHKERR^ONCSAPIR(.ONCXML)  Q:RC<0
"RTN","ONCSAPIT",205,0)
 L -@ONCXML@("ST",SCHEMA,TABLE)
"RTN","ONCSAPIT",206,0)
 ;
"RTN","ONCSAPIT",207,0)
 ;--- Cleanup
"RTN","ONCSAPIT",208,0)
 K @ONCRSP
"RTN","ONCSAPIT",209,0)
 Q $S(RC<0:RC,1:+$G(ONCTBIEN))
"RTN","ONCSAPIT",210,0)
 ;
"RTN","ONCSAPIT",211,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSAPIT",212,0)
 ;
"RTN","ONCSAPIT",213,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSAPIT",214,0)
 ;
"RTN","ONCSAPIT",215,0)
SETCBK(CBK) ;
"RTN","ONCSAPIT",216,0)
 ;;CHARACTERS  ^   TEXT^ONCSAPIT
"RTN","ONCSAPIT",217,0)
 ;;ENDELEMENT  ^  ENDEL^ONCSAPIT
"RTN","ONCSAPIT",218,0)
 ;;STARTELEMENT^STARTEL^ONCSAPIT
"RTN","ONCSAPIT",219,0)
 ;
"RTN","ONCSAPIT",220,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSAPIT")
"RTN","ONCSAPIT",221,0)
 Q
"RTN","ONCSAPIT",222,0)
 ;
"RTN","ONCSAPIT",223,0)
 ;***** START ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIT",224,0)
 ;
"RTN","ONCSAPIT",225,0)
 ; ELMT          Name of the element
"RTN","ONCSAPIT",226,0)
 ;
"RTN","ONCSAPIT",227,0)
 ; .ATTR         List of attributes and their values
"RTN","ONCSAPIT",228,0)
 ;
"RTN","ONCSAPIT",229,0)
STARTEL(ELMT,ATTR) ;
"RTN","ONCSAPIT",230,0)
 N L,L2E,L3E,SUBS,TBLIEN
"RTN","ONCSAPIT",231,0)
 D STARTEL^ONCSAPIX(ELMT,.ATTR)
"RTN","ONCSAPIT",232,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIT",233,0)
 S L3E=$P(ONCXML("PATH"),",",L-2,L)
"RTN","ONCSAPIT",234,0)
 ;---
"RTN","ONCSAPIT",235,0)
 I L2E="CS-RESPONSE,TABLE"  D  Q
"RTN","ONCSAPIT",236,0)
 . S ONCTBIEN=+$O(@ONCXML@(" "),-1)+1
"RTN","ONCSAPIT",237,0)
 . S ONCTBDSC="",ONCTBROW=0
"RTN","ONCSAPIT",238,0)
 . S (ONCXML("FN"),ONCXML("TN"))=0
"RTN","ONCSAPIT",239,0)
 ;---
"RTN","ONCSAPIT",240,0)
 I L2E="ROWS,ROW"  D  Q
"RTN","ONCSAPIT",241,0)
 . S ONCXML("ROWCODE")="",ONCXML("AC")=1
"RTN","ONCSAPIT",242,0)
 . S ONCTBROW=ONCTBROW+1
"RTN","ONCSAPIT",243,0)
 ;---
"RTN","ONCSAPIT",244,0)
 I L2E="ROW,AC"  S ONCXML("AC")=ONCXML("AC")+1  Q
"RTN","ONCSAPIT",245,0)
 I L3E="ROW,DESCR,P"  K ^UTILITY($J,"W")  Q
"RTN","ONCSAPIT",246,0)
 ;---
"RTN","ONCSAPIT",247,0)
 I (L2E="NOTES,FN")!(L2E="NOTES,TN")  D   Q
"RTN","ONCSAPIT",248,0)
 . S SUBS=$P(L2E,",",2),ONCXML(SUBS)=$G(ONCXML(SUBS))+1 ; Note number
"RTN","ONCSAPIT",249,0)
 I L3E="NOTES,FN,P"   K ^UTILITY($J,"W")  Q
"RTN","ONCSAPIT",250,0)
 I L3E="NOTES,TN,P"   K ^UTILITY($J,"W")  Q
"RTN","ONCSAPIT",251,0)
 Q
"RTN","ONCSAPIT",252,0)
 ;
"RTN","ONCSAPIT",253,0)
 ;***** RETURNS THE TABLE TITLE AND SUBTITLE
"RTN","ONCSAPIT",254,0)
 ;
"RTN","ONCSAPIT",255,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSAPI)
"RTN","ONCSAPIT",256,0)
 ;
"RTN","ONCSAPIT",257,0)
 ; SITE          Primary site
"RTN","ONCSAPIT",258,0)
 ; HIST          Histology
"RTN","ONCSAPIT",259,0)
 ; TABLE         Table number                    (see the ^ONCSAPI)
"RTN","ONCSAPIT",260,0)
 ;
"RTN","ONCSAPIT",261,0)
 ; Tables other than site specific factors (10-15) usually do not
"RTN","ONCSAPIT",262,0)
 ; have subtitles.
"RTN","ONCSAPIT",263,0)
 ;
"RTN","ONCSAPIT",264,0)
 ; Return Values:
"RTN","ONCSAPIT",265,0)
 ;       <0  Error code
"RTN","ONCSAPIT",266,0)
 ;        0  0^Title^Subtitle
"RTN","ONCSAPIT",267,0)
 ;
"RTN","ONCSAPIT",268,0)
TBLTTL(ONCSAPI,SITE,HIST,TABLE) ;
"RTN","ONCSAPIT",269,0)
 N TBLIEN
"RTN","ONCSAPIT",270,0)
 ;--- Make sure that table info is loaded
"RTN","ONCSAPIT",271,0)
 S TBLIEN=$$GETCSTBL(.ONCSAPI,SITE,HIST,TABLE)  Q:TBLIEN<0 TBLIEN
"RTN","ONCSAPIT",272,0)
 ;--- Return the table subtitle
"RTN","ONCSAPIT",273,0)
 Q 0_U_$P($G(^XTMP("ONCSAPI","TABLES",TBLIEN,0)),U,5,6)
"RTN","ONCSAPIT",274,0)
 ;
"RTN","ONCSAPIT",275,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIT",276,0)
 ;
"RTN","ONCSAPIT",277,0)
 ; TXT           Line of unmarked text
"RTN","ONCSAPIT",278,0)
 ;
"RTN","ONCSAPIT",279,0)
TEXT(TXT) ;
"RTN","ONCSAPIT",280,0)
 N I,L,L2E,L3E,TMP
"RTN","ONCSAPIT",281,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIT",282,0)
 S L3E=$P(ONCXML("PATH"),",",L-2,L)
"RTN","ONCSAPIT",283,0)
 ;---
"RTN","ONCSAPIT",284,0)
 I L2E="CS-RESPONSE,SCHEMA"  S ONCXML("SCHEMA")=TXT  Q
"RTN","ONCSAPIT",285,0)
 ;--- Table descriptor
"RTN","ONCSAPIT",286,0)
 I L2E="TABLE,NUMBER"   S $P(ONCTBDSC,U,3)=$P(ONCTBDSC,U,3)_TXT  Q
"RTN","ONCSAPIT",287,0)
 I L2E="TABLE,PATTERN"  S $P(ONCTBDSC,U,4)=$P(ONCTBDSC,U,4)_TXT  Q
"RTN","ONCSAPIT",288,0)
 I L2E="TABLE,SUBTITLE" S $P(ONCTBDSC,U,6)=$P(ONCTBDSC,U,6)_TXT  Q
"RTN","ONCSAPIT",289,0)
 I L2E="TABLE,TITLE"    S $P(ONCTBDSC,U,5)=$P(ONCTBDSC,U,5)_TXT  Q
"RTN","ONCSAPIT",290,0)
 ;--- Codes
"RTN","ONCSAPIT",291,0)
 I L2E="ROW,AC"  D  Q
"RTN","ONCSAPIT",292,0)
 . S $P(@ONCXML@(ONCTBIEN,ONCTBROW,1),U,ONCXML("AC"))=TXT
"RTN","ONCSAPIT",293,0)
 I L2E="ROW,CODE"  D  Q
"RTN","ONCSAPIT",294,0)
 . S ONCXML("ROWCODE")=ONCXML("ROWCODE")_TXT
"RTN","ONCSAPIT",295,0)
 ;--- Row description
"RTN","ONCSAPIT",296,0)
 I L3E="ROW,DESCR,P"  D WW(.TXT,70)  Q
"RTN","ONCSAPIT",297,0)
 ;--- Notes
"RTN","ONCSAPIT",298,0)
 I L3E="NOTES,FN,P"  D WW(.TXT,75)  Q
"RTN","ONCSAPIT",299,0)
 I L3E="NOTES,TN,P"  D WW(.TXT,75)  Q
"RTN","ONCSAPIT",300,0)
 ;--- Default processing
"RTN","ONCSAPIT",301,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSAPIT",302,0)
 Q
"RTN","ONCSAPIT",303,0)
 ;
"RTN","ONCSAPIT",304,0)
 ;***** REFORMATS THE TEXT AND WRAPS THE LINES
"RTN","ONCSAPIT",305,0)
WW(TXT,DIWR) ;
"RTN","ONCSAPIT",306,0)
 N CR,DIWF,DIWL,I,ONCI1,ONCI2,LF,X
"RTN","ONCSAPIT",307,0)
 S DIWF="|",DIWL=1
"RTN","ONCSAPIT",308,0)
 S ONCI1=1,(ONCI2,L)=$L(TXT)
"RTN","ONCSAPIT",309,0)
 F  D  Q:ONCI2>L  S ONCI1=ONCI2
"RTN","ONCSAPIT",310,0)
 . S ONCI2=$F(TXT,$C(13),ONCI1),(CR,LF)=0
"RTN","ONCSAPIT",311,0)
 . I ONCI2>0  S CR=1  S:$A(TXT,ONCI2)=10 LF=1,ONCI2=ONCI2+1
"RTN","ONCSAPIT",312,0)
 . E  D
"RTN","ONCSAPIT",313,0)
 . . S ONCI2=$F(TXT,$C(10),ONCI1)
"RTN","ONCSAPIT",314,0)
 . . I ONCI2>0  S LF=1
"RTN","ONCSAPIT",315,0)
 . . E  S ONCI2=L+1
"RTN","ONCSAPIT",316,0)
 . F I=ONCI1:1:ONCI2  Q:$E(TXT,I)'=" "
"RTN","ONCSAPIT",317,0)
 . S X=$E(TXT,(I+ONCI1)\2,ONCI2-1-CR-LF)
"RTN","ONCSAPIT",318,0)
 . D ^DIWP
"RTN","ONCSAPIT",319,0)
 Q
"RTN","ONCSAPIU")
0^15^B7316141
"RTN","ONCSAPIU",1,0)
ONCSAPIU ;Hines OIFO/SG - COLLABORATIVE STAGING (UTILITIES)  ; 12/7/06 9:08am
"RTN","ONCSAPIU",2,0)
 ;;2.11;ONCOLOGY;**40,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPIU",3,0)
 ;
"RTN","ONCSAPIU",4,0)
 Q
"RTN","ONCSAPIU",5,0)
 ;
"RTN","ONCSAPIU",6,0)
 ;***** RETURNS THE CS WEB-SERVICE URL
"RTN","ONCSAPIU",7,0)
 ;
"RTN","ONCSAPIU",8,0)
 ; Return values:
"RTN","ONCSAPIU",9,0)
 ;       <0  Error Descriptor
"RTN","ONCSAPIU",10,0)
 ;      ...  The CS URL
"RTN","ONCSAPIU",11,0)
 ;
"RTN","ONCSAPIU",12,0)
GETCSURL() ;
"RTN","ONCSAPIU",13,0)
 N DIV,HOST,IEN,ONCMSG,PATH,PORT,RC,URL
"RTN","ONCSAPIU",14,0)
 ;--- Try to get the URL from the site parameters
"RTN","ONCSAPIU",15,0)
 S DIV=+$G(DUZ(2)),IEN=+$O(^ONCO(160.1,"C",DIV,""))
"RTN","ONCSAPIU",16,0)
 I IEN'>0  S IEN=+$O(^ONCO(160.1,0))  Q:IEN'>0 $$ERROR^ONCSAPIE(-22)
"RTN","ONCSAPIU",17,0)
 S URL=$$GET1^DIQ(160.1,IEN,19,,,"ONCMSG")
"RTN","ONCSAPIU",18,0)
 Q:URL="" $$ERROR^ONCSAPIE(-22)
"RTN","ONCSAPIU",19,0)
 ;--- Parse the URL and supply the missing parts
"RTN","ONCSAPIU",20,0)
 S RC=$$PARSE^ONCXURL(URL,.HOST,.PORT,.PATH)
"RTN","ONCSAPIU",21,0)
 Q:RC<0 $$ERROR^ONCSAPIE(-11,URL)
"RTN","ONCSAPIU",22,0)
 S:$G(PORT)'>0 PORT=7005
"RTN","ONCSAPIU",23,0)
 S:$G(PATH)="" PATH="/cgi-bin/CStage"
"RTN","ONCSAPIU",24,0)
 ;--- Construct the resulting URL
"RTN","ONCSAPIU",25,0)
 Q $$CREATE^ONCXURL(HOST,PORT,PATH)
"RTN","ONCSAPIU",26,0)
 ;
"RTN","ONCSAPIU",27,0)
 ;***** PAUSES THE OUTPUT AT PAGE END
"RTN","ONCSAPIU",28,0)
 ;
"RTN","ONCSAPIU",29,0)
 ; Return values:
"RTN","ONCSAPIU",30,0)
 ;       -2  Timeout
"RTN","ONCSAPIU",31,0)
 ;       -1  User entered a '^'
"RTN","ONCSAPIU",32,0)
 ;        0  Continue
"RTN","ONCSAPIU",33,0)
 ;
"RTN","ONCSAPIU",34,0)
PAGE() ;
"RTN","ONCSAPIU",35,0)
 I $E(IOST,1,2)'="C-"  S $Y=0  Q 0
"RTN","ONCSAPIU",36,0)
 N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCSAPIU",37,0)
 S DIR(0)="E"  D ^DIR  S $Y=0
"RTN","ONCSAPIU",38,0)
 Q $S($D(DUOUT):-1,$D(DTOUT):-2,1:0)
"RTN","ONCSAPIU",39,0)
 ;
"RTN","ONCSAPIU",40,0)
 ;***** UPDATES THE CS WEB-SERVICE URL
"RTN","ONCSAPIU",41,0)
 ;
"RTN","ONCSAPIU",42,0)
 ; URL           New URL of the CS web-service
"RTN","ONCSAPIU",43,0)
 ;
"RTN","ONCSAPIU",44,0)
 ; Return values:
"RTN","ONCSAPIU",45,0)
 ;
"RTN","ONCSAPIU",46,0)
 ;       <0  Error Descriptor
"RTN","ONCSAPIU",47,0)
 ;        0  Ok
"RTN","ONCSAPIU",48,0)
 ;
"RTN","ONCSAPIU",49,0)
UPDCSURL(URL) ;
"RTN","ONCSAPIU",50,0)
 N IEN,IENS,ONCFDA,ONCMSG,RC
"RTN","ONCSAPIU",51,0)
 Q:$G(URL)?." " $$ERROR^ONCSAPIE(-6,,"URL",$G(URL))
"RTN","ONCSAPIU",52,0)
 ;--- Lock the ONCOLOGY SITE PARAMETERS file
"RTN","ONCSAPIU",53,0)
 L +^ONCO(160.1):1  E  D  Q RC
"RTN","ONCSAPIU",54,0)
 . S RC=$$ERROR^ONCSAPIE(-15,,"ONCOLOGY SITE PARAMETERS file")
"RTN","ONCSAPIU",55,0)
 ;--- Update the record(s)
"RTN","ONCSAPIU",56,0)
 S (IEN,RC)=0
"RTN","ONCSAPIU",57,0)
 F  S IEN=$O(^ONCO(160.1,IEN))  Q:IEN'>0  D  Q:RC<0
"RTN","ONCSAPIU",58,0)
 . S IENS=IEN_","  K ONCFDA,ONCMSG
"RTN","ONCSAPIU",59,0)
 . S ONCFDA(160.1,IENS,19)=URL
"RTN","ONCSAPIU",60,0)
 . D FILE^DIE(,"ONCFDA","ONCMSG")
"RTN","ONCSAPIU",61,0)
 . S:$G(DIERR) RC=$$DBS^ONCSAPIE("ONCMSG",-9,160.1,IENS)
"RTN","ONCSAPIU",62,0)
 ;--- Cleanup and error processing
"RTN","ONCSAPIU",63,0)
 L -^ONCO(160.1)
"RTN","ONCSAPIU",64,0)
 Q $S(RC<0:RC,1:0)
"RTN","ONCSAPIU",65,0)
 ;
"RTN","ONCSAPIU",66,0)
 ;***** WRAPS THE STRING AND PRINTS IT
"RTN","ONCSAPIU",67,0)
 ;
"RTN","ONCSAPIU",68,0)
 ; X             Source string
"RTN","ONCSAPIU",69,0)
 ; [DIWR]        Output width (IOM, by default)
"RTN","ONCSAPIU",70,0)
 ;
"RTN","ONCSAPIU",71,0)
WW(X,DIWR) ;
"RTN","ONCSAPIU",72,0)
 N DIWF,DIWL,I,TMP
"RTN","ONCSAPIU",73,0)
 S:$G(DIWR)'>0 DIWR=$G(IOM,80)
"RTN","ONCSAPIU",74,0)
 K ^UTILITY($J,"W")
"RTN","ONCSAPIU",75,0)
 ;--- Wrap the string
"RTN","ONCSAPIU",76,0)
 S DIWL=1,DIWF="|"  D ^DIWP
"RTN","ONCSAPIU",77,0)
 ;--- Print the text
"RTN","ONCSAPIU",78,0)
 S I=""
"RTN","ONCSAPIU",79,0)
 F  S I=$O(^UTILITY($J,"W",DIWL,I))  Q:I=""  D
"RTN","ONCSAPIU",80,0)
 . S TMP=$G(^UTILITY($J,"W",DIWL,I,0))
"RTN","ONCSAPIU",81,0)
 . D EN^DDIOL($$TRIM^XLFSTR(TMP,"R"))
"RTN","ONCSAPIU",82,0)
 ;--- Cleanup
"RTN","ONCSAPIU",83,0)
 K ^UTILITY($J,"W")
"RTN","ONCSAPIU",84,0)
 Q
"RTN","ONCSAPIU",85,0)
 ;
"RTN","ONCSAPIU",86,0)
 ;***** EMULATES AND EXTENDS THE ZWRITE COMMAND :-)
"RTN","ONCSAPIU",87,0)
 ;
"RTN","ONCSAPIU",88,0)
 ; ROR8NODE      Closed root of the sub-tree to display
"RTN","ONCSAPIU",89,0)
 ;               (either local array or global variable)
"RTN","ONCSAPIU",90,0)
 ; [TITLE]       Title of the output
"RTN","ONCSAPIU",91,0)
 ; [NONAME]      Do not print node names
"RTN","ONCSAPIU",92,0)
 ;
"RTN","ONCSAPIU",93,0)
ZW(ONC8NODE,TITLE,NONAME) ;
"RTN","ONCSAPIU",94,0)
 Q:ONC8NODE=""  Q:'$D(@ONC8NODE)
"RTN","ONCSAPIU",95,0)
 N FLT,L,PI  W !
"RTN","ONCSAPIU",96,0)
 W:$G(TITLE)'="" TITLE,!!
"RTN","ONCSAPIU",97,0)
 S NONAME=+$G(NONAME)
"RTN","ONCSAPIU",98,0)
 W:$D(@ONC8NODE)#10 ONC8NODE_"="""_@ONC8NODE_"""",!
"RTN","ONCSAPIU",99,0)
 S L=$L(ONC8NODE)  S:$E(ONC8NODE,L)=")" L=L-1
"RTN","ONCSAPIU",100,0)
 S FLT=$E(ONC8NODE,1,L),PI=ONC8NODE
"RTN","ONCSAPIU",101,0)
 F  S PI=$Q(@PI)  Q:$E(PI,1,L)'=FLT  D
"RTN","ONCSAPIU",102,0)
 . W:'NONAME PI_"="  W """"_@PI_"""",!
"RTN","ONCSAPIU",103,0)
 Q
"RTN","ONCSAPIV")
0^5^B11259789
"RTN","ONCSAPIV",1,0)
ONCSAPIV ;Hines OIFO/SG - ONCOLOGY WEB SERVICE (VERSIONS)  ; 12/7/06 2:25pm
"RTN","ONCSAPIV",2,0)
 ;;2.11;ONCOLOGY;**40,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPIV",3,0)
 ;
"RTN","ONCSAPIV",4,0)
 Q
"RTN","ONCSAPIV",5,0)
 ;
"RTN","ONCSAPIV",6,0)
 ;***** CHECKS THE VERSION OF THE LOCAL CACHE
"RTN","ONCSAPIV",7,0)
 ;
"RTN","ONCSAPIV",8,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSAPIV",9,0)
 ;
"RTN","ONCSAPIV",10,0)
 ; Return Values:
"RTN","ONCSAPIV",11,0)
 ;        0  Ok
"RTN","ONCSAPIV",12,0)
 ;       <0  Error code
"RTN","ONCSAPIV",13,0)
 ;
"RTN","ONCSAPIV",14,0)
CHKVER(ONCSAPI) ;
"RTN","ONCSAPIV",15,0)
 N NODE,RC,TMP,VER
"RTN","ONCSAPIV",16,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSAPIV",17,0)
 ;--- Get the versions of web-service components
"RTN","ONCSAPIV",18,0)
 S VER=$$VERSION(.ONCSAPI)  Q:VER<0 VER
"RTN","ONCSAPIV",19,0)
 ;--- Lock the cache
"RTN","ONCSAPIV",20,0)
 S NODE=$NA(^XTMP("ONCSAPI"))
"RTN","ONCSAPIV",21,0)
 L +@NODE:5  E  Q $$ERROR^ONCSAPIE(-15,,"local cache")
"RTN","ONCSAPIV",22,0)
 ;--- Check the version of the local CS table cache
"RTN","ONCSAPIV",23,0)
 S TMP=$P(VER,U,2)
"RTN","ONCSAPIV",24,0)
 I TMP'="",$G(@NODE@("TABLES"))'=TMP  D  S @NODE@("TABLES")=TMP
"RTN","ONCSAPIV",25,0)
 . K @NODE@("TABLES"),@NODE@("SCHEMAS")
"RTN","ONCSAPIV",26,0)
 ;--- Check the version of the local edit info cache
"RTN","ONCSAPIV",27,0)
 S TMP=$P(VER,U,3)
"RTN","ONCSAPIV",28,0)
 I TMP'="",$G(@NODE@("EDITS"))'=TMP  D  S @NODE@("EDITS")=TMP
"RTN","ONCSAPIV",29,0)
 . K @NODE@("EDITS")
"RTN","ONCSAPIV",30,0)
 ;--- Refresh the cache descriptor
"RTN","ONCSAPIV",31,0)
 S TMP=$$FMADD^XLFDT(DT,30)
"RTN","ONCSAPIV",32,0)
 S @NODE@(0)=TMP_U_DT_U_"Local Oncology seb-service cache"
"RTN","ONCSAPIV",33,0)
 L -@NODE
"RTN","ONCSAPIV",34,0)
 Q 0
"RTN","ONCSAPIV",35,0)
 ;
"RTN","ONCSAPIV",36,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSAPIV",37,0)
 ;
"RTN","ONCSAPIV",38,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSAPIV",39,0)
 ;
"RTN","ONCSAPIV",40,0)
SETCBK(CBK) ;
"RTN","ONCSAPIV",41,0)
 ;;CHARACTERS^TEXT^ONCSAPIV
"RTN","ONCSAPIV",42,0)
 ;
"RTN","ONCSAPIV",43,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSAPIV")
"RTN","ONCSAPIV",44,0)
 Q
"RTN","ONCSAPIV",45,0)
 ;
"RTN","ONCSAPIV",46,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIV",47,0)
 ;
"RTN","ONCSAPIV",48,0)
 ; TXT           Line of unmarked text
"RTN","ONCSAPIV",49,0)
 ;
"RTN","ONCSAPIV",50,0)
TEXT(TXT) ;
"RTN","ONCSAPIV",51,0)
 N L,L2E
"RTN","ONCSAPIV",52,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIV",53,0)
 ;--- CS API version
"RTN","ONCSAPIV",54,0)
 I L2E="RESPONSE,CS-APIVER"   S ONCXML("CS-APIVER")=TXT   Q
"RTN","ONCSAPIV",55,0)
 ;--- EDITS metafile version
"RTN","ONCSAPIV",56,0)
 I L2E="RESPONSE,ED-METAVER"  S ONCXML("ED-METAVER")=TXT  Q
"RTN","ONCSAPIV",57,0)
 ;--- Oncology web-service version
"RTN","ONCSAPIV",58,0)
 I L2E="RESPONSE,VERSION"  S ONCXML("VERSION")=TXT  Q
"RTN","ONCSAPIV",59,0)
 ;--- Default processing
"RTN","ONCSAPIV",60,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSAPIV",61,0)
 Q
"RTN","ONCSAPIV",62,0)
 ;
"RTN","ONCSAPIV",63,0)
 ;***** RETURNS THE WEB-SERVICE VERSIONS
"RTN","ONCSAPIV",64,0)
 ;
"RTN","ONCSAPIV",65,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSAPIV",66,0)
 ;
"RTN","ONCSAPIV",67,0)
 ; The ^TMP("ONCSAPIV",$J) global node is used by this function.
"RTN","ONCSAPIV",68,0)
 ;
"RTN","ONCSAPIV",69,0)
 ; Return Values:
"RTN","ONCSAPIV",70,0)
 ;       <0  Error code
"RTN","ONCSAPIV",71,0)
 ;           Versions (e.g. "2.00^010300^2.00)
"RTN","ONCSAPIV",72,0)
 ;             ^01: Oncology web-service version
"RTN","ONCSAPIV",73,0)
 ;             ^02: Version of the CS DLL
"RTN","ONCSAPIV",74,0)
 ;             ^03: EDITS metafile version
"RTN","ONCSAPIV",75,0)
 ;
"RTN","ONCSAPIV",76,0)
VERSION(ONCSAPI) ;
"RTN","ONCSAPIV",77,0)
 N CBK,ONCREQ,ONCRSP,ONCXML,RC,URL
"RTN","ONCSAPIV",78,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSAPIV",79,0)
 S ONCRSP=$NA(^TMP("ONCSAPIV",$J))  K @ONCRSP
"RTN","ONCSAPIV",80,0)
 ;--- Get the server URL
"RTN","ONCSAPIV",81,0)
 S URL=$$GETCSURL^ONCSAPIU()
"RTN","ONCSAPIV",82,0)
 ;
"RTN","ONCSAPIV",83,0)
 S RC=0  D
"RTN","ONCSAPIV",84,0)
 . ;--- Prepare the request data
"RTN","ONCSAPIV",85,0)
 . S RC=$$PARAMS^ONCSAPIR("ONCREQ","GET-VERSION")         Q:RC<0
"RTN","ONCSAPIV",86,0)
 . ;--- Request the DLL version
"RTN","ONCSAPIV",87,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIV",88,0)
 . . D ZW^ONCSAPIU("ONCREQ","*** 'VERSION' REQUEST ***",1)
"RTN","ONCSAPIV",89,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONCRSP,"ONCREQ")           Q:RC<0
"RTN","ONCSAPIV",90,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIV",91,0)
 . . D ZW^ONCSAPIU(ONCRSP,"*** 'VERSION' RESPONSE ***",1)
"RTN","ONCSAPIV",92,0)
 . K ONCREQ
"RTN","ONCSAPIV",93,0)
 . ;--- Parse the response
"RTN","ONCSAPIV",94,0)
 . D SETCBK(.CBK),EN^MXMLPRSE(ONCRSP,.CBK,"W")
"RTN","ONCSAPIV",95,0)
 . ;--- Check for parsing and web-service errors
"RTN","ONCSAPIV",96,0)
 . S RC=$$CHKERR^ONCSAPIR(.ONCXML)                        Q:RC<0
"RTN","ONCSAPIV",97,0)
 . ;--- Check the version numbers
"RTN","ONCSAPIV",98,0)
 . I $G(ONCXML("CS-APIVER"))=""   S RC=$$ERROR^ONCSAPIE(-13)  Q
"RTN","ONCSAPIV",99,0)
 . I $G(ONCXML("ED-METAVER"))=""  S RC=$$ERROR^ONCSAPIE(-23)  Q
"RTN","ONCSAPIV",100,0)
 ;
"RTN","ONCSAPIV",101,0)
 ;--- Cleanup
"RTN","ONCSAPIV",102,0)
 K @ONCRSP
"RTN","ONCSAPIV",103,0)
 I RC'<0  S RC=""  D
"RTN","ONCSAPIV",104,0)
 . S $P(RC,U,1)=$G(ONCXML("VERSION"))     ; Web-service
"RTN","ONCSAPIV",105,0)
 . S $P(RC,U,2)=$G(ONCXML("CS-APIVER"))   ; CS API
"RTN","ONCSAPIV",106,0)
 . S $P(RC,U,3)=$G(ONCXML("ED-METAVER"))  ; EDITS metafile
"RTN","ONCSAPIV",107,0)
 Q RC
"RTN","ONCSAPIX")
0^6^B9859486
"RTN","ONCSAPIX",1,0)
ONCSAPIX ;Hines OIFO/SG - COLLABORATIVE STAGING (XML TOOLS)  ; 8/11/06 8:11am
"RTN","ONCSAPIX",2,0)
 ;;2.11;ONCOLOGY;**40,47**;Mar 07, 1995;Build 19
"RTN","ONCSAPIX",3,0)
 ;
"RTN","ONCSAPIX",4,0)
 ; ONCXML -------------- DESCRIPTOR FOR THE XML PARSING
"RTN","ONCSAPIX",5,0)
 ;
"RTN","ONCSAPIX",6,0)
 ; ONCXML(               Closed root of the destination buffer
"RTN","ONCSAPIX",7,0)
 ;
"RTN","ONCSAPIX",8,0)
 ;   "ERR")              Number of parsing errors
"RTN","ONCSAPIX",9,0)
 ;
"RTN","ONCSAPIX",10,0)
 ;   "FAULTCODE")        SOAP error code
"RTN","ONCSAPIX",11,0)
 ;   "FAULTSTRING")      SOAP error description
"RTN","ONCSAPIX",12,0)
 ;
"RTN","ONCSAPIX",13,0)
 ;   "PATH")             Path to the current XML tag
"RTN","ONCSAPIX",14,0)
 ;
"RTN","ONCSAPIX",15,0)
 ;   "RC")               Error code returned by the web-service
"RTN","ONCSAPIX",16,0)
 ;
"RTN","ONCSAPIX",17,0)
 ;   "TI")               Number of the current text line of
"RTN","ONCSAPIX",18,0)
 ;                       the current tag value
"RTN","ONCSAPIX",19,0)
 ;
"RTN","ONCSAPIX",20,0)
 ;   "TEXT")             Buffer for the current tag text
"RTN","ONCSAPIX",21,0)
 ;
"RTN","ONCSAPIX",22,0)
 Q
"RTN","ONCSAPIX",23,0)
 ;
"RTN","ONCSAPIX",24,0)
 ;***** DUMMY CALLBACKS FOR THE SAX PARSER
"RTN","ONCSAPIX",25,0)
DUMMY(DUMMY1,DUMMY2,DUMMY3) ;
"RTN","ONCSAPIX",26,0)
DUMMY1 Q
"RTN","ONCSAPIX",27,0)
 ;
"RTN","ONCSAPIX",28,0)
 ;***** END ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",29,0)
 ;
"RTN","ONCSAPIX",30,0)
 ; ELMT          Name of the element
"RTN","ONCSAPIX",31,0)
 ;
"RTN","ONCSAPIX",32,0)
ENDEL(ELMT) ;
"RTN","ONCSAPIX",33,0)
 S ONCXML("PATH")=$P(ONCXML("PATH"),",",1,$L(ONCXML("PATH"),",")-1)
"RTN","ONCSAPIX",34,0)
 Q
"RTN","ONCSAPIX",35,0)
 ;
"RTN","ONCSAPIX",36,0)
 ;***** ERROR CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",37,0)
 ;
"RTN","ONCSAPIX",38,0)
 ; .ERR          Reference to a local variable containing
"RTN","ONCSAPIX",39,0)
 ;               informations about the error
"RTN","ONCSAPIX",40,0)
 ;
"RTN","ONCSAPIX",41,0)
ERROR(ERR) ;
"RTN","ONCSAPIX",42,0)
 N ERRCODE,ONCINFO,TMP
"RTN","ONCSAPIX",43,0)
 I ERR("SEV")  D
"RTN","ONCSAPIX",44,0)
 . S ERRCODE=-4,ONCXML("ERR")=$G(ONCXML("ERR"))+1
"RTN","ONCSAPIX",45,0)
 E  S ERRCODE=-3
"RTN","ONCSAPIX",46,0)
 ;--- Prepare message details
"RTN","ONCSAPIX",47,0)
 S TMP=$P("Warning^Validation Error^Conformance Error",U,ERR("SEV")+1)
"RTN","ONCSAPIX",48,0)
 S ONCINFO(1)=TMP_" in line #"_ERR("LIN")_" (position #"_ERR("POS")_")"
"RTN","ONCSAPIX",49,0)
 S ONCINFO(2)=$TR(ERR("XML"),$C(9,10,13)," ")
"RTN","ONCSAPIX",50,0)
 ;--- Record the error message
"RTN","ONCSAPIX",51,0)
 D STORE^ONCSAPIE(ERRCODE_U_$TR(ERR("MSG"),U,"~"),"ONCINFO")
"RTN","ONCSAPIX",52,0)
 Q
"RTN","ONCSAPIX",53,0)
 ;
"RTN","ONCSAPIX",54,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSAPIX",55,0)
 ;
"RTN","ONCSAPIX",56,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSAPIX",57,0)
 ;
"RTN","ONCSAPIX",58,0)
SETCBK(CBK,CBKTBL) ;
"RTN","ONCSAPIX",59,0)
 ;;CHARACTERS   ^    TEXT^ONCSAPIX
"RTN","ONCSAPIX",60,0)
 ;;COMMENT      ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",61,0)
 ;;DOCTYPE      ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",62,0)
 ;;ENDDOCUMENT  ^  DUMMY1^ONCSAPIX
"RTN","ONCSAPIX",63,0)
 ;;ENDELEMENT   ^   ENDEL^ONCSAPIX
"RTN","ONCSAPIX",64,0)
 ;;ERROR        ^   ERROR^ONCSAPIX
"RTN","ONCSAPIX",65,0)
 ;;EXTERNAL     ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",66,0)
 ;;NOTATION     ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",67,0)
 ;;PI           ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",68,0)
 ;;STARTDOCUMENT^STARTDOC^ONCSAPIX
"RTN","ONCSAPIX",69,0)
 ;;STARTELEMENT ^ STARTEL^ONCSAPIX
"RTN","ONCSAPIX",70,0)
 ;
"RTN","ONCSAPIX",71,0)
 N I,NAME,TMP,XGET  K CBK
"RTN","ONCSAPIX",72,0)
 D:$G(CBKTBL)'=""
"RTN","ONCSAPIX",73,0)
 . S XGET(2)="S TMP=$T("_$P(CBKTBL,"^")_"+I^"_$P(CBKTBL,"^",2)_")"
"RTN","ONCSAPIX",74,0)
 S XGET(1)="S TMP=$T(SETCBK+I)"
"RTN","ONCSAPIX",75,0)
 ;---
"RTN","ONCSAPIX",76,0)
 S XGET=""
"RTN","ONCSAPIX",77,0)
 F  S XGET=$O(XGET(XGET))  Q:XGET=""  D
"RTN","ONCSAPIX",78,0)
 . F I=1:1  X XGET(XGET)  S TMP=$TR($P(TMP,";;",2)," ")  Q:TMP=""  D
"RTN","ONCSAPIX",79,0)
 . . S NAME=$P(TMP,U),CBK(NAME)=$P(TMP,U,2,3)
"RTN","ONCSAPIX",80,0)
 Q
"RTN","ONCSAPIX",81,0)
 ;
"RTN","ONCSAPIX",82,0)
 ;***** START DOCUMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",83,0)
STARTDOC ;
"RTN","ONCSAPIX",84,0)
 S ONCXML("PATH")="",ONCXML("ERR")=0
"RTN","ONCSAPIX",85,0)
 Q
"RTN","ONCSAPIX",86,0)
 ;
"RTN","ONCSAPIX",87,0)
 ;***** START ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",88,0)
 ;
"RTN","ONCSAPIX",89,0)
 ; ELMT          Name of the element
"RTN","ONCSAPIX",90,0)
 ;
"RTN","ONCSAPIX",91,0)
 ; .ATTR         List of attributes and their values
"RTN","ONCSAPIX",92,0)
 ;
"RTN","ONCSAPIX",93,0)
STARTEL(ELMT,ATTR) ;
"RTN","ONCSAPIX",94,0)
 S ONCXML("PATH")=ONCXML("PATH")_$S(ONCXML("PATH")'="":",",1:"")_ELMT
"RTN","ONCSAPIX",95,0)
 S ONCXML("TI")=1  K ONCXML("TEXT")
"RTN","ONCSAPIX",96,0)
 Q
"RTN","ONCSAPIX",97,0)
 ;
"RTN","ONCSAPIX",98,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",99,0)
 ;
"RTN","ONCSAPIX",100,0)
 ; TXT           Line of unmarked text
"RTN","ONCSAPIX",101,0)
 ;
"RTN","ONCSAPIX",102,0)
TEXT(TXT) ;
"RTN","ONCSAPIX",103,0)
 I ONCXML("PATH")?1.E1"Fault,faultcode"  D  Q
"RTN","ONCSAPIX",104,0)
 . S ONCXML("FAULTCODE")=$G(ONCXML("FAULTCODE"))_TXT
"RTN","ONCSAPIX",105,0)
 I ONCXML("PATH")?1.E1"Fault,faultstring"  D  Q
"RTN","ONCSAPIX",106,0)
 . S ONCXML("FAULTSTRING")=$G(ONCXML("FAULTSTRING"))_TXT
"RTN","ONCSAPIX",107,0)
 I ONCXML("PATH")?1.E1"Fault,detail,RC"  D  Q
"RTN","ONCSAPIX",108,0)
 . S ONCXML("RC")=$G(ONCXML("RC"))_TXT
"RTN","ONCSAPIX",109,0)
 Q
"RTN","ONCSED01")
0^7^B13507255
"RTN","ONCSED01",1,0)
ONCSED01 ;Hines OIFO/SG - EDITS 'RUN BATCH' REQUEST ; 11/6/06 11:48am
"RTN","ONCSED01",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCSED01",3,0)
 ;
"RTN","ONCSED01",4,0)
 ;--- SOAP REQUST TO THE ONCOLOGY WEB SERVICE
"RTN","ONCSED01",5,0)
 ;
"RTN","ONCSED01",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSED01",7,0)
 ; <soap:Envelope
"RTN","ONCSED01",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSED01",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSED01",10,0)
 ;   <soap:Body>
"RTN","ONCSED01",11,0)
 ;     <ED-RUN-BATCH [edits-config="..."] ver="2.0"
"RTN","ONCSED01",12,0)
 ;       xmlns="http://vista.med.va.gov/oncology">
"RTN","ONCSED01",13,0)
 ;       <NAACCR-RECORD> ... </NAACCR-RECORD>
"RTN","ONCSED01",14,0)
 ;     </ED-RUN-BATCH>
"RTN","ONCSED01",15,0)
 ;   </soap:Body >
"RTN","ONCSED01",16,0)
 ; </soap:Envelope>
"RTN","ONCSED01",17,0)
 ;
"RTN","ONCSED01",18,0)
 ;--- ATTRIBUTES
"RTN","ONCSED01",19,0)
 ;
"RTN","ONCSED01",20,0)
 ; edits-config  Name of the configuration that should be used by
"RTN","ONCSED01",21,0)
 ;               the server to validate the data.  By default,
"RTN","ONCSED01",22,0)
 ;               the "DEFAULT" name is used.
"RTN","ONCSED01",23,0)
 ;
"RTN","ONCSED01",24,0)
 Q
"RTN","ONCSED01",25,0)
 ;
"RTN","ONCSED01",26,0)
 ;***** EXECUTES THE 'RUN BATCH' EDITS REQUEST
"RTN","ONCSED01",27,0)
 ;
"RTN","ONCSED01",28,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED01",29,0)
 ;
"RTN","ONCSED01",30,0)
 ; .ONC8REQ      Reference to a local variable that stores the
"RTN","ONCSED01",31,0)
 ;               closed root of the request.
"RTN","ONCSED01",32,0)
 ;
"RTN","ONCSED01",33,0)
 ;               Sub-nodes of the variable are used internally
"RTN","ONCSED01",34,0)
 ;               (see ^ONCSNACR and ^ONCSAPIR for details).
"RTN","ONCSED01",35,0)
 ;
"RTN","ONCSED01",36,0)
 ; [ONC8MSG]     Closed root of the buffer for error messages. By
"RTN","ONCSED01",37,0)
 ;               default ($G(ONC8MSG)=""), the ^TMP("ONCSED01M",$J)
"RTN","ONCSED01",38,0)
 ;               global node is used.
"RTN","ONCSED01",39,0)
 ;
"RTN","ONCSED01",40,0)
 ; @ONC8MSG@(
"RTN","ONCSED01",41,0)
 ;   0)                  Result descriptor
"RTN","ONCSED01",42,0)
 ;                         ^01: Number of errors
"RTN","ONCSED01",43,0)
 ;                         ^02: Number of warnings
"RTN","ONCSED01",44,0)
 ;                         ^03: Web-service version
"RTN","ONCSED01",45,0)
 ;                         ^04: Metafile version
"RTN","ONCSED01",46,0)
 ;   set#,
"RTN","ONCSED01",47,0)
 ;     0)                Edit set descriptor
"RTN","ONCSED01",48,0)
 ;                         ^01: Number of errors
"RTN","ONCSED01",49,0)
 ;                         ^02: Number of warnings
"RTN","ONCSED01",50,0)
 ;     1)                Edit set name
"RTN","ONCSED01",51,0)
 ;     "E",
"RTN","ONCSED01",52,0)
 ;       edit#,
"RTN","ONCSED01",53,0)
 ;         0)            Edit descriptor
"RTN","ONCSED01",54,0)
 ;                         ^01: Number of errors
"RTN","ONCSED01",55,0)
 ;                         ^02: Number of warnings
"RTN","ONCSED01",56,0)
 ;                         ^03: Edit index
"RTN","ONCSED01",57,0)
 ;         1)            Edit name
"RTN","ONCSED01",58,0)
 ;         "F",
"RTN","ONCSED01",59,0)
 ;           fld#,
"RTN","ONCSED01",60,0)
 ;             0)        Field descriptor
"RTN","ONCSED01",61,0)
 ;                         ^01: Start position
"RTN","ONCSED01",62,0)
 ;           1)          Field name
"RTN","ONCSED01",63,0)
 ;           2)          Field value
"RTN","ONCSED01",64,0)
 ;
"RTN","ONCSED01",65,0)
 ;         "M",
"RTN","ONCSED01",66,0)
 ;           msg#,
"RTN","ONCSED01",67,0)
 ;             0)        Message descriptor
"RTN","ONCSED01",68,0)
 ;                         ^01: Code
"RTN","ONCSED01",69,0)
 ;                         ^02: Type
"RTN","ONCSED01",70,0)
 ;             1)        Message text
"RTN","ONCSED01",71,0)
 ;
"RTN","ONCSED01",72,0)
 ;   "ES",
"RTN","ONCSED01",73,0)
 ;     edit#)            set#
"RTN","ONCSED01",74,0)
 ;
"RTN","ONCSED01",75,0)
 ; The ^TMP("ONCSED01R",$J) and ^TMP("ONCSED01M",$J) global nodes
"RTN","ONCSED01",76,0)
 ; are used by this function.
"RTN","ONCSED01",77,0)
 ;
"RTN","ONCSED01",78,0)
 ; Return values:
"RTN","ONCSED01",79,0)
 ;
"RTN","ONCSED01",80,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED01",81,0)
 ;           For example:
"RTN","ONCSED01",82,0)
 ;             "-6^Parameter 'ONC8REQ' has an invalid value: ''^
"RTN","ONCSED01",83,0)
 ;              RBQEXEC+3^ONCSED01"
"RTN","ONCSED01",84,0)
 ;
"RTN","ONCSED01",85,0)
 ;        0  Ok
"RTN","ONCSED01",86,0)
 ;
"RTN","ONCSED01",87,0)
 ;        1  EDITS Warnings
"RTN","ONCSED01",88,0)
 ;
"RTN","ONCSED01",89,0)
 ;        2  EDITS Errors
"RTN","ONCSED01",90,0)
 ;
"RTN","ONCSED01",91,0)
RBQEXEC(ONCSAPI,ONC8REQ,ONC8MSG) ;
"RTN","ONCSED01",92,0)
 N ONC8RDAT,RC,TMP,URL,X
"RTN","ONCSED01",93,0)
 ;--- Validate parameters
"RTN","ONCSED01",94,0)
 Q:$G(ONC8REQ)?." " $$ERROR^ONCSAPIE(-6,,"ONC8REQ",$G(ONC8REQ))
"RTN","ONCSED01",95,0)
 S:$G(ONC8MSG)?." " ONC8MSG=$NA(^TMP("ONCSED01M",$J))
"RTN","ONCSED01",96,0)
 ;--- Initialize variables
"RTN","ONCSED01",97,0)
 S ONC8RDAT=$NA(^TMP("ONCSED01R",$J))
"RTN","ONCSED01",98,0)
 K @ONC8RDAT,@ONC8MSG
"RTN","ONCSED01",99,0)
 ;
"RTN","ONCSED01",100,0)
 ;--- Finish preparation of the NAACCR record
"RTN","ONCSED01",101,0)
 D END^ONCSNACR(.ONC8REQ)
"RTN","ONCSED01",102,0)
 ;
"RTN","ONCSED01",103,0)
 ;--- Complete the request
"RTN","ONCSED01",104,0)
 D TRAILER^ONCSAPIR(.ONC8REQ)
"RTN","ONCSED01",105,0)
 ;
"RTN","ONCSED01",106,0)
 ;--- Get the server URL
"RTN","ONCSED01",107,0)
 S URL=$$GETCSURL^ONCSAPIU()  Q:URL<0 URL
"RTN","ONCSED01",108,0)
 ;
"RTN","ONCSED01",109,0)
 S RC=0  D
"RTN","ONCSED01",110,0)
 . ;--- Call the web service
"RTN","ONCSED01",111,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED01",112,0)
 . . D ZW^ONCSAPIU(ONC8REQ,"*** 'RUN BATCH' REQUEST ***")
"RTN","ONCSED01",113,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONC8RDAT,ONC8REQ)  Q:RC<0
"RTN","ONCSED01",114,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED01",115,0)
 . . D ZW^ONCSAPIU(ONC8RDAT,"*** 'RUN BATCH' RESPONSE ***")
"RTN","ONCSED01",116,0)
 . ;--- Parse the response
"RTN","ONCSED01",117,0)
 . S RC=$$PARSE^ONCSED02(.ONCSAPI,ONC8RDAT,ONC8MSG)
"RTN","ONCSED01",118,0)
 ;
"RTN","ONCSED01",119,0)
 ;--- Cleanup
"RTN","ONCSED01",120,0)
 K ^TMP("ONCSED01R",$J)
"RTN","ONCSED01",121,0)
 D:RC'<0
"RTN","ONCSED01",122,0)
 . S TMP=$G(@ONC8MSG@(0))
"RTN","ONCSED01",123,0)
 . S RC=$S($P(TMP,U,1)>0:2,$P(TMP,U,2)>0:1,1:0)
"RTN","ONCSED01",124,0)
 Q RC
"RTN","ONCSED01",125,0)
 ;
"RTN","ONCSED01",126,0)
 ;***** STARTS PREPARATION OF THE 'RUN BATCH' EDITS REQUEST
"RTN","ONCSED01",127,0)
 ;
"RTN","ONCSED01",128,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED01",129,0)
 ;
"RTN","ONCSED01",130,0)
 ; .ONC8REQ      Reference to a local variable that stores the
"RTN","ONCSED01",131,0)
 ;               closed root of the buffer for the request.
"RTN","ONCSED01",132,0)
 ;
"RTN","ONCSED01",133,0)
 ;               Sub-nodes of the variable are used internally
"RTN","ONCSED01",134,0)
 ;               (see ^ONCSNACR and ^ONCSAPIR for details).
"RTN","ONCSED01",135,0)
 ;
"RTN","ONCSED01",136,0)
 ; [CFGNAME]     Name of the configuration that should be used by
"RTN","ONCSED01",137,0)
 ;               the server to validate the data.  By default,
"RTN","ONCSED01",138,0)
 ;               the default configuration is used.
"RTN","ONCSED01",139,0)
 ;
"RTN","ONCSED01",140,0)
 ; Return values:
"RTN","ONCSED01",141,0)
 ;
"RTN","ONCSED01",142,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED01",143,0)
 ;           For example:
"RTN","ONCSED01",144,0)
 ;             "-6^Parameter 'ONC8REQ' has an invalid value: ''^
"RTN","ONCSED01",145,0)
 ;              RBQPREP+3^ONCSED01"
"RTN","ONCSED01",146,0)
 ;
"RTN","ONCSED01",147,0)
 ;        0  Ok
"RTN","ONCSED01",148,0)
 ;
"RTN","ONCSED01",149,0)
RBQPREP(ONCSAPI,ONC8REQ,CFGNAME) ;
"RTN","ONCSED01",150,0)
 N ATTS
"RTN","ONCSED01",151,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSED01",152,0)
 ;--- Validate parameters
"RTN","ONCSED01",153,0)
 Q:$G(ONC8REQ)?." " $$ERROR^ONCSAPIE(-6,,"ONC8REQ",$G(ONC8REQ))
"RTN","ONCSED01",154,0)
 ;
"RTN","ONCSED01",155,0)
 ;--- Standard request header
"RTN","ONCSED01",156,0)
 S:'($G(CFGNAME)?." ") ATTS("edits-config")=CFGNAME
"RTN","ONCSED01",157,0)
 D HEADER^ONCSAPIR(.ONC8REQ,"ED-RUN-BATCH",.ATTS)
"RTN","ONCSED01",158,0)
 ;
"RTN","ONCSED01",159,0)
 ;--- Start preparation of the NAACCR record
"RTN","ONCSED01",160,0)
 D BEGIN^ONCSNACR(.ONC8REQ)
"RTN","ONCSED01",161,0)
 ;---
"RTN","ONCSED01",162,0)
 Q 0
"RTN","ONCSED01",163,0)
 ;
"RTN","ONCSED01",164,0)
 ;***** PRINTS 'EDITS' REPORT ON THE CURRENT DEVICE
"RTN","ONCSED01",165,0)
 ;
"RTN","ONCSED01",166,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED01",167,0)
 ;
"RTN","ONCSED01",168,0)
 ; ONC8MSG       Closed root of the list of parsed error messages
"RTN","ONCSED01",169,0)
 ;               (generated by the RBQEXEC^ONCSED0101)
"RTN","ONCSED01",170,0)
 ;
"RTN","ONCSED01",171,0)
 ; [FLAGS]       Flags that control the output (can be combined):
"RTN","ONCSED01",172,0)
 ;                 M  Include messages
"RTN","ONCSED01",173,0)
 ;                 T  Include totals
"RTN","ONCSED01",174,0)
 ;
"RTN","ONCSED01",175,0)
 ; Return values:
"RTN","ONCSED01",176,0)
 ;
"RTN","ONCSED01",177,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED01",178,0)
 ;           For example:
"RTN","ONCSED01",179,0)
 ;             "-6^Parameter 'ONC8REQ' has an invalid value: ''^
"RTN","ONCSED01",180,0)
 ;              RBQEXEC+3^ONCSED01"
"RTN","ONCSED01",181,0)
 ;
"RTN","ONCSED01",182,0)
 ;        0  Ok
"RTN","ONCSED01",183,0)
 ;
"RTN","ONCSED01",184,0)
 ;        1  Timeout
"RTN","ONCSED01",185,0)
 ;        2  User canceled the output ('^' was entered) 
"RTN","ONCSED01",186,0)
 ;
"RTN","ONCSED01",187,0)
REPORT(ONCSAPI,ONC8MSG,FLAGS) ;
"RTN","ONCSED01",188,0)
 N RC,TMP
"RTN","ONCSED01",189,0)
 S TMP=$G(@ONC8MSG@(0))
"RTN","ONCSED01",190,0)
 Q:($P(TMP,U,1)'>0)&($P(TMP,U,2)'>0) 0
"RTN","ONCSED01",191,0)
 S FLAGS=$G(FLAGS)
"RTN","ONCSED01",192,0)
 I $TR(FLAGS,"MT")'=FLAGS  W:$E(IOST,1,2)="C-" @IOF
"RTN","ONCSED01",193,0)
 ;--- EDITS messages
"RTN","ONCSED01",194,0)
 I FLAGS["M"  D  Q:RC RC
"RTN","ONCSED01",195,0)
 . S RC=$$MESSAGES^ONCSED03(.ONCSAPI,ONC8MSG,FLAGS)
"RTN","ONCSED01",196,0)
 ;--- EDITS totals
"RTN","ONCSED01",197,0)
 I FLAGS["T"  D  Q:RC RC
"RTN","ONCSED01",198,0)
 . S RC=$$TOTALS^ONCSED03(.ONCSAPI,ONC8MSG,FLAGS)
"RTN","ONCSED01",199,0)
 ;---
"RTN","ONCSED01",200,0)
 Q 0
"RTN","ONCSED02")
0^8^B17490289
"RTN","ONCSED02",1,0)
ONCSED02 ;Hines OIFO/SG - EDITS 'RUN BATCH' (PARSER)  ; 8/16/06 1:07pm
"RTN","ONCSED02",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCSED02",3,0)
 ;
"RTN","ONCSED02",4,0)
 ;--- SOAP RESPONSE FROM THE ONCOLOGY WEB SERVICE
"RTN","ONCSED02",5,0)
 ;
"RTN","ONCSED02",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSED02",7,0)
 ; <soap:Envelope
"RTN","ONCSED02",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSED02",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSED02",10,0)
 ;   <soap:Body>
"RTN","ONCSED02",11,0)
 ;     <ED-RESPONSE xmlns="http://vista.med.va.gov/oncology">
"RTN","ONCSED02",12,0)
 ;       <EDIT-SET NAME="..." ECNT="...">
"RTN","ONCSED02",13,0)
 ;         <EDIT INDEX="..." NAME="..." ECNT="..." WCNT="...">
"RTN","ONCSED02",14,0)
 ;           <FLD NAME="..." POS="..."> ... </FLD>
"RTN","ONCSED02",15,0)
 ;           ...
"RTN","ONCSED02",16,0)
 ;           <MSG CODE="..." TYPE="..."> ... </MSG>
"RTN","ONCSED02",17,0)
 ;           ...
"RTN","ONCSED02",18,0)
 ;         </EDIT>
"RTN","ONCSED02",19,0)
 ;       </EDIT-SET>
"RTN","ONCSED02",20,0)
 ;       <METAVER> ... </METAVER>
"RTN","ONCSED02",21,0)
 ;       <VERSION> ... </VERSION>
"RTN","ONCSED02",22,0)
 ;     </ED-RESPONSE>
"RTN","ONCSED02",23,0)
 ;     <soap:Fault>
"RTN","ONCSED02",24,0)
 ;       <faultcode> ... </faultcode>
"RTN","ONCSED02",25,0)
 ;       <faultstring> ... </faultstring>
"RTN","ONCSED02",26,0)
 ;       <detail>
"RTN","ONCSED02",27,0)
 ;         <RC> ... </RC>
"RTN","ONCSED02",28,0)
 ;       </detail>
"RTN","ONCSED02",29,0)
 ;     </soap:Fault>
"RTN","ONCSED02",30,0)
 ;   </soap:Body >
"RTN","ONCSED02",31,0)
 ; </soap:Envelope>
"RTN","ONCSED02",32,0)
 ;
"RTN","ONCSED02",33,0)
 ;--- ATTRIBUTES
"RTN","ONCSED02",34,0)
 ;
"RTN","ONCSED02",35,0)
 ; TYPE          E - Error, W - Warning, M - Message
"RTN","ONCSED02",36,0)
 ;
"RTN","ONCSED02",37,0)
 Q
"RTN","ONCSED02",38,0)
 ;
"RTN","ONCSED02",39,0)
 ;***** END ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED02",40,0)
 ;
"RTN","ONCSED02",41,0)
 ; ELMT          Name of the element
"RTN","ONCSED02",42,0)
 ;
"RTN","ONCSED02",43,0)
ENDEL(ELMT) ;
"RTN","ONCSED02",44,0)
 N L,LAST2
"RTN","ONCSED02",45,0)
 S L=$L(ONCXML("PATH"),","),LAST2=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSED02",46,0)
 D ENDEL^ONCSAPIX(ELMT)
"RTN","ONCSED02",47,0)
 ;---
"RTN","ONCSED02",48,0)
 I LAST2="EDIT,FLD"  D  Q
"RTN","ONCSED02",49,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"F",ONCFIEN,2)=$G(ONCXML("TEXT"))
"RTN","ONCSED02",50,0)
 ;---
"RTN","ONCSED02",51,0)
 I LAST2="EDIT,MSG"  D  Q
"RTN","ONCSED02",52,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"M",ONCMIEN,1)=$G(ONCXML("TEXT"))
"RTN","ONCSED02",53,0)
 ;---
"RTN","ONCSED02",54,0)
 I LAST2="ED-RESPONSE,METAVER"  D  Q
"RTN","ONCSED02",55,0)
 . S $P(@ONCXML@(0),U,4)=$G(ONCXML("TEXT"))
"RTN","ONCSED02",56,0)
 ;---
"RTN","ONCSED02",57,0)
 I LAST2="ED-RESPONSE,VERSION"  D  Q
"RTN","ONCSED02",58,0)
 . S $P(@ONCXML@(0),U,3)=$G(ONCXML("TEXT"))
"RTN","ONCSED02",59,0)
 Q
"RTN","ONCSED02",60,0)
 ;
"RTN","ONCSED02",61,0)
 ;***** PARSES THE RESPONSE FROM THE EDITS API
"RTN","ONCSED02",62,0)
 ;
"RTN","ONCSED02",63,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED02",64,0)
 ;
"RTN","ONCSED02",65,0)
 ; ONC8RDAT      Closed root of the XML response
"RTN","ONCSED02",66,0)
 ;
"RTN","ONCSED02",67,0)
 ; ONCXML        Closed root of the output buffer.
"RTN","ONCSED02",68,0)
 ;
"RTN","ONCSED02",69,0)
PARSE(ONCSAPI,ONC8RDAT,ONCXML) ;
"RTN","ONCSED02",70,0)
 N ONCEDIEN      ; Current edit IEN
"RTN","ONCSED02",71,0)
 N ONCESIEN      ; Current edit set IEN
"RTN","ONCSED02",72,0)
 N ONCFIEN       ; Current field IEN
"RTN","ONCSED02",73,0)
 N ONCMIEN       ; Current message IEN
"RTN","ONCSED02",74,0)
 ;
"RTN","ONCSED02",75,0)
 N CBK,EDIEN,ESIEN,ESTOTALS,I,RC,TMP,TOTALS
"RTN","ONCSED02",76,0)
 D SETCBK(.CBK),EN^MXMLPRSE(ONC8RDAT,.CBK,"W")
"RTN","ONCSED02",77,0)
 D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED02",78,0)
 . D ZW^ONCSAPIU(ONCXML,"*** PARSED 'RUN BATCH' RESPONSE ***")
"RTN","ONCSED02",79,0)
 ;--- Calculate the totals
"RTN","ONCSED02",80,0)
 S ESIEN=0
"RTN","ONCSED02",81,0)
 F  S ESIEN=$O(@ONCXML@(ESIEN))  Q:ESIEN'>0  D
"RTN","ONCSED02",82,0)
 . S EDIEN=0  K ESTOTALS
"RTN","ONCSED02",83,0)
 . F  S EDIEN=$O(@ONCXML@(ESIEN,"E",EDIEN))  Q:EDIEN'>0  D
"RTN","ONCSED02",84,0)
 . . S TMP=$G(@ONCXML@(ESIEN,"E",EDIEN,0))
"RTN","ONCSED02",85,0)
 . . F I=1,2  S ESTOTALS(I)=$G(ESTOTALS(I))+$P(TMP,U,I)
"RTN","ONCSED02",86,0)
 . F I=1,2  S TOTALS(I)=$G(TOTALS(I))+$G(ESTOTALS(I))
"RTN","ONCSED02",87,0)
 . S $P(@ONCXML@(ESIEN,0),U,1,2)=$G(ESTOTALS(1),0)_U_$G(ESTOTALS(2),0)
"RTN","ONCSED02",88,0)
 S $P(@ONCXML@(0),U,1,2)=$G(TOTALS(1),0)_U_$G(TOTALS(2),0)
"RTN","ONCSED02",89,0)
 ;--- Check for parsing and web-service errors
"RTN","ONCSED02",90,0)
 Q $$CHKERR^ONCSAPIR(.ONCXML)
"RTN","ONCSED02",91,0)
 ;
"RTN","ONCSED02",92,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSED02",93,0)
SETCBK(CBK) ;
"RTN","ONCSED02",94,0)
 ;;CHARACTERS  ^   TEXT^ONCSED02
"RTN","ONCSED02",95,0)
 ;;ENDELEMENT  ^  ENDEL^ONCSED02
"RTN","ONCSED02",96,0)
 ;;STARTELEMENT^STARTEL^ONCSED02
"RTN","ONCSED02",97,0)
 ;
"RTN","ONCSED02",98,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSED02")
"RTN","ONCSED02",99,0)
 Q
"RTN","ONCSED02",100,0)
 ;
"RTN","ONCSED02",101,0)
 ;***** START ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED02",102,0)
 ;
"RTN","ONCSED02",103,0)
 ; ELMT          Name of the element
"RTN","ONCSED02",104,0)
 ;
"RTN","ONCSED02",105,0)
 ; .ATTR         List of attributes and their values
"RTN","ONCSED02",106,0)
 ;
"RTN","ONCSED02",107,0)
STARTEL(ELMT,ATTR) ;
"RTN","ONCSED02",108,0)
 N L,LAST2,TMP
"RTN","ONCSED02",109,0)
 D STARTEL^ONCSAPIX(ELMT,.ATTR)
"RTN","ONCSED02",110,0)
 S L=$L(ONCXML("PATH"),","),LAST2=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSED02",111,0)
 ;--- Field
"RTN","ONCSED02",112,0)
 I LAST2="EDIT,FLD"  D  Q
"RTN","ONCSED02",113,0)
 . S ONCFIEN=$G(ONCFIEN)+1
"RTN","ONCSED02",114,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"F",ONCFIEN,0)=$G(ATTR("POS"))
"RTN","ONCSED02",115,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"F",ONCFIEN,1)=$G(ATTR("NAME"))
"RTN","ONCSED02",116,0)
 ;--- Message
"RTN","ONCSED02",117,0)
 I LAST2="EDIT,MSG"  D  Q
"RTN","ONCSED02",118,0)
 . S ONCMIEN=$G(ONCMIEN)+1
"RTN","ONCSED02",119,0)
 . S TMP=$G(ATTR("CODE"))_U_$G(ATTR("TYPE"))
"RTN","ONCSED02",120,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"M",ONCMIEN,0)=TMP
"RTN","ONCSED02",121,0)
 ;--- Edit
"RTN","ONCSED02",122,0)
 I LAST2="EDIT-SET,EDIT"  D  Q
"RTN","ONCSED02",123,0)
 . S ONCEDIEN=$G(ONCEDIEN)+1,(ONCFIEN,ONCMIEN)=0
"RTN","ONCSED02",124,0)
 . S TMP=$G(ATTR("ECNT"))_U_$G(ATTR("WCNT"))_U_$G(ATTR("INDEX"))
"RTN","ONCSED02",125,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,0)=TMP
"RTN","ONCSED02",126,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,1)=$G(ATTR("NAME"))
"RTN","ONCSED02",127,0)
 . S @ONCXML@("ES",ONCEDIEN)=ONCESIEN
"RTN","ONCSED02",128,0)
 ;--- Edit Set
"RTN","ONCSED02",129,0)
 I LAST2="ED-RESPONSE,EDIT-SET"  D  Q
"RTN","ONCSED02",130,0)
 . S ONCESIEN=$G(ONCESIEN)+1
"RTN","ONCSED02",131,0)
 . S @ONCXML@(ONCESIEN,0)=$G(ATTR("ECNT"))_U_$G(ATTR("WCNT"))
"RTN","ONCSED02",132,0)
 . S @ONCXML@(ONCESIEN,1)=$G(ATTR("NAME"))
"RTN","ONCSED02",133,0)
 Q
"RTN","ONCSED02",134,0)
 ;
"RTN","ONCSED02",135,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED02",136,0)
 ;
"RTN","ONCSED02",137,0)
 ; TXT           Line of unmarked text
"RTN","ONCSED02",138,0)
 ;
"RTN","ONCSED02",139,0)
TEXT(TXT) ;
"RTN","ONCSED02",140,0)
 S ONCXML("TEXT")=$G(ONCXML("TEXT"))_TXT
"RTN","ONCSED02",141,0)
 ;--- Default processing
"RTN","ONCSED02",142,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSED02",143,0)
 Q
"RTN","ONCSED03")
0^9^B44378907
"RTN","ONCSED03",1,0)
ONCSED03 ;Hines OIFO/SG - EDITS 'RUN BATCH' (REPORT)  ; 2/14/07 10:21am
"RTN","ONCSED03",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCSED03",3,0)
 ;
"RTN","ONCSED03",4,0)
 Q
"RTN","ONCSED03",5,0)
 ;
"RTN","ONCSED03",6,0)
 ;***** PRINTS ADDITIONAL EDIT INFO
"RTN","ONCSED03",7,0)
 ;
"RTN","ONCSED03",8,0)
 ; EDIEN         Internal number of the edit in the list of parsed
"RTN","ONCSED03",9,0)
 ;               error messages generated by the RBQEXEC^ONCSED0101
"RTN","ONCSED03",10,0)
 ;
"RTN","ONCSED03",11,0)
EDINFO(EDIEN) ;
"RTN","ONCSED03",12,0)
 N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,EDTNDX,ESIEN,ESNAME,I,NODE,RC,SL,TMP,X,Y
"RTN","ONCSED03",13,0)
 S RC=0
"RTN","ONCSED03",14,0)
 S ESIEN=+$G(@ONC8MSG@("ES",EDIEN))                  Q:ESIEN'>0
"RTN","ONCSED03",15,0)
 S ESNAME=$G(@ONC8MSG@(ESIEN,1))                     Q:ESNAME=""
"RTN","ONCSED03",16,0)
 S EDTNDX=+$P($G(@ONC8MSG@(ESIEN,"E",EDIEN,0)),U,3)  Q:EDTNDX<0
"RTN","ONCSED03",17,0)
 S SL=$$REPEAT^XLFSTR("- ",$G(IOM,80)\2-1)
"RTN","ONCSED03",18,0)
 ;--- Header
"RTN","ONCSED03",19,0)
 S $Y=0  W @IOF,SL
"RTN","ONCSED03",20,0)
 W !,"Additional info on '"_$G(@ONC8MSG@(ESIEN,"E",EDIEN,1))_"'"
"RTN","ONCSED03",21,0)
 W !,SL
"RTN","ONCSED03",22,0)
 ;--- Description
"RTN","ONCSED03",23,0)
 S NODE=$$GETEDESC^ONCSED04(.ONCSAPI,ESNAME,EDTNDX)
"RTN","ONCSED03",24,0)
 I NODE'<0  W !  D  Q:RC
"RTN","ONCSED03",25,0)
 . S I=0
"RTN","ONCSED03",26,0)
 . F  S I=$O(@NODE@(I))  Q:I'>0  D  Q:RC
"RTN","ONCSED03",27,0)
 . . W !,@NODE@(I)  S RC=$$PAGE1()
"RTN","ONCSED03",28,0)
 ;--- Help
"RTN","ONCSED03",29,0)
 S NODE=$$GETEDHLP^ONCSED04(.ONCSAPI,ESNAME,EDTNDX)
"RTN","ONCSED03",30,0)
 I NODE'<0  W !  D  Q:RC
"RTN","ONCSED03",31,0)
 . S I=0
"RTN","ONCSED03",32,0)
 . F  S I=$O(@NODE@(I))  Q:I'>0  D  Q:RC
"RTN","ONCSED03",33,0)
 . . W !,@NODE@(I)  S RC=$$PAGE1()
"RTN","ONCSED03",34,0)
 ;--- Trailer
"RTN","ONCSED03",35,0)
 W !,SL
"RTN","ONCSED03",36,0)
 S RC=$$PAGE1(,1)
"RTN","ONCSED03",37,0)
 Q
"RTN","ONCSED03",38,0)
 ;
"RTN","ONCSED03",39,0)
 ;***** PRINTS THE MESSAGES
"RTN","ONCSED03",40,0)
 ;
"RTN","ONCSED03",41,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED03",42,0)
 ;
"RTN","ONCSED03",43,0)
 ; ONC8MSG       Closed root of the list of parsed error messages
"RTN","ONCSED03",44,0)
 ;               (generated by the RBQEXEC^ONCSED0101)
"RTN","ONCSED03",45,0)
 ;
"RTN","ONCSED03",46,0)
 ; [FLAGS]       Flags that control the output
"RTN","ONCSED03",47,0)
 ;
"RTN","ONCSED03",48,0)
 ; Return values:
"RTN","ONCSED03",49,0)
 ;
"RTN","ONCSED03",50,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED03",51,0)
 ;        0  Ok
"RTN","ONCSED03",52,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",53,0)
 ;        2  Timeout
"RTN","ONCSED03",54,0)
 ;
"RTN","ONCSED03",55,0)
MESSAGES(ONCSAPI,ONC8MSG,FLAGS) ;
"RTN","ONCSED03",56,0)
 N ONCMNL        ; Maximum number of lines per page
"RTN","ONCSED03",57,0)
 N ONCPAGE       ; Pointers to the beginning of the current page
"RTN","ONCSED03",58,0)
 N ONCESIEN      ; Internal number of the current edit set
"RTN","ONCSED03",59,0)
 N ONCEDIEN      ; Internal number of the current edit
"RTN","ONCSED03",60,0)
 ;
"RTN","ONCSED03",61,0)
 N EDTNDX,ESNAME,IEN,NODE,RC,REPRINT,TMP
"RTN","ONCSED03",62,0)
 S RC=0,REPRINT=1,ONCMNL=$S($G(IOSL)>10:+IOSL,1:24)
"RTN","ONCSED03",63,0)
 ;=== Set the pointers to the beginning of the list
"RTN","ONCSED03",64,0)
 S ONCESIEN=$O(@ONC8MSG@(0)),ONCEDIEN=""
"RTN","ONCSED03",65,0)
 S ONCPAGE=ONCESIEN_U_ONCEDIEN
"RTN","ONCSED03",66,0)
 ;
"RTN","ONCSED03",67,0)
 ;=== Print the messages and process user input
"RTN","ONCSED03",68,0)
 F  D  Q:RC!(ONCESIEN'>0)
"RTN","ONCSED03",69,0)
 . F  Q:ONCESIEN'>0  D  Q:RC  S ONCESIEN=$O(@ONC8MSG@(ONCESIEN)),ONCEDIEN=""
"RTN","ONCSED03",70,0)
 . . ;--- Edit set name
"RTN","ONCSED03",71,0)
 . . S ESNAME=@ONC8MSG@(ONCESIEN,1)
"RTN","ONCSED03",72,0)
 . . I ONCEDIEN'>0  D  Q:RC
"RTN","ONCSED03",73,0)
 . . . I REPRINT  S REPRINT=0
"RTN","ONCSED03",74,0)
 . . . E  S RC=$$PAGE(3)  Q:RC  W !!
"RTN","ONCSED03",75,0)
 . . . S TMP=ESNAME_" (Metafile Version: "_$P(@ONC8MSG@(0),U,4)_")"
"RTN","ONCSED03",76,0)
 . . . W TMP,!,$$REPEAT^XLFSTR("-",$L(TMP))
"RTN","ONCSED03",77,0)
 . . . S ONCEDIEN=$O(@ONC8MSG@(ONCESIEN,"E",0))
"RTN","ONCSED03",78,0)
 . . ;---
"RTN","ONCSED03",79,0)
 . . F  Q:ONCEDIEN'>0  D  Q:RC  S ONCEDIEN=$O(@ONC8MSG@(ONCESIEN,"E",ONCEDIEN))
"RTN","ONCSED03",80,0)
 . . . ;--- Edit name
"RTN","ONCSED03",81,0)
 . . . I REPRINT  S REPRINT=0
"RTN","ONCSED03",82,0)
 . . . E  S RC=$$PAGE(2)  Q:RC  W !!
"RTN","ONCSED03",83,0)
 . . . W ?2,ONCEDIEN_". "_@ONC8MSG@(ONCESIEN,"E",ONCEDIEN,1)
"RTN","ONCSED03",84,0)
 . . . S NODE=$NA(@ONC8MSG@(ONCESIEN,"E",ONCEDIEN))
"RTN","ONCSED03",85,0)
 . . . ;--- Messages generated by the edit
"RTN","ONCSED03",86,0)
 . . . S IEN=0
"RTN","ONCSED03",87,0)
 . . . F  S IEN=$O(@NODE@("M",IEN))  Q:IEN'>0  D  Q:RC
"RTN","ONCSED03",88,0)
 . . . . S RC=$$PRTMSG($P(@NODE@("M",IEN,0),U,2),@NODE@("M",IEN,1),5)
"RTN","ONCSED03",89,0)
 . . . Q:RC
"RTN","ONCSED03",90,0)
 . . . ;--- Fields validated by the edit
"RTN","ONCSED03",91,0)
 . . . S IEN=0
"RTN","ONCSED03",92,0)
 . . . F  S IEN=$O(@NODE@("F",IEN))  Q:IEN'>0  D  Q:RC
"RTN","ONCSED03",93,0)
 . . . . S TMP=$E(@NODE@("F",IEN,1),1,25)               ; Name
"RTN","ONCSED03",94,0)
 . . . . S TMP=TMP_" ("_(+$P(@NODE@("F",IEN,0),U))_")"  ; Position
"RTN","ONCSED03",95,0)
 . . . . S RC=$$PRTFLD(TMP,$G(@NODE@("F",IEN,2)),9,35)
"RTN","ONCSED03",96,0)
 . ;--- Force the "end of page" prompt after the last
"RTN","ONCSED03",97,0)
 . ;--- portion of the data
"RTN","ONCSED03",98,0)
 . I 'RC,$E(IOST,1,2)="C-",ONCESIEN'>0,$P(ONCPAGE,U,3)  D
"RTN","ONCSED03",99,0)
 . . S RC=$$PAGE(,1)
"RTN","ONCSED03",100,0)
 . Q:+RC'=3
"RTN","ONCSED03",101,0)
 . ;--- Display the additional edit info
"RTN","ONCSED03",102,0)
 . D EDINFO(+$P(RC,U,2))
"RTN","ONCSED03",103,0)
 . ;--- Initiate the current page re-print
"RTN","ONCSED03",104,0)
 . W @IOF  S ($Y,RC)=0,REPRINT=1
"RTN","ONCSED03",105,0)
 . S ONCESIEN=$P(ONCPAGE,U),ONCEDIEN=$P(ONCPAGE,U,2)
"RTN","ONCSED03",106,0)
 ;
"RTN","ONCSED03",107,0)
 ;=== Cleanup
"RTN","ONCSED03",108,0)
 K ^UTILITY($J,"W")
"RTN","ONCSED03",109,0)
 Q RC
"RTN","ONCSED03",110,0)
 ;
"RTN","ONCSED03",111,0)
 ;***** CHECKS IS NEW PAGE OF MESSAGES SHOULD BE STARTED
"RTN","ONCSED03",112,0)
 ;
"RTN","ONCSED03",113,0)
 ; [RESERVE]     Number of additional reserved lines (0, by default).
"RTN","ONCSED03",114,0)
 ;               If the current page does not have so many lines
"RTN","ONCSED03",115,0)
 ;               available, a new page will be started.
"RTN","ONCSED03",116,0)
 ;
"RTN","ONCSED03",117,0)
 ; [FORCE]       Force the "end of page" prompt.
"RTN","ONCSED03",118,0)
 ;
"RTN","ONCSED03",119,0)
 ; Return values:
"RTN","ONCSED03",120,0)
 ;
"RTN","ONCSED03",121,0)
 ;        0  Ok
"RTN","ONCSED03",122,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",123,0)
 ;        2  Timeout
"RTN","ONCSED03",124,0)
 ;        3  Display the edit info
"RTN","ONCSED03",125,0)
 ;
"RTN","ONCSED03",126,0)
PAGE(RESERVE,FORCE) ;
"RTN","ONCSED03",127,0)
 N RC,TRM
"RTN","ONCSED03",128,0)
 S RC=0,TRM=($E(IOST,1,2)="C-"),$P(ONCPAGE,U,3)=1
"RTN","ONCSED03",129,0)
 I ($Y'<(ONCMNL-$S(TRM:3,1:1)-$G(RESERVE)))!$G(FORCE)  D
"RTN","ONCSED03",130,0)
 . I 'TRM  W @IOF  S $Y=0  Q
"RTN","ONCSED03",131,0)
 . N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCSED03",132,0)
 . S DIR(0)="FAO^^K:X'?.N X"
"RTN","ONCSED03",133,0)
 . S DIR("A")="RETURN to continue, '^' to exit, or Edit# for help:"
"RTN","ONCSED03",134,0)
 . S DIR("?",1)="Press RETURN key to continue the output, enter '^'"
"RTN","ONCSED03",135,0)
 . S DIR("?",2)="to stop it, or enter the number printed to the left"
"RTN","ONCSED03",136,0)
 . S DIR("?",3)="of the edit name to get additional information about"
"RTN","ONCSED03",137,0)
 . S DIR("?")="this edit."
"RTN","ONCSED03",138,0)
 . W !  D ^DIR
"RTN","ONCSED03",139,0)
 . S RC=$S($D(DUOUT):1,$D(DTOUT):2,1:0)  Q:RC
"RTN","ONCSED03",140,0)
 . I X>0  S RC=3_U_(+X)  Q
"RTN","ONCSED03",141,0)
 . S $Y=0  W !
"RTN","ONCSED03",142,0)
 . ;--- Mark the beginning of the new page
"RTN","ONCSED03",143,0)
 . S ONCPAGE=ONCESIEN_U_ONCEDIEN
"RTN","ONCSED03",144,0)
 Q RC
"RTN","ONCSED03",145,0)
 ;
"RTN","ONCSED03",146,0)
 ;***** CHECKS IS NEW PAGE OF THE EDIT INFO SHOULD BE STARTED
"RTN","ONCSED03",147,0)
 ;
"RTN","ONCSED03",148,0)
 ; [RESERVE]     Number of additional reserved lines (0, by default).
"RTN","ONCSED03",149,0)
 ;               If the current page does not have so many lines
"RTN","ONCSED03",150,0)
 ;               available, a new page will be started.
"RTN","ONCSED03",151,0)
 ;
"RTN","ONCSED03",152,0)
 ; [FORCE]       Force the prompt
"RTN","ONCSED03",153,0)
 ;
"RTN","ONCSED03",154,0)
 ; Return values:
"RTN","ONCSED03",155,0)
 ;
"RTN","ONCSED03",156,0)
 ;        0  Ok
"RTN","ONCSED03",157,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",158,0)
 ;        2  Timeout
"RTN","ONCSED03",159,0)
 ;
"RTN","ONCSED03",160,0)
PAGE1(RESERVE,FORCE) ;
"RTN","ONCSED03",161,0)
 N RC,TRM
"RTN","ONCSED03",162,0)
 S RC=0,TRM=($E(IOST,1,2)="C-")
"RTN","ONCSED03",163,0)
 I ($Y'<(ONCMNL-$S(TRM:3,1:1)-$G(RESERVE)))!$G(FORCE)  D
"RTN","ONCSED03",164,0)
 . I 'TRM  W @IOF  S $Y=0  Q
"RTN","ONCSED03",165,0)
 . N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,I,X,Y
"RTN","ONCSED03",166,0)
 . S DIR(0)="EA"
"RTN","ONCSED03",167,0)
 . S DIR("A")="Enter RETURN to continue or '^' to return to messages:"
"RTN","ONCSED03",168,0)
 . W !  D ^DIR
"RTN","ONCSED03",169,0)
 . S RC=$S($D(DUOUT):1,$D(DTOUT):2,1:0)
"RTN","ONCSED03",170,0)
 . I 'RC  S $Y=0  W !
"RTN","ONCSED03",171,0)
 Q RC
"RTN","ONCSED03",172,0)
 ;
"RTN","ONCSED03",173,0)
 ;***** PRINTS THE FIELD (INTERNAL)
"RTN","ONCSED03",174,0)
 ;
"RTN","ONCSED03",175,0)
 ; NAME          Field name
"RTN","ONCSED03",176,0)
 ; X             Field value
"RTN","ONCSED03",177,0)
 ; DIWL          Left margin for the output
"RTN","ONCSED03",178,0)
 ; MNL           Maximum length of the field name
"RTN","ONCSED03",179,0)
 ;
"RTN","ONCSED03",180,0)
 ; Return values:
"RTN","ONCSED03",181,0)
 ;
"RTN","ONCSED03",182,0)
 ;        0  Ok
"RTN","ONCSED03",183,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",184,0)
 ;        2  Timeout
"RTN","ONCSED03",185,0)
 ;
"RTN","ONCSED03",186,0)
PRTFLD(NAME,X,DIWL,MNL) ;
"RTN","ONCSED03",187,0)
 N DIWF,DIWR,I,L,RC,TMP
"RTN","ONCSED03",188,0)
 S DIWF="|",L=MNL+3,DIWR=$G(IOM,80)-L-1
"RTN","ONCSED03",189,0)
 K ^UTILITY($J,"W")
"RTN","ONCSED03",190,0)
 D ^DIWP
"RTN","ONCSED03",191,0)
 ;--- Write the name and the first piece of the value
"RTN","ONCSED03",192,0)
 S TMP=DIWL-1,L=L+TMP
"RTN","ONCSED03",193,0)
 W !?TMP,$$LJ^XLFSTR(NAME,MNL)_" = "_$G(^UTILITY($J,"W",DIWL,1,0))
"RTN","ONCSED03",194,0)
 S RC=$$PAGE()  Q:RC RC
"RTN","ONCSED03",195,0)
 ;--- Write remaining pieces of the value (if any)
"RTN","ONCSED03",196,0)
 S I=1
"RTN","ONCSED03",197,0)
 F  S I=$O(^UTILITY($J,"W",DIWL,I))  Q:I'>0  D  Q:RC
"RTN","ONCSED03",198,0)
 . W !?L,$G(^UTILITY($J,"W",DIWL,I,0))
"RTN","ONCSED03",199,0)
 . S RC=$$PAGE()
"RTN","ONCSED03",200,0)
 Q RC
"RTN","ONCSED03",201,0)
 ;
"RTN","ONCSED03",202,0)
 ;***** PRINTS THE MESSAGE (INTERNAL)
"RTN","ONCSED03",203,0)
 ;
"RTN","ONCSED03",204,0)
 ; TYPE          Message type
"RTN","ONCSED03",205,0)
 ; X             Message text
"RTN","ONCSED03",206,0)
 ; DIWL          Left margin for the output
"RTN","ONCSED03",207,0)
 ;
"RTN","ONCSED03",208,0)
 ; Return values:
"RTN","ONCSED03",209,0)
 ;
"RTN","ONCSED03",210,0)
 ;        0  Ok
"RTN","ONCSED03",211,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",212,0)
 ;        2  Timeout
"RTN","ONCSED03",213,0)
 ;
"RTN","ONCSED03",214,0)
PRTMSG(TYPE,X,DIWL) ;
"RTN","ONCSED03",215,0)
 N DIWF,DIWR,I,L,RC,TMP
"RTN","ONCSED03",216,0)
 S DIWF="|",L=$L(TYPE)+1,DIWR=$G(IOM,80)-L-1
"RTN","ONCSED03",217,0)
 K ^UTILITY($J,"W")
"RTN","ONCSED03",218,0)
 D ^DIWP
"RTN","ONCSED03",219,0)
 ;--- Write the type and first piece of the name
"RTN","ONCSED03",220,0)
 S TMP=DIWL-1,L=L+TMP
"RTN","ONCSED03",221,0)
 W !?TMP,TYPE_":"_$G(^UTILITY($J,"W",DIWL,1,0))
"RTN","ONCSED03",222,0)
 S RC=$$PAGE()  Q:RC RC
"RTN","ONCSED03",223,0)
 ;--- Write remaing pieces of the name (if any)
"RTN","ONCSED03",224,0)
 S I=1
"RTN","ONCSED03",225,0)
 F  S I=$O(^UTILITY($J,"W",DIWL,I))  Q:I'>0  D  Q:RC
"RTN","ONCSED03",226,0)
 . W !?L,$G(^UTILITY($J,"W",DIWL,I,0))
"RTN","ONCSED03",227,0)
 . S RC=$$PAGE()
"RTN","ONCSED03",228,0)
 Q RC
"RTN","ONCSED03",229,0)
 ;
"RTN","ONCSED03",230,0)
 ;***** PRINTS THE TOTALS
"RTN","ONCSED03",231,0)
 ;
"RTN","ONCSED03",232,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED03",233,0)
 ;
"RTN","ONCSED03",234,0)
 ; ONC8MSG       Closed root of the list of parsed error messages
"RTN","ONCSED03",235,0)
 ;               (generated by the RBQEXEC^ONCSED0101)
"RTN","ONCSED03",236,0)
 ;
"RTN","ONCSED03",237,0)
 ; [FLAGS]       Flags that control the output
"RTN","ONCSED03",238,0)
 ;
"RTN","ONCSED03",239,0)
 ; Return values:
"RTN","ONCSED03",240,0)
 ;
"RTN","ONCSED03",241,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED03",242,0)
 ;        0  Ok
"RTN","ONCSED03",243,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",244,0)
 ;        2  Timeout
"RTN","ONCSED03",245,0)
 ;
"RTN","ONCSED03",246,0)
TOTALS(ONCSAPI,ONC8MSG,FLAGS) ;
"RTN","ONCSED03",247,0)
 N EDIEN,ESIEN,IEN,ONCMNL,RC,TMP
"RTN","ONCSED03",248,0)
 S RC=0,ONCMNL=$S($G(IOSL)>10:+IOSL,1:20)
"RTN","ONCSED03",249,0)
 ;--- Header
"RTN","ONCSED03",250,0)
 S RC=$$PAGE(3)  Q:RC RC
"RTN","ONCSED03",251,0)
 W !!,$$LJ^XLFSTR("Edit Set","50T")_"  Errors  Warnings"
"RTN","ONCSED03",252,0)
 W !,$$REPEAT^XLFSTR("-",50)_"  ------  --------"
"RTN","ONCSED03",253,0)
 ;--- Edit set totals
"RTN","ONCSED03",254,0)
 S ESIEN=0
"RTN","ONCSED03",255,0)
 F  S ESIEN=$O(@ONC8MSG@(ESIEN))  Q:ESIEN'>0  D  Q:RC
"RTN","ONCSED03",256,0)
 . W !,$$LJ^XLFSTR(@ONC8MSG@(ESIEN,1),"50T")
"RTN","ONCSED03",257,0)
 . S TMP=$G(@ONC8MSG@(ESIEN,0))
"RTN","ONCSED03",258,0)
 . W "  "_$J($P(TMP,U,1),6)_"  "_$J($P(TMP,U,2),8)
"RTN","ONCSED03",259,0)
 . S RC=$$PAGE()  Q:RC
"RTN","ONCSED03",260,0)
 Q RC
"RTN","ONCSED04")
0^10^B25577841
"RTN","ONCSED04",1,0)
ONCSED04 ;Hines OIFO/SG - EDITS API (EDIT INFO)  ; 9/22/06 11:58am
"RTN","ONCSED04",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCSED04",3,0)
 ;
"RTN","ONCSED04",4,0)
 ;--- SOAP REQUST TO THE ONCOLOGY WEB SERVICE
"RTN","ONCSED04",5,0)
 ;
"RTN","ONCSED04",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSED04",7,0)
 ; <soap:Envelope
"RTN","ONCSED04",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSED04",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSED04",10,0)
 ;   <soap:Body>
"RTN","ONCSED04",11,0)
 ;     <ED-GET-EDITINFO ver="2.0"
"RTN","ONCSED04",12,0)
 ;       xmlns="http://vista.med.va.gov/oncology">
"RTN","ONCSED04",13,0)
 ;       <EDIT-SET> ... </EDIT-SET>
"RTN","ONCSED04",14,0)
 ;       <EDIT> ... </EDIT>
"RTN","ONCSED04",15,0)
 ;       <TEXT-WIDTH> ... </TEXT-WIDTH>
"RTN","ONCSED04",16,0)
 ;     </ED-GET-EDITINFO>
"RTN","ONCSED04",17,0)
 ;   </soap:Body >
"RTN","ONCSED04",18,0)
 ; </soap:Envelope>
"RTN","ONCSED04",19,0)
 ;
"RTN","ONCSED04",20,0)
 ;--- SOAP RESPONSE FROM THE ONCOLOGY WEB SERVICE
"RTN","ONCSED04",21,0)
 ;
"RTN","ONCSED04",22,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSED04",23,0)
 ; <soap:Envelope
"RTN","ONCSED04",24,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSED04",25,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSED04",26,0)
 ;   <soap:Body>
"RTN","ONCSED04",27,0)
 ;     <ED-RESPONSE xmlns="http://vista.med.va.gov/oncology">
"RTN","ONCSED04",28,0)
 ;       <NAME> ... </NAME>
"RTN","ONCSED04",29,0)
 ;       <DESCRIPTION>
"RTN","ONCSED04",30,0)
 ;         ...
"RTN","ONCSED04",31,0)
 ;       </DESCRIPTION>
"RTN","ONCSED04",32,0)
 ;       <HELP>
"RTN","ONCSED04",33,0)
 ;         ...
"RTN","ONCSED04",34,0)
 ;       </HELP>
"RTN","ONCSED04",35,0)
 ;     </ED-RESPONSE>
"RTN","ONCSED04",36,0)
 ;     <soap:Fault>
"RTN","ONCSED04",37,0)
 ;       <faultcode> ... </faultcode>
"RTN","ONCSED04",38,0)
 ;       <faultstring> ... </faultstring>
"RTN","ONCSED04",39,0)
 ;       <detail>
"RTN","ONCSED04",40,0)
 ;         <RC> ... </RC>
"RTN","ONCSED04",41,0)
 ;       </detail>
"RTN","ONCSED04",42,0)
 ;     </soap:Fault>
"RTN","ONCSED04",43,0)
 ;   </soap:Body >
"RTN","ONCSED04",44,0)
 ; </soap:Envelope>
"RTN","ONCSED04",45,0)
 ;
"RTN","ONCSED04",46,0)
 Q
"RTN","ONCSED04",47,0)
 ;
"RTN","ONCSED04",48,0)
 ;***** END ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED04",49,0)
 ;
"RTN","ONCSED04",50,0)
 ; ELMT          Name of the element
"RTN","ONCSED04",51,0)
 ;
"RTN","ONCSED04",52,0)
ENDEL(ELMT) ;
"RTN","ONCSED04",53,0)
 N I,L,L2E,TMP
"RTN","ONCSED04",54,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSED04",55,0)
 D ENDEL^ONCSAPIX(ELMT)
"RTN","ONCSED04",56,0)
 ;--- Description line
"RTN","ONCSED04",57,0)
 I L2E="DESCRIPTION,P"  D  Q
"RTN","ONCSED04",58,0)
 . S I=$O(@ONCXML@(ONCEDIEN,"D"," "),-1)+1
"RTN","ONCSED04",59,0)
 . S @ONCXML@(ONCEDIEN,"D",I)=$$TRIM^XLFSTR($G(ONCXML("TEXT")),"R")
"RTN","ONCSED04",60,0)
 ;--- Help line
"RTN","ONCSED04",61,0)
 I L2E="HELP,P"  D  Q
"RTN","ONCSED04",62,0)
 . S I=$O(@ONCXML@(ONCEDIEN,"H"," "),-1)+1
"RTN","ONCSED04",63,0)
 . S @ONCXML@(ONCEDIEN,"H",I)=$$TRIM^XLFSTR($G(ONCXML("TEXT")),"R")
"RTN","ONCSED04",64,0)
 Q
"RTN","ONCSED04",65,0)
 ;
"RTN","ONCSED04",66,0)
 ;***** GETS EDIT INFO FROM THE SERVER IF NECESSARY
"RTN","ONCSED04",67,0)
 ;
"RTN","ONCSED04",68,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSED)
"RTN","ONCSED04",69,0)
 ;
"RTN","ONCSED04",70,0)
 ; ESNAME        Edit set name
"RTN","ONCSED04",71,0)
 ;
"RTN","ONCSED04",72,0)
 ; EDTNDX        Edit index
"RTN","ONCSED04",73,0)
 ;
"RTN","ONCSED04",74,0)
 ; Return Values:
"RTN","ONCSED04",75,0)
 ;       <0  Error descriptor
"RTN","ONCSED04",76,0)
 ;       >0  IEN of the edit info
"RTN","ONCSED04",77,0)
 ;
"RTN","ONCSED04",78,0)
GETINFO(ONCSAPI,ESNAME,EDTNDX) ;
"RTN","ONCSED04",79,0)
 N ONCEDESC      ; Edit descriptor
"RTN","ONCSED04",80,0)
 N ONCEDIEN      ; IEN of the description
"RTN","ONCSED04",81,0)
 ;
"RTN","ONCSED04",82,0)
 N DST,ESNSUB,ONCREQ,ONCRSP,ONCXML,SVX,SVY,URL
"RTN","ONCSED04",83,0)
 S ESNSUB=$E(ESNAME,1,250)
"RTN","ONCSED04",84,0)
 ;--- Initialize constants and variables
"RTN","ONCSED04",85,0)
 S ONCXML=$NA(^XTMP("ONCSAPI","EDITS"))
"RTN","ONCSED04",86,0)
 ;
"RTN","ONCSED04",87,0)
 ;--- Check if the edit info is available
"RTN","ONCSED04",88,0)
 S ONCEDIEN=+$G(@ONCXML@("ES",ESNSUB,EDTNDX))
"RTN","ONCSED04",89,0)
 I ONCEDIEN>0  Q:$D(@ONCXML@(ONCEDIEN))>1 ONCEDIEN
"RTN","ONCSED04",90,0)
 S ONCRSP=$NA(^TMP("ONCSED04",$J))  K @ONCRSP
"RTN","ONCSED04",91,0)
 ;
"RTN","ONCSED04",92,0)
 ;---  Get the server URL
"RTN","ONCSED04",93,0)
 S URL=$$GETCSURL^ONCSAPIU()
"RTN","ONCSED04",94,0)
 ;
"RTN","ONCSED04",95,0)
 D LOCK^DILF($NA(@ONCXML@("ES",ESNSUB,EDTNDX)))
"RTN","ONCSED04",96,0)
 E  Q $$ERROR^ONCSAPIE(-15,,"local cache")
"RTN","ONCSED04",97,0)
 S SVX=$X,SVY=$Y
"RTN","ONCSED04",98,0)
 S RC=0  D
"RTN","ONCSED04",99,0)
 . ;--- Check if the info has become available
"RTN","ONCSED04",100,0)
 . S ONCEDIEN=+$G(@ONCXML@("ES",ESNSUB,EDTNDX))
"RTN","ONCSED04",101,0)
 . I ONCEDIEN>0  Q:$D(@ONCXML@(ONCEDIEN))>1
"RTN","ONCSED04",102,0)
 . ;
"RTN","ONCSED04",103,0)
 . ;--- Prepare the request data
"RTN","ONCSED04",104,0)
 . S DST="ONCREQ"
"RTN","ONCSED04",105,0)
 . D HEADER^ONCSAPIR(.DST,"ED-GET-EDITINFO")
"RTN","ONCSED04",106,0)
 . D PUT^ONCSAPIR(.DST,"EDIT-SET",ESNAME)
"RTN","ONCSED04",107,0)
 . D PUT^ONCSAPIR(.DST,"EDIT",EDTNDX)
"RTN","ONCSED04",108,0)
 . D PUT^ONCSAPIR(.DST,"TEXT-WIDTH",75)
"RTN","ONCSED04",109,0)
 . D TRAILER^ONCSAPIR(.DST)
"RTN","ONCSED04",110,0)
 . K DST
"RTN","ONCSED04",111,0)
 . ;
"RTN","ONCSED04",112,0)
 . ;--- Send the request and get the response
"RTN","ONCSED04",113,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED04",114,0)
 . . D ZW^ONCSAPIU("ONCREQ","*** 'ED-GET-EDITDESC' REQUEST ***")
"RTN","ONCSED04",115,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONCRSP,"ONCREQ")  Q:RC<0
"RTN","ONCSED04",116,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED04",117,0)
 . . D ZW^ONCSAPIU(ONCRSP,"*** 'ED-GET-EDITDESC' RESPONSE ***")
"RTN","ONCSED04",118,0)
 . ;
"RTN","ONCSED04",119,0)
 . ;--- Parse the response
"RTN","ONCSED04",120,0)
 . S ONCEDIEN=+$O(@ONCXML@(" "),-1)+1,ONCEDESC=EDTNDX
"RTN","ONCSED04",121,0)
 . D SETCBK(.CBK),EN^MXMLPRSE(ONCRSP,.CBK,"W")
"RTN","ONCSED04",122,0)
 . ;--- Check for parsing and web service errors
"RTN","ONCSED04",123,0)
 . S RC=$$CHKERR^ONCSAPIR(.ONCXML)  Q:RC<0
"RTN","ONCSED04",124,0)
 . ;
"RTN","ONCSED04",125,0)
 . ;--- Complete the edit info
"RTN","ONCSED04",126,0)
 . S @ONCXML@(ONCEDIEN,0)=ONCEDESC
"RTN","ONCSED04",127,0)
 . S @ONCXML@("ES",ESNSUB,EDTNDX)=ONCEDIEN
"RTN","ONCSED04",128,0)
 S $X=SVX,$Y=SVY
"RTN","ONCSED04",129,0)
 L -@ONCXML@("ES",ESNSUB,EDTNDX)
"RTN","ONCSED04",130,0)
 ;
"RTN","ONCSED04",131,0)
 ;--- Cleanup
"RTN","ONCSED04",132,0)
 K @ONCRSP
"RTN","ONCSED04",133,0)
 Q $S(RC<0:RC,1:ONCEDIEN)
"RTN","ONCSED04",134,0)
 ;
"RTN","ONCSED04",135,0)
 ;***** RETURNS THE EDIT DESCRIPTION NODE (LOADS DATA IF NECESSARY)
"RTN","ONCSED04",136,0)
 ;
"RTN","ONCSED04",137,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSED)
"RTN","ONCSED04",138,0)
 ;
"RTN","ONCSED04",139,0)
 ; ESNAME        Edit set name
"RTN","ONCSED04",140,0)
 ;
"RTN","ONCSED04",141,0)
 ; EDTNDX        Edit index
"RTN","ONCSED04",142,0)
 ;
"RTN","ONCSED04",143,0)
 ; The ^TMP("ONCSED04",$J) global node is used by this function.
"RTN","ONCSED04",144,0)
 ;
"RTN","ONCSED04",145,0)
 ; Return Values:
"RTN","ONCSED04",146,0)
 ;       <0  Error descriptor
"RTN","ONCSED04",147,0)
 ;           Closed root of the edit description node
"RTN","ONCSED04",148,0)
 ;
"RTN","ONCSED04",149,0)
GETEDESC(ONCSAPI,ESNAME,EDTNDX) ;
"RTN","ONCSED04",150,0)
 N NODE,RC
"RTN","ONCSED04",151,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSED04",152,0)
 Q:$G(EDTNDX,-1)<0 $$ERROR^ONCSAPIE(-6,,"EDTNDX",$G(EDTNDX))
"RTN","ONCSED04",153,0)
 S RC=$$GETINFO(.ONCSAPI,ESNAME,EDTNDX)
"RTN","ONCSED04",154,0)
 Q $S(RC<0:RC,1:$NA(^XTMP("ONCSAPI","EDITS",RC,"D")))
"RTN","ONCSED04",155,0)
 ;
"RTN","ONCSED04",156,0)
 ;***** RETURNS THE EDIT HELP NODE (LOADS DATA IF NECESSARY)
"RTN","ONCSED04",157,0)
 ;
"RTN","ONCSED04",158,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSED)
"RTN","ONCSED04",159,0)
 ;
"RTN","ONCSED04",160,0)
 ; ESNAME        Edit set name
"RTN","ONCSED04",161,0)
 ;
"RTN","ONCSED04",162,0)
 ; EDTNDX        Edit index
"RTN","ONCSED04",163,0)
 ;
"RTN","ONCSED04",164,0)
 ; The ^TMP("ONCSED04",$J) global node is used by this function.
"RTN","ONCSED04",165,0)
 ;
"RTN","ONCSED04",166,0)
 ; Return Values:
"RTN","ONCSED04",167,0)
 ;       <0  Error descriptor
"RTN","ONCSED04",168,0)
 ;           Closed root of the edit help node
"RTN","ONCSED04",169,0)
 ;
"RTN","ONCSED04",170,0)
GETEDHLP(ONCSAPI,ESNAME,EDTNDX) ;
"RTN","ONCSED04",171,0)
 N NODE,RC
"RTN","ONCSED04",172,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSED04",173,0)
 Q:$G(EDTNDX,-1)<0 $$ERROR^ONCSAPIE(-6,,"EDTNDX",$G(EDTNDX))
"RTN","ONCSED04",174,0)
 S RC=$$GETINFO(.ONCSAPI,ESNAME,EDTNDX)
"RTN","ONCSED04",175,0)
 Q $S(RC<0:RC,1:$NA(^XTMP("ONCSAPI","EDITS",RC,"H")))
"RTN","ONCSED04",176,0)
 ;
"RTN","ONCSED04",177,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSED04",178,0)
 ;
"RTN","ONCSED04",179,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSED04",180,0)
 ;
"RTN","ONCSED04",181,0)
SETCBK(CBK) ;
"RTN","ONCSED04",182,0)
 ;;CHARACTERS^ TEXT^ONCSED04
"RTN","ONCSED04",183,0)
 ;;ENDELEMENT^ENDEL^ONCSED04
"RTN","ONCSED04",184,0)
 ;
"RTN","ONCSED04",185,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSED04")
"RTN","ONCSED04",186,0)
 Q
"RTN","ONCSED04",187,0)
 ;
"RTN","ONCSED04",188,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED04",189,0)
 ;
"RTN","ONCSED04",190,0)
 ; TXT           Line of unmarked text
"RTN","ONCSED04",191,0)
 ;
"RTN","ONCSED04",192,0)
TEXT(TXT) ;
"RTN","ONCSED04",193,0)
 N I,L,L2E,TMP
"RTN","ONCSED04",194,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSED04",195,0)
 ;--- Text of the edit description or help
"RTN","ONCSED04",196,0)
 I (L2E="DESCRIPTION,P")!(L2E="HELP,P")  D  Q
"RTN","ONCSED04",197,0)
 . S ONCXML("TEXT")=$G(ONCXML("TEXT"))_TXT
"RTN","ONCSED04",198,0)
 ;--- Edit name
"RTN","ONCSED04",199,0)
 I L2E="ED-RESPONSE,NAME"  S $P(ONCEDESC,U,2)=$P(ONCEDESC,U,2)_TXT  Q
"RTN","ONCSED04",200,0)
 ;--- Default processing
"RTN","ONCSED04",201,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSED04",202,0)
 Q
"RTN","ONCSEDEM")
0^11^B3657858
"RTN","ONCSEDEM",1,0)
ONCSEDEM ;Hines OIFO/SG - EDITS API (DEMO)  ; 11/6/06 11:56am
"RTN","ONCSEDEM",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCSEDEM",3,0)
 ;
"RTN","ONCSEDEM",4,0)
 Q
"RTN","ONCSEDEM",5,0)
 ;
"RTN","ONCSEDEM",6,0)
 ;***** DEMO ENTRY POINT
"RTN","ONCSEDEM",7,0)
 ;
"RTN","ONCSEDEM",8,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSEDEM",9,0)
 ;
"RTN","ONCSEDEM",10,0)
DEMO(ONCSAPI) ;
"RTN","ONCSEDEM",11,0)
 N CFGNAME,MSGLST,RC,REQUEST
"RTN","ONCSEDEM",12,0)
 W !!?10,"DEMO CLIENT FOR THE EDITS API",!
"RTN","ONCSEDEM",13,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCSEDEM",14,0)
 S REQUEST=$NA(^TMP("ONCSEDEM",$J,1))
"RTN","ONCSEDEM",15,0)
 S MSGLST=$NA(^TMP("ONCSEDEM",$J,2))
"RTN","ONCSEDEM",16,0)
 ;
"RTN","ONCSEDEM",17,0)
 ;--- Check the DLL version
"RTN","ONCSEDEM",18,0)
 S RC=$$CHKVER^ONCSAPIV(.ONCSAPI)
"RTN","ONCSEDEM",19,0)
 D:RC<0 PRTERRS^ONCSAPIE(),CLEAR^ONCSAPIE()
"RTN","ONCSEDEM",20,0)
 ;
"RTN","ONCSEDEM",21,0)
 D
"RTN","ONCSEDEM",22,0)
 . ;--- Ask user for configuration name
"RTN","ONCSEDEM",23,0)
 . S RC=$$GETCFG(.CFGNAME)  Q:RC
"RTN","ONCSEDEM",24,0)
 . ;--- Prepare and execute the EDITS request
"RTN","ONCSEDEM",25,0)
 . W !,"Validating the data..."
"RTN","ONCSEDEM",26,0)
 . S RC=$$RBQPREP^ONCSED01(.ONCSAPI,.REQUEST,CFGNAME)  Q:RC<0
"RTN","ONCSEDEM",27,0)
 . D NAACCR(.REQUEST)
"RTN","ONCSEDEM",28,0)
 . S RC=$$RBQEXEC^ONCSED01(.ONCSAPI,.REQUEST,MSGLST)   Q:RC<0
"RTN","ONCSEDEM",29,0)
 . I RC>0  D  Q:RC<0
"RTN","ONCSEDEM",30,0)
 . . N %ZIS,IOP,POP
"RTN","ONCSEDEM",31,0)
 . . S %ZIS("B")="BROWSER"
"RTN","ONCSEDEM",32,0)
 . . D ^%ZIS  Q:$G(POP)  U IO
"RTN","ONCSEDEM",33,0)
 . . S RC=$$REPORT^ONCSED01(.ONCSAPI,MSGLST,"MT")
"RTN","ONCSEDEM",34,0)
 . . D ^%ZISC
"RTN","ONCSEDEM",35,0)
 ;
"RTN","ONCSEDEM",36,0)
 ;--- Error processing and cleanup
"RTN","ONCSEDEM",37,0)
 D:RC<0 PRTERRS^ONCSAPIE()
"RTN","ONCSEDEM",38,0)
 K ^TMP("ONCSEDEM",$J)
"RTN","ONCSEDEM",39,0)
 Q
"RTN","ONCSEDEM",40,0)
 ;
"RTN","ONCSEDEM",41,0)
 ;***** ASKS USER FOR CONFIGURATION NAME
"RTN","ONCSEDEM",42,0)
 ;
"RTN","ONCSEDEM",43,0)
 ; .CFGNAME      Reference to a local variable where the name
"RTN","ONCSEDEM",44,0)
 ;               will be returned to.
"RTN","ONCSEDEM",45,0)
 ;
"RTN","ONCSEDEM",46,0)
 ; Return values:
"RTN","ONCSEDEM",47,0)
 ;
"RTN","ONCSEDEM",48,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSEDEM",49,0)
 ;        0  Ok
"RTN","ONCSEDEM",50,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSEDEM",51,0)
 ;        2  Timeout
"RTN","ONCSEDEM",52,0)
 ;
"RTN","ONCSEDEM",53,0)
GETCFG(CFGNAME) ;
"RTN","ONCSEDEM",54,0)
 N DA,DIR,DIRUT,DTOUT,DUOUT,RC,X,Y
"RTN","ONCSEDEM",55,0)
 S CFGNAME=""
"RTN","ONCSEDEM",56,0)
 S DIR(0)="FO",DIR("B")="DEFAULT"
"RTN","ONCSEDEM",57,0)
 S DIR("A")="Configuration name"
"RTN","ONCSEDEM",58,0)
 D ^DIR
"RTN","ONCSEDEM",59,0)
 S RC=$S($D(DUOUT):1,$D(DTOUT):2,1:0)  Q:RC RC
"RTN","ONCSEDEM",60,0)
 S CFGNAME=X
"RTN","ONCSEDEM",61,0)
 Q 0
"RTN","ONCSEDEM",62,0)
 ;
"RTN","ONCSEDEM",63,0)
 ;***** GENERATES A NAACCR RECORD WITH RANDOM DATA
"RTN","ONCSEDEM",64,0)
NAACCR(ONCDST) ;
"RTN","ONCSEDEM",65,0)
 N I,TMP
"RTN","ONCSEDEM",66,0)
 F I=1:1:10  D
"RTN","ONCSEDEM",67,0)
 . S TMP="",$P(TMP,$C(64+$R(58)),$R(513)+1)=""
"RTN","ONCSEDEM",68,0)
 . D WRITE^ONCSNACR(.ONCDST,TMP)
"RTN","ONCSEDEM",69,0)
 Q
"RTN","ONCSNACR")
0^12^B6005907
"RTN","ONCSNACR",1,0)
ONCSNACR ;Hines OIFO/SG - NACCR TOOLS  ; 3/9/07 10:40am
"RTN","ONCSNACR",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCSNACR",3,0)
 ;
"RTN","ONCSNACR",4,0)
 ; ONC8DST ------------- DESCRIPTOR OF THE DESTINATION BUFFER
"RTN","ONCSNACR",5,0)
 ;                       (a parameter of BEGIN, END, FLUSH, and
"RTN","ONCSNACR",6,0)
 ;                       WRITE).  See also the ^ONCSAPIR.
"RTN","ONCSNACR",7,0)
 ;
"RTN","ONCSNACR",8,0)
 ; ONC8DST(              Closed root of the destination buffer
"RTN","ONCSNACR",9,0)
 ;   "BUF")              Output buffer
"RTN","ONCSNACR",10,0)
 ;   "LBA")              Available space in the output buffer
"RTN","ONCSNACR",11,0)
 ;   "PTR")              Pointer in the destination buffer
"RTN","ONCSNACR",12,0)
 ;   "PTRC")             Continuation pointer (optional)
"RTN","ONCSNACR",13,0)
 ;
"RTN","ONCSNACR",14,0)
 Q
"RTN","ONCSNACR",15,0)
 ;
"RTN","ONCSNACR",16,0)
 ;***** STARTS THE NAACCR RECORD OUTPUT
"RTN","ONCSNACR",17,0)
 ;
"RTN","ONCSNACR",18,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",19,0)
 ;
"RTN","ONCSNACR",20,0)
BEGIN(ONC8DST) ;
"RTN","ONCSNACR",21,0)
 Q:$G(ONC8DST)=""
"RTN","ONCSNACR",22,0)
 K ONC8DST("BUF"),ONC8DST("LBA")
"RTN","ONCSNACR",23,0)
 S:'$D(ONC8DST("PTR")) ONC8DST("PTR")=+$O(@ONC8DST@(""),-1)
"RTN","ONCSNACR",24,0)
 ;--- Open tag for the NAACCR record
"RTN","ONCSNACR",25,0)
 D PUT^ONCSAPIR(.ONC8DST,"NAACCR-RECORD",,1)
"RTN","ONCSNACR",26,0)
 D FLUSH(.ONC8DST)
"RTN","ONCSNACR",27,0)
 Q
"RTN","ONCSNACR",28,0)
 ;
"RTN","ONCSNACR",29,0)
 ;***** RETURNS CRC32 VALUE FOR THE NAACCR RECORD
"RTN","ONCSNACR",30,0)
 ;
"RTN","ONCSNACR",31,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",32,0)
 ;
"RTN","ONCSNACR",33,0)
 ; Return values:
"RTN","ONCSNACR",34,0)
 ;        0  NAACCR record data has not been found
"RTN","ONCSNACR",35,0)
 ;      ...  CRC32 value
"RTN","ONCSNACR",36,0)
 ;
"RTN","ONCSNACR",37,0)
CRC32(ONC8DST) ;
"RTN","ONCSNACR",38,0)
 N BUF,CRC,FLT,FLTL,PI
"RTN","ONCSNACR",39,0)
 S FLTL=$L(ONC8DST)-1,FLT=$E(ONC8DST,1,FLTL)
"RTN","ONCSNACR",40,0)
 ;--- Search for beginning of the record data
"RTN","ONCSNACR",41,0)
 S PI=ONC8DST
"RTN","ONCSNACR",42,0)
 F  S PI=$Q(@PI)  Q:$E(PI,1,FLTL)'=FLT  Q:$E(@PI,1,14)="<NAACCR-RECORD"
"RTN","ONCSNACR",43,0)
 Q:$E(PI,1,FLTL)'=FLT 0
"RTN","ONCSNACR",44,0)
 ;--- Calculate the checksum
"RTN","ONCSNACR",45,0)
 S CRC=4294967295
"RTN","ONCSNACR",46,0)
 F  S PI=$Q(@PI)  Q:$E(PI,1,FLTL)'=FLT  S BUF=@PI  Q:BUF="</NAACCR-RECORD>"  D
"RTN","ONCSNACR",47,0)
 . S CRC=$$CRC32^XLFCRC(BUF,CRC)
"RTN","ONCSNACR",48,0)
 ;--- Success
"RTN","ONCSNACR",49,0)
 Q CRC
"RTN","ONCSNACR",50,0)
 ;
"RTN","ONCSNACR",51,0)
 ;***** FINISHES THE NAACCR RECORD OUTPUT
"RTN","ONCSNACR",52,0)
 ;
"RTN","ONCSNACR",53,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",54,0)
 ;
"RTN","ONCSNACR",55,0)
END(ONC8DST) ;
"RTN","ONCSNACR",56,0)
 I $G(ONC8DST)=""  W !  Q
"RTN","ONCSNACR",57,0)
 ;--- Close tag for the NAACCR record
"RTN","ONCSNACR",58,0)
 D FLUSH(.ONC8DST),APPEND^ONCSAPIR(.ONC8DST,"</NAACCR-RECORD>",1)
"RTN","ONCSNACR",59,0)
 K ONC8DST("BUF"),ONC8DST("LBA")
"RTN","ONCSNACR",60,0)
 Q
"RTN","ONCSNACR",61,0)
 ;
"RTN","ONCSNACR",62,0)
 ;***** FLUSHES THE OUTPUT BUFFER
"RTN","ONCSNACR",63,0)
 ;
"RTN","ONCSNACR",64,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",65,0)
 ;
"RTN","ONCSNACR",66,0)
FLUSH(ONC8DST) ;
"RTN","ONCSNACR",67,0)
 Q:$G(ONC8DST)=""
"RTN","ONCSNACR",68,0)
 D:$G(ONC8DST("BUF"))'="" APPEND^ONCSAPIR(.ONC8DST,ONC8DST("BUF"),1)
"RTN","ONCSNACR",69,0)
 S ONC8DST("BUF")="",ONC8DST("LBA")=250
"RTN","ONCSNACR",70,0)
 Q
"RTN","ONCSNACR",71,0)
 ;
"RTN","ONCSNACR",72,0)
 ;***** OUTPUTS THE PIECE OF THE NAACCR RECORD
"RTN","ONCSNACR",73,0)
 ;
"RTN","ONCSNACR",74,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",75,0)
 ;
"RTN","ONCSNACR",76,0)
 ; VAL           A piece of the NAACCR record
"RTN","ONCSNACR",77,0)
 ;
"RTN","ONCSNACR",78,0)
WRITE(ONC8DST,VAL) ;
"RTN","ONCSNACR",79,0)
 I $G(ONC8DST)=""  W VAL  Q
"RTN","ONCSNACR",80,0)
 N ENCTXT,LT
"RTN","ONCSNACR",81,0)
 S ENCTXT=$$SYMENC^MXMLUTL(VAL),LT=$L(ENCTXT)
"RTN","ONCSNACR",82,0)
 F  Q:LT'>0  D
"RTN","ONCSNACR",83,0)
 . I LT>ONC8DST("LBA")  D
"RTN","ONCSNACR",84,0)
 . . S ONC8DST("BUF")=ONC8DST("BUF")_$E(ENCTXT,1,ONC8DST("LBA"))
"RTN","ONCSNACR",85,0)
 . . S $E(ENCTXT,1,ONC8DST("LBA"))=""
"RTN","ONCSNACR",86,0)
 . . S LT=LT-ONC8DST("LBA"),ONC8DST("LBA")=0
"RTN","ONCSNACR",87,0)
 . E  D
"RTN","ONCSNACR",88,0)
 . . S ONC8DST("BUF")=ONC8DST("BUF")_ENCTXT
"RTN","ONCSNACR",89,0)
 . . S ONC8DST("LBA")=ONC8DST("LBA")-LT,LT=0
"RTN","ONCSNACR",90,0)
 . D:ONC8DST("LBA")'>0 FLUSH(.ONC8DST)
"RTN","ONCSNACR",91,0)
 Q
"RTN","ONCSYMP")
0^48^B11984863
"RTN","ONCSYMP",1,0)
ONCSYMP ;Hines OIFO/GWB - LUNG AND COLON SYMPTOMS ;05/24/05
"RTN","ONCSYMP",2,0)
 ;;2.11;ONCOLOGY;**43,47**;Mar 07, 1995;Build 19
"RTN","ONCSYMP",3,0)
 ;
"RTN","ONCSYMP",4,0)
LUNG S SECTION="Cancer Identification" D SECTION^ONCOAIP
"RTN","ONCSYMP",5,0)
 W !," SYMPTOMS AND INITIAL DIAGNOSTIC STUDIES"
"RTN","ONCSYMP",6,0)
 W !," ---------------------------------------"
"RTN","ONCSYMP",7,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCSYMP",8,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCSYMP",9,0)
 S DR="174;174.1;186;186.1;187;187.1;188;188.1;189;189.1;190;175;175.1;176;176.1;177;177.1;178;178.1;179;179.1"
"RTN","ONCSYMP",10,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCSYMP",11,0)
 F I=174,186,187,188,189,190,175,176,177,178,179 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCSYMP",12,0)
 W !," Blood in Sputum Per Pt.......: ",ONC(165.5,D0,174.1),?44,ONC(165.5,D0,174)
"RTN","ONCSYMP",13,0)
 W !," Dyspnea......................: ",ONC(165.5,D0,186.1),?44,ONC(165.5,D0,186)
"RTN","ONCSYMP",14,0)
 W !," Increased Cough..............: ",ONC(165.5,D0,187.1),?44,ONC(165.5,D0,187)
"RTN","ONCSYMP",15,0)
 W !," Fever........................: ",ONC(165.5,D0,188.1),?44,ONC(165.5,D0,188)
"RTN","ONCSYMP",16,0)
 W !," Night Sweats.................: ",ONC(165.5,D0,189.1),?44,ONC(165.5,D0,189)
"RTN","ONCSYMP",17,0)
 W !," Weight Loss Per Pt...........: ",?44,ONC(165.5,D0,190)
"RTN","ONCSYMP",18,0)
 W !," Chest X-Ray..................: ",ONC(165.5,D0,175.1),?44,ONC(165.5,D0,175)
"RTN","ONCSYMP",19,0)
 W !," CT Scan......................: ",ONC(165.5,D0,176.1),?44,ONC(165.5,D0,176)
"RTN","ONCSYMP",20,0)
 W !," Bronchoscopy.................: ",ONC(165.5,D0,177.1),?44,ONC(165.5,D0,177)
"RTN","ONCSYMP",21,0)
 W !," Mediastinoscopy..............: ",ONC(165.5,D0,178.1),?44,ONC(165.5,D0,178)
"RTN","ONCSYMP",22,0)
 W !," PET Scan.....................: ",ONC(165.5,D0,179.1),?44,ONC(165.5,D0,179)
"RTN","ONCSYMP",23,0)
 W !,DASHES
"RTN","ONCSYMP",24,0)
 Q
"RTN","ONCSYMP",25,0)
 ;
"RTN","ONCSYMP",26,0)
COLON S HDL=$L("Cancer Identification"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCSYMP",27,0)
 W @IOF,DASHES
"RTN","ONCSYMP",28,0)
 W !,?1,PATNAM,?TAB,"Cancer Identification",?SITTAB,SITEGP
"RTN","ONCSYMP",29,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCSYMP",30,0)
 W !,DASHES
"RTN","ONCSYMP",31,0)
 W !," SYMPTOMS AND INITIAL DIAGNOSTIC STUDIES"
"RTN","ONCSYMP",32,0)
 W !," ---------------------------------------"
"RTN","ONCSYMP",33,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCSYMP",34,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCSYMP",35,0)
 S DR="180;180.1;191;711;712;809;713;181;181.1;182;182.1;183;183.1;185;185.1;184;184.1;179;179.1;192"
"RTN","ONCSYMP",36,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCSYMP",37,0)
 F I=180,191,711,712,809,713,181,182,183,184,185,179,192 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCSYMP",38,0)
 W !," Ulcerative Colitis (UC)...................: ",?45,ONC(165.5,D0,191)
"RTN","ONCSYMP",39,0)
 W !," Familial Adenomatous Polyps...............: ",?45,ONC(165.5,D0,711)
"RTN","ONCSYMP",40,0)
 W !," HNPCC.....................................: ",?45,ONC(165.5,D0,712)
"RTN","ONCSYMP",41,0)
 W !," Crohn's Disease...........................: ",?45,ONC(165.5,D0,809)
"RTN","ONCSYMP",42,0)
 W !," Inflammatory Bowel Disease................: ",?45,ONC(165.5,D0,713)
"RTN","ONCSYMP",43,0)
 W !," Sporadic Polyps...........................: ",?45,ONC(165.5,D0,192)
"RTN","ONCSYMP",44,0)
 W !," Change in Bowel Habits Per Pt.: ",ONC(165.5,D0,180.1),?45,ONC(165.5,D0,180)
"RTN","ONCSYMP",45,0)
 W !," Fecal Occult Blood Test (FOBT): ",ONC(165.5,D0,181.1),?45,ONC(165.5,D0,181)
"RTN","ONCSYMP",46,0)
 W !," Barium Enema..................: ",ONC(165.5,D0,182.1),?45,ONC(165.5,D0,182)
"RTN","ONCSYMP",47,0)
 W !," Sigmoidoscopy.................: ",ONC(165.5,D0,183.1),?45,ONC(165.5,D0,183)
"RTN","ONCSYMP",48,0)
 W !," Colonoscopy...................: ",ONC(165.5,D0,185.1),?45,ONC(165.5,D0,185)
"RTN","ONCSYMP",49,0)
 W !," CT of Abdomen/Pelvis..........: ",ONC(165.5,D0,184.1),?45,ONC(165.5,D0,184)
"RTN","ONCSYMP",50,0)
 W !," PET Scan......................: ",ONC(165.5,D0,179.1),?45,ONC(165.5,D0,179)
"RTN","ONCSYMP",51,0)
 W !,DASHES
"RTN","ONCSYMP",52,0)
 Q
"RTN","ONCSYMP",53,0)
 ;
"RTN","ONCSYMP",54,0)
UCASE S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCSYMP",55,0)
 Q
"RTN","ONCSYMP",56,0)
 ;
"RTN","ONCSYMP",57,0)
STUFF ;Stuff symptom date with 00/00/0000 or 99/99/9999
"RTN","ONCSYMP",58,0)
 S:X=0 $P(^ONCO(165.5,D0,2.2),U,PIECE)="0000000"
"RTN","ONCSYMP",59,0)
 S:X=9 $P(^ONCO(165.5,D0,2.2),U,PIECE)=9999999
"RTN","ONCSYMP",60,0)
 Q
"RTN","ONCTIME")
0^53^B5842422
"RTN","ONCTIME",1,0)
ONCTIME ;Hines OIFO/GWB [Timeliness report];02/10/00
"RTN","ONCTIME",2,0)
 ;;2.11;ONCOLOGY;**47**;Mar 07, 1995;Build 19
"RTN","ONCTIME",3,0)
 ;
"RTN","ONCTIME",4,0)
TIME ;[Timeliness report]
"RTN","ONCTIME",5,0)
 N SDT,EDT,IEN,CNT,LESCNT,GTRCNT,RPTDATE,DIVISION
"RTN","ONCTIME",6,0)
 W @IOF
"RTN","ONCTIME",7,0)
 W !?3,"Timeliness report",!
"RTN","ONCTIME",8,0)
 S %DT="AEX",%DT("A")="   Start Date Case Completed: "
"RTN","ONCTIME",9,0)
 D ^%DT K %DT
"RTN","ONCTIME",10,0)
 Q:Y<1  S START=Y,SDT=Y-1
"RTN","ONCTIME",11,0)
 S %DT="AEX",%DT("A")="   End Date Case Completed..: "
"RTN","ONCTIME",12,0)
 D ^%DT K %DT
"RTN","ONCTIME",13,0)
 Q:Y<1  S (END,EDT)=Y
"RTN","ONCTIME",14,0)
 W !
"RTN","ONCTIME",15,0)
 N %ZIS,IOP,POP
"RTN","ONCTIME",16,0)
 S %ZIS="MQ"
"RTN","ONCTIME",17,0)
 D ^%ZIS  Q:$G(POP)
"RTN","ONCTIME",18,0)
 I $D(IO("Q")) D TASK G EXIT
"RTN","ONCTIME",19,0)
 U IO D COMP D ^%ZISC K %ZIS,IOP G EXIT
"RTN","ONCTIME",20,0)
 ;
"RTN","ONCTIME",21,0)
COMP S (CNT,LESCNT,GTRCNT)=0
"RTN","ONCTIME",22,0)
 F  S SDT=$O(^ONCO(165.5,"AAD",SDT)) Q:(SDT="")!(SDT>EDT)  S IEN=0 F  S IEN=$O(^ONCO(165.5,"AAD",SDT,IEN)) Q:IEN=""  I $$DIV^ONCFUNC(IEN)=DUZ(2) D
"RTN","ONCTIME",23,0)
 .S CNT=CNT+1
"RTN","ONCTIME",24,0)
 .S EDTC=$$GET1^DIQ(165.5,IEN,157)
"RTN","ONCTIME",25,0)
 .I EDTC<181 S LESCNT=LESCNT+1
"RTN","ONCTIME",26,0)
 .I EDTC>180 S GTRCNT=GTRCNT+1
"RTN","ONCTIME",27,0)
 I CNT=0 D  D:$E(IOST,1,2)="C-" PAUSE^ONCOPA2A G EXIT
"RTN","ONCTIME",28,0)
 .W !,?3,"No cases found in this date range.",!
"RTN","ONCTIME",29,0)
 S TIMEPCT=LESCNT/CNT
"RTN","ONCTIME",30,0)
 S TIMEPCT=$J(TIMEPCT,3,2)*100_"%"
"RTN","ONCTIME",31,0)
 S Y=DT D DD^%DT S RPTDATE=Y
"RTN","ONCTIME",32,0)
 S DIVISION=$P(^DIC(4,DUZ(2),0),U,1)
"RTN","ONCTIME",33,0)
 S Y=START D DD^%DT S START=Y
"RTN","ONCTIME",34,0)
 S Y=END D DD^%DT S END=Y
"RTN","ONCTIME",35,0)
 W !
"RTN","ONCTIME",36,0)
 W !?3,"TIMELINESS REPORT",?60,RPTDATE
"RTN","ONCTIME",37,0)
 W !
"RTN","ONCTIME",38,0)
 W !?3,"Start Date Case Completed......: ",START
"RTN","ONCTIME",39,0)
 W !?3,"End Date Case Completed........: ",END
"RTN","ONCTIME",40,0)
 W !?3,"Division.......................: ",DIVISION
"RTN","ONCTIME",41,0)
 W !?3,"Cases Completed < or = 180 days: ",LESCNT
"RTN","ONCTIME",42,0)
 W !?3,"Cases Completed > 180 days.....: ",GTRCNT
"RTN","ONCTIME",43,0)
 W !?3,"Percentage of cases compliant..: ",TIMEPCT
"RTN","ONCTIME",44,0)
 I $E(IOST,1,2)="C-" W ! D PAUSE^ONCOPA2A
"RTN","ONCTIME",45,0)
 D ^%ZISC
"RTN","ONCTIME",46,0)
 Q
"RTN","ONCTIME",47,0)
 ;
"RTN","ONCTIME",48,0)
TASK ;Queue a task
"RTN","ONCTIME",49,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCTIME",50,0)
 S ZTRTN="COMP^ONCTIME",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCTIME",51,0)
 S ZTDESC="Timeliness Report"
"RTN","ONCTIME",52,0)
 S ZTSAVE("SDT")="",ZTSAVE("EDT")="",ZTSAVE("START")="",ZTSAVE("END")=""
"RTN","ONCTIME",53,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCTIME",54,0)
 K ZTSK
"RTN","ONCTIME",55,0)
 Q
"RTN","ONCTIME",56,0)
 ;
"RTN","ONCTIME",57,0)
EXIT Q
"SEC","^DD",165.5,165.5,38.5,9)

"SEC","^DIC",5.1,5.1,0,"DD")
@
"SEC","^DIC",5.1,5.1,0,"DEL")
@
"SEC","^DIC",5.1,5.1,0,"LAYGO")
@
"SEC","^DIC",5.1,5.1,0,"RD")
@
"SEC","^DIC",5.1,5.1,0,"WR")
@
"SEC","^DIC",160.16,160.16,0,"AUDIT")
@
"SEC","^DIC",160.16,160.16,0,"DD")
@
"SEC","^DIC",160.16,160.16,0,"DEL")
@
"SEC","^DIC",160.16,160.16,0,"LAYGO")
@
"SEC","^DIC",160.16,160.16,0,"RD")
@
"SEC","^DIC",160.16,160.16,0,"WR")
@
"SEC","^DIC",164.43,164.43,0,"AUDIT")
@
"SEC","^DIC",164.43,164.43,0,"DD")
@
"SEC","^DIC",164.43,164.43,0,"DEL")
@
"SEC","^DIC",164.43,164.43,0,"LAYGO")
@
"SEC","^DIC",164.43,164.43,0,"RD")
@
"SEC","^DIC",164.43,164.43,0,"WR")
@
"SEC","^DIC",166,166,0,"AUDIT")
@
"SEC","^DIC",166,166,0,"DD")
@
"SEC","^DIC",166,166,0,"DEL")
@
"SEC","^DIC",166,166,0,"LAYGO")
@
"SEC","^DIC",166,166,0,"RD")
@
"SEC","^DIC",166,166,0,"WR")
@
"SEC","^DIC",169,169,0,"AUDIT")
@
"SEC","^DIC",169,169,0,"DD")
@
"SEC","^DIC",169,169,0,"DEL")
@
"SEC","^DIC",169,169,0,"LAYGO")
@
"SEC","^DIC",169,169,0,"RD")
@
"SEC","^DIC",169,169,0,"WR")
@
"VER")
8.0^22.0
"^DD",5.1,5.1,0)
FIELD^NL^5^6
"^DD",5.1,5.1,0,"DT")
3050602
"^DD",5.1,5.1,0,"ID",1)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DIC(5,+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(5,.01,0),U,2) D Y^DIQ:Y]"" W ?30,Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",5.1,5.1,0,"IX","B",5.1,.01)

"^DD",5.1,5.1,0,"IX","C",5.1,1)

"^DD",5.1,5.1,0,"NM","COUNTY")

"^DD",5.1,5.1,0,"PT",5.11,2)

"^DD",5.1,5.1,0,"PT",165.5,10)

"^DD",5.1,5.1,0,"PT",409.36,.117)

"^DD",5.1,5.1,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E)!(X'?.ANP) X
"^DD",5.1,5.1,.01,1,0)
^.1
"^DD",5.1,5.1,.01,1,1,0)
5.1^B
"^DD",5.1,5.1,.01,1,1,1)
S ^VIC(5.1,"B",$E(X,1,30),DA)=""
"^DD",5.1,5.1,.01,1,1,2)
K ^VIC(5.1,"B",$E(X,1,30),DA)
"^DD",5.1,5.1,.01,3)
Answer must be 3-30 characters in length.
"^DD",5.1,5.1,.01,21,0)
^^1^1^2930819^
"^DD",5.1,5.1,.01,21,1,0)
This is the name of the county.
"^DD",5.1,5.1,.01,"DT")
2930819
"^DD",5.1,5.1,1,0)
STATE^RP5'^DIC(5,^0;2^Q
"^DD",5.1,5.1,1,1,0)
^.1
"^DD",5.1,5.1,1,1,1,0)
5.1^C
"^DD",5.1,5.1,1,1,1,1)
S ^VIC(5.1,"C",$E(X,1,30),DA)=""
"^DD",5.1,5.1,1,1,1,2)
K ^VIC(5.1,"C",$E(X,1,30),DA)
"^DD",5.1,5.1,1,1,1,"%D",0)
^^1^1^2930909
"^DD",5.1,5.1,1,1,1,"%D",1,0)
Indexes file by STATE.
"^DD",5.1,5.1,1,1,1,"DT")
2930909
"^DD",5.1,5.1,1,3)

"^DD",5.1,5.1,1,21,0)
^.001^1^1^3061221^^
"^DD",5.1,5.1,1,21,1,0)
This is the state containing this county.
"^DD",5.1,5.1,1,"DT")
2881102
"^DD",5.1,5.1,2,0)
SEER COUNTY CODE^F^^0;3^K:$L(X)>3!($L(X)<3) X
"^DD",5.1,5.1,2,3)
ANSWER MUST BE 3 CHARACTERS IN LENGTH
"^DD",5.1,5.1,2,10)
SEER III.01A
"^DD",5.1,5.1,2,20,0)
^.3LA^1^1
"^DD",5.1,5.1,2,20,1,0)
SEER
"^DD",5.1,5.1,2,21,0)
^^4^4^2870916^
"^DD",5.1,5.1,2,21,1,0)
This identifies the county of residence at cancer diagnosis.  The code
"^DD",5.1,5.1,2,21,2,0)
is assigned by the Surveillance, Epidemiology, and End Results (SEER)
"^DD",5.1,5.1,2,21,3,0)
Program of the Division of Cancer Prevention and Control, National Cancer
"^DD",5.1,5.1,2,21,4,0)
Institute.  (Only SEER areas have SEER county codes).
"^DD",5.1,5.1,2,"DT")
2870402
"^DD",5.1,5.1,3,0)
ABBREVIATION^F^^0;4^K:$L(X)>5!($L(X)<1) X
"^DD",5.1,5.1,3,3)
ANSWER MUST BE 1-5 CHARACTERS IN LENGTH
"^DD",5.1,5.1,3,21,0)
^^1^1^2930819^
"^DD",5.1,5.1,3,21,1,0)
This is the abbreviated county name.
"^DD",5.1,5.1,3,"DT")
2871202
"^DD",5.1,5.1,4,0)
VA COUNTY CODE^F^^0;5^K:$L(X)>5!($L(X)<1) X
"^DD",5.1,5.1,4,3)
ANSWER MUST BE 1-5 CHARACTERS IN LENGTH
"^DD",5.1,5.1,4,21,0)
^^1^1^2930819^
"^DD",5.1,5.1,4,21,1,0)
This is the county code assigned by the Department of Veterans Affairs.
"^DD",5.1,5.1,4,"DT")
2871202
"^DD",5.1,5.1,5,0)
CATCHMENT CODE^F^^0;6^K:$L(X)>5!($L(X)<1) X
"^DD",5.1,5.1,5,3)
ANSWER MUST BE 1-5 CHARACTERS IN LENGTH
"^DD",5.1,5.1,5,21,0)
^^1^1^2930819^
"^DD",5.1,5.1,5,21,1,0)
This is the VA's internal geographical area code.
"^DD",5.1,5.1,5,"DT")
2871202
"^DD",160.16,160.16,0)
FIELD^^2^3
"^DD",160.16,160.16,0,"DDA")
N
"^DD",160.16,160.16,0,"DT")
3031023
"^DD",160.16,160.16,0,"IX","B",160.16,.01)

"^DD",160.16,160.16,0,"NM","ONCOLOGY DATA EXTRACT FORMAT")

"^DD",160.16,160.16,0,"VRPK")
ONC
"^DD",160.16,160.16,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",160.16,160.16,.01,1,0)
^.1
"^DD",160.16,160.16,.01,1,1,0)
160.16^B
"^DD",160.16,160.16,.01,1,1,1)
S ^ONCO(160.16,"B",$E(X,1,30),DA)=""
"^DD",160.16,160.16,.01,1,1,2)
K ^ONCO(160.16,"B",$E(X,1,30),DA)
"^DD",160.16,160.16,.01,3)
Answer must be 3-30 characters in length.
"^DD",160.16,160.16,.01,21,0)
1
"^DD",160.16,160.16,.01,21,1,0)
This contains the name of the extract.
"^DD",160.16,160.16,.01,"DT")
2970224
"^DD",160.16,160.16,1,0)
FIELD^160.161I^^FIELD;0
"^DD",160.16,160.16,1,21,0)
^.001^1^1^3031023^^^^
"^DD",160.16,160.16,1,21,1,0)
List of all the extracted fields.
"^DD",160.16,160.16,2,0)
RULES^160.162^^RULES;0
"^DD",160.16,160.16,2,21,0)
^^8^8^2970731^
"^DD",160.16,160.16,2,21,1,0)
This field is a set of rules based in MUMPS code that the extract must
"^DD",160.16,160.16,2,21,2,0)
follow for each entry.  Values that must be set are:
"^DD",160.16,160.16,2,21,3,0)
       VALID = 1 means that the extract is valid
"^DD",160.16,160.16,2,21,4,0)
             = 0 means that the extract has is not valid and will not
"^DD",160.16,160.16,2,21,5,0)
               extract
"^DD",160.16,160.16,2,21,6,0)
        JUMP = 0 means process all the field in the extract
"^DD",160.16,160.16,2,21,7,0)
             = X^Y means to skip all the fields from position X to
"^DD",160.16,160.16,2,21,8,0)
               position Y in the extract.
"^DD",160.16,160.161,0)
FIELD SUB-FIELD^^8^9
"^DD",160.16,160.161,0,"DT")
3031023
"^DD",160.16,160.161,0,"ID",3)
W "   ",$P(^(0),U,4)
"^DD",160.16,160.161,0,"IX","B",160.161,.01)

"^DD",160.16,160.161,0,"IX","C",160.161,3)

"^DD",160.16,160.161,0,"NM","FIELD")

"^DD",160.16,160.161,0,"UP")
160.16
"^DD",160.16,160.161,.01,0)
STARTING POSITION^MRNJ6,0^^0;1^K:+X'=X!(X>999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",160.16,160.161,.01,1,0)
^.1
"^DD",160.16,160.161,.01,1,1,0)
160.161^B
"^DD",160.16,160.161,.01,1,1,1)
S ^ONCO(160.16,DA(1),"FIELD","B",$E(X,1,30),DA)=""
"^DD",160.16,160.161,.01,1,1,2)
K ^ONCO(160.16,DA(1),"FIELD","B",$E(X,1,30),DA)
"^DD",160.16,160.161,.01,3)
Type a Number between 0 and 999999, 0 Decimal Digits
"^DD",160.16,160.161,.01,21,0)
^.001^1^1^3000316^^
"^DD",160.16,160.161,.01,21,1,0)
The starting position do the field within the extract.
"^DD",160.16,160.161,.01,"DT")
2970731
"^DD",160.16,160.161,1,0)
LENGTH^NJ6,0^^0;2^K:+X'=X!(X>999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",160.16,160.161,1,3)
Type a Number between 1 and 999999, 0 Decimal Digits
"^DD",160.16,160.161,1,21,0)
^^1^1^2970731^^^
"^DD",160.16,160.161,1,21,1,0)
This contains the character length of the field.
"^DD",160.16,160.161,1,"DT")
2970430
"^DD",160.16,160.161,2,0)
ENDING POSITION^NJ6,0^^0;3^K:+X'=X!(X>999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",160.16,160.161,2,3)
Type a Number between 1 and 999999, 0 Decimal Digits
"^DD",160.16,160.161,2,21,0)
^^1^1^2970731^^^
"^DD",160.16,160.161,2,21,1,0)
This is the ending position of the field data.
"^DD",160.16,160.161,2,"DT")
2970430
"^DD",160.16,160.161,3,0)
NAME^RF^^0;4^K:$L(X)>80!($L(X)<1) X
"^DD",160.16,160.161,3,1,0)
^.1
"^DD",160.16,160.161,3,1,1,0)
160.161^C
"^DD",160.16,160.161,3,1,1,1)
S ^ONCO(160.16,DA(1),"FIELD","C",$E(X,1,30),DA)=""
"^DD",160.16,160.161,3,1,1,2)
K ^ONCO(160.16,DA(1),"FIELD","C",$E(X,1,30),DA)
"^DD",160.16,160.161,3,1,1,"%D",0)
^^1^1^2970430^
"^DD",160.16,160.161,3,1,1,"%D",1,0)
Name cross reference.
"^DD",160.16,160.161,3,1,1,"DT")
2970430
"^DD",160.16,160.161,3,3)
Answer must be 1-80 characters in length.
"^DD",160.16,160.161,3,21,0)
^^1^1^2970731^
"^DD",160.16,160.161,3,21,1,0)
This is the name given to the field within the extract.
"^DD",160.16,160.161,3,"DT")
2970430
"^DD",160.16,160.161,4,0)
ACTION^F^^1;1^K:$L(X)>250!($L(X)<1) X
"^DD",160.16,160.161,4,3)
Answer must be 1-250 characters in length.
"^DD",160.16,160.161,4,21,0)
^^12^12^2970731^
"^DD",160.16,160.161,4,21,1,0)
Enter MUMPS Code that sets ACDANS to a value. DO NOT USE THE "^"
"^DD",160.16,160.161,4,21,2,0)
(UP-ARROW).  Fileman will not except and up-arrow.  Use "~" tilde to
"^DD",160.16,160.161,4,21,3,0)
replace all up-arrows.  The system has been coded to convert the tilde to
"^DD",160.16,160.161,4,21,4,0)
an up-arrow when it executes the string. 
"^DD",160.16,160.161,4,21,5,0)
   For example: 
"^DD",160.16,160.161,4,21,6,0)
               S ACDANS=123
"^DD",160.16,160.161,4,21,7,0)
               S ACDANS=$$FUNCT~ROUTINE(IEN) 
"^DD",160.16,160.161,4,21,8,0)
 
"^DD",160.16,160.161,4,21,9,0)
 Preset Varables:
"^DD",160.16,160.161,4,21,10,0)
              IEN=Internal Entry number of the entry in file 165.5 
"^DD",160.16,160.161,4,21,11,0)
           ACD160=Internal Entry number of the entry in file 160 that is
"^DD",160.16,160.161,4,21,12,0)
                  link to the entry in file 165.5
"^DD",160.16,160.161,4,"DT")
2970729
"^DD",160.16,160.161,5,0)
DEFAULT^F^^2;1^K:$L(X)>200!($L(X)<1) X
"^DD",160.16,160.161,5,3)
Answer must be 1-200 characters in length.
"^DD",160.16,160.161,5,21,0)
^^5^5^2970731^
"^DD",160.16,160.161,5,21,1,0)
The default value of a field that is has no data stored.
"^DD",160.16,160.161,5,21,2,0)
Values can be:
"^DD",160.16,160.161,5,21,3,0)
          BLANK = " "
"^DD",160.16,160.161,5,21,4,0)
          ZERO  = "0"
"^DD",160.16,160.161,5,21,5,0)
          NINE  = "9"
"^DD",160.16,160.161,5,"DT")
2970509
"^DD",160.16,160.161,6,0)
FILL^F^^3;1^K:$L(X)>200!($L(X)<1) X
"^DD",160.16,160.161,6,3)
Answer must be 1-200 characters in length.
"^DD",160.16,160.161,6,21,0)
^^12^12^2970731^
"^DD",160.16,160.161,6,21,1,0)
The filler that is stuffed in front of or behind the data if it is not the 
"^DD",160.16,160.161,6,21,2,0)
max length. This element is devided into two pieces delimeted by a comma.
"^DD",160.16,160.161,6,21,3,0)
The first part tell where the fill is to go. Second part tells waht to
"^DD",160.16,160.161,6,21,4,0)
fill with.  "R" means to fill on the right side of the value and "L" means
"^DD",160.16,160.161,6,21,5,0)
to fill on the left.  The fill values are the same as in DEFAULT
"^DD",160.16,160.161,6,21,6,0)
 
"^DD",160.16,160.161,6,21,7,0)
Example:  L,BLANK = Fill the field with blanks then add the value to the
"^DD",160.16,160.161,6,21,8,0)
remainder
"^DD",160.16,160.161,6,21,9,0)
 
"^DD",160.16,160.161,6,21,10,0)
          BLANK = " "
"^DD",160.16,160.161,6,21,11,0)
          ZERO  = "0"
"^DD",160.16,160.161,6,21,12,0)
          NINE  = "9"
"^DD",160.16,160.161,6,"DT")
2970509
"^DD",160.16,160.161,7,0)
ITEM #^NJ4,0^^3;2^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",160.16,160.161,7,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",160.16,160.161,7,"DT")
3031023
"^DD",160.16,160.161,8,0)
DERIVATION^F^^4;1^K:$L(X)>150!($L(X)<1) X
"^DD",160.16,160.161,8,3)
Answer must be 1-150 characters in length.
"^DD",160.16,160.161,8,"DT")
3031023
"^DD",160.16,160.162,0)
RULES SUB-FIELD^^.01^1
"^DD",160.16,160.162,0,"DT")
2970618
"^DD",160.16,160.162,0,"NM","RULES")

"^DD",160.16,160.162,0,"UP")
160.16
"^DD",160.16,160.162,.01,0)
RULES^W^^0;1^Q
"^DD",160.16,160.162,.01,"DT")
2970618
"^DD",160.2,160.2,0)
FIELD^NL^3^4
"^DD",160.2,160.2,0,"DDA")
N
"^DD",160.2,160.2,0,"DT")
2920711
"^DD",160.2,160.2,0,"IX","AP",160.2,.02)

"^DD",160.2,160.2,0,"IX","B",160.2,.01)

"^DD",160.2,160.2,0,"NM","FORMS/INSTRUCTIONS")

"^DD",160.2,160.2,0,"VER")
2.0
"^DD",160.2,160.2,0,"VRPK")
ONC
"^DD",160.2,160.2,.01,0)
NAME^RF^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<3)!'(X'?1P.E)!(X'?.ANP) X
"^DD",160.2,160.2,.01,1,0)
^.1^^-1
"^DD",160.2,160.2,.01,1,1,0)
160.2^B
"^DD",160.2,160.2,.01,1,1,1)
S ^ONCO(160.2,"B",$E(X,1,30),DA)=""
"^DD",160.2,160.2,.01,1,1,2)
K ^ONCO(160.2,"B",$E(X,1,30),DA)
"^DD",160.2,160.2,.01,1,1,"DT")
2920710
"^DD",160.2,160.2,.01,3)
ANSWER MUST BE 3-30 CHARACTERS IN LENGTH
"^DD",160.2,160.2,.01,21,0)
^^1^1^2920523^^
"^DD",160.2,160.2,.01,21,1,0)
Enter contact MD, Institution, or non-kin Oncology related contact.
"^DD",160.2,160.2,.01,"DT")
2930903
"^DD",160.2,160.2,.02,0)
PROTECTION^RS^Y:PROTECT ENTRY FROM DELETION;N:DO NOT PROTECT ENTRY;^0;3^Q
"^DD",160.2,160.2,.02,1,0)
^.1
"^DD",160.2,160.2,.02,1,1,0)
160.2^AP^MUMPS
"^DD",160.2,160.2,.02,1,1,1)
S $P(^ONCO(160.2,DA,0),U,2)=$S(X="Y":1,1:"")
"^DD",160.2,160.2,.02,1,1,2)
Q
"^DD",160.2,160.2,.02,1,1,3)
DO NOT DELETE
"^DD",160.2,160.2,.02,1,1,"%D",0)
^^1^1^2920711^
"^DD",160.2,160.2,.02,1,1,"%D",1,0)
ALLOWS user to protect new entries from deletion.
"^DD",160.2,160.2,.02,1,1,"DT")
2920711
"^DD",160.2,160.2,.02,3)
Protect entry if you do not want to lose it!
"^DD",160.2,160.2,.02,21,0)
^^1^1^2930819^
"^DD",160.2,160.2,.02,21,1,0)
This field is used to protect entries from being deleted.
"^DD",160.2,160.2,.02,"DT")
2920711
"^DD",160.2,160.2,1,0)
MAIN FORM BODY^160.21^^1;0
"^DD",160.2,160.2,1,21,0)
^^1^1^2950301^^^
"^DD",160.2,160.2,1,21,1,0)
This is the main body of the follow-up form letter.
"^DD",160.2,160.2,3,0)
DESCRIPTION^160.23^^2;0
"^DD",160.2,160.2,3,21,0)
^^2^2^2920523^^
"^DD",160.2,160.2,3,21,1,0)
This field allows the Tumor Registrar to define and describe each
"^DD",160.2,160.2,3,21,2,0)
letter. Also it allows for the description of letters exported.
"^DD",160.2,160.21,0)
MAIN FORM BODY SUB-FIELD^^.01^1
"^DD",160.2,160.21,0,"NM","MAIN FORM BODY")

"^DD",160.2,160.21,0,"UP")
160.2
"^DD",160.2,160.21,.01,0)
MAIN FORM BODY^W^^0;1^Q
"^DD",160.2,160.21,.01,21,0)
^^1^1^2950301^
"^DD",160.2,160.21,.01,21,1,0)
This is the main body of the follow-up form letter.
"^DD",160.2,160.21,.01,"DT")
2871223
"^DD",160.2,160.23,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",160.2,160.23,0,"NM","DESCRIPTION")

"^DD",160.2,160.23,0,"UP")
160.2
"^DD",160.2,160.23,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",160.2,160.23,.01,21,0)
^^1^1^2910507^
"^DD",160.2,160.23,.01,21,1,0)
Describes purpose of letter.
"^DD",160.2,160.23,.01,"DT")
2910507
"^DD",164.43,164.43,0)
FIELD^^2^4
"^DD",164.43,164.43,0,"DDA")
N
"^DD",164.43,164.43,0,"DT")
2960703
"^DD",164.43,164.43,0,"ID",1)
W ?37,$P(^(0),U,2)
"^DD",164.43,164.43,0,"IX","B",164.43,.01)

"^DD",164.43,164.43,0,"IX","C",164.43,.01)

"^DD",164.43,164.43,0,"IX","D",164.43,1)

"^DD",164.43,164.43,0,"NM","GRADE")

"^DD",164.43,164.43,0,"PT",165.5,24)

"^DD",164.43,164.43,0,"VRPK")
ONC
"^DD",164.43,164.43,.001,0)
CODE^NJ2,0^^ ^K:+X'=X!(X>9)!(X<1)!(X?.E1"."1N.N) X
"^DD",164.43,164.43,.001,3)
Type a Number between 1 and 9, 0 Decimal Digits
"^DD",164.43,164.43,.001,21,0)
^^1^1^2930528^
"^DD",164.43,164.43,.001,21,1,0)
This field contains the code identifying the grade of tumor.
"^DD",164.43,164.43,.001,"DT")
2930601
"^DD",164.43,164.43,.01,0)
SHORT DESCRIPTION^RF^^0;1^K:$L(X)>30!($L(X)<1) X
"^DD",164.43,164.43,.01,1,0)
^.1
"^DD",164.43,164.43,.01,1,1,0)
164.43^B
"^DD",164.43,164.43,.01,1,1,1)
S ^ONCO(164.43,"B",$E(X,1,30),DA)=""
"^DD",164.43,164.43,.01,1,1,2)
K ^ONCO(164.43,"B",$E(X,1,30),DA)
"^DD",164.43,164.43,.01,1,2,0)
164.43^C^MUMPS
"^DD",164.43,164.43,.01,1,2,1)
D UCASE^ONCOU S ^ONCO(164.43,"C",$E(X,1,30),DA)=""
"^DD",164.43,164.43,.01,1,2,2)
D UCASE^ONCOU K ^ONCO(164.43,"C",$E(X,1,30),DA)
"^DD",164.43,164.43,.01,1,2,"%D",0)
^^1^1^3061117^
"^DD",164.43,164.43,.01,1,2,"%D",1,0)
This cross-reference allows for uppercase look-up by SHORT DESCRIPTION.
"^DD",164.43,164.43,.01,1,2,"DT")
3061117
"^DD",164.43,164.43,.01,3)
Answer must be 1-30 characters in length.
"^DD",164.43,164.43,.01,21,0)
^^1^1^2960703^^
"^DD",164.43,164.43,.01,21,1,0)
This is the brief indicator of grade as it will appear on the abstract.
"^DD",164.43,164.43,.01,"DT")
3061117
"^DD",164.43,164.43,1,0)
EXPLANATION^F^^0;2^K:$L(X)>120!($L(X)<1) X
"^DD",164.43,164.43,1,1,0)
^.1
"^DD",164.43,164.43,1,1,1,0)
164.43^D^MUMPS
"^DD",164.43,164.43,1,1,1,1)
D UCASE^ONCOU S ^ONCO(164.43,"D",$E(X,1,30),DA)=""
"^DD",164.43,164.43,1,1,1,2)
D UCASE^ONCOU K ^ONCO(164.43,"D",$E(X,1,30),DA)
"^DD",164.43,164.43,1,1,1,"%D",0)
^^1^1^3061117^
"^DD",164.43,164.43,1,1,1,"%D",1,0)
This cross-reference allows for uppercase lookup by EXPLANATION.
"^DD",164.43,164.43,1,1,1,"DT")
3061117
"^DD",164.43,164.43,1,3)
Answer must be 1-120 characters in length.
"^DD",164.43,164.43,1,21,0)
^^1^1^2930601^^
"^DD",164.43,164.43,1,21,1,0)
This field contains text that guides the user in selecting among codes.
"^DD",164.43,164.43,1,"DT")
3061117
"^DD",164.43,164.43,2,0)
ABBREVIATION^F^^0;3^K:$L(X)>2!($L(X)<1) X
"^DD",164.43,164.43,2,3)
Answer must be 1-2 characters in length.
"^DD",164.43,164.43,2,21,0)
^^1^1^2930601^
"^DD",164.43,164.43,2,21,1,0)
This field contains a 1-2 character abbreviation for tabular reports.
"^DD",164.43,164.43,2,"DT")
2930601
"^DD",165.5,165.5,.015,0)
SELECTED SITES^CJ12^^ ; ^S X="" D SICD^ONCOCOS
"^DD",165.5,165.5,.015,9)
^
"^DD",165.5,165.5,.015,9.01)

"^DD",165.5,165.5,.015,9.1)
S X="" D SICD^ONCOCOS
"^DD",165.5,165.5,.015,21,0)
^.001^1^1^3070111^^
"^DD",165.5,165.5,.015,21,1,0)
This COMPUTED field displays selected SITE/GP (165.5,.01) values. 
"^DD",165.5,165.5,.015,"DT")
3070111
"^DD",165.5,165.5,2.2,0)
MANAGING PHYSICIAN^*P165^ONCO(165,^0;13^S DIC("S")="I $P(^(0),U,2)=2" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",165.5,165.5,2.2,1,0)
^.1
"^DD",165.5,165.5,2.2,1,1,0)
165.5^ACP^MUMPS
"^DD",165.5,165.5,2.2,1,1,1)
S ^ONCO(165,"ACP",X,$P(^ONCO(165.5,DA,0),U,2))=""
"^DD",165.5,165.5,2.2,1,1,2)
K ^ONCO(165,"ACP",X,$P(^ONCO(165.5,DA,0),U,2))
"^DD",165.5,165.5,2.2,1,1,"%D",0)
^^2^2^2920608^^^
"^DD",165.5,165.5,2.2,1,1,"%D",1,0)
Creates a list under the Contact file of contacts, and associated patients 
"^DD",165.5,165.5,2.2,1,1,"%D",2,0)
orginating from the Primary file pointers to the Contact File.
"^DD",165.5,165.5,2.2,1,1,"DT")
2920607
"^DD",165.5,165.5,2.2,1,2,0)
165.5^APC^MUMPS
"^DD",165.5,165.5,2.2,1,2,1)
S ^ONCO(165,"APC",$P(^ONCO(165.5,DA,0),U,2),X)=""
"^DD",165.5,165.5,2.2,1,2,2)
K ^ONCO(165,"APC",$P(^ONCO(165.5,DA,0),U,2),X)
"^DD",165.5,165.5,2.2,1,2,"%D",0)
^^2^2^2920608^^^
"^DD",165.5,165.5,2.2,1,2,"%D",1,0)
Creates a list under the contact file of patients, and associated contacts
"^DD",165.5,165.5,2.2,1,2,"%D",2,0)
originating from the Primary file pointers to the contact file.
"^DD",165.5,165.5,2.2,1,2,"DT")
2920607
"^DD",165.5,165.5,2.2,1,3,0)
165.5^AMP^MUMPS
"^DD",165.5,165.5,2.2,1,3,1)
S ^ONCO(165.5,"AMP",X,$P(^ONCO(165.5,DA,0),U,2),DA)=""
"^DD",165.5,165.5,2.2,1,3,2)
K ^ONCO(165.5,"AMP",X,$P(^ONCO(165.5,DA,0),U,2),DA)
"^DD",165.5,165.5,2.2,1,3,"%D",0)
^^1^1^2990511^^^^
"^DD",165.5,165.5,2.2,1,3,"%D",1,0)
Creates a list of CONTACTs and the ONCOLOGY PATIENTs who use them.
"^DD",165.5,165.5,2.2,1,3,"DT")
2990511
"^DD",165.5,165.5,2.2,3)
Enter the physician who is responsible for the overall management of the patient.
"^DD",165.5,165.5,2.2,4)

"^DD",165.5,165.5,2.2,12)
Enter a PHYSICIAN TYPE ONCOLOGY CONTACT.
"^DD",165.5,165.5,2.2,12.1)
S DIC("S")="I $P(^(0),U,2)=2"
"^DD",165.5,165.5,2.2,20,0)
^.3LA^^0
"^DD",165.5,165.5,2.2,21,0)
^^3^3^3070214^
"^DD",165.5,165.5,2.2,21,1,0)
 
"^DD",165.5,165.5,2.2,21,2,0)
Identifies the physician who is responsible for the overall management
"^DD",165.5,165.5,2.2,21,3,0)
of the patient during diagnosis and/or treatment of this cancer.
"^DD",165.5,165.5,2.2,"DT")
3070214
"^DD",165.5,165.5,3,0)
DATE DX^DXOJ12^^0;16^D ZS9S^ONCODSR Q:ZS9S=1  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0) I $D(X) D DTDXIT^ONCODXD
"^DD",165.5,165.5,3,.1)

"^DD",165.5,165.5,3,1,0)
^.1
"^DD",165.5,165.5,3,1,1,0)
165.5^ADX
"^DD",165.5,165.5,3,1,1,1)
S ^ONCO(165.5,"ADX",$E(X,1,30),DA)=""
"^DD",165.5,165.5,3,1,1,2)
K ^ONCO(165.5,"ADX",$E(X,1,30),DA)
"^DD",165.5,165.5,3,1,1,3)
DO NOT DELETE
"^DD",165.5,165.5,3,1,1,"%D",0)
^^1^1^2991215^^
"^DD",165.5,165.5,3,1,1,"%D",1,0)
Cross-reference by DATE DX
"^DD",165.5,165.5,3,1,1,"DT")
2910829
"^DD",165.5,165.5,3,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,3,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,3,3)
Future dates are not allowed.
"^DD",165.5,165.5,3,10)

"^DD",165.5,165.5,3,20,0)
^.3LA^^0
"^DD",165.5,165.5,3,21,0)
^.001^5^5^3030630^^^^
"^DD",165.5,165.5,3,21,1,0)

"^DD",165.5,165.5,3,21,2,0)
Records the date of initial diagnosis by a physician for
"^DD",165.5,165.5,3,21,3,0)
the tumor being reported.
"^DD",165.5,165.5,3,21,4,0)

"^DD",165.5,165.5,3,21,5,0)
For further information see FORDS pages 89-90.
"^DD",165.5,165.5,3,"DT")
3061221
"^DD",165.5,165.5,35.1,0)
SEER SUMMARY STAGE ABBREVIATED^CJ13^^ ; ^S X="" D GSS^ONCOCOS
"^DD",165.5,165.5,35.1,9)
^
"^DD",165.5,165.5,35.1,9.01)

"^DD",165.5,165.5,35.1,9.1)
S X="" D GSS^ONCOCOS
"^DD",165.5,165.5,35.1,21,0)
^.001^2^2^3061219^^
"^DD",165.5,165.5,35.1,21,1,0)
This item abbreviates the SEER SUMMARY STAGE 2000 (165.5,35) output values
"^DD",165.5,165.5,35.1,21,2,0)
for condensed display.
"^DD",165.5,165.5,35.1,"DT")
3061219
"^DD",165.5,165.5,38.5,0)
STAGE GROUPING-AJCC^S^0:0;I:I;II:II;III:III;IV:IV;U:Unk/Uns;NA:NA;^2;28^Q
"^DD",165.5,165.5,38.5,1,0)
^.1
"^DD",165.5,165.5,38.5,1,1,0)
165.5^ASG
"^DD",165.5,165.5,38.5,1,1,1)
S ^ONCO(165.5,"ASG",$E(X,1,30),DA)=""
"^DD",165.5,165.5,38.5,1,1,2)
K ^ONCO(165.5,"ASG",$E(X,1,30),DA)
"^DD",165.5,165.5,38.5,1,1,"%D",0)
^^1^1^2970724^^
"^DD",165.5,165.5,38.5,1,1,"%D",1,0)
Indexes file by STAGE GROUPING-AJCC.
"^DD",165.5,165.5,38.5,21,0)
3^.001^3^3^3070111^^^^
"^DD",165.5,165.5,38.5,21,1,0)
This field is set by either the CLINCICAL STAGE GROUP (38) or PATHOLOGIC
"^DD",165.5,165.5,38.5,21,2,0)
STAGE GROUP (88) field depending on which takes precedence.  It consists
"^DD",165.5,165.5,38.5,21,3,0)
of the more general stage group values of 0, I, II, III, IV, Unk/Uns or NA.
"^DD",165.5,165.5,38.5,"DT")
2901126
"^DD",165.5,165.5,39,0)
OTHER STAGING SYSTEM^*P164.3'^ONCO(164.3,^2;21^S DIC("S")="I ($P(^ONCO(165.5,DA,0),U,16)<3070000)!((Y>74)&(Y<78))!((Y>94)&(Y<100))!((Y>108)&(Y<132))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",165.5,165.5,39,1,0)
^.1^^0
"^DD",165.5,165.5,39,3)
Enter an additional staging classification.
"^DD",165.5,165.5,39,4)

"^DD",165.5,165.5,39,12)
For 2007+ cases choose from C-D-S, RAI, D-S or FAB entries.
"^DD",165.5,165.5,39,12.1)
S DIC("S")="I ($P(^ONCO(165.5,DA,0),U,16)<3070000)!((Y>74)&(Y<78))!((Y>94)&(Y<100))!((Y>108)&(Y<132))"
"^DD",165.5,165.5,39,21,0)
^.001^4^4^3061206^^^^
"^DD",165.5,165.5,39,21,1,0)
 
"^DD",165.5,165.5,39,21,2,0)
OTHER STAGING SYSTEM allows institutions the opportunity to collect
"^DD",165.5,165.5,39,21,3,0)
additional staging classifications, for example, C-D-S, RAI, D-S or
"^DD",165.5,165.5,39,21,4,0)
FAB.
"^DD",165.5,165.5,39,"DT")
3061206
"^DD",165.5,165.5,58.3,0)
SURGICAL DX/STAGING PROC DATE^DOX^^3;31^D DFIT^ONCODSR
"^DD",165.5,165.5,58.3,.1)

"^DD",165.5,165.5,58.3,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,58.3,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,58.3,3)
Enter the date the surgical diagnostic and/or staging procedure was performed.
"^DD",165.5,165.5,58.3,21,0)
^.001^5^5^3021112^^^^
"^DD",165.5,165.5,58.3,21,1,0)

"^DD",165.5,165.5,58.3,21,2,0)
Records the date on which the surgical diagnostic
"^DD",165.5,165.5,58.3,21,3,0)
and/or staging procedure was performed.
"^DD",165.5,165.5,58.3,21,4,0)

"^DD",165.5,165.5,58.3,21,5,0)
For further information see FORDS pages 107-108.
"^DD",165.5,165.5,58.3,"DT")
3070329
"^DD",165.5,165.5,58.5,0)
SURG DX/STAGING PROC @FAC DATE^DXO^^3.1;6^D DFIT^ONCODSR
"^DD",165.5,165.5,58.5,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,58.5,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,58.5,3)
Enter the date the surgical diagnostic and/or staging procedure was performed at this facility.
"^DD",165.5,165.5,58.5,21,0)
^.001^3^3^3030107^^^^
"^DD",165.5,165.5,58.5,21,1,0)

"^DD",165.5,165.5,58.5,21,2,0)
Records the date on which the surgical diagnostic and/or staging procedure
"^DD",165.5,165.5,58.5,21,3,0)
was performed at this facility.
"^DD",165.5,165.5,58.5,"DT")
3070329
"^DD",165.5,165.5,95.1,0)
STATUS/LAST TUMOR STATUS^CJ17^^ ; ^S X="" D TRS^ONCOCOS
"^DD",165.5,165.5,95.1,9)
^
"^DD",165.5,165.5,95.1,9.01)

"^DD",165.5,165.5,95.1,9.1)
S X="" D TRS^ONCOCOS
"^DD",165.5,165.5,95.1,21,0)
^^2^2^3070112^
"^DD",165.5,165.5,95.1,21,1,0)
This COMPUTED field concatinates STATUS (160,15) and LAST TUMOR STATUS 
"^DD",165.5,165.5,95.1,21,2,0)
(165.5,95).
"^DD",165.5,165.5,95.1,"DT")
3070112
"^DD",165.5,165.5,138.1,0)
SCOPE OF LN SURGERY @FAC (R)^FOX^^3.1;9^S SCPFLG=0 D SCPDFIT^ONCTXSM K:$L(X)>1!($L(X)<1)!'(X?1N) X I $D(X),SCPFLG=0 S FIELD=138.1,NTXDD=1 D SCIT^ONCOSUR1
"^DD",165.5,165.5,138.1,1,0)
^.1^^0
"^DD",165.5,165.5,138.1,2)
S Y(0)=Y S FIELD=138.1 D SCOT^ONCOSUR1 K FIELD
"^DD",165.5,165.5,138.1,2.1)
S FIELD=138.1 D SCOT^ONCOSUR1 K FIELD
"^DD",165.5,165.5,138.1,3)

"^DD",165.5,165.5,138.1,4)
S FIELD=138.1 D SCHP^ONCOSUR1 K FIELD
"^DD",165.5,165.5,138.1,21,0)
^.001^4^4^3030319^^^^
"^DD",165.5,165.5,138.1,21,1,0)

"^DD",165.5,165.5,138.1,21,2,0)
Record the scope of regional lymph node surgery done AT THIS FACILITY.
"^DD",165.5,165.5,138.1,21,3,0)

"^DD",165.5,165.5,138.1,21,4,0)
For further information see ROADS page 190.
"^DD",165.5,165.5,138.1,"DT")
3070403
"^DD",165.5,165.5,159,0)
AMBIGUOUS TERMINOLOGY DX^S^0:Conclusive term;1:Ambiguous term only;2:Ambiguous term followed by conclusive term;9:Unknown term;^24;12^Q
"^DD",165.5,165.5,159,21,0)
^^8^8^3070117^
"^DD",165.5,165.5,159,21,1,0)
 
"^DD",165.5,165.5,159,21,2,0)
Identifies cases for which an ambiguous term is the most definitive
"^DD",165.5,165.5,159,21,3,0)
word or phrase used to establish a cancer diagnosis (i.e., to determine
"^DD",165.5,165.5,159,21,4,0)
whether or not the case is reportable). Do not include cases where a 
"^DD",165.5,165.5,159,21,5,0)
definite statement of malignancy is made within two months following
"^DD",165.5,165.5,159,21,6,0)
the original/initial diagnosis. (This does not include the use of
"^DD",165.5,165.5,159,21,7,0)
ambiguous terminology from cancer screening followed by a positive
"^DD",165.5,165.5,159,21,8,0)
cancer confirmation that is follow-up to the screening.)
"^DD",165.5,165.5,159,"DT")
3070117
"^DD",165.5,165.5,193,0)
DATE OF CONCLUSIVE DX^FOX^^24;13^D ZS9S^ONCODSR Q:ZS9S=1  S %DT="E",%DT(0)="-NOW" D ^%DT K %DT S X=Y K:Y<1 X I $D(X) D DCD^ONCOCOM
"^DD",165.5,165.5,193,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,193,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,193,3)
Enter the date of a definite state of malignancy.
"^DD",165.5,165.5,193,21,0)
^^6^6^3070117^
"^DD",165.5,165.5,193,21,1,0)
 
"^DD",165.5,165.5,193,21,2,0)
Documents the date when a conclusive cancer diagnosis (definite
"^DD",165.5,165.5,193,21,3,0)
statement of malignancy) is made following an initial diagnosis that
"^DD",165.5,165.5,193,21,4,0)
was based only on ambiguous terminology. The date of the conclusive
"^DD",165.5,165.5,193,21,5,0)
diagnosis must be greater than two months following the initial
"^DD",165.5,165.5,193,21,6,0)
(ambiguous terminology only) diagnosis.
"^DD",165.5,165.5,193,"DT")
3070124
"^DD",165.5,165.5,194,0)
MULT TUM RPT AS ONE PRIM^P169'O^ONCO(169,^24;14^Q
"^DD",165.5,165.5,194,2)
S Y(0)=Y S:Y'="" Y=$P(^ONCO(169,Y,0),U,2)
"^DD",165.5,165.5,194,2.1)
S:Y'="" Y=$P(^ONCO(169,Y,0),U,2)
"^DD",165.5,165.5,194,21,0)
^^27^27^3070124^
"^DD",165.5,165.5,194,21,1,0)
 
"^DD",165.5,165.5,194,21,2,0)
This data item is used to identify cases with multiple tumors that are 
"^DD",165.5,165.5,194,21,3,0)
abstracted ans reported as a single primary.
"^DD",165.5,165.5,194,21,4,0)
 
"^DD",165.5,165.5,194,21,5,0)
Codes  Description
"^DD",165.5,165.5,194,21,6,0)
-----  -----------
"^DD",165.5,165.5,194,21,7,0)
00     Single tumor
"^DD",165.5,165.5,194,21,8,0)
10     At least two benign tumors in same organ/primary site
"^DD",165.5,165.5,194,21,9,0)
       (Intracranial and CNS sites only)
"^DD",165.5,165.5,194,21,10,0)
11     At least two borderline tumors in the same organ/primary site 
"^DD",165.5,165.5,194,21,11,0)
       (Intracranial and CNS sites only)
"^DD",165.5,165.5,194,21,12,0)
12     Benign and borderline tumors in the same organ/primary site 
"^DD",165.5,165.5,194,21,13,0)
       (Intracranial and CNS sites only)
"^DD",165.5,165.5,194,21,14,0)
20     At least two in situ tumors in the same organ/primary site
"^DD",165.5,165.5,194,21,15,0)
30     One or more in situ and one or more invasive tumors in the same 
"^DD",165.5,165.5,194,21,16,0)
       organ/primary site
"^DD",165.5,165.5,194,21,17,0)
31     One or more in situ/invasive adenocarcinoma in a polyp and one
"^DD",165.5,165.5,194,21,18,0)
       or more frank adenocarcinoma in one segment of colon
"^DD",165.5,165.5,194,21,19,0)
32     Familial polyposis with one or more in situ/invasive carcinoma
"^DD",165.5,165.5,194,21,20,0)
40     At least two invasive tumors in the same organ (Includes one
"^DD",165.5,165.5,194,21,21,0)
       or more invasive tumor with histology "NOS" and one or more
"^DD",165.5,165.5,194,21,22,0)
       separate invasive tumor with a more specific histology)
"^DD",165.5,165.5,194,21,23,0)
80     Multiple tumors present in the same organ/primary site, unknown
"^DD",165.5,165.5,194,21,24,0)
       if in situ or invasive
"^DD",165.5,165.5,194,21,25,0)
88     Information on multiple tumors not collected/not applicable for
"^DD",165.5,165.5,194,21,26,0)
       this site
"^DD",165.5,165.5,194,21,27,0)
99     Unknown
"^DD",165.5,165.5,194,"DT")
3070124
"^DD",165.5,165.5,195,0)
DATE OF MULTIPLE TUMORS^FOX^^24;15^D ZS9S^ONCODSR Q:ZS9S=1  S %DT="E",%DT(0)="-NOW" D ^%DT K %DT S X=Y K:Y<1 X
"^DD",165.5,165.5,195,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,195,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,195,3)
Enter the date the patient was diagnosed with multiple tumors reported as a single primary.
"^DD",165.5,165.5,195,21,0)
^^5^5^3070124^
"^DD",165.5,165.5,195,21,1,0)
 
"^DD",165.5,165.5,195,21,2,0)
This data item is used to identify the month, day and year the patient
"^DD",165.5,165.5,195,21,3,0)
is diagnosed with multiple tumors reported as a single primary.  Use
"^DD",165.5,165.5,195,21,4,0)
the multiple primary rules for that specific site to determine whether
"^DD",165.5,165.5,195,21,5,0)
the tumors are a single primary or multiple primaries.
"^DD",165.5,165.5,195,"DT")
3070124
"^DD",165.5,165.5,196,0)
MULTIPLICITY COUNTER^F^^24;16^K:$L(X)>2!($L(X)<2)!'(X?2N) X
"^DD",165.5,165.5,196,3)
Answer must 2 numerics in the range 01-99.
"^DD",165.5,165.5,196,21,0)
^.001^15^15^3070124^^
"^DD",165.5,165.5,196,21,1,0)
 
"^DD",165.5,165.5,196,21,2,0)
This data item is used to count the number of tumors (multiplicity) 
"^DD",165.5,165.5,196,21,3,0)
reported as a single primary.  Do not count metastatic tumors.  Use the 
"^DD",165.5,165.5,196,21,4,0)
multiple primary rules for the specific site to determine whether the 
"^DD",165.5,165.5,196,21,5,0)
tumors are a single primary or multiple primaries.
"^DD",165.5,165.5,196,21,6,0)
 
"^DD",165.5,165.5,196,21,7,0)
Codes
"^DD",165.5,165.5,196,21,8,0)
01 One tumor only
"^DD",165.5,165.5,196,21,9,0)
02 Two tumors present
"^DD",165.5,165.5,196,21,10,0)
03 Three tumors present
"^DD",165.5,165.5,196,21,11,0)
..
"^DD",165.5,165.5,196,21,12,0)
..
"^DD",165.5,165.5,196,21,13,0)
88 Information on multiple tumors not collected/not applicable for this 
"^DD",165.5,165.5,196,21,14,0)
   site
"^DD",165.5,165.5,196,21,15,0)
99 Multiple tumors present, unknown how many
"^DD",165.5,165.5,196,"DT")
3070124
"^DD",165.5,165.5,197,0)
EDITS CHECKSUM^F^^EDITS;1^K:$L(X)>20!($L(X)<1) X
"^DD",165.5,165.5,197,3)
Answer must be 1-20 characters in length.
"^DD",165.5,165.5,197,21,0)
^^3^3^3070306^
"^DD",165.5,165.5,197,21,1,0)
Provides a checksum value for the NAACCR record associated with this 
"^DD",165.5,165.5,197,21,2,0)
abstract. This checksum will be used to detect changes to the NAACCR
"^DD",165.5,165.5,197,21,3,0)
record once the ABSTRACT STATUS (165.5,91) has been set to 3 (Complete).
"^DD",165.5,165.5,197,"DT")
3070306
"^DD",165.5,165.5,198,0)
DATE CASE LAST CHANGED^DO^^7;21^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",165.5,165.5,198,1,0)
^.1
"^DD",165.5,165.5,198,1,1,0)
165.5^AAE
"^DD",165.5,165.5,198,1,1,1)
S ^ONCO(165.5,"AAE",$E(X,1,30),DA)=""
"^DD",165.5,165.5,198,1,1,2)
K ^ONCO(165.5,"AAE",$E(X,1,30),DA)
"^DD",165.5,165.5,198,1,1,"%D",0)
^^2^2^3070326^
"^DD",165.5,165.5,198,1,1,"%D",1,0)
This cross-reference will be used to facilitate the extraction
"^DD",165.5,165.5,198,1,1,"%D",2,0)
of the data from specified start/end dates.
"^DD",165.5,165.5,198,1,1,"DT")
3070326
"^DD",165.5,165.5,198,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,198,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,198,21,0)
^^1^1^3070326^
"^DD",165.5,165.5,198,21,1,0)
Date the case was last changed or updated.
"^DD",165.5,165.5,198,"DT")
3070326
"^DD",165.5,165.5,199,0)
CASE LAST CHANGED BY^P200'^VA(200,^7;22^Q
"^DD",165.5,165.5,199,21,0)
^^1^1^3070326^
"^DD",165.5,165.5,199,21,1,0)
Records the name of the individual who last changed the case.
"^DD",165.5,165.5,199,"DT")
3070326
"^DD",166,166,0)
FIELD^^1^2
"^DD",166,166,0,"DDA")
N
"^DD",166,166,0,"DT")
3051228
"^DD",166,166,0,"ID",1)
W "   ",$P(^(0),U,2)
"^DD",166,166,0,"IX","B",166,.01)

"^DD",166,166,0,"IX","C",166,1)

"^DD",166,166,0,"NM","CASEFINDING SOURCE")

"^DD",166,166,0,"PT",165.5,21)

"^DD",166,166,.01,0)
CODE^RF^^0;1^K:$L(X)>2!($L(X)<2)!'(X'?1P.E) X
"^DD",166,166,.01,1,0)
^.1
"^DD",166,166,.01,1,1,0)
166^B
"^DD",166,166,.01,1,1,1)
S ^ONCO(166,"B",$E(X,1,30),DA)=""
"^DD",166,166,.01,1,1,2)
K ^ONCO(166,"B",$E(X,1,30),DA)
"^DD",166,166,.01,3)
Answer must be 2 characters in length.
"^DD",166,166,.01,21,0)
^^1^1^3051228^
"^DD",166,166,.01,21,1,0)
Records the CASEFINDING SOURCE codes.
"^DD",166,166,.01,"DT")
3051228
"^DD",166,166,1,0)
DEFINITION^F^^0;2^K:$L(X)>100!($L(X)<1) X
"^DD",166,166,1,1,0)
^.1
"^DD",166,166,1,1,1,0)
166^C^MUMPS
"^DD",166,166,1,1,1,1)
D UCASE^ONCOU S ^ONCO(166,"C",$E(X,1,30),DA)=""
"^DD",166,166,1,1,1,2)
D UCASE^ONCOU K ^ONCO(166,"C",$E(X,1,30),DA)
"^DD",166,166,1,1,1,"%D",0)
^^1^1^3061117^
"^DD",166,166,1,1,1,"%D",1,0)
This cross-reference allows for uppercase look-up by DEFINITION.
"^DD",166,166,1,1,1,"DT")
3061117
"^DD",166,166,1,3)
Answer must be 1-100 characters in length.
"^DD",166,166,1,21,0)
^^1^1^3051228^
"^DD",166,166,1,21,1,0)
Records the CASEFINDING SOURCE code definitions.
"^DD",166,166,1,"DT")
3061117
"^DD",169,169,0)
FIELD^^1^2
"^DD",169,169,0,"DDA")
N
"^DD",169,169,0,"DT")
3070122
"^DD",169,169,0,"ID",1)
W "   ",$P(^(0),U,2)
"^DD",169,169,0,"IX","B",169,.01)

"^DD",169,169,0,"NM","TYPE OF MULTIPLE TUMORS")

"^DD",169,169,0,"PT",165.5,194)

"^DD",169,169,.01,0)
CODE^RF^^0;1^K:$L(X)>2!($L(X)<2)!'(X'?1P.E) X
"^DD",169,169,.01,1,0)
^.1
"^DD",169,169,.01,1,1,0)
169^B
"^DD",169,169,.01,1,1,1)
S ^ONCO(169,"B",$E(X,1,30),DA)=""
"^DD",169,169,.01,1,1,2)
K ^ONCO(169,"B",$E(X,1,30),DA)
"^DD",169,169,.01,3)
Answer must be 2 characters in length.
"^DD",169,169,.01,21,0)
^^1^1^3070122^
"^DD",169,169,.01,21,1,0)
This data item contains the TYPE OF MULTIPLE TUMORS CODE values.
"^DD",169,169,.01,"DT")
3070122
"^DD",169,169,1,0)
CODE TEXT^F^^0;2^K:$L(X)>30!($L(X)<1) X
"^DD",169,169,1,3)
Answer must be 1-30 characters in length.
"^DD",169,169,1,21,0)
^^1^1^3070122^
"^DD",169,169,1,21,1,0)
This data item contains the TYPE OF MULTIPLE TUMORS CODE definition. 
"^DD",169,169,1,"DT")
3070122
"^DIC",5.1,5.1,0)
COUNTY^5.1I
"^DIC",5.1,5.1,0,"GL")
^VIC(5.1,
"^DIC",5.1,"B","COUNTY",5.1)

"^DIC",160.16,160.16,0)
ONCOLOGY DATA EXTRACT FORMAT^160.16
"^DIC",160.16,160.16,0,"GL")
^ONCO(160.16,
"^DIC",160.16,160.16,"%D",0)
^^1^1^2990419^^
"^DIC",160.16,160.16,"%D",1,0)
This file contains the ONCOLOGY Data Extract Formats.
"^DIC",160.16,"B","ONCOLOGY DATA EXTRACT FORMAT",160.16)

"^DIC",160.2,160.2,0)
FORMS/INSTRUCTIONS^160.2I
"^DIC",160.2,160.2,0,"GL")
^ONCO(160.2,
"^DIC",160.2,160.2,"%",0)
^1.005^1^1
"^DIC",160.2,160.2,"%",1,0)
ONCO
"^DIC",160.2,160.2,"%","B","ONCO",1)

"^DIC",160.2,160.2,"%D",0)
^^4^4^2990329^^^^
"^DIC",160.2,160.2,"%D",1,0)
File contains Forms used by the Tumor Registry as well as on line
"^DIC",160.2,160.2,"%D",2,0)
instructions for procedures that must be followed such as making a
"^DIC",160.2,160.2,"%D",3,0)
disk for ACOS. It comes with at least one form, but can be added to by
"^DIC",160.2,160.2,"%D",4,0)
the IRM as needed, and used in later versions of the package.
"^DIC",160.2,"B","FORMS/INSTRUCTIONS",160.2)

"^DIC",164.43,164.43,0)
GRADE^164.43I
"^DIC",164.43,164.43,0,"GL")
^ONCO(164.43,
"^DIC",164.43,164.43,"%D",0)
^^5^5^2930601^^^
"^DIC",164.43,164.43,"%D",1,0)
This file contains codes used to record the grade of tumor in the GRADE
"^DIC",164.43,164.43,"%D",2,0)
Field (#24) of the ONCOLOGY PRIMARY File (#165.5).
"^DIC",164.43,164.43,"%D",3,0)
 
"^DIC",164.43,164.43,"%D",4,0)
This file comes with data, which overwrite the site's data.  It is not
"^DIC",164.43,164.43,"%D",5,0)
recommended that sites modify this file.
"^DIC",164.43,"B","GRADE",164.43)

"^DIC",166,166,0)
CASEFINDING SOURCE^166
"^DIC",166,166,0,"GL")
^ONCO(166,
"^DIC",166,166,"%D",0)
^^2^2^3051228^
"^DIC",166,166,"%D",1,0)
This file is intended to assist the registrar in coding the source
"^DIC",166,166,"%D",2,0)
that first identified the tumor.
"^DIC",166,"B","CASEFINDING SOURCE",166)

"^DIC",169,169,0)
TYPE OF MULTIPLE TUMORS^169
"^DIC",169,169,0,"GL")
^ONCO(169,
"^DIC",169,169,"%D",0)
^^2^2^3070122^
"^DIC",169,169,"%D",1,0)
This file is used to identify the type of multiple tumors that are 
"^DIC",169,169,"%D",2,0)
abstracted as a single primary.
"^DIC",169,"B","TYPE OF MULTIPLE TUMORS",169)

**END**
**END**
