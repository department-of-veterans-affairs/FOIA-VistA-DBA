$TXT Created by FORT,WALLY at NXT.KERNEL.ISC-SF.VA.GOV  (KIDS) on THURSDAY, 12/17/98 at 16:52
=============================================================================
Run Date: DEC 18, 1998                     Designation: XU*8*109
Package : XU - KERNEL                          Priority: Mandatory
Version : 8        SEQ #95                      Status: Released
=============================================================================

Associated patches: (v)XU*8*82         install with patch       `XU*8*109'

Subject: Fix BROKER problem w/XU*8*69

Category: 
  - Routine

Description: 
============

  
  HIN-1298-40427  XUSRB    A convoluted link with patch XU*8*69 is causing
                           problems in CPRS at DSM sites.  The error is
                           %DSM-E-DEVNOTOPN at QUIT^%ZIS6 with IO(0) null.
                           This only happens at DSM sites that do not have
                           auto sign-on disabled.  The code that calls the
                           client agent makes a call to HOME^%ZIS and the
                           TCP connection doesn't work as a home device.
                           The fix is to have the XUSRB save the NULL
                           device as the HOME device before the call to
                           Client agent.
  
  Routine Summary
  The following routines are included in this patch.  The second line of each
  of these routines now looks like:
   ;;8.0;KERNEL;<patchlist>;Jul 05, 1995
  
                   Checksum
  Routine         Old       New      2nd Line
  XUSRB         5576613   5738122    **11,16,28,32,59,70,82,109**
  
  List of preceding patches: 11, 16, 28, 32, 59, 70, 82
  Sites should use CHECK^XTSUMBLD to verify checksums
  
  ========================================================================= 
  Installation:
  
  
    1.  DSM sites - This routines is usually mapped,
        so you will need to disable mapping for the affected routines. 
       
    2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
       
    3.  The patch has now been loaded into a Transport global on your
        system. You now need to use KIDS to install the Transport global.
        On the KIDS menu, under the 'Installation' menu, use the following
        options:
        
           Verify Checksums in Transport Global
           Print Transport Global
           Compare Transport Global to Current System
           Backup a Transport Global
       
    4.  Users can remain on the system. 
        Stop the Broker server(s).
          "DO STOP^XWBTCP(<socket>)" on each node that has Broker running.
        (If you install when few users are on the system and the possibility 
        of some CLOBER/NOSOURCE errors is acceptable, Leave the Broker 
        running and queue the install for after hours.)
  
       
    5.  On the KIDS menu, under the 'Installation' menu, use the following
        option:
  
          Install Package(s)  'XU*8.0*109'
                               =========
                               
          No Options or Protocols need to be placed out-of-order.
          Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO
                                                                          ==
       
    6.  DSM Sites, after patch has installed, rebuild your map set.
        If the Broker was stopped, Remember to restart it.
        "DO STRT^XWBTCP(<socket>)" on each Broker node.
   =========================================================================

Routine Information:
====================

Routine Name:
  - XUSRB


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : FORT,WALLY                     Date Entered : DEC 11, 1998
Completed By: SHEPPARD,JEAN                 Date Completed: DEC 17, 1998
Released By : GIBBONS,JOE                   Date Released : DEC 18, 1998
=============================================================================


Packman Mail Message:
=====================

$END TXT
