Released SR*3*155 SEQ #144
Extracted from mail message
**KIDS**:SR*3.0*155^

**INSTALL NAME**
SR*3.0*155
"BLD",5784,0)
SR*3.0*155^SURGERY^0^3060222^y
"BLD",5784,1,0)
^^3^3^3060222^^
"BLD",5784,1,1,0)
This patch is a follow up patch for SR*3*151. It fixes the undefined
"BLD",5784,1,2,0)
error reported by Dublin when using the Anesthesia Provider Report
"BLD",5784,1,3,0)
[SROADOC] option.
"BLD",5784,4,0)
^9.64PA^^
"BLD",5784,"KRN",0)
^9.67PA^8989.52^19
"BLD",5784,"KRN",.4,0)
.4
"BLD",5784,"KRN",.401,0)
.401
"BLD",5784,"KRN",.402,0)
.402
"BLD",5784,"KRN",.403,0)
.403
"BLD",5784,"KRN",.5,0)
.5
"BLD",5784,"KRN",.84,0)
.84
"BLD",5784,"KRN",3.6,0)
3.6
"BLD",5784,"KRN",3.8,0)
3.8
"BLD",5784,"KRN",9.2,0)
9.2
"BLD",5784,"KRN",9.8,0)
9.8
"BLD",5784,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",5784,"KRN",9.8,"NM",1,0)
SROADOC1^^0^B18854619
"BLD",5784,"KRN",9.8,"NM","B","SROADOC1",1)

"BLD",5784,"KRN",19,0)
19
"BLD",5784,"KRN",19.1,0)
19.1
"BLD",5784,"KRN",101,0)
101
"BLD",5784,"KRN",409.61,0)
409.61
"BLD",5784,"KRN",771,0)
771
"BLD",5784,"KRN",870,0)
870
"BLD",5784,"KRN",8989.51,0)
8989.51
"BLD",5784,"KRN",8989.52,0)
8989.52
"BLD",5784,"KRN",8994,0)
8994
"BLD",5784,"KRN","B",.4,.4)

"BLD",5784,"KRN","B",.401,.401)

"BLD",5784,"KRN","B",.402,.402)

"BLD",5784,"KRN","B",.403,.403)

"BLD",5784,"KRN","B",.5,.5)

"BLD",5784,"KRN","B",.84,.84)

"BLD",5784,"KRN","B",3.6,3.6)

"BLD",5784,"KRN","B",3.8,3.8)

"BLD",5784,"KRN","B",9.2,9.2)

"BLD",5784,"KRN","B",9.8,9.8)

"BLD",5784,"KRN","B",19,19)

"BLD",5784,"KRN","B",19.1,19.1)

"BLD",5784,"KRN","B",101,101)

"BLD",5784,"KRN","B",409.61,409.61)

"BLD",5784,"KRN","B",771,771)

"BLD",5784,"KRN","B",870,870)

"BLD",5784,"KRN","B",8989.51,8989.51)

"BLD",5784,"KRN","B",8989.52,8989.52)

"BLD",5784,"KRN","B",8994,8994)

"BLD",5784,"QUES",0)
^9.62^^
"BLD",5784,"REQB",0)
^9.611^1^1
"BLD",5784,"REQB",1,0)
SR*3.0*151^2
"BLD",5784,"REQB","B","SR*3.0*151",1)

"MBREQ")
0
"PKG",167,-1)
1^1
"PKG",167,0)
SURGERY^SR^SURGICAL DATA COLLECTION AND OPERATIONS SCHEDULING
"PKG",167,20,0)
^9.402P^^
"PKG",167,22,0)
^9.49I^1^1
"PKG",167,22,1,0)
3.0^2930624^2930811
"PKG",167,22,1,"PAH",1,0)
155^3060222
"PKG",167,22,1,"PAH",1,1,0)
^^3^3^3060222
"PKG",167,22,1,"PAH",1,1,1,0)
This patch is a follow up patch for SR*3*151. It fixes the undefined
"PKG",167,22,1,"PAH",1,1,2,0)
error reported by Dublin when using the Anesthesia Provider Report
"PKG",167,22,1,"PAH",1,1,3,0)
[SROADOC] option.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SROADOC1")
0^1^B18854619
"RTN","SROADOC1",1,0)
SROADOC1 ;B'HAM ISC/MAM - ANESTHESIA PROV REPORT (CONT); [ 09/07/00  11:24 AM ]
"RTN","SROADOC1",2,0)
 ;;3.0; Surgery ;**38,39,53,50,95,151,155**;24 Jun 93
"RTN","SROADOC1",3,0)
 ;
"RTN","SROADOC1",4,0)
 ; Reference to ^PSS50 supported by DBIA #4533
"RTN","SROADOC1",5,0)
 ;
"RTN","SROADOC1",6,0)
SET ; set and print results
"RTN","SROADOC1",7,0)
 S S(0)=^SRF(SRTN,0),S(.3)=^SRF(SRTN,.3)
"RTN","SROADOC1",8,0)
 S DFN=$P(S(0),"^") D DEM^VADPT S SRDPT=VADM(1),SRSSN=VA("PID"),SRSDATE=$P(S(0),"^",9),SRREL=$P(S(.3),"^",2),SRSUP=$P(S(.3),"^",4),SRASS=$P(S(.3),"^",3),SRCODE=$P(S(.3),"^",6)
"RTN","SROADOC1",9,0)
 S:SRCODE'="" SRCODE=$P(^SRO(132.95,SRCODE,0),"^",2)
"RTN","SROADOC1",10,0)
 S SRANT="" I $D(^SRF(SRTN,.2)) S SRANE1=$P(^(.2),"^"),SRANE2=$P(^(.2),"^",4) I SRANE1,SRANE2 S X1=SRANE2,X=SRANE1 D MINS^SRSUTL2 S SRANT=X
"RTN","SROADOC1",11,0)
 S:SRREL'="" SRREL=$P(^VA(200,SRREL,0),"^") S:$L(SRREL)>15 SRREL=$P(SRREL,",")_","_$E($P(SRREL,",",2)) S:SRSUP'="" SRSUP=$P(^VA(200,SRSUP,0),"^") S:$L(SRSUP)>15 SRSUP=$P(SRSUP,",")_","_$E($P(SRSUP,",",2))
"RTN","SROADOC1",12,0)
 S:SRASS'="" SRASS=$P(^VA(200,SRASS,0),"^") I $L(SRASS)>15 S SRASS=$P(SRASS,",")_","_$E($P(SRASS,",",2))
"RTN","SROADOC1",13,0)
 S SRSDT=$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)
"RTN","SROADOC1",14,0)
TECH D TECH^SROPRIN S SRAGNT="" I $D(SRZ) D AGENT
"RTN","SROADOC1",15,0)
ASA S Y=$P($G(^SRF(SRTN,1.1)),"^",3),C=$P(^DD(130,1.13,0),"^",2) D:Y'="" Y^DIQ S SRASA=$P(Y,"-",2,3)
"RTN","SROADOC1",16,0)
OPS K SROPERS S SROPER=$P(^SRF(SRTN,"OP"),"^"),OPER=0 F  S OPER=$O(^SRF(SRTN,13,OPER)) Q:OPER=""  D OTHER
"RTN","SROADOC1",17,0)
 K SROPS,MM,MMM S:$L(SROPER)<50 SROPS(1)=SROPER I $L(SROPER)>49 S SROPER=SROPER_"  " F M=1:1 D LOOP Q:MMM=""
"RTN","SROADOC1",18,0)
PRINT ; print results
"RTN","SROADOC1",19,0)
 Q:SRF  I $Y+10>IOSL D CODES^SROADOC,PAGE Q:SRF
"RTN","SROADOC1",20,0)
 W !,$E(SRSDATE,4,5)_"/"_$E(SRSDATE,6,7)_"/"_$E(SRSDATE,2,3),?10,$P(SRDPT,",")_", "_$E($P(SRDPT,",",2)),?26,SROPS(1),?76,SRSUP,?93,SRASA,?124,SRCODE
"RTN","SROADOC1",21,0)
 W !,SRTN,?10,VA("PID") W:$D(SROPS(2)) ?26,SROPS(2) W ?76,SRREL,?93,$E(SRTECH,1,20),?120,SRANT_$S(SRANT:" MINS.",1:"")
"RTN","SROADOC1",22,0)
 W ! W:$P($G(^SRF(SRTN,"NON")),"^")="Y" "NON-O.R." W:$D(SROPS(3)) ?26,SROPS(3) W ?76,SRASS,?93,SRAGNT,!
"RTN","SROADOC1",23,0)
 I $D(SROPS(4)) W ?26,SROPS(4),! W:$D(SROPS(5)) ?26,SROPS(5),! I $D(SROPS(6)) W ?26,SROPS(6),!
"RTN","SROADOC1",24,0)
 Q
"RTN","SROADOC1",25,0)
HDR I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRF=1 Q
"RTN","SROADOC1",26,0)
 W:$Y @IOF W !,?(132-$L(SRINST)\2),SRINST,?120,"PAGE: "_PAGE,!,?58,"SURGICAL SERVICE",?100,"REVIEWED BY:",!,?53,"ANESTHESIA PROVIDER REPORT",?100,"DATE REVIEWED:"
"RTN","SROADOC1",27,0)
 W !,?(132-$L(SRFRTO)\2),SRFRTO,?100,"DATE PRINTED: "_SRPRINT
"RTN","SROADOC1",28,0)
 W !!,"DATE",?10,"PATIENT",?26,"PROCEDURE(S)",?77,"SUPERVISOR",?96,"ASA CLASS",?111,"LEVEL OF SUPERVISION",!,"CASE #",?12,"ID#",?76,"RELIEF ANESTH",?92,"PRINCIPAL TECHNIQUE",?113,"ELAPSED ANES TIME",!,?76,"ASST ANESTH"
"RTN","SROADOC1",29,0)
 W ?93,"ANESTHESIA AGENT",! F LINE=1:1:132 W "="
"RTN","SROADOC1",30,0)
 S PAGE=PAGE+1 I $D(PRIN) W !!,?2,"***** "_PRIN_" *****",!
"RTN","SROADOC1",31,0)
 Q
"RTN","SROADOC1",32,0)
PAGE I $E(IOST)'="P" W !!,"Press RETURN to continue, '^' to quit  " R ASK:DTIME I '$T!(ASK="^") S SRF=1 Q
"RTN","SROADOC1",33,0)
 D HDR Q
"RTN","SROADOC1",34,0)
END I $E(IOST)'="P",'SRF W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROADOC1",35,0)
 W:$E(IOST)="P" @IOF I $D(ZTQUEUED) K ^TMP("SR",$J) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SROADOC1",36,0)
 D ^SRSKILL K SRTN D ^%ZISC W @IOF
"RTN","SROADOC1",37,0)
 Q
"RTN","SROADOC1",38,0)
OTHER ; other operations
"RTN","SROADOC1",39,0)
 S SRLONG=1 I $L(SROPER)+$L($P(^SRF(SRTN,13,OPER,0),"^"))>250 S SRLONG=0,OPER=999,SROPERS=" ..."
"RTN","SROADOC1",40,0)
 I SRLONG S SROPERS=$P(^SRF(SRTN,13,OPER,0),"^")
"RTN","SROADOC1",41,0)
 S SROPER=SROPER_$S(SROPERS=" ...":SROPERS,1:", "_SROPERS)
"RTN","SROADOC1",42,0)
 Q
"RTN","SROADOC1",43,0)
AGENT S SRAGNT=$O(^SRF(SRTN,6,SRT,1,0)) Q:SRAGNT=""  S SRAGNT=$P(^SRF(SRTN,6,SRT,1,SRAGNT,0),"^") D
"RTN","SROADOC1",44,0)
 .D DATA^PSS50(SRAGNT,,,,,"SRRX") S SRAGNT=$P($G(^TMP($J,"SRRX",SRAGNT,.01)),"^") K ^TMP($J,"SRRX",SRAGNT)
"RTN","SROADOC1",45,0)
 Q
"RTN","SROADOC1",46,0)
PR S SRSOUT=0 D HDR G END:SRSOUT S PRIN=0
"RTN","SROADOC1",47,0)
 F  S PRIN=$O(^TMP("SR",$J,PRIN)) Q:PRIN=""!(SRF)  W:$Y+10'>IOSL !!,?2,"***** "_PRIN_" *****",! S DATE=0 F  S DATE=$O(^TMP("SR",$J,PRIN,DATE)) Q:'DATE!(SRF)  S SRTN=0 F  S SRTN=$O(^TMP("SR",$J,PRIN,DATE,SRTN)) Q:'SRTN!(SRF)  D SET
"RTN","SROADOC1",48,0)
 I '$D(^TMP("SR",$J)) W $$NODATA^SROUTL0()
"RTN","SROADOC1",49,0)
 F I=$Y:1:(IOSL-8) W !
"RTN","SROADOC1",50,0)
 I 'SRF D CODES^SROADOC
"RTN","SROADOC1",51,0)
 G END
"RTN","SROADOC1",52,0)
LOOP ; break procedure name if greater than 50 characters
"RTN","SROADOC1",53,0)
 S SROPS(M)="" F LOOP=1:1 S MM=$P(SROPER," "),MMM=$P(SROPER," ",2,200) Q:MMM=""  Q:$L(SROPS(M))+$L(MM)'<50  S SROPS(M)=SROPS(M)_MM_" ",SROPER=MMM
"RTN","SROADOC1",54,0)
 Q
"VER")
8.0^22.0
"BLD",5784,6)
^144
**END**
**END**
