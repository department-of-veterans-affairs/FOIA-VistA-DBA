$TXT Created by BLOCKER,DAVE at VAALTL.ISCVAA.ISC-BIRM.VA.GOV  (KIDS) on THURSDAY, 05/13/99 at 12:37
=============================================================================
Run Date: JUN 03, 1999                     Designation: PSA*3*12
Package : PSA - DRUG ACCOUNTABILITY           Priority: Mandatory
Version : 3         SEQ #9                     Status: Released
=============================================================================

Associated patches: (v)PSA*3*3     <<= must be installed BEFORE `PSA*3*12'

Subject: BALANCE ADJUSTMENTS & MISSING DATA

Category: 
  - Routine

Description: 
============

  1). When an adjustment is made to the balance of a drug in a pharmacy
  location or invoice, the adjustment activity is recorded, but the
  stored data was not updated. This has been corrected.
  
  2). There is a problem with invoices being marked as processed when 
  in fact they should not have been marked as such because there are
  data elements missing.
  
  3). After installing patch #3, if an invoice was being processed that is
  already on file for the same order number, a string too long error
  occurs at INVOICE+17 of routine PSAPROC7. This has been corrected.
  
  4). Invoices are passing through the processing and verification portions 
  of Drug Accountability with no problem, however, when the system does
  the checking of the data for updating price and drug information, these
  problems are found, and nothing is updated.
  
  5). Several facilities do not have their pharmacy locations defined
  properly in the DRUG ACCOUNTABILITY STATS file (#58.8), which results in
  errors. Usually the error is an undefined variable PSACOMB.
  
  6). Uploading of incomplete invoiced data is corrected.
  
  7). When the PSA IV ALL LOCATIONS is executed each evening as a background
  job, part of the OP dispensing functionality is to check each ward that
  is associated with the pharmacy location in the DRUG ACCOUNTABILITY STATS
  file (#58.8). Currently the program will discontinue processing if the ward
  doesn't match the pharmacy location, BUT it also quits if the ward
  does match the location. Therefore no OP dispensing data is recorded.
  
  8). The upload software has been modified to check for the vendor's Y2K
  compliant software. Their new software will transmit the date in a four
  digit year format. Currently, the data is two digits.
  
  9). On some occasions, the vendor will not send an order unit for a
  drug if they do not have the correct order unit on file. This forces
  the end user to edit each line item. A fix has been created that looks
  into the drug file for the drug. If the drug is found with the same
  vendor stock number and NDC, then the order unit from the drug file is
  placed on the invoice as an adjustment.
  
  10). Another problem sometimes occurs during verification that causes
  a divide by zero error. 
  The error is listed as: $ZE= <DIVIDE>50+21^PSAVER7.
  
  11). During processing of invoices, multi-divisional facilities had to
  view every invoice that was loaded into the system. Functionality has 
  been added that will check the temporary globals containing the invoices.
  Data is stored in these files that identifies who they were shipped to.
  The Drug Accountability software will now ask the user to identify which
  division's invoices they want to process, and then show them only those
  invoices.
  
  Associated NOISs:
  ================
  LAH-1298-61866
  IOW-1298-41264
  IOW-0499-40070
  NHM-1298-10486
  NHM-1198-11183
  POR-1198-51057
  PTH-1198-20971
  PTH-1198-20920
  IOW-0998-41694
  NJH-0798-22013
  IOW-0598-42347
  IOW-0398-42078
  HUN-1197-20485
  SPO-1298-51027
  MUR-0599-31172
  
  Test Sites:
  ==========
  PITTSBURGH, PA
  IOWA CITY, IA
  PORTLAND, OR (C)
  MURFREESBORO, TN
  
  Routine Summary:
  ====================
  The second line now reads as follows:
  
  <TAB> ;;3.0; DRUG ACCOUNTABILITY/INVENTORY INTERFACE;**[PATCH LIST]**; 10/24/97
  
  CHECK^XTSUMBLD results:
  
  Routine  Before Patch   After Patch     Patch List
  -------  ------------   -----------     ----------
  PSADJ      23794635      26944807          3,12
  PSAENTO    27311240      27340455           12
  PSAHELP      N/A         2179818            12
  PSAORDP1   29536552      28897034          3,12
  PSAPROC    23001281      27535348          3,12
  PSAPROC1   20372398      20967612           12
  PSAPROC7   15061035      15463691          3,12
  PSAPSI3    12508269      12971178           12
  PSAUDP     6158238       6158238           6,3,12
  PSAUP      20826467      21140472           12
  PSAUP1     19193298      20241489           6,3,12
  PSAUP4     25802889      25790488            3,12
  PSAUTL1    20829786      20961948          3,12
  PSAVER2    20246232      20753667          3,12
  PSAVER7    14713013      15717859           12
  
  Installation Instructions:
  ==========================
  This patch can be loaded with users on the system. Installation will
  take less than 1 minute.
  
  Suggested time to install: non-peak requirement hours
  
  1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
  2. Review your mapped set. If the routines are mapped, they should
     be removed from the mapped set at this time.
  
  3. From the Kernel Installation and Distribution System menu, select
     the Installation menu.
  
  4. From this option, you may select to use the following options
     (when prompted for INSTALL NAME, enter PSA*3*12).
    a. Backup a Transport Global - this option will create a backup
       message of any routines exported with the patch. It will NOT
       backup any other changes such as DDs or templates.
    b. Compare Transport Global to Current System - this option will
       allow you to view all changes that will be made when the patch
       is installed. It compares all components of the patch (routines,
       DDs, templates, etc.).
    c. Verify Checksums in Transport Global - this option will ensure
       the integrity of the routines that are in the transport global.
  
  5. Use the Install Package(s) option and select the package PSA*3*12.
  
  6. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//' respond NO.
   
  7. If any routines were unmapped as part of step 2, they should be
     returned to the mapped set once the installation has run to
     completion.
  

Routine Information:
====================

Routine Name:
  - PSADJ


Routine Checksum:

Routine Name:
  - PSAORDP1


Routine Checksum:

Routine Name:
  - PSAPROC7


Routine Checksum:

Routine Name:
  - PSAPSI3


Routine Checksum:

Routine Name:
  - PSAUDP


Routine Checksum:

Routine Name:
  - PSAUP1


Routine Checksum:

Routine Name:
  - PSAUTL1


Routine Checksum:

Routine Name:
  - PSAVER2


Routine Checksum:

Routine Name:
  - PSAVER7


Routine Checksum:

Routine Name:
  - PSAENTO


Routine Checksum:

Routine Name:
  - PSAPROC


Routine Checksum:

Routine Name:
  - PSAUP


Routine Checksum:

Routine Name:
  - PSAHELP


Routine Checksum:

Routine Name:
  - PSAUP4


Routine Checksum:

Routine Name:
  - PSAPROC1


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : BLOCKER,DAVE                   Date Entered : NOV 25, 1998
Completed By: DAVIS,DOUG                    Date Completed: JUN 03, 1999
Released By : FIELDS-BARNES,JANETTE         Date Released : JUN 03, 1999
=============================================================================


Packman Mail Message:
=====================

$END TXT
