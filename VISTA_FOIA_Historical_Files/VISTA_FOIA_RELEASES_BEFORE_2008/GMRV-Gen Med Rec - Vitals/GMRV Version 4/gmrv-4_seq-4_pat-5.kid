Released GMRV*4*5 SEQ #4
Extracted from mail message
**KIDS**:GMRV*4.0*5^

**INSTALL NAME**
GMRV*4.0*5
"BLD",1108,0)
GMRV*4.0*5^GEN. MED. REC. - VITALS^0^2980612^y
"BLD",1108,1,0)
2^^2^2^2980612^^^
"BLD",1108,1,1,0)
Please see the GMRV*4*5 patch entry in the FORUM patch module for an
"BLD",1108,1,2,0)
description of this patch.
"BLD",1108,4,0)
^9.64PA^^
"BLD",1108,"ABNS",0)
^9.66A^1^1
"BLD",1108,"ABNS",1,0)
GMRV
"BLD",1108,"ABNS","B","GMRV",1)

"BLD",1108,"KRN",0)
^9.67PA^870^18
"BLD",1108,"KRN",.4,0)
.4
"BLD",1108,"KRN",.401,0)
.401
"BLD",1108,"KRN",.402,0)
.402
"BLD",1108,"KRN",.403,0)
.403
"BLD",1108,"KRN",.5,0)
.5
"BLD",1108,"KRN",.84,0)
.84
"BLD",1108,"KRN",3.6,0)
3.6
"BLD",1108,"KRN",3.8,0)
3.8
"BLD",1108,"KRN",9.2,0)
9.2
"BLD",1108,"KRN",9.8,0)
9.8
"BLD",1108,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",1108,"KRN",9.8,"NM",1,0)
GMRVED3^^0^B17055736
"BLD",1108,"KRN",9.8,"NM","B","GMRVED3",1)

"BLD",1108,"KRN",19,0)
19
"BLD",1108,"KRN",19.1,0)
19.1
"BLD",1108,"KRN",101,0)
101
"BLD",1108,"KRN",409.61,0)
409.61
"BLD",1108,"KRN",771,0)
771
"BLD",1108,"KRN",869.2,0)
869.2
"BLD",1108,"KRN",870,0)
870
"BLD",1108,"KRN",8994,0)
8994
"BLD",1108,"KRN","B",.4,.4)

"BLD",1108,"KRN","B",.401,.401)

"BLD",1108,"KRN","B",.402,.402)

"BLD",1108,"KRN","B",.403,.403)

"BLD",1108,"KRN","B",.5,.5)

"BLD",1108,"KRN","B",.84,.84)

"BLD",1108,"KRN","B",3.6,3.6)

"BLD",1108,"KRN","B",3.8,3.8)

"BLD",1108,"KRN","B",9.2,9.2)

"BLD",1108,"KRN","B",9.8,9.8)

"BLD",1108,"KRN","B",19,19)

"BLD",1108,"KRN","B",19.1,19.1)

"BLD",1108,"KRN","B",101,101)

"BLD",1108,"KRN","B",409.61,409.61)

"BLD",1108,"KRN","B",771,771)

"BLD",1108,"KRN","B",869.2,869.2)

"BLD",1108,"KRN","B",870,870)

"BLD",1108,"KRN","B",8994,8994)

"BLD",1108,"QUES",0)
^9.62^^
"BLD",1108,"REQB",0)
^9.611^1^1
"BLD",1108,"REQB",1,0)
GMRV*4.0*1^0
"BLD",1108,"REQB","B","GMRV*4.0*1",1)

"PKG",44,-1)
1^1
"PKG",44,0)
GEN. MED. REC. - VITALS^GMRV^Vitals/Measurements Module of General Medical Record.
"PKG",44,22,0)
^9.49I^1^1
"PKG",44,22,1,0)
4.0^2970425^2970702^64
"PKG",44,22,1,"PAH",1,0)
5^2980612^4558
"PKG",44,22,1,"PAH",1,1,0)
^^2^2^2980902
"PKG",44,22,1,"PAH",1,1,1,0)
Please see the GMRV*4*5 patch entry in the FORUM patch module for an
"PKG",44,22,1,"PAH",1,1,2,0)
description of this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","GMRVED3")
0^1^B17055736
"RTN","GMRVED3",1,0)
GMRVED3 ;HIRMFO/YH-VITAL SIGNS EDIT SHORT FORM (cont.) ;8/7/97
"RTN","GMRVED3",2,0)
 ;;4.0;Vitals/Measurements;**1,5**;Apr 25, 1997
"RTN","GMRVED3",3,0)
EN2 ;VITAL ENTRY FOR A PATIENT
"RTN","GMRVED3",4,0)
 D EN2^GMRVED1 G:GMROUT NEXT D EN4^GMRVED2 S GMROK=0
"RTN","GMRVED3",5,0)
NEXT I '(GMRENTY=5!(GMRENTY=6)!(GMRENTY=9))!GMROUT S GMRVIDT=GMRDT0 Q
"RTN","GMRVED3",6,0)
 I $G(GMROUT(1))=1 S GMROUT(1)=0 S GMRVIDT=GMRDT0 Q
"RTN","GMRVED3",7,0)
 I GMRSTR'["BP" S GMRVIDT=GMRDT0 Q
"RTN","GMRVED3",8,0)
 S:'$D(GPRMT)&($D(GMRPRMT)) GPRMT="("_$P(GMRPRMT,":")_" continued )" S GPRMT(1)=GMRSTR
"RTN","GMRVED3",9,0)
 I '$D(^GMR(120.5,"AA",DFN,1,9999999-GMRVIDT)) S:GMRENTY=5 GMRSTR="T;P;R;BP;" S:GMRENTY=6 GMRSTR="BP;P;" S:GMRENTY=10 GMRSTR="T;P;R;BP;HT;WT;" S GMRVIDT=GMRDT0 S:GMRENTY=9 GMRSTR=GPRMT(1) K GPRMT,GBP Q
"RTN","GMRVED3",10,0)
ASK I '$D(GMRSITE("BP"))&'$D(GMRINF("BP")) S:GMRENTY=9 GMRSTR=GPRMT(1) K GPRMT Q
"RTN","GMRVED3",11,0)
  W !,"Enter another B/P? NO// " R GMRX:DTIME S:'$T GMRTO=1 I '$T!(GMRX="^") S GMROUT=1,GMRVIDT=GMRDT0 S:GMRENTY=9 GMRSTR=GPRMT(1) K GBP,GPRMT Q
"RTN","GMRVED3",12,0)
 I GMRX=""!("Nn"[GMRX) S GMRVIDT=GDT S:GMRENTY=5 GMRSTR="T;P;R;BP;" S:GMRENTY=10 GMRSTR="T;P;R;BP;HT;WT;" S GMRVIDT=GMRDT0 S:GMRENTY=9 GMRSTR=GPRMT(1) K GPRMT Q
"RTN","GMRVED3",13,0)
 I GMRX["Y"!(GMRX["y") S GMRSTR=$S(GMRENTY=5!(GMRENTY=6):"BP;P;",1:"BP;"),GMRVIDT=GMRDT0 W @IOF,GPRMT D DSPOV^GMRVED4 D SETBP S GLAST=GLAST+.00000001,GMRVIDT=GLAST G EN2
"RTN","GMRVED3",14,0)
 W !,"ANSWER YES OR NO, maximum 6 B/Ps ",*7 G ASK
"RTN","GMRVED3",15,0)
SETBP ;
"RTN","GMRVED3",16,0)
 N I S I=0 F  S I=$O(GMROV("BP",I)) Q:I'>0  I $P(GMROV("BP",I),"^",2)'="" S GBP($P(GMROV("BP",I),"^",2))=""
"RTN","GMRVED3",17,0)
 Q
"RTN","GMRVED3",18,0)
CHKDAT ;CHECK V/M ENTRY DATA
"RTN","GMRVED3",19,0)
 S GMRVITY=$P(GMRSTR(0),";",GMRX),GMRVIT=+$O(^GMRD(120.51,"C",GMRVITY,"")),GMRVIT(1)=$S($D(^GMRD(120.51,GMRVIT,0)):$P(^(0),"^"),1:""),GMRO2(GMRVITY)=""
"RTN","GMRVED3",20,0)
 F GMRY=0:0 S GMRY=$O(^GMR(120.5,"AA",DFN,GMRVIT,9999999-GMRVIDT,GMRY)) Q:GMRY'>0  I $S('$D(^GMR(120.5,GMRY,2)):1,$P(^(2),"^"):0,1:1) D
"RTN","GMRVED3",21,0)
 . I GMRENTY=21,"Nn"'[GMRDAT D WDUP S GMRDAT="" Q
"RTN","GMRVED3",22,0)
 . D:"Nn"'[$P(GMRDAT,"-",GMRX-1) WDUP S $P(GMRDAT,"-",GMRX-1)="" Q
"RTN","GMRVED3",23,0)
 S GMRINPTR=$S($D(^GMRD(120.51,GMRVIT,1)):^(1),1:"K:X'?.NP X")
"RTN","GMRVED3",24,0)
INPTR ;
"RTN","GMRVED3",25,0)
 Q:GMROUT  S X=$S(GMRENTY=21:GMRDAT,1:$P(GMRDAT,"-",GMRX-1))
"RTN","GMRVED3",26,0)
 I X="n"!(X="N")!(X="") S (GMRDAT(GMRVITY),GMRSITE(GMRVITY),GMRINF(GMRVITY))="" Q
"RTN","GMRVED3",27,0)
 I "UNAVAILABLEPASSREFUSED"[$$UP^XLFSTR(X) S GMRSITE(GMRVITY)="",GMRINF(GMRVITY)="",GMRDAT(GMRVITY)=X Q
"RTN","GMRVED3",28,0)
INPTR1 ;
"RTN","GMRVED3",29,0)
 I GMRVITY="PO2" D O2^GMRVUT3
"RTN","GMRVED3",30,0)
 I GMRVITY="HT" S GMRSITE=$$UP^XLFSTR($P(X,",",2)),X=$P(X,",") S:GMRSITE="" GMRSITE="A" D TPSITE^GMRVUT1
"RTN","GMRVED3",31,0)
 I GMRVITY="WT" S GMRSITE=$P(X,+X,2) G:GMRSITE=""!("LlKk"'[$E(GMRSITE)) A K GMRSITE(GMRVITY),GMRINF(GMRVITY) D WTYPE^GMRVUT1
"RTN","GMRVED3",32,0)
 I GMRVITY="CG" K GMRSITE(GMRVITY),GMRINF(GMRVITY) S GLVL=8 D LISTQ^GMRVQUAL,OTHERQ^GMRVQUAL,CLEAR^GMRVQUAL
"RTN","GMRVED3",33,0)
 I GMRVITY="T"!(GMRVITY="P")!(GMRVITY="BP"&(GMRENTY>4))!(GMRVITY="R")!(GMRVITY="PO2") D SITE I '$D(X) G A
"RTN","GMRVED3",34,0)
 X GMRINPTR I $D(X)#2 S GMRDAT(GMRVITY)=X Q
"RTN","GMRVED3",35,0)
A W !,?5,$C(7),"Invalid ",GMRVIT(1)," entry"
"RTN","GMRVED3",36,0)
A1 W !,GMRVIT(1)_": " R GMRRET:DTIME
"RTN","GMRVED3",37,0)
 S:'$T GMRTO=1 I GMRRET="^"!'$T S GMROUT=1 G INPTR
"RTN","GMRVED3",38,0)
 I GMRRET="N"!(GMRRET="n") S (X,GMRRET)="" Q
"RTN","GMRVED3",39,0)
 I GMRRET'["?" S X=GMRRET G INPTR1
"RTN","GMRVED3",40,0)
 I GMRRET?1"?".E S XQH="GMRV-"_$S(GMRVITY="CG":"CIRCUM/GIRTH",GMRVITY="PO2":"PO2",GMRVITY="CVP":"CVP",1:GMRVIT(1))_" RATE HELP" D EN^XQH K XQH
"RTN","GMRVED3",41,0)
 G A1
"RTN","GMRVED3",42,0)
WDUP ;
"RTN","GMRVED3",43,0)
 W $C(7),!,?4,GMRVIT(1)_" data already exists for this patient on this date/time.",!,?4,"To change this data use the enter a vital/measurement in error option.",!
"RTN","GMRVED3",44,0)
 Q
"RTN","GMRVED3",45,0)
SITE ;
"RTN","GMRVED3",46,0)
 I GMRVITY'="BP" S GMRSITE=$P(X,+X,2),X=+X S GMRSITE=$$UP^XLFSTR(GMRSITE) I GMRVITY="T"!(GMRVITY="P")!(GMRVITY="R") D TPSITE^GMRVUT1 Q
"RTN","GMRVED3",47,0)
 I GMRVITY="BP" S GLVL=8 D LISTQ^GMRVQUAL,OTHERQ^GMRVQUAL,CLEAR^GMRVQUAL Q
"RTN","GMRVED3",48,0)
 Q
"VER")
8.0^21.0
**END**
**END**
