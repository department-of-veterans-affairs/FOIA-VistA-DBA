Released PSS*1*64 SEQ #62
Extracted from mail message
**KIDS**:PSS*1.0*64^

**INSTALL NAME**
PSS*1.0*64
"BLD",4091,0)
PSS*1.0*64^PHARMACY DATA MANAGEMENT^0^3030221^y
"BLD",4091,4,0)
^9.64PA^55^1
"BLD",4091,4,55,0)
55
"BLD",4091,4,55,2,0)
^9.641^55.07^1
"BLD",4091,4,55,2,55.07,0)
DISPENSE DRUG  (sub-file)
"BLD",4091,4,55,2,55.07,1,0)
^9.6411^.02^1
"BLD",4091,4,55,2,55.07,1,.02,0)
UNITS PER DOSE
"BLD",4091,4,55,222)
y^y^p^^^^n^^n
"BLD",4091,4,55,224)

"BLD",4091,4,"APDD",55,55.07)

"BLD",4091,4,"APDD",55,55.07,.02)

"BLD",4091,4,"B",55,55)

"BLD",4091,"ABPKG")
n
"BLD",4091,"KRN",0)
^9.67PA^8989.52^19
"BLD",4091,"KRN",.4,0)
.4
"BLD",4091,"KRN",.401,0)
.401
"BLD",4091,"KRN",.402,0)
.402
"BLD",4091,"KRN",.403,0)
.403
"BLD",4091,"KRN",.5,0)
.5
"BLD",4091,"KRN",.84,0)
.84
"BLD",4091,"KRN",3.6,0)
3.6
"BLD",4091,"KRN",3.8,0)
3.8
"BLD",4091,"KRN",9.2,0)
9.2
"BLD",4091,"KRN",9.8,0)
9.8
"BLD",4091,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4091,"KRN",9.8,"NM",1,0)
PSSORPH1^^0^B15462581
"BLD",4091,"KRN",9.8,"NM","B","PSSORPH1",1)

"BLD",4091,"KRN",19,0)
19
"BLD",4091,"KRN",19.1,0)
19.1
"BLD",4091,"KRN",101,0)
101
"BLD",4091,"KRN",409.61,0)
409.61
"BLD",4091,"KRN",771,0)
771
"BLD",4091,"KRN",870,0)
870
"BLD",4091,"KRN",8989.51,0)
8989.51
"BLD",4091,"KRN",8989.52,0)
8989.52
"BLD",4091,"KRN",8994,0)
8994
"BLD",4091,"KRN","B",.4,.4)

"BLD",4091,"KRN","B",.401,.401)

"BLD",4091,"KRN","B",.402,.402)

"BLD",4091,"KRN","B",.403,.403)

"BLD",4091,"KRN","B",.5,.5)

"BLD",4091,"KRN","B",.84,.84)

"BLD",4091,"KRN","B",3.6,3.6)

"BLD",4091,"KRN","B",3.8,3.8)

"BLD",4091,"KRN","B",9.2,9.2)

"BLD",4091,"KRN","B",9.8,9.8)

"BLD",4091,"KRN","B",19,19)

"BLD",4091,"KRN","B",19.1,19.1)

"BLD",4091,"KRN","B",101,101)

"BLD",4091,"KRN","B",409.61,409.61)

"BLD",4091,"KRN","B",771,771)

"BLD",4091,"KRN","B",870,870)

"BLD",4091,"KRN","B",8989.51,8989.51)

"BLD",4091,"KRN","B",8989.52,8989.52)

"BLD",4091,"KRN","B",8994,8994)

"BLD",4091,"QUES",0)
^9.62^^
"BLD",4091,"REQB",0)
^9.611^1^1
"BLD",4091,"REQB",1,0)
PSS*1.0*49^2
"BLD",4091,"REQB","B","PSS*1.0*49",1)

"FIA",55)
PHARMACY PATIENT
"FIA",55,0)
^PS(55,
"FIA",55,0,0)
55P
"FIA",55,0,1)
y^y^p^^^^n^^n
"FIA",55,0,10)

"FIA",55,0,11)

"FIA",55,0,"RLRO")

"FIA",55,0,"VR")
1.0^PSS
"FIA",55,55)
1
"FIA",55,55.07)
1
"FIA",55,55.07,.02)

"MBREQ")
0
"PKG",517,-1)
1^1
"PKG",517,0)
PHARMACY DATA MANAGEMENT^PSS^Maintenance of Pharmacy files.
"PKG",517,20,0)
^9.402P^^
"PKG",517,22,0)
^9.49I^1^1
"PKG",517,22,1,0)
1.0^2970930^2971014^11595
"PKG",517,22,1,"PAH",1,0)
64^3030221
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSSORPH1")
0^1^B15462581
"RTN","PSSORPH1",1,0)
PSSORPH1 ;BIR/RTR-Dosage by Dispense Units per Dose ;03/24/00
"RTN","PSSORPH1",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**34,38,49,64**;9/30/97
"RTN","PSSORPH1",3,0)
 ;Reference to ^PS(50.607 supported by DBIA 2221
"RTN","PSSORPH1",4,0)
 ;
"RTN","PSSORPH1",5,0)
 S DLOOP=$G(PD)
"RTN","PSSORPH1",6,0)
 Q:'$G(DLOOP)
"RTN","PSSORPH1",7,0)
 ;SET PSSX(1)=-1^DDRUG IS INACTIVE OR NOT APP USE ANYMORE?
"RTN","PSSORPH1",8,0)
 I $P($G(^PSDRUG(DLOOP,"I")),"^")&($P($G(^("I")),"^")'>DT) S PSSX(1)="-1^Drug is inactive" Q
"RTN","PSSORPH1",9,0)
 ;I $P($G(^PSDRUG(DLOOP,2)),"^",3)'[TYPE S PSSX(1)="-1^Drug not marked for application" Q
"RTN","PSSORPH1",10,0)
 S PSSTRN=$P($G(^PSDRUG(DLOOP,"DOS")),"^"),PSSUNITZ=$P($G(^("DOS")),"^",2)
"RTN","PSSORPH1",11,0)
 S PSSUNITX=$S($P($G(^PS(50.607,+$G(PSSUNITZ),0)),"^")'=""&($P($G(^(0)),"^")'["/"):$P($G(^(0)),"^"),1:"")
"RTN","PSSORPH1",12,0)
 S PSSDSE=+$P($G(^PS(50.7,POPD,0)),"^",2),PSSVERB=$P($G(^PS(50.606,PSSDSE,"MISC")),"^"),PSSPREP=$P($G(^("MISC")),"^",3)
"RTN","PSSORPH1",13,0)
 K PSNNN F PSNN=0:0 S PSNN=$O(^PS(50.606,PSSDSE,"NOUN",PSNN)) Q:'PSNN!($D(PSNNN))  S:$P($G(^(PSNN,0)),"^")'="" PSNNN=$P($G(^(0)),"^")
"RTN","PSSORPH1",14,0)
 S (PSSDOSE,PSSUNTS,PSSUDOS)=""
"RTN","PSSORPH1",15,0)
 S PSSUNTS=$P($G(^PS(50.607,+$P($G(^PSDRUG(DLOOP,"DOS")),"^",2),0)),"^")
"RTN","PSSORPH1",16,0)
 S PSSUDOS=$G(PSSUPD)
"RTN","PSSORPH1",17,0)
 ;S PSSDOSE=PSSUDOS*+PSSTRN
"RTN","PSSORPH1",18,0)
 S PSSDOSE=+$FN(PSSUDOS*+PSSTRN,"",10)
"RTN","PSSORPH1",19,0)
 I $G(PSSTRN)=""!('$G(PSSUNITZ)) D SET D LEADP^PSSUTLA1 Q
"RTN","PSSORPH1",20,0)
 I '$G(PSSDOSE)!('$G(PSSUDOS)) D SET D LEADP^PSSUTLA1 Q
"RTN","PSSORPH1",21,0)
 S DCNT1=1
"RTN","PSSORPH1",22,0)
 D PARN^PSSORPH
"RTN","PSSORPH1",23,0)
 S PSSX(DCNT1)=PSSDOSE_"^"_$S($G(TYPE)="O":$G(PSSUNITZ),1:$G(PSSUNTS))_"^"_PSSUDOS_"^"_DLOOP_"^"_$G(PSSTRN)_"^"_$S($G(PSSNP)'="":$G(PSSNP),1:$G(PSNNN))_"^"_$P($G(^PS(50.606,+$G(PSSDSE),0)),"^")_"^"_$G(PSSVERB)_"^"_$G(PSSPREP) K PSSNP
"RTN","PSSORPH1",24,0)
 S PSSA=1 D SLS^PSSORPH
"RTN","PSSORPH1",25,0)
 S (PSIEN,DLOOP)=+$P(PSSX(PSSA),"^",4) K PSSMAX D:$G(TYPE)["O" MAX^PSSORPH
"RTN","PSSORPH1",26,0)
 S PSSX("DD",PSIEN)=$P($G(^PSDRUG(PSIEN,0)),"^")_"^"_$P($G(^(660)),"^",6)_"^"_$P($G(^(0)),"^",9)_"^"_$P($G(^(660)),"^",8)_"^"_$P($G(^("DOS")),"^")_"^"_$G(PSSUNITX)_"^"_$G(PSSMAX)
"RTN","PSSORPH1",27,0)
 D REQS^PSSORPH S PSSX("DD",PSIEN)=PSSX("DD",PSIEN)_"^"_$G(PSSREQS)_"^"_$G(PSNNN)_"^"_$G(PSSVERB)
"RTN","PSSORPH1",28,0)
 D LEADP^PSSUTLA1
"RTN","PSSORPH1",29,0)
 Q
"RTN","PSSORPH1",30,0)
SET ;
"RTN","PSSORPH1",31,0)
 D PARN^PSSORPH
"RTN","PSSORPH1",32,0)
 S PSSX(1)="^"_$S($G(TYPE)="O":$G(PSSUNITZ),1:$G(PSSUNTS))_"^^"_DLOOP_"^"_$G(PSSTRN)_"^"_$S($G(PSSNP)'="":$G(PSSNP),1:$G(PSNNN))_"^"_$P($G(^PS(50.606,+$G(PSSDSE),0)),"^")_"^"_$G(PSSVERB)_"^"_$G(PSSPREP) K PSSNP
"RTN","PSSORPH1",33,0)
 S (PSIEN,DLOOP)=+$P(PSSX(1),"^",4) K PSSMAX D:$G(TYPE)["O" MAX^PSSORPH
"RTN","PSSORPH1",34,0)
 S PSSX("DD",PSIEN)=$P($G(^PSDRUG(PSIEN,0)),"^")_"^"_$P($G(^(660)),"^",6)_"^"_$P($G(^(0)),"^",9)_"^"_$P($G(^(660)),"^",8)_"^"_$P($G(^("DOS")),"^")_"^"_$G(PSSUNITX)_"^"_$G(PSSMAX)
"RTN","PSSORPH1",35,0)
 D REQS^PSSORPH S PSSX("DD",PSIEN)=PSSX("DD",PSIEN)_"^"_$G(PSSREQS)_"^"_$G(PSNNN)_"^"_$G(PSSVERB)
"RTN","PSSORPH1",36,0)
 Q
"RTN","PSSORPH1",37,0)
AMP ;Replace & with AND when returning local doses to CPRS
"RTN","PSSORPH1",38,0)
 N PSSAB,PSSABT,PSSABA,PSSABL,PSSABZ,PSSABX,PSSABF1,PSSABF2
"RTN","PSSORPH1",39,0)
 I PSLOCV="&" S PSLOCV=" AND " Q
"RTN","PSSORPH1",40,0)
 I $E(PSLOCV,1)="&" D
"RTN","PSSORPH1",41,0)
 .I $E(PSLOCV,2)=" " S PSLOCV=" AND"_$E(PSLOCV,2,999) Q
"RTN","PSSORPH1",42,0)
 .S PSLOCV=" AND "_$E(PSLOCV,2,999)
"RTN","PSSORPH1",43,0)
 S PSSABL=$L(PSLOCV)
"RTN","PSSORPH1",44,0)
 I $E(PSLOCV,PSSABL)="&" D
"RTN","PSSORPH1",45,0)
 .I $E(PSLOCV,(PSSABL-1))=" " S PSLOCV=$E(PSLOCV,1,(PSSABL-1))_"AND " Q
"RTN","PSSORPH1",46,0)
 .S PSLOCV=$E(PSLOCV,1,(PSSABL-1))_" AND "
"RTN","PSSORPH1",47,0)
 Q:$G(PSLOCV)'["&"
"RTN","PSSORPH1",48,0)
 S PSSABT=0
"RTN","PSSORPH1",49,0)
 F PSSAB=1:1:$L(PSLOCV) I $E(PSLOCV,PSSAB)="&" S PSSABT=PSSABT+1
"RTN","PSSORPH1",50,0)
 F PSSAB=1:1:(PSSABT+1) S PSSABA(PSSAB)=$P(PSLOCV,"&") S PSLOCV=$P(PSLOCV,"&",2,999)
"RTN","PSSORPH1",51,0)
 F PSSABZ=1:1:PSSABT D
"RTN","PSSORPH1",52,0)
 .K PSSABF1,PSSABF2
"RTN","PSSORPH1",53,0)
 .I $L($G(PSSABA(PSSABZ)))>0 S PSSABF1=$E(PSSABA(PSSABZ),$L(PSSABA(PSSABZ)))
"RTN","PSSORPH1",54,0)
 .I $D(PSSABA(PSSABZ+1)) S PSSABF2=$E(PSSABA(PSSABZ+1),1)
"RTN","PSSORPH1",55,0)
 .S PSSABA(PSSABZ)=PSSABA(PSSABZ)_$S($G(PSSABF1)=" ":"AND",1:" AND")_$S($G(PSSABF2)=" ":"",1:" ")
"RTN","PSSORPH1",56,0)
 K PSLOCV F PSSABX=1:1:(PSSABT+1) S PSLOCV=$G(PSLOCV)_$G(PSSABA(PSSABX))
"RTN","PSSORPH1",57,0)
 Q
"UP",55,55.07,-2)
55^5
"UP",55,55.07,-1)
55.06^1
"UP",55,55.07,0)
55.07
"VER")
8.0^22.0
"^DD",55,55.07,.02,0)
UNITS PER DOSE^NJ5,2OX^^0;2^S:X?1.2N1"/"1.2N X=+$J(+X/$P(X,"/",2),0,2) K:X'?.N.1".".N!(X>30)!(X<0)!(X?.E1"."5.N) X
"^DD",55,55.07,.02,1,0)
^.1^^-1
"^DD",55,55.07,.02,1,1,0)
55.06^AL702^MUMPS
"^DD",55,55.07,.02,1,1,1)
I '$D(DIU(0)) D:$D(PSGAL(702))#2 KILL^PSGAL5:PSGAL(702)=X K PSGAL
"^DD",55,55.07,.02,1,1,2)
I '$D(DIU(0)),'$D(PSGPO) S PSGAL(702)=X,PSGAL("C")=6000,PSGALFF=.02,PSGALFN=55.07 D ^PSGAL5
"^DD",55,55.07,.02,1,1,3)
UNIT DOSE ACTIVITY LOG
"^DD",55,55.07,.02,1,1,"%D",0)
^^1^1^2990225^^
"^DD",55,55.07,.02,1,1,"%D",1,0)
Used by Unit Dose to log any changes made to this field.
"^DD",55,55.07,.02,2)
S Y(0)=Y S Y=$S(Y=.5:"1/2",Y=.25:"1/4",Y?1".".N:"0"_Y,1:Y)
"^DD",55,55.07,.02,2.1)
S Y=$S(Y=.5:"1/2",Y=.25:"1/4",Y?1".".N:"0"_Y,1:Y)
"^DD",55,55.07,.02,3)
Enter a number between 0 and 30, no more than 4 decimals (will accept fractions).
"^DD",55,55.07,.02,4)
D EN^DDIOL("ONE (1) UNIT PER DOSE WILL BE ASSUMED IF THERE IS NO ENTRY (OR AN ENTRY OF ZERO (0)) INTO THIS FIELD.")
"^DD",55,55.07,.02,20,0)
^.3LA^1^1
"^DD",55,55.07,.02,20,1,0)
PSJU
"^DD",55,55.07,.02,21,0)
^.001^10^10^3000404^^^^
"^DD",55,55.07,.02,21,1,0)
  This is the number of UNITS (tablets, capsules, etc.) to be dispensed as a
"^DD",55,55.07,.02,21,2,0)
DOSE for this order.  The literals '1/2' and '1/4' may be entered.  If there
"^DD",55,55.07,.02,21,3,0)
is no entry, it is assumed to be ONE (1).
"^DD",55,55.07,.02,21,4,0)
                         ** PLEASE NOTE **
"^DD",55,55.07,.02,21,5,0)
  If a doctor prescribes 30 ml's of a medication that is usually dispensed
"^DD",55,55.07,.02,21,6,0)
and administered as 60 ml's, the correct UNITS PER DOSE would be 1/2 (or
"^DD",55,55.07,.02,21,7,0)
.5), NOT 30 ml's.  (30 ml's would be entered into the DOSAGE ORDERED field.)
"^DD",55,55.07,.02,21,8,0)
  If the UNITS PER DOSE ordered is a variable amount (1-2 tab.), it is
"^DD",55,55.07,.02,21,9,0)
suggested that the maximum amount be entered into this field and the amount
"^DD",55,55.07,.02,21,10,0)
ordered noted either in the DOSAGE ORDERED or SPECIAL INSTRUCTIONS fields.
"^DD",55,55.07,.02,"DT")
3030221
**END**
**END**
