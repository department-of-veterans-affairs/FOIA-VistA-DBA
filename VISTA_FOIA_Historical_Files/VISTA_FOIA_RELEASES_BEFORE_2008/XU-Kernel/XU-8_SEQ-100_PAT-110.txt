$TXT Created by MEIGHAN,MIKE J. at NXT.KERNEL.ISC-SF.VA.GOV  (KIDS) on MONDAY, 03/01/99 at 11:53
=============================================================================
Run Date: MAR 02, 1999                     Designation: XU*8*110
Package : XU - KERNEL                          Priority: Mandatory
Version : 8       SEQ #100                       Status: Released
=============================================================================


Subject: Fixing XQCHK and adding UserHasAccess function

Category: 
  - Routine

Description: 
============

 XU*8*110  UserHasAccess
  
 Prerequisites:
 ==============
  
        There are no prerequisites for this patch.
  
 Description:
 ============
  
        CPRS and other systems have asked for a function to tell them if a
 user has access to a particular menu option.
  
          
              W $$ACCESS(DUZ,Option IEN) returns:
   
          -1 means: No such user in the New Person File
          -2 means: User terminated or has no access code
          -3 means: No such option in the Option File
           0 means: No access found in any menu tree the user owns
   
             For all other cases it returns up to 4 pieces in a string:
             access ^ menu tree IEN ^ a set of codes ^ lock
             Some of these pieces may be null.
   
          O^OpIEN^codes^lock: No access because of locks (see CODES below)
            where 'OpIEN' is the menu where access WOULD be allowed
            and 'lock' is the lock preventing access
          1^OpIEN^^: Access allowed through Primary Menu
          2^OpIEN^codes^: Access found in the Common Options
          3^OpIEN^codes^: Access found at top level of secondary menu
          4^OpIEN^codes^: Access through a the secondary menu tree OpIEN.
   
             CODES can contain:
   
            N=No Primary Menu in the User File (warning only)
            L=Locked and the user does not have the key 
              (forces 0 in first piece)
            R=Reverse lock and user has the key
              (forces 0 in first piece)
   
         This build also contains an option XQOPACCESS (See If a User
  Has Access to a Particular Option) which is an interactive version of
  the above function, allowing the IRM staff to enter a User's name and
  and the name of an option to see if access is allowed.  This option is
  found on the Menu Management menu.
   
  ==========================================================================
   
  INSTALLATION: 
     1.  This routine is not usually mapped on systems that allow
         mapping so you may not have to disable mapping.
     2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This 
         option will load the KIDS package onto your system.
     3.  The patch has now been loaded into a Transport global on your 
         system. You now need to use KIDS to install the Transport global.  
     4.  On the KIDS menu, under the 'Installation' menu, use the following 
         options: 
            Print Transport Global 
            Compare Transport Global to Current System 
            Verify Checksums in Transport Global 
            Backup a Transport Global
            Install Package XU*8.0*110
     5.  MSM Sites - Answer YES to the question 'Want to MOVE routines to 
         other CPUs?'. Enter the names of your Compute and Print server(s).
     6.  Rebuild your mapped set if necessary.
     7.  If users are allowed to remain on the system during installation,
         errors may occur when the routine is loaded, but the probability
         is slight.
   
  ==========================================================================
   
   
                 CHECK SUMS (^XTSUMBLD) AND PATCH LISTS
   
        The second line of these routines should look like this:
             ;;8.0;KERNEL;**[patch list]**;Jul 10, 1995
   
  Routine                   Before                  After
   
  XQCHK                7318302  **47**        18037162  **47,110**

Routine Information:
====================

=============================================================================
User Information:                               
Entered By  : MEIGHAN,MIKE                   Date Entered : DEC 21, 1998
Completed By: MAUNSELL,MICHAL L            Date Completed: MAR 01, 1999
Released By : GIBBONS,JOE                   Date Released : MAR 02, 1999
=============================================================================


Packman Mail Message:
=====================

$END TXT
