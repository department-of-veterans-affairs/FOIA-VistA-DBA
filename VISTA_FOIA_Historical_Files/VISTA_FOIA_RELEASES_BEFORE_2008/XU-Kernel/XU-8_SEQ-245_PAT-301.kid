Released XU*8*301 SEQ #245
Extracted from mail message
**KIDS**:XU*8.0*301^

**INSTALL NAME**
XU*8.0*301
"BLD",732,0)
XU*8.0*301^KERNEL^0^3030424^y
"BLD",732,1,0)
^^2^2^3030424^
"BLD",732,1,1,0)
See patch XU*8*301 in the National Patch Module on FORUM for complete
"BLD",732,1,2,0)
information on this patch.
"BLD",732,4,0)
^9.64PA^^
"BLD",732,"KRN",0)
^9.67PA^8989.52^19
"BLD",732,"KRN",.4,0)
.4
"BLD",732,"KRN",.401,0)
.401
"BLD",732,"KRN",.402,0)
.402
"BLD",732,"KRN",.403,0)
.403
"BLD",732,"KRN",.5,0)
.5
"BLD",732,"KRN",.84,0)
.84
"BLD",732,"KRN",3.6,0)
3.6
"BLD",732,"KRN",3.8,0)
3.8
"BLD",732,"KRN",9.2,0)
9.2
"BLD",732,"KRN",9.8,0)
9.8
"BLD",732,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",732,"KRN",9.8,"NM",1,0)
XLFNAME2^^0^B10414115
"BLD",732,"KRN",9.8,"NM","B","XLFNAME2",1)

"BLD",732,"KRN",19,0)
19
"BLD",732,"KRN",19.1,0)
19.1
"BLD",732,"KRN",101,0)
101
"BLD",732,"KRN",409.61,0)
409.61
"BLD",732,"KRN",771,0)
771
"BLD",732,"KRN",870,0)
870
"BLD",732,"KRN",8989.51,0)
8989.51
"BLD",732,"KRN",8989.52,0)
8989.52
"BLD",732,"KRN",8994,0)
8994
"BLD",732,"KRN","B",.4,.4)

"BLD",732,"KRN","B",.401,.401)

"BLD",732,"KRN","B",.402,.402)

"BLD",732,"KRN","B",.403,.403)

"BLD",732,"KRN","B",.5,.5)

"BLD",732,"KRN","B",.84,.84)

"BLD",732,"KRN","B",3.6,3.6)

"BLD",732,"KRN","B",3.8,3.8)

"BLD",732,"KRN","B",9.2,9.2)

"BLD",732,"KRN","B",9.8,9.8)

"BLD",732,"KRN","B",19,19)

"BLD",732,"KRN","B",19.1,19.1)

"BLD",732,"KRN","B",101,101)

"BLD",732,"KRN","B",409.61,409.61)

"BLD",732,"KRN","B",771,771)

"BLD",732,"KRN","B",870,870)

"BLD",732,"KRN","B",8989.51,8989.51)

"BLD",732,"KRN","B",8989.52,8989.52)

"BLD",732,"KRN","B",8994,8994)

"BLD",732,"QUES",0)
^9.62^^
"BLD",732,"REQB",0)
^9.611^1^1
"BLD",732,"REQB",1,0)
XU*8.0*211^2
"BLD",732,"REQB","B","XU*8.0*211",1)

"MBREQ")
0
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^^0
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^2950703^2970507^.5
"PKG",3,22,1,"PAH",1,0)
301^3030424
"PKG",3,22,1,"PAH",1,1,0)
^^2^2^3030424
"PKG",3,22,1,"PAH",1,1,1,0)
See patch XU*8*301 in the National Patch Module on FORUM for complete
"PKG",3,22,1,"PAH",1,1,2,0)
information on this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XLFNAME2")
0^1^B10414115
"RTN","XLFNAME2",1,0)
XLFNAME2 ;CIOFO-SF/MKO-UPDATE ENTRY POINTS;1:07 PM  24 Apr 2003
"RTN","XLFNAME2",2,0)
 ;;8.0;KERNEL;**134,211,301**;Jul 10, 1995
"RTN","XLFNAME2",3,0)
 ;
"RTN","XLFNAME2",4,0)
UPDNAME(XUFIL,XUREC,XUFLD,XUCOMP,XUFLAG) ;Update source name field
"RTN","XLFNAME2",5,0)
 ;Called from "ANAME" MUMPS xref on file #20.
"RTN","XLFNAME2",6,0)
 ;
"RTN","XLFNAME2",7,0)
 N XUIENS,XUFDA,XUMAX,XUMSG,XUNAME,DIERR
"RTN","XLFNAME2",8,0)
 I '$G(XUNOTRIG) N XUNOTRIG S XUNOTRIG=1
"RTN","XLFNAME2",9,0)
 S:$G(XUFLAG)="" XUFLAG="CLS"
"RTN","XLFNAME2",10,0)
 ;
"RTN","XLFNAME2",11,0)
 ;Get IENS from XUREC
"RTN","XLFNAME2",12,0)
 I $G(XUREC)'["," S XUIENS=$$IENS^DILF(.XUREC)
"RTN","XLFNAME2",13,0)
 E  S XUIENS=XUREC S:XUIENS'?.E1"," XUIENS=XUIENS_","
"RTN","XLFNAME2",14,0)
 ;
"RTN","XLFNAME2",15,0)
 ;Get maximum length of source field
"RTN","XLFNAME2",16,0)
 I XUFLAG["L",'$P(XUFLAG,"L",2) D
"RTN","XLFNAME2",17,0)
 . S XUFLAG=$TR(XUFLAG,"L")_"L"_+$$GET1^DID(XUFIL,XUFLD,"","FIELD LENGTH","","XUMSG")
"RTN","XLFNAME2",18,0)
 . K DIERR,XUMSG
"RTN","XLFNAME2",19,0)
 ;
"RTN","XLFNAME2",20,0)
 ;Get name from components; quit if source name = new name
"RTN","XLFNAME2",21,0)
 S XUNAME=$$NAMEFMT^XLFNAME(.XUCOMP,"F",XUFLAG)
"RTN","XLFNAME2",22,0)
 Q:XUNAME=$$GET1^DIQ(XUFIL,XUIENS,XUFLD,"I","","XUMSG")  K DIERR,XUMSG
"RTN","XLFNAME2",23,0)
 ;
"RTN","XLFNAME2",24,0)
 ;Call Filer to edit entry in source file
"RTN","XLFNAME2",25,0)
 S XUFDA(XUFIL,XUIENS,XUFLD)=XUNAME
"RTN","XLFNAME2",26,0)
 D FILE^DIE("","XUFDA","XUMSG") K DIERR,XUMSG
"RTN","XLFNAME2",27,0)
 Q
"RTN","XLFNAME2",28,0)
 ;
"RTN","XLFNAME2",29,0)
UPDCOMP(XUFIL,XUREC,XUFLD,XUNAME,XUPTR,XUPVAL,XUFLAG) ;Update Name Components entry
"RTN","XLFNAME2",30,0)
 ;Called from set logic of "ANAME" MUMPS xref of file #200,
"RTN","XLFNAME2",31,0)
 ;Called from UPDATE^XLFNAME3 to update components during conversion.
"RTN","XLFNAME2",32,0)
 N XUDEG,XUIEN,XUIENS,XUFDA,XUMSG,DIERR
"RTN","XLFNAME2",33,0)
 I '$G(XUNOTRIG) N XUNOTRIG S XUNOTRIG=1
"RTN","XLFNAME2",34,0)
 ;
"RTN","XLFNAME2",35,0)
 ;Get IENS from XUREC
"RTN","XLFNAME2",36,0)
 I $G(XUREC)'["," S XUIENS=$$IENS^DILF(.XUREC)
"RTN","XLFNAME2",37,0)
 E  S XUIENS=XUREC S:XUIENS'?.E1"," XUIENS=XUIENS_","
"RTN","XLFNAME2",38,0)
 ;
"RTN","XLFNAME2",39,0)
 ;Get name components from XUNAME
"RTN","XLFNAME2",40,0)
 I $D(XUNAME)=1,XUNAME]"" D NAMECOMP^XLFNAME(.XUNAME)
"RTN","XLFNAME2",41,0)
 ;
"RTN","XLFNAME2",42,0)
 ;Call updater to add or edit entry in Name Component file
"RTN","XLFNAME2",43,0)
 S XUFDA(20,"?+1,",.01)=XUFIL
"RTN","XLFNAME2",44,0)
 S XUFDA(20,"?+1,",.02)=XUFLD
"RTN","XLFNAME2",45,0)
 S XUFDA(20,"?+1,",.03)=XUIENS
"RTN","XLFNAME2",46,0)
 S:$D(XUNAME("FAMILY"))#2 XUFDA(20,"?+1,",1)=XUNAME("FAMILY")
"RTN","XLFNAME2",47,0)
 S:$D(XUNAME("GIVEN"))#2 XUFDA(20,"?+1,",2)=XUNAME("GIVEN")
"RTN","XLFNAME2",48,0)
 S:$D(XUNAME("MIDDLE"))#2 XUFDA(20,"?+1,",3)=XUNAME("MIDDLE")
"RTN","XLFNAME2",49,0)
 S:$D(XUNAME("PREFIX"))#2 XUFDA(20,"?+1,",4)=XUNAME("PREFIX")
"RTN","XLFNAME2",50,0)
 S:$D(XUNAME("SUFFIX"))#2 XUFDA(20,"?+1,",5)=XUNAME("SUFFIX")
"RTN","XLFNAME2",51,0)
 S:$D(XUNAME("DEGREE"))#2 XUFDA(20,"?+1,",6)=XUNAME("DEGREE")
"RTN","XLFNAME2",52,0)
 S:$D(XUNAME("NOTES"))#2 XUFDA(20,"?+1,",11)=XUNAME("NOTES")
"RTN","XLFNAME2",53,0)
 S:$D(XUFLAG)#2 XUFDA(20,"?+1,",7)=XUFLAG
"RTN","XLFNAME2",54,0)
 D UPDATE^DIE("K","XUFDA","XUIEN","XUMSG") K DIERR,XUMSG
"RTN","XLFNAME2",55,0)
 ;
"RTN","XLFNAME2",56,0)
 ;Update pointer
"RTN","XLFNAME2",57,0)
 I $G(XUPTR),$G(XUIEN(1)),$G(XUIEN(1))'=$G(XUPVAL) D
"RTN","XLFNAME2",58,0)
 . S XUPVAL=XUIEN(1)
"RTN","XLFNAME2",59,0)
 . S XUFDA(XUFIL,XUIENS,XUPTR)=XUPVAL
"RTN","XLFNAME2",60,0)
 . D FILE^DIE("","XUFDA","XUMSG") K DIERR,XUMSG
"RTN","XLFNAME2",61,0)
 Q
"RTN","XLFNAME2",62,0)
 ;
"RTN","XLFNAME2",63,0)
DELCOMP(XUFIL,XUREC,XUFLD,XUPTR) ;Delete Name Components entry
"RTN","XLFNAME2",64,0)
 ;Called from kill logic "ANAME" MUMPS xref of file #200
"RTN","XLFNAME2",65,0)
 N DA,DIK,XUFDA,XUIENS,XUMSG,XUVAL,DIERR
"RTN","XLFNAME2",66,0)
 ;
"RTN","XLFNAME2",67,0)
 ;Get IENS from XUREC
"RTN","XLFNAME2",68,0)
 I $G(XUREC)'["," S XUIENS=$$IENS^DILF(.XUREC)
"RTN","XLFNAME2",69,0)
 E  S XUIENS=XUREC S:XUIENS'?.E1"," XUIENS=XUIENS_","
"RTN","XLFNAME2",70,0)
 ;
"RTN","XLFNAME2",71,0)
 ;Lookup entry in Name Components file
"RTN","XLFNAME2",72,0)
 S XUVAL(1)=XUFIL,XUVAL(2)=XUFLD,XUVAL(3)=XUIENS
"RTN","XLFNAME2",73,0)
 S DA=$$FIND1^DIC(20,"","X",.XUVAL,"BB","","XUMSG") ;8*301
"RTN","XLFNAME2",74,0)
 Q:$G(DIERR)
"RTN","XLFNAME2",75,0)
 ;
"RTN","XLFNAME2",76,0)
 ;Delete entry from Name Components file
"RTN","XLFNAME2",77,0)
 S DIK="^VA(20,"
"RTN","XLFNAME2",78,0)
 D ^DIK
"RTN","XLFNAME2",79,0)
 ;
"RTN","XLFNAME2",80,0)
 ;Delete pointer value
"RTN","XLFNAME2",81,0)
 I $G(XUPTR) D
"RTN","XLFNAME2",82,0)
 . K XUFDA S XUFDA(XUFIL,XUIENS,XUPTR)=""
"RTN","XLFNAME2",83,0)
 . D FILE^DIE("","XUFDA","XUMSG") K XUMSG,DIERR
"RTN","XLFNAME2",84,0)
 Q
"RTN","XLFNAME2",85,0)
 ;
"RTN","XLFNAME2",86,0)
CHKPTR ;Make sure entry contains a valid pointer to Name Components file.
"RTN","XLFNAME2",87,0)
 ;Called from the pre-action on the XUEXISTING USER form.
"RTN","XLFNAME2",88,0)
 N AIEN,DEG,FDA,NAM,PTR,DIERR
"RTN","XLFNAME2",89,0)
 ;
"RTN","XLFNAME2",90,0)
 ;Get current pointer value
"RTN","XLFNAME2",91,0)
 S PTR=+$P($G(^VA(200,DA,3.1)),U)
"RTN","XLFNAME2",92,0)
 ;
"RTN","XLFNAME2",93,0)
 ;If not valid, get standard name, and update the Name Components file
"RTN","XLFNAME2",94,0)
 I 'PTR!($D(^VA(20,PTR,0))[0) D
"RTN","XLFNAME2",95,0)
 . K PTR
"RTN","XLFNAME2",96,0)
 . S NAM=$P($G(^VA(200,DA,0)),U)
"RTN","XLFNAME2",97,0)
 . S DEG=$P($G(^VA(200,DA,3.1)),U,6)
"RTN","XLFNAME2",98,0)
 . D STDNAME^XLFNAME(.NAM,"C")
"RTN","XLFNAME2",99,0)
 . D UPDCOMP(200,DA_",",.01,.NAM,10.1)
"RTN","XLFNAME2",100,0)
 Q
"VER")
8.0^22.0
**END**
**END**
