Released SD*5.3*427 SEQ #347
Extracted from mail message
**KIDS**:SD*5.3*427^

**INSTALL NAME**
SD*5.3*427
"BLD",6036,0)
SD*5.3*427^SCHEDULING^0^3050711^y
"BLD",6036,1,0)
^^7^7^3050520^
"BLD",6036,1,1,0)
Fix null institution, wait list type and clinic problem.
"BLD",6036,1,2,0)
 
"BLD",6036,1,3,0)
Modify Wait List Cleanup option to print report of null fields: 
"BLD",6036,1,4,0)
institution, wait list type and wait list clinic.
"BLD",6036,1,5,0)
 
"BLD",6036,1,6,0)
Correct problem where patient is not removed from Wait List for same 
"BLD",6036,1,7,0)
selected clinic during disposition.
"BLD",6036,4,0)
^9.64PA^^
"BLD",6036,"ABPKG")
n
"BLD",6036,"INID")
^y
"BLD",6036,"INIT")
SDWL427P
"BLD",6036,"KRN",0)
^9.67PA^8989.52^19
"BLD",6036,"KRN",.4,0)
.4
"BLD",6036,"KRN",.401,0)
.401
"BLD",6036,"KRN",.402,0)
.402
"BLD",6036,"KRN",.403,0)
.403
"BLD",6036,"KRN",.5,0)
.5
"BLD",6036,"KRN",.84,0)
.84
"BLD",6036,"KRN",3.6,0)
3.6
"BLD",6036,"KRN",3.8,0)
3.8
"BLD",6036,"KRN",9.2,0)
9.2
"BLD",6036,"KRN",9.8,0)
9.8
"BLD",6036,"KRN",9.8,"NM",0)
^9.68A^6^6
"BLD",6036,"KRN",9.8,"NM",1,0)
SDWLR^^0^B16955255
"BLD",6036,"KRN",9.8,"NM",2,0)
SDWLCU1^^0^B23373844
"BLD",6036,"KRN",9.8,"NM",3,0)
SDWLCU5^^0^B26978724
"BLD",6036,"KRN",9.8,"NM",4,0)
SDWLCU6^^0^B10350160
"BLD",6036,"KRN",9.8,"NM",5,0)
SDWLDISP^^0^B33707082
"BLD",6036,"KRN",9.8,"NM",6,0)
SDWL427P^^0^B6603191
"BLD",6036,"KRN",9.8,"NM","B","SDWL427P",6)

"BLD",6036,"KRN",9.8,"NM","B","SDWLCU1",2)

"BLD",6036,"KRN",9.8,"NM","B","SDWLCU5",3)

"BLD",6036,"KRN",9.8,"NM","B","SDWLCU6",4)

"BLD",6036,"KRN",9.8,"NM","B","SDWLDISP",5)

"BLD",6036,"KRN",9.8,"NM","B","SDWLR",1)

"BLD",6036,"KRN",19,0)
19
"BLD",6036,"KRN",19,"NM",0)
^9.68A^^
"BLD",6036,"KRN",19.1,0)
19.1
"BLD",6036,"KRN",101,0)
101
"BLD",6036,"KRN",409.61,0)
409.61
"BLD",6036,"KRN",771,0)
771
"BLD",6036,"KRN",870,0)
870
"BLD",6036,"KRN",8989.51,0)
8989.51
"BLD",6036,"KRN",8989.52,0)
8989.52
"BLD",6036,"KRN",8994,0)
8994
"BLD",6036,"KRN","B",.4,.4)

"BLD",6036,"KRN","B",.401,.401)

"BLD",6036,"KRN","B",.402,.402)

"BLD",6036,"KRN","B",.403,.403)

"BLD",6036,"KRN","B",.5,.5)

"BLD",6036,"KRN","B",.84,.84)

"BLD",6036,"KRN","B",3.6,3.6)

"BLD",6036,"KRN","B",3.8,3.8)

"BLD",6036,"KRN","B",9.2,9.2)

"BLD",6036,"KRN","B",9.8,9.8)

"BLD",6036,"KRN","B",19,19)

"BLD",6036,"KRN","B",19.1,19.1)

"BLD",6036,"KRN","B",101,101)

"BLD",6036,"KRN","B",409.61,409.61)

"BLD",6036,"KRN","B",771,771)

"BLD",6036,"KRN","B",870,870)

"BLD",6036,"KRN","B",8989.51,8989.51)

"BLD",6036,"KRN","B",8989.52,8989.52)

"BLD",6036,"KRN","B",8994,8994)

"BLD",6036,"QUES",0)
^9.62^^
"BLD",6036,"REQB",0)
^9.611^3^2
"BLD",6036,"REQB",2,0)
SD*5.3*280^2
"BLD",6036,"REQB",3,0)
SD*5.3*273^2
"BLD",6036,"REQB","B","SD*5.3*273",3)

"BLD",6036,"REQB","B","SD*5.3*280",2)

"INIT")
SDWL427P
"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
427^3050711
"PKG",16,22,1,"PAH",1,1,0)
^^7^7^3050711
"PKG",16,22,1,"PAH",1,1,1,0)
Fix null institution, wait list type and clinic problem.
"PKG",16,22,1,"PAH",1,1,2,0)
 
"PKG",16,22,1,"PAH",1,1,3,0)
Modify Wait List Cleanup option to print report of null fields: 
"PKG",16,22,1,"PAH",1,1,4,0)
institution, wait list type and wait list clinic.
"PKG",16,22,1,"PAH",1,1,5,0)
 
"PKG",16,22,1,"PAH",1,1,6,0)
Correct problem where patient is not removed from Wait List for same 
"PKG",16,22,1,"PAH",1,1,7,0)
selected clinic during disposition.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","SDWL427P")
0^6^B6603191
"RTN","SDWL427P",1,0)
SDWL427P ;ALB/RLC;POST-INIT ROUTINE UPDATES FILE 409.3; 01/24/05 1:05 PM
"RTN","SDWL427P",2,0)
 ;;5.3;Scheduling;**427**;Aug 13, 1993
"RTN","SDWL427P",3,0)
 ;
"RTN","SDWL427P",4,0)
 ;-This post-init routine is designed to locate and kill any "SC"
"RTN","SDWL427P",5,0)
 ;-cross-references that are still defined for records that have
"RTN","SDWL427P",6,0)
 ;-been dispositioned in the Wait List file (409.3) and generate
"RTN","SDWL427P",7,0)
 ;-a mailman message to the user listing all applicable records.
"RTN","SDWL427P",8,0)
 ;
"RTN","SDWL427P",9,0)
EN S SDCLN=0 K ^TMP("UPDATED",$J)
"RTN","SDWL427P",10,0)
 F  S SDCLN=$O(^SDWL(409.3,"SC",SDCLN)) Q:'SDCLN  D
"RTN","SDWL427P",11,0)
 .S SDIEN=0
"RTN","SDWL427P",12,0)
 .F  S SDIEN=$O(^SDWL(409.3,"SC",SDCLN,SDIEN)) Q:'SDIEN  D
"RTN","SDWL427P",13,0)
 ..Q:'$D(^SDWL(409.3,SDIEN,"DIS"))
"RTN","SDWL427P",14,0)
 ..I $D(^SDWL(409.3,SDIEN,0)) Q:$P(^(0),U,17)'="C"
"RTN","SDWL427P",15,0)
 ..K ^SDWL(409.3,"SC",SDCLN,SDIEN)
"RTN","SDWL427P",16,0)
 ..S SDNAME=$P(^SC(SDCLN,0),U)
"RTN","SDWL427P",17,0)
 ..S ^TMP("UPDATED",$J,SDNAME,SDIEN)=""
"RTN","SDWL427P",18,0)
 K SDCLN
"RTN","SDWL427P",19,0)
 ;
"RTN","SDWL427P",20,0)
MSG ;generate mailman message to user listing all updated records
"RTN","SDWL427P",21,0)
 N DVPARAM,XMDUZ,XMSUB,XMTEXT,XMY,MSGTXT
"RTN","SDWL427P",22,0)
 S CT=0 D COUNT
"RTN","SDWL427P",23,0)
 S MSGTXT(CT)="THE FOLLOWING CLINICS WERE STILL DEFINED IN THE ""SC"""
"RTN","SDWL427P",24,0)
 D COUNT S MSGTXT(CT)="CROSS REFERENCE OF THE WAIT LIST FILE (409.3)"
"RTN","SDWL427P",25,0)
 D COUNT S MSGTXT(CT)="ALTHOUGH EACH OF THE RECORDS LISTED HAD BEEN DISPOSITIONED."
"RTN","SDWL427P",26,0)
 D COUNT S MSGTXT(CT)="THE ""SC"" CROSS-REFERENCE FOR EACH OF THESE RECORDS HAS"
"RTN","SDWL427P",27,0)
 D COUNT S MSGTXT(CT)="BEEN PROPERLY KILLED."
"RTN","SDWL427P",28,0)
 D COUNT S MSGTXT(CT)="" D COUNT
"RTN","SDWL427P",29,0)
 S MSGTXT(CT)="CLINIC NAME                       IEN (409.3)"
"RTN","SDWL427P",30,0)
 D COUNT S MSGTXT(CT)="------------------------------    -----------"
"RTN","SDWL427P",31,0)
 ;
"RTN","SDWL427P",32,0)
 S (SDNAME,SDIENP)="",POP=0
"RTN","SDWL427P",33,0)
 F  S SDNAME=$O(^TMP("UPDATED",$J,SDNAME)) Q:SDNAME=""  D
"RTN","SDWL427P",34,0)
 .S (SDIEN,SDFLAG)=0 D ALIGN
"RTN","SDWL427P",35,0)
 .F  S SDIEN=$O(^TMP("UPDATED",$J,SDNAME,SDIEN)) Q:'SDIEN  D
"RTN","SDWL427P",36,0)
 ..S SDIENP=$J(SDIEN,11)
"RTN","SDWL427P",37,0)
 ..I 'SDFLAG D SPACE,COUNT S MSGTXT(CT)=SDNAME_SPACES_SDIENP,(SDFLAG,POP)=1 Q
"RTN","SDWL427P",38,0)
 ..D COUNT,ALIGN S MSGTXT(CT)=SPACES_SDIENP
"RTN","SDWL427P",39,0)
 I '$D(^TMP("UPDATED",$J)) D SPACE,COUNT S MSGTXT(CT)="NO RECORDS FOUND THAT NEEDED UPDATING."
"RTN","SDWL427P",40,0)
 S XMTEXT="MSGTXT"
"RTN","SDWL427P",41,0)
 S DVPARAM("FROM")="PATCH SD*5.3*427"
"RTN","SDWL427P",42,0)
 S XMDUZ=DUZ,XMSUB="LIST OF RECORDS UPDATED IN FILE 409.3",XMY(DUZ)=""
"RTN","SDWL427P",43,0)
 D SENDMSG^XMXAPI(XMDUZ,XMSUB,XMTEXT,.XMY,.DVPARAM,"","")
"RTN","SDWL427P",44,0)
 K I,XMDUZ,XMSUB,XMY,CT,SDNAME,SDIEN,SDIENP,SDFLAG,SPACES,POP
"RTN","SDWL427P",45,0)
 K MSGTXT,XMTEXT,DVPARAM,^TMP("UPDATED",$J)
"RTN","SDWL427P",46,0)
 Q
"RTN","SDWL427P",47,0)
 ;
"RTN","SDWL427P",48,0)
COUNT S CT=CT+1
"RTN","SDWL427P",49,0)
 Q
"RTN","SDWL427P",50,0)
 ;
"RTN","SDWL427P",51,0)
SPACE Q:'POP
"RTN","SDWL427P",52,0)
 S CT=CT+1,MSGTXT(CT)=""
"RTN","SDWL427P",53,0)
 Q
"RTN","SDWL427P",54,0)
 ;
"RTN","SDWL427P",55,0)
ALIGN S SPACES=""
"RTN","SDWL427P",56,0)
 I 'SDFLAG F I=1:1:34-$L(SDNAME) S SPACES=SPACES_" "
"RTN","SDWL427P",57,0)
 Q:'SDFLAG
"RTN","SDWL427P",58,0)
 F I=1:1:34 S SPACES=SPACES_" "
"RTN","SDWL427P",59,0)
 Q
"RTN","SDWLCU1")
0^2^B23373844
"RTN","SDWLCU1",1,0)
SDWLCU1 ;IOFO BAY PINES/DMR - EWL FILE 409.3 CLEANUP ;2/4/03
"RTN","SDWLCU1",2,0)
 ;;5.3;scheduling;**280,427**;AUG 13 1993
"RTN","SDWLCU1",3,0)
INIT ;
"RTN","SDWLCU1",4,0)
 S (IEN,REC,NUM,COUNT,TOTAL,WLTC1,WLTC2,WLTC3,WLTC4,INST,CODE,NAME,ANS)=""
"RTN","SDWLCU1",5,0)
 S (INST1,INST2,INST3,INST4,POS,POSNAM,TEAM,TEAMN,CLINIC,CLINICN,CLNAM,SER,SERN,SERNAM)=""
"RTN","SDWLCU1",6,0)
 K ^TMP($J,"SDWLCU1"),^TMP($J,"EWL"),SDWLERR
"RTN","SDWLCU1",7,0)
 D START
"RTN","SDWLCU1",8,0)
 D DISPLAY
"RTN","SDWLCU1",9,0)
 D ^SDWLCU5
"RTN","SDWLCU1",10,0)
 D NULL
"RTN","SDWLCU1",11,0)
 W !!," *****  EWL CLEANUP RUN HAS FINISHED  *****"
"RTN","SDWLCU1",12,0)
 W !!,"==>> Run option until list is clean.",!
"RTN","SDWLCU1",13,0)
 D EXIT
"RTN","SDWLCU1",14,0)
 Q
"RTN","SDWLCU1",15,0)
START ;
"RTN","SDWLCU1",16,0)
 F  S INST=$O(^SDWL(409.3,"C",INST)) Q:INST<1  D
"RTN","SDWLCU1",17,0)
 .S CODE=$$GET1^DIQ(4,INST_",",11,"I") D
"RTN","SDWLCU1",18,0)
 ..S IEN="" F  S IEN=$O(^SDWL(409.3,"C",INST,IEN)) Q:IEN<1  D
"RTN","SDWLCU1",19,0)
 ...S INCK="" S INCK=$$TF^XUAF4(INST)
"RTN","SDWLCU1",20,0)
 ...IF CODE'="N"!('INCK) D SAVE
"RTN","SDWLCU1",21,0)
 Q
"RTN","SDWLCU1",22,0)
SAVE ;
"RTN","SDWLCU1",23,0)
 S ^TMP($J,"EWL",$J,IEN)=^SDWL(409.3,IEN,0)
"RTN","SDWLCU1",24,0)
 IF +$P($G(^SDWL(409.3,IEN,0)),"^",5)=1 S WLTC1=WLTC1+1 D
"RTN","SDWLCU1",25,0)
 .S TEAM=+$P($G(^SDWL(409.3,IEN,0)),"^",6),TEAMN=$P(^SCTM(404.51,TEAM,0),"^",1),^TMP($J,"SDWLCU1",1,INST,TEAM,TEAMN,IEN)=""
"RTN","SDWLCU1",26,0)
 IF +$P($G(^SDWL(409.3,IEN,0)),"^",5)=2 S WLTC2=WLTC2+1 D
"RTN","SDWLCU1",27,0)
 .S POS=+$P($G(^SDWL(409.3,IEN,0)),"^",7),POSNAM=$P(^SCTM(404.57,POS,0),"^",1),^TMP($J,"SDWLCU1",2,INST,POS,POSNAM,IEN)=""
"RTN","SDWLCU1",28,0)
 IF +$P($G(^SDWL(409.3,IEN,0)),"^",5)=3 S WLTC3=WLTC3+1 D
"RTN","SDWLCU1",29,0)
 .S SER=+$P($G(^SDWL(409.3,IEN,0)),"^",8),SERN=+$P(^SDWL(409.31,SER,0),"^",1),SERNAM=$$GET1^DIQ(40.7,SERN_",",.01),^TMP($J,"SDWLCU1",3,INST,SER,IEN)=""
"RTN","SDWLCU1",30,0)
 IF +$P($G(^SDWL(409.3,IEN,0)),"^",5)=4 S WLTC4=WLTC4+1 D
"RTN","SDWLCU1",31,0)
 .S CLINIC=+$P($G(^SDWL(409.3,IEN,0)),"^",9),CLINICN=+$P(^SDWL(409.32,CLINIC,0),"^",1),CLNAM=$$GET1^DIQ(44,CLINICN_",",.01),^TMP($J,"SDWLCU1",4,INST,CLINIC,IEN)=""
"RTN","SDWLCU1",32,0)
 Q
"RTN","SDWLCU1",33,0)
DISPLAY ;
"RTN","SDWLCU1",34,0)
 S (CC,COUNT)="" F  S CC=$O(^TMP($J,"EWL",$J,CC)) Q:CC=""  S COUNT=COUNT+1
"RTN","SDWLCU1",35,0)
 Q:COUNT<1
"RTN","SDWLCU1",36,0)
 W #
"RTN","SDWLCU1",37,0)
 W !,COUNT,?10,"ENTRIES IN SD WAIT LIST POINT TO AN INSTITUTION WITH"
"RTN","SDWLCU1",38,0)
 W !,?10,"A STATUS NOT EQUAL TO NATIONAL OR ISN'T A TREATING FACILITY."
"RTN","SDWLCU1",39,0)
 IF WLTC1>.5 S (COUNT1,INST)="" D
"RTN","SDWLCU1",40,0)
 .F  S INST=$O(^TMP($J,"SDWLCU1",1,INST)) Q:INST<1  D
"RTN","SDWLCU1",41,0)
 ..S IEN="" F  S IEN=$O(^TMP($J,"SDWLCU1",1,INST,IEN)) Q:IEN=""  S COUNT1=COUNT1+1
"RTN","SDWLCU1",42,0)
 .W !!,WLTC1,?10,"ENTRIES POINT TO FILE TEAM (404.51) AND "
"RTN","SDWLCU1",43,0)
 .W !,COUNT1,?10,"INSTITUTION(S) MUST BE CORRECTED."
"RTN","SDWLCU1",44,0)
 IF WLTC2>.5 S (COUNT1,INST)="" D
"RTN","SDWLCU1",45,0)
 .F  S INST=$O(^TMP($J,"SDWLCU1",2,INST)) Q:INST<1  D
"RTN","SDWLCU1",46,0)
 ..S IEN="" F  S IEN=$O(^TMP($J,"SDWLCU1",2,INST,IEN)) Q:IEN=""  S COUNT1=COUNT1+1
"RTN","SDWLCU1",47,0)
 .W !!,WLTC2,?10,"ENTRIES POINT TO FILE TEAM POSITION (404.57) AND "
"RTN","SDWLCU1",48,0)
 .W !,COUNT1,?10,"INSTITUTION(S) MUST BE CORRECTED."
"RTN","SDWLCU1",49,0)
 IF WLTC3>.5 S (COUNT1,INST)="" D
"RTN","SDWLCU1",50,0)
 .F  S INST=$O(^TMP($J,"SDWLCU1",3,INST)) Q:INST<1  D
"RTN","SDWLCU1",51,0)
 ..S IEN="" F  S IEN=$O(^TMP($J,"SDWLCU1",3,INST,IEN)) Q:IEN=""  S COUNT1=COUNT1+1
"RTN","SDWLCU1",52,0)
 .W !!,WLTC3,?10,"ENTRIES POINT TO FILE SD WL SERVICE/SPECIALTY (409.31) AND"
"RTN","SDWLCU1",53,0)
 .W !,COUNT1,?10,"INSTITUTION(S) MUST BE CORRECTED."
"RTN","SDWLCU1",54,0)
 IF WLTC4>.5  S (COUNT1,INST)="" D
"RTN","SDWLCU1",55,0)
 .F  S INST=$O(^TMP($J,"SDWLCU1",4,INST)) Q:INST<1  D
"RTN","SDWLCU1",56,0)
 ..S IEN="" F  S IEN=$O(^TMP($J,"SDWLCU1",4,INST,IEN)) Q:IEN=""  S COUNT1=COUNT1+1
"RTN","SDWLCU1",57,0)
 .W !!,WLTC4,?10,"ENTRIES POINT TO FILE SD WL CLINIC LOCATION (409.32) AND"
"RTN","SDWLCU1",58,0)
 .W !,COUNT1,?10,"INSTITUTION(S) MUST BE CORRECTED."
"RTN","SDWLCU1",59,0)
EDIT ;
"RTN","SDWLCU1",60,0)
 I WLTC1="",WLTC2="",WLTC3="",WLTC4="" Q
"RTN","SDWLCU1",61,0)
 S X=""
"RTN","SDWLCU1",62,0)
 I WLTC1 S X="1:PCMM TEAM ASSIGNMENT;"
"RTN","SDWLCU1",63,0)
 I WLTC2 S X=X_"2:PCMM POSITION ASSIGNMENT;"
"RTN","SDWLCU1",64,0)
 I WLTC3 S X=X_"3:SERVICE/SPECIALTY;"
"RTN","SDWLCU1",65,0)
 I WLTC4 S X=X_"4:SPECIFIC CLINIC"
"RTN","SDWLCU1",66,0)
 S DIR(0)="SO^"_X
"RTN","SDWLCU1",67,0)
 S DIR("L",1)="      Select Wait List Type:  (or Enter '^' to EXIT)"
"RTN","SDWLCU1",68,0)
 S DIR("L",2)=""
"RTN","SDWLCU1",69,0)
 S:WLTC1 DIR("L",3)="          1. PCMM TEAM ASSIGNMENT"
"RTN","SDWLCU1",70,0)
 S:WLTC2 DIR("L",4)="          2. PCMM POSITION ASSIGNMENT"
"RTN","SDWLCU1",71,0)
 S:WLTC3 DIR("L",5)="          3. SERVICE/SPECIALTY"
"RTN","SDWLCU1",72,0)
 S:WLTC4 DIR("L",6)="          4. SPECIFIC CLINIC"
"RTN","SDWLCU1",73,0)
 S DIR("A")="Select Wait List Type:  (or Enter '^' to EXIT)"
"RTN","SDWLCU1",74,0)
 D ^DIR G EXIT:$D(DUOUT),EDIT:Y=""
"RTN","SDWLCU1",75,0)
 I Y=4!(Y=3) S SDWLTY=+Y,SDWLR=SDWLTY_"^SDWLCU3" D @SDWLR G DISPLAY
"RTN","SDWLCU1",76,0)
 I Y=1!(Y=2) S SDWLTY=+Y,SDWLR=SDWLTY_"^SDWLCU2" D @SDWLR G DISPLAY
"RTN","SDWLCU1",77,0)
NULL ;
"RTN","SDWLCU1",78,0)
 W !!,"** CHECK KEY FIELDS FOR NULL VALUE **",!!
"RTN","SDWLCU1",79,0)
QUE ;Queue Report
"RTN","SDWLCU1",80,0)
 N ZTQUEUED,POP
"RTN","SDWLCU1",81,0)
 K %ZIS,IOP,IOC,ZTIO,SDWLSPT S %ZIS="MQ" D ^%ZIS G:POP QUE1
"RTN","SDWLCU1",82,0)
 S ZTRTN="^SDWLCU6",ZTDTH=$H,ZTDESC="WAIT LIST KEY FIELD-NULL REPORT"
"RTN","SDWLCU1",83,0)
 ;S SDWLTASK="" F  S SDWLTASK=$O(^TMP("SDWLQOF",$J,SDWLTASK)) Q:SDWLTASK=""  D
"RTN","SDWLCU1",84,0)
 ;.S SDWLTK=$G(^TMP("SDWLQOF",$J,SDWLTASK))
"RTN","SDWLCU1",85,0)
 ;.S ZTSAVE(SDWLTASK)=SDWLTK
"RTN","SDWLCU1",86,0)
 I $D(IO("Q")) K IO("Q") D ^%ZTLOAD W !,"REQUEST QUEUED" G QEND
"RTN","SDWLCU1",87,0)
QUE1 I $D(ZTRTN) U IO D @ZTRTN
"RTN","SDWLCU1",88,0)
 ;
"RTN","SDWLCU1",89,0)
QEND ;
"RTN","SDWLCU1",90,0)
 K DIR,DIC,DR,DIE,ZTDTH,ZTDESC,ZTRTN
"RTN","SDWLCU1",91,0)
 D ^%ZISC
"RTN","SDWLCU1",92,0)
 Q
"RTN","SDWLCU1",93,0)
EXIT ;
"RTN","SDWLCU1",94,0)
 K ^TMP($J,"SDWLCU1"),^TMP($J,"EWL")
"RTN","SDWLCU1",95,0)
 K IEN,REC,NUM,NN,COUNT,CC,TOTAL,WLTC1,WLTC2,WLTC3,WLTC4,INST,CODE,NAME,ANS,HEAD,INCK
"RTN","SDWLCU1",96,0)
 K INST1,INST2,INST3,INST4,POS,POSNAM,TEAM,TEAMN,CLINIC,CLINICN,CLNAM,SER,SERN,SERNAM
"RTN","SDWLCU1",97,0)
 K TEAM,TEAMN,INST,SSN,SDWLERR
"RTN","SDWLCU1",98,0)
 K C,COUNT1,CS,ENTRY,PAT,SDREC,SDWLDA,SDWLI,SDWLIENS,SDWLIN,SDWLINS
"RTN","SDWLCU1",99,0)
 K SDWLINSN,SDWLINST,SDWLIX,SDWLIZ,SDWLPO,SDWLR,SDWLSC,SDWLSCX,SDWLSS
"RTN","SDWLCU1",100,0)
 K SDWLSSN,SDWLSSX,SDWLTM,SDWLTY,TAG,SDWLSSV,ZCC
"RTN","SDWLCU1",101,0)
 Q
"RTN","SDWLCU5")
0^3^B26978724
"RTN","SDWLCU5",1,0)
SDWLCU5 ;IOFO BAY PINES/TEH - EWL FILE 409.3 CLEANUP ;2/4/03
"RTN","SDWLCU5",2,0)
 ;;5.3;scheduling;**280,427**;AUG 13 1993
"RTN","SDWLCU5",3,0)
EN ;
"RTN","SDWLCU5",4,0)
 W !!,"Checking file 404.51 one last time.",!
"RTN","SDWLCU5",5,0)
 S SDWLERR="",TEAM=0 F  S TEAM=$O(^SCTM(404.51,TEAM)) Q:'TEAM  D  Q:SDWLERR=1
"RTN","SDWLCU5",6,0)
 . S INST=$$GET1^DIQ(404.51,TEAM_",",.07,"I")
"RTN","SDWLCU5",7,0)
 . S CODE=$$GET1^DIQ(4,INST_",",11,"I")
"RTN","SDWLCU5",8,0)
 . S INCK=$$TF^XUAF4(INST)
"RTN","SDWLCU5",9,0)
 . I CODE'="N"!('INCK) D
"RTN","SDWLCU5",10,0)
 .. W !!,"TEAM: ",$$GET1^DIQ(404.51,TEAM_",",.01),"    INSTITUTION: "
"RTN","SDWLCU5",11,0)
 .. W $$GET1^DIQ(4,INST_",",.01)
"RTN","SDWLCU5",12,0)
 .. D EDIT^SDWLCU2
"RTN","SDWLCU5",13,0)
 Q:SDWLERR=1
"RTN","SDWLCU5",14,0)
 ;
"RTN","SDWLCU5",15,0)
 W !!,"Checking file 409.31 one last time.",!
"RTN","SDWLCU5",16,0)
40931 S SDWLSS=0 F  S SDWLSS=$O(^SDWL(409.31,SDWLSS)) Q:'SDWLSS  D  Q:SDWLERR=1
"RTN","SDWLCU5",17,0)
 . S SDWLINS="" F  S SDWLINS=$O(^SDWL(409.31,SDWLSS,"I","B",SDWLINS)) Q:'SDWLINS  D  Q:SDWLERR=1
"RTN","SDWLCU5",18,0)
 .. S CODE=$$GET1^DIQ(4,SDWLINS_",",11,"I")
"RTN","SDWLCU5",19,0)
 .. S INCK=$$TF^XUAF4(SDWLINS)
"RTN","SDWLCU5",20,0)
 .. I CODE'="N"!('INCK) D
"RTN","SDWLCU5",21,0)
 ... W !!,"SERVICE SPECIALTY: ",$$GET1^DIQ(409.31,SDWLSS_",",.01),"    INSTITUTION: "
"RTN","SDWLCU5",22,0)
 ... W $$GET1^DIQ(4,SDWLINS_",",.01)
"RTN","SDWLCU5",23,0)
 ... D GETINS Q:SDWLERR=1
"RTN","SDWLCU5",24,0)
 ... S SDWLSSX="" F  S SDWLSSX=$O(^SDWL(409.31,SDWLSS,"I","B",SDWLINS,SDWLSSX)) Q:'SDWLSSX  D  Q:SDWLERR=1
"RTN","SDWLCU5",25,0)
 .... D C3^SDWLCU3
"RTN","SDWLCU5",26,0)
 Q:SDWLERR=1
"RTN","SDWLCU5",27,0)
40932 W !!,"Checking file 409.32 one last time.",!
"RTN","SDWLCU5",28,0)
 S SDWLSC=0 F  S SDWLSC=$O(^SDWL(409.32,SDWLSC)) Q:'SDWLSC  D  Q:SDWLERR=1
"RTN","SDWLCU5",29,0)
 . S SDWLINS=$$GET1^DIQ(409.32,SDWLSC_",",.02,"I")
"RTN","SDWLCU5",30,0)
 . S CODE=$$GET1^DIQ(4,SDWLINS_",",11,"I")
"RTN","SDWLCU5",31,0)
 . S INCK=$$TF^XUAF4(SDWLINS)
"RTN","SDWLCU5",32,0)
 . I CODE'="N"!('INCK) D
"RTN","SDWLCU5",33,0)
 .. W !!,"CLINIC: ",$$GET1^DIQ(409.32,SDWLSC_",",.01),"    INSTITUTION: "
"RTN","SDWLCU5",34,0)
 .. W $$GET1^DIQ(4,SDWLINS_",",.01)
"RTN","SDWLCU5",35,0)
 .. D GETINS Q:SDWLERR=1
"RTN","SDWLCU5",36,0)
 .. K ^SDWL(409.32,"C",+SDWLINS) S $P(^SDWL(409.32,SDWLSC,0),U,6)=SDWLINSN,^SDWL(409.32,"C",SDWLINSN,SDWLSC)=""
"RTN","SDWLCU5",37,0)
 .. S SDWLIN(44,+$P(^SDWL(409.32,SDWLSC,0),"^")_",",3)=SDWLINSN D UPDATE^DIE("","SDWLIN","SDWLMSG") K SDWLIN
"RTN","SDWLCU5",38,0)
 K ^SDWL(409.32,"ACT") S DIK="^SDWL(409.32," D IXALL^DIK
"RTN","SDWLCU5",39,0)
 Q:SDWLERR=1
"RTN","SDWLCU5",40,0)
 W !!,"Checking file 409.3 one last time.",!
"RTN","SDWLCU5",41,0)
 S SDWLERR=""
"RTN","SDWLCU5",42,0)
 S SDWLDA=0,TAG="CHK" F  S SDWLDA=$O(^SDWL(409.3,SDWLDA)) Q:SDWLDA<1  D  Q:SDWLERR=1
"RTN","SDWLCU5",43,0)
 .S X=$G(^SDWL(409.3,SDWLDA,0)),SDWLINST=$P(X,"^",3),SDWLTY=$P(X,"^",5)
"RTN","SDWLCU5",44,0)
 .Q:'SDWLTY!'SDWLINST
"RTN","SDWLCU5",45,0)
 .S SDWLI=$P(X,"^",SDWLTY+5) Q:'SDWLI
"RTN","SDWLCU5",46,0)
 .S TAG="CHK",TAG=TAG_SDWLTY,C=0 K ^TMP($J,"SDWLCU5",$J) D @TAG
"RTN","SDWLCU5",47,0)
 W !,"Done."
"RTN","SDWLCU5",48,0)
 Q
"RTN","SDWLCU5",49,0)
CHK1 ;CHECK FOR INSTITUTION VALIDILITY
"RTN","SDWLCU5",50,0)
 S SDWLERR=0
"RTN","SDWLCU5",51,0)
 I SDWLTY=1 S SDWLI=0 F  S SDWLI=$O(^SCTM(404.51,"AINST",SDWLI)) Q:SDWLI=""  I $D(^DIC(4,SDWLI)) S C=C+1,^TMP($J,"SDWLCU5",$J,C,SDWLI)="",^TMP($J,"SDWLCU5",$J,"B",SDWLI)=""
"RTN","SDWLCU5",52,0)
 I $D(^TMP($J,"SDWLCU5",$J,"B",SDWLINST)) Q
"RTN","SDWLCU5",53,0)
 K ^TMP($J,"SDWLCU5",$J,"B")
"RTN","SDWLCU5",54,0)
 I 'C S SDWLINSN=$S($D(DUZ(2)):DUZ(2),1:"") D CH1E Q
"RTN","SDWLCU5",55,0)
 I C=1 S SDWLINSN=$O(^TMP($J,"SDWLCU5",$J,C,0)) D CH1E Q
"RTN","SDWLCU5",56,0)
 W !,"Please select a valid Institution for this record from the following list for",!
"RTN","SDWLCU5",57,0)
 D DIS
"RTN","SDWLCU5",58,0)
 S C=0,SDWLI="" F  S C=$O(^TMP($J,"SDWLCU5",$J,C)) Q:C<1  D
"RTN","SDWLCU5",59,0)
 .F  S SDWLI=$O(^TMP($J,"SDWLCU5",$J,C,SDWLI)) Q:SDWLI=""  W !,?20,C,". ",$$GET1^DIQ(4,SDWLI_",",.01) S CS=C
"RTN","SDWLCU5",60,0)
CHK10 W ! S DIR(0)="NO^1:"_CS D ^DIR
"RTN","SDWLCU5",61,0)
 I Y<1!($D(DUOUT)) W !,"Response Required." S SDWLERR=1 Q
"RTN","SDWLCU5",62,0)
 S SDWLINSN=$O(^TMP($J,"SDWLCU5",$J,+Y,0))
"RTN","SDWLCU5",63,0)
CH1E S SDWLINS(409.3,SDWLDA_",",2)=SDWLINSN D UPDATE^DIE("","SDWLINS","SDWLMSG")
"RTN","SDWLCU5",64,0)
 S TAG="CHK"
"RTN","SDWLCU5",65,0)
 Q
"RTN","SDWLCU5",66,0)
CHK3 ;
"RTN","SDWLCU5",67,0)
 S SDWLERR=""
"RTN","SDWLCU5",68,0)
 S SDWLI=$P(^SDWL(409.3,SDWLDA,0),U,8)
"RTN","SDWLCU5",69,0)
 Q:'SDWLI!'$D(^SDWL(409.31,SDWLI))
"RTN","SDWLCU5",70,0)
 I '$D(^SDWL(409.31,SDWLI,"I","B",SDWLINST)) D  Q:SDWLERR=1
"RTN","SDWLCU5",71,0)
 .S SDWLIX="",C=0 F  S SDWLIX=$O(^SDWL(409.31,SDWLI,"I","B",SDWLIX)) Q:SDWLIX=""  S C=C+1,^TMP($J,"SDWLCU5",$J,C,SDWLIX)="",^TMP($J,"SDWLCU5",$J,"B",SDWLIX)=""
"RTN","SDWLCU5",72,0)
 .I 'C S SDWLINSN=$S($D(DUZ(2)):DUZ(2),1:""),Y=1 D CHE3 Q
"RTN","SDWLCU5",73,0)
 .I C=1 S SDWLINSN=$O(^TMP($J,"SDWLCU5",$J,C,0)),Y=1 D CHE3 Q
"RTN","SDWLCU5",74,0)
 .W !,"Please select a valid Institution for this record from the following list for",!
"RTN","SDWLCU5",75,0)
 .D DIS
"RTN","SDWLCU5",76,0)
 .S C=0,SDWLIZ=0 F  S SDWLIZ=$O(^SDWL(409.31,SDWLI,"I","B",SDWLIZ)) Q:SDWLIZ=""  D
"RTN","SDWLCU5",77,0)
 ..Q:$$GET1^DIQ(4,SDWLIZ_",",11,"I")'="N"!('$$TF^XUAF4(SDWLIZ))
"RTN","SDWLCU5",78,0)
 ..S C=C+1 W !,?20,C,". ",$$GET1^DIQ(4,SDWLIZ_",",.01)
"RTN","SDWLCU5",79,0)
 .W ! S DIR(0)="NO^1:"_C D ^DIR
"RTN","SDWLCU5",80,0)
 .I $D(DUOUT)!(Y="") S SDWLERR=1 Q
"RTN","SDWLCU5",81,0)
 .S SDWLINSN=$O(^TMP($J,"SDWLCU5",$J,+Y,0))
"RTN","SDWLCU5",82,0)
 .D CHE3
"RTN","SDWLCU5",83,0)
 Q
"RTN","SDWLCU5",84,0)
CHE3 ;
"RTN","SDWLCU5",85,0)
 G CHK3:Y<0
"RTN","SDWLCU5",86,0)
 S SDWLINS(409.3,SDWLDA_",",2)=SDWLINSN D UPDATE^DIE("","SDWLINS","SDWLMSG")
"RTN","SDWLCU5",87,0)
 S TAG="CHK"
"RTN","SDWLCU5",88,0)
 Q
"RTN","SDWLCU5",89,0)
CHK4 ;
"RTN","SDWLCU5",90,0)
 S SDWLI=$P(^SDWL(409.3,SDWLDA,0),U,9)
"RTN","SDWLCU5",91,0)
 Q:'SDWLI!'$D(^SDWL(409.32,SDWLI,0))
"RTN","SDWLCU5",92,0)
 I $P(^SDWL(409.32,SDWLI,0),U,6)'=SDWLINST D
"RTN","SDWLCU5",93,0)
 .D DIS
"RTN","SDWLCU5",94,0)
 .S SDWLINSN=$P(^SDWL(409.32,SDWLI,0),U,6),SDWLINS(409.3,SDWLDA_",",2)=SDWLINSN D UPDATE^DIE("","SDWLINS","SDWLMSG")
"RTN","SDWLCU5",95,0)
 Q
"RTN","SDWLCU5",96,0)
CHK2 ;
"RTN","SDWLCU5",97,0)
 S SDWLPO=$P($G(^SDWL(409.3,SDWLDA,0)),U,7),SDWLTM=$P($G(^SCTM(404.57,SDWLPO,0)),U,2),SDWLINSN=$P($G(^SCTM(404.51,SDWLTM,0)),U,7)
"RTN","SDWLCU5",98,0)
 I SDWLINST'=SDWLINSN D
"RTN","SDWLCU5",99,0)
 .S SDWLINS(409.3,SDWLDA_",",2)=SDWLINSN D UPDATE^DIE("","SDWLINS","SDWLMSG")
"RTN","SDWLCU5",100,0)
 S TAG="CHK"
"RTN","SDWLCU5",101,0)
 Q
"RTN","SDWLCU5",102,0)
DIS ;display record
"RTN","SDWLCU5",103,0)
 S NN=$P($G(^SDWL(409.3,SDWLDA,0)),"^"),NAME=$$GET1^DIQ(2,NN_",",.01,"E")
"RTN","SDWLCU5",104,0)
 S SSN=$$GET1^DIQ(2,NN_",",.09)
"RTN","SDWLCU5",105,0)
 W !,"Record#: ",SDWLDA,"  Patient: ",NAME," (",SSN,")",!!
"RTN","SDWLCU5",106,0)
 Q
"RTN","SDWLCU5",107,0)
GETINS ;Get institution
"RTN","SDWLCU5",108,0)
 N DIR
"RTN","SDWLCU5",109,0)
 S DIR("A")="Select Institution: "
"RTN","SDWLCU5",110,0)
 S DIR(0)="PAO^4:EMZ",DIR("S")="I $P(^DIC(4,+Y,0),U,11)=""N"",$$TF^XUAF4(+Y)" D ^DIR
"RTN","SDWLCU5",111,0)
 I X["^" S SDWLERR=1 Q
"RTN","SDWLCU5",112,0)
 I Y<1 W *7,"Invalid Entry" G GETINS
"RTN","SDWLCU5",113,0)
 S SDWLINSN=+Y
"RTN","SDWLCU5",114,0)
 Q
"RTN","SDWLCU6")
0^4^B10350160
"RTN","SDWLCU6",1,0)
SDWLCU6 ;IOFO BAY PINES/DMR - EWL FILE 409.3 CLEANUP - print ;2/15/05
"RTN","SDWLCU6",2,0)
 ;;5.3;scheduling;**427**;AUG 13 1993
"RTN","SDWLCU6",3,0)
 N XFL,XFL1,XFLG,XDATA,END,SDWLAPTD,I,J,SDWLPD,SDWLPG,SDWLWD,SDWLTP,SDWLTP1
"RTN","SDWLCU6",4,0)
 S (IEN,PAT)="",(CC,SDWLPG,SDWLTP)=0,U="^",END=""
"RTN","SDWLCU6",5,0)
 D NOW^%DTC S Y=% D DD^%DT S SDWLDTP=Y
"RTN","SDWLCU6",6,0)
 D HD
"RTN","SDWLCU6",7,0)
 F  S PAT=$O(^SDWL(409.3,"B",PAT)) Q:PAT=""  D  Q:END
"RTN","SDWLCU6",8,0)
 .S IEN="" F  S IEN=$O(^SDWL(409.3,"B",PAT,IEN)) Q:IEN=""  D  Q:END
"RTN","SDWLCU6",9,0)
 ..S SDWLX=$G(^SDWL(409.3,IEN,0)),XFLG="",XFL=1,SDWLWD="",SDWLTP1=""
"RTN","SDWLCU6",10,0)
 ..F I=3,5,XFL S XDATA=$P(SDWLX,U,I) S:I=5&XDATA XFL=XDATA+5 S:'XDATA XFLG=XFLG_I I I=5,XFL=1 D FIX
"RTN","SDWLCU6",11,0)
 ..I XFLG D
"RTN","SDWLCU6",12,0)
 ...D HD:$Y+5>IOSL Q:END
"RTN","SDWLCU6",13,0)
 ...S NN="",NAME="" S NN=$P($G(^SDWL(409.3,IEN,0)),"^",1),NAME=$$GET1^DIQ(2,NN_",",.01,"E")
"RTN","SDWLCU6",14,0)
 ...S SDWLAPTD=$P(SDWLX,U,16) I SDWLAPTD'="" S Y=SDWLAPTD D DD^%DT S SDWLAPTD=Y
"RTN","SDWLCU6",15,0)
 ...W !!,IEN,?6,NAME,?40,SDWLAPTD,?54,$P(SDWLX,U,17),?58
"RTN","SDWLCU6",16,0)
 ...S XFL="" F I=1:1:3 Q:$E(XFLG,I)=""  S XFL=XFL_$S(XFL'="":",",1:"")_$P("::INST::Type:Team:Postn:Srv/Spec:Clinic",":",$E(XFLG,I))
"RTN","SDWLCU6",17,0)
 ...W XFL W:SDWLTP1'="" "/++"
"RTN","SDWLCU6",18,0)
 ...W:SDWLWD'="" !,?5,SDWLWD
"RTN","SDWLCU6",19,0)
 ...S CC=CC+1
"RTN","SDWLCU6",20,0)
 Q:END
"RTN","SDWLCU6",21,0)
 IF CC>.5 W !!,"TOTAL null field error EWL entries: "_CC
"RTN","SDWLCU6",22,0)
 I SDWLTP>.5 W !!,"++ Missing Wait List Type and corresponding field entry (TEAM,POSITION,",!,"     SERVICE/SPECIALTY,CLINIC). Correct corresponding field entries",!,"     and running report again will correct Wait List Type field"
"RTN","SDWLCU6",23,0)
 D CLINIC
"RTN","SDWLCU6",24,0)
 W !!,"** End of Report **"
"RTN","SDWLCU6",25,0)
 Q
"RTN","SDWLCU6",26,0)
CLINIC ;Display all clinics in file 409.32 that need to be cleaned up in file 44 in mail message
"RTN","SDWLCU6",27,0)
 S INST="",CLINIC=0,CC=0
"RTN","SDWLCU6",28,0)
 F  S CLINIC=$O(^SDWL(409.32,CLINIC)) Q:'CLINIC  D
"RTN","SDWLCU6",29,0)
 . S INST=$$GET1^DIQ(44,+$G(^SDWL(409.32,CLINIC,0))_",",3,"I")
"RTN","SDWLCU6",30,0)
 . I $$GET1^DIQ(4,INST_",",11,"I")'="N"!('$$TF^XUAF4(INST)) D
"RTN","SDWLCU6",31,0)
 .. S CC=CC+1
"RTN","SDWLCU6",32,0)
 .. I CC=1 W !!!,"The following clinics need to have the institution cleaned in file 44:",!!
"RTN","SDWLCU6",33,0)
 .. W !,?20,$$GET1^DIQ(44,+$G(^SDWL(409.32,CLINIC,0))_",",.01)
"RTN","SDWLCU6",34,0)
 Q
"RTN","SDWLCU6",35,0)
FIX ;fix corrupted Wait List Type piece 5
"RTN","SDWLCU6",36,0)
 S XFL1=0,SDWLTP1=""
"RTN","SDWLCU6",37,0)
 F J=6:1:9 S XDATA=$P(SDWLX,U,J) S:XDATA'="" XFL1=J
"RTN","SDWLCU6",38,0)
 I 'XFL1 S SDWLTP=SDWLTP+1,SDWLTP1="++" Q
"RTN","SDWLCU6",39,0)
 I XFL'=1,XFL=XFL1 Q
"RTN","SDWLCU6",40,0)
 S $P(SDWLX,U,5)=XFL1-5,XFL=XFL1,^SDWL(409.3,IEN,0)=SDWLX
"RTN","SDWLCU6",41,0)
 S SDWLWD="** WAIT LIST TYPE corrected to value: "_(XFL1-5)_" ("_$P("TEAM;POSITION;SERV/SPCLTY;CLINIC",";",XFL1-5)_")"
"RTN","SDWLCU6",42,0)
 Q
"RTN","SDWLCU6",43,0)
HD ;HDR
"RTN","SDWLCU6",44,0)
 I SDWLPG>0,$E(IOST,1,2)="C-" S END=$$EOP^ESPUTIL() Q:END
"RTN","SDWLCU6",45,0)
 S SDWLPG=SDWLPG+1 W:SDWLPG'=1 @IOF
"RTN","SDWLCU6",46,0)
 W !,?15,"Wait List Key Field 'NULL' Report"
"RTN","SDWLCU6",47,0)
 S Y=DT D DD^%DT S SDWLPD=Y W ?57,SDWLPD,?72,"Page: ",SDWLPG
"RTN","SDWLCU6",48,0)
 W !!,"STATION: "_DUZ(2)
"RTN","SDWLCU6",49,0)
 W !!,"IEN   Patient Name",?42,"Wait Date",?53,"STS",?58,"Null Fields"
"RTN","SDWLCU6",50,0)
 Q
"RTN","SDWLDISP")
0^5^B33707082
"RTN","SDWLDISP",1,0)
SDWLDISP ;;IOFO BAY PINES/TEH - WAIT LIST - DISPOSITION WAIT LIST ENTRY;06/12/2002 ; 20 Aug 2002  2:10 PM
"RTN","SDWLDISP",2,0)
 ;;5.3;scheduling;**263,273,427**;AUG 13 1993
"RTN","SDWLDISP",3,0)
 ;
"RTN","SDWLDISP",4,0)
 ;
"RTN","SDWLDISP",5,0)
 ;******************************************************************
"RTN","SDWLDISP",6,0)
 ;                             CHANGE LOG
"RTN","SDWLDISP",7,0)
 ;                                               
"RTN","SDWLDISP",8,0)
 ;   DATE                        PATCH                   DESCRIPTION
"RTN","SDWLDISP",9,0)
 ;   ----                        -----                   -----------
"RTN","SDWLDISP",10,0)
 ;  11/19/2002                 SD*5.3*273              EN1+4 CHECK FOR "^"
"RTN","SDWLDISP",11,0)
 ;  11/19/2002                 SD*5.3*273              REMOVED DIC("S") SCREEN FROM PAT
"RTN","SDWLDISP",12,0)
 ;
"RTN","SDWLDISP",13,0)
 ;
"RTN","SDWLDISP",14,0)
 ;
"RTN","SDWLDISP",15,0)
 ;
"RTN","SDWLDISP",16,0)
EN ;
"RTN","SDWLDISP",17,0)
 S SDWLERR=0 I $D(SDWLLIST),SDWLLIST D
"RTN","SDWLDISP",18,0)
 .I '$D(DFN) S SDWLERR=1 Q
"RTN","SDWLDISP",19,0)
 .I $D(DFN),'$D(^SDWL(409.3,"B",DFN)) D HD,1^VADPT,DEM^VADPT W !,VADM(1),?40,VA("PID"),*7,!,"This Patient has NO entries on the Electronic Wait List." S DIR(0)="E" D ^DIR S DUOUT=1 Q
"RTN","SDWLDISP",20,0)
 I $D(DUOUT) Q
"RTN","SDWLDISP",21,0)
 I 'SDWLERR,$D(SDWLLIST),SDWLLIST D HD S SDWLDFN=DFN K DIR,DIC,DR,DIE,VADM D 1^VADPT,DEM^VADPT W !,VADM(1),?40,VA("PID") S (SDWLBDT,SDWLEDT)="" D DIS G EN1
"RTN","SDWLDISP",22,0)
 K DIR,DIC,DR,DIE
"RTN","SDWLDISP",23,0)
 ;OPTION HEADER
"RTN","SDWLDISP",24,0)
 ;
"RTN","SDWLDISP",25,0)
 S SDWLOP=" - Disposition Patient" D HD
"RTN","SDWLDISP",26,0)
 ;
"RTN","SDWLDISP",27,0)
 ;PATIENT LOOK-UP FROM WAIT LIST PATIENT FILE (^SDWL(409.3,IEN,0).
"RTN","SDWLDISP",28,0)
 ;
"RTN","SDWLDISP",29,0)
 D PAT G END:'$D(SDWLDFN),END:SDWLDFN<0,END:SDWLDFN=""
"RTN","SDWLDISP",30,0)
 ;
"RTN","SDWLDISP",31,0)
 ;DISPLAY PATIENT DATA FROM ^SDWL(409.3,IEN,0).
"RTN","SDWLDISP",32,0)
 ;
"RTN","SDWLDISP",33,0)
 D DIS
"RTN","SDWLDISP",34,0)
 ;PROMPT USER FOR RECORD FOR DISPOSITIONING.
"RTN","SDWLDISP",35,0)
 ;
"RTN","SDWLDISP",36,0)
EN1 K DIR,DIC,DIE,DR,X,Y,SDWLERR S SDWLPS=$S(SDWLCN>1:1,SDWLCN=1:2,1:0),SDWLERR=0
"RTN","SDWLDISP",37,0)
 I SDWLPS=0 W !!,"Patient has no Wait List Entries to Disposition." S DIR(0)="E" D ^DIR G END
"RTN","SDWLDISP",38,0)
 I SDWLPS=1 S DIR(0)="FOA^^" S DIR("A")="Select Wait List (1-"_SDWLCN_") or '^' to Quit? "
"RTN","SDWLDISP",39,0)
 I SDWLPS=2 S DIR(0)="FOA^^" S DIR("A")="Disposition This 'ENTRY' or '^' to Quit? Yes // "
"RTN","SDWLDISP",40,0)
 W ! D ^DIR G END:X["^" S SDWLY=Y W !
"RTN","SDWLDISP",41,0)
 I SDWLPS=1 D
"RTN","SDWLDISP",42,0)
 .S SDWLERR=$S(X?1N.N:0,X?1"N".E:1,X?1"n".E:1,X="":1,X?1"Y".E:0,X?1"y".E:0,$D(DUOUT):1,X["^":1,1:2)
"RTN","SDWLDISP",43,0)
 I $D(SDWLERR),SDWLERR=2 W *7," Invalid Entry" G EN1
"RTN","SDWLDISP",44,0)
 I SDWLPS=2 D
"RTN","SDWLDISP",45,0)
 .S SDWLERR=$S(X="":0,X?1"Y".E:0,X?1"y":0,X?1"N".E:1,X?1"n".E:1,X["^":1,1:2)
"RTN","SDWLDISP",46,0)
 I SDWLERR=2 W *7," Invalid Entry" G EN1
"RTN","SDWLDISP",47,0)
 G END:SDWLERR
"RTN","SDWLDISP",48,0)
 I SDWLPS=2,'SDWLY S SDWLY=1
"RTN","SDWLDISP",49,0)
 S SDWLERR=0 I SDWLY?1N.N D  G EN1:SDWLERR
"RTN","SDWLDISP",50,0)
 .K DIR,DIC,DR
"RTN","SDWLDISP",51,0)
 .;
"RTN","SDWLDISP",52,0)
 .;CHECK FOR VALID ENTRY
"RTN","SDWLDISP",53,0)
 .;
"RTN","SDWLDISP",54,0)
 .I '$D(^TMP("SDWLD",$J,SDWLDFN,+SDWLY)) W " Invalid Entry " S SDWLERR=1 Q
"RTN","SDWLDISP",55,0)
 .S SDWLDA=$P($G(^TMP("SDWLD",$J,SDWLDFN,+SDWLY)),"~",2)
"RTN","SDWLDISP",56,0)
 .;
"RTN","SDWLDISP",57,0)
 .;LOCK DATA FILE
"RTN","SDWLDISP",58,0)
 .;
"RTN","SDWLDISP",59,0)
 .L ^SDWL(409.3,SDWLDA):5 I '$T W !,"Another User is Editing this Entry. Try Later." S DUOUT=1
"RTN","SDWLDISP",60,0)
 I $D(DUOUT) G END
"RTN","SDWLDISP",61,0)
 ;
"RTN","SDWLDISP",62,0)
 ;GET PATIENT DATA FROM ^SDWL(409.3,IEN,0).
"RTN","SDWLDISP",63,0)
 ;
"RTN","SDWLDISP",64,0)
 D GETDATA
"RTN","SDWLDISP",65,0)
 ;
"RTN","SDWLDISP",66,0)
 ;ENTER DISPOSITION
"RTN","SDWLDISP",67,0)
 ;  
"RTN","SDWLDISP",68,0)
 D EDIT G END:$D(DUOUT) I $D(SDWLERR) G END:SDWLERR
"RTN","SDWLDISP",69,0)
 W !,"*** Patient has been removed from Wait List. ***"
"RTN","SDWLDISP",70,0)
 K DIR,DIE,DR,DIC
"RTN","SDWLDISP",71,0)
 S DIR(0)="E" D ^DIR I $D(DUOUT) G END
"RTN","SDWLDISP",72,0)
 D END G EN
"RTN","SDWLDISP",73,0)
 ;
"RTN","SDWLDISP",74,0)
 Q
"RTN","SDWLDISP",75,0)
PAT ;PATIENT LOOK-UP
"RTN","SDWLDISP",76,0)
 ;
"RTN","SDWLDISP",77,0)
 S DIC(0)="EMNAQ",DIC=409.3 D ^DIC S (SDWLDFN,DFN)=$P(Y,U,2) G PAT1:DFN<0
"RTN","SDWLDISP",78,0)
 G PAT1:DFN=""
"RTN","SDWLDISP",79,0)
 S SDWLNAM=$$GET1^DIQ(2,DFN_",",.01)
"RTN","SDWLDISP",80,0)
 S X=$$GET1^DIQ(2,DFN_",",".351") I X'="" W !,*7,"PATIENT'S DATE OF DEATH HAS BEEN RECORDED" G PAT
"RTN","SDWLDISP",81,0)
 D 1^VADPT
"RTN","SDWLDISP",82,0)
PAT1 Q
"RTN","SDWLDISP",83,0)
 ;
"RTN","SDWLDISP",84,0)
DIS ;DISPLAY DATA FOR PATIENT
"RTN","SDWLDISP",85,0)
 ;
"RTN","SDWLDISP",86,0)
 S SDWLDISC="",SDWLCN=0,SDWLHDR="Wait List Disposition"
"RTN","SDWLDISP",87,0)
 D EN^SDWLD(SDWLDFN,VA("PID"),VADM(1))
"RTN","SDWLDISP",88,0)
 K VADM,VAIN,VA,SDWLDISC
"RTN","SDWLDISP",89,0)
 Q
"RTN","SDWLDISP",90,0)
GETDATA ;PATIENT DATA RETRIEVAL
"RTN","SDWLDISP",91,0)
 ;
"RTN","SDWLDISP",92,0)
 S SDWLDATA=$G(^SDWL(409.3,SDWLDA,0))
"RTN","SDWLDISP",93,0)
 S SDWLIN=$P(SDWLDATA,U,3),SDWLCL=+$P(SDWLDATA,U,4),SDWLTY=$P(SDWLDATA,U,5),SDWLST=$P(SDWLDATA,U,6)
"RTN","SDWLDISP",94,0)
 S SDWLSP=$P(SDWLDATA,U,7),SDWLSS=$P(SDWLDATA,U,8),SDWLSC=$P(SDWLDATA,U,9),SDWLPRI=$P(SDWLDATA,U,10),SDWLRB=$P(SDWLDATA,U,11)
"RTN","SDWLDISP",95,0)
 S SDWLPROV=$P(SDWLDATA,U,12),SDWLDAPT=$P(SDWLDATA,U,16),SDWLST=$P(SDWLDATA,U,17),SDWLDUZ=DUZ,SDWLEDT=DT
"RTN","SDWLDISP",96,0)
 S SDWLSCL="" I SDWLSC S SDWLSCL=+$P(^SDWL(409.32,SDWLSC,0),U,1)
"RTN","SDWLDISP",97,0)
 I $D(^SDWL(409.3,SDWLDA,"DIS")) S SDWLDISP=$P(^SDWL(409.3,SDWLDA,"DIS"),U,3)
"RTN","SDWLDISP",98,0)
 Q
"RTN","SDWLDISP",99,0)
EDIT ;ENTER/EDIT DISPOSITION
"RTN","SDWLDISP",100,0)
 ;
"RTN","SDWLDISP",101,0)
 S SDWLDUZ=DUZ,SDWLERR=0 K DIR,DR,DIE,DIC
"RTN","SDWLDISP",102,0)
 I $D(SDWLDISP) S DIR("B")=$$EXTERNAL^DILFD(409.3,21,,SDWLDISP)
"RTN","SDWLDISP",103,0)
 S DIR(0)="SO^D:DEATH;NC:REMOVED/NON-VA CARE;SA:REMOVED/SCHEDULED-ASSIGNED;CC:REMOVED/VA CONTRACT CARE;NN:REMOVED/NO LONGER NECESSARY;ER:ENTERED IN ERROR^"
"RTN","SDWLDISP",104,0)
 S DIR("L",1)="Disposition Reason:",DIR("L",2)="",DIR("L",3)="D DEATH",DIR("L",4)="NC REMOVED/NON-VA CARE",DIR("L",5)="SA REMOVED/SCHEDULED-ASSIGNED"
"RTN","SDWLDISP",105,0)
 S DIR("L",6)="CC REMOVED/VA CONTRACT CARE",DIR("L",7)="NN REMOVED/NO LONGER NECESSARY",DIR("L")="ER ENTERED IN ERROR"
"RTN","SDWLDISP",106,0)
 D ^DIR
"RTN","SDWLDISP",107,0)
 I X="" S DUOUT=1 Q
"RTN","SDWLDISP",108,0)
 I X="^" S DUOUT=1 Q
"RTN","SDWLDISP",109,0)
 S SDWLDISP=$S(X["D":"D",X["d":"D",X["NC":"NC",X["nc":"NC",X["SA":"SA",X["sa":"SA",X["CC":"CC",X["cc":"CC",X["NN":"NN",X["nn":"NN",X["ER":"ER",X["er":"ER",1:0)
"RTN","SDWLDISP",110,0)
 I SDWLDISP=0 S SDWLERR=1
"RTN","SDWLDISP",111,0)
 I SDWLERR W *7,"Invalid Entry" G EDIT
"RTN","SDWLDISP",112,0)
 S DIE("NO^")="NO EDITING"
"RTN","SDWLDISP",113,0)
 S DIE="^SDWL(409.3,",DA=SDWLDA,DR="21////^S X=SDWLDISP" D ^DIE
"RTN","SDWLDISP",114,0)
 S DR="19////^S X=DT" D ^DIE
"RTN","SDWLDISP",115,0)
 S DR="20////^S X=SDWLDUZ" D ^DIE
"RTN","SDWLDISP",116,0)
 S DR="23////^S X=""C""" D ^DIE
"RTN","SDWLDISP",117,0)
 I SDWLSCL K:$D(^SDWL(409.3,"SC",SDWLSCL,SDWLDA)) ^SDWL(409.3,"SC",SDWLSCL,SDWLDA)
"RTN","SDWLDISP",118,0)
 I SDWLSS K:$D(^SDWL(409.3,"SS",SDWLDFN,SDWLSS,SDWLDA)) ^SDWL(409.3,"SS",SDWLDFN,SDWLSS,SDWLDA)
"RTN","SDWLDISP",119,0)
 Q
"RTN","SDWLDISP",120,0)
HD ;HEADER
"RTN","SDWLDISP",121,0)
 ;
"RTN","SDWLDISP",122,0)
 W:$D(IOF) @IOF W !!,?80-$L("Wait List - Disposition Patient")\2,"Wait List - Disposition Patient",!!
"RTN","SDWLDISP",123,0)
 ;
"RTN","SDWLDISP",124,0)
END ;QUIT OPTION
"RTN","SDWLDISP",125,0)
 K DIC,DIR,DR,DIE,SDWLDFN,DUOUT,SDWLSCL
"RTN","SDWLDISP",126,0)
 K SDWLCL,SDWSLCN,SDWLDA,SDWLDAPT,SDWLDATA,SDWLDFN,SDWLDISP,SDWLDUZ,SDWLEDT,SDWLERR,SDWLIN,SDWLNAM,SDWLOP,SDWLPRI
"RTN","SDWLDISP",127,0)
 K SDWLPROV,SDWLPS,SDWLRB,SDWLSC,SDWLSP,SDWLSS,SDWLST,SDWLTY,SDWLY,X,Y,SDWLHDR
"RTN","SDWLDISP",128,0)
 Q
"RTN","SDWLR")
0^1^B16955255
"RTN","SDWLR",1,0)
SDWLR ;;IOFO BAY PINES/TEH - WAIT LIST - SDM1 DISPOSITION;06/12/2002 ; 20 Aug 2002  2:10 PM
"RTN","SDWLR",2,0)
 ;;5.3;scheduling;**263,427**;AUG 13 1993
"RTN","SDWLR",3,0)
 ;
"RTN","SDWLR",4,0)
 ;
"RTN","SDWLR",5,0)
 ;
"RTN","SDWLR",6,0)
 ;
"RTN","SDWLR",7,0)
 ;
"RTN","SDWLR",8,0)
 ;
"RTN","SDWLR",9,0)
 ;
"RTN","SDWLR",10,0)
EN ;
"RTN","SDWLR",11,0)
 I '$D(^SDWL(409.3,"B",DFN)) Q
"RTN","SDWLR",12,0)
 N DA,SDWLCOM
"RTN","SDWLR",13,0)
 S SDWLERR=0,SDWLCN=0
"RTN","SDWLR",14,0)
 D SB0 G END:'SDWLASK
"RTN","SDWLR",15,0)
 W !!,"THIS PATIENT IS CURRENTLY ON THE WAITING LIST FOR THIS CLINIC/SPECIALTY"
"RTN","SDWLR",16,0)
 S X=$G(^SDWL(409.3,SDWLDA,0)),SDWLIN=$P(X,U,3),SDWLCL=$P(X,U,4),SDWLTY=$P(X,U,5),SDWLPRI=$P(X,U,11)
"RTN","SDWLR",17,0)
 S SDWLDSP=$P(X,U,17)
"RTN","SDWLR",18,0)
 S SDWLDT=$P(X,U,16),SDWLTYN=$$EXTERNAL^DILFD(409.3,4,,SDWLTY),SDWLPRIN=$$EXTERNAL^DILFD(409.3,10,,SDWLPRI)
"RTN","SDWLR",19,0)
 S SDWLSTO=$P(X,U,22),SDWLSPO=$P(X,U,23),SDWLSSO=$P(X,U,24),SDWLSCO=$P(X,U,25)
"RTN","SDWLR",20,0)
 S SDWLST=$P(X,U,6),SDWLSP=$P(X,U,7),SDWLSS=$P(X,U,8),SDWLSC=$P(X,U,9),SDWLWR="" D
"RTN","SDWLR",21,0)
 .I SDWLST'="" S SDWLWR=$$EXTERNAL^DILFD(409.3,5,,SDWLST)
"RTN","SDWLR",22,0)
 .I SDWLSTO["Y" S SDWLWR="OPEN"
"RTN","SDWLR",23,0)
 .I SDWLSP'="" S SDWLWR=$$EXTERNAL^DILFD(409.3,6,,SDWLSP)
"RTN","SDWLR",24,0)
 .I SDWLSPO["Y" S SDWLWR="OPEN"
"RTN","SDWLR",25,0)
 .I SDWLSS'="" S SDWLWR=$$EXTERNAL^DILFD(409.3,7,,SDWLSS)
"RTN","SDWLR",26,0)
 .I SDWLSSO["Y" S SDWLWR="OPEN"
"RTN","SDWLR",27,0)
 .I SDWLSC'="" S SDWLWR=$$EXTERNAL^DILFD(409.3,8,,SDWLSC)
"RTN","SDWLR",28,0)
 .I SDWLSCO["^" S SDWLWR="OPEN"
"RTN","SDWLR",29,0)
 S YY=$E(SDWLDT,1,3)+1700,YY=$E(YY,3,4),MM=$E(SDWLDT,4,5),DD=$E(SDWLDT,6,7),SDWLDTP=MM_DD_YY
"RTN","SDWLR",30,0)
 S SDWLCLN="" I $D(^SC(+SDWLCL,0)) S SDWLCLN=$$GET1^DIQ(44,SDWLCL_",",1,,)
"RTN","SDWLR",31,0)
 S SDWLINN=$E($P($G(^DIC(4,+SDWLIN,0)),U,1),1,8)
"RTN","SDWLR",32,0)
 S SDWLDIS=$P($G(^SDWL(409.3,SDWLDA,"DIS")),U,3),SDWLDISN=$$EXTERNAL^DILFD(409.3,21,,SDWLDIS)
"RTN","SDWLR",33,0)
 W !,$E(SDWLTYN,1,14),?22,SDWLPRI,?25,$E(SDWLWR,1,19),?51,$E(SDWLINN,1,14) W:$D(SDWLDISC) ?67,SDWLDSP
"RTN","SDWLR",34,0)
 W ?73,SDWLDTP
"RTN","SDWLR",35,0)
 W !,"DO YOU WISH TO REMOVE FROM LIST " S %=1
"RTN","SDWLR",36,0)
 D YN^DICN I %=1 D SB1 Q
"RTN","SDWLR",37,0)
 K DIR,X
"RTN","SDWLR",38,0)
 S DIR(0)="S0^1:APPOINTMENT CRITERIA NOT MET;2:PATIENT WANTS ANOTHER APPOINTMENT;3:PROVIDER WANTS ANOTHER APPOINTMENT;4:OTHER"
"RTN","SDWLR",39,0)
 S DIR("L",1)="SELECT ONE OF THE FOLLOWING REASONS:",DIR("L",2)=""
"RTN","SDWLR",40,0)
 S DIR("L",3)="1. APPOINTMENT CRITERIA NOT MET",DIR("L",4)="2. PATIENT WANTS ANOTHER APPOINTMENT"
"RTN","SDWLR",41,0)
 S DIR("L",5)="3. PROVIDER WANTS ANOTHER APPOINTMENT",DIR("L")="4. OTHER"
"RTN","SDWLR",42,0)
 D ^DIR
"RTN","SDWLR",43,0)
 ;SD*5.3*427 added next line, fixed $S on following line & added default
"RTN","SDWLR",44,0)
 S X=$E(X,1,2) S:$E(X,2)'="R" X=$E(X)
"RTN","SDWLR",45,0)
 S SDWLX=$S(X="a":"A",X="p":"P",X="pr":"PR",X="o":"O",X="A":"A",X="P":"P",X="PR":"PR",X="O":"O",X=1:"A",X=2:"P",X=3:"PR",X=4:"O",X="^":"^",1:"")
"RTN","SDWLR",46,0)
 G EN:SDWLX["^",END:SDWLX=""
"RTN","SDWLR",47,0)
 I SDWLX="O" D
"RTN","SDWLR",48,0)
 .S DIR(0)="FAO^^",DIR("A")="Comments: " D ^DIR Q:X["^"
"RTN","SDWLR",49,0)
 .S SDWLCOM=X,DA=SDWLDA,DIE="^SDWL(409.3,",DR="18.1////^S X=SDWLCOM" D ^DIE
"RTN","SDWLR",50,0)
 S DA=SDWLDA
"RTN","SDWLR",51,0)
 S DIE="^SDWL(409.3,",DR="18////^S X=SDWLX" D ^DIE
"RTN","SDWLR",52,0)
 S DR="17////^S X=DUZ" D ^DIE
"RTN","SDWLR",53,0)
 S DR="16////^S X=DT" D ^DIE
"RTN","SDWLR",54,0)
 G END
"RTN","SDWLR",55,0)
SB0 ;-Screen Appointment for valid clinic and/or service/specialty.
"RTN","SDWLR",56,0)
 S SDWLDSS=+$P(^SC(+SC,0),U,7),SDWLASK=0
"RTN","SDWLR",57,0)
 S SDWLDA="" F  S SDWLDA=$O(^SDWL(409.3,"B",DFN,SDWLDA)) Q:SDWLDA=""  S SDWLDA(SDWLDA)=""
"RTN","SDWLR",58,0)
 I $D(^SDWL(409.3,"SC",+SC)) S SDWLDA="" F  S SDWLDA=$O(SDWLDA(SDWLDA)) Q:SDWLDA=""  I $D(^SDWL(409.3,"SC",+SC,SDWLDA)) S SDWLASK=1,SDWLDAV=SDWLDA
"RTN","SDWLR",59,0)
 I $D(^SDWL(409.3,"SS",DFN,SDWLDSS)) S SDWLDA="" F  S SDWLDA=$O(SDWLDA(SDWLDA)) Q:SDWLDA=""  I $D(^SDWL(409.3,"SS",DFN,SDWLDSS,SDWLDA)) S SDWLASK=2,SDWLDAV=SDWLDA
"RTN","SDWLR",60,0)
 I $D(SDWLDAV) S SDWLDA=SDWLDAV K SDWLDAV
"RTN","SDWLR",61,0)
 Q
"RTN","SDWLR",62,0)
SB1 ;-wants to remove patient from the wait list. Set Disposition
"RTN","SDWLR",63,0)
 I $D(SDWLDA),'$D(^SDWL(409.3,+SDWLDA)),SDWLERR=1 Q
"RTN","SDWLR",64,0)
 S DA=SDWLDA
"RTN","SDWLR",65,0)
 S DIE="^SDWL(409.3,",DR="19////^S X=DT" D ^DIE
"RTN","SDWLR",66,0)
 S DR="20////^S X=DUZ" D ^DIE
"RTN","SDWLR",67,0)
 S DR="21////^S X=""SA""" D ^DIE
"RTN","SDWLR",68,0)
 S DR="23////^S X=""C""" D ^DIE
"RTN","SDWLR",69,0)
 I SDWLASK=1 K ^SDWL(409.3,"SC",SC,SDWLDA)
"RTN","SDWLR",70,0)
 I SDWLASK=2 K ^SDWL(409.3,"SS",DFN,SDWLDSS,SDWLDA)
"RTN","SDWLR",71,0)
END K SDWLDT,SDWLIN,SDWLCL,SDWLTY,SDWLPRI,SDWLPRIN,SDWLTYN,SDWLST,SDWLSP,SDWLCLN,SDWLDTP,SDWLINN,SDWLDISN
"RTN","SDWLR",72,0)
 K SDWLPRI,SDWLWR,SDWLDA,SDWLSC,SDWLSS
"RTN","SDWLR",73,0)
 K SDWLERR,DIR,DR,DIE,X,SDWLX,SDWLDSS,SDWLASK,SDWLCOM
"RTN","SDWLR",74,0)
 Q
"VER")
8.0^22.0
"BLD",6036,6)
^SEQ #347
**END**
**END**
