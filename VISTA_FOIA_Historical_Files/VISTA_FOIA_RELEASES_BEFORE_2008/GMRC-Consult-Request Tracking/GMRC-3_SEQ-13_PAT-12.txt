$TXT Created by RUTHERFORD,JERRY at DEVCUR.ISC-SLC.VA.GOV  (KIDS) on WEDNESDAY, 05/03/00 at 12:04
=============================================================================
Run Date: MAY 18, 2000                     Designation: GMRC*3*12
Package : GMRC - CONSULT/REQUEST TRACKING     Priority: Mandatory
Version : 3        SEQ #13                      Status: Released
=============================================================================

Associated patches: (v)GMRC*3*4    <<= must be installed BEFORE `GMRC*3*12'
                    (v)GMRC*3*5    <<= must be installed BEFORE `GMRC*3*12'
                    (v)GMRC*3*10   <<= must be installed BEFORE `GMRC*3*12'
                    (v)GMRC*3*11   <<= must be installed BEFORE `GMRC*3*12'
                    (v)GMRC*3*13   <<= must be installed BEFORE `GMRC*3*12'
                    (v)GMRC*3*14   <<= must be installed BEFORE `GMRC*3*12'

Subject:  REASON FOR REQUEST & PROV DX

Category: 
  - Routine
  - Enhancement (Mandatory)
  - Input Template
  - Data Dictionary

Description: 
============

 This patch introduces new enhancements to Consult/Request Tracking.
  
 The full use of the functionality included in this patch can not be
 realized until installation of OR*3*68 and OR*3*10.
   
  DEFAULT REASON FOR REQUEST
  --------------------------
  This enhancement allows a default reason for request to be defined
  for each service in the REQUEST SERVICES (#123.5) file. 
   
  A new field has been added to the REQUEST SERVICES file. The DEFAULT
  REASON FOR REQUEST (#124) is a word-processing field that will allow any
  text to be boiler-plated and may also include TIU objects if they are
  appropriately enclosed within vertical bars (e.g. |PATIENT AGE|). When an
  order is placed for a consult to the service having this field defined,
  the default reason for request will appear in the ordering interface (CPRS
  List Manager or CPRS GUI) and may allow editing by the ordering person.
  All TIU objects will be resolved into their respective data based on the
  selected patient.  When creating quick orders for a service having this
  field defined, the default text will be included as part of the quick
  order unless deleted by the person creating the quick order. 
   
  A second new field affects the ability of a user to edit the default
  reason for request while ordering if one exists. The RESTRICT DEFAULT
  REASON EDIT (#1.03) field is a set of codes. 
   
  The field may be set to:
   
  0 - UNRESTRICTED which allows the ordering person to edit the default at
      any time while ordering before the order is released 
  1 - ASK ON EDIT ONLY will allow the user to edit the default reason only
      if the order is edited before release to the service
  2 - NO EDITING which will not allow the ordering person to edit the
      default reason at any time. 
   
  If no value is set in this field, it will be treated as UNRESTRICTED.
   
  This enhancement should reduce the reliance on quick orders for consult
  ordering within CPRS.
  
  This patch exports a new utility option to support this functionality.
   
  The Test Default Reason for Request [GMRC TEST DEFAULT REASON] option
  allows the default reason for request to be tested without placing an
  order. This option prompts for the selection of a service from the consult
  hierarchy and a patient name. The default reason will be presented based
  on the selected patient in a list manager format. This format allows
  searching, printing etc. 
  
  The Consult Management [GMRC MGR] menu option is exported and will contain
  the new option.
   
   
  PROVISIONAL DIAGNOSIS CHANGES
  -----------------------------
  This enhancement modifies the behavior of the provisional diagnosis
  prompt when ordering consults. The provisional diagnosis can now be set as
  optional or required for each service in the hierarchy. You may also
  suppress the prompting of the provisional diagnosis for a service. In
  addition, the provisional diagnosis prompt may be configured to allow a
  free text diagnosis as has been done in the past or to only allow an ICD-9
  coded diagnosis from the clinical lexicon. 
   
  There are two new fields added to the REQUEST SERVICES (#123.5) file to
  support these changes. The PROVISIONAL DX PROMPT (#1.01) field accepts one
  of 3 codes. It may be set to O for optional, S for suppress or R for
  required. The PROVISIONAL DX INPUT (#1.02) field accepts a code of F for
  free text or L for a lexicon lookup.  
   
  To accommodate storage of the ICD-9 coded diagnosis, a new field has been
  added to the REQUEST/CONSULTATION (#123) file. The PROVISIONAL DIAGNOSIS
  CODE (#30.1) field will store the ICD-9 code if one was entered. 
   
  
  
 NOTIFICATION OF DISCONTINUED CONSULTS
 -------------------------------------
 There is a new field added to the REQUEST SERVICES (#123.5) file to
 control when members configured to receive notifications for this service
 in the Consult hierarchy will be alerted to a consult being discontinued.
 The NOTIFY SERVICE ON DC (#1.04) field accepts one of 3 codes as follows:
       
      0 - ALWAYS
          service update users will receive notification of a discontinue
          regardless of who DC's the order
       
      1 - REQUESTOR ACTION
          service update users will receive notification of a discontinue
          only if the user discontinuing the consult is not an update user
          for the service
       
      2 - NEVER
          service update users will never receive notification of a
          discontinued consult
  
 The field is configured so that upon installation of the patch, there will
 be no value for a service in this field and it will continue to function
 as it did prior to the patch. Only upon changing the field for a given
 service, will the parameter have any effect.
  
  
  
 REPRINTING OF SF-513 FOR DISCONTINUED CONSULTS
 ----------------------------------------------
 There is a new field added to the REQUEST SERVICES (#123.5) file which
 will determine if the SF-513 should reprint to the consulting service when
 a consult is discontinued.
  
 The REPRINT 513 ON DC (#1.05) field accepts one of 3 codes as follows:
       
      0 - ALWAYS
          the SF-513 will always reprint to the SERVICE PRINTER when a consult
          is discontinued
       
      1 - REQUESTOR ACTION
          the SF-513 will reprint to the SERVICE PRINTER only when a
          consult is discontinued by a user that is not an update user for
          the service
          
      2 - NEVER
          the SF-513 will never reprint to the SERVICE printer regardless
          of who discontinued the consult
  
 The field is configured so that upon installation of the patch, there will
 be no value for a service in this field and it will continue to function
 as it did prior to the patch. Only upon changing the field for a given
 service, will the parameter have any effect.
  
  
  
  
 SCHEDULE ACTION ON CONSULTS
 ---------------------------
 A new action will be exported for service update users that will allow a
 consult to be updated to the status of scheduled.  The action will allow a
 comment to be entered and will allow notifications to be sent to any
 chosen individuals if a comment is entered.
  
 The patch exports the entire GMRCACTM SERVICE ACTION MENU protocol menu
 and attaches the GMRCACT SCHEDULED REQUEST protocol as the new action.
  
 When writing a progress note, if a consult title is selected, scheduled
 consults will be included in the list of consults to which the note may be
 linked. 
  
  
 CONSULT PRE-REQUISITES
 ----------------------
 There is a new field added to the REQUEST SERVICES (#123.5) file which
 will allow site defined text to be displayed to the ordering person upon
 selection of a consult service. The PREREQUISITE (#125) field is utilized
 to communicate pre-requisite information to the ordering person prior to
 ordering a consult to this service.
  
 This field will be presented to the ordering person upon selecting a
 Consult service and will allow them to abort the ordering at that time if
 they choose.  
                                  
 TIU objects may be embedded within this field which will be resolved for
 the current patient during ordering. Any TIU objects must be contained
 within vertical bars (e.g. |BLOOD PRESSURE| ).
  
  
 CONSULT HIERARCHY LISTING
 -------------------------
 A new option is exported that will list the Consult service hierarchy as
 defined in the REQUEST SERVICES (#123.5) file. The hierarchy listing
 includes disabled and tracking only service. This option is intended to
 give managers of the CONSULT/REQUEST TRACKING package the ability to view
 all services included in the consult hierarchy, regardless of the ability
 to order a given service. This option will also list any services in the
 file that are not included in the consult service hierarchy. 
  
 The List Consult Service Hierarchy [GMRC LIST HIERARCHY] option will print
 the consult hierarchy to any selected device.
  
 The Consult Management [GMRC MGR] menu option is exported and will contain
 the new option.
  
 ADDING NEW SERVICES
 -------------------
 A new entry in the REQUEST SERVICES (#123.5) file may no longer be created
 at the SUB-SERVICE/SPECIALTY prompt. The tight integration between the
 ORDERABLE ITEMS file and the REQUEST SERVICES file makes this change
 necessary. 
  
  
   
  This patch exports the following Input template: 
   GMRC SETUP REQUEST SERVICE
   
   This template now includes the new fields exported for the REQUEST
   SERVICES (#123.5) file.
   
   
   NOIS CALLS ADDRESSED:
   =====================
   PUG-0298-50670
   WPB-0598-31391
   PUG-0299-52446
   WPB-0599-32572
   CIN-1299-40364
   POP-0100-40455
   ISH-0100-41995
   DET-0100-42183
   PRO-0200-10878
   MAC-0200-60979
   PUG-0200-52437
   CTX-0300-70188
   PUG-0300-51927
   MAC-0300-62294
   
   E3R'S ADDRESSED:
   ================
   3451    CONSULT QUICK ORDERS
   5702    "PREPRINTED" FORM IN REASON FOR REQUEST
   8791    REQUIRE PROVISIONAL DIAGNOSIS
   11148   LINK PROVISIONAL DIAGNOSIS TO CLINICAL LEXICON
   11851   OBJECTS
   12063   OBJECTS FOR CONSULT REQUEST
   12340   ADD'L TYPES--CONSULT REASON FOR REQUEST
   12619   HEADER RESPONSE IN GUI & BOILERPLATE
   13419   TWO COMPLETION STATUSES
   13708   COMMUNICATING PREREQUISITES
   13907   HIERARCHY DISPLAY OPTION
   
   
   
   ROUTINE SUMMARY:
   ================
   The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
   
       <tab>;;3.0;CONSULT/REQUEST TRACKING;**[patch list]**;DEC 27, 1997
   
                            CHECK^XTSUMBLD results
 Routine name         Before Patch          After Patch         Patch List
  ============         ============          ===========         ==========
  GMRCA1                    9715854              7144946         1,4,10,12
  GMRCAAC                   3544915              3651363            4,12
  GMRCADC                   6240460              6211946         1,5,10,12
  GMRCAFRD                 16247707             16490228         1,4,10,12
  GMRCASV                  16418748             17959184            1,12
  GMRCAU                   11171896             11190730        1,4,11,14,12
  GMRCDRFR                      N/A              1597284             12
  GMRCEDT1                 19490532             19873889           1,5,12
  GMRCEDT2                  5023987              5707714           1,5,12
  GMRCEDT4                 15373697             16773348           1,5,12
  GMRCGUIA                 12423398             11896086           1,4,12
  GMRCGUIB                  7851398              9347961            4,12
  GMRCGUIC                 24884948             19207547            4,12
  GMRCGUIU                  4462961              7584692            4,12
  GMRCHL7                  10787424             10078090           1,5,12
  GMRCHL72                  7792668              8166006           1,5,12
  GMRCHL7A                 11477835             11996782           1,5,12
  GMRCHL7B                  7244609              7420247           1,5,12
  GMRCHL7U                  7643940              8350105           1,5,12
  GMRCP5                    9696657              9286352          4,13,12
  GMRCP5A                  15556144             15437565          4,13,12
  GMRCP5B                   7059510              6717714          4,13,12
  GMRCP5D                  13091977             12740529            4,12
  GMRCPR0                   9674575              9677156           1,5,12
  GMRCREXT                  2001617              2085270           1,4,12
  GMRCSLM                  10500332             10625570         1,4,14,12
  GMRCSLM1                 20016358             19771290         1,4,10,12
  GMRCSLM4                  8343952              8355416            4,12
  GMRCTIU                   4204283              4286696           1,4,12
  GMRCTIUE                  6266403              6219902         4,10,14,12
  GMRCUTL1                  1476587              2946809           1,4,12
  
  
   REQUIRED BUILDS
   ===============
   GMRC*3.0*4 
   GMRC*3.0*5 
   GMRC*3.0*10
   GMRC*3.0*11
   GMRC*3.0*13
   GMRC*3.0*14
  
  
  
  INSTALLATION INSTRUCTIONS:
  ==========================
  This patch should be installed at non-peak hours due to the high volume
  use of the routines included. Installation should take less than 3
  minutes.  
   1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
   2. From the Kernel Installation and Distribution System Menu, select the
      Installation menu.
   3. Use the Install Package(s) option and select the package GMRC*3.0*12
   4. When prompted " Want KIDS to Rebuild Menu Trees Upon Completion of
      Install? YES//",respond NO.
   5. When prompted "Want KIDS to INHIBIT LOGONs during the install?
      YES//", respond NO. 
   6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//", respond NO.

Routine Information:
====================

Routine Name:
  - GMRCDRFR


Routine Checksum:

Routine Name:
  - GMRCEDT1


Routine Checksum:

Routine Name:
  - GMRCEDT2


Routine Checksum:

Routine Name:
  - GMRCEDT4


Routine Checksum:

Routine Name:
  - GMRCGUIC


Routine Checksum:

Routine Name:
  - GMRCGUIU


Routine Checksum:

Routine Name:
  - GMRCHL7


Routine Checksum:

Routine Name:
  - GMRCHL7A


Routine Checksum:

Routine Name:
  - GMRCHL7B


Routine Checksum:

Routine Name:
  - GMRCHL7U


Routine Checksum:

Routine Name:
  - GMRCUTL1


Routine Checksum:

Routine Name:
  - GMRCAFRD


Routine Checksum:

Routine Name:
  - GMRCADC


Routine Checksum:

Routine Name:
  - GMRCGUIA


Routine Checksum:

Routine Name:
  - GMRCGUIB


Routine Checksum:

Routine Name:
  - GMRCPR0


Routine Checksum:

Routine Name:
  - GMRCHL72


Routine Checksum:

Routine Name:
  - GMRCA1


Routine Checksum:

Routine Name:
  - GMRCAAC


Routine Checksum:

Routine Name:
  - GMRCP5


Routine Checksum:

Routine Name:
  - GMRCP5A


Routine Checksum:

Routine Name:
  - GMRCP5B


Routine Checksum:

Routine Name:
  - GMRCP5D


Routine Checksum:

Routine Name:
  - GMRCREXT


Routine Checksum:

Routine Name:
  - GMRCLSM


Routine Checksum:

Routine Name:
  - GMRCSLM1


Routine Checksum:

Routine Name:
  - GMRCSLM4


Routine Checksum:

Routine Name:
  - GMRCASV


Routine Checksum:

Routine Name:
  - GMRCTIUE


Routine Checksum:

Routine Name:
  - GMRCAU


Routine Checksum:

Routine Name:
  - GMRCTIU


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : RUTHERFORD,JERALD F           Date Entered : AUG 25, 1999
Completed By: EBERT,AL                      Date Completed: MAY 17, 2000
Released By : RIDINGS,SCOTT                 Date Released : MAY 18, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
