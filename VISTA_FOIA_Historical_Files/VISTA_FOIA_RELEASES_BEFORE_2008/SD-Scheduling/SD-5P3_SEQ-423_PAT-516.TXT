
=============================================================================
Run Date: OCT 16, 2007                     Designation: SD*5.3*516
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #423                    Status: Released
                  Compliance Date: NOV 16, 2007
=============================================================================

Associated patches: (v)SD*5.3*380  <<= must be installed BEFORE `SD*5.3*516'

Subject: REMOVE ABILITY TO SELECT TERMINATED EMPLOYEES - SD

Category: 
  - Routine
  - Enhancement (Mandatory)

Description:
============

 The Health Data & Informatics (HDI) office is requesting enhancements to the
 VistA Registration modules in support of Patient Safety Issue (PSI-05-073).
  
 The PSI documented a case where an admitting clerk was able to select a
 terminated provider as the patient's primary provider. The clerk immediately
 realized the selected provider was in fact terminated and changed the data
 entry to the correct active provider. This quick action prevented a situation
 where the patient might not have received needed critical care.
  
 Current Registration functionality screens out providers by the Inactive Date
 field in the New Person (#200) file. The Inactive Date field is "owned" by
 the Pharmacy application. It is used with other fields in the New Person file
 to govern critical Pharmacy business rules used to determine which providers
 can write medication orders. The Inactive Date field will no longer be used
 for screening providers.
  
 This patch will ensure that data entry of the default provider assigned to or
 to be associated with a specific clinic will screen each entry using both the
 Termination Date and Person Class fields of the New Person (#200) file.
  
 This patch SD*5.3*516, along with the Registration patch, DG*5.3*755, and the
 Patient Care Encounter (PCE) patch, PX*1.0*186, is being released in a single
 KIDS software distribution (Host file) DG_53_P755.KID.
  
  
 Technical
 ---------
 o  Routine SDUTL2 has been modified at the $$SCREEN entry point to call the
    PCE supported DBIA #2349 ACTIVE PROVIDER routine, $$ACTIVPRV^PXAPI, so
    that both the Termination Date (#9.2) and Person Class (#8932.1) fields
    of the New Person (#200) file are used to validate provider selection.
 o  The SCHEDULING package was added as a Subscriber to the PCE supported
    Integration Control Registration (Agreement) #2349 ACTIVE PROVIDER.
  
 The $$SCREEN^SDUTL2 logic is used as the Data Dictionary INPUT TRANSFORM and
 SCREEN logic for the following fields that are used for capturing the default 
 provider assigned to or associated with a specific clinic.
  
   Field Name (#)                      File Name (#)
   --------------                      -------------
   DEFAULT PROVIDER (#16)              HOSPITAL LOCATION (#44)
   PROVIDER (#2600)                    HOSPITAL LOCATION (#44)
     - PROVIDER (Sub-field #.01)         - PROVIDER (SUB-FILE #44.1)
  
 Functional
 ----------
 The Set up a Clinic [SDBUILD] option will now screen the provider data entry
 selections using both the Termination Date and Person Class fields of the 
 New Person (#200) file to validate provider selection.
  
  
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
 Request ID:    20060502
 Request Name:  Remove Ability to Select Terminated Employees as Providers
 Product Name:  VistA Registration modules
  
  
 This patch addresses the following Patient Safety Issue (PSI):
 --------------------------------------------------------------
 Request ID:  PSI-05-073
  
  
 This patch addresses the following Remedy Ticket(s):
 ----------------------------------------------------
 HD85824 and HD105413 both have a CLOSED status.
  
  
 Components Sent With Patch:
 ---------------------------
 ROUTINE 
  
  For Routines:
  -------------
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;Aug 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SDUTL2                 8935156              8703928      20,71,132,149,175
                                                          193,220,258,380,516
  
  Number of Routines = 1
  
  
                             CHECK1^XTSUMBLD results (new method)
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SDUTL2                47873660             50944268      20,71,132,149,175
                                                          193,220,258,380,516
  
  Number of Routines = 1
  
  
 Test Sites
 ----------
 Augusta, GA
 Lebanon, PA
 Pittsburgh HCS
 North Texas HCS
  
  
  
 SOFTWARE AND DOCUMENTATION RETRIEVAL
 ====================================
 The software for this patch is not being distributed through the National
 Patch Module.  This patch is being distributed as a host file. The host file
 will contain three (3) KIDS builds.
  
   Host file name: DG_53_P755.KID
            Build: DG*5.3*755
                   PX*1.0*186
                   SD*5.3*516
  
 Sites may retrieve the software directly using FTP from the ANONYMOUS.SOFTWARE
 directory at the following Office of Information (OI) Field Offices:
  
             Albany: ftp.fo-albany.med.va.gov
              Hines: ftp.fo-hines.med.va.gov
     Salt Lake City: ftp.fo-slc.med.va.gov
 First Available Server : download.vista.med.va.gov (preferred method) 
  
 * Note:  Use ASCII mode when transferring the .KID file.
  
  
  
  ======================== INSTALLATION INSTRUCTIONS ========================
  
 The following options need to be disabled before patch installation:
   
   Set up a Clinic     [SDBUILD]
  
  
 Please refer to the "Software Retrieval" and "Installation Instructions"
 sections of the DG*5.3*755 patch description for instructions on how
 to acquire, install, and implement the patch software.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SDUTL2
    Before: B47873660   After: B50944268  **20,71,132,149,175,193,220,
                                           258,380,516**
 
Routine list of preceding patches: 380

=============================================================================
User Information:
Entered By  : SHETLER,BOB                   Date Entered  : MAY 22, 2007
Completed By: BARBER,HAROLDINE              Date Completed: OCT 16, 2007
Released By : FITCH,DONNA                   Date Released : OCT 16, 2007
=============================================================================


Packman Mail Message:
=====================

No routines included
