Released DG*5.3*567 SEQ #491
Extracted from mail message
**KIDS**:DG*5.3*567^

**INSTALL NAME**
DG*5.3*567
"BLD",4358,0)
DG*5.3*567^REGISTRATION^0^3031107^y
"BLD",4358,1,0)
^^1^1^3031107^
"BLD",4358,1,1,0)
FIX DISPLAY ON SCREEN 4 FOR MEANS TEST VIEW
"BLD",4358,4,0)
^9.64PA^^
"BLD",4358,"ABPKG")
n
"BLD",4358,"KRN",0)
^9.67PA^8989.52^19
"BLD",4358,"KRN",.4,0)
.4
"BLD",4358,"KRN",.401,0)
.401
"BLD",4358,"KRN",.402,0)
.402
"BLD",4358,"KRN",.403,0)
.403
"BLD",4358,"KRN",.5,0)
.5
"BLD",4358,"KRN",.84,0)
.84
"BLD",4358,"KRN",3.6,0)
3.6
"BLD",4358,"KRN",3.8,0)
3.8
"BLD",4358,"KRN",9.2,0)
9.2
"BLD",4358,"KRN",9.8,0)
9.8
"BLD",4358,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4358,"KRN",9.8,"NM",1,0)
DGMTSC4^^0^B16569452
"BLD",4358,"KRN",9.8,"NM","B","DGMTSC4",1)

"BLD",4358,"KRN",19,0)
19
"BLD",4358,"KRN",19.1,0)
19.1
"BLD",4358,"KRN",101,0)
101
"BLD",4358,"KRN",409.61,0)
409.61
"BLD",4358,"KRN",771,0)
771
"BLD",4358,"KRN",870,0)
870
"BLD",4358,"KRN",8989.51,0)
8989.51
"BLD",4358,"KRN",8989.52,0)
8989.52
"BLD",4358,"KRN",8994,0)
8994
"BLD",4358,"KRN","B",.4,.4)

"BLD",4358,"KRN","B",.401,.401)

"BLD",4358,"KRN","B",.402,.402)

"BLD",4358,"KRN","B",.403,.403)

"BLD",4358,"KRN","B",.5,.5)

"BLD",4358,"KRN","B",.84,.84)

"BLD",4358,"KRN","B",3.6,3.6)

"BLD",4358,"KRN","B",3.8,3.8)

"BLD",4358,"KRN","B",9.2,9.2)

"BLD",4358,"KRN","B",9.8,9.8)

"BLD",4358,"KRN","B",19,19)

"BLD",4358,"KRN","B",19.1,19.1)

"BLD",4358,"KRN","B",101,101)

"BLD",4358,"KRN","B",409.61,409.61)

"BLD",4358,"KRN","B",771,771)

"BLD",4358,"KRN","B",870,870)

"BLD",4358,"KRN","B",8989.51,8989.51)

"BLD",4358,"KRN","B",8989.52,8989.52)

"BLD",4358,"KRN","B",8994,8994)

"BLD",4358,"QUES",0)
^9.62^^
"BLD",4358,"REQB",0)
^9.611^1^1
"BLD",4358,"REQB",1,0)
DG*5.3*540^1
"BLD",4358,"REQB","B","DG*5.3*540",1)

"MBREQ")
0
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,20,0)
^9.402P^^
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2930813
"PKG",5,22,1,"PAH",1,0)
567^3031107
"PKG",5,22,1,"PAH",1,1,0)
^^1^1^3031107
"PKG",5,22,1,"PAH",1,1,1,0)
FIX DISPLAY ON SCREEN 4 FOR MEANS TEST VIEW
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","DGMTSC4")
0^1^B16569452
"RTN","DGMTSC4",1,0)
DGMTSC4 ;ALB/RMO/CAW,LBD - Means Test Screen Net Worth ; 11/7/03 1:44pm
"RTN","DGMTSC4",2,0)
 ;;5.3;Registration;**45,130,456,540,567**;Aug 13, 1993
"RTN","DGMTSC4",3,0)
 ;
"RTN","DGMTSC4",4,0)
 ; Input  -- DFN      Patient IEN
"RTN","DGMTSC4",5,0)
 ;           DGMTDT   Date of Test
"RTN","DGMTSC4",6,0)
 ;           DGMTYPT  Type of Test 1=MT 2=COPAY
"RTN","DGMTSC4",7,0)
 ;           DGMTPAR  Annual Means Test Parameter Array
"RTN","DGMTSC4",8,0)
 ;           DGVINI   Veteran Individual Annual Income IEN
"RTN","DGMTSC4",9,0)
 ;           DGVIRI   Veteran Income Relation IEN
"RTN","DGMTSC4",10,0)
 ;           DGVPRI   Veteran Patient Relation IEN
"RTN","DGMTSC4",11,0)
 ;           DGMTNWC  Net Worth Calculation flag
"RTN","DGMTSC4",12,0)
 ; Output -- None
"RTN","DGMTSC4",13,0)
 ;
"RTN","DGMTSC4",14,0)
 ;DG*5.3*540 - Skip displaying of calculated Means Test Status at the
"RTN","DGMTSC4",15,0)
 ;             bottom of screen 4 when in VIEW mode.
"RTN","DGMTSC4",16,0)
 ;DG*5.3*567 - Allow bottom to show for all except SOURCE OF TEST[IVM
"RTN","DGMTSC4",17,0)
 ;             for IVM display Source is IVM instead.
"RTN","DGMTSC4",18,0)
 ;
"RTN","DGMTSC4",19,0)
EN ;Entry point for previous calendar year net worth screen
"RTN","DGMTSC4",20,0)
 S DGMTSCI=4 D HD^DGMTSCU
"RTN","DGMTSC4",21,0)
 D DIS
"RTN","DGMTSC4",22,0)
 S DGRNG="1-5" G EN^DGMTSCR
"RTN","DGMTSC4",23,0)
 ;
"RTN","DGMTSC4",24,0)
EN1 ;Entry point for read processor return
"RTN","DGMTSC4",25,0)
 D ALL^DGMTU21(DFN,"S",DGMTDT,"IPR",$S($G(DGMTI):DGMTI,1:""))
"RTN","DGMTSC4",26,0)
 I DGX!($G(DGSELTY)["V") S DGPRI=DGVPRI,DGPRTY="V" D EDT
"RTN","DGMTSC4",27,0)
 I '$G(DGMTOUT)&($G(DGSEL)["S")&(DGX!($G(DGSELTY)["S")) S DGPRI=+DGREL("S"),DGPRTY="S" D EDT
"RTN","DGMTSC4",28,0)
Q K DGCNT,DGDEP,DGDR,DGMTOUT,DGPRI,DGPRTY,DGREL,DGSEL,DGSELTY,DGX,DGY,DTOUT,DUOUT,Y
"RTN","DGMTSC4",29,0)
 G EN
"RTN","DGMTSC4",30,0)
 ;
"RTN","DGMTSC4",31,0)
DIS ;Display net worth
"RTN","DGMTSC4",32,0)
 N DGCAT,DGDC,DGDET,DGIN0,DGIN1,DGIN2,DGINT,DGINTF,DGMTS,DGNC,DGND,DGNWT,DGNWTF,DGSP,DGTYC,DGTHA,DGTHB,DGTHG,DGVIR0,DGCNT
"RTN","DGMTSC4",33,0)
 D SET^DGMTSCU2 S DGCNT=1
"RTN","DGMTSC4",34,0)
 I DGMTYPT=1 W !,"Income Thresholds:   " W:$D(DGTHA) "MT Threshold: ",$$AMT^DGMTSCU1(DGTHA) W:$D(DGTHG) ?53,"GMT Threshold: ",$$AMT^DGMTSCU1(DGTHG)
"RTN","DGMTSC4",35,0)
 W ! W:$D(DGMTPAR("PREV")) "*Previous Years Thresholds*"
"RTN","DGMTSC4",36,0)
 W ?34,"Veteran" W:DGSP ?46,"Spouse" W ?73,"Total"
"RTN","DGMTSC4",37,0)
 W !?31,"-----------------------------------------------"
"RTN","DGMTSC4",38,0)
 D HIGH^DGMTSCU1(1,DGMTACT),FLD(.DGIN2,1,"Cash, Amts in Bank Accts")
"RTN","DGMTSC4",39,0)
 D HIGH^DGMTSCU1(2,DGMTACT),FLD(.DGIN2,2,"Stocks and Bonds")
"RTN","DGMTSC4",40,0)
 D HIGH^DGMTSCU1(3,DGMTACT),FLD(.DGIN2,3,"Real Property")
"RTN","DGMTSC4",41,0)
 D HIGH^DGMTSCU1(4,DGMTACT),FLD(.DGIN2,4,"Other Property or Assets")
"RTN","DGMTSC4",42,0)
 D HIGH^DGMTSCU1(5,DGMTACT),FLD(.DGIN2,5,"Debts")
"RTN","DGMTSC4",43,0)
 W !?51,"Total -->",?66,$J($$AMT^DGMTSCU1(DGNWT),12)
"RTN","DGMTSC4",44,0)
 I DGMTYPT=1,DGMTACT="VEW",$P($G(DGMT0),"^",14) W !!!!!!!!,"Declines to give income information makes a MT COPAY REQUIRED status." G DISQ
"RTN","DGMTSC4",45,0)
 ;
"RTN","DGMTSC4",46,0)
 ;DG*5.3*540
"RTN","DGMTSC4",47,0)
 ;DG*5.3*567
"RTN","DGMTSC4",48,0)
 I DGMTACT="VEW",DGMTI,$$GET1^DIQ(408.31,DGMTI,.23)["IVM" D  G DISQ
"RTN","DGMTSC4",49,0)
 . W !!!!!!!!,"Source of Test is IVM"
"RTN","DGMTSC4",50,0)
 W !!!!!!!! I DGMTYPT=1 W "Income of ",$J($$AMT^DGMTSCU1(DGINT-DGDET),12) W "  ",$$GETNAME^DGMTH(DGMTS)
"RTN","DGMTSC4",51,0)
 I DGMTYPT=1,DGTYC="M",(DGNWT-DGDET)+$S($G(DGMTNWC):0,1:DGINT)'<$P(DGMTPAR,"^",8) W !,?3,"with property of ",$J($$AMT^DGMTSCU1(DGNWT),12)," makes a ",$S(DGTHG>DGTHA:"G",1:""),"MT COPAY REQUIRED status."
"RTN","DGMTSC4",52,0)
 I DGTYC="M",'DGNWTF W " requires property information."
"RTN","DGMTSC4",53,0)
 I DGMTYPT=2,'DGNWTF,DGCAT="E" W "Requires property information."
"RTN","DGMTSC4",54,0)
DISQ Q
"RTN","DGMTSC4",55,0)
 ;
"RTN","DGMTSC4",56,0)
FLD(DGIN,DGPCE,DGTXT) ;Display income fields
"RTN","DGMTSC4",57,0)
 ;
"RTN","DGMTSC4",58,0)
 ;    Input -- DGIN as Individual Annual Income 0 node for vet,
"RTN","DGMTSC4",59,0)
 ;                  spouse, and dependents
"RTN","DGMTSC4",60,0)
 ;             DGRPCE as piece position wanted
"RTN","DGMTSC4",61,0)
 ;             DGTXT as income description
"RTN","DGMTSC4",62,0)
 ;
"RTN","DGMTSC4",63,0)
 ;             Also keeps running total if DGGTOT is defined (grand
"RTN","DGMTSC4",64,0)
 ;                  total)
"RTN","DGMTSC4",65,0)
 ;
"RTN","DGMTSC4",66,0)
 N DGTOT,I
"RTN","DGMTSC4",67,0)
 I '$D(DGBL) S $P(DGBL," ",26)=""
"RTN","DGMTSC4",68,0)
 W:DGCNT<10 " "
"RTN","DGMTSC4",69,0)
 W " ",$E(DGTXT_DGBL,1,26)
"RTN","DGMTSC4",70,0)
 W $J($$AMT^DGMTSCU1($P(DGIN("V"),"^",DGPCE)),10)
"RTN","DGMTSC4",71,0)
 W " ",$S($D(DGIN("S")):$J($$AMT^DGMTSCU1($P(DGIN("S"),"^",DGPCE)),10),1:$E(DGBL,1,10))
"RTN","DGMTSC4",72,0)
 W " ",$S($D(DGIN("D")):$J($$AMT^DGMTSCU1($P(DGIN("D"),"^",DGPCE)),11),1:$E(DGBL,1,11))
"RTN","DGMTSC4",73,0)
 S DGTOT="",I="" F  S I=$O(DGIN(I)) Q:I=""  I $P(DGIN(I),"^",DGPCE)]"" S DGTOT=DGTOT+$P(DGIN(I),"^",DGPCE)
"RTN","DGMTSC4",74,0)
 W "  ",$J($$AMT^DGMTSCU1(DGTOT),12)
"RTN","DGMTSC4",75,0)
 S DGCNT=DGCNT+1
"RTN","DGMTSC4",76,0)
 Q
"RTN","DGMTSC4",77,0)
 ;
"RTN","DGMTSC4",78,0)
EDT ;Edit net worth fields
"RTN","DGMTSC4",79,0)
 N DA,DGERR,DGFIN,DGINI,DGIN2,DGIRI,DIE,DR
"RTN","DGMTSC4",80,0)
 D GETIENS^DGMTU2(DFN,DGPRI,DGMTDT) G EDTQ:DGERR
"RTN","DGMTSC4",81,0)
 I $G(DGSEL)]"" W !!,"NAME: ",$$NAME^DGMTU1(DGPRI)
"RTN","DGMTSC4",82,0)
 S DGIN2=$G(^DGMT(408.21,DGINI,2))
"RTN","DGMTSC4",83,0)
 S DA=DGINI,DIE="^DGMT(408.21,",DR="[DGMT ENTER/EDIT NET WORTH]" D ^DIE S:'$D(DGFIN) DGMTOUT=1
"RTN","DGMTSC4",84,0)
 I DGIN2'=$G(^DGMT(408.21,DGINI,2)) S DR="103////^S X=DUZ;104///^S X=""NOW""" D ^DIE
"RTN","DGMTSC4",85,0)
EDTQ Q
"VER")
8.0^22
**END**
**END**
