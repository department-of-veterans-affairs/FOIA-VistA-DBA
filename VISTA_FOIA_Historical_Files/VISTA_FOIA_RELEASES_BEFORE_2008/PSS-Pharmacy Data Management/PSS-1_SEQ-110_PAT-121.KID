Released PSS*1*121 SEQ #110
Extracted from mail message
**KIDS**:PSS*1.0*121^

**INSTALL NAME**
PSS*1.0*121
"BLD",7031,0)
PSS*1.0*121^PHARMACY DATA MANAGEMENT^0^3070110^y
"BLD",7031,1,0)
^^1^1^3070104^^
"BLD",7031,1,1,0)
Fixes the one time PRN orders problem.
"BLD",7031,4,0)
^9.64PA^51.1^1
"BLD",7031,4,51.1,0)
51.1
"BLD",7031,4,51.1,2,0)
^9.641^51.1^1
"BLD",7031,4,51.1,2,51.1,0)
ADMINISTRATION SCHEDULE  (File-top level)
"BLD",7031,4,51.1,2,51.1,1,0)
^9.6411^5^2
"BLD",7031,4,51.1,2,51.1,1,.01,0)
NAME
"BLD",7031,4,51.1,2,51.1,1,5,0)
TYPE OF SCHEDULE
"BLD",7031,4,51.1,222)
y^y^p^^^^n^^n
"BLD",7031,4,51.1,224)

"BLD",7031,4,"APDD",51.1,51.1)

"BLD",7031,4,"APDD",51.1,51.1,.01)

"BLD",7031,4,"APDD",51.1,51.1,5)

"BLD",7031,4,"B",51.1,51.1)

"BLD",7031,6.3)
1
"BLD",7031,"ABPKG")
n
"BLD",7031,"KRN",0)
^9.67PA^8989.52^19
"BLD",7031,"KRN",.4,0)
.4
"BLD",7031,"KRN",.401,0)
.401
"BLD",7031,"KRN",.402,0)
.402
"BLD",7031,"KRN",.402,"NM",0)
^9.68A^1^1
"BLD",7031,"KRN",.402,"NM",1,0)
PSSJ SCHEDULE EDIT    FILE #51.1^51.1^0
"BLD",7031,"KRN",.402,"NM","B","PSSJ SCHEDULE EDIT    FILE #51.1",1)

"BLD",7031,"KRN",.403,0)
.403
"BLD",7031,"KRN",.5,0)
.5
"BLD",7031,"KRN",.84,0)
.84
"BLD",7031,"KRN",3.6,0)
3.6
"BLD",7031,"KRN",3.8,0)
3.8
"BLD",7031,"KRN",9.2,0)
9.2
"BLD",7031,"KRN",9.8,0)
9.8
"BLD",7031,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",7031,"KRN",9.8,"NM",1,0)
PSSJSV^^0^B27404194
"BLD",7031,"KRN",9.8,"NM","B","PSSJSV",1)

"BLD",7031,"KRN",19,0)
19
"BLD",7031,"KRN",19.1,0)
19.1
"BLD",7031,"KRN",101,0)
101
"BLD",7031,"KRN",409.61,0)
409.61
"BLD",7031,"KRN",771,0)
771
"BLD",7031,"KRN",870,0)
870
"BLD",7031,"KRN",8989.51,0)
8989.51
"BLD",7031,"KRN",8989.52,0)
8989.52
"BLD",7031,"KRN",8994,0)
8994
"BLD",7031,"KRN","B",.4,.4)

"BLD",7031,"KRN","B",.401,.401)

"BLD",7031,"KRN","B",.402,.402)

"BLD",7031,"KRN","B",.403,.403)

"BLD",7031,"KRN","B",.5,.5)

"BLD",7031,"KRN","B",.84,.84)

"BLD",7031,"KRN","B",3.6,3.6)

"BLD",7031,"KRN","B",3.8,3.8)

"BLD",7031,"KRN","B",9.2,9.2)

"BLD",7031,"KRN","B",9.8,9.8)

"BLD",7031,"KRN","B",19,19)

"BLD",7031,"KRN","B",19.1,19.1)

"BLD",7031,"KRN","B",101,101)

"BLD",7031,"KRN","B",409.61,409.61)

"BLD",7031,"KRN","B",771,771)

"BLD",7031,"KRN","B",870,870)

"BLD",7031,"KRN","B",8989.51,8989.51)

"BLD",7031,"KRN","B",8989.52,8989.52)

"BLD",7031,"KRN","B",8994,8994)

"BLD",7031,"QUES",0)
^9.62^^
"BLD",7031,"REQB",0)
^9.611^1^1
"BLD",7031,"REQB",1,0)
PSS*1.0*110^2
"BLD",7031,"REQB","B","PSS*1.0*110",1)

"FIA",51.1)
ADMINISTRATION SCHEDULE
"FIA",51.1,0)
^PS(51.1,
"FIA",51.1,0,0)
51.1I
"FIA",51.1,0,1)
y^y^p^^^^n^^n
"FIA",51.1,0,10)

"FIA",51.1,0,11)

"FIA",51.1,0,"RLRO")

"FIA",51.1,0,"VR")
1.0^PSS
"FIA",51.1,51.1)
1
"FIA",51.1,51.1,.01)

"FIA",51.1,51.1,5)

"KRN",.402,2201,-1)
0^1
"KRN",.402,2201,0)
PSSJ SCHEDULE EDIT^3070108.1503^@^51.1^^@^3070108
"KRN",.402,2201,"DIAB",3,1,51.11,0)
WARD ADMINISTRATION TIMES;REQ
"KRN",.402,2201,"DIAB",7,0,51.1,2)
STANDARD ADMINISTRATION TIMES;REQ
"KRN",.402,2201,"DR",1,51.1)
.01;8;8.1;@3;S:'$D(PSJIVSEF) Y="@2";5;S Y=1,PSJS="";@2;5//;I X="O" S Y="";S PSJS=X;I PSJS="D" S Y="@5" Q;@4;2//^D ENFQD^PSSJSV;I X="" W " Must enter a frequency." K X S Y="@4" Q;S PSJS=$$NSO^PSGS0(X);
"KRN",.402,2201,"DR",1,51.1,1)
W !?10,"The schedule entered equals ",PSJS,".",!;I X>1439,X#1440 S PSJS="";I X,X<1440,1440#X S PSJS="";I PSJS="" W ?10,"This is an odd schedule that does not require administration times.",!;
"KRN",.402,2201,"DR",1,51.1,2)
I PSJS="" W ?10,"BCMA will determine the administration times based off the",!;I PSJS="" W ?10,"start date/time of the medication order.";I PSJS="" S Y="@999";@5;I PSJS="" S Y=0;I PSJS'="D" S Y="@6" Q;1R~;@6;I PSJS="D" S Y="@7" Q;
"KRN",.402,2201,"DR",1,51.1,3)
1;@7;3;@999;
"KRN",.402,2201,"DR",2,51.11)
.01;I X="" S Y="@999" Q;1R~;
"MBREQ")
0
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",488,-1)
1^1
"PKG",488,0)
PHARMACY DATA MANAGEMENT^PSS^Maintenance of Pharmacy files.
"PKG",488,20,0)
^9.402P^^
"PKG",488,22,0)
^9.49I^1^1
"PKG",488,22,1,0)
1.0^2970930^3000316^66481
"PKG",488,22,1,"PAH",1,0)
121^3070110
"PKG",488,22,1,"PAH",1,1,0)
^^1^1^3070110
"PKG",488,22,1,"PAH",1,1,1,0)
Fixes the one time PRN orders problem.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PSSJSV")
0^1^B27404194^B24822667
"RTN","PSSJSV",1,0)
PSSJSV ;BIR/CML3/WRT-SCHEDULE VALIDATION ;06/24/96
"RTN","PSSJSV",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**20,38,56,59,110,121**;9/30/97;Build 1
"RTN","PSSJSV",3,0)
 ;
"RTN","PSSJSV",4,0)
 ; Reference to ^PS(51.15 is supported by DBIA #2132
"RTN","PSSJSV",5,0)
 ; Reference to $$UP^XLFSTR(P1) is supported by DBIA #10104
"RTN","PSSJSV",6,0)
 ;
"RTN","PSSJSV",7,0)
EN ;
"RTN","PSSJSV",8,0)
 S X=PSJX,(PSJAT,PSJM,PSJTS,PSJY,PSJAX)="" I $S(X["""":1,$A(X)=45:1,X'?.ANP:1,$L(X," ")>2:1,$L(X)>70:1,$L(X)<1:1,X["P RN":1,1:X["PR N") K PSJX,X Q
"RTN","PSSJSV",9,0)
 I X["PRN"!(X="ON CALL")!(X="ONCALL")!(X="ON-CALL") G DONE
"RTN","PSSJSV",10,0)
 I X?1."?" D:'$D(PSJNE) ENSVH^PSSJSV0 Q
"RTN","PSSJSV",11,0)
 S X0=X,(XT,Y)="" I X,X'["X",(X?2.4N1"-".E!(X?2.4N)) D ENCHK S:$D(X) PSJAT=X G DONE
"RTN","PSSJSV",12,0)
 I X["@" D DW S:$D(X) PSJAT=$P(X,"@",2) G DONE
"RTN","PSSJSV",13,0)
 I $S($D(^PS(51.1,"AC",PSJPP,X)):1,1:$E($O(^(X)),1,$L(X))=X) D DIC G:$S(PSJY:PSJTS'="C",1:PSJM) DONE
"RTN","PSSJSV",14,0)
 I $S(X="NOW":1,X="ONCE":1,X="STAT":1,X="ONE TIME":1,X="ONETIME":1,X="1TIME":1,X="1-TIME":1,X="1 TIME":1,1:X="ONE-TIME") S PSJTS="O" W:'$D(PSJNE) "  (ONCE ONLY)" G DONE
"RTN","PSSJSV",15,0)
 S:PSJTS="" PSJTS="C" I PSJAT="" W:'$D(PSJNE) "  (Non standard schedule)" S X=PSJX
"RTN","PSSJSV",16,0)
 I $E(X,1,2)="AD" K X G DONE
"RTN","PSSJSV",17,0)
 I $E(X,1,3)="BID"!($E(X,1,3)="TID")!($E(X,1,3)="QID") S PSJM=1440\$F("BTQ",$E(X)) G DONE
"RTN","PSSJSV",18,0)
 S:$E(X)="Q" X=$E(X,2,99) S:'X X="1"_X S X1=+X,X=$P(X,+X,2),X2=0 S:X1<0 X1=-X1 S:$E(X)="X" X2=X1,X=$E(X,2,99) I 'X2,$E(X)="O" S X2=.5,X=$E(X,2,99)
"RTN","PSSJSV",19,0)
 S XT=$S(X["'":1,(X["D"&(X'["AD"))!(X["AM")!(X["PM")!(X["HS"&(X'["THS")):1440,X["H"&(X'["TH"):60,X["AC"!(X["PC"):480,X["W":10080,X["M":40320,1:-1) I XT<0,PSJAT="" K X G DONE
"RTN","PSSJSV",20,0)
 S X=PSJX I XT S:X2 XT=XT\X2 S:'X2 XT=XT*X1
"RTN","PSSJSV",21,0)
 S PSJM=XT
"RTN","PSSJSV",22,0)
 ;
"RTN","PSSJSV",23,0)
DONE ;
"RTN","PSSJSV",24,0)
 K:$D(X)[0 PSJX K D,DIC,Q,QX,SDW,SWD,X,X0,X1,X2,XT,Y,Z Q
"RTN","PSSJSV",25,0)
 ;
"RTN","PSSJSV",26,0)
ENCHK ; admin times
"RTN","PSSJSV",27,0)
 I $S($L($P(X,"-"))>4:1,$L(X)>119:1,$L(X)<2:1,X'>0:1,1:X'?.ANP) K X Q
"RTN","PSSJSV",28,0)
 S X(1)=$P(X,"-") I X(1)'?2N,X(1)'?4N K X Q
"RTN","PSSJSV",29,0)
 S X(1)=$L(X(1)) F X(2)=2:1:$L(X,"-") S X(3)=$P(X,"-",X(2)) I $S($L(X(3))'=X(1):1,X(3)>$S(X(1)=2:24,1:2400):1,1:X(3)'>$P(X,"-",X(2)-1)) K X Q
"RTN","PSSJSV",30,0)
 K:$D(X) X(1),X(2),X(3) Q
"RTN","PSSJSV",31,0)
 ;
"RTN","PSSJSV",32,0)
DIC ; 51.1 look-up
"RTN","PSSJSV",33,0)
 S DIC="^PS(51.1,",DIC(0)=$E("E",'$D(PSJNE))_"ISZ",DIC("W")="I '$D(PSJNE) D DICW^PSSJSV0",D="AP"_PSJPP
"RTN","PSSJSV",34,0)
 D IX^DIC K DIC Q:Y'>0  S PSJY=+Y,(PSJX,X,X0)=Y(0,0),PSJM=$P(Y(0),"^",3),PSJTS=$P(Y(0),"^",5),PSJAX=$P(Y(0),U,7) S:PSJTS="" PSJTS="C" Q:PSJTS="O"!(PSJTS["R")  I $D(PSJW),$D(^PS(51.1,+Y,1,+PSJW,0)) S PSJAT=$P(^(0),"^",PSJTS="S"+2)
"RTN","PSSJSV",35,0)
 E  S PSJAT=$P(Y(0),"^",PSJTS="S"*4+2)
"RTN","PSSJSV",36,0)
 Q:PSJTS'="S"
"RTN","PSSJSV",37,0)
 F Y=1:1:$L(PSJAT,"-") S Y(1)=$P(PSJAT,"-",Y),PSJAT(Y(1))="",Y(2)=$O(^PS(51.15,"ACP",PSJPP,Y(1),0)) I Y(2),$D(^PS(51.15,Y(2),0)) S PSJAT(Y(1))=$P(^(0),"^",3) I $D(PSJW),$D(^(1,PSJW,0)),$P(^(0),"^",2)]"" S PSJAT(Y(1))=$P(^(0),"^",2)
"RTN","PSSJSV",38,0)
 Q
"RTN","PSSJSV",39,0)
 ;
"RTN","PSSJSV",40,0)
DW ;  week days
"RTN","PSSJSV",41,0)
 S SWD="SUNDAYS^MONDAYS^TUESDAYS^WEDNESDAYS^THURSDAYS^FRIDAYS^SATURDAYS",SDW=X,X=$P(X,"@",2) D ENCHK Q:'$D(X)  S X=$P(SDW,"@"),X(1)="-" I X?.E1P.E,X'["-" F QX=1:1:$L(X) I $E(X,QX)?1P S X(1)=$E(X,QX) Q
"RTN","PSSJSV",42,0)
 F Q=1:1:$L(X,X(1)) K:SWD="" X Q:SWD=""  S Z=$P(X,X(1),Q) D DWC Q:'$D(X)
"RTN","PSSJSV",43,0)
 K X(1) S:$D(X) X=SDW Q
"RTN","PSSJSV",44,0)
DWC I $L(Z)<2 K X Q
"RTN","PSSJSV",45,0)
 F QX=1:1:$L(SWD,"^") S Y=$P(SWD,"^",QX) I $P(Y,Z)="" S SWD=$P(SWD,Y,2) S:$L(SWD) SWD=$E(SWD,2,50) Q
"RTN","PSSJSV",46,0)
 E  K X
"RTN","PSSJSV",47,0)
 Q
"RTN","PSSJSV",48,0)
 ;
"RTN","PSSJSV",49,0)
ENSNV ; schedule name
"RTN","PSSJSV",50,0)
 I $S(X["""":1,$A(X)=45:1,X'?.ANP:1,$L(X)>20:1,$L(X)<2:1,1:X?1P.E) K X Q
"RTN","PSSJSV",51,0)
 I $S('$D(PSJPP):0,PSJPP="":1,PSJPP'?.ANP:1,1:'$$VERSION^XPDUTL(PSJPP)) K X
"RTN","PSSJSV",52,0)
 I $D(DA),$D(^PS(51.1,DA,0)),$P(^(0),"^",5)["D" S ZX=X D DNVX S:$D(X) X=ZX K Z1,Z2,Z3,Z4,ZX
"RTN","PSSJSV",53,0)
 Q
"RTN","PSSJSV",54,0)
 ;
"RTN","PSSJSV",55,0)
ENSHV ;  shift in 51.1
"RTN","PSSJSV",56,0)
 I $S($L(X)>11:1,$L(X)<1:1,'$D(PSJPP):1,PSJPP="":1,PSJPP'?.ANP:1,1:'$$VERSION^XPDUTL(PSJPP)) K X Q
"RTN","PSSJSV",57,0)
 F X(1)=1:1:$L(X,"-") S X(2)=$P(X,"-",X(1)) I $S(X(2)="":1,X(2)'?.ANP:1,1:'$D(^PS(51.15,"ACP",PSJPP,X(2)))) K X Q
"RTN","PSSJSV",58,0)
 K X(1),X(2) Q
"RTN","PSSJSV",59,0)
 ;
"RTN","PSSJSV",60,0)
ENVSST ;  shift start/stop times
"RTN","PSSJSV",61,0)
 I X'?2N1"-"2N,X'?4N1"-"4N K X Q
"RTN","PSSJSV",62,0)
 F X(1)=1,2 I $P(X,"-",X(1))>$S($L($P(X,"-",X(1)))<4:24,1:2400) K X Q
"RTN","PSSJSV",63,0)
 K X(1) Q
"RTN","PSSJSV",64,0)
 ;
"RTN","PSSJSV",65,0)
ENFQD ; frequency default
"RTN","PSSJSV",66,0)
 N X1,X2,Z S Z=$S($D(^PS(51.1,DA,0)):$P(^(0),"^"),1:""),X=""
"RTN","PSSJSV",67,0)
 S X=$P(Z,"^",3) I Z]"" Q
"RTN","PSSJSV",68,0)
 S Z=DA I $E(Z,1,2)="AD" Q
"RTN","PSSJSV",69,0)
 I $E(Z,1,3)="BID"!($E(Z,1,3)="TID")!($E(Z,1,3)="QID") S X=1440/$F("BTQ",$E(Z)) Q
"RTN","PSSJSV",70,0)
 E  S:$E(Z)="Q" Z=$E(Z,2,99) S:'Z Z="1"_Z S X1=+Z,Z=$P(Z,+Z,2),X2=0 S:$E(Z)="X" X2=X1,Z=$E(Z,2,99) I 'X2,$E(Z)="O" S X2=.5,Z=$E(Z,2,99)
"RTN","PSSJSV",71,0)
 S X=$S(Z["'":1,(Z["D"&(Z'["AD"))!(Z["AM")!(Z["PM")!(Z["HS"&(Z'["THS")):1440,Z["H"&(Z'["TH"):60,Z["AC"!(Z["PC"):480,Z["W":10080,Z["M":40320,1:"") Q:'X  S:X2 X=X\X2 S:'X2 X=X*X1 Q
"RTN","PSSJSV",72,0)
 ;
"RTN","PSSJSV",73,0)
ENDNV ; day of the week name
"RTN","PSSJSV",74,0)
 N Z1,Z2,Z3,Z4 S X=$S($D(^PS(51.1,DA,0)):$P(^(0),"^"),1:"") I X="" K X Q
"RTN","PSSJSV",75,0)
 ;
"RTN","PSSJSV",76,0)
DNVX S Z2=1,Z4="-" I X'["-",X?.E1P.E F Z1=1:1:$L(X) I $E(X,Z1)?1P S Z4=$E(X,Z1) Q
"RTN","PSSJSV",77,0)
 F Z1=1:1:$L(X,Z4) Q:'Z2  S Z2=0 I $L($P(X,Z4,Z1))>1 F Z3="MONDAYS","TUESDAYS","WEDNESDAYS","THURSDAYS","FRIDAYS","SATURDAYS","SUNDAYS" I $P(Z3,$P(X,Z4,Z1))="" S Z2=1 Q
"RTN","PSSJSV",78,0)
 K:'Z2 X S:Z2 X="D" Q
"RTN","PSSJSV",79,0)
ENPSJ ;validate schedule names for PSJ package
"RTN","PSSJSV",80,0)
 N A,B,I
"RTN","PSSJSV",81,0)
 S X=$$UP^XLFSTR(X)
"RTN","PSSJSV",82,0)
 I $G(PSJPP)'="PSJ" Q
"RTN","PSSJSV",83,0)
 S A=$TR(X,".","") I A="OTHER" K X Q
"RTN","PSSJSV",84,0)
 F I=1:1:$L(A," ") S B=$P(A," ",I) I B="QD"!(B="QOD")!(B="HS")!(B="TIW") K X
"RTN","PSSJSV",85,0)
 Q
"RTN","PSSJSV",86,0)
ENPSJT ; Validate one-time PRN conflict
"RTN","PSSJSV",87,0)
 N A,B
"RTN","PSSJSV",88,0)
 S A=$$GET1^DIQ(51.1,DA,.01),B=""
"RTN","PSSJSV",89,0)
 I A["PRN",X'="P" D
"RTN","PSSJSV",90,0)
 . S B="Conflict: Schedule Name contains PRN but selected Schedule "
"RTN","PSSJSV",91,0)
 . S B=B_"Type is not PRN."
"RTN","PSSJSV",92,0)
 . K X
"RTN","PSSJSV",93,0)
 I A'["PRN",X="P" D
"RTN","PSSJSV",94,0)
 . S B="Conflict: Schedule Name does not contain PRN but selected "
"RTN","PSSJSV",95,0)
 . S B=B_"Schedule Type is PRN."
"RTN","PSSJSV",96,0)
 . K X
"RTN","PSSJSV",97,0)
 I $L(B)>0 W !,B
"RTN","PSSJSV",98,0)
 Q
"VER")
8.0^22.0
"^DD",51.1,51.1,.01,0)
NAME^RFX^^0;1^D ENPSJ^PSSJSV Q:'$D(X)  K:X[""""!($A(X)=45) X I $D(X) K:$L(X," ")>3!($L(X)>20)!($L(X)<2) X
"^DD",51.1,51.1,.01,1,0)
^.1
"^DD",51.1,51.1,.01,1,1,0)
51.1^B
"^DD",51.1,51.1,.01,1,1,1)
S ^PS(51.1,"B",$E(X,1,30),DA)=""
"^DD",51.1,51.1,.01,1,1,2)
K ^PS(51.1,"B",$E(X,1,30),DA)
"^DD",51.1,51.1,.01,1,2,0)
51.1^AUWD^MUMPS
"^DD",51.1,51.1,.01,1,2,1)
S ^PS(51.1,"AUWD")=$S($D(^PS(59.7,1,20)):$P(^(20),"^"),1:"")
"^DD",51.1,51.1,.01,1,2,2)
Q
"^DD",51.1,51.1,.01,1,2,"%D",0)
^^3^3^2970926^^^
"^DD",51.1,51.1,.01,1,2,"%D",1,0)
Used by the Unit Dose inits to determine if a conversion process needs to
"^DD",51.1,51.1,.01,1,2,"%D",2,0)
be run on this file.
"^DD",51.1,51.1,.01,1,2,"%D",3,0)
In the form of: ^PS(51.1,"AUWD")
"^DD",51.1,51.1,.01,1,3,0)
51.1^ACC^MUMPS
"^DD",51.1,51.1,.01,1,3,1)
I $D(^PS(51.1,DA,0)),$P(^(0),"^",4)]"" S ^PS(51.1,"AC",$P(^(0),"^",4),X,DA)=""
"^DD",51.1,51.1,.01,1,3,2)
I $D(^PS(51.1,DA,0)),$P(^(0),"^",4)]"" K ^PS(51.1,"AC",$P(^(0),"^",4),X,DA)
"^DD",51.1,51.1,.01,1,3,3)
USED BY SCHEDULE PROCESSOR
"^DD",51.1,51.1,.01,1,3,"%D",0)
^^2^2^2970926^^
"^DD",51.1,51.1,.01,1,3,"%D",1,0)
Used by the Schedule Processor to do package specific look-ups.
"^DD",51.1,51.1,.01,1,3,"%D",2,0)
In the form of: ^PS(51.1,"AC",$P(^(0),"^",4),X,DA)
"^DD",51.1,51.1,.01,1,4,0)
51.1^APP^MUMPS
"^DD",51.1,51.1,.01,1,4,1)
I $D(^PS(51.1,DA,0)),$P(^(0),"^",4)]"" S ^PS(51.1,"AP"_$P(^(0),"^",4),X,DA)=""
"^DD",51.1,51.1,.01,1,4,2)
I $D(^PS(51.1,DA,0)),$P(^(0),"^",4)]"" K ^PS(51.1,"AP"_$P(^(0),"^",4),X,DA)
"^DD",51.1,51.1,.01,1,4,3)
USED BY SCHEDULE PROCESSOR
"^DD",51.1,51.1,.01,1,4,"%D",0)
^^2^2^2970926^^
"^DD",51.1,51.1,.01,1,4,"%D",1,0)
Used by the schedule processor to do package specific look-ups.
"^DD",51.1,51.1,.01,1,4,"%D",2,0)
In the form of: ^PS(51.1,"AP"_$P(^(0),"^",4),X,DA)
"^DD",51.1,51.1,.01,1,5,0)
51.1^ADHL^MUMPS
"^DD",51.1,51.1,.01,1,5,1)
S PSJHLDA(+DA)="MUP"
"^DD",51.1,51.1,.01,1,5,2)
S PSJHLDA(+DA)="MDL"
"^DD",51.1,51.1,.01,1,5,"%D",0)
^^2^2^2970926^^^
"^DD",51.1,51.1,.01,1,5,"%D",1,0)
Use to update Administration Schedule to OE/RR Schedule file.
"^DD",51.1,51.1,.01,1,5,"%D",2,0)
In the form of: PSJHLDA(+DA)
"^DD",51.1,51.1,.01,1,5,"DT")
2950224
"^DD",51.1,51.1,.01,1,6,0)
^^TRIGGER^51.1^5
"^DD",51.1,51.1,.01,1,6,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=Y(0)["PRN" I X S X=DIV S Y(1)=$S($D(^PS(51.1,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV S X="P" X ^DD(51.1,.01,1,6,1.4)
"^DD",51.1,51.1,.01,1,6,1.4)
S DIH=$G(^PS(51.1,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=51.1,DIG=5 D ^DICR
"^DD",51.1,51.1,.01,1,6,2)
Q
"^DD",51.1,51.1,.01,1,6,"CREATE CONDITION")
NAME["PRN"
"^DD",51.1,51.1,.01,1,6,"CREATE VALUE")
"P"
"^DD",51.1,51.1,.01,1,6,"DELETE VALUE")
NO EFFECT
"^DD",51.1,51.1,.01,1,6,"DT")
3070108
"^DD",51.1,51.1,.01,1,6,"FIELD")
TYPE
"^DD",51.1,51.1,.01,1,7,0)
^^TRIGGER^51.1^5
"^DD",51.1,51.1,.01,1,7,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X X ^DD(51.1,.01,1,7,69.2) S X=X["P",Y=X,X=Y(1),X=X&Y I X S X=DIV S Y(1)=$S($D(^PS(51.1,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X="" X ^DD(51.1,.01,1,7,1.4)
"^DD",51.1,51.1,.01,1,7,1.4)
S DIH=$G(^PS(51.1,DIV(0),0)),DIV=X S $P(^(0),U,5)=DIV,DIH=51.1,DIG=5 D ^DICR
"^DD",51.1,51.1,.01,1,7,2)
Q
"^DD",51.1,51.1,.01,1,7,69.2)
S Y(3)=$C(59)_$P($G(^DD(51.1,5,0)),U,3),Y(2)=$S($D(^PS(51.1,D0,0)):^(0),1:"") S X=Y(0)'["PRN",Y(1)=$G(X) S X=$P($P(Y(3),$C(59)_$P(Y(2),U,5)_":",2),$C(59))
"^DD",51.1,51.1,.01,1,7,"CREATE CONDITION")
NAME'["PRN"&(TYPE["P")
"^DD",51.1,51.1,.01,1,7,"CREATE VALUE")
""
"^DD",51.1,51.1,.01,1,7,"DELETE VALUE")
NO EFFECT
"^DD",51.1,51.1,.01,1,7,"DT")
3070108
"^DD",51.1,51.1,.01,1,7,"FIELD")
TYPE
"^DD",51.1,51.1,.01,3)
Answer must be 2-20 characters in length.
"^DD",51.1,51.1,.01,20,0)
^.3LA^1^1
"^DD",51.1,51.1,.01,20,1,0)
PSJ
"^DD",51.1,51.1,.01,21,0)
^.001^3^3^3060330^^^^
"^DD",51.1,51.1,.01,21,1,0)
  This a common abbreviation for a schedule.  A schedule is the frequency
"^DD",51.1,51.1,.01,21,2,0)
for which an action is to take place, such as every eight hours ('Q8H') or
"^DD",51.1,51.1,.01,21,3,0)
every other day ('QOD').
"^DD",51.1,51.1,.01,"DT")
3070108
"^DD",51.1,51.1,5,0)
TYPE OF SCHEDULE^*SX^C:CONTINUOUS;D:DAY OF THE WEEK;DR:DAY OF THE WEEK-RANGE;O:ONE-TIME;R:RANGE;S:SHIFT;OC:ON CALL;P:PRN;^0;5^D ENPSJT^PSSJSV Q:'$D(X)
"^DD",51.1,51.1,5,3)
ENTER TYPE OF SCHEDULE.
"^DD",51.1,51.1,5,4)
D ENSTH^PSSDDUT
"^DD",51.1,51.1,5,5,1,0)
51.1^.01^6
"^DD",51.1,51.1,5,5,2,0)
51.1^.01^7
"^DD",51.1,51.1,5,12)
CHECK PACKAGE
"^DD",51.1,51.1,5,12.1)
S DIC("S")="I $S($P(^PS(51.1,DA,0),""^"",4)="""":0,$P(^(0),""^"",4)'=""PSJ"":1,Y=""DR"":0,1:""RS""'[Y)"
"^DD",51.1,51.1,5,20,0)
^.3LA^1^1
"^DD",51.1,51.1,5,20,1,0)
PSJ
"^DD",51.1,51.1,5,21,0)
^.001^2^2^3051007^^^^
"^DD",51.1,51.1,5,21,1,0)
  This is the type of schedule.  The type of schedule determines how the
"^DD",51.1,51.1,5,21,2,0)
schedule will be processed.
"^DD",51.1,51.1,5,"DT")
3070108
"BLD",7031,6)
^110
**END**
**END**
