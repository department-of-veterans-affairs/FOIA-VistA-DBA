$TXT Created by FISHER,BRAD at DEVFEY.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 12/04/03 at 18:20
=============================================================================
Run Date: FEB 04, 2004                     Designation: DG*5.3*553
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #493                    Status: Released
                  Compliance Date: MAR 06, 2004
=============================================================================

Associated patches: (v)DG*5.3*179  <<= must be installed BEFORE `DG*5.3*553'

Subject: FIX TO ADT/HL7 MESSAGING

Category: 
  - Routine

Description:
============

  
 This patch is to update the routine VAFCCCAP to correctly set up data 
 before making the call to VAFCMSG0. The modifications require that the 
 VAFCCCAP routine set up the EVENTINFO("PIVOT") array prior to the call to 
 VAFCMSG0.
  
 ASSOCIATED NOIS:
 ================
 UNY-0903-11381      ERROR IN BCSTADT+59^VAFCMSG0
  
 ASSOCIATED E3R(s):
 ==================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 Atlanta,GA
 El Paso,TX
 Roseburg,OR
 Upstate HCS
 White River Jct,VT
  
  
  
 NOIS OVERVIEW:
 ==============
 1. UNY-0903-11381   ERROR IN BCSTADT+59^VAFCMSG0
  
    Problem:
    --------
    The problem deals with a parameter not being set up when attempting to 
    create an A08 message from check in/check out a patient. When using the
    [SDAM APPT MGT] menu, and attempting to check out a patient, or
    when the batch processing is run to create/retransmit any A08 messages,
    an error was occurring. The error was because of a missing parameter
    that needed to be sent to the application being called.
    EVNTINFO("PIVOT") is item that was not being set. It is supposed to be
    set as a pointer to the 391.71 file (ADT/HL7 PIVOT).
  
    Resolution:
    -----------
    This patch sets the EVNTINFO("PIVOT") array node with the correct 
    pointer to the ADT/HL7 PIVOT file (391.71). This prevents the 
    application from creating an error, and the pivot entry is then stored
    correctly. 
  
 TECHNICAL:
 ==========
 Routine VAFCCCAP has been modified to set the EVNTINFO("PIVOT") array 
 node. There has also been logic added to set ERR if the PIVOT entry is 
 not returned/found. The message is generic, following the logic of other 
 routines using this same type of process.
  
 ROUTINE SUMMARY:
 ================
  
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Jun 06, 1996
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  VAFCCCAP               9588641              9876736        91,179,553
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
  
 This patch may be run with users on the system, but it is recommended
 that it be queued to run after normal business hours to minimize the 
 impact on users of the Scheduling package.
  
 Installation will take less than 5 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
  
 2.  Review your mapped set.  If any of the routines listed in the 
     ROUTINE section are mapped, they should be removed from the mapped 
     set at this time.
  
 3.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter DG*5.3*553):
     a.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch (routines,
         DDs, templates, etc.).
     b.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in
     c.  Print Transport Global - this option will allow you to view the
         components of the KIDS build.
  
 5.  Use the Install Package(s) option and select the package DG*5.3*553.
  
 6.  When prompted ' Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO.
  
 7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond NO. 
          
 8.  If routines were unmapped as part of step 2, they should be returned
     to the mapped set once the installation has run to completion.

Routine Information:
====================

Routine Name:
  - VAFCCCAP


Routine Checksum:

=============================================================================
User Information:
Entered By  : FISHER,BRAD                   Date Entered  : SEP 30, 2003
Completed By: BOWEN,MARY JANE               Date Completed: JAN 26, 2004
Released By : CANNEDY,JOELLEN               Date Released : FEB 04, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
