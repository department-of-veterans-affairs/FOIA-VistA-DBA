Released EAS*1*65 SEQ #69
Extracted from mail message
**KIDS**:EAS*1.0*65^

**INSTALL NAME**
EAS*1.0*65
"BLD",6258,0)
EAS*1.0*65^ENROLLMENT APPLICATION SYSTEM^0^3070801^y
"BLD",6258,4,0)
^9.64PA^^
"BLD",6258,6.3)
1
"BLD",6258,"KRN",0)
^9.67PA^8989.52^19
"BLD",6258,"KRN",.4,0)
.4
"BLD",6258,"KRN",.4,"NM",0)
^9.68A^^
"BLD",6258,"KRN",.401,0)
.401
"BLD",6258,"KRN",.402,0)
.402
"BLD",6258,"KRN",.403,0)
.403
"BLD",6258,"KRN",.5,0)
.5
"BLD",6258,"KRN",.84,0)
.84
"BLD",6258,"KRN",3.6,0)
3.6
"BLD",6258,"KRN",3.8,0)
3.8
"BLD",6258,"KRN",9.2,0)
9.2
"BLD",6258,"KRN",9.8,0)
9.8
"BLD",6258,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",6258,"KRN",9.8,"NM",1,0)
EASMT65^^0^B50456663
"BLD",6258,"KRN",9.8,"NM","B","EASMT65",1)

"BLD",6258,"KRN",19,0)
19
"BLD",6258,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",6258,"KRN",19,"NM",1,0)
EAS MT UES OVERRIDE^^0
"BLD",6258,"KRN",19,"NM",2,0)
EAS MT PRINT MENU^^2
"BLD",6258,"KRN",19,"NM","B","EAS MT PRINT MENU",2)

"BLD",6258,"KRN",19,"NM","B","EAS MT UES OVERRIDE",1)

"BLD",6258,"KRN",19.1,0)
19.1
"BLD",6258,"KRN",19.1,"NM",0)
^9.68A^1^1
"BLD",6258,"KRN",19.1,"NM",1,0)
EAS MT UES OVERRIDE^^0
"BLD",6258,"KRN",19.1,"NM","B","EAS MT UES OVERRIDE",1)

"BLD",6258,"KRN",101,0)
101
"BLD",6258,"KRN",409.61,0)
409.61
"BLD",6258,"KRN",771,0)
771
"BLD",6258,"KRN",870,0)
870
"BLD",6258,"KRN",8989.51,0)
8989.51
"BLD",6258,"KRN",8989.52,0)
8989.52
"BLD",6258,"KRN",8994,0)
8994
"BLD",6258,"KRN","B",.4,.4)

"BLD",6258,"KRN","B",.401,.401)

"BLD",6258,"KRN","B",.402,.402)

"BLD",6258,"KRN","B",.403,.403)

"BLD",6258,"KRN","B",.5,.5)

"BLD",6258,"KRN","B",.84,.84)

"BLD",6258,"KRN","B",3.6,3.6)

"BLD",6258,"KRN","B",3.8,3.8)

"BLD",6258,"KRN","B",9.2,9.2)

"BLD",6258,"KRN","B",9.8,9.8)

"BLD",6258,"KRN","B",19,19)

"BLD",6258,"KRN","B",19.1,19.1)

"BLD",6258,"KRN","B",101,101)

"BLD",6258,"KRN","B",409.61,409.61)

"BLD",6258,"KRN","B",771,771)

"BLD",6258,"KRN","B",870,870)

"BLD",6258,"KRN","B",8989.51,8989.51)

"BLD",6258,"KRN","B",8989.52,8989.52)

"BLD",6258,"KRN","B",8994,8994)

"BLD",6258,"QUES",0)
^9.62^^
"BLD",6258,"REQB",0)
^9.611^^
"KRN",19,10951,-1)
2^2
"KRN",19,10951,0)
EAS MT PRINT MENU^Letters Print Menu^^M^12540^^^^^^^552
"KRN",19,10951,10,0)
^19.01IP^9^7
"KRN",19,10951,10,9,0)
12809^^99
"KRN",19,10951,10,9,"^")
EAS MT UES OVERRIDE
"KRN",19,10951,"U")
LETTERS PRINT MENU
"KRN",19,12809,-1)
0^1
"KRN",19,12809,0)
EAS MT UES OVERRIDE^User Enrollee Site Print Override^^A^^EAS MT UES OVERRIDE^^^^^^ENROLLMENT APPLICATION SYSTEM^^1
"KRN",19,12809,1,0)
^19.06^3^3^3070730^^^^
"KRN",19,12809,1,1,0)
This option overrides the User Enrollee filters and allows a site to print
"KRN",19,12809,1,2,0)
the letters for veterans which have a User Enrollee status of 'Diff.
"KRN",19,12809,1,3,0)
Site'.
"KRN",19,12809,20)
D QUE^EASMT65
"KRN",19,12809,43)
^
"KRN",19,12809,"U")
USER ENROLLEE SITE PRINT OVERR
"KRN",19.1,550,-1)
0^1
"KRN",19.1,550,0)
EAS MT UES OVERRIDE^UE STATUS LETTER OVERRIDE^^n
"KRN",19.1,550,1,0)
^^1^1^3070719^
"KRN",19.1,550,1,1,0)
Overrides the User Enrollee Status filter on Means Test letter printing
"MBREQ")
0
"ORD",3,19.1)
19.1;3;1;;KEY^XPDTA1;;;KEYF2^XPDIA1;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",552,-1)
1^1
"PKG",552,0)
ENROLLMENT APPLICATION SYSTEM^EAS^ENROLLMENT
"PKG",552,20,0)
^9.402P^1^1
"PKG",552,20,1,0)
2^^
"PKG",552,20,1,1)
 
"PKG",552,20,"B",2,1)

"PKG",552,22,0)
^9.49I^1^1
"PKG",552,22,1,0)
1.0^3010315^3010410^66481
"PKG",552,22,1,"PAH",1,0)
65^3070801
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","EASMT65")
0^1^B50456663^n/a
"RTN","EASMT65",1,0)
EASMT65 ; ALB/SCK - MEANS TEST LETTER PRINT FOR USER ENROLLEE STATUS ; 25-JUL-2007
"RTN","EASMT65",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**65**;MAR 15,2001;Build 1
"RTN","EASMT65",3,0)
 ;
"RTN","EASMT65",4,0)
QUE ;
"RTN","EASMT65",5,0)
 N UES,LTRGRP,ZTSAVE,RETZTSK,ZTSK
"RTN","EASMT65",6,0)
 ;
"RTN","EASMT65",7,0)
 I '$D(^XUSEC("EAS MT UES OVERRIDE",DUZ)) D  Q
"RTN","EASMT65",8,0)
 . W !!,"You have not been assigned the required key to use this option."
"RTN","EASMT65",9,0)
 . W !,"Please contact IRM or the Means Test Coordinator at your site"
"RTN","EASMT65",10,0)
 . W !,"for assistance.",!!
"RTN","EASMT65",11,0)
 ;
"RTN","EASMT65",12,0)
 W:$D(IOF) @IOF
"RTN","EASMT65",13,0)
 S UES=$$GETSITE Q:'UES
"RTN","EASMT65",14,0)
 S LTRGRP=$$LTRS Q:LTRGRP=0
"RTN","EASMT65",15,0)
 ;
"RTN","EASMT65",16,0)
 S RETZTSK=1
"RTN","EASMT65",17,0)
 S ZTSAVE("UES")="",ZTSAVE("LTRGRP")=""
"RTN","EASMT65",18,0)
 D EN^XUTMDEVQ("EN^EASMT65","MT letters, UES print",.ZTSAVE)
"RTN","EASMT65",19,0)
 W !,"Job has been tasked: ",$G(ZTSK)
"RTN","EASMT65",20,0)
 Q
"RTN","EASMT65",21,0)
 ;
"RTN","EASMT65",22,0)
EN ;
"RTN","EASMT65",23,0)
 N LTRCNT,EAX
"RTN","EASMT65",24,0)
 ;
"RTN","EASMT65",25,0)
 Q:'$G(UES)
"RTN","EASMT65",26,0)
 Q:'$G(LTRGRP)
"RTN","EASMT65",27,0)
 ;
"RTN","EASMT65",28,0)
 K ^TMP("EASUE",$J)
"RTN","EASMT65",29,0)
 F EAX=1,2,4 S LTRCNT(EAX)=0
"RTN","EASMT65",30,0)
 ;
"RTN","EASMT65",31,0)
 D BUILD(UES,LTRGRP)
"RTN","EASMT65",32,0)
 D PRINT(LTRGRP)
"RTN","EASMT65",33,0)
 D FINAL(UES,LTRGRP)
"RTN","EASMT65",34,0)
 ;
"RTN","EASMT65",35,0)
 K ^TMP("EASUE",$J)
"RTN","EASMT65",36,0)
 D ^%ZISC
"RTN","EASMT65",37,0)
 Q
"RTN","EASMT65",38,0)
 ;
"RTN","EASMT65",39,0)
GETSITE() ;  Select User Enrollee Site
"RTN","EASMT65",40,0)
 N DIR,X,Y,DIRUT,DTOUT,DUOUT,RSLT
"RTN","EASMT65",41,0)
 ;
"RTN","EASMT65",42,0)
 W !,"This option will allow the override of the current filters on the User"
"RTN","EASMT65",43,0)
 W !,"Enrollee site.  By selecting a site, letters for veterans that are"
"RTN","EASMT65",44,0)
 W !,"listed as a User Enrollee of that site can be printed."
"RTN","EASMT65",45,0)
 W !,"This option should be used with care!",!
"RTN","EASMT65",46,0)
 ;
"RTN","EASMT65",47,0)
 S DIR(0)="PAO^4:EMZ"
"RTN","EASMT65",48,0)
 S DIR("A")="Select the User Enrollee site to print letters for: "
"RTN","EASMT65",49,0)
 D ^DIR K DIR
"RTN","EASMT65",50,0)
 S RSLT=+Y
"RTN","EASMT65",51,0)
 I $D(DIRUT) S RSLT=0
"RTN","EASMT65",52,0)
 Q $G(RSLT)
"RTN","EASMT65",53,0)
 ;
"RTN","EASMT65",54,0)
LTRS() ; Select letter group to print
"RTN","EASMT65",55,0)
 N DIR,DIRUT,DUOUT,DTOUT,X,Y
"RTN","EASMT65",56,0)
 ;
"RTN","EASMT65",57,0)
 S DIR(0)="SO^1:60-Day Letters;2:30-Day Letters;4:0-Day Letters;ALL:All Letters"
"RTN","EASMT65",58,0)
 S DIR("L",1)="Select the group of Letters to print:"
"RTN","EASMT65",59,0)
 S DIR("L",2)=""
"RTN","EASMT65",60,0)
 S DIR("L",3)="    1: 60-Day   2: 30-Day Letters   4: 0-Day Letters"
"RTN","EASMT65",61,0)
 S DIR("L")="    ALL: All Letters"
"RTN","EASMT65",62,0)
 S DIR("?",1)=""
"RTN","EASMT65",63,0)
 S DIR("?",2)="Select the group of letters to print: enter 1 for 60 day letters, "
"RTN","EASMT65",64,0)
 S DIR("?",3)="enter 2 for 30 day lettes, or enter 4 for 0 day letters."
"RTN","EASMT65",65,0)
 S DIR("?")="Entering 'All' will print all pending letters for 60, 30, and 0 days."
"RTN","EASMT65",66,0)
 D ^DIR K DIR
"RTN","EASMT65",67,0)
 I $D(DIRUT) S Y=0
"RTN","EASMT65",68,0)
 I Y="ALL" S Y=5
"RTN","EASMT65",69,0)
 Q $G(Y)
"RTN","EASMT65",70,0)
 ;
"RTN","EASMT65",71,0)
BUILD(UES,LTRGRP) ; Build list of letters to print
"RTN","EASMT65",72,0)
 N IEN,DFN,EAX,PFLAGS,ABRT
"RTN","EASMT65",73,0)
 ;
"RTN","EASMT65",74,0)
 I '$D(ZTQUEUED) W !,"Collecting "_$S(LTRGRP=1:"60-Day",LTRGRP=2:"30-Day",LTRGRP=4:"0-Day",1:"All ")_" letters"
"RTN","EASMT65",75,0)
 S IEN=0
"RTN","EASMT65",76,0)
 F  S IEN=$O(^EAS(713.2,"AC",0,IEN)) Q:'IEN  D
"RTN","EASMT65",77,0)
 . S EAX=$$GET1^DIQ(713.2,IEN,2,"I")
"RTN","EASMT65",78,0)
 . S DFN=$$GET1^DIQ(713.1,EAX,.01,"I")
"RTN","EASMT65",79,0)
 . Q:'$$UESITE(UES,DFN)  ; Check if UE Site matches selected site to print letters for
"RTN","EASMT65",80,0)
 . I $D(^EAS(713.1,"AP",1,EAX)) D  Q  ; Check for Prohibit flag
"RTN","EASMT65",81,0)
 . . D CLRFLG^EASMTUTL(0,IEN)
"RTN","EASMT65",82,0)
 . . S ^TMP("EASUE",$J,"ERR",$$GET1^DIQ(2,DFN,.01))=IEN_"^"_DFN_"^1~Prohibit Flag is set for the Veteran"
"RTN","EASMT65",83,0)
 . I $$DECEASED^EASMTUTL(IEN) D  Q  ; Check if veteran is deceased
"RTN","EASMT65",84,0)
 . . D CLRFLG^EASMTUTL(0,IEN)
"RTN","EASMT65",85,0)
 . . S ^TMP("EASUE",$J,"ERR",$$GET1^DIQ(2,DFN,.01))=IEN_"^"_DFN_"^2~Veteran is deceased"
"RTN","EASMT65",86,0)
 . I $$FUTMT^EASMTUTL(IEN) D  Q  ; Check if a future dated MT is in place
"RTN","EASMT65",87,0)
 . . D CLRFLG^EASMTUTL(0,IEN)
"RTN","EASMT65",88,0)
 . . S ^TMP("EASUE",$J,"ERR",$$GET1^DIQ(2,DFN,.01))=IEN_"^"_DFN_"^3~Veteran has a future dated Means Test"
"RTN","EASMT65",89,0)
 . I $$CHKADR^EASMTL6A(EAX) D  Q  ; Check for a valid address
"RTN","EASMT65",90,0)
 . . S ^TMP("EASUE",$J,"ERR",$$GET1^DIQ(2,DFN,.01))=IEN_"^"_DFN_"^4~Invalid address or Bad Address Flag"
"RTN","EASMT65",91,0)
 . S PFLAGS=$$LGROUP(IEN,LTRGRP)
"RTN","EASMT65",92,0)
 . S ^TMP("EASUE",$J,"PRNT",$$GET1^DIQ(2,DFN,.01))=IEN_"^"_DFN_"^"_PFLAGS
"RTN","EASMT65",93,0)
 Q
"RTN","EASMT65",94,0)
 ;
"RTN","EASMT65",95,0)
UESITE(UES,DFN) ; Determine UE Status
"RTN","EASMT65",96,0)
 ; Input
"RTN","EASMT65",97,0)
 ;       UES - Selected User Enrollee Site
"RTN","EASMT65",98,0)
 ;       DFN - Patient DFN
"RTN","EASMT65",99,0)
 ;       
"RTN","EASMT65",100,0)
 ;  Returns a '1' if UE Status is 'Diff. Site' and USER ENROLLEE SITE, Field #.3618, File #2
"RTN","EASMT65",101,0)
 ;  matches the UE Site passed in. otherwise returns a '0'
"RTN","EASMT65",102,0)
 ;  
"RTN","EASMT65",103,0)
 N RSLT
"RTN","EASMT65",104,0)
 ;
"RTN","EASMT65",105,0)
 I $$UESTAT^EASUER(DFN)=2 D
"RTN","EASMT65",106,0)
 . S:$$GET1^DIQ(2,DFN,.3618,"I")=UES RSLT=1
"RTN","EASMT65",107,0)
 Q $G(RSLT)
"RTN","EASMT65",108,0)
 ;
"RTN","EASMT65",109,0)
LGROUP(IEN,LTRGRP) ; Check whether the letter group has a pending letter or not. 
"RTN","EASMT65",110,0)
 ; Input - Ien in 713.2
"RTN","EASMT65",111,0)
 ;       - LTRGRP - Letter group selected: 60/30/0/All
"RTN","EASMT65",112,0)
 ; 
"RTN","EASMT65",113,0)
 ; Output - Returns a '1' it there is a pending letter for that letter group and
"RTN","EASMT65",114,0)
 ;                  a '0' if there is not.  Format is: 60-Day~30-Day~0-Day~All
"RTN","EASMT65",115,0)
 ;         
"RTN","EASMT65",116,0)
 N NODE6,NODE4,NODEZ,RSLT
"RTN","EASMT65",117,0)
 ;
"RTN","EASMT65",118,0)
 S NODE6=$G(^EAS(713.2,IEN,6))
"RTN","EASMT65",119,0)
 S NODE4=$G(^EAS(713.2,IEN,4))
"RTN","EASMT65",120,0)
 S NODEZ=$G(^EAS(713.2,IEN,"Z"))
"RTN","EASMT65",121,0)
 ;
"RTN","EASMT65",122,0)
 S $P(RSLT,"~",1)=+$P(NODE6,U,2)
"RTN","EASMT65",123,0)
 S $P(RSLT,"~",2)=+$P(NODE4,U,2)
"RTN","EASMT65",124,0)
 S $P(RSLT,"~",4)=+$P(NODEZ,U,2)
"RTN","EASMT65",125,0)
 S $P(RSLT,"~",5)=$S(LTRGRP=5:1,1:0)
"RTN","EASMT65",126,0)
 ;
"RTN","EASMT65",127,0)
 Q $G(RSLT)
"RTN","EASMT65",128,0)
 ;
"RTN","EASMT65",129,0)
PRINT(LTRGRP) ; Print Letter
"RTN","EASMT65",130,0)
 N NAME,IEN,DFN,PFLAGS,EAX,EATYP
"RTN","EASMT65",131,0)
 ;
"RTN","EASMT65",132,0)
 S NAME="",LTRCNT=0
"RTN","EASMT65",133,0)
 F  S NAME=$O(^TMP("EASUE",$J,"PRNT",NAME)) Q:NAME']""  D
"RTN","EASMT65",134,0)
 . K IEN,DFN,PFLAGS
"RTN","EASMT65",135,0)
 . S IEN=$P(^TMP("EASUE",$J,"PRNT",NAME),U,1)
"RTN","EASMT65",136,0)
 . S DFN=$P(^TMP("EASUE",$J,"PRNT",NAME),U,2)
"RTN","EASMT65",137,0)
 . S PFLAGS=$P(^TMP("EASUE",$J,"PRNT",NAME),U,3)
"RTN","EASMT65",138,0)
 . I LTRGRP=5 D
"RTN","EASMT65",139,0)
 . . F EAX=1,2,4 D
"RTN","EASMT65",140,0)
 . . . I $P(PFLAGS,"~",EAX) D
"RTN","EASMT65",141,0)
 . . . . D LETTER^EASMTL6A(IEN,EAX)
"RTN","EASMT65",142,0)
 . . . . S LTRCNT(EAX)=LTRCNT(EAX)+1
"RTN","EASMT65",143,0)
 . . . . D UPDSTAT^EASMTL6(IEN,EAX)
"RTN","EASMT65",144,0)
 . E  D
"RTN","EASMT65",145,0)
 . . I $P(PFLAGS,"~",LTRGRP) D 
"RTN","EASMT65",146,0)
 . . . D LETTER^EASMTL6A(IEN,LTRGRP)
"RTN","EASMT65",147,0)
 . . . S LTRCNT(LTRGRP)=LTRCNT(LTRGRP)+1
"RTN","EASMT65",148,0)
 . . . D UPDSTAT^EASMTL6(IEN,LTRGRP)
"RTN","EASMT65",149,0)
 Q
"RTN","EASMT65",150,0)
 ;
"RTN","EASMT65",151,0)
FINAL(UES,LTRGRP) ; Final wrap up
"RTN","EASMT65",152,0)
 N MSG,LINECNT,XMSUB,XMTEXT,XMY,XMDUZ,TOT
"RTN","EASMT65",153,0)
 ;
"RTN","EASMT65",154,0)
 I $D(^TMP("EASUE",$J,"ERR")) D ERRPT(UES,LTRGRP)
"RTN","EASMT65",155,0)
 ;
"RTN","EASMT65",156,0)
 S MSG(1)="Count of Means Test letters printed for a User Enrollee Site"
"RTN","EASMT65",157,0)
 S MSG(2)=""
"RTN","EASMT65",158,0)
 S MSG(5)="User Enrollee Site: "_$$GET1^DIQ(4,UES,.01)
"RTN","EASMT65",159,0)
 S MSG(10)="      Letter Group: "_$S(LTRGRP=1:"60-Day",LTRGRP=2:"30-Day",LTRGRP=4:"0-Day",1:"All")_" letters."
"RTN","EASMT65",160,0)
 S MSG(15)=""
"RTN","EASMT65",161,0)
 S MSG(20)=" 60-day letters printed: "_+$G(LTRCNT(1))
"RTN","EASMT65",162,0)
 S MSG(22)=" 30-day letters printed: "_+$G(LTRCNT(2))
"RTN","EASMT65",163,0)
 S MSG(24)="  0-day letters printed: "_+$G(LTRCNT(4))
"RTN","EASMT65",164,0)
 S TOT=$G(LTRCNT(1))+$G(LTRCNT(2))+$G(LTRCNT(4))
"RTN","EASMT65",165,0)
 S MSG(26)="                  Total: "_TOT
"RTN","EASMT65",166,0)
 ;
"RTN","EASMT65",167,0)
 S XMSUB="EAS LETTER RESULTS BY UE SITE "
"RTN","EASMT65",168,0)
 S XMTEXT="MSG("
"RTN","EASMT65",169,0)
 S XMY("G.EAS MTLETTERS")=""
"RTN","EASMT65",170,0)
 S XMDUZ="EAS MT LETTERS"
"RTN","EASMT65",171,0)
 D ^XMD
"RTN","EASMT65",172,0)
 Q
"RTN","EASMT65",173,0)
 ;
"RTN","EASMT65",174,0)
ERRPT(UES,LTRGRP) ; send error report to MT letters mail group
"RTN","EASMT65",175,0)
 N MSG,NAME,DFN,IEN,ERROR,LINE,LINECNT,VA,SPACE,XMSUB,XMTEXT,XMY,XMDUZ
"RTN","EASMT65",176,0)
 ;
"RTN","EASMT65",177,0)
 S NAME="",LINECNT=100
"RTN","EASMT65",178,0)
 F  S NAME=$O(^TMP("EASUE",$J,"ERR",NAME)) Q:NAME']""  D
"RTN","EASMT65",179,0)
 . S IEN=$P(^TMP("EASUE",$J,"ERR",NAME),U,1)
"RTN","EASMT65",180,0)
 . S DFN=$P(^TMP("EASUE",$J,"ERR",NAME),U,2)
"RTN","EASMT65",181,0)
 . S ERROR=$P(^TMP("EASUE",$J,"ERR",NAME),U,3)
"RTN","EASMT65",182,0)
 . S LINE=$E(NAME,1,25)
"RTN","EASMT65",183,0)
 . D PID^VADPT6 S LINE=LINE_" ("_VA("BID")_")" K VA
"RTN","EASMT65",184,0)
 . S SPACE="",$P(SPACE," ",32-$L(LINE))=""
"RTN","EASMT65",185,0)
 . S LINE=LINE_SPACE_$P(ERROR,"~",2)
"RTN","EASMT65",186,0)
 . S MSG(LINECNT)=LINE,LINECNT=LINECNT+1
"RTN","EASMT65",187,0)
 ;
"RTN","EASMT65",188,0)
 S MSG(1)="The following errors were encountered during the processing of "
"RTN","EASMT65",189,0)
 S MSG(2)="the Means Test Letters for the "_$$GET1^DIQ(4,UES,.01)_" User Enrollee Site."
"RTN","EASMT65",190,0)
 S MSG(4)=""
"RTN","EASMT65",191,0)
 S MSG(10)="Letter Group: "_$S(LTRGRP=1:"60-Day",LTRGRP=2:"30-Day",LTRGRP=4:"0-Day",1:"All")_" letters."
"RTN","EASMT65",192,0)
 S MSG(30)=""
"RTN","EASMT65",193,0)
 ;
"RTN","EASMT65",194,0)
 S XMSUB="EAS PRINT LETTERS BY UE SITE"
"RTN","EASMT65",195,0)
 S XMTEXT="MSG("
"RTN","EASMT65",196,0)
 S XMY("G.EAS MTLETTERS")=""
"RTN","EASMT65",197,0)
 S XMDUZ="EAS MT LETTERS"
"RTN","EASMT65",198,0)
 D ^XMD
"RTN","EASMT65",199,0)
 Q
"VER")
8.0^22.0
"BLD",6258,6)
^69
**END**
**END**
