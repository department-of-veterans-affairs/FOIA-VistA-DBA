$TXT Created by MALMROSE,CARY at ROX-DCM.FO-SLC.MED.VA.GOV  (KIDS) on Tuesday, 06/15/04 at 15:43
=============================================================================
Run Date: AUG 16, 2004                     Designation: LR*5.2*312
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #240                    Status: Released
                  Compliance Date: SEP 16, 2004
=============================================================================

Associated patches: (v)LR*5.2*187  <<= must be installed BEFORE `LR*5.2*312'
                    (v)LR*5.2*220  <<= must be installed BEFORE `LR*5.2*312'
                    (v)LR*5.2*230  <<= must be installed BEFORE `LR*5.2*312'

Subject: CPRS MOST RECENT RESULTS ERROR

Category: 
  - Routine

Description:
============

 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*312 does
 not contain any changes to the VISTA BLOOD BANK Software as defined
 by VHA DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*312 does
 not alter or modify any software design safeguards or safety critical
 elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*312 have no effect on
 Blood Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the
 changes made, no specific validation requirements exist as a result
 of installation of this patch.
  
  This patch resolves the following problem:
  
  When viewing Lab results in the CPRS GUI, under the Labs Tab
  with the Most Recent Labs selected, an error is occurring:
  
 $ZE= EN1+1^LR7OSMZ0:1, %DSM-E-UNDEF, undefined variable 
 ^LR(123596,"MI",6968975.888389,0), -DSM-I-ECODE, MUMPS error code: M7
  
  This only happens when the collection date/time for a patient
  specimen is the same for a Chemistry test (CH subscript) and a
  Microbiology test (MI subscript).
  
  Related to this problem is a problem described in many of the NOIS's
  listed below.  Here is a description from one of the NOIS with a 
  good example of the problem that this patch resolves:
  
    Some lab tests with an MI subscript are not displayed when
    scrolling backward using the Most Recent display on the labs
    tab.  As an example, a patient had an O&P exam ordered along
    with other lab tests.  
  
    Using the Most Recent display on the Labs tab and scrolling
    backward (using the < button) through the results the
    following results are displayed:
  
    1.      C.difficile
    2.      Fat Screen
    3.      Other CH subscript tests
  
    The O&P result is not displayed.  If you then scroll forward
    (using the > button), the O&P result is displayed, but the Fat
    Screen and C.difficile result can no longer be viewed, i.e. the
    O&P result is shown as the last result (most recent).
  
    We are running version 19 of CPRS.
  
    This problem had been reported previously in version 17 of CPRS.
    In that version an error message was displayed when scrolling
    forward toward the most recent result.
  
  RELATED NOIS:
  =============
  SFC-1002-60046
  SBY-1003-32356
  SHR-1103-71432
  UNY-0203-10165
  PHI-0104-21294
  AUG-1103-30151
  UNY-0404-10837
  SHR-0604-70279
  HWH-0602-42116
    
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994
  
                             CHECK^XTSUMBLD results
  Routine name         Before Patch          After Patch         Patch List
  ============         ============          ===========         ==========
  LR7OGM                    7564960              8016197        187,220,312
  LR7OGMC                   5014761              5100174        187,230,312
  LR7OGMM                   4414077              4440093          187,312
  LR7OGMU                   1515786              1285738          187,312
  
  INSTALLATION INSTRUCTIONS:
  ==========================
  This patch should be loaded during non-peak hours to minimize disruption
  to users.  Installation will take less than 1 minute.  Users may remain
  on the system.
   
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu. This
      option will load the KIDS patch onto your system.
   
  2.  Review your mapped set.  If the routine listed in the
      ROUTINE SUMMARY section is mapped, it should be removed
      from the mapped set at this time.
   
  3.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  4.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter LR*5.2*312):
          a.  Backup a Transport Global
          b.  Compare Transport Global to Current System
          c.  Verify Checksums in Transport Global
   
  5.  Use the Install Package(s) option and select the package LR*5.2*312.
   
  6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//'
      respond NO.
    
  7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond NO.
   
  8.  If routine was unmapped as part of step 2, it should be returned
      to the mapped set once the installation has run to completion.
  

Routine Information:
====================

Routine Name:
  - LR7OGMM

  

Routine Checksum:
 

Routine Name:
  - LR7OGMC

  

Routine Checksum:

Routine Name:
  - LR7OGM


Routine Checksum:

Routine Name:
  - LR7OGMU

  

Routine Checksum:
 

=============================================================================
User Information:
Entered By  : MALMROSE,CARY                 Date Entered  : DEC 09, 2003
Completed By: SCHLEHUBER,PAM                Date Completed: AUG 12, 2004
Released By : SCOTT,JEAN M                  Date Released : AUG 16, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
