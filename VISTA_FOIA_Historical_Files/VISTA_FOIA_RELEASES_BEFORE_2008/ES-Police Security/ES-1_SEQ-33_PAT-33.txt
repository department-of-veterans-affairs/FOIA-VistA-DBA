$TXT Created by ROSSON,JERRY at MNTDEM.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 07/24/03 at 17:01
=============================================================================
Run Date: SEP 25, 2003                     Designation: ES*1*33
Package : ES - POLICE & SECURITY              Priority: Mandatory
Version : 1        SEQ #33                      Status: Released
                  Compliance Date: OCT 26, 2003
=============================================================================

Associated patches: (v)ES*1*22     <<= must be installed BEFORE `ES*1*33'
                    (v)ES*1*27     <<= must be installed BEFORE `ES*1*33'

Subject: PROBLEM WITH EXTERNAL TO INTERNAL DATE CONVERSION  

Category: 
  - Routine
  - Data Dictionary
  - Other

Description:
============

 This patch corrects several %DT(0) variable leakage problems as well as an
 incorrect reflection of a date to the user.
  
 ASSOCIATED NOIS:
 ================
 1. ISF-1100-60379     A 'Heads Up' Input Transform and Leakage of %DT(0)
    Duplicate: 
       DAY-1201-40476     Vehicle Registration Date Problem
 2. SAJ-1000-72748     Will Not Accept Future Dates.
  
 ASSOCIATED E3RS:
 ================
 N/A
  
 PARTICIPATING TEST SITES
 ========================
 TBD
  
 NOIS OVERVIEW
 =============
 1. ISF-1100-60379     A 'Heads Up' Input Transform and Leakage of %DT(0)
  
    Problem:
    --------
    Possible problems will occur when converting external to internal dates
    when setting %DT(0). If %DT(0) is not cleared, then the next date
    conversion will also use the %DT(0) setting to convert external to
    internal dates.
  
    Solution:
    ---------
    The variable %DT(0) will be killed after the execution of ^%DT in the
    following:
  
        Routines
        --------
        ESPUCF
        ESPUCR
        ESPWR
  
        Files                                      Fields
        -----                                      ------
        ESP POLICE REGISTRATION LOG (910.2)        DATE ASSIGNED (.05)
        ESP WANTS AND WARRANTS (913)               WARRANT DATE (1.04)
        ESP VIOLATIONS (914)                       DATE/TIME OF OFFENSE (.02)
  
 2. SAJ-1000-72748     Will Not Accept Future Dates.
  
    Problem:
    --------
    When a user enters an evidence record number while using the Create/Edit
    Evidence/Property Record [ESP EVIDENCE/PROPERTY ADD/EDIT] option, it
    reflects back to the user as a date.  This does not affect how the data
    is stored, but is confusing to the user.
  
    Solution:
    ---------
    To prevent the evidence record number from displaying as a date, a change
    will be made to the ESP EVIDENCE/PROPERTY ADD/EDIT entry in the OPTION
    (#19) file.  The DIC(0) (#31) field which is currently set to "AEMQL"
    will be changed to "AEMQLU".  By adding the "U", FILEMAN is prevented
    from transforming any fields that are used for lookup.
  
  
 DISTRIBUTION:
 =============
 All patches will be exported using KIDS.
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
      <tab>;;1.0;POLICE & SECURITY;**[patch list]**;Mar 31, 1994
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  ESPUCF                 7278888              7300822            27,33
  ESPUCR                 8090057              8111991          17,22,33
  ESPWR                  6014324              6036258            17,33
  
  
 INSTALLATION INSTRUCTIONS
 =========================
 Installation will take less than 2 minutes.
   
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.
  
  2.  (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
   
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
   
  3.  Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
    
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
    
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
                                                                
           Load a Distribution 
           Print Transport Global 
           Compare Transport Global to Current System 
           Verify Checksums in Transport Global 
           Install Package(s) 
           Restart Install of Package(s) 
           Unload a Distribution 
           Backup a Transport Global  
  
  4.  From this menu, you may elect to use the following options
      (when prompted for the INSTALL NAME, enter ES*1.0*33):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
  5.  Use the Install Package(s) option and select the package ES*1.0*33.
  
      a.  When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion
          of Install? YES//', answer NO.
      b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          YES//', answer NO (unless otherwise indicated).
      c.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//', answer YES.
      d.  When prompted 'Enter options you wish to mark as 'Out Of
          Order':', enter the following:
  
        Create/Edit Evidence/Property Record [ESP EVIDENCE/PROPERTY ADD/EDIT]
  
      e.  When prompted 'Enter protocols you wish to mark as 'Out Of 
          Order':', press <return>.
  
  6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
     
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set. 

Routine Information:
====================

Routine Name:
  - ESPUCF

 * OLD *  ;;1.0;POLICE & SECURITY;**27**;Mar 31, 1994
 * NEW *  ;;1.0;POLICE & SECURITY;**27,33**; Mar 31, 1994
 * OLD *  S %DT="AE",%DT(0)="-NOW",%DT("A")="  Beginning DATE : " D ^%DT
 * NEW *  S %DT="AE",%DT(0)="-NOW",%DT("A")="  Beginning DATE : " D ^%DT K %DT

Routine Checksum:

Routine Name:
  - ESPUCR

 * OLD *  ;;1.0;POLICE & SECURITY;**17,22**;Mar 31, 1994
 * NEW *  ;;1.0;POLICE & SECURITY;**17,22,33**;Mar 31, 1994
 * OLD *  S %DT="AE",%DT(0)="-NOW",%DT("A")="  Beginning DATE : " D ^%DT
 * NEW *  S %DT="AE",%DT(0)="-NOW",%DT("A")="  Beginning DATE : " D ^%DT K %DT

Routine Checksum:

Routine Name:
  - ESPWR

 * OLD *  ;;1.0;POLICE & SECURITY;**17**;Mar 31, 1994
 * NEW *  ;;1.0;POLICE & SECURITY;**17,33**;Mar 31, 1994
 * OLD *  S %DT="AE",%DT(0)="-NOW",%DT("A")="  Beginning DATE : " D ^%DT
 * NEW *  S %DT="AE",%DT(0)="-NOW",%DT("A")="  Beginning DATE : " D ^%DT K %DT

Routine Checksum:

=============================================================================
User Information:
Entered By  : ROSSON,JERRY                  Date Entered  : DEC 19, 2002
Completed By: PHELPS,TY                     Date Completed: SEP 25, 2003
Released By : HUTCHINSON,PATRICIA ANN       Date Released : SEP 25, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
