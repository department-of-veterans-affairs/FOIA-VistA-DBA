Released EAS*1*4 SEQ #5
Extracted from mail message
**KIDS**:EAS*1.0*4^

**INSTALL NAME**
EAS*1.0*4
"BLD",3618,0)
EAS*1.0*4^ENROLLMENT APPLICATION SYSTEM^0^3011204^y
"BLD",3618,4,0)
^9.64PA^408.31^1
"BLD",3618,4,408.31,0)
408.31
"BLD",3618,4,408.31,2,0)
^9.641^408.31^1
"BLD",3618,4,408.31,2,408.31,0)
ANNUAL MEANS TEST  (File-top level)
"BLD",3618,4,408.31,2,408.31,1,0)
^9.6411^.29^1
"BLD",3618,4,408.31,2,408.31,1,.29,0)
MEANS TEST SIGNED?
"BLD",3618,4,408.31,222)
y^n^p^^^^n
"BLD",3618,4,"APDD",408.31,408.31)

"BLD",3618,4,"APDD",408.31,408.31,.29)

"BLD",3618,4,"B",408.31,408.31)

"BLD",3618,"KRN",0)
^9.67PA^19^17
"BLD",3618,"KRN",.4,0)
.4
"BLD",3618,"KRN",.401,0)
.401
"BLD",3618,"KRN",.402,0)
.402
"BLD",3618,"KRN",.403,0)
.403
"BLD",3618,"KRN",.5,0)
.5
"BLD",3618,"KRN",.84,0)
.84
"BLD",3618,"KRN",3.6,0)
3.6
"BLD",3618,"KRN",3.8,0)
3.8
"BLD",3618,"KRN",3.8,"NM",0)
^9.68A^1^1
"BLD",3618,"KRN",3.8,"NM",1,0)
EAS MEANS TEST SIGNATURE^^0
"BLD",3618,"KRN",3.8,"NM","B","EAS MEANS TEST SIGNATURE",1)

"BLD",3618,"KRN",9.2,0)
9.2
"BLD",3618,"KRN",9.8,0)
9.8
"BLD",3618,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",3618,"KRN",9.8,"NM",1,0)
EASSIGDT^^0^B26100035
"BLD",3618,"KRN",9.8,"NM",2,0)
EASSIGOV^^0^B15539021
"BLD",3618,"KRN",9.8,"NM","B","EASSIGDT",1)

"BLD",3618,"KRN",9.8,"NM","B","EASSIGOV",2)

"BLD",3618,"KRN",19,0)
19
"BLD",3618,"KRN",19,"NM",0)
^9.68A^5^4
"BLD",3618,"KRN",19,"NM",1,0)
DG MEANS TEST SUPERVISOR MENU^^2
"BLD",3618,"KRN",19,"NM",3,0)
EAS MEANS TEST SIG SUM RPT^^0
"BLD",3618,"KRN",19,"NM",4,0)
EAS MEANS TEST SIG DET RPT^^0
"BLD",3618,"KRN",19,"NM",5,0)
EAS MEANS TEST SIGNATURE RPTS^^0
"BLD",3618,"KRN",19,"NM","B","DG MEANS TEST SUPERVISOR MENU",1)

"BLD",3618,"KRN",19,"NM","B","EAS MEANS TEST SIG DET RPT",4)

"BLD",3618,"KRN",19,"NM","B","EAS MEANS TEST SIG SUM RPT",3)

"BLD",3618,"KRN",19,"NM","B","EAS MEANS TEST SIGNATURE RPTS",5)

"BLD",3618,"KRN",19.1,0)
19.1
"BLD",3618,"KRN",101,0)
101
"BLD",3618,"KRN",409.61,0)
409.61
"BLD",3618,"KRN",771,0)
771
"BLD",3618,"KRN",870,0)
870
"BLD",3618,"KRN",8994,0)
8994
"BLD",3618,"KRN","B",.4,.4)

"BLD",3618,"KRN","B",.401,.401)

"BLD",3618,"KRN","B",.402,.402)

"BLD",3618,"KRN","B",.403,.403)

"BLD",3618,"KRN","B",.5,.5)

"BLD",3618,"KRN","B",.84,.84)

"BLD",3618,"KRN","B",3.6,3.6)

"BLD",3618,"KRN","B",3.8,3.8)

"BLD",3618,"KRN","B",9.2,9.2)

"BLD",3618,"KRN","B",9.8,9.8)

"BLD",3618,"KRN","B",19,19)

"BLD",3618,"KRN","B",19.1,19.1)

"BLD",3618,"KRN","B",101,101)

"BLD",3618,"KRN","B",409.61,409.61)

"BLD",3618,"KRN","B",771,771)

"BLD",3618,"KRN","B",870,870)

"BLD",3618,"KRN","B",8994,8994)

"BLD",3618,"QUES",0)
^9.62^^
"BLD",3618,"REQB",0)
^9.611^1^1
"BLD",3618,"REQB",1,0)
EAS*1.0*5^2
"BLD",3618,"REQB","B","EAS*1.0*5",1)

"FIA",408.31)
ANNUAL MEANS TEST
"FIA",408.31,0)
^DGMT(408.31,
"FIA",408.31,0,0)
408.31ID
"FIA",408.31,0,1)
y^n^p^^^^n
"FIA",408.31,0,10)

"FIA",408.31,0,11)

"FIA",408.31,0,"RLRO")

"FIA",408.31,0,"VR")
1.0^EAS
"FIA",408.31,408.31)
1
"FIA",408.31,408.31,.29)

"KRN",3.8,306,-1)
0^1
"KRN",3.8,306,0)
EAS MEANS TEST SIGNATURE^PU^y^^^^
"KRN",3.8,306,2,0)
^^2^2^3011011^
"KRN",3.8,306,2,1,0)
This mail group has been established to receive messages from HEC
"KRN",3.8,306,2,2,0)
regarding veterans Means Test Signature status. 
"KRN",3.8,306,5,0)
^3.811P
"KRN",19,869,-1)
2^1
"KRN",19,869,0)
DG MEANS TEST SUPERVISOR MENU^Means Test Supervisor Menu^^M^.5^DG MEANSTEST^^^^^^5
"KRN",19,869,10,0)
^19.01IP^9^9
"KRN",19,869,10,9,0)
10814^MTS^3
"KRN",19,869,10,9,"^")
EAS MEANS TEST SIGNATURE RPTS
"KRN",19,869,"U")
MEANS TEST SUPERVISOR MENU
"KRN",19,10814,-1)
0^5
"KRN",19,10814,0)
EAS MEANS TEST SIGNATURE RPTS^Means Test Signature Reports^^M^^^^^^n^^REGISTRATION
"KRN",19,10814,10,0)
^19.01IP^2^2
"KRN",19,10814,10,1,0)
11200^SSR^1
"KRN",19,10814,10,1,"^")
EAS MEANS TEST SIG SUM RPT
"KRN",19,10814,10,2,0)
11201^SDR^2
"KRN",19,10814,10,2,"^")
EAS MEANS TEST SIG DET RPT
"KRN",19,10814,99)
58776,67630
"KRN",19,10814,99.1)
58777,47052
"KRN",19,10814,"U")
MEANS TEST SIGNATURE REPORTS
"KRN",19,11200,-1)
0^3
"KRN",19,11200,0)
EAS MEANS TEST SIG SUM RPT^Means Test Signature Summary Report^^R^^^^^^^^ENROLLMENT APPLICATION SYSTEM^^
"KRN",19,11200,20)

"KRN",19,11200,25)
EASSIGOV
"KRN",19,11200,"U")
MEANS TEST SIGNATURE SUMMARY R
"KRN",19,11201,-1)
0^4
"KRN",19,11201,0)
EAS MEANS TEST SIG DET RPT^Means Test Signature Detail Report^^R^^^^^^n^^ENROLLMENT APPLICATION SYSTEM^^
"KRN",19,11201,20)

"KRN",19,11201,25)
EASSIGDT
"KRN",19,11201,"U")
MEANS TEST SIGNATURE DETAIL RE
"MBREQ")
0
"ORD",11,3.8)
3.8;11;;;MAILG^XPDTA1;MAILGF1^XPDIA1;MAILGE1^XPDIA1;MAILGF2^XPDIA1
"ORD",11,3.8,0)
MAIL GROUP
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",552,-1)
1^1
"PKG",552,0)
ENROLLMENT APPLICATION SYSTEM^EAS^ENROLLMENT
"PKG",552,20,0)
^9.402P^^
"PKG",552,22,0)
^9.49I^1^1
"PKG",552,22,1,0)
1.0^3010315^3010419^66481
"PKG",552,22,1,"PAH",1,0)
4^3011204^100888
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","EASSIGDT")
0^1^B26100035
"RTN","EASSIGDT",1,0)
EASSIGDT ; ALB/RTK - Means Test Signature detail report ; 07/19/01
"RTN","EASSIGDT",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**4**;Mar 15, 2001
"RTN","EASSIGDT",3,0)
 ;
"RTN","EASSIGDT",4,0)
 ;Detail report of means test signature status.  A listing of
"RTN","EASSIGDT",5,0)
 ;means tests from the beginning of the most recent previous 
"RTN","EASSIGDT",6,0)
 ;calender year to date for all veterans with a status of Cat A,
"RTN","EASSIGDT",7,0)
 ;Cat C, or Pending Adjudication.
"RTN","EASSIGDT",8,0)
 ;
"RTN","EASSIGDT",9,0)
 N CATA,CATC,PENDA,ANO,ANUL,ADEL,CNO,CNUL,CDEL,PANO,PANUL,PADEL,CHKDT,MTIEN,CAT,MTSIG,FSSN,NSSN,SITE,MTCNT,NOW,YRSEL,NOSIG,NULLSIG,DELSIG
"RTN","EASSIGDT",10,0)
 S NOW=$P($$NOW^XLFDT,"."),(NOSIG,NULLSIG,DELSIG)=0
"RTN","EASSIGDT",11,0)
 N DIR S DIR("A")="Please select income year",DIR(0)="SM^A:PREVIOUS INCOME YEAR;B:CURRENT INCOME YEAR;C:NEXT INCOME YEAR",DIR("B")="B"
"RTN","EASSIGDT",12,0)
 D ^DIR S YRSEL=Y G END:$D(DTOUT)!($D(DUOUT))
"RTN","EASSIGDT",13,0)
 D EN
"RTN","EASSIGDT",14,0)
END K ^TMP("EAS SIG RPT",$J) Q
"RTN","EASSIGDT",15,0)
EN W @IOF
"RTN","EASSIGDT",16,0)
 D ^%ZIS I POP D ^%ZISC Q
"RTN","EASSIGDT",17,0)
 ;Set start date:
"RTN","EASSIGDT",18,0)
 S CHKDT=$S(YRSEL="A":($E(NOW,1,3)-1)_"0100",YRSEL="B":$E(NOW,1,3)_"1232",YRSEL="C":($E(NOW,1,3)+1)_"1232",1:""),DISPDT=CHKDT
"RTN","EASSIGDT",19,0)
 ;Get site ID
"RTN","EASSIGDT",20,0)
 S SITE=$P($$SITE^VASITE(NOW),"^",3)
"RTN","EASSIGDT",21,0)
 ;Get codes for Cat A, Cat C, and Pending Adjudication
"RTN","EASSIGDT",22,0)
 S (CATA,CATC,PENDA)="",(ANO,ANUL,ADEL,CNO,CNUL,CDEL,PANO,PANUL,PADEL,MTCNT)=0
"RTN","EASSIGDT",23,0)
 S CATA=$O(^DG(408.32,"B","CATEGORY A",CATA))
"RTN","EASSIGDT",24,0)
 S CATC=$O(^DG(408.32,"B","CATEGORY C",CATC))
"RTN","EASSIGDT",25,0)
 S PENDA=$O(^DG(408.32,"B","PENDING ADJUDICATION",PENDA))
"RTN","EASSIGDT",26,0)
 I YRSEL="A" D PASTYR
"RTN","EASSIGDT",27,0)
 I YRSEL'="A" D OTHERYR
"RTN","EASSIGDT",28,0)
 Q
"RTN","EASSIGDT",29,0)
PASTYR F  S CHKDT=$O(^DGMT(408.31,"B",CHKDT)) Q:$E(CHKDT,1,3)=($E(DISPDT,1,3)+1)  D
"RTN","EASSIGDT",30,0)
 .S MTIEN="" F  S MTIEN=$O(^DGMT(408.31,"B",CHKDT,MTIEN)) Q:MTIEN=""  D
"RTN","EASSIGDT",31,0)
 ..;Is test primary?
"RTN","EASSIGDT",32,0)
 ..I $G(^DGMT(408.31,MTIEN,"PRIM"))'=1 Q
"RTN","EASSIGDT",33,0)
 ..;If MT already signed, ignore
"RTN","EASSIGDT",34,0)
 ..I $P($G(^DGMT(408.31,MTIEN,0)),"^",29)=1 Q
"RTN","EASSIGDT",35,0)
 ..;If not a Means Test, ignore
"RTN","EASSIGDT",36,0)
 ..I $P($G(^DGMT(408.31,MTIEN,0)),"^",19)'=1 Q
"RTN","EASSIGDT",37,0)
 ..;Determine category
"RTN","EASSIGDT",38,0)
 ..S CAT=$P(^DGMT(408.31,MTIEN,0),"^",3) I CAT'=CATA,CAT'=CATC,CAT'=PENDA Q
"RTN","EASSIGDT",39,0)
 ..S MTSIG=$P(^DGMT(408.31,MTIEN,0),"^",29),PATPTR=$P(^DGMT(408.31,MTIEN,0),"^",2) I '$D(^DPT(PATPTR)) Q
"RTN","EASSIGDT",40,0)
 ..S NAME=$P(^DPT(PATPTR,0),"^"),SSN=$P(^DPT(PATPTR,0),"^",9)
"RTN","EASSIGDT",41,0)
 ..;Translate status and indicator values
"RTN","EASSIGDT",42,0)
 ..S CATTXT=$S(CAT=CATA:"A",CAT=CATC:"C",CAT=PENDA:"Pend. Adjud.",1:"n/a"),SIGTXT=$S(MTSIG=0:"No",MTSIG="":"Null",MTSIG=9:"Deleted",1:"")
"RTN","EASSIGDT",43,0)
 ..I MTSIG=0 S NOSIG=NOSIG+1
"RTN","EASSIGDT",44,0)
 ..I MTSIG="" S NULLSIG=NULLSIG+1
"RTN","EASSIGDT",45,0)
 ..I MTSIG=9 S DELSIG=DELSIG+1
"RTN","EASSIGDT",46,0)
 ..S ^TMP("EAS SIG RPT",$J,NAME)=NAME_"^"_SSN_"^"_CATTXT_"^"_SIGTXT,MTCNT=MTCNT+1
"RTN","EASSIGDT",47,0)
 D PRINT
"RTN","EASSIGDT",48,0)
 Q
"RTN","EASSIGDT",49,0)
OTHERYR F  S CHKDT=$O(^DGMT(408.31,"B",CHKDT),-1) Q:$E(CHKDT,1,3)=($E(DISPDT,1,3)-1)  D
"RTN","EASSIGDT",50,0)
 .S MTIEN="" F  S MTIEN=$O(^DGMT(408.31,"B",CHKDT,MTIEN)) Q:MTIEN=""  D
"RTN","EASSIGDT",51,0)
 ..;Is test primary?
"RTN","EASSIGDT",52,0)
 ..I $G(^DGMT(408.31,MTIEN,"PRIM"))'=1 Q
"RTN","EASSIGDT",53,0)
 ..;Is test from this site?
"RTN","EASSIGDT",54,0)
 ..;I $P($G(^DGMT(408.31,MTIEN,2)),"^",5)'=SITE Q
"RTN","EASSIGDT",55,0)
 ..;If MT already signed, ignore
"RTN","EASSIGDT",56,0)
 ..I $P($G(^DGMT(408.31,MTIEN,0)),"^",29)=1 Q
"RTN","EASSIGDT",57,0)
 ..;If not a Means Test, ignore
"RTN","EASSIGDT",58,0)
 ..I $P($G(^DGMT(408.31,MTIEN,0)),"^",19)'=1 Q
"RTN","EASSIGDT",59,0)
 ..;Determine category
"RTN","EASSIGDT",60,0)
 ..S CAT=$P(^DGMT(408.31,MTIEN,0),"^",3) I CAT'=CATA,CAT'=CATC,CAT'=PENDA Q
"RTN","EASSIGDT",61,0)
 ..S MTSIG=$P(^DGMT(408.31,MTIEN,0),"^",29),PATPTR=$P(^DGMT(408.31,MTIEN,0),"^",2) I '$D(^DPT(PATPTR)) Q
"RTN","EASSIGDT",62,0)
 ..S NAME=$P(^DPT(PATPTR,0),"^"),SSN=$P(^DPT(PATPTR,0),"^",9)
"RTN","EASSIGDT",63,0)
 ..;Translate status and indicator values
"RTN","EASSIGDT",64,0)
 ..S CATTXT=$S(CAT=CATA:"A",CAT=CATC:"C",CAT=PENDA:"Pend. Adjud.",1:"n/a"),SIGTXT=$S(MTSIG=0:"No",MTSIG="":"Null",MTSIG=9:"Deleted",1:"")
"RTN","EASSIGDT",65,0)
 ..I MTSIG=0 S NOSIG=NOSIG+1
"RTN","EASSIGDT",66,0)
 ..I MTSIG="" S NULLSIG=NULLSIG+1
"RTN","EASSIGDT",67,0)
 ..I MTSIG=9 S DELSIG=DELSIG+1
"RTN","EASSIGDT",68,0)
 ..S ^TMP("EAS SIG RPT",$J,NAME)=NAME_"^"_SSN_"^"_CATTXT_"^"_SIGTXT,MTCNT=MTCNT+1
"RTN","EASSIGDT",69,0)
 D PRINT
"RTN","EASSIGDT",70,0)
 Q
"RTN","EASSIGDT",71,0)
 ;
"RTN","EASSIGDT",72,0)
PRINT W @IOF
"RTN","EASSIGDT",73,0)
 W !,?2,"The purpose of this report is to list those veterans at a particular site for which a signature still needs to be obtained."
"RTN","EASSIGDT",74,0)
 W "  A veteran will ONLY be listed if NEITHER the local site NOR the primary site (if different) has obtained a signature."
"RTN","EASSIGDT",75,0)
 W "  Once a signature has been obtained by EITHER the local OR primary (if different) site, the veteran will be removed from this list."
"RTN","EASSIGDT",76,0)
 W !!,?2,"Signature Status For Means Tests Dated Within Income Year ",$S(YRSEL="A":$E(NOW,1,3)+1698,YRSEL="B":$E(NOW,1,3)+1699,YRSEL="C":$E(NOW,1,3)+1700),!
"RTN","EASSIGDT",77,0)
 W !,?2,"Veteran Name",?25,"SSN",?40,"MT Status",?55,"MT Sig Indicator"
"RTN","EASSIGDT",78,0)
 W !,?55,"(Primary/Local Site)"
"RTN","EASSIGDT",79,0)
 W ! F I=1:1:80 W "_"
"RTN","EASSIGDT",80,0)
 S NAME="" F  S NAME=$O(^TMP("EAS SIG RPT",$J,NAME)) Q:NAME=""  D
"RTN","EASSIGDT",81,0)
 .;Format SSN
"RTN","EASSIGDT",82,0)
 .S NSSN=$P(^TMP("EAS SIG RPT",$J,NAME),"^",2),FSSN=$E(NSSN,1,3)_"-"_$E(NSSN,4,5)_"-"_$E(NSSN,6,9)
"RTN","EASSIGDT",83,0)
 . W !,?2,$E($P(^TMP("EAS SIG RPT",$J,NAME),"^"),1,23),?25,FSSN,?40,$P(^TMP("EAS SIG RPT",$J,NAME),"^",3),?55,$P(^TMP("EAS SIG RPT",$J,NAME),"^",4)
"RTN","EASSIGDT",84,0)
 W ! F I=1:1:80 W "_"
"RTN","EASSIGDT",85,0)
 W !!,?2,"NO indicator = ",NOSIG
"RTN","EASSIGDT",86,0)
 W !,?2,"NULL indicator = ",NULLSIG
"RTN","EASSIGDT",87,0)
 W !,?2,"DELETED indicator = ",DELSIG
"RTN","EASSIGDT",88,0)
 W !,?2,"Count of Veterans = ",MTCNT,!
"RTN","EASSIGDT",89,0)
 D ^%ZISC
"RTN","EASSIGDT",90,0)
 Q
"RTN","EASSIGOV")
0^2^B15539021
"RTN","EASSIGOV",1,0)
EASSIGOV ; ALB/RTK - Means Test Signature summary report ; 07/19/01
"RTN","EASSIGOV",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**4**;Mar 15, 2001
"RTN","EASSIGOV",3,0)
 ;
"RTN","EASSIGOV",4,0)
 N YRSEL,SIGYES,SIGNO,SIGDEL,SIGNUL,CHKDT,MTIEN,MTSIG,NOW,SITE,CATA,CATC,PENDA
"RTN","EASSIGOV",5,0)
 S NOW=$P($$NOW^XLFDT,"."),SITE=$P($$SITE^VASITE,"^",3)
"RTN","EASSIGOV",6,0)
 S (SIGYES,SIGNO,SIGDEL,SIGNUL)=0
"RTN","EASSIGOV",7,0)
 N DIR S DIR("A")="Please select income year",DIR(0)="SM^A:PREVIOUS INCOME YEAR;B:CURRENT INCOME YEAR;C:NEXT INCOME YEAR",DIR("B")="B"
"RTN","EASSIGOV",8,0)
 D ^DIR S YRSEL=Y G END:$D(DTOUT)!($D(DUOUT))
"RTN","EASSIGOV",9,0)
 D EN
"RTN","EASSIGOV",10,0)
END Q
"RTN","EASSIGOV",11,0)
EN W @IOF
"RTN","EASSIGOV",12,0)
 S (CATA,CATC,PENDA)=""
"RTN","EASSIGOV",13,0)
 S CATA=$O(^DG(408.32,"B","CATEGORY A",CATA))
"RTN","EASSIGOV",14,0)
 S CATC=$O(^DG(408.32,"B","CATEGORY C",CATC))
"RTN","EASSIGOV",15,0)
 S PENDA=$O(^DG(408.32,"B","PENDING ADJUDICATION",PENDA))
"RTN","EASSIGOV",16,0)
 ;Set start date:
"RTN","EASSIGOV",17,0)
 S CHKDT=$S(YRSEL="A":($E(NOW,1,3)-1)_"0100",YRSEL="B":$E(NOW,1,3)_"1232",YRSEL="C":($E(NOW,1,3)+1)_"1232",1:""),DISPDT=CHKDT
"RTN","EASSIGOV",18,0)
 I YRSEL="A" D PASTYR
"RTN","EASSIGOV",19,0)
 I YRSEL'="A" D OTHERYR
"RTN","EASSIGOV",20,0)
 Q
"RTN","EASSIGOV",21,0)
PASTYR F  S CHKDT=$O(^DGMT(408.31,"B",CHKDT)) Q:$E(CHKDT,1,3)=($E(DISPDT,1,3)+1)  D
"RTN","EASSIGOV",22,0)
 .S MTIEN="" F  S MTIEN=$O(^DGMT(408.31,"B",CHKDT,MTIEN)) Q:+MTIEN=0  D
"RTN","EASSIGOV",23,0)
 ..;Is test primary?
"RTN","EASSIGOV",24,0)
 ..I $G(^DGMT(408.31,MTIEN,"PRIM"))'=1 Q
"RTN","EASSIGOV",25,0)
 ..;Is test from this site?
"RTN","EASSIGOV",26,0)
 ..I $P($G(^DGMT(408.31,MTIEN,2)),"^",5)'=SITE Q
"RTN","EASSIGOV",27,0)
 ..;If not a Means Test, ignore
"RTN","EASSIGOV",28,0)
 ..I $P($G(^DGMT(408.31,MTIEN,0)),"^",19)'=1 Q
"RTN","EASSIGOV",29,0)
 ..;Check category
"RTN","EASSIGOV",30,0)
 ..S CAT=$P(^DGMT(408.31,MTIEN,0),"^",3) I CAT'=CATA,CAT'=CATC,CAT'=PENDA Q
"RTN","EASSIGOV",31,0)
 ..S MTSIG=$P(^DGMT(408.31,MTIEN,0),"^",29)
"RTN","EASSIGOV",32,0)
 ..;Set counters
"RTN","EASSIGOV",33,0)
 ..I MTSIG=1 S SIGYES=SIGYES+1 Q
"RTN","EASSIGOV",34,0)
 ..I MTSIG=0 S SIGNO=SIGNO+1 Q
"RTN","EASSIGOV",35,0)
 ..I MTSIG=9 S SIGDEL=SIGDEL+1 Q
"RTN","EASSIGOV",36,0)
 ..I MTSIG="" S SIGNUL=SIGNUL+1
"RTN","EASSIGOV",37,0)
 D PRINT
"RTN","EASSIGOV",38,0)
 Q
"RTN","EASSIGOV",39,0)
OTHERYR F  S CHKDT=$O(^DGMT(408.31,"B",CHKDT),-1) Q:$E(CHKDT,1,3)=($E(DISPDT,1,3)-1)  D
"RTN","EASSIGOV",40,0)
 .S MTIEN="" F  S MTIEN=$O(^DGMT(408.31,"B",CHKDT,MTIEN)) Q:+MTIEN=0  D
"RTN","EASSIGOV",41,0)
 ..;Is test primary?
"RTN","EASSIGOV",42,0)
 ..I $G(^DGMT(408.31,MTIEN,"PRIM"))'=1 Q
"RTN","EASSIGOV",43,0)
 ..;Is test from this site?
"RTN","EASSIGOV",44,0)
 ..I $P($G(^DGMT(408.31,MTIEN,2)),"^",5)'=SITE Q
"RTN","EASSIGOV",45,0)
 ..;If not a Means Test, ignore
"RTN","EASSIGOV",46,0)
 ..I $P($G(^DGMT(408.31,MTIEN,0)),"^",19)'=1 Q
"RTN","EASSIGOV",47,0)
 ..;Check category
"RTN","EASSIGOV",48,0)
 ..S CAT=$P(^DGMT(408.31,MTIEN,0),"^",3) I CAT'=CATA,CAT'=CATC,CAT'=PENDA Q
"RTN","EASSIGOV",49,0)
 ..S MTSIG=$P(^DGMT(408.31,MTIEN,0),"^",29)
"RTN","EASSIGOV",50,0)
 ..;Set counters
"RTN","EASSIGOV",51,0)
 ..I MTSIG=1 S SIGYES=SIGYES+1 Q
"RTN","EASSIGOV",52,0)
 ..I MTSIG=0 S SIGNO=SIGNO+1 Q
"RTN","EASSIGOV",53,0)
 ..I MTSIG=9 S SIGDEL=SIGDEL+1 Q
"RTN","EASSIGOV",54,0)
 ..I MTSIG="" S SIGNUL=SIGNUL+1
"RTN","EASSIGOV",55,0)
 D PRINT
"RTN","EASSIGOV",56,0)
 Q
"RTN","EASSIGOV",57,0)
PRINT D ^%ZIS I POP D ^%ZISC Q
"RTN","EASSIGOV",58,0)
 W !,?2,"This purpose of this report is to help sites monitor the Means Test images returned to them by the HEC."
"RTN","EASSIGOV",59,0)
 W "  The report only shows signature indicators for MTs that were submitted by the local site (which may or may not be designated as the primary site)."
"RTN","EASSIGOV",60,0)
 W "  It does NOT take into account that the HEC may already have a signature on file for the vet as sent from a different, primary site."
"RTN","EASSIGOV",61,0)
 W !!,?2,"Means Test Signature Data for Income Year ",$E(DISPDT,1,3)+1699,":",!
"RTN","EASSIGOV",62,0)
 W !,?2,"Local Site Means Test with Signature Indicator = YES",?60,SIGYES
"RTN","EASSIGOV",63,0)
 W !,?2,"Local Site Means Test with Signature Indicator = NO",?60,SIGNO
"RTN","EASSIGOV",64,0)
 W !,?2,"Local Site Means Test with Signature Indicator = DELETED",?60,SIGDEL
"RTN","EASSIGOV",65,0)
 W !,?2,"Local Site Means Test with Signature Indicator = NULL",?60,SIGNUL
"RTN","EASSIGOV",66,0)
 W ! F I=1:1:80 W "_"
"RTN","EASSIGOV",67,0)
 W !,?50,"Total",?60,(SIGYES+SIGNO+SIGDEL+SIGNUL)
"RTN","EASSIGOV",68,0)
 D ^%ZISC
"RTN","EASSIGOV",69,0)
 Q
"VER")
8.0^22
"^DD",408.31,408.31,.29,0)
MEANS TEST SIGNED?^S^1:YES;0:NO;9:DELETED;^0;29^Q
"^DD",408.31,408.31,.29,3)
This field is only populated by HEC.
"^DD",408.31,408.31,.29,21,0)
^.001^1^1^3010717^^
"^DD",408.31,408.31,.29,21,1,0)
This field will indicate whether or not HEC has determined that a valid signature exists for this means test.
"^DD",408.31,408.31,.29,"DT")
3010717
**END**
**END**
