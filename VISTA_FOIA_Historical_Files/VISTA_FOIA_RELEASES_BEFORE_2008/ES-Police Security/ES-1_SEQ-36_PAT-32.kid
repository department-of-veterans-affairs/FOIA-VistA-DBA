Released ES*1*32 SEQ #36
Extracted from mail message
**KIDS**:ES*1.0*32^

**INSTALL NAME**
ES*1.0*32
"BLD",4834,0)
ES*1.0*32^POLICE & SECURITY^0^3040317^y
"BLD",4834,1,0)
^^1^1^3030918^^
"BLD",4834,1,1,0)
TIME entry default not correct.
"BLD",4834,4,0)
^9.64PA^916^1
"BLD",4834,4,916,0)
916
"BLD",4834,4,916,2,0)
^9.641^916^1
"BLD",4834,4,916,2,916,0)
ESP DAILY JOURNAL  (File-top level)
"BLD",4834,4,916,2,916,1,0)
^9.6411^2^2
"BLD",4834,4,916,2,916,1,1,0)
FROM
"BLD",4834,4,916,2,916,1,2,0)
TO
"BLD",4834,4,916,222)
y^y^p^^^^n^^n
"BLD",4834,4,916,224)

"BLD",4834,4,"APDD",916,916)

"BLD",4834,4,"APDD",916,916,1)

"BLD",4834,4,"APDD",916,916,2)

"BLD",4834,4,"B",916,916)

"BLD",4834,"ABPKG")
n
"BLD",4834,"KRN",0)
^9.67PA^8989.52^19
"BLD",4834,"KRN",.4,0)
.4
"BLD",4834,"KRN",.4,"NM",0)
^9.68A^^
"BLD",4834,"KRN",.401,0)
.401
"BLD",4834,"KRN",.402,0)
.402
"BLD",4834,"KRN",.403,0)
.403
"BLD",4834,"KRN",.5,0)
.5
"BLD",4834,"KRN",.84,0)
.84
"BLD",4834,"KRN",3.6,0)
3.6
"BLD",4834,"KRN",3.8,0)
3.8
"BLD",4834,"KRN",9.2,0)
9.2
"BLD",4834,"KRN",9.8,0)
9.8
"BLD",4834,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",4834,"KRN",9.8,"NM",1,0)
ESPAJE^^0^B4925436
"BLD",4834,"KRN",9.8,"NM",2,0)
ESPJOU1^^0^B3169728
"BLD",4834,"KRN",9.8,"NM","B","ESPAJE",1)

"BLD",4834,"KRN",9.8,"NM","B","ESPJOU1",2)

"BLD",4834,"KRN",19,0)
19
"BLD",4834,"KRN",19.1,0)
19.1
"BLD",4834,"KRN",101,0)
101
"BLD",4834,"KRN",409.61,0)
409.61
"BLD",4834,"KRN",771,0)
771
"BLD",4834,"KRN",870,0)
870
"BLD",4834,"KRN",8989.51,0)
8989.51
"BLD",4834,"KRN",8989.52,0)
8989.52
"BLD",4834,"KRN",8994,0)
8994
"BLD",4834,"KRN","B",.4,.4)

"BLD",4834,"KRN","B",.401,.401)

"BLD",4834,"KRN","B",.402,.402)

"BLD",4834,"KRN","B",.403,.403)

"BLD",4834,"KRN","B",.5,.5)

"BLD",4834,"KRN","B",.84,.84)

"BLD",4834,"KRN","B",3.6,3.6)

"BLD",4834,"KRN","B",3.8,3.8)

"BLD",4834,"KRN","B",9.2,9.2)

"BLD",4834,"KRN","B",9.8,9.8)

"BLD",4834,"KRN","B",19,19)

"BLD",4834,"KRN","B",19.1,19.1)

"BLD",4834,"KRN","B",101,101)

"BLD",4834,"KRN","B",409.61,409.61)

"BLD",4834,"KRN","B",771,771)

"BLD",4834,"KRN","B",870,870)

"BLD",4834,"KRN","B",8989.51,8989.51)

"BLD",4834,"KRN","B",8989.52,8989.52)

"BLD",4834,"KRN","B",8994,8994)

"BLD",4834,"QUES",0)
^9.62^^
"BLD",4834,"REQB",0)
^9.611^3^2
"BLD",4834,"REQB",2,0)
ES*1.0*24^1
"BLD",4834,"REQB",3,0)
ES*1.0*18^1
"BLD",4834,"REQB","B","ES*1.0*18",3)

"BLD",4834,"REQB","B","ES*1.0*24",2)

"FIA",916)
ESP DAILY JOURNAL
"FIA",916,0)
^ESP(916,
"FIA",916,0,0)
916ID
"FIA",916,0,1)
y^y^p^^^^n^^n
"FIA",916,0,10)

"FIA",916,0,11)

"FIA",916,0,"RLRO")

"FIA",916,0,"VR")
1.0^ES
"FIA",916,916)
1
"FIA",916,916,1)

"FIA",916,916,2)

"MBREQ")
0
"PKG",368,-1)
1^1
"PKG",368,0)
POLICE & SECURITY^ES^POLICE & SECURITY PACKAGE
"PKG",368,20,0)
^9.402P^^
"PKG",368,22,0)
^9.49I^1^1
"PKG",368,22,1,0)
1.0^2930300^2960130
"PKG",368,22,1,"PAH",1,0)
32^3040317
"PKG",368,22,1,"PAH",1,1,0)
^^1^1^3040317
"PKG",368,22,1,"PAH",1,1,1,0)
TIME entry default not correct.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ESPAJE")
0^1^B4925436
"RTN","ESPAJE",1,0)
ESPAJE ;ALB/ABR - ADD JOURNAL ENTRY ; 9/24/96
"RTN","ESPAJE",2,0)
 ;;1.0;POLICE & SECURITY;**17,18,23,24,32**;Mar 31, 1994
"RTN","ESPAJE",3,0)
 ;
"RTN","ESPAJE",4,0)
 ;  This will enable multiple journal entries to be added for the same
"RTN","ESPAJE",5,0)
 ;  time without overwriting one that is in use.
"RTN","ESPAJE",6,0)
 ;
"RTN","ESPAJE",7,0)
 N DIC,DA,X,Y,FIRST,REC,TME
"RTN","ESPAJE",8,0)
 D DATE
"RTN","ESPAJE",9,0)
 S FIRST=1
"RTN","ESPAJE",10,0)
 I Y>0 F  D ENTRY Q:$G(Y)<0!$D(DUOUT)!$D(DTOUT)
"RTN","ESPAJE",11,0)
 Q
"RTN","ESPAJE",12,0)
DATE ;  select date
"RTN","ESPAJE",13,0)
 S DIC="^ESP(916,",DIC(0)="AEQMZ"
"RTN","ESPAJE",14,0)
 D ^DIC
"RTN","ESPAJE",15,0)
 I Y S ESPDAT=+Y,DIC=DIC_ESPDAT_",4,",DIC("P")=$P(^DD(916,5,0),U,2)
"RTN","ESPAJE",16,0)
 Q
"RTN","ESPAJE",17,0)
 ;
"RTN","ESPAJE",18,0)
ENTRY ;add/edit entry in time multiple
"RTN","ESPAJE",19,0)
 S DA(1)=ESPDAT,DIC(0)="QAELMZ"
"RTN","ESPAJE",20,0)
 I FIRST D
"RTN","ESPAJE",21,0)
 .S DIC("B")=$$LAST(ESPDAT),FIRST=0
"RTN","ESPAJE",22,0)
 E  K DIC("B")
"RTN","ESPAJE",23,0)
 D ^DIC Q:Y<1
"RTN","ESPAJE",24,0)
 S (REC,DA)=+Y
"RTN","ESPAJE",25,0)
 L +^ESP(916,ESPDAT,4,REC):2 I '$T D  Q
"RTN","ESPAJE",26,0)
 . W !!,">>Entry for this time is in use.",!,"To create an additional entry for this time, enter time in quotes."
"RTN","ESPAJE",27,0)
 . W !,"  E.g. - ""1300"""
"RTN","ESPAJE",28,0)
 . W !,"Try later to edit same entry.",!
"RTN","ESPAJE",29,0)
EDIT ; edit (add) info to new entry
"RTN","ESPAJE",30,0)
 S DIE=DIC,DA=+Y,DA(1)=ESPDAT,DR=".01;1;2;3" D ^DIE
"RTN","ESPAJE",31,0)
 L -^ESP(916,ESPDAT,4,REC)
"RTN","ESPAJE",32,0)
 Q
"RTN","ESPAJE",33,0)
 ;
"RTN","ESPAJE",34,0)
LAST(ESPDAT)    ; get last time for journal entry
"RTN","ESPAJE",35,0)
 Q:'$G(ESPDAT) ""
"RTN","ESPAJE",36,0)
 N TIME1,TIME2,ESPT,FCX,FC
"RTN","ESPAJE",37,0)
 ;
"RTN","ESPAJE",38,0)
 ; Are start and end times for the journal defined? If so, use them.
"RTN","ESPAJE",39,0)
 ;
"RTN","ESPAJE",40,0)
 S ESPT=$G(^ESP(916,ESPDAT,1))
"RTN","ESPAJE",41,0)
 I ESPT S ESPT=$P($P(^ESP(916,ESPDAT,1),"^",2),"-",4)
"RTN","ESPAJE",42,0)
 I ESPT,ESPT?4N,+ESPT>0&+ESPT<2401 D
"RTN","ESPAJE",43,0)
 .S ESPT=+$P($P(^ESP(916,ESPDAT,1),"^",2),"-",4)+1
"RTN","ESPAJE",44,0)
 .S TIME1=""
"RTN","ESPAJE",45,0)
 .F  S TIME1=$O(^ESP(916,ESPDAT,4,"B",TIME1)) Q:TIME1=""  D
"RTN","ESPAJE",46,0)
 ..S X=DT_"."_TIME1 D H^%DTC
"RTN","ESPAJE",47,0)
 ..S ^TMP($J,ESPDAT,%T)=TIME1
"RTN","ESPAJE",48,0)
 ..S TME="" F  S TME=$O(^TMP($J,ESPDAT,TME)) Q:TME=""  S TIME2=^TMP($J,ESPDAT,TME)
"RTN","ESPAJE",49,0)
 .Q:$G(TIME2)=""
"RTN","ESPAJE",50,0)
 .S TIME2=$J(TIME2,4),TIME2=$TR(TIME2," ",0)
"RTN","ESPAJE",51,0)
 .K ^TMP($J,ESPDAT)
"RTN","ESPAJE",52,0)
 ;
"RTN","ESPAJE",53,0)
 ;  If start/end times for journal not defined, assume 0001-2400
"RTN","ESPAJE",54,0)
 ;
"RTN","ESPAJE",55,0)
 E  D
"RTN","ESPAJE",56,0)
 .S TIME1=$O(^ESP(916,ESPDAT,4,"B",""),-1)
"RTN","ESPAJE",57,0)
 .S TIME2=$O(^ESP(916,ESPDAT,4,"B",9999),-1)
"RTN","ESPAJE",58,0)
 .I (+TIME1)>TIME2 S TIME2=TIME1
"RTN","ESPAJE",59,0)
 ;
"RTN","ESPAJE",60,0)
 Q $G(TIME2)
"RTN","ESPJOU1")
0^2^B3169728
"RTN","ESPJOU1",1,0)
ESPJOU1 ;DALISC/RWW - ENHANCED/MODIFIED PRINT DAILY OPERATIONS JOURNAL ;3/93
"RTN","ESPJOU1",2,0)
 ;;1.0;POLICE & SECURITY;**1,7,12,14,18,32**;Mar 31, 1994
"RTN","ESPJOU1",3,0)
EN ;
"RTN","ESPJOU1",4,0)
 D DT^DICRW
"RTN","ESPJOU1",5,0)
JOU S DIC(0)="QAEMZ",DIC("A")="DATE: ",DIC="^ESP(916,"
"RTN","ESPJOU1",6,0)
 D ^DIC
"RTN","ESPJOU1",7,0)
 G:$D(DTOUT)!($D(DUOUT))!(X="") EXIT
"RTN","ESPJOU1",8,0)
 I Y<0 W !,$C(7),"DATE not found.  Please try again." G JOU
"RTN","ESPJOU1",9,0)
 S ESPID=+Y
"RTN","ESPJOU1",10,0)
Q S %ZIS="Q" D ^%ZIS G:POP EXIT I '$D(IO("Q")) U IO D START G EXIT
"RTN","ESPJOU1",11,0)
 S ZTRTN="START^ESPJOU1",ZTSAVE("ESP*")="",ZTDESC="DAILY JOURNAL" D ^%ZTLOAD,HOME^%ZIS
"RTN","ESPJOU1",12,0)
EXIT Q
"RTN","ESPJOU1",13,0)
START ;BEGINS THE PRINT OF THE DAILY JOURNAL
"RTN","ESPJOU1",14,0)
 N ESPJOU1
"RTN","ESPJOU1",15,0)
 S ESPJOU1=1
"RTN","ESPJOU1",16,0)
 D START^ESPJOU
"RTN","ESPJOU1",17,0)
 Q
"RTN","ESPJOU1",18,0)
 ;
"RTN","ESPJOU1",19,0)
 ;
"RTN","ESPJOU1",20,0)
SORT ;Sorts Daily Journal in Time Sequence
"RTN","ESPJOU1",21,0)
 N ESPTIME,ESPTIME2,ESPT,%T
"RTN","ESPJOU1",22,0)
 ;
"RTN","ESPJOU1",23,0)
 ; Are start and end times for the journal defined? If so, use them.
"RTN","ESPJOU1",24,0)
 ;
"RTN","ESPJOU1",25,0)
 S ESPT=$G(^ESP(916,ESPID,1))
"RTN","ESPJOU1",26,0)
 I ESPT S ESPT=$P($P(ESPT,"^"),"-",4)
"RTN","ESPJOU1",27,0)
 I ESPT,ESPT?4N,+ESPT>0&+ESPT<2401 D
"RTN","ESPJOU1",28,0)
 .S ESPTIME=""
"RTN","ESPJOU1",29,0)
 .F  S ESPTIME=$O(^ESP(916,ESPID,4,"B",ESPTIME)) Q:ESPTIME=""  D
"RTN","ESPJOU1",30,0)
 ..S ESPN=""
"RTN","ESPJOU1",31,0)
 ..F  S ESPN=$O(^ESP(916,ESPID,4,"B",ESPTIME,ESPN)) Q:ESPN=""  D
"RTN","ESPJOU1",32,0)
 ...S ESPTIME2=ESPTIME
"RTN","ESPJOU1",33,0)
 ...I +ESPTIME2<ESPT S ESPTIME2=ESPTIME2+2400
"RTN","ESPJOU1",34,0)
 ...I $L(ESPTIME2)<4 S ESPTIME2="0"_ESPTIME2
"RTN","ESPJOU1",35,0)
 ...S ^TMP($J,"ESP",DT_ESPTIME2_$E("0000",1,4-$L(ESPN))_ESPN)=ESPN
"RTN","ESPJOU1",36,0)
 ;
"RTN","ESPJOU1",37,0)
 ;  If start/end times for journal not defined, assume 0001-2400
"RTN","ESPJOU1",38,0)
 ;
"RTN","ESPJOU1",39,0)
 E  D
"RTN","ESPJOU1",40,0)
 .F ESPN=0:0 S ESPN=$O(^ESP(916,ESPID,4,ESPN)) Q:ESPN'>0  D
"RTN","ESPJOU1",41,0)
 ..  S ESPTIME=$P(^ESP(916,ESPID,4,ESPN,0),U),^TMP($J,"ESP"," "_ESPTIME_ESPN)=ESPN
"RTN","ESPJOU1",42,0)
 Q
"VER")
8.0^22
"^DD",916,916,1,0)
FROM^FX^^1;1^S Y=X,X1=20_$P(X,"-")-1700_$P(X,"-",2)_$P(X,"-",3),X2=DT D ^%DTC K:+$FN(X,"T")>2!(%Y=0)!($P(Y,"-",4)'?4N)!(+$P(Y,"-",4)=0)!(+$P(Y,"-",4)>2400) X I $D(X) S X=Y
"^DD",916,916,1,3)
Answer must be 13 characters in length and in YY-MM-DD-HHMM format. Date must be no more than +/- 2 days of current date.
"^DD",916,916,1,21,0)
^^2^2^2930504^^
"^DD",916,916,1,21,1,0)
Correct format consists of Year-Month-Day-Starting Time, i.e.,
"^DD",916,916,1,21,2,0)
'93-04-05-0001' or '93-04-05-0800'.
"^DD",916,916,1,"DT")
3040317
"^DD",916,916,2,0)
TO^FX^^1;2^S Y=X,X1=20_$P(X,"-")-1700_$P(X,"-",2)_$P(X,"-",3),X2=DT D ^%DTC K:+$FN(X,"T")>2!(%Y=0)!($P(Y,"-",4)'?4N)!(+$P(Y,"-",4)=0)!(+$P(Y,"-",4)>2400) X I $D(X) S X=Y
"^DD",916,916,2,3)
Answer must be 13 characters in length and in YY-MM-DD-HHMM format. Date must be no more than +/- 2 days of current date. 
"^DD",916,916,2,21,0)
^^2^2^2980625^^
"^DD",916,916,2,21,1,0)
Correct format consists of Year-Month-Day-Ending Time, i.e.,
"^DD",916,916,2,21,2,0)
'93-04-05-2400' or '93-04-06-0800'.
"^DD",916,916,2,"DT")
3040317
**END**
**END**
