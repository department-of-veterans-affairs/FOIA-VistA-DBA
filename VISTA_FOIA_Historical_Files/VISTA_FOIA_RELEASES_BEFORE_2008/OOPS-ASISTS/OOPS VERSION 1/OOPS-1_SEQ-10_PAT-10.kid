Released OOPS*1*10 SEQ #10
Extracted from mail message
**KIDS**:OOPS*1.0*10^

**INSTALL NAME**
OOPS*1.0*10
"BLD",2775,0)
OOPS*1.0*10^ASISTS^0^3010330^y
"BLD",2775,1,0)
^^6^6^3010314^^^^
"BLD",2775,1,1,0)
This patch contains 2 enhancements and date error checking.
"BLD",2775,1,2,0)

"BLD",2775,1,3,0)
This patch contains enhancements requested by union representatives to assure
"BLD",2775,1,4,0)
that employees have read and understood the employee bill of rights and to 
"BLD",2775,1,5,0)
send a bulletin to the union with additional incident information provided the
"BLD",2775,1,6,0)
employee has provided their consent.
"BLD",2775,4,0)
^9.64PA^2263.7^2
"BLD",2775,4,2260,0)
2260
"BLD",2775,4,2260,2,0)
^9.641^2260^1
"BLD",2775,4,2260,2,2260,0)
ASISTS ACCIDENT REPORTING  (File-top level)
"BLD",2775,4,2260,2,2260,1,0)
^9.6411^70^26
"BLD",2775,4,2260,2,2260,1,4,0)
DATE/TIME OF OCCURRENCE
"BLD",2775,4,2260,2,2260,1,6,0)
DATE OF BIRTH
"BLD",2775,4,2260,2,2260,1,70,0)
OWCP CHARGEBACK CODE
"BLD",2775,4,2260,2,2260,1,71,0)
EMPLOYEE BILL OF RIGHTS OK
"BLD",2775,4,2260,2,2260,1,72,0)
EMPLOYEE CONSENT
"BLD",2775,4,2260,2,2260,1,76,0)
NAME OF SAFETY OFFICER
"BLD",2775,4,2260,2,2260,1,77,0)
SAFETY OFFICER ELEC. SIGN
"BLD",2775,4,2260,2,2260,1,78,0)
SAFETY OFF. ELEC. SIGN DATE
"BLD",2775,4,2260,2,2260,1,79,0)
EMPLOYEE HEALTH NAME
"BLD",2775,4,2260,2,2260,1,80,0)
EMP HEALTH ELECT. SIGNATURE
"BLD",2775,4,2260,2,2260,1,81,0)
EMP HEALTH ELECT SIGN DATE
"BLD",2775,4,2260,2,2260,1,110,0)
DATE OF THIS NOTICE
"BLD",2775,4,2260,2,2260,1,142,0)
DATE/TIME WORK STOPPED
"BLD",2775,4,2260,2,2260,1,143,0)
DATE PAY STOPPED
"BLD",2775,4,2260,2,2260,1,144,0)
DATE 45 DAY PERIOD BEGAN
"BLD",2775,4,2260,2,2260,1,145,0)
DATE/TIME RETURNED TO WORK
"BLD",2775,4,2260,2,2260,1,161,0)
FIRST DATE MEDICAL CARE
"BLD",2775,4,2260,2,2260,1,175,0)
DATE NOTICE RECEIVED
"BLD",2775,4,2260,2,2260,1,214,0)
DATE FIRST AWARE OF ILLNESS
"BLD",2775,4,2260,2,2260,1,215,0)
DATE FIRST REALIZED CAUSE
"BLD",2775,4,2260,2,2260,1,250,0)
FIRST DATE MEDICAL CARE
"BLD",2775,4,2260,2,2260,1,252,0)
DATE NOTICE RECEIVED
"BLD",2775,4,2260,2,2260,1,253,0)
DATE/TIME WORK STOPPED
"BLD",2775,4,2260,2,2260,1,254,0)
DATE/TIME PAY STOPPED
"BLD",2775,4,2260,2,2260,1,255,0)
DATE OF LAST EXPOSURE
"BLD",2775,4,2260,2,2260,1,256,0)
DATE/TIME RETURNED TO WORK
"BLD",2775,4,2260,222)
y^n^p^^^^n
"BLD",2775,4,2263.7,0)
2263.7
"BLD",2775,4,2263.7,222)
y^n^f^^^^n
"BLD",2775,4,"APDD",2260,2260)

"BLD",2775,4,"APDD",2260,2260,4)

"BLD",2775,4,"APDD",2260,2260,6)

"BLD",2775,4,"APDD",2260,2260,70)

"BLD",2775,4,"APDD",2260,2260,71)

"BLD",2775,4,"APDD",2260,2260,72)

"BLD",2775,4,"APDD",2260,2260,76)

"BLD",2775,4,"APDD",2260,2260,77)

"BLD",2775,4,"APDD",2260,2260,78)

"BLD",2775,4,"APDD",2260,2260,79)

"BLD",2775,4,"APDD",2260,2260,80)

"BLD",2775,4,"APDD",2260,2260,81)

"BLD",2775,4,"APDD",2260,2260,110)

"BLD",2775,4,"APDD",2260,2260,142)

"BLD",2775,4,"APDD",2260,2260,143)

"BLD",2775,4,"APDD",2260,2260,144)

"BLD",2775,4,"APDD",2260,2260,145)

"BLD",2775,4,"APDD",2260,2260,161)

"BLD",2775,4,"APDD",2260,2260,175)

"BLD",2775,4,"APDD",2260,2260,214)

"BLD",2775,4,"APDD",2260,2260,215)

"BLD",2775,4,"APDD",2260,2260,250)

"BLD",2775,4,"APDD",2260,2260,252)

"BLD",2775,4,"APDD",2260,2260,253)

"BLD",2775,4,"APDD",2260,2260,254)

"BLD",2775,4,"APDD",2260,2260,255)

"BLD",2775,4,"APDD",2260,2260,256)

"BLD",2775,4,"B",2260,2260)

"BLD",2775,4,"B",2263.7,2263.7)

"BLD",2775,"ABPKG")
n
"BLD",2775,"KRN",0)
^9.67PA^19^17
"BLD",2775,"KRN",.4,0)
.4
"BLD",2775,"KRN",.401,0)
.401
"BLD",2775,"KRN",.402,0)
.402
"BLD",2775,"KRN",.403,0)
.403
"BLD",2775,"KRN",.5,0)
.5
"BLD",2775,"KRN",.84,0)
.84
"BLD",2775,"KRN",3.6,0)
3.6
"BLD",2775,"KRN",3.6,"NM",0)
^9.68A^3^3
"BLD",2775,"KRN",3.6,"NM",1,0)
OOPS WCPBOR^^0
"BLD",2775,"KRN",3.6,"NM",2,0)
OOPS CONSENT^^0
"BLD",2775,"KRN",3.6,"NM",3,0)
OOPS BILL OF RIGHTS^^0
"BLD",2775,"KRN",3.6,"NM","B","OOPS BILL OF RIGHTS",3)

"BLD",2775,"KRN",3.6,"NM","B","OOPS CONSENT",2)

"BLD",2775,"KRN",3.6,"NM","B","OOPS WCPBOR",1)

"BLD",2775,"KRN",3.8,0)
3.8
"BLD",2775,"KRN",9.2,0)
9.2
"BLD",2775,"KRN",9.2,"NM",0)
^9.68A^^
"BLD",2775,"KRN",9.8,0)
9.8
"BLD",2775,"KRN",9.8,"NM",0)
^9.68A^14^14
"BLD",2775,"KRN",9.8,"NM",1,0)
OOPSEMP1^^0^B19787505
"BLD",2775,"KRN",9.8,"NM",2,0)
OOPSVAL1^^0^B73397961
"BLD",2775,"KRN",9.8,"NM",3,0)
OOPSMBUL^^0^B16444532
"BLD",2775,"KRN",9.8,"NM",4,0)
OOPSDM^^0^B4880594
"BLD",2775,"KRN",9.8,"NM",5,0)
OOPSEMPB^^0^B22259299
"BLD",2775,"KRN",9.8,"NM",6,0)
OOPSEMP2^^0^B34801835
"BLD",2775,"KRN",9.8,"NM",7,0)
OOPSUTL3^^0^B36226906
"BLD",2775,"KRN",9.8,"NM",8,0)
OOPSUTL4^^0^B49184862
"BLD",2775,"KRN",9.8,"NM",9,0)
OOPSWCSE^^0^B18713644
"BLD",2775,"KRN",9.8,"NM",10,0)
OOPSDOLX^^0^B10366939
"BLD",2775,"KRN",9.8,"NM",11,0)
OOPSDOL1^^0^B65491590
"BLD",2775,"KRN",9.8,"NM",12,0)
OOPSDOL2^^0^B46082024
"BLD",2775,"KRN",9.8,"NM",13,0)
OOPSEUT^^0^B611355
"BLD",2775,"KRN",9.8,"NM",14,0)
OOPSPUT1^^0^B6754985
"BLD",2775,"KRN",9.8,"NM","B","OOPSDM",4)

"BLD",2775,"KRN",9.8,"NM","B","OOPSDOL1",11)

"BLD",2775,"KRN",9.8,"NM","B","OOPSDOL2",12)

"BLD",2775,"KRN",9.8,"NM","B","OOPSDOLX",10)

"BLD",2775,"KRN",9.8,"NM","B","OOPSEMP1",1)

"BLD",2775,"KRN",9.8,"NM","B","OOPSEMP2",6)

"BLD",2775,"KRN",9.8,"NM","B","OOPSEMPB",5)

"BLD",2775,"KRN",9.8,"NM","B","OOPSEUT",13)

"BLD",2775,"KRN",9.8,"NM","B","OOPSMBUL",3)

"BLD",2775,"KRN",9.8,"NM","B","OOPSPUT1",14)

"BLD",2775,"KRN",9.8,"NM","B","OOPSUTL3",7)

"BLD",2775,"KRN",9.8,"NM","B","OOPSUTL4",8)

"BLD",2775,"KRN",9.8,"NM","B","OOPSVAL1",2)

"BLD",2775,"KRN",9.8,"NM","B","OOPSWCSE",9)

"BLD",2775,"KRN",19,0)
19
"BLD",2775,"KRN",19,"NM",0)
^9.68A^10^10
"BLD",2775,"KRN",19,"NM",1,0)
OOPS SAFETY WCP EMP SIGN^^0
"BLD",2775,"KRN",19,"NM",2,0)
OOPS SAFETY MENU^^2
"BLD",2775,"KRN",19,"NM",3,0)
OOPS EMP HEALTH MENU^^2
"BLD",2775,"KRN",19,"NM",4,0)
OOPS EMP HLT WCP EMP SIGN^^0
"BLD",2775,"KRN",19,"NM",5,0)
OOPS WORKER'S COMP MENU^^2
"BLD",2775,"KRN",19,"NM",6,0)
OOPS WC SIGN FOR EMPLOYEE^^0
"BLD",2775,"KRN",19,"NM",7,0)
OOPS WC EDIT CA1/CA2^^0
"BLD",2775,"KRN",19,"NM",8,0)
OOPS WC EMP ENTRY^^0
"BLD",2775,"KRN",19,"NM",9,0)
OOPS SAFETY EMP ENTRY^^1^
"BLD",2775,"KRN",19,"NM",10,0)
OOPS WC EDIT UNION INFO^^0
"BLD",2775,"KRN",19,"NM","B","OOPS EMP HEALTH MENU",3)

"BLD",2775,"KRN",19,"NM","B","OOPS EMP HLT WCP EMP SIGN",4)

"BLD",2775,"KRN",19,"NM","B","OOPS SAFETY EMP ENTRY",9)

"BLD",2775,"KRN",19,"NM","B","OOPS SAFETY MENU",2)

"BLD",2775,"KRN",19,"NM","B","OOPS SAFETY WCP EMP SIGN",1)

"BLD",2775,"KRN",19,"NM","B","OOPS WC EDIT CA1/CA2",7)

"BLD",2775,"KRN",19,"NM","B","OOPS WC EDIT UNION INFO",10)

"BLD",2775,"KRN",19,"NM","B","OOPS WC EMP ENTRY",8)

"BLD",2775,"KRN",19,"NM","B","OOPS WC SIGN FOR EMPLOYEE",6)

"BLD",2775,"KRN",19,"NM","B","OOPS WORKER'S COMP MENU",5)

"BLD",2775,"KRN",19.1,0)
19.1
"BLD",2775,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",2775,"KRN",101,0)
101
"BLD",2775,"KRN",409.61,0)
409.61
"BLD",2775,"KRN",771,0)
771
"BLD",2775,"KRN",870,0)
870
"BLD",2775,"KRN",8994,0)
8994
"BLD",2775,"KRN","B",.4,.4)

"BLD",2775,"KRN","B",.401,.401)

"BLD",2775,"KRN","B",.402,.402)

"BLD",2775,"KRN","B",.403,.403)

"BLD",2775,"KRN","B",.5,.5)

"BLD",2775,"KRN","B",.84,.84)

"BLD",2775,"KRN","B",3.6,3.6)

"BLD",2775,"KRN","B",3.8,3.8)

"BLD",2775,"KRN","B",9.2,9.2)

"BLD",2775,"KRN","B",9.8,9.8)

"BLD",2775,"KRN","B",19,19)

"BLD",2775,"KRN","B",19.1,19.1)

"BLD",2775,"KRN","B",101,101)

"BLD",2775,"KRN","B",409.61,409.61)

"BLD",2775,"KRN","B",771,771)

"BLD",2775,"KRN","B",870,870)

"BLD",2775,"KRN","B",8994,8994)

"BLD",2775,"QUES",0)
^9.62^^
"BLD",2775,"REQB",0)
^9.611^6^6
"BLD",2775,"REQB",1,0)
OOPS*1.0*1^2
"BLD",2775,"REQB",2,0)
OOPS*1.0*2^2
"BLD",2775,"REQB",3,0)
OOPS*1.0*3^2
"BLD",2775,"REQB",4,0)
OOPS*1.0*5^2
"BLD",2775,"REQB",5,0)
OOPS*1.0*7^2
"BLD",2775,"REQB",6,0)
OOPS*1.0*8^2
"BLD",2775,"REQB","B","OOPS*1.0*1",1)

"BLD",2775,"REQB","B","OOPS*1.0*2",2)

"BLD",2775,"REQB","B","OOPS*1.0*3",3)

"BLD",2775,"REQB","B","OOPS*1.0*5",4)

"BLD",2775,"REQB","B","OOPS*1.0*7",5)

"BLD",2775,"REQB","B","OOPS*1.0*8",6)

"FIA",2260)
ASISTS ACCIDENT REPORTING
"FIA",2260,0)
^OOPS(2260,
"FIA",2260,0,0)
2260I
"FIA",2260,0,1)
y^n^p^^^^n
"FIA",2260,0,10)

"FIA",2260,0,11)

"FIA",2260,0,"RLRO")

"FIA",2260,0,"VR")
1.0^OOPS
"FIA",2260,2260)
1
"FIA",2260,2260,4)

"FIA",2260,2260,6)

"FIA",2260,2260,70)

"FIA",2260,2260,71)

"FIA",2260,2260,72)

"FIA",2260,2260,76)

"FIA",2260,2260,77)

"FIA",2260,2260,78)

"FIA",2260,2260,79)

"FIA",2260,2260,80)

"FIA",2260,2260,81)

"FIA",2260,2260,110)

"FIA",2260,2260,142)

"FIA",2260,2260,143)

"FIA",2260,2260,144)

"FIA",2260,2260,145)

"FIA",2260,2260,161)

"FIA",2260,2260,175)

"FIA",2260,2260,214)

"FIA",2260,2260,215)

"FIA",2260,2260,250)

"FIA",2260,2260,252)

"FIA",2260,2260,253)

"FIA",2260,2260,254)

"FIA",2260,2260,255)

"FIA",2260,2260,256)

"FIA",2263.7)
ASISTS UNION INFORMATION
"FIA",2263.7,0)
^OOPS(2263.7,
"FIA",2263.7,0,0)
2263.7
"FIA",2263.7,0,1)
y^n^f^^^^n
"FIA",2263.7,0,10)

"FIA",2263.7,0,11)

"FIA",2263.7,0,"RLRO")

"FIA",2263.7,0,"VR")
1.0^OOPS
"FIA",2263.7,2263.7)
0
"IX",2263.7,2263.7,"C",0)
2263.7^C^Store the Union Name in uppercase for insensitive lookup^MU^^F^IR^I^2263.7^^^^^LS
"IX",2263.7,2263.7,"C",1)
S ^OOPS(2263.7,"C",X,DA)=""
"IX",2263.7,2263.7,"C",2)
K ^OOPS(2263.7,"C",X,DA)
"IX",2263.7,2263.7,"C",2.5)
K ^OOPS(2263.7,"C")
"IX",2263.7,2263.7,"C",11.1,0)
^.114IA^1^1
"IX",2263.7,2263.7,"C",11.1,1,0)
1^F^2263.7^.01^30^1^F^Union Name
"IX",2263.7,2263.7,"C",11.1,1,2)
S X=$$UP^XLFSTR($E(X,1,30))
"IX",2263.7,2263.7,"C",11.1,1,3)

"KRN",3.6,186,-1)
0^3
"KRN",3.6,186,0)
OOPS BILL OF RIGHTS^Employee Bill of Rights for Accidents and Occupational Illnesses
"KRN",3.6,186,1,0)
^3.61A^18^18^3010314^^^^
"KRN",3.6,186,1,1,0)
 
"KRN",3.6,186,1,2,0)
EMPLOYEES' BILL OF RIGHTS FOR ACCIDENT AND OCCUPATIONAL ILLNESSES
"KRN",3.6,186,1,3,0)
 
"KRN",3.6,186,1,4,0)
  The Federal Employees' Compensation Act (FECA) describes an employee's
"KRN",3.6,186,1,5,0)
  rights and entitlements to benefits following a work-related
"KRN",3.6,186,1,6,0)
  injury or illness.
"KRN",3.6,186,1,7,0)
 
"KRN",3.6,186,1,8,0)
  You have the right to file a CA-1 (injury) or CA-2 (illness), to apply
"KRN",3.6,186,1,9,0)
  for compensation.
"KRN",3.6,186,1,10,0)
 
"KRN",3.6,186,1,11,0)
  Entitlements include the option to receive medical treatment by either
"KRN",3.6,186,1,12,0)
  the VA Employee Health Unit or by your primary care physician.
"KRN",3.6,186,1,13,0)
 
"KRN",3.6,186,1,14,0)
  You have the right to request union representation.
"KRN",3.6,186,1,15,0)
 
"KRN",3.6,186,1,16,0)
  For additional information and explanation of your rights and
"KRN",3.6,186,1,17,0)
  responsibilities, contact your Workers' Compensation
"KRN",3.6,186,1,18,0)
  Specialist/Coordinator/Manager.
"KRN",3.6,186,3,0)
^3.63^1^1^3010314^^^^
"KRN",3.6,186,3,1,0)
The Employee Bill of Rights for Accidents and Occupational Illnesses
"KRN",3.6,224,-1)
0^1
"KRN",3.6,224,0)
OOPS WCPBOR^Employee understanding Bill of Rights
"KRN",3.6,224,1,0)
^^5^5^3000801^
"KRN",3.6,224,1,1,0)
The following individual has indicated that they do NOT understand
"KRN",3.6,224,1,2,0)
the Employee Bill of Rights and needs assistance from their
"KRN",3.6,224,1,3,0)
Worker's Compensation Representative.
"KRN",3.6,224,1,4,0)
 
"KRN",3.6,224,1,5,0)
Individual: |1|
"KRN",3.6,224,3,0)
^^3^3^3000801^
"KRN",3.6,224,3,1,0)
This bulletin will be sent to the WCP worker if the employee indicates
"KRN",3.6,224,3,2,0)
that they do not understand the Bill of Rights when entering a
"KRN",3.6,224,3,3,0)
CA1 or CA2.
"KRN",3.6,224,4,0)
^3.64A^1^1
"KRN",3.6,224,4,1,0)
1
"KRN",3.6,224,4,1,1,0)
^^1^1^3000801^
"KRN",3.6,224,4,1,1,1,0)
Person Involved name
"KRN",3.6,225,-1)
0^2
"KRN",3.6,225,0)
OOPS CONSENT^Employee Signed CA1 or CA2 with consent
"KRN",3.6,225,1,0)
^3.61A^14^14^3010126^^^^
"KRN",3.6,225,1,1,0)
The employee has consented to a review of case: |1|.  The following
"KRN",3.6,225,1,2,0)
information is provided to the local bargaining unit for review.
"KRN",3.6,225,1,3,0)
 
"KRN",3.6,225,1,4,0)
Dt/Time Occurrance: |2|     
"KRN",3.6,225,1,5,0)
    Injury/Illness: |3|
"KRN",3.6,225,1,6,0)
  Personnel Status: |4|
"KRN",3.6,225,1,7,0)
  Type of Incident: |12|
"KRN",3.6,225,1,8,0)
               Sex: |5|
"KRN",3.6,225,1,9,0)
    Station Number: |6|
"KRN",3.6,225,1,10,0)
         Education: |7|
"KRN",3.6,225,1,11,0)
   Cost Center/Org: |8|
"KRN",3.6,225,1,12,0)
        Grade/Step: |9|
"KRN",3.6,225,1,13,0)
        Supervisor: |10|
"KRN",3.6,225,1,14,0)
        Sec. Super: |11|
"KRN",3.6,225,3,0)
^3.63^2^2^3010126^^^^
"KRN",3.6,225,3,1,0)
This bulletin will be sent to the Union representatives if the employee
"KRN",3.6,225,3,2,0)
signed a consent to release additional incident details to the union.
"KRN",3.6,225,4,0)
^3.64A^12^12
"KRN",3.6,225,4,1,0)
1
"KRN",3.6,225,4,1,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,1,1,1,0)
Case number
"KRN",3.6,225,4,2,0)
2
"KRN",3.6,225,4,2,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,2,1,1,0)
Date/Time of occurrance
"KRN",3.6,225,4,3,0)
3
"KRN",3.6,225,4,3,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,3,1,1,0)
Injury or Illness
"KRN",3.6,225,4,4,0)
4
"KRN",3.6,225,4,4,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,4,1,1,0)
Personnel Status
"KRN",3.6,225,4,5,0)
5
"KRN",3.6,225,4,5,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,5,1,1,0)
Sex of individual
"KRN",3.6,225,4,6,0)
6
"KRN",3.6,225,4,6,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,6,1,1,0)
Station number
"KRN",3.6,225,4,7,0)
7
"KRN",3.6,225,4,7,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,7,1,1,0)
Education
"KRN",3.6,225,4,8,0)
8
"KRN",3.6,225,4,8,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,8,1,1,0)
Cost Center/Organization
"KRN",3.6,225,4,9,0)
9
"KRN",3.6,225,4,9,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,9,1,1,0)
Grade and Step
"KRN",3.6,225,4,10,0)
10
"KRN",3.6,225,4,10,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,10,1,1,0)
Supervisor's name
"KRN",3.6,225,4,11,0)
11
"KRN",3.6,225,4,11,1,0)
^^1^1^3000801^
"KRN",3.6,225,4,11,1,1,0)
Secondary Supervisors name
"KRN",3.6,225,4,12,0)
12
"KRN",3.6,225,4,12,1,0)
^3.65^1^1^3010126^^^^
"KRN",3.6,225,4,12,1,1,0)
Type of incident
"KRN",19,7450,-1)
2^2
"KRN",19,7450,0)
OOPS SAFETY MENU^ASISTS Safety Officers Menu^^M^66481^^^^^^^
"KRN",19,7450,10,0)
^19.01IP^20^17
"KRN",19,7450,10,20,0)
10613
"KRN",19,7450,10,20,"^")
OOPS SAFETY WCP EMP SIGN
"KRN",19,7450,"U")
ASISTS SAFETY OFFICERS MENU
"KRN",19,7472,-1)
2^3
"KRN",19,7472,0)
OOPS EMP HEALTH MENU^ASISTS Employee Health Menu^^M^66481^^^^^^^472
"KRN",19,7472,10,0)
^19.01IP^12^10
"KRN",19,7472,10,12,0)
10614
"KRN",19,7472,10,12,"^")
OOPS EMP HLT WCP EMP SIGN
"KRN",19,7472,"U")
ASISTS EMPLOYEE HEALTH MENU
"KRN",19,10269,-1)
2^5
"KRN",19,10269,0)
OOPS WORKER'S COMP MENU^ASISTS Worker's Compensation Menu^^M^2440^^^^^^^472
"KRN",19,10269,10,0)
^19.01IP^20^17
"KRN",19,10269,10,7,0)
10270
"KRN",19,10269,10,7,"^")
OOPS WC EDIT CA1/CA2
"KRN",19,10269,10,18,0)
10616
"KRN",19,10269,10,18,"^")
OOPS WC EMP ENTRY
"KRN",19,10269,10,19,0)
10617
"KRN",19,10269,10,19,"^")
OOPS WC SIGN FOR EMPLOYEE
"KRN",19,10269,10,20,0)
10683
"KRN",19,10269,10,20,"^")
OOPS WC EDIT UNION INFO
"KRN",19,10269,"U")
ASISTS WORKER'S COMPENSATION M
"KRN",19,10270,-1)
0^7
"KRN",19,10270,0)
OOPS WC EDIT CA1/CA2^Workers' Compensation Edit CA1/CA2^^R^^^^^^^^
"KRN",19,10270,1,0)
^19.06^2^2^3010130^^^^
"KRN",19,10270,1,1,0)
This is the option used by Worker's Compensation personnel to validate the
"KRN",19,10270,1,2,0)
CA1/CA2 claim.
"KRN",19,10270,25)
EN1^OOPSWCE("W")
"KRN",19,10270,"U")
WORKERS' COMPENSATION EDIT CA1
"KRN",19,10613,-1)
0^1
"KRN",19,10613,0)
OOPS SAFETY WCP EMP SIGN^Approve Workers' Comp Signing for Employee^^R^^^^^^^^ASISTS
"KRN",19,10613,1,0)
^19.06^3^3^3010123^^
"KRN",19,10613,1,1,0)
This option will be used by the Safety Officer to electronically sign the
"KRN",19,10613,1,2,0)
claim indicating that the Workers' Compensation personnel can electronically
"KRN",19,10613,1,3,0)
sign the claim on behalf of the employee.
"KRN",19,10613,25)
EN1^OOPSWCSE("S")
"KRN",19,10613,"U")
APPROVE WORKERS' COMP SIGNING 
"KRN",19,10614,-1)
0^4
"KRN",19,10614,0)
OOPS EMP HLT WCP EMP SIGN^Approve Workers' Comp Signing for Employee^^R^^^^^^^^ASISTS
"KRN",19,10614,1,0)
^^3^3^3010123^
"KRN",19,10614,1,1,0)
This option will be used by the Employee Health representative to
"KRN",19,10614,1,2,0)
electronically sign the claim indicating that the Workers' Compensation
"KRN",19,10614,1,3,0)
personnel can electronically sign the claim on behalf of the employee.
"KRN",19,10614,25)
EN1^OOPSWCSE("H")
"KRN",19,10614,"U")
APPROVE WORKERS' COMP SIGNING 
"KRN",19,10616,-1)
0^8
"KRN",19,10616,0)
OOPS WC EMP ENTRY^Complete Employee CA-1 & CA-2^^R^^^^^^^^ASISTS^^1^1
"KRN",19,10616,1,0)
^19.06^2^2^3010201^^^^
"KRN",19,10616,1,1,0)
This allows the Workers' Compensation Personnel to complete the employee
"KRN",19,10616,1,2,0)
portion of the CA-1 or CA-2.
"KRN",19,10616,15)
K WCEMP
"KRN",19,10616,20)
S WCEMP=1
"KRN",19,10616,25)
EN1^OOPSEMP1("W")
"KRN",19,10616,"U")
COMPLETE EMPLOYEE CA-1 & CA-2
"KRN",19,10617,-1)
0^6
"KRN",19,10617,0)
OOPS WC SIGN FOR EMPLOYEE^Workers' Comp Elect. Sign For Employee^^R^^^^^^^^ASISTS
"KRN",19,10617,1,0)
^19.06^2^2^3010129^^
"KRN",19,10617,1,1,0)
This option allows the Workers' Compensation personnel to electronically sign
"KRN",19,10617,1,2,0)
for the employee after obtaining Ok from Safety and Employee Health.
"KRN",19,10617,25)
EN1^OOPSWCSE("W")
"KRN",19,10617,"U")
WORKERS' COMP ELECT. SIGN FOR 
"KRN",19,10683,-1)
0^10
"KRN",19,10683,0)
OOPS WC EDIT UNION INFO^Enter/Edit Union Information^^R^^^^^^^^ASISTS
"KRN",19,10683,1,0)
^^3^3^3010313^
"KRN",19,10683,1,1,0)
This menu option allows the workers' compensation specialist to enter or edit 
"KRN",19,10683,1,2,0)
Union information. This information is necessary for sending bullentins to the
"KRN",19,10683,1,3,0)
Union, if the employee consents to sharing incident information.
"KRN",19,10683,25)
EN1^OOPSEUT("W")
"KRN",19,10683,"U")
ENTER/EDIT UNION INFORMATION
"KRN",19,10691,-1)
1^9
"KRN",19,10691,0)
OOPS SAFETY EMP ENTRY
"MBREQ")
0
"ORD",2,3.6)
3.6;2;1;;BUL^XPDTA1;;BULE1^XPDIA1;;;BULDEL^XPDIA1
"ORD",2,3.6,0)
BULLETIN
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",472,-1)
1^1
"PKG",472,0)
ASISTS^OOPS^Automated Safety Incident Surveillance Tracking System
"PKG",472,20,0)
^9.402P^^
"PKG",472,22,0)
^9.49I^1^1
"PKG",472,22,1,0)
1.0^^2980819^66481
"PKG",472,22,1,"PAH",1,0)
10^3010330
"PKG",472,22,1,"PAH",1,1,0)
^^6^6^3010330
"PKG",472,22,1,"PAH",1,1,1,0)
This patch contains 2 enhancements and date error checking.
"PKG",472,22,1,"PAH",1,1,2,0)

"PKG",472,22,1,"PAH",1,1,3,0)
This patch contains enhancements requested by union representatives to assure
"PKG",472,22,1,"PAH",1,1,4,0)
that employees have read and understood the employee bill of rights and to 
"PKG",472,22,1,"PAH",1,1,5,0)
send a bulletin to the union with additional incident information provided the
"PKG",472,22,1,"PAH",1,1,6,0)
employee has provided their consent.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
14
"RTN","OOPSDM")
0^4^B4880594
"RTN","OOPSDM",1,0)
OOPSDM ;HINES/WAA - Utilities Routines - 5/26/98
"RTN","OOPSDM",2,0)
 ;;1.0;ASISTS;**10**;Jun 01, 1998
"RTN","OOPSDM",3,0)
 ;;
"RTN","OOPSDM",4,0)
 ; This routine is to display all the report that a person has
"RTN","OOPSDM",5,0)
 ; access to.
"RTN","OOPSDM",6,0)
EN1 ;
"RTN","OOPSDM",7,0)
 N POP
"RTN","OOPSDM",8,0)
 D DEVICE Q:POP
"RTN","OOPSDM",9,0)
 D:'$D(IO("Q")) PRINT
"RTN","OOPSDM",10,0)
 D EXIT
"RTN","OOPSDM",11,0)
 Q
"RTN","OOPSDM",12,0)
EXIT ;
"RTN","OOPSDM",13,0)
 K IO("Q")
"RTN","OOPSDM",14,0)
 Q
"RTN","OOPSDM",15,0)
DEVICE ; This is the device selection routine.
"RTN","OOPSDM",16,0)
 ;
"RTN","OOPSDM",17,0)
 S %ZIS="QM" D ^%ZIS I POP Q
"RTN","OOPSDM",18,0)
 I $D(IO("Q")) D  Q
"RTN","OOPSDM",19,0)
 .S ZTRTN="PRINT^OOPSDM",ZTDESC="Print Employee Bill of Rights"
"RTN","OOPSDM",20,0)
 .D ^%ZTLOAD D HOME^%ZIS Q
"RTN","OOPSDM",21,0)
 .Q
"RTN","OOPSDM",22,0)
 Q
"RTN","OOPSDM",23,0)
PRINT ; This is the main print portion of the routine
"RTN","OOPSDM",24,0)
 U IO
"RTN","OOPSDM",25,0)
 W !,?6,"EMPLOYEES' BILL OF RIGHTS FOR ACCIDENT AND OCCUPATIONAL ILLNESSES"
"RTN","OOPSDM",26,0)
 ; Added new text with patch 10 - removed all commented lines
"RTN","OOPSDM",27,0)
 W !!?6,"The Federal Employees' Compensation Act (FECA) describes an employee's"
"RTN","OOPSDM",28,0)
 W !?6,"rights and entitlements to benefits following a work-related"
"RTN","OOPSDM",29,0)
 W !?6,"injury or illness."
"RTN","OOPSDM",30,0)
 W !!?6,"You have the right to file a CA-1 (injury) or CA-2 (illness), to apply"
"RTN","OOPSDM",31,0)
 W !?6,"for compensation."
"RTN","OOPSDM",32,0)
 W !!?6,"Entitlements include the option to receive medical treatment by either"
"RTN","OOPSDM",33,0)
 W !?6,"the VA Employee Health Unit or by your primary care physician."
"RTN","OOPSDM",34,0)
 W !!?6,"You have the right to request union representation."
"RTN","OOPSDM",35,0)
 W !!?6,"For additional information and explanation of your rights and"
"RTN","OOPSDM",36,0)
 W !?6,"responsibilities, contact your Workers' Compensation"
"RTN","OOPSDM",37,0)
 W !?6,"Specialist/Coordinator/Manager."
"RTN","OOPSDM",38,0)
 ; W !,?6,"You have the right to select the physician or facility to provide"
"RTN","OOPSDM",39,0)
 ; W !,?6,"treatment for the sustained injury or illness.  The VA facility is"
"RTN","OOPSDM",40,0)
 ; W !,?6,"available for examination and treatment, but cannot mandate use of"
"RTN","OOPSDM",41,0)
 ; W !,?6,"the facility to the exclusion of your choice of medical care.",!
"RTN","OOPSDM",42,0)
 ; W !,?6,"You have the right to file a CA-1 (injury) or CA-2 (illness) to"
"RTN","OOPSDM",43,0)
 ; W !,?6,"apply for compensation.",!
"RTN","OOPSDM",44,0)
 ; W !,?6,"You have the right to union representation at any time.",!
"RTN","OOPSDM",45,0)
END ; exit the report
"RTN","OOPSDM",46,0)
 D ^%ZISC
"RTN","OOPSDM",47,0)
 S:$D(ZTQUEUED) ZTREQ="@"
"RTN","OOPSDM",48,0)
 Q
"RTN","OOPSDOL1")
0^11^B65491590
"RTN","OOPSDOL1",1,0)
OOPSDOL1 ;WIOFO/CAH-CA1 EXTRACT FOR DOL ;3/15/00
"RTN","OOPSDOL1",2,0)
 ;;1.0;ASISTS;**8,10**;Jun 01, 1998
"RTN","OOPSDOL1",3,0)
EN ; Entry
"RTN","OOPSDOL1",4,0)
 ;
"RTN","OOPSDOL1",5,0)
 N OCC,NAME,FN,KK,D62,D123,D124,D126,WITN
"RTN","OOPSDOL1",6,0)
 S OOPSAR("CA")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA")))
"RTN","OOPSDOL1",7,0)
 S OOPSAR(0)=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,0)))
"RTN","OOPSDOL1",8,0)
 S OOPSAR("CA1A")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1A")))
"RTN","OOPSDOL1",9,0)
 S OOPSAR("CA1B")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1B")))
"RTN","OOPSDOL1",10,0)
 S OOPSAR("CA1C")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1C")))
"RTN","OOPSDOL1",11,0)
 S OOPSAR("CA1D")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1D")))
"RTN","OOPSDOL1",12,0)
 S OOPSAR("CA1ES")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1ES")))
"RTN","OOPSDOL1",13,0)
 S OOPSAR("CA1F")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1F")))
"RTN","OOPSDOL1",14,0)
 S OOPSAR("CA1G")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1G")))
"RTN","OOPSDOL1",15,0)
 S OOPSAR("CA1H")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1H")))
"RTN","OOPSDOL1",16,0)
 S OOPSAR("CA1I")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1I")))
"RTN","OOPSDOL1",17,0)
 S OOPSAR("CA1J")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1J",0)))
"RTN","OOPSDOL1",18,0)
 S OOPSAR("CA1K")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1K",0)))
"RTN","OOPSDOL1",19,0)
 S OOPSAR("CA1L")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1L")))
"RTN","OOPSDOL1",20,0)
 S OOPSAR("CA1M")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1M")))
"RTN","OOPSDOL1",21,0)
 S OOPSAR("CA1N")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1N")))
"RTN","OOPSDOL1",22,0)
 ; get witness data once
"RTN","OOPSDOL1",23,0)
 S WITN=$O(^OOPS(2260,OOPDA,"CA1W",0))
"RTN","OOPSDOL1",24,0)
 I $G(WITN)'="" D
"RTN","OOPSDOL1",25,0)
 . S OOPSAR("CA1W",0)=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1W",WITN,0)))
"RTN","OOPSDOL1",26,0)
 . S OOPSAR("CA1W",1)=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA1W",WITN,1)))
"RTN","OOPSDOL1",27,0)
OP3 ; Seg OP02
"RTN","OOPSDOL1",28,0)
 K OPX
"RTN","OOPSDOL1",29,0)
 N OFF
"RTN","OOPSDOL1",30,0)
 S OFF=$$GET1^DIQ(2260,OOPDA,"73:1")           ; pad to 2 numeric
"RTN","OOPSDOL1",31,0)
 S OPX="OP02^"_$E("00",$L(OFF)+1,2)_OFF
"RTN","OOPSDOL1",32,0)
 S OPX=OPX_U_$P(OOPSAR("CA1M"),U,1)_U_$P(OOPSAR("CA1M"),U,2)
"RTN","OOPSDOL1",33,0)
 S OPX=OPX_U_$P(OOPSAR("CA1M"),U,3)_U_$$GET1^DIQ(2260,OOPDA,"179:1")
"RTN","OOPSDOL1",34,0)
 S OPX=OPX_U_$E($P(OOPSAR("CA1M"),U,5),1,5)_U_$P(OOPSAR("CA1F"),U,1)
"RTN","OOPSDOL1",35,0)
 S OPX=OPX_U_$P(OOPSAR("CA1F"),U,2)_U_$P(OOPSAR("CA1F"),U,3)
"RTN","OOPSDOL1",36,0)
 S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"133:1")_U_$E($P(OOPSAR("CA1F"),U,5),1,5)
"RTN","OOPSDOL1",37,0)
 S OPX=OPX_U_U_U_"^|"
"RTN","OOPSDOL1",38,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL1",39,0)
OP4 ; Seg OP03
"RTN","OOPSDOL1",40,0)
 K OPX
"RTN","OOPSDOL1",41,0)
 S OPX="OP03^"_$$GET1^DIQ(2260,OOPDA,60,"E")
"RTN","OOPSDOL1",42,0)
 S OPX=OPX_U_$P(OOPSAR("CA"),U,5)
"RTN","OOPSDOL1",43,0)
 S D62=$$GET1^DIQ(2260,OOPDA,"62:1")
"RTN","OOPSDOL1",44,0)
 S D123=$$GET1^DIQ(2260,OOPDA,"123:1")
"RTN","OOPSDOL1",45,0)
 S D124=$$GET1^DIQ(2260,OOPDA,"124:1")
"RTN","OOPSDOL1",46,0)
 S D126=$$GET1^DIQ(2260,OOPDA,"126:1")
"RTN","OOPSDOL1",47,0)
 S OPX=OPX_U_$E("000",$L(D123)+1,3)_D123
"RTN","OOPSDOL1",48,0)
 S OPX=OPX_U_$E("0000",$L(D124)+1,4)_D124
"RTN","OOPSDOL1",49,0)
 S OPX=OPX_U_$E("00",$L(D62)+1,2)_D62
"RTN","OOPSDOL1",50,0)
 S OPX=OPX_U_$E("00",$L(D126)+1,2)_D126
"RTN","OOPSDOL1",51,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA1L"),U,7))
"RTN","OOPSDOL1",52,0)
 S NAME=$$GET1^DIQ(2260,OOPDA,"169:.01"),FN=$P(NAME,",",2)
"RTN","OOPSDOL1",53,0)
 S OPX=OPX_U_$E($P(NAME,","),1,20)
"RTN","OOPSDOL1",54,0)
 F KK=1:0:1 Q:$E(FN,KK)'=" "  S FN=$E(FN,KK+1,$L(FN))
"RTN","OOPSDOL1",55,0)
 S OPX=OPX_U_$E($P(FN," "),1,10)_U_$E($P(FN," ",2),1,10)
"RTN","OOPSDOL1",56,0)
 S OPX=OPX_U_$P(OOPSAR("CA1L"),U,4)_U_$TR($P(OOPSAR("CA1L"),U,5),"(,)^*- ")
"RTN","OOPSDOL1",57,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA1ES"),U,6))
"RTN","OOPSDOL1",58,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA1I"),U,6))
"RTN","OOPSDOL1",59,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P($P(OOPSAR(0),U,5),"."))_"^|"
"RTN","OOPSDOL1",60,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL1",61,0)
OP5 ; Seg OP04
"RTN","OOPSDOL1",62,0)
 K OPX
"RTN","OOPSDOL1",63,0)
 N GRADE,STEP
"RTN","OOPSDOL1",64,0)
 S GRADE=$P(OOPSAR("2162A"),U,12),STEP=$P(OOPSAR("2162A"),U,13)
"RTN","OOPSDOL1",65,0)
 S OPX="OP04^"_$$DC^OOPSUTL3($P(OOPSAR("CA1ES"),U,3))
"RTN","OOPSDOL1",66,0)
 I $P(OOPSAR("CA1F"),U,13) D
"RTN","OOPSDOL1",67,0)
 .S Y=$P(OOPSAR("CA1F"),U,13) D DD^%DT S Y=$P($TR(Y,":",""),"@",2)
"RTN","OOPSDOL1",68,0)
 .S OPX=OPX_U_$$DC^OOPSUTL3($P($P(OOPSAR("CA1F"),U,13),"."))_Y
"RTN","OOPSDOL1",69,0)
 I '$P(OOPSAR("CA1F"),U,13) S OPX=OPX_U
"RTN","OOPSDOL1",70,0)
 I $P(OOPSAR("CA1G"),U,3) D
"RTN","OOPSDOL1",71,0)
 .S Y=$P(OOPSAR("CA1G"),U,3) D DD^%DT S Y=$P($TR(Y,":",""),"@",2)
"RTN","OOPSDOL1",72,0)
 .S OPX=OPX_U_$$DC^OOPSUTL3($P($P(OOPSAR("CA1G"),U,3),"."))_Y
"RTN","OOPSDOL1",73,0)
 I '$P(OOPSAR("CA1G"),U,3) S OPX=OPX_U
"RTN","OOPSDOL1",74,0)
 I $P(OOPSAR("CA1G"),U,2) D
"RTN","OOPSDOL1",75,0)
 .S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA1G"),U,2))
"RTN","OOPSDOL1",76,0)
 I '$P(OOPSAR("CA1G"),U,2) S OPX=OPX_U
"RTN","OOPSDOL1",77,0)
 S RPOL=$P(OOPSAR("CA1A"),U,13)  ;Request Pay or Leave
"RTN","OOPSDOL1",78,0)
 S VAL=$S(RPOL="COP":"RS",RPOL="L":"ZZ",1:"NU")
"RTN","OOPSDOL1",79,0)
 S OPX=OPX_U_VAL_U_$P(OOPSAR("CA1I"),U,7)
"RTN","OOPSDOL1",80,0)
 S OPX=OPX_U_$E($P(OOPSAR(0),U,13),1,2)
"RTN","OOPSDOL1",81,0)
 S OPX=OPX_U_$E("00",$L(GRADE)+1,2)_GRADE
"RTN","OOPSDOL1",82,0)
 I STEP="N" S OPX=OPX_U_" N"
"RTN","OOPSDOL1",83,0)
 I STEP'["N" S OPX=OPX_U_$E("00",$L(STEP)+1,2)_STEP
"RTN","OOPSDOL1",84,0)
 I $P(OOPSAR("CA1A"),U,8)=1!($P(OOPSAR("CA1A"),U,8)=4)!($P(OOPSAR("CA1A"),U,8)=5)!($P(OOPSAR("CA1A"),U,8)=7) S OPX=OPX_U_"Y"
"RTN","OOPSDOL1",85,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL1",86,0)
 I $P(OOPSAR("CA1A"),U,8)=2!($P(OOPSAR("CA1A"),U,8)=4)!($P(OOPSAR("CA1A"),U,8)=6)!($P(OOPSAR("CA1A"),U,8)=7) S OPX=OPX_U_"Y"
"RTN","OOPSDOL1",87,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL1",88,0)
 I $P(OOPSAR("CA1A"),U,8)=3!($P(OOPSAR("CA1A"),U,8)=5)!($P(OOPSAR("CA1A"),U,8)=6)!($P(OOPSAR("CA1A"),U,8)=7) S OPX=OPX_U_"Y"
"RTN","OOPSDOL1",89,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL1",90,0)
 S OPX=OPX_U_"Y^Y^Y^Y"
"RTN","OOPSDOL1",91,0)
 ; Obtain info about existence of witness - next line - no witness
"RTN","OOPSDOL1",92,0)
 I $G(WITN) D
"RTN","OOPSDOL1",93,0)
 . S NM=$P($G(OOPSAR("CA1W",0)),U)
"RTN","OOPSDOL1",94,0)
 . S:$G(NM)'="" OPX=OPX_U_"Y" S:$G(NM)="" OPX=OPX_U_"N"
"RTN","OOPSDOL1",95,0)
 . S WS=$P($G(OOPSAR("CA1W",0)),U,6)
"RTN","OOPSDOL1",96,0)
 . S:$G(WS) OPX=OPX_U_"Y" S:'$G(WS) OPX=OPX_U
"RTN","OOPSDOL1",97,0)
 . K NM,WS
"RTN","OOPSDOL1",98,0)
 I '$G(WITN) S OPX=OPX_"^N^N"
"RTN","OOPSDOL1",99,0)
 S OPX=OPX_U_"ASISTS^C2^Y^"
"RTN","OOPSDOL1",100,0)
 S OPX=OPX_$$DC^OOPSUTL3($P(OOPSAR("CA1A"),U,11))
"RTN","OOPSDOL1",101,0)
 S OPX=OPX_U_$P(OOPSAR("CA1A"),U,9) ;Place where injury occurred
"RTN","OOPSDOL1",102,0)
 ; Added new fields required by the AAC
"RTN","OOPSDOL1",103,0)
 S OPX=OPX_U_$P(OOPSAR("CA1N"),U)                   ; injury Street
"RTN","OOPSDOL1",104,0)
 S OPX=OPX_U_$P(OOPSAR("CA1N"),U,2)                 ; injury City
"RTN","OOPSDOL1",105,0)
 S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"185:1")         ; injury St
"RTN","OOPSDOL1",106,0)
 S OPX=OPX_U_$E($P(OOPSAR("CA1A"),U,14),1,5)_"^|"   ; injury zip
"RTN","OOPSDOL1",107,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL1",108,0)
OP6 ; Seg OP05
"RTN","OOPSDOL1",109,0)
 K OPX
"RTN","OOPSDOL1",110,0)
 S OPX="OP05^"_$P(OOPSAR("CA1G"),U,8)_U_$P(OOPSAR("CA1H"),U)
"RTN","OOPSDOL1",111,0)
 S OPX=OPX_U_$P(OOPSAR("CA1H"),U,2)_U_$P(OOPSAR("CA1H"),U,3)
"RTN","OOPSDOL1",112,0)
 S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"154:1")_U_$E($P(OOPSAR("CA1H"),U,5),1,5)
"RTN","OOPSDOL1",113,0)
 I $P(OOPSAR("CA1I"),U)'="" S OPX=OPX_U_1
"RTN","OOPSDOL1",114,0)
 E  S OPX=OPX_U
"RTN","OOPSDOL1",115,0)
 S NAME=$P(OOPSAR("CA1I"),U),FN=$P(NAME,",",2)
"RTN","OOPSDOL1",116,0)
 F KK=1:0:1 Q:$E(FN,KK)'=" "  S FN=$E(FN,KK+1,$L(FN))
"RTN","OOPSDOL1",117,0)
 S OPX=OPX_U_$E($P(NAME,","),1,20)
"RTN","OOPSDOL1",118,0)
 S OPX=OPX_U_$E($P(FN," "),1,10)_U_$E($P(FN," ",2),1,10)
"RTN","OOPSDOL1",119,0)
 I $P(OOPSAR("CA1I"),U)'="" S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"182:1")
"RTN","OOPSDOL1",120,0)
 I $P(OOPSAR("CA1I"),U)="" S OPX=OPX_U
"RTN","OOPSDOL1",121,0)
 S OPX=OPX_U_$P(OOPSAR("CA1I"),U,2)_U_$P(OOPSAR("CA1I"),U,3)
"RTN","OOPSDOL1",122,0)
 S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"159:1")_U_$E($P(OOPSAR("CA1I"),U,5),1,5)
"RTN","OOPSDOL1",123,0)
 S OPX=OPX_U_$P(OOPSAR("CA1L"),U)_U_$P(OOPSAR("CA1L"),U,2)_"^|"
"RTN","OOPSDOL1",124,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL1",125,0)
OP7 ; Seg OP06
"RTN","OOPSDOL1",126,0)
 S DATA=$$CONV^OOPSUTL5($P(OOPSAR("CA1F"),U,11))
"RTN","OOPSDOL1",127,0)
 K OPX
"RTN","OOPSDOL1",128,0)
 S OPX="OP06"
"RTN","OOPSDOL1",129,0)
 F X=1:1:7 D
"RTN","OOPSDOL1",130,0)
 .I DATA[X D
"RTN","OOPSDOL1",131,0)
 ..S OPX=OPX_U_"Y"
"RTN","OOPSDOL1",132,0)
 ..S OPX=OPX_U_$$HM^OOPSUTL3($P(OOPSAR("CA1F"),U,9))
"RTN","OOPSDOL1",133,0)
 ..S OPX=OPX_U_$$HM^OOPSUTL3($P(OOPSAR("CA1F"),U,10))
"RTN","OOPSDOL1",134,0)
 .I DATA'[X S OPX=OPX_"^N^^"
"RTN","OOPSDOL1",135,0)
 ; Generate Occ Code for DOL transfer
"RTN","OOPSDOL1",136,0)
 S OCC=$$GET1^DIQ(2260,OOPDA,15)      ; Occupation code from PAID
"RTN","OOPSDOL1",137,0)
 S OCC=$S(OCC<2200:"G"_OCC,(OCC>2499&(OCC<9001)):"W"_OCC,(OCC=9999):"Z"_OCC,1:"")
"RTN","OOPSDOL1",138,0)
 S OPX=OPX_U_OCC_U_$P(OOPSAR("CA1A"),U,12)_"^|"
"RTN","OOPSDOL1",139,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL1",140,0)
 K DATA
"RTN","OOPSDOL1",141,0)
OP8 ; Seg OP07
"RTN","OOPSDOL1",142,0)
 K OPX
"RTN","OOPSDOL1",143,0)
 I $L($P(OOPSAR("CA1B"),U))<133 D
"RTN","OOPSDOL1",144,0)
 .S OPX="OP07^1^1^"_$P(OOPSAR("CA1B"),U)_"^|"
"RTN","OOPSDOL1",145,0)
 .D STORE^OOPSDOLX
"RTN","OOPSDOL1",146,0)
 I $L($P(OOPSAR("CA1B"),U))>132 D
"RTN","OOPSDOL1",147,0)
 .S OPX="OP07^1^2^"_$E($P(OOPSAR("CA1B"),U),1,132)_"^|"
"RTN","OOPSDOL1",148,0)
 .D STORE^OOPSDOLX
"RTN","OOPSDOL1",149,0)
 .K OPX
"RTN","OOPSDOL1",150,0)
 .S OPX="OP07^2^2^"_$E($P(OOPSAR("CA1B"),U),133,200)_"^|"
"RTN","OOPSDOL1",151,0)
 .D STORE^OOPSDOLX
"RTN","OOPSDOL1",152,0)
OP9 ; Seg OP08
"RTN","OOPSDOL1",153,0)
 K OPX
"RTN","OOPSDOL1",154,0)
 S OPX="OP08^"_$S($P(OOPSAR("CA1G"),U,4)="N":"NW",1:"")
"RTN","OOPSDOL1",155,0)
 S OPX=OPX_U_$S($P(OOPSAR("CA1G"),U,6)="Y":"WM",1:"")
"RTN","OOPSDOL1",156,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA1G"),U))
"RTN","OOPSDOL1",157,0)
 I $G(OOPSAR("CA1K"))'="",($P(OOPSAR("CA1K"),U,4)'=0) S OPX=OPX_U_"E5"
"RTN","OOPSDOL1",158,0)
 E  S OPX=OPX_U
"RTN","OOPSDOL1",159,0)
 S OPX=OPX_U
"RTN","OOPSDOL1",160,0)
 I $P(OOPSAR("CA1I"),U,8)="N" S OPX=OPX_U_"CN"
"RTN","OOPSDOL1",161,0)
 E  S OPX=OPX_U
"RTN","OOPSDOL1",162,0)
 I $P(OOPSAR("CA1L"),U,3)'="" S OPX=OPX_U_97
"RTN","OOPSDOL1",163,0)
 E  S OPX=OPX_U
"RTN","OOPSDOL1",164,0)
 I $G(OOPSAR("CA1W",0))'="" D
"RTN","OOPSDOL1",165,0)
 . S OPX=OPX_U_"Y"
"RTN","OOPSDOL1",166,0)
 . S NAME=$P(OOPSAR("CA1W",0),U),FN=$P(NAME,",",2)
"RTN","OOPSDOL1",167,0)
 . F KK=1:0:1 Q:$E(FN,KK)'=" "  S FN=$E(FN,KK+1,$L(FN))
"RTN","OOPSDOL1",168,0)
 . S OPX=OPX_U_$E($P(NAME,","),1,20)
"RTN","OOPSDOL1",169,0)
 . S OPX=OPX_U_$E($P(FN," "),1,10)_U
"RTN","OOPSDOL1",170,0)
 . S OPX=OPX_U_$P(OOPSAR("CA1W",0),U,2)
"RTN","OOPSDOL1",171,0)
 . S OPX=OPX_U_$P(OOPSAR("CA1W",0),U,3)
"RTN","OOPSDOL1",172,0)
 . S OPX=OPX_U_$$GET1^DIQ(5,$P(OOPSAR("CA1W",0),U,4),1)  ; State Code
"RTN","OOPSDOL1",173,0)
 . S OPX=OPX_U_$E($P(OOPSAR("CA1W",0),U,5),1,5)
"RTN","OOPSDOL1",174,0)
 . S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA1W",0),U,6))
"RTN","OOPSDOL1",175,0)
 I $G(OOPSAR("CA1W",0))="" S OPX=OPX_U_"^^^^^^^^"
"RTN","OOPSDOL1",176,0)
 S FL174=$P(OOPSAR("CA1L"),U,6)  ;FILING INSTRUCTION
"RTN","OOPSDOL1",177,0)
 S CATY=$S(FL174=1:"2^0",FL174=2:"2^1",FL174=3:"1^",FL174=4:"6^",1:"")
"RTN","OOPSDOL1",178,0)
 S OPX=OPX_U_CATY_"^|"
"RTN","OOPSDOL1",179,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL1",180,0)
OP10 ; Seg OP09
"RTN","OOPSDOL1",181,0)
 I $P(OOPSAR("CA1G"),U,4)="N" D
"RTN","OOPSDOL1",182,0)
 .K OPX
"RTN","OOPSDOL1",183,0)
 .S OPX="OP09^1^1^"_$P(OOPSAR("CA1G"),U,5)_"^|"
"RTN","OOPSDOL1",184,0)
 .D STORE^OOPSDOLX
"RTN","OOPSDOL1",185,0)
OP11 ; Seg OP10
"RTN","OOPSDOL1",186,0)
 I $P(OOPSAR("CA1G"),U,7)'="" D
"RTN","OOPSDOL1",187,0)
 .K OPX
"RTN","OOPSDOL1",188,0)
 .S OPX="OP10^1^1^"_$P(OOPSAR("CA1G"),U,7)_"^|"
"RTN","OOPSDOL1",189,0)
 .D STORE^OOPSDOLX
"RTN","OOPSDOL1",190,0)
OP12 ; Seg OP11 - Reason for Convert (Word Processing)
"RTN","OOPSDOL1",191,0)
 I $G(OOPSAR("CA1K"))'="" D
"RTN","OOPSDOL1",192,0)
 .S OPFLD=165,SEG="OP11"
"RTN","OOPSDOL1",193,0)
 .D WP^OOPSDOLX
"RTN","OOPSDOL1",194,0)
OP13 ; Seg OP12 - Supervisor not agree explain (Word Processing)
"RTN","OOPSDOL1",195,0)
 I $G(OOPSAR("CA1J"))'="" D
"RTN","OOPSDOL1",196,0)
 .S OPFLD=164,SEG="OP12"
"RTN","OOPSDOL1",197,0)
 .D WP^OOPSDOLX
"RTN","OOPSDOL1",198,0)
OP14 ; Seg OP13 - Nature of Injury
"RTN","OOPSDOL1",199,0)
 I $P(OOPSAR("CA1C"),U)'="" D
"RTN","OOPSDOL1",200,0)
 .K OPX
"RTN","OOPSDOL1",201,0)
 .S OPX="OP13^1^1^"_$P(OOPSAR("CA1C"),U)_"^|"
"RTN","OOPSDOL1",202,0)
 .D STORE^OOPSDOLX
"RTN","OOPSDOL1",203,0)
OP15 ; Seg OP14 - Supervisor Exception
"RTN","OOPSDOL1",204,0)
 I $P(OOPSAR("CA1L"),U,3)'="" D
"RTN","OOPSDOL1",205,0)
 .K OPX
"RTN","OOPSDOL1",206,0)
 .S OPX="OP14^1^1"
"RTN","OOPSDOL1",207,0)
 .S OPX=OPX_U_$P(OOPSAR("CA1L"),U,3)_"^|"
"RTN","OOPSDOL1",208,0)
 .D STORE^OOPSDOLX
"RTN","OOPSDOL1",209,0)
OP21 ; Seg OP20
"RTN","OOPSDOL1",210,0)
 K OPX
"RTN","OOPSDOL1",211,0)
 I $P(OOPSAR("2162B"),U,4)'="" D
"RTN","OOPSDOL1",212,0)
 .S OPX="OP20^"_"P"_U_$$GET1^DIQ(2260,OOPDA,"30:1")_"^|" D STORE^OOPSDOLX
"RTN","OOPSDOL1",213,0)
 .Q
"RTN","OOPSDOL1",214,0)
 ; Only send the Primary Body part at this time - per AAC 6/30/2000
"RTN","OOPSDOL1",215,0)
 ; I $P(OOPSAR("2162B"),U,8)'="" D
"RTN","OOPSDOL1",216,0)
 ; . N OPX
"RTN","OOPSDOL1",217,0)
 ; . S OPX="OP20^"_"S"_U_$$GET1^DIQ(2260,OOPDA,"30.1:1")_"^|" D STORE^OOPSDOLX
"RTN","OOPSDOL1",218,0)
 ; . Q
"RTN","OOPSDOL1",219,0)
OP22 ; Seg OP21 Defined for future use
"RTN","OOPSDOL1",220,0)
OP23 ; Seg OP22 Defined for future use
"RTN","OOPSDOL1",221,0)
OP24 ; Seg OP23 - Statement of Witness (Not yet used)
"RTN","OOPSDOL1",222,0)
 I $G(OOPSAR("CA1W",1))'="" D
"RTN","OOPSDOL1",223,0)
 . I $L(OOPSAR("CA1W",1))<133 D
"RTN","OOPSDOL1",224,0)
 .. K OPX
"RTN","OOPSDOL1",225,0)
 .. S OPX="OP23^1^1^"_OOPSAR("CA1W",1)_"^|"
"RTN","OOPSDOL1",226,0)
 .. D STORE^OOPSDOLX
"RTN","OOPSDOL1",227,0)
 . I $L(OOPSAR("CA1W",1))>132 D
"RTN","OOPSDOL1",228,0)
 .. K OPX
"RTN","OOPSDOL1",229,0)
 .. S OPX="OP23^1^2^"_$E(OOPSAR("CA1W",1),1,132)_"^|"
"RTN","OOPSDOL1",230,0)
 .. D STORE^OOPSDOLX
"RTN","OOPSDOL1",231,0)
 .. K OPX
"RTN","OOPSDOL1",232,0)
 .. S OPX="OP23^2^2^"_$E(DATA,133,264)_"^|"
"RTN","OOPSDOL1",233,0)
 .. D STORE^OOPSDOLX
"RTN","OOPSDOL1",234,0)
 ;
"RTN","OOPSDOL1",235,0)
EXIT ; End of routine
"RTN","OOPSDOL1",236,0)
 K WITN
"RTN","OOPSDOL1",237,0)
 Q
"RTN","OOPSDOL2")
0^12^B46082024
"RTN","OOPSDOL2",1,0)
OOPSDOL2 ;WIOFO/CAH-CA2 EXTRACT FOR DOL ;3/15/00
"RTN","OOPSDOL2",2,0)
 ;;1.0;ASISTS;**8,10**;Jun 01, 1998
"RTN","OOPSDOL2",3,0)
EN ; Entry
"RTN","OOPSDOL2",4,0)
 N OCC,NAME,FN,KK,D62,D126,D226,D227
"RTN","OOPSDOL2",5,0)
 S OOPSAR("CA")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA")))
"RTN","OOPSDOL2",6,0)
 S OOPSAR("CA2A")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2A")))
"RTN","OOPSDOL2",7,0)
 S OOPSAR("CA2B")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2B")))
"RTN","OOPSDOL2",8,0)
 S OOPSAR("CA2C")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2C",0)))
"RTN","OOPSDOL2",9,0)
 S OOPSAR("CA2D")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2D",0)))
"RTN","OOPSDOL2",10,0)
 S OOPSAR("CA2E")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2E",0)))
"RTN","OOPSDOL2",11,0)
 S OOPSAR("CA2ES")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2ES")))
"RTN","OOPSDOL2",12,0)
 S OOPSAR("CA2F")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2F",0)))
"RTN","OOPSDOL2",13,0)
 S OOPSAR("CA2G")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2G",0)))
"RTN","OOPSDOL2",14,0)
 S OOPSAR("CA2H")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2H")))
"RTN","OOPSDOL2",15,0)
 S OOPSAR("CA2I")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2I")))
"RTN","OOPSDOL2",16,0)
 S OOPSAR("CA2J")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2J")))
"RTN","OOPSDOL2",17,0)
 S OOPSAR("CA2K")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2K",0)))
"RTN","OOPSDOL2",18,0)
 S OOPSAR("CA2L")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"CA2L")))
"RTN","OOPSDOL2",19,0)
OP3 ; Seg OP02
"RTN","OOPSDOL2",20,0)
 K OPX
"RTN","OOPSDOL2",21,0)
 N OFF
"RTN","OOPSDOL2",22,0)
 S OFF=$$GET1^DIQ(2260,OOPDA,"73:1")
"RTN","OOPSDOL2",23,0)
 S OPX="OP02^"_$E("00",$L(OFF)+1,2)_OFF
"RTN","OOPSDOL2",24,0)
 S OPX=OPX_U_$P(OOPSAR("CA2I"),U,1)_U_$P(OOPSAR("CA2I"),U,2)
"RTN","OOPSDOL2",25,0)
 S OPX=OPX_U_$P(OOPSAR("CA2I"),U,3)_U_$$GET1^DIQ(2260,OOPDA,"240:1")
"RTN","OOPSDOL2",26,0)
 S OPX=OPX_U_$E($P(OOPSAR("CA2I"),U,5),1,5)_U_$P(OOPSAR("CA2H"),U,1)
"RTN","OOPSDOL2",27,0)
 S OPX=OPX_U_$P(OOPSAR("CA2H"),U,2)_U_$P(OOPSAR("CA2H"),U,3)
"RTN","OOPSDOL2",28,0)
 S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"233:1")_U_$E($P(OOPSAR("CA2H"),U,5),1,5)
"RTN","OOPSDOL2",29,0)
 S OPX=OPX_U_U_U_"^|"
"RTN","OOPSDOL2",30,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL2",31,0)
OP4 ; Seg OP03
"RTN","OOPSDOL2",32,0)
 K OPX
"RTN","OOPSDOL2",33,0)
 S OPX="OP03^"_$$GET1^DIQ(2260,OOPDA,60,"E")
"RTN","OOPSDOL2",34,0)
 S OPX=OPX_U_$P(OOPSAR("CA"),U,5)
"RTN","OOPSDOL2",35,0)
 S D62=$$GET1^DIQ(2260,OOPDA,"62:1")
"RTN","OOPSDOL2",36,0)
 S D126=$$GET1^DIQ(2260,OOPDA,"126:1")
"RTN","OOPSDOL2",37,0)
 S D226=$$GET1^DIQ(2260,OOPDA,"226:1")
"RTN","OOPSDOL2",38,0)
 S D227=$$GET1^DIQ(2260,OOPDA,"227:1")
"RTN","OOPSDOL2",39,0)
 S OPX=OPX_U_$E("000",$L(D226)+1,3)_D226
"RTN","OOPSDOL2",40,0)
 S OPX=OPX_U_$E("0000",$L(D227)+1,4)_D227
"RTN","OOPSDOL2",41,0)
 S OPX=OPX_U_$E("00",$L(D62)+1,2)_D62
"RTN","OOPSDOL2",42,0)
 S OPX=OPX_U_$E("00",$L(D126)+1,2)_D126
"RTN","OOPSDOL2",43,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA2J"),U,8))
"RTN","OOPSDOL2",44,0)
 S NAME=$$GET1^DIQ(2260,OOPDA,"265:.01"),FN=$P(NAME,",",2)
"RTN","OOPSDOL2",45,0)
 S OPX=OPX_U_$E($P(NAME,","),1,20)
"RTN","OOPSDOL2",46,0)
 F KK=1:0:1 Q:$E(FN,KK)'=" "  S FN=$E(FN,KK+1,$L(FN))
"RTN","OOPSDOL2",47,0)
 S OPX=OPX_U_$E($P(FN," "),1,10)_U_$E($P(FN," ",2),1,10)
"RTN","OOPSDOL2",48,0)
 S OPX=OPX_U_$P(OOPSAR("CA2H"),U,8)_U_$TR($P(OOPSAR("CA2H"),U,9),"()-,^* ")
"RTN","OOPSDOL2",49,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA2ES"),U,6))
"RTN","OOPSDOL2",50,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA2J"),U,6))_U_"^|"
"RTN","OOPSDOL2",51,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL2",52,0)
OP5 ; Seg OP04
"RTN","OOPSDOL2",53,0)
 K OPX
"RTN","OOPSDOL2",54,0)
 N GRADE,STEP
"RTN","OOPSDOL2",55,0)
 S GRADE=$P(OOPSAR("2162A"),U,12),STEP=$P(OOPSAR("2162A"),U,13)
"RTN","OOPSDOL2",56,0)
 S OPX="OP04^"_$$DC^OOPSUTL3($P(OOPSAR("CA2ES"),U,3))
"RTN","OOPSDOL2",57,0)
 I $P(OOPSAR("CA2J"),U,9) D
"RTN","OOPSDOL2",58,0)
 .S Y=$P(OOPSAR("CA2J"),U,9) D DD^%DT S Y=$P($TR(Y,":",""),"@",2)
"RTN","OOPSDOL2",59,0)
 .S OPX=OPX_U_$$DC^OOPSUTL3($P($P(OOPSAR("CA2J"),U,9),"."))_Y
"RTN","OOPSDOL2",60,0)
 I '$P(OOPSAR("CA2J"),U,9) S OPX=OPX_U
"RTN","OOPSDOL2",61,0)
 I $P(OOPSAR("CA2J"),U,12) D
"RTN","OOPSDOL2",62,0)
 .S Y=$P(OOPSAR("CA2J"),U,12) D DD^%DT S Y=$P($TR(Y,":",""),"@",2)
"RTN","OOPSDOL2",63,0)
 .S OPX=OPX_U_$$DC^OOPSUTL3($P($P(OOPSAR("CA2J"),U,12),"."))_Y
"RTN","OOPSDOL2",64,0)
 I '$P(OOPSAR("CA2J"),U,12) S OPX=OPX_U
"RTN","OOPSDOL2",65,0)
 S OPX=OPX_"^^^"_$P(OOPSAR("CA2J"),U,7)
"RTN","OOPSDOL2",66,0)
 S OPX=OPX_U_$E($P(OOPSAR(0),U,13),1,2)
"RTN","OOPSDOL2",67,0)
 S OPX=OPX_U_$E("00",$L(GRADE)+1,2)_GRADE
"RTN","OOPSDOL2",68,0)
 I STEP="N" S OPX=OPX_U_" N"
"RTN","OOPSDOL2",69,0)
 I STEP'["N" S OPX=OPX_U_$E("00",$L(STEP)+1,2)_STEP
"RTN","OOPSDOL2",70,0)
 I $P(OOPSAR("CA2A"),U,8)=1!($P(OOPSAR("CA2A"),U,8)=4)!($P(OOPSAR("CA2A"),U,8)=5)!($P(OOPSAR("CA2A"),U,8)=7) S OPX=OPX_U_"Y"
"RTN","OOPSDOL2",71,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL2",72,0)
 I $P(OOPSAR("CA2A"),U,8)=2!($P(OOPSAR("CA2A"),U,8)=4)!($P(OOPSAR("CA2A"),U,8)=6)!($P(OOPSAR("CA2A"),U,8)=7) S OPX=OPX_U_"Y"
"RTN","OOPSDOL2",73,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL2",74,0)
 I $P(OOPSAR("CA2A"),U,8)=3!($P(OOPSAR("CA2A"),U,8)=5)!($P(OOPSAR("CA2A"),U,8)=6)!($P(OOPSAR("CA2A"),U,8)=7) S OPX=OPX_U_"Y"
"RTN","OOPSDOL2",75,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL2",76,0)
 S OPX=OPX_U_"Y^Y^Y^Y"
"RTN","OOPSDOL2",77,0)
 S OPX=OPX_U_"^^ASISTS^C2^Y"
"RTN","OOPSDOL2",78,0)
 S OPX=OPX_U                         ;Date of this Notice
"RTN","OOPSDOL2",79,0)
 S OPX=OPX_U_$P(OOPSAR("CA2B"),U)    ;Illness Occurred Location
"RTN","OOPSDOL2",80,0)
 S OPX=OPX_U_$P(OOPSAR("CA2B"),U,2)  ;Illness Occurred Address
"RTN","OOPSDOL2",81,0)
 S OPX=OPX_U_$P(OOPSAR("CA2B"),U,3)  ;Illness Occurred City
"RTN","OOPSDOL2",82,0)
 S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"212:1") ;Illness Occurred State
"RTN","OOPSDOL2",83,0)
 S OPX=OPX_U_$E($P(OOPSAR("CA2B"),U,5),1,5)_"^|"
"RTN","OOPSDOL2",84,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL2",85,0)
OP6 ; Seg OP05
"RTN","OOPSDOL2",86,0)
 K OPX
"RTN","OOPSDOL2",87,0)
 S OPX="OP05^"_$P(OOPSAR("CA2L"),U)_U_$P(OOPSAR("CA2L"),U,2)
"RTN","OOPSDOL2",88,0)
 S OPX=OPX_U_$P(OOPSAR("CA2L"),U,3)_U_$P(OOPSAR("CA2L"),U,4)
"RTN","OOPSDOL2",89,0)
 S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"262:1")_U_$E($P(OOPSAR("CA2L"),U,6),1,5)
"RTN","OOPSDOL2",90,0)
 I $P(OOPSAR("CA2J"),U)'="" S OPX=OPX_U_1
"RTN","OOPSDOL2",91,0)
 E  S OPX=OPX_U
"RTN","OOPSDOL2",92,0)
 S NAME=$P(OOPSAR("CA2J"),U),FN=$P(NAME,",",2)
"RTN","OOPSDOL2",93,0)
 F KK=1:0:1 Q:$E(FN,KK)'=" "  S FN=$E(FN,KK+1,$L(FN))
"RTN","OOPSDOL2",94,0)
 S OPX=OPX_U_$E($P(NAME,","),1,20)_U_$E($P(FN," "),1,10)_U_$E($P(FN," ",2),1,10)
"RTN","OOPSDOL2",95,0)
 I $P(OOPSAR("CA2J"),U)'="" S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"270:1")
"RTN","OOPSDOL2",96,0)
 I $P(OOPSAR("CA2J"),U,2)'="" D
"RTN","OOPSDOL2",97,0)
 .S OPX=OPX_U_$P(OOPSAR("CA2J"),U,2)_U_$P(OOPSAR("CA2J"),U,3)
"RTN","OOPSDOL2",98,0)
 .S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"248:1")_U_$E($P(OOPSAR("CA2J"),U,5),1,5)
"RTN","OOPSDOL2",99,0)
 I $P(OOPSAR("CA2J"),U,2)="" S OPX=OPX_"^^^^"
"RTN","OOPSDOL2",100,0)
 S OPX=OPX_U_"^^|"
"RTN","OOPSDOL2",101,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL2",102,0)
OP7 ; Seg OP06
"RTN","OOPSDOL2",103,0)
 S DATA=$$CONV^OOPSUTL5($P(OOPSAR("CA2I"),U,8))
"RTN","OOPSDOL2",104,0)
 K OPX
"RTN","OOPSDOL2",105,0)
 S OPX="OP06"
"RTN","OOPSDOL2",106,0)
 F X=1:1:7 D          ;Loop for seven days of the week
"RTN","OOPSDOL2",107,0)
 .I DATA[X D
"RTN","OOPSDOL2",108,0)
 ..S OPX=OPX_U_"Y"
"RTN","OOPSDOL2",109,0)
 ..S OPX=OPX_U_$$HM^OOPSUTL3($P(OOPSAR("CA2I"),U,6))_U_$$HM^OOPSUTL3($P(OOPSAR("CA2I"),U,7))
"RTN","OOPSDOL2",110,0)
 .I DATA'[X S OPX=OPX_"^N^^"
"RTN","OOPSDOL2",111,0)
 ; Generate Occ Code for DOL transfer
"RTN","OOPSDOL2",112,0)
 S OCC=$$GET1^DIQ(2260,OOPDA,15)      ; Occupation code from PAID
"RTN","OOPSDOL2",113,0)
 S OCC=$S(OCC<2200:"G"_OCC,(OCC>2499&(OCC<9001)):"W"_OCC,(OCC=9999):"Z"_OCC,1:"")
"RTN","OOPSDOL2",114,0)
 S OPX=OPX_U_OCC_U_$P(OOPSAR("CA2A"),U,9)_"^|"
"RTN","OOPSDOL2",115,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL2",116,0)
OP8 ; Seg OP07 RELATIONSHIP OF ILLNESS TO EMP (Word Processing)
"RTN","OOPSDOL2",117,0)
 I $G(OOPSAR("CA2C"))'="",($P(OOPSAR("CA2C"),U,4)'=0) D
"RTN","OOPSDOL2",118,0)
 . S OPFLD=216,SEG="OP07"
"RTN","OOPSDOL2",119,0)
 . D WP^OOPSDOLX
"RTN","OOPSDOL2",120,0)
OP9 ; Seg OP08
"RTN","OOPSDOL2",121,0)
 K OPX
"RTN","OOPSDOL2",122,0)
 S OPX="OP08^^^^^^^"
"RTN","OOPSDOL2",123,0)
 I $P(OOPSAR("CA2L"),U,7)'="" S OPX=OPX_97
"RTN","OOPSDOL2",124,0)
 E  S OPX=OPX_U
"RTN","OOPSDOL2",125,0)
 S OPX=OPX_"^N^^^^^^^^^^^|"
"RTN","OOPSDOL2",126,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL2",127,0)
OP14 ; Seg OP13 Nature of Disease/Illness (Word Processing)
"RTN","OOPSDOL2",128,0)
 I $G(OOPSAR("CA2D"))'="",($P(OOPSAR("CA2D"),U,4)'=0) D
"RTN","OOPSDOL2",129,0)
 .S OPFLD=217,SEG="OP13"
"RTN","OOPSDOL2",130,0)
 .D WP^OOPSDOLX
"RTN","OOPSDOL2",131,0)
OP15 ;Seg OP14 Supervisor Exception
"RTN","OOPSDOL2",132,0)
 I $P(OOPSAR("CA2L"),U,7)'="" D
"RTN","OOPSDOL2",133,0)
 .K OPX
"RTN","OOPSDOL2",134,0)
 .S OPX="OP14^1^1^"_$P(OOPSAR("CA2L"),U,7)_"^|"   ;Supervisor Exception
"RTN","OOPSDOL2",135,0)
 .D STORE^OOPSDOLX
"RTN","OOPSDOL2",136,0)
OP16 ; Seg OP15
"RTN","OOPSDOL2",137,0)
 K OPX
"RTN","OOPSDOL2",138,0)
 S OPX="OP15^"_$$DC^OOPSUTL3($P(OOPSAR("CA2J"),U,11))
"RTN","OOPSDOL2",139,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA2B"),U,6))
"RTN","OOPSDOL2",140,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P(OOPSAR("CA2B"),U,7))
"RTN","OOPSDOL2",141,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P($P(OOPSAR("CA2J"),U,10),"."))
"RTN","OOPSDOL2",142,0)
 S Y=$P(OOPSAR("CA2J"),U,10) D DD^%DT S Y=$P($TR(Y,":",""),"@",2)
"RTN","OOPSDOL2",143,0)
 S OPX=OPX_Y
"RTN","OOPSDOL2",144,0)
 I $G(OOPSAR("CA2C"))'="",($P(OOPSAR("CA2C"),U,4)'=0) S OPX=OPX_U_"Y"
"RTN","OOPSDOL2",145,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL2",146,0)
 I $G(OOPSAR("CA2K"))'="",($P(OOPSAR("CA2K"),U,4)'=0) S OPX=OPX_U_"Y"
"RTN","OOPSDOL2",147,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL2",148,0)
 I $G(OOPSAR("CA2E"))'="",($P(OOPSAR("CA2E"),U,4)'=0) S OPX=OPX_U_"Y"
"RTN","OOPSDOL2",149,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL2",150,0)
 I $G(OOPSAR("CA2G"))'="",($P(OOPSAR("CA2G"),U,4)'=0) S OPX=OPX_U_"Y"
"RTN","OOPSDOL2",151,0)
 E  S OPX=OPX_U_"N"
"RTN","OOPSDOL2",152,0)
 I $G(OOPSAR("CA2F"))'="",($P(OOPSAR("CA2F"),U,4)'=0) S OPX=OPX_U_"Y^|"
"RTN","OOPSDOL2",153,0)
 E  S OPX=OPX_U_"N^|"
"RTN","OOPSDOL2",154,0)
 D STORE^OOPSDOLX
"RTN","OOPSDOL2",155,0)
OP17 ; Seg OP16 Work Duty Changed (Word Processing)
"RTN","OOPSDOL2",156,0)
 I $G(OOPSAR("CA2K"))'="",($P(OOPSAR("CA2K"),U,4)'=0) D
"RTN","OOPSDOL2",157,0)
 .S OPFLD=257,SEG="OP16"
"RTN","OOPSDOL2",158,0)
 .D WP^OOPSDOLX
"RTN","OOPSDOL2",159,0)
OP18 ; Seg OP17 Claim not Filed (Word Processing)
"RTN","OOPSDOL2",160,0)
 I $G(OOPSAR("CA2E"))'="",($P(OOPSAR("CA2E"),U,4)'=0) D
"RTN","OOPSDOL2",161,0)
 .S OPFLD=218,SEG="OP17"
"RTN","OOPSDOL2",162,0)
 .D WP^OOPSDOLX
"RTN","OOPSDOL2",163,0)
OP19 ; Seg OP18 Medical Report Delay (Word Processing)
"RTN","OOPSDOL2",164,0)
 I $G(OOPSAR("CA2G"))'="",($P(OOPSAR("CA2G"),U,4)'=0) D
"RTN","OOPSDOL2",165,0)
 .S OPFLD=220,SEG="OP18"
"RTN","OOPSDOL2",166,0)
 .D WP^OOPSDOLX
"RTN","OOPSDOL2",167,0)
OP20 ; Seg OP19 Employee Statement Delayed (Word Processing)
"RTN","OOPSDOL2",168,0)
 I $G(OOPSAR("CA2F"))'="",($P(OOPSAR("CA2F"),U,4)'=0) D
"RTN","OOPSDOL2",169,0)
 .S OPFLD=219,SEG="OP19"
"RTN","OOPSDOL2",170,0)
 .D WP^OOPSDOLX
"RTN","OOPSDOL2",171,0)
OP21 ; Seg OP20
"RTN","OOPSDOL2",172,0)
 K OPX
"RTN","OOPSDOL2",173,0)
 I $P(OOPSAR("2162B"),U,4)'="" D
"RTN","OOPSDOL2",174,0)
 .S OPX="OP20^"_"P"_U_$$GET1^DIQ(2260,OOPDA,"30:1")_"^|" D STORE^OOPSDOLX
"RTN","OOPSDOL2",175,0)
 .Q
"RTN","OOPSDOL2",176,0)
 ; Only send Primary Body part at this time - per AAC 6/30/2000
"RTN","OOPSDOL2",177,0)
 ; I $P(OOPSAR("2162B"),U,8)'="" D
"RTN","OOPSDOL2",178,0)
 ; . N OPX
"RTN","OOPSDOL2",179,0)
 ; . S OPX="OP20^"_"S"_U_$$GET1^DIQ(2260,OOPDA,"30.1:1")_"^|" D STORE^OOPSDOLX
"RTN","OOPSDOL2",180,0)
 ; . Q
"RTN","OOPSDOL2",181,0)
OP22 ; Seg OP21 Define for future use
"RTN","OOPSDOL2",182,0)
OP23 ; Seg OP22 Define for future use
"RTN","OOPSDOL2",183,0)
EXIT ; exit the routine
"RTN","OOPSDOL2",184,0)
 K IEN,DATA,MAX
"RTN","OOPSDOL2",185,0)
 Q
"RTN","OOPSDOLX")
0^10^B10366939
"RTN","OOPSDOLX",1,0)
OOPSDOLX ;WIOFO/CAH-Extract data for DOL XMIT ;3/15/00
"RTN","OOPSDOLX",2,0)
 ;;1.0;ASISTS;**8,10**;Jun 01, 1998
"RTN","OOPSDOLX",3,0)
 ;
"RTN","OOPSDOLX",4,0)
 ;Retrieves data from ^OOPS(2260, for CA1/CA2
"RTN","OOPSDOLX",5,0)
 ;Variables used
"RTN","OOPSDOLX",6,0)
 ;  OOPDA-----IEN of Case
"RTN","OOPSDOLX",7,0)
 ;  OOPSAR----Array holding data
"RTN","OOPSDOLX",8,0)
 ;  OPL-------Last line number written in message text
"RTN","OOPSDOLX",9,0)
 ;  XMZ-------Message Number
"RTN","OOPSDOLX",10,0)
 ; Entry
"RTN","OOPSDOLX",11,0)
 N ARR,KK,FN,MESS,NAME,OPC,OPSAR,OPT,OPX,SEG,OOPSAR,FYM,MON
"RTN","OOPSDOLX",12,0)
 S RSIZE=0,ARR=0
"RTN","OOPSDOLX",13,0)
 S OOPSAR(0)=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,0)))
"RTN","OOPSDOLX",14,0)
 S OOPSAR("2162A")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"2162A")))
"RTN","OOPSDOLX",15,0)
 S OOPSAR("2162B")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"2162B")))
"RTN","OOPSDOLX",16,0)
 S OOPSAR("2162D")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"2162D")))
"RTN","OOPSDOLX",17,0)
 S OOPSAR("2162ES")=$$UP^OOPSUTL4($G(^OOPS(2260,OOPDA,"2162ES")))
"RTN","OOPSDOLX",18,0)
OP02 ; Seg OP01
"RTN","OOPSDOLX",19,0)
 K OPX
"RTN","OOPSDOLX",20,0)
 S OPX="OP01^"_$TR($P(OOPSAR(0),U),"-")_U_$P(OOPSAR(0),U,2)
"RTN","OOPSDOLX",21,0)
 S OPX=OPX_U_$P(OOPSAR(0),U,7)_U_$TR($P(OOPSAR("2162A"),U),"-")
"RTN","OOPSDOLX",22,0)
 S OPX=OPX_U_$$DC^OOPSUTL3($P($P(OOPSAR(0),U,5),"."))
"RTN","OOPSDOLX",23,0)
 I $$GET1^DIQ(2260,OOPDA,52,"I")=1 D
"RTN","OOPSDOLX",24,0)
 .S Y=$P(OOPSAR(0),U,5) D DD^%DT S Y=$P($TR(Y,":",""),"@",2)
"RTN","OOPSDOLX",25,0)
 .S OPX=OPX_U_Y
"RTN","OOPSDOLX",26,0)
 I $$GET1^DIQ(2260,OOPDA,52,"I")=2 S OPX=OPX_U
"RTN","OOPSDOLX",27,0)
 S MON=$E($P(OOPSAR(0),U,5),4,5)
"RTN","OOPSDOLX",28,0)
 S FYM=$S(MON=10:1,MON=11:2,MON=12:3,MON="01":4,MON="02":5,MON="03":6,MON="04":7,MON="05":8,MON="06":9,MON="07":10,MON="08":11,MON="09":12,1:0)
"RTN","OOPSDOLX",29,0)
 S OPX=OPX_U_$E($P(OOPSAR(0),U),1,4)_U_$E("00",$L(FYM)+1,2)_FYM
"RTN","OOPSDOLX",30,0)
 S NAME=$P(OOPSAR(0),U,2),FN=$P(NAME,",",2)
"RTN","OOPSDOLX",31,0)
 F KK=1:0:1 Q:$E(FN,KK)'=" "  S FN=$E(FN,KK+1,$L(FN))
"RTN","OOPSDOLX",32,0)
 S OPX=OPX_U_$P($P(NAME,",")," ")_U_$P(FN," ")_U_$E($P(FN," ",2))
"RTN","OOPSDOLX",33,0)
 S OPX=OPX_"^^"_$P(OOPSAR("2162A"),U,4)_U_$P(OOPSAR("2162A"),U,5)_U_$$GET1^DIQ(2260,OOPDA,"10:1")_U_$E($P(OOPSAR("2162A"),U,7),1,5)
"RTN","OOPSDOLX",34,0)
 S OPX=OPX_U_$TR($P(OOPSAR("2162A"),U,8),"(,)-^*/# ")
"RTN","OOPSDOLX",35,0)
 S OPX=OPX_U_$E($$GET1^DIQ(2260,OOPDA,7,"E"))_U_$$DC^OOPSUTL3($P(OOPSAR("2162A"),U,2))
"RTN","OOPSDOLX",36,0)
 S OPX=OPX_U_$$GET1^DIQ(2260,OOPDA,"70:.01")
"RTN","OOPSDOLX",37,0)
 S OPX=OPX_"^^"_$P(OOPSAR("2162A"),U,10)_"^|"
"RTN","OOPSDOLX",38,0)
 D STORE
"RTN","OOPSDOLX",39,0)
 I $P(OOPSAR(0),U,7)=1 D ^OOPSDOL1
"RTN","OOPSDOLX",40,0)
 I $P(OOPSAR(0),U,7)=2 D ^OOPSDOL2
"RTN","OOPSDOLX",41,0)
EXIT ; Loads the message and Quits the routine
"RTN","OOPSDOLX",42,0)
 I RSIZE+MSIZE>30000 D
"RTN","OOPSDOLX",43,0)
 .S END=$P($P(^OOPS(2260,OPAST,0),U),"-",2)
"RTN","OOPSDOLX",44,0)
 .D SEND^OOPSDOL,CREATE^OOPSDOL
"RTN","OOPSDOLX",45,0)
 .S (START,END)=""
"RTN","OOPSDOLX",46,0)
 F I=1:1:ARR I $G(MESS(I))'="" D
"RTN","OOPSDOLX",47,0)
 .S OPL=OPL+1,^XMB(3.9,XMZ,2,OPL,0)=MESS(I)
"RTN","OOPSDOLX",48,0)
 .I START="" S START=$P($P(OOPSAR(0),U),"-",2)
"RTN","OOPSDOLX",49,0)
 S MSIZE=MSIZE+RSIZE
"RTN","OOPSDOLX",50,0)
 K ARR,MESS,OPDT,RSIZE
"RTN","OOPSDOLX",51,0)
 Q
"RTN","OOPSDOLX",52,0)
STORE ;
"RTN","OOPSDOLX",53,0)
 S ARR=ARR+1,MESS(ARR)=OPX
"RTN","OOPSDOLX",54,0)
 S RSIZE=RSIZE+$L(OPX)+2
"RTN","OOPSDOLX",55,0)
 Q
"RTN","OOPSDOLX",56,0)
WP ; Word Processing Fields
"RTN","OOPSDOLX",57,0)
 K OPX
"RTN","OOPSDOLX",58,0)
 N DIWL,DIWR,DIWF,OPGLB,OPNODE,X,OPI
"RTN","OOPSDOLX",59,0)
 S OPI=0
"RTN","OOPSDOLX",60,0)
 K ^UTILITY($J,"W")
"RTN","OOPSDOLX",61,0)
 S DIWL=1,DIWR="",DIWF="|C132"
"RTN","OOPSDOLX",62,0)
 S OPNODE=$P($$GET1^DID(2260,OPFLD,"","GLOBAL SUBSCRIPT LOCATION"),";")
"RTN","OOPSDOLX",63,0)
 S OPI=0 F  S OPI=$O(^OOPS(2260,OOPDA,OPNODE,OPI)) Q:'OPI  S X=$G(^OOPS(2260,OOPDA,OPNODE,OPI,0)) D
"RTN","OOPSDOLX",64,0)
 . I $TR(X," ","")="" Q
"RTN","OOPSDOLX",65,0)
 . I X]"" D ^DIWP
"RTN","OOPSDOLX",66,0)
 S OPT=$G(^UTILITY($J,"W",1))+0
"RTN","OOPSDOLX",67,0)
 I OPT S OPI=0 F OPC=1:1:OPT S OPI=$O(^UTILITY($J,"W",1,OPI)) Q:'OPI  D
"RTN","OOPSDOLX",68,0)
 .S OPX=SEG_U_OPC_U_OPT_U_$$UP^OOPSUTL4($E(^UTILITY($J,"W",1,OPI,0),1,132))_"^|"
"RTN","OOPSDOLX",69,0)
 .S ARR=ARR+1,MESS(ARR)=OPX
"RTN","OOPSDOLX",70,0)
 .S RSIZE=RSIZE+$L(OPX)+2
"RTN","OOPSDOLX",71,0)
 K ^UTILITY($J,"W"),X,OPFLD
"RTN","OOPSDOLX",72,0)
 Q
"RTN","OOPSEMP1")
0^1^B19787505
"RTN","OOPSEMP1",1,0)
OOPSEMP1 ;HINES/WAA,GTD-E/E Employee data Routines ;3/25/98
"RTN","OOPSEMP1",2,0)
 ;;1.0;ASISTS;**1,3,5,8,10**;Jun 01, 1998
"RTN","OOPSEMP1",3,0)
 ;;
"RTN","OOPSEMP1",4,0)
 ; Employee/Person Address is now only stored in the 2162A node
"RTN","OOPSEMP1",5,0)
 ; of file 2260.  Prior to patch 3 it was stored in the CA1A and
"RTN","OOPSEMP1",6,0)
 ; CA2A nodes depending on which form was entered.  The address
"RTN","OOPSEMP1",7,0)
 ; is only 'pulled' from this location when printing either form.
"RTN","OOPSEMP1",8,0)
 ;
"RTN","OOPSEMP1",9,0)
EN1(CALLER) ;  Main Entry Point
"RTN","OOPSEMP1",10,0)
 ;INPUT:
"RTN","OOPSEMP1",11,0)
 ;     CALLER = "E" FOR EMPLOYEE
"RTN","OOPSEMP1",12,0)
 ;            = "S" FOR SUPERVISOR
"RTN","OOPSEMP1",13,0)
 ;            = "O" FOR SAFETY OFFICER
"RTN","OOPSEMP1",14,0)
 ;            = "W" FOR WORKERS COMP
"RTN","OOPSEMP1",15,0)
 ;
"RTN","OOPSEMP1",16,0)
 N SSN,IEN,FLD,ODESC,CAT,PAYP,OUT
"RTN","OOPSEMP1",17,0)
 S IEN=0,MAX1=528
"RTN","OOPSEMP1",18,0)
 Q:DUZ<1
"RTN","OOPSEMP1",19,0)
 Q:$G(^VA(200,DUZ,1))=""
"RTN","OOPSEMP1",20,0)
 I CALLER="E" D  Q:$G(SSN)=""  Q:$D(^OOPS(2260,"SSN",SSN))<1
"RTN","OOPSEMP1",21,0)
 .S SSN=$P(^VA(200,DUZ,1),U,9)
"RTN","OOPSEMP1",22,0)
 .I '$G(SSN) W !!,"No SSN on file for this Employee" Q
"RTN","OOPSEMP1",23,0)
 .I $D(^OOPS(2260,"SSN",SSN))<1 D
"RTN","OOPSEMP1",24,0)
 ..W !!,"An Accident Report has not been created for this Employee"
"RTN","OOPSEMP1",25,0)
 D  Q:IEN<1
"RTN","OOPSEMP1",26,0)
 .N DIC,X,INT
"RTN","OOPSEMP1",27,0)
 .S DIC="^OOPS(2260,"
"RTN","OOPSEMP1",28,0)
 .I CALLER="E" S DIC("S")="I $$EMP^OOPSUTL1(Y,SSN)"
"RTN","OOPSEMP1",29,0)
 .I CALLER="S" S DIC("S")="I $$SUP^OOPSEMP1(DUZ,Y)"
"RTN","OOPSEMP1",30,0)
 .I CALLER="O" S DIC("S")="I $$SAFE^OOPSEMP1(Y)"
"RTN","OOPSEMP1",31,0)
 .; PATCH 10
"RTN","OOPSEMP1",32,0)
 .I CALLER="W" S DIC("S")="I $$SCR^OOPSWCSE(Y)"
"RTN","OOPSEMP1",33,0)
 . ; Patch 5 - new Personnel status logic, make sure it's an employee
"RTN","OOPSEMP1",34,0)
 .S DIC("S")=DIC("S")_",$$ISEMP^OOPSUTL4(Y)"
"RTN","OOPSEMP1",35,0)
 .S DIC(0)="AEMNZ",DIC("A")="   Select Case: "
"RTN","OOPSEMP1",36,0)
 .D ^DIC
"RTN","OOPSEMP1",37,0)
 .Q:Y<1
"RTN","OOPSEMP1",38,0)
 .Q:$D(DTOUT)!($D(DUOUT))
"RTN","OOPSEMP1",39,0)
 .S IEN=$P(Y,U)
"RTN","OOPSEMP1",40,0)
 .Q
"RTN","OOPSEMP1",41,0)
FORM S FORM=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSEMP1",42,0)
 S FORM=$S(FORM=1:"CA1",FORM=2:"CA2",1:"")
"RTN","OOPSEMP1",43,0)
 Q:FORM=""
"RTN","OOPSEMP1",44,0)
 ; Patch 8 - changed call from local subroutine, only Signature that
"RTN","OOPSEMP1",45,0)
 ; can be cleared is Employee.
"RTN","OOPSEMP1",46,0)
 I CALLER="E" D CLRES^OOPSUTL1(IEN,CALLER,FORM)
"RTN","OOPSEMP1",47,0)
 ; Patch 8 - Get Occupation Desc from paid, only call if employee
"RTN","OOPSEMP1",48,0)
 S FLD=16,ODESC=""
"RTN","OOPSEMP1",49,0)
 I $$GET1^DIQ(2260,IEN,2,"I")=1 S ODESC=$$PAID^OOPSUTL1(IEN,FLD)
"RTN","OOPSEMP1",50,0)
 ; Get Pay Plan from PAID, if Per Status (CAT) = 2 Set PAYP = "VO"
"RTN","OOPSEMP1",51,0)
 S PAYP="",CAT=""
"RTN","OOPSEMP1",52,0)
 S CAT=$$GET1^DIQ(2260,IEN,2,"I")
"RTN","OOPSEMP1",53,0)
 I CAT<3 D
"RTN","OOPSEMP1",54,0)
 . I CAT=1 S PAYP=$$PAID^OOPSUTL1(IEN,20) I $G(PAYP)'="" S PAYP=$$PAYP^OOPSUTL1(PAYP)
"RTN","OOPSEMP1",55,0)
 . I CAT=2 S PAYP="VO"
"RTN","OOPSEMP1",56,0)
 ; patch 10 - Bill of Rights enhancement
"RTN","OOPSEMP1",57,0)
 I CALLER="E" S OUT="" D  I OUT G EXIT      ; if OUT, ^'d out of option
"RTN","OOPSEMP1",58,0)
 . I $$GET1^DIQ(2260,IEN,71,"I")'="Y" D BOR
"RTN","OOPSEMP1",59,0)
 . I $$GET1^DIQ(2260,IEN,71,"I")'="Y" D WCPBOR^OOPSMBUL(IEN)
"RTN","OOPSEMP1",60,0)
 . Q:OUT
"RTN","OOPSEMP1",61,0)
 N DR,DIE,SIGN2,OOPS
"RTN","OOPSEMP1",62,0)
 ; Patch 8 - had to split routine due to size
"RTN","OOPSEMP1",63,0)
 I FORM="CA1" D ^OOPSEMPB
"RTN","OOPSEMP1",64,0)
 I FORM="CA2" D ^OOPSEMP2
"RTN","OOPSEMP1",65,0)
 S DIE="^OOPS(2260,",DA=IEN
"RTN","OOPSEMP1",66,0)
 D ^DIE
"RTN","OOPSEMP1",67,0)
 I $D(Y)'=0 G EXIT
"RTN","OOPSEMP1",68,0)
 I CALLER="E" D
"RTN","OOPSEMP1",69,0)
 . N SIGN
"RTN","OOPSEMP1",70,0)
 . ; patch 10 - bill of rights enhancement
"RTN","OOPSEMP1",71,0)
 . I $$GET1^DIQ(2260,IEN,71,"I")'="Y" D  Q
"RTN","OOPSEMP1",72,0)
 .. W !?5,"Claim cannot be signed until the Bill of Rights Statement is understood."
"RTN","OOPSEMP1",73,0)
 . D SIGN(FORM)
"RTN","OOPSEMP1",74,0)
 . Q:$G(SIGN)=""
"RTN","OOPSEMP1",75,0)
 . I $P(SIGN,U) D EMP^OOPSVAL1          ; new call patch 8
"RTN","OOPSEMP1",76,0)
 I CALLER="W" D
"RTN","OOPSEMP1",77,0)
 . W !!,"Checking for Safety and Emp Health Ok to sign for Employee."
"RTN","OOPSEMP1",78,0)
 . D WCPS4E^OOPSWCSE
"RTN","OOPSEMP1",79,0)
EXIT ; quit the routine
"RTN","OOPSEMP1",80,0)
 K HSA,CIT,MAX,MAX1,STA,ZIP
"RTN","OOPSEMP1",81,0)
 Q
"RTN","OOPSEMP1",82,0)
SAFE(IEN) ; Safety Officer Screen
"RTN","OOPSEMP1",83,0)
 N VIEW,FORM,TYPE
"RTN","OOPSEMP1",84,0)
 S VIEW=1
"RTN","OOPSEMP1",85,0)
 S (TYPE,FORM)=$$GET1^DIQ(2260,IEN,52,"I"),FORM=$S(FORM=1:"CA1",FORM=2:"CA2",1:"")
"RTN","OOPSEMP1",86,0)
 ; Patch 8 - if ok to send to DOL cant edit
"RTN","OOPSEMP1",87,0)
 I $$GET1^DIQ(2260,IEN,67)'="" S VIEW=0
"RTN","OOPSEMP1",88,0)
 I $P($$EDSTA^OOPSUTL1(IEN,"E"),U,TYPE) S VIEW=0   ;Emp Signed
"RTN","OOPSEMP1",89,0)
 I $P($$EDSTA^OOPSUTL1(IEN,"S"),U,TYPE) S VIEW=0           ;Super Signed
"RTN","OOPSEMP1",90,0)
 I $$GET1^DIQ(2260,IEN,51,"I")'=0 S VIEW=0                 ;Case not open
"RTN","OOPSEMP1",91,0)
 Q VIEW
"RTN","OOPSEMP1",92,0)
SUP(DUZ,IEN) ; Supervisor Screen
"RTN","OOPSEMP1",93,0)
 N VIEW,FORM,SIGN,FORMS
"RTN","OOPSEMP1",94,0)
 S VIEW=1
"RTN","OOPSEMP1",95,0)
 S (FORMS,FORM)=$$GET1^DIQ(2260,IEN,52,"I"),FORM=$S(FORM=1:"CA1",FORM=2:"CA2",1:"")
"RTN","OOPSEMP1",96,0)
 I $P($$EDSTA^OOPSUTL1(IEN,"E"),U,FORMS) S VIEW=0 ; Employee Signed
"RTN","OOPSEMP1",97,0)
 I $P($$EDSTA^OOPSUTL1(IEN,"S"),U,FORMS) S VIEW=0 ; Super Signed
"RTN","OOPSEMP1",98,0)
 I $$GET1^DIQ(2260,IEN,51,"I")'=0 S VIEW=0 ; Case is not open
"RTN","OOPSEMP1",99,0)
 ; Patch 8 - if ok to send to DOL cant edit
"RTN","OOPSEMP1",100,0)
 I $$GET1^DIQ(2260,IEN,67)'="" S VIEW=0
"RTN","OOPSEMP1",101,0)
 I $$GET1^DIQ(2260,IEN,53,"I")'=DUZ,$$GET1^DIQ(2260,IEN,53.1,"I")'=DUZ S VIEW=0 ; Not Supervisor for case
"RTN","OOPSEMP1",102,0)
 Q VIEW
"RTN","OOPSEMP1",103,0)
SIGN(FORM) ; Sign/validate Document
"RTN","OOPSEMP1",104,0)
 N EMP,INC,VALID
"RTN","OOPSEMP1",105,0)
 S VALID=0,SIGN=""
"RTN","OOPSEMP1",106,0)
 S INC=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSEMP1",107,0)
 W ! D VALIDATE^OOPSUTL4(IEN,FORM,"E",.VALID)
"RTN","OOPSEMP1",108,0)
 I 'VALID Q
"RTN","OOPSEMP1",109,0)
 I CALLER="E" D
"RTN","OOPSEMP1",110,0)
 . I $$GET1^DIQ(200,DUZ,20.4)="" D
"RTN","OOPSEMP1",111,0)
 .. W !!,"Please enter a Signature Code.",!
"RTN","OOPSEMP1",112,0)
 .. D ^XUSESIG
"RTN","OOPSEMP1",113,0)
 . S SIGN=$$SIG^OOPSESIG(DUZ,IEN)
"RTN","OOPSEMP1",114,0)
 Q
"RTN","OOPSEMP1",115,0)
BOR ; patch 10 - does employee understand Bill of Rights
"RTN","OOPSEMP1",116,0)
 N DIE,DA,DR
"RTN","OOPSEMP1",117,0)
 S DA=IEN,DIE="^OOPS(2260,",DR=""
"RTN","OOPSEMP1",118,0)
 W !
"RTN","OOPSEMP1",119,0)
 S DR(1,2260,1)="71I have read and understood the Employee Bill of Rights:"
"RTN","OOPSEMP1",120,0)
 D ^DIE I $D(Y) S OUT=1
"RTN","OOPSEMP1",121,0)
 Q
"RTN","OOPSEMP2")
0^6^B34801835
"RTN","OOPSEMP2",1,0)
OOPSEMP2 ;WIOFO/LLH-E/E Employee CA2 data ;4/24/00
"RTN","OOPSEMP2",2,0)
 ;;1.0;ASISTS;**8,10**;Jun 01, 1998
"RTN","OOPSEMP2",3,0)
 ;;
"RTN","OOPSEMP2",4,0)
 ; Employee/Person Address is now only stored in the 2162A node
"RTN","OOPSEMP2",5,0)
 ; of file 2260.  Prior to patch 3 it was stored in the CA1A and
"RTN","OOPSEMP2",6,0)
 ; CA2A nodes depending on which form was entered.  The address
"RTN","OOPSEMP2",7,0)
 ; is only 'pulled' from this location when printing either form.
"RTN","OOPSEMP2",8,0)
 ;
"RTN","OOPSEMP2",9,0)
 W !!," Notice of Occupational Disease and Claim for Compensation (Form CA-2)"
"RTN","OOPSEMP2",10,0)
 W !!,"     Employee Data"
"RTN","OOPSEMP2",11,0)
 W !,"     -------------"
"RTN","OOPSEMP2",12,0)
 K DIQ,DA,DR S DIC="^OOPS(2260,",DR=".01;1;2;5;6;7;16;17",DA=IEN,DIQ="OOPS",DIQ(0)="IE"
"RTN","OOPSEMP2",13,0)
 D EN^DIQ1
"RTN","OOPSEMP2",14,0)
 K DR,DO,DD
"RTN","OOPSEMP2",15,0)
 S DR=""
"RTN","OOPSEMP2",16,0)
 S DR(1,2260,1)="63////^S X=PAYP"        ; Pay Plan from PAID
"RTN","OOPSEMP2",17,0)
 S DR(1,2260,2)="W !,""  1. NAME OF EMPLOYEE......: "",OOPS(2260,IEN,1,""E"")"
"RTN","OOPSEMP2",18,0)
 S DR(1,2260,5)="W !,""  2. SOCIAL SECURITY NUMBER: "",OOPS(2260,IEN,5,""E"")"
"RTN","OOPSEMP2",19,0)
 S DR(1,2260,10)="W !,""  3. DATE OF BIRTH.........: "",OOPS(2260,IEN,6,""E"")"
"RTN","OOPSEMP2",20,0)
 S DR(1,2260,15)="W !,""  4. SEX...................: "",OOPS(2260,IEN,7,""E"")"
"RTN","OOPSEMP2",21,0)
 S DR(1,2260,20)="12  5. HOME TELEPHONE........"
"RTN","OOPSEMP2",22,0)
 ; Patch 8 - add error checking for DOL requirements
"RTN","OOPSEMP2",23,0)
 S DR(1,2260,21)="I $TR(X,""/-*#"","""")'?10N W !?3,""Phone number must include area code and 7 digits only.  Example 703-123-8789"" S Y=12"
"RTN","OOPSEMP2",24,0)
 S DR(1,2260,25)="W !,""  6. GRADE/STEP............: "",OOPS(2260,IEN,16,""E""),""/"",OOPS(2260,IEN,17,""E"")"
"RTN","OOPSEMP2",25,0)
 S DR(1,2260,30)="W !,""  7. EMPLOYEE'S HOME MAILING ADDRESS:"""
"RTN","OOPSEMP2",26,0)
 S DR(1,2260,35)="8     STREET ADDRESS........"
"RTN","OOPSEMP2",27,0)
 S DR(1,2260,36)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=8"
"RTN","OOPSEMP2",28,0)
 S DR(1,2260,40)="9     CITY.................."
"RTN","OOPSEMP2",29,0)
 S DR(1,2260,41)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=9"
"RTN","OOPSEMP2",30,0)
 S DR(1,2260,45)="10     STATE................."
"RTN","OOPSEMP2",31,0)
 S DR(1,2260,50)="11     ZIP CODE.............."
"RTN","OOPSEMP2",32,0)
 S DR(1,2260,55)="207  8. DEPENDENTS............"
"RTN","OOPSEMP2",33,0)
 S DR(1,2260,60)="W !!,""     Claim Information"""
"RTN","OOPSEMP2",34,0)
 S DR(1,2260,65)="W !,""     -----------------"""
"RTN","OOPSEMP2",35,0)
 ; Patch 8 - default Occupation from PAID, if there
"RTN","OOPSEMP2",36,0)
 S DR(1,2260,70)="208  9. EMPLOYEE'S OCCUPATION.//^S X=ODESC"
"RTN","OOPSEMP2",37,0)
 S DR(1,2260,71)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=208"
"RTN","OOPSEMP2",38,0)
 S DR(1,2260,75)="W !,"" 10. LOCATION WHERE YOU WORKED WHEN DISEASE OR ILLNESS OCCURRED:"""
"RTN","OOPSEMP2",39,0)
 S DR(1,2260,80)="209     LOCATION..............;I X="""" S Y=214;"
"RTN","OOPSEMP2",40,0)
 S DR(1,2260,81)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=209"
"RTN","OOPSEMP2",41,0)
 S DR(1,2260,85)="210     STREET ADDRESS........"
"RTN","OOPSEMP2",42,0)
 S DR(1,2260,86)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=210"
"RTN","OOPSEMP2",43,0)
 S DR(1,2260,90)="211     CITY.................."
"RTN","OOPSEMP2",44,0)
 S DR(1,2260,91)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=211"
"RTN","OOPSEMP2",45,0)
 S DR(1,2260,95)="212     STATE................."
"RTN","OOPSEMP2",46,0)
 S DR(1,2260,100)="213     ZIP CODE.............."
"RTN","OOPSEMP2",47,0)
 S DR(1,2260,105)="214 11. DATE YOU FIRST BECAME AWARE OF DISEASE OR ILLNESS;I X="""" S Y=215"
"RTN","OOPSEMP2",48,0)
 S DR(1,2260,110)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=214"
"RTN","OOPSEMP2",49,0)
 S DR(1,2260,115)="215 12. DATE YOU FIRST REALIZED THE DISEASE OR ILLNESS WAS CAUSED BY YOUR               EMPLOYMENT;I X="""" S Y=216"
"RTN","OOPSEMP2",50,0)
 S DR(1,2260,120)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=215"
"RTN","OOPSEMP2",51,0)
 S DR(1,2260,125)="216 13. EXPLAIN THE RELATIONSHIP TO YOUR EMPLOYMENT, AND WHY YOU CAME TO THIS           REALIZATION~"
"RTN","OOPSEMP2",52,0)
 S DR(1,2260,130)="W !"
"RTN","OOPSEMP2",53,0)
 S DR(1,2260,131)="S MAX=$$WP^OOPSUTL4(216)"
"RTN","OOPSEMP2",54,0)
 S DR(1,2260,132)="I '$P(MAX,U,2) W !,""Invalid character entered, (~,`, @,#,$,%,^,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=216"
"RTN","OOPSEMP2",55,0)
 S DR(1,2260,133)="I +MAX>MAX1 W !!,""Max length for field is "",MAX1,"" characters, you have entered "",+MAX,"".  Please Edit."",! S Y=216"
"RTN","OOPSEMP2",56,0)
 ; Patch 8 - Cause of injury required for electronic submission
"RTN","OOPSEMP2",57,0)
 S DR(1,2260,134)="126     CAUSE OF INJURY CODE......."
"RTN","OOPSEMP2",58,0)
 S DR(1,2260,135)="217 14. NATURE OF DISEASE OR ILLNESS~"
"RTN","OOPSEMP2",59,0)
 S DR(1,2260,140)="W !"
"RTN","OOPSEMP2",60,0)
 S DR(1,2260,141)="S MAX=$$WP^OOPSUTL4(217)"
"RTN","OOPSEMP2",61,0)
 S DR(1,2260,142)="I '$P(MAX,U,2) W !,""Invalid character entered, (~,`, @,#,$,%,^,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=217"
"RTN","OOPSEMP2",62,0)
 S DR(1,2260,143)="I +MAX>264 W !!,""Max length for field is 264 characters, you have entered "",+MAX,"".  Please Edit."",! S Y=217"
"RTN","OOPSEMP2",63,0)
 S DR(1,2260,145)="218 15. IF THIS NOTICE AND CLAIM WAS NOT FILED WITH THE EMPLOYING AGENCY WITHIN         30 DAYS AFTER DATE SHOWN ABOVE IN ITEM #12, EXPLAIN THE REASON FOR THE          DELAY~"
"RTN","OOPSEMP2",64,0)
 S DR(1,2260,150)="W !"
"RTN","OOPSEMP2",65,0)
 S DR(1,2260,151)="S MAX=$$WP^OOPSUTL4(218)"
"RTN","OOPSEMP2",66,0)
 S DR(1,2260,152)="I '$P(MAX,U,2) W !,""Invalid character entered, (~,`, @,#,$,%,^,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=218"
"RTN","OOPSEMP2",67,0)
 S DR(1,2260,153)="I +MAX>MAX1 W !!,""Max length for field is "",MAX1,"" characters, you have entered "",+MAX,"".  Please Edit."",! S Y=218"
"RTN","OOPSEMP2",68,0)
 S DR(1,2260,155)="219 16. IF A SEPARATE NARRATIVE STATEMENT IS NOT SUBMITTED WITH THIS FORM, EXPLAIN      REASON FOR DELAY~"
"RTN","OOPSEMP2",69,0)
 S DR(1,2260,160)="W !"
"RTN","OOPSEMP2",70,0)
 S DR(1,2260,165)="S MAX=$$WP^OOPSUTL4(219)"
"RTN","OOPSEMP2",71,0)
 S DR(1,2260,166)="I '$P(MAX,U,2) W !,""Invalid character entered, (~,`, @,#,$,%,^,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=219"
"RTN","OOPSEMP2",72,0)
 S DR(1,2260,170)="I +MAX>MAX1 W !!,""Max length for field is "",MAX1,"" characters, you have entered "",+MAX,"".  Please Edit."",! S Y=219"
"RTN","OOPSEMP2",73,0)
 S DR(1,2260,175)="220 17. IF MEDICAL REPORTS ARE NOT SUBMITTED WITH THIS FORM, EXPLAIN REASON FOR         DELAY~"
"RTN","OOPSEMP2",74,0)
 S DR(1,2260,180)="S MAX=$$WP^OOPSUTL4(220)"
"RTN","OOPSEMP2",75,0)
 S DR(1,2260,181)="I '$P(MAX,U,2) W !,""Invalid character entered, (~,`, @,#,$,%,^,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=220"
"RTN","OOPSEMP2",76,0)
 S DR(1,2260,185)="I +MAX>MAX1 W !!,""Max length for field is "",MAX1,"" characters, you have entered "",+MAX,"".  Please Edit."",! S Y=220"
"RTN","OOPSEMP2",77,0)
 Q
"RTN","OOPSEMPB")
0^5^B22259299
"RTN","OOPSEMPB",1,0)
OOPSEMPB ;WIOFO/LLH-E/E Employee CA1 data ;10/16/00
"RTN","OOPSEMPB",2,0)
 ;;1.0;ASISTS;**8,10**;Jun 01, 1998
"RTN","OOPSEMPB",3,0)
 ;;
"RTN","OOPSEMPB",4,0)
 ; Employee/Person Address is now only stored in the 2162A node
"RTN","OOPSEMPB",5,0)
 ; of file 2260.  Prior to patch 3 it was stored in the CA1A and
"RTN","OOPSEMPB",6,0)
 ; CA2A nodes depending on which form was entered.  The address
"RTN","OOPSEMPB",7,0)
 ; is only 'pulled' from this location when printing either form.
"RTN","OOPSEMPB",8,0)
 ;
"RTN","OOPSEMPB",9,0)
 W !!," Federal Employee's Notice of Traumatic Injury and"
"RTN","OOPSEMPB",10,0)
 W !," Claim for Continuation of Pay/Compensation (Form CA-1)"
"RTN","OOPSEMPB",11,0)
 W !!,"     Employee Data"
"RTN","OOPSEMPB",12,0)
 W !,"     -------------"
"RTN","OOPSEMPB",13,0)
 N VWIT
"RTN","OOPSEMPB",14,0)
 K DIQ,DA,DR S DIC="^OOPS(2260,",DR=".01;1;2;4;5;6;7;16;17",DA=IEN,DIQ="OOPS",DIQ(0)="IE"
"RTN","OOPSEMPB",15,0)
 D EN^DIQ1
"RTN","OOPSEMPB",16,0)
 K DR,DO,DD
"RTN","OOPSEMPB",17,0)
 S DR=""
"RTN","OOPSEMPB",18,0)
 S DR(1,2260,1)="63////^S X=PAYP"        ; Pay Plan from PAID
"RTN","OOPSEMPB",19,0)
 S DR(1,2260,2)="W !,""  1. NAME OF EMPLOYEE......: "",OOPS(2260,IEN,1,""E"")"
"RTN","OOPSEMPB",20,0)
 S DR(1,2260,5)="W !,""  2. SOCIAL SECURITY NUMBER: "",OOPS(2260,IEN,5,""E"")"
"RTN","OOPSEMPB",21,0)
 S DR(1,2260,10)="W !,""  3. DATE OF BIRTH.........: "",OOPS(2260,IEN,6,""E"")"
"RTN","OOPSEMPB",22,0)
 S DR(1,2260,15)="W !,""  4. SEX...................: "",OOPS(2260,IEN,7,""E"")"
"RTN","OOPSEMPB",23,0)
 S DR(1,2260,20)="12  5. HOME TELEPHONE........"
"RTN","OOPSEMPB",24,0)
 ; Patch 8 - added error checking for DOL requirements
"RTN","OOPSEMPB",25,0)
 S DR(1,2260,21)="I $TR(X,""/-*#"","""")'?10N W !?3,""Phone number must include area code and 7 digits only.  Example 703-123-8789"" S Y=12"
"RTN","OOPSEMPB",26,0)
 S DR(1,2260,25)="W !,""  6. GRADE/STEP............: "",OOPS(2260,IEN,16,""E""),""/"",OOPS(2260,IEN,17,""E"")"
"RTN","OOPSEMPB",27,0)
 S DR(1,2260,30)="W !,""  7. EMPLOYEE'S HOME MAILING ADDRESS:"""
"RTN","OOPSEMPB",28,0)
 S DR(1,2260,35)="8     STREET ADDRESS........"
"RTN","OOPSEMPB",29,0)
 S DR(1,2260,36)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=8"
"RTN","OOPSEMPB",30,0)
 S DR(1,2260,40)="9     CITY.................."
"RTN","OOPSEMPB",31,0)
 S DR(1,2260,41)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=9"
"RTN","OOPSEMPB",32,0)
 S DR(1,2260,45)="10     STATE................."
"RTN","OOPSEMPB",33,0)
 S DR(1,2260,50)="11     ZIP CODE.............."
"RTN","OOPSEMPB",34,0)
 S DR(1,2260,55)="107  8. DEPENDENTS............"
"RTN","OOPSEMPB",35,0)
 S DR(1,2260,60)="W !!,""     Description of Injury"""
"RTN","OOPSEMPB",36,0)
 S DR(1,2260,65)="W !,""     ---------------------"""
"RTN","OOPSEMPB",37,0)
 S DR(1,2260,70)="108  9. PLACE WHERE INJURY OCCURRED..."
"RTN","OOPSEMPB",38,0)
 S DR(1,2260,71)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=108"
"RTN","OOPSEMPB",39,0)
 ;Patch 8 - AAC requirement add flds 183-185
"RTN","OOPSEMPB",40,0)
 S DR(1,2260,72)="183     ADDRESS WHERE INJURY OCCURRED."
"RTN","OOPSEMPB",41,0)
 S DR(1,2260,73)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=183"
"RTN","OOPSEMPB",42,0)
 S DR(1,2260,74)="184     CITY WHERE INJURY OCCURRED...."
"RTN","OOPSEMPB",43,0)
 S DR(1,2260,75)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=184"
"RTN","OOPSEMPB",44,0)
 S DR(1,2260,76)="185     STATE WHERE INJURY OCCURRED..."
"RTN","OOPSEMPB",45,0)
 S DR(1,2260,77)="181     ZIP CODE WHERE INJURY OCCURRED"
"RTN","OOPSEMPB",46,0)
 ;Default the Date/Time Injury Occurred from the 2162
"RTN","OOPSEMPB",47,0)
 S DR(1,2260,80)="109 10. DATE/TIME INJURY OCCURRED..//^S X=OOPS(2260,IEN,4,""E"")"
"RTN","OOPSEMPB",48,0)
 S DR(1,2260,85)="I $P(X,""."",2)="""" W !,""Time is REQUIRED in this response."" S Y=109"
"RTN","OOPSEMPB",49,0)
 S DR(1,2260,90)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=109"
"RTN","OOPSEMPB",50,0)
 S DR(1,2260,95)="110 11. DATE OF THIS NOTICE........//^S X=DT"
"RTN","OOPSEMPB",51,0)
 S DR(1,2260,100)="I X'="""",'$$FUT^OOPSUTL4($P(X,""."")) S Y=110"
"RTN","OOPSEMPB",52,0)
 ; Patch 8 - default Occupation from PAID, if there
"RTN","OOPSEMPB",53,0)
 S DR(1,2260,105)="111 12. EMPLOYEE'S OCCUPATION......//^S X=ODESC"
"RTN","OOPSEMPB",54,0)
 S DR(1,2260,106)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=111"
"RTN","OOPSEMPB",55,0)
 S DR(1,2260,110)="112 13. CAUSE OF INJURY (DESCRIBE WHAT HAPPENED AND WHY)"
"RTN","OOPSEMPB",56,0)
 S DR(1,2260,111)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=112"
"RTN","OOPSEMPB",57,0)
 S DR(1,2260,112)="126     CAUSE OF INJURY CODE......."
"RTN","OOPSEMPB",58,0)
 S DR(1,2260,115)="113 14. NATURE OF INJURY (IDENTIFY BOTH THE INJURY AND THE PART OF THE BODY e.g.       FRACTURE OF LEFT LEG)"
"RTN","OOPSEMPB",59,0)
 S DR(1,2260,116)="I X'="""",'$$VCHAR^OOPSUTL4(X) W !,""Invalid character entered, (~,`,@,#,$,%,*,_,|,\,},{,[,],>, or <),"",!,""please edit."",! S Y=113"
"RTN","OOPSEMPB",60,0)
 S DR(1,2260,120)="W !!,""     Employee Signature"""
"RTN","OOPSEMPB",61,0)
 S DR(1,2260,125)="W !,""     ------------------"""
"RTN","OOPSEMPB",62,0)
 S DR(1,2260,130)="114 15. REQUEST PAY OR LEAVE......."
"RTN","OOPSEMPB",63,0)
 S DR(1,2260,135)="W !!,""     Witness"""
"RTN","OOPSEMPB",64,0)
 S DR(1,2260,140)="W !,""     -------"""
"RTN","OOPSEMPB",65,0)
 ; Patch 8 - DOL project.  Added collection of multiple witnesses
"RTN","OOPSEMPB",66,0)
 ; note: if Witness Statement entry ever allowed, max length = 528
"RTN","OOPSEMPB",67,0)
 S DR(2,2260.0125)=".01:5"
"RTN","OOPSEMPB",68,0)
 S DR(2,2260.0125,6)="6////SIGNED WITNESS STATEMENT TO FOLLOW."
"RTN","OOPSEMPB",69,0)
 S DR(1,2260,145)="125"         ; call to witness multiple
"RTN","OOPSEMPB",70,0)
 S DR(1,2260,146)="S VWIT=$$WIT^OOPSUTL3"
"RTN","OOPSEMPB",71,0)
 S DR(1,2260,147)="I +VWIT=0!($P(VWIT,U,2)=0) S Y=125"
"RTN","OOPSEMPB",72,0)
 Q
"RTN","OOPSEUT")
0^13^B611355
"RTN","OOPSEUT",1,0)
OOPSEUT ;WIOFO/CVW-EDIT UNION INFO;  03/12/01
"RTN","OOPSEUT",2,0)
 ;;1.0;ASISTS;**10**;Jun 01, 1998
"RTN","OOPSEUT",3,0)
EN1(CALLER) ;Entry for Edit Union Information
"RTN","OOPSEUT",4,0)
 I CALLER'="W" G EXIT
"RTN","OOPSEUT",5,0)
 N DIC,Y
"RTN","OOPSEUT",6,0)
ENTLOOP ;
"RTN","OOPSEUT",7,0)
 S DIC="^OOPS(2263.7,",DIC(0)="AELMQZ" D ^DIC G:Y=-1 EXIT
"RTN","OOPSEUT",8,0)
 S IEN=+Y
"RTN","OOPSEUT",9,0)
 G:'IEN EXIT
"RTN","OOPSEUT",10,0)
EDIT ;EDIT STUB 
"RTN","OOPSEUT",11,0)
 S DA=IEN,DR="",DIE=2263.7
"RTN","OOPSEUT",12,0)
 S DR(1,2263.7,1)=".01  UNION NAME................."
"RTN","OOPSEUT",13,0)
 S DR(1,2263.7,5)="1  UNION ACRONYM.............."
"RTN","OOPSEUT",14,0)
 S DR(1,2263.7,10)="2  UNION REPRESENTATIVE......."
"RTN","OOPSEUT",15,0)
 D ^DIE
"RTN","OOPSEUT",16,0)
 G ENTLOOP
"RTN","OOPSEUT",17,0)
EXIT ;EXIT AND CLEAN
"RTN","OOPSEUT",18,0)
 K DA,DR,DIE,IEN
"RTN","OOPSEUT",19,0)
 Q
"RTN","OOPSMBUL")
0^3^B16444532
"RTN","OOPSMBUL",1,0)
OOPSMBUL ;HIRMFO/REL-Bulletin ;3/30/98
"RTN","OOPSMBUL",2,0)
 ;;1.0;ASISTS;**1,2,7,8,10**;Jun 01, 1998
"RTN","OOPSMBUL",3,0)
 Q
"RTN","OOPSMBUL",4,0)
MFAC ;
"RTN","OOPSMBUL",5,0)
 N NIEN,NGRP,TEST
"RTN","OOPSMBUL",6,0)
 S NIEN=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",7,0)
 S NGRP=GRP_" - "_$$GET1^DIQ(4,NIEN,99,"E")
"RTN","OOPSMBUL",8,0)
 S TEST=$$FIND1^DIC(3.8,"","AMX",NGRP)
"RTN","OOPSMBUL",9,0)
 I TEST S GRP=NGRP
"RTN","OOPSMBUL",10,0)
 D GRP
"RTN","OOPSMBUL",11,0)
 Q
"RTN","OOPSMBUL",12,0)
CASE(IEN) ;
"RTN","OOPSMBUL",13,0)
 N CN,SUP,SUP2,Y,GRP
"RTN","OOPSMBUL",14,0)
 S XMB="OOPS CASE",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",15,0)
 S CN=$P(X0,U,1),SUP=$P(X0,U,8),XMY(SUP)=""
"RTN","OOPSMBUL",16,0)
 S SUP2=$P(X0,U,9) I SUP2>0 S XMY(SUP2)=""
"RTN","OOPSMBUL",17,0)
 S XMB(3)=CN
"RTN","OOPSMBUL",18,0)
 ; Patch 8 - added display of supervisors name to bulletin
"RTN","OOPSMBUL",19,0)
 S XMB(4)=$$GET1^DIQ(200,SUP,.01,"E")
"RTN","OOPSMBUL",20,0)
 I SUP2>0 S XMB(5)=$$GET1^DIQ(200,SUP2,.01,"E")
"RTN","OOPSMBUL",21,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",22,0)
 S Y=$P(X0,U,3)
"RTN","OOPSMBUL",23,0)
 S GRP="OOPS INJURY"
"RTN","OOPSMBUL",24,0)
 D MFAC
"RTN","OOPSMBUL",25,0)
 S GRP="OOPS UNION"
"RTN","OOPSMBUL",26,0)
 D MFAC
"RTN","OOPSMBUL",27,0)
 I $P(X0,U,4)>10 S GRP="OOPS EH" D MFAC
"RTN","OOPSMBUL",28,0)
 D ^XMB K XMB,XMY,XMM,XMDT
"RTN","OOPSMBUL",29,0)
 Q
"RTN","OOPSMBUL",30,0)
SAFETY(IEN) ; Safety Officer Bulletin
"RTN","OOPSMBUL",31,0)
 N GRP
"RTN","OOPSMBUL",32,0)
 S XMB="OOPS SAFETY",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",33,0)
 S XMB(1)=$P(X0,U,2)
"RTN","OOPSMBUL",34,0)
 S XMB(3)=$P(X0,U,1)
"RTN","OOPSMBUL",35,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",36,0)
 S GRP="OOPS SAFETY"
"RTN","OOPSMBUL",37,0)
 D MFAC
"RTN","OOPSMBUL",38,0)
 D ^XMB K XMB,XMY,XMM,XMDT
"RTN","OOPSMBUL",39,0)
 Q
"RTN","OOPSMBUL",40,0)
WCPBOR(IEN) ; Employee does not understand bill of rights, sent msg to wcp
"RTN","OOPSMBUL",41,0)
 ; Input
"RTN","OOPSMBUL",42,0)
 ;   IEN - Internal record number
"RTN","OOPSMBUL",43,0)
 ;
"RTN","OOPSMBUL",44,0)
 N GRP,X0
"RTN","OOPSMBUL",45,0)
 S X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",46,0)
 S XMB(1)=$P(X0,U,2)
"RTN","OOPSMBUL",47,0)
 S XMB="OOPS WCPBOR"
"RTN","OOPSMBUL",48,0)
 S GRP="OOPS WCP"
"RTN","OOPSMBUL",49,0)
 D MFAC
"RTN","OOPSMBUL",50,0)
 D ^XMB K XMB,XMY,XMM,XMDT
"RTN","OOPSMBUL",51,0)
 Q
"RTN","OOPSMBUL",52,0)
CONSENT(IEN,UNIREP) ; Employee consented to union notification, 
"RTN","OOPSMBUL",53,0)
 ;                 send msg to union
"RTN","OOPSMBUL",54,0)
 ; Input
"RTN","OOPSMBUL",55,0)
 ;    IEN - Internal record number
"RTN","OOPSMBUL",56,0)
 ; UNIREP - IEN from file 200 of the Union Rep - used to send bulletin
"RTN","OOPSMBUL",57,0)
 ;
"RTN","OOPSMBUL",58,0)
 N GRP,X0,XA
"RTN","OOPSMBUL",59,0)
 S X0=$G(^OOPS(2260,IEN,0))
"RTN","OOPSMBUL",60,0)
 S XA=$G(^OOPS(2260,IEN,"2162A")) K XMY
"RTN","OOPSMBUL",61,0)
 S XMY(UNIREP)=""
"RTN","OOPSMBUL",62,0)
 S XMB(1)=$P(X0,U),Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",63,0)
 S XMB(3)=$$GET1^DIQ(2260,IEN,52)
"RTN","OOPSMBUL",64,0)
 S XMB(4)=$$GET1^DIQ(2260,IEN,2)
"RTN","OOPSMBUL",65,0)
 S XMB(5)=$$GET1^DIQ(2260,IEN,7)
"RTN","OOPSMBUL",66,0)
 S XMB(6)=$$GET1^DIQ(2260,IEN,13,"I")
"RTN","OOPSMBUL",67,0)
 S XMB(7)=$E($$GET1^DIQ(2260,IEN,18),1,28)
"RTN","OOPSMBUL",68,0)
 S XMB(8)=$$GET1^DIQ(2260,IEN,14)
"RTN","OOPSMBUL",69,0)
 S XMB(9)=$P(XA,U,12)_"/"_$P(XA,U,13)
"RTN","OOPSMBUL",70,0)
 S XMB(10)=$E($$GET1^DIQ(2260,IEN,53),1,23)
"RTN","OOPSMBUL",71,0)
 S XMB(11)=$E($$GET1^DIQ(2260,IEN,53.1),1,28)
"RTN","OOPSMBUL",72,0)
 S XMB(12)=$E($$GET1^DIQ(2260,IEN,3),1,23)
"RTN","OOPSMBUL",73,0)
 S XMDUZ=.5
"RTN","OOPSMBUL",74,0)
 S XMB="OOPS CONSENT"
"RTN","OOPSMBUL",75,0)
 D ^XMB K XMB,XMY,XMM,XMDT,XMDUZ
"RTN","OOPSMBUL",76,0)
 Q
"RTN","OOPSMBUL",77,0)
WCP(IEN,ACT) ; Bulletin to Super when WC edits or WX signs CA1/CA2
"RTN","OOPSMBUL",78,0)
 ; Input
"RTN","OOPSMBUL",79,0)
 ;   IEN - Internal record number
"RTN","OOPSMBUL",80,0)
 ;   ACT -
"RTN","OOPSMBUL",81,0)
 ;    "E" = Edited by the WC personnel
"RTN","OOPSMBUL",82,0)
 ;    "S" = Signed by the WC personnel
"RTN","OOPSMBUL",83,0)
 ;
"RTN","OOPSMBUL",84,0)
 N SUP,SUP2,Y
"RTN","OOPSMBUL",85,0)
 S XMB=$S(ACT="E":"OOPS WC EDITED",ACT="S":"OOPS WC SIGNED",1:"")
"RTN","OOPSMBUL",86,0)
 I $G(XMB)="" Q
"RTN","OOPSMBUL",87,0)
 S X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",88,0)
 S SUP=$P(X0,U,8),XMY(SUP)=""
"RTN","OOPSMBUL",89,0)
 S SUP2=$P(X0,U,9) I $G(SUP2) S XMY(SUP2)=""
"RTN","OOPSMBUL",90,0)
 S XMB(1)=$P(X0,U,2)
"RTN","OOPSMBUL",91,0)
 S XMB(2)=$P(X0,U,1)
"RTN","OOPSMBUL",92,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(3)=Y
"RTN","OOPSMBUL",93,0)
 D ^XMB K XMB,XMY,XMM,XMDT,X0
"RTN","OOPSMBUL",94,0)
 Q
"RTN","OOPSMBUL",95,0)
SUPS(IEN) ; Bulletin to WC when Supervisor signs CA1/CA2
"RTN","OOPSMBUL",96,0)
 ; Patch 8
"RTN","OOPSMBUL",97,0)
 N SUP,SUP2,FORM,GRP,Y
"RTN","OOPSMBUL",98,0)
 S XMB="OOPS WORKERS COMP",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",99,0)
 S SUP=$P(X0,U,8),XMY(SUP)=""
"RTN","OOPSMBUL",100,0)
 S SUP2=$P(X0,U,9) I $G(SUP2) S XMY(SUP2)=""
"RTN","OOPSMBUL",101,0)
 S XMB(1)=$P(X0,U,2)
"RTN","OOPSMBUL",102,0)
 S XMB(2)=$P(X0,U,1)
"RTN","OOPSMBUL",103,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(3)=Y
"RTN","OOPSMBUL",104,0)
 S FORM=$P(X0,U,7)
"RTN","OOPSMBUL",105,0)
 S FORM=$S(FORM=1:"CA1ES",FORM=2:"CA2ES",1:"")
"RTN","OOPSMBUL",106,0)
 I FORM="" Q
"RTN","OOPSMBUL",107,0)
 S Y=$P(^OOPS(2260,IEN,FORM),U,6) D DD^%DT S XMB(4)=Y
"RTN","OOPSMBUL",108,0)
 S GRP="OOPS WCP"
"RTN","OOPSMBUL",109,0)
 D MFAC
"RTN","OOPSMBUL",110,0)
 D ^XMB K XMB,XMY,XMM,XMDT,X0
"RTN","OOPSMBUL",111,0)
 Q
"RTN","OOPSMBUL",112,0)
UNION(IEN) ; Union  Bulletin
"RTN","OOPSMBUL",113,0)
 N GRP,Y
"RTN","OOPSMBUL",114,0)
 S XMB="OOPS SUPERVISOR",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",115,0)
 S XMB(3)=$P(X0,U,1)
"RTN","OOPSMBUL",116,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",117,0)
 S GRP="OOPS UNION"
"RTN","OOPSMBUL",118,0)
 D MFAC
"RTN","OOPSMBUL",119,0)
 D ^XMB K XMB,XMY,XMM,XMDT
"RTN","OOPSMBUL",120,0)
 Q
"RTN","OOPSMBUL",121,0)
EMP(IEN) ; Employee notification to supervisor
"RTN","OOPSMBUL",122,0)
 N GRP,SUP,SUP2
"RTN","OOPSMBUL",123,0)
 S XMB="OOPS EMPLOYEE",X0=$G(^OOPS(2260,IEN,0)) K XMY
"RTN","OOPSMBUL",124,0)
 S XMB(3)=$P(X0,U,1)
"RTN","OOPSMBUL",125,0)
 S Y=$P(X0,U,5) D DD^%DT S XMB(2)=Y
"RTN","OOPSMBUL",126,0)
 S SUP=$P(X0,U,8),XMY(SUP)=""
"RTN","OOPSMBUL",127,0)
 S SUP2=$P(X0,U,9) I SUP2>0 S XMY(SUP2)=""
"RTN","OOPSMBUL",128,0)
 S GRP="OOPS INJURY"
"RTN","OOPSMBUL",129,0)
 D MFAC
"RTN","OOPSMBUL",130,0)
 D ^XMB K XMY,XMM,XMDT
"RTN","OOPSMBUL",131,0)
 S GRP="OOPS UNION"
"RTN","OOPSMBUL",132,0)
 D MFAC
"RTN","OOPSMBUL",133,0)
 S XMDUZ=.5
"RTN","OOPSMBUL",134,0)
 D ^XMB K XMB,XMY,XMM,XMDT,XMDUZ
"RTN","OOPSMBUL",135,0)
 Q
"RTN","OOPSMBUL",136,0)
BOR(IEN) ; Employee Bill of Rights
"RTN","OOPSMBUL",137,0)
 N EMP
"RTN","OOPSMBUL",138,0)
 S XMB="OOPS BILL OF RIGHTS" K XMY
"RTN","OOPSMBUL",139,0)
 S EMP=$O(^VA(200,"SSN",SSN,0)),XMY(EMP)=""
"RTN","OOPSMBUL",140,0)
 D ^XMB K XMB,XMY,XMM,XMDT
"RTN","OOPSMBUL",141,0)
 Q
"RTN","OOPSMBUL",142,0)
GRP ; Get Mail group Members for GRP
"RTN","OOPSMBUL",143,0)
 I GRP="" Q
"RTN","OOPSMBUL",144,0)
 S XMY("G."_GRP)=""
"RTN","OOPSMBUL",145,0)
 Q
"RTN","OOPSPUT1")
0^14^B6754985
"RTN","OOPSPUT1",1,0)
OOPSPUT1 ;HIRMFO/YH-ACCIDENT FORM UTILITIES ;4/24/98
"RTN","OOPSPUT1",2,0)
 ;;1.0;ASISTS;**4,10**;Jun 01, 1998
"RTN","OOPSPUT1",3,0)
WDATE(OOPSDT,OOPSLC1,OOPSLC2,OOPSLC3) ;PRINT MONTH,DAY,YEAR
"RTN","OOPSPUT1",4,0)
 ;OOPSDT - FILEMAN DATE
"RTN","OOPSPUT1",5,0)
 ;OOPSLC1 - (X,Y) LOCATION OF MONTH
"RTN","OOPSPUT1",6,0)
 ;OOPSLC2 - (X,Y) LOCATION OF DAY
"RTN","OOPSPUT1",7,0)
 ;OOPSLC3 - (X,Y) LOCATION OF YEAR
"RTN","OOPSPUT1",8,0)
 Q:OOPSDT=""  N DL S DL=$S(FORM="CA-1":"#",FORM="CA-2":"@",1:"") Q:DL=""
"RTN","OOPSPUT1",9,0)
 W !,"PU"_OOPSLC1_";LB"_$E(OOPSDT,4,5)_DL_";PU"_OOPSLC2_";LB"_$E(OOPSDT,6,7)_DL_";PU"_OOPSLC3_";LB"_$E(OOPSDT,2,3)_DL_";"
"RTN","OOPSPUT1",10,0)
 Q
"RTN","OOPSPUT1",11,0)
WTIME(OOPSTM,OOPSAM,OOPSPM,OOPSLC1,OOPSLC2) ;PRINT TIME
"RTN","OOPSPUT1",12,0)
 ;OOPSTM - TIME TO BE PRINTED
"RTN","OOPSPUT1",13,0)
 ;OOPSAM - (X,Y) LOCATION OF AM BOX
"RTN","OOPSPUT1",14,0)
 ;OOPSPM - (X,Y) LOCATION OF PM BOX
"RTN","OOPSPUT1",15,0)
 ;OOPSLC1 - (X,Y) LOCATION OF HOURS
"RTN","OOPSPUT1",16,0)
 ;OOPSLC2 - (X,Y) LOCATION OF MINUTES
"RTN","OOPSPUT1",17,0)
 Q:+OOPSTM'>0  N DL S DL=$S(FORM="CA-1":"#",FORM="CA-2":"@",1:"") Q:DL=""
"RTN","OOPSPUT1",18,0)
 N OOPSHR,AMPM S OOPSHR=+$E(OOPSTM,1,2)
"RTN","OOPSPUT1",19,0)
 S AMPM=$S(OOPSHR=24:"AM",OOPSHR<12:"AM",1:"PM")
"RTN","OOPSPUT1",20,0)
 S OOPSHR=$S(OOPSHR=24:12,OOPSHR<13:OOPSHR,1:OOPSHR-12)
"RTN","OOPSPUT1",21,0)
 I AMPM="PM" W !,"PU"_OOPSPM_";LBX"_DL_";"
"RTN","OOPSPUT1",22,0)
 I AMPM="AM" W !,"PU"_OOPSAM_";LBX"_DL_";"
"RTN","OOPSPUT1",23,0)
 W !,"PU"_OOPSLC1_";LB"_OOPSHR_DL_";PU"_OOPSLC2_";LB"_$E(OOPSTM,3,4)_DL_";"
"RTN","OOPSPUT1",24,0)
 Q
"RTN","OOPSPUT1",25,0)
WPHONE(OOPSPHON,OOPSLC1,OOPSLC2) ;PRINT HOME PHONE
"RTN","OOPSPUT1",26,0)
 ;OOPSPHON - PHONE TO BE PRINTED
"RTN","OOPSPUT1",27,0)
 ;OOPSLC1 - (X,Y) LOCATION FOR AREA CODE
"RTN","OOPSPUT1",28,0)
 ;OOPSLC1 - (X,Y) LOCATION FOR PHONE NUMBER
"RTN","OOPSPUT1",29,0)
 Q:OOPSPHON=""  N DL S DL=$S(FORM="CA-1":"#",FORM="CA-2":"@",1:"") Q:DL=""
"RTN","OOPSPUT1",30,0)
 I $L(OOPSPHON,"-")>1 W !,"PU"_OOPSLC1_";LB"_$P(OOPSPHON,"-")_DL_";PU"_OOPSLC2_";LB"_$P(OOPSPHON,"-",2,9)_DL_";"
"RTN","OOPSPUT1",31,0)
 E  W !,"PU"_OOPSLC1_";LB"_$E(OOPSPHON,1,3)_DL_";PU"_OOPSLC2_";LB"_$E(OOPSPHON,4,18)_DL_";"
"RTN","OOPSPUT1",32,0)
 Q
"RTN","OOPSPUT1",33,0)
WKSCHDUL(SCHEDL,SUN,MON,TUE,WED,THU,FRI,SAT) ;PRINT WORK SCHEDULE
"RTN","OOPSPUT1",34,0)
 ;SCHEDL: WORK SCHEDULE
"RTN","OOPSPUT1",35,0)
 ;SUN - SAT: BOX (X,Y) LOCATION
"RTN","OOPSPUT1",36,0)
 Q:SCHEDL=""  N DL S DL=$S(FORM="CA-1":"#",FORM="CA-2":"@",1:"") Q:DL=""
"RTN","OOPSPUT1",37,0)
 N II,JJ,KK,WKDAY
"RTN","OOPSPUT1",38,0)
 Q:SCHEDL=""  F II=1:1:7 S WKDAY(II)=0
"RTN","OOPSPUT1",39,0)
 F II=1:1:$L(SCHEDL,",") D
"RTN","OOPSPUT1",40,0)
 . S JJ=$P(SCHEDL,",",II) Q:+JJ'>0  D
"RTN","OOPSPUT1",41,0)
 . . I JJ["-" D
"RTN","OOPSPUT1",42,0)
 . . . F KK=+$P(JJ,"-"):1:+$P(JJ,"-",2) S WKDAY(KK)=1
"RTN","OOPSPUT1",43,0)
 . . E  S WKDAY(+JJ)=1
"RTN","OOPSPUT1",44,0)
 F II=1:1:7 I WKDAY(II)=1 D
"RTN","OOPSPUT1",45,0)
 . W !,$S(II=1:"PU"_SUN_";LBX"_DL_";",II=2:"PU"_MON_";LBX"_DL_";",II=3:"PU"_TUE_";LBX"_DL_";",II=4:"PU"_WED_";LBX"_DL_";",II=5:"PU"_THU_";LBX"_DL_";",II=6:"PU"_FRI_";LBX"_DL_";",II=7:"PU"_SAT_";LBX"_DL_";",1:"")
"RTN","OOPSPUT1",46,0)
 Q
"RTN","OOPSUTL3")
0^7^B36226906
"RTN","OOPSUTL3",1,0)
OOPSUTL3 ;HINES/WAA-Utilities Routines ;3/24/98
"RTN","OOPSUTL3",2,0)
 ;;1.0;ASISTS;**8,10**;Jun 01, 1998
"RTN","OOPSUTL3",3,0)
 ;;
"RTN","OOPSUTL3",4,0)
CHECK(IEN,FORM) ; Checks to see if there was data enter for a form
"RTN","OOPSUTL3",5,0)
 N ANS,I,LIST,FIELD
"RTN","OOPSUTL3",6,0)
 S ANS=0
"RTN","OOPSUTL3",7,0)
 I FORM="CA1" S LIST="130,176,138,139,140,175,146,148,150,156,157,158,159,160,161,162,163"
"RTN","OOPSUTL3",8,0)
 ; Patch 8 - removed field 250 from list below
"RTN","OOPSUTL3",9,0)
 I FORM="CA2" S LIST="230,237,242,243,244,245,246,247,248,249,251,252,258"
"RTN","OOPSUTL3",10,0)
 F I=1:1 S FIELD=$P(LIST,",",I) Q:FIELD=""  D  Q:ANS
"RTN","OOPSUTL3",11,0)
 .I $$GET1^DIQ(2260,IEN,FIELD,"I")'="" S ANS=1
"RTN","OOPSUTL3",12,0)
 .Q
"RTN","OOPSUTL3",13,0)
 Q ANS
"RTN","OOPSUTL3",14,0)
PSDTCHK(DATE,NOYR,FLD) ;
"RTN","OOPSUTL3",15,0)
 ; this functionality returns a valid date (the one passed in) if
"RTN","OOPSUTL3",16,0)
 ; the current date (DT) minus the date passed in (DATE) is less than
"RTN","OOPSUTL3",17,0)
 ; the value in NOYR. Specific checking also occurs if date pasted in
"RTN","OOPSUTL3",18,0)
 ; is the DOB (field 6).
"RTN","OOPSUTL3",19,0)
 ;
"RTN","OOPSUTL3",20,0)
 ; Note:            DT must be defined to run 
"RTN","OOPSUTL3",21,0)
 ; Input:  DATE   = external value of the date entered by user
"RTN","OOPSUTL3",22,0)
 ;         NOYR   = # of years in past to check date entered in against
"RTN","OOPSUTL3",23,0)
 ;          FLD   = field number of the field
"RTN","OOPSUTL3",24,0)
 ; Output: VAL    = DATE passed in if valid (true)
"RTN","OOPSUTL3",25,0)
 ;                  "" if not valid
"RTN","OOPSUTL3",26,0)
 N VAL
"RTN","OOPSUTL3",27,0)
 S VAL=DATE
"RTN","OOPSUTL3",28,0)
 I '$G(IEN) S IEN=$G(DA)
"RTN","OOPSUTL3",29,0)
 I DATE>0,(($E(DT,1,3)-$E(DATE,1,3))>NOYR) S VAL="" D
"RTN","OOPSUTL3",30,0)
 . W !!?5,$$GET1^DID(2260,FLD,"","LABEL")_" cannot be more than "_NOYR_" years in the past.",!
"RTN","OOPSUTL3",31,0)
 I VAL,IEN,FLD=6,$$GET1^DIQ(2260,IEN,4,"I") D
"RTN","OOPSUTL3",32,0)
 . I DATE>$$GET1^DIQ(2260,IEN,4,"I") S VAL="" W !!?5,"DOB cannot be after "_$$GET1^DID(2260,4,"","LABEL"),!
"RTN","OOPSUTL3",33,0)
 Q VAL
"RTN","OOPSUTL3",34,0)
NMCHK(NA) ; Checks format for name fields
"RTN","OOPSUTL3",35,0)
 ;
"RTN","OOPSUTL3",36,0)
 ;   Input -   NA      = value entered (X) for name
"RTN","OOPSUTL3",37,0)
 ;  Output - VALID     = 1 if format valid
"RTN","OOPSUTL3",38,0)
 ;                       0 if format not valid
"RTN","OOPSUTL3",39,0)
 ;
"RTN","OOPSUTL3",40,0)
 N VALID,LN
"RTN","OOPSUTL3",41,0)
 S VALID=1
"RTN","OOPSUTL3",42,0)
 I (NA?1P.E)!(NA'?1U.ANP)!(NA'[",") S VALID=0
"RTN","OOPSUTL3",43,0)
 I $TR(NA,"~`!@#$%^&*()_+=|}{[]\:;'?><./","")'=NA S VALID=0
"RTN","OOPSUTL3",44,0)
 S LN=$P(NA,",") I (LN[" ")!($L(LN)=0) S VALID=0
"RTN","OOPSUTL3",45,0)
 I $P(NA,",",2)="" S VALID=0
"RTN","OOPSUTL3",46,0)
 Q VALID
"RTN","OOPSUTL3",47,0)
NMERR ; Error message to print if error on name check and doing input
"RTN","OOPSUTL3",48,0)
 W !,"Enter the person's name, using the format LASTNAME,FIRSTNAME."
"RTN","OOPSUTL3",49,0)
 W !,"Suffixes such as Sr, Jr, III can only be entered as a FIRSTNAME."
"RTN","OOPSUTL3",50,0)
 W !,"There must be a LAST NAME and FIRST NAME separated by a comma."
"RTN","OOPSUTL3",51,0)
 W !,"Spaces in the last name are not allowed and the only "
"RTN","OOPSUTL3",52,0)
 W !,"punctuation allowed is a hyphen (-) or comma (,).",!
"RTN","OOPSUTL3",53,0)
 Q
"RTN","OOPSUTL3",54,0)
WIT() ; Check if Witness name exists that other witness fields have data
"RTN","OOPSUTL3",55,0)
 ;
"RTN","OOPSUTL3",56,0)
 N ARR,I,J,LAST,STR,VALID,WIT,VCHAR
"RTN","OOPSUTL3",57,0)
 S VALID=1,VCHAR=1
"RTN","OOPSUTL3",58,0)
 S WIT=$O(^OOPS(2260,IEN,"CA1W",0))
"RTN","OOPSUTL3",59,0)
 I '$G(WIT) Q VALID
"RTN","OOPSUTL3",60,0)
 S LAST=$P($G(^OOPS(2260,IEN,"CA1W",0)),U,3)
"RTN","OOPSUTL3",61,0)
 F I=WIT:1:LAST I $G(^OOPS(2260,IEN,"CA1W",I,0))'="" D
"RTN","OOPSUTL3",62,0)
 . S STR=^OOPS(2260,IEN,"CA1W",I,0)
"RTN","OOPSUTL3",63,0)
 . F J=2:1:6 I $P($G(STR),U,J)="" S VALID=0,ARR($P(STR,U,1),J)=""
"RTN","OOPSUTL3",64,0)
 . F J=2:1:3 I $P($G(STR),U,J)'=$TR($P($G(STR),U,J),"~`@#$%^*_|\}{[]><","") S VCHAR=0
"RTN","OOPSUTL3",65,0)
 . I $P($G(STR),U,6) D
"RTN","OOPSUTL3",66,0)
 .. I ($$GET1^DIQ(2260,IEN,4,"I")\1)>$P(STR,U,6) S VALID=0
"RTN","OOPSUTL3",67,0)
 I 'VALID,$D(ARR) D
"RTN","OOPSUTL3",68,0)
 . W !,"  Witness Data is incomplete for the following Witnesses, enter missing data."
"RTN","OOPSUTL3",69,0)
 . S I="" F  S I=$O(ARR(I)) Q:I=""  W !?7,I," is missing the" D
"RTN","OOPSUTL3",70,0)
 .. S J="" F  S J=$O(ARR(I,J)) Q:J=""  W !?9,$$GET1^DID(2260.0125,J-1,"","LABEL")
"RTN","OOPSUTL3",71,0)
 I 'VALID D
"RTN","OOPSUTL3",72,0)
 . I $P(STR,U,6) W !,"  Date of Witness Signature cannot be prior to DATE/TIME OF OCCURRENCE."
"RTN","OOPSUTL3",73,0)
 I 'VCHAR W !,"  Address or City contains invalid characters:",!?7,"(~,`,@,#,$,%,*,_,|,\,},{,[,],>,or <).  Please Edit"
"RTN","OOPSUTL3",74,0)
 Q VALID_U_VCHAR
"RTN","OOPSUTL3",75,0)
REG(IEN,FIELD) ; Regular work schedule
"RTN","OOPSUTL3",76,0)
 N DIR,Y
"RTN","OOPSUTL3",77,0)
 N ANS,ANSS,LINE
"RTN","OOPSUTL3",78,0)
 S (ANSS,ANS)=""
"RTN","OOPSUTL3",79,0)
 I FIELD=140 S ANSS=$P($G(^OOPS(2260,IEN,"CA1F")),U,11)
"RTN","OOPSUTL3",80,0)
 I FIELD=244 S ANSS=$P($G(^OOPS(2260,IEN,"CA2I")),U,8)
"RTN","OOPSUTL3",81,0)
 I ANSS'="" D
"RTN","OOPSUTL3",82,0)
 .W !,"  YOU LAST SELECTED: "
"RTN","OOPSUTL3",83,0)
 .N I,DAY
"RTN","OOPSUTL3",84,0)
 .F I=1:1 S DAY=$P(ANSS,",",I) Q:DAY=""  D
"RTN","OOPSUTL3",85,0)
 .. I DAY=1 W !,"                  1) SUNDAY"
"RTN","OOPSUTL3",86,0)
 .. I DAY=2 W !,"                  2) MONDAY"
"RTN","OOPSUTL3",87,0)
 .. I DAY=3 W !,"                  3) TUESDAY"
"RTN","OOPSUTL3",88,0)
 .. I DAY=4 W !,"                  4) WEDNESDAY"
"RTN","OOPSUTL3",89,0)
 .. I DAY=5 W !,"                  5) THURSDAY"
"RTN","OOPSUTL3",90,0)
 .. I DAY=6 W !,"                  6) FRIDAY"
"RTN","OOPSUTL3",91,0)
 .. I DAY=7 W !,"                  7) SATURDAY"
"RTN","OOPSUTL3",92,0)
 ..Q
"RTN","OOPSUTL3",93,0)
 .W !
"RTN","OOPSUTL3",94,0)
 .Q
"RTN","OOPSUTL3",95,0)
 W !
"RTN","OOPSUTL3",96,0)
 S LINE=" "_$S(FIELD=140:"20",FIELD=244:"22",1:"")_". REGULAR WORK SCHEDULE:"
"RTN","OOPSUTL3",97,0)
 W !,LINE
"RTN","OOPSUTL3",98,0)
 W !,"                  1) SUNDAY"
"RTN","OOPSUTL3",99,0)
 W !,"                  2) MONDAY"
"RTN","OOPSUTL3",100,0)
 W !,"                  3) TUESDAY"
"RTN","OOPSUTL3",101,0)
 W !,"                  4) WEDNESDAY"
"RTN","OOPSUTL3",102,0)
 W !,"                  5) THURSDAY"
"RTN","OOPSUTL3",103,0)
 W !,"                  6) FRIDAY"
"RTN","OOPSUTL3",104,0)
 W !,"                  7) SATURDAY"
"RTN","OOPSUTL3",105,0)
 W !
"RTN","OOPSUTL3",106,0)
 S DIR(0)="LAO^1:7"
"RTN","OOPSUTL3",107,0)
 S DIR("A")="SELECT THE DAYS OF THE WEEK: "
"RTN","OOPSUTL3",108,0)
 S DIR("?")="This response must be a list or range, e.g., 1,3,5 or 2-4,8."
"RTN","OOPSUTL3",109,0)
 S DIR("?",1)="ENTER THE NUMBER OF THE DAY/S OF THE WEEK WORKED"
"RTN","OOPSUTL3",110,0)
 S DIR("?",2)="   1-3,6,7 WOULD BE:      "
"RTN","OOPSUTL3",111,0)
 S DIR("?",3)="   SUNDAY THRU TUESDAY, FRIDAY AND SATURDAY."
"RTN","OOPSUTL3",112,0)
 D ^DIR
"RTN","OOPSUTL3",113,0)
 I $D(Y(0))  D
"RTN","OOPSUTL3",114,0)
 .S ANS=Y
"RTN","OOPSUTL3",115,0)
 .I FIELD=140 S $P(^OOPS(2260,IEN,"CA1F"),U,11)=ANS
"RTN","OOPSUTL3",116,0)
 .I FIELD=244 S $P(^OOPS(2260,IEN,"CA2I"),U,8)=ANS
"RTN","OOPSUTL3",117,0)
 .Q
"RTN","OOPSUTL3",118,0)
 Q
"RTN","OOPSUTL3",119,0)
TI ;TIME INPUT TRANS FORM
"RTN","OOPSUTL3",120,0)
 S X=$TR(X,"adimnop","ADIMNOP")
"RTN","OOPSUTL3",121,0)
 I X?1"12".A S X=$S(X="12M":"MID",X="12N":"NOON",1:X)
"RTN","OOPSUTL3",122,0)
 I X?1.A S X=$S(X["MID":2400,X["NOON":1200,1:"")
"RTN","OOPSUTL3",123,0)
 S:$E(X,$L(X))="M" X=$E(X,1,$L(X)-1) S X1=$E(X,$L(X)) I X1?1U,"AP"'[X1 G ERR
"RTN","OOPSUTL3",124,0)
 S X1=$P(X,":",2) I X1'="",X1'?2N1.2U G ERR
"RTN","OOPSUTL3",125,0)
 I X'?4N,$S($L(+X)<3:+X,1:+X\100)>12 G ERR
"RTN","OOPSUTL3",126,0)
 S X=$P(X,":",1)_$P(X,":",2),X1=X
"RTN","OOPSUTL3",127,0)
 G:X?4N A I X'?1.4N1.2U G ERR
"RTN","OOPSUTL3",128,0)
 S:X<13 X=X*100 I X1["A" G:X>1259 ERR S X=$S(X=1200:2400,X>1159:X-1200,1:X)
"RTN","OOPSUTL3",129,0)
 E  I X<1200,X1["P"!(X<600) S X=X+1200 I X<1300 G ERR
"RTN","OOPSUTL3",130,0)
A I X>2400!('X&(X'="0000"))!(X#100>59) G ERR
"RTN","OOPSUTL3",131,0)
 S X1=+X I 'X1!(X1=1200)!(X1=2400) S X=$S(X1=1200:"NOON",1:"MID") G DNE
"RTN","OOPSUTL3",132,0)
 S X1=$S(X1>1259:X1-1200,1:X1),X1=$E("000",0,4-$L(X1))_X1_$S(X=2400:"A",X>1159:"P",1:"A")
"RTN","OOPSUTL3",133,0)
 I "00^15^30^45"'[$E(X1,3,4) G ERR
"RTN","OOPSUTL3",134,0)
 S X=$E(X1,1,2)_":"_$E(X1,3,5)
"RTN","OOPSUTL3",135,0)
DNE K X1 Q
"RTN","OOPSUTL3",136,0)
ERR K X,X1 Q
"RTN","OOPSUTL3",137,0)
CNV ; Convert Start/Stop to minutes
"RTN","OOPSUTL3",138,0)
 ; X=start_"^"_stop  Output: Y=start(min)_"^"_stop(min)
"RTN","OOPSUTL3",139,0)
 S CNX=X,X=$P(CNX,"^",1),Y=0 D MIL S Y=Y\100*60+(Y#100),$P(CNX,"^",1)=Y
"RTN","OOPSUTL3",140,0)
 S X=$P(CNX,"^",2),Y=1 D MIL S Y=Y\100*60+(Y#100)
"RTN","OOPSUTL3",141,0)
 S Y=$P(CNX,"^",1)_"^"_Y K CNX Q
"RTN","OOPSUTL3",142,0)
MIL ; Convert from AM/PM to 2400
"RTN","OOPSUTL3",143,0)
 ; X=time Y: 0=Mid=0,1=Mid=2400 Output: Y=time in 2400
"RTN","OOPSUTL3",144,0)
 I X="MID"!(X="NOON") S Y=$S(X="NOON":1200,Y:2400,1:0) Q
"RTN","OOPSUTL3",145,0)
 S Y=$P(X,":",1)_$P(X,":",2),Y=+Y Q:X["A"
"RTN","OOPSUTL3",146,0)
 S:Y<1200 Y=Y+1200 Q
"RTN","OOPSUTL3",147,0)
HLP ; Time Help
"RTN","OOPSUTL3",148,0)
 W !?5,"Time may be entered as 8A or 8a, 8:00A, 8:15A, 8:15AM or military"
"RTN","OOPSUTL3",149,0)
 W !?5,"time: 0800, 1300; or MID or 12M for midnight; NOON or 12N for noon."
"RTN","OOPSUTL3",150,0)
 W !?5,"Time must be in quarter hours; e.g., 8A or 8:15A or 8:30A or 8:45A.",!
"RTN","OOPSUTL3",151,0)
 Q
"RTN","OOPSUTL3",152,0)
DC(OPDT) ; Convert Date to YYYYMMDD
"RTN","OOPSUTL3",153,0)
 ;
"RTN","OOPSUTL3",154,0)
 ; Input:  OPDT = Date to be converted
"RTN","OOPSUTL3",155,0)
 ; Output: COPDT = Converted Date 
"RTN","OOPSUTL3",156,0)
 S COPDT=""
"RTN","OOPSUTL3",157,0)
 S:OPDT]"" COPDT=OPDT+17000000\1
"RTN","OOPSUTL3",158,0)
 Q COPDT
"RTN","OOPSUTL3",159,0)
HM(TIME) ;Convert Regular Hrs. From Time and Regular Hrs To Time
"RTN","OOPSUTL3",160,0)
 ;        to HHMM (HOUR AND MINUTE)
"RTN","OOPSUTL3",161,0)
 ;
"RTN","OOPSUTL3",162,0)
 ; Input:   TIME = Time converted to military time(21:00P), Noon and Mid
"RTN","OOPSUTL3",163,0)
 ; Output:  OTIME= Formatted time in HHMM
"RTN","OOPSUTL3",164,0)
 ;
"RTN","OOPSUTL3",165,0)
 S OTIME=$S(TIME="MID":2400,TIME="NOON":1200,1:TIME)
"RTN","OOPSUTL3",166,0)
 I $E(TIME,$L(TIME))="A" S OTIME=$TR($E(TIME,1,5),":")
"RTN","OOPSUTL3",167,0)
 I $E(TIME,$L(TIME))="P" D 
"RTN","OOPSUTL3",168,0)
 . S OTIME=$TR($E(TIME,1,5),":")
"RTN","OOPSUTL3",169,0)
 . I OTIME<1200 S OTIME=OTIME+1200
"RTN","OOPSUTL3",170,0)
 Q OTIME
"RTN","OOPSUTL4")
0^8^B49184862
"RTN","OOPSUTL4",1,0)
OOPSUTL4 ;HINES/WAA-Utilities Routines ;3/24/98
"RTN","OOPSUTL4",2,0)
 ;;1.0;ASISTS;**3,5,8,10**;Jun 01, 1998
"RTN","OOPSUTL4",3,0)
 ;;
"RTN","OOPSUTL4",4,0)
DTVAL(DATE,FLD1,FLD2) ;
"RTN","OOPSUTL4",5,0)
 ; this subroutine is called from ^DD to do date error checking on
"RTN","OOPSUTL4",6,0)
 ; fields 143, 144, 145 (if CA1) and 254, 255 (if CA2).  it returns
"RTN","OOPSUTL4",7,0)
 ; a valid date (the one passed in) if there is a date in FLD2 and 
"RTN","OOPSUTL4",8,0)
 ; it is greater than the date passed in (DATE).
"RTN","OOPSUTL4",9,0)
 ;
"RTN","OOPSUTL4",10,0)
 ;  Inputs:   DATE - date entered in prompt
"RTN","OOPSUTL4",11,0)
 ;            FLD1 - field number of prompt date entered in
"RTN","OOPSUTL4",12,0)
 ;            FLD2 - field number of date to be checked against
"RTN","OOPSUTL4",13,0)
 ; Outputs:   VAL  - contains the valid date passed in if true and
"RTN","OOPSUTL4",14,0)
 ;                   "" if false
"RTN","OOPSUTL4",15,0)
 ;
"RTN","OOPSUTL4",16,0)
 N DATE2,VAL
"RTN","OOPSUTL4",17,0)
 S VAL=DATE,DATE2=""
"RTN","OOPSUTL4",18,0)
 I '$G(IEN) S IEN=$G(DA)
"RTN","OOPSUTL4",19,0)
 I IEN S DATE2=$$GET1^DIQ(2260,IEN,FLD2,"I")
"RTN","OOPSUTL4",20,0)
 I %DT'["R" S DATE2=DATE2\1
"RTN","OOPSUTL4",21,0)
 I DATE2>DATE!'$G(DATE2) S VAL=""
"RTN","OOPSUTL4",22,0)
 I 'VAL D
"RTN","OOPSUTL4",23,0)
 . I '$G(DATE2) W !!?5,$$GET1^DID(2260,FLD2,"","LABEL")_" cannot be blank if date entered in "_$$GET1^DID(2260,FLD1,"","LABEL"),! Q
"RTN","OOPSUTL4",24,0)
 . W !!?5,$$GET1^DID(2260,FLD2,"","LABEL")_" must be on or after the "_$$GET1^DID(2260,FLD1,"","LABEL"),!
"RTN","OOPSUTL4",25,0)
 Q VAL
"RTN","OOPSUTL4",26,0)
 ;
"RTN","OOPSUTL4",27,0)
UNION(IEN) ;
"RTN","OOPSUTL4",28,0)
 ; Input: IEN   = Internal Entry Number of entry in file 2260
"RTN","OOPSUTL4",29,0)
 ; Output VALID = 1 Valid to be seen by Union
"RTN","OOPSUTL4",30,0)
 ;              = 0 Not Valid to be seen by Union
"RTN","OOPSUTL4",31,0)
 N VALID
"RTN","OOPSUTL4",32,0)
 S VALID=0
"RTN","OOPSUTL4",33,0)
 I $$EDSTA^OOPSUTL1(IEN,"O"),$P($$EDSTA^OOPSUTL1(IEN,"S"),U,3) S VALID=1
"RTN","OOPSUTL4",34,0)
 Q VALID
"RTN","OOPSUTL4",35,0)
 ;
"RTN","OOPSUTL4",36,0)
VALIDATE(IEN,FORM,CALLER,VALID) ;
"RTN","OOPSUTL4",37,0)
 ;
"RTN","OOPSUTL4",38,0)
 ; Input: IEN    = Internal Entry Number of entry in file 2260
"RTN","OOPSUTL4",39,0)
 ;        FORM   = 2162,CA1, or CA2
"RTN","OOPSUTL4",40,0)
 ;        CALLER = "E" employee
"RTN","OOPSUTL4",41,0)
 ;               = "S" supervisor
"RTN","OOPSUTL4",42,0)
 ;               = "O" safety officer
"RTN","OOPSUTL4",43,0)
 ;               = "W" worker's comp personnel
"RTN","OOPSUTL4",44,0)
 ;        WCEMP  = from menu if 1 - need to execute emp validation
"RTN","OOPSUTL4",45,0)
 ;        VALID  = RESERVED FOR OUTPUT DATA
"RTN","OOPSUTL4",46,0)
 ; Output:VALID  = 1 ALL REQUIRED DATA FOR FORM IS COMPLETE
"RTN","OOPSUTL4",47,0)
 ;               = 0 DATA IS MISSING
"RTN","OOPSUTL4",48,0)
 N LIST,FLD,CNT,CHK
"RTN","OOPSUTL4",49,0)
 S (FLD,LIST)=""
"RTN","OOPSUTL4",50,0)
 S VALID=1,CHK=0
"RTN","OOPSUTL4",51,0)
 S WCEMP=$G(WCEMP,0)
"RTN","OOPSUTL4",52,0)
 W !,"Validating data on form ",FORM,"."
"RTN","OOPSUTL4",53,0)
 I CALLER="E"!$G(WCEMP) D EMP
"RTN","OOPSUTL4",54,0)
 I CALLER="S" D SUP
"RTN","OOPSUTL4",55,0)
 I CALLER="O" D SOF
"RTN","OOPSUTL4",56,0)
 ; Patch 8 - add for Worker's Comp
"RTN","OOPSUTL4",57,0)
 I CALLER="W" D WCP
"RTN","OOPSUTL4",58,0)
 F CNT=1:1 S FLD=$P(LIST,",",CNT) Q:FLD=""  D
"RTN","OOPSUTL4",59,0)
 .N LOC,NODE,PCE,BADFLD,TEXT,WP
"RTN","OOPSUTL4",60,0)
 .S BADFLD=1,WP=0
"RTN","OOPSUTL4",61,0)
 .S LOC=$$GET1^DID(2260,FLD,"","GLOBAL SUBSCRIPT LOCATION")
"RTN","OOPSUTL4",62,0)
 .S NODE=$P(LOC,";")
"RTN","OOPSUTL4",63,0)
 .S PCE=$P(LOC,";",2)
"RTN","OOPSUTL4",64,0)
 .I PCE=0 D  ;Work processing field
"RTN","OOPSUTL4",65,0)
 ..I '$D(^OOPS(2260,IEN,NODE,1,0)) S (BADFLD,VALID)=0
"RTN","OOPSUTL4",66,0)
 ..S WP=1
"RTN","OOPSUTL4",67,0)
 ..Q
"RTN","OOPSUTL4",68,0)
 .I PCE'=0  I $P($G(^OOPS(2260,IEN,NODE)),U,PCE)="" S (BADFLD,VALID)=0
"RTN","OOPSUTL4",69,0)
 .I 'BADFLD D  ; Display error messaged about fields not filled.
"RTN","OOPSUTL4",70,0)
 ..I 'CHK W !!,"The following fields must be completed before the "_FORM_" can be signed.",! S CHK=1
"RTN","OOPSUTL4",71,0)
 ..I WP D  ;Is this a wp field and where to get title
"RTN","OOPSUTL4",72,0)
 ...N NODE
"RTN","OOPSUTL4",73,0)
 ...S NODE=2260_".0"_FLD
"RTN","OOPSUTL4",74,0)
 ...S TEXT=$$GET1^DID(NODE,".01","","TITLE")
"RTN","OOPSUTL4",75,0)
 ...Q
"RTN","OOPSUTL4",76,0)
 ..I 'WP S TEXT=$$GET1^DID(2260,FLD,"","TITLE")
"RTN","OOPSUTL4",77,0)
 ..W !,TEXT
"RTN","OOPSUTL4",78,0)
 ..Q
"RTN","OOPSUTL4",79,0)
 .Q
"RTN","OOPSUTL4",80,0)
 ; need to check field 110 from employee menu on CA1 only
"RTN","OOPSUTL4",81,0)
 I FORM="CA1"&(CALLER="E"!$G(WCEMP)) D
"RTN","OOPSUTL4",82,0)
 . I $$GET1^DIQ(2260,IEN,110,"I")<($$GET1^DIQ(2260,IEN,4,"I")\1) S VALID=0 D
"RTN","OOPSUTL4",83,0)
 .. W !?5,$$GET1^DID(2260,110,"","LABEL")_" must be on or after the "_$$GET1^DID(2260,4,"","LABEL")
"RTN","OOPSUTL4",84,0)
DTCHK ; Date error checking on fields that may be missed with input transform
"RTN","OOPSUTL4",85,0)
 ; for fields DATE/TIME OF OCCURRENCE and DATE/TIME STOPPED WORK
"RTN","OOPSUTL4",86,0)
 ;
"RTN","OOPSUTL4",87,0)
 ; Error checking on Supervisor portion of CA1 & CA2 called from 
"RTN","OOPSUTL4",88,0)
 ; Super or WCP menu only
"RTN","OOPSUTL4",89,0)
 I FORM=2162!(CALLER="E")!(CALLER="O")!$G(WCEMP) Q
"RTN","OOPSUTL4",90,0)
 K CNT,FLD,LIST
"RTN","OOPSUTL4",91,0)
 N DATE,DATE1,DATE2,TITLE
"RTN","OOPSUTL4",92,0)
 S TITLE=$$GET1^DID(2260,4,"","LABEL")
"RTN","OOPSUTL4",93,0)
 I FORM="CA1" S LIST="142,161,175"
"RTN","OOPSUTL4",94,0)
 I FORM="CA2" S LIST="214,215,250,252,253,255"
"RTN","OOPSUTL4",95,0)
 S (DATE,DATE1)=$$GET1^DIQ(2260,IEN,4,"I")
"RTN","OOPSUTL4",96,0)
 F CNT=1:1 S FLD=$P(LIST,",",CNT) Q:FLD=""  D
"RTN","OOPSUTL4",97,0)
 . S DATE2=$$GET1^DIQ(2260,IEN,FLD,"I") I FLD'=142 S DATE2=DATE2\1,DATE1=DATE\1
"RTN","OOPSUTL4",98,0)
 . I $G(DATE2),DATE2<DATE1 D  S VALID=0
"RTN","OOPSUTL4",99,0)
 .. W !?5,$$GET1^DID(2260,FLD,"","LABEL")_" must be on or after the "_TITLE
"RTN","OOPSUTL4",100,0)
 ;
"RTN","OOPSUTL4",101,0)
 ; Need specific check on DATE/TIME STOPPED WORK
"RTN","OOPSUTL4",102,0)
 I FORM="CA1" D
"RTN","OOPSUTL4",103,0)
 . S LIST="143,144,145",DATE=$$GET1^DIQ(2260,IEN,142,"I")
"RTN","OOPSUTL4",104,0)
 . S TITLE=$$GET1^DID(2260,142,"","LABEL")
"RTN","OOPSUTL4",105,0)
 I FORM="CA2" D
"RTN","OOPSUTL4",106,0)
 . S LIST="254,256",DATE=$$GET1^DIQ(2260,IEN,253,"I")
"RTN","OOPSUTL4",107,0)
 . S TITLE=$$GET1^DID(2260,253,"","LABEL")
"RTN","OOPSUTL4",108,0)
 F CNT=1:1 S FLD=$P(LIST,",",CNT) Q:FLD=""  D
"RTN","OOPSUTL4",109,0)
 . S DATE2=$$GET1^DIQ(2260,IEN,FLD,"I"),DATE1=DATE D
"RTN","OOPSUTL4",110,0)
 .. I FLD=143!(FLD=144) S DATE1=DATE\1,DATE2=DATE2\1
"RTN","OOPSUTL4",111,0)
 .. I (DATE1>DATE2),$G(DATE2) D  S VALID=0
"RTN","OOPSUTL4",112,0)
 ... W !?5,$$GET1^DID(2260,FLD,"","LABEL")_" must be on or after the "_TITLE
"RTN","OOPSUTL4",113,0)
 .. I '$G(DATE1),$G(DATE2) D  S VALID=0
"RTN","OOPSUTL4",114,0)
 ... W !?5,TITLE_" cannot be blank if date in "_$$GET1^DID(2260,FLD,"","LABEL")
"RTN","OOPSUTL4",115,0)
 Q
"RTN","OOPSUTL4",116,0)
EMP ;
"RTN","OOPSUTL4",117,0)
 ; Address fields are now all pulled from the 2162A node
"RTN","OOPSUTL4",118,0)
 ; added fields 126 & 181,183-185 to lists below - patch 8
"RTN","OOPSUTL4",119,0)
 I FORM="CA1" S LIST="8,9,10,11,12,108,109,110,111,112,113,114,126,181,183,184,185"
"RTN","OOPSUTL4",120,0)
 I FORM="CA2" S LIST="8,9,10,11,12,126,208,209,214,215,216,217"
"RTN","OOPSUTL4",121,0)
 Q
"RTN","OOPSUTL4",122,0)
SUP ;
"RTN","OOPSUTL4",123,0)
 I FORM="2162" S LIST="26,27,28,30,31" I $$ISEMP^OOPSUTL4(IEN) S LIST=LIST_",33"
"RTN","OOPSUTL4",124,0)
 I FORM="2162" S LIST=LIST_",47"
"RTN","OOPSUTL4",125,0)
 I FORM="CA1" D
"RTN","OOPSUTL4",126,0)
 . S LIST="4,60,130,131,132,133,134,138,139,140,146,148,150,156,157,"
"RTN","OOPSUTL4",127,0)
 . S LIST=LIST_"158,159,160,162,163,172,173,174,175,176,177,178,179,"
"RTN","OOPSUTL4",128,0)
 . S LIST=LIST_"180,182"
"RTN","OOPSUTL4",129,0)
 . I $$GET1^DIQ(2260,IEN,150,"I")="Y" S LIST=LIST_",151,152,153,154,155"
"RTN","OOPSUTL4",130,0)
 ; Prior to Patch 8
"RTN","OOPSUTL4",131,0)
 ; S LIST="130,176,138,139,140,4,175,146,148,150,156,157,158,159,160,161,162,163"
"RTN","OOPSUTL4",132,0)
 I FORM="CA2" D
"RTN","OOPSUTL4",133,0)
 . S LIST="230,231,232,233,234,237,238,239,240,241,"
"RTN","OOPSUTL4",134,0)
 . S LIST=LIST_"242,243,244,251,252,255,258,60,268,269"
"RTN","OOPSUTL4",135,0)
 ; Prior to Patch 8
"RTN","OOPSUTL4",136,0)
 ; S LIST="230,237,242,243,244,245,246,247,248,249,251,252,258"
"RTN","OOPSUTL4",137,0)
 Q
"RTN","OOPSUTL4",138,0)
SOF ;
"RTN","OOPSUTL4",139,0)
 I FORM="2162" S LIST="55,47"
"RTN","OOPSUTL4",140,0)
 Q
"RTN","OOPSUTL4",141,0)
WCP ; Get required fields for Workers Comp
"RTN","OOPSUTL4",142,0)
 I FORM="CA1" D
"RTN","OOPSUTL4",143,0)
 . S LIST="5,6,7,15,62,70,73,123,124,130,131,132,133,134,176,179,180,60,"
"RTN","OOPSUTL4",144,0)
 . S LIST=LIST_"138,139,140,4,175,146,148,162,163,172,173,174,"
"RTN","OOPSUTL4",145,0)
 . S LIST=LIST_"150,156,157,158,159,160,182"
"RTN","OOPSUTL4",146,0)
 . ; flds 166 & 167 only required if personnel status = 1
"RTN","OOPSUTL4",147,0)
 . I $$GET1^DIQ(2260,IEN,2,"I")=1 S LIST=LIST_",166,167"
"RTN","OOPSUTL4",148,0)
 . I $$GET1^DIQ(2260,IEN,150,"I")="Y" S LIST=LIST_",151,152,153,154,155"
"RTN","OOPSUTL4",149,0)
 I FORM="CA2" D
"RTN","OOPSUTL4",150,0)
 . S LIST="5,6,7,15,62,70,73,226,227,230,231,232,233,234,237,238,239,"
"RTN","OOPSUTL4",151,0)
 . S LIST=LIST_"240,241,242,243,244,251,252,255,258,60,268,269"
"RTN","OOPSUTL4",152,0)
 Q
"RTN","OOPSUTL4",153,0)
UP(IN) ; Translate all lower to upper
"RTN","OOPSUTL4",154,0)
 N OUT
"RTN","OOPSUTL4",155,0)
 S OUT=$TR(IN,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","OOPSUTL4",156,0)
 Q OUT
"RTN","OOPSUTL4",157,0)
VCHAR(IN) ; Check to make sure no invalid characters have been used
"RTN","OOPSUTL4",158,0)
 ;   input  - IN, data entered by user
"RTN","OOPSUTL4",159,0)
 ;  output  - VALID, if invalid characters used, = 0
"RTN","OOPSUTL4",160,0)
 N VALID
"RTN","OOPSUTL4",161,0)
 S VALID=1
"RTN","OOPSUTL4",162,0)
 I IN'=$TR(IN,"~`@#$%*_|\}{[]><","") S VALID=0
"RTN","OOPSUTL4",163,0)
 Q VALID
"RTN","OOPSUTL4",164,0)
RWSOT ;Regular Work Schedule output transform
"RTN","OOPSUTL4",165,0)
 N I,HOLD
"RTN","OOPSUTL4",166,0)
 S HOLD=""
"RTN","OOPSUTL4",167,0)
 F I=1:1:($L(Y)/2) S HOLD=HOLD_$P("Sun,Mon,Tue,Wed,Thu,Fri,Sat",",",$P(Y,",",I))_","
"RTN","OOPSUTL4",168,0)
 S Y=$E(HOLD,1,($L(HOLD)-1))
"RTN","OOPSUTL4",169,0)
 Q 
"RTN","OOPSUTL4",170,0)
RWSIN(X) ;
"RTN","OOPSUTL4",171,0)
 ; X=Sun,Mon,Tue
"RTN","OOPSUTL4",172,0)
 N IN,I,Y,DAY,DOW
"RTN","OOPSUTL4",173,0)
 S X=X_",",DAY=""
"RTN","OOPSUTL4",174,0)
 S IN="1Sun,2Mon,3Tue,4Wed,5Thu,6Fri,7Sat"
"RTN","OOPSUTL4",175,0)
 F I=1:1 S DOW=$P(X,",",I) Q:DOW=""  D
"RTN","OOPSUTL4",176,0)
 .S DAY=DAY_$E(IN,($F(IN,DOW)-4))_","
"RTN","OOPSUTL4",177,0)
 .Q
"RTN","OOPSUTL4",178,0)
 ;I DAY'="" S DAY=$E(DAY,1,($L(DAY)-1))
"RTN","OOPSUTL4",179,0)
 Q DAY
"RTN","OOPSUTL4",180,0)
ISEMP(IEN) ; Determine if PERSONNEL STATUS = employee
"RTN","OOPSUTL4",181,0)
 ;  Input -  IEN     = internal Entry Number of case in File 2260
"RTN","OOPSUTL4",182,0)
 ;           CAT     = Personnel Status of Case in File 2260
"RTN","OOPSUTL4",183,0)
 ;           TST     = valid Personnel status categories for employee
"RTN","OOPSUTL4",184,0)
 ;  Output - EMP     = 1 Personnel status indicates employee
"RTN","OOPSUTL4",185,0)
 ;                     0 Personnel status indicates non-employee
"RTN","OOPSUTL4",186,0)
 ;
"RTN","OOPSUTL4",187,0)
 NEW CAT,TST,EMP
"RTN","OOPSUTL4",188,0)
 S EMP=0
"RTN","OOPSUTL4",189,0)
 S CAT=$$GET1^DIQ(2260,IEN,2,"I")
"RTN","OOPSUTL4",190,0)
 S TST=",1,2,6,7,8,9,10,"
"RTN","OOPSUTL4",191,0)
 I TST[(","_CAT_",") S EMP=1
"RTN","OOPSUTL4",192,0)
 Q EMP
"RTN","OOPSUTL4",193,0)
 ;
"RTN","OOPSUTL4",194,0)
FUT(DATE) ; Check for dates prior to Date of Inj/Ill
"RTN","OOPSUTL4",195,0)
 N DAT,VIEW,FORM
"RTN","OOPSUTL4",196,0)
 S VIEW=1
"RTN","OOPSUTL4",197,0)
 S FORM=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSUTL4",198,0)
 S DAT=$$GET1^DIQ(2260,IEN,4,"I")
"RTN","OOPSUTL4",199,0)
 I DATE<$P(DAT,".") D
"RTN","OOPSUTL4",200,0)
 . W !!?6,"This date cannot be prior to DATE"_$S(FORM=1:"/TIME INJURY OCCURRED",FORM=2:" 1ST AWARE OF ILLNESS",1:"")_" entered on 2162.",!
"RTN","OOPSUTL4",201,0)
 . S VIEW=0
"RTN","OOPSUTL4",202,0)
 Q VIEW
"RTN","OOPSUTL4",203,0)
WP(OPFLD) ; Patch 8 - determine number of characters in WP fields that are
"RTN","OOPSUTL4",204,0)
 ;         limited to 532 characters & if invalid characters are present
"RTN","OOPSUTL4",205,0)
 ;
"RTN","OOPSUTL4",206,0)
 ;  Input    IEN - Internal Record ID of Case
"RTN","OOPSUTL4",207,0)
 ;         OPFLD - Field number of WP field to be calculated
"RTN","OOPSUTL4",208,0)
 ; Output    OPT - Total number of characters in all lines of WP field
"RTN","OOPSUTL4",209,0)
 ;                 concatenated to VALID. ex: 165^1 or 180^0
"RTN","OOPSUTL4",210,0)
 ;         VALID - indicates whether invalid characters were detected
"RTN","OOPSUTL4",211,0)
 ;
"RTN","OOPSUTL4",212,0)
 N DATA,DIWL,DIWR,DIWF,OPGLB,OPI,OPNODE,OPT,OPC,VALID
"RTN","OOPSUTL4",213,0)
 S VALID=1
"RTN","OOPSUTL4",214,0)
 K ^UTILITY($J,"W")
"RTN","OOPSUTL4",215,0)
 S DIWL=1,DIWR="",DIWF="|C264",OPT=0
"RTN","OOPSUTL4",216,0)
 S OPNODE=$P($$GET1^DID(2260,OPFLD,"","GLOBAL SUBSCRIPT LOCATION"),";")
"RTN","OOPSUTL4",217,0)
 S OPI=0 F  S OPI=$O(^OOPS(2260,IEN,OPNODE,OPI)) Q:'OPI  S X=$G(^OOPS(2260,IEN,OPNODE,OPI,0)) D:X]"" ^DIWP
"RTN","OOPSUTL4",218,0)
 I $G(^UTILITY($J,"W",1))+0 D
"RTN","OOPSUTL4",219,0)
 . S OPI=0 F OPC=1:1 S OPI=$O(^UTILITY($J,"W",1,OPI)) Q:'OPI  D
"RTN","OOPSUTL4",220,0)
 .. S DATA=^UTILITY($J,"W",1,OPI,0)
"RTN","OOPSUTL4",221,0)
 .. I DATA'=$TR(DATA,"~`@#$%^*_|\}{[]><","") S VALID=0
"RTN","OOPSUTL4",222,0)
 .. S OPT=OPT+$L(DATA)
"RTN","OOPSUTL4",223,0)
 K ^UTILITY($J,"W"),X
"RTN","OOPSUTL4",224,0)
 Q OPT_U_VALID
"RTN","OOPSVAL1")
0^2^B73397961
"RTN","OOPSVAL1",1,0)
OOPSVAL1 ;HINES/WAA,GTD-Validate and Sign data Routines ;3/25/98
"RTN","OOPSVAL1",2,0)
 ;;1.0;ASISTS;**1,3,5,8,10**;Jun 01, 1998
"RTN","OOPSVAL1",3,0)
 ;;
"RTN","OOPSVAL1",4,0)
EN1(CALLER) ;  Main Entry Point
"RTN","OOPSVAL1",5,0)
 ;INPUT:
"RTN","OOPSVAL1",6,0)
 ;     CALLER = "E" FOR EMPLOYEE
"RTN","OOPSVAL1",7,0)
 ;            = "S" FOR SUPERVISOR
"RTN","OOPSVAL1",8,0)
 ;            = "O" FOR SAFETY OFFICER
"RTN","OOPSVAL1",9,0)
 ;            = "W" FOR WORKER'S COMP
"RTN","OOPSVAL1",10,0)
 ;
"RTN","OOPSVAL1",11,0)
 N SSN,IEN,SIGN,EDIT,FORM,GRP,SUP,I,CIT,HSA,STA,ZIP
"RTN","OOPSVAL1",12,0)
 S IEN=0
"RTN","OOPSVAL1",13,0)
 Q:DUZ<1
"RTN","OOPSVAL1",14,0)
 Q:$G(^VA(200,DUZ,1))=""
"RTN","OOPSVAL1",15,0)
 I CALLER="E" S SSN=$P(^VA(200,DUZ,1),U,9) Q:$D(^OOPS(2260,"SSN",SSN))<1
"RTN","OOPSVAL1",16,0)
 D  Q:IEN<1
"RTN","OOPSVAL1",17,0)
 .N DIC,X
"RTN","OOPSVAL1",18,0)
 .S DIC="^OOPS(2260,"
"RTN","OOPSVAL1",19,0)
 .I CALLER="E" S DIC("S")="I $$EMPSCR^OOPSVAL1(Y)"
"RTN","OOPSVAL1",20,0)
 .I CALLER="S" S DIC("S")="I $$SUPSCR^OOPSVAL1(Y)"
"RTN","OOPSVAL1",21,0)
 .I CALLER="O" S DIC("S")="I $$SAFSCR^OOPSVAL1(Y)"
"RTN","OOPSVAL1",22,0)
 .I CALLER="W" S DIC("S")="I $$WCSCR^OOPSVAL1(Y)"
"RTN","OOPSVAL1",23,0)
 .S DIC("S")=DIC("S")_",'$$GET1^DIQ(2260,Y,51,""I"")"
"RTN","OOPSVAL1",24,0)
 .S DIC(0)="AEMNZ",DIC("A")="   Select Case: "
"RTN","OOPSVAL1",25,0)
 .D ^DIC
"RTN","OOPSVAL1",26,0)
 .Q:Y<1
"RTN","OOPSVAL1",27,0)
 .Q:$D(DTOUT)!($D(DUOUT))
"RTN","OOPSVAL1",28,0)
 .S IEN=$P(Y,U)
"RTN","OOPSVAL1",29,0)
 .Q
"RTN","OOPSVAL1",30,0)
 I CALLER="O" D
"RTN","OOPSVAL1",31,0)
 .S FORM="2162"
"RTN","OOPSVAL1",32,0)
 .D FORM
"RTN","OOPSVAL1",33,0)
 .Q
"RTN","OOPSVAL1",34,0)
 I CALLER="E" D
"RTN","OOPSVAL1",35,0)
 .S FORM=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSVAL1",36,0)
 .S FORM=$S(FORM=1:"CA1",FORM=2:"CA2",1:"")
"RTN","OOPSVAL1",37,0)
 .I FORM'="" D FORM
"RTN","OOPSVAL1",38,0)
 .Q
"RTN","OOPSVAL1",39,0)
 I CALLER="S" D
"RTN","OOPSVAL1",40,0)
 .N CNT,PAUSE,OUT,FORM,EDIT
"RTN","OOPSVAL1",41,0)
 .S (PAUSE,OUT)=0
"RTN","OOPSVAL1",42,0)
 .; Do block below needed so that for loop below only runs for "S"
"RTN","OOPSVAL1",43,0)
 .D
"RTN","OOPSVAL1",44,0)
 ..N INC,STAT,ESTAT
"RTN","OOPSVAL1",45,0)
 ..S INC=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSVAL1",46,0)
 ..S STAT=$$EDSTA^OOPSUTL1(IEN,"S")
"RTN","OOPSVAL1",47,0)
 ..; added check for employee having signed CA1
"RTN","OOPSVAL1",48,0)
 ..S ESTAT=$$EDSTA^OOPSUTL1(IEN,"E")
"RTN","OOPSVAL1",49,0)
 ..; if employee signed ok to let super select if no forms signed
"RTN","OOPSVAL1",50,0)
 ..I $P(ESTAT,U,INC) D
"RTN","OOPSVAL1",51,0)
 ...I '$P(STAT,U,INC),'$P(STAT,U,3) D SELECT^OOPSSUP1 Q
"RTN","OOPSVAL1",52,0)
 ...S EDIT=$S('$P(STAT,U,3):2162,'$P(STAT,U,INC):$P("CA1^CA2",U,INC),1:"")
"RTN","OOPSVAL1",53,0)
 ..I '$P(ESTAT,U,INC) D  ;  Employee has not signed CA1/CA2
"RTN","OOPSVAL1",54,0)
 ...I '$P(STAT,U,3) S EDIT=2162 Q
"RTN","OOPSVAL1",55,0)
 ...S EDIT=""
"RTN","OOPSVAL1",56,0)
 .I EDIT="" Q
"RTN","OOPSVAL1",57,0)
 .F CNT=1:1 S FORM=$P(EDIT,U,CNT) Q:FORM=""  D:PAUSE END Q:OUT  D
"RTN","OOPSVAL1",58,0)
 ..D FORM S PAUSE=1
"RTN","OOPSVAL1",59,0)
 ..Q
"RTN","OOPSVAL1",60,0)
 .Q
"RTN","OOPSVAL1",61,0)
 I CALLER="W" D
"RTN","OOPSVAL1",62,0)
 .S FORM=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSVAL1",63,0)
 .S FORM=$S(FORM=1:"CA1",FORM=2:"CA2",1:"")
"RTN","OOPSVAL1",64,0)
 . N DIR,Y
"RTN","OOPSVAL1",65,0)
 . S WOK=1
"RTN","OOPSVAL1",66,0)
 . W !
"RTN","OOPSVAL1",67,0)
 . S DIR("A")="OK to transmit to DOL"
"RTN","OOPSVAL1",68,0)
 . S DIR(0)="SBM^Y:Yes;N:No"
"RTN","OOPSVAL1",69,0)
 . D ^DIR
"RTN","OOPSVAL1",70,0)
 . I Y="Y",FORM'="" D FORM
"RTN","OOPSVAL1",71,0)
 .Q
"RTN","OOPSVAL1",72,0)
EXIT ;
"RTN","OOPSVAL1",73,0)
 K SUP,WOK                      ; left over from ^OOPSDIS
"RTN","OOPSVAL1",74,0)
 Q
"RTN","OOPSVAL1",75,0)
EMPSCR(IEN) ;
"RTN","OOPSVAL1",76,0)
 N VIEW
"RTN","OOPSVAL1",77,0)
 S VIEW=1
"RTN","OOPSVAL1",78,0)
 I '$$EMP^OOPSUTL1(IEN,SSN) S VIEW=0
"RTN","OOPSVAL1",79,0)
 E  D
"RTN","OOPSVAL1",80,0)
 .N INC
"RTN","OOPSVAL1",81,0)
 .S INC=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSVAL1",82,0)
 .I $P($$EDSTA^OOPSUTL1(IEN,"E"),U,INC) S VIEW=0
"RTN","OOPSVAL1",83,0)
 .Q
"RTN","OOPSVAL1",84,0)
 Q VIEW
"RTN","OOPSVAL1",85,0)
SUPSCR(IEN) ;
"RTN","OOPSVAL1",86,0)
 N VIEW
"RTN","OOPSVAL1",87,0)
 S VIEW=1
"RTN","OOPSVAL1",88,0)
 I '$$SUPSCR^OOPSUTL2(DUZ,IEN) S VIEW=0
"RTN","OOPSVAL1",89,0)
 E  D
"RTN","OOPSVAL1",90,0)
 .N INC,STAT,ESTAT,CAT
"RTN","OOPSVAL1",91,0)
 .S CAT=$$GET1^DIQ(2260,IEN,2,"I")              ; Personnel status
"RTN","OOPSVAL1",92,0)
 .S INC=$$GET1^DIQ(2260,IEN,52,"I")             ; Injury/Illness
"RTN","OOPSVAL1",93,0)
 .S STAT=$$EDSTA^OOPSUTL1(IEN,"S")              ; sup signed forms
"RTN","OOPSVAL1",94,0)
 .S ESTAT=$$EDSTA^OOPSUTL1(IEN,"E")             ; emp signed forms
"RTN","OOPSVAL1",95,0)
 .; Added Non-PAID employee to check, not emp, 2162 signed
"RTN","OOPSVAL1",96,0)
 .; Patch 5 - logic changed for new Personnel Categories
"RTN","OOPSVAL1",97,0)
 .I '$$ISEMP^OOPSUTL4(IEN),$P(STAT,U,3) S VIEW=0 Q
"RTN","OOPSVAL1",98,0)
 .; super signed 2162 and CA1/CA2
"RTN","OOPSVAL1",99,0)
 .I $P(STAT,U,INC),$P(STAT,U,3) S VIEW=0 Q
"RTN","OOPSVAL1",100,0)
 .; emp not signed CA1/CA2, super signed 2162, not signed CA1/CA2 - no
"RTN","OOPSVAL1",101,0)
 .I '$P(ESTAT,U,INC),$P(STAT,U,3),'$P(STAT,U,INC) S VIEW=0 Q
"RTN","OOPSVAL1",102,0)
 .Q
"RTN","OOPSVAL1",103,0)
 Q VIEW
"RTN","OOPSVAL1",104,0)
WCSCR(IEN) ; Patch 8 - Worker's Comp Screen
"RTN","OOPSVAL1",105,0)
 N INC,VIEW,ESTAT,STAT
"RTN","OOPSVAL1",106,0)
 S VIEW=1
"RTN","OOPSVAL1",107,0)
 S INC=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSVAL1",108,0)
 S ESTAT=$$EDSTA^OOPSUTL1(IEN,"E")             ;really defensive code
"RTN","OOPSVAL1",109,0)
 I '$P(ESTAT,U,INC) S VIEW=0                   ;should never be needed
"RTN","OOPSVAL1",110,0)
 S STAT=$$EDSTA^OOPSUTL1(IEN,"S")              ;super must have signed
"RTN","OOPSVAL1",111,0)
 I '$P(STAT,U,INC) S VIEW=0
"RTN","OOPSVAL1",112,0)
 I $$GET1^DIQ(2260,IEN,66)'="" S VIEW=0        ;Case sent to DOL
"RTN","OOPSVAL1",113,0)
 I $$GET1^DIQ(2260,IEN,67)'="" S VIEW=0        ;WC already signed
"RTN","OOPSVAL1",114,0)
 I $$GET1^DIQ(2260,IEN,51,"I")'=0 S VIEW=0     ;Case is not open
"RTN","OOPSVAL1",115,0)
 I '$$ISEMP^OOPSUTL4(IEN) S VIEW=0             ;not employee
"RTN","OOPSVAL1",116,0)
 Q VIEW
"RTN","OOPSVAL1",117,0)
SAFSCR(IEN) ;
"RTN","OOPSVAL1",118,0)
 N VIEW
"RTN","OOPSVAL1",119,0)
 S VIEW=1
"RTN","OOPSVAL1",120,0)
 I '$$SAFETY^OOPSUTL2(IEN) S VIEW=0
"RTN","OOPSVAL1",121,0)
 I $$EDSTA^OOPSUTL1(IEN,"O") S VIEW=0
"RTN","OOPSVAL1",122,0)
 Q VIEW
"RTN","OOPSVAL1",123,0)
END ;End of Form pause
"RTN","OOPSVAL1",124,0)
 N DIR
"RTN","OOPSVAL1",125,0)
 W !
"RTN","OOPSVAL1",126,0)
 S DIR(0)="E" D ^DIR
"RTN","OOPSVAL1",127,0)
 S:$D(DIRUT) OUT=1 Q
"RTN","OOPSVAL1",128,0)
 Q
"RTN","OOPSVAL1",129,0)
FORM ;Select Form
"RTN","OOPSVAL1",130,0)
 D:'$G(PAUSE,0) ^OOPSDIS
"RTN","OOPSVAL1",131,0)
 N OUT
"RTN","OOPSVAL1",132,0)
 I CALLER="E" D  Q:$G(OUT)
"RTN","OOPSVAL1",133,0)
 . I $$GET1^DIQ(2260,IEN,71,"I")'="Y" D BOR^OOPSEMP1
"RTN","OOPSVAL1",134,0)
 . I $$GET1^DIQ(2260,IEN,71,"I")'="Y" D  Q
"RTN","OOPSVAL1",135,0)
 .. W !?5,"Claim cannot be signed until the Bill of Rights Statement is understood."
"RTN","OOPSVAL1",136,0)
 .. D WCPBOR^OOPSMBUL(IEN)
"RTN","OOPSVAL1",137,0)
 .. S OUT=1
"RTN","OOPSVAL1",138,0)
 I '$G(OUT) D SIGN(FORM) Q:(+SIGN=0)
"RTN","OOPSVAL1",139,0)
 I CALLER="E",($$GET1^DIQ(2260,IEN,71,"I")="Y") D EMP
"RTN","OOPSVAL1",140,0)
 I CALLER="S" D SUP
"RTN","OOPSVAL1",141,0)
 I CALLER="O" D SAF
"RTN","OOPSVAL1",142,0)
 I CALLER="W" D WCP
"RTN","OOPSVAL1",143,0)
 Q
"RTN","OOPSVAL1",144,0)
SIGN(FORM) ; Sign/validate Document
"RTN","OOPSVAL1",145,0)
 N EMP,INC,VALID,OUT
"RTN","OOPSVAL1",146,0)
 S VALID=0,SIGN=""
"RTN","OOPSVAL1",147,0)
 S INC=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSVAL1",148,0)
 D VALIDATE^OOPSUTL4(IEN,FORM,CALLER,.VALID)
"RTN","OOPSVAL1",149,0)
 I 'VALID D END Q
"RTN","OOPSVAL1",150,0)
 S SIGN=$$SIG^OOPSESIG(DUZ,IEN)
"RTN","OOPSVAL1",151,0)
 Q
"RTN","OOPSVAL1",152,0)
EMP ; Employee Sign off
"RTN","OOPSVAL1",153,0)
 N RECORD,UNIREP,X,X1,X2
"RTN","OOPSVAL1",154,0)
 S UNIREP=""
"RTN","OOPSVAL1",155,0)
 S RECORD=$G(^OOPS(2260,IEN,"CA"))
"RTN","OOPSVAL1",156,0)
 S X=$P($G(^VA(200,DUZ,20)),U,2)
"RTN","OOPSVAL1",157,0)
 S X1=DUZ
"RTN","OOPSVAL1",158,0)
 I FORM="CA1" D
"RTN","OOPSVAL1",159,0)
 . S $P(^OOPS(2260,IEN,"CA1ES"),U,1,3)=SIGN
"RTN","OOPSVAL1",160,0)
 . S X2=$$CA1SUM^OOPSUTL6()
"RTN","OOPSVAL1",161,0)
 I FORM="CA2" D
"RTN","OOPSVAL1",162,0)
 . S $P(^OOPS(2260,IEN,"CA2ES"),U,1,3)=SIGN
"RTN","OOPSVAL1",163,0)
 . S X2=$$CA2SUM^OOPSUTL6()
"RTN","OOPSVAL1",164,0)
 D EN^XUSHSHP
"RTN","OOPSVAL1",165,0)
 S $P(RECORD,U,9)=1
"RTN","OOPSVAL1",166,0)
 S $P(RECORD,U,7)=X
"RTN","OOPSVAL1",167,0)
 S ^OOPS(2260,IEN,"CA")=RECORD
"RTN","OOPSVAL1",168,0)
 D EMP^OOPSMBUL(IEN)
"RTN","OOPSVAL1",169,0)
 ; patch 10 - bill of rights enhancement
"RTN","OOPSVAL1",170,0)
 I CALLER="E" D
"RTN","OOPSVAL1",171,0)
 . D CONSENT
"RTN","OOPSVAL1",172,0)
 . I $$GET1^DIQ(2260,IEN,72,"I")="Y" D UNION
"RTN","OOPSVAL1",173,0)
 . I UNIREP D CONSENT^OOPSMBUL(IEN,UNIREP)
"RTN","OOPSVAL1",174,0)
 Q
"RTN","OOPSVAL1",175,0)
SUP ;Supervisor Sign off
"RTN","OOPSVAL1",176,0)
 I FORM="CA1" S $P(^OOPS(2260,IEN,"CA1ES"),U,4,6)=SIGN
"RTN","OOPSVAL1",177,0)
 I FORM="CA2" S $P(^OOPS(2260,IEN,"CA2ES"),U,4,6)=SIGN
"RTN","OOPSVAL1",178,0)
 I FORM="2162" S $P(^OOPS(2260,IEN,"2162ES"),U,1,3)=SIGN D SAFETY^OOPSMBUL(IEN)
"RTN","OOPSVAL1",179,0)
 ; Patch 8
"RTN","OOPSVAL1",180,0)
 I FORM'="2162" D SUPS^OOPSMBUL(IEN),UNION^OOPSMBUL(IEN)
"RTN","OOPSVAL1",181,0)
 Q
"RTN","OOPSVAL1",182,0)
WCP ; Patch 8
"RTN","OOPSVAL1",183,0)
 I FORM="CA1" S $P(^OOPS(2260,IEN,"WCES"),U,1,3)=SIGN
"RTN","OOPSVAL1",184,0)
 I FORM="CA2" S $P(^OOPS(2260,IEN,"WCES"),U,1,3)=SIGN
"RTN","OOPSVAL1",185,0)
 N DA,DR,DIE
"RTN","OOPSVAL1",186,0)
 I $P(SIGN,U) D
"RTN","OOPSVAL1",187,0)
 . S DR="",DIE="^OOPS(2260,",DA=IEN
"RTN","OOPSVAL1",188,0)
 . S DR(1,2260,1)="67////^S X=$P(SIGN,U)"
"RTN","OOPSVAL1",189,0)
 . S DR(1,2260,5)="68////^S X=$P(SIGN,U,2)"
"RTN","OOPSVAL1",190,0)
 . S DR(1,2260,10)="69////^S X=$P(SIGN,U,3)"
"RTN","OOPSVAL1",191,0)
 . D ^DIE
"RTN","OOPSVAL1",192,0)
 D WCP^OOPSMBUL(IEN,"S")
"RTN","OOPSVAL1",193,0)
 Q
"RTN","OOPSVAL1",194,0)
SAF ; Safety Officer Sign off
"RTN","OOPSVAL1",195,0)
 I FORM="2162" S $P(^OOPS(2260,IEN,"2162ES"),U,4,6)=SIGN
"RTN","OOPSVAL1",196,0)
 Q
"RTN","OOPSVAL1",197,0)
CONSENT ; patch 10 - Employee consent to release information to union
"RTN","OOPSVAL1",198,0)
 N DIC,DIE,DA,DR,OOPS
"RTN","OOPSVAL1",199,0)
 S DA=IEN,DIC="^OOPS(2260,",OUT=""
"RTN","OOPSVAL1",200,0)
 K DIQ S DIQ(0)="IE"
"RTN","OOPSVAL1",201,0)
 S DIQ="OOPS",DR=".01;2;3;4;7;13;14;16;17;18;52;53;53.1" D EN^DIQ1
"RTN","OOPSVAL1",202,0)
 S DR=""
"RTN","OOPSVAL1",203,0)
 W !!,"My consent is given for the release of case number "_OOPS(2260,IEN,.01,"E")
"RTN","OOPSVAL1",204,0)
 W !,"information for review by local bargaining units for accident and"
"RTN","OOPSVAL1",205,0)
 W !,"illness tracking purposes only.  Name, address, social security "
"RTN","OOPSVAL1",206,0)
 W !,"number, date of birth, and telephone number will not be included"
"RTN","OOPSVAL1",207,0)
 W !,"in the information provided to the bargaining units."
"RTN","OOPSVAL1",208,0)
 W !!,"With your consent, the following information will be provided"
"RTN","OOPSVAL1",209,0)
 W !,"to the local bargaining unit for your review."
"RTN","OOPSVAL1",210,0)
 W !!,"Dt/Tme Occurrence: ",OOPS(2260,IEN,4,"E")
"RTN","OOPSVAL1",211,0)
 W ?40,"   Inj/Ill: ",OOPS(2260,IEN,52,"E")
"RTN","OOPSVAL1",212,0)
 W !," Personnel Status: ",OOPS(2260,IEN,2,"E")
"RTN","OOPSVAL1",213,0)
 W ?40,"       Sex: ",OOPS(2260,IEN,7,"E")
"RTN","OOPSVAL1",214,0)
 W !,"   Station Number: ",OOPS(2260,IEN,13,"I")
"RTN","OOPSVAL1",215,0)
 W ?40," Education: ",$E(OOPS(2260,IEN,18,"E"),1,26)
"RTN","OOPSVAL1",216,0)
 W !,"  Cost Center/Org: ",OOPS(2260,IEN,14,"E")
"RTN","OOPSVAL1",217,0)
 W ?40," Grade/Stp: ",OOPS(2260,IEN,16,"E")_"/"_OOPS(2260,IEN,17,"E")
"RTN","OOPSVAL1",218,0)
 W !,"       Supervisor: ",$E(OOPS(2260,IEN,53,"E"),1,19)
"RTN","OOPSVAL1",219,0)
 W ?40,"Type Incid: ",$E(OOPS(2260,IEN,3,"E"),1,26)
"RTN","OOPSVAL1",220,0)
 W !,"  Secondary Super: ",$E(OOPS(2260,IEN,53.1,"E"),1,20),!
"RTN","OOPSVAL1",221,0)
 S DR(1,2260,1)="72Consent Given://^S X=""N"""
"RTN","OOPSVAL1",222,0)
 W !!?5,"If you give consent, you will be prompted to select the"
"RTN","OOPSVAL1",223,0)
 W !?5,"Union to send the bulletin to.  The bulletin will be sent"
"RTN","OOPSVAL1",224,0)
 W !?5,"immediately after the Union has been selected.",!
"RTN","OOPSVAL1",225,0)
 S DIE="^OOPS(2260,"
"RTN","OOPSVAL1",226,0)
 D ^DIE I $D(Y) S OUT=1
"RTN","OOPSVAL1",227,0)
 Q
"RTN","OOPSVAL1",228,0)
UNION ; Get the Union Representative's DUZ
"RTN","OOPSVAL1",229,0)
 N DIC,DA,Y
"RTN","OOPSVAL1",230,0)
 S DIC="^OOPS(2263.7,",DIC(0)="AEQZ"
"RTN","OOPSVAL1",231,0)
 S DIC("A")="Select UNION to send bulletin to: "
"RTN","OOPSVAL1",232,0)
 D ^DIC
"RTN","OOPSVAL1",233,0)
 I +Y S UNIREP=$$GET1^DIQ(2263.7,+Y,2,"I")
"RTN","OOPSVAL1",234,0)
 I 'UNIREP D
"RTN","OOPSVAL1",235,0)
 . W !!?3,"Cannot sent a bulletin to Union, No Union Representative name was selected"
"RTN","OOPSVAL1",236,0)
 . W !?3,"or one is not on file.  Contact your Workers' Compensation Specialist."
"RTN","OOPSVAL1",237,0)
 Q
"RTN","OOPSWCSE")
0^9^B18713644
"RTN","OOPSWCSE",1,0)
OOPSWCSE ;WIOFO/LLH - Workers' Comp Sign for Employee ; 01/20/01
"RTN","OOPSWCSE",2,0)
 ;;1.0;ASISTS;**10**;Jun 01, 1998
"RTN","OOPSWCSE",3,0)
 ;
"RTN","OOPSWCSE",4,0)
EN1(CALLER) ; Entry point for routine
"RTN","OOPSWCSE",5,0)
 ;  Input:   CALLER = "S" for Safety Officer
"RTN","OOPSWCSE",6,0)
 ;                    "H" for Employee Health
"RTN","OOPSWCSE",7,0)
 ;                    "W" for Workers' Comp
"RTN","OOPSWCSE",8,0)
 ;
"RTN","OOPSWCSE",9,0)
 N DIC,IEN,FORM,PRM1,PRM2,SIGN,VALID,Y
"RTN","OOPSWCSE",10,0)
 Q:DUZ<1
"RTN","OOPSWCSE",11,0)
 Q:$G(^VA(200,DUZ,1))=""
"RTN","OOPSWCSE",12,0)
 S IEN=0
"RTN","OOPSWCSE",13,0)
 S DIC="^OOPS(2260,"
"RTN","OOPSWCSE",14,0)
 S DIC("S")="I $$SCR^OOPSWCSE(Y)"_",'$$GET1^DIQ(2260,Y,51,""I"")"
"RTN","OOPSWCSE",15,0)
 S DIC(0)="AEMNZ",DIC("A")="   Select Case: "
"RTN","OOPSWCSE",16,0)
 D ^DIC
"RTN","OOPSWCSE",17,0)
 I (Y<1)!$D(DTOUT)!($D(DUOUT)) Q
"RTN","OOPSWCSE",18,0)
 S IEN=$P(Y,U)
"RTN","OOPSWCSE",19,0)
 S FORM=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSWCSE",20,0)
 S FORM=$S(FORM=1:"CA1",FORM=2:"CA2",1:"")
"RTN","OOPSWCSE",21,0)
 I $G(FORM)="" Q
"RTN","OOPSWCSE",22,0)
 D ^OOPSDIS
"RTN","OOPSWCSE",23,0)
 S PRM1=$S(CALLER="S":"Safety Officer",CALLER="H":"Employee Health",1:0)
"RTN","OOPSWCSE",24,0)
 S PRM2=PRM1_" approves the WCP signing for the Employee: "
"RTN","OOPSWCSE",25,0)
 S SIGN=""
"RTN","OOPSWCSE",26,0)
 I CALLER="W" G WCPS4E
"RTN","OOPSWCSE",27,0)
 I $$VALID^OOPSWCSE() D
"RTN","OOPSWCSE",28,0)
 . W !,PRM2
"RTN","OOPSWCSE",29,0)
 . S SIGN=$$SIG^OOPSESIG(DUZ,IEN)
"RTN","OOPSWCSE",30,0)
 . Q:+SIGN=0                          ; form not signed
"RTN","OOPSWCSE",31,0)
 . I CALLER="S" S $P(^OOPS(2260,IEN,"WCSE"),U,1,3)=SIGN
"RTN","OOPSWCSE",32,0)
 . I CALLER="H" S $P(^OOPS(2260,IEN,"WCSE"),U,4,6)=SIGN
"RTN","OOPSWCSE",33,0)
 G EXIT
"RTN","OOPSWCSE",34,0)
WCPS4E ; allow WCP to sign for employee if all approvals given
"RTN","OOPSWCSE",35,0)
 N CONT,EHS,SIGN,SOS,VALID,VIEW
"RTN","OOPSWCSE",36,0)
 S SIGN=0,VALID=0,VIEW=1
"RTN","OOPSWCSE",37,0)
 S SOS=$$GET1^DIQ(2260,IEN,76,"I")
"RTN","OOPSWCSE",38,0)
 S EHS=$$GET1^DIQ(2260,IEN,79,"I")
"RTN","OOPSWCSE",39,0)
 S CONT=$S(DUZ=SOS:"S",DUZ=EHS:"H",1:"")
"RTN","OOPSWCSE",40,0)
 I (CONT="S")!(CONT="H") D
"RTN","OOPSWCSE",41,0)
 . W !,"You have approved as "_$S(CONT="S":"Safety Officer",CONT="H":"Emp Health Rep",1:"")
"RTN","OOPSWCSE",42,0)
 . W " and cannot sign as Employee."
"RTN","OOPSWCSE",43,0)
 . W !,"Three different individuals must be involved."
"RTN","OOPSWCSE",44,0)
 . S VIEW=0
"RTN","OOPSWCSE",45,0)
 I '$G(SOS) S VIEW=0 W !,"Safety Officer has not approved WCP signing for employee."
"RTN","OOPSWCSE",46,0)
 I '$G(EHS) S VIEW=0 W !,"Employee Health has not approved WCP signing for employee."
"RTN","OOPSWCSE",47,0)
 I VIEW D
"RTN","OOPSWCSE",48,0)
 . ; Allow clearing WCP signature, employee may be able to sign
"RTN","OOPSWCSE",49,0)
 . I $$GET1^DIQ(2260,IEN,119,"I") D CLRES^OOPSUTL1(IEN,"E",FORM)
"RTN","OOPSWCSE",50,0)
 . W ! D VALIDATE^OOPSUTL4(IEN,FORM,"E",.VALID)
"RTN","OOPSWCSE",51,0)
 . I 'VALID Q
"RTN","OOPSWCSE",52,0)
 . S SIGN=$$SIG^OOPSESIG(DUZ,IEN)
"RTN","OOPSWCSE",53,0)
 . Q:+SIGN=0
"RTN","OOPSWCSE",54,0)
 . D EMP^OOPSVAL1
"RTN","OOPSWCSE",55,0)
EXIT ;
"RTN","OOPSWCSE",56,0)
 K DTOUT,DUOUT,SUP                           ; left over from OOPSDIS
"RTN","OOPSWCSE",57,0)
 Q
"RTN","OOPSWCSE",58,0)
VALID() ; make sure same person is not signing for both safety and EH and if
"RTN","OOPSWCSE",59,0)
 ; signed from menu option being called not needed again - so quit
"RTN","OOPSWCSE",60,0)
 N CONT,EHAPP,ERR,SOAPP,VALID
"RTN","OOPSWCSE",61,0)
 S VALID=1,ERR=0
"RTN","OOPSWCSE",62,0)
 S SOAPP=$P($G(^OOPS(2260,IEN,"WCSE")),U)
"RTN","OOPSWCSE",63,0)
 S EHAPP=$P($G(^OOPS(2260,IEN,"WCSE")),U,4)
"RTN","OOPSWCSE",64,0)
 S CONT=$S(DUZ=SOAPP:"S",DUZ=EHAPP:"H",1:"")
"RTN","OOPSWCSE",65,0)
 I CALLER="S" D
"RTN","OOPSWCSE",66,0)
 . I CONT="S" S ERR=1
"RTN","OOPSWCSE",67,0)
 . I $G(EHAPP)=DUZ S ERR=2
"RTN","OOPSWCSE",68,0)
 . I $G(SOAPP)&($G(CONT)="") S ERR=3
"RTN","OOPSWCSE",69,0)
 I CALLER="H" D
"RTN","OOPSWCSE",70,0)
 . I CONT="H" S ERR=1
"RTN","OOPSWCSE",71,0)
 . I $G(SOAPP)=DUZ S ERR=2
"RTN","OOPSWCSE",72,0)
 . I $G(EHAPP)&($G(CONT)="") S ERR=3
"RTN","OOPSWCSE",73,0)
 I ERR=1 D
"RTN","OOPSWCSE",74,0)
 . W !,"You have signed as "_PRM1_" if you continue, your ES will be removed"
"RTN","OOPSWCSE",75,0)
 . N DIR,FLD,Y
"RTN","OOPSWCSE",76,0)
 . W !
"RTN","OOPSWCSE",77,0)
 . S DIR("A")="Continue",DIR(0)="SBM^Y:Yes;N:No"
"RTN","OOPSWCSE",78,0)
 . D ^DIR
"RTN","OOPSWCSE",79,0)
 . I Y="Y" D
"RTN","OOPSWCSE",80,0)
 .. S FLD=$S(CALLER="S":"1,3",CALLER="H":"4,6",1:"")
"RTN","OOPSWCSE",81,0)
 .. F I=$P(FLD,","):1:$P(FLD,",",2) S $P(^OOPS(2260,IEN,"WCSE"),U,I)=""
"RTN","OOPSWCSE",82,0)
 . I Y'="Y" S VALID=0
"RTN","OOPSWCSE",83,0)
 I ERR=2 D
"RTN","OOPSWCSE",84,0)
 . W !,"You have already signed as "
"RTN","OOPSWCSE",85,0)
 . W $S(CALLER="S":"Employee Health",CALLER="H":"Safety Officer",1:0)
"RTN","OOPSWCSE",86,0)
 . W ".",!,"Both signatures cannot be made by the same person."
"RTN","OOPSWCSE",87,0)
 . S VALID=0
"RTN","OOPSWCSE",88,0)
 I ERR=3 D
"RTN","OOPSWCSE",89,0)
 . W !,PRM1_" has already signed, re-signing is not required."
"RTN","OOPSWCSE",90,0)
 . S VALID=0
"RTN","OOPSWCSE",91,0)
 Q VALID
"RTN","OOPSWCSE",92,0)
SCR(IEN) ; Screen to allow access to claims that have not been
"RTN","OOPSWCSE",93,0)
 ; signed by the Employee
"RTN","OOPSWCSE",94,0)
 ; Input:  IEN = Internal record number of claim
"RTN","OOPSWCSE",95,0)
 N VIEW,EES,ESTAT,FORM,FLD
"RTN","OOPSWCSE",96,0)
 S VIEW=1
"RTN","OOPSWCSE",97,0)
 S FORM=$$GET1^DIQ(2260,IEN,52,"I")
"RTN","OOPSWCSE",98,0)
 I '$$ISEMP^OOPSUTL4(IEN) S VIEW=0                  ; not emp, can't sign
"RTN","OOPSWCSE",99,0)
 S ESTAT=$$EDSTA^OOPSUTL1(IEN,"E")                  ; employee signed?
"RTN","OOPSWCSE",100,0)
 I CALLER'="W",$P(ESTAT,U,FORM) S VIEW=0            ; employee signed
"RTN","OOPSWCSE",101,0)
 I CALLER="W" D                                     ; from WC menu
"RTN","OOPSWCSE",102,0)
 . S FLD=$S(FORM=1:119,FORM=2:221,1:"")
"RTN","OOPSWCSE",103,0)
 . I 'FLD S VIEW=0 Q
"RTN","OOPSWCSE",104,0)
 . S EES=$$GET1^DIQ(2260,IEN,FLD,"I")
"RTN","OOPSWCSE",105,0)
 . I 'EES Q                                         ; not signed by emp
"RTN","OOPSWCSE",106,0)
 . I EES'=DUZ S VIEW=0 Q                            ; signer = user
"RTN","OOPSWCSE",107,0)
 . I $P($$EDSTA^OOPSUTL1(IEN,"S"),U,FORM) S VIEW=0  ; Super Signed
"RTN","OOPSWCSE",108,0)
 Q VIEW
"VER")
8.0^22
"^DD",2260,2260,4,0)
DATE/TIME OF OCCURRENCE^RDX^^0;5^S %DT="ETX",%DT(0)="-NOW" D ^%DT K %DT S X=Y K:Y<1 X I $G(X),($$FMDIFF^XLFDT(DT,X,1)>1095) D EN^DDIOL("DATE OF OCCURRENCE must be within 3 years","","!!?5") K X
"^DD",2260,2260,4,.1)
22. DATE OF INJURY
"^DD",2260,2260,4,1,0)
^.1
"^DD",2260,2260,4,1,1,0)
2260^AD
"^DD",2260,2260,4,1,1,1)
S ^OOPS(2260,"AD",$E(X,1,30),DA)=""
"^DD",2260,2260,4,1,1,2)
K ^OOPS(2260,"AD",$E(X,1,30),DA)
"^DD",2260,2260,4,1,1,"DT")
2980407
"^DD",2260,2260,4,3)
Enter the date and time of injury, date only if illness.
"^DD",2260,2260,4,21,0)
^.001^3^3^3000601^^^^
"^DD",2260,2260,4,21,1,0)
If this is an injury, this is the date and time the incident happened.
"^DD",2260,2260,4,21,2,0)
If this is an illness, this is the date the employee first became aware of
"^DD",2260,2260,4,21,3,0)
the disease or illness.
"^DD",2260,2260,4,"DT")
3010128
"^DD",2260,2260,6,0)
DATE OF BIRTH^DX^^2162A;2^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),'$$PSDTCHK^OOPSUTL3(X,110,6) K X
"^DD",2260,2260,6,.1)
     DATE OF BIRTH
"^DD",2260,2260,6,3)
Enter the date of birth of the person involved in this incident.
"^DD",2260,2260,6,21,0)
^^1^1^2980408^
"^DD",2260,2260,6,21,1,0)
This is the date of birth of the person involved in this incident.
"^DD",2260,2260,6,"DT")
3010201
"^DD",2260,2260,70,0)
OWCP CHARGEBACK CODE^P2263.6'^OOPS(2263.6,^CA;2^Q
"^DD",2260,2260,70,.1)
     OWCP CHARGEBACK CODE
"^DD",2260,2260,70,3)
Enter the OWCP Chargeback code for the claim.
"^DD",2260,2260,70,21,0)
^.001^2^2^3010207^^
"^DD",2260,2260,70,21,1,0)
This is the OWCP Chargeback code required by DOL (Department of Labor)
"^DD",2260,2260,70,21,2,0)
for the electronic submission of a CA1/CA2 claim.
"^DD",2260,2260,70,"DT")
3010207
"^DD",2260,2260,71,0)
EMPLOYEE BILL OF RIGHTS OK^RS^Y:Yes;N:No;^0;14^Q
"^DD",2260,2260,71,3)
I have read and understood the Employee Bill of Rights
"^DD",2260,2260,71,21,0)
^.001^3^3^3000829^^^^
"^DD",2260,2260,71,21,1,0)
Indicate your reading and understanding of the Employee Bill of Rights.
"^DD",2260,2260,71,21,2,0)
If you do not understand the Bill of Rights, select No, and contact 
"^DD",2260,2260,71,21,3,0)
your facility's Workers Compensation representative for assistance.
"^DD",2260,2260,71,"DT")
3000731
"^DD",2260,2260,72,0)
EMPLOYEE CONSENT^RS^Y:Yes;N:No;^0;15^Q
"^DD",2260,2260,72,3)
Local bargaining units may review my case
"^DD",2260,2260,72,21,0)
^.001^5^5^3000731^^^^
"^DD",2260,2260,72,21,1,0)
If it is acceptable with you to allow the local bargaining unit to 
"^DD",2260,2260,72,21,2,0)
review the details of your case, select Yes, otherwise select No, 
"^DD",2260,2260,72,21,3,0)
and the details of your case WILL NOT be provided to the local 
"^DD",2260,2260,72,21,4,0)
bargaining unit.  This review is for accident and occupational 
"^DD",2260,2260,72,21,5,0)
illness tracking purposes only.  
"^DD",2260,2260,72,"DT")
3000731
"^DD",2260,2260,76,0)
NAME OF SAFETY OFFICER^P200'^VA(200,^WCSE;1^Q
"^DD",2260,2260,76,3)
Enter the Name of the Safety Officer
"^DD",2260,2260,76,21,0)
^.001^3^3^3010122^^
"^DD",2260,2260,76,21,1,0)
This is the name of the Safety Officer who is giving their approval that
"^DD",2260,2260,76,21,2,0)
the Workers' Compensation personnel can electronically sign for the
"^DD",2260,2260,76,21,3,0)
employee.  This is because the employee is not able to sign for themselves.
"^DD",2260,2260,76,"DT")
3010122
"^DD",2260,2260,77,0)
SAFETY OFFICER ELEC. SIGN^F^^WCSE;2^K:$L(X)>20!($L(X)<6) X
"^DD",2260,2260,77,3)
Enter your electronic signature.
"^DD",2260,2260,77,21,0)
^.001^2^2^3010122^^^
"^DD",2260,2260,77,21,1,0)
This is the electronic signature of the Safety Officer who is approving the
"^DD",2260,2260,77,21,2,0)
Workers' Compensation personnel to sign electronically for the employee
"^DD",2260,2260,77,"DT")
3010122
"^DD",2260,2260,78,0)
SAFETY OFF. ELEC. SIGN DATE^D^^WCSE;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",2260,2260,78,3)
Enter the date of your signature.
"^DD",2260,2260,78,21,0)
^^3^3^3010122^
"^DD",2260,2260,78,21,1,0)
This is the date that the Safety Officer electronically signed the claim
"^DD",2260,2260,78,21,2,0)
giving their approval that the Workers' Compensation personnel could
"^DD",2260,2260,78,21,3,0)
electronically sign the claim for the employee.
"^DD",2260,2260,78,"DT")
3010122
"^DD",2260,2260,79,0)
EMPLOYEE HEALTH NAME^P200'^VA(200,^WCSE;4^Q
"^DD",2260,2260,79,3)
Enter the name of the Employee Health representative.
"^DD",2260,2260,79,21,0)
^.001^3^3^3010122^^
"^DD",2260,2260,79,21,1,0)
This is the name of the Employee Health representative who is giving their
"^DD",2260,2260,79,21,2,0)
approval for the Workers' Compensation personnel to electronically sign
"^DD",2260,2260,79,21,3,0)
the claim for the employee.
"^DD",2260,2260,79,"DT")
3010122
"^DD",2260,2260,80,0)
EMP HEALTH ELECT. SIGNATURE^F^^WCSE;5^K:$L(X)>20!($L(X)<6) X
"^DD",2260,2260,80,3)
Enter your electronic signature.
"^DD",2260,2260,80,21,0)
^^4^4^3010122^
"^DD",2260,2260,80,21,1,0)
This is the electronic signature of the Employee Health representative who
"^DD",2260,2260,80,21,2,0)
is giving their approval that the Workers' Compensation personnel may
"^DD",2260,2260,80,21,3,0)
electronically sign the claim for the employee.  This is because the
"^DD",2260,2260,80,21,4,0)
employee is not able to electronically sign for themself.
"^DD",2260,2260,80,"DT")
3010122
"^DD",2260,2260,81,0)
EMP HEALTH ELECT SIGN DATE^D^^WCSE;6^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",2260,2260,81,3)
Enter the date of your signature.
"^DD",2260,2260,81,21,0)
^.001^3^3^3010130^^
"^DD",2260,2260,81,21,1,0)
This is the date that the Employee Health Representative electronically
"^DD",2260,2260,81,21,2,0)
signed the claim giving their approval that the Workers' Compensation
"^DD",2260,2260,81,21,3,0)
personnel could electronically sign the claim for the employee.
"^DD",2260,2260,81,"DT")
3010122
"^DD",2260,2260,110,0)
DATE OF THIS NOTICE^DX^^CA1A;11^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)\1>X D EN^DDIOL("DATE OF THIS NOTICE cannot be prior to the DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,110,.1)
11. DATE OF THIS NOTICE
"^DD",2260,2260,110,3)
Enter the date the CA-1 was completed.
"^DD",2260,2260,110,21,0)
^^2^2^2990909^^
"^DD",2260,2260,110,21,1,0)
This is the date the employee completed the Federal Employee's Notice of
"^DD",2260,2260,110,21,2,0)
Traumatic Injury and Claim for Continuation of Pay/Compensation (CA-1).
"^DD",2260,2260,110,"DT")
3010131
"^DD",2260,2260,142,0)
DATE/TIME WORK STOPPED^DX^^CA1F;13^S %DT="ERX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)>X D EN^DDIOL("DATE WORK STOPPED cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,142,3)
Enter the date and time the employee stopped work.
"^DD",2260,2260,142,21,0)
^^1^1^2980430^^^
"^DD",2260,2260,142,21,1,0)
This is the date and time the employee stopped work due to the injury.
"^DD",2260,2260,142,"DT")
3010119
"^DD",2260,2260,143,0)
DATE PAY STOPPED^DX^^CA1G;1^S %DT="ETX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),'$$DTVAL^OOPSUTL4(X,143,142) K X
"^DD",2260,2260,143,3)
Enter the date the employee's pay stopped.
"^DD",2260,2260,143,21,0)
^^1^1^2980410^
"^DD",2260,2260,143,21,1,0)
This is the date the employee's pay stopped.
"^DD",2260,2260,143,"DT")
3010119
"^DD",2260,2260,144,0)
DATE 45 DAY PERIOD BEGAN^DX^^CA1G;2^S %DT="ETX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),'$$DTVAL^OOPSUTL4(X,144,142) K X
"^DD",2260,2260,144,3)
Enter the date the 45 day period began.
"^DD",2260,2260,144,21,0)
^^1^1^2980410^
"^DD",2260,2260,144,21,1,0)
This is the date the 45 day period began for COP.
"^DD",2260,2260,144,"DT")
3010119
"^DD",2260,2260,145,0)
DATE/TIME RETURNED TO WORK^DX^^CA1G;3^S %DT="ERX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),'$$DTVAL^OOPSUTL4(X,145,142) K X
"^DD",2260,2260,145,3)
Enter the date and time the employee returned to work.
"^DD",2260,2260,145,21,0)
^^1^1^2980430^^
"^DD",2260,2260,145,21,1,0)
This is the date and time the employee returned to work.
"^DD",2260,2260,145,"DT")
3010126
"^DD",2260,2260,161,0)
FIRST DATE MEDICAL CARE^DX^^CA1I;6^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)\1>X D EN^DDIOL("FIRST DATE MEDICAL CARE cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,161,.1)
32. FIRST DATE MEDICAL CARE RECEIVED
"^DD",2260,2260,161,3)
Enter the date the employee first received medical care.
"^DD",2260,2260,161,21,0)
^^1^1^2980410^
"^DD",2260,2260,161,21,1,0)
This is the first date the employee received medical care for the injury.
"^DD",2260,2260,161,"DT")
3010131
"^DD",2260,2260,175,0)
DATE NOTICE RECEIVED^DX^^CA1L;7^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)\1>X D EN^DDIOL("DATE NOTICE RECEIVED cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,175,.1)
23. DATE OF NOTICE RECEIVED
"^DD",2260,2260,175,3)
Enter the date the notice was received.
"^DD",2260,2260,175,21,0)
^^2^2^3000403^^^
"^DD",2260,2260,175,21,1,0)
This is the date the supervisor received notice that the employee filed a
"^DD",2260,2260,175,21,2,0)
CA-1.
"^DD",2260,2260,175,"DT")
3010131
"^DD",2260,2260,214,0)
DATE FIRST AWARE OF ILLNESS^DX^^CA2B;6^S %DT="ETX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)\1>X D EN^DDIOL("DATE FIRST AWARE OF ILLNESS cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,214,.1)
11. DATE YOU FIRST BECAME AWARE OF DISEASE OR ILLNESS
"^DD",2260,2260,214,3)
Enter the date you first became aware of the disease/illness.
"^DD",2260,2260,214,21,0)
^^2^2^2980410^
"^DD",2260,2260,214,21,1,0)
This is the date you (the employee) were first aware of the disease or
"^DD",2260,2260,214,21,2,0)
illness.
"^DD",2260,2260,214,"DT")
3010131
"^DD",2260,2260,215,0)
DATE FIRST REALIZED CAUSE^DX^^CA2B;7^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)\1>X D EN^DDIOL("DATE FIRST REALIZED CAUSE cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,215,.1)
12. DATE YOU FIRST REALIZED THE DISEASE OR ILLNESS WAS CAUSED
"^DD",2260,2260,215,3)
Enter the date you first realized the illness was caused by your work.
"^DD",2260,2260,215,21,0)
^.001^2^2^3000331^^^
"^DD",2260,2260,215,21,1,0)
This is the date you (the employee) first realized the disease or illness
"^DD",2260,2260,215,21,2,0)
was caused by your employment.
"^DD",2260,2260,215,"DT")
3010131
"^DD",2260,2260,250,0)
FIRST DATE MEDICAL CARE^DX^^CA2J;6^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)\1>X D EN^DDIOL("FIRST DATE MEDICAL CARE cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,250,.1)
24 1ST DATE MEDICAL CARE RECEIVED
"^DD",2260,2260,250,3)
Enter the date the employee first received medical care.
"^DD",2260,2260,250,21,0)
^^2^2^2980413^
"^DD",2260,2260,250,21,1,0)
This is the date the employee first received medical care for the
"^DD",2260,2260,250,21,2,0)
condition.
"^DD",2260,2260,250,"DT")
3010131
"^DD",2260,2260,252,0)
DATE NOTICE RECEIVED^DX^^CA2J;8^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)\1>X D EN^DDIOL("DATE NOTICE RECEIVED cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,252,.1)
26. DATE EMPLOYEE FIRST REPORTED CONDITION TO SUPERVISOR
"^DD",2260,2260,252,3)
Enter the date you were first notified by the employee of the condition.
"^DD",2260,2260,252,21,0)
^.001^2^2^3000403^^
"^DD",2260,2260,252,21,1,0)
This is the date the employee first reported the condition to the
"^DD",2260,2260,252,21,2,0)
supervisor.
"^DD",2260,2260,252,"DT")
3010131
"^DD",2260,2260,253,0)
DATE/TIME WORK STOPPED^DX^^CA2J;9^S %DT="ETR",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)>X D EN^DDIOL("DATE/TIME WORK STOPPED cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,253,3)
Enter the date and time the employee stopped work.
"^DD",2260,2260,253,21,0)
^^1^1^2980430^^
"^DD",2260,2260,253,21,1,0)
This is the date and time the employee stopped work due to the condition.
"^DD",2260,2260,253,"DT")
3010119
"^DD",2260,2260,254,0)
DATE/TIME PAY STOPPED^DX^^CA2J;10^S %DT="ETR",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),'$$DTVAL^OOPSUTL4(X,254,253) K X
"^DD",2260,2260,254,3)
Enter the date/time the employee's pay stopped.
"^DD",2260,2260,254,21,0)
^^1^1^2980430^^^
"^DD",2260,2260,254,21,1,0)
This is the date and time the employee's pay stopped.
"^DD",2260,2260,254,"DT")
3010207
"^DD",2260,2260,255,0)
DATE OF LAST EXPOSURE^DX^^CA2J;11^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),$P($G(^OOPS(2260,DA,0)),U,5)\1>X D EN^DDIOL("DATE OF LAST EXPOSURE cannot be prior to DATE/TIME OF OCCURRENCE","","!!?5") K X
"^DD",2260,2260,255,.1)
29. DATE OF LAST EXPOSURE
"^DD",2260,2260,255,3)
Enter the date the employee was last exposed to conditions.
"^DD",2260,2260,255,21,0)
^.001^2^2^3000403^^
"^DD",2260,2260,255,21,1,0)
This is the date the employee was last exposed to conditions alleged to
"^DD",2260,2260,255,21,2,0)
have caused the disease or illness.
"^DD",2260,2260,255,"DT")
3010131
"^DD",2260,2260,256,0)
DATE/TIME RETURNED TO WORK^DX^^CA2J;12^S %DT="ERX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $G(X),'$$DTVAL^OOPSUTL4(X,256,253) K X
"^DD",2260,2260,256,3)
Enter the date/time the employee returned to work.
"^DD",2260,2260,256,21,0)
^^1^1^2980430^^
"^DD",2260,2260,256,21,1,0)
This is the date and time the employee returned to work.
"^DD",2260,2260,256,"DT")
3010119
"^DD",2263.7,2263.7,0)
FIELD^^2^3
"^DD",2263.7,2263.7,0,"DDA")
N
"^DD",2263.7,2263.7,0,"DT")
3010312
"^DD",2263.7,2263.7,0,"IX","B",2263.7,.01)

"^DD",2263.7,2263.7,0,"NM","ASISTS UNION INFORMATION")

"^DD",2263.7,2263.7,.01,0)
UNION NAME^RF^^0;1^K:$L(X)>50!($L(X)<3)!'(X'?1P.E) X
"^DD",2263.7,2263.7,.01,.1)
Union Name
"^DD",2263.7,2263.7,.01,1,0)
^.1
"^DD",2263.7,2263.7,.01,1,1,0)
2263.7^B
"^DD",2263.7,2263.7,.01,1,1,1)
S ^OOPS(2263.7,"B",$E(X,1,30),DA)=""
"^DD",2263.7,2263.7,.01,1,1,2)
K ^OOPS(2263.7,"B",$E(X,1,30),DA)
"^DD",2263.7,2263.7,.01,3)
Answer must be 3-50 characters in length.  Enter the name of the Union.
"^DD",2263.7,2263.7,.01,21,0)
^^1^1^3010312^
"^DD",2263.7,2263.7,.01,21,1,0)
This is the formal name of the Union.
"^DD",2263.7,2263.7,.01,"DT")
3010315
"^DD",2263.7,2263.7,1,0)
UNION ACRONYM^RF^^0;2^K:$L(X)>10!($L(X)<2) X
"^DD",2263.7,2263.7,1,3)
Answer must be 2-10 characters in length.  Enter the short form for the Union name.
"^DD",2263.7,2263.7,1,21,0)
^^1^1^3010312^
"^DD",2263.7,2263.7,1,21,1,0)
This field is the Unions Acronym or abbreviation.  An example would be AFGE.
"^DD",2263.7,2263.7,1,"DT")
3010312
"^DD",2263.7,2263.7,2,0)
UNION REPRESENTATIVE^RP200'^VA(200,^0;3^Q
"^DD",2263.7,2263.7,2,3)
Enter the Union Representative for the Union.
"^DD",2263.7,2263.7,2,21,0)
^.001^3^3^3010312^^
"^DD",2263.7,2263.7,2,21,1,0)
This field contains the Union Representative's name for the Union.  It will
"^DD",2263.7,2263.7,2,21,2,0)
be used to send the MailMan bulletin to if the employee consents to sending
"^DD",2263.7,2263.7,2,21,3,0)
information regarding their claim to the Union.
"^DD",2263.7,2263.7,2,"DT")
3010312
"^DIC",2263.7,2263.7,0)
ASISTS UNION INFORMATION^2263.7
"^DIC",2263.7,2263.7,0,"GL")
^OOPS(2263.7,
"^DIC",2263.7,2263.7,"%",0)
^1.005^^
"^DIC",2263.7,2263.7,"%D",0)
^^4^4^3010312^
"^DIC",2263.7,2263.7,"%D",1,0)
This file contains Union and Union Representative information for Unions at 
"^DIC",2263.7,2263.7,"%D",2,0)
the facility.  The information will be used to sent a MailMan bulletin to
"^DIC",2263.7,2263.7,"%D",3,0)
the appropriate Union representative if the employee authorizes sending
"^DIC",2263.7,2263.7,"%D",4,0)
information concerning their incident to the Union.
"^DIC",2263.7,"B","ASISTS UNION INFORMATION",2263.7)

**END**
**END**
