KIDS Distribution saved on Feb 04, 1997@14:20:52
ONCOLOGY PATCH ONC*2.11*7
**KIDS**:ONC*2.11*7^

**INSTALL NAME**
ONC*2.11*7
"BLD",118,0)
ONC*2.11*7^ONCOLOGY^0^^n
"BLD",118,4,0)
^9.64PA^164.5^3
"BLD",118,4,160,0)
160
"BLD",118,4,160,2,0)
^9.641^160.06^5
"BLD",118,4,160,2,160,0)
ONCOLOGY PATIENT  (File-top level)
"BLD",118,4,160,2,160,1,0)
^9.6411^56^4
"BLD",118,4,160,2,160,1,23,0)
AUTOPSY DATE/TIME
"BLD",118,4,160,2,160,1,25,0)
DATE ENTERED
"BLD",118,4,160,2,160,1,33,0)
SUSPENSE DATE
"BLD",118,4,160,2,160,1,56,0)
PTF DISCHARGE
"BLD",118,4,160,2,160.02,0)
TOBACCO USAGE  (sub-file)
"BLD",118,4,160,2,160.02,1,0)
^9.6411^2^1
"BLD",118,4,160,2,160.02,1,2,0)
YR QUIT TOBACCO USE
"BLD",118,4,160,2,160.041,0)
ALCOHOL USAGE  (sub-file)
"BLD",118,4,160,2,160.041,1,0)
^9.6411^3^1
"BLD",118,4,160,2,160.041,1,3,0)
YR QUIT DRINKING
"BLD",118,4,160,2,160.042,0)
OCCUPATION  (sub-file)
"BLD",118,4,160,2,160.042,1,0)
^9.6411^2^1
"BLD",118,4,160,2,160.042,1,2,0)
LAST DATE IN OCCUPATION
"BLD",118,4,160,2,160.06,0)
FOLLOW-UP ATTEMPTS  (sub-file)
"BLD",118,4,160,2,160.06,1,0)
^9.6411^.01^1
"BLD",118,4,160,2,160.06,1,.01,0)
FOLLOW-UP ATTEMPT DATE
"BLD",118,4,160,222)
y^y^p^^^^n
"BLD",118,4,164.5,0)
164.5
"BLD",118,4,164.5,222)
n^n^f^^n^^y^r^n
"BLD",118,4,164.5,224)
I Y=133
"BLD",118,4,165.5,0)
165.5
"BLD",118,4,165.5,2,0)
^9.641^165.52^4
"BLD",118,4,165.5,2,165.5,0)
ONCOLOGY PRIMARY  (File-top level)
"BLD",118,4,165.5,2,165.5,1,0)
^9.6411^99^29
"BLD",118,4,165.5,2,165.5,1,1,0)
FIRST ADMIT DATE
"BLD",118,4,165.5,2,165.5,1,1.1,0)
DISCHARGE DATE
"BLD",118,4,165.5,2,165.5,1,3,0)
DATE DX
"BLD",118,4,165.5,2,165.5,1,17,0)
SUSPENSE DATE
"BLD",118,4,165.5,2,165.5,1,25.1,0)
TUMOR MARKER ONE
"BLD",118,4,165.5,2,165.5,1,25.2,0)
TUMOR MARKER TWO
"BLD",118,4,165.5,2,165.5,1,50,0)
CANCER-DIRECTED SURGERY DATE
"BLD",118,4,165.5,2,165.5,1,51,0)
RADIATION DATE
"BLD",118,4,165.5,2,165.5,1,52,0)
RADIATION THERAPY TO CNS DATE
"BLD",118,4,165.5,2,165.5,1,53,0)
CHEMOTHERAPY DATE
"BLD",118,4,165.5,2,165.5,1,54,0)
HORMONE THERAPY DATE
"BLD",118,4,165.5,2,165.5,1,55,0)
IMMUNOTHERAPY DATE
"BLD",118,4,165.5,2,165.5,1,56,0)
HYPERTHERMIA THERAPY DATE
"BLD",118,4,165.5,2,165.5,1,57,0)
OTH CANCER-DIRECTED TPY DATE
"BLD",118,4,165.5,2,165.5,1,58.3,0)
NON CANCER-DIRECTED SURG DATE
"BLD",118,4,165.5,2,165.5,1,64,0)
QA DATE
"BLD",118,4,165.5,2,165.5,1,70,0)
DATE of FIRST RECURRENCE
"BLD",118,4,165.5,2,165.5,1,79,0)
SCREENING DATE
"BLD",118,4,165.5,2,165.5,1,90,0)
ABSTRACT DATE
"BLD",118,4,165.5,2,165.5,1,94,0)
REPORTING DATE
"BLD",118,4,165.5,2,165.5,1,99,0)
OTHER M
"BLD",118,4,165.5,2,165.5,1,121,0)
DATE OF CANCER CONF
"BLD",118,4,165.5,2,165.5,1,323,0)
ONSET OF SYMPTOMS
"BLD",118,4,165.5,2,165.5,1,361,0)
DATE RADIATION THERAPY ENDED
"BLD",118,4,165.5,2,165.5,1,367,0)
DATE CHEMOTHERAPY ENDED
"BLD",118,4,165.5,2,165.5,1,435,0)
DATE OF DISCHARGE AFTER SURG
"BLD",118,4,165.5,2,165.5,1,541,0)
DATE BRACHYTHERAPY STARTED
"BLD",118,4,165.5,2,165.5,1,542,0)
DATE BRACHYTHERAPY ENDED
"BLD",118,4,165.5,2,165.5,1,567,0)
DATE EXT BEAM RAD STARTED
"BLD",118,4,165.5,2,165.51,0)
SUBSEQUENT COURSE OF TREATMENT  (sub-file)
"BLD",118,4,165.5,2,165.51,1,0)
^9.6411^.091^8
"BLD",118,4,165.5,2,165.51,1,.01,0)
INITIATION DATE
"BLD",118,4,165.5,2,165.51,1,.031,0)
RADIATION THERAPY TO CNS DATE
"BLD",118,4,165.5,2,165.51,1,.041,0)
CANCER-DIRECTED SURGERY DATE
"BLD",118,4,165.5,2,165.51,1,.051,0)
RADIATION DATE
"BLD",118,4,165.5,2,165.51,1,.061,0)
CHEMOTHERAPY DATE
"BLD",118,4,165.5,2,165.51,1,.071,0)
HORMONE/STEROID DATE
"BLD",118,4,165.5,2,165.51,1,.081,0)
IMMUNOTHERAPY DATE
"BLD",118,4,165.5,2,165.51,1,.091,0)
OTHER CANCER THERAPY DATE
"BLD",118,4,165.5,2,165.52,0)
RADIATION TREATMENT  (sub-file)
"BLD",118,4,165.5,2,165.52,1,0)
^9.6411^8^2
"BLD",118,4,165.5,2,165.52,1,7,0)
START DATE
"BLD",118,4,165.5,2,165.52,1,8,0)
STOP DATE
"BLD",118,4,165.5,2,165.572,0)
SUBSEQUENT RECURRENCES  (sub-file)
"BLD",118,4,165.5,2,165.572,1,0)
^9.6411^5^6
"BLD",118,4,165.5,2,165.572,1,.01,0)
DATE of SUBSEQUENT RECURRENCE
"BLD",118,4,165.5,2,165.572,1,1,0)
OTHER T
"BLD",118,4,165.5,2,165.572,1,2,0)
OTHER N
"BLD",118,4,165.5,2,165.572,1,3,0)
OTHER M
"BLD",118,4,165.5,2,165.572,1,4,0)
OTHER STAGE GROUP
"BLD",118,4,165.5,2,165.572,1,5,0)
STAGED BY (OTHER STAGE)
"BLD",118,4,165.5,222)
y^y^p^^^^n
"BLD",118,4,"APDD",160,160)

"BLD",118,4,"APDD",160,160,23)

"BLD",118,4,"APDD",160,160,25)

"BLD",118,4,"APDD",160,160,33)

"BLD",118,4,"APDD",160,160,56)

"BLD",118,4,"APDD",160,160.02)

"BLD",118,4,"APDD",160,160.02,2)

"BLD",118,4,"APDD",160,160.041)

"BLD",118,4,"APDD",160,160.041,3)

"BLD",118,4,"APDD",160,160.042)

"BLD",118,4,"APDD",160,160.042,2)

"BLD",118,4,"APDD",160,160.06)

"BLD",118,4,"APDD",160,160.06,.01)

"BLD",118,4,"APDD",165.5,165.5)

"BLD",118,4,"APDD",165.5,165.5,1)

"BLD",118,4,"APDD",165.5,165.5,1.1)

"BLD",118,4,"APDD",165.5,165.5,3)

"BLD",118,4,"APDD",165.5,165.5,17)

"BLD",118,4,"APDD",165.5,165.5,25.1)

"BLD",118,4,"APDD",165.5,165.5,25.2)

"BLD",118,4,"APDD",165.5,165.5,50)

"BLD",118,4,"APDD",165.5,165.5,51)

"BLD",118,4,"APDD",165.5,165.5,52)

"BLD",118,4,"APDD",165.5,165.5,53)

"BLD",118,4,"APDD",165.5,165.5,54)

"BLD",118,4,"APDD",165.5,165.5,55)

"BLD",118,4,"APDD",165.5,165.5,56)

"BLD",118,4,"APDD",165.5,165.5,57)

"BLD",118,4,"APDD",165.5,165.5,58.3)

"BLD",118,4,"APDD",165.5,165.5,64)

"BLD",118,4,"APDD",165.5,165.5,70)

"BLD",118,4,"APDD",165.5,165.5,79)

"BLD",118,4,"APDD",165.5,165.5,90)

"BLD",118,4,"APDD",165.5,165.5,94)

"BLD",118,4,"APDD",165.5,165.5,99)

"BLD",118,4,"APDD",165.5,165.5,121)

"BLD",118,4,"APDD",165.5,165.5,323)

"BLD",118,4,"APDD",165.5,165.5,361)

"BLD",118,4,"APDD",165.5,165.5,367)

"BLD",118,4,"APDD",165.5,165.5,435)

"BLD",118,4,"APDD",165.5,165.5,541)

"BLD",118,4,"APDD",165.5,165.5,542)

"BLD",118,4,"APDD",165.5,165.5,567)

"BLD",118,4,"APDD",165.5,165.51)

"BLD",118,4,"APDD",165.5,165.51,.01)

"BLD",118,4,"APDD",165.5,165.51,.031)

"BLD",118,4,"APDD",165.5,165.51,.041)

"BLD",118,4,"APDD",165.5,165.51,.051)

"BLD",118,4,"APDD",165.5,165.51,.061)

"BLD",118,4,"APDD",165.5,165.51,.071)

"BLD",118,4,"APDD",165.5,165.51,.081)

"BLD",118,4,"APDD",165.5,165.51,.091)

"BLD",118,4,"APDD",165.5,165.52)

"BLD",118,4,"APDD",165.5,165.52,7)

"BLD",118,4,"APDD",165.5,165.52,8)

"BLD",118,4,"APDD",165.5,165.572)

"BLD",118,4,"APDD",165.5,165.572,.01)

"BLD",118,4,"APDD",165.5,165.572,1)

"BLD",118,4,"APDD",165.5,165.572,2)

"BLD",118,4,"APDD",165.5,165.572,3)

"BLD",118,4,"APDD",165.5,165.572,4)

"BLD",118,4,"APDD",165.5,165.572,5)

"BLD",118,4,"B",160,160)

"BLD",118,4,"B",164.5,164.5)

"BLD",118,4,"B",165.5,165.5)

"BLD",118,"INI")
ONCPRE7
"BLD",118,"KRN",0)
^9.67PA^19^18
"BLD",118,"KRN",.4,0)
.4
"BLD",118,"KRN",.4,"NM",0)
^9.68A^3^3
"BLD",118,"KRN",.4,"NM",1,0)
ONCOY52    FILE #165.5^165.5^0
"BLD",118,"KRN",.4,"NM",2,0)
ONCOX5    FILE #165.5^165.5^0
"BLD",118,"KRN",.4,"NM",3,0)
ONCOX11    FILE #165.5^165.5^0
"BLD",118,"KRN",.4,"NM","B","ONCOX11    FILE #165.5",3)

"BLD",118,"KRN",.4,"NM","B","ONCOX5    FILE #165.5",2)

"BLD",118,"KRN",.4,"NM","B","ONCOY52    FILE #165.5",1)

"BLD",118,"KRN",.401,0)
.401
"BLD",118,"KRN",.402,0)
.402
"BLD",118,"KRN",.402,"NM",0)
^9.68A^2^2
"BLD",118,"KRN",.402,"NM",1,0)
ONCO ABSTRACT-I    FILE #165.5^165.5^0
"BLD",118,"KRN",.402,"NM",2,0)
ONCO RECURRENCE FOLLOWUP    FILE #165.5^165.5^0
"BLD",118,"KRN",.402,"NM","B","ONCO ABSTRACT-I    FILE #165.5",1)

"BLD",118,"KRN",.402,"NM","B","ONCO RECURRENCE FOLLOWUP    FILE #165.5",2)

"BLD",118,"KRN",.403,0)
.403
"BLD",118,"KRN",.403,"NM",0)
^9.68A^^
"BLD",118,"KRN",.5,0)
.5
"BLD",118,"KRN",.84,0)
.84
"BLD",118,"KRN",3.6,0)
3.6
"BLD",118,"KRN",3.8,0)
3.8
"BLD",118,"KRN",9.2,0)
9.2
"BLD",118,"KRN",9.8,0)
9.8
"BLD",118,"KRN",9.8,"NM",0)
^9.68A^16^16
"BLD",118,"KRN",9.8,"NM",1,0)
ONCODSR^^0^B14060449
"BLD",118,"KRN",9.8,"NM",2,0)
ONCOTNS^^0^B11083071
"BLD",118,"KRN",9.8,"NM",3,0)
ONCOTN^^0^B62226249
"BLD",118,"KRN",9.8,"NM",4,0)
ONCOU55^^0^B20590803
"BLD",118,"KRN",9.8,"NM",5,0)
ONCODIS^^0^B1481112
"BLD",118,"KRN",9.8,"NM",6,0)
ONCOAIP^^0^B50006571
"BLD",118,"KRN",9.8,"NM",7,0)
ONCOTNO^^0^B6254122
"BLD",118,"KRN",9.8,"NM",8,0)
ONCOTNMB^^0^B715811
"BLD",118,"KRN",9.8,"NM",9,0)
ONCPRE7^^0^B397873
"BLD",118,"KRN",9.8,"NM",10,0)
ONCOGEN^^0^B32555264
"BLD",118,"KRN",9.8,"NM",11,0)
ONCBPC6^^0^B4771682
"BLD",118,"KRN",9.8,"NM",12,0)
ONCODEL^^0^B19070717
"BLD",118,"KRN",9.8,"NM",13,0)
ONCOPCE^^0^B15709082
"BLD",118,"KRN",9.8,"NM",14,0)
ONCSPC0^^0^B16699293
"BLD",118,"KRN",9.8,"NM",15,0)
ONCTPC0^^0^B9385687
"BLD",118,"KRN",9.8,"NM",16,0)
ONCOEDC^^0^B16344344
"BLD",118,"KRN",9.8,"NM","B","ONCBPC6",11)

"BLD",118,"KRN",9.8,"NM","B","ONCOAIP",6)

"BLD",118,"KRN",9.8,"NM","B","ONCODEL",12)

"BLD",118,"KRN",9.8,"NM","B","ONCODIS",5)

"BLD",118,"KRN",9.8,"NM","B","ONCODSR",1)

"BLD",118,"KRN",9.8,"NM","B","ONCOEDC",16)

"BLD",118,"KRN",9.8,"NM","B","ONCOGEN",10)

"BLD",118,"KRN",9.8,"NM","B","ONCOPCE",13)

"BLD",118,"KRN",9.8,"NM","B","ONCOTN",3)

"BLD",118,"KRN",9.8,"NM","B","ONCOTNMB",8)

"BLD",118,"KRN",9.8,"NM","B","ONCOTNO",7)

"BLD",118,"KRN",9.8,"NM","B","ONCOTNS",2)

"BLD",118,"KRN",9.8,"NM","B","ONCOU55",4)

"BLD",118,"KRN",9.8,"NM","B","ONCPRE7",9)

"BLD",118,"KRN",9.8,"NM","B","ONCSPC0",14)

"BLD",118,"KRN",9.8,"NM","B","ONCTPC0",15)

"BLD",118,"KRN",19,0)
19
"BLD",118,"KRN",19,"NM",0)
^9.68A^^
"BLD",118,"KRN",19.1,0)
19.1
"BLD",118,"KRN",101,0)
101
"BLD",118,"KRN",409.61,0)
409.61
"BLD",118,"KRN",771,0)
771
"BLD",118,"KRN",869.2,0)
869.2
"BLD",118,"KRN",870,0)
870
"BLD",118,"KRN",8994,0)
8994
"BLD",118,"KRN","B",.4,.4)

"BLD",118,"KRN","B",.401,.401)

"BLD",118,"KRN","B",.402,.402)

"BLD",118,"KRN","B",.403,.403)

"BLD",118,"KRN","B",.5,.5)

"BLD",118,"KRN","B",.84,.84)

"BLD",118,"KRN","B",3.6,3.6)

"BLD",118,"KRN","B",3.8,3.8)

"BLD",118,"KRN","B",9.2,9.2)

"BLD",118,"KRN","B",9.8,9.8)

"BLD",118,"KRN","B",19,19)

"BLD",118,"KRN","B",19.1,19.1)

"BLD",118,"KRN","B",101,101)

"BLD",118,"KRN","B",409.61,409.61)

"BLD",118,"KRN","B",771,771)

"BLD",118,"KRN","B",869.2,869.2)

"BLD",118,"KRN","B",870,870)

"BLD",118,"KRN","B",8994,8994)

"BLD",118,"QUES",0)
^9.62^^
"DATA",164.5,133,0)
UNKNOWN AND ILL-DEFINED PRIMARY SITES^1^^^L
"DATA",164.5,133,1,0)
^164.54A^10^1
"DATA",164.5,133,1,10,0)
Not applicable
"FIA",160)
ONCOLOGY PATIENT
"FIA",160,0)
^ONCO(160,
"FIA",160,0,0)
160V
"FIA",160,0,1)
y^y^p^^^^n
"FIA",160,0,10)

"FIA",160,0,11)

"FIA",160,0,"RLRO")

"FIA",160,0,"VR")
2.11^ONC
"FIA",160,160)
1
"FIA",160,160,23)

"FIA",160,160,25)

"FIA",160,160,33)

"FIA",160,160,56)

"FIA",160,160,410)

"FIA",160,160.02)
1
"FIA",160,160.02,2)

"FIA",160,160.041)
1
"FIA",160,160.041,3)

"FIA",160,160.042)
1
"FIA",160,160.042,2)

"FIA",160,160.06)
1
"FIA",160,160.06,.01)

"FIA",164.5)
SEER CODE SET
"FIA",164.5,0)
^ONCO(164.5,
"FIA",164.5,0,0)
164.5I
"FIA",164.5,0,1)
n^n^f^^n^^y^r^n
"FIA",164.5,0,10)

"FIA",164.5,0,11)
I Y=133
"FIA",164.5,0,"RLRO")

"FIA",164.5,0,"VR")
2.11^ONC
"FIA",164.5,164.5)
0
"FIA",164.5,164.54)
0
"FIA",165.5)
ONCOLOGY PRIMARY
"FIA",165.5,0)
^ONCO(165.5,
"FIA",165.5,0,0)
165.5IP
"FIA",165.5,0,1)
y^y^p^^^^n
"FIA",165.5,0,10)

"FIA",165.5,0,11)

"FIA",165.5,0,"RLRO")

"FIA",165.5,0,"VR")
2.11^ONC
"FIA",165.5,165.5)
1
"FIA",165.5,165.5,1)

"FIA",165.5,165.5,1.1)

"FIA",165.5,165.5,3)

"FIA",165.5,165.5,17)

"FIA",165.5,165.5,25.1)

"FIA",165.5,165.5,25.2)

"FIA",165.5,165.5,50)

"FIA",165.5,165.5,51)

"FIA",165.5,165.5,52)

"FIA",165.5,165.5,53)

"FIA",165.5,165.5,54)

"FIA",165.5,165.5,55)

"FIA",165.5,165.5,56)

"FIA",165.5,165.5,57)

"FIA",165.5,165.5,58.3)

"FIA",165.5,165.5,60)

"FIA",165.5,165.5,64)

"FIA",165.5,165.5,70)

"FIA",165.5,165.5,72)

"FIA",165.5,165.5,79)

"FIA",165.5,165.5,90)

"FIA",165.5,165.5,94)

"FIA",165.5,165.5,99)

"FIA",165.5,165.5,121)

"FIA",165.5,165.5,323)

"FIA",165.5,165.5,361)

"FIA",165.5,165.5,367)

"FIA",165.5,165.5,435)

"FIA",165.5,165.5,541)

"FIA",165.5,165.5,542)

"FIA",165.5,165.5,567)

"FIA",165.5,165.51)
1
"FIA",165.5,165.51,.01)

"FIA",165.5,165.51,.031)

"FIA",165.5,165.51,.041)

"FIA",165.5,165.51,.051)

"FIA",165.5,165.51,.061)

"FIA",165.5,165.51,.071)

"FIA",165.5,165.51,.081)

"FIA",165.5,165.51,.091)

"FIA",165.5,165.52)
1
"FIA",165.5,165.52,7)

"FIA",165.5,165.52,8)

"FIA",165.5,165.572)
1
"FIA",165.5,165.572,.01)

"FIA",165.5,165.572,1)

"FIA",165.5,165.572,2)

"FIA",165.5,165.572,3)

"FIA",165.5,165.572,4)

"FIA",165.5,165.572,5)

"INI")
ONCPRE7
"KRN",.4,763,-1)
0^2
"KRN",.4,763,0)
ONCOX5^2970117.0858^^165.5^^@^2970117
"KRN",.4,763,"DXS",1,9)
X DXS(1,9.2) S X=$J("",$S($D(DIWR)+$D(DIWL)=2:DIWR-DIWL+1,$D(IOM):IOM,1:80)-$L(X)\2-$X)_X
"KRN",.4,763,"DXS",1,9.2)
S X="**********************    CANCER IDENTIFICATION    ***********************"
"KRN",.4,763,"DXS",2,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,.04,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,4)_":",2),$C(59),1)
"KRN",.4,763,"DXS",3,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,1.2,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,10)_":",2),$C(59),1)
"KRN",.4,763,"DXS",4,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$S('$D(^ONCO(164.1,+$P(DIP(1),U,3),0)):"",1:$P(^(0),U,1))
"KRN",.4,763,"DXS",5,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,17) X:$D(^DD(165.5,5,2)) ^(2) S X=Y
"KRN",.4,763,"DXS",6,9)
S DIP(1)=$S($D(^ONCO(165.5,D0,8)):^(8),1:"") S X=$P(DIP(1),U,2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)"
"KRN",.4,763,"DXS",7,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:""),D0=$P(DIP(1),U,5) S:'$D(^ONCO(164.43,+D0,0)) D0=-1 S DIP(101)=$S($D(^ONCO(164.43,D0,0)):^(0),1:"")
"KRN",.4,763,"DXS",8,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:""),D0=$P(DIP(1),U,1) S:'$D(^ONCO(164,+D0,0)) D0=-1 S DIP(101)=$S($D(^ONCO(164,D0,0)):^(0),1:"")
"KRN",.4,763,"DXS",9,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$S('$D(^ONCO(164,+$P(DIP(1),U,1),0)):"",1:$P(^(0),U,1))
"KRN",.4,763,"DXS",10,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,18) X:$D(^DD(165.5,6,2)) ^(2) S X=Y
"KRN",.4,763,"DXS",11,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,28,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,8)_":",2),$C(59),1)
"KRN",.4,763,"DXS",12,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,19) X:$D(^DD(165.5,7,2)) ^(2) S X=Y
"KRN",.4,763,"DXS",13,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,26,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,6)_":",2),$C(59),1)
"KRN",.4,763,"DXS",14,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,1)):^(1),1:""),Y=$P(DIP(1),U,11) X:$D(^DD(165.5,18,2)) ^(2) S X=Y
"KRN",.4,763,"DXS",15,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$S('$D(^ONCO(164.2,+$P(DIP(1),U,1),0)):"",1:$P(^(0),U,1))
"KRN",.4,763,"DXS",16,9)
S DIP(1)=$S($D(^ONCO(165.5,D0,8)):^(8),1:"") S X=$P(DIP(1),U,1) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)"
"KRN",.4,763,"DXS",17,9)
X DXS(17,9.2) S X=$J("",$S($D(DIWR)+$D(DIWL)=2:DIWR-DIWL+1,$D(IOM):IOM,1:80)-$L(X)\2-$X)_X
"KRN",.4,763,"DXS",17,9.2)
S X="***********************     OTHER PRIMARY SITES     ***********************"
"KRN",.4,763,"F",1)
X DXS(1,9) W X K DIP;S1;X;Z;"CENTER("**********************    CANCER IDENTIFICATION    ***********************")"~"DX Date:  ";C15;S1~3;X~
"KRN",.4,763,"F",2)
"Class of Case:  ";C70~
"KRN",.4,763,"F",3)
X DXS(2,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(CLASS OF CASE)"~
"KRN",.4,763,"F",4)
"Type of Reporting Source:  ";C15~
"KRN",.4,763,"F",5)
X DXS(3,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(#1.2)"~
"KRN",.4,763,"F",6)
"Histology:  ";C13~S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,3),X=X W X K DIP;X;Z;"INTERNAL(HISTOLOGY)"~" ";X~
"KRN",.4,763,"F",7)
X DXS(4,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(HISTOLOGY)"~
"KRN",.4,763,"F",8)
"Dx Facility:  ";C72~
"KRN",.4,763,"F",9)
X DXS(5,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DX FACILITY)"~
"KRN",.4,763,"F",10)
"Text Histology:  ";C8~X DXS(6,9) W X K DIP;X;Z;"LOWERCASE(TEXT-HISTOLOGY)"~"Grade:";C17~24~
"KRN",.4,763,"F",11)
X DXS(7,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) K DIP;W;Z;"GRADE:EXPLANATION"~"Tumor Marker 1:";C8~25.1~"Tumor Marker 2:";C8~25.2~"ICDO-Site:  ";C13;S1~
"KRN",.4,763,"F",12)
X DXS(8,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) W X K DIP;X;Z;"20:CODE"~" ";X~
"KRN",.4,763,"F",13)
X DXS(9,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(ICDO-TOPOGRAPHY)"~
"KRN",.4,763,"F",14)
"Referring Facility:  ";C65~
"KRN",.4,763,"F",15)
X DXS(10,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(REFERRING FACILITY)"~
"KRN",.4,763,"F",16)
"Laterality:  ";C12~
"KRN",.4,763,"F",17)
X DXS(11,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(LATERALITY)"~
"KRN",.4,763,"F",18)
"Transfer Facility:  ";C66~
"KRN",.4,763,"F",19)
X DXS(12,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(TRANSFER FACILITY)"~
"KRN",.4,763,"F",20)
"DX Confirmation:  ";C7~
"KRN",.4,763,"F",21)
X DXS(13,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DIAGNOSTIC CONFIRMATION)"~
"KRN",.4,763,"F",22)
"Primary Payor at Diagnosis:  ";C57~
"KRN",.4,763,"F",23)
X DXS(14,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(#18)"~
"KRN",.4,763,"F",24)
"Site/Gp:  ";C15;S1~
"KRN",.4,763,"F",25)
X DXS(15,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(SITE)"~
"KRN",.4,763,"F",26)
"      Primary Sequence No:  ";X~.06;X~"Text Primary Site:  ";C5~X DXS(16,9) W X K DIP;X;Z;"LOWERCASE(TEXT-PRIMARY SITE)"~" ";C7~
"KRN",.4,763,"F",27)
"Text Dx Proc-Phys.Exam: ";C5~104,.01;X~"Text Dx Proc-Xray/Scan: ";C5~105,.01;X~"Text Dx Proc-Operation: ";C5~103,.01;X~"Text Dx Proc-Lab Tests: ";C5~
"KRN",.4,763,"F",28)
116,.01;X~"Text Dx Proc-Endoscopy: ";C5~106,.01;X~"Text Dx Proc-Path/Cyto: ";C5~107,.01;X~
"KRN",.4,763,"F",29)
X DXS(17,9) W X K DIP;S1;X;Z;"CENTER("***********************     OTHER PRIMARY SITES     ***********************")"~48;S1~
"KRN",.4,763,"H")
@
"KRN",.4,763,"IOM")
132
"KRN",.4,763,"LAST")
1
"KRN",.4,763,"ROU")
^ONCOX5
"KRN",.4,763,"ROUOLD")
ONCOX5
"KRN",.4,763,"SUB")
1
"KRN",.4,769,-1)
0^3
"KRN",.4,769,0)
ONCOX11^2970121.1354^^165.5^^@^2970121
"KRN",.4,769,"DXS",1,9)
X DXS(1,9.2) S X=$J("",$S($D(DIWR)+$D(DIWL)=2:DIWR-DIWL+1,$D(IOM):IOM,1:80)-$L(X)\2-$X)_X
"KRN",.4,769,"DXS",1,9.2)
S X="************************    FOLLOW-UP HISTORY    ************************"
"KRN",.4,769,"DXS",2,9.2)
S DIP(101)=$S($D(^ONCO(160,D0,1)):^(1),1:""),Y=$P(DIP(101),U,5) X:$D(^DD(160,21,2)) ^(2) S X=Y
"KRN",.4,769,"DXS",3,9.2)
S DIP(101)=$S($D(^ONCO(160,D0,1)):^(1),1:""),Y=$P(DIP(101),U,11) X:$D(^DD(160,24.5,2)) ^(2) S X=Y
"KRN",.4,769,"DXS",4,9.2)
S DIP(102)=$C(59)_$S($D(^DD(160,22.9,0)):$P(^(0),U,3),1:""),DIP(101)=$S($D(^ONCO(160,D0,1)):^(1),1:"") S X=$P($P(DIP(102),$C(59)_$P(DIP(101),U,13)_":",2),$C(59),1)
"KRN",.4,769,"DXS",5,0)
Patient alive at last follow-up
"KRN",.4,769,"DXS",5,8)
ICDA-8
"KRN",.4,769,"DXS",5,9)
ICD-9
"KRN",.4,769,"DXS",6,"D")
Directly related
"KRN",.4,769,"DXS",6,"I")
Indirectly related
"KRN",.4,769,"DXS",6,"N")
Not related
"KRN",.4,769,"DXS",6,"U")
Unknown
"KRN",.4,769,"F",1)
X DXS(1,9) W X K DIP;C30;S1;X;Z;"CENTER("************************    FOLLOW-UP HISTORY    ************************")"~150~"DATE of LAST CONTACT:  ";C5~
"KRN",.4,769,"F",2)
200;X~"TUMOR STATUS:  ";C45~95;X~W " ";C10;Z;"W " ""~
"KRN",.4,769,"F",3)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;"PATIENT NAME:"~-160,"ICD Revision:  ";C2~
"KRN",.4,769,"F",4)
-160,20;X~-160,"Place of Death:  ";C2~
"KRN",.4,769,"F",5)
-160,X DXS(2,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(PLACE OF DEATH)"~
"KRN",.4,769,"F",6)
-160,"Care Center at Death: ";C2~
"KRN",.4,769,"F",7)
-160,X DXS(3,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(CARE)"~
"KRN",.4,769,"F",8)
-160,"Autopsy:  ";C2~
"KRN",.4,769,"F",9)
-160,X DXS(4,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(AUTOPSY)"~
"KRN",.4,769,"F",10)
-160,"Autopsy Date/Time:  ";C2~-160,23;X~-160,"Autopsy No:  ";C2~-160,24;X~-160,"ICD Cause of Death:  ";C2~
"KRN",.4,769,"F",11)
-160,-80,^ICD9(^^S I(100,0)=D0 S DIP(101)=$S($D(^ONCO(160,D0,1)):^(1),1:"") S X=$P(DIP(101),U,3),X=X S D(0)=+X;Z;"ICD CAUSE OF DEATH:"~-160,-80,.01~
"KRN",.4,769,"F",12)
-160,-80,S DIP(201)=$S($D(^ICD9(D0,0)):^(0),1:"") S X=$P(DIP(201),U,3) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;Z;"LOWERCASE(DIAGNOSIS)"~
"KRN",.4,769,"F",13)
-160,"Cause of Death/Cancer:  ";C2~-160,18.9;X~-160,"Date of Death:  ";C2~-160,29;X~-160,"Path/autopsy: ";C2~-160,31,.01;X~-160,W " ";C1;Z;"W " ""~
"KRN",.4,769,"F",14)
-160,W "TUMOR Status at DEATH (Multiple Primaries)";C20;Z;"W "TUMOR Status at DEATH (Multiple Primaries)""~-160,W " ";C1;Z;"W " ""~-160,70;X~"  ";S1~
"KRN",.4,769,"F",15)
I $G(PRTPCE)=1 D PCEPRT^ONCOGEN;Z;"I $G(PRTPCE)=1 D PCEPRT^ONCOGEN"~
"KRN",.4,769,"H")
@
"KRN",.4,769,"IOM")
80
"KRN",.4,769,"LAST")

"KRN",.4,769,"ROU")
^ONCOX11
"KRN",.4,769,"ROUOLD")
ONCOX11
"KRN",.4,769,"SUB")
1
"KRN",.4,779,-1)
0^1
"KRN",.4,779,0)
ONCOY52^2970106.1227^^165.5^^@^2970106
"KRN",.4,779,"DXS",1,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,.04,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,4)_":",2),$C(59),1)
"KRN",.4,779,"DXS",2,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$S('$D(^ONCO(164.1,+$P(DIP(1),U,3),0)):"",1:$P(^(0),U,1))
"KRN",.4,779,"DXS",3,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:""),D0=$P(DIP(1),U,5) S:'$D(^ONCO(164.43,+D0,0)) D0=-1 S DIP(101)=$S($D(^ONCO(164.43,D0,0)):^(0),1:"")
"KRN",.4,779,"DXS",4,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:""),D0=$P(DIP(1),U,1) S:'$D(^ONCO(164,+D0,0)) D0=-1 S DIP(101)=$S($D(^ONCO(164,D0,0)):^(0),1:"")
"KRN",.4,779,"DXS",5,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$S('$D(^ONCO(164,+$P(DIP(1),U,1),0)):"",1:$P(^(0),U,1))
"KRN",.4,779,"DXS",6,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,28,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,8)_":",2),$C(59),1)
"KRN",.4,779,"DXS",7,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,26,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,6)_":",2),$C(59),1)
"KRN",.4,779,"DXS",8,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$S('$D(^ONCO(164.2,+$P(DIP(1),U,1),0)):"",1:$P(^(0),U,1))
"KRN",.4,779,"DXS",9,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,17) X:$D(^DD(165.5,5,2)) ^(2) S X=Y
"KRN",.4,779,"DXS",10,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,18) X:$D(^DD(165.5,6,2)) ^(2) S X=Y
"KRN",.4,779,"DXS",11,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,19) X:$D(^DD(165.5,7,2)) ^(2) S X=Y
"KRN",.4,779,"DXS",12,"I")
INFRATENTORIAL
"KRN",.4,779,"DXS",12,"S")
SUPRATENTORIAL
"KRN",.4,779,"DXS",13,"C")
Ciliary body
"KRN",.4,779,"DXS",13,"I")
Iris
"KRN",.4,779,"DXS",14,"L")
Lower 1/3
"KRN",.4,779,"DXS",14,"U")
Upper 2/3
"KRN",.4,779,"F",1)
"** CANCER IDENTIFICATION **";S1~"DX Date:  ";C15;S1~3;X;L8~"Class of Case:  ";C9~
"KRN",.4,779,"F",2)
X DXS(1,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(CLASS OF CASE)"~
"KRN",.4,779,"F",3)
"Histology:  ";C13~
"KRN",.4,779,"F",4)
X DXS(2,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(HISTOLOGY)"~
"KRN",.4,779,"F",5)
"Grade:";C17~24~X DXS(3,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) W X K DIP;C42;L35;Z;"GRADE:EXPLANATION"~"Tumor Marker 1:";C8~25.1~"Tumor Marker 2:";C8~
"KRN",.4,779,"F",6)
25.2~"ICDO-Site:  ";C13;S1~X DXS(4,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) W X K DIP;X;Z;"ICDO-TOPOGRAPHY:CODE"~" ";X~
"KRN",.4,779,"F",7)
X DXS(5,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(ICDO-TOPOGRAPHY)"~" ";X~
"KRN",.4,779,"F",8)
21.5;X~21.51;X~21.52;X~"Laterality:  ";C12~
"KRN",.4,779,"F",9)
X DXS(6,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(LATERALITY)"~
"KRN",.4,779,"F",10)
"DX Confirmation:  ";C7~
"KRN",.4,779,"F",11)
X DXS(7,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DIAGNOSTIC CONFIRMATION)"~
"KRN",.4,779,"F",12)
"Primary Site:  ";C10~
"KRN",.4,779,"F",13)
X DXS(8,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(SITE)"~
"KRN",.4,779,"F",14)
"Primary Sequence No:  ";C3~.06;X~"Dx Facility:  ";C11~
"KRN",.4,779,"F",15)
X DXS(9,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DX FACILITY)"~
"KRN",.4,779,"F",16)
"Referring Facility:  ";C4~
"KRN",.4,779,"F",17)
X DXS(10,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(REFERRING FACILITY)"~
"KRN",.4,779,"F",18)
"Transfer Facility:  ";C5~
"KRN",.4,779,"F",19)
X DXS(11,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(TRANSFER FACILITY)"~
"KRN",.4,779,"H")
@
"KRN",.4,779,"IOM")
80
"KRN",.4,779,"LAST")

"KRN",.4,779,"ROU")
^ONCOY52
"KRN",.4,779,"ROUOLD")
ONCOY52
"KRN",.4,779,"SUB")
1
"KRN",.402,898,-1)
0^2
"KRN",.402,898,0)
ONCO RECURRENCE FOLLOWUP^2970131.0914^^165.5^^^2970131
"KRN",.402,898,"DR",1,165.5)
D RE^ONCOAIF;71;S:X="" Y="@111";S XR="" I X'="" S XR=$P(^ONCO(160.12,X,0),"^",1);70;S:XR'=40 Y="@99" K XR;71.1;S:X=0 Y="@97";71.2;S:X=0 Y="@97";71.3;S Y="@99";@97;71.3////0;S Y="@99";@98;S $P(^ONCO(165.5,D0,5),U,3,5)="0^0^0";@99;
"KRN",.402,898,"DR",1,165.5,1)
93;D CN5^ONCOTN,CN6^ONCOTN;98;99;I '$D(SKAJCC) D CN5^ONCOTN;I SKAJCC S Y="@100";S STGIND="O" D ES^ONCOTN;@100;118;W !;72;@111;D STX^ONCOAIF;60;
"KRN",.402,898,"DR",2,165.51)
.01;.04;S:X="00" Y="@10";.041;S Y=.05;@10;.041////2000000;W !,?2,"CANCER-DIRECTED SURGERY DATE: 00/00/00";.05;S:(X=0)!(X=7) Y="@20";S:(X=8)!(X=9) Y="@29";.051;1;S Y=.03;@20;.051////2000000;W !,?2,"RADIATION DATE: 00/00/00";1///0;
"KRN",.402,898,"DR",2,165.51,1)
W !,?2,"RADIATION SEQUENCE: Not Applicable";S Y=.03;@29;.051////2999999;W !,?2,"RADIATION DATE: 99/99/99";1///0;W !,?2,"RADIATION SEQUENCE: Not Applicable";.03;S:(X=0)!(X=7) Y="@30";S:(X=8)!(X=9) Y="@39";.031;S Y=.06;@30;
"KRN",.402,898,"DR",2,165.51,2)
.031////2000000;W !,?2,"RADIATION THERAPY TO CNS DATE: 00/00/00";S Y=.06;@39;.031////2999999;W !,?2,"RADIATION THERAPY TO CNS DATE: 99/99/99";.06;S:(X=0)!(X=7) Y="@40";S:(X=8)!(X=9) Y="@49";.061;S Y=.07;@40;.061////2000000;
"KRN",.402,898,"DR",2,165.51,3)
W !,?2,"CHEMOTHERAPY DATE: 00/00/00";S Y=.07;@49;.061////2999999;W !,?2,"CHEMOTHERAPY DATE: 99/99/99";.07;S:(X=0)!(X=7) Y="@50";S:(X=8)!(X=9) Y="@59";.071;S Y=.08;@50;.071////2000000;W !,?2,"HORMONE/STEROID DATE: 00/00/00";S Y=.08;
"KRN",.402,898,"DR",2,165.51,4)
@59;.071////2999999;W !,?2,"HORMONE/STEROID DATE: 99/99/99";.08;I X'="" S:($P(^ONCO(160.5,X,0),"^",1)=0)!($P(^ONCO(160.5,X,0),"^",1)=7) Y="@60";I X'="" S:($P(^ONCO(160.5,X,0),"^",1)=8)!($P(^ONCO(160.5,X,0),"^",1)=9) Y="@69";.081;
"KRN",.402,898,"DR",2,165.51,5)
S Y=.09;@60;.081////2000000;W !,?2,"IMMUNOTHERAPY DATE: 00/00/00";S Y=.09;@69;.081////2999999;W !,?2,"IMMUNOTHERAPY DATE: 99/99/99";.09;S:(X=0)!(X=7) Y="@70";S:(X=8)!(X=9) Y="@79";.091;S Y=2;@70;.091////2000000;
"KRN",.402,898,"DR",2,165.51,6)
W !,?2,"OTHER CANCER THERAPY DATE: 00/00/00";S Y=2;@79;.091////2999999;W !,?2,"OTHER CANCER THERAPY DATE: 99/99/99";2;3;
"KRN",.402,898,"DR",2,165.572)
.01;S:X="" Y="@111";.02;I X'="" S:$P(^ONCO(160.12,X,0),"^",1)'=40 Y="@110";S:X="" Y="@110";.03;S:X=0 Y="@110";.031;S:X=0 Y="@110";.032;@110;1;D RECN5^ONCOTN,RECN6^ONCOTN;2;3;I '$D(SKAJCC) D RECN5^ONCOTN;I SKAJCC S Y="@1105";
"KRN",.402,898,"DR",2,165.572,1)
S STGIND="R" D ES^ONCOTN;@1105;5;@1107;
"KRN",.402,899,-1)
0^1
"KRN",.402,899,0)
ONCO ABSTRACT-I^2970110.1411^^165.5^^^2970204
"KRN",.402,899,"%D",0)
^^2^2^2960125^^^^
"KRN",.402,899,"%D",1,0)
Template for complete abstract for fields in Primary file: data relevant
"KRN",.402,899,"%D",2,0)
to particular cancer only as opposed to specific to Patient.
"KRN",.402,899,"DIAB",1,1,165.52,0)
ALL
"KRN",.402,899,"DR",1,165.5)
@0;D MEN^ONCOAIP;.01;.05;.06;.07;S Y="@0";@1;D PAT^ONCOAIP;.03///^S X=IIN;W !,"REPORTING HOSPITAL: "_RH;11;8;8.1;16;9;10;2;2.1;S:'X Y="@190";2.2;S:'X Y="@190";2.3;S:'X Y="@190";2.4;@190;18;S Y=$S(ONCOANS="A":"@2",1:"@0");@2;
"KRN",.402,899,"DR",1,165.5,1)
D CAN^ONCOAIP;3;.04;I (X=5)!(X=8) D ^ONCOCC;6;7;D ADM^ONCOCON;1//^S X=$G(ONCOAD);S X=X;1.1//^S X=$G(ONCODD);1.2;5;20;D PAIR^ONCOAIP;S ONCOICD=X;S Y=$$TOP^ONCOAIT;21.5;S Y=100;21.51;S Y=100;21.52;100;28;22;101;24;
"KRN",.402,899,"DR",1,165.5,2)
D TMARKER^ONCOU55 I TM1=0 S Y="@26";25.1;I TM2=0 S Y="@27";25.2;S Y=26;@26;25.1///9;W !,"TUMOR MARKER ONE: Unknown or no information";@27;25.2///9;W !,"TUMOR MARKER TWO: Unknown or no information";26;104;105;106;116;103;107;
"KRN",.402,899,"DR",1,165.5,3)
S Y=$S(ONCOANS="A":"@3",1:"@0");@3;D EXT^ONCOAIP;@310;20;101;@3105;D MO^ONCOAIP;41;S Y=30;29;30;D AIDS^ONCOAIP2;@301;41;@302;D BLOOD^ONCOAIP2;30.5;@31;D LN^ONCOAIP;31;S L=X;S:X<9 Y="@311";33;S X=X;32;S Y=34;@311;33;
"KRN",.402,899,"DR",1,165.5,4)
S Y=$S(X=0:32,X=99:"@313",1:"@312");32////98;W !,"REGIONAL NODES POSITIVE: No nodes examined";S Y=34;@313;32;S Y=34;@312;32;34;S:X=0 Y="@320";34.1;S:X=0 Y="@321";34.2;S Y="@322";@320;34.1////0;W !,"METASTASIS 2: None";@321;
"KRN",.402,899,"DR",1,165.5,5)
34.2////0;W !,"METASTASIS 3: None";@322;S Y=$E($P(^ONCO(165.5,D0,2),U,3),5),Y=$S(Y=2!(Y=6):"@323",1:35);35;@323;D CK^ONCOTN;69;S:$P($G(^ONCO(165.5,D0,2)),U)'=67692 Y="@36";69.1;69.2;@36;Q;37.1;D CN1^ONCOTN,CN2^ONCOTN;37.2;37.3;
"KRN",.402,899,"DR",1,165.5,6)
I '$D(SKAJCC) D CN1^ONCOTN;I SKAJCC=1 S Y="@365";S STGIND="C" D ES^ONCOTN;Q;@365;I DATEDX<2960101 S Y="@37";19;W !;@37;85;D CN3^ONCOTN,CN4^ONCOTN;86;87;I '$D(SKAJCC) D CN3^ONCOTN;I SKAJCC=1 S Y="@375";S STGIND="P" D ES^ONCOTN;@375;
"KRN",.402,899,"DR",1,165.5,7)
I DATEDX<2960101 S Y="@38";89;W !;S Y="@38";38;I DATEDX<2960101 S Y=88;19;88;I DATEDX<2960101 S Y="@38";89;@38;39;S Y=$S(ONCOANS="A":"@4",1:"@0");@4;S:$P(^ONCO(165.5,D0,0),U,4)=5 Y="@8";D FST^ONCOAIP;58.1;S SR=+X;
"KRN",.402,899,"DR",1,165.5,8)
I (X="0")!(X="00") S Y="@5830";I (X=9)!(X="09") S Y="@5839";58.3;S Y=58.2;@5830;58.3////2000000;W !,"NON CANCER-DIRECTED SURG DATE: 00/00/00";S Y=58.2;@5839;58.3////2999999;W !,"NON CANCER-DIRECTED SURG DATE: 99/99/99";58.2;
"KRN",.402,899,"DR",1,165.5,9)
S SR=+X;I X="00" S Y="@58";58///0;50;S SD=X;I DATEDX<2960101 S Y=50.1;23;50.1;108;I DATEDX<2951231 S Y=59;74;59;D RFNS^ONCOAIP;S Y="@415";@58;50////2000000;W !,"CANCER-DIRECTED SURGERY DATE: 00/00/00";I DATEDX<2960101 S Y="@59";
"KRN",.402,899,"DR",1,165.5,10)
23///8;W !,"RECONSTRUCTIVE SURGERY: Not applicable, no cancer-directed surgery performed";74///0;W !,"SURGICAL APPROACH: No surgery performed";@59;59///8;W !,"RESIDUAL TUMOR: Not Applicable/Systemic Disease";58;@415;D R^ONCOAIP;
"KRN",.402,899,"DR",1,165.5,11)
51.2;S R1=$S(X&(X<7):1,1:0);I X="" S Y="@418";I (X=0)!(X=7) S Y="@510";I (X=8)!(X=9) S Y="@519";I DATEDX<2960101 S Y=51;75///0;51;S R1D=X;51.1;109;80;D RFNR^ONCOAIP;S Y="@418";@510;51////2000000;W !,"RADIATION DATE: 00/00/00";
"KRN",.402,899,"DR",1,165.5,12)
I DATEDX<2960101 S Y="@418";75;S Y="@418";@519;51////2999999;W !,"RADIATION DATE: 99/99/99";@418;D CNS^ONCOAIP;52.2;S R2=$S(X=1:X,1:0);I X="" S Y="@420";I (X=0)!(X=7) S Y="@520";I X=8 S Y="@529";
"KRN",.402,899,"DR",1,165.5,13)
I X=9,(S=31!(S>65&(S<70))) S Y="@529";I X=9 S Y="@520";52;S R2D=X;52.1;110;S Y="@420";@520;52////2000000;W !,"RADIATION THERAPY TO CNS DATE: 00/00/00";S Y="@420";@529;52////2999999;W !,"RADIATION THERAPY TO CNS DATE: 99/99/99";
"KRN",.402,899,"DR",1,165.5,14)
@420;S Y=$S($G(SR)>9&$G(R1):"@426",$G(SR)>9&$G(R2):"@426",1:"@425");@425;51.3////0;W !,"RADIATION/SURGERY SEQUENCE: No radiation and/or surgery";S Y="@430";@426;D RS^ONCOAIP;S X=X;51.3;@430;D C^ONCOAIP;53.2;I X="" S Y="@440";
"KRN",.402,899,"DR",1,165.5,15)
I (X=0)!(X=7) S Y="@530";I (X=8)!(X=9) S Y="@539";I DATEDX<2960101 S Y=53;76///0;53;53.1;111;D RFNC^ONCOAIP;S Y="@440";@530;53////2000000;W !,"CHEMOTHERAPY DATE: 00/00/00";I DATEDX<2960101 S Y="@440";76;S Y="@440";@539;
"KRN",.402,899,"DR",1,165.5,16)
53////2999999;W !,"CHEMOTHERAPY DATE: 99/99/99";@440;D H^ONCOAIP;54.2;I X="" S Y="@450";I (X=0)!(X=7) S Y="@540";I (X=8)!(X=9) S Y="@549";I DATEDX<2960101 S Y=54;77///0;54;54.1;112;D RFNHT^ONCOAIP;S Y="@450";@540;54////2000000;
"KRN",.402,899,"DR",1,165.5,17)
W !,"HORMONE THERAPY DATE: 00/00/00";I DATEDX<2960101 S Y="@450";77;S Y="@450";@549;54////2999999;W !,"HORMONE THERAPY DATE: 99/99/99";@450;D O^ONCOAIP;55.2;I X="" S Y=57.2;
"KRN",.402,899,"DR",1,165.5,18)
I ($P(^ONCO(160.5,X,0),U,1)=0)!($P(^ONCO(160.5,X,0),U,1)=7) S Y="@451";I "89"[$P(^ONCO(160.5,X,0),U,1) S Y="@452";55;55.1;114;S Y=57.2;@451;55////2000000;W !,"IMMUNOTHERAPY DATE: 00/00/00";S Y=57.2;@452;55////2999999;
"KRN",.402,899,"DR",1,165.5,19)
W !,"IMMUNOTHERAPY DATE: 99/99/99";57.2;I X="" S Y=113;I (X=0)!(X=7) S Y="@453";I "89"[X S Y="@454";57;57.1;115;S Y=113;@453;57////2000000;W !,"OTH CANCER-DIRECTED TPY DATE: 00/00/00";S Y=113;@454;57////2999999;
"KRN",.402,899,"DR",1,165.5,20)
W !,"OTH CANCER-DIRECTED TPY DATE: 99/99/99";113;S Y=$S(ONCOANS="A":"@5",1:"@0");@5;D ^ONCOPCE;S Y=$S(ONCOANS="A":"@8",1:"@0");@8;D AB^ONCOAIP;90//^S X=$P(DT,".");91;94////^S X=$P(DT,".");
"KRN",.402,899,"DR",1,165.5,21)
W !,"REPORTING DATE: "_$E(DT,4,5)_"/"_$E(DT,6,7)_"/"_$E(DT,2,3);S X=$P(^VA(200,DUZ,0),U,1);92//^S X=X;96////^S X=DUZ;W !,"ENTERED BY: "_$P(^VA(200,DUZ,0),U,1);W !!;65;S:X="" Y="@500";66;@500;S:$P(^ONCO(165.5,D0,7),U,4)="" Y="@505";
"KRN",.402,899,"DR",1,165.5,22)
W !!?5,"Selected for QA=>",!;63;S:X="N" Y="@505";64;@505;D DD^ONCOAIP;S Y="";62;
"KRN",.402,899,"DR",2,165.52)
.01:9
"KRN",.402,899,"DR",3,165.529)
.01
"OER",123,0)
123^GMRA^1^
"OER",123,1,0)
^100.9951PA^1^1
"OER",123,1,1,0)
115
"OER",123,1,1,1,0)
^100.99511PA^1^1
"OER",123,1,1,1,1,0)
110
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",123,-1)
1^1
"PKG",123,0)
ONCOLOGY^ONCO^Oncology treatment tracking & tumor registry package.
"PKG",123,22,0)
^9.49I^1^1
"PKG",123,22,1,0)
2.11^2950307^2951204
"PKG",123,22,1,"PAH",1,0)
7
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
16
"RTN","ONCBPC6")
0^11^B4771682
"RTN","ONCBPC6",1,0)
ONCBPC6 ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder - Table VI;7/22/96
"RTN","ONCBPC6",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCBPC6",3,0)
 K TABLE,HTABLE
"RTN","ONCBPC6",4,0)
 S TABLE("DATE OF LAST CONTACT OR DEATH")="DLC"
"RTN","ONCBPC6",5,0)
 S TABLE("VITAL STATUS")="VS"
"RTN","ONCBPC6",6,0)
 S TABLE("CANCER STATUS")="CS"
"RTN","ONCBPC6",7,0)
 S TABLE("COMPLETED BY")="CB"
"RTN","ONCBPC6",8,0)
 S TABLE("REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCBPC6",9,0)
 S HTABLE(1)="DATE OF LAST CONTACT OR DEATH"
"RTN","ONCBPC6",10,0)
 S HTABLE(2)="VITAL STATUS"
"RTN","ONCBPC6",11,0)
 S HTABLE(3)="CANCER STATUS"
"RTN","ONCBPC6",12,0)
 S HTABLE(4)="COMPLETED BY"
"RTN","ONCBPC6",13,0)
 S HTABLE(5)="REVIEWED BY CANCER COMMITTEE"
"RTN","ONCBPC6",14,0)
 S CHOICES=5
"RTN","ONCBPC6",15,0)
 W @IOF D HEAD^ONCPPC0 W !?23,"TABLE VI - STATUS AT LAST CONTACT",!
"RTN","ONCBPC6",16,0)
DLC S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCBPC6",17,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCBPC6",18,0)
 W !,"DATE OF LAST CONTACT OR DEATH.......: ",DLC
"RTN","ONCBPC6",19,0)
VS S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCBPC6",20,0)
 S DR="15VITAL STATUS........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC6",21,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCBPC6",22,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCBPC6",23,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCBPC6",24,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCBPC6",25,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCBPC6",26,0)
 W !,"CANCER STATUS.......................: ",CS
"RTN","ONCBPC6",27,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC6",28,0)
 S DR="81COMPLETED BY........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC6",29,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC6",30,0)
 S DR="82REVIEWED BY CANCER COMMITTEE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC6",31,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC6",32,0)
 G EXIT
"RTN","ONCBPC6",33,0)
JUMP ;Jump to prompts
"RTN","ONCBPC6",34,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBPC6",35,0)
 I X["?" D  G JUMP
"RTN","ONCBPC6",36,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC6",37,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC6",38,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC6",39,0)
 S X=TABLE(X)
"RTN","ONCBPC6",40,0)
 G @X
"RTN","ONCBPC6",41,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBPC6",42,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCBPC6",43,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBPC6",44,0)
 Q
"RTN","ONCOAIP")
0^6^B50006571
"RTN","ONCOAIP",1,0)
ONCOAIP ;HINES IRMFO/GWB,RTK-ONCO ABSTRACT-I  2/5/96  10:33
"RTN","ONCOAIP",2,0)
 ;;2.11;ONCOLOGY;**1,5,6,7**;Mar 07, 1995
"RTN","ONCOAIP",3,0)
ED ;Entry Edit Primary-call from ONCOAI
"RTN","ONCOAIP",4,0)
 W @IOF,!!!?10,"***************** Edit Primary ****************",!!!
"RTN","ONCOAIP",5,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQZM",DIC("A")="      Select Accession/Sequence# (or Patient name): " D ^DIC K DIC G EX:Y<0 S ONCOD0P=+Y,ONCOD0=$P(^ONCO(165.5,+Y,0),U,2),ONCOEDIT=1
"RTN","ONCOAIP",6,0)
EN ;ENTRY from ONCOAI:New primary, Add data
"RTN","ONCOAIP",7,0)
 I '$D(^ONCO(160.1,"AJ")) W *7,!!?10,"Define YEAR for AJCC 4th Edition in Site Parameters File" G EX
"RTN","ONCOAIP",8,0)
 D YR^ONCOTN(ONCOD0P) ;get diagnosis year, etc.
"RTN","ONCOAIP",9,0)
 S DIE="^ONCO(165.5,",DA=ONCOD0P,DR="[ONCO ABSTRACT-I]",ONCOL1=0
"RTN","ONCOAIP",10,0)
 L +^ONCO(165.5,DA):0 I $T D ^DIE L -^ONCO(165.5,DA) S ONCOL1=1
"RTN","ONCOAIP",11,0)
 I 'ONCOL1 W !,"Primary being edited by another user" Q:'$D(ONCOEDIT)  K ONCOL1 G ED
"RTN","ONCOAIP",12,0)
 K ONCOL1
"RTN","ONCOAIP",13,0)
 I $D(ONCOOUT) Q
"RTN","ONCOAIP",14,0)
 I $D(Y) Q:'$D(ONCOEDIT)  G ED
"RTN","ONCOAIP",15,0)
 S Y=$P(^ONCO(165.5,D0,0),U,4) I Y<3!(Y=5)!(Y=8) K DIR S DIR("A")="Data OK",DIR(0)="Y" D ^DIR G EN:Y=0
"RTN","ONCOAIP",16,0)
 Q
"RTN","ONCOAIP",17,0)
PAIR ;PAIRED ORGAN TEST
"RTN","ONCOAIP",18,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOAIP",19,0)
 Q:TOP=""
"RTN","ONCOAIP",20,0)
 S PO=$P($G(^ONCO(164,TOP,0)),U,7)
"RTN","ONCOAIP",21,0)
 I PO="" S $P(^ONCO(165.5,D0,2),U,8)=0
"RTN","ONCOAIP",22,0)
 K PO
"RTN","ONCOAIP",23,0)
 Q
"RTN","ONCOAIP",24,0)
MEN ;Primary File Sub-Menu
"RTN","ONCOAIP",25,0)
SUB K DXS,ONCOOUT,DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCOAIP",26,0)
 S NODE0=^ONCO(165.5,D0,0)
"RTN","ONCOAIP",27,0)
 S S=$P(NODE0,U,1),SITEGP=$P(^ONCO(164.2,S,0),U,1)
"RTN","ONCOAIP",28,0)
 S Y=$P(NODE0,U,2),C=$P(^DD(165.5,.02,0),U,2) D Y^DIQ S PATNAM=Y
"RTN","ONCOAIP",29,0)
 S SAVED0=D0 S D0=$P(NODE0,U,2) D SSN^ONCOES S SSN=X,D0=SAVED0
"RTN","ONCOAIP",30,0)
 S DATEDX=$P(NODE0,U,16)
"RTN","ONCOAIP",31,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD="",TOPNAM=""
"RTN","ONCOAIP",32,0)
 I TOP'="" S TOPNAM=$P(^ONCO(164,TOP,0),U,1),TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOAIP",33,0)
 S TOPTAB=79-$L(TOPNAM),TTAB=79-$L(TOPCOD)
"RTN","ONCOAIP",34,0)
 S NOS=TOPTAB-$L(PATNAM),NOS=NOS-1 K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOAIP",35,0)
 W @IOF,!,?1,PATNAM,?TOPTAB,TOPNAM,!,?1,SSN,?TTAB,TOPCOD,!,DASHES
"RTN","ONCOAIP",36,0)
 S HDL=$L("Primary Sub-menu Options"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",37,0)
 W !,?TAB,"Primary Sub-menu Options",!,DASHES
"RTN","ONCOAIP",38,0)
 W !?20,"1.  Patient Identification"
"RTN","ONCOAIP",39,0)
 W !?20,"2.  Cancer Identification"
"RTN","ONCOAIP",40,0)
 W !?20,"3.  Stage of Disease at Diagnosis"
"RTN","ONCOAIP",41,0)
 W !?20,"4.  First Course of Treatment"
"RTN","ONCOAIP",42,0)
 W !?20,"5.  Patient Care Evaluation"
"RTN","ONCOAIP",43,0)
 W !!?20,"A   All - Complete Abstract"
"RTN","ONCOAIP",44,0)
A K AN,ONCOANS,X,Y R !!?26,"Enter option: All//",X:DTIME S:X="" (ONCOANS,X)="A" G:X["?" HP I X=U!'$T S Y="",ONCOOUT=U Q
"RTN","ONCOAIP",45,0)
 ;I X?1.A S X=$E(X),ONCOANS=X,Y=$S("Pp"[X:1,"Cc"[X:2,"Ss"[X:3,"Ff"[X:4,"Aa"[X:1,1:"") G:'(Y="") Y W *7,"??" G A
"RTN","ONCOAIP",46,0)
 I X?1.A S X=$E(X),ONCOANS=X,Y=$S("Aa"[X:1,1:"") G:'(Y="") Y W *7,"??" G A
"RTN","ONCOAIP",47,0)
 ;I ((X<1)!(X>5))&("Aa"'[X) W !,"ERROR" H 5 G A
"RTN","ONCOAIP",48,0)
N ;# answer
"RTN","ONCOAIP",49,0)
 S (ONCOANS,Y)=X I X<1!(X>5) W *7,"??" G A
"RTN","ONCOAIP",50,0)
Y S Y="@"_Y Q
"RTN","ONCOAIP",51,0)
HP ;HELP message
"RTN","ONCOAIP",52,0)
 W !!,?10,"Select 'A' for the complete abstract"
"RTN","ONCOAIP",53,0)
 W !?10,"Select the appropriate number (1-5) for the desired subsection",! G A
"RTN","ONCOAIP",54,0)
PAT W @IOF,!,?1,PATNAM,?TOPTAB,TOPNAM,!,?1,SSN,?TTAB,TOPCOD,!,DASHES
"RTN","ONCOAIP",55,0)
 S HDL=$L("Patient Identification"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",56,0)
 W !,?TAB,"Patient Identification",!,DASHES
"RTN","ONCOAIP",57,0)
 S OSPIEN=$O(^ONCO(160.1,0)),IIN=""
"RTN","ONCOAIP",58,0)
 I $D(^ONCO(160.1,OSPIEN,1)) S IIN=$P(^ONCO(160.1,OSPIEN,1),U,4)
"RTN","ONCOAIP",59,0)
 S YSAV=Y S Y=IIN,C=$P(^DD(165.5,.03,0),U,2) D Y^DIQ S RH=Y,Y=YSAV
"RTN","ONCOAIP",60,0)
 K OSPIEN
"RTN","ONCOAIP",61,0)
 K DXS,DIOT D ^ONCOY51 W !
"RTN","ONCOAIP",62,0)
 Q
"RTN","ONCOAIP",63,0)
CAN W @IOF,!,?1,PATNAM,?TOPTAB,TOPNAM,!,?1,SSN,?TTAB,TOPCOD,!,DASHES
"RTN","ONCOAIP",64,0)
 S HDL=$L("Cancer Identification"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",65,0)
 W !,?TAB,"Cancer Identification",!,DASHES
"RTN","ONCOAIP",66,0)
 K DXS,DIOT S D0=ONCOD0P D ^ONCOY52 W !
"RTN","ONCOAIP",67,0)
 Q
"RTN","ONCOAIP",68,0)
EXT W @IOF,!,?1,PATNAM,?TOPTAB,TOPNAM,!,?1,SSN,?TTAB,TOPCOD,!,DASHES
"RTN","ONCOAIP",69,0)
 S HDL=$L("Stage of Disease at Diagnosis"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",70,0)
 W !,?TAB,"Stage of Disease at Diagnosis",!,DASHES
"RTN","ONCOAIP",71,0)
 ;S=site group;T=ICDO Topography;H=Histology
"RTN","ONCOAIP",72,0)
2 S SY="@3105",S=$P(^ONCO(165.5,D0,0),U,1),N2=$G(^(2)),T=$P(N2,U,1) I T="" S Y="@310" W *7,?15,"ICDO CODE is NOT defined - CANNOT continue",!! Q
"RTN","ONCOAIP",73,0)
 S H=$P(N2,U,3) I ($E(H,1,3)>958)&($E(H,1,3)<972) G 1
"RTN","ONCOAIP",74,0)
3 I (S=35)!($$LEUKEMIA^ONCOAIP2(D0))!((S>64)&(S<71)) D
"RTN","ONCOAIP",75,0)
 . S M=$E($P(N2,U,3),1,4) ;histology code
"RTN","ONCOAIP",76,0)
 . S N=$S(M=9731:"999^10^9",1:"999^80^9") ;PLASMACYTOMA NOS
"RTN","ONCOAIP",77,0)
 . I S=65 S N="999^99^9" ;Unknown primary
"RTN","ONCOAIP",78,0)
 . S N=$S(S=65:N_"^99^99^9^0^0^9",1:N_"^99^99^9^0^0^7") ;Unknown primary
"RTN","ONCOAIP",79,0)
 . I (T=67422)&(L'=1)&(H'=91403) S $P(N,U,2)=99,$P(N,U,9)=9 ;Spleen
"RTN","ONCOAIP",80,0)
 . S $P(^ONCO(165.5,D0,2),U,9,17)=N
"RTN","ONCOAIP",81,0)
 . S $P(^ONCO(165.5,D0,2),U,20)=88
"RTN","ONCOAIP",82,0)
 . S $P(^ONCO(165.5,D0,2),U,25)=88
"RTN","ONCOAIP",83,0)
 . S $P(^ONCO(165.5,D0,2),U,26)=88
"RTN","ONCOAIP",84,0)
 . S $P(^ONCO(165.5,D0,2),U,27)=88
"RTN","ONCOAIP",85,0)
 . S $P(^ONCO(165.5,D0,2.1),U,1)=88
"RTN","ONCOAIP",86,0)
 . S $P(^ONCO(165.5,D0,2.1),U,2)=88
"RTN","ONCOAIP",87,0)
 . S $P(^ONCO(165.5,D0,2.1),U,3)=88
"RTN","ONCOAIP",88,0)
 . S $P(^ONCO(165.5,D0,2.1),U,4)=88
"RTN","ONCOAIP",89,0)
 . S $P(^ONCO(165.5,D0,2.1),U,5)=0
"RTN","ONCOAIP",90,0)
 . S $P(^ONCO(165.5,D0,3),U,32)=0
"RTN","ONCOAIP",91,0)
 . S SY=39 W:$P(N,U,2)'=99 !?18,"====> SYSTEMIC DISEASE - No AJCC coding <====",!!
"RTN","ONCOAIP",92,0)
1 I S=58 S $P(^ONCO(165.5,D0,2),U,11,13)="9^99^99"
"RTN","ONCOAIP",93,0)
 K DXS,DIOT S D0=ONCOD0P D ^ONCOY53
"RTN","ONCOAIP",94,0)
 W ! S Y=SY K DXS
"RTN","ONCOAIP",95,0)
 Q
"RTN","ONCOAIP",96,0)
MO ;check
"RTN","ONCOAIP",97,0)
 S S=$P(^ONCO(165.5,D0,0),U),M=$E($P($G(^(2)),U,3),1,4) S Y=$S(S=62:30,S=63:30,S=40:30,M=9140:41,1:29) Q:Y=29  S $P(^ONCO(165.5,D0,2),U,9)=999
"RTN","ONCOAIP",98,0)
 Q
"RTN","ONCOAIP",99,0)
LN ;check brain
"RTN","ONCOAIP",100,0)
 S S=$P(^ONCO(165.5,D0,0),U) S Y=$S(S=58:34,1:31)
"RTN","ONCOAIP",101,0)
 Q
"RTN","ONCOAIP",102,0)
 K DXS
"RTN","ONCOAIP",103,0)
FST W @IOF,!,?1,PATNAM,?TOPTAB,TOPNAM,!,?1,SSN,?TTAB,TOPCOD,!,DASHES
"RTN","ONCOAIP",104,0)
 S HDL=$L("First Course of Treatment"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",105,0)
 W !,?TAB,"First Course of Treatment",!,DASHES
"RTN","ONCOAIP",106,0)
 ;I $P(^ONCO(165.5,D0,0),U,4)=5 S Y="@8" Q
"RTN","ONCOAIP",107,0)
 K DXS,DIOT S D0=ONCOD0P D ^ONCOY54
"RTN","ONCOAIP",108,0)
 W !,?5,"1. Surgical Treatment",!
"RTN","ONCOAIP",109,0)
 Q
"RTN","ONCOAIP",110,0)
RFNS ;Reason For No Surgery
"RTN","ONCOAIP",111,0)
 N Y
"RTN","ONCOAIP",112,0)
 S Y=$P(^ONCO(165.5,D0,3),U,26),C=$P(^DD(165.5,58,0),U,2) D Y^DIQ
"RTN","ONCOAIP",113,0)
 W !,"REASON FOR NO SURGERY: ",$P(^ONCO(165.5,D0,3),U,26),"  ",Y
"RTN","ONCOAIP",114,0)
 Q
"RTN","ONCOAIP",115,0)
RFNR ;Reason For No Radiation
"RTN","ONCOAIP",116,0)
 S RFNPTR=$P(^ONCO(165.5,D0,3),U,35) G:RFNPTR="" RFNREX
"RTN","ONCOAIP",117,0)
 S RFNCOD=$P(^ONCO(160.7,RFNPTR,0),U,1)
"RTN","ONCOAIP",118,0)
 S RFNDEF=$P(^ONCO(160.7,RFNPTR,0),U,2)
"RTN","ONCOAIP",119,0)
 W !,"REASON FOR NO RADIATION: ",RFNCOD,"  ",RFNDEF
"RTN","ONCOAIP",120,0)
RFNREX K RFNPTR,RFNCOD,RFNDEF
"RTN","ONCOAIP",121,0)
 Q
"RTN","ONCOAIP",122,0)
RFNC ;Reason For No Chemotherapy
"RTN","ONCOAIP",123,0)
 S RFNPTR=$P(^ONCO(165.5,D0,3),U,36) G:RFNPTR="" RFNCEX
"RTN","ONCOAIP",124,0)
 S RFNCOD=$P(^ONCO(160.8,RFNPTR,0),U,1)
"RTN","ONCOAIP",125,0)
 S RFNDEF=$P(^ONCO(160.8,RFNPTR,0),U,2)
"RTN","ONCOAIP",126,0)
 W !,"REASON FOR NO CHEMOTHERAPY: ",RFNCOD,"  ",RFNDEF
"RTN","ONCOAIP",127,0)
RFNCEX K RFNPTR,RFNCOD,RFNDEF
"RTN","ONCOAIP",128,0)
 Q
"RTN","ONCOAIP",129,0)
RFNHT ;Reason For No Hormone Therapy
"RTN","ONCOAIP",130,0)
 S RFNPTR=$P(^ONCO(165.5,D0,3),U,37) G:RFNPTR="" RFNHTEX
"RTN","ONCOAIP",131,0)
 S RFNCOD=$P(^ONCO(160.9,RFNPTR,0),U,1)
"RTN","ONCOAIP",132,0)
 S RFNDEF=$P(^ONCO(160.9,RFNPTR,0),U,2)
"RTN","ONCOAIP",133,0)
 W !,"REASON FOR NO HORMONE THERAPY: ",RFNCOD,"  ",RFNDEF
"RTN","ONCOAIP",134,0)
RFNHTEX K RFNPTR,RFNCOD,RFNDEF
"RTN","ONCOAIP",135,0)
 Q
"RTN","ONCOAIP",136,0)
R ;Radiation Therapy
"RTN","ONCOAIP",137,0)
RR W !!?5,"2. Radiation Therapy",!
"RTN","ONCOAIP",138,0)
 Q
"RTN","ONCOAIP",139,0)
CNS ;Radiation Therapy to CNS
"RTN","ONCOAIP",140,0)
 S X=9,S=$P(^ONCO(165.5,D0,0),U)
"RTN","ONCOAIP",141,0)
 I S=31!(S>65&(S<70)) S CC=$P(^(0),U,4),X=$S(CC=5:0,CC=8:9,1:"") I X="" S Y=52.2 Q
"RTN","ONCOAIP",142,0)
 S $P(^ONCO(165.5,D0,3),U,10)=X
"RTN","ONCOAIP",143,0)
 W !,"RADIATION THERAPY TO CNS: Unknown/NA"
"RTN","ONCOAIP",144,0)
 S R2=0,Y="@520"
"RTN","ONCOAIP",145,0)
 Q
"RTN","ONCOAIP",146,0)
RS ;Radiation/Surgery Sequence
"RTN","ONCOAIP",147,0)
 S SURDT=$P($G(^ONCO(165.5,D0,3)),U,1)
"RTN","ONCOAIP",148,0)
 S RADDT=$P($G(^ONCO(165.5,D0,3)),U,4)
"RTN","ONCOAIP",149,0)
 I RADDT<SURDT S $P(^ONCO(165.5,D0,3),U,7)=2
"RTN","ONCOAIP",150,0)
 I RADDT>SURDT S $P(^ONCO(165.5,D0,3),U,7)=3
"RTN","ONCOAIP",151,0)
 K SURDT,RADDT
"RTN","ONCOAIP",152,0)
 Q
"RTN","ONCOAIP",153,0)
C K DXS,DIOT S D0=ONCOD0P D ^ONCOY55 W !
"RTN","ONCOAIP",154,0)
CC W !!?5,"3. Chemotherapy",! Q
"RTN","ONCOAIP",155,0)
H W !!?5,"4. Hormone Therapy",! Q
"RTN","ONCOAIP",156,0)
O W !!?5,"5. Other Types of Therapy",! Q
"RTN","ONCOAIP",157,0)
AB W @IOF,!,?1,PATNAM,?TOPTAB,TOPNAM,!,?1,SSN,?TTAB,TOPCOD,!,DASHES
"RTN","ONCOAIP",158,0)
 S HDL=$L("Abstract Status"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",159,0)
 W !,?TAB,"Abstract Status",!,DASHES Q
"RTN","ONCOAIP",160,0)
DD S X=$E(DT,4,5)_"/"_$E(DT,6,7)_"/"_$E(DT,2,3)
"RTN","ONCOAIP",161,0)
 W !!,"Abstracted by: "_$P(^VA(200,DUZ,0),U),!,"Reporting date: ",X,!
"RTN","ONCOAIP",162,0)
 N DIR,Y S DIR(0)="E" D ^DIR
"RTN","ONCOAIP",163,0)
 Q
"RTN","ONCOAIP",164,0)
NAN ;NEW ACCESSION #
"RTN","ONCOAIP",165,0)
 K DIR S DIR(0)="N^:"_$E(DT,2,3),DIR("A")="YEAR of Accession Number: ",DIR("B")=$E(DT,2,3) W !! D ^DIR Q:(Y=U)!(Y="")
"RTN","ONCOAIP",166,0)
NA S YR=Y,MR=YR_"0001",XR=999999-((YR+1)_"0000"),NR=$O(^ONCO(165.5,"AF",XR))
"RTN","ONCOAIP",167,0)
 I NR<(990002-MR) W *7,!!?5,"SYSTEM appears out of numbers-looking for unassigned ones" G FND
"RTN","ONCOAIP",168,0)
 I NR>(999999-MR) S NR=""
"RTN","ONCOAIP",169,0)
 S AC=$S(NR="":YR_"0001",1:(1000000-NR)),SEQ="00"
"RTN","ONCOAIP",170,0)
 Q
"RTN","ONCOAIP",171,0)
FND ;SEARCH for unused accession #s
"RTN","ONCOAIP",172,0)
 S NR=YR_"0000",MR=(YR+1)_"0000"
"RTN","ONCOAIP",173,0)
NR S NR=NR+1 I NR<MR G:$D(^ONCO(165.5,"AA",NR)) NR S AC=NR,SEQ="00" Q
"RTN","ONCOAIP",174,0)
 W *7,!!?10,"OUT of ACCESSION Numbers for 19"_YR S Y=U Q
"RTN","ONCOAIP",175,0)
EX ;KILL VARIABLES
"RTN","ONCOAIP",176,0)
K D KILL^ONCOAI K ONCOEDIT
"RTN","ONCOAIP",177,0)
 Q
"RTN","ONCODEL")
0^12^B19070717
"RTN","ONCODEL",1,0)
ONCODEL ;WASH ISC/SRR,MLH-EXTENSION & LYMPH NODE CODING ;8/12/94  16:50
"RTN","ONCODEL",2,0)
 ;;2.11;ONCOLOGY;**7**;Mar 07, 1995
"RTN","ONCODEL",3,0)
 ;IN: ONCOX="E" or "L"
"RTN","ONCODEL",4,0)
 ;
"RTN","ONCODEL",5,0)
 ; 7/11/94 MLH MODIFIED for Oncology 2.11 to use new file 164.5
"RTN","ONCODEL",6,0)
 ;
"RTN","ONCODEL",7,0)
IN ;INPUT TRANSFORM
"RTN","ONCODEL",8,0)
 ;OUT: Valid code in X
"RTN","ONCODEL",9,0)
 ;
"RTN","ONCODEL",10,0)
 ;    find out where is the list we need
"RTN","ONCODEL",11,0)
 N OP S OP=$$GETLIST(D0,ONCOX)
"RTN","ONCODEL",12,0)
 IF OP D  ;    ok to process
"RTN","ONCODEL",13,0)
 .  S Y=$G(^ONCO(164.5,OP,1,(X+1),0))
"RTN","ONCODEL",14,0)
 .  I Y="" K X W ?15,"Invalid Code"
"RTN","ONCODEL",15,0)
 .  E  W ?(17-$L(X)),"* "_Y
"RTN","ONCODEL",16,0)
 .  Q
"RTN","ONCODEL",17,0)
 ELSE  W:OP'="" !,OP,*7,! K X ;    invalid entry
"RTN","ONCODEL",18,0)
 ;END IF
"RTN","ONCODEL",19,0)
 ;
"RTN","ONCODEL",20,0)
 D EX
"RTN","ONCODEL",21,0)
 Q
"RTN","ONCODEL",22,0)
 ;
"RTN","ONCODEL",23,0)
HP ;EXTENDED HELP
"RTN","ONCODEL",24,0)
 ;OUT: List of valid codes for Extent of Disease/Lynph Nodes
"RTN","ONCODEL",25,0)
 N OP S OP=$$GETLIST(D0,ONCOX)
"RTN","ONCODEL",26,0)
 IF OP D
"RTN","ONCODEL",27,0)
 .  W !,"   Using list:  ",$P(^ONCO(164.5,OP,0),U),!
"RTN","ONCODEL",28,0)
 .  N X,Y S X=0
"RTN","ONCODEL",29,0)
 .  FOR  S X=$O(^ONCO(164.5,OP,1,X)) Q:X=""  D
"RTN","ONCODEL",30,0)
 ..    S Y=X-1 W !?(15-$L(Y)),Y_" "_^(X,0)
"RTN","ONCODEL",31,0)
 ..    Q
"RTN","ONCODEL",32,0)
 .  Q
"RTN","ONCODEL",33,0)
 ELSE  W:OP'="" !,OP,*7,! K X
"RTN","ONCODEL",34,0)
 D EX
"RTN","ONCODEL",35,0)
 Q
"RTN","ONCODEL",36,0)
 ;
"RTN","ONCODEL",37,0)
OT ;OUTPUT TRANSFORM
"RTN","ONCODEL",38,0)
 ;OUT: Translated code
"RTN","ONCODEL",39,0)
 Q:Y=""
"RTN","ONCODEL",40,0)
 N OP S OP=$$GETLIST(D0,ONCOX) ;set OP to IEN of SEER CODE file
"RTN","ONCODEL",41,0)
 ;commented line appends IEN from SEER list to output
"RTN","ONCODEL",42,0)
 ;I OP N YY S YY=$G(^ONCO(164.5,OP,1,(Y+1),0)),Y=Y_" "_$S(YY="":"Code is not defined",1:YY)_" ("_OP_")"
"RTN","ONCODEL",43,0)
 I OP N YY S YY=$G(^ONCO(164.5,OP,1,(Y+1),0)),Y=Y_" "_$S(YY="":"Code is not defined",1:YY)
"RTN","ONCODEL",44,0)
 E  S YY=Y_" "_OP
"RTN","ONCODEL",45,0)
 D EX
"RTN","ONCODEL",46,0)
 Q
"RTN","ONCODEL",47,0)
 ;
"RTN","ONCODEL",48,0)
MC I OS=37!(OS=38) S OP=$P($G(^ONCO(165.5,D0,2)),U,3) G ERM:OP="" Q:OP'=91403  S OG="164.1" Q
"RTN","ONCODEL",49,0)
 S OG="164.2",OP=OS Q
"RTN","ONCODEL",50,0)
ER ;Error no Topography Code
"RTN","ONCODEL",51,0)
 W !?5,"ICDO TOPOGRAPHY CODE not defined - cannot continue" K X G EX
"RTN","ONCODEL",52,0)
ERR ;Error in database
"RTN","ONCODEL",53,0)
 W !?5,"ERROR in database - cannot continue" K X G EX
"RTN","ONCODEL",54,0)
ERM ;NO Morphlogy Code
"RTN","ONCODEL",55,0)
 W !?5,$P(^ONCO(164.2,OS,0),U)_" needs Histology Code!" K X Q
"RTN","ONCODEL",56,0)
EX ;Kill and Exit
"RTN","ONCODEL",57,0)
 K OG,OS,OT,OP,ONCOX,YY
"RTN","ONCODEL",58,0)
 Q
"RTN","ONCODEL",59,0)
 ;
"RTN","ONCODEL",60,0)
GETLIST(ONCOIX,CODTYP,OUTFLAG) ;    find the CODTYP (E=extension, L=lymph node) list that applies to primary ONCOIX
"RTN","ONCODEL",61,0)
 ; if OUTFLAG="OUT", will return name and some detail
"RTN","ONCODEL",62,0)
 N OP ;    list number in 164.5
"RTN","ONCODEL",63,0)
 N ED S ED=$$EDITION^ONCOU55(ONCOIX) ;    edition of SEER
"RTN","ONCODEL",64,0)
 N ONCOER ;    error message
"RTN","ONCODEL",65,0)
 I '$D(CODTYP) S ONCOER="Code type (E or L) is not defined!"
"RTN","ONCODEL",66,0)
 I $G(ONCOER)="" N SCOD,O2 S SCOD=$P(^ONCO(165.5,ONCOIX,0),U),O2=$G(^(2)) I O2="" S ONCOER="Cancer ID is required!"
"RTN","ONCODEL",67,0)
 I $G(ONCOER)="" N ONCOT S ONCOT=$P(O2,U) I ONCOT="" S ONCOER="Topography code is required!"
"RTN","ONCODEL",68,0)
 I $G(ONCOER)="" N ONCOM S ONCOM=$P(O2,U,3) I ONCOM="" S ONCOER="Histology code is required!"
"RTN","ONCODEL",69,0)
 IF $G(ONCOER)="" D  ;    we have the necessary information, get the list
"RTN","ONCODEL",70,0)
 .  N MELANOMA S MELANOMA=$$MELANOMA^ONCOU55(ONCOIX)
"RTN","ONCODEL",71,0)
 .  IF MELANOMA,$P($G(^ONCO(164,ONCOT,0)),U,15) S OP=$S(CODTYP="E":145,CODTYP="L":146,1:0) ;    malignant melanoma of the skin?  yes.
"RTN","ONCODEL",72,0)
 .  ELSE  IF MELANOMA,ED=2,ONCOT=67690 S OP=$S(CODTYP="E":167,CODTYP="L":172,1:0) ;    malignant melanoma of the conjunctiva (uses list Conjunctiva)
"RTN","ONCODEL",73,0)
 .  ELSE  IF MELANOMA,ED=2,ONCOT>67690,ONCOT<67700 S OP=$S(CODTYP="E":169,CODTYP="L":170,1:0) ;    malignant melanoma of the uvea
"RTN","ONCODEL",74,0)
 .  ELSE  D  ;    no.  check further
"RTN","ONCODEL",75,0)
 ..    S OP=$P($G(^ONCO(164.1,ONCOM,CODTYP)),U,ED) ;    examine morphology
"RTN","ONCODEL",76,0)
 ..I '$G(OP),ONCOT=67422,(($E(ONCOM,1,3)<959)!($E(ONCOM,1,3)>971)),'$$LEUKEMIA^ONCOAIP2(ONCOIX),ONCOM'=91403 S OP=$S(CODTYP="E":132,1:133)
"RTN","ONCODEL",77,0)
 ..    I '$G(OP),((ONCOT=67770)&((SCOD=62)!(SCOD=63)))!(SCOD=35)!(SCOD=39)!(SCOD=40) S OP=$P($G(^ONCO(164.2,SCOD,CODTYP)),U,ED) ;    examine special site-groups
"RTN","ONCODEL",78,0)
 ..    I '$G(OP) S OP=$P($G(^ONCO(164,ONCOT,CODTYP)),U,ED) ;    examine topography
"RTN","ONCODEL",79,0)
 ..    I '$G(OP) S OP=$P($G(^ONCO(164.2,SCOD,CODTYP)),U,ED) ;    examine other site-groups
"RTN","ONCODEL",80,0)
 ..    Q
"RTN","ONCODEL",81,0)
 .  ;END IF
"RTN","ONCODEL",82,0)
 .  ;
"RTN","ONCODEL",83,0)
 .  Q
"RTN","ONCODEL",84,0)
 ;END IF
"RTN","ONCODEL",85,0)
 ;
"RTN","ONCODEL",86,0)
 I $D(ONCOER) Q ONCOER
"RTN","ONCODEL",87,0)
 E  Q $S($G(OUTFLAG)'="OUT":OP,1:OP_" "_$P(^ONCO(164.5,OP,0),U,5)_" "_ED_" "_$P(^(0),U))
"RTN","ONCODIS")
0^5^B1481112
"RTN","ONCODIS",1,0)
ONCODIS ;WASH ISC/SRR-ONCOLOGY DISPLAYS ;6/2/92  22:22
"RTN","ONCODIS",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCODIS",3,0)
MAIN ;Begin main menu VA display
"RTN","ONCODIS",4,0)
 S VR=$P($T(ONCODIS+1),";",3),NM="ONCOLOGY TUMOR REGISTRY" D LOGO,FUNCT Q
"RTN","ONCODIS",5,0)
FUNCT ;INTRODUCTION
"RTN","ONCODIS",6,0)
 W !!?10,"Choose among the following functions:"
"RTN","ONCODIS",7,0)
 Q
"RTN","ONCODIS",8,0)
LOGO ;DISPLAY LOGO
"RTN","ONCODIS",9,0)
 S:'$D(IOF) IOP="HOME" D:'$D(IOF) ^%ZIS W *7,@IOF W !!!!!!! F I=1:1:9 W !,?22,$P($T(DISP+I),";",3)
"RTN","ONCODIS",10,0)
 W !!,?23,"Department of Veterans Affairs",!!?23,NM_" V"_VR_"P7" Q
"RTN","ONCODIS",11,0)
DISP ;
"RTN","ONCODIS",12,0)
 ;;VVVV            VVAA
"RTN","ONCODIS",13,0)
 ;; VVVV          VVAAAA
"RTN","ONCODIS",14,0)
 ;;  VVVV        VVAAAAAA
"RTN","ONCODIS",15,0)
 ;;   VVVV      VVAA  AAAA
"RTN","ONCODIS",16,0)
 ;;    VVVV    VVAA    AAAA
"RTN","ONCODIS",17,0)
 ;;     VVVV  VVAA      AAAA
"RTN","ONCODIS",18,0)
 ;;      VVVVVVAA        AAAA
"RTN","ONCODIS",19,0)
 ;;       VVVVAA   AAAAAAAAAAA
"RTN","ONCODIS",20,0)
 ;;        VVAA     AAAAAAAAAAA
"RTN","ONCODIS",21,0)
D W !!?30,"INSTALLATION",!!,?20,NM," PACKAGE",!!,?31,"VERSION ",VR Q
"RTN","ONCODSR")
0^1^B14060449
"RTN","ONCODSR",1,0)
ONCODSR ;WASH ISC/SRR,MLH-CANCER DIRECTED SURGERY ;8/12/94  16:51
"RTN","ONCODSR",2,0)
 ;;2.11;ONCOLOGY;**1,5,6,7**;Mar 07, 1995
"RTN","ONCODSR",3,0)
 ;7/12/94 MLH MODIFIED for Oncology 2.11 to use new file 164.5
"RTN","ONCODSR",4,0)
 ;
"RTN","ONCODSR",5,0)
SS ;SITE SPECIFIC SURGERY (CANCER DIRECTED)
"RTN","ONCODSR",6,0)
 ;^ONCO(164.2,9,"S",1-10) hold NON-CANCER-DIRECTED surgery codes 0-9
"RTN","ONCODSR",7,0)
 ;^ONCO(164.2,SITE/GP,"S",11-100) holds CANCER-DIRECTED surgery coes 10-99
"RTN","ONCODSR",8,0)
 ;
"RTN","ONCODSR",9,0)
CDSIT ;INPUT TRANSFORM FOR CANCER-DIRECTED SURGERY #58.2
"RTN","ONCODSR",10,0)
 N T,TOPGRPHY,SS
"RTN","ONCODSR",11,0)
 K:$L(X)>2!(X'?1.N) X G EX:'$D(X)
"RTN","ONCODSR",12,0)
 I X="00" W "  No surgical procedure" G EX
"RTN","ONCODSR",13,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G ER:TOPGRPHY=""
"RTN","ONCODSR",14,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",15,0)
 I '$D(^ONCO(164.5,SS,1,X+1,0)) K X G EX
"RTN","ONCODSR",16,0)
 I ($P(^ONCO(165.5,D0,0),"^",16)>2951231),$E(X,2)=8 K X G EX
"RTN","ONCODSR",17,0)
 W "  ",^ONCO(164.5,SS,1,X+1,0) G EX
"RTN","ONCODSR",18,0)
 ;
"RTN","ONCODSR",19,0)
NCDSIT ;INPUT TRANSFORM FOR NON CANCER-DIRECTED SURGERY #58.1
"RTN","ONCODSR",20,0)
 I '$D(^ONCO(160.14,"B",X)) K X G EX
"RTN","ONCODSR",21,0)
 I $P(^ONCO(165.5,D0,0),"^",16)<2960000,$L(X)>1 K X G EX
"RTN","ONCODSR",22,0)
 I $P(^ONCO(165.5,D0,0),"^",16)>2951231,$L(X)=1 K X G EX
"RTN","ONCODSR",23,0)
 S NCDSIEN=$O(^ONCO(160.14,"B",X,0))
"RTN","ONCODSR",24,0)
 W "  ",$P(^ONCO(160.14,NCDSIEN,0),"^",2)
"RTN","ONCODSR",25,0)
 K NCDSIEN Q
"RTN","ONCODSR",26,0)
 ;
"RTN","ONCODSR",27,0)
CDSOT ;OUTPUT TRANSFORM FOR CANCER-DIRECTED SURGERY #58.2
"RTN","ONCODSR",28,0)
 I Y="00" S Y=Y_"  No surgical procedure" G EX
"RTN","ONCODSR",29,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",30,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G EX:TOPGRPHY=""
"RTN","ONCODSR",31,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",32,0)
 S Y=Y_" "_$G(^ONCO(164.5,SS,1,Y+1,0)) G EX
"RTN","ONCODSR",33,0)
 ;
"RTN","ONCODSR",34,0)
NCDSOT ;OUTPUT TRANSFORM FOR NON CANCER-DIRECTED SURGERY #58.1
"RTN","ONCODSR",35,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",36,0)
 Q:Y=""
"RTN","ONCODSR",37,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G EX:TOPGRPHY=""
"RTN","ONCODSR",38,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",39,0)
 S NCDSIEN=$O(^ONCO(160.14,"B",Y,0))
"RTN","ONCODSR",40,0)
 I NCDSIEN'="" S Y=Y_" "_$P(^ONCO(160.14,NCDSIEN,0),"^",2)
"RTN","ONCODSR",41,0)
 G EX
"RTN","ONCODSR",42,0)
 ;
"RTN","ONCODSR",43,0)
HP ;EXTENDED HELP for SURGERY #58.1 (FILE 165.5)
"RTN","ONCODSR",44,0)
 N XQH,AN,ONCOSR
"RTN","ONCODSR",45,0)
 Q:$D(ONCO)  I X="??" S XQH="ONCO SPECIFIC SURGERY" D EN^XQH Q
"RTN","ONCODSR",46,0)
A N DIR
"RTN","ONCODSR",47,0)
 S DIR(0)="Y"
"RTN","ONCODSR",48,0)
 S DIR("A")="Was cancer-directed surgery performed",DIR("B")="Yes"
"RTN","ONCODSR",49,0)
 S DIR("?",1)="For NON-CANCER-DIRECTED surgery codes (0-9) answer No."
"RTN","ONCODSR",50,0)
 S DIR("?")="For site-specific CANCER-DIRECTED surgery codes (10-98) answer Yes."
"RTN","ONCODSR",51,0)
 D ^DIR
"RTN","ONCODSR",52,0)
 I '$D(DIRUT) G @("HP"_Y)
"RTN","ONCODSR",53,0)
 G EX
"RTN","ONCODSR",54,0)
 ;
"RTN","ONCODSR",55,0)
HP0 ;NON CANCER-DIRECTED SURGERY HELP
"RTN","ONCODSR",56,0)
 N TOPGRPHY,TPGRPHYR,XX
"RTN","ONCODSR",57,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G:TOPGRPHY="" ER
"RTN","ONCODSR",58,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",59,0)
 W !!?5,"NON CANCER-DIRECTED SURGERY Codes for site ",$P(TPGRPHYR,U,2)
"RTN","ONCODSR",60,0)
 W " ",$P(TPGRPHYR,U),!!
"RTN","ONCODSR",61,0)
 I $P(^ONCO(165.5,D0,0),"^",16)>2951231 F XX="00","01","02","03","04","05","06","07","09" S NCDSIEN=$O(^ONCO(160.14,"B",XX,0)) W " ",$P(^ONCO(160.14,NCDSIEN,0),"^",1),"  ",$P(^ONCO(160.14,NCDSIEN,0),"^",2),!
"RTN","ONCODSR",62,0)
 I $P(^ONCO(165.5,D0,0),"^",16)<2960000 F XX=0:1:9 S NCDSIEN=$O(^ONCO(160.14,"B",XX,0)) W " ",$P(^ONCO(160.14,NCDSIEN,0),"^",1),"  ",$P(^ONCO(160.14,NCDSIEN,0),"^",2),!
"RTN","ONCODSR",63,0)
 W !,"Enter a code from the above list." K NCDSIEN G EX
"RTN","ONCODSR",64,0)
 ;
"RTN","ONCODSR",65,0)
HP1 ;CANCER-DIRECTED SURGERY HELP
"RTN","ONCODSR",66,0)
 N TOPGRPHY,TPGRPHYR,SS,XX
"RTN","ONCODSR",67,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G:TOPGRPHY="" ER
"RTN","ONCODSR",68,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",69,0)
 S SS=$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",70,0)
 W !!,"CANCER-DIRECTED SURGERY Codes for site ",$P(TPGRPHYR,U,2)," "
"RTN","ONCODSR",71,0)
 W $P(TPGRPHYR,U),!,"(",$P(^ONCO(164.5,SS,0),U),")",!!
"RTN","ONCODSR",72,0)
 W " ","00 No surgical procedure",!
"RTN","ONCODSR",73,0)
 S XX=10 F  S XX=$O(^ONCO(164.5,SS,1,XX)) Q:XX'=+XX  D
"RTN","ONCODSR",74,0)
 .S XXX=XX-1
"RTN","ONCODSR",75,0)
 .I ($P(^ONCO(165.5,D0,0),"^",16)<2960000)!($E(XXX,2)'=8) W " ",(XX-1)_" "_^ONCO(164.5,SS,1,XX,0),!
"RTN","ONCODSR",76,0)
 W !,"Enter a code from the above list." G EX
"RTN","ONCODSR",77,0)
 ;
"RTN","ONCODSR",78,0)
ER ;ERROR
"RTN","ONCODSR",79,0)
 W !!,?10,"ICDO CODE NOT defined!! - cannot continue",! G EX
"RTN","ONCODSR",80,0)
 ;
"RTN","ONCODSR",81,0)
EX ;EXIT
"RTN","ONCODSR",82,0)
 K AN,SS,ONCOSR
"RTN","ONCODSR",83,0)
 Q
"RTN","ONCODSR",84,0)
 ;
"RTN","ONCODSR",85,0)
TOPGRPHY(PRIMIX) ; returns ICDO-2 topography code for primary site PRIMIX
"RTN","ONCODSR",86,0)
 Q $P($G(^ONCO(165.5,PRIMIX,2)),U)
"RTN","ONCOEDC")
0^16^B16344344
"RTN","ONCOEDC",1,0)
ONCOEDC ;HIRMFO/RTK-EDIT CHECKS FOR ABSTRACT STATUS ;8/2/96
"RTN","ONCOEDC",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07,1995
"RTN","ONCOEDC",3,0)
 ;
"RTN","ONCOEDC",4,0)
CHECK ;ROUTINE TO CHECK THAT ALL REQUIRED DATA FIELDS ARE FILLED IN
"RTN","ONCOEDC",5,0)
 ;
"RTN","ONCOEDC",6,0)
 ;IF class of case=0,1,2 AND sequence # is numeric AND Date DX>12/31/95
"RTN","ONCOEDC",7,0)
 ;THEN Check all required data fields, keep track of any NOT filled in
"RTN","ONCOEDC",8,0)
 ;
"RTN","ONCOEDC",9,0)
 S CMPLT=1,C=0,NODE0=$G(^ONCO(165.5,D0,0)) K LIST
"RTN","ONCOEDC",10,0)
 S CC=$P(NODE0,"^",4),SQN=$P(NODE0,"^",6),DTDX=$P(NODE0,"^",16)
"RTN","ONCOEDC",11,0)
 I (CC=0)!(CC=1)!(CC=2),SQN?2N,DTDX>2951231 D CHKFLDS
"RTN","ONCOEDC",12,0)
 Q
"RTN","ONCOEDC",13,0)
 ;
"RTN","ONCOEDC",14,0)
CHKFLDS ;
"RTN","ONCOEDC",15,0)
 ;
"RTN","ONCOEDC",16,0)
 S PTIEN=$P($G(^ONCO(165.5,D0,0)),"^",2)
"RTN","ONCOEDC",17,0)
 S NODE0=$G(^ONCO(165.5,D0,0))
"RTN","ONCOEDC",18,0)
 S NODE1=$G(^ONCO(165.5,D0,1))
"RTN","ONCOEDC",19,0)
 S NODE2=$G(^ONCO(165.5,D0,2))
"RTN","ONCOEDC",20,0)
 S NODE21=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOEDC",21,0)
 S NODE3=$G(^ONCO(165.5,D0,3))
"RTN","ONCOEDC",22,0)
 ;
"RTN","ONCOEDC",23,0)
 ;If any fields not filled in S CMPLT=0 and add that field to LIST array
"RTN","ONCOEDC",24,0)
 ;
"RTN","ONCOEDC",25,0)
 I $P(NODE0,"^",5)="" S FLD="ACCESSION NUMBER" D CMPLT
"RTN","ONCOEDC",26,0)
 I $P(NODE0,"^",6)="" S FLD="SEQUENCE NUMBER" D CMPLT
"RTN","ONCOEDC",27,0)
 I $P(NODE0,"^",7)="" S FLD="ACCESSION YEAR" D CMPLT
"RTN","ONCOEDC",28,0)
 D
"RTN","ONCOEDC",29,0)
 .N X S TMPD0=D0,D0=PTIEN D SSN^ONCOES I X="" S FLD="SSN" D CMPLT
"RTN","ONCOEDC",30,0)
 .Q
"RTN","ONCOEDC",31,0)
 I $P($G(^ONCO(160,D0,0)),"^",1)="" S FLD="PATIENT NAME" D CMPLT
"RTN","ONCOEDC",32,0)
 S D0=TMPD0
"RTN","ONCOEDC",33,0)
 I $P(NODE1,"^",1)="" S FLD="PATIENT ADDRESS AT DIAGNOSIS" D CMPLT
"RTN","ONCOEDC",34,0)
 I $P(NODE1,"^",12)="" S FLD="CITY/TOWN AT DIAGNOSIS" D CMPLT
"RTN","ONCOEDC",35,0)
 I $P(NODE1,"^",4)="" S FLD="STATE AT DIAGNOSIS" D CMPLT
"RTN","ONCOEDC",36,0)
 I $P(NODE1,"^",2)="" S FLD="POSTAL CODE AT DIAGNOSIS" D CMPLT
"RTN","ONCOEDC",37,0)
 I $P(NODE1,"^",3)="" S FLD="COUNTY AT DIAGNOSIS" D CMPLT
"RTN","ONCOEDC",38,0)
 S TMPD0=D0,D0=PTIEN ;check a few fields in 160 (need to save D0)
"RTN","ONCOEDC",39,0)
 I $P($G(^ONCO(160,D0,0)),"^",6)="" S FLD="RACE" D CMPLT
"RTN","ONCOEDC",40,0)
 I $P($G(^ONCO(160,D0,0)),"^",7)="" S FLD="SPANISH ORIGIN" D CMPLT
"RTN","ONCOEDC",41,0)
 I $P($G(^ONCO(160,D0,0)),"^",8)="" S FLD="SEX" D CMPLT
"RTN","ONCOEDC",42,0)
 S D0=TMPD0 ;set D0 back to IEN in 165.5
"RTN","ONCOEDC",43,0)
 I $P(NODE0,"^",12)="" S FLD="FOLLOWING PHYSICIAN" D CMPLT
"RTN","ONCOEDC",44,0)
 I $P(NODE1,"^",11)="" S FLD="PRIMARY PAYOR AT DIAGNOSIS" D CMPLT
"RTN","ONCOEDC",45,0)
 I $P(NODE0,"^",4)="" S FLD="CLASS OF CASE" D CMPLT
"RTN","ONCOEDC",46,0)
 I $P(NODE0,"^",16)="" S FLD="DATE DX" D CMPLT
"RTN","ONCOEDC",47,0)
 I $P(NODE2,"^",1)="" S FLD="ICDO-TOPOGRAPHY" D CMPLT
"RTN","ONCOEDC",48,0)
 I $P(NODE2,"^",8)="" S FLD="LATERALITY" D CMPLT
"RTN","ONCOEDC",49,0)
 I $P(NODE2,"^",3)="" S FLD="HISTOLOGY" D CMPLT
"RTN","ONCOEDC",50,0)
 I $P(NODE2,"^",5)="" S FLD="GRADE" D CMPLT
"RTN","ONCOEDC",51,0)
 I $P(NODE2,"^",6)="" S FLD="DIAGNOSTIC CONFIRMATION" D CMPLT
"RTN","ONCOEDC",52,0)
 I $P(NODE2,"^",9)="" S FLD="SIZE/DEPTH" D CMPLT
"RTN","ONCOEDC",53,0)
 I $P(NODE2,"^",13)="" S FLD="NODES EXAMINED" D CMPLT
"RTN","ONCOEDC",54,0)
 I $P(NODE2,"^",12)="" S FLD="NODES POSITIVE" D CMPLT
"RTN","ONCOEDC",55,0)
 I ($P(NODE2,"^",25)="")&($P(NODE21,"^",1)="") S FLD="T-CODE" D CMPLT
"RTN","ONCOEDC",56,0)
 I ($P(NODE2,"^",26)="")&($P(NODE21,"^",2)="") S FLD="N-CODE" D CMPLT
"RTN","ONCOEDC",57,0)
 I ($P(NODE2,"^",27)="")&($P(NODE21,"^",3)="") S FLD="M-CODE" D CMPLT
"RTN","ONCOEDC",58,0)
 I ($P(NODE2,"^",20)="")&($P(NODE21,"^",4)="") S FLD="STAGE GROUP" D CMPLT
"RTN","ONCOEDC",59,0)
 I ($P(NODE3,"^",32)="")&($P(NODE21,"^",5)="") S FLD="STAGED BY" D CMPLT
"RTN","ONCOEDC",60,0)
 I $P(NODE3,"^",31)="" S FLD="NON CANCER-DIRECTED SURGERY DATE" D CMPLT
"RTN","ONCOEDC",61,0)
 I $P(NODE3,"^",27)="" S FLD="NON CANCER-DIRECTED SURGERY" D CMPLT
"RTN","ONCOEDC",62,0)
 I $P(NODE3,"^",1)="" S FLD="CANCER-DIRECTED SURGERY DATE" D CMPLT
"RTN","ONCOEDC",63,0)
 I $P(NODE3,"^",38)="" S FLD="CANCER-DIRECTED SURGERY" D CMPLT
"RTN","ONCOEDC",64,0)
 I $P(NODE3,"^",34)="" S FLD="SURGICAL APPROACH" D CMPLT
"RTN","ONCOEDC",65,0)
 I $P(NODE3,"^",28)="" S FLD="RESIDUAL TUMOR" D CMPLT
"RTN","ONCOEDC",66,0)
 I $P(NODE3,"^",4)="" S FLD="RADIATION DATE" D CMPLT
"RTN","ONCOEDC",67,0)
 I $P(NODE3,"^",6)="" S FLD="RADIATION" D CMPLT
"RTN","ONCOEDC",68,0)
 I $P(NODE3,"^",11)="" S FLD="CHEMOTHERAPY DATE" D CMPLT
"RTN","ONCOEDC",69,0)
 I $P(NODE3,"^",13)="" S FLD="CHEMOTHERAPY" D CMPLT
"RTN","ONCOEDC",70,0)
 I $P(NODE3,"^",14)="" S FLD="HORMONE THERAPY DATE" D CMPLT
"RTN","ONCOEDC",71,0)
 I $P(NODE3,"^",16)="" S FLD="HORMONE THERAPY" D CMPLT
"RTN","ONCOEDC",72,0)
 I $P(NODE3,"^",17)="" S FLD="IMMUNOTHERAPY DATE" D CMPLT
"RTN","ONCOEDC",73,0)
 I $P(NODE3,"^",19)="" S FLD="IMMUNOTHERAPY (BRM)" D CMPLT
"RTN","ONCOEDC",74,0)
 I $P(NODE3,"^",23)="" S FLD="OTHER CANCER-DIRECTED THERAPY DATE" D CMPLT
"RTN","ONCOEDC",75,0)
 I $P(NODE3,"^",25)="" S FLD="OTHER CANCER-DIRECTED THERAPY" D CMPLT
"RTN","ONCOEDC",76,0)
 Q
"RTN","ONCOEDC",77,0)
CMPLT ; set CMPLT = 0 and add FLD to LIST of fields needed to be filled in.
"RTN","ONCOEDC",78,0)
 S CMPLT=0,C=C+1,LIST(C)=FLD
"RTN","ONCOEDC",79,0)
 Q
"RTN","ONCOEDC",80,0)
PRINT ;
"RTN","ONCOEDC",81,0)
 D CHECK
"RTN","ONCOEDC",82,0)
 I CMPLT=1 Q
"RTN","ONCOEDC",83,0)
 W !?5,"The following REQUIRED fields have not been filled in for this primary:"
"RTN","ONCOEDC",84,0)
 F K=0:0 S K=$O(LIST(K)) Q:K'>""  W !,?8,LIST(K)
"RTN","ONCOEDC",85,0)
 W ! Q
"RTN","ONCOGEN")
0^10^B32555264
"RTN","ONCOGEN",1,0)
ONCOGEN ;WASH ISC/SRR,MLH-GENERAL REPORT DRIVER FOR SELECTED FORMATS  ;7/22/93  16:24
"RTN","ONCOGEN",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCOGEN",3,0)
 ;
"RTN","ONCOGEN",4,0)
ST ;ENTRY POINT FOR FOLLOWUP RECORD PRINT
"RTN","ONCOGEN",5,0)
 S DIC="^ONCO(160,",DIC(0)="AEQM",DA=0
"RTN","ONCOGEN",6,0)
 D ^DIC G:Y=-1 END S NUMBER=$P(Y,U,1),FLDS="[ONCO FOLLOWUP HISTORY]"
"RTN","ONCOGEN",7,0)
 D PRT1 G END
"RTN","ONCOGEN",8,0)
SU ;ENTRY POINT FOR SUSPENSE REPORT PRINT
"RTN","ONCOGEN",9,0)
 S DIC="^ONCO(160,",DIC(0)="AEQMZ" D ^DIC G EX:Y<0 S (X,ONCOD0)=+Y
"RTN","ONCOGEN",10,0)
 ;K ^DISV(DUZ,"^ONCO(165.5,")
"RTN","ONCOGEN",11,0)
 S D="C",DIC="^ONCO(165.5,",DIC(0)="EQ" D IX^DIC G EX:Y<0 S D0=+Y W !!! D ^ONCOXU W !!,"You may PRINT a hardcopy",! ;S TEM="ONCO ABSTRACT RECORD" D TEM G EX:TEM=""
"RTN","ONCOGEN",12,0)
 ;K ^DIBT(TEM,1) S ^DIBT(TEM,1,D0)="",BY="[ONCO ABSTRACT RECORD]"
"RTN","ONCOGEN",13,0)
 S BY="NUMBER",(FR,TO)=D0,FLDS="[ONCO XABSTRACT RECORD]",L=0
"RTN","ONCOGEN",14,0)
 G PRT65
"RTN","ONCOGEN",15,0)
SEER ;ENTRY POINT FOR SEER REPORT PRINT
"RTN","ONCOGEN",16,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQM",DA=0
"RTN","ONCOGEN",17,0)
 D ^DIC G:Y=-1 END S NUMBER=$P(Y,U,1),DA=+Y
"RTN","ONCOGEN",18,0)
 S DIOEND="S DN=2,D0=ONCODA F II=2,3 K DXS D @(""^ONCOXA""_II)"
"RTN","ONCOGEN",19,0)
 S ONCODA=DA,FLDS="[ONCOXA1]"
"RTN","ONCOGEN",20,0)
 D PRT G END
"RTN","ONCOGEN",21,0)
ABSEO ;ENTRY POINT FOR ABSTRACT-EAST ORANGE REPORT PRINT
"RTN","ONCOGEN",22,0)
 S DIC="^ONCO(160,",DIC(0)="AEMQ" D ^DIC G:Y=-1 END
"RTN","ONCOGEN",23,0)
 S (HI,DA)=0 I $D(^ONCO(165.5,"C",$P(Y,U,1))) W !,"Choose one :  " F I=1:1 S DA=$O(^ONCO(165.5,"C",$P(Y,U,1),DA)) Q:DA'>0  S SI=$P(^ONCO(165.5,DA,0),U,1) W:$D(^ONCO(164.2,SI,0)) !?10,I_". "_$P(^(0),U,1) D TEXT S ^TMP($J,I)=DA S HI=I
"RTN","ONCOGEN",24,0)
 I HI=0 W !,"No Primaries Entered for this Patient" G EX
"RTN","ONCOGEN",25,0)
ANS ;W !!,"Please select a number from 1 to ",HI R "// ",ANS:DTIME G EX:('$T)!(ANS["^")!(ANS=""&(HI'=1)) S:ANS="" ANS=1 G ANS:(ANS'?.N)!(ANS<1)!(ANS>HI)
"RTN","ONCOGEN",26,0)
 S ANS=$$ASKNUM^ONCOU("Enter your selection","1:"_HI,1) G EX:$D(DIRUT)
"RTN","ONCOGEN",27,0)
 S DA=$P(^TMP($J,ANS),U,1),(Y,DA,NUMBER,HDA)=DA
"RTN","ONCOGEN",28,0)
 S PRTPCE=0 I $P($G(^ONCO(165.5,DA,7)),"^",15)'="" W ! K DIR S DIR(0)="YA",DIR("A")="Print PCE data attached to this primary? ",DIR("B")="N" D ^DIR S PRTPCE=Y G EX:$D(DIRUT)
"RTN","ONCOGEN",29,0)
 G DS:$D(NS),X:III<49,Y
"RTN","ONCOGEN",30,0)
X I III<12 S DIOEND="S DN=1,D0=ONCODA F II=III:1:IIII K DXS D @(""^ONCOX""_II)"
"RTN","ONCOGEN",31,0)
 G PT
"RTN","ONCOGEN",32,0)
Y I III<59 S DIOEND="S DN=1,D0=ONCODA F II=III:1:IIII K DXS D @(""^ONCOY""_II)"
"RTN","ONCOGEN",33,0)
PT S ONCODA=DA,FLDS=$S(III<12:"[ONCOX1]",III<59:"[ONCOY49]",1:"ERROR")
"RTN","ONCOGEN",34,0)
 D PRT G END
"RTN","ONCOGEN",35,0)
PRT S FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0
"RTN","ONCOGEN",36,0)
 D EN1^DIP
"RTN","ONCOGEN",37,0)
 Q
"RTN","ONCOGEN",38,0)
 ;
"RTN","ONCOGEN",39,0)
PRT1 S FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(160,",L=0
"RTN","ONCOGEN",40,0)
 D EN1^DIP
"RTN","ONCOGEN",41,0)
 Q
"RTN","ONCOGEN",42,0)
PRT65 ;PRINT FOR 165.5
"RTN","ONCOGEN",43,0)
 S DIC="^ONCO(165.5,",L=0 D EN1^DIP G EX
"RTN","ONCOGEN",44,0)
TEXT W:$D(^ONCO(165.5,DA,8)) "  "_$P(^ONCO(165.5,DA,8),U,1) Q
"RTN","ONCOGEN",45,0)
DD S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3)_$S(Y#1:" "_$E(Y_0,9,10)_":"_$E(Y_"0000",11,12),1:"")
"RTN","ONCOGEN",46,0)
 Q
"RTN","ONCOGEN",47,0)
 ;
"RTN","ONCOGEN",48,0)
DIS ;Dislay Screens
"RTN","ONCOGEN",49,0)
 W @IOF,?20,"**************  Select Screen *************",!!! G ABSEO
"RTN","ONCOGEN",50,0)
 K DXS S DIC("A")="     Select patient: ",DIC="^ONCO(160,",DIC(0)="AEMQ" D ^DIC G:Y<0 END
"RTN","ONCOGEN",51,0)
 S ONCOD0P=DA I $D(^ONCO(165.5,"C",+Y)) S X=+Y,DIC="^ONCO(165.5,",D="C",DIC(0)="EX" D IX^DIC G END:Y<0
"RTN","ONCOGEN",52,0)
DS S D0=DA K DXS I NS=3 W @IOF D ^ONCOY49 K DXS D ^ONCOX3 D RD Q 
"RTN","ONCOGEN",53,0)
 S D0=DA K DXS S ONCOR="^ONCOY"_NS W @IOF K DXS D ^ONCOY49 K DXS D @ONCOR
"RTN","ONCOGEN",54,0)
 D RD Q:$G(QDS)=1  I $D(NN) S NS=NN K DXS D @("^ONCOY"_NS) D RD Q
"RTN","ONCOGEN",55,0)
 Q:'$D(NF)  F NS=51:1:58 K DXS D @("^ONCOY"_NS) D RD:NS'=54 Q:NS=58!($G(QDS)=1)
"RTN","ONCOGEN",56,0)
 Q
"RTN","ONCOGEN",57,0)
 ;
"RTN","ONCOGEN",58,0)
RD K DIR S DIR(0)="E",DIR("A")="Hit Enter to continue" D ^DIR
"RTN","ONCOGEN",59,0)
 K QDS I Y'=1 S QDS=1
"RTN","ONCOGEN",60,0)
 Q
"RTN","ONCOGEN",61,0)
TEM ;GET TEMPLATE
"RTN","ONCOGEN",62,0)
 ;S TEM=$O(^DIBT("B",TEM,0))
"RTN","ONCOGEN",63,0)
 Q
"RTN","ONCOGEN",64,0)
END K ANS,BY,DA,DHCOPIES,DHD,DIC,DIOEND,DN,DXS,HDA,I,NUMBER,L,ONCODA,ONCOTEMP,PG,BY,FR,TO,FLDS,HI,ANS,SI,XD0
"RTN","ONCOGEN",65,0)
 D ^%ZISC S IOP=ION D ^%ZIS
"RTN","ONCOGEN",66,0)
EX ;Exit and Kill
"RTN","ONCOGEN",67,0)
 K %DT,X,Y,DIC,DIC,DIC1,DISH,II,D,DIJ,DIW,DIWT,DIYS,DP,FIL,ST,XXD1
"RTN","ONCOGEN",68,0)
 K ONCOX1,ONCOD0,ONCON,ONCOX,%W,%ZISOS,ONTEMP,ONCOX2,ONCOR,ONCOYR
"RTN","ONCOGEN",69,0)
 K TEM,%Y,F,L,O,W,%T,B,LST,O2,OG,OP,OS,OT,P,TL,TX,YY,OIO,%ZISOS,DIP
"RTN","ONCOGEN",70,0)
 K ONCX,PCESEL,M,DIYS,DISH,PRTPCE,PCEABS,QDS
"RTN","ONCOGEN",71,0)
 Q
"RTN","ONCOGEN",72,0)
 ;
"RTN","ONCOGEN",73,0)
PCEPRT ; PRINT PCE DATA (IF ANY) FOR A PARTICULAR PRIMARY AFTER COMPLETE
"RTN","ONCOGEN",74,0)
 ; ABSTRACT PRINT.  CALLED BY ONCOX11 PRINT TEMPLATE.
"RTN","ONCOGEN",75,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="" Q  ;IF NO PCE DATA, QUIT
"RTN","ONCOGEN",76,0)
PRINT ;
"RTN","ONCOGEN",77,0)
 D PCEVARS
"RTN","ONCOGEN",78,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="BLA" D PRT^ONCBPC8 Q
"RTN","ONCOGEN",79,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="THY" D PRT^ONCTPC8 Q
"RTN","ONCOGEN",80,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="STS" D PRT^ONCSPC8 Q
"RTN","ONCOGEN",81,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="PRO" D PRT^ONCPPC9 Q
"RTN","ONCOGEN",82,0)
 Q
"RTN","ONCOGEN",83,0)
PCEPRT2 ; PRINT ALL PCE'S FOR A PARTICULAR SITE.
"RTN","ONCOGEN",84,0)
 S ONCQ=0
"RTN","ONCOGEN",85,0)
 W !!?5,"Print PCE's for a particular site"
"RTN","ONCOGEN",86,0)
 K DIR S DIR(0)="SM^1:Bladder;2:Thyroid;3:Soft Tissue Sarcoma;4:Prostate" D ^DIR Q:$D(DIRUT)
"RTN","ONCOGEN",87,0)
 S PCESEL=$S(Y=1:"BLA",Y=2:"THY",Y=3:"STS",Y=4:"PRO",1:"") Q:PCESEL=""
"RTN","ONCOGEN",88,0)
 W ! K DIR S DIR(0)="YA",DIR("A")="Print PCE's AND Abstracts? ",DIR("B")="Y" D ^DIR S PCEABS=Y G EX:$D(DIRUT)
"RTN","ONCOGEN",89,0)
 K IOP,%ZIS S %ZIS="MQN" W ! D ^%ZIS S ONCOIO=ION_";"_IOST_";"_IOM_";"_IOSL G:POP EX
"RTN","ONCOGEN",90,0)
 I $D(IO("Q")) S ONCQ=1 D TASK G EX
"RTN","ONCOGEN",91,0)
RTN ;
"RTN","ONCOGEN",92,0)
 S ONCOQUIT=0,ONCIOST=IOST
"RTN","ONCOGEN",93,0)
 I PCEABS'=1 F ONCX=0:0 S ONCX=$O(^ONCO(165.5,"APCE",PCESEL,ONCX)) Q:ONCX'>""  S ONCODA=ONCX D PRINT Q:$G(Y)=0
"RTN","ONCOGEN",94,0)
 I PCEABS=1 F ONCX=0:0 S ONCX=$O(^ONCO(165.5,"APCE",PCESEL,ONCX)) Q:ONCX'>""!ONCOQUIT  D
"RTN","ONCOGEN",95,0)
 .S ONCODA=ONCX,PRTPCE=1
"RTN","ONCOGEN",96,0)
 .S DIOEND="S DN=1,D0=ONCODA F RK=2:1:11 K DXS D @(""^ONCOX""_RK)"
"RTN","ONCOGEN",97,0)
 .S (DA,NUMBER,FR,TO)=ONCODA,BY="@NUMBER",L=0,DIC="^ONCO(165.5,"
"RTN","ONCOGEN",98,0)
 .S FLDS="[ONCOX1]"
"RTN","ONCOGEN",99,0)
 .S IOP=ONCOIO D EN1^DIP
"RTN","ONCOGEN",100,0)
 .I $E(ONCIOST)="C" K DIR S DIR(0)="E" D ^DIR S ONCOQUIT=$S(Y'>0:1,1:0)
"RTN","ONCOGEN",101,0)
 .Q
"RTN","ONCOGEN",102,0)
 G EX
"RTN","ONCOGEN",103,0)
PCEVARS ; SET VARIABLES NEEDED TO PRINT THE PCE(S).
"RTN","ONCOGEN",104,0)
 K DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCOGEN",105,0)
 S D0=ONCODA,NODE0=^ONCO(165.5,D0,0)
"RTN","ONCOGEN",106,0)
 S S=$P(NODE0,U,1),SITEGP=$P(^ONCO(164.2,S,0),U,1),DATEDX=$P(NODE0,U,16)
"RTN","ONCOGEN",107,0)
 S Y=$P(NODE0,U,2),C=$P(^DD(165.5,.02,0),U,2) D Y^DIQ S PATNAM=Y
"RTN","ONCOGEN",108,0)
 S SAVED0=D0 S D0=$P(NODE0,U,2) D SSN^ONCOES S SSN=X,D0=SAVED0
"RTN","ONCOGEN",109,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD="",TOPNAM=""
"RTN","ONCOGEN",110,0)
 I TOP'="" S TOPNAM=$P(^ONCO(164,TOP,0),U,1),TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOGEN",111,0)
 S TOPTAB=79-$L(TOPNAM),TTAB=79-$L(TOPCOD)
"RTN","ONCOGEN",112,0)
 S NOS=TOPTAB-$L(PATNAM),NOS=NOS-1 K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOGEN",113,0)
 S ONCONUM=D0,ONCOPA=$P(NODE0,U,2)
"RTN","ONCOGEN",114,0)
 Q
"RTN","ONCOGEN",115,0)
TASK ;Queue a task
"RTN","ONCOGEN",116,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCOGEN",117,0)
 S ZTRTN="RTN^ONCOGEN"
"RTN","ONCOGEN",118,0)
 S ZTREQ="@",ZTSAVE("ZTREQ")="",ZTSAVE("ONCODA")="",ZTSAVE("PCESEL")=""
"RTN","ONCOGEN",119,0)
 S ZTSAVE("DATEDX")="",ZTSAVE("PCEABS")="",ZTSAVE("ONCOIO")=""
"RTN","ONCOGEN",120,0)
 S ZTSAVE("ONCQ")="",ZTDESC="Print PCE Data"
"RTN","ONCOGEN",121,0)
 D ^%ZTLOAD W !,"Request Queued",!
"RTN","ONCOGEN",122,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCOPCE")
0^13^B15709082
"RTN","ONCOPCE",1,0)
ONCOPCE ;HIRMFO/GWB PCE MAIN ROUTINE ;5/21/96
"RTN","ONCOPCE",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCOPCE",3,0)
 N D0,DA,DD,DIC,DIE,DINUM,DIR,DLAYGO,DO,DR,DP,DL,DQ,DM,DK,DI,DIEL,DOV
"RTN","ONCOPCE",4,0)
 G:'ONCOD0P EXIT S ONCONUM=+ONCOD0P N ONCOD0P
"RTN","ONCOPCE",5,0)
 G:'ONCOD0 EXIT S ONCOPA=ONCOD0 N ONCOD0
"RTN","ONCOPCE",6,0)
 K PCEITC
"RTN","ONCOPCE",7,0)
 S PCEITC("C38.0")="" ;Heart
"RTN","ONCOPCE",8,0)
 S PCEITC("C38.1")="" ;Mediastinum, anterior
"RTN","ONCOPCE",9,0)
 S PCEITC("C38.2")="" ;Mediastinum, posterior
"RTN","ONCOPCE",10,0)
 S PCEITC("C38.3")="" ;Mediastinum, NOS
"RTN","ONCOPCE",11,0)
 S PCEITC("C38.4")="" ;Pleura, NOS
"RTN","ONCOPCE",12,0)
 S PCEITC("C38.8")="" ;Heart/Medias/Pleura, overlap
"RTN","ONCOPCE",13,0)
 S PCEITC("C44.0")="" ;Skin of lip, NOS
"RTN","ONCOPCE",14,0)
 S PCEITC("C44.2")="" ;External ear
"RTN","ONCOPCE",15,0)
 S PCEITC("C44.3")="" ;Skin of other and unspecified parts of face
"RTN","ONCOPCE",16,0)
 S PCEITC("C44.4")="" ;Skin of scalp and neck
"RTN","ONCOPCE",17,0)
 S PCEITC("C44.5")="" ;Skin of trunk
"RTN","ONCOPCE",18,0)
 S PCEITC("C44.6")="" ;Skin of upper limb and shoulder
"RTN","ONCOPCE",19,0)
 S PCEITC("C44.7")="" ;Skin of lower limb and hip
"RTN","ONCOPCE",20,0)
 S PCEITC("C44.8")="" ;Overlapping lesion
"RTN","ONCOPCE",21,0)
 S PCEITC("C44.9")="" ;Skin, NOS
"RTN","ONCOPCE",22,0)
 S PCEITC("C47.0")="" ;Nerves, head & neck
"RTN","ONCOPCE",23,0)
 S PCEITC("C47.1")="" ;Nerves, upper limb
"RTN","ONCOPCE",24,0)
 S PCEITC("C47.2")="" ;Nerves, lower limb
"RTN","ONCOPCE",25,0)
 S PCEITC("C47.3")="" ;Nerves, thorax
"RTN","ONCOPCE",26,0)
 S PCEITC("C47.4")="" ;Nerves, abdomen
"RTN","ONCOPCE",27,0)
 S PCEITC("C47.5")="" ;Nerves, pelvis
"RTN","ONCOPCE",28,0)
 S PCEITC("C47.6")="" ;Nerves, trunk
"RTN","ONCOPCE",29,0)
 S PCEITC("C47.8")="" ;Nerves, overlap
"RTN","ONCOPCE",30,0)
 S PCEITC("C47.9")="" ;Autonomic nervous system, NOS
"RTN","ONCOPCE",31,0)
 S PCEITC("C48.0")="" ;Retroperitoneum
"RTN","ONCOPCE",32,0)
 S PCEITC("C48.1")="" ;Peritoneum, specified
"RTN","ONCOPCE",33,0)
 S PCEITC("C48.2")="" ;Peritoneum, NOS
"RTN","ONCOPCE",34,0)
 S PCEITC("C48.8")="" ;Retroperitoneum overlap
"RTN","ONCOPCE",35,0)
 S PCEITC("C49.0")="" ;Soft tissues, head & neck
"RTN","ONCOPCE",36,0)
 S PCEITC("C49.1")="" ;Soft tissues, upper limb
"RTN","ONCOPCE",37,0)
 S PCEITC("C49.2")="" ;Soft tissues, lower limb
"RTN","ONCOPCE",38,0)
 S PCEITC("C49.3")="" ;Soft tissues, thorax
"RTN","ONCOPCE",39,0)
 S PCEITC("C49.4")="" ;Soft tissues, abdomen
"RTN","ONCOPCE",40,0)
 S PCEITC("C49.5")="" ;Soft tissues, pelvis
"RTN","ONCOPCE",41,0)
 S PCEITC("C49.6")="" ;Soft tissues, trunk
"RTN","ONCOPCE",42,0)
 S PCEITC("C49.8")="" ;Soft tissues overlap
"RTN","ONCOPCE",43,0)
 S PCEITC("C49.9")="" ;Soft tissues NOS
"RTN","ONCOPCE",44,0)
 S PCEITC("C61.9")="" ;Prostate
"RTN","ONCOPCE",45,0)
 S PCEITC("C67.0")="" ;Urinary Bladder
"RTN","ONCOPCE",46,0)
 S PCEITC("C67.1")="" ;Urinary Bladder
"RTN","ONCOPCE",47,0)
 S PCEITC("C67.2")="" ;Urinary Bladder
"RTN","ONCOPCE",48,0)
 S PCEITC("C67.3")="" ;Urinary Bladder
"RTN","ONCOPCE",49,0)
 S PCEITC("C67.4")="" ;Urinary Bladder
"RTN","ONCOPCE",50,0)
 S PCEITC("C67.5")="" ;Urinary Bladder
"RTN","ONCOPCE",51,0)
 S PCEITC("C67.6")="" ;Urinary Bladder
"RTN","ONCOPCE",52,0)
 S PCEITC("C67.7")="" ;Urinary Bladder
"RTN","ONCOPCE",53,0)
 S PCEITC("C67.8")="" ;Urinary Bladder
"RTN","ONCOPCE",54,0)
 S PCEITC("C67.9")="" ;Urinary Bladder
"RTN","ONCOPCE",55,0)
 S PCEITC("C68.0")="" ;Urinary Bladder (Urethra)
"RTN","ONCOPCE",56,0)
 S PCEITC("C73.9")="" ;Thyroid gland
"RTN","ONCOPCE",57,0)
 ;Check for pediatric cases of rhabdomyosarcoma (Soft Tissue Sarcoma)
"RTN","ONCOPCE",58,0)
 S D0=ONCOPA D DOB1^ONCOES S X1=DT,X2=X D ^%DTC S AGE=X\365.25,D0=ONCONUM
"RTN","ONCOPCE",59,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCOPCE",60,0)
 I AGE<21,((HIST=89003)!(HIST=89013)!(HIST=89023)!(HIST=89103)!(HIST=89203)) D ^ONCSPC0 G EXIT
"RTN","ONCOPCE",61,0)
 ;Check ICDO code
"RTN","ONCOPCE",62,0)
 S ICDO=0,NODE2=$G(^ONCO(165.5,ONCONUM,2)),ICDOTOP=$P(NODE2,U,1)
"RTN","ONCOPCE",63,0)
 I ICDOTOP'="" S ICDO=$P(^ONCO(164,ICDOTOP,0),U,2)
"RTN","ONCOPCE",64,0)
 I ICDO=0 G:ONCOANS'=5 EXIT W !!,?10,"There is no ICDO-TOPOGRAPHY for this primary." R Z:10 G EXIT
"RTN","ONCOPCE",65,0)
 I '$D(PCEITC(ICDO)) G:ONCOANS'=5 EXIT W !!,?10,"There is currently no PCE for this primary site." R Z:10 G EXIT
"RTN","ONCOPCE",66,0)
 I ($E(ICDO,2,3)=67)!($E(ICDO,2,3)=68) D ^ONCBPC0 G EXIT
"RTN","ONCOPCE",67,0)
 I ($E(ICDO,2,3)=38)!($E(ICDO,2,3)=47)!($E(ICDO,2,3)=48)!($E(ICDO,2,3)=49)!($E(ICDO,2,3)=44) D ^ONCSPC0 G EXIT
"RTN","ONCOPCE",68,0)
 I ICDO="C73.9" D ^ONCTPC0 G EXIT
"RTN","ONCOPCE",69,0)
 I ICDO="C61.9" D ^ONCPPC0 G EXIT
"RTN","ONCOPCE",70,0)
 Q
"RTN","ONCOPCE",71,0)
EXIT K PCEITC,NODE2,ICDOTOP,ICDO,Z,X1,X2,AGE
"RTN","ONCOPCE",72,0)
 Q
"RTN","ONCOPCE",73,0)
DATEIT ;Date input transform
"RTN","ONCOPCE",74,0)
 I X="00/00/00" S X=2000000 S ITFLAG="YES" Q
"RTN","ONCOPCE",75,0)
 I X="00/00/0000" S X=2000000 S ITFLAG="YES" Q
"RTN","ONCOPCE",76,0)
 I X="99/99/99" S X=2999999 S ITFLAG="YES" Q
"RTN","ONCOPCE",77,0)
 I X="99/99/9999" S X=2999999 S ITFLAG="YES" Q
"RTN","ONCOPCE",78,0)
 Q
"RTN","ONCOPCE",79,0)
DATEOT ;Date output transform in format MM/DD/YYYY
"RTN","ONCOPCE",80,0)
 Q:Y=""
"RTN","ONCOPCE",81,0)
 S Y=$S(Y=2000000:"00/00/00",Y=2999999:"99/99/99",1:$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3))
"RTN","ONCOPCE",82,0)
 Q
"RTN","ONCOTN")
0^3^B62226249
"RTN","ONCOTN",1,0)
ONCOTN ;WASH ISC/SRR,MLH,RTK-TNM CODES ;9/27/93
"RTN","ONCOTN",2,0)
 ;;2.11;ONCOLOGY;**1,3,6,7**;Mar 07, 1995
"RTN","ONCOTN",3,0)
CK ;AJCC TNM coding
"RTN","ONCOTN",4,0)
 S Y=$$CHECK^ONCOTNT Q:Y
"RTN","ONCOTN",5,0)
 S Y=69                                       ;Multiple tumors
"RTN","ONCOTN",6,0)
 S S=$P(^ONCO(165.5,D0,0),U,1)                ;Site/Gp
"RTN","ONCOTN",7,0)
 S ONCOT=$P($G(^ONCO(165.5,D0,2)),U,1)        ;ICDO-Topography
"RTN","ONCOTN",8,0)
 S ONCOH=$P($G(^ONCO(165.5,D0,2)),U,3)        ;Histology
"RTN","ONCOTN",9,0)
 S ONCOCLTP=$P($G(^ONCO(164.1,+ONCOH,0)),U,8) ;Cell type
"RTN","ONCOTN",10,0)
 D YR(D0)
"RTN","ONCOTN",11,0)
 I S=40 D MORP^ONCOTNE Q                      ;Mycosis fungoides
"RTN","ONCOTN",12,0)
 I S=62 D   S Y=38 Q                          ;Lymph Nodes 
"RTN","ONCOTN",13,0)
 .W !!?5,"No TNM classification is available for Lymph Nodes.",!
"RTN","ONCOTN",14,0)
 .D CTNM88,PTNM88
"RTN","ONCOTN",15,0)
 I S=63 D   S Y=38 Q                          ;Non-Hodgkin's Lymphoma 
"RTN","ONCOTN",16,0)
 .W !!?5,"No TNM classification is available for non-Hodgkin's lymphoma.",!
"RTN","ONCOTN",17,0)
 .D CTNM88,PTNM88
"RTN","ONCOTN",18,0)
 I ($E(ONCOH,1,3)>958)&($E(ONCOH,1,3)<972) W !!?5,"No TNM coding available for lymphoma.",! D CTNM88,PTNM88 S Y=38 Q  ;lymphoma: no TNM coding, but allow entry of AJCC SUMMARY STAGE
"RTN","ONCOTN",19,0)
 I (S=35)!(S>65&(S<71)) W !!?5,"Systemic disease - No TNM classification or staging available.",! S Y=39 Q
"RTN","ONCOTN",20,0)
 I ONCOT=67632,ONCOCLTP'=3,ONCOCLTP'=4 D  S Y="@38" Q  ;Scrotum
"RTN","ONCOTN",21,0)
 .W !!?5,"No TNM classification available."
"RTN","ONCOTN",22,0)
 .W !?5,"Not a carcinoma of the skin."
"RTN","ONCOTN",23,0)
 I $E(ONCOT,1,4)=6757 D C57^ONCOTNE Q  ;other/unspecified female genital
"RTN","ONCOTN",24,0)
 I (ONCOT=67630)!(ONCOT=67631) D C57^ONCOTNE Q  ;epididymus or spermatic cord
"RTN","ONCOTN",25,0)
 I ONCOT="" W !!?5,"Topography not Defined!!",! S Y=20 Q
"RTN","ONCOTN",26,0)
 I ONCOH=91403 W !!?5,"No TNM classification or staging available for Kaposi's sarcoma.",! D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB S Y="@38" Q
"RTN","ONCOTN",27,0)
 G NO4:$P(^ONCO(164,ONCOT,0),U,11)=""
"RTN","ONCOTN",28,0)
 I 'ONCOYR G NO3:ONCOT>67169&(ONCOT<67180),NO3:ONCOT=67384
"RTN","ONCOTN",29,0)
 Q
"RTN","ONCOTN",30,0)
NO3 W !!?5,"NO AJCC TNM Coding Schema in 3rd Edition",!! S Y=39 Q
"RTN","ONCOTN",31,0)
NO4 ;Compute patient age
"RTN","ONCOTN",32,0)
 ;S D0=ONCOD0
"RTN","ONCOTN",33,0)
 ;D DOB1^ONCOES S X1=DT,X2=X D ^%DTC S AGE=X\365.25
"RTN","ONCOTN",34,0)
 ;S D0=ONCOD0P
"RTN","ONCOTN",35,0)
 ;I AGE<22 W !!?5,"This patient is less than 22 years old.  TNM coding is applicable",! Q
"RTN","ONCOTN",36,0)
 W !!?5,"No stage grouping is presently recommended.",!
"RTN","ONCOTN",37,0)
 D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB S Y=39 Q
"RTN","ONCOTN",38,0)
 ;
"RTN","ONCOTN",39,0)
CN1 ;Check before CLINICAL N
"RTN","ONCOTN",40,0)
 S S=$P(^ONCO(165.5,D0,0),U),ONCOT=+$G(^(2)),SKAJCC=0 I '$D(ONCOH) S ONCOH=$P($G(^ONCO(165.5,D0,2)),"^",3)
"RTN","ONCOTN",41,0)
 I S=38,ONCOT=67441,ONCOH=80703 S SKAJCC=1 S $P(^ONCO(165.5,D0,2),"^",20)=88
"RTN","ONCOTN",42,0)
 I S=57,"67690^67696^67695"[ONCOT,ONCOH=80703!(ONCOH'<87202&(ONCOH'>87743))!(ONCOH'<88003&(ONCOH'>99303)) S SKAJCC=1 S $P(^ONCO(165.5,D0,2),"^",20)=88
"RTN","ONCOTN",43,0)
 Q
"RTN","ONCOTN",44,0)
CN2 S Y=$S(X="":85,'$D(ONCOT):20,(ONCOT<67700!(ONCOT>67719)):37.2,1:37.3) I Y=37.3 W !,"CLINICAL N: N88 Not Applicable" S $P(^ONCO(165.5,D0,2),"^",26)=88
"RTN","ONCOTN",45,0)
 Q
"RTN","ONCOTN",46,0)
 ;
"RTN","ONCOTN",47,0)
CN3 ;Check before PATHOLOGIC N
"RTN","ONCOTN",48,0)
 S S=$P(^ONCO(165.5,D0,0),U),ONCOT=+$G(^(2)),SKAJCC=0 I '$D(ONCOH) S ONCOH=$P($G(^ONCO(165.5,D0,2)),"^",3)
"RTN","ONCOTN",49,0)
 I S=38,ONCOT=67441,ONCOH=80703 S SKAJCC=1 S $P(^ONCO(165.5,D0,2.1),"^",4)=88
"RTN","ONCOTN",50,0)
 I S=57,"67690^67696^67695"[ONCOT,ONCOH=80703!(ONCOH'<87202&(ONCOH'>87743))!(ONCOH'<88003&(ONCOH'>99303)) S SKAJCC=1 S $P(^ONCO(165.5,D0,2.1),"^",4)=88
"RTN","ONCOTN",51,0)
 Q
"RTN","ONCOTN",52,0)
CN4 S Y=$S(X="":39,'$D(ONCOT):20,(ONCOT<67700!(ONCOT>67719)):86,1:87) I Y=87 W !,"PATHOLOGIC N: N88 Not Applicable" S $P(^ONCO(165.5,D0,2.1),"^",2)=88
"RTN","ONCOTN",53,0)
 Q
"RTN","ONCOTN",54,0)
 ;
"RTN","ONCOTN",55,0)
CN5 ;Check before OTHER N
"RTN","ONCOTN",56,0)
 S S=$P(^ONCO(165.5,D0,0),U),ONCOT=+$G(^(2)),SKAJCC=0 I '$D(ONCOH) S ONCOH=$P($G(^ONCO(165.5,D0,2)),"^",3)
"RTN","ONCOTN",57,0)
 I S=38,ONCOT=67441,ONCOH=80703 S SKAJCC=1 S $P(^ONCO(165.5,D0,2.1),"^",9)=88
"RTN","ONCOTN",58,0)
 I S=57,"67690^67696^67695"[ONCOT,ONCOH=80703!(ONCOH'<87202&(ONCOH'>87743))!(ONCOH'<88003&(ONCOH'>99303)) S SKAJCC=1 S $P(^ONCO(165.5,D0,2.1),"^",9)=88
"RTN","ONCOTN",59,0)
 Q
"RTN","ONCOTN",60,0)
CN6 S Y=$S(X="":72,(ONCOT<67700!(ONCOT>67719)):98,1:99) I Y=99 W !,"OTHER N: N88 Not Applicable"
"RTN","ONCOTN",61,0)
 Q
"RTN","ONCOTN",62,0)
 ;
"RTN","ONCOTN",63,0)
RECN5 ;Check before OTHER N
"RTN","ONCOTN",64,0)
 S S=$P(^ONCO(165.5,D0,0),U),ONCOT=+$G(^(2)),SKAJCC=0 I '$D(ONCOH) S ONCOH=$P($G(^ONCO(165.5,D0,2)),"^",3)
"RTN","ONCOTN",65,0)
 I S=38,ONCOT=67441,ONCOH=80703 S SKAJCC=1 S $P(^ONCO(165.5,D0,23,DA,0),"^",9)=88
"RTN","ONCOTN",66,0)
 I S=57,"67690^67696^67695"[ONCOT,ONCOH=80703!(ONCOH'<87202&(ONCOH'>87743))!(ONCOH'<88003&(ONCOH'>99303)) S SKAJCC=1 S $P(^ONCO(165.5,D0,23,DA,0),"^",9)=88
"RTN","ONCOTN",67,0)
 Q
"RTN","ONCOTN",68,0)
RECN6 S Y=$S(X="":"@1107",(ONCOT<67700!(ONCOT>67719)):2,1:3) I Y=3 W !,"OTHER N: N88 Not Applicable"
"RTN","ONCOTN",69,0)
 Q
"RTN","ONCOTN",70,0)
 ;
"RTN","ONCOTN",71,0)
ES ;Enter Staging - called by input template ONCO ABSTRACT-I
"RTN","ONCOTN",72,0)
 S STGTYP=$S(STGIND="C":"CLINICAL",STGIND="P":"PATHOLOGIC",STGIND="O":"OTHER",STGIND="R":"RECURRENCE",1:"")
"RTN","ONCOTN",73,0)
 N ONCOMAN S ONCOMAN=$$TNMED^ONCOU55(D0) Q:ONCOMAN<3  ;edition of the AJCC Manual on Staging - we only stage 3rd edition and up
"RTN","ONCOTN",74,0)
 I '$D(WRTFLG) S WRTFLG=1 ;interact with user?  default is yes.
"RTN","ONCOTN",75,0)
 D YR(D0) ;get diagnosis year, etc.
"RTN","ONCOTN",76,0)
 S ST=$P(^ONCO(165.5,D0,0),U)
"RTN","ONCOTN",77,0)
 S XX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTN",78,0)
 I STGIND="C" D
"RTN","ONCOTN",79,0)
 .S XXX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTN",80,0)
 .S T=$P(XXX,U,25)
"RTN","ONCOTN",81,0)
 .S N=$P(XXX,U,26)
"RTN","ONCOTN",82,0)
 .S M=$P(XXX,U,27)
"RTN","ONCOTN",83,0)
 I STGIND="P" D
"RTN","ONCOTN",84,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTN",85,0)
 .S T=$P(XXX,U,1)
"RTN","ONCOTN",86,0)
 .S N=$P(XXX,U,2)
"RTN","ONCOTN",87,0)
 .S M=$P(XXX,U,3)
"RTN","ONCOTN",88,0)
 I STGIND="O" D
"RTN","ONCOTN",89,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTN",90,0)
 .S T=$P(XXX,U,6)
"RTN","ONCOTN",91,0)
 .S N=$P(XXX,U,7)
"RTN","ONCOTN",92,0)
 .S M=$P(XXX,U,8)
"RTN","ONCOTN",93,0)
 I STGIND="R" D
"RTN","ONCOTN",94,0)
 .S XXX=$G(^ONCO(165.5,D0,23,DA,0))
"RTN","ONCOTN",95,0)
 .S T=$P(XXX,U,6)
"RTN","ONCOTN",96,0)
 .S N=$P(XXX,U,7)
"RTN","ONCOTN",97,0)
 .S M=$P(XXX,U,8)
"RTN","ONCOTN",98,0)
 G EX:XX="" S XN=N
"RTN","ONCOTN",99,0)
 I T="" W:WRTFLG !!?5,"No ",STGTYP," T category has been assigned." S SG=99 G SG
"RTN","ONCOTN",100,0)
 I N="",ST'=58 W:WRTFLG !!?5,"No ",STGTYP," N category has been assigned." S SG=99 G SG
"RTN","ONCOTN",101,0)
 I M="" W:WRTFLG !?5,"No ",STGTYP," M category has been assigned." S SG=99 G SG
"RTN","ONCOTN",102,0)
G S G=$P(^ONCO(165.5,D0,2),U,5),TX=$P(^ONCO(165.5,D0,2),U,1),SP=$P($G(^ONCO(164,+TX,0)),U,11)
"RTN","ONCOTN",103,0)
 I $$MELANOMA^ONCOU55(D0),$P($G(^ONCO(164,+TX,0)),U,15) S AG=22 ;malignant melanoma of the skin?  yes.
"RTN","ONCOTN",104,0)
 E  I TX=67441 D MELEYE G N:AG="" ;eyelid
"RTN","ONCOTN",105,0)
 E  I ST'=39,ST'=40 S AG=$P($G(^ONCO(164,+TX,0)),U,12) ;eye cancer?  no
"RTN","ONCOTN",106,0)
 E  S TX=$E(TX,3,5),AG=$S(ST=40:46,$E(TX,1,2)=44:22,TX=690:39,TX=693!(TX=694):40,1:"")
"RTN","ONCOTN",107,0)
 ;
"RTN","ONCOTN",108,0)
AG S C=$S($L(AG)=1:0,1:$E(AG))
"RTN","ONCOTN",109,0)
 S SG=99 ;assume unstageable
"RTN","ONCOTN",110,0)
 I T=88,N=88,M=88 S SG=88 G SG
"RTN","ONCOTN",111,0)
 D @(AG_"^ONCOTN"_C) ;try to get stage
"RTN","ONCOTN",112,0)
 I SG="C" S SG=$S(+T=3:3,+T=2:2,+T:1,'T&'N:0,1:"E")
"RTN","ONCOTN",113,0)
END I SG="E" W:WRTFLG !!?5,"Cannot Stage with given T,N,M coding",!! S SG=99
"RTN","ONCOTN",114,0)
NS ;NO STAGE
"RTN","ONCOTN",115,0)
N I SG="" D:WRTFLG WAIT^ONCOTNE S Y="@4" G EX
"RTN","ONCOTN",116,0)
SG ;COMPUTED STAGE from T,N,M input
"RTN","ONCOTN",117,0)
 I STGIND="C" S $P(^ONCO(165.5,D0,2),U,20)=SG ;set to the file
"RTN","ONCOTN",118,0)
 I STGIND="P" S $P(^ONCO(165.5,D0,2.1),U,4)=SG ;set to the file
"RTN","ONCOTN",119,0)
 I STGIND="O" S $P(^ONCO(165.5,D0,2.1),U,9)=SG ;set to the file
"RTN","ONCOTN",120,0)
 I STGIND="R" S $P(^ONCO(165.5,D0,23,DA,0),U,9)=SG ;set to the file
"RTN","ONCOTN",121,0)
XR ;
"RTN","ONCOTN",122,0)
 I SG'="" S X=SG D KSG^ONCOCRC D  ;"trigger" AJCC stage (#38.5)
"RTN","ONCOTN",123,0)
 .I STGIND="C" D CSSG^ONCOCRC Q
"RTN","ONCOTN",124,0)
 .I STGIND="P" D PSSG^ONCOCRC Q
"RTN","ONCOTN",125,0)
 .Q
"RTN","ONCOTN",126,0)
 I WRTFLG W !!?12,"Computed "_$S(STGIND="C":"CLINICAL",STGIND="P":"PATHOLOGIC",STGIND="O":"OTHER",STGIND="R":"RECURRENCE",1:"")," STAGE GROUP: ",$$SGOUT^ONCOTNO(D0),! ;expand for output
"RTN","ONCOTN",127,0)
OS ;Check for Other Staging #39 (Colon,Digest,Rectum,Melanoma,Prostate)
"RTN","ONCOTN",128,0)
 S RY=$S(ST=14:39,ST=17:39,ST=18:39,ST=39:39,ST=50:39,1:"@4")
"RTN","ONCOTN",129,0)
CD ;Check Data
"RTN","ONCOTN",130,0)
 N DIR,DP,DQ
"RTN","ONCOTN",131,0)
 Q
"RTN","ONCOTN",132,0)
 ;
"RTN","ONCOTN",133,0)
YR(D0) ;check switch AJCC for ONCOLOGY PRIMARY entry D0
"RTN","ONCOTN",134,0)
 S ONCOYR=($$TNMED^ONCOU55(D0)=4) ;using 4th edition staging?
"RTN","ONCOTN",135,0)
 Q
"RTN","ONCOTN",136,0)
 ;
"RTN","ONCOTN",137,0)
EX ;EXIT ROUTINES
"RTN","ONCOTN",138,0)
 K NX
"RTN","ONCOTN",139,0)
 Q
"RTN","ONCOTN",140,0)
M ;Check Morphology
"RTN","ONCOTN",141,0)
 S H=$P(XX,U,3),SG=88 Q:H=87203  W:WRTFLG !?5,"Staging Schema not applicable for Morphology: "_$E(H,1,4)_"/"_$E(H,5),! S SG=88 Q
"RTN","ONCOTN",142,0)
UNS ;UNSTAGED
"RTN","ONCOTN",143,0)
 S SG=99
"RTN","ONCOTN",144,0)
 Q
"RTN","ONCOTN",145,0)
AS ;ANATOMICAL SITE
"RTN","ONCOTN",146,0)
 ;
"RTN","ONCOTN",147,0)
MELEYE ;see if we can stage EYELID
"RTN","ONCOTN",148,0)
 IF $$MELANOMA^ONCOU55(D0) D
"RTN","ONCOTN",149,0)
 .  IF $P($G(^ONCO(165.5,D0,2)),U,18)="P" S AG=37 ;to stage, must have pathologic classification of primary tumor
"RTN","ONCOTN",150,0)
 .  ELSE  D  ;process error condition
"RTN","ONCOTN",151,0)
 ..    IF WRTFLG D  ;output error message if interactive mode
"RTN","ONCOTN",152,0)
 ...      W !!?5,"Pathologic classification of primary tumor is required"
"RTN","ONCOTN",153,0)
 ...      W !?5,"for staging of MALIGNANT MELANOMA OF THE EYELID",!
"RTN","ONCOTN",154,0)
 ...      Q
"RTN","ONCOTN",155,0)
 ..    ;END IF
"RTN","ONCOTN",156,0)
 ..    ;
"RTN","ONCOTN",157,0)
 ..    S AG="",SG=88
"RTN","ONCOTN",158,0)
 ..    Q
"RTN","ONCOTN",159,0)
 .  ;END IF
"RTN","ONCOTN",160,0)
 .  ;
"RTN","ONCOTN",161,0)
 .  Q
"RTN","ONCOTN",162,0)
 ELSE  S AG="",SG=88
"RTN","ONCOTN",163,0)
 ;END IF
"RTN","ONCOTN",164,0)
 ;
"RTN","ONCOTN",165,0)
 Q
"RTN","ONCOTN",166,0)
CTNM88 ;CLINICAL TNM88
"RTN","ONCOTN",167,0)
 S $P(^ONCO(165.5,D0,2),U,25)=88
"RTN","ONCOTN",168,0)
 S $P(^ONCO(165.5,D0,2),U,26)=88
"RTN","ONCOTN",169,0)
 S $P(^ONCO(165.5,D0,2),U,27)=88
"RTN","ONCOTN",170,0)
 W !,"CLINICAL T: T88 Not Applicable"
"RTN","ONCOTN",171,0)
 W !,"CLINICAL N: N88 Not Applicable"
"RTN","ONCOTN",172,0)
 W !,"CLINICAL M: M88 Not Applicable",!
"RTN","ONCOTN",173,0)
 Q
"RTN","ONCOTN",174,0)
CSB I DATEDX>2951231 D
"RTN","ONCOTN",175,0)
 .S $P(^ONCO(165.5,D0,3),U,32)=0
"RTN","ONCOTN",176,0)
 .W !,"STAGED BY (CLINICAL STAGE): Not staged",!
"RTN","ONCOTN",177,0)
 Q
"RTN","ONCOTN",178,0)
PTNM88 ;PATHOLOGIC TNM88
"RTN","ONCOTN",179,0)
 S $P(^ONCO(165.5,D0,2.1),U,1)=88
"RTN","ONCOTN",180,0)
 S $P(^ONCO(165.5,D0,2.1),U,2)=88
"RTN","ONCOTN",181,0)
 S $P(^ONCO(165.5,D0,2.1),U,3)=88
"RTN","ONCOTN",182,0)
 W !,"PATHOLOGIC T: T88 Not Applicable"
"RTN","ONCOTN",183,0)
 W !,"PATHOLOGIC N: N88 Not Applicable"
"RTN","ONCOTN",184,0)
 W !,"PATHOLOGIC M: M88 Not Applicable",!
"RTN","ONCOTN",185,0)
 Q
"RTN","ONCOTN",186,0)
PSB I DATEDX>2951231 D
"RTN","ONCOTN",187,0)
 .S $P(^ONCO(165.5,D0,2.1),U,5)=0
"RTN","ONCOTN",188,0)
 .W !,"STAGED BY (PATHOLOGIC STAGE): Not staged",!
"RTN","ONCOTN",189,0)
 Q
"RTN","ONCOTN",190,0)
CSTG88 ;CLINICAL STAGE88
"RTN","ONCOTN",191,0)
 S $P(^ONCO(165.5,D0,2),"^",20)=88
"RTN","ONCOTN",192,0)
 W !,"CLINICAL STAGE GROUP: Not applicable",!
"RTN","ONCOTN",193,0)
 Q
"RTN","ONCOTN",194,0)
PSTG88 ;PATHOLOGIC STAGE88
"RTN","ONCOTN",195,0)
 S $P(^ONCO(165.5,D0,2.1),"^",4)=88
"RTN","ONCOTN",196,0)
 W !,"PATHOLOGIC STAGE GROUP: Not applicable",!
"RTN","ONCOTN",197,0)
 Q
"RTN","ONCOTNMB")
0^8^B715811
"RTN","ONCOTNMB",1,0)
ONCOTNMB ;WISC/MLH - ONCOLOGY - HELPER for TNM codes ;8/21/93  11:55
"RTN","ONCOTNMB",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCOTNMB",3,0)
 ;
"RTN","ONCOTNMB",4,0)
MMEYELID ;Check stage indicator for PATHOLOGIC or OTHER
"RTN","ONCOTNMB",5,0)
 I (STGIND="P")!(STGIND="O")!(STGIND="R") S SC=37
"RTN","ONCOTNMB",6,0)
 E  D
"RTN","ONCOTNMB",7,0)
 .W:$G(WFLG)="Y" !?5,"No CLINICAL T categories of MALIGNANT MELANOMA OF THE EYELID are",!?5,"presently recommended.",!
"RTN","ONCOTNMB",8,0)
 .S ST="" K X
"RTN","ONCOTNMB",9,0)
 Q
"RTN","ONCOTNO")
0^7^B6254122
"RTN","ONCOTNO",1,0)
ONCOTNO ;WISC/MLH - ONCOLOGY - Automatic Staging - Convert AJCC stage for output ;7/1/93  13:22
"RTN","ONCOTNO",2,0)
 ;;2.11;ONCOLOGY;**1,6,7**;Mar 07, 1995
"RTN","ONCOTNO",3,0)
 QUIT  ;no direct entry
"RTN","ONCOTNO",4,0)
 ;
"RTN","ONCOTNO",5,0)
SGOUT(IEN) ;function returns AJCC stage formatted for display
"RTN","ONCOTNO",6,0)
 N XX,XXX,SG
"RTN","ONCOTNO",7,0)
 S XX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTNO",8,0)
 I STGIND="C" D
"RTN","ONCOTNO",9,0)
 .S XXX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTNO",10,0)
 .S SG=$P(XXX,U,20)
"RTN","ONCOTNO",11,0)
 I STGIND="P" D
"RTN","ONCOTNO",12,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTNO",13,0)
 .S SG=$P(XXX,U,4)
"RTN","ONCOTNO",14,0)
 I STGIND="O" D
"RTN","ONCOTNO",15,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTNO",16,0)
 .S SG=$P(XXX,U,9)
"RTN","ONCOTNO",17,0)
 I STGIND="R" D
"RTN","ONCOTNO",18,0)
 .S XXX=$G(^ONCO(165.5,D0,23,DA,0))
"RTN","ONCOTNO",19,0)
 .S SG=$P(XXX,U,9)
"RTN","ONCOTNO",20,0)
 N ONCOZ,XSG S ONCOZ=$E(SG),XSG=$S(ONCOZ=1:"I",ONCOZ=2:"II",ONCOZ=3:"III",ONCOZ=4:"IV",ONCOZ=8:8,ONCOZ=9:9,1:ONCOZ),XSG=XSG_$E(SG,2,$L(SG))
"RTN","ONCOTNO",21,0)
 S SG=XSG_" ("_$$TNMOUT(IEN)_")"
"RTN","ONCOTNO",22,0)
 QUIT SG
"RTN","ONCOTNO",23,0)
 ;
"RTN","ONCOTNO",24,0)
TNMOUT(IEN) ;Returns TNM coding formatted for display
"RTN","ONCOTNO",25,0)
 N XXX,II,ONCOTNM S ONCOTNM=""
"RTN","ONCOTNO",26,0)
 I STGIND="C" D
"RTN","ONCOTNO",27,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2))
"RTN","ONCOTNO",28,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",29,0)
 .S ONCOT=$P(XXX(2),U,25)
"RTN","ONCOTNO",30,0)
 .S ONCON=$P(XXX(2),U,26)
"RTN","ONCOTNO",31,0)
 .S ONCOM=$P(XXX(2),U,27)
"RTN","ONCOTNO",32,0)
 I STGIND="P" D
"RTN","ONCOTNO",33,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2.1))
"RTN","ONCOTNO",34,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",35,0)
 .S ONCOT=$P(XXX(2),U,1)
"RTN","ONCOTNO",36,0)
 .S ONCON=$P(XXX(2),U,2)
"RTN","ONCOTNO",37,0)
 .S ONCOM=$P(XXX(2),U,3)
"RTN","ONCOTNO",38,0)
 I STGIND="O" D
"RTN","ONCOTNO",39,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2.1))
"RTN","ONCOTNO",40,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",41,0)
 .S ONCOT=$P(XXX(2),U,6)
"RTN","ONCOTNO",42,0)
 .S ONCON=$P(XXX(2),U,7)
"RTN","ONCOTNO",43,0)
 .S ONCOM=$P(XXX(2),U,8)
"RTN","ONCOTNO",44,0)
 I STGIND="R" D
"RTN","ONCOTNO",45,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,23,DA,0))
"RTN","ONCOTNO",46,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",47,0)
 .S ONCOT=$P(XXX(2),U,6)
"RTN","ONCOTNO",48,0)
 .S ONCON=$P(XXX(2),U,7)
"RTN","ONCOTNO",49,0)
 .S ONCOM=$P(XXX(2),U,8)
"RTN","ONCOTNO",50,0)
 I ONCOT'="" D
"RTN","ONCOTNO",51,0)
 .S ONCOTNM="T"_ONCOT
"RTN","ONCOTNO",52,0)
 .N ONCOMULT S ONCOMULT=$P($G(^ONCO(165.5,D0,2)),U,31) ;multiple tumors
"RTN","ONCOTNO",53,0)
 .I ONCOMULT S ONCOTNM=ONCOTNM_"m" S:ONCOMULT>1 ONCOTNM=ONCOTNM_ONCOMULT
"RTN","ONCOTNO",54,0)
 .I $P(XXX(2),U,32) S ONCOTNM=ONCOTNM_"f" ;Family History
"RTN","ONCOTNO",55,0)
 .I $P(XXX(3),U,30) S ONCOTNM=ONCOTNM_"d" ;Diffuse Retinal Involvement
"RTN","ONCOTNO",56,0)
 S:(ONCOTNM'="")&(ONCON'="") ONCOTNM=ONCOTNM_" "
"RTN","ONCOTNO",57,0)
 S:ONCON'="" ONCOTNM=ONCOTNM_"N"_ONCON
"RTN","ONCOTNO",58,0)
 S:(ONCOTNM'="")&(ONCOM'="") ONCOTNM=ONCOTNM_" "
"RTN","ONCOTNO",59,0)
 S:ONCOM'="" ONCOTNM=ONCOTNM_"M"_ONCOM
"RTN","ONCOTNO",60,0)
 Q ONCOTNM
"RTN","ONCOTNS")
0^2^B11083071
"RTN","ONCOTNS",1,0)
ONCOTNS ;WASH ISC/SRR,MLH-AJCC TNM STAGING ;8/26/93  11:00
"RTN","ONCOTNS",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCOTNS",3,0)
 ;
"RTN","ONCOTNS",4,0)
IN ;CLINICAL and PATHOLOGIC STAGE GROUP input transform 
"RTN","ONCOTNS",5,0)
 N ONCOS S ONCOS=$P($G(^ONCO(165.5,D0,0)),U,1)   ;Site/Gp
"RTN","ONCOTNS",6,0)
 N ONCOH S ONCOH=$P($G(^ONCO(165.5,D0,2)),U,3)   ;Histology
"RTN","ONCOTNS",7,0)
 I (($E(ONCOH,1,3)>958)&($E(ONCOH,1,3)<972))!(ONCOS=62)!(ONCOS=63) D  Q  ;Lymphoma
"RTN","ONCOTNS",8,0)
 .I (X="I")!(X="IE")!(X="II")!(X="IIE")!(X="III")!(X="IIIE")!(X="IIIS")!(X="IIIE+S")!(X="IV") Q
"RTN","ONCOTNS",9,0)
 .K X
"RTN","ONCOTNS",10,0)
 I $D(^ONCO(164.45,"B",X)) Q
"RTN","ONCOTNS",11,0)
 I $D(^ONCO(164.45,"C",X)) D  K ONCOI Q
"RTN","ONCOTNS",12,0)
 .S ONCOI=$O(^ONCO(164.45,"C",X,""))
"RTN","ONCOTNS",13,0)
 .S X=$P($G(^ONCO(164.45,ONCOI,0)),U)
"RTN","ONCOTNS",14,0)
 K X Q
"RTN","ONCOTNS",15,0)
 ;
"RTN","ONCOTNS",16,0)
HP ;HELP Special AJCC Staging
"RTN","ONCOTNS",17,0)
 N ONCOI,ONCOX,ONCOXS,ONCOH,ONCOS,SG1,SG2
"RTN","ONCOTNS",18,0)
 S ONCOI=0,ONCOXS=""
"RTN","ONCOTNS",19,0)
 S ONCOS=$P($G(^ONCO(165.5,D0,0)),U,1) ;Site/Gp
"RTN","ONCOTNS",20,0)
 S ONCOH=$P($G(^ONCO(165.5,D0,2)),U,3) ;Histology
"RTN","ONCOTNS",21,0)
 W !!,"Select one of the following:",!
"RTN","ONCOTNS",22,0)
 F  S ONCOXS=$O(^ONCO(164.45,"B",ONCOXS)) Q:ONCOXS=""  D
"RTN","ONCOTNS",23,0)
 .S ONCOI=$O(^ONCO(164.45,"B",ONCOXS,0)),ONCOX=^ONCO(164.45,ONCOI,0)
"RTN","ONCOTNS",24,0)
 .S SG1=$P(ONCOX,U,1),SG2=$P(ONCOX,U,2)
"RTN","ONCOTNS",25,0)
 .I (($E(ONCOH,1,3)>958)&($E(ONCOH,1,3)<972))!(ONCOS=62)!(ONCOS=63) D  Q  ;Lymphoma
"RTN","ONCOTNS",26,0)
 ..I (SG2="I")!(SG2="IE")!(SG2="II")!(SG2="IIE")!(SG2="III")!(SG2="IIIE")!(SG2="IIIS")!(SG2="IIIE+S")!(SG2="IV") W !?5,SG1,?10,SG2
"RTN","ONCOTNS",27,0)
 .W !?5,SG1,?10,SG2
"RTN","ONCOTNS",28,0)
 Q
"RTN","ONCOTNS",29,0)
 ;S ST=$P(^ONCO(165.5,D0,0),U),SC=$S(ST=62:45,ST=63:45,ST=40:45,1:"") I SC="" W !!?5,"AJCC Staging done Automatically" S Y=39 G EX
"RTN","ONCOTNS",30,0)
 ;S XD0=0 F  S XD0=$O(^ONCO(164.33,SC,"S",XD0)) Q:XD0'>0  S Y=^(XD0,0) W !,?2,XD0,?5,$P(Y,U),?10,$P(Y,U,2)
"RTN","ONCOTNS",31,0)
 ;G EX
"RTN","ONCOTNS",32,0)
OT ;AJCC STAGE (165.5,38) output transform
"RTN","ONCOTNS",33,0)
 I Y'="" D
"RTN","ONCOTNS",34,0)
 .S STG=$O(^ONCO(164.45,"B",Y,""))
"RTN","ONCOTNS",35,0)
 .I STG'="" S Y=$P($G(^ONCO(164.45,STG,0)),U,2)
"RTN","ONCOTNS",36,0)
 K STG Q
"RTN","ONCOTNS",37,0)
RS S XX=$G(^ONCO(165.5,D0,2)),TX=$P(XX,U) G EX:TX="",EX:$P(^ONCO(164,+TX,0),U,11)="" S N=$E(Y),N=$S(N=1:"I",N=2:"II",N=3:"III",N=4:"IV",1:N),Y=N_$E(Y,2,4),Y=Y_" (T"_$P(XX,U,25)_" N"_$P(XX,U,26)_" M"_$P(XX,U,27)_")" G EX
"RTN","ONCOTNS",38,0)
 ;
"RTN","ONCOTNS",39,0)
OT1 ;CODE TO SET COMPUTED FIELD AJCC STAGE (165.5,#40)
"RTN","ONCOTNS",40,0)
 ;
"RTN","ONCOTNS",41,0)
 S PATHSG=$P($G(^ONCO(165.5,D0,2.1)),"^",4)
"RTN","ONCOTNS",42,0)
 S PATHT=$P($G(^ONCO(165.5,D0,2.1)),"^",1)
"RTN","ONCOTNS",43,0)
 S PATHN=$P($G(^ONCO(165.5,D0,2.1)),"^",2)
"RTN","ONCOTNS",44,0)
 S PATHM=$P($G(^ONCO(165.5,D0,2.1)),"^",3)
"RTN","ONCOTNS",45,0)
 S CLINSG=$P($G(^ONCO(165.5,D0,2)),"^",20)
"RTN","ONCOTNS",46,0)
 S CLINT=$P($G(^ONCO(165.5,D0,2)),"^",25)
"RTN","ONCOTNS",47,0)
 S CLINN=$P($G(^ONCO(165.5,D0,2)),"^",26)
"RTN","ONCOTNS",48,0)
 S CLINM=$P($G(^ONCO(165.5,D0,2)),"^",27)
"RTN","ONCOTNS",49,0)
 S (AJSG,HIERT,HIERN,HIERM,HIERFLG)=""
"RTN","ONCOTNS",50,0)
 S AJSG=PATHSG,HIERFLG="P"
"RTN","ONCOTNS",51,0)
 I "88^99"[PATHSG,CLINSG<6,CLINSG'="" S AJSG=CLINSG,HIERFLG="C"
"RTN","ONCOTNS",52,0)
 I PATHSG="",CLINSG'="" S AJSG=CLINSG,HIERFLG="C"
"RTN","ONCOTNS",53,0)
 I "88^99"[PATHSG!(PATHSG="") D
"RTN","ONCOTNS",54,0)
 .I CLINSG<6,CLINSG'="" Q
"RTN","ONCOTNS",55,0)
 .I PATHT'="X",PATHT'=88,PATHT'="" Q
"RTN","ONCOTNS",56,0)
 .I PATHN'="X",PATHN'=88,PATHN'="" Q
"RTN","ONCOTNS",57,0)
 .I PATHM'="X",PATHM'=88,PATHM'="" Q
"RTN","ONCOTNS",58,0)
 .I CLINT'="X",CLINT'=88,CLINT'="" S HIERFLG="C" Q
"RTN","ONCOTNS",59,0)
 .I CLINN'="X",CLINN'=88,CLINN'="" S HIERFLG="C" Q
"RTN","ONCOTNS",60,0)
 .I CLINM'="X",CLINM'=88,CLINM'="" S HIERFLG="C" Q
"RTN","ONCOTNS",61,0)
 .Q
"RTN","ONCOTNS",62,0)
 I HIERFLG="P" D
"RTN","ONCOTNS",63,0)
 .S HIERT=$P($G(^ONCO(165.5,D0,2.1)),"^",1)
"RTN","ONCOTNS",64,0)
 .S HIERN=$P($G(^ONCO(165.5,D0,2.1)),"^",2)
"RTN","ONCOTNS",65,0)
 .S HIERM=$P($G(^ONCO(165.5,D0,2.1)),"^",3) Q
"RTN","ONCOTNS",66,0)
 I HIERFLG="C" D
"RTN","ONCOTNS",67,0)
 .S HIERT=$P($G(^ONCO(165.5,D0,2)),"^",25)
"RTN","ONCOTNS",68,0)
 .S HIERN=$P($G(^ONCO(165.5,D0,2)),"^",26)
"RTN","ONCOTNS",69,0)
 .S HIERM=$P($G(^ONCO(165.5,D0,2)),"^",27)
"RTN","ONCOTNS",70,0)
 I AJSG'="" S Y=AJSG D OT S X=Y
"RTN","ONCOTNS",71,0)
 K AJSG,CLINSG,PATHSG Q
"RTN","ONCOTNS",72,0)
 ;
"RTN","ONCOTNS",73,0)
TR ;Translate code
"RTN","ONCOTNS",74,0)
 S XS=$P(XX,U,20),XG=$P(XX,U,28),X=XG_$E(XS,2,5)
"RTN","ONCOTNS",75,0)
EX ;EXIT
"RTN","ONCOTNS",76,0)
 K ST,SC,XD0,ONCOX,XX,ONCOYR
"RTN","ONCOU55")
0^4^B20590803
"RTN","ONCOU55",1,0)
ONCOU55 ;WISC/MLH-UTILITY ROUTINE #1 for ONCOLOGY PRIMARY File (#165.5) ;7/15/94  09:58
"RTN","ONCOU55",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCOU55",3,0)
 ;
"RTN","ONCOU55",4,0)
RXTS G RXTS^ONCOU55B ;    reindex TUMOR STATUS (#73) on ONCOLOGY PRIMARY (#165.5)
"RTN","ONCOU55",5,0)
 ;
"RTN","ONCOU55",6,0)
LTS(DA,NOTTHIS) ;    invoked by AC cross-reference of TUMOR STATUS CODE sub-field (#.02) of TUMOR STATUS field (#73) of ONCOLOGY PRIMARY file (#165.5), sets value into LAST TUMOR STATUS field (#95)
"RTN","ONCOU55",7,0)
 ;    NOTTHIS is defined in the KILL logic - we want to skip the current TUMOR STATUS
"RTN","ONCOU55",8,0)
 N OX,DIE,DR,NTS,OTS
"RTN","ONCOU55",9,0)
 S NTS="" ;    new tumor status defaults to null
"RTN","ONCOU55",10,0)
 S OX=$$TSLAST(DA,+$G(NOTTHIS)) ;    last IEN
"RTN","ONCOU55",11,0)
 S:OX NTS=$P($G(^ONCO(165.5,DA,"TS",OX,0)),U,2) S OTS=$P($G(^ONCO(165.5,DA,7)),U,6),$P(^(7),U,6)=NTS ;get old data, set new data
"RTN","ONCOU55",12,0)
 K:$L(OTS) ^ONCO(165.5,"ACS",OTS,DA) S:$L(NTS) ^ONCO(165.5,"ACS",NTS,DA)="" ;kill old xref, set new xref
"RTN","ONCOU55",13,0)
 Q
"RTN","ONCOU55",14,0)
 ;
"RTN","ONCOU55",15,0)
TSLAST(DA,NOTTHIS) ;    get IEN of last tumor status
"RTN","ONCOU55",16,0)
 N IEN S IEN=$O(^ONCO(165.5,DA,"TS","AA","")) I IEN,$D(NOTTHIS),$D(^ONCO(165.5,DA,"TS","AA",IEN,NOTTHIS)) S IEN=$O(^ONCO(165.5,DA,"TS","AA",IEN))
"RTN","ONCOU55",17,0)
 S:IEN IEN=$O(^ONCO(165.5,DA,"TS","AA",IEN,""))
"RTN","ONCOU55",18,0)
 Q IEN
"RTN","ONCOU55",19,0)
 ;
"RTN","ONCOU55",20,0)
SETTS(IEN,FOLDATE) ;    set up a primary follow-up
"RTN","ONCOU55",21,0)
 ;    IEN      = internal entry number on ONCOLOGY PRIMARY
"RTN","ONCOU55",22,0)
 ;    FOLDATE  = FM date of followup
"RTN","ONCOU55",23,0)
 N PREVENT,PREVTS,PATIEN,VS,HDR,SUBENT
"RTN","ONCOU55",24,0)
 S PREVTS="",PREVENT=$O(^ONCO(165.5,IEN,"TS","AA",9999999-FOLDATE))
"RTN","ONCOU55",25,0)
 IF PREVENT D  ;    default tumor status to most previous...
"RTN","ONCOU55",26,0)
 .  IF $P($G(^ONCO(165.5,IEN,5)),U,2)'=4 D  ;    ...unless NEVER DISEASE-FREE at first recurrence
"RTN","ONCOU55",27,0)
 ..    S PREVENT=$O(^ONCO(165.5,IEN,"TS","AA",PREVENT,0)) ;    next most previous entry
"RTN","ONCOU55",28,0)
 ..    S PREVTS=$P($G(^ONCO(165.5,IEN,"TS",PREVENT,0)),U,2)
"RTN","ONCOU55",29,0)
 ..    Q
"RTN","ONCOU55",30,0)
 .  ;END IF
"RTN","ONCOU55",31,0)
 .  ;
"RTN","ONCOU55",32,0)
 .  Q
"RTN","ONCOU55",33,0)
 ;END IF
"RTN","ONCOU55",34,0)
 ;
"RTN","ONCOU55",35,0)
 S PATIEN=$P(^ONCO(165.5,IEN,0),U,2) I PATIEN S VS=$P($G(^ONCO(160,PATIEN,1)),U) I VS=0 S PREVTS=$S(PREVTS=1:4,PREVTS=2:5,1:PREVTS) ;    convert to expired CS if necessary
"RTN","ONCOU55",36,0)
 S:'$D(^ONCO(165.5,IEN,"TS",0)) ^(0)="^165.573DA" S HDR=^(0) ;    setup/get header
"RTN","ONCOU55",37,0)
 F SUBENT=$P(HDR,U,3)+1:1 Q:'$D(^ONCO(165.5,IEN,"TS",SUBENT))  ;    get subentry number
"RTN","ONCOU55",38,0)
 S ^ONCO(165.5,IEN,"TS",SUBENT,0)=FOLDATE_U_PREVTS ;    put record to file
"RTN","ONCOU55",39,0)
 S ^ONCO(165.5,IEN,"TS","B",FOLDATE,SUBENT)="",^ONCO(165.5,IEN,"TS","AA",9999999-FOLDATE,SUBENT)="" ;    put xrefs to file
"RTN","ONCOU55",40,0)
 S $P(HDR,U,3)=SUBENT,$P(HDR,U,4)=$P(HDR,U,4)+1,^ONCO(165.5,IEN,"TS",0)=HDR ;    put header to file
"RTN","ONCOU55",41,0)
 D LTS(IEN) ;    update last tumor status
"RTN","ONCOU55",42,0)
 Q SUBENT
"RTN","ONCOU55",43,0)
 ;
"RTN","ONCOU55",44,0)
KILLTS(IEN,SUBENT) ;    kill a tumor status subrecord
"RTN","ONCOU55",45,0)
 ;    IEN      = internal entry number on ONCOLOGY PRIMARY
"RTN","ONCOU55",46,0)
 ;    SUBENT   = sub-record number
"RTN","ONCOU55",47,0)
 N FOLDATE,HDR,II
"RTN","ONCOU55",48,0)
 S FOLDATE=$P($G(^ONCO(165.5,IEN,"TS",SUBENT,0)),U,1) K ^ONCO(165.5,IEN,"TS","B",FOLDATE,SUBENT),^ONCO(165.5,IEN,"TS","AA",9999999-FOLDATE,SUBENT) ;    kill xrefs
"RTN","ONCOU55",49,0)
 K ^ONCO(165.5,IEN,"TS",SUBENT) ;    kill record
"RTN","ONCOU55",50,0)
 S HDR=^ONCO(165.5,IEN,"TS") ;    get header
"RTN","ONCOU55",51,0)
 I '$O(^ONCO(165.5,IEN,"TS",SUBENT)) F II=SUBENT-1:1 I $D(^ONCO(165.5,IEN,"TS",II)) S $P(HDR,U,3)=II Q  ;    update last subrec no
"RTN","ONCOU55",52,0)
 S $P(HDR,U,4)=$P(HDR,U,4)-1,^ONCO(165.5,IEN,"TS")=HDR ;    update count and put header to file
"RTN","ONCOU55",53,0)
 D LTS(IEN) ;    update last tumor status
"RTN","ONCOU55",54,0)
 Q
"RTN","ONCOU55",55,0)
 ;
"RTN","ONCOU55",56,0)
TNMED(IEN) ;    find edition of TNM staging manual applicable to this primary
"RTN","ONCOU55",57,0)
 N YR S YR=$E($P($G(^ONCO(165.5,IEN,0)),U,16),1,3) Q $S(YR<283:1,YR<288:2,YR<292:3,YR=292:$S($G(^ONCO(160.1,"AJ"))=92:4,1:3),1:4) ;    year diagnosed
"RTN","ONCOU55",58,0)
 ;
"RTN","ONCOU55",59,0)
PAPFOL ;    characterize thyroid tumors as papillary or follicular as appropriate
"RTN","ONCOU55",60,0)
 N PF
"RTN","ONCOU55",61,0)
MELANOMA(IEN) ;    returns 1 (TRUE) if this tumor is a melanoma, 0 (FALSE) otherwise
"RTN","ONCOU55",62,0)
 N XX S XX=$P($G(^ONCO(165.5,IEN,2)),U,3) Q (XX'<87200)&(XX<87910)
"RTN","ONCOU55",63,0)
PATHSTAG(IEN) ;    returns 1 (TRUE) if staging basis for this tumor is pathologic, 0 (FALSE) otherwise
"RTN","ONCOU55",64,0)
 Q STGIND="P"
"RTN","ONCOU55",65,0)
IRISCIL(IEN) ;    returns I if an iris tumor, C if ciliary body, blank otherwise
"RTN","ONCOU55",66,0)
 Q $P($G(^ONCO(165.5,IEN,2)),U,22)
"RTN","ONCOU55",67,0)
SITEGRP(IEN) ;    returns name of the default site group for this tumor's topography
"RTN","ONCOU55",68,0)
 Q $P($G(^ONCO(164.2,+$P($G(^ONCO(164,+$P($G(^ONCO(165.5,IEN,2)),U),0)),U,13),0)),U)
"RTN","ONCOU55",69,0)
DATEDX(IEN) ;    returns date of diagnosis
"RTN","ONCOU55",70,0)
 Q $P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONCOU55",71,0)
EDITION(IEN) ;    returns applicable edition of SEER
"RTN","ONCOU55",72,0)
 Q $S($$DATEDX(IEN)>2920000:2,1:1)
"RTN","ONCOU55",73,0)
LYMPHOMA(IEN) ;JAH 01FEB95; returns 1 if lymphoma 0 otherwise
"RTN","ONCOU55",74,0)
 ;check histology field in primary file extended reference
"RTN","ONCOU55",75,0)
 ;2 c if it's in range of histology codes 4 a lymphoma
"RTN","ONCOU55",76,0)
 N XX S XX=$P($G(^ONCO(165.5,IEN,2)),U,3)
"RTN","ONCOU55",77,0)
 I (XX<95902)!(XX>99701) Q 0
"RTN","ONCOU55",78,0)
 Q ((XX'<95902)&(XX'>95923))!((XX'<96002)!(XX'>96333))!((XX'<96702)&(XX'>96983))!((XX'<97022)&(XX'>97043))!(XX=99701)
"RTN","ONCOU55",79,0)
MYCOSIS(IEN) ;JAH 01FEB95; returns 1 if lymphoma 0 otherwise
"RTN","ONCOU55",80,0)
 ;check histology field in primary file extended reference
"RTN","ONCOU55",81,0)
 ;2 c if it's MYCOSIS FUNGOIDES codes
"RTN","ONCOU55",82,0)
 N XX S XX=$P($G(^ONCO(165.5,IEN,2)),U,3)
"RTN","ONCOU55",83,0)
 Q ((XX=97002)!(XX=97003))
"RTN","ONCOU55",84,0)
NOSTAGE(IEN) ;return 1 or 0 if stage overide field marked or not
"RTN","ONCOU55",85,0)
 Q $P($G(^ONCO(165.5,D0,24)),U)
"RTN","ONCOU55",86,0)
TMARKER ;check if TUMOR MARKER ONE and TWO fields should be prompted
"RTN","ONCOU55",87,0)
 S (TM1,TM2,ICDO)=0,ICDOPTR=$P($G(^ONCO(165.5,D0,2)),"^",1)
"RTN","ONCOU55",88,0)
 I ICDOPTR'="" S ICDO=$P($G(^ONCO(164,ICDOPTR,0)),"^",2)
"RTN","ONCOU55",89,0)
 I $E(ICDO,2,3)=50 S (TM1,TM2)=1 Q
"RTN","ONCOU55",90,0)
 I $E(ICDO,2,3)=18 S TM1=1 Q
"RTN","ONCOU55",91,0)
 I $E(ICDO,2,3)=19 S TM1=1 Q
"RTN","ONCOU55",92,0)
 I $E(ICDO,2,3)=20 S TM1=1 Q
"RTN","ONCOU55",93,0)
 I $E(ICDO,2,3)=22 S TM1=1 Q
"RTN","ONCOU55",94,0)
 I $E(ICDO,2,3)=56 S TM1=1 Q
"RTN","ONCOU55",95,0)
 I $E(ICDO,2,3)=61 S (TM1,TM2)=1 Q
"RTN","ONCOU55",96,0)
 I $E(ICDO,2,3)=62 S (TM1,TM2)=1 Q
"RTN","ONCOU55",97,0)
 I $P($G(^ONCO(165.5,D0,2)),"^",3)=95003 S TM1=1 Q
"RTN","ONCOU55",98,0)
 Q
"RTN","ONCPRE7")
0^9^B397873
"RTN","ONCPRE7",1,0)
ONCPRE7 ;HIRMFO/RTK-PRE-INSTALL ROUTINE FOR PATCH ONC*2.11*7  01/15/97
"RTN","ONCPRE7",2,0)
 ;;2.11;ONCOLOGY;**7**;Mar 07, 1995
"RTN","ONCPRE7",3,0)
 ;
"RTN","ONCPRE7",4,0)
 F PCEIEN=0:0 S PCEIEN=$O(^ONCO(165.5,PCEIEN)) Q:PCEIEN'>0  D
"RTN","ONCPRE7",5,0)
 .I $G(^ONCO(165.5,PCEIEN,"BLA1"))="" Q
"RTN","ONCPRE7",6,0)
 .I '$D(^ONCO(165.5,"APCE","BLA",PCEIEN)) S ^ONCO(165.5,"APCE","BLA",PCEIEN)=""
"RTN","ONCPRE7",7,0)
 .Q
"RTN","ONCPRE7",8,0)
 Q
"RTN","ONCSPC0")
0^14^B16699293
"RTN","ONCSPC0",1,0)
ONCSPC0 ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma ;8/23/96
"RTN","ONCSPC0",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCSPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCSPC0",4,0)
 ;Check if ACCESSION YEAR = 1996
"RTN","ONCSPC0",5,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=1996 S MSG="The Accession Year is not 1996." D ERRMSG G EXIT
"RTN","ONCSPC0",6,0)
 ;Check if microscopically confirmed
"RTN","ONCSPC0",7,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I (DC'=1)&(DC'=2)&(DC'=4) S MSG="The Diagnostic Confirmation code is not 1, 2 or 4." D ERRMSG G EXIT
"RTN","ONCSPC0",8,0)
 ;Check if Class of Case is either 1 or 2.
"RTN","ONCSPC0",9,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=1)&(COC'=2) S MSG="The Class of Case code is not 1 or 2." D ERRMSG G EXIT
"RTN","ONCSPC0",10,0)
 ;Check if HISTOLOGY is eligible
"RTN","ONCSPC0",11,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3),HIST123=$E(HIST,1,3)
"RTN","ONCSPC0",12,0)
 I HIST="" S MSG="There is no HISTOLOGY for this primary." D ERRMSG G EXIT
"RTN","ONCSPC0",13,0)
 S HIST(868)=""
"RTN","ONCSPC0",14,0)
 S HIST(869)=""
"RTN","ONCSPC0",15,0)
 S HIST(870)=""
"RTN","ONCSPC0",16,0)
 S HIST(871)=""
"RTN","ONCSPC0",17,0)
 S HIST(880)=""
"RTN","ONCSPC0",18,0)
 S HIST(881)=""
"RTN","ONCSPC0",19,0)
 S HIST(882)=""
"RTN","ONCSPC0",20,0)
 S HIST(883)=""
"RTN","ONCSPC0",21,0)
 S HIST(884)=""
"RTN","ONCSPC0",22,0)
 S HIST(885)=""
"RTN","ONCSPC0",23,0)
 S HIST(886)=""
"RTN","ONCSPC0",24,0)
 S HIST(887)=""
"RTN","ONCSPC0",25,0)
 S HIST(888)=""
"RTN","ONCSPC0",26,0)
 S HIST(889)=""
"RTN","ONCSPC0",27,0)
 S HIST(890)=""
"RTN","ONCSPC0",28,0)
 S HIST(891)=""
"RTN","ONCSPC0",29,0)
 S HIST(892)=""
"RTN","ONCSPC0",30,0)
 S HIST(899)=""
"RTN","ONCSPC0",31,0)
 S HIST(904)=""
"RTN","ONCSPC0",32,0)
 S HIST(905)=""
"RTN","ONCSPC0",33,0)
 S HIST(912)=""
"RTN","ONCSPC0",34,0)
 S HIST(913)=""
"RTN","ONCSPC0",35,0)
 S HIST(915)=""
"RTN","ONCSPC0",36,0)
 S HIST(916)=""
"RTN","ONCSPC0",37,0)
 S HIST(917)=""
"RTN","ONCSPC0",38,0)
 S HIST(918)=""
"RTN","ONCSPC0",39,0)
 S HIST(919)=""
"RTN","ONCSPC0",40,0)
 S HIST(920)=""
"RTN","ONCSPC0",41,0)
 S HIST(921)=""
"RTN","ONCSPC0",42,0)
 S HIST(922)=""
"RTN","ONCSPC0",43,0)
 S HIST(923)=""
"RTN","ONCSPC0",44,0)
 S HIST(924)=""
"RTN","ONCSPC0",45,0)
 S HIST(925)=""
"RTN","ONCSPC0",46,0)
 S HIST(926)=""
"RTN","ONCSPC0",47,0)
 S HIST(927)=""
"RTN","ONCSPC0",48,0)
 S HIST(928)=""
"RTN","ONCSPC0",49,0)
 S HIST(929)=""
"RTN","ONCSPC0",50,0)
 S HIST(930)=""
"RTN","ONCSPC0",51,0)
 S HIST(931)=""
"RTN","ONCSPC0",52,0)
 S HIST(932)=""
"RTN","ONCSPC0",53,0)
 S HIST(933)=""
"RTN","ONCSPC0",54,0)
 S HIST(934)=""
"RTN","ONCSPC0",55,0)
 S HIST(937)=""
"RTN","ONCSPC0",56,0)
 S HIST(949)=""
"RTN","ONCSPC0",57,0)
 S HIST(950)=""
"RTN","ONCSPC0",58,0)
 S HIST(954)=""
"RTN","ONCSPC0",59,0)
 S HIST(955)=""
"RTN","ONCSPC0",60,0)
 S HIST(956)=""
"RTN","ONCSPC0",61,0)
 S HIST(957)=""
"RTN","ONCSPC0",62,0)
 S HIST(958)=""
"RTN","ONCSPC0",63,0)
 I $E(ICDO,2,3)=44,$E(HIST,1,4)'=8832 S MSG="Skin sites are only allowed for patients with dermatofibrosarcoma." D ERRMSG G EXIT
"RTN","ONCSPC0",64,0)
 I ('$D(HIST(HIST123)))!($E(HIST,5)'=3) S MSG="The Histology of "_$E(HIST,1,4)_"/"_$E(HIST,5)_" is not eligible." D ERRMSG G EXIT
"RTN","ONCSPC0",65,0)
MENU ;Soft Tissue Sarcoma PCE menu
"RTN","ONCSPC0",66,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="STS"
"RTN","ONCSPC0",67,0)
 S ^ONCO(165.5,"APCE","STS",ONCONUM)=""
"RTN","ONCSPC0",68,0)
 K DIR D HEAD
"RTN","ONCSPC0",69,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis/Cancer Identification;3:Extent of Disease and AJCC Stage;4:First Course of Therapy;5:First Recurrence and Subsequent Treatment;6:Status at Last Contact;7:All;"
"RTN","ONCSPC0",70,0)
 S DIR(0)=DIR(0)_"8:Print Soft Tissue Sarcoma PCE"
"RTN","ONCSPC0",71,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCSPC0",72,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCSPC0",73,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCSPC0",74,0)
 .D ^ONCSPC1 Q:$G(OUT)="Y"
"RTN","ONCSPC0",75,0)
 .D ^ONCSPC2 Q:$G(OUT)="Y"
"RTN","ONCSPC0",76,0)
 .D ^ONCSPC3 Q:$G(OUT)="Y"
"RTN","ONCSPC0",77,0)
 .D ^ONCSPC4 Q:$G(OUT)="Y"
"RTN","ONCSPC0",78,0)
 .D ^ONCSPC5 Q:$G(OUT)="Y"
"RTN","ONCSPC0",79,0)
 .D ^ONCSPC6 Q:$G(OUT)="Y"
"RTN","ONCSPC0",80,0)
 I Y=8 D ^ONCSPC8 G MENU
"RTN","ONCSPC0",81,0)
 S SUB="^ONCSPC"_Y D @SUB G MENU
"RTN","ONCSPC0",82,0)
ERRMSG ;Error message
"RTN","ONCSPC0",83,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCSPC0",84,0)
 K MSG Q
"RTN","ONCSPC0",85,0)
HEAD ;Soft Tissue Sarcoma PCE header
"RTN","ONCSPC0",86,0)
 W @IOF,!,?1,PATNAM,?TOPTAB,TOPNAM,!,?1,SSN,?TTAB,TOPCOD,!,DASHES
"RTN","ONCSPC0",87,0)
 S HDL=$L("Patient Care Evaluation Study of Soft Tissue Sarcoma"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCSPC0",88,0)
 W !,?TAB,"Patient Care Evaluation Study of Soft Tissue Sarcoma",!,DASHES
"RTN","ONCSPC0",89,0)
 Q
"RTN","ONCSPC0",90,0)
EXIT ;Kill variables and exit
"RTN","ONCSPC0",91,0)
 K COC,DC,HDL,HIST,MSG,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCSPC0",92,0)
 K DIC,DIQ,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCSPC0",93,0)
 Q
"RTN","ONCTPC0")
0^15^B9385687
"RTN","ONCTPC0",1,0)
ONCTPC0 ;HIRMFO/GWB - PCE Study of Thyroid Cancer ;8/23/96
"RTN","ONCTPC0",2,0)
 ;;2.11;ONCOLOGY;**6,7**;Mar 07, 1995
"RTN","ONCTPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCTPC0",4,0)
 ;Check if ACCESSION YEAR = 1996
"RTN","ONCTPC0",5,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=1996 S MSG="The Accession Year is not 1996." D ERRMSG G EXIT
"RTN","ONCTPC0",6,0)
 ;Check if microscopically confirmed
"RTN","ONCTPC0",7,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I (DC'=1)&(DC'=2)&(DC'=4) S MSG="The Diagnostic Confirmation code is not 1, 2 or 4." D ERRMSG G EXIT
"RTN","ONCTPC0",8,0)
 ;Check if Class of Case is either 1 or 2.
"RTN","ONCTPC0",9,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=1)&(COC'=2) S MSG="The Class of Case code is not 1 or 2." D ERRMSG G EXIT
"RTN","ONCTPC0",10,0)
 ;Check if HISTOLOGY is eligible
"RTN","ONCTPC0",11,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCTPC0",12,0)
 I HIST="" S MSG="There is no HISTOLOGY for this primary." D ERRMSG G EXIT
"RTN","ONCTPC0",13,0)
 S HIST("80203")=""
"RTN","ONCTPC0",14,0)
 S HIST("80213")=""
"RTN","ONCTPC0",15,0)
 S HIST("80503")=""
"RTN","ONCTPC0",16,0)
 S HIST("82903")=""
"RTN","ONCTPC0",17,0)
 S HIST("83303")=""
"RTN","ONCTPC0",18,0)
 S HIST("83313")=""
"RTN","ONCTPC0",19,0)
 S HIST("83323")=""
"RTN","ONCTPC0",20,0)
 S HIST("83403")=""
"RTN","ONCTPC0",21,0)
 S HIST("85103")=""
"RTN","ONCTPC0",22,0)
 S HIST("85113")=""
"RTN","ONCTPC0",23,0)
 I '$D(HIST(HIST)) S MSG="The Histology of "_$E(HIST,1,4)_"/"_$E(HIST,5)_" is not eligible." D ERRMSG G EXIT
"RTN","ONCTPC0",24,0)
MENU ;Thyroid PCE menu
"RTN","ONCTPC0",25,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="THY"
"RTN","ONCTPC0",26,0)
 S ^ONCO(165.5,"APCE","THY",ONCONUM)=""
"RTN","ONCTPC0",27,0)
 K DIR D HEAD
"RTN","ONCTPC0",28,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis;3:Extent of Disease and AJCC Stage;4:First Course of Treatment;5:First Recurrence and Subsequent Treatment;6:Status at Last Contact;7:All;8:Print Thyroid PCE"
"RTN","ONCTPC0",29,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCTPC0",30,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCTPC0",31,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCTPC0",32,0)
 .D ^ONCTPC1 Q:$G(OUT)="Y"
"RTN","ONCTPC0",33,0)
 .D ^ONCTPC2 Q:$G(OUT)="Y"
"RTN","ONCTPC0",34,0)
 .D ^ONCTPC3 Q:$G(OUT)="Y"
"RTN","ONCTPC0",35,0)
 .D ^ONCTPC4 Q:$G(OUT)="Y"
"RTN","ONCTPC0",36,0)
 .D ^ONCTPC5 Q:$G(OUT)="Y"
"RTN","ONCTPC0",37,0)
 .D ^ONCTPC6 Q:$G(OUT)="Y"
"RTN","ONCTPC0",38,0)
 I Y=8 D ^ONCTPC8 G MENU
"RTN","ONCTPC0",39,0)
 S SUB="^ONCTPC"_Y D @SUB G MENU
"RTN","ONCTPC0",40,0)
ERRMSG ;Error message
"RTN","ONCTPC0",41,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCTPC0",42,0)
 K MSG Q
"RTN","ONCTPC0",43,0)
HEAD ;Thyroid PCE header
"RTN","ONCTPC0",44,0)
 W @IOF,!,?1,PATNAM,?TOPTAB,TOPNAM,!,?1,SSN,?TTAB,TOPCOD,!,DASHES
"RTN","ONCTPC0",45,0)
 S HDL=$L("Patient Care Evaluation Study of Thyroid Cancer"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCTPC0",46,0)
 W !,?TAB,"Patient Care Evaluation Study of Thyroid Cancer",!,DASHES
"RTN","ONCTPC0",47,0)
 Q
"RTN","ONCTPC0",48,0)
EXIT ;Kill variables and exit
"RTN","ONCTPC0",49,0)
 K COC,DC,HDL,HIST,MSG,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCTPC0",50,0)
 K DIC,DIQ,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCTPC0",51,0)
 Q
"UP",160,160.02,-1)
160^5
"UP",160,160.02,0)
160.02
"UP",160,160.041,-1)
160^6
"UP",160,160.041,0)
160.041
"UP",160,160.042,-1)
160^7
"UP",160,160.042,0)
160.042
"UP",160,160.06,-1)
160^A
"UP",160,160.06,0)
160.06
"UP",165.5,165.51,-1)
165.5^4
"UP",165.5,165.51,0)
165.51
"UP",165.5,165.52,-1)
165.5^6
"UP",165.5,165.52,0)
165.52
"UP",165.5,165.572,-1)
165.5^23
"UP",165.5,165.572,0)
165.572
"VER")
8.0^21.0
"^DD",160,160,23,0)
AUTOPSY DATE/TIME^DOX^^1;9^S %DT="EST",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",160,160,23,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",160,160,23,2.1)
S X=Y D DATEOT^ONCOES
"^DD",160,160,23,21,0)
^^1^1^2930423^^
"^DD",160,160,23,21,1,0)
RECORD THE DATE AND TIME OF AUTOPSY.
"^DD",160,160,23,23,0)
^^1^1^2930423^
"^DD",160,160,23,23,1,0)
This field is referenced directly by UVSALIVE^ONCOCRFA.
"^DD",160,160,23,"DT")
2961219
"^DD",160,160,25,0)
DATE ENTERED^DOX^^2;1^S %DT="ETX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",160,160,25,.1)
DATE SUSPENDED
"^DD",160,160,25,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",160,160,25,2.1)
S X=Y D DATEOT^ONCOES
"^DD",160,160,25,3)

"^DD",160,160,25,10)
SEER VI.05
"^DD",160,160,25,20,0)
^.3LA^1^1
"^DD",160,160,25,20,1,0)
SEER
"^DD",160,160,25,21,0)
^^3^3^2871028^^
"^DD",160,160,25,21,1,0)
All cases other than in-situs of the cervix uteri must be followed
"^DD",160,160,25,21,2,0)
annually.  If information on persons with an in-situ of the cervix
"^DD",160,160,25,21,3,0)
uteri is received, the follow-up information should be updated.
"^DD",160,160,25,"DT")
2961219
"^DD",160,160,25,"V",0)
^.12P
"^DD",160,160,33,0)
SUSPENSE DATE^DOX^^2;3^S %DT="ETX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",160,160,33,.1)
Suspense date
"^DD",160,160,33,1,0)
^.1
"^DD",160,160,33,1,1,0)
160^ADX
"^DD",160,160,33,1,1,1)
S ^ONCO(160,"ADX",$E(X,1,30),DA)=""
"^DD",160,160,33,1,1,2)
K ^ONCO(160,"ADX",$E(X,1,30),DA)
"^DD",160,160,33,1,1,3)
DO NOT DELETE
"^DD",160,160,33,1,1,"%D",0)
^^1^1^2910917^
"^DD",160,160,33,1,1,"%D",1,0)
Suspense date is a test date - ususally the diagnosis date.
"^DD",160,160,33,1,1,"DT")
2910917
"^DD",160,160,33,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",160,160,33,2.1)
S X=Y D DATEOT^ONCOES
"^DD",160,160,33,21,0)
^^4^4^2930812^^
"^DD",160,160,33,21,1,0)
'Suspense date' is the date patient is entered into the system or 
"^DD",160,160,33,21,2,0)
identified as a possible 'case' to be registered in Tumor Registry.  
"^DD",160,160,33,21,3,0)
This 'case finding' is determined from postitive Anatomic Pathology 
"^DD",160,160,33,21,4,0)
lab tests.
"^DD",160,160,33,"DT")
2961219
"^DD",160,160,56,0)
PTF DISCHARGE^DX^^2;7^S %DT="ETX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",160,160,56,21,0)
^^1^1^2920527^
"^DD",160,160,56,21,1,0)
RECORDS THE DATE/TIME A PATIENT IS DISCHARGE.
"^DD",160,160,56,"DT")
2961219
"^DD",160,160,410,0)
FOLLOW-UP ATTEMPTS^160.06DA^^A;0
"^DD",160,160,410,21,0)
^^1^1^2930930^^
"^DD",160,160,410,21,1,0)
RECORDS THE DATE AND TIME A FOLLOW UP ATTEMPT IS MADE.
"^DD",160,160.02,2,0)
YR QUIT TOBACCO USE^DXO^^0;3^S:X["U" X="U" Q:X="U"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",160,160.02,2,2)
S Y(0)=Y S Y=$S(Y'="U":Y,1:"Unknown") D:Y?1.N DD^%DT
"^DD",160,160.02,2,2.1)
S Y=$S(Y'="U":Y,1:"Unknown") D:Y?1.N DD^%DT
"^DD",160,160.02,2,21,0)
^^1^1^2930930^
"^DD",160,160.02,2,21,1,0)
This is the year in which the patient quit using tobacco.
"^DD",160,160.02,2,"DT")
2961219
"^DD",160,160.041,3,0)
YR QUIT DRINKING^DXO^^0;4^S:X["U" S="U" Q:X="U"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",160,160.041,3,2)
S Y(0)=Y S Y=$S(Y="U":"Unknown",1:Y) D:Y?1.N DD^%DT
"^DD",160,160.041,3,2.1)
S Y=$S(Y="U":"Unknown",1:Y) D:Y?1.N DD^%DT
"^DD",160,160.041,3,21,0)
^^1^1^2930930^
"^DD",160,160.041,3,21,1,0)
This is the year in which patient stopped consuming alcohol, if applicable.
"^DD",160,160.041,3,"DT")
2961219
"^DD",160,160.042,2,0)
LAST DATE IN OCCUPATION^DX^^0;3^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",160,160.042,2,21,0)
^^1^1^2871028^
"^DD",160,160.042,2,21,1,0)
Last date of employment in a given occupation.
"^DD",160,160.042,2,"DT")
2961219
"^DD",160,160.06,0)
FOLLOW-UP ATTEMPTS SUB-FIELD^^6^7
"^DD",160,160.06,0,"NM","FOLLOW-UP ATTEMPTS")

"^DD",160,160.06,.01,0)
FOLLOW-UP ATTEMPT DATE^DX^^0;1^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",160,160.06,.01,1,0)
^.1
"^DD",160,160.06,.01,1,1,0)
160.06^AC^MUMPS
"^DD",160,160.06,.01,1,1,1)
S X=9999999-X,^ONCO(160,DA(1),"A","AC",X,DA)=""
"^DD",160,160.06,.01,1,1,2)
S X=9999999-X K ^ONCO(160,DA(1),"A","AC",X,DA)
"^DD",160,160.06,.01,1,1,"%D",0)
^^1^1^2930909
"^DD",160,160.06,.01,1,1,"%D",1,0)
Indexes file by FOLLOW-UP ATTEMPT DATE.
"^DD",160,160.06,.01,21,0)
^^1^1^2930930^
"^DD",160,160.06,.01,21,1,0)
This is the date and time on which a follow-up was attempted.
"^DD",160,160.06,.01,"DT")
2961219
"^DD",164.5,164.5,0)
FIELD^^4^5
"^DD",164.5,164.5,0,"DDA")
N
"^DD",164.5,164.5,0,"DT")
2940713
"^DD",164.5,164.5,0,"ID",.1)
W "   ",@("$P($P($C(59)_$S($D(^DD(164.5,.1,0)):$P(^(0),U,3),1:0)_$E("_DIC_"Y,0),0),$C(59)_$P(^(0),U,5)_"":"",2),$C(59),1)")
"^DD",164.5,164.5,0,"ID",1)
W "   ",@("$P($P($C(59)_$S($D(^DD(164.5,1,0)):$P(^(0),U,3),1:0)_$E("_DIC_"Y,0),0),$C(59)_$P(^(0),U,2)_"":"",2),$C(59),1)")
"^DD",164.5,164.5,0,"IX","B",164.5,.01)

"^DD",164.5,164.5,0,"NM","SEER CODE SET")

"^DD",164.5,164.5,0,"PT",164,43)

"^DD",164.5,164.5,0,"PT",164,43.01)

"^DD",164.5,164.5,0,"PT",164,53)

"^DD",164.5,164.5,0,"PT",164,53.01)

"^DD",164.5,164.5,0,"PT",164,63)

"^DD",164.5,164.5,0,"PT",164,63.01)

"^DD",164.5,164.5,0,"PT",164.1,43)

"^DD",164.5,164.5,0,"PT",164.1,43.01)

"^DD",164.5,164.5,0,"PT",164.1,53)

"^DD",164.5,164.5,0,"PT",164.1,53.01)

"^DD",164.5,164.5,0,"PT",164.2,43)

"^DD",164.5,164.5,0,"PT",164.2,43.01)

"^DD",164.5,164.5,0,"PT",164.2,53)

"^DD",164.5,164.5,0,"PT",164.2,53.01)

"^DD",164.5,164.5,0,"PT",164.5,3)

"^DD",164.5,164.5,.01,0)
NAME^RF^^0;1^K:$L(X)>60!($L(X)<3)!'(X'?1P.E) X
"^DD",164.5,164.5,.01,1,0)
^.1
"^DD",164.5,164.5,.01,1,1,0)
164.5^B
"^DD",164.5,164.5,.01,1,1,1)
S ^ONCO(164.5,"B",$E(X,1,30),DA)=""
"^DD",164.5,164.5,.01,1,1,2)
K ^ONCO(164.5,"B",$E(X,1,30),DA)
"^DD",164.5,164.5,.01,3)
Answer must be 3-60 characters in length.
"^DD",164.5,164.5,.01,21,0)
^^2^2^2940708^^^
"^DD",164.5,164.5,.01,21,1,0)
This is the topographical and/or histo-morphological description of the
"^DD",164.5,164.5,.01,21,2,0)
type of cancer to which this set of codes applies.
"^DD",164.5,164.5,.01,"DT")
2940708
"^DD",164.5,164.5,.1,0)
CODE SET TYPE^S^E:EXTENSION;L:LYMPH NODES;S:SURGERY;^0;5^Q
"^DD",164.5,164.5,.1,21,0)
^^2^2^2940713^^^
"^DD",164.5,164.5,.1,21,1,0)
This field identifies whether the codes apply to extension, lymph nodes, 
"^DD",164.5,164.5,.1,21,2,0)
or surgery.
"^DD",164.5,164.5,.1,"DT")
2940713
"^DD",164.5,164.5,1,0)
EDITION^S^1:FIRST EDITION;2:SECOND EDITION;^0;2^Q
"^DD",164.5,164.5,1,21,0)
^^4^4^2940713^^
"^DD",164.5,164.5,1,21,1,0)
This field identifies the edition of the appropriate manual that contains
"^DD",164.5,164.5,1,21,2,0)
this set of codes. The appropriate manuals are SEER Extent of Disease 
"^DD",164.5,164.5,1,21,3,0)
Codes (for extension and lymph node codes) and SEER Coding Instructions 
"^DD",164.5,164.5,1,21,4,0)
(for surgery codes).
"^DD",164.5,164.5,1,"DT")
2940707
"^DD",164.5,164.5,3,0)
NEXT EDITION CODE SET^P164.5'^ONCO(164.5,^0;4^Q
"^DD",164.5,164.5,3,21,0)
^^2^2^2940707^
"^DD",164.5,164.5,3,21,1,0)
This field points to the record that contains the set of codes that
"^DD",164.5,164.5,3,21,2,0)
supersedes this set.
"^DD",164.5,164.5,3,"DT")
2940707
"^DD",164.5,164.5,4,0)
CODE/DESCRIPTION^164.54A^^1;0
"^DD",164.5,164.5,4,21,0)
^^1^1^2940715^^
"^DD",164.5,164.5,4,21,1,0)
This multiple contains the codes and descriptions for this set.
"^DD",164.5,164.54,0)
CODE/DESCRIPTION SUB-FIELD^^.01^2
"^DD",164.5,164.54,0,"DT")
2940707
"^DD",164.5,164.54,0,"NM","CODE/DESCRIPTION")

"^DD",164.5,164.54,0,"UP")
164.5
"^DD",164.5,164.54,.001,0)
CODE^NJ3,0^^ ^K:+X'=X!(X>100)!(X<1)!(X?.E1"."1N.N) X
"^DD",164.5,164.54,.001,3)
Type a Number between 1 and 100, 0 Decimal Digits
"^DD",164.5,164.54,.001,21,0)
^^1^1^2940707^
"^DD",164.5,164.54,.001,21,1,0)
This field contains the code, plus an offset of 1 to allow for a code of 0.
"^DD",164.5,164.54,.001,"DT")
2940707
"^DD",164.5,164.54,.01,0)
DESCRIPTION^MF^^0;1^K:$L(X)>70!($L(X)<3) X
"^DD",164.5,164.54,.01,1,0)
^.1^^0
"^DD",164.5,164.54,.01,3)
Answer must be 3-70 characters in length.
"^DD",164.5,164.54,.01,21,0)
^^1^1^2940715^^
"^DD",164.5,164.54,.01,21,1,0)
This field contains the description of extent.
"^DD",164.5,164.54,.01,"DT")
2940708
"^DD",165.5,165.5,1,0)
FIRST ADMIT DATE^DXO^^0;8^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0) I $D(X) S Y=$P(^ONCO(165.5,D0,0),"^",9) I Y'="" K:X>Y X
"^DD",165.5,165.5,1,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,1,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,1,3)
First Admit Date must be BEFORE/EQUAL to Discharge Date
"^DD",165.5,165.5,1,21,0)
^^4^4^2970204^^^^
"^DD",165.5,165.5,1,21,1,0)
Enter date of 1st admission to Reporting facility.
"^DD",165.5,165.5,1,21,2,0)
 
"^DD",165.5,165.5,1,21,3,0)
If the patient was diagnosed in an outpatient clinic, this date
"^DD",165.5,165.5,1,21,4,0)
and the date of discharge will be the same as the diagnosis date.
"^DD",165.5,165.5,1,"DT")
2961219
"^DD",165.5,165.5,1.1,0)
DISCHARGE DATE^DXO^^0;9^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0) I $D(X) S Y=$P(^ONCO(165.5,D0,0),U,8) K:X<Y X
"^DD",165.5,165.5,1.1,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,1.1,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,1.1,3)
The date of Discharge must be AFTER/EQUAL to Admission Date
"^DD",165.5,165.5,1.1,21,0)
^^5^5^2960827^^^
"^DD",165.5,165.5,1.1,21,1,0)
Record the date of discharge from the reporting facility.
"^DD",165.5,165.5,1.1,21,2,0)
 
"^DD",165.5,165.5,1.1,21,3,0)
If the patient was diagnosed in an outpatient clinic, this date
"^DD",165.5,165.5,1.1,21,4,0)
and the date of first admission will be the same as the date of
"^DD",165.5,165.5,1.1,21,5,0)
diagnosis.
"^DD",165.5,165.5,1.1,"DT")
2961219
"^DD",165.5,165.5,3,0)
DATE DX^DXO^^0;16^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0) D:$D(X) DXDT^ONCOCKI
"^DD",165.5,165.5,3,.1)
Date of initial diagnosis
"^DD",165.5,165.5,3,1,0)
^.1
"^DD",165.5,165.5,3,1,1,0)
165.5^ADX
"^DD",165.5,165.5,3,1,1,1)
S ^ONCO(165.5,"ADX",$E(X,1,30),DA)=""
"^DD",165.5,165.5,3,1,1,2)
K ^ONCO(165.5,"ADX",$E(X,1,30),DA)
"^DD",165.5,165.5,3,1,1,3)
DO NOT DELETE
"^DD",165.5,165.5,3,1,1,"%D",0)
^^1^1^2910829^
"^DD",165.5,165.5,3,1,1,"%D",1,0)
Regular cross-reference for Date Diagnosis
"^DD",165.5,165.5,3,1,1,"DT")
2910829
"^DD",165.5,165.5,3,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,3,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,3,10)
DAM 3.33
"^DD",165.5,165.5,3,20,0)
^.3LA^2^2
"^DD",165.5,165.5,3,20,1,0)
SEER
"^DD",165.5,165.5,3,20,2,0)
ACOS-REQUIRED
"^DD",165.5,165.5,3,21,0)
^^25^25^2960418^^^^
"^DD",165.5,165.5,3,21,1,0)
The diagnosis date refers to the first diagnosis of this cancer by any
"^DD",165.5,165.5,3,21,2,0)
recognized medical practitioner.  This is often a clinical diagnosis
"^DD",165.5,165.5,3,21,3,0)
and may not ever be confirmed histologically.  Even if confirmed
"^DD",165.5,165.5,3,21,4,0)
later, the diagnosis date refers to the date of the first clinical
"^DD",165.5,165.5,3,21,5,0)
diagnosis and not to the date of confirmation.  If upon medical and/or
"^DD",165.5,165.5,3,21,6,0)
pathological review of a previous condition the patient is deemed to
"^DD",165.5,165.5,3,21,7,0)
have had cancer at an earlier date, then the earlier date is the date
"^DD",165.5,165.5,3,21,8,0)
of diagnosis, i.e., the date of diagnosis is back-dated.
"^DD",165.5,165.5,3,21,9,0)
 
"^DD",165.5,165.5,3,21,10,0)
The date of diagnosis for "Death Certificate Only" cases is the date
"^DD",165.5,165.5,3,21,11,0)
of death.  The date of diagnosis for "Autopsy Only" cases is also the
"^DD",165.5,165.5,3,21,12,0)
date of death.
"^DD",165.5,165.5,3,21,13,0)
 
"^DD",165.5,165.5,3,21,14,0)
In the absence of an exact date of diagnosis, make the best approximation.
"^DD",165.5,165.5,3,21,15,0)
If the only information is "Spring of," "Middle of the year," "Fall,"
"^DD",165.5,165.5,3,21,16,0)
approximate these as April, July, and October respectively.  For
"^DD",165.5,165.5,3,21,17,0)
"Winter of" it is important to determine whether the beginning or end
"^DD",165.5,165.5,3,21,18,0)
of the year is meant before approximating the month.
"^DD",165.5,165.5,3,21,19,0)
 
"^DD",165.5,165.5,3,21,20,0)
If there is no basis for approximation of month, simply enter the year.
"^DD",165.5,165.5,3,21,21,0)
If the year is not known exactly, approximate as best you can.
"^DD",165.5,165.5,3,21,22,0)
 
"^DD",165.5,165.5,3,21,23,0)
Date of first cancer-directed therapy may be used as the date of diagnosis
"^DD",165.5,165.5,3,21,24,0)
if the cancer-directed therapy has been initiated and cancer is later
"^DD",165.5,165.5,3,21,25,0)
confirmed, but prior to therapy the diagnosis was not definitive.
"^DD",165.5,165.5,3,23,0)
^^1^1^2960418^^^
"^DD",165.5,165.5,3,23,1,0)
This field is referenced directly at DX^ONCOFTS.
"^DD",165.5,165.5,3,"DT")
2961219
"^DD",165.5,165.5,17,0)
SUSPENSE DATE^DOX^^1;10^S %DT="ET",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,17,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,17,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,17,3)
Date of Suspense
"^DD",165.5,165.5,17,21,0)
^^1^1^2930820^
"^DD",165.5,165.5,17,21,1,0)
This is the date on which the primary was added to the suspense file.
"^DD",165.5,165.5,17,"DT")
2961219
"^DD",165.5,165.5,25.1,0)
TUMOR MARKER ONE^P164.15'O^ONCO(164.15,^24;2^Q
"^DD",165.5,165.5,25.1,.1)
Tumor Marker One
"^DD",165.5,165.5,25.1,2)
S Y(0)=Y S Y=$P($G(^ONCO(164.15,+Y,0)),U,2)
"^DD",165.5,165.5,25.1,2.1)
S Y=$P($G(^ONCO(164.15,+Y,0)),U,2)
"^DD",165.5,165.5,25.1,21,0)
^^3^3^2961220^^^
"^DD",165.5,165.5,25.1,21,1,0)
"Tumor Marker One" records prognostic indicators for specific sites or
"^DD",165.5,165.5,25.1,21,2,0)
histologies.  If a patient has multiple markers, record the results that
"^DD",165.5,165.5,25.1,21,3,0)
influenced the clinical management of the patient.
"^DD",165.5,165.5,25.1,"DT")
2970106
"^DD",165.5,165.5,25.2,0)
TUMOR MARKER TWO^P164.15'O^ONCO(164.15,^24;3^Q
"^DD",165.5,165.5,25.2,.1)
Tumor Marker Two
"^DD",165.5,165.5,25.2,2)
S Y(0)=Y S Y=$P($G(^ONCO(164.15,+Y,0)),U,2)
"^DD",165.5,165.5,25.2,2.1)
S Y=$P($G(^ONCO(164.15,+Y,0)),U,2)
"^DD",165.5,165.5,25.2,21,0)
^^3^3^2961220^^^^
"^DD",165.5,165.5,25.2,21,1,0)
"Tumor Marker Two" records prognostic indicators for specific sites or
"^DD",165.5,165.5,25.2,21,2,0)
histologies.  If the patient has multiple markers, record the results
"^DD",165.5,165.5,25.2,21,3,0)
that influenced the clinical management of the patient.
"^DD",165.5,165.5,25.2,"DT")
2970106
"^DD",165.5,165.5,50,0)
CANCER-DIRECTED SURGERY DATE^DXO^^3;1^S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,50,1,0)
^.1
"^DD",165.5,165.5,50,1,1,0)
165.5^ATS^MUMPS
"^DD",165.5,165.5,50,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"S")=""
"^DD",165.5,165.5,50,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"S")
"^DD",165.5,165.5,50,1,1,"%D",0)
^^1^1^2960216^^^
"^DD",165.5,165.5,50,1,1,"%D",1,0)
Records *cancer-directed* surgery on the unified treatment index.
"^DD",165.5,165.5,50,1,1,"DT")
2960216
"^DD",165.5,165.5,50,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,50,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,50,3)
Enter date cancer-directed surgery was performed.
"^DD",165.5,165.5,50,21,0)
^^1^1^2960509^^^
"^DD",165.5,165.5,50,21,1,0)
Date that cancer-directed surgery was performed.
"^DD",165.5,165.5,50,"DT")
2970204
"^DD",165.5,165.5,51,0)
RADIATION DATE^DXO^^3;4^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,51,1,0)
^.1
"^DD",165.5,165.5,51,1,1,0)
165.5^ATR^MUMPS
"^DD",165.5,165.5,51,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"R")=""
"^DD",165.5,165.5,51,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"R")
"^DD",165.5,165.5,51,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,51,1,1,"%D",1,0)
Records radiation date on the unified treatment index.
"^DD",165.5,165.5,51,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,51,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,51,3)
Enter First date for Radiation Therapy
"^DD",165.5,165.5,51,21,0)
^^1^1^2920523^
"^DD",165.5,165.5,51,21,1,0)
Record the date radiation therapy was initiated.
"^DD",165.5,165.5,51,"DT")
2961219
"^DD",165.5,165.5,52,0)
RADIATION THERAPY TO CNS DATE^DXO^^3;8^S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,52,.1)

"^DD",165.5,165.5,52,1,0)
^.1
"^DD",165.5,165.5,52,1,1,0)
165.5^ATP^MUMPS
"^DD",165.5,165.5,52,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"P")=""
"^DD",165.5,165.5,52,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"P")
"^DD",165.5,165.5,52,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,52,1,1,"%D",1,0)
Records brain/CNS radiation date on the unified treatment index.
"^DD",165.5,165.5,52,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,52,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,52,3)
Enter First date Radiation to CNS performed.
"^DD",165.5,165.5,52,21,0)
^^4^4^2960612^^
"^DD",165.5,165.5,52,21,1,0)
FOR LUNG AND LEUKEMIA ONLY:  record the date radiation therapy
"^DD",165.5,165.5,52,21,2,0)
to the brain and CNS was initiated.
"^DD",165.5,165.5,52,21,3,0)
 
"^DD",165.5,165.5,52,21,4,0)
ALL OTHER SITES:  not a valid entry.
"^DD",165.5,165.5,52,"DT")
2961219
"^DD",165.5,165.5,53,0)
CHEMOTHERAPY DATE^DXO^^3;11^S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,53,1,0)
^.1
"^DD",165.5,165.5,53,1,1,0)
165.5^ATC^MUMPS
"^DD",165.5,165.5,53,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"C")=""
"^DD",165.5,165.5,53,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"C")
"^DD",165.5,165.5,53,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,53,1,1,"%D",1,0)
Records chemotheraphy date on the unified treatment index.
"^DD",165.5,165.5,53,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,53,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,53,3)
Enter date First Chemotherapy performed
"^DD",165.5,165.5,53,21,0)
^^1^1^2920523^
"^DD",165.5,165.5,53,21,1,0)
Date Chemotherapy was initiated.
"^DD",165.5,165.5,53,"DT")
2961219
"^DD",165.5,165.5,54,0)
HORMONE THERAPY DATE^DXO^^3;14^S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,54,1,0)
^.1
"^DD",165.5,165.5,54,1,1,0)
165.5^ATH^MUMPS
"^DD",165.5,165.5,54,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"H")=""
"^DD",165.5,165.5,54,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"H")
"^DD",165.5,165.5,54,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,54,1,1,"%D",1,0)
Records hormone therapy date on the unified treatment index.
"^DD",165.5,165.5,54,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,54,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,54,3)
Enter First date Hormone Therapy performed
"^DD",165.5,165.5,54,21,0)
^^1^1^2920523^
"^DD",165.5,165.5,54,21,1,0)
Record the date hormone therapy was initiated.
"^DD",165.5,165.5,54,"DT")
2961219
"^DD",165.5,165.5,55,0)
IMMUNOTHERAPY DATE^DXO^^3;17^S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,55,.1)

"^DD",165.5,165.5,55,1,0)
^.1
"^DD",165.5,165.5,55,1,1,0)
165.5^ATB^MUMPS
"^DD",165.5,165.5,55,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"B")=""
"^DD",165.5,165.5,55,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"B")
"^DD",165.5,165.5,55,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,55,1,1,"%D",1,0)
Records biological response modifier date on the unified treatment index.
"^DD",165.5,165.5,55,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,55,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,55,3)
Record the date immunotherapy was started.
"^DD",165.5,165.5,55,21,0)
^^1^1^2960216^^
"^DD",165.5,165.5,55,21,1,0)
The date immunotherapy was started.
"^DD",165.5,165.5,55,"DT")
2961219
"^DD",165.5,165.5,56,0)
HYPERTHERMIA THERAPY DATE^DXO^^3;20^S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,56,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,56,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,56,3)
Enter First Date
"^DD",165.5,165.5,56,21,0)
^^1^1^2920523^
"^DD",165.5,165.5,56,21,1,0)
Record the date hyperthermia therapy was initiated.
"^DD",165.5,165.5,56,"DT")
2961219
"^DD",165.5,165.5,57,0)
OTH CANCER-DIRECTED TPY DATE^DXO^^3;23^S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,57,.1)
Other Cancer-directed therapy date
"^DD",165.5,165.5,57,1,0)
^.1
"^DD",165.5,165.5,57,1,1,0)
165.5^ATO^MUMPS
"^DD",165.5,165.5,57,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"O")=""
"^DD",165.5,165.5,57,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"O")
"^DD",165.5,165.5,57,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,57,1,1,"%D",1,0)
Records other cancer-directed therapy date on the unified treatment index.
"^DD",165.5,165.5,57,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,57,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,57,3)
Enter First date Other Therapy performed
"^DD",165.5,165.5,57,21,0)
^^1^1^2920523^
"^DD",165.5,165.5,57,21,1,0)
Record the date other cancer directed therapy was initiated.
"^DD",165.5,165.5,57,"DT")
2961219
"^DD",165.5,165.5,58.3,0)
NON CANCER-DIRECTED SURG DATE^DOX^^3;31^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,58.3,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,58.3,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,58.3,21,0)
^^2^2^2961217^^^
"^DD",165.5,165.5,58.3,21,1,0)
NON CANCER-DIRECTED SURG DATE is the date non cancer-directed surgery was
"^DD",165.5,165.5,58.3,21,2,0)
performed.
"^DD",165.5,165.5,58.3,"DT")
2961219
"^DD",165.5,165.5,60,0)
SUBSEQUENT COURSE OF TREATMENT^165.51DA^^4;0
"^DD",165.5,165.5,60,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,60,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,60,21,0)
^^2^2^2960814^^^^
"^DD",165.5,165.5,60,21,1,0)
Enter subsequent therapy (therapy provided after completion of
"^DD",165.5,165.5,60,21,2,0)
the first course of therapy).
"^DD",165.5,165.5,60,"DT")
2930504
"^DD",165.5,165.5,64,0)
QA DATE^DOX^^7;9^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,64,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,64,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,64,3)
Enter date of QA Review, if performed.
"^DD",165.5,165.5,64,21,0)
^^1^1^2920710^
"^DD",165.5,165.5,64,21,1,0)
Date of QA Review if done on this Abstract.
"^DD",165.5,165.5,64,"DT")
2961219
"^DD",165.5,165.5,70,0)
DATE of FIRST RECURRENCE^DOX^^5;1^S ITFLAG="NO" D DATEIT^ONCOPCE Q:ITFLAG="YES"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,70,.1)
Date of First Recurrence
"^DD",165.5,165.5,70,2)
S Y(0)=Y S X=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,70,2.1)
S X=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,70,10)
ACOS 3.110
"^DD",165.5,165.5,70,20,0)
^.3LA^1^1
"^DD",165.5,165.5,70,20,1,0)
ACOS-REQUIRED
"^DD",165.5,165.5,70,21,0)
^^1^1^2920803^^
"^DD",165.5,165.5,70,21,1,0)
Record the date of first recurrence based on best available information.
"^DD",165.5,165.5,70,"DT")
2961219
"^DD",165.5,165.5,72,0)
SUBSEQUENT RECURRENCES^165.572D^^23;0
"^DD",165.5,165.5,72,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,72,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,72,21,0)
^^1^1^2970115^^^^
"^DD",165.5,165.5,72,21,1,0)
This multiple records information on subsequent recurrences of the tumor.
"^DD",165.5,165.5,79,0)
SCREENING DATE^DOX^^0;24^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,79,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,79,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,79,21,0)
^^2^2^2961112^^
"^DD",165.5,165.5,79,21,1,0)
Record the most recent date on which the patient participated in a
"^DD",165.5,165.5,79,21,2,0)
screening program related to this primary cancer.
"^DD",165.5,165.5,79,"DT")
2961219
"^DD",165.5,165.5,90,0)
ABSTRACT DATE^DOX^^7;1^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,90,1,0)
^.1
"^DD",165.5,165.5,90,1,1,0)
165.5^AAD^MUMPS
"^DD",165.5,165.5,90,1,1,1)
S ^ONCO(165.5,"AAD",X,DA)=""
"^DD",165.5,165.5,90,1,1,2)
K ^ONCO(165.5,"AAD",X,DA)
"^DD",165.5,165.5,90,1,1,"%D",0)
^^1^1^2920401^
"^DD",165.5,165.5,90,1,1,"%D",1,0)
Used for QA - 10% abstracts completed in particular timeframe
"^DD",165.5,165.5,90,1,1,"DT")
2920401
"^DD",165.5,165.5,90,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,90,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,90,21,0)
^^1^1^2920523^
"^DD",165.5,165.5,90,21,1,0)
Date the abstract is completed.
"^DD",165.5,165.5,90,"DT")
2961219
"^DD",165.5,165.5,94,0)
REPORTING DATE^DOX^^7;5^S %DT="EX",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,94,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,94,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,94,21,0)
^^1^1^2920528^
"^DD",165.5,165.5,94,21,1,0)
RECORDS AUTOMATICALLY THE DEFAULT DATE AS REPORTING DATE.
"^DD",165.5,165.5,94,"DT")
2961219
"^DD",165.5,165.5,99,0)
OTHER M^FXO^^2.1;8^K:$L(X)>30!($L(X)<1) X I $D(X) S ONCOX="M",STGIND="O" D IN^ONCOTNM
"^DD",165.5,165.5,99,2)
S Y(0)=Y S ONCOX="M",STGIND="O" D OT^ONCOTNM
"^DD",165.5,165.5,99,2.1)
S ONCOX="M",STGIND="O" D OT^ONCOTNM
"^DD",165.5,165.5,99,3)
Answer must be appropriate "M" code from the AJCC Staging Manual
"^DD",165.5,165.5,99,4)
S ONCOX="M",STGIND="O" D HP^ONCOTNM
"^DD",165.5,165.5,99,21,0)
^^2^2^2970114^^^
"^DD",165.5,165.5,99,21,1,0)
"Other M" records the presence or absence of distant metastases.  Choose
"^DD",165.5,165.5,99,21,2,0)
the lower (less advanced) M category when there is any uncertainty.
"^DD",165.5,165.5,99,"DT")
2970115
"^DD",165.5,165.5,121,0)
DATE OF CANCER CONF^DOX^^0;27^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,121,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,121,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,121,21,0)
^^6^6^2961112^
"^DD",165.5,165.5,121,21,1,0)
Enter the date on which the case was first presented at a cancer
"^DD",165.5,165.5,121,21,2,0)
conference.  The number of cancer conferences, sites presented,
"^DD",165.5,165.5,121,21,3,0)
types of presentations, and dates can be analyzed and reported for
"^DD",165.5,165.5,121,21,4,0)
administration, quality control, and Commission on Cancer survey
"^DD",165.5,165.5,121,21,5,0)
preparation.  Update this item if a patient is presented at a
"^DD",165.5,165.5,121,21,6,0)
subsequent cancer conference.
"^DD",165.5,165.5,121,"DT")
2961219
"^DD",165.5,165.5,323,0)
ONSET OF SYMPTOMS^DXO^^BLA1;24^S ITFLAG="NO" D DATEIT^ONCOPCE Q:ITFLAG="YES"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,323,2)
S Y(0)=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,323,2.1)
D DATEOT^ONCOPCE
"^DD",165.5,165.5,323,21,0)
^^4^4^2960827^
"^DD",165.5,165.5,323,21,1,0)
Record the date (mm/dd/ccyy) on which the symptoms were noted to begin.
"^DD",165.5,165.5,323,21,2,0)
If the patient did not experience any symptoms, or if the documentation
"^DD",165.5,165.5,323,21,3,0)
of symptoms was not recorded, enter date as 00/00/0000.  If symptoms were
"^DD",165.5,165.5,323,21,4,0)
present, but date of onset was unknown, record date as 99/99/9999. 
"^DD",165.5,165.5,323,"DT")
2961219
"^DD",165.5,165.5,361,0)
DATE RADIATION THERAPY ENDED^DXO^^BLA2;16^S ITFLAG="NO" D DATEIT^ONCOPCE Q:ITFLAG="YES"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,361,2)
S Y(0)=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,361,2.1)
D DATEOT^ONCOPCE
"^DD",165.5,165.5,361,21,0)
^^2^2^2960913^^^^
"^DD",165.5,165.5,361,21,1,0)
Record the date on which the entire first course of radiation therapy was
"^DD",165.5,165.5,361,21,2,0)
completed.  If radiation therapy was not given, code the date as 00/00/00.
"^DD",165.5,165.5,361,"DT")
2961219
"^DD",165.5,165.5,367,0)
DATE CHEMOTHERAPY ENDED^DXO^^BLA2;22^S ITFLAG="NO" D DATEIT^ONCOPCE Q:ITFLAG="YES"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,367,2)
S Y(0)=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,367,2.1)
D DATEOT^ONCOPCE
"^DD",165.5,165.5,367,21,0)
^^2^2^2960829^
"^DD",165.5,165.5,367,21,1,0)
Record the date on which the entire first course of chemotherapy was
"^DD",165.5,165.5,367,21,2,0)
completed.  If chemotherapy was not given, code date as 00/00/0000.
"^DD",165.5,165.5,367,"DT")
2961219
"^DD",165.5,165.5,435,0)
DATE OF DISCHARGE AFTER SURG^DXO^^THY1;36^S ITFLAG="NO" D DATEIT^ONCOPCE Q:ITFLAG="YES"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,435,2)
S Y(0)=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,435,2.1)
D DATEOT^ONCOPCE
"^DD",165.5,165.5,435,21,0)
^^4^4^2960829^^
"^DD",165.5,165.5,435,21,1,0)
Record the date on which the patient was discharged following cancer-directed
"^DD",165.5,165.5,435,21,2,0)
surgery.  If a cancer-directed surgical procedure was not performed,
"^DD",165.5,165.5,435,21,3,0)
code 00/00/0000.  If surgery was performed and the date of discharge is
"^DD",165.5,165.5,435,21,4,0)
unknown, code 99/99/9999.
"^DD",165.5,165.5,435,"DT")
2961219
"^DD",165.5,165.5,541,0)
DATE BRACHYTHERAPY STARTED^DXO^^STS2;12^S ITFLAG="NO" D DATEIT^ONCOPCE Q:ITFLAG="YES"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,541,2)
S Y(0)=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,541,2.1)
D DATEOT^ONCOPCE
"^DD",165.5,165.5,541,21,0)
^^2^2^2960925^^^
"^DD",165.5,165.5,541,21,1,0)
Record the date on which brachytherapy was started.  If brachytherapy was
"^DD",165.5,165.5,541,21,2,0)
not given, code the date as 00/00/00.  If it is unknown code as 99/99/99.
"^DD",165.5,165.5,541,"DT")
2961219
"^DD",165.5,165.5,542,0)
DATE BRACHYTHERAPY ENDED^DXO^^STS2;13^S ITFLAG="NO" D DATEIT^ONCOPCE Q:ITFLAG="YES"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,542,2)
S Y(0)=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,542,2.1)
D DATEOT^ONCOPCE
"^DD",165.5,165.5,542,21,0)
^^2^2^2960913^^^
"^DD",165.5,165.5,542,21,1,0)
Record the date on which brachytherapy ended.  If brachytherapy was not
"^DD",165.5,165.5,542,21,2,0)
given, code the date as 00/00/00.  If it is unknown code as 99/99/99.
"^DD",165.5,165.5,542,"DT")
2961219
"^DD",165.5,165.5,567,0)
DATE EXT BEAM RAD STARTED^DXO^^STS2;38^S ITFLAG="NO" D DATEIT^ONCOPCE Q:ITFLAG="YES"  S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.5,567,2)
S Y(0)=Y D DATEOT^ONCOPCE
"^DD",165.5,165.5,567,2.1)
D DATEOT^ONCOPCE
"^DD",165.5,165.5,567,21,0)
^^2^2^2960925^
"^DD",165.5,165.5,567,21,1,0)
Record the date external beam radiation therapy was started.  Code 0's if
"^DD",165.5,165.5,567,21,2,0)
not given.  Code 9's if unknown.
"^DD",165.5,165.5,567,"DT")
2961219
"^DD",165.5,165.51,0)
SUBSEQUENT COURSE OF TREATMENT SUB-FIELD^^32^47
"^DD",165.5,165.51,0,"NM","SUBSEQUENT COURSE OF TREATMENT")

"^DD",165.5,165.51,.01,0)
INITIATION DATE^MDOX^^0;1^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.51,.01,.1)
Initiation Date
"^DD",165.5,165.51,.01,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.01,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.01,10)
ACOS 3.113
"^DD",165.5,165.51,.01,20,0)
^.3LA^1^1
"^DD",165.5,165.51,.01,20,1,0)
ACOS-REQUIRED
"^DD",165.5,165.51,.01,21,0)
^^1^1^2930505^^
"^DD",165.5,165.51,.01,21,1,0)
Record the date that subsequent therapy was initiated.
"^DD",165.5,165.51,.01,23,0)
^^2^2^2930505^^
"^DD",165.5,165.51,.01,23,1,0)
Effective with Oncology V2.1 the name of this field has been changed
"^DD",165.5,165.51,.01,23,2,0)
from SUBSEQUENT TREATMENT DATE.
"^DD",165.5,165.51,.01,"DT")
2961219
"^DD",165.5,165.51,.031,0)
RADIATION THERAPY TO CNS DATE^DOX^^0;17^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.51,.031,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.031,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.031,21,0)
^^1^1^2960612^^
"^DD",165.5,165.51,.031,21,1,0)
This is the date on which brain/CNS radiation therapy was initiated.
"^DD",165.5,165.51,.031,"DT")
2961219
"^DD",165.5,165.51,.041,0)
CANCER-DIRECTED SURGERY DATE^DOX^^0;11^S %DT="EST",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.51,.041,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.041,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.041,3)

"^DD",165.5,165.51,.041,21,0)
^^1^1^2960509^^^^
"^DD",165.5,165.51,.041,21,1,0)
This is the date on which surgery was performed.
"^DD",165.5,165.51,.041,23,0)
^^1^1^2960509^^^^
"^DD",165.5,165.51,.041,23,1,0)
This field is new with Patch ONC*2*10.
"^DD",165.5,165.51,.041,"DT")
2961219
"^DD",165.5,165.51,.051,0)
RADIATION DATE^DOX^^0;12^S %DT="EST",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.51,.051,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.051,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.051,3)

"^DD",165.5,165.51,.051,21,0)
^^1^1^2930930^^^
"^DD",165.5,165.51,.051,21,1,0)
This is the date on which radiation therapy was given.
"^DD",165.5,165.51,.051,23,0)
^^1^1^2930421^^
"^DD",165.5,165.51,.051,23,1,0)
This field is new with Patch ONC*2*10.
"^DD",165.5,165.51,.051,"DT")
2961219
"^DD",165.5,165.51,.061,0)
CHEMOTHERAPY DATE^DOX^^0;13^S %DT="EST",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.51,.061,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.061,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.061,3)

"^DD",165.5,165.51,.061,21,0)
^^1^1^2930421^^
"^DD",165.5,165.51,.061,21,1,0)
This is the date on which chemotherapy was initiated.
"^DD",165.5,165.51,.061,23,0)
^^1^1^2930421^^
"^DD",165.5,165.51,.061,23,1,0)
This field is new with Patch ONC*2*10.
"^DD",165.5,165.51,.061,"DT")
2961219
"^DD",165.5,165.51,.071,0)
HORMONE/STEROID DATE^DOX^^0;14^S %DT="EST",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.51,.071,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.071,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.071,3)

"^DD",165.5,165.51,.071,21,0)
^^1^1^2930421^
"^DD",165.5,165.51,.071,21,1,0)
This is the date on which hormone/steroid therapy was initiated.
"^DD",165.5,165.51,.071,23,0)
^^1^1^2930421^
"^DD",165.5,165.51,.071,23,1,0)
This field is new with Patch ONC*2*10.
"^DD",165.5,165.51,.071,"DT")
2961219
"^DD",165.5,165.51,.081,0)
IMMUNOTHERAPY DATE^DOX^^0;15^S %DT="EST",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.51,.081,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.081,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.081,3)
Record the date immunotherapy was started.
"^DD",165.5,165.51,.081,21,0)
^^1^1^2960216^^^
"^DD",165.5,165.51,.081,21,1,0)
The date immunotherapy was started.
"^DD",165.5,165.51,.081,23,0)
^^1^1^2960216^^^
"^DD",165.5,165.51,.081,23,1,0)
This field is new with Patch ONC*2*10.
"^DD",165.5,165.51,.081,"DT")
2961219
"^DD",165.5,165.51,.091,0)
OTHER CANCER THERAPY DATE^DOX^^0;16^S %DT="EST",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.51,.091,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.091,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,.091,3)

"^DD",165.5,165.51,.091,21,0)
^^1^1^2930421^
"^DD",165.5,165.51,.091,21,1,0)
This is the date on which other cancer therapy was initiated.
"^DD",165.5,165.51,.091,23,0)
^^1^1^2930421^
"^DD",165.5,165.51,.091,23,1,0)
This field is new with Patch ONC*2*10.
"^DD",165.5,165.51,.091,"DT")
2961219
"^DD",165.5,165.52,7,0)
START DATE^DX^^0;8^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0) I $D(X) S Y=$P(^ONCO(165.5,D0,6,D1,0),U,9) I Y'="" K:X>Y X
"^DD",165.5,165.52,7,3)
START DATE must be before or equal to STOP DATE.  Future dates are not allowed.
"^DD",165.5,165.52,7,21,0)
^^1^1^2970204^^^^
"^DD",165.5,165.52,7,21,1,0)
This is the date on which treatment began.
"^DD",165.5,165.52,7,"DT")
2970204
"^DD",165.5,165.52,8,0)
STOP DATE^DX^^0;9^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0) I $D(X) S Y=$P(^ONCO(165.5,D0,6,D1,0),U,8) K:X<Y X
"^DD",165.5,165.52,8,3)
STOP DATE must be after or equal to START DATE.  Future dates are not allowed.
"^DD",165.5,165.52,8,21,0)
^^1^1^2930930^
"^DD",165.5,165.52,8,21,1,0)
This is the date on which treatment ended.
"^DD",165.5,165.52,8,"DT")
2970204
"^DD",165.5,165.572,0)
SUBSEQUENT RECURRENCES SUB-FIELD^^5^10
"^DD",165.5,165.572,0,"NM","SUBSEQUENT RECURRENCES")

"^DD",165.5,165.572,.01,0)
DATE of SUBSEQUENT RECURRENCE^MDOX^^0;1^S %DT="E",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT(0)
"^DD",165.5,165.572,.01,.1)
Date of Recurrence
"^DD",165.5,165.572,.01,1,0)
^.1
"^DD",165.5,165.572,.01,1,1,0)
165.572^B
"^DD",165.5,165.572,.01,1,1,1)
S ^ONCO(165.5,DA(1),23,"B",$E(X,1,30),DA)=""
"^DD",165.5,165.572,.01,1,1,2)
K ^ONCO(165.5,DA(1),23,"B",$E(X,1,30),DA)
"^DD",165.5,165.572,.01,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.572,.01,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.572,.01,3)
Enter date for subsequent recurrence
"^DD",165.5,165.572,.01,21,0)
^^1^1^2930930^
"^DD",165.5,165.572,.01,21,1,0)
This is the date on which a recurrence was recorded to have occurred.
"^DD",165.5,165.572,.01,"DT")
2961219
"^DD",165.5,165.572,1,0)
OTHER T^FXO^^0;6^K:$L(X)>30!($L(X)<1) X I $D(X) S ONCOX="T",STGIND="O" D IN^ONCOTNM
"^DD",165.5,165.572,1,2)
S Y(0)=Y S ONCOX="T",STGIND="O" D OT^ONCOTNM
"^DD",165.5,165.572,1,2.1)
S ONCOX="T",STGIND="O" D OT^ONCOTNM
"^DD",165.5,165.572,1,3)
Answer must be appropriate "T" code from the AJCC Staging Manual
"^DD",165.5,165.572,1,4)
S ONCOX="T",STGIND="O" D HP^ONCOTNM
"^DD",165.5,165.572,1,21,0)
^^2^2^2970114^
"^DD",165.5,165.572,1,21,1,0)
"Other T" evaluates the primary tumor and identifies tumor size and/or
"^DD",165.5,165.572,1,21,2,0)
extension.
"^DD",165.5,165.572,1,"DT")
2970115
"^DD",165.5,165.572,2,0)
OTHER N^FXO^^0;7^K:$L(X)>30!($L(X)<1) X I $D(X) S ONCOX="N",STGIND="O" D IN^ONCOTNM
"^DD",165.5,165.572,2,2)
S Y(0)=Y S ONCOX="N",STGIND="O" D OT^ONCOTNM
"^DD",165.5,165.572,2,2.1)
S ONCOX="N",STGIND="O" D OT^ONCOTNM
"^DD",165.5,165.572,2,3)
Answer must be appropriate "N" code from the AJCC Staging Manual
"^DD",165.5,165.572,2,4)
S ONCOX="N",STGIND="O" D HP^ONCOTNM
"^DD",165.5,165.572,2,21,0)
^^2^2^2970114^
"^DD",165.5,165.572,2,21,1,0)
"Other N" classifies the regional lymph nodes and describes the
"^DD",165.5,165.572,2,21,2,0)
absence or presence and the extent of node metastases.
"^DD",165.5,165.572,2,"DT")
2970115
"^DD",165.5,165.572,3,0)
OTHER M^FXO^^0;8^K:$L(X)>30!($L(X)<1) X I $D(X) S ONCOX="M",STGIND="O" D IN^ONCOTNM
"^DD",165.5,165.572,3,2)
S Y(0)=Y S ONCOX="M",STGIND="O" D OT^ONCOTNM
"^DD",165.5,165.572,3,2.1)
S ONCOX="M",STGIND="O" D OT^ONCOTNM
"^DD",165.5,165.572,3,3)
Answer must be appropriate "M" code from the AJCC Staging Manual
"^DD",165.5,165.572,3,4)
S ONCOX="M",STGIND="O" D HP^ONCOTNM
"^DD",165.5,165.572,3,21,0)
^^2^2^2970114^
"^DD",165.5,165.572,3,21,1,0)
"Other M" records the presence or absence of distant metastases.  Choose
"^DD",165.5,165.572,3,21,2,0)
the lower (less advanced) M category when there is any uncertainty.
"^DD",165.5,165.572,3,"DT")
2970115
"^DD",165.5,165.572,4,0)
OTHER STAGE GROUP^FXO^^0;9^K:$L(X)>14!($L(X)<1) X S ONCOX="S",STGIND="O" D IN^ONCOTNS
"^DD",165.5,165.572,4,2)
S Y(0)=Y S X="" D OT^ONCOTNS
"^DD",165.5,165.572,4,2.1)
S X="" D OT^ONCOTNS
"^DD",165.5,165.572,4,3)
Answer with the appropriate stage from the AJCC Stage Manual
"^DD",165.5,165.572,4,4)
S ONCOX="S",STGIND="O" D HP^ONCOTNS
"^DD",165.5,165.572,4,21,0)
^^11^11^2970114^
"^DD",165.5,165.572,4,21,1,0)
Record the apparent extent of disease in accordance with AJCC staging
"^DD",165.5,165.572,4,21,2,0)
requirements.
"^DD",165.5,165.572,4,21,3,0)

"^DD",165.5,165.572,4,21,4,0)
Stage codes:
"^DD",165.5,165.572,4,21,5,0)

"^DD",165.5,165.572,4,21,6,0)
0        IB        III        IVB
"^DD",165.5,165.572,4,21,7,0)
0A       IC        IIIA       Not applicable
"^DD",165.5,165.572,4,21,8,0)
Occult   II        IIIB       Unknown
"^DD",165.5,165.572,4,21,9,0)
0is      IIA       IIIC
"^DD",165.5,165.572,4,21,10,0)
I        IIB        IV
"^DD",165.5,165.572,4,21,11,0)
IA       IIC        IVA
"^DD",165.5,165.572,4,"DT")
2970115
"^DD",165.5,165.572,5,0)
STAGED BY (OTHER STAGE)^S^0:Not staged;1:Managing physician;2:Pathologist;3:Other physician;4:Any combination of 1, 2, or 3;5:Registrar;6:Any combination of 5 with 1, 2, or 3;7:Other;8:Staged, individual not specified;9:Unknown if staged;^0;10^Q
"^DD",165.5,165.572,5,21,0)
^^4^4^2970114^
"^DD",165.5,165.572,5,21,1,0)
"Staged By (Other Stage)" identifies the person who documented the other
"^DD",165.5,165.572,5,21,2,0)
AJCC staging elements and the stage group.  The Commission requires
"^DD",165.5,165.572,5,21,3,0)
analytic cases to be staged by the managing physician.  Compliance with
"^DD",165.5,165.572,5,21,4,0)
Commission-approved program requirements can be analyzed using this data.
"^DD",165.5,165.572,5,"DT")
2970114
"^DIC",164.5,164.5,0)
SEER CODE SET^164.5I
"^DIC",164.5,164.5,0,"GL")
^ONCO(164.5,
"^DIC",164.5,164.5,"%D",0)
^^9^9^2940713^^^
"^DIC",164.5,164.5,"%D",1,0)
This file contains extension, lymph node, and surgery codes from the SEER 
"^DIC",164.5,164.5,"%D",2,0)
Extent of Disease Codes and Coding Instructions.  Each set of codes can be 
"^DIC",164.5,164.5,"%D",3,0)
linked to code sets from future editions.
"^DIC",164.5,164.5,"%D",4,0)
 
"^DIC",164.5,164.5,"%D",5,0)
This file is referenced directly by routines ONCODEL (for extension and 
"^DIC",164.5,164.5,"%D",6,0)
lymph node codes) and ONCODSR (for surgery codes).
"^DIC",164.5,164.5,"%D",7,0)
 
"^DIC",164.5,164.5,"%D",8,0)
This file comes with data, which overwrite the site's data.  It is not
"^DIC",164.5,164.5,"%D",9,0)
advised that sites modify this file.
"^DIC",164.5,"B","SEER CODE SET",164.5)

**END**
**END**
