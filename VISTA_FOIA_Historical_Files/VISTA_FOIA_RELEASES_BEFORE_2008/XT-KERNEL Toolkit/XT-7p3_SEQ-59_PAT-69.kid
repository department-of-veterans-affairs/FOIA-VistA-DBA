Released XT*7.3*69 SEQ #59
Extracted from mail message
**KIDS**:XT*7.3*69^

**INSTALL NAME**
XT*7.3*69
"BLD",656,0)
XT*7.3*69^TOOLKIT^0^3030514^y
"BLD",656,1,0)
^^2^2^3030127^
"BLD",656,1,1,0)
Please refer to the Description in FORUM Patch Module for details.
"BLD",656,1,2,0)
Patch XT*7.3*69.
"BLD",656,4,0)
^9.64PA^^
"BLD",656,"KRN",0)
^9.67PA^8989.52^19
"BLD",656,"KRN",.4,0)
.4
"BLD",656,"KRN",.401,0)
.401
"BLD",656,"KRN",.402,0)
.402
"BLD",656,"KRN",.403,0)
.403
"BLD",656,"KRN",.5,0)
.5
"BLD",656,"KRN",.84,0)
.84
"BLD",656,"KRN",3.6,0)
3.6
"BLD",656,"KRN",3.8,0)
3.8
"BLD",656,"KRN",9.2,0)
9.2
"BLD",656,"KRN",9.8,0)
9.8
"BLD",656,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",656,"KRN",9.8,"NM",1,0)
XPARDD^^0^B22550678
"BLD",656,"KRN",9.8,"NM","B","XPARDD",1)

"BLD",656,"KRN",19,0)
19
"BLD",656,"KRN",19.1,0)
19.1
"BLD",656,"KRN",101,0)
101
"BLD",656,"KRN",409.61,0)
409.61
"BLD",656,"KRN",771,0)
771
"BLD",656,"KRN",870,0)
870
"BLD",656,"KRN",8989.51,0)
8989.51
"BLD",656,"KRN",8989.52,0)
8989.52
"BLD",656,"KRN",8994,0)
8994
"BLD",656,"KRN","B",.4,.4)

"BLD",656,"KRN","B",.401,.401)

"BLD",656,"KRN","B",.402,.402)

"BLD",656,"KRN","B",.403,.403)

"BLD",656,"KRN","B",.5,.5)

"BLD",656,"KRN","B",.84,.84)

"BLD",656,"KRN","B",3.6,3.6)

"BLD",656,"KRN","B",3.8,3.8)

"BLD",656,"KRN","B",9.2,9.2)

"BLD",656,"KRN","B",9.8,9.8)

"BLD",656,"KRN","B",19,19)

"BLD",656,"KRN","B",19.1,19.1)

"BLD",656,"KRN","B",101,101)

"BLD",656,"KRN","B",409.61,409.61)

"BLD",656,"KRN","B",771,771)

"BLD",656,"KRN","B",870,870)

"BLD",656,"KRN","B",8989.51,8989.51)

"BLD",656,"KRN","B",8989.52,8989.52)

"BLD",656,"KRN","B",8994,8994)

"BLD",656,"QUES",0)
^9.62^^
"BLD",656,"REQB",0)
^9.611^1^1
"BLD",656,"REQB",1,0)
XT*7.3*63^2
"BLD",656,"REQB","B","XT*7.3*63",1)

"MBREQ")
0
"PKG",6,-1)
1^1
"PKG",6,0)
TOOLKIT^XT^PROGRAMMERS OPTIONS, MULTI. TERM LOOKUP^
"PKG",6,20,0)
^9.402P^^
"PKG",6,22,0)
^9.49I^1^1
"PKG",6,22,1,0)
7.3^2961029^2970513^2
"PKG",6,22,1,"PAH",1,0)
69^3030514
"PKG",6,22,1,"PAH",1,1,0)
^^2^2^3030514
"PKG",6,22,1,"PAH",1,1,1,0)
Please refer to the Description in FORUM Patch Module for details.
"PKG",6,22,1,"PAH",1,1,2,0)
Patch XT*7.3*69.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XPARDD")
0^1^B22550678
"RTN","XPARDD",1,0)
XPARDD ; SLC/KCM - DD Logic for Parameters (8989.5) ;05/14/2003  07:28
"RTN","XPARDD",2,0)
 ;;7.3;TOOLKIT;**26,35,39,63,69**;Apr 25, 1995
"RTN","XPARDD",3,0)
 ;
"RTN","XPARDD",4,0)
ALLOW(ENT,PAR) ; function
"RTN","XPARDD",5,0)
 ; Screen for PARAMETER (.02) field
"RTN","XPARDD",6,0)
 ; Returns 1 (true) if parameter allowed for this entity, otherwise 0
"RTN","XPARDD",7,0)
 S ENT=$P($P($G(^XTV(8989.5,ENT,0)),"^",1),";",2)
"RTN","XPARDD",8,0)
 I $L(ENT),$D(^XTV(8989.51,PAR,30,"AG",ENT)) Q 1
"RTN","XPARDD",9,0)
 Q 0
"RTN","XPARDD",10,0)
 ;
"RTN","XPARDD",11,0)
DDVALID(FLD) ; procedure
"RTN","XPARDD",12,0)
 ; Input transform for both INSTANCE (.03) and VALUE (1) fields
"RTN","XPARDD",13,0)
 ;    FLD: field (I=instance, V=value)
"RTN","XPARDD",14,0)
 N X0,ENT,PAR,ERR
"RTN","XPARDD",15,0)
 S X0=$G(^XTV(8989.5,DA,0)),ENT=$P(X0,"^",1),PAR=$P(X0,"^",2)
"RTN","XPARDD",16,0)
 D VALID(PAR,.X,FLD,.ERR)
"RTN","XPARDD",17,0)
 I FLD="I",'ERR,$D(^XTV(8989.5,"AC",PAR,ENT,X)),($O(^(X,0))'=DA) D
"RTN","XPARDD",18,0)
 . S ERR=$$ERR(89895006)                               ;Duplicate
"RTN","XPARDD",19,0)
 I ERR K X D EN^DDIOL($P(ERR,"^",2))
"RTN","XPARDD",20,0)
 Q
"RTN","XPARDD",21,0)
VALID(PAR,VAL,FLD,ERR) ; procedure
"RTN","XPARDD",22,0)
 ; Validate both INSTANCE (.03) and VALUE (1) fields
"RTN","XPARDD",23,0)
 ;    PAR: parameter (internal form)
"RTN","XPARDD",24,0)
 ; [.]VAL: value (external form), internal form returned
"RTN","XPARDD",25,0)
 ;    FLD: field (I=instance, V=value)
"RTN","XPARDD",26,0)
 ;   .ERR: returns error flag & description
"RTN","XPARDD",27,0)
 N DIR,DDER,DTOUT,DUOUT,DIRUT,DIROUT,MULT,SUB,X,Y
"RTN","XPARDD",28,0)
 S ERR=0
"RTN","XPARDD",29,0)
 I 'PAR S ERR=$$ERR(89895001) Q                        ;Invalid Param
"RTN","XPARDD",30,0)
 I $D(^XTV(8989.51,PAR))<10 S ERR=$$ERR(89895002) Q    ;Missing Param
"RTN","XPARDD",31,0)
 I '$D(XPARGET),($P(^XTV(8989.51,PAR,0),"^",6)=1),($G(DIUTIL)'="VERIFY FIELDS") S ERR=$$ERR(89895014) Q
"RTN","XPARDD",32,0)
 S MULT=$P($G(^XTV(8989.51,PAR,0)),"^",3)
"RTN","XPARDD",33,0)
 I (FLD="I"),(VAL'=1),'MULT S ERR=$$ERR(89895003) Q    ;Not Multi Valued
"RTN","XPARDD",34,0)
 I (FLD="I"),(VAL=1),'MULT Q  ;Single valued instance, no checking req'd
"RTN","XPARDD",35,0)
 S:FLD="V" SUB=0 S:FLD="I" SUB=5
"RTN","XPARDD",36,0)
 S DIR(0)=$P($G(^XTV(8989.51,PAR,SUB+1)),"^",1,2),DIR("V")=""
"RTN","XPARDD",37,0)
 I '$L(DIR(0)) S ERR=$$ERR(89895004) Q                 ;Missing Type
"RTN","XPARDD",38,0)
 I "S"[$E(DIR(0)) S DIR(0)=$P(DIR(0),U)_"V^"_$P(DIR(0),U,2,9) ;Make silent
"RTN","XPARDD",39,0)
 I $L($G(^XTV(8989.51,PAR,SUB+3))) S DIR("S")=^(SUB+3)
"RTN","XPARDD",40,0)
 I $E(DIR(0))="S",(DIR(0)[(VAL_":")) S VAL=$P($P(DIR(0),VAL_":",2),";")
"RTN","XPARDD",41,0)
 I $E(DIR(0))="P" D
"RTN","XPARDD",42,0)
 . N X S X=$P(DIR(0),"^",2)
"RTN","XPARDD",43,0)
 . S $P(DIR(0),"^",2)=X_$S(X'[":":":X",X'["X":"X",1:"")
"RTN","XPARDD",44,0)
 . I $G(DIUTIL)="VERIFY FIELDS" S VAL="`"_VAL          ;for Verify only
"RTN","XPARDD",45,0)
 I $E(DIR(0))="W" S $P(DIR(0),"^",1)="F"               ;Check WP Title
"RTN","XPARDD",46,0)
 I $E(DIR(0))="Y",VAL?1.N S VAL=$S(VAL=0:"NO",1:"YES")
"RTN","XPARDD",47,0)
 I $E(DIR(0))="D",$L($P(DIR(0),"^",2)) D               ;Resolve Date
"RTN","XPARDD",48,0)
 . N %,X,T1,T2,T3
"RTN","XPARDD",49,0)
 . S X=$P(DIR(0),"^",2),T1=$P(X,":",1),T2=$P(X,":",2),T3=$P(X,":",3)
"RTN","XPARDD",50,0)
 . D NOW^%DTC
"RTN","XPARDD",51,0)
 . S:T1="NOW" T1=% S:T1="DT" T1=X S:T2="NOW" T2=% S:T2="DT" T2=X
"RTN","XPARDD",52,0)
 . S $P(DIR(0),"^",2)=T1_":"_T2_":"_T3
"RTN","XPARDD",53,0)
 I $E(DIR(0))="W" S $P(DIR(0),"^",1)="F"
"RTN","XPARDD",54,0)
 S X=VAL D ^DIR I $G(DDER)=1 K X                       ;Check with DIR
"RTN","XPARDD",55,0)
 I $D(X),$L($G(^XTV(8989.51,PAR,SUB+2))) X ^(SUB+2)    ;Execute 3rd Piece
"RTN","XPARDD",56,0)
 I '$D(X) S ERR=$$ERR($S(FLD="V":89895005,1:89895013)) Q  ;Fail Validate
"RTN","XPARDD",57,0)
 S VAL=$P(Y,"^",1)                                        ;Pass Validate
"RTN","XPARDD",58,0)
 Q
"RTN","XPARDD",59,0)
 ;
"RTN","XPARDD",60,0)
TYPE(DA,FLD) ; function  **********************
"RTN","XPARDD",61,0)
 ; Find value type and return external value
"RTN","XPARDD",62,0)
 N X S X=$P($G(^XTV(8989.51,DA,$S(FLD="I":6,1:1))),"^",1)
"RTN","XPARDD",63,0)
 Q $S(X="D":"Date/Time",X="F":"Free Text",X="N":"Numeric",X="S":"Set",X="Y":"Yes/No",X="P":"Pointer",X="W":"Word Processing",1:"undefined")
"RTN","XPARDD",64,0)
 ;
"RTN","XPARDD",65,0)
ERR(IEN) ; function
"RTN","XPARDD",66,0)
 ; Return error number and message in format:  nnn^error message
"RTN","XPARDD",67,0)
 Q IEN_"^"_$$EZBLD^DIALOG(IEN)
"RTN","XPARDD",68,0)
 ;
"RTN","XPARDD",69,0)
HELP(FLD) ; procedure
"RTN","XPARDD",70,0)
 ; Executable Help for both INSTANCE (.03) and VALUE (1) fields
"RTN","XPARDD",71,0)
 N PDEFNOD,PROOT,PDESC,PHELP
"RTN","XPARDD",72,0)
 S PDEFNOD=$P($G(^XTV(8989.5,DA,0)),"^",2)    ;Get param definition
"RTN","XPARDD",73,0)
 I 'PDEFNOD D EN^DDIOL("Parameter must be entered before the value.")
"RTN","XPARDD",74,0)
 I PDEFNOD D
"RTN","XPARDD",75,0)
 . S PHELP=$P($G(^XTV(8989.51,PDEFNOD,$S(FLD="I":6,1:1))),"^",3)
"RTN","XPARDD",76,0)
 . I '$L(PHELP) S PHELP="Enter a "_$$TYPE(PDEFNOD,FLD)_" value."
"RTN","XPARDD",77,0)
 . D EN^DDIOL(PHELP,"","!?5")
"RTN","XPARDD",78,0)
 . I X["??" D
"RTN","XPARDD",79,0)
 . . D EN^DDIOL("Parameter Description: ","","!!")
"RTN","XPARDD",80,0)
 . . S PROOT=$$GET1^DIQ(8989.51,PDEFNOD_",",20,"","PDESC")
"RTN","XPARDD",81,0)
 . . D EN^DDIOL(.PDESC),EN^DDIOL($S(FLD="I":"Instance",1:"Value")_" Field Description:","","!!")
"RTN","XPARDD",82,0)
 Q
"RTN","XPARDD",83,0)
OUT(Y,FLD) ; function
"RTN","XPARDD",84,0)
 ; returns external value (for OUTPUT TRANSFORM of .03, 1)
"RTN","XPARDD",85,0)
 Q:$D(D0)#2'=1 Y ; ** D0 tells current record for output transform?
"RTN","XPARDD",86,0)
 N PAR S PAR=$P($G(^XTV(8989.5,D0,0)),"^",2)
"RTN","XPARDD",87,0)
 Q:'$L(PAR) Y ;Check that PAR has a value
"RTN","XPARDD",88,0)
 Q $$EXT(Y,PAR,FLD)
"RTN","XPARDD",89,0)
 ;
"RTN","XPARDD",90,0)
EXT(X,PAR,FLD) ; function
"RTN","XPARDD",91,0)
 ; return external value of INSTANCE or VALUE fields
"RTN","XPARDD",92,0)
 ;   X: internal value
"RTN","XPARDD",93,0)
 ; PAR: parameter IEN
"RTN","XPARDD",94,0)
 ; FLD: "I" for instance, "V" for value fields, default="V"
"RTN","XPARDD",95,0)
 N TYP,FN S FLD=$G(FLD,"V")
"RTN","XPARDD",96,0)
 Q:$G(X)="" "" Q:$G(PAR)="" "" ;Check parameters
"RTN","XPARDD",97,0)
 S TYP=$P($G(^XTV(8989.51,PAR,$S(FLD="I":6,1:1))),"^",1)
"RTN","XPARDD",98,0)
 I "NFWMC"[TYP Q X
"RTN","XPARDD",99,0)
 I TYP="D" Q $$EXTDATE(X)
"RTN","XPARDD",100,0)
 I TYP="S" Q $$EXTSET(X,PAR,FLD)
"RTN","XPARDD",101,0)
 I TYP="Y" Q $S(X=1:"YES",1:"NO")
"RTN","XPARDD",102,0)
 I TYP="P" D  Q $$EXTPTR(X,FN)
"RTN","XPARDD",103,0)
 . S FN=+$P(^XTV(8989.51,PAR,$S(FLD="I":6,1:1)),"^",2)
"RTN","XPARDD",104,0)
 Q  ;force error, not quitting before here is erroneous condition
"RTN","XPARDD",105,0)
EXTDATE(Y) ; function
"RTN","XPARDD",106,0)
 ; return external form of date
"RTN","XPARDD",107,0)
 ; Y: date in internal FM format
"RTN","XPARDD",108,0)
 D DD^%DT
"RTN","XPARDD",109,0)
 Q Y
"RTN","XPARDD",110,0)
EXTPTR(APTR,FN) ; function
"RTN","XPARDD",111,0)
 ; return external form of pointer
"RTN","XPARDD",112,0)
 ; APTR: pointer value
"RTN","XPARDD",113,0)
 ;   FN: pointed to file number
"RTN","XPARDD",114,0)
 I (+APTR'=APTR)!(APTR'>0) Q APTR ;not a valid pointer
"RTN","XPARDD",115,0)
 N REF S REF=$G(^DIC(FN,0,"GL"))
"RTN","XPARDD",116,0)
 I $L(REF) S @("REF=$G("_REF_APTR_",0))")
"RTN","XPARDD",117,0)
 Q:'$L(REF) APTR
"RTN","XPARDD",118,0)
 S APTR=$P(REF,"^",1)
"RTN","XPARDD",119,0)
 Q $$EXTERNAL^DILFD(FN,.01,"",APTR)
"RTN","XPARDD",120,0)
EXTSET(X,PAR,FLD) ; function
"RTN","XPARDD",121,0)
 ; return external form for set of codes
"RTN","XPARDD",122,0)
 ;   X: internal code
"RTN","XPARDD",123,0)
 ; PAR: parameter IEN
"RTN","XPARDD",124,0)
 ; FLD: "I" for instance, "V" for value fields, default = "V"
"RTN","XPARDD",125,0)
 N CODES S FLD=$G(FLD,"V")
"RTN","XPARDD",126,0)
 S CODES=$P($G(^XTV(8989.51,PAR,$S(FLD="I":6,1:1))),"^",2)
"RTN","XPARDD",127,0)
 Q $P($P(CODES,X_":",2),";",1)
"VER")
8.0^22.0
**END**
**END**
