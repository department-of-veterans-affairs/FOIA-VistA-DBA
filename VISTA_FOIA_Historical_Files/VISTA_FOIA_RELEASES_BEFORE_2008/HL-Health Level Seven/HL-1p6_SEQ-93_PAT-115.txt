$TXT Created by MOORE,JIM at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Wednesday, 03/17/04 at 12:40
=============================================================================
Run Date: MAR 30, 2004                     Designation: HL*1.6*115
Package : HL - HEALTH LEVEL SEVEN     HL      Priority: EMERGENCY
Version : 1.6        SEQ #93                    Status: Released
                  Compliance Date: APR 01, 2004
=============================================================================

Associated patches: (v)HL*1.6*109  <<= must be installed BEFORE `HL*1.6*115'

Subject: FIX STUCK LINKS

Category: 
  - Routine

Description:
============

 Test sites:  MPI, San Francisco, Montana, Reno
  
 NOIS Resolved: HWH-0204-42260
 
 This patch fixes these problems:
 
 1) An outgoing logical link might get stuck on a particular message if, due 
    to a quirk of timing, the application acknowledgment is returned before
    the commit acknowledgement.
 
 2) This patch replaces a variable being used in PING^HLMA to its original 
    value (!) to flush the network device.  The variable was inadvertently 
    placed to use a future functionality provided by Kernel patch XU*8.0*275 
    and a future patch HL*1.6*113.  
 
 3) The in-filer currently pauses for around 22 seconds before processing 
    the next in-queue. This long pause was introduced in patch HL*1.6*109 
    because it was discovered to be necessary for VMS DSM sites that use disk
    buffering. However, because this long pause slows down the
    responsiveness of HL7 messaging, and since the official recommendation
    of the AXP team is that DSM/VMS sites should NOT be using disk 
    buffering, this patch reduces that pause to 2 seconds.
 
    Note:  For VMS DSM sites, if you are not sure whether or not you are
    utilizing disk buffering, please refer to the patch instructions for 
    HL*1.6*109 for instructions.
 
 
  ROUTINE SUMMARY
 ================
  
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;1.6;HEALTH LEVEL SEVEN;**[patch list]**;Oct 13, 1995
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch     Patch List
  ============      ============          ===========     ==========
  HLCSIN                7978218             6375257       2,30,14,19,62
                                                          109,115
  HLDIE773              2035798             2170767       109,115
  HLMA                  9293771             9362505       19,43,58,63,66
                                                          82,91,109,115
  HLTP3                15431583           15662336       19,43,57,58,59
                                                          66,69,109,115
  
  
  
  Installation Instructions:
  =========================
    1.  Users are allowed to be on the system during the installation.
  
    2.  VMS SITES: Review your mapped routine set.  If any of the
        routines listed in the ROUTINE SUMMARY section are mapped, they
        should be removed from the mapped set at this time.
  
    3.  Shutdown all Logical Links, incoming and outgoing filers, and
        the Link Manager using the Filer and Link Management options
        listed below:
  
          Stop All Messaging Background Processes [HL STOP ALL]
          TCP Link Manager Start/Stop [HL START/STOP LINK MANAGER]
  
        VMS SITES ONLY: Disable all HL7 TCP/IP services for this
        installation.
  
    4.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
  
    5.  This patch is now loaded into a transport global on your
        system. The next step is to use KIDS to install the Transport
        global. To do this, use the 'Installation [XPD INSTALLATION 
        MENU]' menu.  You should use each of the following 'Installation'
        menu options in the order shown below:
  
          Verify Checksums in Transport Global
          Print Transport Global
          Compare Transport Global to Current System
          Backup a Transport Global
          Install Package(s)
  
        When using the 'Install Package(s)' menu option to install 
        the patch build, you will be asked several questions.  The 
        questions asked, and the answers you should supply, are 
        shown below.
  
          INSTALL NAME: <HL*1.6*115>
          Want KIDS to INHIBIT LOGONS during the install?  <NO>
          Want to DISABLE Scheduled Options, Menu Options, and
          Protocols?  <NO>
  
 
    6.  Start up all Logical Links and incoming and outgoing filers using
        the Filer and Link Management Option's 'Restart/Start All Links
        and Filers [HL TASK RESTART]' menu option.
  
        (Note that links that do not have "autostart" enabled will need
        to be restarted manually.)
  
        VMS Sites:  If you previously disabled an HL7 TCP/IP service for 
        this installation, you may enable it now.
  
    7.  VMS Sites:  After the patch has been installed, rebuild your
        map set, if necessary.
  
    8.  Start Link Manager using the 'TCP Link Manager Start/Stop [HL
        START/STOP LINK MANAGER]' menu option. 
 
 
 

Routine Information:
====================

Routine Name:
  - HLDIE773


Routine Checksum:

Routine Name:
  - HLMA


Routine Checksum:

Routine Name:
  - HLCSIN


Routine Checksum:

Routine Name:
  - HLTP3


Routine Checksum:

=============================================================================
User Information:
Entered By  : MOORE,CHARLES J               Date Entered  : FEB 26, 2004
Completed By: SINGH,GURBIR                  Date Completed: MAR 29, 2004
Released By : GAYFIELD,LISA                 Date Released : MAR 30, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
