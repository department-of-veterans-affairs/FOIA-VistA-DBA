Released GMRV*4*6 SEQ #6
Extracted from mail message
**KIDS**:GMRV*4.0*6^

**INSTALL NAME**
GMRV*4.0*6
"BLD",1214,0)
GMRV*4.0*6^GEN. MED. REC. - VITALS^0^2981007^y
"BLD",1214,1,0)
^^1^1^2980909^
"BLD",1214,1,1,0)
Refer to the patch for the patch description.
"BLD",1214,4,0)
^9.64PA^^
"BLD",1214,"ABPKG")
n
"BLD",1214,"KRN",0)
^9.67PA^19^18
"BLD",1214,"KRN",.4,0)
.4
"BLD",1214,"KRN",.401,0)
.401
"BLD",1214,"KRN",.402,0)
.402
"BLD",1214,"KRN",.403,0)
.403
"BLD",1214,"KRN",.5,0)
.5
"BLD",1214,"KRN",.84,0)
.84
"BLD",1214,"KRN",3.6,0)
3.6
"BLD",1214,"KRN",3.8,0)
3.8
"BLD",1214,"KRN",9.2,0)
9.2
"BLD",1214,"KRN",9.8,0)
9.8
"BLD",1214,"KRN",9.8,"NM",0)
^9.68A^4^4
"BLD",1214,"KRN",9.8,"NM",1,0)
GMRVED1^^0^B23624577
"BLD",1214,"KRN",9.8,"NM",2,0)
GMRVED3^^0^B17878378
"BLD",1214,"KRN",9.8,"NM",3,0)
GMRVUT1^^0^B19717637
"BLD",1214,"KRN",9.8,"NM",4,0)
GMRVORC0^^0^B4602958
"BLD",1214,"KRN",9.8,"NM","B","GMRVED1",1)

"BLD",1214,"KRN",9.8,"NM","B","GMRVED3",2)

"BLD",1214,"KRN",9.8,"NM","B","GMRVORC0",4)

"BLD",1214,"KRN",9.8,"NM","B","GMRVUT1",3)

"BLD",1214,"KRN",19,0)
19
"BLD",1214,"KRN",19.1,0)
19.1
"BLD",1214,"KRN",101,0)
101
"BLD",1214,"KRN",409.61,0)
409.61
"BLD",1214,"KRN",771,0)
771
"BLD",1214,"KRN",869.2,0)
869.2
"BLD",1214,"KRN",870,0)
870
"BLD",1214,"KRN",8994,0)
8994
"BLD",1214,"KRN","B",.4,.4)

"BLD",1214,"KRN","B",.401,.401)

"BLD",1214,"KRN","B",.402,.402)

"BLD",1214,"KRN","B",.403,.403)

"BLD",1214,"KRN","B",.5,.5)

"BLD",1214,"KRN","B",.84,.84)

"BLD",1214,"KRN","B",3.6,3.6)

"BLD",1214,"KRN","B",3.8,3.8)

"BLD",1214,"KRN","B",9.2,9.2)

"BLD",1214,"KRN","B",9.8,9.8)

"BLD",1214,"KRN","B",19,19)

"BLD",1214,"KRN","B",19.1,19.1)

"BLD",1214,"KRN","B",101,101)

"BLD",1214,"KRN","B",409.61,409.61)

"BLD",1214,"KRN","B",771,771)

"BLD",1214,"KRN","B",869.2,869.2)

"BLD",1214,"KRN","B",870,870)

"BLD",1214,"KRN","B",8994,8994)

"BLD",1214,"QUES",0)
^9.62^^
"BLD",1214,"REQB",0)
^9.611^1^1
"BLD",1214,"REQB",1,0)
GMRV*4.0*5^0
"BLD",1214,"REQB","B","GMRV*4.0*5",1)

"PKG",44,-1)
1^1
"PKG",44,0)
GEN. MED. REC. - VITALS^GMRV^Vitals/Measurements Module of General Medical Record.
"PKG",44,20,0)
^9.402P^^
"PKG",44,22,0)
^9.49I^1^1
"PKG",44,22,1,0)
4.0^2970425^2970702^64
"PKG",44,22,1,"PAH",1,0)
6^2981007
"PKG",44,22,1,"PAH",1,1,0)
^^1^1^2981007
"PKG",44,22,1,"PAH",1,1,1,0)
Refer to the patch for the patch description.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","GMRVED1")
0^1^B23624577
"RTN","GMRVED1",1,0)
GMRVED1 ;HIRMFO/RM,YH-VITAL SIGNS EDIT SHORT FORM (cont.) ;10/7/98  12:14
"RTN","GMRVED1",2,0)
 ;;4.0;Vitals/Measurements;**1,6**;Apr 25, 1997
"RTN","GMRVED1",3,0)
EN2 ; ENTRY FROM GMRVED0 TO ENTER THE DATA FOR A PATIENT DEFINED BY DFN
"RTN","GMRVED1",4,0)
 D DSPOV^GMRVED4 I GMRSTR(0)=";" W:GMRENTY<5 !,$C(7) Q
"RTN","GMRVED1",5,0)
CHANGE S (GMRHELP,GMRPRMT,GMRHELP(1),GREASON)="" F GMRX=2:1:$L(GMRSTR(0),";")-1 D SETPRMT^GMRVED2
"RTN","GMRVED1",6,0)
 S GMRPRMT=GMRPRMT_": ",GMRSTAR=0
"RTN","GMRVED1",7,0)
ASK ;
"RTN","GMRVED1",8,0)
 Q:GMROUT  S GLINE=0 W !,"To omit entering a vital/measurement reading:",!,"Enter 'N' or 'n' for the value when NOT documenting a reason for omission." S GLINE=$G(GLINE)+1 D CHECK^GMRVUT1
"RTN","GMRVED1",9,0)
 W !,"Enter an * for the specific value when documenting the reason for omission.",! S GLINE=GLINE+1 D CHECK^GMRVUT1
"RTN","GMRVED1",10,0)
 W "Enter a single * to document that all measurements were omitted and the",!,"reason for omission." S GLINE=GLINE+2 D CHECK^GMRVUT1 W !!,GMRPRMT  S GLINE=GLINE+1 R GMRDAT:DTIME
"RTN","GMRVED1",11,0)
 S:'$T GMRTO=1 I GMRDAT="^"!'$T S GMROUT=1 Q
"RTN","GMRVED1",12,0)
 I GMRDAT="" W !!,$C(7),"NO DATA ENTERED",! S GMROUT=1 Q
"RTN","GMRVED1",13,0)
 I GMRDAT["*" S GREASON=$$EN2^GMRVED6(GREASON)
"RTN","GMRVED1",14,0)
 Q:GMROUT  I GMRDAT="*" G STAR
"RTN","GMRVED1",15,0)
 I GMRENTY'=21,($E(GMRDAT,1)["-")!(GMRDAT?.E1"--") W !!,$C(7),"ERRONEOUS ENTRY",! G ASK
"RTN","GMRVED1",16,0)
 F GMRX=2:1:$L(GMRSTR(0),";")-1 D CHKSTR Q:GMROUT
"RTN","GMRVED1",17,0)
 I GMROUT S GMROUT=0 G ASK
"RTN","GMRVED1",18,0)
 F GMRX=2:1:$L(GMRSTR(0),";")-1 D CHKDAT Q:GMROUT
"RTN","GMRVED1",19,0)
STAR Q:GMROUT!(+$G(GMROUT(1)))
"RTN","GMRVED1",20,0)
 W ! S GMRDAT(0)=0 F GMRY=2:1:$L(GMRSTR(0),";")-1 S GMRX=$P(GMRSTR(0),";",GMRY) D
"RTN","GMRVED1",21,0)
 . I GMRDAT="*" S GMRDAT(GMRX)=GREASON
"RTN","GMRVED1",22,0)
 . I $D(GMRDAT(GMRX)),GMRDAT(GMRX)'="" S GMRDAT(0)=1 D WOK
"RTN","GMRVED1",23,0)
ASK1 ;
"RTN","GMRVED1",24,0)
 I 'GMRDAT(0) W !,$C(7),"NO DATA ENTERED",! S GMROUT=1 Q
"RTN","GMRVED1",25,0)
 W !,"Is this correct? YES// " R GMRX:DTIME
"RTN","GMRVED1",26,0)
 S:'$T GMRTO=1 I GMRX="^"!'$T S GMROUT=1 W !,$C(7),"DATA DELETED",! Q
"RTN","GMRVED1",27,0)
 I GMRX?1"N".E!(GMRX?1"n".E) K:$D(GMRSITE("BP"))&($D(GMRQUAL("BP"))) GBP(GMRSITE("BP")_"/"_GMRQUAL("BP")) W ! G ASK
"RTN","GMRVED1",28,0)
 I GMRX=""!(GMRX?1"Y".E)!(GMRX?1"y".E) G AR1
"RTN","GMRVED1",29,0)
 W !,"ANSWER YES OR NO",*7 G ASK1
"RTN","GMRVED1",30,0)
AR1 W !
"RTN","GMRVED1",31,0)
 Q
"RTN","GMRVED1",32,0)
CHKSTR ; CHECK THE INPUT STRING TO SEE IF IT IS VALID
"RTN","GMRVED1",33,0)
 S GMRY=$P(GMRSTR(0),";",GMRX),GMRY(1)=$S(GMRY="T":1,GMRY="P"!(GMRY="R"):2,GMRY="BP":3,GMRY="HT":4,GMRY="WT":5,GMRY="CG":6,GMRY="CVP":7,GMRY="PO2":8,1:0) Q:GMRY(1)'>0
"RTN","GMRVED1",34,0)
 I GMRENTY=21,GMRDAT="*" S GMRDAT=GREASON Q
"RTN","GMRVED1",35,0)
 I $P(GMRDAT,"-",GMRX-1)="*" S $P(GMRDAT,"-",GMRX-1)=GREASON Q
"RTN","GMRVED1",36,0)
 I GMRENTY=21,GMRDAT="" Q
"RTN","GMRVED1",37,0)
 I $P(GMRDAT,"-",GMRX-1)="" Q
"RTN","GMRVED1",38,0)
 S GMRSCR=$S(GMRENTY=21:"GMRDAT'?",1:"$P(GMRDAT,""-"",GMRX-1)'?")
"RTN","GMRVED1",39,0)
 S GMRSCR=GMRSCR_$P("0.3N0.1"".""0.2N0.NA^0.3N0.NA^0.3N0.1""/""0.3N0.1""/""0.3N0.1A^0.3N0.3AP0.3N0.1"".""0.2N0.3AP0.1"";""0.NA^0.3N0.1"".""0.2N1.NA^0.3N0.1"".""0.2N0.1A^0.1""-""0.3N0.1"".""0.1N0.1A^0.3N0.1A","^",GMRY(1))_"!(GMRDAT?1""?"".E)"
"RTN","GMRVED1",40,0)
 I @GMRSCR D WRT S GMROUT=1 Q
"RTN","GMRVED1",41,0)
 Q
"RTN","GMRVED1",42,0)
WRT ;
"RTN","GMRVED1",43,0)
 W @IOF D @GMRHELP(1) W !,$C(7),$S(GMRDAT'?1"?".E:"Invalid data format, t",1:"T")_"he entry should be in the following format:",!,?5,GMRHELP
"RTN","GMRVED1",44,0)
 Q
"RTN","GMRVED1",45,0)
WOK ;
"RTN","GMRVED1",46,0)
 I GMRX'="CVP",GMRDAT(GMRX)'>0 W !,?2,$S(GMRX="BP":"B/P",GMRX="P":"Pulse",GMRX="R":"Resp.",GMRX="T":"Temp.",GMRX="HT":"Ht.",GMRX="CG":"Circumference/Girth",GMRX="WT":"Wt.",GMRX="PO2":"Pulse Ox.",1:GMRX)_": "_GMRDAT(GMRX) Q
"RTN","GMRVED1",47,0)
 I GMRX="CVP",'(GMRDAT(GMRX)>0!(GMRDAT(GMRX)<0)!($E(GMRDAT(GMRX))="0")) W !,?2,GMRX_": "_GMRDAT(GMRX) Q
"RTN","GMRVED1",48,0)
 S GMRVX=GMRX S GMRVX(0)=$S(GMRX="B"!(GMRX="BP"):$P(GMRDAT(GMRX),"^"),1:+$P(GMRDAT(GMRX),"^")) D EN1^GMRVSAS0
"RTN","GMRVED1",49,0)
 W !,?2,$S(GMRX="BP":"B/P",GMRX="P":"Pulse",GMRX="R":"Resp.",GMRX="T":"Temp.",GMRX="HT":"Ht.",GMRX="CG":"Circumference/Girth",GMRX="WT":"Wt.",GMRX="PO2":"Pulse Ox.",1:GMRX)_": "_$S(GMRX="BP"!(GMRX="P")!(GMRX="R"):GMRDAT(GMRX),1:"")
"RTN","GMRVED1",50,0)
 I GMRX="T" W GMRVX(0)_" F  ("_$J(+GMRVX(0)-32*5/9,0,1)_" C)"
"RTN","GMRVED1",51,0)
 I GMRX="WT" W GMRVX(0)_" LB  ("_$J(GMRVX(0)/2.2,0,2)_" KG)"
"RTN","GMRVED1",52,0)
 I GMRX="HT" W $S(GMRVX(0)\12:GMRVX(0)\12_" FT ",1:"")_$S(GMRVX(0)#12:GMRVX(0)#12_" IN",1:"")_" ("_$J(GMRVX(0)*2.54,0,2)_" CM)"
"RTN","GMRVED1",53,0)
 I GMRX="CG" W GMRVX(0)_" IN ("_$J(+GMRVX(0)/.3937,0,2)_" CM)"
"RTN","GMRVED1",54,0)
 I GMRX="CVP" W GMRVX(0)_" cmH2O ("_$J(GMRVX(0)/1.36,0,1)_" mmHg)"
"RTN","GMRVED1",55,0)
 I GMRX="PO2" W GMRVX(0)_" %"_$S(GMRO2(GMRX)'="":" with supplemental O2 "_$P(GMRO2(GMRX)," l/min")_"L/min"_$P(GMRO2(GMRX)," l/min",2),1:"")
"RTN","GMRVED1",56,0)
 W $S('$D(GMRVX(1)):"",'GMRVX(1):"",1:"*") K GMRVX S GTXT=""
"RTN","GMRVED1",57,0)
 W:$G(GMRSITE(GMRX))'=""&(GMRX="PO2") !,?20," via" W " "_$P($G(GMRSITE(GMRX)),"^")
"RTN","GMRVED1",58,0)
 I $D(GMRINF(GMRX)) S I=0 F  S I=$O(GMRINF(GMRX,I)) Q:I'>0  S I(1)="" F  S I(1)=$O(GMRINF(GMRX,I,I(1))) Q:I(1)=""  W "  "_I(1)
"RTN","GMRVED1",59,0)
 Q
"RTN","GMRVED1",60,0)
CHKDAT ;
"RTN","GMRVED1",61,0)
 D CHKDAT^GMRVED3
"RTN","GMRVED1",62,0)
 Q
"RTN","GMRVED3")
0^2^B17878378
"RTN","GMRVED3",1,0)
GMRVED3 ;HIRMFO/YH-VITAL SIGNS EDIT SHORT FORM (cont.) ;8/7/97
"RTN","GMRVED3",2,0)
 ;;4.0;Vitals/Measurements;**1,5,6**;Apr 25, 1997
"RTN","GMRVED3",3,0)
EN2 ;VITAL ENTRY FOR A PATIENT
"RTN","GMRVED3",4,0)
 D EN2^GMRVED1 G:GMROUT NEXT D EN4^GMRVED2 S GMROK=0
"RTN","GMRVED3",5,0)
NEXT I '(GMRENTY=5!(GMRENTY=6)!(GMRENTY=9))!GMROUT S GMRVIDT=GMRDT0 Q
"RTN","GMRVED3",6,0)
 I $G(GMROUT(1))=1 S GMROUT(1)=0 S GMRVIDT=GMRDT0 Q
"RTN","GMRVED3",7,0)
 I GMRSTR'["BP" S GMRVIDT=GMRDT0 Q
"RTN","GMRVED3",8,0)
 S:'$D(GPRMT)&($D(GMRPRMT)) GPRMT="("_$P(GMRPRMT,":")_" continued )" S GPRMT(1)=GMRSTR
"RTN","GMRVED3",9,0)
 I '$D(^GMR(120.5,"AA",DFN,1,9999999-GMRVIDT)) S:GMRENTY=5 GMRSTR="T;P;R;BP;" S:GMRENTY=6 GMRSTR="BP;P;" S:GMRENTY=10 GMRSTR="T;P;R;BP;HT;WT;" S GMRVIDT=GMRDT0 S:GMRENTY=9 GMRSTR=GPRMT(1) K GPRMT,GBP Q
"RTN","GMRVED3",10,0)
ASK I '$D(GMRSITE("BP"))&'$D(GMRINF("BP")) S:GMRENTY=9 GMRSTR=GPRMT(1) K GPRMT Q
"RTN","GMRVED3",11,0)
  W !,"Enter another B/P? NO// " R GMRX:DTIME S:'$T GMRTO=1 I '$T!(GMRX="^") S GMROUT=1,GMRVIDT=GMRDT0 S:GMRENTY=9 GMRSTR=GPRMT(1) K GBP,GPRMT Q
"RTN","GMRVED3",12,0)
 I GMRX=""!("Nn"[GMRX) S GMRVIDT=GDT S:GMRENTY=5 GMRSTR="T;P;R;BP;" S:GMRENTY=10 GMRSTR="T;P;R;BP;HT;WT;" S GMRVIDT=GMRDT0 S:GMRENTY=9 GMRSTR=GPRMT(1) K GPRMT Q
"RTN","GMRVED3",13,0)
 I GMRX["Y"!(GMRX["y") S GMRSTR=$S(GMRENTY=5!(GMRENTY=6):"BP;P;",1:"BP;"),GMRVIDT=GMRDT0 W @IOF,GPRMT D DSPOV^GMRVED4 D SETBP S GLAST=GLAST+.00000001,GMRVIDT=GLAST G EN2
"RTN","GMRVED3",14,0)
 W !,"ANSWER YES OR NO, maximum 6 B/Ps ",*7 G ASK
"RTN","GMRVED3",15,0)
SETBP ;
"RTN","GMRVED3",16,0)
 N I S I=0 F  S I=$O(GMROV("BP",I)) Q:I'>0  I $P(GMROV("BP",I),"^",2)'="" S GBP($P(GMROV("BP",I),"^",2))=""
"RTN","GMRVED3",17,0)
 Q
"RTN","GMRVED3",18,0)
CHKDAT ;CHECK V/M ENTRY DATA
"RTN","GMRVED3",19,0)
 S GMRVITY=$P(GMRSTR(0),";",GMRX),GMRVIT=+$O(^GMRD(120.51,"C",GMRVITY,"")),GMRVIT(1)=$S($D(^GMRD(120.51,GMRVIT,0)):$P(^(0),"^"),1:""),GMRO2(GMRVITY)=""
"RTN","GMRVED3",20,0)
 F GMRY=0:0 S GMRY=$O(^GMR(120.5,"AA",DFN,GMRVIT,9999999-GMRVIDT,GMRY)) Q:GMRY'>0  I $S('$D(^GMR(120.5,GMRY,2)):1,$P(^(2),"^"):0,1:1) D
"RTN","GMRVED3",21,0)
 . I GMRENTY=21,"Nn"'[GMRDAT D WDUP S GMRDAT="" Q
"RTN","GMRVED3",22,0)
 . D:"Nn"'[$P(GMRDAT,"-",GMRX-1) WDUP S $P(GMRDAT,"-",GMRX-1)="" Q
"RTN","GMRVED3",23,0)
 S GMRINPTR=$S($D(^GMRD(120.51,GMRVIT,1)):^(1),1:"K:X'?.NP X")
"RTN","GMRVED3",24,0)
INPTR ;
"RTN","GMRVED3",25,0)
 Q:GMROUT  S X=$S(GMRENTY=21:GMRDAT,1:$P(GMRDAT,"-",GMRX-1))
"RTN","GMRVED3",26,0)
 I X="n"!(X="N")!(X="") S (GMRDAT(GMRVITY),GMRSITE(GMRVITY),GMRINF(GMRVITY))="" Q
"RTN","GMRVED3",27,0)
 I "UNAVAILABLEPASSREFUSED"[$$UP^XLFSTR(X) S GMRSITE(GMRVITY)="",GMRINF(GMRVITY)="",GMRDAT(GMRVITY)=X Q
"RTN","GMRVED3",28,0)
INPTR1 ;
"RTN","GMRVED3",29,0)
 I GMRVITY="PO2" D O2^GMRVUT3
"RTN","GMRVED3",30,0)
 I GMRVITY="HT" S X=$$UP^XLFSTR(X),GMRSITE=$P(X,",",2),X=$P(X,",") D
"RTN","GMRVED3",31,0)
 .I GMRSITE="" S:X["E" GMRSITE=$E(X,$F(X,"E")-1),X=$P(X,"E") S:X["A" GMRSITE=$E(X,$F(X,"A")-1),X=$P(X,"A")
"RTN","GMRVED3",32,0)
 .S:GMRSITE="" GMRSITE="A"
"RTN","GMRVED3",33,0)
 .D TPSITE^GMRVUT1
"RTN","GMRVED3",34,0)
 .Q
"RTN","GMRVED3",35,0)
 I GMRVITY="WT" S GMRSITE=$P(X,+X,2) G:GMRSITE=""!("LlKk"'[$E(GMRSITE)) A K GMRSITE(GMRVITY),GMRINF(GMRVITY) D WTYPE^GMRVUT1
"RTN","GMRVED3",36,0)
 I GMRVITY="CG" K GMRSITE(GMRVITY),GMRINF(GMRVITY) S GLVL=8 D LISTQ^GMRVQUAL,OTHERQ^GMRVQUAL,CLEAR^GMRVQUAL
"RTN","GMRVED3",37,0)
 I GMRVITY="T"!(GMRVITY="P")!(GMRVITY="BP"&(GMRENTY>4))!(GMRVITY="R")!(GMRVITY="PO2") D SITE I '$D(X) G A
"RTN","GMRVED3",38,0)
 I GMRVITY="HT",($L(X,"'")-1)>1 G A
"RTN","GMRVED3",39,0)
 X GMRINPTR I $D(X)#2 S GMRDAT(GMRVITY)=X Q
"RTN","GMRVED3",40,0)
A W !,?5,$C(7),"Invalid ",GMRVIT(1)," entry"
"RTN","GMRVED3",41,0)
A1 W !,GMRVIT(1)_": " R GMRRET:DTIME
"RTN","GMRVED3",42,0)
 S:'$T GMRTO=1 I GMRRET="^"!'$T S GMROUT=1 G INPTR
"RTN","GMRVED3",43,0)
 I GMRRET="N"!(GMRRET="n") S (X,GMRRET)="" Q
"RTN","GMRVED3",44,0)
 I GMRRET'["?" S X=GMRRET G INPTR1
"RTN","GMRVED3",45,0)
 I GMRRET?1"?".E S XQH="GMRV-"_$S(GMRVITY="CG":"CIRCUM/GIRTH",GMRVITY="PO2":"PO2",GMRVITY="CVP":"CVP",1:GMRVIT(1))_" RATE HELP" D EN^XQH K XQH
"RTN","GMRVED3",46,0)
 G A1
"RTN","GMRVED3",47,0)
WDUP ;
"RTN","GMRVED3",48,0)
 W $C(7),!,?4,GMRVIT(1)_" data already exists for this patient on this date/time.",!,?4,"To change this data use the enter a vital/measurement in error option.",!
"RTN","GMRVED3",49,0)
 Q
"RTN","GMRVED3",50,0)
SITE ;
"RTN","GMRVED3",51,0)
 I GMRVITY'="BP" S GMRSITE=$P(X,+X,2),X=+X S GMRSITE=$$UP^XLFSTR(GMRSITE) I GMRVITY="T"!(GMRVITY="P")!(GMRVITY="R") D TPSITE^GMRVUT1 Q
"RTN","GMRVED3",52,0)
 I GMRVITY="BP" S GLVL=8 D LISTQ^GMRVQUAL,OTHERQ^GMRVQUAL,CLEAR^GMRVQUAL Q
"RTN","GMRVED3",53,0)
 Q
"RTN","GMRVORC0")
0^4^B4602958
"RTN","GMRVORC0",1,0)
GMRVORC0 ;HIRMFO/RM,MD-CANCEL AND PURGE ACTIONS FOR AN ORDER ;4/15/95
"RTN","GMRVORC0",2,0)
 ;;4.0;Vitals/Measurements;**6**;Apr 25, 1997
"RTN","GMRVORC0",3,0)
EN1 ; ENTRY FROM ORDER CANCEL ACTIONS
"RTN","GMRVORC0",4,0)
 I +ORSTS=2 W !,$C(7),?3,"Completed orders cannot be discontinued" Q
"RTN","GMRVORC0",5,0)
 D NOW^%DTC S ORETURN("ORSTOP")=%,ORETURN("ORSTS")=1,ORETURN("OREVENT")="" D RETURN^ORX K %,%H
"RTN","GMRVORC0",6,0)
 Q
"RTN","GMRVORC0",7,0)
EN2 ; ENTRY FROM ORDER PURGE ACTIONS
"RTN","GMRVORC0",8,0)
 S DA=ORIFN,DIK="^GMR(120.55," D ^DIK
"RTN","GMRVORC0",9,0)
 Q
"RTN","GMRVORC0",10,0)
ADS ;
"RTN","GMRVORC0",11,0)
 S GMRVDF=$P(GMRVAS,"^"),ORTX=$S($D(GMRVORD(2)):$P(GMRVORD(2),U,5),1:"")
"RTN","GMRVORC0",12,0)
RA W !,"Schedule:"_$S(GMRVDF="":"",1:" "_GMRVDF_"//")_" " R X:DTIME S:'$T X="^"
"RTN","GMRVORC0",13,0)
 I X="",GMRVDF'="" S X=GMRVDF
"RTN","GMRVORC0",14,0)
 I X="" W !?4,$C(7),"This response is required." G RA
"RTN","GMRVORC0",15,0)
 I "^^"[X S GMROUT=1 S:X="^^" DIROUT=1 Q
"RTN","GMRVORC0",16,0)
 S X=$$UP^XLFSTR(X)
"RTN","GMRVORC0",17,0)
 S PSJPP="GMRV",PSJX=X D ENSV^PSJEEU I '$D(PSJX) W !?4,$C(7),"INVALID SCHEDULE" G RA
"RTN","GMRVORC0",18,0)
 I $G(PSJX)?1"?".E G RA
"RTN","GMRVORC0",19,0)
 S X=PSJX G ADSL
"RTN","GMRVORC0",20,0)
YNNS W !?4,"You have selected a non-standard schedule.  Are you sure that ",!?4,"'",PSJX,"' is the schedule that you want" S %=1 D YN^DICN W:'% !?7,$C(7),"ANSWER YES OR NO" G YNNS:'%,RA:%=2 I %=-1 S GMROUT=1 S:%Y="^^" DIROUT=1 Q
"RTN","GMRVORC0",21,0)
ADSL S:$P(GMRVAS,"^")'=PSJX ORTX=$P(ORTX," - ")_" - "_PSJX S GMRVAS=PSJX_"^"_PSJAT_"^"_PSJM K PSJPP,PSJX,PSJAT,PSJM,PSJTS,PSJY
"RTN","GMRVORC0",22,0)
 Q
"RTN","GMRVUT1")
0^3^B19717637
"RTN","GMRVUT1",1,0)
GMRVUT1 ;HIRMFO/YH-VITAL SIGNS INFORMATION ;3/5/97
"RTN","GMRVUT1",2,0)
 ;;4.0;Vitals/Measurements;**6**;Apr 25, 1997
"RTN","GMRVUT1",3,0)
T ;HELP INFORMATION FOR TEMPERATURE
"RTN","GMRVUT1",4,0)
 S GMRVITY="T",GMRVIT=$O(^GMRD(120.51,"C",GMRVITY,0)) Q:GMRVIT'>0  S GMRVIT(1)=$P($G(^GMRD(120.51,GMRVIT,0)),"^")
"RTN","GMRVUT1",5,0)
 W !,"** Temperature:  a number + a location qualifier(optional), e.g., 99.6A",!,?3,"or 99.6AX (F AXILLARY) or 37R (C RECTAL)." S GLVL="" D LISTQ^GMRVQUAL S GLINE=$G(GLINE)+4 D CHECK Q
"RTN","GMRVUT1",6,0)
P ;HELP INFORMATION FOR PULSE
"RTN","GMRVUT1",7,0)
 S GMRVITY="P",GMRVIT=$O(^GMRD(120.51,"C",GMRVITY,0)) Q:GMRVIT'>0  S GMRVIT(1)=$P($G(^GMRD(120.51,GMRVIT,0)),"^")
"RTN","GMRVUT1",8,0)
 W !,"** Pulse:  a number + a location qualifier(optional), e.g., 70A or 70AP",!,?3,"(70 APICAL).  " S GLVL="" D LISTQ^GMRVQUAL S GLINE=$G(GLINE)+5 D CHECK Q
"RTN","GMRVUT1",9,0)
R ;HELP INFORMATION FOR RESPIRATORY
"RTN","GMRVUT1",10,0)
 S GMRVITY="R",GMRVIT=$O(^GMRD(120.51,"C",GMRVITY,0)) Q:GMRVIT'>0  S GMRVIT(1)=$P($G(^GMRD(120.51,GMRVIT,0)),"^")
"RTN","GMRVUT1",11,0)
 W !,"** Respiration:  a number(0-99 with no decimal places) + method qualifier" S GLINE=$G(GLINE)+1 D CHECK W !,?3,"(optional) e.g., 40C or 40c." S GLVL="" D LISTQ^GMRVQUAL S GLINE=$G(GLINE)+1 D CHECK Q
"RTN","GMRVUT1",12,0)
BP ;HELP INFORMATION FOR BLOOD PRESSURE
"RTN","GMRVUT1",13,0)
 W !,"** B/P:  systolic/intermediate/diastolic" S GLINE=$G(GLINE)+1 D CHECK W !,?3,"intermediate pressure is optional, e.g., 98/64 or 120/100/80" S GLINE=$G(GLINE)+1 D CHECK Q
"RTN","GMRVUT1",14,0)
HT ;HELP INFORMATION FOR HEIGHT
"RTN","GMRVUT1",15,0)
 W !,"** Height:  a number + ',' (optional) + qualifier (2 decimals allowed)" S GLINE=$G(GLINE)+1 D CHECK
"RTN","GMRVUT1",16,0)
 S GMRVITY="HT",GMRVIT=$O(^GMRD(120.51,"C",GMRVITY,0)) Q:GMRVIT'>0  S GMRVIT(1)=$P($G(^GMRD(120.51,GMRVIT,0)),"^")
"RTN","GMRVUT1",17,0)
 W !,?3,"72I (inches)   147C (centimeters)" S GLINE=$G(GLINE)+1 D CHECK W !,?3,"5F10IE or 5'10""E (for 5 feet 10 inches ESTIMATED)" S GLINE=$G(GLINE)+1 D CHECK
"RTN","GMRVUT1",18,0)
 S GLVL="" D LISTQ^GMRVQUAL S GLINE=$G(GLINE)+2 D CHECK Q
"RTN","GMRVUT1",19,0)
CG ;HELP INFORMATION FOR CIRCUMFERENCE/GIRTH
"RTN","GMRVUT1",20,0)
 D CG^GMRVUTL1  S GLINE=$G(GLINE)+3 D CHECK Q
"RTN","GMRVUT1",21,0)
CVP ;
"RTN","GMRVUT1",22,0)
 D CVP^GMRVUTL1 Q
"RTN","GMRVUT1",23,0)
PO2 ;
"RTN","GMRVUT1",24,0)
 D PO2^GMRVUTL1 S GLINE=$G(GLINE)+2 D CHECK Q
"RTN","GMRVUT1",25,0)
WT ;HELP INFORMATION FOR WEIGHT
"RTN","GMRVUT1",26,0)
 S GMRVITY="WT",GMRVIT=$O(^GMRD(120.51,"C",GMRVITY,0)) Q:GMRVIT'>0  S GMRVIT(1)=$P($G(^GMRD(120.51,GMRVIT,0)),"^")
"RTN","GMRVUT1",27,0)
 W !,"** Weight: a number+L(l) or a number+K(k) + 2nd quality (optional) 2 decimals" S GLINE=$G(GLINE)+1 D CHECK W !,?3,"allowed, e.g., 120.25L or 120l (pounds),   45.25K or 45k (kilograms)." S GLINE=$G(GLINE)+1
"RTN","GMRVUT1",28,0)
 D CHECK W !,?3,"120L, 120LA, or 120K for actual weight." S GLVL="" D LISTQ^GMRVQUAL S GLINE=$G(GLINE)+2 D CHECK Q
"RTN","GMRVUT1",29,0)
WTYPE ;ENTRY POIT FOR TYPE OF WEIGHT - ACTUAL/ESTIMATED/DRY
"RTN","GMRVUT1",30,0)
 K GMRW S (GMRVDFLT,GMRW)="",GLVL=9 D LISTQ^GMRVQUAL Q:'$D(GMRW)
"RTN","GMRVUT1",31,0)
 S GMRSITE=$P(X,+X,2) I $L(GMRSITE)=1,"LlKk"[GMRSITE S GMRSITE(GMRVITY)=$G(GMRVDFLT(1)) W ! G OTHERQ
"RTN","GMRVUT1",32,0)
 I $L(GMRSITE)=1,"LlKk"'[GMRSITE Q
"RTN","GMRVUT1",33,0)
 S:$L(GMRSITE)>1 GMRSITE=$$UP^XLFSTR($E(GMRSITE,2,30))
"RTN","GMRVUT1",34,0)
ASK3 K GMRV S GMRV=0 D SETSITE^GMRVUT3 I GMRV>0!GMROUT G OTHERQ
"RTN","GMRVUT1",35,0)
 G ASK
"RTN","GMRVUT1",36,0)
 ;
"RTN","GMRVUT1",37,0)
TPSITE ;SITE FOR TEMP., PULSE, RESPIRATION AND HEIGHT
"RTN","GMRVUT1",38,0)
 K GMRW S (GMRVDFLT,GMRW)="",GLVL=9 D LISTQ^GMRVQUAL Q:'$D(GMRW)
"RTN","GMRVUT1",39,0)
ASK2 ;
"RTN","GMRVUT1",40,0)
 I GMRVITY="T"!(GMRVITY="R")!(GMRVITY="P"),GMRSITE="" S GMRSITE(GMRVITY)=$G(GMRVDFLT(1)) G OTHERQ
"RTN","GMRVUT1",41,0)
 I GMRVITY="HT",GMRSITE="" S GMRSITE(GMRVITY)="" G OTHERQ
"RTN","GMRVUT1",42,0)
ASK1 K GMRV S GMRV=0 D SETSITE^GMRVUT3 I GMROUT!(GMRV>0) G OTHERQ
"RTN","GMRVUT1",43,0)
 ;
"RTN","GMRVUT1",44,0)
ASK W !!,"Select one of the following qualifiers for "_GMRVIT(1)_" or <RET> for default" D LIST W !!,"Please enter "_$S(GMRVITY="T"!(GMRVITY="BP")!(GMRVITY="P"):"location: ",GMRVITY="R":"method: ",GMRVITY="WT":"quality: ",1:"")
"RTN","GMRVUT1",45,0)
 W $P($G(GMRVDFLT(1)),"^")_"// "
"RTN","GMRVUT1",46,0)
 S GMRSITE="" R GMRSITE:DTIME S:'$T!(GMRSITE["^") GMROUT=1 I GMROUT W ! G OTHERQ
"RTN","GMRVUT1",47,0)
 S GMRSITE=$$UP^XLFSTR(GMRSITE) I GMRSITE="" S (GMRSITE,GMRSITE(GMRVITY))=$G(GMRVDFLT(1)) G OTHERQ
"RTN","GMRVUT1",48,0)
 G ASK3:GMRVITY="WT",ASK1
"RTN","GMRVUT1",49,0)
OTHERQ ;
"RTN","GMRVUT1",50,0)
 Q:GMROUT!(GMRENTY<5)  D OTHERQ^GMRVQUAL
"RTN","GMRVUT1",51,0)
 Q
"RTN","GMRVUT1",52,0)
CHECK ;
"RTN","GMRVUT1",53,0)
 I GLINE>14 D
"RTN","GMRVUT1",54,0)
 . W !,"<Ret> to continue " S J="" R J:DTIME S GLINE=0
"RTN","GMRVUT1",55,0)
 Q
"RTN","GMRVUT1",56,0)
LIST ;LIST SITES FOR THE SELECTED VM TYPE
"RTN","GMRVUT1",57,0)
 Q:'$D(GMRW)  S GMRZ="" F  S GMRZ=$O(GMRW(GMRZ)) Q:GMRZ=""  W !,?4,GMRZ
"RTN","GMRVUT1",58,0)
 Q
"VER")
8.0^21.0
**END**
**END**
