$TXT Created by BAER,DAN at MHCVSS.FO-ALBANY.MED.VA.GOV  (KIDS) on Monday, 05/01/06 at 10:05
=============================================================================
Run Date: JUN 13, 2006                     Designation: LA*5.2*72
Package : LA - AUTOMATED LAB INSTRUMENTS      Priority: Mandatory
Version : 5.2        SEQ #54                    Status: Released
                  Compliance Date: JUL 14, 2006
=============================================================================

Associated patches: (v)LA*5.2*67   <<= must be installed BEFORE `LA*5.2*72'

Subject: FIX UNDEF IN LA7VIN5A PRDID+11

Category: 
  - Routine

Description:
============

 Blood Bank Team Coordination
 ============================
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*72 does not 
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
 DIRECTIVE 2004-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LA*5.2*72 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions.
  
 RISK ANALYSIS: Changes made by patch LA*5.2*72 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes 
 made, no specific validation requirements exist as a result of 
 installation of this patch. 
 ************************************************************************
  
 Sites reported errors logged in the error trap when receiving lab results 
 back from another VA host lab via Lab Electronic Data Interchange (LEDI):
  
  
 $ZE= <UNDEFINED>PRDID+11^LA7VIN5A
  
  . I $P(LA7PRDID,LA7CS,LA7I+2)="99VA4" S 
 LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,I))
  
  
 The following portion of code in PRDID^LA7VIN5A has been changed to 
 reference the correct variable (LA7I instead of I): 
  
 **PREVIOUS CODE**
 F LA7I=1,4 D  Q:LA74                                                   
 . I $P(LA7PRDID,LA7CS,LA7I+2)="99VA4" S 
 LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,I))
 . I 'LA74 S LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,I+1))                  
 . I 'LA74 S LA74=$$FINDSITE^LA7VHLU2($P(LA7PRDID,LA7CS),1,1)           
 . I 'LA74 S LA74=$$FINDSITE^LA7VHLU2($P(LA7SFAC,LA7CS),1,1)
  
  
 **NEW CODE**
 F LA7I=1,4 D  Q:LA74
 . I $P(LA7PRDID,LA7CS,LA7I+2)="99VA4" S 
 LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,LA7I))
 . I 'LA74 S LA74=$$LKUP^XUAF4($P(LA7PRDID,LA7CS,LA7I+1))
 . I 'LA74 S LA74=$$FINDSITE^LA7VHLU2($P(LA7PRDID,LA7CS),1,1)
 . I 'LA74 S LA74=$$FINDSITE^LA7VHLU2($P(LA7SFAC,LA7CS),1,1)
  
  
 Associated Remedy:
 ===============
 HD0000000099666
 HD0000000102341 (duplicate)
  
  
 Associated E3R:
 ===============
 N/A
  
  
 Test Sites
 ==========
 Fayetteville, NC  (565) (medium)
 Hines (578) (large)
 North Chicago (556) (medium)
 Northern Indiana HCS (610) (medium) (integrated) 
  
  
 ROUTINE SUMMARY
 ===============
   The following routines are included in this patch.  The second line
   of each of these routines now looks like:
   <tab> ;;5.2;AUTOMATED LAB INSTRUMENTS;<patchlist>;Sep 27, 1994
  
                   Checksum       Checksum
  Routine Name     Before Patch   After Patch    Patch List
      LA7VIN5A     9628469        9655113        46,64,67,72
      LA72         N/A            4388949        72 (D)
  
      (D) -- Routine deleted by KIDS after installation
      List of preceding patches: 67
      Sites should use CHECK^XTSUMBLD to verify checksums.
  
  
 INSTALLATION INSTRUCTIONS
 =========================
  
   The install time for this patch is less than 2 minutes.  This patch
   should be installed when Laboratory users are off the system.
  
   Suggested time to install: non-peak requirement hours.
   The installation should NOT be queued.
  
   NOTE: Kernel patches must be current on the target system to avoid
         problems loading and/or installing this patch.
  
       Patch installation needs to be coordinated with the Laboratory
       Information Manager (LIM/ADPAC).
  
   1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   2.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   3.  Use the 'Verify Checksum in Transport Global' option and verify
       that all routines have the correct checksums.
  
   4.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
   5.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LA*5.2*72'
  
       When prompted
         'Want KIDS to Rebuild Menu Trees Upon Completion of Install?' 
       choose 'NO'.  Note: Responding "Yes" to the prompt for rebuilding
       menu trees can significantly increase install time.
  
       When prompted 
          'Want KIDS to INHIBIT LOGONs during the install? 
       choose 'NO'.
  
       When prompted 
           'Want to DISABLE Scheduled Options, Menu Options, and
            Protocols?  YES//'
       choose 'NO' unless site has additional local laboratory  
       options that should be disabled during install.
  
  
  
 INSTALLATION EXAMPLE
 ====================
  
 Select KIDS OPTION: INSTALL PACKAGE(S)  
 Select INSTALL NAME: LA*5.2*72       Loaded from Distribution  
 7/12/05@14:19:30
      => LA*5.2*72 v1
  
 This Distribution was loaded on Jul 12, 2005@14:19:30 with header of 
    LA*5.2*72 v1
    It consisted of the following Install(s):
       LA*5.2*72
 Checking Install for Package LA*5.2*72
 Will first run the Environment Check Routine, LA72
  
  
                         --- Environment Check is Ok --- 
  
 Install Questions for LA*5.2*72
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
  
  Install Started for LA*5.2*72 : 
                Jul 12, 2005@14:20
  
 Build Distribution Date: Jul 11, 2005
  
  Installing Routines:
                Jul 12, 2005@14:20
  
  Running Pre-Install Routine: PRE^LA72
  
                Sending install started alert to mail group G.LMI 
  
                           *** Pre install started *** 
  
                   --- No actions required for pre install --- 
  
                                    LA*5.2*72  
 -------------------------------------------------------------------------
                          *** Pre install completed *** 
  
  Running Post-Install Routine: POST^LA72
  
                           *** Post install started *** 
  
                          *** Post install completed *** 
  
               Sending install completion alert to mail group G.LMI 
  
  Updating Routine file...
  
  Updating KIDS files...
  
  LA*5.2*72 Installed. 
                Jul 12, 2005@14:20
  
  Install Message sent #80481
 -------------------------------------------------------------------------
           +------------------------------------------------------------+
   100%    I             25             50             75               I
 Complete  +------------------------------------------------------------+
  
  
 Install Completed

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: LA72
    Before:       n/a  After:  B9127164  **72**
Routine Name: LA7VIN5A
    Before: B66867521  After: B66941793  **46,64,67,72**

=============================================================================
User Information:
Entered By  : BAER,DAN                      Date Entered  : JUN 23, 2005
Completed By: ELIJAH,VICKEY                 Date Completed: JUN 07, 2006
Released By : SAUNDERS,TOM                  Date Released : JUN 13, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
