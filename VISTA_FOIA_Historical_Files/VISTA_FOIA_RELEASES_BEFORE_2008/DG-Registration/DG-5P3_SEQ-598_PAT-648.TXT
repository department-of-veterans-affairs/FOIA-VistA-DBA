$TXT Created by CHESNEY,CHRISTINE M at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 12/14/05 at 14:27
=============================================================================
Run Date: JAN 11, 2006                     Designation: DG*5.3*648
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #598                    Status: Released
                  Compliance Date: FEB 11, 2006
=============================================================================

Associated patches: (v)DG*5.3*575  <<= must be installed BEFORE `DG*5.3*648'
                    (v)DG*5.3*627  <<= must be installed BEFORE `DG*5.3*648'

Subject: NEW TRIGGER AND PID SEGMENT FIX

Category: 
  - Routine
  - Data Dictionary
  - Enhancement (Mandatory)

Description:
============

  This patch is in support of the MASTER PATIENT INDEX/PATIENT 
  DEMOGRAPHICS (MPI/PD) project.  
  
  Issue 1: The POW STATUS INDICATED? field (#.525) is stored on the MPI and
  is sent in the Health Level Seven (HL7) messages to the MPI but it wasn't
  being updated on the MPI as changes occurred to the field for any patient
  with an ICN.
  
  New FIELD INDEX type cross-references, AVAFC<field number>, have been 
  added to support this notification for the following fields:
  
         #.525 POW STATUS INDICATED?
  
  These new cross-references utilize the DG FIELD MONITOR tool that was 
  released in patch DG*5.3*527.  This tool will utilize the new 
  protocol VAFC MPIPD FIELD TRIGGER, which will create an entry in the 
  ADT/HL7 PIVOT (#391.71) file, as well as set the VAFCF variable to 
  capture which fields have been modified during an edit. These fields 
  will be included in the existing Health Level Seven (HL7) 2.4 
  messages generated by the MPI/PD applications.  Routine VAFCTR 
  supports this effort.
  
  Post Init, DG648PST, will create the new FIELD INDEX type 
  cross-references noted above.  It will also re-compile any templates
  associated with these two fields.
  
  Issue 2:  It was pointed out by the RSA team that the date associated
  with ICN History passed in the PID segment, field #3 was including time
  which went against the HL7 standard 2.4 definition for the field.  Time
  has been removed from the value passed.  Routine VAFCQRY1 has been 
  modified to support this change.
  
  Issue 3:  It was noted in reviewing the HL7 Interface Specification 
  document for MPI/PD that the COUNTY CODE field (#.117) was only being
  passed in the PID segment, field #12 which in the HL7 standard 2.4 
  messaging is for backwards compatibility only.  The COUNTY CODE should
  be included in the PID segment, field #11 as part of the permanent 
  address.  It will still be included in field #12 for backwards 
  compatibility. Routine VAFCQRY1 is being modified to support this change.
  
  Issue 4:  Back in 2001, it was discovered that ICN Checksums with 
  leading zeros were not being stored correctly in the PATIENT (#2) file, 
  field ICN CHECKSUM (#991.02).  This was corrected in MPIF*1.0*9 but the 
  existing ICN CHECKSUMs were not corrected.  It was reported that PFSS
  will need ICN Checksums to be complete as they are doing some
  comparisons.  Post-install routine DG648PST will task off a job to clean
  up these entries.  An e-mail message will be sent to FORUM upon
  completion letting development know how many entries were corrected and
  specifically which entries.  [Remedy ticket #HD0000000121998
  
  
  TEST SITES:
  ==========
  
  Cleveland 
  El Paso
  Maryland
  
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  
  The second line of each of these routine(s) will look like:
  
  <TAB>;;5.3;Registration;**[Patch List]**;Aug 13, 1993
  CHECK^XTSUMBLD results:
  
  Routine       Before Patch       After Patch       Patch List
  --------      ------------       ------------      ----------
  DG648PST         NEW              15926335            648
  VAFCQRY1       25784120           27221190       428,474,477,575,627,648
  VAFCTR           711538             907519          575,648
  
  INSTALLATION INSTRUCTIONS:
  ==========================
  
  This patch takes less than 3 minutes to install.  This patch should 
  be loaded during non-peak hours to minimize disruption to the users.
  
   1.  Users are allowed on the system during patch installation.
  
   2.  TaskMan does not need to be stopped or placed in a wait state. 
    
   3.  These routines are not usually mapped, so you will probably not
       have to disable mapping. 
   
   4.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note:
       TEXT PRINT/DISPLAY option in the PackMan menu will display the
       patch text only.]
  
   5.  From the Kernel Installation and Distribution System Menu, 
       select the Installation menu.
  
   6.  From this menu, you may elect to use the following options:
       a.  Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch.  It will 
           NOT backup any other changes such as DDs or templates.
       b.  Compare Transport Global to Current System  - this option 
           will allow you to view all changes that will be made when 
           the patch is installed.  It compares all components of the 
           patch (routines, DDs, templates, etc.).
       c.  Verify Checksums in Transport Global - this option will 
           allow you to ensure the integrity of the routines that are 
           in the transport global.
       d.  Print Transport Global - this option will allow you to view 
           the components of the KIDS build.
  
   7.  Use the Install Package(s) option and select the package 
       DG*5.3*648.
   
   8.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
       YES//', respond No.
   
   9.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, 
       and Protocols? YES//', respond Yes and enter the following 
       option:
  
         Register a Patient             [DG REGISTER PATIENT]
         Load/Edit Patient Data         [DG LOAD PATIENT DATA]
         Electronic 10-10EZ Processing  [EAS EZ 1010EZ PROCESSING]
         UPDATE BATCH JOB FOR HL7 v2.3  [VAFC BATCH UPDATE]
  
         Single Patient Initialization to MPI    [MPIF IND MPI LOAD]
         Coordinating Master of Record (CMOR) Request    [MPIF CMOR MGR]
  
         MPI/PD Exception Handling      [RG EXCEPTION HANDLING]
    
  10.  If you unmapped routines in step 3, remap them after 
       installation has completed.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DG648PST
    Before:            After: B50293043  **648**
Routine Name: VAFCQRY1
    Before: B57274916  After: B60711121  **428,474,477,575,627,648**
Routine Name: VAFCTR
    Before:  B1104232  After:  B1393250  **575,648**

=============================================================================
User Information:
Entered By  : CHESNEY,CHRISTINE M           Date Entered  : FEB 11, 2005
Completed By: ALDERMAN,MATT S               Date Completed: JAN 10, 2006
Released By : ALEXANDER,DIANNE              Date Released : JAN 11, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
