$TXT Created by SMITH,ROBERT at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 05/18/07 at 12:20
=============================================================================
Run Date: AUG 28, 2007                     Designation: PSA*3*65
Package : PSA - DRUG ACCOUNTABILITY           Priority: Mandatory
Version : 3        SEQ #49                      Status: Released
                  Compliance Date: SEP 28, 2007
=============================================================================

Associated patches: (v)PSA*3*60    <<= must be installed BEFORE `PSA*3*65'
                    (v)PSA*3*61    <<= must be installed BEFORE `PSA*3*65'

Subject: FIX LOCK, UNKNOWN STATUS AND EDIT VERIFY QUITTING EARLY

Category: 
  - Routine

Description:
============

 This patch addresses the following problems:
  
 1.  186350   DA INVOICES UNKNOWN STATUS
  There are two separate issues 
   a. The invoice remains in a LOCKED VERIFYING status when there are  
      errors in the invoice.  This LOCKED VERIFYING status does not allow
      any further action until the invoice status has been reset to
      PROCESSED or VERIFIED.
   b. When an invoice is in a LOCKED VERIFYING status, the Print Orders
      report shows the status as UNKNOWN.
  
 2.  187185   Can only verify one invoice at a time after PSA*3*60
  When using the EDIT INVOICES TO BE VERIFIED SCREEN and the user selects
  multiple invoices to edit, the application quits after editing the first
  invoice.
  
  
 ASSOCIATED REMEDY:
 ==================
 186350
  DUPLICATE 186988
            188517
            188915
            190593
            191066
            192470
            193223
 187185
  
  
 ASSOCIATED NSR(s): 
 ================== 
 N/A
  
 PARTICIPATING TEST SITES:
 ========================= 
 OKLAHOMA CITY
 LEBANON
 NY HARBOR
  
 REMEDY OVERVIEW:
 ================ 
 1.  186350   DA INVOICES UNKNOWN STATUS
  
 PROBLEM
 ======= 
  There are two separate issues 
   a. The invoice remains in a LOCKED VERIFYING status when there are
      errors in the invoice.  This LOCKED VERIFYING status does not allow
      any further action until the invoice status has been reset to
      PROCESSED or VERIFIED.
   b. When an invoice is in a LOCKED VERIFYING status, the Print Orders
      report shows the status as UNKNOWN.
  
 RESOLUTION
 ========== 
  a. The PSAVER routine will be modified to call VERUNLCK^PSAVER4 after
     printing the error report.  This will set the invoice status back
     to a processed status and allow the user to access the invoice for
     further processing or edits.
  
  b. The PSAORDP1 routine will be modified to include the LOCKED VERIFYING
     status when printing the Print Orders report.
  
  
 2.  187185   Can only verify one invoice at a time after PSA*3*60
  
 PROBLEM
 =======
  When using the EDIT INVOICES TO BE VERIFIED SCREEN and the user selects
  multiple invoices to edit, the application quits after editing the first
  invoice.
  
 RESOLUTION
 ==========
 The PSAVER1 routine will be modified to NEW the PSASEL and PSASEL1
 variables before they are set to a new value.
  
 INSTALLATION INSTRUCTIONS
 =========================
 Suggested time to install: non-peak requirement hours. The patch should be
 installed when NO Drug Accountability users are on the system.
  
  
 Install Time - less than 5 minutes (unless otherwise indicated)
  
  1.  Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
  2.  From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter PSA*3.0*65):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  3.  Use the Install Package(s) option and select the package
      PSA*3.0*65.
  
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the
          install? YES//', answer NO.
      b.  When prompted 'Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//', answer NO.
  
 ROUTINE SUMMARY
 =============== 
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like: 
  
   <tab>;;3.0;DRUG ACCOUNTABILITY;**[PATCH LIST]**;10-24-97
  
                        CHECK^XTSUMBLD results
 Routine name      Before Patch        After Patch      Patch List
 ============      ============        ===========      =============
 PSAORDP1              29506856          29948168       3,12,21,61,65
 PSAVER                35746412          35851577       60,65
 PSAVER1               24070316          24287451       33,60,65

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSAORDP1
    Before: B72112158   After: B72593730  **3,12,21,61,65**
Routine Name: PSAVER
    Before: B76434485   After: B77677006  **60,65**
Routine Name: PSAVER1
    Before: B53904582   After: B56200919  **33,60,65**
 
Routine list of preceding patches: 60, 61

=============================================================================
User Information:
Entered By  : SMITH,ROBERT J                Date Entered  : MAY 09, 2007
Completed By: HEFFERNAN,COREY               Date Completed: AUG 28, 2007
Released By : LYTTLE,KIM M                  Date Released : AUG 28, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
