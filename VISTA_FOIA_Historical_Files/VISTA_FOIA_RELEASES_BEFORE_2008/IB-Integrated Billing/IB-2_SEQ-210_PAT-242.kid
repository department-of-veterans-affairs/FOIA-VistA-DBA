Released IB*2*242 SEQ #210
Extracted from mail message
**KIDS**:IB*2.0*242^

**INSTALL NAME**
IB*2.0*242
"BLD",4353,0)
IB*2.0*242^INTEGRATED BILLING^0^3030917^y
"BLD",4353,4,0)
^9.64PA^^
"BLD",4353,"INIT")
POST^IB20P242
"BLD",4353,"KRN",0)
^9.67PA^8989.52^19
"BLD",4353,"KRN",.4,0)
.4
"BLD",4353,"KRN",.401,0)
.401
"BLD",4353,"KRN",.402,0)
.402
"BLD",4353,"KRN",.403,0)
.403
"BLD",4353,"KRN",.5,0)
.5
"BLD",4353,"KRN",.84,0)
.84
"BLD",4353,"KRN",3.6,0)
3.6
"BLD",4353,"KRN",3.8,0)
3.8
"BLD",4353,"KRN",9.2,0)
9.2
"BLD",4353,"KRN",9.8,0)
9.8
"BLD",4353,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4353,"KRN",9.8,"NM",1,0)
IB20P242^^0^B12608349
"BLD",4353,"KRN",9.8,"NM","B","IB20P242",1)

"BLD",4353,"KRN",19,0)
19
"BLD",4353,"KRN",19.1,0)
19.1
"BLD",4353,"KRN",101,0)
101
"BLD",4353,"KRN",409.61,0)
409.61
"BLD",4353,"KRN",771,0)
771
"BLD",4353,"KRN",870,0)
870
"BLD",4353,"KRN",8989.51,0)
8989.51
"BLD",4353,"KRN",8989.52,0)
8989.52
"BLD",4353,"KRN",8994,0)
8994
"BLD",4353,"KRN","B",.4,.4)

"BLD",4353,"KRN","B",.401,.401)

"BLD",4353,"KRN","B",.402,.402)

"BLD",4353,"KRN","B",.403,.403)

"BLD",4353,"KRN","B",.5,.5)

"BLD",4353,"KRN","B",.84,.84)

"BLD",4353,"KRN","B",3.6,3.6)

"BLD",4353,"KRN","B",3.8,3.8)

"BLD",4353,"KRN","B",9.2,9.2)

"BLD",4353,"KRN","B",9.8,9.8)

"BLD",4353,"KRN","B",19,19)

"BLD",4353,"KRN","B",19.1,19.1)

"BLD",4353,"KRN","B",101,101)

"BLD",4353,"KRN","B",409.61,409.61)

"BLD",4353,"KRN","B",771,771)

"BLD",4353,"KRN","B",870,870)

"BLD",4353,"KRN","B",8989.51,8989.51)

"BLD",4353,"KRN","B",8989.52,8989.52)

"BLD",4353,"KRN","B",8994,8994)

"BLD",4353,"QUES",0)
^9.62^^
"BLD",4353,"REQB",0)
^9.611^3^2
"BLD",4353,"REQB",1,0)
IB*2.0*187^2
"BLD",4353,"REQB",3,0)
IB*2.0*224^2
"BLD",4353,"REQB","B","IB*2.0*187",1)

"BLD",4353,"REQB","B","IB*2.0*224",3)

"INIT")
POST^IB20P242
"MBREQ")
0
"PKG",202,-1)
1^1
"PKG",202,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",202,20,0)
^9.402P^1^1
"PKG",202,20,1,0)
2^^IBAXDR
"PKG",202,20,1,1)

"PKG",202,20,"B",2,1)

"PKG",202,22,0)
^9.49I^1^1
"PKG",202,22,1,0)
2.0^2940321^2940321
"PKG",202,22,1,"PAH",1,0)
242^3030917
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","IB20P242")
0^1^B12608349
"RTN","IB20P242",1,0)
IB20P242 ;WOIFO/SS-FY04 OPC COPAY IB*2.0*242 POST INIT ;10-SEP-03
"RTN","IB20P242",2,0)
 ;;2.0;INTEGRATED BILLING;**242**;21-MAR-94
"RTN","IB20P242",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IB20P242",4,0)
 ;
"RTN","IB20P242",5,0)
POST ;
"RTN","IB20P242",6,0)
 I $$PATCH^XPDUTL("IB*2.0*242") D BMES^XPDUTL("  Skipping since the patch was previously installed.") Q
"RTN","IB20P242",7,0)
 N X,Y,IBEFFDT
"RTN","IB20P242",8,0)
 S IBEFFDT=3031001 ;effective date OCT 1, 2003 
"RTN","IB20P242",9,0)
 D START,FADD(IBEFFDT),FDESCR(IBEFFDT),FINISH
"RTN","IB20P242",10,0)
 ;
"RTN","IB20P242",11,0)
 ; FADD - add additional codes to file 352.5
"RTN","IB20P242",12,0)
 ; FDESCR - add description updates for codes to file 352.5
"RTN","IB20P242",13,0)
 Q
"RTN","IB20P242",14,0)
 ;
"RTN","IB20P242",15,0)
START ;
"RTN","IB20P242",16,0)
 D MESS("  FY04 OPC COPAY, Post-Install Starting")
"RTN","IB20P242",17,0)
 Q
"RTN","IB20P242",18,0)
 ;
"RTN","IB20P242",19,0)
FINISH ;
"RTN","IB20P242",20,0)
 D MESS("  FY04 OPC COPAY, Post-Install Complete")
"RTN","IB20P242",21,0)
 Q
"RTN","IB20P242",22,0)
 ;
"RTN","IB20P242",23,0)
 ;add new entries in file 352.5
"RTN","IB20P242",24,0)
FADD(IBEFFDT) ;
"RTN","IB20P242",25,0)
 N IBC,IBT,IBX,IBCODE,IBTYPE,IBOVER
"RTN","IB20P242",26,0)
 D MESS("  Adding new codes to file 352.5")
"RTN","IB20P242",27,0)
 S IBC=0
"RTN","IB20P242",28,0)
 F IBX=1:1 S IBT=$P($T(ADDREG+IBX),";",3) Q:'$L(IBT)  D
"RTN","IB20P242",29,0)
 . S IBCODE=+$P(IBT,"^",1)
"RTN","IB20P242",30,0)
 . S IBTYPE=$P(IBT,"^",3)
"RTN","IB20P242",31,0)
 . S IBOVER=+$P(IBT,"^",4)
"RTN","IB20P242",32,0)
 . S Y=+$$ADD3525(IBCODE,IBEFFDT,IBTYPE,$E($P(IBT,"^",2),1,30),IBOVER) S:Y>0 IBC=IBC+1
"RTN","IB20P242",33,0)
 D MESS("     "_IBC_" entries added to 352.5")
"RTN","IB20P242",34,0)
 Q
"RTN","IB20P242",35,0)
 ;
"RTN","IB20P242",36,0)
 ;update description (add a new entry with new description if old one exists)
"RTN","IB20P242",37,0)
FDESCR(IBEFFDT) ;
"RTN","IB20P242",38,0)
 N IBC,IBT,IBX,IBCODE,IBTYPE,IBOVER
"RTN","IB20P242",39,0)
 N IBLSTDT,IB1
"RTN","IB20P242",40,0)
 D MESS("  Updating descriptions in file 352.5")
"RTN","IB20P242",41,0)
 S IBC=0
"RTN","IB20P242",42,0)
 F IBX=1:1 S IBT=$P($T(DESCR+IBX),";",3) Q:'$L(IBT)  D
"RTN","IB20P242",43,0)
 . S IBCODE=+$P(IBT,"^",1)
"RTN","IB20P242",44,0)
 . S IBLSTDT=$O(^IBE(352.5,"AEFFDT",IBCODE,-9999999))
"RTN","IB20P242",45,0)
 . I +IBLSTDT=0 D  Q
"RTN","IB20P242",46,0)
 . . D BMES^XPDUTL("  Code "_IBCODE_" not found for description update.")
"RTN","IB20P242",47,0)
 . S IB1=$O(^IBE(352.5,"AEFFDT",IBCODE,IBLSTDT,0))
"RTN","IB20P242",48,0)
 . I +IB1=0 D  Q
"RTN","IB20P242",49,0)
 . . D BMES^XPDUTL("  Code "_IBCODE_" not found for description update.")
"RTN","IB20P242",50,0)
 . S IBTYPE=+$P($G(^IBE(352.5,IB1,0)),"^",3)
"RTN","IB20P242",51,0)
 . S IBOVER=+$P($G(^IBE(352.5,IB1,0)),"^",5)
"RTN","IB20P242",52,0)
 . S Y=+$$ADD3525(IBCODE,IBEFFDT,IBTYPE,$E($P(IBT,"^",2),1,30),IBOVER) S:Y>0 IBC=IBC+1
"RTN","IB20P242",53,0)
 D MESS("     "_IBC_" updates added to 352.5")
"RTN","IB20P242",54,0)
 Q
"RTN","IB20P242",55,0)
 ;
"RTN","IB20P242",56,0)
 ;add a new entry
"RTN","IB20P242",57,0)
ADD3525(IBCODE,IBEFFDT,IBTYPE,IBDECR,IBOVER) ;
"RTN","IB20P242",58,0)
 D BMES^XPDUTL("  "_IBCODE_"  "_IBDECR)
"RTN","IB20P242",59,0)
 N IBIENS,IBFDA,IBER,IBRET,IBSEEKDT,IBLSTDT,IBOFL,IB1
"RTN","IB20P242",60,0)
 S IBIENS="+1,"
"RTN","IB20P242",61,0)
 S IBFDA(352.5,IBIENS,.01)=IBCODE
"RTN","IB20P242",62,0)
 S IBFDA(352.5,IBIENS,.02)=IBEFFDT
"RTN","IB20P242",63,0)
 S IBFDA(352.5,IBIENS,.03)=IBTYPE
"RTN","IB20P242",64,0)
 S IBFDA(352.5,IBIENS,.04)=IBDECR
"RTN","IB20P242",65,0)
 I IBOVER=1 S IBFDA(352.5,IBIENS,.05)=1
"RTN","IB20P242",66,0)
 D UPDATE^DIE("","IBFDA","IBRET","IBER")
"RTN","IB20P242",67,0)
 I $D(IBER) D BMES^XPDUTL(IBER("DIERR",1,"TEXT",1))
"RTN","IB20P242",68,0)
 Q $G(IBRET(1))
"RTN","IB20P242",69,0)
 ;
"RTN","IB20P242",70,0)
 ;output the message
"RTN","IB20P242",71,0)
MESS(IBSTR) ;
"RTN","IB20P242",72,0)
 N IBA
"RTN","IB20P242",73,0)
 S IBA(2)=IBSTR
"RTN","IB20P242",74,0)
 S (IBA(1),IBA(3))=""
"RTN","IB20P242",75,0)
 D MES^XPDUTL(.IBA)
"RTN","IB20P242",76,0)
 Q
"RTN","IB20P242",77,0)
 ;
"RTN","IB20P242",78,0)
 ;data section
"RTN","IB20P242",79,0)
ADDREG ;; non-override (regular) codes 
"RTN","IB20P242",80,0)
 ;;221^PHONE/VISUAL IMPAIRMENT (VIST)^0^0
"RTN","IB20P242",81,0)
 ;;348^PRIMARY CARE GROUP^1^0
"RTN","IB20P242",82,0)
 ;;371^CCS EVALUATION^0^0
"RTN","IB20P242",83,0)
 ;;394^MED SPECIALTY GROUP^2^0
"RTN","IB20P242",84,0)
 ;;674^ADMIN PT ORIENT NON-CNT MAS^0^0
"RTN","IB20P242",85,0)
 ;;685^CARE OF CCS PROGRAM PATIENTS^0^1
"RTN","IB20P242",86,0)
 ;;686^CCS TELEPHONE (ETC.) CARE^0^0
"RTN","IB20P242",87,0)
 ;;690^TELEMEDICINE 2ND ONLY^0^1
"RTN","IB20P242",88,0)
 ;;717^PPD CLINIC (2ND ONLY)^0^1
"RTN","IB20P242",89,0)
 ;;179^REAL-TIME VIDEO CARE 2ND ONLY^0^1
"RTN","IB20P242",90,0)
 ;;684^HM THLTH NOVIDEO INTRVN 2 ONLY^0^1
"RTN","IB20P242",91,0)
 ;;
"RTN","IB20P242",92,0)
 ;
"RTN","IB20P242",93,0)
DESCR ;; description updates
"RTN","IB20P242",94,0)
 ;;317^ANTI-COAGULATION CLINIC^
"RTN","IB20P242",95,0)
 ;;512^MENTAL HEALTH CONSULTATION^
"RTN","IB20P242",96,0)
 ;;527^MENTAL HEALTH PHONE PRI ONLY^
"RTN","IB20P242",97,0)
 ;;
"RTN","IB20P242",98,0)
 ;
"VER")
8.0^22.0
**END**
**END**
