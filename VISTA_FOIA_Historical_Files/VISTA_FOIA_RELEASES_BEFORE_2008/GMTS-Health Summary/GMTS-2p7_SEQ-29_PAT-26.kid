Released GMTS*2.7*26 SEQ #29
Extracted from mail message
**KIDS**:GMTS*2.7*26^

**INSTALL NAME**
GMTS*2.7*26
"BLD",679,0)
GMTS*2.7*26^HEALTH SUMMARY^0^2980317^y
"BLD",679,1,0)
^^4^4^2990407^^
"BLD",679,1,1,0)
Imaging Health Summary Component
"BLD",679,1,2,0)

"BLD",679,1,3,0)
The full description of this patch may be found on the National Patch Module 
"BLD",679,1,4,0)
under GMTS*2.7*26.
"BLD",679,4,0)
^9.64PA^^
"BLD",679,"ABPKG")
n
"BLD",679,"INIT")
P26^GMTSP26
"BLD",679,"KRN",0)
^9.67PA^19^18
"BLD",679,"KRN",.4,0)
.4
"BLD",679,"KRN",.4,"NM",0)
^9.68A^^
"BLD",679,"KRN",.401,0)
.401
"BLD",679,"KRN",.402,0)
.402
"BLD",679,"KRN",.403,0)
.403
"BLD",679,"KRN",.5,0)
.5
"BLD",679,"KRN",.84,0)
.84
"BLD",679,"KRN",3.6,0)
3.6
"BLD",679,"KRN",3.8,0)
3.8
"BLD",679,"KRN",9.2,0)
9.2
"BLD",679,"KRN",9.8,0)
9.8
"BLD",679,"KRN",9.8,"NM",0)
^9.68A^3^3
"BLD",679,"KRN",9.8,"NM",1,0)
GMTSMAG^^0^B1540573
"BLD",679,"KRN",9.8,"NM",2,0)
GMTSMAGE^^0^B1882673
"BLD",679,"KRN",9.8,"NM",3,0)
GMTSP26^^0^B3346257
"BLD",679,"KRN",9.8,"NM","B","GMTSMAG",1)

"BLD",679,"KRN",9.8,"NM","B","GMTSMAGE",2)

"BLD",679,"KRN",9.8,"NM","B","GMTSP26",3)

"BLD",679,"KRN",19,0)
19
"BLD",679,"KRN",19,"NM",0)
^9.68A^^
"BLD",679,"KRN",19.1,0)
19.1
"BLD",679,"KRN",101,0)
101
"BLD",679,"KRN",409.61,0)
409.61
"BLD",679,"KRN",771,0)
771
"BLD",679,"KRN",869.2,0)
869.2
"BLD",679,"KRN",870,0)
870
"BLD",679,"KRN",8994,0)
8994
"BLD",679,"KRN","B",.4,.4)

"BLD",679,"KRN","B",.401,.401)

"BLD",679,"KRN","B",.402,.402)

"BLD",679,"KRN","B",.403,.403)

"BLD",679,"KRN","B",.5,.5)

"BLD",679,"KRN","B",.84,.84)

"BLD",679,"KRN","B",3.6,3.6)

"BLD",679,"KRN","B",3.8,3.8)

"BLD",679,"KRN","B",9.2,9.2)

"BLD",679,"KRN","B",9.8,9.8)

"BLD",679,"KRN","B",19,19)

"BLD",679,"KRN","B",19.1,19.1)

"BLD",679,"KRN","B",101,101)

"BLD",679,"KRN","B",409.61,409.61)

"BLD",679,"KRN","B",771,771)

"BLD",679,"KRN","B",869.2,869.2)

"BLD",679,"KRN","B",870,870)

"BLD",679,"KRN","B",8994,8994)

"BLD",679,"QUES",0)
^9.62^^
"BLD",679,"REQB",0)
^9.611^1^1
"BLD",679,"REQB",1,0)
GMTS*2.7*28^2
"BLD",679,"REQB","B","GMTS*2.7*28",1)

"INIT")
P26^GMTSP26
"MBREQ")
0
"PKG",187,-1)
1^1
"PKG",187,0)
HEALTH SUMMARY^GMTS^Integrated Health Summary Tools
"PKG",187,20,0)
^9.402P^^
"PKG",187,22,0)
^9.49I^1^1
"PKG",187,22,1,0)
2.7^2951020^2960308
"PKG",187,22,1,"PAH",1,0)
26^2980317^1118
"PKG",187,22,1,"PAH",1,1,0)
^^4^4^2990415
"PKG",187,22,1,"PAH",1,1,1,0)
Imaging Health Summary Component
"PKG",187,22,1,"PAH",1,1,2,0)

"PKG",187,22,1,"PAH",1,1,3,0)
The full description of this patch may be found on the National Patch Module 
"PKG",187,22,1,"PAH",1,1,4,0)
under GMTS*2.7*26.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","GMTSMAG")
0^1^B1540573
"RTN","GMTSMAG",1,0)
GMTSMAG ;SLC/RMP - Imaging Health Summary Component ; 04/15/1999
"RTN","GMTSMAG",2,0)
 ;;2.7;Health Summary;**26**;Oct 20, 1995
"RTN","GMTSMAG",3,0)
 ;
"RTN","GMTSMAG",4,0)
MAIN N %X,%Y,GMI,MAX,MAGDFN,IX,X,PROC,GMTSXX
"RTN","GMTSMAG",5,0)
 I '$D(^MAG(2005,"AC",DFN)) Q
"RTN","GMTSMAG",6,0)
 S MAGDFN=DFN
"RTN","GMTSMAG",7,0)
 I $D(GMTSNDM),(GMTSNDM>0) S MAX=GMTSNDM
"RTN","GMTSMAG",8,0)
 E  S MAX=999
"RTN","GMTSMAG",9,0)
 D IMGPTRE^GMTSMAGE(.GMTSXX,MAGDFN_"^"_DUZ)
"RTN","GMTSMAG",10,0)
 S %X="GMTSXX",%Y="^TMP(""MAG"",$J,"
"RTN","GMTSMAG",11,0)
 D %XY^%RCR
"RTN","GMTSMAG",12,0)
 I '$D(^TMP("MAG",$J)) Q
"RTN","GMTSMAG",13,0)
 D WRTMAG
"RTN","GMTSMAG",14,0)
 S IX=0 F  S IX=$O(^TMP("MAG",$J,IX)) Q:IX=""  S X=^TMP("MAG",$J,IX) D WRT
"RTN","GMTSMAG",15,0)
 K ^TMP("MAG",$J)
"RTN","GMTSMAG",16,0)
 Q
"RTN","GMTSMAG",17,0)
WRTMAG ; Writes Imaging Header
"RTN","GMTSMAG",18,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?1,"Date/Time",?20,"Procedure",?34,"Short Description",!!
"RTN","GMTSMAG",19,0)
 Q
"RTN","GMTSMAG",20,0)
WRT ; Writes Image date/time, procedure, short text
"RTN","GMTSMAG",21,0)
 N Y S Y=$P(X,U) S Y=$$FMTE(Y) D CKP^GMTSUP Q:$D(GMTSQIT)  D
"RTN","GMTSMAG",22,0)
 . W Y,?20,$E($P(X,U,2),1,12),?34,$E($P(X,U,3),1,43),!
"RTN","GMTSMAG",23,0)
 Q
"RTN","GMTSMAG",24,0)
FMTE(X) ; Fileman to External
"RTN","GMTSMAG",25,0)
 S X=$G(X) D REGDTM4^GMTSU Q X
"RTN","GMTSMAGE")
0^2^B1882673
"RTN","GMTSMAGE",1,0)
GMTSMAGE ;SLC/RMP - Imaging HS Comp Data Extraction  ; 04/15/1999
"RTN","GMTSMAGE",2,0)
 ;;2.7;Health Summary;**26**;Oct 20, 1995
"RTN","GMTSMAGE",3,0)
 ;
"RTN","GMTSMAGE",4,0)
IMGPTRE(ZY,MAGMESS) ;RETURN IMAGE INFO LIST FOR PATIENT
"RTN","GMTSMAGE",5,0)
 N Y,MAGDFN,MAGDUZ,CT,PD,T,I,P
"RTN","GMTSMAGE",6,0)
 S MAGDFN=$P(MAGMESS,"^",1)
"RTN","GMTSMAGE",7,0)
 S MAGDUZ=$P(MAGMESS,"^",2)
"RTN","GMTSMAGE",8,0)
 S:MAGDUZ="" MAGDUZ=0
"RTN","GMTSMAGE",9,0)
 F I=1:1:10 I $E(MAGDFN,1)=" " S MAGDFN=$E(MAGDFN,2,99)
"RTN","GMTSMAGE",10,0)
 S MAGDFN=+MAGDFN
"RTN","GMTSMAGE",11,0)
 I '$D(^MAG(2005,"APDTPX",MAGDFN)) S ZY(0)="1^0" Q
"RTN","GMTSMAGE",12,0)
 S CT=0,T=0,I=0,P="",PD=""
"RTN","GMTSMAGE",13,0)
 F  S PD=$O(^MAG(2005,"APDTPX",MAGDFN,PD)) Q:PD=""  Q:'$$GT(PD)  D
"RTN","GMTSMAGE",14,0)
 . S P="" F  S P=$O(^MAG(2005,"APDTPX",MAGDFN,PD,P)) Q:P=""  D
"RTN","GMTSMAGE",15,0)
 . . S I="" F  S I=$O(^MAG(2005,"APDTPX",MAGDFN,PD,P,I)) Q:+I<1  D
"RTN","GMTSMAGE",16,0)
 . . . Q:$P($G(^MAG(2005,I,0)),"^",10)  ; CHILD OF GROUP
"RTN","GMTSMAGE",17,0)
 . . . S T=T+1
"RTN","GMTSMAGE",18,0)
 . . . I T>250 Q
"RTN","GMTSMAGE",19,0)
 . . . Q:(GMTSNDM>1)&(GMTSNDM<(CT+1))
"RTN","GMTSMAGE",20,0)
 . . . S CT=CT+1
"RTN","GMTSMAGE",21,0)
 . . . D ARRY(.ZY,CT,I)
"RTN","GMTSMAGE",22,0)
 S ZY(0)="1^"_CT
"RTN","GMTSMAGE",23,0)
 I T>CT S ZY(0)=ZY(0)_" of "_T
"RTN","GMTSMAGE",24,0)
 K T,I
"RTN","GMTSMAGE",25,0)
 Q
"RTN","GMTSMAGE",26,0)
GT(ADT) ;
"RTN","GMTSMAGE",27,0)
 Q:ADT>GMTS2 0
"RTN","GMTSMAGE",28,0)
 Q $S(ADT>GMTS1:1,1:0)
"RTN","GMTSMAGE",29,0)
ARRY(ZY,CT,I) ;
"RTN","GMTSMAGE",30,0)
 S ZY(CT)=$P(^MAG(2005,I,2),"^",5)
"RTN","GMTSMAGE",31,0)
 S $P(ZY(CT),"^",2)=$P(^MAG(2005,I,0),"^",8)
"RTN","GMTSMAGE",32,0)
 S $P(ZY(CT),"^",3)=$P(^MAG(2005,I,2),"^",4)
"RTN","GMTSMAGE",33,0)
 Q
"RTN","GMTSP26")
0^3^B3346257
"RTN","GMTSP26",1,0)
GMTSP26 ;SLC/RMP - Imaging HS Comp Post-Install     ; 04/15/1999
"RTN","GMTSP26",2,0)
 ;;2.7;Health Summary;**26**;Oct 20, 1995
"RTN","GMTSP26",3,0)
 ;
"RTN","GMTSP26",4,0)
 Q
"RTN","GMTSP26",5,0)
P26 ; Install Health Summary component
"RTN","GMTSP26",6,0)
 N DIE,DIK,DA,DR,DIC,DLAYGO,DINUM,X,Y,INCLUDE
"RTN","GMTSP26",7,0)
 I +$O(^GMT(142.1,"B","MAG IMAGING",0)) D  Q
"RTN","GMTSP26",8,0)
 . D BMES^XPDUTL(" MAG Imaging component has already been installed in the.")
"RTN","GMTSP26",9,0)
 . D MES^XPDUTL(" HEALTH SUMMARY COMMPONET FILE.")
"RTN","GMTSP26",10,0)
 D BMES^XPDUTL(" Filing MAG Imaging component in HEALTH SUMMARY COMPONENT FILE.")
"RTN","GMTSP26",11,0)
 S (DIC,DLAYGO)=142.1,DIC(0)="NXL",X="MAG IMAGING"
"RTN","GMTSP26",12,0)
 S DINUM=235
"RTN","GMTSP26",13,0)
 I +DINUM'>1 D  Q
"RTN","GMTSP26",14,0)
 . D BMES^XPDUTL(" Could not install MAG Imaging component.")
"RTN","GMTSP26",15,0)
 D ^DIC
"RTN","GMTSP26",16,0)
 I +Y'>0 D  Q
"RTN","GMTSP26",17,0)
 . D BMES^XPDUTL(" Could not install MAG Imaging component.")
"RTN","GMTSP26",18,0)
 S DIE=DIC,DA=+Y
"RTN","GMTSP26",19,0)
 S DR="1///^S X=""MAIN""_$C(59)_""GMTSMAG"";2///Y;3///MAGI;4///Y"
"RTN","GMTSP26",20,0)
 S:'$D(^MAG(2005,0)) DR=DR_";5///P;8///^S X=""Imaging not installed"""
"RTN","GMTSP26",21,0)
 S DR=DR_";9///MAG Imaging"
"RTN","GMTSP26",22,0)
 D ^DIE
"RTN","GMTSP26",23,0)
 S ^GMT(142.1,+DA,3.5,0)="^^2^2^"_DT_U
"RTN","GMTSP26",24,0)
 S ^GMT(142.1,+DA,3.5,1,0)="This component lists the available images along with"
"RTN","GMTSP26",25,0)
 S ^GMT(142.1,+DA,3.5,2,0)="the procedure name and short description."
"RTN","GMTSP26",26,0)
 S DIK=DIE D IX^DIK ; Reindex file for new entry
"RTN","GMTSP26",27,0)
 S INCLUDE=0 D ENPOST^GMTSLOAD
"RTN","GMTSP26",28,0)
 Q
"VER")
8.0^21.0
**END**
**END**
