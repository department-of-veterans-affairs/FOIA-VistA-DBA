
=============================================================================
Run Date: MAY 22, 2007                     Designation: PXRM*2*9
Package : PXRM - CLINICAL REMINDERS           Priority: Mandatory
Version : 2         SEQ #7                      Status: Released
                  Compliance Date: JUN 22, 2007
=============================================================================

Associated patches: (v)PXRM*2*4    <<= must be installed BEFORE `PXRM*2*9'

Subject: PXRM CODE SET UPDATE protocol fix

Category: 
  - Routine
  - Informational

Description:
============

  This patch fixes problems in the protocols that are responsible for notifying 
  applications that changes have occurred in the ICD or CPT code sets.  The 
  problem resides in the routines that are specified by the Entry and Exit 
  actions of the protocols.  This became evident when sites did not receive 
  notification of changes to ICD and CPT codes that affected Clinical Reminders
  Taxonomies and Dialogs (see Remedy Ticket 175985).  This problem, and the 
  solution, spans four applications.
 
  This patch is one of four installs that are contained in a combined KIDS 
  distribution with the following install order:
       
    Distribution  Install      Order  Purpose
    ------------  -----------  -----  ---------------------------------------
    PXRM*2.0*9    PXRM*2.0*9     1    Modify Taxonomy/Dialog change messages
                  ICD*18.0*28    2    ICD CODE UPDATE EVENT protocol fix
                  ICPT*6.0*34    3    ICPT CODE UPDATE EVENT protocol fix
                  LEX*2.0*49     4    Invoke LEXICAL SERVICES UPDATE protocol
      
  The combined distribution consists of a single KIDS host file in the Lexicon
  Utility's namespace.  There is no associated data host file with this 
  distribution.
       
     KIDS Distribution Name   PXRM_2_0_9.KID
 
  REMEDY TICKETS:
  ==============
 
    175985   N. California HCS (Martinez)  Update messages not being generated
    176123   Asheville NC                  Reminder Txm Updates not occurring
 
  ENHANCEMENTS:
  ============
 
    The description of enhancements covers all patches/builds contained in
    the multi-package distribution PXRM_2_0_9.KID.
 
 
     PXRM CODE SET UPDATE CPT Protocol Entry Action
     PXRM CODE SET UPDATE ICD Protocol Entry Action                PXRM*2.0*9
     ----------------------------------------------
  
       PXRMCSD   This routine was modified to send a negative change message
                 (no action necessary) when no dialog elements that use
                 inactivated codes are found.
   
       PXRMCSTX  This routine was modified to send a negative change message
                 (no action necessary) when no taxonomies that use inactivated
                 codes are found.  A problem with the change message not being 
                 delivered was corrected.
 
     ICD CODE UPDATE EVENT Protocol Entry Action                   ICD*18.28
     -------------------------------------------
 
       ICDUPDT   This routine is the Entry Action for the ICD CODE UPDATE
                 EVENT protocol that was previously exported in patch 
                 ICD*18.0*6.  A logic error in this routine causes this 
                 protocol to abort and prevents all other protocols that 
                 are subordinate to the ICD CODE UPDATE EVENT from being
                 invoked.  The old logic was dependent on the Lexicon's 
                 Change file #757.9.  This dependency has been removed 
                 from the logic in the ICDUPDT routine, allowing the 
                 subordinate protocols to be invoked.
 
     ICPT CODE UPDATE EVENT Protocol Entry Action                  ICPT*6.0*34
     --------------------------------------------
 
       ICPTAU    This routine is the Entry Action for the ICPT CODE UPDATE 
                 EVENT protocol that was previously exported in patch 
                 ICPT*6.0*14.  A logic error in this routine causes this 
                 protocol to abort and prevents all other protocols that 
                 are subordinate to the ICPT CODE UPDATE EVENT protocol 
                 from being invoked.  The old logic was dependent on the 
                 Lexicon's Change file #757.9.  This dependency has been 
                 removed from the logic in the ICPTAU routine, allowing 
                 the subordinate protocols to be invoked.
 
     LEXICAL SERVICES UPDATE Protocol Entry Action                 LEX*2.0*49
     ---------------------------------------------
     
       The following routines are responsible for invoking this protocol
       and were modified to ensure that the protocol is executed:
 
       LEXXGI    Export Global Import
       LEXXGI2   Export Global Import
       LEXXFI    Export File Import
       LEXXFI7   Export File Import
       LEXXII    Export Status (Installed)
       LEXXST    Export Status
 
       The following routines support the Lexicon Utility's Change file.
       The Change File (757.9*) is no longer used, and these routines are
       no longer needed:
 
       LEXCHGF   Change File Support
       LEXCHGF2  Change File Display
       LEXNDX7   Change File Cross-References
       LEXXST5   Change File Export Status
 
     Other
     -----
 
       LEX2049P  This routine is the Post-Install routine for this multi-
                 package distribution, which is needed only for the 
                 installation of this patch.  It can be deleted after this
                 patch has been successfully installed.  This routine is
                 contained in the KIDS build for patch LEX*2.0*49.
   
       PXRMP9E   This routine is the Environment Check routine for the multi-
                 package distribution.  It is in the namespace of the first
                 patch to be installed.  This routine is contained in the 
                 KIDS build for patch PXRM*2.0*9.
 
 
  FTP SOFTWARE RETRIEVAL:
  ======================
   
    Kernel Installation and Distribution System (KIDS) Host File:
 
       Content               Filename         FTP Protocol
       -----------------     ------------     ------------
       KIDS Distribution     PXRM_2_0_9.KID   ASCII
    
    The preferred method is to FTP the file from download.vista.med.va.gov,
    which will transmit the file from the first available FTP server.
   
    The file may also be downloaded directly from a particular FTP
    server at the following locations.
    
          Hines           ftp.fo-hines.med.va.gov
          Albany          ftp.fo-albany.med.va.gov
          Salt Lake       ftp.fo-slc.med.va.gov
   
    The file is available in the ANONYMOUS.SOFTWARE directory.
  
  
  INSTALLATION INSTRUCTIONS:
  =========================
  
    1)  Users may be on the system during the install of PXRM*2.0*9.  It is 
        recommended that this patch be installed during non-peak hours.  This
        patch should take less than 10 minutes to install.
     
    2)  Set up user and IO variables (D ^XUP) for programmer access.
  
  
    3)  Distribution Load:
  
        Load the KIDS Distribution from the KIDS Host File using the 
        "Load a Distribution" option on the KIDS "Installation..." menu.
        Use Host File name PXRM_2_0_9.KID.  
  
        Respond "YES" at the "OK to continue with Load? NO//" prompt.
 
        Respond "YES" at the "Want to RUN the Environment Check Routine? YES//"
        prompt.
  
    4)  KIDS Installation:
  
        Install the patch using the KIDS Installation Menu action "Install 
        Package(s)" and the install name PXRM*2.0*9.  The KIDS installation
        should take less than four minutes depending on the number of 
        users/jobs on the system.
    
          Environment Check:  
     
            The Environment Check routine will check to see if patches
            LEX*2.0*25, LEX*2.0*27, LEX*2.0*32, LEX*2.0*46, ICD*18.0*11,
            ICPT*6.0*16 and PXRM*2.0*4 are installed on your system.
 
            This is an "All or Nothing" Environment Check.  All of the
            required patches must be there, or the install is halted and
            the entire transport global for patches PXRM*2.0*9, ICD*18.0*28,
            ICPT*6.0*34 and LEX*2.0*49 will be deleted from the system.
   
          Respond "NO" at the "Want KIDS to INHIBIT LOGONs during the 
          install? YES//" prompt.
      
          Respond "NO" at the "Want to DISABLE Schedule Options, Menu 
          Options, and Protocols?" prompt.
  
          Install Order:
 
          1  PXRM*2.0*9  w/Environment Check  Taxonomy/Dialog messages
          2  ICD*18.0*28                      ICD CODE UPDATE EVENT protocol
          3  ICPT*6.0*34                      ICPT CODE UPDATE EVENT protocol
          4  LEX*2.0*49  w/Post-Install       LEXICAL SERVICES UPDATE protocol
 
             NOTE:  The Environment Check routine PXRMP9E is in the
                    namespace of the first patch to be installed.  The
                    Post-Install routine LEX2049P is in the namespace
                    of the last patch to be installed.
 
    5)  Cleanup
      
        The Environment Check routine PXRMP9E and the Post-Install routine
        LEX2049P should be manually deleted using the KERNEL option Delete
        Routines [XTRDEL].
 
 
  MULTI-PACKAGE BUILD ROUTINE SUMMARY:
  ===================================
  
    PXRM*2.0*9 - Installed 1st
    --------------------------
  
    The second line of each of these routines will look like:
  
          <tab>;;2.0;CLINICAL REMINDERS;**[PATCH LIST]**;Feb 04, 2005
  
      The following checksums were created using CHECK^XTSUMBLD
  
                      Checksums      Checksums  
          Routine      Before          After      Patch List (2nd Line)
          --------  -------------  -------------  ---------------------
          PXRMP9E      <Env Chk>      8996052     9
          PXRMCSD     15466838       15813714     9
          PXRMCSTX     9785862       10448543     9
  
      The following checksums were created using CHECK1^XTSUMBLD 
  
                      Checksums      Checksums  
          Routine      Before          After      Patch List (2nd Line)
          --------  -------------  -------------  ---------------------
          PXRMP9E      <Env Chk>     21025349     9
          PXRMCSD     76622294       79007362     9
          PXRMCSTX    30669952       33328998     9
  
  
    ICD*18.0*28 - Installed 2nd
    ---------------------------
  
    The second line of the routine will look like:
  
          <tab>;;18.0;DRG Grouper;**[PATCH LIST]**;Oct 20, 2000
  
      The following checksums were created using CHECK^XTSUMBLD
  
                      Checksums      Checksums  
          Routine      Before          After      Patch List (2nd Line)
          --------  -------------  -------------  ---------------------
          ICDUPDT       150097         107313     6,11,28
  
      The following checksums were created using CHECK1^XTSUMBLD 
  
                      Checksums      Checksums  
          Routine      Before          After      Patch List (2nd Line)
          --------  -------------  -------------  ---------------------
          ICDUPDT       196286         146682     6,11,28
  
  
    ICPT*6.0*34 - Installed 3rd
    ---------------------------
  
    The second line of the routine will look like:
  
          <tab>;;6.0;CPT/HCPCS;**[PATCH LIST]**;May 19, 1997
  
      The following checksums were created using CHECK^XTSUMBLD
  
                      Checksums      Checksums  
          Routine      Before          After      Patch List (2nd Line)
          --------  -------------  -------------  ---------------------
          ICPTAU        149764         106938     14,16,34
  
      The following checksums were created using CHECK1^XTSUMBLD 
  
                      Checksums      Checksums  
          Routine      Before          After      Patch List (2nd Line)
          --------  -------------  -------------  ---------------------
          ICPTAU        195926         146280     14,16,34
  
  
    LEX*2.0*49 - Installed Last
    ---------------------------
  
    The second line of each of these routines will look like:
  
          <tab>;;2.0;LEXICON UTILITY;**[PATCH LIST]**;Sep 23, 1996
  
      The following checksums were created using CHECK^XTSUMBLD
  
                      Checksums      Checksums  
          Routine      Before          After      Patch List (2nd Line)
          --------  -------------  -------------  ---------------------
          LEX2049P    <Post-Ins>     18450375     49
          LEXCHGF     11166275       <Deleted>    
          LEXCHGF2     9996892       <Deleted>    
          LEXNDX7      9747379       <Deleted>    
          LEXXFI      12615834       13149789     32,46,49
          LEXXFI7     12148934       12363387     32,49
          LEXXGI      19648281       16911660     4,25,26,27,28,29,46,49
          LEXXGI2      4188975       15702587     25,26,28,29,46,49
          LEXXII       9102107        9880101     32,46,49
          LEXXST      21210944       20978655     4,5,8,25,27,49
          LEXXST5     15288447       <Deleted>    
  
      The following checksums were created using CHECK1^XTSUMBLD 
  
                      Checksums      Checksums  
          Routine      Before          After      Patch List (2nd Line)
          --------  -------------  -------------  ---------------------
          LEX2049P    <Post-Ins>     60130631     49
          LEXCHGF     30234977       <Deleted>    
          LEXCHGF2    21566747       <Deleted>    
          LEXNDX7     17507161       <Deleted>    
          LEXXFI      48140069       48947190     32,46,49
          LEXXFI7     41759245       41558940     32,49
          LEXXGI      72245270       60750552     4,25,26,27,28,29,46,49
          LEXXGI2     10122401       40689022     25,26,28,29,46,49
          LEXXII      32607949       33731148     32,46,49
          LEXXST      67172064       68105086     4,5,8,25,27,49
          LEXXST5     38762877       <Deleted>  
 
 

Routine Information:
====================
Routine Name: PXRMCSD
Routine Name: PXRMCSTX
Routine Name: PXRMP9E

=============================================================================
User Information:
Entered By  : ROWE,KIMBALL                  Date Entered  : FEB 13, 2007
Completed By: MERRILL,DAVID P               Date Completed: MAY 15, 2007
Released By : MONTGOMERY,ALAN               Date Released : MAY 22, 2007
=============================================================================


Packman Mail Message:
=====================

No routines included
