Released GMTS*2.7*21 SEQ #20
Extracted from mail message
**KIDS**:GMTS*2.7*21^

**INSTALL NAME**
GMTS*2.7*21
"BLD",605,0)
GMTS*2.7*21^HEALTH SUMMARY^0^2980326^y
"BLD",605,1,0)
^^3^3^2980326^
"BLD",605,1,1,0)
This patch correct problem with page lengths longer than the
"BLD",605,1,2,0)
HFS device they are sent to.  See the GMTS*2.7*21 patch description
"BLD",605,1,3,0)
on the National Patch Modual.
"BLD",605,4,0)
^9.64PA^^
"BLD",605,"KRN",0)
^9.67PA^19^18
"BLD",605,"KRN",.4,0)
.4
"BLD",605,"KRN",.4,"NM",0)
^9.68A^^
"BLD",605,"KRN",.401,0)
.401
"BLD",605,"KRN",.402,0)
.402
"BLD",605,"KRN",.403,0)
.403
"BLD",605,"KRN",.5,0)
.5
"BLD",605,"KRN",.84,0)
.84
"BLD",605,"KRN",3.6,0)
3.6
"BLD",605,"KRN",3.8,0)
3.8
"BLD",605,"KRN",9.2,0)
9.2
"BLD",605,"KRN",9.8,0)
9.8
"BLD",605,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",605,"KRN",9.8,"NM",1,0)
GMTSUP^^^B15892953
"BLD",605,"KRN",9.8,"NM","B","GMTSUP",1)

"BLD",605,"KRN",19,0)
19
"BLD",605,"KRN",19.1,0)
19.1
"BLD",605,"KRN",101,0)
101
"BLD",605,"KRN",409.61,0)
409.61
"BLD",605,"KRN",771,0)
771
"BLD",605,"KRN",869.2,0)
869.2
"BLD",605,"KRN",870,0)
870
"BLD",605,"KRN",8994,0)
8994
"BLD",605,"KRN","B",.4,.4)

"BLD",605,"KRN","B",.401,.401)

"BLD",605,"KRN","B",.402,.402)

"BLD",605,"KRN","B",.403,.403)

"BLD",605,"KRN","B",.5,.5)

"BLD",605,"KRN","B",.84,.84)

"BLD",605,"KRN","B",3.6,3.6)

"BLD",605,"KRN","B",3.8,3.8)

"BLD",605,"KRN","B",9.2,9.2)

"BLD",605,"KRN","B",9.8,9.8)

"BLD",605,"KRN","B",19,19)

"BLD",605,"KRN","B",19.1,19.1)

"BLD",605,"KRN","B",101,101)

"BLD",605,"KRN","B",409.61,409.61)

"BLD",605,"KRN","B",771,771)

"BLD",605,"KRN","B",869.2,869.2)

"BLD",605,"KRN","B",870,870)

"BLD",605,"KRN","B",8994,8994)

"BLD",605,"QUES",0)
^9.62^^
"BLD",605,"REQB",0)
^9.611^^0
"OER",187,0)
187^GMTS^0^^
"OER",187,1,0)
^100.9951PA^1^1
"OER",187,1,1,0)
2025
"OER",187,1,1,1,0)
^100.99511PA^3^3
"OER",187,1,1,1,1,0)
231
"OER",187,1,1,1,2,0)
229
"OER",187,1,1,1,3,0)
230
"PKG",187,-1)
1^1
"PKG",187,0)
HEALTH SUMMARY^GMTS^Integrated Health Summary Tools
"PKG",187,22,0)
^9.49I^1^1
"PKG",187,22,1,0)
2.7^2951020^2960308
"PKG",187,22,1,"PAH",1,0)
21^2980326^125
"PKG",187,22,1,"PAH",1,1,0)
^^3^3^2980326
"PKG",187,22,1,"PAH",1,1,1,0)
This patch correct problem with page lengths longer than the
"PKG",187,22,1,"PAH",1,1,2,0)
HFS device they are sent to.  See the GMTS*2.7*21 patch description
"PKG",187,22,1,"PAH",1,1,3,0)
on the National Patch Modual.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","GMTSUP")
0^1^B15892953
"RTN","GMTSUP",1,0)
GMTSUP ;SLC/DLT,JER - Utilities for Paging Health Summary ;9/24/97  13:48
"RTN","GMTSUP",2,0)
 ;;2.7;Health Summary;**2,7,21**;Oct 20, 1995
"RTN","GMTSUP",3,0)
 ;
"RTN","GMTSUP",4,0)
CKP ; Check page position, pause and prompt
"RTN","GMTSUP",5,0)
 Q:$D(GMTSQIT)
"RTN","GMTSUP",6,0)
 S GMTSNPG=0
"RTN","GMTSUP",7,0)
 I $G(GMTSWRIT)=1 D
"RTN","GMTSUP",8,0)
 . D BREAK
"RTN","GMTSUP",9,0)
 . S GMTSWRIT=0
"RTN","GMTSUP",10,0)
 I IOT="HFS" D BREAK:(GMTSEGN'=$G(GMTSLCMP)) Q
"RTN","GMTSUP",11,0)
 Q:+$G(GMTSLPG)'>0&($Y'>(IOSL-GMTSLO))
"RTN","GMTSUP",12,0)
 I $E(IOST,1)="C" S:'$D(GMTSTOF) GMTSTOF=1 D CKP1
"RTN","GMTSUP",13,0)
 I '$D(GMTSQIT) W @IOF D HEADER,BREAK S GMTSNPG=1,GMTSTOF=GMTSEGN
"RTN","GMTSUP",14,0)
 I $D(GMTSQIT),(GMTSQIT]""),($D(GMTSTYP)) W @IOF D HEADER S GMTSTOF=GMTSEGN
"RTN","GMTSUP",15,0)
 Q
"RTN","GMTSUP",16,0)
CKP1 ;Help Display of Optional Components for Navigation
"RTN","GMTSUP",17,0)
 N DA,I,J,K,L,X,XQORM,Y,GMTSY,TYP
"RTN","GMTSUP",18,0)
 I $S('$D(GMTSTYP):1,$D(GMTOPT):1,1:0) N DIR S DIR(0)="E" D ^DIR K DIR S:$D(DUOUT)!(GMTSLPG) GMTSQIT="" Q
"RTN","GMTSUP",19,0)
 S TYP=GMTSTYP
"RTN","GMTSUP",20,0)
 S DIC=142,DIC(0)="MZF",X="GMTS HS ADHOC OPTION" D ^DIC S GMTSTYP=+Y K DIC,X,Y
"RTN","GMTSUP",21,0)
 S XQORM=GMTSTYP_";GMT(142,",XQORM(0)="1AF\+",XQORM("A")="Press <RET> to continue, ^ to exit, or select component: "
"RTN","GMTSUP",22,0)
 S XQORM("??")="D HELP^GMTSUP1" I GMTSLPG W "* END * "
"RTN","GMTSUP",23,0)
 S XQORM("S")="I $D(^GMT(142,DA(1),1,DA,0)),($P(^GMT(142.1,$P(^GMT(142,DA(1),1,DA,0),U,2),0),U,6)'=""T"")"
"RTN","GMTSUP",24,0)
 D ^XQORM W ! D @$S(Y=1:"BRNCH",1:"EVAL")
"RTN","GMTSUP",25,0)
 I $D(GMTSY),(GMTSY=0) K GMTSY G CKP1
"RTN","GMTSUP",26,0)
 S GMTSTYP=TYP
"RTN","GMTSUP",27,0)
 Q
"RTN","GMTSUP",28,0)
BREAK ; Writes the component header
"RTN","GMTSUP",29,0)
 S:'$D(GMTSLCMP) GMTSLCMP=0
"RTN","GMTSUP",30,0)
 S GMTS="",GMTSNPG=1,$P(GMTS,"-",79-$L(GMTSEGH_GMTSEGL)/2)="",GMTS=GMTS_" "_GMTSEGH_GMTSEGL_" "_GMTS I $Y'>(IOSL-GMTSLO)!(IOT="HFS") W !,GMTS,! W:$Y'>(IOSL-GMTSLO) ?34,$S(GMTSEGN=GMTSLCMP:"(continued)",1:""),! S GMTSLCMP=GMTSEGN
"RTN","GMTSUP",31,0)
 Q
"RTN","GMTSUP",32,0)
HEADER ; Print Running Header
"RTN","GMTSUP",33,0)
 N GMTSVDT,DATA
"RTN","GMTSUP",34,0)
 ; GMTSCDT(0) may contain multiple dates that could cause a line to
"RTN","GMTSUP",35,0)
 ; wrap inappropriately. If this creates a problem, a change will be
"RTN","GMTSUP",36,0)
 ; required to accommodate it.
"RTN","GMTSUP",37,0)
 S DATA=""
"RTN","GMTSUP",38,0)
 I +$G(GMTSPXD1)&+$G(GMTSPXD2) D
"RTN","GMTSUP",39,0)
 . S DATA="Printed for data "
"RTN","GMTSUP",40,0)
 . I GMTSPXD1=GMTSPXD2 S DATA=DATA_"on "_GMTSPXD1 Q
"RTN","GMTSUP",41,0)
 . S DATA=DATA_"from "_GMTSPXD2_" to "_GMTSPXD1
"RTN","GMTSUP",42,0)
 I $D(GMTSCDT(0)) S GMTSVDT=GMTSCDT(0) S:GMTSDTM'["Printed:" GMTSDTM="Printed: "_GMTSDTM
"RTN","GMTSUP",43,0)
 W !,$S($L($P($G(GMTSSC),U,2)):"Location: "_$P(GMTSSC,U,2)_" ",1:""),$S($D(GMTSVDT):GMTSVDT,1:""),DATA,?(79-$L(GMTSDTM)),GMTSDTM
"RTN","GMTSUP",44,0)
 S:'$D(GMTSPG) GMTSPG=0 S GMTSPG=GMTSPG+1,GMTSHDR=" CONFIDENTIAL "_GMTSTITL_" SUMMARY "_$S($E(IOST,1)="C":"",1:"  pg. "_GMTSPG) S GMTS="",$P(GMTS,"*",(77-$L(GMTSHDR))\2)="*" S GMTSHDR=GMTS_" "_GMTSHDR_" "_GMTS
"RTN","GMTSUP",45,0)
 W !,GMTSHDR,"*"
"RTN","GMTSUP",46,0)
 I '$D(GMTSLFG) W !,GMTSPNM_"    "_GMTSSN_"   " W ?39-($L(GMTSWARD_" "_GMTSRB)\2),GMTSWARD_" "_GMTSRB,?79-$L(" DOB: "_GMTSDOB)," DOB: "_GMTSDOB,!
"RTN","GMTSUP",47,0)
 W:+$G(VADM(6)) ?26,"** DECEASED   "_$P(VADM(6),U,2)_" **"
"RTN","GMTSUP",48,0)
 Q
"RTN","GMTSUP",49,0)
BRNCH ;Checks for appropriate abbreviation to branch to a different component
"RTN","GMTSUP",50,0)
 N GMTINX,LIM,CREC,SBS
"RTN","GMTSUP",51,0)
 I Y,("+-"[X) S:X="-" GMTSEGN=GMTSTOF-1 S (GMTSY,GMTSQIT)=1,GMTSLPG=0 Q
"RTN","GMTSUP",52,0)
 I X="^^" S DIROUT=1,GMTSQIT="" Q
"RTN","GMTSUP",53,0)
 I Y,(X?1"^^".E) D  Q
"RTN","GMTSUP",54,0)
 .N GMTSAV
"RTN","GMTSUP",55,0)
 .S GMTSAV=X D RJUMP^GMTSUP1
"RTN","GMTSUP",56,0)
 .I GMTSAV'["?" S (GMTSQIT,GMTSY)=1,GMTSEGN=GMTSTOF-1,GMTSLPG=0
"RTN","GMTSUP",57,0)
 .E  S GMTSY=0
"RTN","GMTSUP",58,0)
 S GMTINX=$S($D(^GMT(142,GMTSTYP,1,+Y(1),0)):$P(^(0),U,2),1:"")
"RTN","GMTSUP",59,0)
 I 'GMTINX S GMTSY=0 Q
"RTN","GMTSUP",60,0)
 I '$D(GMTSEGI(GMTINX)) N GMI,GMJ,GMTSDFLT S GMI=1,GMJ=GMTSEGC,GMTSDFLT=1 D LOAD^GMTSADH S GMTSEGC=GMTSEGC+1
"RTN","GMTSUP",61,0)
 I '$D(GMTSEGI(GMTINX)) S GMTINX="",GMTSY=0 Q
"RTN","GMTSUP",62,0)
 S LIM=$P(Y(1),U,4) I LIM'["=" G NOLIM
"RTN","GMTSUP",63,0)
 S CREC=^GMT(142.1,GMTINX,0),SBS=GMTSEGI(GMTINX) D CMPLIM^GMTSADH2
"RTN","GMTSUP",64,0)
 I $D(DIROUT) S GMTSQIT="" Q
"RTN","GMTSUP",65,0)
NOLIM S GMTSEGN=GMTSEGI(GMTINX)-1,(GMTSY,GMTSQIT)=1,GMTSLPG=0
"RTN","GMTSUP",66,0)
 Q
"RTN","GMTSUP",67,0)
 ;
"RTN","GMTSUP",68,0)
EVAL ; Evaluate input to determine quit or continue
"RTN","GMTSUP",69,0)
 Q:'$D(X)
"RTN","GMTSUP",70,0)
 S:$D(DTOUT) DIROUT=1 I $S(X="^^":1,GMTSLPG:1,$D(DIROUT):1,X="^":1,1:0) S GMTSQIT=""
"RTN","GMTSUP",71,0)
 I +$G(GMPSAP),(X="^") S GMDUOUT=1
"RTN","GMTSUP",72,0)
 Q
"VER")
8.0^21.0
**END**
**END**
