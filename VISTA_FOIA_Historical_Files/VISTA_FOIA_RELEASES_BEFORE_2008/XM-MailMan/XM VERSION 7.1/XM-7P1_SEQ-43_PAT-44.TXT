$TXT Created by BEUSCHEL,GARY at REL.MAILMAN.ISC-SF.VA.GOV  (KIDS) on MONDAY, 06/23/97 at 06:43
=============================================================================
Run Date: AUG 13, 1997                     Designation: XM*7.1*44
Package : XM - MAILMAN                         Priority: Mandatory
Version : 7.1        SEQ #43                    Status: Released
=============================================================================


Subject: MAILBOX CLEANUP & BROADCAST IMPROVE

Category: 
  - Routine
  - Other
  - Informational

Description: 
============

  MailMan patch XM*7.1*44 contains the following enhancements:
  
  NOIS:       OKL-0497-70538
  E3R:        9173,9994
  Rtns:       ^XMA32A,^XMADJF1,^XMGAPI3,^XMZTERM,^XMZTERM1
  Options:    XMMGR,XMMGR-TERMINATE-ONE,XMMGR-TERMINATE-MANY,
              XMMGR-TERMINATE-SUGGEST,XMMGR-PURGE-MESSAGE
  Test Sites: Oklahoma City, OK; Prescott, AZ; St. Louis, MO; Houston, TX
  
  Broadcast mail is now delivered only to users who have an access code, a verify
  code, a primary menu, and a mail box.
  
  Four new options have been added to XMMGR-DISK-SPACE-MANAGEMENT menu:
  
  ----------------------------------------------------------------------------
  NAME: XMMGR-PURGE-MESSAGE               MENU TEXT: Purge a message
  DESCRIPTION:  This option enables you to purge any message.
  
  Purge means:
  -delete the message from all user mailboxes
  -delete the message from the MESSAGE global ^XMB(3.9
  -delete all responses from the MESSAGE global ^XMB(3.9
  
  Purge is not reversible.  The message is gone forever.
  
  ----------------------------------------------------------------------------
  NAME: XMMGR-TERMINATE-ONE               MENU TEXT: Terminate one mail user
  DESCRIPTION:   This option lets you remove the mailbox of any user
  who meets the criteria of either the XMMGR-TERMINATE-MANY option or the
  XMMGR-TERMINATE-SUGGEST option.
  As a result, the user will not receive any mail.  
  
  Remember,
  -Whenever you give a user a new access code,
   the system gives the user a mailbox if he doesn't already have one.
  -Whenever a user logs on,
   the system gives the user a mailbox if he doesn't already have one.
  
  ----------------------------------------------------------------------------
  NAME: XMMGR-TERMINATE-MANY              MENU TEXT: Terminate many mail users
  DESCRIPTION:   This option goes through the MAIL BOX global and removes any
  mailbox if
  - the user is not in the NEW PERSON file.
  - the user has no access code and was not terminated.
  - the user has no access code and was terminated w/o mailbox retention.
  - the user has an access code and primary menu, but no verify code, AND 
    - has never signed on, since being added before a cutoff date.  
    OR 
    - last signed on before a cutoff date.
  
  Remove means:
  - Delete user's private mail groups
  - Remove user from membership in all groups
  - Remove user as an authorized sender from all groups 
  - Remove user from anyone's list of surrogates
  - Delete user's latered-messages list
  - Delete user's mail box
  As a result, the user will not receive any mail.
  
  This option can be run in 'test' or 'real' mode.  
  
  The report lists, in DUZ order:
  -The user's DUZ and name
  -Whether the user has an access code, verify code, and primary menu
  -When the user was added to the NEW PERSON file
  -When the user last signed on
  -When the user was terminated (if applicable)
  -If the user was terminated, then whether the site manager chose to delete
   the user's mailbox.  (It's generally a good idea to go ahead and delete
   the mailbox upon termination.) 
  
  ----------------------------------------------------------------------------
  NAME: XMMGR-TERMINATE-SUGGEST
  MENU TEXT: Terminate mail user suggestions
  DESCRIPTION:   This option goes through the MailBox global and reports on
  users who perhaps should have their mail access terminated.  
  
  Users are included in the report if
  - the user was terminated before a manager-supplied cutoff date
    and allowed to keep a mailbox.
  - the user has an access code, verify code, and primary menu,
    but last signed on before a manager-supplied cutoff date.  
  
  This option does not terminate mail access.  
  
  The report page breaks on Service/Section and includes the following 
  information: 
  -User's DUZ and name
  -Whether the user has an access code, a verify code, and a primary menu
  -When the user last signed on
  -When the user was terminated (if applicable)
  -If the user was terminated, then whether the site manager chose
   to delete the user's mailbox.  (Remember, you should usually answer 'yes'
   to this question, unless the user is coming back and needs to have his mail
   retained.)
  -How many new messages the user has.  (New messages are never purged, except 
   during purge-by-date purges.) 
  
  Finally there are two blank columns.  One is headed "Term User Mbox"
  (Terminate user mailbox), and the other is headed "Deact VISTA Access"
  (Deactivate VISTA Access).  Besides being of interest to the Site Manager,
  this report is also designed to be submitted to other services. The intent is
  that the other services would check one of the columns for each user in the
  report and return the report to the Site Manager to act on. 
  
  ===========================================================================
  This patch should be installed after hours, when user activity is at a
  minimum.  You should put the XMUSER Option out of order.  The filers should
  be shut down.  ^XMADJF1 is probably mapped on your system.
  ===========================================================================
   
  INSTALLATION:
  1.  DSM Sites: If any of these routines is mapped disable mapping for the
      affected routine(s).
  2.  On the PackMan menu, use the 'INSTALL/CHECK MESSAGE' option to load
      the patch into a transport global.
  3.  On the KIDS:Installation menu, use the following options to install the
      Transport Global:
         Verify Checksums in Transport Global
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
         Install Package(s)
  4.  DSM Sites: After patch has installed, rebuild your map set.
  ============================================================================ 
    
  ROUTINES:
  The second line of the routine now looks like:
         ;;7.1;MailMan;**[patch list]**;Jun 02, 1994
   
                Before          After
  Name          Checksum        Checksum        Patch List
  ----------------------------------------------------------
  XMA32A         9601895        10911370        27,37,44
  XMADJF1        8481461         8709221        44
  XMGAPI3        2791662         3149530        29,44
  XMZTERM        * new *        15108400        44
  XMZTERM1       * new *        14445630        44
  
  * Checksums produced by CHECK^XTSUMBLD
  
  This patch introduces the following new routines:
  
  Routine       Callable at     Description
  ----------------------------------------------------------
  XMZTERM       N/A             Remove all traces of user/message
  XMZTERM1      N/A             XMZTERM (continued)
  
  ============================================================================

Routine Information:
====================

Routine Name:
  - XMGAPI3


Routine Checksum:

Routine Name:
  - XMADJF1


Routine Checksum:

Routine Name:
  - XMZTERM


Routine Checksum:

Routine Name:
  - XMZTERM1


Routine Checksum:

Routine Name:
  - XMA32A


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : BEUSCHEL,GARY                  Date Entered : APR 08, 1997
Completed By: MARSHALL,RICK                 Date Completed: AUG 11, 1997
Released By : SICARD,JERRY                  Date Released : AUG 13, 1997
=============================================================================


Packman Mail Message:
=====================

$END TXT
