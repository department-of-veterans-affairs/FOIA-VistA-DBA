
=============================================================================
Run Date: OCT 08, 2004                     Designation: PX*1*149
Package : PX - PCE PATIENT CARE ENCOUNTER     Priority: Mandatory
Version : 1       SEQ #115                      Status: Released
                  Compliance Date: NOV 08, 2004
=============================================================================

Associated patches: (v)PX*1*134    <<= must be installed BEFORE `PX*1*149'
                    (v)PX*1*136    <<= must be installed BEFORE `PX*1*149'
                    (v)ICD*18*12   <<= must be installed BEFORE `PX*1*149'
                    (v)ICPT*6*19   <<= must be installed BEFORE `PX*1*149'

Subject: CTD - PCE CODE TEXT DESCRIPTORS

Category: 
  - Routine
  - Enhancement (Mandatory)
  - Informational
  - Data Dictionary

Description:
============

 I.  BACKGROUND
  
 Office of Information Assurance, Office of Information, Veterans Health
 Administration, requested modifications to the VHA Information Systems and
 Technical Architecture (VistA) Patient Information Management System (PIMS)
 package that would allow for the use of multiple versions of the code sets
 employed in financial transactions. This work was completed in 2003 in the
 Code Set Versioning (CSV) project that was deployed in October of 2003.
 CSV included the Health Information Portability and Accessibility Act
 (HIPAA) stipulation that diagnosis and procedure codes used for billing
 purposes must be the codes that were applicable at the time service was
 provided. Four code sets, (ICD-9-CM, DRG, CPT, and HCPCS) for this project
 were modified as required under HIPAA legislation to be date-sensitive
 under the first phase of the project, i.e., CSV I.
  
 At the time that CSV I was developed, a request was made to defer
 applicable text versioning to the next iteration. This deferment of the
 short and long-text versions from the CSV project makes up the scope of
 this Code Text Descriptor (CTD) project. This follow-up project, Code Text
 Descriptors, intends to add the functionality of date-sensitive versioning
 for all applicable code text descriptors for the four code sets, effective
 with all textual changes occurring since October 1, 2002.
    
 This patch addresses the changes done within the Patient Care Encounter
 package in compliance to the specifications of CTD.  Modifications were 
 done within the Patient Care Encounter application to assure the correct 
 descriptors are being displayed for CPT procedure codes, CPT modifiers, and 
 ICD diagnosis and CPT procedure codes for a given encounter date.
  
 The changes affects to the following options:
      PXCE ENCOUNTER DATA ENTRY        PCE Encounter Data Entry
      PXCE ENCOUNTER ENTRY SUPER       PCE Encounter Data Entry - Supervisor
      PXCE ENCOUNTER ENTRY & DELETE    PCE Encounter Data Entry and Delete
      PXCE ENCOUNTER ENTRY NO DELETE   PCE Encounter Data Entry without Delete
      PXCE ENCOUNTER VIEWER            PCE Encounter Viewer
      PX PCE CLINICIAN MENU            PCE Clinician Menu
  
 The changes affects to the following protocols:
      PXCE ADD/EDIT                    Update Encounter
      PXCE ADD/EDIT DISPLAY BRIEF      Display Brief
      PXCE ADD/EDIT DISPLAY DETAIL     Display Detail
      PXCE ADD/EDIT INTERVIEW          Check Out Interview
      PXCE CPT ADD                     CPT (Procedure)
      PXCE EDIT V-FILE                 Edit an Item
      PXCE NEW ENCOUNTER               Add Standalone Enc.
      PXCE POV ADD                     Diagnosis (ICD-9)
      PXCE SDAM INTERVIEW              Check Out Interview
      PXCE SDAM STANDALONE             Add Standalone Enc.
      PXCE SDAM DISPLAY DETAIL         Display Detail (DD)
      PXCE SDAM MENU                   Appointment Menu
      
   
 DATA DICTIONARY UPDATE
 ----------------------
 The following DD change was made to use the CPT^ICPTCOD API.
    - File 9000010.18, field .01 (CPT)
   
  Changes:-
   Old Input Transform:  S DIC("S")="I '$P($G(^ICPT(Y,0)),""^"",4)" D ^DIC
                         K DIC S DIC=DIE,X=+Y K:Y<0 X
      
   New Input Transform:  S DIC("S")="I $P($$CPT^ICPTCOD(+Y),""^"",7)" D ^DIC
                         K DIC S DIC=DIE,X=+Y K:Y<0 X
     
   Old Screen:           S DIC("S")="I '$P($G(^ICPT(Y,0)),""^"",4)"
    
   New Screen:           S DIC("S")="I $P($$CPT^ICPTCOD(+Y),""^"",7)"
 
   
 After Installation field .01 description would be as follows:-
 
 9000010.18,.01CPT        0;1 POINTER TO CPT FILE (#81) 
 (Required)
  
       INPUT TRANSFORM:  S DIC("S")="I $P($$CPT^ICPTCOD(+Y),""^"",7)" D
                         ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
           LAST EDITED:  MAY 27, 2004
           HELP-PROMPT:  Enter a CPT code or the name of the procedure
                         done to the patient.
           DESCRIPTION:  This is the entry in the CPT file that most
                         closely represents the clinical procedure done
                         to the patient during the encounter.  The
                         preferred text for the procedure performed may
                         be specified in the Provider Narrative field.
  
                         This field is used for Administrative and 
                         Clinical purposes.  If a procedure performed is
                         to be billable, the CPT code must be specified
                         here.
  
           SCREEN:       S DIC("S")="I $P($$CPT^ICPTCOD(+Y),""^"",7)"
           EXPLANATION:  Only active CPTs
           NOTES:        XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER
  
           CROSS-REFERENCE:  9000010.18^B
                               1)= S ^AUPNVCPT("B",$E(X,1,30),DA)=""
                               2)= K ^AUPNVCPT("B",$E(X,1,30),DA)
  
           CROSS-REFERENCE:  9000010.18^AATOO^MUMPS
                               1)= I $P(^AUPNVCPT(DA,0),U,2)]"",$P(^(0),U,3)]"
                               " S ^AUPNVCPT("AA",$P(^AUPNVCPT(DA,0),U,2),X,(9
                               999999-$P(+^AUPNVSIT($P(^AUPNVCPT(DA,0),U,3),0)
                               ,".",1)),DA)=""
  
                               2)= I $P(^AUPNVCPT(DA,0),U,2)]"",$P(^(0),U,3)]"
                               " K ^AUPNVCPT("AA",$P(^AUPNVCPT(DA,0),U,2),X,(9
                               999999-$P(+^AUPNVSIT($P(^AUPNVCPT(DA,0),U,3),0)
                               ,".",1)),DA)
                               This cross reference is used for searches in
                               sequence by Patient, CPT internal entry number,
                               inverted visit date, and internal entry number.
  
                               "AA",PATIENT,CPT,VISIT,DA
    
 Test Sites
 ----------
 Greater LA
 Hines
 Loma Linda
 Madison
 Puget Sound
    
     
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
      <tab>;;1.0;PCE PATIENT CARE ENCOUNTER;**[patch list]**;Aug 12, 1996
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  AUPNSICD                359325               505233           121,149
  PXAICPT                5763653              5821201      19,73,108,112,149
  PXBGCPT                2217272              2270044           73,149
  PXBGCPT2               8927495              9143467        11,19,108,149
  PXBGPOV                3337347              3374254         11,112,149
  PXBGPOV2               9019147              8999898      1,5,11,136,149
  PXBPCPT               10708939             10859136   11,73,89,112,121,132
                                                                  149
  PXBPMOD                1376443              1439679      73,88,89,108,121
                                                                  149
  PXBPPOV                9422313              9549111      11,28,92,121,149
  PXBSTOR                7568411              7612031          73,88,149
  PXCEPOV1               5706679              5829184          134,149
  PXUTL1                 3858119              4164735         25,134,149
      
    
 SOFTWARE AND DOCUMENTATION RETRIEVAL
 ====================================
 The software for this patch is not being distributed through the National
 Patch Module.  This patch is being distributed as a host file.  The host
 file is a multi-package build containing five (5) KIDS builds.
  
          Host file name: CTD_MS_1_0.KID
     Multi-Package Build: CTD MS 1.0
                  Builds: EC*2.0*63
                        : PX*1.0*149
                        : SD*5.3*351
                        : DG*5.3*606
                        : IB*2.0*266
  
 Sites may retrieve the software and documentation directly using FTP
 from the ANONYMOUS.SOFTWARE directory at the following OI Field Offices:
  
             Albany: ftp.fo-albany.med.va.gov
              Hines: ftp.fo-hines.med.va.gov
     Salt Lake City: ftp.fo-slc.med.va.gov
  
  The following files will be available:
  
     File Name                         Description
     ---------                         -----------
     CTD_MS_1_0.KID                    Host file containing KIDS software
                                       distribution
     CTD_Install_Guide_1_0.pdf         Code Text Descriptors (CTD)
                                       Installation Guide
     EC2_0P63.EXE                      Event Capture GUI
  
     * Note: Use ASCII mode when transferring the .KID file.  Use Binary
             mode when transferring the .EXE and .PDF files.  The .PDF files
             can be read on a PC using the Adobe Acrobat Reader program.
    
     
 INSTALLATION INSTRUCTIONS:
 =========================
 This patch can be installed with users on the system, however it should
 be installed during off hours to minimize disruption to users.
  
 This patch affects the check-out process and must be installed when the
 SCDX AMBCAR NIGHTLY XMIT background job is not running.  Installation will
 take less than 10 minutes.
  
 Note: The following is a list of REQUIRED builds for this multi-package
       distribution.  KIDS will not allow the installation of this patch
       without the prior installation of them.
  
             DG*5.3*158     DG*5.3*243     DG*5.3*511    DG*5.3*594
             DG*5.3*599     EC*2*55        EC*2*56       EC*2*62
             IB*2*115       IB*2*210       IB*2*245      ICD*18*12
             ICPT*6*19      PX*1.0*136     PX*1.0*134    SD*5.3*324
             SD*5.3*329
    
    
  1. Download the KIDS file CTD_MS_1_0.KID from the ANONYMOUS.SOFTWARE 
     directory of either Albany, Hines or the Salt Lake OIFO to the 
     appropriate directory on your system.
  
  2. Use LOAD A DISTRIBUTION option on the KIDS INSTALLATION menu, and
     enter: CTD_MS_1_0.KID
  
  3. Review your mapped set.  If any of the routines listed in the
     ROUTINE SUMMARY section are mapped, they should be removed
     from the mapped set at this time.
  
  4. From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
  5. From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter the appropriate patch
     designation - EC*2.0*63, PX*1.0*149, SD*5.3*351, DG*5.3*606 and
     IB*2.0*266):
  
       a.  Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch.  It will NOT
           backup any other changes such as DDs or templates.
       b.  Compare Transport Global to Current System  - this option will
           allow you to view all changes that will be made when the patch
           is installed.  It compares all components of the patch
           (routines, DDs, templates, etc.).
       c.  Verify Checksums in Transport Global - this option will
           allow you to ensure the integrity of the routines that are in
           the transport global.
       d.  Print Transport Global - this option will allow you to view the
           components of the KIDS build.
  
  6. Use the Install Package(s) option and select the package CTD MS 1.0.
  
  7. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//',respond NO.
  
  8. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond YES.  When prompted to select the
     options you would like to place out of order, enter the following:
  
       DG PTF MENU                      PTF Menu
       DG REGISTRATION 10/10 REPRINT    10/10 Print without New Registration
       ECMENU                           Event Capture Menu
       EC GUI CONTEXT                   EC GUI Context
       PXCE ENCOUNTER DATA ENTRY        PCE Encounter Data Entry
       PXCE ENCOUNTER ENTRY & DELETE    PCE Encounter Data Entry & Delete
       PXCE ENCOUNTER ENTRY NO DELETE   PCE Encounter Entry Without Delete
       PXCE ENCOUNTER ENTRY SUPER       PCE Encounter Data Entry -
                                        Supervisor
       SCDX AMBCAR NIGHTLY XMIT         Ambulatory Care Nightly
                                        Transmission to NPCDB
       SDAM APPT MGT                    Appointment Management
       SDAM APPT CHECK IN/OUT           Appointment Check-in/Check-out
       SDADDEDIT                        Add/Edit Stop Codes
       SDAPP                            Appointment Menu
       SDI                              Check-in/Unsched. Visit
       SDM                              Make Appointment
  
  9. If routines were unmapped as part of step 3, they should be
     returned to the mapped set once the installation has run to
     completion.

Routine Information:
====================

Routine Name:
  - PXBPPOV


Routine Checksum:

Routine Name:
  - PXBGCPT


Routine Checksum:

Routine Name:
  - PXBPCPT


Routine Checksum:

Routine Name:
  - PXBSTOR


Routine Checksum:

Routine Name:
  - PXAICPT


Routine Checksum:

Routine Name:
  - PXUTL1


Routine Checksum:

Routine Name:
  - AUPNSICD


Routine Checksum:

Routine Name:
  - PXBGCPT2


Routine Checksum:

Routine Name:
  - PXBGPOV


Routine Checksum:

Routine Name:
  - PXBGPOV2


Routine Checksum:

Routine Name:
  - PXCEPOV1


Routine Checksum:

Routine Name:
  - PXBPMOD


Routine Checksum:

=============================================================================
User Information:
Entered By  : MORRISON,JENNIFER             Date Entered  : MAY 18, 2004
Completed By: LAVERTY,TIM                   Date Completed: OCT 06, 2004
Released By : GROOMS,ANTHONY E              Date Released : OCT 08, 2004
=============================================================================


Packman Mail Message:
=====================

No routines included
