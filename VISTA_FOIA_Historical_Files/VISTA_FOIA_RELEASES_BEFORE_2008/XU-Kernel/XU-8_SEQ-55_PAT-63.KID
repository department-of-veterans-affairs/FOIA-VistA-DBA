Released XU*8*63 SEQ #55
Extracted from mail message
**KIDS**:XU*8.0*63^

**INSTALL NAME**
XU*8.0*63
"BLD",114,0)
XU*8.0*63^KERNEL^0^2970422^n
"BLD",114,1,0)
^^67^67^2970508^
"BLD",114,1,1,0)
This patch was requested because of different errors that needed to be 
"BLD",114,1,2,0)
screened at the OpenM site.
"BLD",114,1,3,0)

"BLD",114,1,4,0)
This patch updates the error routines and Taskman to use a common place to
"BLD",114,1,5,0)
check to see if errors should NOT be recorded or should be screened from
"BLD",114,1,6,0)
the normal XTER listing.  The current ERROR MESSAGE file has been enhanced
"BLD",114,1,7,0)
to control this action.  The %ZTER routine checks the list and will not
"BLD",114,1,8,0)
record errors that are flagged not to record.
"BLD",114,1,9,0)
 
"BLD",114,1,10,0)
Sites can add their own entries to the file.  There is a field to allow
"BLD",114,1,11,0)
the advanced strings that Taskman has been using.  Current entries in
"BLD",114,1,12,0)
Taskmans error screen file are moved to the new file as part of the
"BLD",114,1,13,0)
install.
"BLD",114,1,14,0)

"BLD",114,1,15,0)
                 Checksum
"BLD",114,1,16,0)
Routine         Old       New      2nd Line
"BLD",114,1,17,0)
XTER         17066911  17970380    **63**
"BLD",114,1,18,0)
XTER1A       16667281  16315266    **63**
"BLD",114,1,19,0)
XUINPCH       2465171   3137390    **20,36,49,63**
"BLD",114,1,20,0)
XUTMKE1       5103401   3519416    **63**
"BLD",114,1,21,0)
XUTMKE2       9221275   2696336    **63**
"BLD",114,1,22,0)
ZTER         18727059  19357862    **8,18,32,24,36,34,63**
"BLD",114,1,23,0)

"BLD",114,1,24,0)
========================================================================= 
"BLD",114,1,25,0)
Installation:
"BLD",114,1,26,0)
 
"BLD",114,1,27,0)
1.  There is no need for these routines to be mapped on systems that allow
"BLD",114,1,28,0)
mapping.
"BLD",114,1,29,0)
 
"BLD",114,1,30,0)
2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"BLD",114,1,31,0)
option will load the KIDS package onto your system.
"BLD",114,1,32,0)
 
"BLD",114,1,33,0)
3.  The patch has now been loaded into a Transport global on your system.
"BLD",114,1,34,0)
You now need to use KIDS to install the Transport global.
"BLD",114,1,35,0)
On the KIDS menu, under the 'Installation' menu, use the following
"BLD",114,1,36,0)
options:
"BLD",114,1,37,0)
          Verify Checksums in Transport Global
"BLD",114,1,38,0)
          Print Transport Global
"BLD",114,1,39,0)
          Compare Transport Global to Current System
"BLD",114,1,40,0)
          Backup a Transport Global
"BLD",114,1,41,0)
  
"BLD",114,1,42,0)
4.  Users can remain on the system. This patch can be queued and
"BLD",114,1,43,0)
installed at any time.  
"BLD",114,1,44,0)

"BLD",114,1,45,0)
5.  On the KIDS menu, under the 'Installation' menu, use the following
"BLD",114,1,46,0)
option:
"BLD",114,1,47,0)
          Install Package(s)  'XU*8.0*63'
"BLD",114,1,48,0)
                               =========
"BLD",114,1,49,0)
 
"BLD",114,1,50,0)
6.  MSM Sites - Answer YES to the question 'Want to MOVE routines to other
"BLD",114,1,51,0)
CPUs?'. Enter the names of your Compute and Print server(s).
"BLD",114,1,52,0)
       
"BLD",114,1,53,0)
7.  After installing this patch, you need to move one routine from 
"BLD",114,1,54,0)
      your production account to each manager account:
"BLD",114,1,55,0)
      ZTER
"BLD",114,1,56,0)
    
"BLD",114,1,57,0)
      And in the manager account,
"BLD",114,1,58,0)
       
"BLD",114,1,59,0)
      DO RELOAD^ZTMGRSET
"BLD",114,1,60,0)
      Select the System
"BLD",114,1,61,0)
      Patch number to load: 63
"BLD",114,1,62,0)
                            ==
"BLD",114,1,63,0)
      MSM Site - Move these MGR routines to your other CPU's.
"BLD",114,1,64,0)
       
"BLD",114,1,65,0)

"BLD",114,1,66,0)
=========================================================================
"BLD",114,1,67,0)

"BLD",114,4,0)
^9.64PA^3.076^1
"BLD",114,4,3.076,0)
3.076
"BLD",114,4,3.076,222)
y^y^f^^n^^y^o^n
"BLD",114,4,"B",3.076,3.076)

"BLD",114,"INIT")
POST63^XUINPCH
"BLD",114,"KRN",0)
^9.67PA^19^18
"BLD",114,"KRN",.4,0)
.4
"BLD",114,"KRN",.401,0)
.401
"BLD",114,"KRN",.402,0)
.402
"BLD",114,"KRN",.403,0)
.403
"BLD",114,"KRN",.5,0)
.5
"BLD",114,"KRN",.84,0)
.84
"BLD",114,"KRN",3.6,0)
3.6
"BLD",114,"KRN",3.8,0)
3.8
"BLD",114,"KRN",9.2,0)
9.2
"BLD",114,"KRN",9.8,0)
9.8
"BLD",114,"KRN",9.8,"NM",0)
^9.68A^5^5
"BLD",114,"KRN",9.8,"NM",1,0)
XTER^^0^B27945816
"BLD",114,"KRN",9.8,"NM",2,0)
XTER1A^^0^B26939504
"BLD",114,"KRN",9.8,"NM",3,0)
ZTER^^0^B28189331
"BLD",114,"KRN",9.8,"NM",4,0)
XUTMKE1^^0^B6089789
"BLD",114,"KRN",9.8,"NM",5,0)
XUTMKE2^^0^B5034084
"BLD",114,"KRN",9.8,"NM","B","XTER",1)

"BLD",114,"KRN",9.8,"NM","B","XTER1A",2)

"BLD",114,"KRN",9.8,"NM","B","XUTMKE1",4)

"BLD",114,"KRN",9.8,"NM","B","XUTMKE2",5)

"BLD",114,"KRN",9.8,"NM","B","ZTER",3)

"BLD",114,"KRN",19,0)
19
"BLD",114,"KRN",19.1,0)
19.1
"BLD",114,"KRN",101,0)
101
"BLD",114,"KRN",409.61,0)
409.61
"BLD",114,"KRN",771,0)
771
"BLD",114,"KRN",869.2,0)
869.2
"BLD",114,"KRN",870,0)
870
"BLD",114,"KRN",8994,0)
8994
"BLD",114,"KRN","B",.4,.4)

"BLD",114,"KRN","B",.401,.401)

"BLD",114,"KRN","B",.402,.402)

"BLD",114,"KRN","B",.403,.403)

"BLD",114,"KRN","B",.5,.5)

"BLD",114,"KRN","B",.84,.84)

"BLD",114,"KRN","B",3.6,3.6)

"BLD",114,"KRN","B",3.8,3.8)

"BLD",114,"KRN","B",9.2,9.2)

"BLD",114,"KRN","B",9.8,9.8)

"BLD",114,"KRN","B",19,19)

"BLD",114,"KRN","B",19.1,19.1)

"BLD",114,"KRN","B",101,101)

"BLD",114,"KRN","B",409.61,409.61)

"BLD",114,"KRN","B",771,771)

"BLD",114,"KRN","B",869.2,869.2)

"BLD",114,"KRN","B",870,870)

"BLD",114,"KRN","B",8994,8994)

"DATA",3.076,1,0)
CMMND^P^^^1
"DATA",3.076,1,1,0)
^3.0761A^1^1
"DATA",3.076,1,1,1,0)
2
"DATA",3.076,2,0)
DBDGD^F^^^1
"DATA",3.076,2,1,0)
^3.0761A^2^2
"DATA",3.076,2,1,1,0)
2
"DATA",3.076,2,1,2,0)
16
"DATA",3.076,3,0)
DBOVF^F^^^1
"DATA",3.076,3,1,0)
^3.0761A^1^1
"DATA",3.076,3,1,1,0)
2
"DATA",3.076,4,0)
DIVER^P^^^1
"DATA",3.076,4,1,0)
^3.0761A^1^1
"DATA",3.076,4,1,1,0)
2
"DATA",3.076,5,0)
DKHER^H^^^1
"DATA",3.076,5,1,0)
^3.0761A^2^2
"DATA",3.076,5,1,1,0)
2
"DATA",3.076,5,1,2,0)
16
"DATA",3.076,6,0)
DKRES^H^^^1
"DATA",3.076,6,1,0)
^3.0761A^1^1
"DATA",3.076,6,1,1,0)
2
"DATA",3.076,7,0)
DKSER^H^^^1
"DATA",3.076,7,1,0)
^3.0761A^2^2
"DATA",3.076,7,1,1,0)
2
"DATA",3.076,7,1,2,0)
16
"DATA",3.076,8,0)
FUNCT^P^^^1
"DATA",3.076,8,1,0)
^3.0761A^1^1
"DATA",3.076,8,1,1,0)
2
"DATA",3.076,9,0)
INDER^P^^^1
"DATA",3.076,9,1,0)
^3.0761A^1^1
"DATA",3.076,9,1,1,0)
2
"DATA",3.076,10,0)
INRPT^D^^^1
"DATA",3.076,10,1,0)
^3.0761A^1^1
"DATA",3.076,10,1,1,0)
2
"DATA",3.076,11,0)
ABORT^D^^^1
"DATA",3.076,11,1,0)
^3.0761A^1^1
"DATA",3.076,11,1,1,0)
2
"DATA",3.076,12,0)
LINER^P^^^1
"DATA",3.076,12,1,0)
^3.0761A^1^1
"DATA",3.076,12,1,1,0)
2
"DATA",3.076,13,0)
LVLER^P^^^1
"DATA",3.076,13,1,0)
^3.0761A^1^1
"DATA",3.076,13,1,1,0)
2
"DATA",3.076,14,0)
MINIM^D^^^1
"DATA",3.076,14,1,0)
^3.0761A^1^1
"DATA",3.076,14,1,1,0)
2
"DATA",3.076,15,0)
MXNUM^P^^^1
"DATA",3.076,15,1,0)
^3.0761A^1^1
"DATA",3.076,15,1,1,0)
2
"DATA",3.076,16,0)
MXSTR^P^^^1
"DATA",3.076,16,1,0)
^3.0761A^1^1
"DATA",3.076,16,1,1,0)
2
"DATA",3.076,17,0)
NAKED^P^^^1
"DATA",3.076,17,1,0)
^3.0761A^1^1
"DATA",3.076,17,1,1,0)
2
"DATA",3.076,18,0)
NODEV^P^^^1
"DATA",3.076,18,1,0)
^3.0761A^1^1
"DATA",3.076,18,1,1,0)
2
"DATA",3.076,19,0)
NOPEN^P^^^1
"DATA",3.076,19,1,0)
^3.0761A^1^1
"DATA",3.076,19,1,1,0)
2
"DATA",3.076,20,0)
NOPGM^P^^^1
"DATA",3.076,20,1,0)
^3.0761A^1^1
"DATA",3.076,20,1,1,0)
2
"DATA",3.076,21,0)
NOSYS^H^^^1
"DATA",3.076,21,1,0)
^3.0761A^1^1
"DATA",3.076,21,1,1,0)
2
"DATA",3.076,22,0)
NOUCI^P^^^1
"DATA",3.076,22,1,0)
^3.0761A^1^1
"DATA",3.076,22,1,1,0)
2
"DATA",3.076,23,0)
PROT^P^^^1
"DATA",3.076,23,1,0)
^3.0761A^2^2
"DATA",3.076,23,1,1,0)
2
"DATA",3.076,23,1,2,0)
16
"DATA",3.076,24,0)
SBSCR^P^^^1
"DATA",3.076,24,1,0)
^3.0761A^1^1
"DATA",3.076,24,1,1,0)
2
"DATA",3.076,25,0)
STKOV^P^^^1
"DATA",3.076,25,1,0)
^3.0761A^1^1
"DATA",3.076,25,1,1,0)
2
"DATA",3.076,26,0)
STORE^P^^^1
"DATA",3.076,26,1,0)
^3.0761A^1^1
"DATA",3.076,26,1,1,0)
2
"DATA",3.076,27,0)
SYNTX^P^^^1
"DATA",3.076,27,1,0)
^3.0761A^1^1
"DATA",3.076,27,1,1,0)
2
"DATA",3.076,28,0)
UNDEF^P^^^1
"DATA",3.076,28,1,0)
^3.0761A^2^2
"DATA",3.076,28,1,1,0)
2
"DATA",3.076,28,1,2,0)
16
"DATA",3.076,29,0)
$SERR^P^^^1
"DATA",3.076,29,1,0)
^3.0761A^1^1
"DATA",3.076,29,1,1,0)
2
"DATA",3.076,30,0)
ALLOC^P^^^1
"DATA",3.076,30,1,0)
^3.0761A^2^2
"DATA",3.076,30,1,1,0)
16
"DATA",3.076,30,1,2,0)
16
"DATA",3.076,31,0)
ARGERR^P^^^1
"DATA",3.076,31,1,0)
^3.0761A^1^1
"DATA",3.076,31,1,1,0)
16
"DATA",3.076,32,0)
ATOM^P^^^1
"DATA",3.076,32,1,0)
^3.0761A^1^1
"DATA",3.076,32,1,1,0)
16
"DATA",3.076,33,0)
BUG^H^^^1
"DATA",3.076,33,1,0)
^3.0761A^1^1
"DATA",3.076,33,1,1,0)
16
"DATA",3.076,34,0)
CLOSEP^P^^^1
"DATA",3.076,34,1,0)
^3.0761A^1^1
"DATA",3.076,34,1,1,0)
16
"DATA",3.076,35,0)
CLOSERR^P^^^1
"DATA",3.076,35,1,0)
^3.0761A^1^1
"DATA",3.076,35,1,1,0)
16
"DATA",3.076,36,0)
COMAND^P^^^1
"DATA",3.076,36,1,0)
^3.0761A^1^1
"DATA",3.076,36,1,1,0)
16
"DATA",3.076,37,0)
CTLC^D^^^1
"DATA",3.076,37,1,0)
^3.0761A^1^1
"DATA",3.076,37,1,1,0)
16
"DATA",3.076,38,0)
CTRAP^D^^^1
"DATA",3.076,38,1,0)
^3.0761A^1^1
"DATA",3.076,38,1,1,0)
16
"DATA",3.076,39,0)
DEVALLOC^H^^^1
"DATA",3.076,39,1,0)
^3.0761A^1^1
"DATA",3.076,39,1,1,0)
16
"DATA",3.076,40,0)
DEVNOTOPN^P^^^1
"DATA",3.076,40,1,0)
^3.0761A^1^1
"DATA",3.076,40,1,1,0)
16
"DATA",3.076,41,0)
DEVOPN^D^^^1
"DATA",3.076,41,1,0)
^3.0761A^1^1
"DATA",3.076,41,1,1,0)
16
"DATA",3.076,42,0)
DKFULL^H^^^1
"DATA",3.076,42,1,0)
^3.0761A^1^1
"DATA",3.076,42,1,1,0)
16
"DATA",3.076,43,0)
DKOVER^F^^^1
"DATA",3.076,43,1,0)
^3.0761A^1^1
"DATA",3.076,43,1,1,0)
16
"DATA",3.076,44,0)
EQUALS^P^^^1
"DATA",3.076,44,1,0)
^3.0761A^1^1
"DATA",3.076,44,1,1,0)
16
"DATA",3.076,45,0)
FINDERR^D^^^1
"DATA",3.076,45,1,0)
^3.0761A^1^1
"DATA",3.076,45,1,1,0)
16
"DATA",3.076,46,0)
FRAME^H^^^1
"DATA",3.076,46,1,0)
^3.0761A^1^1
"DATA",3.076,46,1,1,0)
16
"DATA",3.076,47,0)
FUNC^P^^^1
"DATA",3.076,47,1,0)
^3.0761A^1^1
"DATA",3.076,47,1,1,0)
16
"DATA",3.076,48,0)
GLSRDERR^H^^^1
"DATA",3.076,48,1,0)
^3.0761A^1^1
"DATA",3.076,48,1,1,0)
16
"DATA",3.076,49,0)
ILLBRK^D^^^1
"DATA",3.076,49,1,0)
^3.0761A^1^1
"DATA",3.076,49,1,1,0)
16
"DATA",3.076,50,0)
ILLOPT^P^^^1
"DATA",3.076,50,1,0)
^3.0761A^1^1
"DATA",3.076,50,1,1,0)
16
"DATA",3.076,51,0)
INVSUBSCR^P^^^1
"DATA",3.076,51,1,0)
^3.0761A^1^1
"DATA",3.076,51,1,1,0)
16
"DATA",3.076,52,0)
LABEL^P^^^1
"DATA",3.076,52,1,0)
^3.0761A^1^1
"DATA",3.076,52,1,1,0)
16
"DATA",3.076,53,0)
LEVEL^P^^^1
"DATA",3.076,53,1,0)
^3.0761A^1^1
"DATA",3.076,53,1,1,0)
16
"DATA",3.076,54,0)
LITERAL^P^^^1
"DATA",3.076,54,1,0)
^3.0761A^1^1
"DATA",3.076,54,1,1,0)
16
"DATA",3.076,55,0)
NAKEDERR^P^^^1
"DATA",3.076,55,1,0)
^3.0761A^1^1
"DATA",3.076,55,1,1,0)
16
"DATA",3.076,56,0)
NAME^P^^^1
"DATA",3.076,56,1,0)
^3.0761A^1^1
"DATA",3.076,56,1,1,0)
16
"DATA",3.076,57,0)
NOCOMPGM^P^^^1
"DATA",3.076,57,1,0)
^3.0761A^1^1
"DATA",3.076,57,1,1,0)
16
"DATA",3.076,58,0)
NOPRIV^H^^^1
"DATA",3.076,58,1,0)
^3.0761A^1^1
"DATA",3.076,58,1,1,0)
16
"DATA",3.076,59,0)
NOSOURCE^H^^^1
"DATA",3.076,59,1,0)
^3.0761A^1^1
"DATA",3.076,59,1,1,0)
16
"DATA",3.076,60,0)
NOSUCHPGM^H^^^1
"DATA",3.076,60,1,0)
^3.0761A^1^1
"DATA",3.076,60,1,1,0)
16
"DATA",3.076,61,0)
NOSUCHUCI^H^^^1
"DATA",3.076,61,1,0)
^3.0761A^1^1
"DATA",3.076,61,1,1,0)
16
"DATA",3.076,62,0)
NUMBER^P^^^1
"DATA",3.076,62,1,0)
^3.0761A^1^1
"DATA",3.076,62,1,1,0)
16
"DATA",3.076,63,0)
OPENERR^P^^^1
"DATA",3.076,63,1,0)
^3.0761A^1^1
"DATA",3.076,63,1,1,0)
16
"DATA",3.076,64,0)
PATTERN^P^^^1
"DATA",3.076,64,1,0)
^3.0761A^1^1
"DATA",3.076,64,1,1,0)
16
"DATA",3.076,65,0)
PNAME^P^^^1
"DATA",3.076,65,1,0)
^3.0761A^1^1
"DATA",3.076,65,1,1,0)
16
"DATA",3.076,66,0)
PROG^H^^^1
"DATA",3.076,66,1,0)
^3.0761A^1^1
"DATA",3.076,66,1,1,0)
16
"DATA",3.076,67,0)
READERR^H^^^1
"DATA",3.076,67,1,0)
^3.0761A^1^1
"DATA",3.076,67,1,1,0)
16
"DATA",3.076,68,0)
RETURN^H^^^1
"DATA",3.076,68,1,0)
^3.0761A^1^1
"DATA",3.076,68,1,1,0)
16
"DATA",3.076,69,0)
STKOVR^P^^^1
"DATA",3.076,69,1,0)
^3.0761A^1^1
"DATA",3.076,69,1,1,0)
16
"DATA",3.076,70,0)
STRLEN^P^^^1
"DATA",3.076,70,1,0)
^3.0761A^1^1
"DATA",3.076,70,1,1,0)
16
"DATA",3.076,71,0)
SYNTAX^P^^^1
"DATA",3.076,71,1,0)
^3.0761A^1^1
"DATA",3.076,71,1,1,0)
16
"DATA",3.076,72,0)
READ^I^^^1
"DATA",3.076,72,1,0)
^3.0761A^2^2
"DATA",3.076,72,1,1,0)
16
"DATA",3.076,72,1,2,0)
18
"DATA",3.076,73,0)
SYSERR^H^^^1
"DATA",3.076,73,1,0)
^3.0761A^1^1
"DATA",3.076,73,1,1,0)
16
"DATA",3.076,74,0)
TARGET^P^^^1
"DATA",3.076,74,1,0)
^3.0761A^1^1
"DATA",3.076,74,1,1,0)
16
"DATA",3.076,75,0)
USERR^P^^^1
"DATA",3.076,75,1,0)
^3.0761A^1^1
"DATA",3.076,75,1,1,0)
16
"DATA",3.076,76,0)
VIEWERR^P^^^1
"DATA",3.076,76,1,0)
^3.0761A^1^1
"DATA",3.076,76,1,1,0)
16
"DATA",3.076,77,0)
WRITERR^H^^^1
"DATA",3.076,77,1,0)
^3.0761A^1^1
"DATA",3.076,77,1,1,0)
16
"DATA",3.076,78,0)
ZCFATAL^H^^^1
"DATA",3.076,78,1,0)
^3.0761A^1^1
"DATA",3.076,78,1,1,0)
16
"DATA",3.076,79,0)
<DSCON>^H^^^1
"DATA",3.076,79,1,0)
^3.0761A^^0
"DATA",3.076,80,0)
ECODETRAP^P^^^1
"DATA",3.076,81,0)
WRITE^I^^^1
"DATA",3.076,82,0)
NOROUTINE^F
"DATA",3.076,83,0)
SYNTAX1^P
"DATA",3.076,83,1,0)
^3.0761A^1^1
"DATA",3.076,83,1,1,0)
16
"FIA",3.076)
ERROR MESSAGES
"FIA",3.076,0)
^%ZTER(2,
"FIA",3.076,0,0)
3.076
"FIA",3.076,0,1)
y^y^f^^n^^y^o^n
"FIA",3.076,0,10)

"FIA",3.076,0,11)

"FIA",3.076,0,"RLRO")

"FIA",3.076,0,"VR")
8.0^XU
"FIA",3.076,3.076)
0
"FIA",3.076,3.0761)
0
"INIT")
POST63^XUINPCH
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^XUDOCV7 NEW FEATURES
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^2950703^2951018^4
"PKG",3,22,1,"PAH",1,0)
63^2970422
"PKG",3,22,1,"PAH",1,1,0)
^^67^67^2970508
"PKG",3,22,1,"PAH",1,1,1,0)
This patch was requested because of different errors that needed to be 
"PKG",3,22,1,"PAH",1,1,2,0)
screened at the OpenM site.
"PKG",3,22,1,"PAH",1,1,3,0)

"PKG",3,22,1,"PAH",1,1,4,0)
This patch updates the error routines and Taskman to use a common place to
"PKG",3,22,1,"PAH",1,1,5,0)
check to see if errors should NOT be recorded or should be screened from
"PKG",3,22,1,"PAH",1,1,6,0)
the normal XTER listing.  The current ERROR MESSAGE file has been enhanced
"PKG",3,22,1,"PAH",1,1,7,0)
to control this action.  The %ZTER routine checks the list and will not
"PKG",3,22,1,"PAH",1,1,8,0)
record errors that are flagged not to record.
"PKG",3,22,1,"PAH",1,1,9,0)
 
"PKG",3,22,1,"PAH",1,1,10,0)
Sites can add their own entries to the file.  There is a field to allow
"PKG",3,22,1,"PAH",1,1,11,0)
the advanced strings that Taskman has been using.  Current entries in
"PKG",3,22,1,"PAH",1,1,12,0)
Taskmans error screen file are moved to the new file as part of the
"PKG",3,22,1,"PAH",1,1,13,0)
install.
"PKG",3,22,1,"PAH",1,1,14,0)

"PKG",3,22,1,"PAH",1,1,15,0)
                 Checksum
"PKG",3,22,1,"PAH",1,1,16,0)
Routine         Old       New      2nd Line
"PKG",3,22,1,"PAH",1,1,17,0)
XTER         17066911  17970380    **63**
"PKG",3,22,1,"PAH",1,1,18,0)
XTER1A       16667281  16315266    **63**
"PKG",3,22,1,"PAH",1,1,19,0)
XUINPCH       2465171   3137390    **20,36,49,63**
"PKG",3,22,1,"PAH",1,1,20,0)
XUTMKE1       5103401   3519416    **63**
"PKG",3,22,1,"PAH",1,1,21,0)
XUTMKE2       9221275   2696336    **63**
"PKG",3,22,1,"PAH",1,1,22,0)
ZTER         18727059  19357862    **8,18,32,24,36,34,63**
"PKG",3,22,1,"PAH",1,1,23,0)

"PKG",3,22,1,"PAH",1,1,24,0)
========================================================================= 
"PKG",3,22,1,"PAH",1,1,25,0)
Installation:
"PKG",3,22,1,"PAH",1,1,26,0)
 
"PKG",3,22,1,"PAH",1,1,27,0)
1.  There is no need for these routines to be mapped on systems that allow
"PKG",3,22,1,"PAH",1,1,28,0)
mapping.
"PKG",3,22,1,"PAH",1,1,29,0)
 
"PKG",3,22,1,"PAH",1,1,30,0)
2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
"PKG",3,22,1,"PAH",1,1,31,0)
option will load the KIDS package onto your system.
"PKG",3,22,1,"PAH",1,1,32,0)
 
"PKG",3,22,1,"PAH",1,1,33,0)
3.  The patch has now been loaded into a Transport global on your system.
"PKG",3,22,1,"PAH",1,1,34,0)
You now need to use KIDS to install the Transport global.
"PKG",3,22,1,"PAH",1,1,35,0)
On the KIDS menu, under the 'Installation' menu, use the following
"PKG",3,22,1,"PAH",1,1,36,0)
options:
"PKG",3,22,1,"PAH",1,1,37,0)
          Verify Checksums in Transport Global
"PKG",3,22,1,"PAH",1,1,38,0)
          Print Transport Global
"PKG",3,22,1,"PAH",1,1,39,0)
          Compare Transport Global to Current System
"PKG",3,22,1,"PAH",1,1,40,0)
          Backup a Transport Global
"PKG",3,22,1,"PAH",1,1,41,0)
  
"PKG",3,22,1,"PAH",1,1,42,0)
4.  Users can remain on the system. This patch can be queued and
"PKG",3,22,1,"PAH",1,1,43,0)
installed at any time.  
"PKG",3,22,1,"PAH",1,1,44,0)

"PKG",3,22,1,"PAH",1,1,45,0)
5.  On the KIDS menu, under the 'Installation' menu, use the following
"PKG",3,22,1,"PAH",1,1,46,0)
option:
"PKG",3,22,1,"PAH",1,1,47,0)
          Install Package(s)  'XU*8.0*63'
"PKG",3,22,1,"PAH",1,1,48,0)
                               =========
"PKG",3,22,1,"PAH",1,1,49,0)
 
"PKG",3,22,1,"PAH",1,1,50,0)
6.  MSM Sites - Answer YES to the question 'Want to MOVE routines to other
"PKG",3,22,1,"PAH",1,1,51,0)
CPUs?'. Enter the names of your Compute and Print server(s).
"PKG",3,22,1,"PAH",1,1,52,0)
       
"PKG",3,22,1,"PAH",1,1,53,0)
7.  After installing this patch, you need to move one routine from 
"PKG",3,22,1,"PAH",1,1,54,0)
      your production account to each manager account:
"PKG",3,22,1,"PAH",1,1,55,0)
      ZTER
"PKG",3,22,1,"PAH",1,1,56,0)
    
"PKG",3,22,1,"PAH",1,1,57,0)
      And in the manager account,
"PKG",3,22,1,"PAH",1,1,58,0)
       
"PKG",3,22,1,"PAH",1,1,59,0)
      DO RELOAD^ZTMGRSET
"PKG",3,22,1,"PAH",1,1,60,0)
      Select the System
"PKG",3,22,1,"PAH",1,1,61,0)
      Patch number to load: 63
"PKG",3,22,1,"PAH",1,1,62,0)
                            ==
"PKG",3,22,1,"PAH",1,1,63,0)
      MSM Site - Move these MGR routines to your other CPU's.
"PKG",3,22,1,"PAH",1,1,64,0)
       
"PKG",3,22,1,"PAH",1,1,65,0)

"PKG",3,22,1,"PAH",1,1,66,0)
=========================================================================
"PKG",3,22,1,"PAH",1,1,67,0)

"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","XTER")
0^1^B27945816
"RTN","XTER",1,0)
XTER ;ISC-SF.SEA/JLI - MODIFICATION OF %ER FOR USE WITH VAX DSM ;04/29/97  13:31
"RTN","XTER",2,0)
 ;;8.0;KERNEL;**63**;Jul 10, 1995
"RTN","XTER",3,0)
 K XTX,^TMP($J,"XTER"),^TMP($J,"XTERSCR"),XTPRNT,XTMES
"RTN","XTER",4,0)
 F I=0:0 S I=$O(^%ZTER(2,"AC",1,I)) Q:I'>0  S %=$P(^%ZTER(2,I,0),U),%=$S($G(^(2))]"":^(2),1:%),^TMP($J,"XTERSCR",%)=""
"RTN","XTER",5,0)
 S U="^",IOP="HOME" D ^%ZIS K IOP S:'$D(DTIME) DTIME=9999 S XTOUT=0
"RTN","XTER",6,0)
 W !!,"In response to the DATE prompt you can enter:" S XTF="" D 11 W !!
"RTN","XTER",7,0)
 ;
"RTN","XTER",8,0)
%XTZDAT U IO(0) S XTOUT=0 S:'($D(XTX)#2) XTX="T" S:XTX="^" XTX="" I 1 R:XTX="" !!,"Which date? > ",XTX:300 G END:'$T!(XTX="^")!(XTX=""),END:XTX="^Q"!(XTX="^q") S X=XTX,XTX="" G:X["?" DIS
"RTN","XTER",9,0)
 I "Ss"[X D SLIST^XTER2 G %XTZDAT
"RTN","XTER",10,0)
 S %XTZDAT=X D UDD^XTER2 I $D(XTERR),XTERR=1 D IR G %XTZDAT
"RTN","XTER",11,0)
 S %XTZDAT=$S(XTDTH<0:-XTDTH,1:XTDTH) K XTDTH G DO
"RTN","XTER",12,0)
DIS W !,"Errors have been logged on: "
"RTN","XTER",13,0)
 S XTFST=0,XTH=+$H,X=""
"RTN","XTER",14,0)
 S XTJJ=$O(^%ZTER(1,0)) Q:XTJJ'>0  F XTJ=$H:-1 Q:XTJJ>XTJ  I $D(^%ZTER(1,XTJ,0)) W $S(XTFST:", ",1:""),"T" S XTFST=1 W:XTJ'=XTH "-",XTH-XTJ W "(",$P(^%ZTER(1,XTJ,0),U,2),")"
"RTN","XTER",15,0)
 S XTF="3,4,11" D HELP
"RTN","XTER",16,0)
 G %XTZDAT
"RTN","XTER",17,0)
DO S XTNE=$D(^%ZTER(1,%XTZDAT)) I 'XTNE D E1 G %XTZDAT
"RTN","XTER",18,0)
 S XTNE=$P($G(^%ZTER(1,%XTZDAT,0)),U,2) D E1 S XTX="??"
"RTN","XTER",19,0)
XTERR S:'($D(XTX)#2) XTX="" S:XTX="^" XTX="" I 1 R:XTX="" !!,"Which error? >  ",XTX:300 G END:'$T!(XTX="^Q")!(XTX="^q"),%XTZDAT:XTX'?1N.N&($E(XTX)'="?") S X=XTX,XTX=""
"RTN","XTER",20,0)
 I X?1"???".E S XTD=0 D LST^XTER1A G XTERR
"RTN","XTER",21,0)
 I X?1"??".E S XTD=1 D LST^XTER1A G XTERR
"RTN","XTER",22,0)
 I X="?" D E1 S XTF="1,2,6,5,12,16" D HELP G XTERR
"RTN","XTER",23,0)
 I (X="?L")!(X="?l") D ALL^XUTMKE1 G XTERR
"RTN","XTER",24,0)
 I X'?1N.N D E1,IR G XTERR
"RTN","XTER",25,0)
 S %XTZNUM=X
"RTN","XTER",26,0)
 K %XTZLIN I '($D(^%ZTER(1,%XTZDAT,1,%XTZNUM,0))#2) W !,"Error not on File." W:%XTZNUM>$P(^%ZTER(1,%XTZDAT,0),U,2) "  Last error logged is ",$P(^%ZTER(1,%XTZDAT,0),U,2),"." G XTERR
"RTN","XTER",27,0)
 G ^XTER1
"RTN","XTER",28,0)
IR W !!,"Incorrect response - enter '?' for more information" Q
"RTN","XTER",29,0)
HELP ;
"RTN","XTER",30,0)
 W !!,"Enter:" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",31,0)
1 W !?5,"^Q to EXIT" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",32,0)
2 W !?5,"'^' to return to the last question" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",33,0)
3 W !?5,"'^Q'  or  '^'  or <RETURN> to quit" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",34,0)
4 W !?5,"Date as 'DD' or 'MM/DD' or 'MM/DD/YY' or 'T'  or 'T-1'",!?15,"(note: 'T' as in Today)" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",35,0)
12 W !?5,"??? to list all errors with $ZE, $I, $J, and Time" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",36,0)
6 W !?5,"Number of error desired" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",37,0)
7 W !?5,"^L to obtain a list of all symbols" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",38,0)
8 X ^%ZOSF("PROGMODE") W:Y !?5,"^R to restore the symbol table and ... and enter direct mode" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",39,0)
9 W !?5,"$ to get a display of the $ system variables" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",40,0)
10 W !?5,"Leading character(s) of symbol(s) you wish to examine" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",41,0)
11 W !?5,"'S' to specify text to be matched in error or routine name" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",42,0)
5 W !?5,"?? to list only those errors which are NOT SCREENED with $ZE, $I, $J,",!?15,"and Time" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",43,0)
13 W !?5,"^P to select a printer and print this error" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",44,0)
14 W !?5,"^M to capture the current error in a mail message" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",45,0)
15 W !?5,"^I to obtain information on key package variables" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",46,0)
16 W !?5,"?L to obtain a list of error screens that are in place" S XTFI=$P(XTF,","),XTF=$P(XTF,",",2,99) G:XTFI="" EHELP G @XTFI
"RTN","XTER",47,0)
EHELP K XTF,XTFI
"RTN","XTER",48,0)
 Q
"RTN","XTER",49,0)
E1 W !,$S(XTNE:XTNE,1:"No")," error",$S(XTNE>1:"s",1:"")," logged on ",XTDTE
"RTN","XTER",50,0)
 Q
"RTN","XTER",51,0)
END D ^%ZISC
"RTN","XTER",52,0)
 K %XT,%XTZE,%XTZ,%XTJOB,%XTZH,%XTIO,%XTUCI,%XTERR,%XTZDAT,%XTZNUM,%XTZLIN,%XTZO,XTA,XTB,XTC,XTD,%XTX,%XTY,XTFST,XTH,%XTZGR,XTJJ,%,%H
"RTN","XTER",53,0)
 K %XTA,%XTB,%XTC,%XTF,%XTG,%XTI,%XTJ,%XTL,%XTD,%XTM,%XTN,XTI,XTJ,XTK,XTDTE,XTOUT,XTX,XTNE,XTP,XTQ,XTSYM,XTZ,%XTZZZ,XTERR,X,Y,%XTYL,%XTZH1,C,XTBLNK,XTDV1,XTA1,XTC1,XTMES,XTPRNT
"RTN","XTER",54,0)
 Q:'$D(^%ZOSF("OS"))  Q:("OS")=""  W !! S DIR(0)="Y",DIR("A")="Do you want to check the OPERATING SYSTEM ERROR TRAP too",DIR("B")="NO" D ^DIR K DIR Q:'Y
"RTN","XTER",55,0)
 S XQROU=^%ZOSF("OS"),XQROU=U_$S(XQROU["DTM":"%errdump",1:"%ER") D:XQROU'="" @XQROU K XQROU
"RTN","XTER",56,0)
 Q
"RTN","XTER",57,0)
 ;
"RTN","XTER",58,0)
MORE S XTOUT=0 I $D(IOST)#2,IOST["C-" R !?15,"Enter '^' to quit listing, <RETURN> to continue...",XTX:DTIME S:'$T XTX="^" I XTX="^" S XTOUT=1 Q
"RTN","XTER",59,0)
 Q
"RTN","XTER1A")
0^2^B26939504
"RTN","XTER1A",1,0)
XTER1A ;ISC-SF.SEA/JLI - MODIFICATION OF %XTER FOR USE WITH VAX DSM ;4/22/97  14:42
"RTN","XTER1A",2,0)
 ;;8.0;KERNEL;**63**;Jul 10, 1995
"RTN","XTER1A",3,0)
 ;
"RTN","XTER1A",4,0)
TWO ;
"RTN","XTER1A",5,0)
 S XTNUM=2
"RTN","XTER1A",6,0)
ONE ;
"RTN","XTER1A",7,0)
 S:'$D(XTNUM) XTNUM=1
"RTN","XTER1A",8,0)
 S:'$D(XTNDATE) XTNDATE=$H-1 I '$D(ZTQUEUED) S XTNDAT1=$$HTFM^XLFDT(XTNDATE),XTNDAT2=XTNDAT1 G INT^XTER1A1
"RTN","XTER1A",9,0)
 K ^TMP($J,"XTER1A") D LISTN,LIST
"RTN","XTER1A",10,0)
EXIT K XTNUM,XTNDATE,XTERN,XTERX,X,N,N1,Y,C,XTOUT,Z,I,XTER1AX,XTER1AN,XTER1AN1,%XTZDAT,%XTZNUM,XTMES,XTDV1,XTMES,XTPRNT
"RTN","XTER1A",11,0)
 Q
"RTN","XTER1A",12,0)
LISTN ;
"RTN","XTER1A",13,0)
 F XTERN=0:0 S XTERN=$O(^%ZTER(1,XTNDATE,1,XTERN)) Q:XTERN'>0  I $D(^(XTERN,"ZE")) S XTERX=$E(^("ZE"),1,30),X=^("ZE") D
"RTN","XTER1A",14,0)
 .S N1=0 F N=0:0 S N=$O(^TMP($J,"XTER1A",XTERX,N)) Q:N=""  S N1=N I ^(N)=X Q
"RTN","XTER1A",15,0)
 .I N="" S ^TMP($J,"XTER1A",XTERX,N1+1)=X,^(N1+1,"CNT")=1,^(1)=XTNDATE_U_XTERN
"RTN","XTER1A",16,0)
 .E  S ^("CNT")=^TMP($J,"XTER1A",XTERX,N,"CNT")+1 I ^("CNT")'>XTNUM S Y=^("CNT"),^(Y)=XTNDATE_U_XTERN
"RTN","XTER1A",17,0)
 .Q
"RTN","XTER1A",18,0)
 Q
"RTN","XTER1A",19,0)
LIST ;
"RTN","XTER1A",20,0)
 S XTERX="",C=0,XTOUT=0 K ^TMP($J,"XTER") F  S XTERX=$O(^TMP($J,"XTER1A",XTERX)) Q:XTERX=""  F N=0:0 S N=$O(^TMP($J,"XTER1A",XTERX,N)) Q:N'>0  D
"RTN","XTER1A",21,0)
 .S X=^TMP($J,"XTER1A",XTERX,N) S C=C+1,^TMP($J,"XTER",C)="",C=C+1,^(C)="",Z=$J(^TMP($J,"XTER1A",XTERX,N,"CNT"),8)_"  "
"RTN","XTER1A",22,0)
 .F I=1:60 S Y=$E(X,I,I+59) Q:Y=""  S C=C+1,^TMP($J,"XTER",C)=Z_Y,Z="         "
"RTN","XTER1A",23,0)
 S XTER1AX="" F  S XTER1AX=$O(^TMP($J,"XTER1A",XTER1AX)) Q:XTER1AX=""  F XTER1AN=0:0 S XTER1AN=$O(^TMP($J,"XTER1A",XTER1AX,XTER1AN)) Q:XTER1AN'>0  D
"RTN","XTER1A",24,0)
 .F XTER1AN1=0:0 S XTER1AN1=$O(^TMP($J,"XTER1A",XTER1AX,XTER1AN,XTER1AN1)) Q:XTER1AN1'>0  S X=^(XTER1AN1) D
"RTN","XTER1A",25,0)
 ..S C=C+1,^TMP($J,"XTER",C)="|PAGE|" S %XTZDAT=+X,%XTZNUM=$P(X,U,2),XTDV1=0 S XTMES=1 D WRT^XTER1
"RTN","XTER1A",26,0)
 D:IO=""&$D(^TMP($J,"XTER")) MESSG D:IO'="" WRITER K ^TMP($J,"XTER") S C=0 I IO'="" U IO D ^%ZISC
"RTN","XTER1A",27,0)
 Q
"RTN","XTER1A",28,0)
 ;
"RTN","XTER1A",29,0)
MESG S DWPK=1,DWLW=75,DIC="^TMP($J,""XTER""," W @IOF,!!,"Enter any comments to precede the error listing:" D EN^DIWE S C=0 W ! F I=0:0 S I=$O(^TMP($J,"XTER",I)) Q:I'>0  S C=I
"RTN","XTER1A",30,0)
 S XTMES=1,XTDV1=0 D WRT^XTER1 D:C>0 MESSG S C=0 K XTMES,^TMP($J,"XTER") G XTERR^XTER
"RTN","XTER1A",31,0)
 Q
"RTN","XTER1A",32,0)
PRNT S C=0,%ZIS="MQ" K ^TMP($J,"XTER") D ^%ZIS I POP S IOP="HOME" D ^%ZIS K IOP,%ZIS G WRT^XTER1
"RTN","XTER1A",33,0)
 K %ZIS I $D(IO("Q")) K IO("Q") S ZTRTN="DQPRNT^XTER1A",ZTIO=ION,ZTSAVE("%XTZDAT")="",ZTSAVE("%XTZNUM")="",ZTDESC="XTER1A-PRINT OF ERROR" D ^%ZTLOAD K ZTRTN,ZTIO,ZTSAVE,ZTSK S IOP="HOME" D ^%ZIS S XTX="" G XTERR^XTER
"RTN","XTER1A",34,0)
 ;
"RTN","XTER1A",35,0)
DQPRNT S XTPRNT=1,XTOUT=0 D WRT^XTER1 U IO D:C>0 WRITER K ^TMP($J,"XTER") S C=0 K XTPRNT D ^%ZISC I $D(ZTQUEUED) Q
"RTN","XTER1A",36,0)
 S IOP="HOME" D ^%ZIS K IOP
"RTN","XTER1A",37,0)
 G XTERR^XTER
"RTN","XTER1A",38,0)
WRITER F %=0:0 S %=$O(^TMP($J,"XTER",%)) Q:%'>0  W:((IOSL-$Y)'>4&$G(XTPRNT)) @IOF S %1=$S($D(^(%))=1:^(%),1:^(%,0)) D
"RTN","XTER1A",39,0)
 .I $E(%1,1,6)="|PAGE|" W @IOF S %1=$E(%1,7,$L(%1)) Q:%1=""
"RTN","XTER1A",40,0)
 .I $E(%1,1,4)="@IOF" W @IOF S %1=$E(%1,5,$L(%1)) Q:%1=""
"RTN","XTER1A",41,0)
 .W !,%1
"RTN","XTER1A",42,0)
 K %,%1
"RTN","XTER1A",43,0)
 Q
"RTN","XTER1A",44,0)
MESSG S XMY(DUZ)="",XMDUZ=.5 I '$D(ZTQUEUED) K XMY,XMDUZ
"RTN","XTER1A",45,0)
 S XMTEXT="^TMP($J,""XTER"",",XMSUB="ERROR - "_$E(%XTZE,1,40) F  Q:XMSUB'[U  S XMSUB=$P(XMSUB,U)_"~U~"_$P(XMSUB,U,2,99)
"RTN","XTER1A",46,0)
 D ^XMD K XMY,XMTEXT,XMSUB
"RTN","XTER1A",47,0)
 Q
"RTN","XTER1A",48,0)
 ;
"RTN","XTER1A",49,0)
MORE S XTOUT=0,XTX=""
"RTN","XTER1A",50,0)
 Q:$G(XTMES)  D WRITER K ^TMP($J,"XTER") S C=0
"RTN","XTER1A",51,0)
 I '$D(ZTQUEUED),'$G(XTPRNT),$D(IOST)#2,IOST["C-" S:($D(X)#2) XTMORE=X S DIR(0)="FO^0:50",DIR("A")="     Enter '^' to quit listing, <RETURN> to continue..." D ^DIR K DIR S:$D(DTOUT) X="^" S XTX=X S:$D(XTMORE) X=XTMORE K XTMORE
"RTN","XTER1A",52,0)
 K DTOUT,DIRUT,DUOUT I $D(XTX),$E(XTX)="^" S XTOUT=1 Q
"RTN","XTER1A",53,0)
 I $G(XTPRNT) W @IOF
"RTN","XTER1A",54,0)
 Q
"RTN","XTER1A",55,0)
 ;
"RTN","XTER1A",56,0)
LST S X=" ",XTQ="" N XTXT,XBLNK S $P(XBLNK," ",80)=" "
"RTN","XTER1A",57,0)
ZT1 ;S X=$O(^%ZTER(1,%XTZDAT,1,X),-1) R XTQ:0 Q:XTQ'=""  G T2:X'>0,T1:'($D(^(X,"ZE"))#2) S XTP=^("ZE") I XTP["<DSCON>"!(XTP["data set hang-up"),XTD S XTD=XTD+1 G T1
"RTN","XTER1A",58,0)
T1 S X=$O(^%ZTER(1,%XTZDAT,1,X),-1) R XTQ:0 Q:XTQ'=""  G T2:X'>0,T1:'($D(^(X,"ZE"))#2) S XTP=^("ZE"),XTS=""
"RTN","XTER1A",59,0)
 F  S XTS=$O(^TMP($J,"XTERSCR",XTS)) Q:XTS=""  I XTP[XTS,XTD S XTD=XTD+1 G T1
"RTN","XTER1A",60,0)
 ;
"RTN","XTER1A",61,0)
 I '(X#20) S %XTERRX=X D MORE Q:XTOUT  Q:XTX>0  D T3 S X=%XTERRX
"RTN","XTER1A",62,0)
 I ^%ZTER(1,%XTZDAT,1,X,"ZE")["," S %XTERR=$P($P(^("ZE"),",",4),"-",4),%XTERR=$P($P(^("ZE"),",",2),"-",3)_$S(%XTERR="":"",1:"(")_%XTERR_$S(%XTERR="":"",1:")") S XTXT=$J(X,3)_")  "_"<"_%XTERR_">"_$P(^("ZE"),",",1)_" "
"RTN","XTER1A",63,0)
 I ^%ZTER(1,%XTZDAT,1,X,"ZE")'["," S XTXT=$J(X,3)_")  "_^("ZE")
"RTN","XTER1A",64,0)
 S %XTZNUM=X,%="" I $D(^%ZTER(1,%XTZDAT,1,%XTZNUM,"H")) S %H=^("H") D YMD^%DTC S %=$P(%,".",2)_"000000",%=$E(%,1,2)_":"_$E(%,3,4)_":"_$E(%,5,6)
"RTN","XTER1A",65,0)
 S X=%XTZNUM S XTXT=$S($L(XTXT)>38:XTXT,1:$E(XTXT_XBLNK,1,38))_%
"RTN","XTER1A",66,0)
 S XTXT=XTXT_"  "_$P($S('$D(^%ZTER(1,%XTZDAT,1,X,"J")):"",1:^("J")),U,4)_"  "_$J($P($S('$D(^("J")):"",1:^("J")),U,5),7)_"  "_$P($S('$D(^("I")):"",1:^("I")),U)
"RTN","XTER1A",67,0)
 S XTXT=$S($L(XTXT)>51:XTXT,1:$E(XTXT_XBLNK,1,51))_$P(XTP,"\",7)
"RTN","XTER1A",68,0)
 S XTXT=$S($L(XTXT)>59:XTXT,1:$E(XTXT_XBLNK,1,60))_$P(XTP,"\",3) S XTXT=$S($L(XTXT)>65:XTXT,1:$E(XTXT_XBLNK,1,65))_$P(XTP,"\",4) W !,$E(XTXT,1,79) G T1
"RTN","XTER1A",69,0)
T2 I XTD W !!,$S(XTD-1:XTD-1,1:"No")," screened error",$S(XTD-1>1:"s",1:""),!
"RTN","XTER1A",70,0)
 D MORE
"RTN","XTER1A",71,0)
 Q
"RTN","XTER1A",72,0)
T3 W !!,?11,"$ZE",?41,"Time",?49,"UCI,VOL",?61,"$J",?69,"$I",!
"RTN","XTER1A",73,0)
 Q
"RTN","XTER1A",74,0)
INTRACT ;
"RTN","XTER1A",75,0)
 G INTRACT^XTER1A1
"RTN","XUINPCH")
0^^B5999246
"RTN","XUINPCH",1,0)
XUINPCH ;SF/RWF - RE-INDEX NEW X-REF ON FILE 200 ;4/22/97  16:48
"RTN","XUINPCH",2,0)
 ;;8.0;KERNEL;**20,36,49,63**;Feb. 9, 1996
"RTN","XUINPCH",3,0)
 Q
"RTN","XUINPCH",4,0)
POST1 ;Post init for patch XU*8*20 to reindex new X-ref on file 200.
"RTN","XUINPCH",5,0)
 N XU,DA,DIK
"RTN","XUINPCH",6,0)
 F XU=0:0 S XU=$O(^VA(200,XU)) Q:XU'>0  I $D(^VA(200,XU,203,0)) D
"RTN","XUINPCH",7,0)
 . S DA(1)=XU,DIK="^VA(200,"_XU_",203,",DIK(1)=".01^4"
"RTN","XUINPCH",8,0)
 . D ENALL^DIK
"RTN","XUINPCH",9,0)
 . Q
"RTN","XUINPCH",10,0)
 Q
"RTN","XUINPCH",11,0)
POST14 ;Post INIT for patch XU*8*14 to seed the E-sig last changed date.
"RTN","XUINPCH",12,0)
 N DA,%,%H,LT S DA=.5,%H=$H,LT=$$KSP^XUPARAM("LIFETIME")
"RTN","XUINPCH",13,0)
 F  S DA=$O(^VA(200,DA)) Q:DA'>0  S %=$G(^VA(200,DA,20)) I $L(%) D
"RTN","XUINPCH",14,0)
 . Q:'$L($P(%,U,4))!$P(%,U,1)
"RTN","XUINPCH",15,0)
 . S $P(^VA(200,DA,20),U,1)=+$$HADD^XLFDT(%H,($R(LT)+30),0,0,0)
"RTN","XUINPCH",16,0)
 . Q
"RTN","XUINPCH",17,0)
 Q
"RTN","XUINPCH",18,0)
 ;
"RTN","XUINPCH",19,0)
POST36 ;Post INIT for patch XU*8*36
"RTN","XUINPCH",20,0)
 N I,X
"RTN","XUINPCH",21,0)
 ;Cleanup some old data in file 4.
"RTN","XUINPCH",22,0)
 F I=0:0 S I=$O(^DIC(4,I)) Q:I'>0  I $D(^DIC(4,I,1,"B"))>2 K ^DIC(4,I,1,"B")
"RTN","XUINPCH",23,0)
 ;See that we have the current ID nodes for file 200
"RTN","XUINPCH",24,0)
 F I=1,2,3 S X=$T(ID200+I) I $P(X,";",3)]"" S ^DD(200,0,"ID",$P(X,";",3))=$P(X,";",4,99)
"RTN","XUINPCH",25,0)
 Q
"RTN","XUINPCH",26,0)
ID200 ;;
"RTN","XUINPCH",27,0)
 ;;1;D EN^DDIOL("   "_$P(^(0),U,2),"","?0")
"RTN","XUINPCH",28,0)
 ;;28;D:$D(^(5)) EN^DDIOL("   "_$P(^(5),U,2),"","?0")
"RTN","XUINPCH",29,0)
 ;;W8;D:$P(^(0),U,9) EN^DDIOL("   "_$$EXTERNAL^DILFD(200,8,"",$P(^(0),U,9)),"","?0")
"RTN","XUINPCH",30,0)
 ;
"RTN","XUINPCH",31,0)
POST43 ;Post INIT for patch 43, Inst file support for CIRN/VISN
"RTN","XUINPCH",32,0)
 N FDA,IEN S FDA(4.1,"?+1,",.01)="VISN",FDA(4.1,"?+1,",1)="VETERANS INTEGRATED SERVICE NETWORK"
"RTN","XUINPCH",33,0)
 D UPDATE^DIE("E","FDA","IEN")
"RTN","XUINPCH",34,0)
 Q
"RTN","XUINPCH",35,0)
POST49 ;Post INIT for patch XU*8*49
"RTN","XUINPCH",36,0)
 N I,X
"RTN","XUINPCH",37,0)
 ;See that we have the current ID nodes for file 3.2 and 3.5
"RTN","XUINPCH",38,0)
 F I=1:1:4 S X=$T(ID49+I) I $P(X,";",3)]"" S ^DD($P(X,";",3),0,"ID",$P(X,";",4))=$P(X,";",5,99)
"RTN","XUINPCH",39,0)
 Q
"RTN","XUINPCH",40,0)
ID49 ;;
"RTN","XUINPCH",41,0)
 ;;3.2;W99;N % S %=$P($G(^(9)),U,1) D:$L(%) EN^DDIOL("  "_%,"",$S($S($X>30:$X,1:30)+$L(%)>76:"!?8",1:"?30"))
"RTN","XUINPCH",42,0)
 ;;3.5;.02;N % S %=$P($G(^(1)),U) D:$L(%) EN^DDIOL("  "_%,"",$S($X+$L(%)>76:"!?"_(77-$L(%)),1:"?0"))
"RTN","XUINPCH",43,0)
 ;;3.5;1;D EN^DDIOL("   "_$P(^(0),U,2),"","?0")
"RTN","XUINPCH",44,0)
 ;;3.5;1.9;D EN^DDIOL("   "_$P(^(0),U,9),"","?0")
"RTN","XUINPCH",45,0)
 ;
"RTN","XUINPCH",46,0)
POST63 ;Post INIT for patch xu*8*63
"RTN","XUINPCH",47,0)
 ;Move taskman screens to error message file.
"RTN","XUINPCH",48,0)
 N X1,X2,X3,ZDF,ZDA,DIE,DR,DA S X1=""
"RTN","XUINPCH",49,0)
 F X3=1:1 S X1=$O(^%ZTSCH("ES",X1)) Q:X1=""  D
"RTN","XUINPCH",50,0)
 . S X2=$O(^%ZTER(2,"B",X1,0)) I X2 S DA=X2,DR=".03////2",DIE="3.076" D ^DIE Q
"RTN","XUINPCH",51,0)
 . S ZDA="?+1,",ZDF(3.076,ZDA,.01)="LOCAL_"_X3,ZDF(3.076,ZDA,.02)="L",ZDF(3.076,ZDA,.03)=2,ZDF(3.076,ZDA,2)=X1
"RTN","XUINPCH",52,0)
 . D UPDATE^DIE("","ZDF","") K ZDF Q
"RTN","XUINPCH",53,0)
 . Q
"RTN","XUINPCH",54,0)
 K:0 ^%ZTSCH("ES") Q
"RTN","XUTMKE1")
0^4^B6089789
"RTN","XUTMKE1",1,0)
XUTMKE1 ;SEA/RDS - Taskman: Option, XUTME SCREEN*, Part 1 ;04/29/97  13:13
"RTN","XUTMKE1",2,0)
 ;;8.0;KERNEL;**63**;Jul 10, 1995
"RTN","XUTMKE1",3,0)
 ;
"RTN","XUTMKE1",4,0)
SCLIST ;List Current Error Screens
"RTN","XUTMKE1",5,0)
 N % S %=$$LST(2) D:% MORE Q
"RTN","XUTMKE1",6,0)
ALL ;Show all error screens
"RTN","XUTMKE1",7,0)
 N % S %=$$LST(1),%=%+$$LST(2) D:% MORE Q
"RTN","XUTMKE1",8,0)
 ;
"RTN","XUTMKE1",9,0)
LST(IX) ;List a type a error screen
"RTN","XUTMKE1",10,0)
 N X,Y,ZT,ZTE
"RTN","XUTMKE1",11,0)
 S ZT=$S(IX=1:"Don't show",1:"Don't record")
"RTN","XUTMKE1",12,0)
 I $O(^%ZTER(2,"AC",IX,0))="" W !!?5,"No '",ZT,"' error screens have been established" W:IX=2 !,?10,"--all errors are currently logged." Q 0
"RTN","XUTMKE1",13,0)
 W !!?15,"CURRENT ",ZT," ERROR SCREENS"
"RTN","XUTMKE1",14,0)
 W !?5,"Screen",?40,"Count?"
"RTN","XUTMKE1",15,0)
 W !?5,"-------------",?40,"------"
"RTN","XUTMKE1",16,0)
 S ZTE="" F ZT=0:0 S ZTE=$O(^%ZTER(2,"AC",IX,ZTE)) Q:ZTE=""  D
"RTN","XUTMKE1",17,0)
 . S X=^%ZTER(2,ZTE,0),Y=$E($G(^(2)),1,50)
"RTN","XUTMKE1",18,0)
 . W !?5,$P(X,U) W:IX=2 ?40,$S($P(X,U,4):"yes: "_$G(^(3)),1:"no") W:$L(Y) !,?5,">>",^(2)
"RTN","XUTMKE1",19,0)
 W ! Q 1
"RTN","XUTMKE1",20,0)
 ;
"RTN","XUTMKE1",21,0)
MORE N DIR,DIRUT,DTOUT,DUOUT
"RTN","XUTMKE1",22,0)
 S DIR(0)="E",DIR("A")="     End of listing.  Press RETURN to continue"
"RTN","XUTMKE1",23,0)
 S DIR("?")="     Press RETURN to continue."
"RTN","XUTMKE1",24,0)
 D ^DIR K DIR
"RTN","XUTMKE1",25,0)
 I $D(DTOUT) W $C(7)
"RTN","XUTMKE1",26,0)
 Q
"RTN","XUTMKE1",27,0)
 ;
"RTN","XUTMKE1",28,0)
SCREM ;Remove An Error Screen
"RTN","XUTMKE1",29,0)
 N DIE,DR,DA,DIR,DIRUT,DTOUT,DUOUT,%ZT,ZTX,ZTY
"RTN","XUTMKE1",30,0)
 S %ZT="Enter screen to remove" D SCSEL^XUTMKE2 S ZTY=Y Q:ZTY'>0
"RTN","XUTMKE1",31,0)
REM S DA=+ZTY,DR=".03;.04",DIE=DIC D ^DIE
"RTN","XUTMKE1",32,0)
 Q
"RTN","XUTMKE1",33,0)
 ;
"RTN","XUTMKE1",34,0)
SCREM1 ;Handle Removal Of More Specific Screens
"RTN","XUTMKE1",35,0)
 W !!,"There ",$S(ZTY(0)=1:"is a screen ",1:"are "_ZTY(0)_" screens "),"in place that ",$S(ZTY(0)=1:"is ",1:"are "),"more specific:"
"RTN","XUTMKE1",36,0)
 S ZTE="" F ZT=0:0 S ZTE=$O(ZTY(0,ZTE)) Q:ZTE=""  W !?5,ZTE
"RTN","XUTMKE1",37,0)
 W !
"RTN","XUTMKE1",38,0)
 S DIR(0)="Y"
"RTN","XUTMKE1",39,0)
 S DIR("A")="Shall I "_$S(ZTA:"also ",1:"")_"remove "_$S(ZTY(0)=1:"this screen",1:"these screens")
"RTN","XUTMKE1",40,0)
 S DIR("B")="NO",DIR("?")="     Answer YES or NO."
"RTN","XUTMKE1",41,0)
 D ^DIR S ZTZ=X K DIR
"RTN","XUTMKE1",42,0)
 I $D(DTOUT) W $C(7)
"RTN","XUTMKE1",43,0)
 I 'Y W !!?5,"NOT removed!" Q
"RTN","XUTMKE1",44,0)
 S ZTE="" F ZT=0:0 S ZTE=$O(ZTY(0,ZTE)) Q:ZTE=""  D
"RTN","XUTMKE1",45,0)
 . L +^%ZTER(2,ZTE) K ^%ZTER(2,ZTE) L -^%ZTER(2,ZTE)
"RTN","XUTMKE1",46,0)
 . S ZTA=ZTA+1 W "."
"RTN","XUTMKE1",47,0)
 . Q
"RTN","XUTMKE1",48,0)
 W !!?5,"Removed!" Q
"RTN","XUTMKE1",49,0)
 ;
"RTN","XUTMKE2")
0^5^B5034084
"RTN","XUTMKE2",1,0)
XUTMKE2 ;SEA/RDS - Taskman: Option, ZTME SCREEN*, Part 2 ;5/6/97  08:24
"RTN","XUTMKE2",2,0)
 ;;8.0;KERNEL;**63**;Jul 10, 1995
"RTN","XUTMKE2",3,0)
 ;
"RTN","XUTMKE2",4,0)
SCRAD ;Add Error Screens
"RTN","XUTMKE2",5,0)
 N DIE,DR,DA,DIR,DIRUT,DTOUT,DUOUT,%ZT,ZTX,ZTY
"RTN","XUTMKE2",6,0)
AD S %ZT="Enter screen to apply" D SCSEL(1) Q:ZTY'>0
"RTN","XUTMKE2",7,0)
 S DA=+ZTY,DIE="^%ZTER(2,",DR=".01;.02;.03;.04;2" D ^DIE
"RTN","XUTMKE2",8,0)
 G AD
"RTN","XUTMKE2",9,0)
 ;
"RTN","XUTMKE2",10,0)
SCSEL(%) ;Select Error Screen
"RTN","XUTMKE2",11,0)
 N ZT,ZTE
"RTN","XUTMKE2",12,0)
 K ZTX,ZTY
"RTN","XUTMKE2",13,0)
 I $G(%ZT)="" S %ZT="Select ERROR SCREEN"
"RTN","XUTMKE2",14,0)
 ;
"RTN","XUTMKE2",15,0)
SEL W !
"RTN","XUTMKE2",16,0)
 S DIR(0)="PO^3.076:AEMQ"_$S($G(%):"L",1:""),DIR("A")=%ZT
"RTN","XUTMKE2",17,0)
 S DIR("?")="^D SCSELH^XUTMKE2"
"RTN","XUTMKE2",18,0)
 S DIR("??")="^D SCLIST^XUTMKE1"
"RTN","XUTMKE2",19,0)
 D ^DIR S ZTY=Y
"RTN","XUTMKE2",20,0)
 K %ZT Q
"RTN","XUTMKE2",21,0)
 ;
"RTN","XUTMKE2",22,0)
SCSELH ;SCSEL--Text For ? Help
"RTN","XUTMKE2",23,0)
 W !!?5,"A screen is a string of characters."
"RTN","XUTMKE2",24,0)
 W !?5,"Taskman and %ZTER do not log errors whose error messages contain a screen."
"RTN","XUTMKE2",25,0)
 W !!?5,"For example, if a DSM-11 site routinely logs many disconnect errors each"
"RTN","XUTMKE2",26,0)
 W !?5,"day that cannot be prevented, the site manager could enter the screen"
"RTN","XUTMKE2",27,0)
 W !?5,"""DSCON"" to prevent these errors from being logged."
"RTN","XUTMKE2",28,0)
 W !!?5,"Enter ?? to see the screens that are currently in place."
"RTN","XUTMKE2",29,0)
 Q
"RTN","XUTMKE2",30,0)
 ;
"RTN","XUTMKE2",31,0)
SCRED ;Edit Error Screen
"RTN","XUTMKE2",32,0)
 N DIE,DR,DA,DIR,DIRUT,DTOUT,DUOUT,%ZT,ZTX,ZTY
"RTN","XUTMKE2",33,0)
ED S %ZT="Enter screen to edit" D SCSEL(0) Q:ZTY'>0
"RTN","XUTMKE2",34,0)
 S DA=+ZTY,DR=".03;.04;2",DIE="^%ZTER(2," D ^DIE
"RTN","XUTMKE2",35,0)
 ;
"RTN","XUTMKE2",36,0)
 W !
"RTN","XUTMKE2",37,0)
 S DIR(0)="Y"
"RTN","XUTMKE2",38,0)
 S DIR("A")="Do you want to reset the counter to zero"
"RTN","XUTMKE2",39,0)
 S DIR("B")="NO"
"RTN","XUTMKE2",40,0)
 S DIR("?")="     Answer YES to erase the current count and start over."
"RTN","XUTMKE2",41,0)
 D ^DIR S ZTZ=X K DIR
"RTN","XUTMKE2",42,0)
 I $D(DIRUT) W !!?5,"Count NOT changed!" Q
"RTN","XUTMKE2",43,0)
 ;
"RTN","XUTMKE2",44,0)
ED3 I Y=1 S ^%ZTER(2,+ZTY,3)=0 W !?5,"Counter reset!"
"RTN","XUTMKE2",45,0)
 G ED
"RTN","XUTMKE2",46,0)
 ;
"RTN","ZTER")
0^3^B28189331
"RTN","ZTER",1,0)
%ZTER ; ISC-SF.SEA/JLI - ERROR TRAP TO LOG ERRORS ;04/28/97  08:39
"RTN","ZTER",2,0)
 ;;8.0;KERNEL;**8,18,32,24,36,34,63**;JUL 10, 1995
"RTN","ZTER",3,0)
 I $ZE["-ALLOC,"!($ZE["<STORE>") D @$S('$D(^%ZOSF("OS")):"^%ET",^("OS")["DTM":"^%errlog",1:"^%ET") D H^XUS
"RTN","ZTER",4,0)
 S %ZTERZE=$ZE,%ZT("^XUTL(""XQ"",$J)")="" S:'$D(%ZTERLGR) %ZTERLGR=$$LGR^%ZOSV()
"RTN","ZTER",5,0)
 G:$$SCREEN($ZE) EXIT ;Let site screen errors
"RTN","ZTER",6,0)
 S %ZTER11N=$P($G(^%ZTER(1,+$H,0)),"^",2)+1,^%ZTER(1,+$H,0)=(+$H)_"^"_%ZTER11N,^(1,0)="^3.0751^"_%ZTER11N_"^"_%ZTER11N
"RTN","ZTER",7,0)
 S ^%ZTER(1,+$H,1,%ZTER11N,0)=%ZTER11N,^("ZE")=%ZTERZE S:$D(%ZTERLGR) ^("GR")=%ZTERLGR K %ZTERLGR I %ZTER11N=1 S ^%ZTER(1,0)=$P(^%ZTER(1,0),"^",1,2)_"^"_(+$H)_"^"_($P(^%ZTER(1,0),"^",4)+1)
"RTN","ZTER",8,0)
 S %ZTER11B="" F %ZTER11I=1:1:$L($ZB) S %ZTER11A=$E($ZB,%ZTER11I),%ZTER11B=%ZTER11B_$S(%ZTER11A?1C:$C($A(%ZTER11A)+32#128),1:%ZTER11A)
"RTN","ZTER",9,0)
 S %ZTER11I="" I $D(^%ZOSF("UCI")) K %ZTER11A S:$D(Y) %ZTER11A="" S:($D(Y)#2) %ZTER11A=Y X ^%ZOSF("UCI") S %ZTER11I=Y K:'$D(%ZTER11A) Y S:$D(%ZTER11A) Y=%ZTER11A
"RTN","ZTER",10,0)
 S ^%ZTER(1,+$H,1,%ZTER11N,"H")=$H,^("J")=$J_"^^^"_%ZTER11I_"^"_$J,^("I")=$I_"^"_$S($I[":":$ZA,1:"")_"^"_%ZTER11B_"^"_$S($D(IO("ZIO")):IO("ZIO"),1:"")
"RTN","ZTER",11,0)
 S %ZTERROR=$S($ZE["%DSM-E":$P($P($ZE,"%DSM-E-",2),","),1:$P($P($ZE,"<",2),">"))
"RTN","ZTER",12,0)
 S %ZTER11C=0 I $$NEWERR() D STACK^%ZTER1
"RTN","ZTER",13,0)
 I ^%ZOSF("OS")["VAX DSM" K %ZTER11A,%ZTER11B D VXD^%ZTER1 I 1
"RTN","ZTER",14,0)
 E  S %ZTERVAR="%" D:$D(%) VAR:$D(%)#2,SUBS:$D(%)>9 F %ZTER11Z=0:0 S %ZTERVAR=$O(@%ZTERVAR) Q:%ZTERVAR=""  D VAR:$D(@%ZTERVAR)#2,SUBS:$D(@%ZTERVAR)>9
"RTN","ZTER",15,0)
 D GLOB S:%ZTER11C>0 ^%ZTER(1,+$H,1,%ZTER11N,"ZV",0)="^3.0752^"_%ZTER11C_"^"_%ZTER11C S:'$D(^%ZTER(1,"B",+$H)) ^(+$H,+$H)="" S ^%ZTER(1,+$H,1,"B",%ZTER11N,%ZTER11N)=""
"RTN","ZTER",16,0)
LIN ;
"RTN","ZTER",17,0)
 S %ZTY=$P($ZE,","),%ZTX=$P(%ZTY,"^") S:%ZTX[">" %ZTX=$P(%ZTX,">",2)
"RTN","ZTER",18,0)
 I %ZTX'="" S X=$P($P(%ZTY,"^",2),":") I X'="" X ^%ZOSF("TEST") I $T D
"RTN","ZTER",19,0)
 .S XCNP=0,DIF="^TMP($J,""XTER1""," X ^%ZOSF("LOAD") S %ZTY=$P(%ZTX,"+",1) D
"RTN","ZTER",20,0)
 ..I %ZTY'="" F X=0:0 S X=$O(^TMP($J,"XTER1",X)) Q:X'>0  I $P(^(X,0)," ")=%ZTY S X=X+$P(%ZTX,"+",2),%ZTZLIN=^TMP($J,"XTER1",X,0) Q
"RTN","ZTER",21,0)
 ..I %ZTY="" S X=+$P(%ZTX,"+",2) Q:X'>0  S %ZTZLIN=^TMP($J,"XTER1",X,0)
"RTN","ZTER",22,0)
 K ^TMP($J,"XTER1"),XCNP,DIF,%ZTY,%ZTX,X,Y
"RTN","ZTER",23,0)
 S:$D(%ZTZLIN) ^%ZTER(1,+$H,1,%ZTER11N,"LINE")=%ZTZLIN K %ZTZLIN
"RTN","ZTER",24,0)
 I %ZTERROR'="",$D(^%ZTER(2,"B",%ZTERROR)) S %ZTERROR=%ZTERROR_"^"_$P(^%ZTER(2,+$O(^(%ZTERROR,0)),0),"^",2)
"RTN","ZTER",25,0)
EXIT K %ZTER11A,%ZTER11B,%ZTER11C,%ZTER11S,%ZTER11Z,%ZTERVAP,%ZTERVAR,%ZTERSUB,%ZTER11I,%ZTER11D,%ZTER11L,%ZTER11Q,%,%ZTER111,%ZTER112,%H,%ZTER11N
"RTN","ZTER",26,0)
 S:$$NEWERR $EC=""
"RTN","ZTER",27,0)
 Q
"RTN","ZTER",28,0)
 ;
"RTN","ZTER",29,0)
VAR I ",%ZTERVAR,%ZTER11Z,%ZTER11A,%ZTER11B,%ZTER11C,%ZTER11N,%ZTER11I,%ZTER11L,%ZTER11S,%ZTERVAP,%ZTERSUB,"'[(","_%ZTERVAR_",") S %ZTER11C=%ZTER11C+1,^%ZTER(1,+$H,1,%ZTER11N,"ZV",%ZTER11C,0)=%ZTERVAR D
"RTN","ZTER",30,0)
 . I $L(@%ZTERVAR)'>255 S ^%ZTER(1,+$H,1,%ZTER11N,"ZV",%ZTER11C,"D")=@%ZTERVAR Q
"RTN","ZTER",31,0)
 . S ^%ZTER(1,+$H,1,%ZTER11N,"ZV",%ZTER11C,"D")=" **** VALUE IS GREATER THAN 255 CHARACTERS (SEE SUBNODES FOR DATA) *** "
"RTN","ZTER",32,0)
 . N %ZTER11,%ZTER12
"RTN","ZTER",33,0)
 . F %ZTER11=1:1 S %ZTER12=$E(@%ZTERVAR,1,245) Q:%ZTER12=""  S @%ZTERVAR=$E(@%ZTERVAR,246,$L(@%ZTERVAR)),^%ZTER(1,+$H,1,%ZTER11N,"ZV",%ZTER11C,"D",%ZTER11)=%ZTER12
"RTN","ZTER",34,0)
 . Q
"RTN","ZTER",35,0)
 Q
"RTN","ZTER",36,0)
 ;
"RTN","ZTER",37,0)
SUBS S %ZTER11S="" Q:"%ZT("=$E(%ZTERVAR,1,4)  Q:",%ZTER11S,%ZTER11L,"[(","_%ZTERVAR_",")  S %ZTERVAP=%ZTERVAR_"(",%ZTERSUB="%ZTER11S)"
"RTN","ZTER",38,0)
 ;
"RTN","ZTER",39,0)
DESC S %ZTER11I=%ZTER11I+1,%ZTER11S(%ZTER11I)=%ZTER11S,%ZTER11S="",%ZTER11L(%ZTER11I)=$L(%ZTERSUB)-9 F %ZTER11Z=0:0 S %ZTER11S=$O(@(%ZTERVAP_%ZTERSUB)) Q:%ZTER11S=""  D SUBX
"RTN","ZTER",40,0)
 S %ZTER11S=%ZTER11S(%ZTER11I) K %ZTER11S(%ZTER11I),%ZTER11L(%ZTER11I) S %ZTER11I=%ZTER11I-1
"RTN","ZTER",41,0)
 Q
"RTN","ZTER",42,0)
 ;
"RTN","ZTER",43,0)
SUBX I $D(@(%ZTERVAP_%ZTERSUB))#10 S %ZTER11C=%ZTER11C+1,^%ZTER(1,+$H,1,%ZTER11N,"ZV",%ZTER11C,0)=$P(%ZTERVAP_%ZTERSUB,"%ZTER11S",1)_""""_%ZTER11S_""""_$P(%ZTERVAP_%ZTERSUB,"%ZTER11S",2),^("D")=@(%ZTERVAP_%ZTERSUB)
"RTN","ZTER",44,0)
 I $D(@(%ZTERVAP_%ZTERSUB))\10 S %ZTERSUB=$E(%ZTERSUB,1,%ZTER11L(%ZTER11I))_""""_%ZTER11S_""""_",%ZTER11S)" D DESC S %ZTERSUB=$E(%ZTERSUB,1,%ZTER11L(%ZTER11I))_"%ZTER11S)"
"RTN","ZTER",45,0)
 Q
"RTN","ZTER",46,0)
 ;
"RTN","ZTER",47,0)
GLOB ;
"RTN","ZTER",48,0)
 S %ZTER11D="" F %ZTER11I=0:0 S %ZTER11D=$O(%ZT(%ZTER11D)) Q:%ZTER11D=""  S %ZTER11A=%ZTER11D S:%ZTER11A["$J" %ZTER11B=$J,%ZTER11A=$P(%ZTER11A,"$J",1)_%ZTER11B_$P(%ZTER11A,"$J",2,99) S %ZTER11B=$P(%ZTER11A,")",1) D LOOP
"RTN","ZTER",49,0)
 Q
"RTN","ZTER",50,0)
 ;
"RTN","ZTER",51,0)
LOOP ;
"RTN","ZTER",52,0)
 F %ZTER11I=0:0 S %ZTER11A=$ZO(@%ZTER11A) Q:%ZTER11A'[%ZTER11B  S %ZTER11C=%ZTER11C+1,^%ZTER(1,+$H,1,%ZTER11N,"ZV",%ZTER11C,0)=$P(%ZTER11D,")")_$P(%ZTER11A,%ZTER11B,2),^%ZTER(1,+$H,1,%ZTER11N,"ZV",%ZTER11C,"D")=@%ZTER11A
"RTN","ZTER",53,0)
 Q
"RTN","ZTER",54,0)
 ;
"RTN","ZTER",55,0)
SCREEN(ERR) ;Screen out certain errors.
"RTN","ZTER",56,0)
 N %ZTE,%ZTI S:'$D(ERR) ERR=$$EC^%ZOSV
"RTN","ZTER",57,0)
 S %ZTE="",%ZTI=0 F  S %ZTI=$O(^%ZTER(2,"AC",2,%ZTI)) Q:%ZTI=""  S %ZTE=$S($D(^%ZTER(2,%ZTI,2)):^(2),1:$P(^(0),"^")) Q:ERR[%ZTE
"RTN","ZTER",58,0)
 I %ZTI>0 D  Q 1 ;Skip the recording of the error.
"RTN","ZTER",59,0)
 . I $P(^%ZTER(2,%ZTI,0),U,4) L +^%ZTER(2,%ZTI) S ^(3)=$G(^%ZTER(2,%ZTI,3))+1 L -^%ZTER(2,%ZTI)
"RTN","ZTER",60,0)
 . Q
"RTN","ZTER",61,0)
 Q 0 ;record error
"RTN","ZTER",62,0)
 ;
"RTN","ZTER",63,0)
UNWIND ;Unwind stack for new error trap. Called by app code.
"RTN","ZTER",64,0)
 Q:'$$NEWERR()
"RTN","ZTER",65,0)
 S $ECODE="" S $ETRAP="D UNW^%ZTER Q" S $ECODE=",U1,"
"RTN","ZTER",66,0)
UNW Q:$ESTACK>1  S $ECODE="" Q:'$QUIT  Q 0
"RTN","ZTER",67,0)
 ;
"RTN","ZTER",68,0)
NEWERR() ;Does this OS support the M95 error trapping
"RTN","ZTER",69,0)
 N % S %=$G(^%ZOSF("OS")) Q:%="" 0
"RTN","ZTER",70,0)
 I %["VAX DSM" Q 1
"RTN","ZTER",71,0)
 I %["MSM",$P($ZV,"Version ",2)'<4.3 Q 1
"RTN","ZTER",72,0)
 I %["OpenM",$ZV["NextGen" Q 1
"RTN","ZTER",73,0)
 Q 0
"RTN","ZTER",74,0)
ABORT ;Pop the stack all the way.
"RTN","ZTER",75,0)
 S $ETRAP="Q:$ST>1  S $ECODE="""" Q"
"RTN","ZTER",76,0)
 Q
"SEC","^DIC",3.076,3.076,0,"AUDIT")
@
"SEC","^DIC",3.076,3.076,0,"DD")
@
"SEC","^DIC",3.076,3.076,0,"DEL")
@
"SEC","^DIC",3.076,3.076,0,"LAYGO")
@
"SEC","^DIC",3.076,3.076,0,"RD")
@
"SEC","^DIC",3.076,3.076,0,"WR")
@
"VER")
8.0^21.0
"^DD",3.076,3.076,0)
FIELD^^.05^8
"^DD",3.076,3.076,0,"DT")
2970423
"^DD",3.076,3.076,0,"ID","W2")
D:$D(^(2)) EN^DDIOL($E(^(2),1,50),"","?35")
"^DD",3.076,3.076,0,"IX","AC",3.076,.03)

"^DD",3.076,3.076,0,"IX","B",3.076,.01)

"^DD",3.076,3.076,0,"NM","ERROR MESSAGES")

"^DD",3.076,3.076,0,"VRPK")
KERNEL PUBLIC DOMAIN
"^DD",3.076,3.076,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3) X
"^DD",3.076,3.076,.01,1,0)
^.1
"^DD",3.076,3.076,.01,1,1,0)
3.076^B
"^DD",3.076,3.076,.01,1,1,1)
S ^%ZTER(2,"B",$E(X,1,30),DA)=""
"^DD",3.076,3.076,.01,1,1,2)
K ^%ZTER(2,"B",$E(X,1,30),DA)
"^DD",3.076,3.076,.01,3)
Answer must be 3-30 characters in length.
"^DD",3.076,3.076,.01,21,0)
^^2^2^2930402^
"^DD",3.076,3.076,.01,21,1,0)
This field contains the brief name for an error used by one or more
"^DD",3.076,3.076,.01,21,2,0)
operating systems (e.g., UNDEF for an undefined error)
"^DD",3.076,3.076,.01,"DEL",1,0)
I $P(^%ZTER(2,DA,0),U,5)
"^DD",3.076,3.076,.01,"DT")
2901121
"^DD",3.076,3.076,.02,0)
ERROR TYPE^RS^F:FATAL;H:HARDWARE;I:IO/DEVICE;P:PROGRAM;D:DATA;L:LOCAL;^0;2^Q
"^DD",3.076,3.076,.02,3)
This entry indicates the type of error represented to provide some indication of whether continuation would be feasible.
"^DD",3.076,3.076,.02,21,0)
^^3^3^2930402^
"^DD",3.076,3.076,.02,21,1,0)
This field attempts to indicate the primary responsibility for an error,
"^DD",3.076,3.076,.02,21,2,0)
such as hardware, or software, since this affects the extent of
"^DD",3.076,3.076,.02,21,3,0)
recoverability from an error.
"^DD",3.076,3.076,.02,"DT")
2970422
"^DD",3.076,3.076,.03,0)
SCREEN IN XTER^S^1:Don't show;2:Don't record;^0;3^Q
"^DD",3.076,3.076,.03,1,0)
^.1
"^DD",3.076,3.076,.03,1,1,0)
3.076^AC
"^DD",3.076,3.076,.03,1,1,1)
S ^%ZTER(2,"AC",$E(X,1,30),DA)=""
"^DD",3.076,3.076,.03,1,1,2)
K ^%ZTER(2,"AC",$E(X,1,30),DA)
"^DD",3.076,3.076,.03,1,1,3)
Used by XTER.
"^DD",3.076,3.076,.03,1,1,"%D",0)
^^2^2^2970421^
"^DD",3.076,3.076,.03,1,1,"%D",1,0)
This X-ref is used by XTER and %ZTER to screen out the recording 
"^DD",3.076,3.076,.03,1,1,"%D",2,0)
and display of errors.
"^DD",3.076,3.076,.03,1,1,"DT")
2970421
"^DD",3.076,3.076,.03,21,0)
^^3^3^2970324^
"^DD",3.076,3.076,.03,21,1,0)
This field is used to mark errors that should be screened in one way or
"^DD",3.076,3.076,.03,21,2,0)
another. If blank show and record error, 1 record but don't show in XTER
"^DD",3.076,3.076,.03,21,3,0)
in default mode, 2 don't record.
"^DD",3.076,3.076,.03,"DT")
2970421
"^DD",3.076,3.076,.04,0)
COUNT SCREENED ERRORS^S^0:No;1:Yes;^0;4^Q
"^DD",3.076,3.076,.04,21,0)
^^1^1^2970422^
"^DD",3.076,3.076,.04,21,1,0)
This field turns one the counting of the screening of this error.
"^DD",3.076,3.076,.04,"DT")
2970422
"^DD",3.076,3.076,.05,0)
National^S^1:Yes;^0;5^Q
"^DD",3.076,3.076,.05,9)
^
"^DD",3.076,3.076,.05,21,0)
^^3^3^2970423^
"^DD",3.076,3.076,.05,21,1,0)
This field should only be used by the National developers.
"^DD",3.076,3.076,.05,21,2,0)
This is to GUARANTEE that certain ones are in the file.
"^DD",3.076,3.076,.05,21,3,0)
These entries can't be deleted.
"^DD",3.076,3.076,.05,"DT")
2970423
"^DD",3.076,3.076,1,0)
OPERATING SYSTEM NUMBER^3.0761A^^1;0
"^DD",3.076,3.076,1,21,0)
^^2^2^2930402^
"^DD",3.076,3.076,1,21,1,0)
This is a multiple field which is used to indicate which operating
"^DD",3.076,3.076,1,21,2,0)
system(s) use a given brief name for an error.
"^DD",3.076,3.076,2,0)
ALTERNATIVE SCREENING TEXT^F^^2;E1,50^K:$L(X)>50!($L(X)<1) X
"^DD",3.076,3.076,2,3)
Answer must be 1-50 characters in length.
"^DD",3.076,3.076,2,21,0)
^^4^4^2970422^
"^DD",3.076,3.076,2,21,1,0)
If you need to screen errors on text that can not be placed in the .01
"^DD",3.076,3.076,2,21,2,0)
field than use a local name for the .01 and enter the real screening text
"^DD",3.076,3.076,2,21,3,0)
in this field.  This field will allow ^ and other characters that cannot
"^DD",3.076,3.076,2,21,4,0)
be placed in the .01 field.
"^DD",3.076,3.076,2,"DT")
2970422
"^DD",3.076,3.076,3,0)
COUNT OF SCREENED ERRORS^NJ5,0^^3;1^K:+X'=X!(X>99999)!(X<0)!(X?.E1"."1N.N) X
"^DD",3.076,3.076,3,3)
Type a Number between 0 and 99999, 0 Decimal Digits
"^DD",3.076,3.076,3,21,0)
^^2^2^2970422^
"^DD",3.076,3.076,3,21,1,0)
This field holds a count of the number of times this error was screen from
"^DD",3.076,3.076,3,21,2,0)
being recorded in the error trap.
"^DD",3.076,3.076,3,"DT")
2970422
"^DD",3.076,3.0761,0)
OPERATING SYSTEM NUMBER SUB-FIELD^^.01^1
"^DD",3.076,3.0761,0,"DT")
2901121
"^DD",3.076,3.0761,0,"IX","B",3.0761,.01)

"^DD",3.076,3.0761,0,"NM","OPERATING SYSTEM NUMBER")

"^DD",3.076,3.0761,0,"UP")
3.076
"^DD",3.076,3.0761,.01,0)
OPERATING SYSTEM NUMBER^NJ2,0^^0;1^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X
"^DD",3.076,3.0761,.01,1,0)
^.1
"^DD",3.076,3.0761,.01,1,1,0)
3.0761^B
"^DD",3.076,3.0761,.01,1,1,1)
S ^%ZTER(2,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",3.076,3.0761,.01,1,1,2)
K ^%ZTER(2,DA(1),1,"B",$E(X,1,30),DA)
"^DD",3.076,3.0761,.01,3)
Enter the operating system number (second piece of ^%ZOSF("OS")) associated with this error message
"^DD",3.076,3.0761,.01,21,0)
^^2^2^2930402^
"^DD",3.076,3.0761,.01,21,1,0)
This is an operating system which uses the brief name to describe an error
"^DD",3.076,3.0761,.01,21,2,0)
of this type.
"^DD",3.076,3.0761,.01,"DT")
2901121
"^DIC",3.076,3.076,0)
ERROR MESSAGES^3.076
"^DIC",3.076,3.076,0,"GL")
^%ZTER(2,
"^DIC",3.076,3.076,"%D",0)
^^5^5^2920518^
"^DIC",3.076,3.076,"%D",1,0)
 
"^DIC",3.076,3.076,"%D",2,0)
This file contains a number of the abbreviations used to indicate the type
"^DIC",3.076,3.076,"%D",3,0)
of error encountered.  The most important ones are those which are
"^DIC",3.076,3.076,"%D",4,0)
indicated as fatal errors warranting termination of the job after logging
"^DIC",3.076,3.076,"%D",5,0)
of the error.
"^DIC",3.076,"B","ERROR MESSAGES",3.076)

**END**
**END**
