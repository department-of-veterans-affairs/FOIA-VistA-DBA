Released RT*2*40 SEQ #39
Extracted from mail message
**KIDS**:RT*2.0*40^

**INSTALL NAME**
RT*2.0*40
"BLD",5324,0)
RT*2.0*40^RECORD TRACKING^0^3040304^y
"BLD",5324,1,0)
^^2^2^3040108^
"BLD",5324,1,1,0)
 
"BLD",5324,1,2,0)
Record Tracking NOIS
"BLD",5324,4,0)
^9.64PA^^
"BLD",5324,"ABPKG")
n
"BLD",5324,"KRN",0)
^9.67PA^8989.52^19
"BLD",5324,"KRN",.4,0)
.4
"BLD",5324,"KRN",.401,0)
.401
"BLD",5324,"KRN",.402,0)
.402
"BLD",5324,"KRN",.403,0)
.403
"BLD",5324,"KRN",.5,0)
.5
"BLD",5324,"KRN",.84,0)
.84
"BLD",5324,"KRN",3.6,0)
3.6
"BLD",5324,"KRN",3.8,0)
3.8
"BLD",5324,"KRN",9.2,0)
9.2
"BLD",5324,"KRN",9.8,0)
9.8
"BLD",5324,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",5324,"KRN",9.8,"NM",1,0)
RTSYS^^0^B20063760
"BLD",5324,"KRN",9.8,"NM","B","RTSYS",1)

"BLD",5324,"KRN",19,0)
19
"BLD",5324,"KRN",19.1,0)
19.1
"BLD",5324,"KRN",101,0)
101
"BLD",5324,"KRN",409.61,0)
409.61
"BLD",5324,"KRN",771,0)
771
"BLD",5324,"KRN",870,0)
870
"BLD",5324,"KRN",8989.51,0)
8989.51
"BLD",5324,"KRN",8989.52,0)
8989.52
"BLD",5324,"KRN",8994,0)
8994
"BLD",5324,"KRN","B",.4,.4)

"BLD",5324,"KRN","B",.401,.401)

"BLD",5324,"KRN","B",.402,.402)

"BLD",5324,"KRN","B",.403,.403)

"BLD",5324,"KRN","B",.5,.5)

"BLD",5324,"KRN","B",.84,.84)

"BLD",5324,"KRN","B",3.6,3.6)

"BLD",5324,"KRN","B",3.8,3.8)

"BLD",5324,"KRN","B",9.2,9.2)

"BLD",5324,"KRN","B",9.8,9.8)

"BLD",5324,"KRN","B",19,19)

"BLD",5324,"KRN","B",19.1,19.1)

"BLD",5324,"KRN","B",101,101)

"BLD",5324,"KRN","B",409.61,409.61)

"BLD",5324,"KRN","B",771,771)

"BLD",5324,"KRN","B",870,870)

"BLD",5324,"KRN","B",8989.51,8989.51)

"BLD",5324,"KRN","B",8989.52,8989.52)

"BLD",5324,"KRN","B",8994,8994)

"BLD",5324,"QUES",0)
^9.62^^
"BLD",5324,"REQB",0)
^9.611^1^1
"BLD",5324,"REQB",1,0)
RT*2.0*37^2
"BLD",5324,"REQB","B","RT*2.0*37",1)

"MBREQ")
0
"PKG",72,-1)
1^1
"PKG",72,0)
RECORD TRACKING^RT^Medical Records and Film Jacket Tracking
"PKG",72,20,0)
^9.402P^^
"PKG",72,22,0)
^9.49I^1^1
"PKG",72,22,1,0)
2.0^2911022
"PKG",72,22,1,"PAH",1,0)
40^3040304^100104
"PKG",72,22,1,"PAH",1,1,0)
^^2^2^3040304
"PKG",72,22,1,"PAH",1,1,1,0)
 
"PKG",72,22,1,"PAH",1,1,2,0)
Record Tracking NOIS
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","RTSYS")
0^1^B20063760
"RTN","RTSYS",1,0)
RTSYS ;TROY ISC/MJK-Record Tracking System Definition Menu ; 5/19/87  11:34 AM ; 4/10/03 3:27pm
"RTN","RTSYS",2,0)
 ;;2.0;Record Tracking;**21,29,35,37,40**;10/22/91
"RTN","RTSYS",3,0)
 D DT^DICRW S X=$T(+1),DIK="^DOPT("""_$P(X," ;",1)_""","
"RTN","RTSYS",4,0)
 G:$D(^DOPT($P(X," ;"),9)) A S ^DOPT($P(X," ;"),0)=$P(X,";",3)_"^1N^" F I=1:1 S Y=$T(@I) Q:Y=""  S ^DOPT($P(X," ;"),I,0)=$P(Y,";",3,99)
"RTN","RTSYS",5,0)
 D IXALL^DIK
"RTN","RTSYS",6,0)
A D OVERALL^RTPSET Q:$D(XQUIT)
"RTN","RTSYS",7,0)
 W !! S DIC="^DOPT("""_$P($T(+1)," ;")_""",",DIC(0)="IQEAM" D ^DIC Q:Y<0  D @+Y G A
"RTN","RTSYS",8,0)
 ;
"RTN","RTSYS",9,0)
1 ;;Type of Record Set-up
"RTN","RTSYS",10,0)
 W ! S DIC("DR")="3////"_+RTAPL,DIC("A")="Select Record Type: ",DIC(0)="IAEMLQ",DIC("S")="I $P(^(0),U,3)=+RTAPL",DIC="^DIC(195.2,",DLAYGO=195.2 D ^DIC K DIC,DLAYGO G Q:Y<0 S DA=+Y
"RTN","RTSYS",11,0)
 S DIE="^DIC(195.2,",DR="[RT TYPE SET-UP]" D ^DIE K DQ,DE G 1
"RTN","RTSYS",12,0)
Q K DA,D0,DIC,DIE,DR,I,C,P,X,Y,RT0 Q
"RTN","RTSYS",13,0)
 ;
"RTN","RTSYS",14,0)
2 ;;File Room Set-up
"RTN","RTSYS",15,0)
L2 D FR^RTSM G Q:Y<0 S DA=+Y,DIE="^RTV(195.9,",DR="[RT FILE ROOM SET-UP]" D ^DIE K DQ,DE G L2
"RTN","RTSYS",16,0)
Q2 Q
"RTN","RTSYS",17,0)
 ;
"RTN","RTSYS",18,0)
3 ;;Application Set-up
"RTN","RTSYS",19,0)
 W ! S DA=+RTAPL,DIE="^DIC(195.1,",DR="[RT APPL SET-UP]" D ^DIE K DE,DQ G Q
"RTN","RTSYS",20,0)
 ;
"RTN","RTSYS",21,0)
4 ;;Reasons File Set-up
"RTN","RTSYS",22,0)
L4 W ! S DIC("DR")="3////"_+RTAPL,DIC("A")="Select Reason: ",DIC(0)="IAEMLQ",DIC("S")="I $P(^(0),U,3)=+RTAPL",DIC="^DIC(195.6," D ^DIC K DIC G Q:Y<0 S DA=+Y
"RTN","RTSYS",23,0)
 S DIE="^DIC(195.6,",DR="[RT REASON SET-UP]" D ^DIE K DQ,DE G L4
"RTN","RTSYS",24,0)
Q4 Q
"RTN","RTSYS",25,0)
 ;
"RTN","RTSYS",26,0)
5 ;;Label Function Menu
"RTN","RTSYS",27,0)
 G ^RTL
"RTN","RTSYS",28,0)
 ;
"RTN","RTSYS",29,0)
6 ;;Individual Borrower Set-up
"RTN","RTSYS",30,0)
L6 W ! S A=+RTAPL D DIC^RTDPA31 S DIC="^RTV(195.9,",DIC("A")="Select Borrower: ",DIC(0)="IAELMQ",DIC("S")="S Z0=^(0),Z=$P($P(Z0,U),"";"",2) I $P(Z0,U,3)="_+RTAPL_" D DICS1^RTSYS" D ^DIC K DIC G Q6:Y<0
"RTN","RTSYS",31,0)
 ;
"RTN","RTSYS",32,0)
 D BOR G L6
"RTN","RTSYS",33,0)
Q6 K RTDA G Q
"RTN","RTSYS",34,0)
 ;
"RTN","RTSYS",35,0)
BOR S DA=+Y,DR="[RT BORROWER SET-UP]",DIE="^RTV(195.9," D ^DIE K DE,DQ Q
"RTN","RTSYS",36,0)
 ;
"RTN","RTSYS",37,0)
7 ;;[FOR FUTURE USE]
"RTN","RTSYS",38,0)
 ;
"RTN","RTSYS",39,0)
TFR W ! S DIC(0)="IAEMQ",DIC="^DIC(4,",DIC("A")="Transfer Institution: " D ^DIC K DIC Q:Y<0  S RTA=+RTAPL,RTB=+Y_";DIC(4,",Y=+$O(^RTV(195.9,"ABOR",RTB,RTA,0)) D SET^RTDPA3:'Y K RTB,RTA
"RTN","RTSYS",40,0)
 Q
"RTN","RTSYS",41,0)
 ;
"RTN","RTSYS",42,0)
8 ;;Print Borrower Label
"RTN","RTSYS",43,0)
 I $S('$D(^DIC(194.4,+$P(RTAPL,"^",3),0)):1,$P(^(0),"^",4)'="b":1,$P(^(0),"^",3)'=+RTAPL:1,1:0) W !?3,*7,"No valid borrower label format assigned for application." G Q8
"RTN","RTSYS",44,0)
 S DIC("A")="Select Borrower: ",DIC="^RTV(195.9,",DIC(0)="IAEMLQ",DIC("DR")="3////"_+RTAPL,DIC("S")="I $P(^(0),U,3)="_+RTAPL D ^DIC K DIC G Q8:Y<0
"RTN","RTSYS",45,0)
 S:$D(RTFR) RTION=$P(RTFR,"^",4) S RTIFN=+Y,RTFMT=+$P(RTAPL,"^",3),RTMES="W !?3,""...Barcode label has been queued to print on device "",RTION,"".""",RTNUM=1 D Q^RTL1 G 8
"RTN","RTSYS",46,0)
Q8 K RTFMT,RTA,RTIFN,RTION,RTNUM,RTMES G Q
"RTN","RTSYS",47,0)
 ;
"RTN","RTSYS",48,0)
9 ;;Add/Edit 'PERSON' Borrower
"RTN","RTSYS",49,0)
 ;W ! S DIC="^VA(200,",DIC(0)="IAEQELM" D ^DIC K DIC G Q:Y<0 D CHK^RTDPA3,BOR:Y>0 G 9
"RTN","RTSYS",50,0)
Q9 Q
"RTN","RTSYS",51,0)
 ;
"RTN","RTSYS",52,0)
OTHER ;
"RTN","RTSYS",53,0)
 W !!,"Applications Using this 'PERSON' borrower:" S I=0 F A=0:0 S A=$O(^RTV(195.9,"ABOR",$P(Y,"^",2),A)) Q:'A  S I=I+1 W !?5,"- ",$S($D(^DIC(195.1,A,0)):$P(^(0),"^"),1:"UNKNOWN")
"RTN","RTSYS",54,0)
 W:'I !!?5,*7,"No applications use this 'PERSON'." W !!,"Be careful when changing the 'NAME' of this 'PERSON' borrower." K A,I Q
"RTN","RTSYS",55,0)
 ;
"RTN","RTSYS",56,0)
10 ;;Movement Type Set-up
"RTN","RTSYS",57,0)
 W ! S DIC="^DIC(195.3,",DIC(0)="IAEMQ",DIC("S")="I $P(^(0),U,3)="_+RTAPL,DIC("A")="Select MOVEMENT TYPE: " D ^DIC K DIC G Q:Y<0 S DA=+Y,DIE="^DIC(195.3,",DR="[RT MOVEMENT SET-UP]" D ^DIE K DE,DR,DQ G 10
"RTN","RTSYS",58,0)
 Q
"RTN","RTSYS",59,0)
 ;
"RTN","RTSYS",60,0)
DICS1 ; DICS1^RTDPA31 is called by multiple routines
"RTN","RTSYS",61,0)
 ;       copied from RTDPA31 isolate changes needed for patch RT*2*37
"RTN","RTSYS",62,0)
 I '$D(^DIC(195.1,+$P(Z0,"^",3),"BOR","AC",Z)) X "I 0" G DICSQ
"RTN","RTSYS",63,0)
 I Z="DIC(4,",$S('$D(^DIC(195.1,+$P(Z0,U,3),0)):1,$P(^(0),U,8)']"":1,1:'$D(^XUSEC($P(^(0),U,8),DUZ))) X "I 0" G DICSQ
"RTN","RTSYS",64,0)
 I "SC(;DIC(42,"'[Z G DICSQ
"RTN","RTSYS",65,0)
 ;inactive flags check
"RTN","RTSYS",66,0)
 ;
"RTN","RTSYS",67,0)
 I Z="SC(" S Z1=$S('$D(^SC(+Z0,"I")):1,'^("I"):1,DT<+^("I"):1,'$P(^("I"),"^",2):0,+$P(^("I"),"^",2):1,1:0) X "I Z1" G DICSQ
"RTN","RTSYS",68,0)
 I Z="DIC(42," N D0,X S D0=+Z0 D WIN^DGPMDDCF X "I 'X" G DICSQ
"RTN","RTSYS",69,0)
 ;
"RTN","RTSYS",70,0)
DICSQ K Z,Z0,Z1 Q
"VER")
8.0^22
**END**
**END**
