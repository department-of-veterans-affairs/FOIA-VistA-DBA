$TXT Created by ORMSBY,SKIP at FM22-PATCH.FO-OAKLAND.MED.VA.GOV  (KIDS) on Thursday, 05/06/04 at 14:17
=============================================================================
Run Date: AUG 09, 2004                     Designation: DI*22*135
Package : DI - VA FILEMAN                     Priority: Mandatory
Version : 22       SEQ #124                     Status: Released
                  Compliance Date: SEP 09, 2004
=============================================================================

Associated patches: (v)DI*22*70    <<= must be installed BEFORE `DI*22*135'

Subject: Finder And The Classic Flag

Category: 
  - Routine

Description:
============

 ** Notice: See "Installation Instructions" section for Installation
            Warning **
  
 This patch corrects the following issue:
  
   A classic FileMan look up allows the use of partial value followed by a 
 comma(,) delimiter, followed by another partial value, followed by another
 comma(,) delimiter followed by another partial value.  For example:
  
  ABC, MNO, XYZ
  
 However, when the DBS call: FIND^DIC was used for the look up and the 
 FLAG parameter contained a "C" for Classic an undefined error would occur
 at Line: S2+7 in Routine: DICL2, because of the way the Screen code was 
 being built.
  
 Documentation Changes
 =====================
  -None-
  
 Blood Bank Team Clearance
 =========================
 Clearance - Jan 06, 2004
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch DI*22*135 contains 
 changes to a package referenced in VHA IO SEPG SOP 192-023 "Review of 
 VISTA Patches for Effects on VISTA Blood Bank Software . This patch does 
 not alter or modify any VistA Blood Bank software design safeguards or 
 safety critical elements functions.
  
 RISK ANALYSIS: Changes made by patch DI*22*135 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 NOIS 
 ====
  OKL-0803-72085; WRJ-1003-11711; TAM-1103-30925; SBY-1103-31265;
  OKL-1103-71533; AUG-1203-30800; UNY-0104-10117; RIC-0204-20820;
  DAY-0204-41836; NOP-0604-11417; RIC-0604-21880
  
 Thanks to Test Site 
 ====================
  Site: DAYTON, OH  System: ALPHA/DSM
  Site: OKLAHOMA CITY, OK  System: ALPHA/DSM
  Site: RICHMOND, VA  System: VMS/CACHE
  Site: SALISBURY, NC  System: ALPHA/DSM
  Site: TAMPA, FL  System: ALPHA/DSM
  
 Routine Summary: 
 ================
  The following routines are included in this patch.  The second line of
 these routines now looks like:
   
   <tab>;;22.0;VA FileMan;**[patch list]**;Mar 30, 1999 
   
 CHECK^XTSUMBLD results: 
   
   Routine Name   Before Patch    After Patch     Patch List 
   ============   ============    ===========     ==========
   DICF1          6618200         6638377         15,51,70,135
   DIENVWRN       2617370         2617370         N/A
  
 *Note: Routine: DIENVWRN issues a warning during the installation of 
 this patch if it appears that TaskMan is still running and/or logons have
 not been inhibited.  Routine DIENVWRN should already exist on your 
 system. It is listed in the routine section as a courtesy to the installer
 because it is listed when doing the "CHECK^XTSUMBLD" and selecting the
 "Build" option.
  
 Installation Instructions:
 =========================
 ** Although queuing of this patch is allowed, it is HIGHLY recommended 
 that ALL Users be off the system and VISTA Background jobs be STOPPED 
 before this patch is installed. Failure to do so may result in 'source 
 routine edited' errors during a database update. Edits may be lost and 
 records may be left in an inconsistent state. An error that occurs before 
 a cross-reference is executed, for example, may lead to corrupted data or 
 hard errors in the future. **
  
 The following installation instructions are based upon the premise that 
 the installer has heeded the above warning.
  
 Installation should take less than a minute.
  
      1.  AXP/DSM sites: Review your mapped routine set. If any of the 
 routine(s) listed in the ROUTINE SUMMARY section are mapped, they should 
 be removed from the mapped set at this time.
  
      2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This 
 option will load the KIDS package onto your system.
  
      3.  The patch has now been loaded into a transport global on your 
 system. You now need to use KIDS to install the transport global.
  
      4.  On the KIDS menu, under the 'Installation' menu, use the 
 following options:
  
            Print Transport Global
            Compare Transport Global to Current System
            Verify Checksums in Transport Global
            Backup a Transport Global
  
      5.  In accordance with the warning at the beginning of the 
 installation instructions, make sure ALL interactive processes, and ALL 
 non-interactive background jobs are stopped following your site specific 
 procedures. For example,
  
            Inhibit users' login into the system.
            Stop the Background Filers.
            AXP/DSM Sites - Place TaskMan in a WAIT State.
            OpenM/Cache Sites - STOP TaskMan.
  
 Not performing this step could result in 'source routine edited' errors
 during database updates, and records may be left in an inconsistent state.
  
      6.  On the KIDS menu, under the 'Installation' menu, use the 
 following option:
  
            Select Installation Option: Install Package(s)
            Select INSTALL NAME: DI*22.0*135
                                 ===========
  
 The Environment Check Routine DIENVWRN runs automatically during this
 step. DIENVWRN issues a warning if it appears that TaskMan is still 
 running or logons have not been inhibited.
  
            Answer 'YES' to 'Want KIDS to INHIBIT LOGONs during the 
 install?'
            Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu 
 Options, and Protocols?
  
      7.  AXP/DSM Sites - After the patch has been installed, rebuild your 
 map set, if necessary.
  
      8.  Reenable all processes stopped in step 5 above. For example:
  
            AXP/DSM Sites - Remove TaskMan from WAIT State.
            OpenM/Cache Sites - Restart TaskMan.
            Restart the Background Filers.
            Enable users' login.

Routine Information:
====================

Routine Name:
  - DICF1


Routine Checksum:

Routine Name:
  - DIENVWRN


Routine Checksum:

=============================================================================
User Information:
Entered By  : ORMSBY,SKIP                   Date Entered  : DEC 08, 2003
Completed By: SINGH,GURBIR                  Date Completed: JUL 29, 2004
Released By : HARROD,PAUL                   Date Released : AUG 09, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
