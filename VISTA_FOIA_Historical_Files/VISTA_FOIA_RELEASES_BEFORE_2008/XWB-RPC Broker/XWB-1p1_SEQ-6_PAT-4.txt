$TXT Created by MANAPSAL,DANILA at PAT-XWB.ISC-SF.VA.GOV  (KIDS) on THURSDAY, 06/03/99 at 15:24
=============================================================================
Run Date: JUN 24, 1999                     Designation: XWB*1.1*4
Package : XWB - RPC BROKER                    Priority: Mandatory
Version : 1.1         SEQ #6                   Status: Released
=============================================================================

Associated patches: (v)XWB*1.1*5   <<= must be installed BEFORE `XWB*1.1*4'
                    (v)XU*8*109    <<= must be installed BEFORE `XWB*1.1*4'

Subject: Updated BDK and Kernel Login Fixes

Category: 
  - Informational
  - Routine

Description: 
============

 This patch:
  
 1.  Introduces a shorter timeout when logging in via any GUI application
 that is using the Broker.  The server listener process will timeout after
 90 seconds if the user has not passed in his/her access and verify codes.
 Users of existing GUI applications which were compiled under an older
 version of the BDK will not see the shorter timeout unless the GUI
 application is recompiled.  It is highly recommended that applications be
 recompiled using the new BDK to take advantage of the shorter timeout
 during login.
  
 2.  Updates the Broker's programmer client workstation software -- also
 known as the Broker Development Kit (BDK) -- adding support for Delphi 4
 development.
  
 3.  Fixes a bug in which the title bar of the Kernel login form was being
 changed when a user started entering their access code.
  
 IMPORTANT NOTES:
  
 This patch consists of 2 parts:
  
  - Packman message containing the XWB*1.1*4 KIDS build.
  - An updated BDK (programmer client workstation software).
  
 1.  Packman message containing the XWB*1.1*4 KIDS build. It installs 2
 modified XWB* routines used by the Broker server. This part of the patch
 is mandatory.
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routines included in this patch.  The
  second line of each of these routines now looks like:
  
  <tab>;;1.1;RPC BROKER;[patch list];date
  
  CHECK^XTSUMBLD results:
  
  Routine Name      Before Patch     After Patch     Patch List
  XWBBRK            4562161          4567623         2,4
  XWBTCPC           8239171          7518635         2,5,4
  
 2. Updated BDK (programmer client workstation software). All sites
 doing Broker development are encouraged to retrieve the patched BDK. Note
 that this version of the BDK only supports Delphi 4 and Delphi 3.
  
 DO NOT INSTALL THIS PROGRAMMER CLIENT WORKSTATION SOFTWARE AT
 END-USER CLIENT WORKSTATIONS.  If you are not using the BDK in any local
 or national development, you do not need to retrieve the Broker's
 programmer client workstation software. The software does not update the
 Broker software that is running at end-user client workstations.
  
 The software distribution includes:
  
 FILE NAMES      DESCRIPTION                     Blocks          Bytes
 XWB1_1P4PG.EXE  BDK Self-Installing Executable    2944        1507118
 XWB1_1P4IG.PDF  Installation Guide                 382         195583
 XWB1_1RM.TXT    Readme text file                    15           7355
  
 Note:  Use Binary mode for .PDF, and .EXE files
        Use ASCII mode for .TXT file.
  
 To access the updated BDK, use FTP to retrieve the software from one of
 the following CIO Field Offices' ANONYMOUS.SOFTWARE directories:
  
        CIO FIELD OFFICE                FTP Address
        Hines                           152.129.1.110
        Albany                          152.127.1.5
        Salt Lake City                  152.131.2.1
  
 BROKER-DEPENDENT COMPONENTS:
  
 Some components, such as the FileMan Delphi Components, reference the
 TRPCBroker component.  If you use such components for development, be
 aware that installing a new version of the TRPCBroker component (i.e. a
 new BDK) may cause incompatibilities in Delphi, resulting in a compile
 failure of the unit containing the Broker-dependent component and the
 following compilation error:
  
        Unit <unit1> was compiled with a different version of <unit2>.
  
 Check with the creators of the Broker-dependent component to make sure
 that, with regards to the version of the BDK you are about to install:
  
 a) Your current component is compatible, or
  
 b) You can obtain a new version of the component that is compatible.
  
 For the FileMan Delphi Components (FMDC), patch FMDC*1.0*1 brings in a new
 version of FMDC compatible with the updated BDK.  Please refer to the
 Patch Module for more information on this FMDC patch.
  
 INSTALLATION:
  
 Server Side:
 ============
  
 Use the following instructions in installing this server-side RPC Broker
 patch.  Do NOT follow the M Server Installation Instructions in the RPC
 Broker Installation Guide to install the server portion of this patch. The
 instructions in the Installation Guide are for virgin server installations
 and server version upgrades only.
  
  1.  Do not run any RPC-Broker-based Client/Server software (e.g., CPRS,
 PCMM) during the installation.  No Broker-based client/server software
 should be running while installing this patch on the server.  To identify
 these jobs, check the system status and verify if any XWBTCPC routine is
 running (i.e., Broker Handler).  Once identified, notify users to logoff
 or forcex the jobs.  Active users may get NOSOURCE or CLOBBER errors.
  
  2.  Stop the Broker Listener on the server.  Check the system status and
 verify if the XWBTCPL routine is running (i.e., Broker Listener).  If it
 is running stop it.  To stop the Listener, do the following:
        a.  Log into your M server.
        b.  Enter the following at the M prompt:
  
        >D STOP^XWBTCP(Listener port)
        (Typically, the Listener port is 9200)
  
  3.  These routines are not usually mapped on systems that allow it, so
 you will probably not have to disable mapping.
  
  4.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
 option will load the KIDS (Kernel Installation and Distribution System)
 package onto your system.
     
  5.  The patch has now been loaded into a Transport global on your system.
 On the KIDS menu, select the 'Installation' menu, use the following
 options:
          Verify Checksums in Transport Global
          Print Transport Global
          Compare Transport Global to Current System
          Backup a Transport Global
     
  6.  On the KIDS menu, under the 'Installation' menu, use the following
 option:
         Install Package(s)  'XWB*1.1*4'
                              =========
  
  7.  MSM Sites - Answer YES to the question 'Want to MOVE routines to
 other CPUs?'. Enter the names of your Compute and Print server(s).
      AXP Sites - Answer NO to this question.
     
  8.  If the routines were unmapped as part of step 3, the mapped set
 should be rebuilt once the installation has run to completion.
  
  9.  Restart the Broker Listener on the Server:
        a.  Log into your M server
        b.  Enter the following at the M prompt:
  
        >D STRT^XWBTCP(Listener port)
  
 Client Side:
 ============
  
 Please follow the 'Programmer Client Workstation Installation
 Instructions' in the RPC Broker Installation Guide (XWB1_1P4IG.PDF).

Routine Information:
====================

Routine Name:
  - XWBBRK


Routine Checksum:

Routine Name:
  - XWBTCPC


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : MENDOZA,RAUL E.               Date Entered : SEP 10, 1998
Completed By: MANAPSAL,DANILA               Date Completed: JUN 03, 1999
Released By : PALMER,MICHAEL                Date Released : JUN 24, 1999
=============================================================================


Packman Mail Message:
=====================

$END TXT
