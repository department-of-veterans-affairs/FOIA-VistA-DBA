Released ES*1*35 SEQ #37
Extracted from mail message
**KIDS**:ES*1.0*35^

**INSTALL NAME**
ES*1.0*35
"BLD",5429,0)
ES*1.0*35^POLICE & SECURITY^0^3040618^y
"BLD",5429,1,0)
^^1^1^3040617^
"BLD",5429,1,1,0)
Sites are getting an undefined error when generating ESP FACILITY REPORTS.
"BLD",5429,4,0)
^9.64PA^914^1
"BLD",5429,4,914,0)
914
"BLD",5429,4,914,222)
y^y^f^^^^n
"BLD",5429,4,"B",914,914)

"BLD",5429,"ABPKG")
n
"BLD",5429,"KRN",0)
^9.67PA^8989.52^19
"BLD",5429,"KRN",.4,0)
.4
"BLD",5429,"KRN",.401,0)
.401
"BLD",5429,"KRN",.402,0)
.402
"BLD",5429,"KRN",.403,0)
.403
"BLD",5429,"KRN",.5,0)
.5
"BLD",5429,"KRN",.84,0)
.84
"BLD",5429,"KRN",3.6,0)
3.6
"BLD",5429,"KRN",3.8,0)
3.8
"BLD",5429,"KRN",9.2,0)
9.2
"BLD",5429,"KRN",9.8,0)
9.8
"BLD",5429,"KRN",9.8,"NM",0)
^9.68A^4^4
"BLD",5429,"KRN",9.8,"NM",1,0)
ESPUVN^^0^B20992628
"BLD",5429,"KRN",9.8,"NM",2,0)
ESPUCF^^0^B20788036
"BLD",5429,"KRN",9.8,"NM",3,0)
ESPUCFP^^0^B8190072
"BLD",5429,"KRN",9.8,"NM",4,0)
ESPUCFP3^^0^B24771891
"BLD",5429,"KRN",9.8,"NM","B","ESPUCF",2)

"BLD",5429,"KRN",9.8,"NM","B","ESPUCFP",3)

"BLD",5429,"KRN",9.8,"NM","B","ESPUCFP3",4)

"BLD",5429,"KRN",9.8,"NM","B","ESPUVN",1)

"BLD",5429,"KRN",19,0)
19
"BLD",5429,"KRN",19.1,0)
19.1
"BLD",5429,"KRN",101,0)
101
"BLD",5429,"KRN",409.61,0)
409.61
"BLD",5429,"KRN",771,0)
771
"BLD",5429,"KRN",870,0)
870
"BLD",5429,"KRN",8989.51,0)
8989.51
"BLD",5429,"KRN",8989.52,0)
8989.52
"BLD",5429,"KRN",8994,0)
8994
"BLD",5429,"KRN","B",.4,.4)

"BLD",5429,"KRN","B",.401,.401)

"BLD",5429,"KRN","B",.402,.402)

"BLD",5429,"KRN","B",.403,.403)

"BLD",5429,"KRN","B",.5,.5)

"BLD",5429,"KRN","B",.84,.84)

"BLD",5429,"KRN","B",3.6,3.6)

"BLD",5429,"KRN","B",3.8,3.8)

"BLD",5429,"KRN","B",9.2,9.2)

"BLD",5429,"KRN","B",9.8,9.8)

"BLD",5429,"KRN","B",19,19)

"BLD",5429,"KRN","B",19.1,19.1)

"BLD",5429,"KRN","B",101,101)

"BLD",5429,"KRN","B",409.61,409.61)

"BLD",5429,"KRN","B",771,771)

"BLD",5429,"KRN","B",870,870)

"BLD",5429,"KRN","B",8989.51,8989.51)

"BLD",5429,"KRN","B",8989.52,8989.52)

"BLD",5429,"KRN","B",8994,8994)

"BLD",5429,"QUES",0)
^9.62^^
"BLD",5429,"REQB",0)
^9.611^2^2
"BLD",5429,"REQB",1,0)
ES*1.0*27^2
"BLD",5429,"REQB",2,0)
ES*1.0*33^2
"BLD",5429,"REQB","B","ES*1.0*27",1)

"BLD",5429,"REQB","B","ES*1.0*33",2)

"FIA",914)
ESP VIOLATIONS
"FIA",914,0)
^ESP(914,
"FIA",914,0,0)
914I
"FIA",914,0,1)
y^y^f^^^^n
"FIA",914,0,10)

"FIA",914,0,11)

"FIA",914,0,"RLRO")

"FIA",914,0,"VR")
1.0^ES
"FIA",914,914)
0
"FIA",914,914.01)
0
"MBREQ")
0
"PKG",368,-1)
1^1
"PKG",368,0)
POLICE & SECURITY^ES^POLICE & SECURITY PACKAGE
"PKG",368,20,0)
^9.402P^^
"PKG",368,22,0)
^9.49I^1^1
"PKG",368,22,1,0)
1.0^2930300^2960130
"PKG",368,22,1,"PAH",1,0)
35^3040618
"PKG",368,22,1,"PAH",1,1,0)
^^1^1^3040618
"PKG",368,22,1,"PAH",1,1,1,0)
Sites are getting an undefined error when generating ESP FACILITY REPORTS.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","ESPUCF")
0^2^B20788036
"RTN","ESPUCF",1,0)
ESPUCF ;DALISC/CKA - UNIFORM CRIME REPORT BY FACILITY- 3/99
"RTN","ESPUCF",2,0)
 ;;1.0;POLICE & SECURITY;**27,33,35**;Mar 31, 1994
"RTN","ESPUCF",3,0)
START ;
"RTN","ESPUCF",4,0)
 I '$D(DUZ(2)) W !,"Site # is not defined!" G EX
"RTN","ESPUCF",5,0)
DATE ;ASK BEGINNING & ENDING DATE
"RTN","ESPUCF",6,0)
 D DT^DICRW K BEGDATE,ENDDATE W !!,"****  Date Range Selection  ****",!
"RTN","ESPUCF",7,0)
 S %DT="AE",%DT(0)="-NOW",%DT("A")="  Beginning DATE : " D ^%DT K %DT
"RTN","ESPUCF",8,0)
 G:Y<0 EX
"RTN","ESPUCF",9,0)
 S (BEGDATE,ESPBD)=Y
"RTN","ESPUCF",10,0)
 W ! S %DT="AE",%DT("A")="   Ending DATE: " D ^%DT
"RTN","ESPUCF",11,0)
 G:$D(DTOUT) EX
"RTN","ESPUCF",12,0)
 G:Y<ESPBD HELP W ! S ENDDATE=Y,ESPED=Y+.9
"RTN","ESPUCF",13,0)
CREATE ;CREATE A NEW ENTRY IN CRIME DATA FILE
"RTN","ESPUCF",14,0)
 K DD,DO S DIC="^ESP(912.3,",DIC(0)="L",DLAYGO=912.3,X=ESPBD D FILE^DICN G:Y<0 EX S ESPIEN=+Y
"RTN","ESPUCF",15,0)
 L +^ESP(912.3,ESPIEN):1 I '$T W !,"This record is being edited by someone else."
"RTN","ESPUCF",16,0)
 S $P(^ESP(912.3,ESPIEN,0),U,2)=ENDDATE
"RTN","ESPUCF",17,0)
 S:'$D(^ESP(912.3,ESPIEN,1,0)) ^(0)="^912.31^"
"RTN","ESPUCF",18,0)
COUNT ;GO THROUGH "C" X-REF TO COUNT AND GET TOTALS
"RTN","ESPUCF",19,0)
 S ESPDT=ESPBD-.0005
"RTN","ESPUCF",20,0)
 F ESPI=1:1 S ESPDT=$O(^ESP(912,"C",ESPDT)) Q:ESPDT>ESPED!(ESPDT'>0)  D
"RTN","ESPUCF",21,0)
 .S ESPOFN=0
"RTN","ESPUCF",22,0)
 .F ESPJ=1:1 S ESPOFN=$O(^ESP(912,"C",ESPDT,ESPOFN)) Q:ESPOFN'>0  D
"RTN","ESPUCF",23,0)
 ..I $D(^ESP(912,ESPOFN,5)) Q:'$P(^ESP(912,ESPOFN,5),U,5)
"RTN","ESPUCF",24,0)
 ..S ESPINS=$P(^ESP(912,ESPOFN,0),U,7) Q:+ESPINS'>0
"RTN","ESPUCF",25,0)
 ..S DIC="40.8",DR="1",DA=+ESPINS,DIQ="STA",DIQ(0)="I" D EN^DIQ1
"RTN","ESPUCF",26,0)
 ..S STN=$G(STA(40.8,DA,DR,"I"))
"RTN","ESPUCF",27,0)
 ..K DA,DIC,DR,DIQ,STA
"RTN","ESPUCF",28,0)
 ..I '$D(^ESP(912.3,ESPIEN,1,ESPINS)) D
"RTN","ESPUCF",29,0)
 ...S ^ESP(912.3,ESPIEN,1,ESPINS,0)=ESPINS_"^"_STN
"RTN","ESPUCF",30,0)
 ...F ESPX=1:1:188 S ^ESP(912.3,ESPIEN,1,ESPINS,ESPX)=0
"RTN","ESPUCF",31,0)
 ...F ESPX=133.1,134.1,138.1,139.1 S ^ESP(912.3,ESPIEN,1,ESPINS,ESPX)=0
"RTN","ESPUCF",32,0)
 ..S ESPCN=0
"RTN","ESPUCF",33,0)
 ..F ESPZ=1:1 S ESPCN=$O(^ESP(912,ESPOFN,10,ESPCN)) Q:ESPCN'>0  D SET^ESPUCF1
"RTN","ESPUCF",34,0)
VIO ;GO THROUGH "C" X-REF VIOLATION FILE TO COUNT AND GET TOTALS
"RTN","ESPUCF",35,0)
 S ESPDT=ESPBD-.0005
"RTN","ESPUCF",36,0)
 F ESPI=1:1 S ESPDT=$O(^ESP(914,"C",ESPDT)) Q:ESPDT>ESPED!(ESPDT'>0)  D
"RTN","ESPUCF",37,0)
 .  S ESPOFN=0
"RTN","ESPUCF",38,0)
 .  F ESPJ=1:1 S ESPOFN=$O(^ESP(914,"C",ESPDT,ESPOFN)) Q:ESPOFN'>0  D
"RTN","ESPUCF",39,0)
 ..  S ESPINS=$P($G(^ESP(914,ESPOFN,0)),U,10) S:ESPINS="" ESPINS=$O(^DG(40.8,"C",$P($G(^ESP(914,ESPOFN,5)),U,1),"")) Q:ESPINS=""
"RTN","ESPUCF",40,0)
 ..  S DIC=40.8,DR="1",DA=+ESPINS,DIQ="STA",DIQ(0)="I" D EN^DIQ1 S STN=$G(STA(40.8,DA,DR,"I")) K DA,DIC,DR,DIQ,STA
"RTN","ESPUCF",41,0)
 ..  I '$D(^ESP(912.3,ESPIEN,1,ESPINS)) S ^ESP(912.3,ESPIEN,1,ESPINS,0)=ESPINS_"^"_STN
"RTN","ESPUCF",42,0)
 ..  S ESPTYPE=$P(^ESP(914,ESPOFN,0),U,3),ESPOFF=$P(^(0),U,4),ESPCL=$P($G(^ESP(915,+ESPOFF,0)),U,4),ESPFN=$P(^ESP(914,ESPOFN,0),U,9),ESPCAT=$P($G(^ESP(910,+ESPFN,0)),U,4)
"RTN","ESPUCF",43,0)
 ..  S ^ESP(912.3,ESPIEN,1,ESPINS,171)=$G(^ESP(912.3,ESPIEN,1,ESPINS,171))+1
"RTN","ESPUCF",44,0)
 ..  I ESPTYPE="C" S ^ESP(912.3,ESPIEN,1,ESPINS,172)=$G(^ESP(912.3,ESPIEN,1,ESPINS,172))+1 D
"RTN","ESPUCF",45,0)
 ...  I ESPCL'="M",ESPCL'="P" S ^ESP(912.3,ESPIEN,1,ESPINS,173)=$G(^ESP(912.3,ESPIEN,1,ESPINS,173))+1
"RTN","ESPUCF",46,0)
 ...  I ESPCL="M" S ^ESP(912.3,ESPIEN,1,ESPINS,174)=$G(^ESP(912.3,ESPIEN,1,ESPINS,174))+1
"RTN","ESPUCF",47,0)
 ...  I ESPCL="P" S ^ESP(912.3,ESPIEN,1,ESPINS,175)=$G(^ESP(912.3,ESPIEN,1,ESPINS,175))+1
"RTN","ESPUCF",48,0)
 ...  I ESPCAT="E"!(ESPCAT="PO") S ^ESP(912.3,ESPIEN,1,ESPINS,176)=$G(^ESP(912.3,ESPIEN,1,ESPINS,176))+1
"RTN","ESPUCF",49,0)
 ...  I ESPCAT="O"!(ESPCAT="") S ^ESP(912.3,ESPIEN,1,ESPINS,177)=$G(^ESP(912.3,ESPIEN,1,ESPINS,177))+1
"RTN","ESPUCF",50,0)
 ...  I ESPCAT="P" S ^ESP(912.3,ESPIEN,1,ESPINS,178)=$G(^ESP(912.3,ESPIEN,1,ESPINS,178))+1
"RTN","ESPUCF",51,0)
 ...  I ESPCAT="V" S ^ESP(912.3,ESPIEN,1,ESPINS,179)=$G(^ESP(912.3,ESPIEN,1,ESPINS,179))+1
"RTN","ESPUCF",52,0)
 ..  I ESPTYPE="V" S ^ESP(912.3,ESPIEN,1,ESPINS,180)=$G(^ESP(912.3,ESPIEN,1,ESPINS,180))+1 D
"RTN","ESPUCF",53,0)
 ...  I ESPCL'="M",ESPCL'="P" S ^ESP(912.3,ESPIEN,1,ESPINS,181)=$G(^ESP(912.3,ESPIEN,1,ESPINS,181))+1
"RTN","ESPUCF",54,0)
 ...  I ESPCL="M" S ^ESP(912.3,ESPIEN,1,ESPINS,182)=$G(^ESP(912.3,ESPIEN,1,ESPINS,182))+1
"RTN","ESPUCF",55,0)
 ...  I ESPCL="P" S ^ESP(912.3,ESPIEN,1,ESPINS,183)=$G(^ESP(912.3,ESPIEN,1,ESPINS,183))+1
"RTN","ESPUCF",56,0)
 ...  I ESPCAT="E"!(ESPCAT="PO") S ^ESP(912.3,ESPIEN,1,ESPINS,184)=$G(^ESP(912.3,ESPIEN,1,ESPINS,184))+1
"RTN","ESPUCF",57,0)
 ...  I ESPCAT="O"!(ESPCAT="") S ^ESP(912.3,ESPIEN,1,ESPINS,185)=$G(^ESP(912.3,ESPIEN,1,ESPINS,185))+1
"RTN","ESPUCF",58,0)
 ...  I ESPCAT="P" S ^ESP(912.3,ESPIEN,1,ESPINS,186)=$G(^ESP(912.3,ESPIEN,1,ESPINS,186))+1
"RTN","ESPUCF",59,0)
 ...  I ESPCAT="V" S ^ESP(912.3,ESPIEN,1,ESPINS,187)=$G(^ESP(912.3,ESPIEN,1,ESPINS,187))+1
"RTN","ESPUCF",60,0)
 K STN
"RTN","ESPUCF",61,0)
 L -^ESP(912.3,ESPIEN)
"RTN","ESPUCF",62,0)
 W !!,"Done."
"RTN","ESPUCF",63,0)
XREF ;
"RTN","ESPUCF",64,0)
 N DIK,DIR,X,Y,DA,DIE,DIC
"RTN","ESPUCF",65,0)
 S DIK="^ESP(912.3,",DA=ESPIEN
"RTN","ESPUCF",66,0)
 D IX1^DIK
"RTN","ESPUCF",67,0)
EX W:$D(DTOUT) $C(7)
"RTN","ESPUCF",68,0)
 K %DT,BEGDATE,DA,DD,DIC,DO,DTOUT,ENDDATE,ESPBD,ESPCAT,ESPCC,ESPCL,ESPCN,ESPDOL,ESPDT,ESPED,ESPFN,ESPI,ESPIEN,ESPINS,ESPJ,ESPOF,ESPOFF,ESPOFN,ESPSUB,ESPTYPE,ESPVIC,ESPVICT,ESPX,ESPZ,X,Y
"RTN","ESPUCF",69,0)
 QUIT
"RTN","ESPUCF",70,0)
 ;
"RTN","ESPUCF",71,0)
HELP W "??",!?5,"Ending date must not be before beginning date" G DATE
"RTN","ESPUCFP")
0^3^B8190072
"RTN","ESPUCFP",1,0)
ESPUCFP ;DALISC/CKA -PRINT UNIFORM CRIME REPORT BY FACILITY- 3/99
"RTN","ESPUCFP",2,0)
 ;;1.0;POLICE & SECURITY;**27,35**;Mar 31, 1994
"RTN","ESPUCFP",3,0)
EN ;
"RTN","ESPUCFP",4,0)
 I '$D(DUZ(2)) W !,"Site # is not defined!" G EX
"RTN","ESPUCFP",5,0)
DATE ;ASK BEGINNING DATE
"RTN","ESPUCFP",6,0)
 D DT^DICRW K BEGDATE
"RTN","ESPUCFP",7,0)
ASK ;ASK FOR CRIME DATA DATE TO PRINT
"RTN","ESPUCFP",8,0)
 S DIC="^ESP(912.3,",DIC(0)="AEMQ",DIC("A")="  Beginning DATE of Report to Print : " D ^DIC
"RTN","ESPUCFP",9,0)
 I Y<0 G EX
"RTN","ESPUCFP",10,0)
 S ESPIEN=+Y
"RTN","ESPUCFP",11,0)
DIV ;GET THE DIVISION
"RTN","ESPUCFP",12,0)
 D DIVISION^VAUTOMA
"RTN","ESPUCFP",13,0)
 I VAUTD=1 K ^ESP(912.3,ESPIEN,1,9999) S ^ESP(912.3,ESPIEN,1,"B",9999,9999)="",^ESP(912.3,ESPIEN,1,9999,0)=9999 D
"RTN","ESPUCFP",14,0)
 .  F ESPN=0:0 S ESPN=$O(^ESP(912.3,ESPIEN,1,ESPN)) Q:+ESPN=0!(ESPN=9999)  D
"RTN","ESPUCFP",15,0)
 ..   F CTR=0:0 S CTR=$O(^ESP(912.3,ESPIEN,1,ESPN,CTR)) Q:CTR=""  D
"RTN","ESPUCFP",16,0)
 ...    S CAMT=$G(^ESP(912.3,ESPIEN,1,ESPN,CTR))
"RTN","ESPUCFP",17,0)
 ...    S ^ESP(912.3,ESPIEN,1,9999,CTR)=$G(^ESP(912.3,ESPIEN,1,9999,CTR))+CAMT
"RTN","ESPUCFP",18,0)
 K:VAUTD=1 CAMT,CTR
"RTN","ESPUCFP",19,0)
PRT ;PRINT REPORT
"RTN","ESPUCFP",20,0)
Q S %ZIS="Q" D ^%ZIS G:POP EX I '$D(IO("Q")) U IO D START G EX
"RTN","ESPUCFP",21,0)
 S ZTRTN="START^ESPUCFP",ZTDESC="UNIFORM CRIME REPORT"
"RTN","ESPUCFP",22,0)
 S ZTSAVE("ESP*")="",ZTSAVE("VAUTD*")=""
"RTN","ESPUCFP",23,0)
 D ^%ZTLOAD,HOME^%ZIS G EX
"RTN","ESPUCFP",24,0)
START ; BEGINS THE PRINT OF THIS CRIME REPORT
"RTN","ESPUCFP",25,0)
 S HOF=0,TFAC=0
"RTN","ESPUCFP",26,0)
 K ^UTILITY("DIQ1",$J) S (END,PAGE)=0
"RTN","ESPUCFP",27,0)
 S DIC="^ESP(912.3,",DA=ESPIEN,DR=".01;.02",DIQ(0)="E" D EN^DIQ1 I '$D(^UTILITY("DIQ1",$J,912.3,DA)) W !,"RECORD DOESN'T EXIST!" G EX
"RTN","ESPUCFP",28,0)
 F ESPN=0:0 S ESPN=$O(^ESP(912.3,ESPIEN,1,ESPN)) Q:ESPN=""!(END)!(+ESPN=0)  D
"RTN","ESPUCFP",29,0)
 .I +$G(VAUTD)'=1,'$D(VAUTD(+$P(^ESP(912.3,ESPIEN,1,ESPN,0),U))) Q
"RTN","ESPUCFP",30,0)
 .I TFAC=1,ESPN=9999 Q
"RTN","ESPUCFP",31,0)
 .S TFAC=TFAC+1
"RTN","ESPUCFP",32,0)
 .D HDR Q:END
"RTN","ESPUCFP",33,0)
 .D PRT^ESPUCFP1
"RTN","ESPUCFP",34,0)
 W !!,"Done."
"RTN","ESPUCFP",35,0)
 QUIT
"RTN","ESPUCFP",36,0)
EX D ^%ZISC
"RTN","ESPUCFP",37,0)
 K %ZIS,BEGDATE,DA,DIC,DIQ,DR,END,ESPIEN,ESPN,HOF,PAGE,TFAC,TOT,X,Y,^UTILITY("DIQ1",$J)
"RTN","ESPUCFP",38,0)
 QUIT
"RTN","ESPUCFP",39,0)
HDR ;PRINT HEADING
"RTN","ESPUCFP",40,0)
 I $E(IOST,1,2)="C-" W !,"Press RETURN to continue or '^' to exit: " R X:DTIME S END='$T!(X="^") Q:END
"RTN","ESPUCFP",41,0)
 S PAGE=PAGE+1 W:HOF=1 @IOF W !?25,"DEPARTMENT OF VETERANS AFFAIRS",?70,"PAGE ",$J(PAGE,3)
"RTN","ESPUCFP",42,0)
 W !?35,"VA POLICE",!?33,"UNIFORM CRIME REPORT"
"RTN","ESPUCFP",43,0)
 S:ESPN=9999 ESPFACI="*** ALL DIVISIONS ***"
"RTN","ESPUCFP",44,0)
 S:ESPN'=9999 ESPFACI=$P(^ESP(912.3,ESPIEN,1,ESPN,0),U),ESPFACI=$P($G(^DG(40.8,ESPFACI,0)),U)_" ("_$P($G(^ESP(912.3,ESPIEN,1,ESPN,0)),U,2)_")"
"RTN","ESPUCFP",45,0)
 W !!,"VA Facility: ",ESPFACI
"RTN","ESPUCFP",46,0)
 W ?52,"BEGINNING DATE: ",$G(^UTILITY("DIQ1",$J,912.3,ESPIEN,.01,"E"))
"RTN","ESPUCFP",47,0)
 W !,"Date/Time Printed",?52,"ENDING DATE: ",$G(^UTILITY("DIQ1",$J,912.3,ESPIEN,.02,"E"))
"RTN","ESPUCFP",48,0)
 D NOW^%DTC S Y=% X ^DD("DD") W !,$P(Y,":",1,2)
"RTN","ESPUCFP",49,0)
 S HOF=1
"RTN","ESPUCFP",50,0)
 QUIT
"RTN","ESPUCFP3")
0^4^B24771891
"RTN","ESPUCFP3",1,0)
ESPUCFP3 ;DALISC/CKA -PRINT UNIFORM CRIME REPORT (CONT)- 3/99
"RTN","ESPUCFP3",2,0)
 ;;1.0;POLICE & SECURITY;**27,35**;Mar 31, 1994
"RTN","ESPUCFP3",3,0)
EN Q  ;CALLED FROM ESPUCFP2
"RTN","ESPUCFP3",4,0)
PRT ;PRINT REPORT CONTINUED- PRINTS 3RD PAGE
"RTN","ESPUCFP3",5,0)
 I $Y+10>IOSL D HDR Q:END
"RTN","ESPUCFP3",6,0)
 W !!?25,"ROBBERY            Total # : ",$G(^UTILITY("DIQ1",$J,912.31,DA,100,"E"))
"RTN","ESPUCFP3",7,0)
 W !!,"Armed Robbery              :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,101,"E"))
"RTN","ESPUCFP3",8,0)
 W ?40,"$100 & Above                :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,102,"E"))
"RTN","ESPUCFP3",9,0)
 W !?40,"<$100                       :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,103,"E"))
"RTN","ESPUCFP3",10,0)
 W !,"Strong Armed Robbery       :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,104,"E"))
"RTN","ESPUCFP3",11,0)
 W ?40,"$100 & Above                :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,105,"E"))
"RTN","ESPUCFP3",12,0)
 W !?40,"<$100                       :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,106,"E"))
"RTN","ESPUCFP3",13,0)
 W !,"Drugs Only                 :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,107,"E"))
"RTN","ESPUCFP3",14,0)
 W ?40,"Robbery Total $ Loss        :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,108,"E"))
"RTN","ESPUCFP3",15,0)
 W !?40,"Robbery Total $ Recovered   :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,109,"E"))
"RTN","ESPUCFP3",16,0)
 I $Y+15>IOSL D HDR1 Q:END
"RTN","ESPUCFP3",17,0)
 W !!!?25,"STOPS & ARRESTS    Total # : ",$G(^UTILITY("DIQ1",$J,912.31,DA,110,"E"))
"RTN","ESPUCFP3",18,0)
 W !!,"Physical Arrests           :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,111,"E"))
"RTN","ESPUCFP3",19,0)
 W !!,?15,"Offender"
"RTN","ESPUCFP3",20,0)
 W !!?10,"Employee: ",$G(^UTILITY("DIQ1",$J,912.31,DA,112,"E"))
"RTN","ESPUCFP3",21,0)
 W ?30,"Outsider: ",$G(^UTILITY("DIQ1",$J,912.31,DA,113,"E"))
"RTN","ESPUCFP3",22,0)
 W !?10,"Patient : ",$G(^UTILITY("DIQ1",$J,912.31,DA,114,"E"))
"RTN","ESPUCFP3",23,0)
 W ?30,"Visitor : ",$G(^UTILITY("DIQ1",$J,912.31,DA,115,"E"))
"RTN","ESPUCFP3",24,0)
 W !!,"Stops for Questioning      :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,116,"E"))
"RTN","ESPUCFP3",25,0)
 W ?40,"Package Stops               :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,117,"E"))
"RTN","ESPUCFP3",26,0)
 W !?40,"Non-Package Stops           :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,118,"E"))
"RTN","ESPUCFP3",27,0)
 I $Y+16>IOSL D HDR1 Q:END
"RTN","ESPUCFP3",28,0)
 W !!!?25,"THEFTS             Total # : ",$G(^UTILITY("DIQ1",$J,912.31,DA,119,"E"))
"RTN","ESPUCFP3",29,0)
 W !!,"Coin-Operated Machines     :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,120,"E"))
"RTN","ESPUCFP3",30,0)
 W ?40,"Total $ Loss                :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,121,"E"))
"RTN","ESPUCFP3",31,0)
 W !?40,"Total $ Recovery            :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,122,"E"))
"RTN","ESPUCFP3",32,0)
 W !!,"Actual Drug Thefts         :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,123,"E"))
"RTN","ESPUCFP3",33,0)
 W ?40,"Controlled Substance        :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,125,"E"))
"RTN","ESPUCFP3",34,0)
 W !?40,"Non-Controlled Substance    :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,126,"E"))
"RTN","ESPUCFP3",35,0)
 W !!,"Attempted Drug Thefts      :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,124,"E"))
"RTN","ESPUCFP3",36,0)
 W ?40,"Controlled Substance        :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,127,"E"))
"RTN","ESPUCFP3",37,0)
 W !?40,"Non-Controlled Substance    :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,128,"E"))
"RTN","ESPUCFP3",38,0)
 W !!,"Total Drug Thefts          :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,129,"E"))
"RTN","ESPUCFP3",39,0)
 W ?40,"Total Drug $ Loss           :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,130,"E"))
"RTN","ESPUCFP3",40,0)
 W !?40,"Total Drug $ Recovered      :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,131,"E"))
"RTN","ESPUCFP3",41,0)
 I $Y+15>IOSL D HDR1 Q:END
"RTN","ESPUCFP3",42,0)
 S ESPBEG=$P(^ESP(912.3,ESPIEN,0),U,1)
"RTN","ESPUCFP3",43,0)
 W !!,"Government Property        :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,132,"E"))
"RTN","ESPUCFP3",44,0)
 I ESPBEG<2971001 D
"RTN","ESPUCFP3",45,0)
 . W ?40,"$100 & Above                :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,133,"E"))
"RTN","ESPUCFP3",46,0)
 . W !?40,"< $100                      :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,134,"E"))
"RTN","ESPUCFP3",47,0)
 I ESPBEG>2970930.2359 D
"RTN","ESPUCFP3",48,0)
 . W ?40,"$1000 & Above               :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,133.1,"E"))
"RTN","ESPUCFP3",49,0)
 . W !?40,"< $1000                     :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,134.1,"E"))
"RTN","ESPUCFP3",50,0)
 W !?40,"Total Gov't $ Loss          :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,135,"E"))
"RTN","ESPUCFP3",51,0)
 W !?40,"Total Gov't $ Recovered     :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,136,"E"))
"RTN","ESPUCFP3",52,0)
 I $Y+5>IOSL D HDR1 Q:END
"RTN","ESPUCFP3",53,0)
 W !!,"Personal Property          :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,137,"E"))
"RTN","ESPUCFP3",54,0)
 I ESPBEG<2971001 D
"RTN","ESPUCFP3",55,0)
 . W ?40,"$100 & Above                :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,138,"E"))
"RTN","ESPUCFP3",56,0)
 . W !?40,"< $100                      :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,139,"E"))
"RTN","ESPUCFP3",57,0)
 I ESPBEG>2970930.2359 D
"RTN","ESPUCFP3",58,0)
 . W ?40,"$1000 & Above               :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,138.1,"E"))
"RTN","ESPUCFP3",59,0)
 . W !?40,"< $1000                     :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,139.1,"E"))
"RTN","ESPUCFP3",60,0)
 W !?40,"Total Personal $ Loss       :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,140,"E"))
"RTN","ESPUCFP3",61,0)
 W !?40,"Total Personal $ Recovered  :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,141,"E"))
"RTN","ESPUCFP3",62,0)
 I $Y+5>IOSL D HDR1 Q:END
"RTN","ESPUCFP3",63,0)
 W !!,"Government Motor Vehicles  :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,143,"E"))
"RTN","ESPUCFP3",64,0)
 W ?40,"Gov't Vehicles Recovered    :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,146,"E"))
"RTN","ESPUCFP3",65,0)
 W !?40,"$ Loss Gov't Vehicles       :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,144,"E"))
"RTN","ESPUCFP3",66,0)
 W !?40,"$ Recovered Gov't Vehicles  :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,145,"E"))
"RTN","ESPUCFP3",67,0)
 I $Y+5>IOSL D HDR1 Q:END
"RTN","ESPUCFP3",68,0)
 W !!,"Private Motor Vehicles     :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,147,"E"))
"RTN","ESPUCFP3",69,0)
 W ?40,"Private Vehicles Recovered  :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,150,"E"))
"RTN","ESPUCFP3",70,0)
 W !?40,"$ Loss Private Vehicles     :  ",$G(^UTILITY("DIQ1",$J,912.31,DA,148,"E"))
"RTN","ESPUCFP3",71,0)
 W !?40,"$ Recovered Private Vehicles:  ",$G(^UTILITY("DIQ1",$J,912.31,DA,149,"E"))
"RTN","ESPUCFP3",72,0)
 D PRT^ESPUCFP4
"RTN","ESPUCFP3",73,0)
 QUIT
"RTN","ESPUCFP3",74,0)
EX W !!,"Done." Q
"RTN","ESPUCFP3",75,0)
HDR ;PRINT HEADING
"RTN","ESPUCFP3",76,0)
 I $E(IOST,1,2)="C-" S END=$$EOP^ESPUTIL() Q:END
"RTN","ESPUCFP3",77,0)
 S PAGE=PAGE+1 W @IOF,!?25,"UNIFORM CRIME REPORT",?70,"PAGE ",$J(PAGE,3)
"RTN","ESPUCFP3",78,0)
 S ESPFACI=$P(^ESP(912.3,ESPIEN,1,ESPN,0),U)
"RTN","ESPUCFP3",79,0)
 S ESPFACI=$P($G(^DG(40.8,ESPFACI,0)),U,1)
"RTN","ESPUCFP3",80,0)
 W !!,"VA Facility ",ESPFACI
"RTN","ESPUCFP3",81,0)
BDT W ?45,"BEGINNING DATE: ",$G(^UTILITY("DIQ1",$J,912.3,ESPIEN,.01,"E"))
"RTN","ESPUCFP3",82,0)
EDT W !,"Date/Time Printed",?45,"ENDING DATE: ",$G(^UTILITY("DIQ1",$J,912.3,ESPIEN,.02,"E"))
"RTN","ESPUCFP3",83,0)
 W !,$$NOW^ESPUTIL()
"RTN","ESPUCFP3",84,0)
 QUIT
"RTN","ESPUCFP3",85,0)
HDR1 I $E(IOST,1,2)="C-" S END=$$EOP^ESPUTIL() Q:END
"RTN","ESPUCFP3",86,0)
 S PAGE=PAGE+1 W @IOF,!?25,"UNIFORM CRIME REPORT",?70,"PAGE ",$J(PAGE,3)
"RTN","ESPUCFP3",87,0)
 QUIT
"RTN","ESPUVN")
0^1^B20992628
"RTN","ESPUVN",1,0)
ESPUVN ;DALISC/CKA - ENTER U.S. DISTRICT COURT/COURTESY VIOLATION NOTICE;12/17/93
"RTN","ESPUVN",2,0)
 ;;1.0;POLICE & SECURITY;**4,35**;Mar 31, 1994
"RTN","ESPUVN",3,0)
 ;ESPTYPE="C" FOR COURTESY  ESPTYPE="V" FOR USDCVN
"RTN","ESPUVN",4,0)
TYPE ;IF '$D(ESPTYPE) THEN ASK IF COURTESY OR USDCVN
"RTN","ESPUVN",5,0)
 I '$D(ESPTYPE) D
"RTN","ESPUVN",6,0)
 .  S DIR(0)="S^C:COURTESY;V:USDC",DIR("A")="Is this a courtesy or USDC violation",DIR("?")="^W !,?10,""Enter C for COURTESY or V for USDC violation"""
"RTN","ESPUVN",7,0)
 .  D ^DIR K DIR I "CV"[Y S ESPTYPE=Y
"RTN","ESPUVN",8,0)
 I '$D(ESPTYPE) W !!,$C(7),"The program is now exiting!" G EXIT
"RTN","ESPUVN",9,0)
FAC K DIC S DIC("A")="Select Facility: ",DIC(0)="QAEMZ",DIC="^DG(40.8," D ^DIC
"RTN","ESPUVN",10,0)
 G:$D(DTOUT)!$D(DUOUT)!(+Y'>0) EXIT
"RTN","ESPUVN",11,0)
 S ESPFAC=+Y
"RTN","ESPUVN",12,0)
 D DT^DICRW F I=1:1:13 S ESPD(I)="" S ESPVAR=4
"RTN","ESPUVN",13,0)
MNI I '$D(ESPFN) W ! D EN^ESPMNI G:'$D(ESPFN) EXIT G:(ESPFN'>0) EXIT
"RTN","ESPUVN",14,0)
 S ESPNAM=$P(^ESP(910,ESPFN,0),U)
"RTN","ESPUVN",15,0)
 I ESPNAM'["UNKNOWN" D DISPL
"RTN","ESPUVN",16,0)
ADD S DIR(0)="Y",DIR("A")="Do you want to add a new violation",DIR("B")="YES" D ^DIR K DIR I 'Y K ESPFN G MNI
"RTN","ESPUVN",17,0)
DTO W !! S DIR(0)="DO^:-NOW:ETXR",DIR("A")="DATE/TIME OF OFFENSE",DIR("?")="^W !!,?10,""Enter the date and time of the offense.  Future dates not allowed."" S %DT=""ETXR"" D HELP^%DTC"
"RTN","ESPUVN",18,0)
 D ^DIR K DIR G:$D(DIRUT) EXIT S ESPD(.02)=Y,ESPD(.1)=ESPFAC
"RTN","ESPUVN",19,0)
OFF S ESPX=".04" D RD G:$D(DUOUT) NOUPD S:+Y ESPD(.04)=+Y S:'+Y ESPD(.02)=""
"RTN","ESPUVN",20,0)
 I ESPTYPE="C" G POL
"RTN","ESPUVN",21,0)
VIO S ESPX=".05" D RD G:$D(DUOUT) NOUPD S ESPD(.05)=Y
"RTN","ESPUVN",22,0)
POL S ESPX=".06" D RD G:$D(DUOUT) NOUPD S:+Y ESPD(.06)=+Y S:'+Y ESPD(.06)=""
"RTN","ESPUVN",23,0)
LOC S ESPX=".07" D RD G:$D(DUOUT) NOUPD S ESPD(.07)=Y
"RTN","ESPUVN",24,0)
DESC S ESPX=".08" D RD G:$D(DUOUT) NOUPD S ESPD(.08)=Y
"RTN","ESPUVN",25,0)
DEC S ESPX="1.01" D RD G:$D(DUOUT) NOUPD S:+Y ESPD(1.01)=+Y S:'+Y ESPD(1.01)=""
"RTN","ESPUVN",26,0)
DCOL S ESPX="1.02" D RD G:$D(DUOUT) NOUPD S:+Y ESPD(1.02)=+Y S:'+Y ESPD(1.02)=""
"RTN","ESPUVN",27,0)
LIC S ESPX="1.03" D RD G:$D(DUOUT) NOUPD S ESPD(1.03)=Y
"RTN","ESPUVN",28,0)
ST S ESPX="1.04" D RD G:$D(DUOUT) NOUPD S:+Y ESPD(1.04)=+Y S:'+Y ESPD(1.04)=""
"RTN","ESPUVN",29,0)
MAKE S ESPX="1.05" D RD G:$D(DUOUT) NOUPD S:+Y ESPD(1.05)=+Y S:'+Y ESPD(1.05)=""
"RTN","ESPUVN",30,0)
MOD S ESPX="1.06" D RD G:$D(DUOUT) NOUPD S ESPD(1.06)=Y
"RTN","ESPUVN",31,0)
STY S ESPX="1.07" D RD G:$D(DUOUT) NOUPD S ESPD(1.07)=Y
"RTN","ESPUVN",32,0)
VCOL S ESPX="1.08" D RD G:$D(DUOUT) NOUPD S:+Y ESPD(1.08)=+Y S:'+Y ESPD(1.08)=""
"RTN","ESPUVN",33,0)
YR S ESPX="1.09" D RD G:$D(DUOUT) NOUPD S ESPD(1.09)=Y
"RTN","ESPUVN",34,0)
 I ESPTYPE="C" G UPD
"RTN","ESPUVN",35,0)
CRT S ESPX="2.01" D RD G:$D(DUOUT) NOUPD S ESPD(2.01)=Y
"RTN","ESPUVN",36,0)
 I ESPD(2.01)<ESPD(.02),ESPD(2.01)'="" W !?5,$C(7),"Court Date must be after the Date/Time of Offense!" G CRT
"RTN","ESPUVN",37,0)
DISP S ESPX="2.02" D RD G:$D(DUOUT) NOUPD S:+Y ESPD(2.02)=+Y S:'+Y ESPD(2.02)=""
"RTN","ESPUVN",38,0)
RMK W !,"REMARKS: " S DWLW=80,DWPK=1,DIC="^TMP($J," D EN^DIWE
"RTN","ESPUVN",39,0)
UPD W !!!,"Updating."
"RTN","ESPUVN",40,0)
STUFF K DD,DO S DIC="^ESP(914,",DIC(0)="L",DLAYGO=914 D VIO^ESPOID D FILE^DICN
"RTN","ESPUVN",41,0)
 S ESPVIO=+Y
"RTN","ESPUVN",42,0)
 L +^ESP(914,ESPVIO):1 I '$T W !,"Another user is editing this record!!"
"RTN","ESPUVN",43,0)
 I ESPTYPE="C" G C
"RTN","ESPUVN",44,0)
 S ^ESP(914,ESPVIO,0)=ESPVIO_"^"_ESPD(.02)_"^V^"_ESPD(.04)_"^"_ESPD(.05)_"^"_ESPD(.06)_"^"_ESPD(.07)_"^"_ESPD(.08)_"^"_ESPFN_"^"_ESPD(.1)
"RTN","ESPUVN",45,0)
 S ^ESP(914,ESPVIO,1)=ESPD(1.01)_"^"_ESPD(1.02)_"^"_ESPD(1.03)_"^"_ESPD(1.04)_"^"_ESPD(1.05)_"^"_ESPD(1.06)_"^"_ESPD(1.07)_"^"_ESPD(1.08)_"^"_ESPD(1.09)
"RTN","ESPUVN",46,0)
 S ^ESP(914,ESPVIO,2)=ESPD(2.01)_"^"_ESPD(2.02),%X="^TMP("_$J_",",%Y="^ESP(914,"_ESPVIO_",10," D %XY^%RCR
"RTN","ESPUVN",47,0)
 S DIK="^ESP(914,",DA=ESPVIO D IX1^DIK K DIK,DD
"RTN","ESPUVN",48,0)
 W !!,"Done."
"RTN","ESPUVN",49,0)
 L -^ESP(914,ESPVIO)
"RTN","ESPUVN",50,0)
 G EXIT
"RTN","ESPUVN",51,0)
 ;
"RTN","ESPUVN",52,0)
C ;STUFF COURTESY VIOLATION
"RTN","ESPUVN",53,0)
 S ^ESP(914,ESPVIO,0)=ESPVIO_"^"_ESPD(.02)_"^C^"_ESPD(.04)_"^^"_ESPD(.06)_"^"_ESPD(.07)_"^"_ESPD(.08)_"^"_ESPFN_"^"_ESPD(.1)
"RTN","ESPUVN",54,0)
 S ^ESP(914,ESPVIO,1)=ESPD(1.01)_"^"_ESPD(1.02)_"^"_ESPD(1.03)_"^"_ESPD(1.04)_"^"_ESPD(1.05)_"^"_ESPD(1.06)_"^"_ESPD(1.07)_"^"_ESPD(1.08)_"^"_ESPD(1.09)
"RTN","ESPUVN",55,0)
 S DIK="^ESP(914,",DA=ESPVIO D IX1^DIK K DIK,DD
"RTN","ESPUVN",56,0)
 W !!,"Done."
"RTN","ESPUVN",57,0)
 L -^ESP(914,ESPVIO)
"RTN","ESPUVN",58,0)
EXIT K ESPFAC,ESPD,ESPFN,ESPTYPE,ESPVIO,ESPX,^TMP($J)
"RTN","ESPUVN",59,0)
 QUIT
"RTN","ESPUVN",60,0)
RD S DIR(0)="914,"_ESPX D ^DIR I $S(($L(X)>1&($E(X)=U)):1,($L(X)>1&(X[U)):1,1:0) D NO K X,Y G RD
"RTN","ESPUVN",61,0)
 K DIR
"RTN","ESPUVN",62,0)
 Q
"RTN","ESPUVN",63,0)
NO W $C(7),!!?5,"NO '^'S ALLOWED!",!! Q
"RTN","ESPUVN",64,0)
NOUPD W !!,$C(7),?20,"NO UPDATING HAS OCCURRED!!!",!! K ESPD,ESPX G DTO
"RTN","ESPUVN",65,0)
DISPL S ESPN=0 I '$O(^ESP(914,"E",ESPFN,ESPN)) W !!,"NO EXISTING VIOLATIONS FOR ",ESPNAM,! Q
"RTN","ESPUVN",66,0)
 W !!,"EXISTING VIOLATIONS FOR ",ESPNAM,!
"RTN","ESPUVN",67,0)
 W "ID#",?15,"DATE/TIME OF OFFENSE",?37,"OFFENSE CHARGED",?70,"TYPE"
"RTN","ESPUVN",68,0)
 F ESPN=0:0 S ESPN=$O(^ESP(914,"E",ESPFN,ESPN)) Q:ESPN=""  D
"RTN","ESPUVN",69,0)
 .  K ^UTILITY("DIQ1",$J)
"RTN","ESPUVN",70,0)
 .  S DIC="^ESP(914,",DR=".01;.02;.04;.03",DA=ESPN,DIQ(0)="IE" D EN^DIQ1
"RTN","ESPUVN",71,0)
 .  W !,^UTILITY("DIQ1",$J,914,DA,.01,"E"),?15,^UTILITY("DIQ1",$J,914,DA,.02,"E"),?37,^UTILITY("DIQ1",$J,914,DA,.04,"E"),?70,^UTILITY("DIQ1",$J,914,DA,.03,"E")
"RTN","ESPUVN",72,0)
 .  K DA
"RTN","ESPUVN",73,0)
 QUIT
"SEC","^DIC",914,914,0,"AUDIT")
@
"SEC","^DIC",914,914,0,"DD")
@
"SEC","^DIC",914,914,0,"DEL")
@
"SEC","^DIC",914,914,0,"LAYGO")
@
"SEC","^DIC",914,914,0,"RD")
@
"SEC","^DIC",914,914,0,"WR")
@
"VER")
8.0^22
"^DD",914,914,0)
FIELD^^.1^23
"^DD",914,914,0,"DDA")
N
"^DD",914,914,0,"DT")
3040301
"^DD",914,914,0,"ID",.02)
W "   ",$E($P(^(0),U,2),4,5)_"-"_$E($P(^(0),U,2),6,7)_"-"_$E($P(^(0),U,2),2,3)
"^DD",914,914,0,"ID",.04)
S %I=Y,Y=$S('$D(^(0)):"",$D(^ESP(915,+$P(^(0),U,4),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(915,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",914,914,0,"ID",1.03)
W:$D(^(1)) "   ",$P(^(1),U,3)
"^DD",914,914,0,"ID","WRITE")
W "   ",@("$P($P($C(59)_$S($D(^DD(914,.03,0)):$P(^(0),U,3),1:0)_$E("_DIC_"Y,0),0),$C(59)_$P(^(0),U,3)_"":"",2),$C(59),1)")
"^DD",914,914,0,"ID","WRITE1")
W "   ",$P(^(0),U,5)
"^DD",914,914,0,"IX","AC",914,.03)

"^DD",914,914,0,"IX","AD",914,.04)

"^DD",914,914,0,"IX","AE",914,.06)

"^DD",914,914,0,"IX","B",914,.01)

"^DD",914,914,0,"IX","C",914,.02)

"^DD",914,914,0,"IX","D",914,.05)

"^DD",914,914,0,"IX","E",914,.09)

"^DD",914,914,0,"IX","F",914,.01)

"^DD",914,914,0,"IX","G",914,1.03)

"^DD",914,914,0,"IX","I",914,1.02)

"^DD",914,914,0,"NM","ESP VIOLATIONS")

"^DD",914,914,.01,0)
ID NUMBER^RNJ12,0X^^0;1^D VIO^ESPOID S DINUM=X
"^DD",914,914,.01,1,0)
^.1
"^DD",914,914,.01,1,1,0)
914^B
"^DD",914,914,.01,1,1,1)
S ^ESP(914,"B",$E(X,1,30),DA)=""
"^DD",914,914,.01,1,1,2)
K ^ESP(914,"B",$E(X,1,30),DA)
"^DD",914,914,.01,1,2,0)
^^TRIGGER^914^5.01
"^DD",914,914,.01,1,2,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^ESP(914,D0,5)):^(5),1:"") S X=$P(Y(1),U,1),X=X S DIU=X K Y S X=DIV S X=^DD("SITE",1) X ^DD(914,.01,1,2,1.4)
"^DD",914,914,.01,1,2,1.4)
S DIH=$S($D(^ESP(914,DIV(0),5)):^(5),1:""),DIV=X S $P(^(5),U,1)=DIV,DIH=914,DIG=5.01 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",914,914,.01,1,2,2)
Q
"^DD",914,914,.01,1,2,3)
This cross-reference cannot be deleted!
"^DD",914,914,.01,1,2,"CREATE VALUE")
S X=^DD("SITE",1)
"^DD",914,914,.01,1,2,"DELETE VALUE")
NO EFFECT
"^DD",914,914,.01,1,2,"DT")
2920113
"^DD",914,914,.01,1,2,"FIELD")
INSTITUTION
"^DD",914,914,.01,1,3,0)
914^F^MUMPS
"^DD",914,914,.01,1,3,1)
S ^ESP(914,"F",+$E(X,$L(X)-5,$L(X))_"."_$E(X,$L(X)-7,$L(X)-6),DA)=""
"^DD",914,914,.01,1,3,2)
K ^ESP(914,"F",+$E(X,$L(X)-5,$L(X))_"."_$E(X,$L(X)-7,$L(X)-6),DA)
"^DD",914,914,.01,1,3,"%D",0)
^^5^5^2940331^^
"^DD",914,914,.01,1,3,"%D",1,0)
This x-ref allows you to enter a shortcut I.D. # for a Violation.
"^DD",914,914,.01,1,3,"%D",2,0)
The shortcut I.D. # is the sequential number, a period, and the 2-digit
"^DD",914,914,.01,1,3,"%D",3,0)
year, (e.g., 1.93 is the shortcut I.D. # for 700093000001, where 7000 is
"^DD",914,914,.01,1,3,"%D",4,0)
the internal entry # in the Institution file, 93 is the 2-digit year,
"^DD",914,914,.01,1,3,"%D",5,0)
and 000001 is the sequential #).
"^DD",914,914,.01,1,3,"DT")
2920114
"^DD",914,914,.01,3)
Type a Number between 1 and 999999999999, 0 Decimal Digits
"^DD",914,914,.01,21,0)
^^2^2^2940310^^^^
"^DD",914,914,.01,21,1,0)
This is the violation ID #.  It is the site # concatenated
"^DD",914,914,.01,21,2,0)
with year and the internal entry number.
"^DD",914,914,.01,"DT")
2930929
"^DD",914,914,.02,0)
DATE/TIME OF OFFENSE^RDX^^0;2^S %DT="ETXR",%DT(0)="-NOW" D ^%DT K %DT S X=Y K:Y<1 X
"^DD",914,914,.02,1,0)
^.1
"^DD",914,914,.02,1,1,0)
914^C
"^DD",914,914,.02,1,1,1)
S ^ESP(914,"C",$E(X,1,30),DA)=""
"^DD",914,914,.02,1,1,2)
K ^ESP(914,"C",$E(X,1,30),DA)
"^DD",914,914,.02,1,1,"DT")
2920103
"^DD",914,914,.02,3)
Enter the date/time of the offense.
"^DD",914,914,.02,21,0)
^^3^3^2931027^^^^
"^DD",914,914,.02,21,1,0)
The date/time of the commission of the offense charged.  Future dates 
"^DD",914,914,.02,21,2,0)
are not allowed.  Enter the date/time of the commission of the offense
"^DD",914,914,.02,21,3,0)
charged.  BOTH date and time must be entered.
"^DD",914,914,.02,22)

"^DD",914,914,.02,"DT")
3030410
"^DD",914,914,.03,0)
COURTESY/VIOLATION^S^C:COURTESY;V:USDCVN;^0;3^Q
"^DD",914,914,.03,1,0)
^.1
"^DD",914,914,.03,1,1,0)
914^AC
"^DD",914,914,.03,1,1,1)
S ^ESP(914,"AC",$E(X,1,30),DA)=""
"^DD",914,914,.03,1,1,2)
K ^ESP(914,"AC",$E(X,1,30),DA)
"^DD",914,914,.03,1,1,"DT")
2920103
"^DD",914,914,.03,3)
Select from the authorized codes.
"^DD",914,914,.03,21,0)
^^1^1^2930222^^
"^DD",914,914,.03,21,1,0)
Enter 'C' if this is a courtesy ticket or 'V' if this is a USDCVN.
"^DD",914,914,.03,"DT")
2920103
"^DD",914,914,.04,0)
OFFENSE CHARGED^RP915'^ESP(915,^0;4^Q
"^DD",914,914,.04,1,0)
^.1
"^DD",914,914,.04,1,1,0)
914^AD
"^DD",914,914,.04,1,1,1)
S ^ESP(914,"AD",$E(X,1,30),DA)=""
"^DD",914,914,.04,1,1,2)
K ^ESP(914,"AD",$E(X,1,30),DA)
"^DD",914,914,.04,1,1,"DT")
2920103
"^DD",914,914,.04,3)
You must select from the available listing.
"^DD",914,914,.04,21,0)
^^1^1^2930726^^^^
"^DD",914,914,.04,21,1,0)
Enter the specific statute or regulation violated.
"^DD",914,914,.04,"DT")
2930726
"^DD",914,914,.05,0)
VIOLATION NUMBER^RNJ6,0^^0;5^K:+X'=X!(X>999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",914,914,.05,1,0)
^.1
"^DD",914,914,.05,1,1,0)
914^D
"^DD",914,914,.05,1,1,1)
S ^ESP(914,"D",$E(X,1,30),DA)=""
"^DD",914,914,.05,1,1,2)
K ^ESP(914,"D",$E(X,1,30),DA)
"^DD",914,914,.05,1,1,"DT")
2920103
"^DD",914,914,.05,3)
Type a Number between 1 and 999999, 0 Decimal Digits
"^DD",914,914,.05,21,0)
^^3^3^2930707^^^
"^DD",914,914,.05,21,1,0)
Enter the number assigned to the U.S.D.C. Violation Notice.  Enter only
"^DD",914,914,.05,21,2,0)
the numerics of the number, the "V" is understood to exist since it
"^DD",914,914,.05,21,3,0)
has already been designated as a Violation Notice.
"^DD",914,914,.05,"DT")
2930707
"^DD",914,914,.06,0)
ISSUING OFFICER^R*P200'X^VA(200,^0;6^S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^(0),U),+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",914,914,.06,1,0)
^.1
"^DD",914,914,.06,1,1,0)
914^AE
"^DD",914,914,.06,1,1,1)
S ^ESP(914,"AE",$E(X,1,30),DA)=""
"^DD",914,914,.06,1,1,2)
K ^ESP(914,"AE",$E(X,1,30),DA)
"^DD",914,914,.06,1,1,"DT")
2920103
"^DD",914,914,.06,3)
Enter the issuing officer's name.
"^DD",914,914,.06,12)
Select a police officer currently assigned to the Service.
"^DD",914,914,.06,12.1)
S DIC("S")="I $D(^VA(200,""AK.ESP POLICE"",$P(^(0),U),+Y))"
"^DD",914,914,.06,21,0)
^^3^3^2930726^^^^
"^DD",914,914,.06,21,1,0)
Enter the name of the police officer issuing the ticket.  The officer's
"^DD",914,914,.06,21,2,0)
name must already be entered into the NEW PERSON file (200) and must
"^DD",914,914,.06,21,3,0)
also be assigned the ESP POLICE Security Key.
"^DD",914,914,.06,"DT")
3040324
"^DD",914,914,.07,0)
LOCATION^F^^0;7^K:$L(X)>30!($L(X)<3) X
"^DD",914,914,.07,3)
Answer must be [3-30 characters]. 
"^DD",914,914,.07,21,0)
^^3^3^2940310^^^
"^DD",914,914,.07,21,1,0)
Enter two reference points to identify the location where
"^DD",914,914,.07,21,2,0)
the violation occurred, (i.e., 10th Street and Union Avenue, Ward
"^DD",914,914,.07,21,3,0)
37, Room 134, Building 13D, Canteen).
"^DD",914,914,.07,"DT")
2920103
"^DD",914,914,.08,0)
OFFENSE DESCRIPTION^F^^0;8^K:$L(X)>30!($L(X)<3) X
"^DD",914,914,.08,3)
Answer must be [3-30 characters]. 
"^DD",914,914,.08,21,0)
^^3^3^2930222^^
"^DD",914,914,.08,21,1,0)
The description of the violation charged.  This space may be used to provide
"^DD",914,914,.08,21,2,0)
shorthand titles for common violations such as speeding or parking.
"^DD",914,914,.08,21,3,0)
This type of entry may be useful in developing violation trend studies.
"^DD",914,914,.08,"DT")
2920103
"^DD",914,914,.09,0)
OFFENDER^P910^ESP(910,^0;9^Q
"^DD",914,914,.09,1,0)
^.1
"^DD",914,914,.09,1,1,0)
914^E
"^DD",914,914,.09,1,1,1)
S ^ESP(914,"E",$E(X,1,30),DA)=""
"^DD",914,914,.09,1,1,2)
K ^ESP(914,"E",$E(X,1,30),DA)
"^DD",914,914,.09,1,1,"DT")
2920103
"^DD",914,914,.09,3)
Answer must be [3-30 characters].
"^DD",914,914,.09,21,0)
^^3^3^2930222^^^^
"^DD",914,914,.09,21,1,0)
Enter the name of the person receiving the ticket.  The name must also
"^DD",914,914,.09,21,2,0)
entered in the Master Name File (910).  The standard LAST,FIRST MIDDLE
"^DD",914,914,.09,21,3,0)
name format is to be used.
"^DD",914,914,.09,"DT")
2920103
"^DD",914,914,.1,0)
FACILITY^RP40.8'^DG(40.8,^0;10^Q
"^DD",914,914,.1,3)
Enter the Facility associated with this violation.
"^DD",914,914,.1,21,0)
^.001^2^2^3040618^^
"^DD",914,914,.1,21,1,0)
Use this field to identify the Facility that this violation is associated 
"^DD",914,914,.1,21,2,0)
with. 
"^DD",914,914,.1,"DT")
3040618
"^DD",914,914,1.01,0)
DECAL #^*P910.2'^ESP(910.2,^1;1^S DIC("S")="I $P(^(0),U,4)=1" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",914,914,1.01,3)

"^DD",914,914,1.01,12)
Must be a vehicle registration.
"^DD",914,914,1.01,12.1)
S DIC("S")="I $P(^(0),U,4)=1"
"^DD",914,914,1.01,21,0)
^^1^1^2930708^^^^
"^DD",914,914,1.01,21,1,0)
Enter the parking permit decal number.
"^DD",914,914,1.01,22)

"^DD",914,914,1.01,"DT")
2930708
"^DD",914,914,1.02,0)
DECAL COLOR^*P910.7'^ESP(910.7,^1;2^S DIC("S")="I $D(^(1)),$P(^(1),U,7)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",914,914,1.02,1,0)
^.1
"^DD",914,914,1.02,1,1,0)
914^I^MUMPS
"^DD",914,914,1.02,1,1,1)
S ^ESP(914,"I",$P(^ESP(914,DA,1),"^",1)_$P(^ESP(910.7,X,0),"^",1),DA)=""
"^DD",914,914,1.02,1,1,2)
K ^ESP(914,"I",$P(^ESP(914,DA,1),"^",1)_$P(^ESP(910.7,X,0),"^",1),DA)
"^DD",914,914,1.02,1,1,"%D",0)
^^1^1^2920104^
"^DD",914,914,1.02,1,1,"%D",1,0)
This cross-reference is used for lookup by decal # and decal color.
"^DD",914,914,1.02,1,1,"DT")
2920103
"^DD",914,914,1.02,3)
Choose from the available listing the color of the decal.
"^DD",914,914,1.02,12)
Enter a valid decal color.
"^DD",914,914,1.02,12.1)
S DIC("S")="I $D(^(1)),$P(^(1),U,7)"
"^DD",914,914,1.02,21,0)
^^1^1^2930222^^
"^DD",914,914,1.02,21,1,0)
Enter the color of the decal.  It must be in the Selectables file.
"^DD",914,914,1.02,"DT")
2920103
"^DD",914,914,1.03,0)
LICENSE TAG #^F^^1;3^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>14!($L(X)<1) X
"^DD",914,914,1.03,1,0)
^.1
"^DD",914,914,1.03,1,1,0)
914^G
"^DD",914,914,1.03,1,1,1)
S ^ESP(914,"G",$E(X,1,30),DA)=""
"^DD",914,914,1.03,1,1,2)
K ^ESP(914,"G",$E(X,1,30),DA)
"^DD",914,914,1.03,1,1,"%D",0)
^^2^2^2931207^
"^DD",914,914,1.03,1,1,"%D",1,0)
This cross reference allows VA Police staff to inquire and sort
"^DD",914,914,1.03,1,1,"%D",2,0)
violation records by the License Tag #.
"^DD",914,914,1.03,1,1,"DT")
2931206
"^DD",914,914,1.03,3)
Answer must be 1-14 characters in length.
"^DD",914,914,1.03,21,0)
^^2^2^2930629^^^^
"^DD",914,914,1.03,21,1,0)
Enter the license tag number of the vehicle involved in a vehicle
"^DD",914,914,1.03,21,2,0)
related offense.
"^DD",914,914,1.03,"DT")
2931206
"^DD",914,914,1.04,0)
LICENSE TAG STATE^P5'^DIC(5,^1;4^Q
"^DD",914,914,1.04,3)
Enter a State.
"^DD",914,914,1.04,21,0)
^^1^1^2930222^^^
"^DD",914,914,1.04,21,1,0)
Enter the state that issued the license tag number.
"^DD",914,914,1.04,"DT")
2920103
"^DD",914,914,1.05,0)
VEHICLE MAKE^*P910.7'^ESP(910.7,^1;5^S DIC("S")="I $D(^(2)),$P(^(2),U,1)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",914,914,1.05,3)
Enter the vehicle make.
"^DD",914,914,1.05,12)
Enter a valid vehicle make.
"^DD",914,914,1.05,12.1)
S DIC("S")="I $D(^(2)),$P(^(2),U,1)"
"^DD",914,914,1.05,21,0)
^^1^1^2930222^^
"^DD",914,914,1.05,21,1,0)
Enter the make of this vehicle.  It must be in the Selectables file.
"^DD",914,914,1.05,"DT")
2920103
"^DD",914,914,1.06,0)
VEHICLE MODEL^F^^1;6^K:$L(X)>30!($L(X)<3) X
"^DD",914,914,1.06,3)
Answer must be [3-30 characters]. 
"^DD",914,914,1.06,21,0)
^^1^1^2930222^^
"^DD",914,914,1.06,21,1,0)
Enter the model of this vehicle, i.e., GALAXIE, MUSTANG, BLAZER, etc.
"^DD",914,914,1.06,"DT")
2920103
"^DD",914,914,1.07,0)
VEHICLE STYLE^F^^1;7^K:$L(X)>30!($L(X)<3) X
"^DD",914,914,1.07,3)
Answer must be [3-30 characters]. 
"^DD",914,914,1.07,21,0)
^^1^1^2930628^^^
"^DD",914,914,1.07,21,1,0)
Enter the style of this vehicle, for example, TWO DOOR.
"^DD",914,914,1.07,"DT")
2920103
"^DD",914,914,1.08,0)
VEHICLE COLOR^*P910.7'^ESP(910.7,^1;8^S DIC("S")="I $D(^(1)),$P(^(1),U,3)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",914,914,1.08,3)
Enter the vehicle color.
"^DD",914,914,1.08,12)
Enter a valid vehicle color.
"^DD",914,914,1.08,12.1)
S DIC("S")="I $D(^(1)),$P(^(1),U,3)"
"^DD",914,914,1.08,21,0)
^^1^1^2930628^^^
"^DD",914,914,1.08,21,1,0)
Enter the color of this vehicle.  It must be in the Selectables file.
"^DD",914,914,1.08,"DT")
2920103
"^DD",914,914,1.09,0)
YEAR OF MANUFACTURE^D^^1;9^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",914,914,1.09,3)
Enter the year.
"^DD",914,914,1.09,21,0)
^^2^2^2930222^^
"^DD",914,914,1.09,21,1,0)
Enter the year of manufacture of the vehicle, may be entered as
"^DD",914,914,1.09,21,2,0)
1990 or 90, etc.
"^DD",914,914,1.09,"DT")
2920104
"^DD",914,914,2.01,0)
COURT DATE^D^^2;1^S %DT="ET" D ^%DT S X=Y K:Y<1 X
"^DD",914,914,2.01,3)
Enter a date.
"^DD",914,914,2.01,21,0)
^^1^1^2930222^^
"^DD",914,914,2.01,21,1,0)
Enter the date/time of the court appearance.
"^DD",914,914,2.01,"DT")
2920103
"^DD",914,914,2.02,0)
DISPOSITION^*P911.2^ESP(911.2,^2;2^S DIC("S")="I $D(^(1)),$P(^(1),U,3)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",914,914,2.02,3)
Select from the available listing.
"^DD",914,914,2.02,12)
Select a violation disposition.
"^DD",914,914,2.02,12.1)
S DIC("S")="I $D(^(1)),$P(^(1),U,3)"
"^DD",914,914,2.02,21,0)
^^2^2^2931025^^^^
"^DD",914,914,2.02,21,1,0)
Enter the code designating the disposition of this case.  The disposition
"^DD",914,914,2.02,21,2,0)
entered must be contained in the ESP DISPOSITION CODE file (911.2).
"^DD",914,914,2.02,"DT")
2920918
"^DD",914,914,5.01,0)
INSTITUTION^P4'I^DIC(4,^5;1^Q
"^DD",914,914,5.01,3)
This field is not entered by the user.
"^DD",914,914,5.01,5,1,0)
914^.01^2
"^DD",914,914,5.01,21,0)
^.001^1^1^3040205^^
"^DD",914,914,5.01,21,1,0)
This field is automatically triggered by the Institution File.
"^DD",914,914,5.01,"DT")
2930323
"^DD",914,914,10,0)
REMARKS^914.01^^10;0
"^DD",914,914,10,21,0)
^^1^1^2930628^^
"^DD",914,914,10,21,1,0)
Enter any remarks that you feel may be pertinent to record for this record.
"^DD",914,914,10,"DT")
2930628
"^DD",914,914.01,0)
REMARKS SUB-FIELD^^.01^1
"^DD",914,914.01,0,"DT")
2920103
"^DD",914,914.01,0,"NM","REMARKS")

"^DD",914,914.01,0,"UP")
914
"^DD",914,914.01,.01,0)
REMARKS^W^^0;1^Q
"^DD",914,914.01,.01,3)
Enter any remarks you wish to record.
"^DD",914,914.01,.01,"DT")
2930628
"^DIC",914,914,0)
ESP VIOLATIONS^914I
"^DIC",914,914,0,"GL")
^ESP(914,
"^DIC",914,914,"%D",0)
^1.001^3^3^3040618^^^^
"^DIC",914,914,"%D",1,0)
The ESP VIOLATIONS file contains data recording the issuing of either
"^DIC",914,914,"%D",2,0)
a United States District Court Violation Notice (VA Form 10-9019)
"^DIC",914,914,"%D",3,0)
or VA Police Courtesy Violation Notice (VA Form 10-6160).
"^DIC",914,"B","ESP VIOLATIONS",914)

**END**
**END**
