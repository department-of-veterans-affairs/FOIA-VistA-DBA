
=============================================================================
Run Date: MAY 26, 2006                     Designation: XU*8*325
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #337                      Status: Released
                  Compliance Date: JUN 26, 2006
=============================================================================


Subject: XUPS PERSON QUERY 

Category: 
  - Routine

Description:
============

  This patch provides the functionality to query the NEW PERSON (#200) 
  file.   The calling application may query the NEW PERSON (#200) file by 
  using either the VPID of the requested entry or part or all of a last 
  name.  Other optional parameters may be passed to the call as additional 
  filters.  They include:
  
  XUPSFNAM - Value set to null or contains the full or partial first  
             name
  XUPSSSN  - Value set to null or contain the 9 digits of the Social  
             Security Number
  XUPSPROV - Value set to null or "P".  If set to "P", screens for 
             providers (persons with active user class)
  XUPSSTN  - Value set to null or station number
  XUPSMNM  - Contains the maximum number of entries (1-50) to be 
             returned.  Defaults to 50.
  XUPSDATE - Contains the date used to determine if person class is 
             active.  Defaults to current date.
  
  Results are returned in a global array:
  
      ^TMP($J,"XUPSQRY",1) - 1 if found, 0 if not found
      ^TMP($J,"XUPSQRY",n,0) - VPID^IEN^Last Name~First Name~
                               Middle Name^SSN^DOB^SEX^
      ^TMP($J,"XUPSQRY",n,1) - Provider Type^
      ^TMP($J,"XUPSQRY",n,2) - Provider Classification^
      ^TMP($J,"XUPSQRY",n,3) - Provider Area of Specialization^
      ^TMP($J,"XUPSQRY",n,4) - VA CODE^X12 CODE^Specialty Code^
                               end-of-record character "|"
  
  The functionality provided by this patch will be invisible to existing M 
  VistA applications.  It is being released to support upcoming HealtheVet 
  applications.
  
  NEW OPTION:
  ----------
  
  XUPS VISTALINK is a new Broker (Client/Server) type option.  
  
  REMOTE PROCEDURE CALL:
  ---------------------
  
  XUPS PERSONQUERY - This RPC returns an array of data elements from the 
  NEW PERSON (#200) file based on the input parameters passed to the call.
  Input parameters and output array are document above. 
  
  Entry point for this RPC is EN1^XUPSQRY.  
  
  Test Sites:
  ==========
  
  Augusta VAMC
  Hines VAMC
  Tuscon VAMC
  Puget Sound HCS VAMC
  
  ROUTINE SUMMARY: 
  ================
  
  The following is a list of the routine(s) included in this 
  patch.  The second line of each of these routine(s) will look 
  like: 
  
      <tab>;;8.0;KERNEL;**[patch list]**; Jul 10, 1995
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  XUPSQRY                    N/A             16496379             325
  XUPSUTL1                   N/A              5470876             325
  
  NEW:  
                             CHECK1^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  XUPSQRY                    N/A             35986409             325
  XUPSUTL1                   N/A              7798985             325
  
  Blood Bank Clearance
  ====================
  Clearance - 11/3/2004 & 9/22/2005
  
  EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch XU*8*325 contains 
  changes to a package referenced in VHA IO SEPG SOP 192-023 "Review of 
  VISTA Patches for Effects on VISTA Blood Bank Software . This patch does 
  not alter or modify any VistA Blood Bank software design safeguards or 
  safety critical elements functions.
  
  RISK ANALYSIS: Changes made by patch XU*8*325 have no effect on Blood 
  Bank software functionality, therefore RISK is none.
  
  SOFTWARE RETRIEVAL:
  ================== 
  
  This patch is not being distributed through the National Patch Module.
  The distribution file XU_8_325.KID may be obtained using FTP from the  
  ANONYMOUS.SOFTWARE directory at DOWNLOAD.VISTA.MED.VA.GOV or from 
  specific servers at:
  
             Albany:  ftp.fo-albany.med.va.gov
              Hines:  ftp.fo-hines.med.va.gov
     Salt Lake City:  ftp.fo-slc.med.va.gov
  
     Host file name: XU_8_325.KID
   
  INSTALLATION INSTRUCTIONS:
  ==========================
  This patch can be loaded with users on the system.  Installation
  will take less than 5 minutes.   
  
                       **Warning** 
  When an option is included in the patch build, the question REBUILD MENUS
  is asked as a PRE-INSTALL question. If you choose to have KIDs rebuild 
  the menus, it will happen at the end of the build installation and may
  take several hours.
  
  Note: Most sites have a nightly batch job that rebuilds the menus so if
  you queued the installations ensure that it will complete prior to the 
  batch job.  Or, if you are installing several builds, wait until the last
  one to use the KIDs rebuild functionality.
  
                          ****
  
  1.  Use LOAD A DISTRIBUTION option on the KIDS INSTALLATION Menu, and 
      enter: XU_8_325.KID.
  
  2.  From the Kernel Installation and Distribution System Menu, select 
      the Installation menu.  
  
  3.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter XU*8.0*325): 
  
      a.  Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
      b.  Compare Transport Global to Current System  - this option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch (routines,
          DDs, templates, etc.).
      c.  Verify Checksums in Transport Global - this option will
          allow you to ensure the integrity of the routines that are in
          the transport global.
      d.  Print Transport Global - this option will allow you to view the
          components of the KIDS build.
  
  4.  Use the Install Package(s) option and select the package XU*8.0*325. 
  
  5.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
      YES??//',respond NO.
  
  6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, 
      and Protocols? YES//', respond NO.

Routine Information:
====================
Routine Name: XUPSQRY
Routine Name: XUPSUTL1

=============================================================================
User Information:
Entered By  : ROY,JERRY                     Date Entered  : AUG 26, 2003
Completed By: SINGH,GURBIR                  Date Completed: MAY 25, 2006
Released By : FITCH,DONNA                   Date Released : MAY 26, 2006
=============================================================================


Packman Mail Message:
=====================

No routines included
