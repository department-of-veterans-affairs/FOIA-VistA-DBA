$TXT Created by KNOEPFLE,RICH at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Thursday, 10/26/06 at 12:06
=============================================================================
Run Date: NOV 21, 2006                     Designation: FH*5.5*7
Package : FH - DIETETICS                      Priority: Mandatory
Version : 5.5         SEQ #5                    Status: Released
                  Compliance Date: DEC 05, 2006
=============================================================================


Subject: NFS API for DSS Extract

Category: 
  - Routine

Description:
============

 This patch contains the following item:
    
 1) New routine FHDSSAPI which introduces a Nutrition and Food Service (NFS)
 Application Programmer Interface (API ) for the Decision Support System (DSS)
 Extract providing inpatient and outpatient data within a given date range.
 The entry point is DATA^FHDSSAPI(StartDate,EndDate), and data is returned
 in a subscripted ^TMP global.  Inpatient data will be returned but will
 not be utilized until a future DSS Extract.  Outpatient data will screen
 out orders for individuals in the New Person (#200) file, and only return
 outpatient meal orders for individuals in the Patient (#2) file.  Details
 on calling the API and the format of data returned are included below:
    
 API Name: DATA^FHDSSAPI
    
 Input: START DATE, END DATE in FileMan format
    
 Output: ^TMP($J,"FH"   Note: See below for detailed description of subscripts.
    
 Sample Call:  D DATA^FHDSSAPI(3020101,3060323)
    
 Returned Data: Note: FHDFN = IEN IN NUTRITION PATIENT FILE (#115)
                              ADMISSION = POINTER TO PATIENT MOVEMENT FILE (#405)
                              NUMBER = IEN IN MULTIPLES
    
 INPATIENT DATA:
    
 Diets
 =====
 Node 0 returned, subscripted by: DATE/TIME, FHDFN, ADMISSION, "INP"
 Example:
 ^TMP(539519282,"FH",3060301.123818,38,1747,"INP")=3^19^20^^^^^T^3060301.123818^^1901^3060301.123819^10^18665^6
    
 Early/Late Trays
 ================
 Node 0 returned, subscripted by: DATE/TIME, FHDFN, ADMISSION, "EL"
 Example:
 ^TMP(539519282,"FH",3060217.09,167,1867,"EL")=3060217.09^B^9:00A^N^28^3060217.081246^18636
    
 Supplemental Feedings
 =====================
 Node 0 returned, subscripted by DATE/TIME, FHDFN, ADMISSION, "SF"
 Example:
 ^TMP(539519282,"FH",3060320.143641,110,1952,"SF")=13^3060320.143641^28^1^^^^^^^^^4^1^^^^^^^^^^^^^^^D^3060320.143641^28
    
 Standing Orders
 ===============
 Node 0 returned, subscripted by DATE/TIME, FHDFN, ADMISSION, "SO"
 Example:
 ^TMP(539519282,"FH",3060217.081246,167,1867,"SO")=37^10^E^3060217.081246^28^^^1^Y
    
 Tube Feedings
 =============
 Node 0 returned, subscripted by DATE/TIME, FHDFN, ADMISSION, "TF"
 "P" multiple, subscripted by DATE/TIME, FHDFN, ADMISSION, "TF", NUMBER, "P"
 Example:
 ^TMP(539519282,"FH",3050607.144506,96,1979,"TF")=3050607.144506^^^^^0^0^^^1901^3050607.150907^1901^^17777
 ^TMP(539519282,"FH",3050607.144506,96,1979,"TF",1,"P")=5^4^2000 GM Three times a Day^0^0^0
    
 __________________________________________________________________________
    
 OUTPATIENT DATA:
    
 Recurring Meals
 ===============
 Node 0 returned, subscripted by DATE, FHDFN, NUMBER, "RM"
 Example: 
 ^TMP(539519282,"FH",3060321,27,290,"RM")=3060321^^19^N^^39^26^^^^^^3060321.145836^^^^28
    
 Early/Late Trays for Recurring Meals
 ====================================
 Node 0 returned, subscripted by DATE, FHDFN, NUMBER, "RMEL"
 Example: 
 ^TMP(539519282,"FH",3050429,27,115,"RMEL")=3:40P^Y^1901^3050426.1202^17687
    
 Tube Feedings for Recurring Meals
 =================================
 Node 0 returned, subscripted by DATE, FHDFN, NUMBER, "RMTF"
 "TF" multiple, subscripted by DATE, FHDFN, NUMBER, "RMTF",NUMBER
 Example: 
 ^TMP(539519282,"FH",3050701,27,136,"RMTF")=TEST456^3600^2100^^^1901
 ^TMP(539519282,"FH",3050701,27,136,"RMTF",4)=4^1^50 ML per Hour^300^900^300
                                           8)=8^1^100 ML per Hour^600^1800^1800
    
 Special Meals
 =============
 Node 0 returned, subscripted by DATE/TIME, FHDFN, "SM"
 Example: 
 ^TMP(539519282,"FH",3060321.135314,191,"SM")=3060321.135314^A^21^26^1901^1901^3060321.135314^^E^3060321.151333
    
 Guest Meals
 ===========
 Node 0 returned, subscripted by DATE/TIME, FHDFN, "GM"
 Example: 
 ^TMP(539519282,"FH",3060210.13,149,"GM")=3060210.13^O^N^^20^26^^3060210.085123
    
 __________________________________________________________________________
       
 ZERO NODE OF ENTRIES FOUND IN NUTRITION PATIENT FILE (#115):
 Node 0 returned, subscripted by: FHDFN
 Example:
 ^TMP(540084745,"FH","ZN",38)=P38^^38
    
 Data Dictionary Changes:
 ========================
    
 There are no Data Dictionary changes in this patch.           
    
    
 Routine Summary: 
 ================
    
 The following routine is included in this patch.  The second line of 
 this routine should look like: 
    
  <tab>;;5.5;DIETETICS;**[patch list]**;Jan 28, 2005
    
 CHECK1^XTSUMBLD results:   (NEW CHECKSUM VALUES)
    
 Routine       Pre Patch 7         Post Patch 7        Patch List
 ==========    ===============     ===============     ===============
 FHDSSAPI      N/A                 21032379            7
    
 CHECK^XTSUMBLD results:   (OLD CHECKSUM VALUES)
    
 Routine       Pre Patch 7         Post Patch 7        Patch List
 ==========    ===============     ===============     ===============
 FHDSSAPI      N/A                 11906507            7
    
 Total number of routines: 1 
 Total number of routines modified: 0
 Total number of new routines: 1
 Total number of deleted routines: 0
    
    
 Test Sites
 ==========
 Central Texas HCS
 Chillicothe VAMC
 Little Rock VAMC
 Cheyenne VAMC
    
    
 ----------------------------------------------------------------------------
    
 Installation instructions:
 ==========================
    
 This Patch is created with Kernel V8 KIDS.  Follow these instructions:   
    
 1) Use Packman option 'INSTALL/CHECK MESSAGE' to load the KIDS build
    onto your system.
    
 2) On the KIDS menu, under the 'Installation' menu, use the                
    option 'Verify Checksum in Transport Global' and verify that all        
    routines have the correct checksums. 
    
 3) From the 'Installation' Menu of KIDS, use the option                    
    'Install Package(s)'.  Select the package 'FH*5.5*7' and proceed
    with install.   Users may remain on the system.  Install
    should take less than two minutes.
    
 4) The routines included in this patch should be installed in the
    production UCI.  The DIETETICS options do not need to be disabled
    during the installation of this patch.  Your customer support
    representative will answer any questions regarding this patch.
    
 5) Recommended responses to the following installation questions:
    
    Want KIDS to INHIBIT LOGONs during the install? YES// NO
    Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
 
 
 
 
 
 
 

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: FHDSSAPI
    Before:       n/a  After: B21032379  **7**

=============================================================================
User Information:
Entered By  : KNOEPFLE,RICH                 Date Entered  : MAR 24, 2006
Completed By: PATRICK,PAT                   Date Completed: NOV 21, 2006
Released By : KREUZ,SHERI B                 Date Released : NOV 21, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
