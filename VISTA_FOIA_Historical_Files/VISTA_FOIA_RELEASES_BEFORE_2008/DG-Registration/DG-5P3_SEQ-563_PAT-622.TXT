$TXT Created by THEROUX,JOHN at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 01/21/05 at 13:17
=============================================================================
Run Date: MAR 25, 2005                     Designation: DG*5.3*622
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #563                    Status: Released
                  Compliance Date: APR 25, 2005
=============================================================================

Associated patches: (v)DG*5.3*572  <<= must be installed BEFORE `DG*5.3*622'

Subject: RACE AND ETHNICITY DATA CORRUPTION - CLEANUP/REPAIR

Category: 
  - Routine

Description:
============

 This patch will remove any duplicate race entries in the 2.02 multiple
 of the patient file, and any duplicate ethnicity entries in the 2.06 
 multiple, and will ensure that when data is imported using the 
 Register Once Messaging (ROM) query during registration, that entries
 in the 2.02 Race and 2.06 Ethnicity multiples are dynamically numbered.
  
 ASSOCIATED REMEDY/NOIS:
 ======================
 HD63644 - AAC-1003-72235 - Duplicate Race Codes
 HD64232 - ISD-0904-71558 - Register Once Messaging Filing Race Information
                            Incorrectly
  
 PARTICIPATING TEST SITES:
 ========================
 Grand Junction,CO
 Montanta HCS
 Puget Sound HCS
  
 REMEDY/NOIS OVERVIEW:
 ====================
 1) HD63644 - AAC-1003-72235 - Duplicate Race Codes
  
 Problem:
 ========
 Austin Automation Center reported that some duplicate race entries are
 being transmitted in HL7 messages.
  
 Resolution:
 ===========
 Although some duplicate entries have been identified, this does not
 appear to be a continuing problem.  This patch will provide a 
 cleanup routine DG53P622 that will delete any duplicate entries
 in the Race Information (2.02 multiple), or in the Ethnicity 
 Information (2.06 multiple). See Post-Install Instructions. 
  
 2) ISD-0904-71558 - Register Once Messaging Filing Race Information 
                     incorrectly
 Problem:
 ========
 While researching AAC-1003-72235 above, we found that there was a
 problem with the filing of some of the Race Information (2.02 multiple)
 entries. The problem was discovered within the Register Once Messaging 
 application, where the filing of the data did not include the dynamic 
 numbering that is required.  We also found the same problem to exist
 for the Ethnicity Information (2.06 multiple) entries.
  
 Resolution:
 ===========
 Routine DGROHLR1 has been modified to include the dynamic numbering
 with the filing of the race and ethnicity information.  A cleanup
 routine DG53P622 will delete any entries that were filed incorrectly
 and refile these entries properly dynamically numbered. See Post- 
 Install Instructions.
  
 ROUTINE SUMMARY:
 ==================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;AUG 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DG53P622                   N/A              6893267               622
  DGROHLR1               5650285              6101633           572,622
  
  
 INSTALLATION INSTRUCTIONS:
 ===========================
 Installation will take less than 2 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
  
 2.  Review your mapped set.  If any of the routines listed in the 
     ROUTINE section are mapped, they should be removed from the mapped
     set at this time.
  
 3.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter DG*5.3*622):
     a.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch (routines,
         DDs, templates, etc.).
     b.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in
         the transport global.
     c.  Print Transport Global - this option will allow you to view the
         components of the KIDS build.
     d.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
  
 5.  Use the Install Package(s) option and select the package DG*5.3*622.
  
 6.  When prompted ' Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO.
  
 7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond YES.  When prompted to select the options
     you would like to place out of order, enter:  
  
          DG REGISTER PATIENT            Register a Patient
  
 8.  If routines were unmapped as part of step 2, they should be returned
     to the mapped set once the installation has run to completion.
  
  
 POST-INSTALLATION INSTRUCTIONS:
 ==============================
 a.  Installing the patch will NOT do the file cleanup.  We recommend that 
     you first run REPORT^DG53P622 (queuing is advised) to obtain a list
     by DFN of what the cleanup will do. We expect few, if any, duplicates,
     but all the records that the Register Once Messaging application has
     processed will need cleanup.  
      
 b.  When you are ready to do the actual cleanup (assuming there are 
     records in the report), run CLEANUP^DG53P622. We recommend that
     you queue the job to run during non-peak hours because of the heavy
     processing involved.  When the cleanup has completed, run
     REPORT^DG53P622 again. It should display "no records to report". You
     can then delete routine DG53P622. 

Routine Information:
====================

Routine Name:
  - DGROHLR1


Routine Checksum:

Routine Name:
  - DG53P622


Routine Checksum:

=============================================================================
User Information:
Entered By  : FISHER,BRAD                   Date Entered  : SEP 22, 2004
Completed By: BOWEN,MARY JANE               Date Completed: MAR 23, 2005
Released By : HEUER,CINDY                   Date Released : MAR 25, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
