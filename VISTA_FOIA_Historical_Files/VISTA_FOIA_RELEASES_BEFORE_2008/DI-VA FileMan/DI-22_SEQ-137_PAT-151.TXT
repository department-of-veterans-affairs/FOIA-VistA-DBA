$TXT Created by ORMSBY,SKIP at FM22-PATCH.FO-OAKLAND.MED.VA.GOV  (KIDS) on Friday, 08/31/07 at 02:03
=============================================================================
Run Date: OCT 18, 2007                     Designation: DI*22*151
Package : DI - VA FILEMAN                     Priority: Mandatory
Version : 22       SEQ #137                     Status: Released
                  Compliance Date: NOV 18, 2007
=============================================================================

Associated patches: (v)DI*22*8     <<= must be installed BEFORE `DI*22*151'
                    (v)DI*22*11    <<= must be installed BEFORE `DI*22*151'
                    (v)DI*22*54    <<= must be installed BEFORE `DI*22*151'
                    (v)DI*22*57    <<= must be installed BEFORE `DI*22*151'
                    (v)DI*22*103   <<= must be installed BEFORE `DI*22*151'
                    (v)DI*22*118   <<= must be installed BEFORE `DI*22*151'
                    (v)DI*22*147   <<= must be installed BEFORE `DI*22*151'

Subject: ScreenMan Fixes

Category: 
  - Routine

Description:
============

 This patch corrects the following issues:
  
   1.  If a form is being used and that form contains a field that is no 
 longer part of the Data Dictionary for the file, the dialog #501 error 
 message is generated and displayed to the user, when the user tried to
 save the changes. Unfortunately there was no pause to allow the user to
 see the error, therefore the user didn't realize there even an error and
 would keep trying to save the changes.
   Remedy Ticket: 63520
  
   2.  When doing a double question mark (??) help on a multiple field 
 who's data type is a SET OF CODES, an Undefined error would occur at 
 Line: % of Routine: DICQ.
   Remedy Ticket: 63586
  
   3.  If a user is using FileMan option 'Run a Form [DDS RUN A FORM]' and 
 that form that included a field that is a POINTER to a file and another
 user was accessing the same form, the following messages would be 
 displayed:
  The record is currently locked.
  The record is currently locked.
  Page n (Page n) could not be loaded.
  
 followed by an Undefined error at Line: END in Routine: DDS41.
   Remedy Ticket: 63595
  
 4.  When a field on a Form Points To a file and the Identifiers for an 
 entry are greater than the margin width and there are multiple 
 selections, the user has problems making a selection.
   Remedy Ticket: 156936
  
 5.  When a user is using DIMODIFY[Modify File Attributes], ScreenMan mode 
 version, and deletes a field that is contained in a New Style cross 
 reference and deletes the data, the New Style cross reference will be 
 deleted, but not the actual cross referenced data.
   Remedy Ticket: 92650
  
 6.  If a user was editing data and there is a New Style cross reference
 and the user change the data without closing the form, then the New Style
 cross reference would not be properly updated.
   Remedy Ticket: 63877
  
 Documentation Changes
 =====================
  -None-
  
 Blood Bank Team Coordination
 ============================
 Clearance - May 17, 2007
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch DI*22*151 contains 
 changes to a package referenced in VHA OI SEPG SOP 192-023 Review of 
 VISTA Patches for Effects on VISTA Blood Bank Software. This patch does 
 not alter or modify any VistA Blood Bank software design safeguards or 
 safety critical elements functions.
  
 RISK ANALYSIS: Changes made by patch DI*22*151 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 Remedy Tickets
 ==============
  63520; 63586; 63595; 63877; 92650; 156936
  
 Thanks to Test Sites 
 ====================
  BRONX, NY
  IRON MOUNTAIN, MI
  PALO ALTO HCS
  SALISBURY, NC
  
 Routine Summary: 
 ================
  The following routines are included in this patch.  The second line of 
 these routines now look like: 
   
   <tab>;;22.0;VA FileMan;**[patch list]**;Mar 30, 1999 
   
 CHECK^XTSUMBLD results: 
   
   Routine Name   Before Patch    After Patch     Patch List 
   ============   ============    ===========     ==========
   DDS            6295432         6678568         151
   DDS0           3618885         3648869         8,151
   DDS10          2667334         3393190         147,151
   DDS11          7440235         7730913         151
   DDS4           6730168         6849840         11,151
   DDS41          8701549         8792059         8,151
   DDSRUN         1173936         1337495         151
   DDSU           4595254         5021862         4,3,54,151
   DI151ENV       N/A             2616953         151
   DICATTDE       13634460        13735345        42,83,103,151
   DICATTDK       2862233         3635015         8,118,151
   DICQ           6818462         6829094         4,3,57,151
  
 Note: Routine: DI151ENV issues a warning during the installation of 
 this patch if it appears that TaskMan is still running and/or logons have
 not been inhibited.
  
 Installation Instructions: 
 ==========================
 ** Although queuing of this patch is allowed, it is HIGHLY recommended 
 that ALL Users be off the system and VISTA Background jobs be STOPPED 
 before this patch is installed. Failure to do so may result in 'source 
 routine edited' errors during a database update. Edits may be lost and 
 records may be left in an inconsistent state. An error that occurs before 
 a cross-reference is executed, for example, may lead to corrupted data or 
 hard errors in the future. **
  
 The following installation instructions are based upon the premise that 
 the installer has heeded the above warning.
  
 Installation should take less than a minute.
  
      1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This 
 option will load the KIDS package onto your system.
  
      2.  The patch has now been loaded into a transport global on your 
 system. You now need to use KIDS to install the transport global.
  
      3.  On the KIDS menu, under the 'Installation' menu, use the 
 following options:
  
            Print Transport Global
            Compare Transport Global to Current System
            Verify Checksums in Transport Global
            Backup a Transport Global
  
      4.  In accordance with the warning at the beginning of the 
 installation instructions, make sure ALL interactive processes, and ALL 
 non-interactive background jobs are stopped following your site specific 
 procedures.  NOT performing this step could result in 'source routine
 edited' errors during database updates, and records may be left in an
 inconsistent state.
  
      5.  On the KIDS menu, under the 'Installation' menu, use the 
 following option:
  
            Select Installation Option: Install Package(s)
            Select INSTALL NAME: DI*22.0*151
                                 ===========
  
 The Environment Check Routine DI151ENV runs automatically during this
 step. DI151ENV issues a warning if it appears that TaskMan is still 
 running or logons have not been inhibited.
  
            Answer 'YES' to 'Want KIDS to INHIBIT LOGONs during the 
 install?'
            Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu 
 Options, and Protocols?
  
      6.  Reenable all processes stopped in step 4 above.
  
 Post Installation
 =================
 Upon sucessful instalation of this patch, routine DI151ENV may be deleted.
   Example
   =======
 >D ^ZTRDEL
  
  
 ROUTINE DELETE
  
 All Routines? No => No
  
 Routine: DI151ENV
 Routine: 
 1 routine
  
 1 routines to DELETE, OK: NO// Y
 DI151ENV  
 Done.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;22.0;VA FileMan;**[Patch List]**;Mar 30, 1999;Build 10

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DDS
    Before: B29730412   After: B31450099  **151**
Routine Name: DDS0
    Before: B17376810   After: B17534410  **8,151**
Routine Name: DDS10
    Before:  B9505384   After: B10373560  **147,151**
Routine Name: DDS11
    Before: B25655127   After: B26452550  **151**
Routine Name: DDS4
    Before: B25261387   After: B25495567  **11,151**
Routine Name: DDS41
    Before: B34840273   After: B34976567  **8,151**
Routine Name: DDSRUN
    Before:  B2301260   After:  B2550961  **151**
Routine Name: DDSU
    Before: B21268869   After: B22175755  **4,3,54,151**
Routine Name: DI151ENV
    Before:       n/a   After:  B3744962  **151**
Routine Name: DICATTDE
    Before: B26223602   After: B26617595  **42,83,103,151**
Routine Name: DICATTDK
    Before:  B4819324   After:  B6186767  **8,118,151**
Routine Name: DICQ
    Before: B21749865   After: B21798425  **4,3,57,151**
 
Routine list of preceding patches: 11, 54, 57, 103, 118, 147

=============================================================================
User Information:
Entered By  : ORMSBY,SKIP                   Date Entered  : SEP 06, 2006
Completed By: SINGH,GURBIR                  Date Completed: OCT 18, 2007
Released By : HARROD,PAUL                   Date Released : OCT 18, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
