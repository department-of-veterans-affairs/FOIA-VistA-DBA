$TXT Created by BROWN,MICHAEL D at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 09/22/05 at 15:38
=============================================================================
Run Date: DEC 22, 2005                     Designation: GMTS*2.7*79
Package : GMTS - HEALTH SUMMARY               Priority: Mandatory
Version : 2.7        SEQ #71                    Status: Released
                  Compliance Date: JAN 22, 2006
=============================================================================

Associated patches: (v)GMTS*2.7*47 <<= must be installed BEFORE `GMTS*2.7*79'
                    (v)GMTS*2.7*56 <<= must be installed BEFORE `GMTS*2.7*79'

Subject: CORRECT REFERENCE RANGES ON REPORT TABS

Category: 
  - Routine

Description:
============

 Health summary needs to use a new Lab API to collect the correct data for
 test results from the Lab package.
  
 ASSOCIATED E3R(s):
 ==================
 N/A
  
 ASSOCIATED REMEDY TICKET:
 ========================
 HD0000000106251 - Lab Reference Ranges incorrect on Reports Tab after
                      edits in file 60.
 Duplicate:
 HD0000000110252 - CHEM & HEM doesn't include Ref Range in comments
  
 PARTICIPATING TEST SITES:
 =========================
 Durham,NC
 Salem,VA
 Togus,Maine
 Upstate New York HCS
  
  
 REMEDY TICKET OVERVIEW:
 ======================
 HD0000000106251 - Lab Reference Ranges incorrect on Reports Tab after
                      edits in file 60.
  
 Problem:
 --------
 Functionality introduced with LR*5.2*286 changed the way reported test
 results (using Lab reporting options) associated the result with the
 reference range.  Prior to LR*5.2*286, test reference ranges were pulled
 from definitions in LABORATORY TEST (#60) file and associated with the
 corresponding test result pulled from LAB DATA (#63) file.  However, since
 LR*5.2*221, reference ranges have been stored in LAB DATA (#63) File in
 the same node as the test result. LR*5.2*286 changed Lab reporting options
 to use this stored value on reports.  This enables Lab to change reference
 ranges without creating new tests on LABORATORY TEST (#60) file and data
 storage locations LAB DATA (#63) file everytime a new reference range is
 required.  Unfortunately, such changes to Health Summary Lab reports were
 not made, thus if Lab applies new reference ranges, Health Summary would
 still be applying the old reference ranges to the new test values.  The
 values returned by the the Lab API are:
  
       1. TEST RESULT
       2. NORMALCY
       3. REFERENCE LOW
       4. REFERENCE HIGH
       5. UNITS
       6. PERFORMING LABORATORY
       7. THERAPEUTIC NORMAL USED
       8. NATIONAL LABORATORY TEST ORDER CODE
       9. USER WHO PERFORMED THE TEST
       10. EQUIPMENT INSTANCE IDENTIFIER
  
  
 Resolution:
 -----------
 Routines CHSET^GMTSLRSE and NXTST^GMTSLRCE were modified to pull the
 appropriate data using the new lab API (^LRRPU) instead of using direct
 calls to LABORATORY TEST (#60) file.
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
      <tab>;;2.7;Health Summary;**[PATCH LIST]**;Oct 20, 1995
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  GMTSLRCE            4761858               4300517          18,28,29,56,79
  GMTSLRSE            3596530               3119459          28,36,47,79
  
                             CHECK1^XTSUMBLD results
  
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ===========
  GMTSLRCE            9938328               9238847          18,28,29,56,79
  GMTSLRSE            7379227               6635409          28,36,47,79
  
  
 INSTALLATION INSTRUCTIONS:
 =========================
 This patch can be loaded with users in the system.  Installation time
 will be less than 2 minutes.
  
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
  
  2.  Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
  3.  From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter GMTS*2.7*79):
      
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  4.  Use the Install Package(s) option and select the package
      GMTS*2.7*79.
  
      a.  When prompted "Want KIDS to INHIBIT LOGONs during the
          install? YES//", answer YES.
      b.  When prompted "Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//", answer YES.
      c.  When prompted "Enter options you wish to mark as 'Out Of Order':",
          enter the following options:
  
            GMTS HS ADHOC     Ad Hoc Health Summary
  
      d.  When prompted "Enter protocols you wish to mark as 'Out Of Order':",
          press <return>.
  
      e.  When prompted "Delay Install (Minutes):  (0-60): 0//", press
          <return>.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: GMTSLRCE
    Before:  B9938328  After:  B9238847  
Routine Name: GMTSLRSE
    Before:  B7379227  After:  B6635409  

=============================================================================
User Information:
Entered By  : BROWN,MICHAEL D               Date Entered  : SEP 02, 2005
Completed By: ILUSTRISIMO,LUCY              Date Completed: DEC 22, 2005
Released By : LECLAIR,RAY                   Date Released : DEC 22, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
