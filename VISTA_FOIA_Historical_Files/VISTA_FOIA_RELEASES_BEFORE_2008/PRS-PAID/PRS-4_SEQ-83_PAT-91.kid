EMERGENCY Released PRS*4*91 SEQ #83
Extracted from mail message
**KIDS**:PRS*4.0*91^

**INSTALL NAME**
PRS*4.0*91
"BLD",5355,0)
PRS*4.0*91^PAID^0^3040127^y
"BLD",5355,1,0)
^^1^1^3040127^^
"BLD",5355,1,1,0)
See the patch description on FORUM for a complete description of this patch.
"BLD",5355,4,0)
^9.64PA^^
"BLD",5355,"INI")
START^PRSXP91
"BLD",5355,"KRN",0)
^9.67PA^8989.52^19
"BLD",5355,"KRN",.4,0)
.4
"BLD",5355,"KRN",.401,0)
.401
"BLD",5355,"KRN",.402,0)
.402
"BLD",5355,"KRN",.403,0)
.403
"BLD",5355,"KRN",.5,0)
.5
"BLD",5355,"KRN",.84,0)
.84
"BLD",5355,"KRN",3.6,0)
3.6
"BLD",5355,"KRN",3.8,0)
3.8
"BLD",5355,"KRN",9.2,0)
9.2
"BLD",5355,"KRN",9.8,0)
9.8
"BLD",5355,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",5355,"KRN",9.8,"NM",1,0)
PRSXP91^^0^B2890612
"BLD",5355,"KRN",9.8,"NM","B","PRSXP91",1)

"BLD",5355,"KRN",19,0)
19
"BLD",5355,"KRN",19.1,0)
19.1
"BLD",5355,"KRN",101,0)
101
"BLD",5355,"KRN",409.61,0)
409.61
"BLD",5355,"KRN",771,0)
771
"BLD",5355,"KRN",870,0)
870
"BLD",5355,"KRN",8989.51,0)
8989.51
"BLD",5355,"KRN",8989.52,0)
8989.52
"BLD",5355,"KRN",8994,0)
8994
"BLD",5355,"KRN","B",.4,.4)

"BLD",5355,"KRN","B",.401,.401)

"BLD",5355,"KRN","B",.402,.402)

"BLD",5355,"KRN","B",.403,.403)

"BLD",5355,"KRN","B",.5,.5)

"BLD",5355,"KRN","B",.84,.84)

"BLD",5355,"KRN","B",3.6,3.6)

"BLD",5355,"KRN","B",3.8,3.8)

"BLD",5355,"KRN","B",9.2,9.2)

"BLD",5355,"KRN","B",9.8,9.8)

"BLD",5355,"KRN","B",19,19)

"BLD",5355,"KRN","B",19.1,19.1)

"BLD",5355,"KRN","B",101,101)

"BLD",5355,"KRN","B",409.61,409.61)

"BLD",5355,"KRN","B",771,771)

"BLD",5355,"KRN","B",870,870)

"BLD",5355,"KRN","B",8989.51,8989.51)

"BLD",5355,"KRN","B",8989.52,8989.52)

"BLD",5355,"KRN","B",8994,8994)

"BLD",5355,"QUES",0)
^9.62^^
"BLD",5355,"REQB",0)
^9.611^1^1
"BLD",5355,"REQB",1,0)
PRS*4.0*90^1
"BLD",5355,"REQB","B","PRS*4.0*90",1)

"INI")
START^PRSXP91
"MBREQ")
0
"PKG",408,-1)
1^1
"PKG",408,0)
PAID^PRS^PAID
"PKG",408,20,0)
^9.402P^^
"PKG",408,22,0)
^9.49I^1^1
"PKG",408,22,1,0)
4.0^2950912^2960130
"PKG",408,22,1,"PAH",1,0)
91^3040127
"PKG",408,22,1,"PAH",1,1,0)
^^1^1^3040127
"PKG",408,22,1,"PAH",1,1,1,0)
See the patch description on FORUM for a complete description of this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","PRSXP91")
0^1^B2890612
"RTN","PRSXP91",1,0)
PRSXP91 ;WCIOFO/MGD-CORRECT #457.5 ;01/26/2004
"RTN","PRSXP91",2,0)
 ;;4.0;PAID;**91**;Sep 21, 1995
"RTN","PRSXP91",3,0)
 ;
"RTN","PRSXP91",4,0)
 Q
"RTN","PRSXP91",5,0)
 ;
"RTN","PRSXP91",6,0)
 ; This program will correct two erroneous entries in the PAY
"RTN","PRSXP91",7,0)
 ; ENTITLEMENT (#457.5) file (iens 64 & 106).  It will then delete two
"RTN","PRSXP91",8,0)
 ; other entries (iens 2 & 3) and repoint the ENTITLEMENT (#4) field of
"RTN","PRSXP91",9,0)
 ; the EMPLOYEE (#458.01) multiple in the TIME & ATTENDACNE (#458) file
"RTN","PRSXP91",10,0)
 ; to the correct entries (iens 64 & 106).
"RTN","PRSXP91",11,0)
 ;
"RTN","PRSXP91",12,0)
START ; Define variables
"RTN","PRSXP91",13,0)
 ;
"RTN","PRSXP91",14,0)
 N DA,DATA,DIE,DIK,DR,EMP,ENT,IENS,PPI,PRSFDA,PRSIEN,U
"RTN","PRSXP91",15,0)
 S U="^"
"RTN","PRSXP91",16,0)
 ; Delete extra entries (iens 2 & 3).
"RTN","PRSXP91",17,0)
 ;
"RTN","PRSXP91",18,0)
 S DIK="^PRST(457.5,",DA=2 D ^DIK
"RTN","PRSXP91",19,0)
 S DIK="^PRST(457.5,",DA=3 D ^DIK
"RTN","PRSXP91",20,0)
 ;
"RTN","PRSXP91",21,0)
 ; Correct entries (iens 64 & 106). 
"RTN","PRSXP91",22,0)
 ;
"RTN","PRSXP91",23,0)
 S DATA="N 3 E PAY BASIS=$",DR=".01///^S X=DATA",DIE="^PRST(457.5,",DA=64
"RTN","PRSXP91",24,0)
 D ^DIE
"RTN","PRSXP91",25,0)
 S DATA="N3E$",DR="1///^S X=DATA",DIE="^PRST(457.5,",DA=64
"RTN","PRSXP91",26,0)
 D ^DIE
"RTN","PRSXP91",27,0)
 ;
"RTN","PRSXP91",28,0)
 S DATA="N 3 N PAY BASIS=$",DR=".01///^S X=DATA",DIE="^PRST(457.5,",DA=106
"RTN","PRSXP91",29,0)
 D ^DIE
"RTN","PRSXP91",30,0)
 S DATA="N3N$",DR="1///^S X=DATA",DIE="^PRST(457.5,",DA=106
"RTN","PRSXP91",31,0)
 D ^DIE
"RTN","PRSXP91",32,0)
 ;
"RTN","PRSXP91",33,0)
 ; Loop through PP 04-01 and re-point as ENTITLEMENT (#4) fields as
"RTN","PRSXP91",34,0)
 ; necessary.
"RTN","PRSXP91",35,0)
 ;   Re-point 2 to 64
"RTN","PRSXP91",36,0)
 ;   Re-point 3 to 106
"RTN","PRSXP91",37,0)
 ;
"RTN","PRSXP91",38,0)
 S PPI=0
"RTN","PRSXP91",39,0)
 S PPI=$O(^PRST(458,"B","04-01",PPI))
"RTN","PRSXP91",40,0)
 Q:PPI=""
"RTN","PRSXP91",41,0)
 S EMP=0
"RTN","PRSXP91",42,0)
 F  S EMP=$O(^PRST(458,PPI,"E",EMP)) Q:'EMP  D
"RTN","PRSXP91",43,0)
 . S ENT=$P($G(^PRST(458,PPI,"E",EMP,0)),U,5)
"RTN","PRSXP91",44,0)
 . Q:ENT'=2&(ENT'=3)
"RTN","PRSXP91",45,0)
 . I ENT=2 D
"RTN","PRSXP91",46,0)
 . . S IENS=EMP_","_PPI_","
"RTN","PRSXP91",47,0)
 . . S PRSFDA(458.01,IENS,4)=64
"RTN","PRSXP91",48,0)
 . . S PRSIEN=EMP
"RTN","PRSXP91",49,0)
 . . D UPDATE^DIE("","PRSFDA","PRSIEN")
"RTN","PRSXP91",50,0)
 . I ENT=3 D
"RTN","PRSXP91",51,0)
 . . S IENS=EMP_","_PPI_","
"RTN","PRSXP91",52,0)
 . . S PRSFDA(458.01,IENS,4)=106
"RTN","PRSXP91",53,0)
 . . S PRSIEN=EMP
"RTN","PRSXP91",54,0)
 . . D UPDATE^DIE("","PRSFDA","PRSIEN")
"RTN","PRSXP91",55,0)
 Q
"VER")
8.0^22
**END**
**END**
