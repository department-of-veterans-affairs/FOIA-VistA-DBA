Released ECX*3*51 SEQ #54
Extracted from mail message
**KIDS**:ECX*3.0*51^

**INSTALL NAME**
ECX*3.0*51
"BLD",4869,0)
ECX*3.0*51^DSS EXTRACTS^0^3030918^y
"BLD",4869,4,0)
^9.64PA^727.2^1
"BLD",4869,4,727.2,0)
727.2
"BLD",4869,4,727.2,222)
y^n^f^^^^n^^n
"BLD",4869,4,727.2,224)

"BLD",4869,4,"B",727.2,727.2)

"BLD",4869,"INIT")
ECX351PT
"BLD",4869,"KRN",0)
^9.67PA^8989.52^19
"BLD",4869,"KRN",.4,0)
.4
"BLD",4869,"KRN",.401,0)
.401
"BLD",4869,"KRN",.402,0)
.402
"BLD",4869,"KRN",.403,0)
.403
"BLD",4869,"KRN",.5,0)
.5
"BLD",4869,"KRN",.84,0)
.84
"BLD",4869,"KRN",3.6,0)
3.6
"BLD",4869,"KRN",3.8,0)
3.8
"BLD",4869,"KRN",9.2,0)
9.2
"BLD",4869,"KRN",9.8,0)
9.8
"BLD",4869,"KRN",9.8,"NM",0)
^9.68A^5^5
"BLD",4869,"KRN",9.8,"NM",1,0)
ECXALAR2^^0^B7694092
"BLD",4869,"KRN",9.8,"NM",2,0)
ECXALAR^^0^B16231091
"BLD",4869,"KRN",9.8,"NM",3,0)
ECX351PT^^0^B12825474
"BLD",4869,"KRN",9.8,"NM",4,0)
ECXLABRS^^0^B10907905
"BLD",4869,"KRN",9.8,"NM",5,0)
ECXLARP^^0^B8969820
"BLD",4869,"KRN",9.8,"NM","B","ECX351PT",3)

"BLD",4869,"KRN",9.8,"NM","B","ECXALAR",2)

"BLD",4869,"KRN",9.8,"NM","B","ECXALAR2",1)

"BLD",4869,"KRN",9.8,"NM","B","ECXLABRS",4)

"BLD",4869,"KRN",9.8,"NM","B","ECXLARP",5)

"BLD",4869,"KRN",19,0)
19
"BLD",4869,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",4869,"KRN",19,"NM",1,0)
ECXLABRS^^0
"BLD",4869,"KRN",19,"NM",2,0)
ECXLARP^^0
"BLD",4869,"KRN",19,"NM","B","ECXLABRS",1)

"BLD",4869,"KRN",19,"NM","B","ECXLARP",2)

"BLD",4869,"KRN",19.1,0)
19.1
"BLD",4869,"KRN",101,0)
101
"BLD",4869,"KRN",409.61,0)
409.61
"BLD",4869,"KRN",771,0)
771
"BLD",4869,"KRN",870,0)
870
"BLD",4869,"KRN",8989.51,0)
8989.51
"BLD",4869,"KRN",8989.52,0)
8989.52
"BLD",4869,"KRN",8994,0)
8994
"BLD",4869,"KRN","B",.4,.4)

"BLD",4869,"KRN","B",.401,.401)

"BLD",4869,"KRN","B",.402,.402)

"BLD",4869,"KRN","B",.403,.403)

"BLD",4869,"KRN","B",.5,.5)

"BLD",4869,"KRN","B",.84,.84)

"BLD",4869,"KRN","B",3.6,3.6)

"BLD",4869,"KRN","B",3.8,3.8)

"BLD",4869,"KRN","B",9.2,9.2)

"BLD",4869,"KRN","B",9.8,9.8)

"BLD",4869,"KRN","B",19,19)

"BLD",4869,"KRN","B",19.1,19.1)

"BLD",4869,"KRN","B",101,101)

"BLD",4869,"KRN","B",409.61,409.61)

"BLD",4869,"KRN","B",771,771)

"BLD",4869,"KRN","B",870,870)

"BLD",4869,"KRN","B",8989.51,8989.51)

"BLD",4869,"KRN","B",8989.52,8989.52)

"BLD",4869,"KRN","B",8994,8994)

"BLD",4869,"QUES",0)
^9.62^^
"BLD",4869,"REQB",0)
^9.611^3^3
"BLD",4869,"REQB",1,0)
ECX*3.0*46^2
"BLD",4869,"REQB",2,0)
ECX*3.0*47^2
"BLD",4869,"REQB",3,0)
LR*5.2*307^2
"BLD",4869,"REQB","B","ECX*3.0*46",1)

"BLD",4869,"REQB","B","ECX*3.0*47",2)

"BLD",4869,"REQB","B","LR*5.2*307",3)

"FIA",727.2)
DSS LAB TESTS
"FIA",727.2,0)
^ECX(727.2,
"FIA",727.2,0,0)
727.2
"FIA",727.2,0,1)
y^n^f^^^^n^^n
"FIA",727.2,0,10)

"FIA",727.2,0,11)

"FIA",727.2,0,"RLRO")

"FIA",727.2,0,"VR")
3.0^ECX
"FIA",727.2,727.2)
0
"FIA",727.2,727.21)
0
"FIA",727.2,727.211)
0
"FIA",727.2,727.22)
0
"FIA",727.2,727.23)
0
"FIA",727.2,727.24)
0
"INIT")
ECX351PT
"KRN",19,10165,-1)
0^1
"KRN",19,10165,0)
ECXLABRS^Link DSS Selected Lab Tests to Local Lab Tests^^R^^^^^^^^DSS EXTRACTS
"KRN",19,10165,1,0)
^19.06^5^5^3030905^^
"KRN",19,10165,1,1,0)
Using this option the extract manager has the ability to link the DSS
"KRN",19,10165,1,2,0)
selected tests in the DSS LAB TESTS file (#727.2) to the local lab tests
"KRN",19,10165,1,3,0)
in the LABORATORY TESTS file (#60).  Local names for BLOOD, URINE and 
"KRN",19,10165,1,4,0)
FECES specimens must also be defined.  This information is critical for 
"KRN",19,10165,1,5,0)
the DSS Lab Results Extract.
"KRN",19,10165,25)
EN^ECXLABRS
"KRN",19,10165,"U")
LINK DSS SELECTED LAB TESTS TO
"KRN",19,10178,-1)
0^2
"KRN",19,10178,0)
ECXLARP^Print DSS Lab Test Datasheet^^R^^^^^^^^DSS EXTRACTS
"KRN",19,10178,1,0)
^19.06^5^5^3030905^^^^
"KRN",19,10178,1,1,0)
This option prints a list of the DSS Lab Tests used for the Lab Results
"KRN",19,10178,1,2,0)
Extract (LAR).  It will display the local lab data names for each test.
"KRN",19,10178,1,3,0)
It will also show the blood, urine and feces specimens used by your 
"KRN",19,10178,1,4,0)
facility.  This information is critical for generating the DSS Lab 
"KRN",19,10178,1,5,0)
Results Extract.
"KRN",19,10178,25)
EN^ECXLARP
"KRN",19,10178,"U")
PRINT DSS LAB TEST DATASHEET
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",513,-1)
1^1
"PKG",513,0)
DSS EXTRACTS^ECX^Decision Support System. (DSS)
"PKG",513,20,0)
^9.402P^^
"PKG",513,22,0)
^9.49I^1^1
"PKG",513,22,1,0)
3.0^3010618^2980112^11714
"PKG",513,22,1,"PAH",1,0)
51^3030918
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
5
"RTN","ECX351PT")
0^3^B12825474
"RTN","ECX351PT",1,0)
ECX351PT ;ALB/ESD - PATCH ECX*3.0*51 Post-Init Rtn ; 6/30/03
"RTN","ECX351PT",2,0)
 ;;3.0;DSS EXTRACTS;**51**;Dec 22, 1997
"RTN","ECX351PT",3,0)
 ;
"RTN","ECX351PT",4,0)
 ;Post-init routine to add new entries to:
"RTN","ECX351PT",5,0)
 ;           DSS LAB TESTS file   (#727.2)
"RTN","ECX351PT",6,0)
 ;           NATIONAL CLINIC file (#728.441)
"RTN","ECX351PT",7,0)
 ;
"RTN","ECX351PT",8,0)
 ;
"RTN","ECX351PT",9,0)
EN D ADD7272
"RTN","ECX351PT",10,0)
 D OBF
"RTN","ECX351PT",11,0)
 Q
"RTN","ECX351PT",12,0)
OBF ;Update OCCULT BLOOD (FECAL) to have a Source of Feces
"RTN","ECX351PT",13,0)
 N ECXX,ECXDA,TEST,SOURCE
"RTN","ECX351PT",14,0)
 D MES^XPDUTL(" ")
"RTN","ECX351PT",15,0)
 D BMES^XPDUTL(">>> Updating OCCULT BLOOD (FECAL)...")
"RTN","ECX351PT",16,0)
 D MES^XPDUTL(" ")
"RTN","ECX351PT",17,0)
 S ECXX="55;OCCULT BLOOD (FECAL)^F",ECXDA=$P(ECXX,";",1)
"RTN","ECX351PT",18,0)
 S ECXX=$P(ECXX,";",2)
"RTN","ECX351PT",19,0)
 Q:'$D(^ECX(727.2,1,1,ECXDA,0))
"RTN","ECX351PT",20,0)
 S TEST=$P(ECXX,"^"),SOURCE=$P(ECXX,"^",2)
"RTN","ECX351PT",21,0)
 S $P(^ECX(727.2,1,1,ECXDA,0),"^",2)=SOURCE
"RTN","ECX351PT",22,0)
 K ^ECX(727.2,"S","B",1,ECXDA)
"RTN","ECX351PT",23,0)
 S ^ECX(727.2,"S","F",1,ECXDA)=""
"RTN","ECX351PT",24,0)
 D MES^XPDUTL(">>>...."_TEST_" updated with Source "_SOURCE_".")
"RTN","ECX351PT",25,0)
 Q
"RTN","ECX351PT",26,0)
 ;
"RTN","ECX351PT",27,0)
 ;
"RTN","ECX351PT",28,0)
ADD7272 ;- Add new entries to file #727.2
"RTN","ECX351PT",29,0)
 ;      ECXX is in format: ien;test^source
"RTN","ECX351PT",30,0)
 ;
"RTN","ECX351PT",31,0)
 N ECX,ECXDA,ECXX,DA,DIC,DINUM,DIE,DR,X,Y,TEST,SOURCE,CNT
"RTN","ECX351PT",32,0)
 D MES^XPDUTL(" ")
"RTN","ECX351PT",33,0)
 D MES^XPDUTL(">>> Adding entries to DSS LAB TESTS File (#727.2)...")
"RTN","ECX351PT",34,0)
 D MES^XPDUTL(" ")
"RTN","ECX351PT",35,0)
 S $P(^DD(727.21,.01,0),U,5)="",CNT=0
"RTN","ECX351PT",36,0)
 F ECX=1:1 S ECXX=$P($T(NEW7272+ECX),";;",2) Q:ECXX="QUIT"  D
"RTN","ECX351PT",37,0)
 .S ECXDA=$P(ECXX,";",1),ECXX=$P(ECXX,";",2)
"RTN","ECX351PT",38,0)
 .Q:'$D(^ECX(727.2,1))
"RTN","ECX351PT",39,0)
 .I $D(^ECX(727.2,1,1,0)),'$D(^ECX(727.2,1,1,ECXDA,0)) D
"RTN","ECX351PT",40,0)
 ..S CNT=CNT+1
"RTN","ECX351PT",41,0)
 ..S TEST=$P(ECXX,U,1),SOURCE=$P(ECXX,U,2)
"RTN","ECX351PT",42,0)
 ..S DA(1)=1,DIC("P")=$P(^DD(727.2,1,0),U,2),DINUM=ECXDA
"RTN","ECX351PT",43,0)
 ..S X=TEST,DIC="^ECX(727.2,1,1,",DLAYGO=727.21,DIC(0)="LX",DIC("DR")="2///^S X=SOURCE"
"RTN","ECX351PT",44,0)
 ..K DD,DO D FILE^DICN K DLAYGO
"RTN","ECX351PT",45,0)
 ..D MES^XPDUTL(" ")
"RTN","ECX351PT",46,0)
 ..D MES^XPDUTL(">>>...."_TEST_" added to file as entry #"_ECXDA_".")
"RTN","ECX351PT",47,0)
 ..D MES^XPDUTL(" ")
"RTN","ECX351PT",48,0)
 I CNT=0 D
"RTN","ECX351PT",49,0)
 .D MES^XPDUTL(">>>....Entries already exist -- nothing added.")
"RTN","ECX351PT",50,0)
 .D MES^XPDUTL(" ")
"RTN","ECX351PT",51,0)
 S $P(^DD(727.21,.01,0),U,5)="K X"
"RTN","ECX351PT",52,0)
 Q
"RTN","ECX351PT",53,0)
 ;
"RTN","ECX351PT",54,0)
NEW7272 ;- New records for file #727.2
"RTN","ECX351PT",55,0)
 ;;57;GLUCOSE POC (FINGER STICK)^B
"RTN","ECX351PT",56,0)
 ;;58;TROPONIN T^B
"RTN","ECX351PT",57,0)
 ;;59;TROPONIN I^B
"RTN","ECX351PT",58,0)
 ;;QUIT
"RTN","ECX351PT",59,0)
 ;
"RTN","ECX351PT",60,0)
 ;
"RTN","ECX351PT",61,0)
POST1 ;- Add new entry to file 728.441
"RTN","ECX351PT",62,0)
 ;      ECXREC is in format: code^short description
"RTN","ECX351PT",63,0)
 ;
"RTN","ECX351PT",64,0)
 ;
"RTN","ECX351PT",65,0)
 N ECXFDA,ECXERR,ECXCODE,ECXREC,I
"RTN","ECX351PT",66,0)
 D BMES^XPDUTL(">>> Adding entry to the NATIONAL CLINIC (#728.441) file...")
"RTN","ECX351PT",67,0)
 ;
"RTN","ECX351PT",68,0)
 ;- Get NATIONAL CLINIC record
"RTN","ECX351PT",69,0)
 F I=1:1 S ECXREC=$P($T(NATCLIN+I),";;",2) Q:ECXREC="QUIT"  D
"RTN","ECX351PT",70,0)
 .;
"RTN","ECX351PT",71,0)
 .;- National Clinic code
"RTN","ECX351PT",72,0)
 .S ECXCODE=$P(ECXREC,"^")
"RTN","ECX351PT",73,0)
 .;
"RTN","ECX351PT",74,0)
 .;- Quit w/error message if entry already exists in file #728.441
"RTN","ECX351PT",75,0)
 .I $$FIND1^DIC(728.441,"","X",ECXCODE) D  Q
"RTN","ECX351PT",76,0)
 ..D BMES^XPDUTL(">>>...."_ECXCODE_"  "_$P(ECXREC,U,2)_"  not added, entry already exists.")
"RTN","ECX351PT",77,0)
 ..D BMES^XPDUTL(">>> Delete entries and reinstall patch if entries were not created by a")
"RTN","ECX351PT",78,0)
 ..D MES^XPDUTL(">>> previous installation of this patch.")
"RTN","ECX351PT",79,0)
 .;
"RTN","ECX351PT",80,0)
 .;- Setup field values of new entry
"RTN","ECX351PT",81,0)
 .S ECXFDA(728.441,"+1,",.01)=ECXCODE
"RTN","ECX351PT",82,0)
 .S ECXFDA(728.441,"+1,",1)=$P(ECXREC,"^",2)
"RTN","ECX351PT",83,0)
 .;
"RTN","ECX351PT",84,0)
 .;- Add new entry to file #728.441
"RTN","ECX351PT",85,0)
 .D UPDATE^DIE("E","ECXFDA","","ECXERR")
"RTN","ECX351PT",86,0)
 .;
"RTN","ECX351PT",87,0)
 .I '$D(ECXERR) D BMES^XPDUTL(">>>...."_ECXCODE_"  "_$P(ECXREC,U,2)_"  added to file.")
"RTN","ECX351PT",88,0)
 .I $D(ECXERR) D BMES^XPDUTL(">>>....Unable to add "_ECXCODE_"  "_$P(ECXREC,U,2)_" to file.")
"RTN","ECX351PT",89,0)
 ;
"RTN","ECX351PT",90,0)
 Q
"RTN","ECX351PT",91,0)
 ;
"RTN","ECX351PT",92,0)
NATCLIN ;- Contains the NATIONAL CLINIC entry to be added
"RTN","ECX351PT",93,0)
 ;;QUIT
"RTN","ECXALAR")
0^2^B16231091
"RTN","ECXALAR",1,0)
ECXALAR ;ALB/TMD-LAR Extract Report of Untranslatable Results ; 9/17/02 6:17pm
"RTN","ECXALAR",2,0)
 ;;3.0;DSS EXTRACTS;**46,51**;Dec 22, 1997
"RTN","ECXALAR",3,0)
 ;
"RTN","ECXALAR",4,0)
EN ; entry point
"RTN","ECXALAR",5,0)
 N X,Y,DATE,ECRUN,ECXOPT,ECXDESC,ECXSAVE,ECXTL,ECTHLD,ECSD,ECSD1,ECSTART,ECED,ECEND,ECXERR,QFLG
"RTN","ECXALAR",6,0)
 S QFLG=0,ECXTL="LAR"
"RTN","ECXALAR",7,0)
 ; get today's date
"RTN","ECXALAR",8,0)
 D NOW^%DTC S DATE=X,Y=$E(%,1,12) D DD^%DT S ECRUN=$P(Y,"@") K %DT
"RTN","ECXALAR",9,0)
 D SETUP^ECXLABR I ECFILE="" Q
"RTN","ECXALAR",10,0)
 I '$D(ECNODE) S ECNODE=7
"RTN","ECXALAR",11,0)
 I $P($G(^ECX(728,1,ECNODE+.1)),U,ECPIECE)]"" D  Q
"RTN","ECXALAR",12,0)
 .W !!,$C(7),ECPACK," extract is already scheduled to run.  Try later",!!
"RTN","ECXALAR",13,0)
 D BEGIN Q:QFLG
"RTN","ECXALAR",14,0)
 S ECXDESC=ECXTL_" Extract Report of Untranslatable Results"
"RTN","ECXALAR",15,0)
 S ECXSAVE("EC*")=""
"RTN","ECXALAR",16,0)
 D EN^XUTMDEVQ("PROCESS^ECXALAR",ECXDESC,.ECXSAVE)
"RTN","ECXALAR",17,0)
 I POP W !!,"No device selected...exiting.",! Q
"RTN","ECXALAR",18,0)
 I IO'=IO(0) D ^%ZISC
"RTN","ECXALAR",19,0)
 D HOME^%ZIS
"RTN","ECXALAR",20,0)
 D AUDIT^ECXKILL
"RTN","ECXALAR",21,0)
 Q
"RTN","ECXALAR",22,0)
 ;
"RTN","ECXALAR",23,0)
BEGIN ; display report description
"RTN","ECXALAR",24,0)
 W @IOF,!,"This report prints a listing of results that are not translatable i.e. have",!,"no entry in the Lab Results Translation File (#727.7)."
"RTN","ECXALAR",25,0)
 W !!,"This report is a pre-extract type audit report and should be run prior to the",!,"generation of the actual extract.  Running this report has no effect on the",!,"actual extract."
"RTN","ECXALAR",26,0)
 W !!,"Enter the date range for which you would like to scan the ",ECXTL," Extract records.",!
"RTN","ECXALAR",27,0)
 S DONE=0 F  S (ECED,ECSD)="" D  Q:QFLG!DONE
"RTN","ECXALAR",28,0)
 .K %DT S %DT="AEX",%DT("A")="Starting with Date: ",%DT(0)=-DATE D ^%DT
"RTN","ECXALAR",29,0)
 .I Y<0 S QFLG=1 Q
"RTN","ECXALAR",30,0)
 .S ECSD=Y,ECSD1=ECSD-.1
"RTN","ECXALAR",31,0)
 .D DD^%DT S ECSTART=Y
"RTN","ECXALAR",32,0)
 .K %DT S %DT="AEX",%DT("A")="Ending with Date: ",%DT(0)=-DATE D ^%DT
"RTN","ECXALAR",33,0)
 .I Y<0 S QFLG=1 Q
"RTN","ECXALAR",34,0)
 .I Y<ECSD D  Q
"RTN","ECXALAR",35,0)
 ..W !!,"The ending date cannot be earlier than the starting date."
"RTN","ECXALAR",36,0)
 ..W !,"Please try again.",!!
"RTN","ECXALAR",37,0)
 .I $E(Y,1,5)'=$E(ECSD,1,5) D  Q
"RTN","ECXALAR",38,0)
 ..W !!,"Beginning and ending dates must be in the same month and year."
"RTN","ECXALAR",39,0)
 ..W !,"Please try again.",!!
"RTN","ECXALAR",40,0)
 .S ECED=Y
"RTN","ECXALAR",41,0)
 .D DD^%DT S ECEND=Y
"RTN","ECXALAR",42,0)
 .S DONE=1
"RTN","ECXALAR",43,0)
 Q
"RTN","ECXALAR",44,0)
 ;
"RTN","ECXALAR",45,0)
PROCESS ; entry point for queued report
"RTN","ECXALAR",46,0)
 S ZTREQ="@"
"RTN","ECXALAR",47,0)
 S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)="R"
"RTN","ECXALAR",48,0)
 S ECXERR=0 D EN^ECXALAR2 S $P(^ECX(728,1,ECNODE+.1),U,ECPIECE)="" Q:ECXERR
"RTN","ECXALAR",49,0)
 S QFLG=0 D PRINT
"RTN","ECXALAR",50,0)
 Q
"RTN","ECXALAR",51,0)
 ;
"RTN","ECXALAR",52,0)
PRINT ; process temp file and print report
"RTN","ECXALAR",53,0)
 N X,CNT,LN,REC,ECXDFN,ECXSSN,ECXPNM,ECRS,ECTC,ECFMDT,ECDTM,ECXTNM
"RTN","ECXALAR",54,0)
 U IO
"RTN","ECXALAR",55,0)
 I $D(ZTQUEUED),$$S^%ZTLOAD S ZTSTOP=1 K ZTREQ Q
"RTN","ECXALAR",56,0)
 S (PG,QFLG,GTOT)=0,$P(LN,"-",80)=""
"RTN","ECXALAR",57,0)
 D HEADER Q:QFLG
"RTN","ECXALAR",58,0)
 S COUNT=0,CNT="" F  S CNT=$O(^TMP($J,CNT)) Q:CNT=""!QFLG  S REC=^(CNT) D
"RTN","ECXALAR",59,0)
 .S ECXDFN=$P(REC,U),ECTC=$P(REC,U,4),ECRS=$P(REC,U,5)
"RTN","ECXALAR",60,0)
 .S ECFMDT=$P(REC,U,2)_"."_$P(REC,U,3),ECDTM=$$FMTE^XLFDT(ECFMDT,2)
"RTN","ECXALAR",61,0)
 .S (ECXPNM,ECXSSN)=""
"RTN","ECXALAR",62,0)
 .K ECXPAT S OK=$$PAT^ECXUTL3(ECXDFN,,"1;",.ECXPAT)
"RTN","ECXALAR",63,0)
 .I OK S ECXPNM=ECXPAT("NAME"),ECXSSN=ECXPAT("SSN")
"RTN","ECXALAR",64,0)
 .S ECXTNM=$P($G(^ECX(727.2,1,1,ECTC,0)),U)
"RTN","ECXALAR",65,0)
 .I $Y+3>IOSL D HEADER
"RTN","ECXALAR",66,0)
 .W !,ECXPNM,?6,ECXSSN,?17,ECDTM,?34,ECTC,?40,$E(ECXTNM,1,22),?64,$E(ECRS,1,17)
"RTN","ECXALAR",67,0)
 .S COUNT=COUNT+1
"RTN","ECXALAR",68,0)
 Q:QFLG
"RTN","ECXALAR",69,0)
 I COUNT=0 W !!,?8,"No untranslatable results for this extract"
"RTN","ECXALAR",70,0)
CLOSE ;
"RTN","ECXALAR",71,0)
 I $E(IOST)="C",'QFLG D
"RTN","ECXALAR",72,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXALAR",73,0)
 .S DIR(0)="E" W ! D ^DIR K DIR
"RTN","ECXALAR",74,0)
 Q
"RTN","ECXALAR",75,0)
 ;
"RTN","ECXALAR",76,0)
HEADER ;header and page control
"RTN","ECXALAR",77,0)
 N SS,JJ
"RTN","ECXALAR",78,0)
 I $E(IOST)="C" D
"RTN","ECXALAR",79,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXALAR",80,0)
 .I PG>0 S DIR(0)="E" W ! D ^DIR K DIR S:'Y QFLG=1
"RTN","ECXALAR",81,0)
 Q:QFLG
"RTN","ECXALAR",82,0)
 W:$Y!($E(IOST)="C") @IOF S PG=PG+1
"RTN","ECXALAR",83,0)
 W !,ECXTL_" Extract Untranslatable Results Audit Report",?71,"Page: "_PG
"RTN","ECXALAR",84,0)
 W !,"Start Date: ",ECSTART
"RTN","ECXALAR",85,0)
 W !,"End Date:   ",ECEND,?49,"Report Run Date:  "_ECRUN
"RTN","ECXALAR",86,0)
 W !!,"Pat.",?6,"SSN",?17,"Date/Time",?34,"Test",?40,"Test Name",?64,"Result"
"RTN","ECXALAR",87,0)
 W !,"Name",?17,"Collected",?34,"Code"
"RTN","ECXALAR",88,0)
 W !,LN,!
"RTN","ECXALAR",89,0)
 Q
"RTN","ECXALAR",90,0)
 ;
"RTN","ECXALAR2")
0^1^B7694092
"RTN","ECXALAR2",1,0)
ECXALAR2 ;ALB/TMD-LAR Extract Report of Untranslatable Results ; 9/17/02 5:43pm
"RTN","ECXALAR2",2,0)
 ;;3.0;DSS EXTRACTS;**46,51**;Dec 22, 1997
"RTN","ECXALAR2",3,0)
 ;
"RTN","ECXALAR2",4,0)
EN ; entry point
"RTN","ECXALAR2",5,0)
 N COUNT
"RTN","ECXALAR2",6,0)
 K ^TMP($J)
"RTN","ECXALAR2",7,0)
 S COUNT=0
"RTN","ECXALAR2",8,0)
 S ECSD=ECSD1,ECED=ECED+.3
"RTN","ECXALAR2",9,0)
 D PROCESS
"RTN","ECXALAR2",10,0)
 Q
"RTN","ECXALAR2",11,0)
 ;
"RTN","ECXALAR2",12,0)
PROCESS ;
"RTN","ECXALAR2",13,0)
 N QFLG,ECDTST,ECLTST,ECWCDA,ECWC,ECLOC,ECLRN,ECRES,EC2,ECN,ECRS,ECTRS,ECTRANS,ECTRIEN,ECSCDT,ECSCTM,ECXDFN
"RTN","ECXALAR2",14,0)
 K ^LAR(64.036) S LRSDT=$P(ECSD,"."),LREDT=$P(ECED,".")
"RTN","ECXALAR2",15,0)
 D ^LRCAPDAR
"RTN","ECXALAR2",16,0)
 ;quit if no completion date for API compile
"RTN","ECXALAR2",17,0)
 ;I '$P($G(^LAR(64.036,1,2,1,0)),U,4) S ECXERR=1 Q
"RTN","ECXALAR2",18,0)
 ;build local array of workload codes for local lab tests linked to
"RTN","ECXALAR2",19,0)
 ;DSS tests
"RTN","ECXALAR2",20,0)
 K ECLOC S ECDTST=0
"RTN","ECXALAR2",21,0)
 F  S ECDTST=$O(^ECX(727.2,1,1,ECDTST)) Q:('ECDTST)!ECXERR  S ECLTST=0 D
"RTN","ECXALAR2",22,0)
 .F  S ECLTST=$O(^ECX(727.2,1,1,ECDTST,"LOC",ECLTST)) Q:('ECLTST)!ECXERR  D
"RTN","ECXALAR2",23,0)
 ..S ECLTIEN=+^ECX(727.2,1,1,ECDTST,"LOC",ECLTST,0)
"RTN","ECXALAR2",24,0)
 ..S ECWCDA=+$G(^LAB(60,ECLTIEN,64))
"RTN","ECXALAR2",25,0)
 ..I ECWCDA S ECWC=$P(^LAM(ECWCDA,0),U,2),ECLOC(ECWCDA)=ECWC
"RTN","ECXALAR2",26,0)
 K ECLTIEN
"RTN","ECXALAR2",27,0)
 ;process temporary lab file #64.036
"RTN","ECXALAR2",28,0)
 S QFLG=0,ECLRN=1
"RTN","ECXALAR2",29,0)
 F  S ECLRN=$O(^LAR(64.036,ECLRN)) Q:('ECLRN)!(QFLG)!(ECXERR)  D
"RTN","ECXALAR2",30,0)
 .I $D(^LAR(64.036,ECLRN,0))  D
"RTN","ECXALAR2",31,0)
 ..S EC1=^LAR(64.036,ECLRN,0)
"RTN","ECXALAR2",32,0)
 ..Q:$P(EC1,U,2)=""
"RTN","ECXALAR2",33,0)
 ..S ECXDFN=$P(EC1,U,3)
"RTN","ECXALAR2",34,0)
 ..S ECSCDT=$P(EC1,U,9),ECSCTM=$P(EC1,U,10)
"RTN","ECXALAR2",35,0)
 ..;loop on results multiple
"RTN","ECXALAR2",36,0)
 ..S ECRES=0
"RTN","ECXALAR2",37,0)
 ..F  S ECRES=$O(^LAR(64.036,ECLRN,1,ECRES)) Q:('ECRES)!(QFLG)!(ECXERR)  D
"RTN","ECXALAR2",38,0)
 ...I $D(^LAR(64.036,ECLRN,1,ECRES,0)) D  Q:QFLG
"RTN","ECXALAR2",39,0)
 ....S EC2=^LAR(64.036,ECLRN,1,ECRES,0)
"RTN","ECXALAR2",40,0)
 ....S ECN=$P(EC2,U),ECRS=$P(EC2,U,2),ECWC=+$P(EC2,U,4)
"RTN","ECXALAR2",41,0)
 ....S ECWC=$S($D(ECLOC(ECWC)):ECLOC(ECWC),1:"")
"RTN","ECXALAR2",42,0)
 ....; - Free text results translation
"RTN","ECXALAR2",43,0)
 ....S ECTRANS="",ECTRS=ECRS
"RTN","ECXALAR2",44,0)
 ....I +ECTRS S ECTRS=$TR(ECTRS,",","") D
"RTN","ECXALAR2",45,0)
 .....I (ECTRS?.N)!(ECTRS?.N1".".N) S ECRS=ECTRS
"RTN","ECXALAR2",46,0)
 ....F  Q:$E(ECTRS,1)'=" "  S ECTRS=$E(ECTRS,2,$L(ECTRS))
"RTN","ECXALAR2",47,0)
 ....F  Q:$E(ECTRS,$L(ECTRS))'=" "  S ECTRS=$E(ECTRS,1,($L(ECTRS)-1))
"RTN","ECXALAR2",48,0)
 ....I ECTRS]"" I ECTRS'?.N I ECTRS'?.N1".".N D  ;translate
"RTN","ECXALAR2",49,0)
 .....S ECTRS=$TR(ECRS,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ECXALAR2",50,0)
 .....I ("<>"[$E(ECTRS))!($E(ECTRS,1,2)="GT")!($E(ECTRS,1,2)="LT") Q
"RTN","ECXALAR2",51,0)
 .....S ECTRIEN="",ECTRIEN=$O(^ECX(727.7,"B",ECTRS,ECTRIEN))
"RTN","ECXALAR2",52,0)
 .....S ECTRANS=$S(ECTRIEN:$P(^ECX(727.7,ECTRIEN,0),U,2),1:"5~")
"RTN","ECXALAR2",53,0)
 ...I ECTRANS="5~" I ECWC]"" D FILE
"RTN","ECXALAR2",54,0)
 K ^LAR(64.036) S ^LAR(64.036,0)="LAB DSS LAR EXTRACT^64.036^"
"RTN","ECXALAR2",55,0)
 Q
"RTN","ECXALAR2",56,0)
 ;
"RTN","ECXALAR2",57,0)
FILE ; put records in temp file to print later
"RTN","ECXALAR2",58,0)
 S COUNT=COUNT+1
"RTN","ECXALAR2",59,0)
 S ^TMP($J,COUNT)=ECXDFN_U_ECSCDT_U_ECSCTM_U_ECN_U_ECRS
"RTN","ECXALAR2",60,0)
 Q
"RTN","ECXLABRS")
0^4^B10907905
"RTN","ECXLABRS",1,0)
ECXLABRS ;BIR/CML-Set Up the File to Control Extract of Lab Results; [ 02/26/97  2:56 PM ]
"RTN","ECXLABRS",2,0)
 ;;3.0;DSS EXTRACTS;**8,51**;Dec 22, 1997
"RTN","ECXLABRS",3,0)
EN ;entry point from option
"RTN","ECXLABRS",4,0)
 W @IOF
"RTN","ECXLABRS",5,0)
 W !,"This option will assist in the steps that create the files necessary to"
"RTN","ECXLABRS",6,0)
 W !,"control the extract of lab results for DSS. This will probably require"
"RTN","ECXLABRS",7,0)
 W !,"a combined effort between DSS personnel and lab personnel."
"RTN","ECXLABRS",8,0)
 ;
"RTN","ECXLABRS",9,0)
ASKTST ;loop on DSS lab tests multiple in 727.21 and the local lab data name subfile 727.211
"RTN","ECXLABRS",10,0)
 W !!!,"Step #1 - For each of the DSS lab tests, identify the tests as they"
"RTN","ECXLABRS",11,0)
 W !?10,"are named in your laboratory.  There may be more than one"
"RTN","ECXLABRS",12,0)
 W !?10,"test in your laboratory to generate the results asked for,"
"RTN","ECXLABRS",13,0)
 W !?10,"in that case, you should enter all such tests."
"RTN","ECXLABRS",14,0)
 F  W ! S DIC="^ECX(727.2,1,1,",DIC(0)="AEQM" D ^DIC Q:Y<0  S TST=+Y D
"RTN","ECXLABRS",15,0)
 .K EC,ECNM S ECNM=$P(^ECX(727.2,1,1,TST,0),U),EC=$P(^(0),U,2),EC=$S(EC="B":"BLOOD",EC="U":"URINE",1:"FECES")
"RTN","ECXLABRS",16,0)
 .W !,"(for ",ECNM,", select tests that use ",EC," as a specimen)"
"RTN","ECXLABRS",17,0)
 .W ! F  K DA S DA(2)=1,DA(1)=TST,DIC="^ECX(727.2,"_DA(2)_",1,"_DA(1)_",""LOC"",",DIC(0)="QEAMOLZ" K ECXDD D FIELD^DID(727.21,1,,"SPECIFIER","ECXDD") S DIC("P")=ECXDD("SPECIFIER") K ECXDD D ^DIC K DIC Q:Y<0  S LOC=+Y D
"RTN","ECXLABRS",18,0)
 ..S DA(2)=1,DA(1)=TST,DA=LOC,DIE="^ECX(727.2,"_DA(2)_",1,"_DA(1)_",""LOC"",",DR=.01 D ^DIE K DIE
"RTN","ECXLABRS",19,0)
ASKBLD ;loop on blood specimen multiple 727.22  
"RTN","ECXLABRS",20,0)
 G:$D(DTOUT)!($D(DUOUT)) END
"RTN","ECXLABRS",21,0)
 W !!!,"Step #2 - Define all blood specimens used by your facility."
"RTN","ECXLABRS",22,0)
 W ! F  S DA(1)=1,DIC="^ECX(727.2,"_DA(1)_",""BL"",",DIC(0)="QEAMOLZ" K ECXDD D FIELD^DID(727.2,2,,"SPECIFIER","ECXDD") S DIC("P")=ECXDD("SPECIFIER") K ECXDD D ^DIC K DIC Q:Y<0  D
"RTN","ECXLABRS",23,0)
 .S DA=+Y,DA(1)=1,DIE="^ECX(727.2,"_DA(1)_",""BL"",",DR=.01 D ^DIE K DIE
"RTN","ECXLABRS",24,0)
ASKUR ;loop on urine specimen multiple 727.23  
"RTN","ECXLABRS",25,0)
 G:$D(DTOUT)!($D(DUOUT)) END
"RTN","ECXLABRS",26,0)
 W !!!,"Step #3 - Define all urine specimens used by your facility."
"RTN","ECXLABRS",27,0)
 W ! F  S DA(1)=1,DIC="^ECX(727.2,"_DA(1)_",""UR"",",DIC(0)="QEAMOLZ" K ECXDD D FIELD^DID(727.2,3,,"SPECIFIER","ECXDD") S DIC("P")=ECXDD("SPECIFIER") K ECXDD D ^DIC K DIC Q:Y<0  D
"RTN","ECXLABRS",28,0)
 .S DA=+Y,DA(1)=1,DIE="^ECX(727.2,"_DA(1)_",""UR"",",DR=.01 D ^DIE K DIE
"RTN","ECXLABRS",29,0)
ASKFE ;loop on feces specimen multiple 727.24
"RTN","ECXLABRS",30,0)
 G:$D(DTOUT)!($D(DUOUT)) END
"RTN","ECXLABRS",31,0)
 W !!!,"Step #4 - Define all feces specimens used by your facility."
"RTN","ECXLABRS",32,0)
 W ! F  S DA(1)=1,DIC="^ECX(727.2,"_DA(1)_",""FE"",",DIC(0)="QEAMOLZ" K ECXDD D FIELD^DID(727.2,4,,"SPECIFIER","ECXDD") S DIC("P")=ECXDD("SPECIFIER") K ECXDD D ^DIC K DIC Q:Y<0  D
"RTN","ECXLABRS",33,0)
 .S DA=+Y,DA(1)=1,DIE="^ECX(727.2,"_DA(1)_",""FE"",",DR=.01 D ^DIE K DIE
"RTN","ECXLABRS",34,0)
END K DA,DIC,DIE,DR,EC,ECNM,ECXB,ECXS,J,LOC,TST,X,Y Q
"RTN","ECXLARP")
0^5^B8969820
"RTN","ECXLARP",1,0)
ECXLARP ;BIR/CML,PTD-Print DSS Lab Tests Names Datasheet (LAR) ; 12/17/96 11:12 [ 02/26/97  2:57 PM ]
"RTN","ECXLARP",2,0)
 ;;3.0;DSS EXTRACTS;**8,51**;Dec 22, 1997
"RTN","ECXLARP",3,0)
EN ;entry point from option
"RTN","ECXLARP",4,0)
 S QFLG=1
"RTN","ECXLARP",5,0)
 W !!,"This option prints a list of the DSS Lab Tests used for the Lab Results",!,"Extract (LAR).  It will display the local lab data names for each test.",!,"The blood and urine specimens used locally are also listed."
"RTN","ECXLARP",6,0)
 I '$O(^ECX(727.2,0)) W !!,"The DSS LAB TEST file (#727.2) does not exist on your system!" G QUIT
"RTN","ECXLARP",7,0)
DEV W !!,"The right margin for this report is 80.",!!
"RTN","ECXLARP",8,0)
 D EN^XUTMDEVQ("START^ECXLARP","DSS - Print DSS Lab Tests") I 'POP Q
"RTN","ECXLARP",9,0)
 W !,"NO DEVICE SELECTED OR REPORT PRINTED!!"
"RTN","ECXLARP",10,0)
 G QUIT
"RTN","ECXLARP",11,0)
START ;
"RTN","ECXLARP",12,0)
 S (PG,QFLG,CNT)=0,$P(LN,"-",81)="" D NOW^%DTC S Y=$E(%,1,12) X ^DD("DD") S HDT=Y D HDR
"RTN","ECXLARP",13,0)
 S ECLAB="" F  S ECLAB=$O(^ECX(727.2,1,1,"B",ECLAB)) Q:ECLAB=""  Q:QFLG  S ECIEN=0 F  S ECIEN=$O(^ECX(727.2,1,1,"B",ECLAB,ECIEN)) Q:'ECIEN  Q:QFLG  D
"RTN","ECXLARP",14,0)
 .S CNT=CNT+1 D:$Y+4>IOSL HDR Q:QFLG  W !!,$J(CNT,2),". ",ECLAB D
"RTN","ECXLARP",15,0)
 ..Q:'$O(^ECX(727.2,1,1,ECIEN,"LOC",0))
"RTN","ECXLARP",16,0)
 ..S ECLOC=0 F  S ECLOC=$O(^ECX(727.2,1,1,ECIEN,"LOC",ECLOC)) Q:'ECLOC  D:$Y+4>IOSL HDR Q:QFLG  S ECLIEN=+^ECX(727.2,1,1,ECIEN,"LOC",ECLOC,0) W !?9,$P($G(^LAB(60,ECLIEN,0)),U)
"RTN","ECXLARP",17,0)
 K ECLIEN ;** Variable added to accomodate lack of DINUM on 727.2, P #26
"RTN","ECXLARP",18,0)
 G:QFLG QUIT
"RTN","ECXLARP",19,0)
SPEC F ECFLD="BL","UR","FE" D
"RTN","ECXLARP",20,0)
 .I $O(^ECX(727.2,1,ECFLD,0)) D
"RTN","ECXLARP",21,0)
 ..D:$Y+4>IOSL HDR Q:QFLG  W !!!,$S(ECFLD="BL":"BLOOD",ECFLD="UR":"URINE",1:"FECES")_" SPECIMEN TOPOGRAPHIES",!,$E(LN,1,27)
"RTN","ECXLARP",22,0)
 ..S ECIEN=0 F  S ECIEN=$O(^ECX(727.2,1,ECFLD,ECIEN)) Q:'ECIEN  D:$Y+4>IOSL HDR Q:QFLG  W !,$P($G(^LAB(61,ECIEN,0)),U)
"RTN","ECXLARP",23,0)
QUIT ;
"RTN","ECXLARP",24,0)
 I $E(IOST)="C"&('QFLG) S DIR(0)="E" D  D ^DIR K DIR
"RTN","ECXLARP",25,0)
 .S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXLARP",26,0)
 K %I,CNT,ECFLD,ECIEN,ECLAB,ECLOC,HDT,JJ,LN,PG,QFLG,SS,X,Y,ZTSK
"RTN","ECXLARP",27,0)
 W:$E(IOST)'="C" @IOF D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@" Q
"RTN","ECXLARP",28,0)
HDR ;HEADER
"RTN","ECXLARP",29,0)
 I $E(IOST)="C" S SS=22-$Y F JJ=1:1:SS W !
"RTN","ECXLARP",30,0)
 I $E(IOST)="C",PG>0 S DIR(0)="E" W ! D ^DIR K DIR I 'Y S QFLG=1 Q
"RTN","ECXLARP",31,0)
 S PG=PG+1 W:$Y!($E(IOST)="C") @IOF W !,"DSS Lab Tests Names Datasheet",?72,"Page: ",PG,!,"Printed on ",HDT,!
"RTN","ECXLARP",32,0)
 W !?5,"DSS LAB TEST NAME",!?9,"LOCAL LAB DATA NAME(S)",!,LN
"RTN","ECXLARP",33,0)
 Q
"VER")
8.0^22.0
"^DD",727.2,727.2,0)
FIELD^^4^5
"^DD",727.2,727.2,0,"DDA")
N
"^DD",727.2,727.2,0,"DT")
3030915
"^DD",727.2,727.2,0,"IX","B",727.2,.01)

"^DD",727.2,727.2,0,"IX","S",727.21,2)

"^DD",727.2,727.2,0,"NM","DSS LAB TESTS")

"^DD",727.2,727.2,0,"VRPK")
DSS EXTRACTS
"^DD",727.2,727.2,.01,0)
NAME^RFIX^^0;1^K X
"^DD",727.2,727.2,.01,.1)
Name
"^DD",727.2,727.2,.01,1,0)
^.1
"^DD",727.2,727.2,.01,1,1,0)
727.2^B
"^DD",727.2,727.2,.01,1,1,1)
S ^ECX(727.2,"B",$E(X,1,30),DA)=""
"^DD",727.2,727.2,.01,1,1,2)
K ^ECX(727.2,"B",$E(X,1,30),DA)
"^DD",727.2,727.2,.01,1,1,"DT")
2950310
"^DD",727.2,727.2,.01,3)
This field is pre-set, no local entries should be made.
"^DD",727.2,727.2,.01,9)
^
"^DD",727.2,727.2,.01,21,0)
^.001^4^4^3030916^^^^
"^DD",727.2,727.2,.01,21,1,0)
The DSS LAB TEST file (#727.2) has ONE top level file entry which stores
"^DD",727.2,727.2,.01,21,2,0)
local data (i.e., local lab test names and blood/urine/feces specimen names)
"^DD",727.2,727.2,.01,21,3,0)
for each of the laboratory tests that are tracked using the Decision Support
"^DD",727.2,727.2,.01,21,4,0)
System. This entry is called "LOCAL DSS LAR SETUP".
"^DD",727.2,727.2,.01,23,0)
^.001^1^1^3030916^^^^
"^DD",727.2,727.2,.01,23,1,0)
This field is distributed pre-set, no local entries should be made.
"^DD",727.2,727.2,.01,"DT")
2961213
"^DD",727.2,727.2,1,0)
DSS LAB TEST^727.21^^1;0
"^DD",727.2,727.2,2,0)
BLOOD SPECIMEN^727.22P^^BL;0
"^DD",727.2,727.2,3,0)
URINE SPECIMEN^727.23P^^UR;0
"^DD",727.2,727.2,4,0)
FECES SPECIMEN^727.24P^^FE;0
"^DD",727.2,727.21,0)
DSS LAB TEST SUB-FIELD^^2^3
"^DD",727.2,727.21,0,"DT")
3030915
"^DD",727.2,727.21,0,"IX","B",727.21,.01)

"^DD",727.2,727.21,0,"NM","DSS LAB TEST")

"^DD",727.2,727.21,0,"UP")
727.2
"^DD",727.2,727.21,.01,0)
DSS LAB TEST^MRFIX^^0;1^K X
"^DD",727.2,727.21,.01,1,0)
^.1
"^DD",727.2,727.21,.01,1,1,0)
727.21^B
"^DD",727.2,727.21,.01,1,1,1)
S ^ECX(727.2,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",727.2,727.21,.01,1,1,2)
K ^ECX(727.2,DA(1),1,"B",$E(X,1,30),DA)
"^DD",727.2,727.21,.01,3)
Enter name of laboratory test to be tracked for DSS.
"^DD",727.2,727.21,.01,8.5)
^
"^DD",727.2,727.21,.01,9)
^
"^DD",727.2,727.21,.01,21,0)
^.001^2^2^3030916^^^
"^DD",727.2,727.21,.01,21,1,0)
This is the laboratory test which will be tracked for the Decision Support
"^DD",727.2,727.21,.01,21,2,0)
System.
"^DD",727.2,727.21,.01,23,0)
^.001^2^2^3030916^^^^
"^DD",727.2,727.21,.01,23,1,0)
This entry is pre-determined by the DSS Program office and distributed
"^DD",727.2,727.21,.01,23,2,0)
with the DSS Extracts software.
"^DD",727.2,727.21,.01,"DEL",.01,0)
I 1 W !?10,"THIS LAB TEST MAY NOT BE DELETED"
"^DD",727.2,727.21,.01,"DT")
2961213
"^DD",727.2,727.21,1,0)
LOCAL LAB TEST NAME^727.211P^^LOC;0
"^DD",727.2,727.21,1,21,0)
^.001^2^2^3030916^^^^
"^DD",727.2,727.21,1,21,1,0)
This is the data name in the LABORATORY TEST file (#60) that
"^DD",727.2,727.21,1,21,2,0)
corresponds to this laboratory test.
"^DD",727.2,727.21,1,23,0)
^.001^3^3^3030916^^^^
"^DD",727.2,727.21,1,23,1,0)
Pointer to the NAME field (.01) of the LABORATORY TEST file (#60).
"^DD",727.2,727.21,1,23,2,0)
Entries will be screened to allow only individually orderable (atomic)
"^DD",727.2,727.21,1,23,3,0)
tests and tests which are linked to a National VA Lab Code.
"^DD",727.2,727.21,2,0)
SOURCE^SI^B:BLOOD;U:URINE;F:FECES;^0;2^Q
"^DD",727.2,727.21,2,1,0)
^.1
"^DD",727.2,727.21,2,1,1,0)
727.2^S
"^DD",727.2,727.21,2,1,1,1)
S ^ECX(727.2,"S",$E(X,1,30),DA(1),DA)=""
"^DD",727.2,727.21,2,1,1,2)
K ^ECX(727.2,"S",$E(X,1,30),DA(1),DA)
"^DD",727.2,727.21,2,1,1,3)
DO NOT DELETE!!
"^DD",727.2,727.21,2,1,1,"%D",0)
^^1^1^2961213^
"^DD",727.2,727.21,2,1,1,"%D",1,0)
This cross reference is used to sort DSS Lab Tests by source of specimen.
"^DD",727.2,727.21,2,1,1,"DT")
2961213
"^DD",727.2,727.21,2,3)
Enter the type of SPECIMEN to be used for this DSS Lab Test.
"^DD",727.2,727.21,2,21,0)
^.001^2^2^3030916^^^
"^DD",727.2,727.21,2,21,1,0)
This flag is used to denote which specimen type should be used in the
"^DD",727.2,727.21,2,21,2,0)
search criteria for this DSS Lab Test.
"^DD",727.2,727.21,2,23,0)
^.001^2^2^3030916^^^
"^DD",727.2,727.21,2,23,1,0)
This flag is used to denote which specimen type should be used in the
"^DD",727.2,727.21,2,23,2,0)
search criteria for this DSS Lab Test.  B=Blood, U=Urine, F=Feces
"^DD",727.2,727.21,2,"DEL",2,0)
I 1 W !?10,"THIS SOURCE FLAG MAY NOT BE DELETED"
"^DD",727.2,727.21,2,"DT")
3030915
"^DD",727.2,727.211,0)
LOCAL LAB TEST NAME SUB-FIELD^^.01^1
"^DD",727.2,727.211,0,"DT")
2970226
"^DD",727.2,727.211,0,"IX","B",727.211,.01)

"^DD",727.2,727.211,0,"NM","LOCAL LAB TEST NAME")

"^DD",727.2,727.211,0,"UP")
727.21
"^DD",727.2,727.211,.01,0)
LOCAL LAB TEST NAME^M*P60'O^LAB(60,^0;1^S DIC("S")="I $L($P(^(0),U,5)),$G(^(64))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",727.2,727.211,.01,1,0)
^.1
"^DD",727.2,727.211,.01,1,1,0)
727.211^B
"^DD",727.2,727.211,.01,1,1,1)
S ^ECX(727.2,DA(2),1,DA(1),"LOC","B",$E(X,1,30),DA)=""
"^DD",727.2,727.211,.01,1,1,2)
K ^ECX(727.2,DA(2),1,DA(1),"LOC","B",$E(X,1,30),DA)
"^DD",727.2,727.211,.01,3)
Enter a corresponding lab test (from the LABORATORY TEST file (#60)) for this DSS lab test.
"^DD",727.2,727.211,.01,12)
Only atomic tests and tests which are linked to a National VA Lab Code.
"^DD",727.2,727.211,.01,12.1)
S DIC("S")="I $L($P(^(0),U,5)),$G(^(64))"
"^DD",727.2,727.211,.01,21,0)
^.001^2^2^3030916^^^^
"^DD",727.2,727.211,.01,21,1,0)
This is the corresponding data name in the LABORATORY TEST file (#60) for
"^DD",727.2,727.211,.01,21,2,0)
this laboratory test.
"^DD",727.2,727.211,.01,23,0)
^.001^1^1^3030916^^^^
"^DD",727.2,727.211,.01,23,1,0)
Pointer to the NAME field (.01) of the LABORATORY TEST file (#60).
"^DD",727.2,727.211,.01,"DT")
2970226
"^DD",727.2,727.22,0)
BLOOD SPECIMEN SUB-FIELD^^.01^1
"^DD",727.2,727.22,0,"DT")
2961213
"^DD",727.2,727.22,0,"IX","B",727.22,.01)

"^DD",727.2,727.22,0,"NM","BLOOD SPECIMEN")

"^DD",727.2,727.22,0,"UP")
727.2
"^DD",727.2,727.22,.01,0)
BLOOD SPECIMEN^MP61'X^LAB(61,^0;1^S:$D(X) DINUM=X
"^DD",727.2,727.22,.01,1,0)
^.1
"^DD",727.2,727.22,.01,1,1,0)
727.22^B
"^DD",727.2,727.22,.01,1,1,1)
S ^ECX(727.2,DA(1),"BL","B",$E(X,1,30),DA)=""
"^DD",727.2,727.22,.01,1,1,2)
K ^ECX(727.2,DA(1),"BL","B",$E(X,1,30),DA)
"^DD",727.2,727.22,.01,3)
Enter a specimen locally considered to be a BLOOD SPECIMEN.
"^DD",727.2,727.22,.01,21,0)
^.001^2^2^3030916^^^^
"^DD",727.2,727.22,.01,21,1,0)
This field contains all of the specimens a facility considers to be blood
"^DD",727.2,727.22,.01,21,2,0)
specimens.
"^DD",727.2,727.22,.01,23,0)
^.001^1^1^3030916^^^^
"^DD",727.2,727.22,.01,23,1,0)
Pointer to the NAME field (.01) of the TOPOGRAPHY FIELD file (#61).
"^DD",727.2,727.22,.01,"DT")
2961217
"^DD",727.2,727.23,0)
URINE SPECIMEN SUB-FIELD^^.01^1
"^DD",727.2,727.23,0,"DT")
2961213
"^DD",727.2,727.23,0,"IX","B",727.23,.01)

"^DD",727.2,727.23,0,"NM","URINE SPECIMEN")

"^DD",727.2,727.23,0,"UP")
727.2
"^DD",727.2,727.23,.01,0)
URINE SPECIMEN^MP61'X^LAB(61,^0;1^S:$D(X) DINUM=X
"^DD",727.2,727.23,.01,1,0)
^.1
"^DD",727.2,727.23,.01,1,1,0)
727.23^B
"^DD",727.2,727.23,.01,1,1,1)
S ^ECX(727.2,DA(1),"UR","B",$E(X,1,30),DA)=""
"^DD",727.2,727.23,.01,1,1,2)
K ^ECX(727.2,DA(1),"UR","B",$E(X,1,30),DA)
"^DD",727.2,727.23,.01,3)
Enter a specimen locally considered to be a URINE SPECIMEN.
"^DD",727.2,727.23,.01,21,0)
^.001^2^2^3030916^^^^
"^DD",727.2,727.23,.01,21,1,0)
This field contains all of the specimens a facility considers to be urine
"^DD",727.2,727.23,.01,21,2,0)
specimens.
"^DD",727.2,727.23,.01,23,0)
^.001^1^1^3030916^^^^
"^DD",727.2,727.23,.01,23,1,0)
Pointer to the NAME field (.01) of the TOPOGRAPHY FIELD file (#61).
"^DD",727.2,727.23,.01,"DT")
2961217
"^DD",727.2,727.24,0)
FECES SPECIMEN SUB-FIELD^^.01^1
"^DD",727.2,727.24,0,"DT")
3030515
"^DD",727.2,727.24,0,"IX","B",727.24,.01)

"^DD",727.2,727.24,0,"NM","FECES SPECIMEN")

"^DD",727.2,727.24,0,"UP")
727.2
"^DD",727.2,727.24,.01,0)
FECES SPECIMEN^MP61'X^LAB(61,^0;1^S:$D(X) DINUM=X
"^DD",727.2,727.24,.01,1,0)
^.1
"^DD",727.2,727.24,.01,1,1,0)
727.24^B
"^DD",727.2,727.24,.01,1,1,1)
S ^ECX(727.2,DA(1),"FE","B",$E(X,1,30),DA)=""
"^DD",727.2,727.24,.01,1,1,2)
K ^ECX(727.2,DA(1),"FE","B",$E(X,1,30),DA)
"^DD",727.2,727.24,.01,3)
Enter a specimen locally considered to be a FECES SPECIMEN.
"^DD",727.2,727.24,.01,21,0)
^.001^2^2^3030916^^^
"^DD",727.2,727.24,.01,21,1,0)
This field contains all of the specimens a facility considers to be feces
"^DD",727.2,727.24,.01,21,2,0)
specimens.
"^DD",727.2,727.24,.01,23,0)
^^1^1^3030916^
"^DD",727.2,727.24,.01,23,1,0)
Pointer to the NAME field (.01) of the TOPOGRAPHY FIELD file (#61).
"^DD",727.2,727.24,.01,"DT")
3030515
"^DIC",727.2,727.2,0)
DSS LAB TESTS
"^DIC",727.2,727.2,0,"GL")
^ECX(727.2,
"^DIC",727.2,727.2,"%D",0)
^^10^10^2990914^^^^
"^DIC",727.2,727.2,"%D",1,0)
This file contains the set of laboratory tests tracked by the Decision
"^DIC",727.2,727.2,"%D",2,0)
Support System along with the corresponding local data names in the
"^DIC",727.2,727.2,"%D",3,0)
LABORATORY TEST file (#60) pointed to by these tests.  This file also
"^DIC",727.2,727.2,"%D",4,0)
contains the local names for BLOOD and URINE specimens.  Each DSS Lab Test
"^DIC",727.2,727.2,"%D",5,0)
is assigned a predefined indicator (SOURCE field) of the type of specimen
"^DIC",727.2,727.2,"%D",6,0)
(blood or urine) that will be used as search criteria in conjunction with 
"^DIC",727.2,727.2,"%D",7,0)
the local names for blood and urine specimens.
"^DIC",727.2,727.2,"%D",8,0)
 
"^DIC",727.2,727.2,"%D",9,0)
Entries in this file are determined by the DSS Program Office and should
"^DIC",727.2,727.2,"%D",10,0)
not be changed or deleted.  New entries in this file should not be made.  
"^DIC",727.2,"B","DSS LAB TESTS",727.2)

**END**
**END**
