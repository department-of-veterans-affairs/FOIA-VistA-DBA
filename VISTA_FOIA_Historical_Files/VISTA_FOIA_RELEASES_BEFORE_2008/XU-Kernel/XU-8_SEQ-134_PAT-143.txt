
=============================================================================
Run Date: MAY 25, 2000                     Designation: XU*8*143
Package : XU - KERNEL                          Priority: Mandatory
Version : 8       SEQ #134                       Status: Released
=============================================================================


Subject: RUM for Cache and Enhancements

Category: 
  - Informational
  - Enhancement (Mandatory)

Description: 
============

 *** THIS INSTALL CONTAINS 2 PATCHES: XU*8.0*143 and KMPR*1.0*2 ***
 *** BECAUSE OF THE TIGHT INTEGRATION OF THESE PATCHES THEY ARE ***
 *** BEING RELEASED TOGETHER. THIS MESSAGE CONTAINS ONLY THE    ***
 *** INSTRUCTIONS FOR INSTALLATION. THE ROUTINES ARE LOCATED IN *** 
 *** KIDS FILE 'XU_8_143.KID'.                                  ***
  
  SOFTWARE AVAILABILITY:
  
  This patch is available from one of the CIO Field Offices listed below.
  All VAMCs are encouraged to use their FTP capability to obtain the
  software from the appropriate directory.
  
  CIO FIELD OFFICE      FTP ADDRESS                    DIRECTORY
  -----------------    -------------             ------------------
  Hines                152.129.1.110            anonymous.software
  Albany               152.127.1.5              anonymous.software
  Salt Lake            152.131.2.1              anonymous.software
  
  File Name: XU_8_143.KID
  
  This file contains two patches, XU*8.0*143, KMPR*1.0*2
  
 This patch contains the following updates:
  
 1. RUM is now enabled for Cache.
 2. The 'Status of RUM Collection [KMPR STATUS COLLECTION]' option has a
    different display for the QUEUED TO RUN AT and RESCHEDULING FREQUENCY
    fields.
 3. When starting RUM the 'RUM Background Driver [KMPR BACKGROUND DRIVER]'
    option will be checked and if not running will be automatically
    scheduled to run each day at 1 a.m.  This will prevent data from being
    stored in ^XTMP("KMPR" and never purged.
 4. The ENTRY ACTION for option 'RUM Manager Menu [KMPR RUM MANAGER MENU]'
    has been edited to display the current RUM version number correctly.
  
  
  
 Routine Summary
                      Checksum
 Routine         Old             New             2nd line
 --------        --------        --------        --------
 KMPRPOST        339091          229661          **1,2**
 KMPRSS          6447598         5629742         **1,2**
 KMPRUTL         4452862         4452862         **1,2**
 KMPRUTL1        3328402         3357821         **1,2**
 ZOSVKRM         217494          217494          **90,94,107,122,143**
 ZOSVKRO         217494          4988356         **90,94,107,122,143**
 ZOSVKRV         5750377         5750377         **90,94,107,122,143**
  
 Installation instructions follow:
  
                                 *** NOTE ***
                       All sites must install this patch.
  
 1. Turn RUM off using option [KMPR STOP COLLECTION].
  
 2. You need to use KIDS to install this patch.
  
      On the KIDS menu, under the 'Installation' menu, use the following
      options:
  
           Load a Distribution
           Verify Checksums in Transport Global
           Print Transport Global
           Compare Transport Global to Current System
           Backup a Transport Global
  
 3. Users can remain on the system. This patch should be loaded at a
    non-peak time. If the possibility of a few <NOSOURCE> errors is
    acceptable then installation can take place immediately after
    turning RUM off.  Otherwise it is recommended that RUM be
    turned off for 2 hours before patch installation.
  
    This patch should NOT be installed while the RUM Background Driver
    [KMPR BACKGROUND DRIVER] option is running (this job is queued to run
    every day, usually at 1 a.m.).
  
 4. On the KIDS menu, under the 'Installation' menu, use the following
    option:
  
          Install Package(s)  'XU*8.0*143'
                               ==========
  
          No Options or Protocols need to be placed out-of-order.
  
          Want to DISABLE Scheduled Options, Menu Options, and Protocols?
          NO
  
 5. OpenM/Cache sites remain in VAH.
   
    ***DSM SITES CAN SKIP THIS STEP***
    
    DO RELOAD^ZTMGRSET
    Select the System
    Patch number to load: 143
                          ===
  
 6. Turn RUM back on [KMPR START COLLECTION].
 =========================================================================
  
 Example of a typical install follows:
  
 Select OPTION NAME: KMPR RUM MANAGER MENU       RUM Manager Menu menu
 CAPACITY MANAGEMENT - RUM
  
                          * Resource Usage Monitor 1.0 *
  
   STA    Status of RUM Collection
   STR    Start RUM Collection
   STP    Stop RUM Collection
   RPT    RUM Reports ...
  
 Select RUM Manager Menu Option: STA  Status of RUM Collection
  
                          Resource Usage Monitor Status
                                   Version 1.0
  
      The Resource Usage Monitor is currently running.
  
      The 'RUM Background Driver' [KMPR BACKGROUND DRIVER]
      is QUEUED TO RUN AT Mar 28, 2000@01:00
      with a RESCHEDULING FREQUENCY of '1D'.
    
      The temporary collection global (i.e., 'XTMP("KMPR")') is present
      on your system.
  
 Press <RETURN> to continue: 
  
   STA    Status of RUM Collection
   STR    Start RUM Collection
   STP    Stop RUM Collection
   RPT    RUM Reports ...
  
 Select RUM Manager Menu Option: STOP RUM Collection
  
 Do you want to stop Resource Usage Monitor collection? YES// 
  
           Resource Usage Monitor collection is stopped.
  
  
 Select OPTION NAME: XPD MAIN       Kernel Installation & Distribution
 System menu     KIDS
  
   Edits and Distribution ...
   Utilities ...
   Installation ...
  
 Select Kernel Installation & Distribution System Option: INstallation
  
   1      Load a Distribution
   2      Verify Checksums in Transport Global
   3      Print Transport Global
   4      Compare Transport Global to Current System
   5      Backup a Transport Global
   6      Install Package(s)
          Restart Install of Package(s)
          Unload a Distribution
  
 Select Installation Option: LOAD a Distribution
 Enter a Host File: XU_8_143.KID 
  
 KIDS Distribution saved on Oct 05, 1999@08:41:52
 Comment: PATCHES XU*8.0*143 AND KMPR*1.0*2
  
 This Distribution contains Transport Globals for the following Package(s):
      XU*8.0*143
      KMPR*1.0*2
  
 Want to Continue with Load? YES// 
 Loading Distribution...
  
    XU*8.0*143
    KMPR*1.0*2
  
 Use INSTALL NAME: XU*8.0*143 to install this Distribution.
  
   1      Load a Distribution
   2      Verify Checksums in Transport Global
   3      Print Transport Global
   4      Compare Transport Global to Current System
   5      Backup a Transport Global
   6      Install Package(s)
          Restart Install of Package(s)
          Unload a Distribution
  
 Select Installation Option: VERify Checksums in Transport Global
 Select INSTALL NAME: XU*8.0*143 Loaded from Distribution
 3/27/00@09:07:10
      => PATCHES XU*8.0*143, KMPR*1.0*2  ;Created on Mar 08, 2000@09:05:48
  
 This Distribution was loaded on Mar 08, 2000@09:07:10 with header of 
    PATCHES XU*8.0*143, KMPR*1.0*2  ;Created on Mar 08, 2000@09:05:48
    It consisted of the following Install(s):
      XU*8.0*143     KMPR*1.0*2
 DEVICE: HOME//   TELNET DEVICE
  
 PACKAGE: XU*8.0*143     Mar 08, 2000 9:07 am                     PAGE 1
 --------------------------------------------------------------------------
  
    4 Routine checked, 0 failed.
  
 PACKAGE: KMPR*1.0*2     Mar 08, 2000 9:07 am                      PAGE 1
 --------------------------------------------------------------------------
  
    3 Routine checked, 0 failed.
  
  
   1      Load a Distribution
   2      Verify Checksums in Transport Global
   3      Print Transport Global
   4      Compare Transport Global to Current System
   5      Backup a Transport Global
   6      Install Package(s)
          Restart Install of Package(s)
          Unload a Distribution
  
 Select Installation Option: BAckup a Transport Global
 Select INSTALL NAME:    XU*8.0*143     Loaded from Distribution
 3/27/00@14:46: 36
      => XU*8.0*143, KMPR*1.0*2  ;Created on Mar 08, 2000@13:16:26
  
 This Distribution was loaded on Mar 08, 2000@14:46:36 with header of 
    XU*8.0*143, KMPR*1.0*2  ;Created on Mar 08, 2000@13:16:26
    It consisted of the following Install(s):
      XU*8.0*143     KMPR*1.0*2
 Subject: Backup of XU*8.0*143 install on Mar 08, 2000
   Replace 
 Loading Routines for XU*8.0*143...
 Loading Routines for KMPR*1.0*2....
 Send mail to: KAMAROWSKI,ROBERT A.  Replace   KAMAROWSKI,ROBERT A.
 Select basket to send to: IN//   
 And Send to: 
  
 Select Installation Option: INstall Package(s)
 Select INSTALL NAME: XU*8.0*143       Loaded from Distribution
 3/8/00@08:42:50
      => PATCHES XU*8.0*143 AND KMPR*1.0*2  ;Created on Mar 08, 
 2000@08:41:52
  
 This Distribution was loaded on Mar 08, 2000@08:42:50 with header of 
 PATCHES XU*8.0*143 AND KMPR*1.0*2  ;Created on Mar 08, 2000@08:41:52
 It consisted of the following Install(s):
 XU*8.0*143
 KMPR*1.0*2
  
    XU*8.0*143
  
 Install Questions for XU*8.0*143
  
    KMPR*1.0*2
  
 Install Questions for KMPR*1.0*2
  
 Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   TELNET DEVICE
  
  Install Started for XU*8.0*143 : 
                Mar 08, 2000@08:43:38
  
  Installing Routines:
                Mar 08, 2000@08:43:38
  
  Updating Routine file...
  
  Updating KIDS files...
  
  XU*8.0*143 Installed. 
                Mar 08, 2000@08:43:39
  
                                    KMPR*1.0*2
 --------------------------------------------------------------------------
  Install Message sent #2723
  
  Install Started for KMPR*1.0*2 : 
                Mar 08, 2000@08:43:39
  
  Installing Routines:
                Mar 08, 2000@08:43:41
  
  Installing PACKAGE COMPONENTS: 
  
  Installing OPTION
  
  Updating Routine file...
  
  Updating KIDS files...
  
  KMPR*1.0*2 Installed. 
                Mar 08, 2000@08:43:41
  
  Install Message sent #2724
 --------------------------------------------------------------------------
           +------------------------------------------------------------+
   100%    |             25             50             75               |
 Complete  +------------------------------------------------------------+
  
 Install Completed
  
  
   1      Load a Distribution
   2      Verify Checksums in Transport Global
   3      Print Transport Global
   4      Compare Transport Global to Current System
   5      Backup a Transport Global
   6      Install Package(s)
          Restart Install of Package(s)
          Unload a Distribution
  
 Select Installation Option: 
  Cancel %DSM-E-CTLC, control C typed
 %DSM-I-ATLABEL, ASK+1^XQ:3      W !,XQAA R XQUR:DTIME I '$T Q:$D(XQALEXIT)
  W *7 ,"  Timed out...." G CON^XQTOC
  
  
 ***DSM SITES MAY SKIP THE FOLLOWING STEP.  HOWEVER, IF THEY DO DECIDE***
 ***TO RUN RELOAD^ZTMGRSET, IT MUST BE DONE FROM THE MGR ACCOUNT!!!   ***
  
 VAH>D RELOAD^ZTMGRSET
  
 ZTMGRSET Version 8.0 **34,36,69,94,121**
 HELLO! I exist to assist you in correctly initializing the MGR account
 or to update the current account.
  
 THIS MAY NOT BE THE MANAGER UCI.
 I think it is VAH,ROU. Should I continue anyway? N//Y
 I think you are using OpenM-NT
 Which MUMPS system should I install?
  
 1 = VAX DSM(V6)
 2 = MSM-PC/PLUS
 3 = OpenM for NT
 4 = Datatree,DTM-PC,DT-MAX
 5 = MVX,ISM VAX
 6 = ISM (UNIX, Open VMS)
 System: 3  <-- Enter the appropiate number for your facility -->
  
 Patch number to load: 143
  
 I will now rename a group of routines specific to your operating system.
 Routine: ZOSVVXD
 Routine: ZTBKCVXD
 Routine: ZIS4VXD
 Routine: ZISFVXD
 Routine: ZISHVXD
 Routine: XUCIVXD
 Routine: ZISETVXD
 Routine: ZOSV1VXD
 Routine: ZOSV2VXD
 Routine: ZTMDCL
 Routine: ZOSVKRO      Loaded, Saved as %ZOSVKR
 Routine: ZOSVKSVE
 Routine: ZOSVKSVS
 Routine: ZOSVKSD
  
 Now to load routines common to all systems.
 Routine: ZTLOAD
 Routine: ZTLOAD1
 ... 
 Routine: ZTMOVE
 Installing ^%Z editor
 ALL DONE
  
  
 ***ALL SITES MUST DO THE FOLLOWING STEPS***
  
 Select OPTION NAME: KMPR RUM MANAGER MENU       RUM Manager Menu m enu
 CAPACITY MANAGEMENT - RUM
  
                          * Resource Usage Monitor 1.0 *
  
   STA    Status of RUM Collection
   STR    Start RUM Collection
   STP    Stop RUM Collection
   RPT    RUM Reports ...
  
 Select RUM Manager Menu Option: STR  Start RUM Collection
  
 Do you want to start Resource Usage Monitor collection? YES// 
  
           Resource Usage Monitor collection is started.
  
   STA    Status of RUM Collection
   STR    Start RUM Collection
   STP    Stop RUM Collection
   RPT    RUM Reports ...
  
 Select RUM Manager Menu Option: STA  Status of RUM Collection
  
                          Resource Usage Monitor Status
                                   Version 1.0
  
      The Resource Usage Monitor is currently running.
  
  
      The 'RUM Background Driver' [KMPR BACKGROUND DRIVER]
      is QUEUED TO RUN AT Mar 28, 2000@01:00
      with a RESCHEDULING FREQUENCY of '1D'.
  
      The temporary collection global (i.e., 'XTMP("KMPR")') is present
      on your system.
  
 Press <RETURN> to continue: 

Routine Information:
====================

=============================================================================
User Information:                               
Entered By  : KAMAROWSKI,ROBERT              Date Entered : MAR 08, 2000
Completed By: KRECHOWECKYJ,KORNEL           Date Completed: MAY 24, 2000
Released By : GIBBONS,JOE                   Date Released : MAY 25, 2000
=============================================================================


Packman Mail Message:
=====================

No routines included
