
=============================================================================
Run Date: JAN 08, 2003                     Designation: SD*5.3*254
Package : SD - SCHEDULING                      Priority: Mandatory
Version : 5.3       SEQ #247                     Status: Released
                  Compliance Date: JAN 31, 2003
=============================================================================

Associated patches: (v)SD*5.3*245  <<= must be installed BEFORE `SD*5.3*254'
                    (v)SD*5.3*250  <<= must be installed BEFORE `SD*5.3*254'

Subject: RACE AND ETHNICITY, 1997 STANDARDS

Category: 
  - Routine

Description: 
============

   NOTE:  Patches DG*5.3*415 and SD*5.3*254 are being released in a
          single distribution.  Because of this, patch descriptions
          for DG*5.3*415 and SD*5.3*254 are identical and contain
          routine summaries for both sets of routines.
  
  
   This patch distributes the changes required to the Registration, Scheduling,
   PTF, and Ambulatory Care Reporting software for the collection and
   distribution of new Race and Ethnicity categories.  These new categories
   will be collected and stored in the PATIENT file (#2) and sent to the Austin
   Automation Center for storage in the National Patient Care Database and
   National Patient Treatment File.  The standards have been developed by the
   Office of Management and Budget to provide a common language for uniformity
   and comparability in the collection and use of data on race and ethnicity by
   Federal agencies.
  
   This patch is not being distributed through the National Patch Module.
   The distribution file DG_53_P415.KID (which contains DG*5.3*415 and
   SD*5.3*254) may be obtained using FTP from the ANONYMOUS.SOFTWARE
   directory at DOWNLOAD.VISTA.MED.VA.GOV or from specific servers at the
   Albany (ftp.fo-albany.med.va.gov), Hines (ftp.fo-hines.med.va.gov), or
   Salt Lake City (ftp.fo-slc.med.va.gov) OI Field Office.
  
  
  
   Nationally Approved/Supported Races
   -----------------------------------
   * AMERICAN INDIAN OR ALASKA NATIVE
   * ASIAN
   * BLACK OR AFRICAN AMERICAN
   * NATIVE HAWAIIAN OR OTHER PACIFIC ISLANDER
   * WHITE
   * DECLINED TO ANSWER
   * UNKNOWN BY PATIENT
   
   All other race values will be flagged as inactive
  
  
  
   Nationally Approved/Supported Ethnicities
   -----------------------------------------
   * HISPANIC OR LATINO
   * NOT HISPANIC OR LATINO
   * DECLINED TO ANSWER
   * UNKNOWN BY PATIENT
  
  
  
   Nationally Approved/Supported Collection Methods
   ------------------------------------------------
   * SELF-IDENTIFICATION
   * OBSERVER
   * PROXY
   * UNKNOWN
   
   Although 4 collection methods are possible, the PIMS software will
   only collect Self Identified races and ethnicities.  This is in line
   with a decision by HIMS to only collect self identified values when
   registering the patient for care or when encoding the patient's
   inpatient/outpatient record [via PTF/PCE].
  
  
  
   Changes to PATIENT file (#2)
   ----------------------------
   * The existing RACE field (#.06) is made uneditable
   * The existing RACE field (#.06) is removed as an identifier
   * The multiple RACE INFORMATION (sub-file #2.02) is created
   * The multiple ETHNICITY INFORMATION (sub-file #2.06) is created
  
  
  
   Changes to RACE file (#10)
   --------------------------
   * The field HL7 VALUE (#3) is created with regular cross reference AHL7
   * The field CDC VALUE (#4) is created
   * The field PTF VALUE (#5) is created
   * The field INACTIVE (#200) is created
   * The field INACTIVATION DATE (#202) is created
  
  
  
   New file - ETHNICITY (#10.2)
   ----------------------------
   FLD     FIELD NAME             X-REF
   ~~~     ~~~~~~~~~~~~~~~~~~     ~~~~~
   .01     NAME                   B
     2     ABBREVIATION           C
     3     HL7 VALUE              AHL7
     4     CDC VALUE
     5     PTF VALUE
   100     SYNONYM (Mult 10.21)
   .01       -SYNONYM               -B
   200     INACTIVE
   202     INACTIVATION DATE
  
  
  
   New file - RACE AND ETHNICITY COLLECTION METHOD (#10.3)
   -------------------------------------------------------
   FLD     FIELD NAME             X-REF
   ~~~     ~~~~~~~~~~~~~~~~~~     ~~~~~
   .01     NAME                   B
   .02     ABBREVIATION           C
   .03     HL7 VALUE              AHL7
   .05     PTF VALUE   
  
  
  
   Changes to Registration
   -----------------------
   The Registration package does not currently prompt for race information
   during the registration process. The software will be modified to collect
   race and ethnicity data elements as well as their collection methods
   within the frame of the Patient Data screen (#2) as item number 3.
   When adding a new race and/or ethnicity value, the collection method
   SELF-IDENTIFICATION will automatically be used.  Prompting for the
   collection method will only be done if the currently stored value is not
   SELF-IDENTIFICATION.
   
   
   
   Changes to Scheduling
   ---------------------
   Since the race field is not currently displayed on any of the Scheduling
   screens, race and ethnicity information will not be added to them.
   
   The options MAKE APPOINTMENT [SDM] and MAKE CONSULT APPOINTMENT [SC MAKE
   CONSULT APPT] currently prompt for race if the value is not already on
   file. These options will be adjusted to prompt for entry of the new race
   and ethnicity values if a value is not already on file.  When adding a new
   race and/or ethnicity value, the collection method SELF-IDENTIFICATION will
   automatically be used.  Prompting for the collection method will only be
   done if the currently stored value is not SELF-IDENTIFICATION.
   
   The option APPOINTMENT MANAGEMENT [SDAM APPT MGT] currently prompts for
   race if the action 'Patient Demographics' is selected.  Prompting for
   race will occur at all times and will be adjusted to prompt for entry of
   the new race and ethnicity values. When adding a new race and/or
   ethnicity value, the collection method SELF-IDENTIFICATION will
   automatically be used.  Prompting for the collection method will only be
   done if the currently stored value is not SELF-IDENTIFICATION.
   
   
   
   Changes to PTF
   --------------
   The options LOAD/EDIT PTF DATA [DG PTF SCREEN] and QUICK LOAD/EDIT PTF
   DATA [DG PTF QUICK LOAD] currently collect race using input templates.
   These templates will be modified to collect race, ethnicity, and their
   collection methods.  When adding a new race and/or ethnicity value, the
   collection method SELF-IDENTIFICATION will automatically be used.
   Prompting for the collection method will only be done if the currently
   stored value is not SELF-IDENTIFICATION.
   
   Note that the equivalent Census options and the options SET UP NON-VA
   PTF RECORD [DG PTF FEE BASIS ADD] and INQUIRE PTF RECORD [DG PTF
   COMPREHENSIVE INQUIRY] are also covered by these changes.
   
   Race is currently displayed on the 101 screen of LOAD/EDIT PTF DATA.
   In order to fit all race and ethnicity values on this screen, the
   transmission values will be used.
   
   Race is transmitted to the AAC in the PTF transmission and is located at
   position 56 of the 701 segment.  Transmission of released PTF records is
   done through the option PTF TRANSMISSION [DG PTF TRANSMISSION VADATS].
   The EAL Listing, which contains validation errors, currently displays the
   transmission value for race.
   
   An "X" will be placed in position 56 of the 701 segment.  This is being
   done to denote that the historical value for race is no longer being used
   in the transmission.  Ethnicity will be placed in positions 94 and 95 of
   the 701 segment, with ethnicity in position 94 and it's collection method
   in position 95.  Race will also be added to the 701 segment in the same
   pairing methodology using positions 96 through 107 (ex: 96 is race #1, 97
   is collection method #1, 98 is race #2, 99 is collection #2).  The
   following tables list the transmission values for race, ethnicity, and
   collection method:
   
     PTF Race Values 
     Value     Description
     ~~~~~     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     3         American Indian or Alaska Native
     8         Asian
     9         Black or African American
     A         Native Hawaiian or Other Pacific Islander
     B         White
     C         Declined to Answer
     D         Unknown by Patient
 
     PTF Ethnicity Values 
     Value     Description
     ~~~~~     ~~~~~~~~~~~~~~~~~~~~~~
     D         Declined to Answer
     H         Hispanic or Latino
     N         Not Hispanic or Latino
     U         Unknown by Patient
 
     PTF Race & Ethnicity Collection Method Values
     Value     Description
     ~~~~~     ~~~~~~~~~~~~~~~~~~~
     O         Observer
     P         Proxy
     S         Self-identification
     U         Unknown
   
   
   
   Changes to Ambulatory Care Reporting (ACRP)
   -------------------------------------------
   Race is currently included in several reports and the HL7 transmission
   to Austin. The HL7 transmission will be modified to use the newly
   formatted PID segment. 
   
   The following reports will be modified so that multiple race values are
   printed and the patient's ethnicity is selectable for output: ACRP AD HOC
   REPORT [SCRPW AD HOC REPORT], MEANS TEST/ELIGIBILITY/ENROLLMENT REPORT
   [SCRPW MT/ELIG/ENROLLMENT RPT], OUTPATIENT DIAGNOSIS/PROCEDURE CODE
   SEARCH [SCRPW DX/PROCEDURE CODE SEARCH], and VETERANS WITHOUT ACTIVITY
   SINCE A SPECIFIED DATE [SCRPW VETS W/OUT ACTIVITY].
   
   
   
   New APIs
   --------
   The following APIs are nationally supported.  Refer to DBIA #3799 for details
   concerning input parameters and output of the calls.
   
   $$PTR2TEXT^DGUTL4
   Function call converts a pointer to the RACE, ETHNICITY, or RACE AND
   ETHNICITY COLLECTION METHOD file (numbers 10, 10.2, and 10.3 respectively)
   into it's displayable name (i.e. .01 field).
   
   $$INACTIVE^DGUTL4
   Function call returns whether or not a given entry in the RACE or ETHNICITY
   file (numbers 10 and 10.2 respectively) is marked as inactive.
   
   $$PTR2CODE^DGUTL4
   Function call converts a pointer to the RACE, ETHNICITY, or RACE AND
   ETHNICITY COLLECTION METHOD file (numbers 10, 10.2, and 10.3 respectively)
   into it's abbreviation, HL7, CDC, or PTF code.
   
   $$CODE2PTR^DGUTL4
   Function call converts an abbreviation, HL7, CDC, or PTF code into a pointer
   to it's entry in the RACE, ETHNICITY, or RACE AND ETHNICITY COLLECTION METHOD
   file (numbers 10, 10.2, and 10.3 respectively).
   
   
   
   Modifications to DEM^VADPT
   --------------------------
   The new array element VADM(11) will contain the new ethnicity value.
   VADM(11) will be set to 1, VADM(11,1) will contain ethnicity in
   internal^external format (e.g. 1^HISPANIC OR LATINO) and VADM(11,1,1)
   will contain the collection method in internal^external format
   (e.g. 2^PROXY).
   
   The new array element VADM(12) will contain the new race values.
   VADM(12) will contain the number of race values being returned, VADM(12,x)
   will contain each race value in internal^external format (e.g. 11^WHITE),
   and VADM(12,x,1) will contain the collection method of each race value
   in internal^external format (e.g. 2^PROXY).
   
   
  
   Modifications to $$EN^VAFHLPID and $$EN^VAFCPID
   -----------------------------------------------
   The current definition of the PID segment lists Race as sequence 10 and
   Ethnicity as sequence 22.  Both fields have a data type of composite element
   (CE), which is defined as a field broken down by 6 components.  Because this
   data type does not allow for the ability to encode the collection method,
   the values sent will be encoded with the collection method.  These values
   will be placed into the first triplet (components 1 to 3).
   
   The HL7 standard states that the second triplet (components 4 to 6) is
   reserved for governmentally assigned codes.  For our purposes, we will use
   the CDC values in the second triplet.  Note that the collection method is
   not carried/implied within the second triplet.
   
   When calling the API, a parameter containing the list of sequences desired
   is used.  An example of this parameter, VAFSTR, would be "1,2,3,4,5" when
   the calling program wishing to have sequences 1 to 5 returned.  To provide
   flexibility, the text (components 2 & 5) and second triplet (components 4
   to 6) for race and ethnicity will be optional.  Applications wishing to have
   the second triplet included in the output PID will append "B" to the
   sequence number (ex: "10B" and "22B").  Applications wishing to have the
   text included will append "T" to the sequence number (ex: "10T" and "22T").
   Applications wishing to have the text and second triplet will append "B" and
   "T" to the sequence number (ex: "10BT" and "22BT").
   
   To maintain backwards compatibility, the existing PID API will continue to
   return the historical value for race in sequence 10.  Applications wishing
   to have the new race values returned can either use the "B" and/or "T"
   qualifier or can use "N" as a qualifier.  Use of the "N" qualifier will
   return the race values but not include the text or second triplet in the
   output.
  
  
  
   Modified PTF AUSTIN ERROR CODES
   -------------------------------
   * Error code 713 is marked as no longer used
  
  
  
   New TRANSMITTED OUTPATIENT ENCOUNTER ERROR CODE
   -----------------------------------------------
   * Austin error code 238 = Ethnicity code missing or invalid
   * VistA error code 2380 = Ethnicity code missing or invalid
  
  
  
   New/Modified ACRP REPORT TEMPLATE PARAMETER
   -------------------------------------------
   * 0703 (PATIENT RACE) modified to accomodate multiple race values
   * 0706 (PATIENT ETHNICITY) created
  
  
  
   Modified Input Templates
   ------------------------
   NAME      USED FOR
   ~~~~~~    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   DG101     Load/Edit PTF Data - 101 Screen
   DG101F    Load/Edit PTF Data (Fee Basis patient) - 101 Screen
   DGQWK     Quick Load/Edit PTF Data
   DGQWKF    Quick Load/Edit PTF Data (Fee Basis patient)
  
  
  
  
   ROUTINE SUMMARY - REGISTRATION:
   ===============================
   The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
  
       <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993
  
                              CHECK^XTSUMBLD results
   Routine name      Before Patch          After Patch         Patch List
   ============      ============          ===========         ==========
   DG53415                    N/A              7332051             415
   DGPT101                5863619              5816091      8,164,180,247,415
   DGPT701                5773024              5646278       64,164,251,415
   DGPT701P               2698106              2598214           164,415
   DGPTAE                 7140217              7057535           58,415
   DGPTAEE2               8619653              9053107          8,338,415
   DGPTF1                14834587             14591632     69,114,195,397,342
                                                                   415
   DGPTFTR                9405205              9571338           37,415
   DGPTFVC1              15246957             15619820      52,58,79,114,164
                                                            400,342,466,415
   DGPTR1                16196119             16330674     58,247,338,342,423
                                                                   415
   DGPTR4                 4592148              5121100         338,423,415
   DGRP2                  5687059              6896051             415
   DGRPE                 20568255             21982861     32,114,139,169,175
                                                          247,190,343,397,342
                                                                454,415
   DGRPH                 22085843             22220138       114,343,397,415
   DGRPU1                 1411324              2702386         139,169,415
   DGRPV                  9054980              9086115     109,114,247,190,327
                                                            365,343,397,415
   DGUTL4                     N/A              2109591             415
   VADPT                  6944450              6944486       193,343,389,415
   VADPT0                 3122632              3139984         343,342,415
   VADPT1                 9482819             10364665             415
   VAFCA04                4391209              4832043     91,209,149,261,298
                                                                  415
   VAFCADT2               3877798              4194411       91,179,209,415
   VAFCMSG4               3543724              3893163       91,209,149,415
   VAFCPID                9237084              3564275       91,149,190,415
   VAFHBGJ                1942843              1977309           91,415
   VAFHLPI1                   N/A              3602800             415
   VAFHLPID               6542186              3153380          68,94,415
   VAFHLU                     N/A               872343             415
   VAFHQRY                1561975              1585072           91,415
  
       Note: The VADPT routines must be moved to the Imaging DICOM gateways.
             Refer to installation step 9 for further details.
  
  
  
   ROUTINE SUMMARY - SCHEDULING:
   =============================
   The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
  
       <tab>;;5.3;Scheduling;**[patch list]**;Aug 13, 1993
  
                              CHECK^XTSUMBLD results
   Routine name      Before Patch          After Patch         Patch List
   ============      ============          ===========         ==========
   SCDXMSG1               9697913              9645949       44,55,70,77,85
                                                          66,143,142,162,172
                                                            180,239,245,254
   SCMSVPID               5148825              3522345        44,66,162,254
   SCMSVUT0               6549627              6602857      44,55,66,132,245
                                                                  254
   SCMSVUT2               3158470              3255774         66,180,254
   SCMSVUT5                   N/A              1130452             254
   SCRPW24               27654973             27453254       144,163,180,254
   SCRPW241               1240533              2787665           180,254
   SDM                   15139012             15212475       15,32,38,41,44
                                                           79,94,167,168,218
                                                              223,250,254 
  
  
  
  INSTALLATION INSTRUCTIONS:
  ==========================
  
  This patch can be installed with users on the system, however it should
  be installed during off hours to minimize disruption to users.
  
  This patch affects Registration, PTF, the check-out process and must be
  installed when the SCDX AMBCAR NIGHTLY XMIT background job is not running.
  Installation will take less than 5 minutes.
  
  Note: The new race and ethnicity data is stored in multiples of the
        PATIENT file (#2).  The sub-file numbers used for these multiples
        (#2.02 & #2.06) were used by other multiples in the past.  During
        field testing it was found that these sub-files were still defined
        at some sites.  To ensure that the obsolete sub-files do not exist,
        the pre-init of this patch checks for their existence and deletes
        them if they are found.  This deletion can take a long time to run
        since deletion of the sub-files also requires deletion of any data
        still on file.  Sites wishing to decrease the installation time of
        this patch should check for their existence and manually delete
        them.  The following sample code can be used to accomplish this:
  
          MUMPS> F DIU=2.02,2.06 I $D(^DD(DIU)) S DIU(0)="DEST" D EN^DIU2
  
  
  Note: The following is a list of REQUIRED builds for this KIDS distribution.
        KIDS will not allow the installation of this patch without the prior
        installation of them.
   
            DG*5.3*169     DG*5.3*251     DG*5.3*298     DG*5.3*389
            DG*5.3*423     DG*5.3*454     DG*5.3*466     SD*5.3*250
            SD*5.3*245
  
  1. Use the LOAD A DISTRIBUTION option on the KIDS INSTALLATION Menu, and
     enter DG_53_P415.KID.
  
  2.  Review your mapped set.  If any of the routines listed in the
      ROUTINE SUMMARY section are mapped, they should be removed
      from the mapped set at this time.
  
  3.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
  
  4.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter DG*5.3*415):
  
        a.  Backup a Transport Global - this option will create a backup
            message of any routines exported with the patch.  It will NOT
            backup any other changes such as DDs or templates.
        b.  Compare Transport Global to Current System  - this option will
            allow you to view all changes that will be made when the patch
            is installed.  It compares all components of the patch
            (routines, DDs, templates, etc.).
        c.  Verify Checksums in Transport Global - this option will
            allow you to ensure the integrity of the routines that are in
            the transport global.
        d.  Print Transport Global - this option will allow you to view the
            components of the KIDS build.
   
  5.  Use the Install Package(s) option and select the package DG*5.3*415.
  
  6.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
      YES//',respond NO.
  
  7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond YES.  When prompted to select the
      options you would like to place out of order, enter the following:
  
        SCDX AMBCAR NIGHTLY XMIT         Ambulatory Care Nightly
                                         Transmission to NPCDB
        SDAM APPT MGT                    Appointment Management
        SDAM APPT CHECK IN/OUT           Appointment Check-in/Check-out
        SDADDEDIT                        Add/Edit Stop Codes
        SDAPP                            Appointment Menu
        SDI                              Check-in/Unsched. Visit
        SDM                              Make Appointment
        PXCE ENCOUNTER DATA ENTRY        PCE Encounter Data Entry
        PXCE ENCOUNTER ENTRY & DELETE    PCE Encounter Data Entry & Delete
        PXCE ENCOUNTER ENTRY NO DELETE   PCE Encounter Entry Without Delete
        PXCE ENCOUNTER ENTRY SUPER       PCE Encounter Data Entry -
                                         Supervisor
        DG PTF MENU                      PTF Menu
        DG PTF SCREEN                    Load/Edit PTF Data
        DG PTF TRANSMISSION VADATS       PTF Transmission
        DG PTF QUICK LOAD                Quick Load/Edit PTF Data
        DG PTF MESSAGE ENTER             Enter PTF Message
        DG PTF FEE BASIS ADD             Set Up Non-VA PTF Record
        DG REGISTRATION MENU             Registration Menu
        DG CONSISTENCY PATIENT           Edit Inconsistent Data for a Patient
        DG LOAD PATIENT DATA             Load/Edit Patient Data
        DG PATIENT INQUIRY               Patient Inquiry
  
      When prompted to select the protocols you would like to place out
      of order, enter the following:
  
        SDAM PCE EVENT                   Process PCE Event Data
  
  8.  If routines were unmapped as part of step 2, they should be
      returned to the mapped set once the installation has run to
      completion.
  
  9.  If you are running Vista Imaging, use the menu option to copy the
      routines to the Imaging DICOM gateways as follows: "On the Vista
      server (hospital database), use menu option 'Copy Routines to DICOM
      Gateway' located under the 'Imaging System Manager' Menu.  Then on
      all Text and Image gateways use the 'System Maintenance' menu to
      select Gateway Configuration and DICOM Master File and then select
      'Download Current Radiology and MAS Routines'.  This will cause the
      up-to-date versions of all radiology and MAS routines to be copied
      to the gateway systems."
 

Routine Information:
====================

Routine Name:
  - SCDXMSG1


Routine Checksum:

Routine Name:
  - SCMSVPID


Routine Checksum:

Routine Name:
  - SCMSVUT0


Routine Checksum:

Routine Name:
  - SCMSVUT2


Routine Checksum:

Routine Name:
  - SCMSVUT5


Routine Checksum:

Routine Name:
  - SCRPW24


Routine Checksum:

Routine Name:
  - SCRPW241


Routine Checksum:

Routine Name:
  - SDM


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : SAUNDERS,ANGELA C             Date Entered : OCT 04, 2001
Completed By: GUTHRIE,MARY H               Date Completed: JAN 06, 2003
Released By : SIVLEY,JIMMIE SUE            Date Released : JAN 08, 2003
=============================================================================


Packman Mail Message:
=====================

No routines included
