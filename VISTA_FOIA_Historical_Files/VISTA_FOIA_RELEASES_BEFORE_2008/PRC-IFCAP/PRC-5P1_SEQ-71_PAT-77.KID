Released PRC*5.1*77 SEQ #71
Extracted from mail message
**KIDS**:PRC*5.1*77^

**INSTALL NAME**
PRC*5.1*77
"BLD",4225,0)
PRC*5.1*77^IFCAP^0^3050304^y
"BLD",4225,1,0)
^9.61A^1^1^3050304^^^^
"BLD",4225,1,1,0)
ADJUSTMENT VOUCHER SCROLLING PROBLEM
"BLD",4225,4,0)
^9.64PA^^
"BLD",4225,"ABPKG")
n
"BLD",4225,"KRN",0)
^9.67PA^8989.52^19
"BLD",4225,"KRN",.4,0)
.4
"BLD",4225,"KRN",.4,"NM",0)
^9.68A^^
"BLD",4225,"KRN",.401,0)
.401
"BLD",4225,"KRN",.401,"NM",0)
^9.68A^^
"BLD",4225,"KRN",.402,0)
.402
"BLD",4225,"KRN",.402,"NM",0)
^9.68A^2^1
"BLD",4225,"KRN",.402,"NM",2,0)
PRCHLINE    FILE #443.6^443.6^0
"BLD",4225,"KRN",.402,"NM","B","PRCHLINE    FILE #443.6",2)

"BLD",4225,"KRN",.403,0)
.403
"BLD",4225,"KRN",.5,0)
.5
"BLD",4225,"KRN",.84,0)
.84
"BLD",4225,"KRN",3.6,0)
3.6
"BLD",4225,"KRN",3.8,0)
3.8
"BLD",4225,"KRN",9.2,0)
9.2
"BLD",4225,"KRN",9.8,0)
9.8
"BLD",4225,"KRN",19,0)
19
"BLD",4225,"KRN",19.1,0)
19.1
"BLD",4225,"KRN",101,0)
101
"BLD",4225,"KRN",409.61,0)
409.61
"BLD",4225,"KRN",771,0)
771
"BLD",4225,"KRN",870,0)
870
"BLD",4225,"KRN",8989.51,0)
8989.51
"BLD",4225,"KRN",8989.52,0)
8989.52
"BLD",4225,"KRN",8994,0)
8994
"BLD",4225,"KRN","B",.4,.4)

"BLD",4225,"KRN","B",.401,.401)

"BLD",4225,"KRN","B",.402,.402)

"BLD",4225,"KRN","B",.403,.403)

"BLD",4225,"KRN","B",.5,.5)

"BLD",4225,"KRN","B",.84,.84)

"BLD",4225,"KRN","B",3.6,3.6)

"BLD",4225,"KRN","B",3.8,3.8)

"BLD",4225,"KRN","B",9.2,9.2)

"BLD",4225,"KRN","B",9.8,9.8)

"BLD",4225,"KRN","B",19,19)

"BLD",4225,"KRN","B",19.1,19.1)

"BLD",4225,"KRN","B",101,101)

"BLD",4225,"KRN","B",409.61,409.61)

"BLD",4225,"KRN","B",771,771)

"BLD",4225,"KRN","B",870,870)

"BLD",4225,"KRN","B",8989.51,8989.51)

"BLD",4225,"KRN","B",8989.52,8989.52)

"BLD",4225,"KRN","B",8994,8994)

"BLD",4225,"QUES",0)
^9.62^^
"BLD",4225,"REQB",0)
^9.611^^
"KRN",.402,2647,-1)
0^2
"KRN",.402,2647,0)
PRCHLINE^3050304.1407^^443.6^^^3050304
"KRN",.402,2647,"DIAB",1,1,443.61,22)
PURCHASE ORDER NUMBER:AMENDMENTS TO DELIVERY SCHEDULES:
"KRN",.402,2647,"DR",1,443.6)
S PRCHPONO=$P(^PRC(443.6,PRCHPO,0),U);40///^S X=PRCHI1;K DIE("NO^"),PRCHSEEN,PRCHMORE,PRCHQTY,PRCHTOT,PRCHSCN,PRCHDSCH,PRCHDSFL;
"KRN",.402,2647,"DR",2,443.61)
S (D0,PRCHIEN)=DA(1),PRCHINUM=DA,PRCHREC=DA;1.5;1;S PRCHOLD=$P($G(^PRC(443.6,PRCHIEN,2,PRCHINUM,0)),U,2);
"KRN",.402,2647,"DR",2,443.61,1)
S (PRCHQUAN,PRCHZ)="" I $D(^PRC(443.6,DA(1),1)) S PRCHZ=$S($D(^PRC(441,+$P(^PRC(443.6,DA(1),2,DA,0),U,5),2,+^PRC(443.6,DA(1),1),0)):^(0),1:"");
"KRN",.402,2647,"DR",2,443.61,2)
I PRCHZ'="" W:$P(PRCHZ,U,12)'="" !,*7,"    Minimum Order Qty.: ",$P(PRCHZ,U,12) W:$P(PRCHZ,U,9) !,*7,"    Maximum Order Qty.: ",$P(PRCHZ,U,9) W:$P(PRCHZ,U,11) !,*7,"    Required Order Multiple: ",$P(PRCHZ,U,11) S PRCHQUAN=PRCHZ;
"KRN",.402,2647,"DR",2,443.61,3)
S PRCHQPR=$P($G(^PRC(443.6,DA(1),2,DA,2)),U,8);@2;2//^S X=$S($P(PRCHQUAN,U,12)'="":$P(PRCHQUAN,U,12),$P(PRCHQUAN,U,11)'="":$P(PRCHQUAN,U,11),1:"");S PRCHQTY=X,PRCHDSFL=0;
"KRN",.402,2647,"DR",2,443.61,4)
I PRCHQTY<$G(PRCHOLD) N I F I=0:0 S I=$O(^PRC(441.7,"AG",PRCHPONO,PRCHINUM,I)) Q:'I  S PRCHTOT=$G(PRCHTOT)+$P($G(^PRC(441.7,I,0)),U,5) I 'PRCHDSFL S PRCHDSFL=1;
"KRN",.402,2647,"DR",2,443.61,5)
I $G(PRCHTOT)>PRCHQTY,PRCHDSFL W !!!,$C(7),"****Delivery Schedule total for this item (",PRCHTOT,") EXCEEDS order quantity (",PRCHQTY,").",!,"Edit delivery schedule(s) now.",! S PRCHFLG=1 S Y="@16";@44;S DA=PRCHINUM;
"KRN",.402,2647,"DR",2,443.61,6)
I PRCHQPR>0 I X<PRCHQPR W !,"QUANTITY is less than Quantity Previously Received.",$C(7) S Y="@2";I $P(PRCHQUAN,U,12)'="" I X<$P(PRCHQUAN,U,12) W !,"QUANTITY is less than Minimum Order Quantity.",$C(7) S Y="@2";
"KRN",.402,2647,"DR",2,443.61,7)
I $P(PRCHQUAN,U,9)'="" I X>$P(PRCHQUAN,U,9) W !,"QUANTITY is more than Maximum Order Quantity.",$C(7) S Y="@2";I $P(PRCHQUAN,U,11)'="" I X#$P(PRCHQUAN,U,11)'=0 W !,"QUANTITY is not a Required Order Multiple value.",$C(7) S Y="@2";
"KRN",.402,2647,"DR",2,443.61,8)
3;5;I $D(^PRC(443.6,DA(1),1)),$P(^(1),U,20)="Y" S Y="@66";3.1;9.4;S:X']"" Y=9;S DIE("NO^")="A";9.7;K DIE("NO^");9;9.5;@66;S PRCHN("MP")=$S($D(^PRCD(442.5,+$P(^PRC(443.6,DA(1),0),U,2),0)):$P(^(0),U,3),1:"");S:PRCHN("MP")=2 Y=4;8;
"KRN",.402,2647,"DR",2,443.61,9)
S PRCHFCP=+$P(^PRC(443.6,DA(1),0),U,3),PRCHN("COM")=$S($D(^PRC(441.2,+X,0)):$P(^(0),U,4),1:"") S:$E($P($G(^PRC(420,PRCHSTN,1,PRCHFCP,0)),U,18),1,2)=11 Y=41 S:(PRCHN("COM")'=1)&($E($P($G(^(0)),U,18),1,2)'=11) Y=4;9.3;40//^S X="D";
"KRN",.402,2647,"DR",2,443.61,10)
S Y="@4";41//^S Z=$S($D(^PRC(441,+$P(^PRC(443.6,DA(1),2,DA,0),U,5),3)):^(3),1:""),X=$P(Z,U,7);42;@4;4;S PRCHN("SFC")=+$P(^PRC(443.6,DA(1),0),U,19);I PRCHN("SFC")=2 S $P(^PRC(443.6,DA(1),2,DA,0),U,4)=$$SUPBOC^PRCHMA0(-1) S Y="@87";
"KRN",.402,2647,"DR",2,443.61,11)
3.5//^S X=$$SUPBOC^PRCHMA0(-1);@87;S:$G(PRCHEDI)']"" Y="@5";36.3;36.6;@5;
"KRN",.402,2647,"DR",2,443.61,12)
S PRCHTOT=0,PRCHSCN="" F I=0:0 S PRCHSCN=$O(^PRC(441.7,"B",PRCHPONO,PRCHSCN)) Q:PRCHSCN=""  I $P(^PRC(441.7,PRCHSCN,0),U,2)=PRCHINUM S PRCHTOT=PRCHTOT+$P(^(0),U,5);S PRCHQTY=$P(^PRC(443.6,PRCHIEN,2,PRCHINUM,0),U,2);
"KRN",.402,2647,"DR",2,443.61,13)
I PRCHTOT>PRCHQTY S PRCHDA1=DA(1),PRCHDA=DA,PRCHLINO=$P(^PRC(443.6,PRCHIEN,2,PRCHINUM,0),U) W !,"Line Item # = ",PRCHLINO,!,"Quantity Ordered: ",$P(^PRC(443.6,PRCHIEN,2,PRCHINUM,0),U,2),! S Y="@555";
"KRN",.402,2647,"DR",2,443.61,14)
W !!,"Enter/Edit Delivery Schedule for this Item?  NO// " R XX:DTIME S:'$T XX="^" S:XX="" XX="N" S:XX["?" Y="@5" S:"Yy?"'[$E(XX) Y="" W "  "_$S("Yy"[$E(XX):"(YES)","Nn"[$E(XX):"(NO)",1:"");@16;
"KRN",.402,2647,"DR",2,443.61,15)
S PRCHDA1=DA(1),PRCHDA=DA,PRCHLINO=$P(^PRC(443.6,PRCHIEN,2,PRCHINUM,0),U) W !,"Line Item # = ",PRCHLINO,!,"Quantity Ordered: ",$P(^PRC(443.6,PRCHIEN,2,PRCHINUM,0),U,2),!;
"KRN",.402,2647,"DR",2,443.61,16)
I PRCHTOT=PRCHQTY W !,"Delivery schedule quantity of ",PRCHTOT," equals order quantity of ",PRCHQTY,".",!,"You may edit delivery schedule(s), but cannot add a new schedule.",!!;@555;
"KRN",.402,2647,"DR",2,443.61,17)
I PRCHTOT>PRCHQTY W !,"Delivery schedule quantity of ",PRCHTOT," EXCEEDS order quantity of ",PRCHQTY,". You must edit",!,"one or more schedules so that the total equals no more than ",PRCHQTY,".",!! S Y="@55";
"KRN",.402,2647,"DR",2,443.61,18)
S:$D(PRCHSEEN) Y="@55";S PRCHSEEN=1 W !!,"To delete a schedule, zero out the quantity to be delivered. To add a new",!,"delivery schedule do the following:",!!;
"KRN",.402,2647,"DR",2,443.61,19)
W "a. If there is no delivery schedule already in file answer 'Yes' when asked if     you are adding a new delivery schedule.";
"KRN",.402,2647,"DR",2,443.61,20)
W !,"b. If there is only one delivery schedule already in the file you will see         'OK? YES//' answer 'No' and then answer 'Yes' when asked if you are adding a    new delivery schedule.";
"KRN",.402,2647,"DR",2,443.61,21)
W !,"c. If there is more than one delivery schedule in the file, hit <return> key at    'CHOOSE' prompt and answer 'Yes' when asked if you are adding a new delivery    schedule.",!!;@55;
"KRN",.402,2647,"DR",2,443.61,22)
^441.7^PRC(441.7,^^X DR(99,1,9.2) S Y(101)=$S($D(^PRC(441.7,D0,0)):^(0),1:"") S X=$P(Y(101),U,1) S D0=I(0,0) S D1=I(1,0) S X=$S(D(0)>0:D(0),1:"");S PRCHNORE=1;S (DA,D1)=PRCHDA,(D0,DA(1))=PRCHDA1;
"KRN",.402,2647,"DR",2,443.61,23)
S PRCHQTY=$P(^PRC(443.6,PRCHIEN,2,PRCHINUM,0),U,2);I $G(PRCHTOT)>$G(PRCHQTY) W !!,"Delivery schedule total of ",PRCHTOT," EXCEEDS ordered quantity",!,"of ",PRCHQTY,".  Adjust delivery schedule(s).",! S Y="@16";
"KRN",.402,2647,"DR",2,443.61,24)
I $G(PRCHFLG)=1 W !!!,"****Returning to Item Multiple session.",!! S Y="@44" S PRCHFLG=0;W !!,"Enter/Edit Another Delivery Schedule for this Item? NO// " R X:DTIME S:'$T S="^" S:X="" X="N" S:X["?" Y="@5" S:"Yy?"[$E(X) Y="@16";
"KRN",.402,2647,"DR",3,441.7)
S PRCHAA=$P($G(^PRC(441.7,D0,0)),U),PRCHAB=+$P($G(^PRC(441.7,D0,0)),U,7),PRCHYY=D0_"^"_PRCHAA_"^"_$S(PRCHAB=0:1,1:"");1///^S X=PRCHDA;S DIE("NO^")="";2;3;@6;4;K DIE("NO^");
"KRN",.402,2647,"DR",3,441.7,1)
S PRCHTOT=0,PRCHSCN="" F I=0:0 S PRCHSCN=$O(^PRC(441.7,"B",PRCHPONO,PRCHSCN)) Q:PRCHSCN=""  I $P(^PRC(441.7,PRCHSCN,0),U,2)=PRCHINUM S PRCHTOT=PRCHTOT+$P(^PRC(441.7,PRCHSCN,0),U,5);
"KRN",.402,2647,"DR",3,441.7,2)
S PRCHQTY=$P(^PRC(443.6,PRCHIEN,2,PRCHINUM,0),U,2);S PRCHMORE=$P(^PRC(441.7,DA,0),U,5) S PRCHMOR2=(PRCHQTY-PRCHTOT+PRCHMORE);S PRCHDSCH=DA;
"KRN",.402,2647,"DR",3,441.7,3)
I PRCHTOT>PRCHQTY I PRCHMORE'=0 W *7,!,"Delivery sched. total of ",PRCHTOT," for item ",PRCHINUM," EXCEEDS the purchase",!,"order quantity of ",PRCHQTY,".",!,"Max. quantity here is ",($S(PRCHMOR2>0:PRCHMOR2,1:0)),".",!! S Y="@6";
"KRN",.402,2647,"DR",3,441.7,4)
I PRCHTOT<PRCHQTY,PRCHTOT>0 W !!,"Delivery schedule total of ",PRCHTOT," for item ",PRCHINUM," is less than the purchase",!,"order quantity.",!!;S DA(1)=PRCHDA1 S:X>0 Y="@17",$P(^PRC(441.7,PRCHDSCH,0),U,6)="";
"KRN",.402,2647,"DR",3,441.7,5)
I $P($G(^PRC(441.7,PRCHDSCH,0)),U,7)]"" S Y="@117";W *7,!!,"Delivery Schedule DELETED!",!!;K PRCHNORE;.01////@;S Y="@17";@117;5////^S X="D";W *7,!!,"Delivery Schedule DELETED at the time of the obligation of this P.0.",!!;@17;
"KRN",.402,2647,"DR",99,1,9.2)
S I(1,0)=$G(D1),I(0,0)=$G(D0),Y(1)=$S($D(^PRC(443.6,D0,0)):^(0),1:"") S X=$P(Y(1),U,1) K DIC S DIC="^PRC(441.7,",DIC(0)="MFE" D ^DIC S (D,D0,D(0))=+Y
"MBREQ")
0
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",455,-1)
1^1
"PKG",455,0)
IFCAP^PRC^IFCAP System Files
"PKG",455,20,0)
^9.402P^^
"PKG",455,22,0)
^9.49I^1^1
"PKG",455,22,1,0)
5.1^3001012^3001019^68
"PKG",455,22,1,"PAH",1,0)
77^3050304
"PKG",455,22,1,"PAH",1,1,0)
^^1^1^3050304
"PKG",455,22,1,"PAH",1,1,1,0)
ADJUSTMENT VOUCHER SCROLLING PROBLEM
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"VER")
8.0^22.0
"BLD",4225,6)
^SEQ #71
**END**
**END**
