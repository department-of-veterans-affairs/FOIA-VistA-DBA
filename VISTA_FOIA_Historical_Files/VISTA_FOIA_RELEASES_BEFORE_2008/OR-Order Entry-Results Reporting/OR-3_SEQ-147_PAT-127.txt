$TXT Created by ANDERSON,CURTIS at DEVCUR.FO-SLC.MED.VA.GOV  (KIDS) on Tuesday, 09/17/02 at 13:54
=============================================================================
Run Date: NOV 04, 2002                     Designation: OR*3*127
Package : OR - ORDER ENTRY/RESULTS REPORTING Priority: Mandatory
Version : 3       SEQ #147                       Status: Released
=============================================================================

Associated patches: (v)OR*3*105    <<= must be installed BEFORE `OR*3*127'

Subject: OPIOID DRUG CLASS CHECK

Category: 
  - Enhancement (Mandatory)

Description: 
============

 Note: This patch can only be installed at sites running CPRS.
  
 Documentation:
 ============== 
 Other aspects of CPRS Notifications/Order Checks are available on our web
 site:
    http://vaww.vista.med.va.gov/cprs/
  
 The CPRS Technical Manual was last updated on 7/1/02. Appendix E already
 contains the updated information regarding the new Duplicate Opioid
 Medications order check described in OR*3.0*127.
   
 The preferred method is to FTP the document files from
 download.vista.med.va.gov. This transmits the files from the first
 available FTP server. Sites may also elect to retrieve documentation 
 directly from a specific server as follows:
  
 Albany          ftp.fo-albany.med.va.gov  <ftp://ftp.fo-albany.med.va.gov>
 Hines           ftp.fo-hines.med.va.gov   <ftp://ftp.fo-hines.med.va.gov>
 Salt Lake City  ftp.fo-slc.med.va.gov     <ftp://ftp.fo-slc.med.va.gov>
   
 The Adobe Acrobat file CPRSLMTM.PDF can be retrieved in BINARY format
 from the above ftp address.
  
 --------------------------------------------------------------------------
 |   This patch uses the Order Check Expert System Rule Transporter to    |
 |   install the Duplicate Opioid Medications order check.                |
 --------------------------------------------------------------------------
  
  
 IT Service Request:
 #20010802 - Initial Opioid Decision Making 
  
 Issue:
 #1: [IT Service Request #20010802]  Adds a new order check specifically 
 for duplicate opioid medication orders.  If the patient already has an 
 active or pending order for an opioid medication, the order check 
 occurs.  Currently an opioid medication is any medication that falls into 
 VA Drug Classes OPIOID ANALGESICS or OPIOID ANTAGONIST ANALGESICS.  Here 
 is an example of the order check message:
  
 >>>  Duplicate opioid medications: MORPHINE SULFATE EXT REL TAB,SA  60MG 
 PO BID  [PENDING]
  
 Please note that if you are already using the Duplicate Drug Class order
 check, users will get a similar message from that order check.  Here is an
 example of both order checks occurring together:
  
 >>>  Duplicate drug class order: OPIOID ANALGESICS (MORPHINE SULFATE EXT 
 REL TAB,SA  [PENDING])
 >>>  Duplicate opioid medications: MORPHINE SULFATE EXT REL TAB,SA  
 60MG PO BID  [PENDING]>>>
  
 This order check is exported with the following package-level parameter
 values:
  
 ORK PROCESSING FLAG        "Disabled"
 ORK CLINICAL DANGER LEVEL  "Moderate"
  
 A "moderate" clinical danger level indicates the person entering the 
 order will NOT be prompted for an order check over-ride reason.
  
 *** SPECIAL NOTE ***
 --------------------
 An ORK PROCESSING FLAG value of "disabled" indicates this order check will
 not operate after patch installation.  To make this order check work at 
 your site you must use the Order Check Mgmt menu to change the parameter 
 value to "enabled":
  
 Select CPRS Configuration (Clin Coord) Option: OC  Order Checking Mgmt 
 Menu
  
    1      Enable/Disable an Order Check
    ...
  
 Select Order Checking Mgmt Menu Option: 1  Enable/Disable an Order Check
  
  
                          Enable/Disable an Order Check
  
 Order Check Processing Flag may be set for the following:
  
      1   User          USR    [choose from NEW PERSON]
      2   Location      LOC    [choose from HOSPITAL LOCATION]
      3   Service       SRV    [choose from SERVICE/SECTION]
      4   Division      DIV    [choose from INSTITUTION]
      5   System        SYS    [DEVCUR.ISC-SLC.VA.GOV]
  
 Enter selection: 5  System   DEVCUR.ISC-SLC.VA.GOV
  
 --- Setting Order Check Processing Flag  for System: 
 DEVCUR.ISC-SLC.VA.GOV ---
 Select Order Check:    DUPLICATE OPIOID MEDICATIONS
 Are you adding DUPLICATE OPIOID MEDICATIONS as a new Order Check? Yes//   
 YES
  
 Order Check: DUPLICATE OPIOID MEDICATIONS//  DUPLICATE OPIOID MEDICATIONS
  
 Value: Enabled
  
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
   <tab>;;3.0;ORDER ENTRY/RESULTS REPORTING;**[patch list]**;Dec 17, 1997
  
                             CHECK^XTSUMBLD results
  Routine name         Before Patch          After Patch         Patch List
  ============         ============          ===========         ==========
  ORQOR1                    1922552              2375265           78,127
  ORY127                        N/A              1160400            127
  ORY1270                       N/A              6041396            127
  ORY12701                      N/A              9071128            127
  ORY12702                      N/A              7157349            127
  ORY12703                      N/A              5905469            127
  ORY12704                      N/A             15203915            127
  ORY12705                      N/A             12024321            127
  ORY12706                      N/A             11137103            127
  ORY12707                      N/A              7779434            127
  ORY12708                      N/A               693836            127
  ORY1271                       N/A             10404407            127
  ORY1272                       N/A              8097303            127
  ORY1273                       N/A              5844193            127
  ORY1274                       N/A              6283774            127
  ORY127ES                      N/A              5472400            127 
  
  
 INSTALLATION INSTRUCTIONS:  
 =========================
 This patch should be loaded during non-peak hours to minimize disruption
 to users.  Users may be on the system during installation. Installation
 will take less than 5 minutes. 
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2. Review your mapped set.  If any of the routines listed in the ROUTINE
    SUMMARY section are mapped, they should be removed from the mapped set
    at this time.
  
 3. From the Kernel Installation and Distribution System Menu, select the
    Installation menu.
  
 4. From this menu, you may elect to use the following options (when 
    prompted for INSTALL NAME, enter OR*3.0*127):
      a.  Backup a Transport Global
      b.  Compare Transport Global to Current System
      c.  Verify Checksums in Transport Global
  
 5. Use the Install Package(s) options and select the package OR*3*127.
  
 6. When prompted 'Want KIDS to INHIBIT LOGONS during install? YES//',
    respond "NO".
  
 7. When prompted 'Want to DISABLE Scheduled Options, Menu Options and 
    Protocols? YES//', respond "NO".
  
 8. This patch uses the Order Check Expert System Rule Transporter to
    add the new Duplicate Opioid Medications rule.
  
    The transporter is initiated by the ORY127 post-install routine.  When
    the rule transporter is running, you will see several messages
    outlining changes to the rules.
    
    Here is an example of the information displayed by the transporter.
    *** YOUR DISPLAY WILL NOT EXACTLY MATCH THIS EXAMPLE. ***
  
 Order Check Expert System Rule Transporter
  Created: JAN 7,2002 at 15:36  at  DEVCUR.ISC-SLC.VA.GOV
  Current Date: JAN 7,2002 at 16:34  at  DEMCUR.ISC-SLC.VA.GOV
  
  
 Loading Data  . . . . . . .
   Installing '863.8  OCX MDD PARAMETER' records...  . . . . . . . . . .
  . . . . . . . . . . . . .
   Installing '864.1  OCX MDD DATATYPE' records...  . . . .
   Installing '863.7  OCX MDD PUBLIC FUNCTION' records...  . . . .
   Installing '863.9  OCX MDD CONDITION/FUNCTION' records...  . . . .
   Installing '863.4  OCX MDD ATTRIBUTE' records...  . .
  
 OCX MDD ATTRIBUTE: DUP OPIOIDS   record missing...
 NAME: DUP OPIOIDS    ...Correct data Filed
  
      PARAMETER NAME: DATA TYPE    ...Correct data Filed
      VALUE: BOOLEAN    ...Correct data Filed .
  
 OCX MDD ATTRIBUTE: DUP OPIOIDS TEXT   record missing...
 NAME: DUP OPIOIDS TEXT    ...Correct data Filed
  
      PARAMETER NAME: DATA TYPE    ...Correct data Filed
      VALUE: FREE TEXT    ...Correct data Filed . . . . . .
   Installing '863.2  OCX MDD SUBJECT' records...  .
   Installing '863.3  OCX MDD LINK' records...  . .
  
 OCX MDD LINK: PATIENT.DUP OPIOID MEDS   record missing...
 NAME: PATIENT.DUP OPIOID MEDS    ...Correct data Filed
 PARENT SUBJECT: PATIENT    ...Correct data Filed
 ATTRIBUTE: DUP OPIOIDS    ...Correct data Filed
 LIST ORDER: 3455    ...Correct data Filed
  
      PARAMETER NAME: OCXO EXTERNAL FUNCTION CALL    ...Correct data Filed
      VALUE: OPIOID(|PATIENT IEN|)    ...Correct data Filed
  
      PARAMETER NAME: OCXO UP-ARROW PIECE NUMBER    ...Correct data Filed
      VALUE: 1    ...Correct data Filed .
  
 OCX MDD LINK: PATIENT.DUP OPIOID MEDS TEXT   record missing...
 NAME: PATIENT.DUP OPIOID MEDS TEXT    ...Correct data Filed
 PARENT SUBJECT: PATIENT    ...Correct data Filed
 ATTRIBUTE: DUP OPIOIDS TEXT    ...Correct data Filed
 LIST ORDER: 5679    ...Correct data Filed
  
      PARAMETER NAME: OCXO EXTERNAL FUNCTION CALL    ...Correct data Filed
      VALUE: OPIOID(|PATIENT IEN|)    ...Correct data Filed
  
      PARAMETER NAME: OCXO UP-ARROW PIECE NUMBER    ...Correct data Filed
      VALUE: 2    ...Correct data Filed . . . . . . .
   Installing '860.9  ORDER CHECK NATIONAL TERM' records...  . . . . . .
  . . . . . . .
   Installing '860.8  ORDER CHECK COMPILER FUNCTIONS' records...  . . . .
  . . . . . . .
  
 ORDER CHECK COMPILER FUNCTIONS: OPIOID MEDICATIONS   record missing...
 NAME: OPIOID MEDICATIONS    ...Correct data Filed
 LINE LABEL: OPIOID    ...Correct data Filed . .
   Installing '860.6  ORDER CHECK DATA CONTEXT' records...  . . . .
   Installing '860.5  ORDER CHECK DATA SOURCE' records...  . . . . .
   Installing '860.4  ORDER CHECK DATA FIELD' records...  .
  
 ORDER CHECK DATA FIELD: DUPLICATE OPIOID MEDICATIONS FLAG   record 
 missing...
 NAME: DUPLICATE OPIOID MEDICATIONS FLAG    ...Correct data Filed
 ABBREVIATION: DUP OPIOIDS FLAG    ...Correct data Filed
 DATATYPE: BOOLEAN    ...Correct data Filed
  
      DATA CONTEXT: DATABASE LOOKUP    ...Correct data Filed
      DATA SOURCE: DATABASE LOOKUP    ...Correct data Filed
      META DICTIONARY LINK: PATIENT.DUP OPIOID MEDS    ...Correct data 
 Filed
  .
  
 ORDER CHECK DATA FIELD: DUPLICATE OPIOID MEDICATIONS TEXT   record 
 missing...
 NAME: DUPLICATE OPIOID MEDICATIONS TEXT    ...Correct data Filed
 DATATYPE: FREE TEXT    ...Correct data Filed
  
      DATA CONTEXT: DATABASE LOOKUP    ...Correct data Filed
      DATA SOURCE: DATABASE LOOKUP    ...Correct data Filed
      META DICTIONARY LINK: PATIENT.DUP OPIOID MEDS TEXT    ...Correct 
 data Filed
  . . . . .
   Installing '860.3  ORDER CHECK ELEMENT' records...  .
  
 ORDER CHECK ELEMENT: DUP OPIOID MEDS   record missing...
 NAME: DUP OPIOID MEDS    ...Correct data Filed
 ELEMENT CONTEXT: DATABASE LOOKUP    ...Correct data Filed
  
      EXPRESSION SEQUENCE NUMBER: 1    ...Correct data Filed
      DATA FIELD 1: DUPLICATE OPIOID MEDICATIONS FLAG    ...Correct data 
 Filed
      OPERATOR/FUNCTION: LOGICAL TRUE    ...Correct data Filed .
  
 ORDER CHECK ELEMENT: OPIOID MED ORDER   record missing...
 NAME: OPIOID MED ORDER    ...Correct data Filed
 ELEMENT CONTEXT: CPRS ORDER PRESCAN    ...Correct data Filed
  
      EXPRESSION SEQUENCE NUMBER: 2    ...Correct data Filed
      DATA FIELD 1: ORDER MODE    ...Correct data Filed
      OPERATOR/FUNCTION: EQ FREE TEXT    ...Correct data Filed
      CONDITIONAL VALUE 1: SELECT    ...Correct data Filed
  
      EXPRESSION SEQUENCE NUMBER: 3    ...Correct data Filed
      DATA FIELD 1: FILLER    ...Correct data Filed
      OPERATOR/FUNCTION: STARTS WITH    ...Correct data Filed
      CONDITIONAL VALUE 1: PS    ...Correct data Filed
  
      EXPRESSION SEQUENCE NUMBER: 4    ...Correct data Filed
      DATA FIELD 1: VA DRUG CLASS    ...Correct data Filed
      OPERATOR/FUNCTION: EQUALS ELEMENT IN SET    ...Correct data Filed
      CONDITIONAL VALUE 1: OPIOID ANALGESICS,OPIOID ANTAGONIST 
 ANALGESICS    ...Correct data Filed
   Installing '860.2  ORDER CHECK RULE' records...  .
  
 ORDER CHECK RULE: OPIOID MEDICATIONS   record missing...
 NAME: OPIOID MEDICATIONS    ...Correct data Filed
  
      LABEL: OPIOID MED ORDER    ...Correct data Filed
      TYPE: SIMPLE DEFINITION    ...Correct data Filed
      ELEMENT NAME: OPIOID MED ORDER    ...Correct data Filed
  
      LABEL: DUP OPIOID MEDS    ...Correct data Filed
      TYPE: SIMPLE DEFINITION    ...Correct data Filed
      ELEMENT NAME: DUP OPIOID MEDS    ...Correct data Filed
  
      RELATION INDEX: 1    ...Correct data Filed
      RELATION EXPRESSION: OPIOID MED ORDER AND DUP OPIOID MEDS    
 ...Correct data Filed
      ORDER CHECK: DUPLICATE OPIOID MEDICATIONS    ...Correct data Filed
      ORDER CHECK MESSAGE: Duplicate opioid medications: |DUPLICATE OPIOID 
 MEDICATIONS TEXT|    ...Correct data Filed
  
       No data filing errors.
  
 Transport Finished...
  
  
 9. If routines were unmapped as part of step 2, they should be returned
    to the mapped set once the installation has run to completion.
  
 10. After successful patch installation, delete the ORY127* routines.  
     These routines were used to transport the expert system components for
     the Duplicate Opioid Medications order check and perform patch
     installation.  [Note: KIDS automatically deletes routine ORY127 after 
     patch installation.]

Routine Information:
====================

Routine Name:
  - ORY127


Routine Checksum:

Routine Name:
  - ORY1270


Routine Checksum:

Routine Name:
  - ORY12701


Routine Checksum:

Routine Name:
  - ORY12702


Routine Checksum:

Routine Name:
  - ORY12703


Routine Checksum:

Routine Name:
  - ORY12704


Routine Checksum:

Routine Name:
  - ORY12705


Routine Checksum:

Routine Name:
  - ORY12706


Routine Checksum:

Routine Name:
  - ORY12707


Routine Checksum:

Routine Name:
  - ORY1271


Routine Checksum:

Routine Name:
  - ORY1272


Routine Checksum:

Routine Name:
  - ORY1273


Routine Checksum:

Routine Name:
  - ORY1274


Routine Checksum:

Routine Name:
  - ORY127ES


Routine Checksum:

Routine Name:
  - ORQOR1


Routine Checksum:

Routine Name:
  - ORY12708


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : EBERT,AL                       Date Entered : NOV 08, 2001
Completed By: GREEN,JOANN                   Date Completed: NOV 04, 2002
Released By : KREUZ,SHERI B                Date Released : NOV 04, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
