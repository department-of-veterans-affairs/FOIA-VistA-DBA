Released ES*1*36 SEQ #31
Extracted from mail message
**KIDS**:ES*1.0*36^

**INSTALL NAME**
ES*1.0*36
"BLD",3989,0)
ES*1.0*36^POLICE & SECURITY^0^3030129^y
"BLD",3989,4,0)
^9.64PA^^
"BLD",3989,"ABPKG")
n
"BLD",3989,"KRN",0)
^9.67PA^8989.52^19
"BLD",3989,"KRN",.4,0)
.4
"BLD",3989,"KRN",.4,"NM",0)
^9.68A^^
"BLD",3989,"KRN",.401,0)
.401
"BLD",3989,"KRN",.401,"NM",0)
^9.68A^^
"BLD",3989,"KRN",.402,0)
.402
"BLD",3989,"KRN",.403,0)
.403
"BLD",3989,"KRN",.5,0)
.5
"BLD",3989,"KRN",.84,0)
.84
"BLD",3989,"KRN",3.6,0)
3.6
"BLD",3989,"KRN",3.8,0)
3.8
"BLD",3989,"KRN",9.2,0)
9.2
"BLD",3989,"KRN",9.8,0)
9.8
"BLD",3989,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",3989,"KRN",9.8,"NM",1,0)
ESPORP^^0^B12231985
"BLD",3989,"KRN",9.8,"NM","B","ESPORP",1)

"BLD",3989,"KRN",19,0)
19
"BLD",3989,"KRN",19.1,0)
19.1
"BLD",3989,"KRN",101,0)
101
"BLD",3989,"KRN",409.61,0)
409.61
"BLD",3989,"KRN",771,0)
771
"BLD",3989,"KRN",870,0)
870
"BLD",3989,"KRN",8989.51,0)
8989.51
"BLD",3989,"KRN",8989.52,0)
8989.52
"BLD",3989,"KRN",8994,0)
8994
"BLD",3989,"KRN","B",.4,.4)

"BLD",3989,"KRN","B",.401,.401)

"BLD",3989,"KRN","B",.402,.402)

"BLD",3989,"KRN","B",.403,.403)

"BLD",3989,"KRN","B",.5,.5)

"BLD",3989,"KRN","B",.84,.84)

"BLD",3989,"KRN","B",3.6,3.6)

"BLD",3989,"KRN","B",3.8,3.8)

"BLD",3989,"KRN","B",9.2,9.2)

"BLD",3989,"KRN","B",9.8,9.8)

"BLD",3989,"KRN","B",19,19)

"BLD",3989,"KRN","B",19.1,19.1)

"BLD",3989,"KRN","B",101,101)

"BLD",3989,"KRN","B",409.61,409.61)

"BLD",3989,"KRN","B",771,771)

"BLD",3989,"KRN","B",870,870)

"BLD",3989,"KRN","B",8989.51,8989.51)

"BLD",3989,"KRN","B",8989.52,8989.52)

"BLD",3989,"KRN","B",8994,8994)

"BLD",3989,"QUES",0)
^9.62^^
"BLD",3989,"REQB",0)
^9.611^1^1
"BLD",3989,"REQB",1,0)
ES*1.0*27^1
"BLD",3989,"REQB","B","ES*1.0*27",1)

"MBREQ")
0
"PKG",358,-1)
1^1
"PKG",358,0)
POLICE & SECURITY^ES^POLICE & SECURITY PACKAGE
"PKG",358,20,0)
^9.402P^^
"PKG",358,22,0)
^9.49I^1^1
"PKG",358,22,1,0)
1.0^2940331
"PKG",358,22,1,"PAH",1,0)
36^3030129
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","ESPORP")
0^1^B12231985
"RTN","ESPORP",1,0)
ESPORP ;DALISC/CKA - PRINT OFFENSE REPORT;3/99
"RTN","ESPORP",2,0)
 ;;1.0;POLICE & SECURITY;**14,17,27,36**;Mar 31, 1994
"RTN","ESPORP",3,0)
EN ;Entry point to print only completed and nonsensitive reports.
"RTN","ESPORP",4,0)
 D DT^DICRW
"RTN","ESPORP",5,0)
OR S DIC(0)="AEMZ",DIC("A")="UOR#: ",DIC("S")="I $D(^(5)),$P(^(5),U,2),'$P(^(5),U,4),$P(^(5),U,5)",DIC="^ESP(912,"
"RTN","ESPORP",6,0)
 D ^DIC
"RTN","ESPORP",7,0)
 G:$D(DTOUT)!($D(DUOUT))!(X="") EXIT
"RTN","ESPORP",8,0)
 I Y<0 W !,$C(7),"UOR# not found.  Please try again." G OR
"RTN","ESPORP",9,0)
 S ESPDTR=$P(^ESP(912,+Y,0),U,2),ESPID=+Y
"RTN","ESPORP",10,0)
Q S %ZIS="Q" D ^%ZIS G:POP EXIT I '$D(IO("Q")) U IO D START G EXIT
"RTN","ESPORP",11,0)
 S ZTRTN="START^ESPORP",ZTSAVE("ESP*")="",ZTDESC="OFFENSE REPORT" D ^%ZTLOAD,HOME^%ZIS G EXIT
"RTN","ESPORP",12,0)
START ; BEGINS THE PRINT OF THIS OFFENSE REPORT
"RTN","ESPORP",13,0)
 K ^UTILITY("DIQ1",$J) S (END,PAGE)=0 D HDR G:END EXIT
"RTN","ESPORP",14,0)
 S DIC="^ESP(912,",DA=ESPID,DR=".02;.03;.04;.05;.06;.09",DIQ(0)="E" D EN^DIQ1 I '$D(^UTILITY("DIQ1",$J,912,DA)) W !,"RECORD DOESN'T EXIST!" G EXIT
"RTN","ESPORP",15,0)
DTR W !,"DATE/TIME RECEIVED: ",$G(^UTILITY("DIQ1",$J,912,DA,.02,"E"))
"RTN","ESPORP",16,0)
DTO W !,"DATE/TIME OF OFFENSE: ",$G(^UTILITY("DIQ1",$J,912,DA,.03,"E"))
"RTN","ESPORP",17,0)
EDTO W !,"ENDING DATE/TIME OF OFFENSE: ",$G(^UTILITY("DIQ1",$J,912,DA,.09,"E"))
"RTN","ESPORP",18,0)
LOC W !,"LOCATION: ",$G(^UTILITY("DIQ1",$J,912,DA,.04,"E"))
"RTN","ESPORP",19,0)
WEAP W !,"WEAPON USED: ",$G(^UTILITY("DIQ1",$J,912,DA,.05,"E"))
"RTN","ESPORP",20,0)
PO W !,"INVESTIGATING OFFICER: ",$G(^UTILITY("DIQ1",$J,912,DA,.06,"E"))
"RTN","ESPORP",21,0)
MO K ^UTILITY($J,"W") S DIWL=3,DIWR=78,DIWF="W",IEN=0
"RTN","ESPORP",22,0)
 W !,"METHOD OF OPERATION: ",!
"RTN","ESPORP",23,0)
 F ESPN=1:1 S IEN=$O(^ESP(912,ESPID,60,IEN)) Q:IEN'>0  S X=^(IEN,0) D  G EXIT:END
"RTN","ESPORP",24,0)
 .  D HDR:$Y+2>IOSL Q:END
"RTN","ESPORP",25,0)
 .  D ^DIWP
"RTN","ESPORP",26,0)
 D MIN(2) Q:END
"RTN","ESPORP",27,0)
 D ^DIWW
"RTN","ESPORP",28,0)
CL ;PRINT CLASSIFICATION CODES, TYPES, AND SUBTYPES
"RTN","ESPORP",29,0)
 F ESPN=0:0 S ESPN=$O(^ESP(912,ESPID,10,ESPN)) Q:ESPN'>0  D  G EXIT:END
"RTN","ESPORP",30,0)
 .  S DIC="^ESP(912,"_ESPID_",10,",DA=ESPN,DR=".01;.02;.03",DIQ(0)="E" D EN^DIQ1 Q:'$D(^UTILITY("DIQ1",$J,912.01,DA,.01,"E"))
"RTN","ESPORP",31,0)
 .  D LINES()
"RTN","ESPORP",32,0)
 .  W "CLASSIFICATION CODE: ",$G(^UTILITY("DIQ1",$J,912.01,DA,.01,"E"))
"RTN","ESPORP",33,0)
 .  I $G(^UTILITY("DIQ1",$J,912.01,DA,.02,"E"))]"" W "/",^("E")
"RTN","ESPORP",34,0)
 .  I $G(^UTILITY("DIQ1",$J,912.01,DA,.03,"E"))]"" W "/",^("E")
"RTN","ESPORP",35,0)
 G ^ESPORP1
"RTN","ESPORP",36,0)
EXIT K %ZIS,CL,DA,DIC,DIQ,DIR,DIRUT,DIWF,DIWL,DIWR,DR,END,ESPDTR,ESPID,ESPN,ESPN1,IEN,PAGE,X,Y,ZTDESC,ZTRTN,ZTSAVE
"RTN","ESPORP",37,0)
 K ^UTILITY("DIQ1",$J)
"RTN","ESPORP",38,0)
 QUIT
"RTN","ESPORP",39,0)
HDR ;PRINT HEADING
"RTN","ESPORP",40,0)
 I $E(IOST,1,2)="C-" S END=$$EOP^ESPUTIL() Q:END
"RTN","ESPORP",41,0)
 S PAGE=PAGE+1 W:PAGE'=1 @IOF W !?25,"DEPARTMENT OF VETERANS AFFAIRS",?(IOM-10),"Page ",$J(PAGE,3)
"RTN","ESPORP",42,0)
 W !?35,"VA POLICE",!?28,"UNIFORM OFFENSE REPORT"
"RTN","ESPORP",43,0)
 W !?30,"UOR# ",$E(ESPDTR,2,3),"-",$E(ESPDTR,4,5),"-",$E(ESPDTR,6,7),"-",$TR($E($P(ESPDTR,".",2)_"ZZZZ",1,4),"Z",0)
"RTN","ESPORP",44,0)
 W !!,"VA Facility" W ?61,"Date/Time Printed"
"RTN","ESPORP",45,0)
 S ESPFACI=$P(^ESP(912,ESPID,0),U,7) S ESPFACI=$S(ESPFACI="":"",$D(^DG(40.8,ESPFACI,0)):$P(^(0),U),1:"")
"RTN","ESPORP",46,0)
 I ESPFACI="",$D(^ESP(912,ESPID,5)),$P(^(5),U)'="" S ESPFACI=$S($D(^DIC(4,$P(^(5),U),0)):$P(^(0),U),1:"")
"RTN","ESPORP",47,0)
 W !,ESPFACI
"RTN","ESPORP",48,0)
 W ?61,$$NOW^ESPUTIL()
"RTN","ESPORP",49,0)
 W !,"Automated VA Form 10-1393"
"RTN","ESPORP",50,0)
 W !!
"RTN","ESPORP",51,0)
 QUIT
"RTN","ESPORP",52,0)
 ;
"RTN","ESPORP",53,0)
 ;ENTRY POINT OR1 IS TO ALLOWS PRINT OF AN INCOMPLETE REPORT
"RTN","ESPORP",54,0)
 ;THIS OPTION IS ONLY FOR PERSONS HOLDING THE CHIEF KEY
"RTN","ESPORP",55,0)
OR1 S DIC(0)="AEMZ",DIC("A")="UOR#: ",DIC("S")="I $D(^(5)),$P(^(5),U,5)",DIC="^ESP(912,"
"RTN","ESPORP",56,0)
 D ^DIC G:$D(DTOUT)!($D(DUOUT))!(X="") EXIT G:Y<0 OR1 S ESPDTR=$P(^ESP(912,+Y,0),U,2),ESPID=+Y
"RTN","ESPORP",57,0)
 D Q
"RTN","ESPORP",58,0)
 QUIT
"RTN","ESPORP",59,0)
 ;
"RTN","ESPORP",60,0)
LINES(COUNT) ;
"RTN","ESPORP",61,0)
 ;writes COUNT lines
"RTN","ESPORP",62,0)
 ;writes header if necessary
"RTN","ESPORP",63,0)
 ;
"RTN","ESPORP",64,0)
 N CRT,INDEX
"RTN","ESPORP",65,0)
 I '$D(COUNT) S COUNT=1
"RTN","ESPORP",66,0)
 S CRT=$S(($E(IOST,1,2)="C-"):1,1:0)
"RTN","ESPORP",67,0)
 F INDEX=1:1:COUNT D  Q:END
"RTN","ESPORP",68,0)
 .I $Y>(IOSL-(1+CRT)) D HDR Q:END
"RTN","ESPORP",69,0)
 .W !
"RTN","ESPORP",70,0)
 Q
"RTN","ESPORP",71,0)
 ;
"RTN","ESPORP",72,0)
MIN(COUNT) ;
"RTN","ESPORP",73,0)
 ;prints header if not minimum of COUNT pages left
"RTN","ESPORP",74,0)
 ;first gives end of page message if crt
"RTN","ESPORP",75,0)
 ;
"RTN","ESPORP",76,0)
 N CRT
"RTN","ESPORP",77,0)
 S CRT=$S(($E(IOST,1,2)="C-"):1,1:0)
"RTN","ESPORP",78,0)
 S COUNT=COUNT+CRT
"RTN","ESPORP",79,0)
 I ($Y>(IOSL-(COUNT))) D HDR
"RTN","ESPORP",80,0)
 Q
"VER")
8.0^22.0
**END**
**END**
