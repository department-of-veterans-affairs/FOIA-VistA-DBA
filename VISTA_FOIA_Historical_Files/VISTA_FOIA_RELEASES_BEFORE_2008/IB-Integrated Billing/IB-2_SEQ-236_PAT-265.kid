Released IB*2*265 SEQ #236
Extracted from mail message
**KIDS**:IB*2.0*265^

**INSTALL NAME**
IB*2.0*265
"BLD",5399,0)
IB*2.0*265^INTEGRATED BILLING^0^3040407^y
"BLD",5399,1,0)
^^2^2^3040226^^
"BLD",5399,1,1,0)
This build contains changes to add and populate fields in the EXPLANATION
"BLD",5399,1,2,0)
OF BENEFITS file (#361.1) needed for e-payments Phase II processing.
"BLD",5399,4,0)
^9.64PA^361.1^1
"BLD",5399,4,361.1,0)
361.1
"BLD",5399,4,361.1,2,0)
^9.641^361.1^1
"BLD",5399,4,361.1,2,361.1,0)
EXPLANATION OF BENEFITS  (File-top level)
"BLD",5399,4,361.1,2,361.1,1,0)
^9.6411^.07^3
"BLD",5399,4,361.1,2,361.1,1,.07,0)
TRACE NUMBER
"BLD",5399,4,361.1,2,361.1,1,1.1,0)
STATEMENT START DATE
"BLD",5399,4,361.1,2,361.1,1,1.11,0)
STATEMENT END DATE
"BLD",5399,4,361.1,222)
y^n^p^^^^n^^n
"BLD",5399,4,361.1,224)

"BLD",5399,4,"APDD",361.1,361.1)

"BLD",5399,4,"APDD",361.1,361.1,.07)

"BLD",5399,4,"APDD",361.1,361.1,1.1)

"BLD",5399,4,"APDD",361.1,361.1,1.11)

"BLD",5399,4,"B",361.1,361.1)

"BLD",5399,"INIT")

"BLD",5399,"KRN",0)
^9.67PA^8989.52^19
"BLD",5399,"KRN",.4,0)
.4
"BLD",5399,"KRN",.401,0)
.401
"BLD",5399,"KRN",.402,0)
.402
"BLD",5399,"KRN",.403,0)
.403
"BLD",5399,"KRN",.5,0)
.5
"BLD",5399,"KRN",.84,0)
.84
"BLD",5399,"KRN",3.6,0)
3.6
"BLD",5399,"KRN",3.8,0)
3.8
"BLD",5399,"KRN",9.2,0)
9.2
"BLD",5399,"KRN",9.8,0)
9.8
"BLD",5399,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",5399,"KRN",9.8,"NM",1,0)
IBCEOB^^0^B73122432
"BLD",5399,"KRN",9.8,"NM",2,0)
IBJTBA1^^0^B19985525
"BLD",5399,"KRN",9.8,"NM","B","IBCEOB",1)

"BLD",5399,"KRN",9.8,"NM","B","IBJTBA1",2)

"BLD",5399,"KRN",19,0)
19
"BLD",5399,"KRN",19.1,0)
19.1
"BLD",5399,"KRN",101,0)
101
"BLD",5399,"KRN",409.61,0)
409.61
"BLD",5399,"KRN",771,0)
771
"BLD",5399,"KRN",870,0)
870
"BLD",5399,"KRN",8989.51,0)
8989.51
"BLD",5399,"KRN",8989.52,0)
8989.52
"BLD",5399,"KRN",8994,0)
8994
"BLD",5399,"KRN","B",.4,.4)

"BLD",5399,"KRN","B",.401,.401)

"BLD",5399,"KRN","B",.402,.402)

"BLD",5399,"KRN","B",.403,.403)

"BLD",5399,"KRN","B",.5,.5)

"BLD",5399,"KRN","B",.84,.84)

"BLD",5399,"KRN","B",3.6,3.6)

"BLD",5399,"KRN","B",3.8,3.8)

"BLD",5399,"KRN","B",9.2,9.2)

"BLD",5399,"KRN","B",9.8,9.8)

"BLD",5399,"KRN","B",19,19)

"BLD",5399,"KRN","B",19.1,19.1)

"BLD",5399,"KRN","B",101,101)

"BLD",5399,"KRN","B",409.61,409.61)

"BLD",5399,"KRN","B",771,771)

"BLD",5399,"KRN","B",870,870)

"BLD",5399,"KRN","B",8989.51,8989.51)

"BLD",5399,"KRN","B",8989.52,8989.52)

"BLD",5399,"KRN","B",8994,8994)

"BLD",5399,"QUES",0)
^9.62^^
"BLD",5399,"REQB",0)
^9.611^1^1
"BLD",5399,"REQB",1,0)
IB*2.0*135^2
"BLD",5399,"REQB","B","IB*2.0*135",1)

"FIA",361.1)
EXPLANATION OF BENEFITS
"FIA",361.1,0)
^IBM(361.1,
"FIA",361.1,0,0)
361.1PI
"FIA",361.1,0,1)
y^n^p^^^^n^^n
"FIA",361.1,0,10)

"FIA",361.1,0,11)

"FIA",361.1,0,"RLRO")

"FIA",361.1,0,"VR")
2.0^IB
"FIA",361.1,361.1)
1
"FIA",361.1,361.1,.07)

"FIA",361.1,361.1,1.1)

"FIA",361.1,361.1,1.11)

"IX",361.1,361.1,"ATRID",0)
361.1^ATRID^Xref by bank trace # and ins co id for uniqueness^R^^R^IR^I^361.1^^^^^S
"IX",361.1,361.1,"ATRID",1)
S ^IBM(361.1,"ATRID",$E(X(1),1,30),$E(X(2),1,30),DA)=""
"IX",361.1,361.1,"ATRID",1.4)
I 'X(3)
"IX",361.1,361.1,"ATRID",2)
K ^IBM(361.1,"ATRID",$E(X(1),1,30),$E(X(2),1,30),DA)
"IX",361.1,361.1,"ATRID",2.5)
K ^IBM(361.1,"ATRID")
"IX",361.1,361.1,"ATRID",11.1,0)
^.114IA^3^3
"IX",361.1,361.1,"ATRID",11.1,1,0)
1^F^361.1^.07^30^1^F
"IX",361.1,361.1,"ATRID",11.1,1,3)

"IX",361.1,361.1,"ATRID",11.1,2,0)
2^F^361.1^.03^30^2^F
"IX",361.1,361.1,"ATRID",11.1,2,3)

"IX",361.1,361.1,"ATRID",11.1,3,0)
3^F^361.1^.04^^^F
"IX",361.1,361.1,"ATRID",11.1,3,3)

"MBREQ")
0
"PKG",200,-1)
1^1
"PKG",200,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",200,20,0)
^9.402P^1^1
"PKG",200,20,1,0)
2^^IBAXDR
"PKG",200,20,1,1)

"PKG",200,20,"B",2,1)

"PKG",200,22,0)
^9.49I^1^1
"PKG",200,22,1,0)
2.0^2940321^2990406^2447
"PKG",200,22,1,"PAH",1,0)
265^3040407^539
"PKG",200,22,1,"PAH",1,1,0)
^^2^2^3040407
"PKG",200,22,1,"PAH",1,1,1,0)
This build contains changes to add and populate fields in the EXPLANATION
"PKG",200,22,1,"PAH",1,1,2,0)
OF BENEFITS file (#361.1) needed for e-payments Phase II processing.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","IBCEOB")
0^1^B73122432
"RTN","IBCEOB",1,0)
IBCEOB ;ALB/TMP - 835 EDI EOB MESSAGE PROCESSING ;20-JAN-99
"RTN","IBCEOB",2,0)
 ;;2.0;INTEGRATED BILLING;**137,135,265**;21-MAR-94
"RTN","IBCEOB",3,0)
 Q
"RTN","IBCEOB",4,0)
 ;
"RTN","IBCEOB",5,0)
UPDEOB(IBTDA) ; Update EXPLANATION OF BENEFITS file (#361.1) from return msg
"RTN","IBCEOB",6,0)
 ; IBTDA = ien of return message
"RTN","IBCEOB",7,0)
 ; Function returns ien of EOB file entry or "" if errors found
"RTN","IBCEOB",8,0)
 ;          the data.  Any errors found are
"RTN","IBCEOB",9,0)
 ;          stored in array ^TMP("IBCERR-EOB",$J,n) in text format
"RTN","IBCEOB",10,0)
 ;          n = seq # and are stored with the EOB in a wp field
"RTN","IBCEOB",11,0)
 ;
"RTN","IBCEOB",12,0)
 N IB0,IB100,IBBTCH,IBE,IBMNUM,IBT,DLAYGO,DIC,DD,DO,X,Y,Z,Z0,Z1,IBEOB,IBBAD,IBOK,IB,IBA1,IBIFN,IBFILE
"RTN","IBCEOB",13,0)
 K ^TMP($J),^TMP("IBCERR-EOB",$J)
"RTN","IBCEOB",14,0)
 ;
"RTN","IBCEOB",15,0)
 S (IBBAD,IBEOB)=""
"RTN","IBCEOB",16,0)
 S IB0=$G(^IBA(364.2,IBTDA,0))
"RTN","IBCEOB",17,0)
 S IBMNUM=+$P(IB0,U)
"RTN","IBCEOB",18,0)
 S X=+$G(^IBA(364,+$P(IB0,U,5),0))
"RTN","IBCEOB",19,0)
 ;
"RTN","IBCEOB",20,0)
 G:$S(IBMNUM=""!(X=""):1,1:$D(^IBM(361.1,"AC",IBMNUM))) UPDQ
"RTN","IBCEOB",21,0)
 ;
"RTN","IBCEOB",22,0)
 ; Duplicate EOB Check
"RTN","IBCEOB",23,0)
 S IBFILE="^IBA(364.2,"_IBTDA_",2)"
"RTN","IBCEOB",24,0)
 I $$DUP(IBFILE,X) G UPDQ
"RTN","IBCEOB",25,0)
 ;
"RTN","IBCEOB",26,0)
 I '$$LOCK^IBCEM(IBTDA) G UPDQ ;Lock msg file 364.2
"RTN","IBCEOB",27,0)
 S IBEOB=+$$ADD3611(IBMNUM,$P(IB0,U,5),$P(IB0,U,4),X,0,IBFILE)
"RTN","IBCEOB",28,0)
 L -^IBA(364.2,IBTDA,0)
"RTN","IBCEOB",29,0)
 ;
"RTN","IBCEOB",30,0)
 I IBEOB<0 S IBEOB="" G UPDQ
"RTN","IBCEOB",31,0)
 D UPD3611(IBEOB,IBTDA,0)
"RTN","IBCEOB",32,0)
 ;
"RTN","IBCEOB",33,0)
UPDQ I IBEOB,$O(^TMP("IBCERR-EOB",$J,0)) D ERRUPD(IBEOB,"IBCERR-EOB")
"RTN","IBCEOB",34,0)
 K ^TMP($J),^TMP("IBCERR-EOB",$J)
"RTN","IBCEOB",35,0)
 D CLEAN^DILF
"RTN","IBCEOB",36,0)
 Q +IBEOB
"RTN","IBCEOB",37,0)
 ;
"RTN","IBCEOB",38,0)
 ;
"RTN","IBCEOB",39,0)
 ; NOTE: **** For all variables IB0,IBEGBL,IBEOB below:
"RTN","IBCEOB",40,0)
 ; IB0 = raw data received for this record type on the 835 flat file
"RTN","IBCEOB",41,0)
 ; IBEGBL = subscript to use in error global
"RTN","IBCEOB",42,0)
 ; IBEOB = ien in file 361.1 for this EOB
"RTN","IBCEOB",43,0)
 ;
"RTN","IBCEOB",44,0)
835(IB0,IBEGBL,IBEOB) ; Store header
"RTN","IBCEOB",45,0)
 ;
"RTN","IBCEOB",46,0)
 Q $$HDR^IBCEOB1(IB0,IBEGBL,IBEOB)
"RTN","IBCEOB",47,0)
 ;
"RTN","IBCEOB",48,0)
5(IB0,IBEGBL,IBEOB) ; Record '05'
"RTN","IBCEOB",49,0)
 ;
"RTN","IBCEOB",50,0)
 N IBOK,IBBULL,DA,DR,DIE,X,Y
"RTN","IBCEOB",51,0)
 K IBZDATA
"RTN","IBCEOB",52,0)
 S DR=";",IBOK=1
"RTN","IBCEOB",53,0)
 S DIE="^IBM(361.1,",DA=IBEOB
"RTN","IBCEOB",54,0)
 ;
"RTN","IBCEOB",55,0)
 S IBBULL=""
"RTN","IBCEOB",56,0)
 I $$UPDNM^IBCEOB1(IBEOB,IB0,.IBBULL,.DR)!$$UPDID^IBCEOB1(IBEOB,IB0,.IBBULL,.DR) D  ; New insured's name and/or HIC # found
"RTN","IBCEOB",57,0)
 . D CHGBULL^IBCEOB3(IBEOB,IBBULL) ;Send a bulletin reporting change
"RTN","IBCEOB",58,0)
 ;
"RTN","IBCEOB",59,0)
 I $P(IB0,U,9) S DR=DR_"1.1///"_$$DATE^IBCEU($P(IB0,U,9))_";"
"RTN","IBCEOB",60,0)
 I $P(IB0,U,10) S DR=DR_"1.11///"_$$DATE^IBCEU($P(IB0,U,10))_";"
"RTN","IBCEOB",61,0)
 S DR=$P(DR,";",2,$L(DR,";")-1)
"RTN","IBCEOB",62,0)
 I DR'="" D ^DIE S IBOK=$D(Y)=0
"RTN","IBCEOB",63,0)
 I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Bad record 5 data"
"RTN","IBCEOB",64,0)
 Q IBOK
"RTN","IBCEOB",65,0)
 ;
"RTN","IBCEOB",66,0)
10(IB0,IBEGBL,IBEOB) ; Record '10'
"RTN","IBCEOB",67,0)
 ;
"RTN","IBCEOB",68,0)
 N DA,DR,DIE,X,Y,VAL,IBOK
"RTN","IBCEOB",69,0)
 S DIE="^IBM(361.1,",DA=IBEOB
"RTN","IBCEOB",70,0)
 S DR=".13////"_$S($P(IB0,U,3)="Y":1,$P(IB0,U,4)="Y":2,$P(IB0,U,5)="Y":3,$P(IB0,U,6)="Y":4,1:5)_";.21////"_$P(IB0,U,3)
"RTN","IBCEOB",71,0)
 S DR=DR_";2.04////"_$$DOLLAR($P(IB0,U,10))_";1.01////"_$$DOLLAR($P(IB0,U,11))_$S($P(IB0,U,12)'="":";.14///"_$P(IB0,U,12),1:"")
"RTN","IBCEOB",72,0)
 S DR=DR_$S($P(IB0,U,13)'="":";.1///"_$P(IB0,U,13),1:"")_";.11///"_($P(IB0,U,14)/10000)_";.12///"_($P(IB0,U,15)/100)
"RTN","IBCEOB",73,0)
 I $P(IB0,U,8)'="" S DR=DR_";.08////"_$P(IB0,U,8)_$S($P(IB0,U,9)'="":";.09///"_$P(IB0,U,9),1:"")
"RTN","IBCEOB",74,0)
 ;
"RTN","IBCEOB",75,0)
 D ^DIE
"RTN","IBCEOB",76,0)
 S IBOK=($D(Y)=0)
"RTN","IBCEOB",77,0)
 I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Bad record 10 data" G Q10
"RTN","IBCEOB",78,0)
Q10 Q IBOK
"RTN","IBCEOB",79,0)
 ;
"RTN","IBCEOB",80,0)
15(IB0,IBEGBL,IBEOB) ; Record '15'
"RTN","IBCEOB",81,0)
 ;
"RTN","IBCEOB",82,0)
 N A,IBOK
"RTN","IBCEOB",83,0)
 ;
"RTN","IBCEOB",84,0)
 S A="3;1.03;1;0;0^4;1.04;1;0;0^5;1.05;1;0;0^6;1.07;1;0;0^7;1.08;1;0;0^8;1.09;1;0;0^9;1.02;1;0;0^10;2.05;1;0;0"
"RTN","IBCEOB",85,0)
 ;
"RTN","IBCEOB",86,0)
 S IBOK=$$STORE^IBCEOB1(A,IB0,IBEOB)
"RTN","IBCEOB",87,0)
 I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Bad record 15 data"
"RTN","IBCEOB",88,0)
Q15 Q IBOK
"RTN","IBCEOB",89,0)
 ;
"RTN","IBCEOB",90,0)
17(IB0,IBEGBL,IBEOB) ; Record '17'
"RTN","IBCEOB",91,0)
 N A,IBOK
"RTN","IBCEOB",92,0)
 S A="3;25.01;0;1;0^4;25.02;0;1;0^5;25.03;0;1;0^6;25.04;0;1;0^7;25.05;0;1;0^8;25.06;0;1;0^9;25.07;0;1;0"
"RTN","IBCEOB",93,0)
 S IBOK=$$STORE^IBCEOB1(A,IB0,IBEOB)
"RTN","IBCEOB",94,0)
 I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Bad record 17 data"
"RTN","IBCEOB",95,0)
Q17 Q IBOK
"RTN","IBCEOB",96,0)
 ;
"RTN","IBCEOB",97,0)
20(IB0,IBEGBL,IBEOB) ; Record '20'
"RTN","IBCEOB",98,0)
 ;
"RTN","IBCEOB",99,0)
 N A,LEVEL,IBGRP,IBDA,IBOK
"RTN","IBCEOB",100,0)
 ;
"RTN","IBCEOB",101,0)
 S IBGRP=$P(IB0,U,3)
"RTN","IBCEOB",102,0)
 S IBDA(1)=$O(^IBM(361.1,IBEOB,10,"B",IBGRP,0))
"RTN","IBCEOB",103,0)
 ;
"RTN","IBCEOB",104,0)
 I 'IBDA(1) D  ;Needs a new entry at group level
"RTN","IBCEOB",105,0)
 . N X,Y,DA,DD,DO,DIC,DLAYGO
"RTN","IBCEOB",106,0)
 . S DIC="^IBM(361.1,"_IBEOB_",10,",DIC(0)="L",DLAYGO=361.11,DA(1)=IBEOB
"RTN","IBCEOB",107,0)
 . S DIC("P")=$$GETSPEC^IBEFUNC(361.1,10)
"RTN","IBCEOB",108,0)
 . S X=IBGRP
"RTN","IBCEOB",109,0)
 . D FILE^DICN K DIC,DO,DD,DLAYGO
"RTN","IBCEOB",110,0)
 . I Y<0 K IBDA S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Adjustment group code could not be added" Q
"RTN","IBCEOB",111,0)
 . S IBDA(1)=+Y
"RTN","IBCEOB",112,0)
 ;
"RTN","IBCEOB",113,0)
 I $G(IBDA(1)) D  ;Add a new entry at the reason code level
"RTN","IBCEOB",114,0)
 . S DIC="^IBM(361.1,"_IBEOB_",10,"_IBDA(1)_",1,",DIC(0)="L",DLAYGO=361.111,DA(2)=IBEOB,DA(1)=IBDA(1)
"RTN","IBCEOB",115,0)
 . S DIC("P")=$$GETSPEC^IBEFUNC(361.11,1)
"RTN","IBCEOB",116,0)
 . S X=$P(IB0,U,4)
"RTN","IBCEOB",117,0)
 . D FILE^DICN K DIC,DO,DD,DLAYGO
"RTN","IBCEOB",118,0)
 . I Y<0 K IBDA S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Adjustment reason code could not be added" Q
"RTN","IBCEOB",119,0)
 . S IBDA=+Y
"RTN","IBCEOB",120,0)
 ;
"RTN","IBCEOB",121,0)
 I $G(IBDA) D
"RTN","IBCEOB",122,0)
 . S LEVEL=10,LEVEL("DIE")="^IBM(361.1,"_IBEOB_",10,"_IBDA(1)_",1,"
"RTN","IBCEOB",123,0)
 . S LEVEL(0)=IBDA,LEVEL(1)=IBDA(1),LEVEL(2)=IBEOB
"RTN","IBCEOB",124,0)
 . S A="5;.02;1;0;0^6;.03;0;1;1^7;.04;0;1;0"
"RTN","IBCEOB",125,0)
 . S IBOK=$$STORE^IBCEOB1(A,IB0,IBEOB,.LEVEL)
"RTN","IBCEOB",126,0)
 . I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Bad adjustment reason code ("_$P(IB0,U,4)_") data" Q
"RTN","IBCEOB",127,0)
Q20 Q $G(IBOK)
"RTN","IBCEOB",128,0)
 ;
"RTN","IBCEOB",129,0)
30(IB0,IBEGBL,IBEOB) ; Record '30'
"RTN","IBCEOB",130,0)
 ;
"RTN","IBCEOB",131,0)
 N A,IBOK
"RTN","IBCEOB",132,0)
 ;
"RTN","IBCEOB",133,0)
 S A="3;4.01;0;1;1^5;4.02;0;1;1^6;4.03;1;0;0^7;4.05;1;0;0^8;4.06;1;0;0^9;4.07;1;0;0^10;4.08;1;0;0^11;4.09;1;0;0^12;4.1;1;0;0^13;4.11;1;0;0"
"RTN","IBCEOB",134,0)
 ;
"RTN","IBCEOB",135,0)
 S IBOK=$$STORE^IBCEOB1(A,IB0,IBEOB)
"RTN","IBCEOB",136,0)
 I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Bad MEDICARE Inpt Adjudication data"
"RTN","IBCEOB",137,0)
Q30 Q $G(IBOK)
"RTN","IBCEOB",138,0)
 ;
"RTN","IBCEOB",139,0)
35(IB0,IBEGBL,IBEOB) ; Record '35'
"RTN","IBCEOB",140,0)
 ;
"RTN","IBCEOB",141,0)
 N A,IBOK
"RTN","IBCEOB",142,0)
 ;
"RTN","IBCEOB",143,0)
 S A="3;4.12;1;0;0^4;4.13;1;0;0^5;4.14;0;1;1^6;4.15;1;0;0^7;4.16;1;0;0^8;4.17;1;0;0^9;4.18;1;0;0^10;4.04;1;0;0^11;3.01;0;1;1^12;3.02;1;0;0^13;3.08;1;0;0^14;3.09;1;0;0"
"RTN","IBCEOB",144,0)
 ;
"RTN","IBCEOB",145,0)
 S IBOK=$$STORE^IBCEOB1(A,IB0,IBEOB)
"RTN","IBCEOB",146,0)
 I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Bad MEDICARE Inpt Adjudication data"
"RTN","IBCEOB",147,0)
Q35 Q $G(IBOK)
"RTN","IBCEOB",148,0)
 ;
"RTN","IBCEOB",149,0)
37(IB0,IBEGBL,IBEOB) ; Record '37'
"RTN","IBCEOB",150,0)
 ;
"RTN","IBCEOB",151,0)
 N IBOK,IBCT
"RTN","IBCEOB",152,0)
 S IBCT=$G(^TMP($J,37))+1
"RTN","IBCEOB",153,0)
 I IBCT>5 S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Too many Medicare Claim Level Adjudication Remarks" G Q37    ; Max 5 allowed
"RTN","IBCEOB",154,0)
 S A="4;"_$S($P(IB0,U,3)="O":"3.0"_(IBCT+2),1:"5.0"_IBCT)_";0;0;0^5;5.0"_IBCT_"1;0;0;0"
"RTN","IBCEOB",155,0)
 S IBOK=$$STORE^IBCEOB1(A,IB0,IBEOB)
"RTN","IBCEOB",156,0)
 I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Bad Medicare Claim Level Adjudication Remarks data"
"RTN","IBCEOB",157,0)
 ;
"RTN","IBCEOB",158,0)
 ; 4/22/03 - esg - If claim level remark code MA15 is reported, then
"RTN","IBCEOB",159,0)
 ;         this is a split EOB and we need to change the REVIEW STATUS
"RTN","IBCEOB",160,0)
 ;         of this EOB to be ACCEPTED-INTERIM EOB.
"RTN","IBCEOB",161,0)
 ;
"RTN","IBCEOB",162,0)
 I $P(IB0,U,4)["MA15" D
"RTN","IBCEOB",163,0)
 . N DA,DIE,DR,DIC
"RTN","IBCEOB",164,0)
 . S DA=IBEOB,DIE=361.1,DR=".16////2" D ^DIE S IBOK=($D(Y)=0)
"RTN","IBCEOB",165,0)
 . I 'IBOK S ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)="Split EOB, but review status was not updated correctly"
"RTN","IBCEOB",166,0)
 . Q
"RTN","IBCEOB",167,0)
 ;
"RTN","IBCEOB",168,0)
Q37 S ^TMP($J,37)=$G(^TMP($J,37))+1 ; Saves the # of entries for 37 records
"RTN","IBCEOB",169,0)
 Q $G(IBOK)
"RTN","IBCEOB",170,0)
 ;
"RTN","IBCEOB",171,0)
40(IB0,IBEGBL,IBEOB) ; Record '40'
"RTN","IBCEOB",172,0)
 ;
"RTN","IBCEOB",173,0)
 N IBOK
"RTN","IBCEOB",174,0)
 D 40^IBCEOB0(IB0,IBEOB,.IBOK)
"RTN","IBCEOB",175,0)
Q40 Q $G(IBOK)
"RTN","IBCEOB",176,0)
 ;
"RTN","IBCEOB",177,0)
41(IB0,IBEGBL,IBEOB) ; Record '41'
"RTN","IBCEOB",178,0)
 ;
"RTN","IBCEOB",179,0)
 N IBOK
"RTN","IBCEOB",180,0)
 D 41^IBCEOB0(IB0,IBEOB,.IBOK)
"RTN","IBCEOB",181,0)
Q41 Q $G(IBOK)
"RTN","IBCEOB",182,0)
 ;
"RTN","IBCEOB",183,0)
42(IB0,IBEGBL,IBEOB) ; Record '42'
"RTN","IBCEOB",184,0)
 ;
"RTN","IBCEOB",185,0)
 N IBOK
"RTN","IBCEOB",186,0)
 D 42^IBCEOB0(IB0,IBEOB,.IBOK)
"RTN","IBCEOB",187,0)
Q42 Q $G(IBOK)
"RTN","IBCEOB",188,0)
 ;
"RTN","IBCEOB",189,0)
45(IB0,IBEGBL,IBEOB) ; Record '45'
"RTN","IBCEOB",190,0)
 ;
"RTN","IBCEOB",191,0)
 N IBOK
"RTN","IBCEOB",192,0)
 D 45^IBCEOB0(IB0,IBEOB,.IBOK)
"RTN","IBCEOB",193,0)
 Q $G(IBOK)
"RTN","IBCEOB",194,0)
 ;
"RTN","IBCEOB",195,0)
DOLLAR(X) ; Convert value in X to dollar format XXX.XX
"RTN","IBCEOB",196,0)
 Q $S(+X:$J(X/100,$L(+X),2),1:0)
"RTN","IBCEOB",197,0)
 ;
"RTN","IBCEOB",198,0)
ADD3611(IBMNUM,IBTBILL,IBBATCH,X,IBAR,IBFILE) ; Add stub record to file 361.1
"RTN","IBCEOB",199,0)
 ; X = the ien of the referenced bill in file 399
"RTN","IBCEOB",200,0)
 ; IBTBILL = ien of transmitted bill (optional)
"RTN","IBCEOB",201,0)
 ; IBBATCH = ien of batch # the transmitted bill was in (optional)
"RTN","IBCEOB",202,0)
 ; IBMNUM = the message # from which this record originally came
"RTN","IBCEOB",203,0)
 ; IBAR = 1 only if called from AR
"RTN","IBCEOB",204,0)
 ; IBFILE = array reference of raw EOB data
"RTN","IBCEOB",205,0)
 ;
"RTN","IBCEOB",206,0)
 N DIC,DA,DR,DO,DD,DLAYGO,Y
"RTN","IBCEOB",207,0)
 F  L +^IBM(361.1,0):10 Q:$T
"RTN","IBCEOB",208,0)
 S DIC(0)="L",DIC="^IBM(361.1,",DLAYGO=361.1
"RTN","IBCEOB",209,0)
 S DIC("DR")=".16////0;.17////0"_";100.02////"_IBMNUM_$S('$G(IBAR):";.19////"_+IBTBILL_";100.01////"_IBBATCH,1:"")
"RTN","IBCEOB",210,0)
 S DIC("DR")=DIC("DR")_";100.05////"_$$CHKSUM^IBCEMU1(IBFILE)
"RTN","IBCEOB",211,0)
 D FILE^DICN
"RTN","IBCEOB",212,0)
 L -^IBM(361.1,0)
"RTN","IBCEOB",213,0)
 Q +Y
"RTN","IBCEOB",214,0)
 ;
"RTN","IBCEOB",215,0)
UPD3611(IBEOB,IBTDA,IBAR) ; From flat file 835 format, add EOB record
"RTN","IBCEOB",216,0)
 ; IBEOB = the ien of the entry in file 361.1 being updated
"RTN","IBCEOB",217,0)
 ; IBTDA = the ien in the source file
"RTN","IBCEOB",218,0)
 ; IBAR = 1 if being called from AR
"RTN","IBCEOB",219,0)
 N IBA1,IBFILE,IBEGBL,Z,IBREC,Q
"RTN","IBCEOB",220,0)
 S IBFILE=$S('$G(IBAR):"^IBA(364.2,"_IBTDA_",2)",1:"^TMP("_$J_",""RCDP-EOB"","_IBTDA_")")
"RTN","IBCEOB",221,0)
 S IBEGBL=$S('$G(IBAR):"IBCERR-EOB",1:"RCDPERR-EOB")
"RTN","IBCEOB",222,0)
 I $G(IBAR),'$$HDR^IBCEOB1($G(^TMP($J,"RCDPEOB","HDR")),IBEGBL,IBEOB) Q
"RTN","IBCEOB",223,0)
 S IBA1=0
"RTN","IBCEOB",224,0)
 F  S IBA1=$O(@IBFILE@(IBA1)) Q:'IBA1  S IB0=$S('$G(IBAR):$P($G(^(IBA1,0)),"##RAW DATA: ",2),1:$G(@IBFILE@(IBA1,0))) I IB0'="" D
"RTN","IBCEOB",225,0)
 . S IBREC=+IB0
"RTN","IBCEOB",226,0)
 . I IBREC'=37 K ^TMP($J,37)
"RTN","IBCEOB",227,0)
 . I IBREC S IB="S IBOK=$$"_IBREC_"(IB0,IBEGBL,IBEOB)",Q=IBREC_"^IBCEOB" I $T(@Q)'="" X IB S:'IBOK ^TMP(IBEGBL,$J,+$O(^TMP(IBEGBL,$J,""),-1)+1)=$S('$G(IBAR):"  ##RAW DATA: ",1:"")_IB0
"RTN","IBCEOB",228,0)
 ;
"RTN","IBCEOB",229,0)
 Q
"RTN","IBCEOB",230,0)
 ;
"RTN","IBCEOB",231,0)
ERRUPD(IBEOB,IBEGBL) ; Update error text in entry, if needed
"RTN","IBCEOB",232,0)
 D WP^DIE(361.1,IBEOB_",",20,"","^TMP(IBEGBL,$J)","")
"RTN","IBCEOB",233,0)
 Q
"RTN","IBCEOB",234,0)
 ;
"RTN","IBCEOB",235,0)
 ;
"RTN","IBCEOB",236,0)
DUP(IBARRAY,IBIFN) ; Duplicate Check
"RTN","IBCEOB",237,0)
 ; This function determines if the EOB data already exists in file
"RTN","IBCEOB",238,0)
 ; 361.1 by comparing the checksums of the raw 835 data.
"RTN","IBCEOB",239,0)
 ;
"RTN","IBCEOB",240,0)
 ; IBARRAY = Literal array reference where the raw 835 data exists.
"RTN","IBCEOB",241,0)
 ;           The data exists at @IBARRAY@(n,0), where n is the seq#.
"RTN","IBCEOB",242,0)
 ;           For example, IBARRAY = "^IBA(364.2,IBIEN,2)"
"RTN","IBCEOB",243,0)
 ;
"RTN","IBCEOB",244,0)
 ; IBIFN = the bill # (ptr to 399).  The checksums of the EOB's on 
"RTN","IBCEOB",245,0)
 ;         file for this bill will be compared to the checksum of the
"RTN","IBCEOB",246,0)
 ;         835 raw data in the IBARRAY reference.
"RTN","IBCEOB",247,0)
 ;
"RTN","IBCEOB",248,0)
 ; This function returns 0 if the entry is not found (no duplicate),
"RTN","IBCEOB",249,0)
 ; Otherwise, the IEN of the entry in file 361.1 is returned if this
"RTN","IBCEOB",250,0)
 ; is a duplicate EOB.
"RTN","IBCEOB",251,0)
 ;
"RTN","IBCEOB",252,0)
 NEW DUP,IBEOB,CHKSUM1,CHKSUM2
"RTN","IBCEOB",253,0)
 S DUP=0,IBIFN=+$G(IBIFN)
"RTN","IBCEOB",254,0)
 I $G(IBARRAY)=""!'IBIFN G DUPX
"RTN","IBCEOB",255,0)
 I '$D(^IBM(361.1,"B",IBIFN)) G DUPX     ; no EOB's on file yet
"RTN","IBCEOB",256,0)
 S CHKSUM1=$$CHKSUM^IBCEMU1(IBARRAY)     ; checksum of current EOB
"RTN","IBCEOB",257,0)
 I 'CHKSUM1 G DUPX                       ; must be able to be calculated
"RTN","IBCEOB",258,0)
 S IBEOB=0
"RTN","IBCEOB",259,0)
 F  S IBEOB=$O(^IBM(361.1,"B",IBIFN,IBEOB)) Q:'IBEOB  D  Q:DUP
"RTN","IBCEOB",260,0)
 . S CHKSUM2=+$P($G(^IBM(361.1,IBEOB,100)),U,5)   ; checksum of old EOB
"RTN","IBCEOB",261,0)
 . I 'CHKSUM2 Q
"RTN","IBCEOB",262,0)
 . I CHKSUM1=CHKSUM2 S DUP=IBEOB Q                    ; comparison
"RTN","IBCEOB",263,0)
 . Q
"RTN","IBCEOB",264,0)
DUPX ;
"RTN","IBCEOB",265,0)
 Q DUP
"RTN","IBCEOB",266,0)
 ;
"RTN","IBJTBA1")
0^2^B19985525
"RTN","IBJTBA1",1,0)
IBJTBA1 ;ALB/TMK - TPJI BILL CHARGE INFO SCREEN ;01-MAR-1995
"RTN","IBJTBA1",2,0)
 ;;2.0;INTEGRATED BILLING;**135,265**;21-MAR-94
"RTN","IBJTBA1",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IBJTBA1",4,0)
 ;
"RTN","IBJTBA1",5,0)
SHEOB(IBI,IBSPL,IBEOBCT,IBCTOF) ; Format EOB called from IBJTBA
"RTN","IBJTBA1",6,0)
 ; IBSPL = 0 if EOB represents one bill's payment
"RTN","IBJTBA1",7,0)
 ;       =  1 if AR had to split the EOB between multiple bills
"RTN","IBJTBA1",8,0)
 ; Assumes IBLN is defined and returns it with line count
"RTN","IBJTBA1",9,0)
 ; Assumes IBEOBDET may be defined as a flag to control detail level of print
"RTN","IBJTBA1",10,0)
 N X,IBPT,IBCN,IBM,IBM1,IBM2,IBTY,IBPY,IBPR,IBST,IBSTR,IBCA,IBTS,IBTA,Z,Z0
"RTN","IBJTBA1",11,0)
 S X="0.00"
"RTN","IBJTBA1",12,0)
 S IBM=$G(^IBM(361.1,IBI,0))
"RTN","IBJTBA1",13,0)
 S IBTY=$P(IBM,U,4),IBTY=$S(IBTY:"MEDICARE MRA",1:"NORMAL EOB")
"RTN","IBJTBA1",14,0)
 I IBTY'["MRA",IBSPL S IBTY="A/R SPLIT/COVERS MORE THAN 1 BILL"
"RTN","IBJTBA1",15,0)
 I $P(IBM,U,13)>1,$P(IBM,U,13)<5 S IBTY=IBTY_" ("_$$EXTERNAL^DILFD(361.1,.13,,$P(IBM,U,13))_")"
"RTN","IBJTBA1",16,0)
 S IBCN=$P(IBM,U,14),IBPY=$P(IBM,U,2)
"RTN","IBJTBA1",17,0)
 S:IBPY IBPY=$P($G(^DIC(36,IBPY,0)),U)
"RTN","IBJTBA1",18,0)
 S IBPR=$$FMTE^XLFDT($P(IBM,U,6)),IBST=$P(IBM,U,16)
"RTN","IBJTBA1",19,0)
 S IBST=$$EXPAND^IBTRE(361.1,.16,+IBST)
"RTN","IBJTBA1",20,0)
 S IBM1=$G(^IBM(361.1,IBI,1))
"RTN","IBJTBA1",21,0)
 S IBPT=$P(IBM1,U,2),IBCA=$P(IBM1,U)
"RTN","IBJTBA1",22,0)
 S IBM2=$G(^IBM(361.1,IBI,2)),IBTA=$P(IBM2,U,3)
"RTN","IBJTBA1",23,0)
 S IBTS=$P(IBM2,U,4)
"RTN","IBJTBA1",24,0)
 D MRA2
"RTN","IBJTBA1",25,0)
 I '$G(IBEOBDET),IBSPL D
"RTN","IBJTBA1",26,0)
 . S IBSTR=$$SETLN^IBJTBA("    **A/R CORRECTED PAYMENT DATA:","",1,50),IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",27,0)
 . S IBSTR=$$SETLN^IBJTBA("     TOTAL AMT PD: "_$J(+$P($G(^IBM(361.1,IBI,1)),U,1),"",2),"",1,75),IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",28,0)
 . S Z=0 F  S Z=$O(^IBM(361.1,IBI,8,Z)) Q:'Z  S Z0=$G(^(Z,0)) D
"RTN","IBJTBA1",29,0)
 .. S IBSTR=$$SETLN^IBJTBA($E($J("",8)_$S($P(Z0,U,3):$$BN1^PRCAFN(+$P(Z0,U,3)),1:"[suspense]"_$P(Z0,U))_$J("",25),1,25)_"  "_$J(+$P(Z0,U,2),"",2),"",1,75),IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",30,0)
 I $G(IBEOBDET) D
"RTN","IBJTBA1",31,0)
 . N VALMCNT
"RTN","IBJTBA1",32,0)
 . K ^TMP("PRCA_EOB",$J)
"RTN","IBJTBA1",33,0)
 . D GETEOB^IBCECSA6(IBI,1)
"RTN","IBJTBA1",34,0)
 . S Z=0 F  S Z=$O(^TMP("PRCA_EOB",$J,IBI,Z)) Q:'Z  S IBSTR=$$SETLN^IBJTBA($G(^TMP("PRCA_EOB",$J,IBI,Z)),"",1,79),IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",35,0)
 . K ^TMP("PRCA_EOB",$J)
"RTN","IBJTBA1",36,0)
 . I $O(^IBM(361.1,IBI,"ERR",0)) D
"RTN","IBJTBA1",37,0)
 .. S IBSTR=$$SETLN^IBJTBA(" ** MESSAGE STORAGE ERRORS  **","",1,79),IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",38,0)
 .. S Z=0 F  S Z=$O(^IBM(361.1,IBI,"ERR",Z)) Q:'Z  S IBSTR=$$SETLN^IBJTBA($G(^(Z,0)),"",1,79),IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",39,0)
 Q
"RTN","IBJTBA1",40,0)
 ;
"RTN","IBJTBA1",41,0)
MRA2 ;
"RTN","IBJTBA1",42,0)
 N IBD
"RTN","IBJTBA1",43,0)
 S IBLN=$$SET^IBJTBA("",IBLN)
"RTN","IBJTBA1",44,0)
 S IBD="EOB/MRA Information"_$S($D(IBCTOF):" ("_$G(IBEOBCT)_" OF "_IBCTOF_")",1:"")
"RTN","IBJTBA1",45,0)
 S IBSTR=$$SETLN^IBJTBA(IBD,"",30,45),$E(IBSTR,1,2)=">>",IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",46,0)
 S IBD="EOB Type: "_IBTY,IBSTR=$$SETLN^IBJTBA(IBD,"",5,59)
"RTN","IBJTBA1",47,0)
 S IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",48,0)
 S IBD="ICN: "_IBCN,IBSTR=$$SETLN^IBJTBA(IBD,"",10,30)
"RTN","IBJTBA1",49,0)
 S IBD="Patient Resp Amount: "_$S('IBPT:X,1:IBPT)
"RTN","IBJTBA1",50,0)
 S IBSTR=$$SETLN^IBJTBA(IBD,IBSTR,44,35)
"RTN","IBJTBA1",51,0)
 S IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",52,0)
 S IBD="Payer Name: "_IBPY,IBSTR=$$SETLN^IBJTBA(IBD,"",3,40)
"RTN","IBJTBA1",53,0)
 S IBD="Total Allowed Amount: "_$S('IBTA:X,1:IBTA)
"RTN","IBJTBA1",54,0)
 S IBSTR=$$SETLN^IBJTBA(IBD,IBSTR,43,36)
"RTN","IBJTBA1",55,0)
 S IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",56,0)
 S IBD="EOB Date: "_IBPR,IBSTR=$$SETLN^IBJTBA(IBD,"",5,35)
"RTN","IBJTBA1",57,0)
 S IBD="Total Submitted Charges: "_$S('IBTS:X,1:IBTS)
"RTN","IBJTBA1",58,0)
 S IBSTR=$$SETLN^IBJTBA(IBD,IBSTR,40,39)
"RTN","IBJTBA1",59,0)
 S IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",60,0)
 S IBD="Svc From Dt: "_$$DAT1^IBOUTL($P(IBM1,U,10))
"RTN","IBJTBA1",61,0)
 S IBSTR=$$SETLN^IBJTBA(IBD,"",2,38)
"RTN","IBJTBA1",62,0)
 S IBD="Svc To Dt: "_$$DAT1^IBOUTL($P(IBM1,U,11))
"RTN","IBJTBA1",63,0)
 S IBSTR=$$SETLN^IBJTBA(IBD,IBSTR,54,25)
"RTN","IBJTBA1",64,0)
 S IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",65,0)
 S IBSTR=""
"RTN","IBJTBA1",66,0)
 I IBTY["MRA" S IBD="MRA Review Status: "_IBST,IBSTR=$$SETLN^IBJTBA(IBD,"",2,38)
"RTN","IBJTBA1",67,0)
 S IBD=$S('$G(IBSPL):"  ",1:"**")_"Reported Payment Amt: "_$S('IBCA:$J(X,"",2),1:$J(+IBCA,"",2))
"RTN","IBJTBA1",68,0)
 S IBSTR=$$SETLN^IBJTBA(IBD,IBSTR,41,37)
"RTN","IBJTBA1",69,0)
 S IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",70,0)
 I IBTY["MRA" D
"RTN","IBJTBA1",71,0)
 . S IBD=$TR($J("",35)," ","-")_"Review"_$TR($J("",38)," ","-")
"RTN","IBJTBA1",72,0)
 . S IBSTR=$$SETLN^IBJTBA(IBD,"",1,79),IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",73,0)
 . S (IBST,IBCN)=0 F  S IBCN=$O(^IBM(361.1,IBI,21,IBCN)) Q:'IBCN  S X=$G(^(IBCN,0)) D
"RTN","IBJTBA1",74,0)
 .. S IBST=0
"RTN","IBJTBA1",75,0)
 .. S IBD="Review Date: "_$$DAT1^IBOUTL($P(X,U))
"RTN","IBJTBA1",76,0)
 .. S IBSTR=$$SETLN^IBJTBA(IBD,"",1,30)
"RTN","IBJTBA1",77,0)
 .. S IBD="Reviewed By: "_$P($G(^VA(200,+$P(X,U,2),0)),U)
"RTN","IBJTBA1",78,0)
 .. S IBSTR=$$SETLN^IBJTBA(IBD,IBSTR,40,39)
"RTN","IBJTBA1",79,0)
 .. S IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",80,0)
 .. S IBD=0 F  S IBD=$O(^IBM(361.1,IBI,21,IBCN,1,IBD)) Q:'IBD  S IBSTR=$$SETLN^IBJTBA($S('IBST:"Comments: ",1:"")_$G(^(IBD,0)),"",1,$S('IBST:69,1:79)),IBST=1,IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",81,0)
 . I 'IBST D
"RTN","IBJTBA1",82,0)
 .. S IBSTR=$$SETLN^IBJTBA("None","",1,10)
"RTN","IBJTBA1",83,0)
 .. S IBLN=$$SET^IBJTBA(IBSTR,IBLN)
"RTN","IBJTBA1",84,0)
 Q
"RTN","IBJTBA1",85,0)
 ;
"VER")
8.0^22
"^DD",361.1,361.1,.07,0)
TRACE NUMBER^F^^0;7^K:$L(X)>30!($L(X)<1) X
"^DD",361.1,361.1,.07,1,0)
^.1^^0
"^DD",361.1,361.1,.07,3)
Answer must be 1-30 characters in length.
"^DD",361.1,361.1,.07,21,0)
^^1^1^2981007^
"^DD",361.1,361.1,.07,21,1,0)
This is the TRACE NUMBER from the 835 transaction for this EOB
"^DD",361.1,361.1,.07,23,0)
^^1^1^2990112^^
"^DD",361.1,361.1,.07,23,1,0)
This is the data from the 835 data field (TRN-02)
"^DD",361.1,361.1,.07,"DT")
3040407
"^DD",361.1,361.1,1.1,0)
STATEMENT START DATE^D^^1;10^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",361.1,361.1,1.1,3)
Enter the date the payer reported as the starting date of service.
"^DD",361.1,361.1,1.1,21,0)
^^2^2^3040128^
"^DD",361.1,361.1,1.1,21,1,0)
This is the date the payer reported as the starting date of service for
"^DD",361.1,361.1,1.1,21,2,0)
the claim.
"^DD",361.1,361.1,1.1,"DT")
3040128
"^DD",361.1,361.1,1.11,0)
STATEMENT END DATE^D^^1;11^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",361.1,361.1,1.11,3)
Enter the date the payer reported as the ending date of service.
"^DD",361.1,361.1,1.11,21,0)
^^2^2^3040128^
"^DD",361.1,361.1,1.11,21,1,0)
This is the date the payer reported as the ending date of service for
"^DD",361.1,361.1,1.11,21,2,0)
the claim.
"^DD",361.1,361.1,1.11,"DT")
3040128
**END**
**END**
