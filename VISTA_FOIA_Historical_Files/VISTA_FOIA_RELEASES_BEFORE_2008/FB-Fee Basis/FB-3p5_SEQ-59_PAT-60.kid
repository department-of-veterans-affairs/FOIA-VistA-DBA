Released FB*3.5*60 SEQ #59
Extracted from mail message
**KIDS**:FB*3.5*60^

**INSTALL NAME**
FB*3.5*60
"BLD",4750,0)
FB*3.5*60^FEE BASIS^0^3030701^y
"BLD",4750,1,0)
^^2^2^3030701^
"BLD",4750,1,1,0)
A FEE BASIS ROUTINE WAS MODIFIED TO CORRECTLY TEST FOR PREVIOUS PAYMENTS 
"BLD",4750,1,2,0)
BEFORE ALLOWING THE CANCELLING OF AUTHORIZATIONS.
"BLD",4750,4,0)
^9.64PA^^
"BLD",4750,"ABPKG")
n
"BLD",4750,"KRN",0)
^9.67PA^8989.52^19
"BLD",4750,"KRN",.4,0)
.4
"BLD",4750,"KRN",.401,0)
.401
"BLD",4750,"KRN",.402,0)
.402
"BLD",4750,"KRN",.403,0)
.403
"BLD",4750,"KRN",.5,0)
.5
"BLD",4750,"KRN",.84,0)
.84
"BLD",4750,"KRN",3.6,0)
3.6
"BLD",4750,"KRN",3.8,0)
3.8
"BLD",4750,"KRN",9.2,0)
9.2
"BLD",4750,"KRN",9.8,0)
9.8
"BLD",4750,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4750,"KRN",9.8,"NM",1,0)
FBUCDD1^^0^B12082239
"BLD",4750,"KRN",9.8,"NM","B","FBUCDD1",1)

"BLD",4750,"KRN",19,0)
19
"BLD",4750,"KRN",19,"NM",0)
^9.68A^^
"BLD",4750,"KRN",19.1,0)
19.1
"BLD",4750,"KRN",101,0)
101
"BLD",4750,"KRN",409.61,0)
409.61
"BLD",4750,"KRN",771,0)
771
"BLD",4750,"KRN",870,0)
870
"BLD",4750,"KRN",8989.51,0)
8989.51
"BLD",4750,"KRN",8989.52,0)
8989.52
"BLD",4750,"KRN",8994,0)
8994
"BLD",4750,"KRN","B",.4,.4)

"BLD",4750,"KRN","B",.401,.401)

"BLD",4750,"KRN","B",.402,.402)

"BLD",4750,"KRN","B",.403,.403)

"BLD",4750,"KRN","B",.5,.5)

"BLD",4750,"KRN","B",.84,.84)

"BLD",4750,"KRN","B",3.6,3.6)

"BLD",4750,"KRN","B",3.8,3.8)

"BLD",4750,"KRN","B",9.2,9.2)

"BLD",4750,"KRN","B",9.8,9.8)

"BLD",4750,"KRN","B",19,19)

"BLD",4750,"KRN","B",19.1,19.1)

"BLD",4750,"KRN","B",101,101)

"BLD",4750,"KRN","B",409.61,409.61)

"BLD",4750,"KRN","B",771,771)

"BLD",4750,"KRN","B",870,870)

"BLD",4750,"KRN","B",8989.51,8989.51)

"BLD",4750,"KRN","B",8989.52,8989.52)

"BLD",4750,"KRN","B",8994,8994)

"BLD",4750,"QUES",0)
^9.62^^
"MBREQ")
0
"PKG",60,-1)
1^1
"PKG",60,0)
FEE BASIS^FB^Used to pay private vendors
"PKG",60,20,0)
^9.402P^1^1
"PKG",60,20,1,0)
2^^FBPMRG
"PKG",60,20,1,1)

"PKG",60,20,"B",2,1)

"PKG",60,22,0)
^9.49I^1^1
"PKG",60,22,1,0)
3.5^2950130^2950313
"PKG",60,22,1,"PAH",1,0)
60^3030701^101002
"PKG",60,22,1,"PAH",1,1,0)
^^2^2^3030701
"PKG",60,22,1,"PAH",1,1,1,0)
A FEE BASIS ROUTINE WAS MODIFIED TO CORRECTLY TEST FOR PREVIOUS PAYMENTS 
"PKG",60,22,1,"PAH",1,1,2,0)
BEFORE ALLOWING THE CANCELLING OF AUTHORIZATIONS.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","FBUCDD1")
0^1^B12082239
"RTN","FBUCDD1",1,0)
FBUCDD1 ;ALBISC/TET - DD UTILITY (cont'd.) ;5/27/93
"RTN","FBUCDD1",2,0)
 ;;3.5;FEE BASIS;**60**;JAN 30, 1995
"RTN","FBUCDD1",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","FBUCDD1",4,0)
DEL(DA) ;del node on .01 field of 162.7, unauthorized claim file
"RTN","FBUCDD1",5,0)
 ;INPUT:  DA = ien of 162.7
"RTN","FBUCDD1",6,0)
 I 1 N FBORDER,FBZ S FBZ=$$FBZ^FBUCUTL(DA) S FBORDER=$$ORDER^FBUCUTL(+$P(FBZ,U,24)) W ! W:FBORDER'<40 "Disposition to Cancel/Withdrawn." W:FBORDER<40 "Use the Delete Unauthorized Claim option." W !
"RTN","FBUCDD1",7,0)
 Q
"RTN","FBUCDD1",8,0)
DEV(X) ;input transform on field 33, UNAUTHORIZED CLAIM PRINTER, file 161.4
"RTN","FBUCDD1",9,0)
 ;check x, and if x is a device, with subtype beginning with p(rinter)
"RTN","FBUCDD1",10,0)
 ;INPUT:  X - FM variable, input
"RTN","FBUCDD1",11,0)
 ;OUTPUT: 1 to kill x (invalid entry), otherwise 0
"RTN","FBUCDD1",12,0)
 Q $S('$D(X):1,'$$DEVICE(X):1,1:0)
"RTN","FBUCDD1",13,0)
 ;
"RTN","FBUCDD1",14,0)
SUBTYPE(X) ;extrinsic call for subtype check
"RTN","FBUCDD1",15,0)
 ;INPUT:  X = internal entry of device
"RTN","FBUCDD1",16,0)
 ;OUTPUT: 1 if subtype is a printer
"RTN","FBUCDD1",17,0)
 N Z1,Z2 S Z1=$S('$D(X):0,'+X:0,1:X),Z2=0 S Z2=+$G(^%ZIS(1,X,"SUBTYPE")),Z2=$P($G(^%ZIS(2,Z2,0)),U)
"RTN","FBUCDD1",18,0)
 Q $S(Z2']"":0,$E(Z2,1)="P":1,1:0)
"RTN","FBUCDD1",19,0)
 ;
"RTN","FBUCDD1",20,0)
DEVICE(X) ;extrinsic call for device ien
"RTN","FBUCDD1",21,0)
 ;INPUT:  X = name
"RTN","FBUCDD1",22,0)
 ;OUTPUT: 1 if device with printer subtype
"RTN","FBUCDD1",23,0)
 N Z1 S Z1=0,Z1=+$O(^%ZIS(1,"B",X,0))
"RTN","FBUCDD1",24,0)
 Q $S('Z1:0,'$$SUBTYPE(Z1):0,1:1)
"RTN","FBUCDD1",25,0)
 ;
"RTN","FBUCDD1",26,0)
XHELP ;executable help from field 33, UNAUTHORIZED CLAIM PRINTER, file 161.4
"RTN","FBUCDD1",27,0)
 ;displays printer selection
"RTN","FBUCDD1",28,0)
 D HOME^%ZIS H 1 W @IOF,!,"Select a printer device name.",!,"NOTE:  This is not a pointer field, the exact name must be entered."
"RTN","FBUCDD1",29,0)
 W !!,?5,"Printer name:",?40,"Location:",!,?5,"-------------",?40,"---------"
"RTN","FBUCDD1",30,0)
 N FBX,FBXZ,FBX1 S FBX=0 F  S FBX=$O(^%ZIS(1,FBX)) Q:'FBX  I $$SUBTYPE(FBX) S FBXZ=$G(^%ZIS(1,FBX,0)),FBX1=$G(^(1)) D  G:$D(DTOUT)!($D(DUOUT)) XHELPQ
"RTN","FBUCDD1",31,0)
 .I ($Y+5)>IOSL S DIR(0)="E" D ^DIR K DIR Q:$D(DTOUT)!($D(DUOUT))  W @IOF,!!,?5,"Printer name:",?40,"Location:",!,?5,"-------------",?40,"---------"
"RTN","FBUCDD1",32,0)
 .W !?5,$P(FBXZ,U),?40,$P(FBX1,U)
"RTN","FBUCDD1",33,0)
XHELPQ W ! K DIR,DTOUT,DUOUT Q
"RTN","FBUCDD1",34,0)
ID(Y) ;display identifiers
"RTN","FBUCDD1",35,0)
 N FBZ S FBZ=$$FBZ^FBUCUTL(+Y)  Q:Y']""  W ?15,$E($$VET^FBUCUTL(+$P(FBZ,U,4)),1,20),?38,$E($$VEN^FBUCUTL(+$P(FBZ,U,3)),1,20)
"RTN","FBUCDD1",36,0)
 W ?61,$E($$PROG^FBUCUTL(+$P(FBZ,U,2)),1,14),!,$E($P($$PTR^FBUCUTL("^FB(162.92,",+$P(FBZ,U,24)),U),1,16)
"RTN","FBUCDD1",37,0)
 W ?19,"TREATMENT FROM: ",$$DATX^FBAAUTL(+$P(FBZ,U,5)),?44,"TREATMENT TO: ",$$DATX^FBAAUTL(+$P(FBZ,U,6))
"RTN","FBUCDD1",38,0)
 W ! Q
"RTN","FBUCDD1",39,0)
 ;
"RTN","FBUCDD1",40,0)
DELA(DA,M) ;delete authorization node
"RTN","FBUCDD1",41,0)
 ;INPUT:  DA = ien of authorization (161.01)
"RTN","FBUCDD1",42,0)
 ;        DA(1)= ien of patient (161)
"RTN","FBUCDD1",43,0)
 ;        M=message (optional) 1 to print;0 to not print
"RTN","FBUCDD1",44,0)
 ;VAR:  M, 2nd piece = message to print:  1 for payments, 2 for 7078/583
"RTN","FBUCDD1",45,0)
 ;OUTPUT: 1 if ok to delete; 0 if should not delete
"RTN","FBUCDD1",46,0)
 ;        message may write explaining why cannot delete
"RTN","FBUCDD1",47,0)
 I $S('$G(DA):1,'$G(DA(1)):1,1:0) G DELAQ
"RTN","FBUCDD1",48,0)
 S:'$G(M) M=0
"RTN","FBUCDD1",49,0)
 N FBI,FBV,FBVAR
"RTN","FBUCDD1",50,0)
 S FBVAR=$P($G(^FBAAA(DA(1),1,DA,0)),U,9),FBV=+$P($G(^FBAAA(DA(1),1,DA,0)),U,4),FBI=0
"RTN","FBUCDD1",51,0)
 F  S FBI=$O(^FBAAC(DA(1),1,FBV,1,FBI)) Q:'FBI!($P(M,U,2))  S FBI(0)=$G(^FBAAC(DA(1),1,FBV,1,FBI,0)) I $P(FBI(0),U,4)=DA,$O(^FBAAC(DA(1),1,FBV,1,FBI,1,1,0)) S $P(M,U,2)=1
"RTN","FBUCDD1",52,0)
 I FBVAR]"",$$PAY^FBUCUTL($P(FBVAR,";"),$P(FBVAR,";",2)) S $P(M,U,2)=1
"RTN","FBUCDD1",53,0)
 I '$P(M,U,2),FBVAR]"" S $P(M,U,2)=2
"RTN","FBUCDD1",54,0)
 I +M,$P(M,U,2) W !! D  W !
"RTN","FBUCDD1",55,0)
 .W:$P(M,U,2)=1 "Cannot delete Authorization because payments already exist!"
"RTN","FBUCDD1",56,0)
 .W:$P(M,U,2)=2 "Cannot delete Authorization because a 7078/583 entry has already been established!"
"RTN","FBUCDD1",57,0)
DELAQ Q $S('+$P($G(M),U,2):0,$P(M,U,2):1,1:0)
"VER")
8.0^22
**END**
**END**
