$TXT Created by BEUSCHEL,GARY at MAILMAN.ISC-SF.VA.GOV  (KIDS) on WEDNESDAY, 01/12/00 at 10:30
=============================================================================
Run Date: FEB 15, 2000                     Designation: XM*7.1*107
Package : XM - MAILMAN                         Priority: Mandatory
Version : 7.1       SEQ #109                     Status: Released
=============================================================================

Associated patches: (v)XM*7.1*74   <<= must be installed BEFORE `XM*7.1*107'
                    (v)XM*7.1*94   <<= must be installed BEFORE `XM*7.1*107'
                    (v)XM*7.1*99   <<= must be installed BEFORE `XM*7.1*107'
                    (v)XM*7.1*102  <<= must be installed BEFORE `XM*7.1*107'
                    (v)XM*7.1*103  <<= must be installed BEFORE `XM*7.1*107'
                    (v)XM*7.1*104  <<= must be installed BEFORE `XM*7.1*107'
                    (v)XM*7.1*105  <<= must be installed BEFORE `XM*7.1*107'
                    (v)XM*7.1*106  <<= must be installed BEFORE `XM*7.1*107'
                    (v)XU*8*135    <<= must be installed BEFORE `XM*7.1*107'

Subject: Fix Postmaster Surrogate Problem

Category: 
  - Enhancement (Mandatory)
  - Routine
  - Data Dictionary
  - Other

Description: 
============

 Patch XM*7.1*107
  
 This patch may be installed at any time, except during the 2/28/2000 thru
 3/3/2000 Y2K leapyear lockdown. 
  
 NOIS: ANN-1199-42486
 Test Site:  Ann Arbor, MI
 Circular relay domains create an allocation error.  MailMan now recognizes
 when a domain has a relay domain, which has a relay domain, which... circles
 back to itself.  MailMan lets the user know what's wrong. 
  
 NOIS: ANN-1199-42486, BIL-1199-31104, WBP-1299-20839
 Test Sites:  Ann Arbor, MI; Biloxi, MS
 A typo causes an abort in APIs HDR^XMA0 and PR2^XMA0.  Typo is fixed.
  
 NOIS: DAY-1199-41994, WAS-1199-20590
 Test Site: Madison, WI
 Sometimes, when a user becomes a surrogate, his own (not the surrogate's)
 messages are displayed.  This patch fixes that.
  
 NOIS:  LAS-1299-60664
 Test Site:  Las Vegas, NV
 Message addressed to G.<space>@<local site name> invokes the space-bar recall
 for mail group.  This "feature" is now disabled.
  
 NOIS:  MAD-1299-42404
 Test Site:  Madison, WI
 Non-MailMan systems, such as MS Exchange, do not recognize I:<recipient>,
 and return error messages when recipients are addressed as info-only.
 MailMan now leaves off the "I:" when sending messages to info-only recipients
 on non-MailMan systems.
  
 NOIS: WAS-1199-20590, BRX-1199-10383
 Test Sites: Washington, DC; Madison, WI; Bronx, NY
 Sites have noticed sometimes, when becoming the Postmaster, MailMan informs
 them that the last user to become the Postmaster was someone who is not a
 valid Postmaster surrogate.  When a package sets XMDUZ=.5 and then sends a
 message using ^XMD, MailMan records that use as "last used MailMan".  It
 shouldn't.  This patch fixes that.
  
 E3R:  12385
 Test Site:  Tampa, FL; Albany, NY
 This patch lets an authorized user send a limited broadcast message to a
 subset of local users.  A subset might include all users who have a certain
 primary menu or who belong to a certain division, or any other way that users
 in the NEW PERSON file might be categorized.
  
 Users authorized to send limited broadcasts are the POSTMASTER, any holder
 of the XMSTAR key, and any holder of the new key, XMSTAR LIMITED.
 The XMSTAR and XMSTAR LIMITED keys are mutually exclusive.
  
 Limited broadcast types are predefined in the new LIMITED BROADCAST multiple
 of file 4.3, the MAILMAN SITE PARAMETERS file:
 50        LIMITED BROADCAST (Multiple-4.32), [5;0]
           .01  LIMITED BROADCAST (MF), [0;1]
           1    POINTED TO FILE (RNJ9,3), [0;2]
           2    NEW PERSON FILE XREF (RF), [0;3]
  
 The multiple will be loaded with 4 limited broadcasts by the post init:
 LIMITED BROADCAST     POINTED TO FILE            NEW PERSON FILE XREF
 -----------------     ----------------------     --------------------
 DIVISION               4   (institution)         "AH"
 KEY                   19.1 (security key)        "AB"
 PRIMARY MENU          19   (option)              "AP"
 SERVICE/SECTION       49   (service/section)     "E"
  
 The cross references listed in the NEW PERSON FILE XREF field enable MailMan
 to quickly identify the users who should receive the limited broadcast
 messages.  In support of this patch, Kernel patch XU*8.0*135 adds a
 new whole-file cross reference ("AH", on the DIVISION field) to the NEW
 PERSON file.  This new cross reference enables a limited broadcast by DIVISION. 
  
 You may add more limited broadcasts to the multiple, if you wish.
  
 Using another new field in file 4.3, you may set a limited broadcast default
 choice, which is displayed whenever someone goes to send a limited broadcast.
 51        LIMITED BROADCAST DEFAULT, [0;20]
 The post-init will set this field to DIVISION.  You may change it if you wish.
  
 The option XMKSP Edit MailMan Site Parameters is updated to include the new
 fields.
  
 Additional fixes in this patch:
 - MailMan now recognizes when a message has only 'latered' recipients.  When
 forwarding or sending messages which have only 'latered' recipients, MailMan
 did not recognize those recipients and issued an error message. This patch
 corrects that. 
  
 NOTE: This patch should be installed after hours, when user activity is at a
 minimum.  It requires Kernel patch XU*8.0*135 and MailMan patches XM*7.1*74,
 XM*7.1*94, XM*7.1*99, XM*7.1*102, XM*7.1*103, XM*7.1*104, XM*7.1*105,
 and XM*7.1*106.
 ============================================================================ 
  
 ROUTINES:
 The second line of the routine now looks like:
        ;;7.1;MailMan;**[patch list]**;Jun 02, 1994
  
               Before          After
 Name          Checksum        Checksum        Patch List
 --------------------------------------------------------------
 XMA0            573755          585506        15,36,50,107
 XMA11A          291270          295406        50,107
 XMA21          2315418         2506941        4,31,50,98,107
 XMA2R          3913497         3921855        27,50,105,107
 XMAH           1544316         1548452        5,16,50,107
 XMAH1          2172709         2176845        4,50,107
 XMAPHOST       9975581         6997854        7,14,27,36,50,91,102,107
 XMC            3216956         3221092        13,50,107
 XMD            7129791         7425316        33,50,98,103,107
 XMDF           1438292         1442428        50,104,107
 XMDIRSND       1897078         1897188        37,50,107
 XMHIG          5360885         6112149        45,50,107
 XMHIU          5960638         8160561        50,107
 XMJMR         18651915        15901868        50,107
 XMJMT         10637487         7384600        50,107
 XMR1          14522459        14522897        7,50,94,107
 XMRENT         2263450         2263514        31,50,107
 XMSMAIL        4937839         4239659        59,50,107
 XMTDL1         5047763         5049974        50,107
 XMTDO          1746764         2076668        50,107
 XMVGROUP       6303194         6851604        50,104,107
 XMVSURR        2622785         2918495        50,107
 XMVVITAE      12062054        10408258        50,74,107
 XMXADDR       18270156        14565832        50,96,101,104,107
 XMXADDR1      12136703        11262685        50,78,83,96,104,107
 XMXADDR2       6515109        11569369        50,107
 XMXADDR3       * new *         6636062        107
 XMXADDR4       * new *         7390105        107
 XMXADDRD       9742967        10214397        50,104,107
 XMXADDRG      15444713        15011724        50,99,107
 XMXBULL        5479615         5106591        50,107
 XMXMSGS1       9891647         4910024        50,107
 XMXPARM       19474825        13144486        50,96,107
 XMXREPLY       5097167         5648876        50,85,99,107
 XMXSEND       11913872        10324142        50,106,107
 XMXUTIL       10432772        10994143        40,50,107
 XMYPOSTB       * new *          483566        107
  
 * Checksums produced by CHECK^XTSUMBLD
  
 This patch introduces the following new routines:
  
 Routine      Callable at     Description
 ---------------------------------------------------------------------------
 XMXADDR3     N/A
 XMXADDR4     N/A
 XMYPOSTB     N/A
 ===========================================================================
  
 INSTALLATION:
 NOTE: This patch should be installed after hours, when user activity is at a
 minimum.  It requires Kernel patch XU*8.0*135 and MailMan patches XM*7.1*74,
 XM*7.1*94, XM*7.1*99, XM*7.1*102, XM*7.1*103, XM*7.1*104, XM*7.1*105,
 and XM*7.1*106.
 1.  DSM Sites: If any of these routines is mapped, disable mapping for the 
     affected routine(s).  
 2.  On the PackMan menu, use the 'INSTALL/CHECK MESSAGE' option.  This loads 
     the patch into a Transport Global on your system.  
 3.  You do not need to stop TaskMan, but you should stop the background
     filer.  On the Manage MailMan:Local Delivery Management menu, use the
     following option to stop the background filer:
        STOP background filer
 Are you sure you want the BACKGROUND FILERS to STOP delivering mail? NO// YES
                                                                           ===
 << Background filer will stop soon. >>
 4.  On the KIDS:Installation menu, use the following options to install the
     Transport Global:
        Verify Checksums in Transport Global
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
        Install Package(s)
  Select INSTALL NAME:    XM*7.1*107     Loaded from Distribution  <date/time>
                          ==========
  Install Questions:
  Want KIDS to INHIBIT LOGONs during the install? YES// NO
                                                        ==
  Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
                                                                        ==
  Enter the Device you want to print the Install messages.
  You can queue the install by enter a 'Q' at the device prompt.
  Enter a '^' to abort the install.
  
  DEVICE: HOME// <Do NOT queue it!>
                 ------------------
 5.  Start the background filer.
     On the Manage MailMan:Local Delivery Management menu, use the following
     option to start the background filer:
        START background filer
 << Background filer will start soon. >>
 6.  DSM Sites: After patch has installed, rebuild your map set, if necessary.
 ===========================================================================

Routine Information:
====================

Routine Name:
  - XMA2R


Routine Checksum:

Routine Name:
  - XMD


Routine Checksum:

Routine Name:
  - XMDIRSND


Routine Checksum:

Routine Name:
  - XMHIG


Routine Checksum:

Routine Name:
  - XMHIU


Routine Checksum:

Routine Name:
  - XMJMR


Routine Checksum:

Routine Name:
  - XMR1


Routine Checksum:

Routine Name:
  - XMRENT


Routine Checksum:

Routine Name:
  - XMSMAIL


Routine Checksum:

Routine Name:
  - XMTDL1


Routine Checksum:

Routine Name:
  - XMVGROUP


Routine Checksum:

Routine Name:
  - XMXADDR


Routine Checksum:

Routine Name:
  - XMXADDR1


Routine Checksum:

Routine Name:
  - XMXADDR2


Routine Checksum:

Routine Name:
  - XMXADDR3


Routine Checksum:

Routine Name:
  - XMXADDR4


Routine Checksum:

Routine Name:
  - XMXADDRD


Routine Checksum:

Routine Name:
  - XMXADDRG


Routine Checksum:

Routine Name:
  - XMXMSGS1


Routine Checksum:

Routine Name:
  - XMXREPLY


Routine Checksum:

Routine Name:
  - XMXUTIL


Routine Checksum:

Routine Name:
  - XMYPOSTB


Routine Checksum:

Routine Name:
  - XMA0


Routine Checksum:

Routine Name:
  - XMA11A


Routine Checksum:

Routine Name:
  - XMA21


Routine Checksum:

Routine Name:
  - XMAH


Routine Checksum:

Routine Name:
  - XMAH1


Routine Checksum:

Routine Name:
  - XMAPHOST


Routine Checksum:

Routine Name:
  - XMC


Routine Checksum:

Routine Name:
  - XMDF


Routine Checksum:

Routine Name:
  - XMTDO


Routine Checksum:

Routine Name:
  - XMVVITAE


Routine Checksum:

Routine Name:
  - XMXPARM


Routine Checksum:

Routine Name:
  - XMXSEND


Routine Checksum:

Routine Name:
  - XMJMT


Routine Checksum:

Routine Name:
  - XMXBULL


Routine Checksum:

Routine Name:
  - XMVSURR


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : BEUSCHEL,GARY                  Date Entered : OCT 26, 1999
Completed By: SHEPPARD,JEAN                 Date Completed: FEB 10, 2000
Released By : MROWCZYNSKI,EDWARD            Date Released : FEB 15, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
