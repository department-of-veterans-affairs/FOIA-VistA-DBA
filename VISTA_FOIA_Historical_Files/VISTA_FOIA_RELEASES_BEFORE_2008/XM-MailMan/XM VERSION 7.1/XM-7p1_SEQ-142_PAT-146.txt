$TXT Created by BEUSCHEL,GARY at MAILMAN.ISC-SF.VA.GOV  (KIDS) on MONDAY, 09/18/00 at 08:06
=============================================================================
Run Date: SEP 27, 2000                     Designation: XM*7.1*146
Package : XM - MAILMAN                         Priority: Mandatory
Version : 7.1       SEQ #142                     Status: Released
=============================================================================

Associated patches: (v)XM*7.1*108  <<= must be installed BEFORE `XM*7.1*146'
                    (v)XM*7.1*109  <<= must be installed BEFORE `XM*7.1*146'
                    (v)XM*7.1*144  <<= must be installed BEFORE `XM*7.1*146'

Subject: Search/Query Improvements

Category: 
  - Routine
  - Other
  - Enhancement (Mandatory)

Description: 
============

 Patch XM*7.1*146
  
 E3R: 3764
 Test Site: Biloxi, MS
 Let the user search the Message file for messages using the same criteria
 available when searching one's mailbox.  The user would be limited to
 messages sent to or sent by the user.
  
 NOIS: IOW-0500-42246
 E3R: 8432
 Test Site: White River Junction, VT
 Let authorized users search the Message file for messages based on the same
 search criteria one can use when one is searching for one's own messages.
 The user would be able to search every message.
 Among other uses would be the ability to follow up on EEO harassment cases
 in which the offending user harassed via MailMan messages.
  
 This patch improves the message search capability.
 - The Postmaster is now able to search the remote transmit queues.
 - You are now able to search for messages that have a certain number of
 lines of text or more.
 - You are now able to search the MESSAGE file using all the criteria
 available when searching your own mailbox.
 - Help frames have been updated, and new help frames have been added to
 reflect the changes.
 - The API LISTMSGS^XMXAPIB has been improved to incorporate the changes, too.
  
 The following entries have been added to their respective files:
  
 OUTPUT FROM WHAT FILE: 19  OPTION
 (This option has been added to the XMMGR 'Manage MailMan' menu.)
 NAME: XM SUPER SEARCH                   MENU TEXT: Super Search Message File
   TYPE: run routine                     CREATOR: BEUSCHEL,GARY
   LOCK: XM SUPER SEARCH                 PACKAGE: MAILMAN
  DESCRIPTION:   This option lets the authorized user (anyone holding the XM
  SUPER SEARCH key) search the Message file for messages meeting any number of
  criteria, no matter who sent the messages.
   
  This option should not be used lightly.  One example in which usage is
  justified would be the search for evidence in an EEO harassment case.
   
  This option should be audited to track who uses it.
   
  Every search will trigger the sending of the XM SUPER SEARCH bulletin to the
  XM SUPER SEARCH mail group.  The bulletin will record who (DUZ) conducted
  the  search and what criteria were used.  It will not record the results of
  the search.
   
  The XM SUPER SEARCH mail group must have at least two active local users in
  it  who have logged on recently.  If it doesn't, the search will not be
  performed.  Members of this mail group should be anyone whose responsibility
  it is to ensure that security is maintained and privileges are not abused.
  The mail group coordinator should be the site's Information Security Officer
  or another responsible individual.
   ROUTINE: SUPER^XMJMF
   UPPERCASE MENU TEXT: SUPER SEARCH MESSAGE FILE
  
  
 OUTPUT FROM WHAT FILE: SECURITY KEY
 NAME: XM SUPER SEARCH                   DESCRIPTIVE NAME: Search all messages
  DESCRIPTION:   This key lets the user use the option XM SUPER SEARCH, which
  performs a search for messages in the MESSAGE file based on multiple
  criteria.  This key should be given, on a time-limited basis, to trusted
  individuals who have a valid need to research messages in the MESSAGE file.
  For example, in sexual or other harassment cases, in which the harassment is
  in the form of MailMan messages.
  
  
 OUTPUT FROM WHAT FILE: 3.6  BULLETIN
 NAME: XM SUPER SEARCH                   SUBJECT: Super Search Conducted
   RETENTION DAYS: 90
  MESSAGE:   |1| conducted a Super Search of the Message file.  The criteria
  used were:
  DESCRIPTION:   Every time a super search is conducted, this bulletin is sent
  to alert those responsible for ensuring that the capability is not misused.
   
  A super search is a search of the entire Message file based on any number of
  criteria.  All messages are looked at, regardless of who sent them.
   
  This bulletin reports who performed the search and what criteria were used.
   
  This bulletin is sent to the mail group XM SUPER SEARCH.  The ISO should be
  a member of that group.
   
  See the XM SUPER SEARCH option for more information.
 PARAMETER: 1
  DESCRIPTION:   The user who conducted the Super Search.
  
  
 OUTPUT FROM WHAT FILE: 3.8  MAIL GROUP
 NAME: XM SUPER SEARCH                   TYPE: public
   ALLOW SELF ENROLLMENT?: NO
  DESCRIPTION:   This mail group is sent a bulletin whenever someone conducts
  a Super Search using the XM SUPER SEARCH option.  The bulletin tells who
  conducted the search and what search criteria were used.
   
  Members of this mail group should be anyone who ought to be notified
  whenever a Super Search is conducted.  At an absolute minimum, the site ISO
  and alternate ISO(s) should be members.  There should be enough responsible
  members of the group so that a certain level of comfort is achieved that the
  Super Searches will only be conducted for just cause.  The more people there
  are, who are aware that a Super Search has been conducted, the less likely
  it is that the capability will be abused.
   
  The site Information Security Officer should be the coordinator of this
  group.
  
  
 NOTE: This patch should be installed during off hours, when user activity
 is at a minimum.  It requires MailMan patches XM*7.1*108, XM*7.1*109,
 & XM*7.1*144.
 ============================================================================ 
  
 ROUTINES:
 The second line of the routine now looks like:
        ;;7.1;MailMan;**[patch list]**;Jun 02, 1994
  
               Before          After
 Name          Checksum        Checksum        Patch List
 -----------------------------------------------------------------
 XMJDIR         5458230         6123825        50,110,140,144,146
 XMJERR          375961          374282        50,144,146
 XMJMF         18005162         3844343        50,146
 XMJMF1         * NEW *        11694773        146
 XMJMF2         * NEW *         6206910        146
 XMJMFA         6784168         6729708        50,110,131,146
 XMJMFB        15929930        16215095        50,110,131,146
 XMJMFC         * NEW *        11137057        146
 XMJMOI        18282681        18383177        50,87,89,110,127,131,143,146
 XMXAPIG        1672216         1692175        109,146
 XMXLIST       10491222         6225911        50,108,146
 XMXLIST1      12617251        12801864        50,108,146
 XMXLIST2       * NEW *         6802380        146
 XMXPARMB       3879548         3923435        50,144,146
 XMXSEC1       12312603        12986076        50,95,110,130,131,146
 XMXSEC2       27323685        27320982        50,89,95,110
 * Checksums produced by CHECK^XTSUMBLD
  
 This patch introduces the following new routines.  They have no callable
 entry points:
 XMJMF1
 XMJMF2
 XMJMFC
 XMXLIST2
  
 This patch introduces the following new APIs:
  $$SSPRIV^XMXSEC1 - Is the user allowed to Super Search?
  $$ZSSPRIV^XMXSEC1 - Is the user allowed to Super Search?
 ===========================================================================
  
 INSTALLATION:
 NOTE: This patch should be installed during off hours, when user activity
 is at a minimum.  It requires MailMan patches XM*7.1*108, XM*7.1*109,
 & XM*7.1*144.
 1.  Users may be on the system during installation of this patch.
 2.  DSM Sites: If any of these routines is mapped, disable mapping for the 
     affected routine(s).  
 3.  On the PackMan menu, use the 'INSTALL/CHECK MESSAGE' option.  This loads 
     the patch into a Transport Global on your system.  
 4.  You do not need to stop TaskMan or the background filer.
     Users may be on the system.
 5.  On the KIDS:Installation menu, use the following options to install the
     Transport Global:
        Verify Checksums in Transport Global
        Print Transport Global
        Compare Transport Global to Current System
        Backup a Transport Global
        Install Package(s)
  Select INSTALL NAME:    XM*7.1*146    Loaded from Distribution  <date/time>
                          ==========
  Install Questions:
  
  Incoming Mail Groups:
  Enter the Coordinator for Mail Group 'XM SUPER SEARCH': <Your site's ISO>
                                                          =================
  Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// YES
                                                                    ===
  Want KIDS to INHIBIT LOGONs during the install? YES// NO
                                                        ==
  Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
                                                                        ==
  Enter the Device you want to print the Install messages.
  You can queue the install by enter a 'Q' at the device prompt.
  Enter a '^' to abort the install.
  
  DEVICE: HOME// <It's up to you.  You may queue it if you wish.>
                 ------------------------------------------------
 6.  DSM Sites: After patch has installed, rebuild your map set, if necessary.
 ===========================================================================

Routine Information:
====================

Routine Name:
  - XMJDIR


Routine Checksum:

Routine Name:
  - XMJMF


Routine Checksum:

Routine Name:
  - XMJMF1


Routine Checksum:

Routine Name:
  - XMJMF2


Routine Checksum:

Routine Name:
  - XMJMFB


Routine Checksum:

Routine Name:
  - XMJMFC


Routine Checksum:

Routine Name:
  - XMXLIST


Routine Checksum:

Routine Name:
  - XMXLIST1


Routine Checksum:

Routine Name:
  - XMXLIST2


Routine Checksum:

Routine Name:
  - XMXPARMB


Routine Checksum:

Routine Name:
  - XMXSEC1


Routine Checksum:

Routine Name:
  - XMJERR


Routine Checksum:

Routine Name:
  - XMJMFA


Routine Checksum:

Routine Name:
  - XMJMOI


Routine Checksum:

Routine Name:
  - XMXSEC2


Routine Checksum:

Routine Name:
  - XMXAPIG


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : BEUSCHEL,GARY                  Date Entered : SEP 05, 2000
Completed By: MAUNSELL,MICHAL L            Date Completed: SEP 25, 2000
Released By : GRAY,STEPHEN                  Date Released : SEP 27, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
