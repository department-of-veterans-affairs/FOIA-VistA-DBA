Released RMPR*3*80 SEQ #68
Extracted from mail message
**KIDS**:RMPR*3.0*80^

**INSTALL NAME**
RMPR*3.0*80
"BLD",4624,0)
RMPR*3.0*80^PROSTHETICS^0^3031120^y
"BLD",4624,1,0)
^^1^1^3031015^
"BLD",4624,1,1,0)
Copy CPRS Consults.
"BLD",4624,4,0)
^9.64PA^668^1
"BLD",4624,4,668,0)
668
"BLD",4624,4,668,2,0)
^9.641^668^1
"BLD",4624,4,668,2,668,0)
PROSTHETIC SUSPENSE  (File-top level)
"BLD",4624,4,668,2,668,1,0)
^9.6411^1.5^2
"BLD",4624,4,668,2,668,1,1.5,0)
PROVISIONAL DIAGNOSIS
"BLD",4624,4,668,2,668,1,9,0)
TYPE OF REQUEST
"BLD",4624,4,668,222)
y^y^p^^^^n^^n
"BLD",4624,4,668,224)

"BLD",4624,4,"APDD",668,668)

"BLD",4624,4,"APDD",668,668,1.5)

"BLD",4624,4,"APDD",668,668,9)

"BLD",4624,4,"B",668,668)

"BLD",4624,"ABPKG")
n
"BLD",4624,"KRN",0)
^9.67PA^8989.52^19
"BLD",4624,"KRN",.4,0)
.4
"BLD",4624,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",4624,"KRN",.4,"NM",1,0)
RMPR VIEW REQUEST    FILE #668^668^0
"BLD",4624,"KRN",.4,"NM","B","RMPR VIEW REQUEST    FILE #668",1)

"BLD",4624,"KRN",.401,0)
.401
"BLD",4624,"KRN",.402,0)
.402
"BLD",4624,"KRN",.403,0)
.403
"BLD",4624,"KRN",.5,0)
.5
"BLD",4624,"KRN",.84,0)
.84
"BLD",4624,"KRN",3.6,0)
3.6
"BLD",4624,"KRN",3.8,0)
3.8
"BLD",4624,"KRN",9.2,0)
9.2
"BLD",4624,"KRN",9.8,0)
9.8
"BLD",4624,"KRN",9.8,"NM",0)
^9.68A^3^3
"BLD",4624,"KRN",9.8,"NM",1,0)
RMPREOS^^0^B64197154
"BLD",4624,"KRN",9.8,"NM",2,0)
RMPREO23^^0^B47077656
"BLD",4624,"KRN",9.8,"NM",3,0)
RMPREOSA^^0^B13692945
"BLD",4624,"KRN",9.8,"NM","B","RMPREO23",2)

"BLD",4624,"KRN",9.8,"NM","B","RMPREOS",1)

"BLD",4624,"KRN",9.8,"NM","B","RMPREOSA",3)

"BLD",4624,"KRN",19,0)
19
"BLD",4624,"KRN",19.1,0)
19.1
"BLD",4624,"KRN",101,0)
101
"BLD",4624,"KRN",101,"NM",0)
^9.68A^19^19
"BLD",4624,"KRN",101,"NM",1,0)
RMPR SUSP ADD AUTO^^0
"BLD",4624,"KRN",101,"NM",2,0)
RMPR SUSP ADD CLONE^^0
"BLD",4624,"KRN",101,"NM",3,0)
RMPR SUSP ADD CLOTHING^^0
"BLD",4624,"KRN",101,"NM",4,0)
RMPR SUSP VIEW COMP^^1^
"BLD",4624,"KRN",101,"NM",5,0)
RMPR SUSP VIEW INIT ACT^^1^
"BLD",4624,"KRN",101,"NM",6,0)
RMPR SUSP VIEW OTHER^^1^
"BLD",4624,"KRN",101,"NM",7,0)
RMPR ELEC REQ^^0
"BLD",4624,"KRN",101,"NM",8,0)
RMPR 2319 DISPLAY^^0
"BLD",4624,"KRN",101,"NM",9,0)
RMPR SUSP VIEW REQ^^0
"BLD",4624,"KRN",101,"NM",10,0)
RMPR POST INIT ACTION^^0
"BLD",4624,"KRN",101,"NM",11,0)
RMPR POST OTHER NOTE^^0
"BLD",4624,"KRN",101,"NM",12,0)
RMPR POST COMPLETE NOTE^^0
"BLD",4624,"KRN",101,"NM",13,0)
RMPR SUSP ADD MANUAL^^0
"BLD",4624,"KRN",101,"NM",14,0)
RMPR SUSP EDIT MAN^^0
"BLD",4624,"KRN",101,"NM",15,0)
RMPR CHG PATIENT^^0
"BLD",4624,"KRN",101,"NM",16,0)
RMPR SUSP CANCEL^^0
"BLD",4624,"KRN",101,"NM",17,0)
RMPR DISPLAY^^0
"BLD",4624,"KRN",101,"NM",18,0)
RMPR SUSP CON^^0
"BLD",4624,"KRN",101,"NM",19,0)
RMPR SUSP FORWARD^^0
"BLD",4624,"KRN",101,"NM","B","RMPR 2319 DISPLAY",8)

"BLD",4624,"KRN",101,"NM","B","RMPR CHG PATIENT",15)

"BLD",4624,"KRN",101,"NM","B","RMPR DISPLAY",17)

"BLD",4624,"KRN",101,"NM","B","RMPR ELEC REQ",7)

"BLD",4624,"KRN",101,"NM","B","RMPR POST COMPLETE NOTE",12)

"BLD",4624,"KRN",101,"NM","B","RMPR POST INIT ACTION",10)

"BLD",4624,"KRN",101,"NM","B","RMPR POST OTHER NOTE",11)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP ADD AUTO",1)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP ADD CLONE",2)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP ADD CLOTHING",3)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP ADD MANUAL",13)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP CANCEL",16)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP CON",18)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP EDIT MAN",14)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP FORWARD",19)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP VIEW COMP",4)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP VIEW INIT ACT",5)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP VIEW OTHER",6)

"BLD",4624,"KRN",101,"NM","B","RMPR SUSP VIEW REQ",9)

"BLD",4624,"KRN",409.61,0)
409.61
"BLD",4624,"KRN",409.61,"NM",0)
^9.68A^^
"BLD",4624,"KRN",771,0)
771
"BLD",4624,"KRN",870,0)
870
"BLD",4624,"KRN",8989.51,0)
8989.51
"BLD",4624,"KRN",8989.52,0)
8989.52
"BLD",4624,"KRN",8994,0)
8994
"BLD",4624,"KRN","B",.4,.4)

"BLD",4624,"KRN","B",.401,.401)

"BLD",4624,"KRN","B",.402,.402)

"BLD",4624,"KRN","B",.403,.403)

"BLD",4624,"KRN","B",.5,.5)

"BLD",4624,"KRN","B",.84,.84)

"BLD",4624,"KRN","B",3.6,3.6)

"BLD",4624,"KRN","B",3.8,3.8)

"BLD",4624,"KRN","B",9.2,9.2)

"BLD",4624,"KRN","B",9.8,9.8)

"BLD",4624,"KRN","B",19,19)

"BLD",4624,"KRN","B",19.1,19.1)

"BLD",4624,"KRN","B",101,101)

"BLD",4624,"KRN","B",409.61,409.61)

"BLD",4624,"KRN","B",771,771)

"BLD",4624,"KRN","B",870,870)

"BLD",4624,"KRN","B",8989.51,8989.51)

"BLD",4624,"KRN","B",8989.52,8989.52)

"BLD",4624,"KRN","B",8994,8994)

"BLD",4624,"QUES",0)
^9.62^^
"BLD",4624,"REQB",0)
^9.611^2^2
"BLD",4624,"REQB",1,0)
RMPR*3.0*62^1
"BLD",4624,"REQB",2,0)
RMPR*3.0*77^1
"BLD",4624,"REQB","B","RMPR*3.0*62",1)

"BLD",4624,"REQB","B","RMPR*3.0*77",2)

"FIA",668)
PROSTHETIC SUSPENSE
"FIA",668,0)
^RMPR(668,
"FIA",668,0,0)
668ID
"FIA",668,0,1)
y^y^p^^^^n^^n
"FIA",668,0,10)

"FIA",668,0,11)

"FIA",668,0,"RLRO")

"FIA",668,0,"VR")
3.0^RMPR
"FIA",668,668)
1
"FIA",668,668,1.5)

"FIA",668,668,9)

"KRN",.4,2106,-1)
0^1
"KRN",.4,2106,0)
RMPR VIEW REQUEST^3031009.1204^@^668^^@^3031104
"KRN",.4,2106,"DXS",1,9)
X DXS(1,9.6) S DIP(304)=$G(X) S X=10,X=$E(DIP(303),DIP(304),X),Y=X,X=DIP(205),X=X_Y,Y=X,X=DIP(105),X=X_Y,Y=X,X=DIP(2),X=X_Y S D0=I(0,0)
"KRN",.4,2106,"DXS",1,9.2)
S I(0,0)=$G(D0),DIP(1)=$S($D(^RMPR(668,D0,0)):^(0),1:"") S X="SSN: ",DIP(2)=$G(X),D0=$P(DIP(1),U,2) S:'D0!'$D(^DPT(+D0,0)) D0=-1 S I(100,0)=$G(D0)
"KRN",.4,2106,"DXS",1,9.3)
X DXS(1,9.2) S DIP(102)=$S($D(^DPT(D0,0)):^(0),1:""),DIP(101)=$G(X) S X=$P(DIP(102),U,9),DIP(103)=$G(X) S X=1,DIP(104)=$G(X) S X=3,X=$E(DIP(103),DIP(104),X)
"KRN",.4,2106,"DXS",1,9.4)
X DXS(1,9.3) S X=X_"-",DIP(105)=$G(X),D0=$P(DIP(1),U,2) S:'D0!'$D(^DPT(+D0,0)) D0=-1 S I(200,0)=$G(D0),DIP(202)=$S($D(^DPT(D0,0)):^(0),1:""),DIP(201)=$G(X)
"KRN",.4,2106,"DXS",1,9.5)
X DXS(1,9.4) S X=$P(DIP(202),U,9),DIP(203)=$G(X) S X=4,DIP(204)=$G(X) S X=5,X=$E(DIP(203),DIP(204),X)_"-",DIP(205)=$G(X)
"KRN",.4,2106,"DXS",1,9.6)
X DXS(1,9.5) S D0=$P(DIP(1),U,2) S:'D0!'$D(^DPT(+D0,0)) D0=-1 S DIP(302)=$S($D(^DPT(D0,0)):^(0),1:""),DIP(301)=$G(X) S X=$P(DIP(302),U,9),DIP(303)=$G(X) S X=6
"KRN",.4,2106,"F",1)
"Order Date: ";X;C1~S DIP(1)=$S($D(^RMPR(668,D0,0)):^(0),1:"") S X=$P(DIP(1),U,1),X=$P(X,".",1) S Y=X D DT K DIP;X;d;L18;Z;"DATE(SUSPENSE DATE)"~
"KRN",.4,2106,"F",2)
S DIP(1)=$S($D(^RMPR(668,D0,0)):^(0),1:"") S X="Patient: "_$P($G(^DPT(+$P(DIP(1),U,2),0)),U) W X K DIP;C30;X;Z;""Patient: "_VETERAN"~
"KRN",.4,2106,"F",3)
X DXS(1,9) W X K DIP;C57;Z;""SSN: "_VETERAN:$E(SOCIAL SECURITY NUMBER,1,3)_"-"_VETERAN:$E(SOCIAL SECURITY NUMBER,4,5)_"-"_VETERAN:$E(SOCIAL SECURITY NUMBER,6,10)"~
"KRN",.4,2106,"F",4)
S DIP(1)=$S($D(^RMPR(668,D0,0)):^(0),1:"") S X="Requestor: "_$P($G(^VA(200,+$P(DIP(1),U,11),0)),U) W X K DIP;C1;X;Z;""Requestor: "_REQUESTOR"~
"KRN",.4,2106,"F",5)
"Suspended By: ";C30~8;X//~
"KRN",.4,2106,"F",6)
S X="-",DIP(1)=$G(X),DIP(2)=$G(X),X=$S($D(IOM):IOM,1:80) S X=X,X1=DIP(1) S %=X,X="" Q:X1=""  S $P(X,X1,%\$L(X1)+1)=X1,X=$E(X,1,%) W X K DIP;C1;X//;Z;"DUP("-",IOM)"~
"KRN",.4,2106,"F",7)
"Initial Action Date: ";C1~
"KRN",.4,2106,"F",8)
S DIP(1)=$S($D(^RMPR(668,D0,0)):^(0),1:"") S X=$P(DIP(1),U,9),X=$P(X,".",1) S Y=X D DT K DIP;X;d;L18;Z;"DATE(INITIAL ACTION DATE)"~
"KRN",.4,2106,"F",9)
"Complete Date: ";C35~5;X~
"KRN",.4,2106,"F",10)
S X="=",DIP(1)=$G(X),DIP(2)=$G(X),X=$S($D(IOM):IOM,1:80) S X=X,X1=DIP(1) S %=X,X="" Q:X1=""  S $P(X,X1,%\$L(X1)+1)=X1,X=$E(X,1,%) W X K DIP;C1;X;Z;"DUP("=",IOM)"~
"KRN",.4,2106,"F",11)
"Description of Item/Services Requested";C1~4,.01;C1;""~
"KRN",.4,2106,"F",12)
S X="-",DIP(1)=$G(X),DIP(2)=$G(X),X=$S($D(IOM):IOM,1:80) S X=X,X1=DIP(1) S %=X,X="" Q:X1=""  S $P(X,X1,%\$L(X1)+1)=X1,X=$E(X,1,%) W X K DIP;C1;X;Z;"DUP("-",IOM)"~
"KRN",.4,2106,"F",13)
"Initial Action Note: ";C1~7,.01;C1;X~
"KRN",.4,2106,"F",14)
S X="-",DIP(1)=$G(X),DIP(2)=$G(X),X=$S($D(IOM):IOM,1:80) S X=X,X1=DIP(1) S %=X,X="" Q:X1=""  S $P(X,X1,%\$L(X1)+1)=X1,X=$E(X,1,%) W X K DIP;C1;X;Z;"DUP("-",IOM)"~
"KRN",.4,2106,"F",15)
"Complete Note: ";C1~12,.01;X~
"KRN",.4,2106,"H")
View
"KRN",101,4907,-1)
0^7
"KRN",101,4907,0)
RMPR ELEC REQ^Suspense Processing^^M^^^^^^^^PROSTHETICS
"KRN",101,4907,1,0)
^101.06^1^1^3030910^^^^
"KRN",101,4907,1,1,0)
 
"KRN",101,4907,4)
25^3
"KRN",101,4907,10,0)
^101.01PA^20^20
"KRN",101,4907,10,1,0)
4908^23^13^
"KRN",101,4907,10,1,"^")
RMPR 2319 DISPLAY
"KRN",101,4907,10,2,0)
4909^VR^1^
"KRN",101,4907,10,2,"^")
RMPR SUSP VIEW REQ
"KRN",101,4907,10,7,0)
4914^PI^3^
"KRN",101,4907,10,7,"^")
RMPR POST INIT ACTION
"KRN",101,4907,10,8,0)
4915^OT^4^
"KRN",101,4907,10,8,"^")
RMPR POST OTHER NOTE
"KRN",101,4907,10,9,0)
4916^PC^2^
"KRN",101,4907,10,9,"^")
RMPR POST COMPLETE NOTE
"KRN",101,4907,10,10,0)
4918^AD^6^
"KRN",101,4907,10,10,"^")
RMPR SUSP ADD MANUAL
"KRN",101,4907,10,12,0)
4942^ED^10^
"KRN",101,4907,10,12,"^")
RMPR SUSP EDIT MAN
"KRN",101,4907,10,13,0)
4948^CG^5^
"KRN",101,4907,10,13,"^")
RMPR CHG PATIENT
"KRN",101,4907,10,14,0)
4972^CR^11^
"KRN",101,4907,10,14,"^")
RMPR SUSP CANCEL
"KRN",101,4907,10,15,0)
4975^CD^14^
"KRN",101,4907,10,15,"^")
RMPR DISPLAY
"KRN",101,4907,10,16,0)
4996^PR^15^
"KRN",101,4907,10,16,"^")
RMPR SUSP CON
"KRN",101,4907,10,17,0)
4998^FW^12^
"KRN",101,4907,10,17,"^")
RMPR SUSP FORWARD
"KRN",101,4907,10,18,0)
5580^AA^7^
"KRN",101,4907,10,18,"^")
RMPR SUSP ADD AUTO
"KRN",101,4907,10,19,0)
5581^CA^9^
"KRN",101,4907,10,19,"^")
RMPR SUSP ADD CLOTHING
"KRN",101,4907,10,20,0)
5582^CC^8^
"KRN",101,4907,10,20,"^")
RMPR SUSP ADD CLONE
"KRN",101,4907,15)

"KRN",101,4907,26)
D SHOW^VALM
"KRN",101,4907,99)
59477,29907
"KRN",101,4908,-1)
0^8
"KRN",101,4908,0)
RMPR 2319 DISPLAY^Display 2319^^A^^^^^^^^
"KRN",101,4908,10,0)
^101.01PA^1^1
"KRN",101,4908,10,1,0)
4918^AD^^
"KRN",101,4908,10,1,"^")
RMPR SUSP ADD MANUAL
"KRN",101,4908,20)
D DIS^RMPREO23
"KRN",101,4908,99)
59477,29907
"KRN",101,4909,-1)
0^9
"KRN",101,4909,0)
RMPR SUSP VIEW REQ^View Request^^A^^^^^^^^
"KRN",101,4909,1,0)
^^1^1^3000727^
"KRN",101,4909,1,1,0)
This will allow you to view the Suspense Request.
"KRN",101,4909,20)
D VIEW^RMPREO23
"KRN",101,4909,99)
59477,29907
"KRN",101,4914,-1)
0^10
"KRN",101,4914,0)
RMPR POST INIT ACTION^Post Initial Action^^A^^^^^^^^
"KRN",101,4914,1,0)
^^25^25^3000705^
"KRN",101,4914,1,1,0)
Function description
"KRN",101,4914,1,2,0)
 
"KRN",101,4914,1,3,0)
An initial action note can be posted on a suspense record.  This signifies
"KRN",101,4914,1,4,0)
that some form of action has taken place. The status changes from OPEN to
"KRN",101,4914,1,5,0)
PENDING and will remain in this status until all action is completed.
"KRN",101,4914,1,6,0)
 
"KRN",101,4914,1,7,0)
 
"KRN",101,4914,1,8,0)
 
"KRN",101,4914,1,9,0)
Steps
"KRN",101,4914,1,10,0)
 
"KRN",101,4914,1,11,0)
To post an initial action note on a consult, follow these steps: 
"KRN",101,4914,1,12,0)
 
"KRN",101,4914,1,13,0)
Step    Action
"KRN",101,4914,1,14,0)
1       At the following prompt:  Select Item(s): Next Screen//, type PI
"KRN",101,4914,1,15,0)
        to access the Post Initial Action option, and press <Enter.>
"KRN",101,4914,1,16,0)
2       The next prompt displays:  Enter a list or a range of numbers
"KRN",101,4914,1,17,0)
        (shown in parenthesis) to select a suspense record.
"KRN",101,4914,1,18,0)
3       Type the number for the record you want to post an initial action
"KRN",101,4914,1,19,0)
        note, and press <Enter.>
"KRN",101,4914,1,20,0)
4       At the next prompt, Edit?  No//, type a Y for Yes to create a new
"KRN",101,4914,1,21,0)
        note.
"KRN",101,4914,1,22,0)
5       The text editor displays for you to type a free-text note.  Press
"KRN",101,4914,1,23,0)
        the "Num Lock" key and the "E" key to save the data and exit out
"KRN",101,4914,1,24,0)
        of the text editor.  You will then return to continue processing
"KRN",101,4914,1,25,0)
        suspense records.
"KRN",101,4914,20)
D IACT^RMPREO23
"KRN",101,4914,99)
59477,29907
"KRN",101,4914,101.01)

"KRN",101,4915,-1)
0^11
"KRN",101,4915,0)
RMPR POST OTHER NOTE^Post Other^^A^^^^^^^^
"KRN",101,4915,1,0)
^^23^23^3000705^
"KRN",101,4915,1,1,0)
Function description
"KRN",101,4915,1,2,0)
 
"KRN",101,4915,1,3,0)
Using the Post Other Note (OT) option, an additional note can be posted on
"KRN",101,4915,1,4,0)
a request to signify that some action has taken place after the initial
"KRN",101,4915,1,5,0)
action. The status remains PENDING until the order is complete.
"KRN",101,4915,1,6,0)
 
"KRN",101,4915,1,7,0)
 
"KRN",101,4915,1,8,0)
 
"KRN",101,4915,1,9,0)
Steps
"KRN",101,4915,1,10,0)
 
"KRN",101,4915,1,11,0)
To post an additional note to the suspense order, follow these steps:
"KRN",101,4915,1,12,0)
 
"KRN",101,4915,1,13,0)
Step    Action
"KRN",101,4915,1,14,0)
1       At the Select Item(s): Next Screen//, type OT to access the Post
"KRN",101,4915,1,15,0)
        Other Note option, and press <Enter.>
"KRN",101,4915,1,16,0)
2       The next prompt displays:  Enter a list or a range of numbers
"KRN",101,4915,1,17,0)
        (shown in parenthesis) to select a suspense record.
"KRN",101,4915,1,18,0)
3       At the Edit? NO// prompt, type a Y for Yes to edit the note on the
"KRN",101,4915,1,19,0)
        suspense record.  The text editor displays for you to type a
"KRN",101,4915,1,20,0)
        free-text note
"KRN",101,4915,1,21,0)
4       Press the "Num Lock" key and the "E" key to exit out of the text
"KRN",101,4915,1,22,0)
        editor, save the text, and return to continue processing suspense
"KRN",101,4915,1,23,0)
        records.
"KRN",101,4915,20)
D OACT^RMPREO23
"KRN",101,4915,99)
59477,29907
"KRN",101,4916,-1)
0^12
"KRN",101,4916,0)
RMPR POST COMPLETE NOTE^Post Complete^^A^^^^^^^^
"KRN",101,4916,1,0)
^^26^26^3000705^
"KRN",101,4916,1,1,0)
Function description
"KRN",101,4916,1,2,0)
 
"KRN",101,4916,1,3,0)
A complete note can be posted when all action has taken place for a
"KRN",101,4916,1,4,0)
request for a Prosthetic item or service. When a complete note is posted
"KRN",101,4916,1,5,0)
the status on the suspense record changes from PENDING
"KRN",101,4916,1,6,0)
(if action has previously taken place on the request) to CLOSED.
"KRN",101,4916,1,7,0)
 
"KRN",101,4916,1,8,0)
 
"KRN",101,4916,1,9,0)
 
"KRN",101,4916,1,10,0)
Steps  
"KRN",101,4916,1,11,0)
 
"KRN",101,4916,1,12,0)
To post a complete note, follow these steps:
"KRN",101,4916,1,13,0)
 
"KRN",101,4916,1,14,0)
Step    Action
"KRN",101,4916,1,15,0)
1       At the Select Item(s): Next Screen//, type PC to access the Post
"KRN",101,4916,1,16,0)
        Complete Note option, and press <Enter.>
"KRN",101,4916,1,17,0)
2       The next prompt displays:  Enter a list or a range of numbers
"KRN",101,4916,1,18,0)
        (shown in parenthesis) to select a suspense record.
"KRN",101,4916,1,19,0)
3       Type the number for the record you want to view, and press
"KRN",101,4916,1,20,0)
        <Enter.>
"KRN",101,4916,1,21,0)
4       At the Edit? NO// prompt, type a Y for Yes to edit the note on the
"KRN",101,4916,1,22,0)
        suspense record.  The text editor displays for you to type a
"KRN",101,4916,1,23,0)
        free-text note, and the note will be complete with a status of
"KRN",101,4916,1,24,0)
        CLOSED.
"KRN",101,4916,1,25,0)
5       Press the Num Lock key and the "E" key to exit out of the text
"KRN",101,4916,1,26,0)
        editor and return to continue processing suspense records.
"KRN",101,4916,20)
D CACT^RMPREO23
"KRN",101,4916,99)
59477,29907
"KRN",101,4918,-1)
0^13
"KRN",101,4918,0)
RMPR SUSP ADD MANUAL^Add Manual^^A^^^^^^^^PROSTHETICS
"KRN",101,4918,1,0)
^^22^22^3000705^
"KRN",101,4918,1,1,0)
Function description
"KRN",101,4918,1,2,0)
 
"KRN",101,4918,1,3,0)
A manual suspense record can be added to Prosthetics for a request for an
"KRN",101,4918,1,4,0)
item or service.
"KRN",101,4918,1,5,0)
 
"KRN",101,4918,1,6,0)
 
"KRN",101,4918,1,7,0)
 
"KRN",101,4918,1,8,0)
Steps
"KRN",101,4918,1,9,0)
 
"KRN",101,4918,1,10,0)
To add a manual suspense, follow these steps:
"KRN",101,4918,1,11,0)
 
"KRN",101,4918,1,12,0)
Step    Action
"KRN",101,4918,1,13,0)
1       At the Select Item(s): Next Screen//, type AD, and press <Enter.>
"KRN",101,4918,1,14,0)
2       At the PROSTHETIC SUSPENSE DATE RX WRITTEN, you can enter T for
"KRN",101,4918,1,15,0)
        the current date or T - # (number of days the request was actually
"KRN",101,4918,1,16,0)
        made), and press <Enter.>.
"KRN",101,4918,1,17,0)
3       At the Requestor prompt, type the physician name, and press
"KRN",101,4918,1,18,0)
        <Enter.>
"KRN",101,4918,1,19,0)
4       At the Edit? NO// prompt, type Y for Yes to edit the note.
"KRN",101,4918,1,20,0)
5       Type a free-text note in the text editor.
"KRN",101,4918,1,21,0)
6       Press the "Num Lock" key and the "E" keys simultaneously to exit
"KRN",101,4918,1,22,0)
        the text editor.
"KRN",101,4918,20)
D AMAN^RMPREO23
"KRN",101,4918,99)
59477,29907
"KRN",101,4942,-1)
0^14
"KRN",101,4942,0)
RMPR SUSP EDIT MAN^Edit Suspense^^A^^^^^^^^PROSTHETICS
"KRN",101,4942,1,0)
^^41^41^3000705^
"KRN",101,4942,1,1,0)
Function description
"KRN",101,4942,1,2,0)
 
"KRN",101,4942,1,3,0)
This option is used to edit a manual Suspense record, not a
"KRN",101,4942,1,4,0)
CPRS electronic record for a patient. The following information for a
"KRN",101,4942,1,5,0)
suspense record can be edited:
"KRN",101,4942,1,6,0)
 
"KRN",101,4942,1,7,0)
  Station
"KRN",101,4942,1,8,0)
  Veteran Suspense form
"KRN",101,4942,1,9,0)
  Requestor
"KRN",101,4942,1,10,0)
  Description of item/services.
"KRN",101,4942,1,11,0)
 
"KRN",101,4942,1,12,0)
 
"KRN",101,4942,1,13,0)
 
"KRN",101,4942,1,14,0)
Steps
"KRN",101,4942,1,15,0)
 
"KRN",101,4942,1,16,0)
To edit a manual suspense, follow these steps:
"KRN",101,4942,1,17,0)
 
"KRN",101,4942,1,18,0)
Step    Action
"KRN",101,4942,1,19,0)
1       At the Select Item(s): Next Screen// prompt, type ED for the Edit
"KRN",101,4942,1,20,0)
        Manual Suspense option, and press <Enter.>  
"KRN",101,4942,1,21,0)
 
"KRN",101,4942,1,22,0)
        Note: If no changes are required, press <Enter> at the // prompt
"KRN",101,4942,1,23,0)
        to bypass the editing option.
"KRN",101,4942,1,24,0)
2       Type a number (from the list shown) to select an order, and press
"KRN",101,4942,1,25,0)
        <Enter.>
"KRN",101,4942,1,26,0)
3       At the STATION:  HINES, IL// prompt, press <Enter> or change the
"KRN",101,4942,1,27,0)
        station.
"KRN",101,4942,1,28,0)
4       At the VETERAN prompt, press<Enter> if the correct veteran name is
"KRN",101,4942,1,29,0)
        shown or enter the correct name.
"KRN",101,4942,1,30,0)
5       At the SUSPENSE FORM prompt, press <Enter> to accept the default
"KRN",101,4942,1,31,0)
        option.
"KRN",101,4942,1,32,0)
6       At the REQUESTOR prompt, press <Enter> to accept the requestor
"KRN",101,4942,1,33,0)
        shown or enter the correct requestor.
"KRN",101,4942,1,34,0)
7       At the DESCRIPTION OF ITEM/SERVICES: prompt, press <Enter> to
"KRN",101,4942,1,35,0)
        accept the description shown.
"KRN",101,4942,1,36,0)
8       At the Edit? NO// prompt, type a Y for Yes to edit the
"KRN",101,4942,1,37,0)
        description, and press <Enter.>
"KRN",101,4942,1,38,0)
9       In the text editor, revise the information as needed.  
"KRN",101,4942,1,39,0)
10      When complete, press the "Num Lock" key + "E" key to exit out of
"KRN",101,4942,1,40,0)
        the text editor, save the data, and return to the Suspense
"KRN",101,4942,1,41,0)
        Processing list.
"KRN",101,4942,20)
D EMAN^RMPREO23
"KRN",101,4942,99)
59477,29907
"KRN",101,4948,-1)
0^15
"KRN",101,4948,0)
RMPR CHG PATIENT^Change Patient^^A^^^^^^^^
"KRN",101,4948,10,0)
^101.01PA^1^1
"KRN",101,4948,10,1,0)
4918^AD^^
"KRN",101,4948,10,1,"^")
RMPR SUSP ADD MANUAL
"KRN",101,4948,20)
D CHG^RMPREO23
"KRN",101,4948,99)
59477,29907
"KRN",101,4972,-1)
0^16
"KRN",101,4972,0)
RMPR SUSP CANCEL^Cancel Request^^A^^^^^^^^
"KRN",101,4972,1,0)
^^22^22^3000705^
"KRN",101,4972,1,1,0)
Function description   
"KRN",101,4972,1,2,0)
 
"KRN",101,4972,1,3,0)
Manually entered orders can be canceled through the Cancel Request (CR)
"KRN",101,4972,1,4,0)
option.
"KRN",101,4972,1,5,0)
Orders entered electronically (through CPRS) into Prosthetics can be
"KRN",101,4972,1,6,0)
denied or forwarded only.
"KRN",101,4972,1,7,0)
 
"KRN",101,4972,1,8,0)
 
"KRN",101,4972,1,9,0)
 
"KRN",101,4972,1,10,0)
Steps
"KRN",101,4972,1,11,0)
 
"KRN",101,4972,1,12,0)
To cancel a request, follow these steps:
"KRN",101,4972,1,13,0)
 
"KRN",101,4972,1,14,0)
Step    Action
"KRN",101,4972,1,15,0)
1       At the Select Item(s): Next Screen// prompt, type CR for the
"KRN",101,4972,1,16,0)
        Cancel Request option, and press <Enter.>
"KRN",101,4972,1,17,0)
2       Select the record in the list to be canceled (indicated within
"KRN",101,4972,1,18,0)
        parenthesis), and press <Enter.>
"KRN",101,4972,1,19,0)
3       Enter the "Type" of the request or type two question marks to
"KRN",101,4972,1,20,0)
        display the available options.
"KRN",101,4972,1,21,0)
4       After selecting an option from the list, press <Enter,> and the
"KRN",101,4972,1,22,0)
        suspense record will be deleted/canceled.
"KRN",101,4972,10,0)
^101.01PA^1^1
"KRN",101,4972,10,1,0)
4918^AD^^
"KRN",101,4972,10,1,"^")
RMPR SUSP ADD MANUAL
"KRN",101,4972,20)
D CANCEL^RMPREO23
"KRN",101,4972,99)
59477,29907
"KRN",101,4975,-1)
0^17
"KRN",101,4975,0)
RMPR DISPLAY^CPRS Display^^A^^^^^^^^
"KRN",101,4975,1,0)
^^1^1^3000615^
"KRN",101,4975,1,1,0)
Display CPRS Consult Request with all comments and notes.
"KRN",101,4975,10,0)
^101.01PA^^0
"KRN",101,4975,20)
D DDISP^RMPREO23
"KRN",101,4975,99)
59477,29907
"KRN",101,4996,-1)
0^18
"KRN",101,4996,0)
RMPR SUSP CON^Print Consult^^A^^^^^^^^
"KRN",101,4996,1,0)
^^16^16^3000705^
"KRN",101,4996,1,1,0)
Function description
"KRN",101,4996,1,2,0)
 
"KRN",101,4996,1,3,0)
Print Consult (PR) is used to print a consult or view a consult on a
"KRN",101,4996,1,4,0)
terminal screen.
"KRN",101,4996,1,5,0)
 
"KRN",101,4996,1,6,0)
 
"KRN",101,4996,1,7,0)
 
"KRN",101,4996,1,8,0)
Steps   To print a consult, follow these steps:
"KRN",101,4996,1,9,0)
 
"KRN",101,4996,1,10,0)
Step    Action
"KRN",101,4996,1,11,0)
1       At the Select Item(s): Next Screen// prompt, type PR for the Print
"KRN",101,4996,1,12,0)
        Consult option, and press <Enter.>
"KRN",101,4996,1,13,0)
2       Select the suspense record in the list to be printed (indicated
"KRN",101,4996,1,14,0)
        within parenthesis), and press <Enter.>
"KRN",101,4996,1,15,0)
3       At the Chart Copy (Y/N)? Y// prompt, type NO, and press <Enter>.
"KRN",101,4996,1,16,0)
4       At the DEVICE: HOME// prompt, press <Enter> to print the consult.
"KRN",101,4996,10,0)
^101.01PA^^0
"KRN",101,4996,20)
D PDISP^RMPREO23
"KRN",101,4996,99)
59477,29907
"KRN",101,4998,-1)
0^19
"KRN",101,4998,0)
RMPR SUSP FORWARD^Forward Consult^^A^^^^^^^^
"KRN",101,4998,1,0)
^^31^31^3000705^
"KRN",101,4998,1,1,0)
Function description
"KRN",101,4998,1,2,0)
 
"KRN",101,4998,1,3,0)
If an order is made through CPRS and sent electronically to Prosthetics,
"KRN",101,4998,1,4,0)
it can then be forwarded, but not cancelled. 
"KRN",101,4998,1,5,0)
 
"KRN",101,4998,1,6,0)
If an order is forwarded then a prompt to enter the service the
"KRN",101,4998,1,7,0)
order is being forwarded to will be invoked.
"KRN",101,4998,1,8,0)
The status changes from OPEN to CLOSED in the Suspense list when an order
"KRN",101,4998,1,9,0)
has been forwarded.  
"KRN",101,4998,1,10,0)
 
"KRN",101,4998,1,11,0)
Note:  If an order is forwarded to Rehab for a patient to be evaluated,
"KRN",101,4998,1,12,0)
then the order may be resent to Prosthetics after that for a request for
"KRN",101,4998,1,13,0)
item(s) or service.
"KRN",101,4998,1,14,0)
 
"KRN",101,4998,1,15,0)
 
"KRN",101,4998,1,16,0)
 
"KRN",101,4998,1,17,0)
Steps   To forward a CPRS order, follow these steps:
"KRN",101,4998,1,18,0)
 
"KRN",101,4998,1,19,0)
Step    Action
"KRN",101,4998,1,20,0)
1       At the Select Item(s): Next Screen// prompt, type FW for the
"KRN",101,4998,1,21,0)
        Forward Consult option, and press <Enter.>
"KRN",101,4998,1,22,0)
2       Type a number (from the list shown) to select an order, and press
"KRN",101,4998,1,23,0)
        <Enter.>
"KRN",101,4998,1,24,0)
3       At the Consult Request Service prompt, enter the service where the
"KRN",101,4998,1,25,0)
        consult will be forwarded.
"KRN",101,4998,1,26,0)
4       At the Edit? NO// prompt, type YES to enter a free-text Completion
"KRN",101,4998,1,27,0)
        Note.
"KRN",101,4998,1,28,0)
5       In the text editor, revise the information as needed.  
"KRN",101,4998,1,29,0)
6       When complete, press the "Num Lock" key + "E" key to exit out of
"KRN",101,4998,1,30,0)
        the text editor, save the data, and return to the Suspense
"KRN",101,4998,1,31,0)
        Processing list.
"KRN",101,4998,20)
D FORW^RMPREO23
"KRN",101,4998,99)
59477,29907
"KRN",101,5580,-1)
0^1
"KRN",101,5580,0)
RMPR SUSP ADD AUTO^Auto Adaptive^^A^^^^^^^^PROSTHETICS
"KRN",101,5580,1,0)
^101.06^22^22^3030904^^
"KRN",101,5580,1,1,0)
Function description
"KRN",101,5580,1,2,0)
 
"KRN",101,5580,1,3,0)
A manual suspense record can be added to Prosthetics for a request for an
"KRN",101,5580,1,4,0)
item or service.
"KRN",101,5580,1,5,0)
 
"KRN",101,5580,1,6,0)
 
"KRN",101,5580,1,7,0)
 
"KRN",101,5580,1,8,0)
Steps
"KRN",101,5580,1,9,0)
 
"KRN",101,5580,1,10,0)
To add a manual suspense, follow these steps:
"KRN",101,5580,1,11,0)
 
"KRN",101,5580,1,12,0)
Step    Action
"KRN",101,5580,1,13,0)
1       At the Select Item(s): Next Screen//, type AD, and press <Enter.>
"KRN",101,5580,1,14,0)
2       At the PROSTHETIC SUSPENSE DATE RX WRITTEN, you can enter T for
"KRN",101,5580,1,15,0)
        the current date or T - # (number of days the request was actually
"KRN",101,5580,1,16,0)
        made), and press <Enter.>.
"KRN",101,5580,1,17,0)
3       At the Requestor prompt, type the physician name, and press
"KRN",101,5580,1,18,0)
        <Enter.>
"KRN",101,5580,1,19,0)
4       At the Edit? NO// prompt, type Y for Yes to edit the note.
"KRN",101,5580,1,20,0)
5       Type a free-text note in the text editor.
"KRN",101,5580,1,21,0)
6       Press the "Num Lock" key and the "E" keys simultaneously to exit
"KRN",101,5580,1,22,0)
        the text editor.
"KRN",101,5580,20)
D AAUTO^RMPREO23
"KRN",101,5580,99)
59477,29907
"KRN",101,5581,-1)
0^3
"KRN",101,5581,0)
RMPR SUSP ADD CLOTHING^Clothing Allowance^^A^^^^^^^^PROSTHETICS
"KRN",101,5581,1,0)
^101.06^22^22^3030904^^^
"KRN",101,5581,1,1,0)
Function description
"KRN",101,5581,1,2,0)
 
"KRN",101,5581,1,3,0)
A manual suspense record can be added to Prosthetics for a request for an
"KRN",101,5581,1,4,0)
item or service.
"KRN",101,5581,1,5,0)
 
"KRN",101,5581,1,6,0)
 
"KRN",101,5581,1,7,0)
 
"KRN",101,5581,1,8,0)
Steps
"KRN",101,5581,1,9,0)
 
"KRN",101,5581,1,10,0)
To add a manual suspense, follow these steps:
"KRN",101,5581,1,11,0)
 
"KRN",101,5581,1,12,0)
Step    Action
"KRN",101,5581,1,13,0)
1       At the Select Item(s): Next Screen//, type AD, and press <Enter.>
"KRN",101,5581,1,14,0)
2       At the PROSTHETIC SUSPENSE DATE RX WRITTEN, you can enter T for
"KRN",101,5581,1,15,0)
        the current date or T - # (number of days the request was actually
"KRN",101,5581,1,16,0)
        made), and press <Enter.>.
"KRN",101,5581,1,17,0)
3       At the Requestor prompt, type the physician name, and press
"KRN",101,5581,1,18,0)
        <Enter.>
"KRN",101,5581,1,19,0)
4       At the Edit? NO// prompt, type Y for Yes to edit the note.
"KRN",101,5581,1,20,0)
5       Type a free-text note in the text editor.
"KRN",101,5581,1,21,0)
6       Press the "Num Lock" key and the "E" keys simultaneously to exit
"KRN",101,5581,1,22,0)
        the text editor.
"KRN",101,5581,20)
D ACLO^RMPREO23
"KRN",101,5581,99)
59477,29907
"KRN",101,5582,-1)
0^2
"KRN",101,5582,0)
RMPR SUSP ADD CLONE^Clone CPRS^^A^^^^^^^^PROSTHETICS
"KRN",101,5582,1,0)
^101.06^22^22^3030904^^
"KRN",101,5582,1,1,0)
Function description
"KRN",101,5582,1,2,0)
 
"KRN",101,5582,1,3,0)
A manual suspense record can be added to Prosthetics for a request for an
"KRN",101,5582,1,4,0)
item or service.
"KRN",101,5582,1,5,0)
 
"KRN",101,5582,1,6,0)
 
"KRN",101,5582,1,7,0)
 
"KRN",101,5582,1,8,0)
Steps
"KRN",101,5582,1,9,0)
 
"KRN",101,5582,1,10,0)
To add a manual suspense, follow these steps:
"KRN",101,5582,1,11,0)
 
"KRN",101,5582,1,12,0)
Step    Action
"KRN",101,5582,1,13,0)
1       At the Select Item(s): Next Screen//, type AD, and press <Enter.>
"KRN",101,5582,1,14,0)
2       At the PROSTHETIC SUSPENSE DATE RX WRITTEN, you can enter T for
"KRN",101,5582,1,15,0)
        the current date or T - # (number of days the request was actually
"KRN",101,5582,1,16,0)
        made), and press <Enter.>.
"KRN",101,5582,1,17,0)
3       At the Requestor prompt, type the physician name, and press
"KRN",101,5582,1,18,0)
        <Enter.>
"KRN",101,5582,1,19,0)
4       At the Edit? NO// prompt, type Y for Yes to edit the note.
"KRN",101,5582,1,20,0)
5       Type a free-text note in the text editor.
"KRN",101,5582,1,21,0)
6       Press the "Num Lock" key and the "E" keys simultaneously to exit
"KRN",101,5582,1,22,0)
        the text editor.
"KRN",101,5582,20)
D CLONE^RMPREO23
"KRN",101,5582,99)
59477,29907
"KRN",101,5647,-1)
1^4
"KRN",101,5647,0)
RMPR SUSP VIEW COMP
"KRN",101,5648,-1)
1^5
"KRN",101,5648,0)
RMPR SUSP VIEW INIT ACT
"KRN",101,5649,-1)
1^6
"KRN",101,5649,0)
RMPR SUSP VIEW OTHER
"MBREQ")
0
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"PKG",101,-1)
1^1
"PKG",101,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",101,20,0)
^9.402P^^
"PKG",101,22,0)
^9.49I^1^1
"PKG",101,22,1,0)
3.0^2960209^2960214
"PKG",101,22,1,"PAH",1,0)
80^3031120^552
"PKG",101,22,1,"PAH",1,1,0)
^^1^1^3031120
"PKG",101,22,1,"PAH",1,1,1,0)
Copy CPRS Consults.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","RMPREO23")
0^2^B47077656
"RTN","RMPREO23",1,0)
RMPREO23 ;HINES/HNC ;suspense processing display protocols ;10/9/2003
"RTN","RMPREO23",2,0)
 ;;3.0;PROSTHETICS;**45,55,62,77,80**;Feb 09, 1996
"RTN","RMPREO23",3,0)
 ; RVD 1/16/01 #62 -added a selected range for linked suspense
"RTN","RMPREO23",4,0)
 ;                  for initial, post other and complete action only.
"RTN","RMPREO23",5,0)
 ;RVD patch #77 - check for ^tmp global and XRMPRDFN variable
"RTN","RMPREO23",6,0)
 Q
"RTN","RMPREO23",7,0)
DIS ;display 2319 action
"RTN","RMPREO23",8,0)
 S RMPRBAC1=1
"RTN","RMPREO23",9,0)
 D FULL^VALM1
"RTN","RMPREO23",10,0)
 S XRMPRDFN=RMPRDFN
"RTN","RMPREO23",11,0)
 D ^RMPRPAT
"RTN","RMPREO23",12,0)
 K RMPRBAC1,RMPRBACK
"RTN","RMPREO23",13,0)
 S VALMBCK="R"
"RTN","RMPREO23",14,0)
 Q:'$D(XRMPRDFN)
"RTN","RMPREO23",15,0)
 S (RMPRDFN,DFN)=XRMPRDFN D DEM^VADPT
"RTN","RMPREO23",16,0)
 S RMPRNAM=$P(VADM(1),U,1)
"RTN","RMPREO23",17,0)
 S RMPRDOB=$P(VADM(3),U,1)
"RTN","RMPREO23",18,0)
 S RMPRSSN=$P(VADM(2),U,1)
"RTN","RMPREO23",19,0)
 K VADM,XRMPRDFN
"RTN","RMPREO23",20,0)
 Q
"RTN","RMPREO23",21,0)
 ;
"RTN","RMPREO23",22,0)
CHG ;change patient
"RTN","RMPREO23",23,0)
 D FULL^VALM1
"RTN","RMPREO23",24,0)
 S XRMPRDFN=RMPRDFN
"RTN","RMPREO23",25,0)
 D GETPAT^RMPRUTIL
"RTN","RMPREO23",26,0)
 I '$D(RMPRDFN) S RMPRDFN=XRMPRDFN
"RTN","RMPREO23",27,0)
 D INIT^RMPREO
"RTN","RMPREO23",28,0)
 S VALMBCK="R"
"RTN","RMPREO23",29,0)
 Q
"RTN","RMPREO23",30,0)
CANCEL ;cancel suspense
"RTN","RMPREO23",31,0)
 D FULL^VALM1
"RTN","RMPREO23",32,0)
 D NUM^RMPREOU
"RTN","RMPREO23",33,0)
 S RMPREOY=Y
"RTN","RMPREO23",34,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D CANCEL^RMPREOS
"RTN","RMPREO23",35,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",36,0)
 D INIT^RMPREO
"RTN","RMPREO23",37,0)
 S VALMBCK="R"
"RTN","RMPREO23",38,0)
 Q
"RTN","RMPREO23",39,0)
VIEW ;view consult request
"RTN","RMPREO23",40,0)
 N YY,DA,FLDS,DIC
"RTN","RMPREO23",41,0)
 D FULL^VALM1
"RTN","RMPREO23",42,0)
 D NUM^RMPREOU
"RTN","RMPREO23",43,0)
 I Y="" S VALMBCK="R"
"RTN","RMPREO23",44,0)
 ;
"RTN","RMPREO23",45,0)
 S RN=1,XDA=""
"RTN","RMPREO23",46,0)
 S RMPREOY=Y
"RTN","RMPREO23",47,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  D VIEWP
"RTN","RMPREO23",48,0)
 K RMPREOY,DUOUT
"RTN","RMPREO23",49,0)
 S VALMBCK="R"
"RTN","RMPREO23",50,0)
 Q
"RTN","RMPREO23",51,0)
VIEWP ;
"RTN","RMPREO23",52,0)
 ;
"RTN","RMPREO23",53,0)
 Q:'$D(^TMP($J,"RMPREOEE",XDA,0))
"RTN","RMPREO23",54,0)
 S DA=^TMP($J,"RMPREOEE",XDA,0)
"RTN","RMPREO23",55,0)
 S L=0
"RTN","RMPREO23",56,0)
 S DIC="^RMPR(668,",FLDS="[RMPR VIEW REQUEST]"
"RTN","RMPREO23",57,0)
 S BY="@NUMBER",(FR,TO)=DA
"RTN","RMPREO23",58,0)
 ;prompt for device
"RTN","RMPREO23",59,0)
 ;S IOP="HOME"
"RTN","RMPREO23",60,0)
 D EN1^DIP
"RTN","RMPREO23",61,0)
 N DIR S DIR(0)="E" D ^DIR
"RTN","RMPREO23",62,0)
 W @IOF
"RTN","RMPREO23",63,0)
 S DA=^TMP($J,"RMPREOEE",XDA,0)
"RTN","RMPREO23",64,0)
 D VALL^RMPREO24(DA,.L) Q:L="^"
"RTN","RMPREO23",65,0)
 Q
"RTN","RMPREO23",66,0)
 ;
"RTN","RMPREO23",67,0)
PDISP ;print consultaton sheet
"RTN","RMPREO23",68,0)
 D NUM^RMPREOU
"RTN","RMPREO23",69,0)
 D FULL^VALM1
"RTN","RMPREO23",70,0)
 S RMPREOY=Y
"RTN","RMPREO23",71,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D PDISPA
"RTN","RMPREO23",72,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",73,0)
 D INIT^RMPREO
"RTN","RMPREO23",74,0)
 S VALMBCK="R"
"RTN","RMPREO23",75,0)
 Q
"RTN","RMPREO23",76,0)
PDISPA ;call consult api
"RTN","RMPREO23",77,0)
 ;pass DA ien to 668
"RTN","RMPREO23",78,0)
 D ENP^RMPREPDT
"RTN","RMPREO23",79,0)
 Q
"RTN","RMPREO23",80,0)
DDISP ;detail display
"RTN","RMPREO23",81,0)
 D NUM^RMPREOU
"RTN","RMPREO23",82,0)
 D FULL^VALM1
"RTN","RMPREO23",83,0)
 S RMPREOY=Y
"RTN","RMPREO23",84,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D DDISPA
"RTN","RMPREO23",85,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",86,0)
 D INIT^RMPREO
"RTN","RMPREO23",87,0)
 S VALMBCK="R"
"RTN","RMPREO23",88,0)
 Q
"RTN","RMPREO23",89,0)
DDISPA ;call list template from listmanager
"RTN","RMPREO23",90,0)
 ;pass DA ien to file 668
"RTN","RMPREO23",91,0)
 D EN^RMPREPDT
"RTN","RMPREO23",92,0)
 Q
"RTN","RMPREO23",93,0)
VIEWIA ;view initial action note
"RTN","RMPREO23",94,0)
 N YY,DIC,BY,FLDS,FR,TO,DA
"RTN","RMPREO23",95,0)
 D NUM^RMPREOU
"RTN","RMPREO23",96,0)
 D FULL^VALM1
"RTN","RMPREO23",97,0)
 ;
"RTN","RMPREO23",98,0)
 S RMPREOY=Y
"RTN","RMPREO23",99,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D VIEWIAP
"RTN","RMPREO23",100,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",101,0)
 S VALMBCK="R"
"RTN","RMPREO23",102,0)
 Q
"RTN","RMPREO23",103,0)
VIEWIAP ;loop
"RTN","RMPREO23",104,0)
 S L=0
"RTN","RMPREO23",105,0)
 S DIC="^RMPR(668,",FLDS="[RMPR VIEW INITIAL ACTION]"
"RTN","RMPREO23",106,0)
 S BY="@NUMBER",(FR,TO)=DA
"RTN","RMPREO23",107,0)
 S IOP="HOME"
"RTN","RMPREO23",108,0)
 W @IOF
"RTN","RMPREO23",109,0)
 D EN1^DIP
"RTN","RMPREO23",110,0)
 N DIR S DIR(0)="E" D ^DIR
"RTN","RMPREO23",111,0)
 Q
"RTN","RMPREO23",112,0)
 ;
"RTN","RMPREO23",113,0)
VIEWC ;view complete note
"RTN","RMPREO23",114,0)
 ;
"RTN","RMPREO23",115,0)
 N YY,DIC,BY,FLDS,FR,TO,DA
"RTN","RMPREO23",116,0)
 D NUM^RMPREOU
"RTN","RMPREO23",117,0)
 D FULL^VALM1
"RTN","RMPREO23",118,0)
 ;
"RTN","RMPREO23",119,0)
 S RMPREOY=Y
"RTN","RMPREO23",120,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D VIEWCP
"RTN","RMPREO23",121,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",122,0)
 S VALMBCK="R"
"RTN","RMPREO23",123,0)
 Q
"RTN","RMPREO23",124,0)
VIEWCP ;loop
"RTN","RMPREO23",125,0)
 S L=0
"RTN","RMPREO23",126,0)
 S DIC="^RMPR(668,",FLDS="[RMPR VIEW COMP NOTE]"
"RTN","RMPREO23",127,0)
 S BY="@NUMBER",(FR,TO)=DA
"RTN","RMPREO23",128,0)
 ;should we ask device?
"RTN","RMPREO23",129,0)
 ;S IOP="HOME"
"RTN","RMPREO23",130,0)
 W @IOF
"RTN","RMPREO23",131,0)
 D EN1^DIP
"RTN","RMPREO23",132,0)
 N DIR S DIR(0)="E" D ^DIR
"RTN","RMPREO23",133,0)
 Q
"RTN","RMPREO23",134,0)
 ;
"RTN","RMPREO23",135,0)
 ;
"RTN","RMPREO23",136,0)
VIEWO ;view other action notes
"RTN","RMPREO23",137,0)
 N YY,DIC,BY,FLDS,FR,TO,DA
"RTN","RMPREO23",138,0)
 D NUM^RMPREOU
"RTN","RMPREO23",139,0)
 D FULL^VALM1
"RTN","RMPREO23",140,0)
 S RMPREOY=Y
"RTN","RMPREO23",141,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D VIEWOP
"RTN","RMPREO23",142,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",143,0)
 S VALMBCK="R"
"RTN","RMPREO23",144,0)
 Q
"RTN","RMPREO23",145,0)
VIEWOP ;loop
"RTN","RMPREO23",146,0)
 S L=0
"RTN","RMPREO23",147,0)
 S DIC="^RMPR(668,",FLDS="[RMPR OACT NOTE]"
"RTN","RMPREO23",148,0)
 S BY="@NUMBER",(FR,TO)=DA
"RTN","RMPREO23",149,0)
 S IOP="HOME"
"RTN","RMPREO23",150,0)
 W @IOF
"RTN","RMPREO23",151,0)
 D EN1^DIP
"RTN","RMPREO23",152,0)
 N DIR S DIR(0)="E" D ^DIR
"RTN","RMPREO23",153,0)
 S VALMBCK="R"
"RTN","RMPREO23",154,0)
 Q
"RTN","RMPREO23",155,0)
 ;
"RTN","RMPREO23",156,0)
IACT ;take initial action
"RTN","RMPREO23",157,0)
 ;
"RTN","RMPREO23",158,0)
 N YY,DIC,BY,FLDS,FR,TO,DA
"RTN","RMPREO23",159,0)
 D NUM^RMPREOU
"RTN","RMPREO23",160,0)
 D FULL^VALM1
"RTN","RMPREO23",161,0)
 S RMPREOY=Y
"RTN","RMPREO23",162,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D ENIA^RMPREOS
"RTN","RMPREO23",163,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",164,0)
 I $G(RMSUCLFG) D INIT^RMPREOL
"RTN","RMPREO23",165,0)
 I '$G(RMSUCLFG) D INIT^RMPREO
"RTN","RMPREO23",166,0)
 S VALMBCK="R"
"RTN","RMPREO23",167,0)
 Q
"RTN","RMPREO23",168,0)
 ;
"RTN","RMPREO23",169,0)
OACT ;other notes
"RTN","RMPREO23",170,0)
 N YY,DIC,BY,FLDS,FR,TO,DA
"RTN","RMPREO23",171,0)
 D NUM^RMPREOU
"RTN","RMPREO23",172,0)
 D FULL^VALM1
"RTN","RMPREO23",173,0)
 S RMPREOY=Y
"RTN","RMPREO23",174,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D OACT^RMPREOS
"RTN","RMPREO23",175,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",176,0)
 I $G(RMSUCLFG) D INIT^RMPREOL
"RTN","RMPREO23",177,0)
 I '$G(RMSUCLFG) D INIT^RMPREO
"RTN","RMPREO23",178,0)
 S VALMBCK="R"
"RTN","RMPREO23",179,0)
 Q
"RTN","RMPREO23",180,0)
 ;
"RTN","RMPREO23",181,0)
CACT ;complete note
"RTN","RMPREO23",182,0)
 N YY,DIC,BY,FLDS,FR,TO,DA
"RTN","RMPREO23",183,0)
 D NUM^RMPREOU
"RTN","RMPREO23",184,0)
 D FULL^VALM1
"RTN","RMPREO23",185,0)
 S RMPREOY=Y
"RTN","RMPREO23",186,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D CLNT^RMPREOS
"RTN","RMPREO23",187,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",188,0)
 I $G(RMSUCLFG) D INIT^RMPREOL
"RTN","RMPREO23",189,0)
 I '$G(RMSUCLFG) D INIT^RMPREO
"RTN","RMPREO23",190,0)
 S VALMBCK="R"
"RTN","RMPREO23",191,0)
 Q
"RTN","RMPREO23",192,0)
 ;
"RTN","RMPREO23",193,0)
FORW ;forward consult
"RTN","RMPREO23",194,0)
 N YY,DIC,BY,FLDS,FR,TO,DA
"RTN","RMPREO23",195,0)
 D NUM^RMPREOU
"RTN","RMPREO23",196,0)
 D FULL^VALM1
"RTN","RMPREO23",197,0)
 S RMPREOY=Y
"RTN","RMPREO23",198,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D FORW^RMPREOS
"RTN","RMPREO23",199,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",200,0)
 D INIT^RMPREO
"RTN","RMPREO23",201,0)
 S VALMBCK="R"
"RTN","RMPREO23",202,0)
 Q
"RTN","RMPREO23",203,0)
AMAN ;add manual suspense
"RTN","RMPREO23",204,0)
 D FULL^VALM1
"RTN","RMPREO23",205,0)
 D EN^RMPREOS
"RTN","RMPREO23",206,0)
 D INIT^RMPREO
"RTN","RMPREO23",207,0)
 S VALMBCK="R"
"RTN","RMPREO23",208,0)
 Q
"RTN","RMPREO23",209,0)
 ;
"RTN","RMPREO23",210,0)
AAUTO ;add AUTO ADAPTIVE suspense
"RTN","RMPREO23",211,0)
 D FULL^VALM1
"RTN","RMPREO23",212,0)
 D EN^RMPREOSA
"RTN","RMPREO23",213,0)
 D INIT^RMPREO
"RTN","RMPREO23",214,0)
 S VALMBCK="R"
"RTN","RMPREO23",215,0)
 Q
"RTN","RMPREO23",216,0)
 ;
"RTN","RMPREO23",217,0)
ACLO ;add CLOTHING ALLOWANCE suspense
"RTN","RMPREO23",218,0)
 D FULL^VALM1
"RTN","RMPREO23",219,0)
 D EN1^RMPREOSA
"RTN","RMPREO23",220,0)
 D INIT^RMPREO
"RTN","RMPREO23",221,0)
 S VALMBCK="R"
"RTN","RMPREO23",222,0)
 Q
"RTN","RMPREO23",223,0)
 ;
"RTN","RMPREO23",224,0)
CLONE ;Create Clone CPRS Suspense
"RTN","RMPREO23",225,0)
 ;new vars here
"RTN","RMPREO23",226,0)
 D NUM^RMPREOU
"RTN","RMPREO23",227,0)
 D FULL^VALM1
"RTN","RMPREO23",228,0)
 S RMPREOY=Y
"RTN","RMPREO23",229,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D CLONEP
"RTN","RMPREO23",230,0)
 K RMPREOY,XDA,DA,DUOUT
"RTN","RMPREO23",231,0)
 D INIT^RMPREO
"RTN","RMPREO23",232,0)
 S VALMBCK="R"
"RTN","RMPREO23",233,0)
 Q
"RTN","RMPREO23",234,0)
 ;
"RTN","RMPREO23",235,0)
CLONEP ;Create Clone CPRS from loop
"RTN","RMPREO23",236,0)
 D EN2^RMPREOSA
"RTN","RMPREO23",237,0)
 Q
"RTN","RMPREO23",238,0)
 ;
"RTN","RMPREO23",239,0)
EMAN ;edit manual suspense
"RTN","RMPREO23",240,0)
 D FULL^VALM1
"RTN","RMPREO23",241,0)
 D NUM^RMPREOU
"RTN","RMPREO23",242,0)
 S RMPREOY=Y
"RTN","RMPREO23",243,0)
 S RN=""
"RTN","RMPREO23",244,0)
 F RN=1:1 S XDA=$P(RMPREOY,",",RN) Q:XDA=""  Q:$G(DUOUT)=1  I $D(^TMP($J,"RMPREOEE",XDA,0)) S DA=^TMP($J,"RMPREOEE",XDA,0) D EMANP
"RTN","RMPREO23",245,0)
 K RMPREOY,XDA,DA,DUOUT,RN
"RTN","RMPREO23",246,0)
 Q
"RTN","RMPREO23",247,0)
EMANP ;edit manual supsense loop
"RTN","RMPREO23",248,0)
 D EN2^RMPREOS
"RTN","RMPREO23",249,0)
 D INIT^RMPREO
"RTN","RMPREO23",250,0)
 S VALMBCK="R"
"RTN","RMPREO23",251,0)
 Q
"RTN","RMPREO23",252,0)
 ;
"RTN","RMPREO23",253,0)
 ;END
"RTN","RMPREOS")
0^1^B64197154
"RTN","RMPREOS",1,0)
RMPREOS ;HINES-CIOFO/HNC -Suspense Processing ;10/8/03  12:01 
"RTN","RMPREOS",2,0)
 ;;3.0;PROSTHETICS;**45,50,52,55,57,62,80**;Feb 09, 1996
"RTN","RMPREOS",3,0)
 ;
"RTN","RMPREOS",4,0)
 ;  HNC - patch 52 - 9/22/00
"RTN","RMPREOS",5,0)
 ;                           Modify EN2 not to check for RMPRFLAG
"RTN","RMPREOS",6,0)
 ;                           RMPRCLOS, or FLAG.
"RTN","RMPREOS",7,0)
 ;  HNC - patch 55 - 3/12/01
"RTN","RMPREOS",8,0)
 ;                           allow other note without initial
"RTN","RMPREOS",9,0)
 ;
"RTN","RMPREOS",10,0)
 ;  HNC - patch 57 - 5/8/01
"RTN","RMPREOS",11,0)
 ;       close out note message
"RTN","RMPREOS",12,0)
 ;  RVD - patch 62 - 8/13/01 link suspense to 2319 records.
"RTN","RMPREOS",13,0)
 ;
"RTN","RMPREOS",14,0)
 ;  HNC - patch 80 - 8/28/03
"RTN","RMPREOS",15,0)
 ;       Type to allow Editing, CLOSE SUSPENSE NOT CLOSED
"RTN","RMPREOS",16,0)
 ;       Screen Service for Consult Tracking (per Jerry)
"RTN","RMPREOS",17,0)
 ;Patch 80 -Read File 123.5 DBIA 3861
"RTN","RMPREOS",18,0)
 ;
"RTN","RMPREOS",19,0)
EN ;Add Manual Suspense
"RTN","RMPREOS",20,0)
 ;
"RTN","RMPREOS",21,0)
 D NOW^%DTC S X=%
"RTN","RMPREOS",22,0)
 S DIC="^RMPR(668,",DIC(0)="AEQLM",DLAYGO=668
"RTN","RMPREOS",23,0)
 S DIC("DR")="1////^S X=RMPRDFN;22R;14////^S X=""O"";8////^S X=DUZ;9////^S X=5;3////^S X=9;2////^S X=RMPR(""STA"")"
"RTN","RMPREOS",24,0)
 K DINUM,D0,DD,DO D FILE^DICN K DLAYGO G:Y'>0 EX S (RDA,DA)=+Y
"RTN","RMPREOS",25,0)
 S DIE="^RMPR(668,",DR="13;4"
"RTN","RMPREOS",26,0)
 L +^RMPR(668,RDA,0):1 I $T=0 W $C(7),?5,!,"Someone else is editing this record" G EX
"RTN","RMPREOS",27,0)
 D ^DIE L -^RMPR(668,RDA,0)
"RTN","RMPREOS",28,0)
 I '$P(^RMPR(668,RDA,0),U,3) S DA=RDA,DIK="^RMPR(668," D ^DIK W !,$C(7),?5,"Deleted..."
"RTN","RMPREOS",29,0)
EX K X,DIC,DIE,DR,Y
"RTN","RMPREOS",30,0)
 Q
"RTN","RMPREOS",31,0)
 ;
"RTN","RMPREOS",32,0)
EN2 ;edit MANUAL suspense record
"RTN","RMPREOS",33,0)
 ;DA must be defined
"RTN","RMPREOS",34,0)
 ;
"RTN","RMPREOS",35,0)
 I $P(^RMPR(668,DA,0),U,8)'>4 W !!!,"Can Not Edit This Suspense Record!",!! H 2 Q
"RTN","RMPREOS",36,0)
PROC L +^RMPR(668,DA):1 I $T=0 W !,?5,$C(7),"Someone else is Editing this entry!" Q
"RTN","RMPREOS",37,0)
 S RO=$G(^RMPR(668,DA,0)),Y=$P(^(0),U,1) X ^DD("DD")
"RTN","RMPREOS",38,0)
 W "   ",Y,"  ",$E($P(^DPT($P(RO,U,2),0),U,1),1,20)
"RTN","RMPREOS",39,0)
 ;
"RTN","RMPREOS",40,0)
 S RZ="S RX=$P(RO,U,3),RR=$S(RX=1:""PSC"",RX=2:""2421"",RX=3:""2237"",RX=4:""2529-3"",RX=5:""2529-7"",RX=6:""2474"",RX=7:""2431"",RX=8:""2914"",RX=9:""OTHER"",RX=10:""2520"",RX=11:""STOCK ISSUE"",1:""NONE"")"
"RTN","RMPREOS",41,0)
 X RZ
"RTN","RMPREOS",42,0)
 W "  ",RR,"  ",$S($P(RO,U,5)?7N.N:"CLOSED",1:"OPEN")
"RTN","RMPREOS",43,0)
 S DIE="^RMPR(668,"
"RTN","RMPREOS",44,0)
 ;Q:$D(RMPRFLAG)!$D(RMPRCLOS)!$D(FLAG)
"RTN","RMPREOS",45,0)
 S DR="2R;22R;3;13;4"
"RTN","RMPREOS",46,0)
 D ^DIE
"RTN","RMPREOS",47,0)
 L -^RMPR(668,DA)
"RTN","RMPREOS",48,0)
 Q
"RTN","RMPREOS",49,0)
ENIA ;initial action note
"RTN","RMPREOS",50,0)
 ;
"RTN","RMPREOS",51,0)
 I $D(^RMPR(668,DA,3)) W !!!,"Initial Action Note Already Posted!",!! H 2 Q
"RTN","RMPREOS",52,0)
 L +^RMPR(668,DA):1 I $T=0 W !,?5,$C(7),"Someone else is Editing this entry!" Q
"RTN","RMPREOS",53,0)
 D NOW^%DTC S RMPREODT=%
"RTN","RMPREOS",54,0)
 ;link suspense to 2319 record, patch #62
"RTN","RMPREOS",55,0)
 I $D(^TMP($J,"RMPRPCE",660)) S ^TMP($J,"RMPRPCE",668,DA)="" D SEL60^RMPRPCEL
"RTN","RMPREOS",56,0)
 S DIE="^RMPR(668,"
"RTN","RMPREOS",57,0)
 S DR="7"
"RTN","RMPREOS",58,0)
 D ^DIE
"RTN","RMPREOS",59,0)
 I $D(^RMPR(668,DA,3)) S DR="10////^S X=RMPREODT;16////^S X=DUZ;14///^S X=""P""" D ^DIE
"RTN","RMPREOS",60,0)
 L -^RMPR(668,DA)
"RTN","RMPREOS",61,0)
 ;check for a note here
"RTN","RMPREOS",62,0)
 I '$D(^RMPR(668,DA,3)) Q
"RTN","RMPREOS",63,0)
 ;consult ien
"RTN","RMPREOS",64,0)
 S GMRCO=$P(^RMPR(668,DA,0),U,15) Q:GMRCO=""
"RTN","RMPREOS",65,0)
 ;note in array
"RTN","RMPREOS",66,0)
 S RMPRCMT=0
"RTN","RMPREOS",67,0)
 F  S RMPRCMT=$O(^RMPR(668,DA,3,RMPRCMT)) Q:RMPRCMT=""  D
"RTN","RMPREOS",68,0)
 .S GMRCMT(RMPRCMT)=^RMPR(668,DA,3,RMPRCMT,0)
"RTN","RMPREOS",69,0)
 I $G(GMRCMT)="" S GMRCMT="nothing noted"
"RTN","RMPREOS",70,0)
 ;call api
"RTN","RMPREOS",71,0)
 S RMGMRCO=$$RC^GMRCGUIA(.GMRCO,DUZ,RMPREODT,.GMRCMT,DUZ)
"RTN","RMPREOS",72,0)
 K RMPREODT,GMRCO,RMGMRCO,GMRCMT,RMPRCMT
"RTN","RMPREOS",73,0)
 Q
"RTN","RMPREOS",74,0)
FORW ;forward consult
"RTN","RMPREOS",75,0)
 I $P(^RMPR(668,DA,0),U,8)>4 W !!!,"Can Not Forward.",!! H 2 Q
"RTN","RMPREOS",76,0)
 I $D(^RMPR(668,DA,4,1,0)) W !!!,"Completion Note Already Posted!",!! H 2 Q
"RTN","RMPREOS",77,0)
 D NOW^%DTC S RMPREODT=%,GMRCAD=%
"RTN","RMPREOS",78,0)
 ;lookup service to foward consult
"RTN","RMPREOS",79,0)
 S DIC("S")="I '$P(^(0),U,2),'+$G(^GMR(123.5,+Y,""IFC""))"
"RTN","RMPREOS",80,0)
 S DIC="^GMR(123.5,",DIC(0)="AEQ"
"RTN","RMPREOS",81,0)
 S DIC("A")="Select Service To Forward Consult: "
"RTN","RMPREOS",82,0)
 D ^DIC
"RTN","RMPREOS",83,0)
 I (+Y'>0)!($D(DTOUT))!$D(DUOUT) W !!,"Not Forwarded! No Service Selected ." H 2 K DIC Q
"RTN","RMPREOS",84,0)
 S GMRCSS=+Y
"RTN","RMPREOS",85,0)
 L +^RMPR(668,DA):1 I $T=0 W !,?5,$C(7),"Someone else is Editing this entry!"
"RTN","RMPREOS",86,0)
 S DIE="^RMPR(668,"
"RTN","RMPREOS",87,0)
 ;stuff Consult foward service
"RTN","RMPREOS",88,0)
 S DR="23////^S X=GMRCSS"
"RTN","RMPREOS",89,0)
 D ^DIE
"RTN","RMPREOS",90,0)
 Q:'$P($G(^RMPR(668,DA,8)),U,6)
"RTN","RMPREOS",91,0)
 S DR="12"
"RTN","RMPREOS",92,0)
 D ^DIE
"RTN","RMPREOS",93,0)
 I $D(^RMPR(668,DA,4,1,0)) S DR="5////^S X=RMPREODT;6////^S X=DUZ;14///^S X=""C""" D ^DIE
"RTN","RMPREOS",94,0)
 ;must have a note
"RTN","RMPREOS",95,0)
 I '$D(^RMPR(668,DA,4,1,0)) W !!,"Must Have Note to Forward. Consult Not Forwarded." S $P(^RMPR(668,DA,8),U,6)="" H 2 Q
"RTN","RMPREOS",96,0)
 ;set initial action note if null
"RTN","RMPREOS",97,0)
 I '$P(^RMPR(668,DA,0),U,10) D
"RTN","RMPREOS",98,0)
 .S DIE="^RMPR(668,"
"RTN","RMPREOS",99,0)
 .S DR="7///^S X=""See Completion Note, this was forwarded to another service."""
"RTN","RMPREOS",100,0)
 .D ^DIE
"RTN","RMPREOS",101,0)
 .S DR="10////^S X=RMPREODT;16////^S X=DUZ;24////^S X=DUZ" D ^DIE
"RTN","RMPREOS",102,0)
 L -^RMPR(668,DA)
"RTN","RMPREOS",103,0)
 K RMPREODT
"RTN","RMPREOS",104,0)
 S GMRCO=$P(^RMPR(668,DA,0),U,15)
"RTN","RMPREOS",105,0)
 Q:GMRCO=""
"RTN","RMPREOS",106,0)
 ;note in array
"RTN","RMPREOS",107,0)
 S RMPRCOM=0
"RTN","RMPREOS",108,0)
 F  S RMPRCOM=$O(^RMPR(668,DA,4,RMPRCOM)) Q:RMPRCOM=""  D
"RTN","RMPREOS",109,0)
 .S GMRCOM(RMPRCOM)=^RMPR(668,DA,4,RMPRCOM,0)
"RTN","RMPREOS",110,0)
 I $G(GMRCOM)="" S GMRCOM="not noted"
"RTN","RMPREOS",111,0)
 S GMRCORNP=DUZ
"RTN","RMPREOS",112,0)
 S GMRCURGI=""
"RTN","RMPREOS",113,0)
 S GMRCATTN=""
"RTN","RMPREOS",114,0)
 S BDC=$$FR^GMRCGUIA(.GMRCO,.GMRCSS,.GMRCORNP,.GMRCATTN,.GMRCURGI,.GMRCOM,.GMRCAD)
"RTN","RMPREOS",115,0)
 I +BDC=1 W !!,"ERROR, DID NOT FORWARD!" H 2
"RTN","RMPREOS",116,0)
 W !!,"Consult Forwarded." H 2
"RTN","RMPREOS",117,0)
 K GMRCO,GMRCSS,GMRCORNP,GMRCATTN,GMRCURGI,GMRCOM,GMRCAD
"RTN","RMPREOS",118,0)
 Q
"RTN","RMPREOS",119,0)
CLNT ;post closed note
"RTN","RMPREOS",120,0)
 ;
"RTN","RMPREOS",121,0)
 I $P(^RMPR(668,DA,0),U,10)="C" W !!!,"Completion Note Already Posted!",!! H 2 Q
"RTN","RMPREOS",122,0)
 L +^RMPR(668,DA):1 I $T=0 W !,?5,$C(7),"Someone else is Editing this entry!" Q
"RTN","RMPREOS",123,0)
 D NOW^%DTC S RMPREODT=%,GMRCAD=%
"RTN","RMPREOS",124,0)
 ;link suspense to 2319 record, patch #62
"RTN","RMPREOS",125,0)
 I $D(^TMP($J,"RMPRPCE",660)) S ^TMP($J,"RMPRPCE",668,DA)="" D SEL60^RMPRPCEL
"RTN","RMPREOS",126,0)
 S DIE="^RMPR(668,"
"RTN","RMPREOS",127,0)
 S DR="12"
"RTN","RMPREOS",128,0)
 D ^DIE
"RTN","RMPREOS",129,0)
 I '$D(^RMPR(668,DA,4)) Q
"RTN","RMPREOS",130,0)
 I $D(^RMPR(668,DA,4)) S DR="5////^S X=RMPREODT;6////^S X=DUZ;14///^S X=""C""" D ^DIE
"RTN","RMPREOS",131,0)
 ;set initial action note if null
"RTN","RMPREOS",132,0)
 I '$P(^RMPR(668,DA,0),U,9) D
"RTN","RMPREOS",133,0)
 .S DIE="^RMPR(668,"
"RTN","RMPREOS",134,0)
 .S DR="7///^S X=""See Completion Note for Initial Action Taken."""
"RTN","RMPREOS",135,0)
 .D ^DIE
"RTN","RMPREOS",136,0)
 .S DR="10////^S X=RMPREODT;16////^S X=DUZ" D ^DIE
"RTN","RMPREOS",137,0)
 ;added by #62.  Once closed, update all 2319 record for initial and
"RTN","RMPREOS",138,0)
 ;completion date
"RTN","RMPREOS",139,0)
 D ICDT^RMPRPCEL(DA)
"RTN","RMPREOS",140,0)
 ;
"RTN","RMPREOS",141,0)
 L -^RMPR(668,DA)
"RTN","RMPREOS",142,0)
 K RMPREODT
"RTN","RMPREOS",143,0)
 S GMRCO=$P(^RMPR(668,DA,0),U,15)
"RTN","RMPREOS",144,0)
 Q:GMRCO=""
"RTN","RMPREOS",145,0)
 ;note in array
"RTN","RMPREOS",146,0)
 S RMPRCOM=0
"RTN","RMPREOS",147,0)
 F  S RMPRCOM=$O(^RMPR(668,DA,4,RMPRCOM)) Q:RMPRCOM=""  D
"RTN","RMPREOS",148,0)
 .S GMRCOM(RMPRCOM)=^RMPR(668,DA,4,RMPRCOM,0)
"RTN","RMPREOS",149,0)
 I $G(GMRCOM)="" S GMRCOM="not noted"
"RTN","RMPREOS",150,0)
 S GMRCSF="U"
"RTN","RMPREOS",151,0)
 S GMRCA=10
"RTN","RMPREOS",152,0)
 S GMRCALF="N"
"RTN","RMPREOS",153,0)
 S GMRCATO=""
"RTN","RMPREOS",154,0)
 S (GMRCORNP,GMRCDUZ)=DUZ
"RTN","RMPREOS",155,0)
 S BDC=$$SFILE^GMRCGUIB(.GMRCO,.GMRCA,.GMRCSF,.GMRCORNP,.GMRCDUZ,.GMRCOM,.GMRCALF,.GMRCATO,.GMRCAD)
"RTN","RMPREOS",156,0)
 I +BDC=1 W !!,$P(BDC,U,2) H 2
"RTN","RMPREOS",157,0)
 K GMRCO,GMRCA,GMRCSF,GMRCORNP,GMRCDUZ,GMRCOM,GMRCALF,GMRCATO,GMRCAD
"RTN","RMPREOS",158,0)
 Q
"RTN","RMPREOS",159,0)
OACT ;other notes - no initial needed 3/12/01
"RTN","RMPREOS",160,0)
 ;stuff date/time in.01
"RTN","RMPREOS",161,0)
 ;delete if no note
"RTN","RMPREOS",162,0)
 ;I '$D(^RMPR(668,DA,3,1,0)) W !!!,"No Initial Action Taken... ",!! H 2 Q
"RTN","RMPREOS",163,0)
 ;
"RTN","RMPREOS",164,0)
 L +^RMPR(668,DA):1 I $T=0 W !,?5,$C(7),"Someone else is Editing this entry!" Q
"RTN","RMPREOS",165,0)
 ;link suspense to 2319 record, patch #62
"RTN","RMPREOS",166,0)
 I $D(^TMP($J,"RMPRPCE",660)) S ^TMP($J,"RMPRPCE",668,DA)="" D SEL60^RMPRPCEL
"RTN","RMPREOS",167,0)
 S DA(1)=DA,RMPRDA1=DA
"RTN","RMPREOS",168,0)
 S DIC="^RMPR(668,"_DA(1)_",1,"
"RTN","RMPREOS",169,0)
 S DIC(0)="CQL"
"RTN","RMPREOS",170,0)
 S DIC("P")=$P(^DD(668,11,0),U,2)
"RTN","RMPREOS",171,0)
 D NOW^%DTC S X=%,GMRCWHN=%
"RTN","RMPREOS",172,0)
 S DLAYGO=688
"RTN","RMPREOS",173,0)
 D ^DIC
"RTN","RMPREOS",174,0)
 I Y=-1 K DIC,DA Q
"RTN","RMPREOS",175,0)
 S DIE=DIC K DIC
"RTN","RMPREOS",176,0)
 S (DA,RMPRDA2)=+Y
"RTN","RMPREOS",177,0)
 S DR="1" D ^DIE
"RTN","RMPREOS",178,0)
 K DIE,DR,Y
"RTN","RMPREOS",179,0)
 I '$D(^RMPR(668,RMPRDA1,1,RMPRDA2,1,0)) D  Q
"RTN","RMPREOS",180,0)
 .;delete the record if no note
"RTN","RMPREOS",181,0)
 .S DIK="^RMPR(668,RMPRDA1,1,"
"RTN","RMPREOS",182,0)
 .S DA=RMPRDA2
"RTN","RMPREOS",183,0)
 .D ^DIK
"RTN","RMPREOS",184,0)
 .K DA,DIA,RMPRDA1,RMPRDA2,GMRCWHN
"RTN","RMPREOS",185,0)
 ;send data to consults if note
"RTN","RMPREOS",186,0)
 S GMRCO=$P(^RMPR(668,RMPRDA1,0),U,15)
"RTN","RMPREOS",187,0)
 I GMRCO="" Q
"RTN","RMPREOS",188,0)
 ;GMRCOM is comment array
"RTN","RMPREOS",189,0)
 S RMPRCOM=0
"RTN","RMPREOS",190,0)
 F  S RMPRCOM=$O(^RMPR(668,RMPRDA1,1,RMPRDA2,1,RMPRCOM)) Q:RMPRCOM=""  D
"RTN","RMPREOS",191,0)
 .S GMRCOM(RMPRCOM)=^RMPR(668,RMPRDA1,1,RMPRDA2,1,RMPRCOM,0)
"RTN","RMPREOS",192,0)
 ;
"RTN","RMPREOS",193,0)
 L -^RMPR(668,RMPRDA1)
"RTN","RMPREOS",194,0)
 ;GMRCWHN was set to date/time
"RTN","RMPREOS",195,0)
 D CMT^GMRCGUIB(.GMRCO,.GMRCOM,"",.GMRCWHN,DUZ)
"RTN","RMPREOS",196,0)
 ;check ok
"RTN","RMPREOS",197,0)
 K DA,DIK,RMPRDA1,RMPRDA2,RMPRCOM,GMRCOM,GMRCO,GMRCWHN
"RTN","RMPREOS",198,0)
 Q
"RTN","RMPREOS",199,0)
CANCEL ;cancel suspense
"RTN","RMPREOS",200,0)
 ;set status to X and cancelled by to duz, date/time.
"RTN","RMPREOS",201,0)
 ;start
"RTN","RMPREOS",202,0)
 ;
"RTN","RMPREOS",203,0)
 I $P(^RMPR(668,DA,0),U,5)'="" W !!!,"This has already been completed, cannot cancel!",!! H 2  Q
"RTN","RMPREOS",204,0)
 L +^RMPR(668,DA):1 I $T=0 W !,?5,$C(7),"Someone else is Editing this entry!" Q
"RTN","RMPREOS",205,0)
 K Y
"RTN","RMPREOS",206,0)
 S DIR(0)="Y",DIR("B")="N"
"RTN","RMPREOS",207,0)
 W !!!,"This will CANCEL/DELETE this Suspense Request."
"RTN","RMPREOS",208,0)
 S DIR("A")="Are you sure you want to CANCEL/DELETE this Suspense Request? (Y/N) "
"RTN","RMPREOS",209,0)
 D ^DIR I $D(DTOUT)!$D(DUOUT)!(Y="^")!(Y=0) W !!,"Suspense Not Cancelled!" H 2  Q
"RTN","RMPREOS",210,0)
 D NOW^%DTC S RMPREODT=%
"RTN","RMPREOS",211,0)
 S DIE="^RMPR(668,"
"RTN","RMPREOS",212,0)
 S DR="14///^S X=""X"";17////^S X=DUZ;18////^S X=RMPREODT;9"
"RTN","RMPREOS",213,0)
 D ^DIE
"RTN","RMPREOS",214,0)
 W !!,?5,"DELETED/CANCELLED!" H 2
"RTN","RMPREOS",215,0)
 L -^RMPR(668,DA)
"RTN","RMPREOS",216,0)
 ;consult ien
"RTN","RMPREOS",217,0)
 S GMRCO=$P(^RMPR(668,DA,0),U,15) Q:GMRCO=""
"RTN","RMPREOS",218,0)
 ;note in array
"RTN","RMPREOS",219,0)
 S RMPRCMT=0
"RTN","RMPREOS",220,0)
 F  S RMPRCMT=$O(^RMPR(668,DA,9,RMPRCMT)) Q:RMPRCMT=""  D
"RTN","RMPREOS",221,0)
 .S GMRCMT(RMPRCMT)=^RMPR(668,DA,9,RMPRCMT,0)
"RTN","RMPREOS",222,0)
 I $G(GMRCMT)="" S GMRCMT="nothing noted"
"RTN","RMPREOS",223,0)
 ;call api
"RTN","RMPREOS",224,0)
 ;DY for calcelled, deny
"RTN","RMPREOS",225,0)
 S GMRCACTM="DY"
"RTN","RMPREOS",226,0)
 S RMGMRCO=$$DC^GMRCGUIA(.GMRCO,DUZ,RMPREODT,.GMRCACTM,.GMRCMT)
"RTN","RMPREOS",227,0)
 K RMPREODT,GMRCMT,RMPRCMT,GMRCACTM
"RTN","RMPREOS",228,0)
 Q
"RTN","RMPREOS",229,0)
 ;
"RTN","RMPREOS",230,0)
LINK60 ;link suspense to 2319 records
"RTN","RMPREOS",231,0)
 S RMSERR=0
"RTN","RMPREOS",232,0)
 F RMSI=0:0 S RMSI=$O(^TMP($J,"RMPRPCE",660,RMSI)) Q:RMSI'>0  D
"RTN","RMPREOS",233,0)
 .S RMSAMIS=$G(^TMP($J,"RMPRPCE",660,RMSI))
"RTN","RMPREOS",234,0)
 .;call update 668
"RTN","RMPREOS",235,0)
 .S RMSERR=$$UP68^RMPRPCE1(RMSI,DA,+RMSAMIS)
"RTN","RMPREOS",236,0)
 Q:RMSERR=1
"RTN","RMPREOS",237,0)
 S ^TMP($J,"RMPRPCE",668,DA)=""
"RTN","RMPREOS",238,0)
 Q
"RTN","RMPREOS",239,0)
 ;end
"RTN","RMPREOSA")
0^3^B13692945
"RTN","RMPREOSA",1,0)
RMPREOSA ;HINES-IOFO/HNC - Clone, Auto Adaptive, Clothing Allowance ;10/31/03  14:17
"RTN","RMPREOSA",2,0)
 ;;3.0;PROSTHETICS;**80**;Feb 09, 1996
"RTN","RMPREOSA",3,0)
EN      ;Add Auto Adaptive Suspense
"RTN","RMPREOSA",4,0)
 ;
"RTN","RMPREOSA",5,0)
 D NOW^%DTC S X=%
"RTN","RMPREOSA",6,0)
 S DIC="^RMPR(668,",DIC(0)="AEQLM",DLAYGO=668
"RTN","RMPREOSA",7,0)
 S DIC("DR")="1////^S X=RMPRDFN;22R;14////^S X=""O"";8////^S X=DUZ;9////^S X=8;3////^S X=9;2////^S X=RMPR(""STA"")"
"RTN","RMPREOSA",8,0)
 K DINUM,D0,DD,DO D FILE^DICN K DLAYGO G:Y'>0 EX S (RDA,DA)=+Y
"RTN","RMPREOSA",9,0)
 S DIE="^RMPR(668,",DR="13;4"
"RTN","RMPREOSA",10,0)
 L +^RMPR(668,RDA,0):1 I $T=0 W $C(7),?5,!,"Someone else is editing this record" G EX
"RTN","RMPREOSA",11,0)
 D ^DIE L -^RMPR(668,RDA,0)
"RTN","RMPREOSA",12,0)
 I '$P(^RMPR(668,RDA,0),U,3) S DA=RDA,DIK="^RMPR(668," D ^DIK W !,$C(7),?5,"Deleted..."
"RTN","RMPREOSA",13,0)
EX K X,DIC,DIE,DR,Y
"RTN","RMPREOSA",14,0)
 Q
"RTN","RMPREOSA",15,0)
 ;
"RTN","RMPREOSA",16,0)
EN1 ;Add Clothing Allowance Suspense
"RTN","RMPREOSA",17,0)
 ;
"RTN","RMPREOSA",18,0)
 D NOW^%DTC S X=%
"RTN","RMPREOSA",19,0)
 S DIC="^RMPR(668,",DIC(0)="AEQLM",DLAYGO=668
"RTN","RMPREOSA",20,0)
 S DIC("DR")="1////^S X=RMPRDFN;22R;14////^S X=""O"";8////^S X=DUZ;9////^ S X=6;3////^S X=9;2////^S X=RMPR(""STA"")"
"RTN","RMPREOSA",21,0)
 K DINUM,D0,DD,DO D FILE^DICN K DLAYGO G:Y'>0 EX S (RDA,DA)=+Y
"RTN","RMPREOSA",22,0)
 S DIE="^RMPR(668,",DR="13;4"
"RTN","RMPREOSA",23,0)
 L +^RMPR(668,RDA,0):1 I $T=0 W $C(7),?5,!,"Someone else is editing this  record" G EX
"RTN","RMPREOSA",24,0)
 D ^DIE L -^RMPR(668,RDA,0)
"RTN","RMPREOSA",25,0)
 I '$P(^RMPR(668,RDA,0),U,3) S DA=RDA,DIK="^RMPR(668," D ^DIK W !,$C(7),?5,"Deleted..."
"RTN","RMPREOSA",26,0)
 K X,DIC,DIE,DR,Y
"RTN","RMPREOSA",27,0)
 Q
"RTN","RMPREOSA",28,0)
EN2 ;Create Clone CPRS Suspense
"RTN","RMPREOSA",29,0)
 ;
"RTN","RMPREOSA",30,0)
 I $P(^RMPR(668,DA,0),U,8)>4 W !!!,"Only CPRS Suspense Can Be Cloned!",!! H 2 Q
"RTN","RMPREOSA",31,0)
ST2 S RMPRH=DA
"RTN","RMPREOSA",32,0)
 S (RMPRFLD,RMPRFI,RMPRFW)=0
"RTN","RMPREOSA",33,0)
 D GETS^DIQ(668,RMPRH,"**","I","OUT")
"RTN","RMPREOSA",34,0)
 Q:'$D(OUT)
"RTN","RMPREOSA",35,0)
 ;create new record
"RTN","RMPREOSA",36,0)
 D NOW^%DTC S X=%
"RTN","RMPREOSA",37,0)
 S DIC="^RMPR(668,",DIC(0)="L"
"RTN","RMPREOSA",38,0)
 K DD,DO D FILE^DICN
"RTN","RMPREOSA",39,0)
 S RMPRA=+Y
"RTN","RMPREOSA",40,0)
 M R6681(668,RMPRA_",")=OUT(668,RMPRH_",")
"RTN","RMPREOSA",41,0)
 F  S RMPRFLD=$O(R6681(668,RMPRA_",",RMPRFLD)) Q:RMPRFLD'>0  D
"RTN","RMPREOSA",42,0)
 . F  S RMPRFI=$O(R6681(668,RMPRA_",",RMPRFLD,RMPRFI)) Q:RMPRFI=""  D
"RTN","RMPREOSA",43,0)
 .. I RMPRFI="I" S R668(668,RMPRA_",",RMPRFLD)=R6681(668,RMPRA_",",RMPRFLD,RMPRFI) Q
"RTN","RMPREOSA",44,0)
 .. S R668(668,RMPRA_",",RMPRFLD,RMPRFI)=R6681(668,RMPRA_",",RMPRFLD,RMPRFI)
"RTN","RMPREOSA",45,0)
 S RMPRC=RMPRA_","
"RTN","RMPREOSA",46,0)
 S R668(668,RMPRA_",",4)="R668(668,"_""""_RMPRC_""""_",4)"
"RTN","RMPREOSA",47,0)
 I $D(R668(668,RMPRA_",",7)) S R668(668,RMPRA_",",7)="R668(668,"_""""_RMPRC_""""_",7)"
"RTN","RMPREOSA",48,0)
 K OUT
"RTN","RMPREOSA",49,0)
 ;
"RTN","RMPREOSA",50,0)
 ;don't set the following fields
"RTN","RMPREOSA",51,0)
 K R668(668,RMPRA_",",.01)
"RTN","RMPREOSA",52,0)
 ;urgency
"RTN","RMPREOSA",53,0)
 K R668(668,RMPRA_",",2.3)
"RTN","RMPREOSA",54,0)
 ;completion date
"RTN","RMPREOSA",55,0)
 K R668(668,RMPRA_",",5)
"RTN","RMPREOSA",56,0)
 ;completed by
"RTN","RMPREOSA",57,0)
 K R668(668,RMPRA_",",6)
"RTN","RMPREOSA",58,0)
 ;initial action note
"RTN","RMPREOSA",59,0)
 K R668(668,RMPRA_",",7)
"RTN","RMPREOSA",60,0)
 ;suspended by
"RTN","RMPREOSA",61,0)
 S R668(668,RMPRA_",",8)=DUZ
"RTN","RMPREOSA",62,0)
 ;patient 2319
"RTN","RMPREOSA",63,0)
 K R668(668,RMPRA_",",8.1)
"RTN","RMPREOSA",64,0)
 ;amis grouper
"RTN","RMPREOSA",65,0)
 K R668(668,RMPRA_",",8.2)
"RTN","RMPREOSA",66,0)
 ;init action date
"RTN","RMPREOSA",67,0)
 K R668(668,RMPRA_",",10)
"RTN","RMPREOSA",68,0)
 ;completion note
"RTN","RMPREOSA",69,0)
 K R668(668,RMPRA_",",12)
"RTN","RMPREOSA",70,0)
 ;initial action by
"RTN","RMPREOSA",71,0)
 K R668(668,RMPRA_",",16)
"RTN","RMPREOSA",72,0)
 ;cancelled by
"RTN","RMPREOSA",73,0)
 K R668(668,RMPRA_",",17)
"RTN","RMPREOSA",74,0)
 ;cancel date
"RTN","RMPREOSA",75,0)
 K R668(668,RMPRA_",",18)
"RTN","RMPREOSA",76,0)
 ;CPRS order may be purged, remobe
"RTN","RMPREOSA",77,0)
 K R668(668,RMPRA_",",19)
"RTN","RMPREOSA",78,0)
 ;cancel note
"RTN","RMPREOSA",79,0)
 K R668(668,RMPRA_",",21)
"RTN","RMPREOSA",80,0)
 ;date rx written, keep same per Karen 9/15/03
"RTN","RMPREOSA",81,0)
 ;K R668(668,RMPRA_",",22)
"RTN","RMPREOSA",82,0)
 ;consult service
"RTN","RMPREOSA",83,0)
 K R668(668,RMPRA_",",23)
"RTN","RMPREOSA",84,0)
 ;consult needed for display set to orig pointer
"RTN","RMPREOSA",85,0)
 S R668(668,RMPRA_",",20)=$P(^RMPR(668,RMPRH,0),U,15)
"RTN","RMPREOSA",86,0)
 ;forwarded by
"RTN","RMPREOSA",87,0)
 K R668(668,RMPRA_",",24)
"RTN","RMPREOSA",88,0)
 ;consult visit
"RTN","RMPREOSA",89,0)
 K R668(668,RMPRA_",",30)
"RTN","RMPREOSA",90,0)
 ;set status to open
"RTN","RMPREOSA",91,0)
 S R668(668,RMPRA_",",14)="O"
"RTN","RMPREOSA",92,0)
 ;set type to clone
"RTN","RMPREOSA",93,0)
 S R668(668,RMPRA_",",9)=7
"RTN","RMPREOSA",94,0)
 ;will automatically set the Billing Fields as needed IF NO DUPLICATES!
"RTN","RMPREOSA",95,0)
 ;32,32.1,32.2,33,33.1,33.2,33.3
"RTN","RMPREOSA",96,0)
 S DIC="^RMPR(668,",DIC(0)="AEQM"
"RTN","RMPREOSA",97,0)
 D FILE^DIE("K","R668","ERROR")
"RTN","RMPREOSA",98,0)
 I $D(ERROR) W !,ERROR("DIERR",1,"TEXT",1),!,"Could NOT CLONE DUE TO BAD DATA!" H 2 K ERROR,R668 G KILL
"RTN","RMPREOSA",99,0)
 ;file field #1 Veteran
"RTN","RMPREOSA",100,0)
 ;S DA=RMPRA
"RTN","RMPREOSA",101,0)
 ;S DIE="^RMPR(668,"
"RTN","RMPREOSA",102,0)
 ;S DR="1////^S X=RMPRDFN"
"RTN","RMPREOSA",103,0)
 ;L +^RMPR(668,RMPRA,0):1 I $T=0 W $C(7),?5,!,"Someone else is editing this record" G EX
"RTN","RMPREOSA",104,0)
 ;D ^DIE L -^RMPR(668,RMPRA,0)
"RTN","RMPREOSA",105,0)
 ;print view request, ask for device
"RTN","RMPREOSA",106,0)
 W !!,"Done... Please select a device to print the new SUSPENSE Record."
"RTN","RMPREOSA",107,0)
 S DA=RMPRA
"RTN","RMPREOSA",108,0)
 S L=0
"RTN","RMPREOSA",109,0)
 S DIC="^RMPR(668,",FLDS="[RMPR VIEW REQUEST]"
"RTN","RMPREOSA",110,0)
 S BY="@NUMBER",(FR,TO)=DA
"RTN","RMPREOSA",111,0)
 D EN1^DIP
"RTN","RMPREOSA",112,0)
 N DIR S DIR(0)="E" D ^DIR
"RTN","RMPREOSA",113,0)
 W @IOF
"RTN","RMPREOSA",114,0)
 S DA=^TMP($J,"RMPREOEE",XDA,0)
"RTN","RMPREOSA",115,0)
 D VALL^RMPREO24(DA,.L) Q:L="^"
"RTN","RMPREOSA",116,0)
 K RMPRA,RMPRC,DFN,DA,DIC,X,Y
"RTN","RMPREOSA",117,0)
 Q
"RTN","RMPREOSA",118,0)
KILL ;get rid of new clone if error
"RTN","RMPREOSA",119,0)
 S DA=RMPRA,DIK=668 D ^DIK
"RTN","RMPREOSA",120,0)
 Q
"RTN","RMPREOSA",121,0)
 ;END
"VER")
8.0^22
"^DD",668,668,1.5,0)
PROVISIONAL DIAGNOSIS^F^^8;2^K:$L(X)>50!($L(X)<1) X
"^DD",668,668,1.5,3)
Answer must be 1-50 characters in length.
"^DD",668,668,1.5,21,0)
^.001^1^1^3030915^^
"^DD",668,668,1.5,21,1,0)
CPRS Provisional Diagnosis at the time the Consult was created.
"^DD",668,668,1.5,23,0)
^^1^1^3030915^
"^DD",668,668,1.5,23,1,0)
 
"^DD",668,668,1.5,"DT")
3030915
"^DD",668,668,9,0)
TYPE OF REQUEST^S^1:ROUTINE PROSTHETICS;2:EYEGLASS;3:CONTACT LENS;4:OXYGEN;5:MANUAL  NON CPRS;6:CLOTHING ALLOWANCE;7:CLONE;8:AUTO ADAPTIVE;^0;8^Q
"^DD",668,668,9,21,0)
^.001^2^2^3030902^^^^
"^DD",668,668,9,21,1,0)
This is the type of order from CPRS Consult Tracking Module, or VBA.  It also
"^DD",668,668,9,21,2,0)
records MANUAL for paper orders received.
"^DD",668,668,9,"DT")
3030902
**END**
**END**
