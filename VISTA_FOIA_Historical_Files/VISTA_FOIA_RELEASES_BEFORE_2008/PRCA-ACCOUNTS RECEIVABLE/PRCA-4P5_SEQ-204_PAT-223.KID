Released PRCA*4.5*223 SEQ #204
Extracted from mail message
**KIDS**:PRCA*4.5*223^

**INSTALL NAME**
PRCA*4.5*223
"BLD",6058,0)
PRCA*4.5*223^ACCOUNTS RECEIVABLE^0^3050419^y
"BLD",6058,1,0)
^^20^20^3050418^^
"BLD",6058,1,1,0)
Description:
"BLD",6058,1,2,0)
===========
"BLD",6058,1,3,0)
 
"BLD",6058,1,4,0)
This patch contains 2 enhancements and resolves 1 NOIS.
"BLD",6058,1,5,0)
 
"BLD",6058,1,6,0)
The Chief Business Office has requested additional enhancements to the
"BLD",6058,1,7,0)
software that transmits the Patient Statements from the VAMC to the AAC.
"BLD",6058,1,8,0)
 
"BLD",6058,1,9,0)
 
"BLD",6058,1,10,0)
Description of enhancements:
"BLD",6058,1,11,0)
---------------------------
"BLD",6058,1,12,0)
1. Remove the "In Part" and "In Full" wording from the patient statements. 
"BLD",6058,1,13,0)
2. Identify patients to the AAC with will require larger print (font) on
"BLD",6058,1,14,0)
   their billing statement.
"BLD",6058,1,15,0)
 
"BLD",6058,1,16,0)
 
"BLD",6058,1,17,0)

"BLD",6058,1,18,0)
This patch addresses the following NOIS message(s):
"BLD",6058,1,19,0)
---------------------------------------------------
"BLD",6058,1,20,0)
1. WIM-0402-20728
"BLD",6058,4,0)
^9.64PA^349.2^2
"BLD",6058,4,340,0)
340
"BLD",6058,4,340,2,0)
^9.641^340^1
"BLD",6058,4,340,2,340,0)
AR DEBTOR  (File-top level)
"BLD",6058,4,340,2,340,1,0)
^9.6411^111^1
"BLD",6058,4,340,2,340,1,111,0)
LARGE PRINT NEEDED ON STMT
"BLD",6058,4,340,222)
y^n^p^^^^n^^n
"BLD",6058,4,340,224)

"BLD",6058,4,349.2,0)
349.2
"BLD",6058,4,349.2,2,0)
^9.641^349.2^1
"BLD",6058,4,349.2,2,349.2,0)
AR CCPC STATEMENTS  (File-top level)
"BLD",6058,4,349.2,2,349.2,1,0)
^9.6411^62^1
"BLD",6058,4,349.2,2,349.2,1,62,0)
LARGE PRINT NEEDED ON STMT
"BLD",6058,4,349.2,222)
y^n^p^^^^n^^n
"BLD",6058,4,349.2,224)

"BLD",6058,4,"APDD",340,340)

"BLD",6058,4,"APDD",340,340,111)

"BLD",6058,4,"APDD",349.2,349.2)

"BLD",6058,4,"APDD",349.2,349.2,62)

"BLD",6058,4,"B",340,340)

"BLD",6058,4,"B",349.2,349.2)

"BLD",6058,"INID")
^y
"BLD",6058,"INIT")
START^PRCA223
"BLD",6058,"KRN",0)
^9.67PA^8989.52^19
"BLD",6058,"KRN",.4,0)
.4
"BLD",6058,"KRN",.401,0)
.401
"BLD",6058,"KRN",.402,0)
.402
"BLD",6058,"KRN",.402,"NM",0)
^9.68A^1^1
"BLD",6058,"KRN",.402,"NM",1,0)
RCAM ADDRESS EDIT    FILE #340^340^0
"BLD",6058,"KRN",.402,"NM","B","RCAM ADDRESS EDIT    FILE #340",1)

"BLD",6058,"KRN",.403,0)
.403
"BLD",6058,"KRN",.5,0)
.5
"BLD",6058,"KRN",.84,0)
.84
"BLD",6058,"KRN",3.6,0)
3.6
"BLD",6058,"KRN",3.8,0)
3.8
"BLD",6058,"KRN",9.2,0)
9.2
"BLD",6058,"KRN",9.8,0)
9.8
"BLD",6058,"KRN",9.8,"NM",0)
^9.68A^3^3
"BLD",6058,"KRN",9.8,"NM",1,0)
RCAM^^0^B26056904
"BLD",6058,"KRN",9.8,"NM",2,0)
RCCPCPS^^0^B68896930
"BLD",6058,"KRN",9.8,"NM",3,0)
RCCPCML^^0^B45438721
"BLD",6058,"KRN",9.8,"NM","B","RCAM",1)

"BLD",6058,"KRN",9.8,"NM","B","RCCPCML",3)

"BLD",6058,"KRN",9.8,"NM","B","RCCPCPS",2)

"BLD",6058,"KRN",19,0)
19
"BLD",6058,"KRN",19,"NM",0)
^9.68A^^
"BLD",6058,"KRN",19.1,0)
19.1
"BLD",6058,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",6058,"KRN",101,0)
101
"BLD",6058,"KRN",101,"NM",0)
^9.68A^^
"BLD",6058,"KRN",409.61,0)
409.61
"BLD",6058,"KRN",771,0)
771
"BLD",6058,"KRN",870,0)
870
"BLD",6058,"KRN",8989.51,0)
8989.51
"BLD",6058,"KRN",8989.52,0)
8989.52
"BLD",6058,"KRN",8994,0)
8994
"BLD",6058,"KRN","B",.4,.4)

"BLD",6058,"KRN","B",.401,.401)

"BLD",6058,"KRN","B",.402,.402)

"BLD",6058,"KRN","B",.403,.403)

"BLD",6058,"KRN","B",.5,.5)

"BLD",6058,"KRN","B",.84,.84)

"BLD",6058,"KRN","B",3.6,3.6)

"BLD",6058,"KRN","B",3.8,3.8)

"BLD",6058,"KRN","B",9.2,9.2)

"BLD",6058,"KRN","B",9.8,9.8)

"BLD",6058,"KRN","B",19,19)

"BLD",6058,"KRN","B",19.1,19.1)

"BLD",6058,"KRN","B",101,101)

"BLD",6058,"KRN","B",409.61,409.61)

"BLD",6058,"KRN","B",771,771)

"BLD",6058,"KRN","B",870,870)

"BLD",6058,"KRN","B",8989.51,8989.51)

"BLD",6058,"KRN","B",8989.52,8989.52)

"BLD",6058,"KRN","B",8994,8994)

"BLD",6058,"QUES",0)
^9.62^^
"BLD",6058,"REQB",0)
^9.611^^0
"FIA",340)
AR DEBTOR
"FIA",340,0)
^RCD(340,
"FIA",340,0,0)
340V
"FIA",340,0,1)
y^n^p^^^^n^^n
"FIA",340,0,10)

"FIA",340,0,11)

"FIA",340,0,"RLRO")

"FIA",340,0,"VR")
4.5^PRCA
"FIA",340,340)
1
"FIA",340,340,111)

"FIA",349.2)
AR CCPC STATEMENTS
"FIA",349.2,0)
^RCPS(349.2,
"FIA",349.2,0,0)
349.2I
"FIA",349.2,0,1)
y^n^p^^^^n^^n
"FIA",349.2,0,10)

"FIA",349.2,0,11)

"FIA",349.2,0,"RLRO")

"FIA",349.2,0,"VR")
4.5^PRCA
"FIA",349.2,349.2)
1
"FIA",349.2,349.2,62)

"INIT")
START^PRCA223
"KRN",.402,1513,-1)
0^1
"KRN",.402,1513,0)
RCAM ADDRESS EDIT^3041110.1533^^340^^^3050418
"KRN",.402,1513,"DR",1,340)
1.01;1.02;1.03;1.04;1.05;I $P($G(^DIC(5,+X,0)),"^",3)'>90 S Y=1.06;1.08;S Y=1.07;1.06;1.07;111;
"MBREQ")
0
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",142,-1)
1^1
"PKG",142,0)
ACCOUNTS RECEIVABLE^PRCA^BILL COLLECTIONS
"PKG",142,20,0)
^9.402P^1^1
"PKG",142,20,1,0)
2^^PRCAMRG
"PKG",142,20,1,1)

"PKG",142,20,"B",2,1)

"PKG",142,22,0)
^9.49I^1^1
"PKG",142,22,1,0)
4.5^^2950320
"PKG",142,22,1,"PAH",1,0)
223^3050419^66485
"PKG",142,22,1,"PAH",1,1,0)
^^20^20^3050419
"PKG",142,22,1,"PAH",1,1,1,0)
Description:
"PKG",142,22,1,"PAH",1,1,2,0)
===========
"PKG",142,22,1,"PAH",1,1,3,0)
 
"PKG",142,22,1,"PAH",1,1,4,0)
This patch contains 2 enhancements and resolves 1 NOIS.
"PKG",142,22,1,"PAH",1,1,5,0)
 
"PKG",142,22,1,"PAH",1,1,6,0)
The Chief Business Office has requested additional enhancements to the
"PKG",142,22,1,"PAH",1,1,7,0)
software that transmits the Patient Statements from the VAMC to the AAC.
"PKG",142,22,1,"PAH",1,1,8,0)
 
"PKG",142,22,1,"PAH",1,1,9,0)
 
"PKG",142,22,1,"PAH",1,1,10,0)
Description of enhancements:
"PKG",142,22,1,"PAH",1,1,11,0)
---------------------------
"PKG",142,22,1,"PAH",1,1,12,0)
1. Remove the "In Part" and "In Full" wording from the patient statements. 
"PKG",142,22,1,"PAH",1,1,13,0)
2. Identify patients to the AAC with will require larger print (font) on
"PKG",142,22,1,"PAH",1,1,14,0)
   their billing statement.
"PKG",142,22,1,"PAH",1,1,15,0)
 
"PKG",142,22,1,"PAH",1,1,16,0)
 
"PKG",142,22,1,"PAH",1,1,17,0)

"PKG",142,22,1,"PAH",1,1,18,0)
This patch addresses the following NOIS message(s):
"PKG",142,22,1,"PAH",1,1,19,0)
---------------------------------------------------
"PKG",142,22,1,"PAH",1,1,20,0)
1. WIM-0402-20728
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","PRCA223")
0^^B2115868
"RTN","PRCA223",1,0)
PRCA223 ;WISC/TN-AR conversion routine for PRCA*4.5*223 ;03/18/05
"RTN","PRCA223",2,0)
 ;;4.5;Accounts Receivable;**223**;Mar 20, 199
"RTN","PRCA223",3,0)
 ;
"RTN","PRCA223",4,0)
 ;This is a post initialization routine for PRCA*4.5*223.
"RTN","PRCA223",5,0)
 ;This routine updates field 111 for file 340
"RTN","PRCA223",6,0)
 ;
"RTN","PRCA223",7,0)
 ;Field 111 is a new field for file 340.
"RTN","PRCA223",8,0)
 ;-------------------------------------------------------
"RTN","PRCA223",9,0)
 QUIT
"RTN","PRCA223",10,0)
 ;
"RTN","PRCA223",11,0)
START NEW DEBT,DIE,DR,DA,CNT,MSG,REC,NAME
"RTN","PRCA223",12,0)
 S DIE="^RCD(340,"
"RTN","PRCA223",13,0)
 S DR="111////0"
"RTN","PRCA223",14,0)
 S (CNT,DEBT)=0
"RTN","PRCA223",15,0)
 S NAME="NAME IS UNKNOWN"
"RTN","PRCA223",16,0)
 S MSG(1)=">>> BEGIN POST-INITIALIZATION FOR PRCA*4.5*223"
"RTN","PRCA223",17,0)
 S MSG(2)=">>> UPDATE FIELD 111 FOR FILE 340"
"RTN","PRCA223",18,0)
 S MSG(3)="----------------------------------------------"
"RTN","PRCA223",19,0)
 S MSG(3,"F")="!"
"RTN","PRCA223",20,0)
 W !!!
"RTN","PRCA223",21,0)
 D EN^DDIOL(.MSG)
"RTN","PRCA223",22,0)
 ;
"RTN","PRCA223",23,0)
 F  S DEBT=$O(^RCD(340,"AB","DPT(",DEBT)) Q:'DEBT  D  ;
"RTN","PRCA223",24,0)
 . S REC=$G(^RCD(340,DEBT,0))
"RTN","PRCA223",25,0)
 . QUIT:REC=""
"RTN","PRCA223",26,0)
 . QUIT:$P(REC,U,7)'=""
"RTN","PRCA223",27,0)
 . S DFN=$P(REC,";"),DA=DEBT
"RTN","PRCA223",28,0)
 . S NAME=$P($G(^DPT(DFN,0)),U)
"RTN","PRCA223",29,0)
 . S:NAME="" NAME="NAME IS UNKNOWN"
"RTN","PRCA223",30,0)
 . D ^DIE
"RTN","PRCA223",31,0)
 . S CNT=CNT+1
"RTN","PRCA223",32,0)
 . S MSG="Processing debtor: "_NAME_" ("_DFN_")"
"RTN","PRCA223",33,0)
 . D EN^DDIOL(MSG)
"RTN","PRCA223",34,0)
 ;
"RTN","PRCA223",35,0)
 I CNT=0 D EN^DDIOL("ALL DONE - NO RECORDS WERE UPDATED","","!!") QUIT
"RTN","PRCA223",36,0)
 S MSG="ALL DONE - THE NUMBER OF RECORDS UPDATED = "_CNT
"RTN","PRCA223",37,0)
 D EN^DDIOL(MSG,"","!!")
"RTN","PRCA223",38,0)
 ;
"RTN","PRCA223",39,0)
 QUIT
"RTN","RCAM")
0^1^B26056904
"RTN","RCAM",1,0)
RCAM ;WASH-ISC@ALTOONA,PA/RGY-Manager Debtor Information ;12/19/96  12:48 PM
"RTN","RCAM",2,0)
V ;;4.5;Accounts Receivable;**34,190,198,223**;Mar 20, 1995
"RTN","RCAM",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","RCAM",4,0)
 NEW DIC,DIE,DIR,DIRUT,DUOUT,DTOUT,DR,DA,Y
"RTN","RCAM",5,0)
 F  W ! S DIC="^RCD(340,",DIC(0)="QEAM" D ^DIC Q:Y<0  S DA=+Y,DR=$S($P(Y,U,2)["DPT(":".02;",$P(Y,U,2)[";DIC(36,":".05;",$P(Y,U,2)[";DIC(4,":".05;",1:"")_2,DIE="^RCD(340," D ^DIE
"RTN","RCAM",6,0)
 Q
"RTN","RCAM",7,0)
EDT ;Select AR Debtor address information
"RTN","RCAM",8,0)
 NEW DIC,Y,RCDB
"RTN","RCAM",9,0)
 N DPTNOFZY,DPTNOFZK S (DPTNOFZY,DPTNOFZK)=1
"RTN","RCAM",10,0)
 F  W ! S DIC="^RCD(340,",DIC(0)="QEAM" D ^DIC Q:Y<0  D EN1($P(^RCD(340,+Y,0),U)) Q:$D(DTOUT)
"RTN","RCAM",11,0)
 Q
"RTN","RCAM",12,0)
EN1(RCDB) ;Edit Debtor address
"RTN","RCAM",13,0)
 D DIS(RCDB)
"RTN","RCAM",14,0)
 I RCDB["VA(200" D PER(RCDB) G Q2
"RTN","RCAM",15,0)
 I RCDB["DPT(" D PAT(RCDB) G Q2
"RTN","RCAM",16,0)
 I RCDB["PRC(440" D VEN(RCDB) G Q2
"RTN","RCAM",17,0)
 I RCDB["DIC(4" D INST(RCDB) G Q2
"RTN","RCAM",18,0)
 I RCDB["DIC(36" D INSUR(RCDB)
"RTN","RCAM",19,0)
Q2 Q
"RTN","RCAM",20,0)
PER(RCDB) ;Edit person address
"RTN","RCAM",21,0)
 NEW DA,DIE,DR
"RTN","RCAM",22,0)
 S DA=+RCDB,DIE="^VA(200,",DR=".111;.112;.113;.114;.115;.116;.131" D ^DIE
"RTN","RCAM",23,0)
 Q
"RTN","RCAM",24,0)
INSUR(RCDB) ;Edit insurance address
"RTN","RCAM",25,0)
 W !!,"Sorry, edit to the insurance file must be done via MAS",!!
"RTN","RCAM",26,0)
 Q
"RTN","RCAM",27,0)
PAT(RCDB) ;Edit Patient Address
"RTN","RCAM",28,0)
 NEW RCDB0,RCAD,DIR,DIRUT,DUOUT,DIROUT,DA,DIE,DR,ADR1,ADR2,ADR3
"RTN","RCAM",29,0)
 S RCDB0=$O(^RCD(340,"B",RCDB,0))
"RTN","RCAM",30,0)
 S ADR1=$$PAT^RCAMADD(+RCDB,0) ;permanent address
"RTN","RCAM",31,0)
 S ADR2=$$PAT^RCAMADD(+RCDB,1) ;confidential mailing address
"RTN","RCAM",32,0)
 S ADR3=$$ARDEB^RCAMADD(RCDB0) ;accounts receivable address
"RTN","RCAM",33,0)
 W !,"Address from Patient file: " I ADR2'="" W ?40,"Confidential Address from Patient file:"
"RTN","RCAM",34,0)
 W ! D DIS2(ADR1,ADR2)
"RTN","RCAM",35,0)
 W !,"Address from AR Debtor file: "
"RTN","RCAM",36,0)
 W ! D DIS2(ADR3,"")
"RTN","RCAM",37,0)
PAT1 S DA=RCDB0
"RTN","RCAM",38,0)
 S DIR("B")=$S($P($G(^RCD(340,+RCDB0,1)),U,9):"YES",1:"NO")
"RTN","RCAM",39,0)
 S DIR(0)="340,1.09^AO" D ^DIR
"RTN","RCAM",40,0)
 G:$D(DIRUT) Q1
"RTN","RCAM",41,0)
 S $P(^RCD(340,+RCDB0,1),U,9)=Y
"RTN","RCAM",42,0)
 S DIE="^RCD(340,",DR="[RCAM ADDRESS EDIT]" D ^DIE
"RTN","RCAM",43,0)
 I $P($G(^RCD(340,+RCDB0,1)),U,9) D
"RTN","RCAM",44,0)
 .N DIK,DA,DR
"RTN","RCAM",45,0)
 .S DA=$O(^RC(341,"AD",+RCDB0,2,0))
"RTN","RCAM",46,0)
 .Q:'DA  S DA=$O(^RC(341,"AD",+RCDB0,2,DA,0))
"RTN","RCAM",47,0)
 .Q:'DA
"RTN","RCAM",48,0)
 .Q:'$P($G(^RC(341,+DA,0)),U,7)
"RTN","RCAM",49,0)
 .S RCDA=DA
"RTN","RCAM",50,0)
 .S X1=DT,X2=$P($G(^RC(341,+DA,0)),U,7) D ^%DTC
"RTN","RCAM",51,0)
 .Q:X>90
"RTN","RCAM",52,0)
 .S DA=RCDA
"RTN","RCAM",53,0)
 .S DIK="^RC(341,"
"RTN","RCAM",54,0)
 .D ^DIK
"RTN","RCAM",55,0)
 .S DA="" F  S DA=$O(^PRCA(430,"AS",+RCDB0,16,DA)) Q:'DA  I $G(^PRCA(430,+DA,6)) S $P(^PRCA(430,+DA,6),U,7)="" F DA(1)=1:1:3 S $P(^PRCA(430,+DA,6),U,DA(1))=""
"RTN","RCAM",56,0)
CHK ;Check Address for patients
"RTN","RCAM",57,0)
 S Y=0,RCAD=$G(^RCD(340,RCDB0,1)) F X=1,4,5,6 I $P(RCAD,U,X)]"" S Y=Y+1
"RTN","RCAM",58,0)
 I $P(RCAD,U,8)]"" S Y=Y+1
"RTN","RCAM",59,0)
 I Y=4!'Y G Q1
"RTN","RCAM",60,0)
 I $P(RCAD,U)]"",$P(RCAD,U,4)]"",$P(RCAD,U,5)]"",$P(RCAD,U,6)]"" G Q1
"RTN","RCAM",61,0)
 I $P(RCAD,U)]"",$P(RCAD,U,4)]"",$P(RCAD,U,5)]"",$P(RCAD,U,8)]"" G Q1
"RTN","RCAM",62,0)
 W !!,"*** WARNING: There appears to be incomplete address information",!
"RTN","RCAM",63,0)
 I $D(DTOUT) D DELA S DTOUT=1 G Q1
"RTN","RCAM",64,0)
 W ! S DIR(0)="YA",DIR("B")="YES",DIR("A")="Do you want to re-edit the information? " D ^DIR
"RTN","RCAM",65,0)
 G:Y PAT1 D DELA
"RTN","RCAM",66,0)
Q1 Q
"RTN","RCAM",67,0)
DELA ;Delete AR debtor address information
"RTN","RCAM",68,0)
 S DA=RCDB0,DIE="^RCD(340,",DR="1.01///@;1.02///@;1.03///@;1.04///@;1.05///@;1.06///@" D ^DIE W !,"*** Old address information deleted from AR address file ***",!
"RTN","RCAM",69,0)
 Q
"RTN","RCAM",70,0)
INST(RCDB) ;Edit institution
"RTN","RCAM",71,0)
 NEW DA,DIE,DR
"RTN","RCAM",72,0)
 S DA=+RCDB,DIE="^DIC(4,",DR="1.01;1.02;1.03;.02;1.04" D ^DIE
"RTN","RCAM",73,0)
 Q
"RTN","RCAM",74,0)
VEN(RCDB) ;Edit Vendor file
"RTN","RCAM",75,0)
 NEW DA,DIE,DR
"RTN","RCAM",76,0)
 S DA=+RCDB,DIE="^PRC(440,",DR="22.1;22.2;22.3;22.4;22.5;22.6;22.7" D ^DIE
"RTN","RCAM",77,0)
 Q
"RTN","RCAM",78,0)
DIS(RCDB) ;Display address information
"RTN","RCAM",79,0)
 NEW RCDB0,RCCONF,ADR1,ADR2,RCNAM
"RTN","RCAM",80,0)
 S RCDB0=$O(^RCD(340,"B",RCDB,0))
"RTN","RCAM",81,0)
 G:'$D(^RCD(340,+RCDB0,0)) Q3
"RTN","RCAM",82,0)
 S RCNAM=$$NAM^RCFN01(RCDB0) ;debtor name
"RTN","RCAM",83,0)
 S ADR1=$$DADD^RCAMADD(RCDB),ADR2=""
"RTN","RCAM",84,0)
 I RCDB["DPT(" S ADR2=$$PAT^RCAMADD(+RCDB,1) ;get veteran's confidential address, if any
"RTN","RCAM",85,0)
 W @IOF,!,"Address Accounts Receivable will use: "
"RTN","RCAM",86,0)
 I ADR2'="" W ?40,"Address for mailing to veteran:"
"RTN","RCAM",87,0)
 W !!
"RTN","RCAM",88,0)
 W ?3,RCNAM I ADR2'="" W ?42,RCNAM
"RTN","RCAM",89,0)
 D DIS2(ADR1,ADR2)
"RTN","RCAM",90,0)
 I $P($G(^RCD(340,RCDB0,0)),U,7)=1 D
"RTN","RCAM",91,0)
 . W ?3,"Large print needed on statements: YES",!
"RTN","RCAM",92,0)
Q3 Q
"RTN","RCAM",93,0)
DIS1 ;
"RTN","RCAM",94,0)
 W !?5,$P(X,U) W:$P(X,U,2)]"" !?5,$P(X,U,2) W:$P(X,U,3)]"" !?5,$P(X,U,3) W:$P(X,U,4)]"" !?5,$P(X,U,4),", ",$P(X,U,5)," ",$P(X,U,6) W:$P(X,U,7)'="" !?5,"Phone: ",$P(X,U,7) W !
"RTN","RCAM",95,0)
 Q
"RTN","RCAM",96,0)
 ; Display two addresses in two columns.
"RTN","RCAM",97,0)
DIS2(ADR1,ADR2) N TAB1,TAB2
"RTN","RCAM",98,0)
 S TAB1=3,TAB2=42
"RTN","RCAM",99,0)
 I ($P(ADR1,U,1)'="")!($P(ADR2,U,1)'="") W !?TAB1,$P(ADR1,U,1) I $P(ADR2,U,1)'="" W " ",?TAB2,$P(ADR2,U,1)
"RTN","RCAM",100,0)
 I ($P(ADR1,U,2)'="")!($P(ADR2,U,2)'="") W !?TAB1,$P(ADR1,U,2) I $P(ADR2,U,2)'="" W " ",?TAB2,$P(ADR2,U,2)
"RTN","RCAM",101,0)
 I ($P(ADR1,U,3)'="")!($P(ADR2,U,3)'="") W !?TAB1,$P(ADR1,U,3) I $P(ADR2,U,3)'="" W " ",?TAB2,$P(ADR2,U,3)
"RTN","RCAM",102,0)
 I ($P(ADR1,U,4)'="")!($P(ADR2,U,4)'="") W ! D
"RTN","RCAM",103,0)
 . W:$P(ADR1,U,4)'="" ?TAB1,$P(ADR1,U,4),", ",$P(ADR1,U,5)," ",$P(ADR1,U,6)
"RTN","RCAM",104,0)
 . W:$P(ADR2,U,4)'="" " ",?TAB2,$P(ADR2,U,4),", ",$P(ADR2,U,5)," ",$P(ADR2,U,6)
"RTN","RCAM",105,0)
 W:$P(ADR1,U,7)'="" !?TAB1,"Phone: ",$P(ADR1,U,7) ; conf address doesn't have phone no.
"RTN","RCAM",106,0)
 W !
"RTN","RCAM",107,0)
 Q
"RTN","RCAM",108,0)
FOL ;Called by input transform from 341,4.02
"RTN","RCAM",109,0)
 I X<$P($G(^RC(341,DA,0)),U,6) W !!,*7,"Follow-up Date is before Date of Contact",! K X Q
"RTN","RCAM",110,0)
 I $P($G(^RC(341,DA,0)),U,6)="" W !!,*7,"Date of Contact does not exist!",! K X Q
"RTN","RCAM",111,0)
 Q
"RTN","RCCPCML")
0^3^B45438721
"RTN","RCCPCML",1,0)
RCCPCML ;WASH-ISC@ALTOONA,PA/LDB-Send CCPC transmission ;12/19/96  4:16 PM
"RTN","RCCPCML",2,0)
V ;;4.5;Accounts Receivable;**34,80,93,118,133,140,160,165,187,195,206,223**;Mar 20, 1995
"RTN","RCCPCML",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","RCCPCML",4,0)
TRAN ;called from RCCPC TRANSMIT option to interactively allow transmission of CCPC mesages
"RTN","RCCPCML",5,0)
 N %DT,DTOUT,SDT,X,Y,ZTRTN,ZTSAVE,ZTDESC,ZTIO
"RTN","RCCPCML",6,0)
 I '$D(^XUSEC("RCCPC TRANSMIT",DUZ)) W *7,*7,!,"You do not have access to do this." Q
"RTN","RCCPCML",7,0)
 S %DT="AEXP"
"RTN","RCCPCML",8,0)
 S %DT("A")="Enter statement date as it will appear on these statements: "
"RTN","RCCPCML",9,0)
 S SDT=$O(^RCPS(349.2,0)) I 'SDT W !,"You need to build the CCPC file." Q
"RTN","RCCPCML",10,0)
 S SDT=$P($P($G(^RCPS(349.2,SDT,0)),"^",10),".") I 'SDT W !,"Your CCPC statement file (349.2) is corrupted. Please rebuild it." Q
"RTN","RCCPCML",11,0)
 S SDT=$E(SDT,1,5)_$$STDY^RCCPCFN
"RTN","RCCPCML",12,0)
 S %DT("B")=$$FMTE^XLFDT(SDT)
"RTN","RCCPCML",13,0)
 D ^%DT Q:(X="^")!($D(DTOUT))!(Y=-1)
"RTN","RCCPCML",14,0)
 S SDT=$E(Y,1,5)_$$STDY^RCCPCFN,SDT=$$STDT^RCCPCFN(SDT)
"RTN","RCCPCML",15,0)
 S ZTSAVE("SDT")="",ZTRTN="RETRAN^RCCPCML",ZTIO="",ZTDESC="Re-transmit CCPC patient statements -user activated"
"RTN","RCCPCML",16,0)
 D ^%ZTLOAD
"RTN","RCCPCML",17,0)
 Q
"RTN","RCCPCML",18,0)
 ;
"RTN","RCCPCML",19,0)
EN ;called from background job
"RTN","RCCPCML",20,0)
 N DA,DIK,LPRINT
"RTN","RCCPCML",21,0)
 S SDT=$$STDT^RCCPCFN("")
"RTN","RCCPCML",22,0)
RETRAN N DA,DIK,ERROR,RCT,X
"RTN","RCCPCML",23,0)
 S (ERROR,X)=0 F  S X=$O(^RCPS(349.2,X)) Q:'X  I $G(^(X,6)) S ERROR=1,NM=0 D ERROR Q
"RTN","RCCPCML",24,0)
 I $G(ERROR) D EXIT Q
"RTN","RCCPCML",25,0)
 K ^TMP($J)
"RTN","RCCPCML",26,0)
 S X=0 F  S X=$O(^RCT(349,"B",X)) Q:X=""  I $P(X,".")="PS" S DA=$O(^RCT(349,"B",X,0)),DIK="^RCT(349," D ^DIK
"RTN","RCCPCML",27,0)
 F X="PA","IS","IT" S RCT=$O(^RCT(349.1,"B",X,0)) I RCT K ^RCT(349.1,+RCT,4)
"RTN","RCCPCML",28,0)
 N %,ADD,AMT,ERROR,L,LN,M,MSG,MCT,MPT1,MTOT,NM,P,PD,PD0,PSN,PT,PT0,PHCT,RCM,RTY,TAMT,TMSG,SZ
"RTN","RCCPCML",29,0)
 D DT^DICRW
"RTN","RCCPCML",30,0)
 S (ERROR,RTY)=0
"RTN","RCCPCML",31,0)
 S X=$O(^RCT(349.1,"B","PS",0))
"RTN","RCCPCML",32,0)
 I X,$P($G(^RCT(349.1,+X,0)),"^",3) S X=$P($G(^RCT(349.1,+X,3)),"^",3)
"RTN","RCCPCML",33,0)
 I X']"" S ERROR=6,NM=0 D ERROR,EXIT Q
"RTN","RCCPCML",34,0)
 D PHCT I 'PHCT S ERROR=1,NM=0 D ERROR,EXIT Q
"RTN","RCCPCML",35,0)
 S MTOT=$O(^TMP($J,"MCT",""),-1)
"RTN","RCCPCML",36,0)
 S MCT=0 F  S MCT=$O(^TMP($J,"MCT",MCT)) Q:'MCT  D PS
"RTN","RCCPCML",37,0)
EXIT D ERRML^RCCPCML1
"RTN","RCCPCML",38,0)
 K SDT,^TMP($J)
"RTN","RCCPCML",39,0)
 Q
"RTN","RCCPCML",40,0)
 ;
"RTN","RCCPCML",41,0)
F349 ;Get PS segment entry
"RTN","RCCPCML",42,0)
 N DA,D0,DIC,DLAYGO,X
"RTN","RCCPCML",43,0)
 S ERROR=0 K DD,DO S DIC="^RCT(349,",DIC(0)="L",DLAYGO=349,X="PS."_$TR($$FMTE^XLFDT(DT,"2D"),"/",".")_"."_RCM D FILE^DICN
"RTN","RCCPCML",44,0)
 I Y<0 S RTY=RTY+1 G F349:RTY<4 S ERROR=2,NM=0 D ERROR Q
"RTN","RCCPCML",45,0)
 S PSN=+Y
"RTN","RCCPCML",46,0)
 Q
"RTN","RCCPCML",47,0)
 ;
"RTN","RCCPCML",48,0)
PS ;Build PS,PH,PD segments and messages
"RTN","RCCPCML",49,0)
 S PSN=$O(^TMP($J,"MCT",MCT,0))
"RTN","RCCPCML",50,0)
 S $P(^RCT(349,+PSN,0),"^",3,10)=MCT_"^"_MTOT_"^"_$$SITE^RCMSITE()_"^"_$$FP^RCCPCFN_"^"_+^TMP($J,"MCT",MCT)_"^"_$P(^TMP($J,"MCT",MCT),"^",2)_"^"_SDT_"^"_$$STM^RCCPCFN
"RTN","RCCPCML",51,0)
 S LN=+PSN,^TMP($J,"MSG",LN)=$P($G(^RCT(349,+PSN,0)),"^",2,10)_"^|"
"RTN","RCCPCML",52,0)
 S MPT1=$P(^TMP($J,"MCT",MCT),"^",3)
"RTN","RCCPCML",53,0)
 S PT=$S(MCT=1:0,1:$P(^TMP($J,"MCT",MCT-1),"^",3))
"RTN","RCCPCML",54,0)
 F  S PT=$O(^RCPS(349.2,PT)) Q:PT=$O(^RCPS(349.2,+($P(^TMP($J,"MCT",MCT),"^",3))))  D
"RTN","RCCPCML",55,0)
 .Q:$D(^TMP($J,"ERRPT",+PT))
"RTN","RCCPCML",56,0)
 .S PT0=^RCPS(349.2,+PT,0)
"RTN","RCCPCML",57,0)
 .S LN=LN+1 S ^TMP($J,"MSG",LN)="PH^"_$$SITE^RCMSITE_$$KEY^RCCPCFN(+PT)_"^"_$$NM^RCCPCFN(+PT)_"^"
"RTN","RCCPCML",58,0)
 .S ADD=$G(^RCPS(349.2,+PT,1))
"RTN","RCCPCML",59,0)
 .;
"RTN","RCCPCML",60,0)
 .;Remove special characters causing problems (WIM-0402-20728)
"RTN","RCCPCML",61,0)
 .I ADD["~" S ADD=$TR(ADD,"~","") ;Remove tilde
"RTN","RCCPCML",62,0)
 .I ADD["|" S ADD=$TR(ADD,"|","") ;Remove the pipe symbol
"RTN","RCCPCML",63,0)
 .;
"RTN","RCCPCML",64,0)
 .;Debtor needs large print (font) IF LPRINT=1
"RTN","RCCPCML",65,0)
 .S LPRINT=$G(^RCPS(349.2,+PT,7)) S:LPRINT="" LPRINT=0
"RTN","RCCPCML",66,0)
 .;
"RTN","RCCPCML",67,0)
 .F P=1:1:7 S $P(^TMP($J,"MSG",LN),"^",P+5)=$S($P(ADD,"^",P)]"":$P(ADD,"^",P),1:"")
"RTN","RCCPCML",68,0)
 .S ^TMP($J,"MSG",LN)=^TMP($J,"MSG",LN)_"^"
"RTN","RCCPCML",69,0)
 .S LN=LN+1
"RTN","RCCPCML",70,0)
 .F X=4:1:8 S $P(AMT,"^",X-3)=$$HEX^RCCPCFN($P(PT0,"^",X))
"RTN","RCCPCML",71,0)
 .;S ^TMP($J,"MSG",LN)=AMT_"^"_$G(^RCPS(349.2,+PT,3))_"^"_$G(^RCPS(349.2,+PT,4))_"^"_$P(^RCPS(349.2,+PT,2,0),"^",4)_"^|"
"RTN","RCCPCML",72,0)
 .S ^TMP($J,"MSG",LN)=AMT_"^"_$G(^RCPS(349.2,+PT,3))_"^"_$G(^RCPS(349.2,+PT,4))_"^"_$O(^RCPS(349.2,+PT,2,""),-1)
"RTN","RCCPCML",73,0)
 .S LN=LN+1 I $P($G(^RCD(340,+PT,0)),";") S ^TMP($J,"MSG",LN)="^"_$$SITE^RCMSITE_$$RJ^XLFSTR($TR($P(^RCD(340,+PT,0),";"),".",""),13,0)
"RTN","RCCPCML",74,0)
 .S ^TMP($J,"MSG",LN)=$G(^TMP($J,"MSG",LN))_"^"_LPRINT_"^|"
"RTN","RCCPCML",75,0)
 .S $P(^RCPS(349.2,+PT,0),"^",11)=+PSN
"RTN","RCCPCML",76,0)
 .S PD=0 F  S PD=$O(^RCPS(349.2,+PT,2,PD)) Q:'PD  I $D(^(PD,0)) S PD0=^(0) D
"RTN","RCCPCML",77,0)
 ..S AMT(0)=$$HEX^RCCPCFN($P(PD0,"^",3))
"RTN","RCCPCML",78,0)
 ..S LN=LN+1,^TMP($J,"MSG",LN)="PD^"_$$DAT^RCCPCFN(+PD0)_"^"_$P(PD0,"^",2)_"^"_AMT(0)_"^"_$P(PD0,"^",4)_"^|"
"RTN","RCCPCML",79,0)
 S LN=LN+1,^TMP($J,"MSG",LN)="~"
"RTN","RCCPCML",80,0)
 ;
"RTN","RCCPCML",81,0)
MAIL ;set up mail message
"RTN","RCCPCML",82,0)
 N L,XMDUZ,XMSUB,XMY,XMZ,Z
"RTN","RCCPCML",83,0)
 S XMSUB=$$SITE^RCMSITE()_" CCPC TRANSMISSION "_SDT
"RTN","RCCPCML",84,0)
 S XMDUZ="AR PACKAGE"
"RTN","RCCPCML",85,0)
 I $O(^XMB(3.8,"B","RCCPC STATEMENTS","")),$P($G(^RC(342,1,0)),"^",12) S XMY("G.RCCPC STATEMENTS")=""
"RTN","RCCPCML",86,0)
 S X=$O(^RCT(349.1,"B","PS",0))
"RTN","RCCPCML",87,0)
 I X,$P($G(^RCT(349.1,+X,0)),"^",3) S X=$P($G(^RCT(349.1,+X,3)),"^")_"@"_$P($G(^RCT(349.1,+X,3)),"^",3) S:$P(X,"@",2)]"" XMY(X)=""
"RTN","RCCPCML",88,0)
 I $P(X,"@",2)']"" D  Q
"RTN","RCCPCML",89,0)
 .S ERROR=6,NM=0 D ERROR
"RTN","RCCPCML",90,0)
 S XMDUZ="AR PACKAGE"
"RTN","RCCPCML",91,0)
 D XMZ^XMA2
"RTN","RCCPCML",92,0)
 I XMZ<1 S RTY=RTY+1 G MAIL:RTY<4 S ERROR=5,NM=0 D ERROR Q
"RTN","RCCPCML",93,0)
 S $P(^RCT(349,+PSN,0),"^",11,12)=DT_"^"_XMZ
"RTN","RCCPCML",94,0)
 S (L,L(1))=0 F  S L(1)=$O(^TMP($J,"MSG",L(1))) Q:'L(1)  S L=L+1,^XMB(3.9,+XMZ,2,L,0)=^TMP($J,"MSG",L(1))
"RTN","RCCPCML",95,0)
 ;S L=$O(^TMP($J,"MSG",""),-1)
"RTN","RCCPCML",96,0)
 S ^XMB(3.9,XMZ,2,0)="^3.92A^"_L_"^"_L_"^"_DT
"RTN","RCCPCML",97,0)
 D ENT1^XMD
"RTN","RCCPCML",98,0)
 D NOW^%DTC
"RTN","RCCPCML",99,0)
 S $P(^RCT(349,+PSN,0),"^",11,12)=%_"^"_XMZ
"RTN","RCCPCML",100,0)
 K ^TMP($J,"MSG")
"RTN","RCCPCML",101,0)
 ;D KILL^XM
"RTN","RCCPCML",102,0)
 Q
"RTN","RCCPCML",103,0)
 ;
"RTN","RCCPCML",104,0)
PHCT ;PH count
"RTN","RCCPCML",105,0)
 S (ERROR,PT,PHCT,TAMT,SZ)=0,RCM=1
"RTN","RCCPCML",106,0)
 F  S PT=$O(^RCPS(349.2,PT)) Q:'PT  S ERROR=0 D  I ERROR,(ERROR<3) Q
"RTN","RCCPCML",107,0)
 .S SZ(1)=0 D ERRCHK Q:ERROR
"RTN","RCCPCML",108,0)
 .S PT0=^RCPS(349.2,+PT,0)
"RTN","RCCPCML",109,0)
 .S PHCT=PHCT+1
"RTN","RCCPCML",110,0)
 .S SZ=550+SZ,SZ(1)=550
"RTN","RCCPCML",111,0)
 .S:$G(^RCPS(349.2,+PT,1))]"" SZ=SZ+$L(^(1)),SZ(1)=SZ(1)+$L(^(1))
"RTN","RCCPCML",112,0)
 .S:$G(^RCPS(349.2,+PT,3))]"" SZ=SZ+$L(^(3))+1,SZ(1)=SZ(1)+$L(^(3))+1
"RTN","RCCPCML",113,0)
 .S:$G(^RCPS(349.2,+PT,4))]"" SZ=SZ+$L(^(4))+1,SZ(1)=SZ(1)+$L(^(4))+1
"RTN","RCCPCML",114,0)
 .S X=0 F  S X=$O(^RCPS(349.2,+PT,2,X)) Q:'X  I $D(^(X,0)) S SZ=$L(^(0))+SZ,SZ(1)=SZ(1)+$L(^(0))
"RTN","RCCPCML",115,0)
 .S TAMT=TAMT+$P(^RCPS(349.2,+PT,0),"^",8)
"RTN","RCCPCML",116,0)
 .I SZ>27000 D
"RTN","RCCPCML",117,0)
 ..S RTY=0 D F349 Q:ERROR
"RTN","RCCPCML",118,0)
 ..S TAMT=TAMT-$P(PT0,"^",8)
"RTN","RCCPCML",119,0)
 ..S TAMT=$$HEX^RCCPCFN(TAMT)
"RTN","RCCPCML",120,0)
 ..S ^TMP($J,"MCT",RCM)=(PHCT-1)_"^"_TAMT_"^"_$O(^RCPS(349.2,PT),-1)_"^"_(SZ-SZ(1))
"RTN","RCCPCML",121,0)
 ..S ^TMP($J,"MCT",RCM,+PSN)=""
"RTN","RCCPCML",122,0)
 ..S RCM=RCM+1,PHCT=1
"RTN","RCCPCML",123,0)
 ..S SZ=SZ(1)
"RTN","RCCPCML",124,0)
 ..S TAMT=$P(PT0,"^",8)
"RTN","RCCPCML",125,0)
 I 'PT,$O(^RCPS(349.2,0)) D
"RTN","RCCPCML",126,0)
 .S RTY=0 D F349 Q:ERROR  S ^TMP($J,"MCT",RCM)=PHCT_"^"_$$HEX^RCCPCFN(TAMT)_"^"_$O(^RCPS(349.2,PT),-1)
"RTN","RCCPCML",127,0)
 .S ^TMP($J,"MCT",RCM,+PSN)=""
"RTN","RCCPCML",128,0)
 Q
"RTN","RCCPCML",129,0)
 ;
"RTN","RCCPCML",130,0)
ERROR ;ERROR FILE
"RTN","RCCPCML",131,0)
 I NM=0 S ^TMP($J,"ERROR",ERROR,NM)="" Q
"RTN","RCCPCML",132,0)
 S ^TMP($J,"ERROR",ERROR,NM,$$SSN^RCFN01(+PT))=""
"RTN","RCCPCML",133,0)
 Q
"RTN","RCCPCML",134,0)
 ;
"RTN","RCCPCML",135,0)
ERRCHK ;Error check
"RTN","RCCPCML",136,0)
 I '$D(^RCPS(349.2,+PT,0)) S ERROR=1,NM=0 D ERROR Q
"RTN","RCCPCML",137,0)
 S PT(1)=PT,PT=$O(^RCPS(349.2,0)) I '$P(^RCPS(349.2,PT,0),"^",18) S ERROR=1,NM=0 D ERROR S PT=PT(1) Q
"RTN","RCCPCML",138,0)
 S PT=PT(1)
"RTN","RCCPCML",139,0)
 I $$KEY^RCCPCFN(+PT)']"" S ERROR=4,NM=$$NAM^RCFN01(+PT) D ERROR S ^TMP($J,"ERRPT",+PT)="" Q
"RTN","RCCPCML",140,0)
 I '$D(^RCPS(349.2,"AKEY",$$KEY^RCCPCFN(+PT))) S ERROR=4,NM=$$NAM^RCFN01(+PT) D ERROR S ^TMP($J,"ERRPT",+PT)="" Q
"RTN","RCCPCML",141,0)
 S ADD=$G(^RCPS(349.2,+PT,1))
"RTN","RCCPCML",142,0)
 F P=1:1:7 S ADD(P)=$S($P(ADD,"^",P)]"":$P(ADD,"^",P),1:"")
"RTN","RCCPCML",143,0)
 I ADD(1)="",ADD(2)="",ADD(3)="",ADD(4)="",ADD(5)="",ADD(6)="" S ERROR=8,NM=$$NAM^RCFN01(+PT) D ERROR S ^TMP($J,"ERRPT",+PT)="" Q
"RTN","RCCPCML",144,0)
 I ADD(1)="",(ADD(2)=""),(ADD(3)=""),(ADD(6)="") S ERROR=8,NM=$$NAM^RCFN01(+PT) D ERROR S ^TMP($J,"ERRPT",+PT)="" Q
"RTN","RCCPCML",145,0)
 I ADD(4)=""!(ADD(5)="")!(ADD(6)="") S ERROR=8,NM=$$NAM^RCFN01(+PT) D ERROR S ^TMP($J,"ERRPT",+PT)=""
"RTN","RCCPCML",146,0)
 F ADD=1:1:6 I ADD(ADD)'?.ANP S ERROR=10,NM=$$NAM^RCFN01(+PT),^TMP($J,"ERRPT",+PT)="" D ERROR Q
"RTN","RCCPCML",147,0)
 I $P($G(^RCD(340,+PT,1)),"^",9) S ^TMP($J,"ERRPT",+PT)="",ERROR=9,NM=$$NAM^RCFN01(+PT) D ERROR
"RTN","RCCPCML",148,0)
 Q
"RTN","RCCPCPS")
0^2^B68896930
"RTN","RCCPCPS",1,0)
RCCPCPS ;WASH-ISC@ALTOONA,PA/NYB-Build Patient Statement File ;12/19/96  4:14 PM
"RTN","RCCPCPS",2,0)
V ;;4.5;Accounts Receivable;**34,70,80,48,104,116,149,170,181,190,223**;Mar 20, 1995
"RTN","RCCPCPS",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","RCCPCPS",4,0)
EN N CCPC,CNT,DAT,DEB,DIK,END,INADFL,LDT1,LDT3,PCC,PRN,RCDATE,RCT,SVADM,SVAMT,SVINT,SVOTH,SITE,TXT,VAR,X,%
"RTN","RCCPCPS",5,0)
 N RCINFULL,RCINPART
"RTN","RCCPCPS",6,0)
 K ^RCPS(349.2)
"RTN","RCCPCPS",7,0)
 F X="PA","IS" S RCT=$O(^RCT(349.1,"B",X,0)) Q:'RCT  K ^RCT(349.1,+RCT,4),^RCT(349.1,+RCT,5)
"RTN","RCCPCPS",8,0)
 K ^XTMP("RCCPC")
"RTN","RCCPCPS",9,0)
 D DT^DICRW,SITE^PRCAGU
"RTN","RCCPCPS",10,0)
 I '$D(SITE) W !!,"AR SITE PARAMETER ENTRIES NOT DEFINED!",?50 D NOW^%DTC S Y=% D DD^%DT W Y W !!,"COULD NOT PROCESS AR PATIENT STATEMENTS" Q
"RTN","RCCPCPS",11,0)
 D NOW^%DTC S END=%
"RTN","RCCPCPS",12,0)
 S LDT1=$$FPS^RCAMFN01(DT,-1),RCDATE=DT
"RTN","RCCPCPS",13,0)
 S (CNT,DEB)=0,PRN=1
"RTN","RCCPCPS",14,0)
 F  S DEB=$O(^RCD(340,"AB","DPT(",DEB)) Q:DEB=""  D
"RTN","RCCPCPS",15,0)
 .   N AMT,BBAL,BEG,BN,CAT,DESC,ETY,FC,ND,PAT,PBAL,PC
"RTN","RCCPCPS",16,0)
 .   N PDAT,PEND,ST,SVINT,SVADM,SVOTH,ADDR
"RTN","RCCPCPS",17,0)
 .   I $L(+$$SSN^RCFN01(DEB))<5 Q
"RTN","RCCPCPS",18,0)
 .   S INADFL=0
"RTN","RCCPCPS",19,0)
 .   S (SVADM,SVAMT,SVINT,SVOTH)=0
"RTN","RCCPCPS",20,0)
 .   N REF,SBAL,SDT,TBAL,TN,TTY,X,Y
"RTN","RCCPCPS",21,0)
 .   K ^TMP("PRCAGT",$J)
"RTN","RCCPCPS",22,0)
 .   S BEG=+$$LST^RCFN01(DEB,2)
"RTN","RCCPCPS",23,0)
 .   S LDT3=$S(BEG>0:$$FPS^RCAMFN01($P(BEG,"."),-3),1:0)
"RTN","RCCPCPS",24,0)
 .   I $P(BEG,".")'<$P(RCDATE,".") Q
"RTN","RCCPCPS",25,0)
 .   D NOW^%DTC S END=%
"RTN","RCCPCPS",26,0)
 .   I BEG<1 S PDAT="",BEG=0,PBAL=0
"RTN","RCCPCPS",27,0)
 .   I BEG S PDAT=BEG,BEG=9999999.999999-BEG,PBAL=0 D PBAL^PRCAGU(DEB,.BEG,.PBAL) ;get prev bal
"RTN","RCCPCPS",28,0)
 .   D EN^PRCAGT(DEB,BEG,.END)
"RTN","RCCPCPS",29,0)
 .   S TBAL=0 D TBAL^PRCAGT(DEB,.TBAL) ;get trans bal
"RTN","RCCPCPS",30,0)
 .   S BBAL=0 D BBAL^PRCAGU(DEB,.BBAL) ;get bill bal
"RTN","RCCPCPS",31,0)
 .   S X=$$PRE^PRCAGU(DEB) S PEND=$P(X,U,2),X=+X I X,BBAL D REF^PRCAGD(DEB,X,$G(REP)) Q
"RTN","RCCPCPS",32,0)
 .   I BBAL=0,PEND,-PEND=PBAL+TBAL Q
"RTN","RCCPCPS",33,0)
 .   I BBAL'=(PBAL+TBAL) D EN^PRCAGD(DEB,BBAL,TBAL,PBAL,BEG,$G(REP)) Q
"RTN","RCCPCPS",34,0)
 .   I BBAL'>0,'$D(^TMP("PRCAGT",$J,DEB)) Q
"RTN","RCCPCPS",35,0)
 .   I BBAL=0,$G(SITE("ZERO")) Q
"RTN","RCCPCPS",36,0)
 .   I BBAL<0,BBAL>-.99 Q
"RTN","RCCPCPS",37,0)
 .   I BBAL'<0,'$$ACT^PRCAGT(DEB,LDT3) Q
"RTN","RCCPCPS",38,0)
 .   S TBAL=TBAL+PBAL
"RTN","RCCPCPS",39,0)
 .   I '$D(^RCPS(349.2,0)) S ^(0)="AR CCPC STATEMENTS RECORDS^349.2I^"
"RTN","RCCPCPS",40,0)
 .   S ^RCPS(349.2,DEB,0)=DEB_"^"_$$SSN^RCFN01(DEB)_"^"
"RTN","RCCPCPS",41,0)
 .   S ADDR=$$DADD^RCAMADD(DEB,1) ;get patient's address, confidential if applicable
"RTN","RCCPCPS",42,0)
 .   S ^RCPS(349.2,DEB,1)=$P(ADDR,"^",1,6)
"RTN","RCCPCPS",43,0)
 .   S ST=$P(ADDR,"^",5)
"RTN","RCCPCPS",44,0)
 .   S ^RCPS(349.2,DEB,7)=$P(^RCD(340,DEB,0),U,7) ;large print
"RTN","RCCPCPS",45,0)
 .   I $G(ST)'="" S ST=$O(^DIC(5,"C",ST,0))
"RTN","RCCPCPS",46,0)
 .   I $G(ST)>90 S FC=$P($G(^DIC(5,ST,0)),"^")
"RTN","RCCPCPS",47,0)
 .   S $P(^RCPS(349.2,DEB,1),"^",7)=$G(FC) S:$G(FC)]"" $P(^RCPS(349.2,DEB,1),"^",5)="FX"
"RTN","RCCPCPS",48,0)
 .   S:$G(FC)]"" $P(^RCPS(349.2,DEB,1),"^",6)=$P(ADDR,"^",8)
"RTN","RCCPCPS",49,0)
 .   D NOW^%DTC S $P(^RCPS(349.2,DEB,0),"^",10)=%
"RTN","RCCPCPS",50,0)
 .   S $P(^RCPS(349.2,DEB,0),"^",3)=$$NAM^RCFN01(DEB)
"RTN","RCCPCPS",51,0)
 .   S $P(^RCPS(349.2,DEB,0),"^",4,7)=$S(TBAL'>0:0,1:TBAL)_"^"_PBAL_"^"_TBAL("CH")_"^"_TBAL("PC"),$P(^(0),"^",8)=PBAL+TBAL("CH")+TBAL("PC")+TBAL("RF")
"RTN","RCCPCPS",52,0)
 .   S $P(^RCPS(349.2,DEB,0),"^",13,17)=BBAL("PB")_"^"_BBAL("INT")_"^"_BBAL("ADM")_"^"_BBAL("MF")_"^"_BBAL("CT")
"RTN","RCCPCPS",53,0)
 .   ;
"RTN","RCCPCPS",54,0)
 .   N RCBILLDA,RCDATA1,RCDEBTDA,RCDESC,RCPSDA,RCTOTAL,RCTRANDA,RCTRDATE,VALUE,RCCOM1,RCCOM2,RCCOM3
"RTN","RCCPCPS",55,0)
 .   S RCDEBTDA=DEB
"RTN","RCCPCPS",56,0)
 .   I '$D(^RCPS(349.2,RCDEBTDA,2,0)) S ^(0)="^349.21DA^^"
"RTN","RCCPCPS",57,0)
 .   ;
"RTN","RCCPCPS",58,0)
 .   S RCCOM1=$E($TR($G(SITE("COM1")),"~|^",""),1,80),(RCCOM2,RCCOM3)=""
"RTN","RCCPCPS",59,0)
 .   ; Add second comment line for the GMT-reduced status
"RTN","RCCPCPS",60,0)
 .   I $$GMT^PRCAGST(RCDEBTDA) S RCCOM2="REDUCTION OF INPATIENT COPAYMENT DUE TO GEOGRAPHIC MEANS TEST STATUS"
"RTN","RCCPCPS",61,0)
 .   I TBAL'>0 S RCCOM3=" *THIS IS NOT A BILL*"
"RTN","RCCPCPS",62,0)
 .   I RCCOM1'="",RCCOM2'="" S $E(RCCOM1,80)=" " ;Make sure GMT message will be printed on separate line.
"RTN","RCCPCPS",63,0)
 .   S ^RCPS(349.2,RCDEBTDA,3)=RCCOM1_RCCOM2_RCCOM3
"RTN","RCCPCPS",64,0)
 .   ;
"RTN","RCCPCPS",65,0)
 .   S RCPSDA=0 ; this variable used to set the description on the PS segment
"RTN","RCCPCPS",66,0)
 .   S RCTRDATE=0 F  S RCTRDATE=$O(^TMP("PRCAGT",$J,RCDEBTDA,RCTRDATE)) Q:'RCTRDATE  S RCBILLDA=0 F  S RCBILLDA=$O(^TMP("PRCAGT",$J,RCDEBTDA,RCTRDATE,RCBILLDA)) Q:'RCBILLDA  D
"RTN","RCCPCPS",67,0)
 .   .   I $P($G(^RCPS(349.2,RCDEBTDA,0)),"^",8)<0 S PC(75)=75
"RTN","RCCPCPS",68,0)
 .   .   I $P($G(^PRCA(430,RCBILLDA,6)),"^",2)]"",($P($G(^PRCA(430,RCBILLDA,7)),"^")>0) S PC(1)="01"
"RTN","RCCPCPS",69,0)
 .   .   S CAT=$P($G(^PRCA(430,RCBILLDA,0)),"^",2)
"RTN","RCCPCPS",70,0)
 .   .   S PC=$P($G(^PRCA(430.2,CAT,0)),"^",14)
"RTN","RCCPCPS",71,0)
 .   .   F X=1:1:100 I $P(PC,",",X)'="" S PCC=$P(PC,",",X),PC(+PCC)=PCC Q:PCC=""
"RTN","RCCPCPS",72,0)
 .   .   S PC="",X=0 F  S X=$O(PC(X)) Q:X=""  I $G(PC(X))'="" S PC=PC_PC(X)
"RTN","RCCPCPS",73,0)
 .   .   S $P(^RCPS(349.2,RCDEBTDA,4),"^")=PC
"RTN","RCCPCPS",74,0)
 .   .   ;
"RTN","RCCPCPS",75,0)
 .   .   I $D(^TMP("PRCAGT",$J,RCDEBTDA,RCTRDATE,RCBILLDA,0)) S AMT=+^(0) I AMT D
"RTN","RCCPCPS",76,0)
 .   .   .   ;  get the description for the bill
"RTN","RCCPCPS",77,0)
 .   .   .   K RCDESC D BILLDESC^RCCPCPS1(RCBILLDA)
"RTN","RCCPCPS",78,0)
 .   .   .   ;
"RTN","RCCPCPS",79,0)
 .   .   .   ;  store the description in file 349.2, PS segment
"RTN","RCCPCPS",80,0)
 .   .   .   S RCPSDA=RCPSDA+1
"RTN","RCCPCPS",81,0)
 .   .   .   S $P(^RCPS(349.2,RCDEBTDA,2,RCPSDA,0),"^",1,4)=$P(RCTRDATE,".")_"^"_$G(RCDESC(1))_"^"_$G(AMT)_"^"_$P(^PRCA(430,RCBILLDA,0),"^")
"RTN","RCCPCPS",82,0)
 .   .   .   F X=2:1 Q:$G(RCDESC(X))=""  S RCPSDA=RCPSDA+1,^RCPS(349.2,RCDEBTDA,2,RCPSDA,0)="^"_RCDESC(X)_"^^"
"RTN","RCCPCPS",83,0)
 .   .   ;
"RTN","RCCPCPS",84,0)
 .   .   S RCTRANDA=0 F  S RCTRANDA=$O(^TMP("PRCAGT",$J,RCDEBTDA,RCTRDATE,RCBILLDA,RCTRANDA)) D:'RCTRANDA NO Q:'RCTRANDA  D
"RTN","RCCPCPS",85,0)
 .   .   .   ;  get the description for the transaction
"RTN","RCCPCPS",86,0)
 .   .   .   K RCDESC D TRANDESC^RCCPCPS1(RCTRANDA),RCDESC
"RTN","RCCPCPS",87,0)
 .   .   .   ;  if it is an interest/admin charge, summarize it below
"RTN","RCCPCPS",88,0)
 .   .   .   I $G(RCDESC(1))["INTEREST" Q
"RTN","RCCPCPS",89,0)
 .   .   .   ;  get the value of the transaction for the statement
"RTN","RCCPCPS",90,0)
 .   .   .   S VALUE=$$TRANVALU^RCDPBTLM(RCTRANDA)
"RTN","RCCPCPS",91,0)
 .   .   .   S VALUE=$P(VALUE,"^",2)+$P(VALUE,"^",3)+$P(VALUE,"^",4)+$P(VALUE,"^",5)+$P(VALUE,"^",6)
"RTN","RCCPCPS",92,0)
 .   .   .   ;  if it is a suspended (47) or unsuspended (46) transaction, show value
"RTN","RCCPCPS",93,0)
 .   .   .   ;  make suspended charges appear as negative
"RTN","RCCPCPS",94,0)
 .   .   .   S RCDATA1=$G(^PRCA(433,RCTRANDA,1))
"RTN","RCCPCPS",95,0)
 .   .   .   I $P(RCDATA1,"^",2)=47!($P(RCDATA1,"^",2)=46) S VALUE=$P(RCDATA1,"^",5) I $P(RCDATA1,"^",2)=47 S VALUE=-VALUE
"RTN","RCCPCPS",96,0)
 .   .   .   ;  if it is an amended bill, show value
"RTN","RCCPCPS",97,0)
 .   .   .   I $P(RCDATA1,"^",2)=33 S VALUE=$P(RCDATA1,"^",5)
"RTN","RCCPCPS",98,0)
 .   .   .   ;  store the description in file 349.2, PS segment
"RTN","RCCPCPS",99,0)
 .   .   .   S RCPSDA=RCPSDA+1
"RTN","RCCPCPS",100,0)
 .   .   .   S $P(^RCPS(349.2,RCDEBTDA,2,RCPSDA,0),"^",1,5)=$P(RCTRDATE,".")_"^"_$G(RCDESC(1))_"^"_VALUE_"^"_$P(^PRCA(430,RCBILLDA,0),"^")
"RTN","RCCPCPS",101,0)
 .   .   .   F X=2:1 Q:$G(RCDESC(X))=""  S RCPSDA=RCPSDA+1,^RCPS(349.2,RCDEBTDA,2,RCPSDA,0)="^"_RCDESC(X)_"^^"
"RTN","RCCPCPS",102,0)
 .   .   .   ;
"RTN","RCCPCPS",103,0)
 .   .   .   ;  for comment transaction ... not sure what this is for ?
"RTN","RCCPCPS",104,0)
 .   .   .   I $P(RCDATA1,"^",2)=45,$P($G(^PRCA(433,RCTRANDA,5)),"^",2)["your waiver rights" S ^RCPS(349.2,+RCDEBTDA,4)="0150"
"RTN","RCCPCPS",105,0)
 .   ;
"RTN","RCCPCPS",106,0)
 .   ;  if interest, admin, or other, add them here
"RTN","RCCPCPS",107,0)
 .   S X=$G(RCTOTAL("INT"))+$G(RCTOTAL("ADM"))+$G(RCTOTAL("OTH"))
"RTN","RCCPCPS",108,0)
 .   I X>0 D
"RTN","RCCPCPS",109,0)
 .   .   S RCDESC="INTEREST/ADM. CHARGE (Int:"_$J($G(RCTOTAL("INT")),1,2)_" Adm:"_$J($G(RCTOTAL("ADM")),1,2)_" Other:"_$J($G(RCTOTAL("OTH")),1,2)_")"
"RTN","RCCPCPS",110,0)
 .   .   S RCPSDA=RCPSDA+1
"RTN","RCCPCPS",111,0)
 .   .   S ^RCPS(349.2,RCDEBTDA,2,RCPSDA,0)="^"_RCDESC_"^"_$J(X,1,2)
"RTN","RCCPCPS",112,0)
 .   .   S ^RCPS(349.2,RCDEBTDA,2,0)="^349.21DA^"_RCPSDA_"^"_RCPSDA
"RTN","RCCPCPS",113,0)
 .   ;
"RTN","RCCPCPS",114,0)
 .   ;  set 0th node
"RTN","RCCPCPS",115,0)
 .   I RCPSDA S ^RCPS(349.2,RCDEBTDA,2,0)="^349.21DA^"_RCPSDA_"^"_RCPSDA
"RTN","RCCPCPS",116,0)
 .   ;
"RTN","RCCPCPS",117,0)
 .   I RCPSDA'<287 S ^XTMP("RCCPC",0)=DT,^XTMP("RCCPC",RCDEBTDA)="" Q
"RTN","RCCPCPS",118,0)
 .   D NO
"RTN","RCCPCPS",119,0)
 ;
"RTN","RCCPCPS",120,0)
 S DIK="^RCPS(349.2," D IXALL^DIK
"RTN","RCCPCPS",121,0)
 S DEB=0 S DEB=$O(^RCPS(349.2,DEB)) Q:DEB=""  S $P(^(DEB,0),"^",18)=1
"RTN","RCCPCPS",122,0)
 ;
"RTN","RCCPCPS",123,0)
OSTM ;Process old statements
"RTN","RCCPCPS",124,0)
 S DIK="^RCPS(349.2,",DA=0 F  S DA=$O(^XTMP("RCCPC",DA)) Q:'DA  D ^DIK
"RTN","RCCPCPS",125,0)
 K DA
"RTN","RCCPCPS",126,0)
 ;
"RTN","RCCPCPS",127,0)
STATMNT ;Print patient statements
"RTN","RCCPCPS",128,0)
 N IOP,ZTIO,ZTSAVE,ZTRTN,ZTDESC,ZTASK,%ZIS,ZTDTH,PRCADEV
"RTN","RCCPCPS",129,0)
 S (IOP,PRCADEV)=$P($G(^RC(342,1,0)),"^",8)
"RTN","RCCPCPS",130,0)
 I IOP]"" D
"RTN","RCCPCPS",131,0)
 .S ZTRTN="STM^RCCPCSTM",ZTDTH=$H,ZTDESC="Print old AR Statements"
"RTN","RCCPCPS",132,0)
 .S %ZIS="N0" D ^%ZIS Q:POP
"RTN","RCCPCPS",133,0)
 .S ZTSAVE("PRCADEV")="" D ^%ZTLOAD,^%ZISC
"RTN","RCCPCPS",134,0)
 Q
"RTN","RCCPCPS",135,0)
 ;
"RTN","RCCPCPS",136,0)
NO ;If there is no activity
"RTN","RCCPCPS",137,0)
 I $G(^RCPS(349.2,+DEB,4))["0150" D
"RTN","RCCPCPS",138,0)
 .S ^RCPS(349.2,+DEB,2,1,0)="^NOTICE: You now have delinquent charges. Please^^"
"RTN","RCCPCPS",139,0)
 .S ^RCPS(349.2,+DEB,2,2,0)="^review Enforcement of Involuntary Collections^^"
"RTN","RCCPCPS",140,0)
 .S ^RCPS(349.2,+DEB,2,3,0)="^on reverse.^^"
"RTN","RCCPCPS",141,0)
 .S ^RCPS(349.2,+DEB,2,0)="^^3^3"
"RTN","RCCPCPS",142,0)
 I $G(^RCPS(349.2,DEB,2,1,0))="" D
"RTN","RCCPCPS",143,0)
 .S ^RCPS(349.2,DEB,2,1,0)="^No Activity in the Last 30 Days!^^"
"RTN","RCCPCPS",144,0)
 .S ^RCPS(349.2,DEB,2,2,0)="^Please refer to previous statement of rights.^^"
"RTN","RCCPCPS",145,0)
 .S ^RCPS(349.2,DEB,2,0)="^^2^2"
"RTN","RCCPCPS",146,0)
 .I $G(^RCPS(349.2,DEB,4))="" S ^(4)="90"
"RTN","RCCPCPS",147,0)
 Q
"RTN","RCCPCPS",148,0)
BUILD ;This is the entry point from the BUILD CCPC file option
"RTN","RCCPCPS",149,0)
 N TDT,QDT,ZTDESC,ZTASK,ZTSK,ZDTDTH,ZTIO,ZTRTN
"RTN","RCCPCPS",150,0)
 S TDT=$O(^RCPS(349.2,0)) I TDT D
"RTN","RCCPCPS",151,0)
 .S TDT=$$ASOF^RCCPCFN($P($G(^RCPS(349.2,+TDT,0)),"^",10))
"RTN","RCCPCPS",152,0)
 .S TDT=$TR($$SLH^RCFN01(TDT),"/","")
"RTN","RCCPCPS",153,0)
 .S TDT("T")=$P($G(^RCT(349,1,0)),"^",10),TDT("T")=$E(TDT("T"),1,4)_$E(TDT("T"),7,8)
"RTN","RCCPCPS",154,0)
 .I TDT("T")=TDT D
"RTN","RCCPCPS",155,0)
 ..W *7,!,"The current file reflects activity as of ",$E(TDT,1,2)_"/"_$E(TDT,3,4)_"/"_$E(TDT,5,8)_".",!
"RTN","RCCPCPS",156,0)
 ..W !,"IT WAS TRANSMITTED ON ",$TR($P($P($G(^RCT(349,1,0)),"^"),".",2,4),".","/"),!
"RTN","RCCPCPS",157,0)
 ..S TDT=$P($G(^RCT(349,1,0)),"^",9)
"RTN","RCCPCPS",158,0)
 ..W !,"For statement date: ",$E(TDT,1,2)_"/"_$E(TDT,3,4)_"/"_$E(TDT,5,8)
"RTN","RCCPCPS",159,0)
 ..W !!,"PLEASE CONTACT CUSTOMER SUPPORT BEFORE PROCEEDING.",!!
"RTN","RCCPCPS",160,0)
TIME S ZTIO="",ZTRTN="EN^RCCPCPS",ZTDESC="Build CCPC Statement File"
"RTN","RCCPCPS",161,0)
 S ZTDTH="" D ^%ZTLOAD Q:$G(ZTSK)=""
"RTN","RCCPCPS",162,0)
 S %H=ZTSK("D") D YMD^%DTC S QDT=X_%
"RTN","RCCPCPS",163,0)
 I (QDT>DT_"."_0800)&(QDT<(DT_"."_1801)) D  G TIME
"RTN","RCCPCPS",164,0)
 .W !!,*7,"You Can Not Queue this Job Between 8:00am and 6:00pm.",!
"RTN","RCCPCPS",165,0)
 .D KILL^%ZTLOAD
"RTN","RCCPCPS",166,0)
 W !,"Queued for Building."
"RTN","RCCPCPS",167,0)
 Q
"RTN","RCCPCPS",168,0)
 ;
"RTN","RCCPCPS",169,0)
RCDESC ;Remove "IN PART" & "IN FULL" from the the bill description
"RTN","RCCPCPS",170,0)
 QUIT:$G(RCDESC(1))=""
"RTN","RCCPCPS",171,0)
 S RCINFULL=" (IN FULL)"
"RTN","RCCPCPS",172,0)
 S RCINPART=" (IN PART)"
"RTN","RCCPCPS",173,0)
 I RCDESC(1)[RCINFULL S RCDESC(1)=$P(RCDESC(1),RCINFULL)_$P(RCDESC(1),RCINFULL,2)
"RTN","RCCPCPS",174,0)
 I RCDESC(1)[RCINPART S RCDESC(1)=$P(RCDESC(1),RCINPART)_$P(RCDESC(1),RCINPART,2)
"RTN","RCCPCPS",175,0)
 Q
"VER")
8.0^22.0
"^DD",340,340,111,0)
LARGE PRINT NEEDED ON STMT^S^1:YES;0:NO;^0;7^Q
"^DD",340,340,111,3)

"^DD",340,340,111,21,0)
^.001^2^2^3041115^^^^
"^DD",340,340,111,21,1,0)
This field will identify 1st party debtors requiring statements
"^DD",340,340,111,21,2,0)
with large print.
"^DD",340,340,111,"DT")
3041115
"^DD",349.2,349.2,62,0)
LARGE PRINT NEEDED ON STMT^S^1:YES;0:NO;^7;1^Q
"^DD",349.2,349.2,62,21,0)
^^4^4^3050301^
"^DD",349.2,349.2,62,21,1,0)
This field will identify 1st party debtors
"^DD",349.2,349.2,62,21,2,0)
requiring statements with large print.
"^DD",349.2,349.2,62,21,3,0)

"^DD",349.2,349.2,62,21,4,0)
This is the same field in file 340 field 111.
"^DD",349.2,349.2,62,"DT")
3050301
"BLD",6058,6)
^SEQ #204
**END**
**END**
