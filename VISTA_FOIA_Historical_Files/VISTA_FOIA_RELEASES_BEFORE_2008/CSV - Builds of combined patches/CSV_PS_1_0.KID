KIDS Distribution saved on Jul 29, 2003@15:17:59
CSV Provider systems patches
**KIDS**:CSV PS 1.0^LR*5.2*297^RA*5.0*38^RMPR*3.0*74^SR*3.0*116^

**INSTALL NAME**
CSV PS 1.0
"BLD",4551,0)
CSV PS 1.0^^1^3030729^y
"BLD",4551,1,0)
^^47^47^3030729^
"BLD",4551,1,1,0)
 **********************************************************************
"BLD",4551,1,2,0)
 *   This build is part of the CSV Project and must be installed at   *
"BLD",4551,1,3,0)
 *                   all sites by September 30, 2003                  *
"BLD",4551,1,4,0)
 **********************************************************************
"BLD",4551,1,5,0)
 
"BLD",4551,1,6,0)
This combined build supports Code Set Versioning, mandated under the 
"BLD",4551,1,7,0)
Health Information Portability and Accountability Act (HIPAA). It 
"BLD",4551,1,8,0)
contains routines, templates, options and data dictionary changes
"BLD",4551,1,9,0)
necessary for date-sensitive access to code sets for the International
"BLD",4551,1,10,0)
Classification of Diseases, Clinical Modification (ICD-9-CM), Current
"BLD",4551,1,11,0)
Procedural Terminology (CPT) and Health Care Financing Administration
"BLD",4551,1,12,0)
(HCFA) Common Procedure Coding System (HCPCS).
"BLD",4551,1,13,0)
 
"BLD",4551,1,14,0)
Please refer to the Health Insurance Portability and Accountability
"BLD",4551,1,15,0)
Act (HIPAA) Code Set Versioning (CSV) Installation Guide for details
"BLD",4551,1,16,0)
of the installation procedure for this patch.
"BLD",4551,1,17,0)
 
"BLD",4551,1,18,0)
The HIPAA CSV Installation Guide can be found in the following
"BLD",4551,1,19,0)
[ANONYMOUS.SOFTWARE] directories:
"BLD",4551,1,20,0)
 
"BLD",4551,1,21,0)
                                 Preferred Address
"BLD",4551,1,22,0)
                                 -------------------------
"BLD",4551,1,23,0)
    First available FTP server   download.vista.med.va.gov
"BLD",4551,1,24,0)
 
"BLD",4551,1,25,0)
    Specific Field Office        FTP Address
"BLD",4551,1,26,0)
    ---------------------        ------------------------
"BLD",4551,1,27,0)
    Albany                       ftp.fo-albany.med.va.gov
"BLD",4551,1,28,0)
    Hines                        ftp.fo-hines.med.va.gov
"BLD",4551,1,29,0)
    Salt Lake City               ftp.fo-slc.med.va.gov
"BLD",4551,1,30,0)
 
"BLD",4551,1,31,0)
    File Name       Description              Format         FTP Protocol
"BLD",4551,1,32,0)
    --------------  -----------------------  -------------  ------------
"BLD",4551,1,33,0)
    CSV_1_0_IG.PDF  HIPAA CSV Install Guide  Adobe Acrobat  Binary
"BLD",4551,1,34,0)
 
"BLD",4551,1,35,0)
 
"BLD",4551,1,36,0)
This KIDS distribution contains four installs:
"BLD",4551,1,37,0)
 
"BLD",4551,1,38,0)
    CSV PS 1.0
"BLD",4551,1,39,0)
              
"BLD",4551,1,40,0)
        LR*5.2*297       CSV-Laboratory
"BLD",4551,1,41,0)
        RA*5.0*38        CSV-Radiology
"BLD",4551,1,42,0)
        RMPR*3.0*74      CSV-Prosthetics
"BLD",4551,1,43,0)
        SR*3.0*116       CSV-Surgery
"BLD",4551,1,44,0)
 
"BLD",4551,1,45,0)
The combined distribution consists of a KIDS host file:
"BLD",4551,1,46,0)
 
"BLD",4551,1,47,0)
    KIDS Distribution    CSV_PS_1_0.KID
"BLD",4551,10,0)
^9.63^4^4
"BLD",4551,10,1,0)
LR*5.2*297^1
"BLD",4551,10,2,0)
RA*5.0*38^1
"BLD",4551,10,3,0)
RMPR*3.0*74^1
"BLD",4551,10,4,0)
SR*3.0*116^1
"BLD",4551,10,"B","LR*5.2*297",1)

"BLD",4551,10,"B","RA*5.0*38",2)

"BLD",4551,10,"B","RMPR*3.0*74",3)

"BLD",4551,10,"B","SR*3.0*116",4)

"BLD",4551,"KRN",0)
^9.67PA^8989.52^19
"BLD",4551,"KRN",.4,0)
.4
"BLD",4551,"KRN",.401,0)
.401
"BLD",4551,"KRN",.402,0)
.402
"BLD",4551,"KRN",.403,0)
.403
"BLD",4551,"KRN",.5,0)
.5
"BLD",4551,"KRN",.84,0)
.84
"BLD",4551,"KRN",3.6,0)
3.6
"BLD",4551,"KRN",3.8,0)
3.8
"BLD",4551,"KRN",9.2,0)
9.2
"BLD",4551,"KRN",9.8,0)
9.8
"BLD",4551,"KRN",19,0)
19
"BLD",4551,"KRN",19.1,0)
19.1
"BLD",4551,"KRN",101,0)
101
"BLD",4551,"KRN",409.61,0)
409.61
"BLD",4551,"KRN",771,0)
771
"BLD",4551,"KRN",870,0)
870
"BLD",4551,"KRN",8989.51,0)
8989.51
"BLD",4551,"KRN",8989.52,0)
8989.52
"BLD",4551,"KRN",8994,0)
8994
"BLD",4551,"KRN","B",.4,.4)

"BLD",4551,"KRN","B",.401,.401)

"BLD",4551,"KRN","B",.402,.402)

"BLD",4551,"KRN","B",.403,.403)

"BLD",4551,"KRN","B",.5,.5)

"BLD",4551,"KRN","B",.84,.84)

"BLD",4551,"KRN","B",3.6,3.6)

"BLD",4551,"KRN","B",3.8,3.8)

"BLD",4551,"KRN","B",9.2,9.2)

"BLD",4551,"KRN","B",9.8,9.8)

"BLD",4551,"KRN","B",19,19)

"BLD",4551,"KRN","B",19.1,19.1)

"BLD",4551,"KRN","B",101,101)

"BLD",4551,"KRN","B",409.61,409.61)

"BLD",4551,"KRN","B",771,771)

"BLD",4551,"KRN","B",870,870)

"BLD",4551,"KRN","B",8989.51,8989.51)

"BLD",4551,"KRN","B",8989.52,8989.52)

"BLD",4551,"KRN","B",8994,8994)

"MBREQ")
0
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"VER")
8.0^22.0
**INSTALL NAME**
LR*5.2*297
"BLD",4459,0)
LR*5.2*297^LAB SERVICE^0^3030729^y
"BLD",4459,1,0)
^^4^4^3030404^
"BLD",4459,1,1,0)
HIPAA Code Set Versioning project.
"BLD",4459,1,2,0)
 
"BLD",4459,1,3,0)
See patch LR*5.2*297 in the National Patch Module for complete 
"BLD",4459,1,4,0)
information on this patch.
"BLD",4459,4,0)
^9.64PA^64.81^1
"BLD",4459,4,64.81,0)
64.81
"BLD",4459,4,64.81,2,0)
^9.641^64.811718^1
"BLD",4459,4,64.81,2,64.811718,0)
CODE  (sub-file)
"BLD",4459,4,64.81,2,64.811718,1,0)
^9.6411^.01^1
"BLD",4459,4,64.81,2,64.811718,1,.01,0)
CODE
"BLD",4459,4,64.81,222)
y^n^p^^^^n^^n
"BLD",4459,4,64.81,223)
I 1
"BLD",4459,4,64.81,224)

"BLD",4459,4,"APDD",64.81,64.811718)

"BLD",4459,4,"APDD",64.81,64.811718,.01)

"BLD",4459,4,"B",64.81,64.81)

"BLD",4459,"KRN",0)
^9.67PA^8989.52^19
"BLD",4459,"KRN",.4,0)
.4
"BLD",4459,"KRN",.401,0)
.401
"BLD",4459,"KRN",.402,0)
.402
"BLD",4459,"KRN",.403,0)
.403
"BLD",4459,"KRN",.5,0)
.5
"BLD",4459,"KRN",.84,0)
.84
"BLD",4459,"KRN",3.6,0)
3.6
"BLD",4459,"KRN",3.8,0)
3.8
"BLD",4459,"KRN",9.2,0)
9.2
"BLD",4459,"KRN",9.8,0)
9.8
"BLD",4459,"KRN",19,0)
19
"BLD",4459,"KRN",19.1,0)
19.1
"BLD",4459,"KRN",101,0)
101
"BLD",4459,"KRN",409.61,0)
409.61
"BLD",4459,"KRN",771,0)
771
"BLD",4459,"KRN",870,0)
870
"BLD",4459,"KRN",8989.51,0)
8989.51
"BLD",4459,"KRN",8989.52,0)
8989.52
"BLD",4459,"KRN",8994,0)
8994
"BLD",4459,"KRN","B",.4,.4)

"BLD",4459,"KRN","B",.401,.401)

"BLD",4459,"KRN","B",.402,.402)

"BLD",4459,"KRN","B",.403,.403)

"BLD",4459,"KRN","B",.5,.5)

"BLD",4459,"KRN","B",.84,.84)

"BLD",4459,"KRN","B",3.6,3.6)

"BLD",4459,"KRN","B",3.8,3.8)

"BLD",4459,"KRN","B",9.2,9.2)

"BLD",4459,"KRN","B",9.8,9.8)

"BLD",4459,"KRN","B",19,19)

"BLD",4459,"KRN","B",19.1,19.1)

"BLD",4459,"KRN","B",101,101)

"BLD",4459,"KRN","B",409.61,409.61)

"BLD",4459,"KRN","B",771,771)

"BLD",4459,"KRN","B",870,870)

"BLD",4459,"KRN","B",8989.51,8989.51)

"BLD",4459,"KRN","B",8989.52,8989.52)

"BLD",4459,"KRN","B",8994,8994)

"BLD",4459,"QUES",0)
^9.62^^
"BLD",4459,"REQB",0)
^9.611^2^2
"BLD",4459,"REQB",1,0)
ICPT*6.0*14^1
"BLD",4459,"REQB",2,0)
ICD*18.0*6^1
"BLD",4459,"REQB","B","ICD*18.0*6",2)

"BLD",4459,"REQB","B","ICPT*6.0*14",1)

"FIA",64.81)
LAB NLT/CPT CODES
"FIA",64.81,0)
^LAB(64.81,
"FIA",64.81,0,0)
64.81
"FIA",64.81,0,1)
y^n^p^^^^n^^n
"FIA",64.81,0,10)
I 1
"FIA",64.81,0,11)

"FIA",64.81,0,"RLRO")

"FIA",64.81,0,"VR")
5.2^LR
"FIA",64.81,64.81)
1
"FIA",64.81,64.8117)
1
"FIA",64.81,64.8117,18)

"FIA",64.81,64.811718)
1
"FIA",64.81,64.811718,.01)

"MBREQ")
1
"PKG",40,-1)
1^1
"PKG",40,0)
LAB SERVICE^LR^CORE LAB SYSTEM
"PKG",40,20,0)
^9.402P^1^1
"PKG",40,20,1,0)
2^^LRXDRPT
"PKG",40,20,1,1)

"PKG",40,20,"B",2,1)

"PKG",40,22,0)
^9.49I^1^1
"PKG",40,22,1,0)
5.2^2940927^2950408
"PKG",40,22,1,"PAH",1,0)
297^3030729^25751
"PKG",40,22,1,"PAH",1,1,0)
^^4^4^3030729
"PKG",40,22,1,"PAH",1,1,1,0)
HIPAA Code Set Versioning project.
"PKG",40,22,1,"PAH",1,1,2,0)
 
"PKG",40,22,1,"PAH",1,1,3,0)
See patch LR*5.2*297 in the National Patch Module for complete 
"PKG",40,22,1,"PAH",1,1,4,0)
information on this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"UP",64.81,64.811718,-2)
64.81^2
"UP",64.81,64.811718,-1)
64.8117^4
"UP",64.81,64.811718,0)
64.811718
"VER")
8.0^22.0
"^DD",64.81,64.8117,18,0)
CODE^64.811718V^^4;0
"^DD",64.81,64.811718,0)
CODE SUB-FIELD^^6^6
"^DD",64.81,64.811718,0,"NM","CODE")

"^DD",64.81,64.811718,.01,0)
CODE^MV^^0;1^Q
"^DD",64.81,64.811718,.01,1,0)
^.1
"^DD",64.81,64.811718,.01,1,1,0)
64.811718^B
"^DD",64.81,64.811718,.01,1,1,1)
S ^LAB(64.81,DA(2),2,DA(1),4,"B",$E(X,1,30),DA)=""
"^DD",64.81,64.811718,.01,1,1,2)
K ^LAB(64.81,DA(2),2,DA(1),4,"B",$E(X,1,30),DA)
"^DD",64.81,64.811718,.01,1,1,3)
Required Index for Variable Pointer
"^DD",64.81,64.811718,.01,21,0)
^.001^1^1^3030402^^^
"^DD",64.81,64.811718,.01,21,1,0)
What code is assigned to this procedure.
"^DD",64.81,64.811718,.01,"DT")
3030401
"^DD",64.81,64.811718,.01,"V",0)
^.12P^3^3
"^DD",64.81,64.811718,.01,"V",1,0)
81^active CPT code.^1^CPT^y^n
"^DD",64.81,64.811718,.01,"V",1,1)
S DIC("S")="I $P($$CPT^ICPTCOD(+Y),U,7)"
"^DD",64.81,64.811718,.01,"V",1,2)
Only select active CPT codes.
"^DD",64.81,64.811718,.01,"V",2,0)
61.1^SNOMED code.^2^SNOMED^n^n
"^DD",64.81,64.811718,.01,"V",3,0)
80^active ICD9 code.^3^ICD9^y^n
"^DD",64.81,64.811718,.01,"V",3,1)
S DIC("S")="I '$P(^ICD9(Y,0),U,9)"
"^DD",64.81,64.811718,.01,"V",3,2)
No inactive ICD9 codes.
**INSTALL NAME**
RA*5.0*38
"BLD",4464,0)
RA*5.0*38^RADIOLOGY/NUCLEAR MEDICINE^0^3030729^y
"BLD",4464,1,0)
^^2^2^3030603^^^
"BLD",4464,1,1,0)
      Please see the National Patch Module for details of the 
"BLD",4464,1,2,0)
      enhancements included in this patch.
"BLD",4464,4,0)
^9.64PA^70^1
"BLD",4464,4,70,0)
70
"BLD",4464,4,70,2,0)
^9.641^70.03^1
"BLD",4464,4,70,2,70.03,0)
EXAMINATIONS  (sub-file)
"BLD",4464,4,70,2,70.03,1,0)
^9.6411^2^1
"BLD",4464,4,70,2,70.03,1,2,0)
PROCEDURE
"BLD",4464,4,70,222)
y^n^p^^^^n^^n
"BLD",4464,4,70,224)

"BLD",4464,4,"APDD",70,70.03)

"BLD",4464,4,"APDD",70,70.03,2)

"BLD",4464,4,"B",70,70)

"BLD",4464,"INID")
^
"BLD",4464,"INIT")
RA38PST
"BLD",4464,"KRN",0)
^9.67PA^8989.52^19
"BLD",4464,"KRN",.4,0)
.4
"BLD",4464,"KRN",.401,0)
.401
"BLD",4464,"KRN",.402,0)
.402
"BLD",4464,"KRN",.402,"NM",0)
^9.68A^2^2
"BLD",4464,"KRN",.402,"NM",1,0)
RA EXAM EDIT    FILE #70^70^0
"BLD",4464,"KRN",.402,"NM",2,0)
RA STATUS CHANGE    FILE #70^70^0
"BLD",4464,"KRN",.402,"NM","B","RA EXAM EDIT    FILE #70",1)

"BLD",4464,"KRN",.402,"NM","B","RA STATUS CHANGE    FILE #70",2)

"BLD",4464,"KRN",.403,0)
.403
"BLD",4464,"KRN",.5,0)
.5
"BLD",4464,"KRN",.84,0)
.84
"BLD",4464,"KRN",3.6,0)
3.6
"BLD",4464,"KRN",3.8,0)
3.8
"BLD",4464,"KRN",9.2,0)
9.2
"BLD",4464,"KRN",9.8,0)
9.8
"BLD",4464,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",4464,"KRN",9.8,"NM",1,0)
RACPTMSC^^0^B37722572
"BLD",4464,"KRN",9.8,"NM",2,0)
RACPTCSV^^0^B25132692
"BLD",4464,"KRN",9.8,"NM","B","RACPTCSV",2)

"BLD",4464,"KRN",9.8,"NM","B","RACPTMSC",1)

"BLD",4464,"KRN",19,0)
19
"BLD",4464,"KRN",19.1,0)
19.1
"BLD",4464,"KRN",101,0)
101
"BLD",4464,"KRN",409.61,0)
409.61
"BLD",4464,"KRN",771,0)
771
"BLD",4464,"KRN",870,0)
870
"BLD",4464,"KRN",8989.51,0)
8989.51
"BLD",4464,"KRN",8989.52,0)
8989.52
"BLD",4464,"KRN",8994,0)
8994
"BLD",4464,"KRN","B",.4,.4)

"BLD",4464,"KRN","B",.401,.401)

"BLD",4464,"KRN","B",.402,.402)

"BLD",4464,"KRN","B",.403,.403)

"BLD",4464,"KRN","B",.5,.5)

"BLD",4464,"KRN","B",.84,.84)

"BLD",4464,"KRN","B",3.6,3.6)

"BLD",4464,"KRN","B",3.8,3.8)

"BLD",4464,"KRN","B",9.2,9.2)

"BLD",4464,"KRN","B",9.8,9.8)

"BLD",4464,"KRN","B",19,19)

"BLD",4464,"KRN","B",19.1,19.1)

"BLD",4464,"KRN","B",101,101)

"BLD",4464,"KRN","B",409.61,409.61)

"BLD",4464,"KRN","B",771,771)

"BLD",4464,"KRN","B",870,870)

"BLD",4464,"KRN","B",8989.51,8989.51)

"BLD",4464,"KRN","B",8989.52,8989.52)

"BLD",4464,"KRN","B",8994,8994)

"BLD",4464,"QUES",0)
^9.62^^
"BLD",4464,"REQB",0)
^9.611^1^1
"BLD",4464,"REQB",1,0)
ICPT*6.0*14^2
"BLD",4464,"REQB","B","ICPT*6.0*14",1)

"FIA",70)
RAD/NUC MED PATIENT
"FIA",70,0)
^RADPT(
"FIA",70,0,0)
70IP
"FIA",70,0,1)
y^n^p^^^^n^^n
"FIA",70,0,10)

"FIA",70,0,11)

"FIA",70,0,"RLRO")

"FIA",70,0,"VR")
5.0^RA
"FIA",70,70)
1
"FIA",70,70.03)
1
"FIA",70,70.03,2)

"INIT")
RA38PST
"KRN",.402,811,-1)
0^2
"KRN",.402,811,0)
RA STATUS CHANGE^3030410.1252^^70^^^3030603
"KRN",.402,811,"%D",0)
^^2^2^2940607^^^
"KRN",.402,811,"%D",1,0)
 
"KRN",.402,811,"%D",2,0)
This template is used for the Status Tracking of Exams option.
"KRN",.402,811,"DIAB",1,2,70.03,9)
500:
"KRN",.402,811,"DIAB",1,3,70.09,0)
ALL
"KRN",.402,811,"DIAB",1,3,70.1,0)
ALL
"KRN",.402,811,"DIAB",1,3,70.11,0)
ALL
"KRN",.402,811,"DIAB",1,3,70.12,0)
ALL
"KRN",.402,811,"DIAB",1,3,70.3135,0)
ALL
"KRN",.402,811,"DIAB",1,4,70.21,5)
7//^S X=$P($G(^RADPTN(DA(1),"NUC",DA,0)),"^",4);T
"KRN",.402,811,"DIAB",7,2,70.03,1)
2;REQ
"KRN",.402,811,"DR",1,70)
I '$D(RANEXT)!('$D(RADTE))!('$D(RACN))!('$D(RASK))!('$D(RAMDV))!('$D(DUZ))!('$D(RANXT72))!('$D(RACN0)) W !,*7,"Must have RANEXT, RADTE, RACN, RASK, RAMDV, RANXT72, RACN0 and DUZ defined to use this template" S Y="@99";
"KRN",.402,811,"DR",1,70,1)
2///^S X=RADTE;@99;S REM="let calling rtn kill RA- vars, due early out from exm status not changed";
"KRN",.402,811,"DR",2,70.02)
50///^S X=RACN;
"KRN",.402,811,"DR",3,70.03)
S RANXT72(.6)=$G(^RA(72,RANXT72,.6));S:'$D(RAPRI) RAPRI=$P(^RADPT(DA(2),"DT",DA(1),"P",DA,0),U,2);S:$P(RASK,"^",2)'["Y" Y="@03";I $G(RAPRTSET) D WHY1^RASTED S Y="@03";12;I X="" S Y=15;70;@15;15;
"KRN",.402,811,"DR",3,70.03,1)
I X="",$P(RAMDV,"^",28) W !,"     Primary Interpreting Staff required for this division",*7,! S Y="@15";I X="" S Y="@03";60;@03;S:$P(RASK,"^",3)'["Y" Y="@06";@05;2R~;S RAPRI=+X;S REM="did user change the procedure ?";
"KRN",.402,811,"DR",3,70.03,2)
I RAPRI=$G(RAPRIT) S Y="@049";D WARNPRC^RAUTL;I RAWHICH=0 S Y="@049";I RAWHICH=2 S Y="@047";W !,"... Deleting radiopharms ...",!;500///@;@047;I RAWHICH=1 S Y="@049";W !,"... Deleting medications ...",!;
"KRN",.402,811,"DR",3,70.03,3)
K ^RADPT(DA(2),"DT",DA(1),"P",DA,"RX");@049;I '$P(RAMDV,U,7)!($P(^RAMIS(71,RAPRI,0),U,6)'="B") S Y="@051";W !?3,*7,"A 'detailed' procedure or a 'series' of procedures is required!";2///@;S Y="@05";@051;S:'$$FUTC^RACPTCSV Y="@05";
"KRN",.402,811,"DR",3,70.03,4)
S:$D(^RAMIS(71,"AC",9,RAPRI)) Y="@052";5///NO;S Y="@053";@052;5//YES;@053;F RAI=4,15,21,22 I $D(^RAMIS(71,"AC",RAI,RAPRI)) S Y="@055" Q;F RAI=10,11,12,14,16,17,18,19,20 I $D(^RAMIS(71,"AC",RAI,RAPRI)) S Y="@054",RAMIS="YES" Q;
"KRN",.402,811,"DR",3,70.03,5)
S RAMIS="NO";@054;10///^S X=RAMIS;S Y="@06";@055;10//YES;@06;S:$P(RASK,"^",13)'["Y" Y="@063";125;@063;S:$P(RASK,"^",14)'["Y" Y="@067";@065;D:$T(DISCMOD^RACPTMSC)]"" DISCMOD^RACPTMSC;135;S:'$$FUTCMOD^RACPTCSV Y="@065";@067;
"KRN",.402,811,"DR",3,70.03,6)
S:$P(RASK,"^",4)'["Y" Y="@09";50;@09;S:$P(RASK,"^",5)'["Y" Y="@12";I $G(RAPRTSET) D WHY2^RASTED S Y="@12";13;I X="" S Y="@12";13.1;@12;S:$P(RASK,"^",6)'["Y" Y="@25";18;@25;Q;S:$P(RASK,"^")'["Y" Y="@11";175;
"KRN",.402,811,"DR",3,70.03,7)
S RATCXX=$$TCPROMPT^RAO7XX;@11;S:'($P(RASK,"^",7)["Y"&($P(^RAMIS(71,RAPRI,0),"^",5)="y")) Y="@14";200;@14;S:$P($G(^RA(79.2,+$P(RADT0,"^",2),0)),"^",5)'="Y" Y="@75";S:$$NORADIO^RASTREQN(RAPRI,.RANXT72) Y="@75";
"KRN",.402,811,"DR",3,70.03,8)
S RAIEN702=$$EN1^RANMPT1(RADFN,RADTE,RACN);S:RAIEN702=-1 Y="@75";500////^S X=RAIEN702;
"KRN",.402,811,"DR",3,70.03,9)
^70.2^RADPTN(^^S I(2,0)=D2 S I(1,0)=D1 S I(0,0)=D0 S Y(1)=$S($D(^RADPT(D0,"DT",D1,"P",D2,0)):^(0),1:"") S X=$P(Y(1),U,28),X=X S D(0)=+X S X=$S(D(0)>0:D(0),1:"");@75;S:$O(^RADPTN(+$G(RAIEN702),"NUC",0)) Y="@80";K RAIEN702;500///@;
"KRN",.402,811,"DR",3,70.03,10)
@80;3///^S X=$P(RANEXT,"^");S RA70033=X;
"KRN",.402,811,"DR",4,70.04)
.01:2;
"KRN",.402,811,"DR",4,70.09)
.01
"KRN",.402,811,"DR",4,70.1)
.01
"KRN",.402,811,"DR",4,70.11)
.01
"KRN",.402,811,"DR",4,70.12)
.01
"KRN",.402,811,"DR",4,70.14)
.01;
"KRN",.402,811,"DR",4,70.15)
.01;2;S:$P(RASK,"^",8)'["Y" Y="@13";Q;3//^S X="NOW";4//^S X=$P($G(^VA(200,DUZ,0)),"^");@13;
"KRN",.402,811,"DR",4,70.2)
D DISDEF^RASTREQN(RAIEN702);100;
"KRN",.402,811,"DR",4,70.3135)
.01
"KRN",.402,811,"DR",5,70.21)
.01;S RAPSDRUG=+X;S RADIOPH=$O(^RAMIS(71,RAPRI,"NUC","B",+$G(RAPSDRUG),0)),(RAHI,RALOW)="";S RADIOPH=$G(^RAMIS(71,RAPRI,"NUC",+$G(RADIOPH),0)),RAHI=$P(RADIOPH,"^",5),RALOW=$P(RADIOPH,"^",6);S:"Y"'[$P(RANXT72(.6),"^",3) Y="@1005";
"KRN",.402,811,"DR",5,70.21,1)
@1000;W:RAHI]""!(RALOW]"")!($P(RADIOPH,"^",2)]"") !!;W:RAHI]"" "High Dose: ",RAHI_" mCi" W:RALOW]"" ?27,"Low Dose: ",RALOW_" mCi" W:$P(RADIOPH,"^",2)]"" ?53,"Usual Dose: ",$P(RADIOPH,"^",2)_" mCi";
"KRN",.402,811,"DR",5,70.21,2)
W:RAHI]""!(RALOW]"")!($P(RADIOPH,"^",2)]"") !;4;S Y=$$VALDOS^RASTREQN(RALOW,RAHI,X,"@1000","@1005","@99",0);@1005;S:"Y"'[$P(RANXT72(.6),"^",4) Y="@1010";5//^S X="NOW";6//^S X=$P($G(^VA(200,DUZ,0)),"^");@1010;
"KRN",.402,811,"DR",5,70.21,3)
S:"Y"'[$P(RANXT72(.6),"^") Y="@1020";@1015;W:RAHI]""!(RALOW]"")!($P(RADIOPH,"^",2)]"") !!;
"KRN",.402,811,"DR",5,70.21,4)
W:RAHI]"" "High Dose: ",RAHI_" mCi" W:RALOW]"" ?27,"Low Dose: ",RALOW_" mCi" W:$P(RADIOPH,"^",2)]"" ?53,"Usual Dose: ",$P(RADIOPH,"^",2)_" mCi";W:RAHI]""!(RALOW]"")!($P(RADIOPH,"^",2)]"") !;
"KRN",.402,811,"DR",5,70.21,5)
7T~//^S X=$P($G(^RADPTN(DA(1),"NUC",DA,0)),"^",4);S RADOSE=X;S Y=$$VALDOS^RASTREQN(RALOW,RAHI,RADOSE,"@1015","@1020","@99",1);@1020;S:'$D(RADOSE) RADOSE=$P($G(^RADPTN(DA(1),"NUC",DA,0)),"^",7);
"KRN",.402,811,"DR",5,70.21,6)
S RANM702=$G(^RADPTN(DA(1),"NUC",DA,0));S:$P(^RAMIS(71,RAPRI,0),"^",19)'="y"!('RADOSE) Y="@1030";S:$P(RANM702,"^",2)]""&($P(RANM702,"^",3)]"") Y="@1030";3;2;@1030;S:"Y"'[$P(RANXT72(.6),"^",5) Y="@1040";
"KRN",.402,811,"DR",5,70.21,7)
8//^S X=$S($P($G(RANM702),"^",5)]"":$$FMTE^XLFDT($P(RANM702,"^",5),1),1:"NOW");9//^S X=$P($G(^VA(200,DUZ,0)),"^");@1040;S:$P(RANM702,"^",10)]""!($P($G(^RAMIS(71,RAPRI,0)),"^",19)'="y") Y="@1050";10;@1050;
"KRN",.402,811,"DR",5,70.21,8)
S:"Y"'[$P(RANXT72(.6),"^",7) Y="@1060";11//^S X=$$GET1^DIQ(71.6,+$P(RADIOPH,"^",3)_",",.01);S RAR1=+X;S:'+$O(^RAMIS(71.6,RAR1,"SITE",0)) Y="@1070";12//^S X=$$GET1^DIQ(71.7,+$P(RADIOPH,"^",4)_",",.01);@1070;
"KRN",.402,811,"DR",5,70.21,9)
S:'($P($G(^RADPTN(DA(1),"NUC",DA,0)),"^",11)]""&($P($G(^RAMIS(71.6,RAR1,0)),"^",3)="Y")) Y="@1080";12.5;@1080;@1060;S:"Y"'[$P(RANXT72(.6),"^",8) Y="@1090";13;@1090;S:"Y"'[$P(RANXT72(.6),"^",9) Y="@1100";14;
"KRN",.402,811,"DR",5,70.21,10)
15//^S X=$$EXTERNAL^DILFD(71.08,7,"",$P(RADIOPH,"^",7));@1100;
"KRN",.402,811,"ROUOLD")
RACTTK
"KRN",.402,816,-1)
0^1
"KRN",.402,816,0)
RA EXAM EDIT^3030410.1239^^70^^^3030702
"KRN",.402,816,"%D",0)
^^1^1^2961105^^^
"KRN",.402,816,"%D",1,0)
This template is used to edit exams.
"KRN",.402,816,"DIAB",1,2,70.03,10)
500:
"KRN",.402,816,"DIAB",1,3,70.1,0)
ALL
"KRN",.402,816,"DIAB",1,3,70.12,0)
ALL
"KRN",.402,816,"DIAB",1,3,70.3135,0)
ALL
"KRN",.402,816,"DIAB",1,4,70.21,5)
7//^S X=RADRAWN;T
"KRN",.402,816,"DIAB",2,4,70.21,3)
4;T
"KRN",.402,816,"DIAB",3,2,70.03,1)
2;REQ
"KRN",.402,816,"DIAB",4,2,70.03,7)
9;REQ
"KRN",.402,816,"DIAB",6,4,70.21,6)
2;T
"KRN",.402,816,"DIAB",7,2,70.03,7)
8;REQ
"KRN",.402,816,"DIAB",9,2,70.03,6)
6;REQ
"KRN",.402,816,"DIAB",10,2,70.03,6)
7;REQ
"KRN",.402,816,"DIAB",11,2,70.03,6)
19;REQ
"KRN",.402,816,"DIAB",14,2,70.03,6)
9.5;REQ
"KRN",.402,816,"DR",1,70)
I '$D(RADTE)!('$D(RACN))!('$D(RAQUICK))!('$D(RAMDV)) W !?3,*7,"You must have the variables for 'Case Number','Exam Date' and",!?3,"'Rad/Nuc Med Division' defined to continue!" S Y="@999";S RAPOP=0 D USER^RAUTL S:RAPOP Y="@999";
"KRN",.402,816,"DR",1,70,1)
2///^S X=RADTE;@999;K RAY,RAR,RA0,RACAT,RAI,RAMIS,RAIEN702,RANUZD1;
"KRN",.402,816,"DR",2,70.02)
50///^S X=RACN;@800;
"KRN",.402,816,"DR",3,70.03)
S REM="RANUZD1 = case's Img typ's 'Radiopharm Used'";S:$P($G(^RA(79.2,+$P($G(^RADPT(DA(2),"DT",DA(1),0)),"^",2),0)),"^",5)="Y" RANUZD1="";S RAY=^RADPT(DA(2),"DT",DA(1),"P",DA,0) F RAI=1:1:18 S RA0(RAI)=$P(RAY,U,RAI);
"KRN",.402,816,"DR",3,70.03,1)
S RAR=$S($D(^RADPT(DA(2),"DT",DA(1),"P",DA,"R")):^("R"),1:"");@20;2R~;S RAPRI=+X;S REM="did user change the procedure ?";I RAPRI=RA0(2) S Y="@19";D WARNPRC^RAUTL;I RAWHICH=0 S Y="@19";I RAWHICH=2 S Y="@17";
"KRN",.402,816,"DR",3,70.03,2)
W !,"... Deleting radiopharms ...",!;500///@;@17;I RAWHICH=1 S Y="@19";W !,"... Deleting Medications ...",!;K ^RADPT(DA(2),"DT",DA(1),"P",DA,"RX");@19;I '$P(RAMDV,U,7)!($P(^RAMIS(71,+RAPRI,0),U,6)'="B") S Y="@21";
"KRN",.402,816,"DR",3,70.03,3)
W !?3,*7,"A 'detailed' procedure or a 'series' of procedures is required!";2///@;S Y="@20";@21;S:'$$FUTC^RACPTCSV Y="@20";S:$D(^RAMIS(71,"AC",9,RAPRI)) Y="@31";Q;5///^S X="NO";S Y="@32";@31;5//YES;@32;
"KRN",.402,816,"DR",3,70.03,4)
F RAI=4,15,21,22 I $D(^RAMIS(71,"AC",RAI,RAPRI)) S Y="@35" Q;F RAI=10,11,12,14,16,17,18,19,20 I $D(^RAMIS(71,"AC",RAI,RAPRI)) S Y="@33",RAMIS="YES" Q;S RAMIS="NO";@33;10///^S X=RAMIS;S Y="@36";@35;10//YES;@36;125;@37;
"KRN",.402,816,"DR",3,70.03,5)
D:$T(DISCMOD^RACPTMSC)]"" DISCMOD^RACPTMSC;135;S:'$$FUTCMOD^RACPTCSV Y="@37";4;S RACAT=X;S:RA0(4)=RACAT Y="@4";S:RA0(8)']"" Y="@1";8///@;@1;S:RA0(9)']"" Y="@2";9///@;@2;S:RA0(6)']"" Y="@10";6///@;@10;S:RA0(7)']"" Y="@11";7///@;@11;
"KRN",.402,816,"DR",3,70.03,6)
S:$P(RAY,"^",19)']"" Y="@3";19///@;@3;S:RAR']"" Y="@4";9.5///@;@4;S Y=$S(RACAT="I":"@5",RACAT="E":"@12",RACAT="R":"@6","CS"[RACAT:"@7",1:"@8");@5;6R~;7R~;19R~;S Y="@100";@6;9.5R~;@12;
"KRN",.402,816,"DR",3,70.03,7)
I '$D(VADMVT) S DFN=DA(2),VAINDT=9999999.9999-DA(1) D ADM^VADPT2;S Y=$S(VADMVT:"@5",1:"@8");@7;9R~;S Y="@100";@8;8R~;@100;14;175;S RATCXX=$$TCPROMPT^RAO7XX;16//^S X=$S($D(^RA(78.1,"B","NO COMPLICATION")):"NO COMPLICATION",1:"");
"KRN",.402,816,"DR",3,70.03,8)
S:'$D(^RA(78.1,+X,0)) Y="@130";S:$P(^RA(78.1,+X,0),U)="NO COMPLICATION" Y="@130";16.5;@130;S:'$P(RAMDV,U,9) Y="@140";18;@140;50;Q;@99;Q;S:'$D(RANUZD1) Y="@700";S REM="skip radio section if case' Img Typ's 'RADIO...USED' is NEVER";
"KRN",.402,816,"DR",3,70.03,9)
S:$P(^RAMIS(71,+RAPRI,0),U,2)=1 Y="@700";S RAIEN702=$$EN1^RANMPT1(RADFN,RADTE,RACN);S:RAIEN702=-1 Y="@700";500////^S X=RAIEN702;
"KRN",.402,816,"DR",3,70.03,10)
^70.2^RADPTN(^^S I(2,0)=D2 S I(1,0)=D1 S I(0,0)=D0 S Y(1)=$S($D(^RADPT(D0,"DT",D1,"P",D2,0)):^(0),1:"") S X=$P(Y(1),U,28),X=X S D(0)=+X S X=$S(D(0)>0:D(0),1:"");@700;S RA00=$O(^RADPTN("AA",RADFN,RADTE,RACN,0));S:'RA00 Y="@710";
"KRN",.402,816,"DR",3,70.03,11)
S:$O(^RADPTN(RA00,"NUC",0)) Y="@710";K RAIEN702;500///@;@710;S RACT=$S(RAQUICK:"C",1:"P");100///^S X="""NOW""";S REM="here, DIE is ^RADPT(-,'DT',-,'P',";S RA00=$O(@(DIE_DA_",""RX"","_"0)"));
"KRN",.402,816,"DR",3,70.03,12)
S RA00=$G(@(DIE_DA_",""RX"","_+RA00_",0)"));S:RA00]"" Y="@720";S RASKMEDS=$P(^RAMIS(71,+RAPRI,0),U,5) S:RASKMEDS=""!("Yy"'[RASKMEDS) Y="@790";@720;200;@790;
"KRN",.402,816,"DR",4,70.04)
.01;2;
"KRN",.402,816,"DR",4,70.07)
2///^S X=RACT;3////^S X=RADUZ;4///^S X=RATCXX;S:RATCXX'="" Y="@18";4///@;K ^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",DA,"TCOM");@18;K RATCXX;
"KRN",.402,816,"DR",4,70.1)
.01
"KRN",.402,816,"DR",4,70.12)
.01
"KRN",.402,816,"DR",4,70.15)
.01;2;S:$P(RA00,U,3)="" Y="@740";3//^S X="NOW";@740;S:$P(RA00,U,4)="" Y="@750";4//^S X=$P($G(^VA(200,DUZ,0)),"^");@750;
"KRN",.402,816,"DR",4,70.2)
D DISDEF^RASTREQN(RAIEN702);100;@600;
"KRN",.402,816,"DR",4,70.3135)
.01
"KRN",.402,816,"DR",5,70.21)
.01;Q;S RAPSDRUG=X;S:'$G(D0) Y="@500";S REM="NOTE: here, DIE is ^RADPTN(D0,'NUC',";S:DIE'[",""NUC""" Y="@500";S RA00=$G(@(DIE_DA_",0)"));S:RA00="" Y="@500";@210;
"KRN",.402,816,"DR",5,70.21,1)
S RADIOPH=$O(^RAMIS(71,$G(RAPRI),"NUC","B",+$G(RAPSDRUG),0)),(RALOW,RAHI,RADRAWN,RADOSE,RASKMEDS)="";S:'RADIOPH Y="@220";S RADIOPH=$G(^RAMIS(71,$G(RAPRI),"NUC",RADIOPH,0)),RALOW=$P(RADIOPH,U,6),RAHI=$P(RADIOPH,U,5);@220;
"KRN",.402,816,"DR",5,70.21,2)
S:$P(RA00,U,4)="" Y="@230";@225;W:RAHI]""!(RALOW]"")!($P(RADIOPH,U,2)]"") !! W:RAHI]"" "High Dose :",RAHI_" mCi" W:RALOW]"" ?27,"Low Dose :",RALOW_" mCi" W:$P(RADIOPH,U,2)]"" ?53,"Usual Dose :",$P(RADIOPH,U,2)_" mCi";
"KRN",.402,816,"DR",5,70.21,3)
W:RAHI]""!(RALOW]"")!($P(RADIOPH,U,2)]"") !;4T~;S RADRAWN=X;S Y=$$VALDOS^RASTREQN(RALOW,RAHI,RADRAWN,"@225","@230","@999",0);@230;S:$P(RA00,U,5)="" Y="@240";Q;5;@240;S:$P(RA00,U,6)="" Y="@250";6;@250;
"KRN",.402,816,"DR",5,70.21,4)
W:RAHI]""!(RALOW]"")!($P(RADIOPH,U,2)]"") !! W:RAHI]"" "High Dose: ",RAHI_" mCi" W:RALOW]"" ?27,"Low Dose: ",RALOW_" mCi" W:$P(RADIOPH,U,2)]"" ?53,"Usual Dose: ",$P(RADIOPH,U,2)," mCi";W:RAHI]""!(RALOW]"")!($P(RADIOPH,U,2)]"") !;
"KRN",.402,816,"DR",5,70.21,5)
7T~//^S X=RADRAWN;S RADOSE=X;S:RALOW]""&(X<RALOW)&(X'="") Y="@255";S:RAHI]""&(X>RAHI) Y="@255";S Y="@258";@255;D WARN^RANMED1;R !!,"OK to continue (Y/N) ?: N//",RAASK;W !;S RAASK=$E(RAASK);S:"Yy"'[RAASK!(RAASK="") Y="@250";
"KRN",.402,816,"DR",5,70.21,6)
S REM="is fil 71's PROMPT FOR RADIOPHARM RX yes ?";@258;S RAASK=$P($G(^RAMIS(71,+RAPRI,0)),U,19) S:RAASK=""!("Yy"'[RAASK) Y="@270";@260;3;2T~;@270;Q;8//^S X=$S($P($G(^RADPTN(DA(1),"NUC",DA,0)),"^",5)]"":$P(^(0),"^",5),1:"NOW");
"KRN",.402,816,"DR",5,70.21,7)
9//^S X=$P(^VA(200,+$G(DUZ),0),U);@290;S:$P(RA00,U,6)="" Y="@310";6;@310;S REM="Note: 'RAASK' may not be defined, hit global for 'Prompt For Radiopharm RX'";S:$P($G(^RAMIS(71,RAPRI,0)),"^",19)'="y" Y="@320";10;@320;
"KRN",.402,816,"DR",5,70.21,8)
S:$P(RA00,U,11)="" Y="@330";11;@330;S:$P(RA00,U,12)="" Y="@335";12;@335;S:'$D(@(DIE_DA_",""SITX"")")) Y="@340";12.5;@340;S:$P(RA00,U,13)="" Y="@350";13;@350;S:$P(RA00,U,14)="" Y="@360";14;@360;S:$P(RA00,U,15)="" Y="@500";15;@500;
"KRN",.402,816,"ROUOLD")
RACTEX
"MBREQ")
1
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",19,-1)
1^1
"PKG",19,0)
RADIOLOGY/NUCLEAR MEDICINE^RA^REGISTERS PATIENTS,RECORDS EXAMS,PROFILES,AMIS REPORTS
"PKG",19,22,0)
^9.49I^1^1
"PKG",19,22,1,0)
5.0^2980317^2980612^768
"PKG",19,22,1,"PAH",1,0)
38^3030729^25752
"PKG",19,22,1,"PAH",1,1,0)
^^2^2^3030729
"PKG",19,22,1,"PAH",1,1,1,0)
      Please see the National Patch Module for details of the 
"PKG",19,22,1,"PAH",1,1,2,0)
      enhancements included in this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","RA38PST")
0^^B4129141
"RTN","RA38PST",1,0)
RA38PST ;HOIFO/SWM-Post install ;6/2/03  10:30
"RTN","RA38PST",2,0)
 ;;5.0;Radiology/Nuclear Medicine;**38**;Mar 16, 1998
"RTN","RA38PST",3,0)
 ; This is the post-install routine for patch RA*5.0*38
"RTN","RA38PST",4,0)
 ; and patch RA*5.0*38 is part of the combined build CSV_PS_1_0.KID
"RTN","RA38PST",5,0)
 ;
"RTN","RA38PST",6,0)
 ; This routine may be deleted after CSV_PS_1_0.KID is installed.
"RTN","RA38PST",7,0)
 ;
"RTN","RA38PST",8,0)
 ; Silent recompile of input template RA REGISTER
"RTN","RA38PST",9,0)
 I '$D(XPDNM)#2 D EN^DDIOL("This entry point must be called from the KIDS installation -- Nothing Done.",,"!!,$C(7)") Q
"RTN","RA38PST",10,0)
 N X,Y,DMAX,RATXT,RAITMPL,RAERR,I,N,RABAD
"RTN","RA38PST",11,0)
 S DMAX=$$ROUSIZE^DILF
"RTN","RA38PST",12,0)
 S X="RACTRG" ; compile routine name
"RTN","RA38PST",13,0)
 S RAITMPL="RA REGISTER" ; input template name
"RTN","RA38PST",14,0)
 S Y=$$FIND1^DIC(.402,,"BX",RAITMPL,,,"RAERR")
"RTN","RA38PST",15,0)
 I 'Y D  S RABAD=1
"RTN","RA38PST",16,0)
 . S RATXT(1)=" "
"RTN","RA38PST",17,0)
 . S RATXT(2)="** Cannot find input template "_RAITMPL_" **"
"RTN","RA38PST",18,0)
 . S RATXT(6)=" "
"RTN","RA38PST",19,0)
 . D MES^XPDUTL(.RATXT)
"RTN","RA38PST",20,0)
 I $D(RAERR) D  S RABAD=1
"RTN","RA38PST",21,0)
 . K RATXT
"RTN","RA38PST",22,0)
 . S RATXT(1)=" "
"RTN","RA38PST",23,0)
 . S RATXT(2)="** One or more error codes were return: **"
"RTN","RA38PST",24,0)
 . S N=2
"RTN","RA38PST",25,0)
 . S I=0 F I=1:1:17 S I=$O(RAERR("DIERR","E",I)) Q:'I  S N=N+1,RATXT(N)="     "_I_" -- "_$G(RAERR("DIERR",1,"TEXT",1))
"RTN","RA38PST",26,0)
 . S N=N+1,RATXT(N)=" "
"RTN","RA38PST",27,0)
 . D MES^XPDUTL(.RATXT)
"RTN","RA38PST",28,0)
 I $D(RABAD) D  Q
"RTN","RA38PST",29,0)
 . K RATXT
"RTN","RA38PST",30,0)
 . S RATXT(1)="** Recompilation of "_RAITMPL_" is not done. **"
"RTN","RA38PST",31,0)
 . S RATXT(2)=" "
"RTN","RA38PST",32,0)
 . S RATXT(3)="** Please log a NOIS for the Radiology module. **"
"RTN","RA38PST",33,0)
 . S RATXT(4)=" "
"RTN","RA38PST",34,0)
 . D MES^XPDUTL(.RATXT)
"RTN","RA38PST",35,0)
 S RATXT="          Compiling input template "_RAITMPL_"."
"RTN","RA38PST",36,0)
 D BMES^XPDUTL(RATXT)
"RTN","RA38PST",37,0)
 D EN^DIEZ
"RTN","RA38PST",38,0)
 S RATXT="          Finished compiling input template "_RAITMPL_"."
"RTN","RA38PST",39,0)
 D BMES^XPDUTL(RATXT)
"RTN","RA38PST",40,0)
 Q
"RTN","RACPTCSV")
0^2^B25132692
"RTN","RACPTCSV",1,0)
RACPTCSV ;HISC/SWM - CPT Code Set Version ;7/2/03  13:50
"RTN","RACPTCSV",2,0)
 ;;5.0;Radiology/Nuclear Medicine;**38**;Mar 16, 1998
"RTN","RACPTCSV",3,0)
 Q
"RTN","RACPTCSV",4,0)
ACTC() ; find out if CPT CODE is active
"RTN","RACPTCSV",5,0)
 ; called fom file 70.03 field 2's DIC("S")
"RTN","RACPTCSV",6,0)
 ; Y = ien file 71
"RTN","RACPTCSV",7,0)
 ; DA(2) = RADFN
"RTN","RACPTCSV",8,0)
 ; DA(1) = RADTI
"RTN","RACPTCSV",9,0)
 N RAACTIV,RAPROC,RACPT,RACPTNAM,RADT0,RAMSG,RADATE,RADATV,RAX1,RAX2
"RTN","RACPTCSV",10,0)
 S RAACTIV=1 ; =1 no error, or CPT CODE is active
"RTN","RACPTCSV",11,0)
 S RAPROC=^RAMIS(71,+Y,0)
"RTN","RACPTCSV",12,0)
 S RACPT=$P(RAPROC,U,9)
"RTN","RACPTCSV",13,0)
 I RACPT="",$P(RAPROC,U,6)'="B" D  S RAACTIV=0
"RTN","RACPTCSV",14,0)
 . D EN^DDIOL("** A non-broad procedure is missing a CPT CODE.**",,"!?4")
"RTN","RACPTCSV",15,0)
 . Q
"RTN","RACPTCSV",16,0)
 S RADT0=^RADPT(DA(2),"DT",DA(1),0),RADATE=$P(RADT0,U)
"RTN","RACPTCSV",17,0)
 I $P(RAPROC,U,6)="P" D  S RAACTIV=0
"RTN","RACPTCSV",18,0)
 . D EN^DDIOL("** Procedure is a parent type. **",,"!?4")
"RTN","RACPTCSV",19,0)
 . Q
"RTN","RACPTCSV",20,0)
 I $D(^RAMIS(71,+Y,"I"))#2,^("I")'="",^("I")'>DT D  S RAACTIV=0
"RTN","RACPTCSV",21,0)
 . S RADATV=$$FMTE^XLFDT($P(^RAMIS(71,+Y,"I"),U),2) ; convert inact.dt
"RTN","RACPTCSV",22,0)
 . S RAMSG="** Procedure is inactive since "_RADATV_". **"
"RTN","RACPTCSV",23,0)
 . D EN^DDIOL(RAMSG,,"!?4")
"RTN","RACPTCSV",24,0)
 . Q
"RTN","RACPTCSV",25,0)
 I $P(RAPROC,U,12)'=$P(^RADPT(DA(2),"DT",DA(1),0),U,2) D  S RAACTIV=0
"RTN","RACPTCSV",26,0)
 . D EN^DDIOL("** Procedure's Imaging Type differs from Exam's Imaging Type. **",,"!?4")
"RTN","RACPTCSV",27,0)
 . Q
"RTN","RACPTCSV",28,0)
 S RADATV=$$FMTE^XLFDT(RADATE,2) ; convert Exam Date
"RTN","RACPTCSV",29,0)
 I RACPT,'$$ACTCODE^RACPTMSC(RACPT,RADATE) D  S RAACTIV=0
"RTN","RACPTCSV",30,0)
 . S RACPTNAM=$P($$NAMCODE^RACPTMSC(RACPT,RADATE),U)
"RTN","RACPTCSV",31,0)
 . S RAMSG="** Procedure's CPT "_RACPTNAM_" is invalid for Exam Date "_RADATV_". **"
"RTN","RACPTCSV",32,0)
 . D EN^DDIOL(RAMSG,,"!?4")
"RTN","RACPTCSV",33,0)
 .; if registering exam, and order is parent proc, display help message
"RTN","RACPTCSV",34,0)
 . I $D(RAOPT("REG")),$P($G(^RAMIS(71,+$P($G(^RAO(75.1,+$G(RAORDS(1)),0)),U,2),0)),U,6)="P" D
"RTN","RACPTCSV",35,0)
 .. S RAMSG="** Enter ""^"" to skip this descendent"
"RTN","RACPTCSV",36,0)
 .. D EN^DDIOL(RAMSG,,"!?4")
"RTN","RACPTCSV",37,0)
 .. S RAMSG="   or enter a procedure with an active CPT code. **"
"RTN","RACPTCSV",38,0)
 .. D EN^DDIOL(RAMSG,,"!?4")
"RTN","RACPTCSV",39,0)
 .. Q
"RTN","RACPTCSV",40,0)
 . Q
"RTN","RACPTCSV",41,0)
 Q RAACTIV
"RTN","RACPTCSV",42,0)
FUTC() ; called from input templates [RA EXAM EDIT], [RA STATUS CHANGE]
"RTN","RACPTCSV",43,0)
 ; IF exam date is future to first Log Date:
"RTN","RACPTCSV",44,0)
 ;   check CPT CODE when/after that date arrives
"RTN","RACPTCSV",45,0)
 ;   and last Log Date isn't later than Exam Date
"RTN","RACPTCSV",46,0)
 ; assumes existing RADFN,RADTI,RACNI,RADTE
"RTN","RACPTCSV",47,0)
 ; RETURNS 0=inact.CPT Code, 1=active CPT Code
"RTN","RACPTCSV",48,0)
 N RADTEX,RARET,RALOG1,RALOGL,RA71,RACPTNAM,RAMSG,RAX
"RTN","RACPTCSV",49,0)
 S RARET=1 ; default return to 1 (active)
"RTN","RACPTCSV",50,0)
 S RAX=^RADPT(RADFN,"DT",RADTI,"P",RACNI,0) G:RAX="" FUTCQ
"RTN","RACPTCSV",51,0)
 S RADTEX=RADTE\1 ; date portion of RADTE
"RTN","RACPTCSV",52,0)
 S RALOG1=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",0)) G:'RALOG1 FUTCQ
"RTN","RACPTCSV",53,0)
 S RALOG1=+^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",RALOG1,0)\1 G:'RALOG1 FUTCQ ;dt portion 1st log date
"RTN","RACPTCSV",54,0)
 G:RALOG1'<RADTEX FUTCQ ;1st Log Date same/greater than Exam Date
"RTN","RACPTCSV",55,0)
 G:DT<RADTEX FUTCQ ; future Exam Date hasn't arrived yet
"RTN","RACPTCSV",56,0)
 S RALOGL=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",""),-1) G:'RALOGL FUTCQ
"RTN","RACPTCSV",57,0)
 S RALOGL=+^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",RALOGL,0)\1 ;dt portion last log date
"RTN","RACPTCSV",58,0)
 G:RALOGL'<RADTEX FUTCQ ;latest Log Date = OR > Exam Date
"RTN","RACPTCSV",59,0)
 ; now check CPT CODE from case record
"RTN","RACPTCSV",60,0)
 S RA71=$G(^RAMIS(71,+$P(RAX,U,2),0))
"RTN","RACPTCSV",61,0)
 S RARET=$$ACTCODE^RACPTMSC(+$P(RA71,"^",9),RADTE)
"RTN","RACPTCSV",62,0)
 I 'RARET D
"RTN","RACPTCSV",63,0)
 . S RACPTNAM=$P($$NAMCODE^RACPTMSC(+$P(RA71,"^",9),RADTE),U)
"RTN","RACPTCSV",64,0)
 . S RAMSG="*** Exam was registered with a future date, and since      ***"
"RTN","RACPTCSV",65,0)
 . D EN^DDIOL(RAMSG,,"!?4")
"RTN","RACPTCSV",66,0)
 . S RAMSG="*** registration, its CPT Code "_RACPTNAM_" has been inactivated. ***"
"RTN","RACPTCSV",67,0)
 . D EN^DDIOL(RAMSG,,"!?4")
"RTN","RACPTCSV",68,0)
 . S RAMSG="You must choose a procedure that has an active CPT Code."
"RTN","RACPTCSV",69,0)
 . D EN^DDIOL(RAMSG,,"!!?4")
"RTN","RACPTCSV",70,0)
 . D EN^DDIOL(" ",,"!?4")
"RTN","RACPTCSV",71,0)
 . Q
"RTN","RACPTCSV",72,0)
FUTCQ ;
"RTN","RACPTCSV",73,0)
 Q RARET
"RTN","RACPTCSV",74,0)
FUTCMOD() ; called from input templates [RA EXAM EDIT], [RA STATUS CHANGE]
"RTN","RACPTCSV",75,0)
 ; IF exam date is future to first Log Date:
"RTN","RACPTCSV",76,0)
 ;   check CPT Modifier when/after that date arrives
"RTN","RACPTCSV",77,0)
 ;   and last Log Date isn't later than Exam Date
"RTN","RACPTCSV",78,0)
 ; assumes existing RADFN,RADTI,RACNI,RADTE
"RTN","RACPTCSV",79,0)
 ; RETURNS 0=at least one CPT Mod is inactive, 1=all CPT Mods active
"RTN","RACPTCSV",80,0)
 N RADTEX,RARET,RALOG1,RALOGL,RA813,RAMSG,RA0,RA1,RAX,RAMODSTR
"RTN","RACPTCSV",81,0)
 S RARET=1 ;default return value to 1
"RTN","RACPTCSV",82,0)
 G:'$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"CMOD",0)) FUTCMODQ ; no cpt mod entered
"RTN","RACPTCSV",83,0)
 S RADTEX=RADTE\1 ; date portion of RADTE
"RTN","RACPTCSV",84,0)
 S RALOG1=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",0)) G:'RALOG1 FUTCMODQ
"RTN","RACPTCSV",85,0)
 S RALOG1=+^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",RALOG1,0)\1 G:'RALOG1 FUTCMODQ ;dt portion 1st log date
"RTN","RACPTCSV",86,0)
 G:RALOG1'<RADTEX FUTCMODQ ; 1st Log date same/greater than Exam Date
"RTN","RACPTCSV",87,0)
 G:DT<RADTEX FUTCMODQ ; future Exam Date hasn't arrived yet
"RTN","RACPTCSV",88,0)
 S RALOGL=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",""),-1) G:'RALOGL FUTCMODQ
"RTN","RACPTCSV",89,0)
 S RALOGL=+^RADPT(RADFN,"DT",RADTI,"P",RACNI,"L",RALOGL,0)\1 G:'RALOGL FUTCMODQ ;dt portion last log date
"RTN","RACPTCSV",90,0)
 G:RALOGL'<RADTEX FUTCMODQ ;latest Log Date = OR > Exam Date
"RTN","RACPTCSV",91,0)
 ; now check all CPT Mods from case record
"RTN","RACPTCSV",92,0)
 S RA1=0 F  S RA1=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"CMOD",RA1)) Q:'RA1  D
"RTN","RACPTCSV",93,0)
 . S RAX=+^RADPT(RADFN,"DT",RADTI,"P",RACNI,"CMOD",RA1,0)
"RTN","RACPTCSV",94,0)
 . S RA0=$$ACTMOD^RACPTMSC(RAX,RADTE)
"RTN","RACPTCSV",95,0)
 . I 'RA0 S RARET=0 D
"RTN","RACPTCSV",96,0)
 .. S RAMSG="Exam was registered with a future date, and since registration,"
"RTN","RACPTCSV",97,0)
 .. D EN^DDIOL(RAMSG,,"!?4")
"RTN","RACPTCSV",98,0)
 .. S RAMSG=$P(RAMODSTR,"^",2)_" "_$P(RAMODSTR,"^",3)_" has been inactivated."
"RTN","RACPTCSV",99,0)
 .. D EN^DDIOL(RAMSG,,"!?4")
"RTN","RACPTCSV",100,0)
 .. Q
"RTN","RACPTCSV",101,0)
 . Q
"RTN","RACPTCSV",102,0)
 I 'RARET D EN^DDIOL("You must delete the inactive CPT Modifier(s) before you can continue.",,"!?4")
"RTN","RACPTCSV",103,0)
FUTCMODQ ;
"RTN","RACPTCSV",104,0)
 Q RARET
"RTN","RACPTCSV",105,0)
 ;
"RTN","RACPTMSC")
0^1^B37722572
"RTN","RACPTMSC",1,0)
RACPTMSC ;HISC/SWM - CPT Mod screen, misc. ;5/30/00  11:02
"RTN","RACPTMSC",2,0)
 ;;5.0;Radiology/Nuclear Medicine;**10,19,38**;Mar 16, 1998
"RTN","RACPTMSC",3,0)
 Q
"RTN","RACPTMSC",4,0)
SCRN(Y) ;screen entry of cpt mod
"RTN","RACPTMSC",5,0)
 ; called from file 70.03's field 135's screen
"RTN","RACPTMSC",6,0)
 ; Y    = ien of file 81.3
"RTN","RACPTMSC",7,0)
 ; RACPT= CPT ien of this exam's procedure
"RTN","RACPTMSC",8,0)
 ; RADT = exam date
"RTN","RACPTMSC",9,0)
 ; RAX  = screen's outcome, 0=failed
"RTN","RACPTMSC",10,0)
 N RACPT,RADT,RAX,RA7002,RA7003,RA1,RA2,RA3
"RTN","RACPTMSC",11,0)
 S (RA7002,RA7003)=""
"RTN","RACPTMSC",12,0)
 D SET
"RTN","RACPTMSC",13,0)
 I RA7002="" Q 0
"RTN","RACPTMSC",14,0)
 I RA7003="" Q 0
"RTN","RACPTMSC",15,0)
 S RADT=$P(RA7002,U) I 'RADT Q 0
"RTN","RACPTMSC",16,0)
 S RACPT=+$P(^RAMIS(71,+$P(RA7003,U,2),0),U,9) I 'RACPT Q 0
"RTN","RACPTMSC",17,0)
 S RAX=$$MODP^ICPTMOD(RACPT,+Y,"I",RADT) S:RAX<0 RAX=0
"RTN","RACPTMSC",18,0)
 Q RAX
"RTN","RACPTMSC",19,0)
SET ; use Rad vars if available
"RTN","RACPTMSC",20,0)
 I $D(RADFN),$D(RADTI),$D(RACNI) S RA1=RADFN,RA2=RADTI,RA3=RACNI G SET23
"RTN","RACPTMSC",21,0)
 S RA1=$G(D0),RA2=$G(D1),RA3=$G(D2)
"RTN","RACPTMSC",22,0)
 Q:((RA1="")!(RA2="")!(RA3=""))
"RTN","RACPTMSC",23,0)
SET23 S RA7002=$G(^RADPT(RA1,"DT",RA2,0)),RA7003=$G(^RADPT(RA1,"DT",RA2,"P",RA3,0))
"RTN","RACPTMSC",24,0)
 Q
"RTN","RACPTMSC",25,0)
DW ; del exam's cpt mods and warn of proc mods
"RTN","RACPTMSC",26,0)
 ; called from file 70.03's field 2's Mumps xref for kill
"RTN","RACPTMSC",27,0)
 ; Y    = ien of file 81.3
"RTN","RACPTMSC",28,0)
 N RA7002,RA7003,RA1,RA2,RA3,RAX,RAROOT
"RTN","RACPTMSC",29,0)
 S (RA7002,RA7003)=""
"RTN","RACPTMSC",30,0)
 D SET
"RTN","RACPTMSC",31,0)
 Q:RA7002=""
"RTN","RACPTMSC",32,0)
 Q:RA7003=""
"RTN","RACPTMSC",33,0)
 G:'$O(^RADPT(RA1,"DT",RA2,"P",RA3,"CMOD",0)) WARN
"RTN","RACPTMSC",34,0)
 S RAX=0 ;del all cpt modifiers
"RTN","RACPTMSC",35,0)
 F  S RAX=$O(^RADPT(RA1,"DT",RA2,"P",RA3,"CMOD",RAX)) Q:'RAX  D
"RTN","RACPTMSC",36,0)
 . S RAROOT(70.3135,RAX_","_RA3_","_RA2_","_RA1_",",.01)="@"
"RTN","RACPTMSC",37,0)
 . D FILE^DIE("K","RAROOT")
"RTN","RACPTMSC",38,0)
 W !!?5,"All previous CPT Modifier(s) are deleted.",!
"RTN","RACPTMSC",39,0)
WARN Q:'$O(^RADPT(RA1,"DT",RA2,"P",RA3,"M","B",0)) 
"RTN","RACPTMSC",40,0)
 S RAX=0 ;warn of existing proc mods
"RTN","RACPTMSC",41,0)
 W !!?5,"Current Procedure Modifier(s) :"
"RTN","RACPTMSC",42,0)
 F  S RAX=$O(^RADPT(RA1,"DT",RA2,"P",RA3,"M",RAX)) Q:'RAX  W !?10,$P($G(^RAMIS(71.2,+^(RAX,0),0)),U)
"RTN","RACPTMSC",43,0)
 Q
"RTN","RACPTMSC",44,0)
ACTCODE(RA1,RA2) ;outputs CPT code active status
"RTN","RACPTMSC",45,0)
 ; output=1 active, =0 inactive
"RTN","RACPTMSC",46,0)
 ; RA1 = CPT CODE, internal or external
"RTN","RACPTMSC",47,0)
 ; RA2 = date to check CPT Code 
"RTN","RACPTMSC",48,0)
 N RA
"RTN","RACPTMSC",49,0)
 S RA=$$CPT^ICPTCOD(RA1,RA2)
"RTN","RACPTMSC",50,0)
 I $P(RA,"^",7)=1 Q 1
"RTN","RACPTMSC",51,0)
 Q 0
"RTN","RACPTMSC",52,0)
NAMCODE(RA1,RA2) ;outputs flds #.01 and #2  of CPT record
"RTN","RACPTMSC",53,0)
 ; RA1 = CPT CODE, internal or external
"RTN","RACPTMSC",54,0)
 ; RA2 = date to check CPT Code 
"RTN","RACPTMSC",55,0)
 N RA
"RTN","RACPTMSC",56,0)
 S RA=$$CPT^ICPTCOD(RA1,RA2)
"RTN","RACPTMSC",57,0)
 S:+RA=-1 RA=""
"RTN","RACPTMSC",58,0)
 S RA=$P(RA,"^",2,3)
"RTN","RACPTMSC",59,0)
 Q RA
"RTN","RACPTMSC",60,0)
BASICMOD(RA1,RA2) ; outputs basic modifier info
"RTN","RACPTMSC",61,0)
 ; RA1 = CPT MODIFIER, internal is used here
"RTN","RACPTMSC",62,0)
 ; RA2 = date to check CPT Modifier
"RTN","RACPTMSC",63,0)
 Q $$MOD^ICPTMOD(RA1,"I",RA2)
"RTN","RACPTMSC",64,0)
ACTMOD(RA1,RA2) ; outputs active status of CPT modifier
"RTN","RACPTMSC",65,0)
 ; RA1 = CPT MODIFIER, internal is used here
"RTN","RACPTMSC",66,0)
 ; RA2 = date to check CPT Modifier
"RTN","RACPTMSC",67,0)
 ; output: 
"RTN","RACPTMSC",68,0)
 ;        RA3 = 0 is inactive, >0 is active
"RTN","RACPTMSC",69,0)
 ;        RAMODSTR returned from call to MOD^ICPTMOD
"RTN","RACPTMSC",70,0)
 N RA3
"RTN","RACPTMSC",71,0)
 S RAMODSTR=$$MOD^ICPTMOD(RA1,"I",RA2)
"RTN","RACPTMSC",72,0)
 S RA3=+RAMODSTR
"RTN","RACPTMSC",73,0)
 S:RA3<0 RA3=0
"RTN","RACPTMSC",74,0)
 S:'$P(RAMODSTR,U,7) RA3=0
"RTN","RACPTMSC",75,0)
 Q RA3
"RTN","RACPTMSC",76,0)
SETDEFS ; set default CPT Modifiers, called by [RA REGISTER]
"RTN","RACPTMSC",77,0)
 ; 1st choice, defaults from file 71
"RTN","RACPTMSC",78,0)
 ; 2nd choice, defaults from file 79.1
"RTN","RACPTMSC",79,0)
 N RAROOT
"RTN","RACPTMSC",80,0)
 S RAROOT=$S($O(^RAMIS(71,+RAPRI,"DCM",0)):"^RAMIS(71,"_+RAPRI_",""DCM"",",$O(^RA(79.1,+RAMLC,"DCM",0)):"^RA(79.1,"_+RAMLC_",""DCM"",",1:"")
"RTN","RACPTMSC",81,0)
 Q:RAROOT=""
"RTN","RACPTMSC",82,0)
 N RA1,RA2,RA3,RAFDA,RAIEN,RAMSG
"RTN","RACPTMSC",83,0)
 Q:$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"CMOD",0))  ;<--- ???
"RTN","RACPTMSC",84,0)
 S RA1=0,RA2=RACNI_","_RADTI_","_RADFN
"RTN","RACPTMSC",85,0)
LOOP1 K RAFDA,RAIEN,RAMSG ;clear arrays each time
"RTN","RACPTMSC",86,0)
 S RA1=$O(@(RAROOT_RA1_")")) Q:'RA1
"RTN","RACPTMSC",87,0)
 S RA3=+@(RAROOT_RA1_",0)")
"RTN","RACPTMSC",88,0)
 ; convert ien to external so Updater will validate data
"RTN","RACPTMSC",89,0)
 ; use DT because we're just getting the external value
"RTN","RACPTMSC",90,0)
 S RA3=$$BASICMOD(RA3,DT)
"RTN","RACPTMSC",91,0)
 G:+RA3<0 LOOP1 ; skip invalid CPT Modifier
"RTN","RACPTMSC",92,0)
 G:'$P(RA3,U,7) LOOP1 ; skip inactive CPT Modifier
"RTN","RACPTMSC",93,0)
 S RAFDA(70.3135,"+2,"_RA2_",",.01)=$P(RA3,U,2)
"RTN","RACPTMSC",94,0)
 D UPDATE^DIE("E","RAFDA","RAIEN","RAMSG")
"RTN","RACPTMSC",95,0)
 G:'$D(RAMSG) LOOP1
"RTN","RACPTMSC",96,0)
 W !!,$C(7),"** Unable to enter default CPT Modifier ",$P(RA3,U,2)," (",$P($P(RA3,U,3),"  "),") **",!
"RTN","RACPTMSC",97,0)
 G LOOP1
"RTN","RACPTMSC",98,0)
DISCMOD ; display existing CPT Modifiers
"RTN","RACPTMSC",99,0)
 Q:'$D(RADFN)  Q:'$D(RADTI)  Q:'$D(RACNI)
"RTN","RACPTMSC",100,0)
 N RA1,RA2,RA3 S RA1=0
"RTN","RACPTMSC",101,0)
 W:$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"CMOD",RA1)) !
"RTN","RACPTMSC",102,0)
LOOP2 S RA1=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"CMOD",RA1)) Q:'RA1  S RA2=+^(RA1,0)
"RTN","RACPTMSC",103,0)
 S RA3=$$BASICMOD(RA2,DT)
"RTN","RACPTMSC",104,0)
 S:+RA3<0 RA3=""
"RTN","RACPTMSC",105,0)
 ; need parse with "  " to rid trailing blanks
"RTN","RACPTMSC",106,0)
 W !?6,$P(RA3,"^",2),?9,"(",$P($P(RA3,"^",3),"  "),") (",$S($P(RA3,"^",7)=1:"",1:"in"),"active)"
"RTN","RACPTMSC",107,0)
 G LOOP2
"RTN","RACPTMSC",108,0)
SDP(Y) ; SCREEN DEFAULT cpt mod for a PROCEDURE
"RTN","RACPTMSC",109,0)
 ; called from file 71's field 135's screen
"RTN","RACPTMSC",110,0)
 ; Y    = ien of file 81.3
"RTN","RACPTMSC",111,0)
 ; RACPT= CPT ien of this procedure
"RTN","RACPTMSC",112,0)
 ; RAX  = screen's outcome, 0=failed
"RTN","RACPTMSC",113,0)
 N RACPT,RAX,RA1,RA2,RA3
"RTN","RACPTMSC",114,0)
 S RACPT=+$P(^RAMIS(71,+$G(D0),0),U,9) I 'RACPT Q 0
"RTN","RACPTMSC",115,0)
 S RAX=$$MODP^ICPTMOD(RACPT,+Y,"I",DT) S:RAX<0 RAX=0
"RTN","RACPTMSC",116,0)
 Q RAX
"RTN","RACPTMSC",117,0)
SDL(Y) ; SCREEN DEFAULT cpt mod for a LOCATION
"RTN","RACPTMSC",118,0)
 ; called from file 79.1's field 135's screen
"RTN","RACPTMSC",119,0)
 ; Y    = ien of file 81.3
"RTN","RACPTMSC",120,0)
 ; RAX  = screen's outcome; 0=failed
"RTN","RACPTMSC",121,0)
 N RAX,RAMODSTR
"RTN","RACPTMSC",122,0)
 S RAX=$$ACTMOD(Y,DT) S:RAX<0 RAX=0
"RTN","RACPTMSC",123,0)
 Q RAX
"RTN","RACPTMSC",124,0)
DISDCM ;display existing Default CPT Modifers for procedure or location
"RTN","RACPTMSC",125,0)
 ; file 71 used if called from [RA PROCEDURE EDIT]
"RTN","RACPTMSC",126,0)
 ; file 79.1 used if called from [RA LOCATION PARAMETERS]
"RTN","RACPTMSC",127,0)
 Q:'($D(DA)#2)  Q:'$D(DIE)
"RTN","RACPTMSC",128,0)
 N RA1,RA2,RA3 S RA1=0
"RTN","RACPTMSC",129,0)
 D:DIE["79.1" WARNLOC
"RTN","RACPTMSC",130,0)
 I $O(@(DIE_DA_",""DCM"","_RA1_")")) W !
"RTN","RACPTMSC",131,0)
 F  S RA1=$O(@(DIE_DA_",""DCM"","_RA1_")")) Q:'RA1  S RA2=+^(RA1,0) S RA3=$$BASICMOD(RA2,DT) S:+RA3<0 RA3="" W !?6,$P(RA3,"^",2),?9,"(",$P($P(RA3,"^",3),"  "),")"
"RTN","RACPTMSC",132,0)
 Q
"RTN","RACPTMSC",133,0)
EHDP ; EXECUTABLE HELP for DEFAULT CPT MODIFIERS (PROC)
"RTN","RACPTMSC",134,0)
 N RATXT
"RTN","RACPTMSC",135,0)
 S RATXT(1)="     Choose a CPT Modifier that should be automatically stuffed"
"RTN","RACPTMSC",136,0)
 S RATXT(2)="     into the exam record with this procedure, during exam"
"RTN","RACPTMSC",137,0)
 S RATXT(3)="     registration."
"RTN","RACPTMSC",138,0)
 S RATXT(4)=" "
"RTN","RACPTMSC",139,0)
 D EN^DDIOL(.RATXT)
"RTN","RACPTMSC",140,0)
 Q
"RTN","RACPTMSC",141,0)
EHDL ; EXECUTABLE HELP for DEFAULT CPT MODIFIERS (LOC)
"RTN","RACPTMSC",142,0)
 D WARNLOC
"RTN","RACPTMSC",143,0)
 N RATXT
"RTN","RACPTMSC",144,0)
 S RATXT(1)="     Choose a CPT Modifier that should be automatically stuffed"
"RTN","RACPTMSC",145,0)
 S RATXT(2)="     into the exam record, when the following 2 conditions"
"RTN","RACPTMSC",146,0)
 S RATXT(3)="     are both met :"
"RTN","RACPTMSC",147,0)
 S RATXT(4)="       1-There is no default CPT Modifier for this exam's procedure."
"RTN","RACPTMSC",148,0)
 S RATXT(5)="       2-This location is the current sign-on (or switched-to) location"
"RTN","RACPTMSC",149,0)
 S RATXT(6)="         at the time of registration."
"RTN","RACPTMSC",150,0)
 S RATXT(7)="     If your entry is invalid, then during exam registration, this"
"RTN","RACPTMSC",151,0)
 S RATXT(8)="     Default CPT Modifier will NOT be stuffed, instead, an error message"
"RTN","RACPTMSC",152,0)
 S RATXT(9)="     with the name of the rejected CPT Modifier would be displayed."
"RTN","RACPTMSC",153,0)
 S RATXT(10)=" "
"RTN","RACPTMSC",154,0)
 D EN^DDIOL(.RATXT)
"RTN","RACPTMSC",155,0)
 Q
"RTN","RACPTMSC",156,0)
WARNLOC N RATXT
"RTN","RACPTMSC",157,0)
 S RATXT(1)="   +----------------------------------------------------------------+"
"RTN","RACPTMSC",158,0)
 S RATXT(2)="   | Your entry cannot be compared with a CPT CODE, so be very sure |"
"RTN","RACPTMSC",159,0)
 S RATXT(3)="   | that this is the Default CPT Modifier that you want to stuff   |"
"RTN","RACPTMSC",160,0)
 S RATXT(4)="   | into every registered exam from this imaging location.         |"
"RTN","RACPTMSC",161,0)
 S RATXT(5)="   +----------------------------------------------------------------+"
"RTN","RACPTMSC",162,0)
 D EN^DDIOL(.RATXT)
"RTN","RACPTMSC",163,0)
 Q
"UP",70,70.03,-2)
70^DT
"UP",70,70.03,-1)
70.02^P
"UP",70,70.03,0)
70.03
"VER")
8.0^22.0
"^DD",70,70.03,2,0)
PROCEDURE^*P71'X^RAMIS(71,^0;2^S DIC("S")="I $$ACTC^RACPTCSV" X ^DD(70.03,2,9.2)
"^DD",70,70.03,2,.1)
PROCEDURE ASSOCIATED WITH THIS CASE NUMBER
"^DD",70,70.03,2,1,0)
^.1
"^DD",70,70.03,2,1,1,0)
70.02^AP
"^DD",70,70.03,2,1,1,1)
S ^RADPT(DA(2),"DT","AP",$E(X,1,30),DA(1),DA)=""
"^DD",70,70.03,2,1,1,2)
K ^RADPT(DA(2),"DT","AP",$E(X,1,30),DA(1),DA)
"^DD",70,70.03,2,1,1,"%D",0)
^^1^1^2940517^
"^DD",70,70.03,2,1,1,"%D",1,0)
Used to screen duplicate entries at the time of entry.
"^DD",70,70.03,2,1,2,0)
70.03^AW^MUMPS
"^DD",70,70.03,2,1,2,1)
Q
"^DD",70,70.03,2,1,2,2)
D DW^RACPTMSC
"^DD",70,70.03,2,1,2,"%D",0)
^.101^2^2^3000303^^
"^DD",70,70.03,2,1,2,"%D",1,0)
Whenever the PROCEDURE is changed, we need to delete all its former CPT
"^DD",70,70.03,2,1,2,"%D",2,0)
Modifiers and warn of any existing Procedure Modifiers.
"^DD",70,70.03,2,1,2,"DT")
3000303
"^DD",70,70.03,2,3)
Enter the name of the procedure.
"^DD",70,70.03,2,9.2)
D ^DIC X:X=" " ^DD(70.03,2,9.3) S:X=" " Y=-1 K DIC S DIC=DIE,X=+Y K:Y<0 X D:$D(X) PRC^RAUTL8
"^DD",70,70.03,2,9.3)
D EN^DDIOL("Spacebar return feature not allowed!","","!?5")
"^DD",70,70.03,2,10)
RECEPTIONIST
"^DD",70,70.03,2,12)
Only active procedures allowed, imaging type of exam should be same as procedure, contrast media use must be OK'd if previous adverse reaction on record.
"^DD",70,70.03,2,12.1)
S DIC("S")="I $$ACTC^RACPTCSV"
"^DD",70,70.03,2,21,0)
^.001^10^10^3030429^^^^
"^DD",70,70.03,2,21,1,0)
This field points to the 'RAD/NUC MED PROCEDURES' file (#71) to indicate
"^DD",70,70.03,2,21,2,0)
the Imaging procedure associated with this case number.
"^DD",70,70.03,2,21,3,0)
 
"^DD",70,70.03,2,21,4,0)
 
"^DD",70,70.03,2,21,5,0)
   ALLOWABLE WAYS TO ENTER THE IMAGING PROCEDURE FOR
"^DD",70,70.03,2,21,6,0)
THIS CASE NUMBER:
"^DD",70,70.03,2,21,7,0)
   ---------------------------------------------------------------------
"^DD",70,70.03,2,21,8,0)
          -Name of procedure
"^DD",70,70.03,2,21,9,0)
          -CPT Code
"^DD",70,70.03,2,21,10,0)
          -Site specific synonym
"^DD",70,70.03,2,"DT")
3030404
**INSTALL NAME**
RMPR*3.0*74
"BLD",4460,0)
RMPR*3.0*74^PROSTHETICS^0^3030729^y
"BLD",4460,1,0)
^^1^1^3030415^
"BLD",4460,1,1,0)
Prosthetics Code Set Versioning.
"BLD",4460,4,0)
^9.64PA^^
"BLD",4460,"ABNS",0)
^9.66A^^
"BLD",4460,"ABPKG")
y^n
"BLD",4460,"KRN",0)
^9.67PA^8989.52^19
"BLD",4460,"KRN",.4,0)
.4
"BLD",4460,"KRN",.401,0)
.401
"BLD",4460,"KRN",.402,0)
.402
"BLD",4460,"KRN",.403,0)
.403
"BLD",4460,"KRN",.5,0)
.5
"BLD",4460,"KRN",.84,0)
.84
"BLD",4460,"KRN",3.6,0)
3.6
"BLD",4460,"KRN",3.8,0)
3.8
"BLD",4460,"KRN",9.2,0)
9.2
"BLD",4460,"KRN",9.8,0)
9.8
"BLD",4460,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4460,"KRN",9.8,"NM",1,0)
RMPRE29^^0^B75919301
"BLD",4460,"KRN",9.8,"NM","B","RMPRE29",1)

"BLD",4460,"KRN",19,0)
19
"BLD",4460,"KRN",19.1,0)
19.1
"BLD",4460,"KRN",101,0)
101
"BLD",4460,"KRN",409.61,0)
409.61
"BLD",4460,"KRN",771,0)
771
"BLD",4460,"KRN",870,0)
870
"BLD",4460,"KRN",8989.51,0)
8989.51
"BLD",4460,"KRN",8989.52,0)
8989.52
"BLD",4460,"KRN",8994,0)
8994
"BLD",4460,"KRN","B",.4,.4)

"BLD",4460,"KRN","B",.401,.401)

"BLD",4460,"KRN","B",.402,.402)

"BLD",4460,"KRN","B",.403,.403)

"BLD",4460,"KRN","B",.5,.5)

"BLD",4460,"KRN","B",.84,.84)

"BLD",4460,"KRN","B",3.6,3.6)

"BLD",4460,"KRN","B",3.8,3.8)

"BLD",4460,"KRN","B",9.2,9.2)

"BLD",4460,"KRN","B",9.8,9.8)

"BLD",4460,"KRN","B",19,19)

"BLD",4460,"KRN","B",19.1,19.1)

"BLD",4460,"KRN","B",101,101)

"BLD",4460,"KRN","B",409.61,409.61)

"BLD",4460,"KRN","B",771,771)

"BLD",4460,"KRN","B",870,870)

"BLD",4460,"KRN","B",8989.51,8989.51)

"BLD",4460,"KRN","B",8989.52,8989.52)

"BLD",4460,"KRN","B",8994,8994)

"BLD",4460,"QUES",0)
^9.62^^
"BLD",4460,"REQB",0)
^9.611^1^1
"BLD",4460,"REQB",1,0)
RMPR*3.0*62^1
"BLD",4460,"REQB","B","RMPR*3.0*62",1)

"MBREQ")
1
"PKG",150,-1)
1^1
"PKG",150,0)
PROSTHETICS^RMPR^PROSTHETICS VERSION 3.0 ALPHA
"PKG",150,22,0)
^9.49I^1^1
"PKG",150,22,1,0)
3.0^2960209^2960620
"PKG",150,22,1,"PAH",1,0)
74^3030729^25740
"PKG",150,22,1,"PAH",1,1,0)
^^1^1^3030729
"PKG",150,22,1,"PAH",1,1,1,0)
Prosthetics Code Set Versioning.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","RMPRE29")
0^1^B75919301
"RTN","RMPRE29",1,0)
RMPRE29 ;PHX/JLT,RVD-EDIT 2319 ;4/15/03  14:25
"RTN","RMPRE29",2,0)
 ;;3.0;PROSTHETICS;**36,41,51,57,62,74**;Feb 09, 1996
"RTN","RMPRE29",3,0)
 ;
"RTN","RMPRE29",4,0)
 ;RVD patch #62 - call PCE API to update patient care encounter.
"RTN","RMPRE29",5,0)
 ;              - add a screen display if no changes to the HCPCS.
"RTN","RMPRE29",6,0)
 ;RVD patch #74 - call $$STATCHK^ICPTAPIU to check if CPT Code is 
"RTN","RMPRE29",7,0)
 ;                active for a given date.
"RTN","RMPRE29",8,0)
 ;uses DBIA # 1995 & 1997.
"RTN","RMPRE29",9,0)
 K DIC W ! S DIC="^RMPR(660,",DIC(0)="AEMQZ",DIC("A")="Select PATIENT: "
"RTN","RMPRE29",10,0)
 S DIC("W")="D EN^RMPRD1",RMEND=0
"RTN","RMPRE29",11,0)
 S DIC("S")="I $P(^(0),U,6)!($P(^(0),U,26)'="""")" W !
"RTN","RMPRE29",12,0)
 D ^DIC G:+Y'>0 EXIT L +^RMPR(660,+Y,0):1 I $T=0 W !,?5,$C(7),"Someone else is Editing this entry!" G EXIT
"RTN","RMPRE29",13,0)
 S DIE=DIC,(RMPRDA,DA)=+Y
"RTN","RMPRE29",14,0)
TYP1 ;edit type of transaction....
"RTN","RMPRE29",15,0)
 S R1(0)=$G(^RMPR(660,RMPRDA,0)),R1(1)=$G(^(1)),R1("AM")=$G(^("AM"))
"RTN","RMPRE29",16,0)
 S RMTOTCOS=$P(R1(0),U,16),RMCPTDT=$P(R1(0),U,1),RMCPT=$P(R1(1),U,6)
"RTN","RMPRE29",17,0)
 S Y=RMCPTDT X ^DD("DD") S RMTRANDT=Y
"RTN","RMPRE29",18,0)
 S (RMHCPC,RMHCOLD)=$P(R1(1),U,4),(RMTYPE,RMTYPS)=$P(R1(0),U,4)
"RTN","RMPRE29",19,0)
 S (RMCAT,RMCATS)=$P(R1("AM"),U,3),(RMSPE,RMSPES)=$P(R1("AM"),U,4)
"RTN","RMPRE29",20,0)
 S RMSOUR=$P(R1(1),U,14)
"RTN","RMPRE29",21,0)
TRAN K DIR S DIR(0)="660,2"
"RTN","RMPRE29",22,0)
 S:$D(RMTYPS) DIR("B")=$S(RMTYPS="I":"INITIAL",RMTYPS="X":"REPAIR",RMTYPS="R":"REPLACE",RMTYPS="S":"SPARE",1:"")
"RTN","RMPRE29",23,0)
 D ^DIR
"RTN","RMPRE29",24,0)
 I $D(DUOUT)!$D(DTOUT) S RMEND=1 D SETED2 G QED2
"RTN","RMPRE29",25,0)
 I Y="" W !,"Please enter type of Transaction!!" G TRAN
"RTN","RMPRE29",26,0)
 S $P(R1(0),U,4)=Y,RMTYPE=Y
"RTN","RMPRE29",27,0)
 S RMTYPS=$S(Y="I":"INITIAL",Y="X":"REPAIR",Y="R":"REPLACE",Y="S":"SPARE",1:"")
"RTN","RMPRE29",28,0)
PCAT K DIR S DIR(0)="660,62"
"RTN","RMPRE29",29,0)
 S:$D(RMCATS) DIR("B")=$S(RMCATS=1:"SC/OP",RMCATS=2:"SC/IP",RMCATS=3:"NSC/IP",RMCATS=4:"NSC/OP",1:"")
"RTN","RMPRE29",30,0)
 D ^DIR
"RTN","RMPRE29",31,0)
 I $D(DUOUT)!$D(DTOUT) S RMEND=1 D SETED2 G QED2
"RTN","RMPRE29",32,0)
 I Y="" W !,"Please enter Patient Category!!" G PCAT
"RTN","RMPRE29",33,0)
 S RMCAT=Y
"RTN","RMPRE29",34,0)
 S $P(R1("AM"),U,3)=Y
"RTN","RMPRE29",35,0)
 S RMCATS=$S(Y=1:"SC/OP",Y=2:"SC/IP",Y=3:"NSC/IP",Y=4:"NSC/OP",1:"")
"RTN","RMPRE29",36,0)
 K DIR I RMCAT<4 S $P(R1("AM"),U,4)="" G HCPC
"RTN","RMPRE29",37,0)
 S DIR(0)="660,63"
"RTN","RMPRE29",38,0)
 S:$D(RMSPES) DIR("B")=$S(RMSPES=1:"SPECIAL LEGISLATION",RMSPES=2:"A&A",RMSPES=3:"PHC",RMSPES=4:"ELIGIBILITY REFORM",1:"")
"RTN","RMPRE29",39,0)
 I RMCAT=4 D ^DIR I $D(DUOUT)!$D(DTOUT) S RMEND=1 D SETED2 G QED2
"RTN","RMPRE29",40,0)
 I RMCAT=4 S $P(R1("AM"),U,4)=Y,RMSPE=Y,RMSPES=$S(Y=1:"SPECIAL LEGISLATION",Y=2:"A&A",Y=3:"PHC",Y=4:"ELIGIBILITY REFORM",1:"")
"RTN","RMPRE29",41,0)
 K DIR
"RTN","RMPRE29",42,0)
 ;
"RTN","RMPRE29",43,0)
HCPC ;set type and ask item and HCPCS
"RTN","RMPRE29",44,0)
 D SETED2
"RTN","RMPRE29",45,0)
 N SRC
"RTN","RMPRE29",46,0)
 S SRC=$P(R1(0),U,14)
"RTN","RMPRE29",47,0)
 S DR="12;4" D ^DIE
"RTN","RMPRE29",48,0)
 G:'$G(RMHCOLD) QED2
"RTN","RMPRE29",49,0)
 G:'$D(^RMPR(661.1,RMHCOLD,0)) QED2
"RTN","RMPRE29",50,0)
CPT1 ;ask for HCPCS/CPT code
"RTN","RMPRE29",51,0)
 S RMCPTCO=""
"RTN","RMPRE29",52,0)
 K DIC S DIC=661.1,DIC("A")="Enter PSAS HCPCS: "
"RTN","RMPRE29",53,0)
 S DIC("S")="S RMCI=$P(^RMPR(661.1,+Y,0),U,4),RMCIS=$$CPT^ICPTCOD(RMCI,RMCPTDT,1,"""") I $P(RMCIS,U,7)"
"RTN","RMPRE29",54,0)
 I $D(^RMPR(661.1,RMHCOLD,0)) S DIC("B")=$P(^RMPR(661.1,RMHCOLD,0),U,1)
"RTN","RMPRE29",55,0)
 S DIC(0)="AEQM" D ^DIC I $D(DUOUT)!$D(DTOUT)!(Y'>0) S RMEND=1 G QED2
"RTN","RMPRE29",56,0)
 D CPTCHK
"RTN","RMPRE29",57,0)
 I '$G(RMCPTS) D CPTPRT G CPT1
"RTN","RMPRE29",58,0)
 S DIE="^RMPR(660,",DA=RMPRDA,DR="4.5////^S X=RMHCPC" D ^DIE
"RTN","RMPRE29",59,0)
 S R1(0)=$G(^RMPR(660,RMPRDA,0)),R1(1)=$G(^(1))
"RTN","RMPRE29",60,0)
MOD I $P(R1(0),U,14)'=SRC S RMHCOLD=""
"RTN","RMPRE29",61,0)
 S RMHCPC=$P(R1(1),U,4)
"RTN","RMPRE29",62,0)
 W !,"OLD CPT MODIFIER: ",$P(R1(1),U,6)
"RTN","RMPRE29",63,0)
 ;if HCPCS was changed, Modifier must be changed
"RTN","RMPRE29",64,0)
 I RMHCOLD'=RMHCPC D ASKMOD
"RTN","RMPRE29",65,0)
 ;if HCPCS the same, ask user if want to edit modifier.
"RTN","RMPRE29",66,0)
 E  D
"RTN","RMPRE29",67,0)
 .S DIR(0)="Y",DIR("B")="N",DIR("A")="Would you like to edit the CPT Modifier "
"RTN","RMPRE29",68,0)
 .D ^DIR Q:$D(DUOUT)!$D(DTOUT)
"RTN","RMPRE29",69,0)
 .I (Y>0) D
"RTN","RMPRE29",70,0)
 ..D ASKMOD
"RTN","RMPRE29",71,0)
 ..K DIR
"RTN","RMPRE29",72,0)
 ..W:RMCPT=$P(R1(1),U,6) !!,"***Based on the information given above, CPT modifier string has not changed!!!",!
"RTN","RMPRE29",73,0)
 I '$D(RMCPT)!RMCPT="" G CONT1
"RTN","RMPRE29",74,0)
 S RMCSV=0
"RTN","RMPRE29",75,0)
 ;
"RTN","RMPRE29",76,0)
MOD1 ;logic for checking cpt modifier (CSV)
"RTN","RMPRE29",77,0)
 S RMCSV=RMCSV+1
"RTN","RMPRE29",78,0)
 S RMCPTMO=$P(RMCPT,",",RMCSV)
"RTN","RMPRE29",79,0)
 G:RMCPTMO="" CONT1
"RTN","RMPRE29",80,0)
 D MODCHK
"RTN","RMPRE29",81,0)
 G MOD1
"RTN","RMPRE29",82,0)
 ;
"RTN","RMPRE29",83,0)
CONT1 W !,"NEW CPT MODIFIER: ",RMCPT
"RTN","RMPRE29",84,0)
 S DIE=660,DA=RMPRDA
"RTN","RMPRE29",85,0)
 S:RMCPT="" RMCPT="@"
"RTN","RMPRE29",86,0)
 S DR="4.7////^S X=RMCPT" D ^DIE
"RTN","RMPRE29",87,0)
 S DR="7;5;14;9;21;16;28" D ^DIE
"RTN","RMPRE29",88,0)
 I RMTOTCOS'=$P(^RMPR(660,DA,0),U,16) S DR="35////^S X=DUZ;36////^S X=DT" D ^DIE
"RTN","RMPRE29",89,0)
 I $D(DTOUT)!('$G(Y))!($D(DUOUT))
"RTN","RMPRE29",90,0)
QED2 ;
"RTN","RMPRE29",91,0)
 Q:$D(RMPREDT)
"RTN","RMPRE29",92,0)
 ;modified by #62
"RTN","RMPRE29",93,0)
 ;call PCE API to update patient care encounter.
"RTN","RMPRE29",94,0)
 I $D(^RMPR(660,RMPRDA,10)),$P(^RMPR(660,RMPRDA,10),U,12) D
"RTN","RMPRE29",95,0)
 .S RMCHK=$$SENDPCE^RMPRPCEA(RMPRDA)
"RTN","RMPRE29",96,0)
 .I RMCHK<1 H 3
"RTN","RMPRE29",97,0)
 L -^RMPR(660,RMPRDA,0)
"RTN","RMPRE29",98,0)
 K DIR W ! S DIR(0)="Y",DIR("A")="Would You like to Edit another Entry (Y/N) " D ^DIR
"RTN","RMPRE29",99,0)
 G:'$D(DTOUT)&(Y>0) RMPRE29
"RTN","RMPRE29",100,0)
EXIT ;
"RTN","RMPRE29",101,0)
 N RMPR,RMPRSITE D KILL^XUSCLEAN
"RTN","RMPRE29",102,0)
 K DIC,DIE,DIR,%,X,Y
"RTN","RMPRE29",103,0)
 Q
"RTN","RMPRE29",104,0)
SETED2 ;set 660
"RTN","RMPRE29",105,0)
 S ^RMPR(660,DA,0)=R1(0),^RMPR(660,DA,1)=R1(1),^RMPR(660,DA,"AM")=R1("AM")
"RTN","RMPRE29",106,0)
 S DIK="^RMPR(660,",DA=RMPRDA D IX1^DIK K DIC
"RTN","RMPRE29",107,0)
 D CHK
"RTN","RMPRE29",108,0)
 Q
"RTN","RMPRE29",109,0)
 ;
"RTN","RMPRE29",110,0)
QUICK ;quick edit for HCPCS and type
"RTN","RMPRE29",111,0)
 K RMCPT,DIC
"RTN","RMPRE29",112,0)
 W ! S DIC="^RMPR(660,",DIC(0)="AEMNQZ",DIC("A")="Select NUMBER, or Patient: "
"RTN","RMPRE29",113,0)
 S DIC("W")="D EN^RMPRD1"
"RTN","RMPRE29",114,0)
 S DIC("S")="I $P(^(0),U,6)!($P(^(0),U,26)'="""")" W !
"RTN","RMPRE29",115,0)
 D ^DIC G:+Y'>0 EXIT L +^RMPR(660,+Y,0):1 I $T=0 W !,?5,$C(7),"Someone else is Editing this entry!" G EXIT
"RTN","RMPRE29",116,0)
 ;add source
"RTN","RMPRE29",117,0)
 S (RMPRDA,DA)=+Y,DIE=DIC,DR="2"
"RTN","RMPRE29",118,0)
 S R1(0)=$G(^RMPR(660,DA,0)),R1(1)=$G(^RMPR(660,DA,1))
"RTN","RMPRE29",119,0)
 S RMCPTDT=$P(R1(0),U,1),RMCPT=$P(R1(1),U,6)
"RTN","RMPRE29",120,0)
 S Y=RMCPTDT X ^DD("DD") S RMTRANDT=Y
"RTN","RMPRE29",121,0)
 S RMTYPE=$P(R1(0),U,4),RMSOUR=$P(R1(0),U,14)
"RTN","RMPRE29",122,0)
 S (RMHCPC,RMHCOLD)=$P(R1(1),U,4),RMCPT=$P(R1(1),U,6)
"RTN","RMPRE29",123,0)
 D ^DIE I $D(DUOUT)!$D(DTOUT)!$D(DIROUT)!$D(Y) D CHK G SET
"RTN","RMPRE29",124,0)
 S RMTYPE=$P($G(^RMPR(660,DA,0)),U,4)
"RTN","RMPRE29",125,0)
 G:'$G(RMHCOLD) SET
"RTN","RMPRE29",126,0)
 G:'$D(^RMPR(661.1,RMHCOLD,0)) SET
"RTN","RMPRE29",127,0)
 ;
"RTN","RMPRE29",128,0)
CPT2 ;ask for HCPCS/CPT code
"RTN","RMPRE29",129,0)
 ;
"RTN","RMPRE29",130,0)
 S RMCPTCO=""
"RTN","RMPRE29",131,0)
 K DIC S DIC=661.1,DIC("A")="Enter PSAS HCPCS: "
"RTN","RMPRE29",132,0)
 I $D(^RMPR(661.1,RMHCOLD,0)) S DIC("B")=$P(^RMPR(661.1,RMHCOLD,0),U,1)
"RTN","RMPRE29",133,0)
 S DIC("S")="S RMCI=$P(^RMPR(661.1,+Y,0),U,4),RMCIS=$$CPT^ICPTCOD(RMCI,RMCPTDT,1,"""") I $P(RMCIS,U,7)"
"RTN","RMPRE29",134,0)
 S DIC(0)="AEQM" D ^DIC I $D(DUOUT)!$D(DTOUT)!(Y'>0) S RMEND=1 G SET
"RTN","RMPRE29",135,0)
 D CPTCHK
"RTN","RMPRE29",136,0)
 I '$G(RMCPTS) D CPTPRT G CPT2
"RTN","RMPRE29",137,0)
 S DIE="^RMPR(660,",DA=RMPRDA,DR="4.5////^S X=RMHCPC" D ^DIE
"RTN","RMPRE29",138,0)
 S RDA=RMHCPC_"^"_RMTYPE_"^"_RMSOUR_"^"_660
"RTN","RMPRE29",139,0)
 W !,"OLD CPT MODIFIER: ",$P(R1(1),U,6)
"RTN","RMPRE29",140,0)
MQED I RMHCOLD'=RMHCPC D ASKMOD S $P(^RMPR(660,DA,1),U,6)=RMCPT
"RTN","RMPRE29",141,0)
 I RMHCOLD=RMHCPC D
"RTN","RMPRE29",142,0)
 .W ! S DIR("B")="N",DIR(0)="Y",DIR("A")="Would You like to Edit CPT MODIFIER " D ^DIR
"RTN","RMPRE29",143,0)
 .I $D(DTOUT)!('$G(Y)) K DIR Q
"RTN","RMPRE29",144,0)
 .D ASKMOD
"RTN","RMPRE29",145,0)
 .W:RMCPT=$P(R1(1),U,6) !!,"***Based on the information given above, CPT modifier string has not changed!!!",!
"RTN","RMPRE29",146,0)
 .S $P(^RMPR(660,DA,1),U,6)=RMCPT
"RTN","RMPRE29",147,0)
 ;
"RTN","RMPRE29",148,0)
 I '$D(RMCPT)!RMCPT="" G CONT2
"RTN","RMPRE29",149,0)
 S RMCSV=0
"RTN","RMPRE29",150,0)
 ;
"RTN","RMPRE29",151,0)
MOD2 ;logic for checking cpt modifier (CSV)
"RTN","RMPRE29",152,0)
 S RMCSV=RMCSV+1
"RTN","RMPRE29",153,0)
 S RMCPTMO=$P(RMCPT,",",RMCSV)
"RTN","RMPRE29",154,0)
 G:RMCPTMO="" CONT2
"RTN","RMPRE29",155,0)
 D MODCHK
"RTN","RMPRE29",156,0)
 G MOD2
"RTN","RMPRE29",157,0)
 ;
"RTN","RMPRE29",158,0)
CONT2 W !,"NEW CPT MODIFIER: ",RMCPT
"RTN","RMPRE29",159,0)
 S:RMCPT="" RMCPT="@"
"RTN","RMPRE29",160,0)
 S DR="4.7////^S X=RMCPT" D ^DIE
"RTN","RMPRE29",161,0)
 ;
"RTN","RMPRE29",162,0)
SET K DIR
"RTN","RMPRE29",163,0)
 ;modified by #62
"RTN","RMPRE29",164,0)
 ;call PCE API to update patient care encounter
"RTN","RMPRE29",165,0)
 I $D(^RMPR(660,RMPRDA,10)),$P(^RMPR(660,RMPRDA,10),U,12) D
"RTN","RMPRE29",166,0)
 .S RMCHK=$$SENDPCE^RMPRPCEA(RMPRDA)
"RTN","RMPRE29",167,0)
 .I RMCHK<1 H 3
"RTN","RMPRE29",168,0)
 W ! S DIR(0)="Y",DIR("A")="Would You like to Edit another Entry (Y/N)" D ^DIR
"RTN","RMPRE29",169,0)
 G:'$D(DTOUT)&(Y>0) QUICK^RMPRE29
"RTN","RMPRE29",170,0)
 L -^RMPR(660,RMPRDA,0)
"RTN","RMPRE29",171,0)
 D KILL^XUSCLEAN Q
"RTN","RMPRE29",172,0)
 ;
"RTN","RMPRE29",173,0)
CHK ;check for transaction changes
"RTN","RMPRE29",174,0)
 S RMTYPE=$P($G(^RMPR(660,RMPRDA,0)),U,4)
"RTN","RMPRE29",175,0)
 S RMHCPC=$P($G(^RMPR(660,RMPRDA,1)),U,4) Q:'$G(RMHCPC)
"RTN","RMPRE29",176,0)
 S RMCPT1=$P($G(^RMPR(661.1,RMHCPC,4)),U,1)
"RTN","RMPRE29",177,0)
 S RMCPT=$P($G(^RMPR(660,RMPRDA,1)),U,6)
"RTN","RMPRE29",178,0)
 I ((RMTYPE="R")!(RMTYPE="X")),(RMCPT'["RP"),($G(^RMPR(661.1,RMHCPC,4))["RP") D ADDRP
"RTN","RMPRE29",179,0)
 I ((RMTYPE="I")!(RMTYPE="S")),(RMCPT["RP") D DELRP
"RTN","RMPRE29",180,0)
 I (RMSOUR="C"),(RMCPT["RR") D DELNU
"RTN","RMPRE29",181,0)
 I (RMSOUR="C"),(RMCPT'["RR"),(RMCPT1["NU"),(RMCPT'["N") D ADDNU
"RTN","RMPRE29",182,0)
 K RMHCPC,RMCI,RMC,RMCLEN,RMLPIECE,RMF,RMFPIECE,RMTYPE,RMPRA,R4DA Q
"RTN","RMPRE29",183,0)
 ;return to EDIT option
"RTN","RMPRE29",184,0)
DELRP ;logic for deleting 'RP' modifier with transaction change.
"RTN","RMPRE29",185,0)
 F RMCI=1:1:8 S RMC=$P(RMCPT,",",RMCI) I RMC="RP" S $P(RMCPT,",",RMCI)="" D
"RTN","RMPRE29",186,0)
 .S RMF=$F(RMCPT,",,"),RMFPIECE=$E(RMCPT,1,RMF-2)
"RTN","RMPRE29",187,0)
 .S RMLPIECE=$E(RMCPT,RMF,32),RMCPT=RMFPIECE_RMLPIECE,RMCLEN=$L(RMCPT)
"RTN","RMPRE29",188,0)
 .I $E(RMCPT,1)="," S RMCPT=$E(RMCPT,2,RMCLEN)
"RTN","RMPRE29",189,0)
 .I $E(RMCPT,RMCLEN)="," S RMCPT=$E(RMCPT,1,RMCLEN-1)
"RTN","RMPRE29",190,0)
 .S $P(^RMPR(660,RMPRDA,1),U,6)=RMCPT
"RTN","RMPRE29",191,0)
 Q
"RTN","RMPRE29",192,0)
DELNU ;logic for deleting 'NU' modifier.
"RTN","RMPRE29",193,0)
 F RMCI=1:1:8 S RMC=$P(RMCPT,",",RMCI) I RMC="NU" S $P(RMCPT,",",RMCI)="" D
"RTN","RMPRE29",194,0)
 .S RMF=$F(RMCPT,",,"),RMFPIECE=$E(RMCPT,1,RMF-2)
"RTN","RMPRE29",195,0)
 .S RMLPIECE=$E(RMCPT,RMF,32),RMCPT=RMFPIECE_RMLPIECE,RMCLEN=$L(RMCPT)
"RTN","RMPRE29",196,0)
 .I $E(RMCPT,1)="," S RMCPT=$E(RMCPT,2,RMCLEN)
"RTN","RMPRE29",197,0)
 .I $E(RMCPT,RMCLEN)="," S RMCPT=$E(RMCPT,1,RMCLEN-1)
"RTN","RMPRE29",198,0)
 .S $P(^RMPR(660,RMPRDA,1),U,6)=RMCPT
"RTN","RMPRE29",199,0)
 Q
"RTN","RMPRE29",200,0)
 ;
"RTN","RMPRE29",201,0)
ADDRP ;logic for adding 'RP' modifier with transaction change.
"RTN","RMPRE29",202,0)
 S RMCPT=RMCPT_",RP" S $P(^RMPR(660,RMPRDA,1),U,6)=RMCPT
"RTN","RMPRE29",203,0)
 Q
"RTN","RMPRE29",204,0)
ADDNU ;logic for adding 'NU' modifier.
"RTN","RMPRE29",205,0)
 S RMCPT=RMCPT_",NU" S $P(^RMPR(660,RMPRDA,1),U,6)=RMCPT
"RTN","RMPRE29",206,0)
 Q
"RTN","RMPRE29",207,0)
ASKMOD ;ask for a CPT Code modifier
"RTN","RMPRE29",208,0)
 K DIC S (RMCPT1,RMCPT)="",DIC("S")="I ($$MODP^ICPTMOD(RMCPTCO,+Y,""I"",RMCPTDT))>0"
"RTN","RMPRE29",209,0)
REASK S DIC=81.3,DIC(0)="AEMQ" D ^DIC I $D(DTOUT)!$D(DUOUT)!(Y'>0) Q
"RTN","RMPRE29",210,0)
 I $D(^DIC(81.3,+Y,0)) S RMCPT1=$P(^DIC(81.3,+Y,0),U,1)
"RTN","RMPRE29",211,0)
 I RMCPT1'="",RMCPT="" S RMCPT=RMCPT1
"RTN","RMPRE29",212,0)
 E  S RMCPT=RMCPT_","_RMCPT1
"RTN","RMPRE29",213,0)
 G REASK
"RTN","RMPRE29",214,0)
MODCHK ;check CPT modifier if active for a given dt.
"RTN","RMPRE29",215,0)
 ;set the CPT Modifier IEN for GX, RP and RR
"RTN","RMPRE29",216,0)
 S:RMCPTMO="GX" RMCPTMOI=372
"RTN","RMPRE29",217,0)
 S:RMCPTMO="RP" RMCPTMOI=107
"RTN","RMPRE29",218,0)
 S:RMCPTMO="RR" RMCPTMOI=108
"RTN","RMPRE29",219,0)
 I "GXRPRR"[RMCPTMO S RMCPTS=$$MOD^ICPTMOD(RMCPTMOI,"I",RMCPTDT,"","")
"RTN","RMPRE29",220,0)
 E  S RMCPTS=$$MOD^ICPTMOD(RMCPTMO,"E",RMCPTDT,"","")
"RTN","RMPRE29",221,0)
 I '$P(RMCPTS,U,7) W !!,"?? CPT Code Modifier ",RMCPT," is/are INVALID for transaction date ",RMTRANDT,"!!!",!,"   Please use a different CPT Code Modifier.",! D ASKMOD S RMCSV=0
"RTN","RMPRE29",222,0)
 Q
"RTN","RMPRE29",223,0)
CPTCHK ;check CPT COde if active for a given dt.
"RTN","RMPRE29",224,0)
 S RMHCPC=+Y
"RTN","RMPRE29",225,0)
 S RMCPTNO=$P(^RMPR(661.1,+Y,0),U,4)
"RTN","RMPRE29",226,0)
 S RMCPTCO=$$CODEC^ICPTCOD(RMCPTNO)
"RTN","RMPRE29",227,0)
 S RMCPTS=$$STATCHK^ICPTAPIU(RMCPTCO,RMCPTDT)
"RTN","RMPRE29",228,0)
 Q
"RTN","RMPRE29",229,0)
CPTPRT ;print message if inactive cpt.
"RTN","RMPRE29",230,0)
 S:RMCPTCO="" RMCPTCO="NULL"
"RTN","RMPRE29",231,0)
 W !!,"?? The PSAS HCPCS has an INACTIVE CPT Code, use a different PSAS HCPCS!!!",!
"RTN","RMPRE29",232,0)
 W:RMCPTCO="" "   The CPT Code being used is ",RMCPTCO,".",!
"RTN","RMPRE29",233,0)
 W:RMCPTCO'="" "   The CPT Code ",RMCPTCO," is INACTIVE on ",RMTRANDT,".",!
"RTN","RMPRE29",234,0)
 S $P(R1(1),U,4)=RMHCPC K Y,DIC,DIE
"RTN","RMPRE29",235,0)
 Q
"VER")
8.0^22.0
**INSTALL NAME**
SR*3.0*116
"BLD",4458,0)
SR*3.0*116^SURGERY^0^3030729^y
"BLD",4458,1,0)
^^2^2^3030529^
"BLD",4458,1,1,0)
Please see the National Patch Module for details of the enhancements
"BLD",4458,1,2,0)
included in this patch.
"BLD",4458,4,0)
^9.64PA^130^1
"BLD",4458,4,130,0)
130
"BLD",4458,4,130,2,0)
^9.641^130.17^5
"BLD",4458,4,130,2,130,0)
SURGERY  (File-top level)
"BLD",4458,4,130,2,130,1,0)
^9.6411^66^8
"BLD",4458,4,130,2,130,1,.205,0)
TIME PAT IN OR
"BLD",4458,4,130,2,130,1,66,0)
PRIN DIAGNOSIS CODE
"BLD",4458,4,130,2,130,1,121,0)
TIME PROCEDURE BEGAN
"BLD",4458,4,130,2,130,1,253,0)
OTHER RESPIRATORY OCCURRENCE
"BLD",4458,4,130,2,130,1,286,0)
OTHER URINARY TRACT OCCURRENCE
"BLD",4458,4,130,2,130,1,343,0)
OTHER CNS OCCURRENCE
"BLD",4458,4,130,2,130,1,344,0)
OTHER CARDIAC OCCURRENCE
"BLD",4458,4,130,2,130,1,392,0)
OTHER OCCURRENCES (ICD9)
"BLD",4458,4,130,2,130.13,0)
INTRAOPERATIVE OCCURRENCES  (sub-file)
"BLD",4458,4,130,2,130.13,1,0)
^9.6411^4^1
"BLD",4458,4,130,2,130.13,1,4,0)
ICD DIAGNOSIS CODE
"BLD",4458,4,130,2,130.17,0)
OTHER PREOP DIAGNOSIS  (sub-file)
"BLD",4458,4,130,2,130.17,1,0)
^9.6411^3^1
"BLD",4458,4,130,2,130.17,1,3,0)
ICD DIAGNOSIS CODE
"BLD",4458,4,130,2,130.18,0)
OTHER POSTOP DIAGS  (sub-file)
"BLD",4458,4,130,2,130.18,1,0)
^9.6411^3^1
"BLD",4458,4,130,2,130.18,1,3,0)
ICD DIAGNOSIS CODE
"BLD",4458,4,130,2,130.22,0)
POSTOP OCCURRENCE  (sub-file)
"BLD",4458,4,130,2,130.22,1,0)
^9.6411^6^1
"BLD",4458,4,130,2,130.22,1,6,0)
ICD DIAGNOSIS CODE
"BLD",4458,4,130,222)
y^y^p^^^^n^^n
"BLD",4458,4,130,224)

"BLD",4458,4,"APDD",130,130)

"BLD",4458,4,"APDD",130,130,.205)

"BLD",4458,4,"APDD",130,130,66)

"BLD",4458,4,"APDD",130,130,121)

"BLD",4458,4,"APDD",130,130,253)

"BLD",4458,4,"APDD",130,130,286)

"BLD",4458,4,"APDD",130,130,343)

"BLD",4458,4,"APDD",130,130,344)

"BLD",4458,4,"APDD",130,130,392)

"BLD",4458,4,"APDD",130,130.13)

"BLD",4458,4,"APDD",130,130.13,4)

"BLD",4458,4,"APDD",130,130.17)

"BLD",4458,4,"APDD",130,130.17,3)

"BLD",4458,4,"APDD",130,130.18)

"BLD",4458,4,"APDD",130,130.18,3)

"BLD",4458,4,"APDD",130,130.22)

"BLD",4458,4,"APDD",130,130.22,6)

"BLD",4458,4,"B",130,130)

"BLD",4458,"KRN",0)
^9.67PA^8989.52^19
"BLD",4458,"KRN",.4,0)
.4
"BLD",4458,"KRN",.401,0)
.401
"BLD",4458,"KRN",.402,0)
.402
"BLD",4458,"KRN",.403,0)
.403
"BLD",4458,"KRN",.5,0)
.5
"BLD",4458,"KRN",.84,0)
.84
"BLD",4458,"KRN",3.6,0)
3.6
"BLD",4458,"KRN",3.8,0)
3.8
"BLD",4458,"KRN",3.8,"NM",0)
^9.68A^^0
"BLD",4458,"KRN",9.2,0)
9.2
"BLD",4458,"KRN",9.8,0)
9.8
"BLD",4458,"KRN",9.8,"NM",0)
^9.68A^3^3
"BLD",4458,"KRN",9.8,"NM",1,0)
SROCVER^^0^B31713915
"BLD",4458,"KRN",9.8,"NM",2,0)
SROICD^^0^B489452
"BLD",4458,"KRN",9.8,"NM",3,0)
SROCMPS^^0^B16000115
"BLD",4458,"KRN",9.8,"NM","B","SROCMPS",3)

"BLD",4458,"KRN",9.8,"NM","B","SROCVER",1)

"BLD",4458,"KRN",9.8,"NM","B","SROICD",2)

"BLD",4458,"KRN",19,0)
19
"BLD",4458,"KRN",19.1,0)
19.1
"BLD",4458,"KRN",101,0)
101
"BLD",4458,"KRN",409.61,0)
409.61
"BLD",4458,"KRN",771,0)
771
"BLD",4458,"KRN",870,0)
870
"BLD",4458,"KRN",8989.51,0)
8989.51
"BLD",4458,"KRN",8989.52,0)
8989.52
"BLD",4458,"KRN",8994,0)
8994
"BLD",4458,"KRN","B",.4,.4)

"BLD",4458,"KRN","B",.401,.401)

"BLD",4458,"KRN","B",.402,.402)

"BLD",4458,"KRN","B",.403,.403)

"BLD",4458,"KRN","B",.5,.5)

"BLD",4458,"KRN","B",.84,.84)

"BLD",4458,"KRN","B",3.6,3.6)

"BLD",4458,"KRN","B",3.8,3.8)

"BLD",4458,"KRN","B",9.2,9.2)

"BLD",4458,"KRN","B",9.8,9.8)

"BLD",4458,"KRN","B",19,19)

"BLD",4458,"KRN","B",19.1,19.1)

"BLD",4458,"KRN","B",101,101)

"BLD",4458,"KRN","B",409.61,409.61)

"BLD",4458,"KRN","B",771,771)

"BLD",4458,"KRN","B",870,870)

"BLD",4458,"KRN","B",8989.51,8989.51)

"BLD",4458,"KRN","B",8989.52,8989.52)

"BLD",4458,"KRN","B",8994,8994)

"BLD",4458,"QUES",0)
^9.62^^
"BLD",4458,"REQB",0)
^9.611^4^4
"BLD",4458,"REQB",1,0)
ICPT*6.0*14^1
"BLD",4458,"REQB",2,0)
ICD*18.0*6^1
"BLD",4458,"REQB",3,0)
SR*3.0*112^1
"BLD",4458,"REQB",4,0)
SR*3.0*102^1
"BLD",4458,"REQB","B","ICD*18.0*6",2)

"BLD",4458,"REQB","B","ICPT*6.0*14",1)

"BLD",4458,"REQB","B","SR*3.0*102",4)

"BLD",4458,"REQB","B","SR*3.0*112",3)

"FIA",130)
SURGERY
"FIA",130,0)
^SRF(
"FIA",130,0,0)
130IP
"FIA",130,0,1)
y^y^p^^^^n^^n
"FIA",130,0,10)

"FIA",130,0,11)

"FIA",130,0,"RLRO")

"FIA",130,0,"VR")
3.0^SR
"FIA",130,130)
1
"FIA",130,130,.205)

"FIA",130,130,66)

"FIA",130,130,121)

"FIA",130,130,253)

"FIA",130,130,286)

"FIA",130,130,343)

"FIA",130,130,344)

"FIA",130,130,392)

"FIA",130,130.13)
1
"FIA",130,130.13,4)

"FIA",130,130.17)
1
"FIA",130,130.17,3)

"FIA",130,130.18)
1
"FIA",130,130.18,3)

"FIA",130,130.22)
1
"FIA",130,130.22,6)

"MBREQ")
1
"PKG",64,-1)
1^1
"PKG",64,0)
SURGERY^SR^SURGICAL DATA COLLECTION AND OPERATIONS SCHEDULING
"PKG",64,22,0)
^9.49I^1^1
"PKG",64,22,1,0)
3.0^2930624^2931207
"PKG",64,22,1,"PAH",1,0)
116^3030729^25758
"PKG",64,22,1,"PAH",1,1,0)
^^2^2^3030729
"PKG",64,22,1,"PAH",1,1,1,0)
Please see the National Patch Module for details of the enhancements
"PKG",64,22,1,"PAH",1,1,2,0)
included in this patch.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","SROCMPS")
0^3^B16000115
"RTN","SROCMPS",1,0)
SROCMPS ;B'HAM ISC/MAM - ENTER/EDIT OCCURRENCES ; 23 Jun 03 / 03:26 PM
"RTN","SROCMPS",2,0)
 ;;3.0; Surgery ;**14,32,38,95,102,116**;24 Jun 93
"RTN","SROCMPS",3,0)
INTRA S SRTYPE=10,SRTY="INTRAOPERATIVE",SRTYPDD="130.13A"
"RTN","SROCMPS",4,0)
POST I '$D(SRTYPE) S SRTYPE=16,SRTY="POSTOPERATIVE",SRTYPDD="130.22A"
"RTN","SROCMPS",5,0)
 W @IOF,! S SRSOUT=0 I '$D(SRTN) S SRTN1=1 D ^SROPS I '$D(SRTN) S SRSOUT=1 G END
"RTN","SROCMPS",6,0)
 D ^SROAUTL S SRNAME=$P(VADM(1),"^")_"  ("_VA("PID")_")",SRLINE="" F I=0:1:79 S SRLINE=SRLINE_"-"
"RTN","SROCMPS",7,0)
EDIT G:SRSOUT END K SRCOMP I '$O(^SRF(SRTN,SRTYPE,0)) D NEW G:SRSOUT END D ^SROCMPED G EDIT
"RTN","SROCMPS",8,0)
 D HDR^SROAUTL W "Enter/Edit "_$S(SRTYPE=10:"Intraoperative",1:"Postoperative")_" Occurrences",! S (COMP,CNT)=0 F  S COMP=$O(^SRF(SRTN,SRTYPE,COMP)) Q:'COMP  D LIST
"RTN","SROCMPS",9,0)
SEL W !,"Select a number ("_$S(CNT=1:1,1:"1-"_CNT)_"), or type 'NEW' to enter another occurrence: " R X:DTIME I '$T!("^"[X) S SRSOUT=1 G END
"RTN","SROCMPS",10,0)
 K SRENTRY I $E(X)="N" D NEW G:SRSOUT END D ^SROCMPED G EDIT
"RTN","SROCMPS",11,0)
 I '$D(SRCOMP(X)) W !!,"Select the number corresponding to the occurrence you want to update, or",!,"enter 'NEW' to add another occurrence. ",!!,"Press RETURN to continue  " R X:DTIME G EDIT
"RTN","SROCMPS",12,0)
 S:'$D(SRENTRY) SRENTRY=$P(SRCOMP(X),"^",3) D ^SROCMPED G EDIT
"RTN","SROCMPS",13,0)
 Q
"RTN","SROCMPS",14,0)
END D:$D(SRTN) EN^SROCCAT I $D(SRTN1) K SRTN,SRTN1
"RTN","SROCMPS",15,0)
 I 'SRSOUT W !!,"Press RETURN to continue  " R X:DTIME
"RTN","SROCMPS",16,0)
 D:'$D(SROVER) ^SRSKILL W @IOF
"RTN","SROCMPS",17,0)
 Q
"RTN","SROCMPS",18,0)
LIST ; list existing occurrences
"RTN","SROCMPS",19,0)
 S CNT=CNT+1,SRC(0)=^SRF(SRTN,SRTYPE,COMP,0),SRCMP=$P(SRC(0),"^"),SRCAT=$P(SRC(0),"^",2),SRCAT=$S(SRCAT:$P(^SRO(136.5,SRCAT,0),"^"),1:"NOT ENTERED"),SRCOMP(CNT)=SRCMP_"^"_SRCAT_"^"_COMP
"RTN","SROCMPS",20,0)
 W !,CNT_".  ",?5,SRCMP,!,?5,"Category: "_SRCAT,!
"RTN","SROCMPS",21,0)
 Q
"RTN","SROCMPS",22,0)
NEW ; enter new occurrences
"RTN","SROCMPS",23,0)
 D HDR^SROAUTL W ! I '$O(^SRF(SRTN,SRTYPE,0)) W !,"There are no "_$S(SRTYPE=10:"Intraoperative",1:"Postoperative")_" Occurrences entered for this case.",!!
"RTN","SROCMPS",24,0)
 K DIR,X S SRDD=$S(SRTYPE=10:130.13,1:130.22),DIR(0)=SRDD_","_$S(SRTYPE=10:3,1:5)_"O",DIR("A")="Enter a New "_$S(SRTYPE=10:"Intraoperative",1:"Postoperative")_" Occurrence" D ^DIR I $D(DUOUT)!(Y="") S SRSOUT=1 Q
"RTN","SROCMPS",25,0)
 K SRCOM,SRPOINT S SRPOINT=+Y,SRCOM=$P(Y,"^",2) D PRESS
"RTN","SROCMPS",26,0)
 S SRICD="" I SRCOM["OTHER" D ICD I SRSOUT Q
"RTN","SROCMPS",27,0)
 I '$D(^SRF(SRTN,SRTYPE,0)) S ^SRF(SRTN,SRTYPE,0)="^"_SRTYPDD_"^^"
"RTN","SROCMPS",28,0)
 K DD,DA,DO,DIC,DINUM S X=SRCOM,DIC(0)="L",DLAYGO=SRDD,DA(1)=SRTN,DIC="^SRF("_SRTN_","_SRTYPE_"," D FILE^DICN S SRENTRY=+Y
"RTN","SROCMPS",29,0)
 S $P(^SRF(SRTN,SRTYPE,+Y,0),"^",2)=SRPOINT,$P(^SRF(SRTN,SRTYPE,+Y,0),"^",3)=SRICD
"RTN","SROCMPS",30,0)
 Q
"RTN","SROCMPS",31,0)
ICD W !!,"Since you have selected one of the 'OTHER' occurrence categories, an ICD",!,"Diagnosis Code should be entered for this occurrence."
"RTN","SROCMPS",32,0)
 S DIR(0)=$S(SRTY="INTRAOPERATIVE":"130.13,4",1:"130.22,6"),DIR("A")="Select ICD Diagnosis Code" D ^DIR K DIR I $D(DUOUT) Q
"RTN","SROCMPS",33,0)
 I +Y>0 S SRICD=+Y,SRCOM=$P($$ICDC^SROICD(+Y),"^",3)
"RTN","SROCMPS",34,0)
 Q
"RTN","SROCMPS",35,0)
DESC ; output occurrence category description when doing lookup
"RTN","SROCMPS",36,0)
 S SRX=0 F  S SRX=$O(^SRO(136.5,Y,1,SRX)) Q:'SRX  W !,^SRO(136.5,Y,1,SRX,0)
"RTN","SROCMPS",37,0)
 W !,"  " K SRX
"RTN","SROCMPS",38,0)
 Q
"RTN","SROCMPS",39,0)
PRESS K DIR W ! S DIR(0)="FOA",DIR("A")="Press RETURN to continue: " D ^DIR K DIR I $D(DTOUT) S SRSOUT=1
"RTN","SROCMPS",40,0)
 Q
"RTN","SROCMPS",41,0)
CO() ; called by screen on post-op occurrence category field
"RTN","SROCMPS",42,0)
 N SRSCR,SRTYPE,SRX S SRSCR="I '$P(^(0),U,2)" D  Q SRSCR
"RTN","SROCMPS",43,0)
 .S SRX=$S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:"") Q:'SRX
"RTN","SROCMPS",44,0)
 .S SRTYPE=$P($G(^SRF(SRX,"RA")),U,2)
"RTN","SROCMPS",45,0)
 .I SRTYPE'=""&(SRTYPE'="C") S SRSCR=SRSCR_"&($P(^(0),U,4)'="_"""Y"""_")"
"RTN","SROCMPS",46,0)
 Q
"RTN","SROCVER")
0^1^B31713915
"RTN","SROCVER",1,0)
SROCVER ;BIR/SJA - CODE SET VERSIONING UTILITY ; [ 01/29/03  08:18 AM ]
"RTN","SROCVER",2,0)
 ;;3.0; Surgery ;**116**;24 Jun 93
"RTN","SROCVER",3,0)
 ;
"RTN","SROCVER",4,0)
 ;Reference to $$ICDDX^ICDCODE supported by DBIA #3990
"RTN","SROCVER",5,0)
 ;Reference to $$CPT^ICPTCOD supported by DBIA #1995
"RTN","SROCVER",6,0)
 ;Reference to ^TMP("CSLSUR1" supported by DBIA #3498
"RTN","SROCVER",7,0)
 ;
"RTN","SROCVER",8,0)
VALIDAT N ATTD,SRBB,SRCC,DLN,SRII,SRJJ,SLN,OCOD,SRAA,SRCODE,SRDATE,SRMOD,SRND0,SRND1,SRND34,SRNON,SRJ,SROP,SRPD,SRT,SRY,SRX,SRX1,SRYY,XMY,Y
"RTN","SROCVER",9,0)
 K ^TMP("SRCVER",$J) S $P(DLN,"-",78)=""
"RTN","SROCVER",10,0)
 S SRTN=$S($D(SRTN):SRTN,1:DA),SRND0=$G(^SRF(SRTN,0)),SROP=$G(^SRF(SRTN,"OP")),SRND1=$G(^SRF(SRTN,.1)),SRNON=$G(^SRF(SRTN,"NON"))
"RTN","SROCVER",11,0)
 S SRPD=$S($D(^SRF(SRTN,"NON")):$P(SRNON,"^",6),1:$P(SRND1,"^",4)),ATTD=$S($D(^SRF(SRTN,"NON")):$P(SRNON,"^",7),1:$P(SRND1,"^",13)),SRND34=$G(^SRF(SRTN,34))
"RTN","SROCVER",12,0)
 S SRDATE=$S($P(SRND0,"^",9):$P(SRND0,"^",9),1:DT)
"RTN","SROCVER",13,0)
 ;
"RTN","SROCVER",14,0)
 S SRCODE=$P(SROP,"^",2) I SRCODE S SRT=$$CPT^ICPTCOD(SRCODE,SRDATE) I $P(SRT,"^",7)=0 S ^TMP("SRCVER",$J,"1;!;PRINCIPAL CPT CODE",$P(SRT,"^",2))=SRCODE D
"RTN","SROCVER",15,0)
 .S (SRJJ,SRII)=0 F  S SRII=$O(^SRF(SRTN,"OPMOD",SRII)) Q:'SRII  S SRMOD="" S (Y,SRT)=$P($G(^SRF(SRTN,"OPMOD",SRII,0)),"^") D DISPLAY^SROMOD S SRMOD=$S($G(SRMOD):SRMOD_","_Y,1:Y) D
"RTN","SROCVER",16,0)
 ..S ^TMP("SRCVER",$J,"1_1;; CPT MODIFIER",SRMOD)=SRT_"^"_SRII
"RTN","SROCVER",17,0)
 ;
"RTN","SROCVER",18,0)
 S (SRT,SRAA)=0 F  S SRAA=$O(^SRF(SRTN,13,SRAA)) Q:'SRAA  S OCOD=+$G(^(SRAA,2)) I OCOD S SRT=$$CPT^ICPTCOD(OCOD,SRDATE) I $P(SRT,"^",7)=0 S ^TMP("SRCVER",$J,"2;!;OTHER PROCEDURE CPT CODE",$P(SRT,"^",2))=OCOD_"^"_SRAA D
"RTN","SROCVER",19,0)
 .S SRBB=0 F  S SRBB=$O(^SRF(SRTN,13,SRAA,"MOD",SRBB)) Q:'SRBB  S SRMOD="" S (SRT,Y)=$P($G(^SRF(SRTN,13,SRAA,"MOD",SRBB,0)),"^") D DISPLAY^SROMOD S SRMOD=$S($G(SRMOD):SRMOD_","_Y,1:Y) D
"RTN","SROCVER",20,0)
 ..S ^TMP("SRCVER",$J,"2_1;; CPT MODIFIER",SRMOD)=$P(SRT,"^")_"^"_SRAA
"RTN","SROCVER",21,0)
 ;
"RTN","SROCVER",22,0)
 I $P(SRND34,"^",2)'="" S SRT=$$ICDDX^ICDCODE($P(SRND34,"^",2),SRDATE) I $P(SRT,"^",10)=0 S ^TMP("SRCVER",$J,"3;!;PRIN DIAGNOSIS CODE",$P(SRT,"^",2))=$P(SRND34,"^",2)
"RTN","SROCVER",23,0)
 ;
"RTN","SROCVER",24,0)
 S SRAA=0 F  S SRAA=$O(^SRF(SRTN,14,SRAA)) Q:'SRAA  S OCOD=$P(^SRF(SRTN,14,SRAA,0),"^",3) I OCOD S SRT=$$ICDDX^ICDCODE(OCOD,SRDATE) I $P(SRT,"^",10)=0 S ^TMP("SRCVER",$J,"4;!;OTHER PREOP DIAGNOSIS",$P(SRT,"^",2))=OCOD_"^"_SRAA
"RTN","SROCVER",25,0)
 ;
"RTN","SROCVER",26,0)
DISP Q:'$D(^TMP("SRCVER",$J))
"RTN","SROCVER",27,0)
 W !!,DLN
"RTN","SROCVER",28,0)
 D EN^DDIOL("The following codes are no longer active and will be deleted for case #:"_SRTN,,"!")
"RTN","SROCVER",29,0)
 S SRAA="" F  S SRAA=$O(^TMP("SRCVER",$J,SRAA)) Q:SRAA=""  W:SRAA["!" ! S (SRBB,SRCC)="" F  S SRBB=$O(^TMP("SRCVER",$J,SRAA,SRBB)) Q:SRBB=""  S SRCC=SRCC+1 D
"RTN","SROCVER",30,0)
 .W:SRCC=1 !,?10,$P(SRAA,";",3)_": ",?40,SRBB W:SRCC>1 !,?40,SRBB
"RTN","SROCVER",31,0)
 D EN^DDIOL("New active codes must be re-entered. A MailMan message will be sent to",,"!!")
"RTN","SROCVER",32,0)
 D EN^DDIOL("the "_$S(SRNON'="":"provider and attending provider",1:"surgeon and attending surgeon")_" of record and to the user who edited",,"!")
"RTN","SROCVER",33,0)
 D EN^DDIOL("the record with case details for follow-up.",,"!")
"RTN","SROCVER",34,0)
 W !!,DLN
"RTN","SROCVER",35,0)
 W !!,"Press RETURN to continue  " R SRX:DTIME
"RTN","SROCVER",36,0)
 D SENDMSG
"RTN","SROCVER",37,0)
 Q
"RTN","SROCVER",38,0)
SENDMSG ;Send mail message when check is complete.
"RTN","SROCVER",39,0)
 Q:'$D(^TMP("SRCVER",$J))
"RTN","SROCVER",40,0)
 K SR,XMY S XMDUZ="SURGERY PACKAGE",XMSUB="ICD-9 OR CPT CODE DELETION",XMY(DUZ)="",SLN=0 D NOW^%DTC S Y=% X ^DD("DD")
"RTN","SROCVER",41,0)
 F SRJJ=SRPD,ATTD,DUZ S:$G(SRJJ) XMY(SRJJ)=""
"RTN","SROCVER",42,0)
 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT
"RTN","SROCVER",43,0)
 S SR(1)="Patient: "_$E(VADM(1),1,20)_$J("",30-$L(VADM(1)))_" Case #: "_SRTN
"RTN","SROCVER",44,0)
 S Y=SRDATE D DD^%DT
"RTN","SROCVER",45,0)
 S SR(2)=$S(SRNON'="":"Procedure Date: ",1:"Operation Date: ")_Y_"      "_$P(SROP,"^"),SR(3)=""
"RTN","SROCVER",46,0)
 S SR(5)="The following codes are no longer active and were deleted for this"
"RTN","SROCVER",47,0)
 S SR(6)="case when the "_$S(SRNON'="":"Time Procedure Began",1:"Time Patient in OR")_" was entered."
"RTN","SROCVER",48,0)
 S SR(7)="",SLN=8
"RTN","SROCVER",49,0)
 S SRX=$J("",8),SRX1=$J("",40)
"RTN","SROCVER",50,0)
 ;
"RTN","SROCVER",51,0)
PCPT S SRAA=0,SRAA=$O(^TMP("SRCVER",$J,"1;!;PRINCIPAL CPT CODE",SRAA)) I SRAA S SR(SLN)=SRX_"PRINCIPAL CPT CODE:         "_SRAA D
"RTN","SROCVER",52,0)
 .K SRY S SRY(130,SRTN_",",27)="@" D FILE^DIE("","SRY")
"RTN","SROCVER",53,0)
 .S SRMOD="",SRJJ=0 F  S SRMOD=$O(^TMP("SRCVER",$J,"1_1;; CPT MODIFIER",SRMOD)) Q:SRMOD=""  D
"RTN","SROCVER",54,0)
 ..S SRJJ=SRJJ+1,SLN=SLN+1 S:SRJJ=1 SR(SLN)=SRX_" CPT MODIFIER:"_$J("",14)_SRMOD S:SRJJ>1 SR(SLN)=$J("",36)_SRMOD
"RTN","SROCVER",55,0)
 ..K SRY S SRY(130,SRTN_",",28)="@" D FILE^DIE("","SRY")
"RTN","SROCVER",56,0)
 S SLN=SLN+1,SR(SLN)=""
"RTN","SROCVER",57,0)
 ;
"RTN","SROCVER",58,0)
OCPT S SRAA=0,SLN=SLN+1 F  S SRAA=$O(^TMP("SRCVER",$J,"2;!;OTHER PROCEDURE CPT CODE",SRAA)) Q:'SRAA  S SR(SLN)=SRX_"OTHER PROCEDURE CPT CODE:   "_SRAA,SRJ=$P($G(^(SRAA)),"^",2) D
"RTN","SROCVER",59,0)
 .K SRY S SRY(130.16,SRJ_","_SRTN_",",3)="@" D FILE^DIE("","SRY")
"RTN","SROCVER",60,0)
 .S SRMOD="",SRJJ=0 F  S SRMOD=$O(^TMP("SRCVER",$J,"2_1;; CPT MODIFIER",SRMOD)) Q:SRMOD=""  S SRJ=$G(^(SRMOD)) D
"RTN","SROCVER",61,0)
 ..S SRJJ=SRJJ+1,SLN=SLN+1 S:SRJJ=1 SR(SLN)=SRX_" CPT MODIFIER:"_$J("",14)_SRMOD S:SRJJ>1 SR(SLN)=$J("",36)_SRMOD
"RTN","SROCVER",62,0)
 ..K SRY S SRY(130.16,SRJ_","_SRTN_",",4)="@" D FILE^DIE("","SRY")
"RTN","SROCVER",63,0)
 ;
"RTN","SROCVER",64,0)
PD S SRAA=0,SLN=SLN+1,SRAA=$O(^TMP("SRCVER",$J,"3;!;PRIN DIAGNOSIS CODE",SRAA)) I SRAA S SR(SLN)=SRX_"PRIN DIAGNOSIS CODE:"_SRX_SRAA K SRY S SRY(130,SRTN_",",66)="@" D FILE^DIE("","SRY")
"RTN","SROCVER",65,0)
 ;
"RTN","SROCVER",66,0)
OPD S (SRJJ,SRAA)=0 F  S SRAA=$O(^TMP("SRCVER",$J,"4;!;OTHER PREOP DIAGNOSIS",SRAA)) Q:'SRAA  S SLN=SLN+1,SRJJ=SRJJ+1 S SRYY=$P($G(^(SRAA)),"^",2) D
"RTN","SROCVER",67,0)
 .S:SRJJ=1 SR(SLN)=SRX_"OTHER PREOP DIAGNOSIS:"_$J("",6)_SRAA S:SRJJ>1 SR(SLN)=$J("",36)_SRAA
"RTN","SROCVER",68,0)
 .K SRY S SRY(130.17,SRYY_","_SRTN_",",3)="@" D FILE^DIE("","SRY")
"RTN","SROCVER",69,0)
 S (SR(SLN+1),SR(SLN+2))=""
"RTN","SROCVER",70,0)
 S SR(SLN+3)="New active codes must be re-entered."
"RTN","SROCVER",71,0)
 S XMTEXT="SR(" D ^XMD
"RTN","SROCVER",72,0)
 ;
"RTN","SROCVER",73,0)
CFLS ;This line of code to update Surgery-CoreFLS changes
"RTN","SROCVER",74,0)
 Q:'$D(^TMP("CSLSUR1",$J))
"RTN","SROCVER",75,0)
 S SRSITE=$S($D(SRSITE):SRSITE,1:$$SITE^SROUTL0(SRTN))
"RTN","SROCVER",76,0)
 S SROERR=SRTN D ^SROERR0
"RTN","SROCVER",77,0)
 Q
"RTN","SROICD")
0^2^B489452
"RTN","SROICD",1,0)
SROICD ;BIR/SJA - CODE SET VERSIONING UTILITY ; [ 01/30/03  05:50 PM ]
"RTN","SROICD",2,0)
 ;;3.0; Surgery ;**116**;24 Jun 93
"RTN","SROICD",3,0)
 ;
"RTN","SROICD",4,0)
 ;Reference to $$ICDDX^ICDCODE supported by DBIA #3990
"RTN","SROICD",5,0)
 ;
"RTN","SROICD",6,0)
ICDC(SRCODE) ; output principal ICD
"RTN","SROICD",7,0)
 N SRC,SRSDATE
"RTN","SROICD",8,0)
 I $D(SRCODE),SRCODE="" Q
"RTN","SROICD",9,0)
 S SRC=$$ICDDX^ICDCODE(SRCODE)
"RTN","SROICD",10,0)
 Q $P(SRC,"^",2,4)
"RTN","SROICD",11,0)
 ;
"RTN","SROICD",12,0)
ACTIV(SRTN,SRCODE) ; screen for active ICD codes
"RTN","SROICD",13,0)
 N SROK,SRSDATE S SROK=1,SRSDATE=DT
"RTN","SROICD",14,0)
 I $G(SRTN) S SRSDATE=$E($P(^SRF(SRTN,0),"^",9),1,7)
"RTN","SROICD",15,0)
 S SROK=$P($$ICDDX^ICDCODE(SRCODE,SRSDATE),"^",10)
"RTN","SROICD",16,0)
 Q SROK
"UP",130,130.13,-1)
130^10
"UP",130,130.13,0)
130.13
"UP",130,130.17,-1)
130^14
"UP",130,130.17,0)
130.17
"UP",130,130.18,-1)
130^15
"UP",130,130.18,0)
130.18
"UP",130,130.22,-1)
130^16
"UP",130,130.22,0)
130.22
"VER")
8.0^22.0
"^DD",130,130,.205,0)
TIME PAT IN OR^DX^^.2;10^S Z=$E($P(^SRF(DA,0),U,9),1,7) D TIME^SROVAR K:Y<1!(X'[".") X I $D(X),$D(^SRF(DA,"CON")),$P(^("CON"),"^") S SRFLD=.205 D ^SROCON Q
"^DD",130,130,.205,.1)
Time Patient In the O.R.
"^DD",130,130,.205,1,0)
^.1
"^DD",130,130,.205,1,1,0)
^^TRIGGER^130^.09
"^DD",130,130,.205,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRF(D0,0)):^(0),1:"") S X=$P(Y(1),U,9),X=X S DIU=X K Y S X=DIV S X=DIV S DIH=$S($D(^SRF(DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,9)=DIV,DIH=130,DIG=.09 D ^DICR
"^DD",130,130,.205,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRF(D0,0)):^(0),1:"") S X=$P(Y(1),U,9),X=X S DIU=X K Y X ^DD(130,.205,1,1,2.1) X ^DD(130,.205,1,1,2.4)
"^DD",130,130,.205,1,1,2.1)
S X=DIV S X=X,Y(1)=X S X=1,Y(2)=X S X=7,X=$E(Y(1),Y(2),X)
"^DD",130,130,.205,1,1,2.4)
S DIH=$S($D(^SRF(DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,9)=DIV,DIH=130,DIG=.09 D ^DICR
"^DD",130,130,.205,1,1,"%D",0)
^^2^2^2930128^
"^DD",130,130,.205,1,1,"%D",1,0)
This trigger on the TIME PAT IN OR field updates the DATE OF OPERATION
"^DD",130,130,.205,1,1,"%D",2,0)
field with the date/time the patient went into the operating room.
"^DD",130,130,.205,1,1,"CREATE VALUE")
TIME PAT IN OR
"^DD",130,130,.205,1,1,"DELETE VALUE")
$E(OLD TIME PAT IN OR,1,7)
"^DD",130,130,.205,1,1,"FIELD")
DATE OF OPERATION
"^DD",130,130,.205,1,2,0)
130^APCE6^MUMPS
"^DD",130,130,.205,1,2,1)
D APCE^SROPCEX
"^DD",130,130,.205,1,2,2)
S SRFLD=.205 D KAPCE^SROPCEX
"^DD",130,130,.205,1,2,"%D",0)
^^2^2^2960906^^^^
"^DD",130,130,.205,1,2,"%D",1,0)
This MUMPS cross reference maintains the APCE cross reference nodes
"^DD",130,130,.205,1,2,"%D",2,0)
used in updating PCE.
"^DD",130,130,.205,1,2,"DT")
2960906
"^DD",130,130,.205,1,3,0)
130^AD^MUMPS
"^DD",130,130,.205,1,3,1)
D VALIDAT^SROCVER
"^DD",130,130,.205,1,3,2)
Q
"^DD",130,130,.205,1,3,"%D",0)
^^2^2^3030319^
"^DD",130,130,.205,1,3,"%D",1,0)
This MUMPS cross-reference on the TIME PAT IN OR field is used to 
"^DD",130,130,.205,1,3,"%D",2,0)
invoke the CPT and ICD-9 codes revalidation checks in routine ^SROCVER.
"^DD",130,130,.205,1,3,"DT")
3030303
"^DD",130,130,.205,3)
Enter the date/time that the patient was transported into the operating room.
"^DD",130,130,.205,21,0)
^^4^4^2900621^^^
"^DD",130,130,.205,21,1,0)
This is the date and time that the patient was transported into the
"^DD",130,130,.205,21,2,0)
operation room.  Times entered without a date will be converted to
"^DD",130,130,.205,21,3,0)
the date of operation at that time.
"^DD",130,130,.205,21,4,0)
 
"^DD",130,130,.205,"DT")
3030303
"^DD",130,130,66,0)
PRIN DIAGNOSIS CODE^*P80'X^ICD9(^34;2^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,66,.1)
Principal Diagnosis Code (ICD9)
"^DD",130,130,66,1,0)
^.1
"^DD",130,130,66,1,1,0)
130^APCE8^MUMPS
"^DD",130,130,66,1,1,1)
D APCE^SROPCEX
"^DD",130,130,66,1,1,2)
S SRFLD=66 D KAPCE^SROPCEX
"^DD",130,130,66,1,1,"%D",0)
^^2^2^2960906^^^^
"^DD",130,130,66,1,1,"%D",1,0)
This MUMPS cross reference maintains the APCE cross reference nodes
"^DD",130,130,66,1,1,"%D",2,0)
used in updating PCE.
"^DD",130,130,66,1,1,"DT")
2960906
"^DD",130,130,66,3)
Enter the ICD Diagnosis code for the principal diagnosis.
"^DD",130,130,66,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130,66,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)"
"^DD",130,130,66,21,0)
^.001^3^3^3030319^^^
"^DD",130,130,66,21,1,0)
This is the principal ICD9 diagnosis code.  It should be entered for all
"^DD",130,130,66,21,2,0)
cases and will be used for Surgery Central Office reporting needs.
"^DD",130,130,66,21,3,0)
 
"^DD",130,130,66,"DT")
3030411
"^DD",130,130,121,0)
TIME PROCEDURE BEGAN^DX^^NON;4^S Z=$E($P(^SRF(DA,"NON"),U,3),1,7) D TIME^SROVAR K:Y<1!(X'[".") X
"^DD",130,130,121,.1)
Time Procedure Began
"^DD",130,130,121,1,0)
^.1
"^DD",130,130,121,1,1,0)
130^AST^MUMPS
"^DD",130,130,121,1,1,1)
D AST^SRONXR
"^DD",130,130,121,1,1,2)
D KILLAST^SRONXR
"^DD",130,130,121,1,1,"%D",0)
^^4^4^2930129^^^^
"^DD",130,130,121,1,1,"%D",1,0)
The AST cross reference on the TIME PROCEDURE BEGAN field updates the
"^DD",130,130,121,1,1,"%D",2,0)
ANES CARE START TIME if the non-O.R. procedure is an Anesthesiology
"^DD",130,130,121,1,1,"%D",3,0)
procedure, that is, if the case is assigned to the Anesthesiology Medical
"^DD",130,130,121,1,1,"%D",4,0)
Specialty.
"^DD",130,130,121,1,1,"DT")
2920117
"^DD",130,130,121,1,2,0)
130^APCE10^MUMPS
"^DD",130,130,121,1,2,1)
D APCE^SROPCEX
"^DD",130,130,121,1,2,2)
S SRFLD=121 D KAPCE^SROPCEX
"^DD",130,130,121,1,2,"%D",0)
^.101^2^2^3030319^^^^
"^DD",130,130,121,1,2,"%D",1,0)
This MUMPS cross reference maintains the APCE cross reference nodes
"^DD",130,130,121,1,2,"%D",2,0)
used in updating PCE.
"^DD",130,130,121,1,2,"DT")
2960906
"^DD",130,130,121,1,3,0)
130^ADA^MUMPS
"^DD",130,130,121,1,3,1)
D VALIDAT^SROCVER
"^DD",130,130,121,1,3,2)
Q
"^DD",130,130,121,1,3,"%D",0)
^^2^2^3030319^
"^DD",130,130,121,1,3,"%D",1,0)
This MUMPS cross-reference on the TIME PROCEDURE BEGAN field is used to
"^DD",130,130,121,1,3,"%D",2,0)
invoke the CPT and ICD-9 codes revalidation checks in routine ^SROCVER.
"^DD",130,130,121,1,3,"DT")
3030319
"^DD",130,130,121,3)
Enter the time of the start of the non-OR procedure.
"^DD",130,130,121,21,0)
^^1^1^2911205^
"^DD",130,130,121,21,1,0)
This is the date and time that the non-OR procedure began.
"^DD",130,130,121,"DT")
3030319
"^DD",130,130,253,0)
OTHER RESPIRATORY OCCURRENCE^*P80'XO^ICD9(^205;14^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,253,.1)
Other Respiratory Occurrence (ICD Diagnosis)
"^DD",130,130,253,2)
S Y(0)=Y I $G(Y) S Y=$$ICDC^SROICD(Y),Y=$P(Y,"^")_"  "_$P(Y,"^",3)
"^DD",130,130,253,2.1)
I $G(Y) S Y=$$ICDC^SROICD(Y),Y=$P(Y,"^")_"  "_$P(Y,"^",3)
"^DD",130,130,253,3)
Enter the ICD Diagnosis code related to the postoperative respiratory occurrence.
"^DD",130,130,253,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130,253,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)"
"^DD",130,130,253,21,0)
^^4^4^2910919^^^^
"^DD",130,130,253,21,1,0)
This is the ICD Diagnosis code related to a postoperative respiratory
"^DD",130,130,253,21,2,0)
occurrence other than pneumonia, pulmonary embolism, or failure 
"^DD",130,130,253,21,3,0)
to breathe without a respirator.
"^DD",130,130,253,21,4,0)
 
"^DD",130,130,253,"DT")
3030327
"^DD",130,130,286,0)
OTHER URINARY TRACT OCCURRENCE^*P80'XO^ICD9(^205;19^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,286,.1)
Other Urinary Tract Occurrences (ICD Diagnosis)
"^DD",130,130,286,2)
S Y(0)=Y I $G(Y) S Y=$$ICDC^SROICD(Y),Y=$P(Y,"^")_"  "_$P(Y,"^",3)
"^DD",130,130,286,2.1)
I $G(Y) S Y=$$ICDC^SROICD(Y),Y=$P(Y,"^")_"  "_$P(Y,"^",3)
"^DD",130,130,286,3)
Enter the ICD Diagnosis code for the postoperative urinary tract occurrence.
"^DD",130,130,286,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130,286,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)"
"^DD",130,130,286,21,0)
^^9^9^2950226^^^^
"^DD",130,130,286,21,1,0)
If the patient has had a postoperative urinary tract occurrence
"^DD",130,130,286,21,2,0)
other than acute renal failure, progressive renal insufficiency,
"^DD",130,130,286,21,3,0)
or urinary tract infection, this field will contain the ICD
"^DD",130,130,286,21,4,0)
Diagnosis code related to that occurrence.
"^DD",130,130,286,21,5,0)
 
"^DD",130,130,286,21,6,0)
A urinary tract occurrence is defined as a occurrence related to
"^DD",130,130,286,21,7,0)
the organs and ducts participating in the secretion and elimination
"^DD",130,130,286,21,8,0)
of urine.
"^DD",130,130,286,21,9,0)
 
"^DD",130,130,286,"DT")
3030327
"^DD",130,130,343,0)
OTHER CNS OCCURRENCE^*P80'XO^ICD9(^205;24^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,343,.1)
Other CNS Occurrence
"^DD",130,130,343,2)
S Y(0)=Y I $G(Y) S Y=$$ICDC^SROICD(Y),Y=$P(Y,"^")_"  "_$P(Y,"^",3)
"^DD",130,130,343,2.1)
I $G(Y) S Y=$$ICDC^SROICD(Y),Y=$P(Y,"^")_"  "_$P(Y,"^",3)
"^DD",130,130,343,3)
Enter the ICD Diagnosis code for any other CNS occurrence.
"^DD",130,130,343,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130,343,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)"
"^DD",130,130,343,21,0)
^^4^4^2910727^
"^DD",130,130,343,21,1,0)
This is the ICD Diagnosis code representing any other postoperative
"^DD",130,130,343,21,2,0)
CNS occurrence which would not be included in one of the other
"^DD",130,130,343,21,3,0)
CNS occurrence categories.
"^DD",130,130,343,21,4,0)
 
"^DD",130,130,343,"DT")
3030327
"^DD",130,130,344,0)
OTHER CARDIAC OCCURRENCE^*P80'XO^ICD9(^205;29^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,344,.1)
Other Cardiac Occurrence
"^DD",130,130,344,2)
S Y(0)=Y I $G(Y) S Y=$$ICDC^SROICD(Y),Y=$P(Y,"^")_"  "_$P(Y,"^",3)
"^DD",130,130,344,2.1)
I $G(Y) S Y=$$ICDC^SROICD(Y),Y=$P(Y,"^")_"  "_$P(Y,"^",3)
"^DD",130,130,344,3)
Enter the ICD Diagnosis code corresponding to the cardiac occurrence.
"^DD",130,130,344,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130,344,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)"
"^DD",130,130,344,21,0)
^^4^4^2910727^
"^DD",130,130,344,21,1,0)
This is the ICD Diagnosis code corresponding to any other cardiac
"^DD",130,130,344,21,2,0)
occurrence not included in one of the other cardiac occurrence
"^DD",130,130,344,21,3,0)
categories.
"^DD",130,130,344,21,4,0)
 
"^DD",130,130,344,"DT")
3030327
"^DD",130,130,392,0)
OTHER OCCURRENCES (ICD9)^*P80'X^ICD9(^205;36^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130,392,.1)
Other Occurrences (ICD9)
"^DD",130,130,392,3)
Enter the ICD Diagnosis Code for any other occurrence.
"^DD",130,130,392,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130,392,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA):DA,1:""""),+Y)"
"^DD",130,130,392,21,0)
^^3^3^2910812^
"^DD",130,130,392,21,1,0)
This is the ICD Diagnosis Code for any other occurrence which
"^DD",130,130,392,21,2,0)
does not fit in any other occurrence category.
"^DD",130,130,392,21,3,0)
 
"^DD",130,130,392,"DT")
3030326
"^DD",130,130.13,4,0)
ICD DIAGNOSIS CODE^*P80'X^ICD9(^0;3^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130.13,4,.1)
ICD Diagnosis Code
"^DD",130,130.13,4,3)
Enter the ICD Diagnosis code corresponding to this intraoperative occurrence.
"^DD",130,130.13,4,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130.13,4,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:""""),+Y)"
"^DD",130,130.13,4,21,0)
^^3^3^2920330^
"^DD",130,130.13,4,21,1,0)
If the occurrence entered does not fit in any of the predefined
"^DD",130,130.13,4,21,2,0)
categories, it must have an ICD Diagnosis code entered.
"^DD",130,130.13,4,21,3,0)
 
"^DD",130,130.13,4,"DT")
3030411
"^DD",130,130.17,3,0)
ICD DIAGNOSIS CODE^*P80'X^ICD9(^0;3^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130.17,3,.1)
ICD Diagnosis Code
"^DD",130,130.17,3,3)
Enter the ICD Diagnosis code which corresponds with this diagnosis.
"^DD",130,130.17,3,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130.17,3,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:""""),+Y)"
"^DD",130,130.17,3,21,0)
^^4^4^2920504^
"^DD",130,130.17,3,21,1,0)
This is the ICD Diagnosis Code which corresponds with this diagnosis.
"^DD",130,130.17,3,21,2,0)
Entering this field is optional, but may be valuable in documentation
"^DD",130,130.17,3,21,3,0)
of this case.
"^DD",130,130.17,3,21,4,0)
 
"^DD",130,130.17,3,"DT")
3030411
"^DD",130,130.18,3,0)
ICD DIAGNOSIS CODE^*P80'X^ICD9(^0;3^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130.18,3,.1)
ICD Diagnosis Code
"^DD",130,130.18,3,1,0)
^.1
"^DD",130,130.18,3,1,1,0)
130^APCE15^MUMPS
"^DD",130,130.18,3,1,1,1)
D APCE^SROPCEX
"^DD",130,130.18,3,1,1,2)
S SRFLD=.74 D KAPCE^SROPCEX
"^DD",130,130.18,3,1,1,"%D",0)
^^2^2^2960907^
"^DD",130,130.18,3,1,1,"%D",1,0)
This MUMPS cross reference maintains the APCE cross reference nodes
"^DD",130,130.18,3,1,1,"%D",2,0)
used in updating PCE.
"^DD",130,130.18,3,1,1,"DT")
2960907
"^DD",130,130.18,3,3)
Enter the ICD Diagnosis Code that corresponds to this diagnosis.
"^DD",130,130.18,3,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130.18,3,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:""""),+Y)"
"^DD",130,130.18,3,21,0)
^^4^4^2921106^^
"^DD",130,130.18,3,21,1,0)
This is the ICD Diagnosis Code that corresponds with this postoperative
"^DD",130,130.18,3,21,2,0)
diagnosis.  Although optional, this information may be useful in the
"^DD",130,130.18,3,21,3,0)
documentation of this case.
"^DD",130,130.18,3,21,4,0)
 
"^DD",130,130.18,3,"DT")
3030411
"^DD",130,130.22,6,0)
ICD DIAGNOSIS CODE^*P80'X^ICD9(^0;3^S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:""""),+Y)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",130,130.22,6,.1)
ICD Diagnosis Code
"^DD",130,130.22,6,3)
Enter the ICD Diagnosis code corresponding to this postoperative occurrence.
"^DD",130,130.22,6,12)
Screen prevents selection of inactive diagnosis.
"^DD",130,130.22,6,12.1)
S DIC("S")="I $$ACTIV^SROICD($S($D(SRTN):SRTN,$D(DA(1)):DA(1),1:""""),+Y)"
"^DD",130,130.22,6,21,0)
^^3^3^2921106^^
"^DD",130,130.22,6,21,1,0)
If the occurrence entered does not fit in any of the predefined
"^DD",130,130.22,6,21,2,0)
categories, an ICD Diagnosis Code must be entered.
"^DD",130,130.22,6,21,3,0)
 
"^DD",130,130.22,6,"DT")
3030411
**END**
**END**
