$TXT Created by MOORE,JIM at DEVCRN.ISC-ALBANY.VA.GOV  (KIDS) on WEDNESDAY, 08/23/00 at 11:43
=============================================================================
Run Date: SEP 05, 2000                     Designation: RG*1*5
Package : RG - CLINICAL INFO  NETWORKPriority: EMERGENCY
Version : 1         SEQ #6                     Status: Released
=============================================================================

Associated patches: (v)DG*5.3*255  <<= must be installed BEFORE `RG*1*5'
                    (v)RG*1*3     <<= must be installed BEFORE `RG*1*5'
                    (v)XU*8*131    <<= must be installed BEFORE `RG*1*5'
                    (v)HL*1.6*58   <<= must be installed BEFORE `RG*1*5'
                    (v)MPIF*1*3    <<= must be installed BEFORE `RG*1*5'
                    (v)DG*5.3*316  <<= must be installed BEFORE `RG*1*5'

Subject: FACILITY INTEGRATION MESSAGE

Category: 
  - Routine
  - Enhancement ()
  - Other

Description: 
============

  This is an emergency patch that should be installed immediately by all
  sites that have installed Clinical Information Resource Network - 
  Patient Demographics and Master Patient Index (CIRN PD/MPI) version 1.0.
  
  HL*1.6*58, MPIF*1.0*3, RG*1.0*3, DG*5.3*255, DG*5.3*316 and XU*8.0*131
  are required builds for patch RG*1.0*5.  Only sites that have installed
  CIRN PD/MPI version 1.0 should install this patch.
  
  This patch provides the additional functionality necessary for sites
  that are using CIRN PD/MPI to be integrated via the National Database
  Integration process (NDBI).  The new functionality consists of routines
  and protocols to process the new Facility Integration Message.  This is
  a Health Level Seven (HL7) message that is generated only when CIRN
  PD/MPI sites integrate.  The first such integration is expected in October
  2000 between Nashville and Murfreesboro.
  
  During site integrations, two or more databases are merged.  The new
  merged database is referred to as the primary site and the others are
  referred to as legacy sites.
  
  The CIRN PD/MPI software maintains data that is affected by site
  integrations.  The data includes the following.
  1) CIRN MASTER OF RECORD (#991.03) field in the PATIENT (#2) file.
     This field points to the INSTITUTION (#4) file.
  2) Records in the TREATING FACILITY LIST (#391.91) file.  This file 
     points to the INSTITUTION (#4) file.
  3) Records in the SUBSCRIPTION CONTROL (#774) file. This file points to 
     the HL LOGICAL LINK (#870) file, which in turn points to the
     INSTITUTION (#4) file.
  
  The data appears not only in the database of the legacy site, but also
  in the Austin Master Patient Index (MPI), the patient's Clinical
  Information Resource Network (CIRN) Master of Record (CMOR) site and
  the other sites that are subscribers.  For each patient merged from
  the legacy site to the primary site during a site integration, if the
  patient has a national Integration Control Number (ICN), the data
  listed above must be nationally updated.  For every site whose
  database contains that patient, the following updates must occur.
  
  1) If the legacy site was the CMOR, the primary site should be made
     the CMOR.
  2) If the legacy site was a subscriber, it should be replaced by the
     primary site.
  3) If the legacy site was a treating facility, it should be replaced
     by the primary site.
  
  The new Facility Integration Message is an HL7 message that will be
  transmitted from the legacy site to accomplish these updates.  If the
  legacy site is the CMOR, then the message will be sent to the Austin
  MPI and the subscribers.  If the legacy site was not the CMOR then
  the message will be sent to the CMOR, which in turn will send the message
  to the Austin MPI and the subscribers.  Upon receipt of the message the
  necessary database updates will be made automatically.
   
  Site integrations occur during weekends.  A capacity management analysis
  was completed that concludes that the impact on systems performance
  during site integrations will be moderate.
  
  Data Dictionary Changes:
  ========================
  There are no data dictionary changes.  Six new exception types are
  added to the CIRN HL7 EXCEPTION TYPE (#991.11) file.
  
  Protocols:
  ==========
  Two new protocols are included in the patch to implement the new Facility
  Integration Message.  They include the following.
   
  1) Facility Integration Server [RG FACILITY INTEGRATION SERVER]
     This is the protocol that is used by the HL7 package in transmitting
     the Facility Integration Message.
   
  2) Facility Integration Client [RG FACILITY INTEGRATION CLIENT]
     This is the protocol that is used by the HL7 package to process the
     receipt of the Facility Integration Message.
   
  HL7 Application Parameter:
  ==========================
  The following new HL7 application parameter is included.
  
  1) RG SITE MERGE - This new HL7 application is used in both the sending
     and receiving of the Facility Integration Message.
  
  Test Sites:
  ===========
  Asheville, NC
  Atlanta, GA
  Birmingham, AL
  Columbia, MO
  Las Vegas, NV
  Loma Linda, CA
  Long Beach, CA
  Memphis, TN
  Murfreesboro, TN
  Nashville, TN
  Palo Alto HCS
  Salt Lake City, UT
  San Diego, CA
  VA Greater Los Angeles HCS
  The software was tested extensively in test accounts using copies of the 
  Murfreesboro, Nashville and Austin MPI systems.
    
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routines will look like:
   
  <TAB>;;1.0;CLINICAL INFO RESOURCE NETWORK;**[patch list]**;30 Apr 99
  CHECK^XTSUMBLD results:
   
  Routine Name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  RGFIACK                    N/A               920511              5
  RGFIBM                     N/A              6832030              5
  RGFIPM                     N/A              8493644              5
  RGFIPM1                    N/A              8551714              5
  RGFIRM                     N/A              6159192              5
  RGFIU                      N/A              4392466              5
  RGP5ENV                    N/A                  N/A              5
  
  Note: Routine RGP5ENV is deleted by the installation.  The checksum
  prior to deletion is 510779.
   
  Installation Instructions:
  ==========================
  This patch can be loaded with users on the system.  Installation will take 
  less than one minute.
  
  Suggested time to install - non-peak requirement hours.
   
  1.  For existing CIRN PD/MPI 1.0 sites, patch RG*1.0*5 should be
      installed immediately after DG*5.3*316.  For all other sites,
      RG*1.0*5 will be installed during your CIRN PD/MPI installation
      weekend.  In either case, if you have not done so previously 
      for the installation of DG*5.3*316, you should do the following.
      On the Filer and Link Management Options [HL MENU FILER
      LINK MGT] menu, use the Stop All Messaging Background
      Processes [HL STOP ALL] option to prevent adding entries
      to the TREATING FACILITY LIST (#391.91) file while updating
      routines.
   
  2.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.  [Note: 
      TEXT PRINT/DISPLAY option in the PackMan menu will display the 
      patch text only.]
    
  3.  These routines are all new and are not recommended for mapping.
   
  4.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  5.  From this menu, you may elect to use the following options (when
      prompted for the INSTALL NAME, enter RG*1.0*5).
   
      (a)  Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch.  It will NOT
           backup any other changes such as DDs or templates.
   
      (b)  Compare Transport Global to Current System - this option will
           allow you to view all changes that will be made when the
           patch is installed.  It compares all components of the patch
           (routines, DDs, templates, etc.).
   
      (c)  Verify Checksums in Transport Global - this option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
   
      (d)  Print Transport Global - this option will allow you to view the
           components of the KIDS build.
   
  6.  Use the Install Package(s) option and select the package RG*1.0*5.
   
  7.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
      respond NO.
   
  8.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond NO.
   
  9.  On the Filer and Link Management Options [HL MENU FILER LINK 
      MGT] menu, use the Restart/Start All Links and Filers [HL TASK
      RESTART] option to start your filers.

Routine Information:
====================

Routine Name:
  - RGFIACK


Routine Checksum:

Routine Name:
  - RGFIBM


Routine Checksum:

Routine Name:
  - RGFIPM


Routine Checksum:

Routine Name:
  - RGFIPM1


Routine Checksum:

Routine Name:
  - RGFIRM


Routine Checksum:

Routine Name:
  - RGFIU


Routine Checksum:

Routine Name:
  - RGP5ENV


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : MOORE,CHARLES J               Date Entered : JAN 19, 2000
Completed By: HERREN,CATHRYN                Date Completed: SEP 05, 2000
Released By : CARLSON-GOTTS,NANCY           Date Released : SEP 05, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
