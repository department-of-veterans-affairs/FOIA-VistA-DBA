Released OR*3*274 SEQ #254
Extracted from mail message
**KIDS**:OR*3.0*274^

**INSTALL NAME**
OR*3.0*274
"BLD",6656,0)
OR*3.0*274^ORDER ENTRY/RESULTS REPORTING^0^3070928^y
"BLD",6656,4,0)
^9.64PA^101.24^1
"BLD",6656,4,101.24,0)
101.24
"BLD",6656,4,101.24,222)
n^n^f^^y^^y^r^n
"BLD",6656,4,101.24,223)

"BLD",6656,4,101.24,224)
I Y=1032!(Y=1100)!(Y=1079)!(Y=48)!(Y=1137)!(Y=1551)!(Y=1553)!(Y=1105)!(Y=1078)
"BLD",6656,4,"B",101.24,101.24)

"BLD",6656,6.3)
20
"BLD",6656,"INI")
PRE^ORY274
"BLD",6656,"INIT")
POST^ORY274
"BLD",6656,"KRN",0)
^9.67PA^8989.52^19
"BLD",6656,"KRN",.4,0)
.4
"BLD",6656,"KRN",.401,0)
.401
"BLD",6656,"KRN",.402,0)
.402
"BLD",6656,"KRN",.403,0)
.403
"BLD",6656,"KRN",.5,0)
.5
"BLD",6656,"KRN",.84,0)
.84
"BLD",6656,"KRN",3.6,0)
3.6
"BLD",6656,"KRN",3.8,0)
3.8
"BLD",6656,"KRN",9.2,0)
9.2
"BLD",6656,"KRN",9.8,0)
9.8
"BLD",6656,"KRN",9.8,"NM",0)
^9.68A^4^4
"BLD",6656,"KRN",9.8,"NM",1,0)
ORDV01^^0^B19087543
"BLD",6656,"KRN",9.8,"NM",2,0)
ORDV04^^0^B73242012
"BLD",6656,"KRN",9.8,"NM",3,0)
ORDV06^^0^B42164702
"BLD",6656,"KRN",9.8,"NM",4,0)
ORWSR^^0^B26083948
"BLD",6656,"KRN",9.8,"NM","B","ORDV01",1)

"BLD",6656,"KRN",9.8,"NM","B","ORDV04",2)

"BLD",6656,"KRN",9.8,"NM","B","ORDV06",3)

"BLD",6656,"KRN",9.8,"NM","B","ORWSR",4)

"BLD",6656,"KRN",19,0)
19
"BLD",6656,"KRN",19.1,0)
19.1
"BLD",6656,"KRN",101,0)
101
"BLD",6656,"KRN",409.61,0)
409.61
"BLD",6656,"KRN",771,0)
771
"BLD",6656,"KRN",870,0)
870
"BLD",6656,"KRN",8989.51,0)
8989.51
"BLD",6656,"KRN",8989.52,0)
8989.52
"BLD",6656,"KRN",8994,0)
8994
"BLD",6656,"KRN","B",.4,.4)

"BLD",6656,"KRN","B",.401,.401)

"BLD",6656,"KRN","B",.402,.402)

"BLD",6656,"KRN","B",.403,.403)

"BLD",6656,"KRN","B",.5,.5)

"BLD",6656,"KRN","B",.84,.84)

"BLD",6656,"KRN","B",3.6,3.6)

"BLD",6656,"KRN","B",3.8,3.8)

"BLD",6656,"KRN","B",9.2,9.2)

"BLD",6656,"KRN","B",9.8,9.8)

"BLD",6656,"KRN","B",19,19)

"BLD",6656,"KRN","B",19.1,19.1)

"BLD",6656,"KRN","B",101,101)

"BLD",6656,"KRN","B",409.61,409.61)

"BLD",6656,"KRN","B",771,771)

"BLD",6656,"KRN","B",870,870)

"BLD",6656,"KRN","B",8989.51,8989.51)

"BLD",6656,"KRN","B",8989.52,8989.52)

"BLD",6656,"KRN","B",8994,8994)

"BLD",6656,"QUES",0)
^9.62^^
"BLD",6656,"REQB",0)
^9.611^^0
"DATA",101.24,48,0)
ORRP SURGERIES^28^^28^ORWSR^RPTTEXT^4^R^^^^V^484
"DATA",101.24,48,2)
^^Surgery (local only)^Surgery (local only)
"DATA",101.24,48,3,0)
^101.243^11^11
"DATA",101.24,48,3,1,0)
Facility^^1
"DATA",101.24,48,3,2,0)
Procedure Date/Time^^3^^^^^^2
"DATA",101.24,48,3,3,0)
Surgical Procedure^^4
"DATA",101.24,48,3,4,0)
Surgeon^^6
"DATA",101.24,48,3,5,0)
[+]^^7
"DATA",101.24,48,3,6,0)
ID^1^2
"DATA",101.24,48,3,7,0)
Lab Work^1^8^0^0^^0^N^0
"DATA",101.24,48,3,8,0)
Status^1^9^0^0^^0^N^0
"DATA",101.24,48,3,9,0)
Surgical Specialty^1^10^0^0^^0^N^0
"DATA",101.24,48,3,10,0)
Dictation Time^1^11^0^0^^0^N^0
"DATA",101.24,48,3,11,0)
Transcription Time^1^12^0^0^^0^N^0
"DATA",101.24,48,4)
3:4
"DATA",101.24,1032,0)
ORRPW ALLERGIES ADV^OR_BADR^1^6^ORDV01^HSQUERY^0^R^^^^V^484^^^^^^ADR^ORDV01^73
"DATA",101.24,1032,2)
^^Allergies^Allergies^^^^^GMRADPT
"DATA",101.24,1032,3,0)
^101.243^8^8
"DATA",101.24,1032,3,1,0)
Facility^^1^^^10^1
"DATA",101.24,1032,3,2,0)
Allergy Type^^4^^0^10^1
"DATA",101.24,1032,3,3,0)
Allergy Reactant^^3^^0^20^1^Reactant
"DATA",101.24,1032,3,4,0)
Verification Date/Time^^5^^0^18^1^^2
"DATA",101.24,1032,3,5,0)
Observed/Historical^^6^^^13^1^Observed/Hist
"DATA",101.24,1032,3,6,0)
ID^1^2
"DATA",101.24,1032,3,7,0)
Comments^1^7^1^1^^1
"DATA",101.24,1032,3,8,0)
Allergy IEN^1^8^0^0^^0^N^0
"DATA",101.24,1032,4)
5:3
"DATA",101.24,1078,0)
ORRPW PHARMACY ACT OUT^OR_RXA^1^6^ORDV01^HSQUERY^0^R^^^^V^484^^^^^^RXA^ORDV06
"DATA",101.24,1078,2)
^^Active Outpatient^RX Active Outpatient^^^^ACS^PSOHCSUM
"DATA",101.24,1078,3,0)
^101.243^17^17
"DATA",101.24,1078,3,1,0)
Facility^^1^^^10^1
"DATA",101.24,1078,3,2,0)
Drug Name                  ^^3^^1^19^1^Drug
"DATA",101.24,1078,3,3,0)
Drug ien^1^4
"DATA",101.24,1078,3,4,0)
RX #     ^^5^^0^10^1^RX #^1
"DATA",101.24,1078,3,5,0)
Status^^6^^^10^0
"DATA",101.24,1078,3,6,0)
Qty^^7^^^5^1^^1
"DATA",101.24,1078,3,7,0)
Exp/Canc Date^^8^^^18^0^^2
"DATA",101.24,1078,3,8,0)
Issue Date    ^^9^^1^18^0^Issue Date^2
"DATA",101.24,1078,3,9,0)
Last Fill Date^^10^^^18^0^^2
"DATA",101.24,1078,3,10,0)
Rem^^11^^^5^1^^1
"DATA",101.24,1078,3,11,0)
Provider^^12^^^12^0
"DATA",101.24,1078,3,12,0)
Cost/Fill^^13^^^10^0^^1
"DATA",101.24,1078,3,13,0)
SIG^^15^^1^10^1
"DATA",101.24,1078,3,14,0)
ID^1^2
"DATA",101.24,1078,3,15,0)
[+]^^14
"DATA",101.24,1078,3,16,0)
Pharmacy ID^1^16^0^0^^0^N^0
"DATA",101.24,1078,3,17,0)
Order Number ^1^17^0^0^^0^N^0
"DATA",101.24,1078,4)
9:3
"DATA",101.24,1079,0)
ORRPW PHARMACY ALL OUT^OR_RXOP^1^6^ORDV01^HSQUERY^0^R^^^^V^484^^^^^^RXOP^ORDV06^28
"DATA",101.24,1079,2)
^^All Outpatient^RX All Outpatient^^^^ACS^PSOHCSUM
"DATA",101.24,1079,3,0)
^101.243^17^17
"DATA",101.24,1079,3,1,0)
Facility^^1^^^10^1
"DATA",101.24,1079,3,2,0)
Drug Name               ^^3^^1^19^1^Drug
"DATA",101.24,1079,3,3,0)
Drug ien^1^4
"DATA",101.24,1079,3,4,0)
RX #     ^^5^^0^10^1^RX #^1
"DATA",101.24,1079,3,5,0)
Status^^6^^^8^0
"DATA",101.24,1079,3,6,0)
Qty^^7^^^5^1^^1
"DATA",101.24,1079,3,7,0)
Exp/Canc Date^^8^^^18^0^^2
"DATA",101.24,1079,3,8,0)
Issue Date    ^^9^^1^18^0^Issue Date^2
"DATA",101.24,1079,3,9,0)
Last Fill Date^^10^^^18^0^^2
"DATA",101.24,1079,3,10,0)
Rem^^11^^^5^1^^1
"DATA",101.24,1079,3,11,0)
Provider^^12^^^12^0
"DATA",101.24,1079,3,12,0)
Cost/Fill^^13^^^10^0^^1
"DATA",101.24,1079,3,13,0)
SIG^^15^^1^12^1
"DATA",101.24,1079,3,14,0)
ID^1^2
"DATA",101.24,1079,3,15,0)
[+]^^14
"DATA",101.24,1079,3,16,0)
Pharmacy ID^1^16^0^0^^0^N^0
"DATA",101.24,1079,3,17,0)
Order Number^1^17^0^0^^0^N^0
"DATA",101.24,1079,4)
9:3
"DATA",101.24,1100,0)
ORRPW ORDERS CURRENT^OR_ORC^1^6^ORDV01^HSQUERY^6^R^^^^V^484^^^^^^ORC^ORDV04^54
"DATA",101.24,1100,2)
^^Orders Current^Orders Current^^^^ORCVA^ORDV04
"DATA",101.24,1100,3,0)
^101.243^8^8
"DATA",101.24,1100,3,1,0)
Facility^^1^^^10^1
"DATA",101.24,1100,3,2,0)
Item Ordered                                           ^^3^1^1^^1^Item Ordered
"DATA",101.24,1100,3,3,0)
Current Status^^4^^0^10^1^Status
"DATA",101.24,1100,3,4,0)
Start Date/Time    ^^5^^1^18^1^Start Date/Time^2
"DATA",101.24,1100,3,5,0)
Stop Date/Time     ^^6^^^18^1^Stop Date/Time^2
"DATA",101.24,1100,3,6,0)
ID^1^2
"DATA",101.24,1100,3,7,0)
[+]^^7
"DATA",101.24,1100,3,8,0)
Order Number^1^8^0^0^^0^N^0
"DATA",101.24,1100,4)
5:3
"DATA",101.24,1105,0)
ORRPW DOD PHARM ALL OUT^OR_DODRXOP^1^6^ORDV01^HSQUERY^0^R^^^^V^484^^^^^^RXOP^ORDV06^28
"DATA",101.24,1105,2)
^^Pharmacy All Outpatient^DOD Pharmacy All Outpatient^^^^^PSOHCSUM
"DATA",101.24,1105,3,0)
^101.243^17^17
"DATA",101.24,1105,3,1,0)
Facility^^1^^^10^1
"DATA",101.24,1105,3,2,0)
Drug Name               ^^3^^1^19^1^Drug
"DATA",101.24,1105,3,3,0)
Drug ien^1^4
"DATA",101.24,1105,3,4,0)
RX #     ^^5^^0^10^1^RX #^1
"DATA",101.24,1105,3,5,0)
Status^^6^^^8^1
"DATA",101.24,1105,3,6,0)
Qty^^7^^^5^1^^1
"DATA",101.24,1105,3,7,0)
Exp/Canc Date^^8^^^18^1^^2
"DATA",101.24,1105,3,8,0)
Issue Date    ^^9^^1^18^1^Issue Date^2
"DATA",101.24,1105,3,9,0)
Last Fill Date^^10^^^18^1^^2
"DATA",101.24,1105,3,10,0)
Rem^^11^^^5^1^^1
"DATA",101.24,1105,3,11,0)
Provider^^12^^^12^1
"DATA",101.24,1105,3,12,0)
Cost/Fill^^13^^^10^1^^1
"DATA",101.24,1105,3,13,0)
SIG^^15^^1^12^1
"DATA",101.24,1105,3,14,0)
ID^1^2
"DATA",101.24,1105,3,15,0)
[+]^^14
"DATA",101.24,1105,3,16,0)
Pharmacy ID^1^16^0^0^^0^^0
"DATA",101.24,1105,3,17,0)
Order Number^1^17^0^0^^0^^0
"DATA",101.24,1105,4)
9:3
"DATA",101.24,1137,0)
ORRPW DOD ALLERGIES ADV^OR_DODBADR^1^6^ORDV01^HSQUERY^0^R^^^^V^484^^^^^^ADR^ORDV01^73
"DATA",101.24,1137,2)
^^Allergies^DOD Allergies^^^^^GMRADPT
"DATA",101.24,1137,3,0)
^101.243^8^8
"DATA",101.24,1137,3,1,0)
Facility^^1^^^10^1
"DATA",101.24,1137,3,2,0)
Allergy Type^^4^^0^10^1
"DATA",101.24,1137,3,3,0)
Allergy Reactant^^3^^0^20^1^Reactant
"DATA",101.24,1137,3,4,0)
Verification Date/Time^^5^^0^18^1^^2
"DATA",101.24,1137,3,5,0)
Observed/Historical^^6^^^13^1^Observed/Hist
"DATA",101.24,1137,3,6,0)
ID^1^2
"DATA",101.24,1137,3,7,0)
Comments^1^7^1^1^^1
"DATA",101.24,1137,3,8,0)
Allergy IEN^1^8^0^0^^0^^0
"DATA",101.24,1137,4)
5:3
"DATA",101.24,1551,0)
ORRPW HDR ALLERGIES^OR_VWAL^2^6^ORDV01^HSQUERY^0^R^^^^V^484^^^^^^ADR^ORDV01^73
"DATA",101.24,1551,2)
^^Allergies^Allergies HDR^^^^^GMRADPT
"DATA",101.24,1551,3,0)
^101.243^8^8
"DATA",101.24,1551,3,1,0)
Facility^^1^^^10^1
"DATA",101.24,1551,3,2,0)
Allergy Type^^4^^0^10^1
"DATA",101.24,1551,3,3,0)
Allergy Reactant^^3^^0^20^1^Reactant
"DATA",101.24,1551,3,4,0)
Verification Date/Time^^5^^0^18^1^^2
"DATA",101.24,1551,3,5,0)
Observed/Historical^^6^^^13^1^Observed/Hist
"DATA",101.24,1551,3,6,0)
ID^1^2
"DATA",101.24,1551,3,7,0)
Comments^1^7^1^1^^1
"DATA",101.24,1551,3,8,0)
Allergy IEN^1^8^0^0^^0^^0
"DATA",101.24,1551,4)
5:3^^^^1^ORWRP4A^ADR
"DATA",101.24,1553,0)
ORRPW HDR PHARMACY OUT^OR_VWRX^2^6^ORDV01^HSQUERY^0^R^^^^V^484^^^^^^RXOP^ORDV06^28
"DATA",101.24,1553,2)
^^Pharmacy All Outpatient^Pharmacy All Outpatient HDR^^^^^PSOHCSUM
"DATA",101.24,1553,3,0)
^101.243^17^17
"DATA",101.24,1553,3,1,0)
Facility^^1^^^10^1
"DATA",101.24,1553,3,2,0)
Drug Name               ^^3^^1^19^1^Drug
"DATA",101.24,1553,3,3,0)
Drug ien^1^4
"DATA",101.24,1553,3,4,0)
RX #     ^^5^^0^10^1^RX #^1
"DATA",101.24,1553,3,5,0)
Status^^6^^^8^1
"DATA",101.24,1553,3,6,0)
Qty^^7^^^5^1^^1
"DATA",101.24,1553,3,7,0)
Exp/Canc Date^^8^^^18^1^^2
"DATA",101.24,1553,3,8,0)
Issue Date    ^^9^^1^18^1^Issue Date^2
"DATA",101.24,1553,3,9,0)
Last Fill Date^^10^^^18^1^^2
"DATA",101.24,1553,3,10,0)
Rem^^11^^^5^1^^1
"DATA",101.24,1553,3,11,0)
Provider^^12^^^12^1
"DATA",101.24,1553,3,12,0)
Cost/Fill^^13^^^10^1^^1
"DATA",101.24,1553,3,13,0)
SIG^^15^^1^12^1
"DATA",101.24,1553,3,14,0)
ID^1^2
"DATA",101.24,1553,3,15,0)
[+]^^14
"DATA",101.24,1553,3,16,0)
Pharmacy ID^1^16^0^0^^0^N^0
"DATA",101.24,1553,3,17,0)
Order Number^1^17^0^0^^0^^0
"DATA",101.24,1553,4)
9:3^^^^1^ORWRP4P^PSO
"FIA",101.24)
OE/RR REPORT
"FIA",101.24,0)
^ORD(101.24,
"FIA",101.24,0,0)
101.24I
"FIA",101.24,0,1)
n^n^f^^y^^y^r^n
"FIA",101.24,0,10)

"FIA",101.24,0,11)
I Y=1032!(Y=1100)!(Y=1079)!(Y=48)!(Y=1137)!(Y=1551)!(Y=1553)!(Y=1105)!(Y=1078)
"FIA",101.24,0,"RLRO")

"FIA",101.24,0,"VR")
3.0^OR
"FIA",101.24,101.24)
0
"FIA",101.24,101.241)
0
"FIA",101.24,101.243)
0
"FRV1",101.24,"1032,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"1032,0",13,"F")
;XWB(8994,
"FRV1",101.24,"1032,0",21)
ADVERSE REACTIONS/ALLERG BRIEF
"FRV1",101.24,"1032,0",21,"F")
;GMT(142.1,
"FRV1",101.24,"1078,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"1078,0",13,"F")
;XWB(8994,
"FRV1",101.24,"1079,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"1079,0",13,"F")
;XWB(8994,
"FRV1",101.24,"1079,0",21)
PHARMACY OUTPATIENT
"FRV1",101.24,"1079,0",21,"F")
;GMT(142.1,
"FRV1",101.24,"1100,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"1100,0",13,"F")
;XWB(8994,
"FRV1",101.24,"1100,0",21)
ORDERS CURRENT
"FRV1",101.24,"1100,0",21,"F")
;GMT(142.1,
"FRV1",101.24,"1105,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"1105,0",13,"F")
;XWB(8994,
"FRV1",101.24,"1105,0",21)
PHARMACY OUTPATIENT
"FRV1",101.24,"1105,0",21,"F")
;GMT(142.1,
"FRV1",101.24,"1137,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"1137,0",13,"F")
;XWB(8994,
"FRV1",101.24,"1137,0",21)
ADVERSE REACTIONS/ALLERG BRIEF
"FRV1",101.24,"1137,0",21,"F")
;GMT(142.1,
"FRV1",101.24,"1551,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"1551,0",13,"F")
;XWB(8994,
"FRV1",101.24,"1551,0",21)
ADVERSE REACTIONS/ALLERG BRIEF
"FRV1",101.24,"1551,0",21,"F")
;GMT(142.1,
"FRV1",101.24,"1553,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"1553,0",13,"F")
;XWB(8994,
"FRV1",101.24,"1553,0",21)
PHARMACY OUTPATIENT
"FRV1",101.24,"1553,0",21,"F")
;GMT(142.1,
"FRV1",101.24,"48,0",13)
ORWRP REPORT TEXT
"FRV1",101.24,"48,0",13,"F")
;XWB(8994,
"INI")
PRE^ORY274
"INIT")
POST^ORY274
"MBREQ")
0
"PGL",101.24,0,13,.13)
RPC^P8994'^XWB(8994,^0;13^Q
"PGL",101.24,0,18,.18)
DETAIL REPORT^*P101.24'^ORD(101.24,^0;18^S DIC("S")="I $P(^(0),""^"",8)=""CD""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"PGL",101.24,0,21,.192)
REPORT COMPONENT^P142.1'^GMT(142.1,^0;21^Q
"PKG",110,-1)
1^1
"PKG",110,0)
ORDER ENTRY/RESULTS REPORTING^OR^Order Entry/Results Reporting
"PKG",110,20,0)
^9.402P^^
"PKG",110,22,0)
^9.49I^1^1
"PKG",110,22,1,0)
3.0^2971217
"PKG",110,22,1,"PAH",1,0)
274^3070928
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
5
"RTN","ORDV01")
0^1^B19087543^B20007569
"RTN","ORDV01",1,0)
ORDV01 ; slc/dcm - OE/RR Report Extracts ;10/8/03  11:18
"RTN","ORDV01",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**109,160,180,208,215,274**;Dec 17, 1997;Build 20
"RTN","ORDV01",3,0)
HSQUERY(ROOT,ORDFN,ID,ORALPHA,OROMEGA,ORDTRNG,REMOTE,ORMAX,ORFHIE) ; -- Query to Health Summary Reports
"RTN","ORDV01",4,0)
 N OUT,ORDBEG,ORDEND,OREXT
"RTN","ORDV01",5,0)
 Q:'$L($G(ID))
"RTN","ORDV01",6,0)
 I '$L($P(ID,";",2)),$P(ID,";",3),$L($T(HSTYPE^ORWRP1))&($L($T(GCPR^OMGCOAS1))),$L($G(ORFHIE)) D  Q  ;Call if FHIE station 200
"RTN","ORDV01",7,0)
 . D GCPR^OMGCOAS1(DFN,ORFHIE,ORALPHA,OROMEGA,$G(ORMAX,100))
"RTN","ORDV01",8,0)
 . S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV01",9,0)
 I '$L($P(ID,";",2)),$P(ID,";",3),$L($T(HSTYPE^ORWRP1)) D HSTYPE^ORWRP1(ROOT,ORDFN,$P(ID,";",3),.ORALPHA,.OROMEGA,.ORDTRNG,.REMOTE) Q
"RTN","ORDV01",10,0)
 Q:'$L($P(ID,";",2))
"RTN","ORDV01",11,0)
 S OUT=$P(ID,";")_"^"_$P(ID,";",2),OREXT=$S($L($P(ID,";",8)):$P(ID,";",7,9),1:"")
"RTN","ORDV01",12,0)
 Q:'$L($T(@OUT))
"RTN","ORDV01",13,0)
 S:'$G(ORALPHA) ORALPHA=$$FMADD^XLFDT(DT,-2000) S:'$G(OROMEGA) OROMEGA=$$FMADD^XLFDT(DT,1)
"RTN","ORDV01",14,0)
 I $E(OROMEGA,8)'="." S OROMEGA=OROMEGA_".235959"
"RTN","ORDV01",15,0)
 S OROMEGA=9999999-OROMEGA,ORALPHA=9999999-ORALPHA
"RTN","ORDV01",16,0)
 S ORDBEG=$S(ORALPHA=9999999:1,1:9999999-ORALPHA)
"RTN","ORDV01",17,0)
 S ORDEND=$S(OROMEGA=6666666:9999999,$P(OROMEGA,".",2)="01":$P(9999999-OROMEGA,".")_".235959",1:9999999-OROMEGA)
"RTN","ORDV01",18,0)
 S:'$G(ORMAX) ORMAX=100
"RTN","ORDV01",19,0)
 S OUT=OUT_"(.ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT)"
"RTN","ORDV01",20,0)
 D @OUT
"RTN","ORDV01",21,0)
 Q
"RTN","ORDV01",22,0)
ADR(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;adverse/reaction allergies
"RTN","ORDV01",23,0)
 ;External calls to ^GMRADPT, file 120.8
"RTN","ORDV01",24,0)
 ;Date ranges and Max Occurances are not supported by ^GMTADPT, but Max Occ is enforced in following FOR loop
"RTN","ORDV01",25,0)
 ;
"RTN","ORDV01",26,0)
 I $L($T(GCPR^OMGCOAS1)) D  Q  ; Call if FHIE station 200
"RTN","ORDV01",27,0)
 . ;D GCPR^OMGCOAS1(DFN,"ALRG",ORDBEG,ORDEND,ORMAX) ;Next 2 lines for HDRHX CHANGE
"RTN","ORDV01",28,0)
 . I $E($P(OREXT,";",3),1,8)="OR_HDRX_",$L($T(HX^OMGCOAS1)) D HX^OMGCOAS1(DFN,$P(OREXT,";",3),ORDBEG,ORDEND,ORMAX)
"RTN","ORDV01",29,0)
 . I $E($P(OREXT,";",3),1,8)'="OR_HDRX_"  D GCPR^OMGCOAS1(DFN,"ALRG",ORDBEG,ORDEND,ORMAX)
"RTN","ORDV01",30,0)
 . S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV01",31,0)
 ;
"RTN","ORDV01",32,0)
 N I,ORI,D0,ARR,GMRA,GMRAL,ALLRG,ORSITE,SITE,GO,DIC,DIQ,DR,DA,C1,C2,LINE,LINE1,CDT,CTR,X
"RTN","ORDV01",33,0)
 Q:'$L(OREXT)
"RTN","ORDV01",34,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV01",35,0)
 Q:'$L($T(@GO))
"RTN","ORDV01",36,0)
 S GMRA="0^0^111",ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV01",37,0)
 K ^TMP("ORDATA",$J)
"RTN","ORDV01",38,0)
 D @GO
"RTN","ORDV01",39,0)
 I GMRAL=""!(GMRAL=0) S ^TMP("ORDATA",$J,1,"WP",1)="1^"_ORSITE,^(2)="2^"_$S(GMRAL="":"Not Assessed",1:"NKA")
"RTN","ORDV01",40,0)
 S D0=0
"RTN","ORDV01",41,0)
 F ORI=1:1 S D0=$O(GMRAL(D0)) Q:'D0  D
"RTN","ORDV01",42,0)
 . S SITE=$S($L($G(GMRAL(D0,"facility"))):GMRAL(D0,"facility"),1:ORSITE)
"RTN","ORDV01",43,0)
 . K ARR,LINE,LINE1
"RTN","ORDV01",44,0)
 . S DIC=120.8,DA=D0,DR="3.1;.02;20;6",DIQ="ARR" D EN^DIQ1
"RTN","ORDV01",45,0)
 . S DIQ=$E(DIQ,1,$L(DIQ)-1)
"RTN","ORDV01",46,0)
 . S ^TMP("ORDATA",$J,ORI,"WP",1)="1^"_SITE ;Station ID
"RTN","ORDV01",47,0)
 . S ^TMP("ORDATA",$J,ORI,"WP",2)="2^"_@DIQ@(120.8,DA,.02) ;Allergy Reactant
"RTN","ORDV01",48,0)
 . S ^TMP("ORDATA",$J,ORI,"WP",3)="3^"_@DIQ@(120.8,DA,3.1) ;Allergy Type
"RTN","ORDV01",49,0)
 . S ^TMP("ORDATA",$J,ORI,"WP",4)="4^"_$$DATEMMM^ORDVU(@DIQ@(120.8,DA,20)) ;Verification Date/Time
"RTN","ORDV01",50,0)
 . S ^TMP("ORDATA",$J,ORI,"WP",5)="5^"_@DIQ@(120.8,DA,6) ;Observed/Historical
"RTN","ORDV01",51,0)
 . S ^TMP("ORDATA",$J,ORI,"WP",7)="7^"_DA ;Allergy IEN
"RTN","ORDV01",52,0)
 . S C1="",CTR=0
"RTN","ORDV01",53,0)
 . F I=1:1:10 K ARAY,ERR S CDT=$$GET1^DIQ(120.826,I_","_DA_",",".01","I") I $L(CDT) D
"RTN","ORDV01",54,0)
 .. S LINE(CDT)=$$GET1^DIQ(120.826,I_","_DA_",","1")_"^"_$$GET1^DIQ(120.826,I_","_DA_",","1.5")
"RTN","ORDV01",55,0)
 .. S X=$$GET1^DIQ(120.826,I_","_DA_",","2","","ARAY","ERR") I $L(X),'$D(ERR) D
"RTN","ORDV01",56,0)
 ... S C1="" F  S C1=$O(ARAY(C1)) Q:C1=""  S LINE(CDT,"C",C1)=ARAY(C1)
"RTN","ORDV01",57,0)
 . S C1="" F  S C1=$O(LINE(C1)) Q:C1=""  S X=LINE(C1) D
"RTN","ORDV01",58,0)
 .. S CTR=CTR+1,LINE1("C",CTR)=" "_$TR($$FMTE^XLFDT(C1,"5ZM"),"@"," ")_" by "_$P(X,"^")_" ("_$P(X,"^",2)_")",C2=""
"RTN","ORDV01",59,0)
 .. F  S C2=$O(LINE(C1,"C",C2)) Q:C2=""  S CTR=CTR+1,LINE1("C",CTR)="  "_LINE(C1,"C",C2)
"RTN","ORDV01",60,0)
 . D SPMRG^ORDVU("LINE1(""C"")","^TMP(""ORDATA"","_$J_","_ORI_",""WP"",6)",6) ;Comment
"RTN","ORDV01",61,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV01",62,0)
 Q
"RTN","ORDV01",63,0)
ADRZ(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;adverse/reaction allergies (Old extract - not used)
"RTN","ORDV01",64,0)
 ;External calls to ^GMTADPT, file 120.8
"RTN","ORDV01",65,0)
 ;Date ranges and Max Occurances are not supported by ^GMTADPT, but Max Occ is enforced in following FOR loop
"RTN","ORDV01",66,0)
 N ORI,D0,ARR,GMRA,GMRAL,ALLRG,ORSITE,SITE,GO
"RTN","ORDV01",67,0)
 Q:'$L(OREXT)
"RTN","ORDV01",68,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV01",69,0)
 Q:'$L($T(@GO))
"RTN","ORDV01",70,0)
 S GMRA="0^0^111",ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV01",71,0)
 K ^TMP("ORHSADR",$J)
"RTN","ORDV01",72,0)
 D @GO
"RTN","ORDV01",73,0)
 I GMRAL="" Q
"RTN","ORDV01",74,0)
 S D0=0
"RTN","ORDV01",75,0)
 F ORI=1:1 S D0=$O(GMRAL(D0)) Q:'D0  D
"RTN","ORDV01",76,0)
 . S SITE=$S($L($G(GMRAL(D0,"facility"))):GMRAL(D0,"facility"),1:ORSITE)
"RTN","ORDV01",77,0)
 . K ARR
"RTN","ORDV01",78,0)
 . S DIC=120.8,DA=D0,DR="3.1;.02;20;6",DIQ="ARR" D EN^DIQ1
"RTN","ORDV01",79,0)
 . S DIQ=$E(DIQ,1,$L(DIQ)-1)
"RTN","ORDV01",80,0)
 . S ^TMP("ORHSADR",$J,ORI)=SITE_U_U_@DIQ@(120.8,DA,3.1)_U_@DIQ@(120.8,DA,.02)_U_$$DATEMMM^ORDVU(@DIQ@(120.8,DA,20))_U_@DIQ@(120.8,DA,6)
"RTN","ORDV01",81,0)
 S ROOT=$NA(^TMP("ORHSADR",$J))
"RTN","ORDV01",82,0)
 Q
"RTN","ORDV04")
0^2^B73242012^B72766284
"RTN","ORDV04",1,0)
ORDV04 ; SLC/DAN - OE/RR ;7/21/04  15:32
"RTN","ORDV04",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**109,148,160,208,195,241,215,274**;Dec 17,1997;Build 20
"RTN","ORDV04",3,0)
 ;OE/RR COMPONENT
"RTN","ORDV04",4,0)
 ;
"RTN","ORDV04",5,0)
 ; ^TMP("GMPLHS",$J) used per DBIA 1183
"RTN","ORDV04",6,0)
 ; ^UTILITY and ^TMP("GMRVD") used per DBIA 10061
"RTN","ORDV04",7,0)
 ; 
"RTN","ORDV04",8,0)
ORC(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ; Current Orders
"RTN","ORDV04",9,0)
 ;External calls to EN^ORQ1, ^OR(100
"RTN","ORDV04",10,0)
 N ORCNT,ORJ,ORSITE,SITE,ORX0,ORLIST,GO
"RTN","ORDV04",11,0)
 Q:'$L(OREXT)
"RTN","ORDV04",12,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV04",13,0)
 Q:'$L($T(@GO))
"RTN","ORDV04",14,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV04",15,0)
 K ^TMP("ORR",$J),^TMP("ORDATA",$J)
"RTN","ORDV04",16,0)
 D @GO
"RTN","ORDV04",17,0)
 I '$D(^TMP("ORR",$J)) Q
"RTN","ORDV04",18,0)
 S ORCNT=0,ORJ=0
"RTN","ORDV04",19,0)
 F  S ORJ=$O(^TMP("ORR",$J,ORLIST,ORJ)) Q:'+ORJ!(ORCNT'<ORMAX)  S ORX0=^(ORJ) D
"RTN","ORDV04",20,0)
 . S ORCNT=ORCNT+1,SITE=$S($L($G(^TMP("ORR",$J,ORLIST,ORJ,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV04",21,0)
 . S ^TMP("ORDATA",$J,ORLIST,ORJ,"WP",1)="1^"_SITE ;Station ID
"RTN","ORDV04",22,0)
 . D SPMRG^ORDVU("^TMP(""ORR"","_$J_","""_ORLIST_""","_ORJ_",""TX"")","^TMP(""ORDATA"","_$J_","""_ORLIST_""","_ORJ_",""WP"",2)",2) ;order text
"RTN","ORDV04",23,0)
 . S ^TMP("ORDATA",$J,ORLIST,ORJ,"WP",3)="3^"_$P(ORX0,"^",6) ; status
"RTN","ORDV04",24,0)
 . S ^TMP("ORDATA",$J,ORLIST,ORJ,"WP",4)="4^"_$$DATE^ORDVU($P(ORX0,"^",4)) ;start date
"RTN","ORDV04",25,0)
 . S ^TMP("ORDATA",$J,ORLIST,ORJ,"WP",5)="5^"_$$DATE^ORDVU($P(ORX0,"^",5)) ;stop date
"RTN","ORDV04",26,0)
 . S ^TMP("ORDATA",$J,ORLIST,ORJ,"WP",7)="7^"_$P(^TMP("ORR",$J,ORLIST,ORJ),U) ;Order Number
"RTN","ORDV04",27,0)
 . I $O(^TMP("ORR",$J,ORLIST,ORJ,"TX",1)) S ^TMP("ORDATA",$J,ORLIST,ORJ,"WP",6)="6^[+]" ;flag for details
"RTN","ORDV04",28,0)
 K ^TMP("ORR",$J)
"RTN","ORDV04",29,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",30,0)
 Q
"RTN","ORDV04",31,0)
ORCVA ;VA call to get Current Orders
"RTN","ORDV04",32,0)
 N ORVP
"RTN","ORDV04",33,0)
 S ORVP=DFN_";DPT("
"RTN","ORDV04",34,0)
 I '$D(^OR(100,"AC",ORVP)) Q
"RTN","ORDV04",35,0)
 D EN^ORQ1(ORVP,,2,,ORDBEG,ORDEND,1) ;get current orders. ORLIST is set in ORQ1
"RTN","ORDV04",36,0)
 Q
"RTN","ORDV04",37,0)
PLAILALL(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;Problem list API returns ALL problems
"RTN","ORDV04",38,0)
 N GO
"RTN","ORDV04",39,0)
 Q:'$L(OREXT)
"RTN","ORDV04",40,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV04",41,0)
 Q:'$L($T(@GO))
"RTN","ORDV04",42,0)
 D PLAIL
"RTN","ORDV04",43,0)
 Q
"RTN","ORDV04",44,0)
PLALL ;Jump here for All Problems
"RTN","ORDV04",45,0)
 D GETLIST^GMPLHS(DFN,"ALL")
"RTN","ORDV04",46,0)
 Q
"RTN","ORDV04",47,0)
PLAILI(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;Problem list API returns INACTIVE problems
"RTN","ORDV04",48,0)
 N GO
"RTN","ORDV04",49,0)
 Q:'$L(OREXT)
"RTN","ORDV04",50,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV04",51,0)
 Q:'$L($T(@GO))
"RTN","ORDV04",52,0)
 D PLAIL
"RTN","ORDV04",53,0)
 Q
"RTN","ORDV04",54,0)
PLI ;Jump here for Inactive Problems
"RTN","ORDV04",55,0)
 D GETLIST^GMPLHS(DFN,"I")
"RTN","ORDV04",56,0)
 Q
"RTN","ORDV04",57,0)
PLAILA(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;Problem list API returns ACTIVE problems
"RTN","ORDV04",58,0)
 N GO
"RTN","ORDV04",59,0)
 Q:'$L(OREXT)
"RTN","ORDV04",60,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV04",61,0)
 Q:'$L($T(@GO))
"RTN","ORDV04",62,0)
 D PLAIL
"RTN","ORDV04",63,0)
 Q
"RTN","ORDV04",64,0)
PLA ;Jump here for Active Problems
"RTN","ORDV04",65,0)
 D GETLIST^GMPLHS(DFN,"A")
"RTN","ORDV04",66,0)
 Q
"RTN","ORDV04",67,0)
PLAIL ;problems(active, inactive or all)
"RTN","ORDV04",68,0)
 ;External calls to ^GMPLHS
"RTN","ORDV04",69,0)
 ; input:
"RTN","ORDV04",70,0)
 ;   STATUS = "A"   to produce active problems
"RTN","ORDV04",71,0)
 ;   STATUS = "I"   to produce inactive problems
"RTN","ORDV04",72,0)
 ;   STATUS = "ALL" to produce all problems
"RTN","ORDV04",73,0)
 ;
"RTN","ORDV04",74,0)
 N ORPROBNO,ORXREC0,ORLOC,I,K,X,ORSITE,SITE,ORMORE
"RTN","ORDV04",75,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV04",76,0)
 K ^TMP("ORDATA",$J),^TMP("GMPLHS",$J)  ;DBIA #1183
"RTN","ORDV04",77,0)
 D @GO
"RTN","ORDV04",78,0)
 I '$D(^TMP("GMPLHS",$J)) Q
"RTN","ORDV04",79,0)
 S ORPROBNO=0
"RTN","ORDV04",80,0)
 F I=1:1:ORMAX S ORPROBNO=$O(^TMP("GMPLHS",$J,ORPROBNO)) Q:'ORPROBNO  D
"RTN","ORDV04",81,0)
 . S ORXREC0=$G(^TMP("GMPLHS",$J,ORPROBNO,0)),ORMORE=0
"RTN","ORDV04",82,0)
 . S SITE=$S($L($G(^TMP("GMPLHS",$J,ORPROBNO,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV04",83,0)
 . S ^TMP("ORDATA",$J,ORPROBNO,"WP",1)="1^"_SITE ;Station ID
"RTN","ORDV04",84,0)
 . S ^TMP("ORDATA",$J,ORPROBNO,"WP",2)="2^"_$P(ORXREC0,U,5) ;status
"RTN","ORDV04",85,0)
 . S ^TMP("ORDATA",$J,ORPROBNO,"WP",3)="3^"_$G(^TMP("GMPLHS",$J,ORPROBNO,"N")) ;provider narrative
"RTN","ORDV04",86,0)
 . S ^TMP("ORDATA",$J,ORPROBNO,"WP",4)="4^"_$$DATE^ORDVU($P(ORXREC0,U,6)) ;onset date
"RTN","ORDV04",87,0)
 . S ^TMP("ORDATA",$J,ORPROBNO,"WP",5)="5^"_$$DATE^ORDVU($P(ORXREC0,U,2)) ;last modified date
"RTN","ORDV04",88,0)
 . S ^TMP("ORDATA",$J,ORPROBNO,"WP",6)="6^"_$P(ORXREC0,U,7) ;provider
"RTN","ORDV04",89,0)
 . S ORLOC=0,K=0
"RTN","ORDV04",90,0)
 . F  S ORLOC=$O(^TMP("GMPLHS",$J,ORPROBNO,"C",ORLOC)) Q:'ORLOC  D
"RTN","ORDV04",91,0)
 .. S X=0
"RTN","ORDV04",92,0)
 .. F  S X=$O(^TMP("GMPLHS",$J,ORPROBNO,"C",ORLOC,X)) Q:'X  D
"RTN","ORDV04",93,0)
 ... S K=K+1,ORMORE=1
"RTN","ORDV04",94,0)
 ... S ^TMP("ORDATA",$J,ORPROBNO,"WP",7,K)="7^"_$P($G(^TMP("GMPLHS",$J,ORPROBNO,"C",ORLOC,X,0)),U) ;note narrative
"RTN","ORDV04",95,0)
 . S ^TMP("ORDATA",$J,ORPROBNO,"WP",8)="8^"_$P(ORXREC0,U,14) ;exposures
"RTN","ORDV04",96,0)
 . I ORMORE S ^TMP("ORDATA",$J,ORPROBNO,"WP",9)="9^[+]" ;flag for details
"RTN","ORDV04",97,0)
 K ^TMP("GMPLHS",$J)
"RTN","ORDV04",98,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",99,0)
 Q
"RTN","ORDV04",100,0)
SR(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;Surgery Report
"RTN","ORDV04",101,0)
 ;External call to ^ORDV04A (external calls are noted in that routine)
"RTN","ORDV04",102,0)
 N ORCNT
"RTN","ORDV04",103,0)
 S ORCNT=0
"RTN","ORDV04",104,0)
 K ^TMP("ORDATA",$J)
"RTN","ORDV04",105,0)
 D ENSR^ORDV04A
"RTN","ORDV04",106,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",107,0)
 Q
"RTN","ORDV04",108,0)
VS(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ; get vital Signs
"RTN","ORDV04",109,0)
 ;External calls to GMRVUT0
"RTN","ORDV04",110,0)
 I $L($T(GCPR^OMGCOAS1)) D  Q  ; OMGCOAS1 routine only on Station 200
"RTN","ORDV04",111,0)
 . D GCPR^OMGCOAS1(DFN,"VIT",ORDBEG,ORDEND,ORMAX)
"RTN","ORDV04",112,0)
 . S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",113,0)
 N ORDT,I,TYPE,IEN,GMRVSTR,ORSITE,SITE,PLACE,GO
"RTN","ORDV04",114,0)
 Q:'$L(OREXT)
"RTN","ORDV04",115,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV04",116,0)
 Q:'$L($T(@GO))
"RTN","ORDV04",117,0)
 K ^UTILITY($J,"GMRVD"),^TMP("ORDATA",$J)
"RTN","ORDV04",118,0)
 S GMRVSTR="T;P;R;BP;HT;WT;PN;PO2;CVP;CG",GMRVSTR(0)=ORDBEG_"^"_ORDEND_"^"_ORMAX_"^"_1
"RTN","ORDV04",119,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV04",120,0)
 D @GO
"RTN","ORDV04",121,0)
 S ORDT=0
"RTN","ORDV04",122,0)
 F I=1:1 S ORDT=$O(^UTILITY($J,"GMRVD",ORDT)) Q:'+ORDT!(I>ORMAX)  D  ;DBIA 10061
"RTN","ORDV04",123,0)
 . S SITE=$S($L($G(^TMP("GMRVD",$J,ORDT,"facility"))):^("facility"),1:ORSITE)  ;DBIA 10061
"RTN","ORDV04",124,0)
 . S ^TMP("ORDATA",$J,"WP",ORDT,1)="1^"_SITE
"RTN","ORDV04",125,0)
 . S ^TMP("ORDATA",$J,"WP",ORDT,2)="2^"_$$DATE^ORDVU(9999999-ORDT) ;date vitals taken
"RTN","ORDV04",126,0)
 . S TYPE=""
"RTN","ORDV04",127,0)
 . F  S TYPE=$O(^UTILITY($J,"GMRVD",ORDT,TYPE)) Q:TYPE=""  D
"RTN","ORDV04",128,0)
 .. S IEN=$O(^UTILITY($J,"GMRVD",ORDT,TYPE,0)) Q:'IEN
"RTN","ORDV04",129,0)
 .. S PLACE=$S(TYPE="T":3,TYPE="P":4,TYPE="R":5,TYPE="BP":6,TYPE="HT":7,TYPE="WT":8,TYPE="PN":9,TYPE="PO2":10,TYPE="CVP":11,TYPE="CG":12,1:13)
"RTN","ORDV04",130,0)
 .. S ^TMP("ORDATA",$J,"WP",ORDT,PLACE)=PLACE_"^"_$P($G(^UTILITY($J,"GMRVD",ORDT,TYPE,IEN)),"^",8) ;Get value of vitals from global
"RTN","ORDV04",131,0)
 K ^UTILITY($J,"GMRVD")
"RTN","ORDV04",132,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",133,0)
 Q
"RTN","ORDV04",134,0)
TIUPRG(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;  TIU version of progress reports
"RTN","ORDV04",135,0)
 ;External calls to TIUSRVLO,TIUSRVR1,VASITE
"RTN","ORDV04",136,0)
 I $L($T(GCPR^OMGCOAS1)) D  Q  ; Call if FHIE station 200
"RTN","ORDV04",137,0)
 . D GCPR^OMGCOAS1(DFN,"PN",ORDBEG,ORDEND,ORMAX)
"RTN","ORDV04",138,0)
 . S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",139,0)
 N ORDT,DATE,ORCI,ORGLOB,ORGLOBA,ORTEMP,ORSITE,SITE,I,ORNODE,GO,ORIMAG
"RTN","ORDV04",140,0)
 Q:'$L(OREXT)
"RTN","ORDV04",141,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV04",142,0)
 Q:'$L($T(@GO))
"RTN","ORDV04",143,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV04",144,0)
 D @GO
"RTN","ORDV04",145,0)
 I '$D(@ORGLOB) Q
"RTN","ORDV04",146,0)
 S ORNODE=0,ORCI=0
"RTN","ORDV04",147,0)
 K ^TMP("ORDATA",$J)
"RTN","ORDV04",148,0)
 F  S ORNODE=$O(@ORGLOB@(ORNODE)) Q:'ORNODE!(ORCI'<ORMAX)  D
"RTN","ORDV04",149,0)
 . S ORTEMP=@ORGLOB@(ORNODE)
"RTN","ORDV04",150,0)
 . S ORIMAG=$P($$RESOLVE^TIUSRVLO($P(ORTEMP,U)),U,10)
"RTN","ORDV04",151,0)
 . S DATE=$P(ORTEMP,U,3)       ;date
"RTN","ORDV04",152,0)
 . S SITE=$S($L($G(@ORGLOB@(ORNODE,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV04",153,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",1)="1^"_SITE ;Station ID
"RTN","ORDV04",154,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",2)="2^"_$P(ORTEMP,U) ;TIU ien
"RTN","ORDV04",155,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",3)="3^"_$$DATE^ORDVU(DATE) ;date
"RTN","ORDV04",156,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",4)="4^"_$P(ORTEMP,U,2) ;type
"RTN","ORDV04",157,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",5)="5^"_$P($P(ORTEMP,U,5),";",2) ;author
"RTN","ORDV04",158,0)
 . S ORCI=ORCI+1
"RTN","ORDV04",159,0)
 . D TGET^TIUSRVR1(.ORGLOBA,$P(ORTEMP,U)) ;Call back to get note text
"RTN","ORDV04",160,0)
 . D SPMRG^ORDVU($NA(@ORGLOBA),$NA(^TMP("ORDATA",$J,ORNODE,"WP",6)),6) ;Notes Text
"RTN","ORDV04",161,0)
 . I $O(@ORGLOBA@(0)) S ^TMP("ORDATA",$J,ORNODE,"WP",7)="7^[+]"
"RTN","ORDV04",162,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",8)="8^"_ORIMAG
"RTN","ORDV04",163,0)
 . K @ORGLOBA
"RTN","ORDV04",164,0)
 K @ORGLOB
"RTN","ORDV04",165,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",166,0)
 Q
"RTN","ORDV04",167,0)
TPRG ;Jump here for Tiu Progress Notes
"RTN","ORDV04",168,0)
 D CONTEXT^TIUSRVLO(.ORGLOB,3,5,DFN,ORDBEG,ORDEND,,ORMAX)
"RTN","ORDV04",169,0)
 Q
"RTN","ORDV04",170,0)
TIUDCS(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;  Discharge Summaries
"RTN","ORDV04",171,0)
 ;External calls to VASITE, DIQ1, TIUSRVLO
"RTN","ORDV04",172,0)
 I $L($T(GCPR^OMGCOAS1)) D  Q  ; Call if FHIE station 200
"RTN","ORDV04",173,0)
 . D GCPR^OMGCOAS1(DFN,"DS",ORDBEG,ORDEND,ORMAX)
"RTN","ORDV04",174,0)
 . S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",175,0)
 N ORGLOB,ORGLOBA,ORI,ORNODE,ORICDIEN,ORARRAY,ORTEMP,ORSITE,SITE,DIC,DR,DIQ,DA,GO
"RTN","ORDV04",176,0)
 Q:'$L(OREXT)
"RTN","ORDV04",177,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV04",178,0)
 Q:'$L($T(@GO))
"RTN","ORDV04",179,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV04",180,0)
 D @GO
"RTN","ORDV04",181,0)
 I '$D(@ORGLOB) Q
"RTN","ORDV04",182,0)
 K ^TMP("ORDATA",$J)
"RTN","ORDV04",183,0)
 S ORNODE=0,ORI=0
"RTN","ORDV04",184,0)
 F  S ORNODE=$O(@ORGLOB@(ORNODE)) Q:'ORNODE!(ORI'<ORMAX)  D
"RTN","ORDV04",185,0)
 . S ORTEMP=@ORGLOB@(ORNODE)
"RTN","ORDV04",186,0)
 . S SITE=$S($L($G(@ORGLOB@(ORNODE,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV04",187,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",1)="1^"_SITE ;Station ID
"RTN","ORDV04",188,0)
 . K ORARRAY S DIC=8925,DA=$P(ORTEMP,U),DR=".05;.07;.08;1202;1502",DIQ="ORARRAY"
"RTN","ORDV04",189,0)
 . D EN^DIQ1
"RTN","ORDV04",190,0)
 . S DIQ="ORARRAY(8925,"_DA_")"
"RTN","ORDV04",191,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",2)="2^"_$$DATEMMM^ORDVU($G(@DIQ@(.07))) ;episode begin date/time
"RTN","ORDV04",192,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",3)="3^"_$$DATEMMM^ORDVU($G(@DIQ@(.08))) ;episode end date/time
"RTN","ORDV04",193,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",4)="4^"_$G(@DIQ@(1202)) ;author/dicator
"RTN","ORDV04",194,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",5)="5^"_$G(@DIQ@(1502)) ;signed by
"RTN","ORDV04",195,0)
 . S ^TMP("ORDATA",$J,ORNODE,"WP",6)="6^"_$G(@DIQ@(.05)) ;status
"RTN","ORDV04",196,0)
 . S ORI=ORI+1
"RTN","ORDV04",197,0)
 . D TGET^TIUSRVR1(.ORGLOBA,$P(ORTEMP,U)) ;Call back to get summary text
"RTN","ORDV04",198,0)
 . D SPMRG^ORDVU($NA(@ORGLOBA),$NA(^TMP("ORDATA",$J,ORNODE,"WP",7)),7) ;summary Text
"RTN","ORDV04",199,0)
 . I $O(@ORGLOBA@(0)) S ^TMP("ORDATA",$J,ORNODE,"WP",8)="8^[+]" ;detail flag
"RTN","ORDV04",200,0)
 . K @ORGLOBA
"RTN","ORDV04",201,0)
 K @ORGLOB
"RTN","ORDV04",202,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV04",203,0)
 Q
"RTN","ORDV04",204,0)
TDCS ;Jump here for TIU Discharge Summary
"RTN","ORDV04",205,0)
 D CONTEXT^TIUSRVLO(.ORGLOB,244,5,DFN,ORDBEG,ORDEND,,ORMAX)
"RTN","ORDV04",206,0)
 Q
"RTN","ORDV06")
0^3^B42164702^B40899303
"RTN","ORDV06",1,0)
ORDV06 ; slc/dkm - OE/RR Report Extracts ;10/8/03  11:17
"RTN","ORDV06",2,0)
 ;;3.0;ORDER ENTRY RESULTS REPORTING;**109,118,167,208,215,274**;Dec 17, 1997;Build 20
"RTN","ORDV06",3,0)
 ;Pharmacy Extracts
"RTN","ORDV06",4,0)
RXA(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;Active Outpatient Pharmacy
"RTN","ORDV06",5,0)
 ;Call to PSOHCSUM
"RTN","ORDV06",6,0)
 ;
"RTN","ORDV06",7,0)
 I $L($T(GCPR^OMGCOAS1)) D  ; Call if FHIE station 200
"RTN","ORDV06",8,0)
 . N BEG,END,MAX
"RTN","ORDV06",9,0)
 . S BEG=0,END=9999999,MAX=9999
"RTN","ORDV06",10,0)
 . D GCPR^OMGCOAS1(DFN,"RXA",BEG,END,MAX)
"RTN","ORDV06",11,0)
 ;
"RTN","ORDV06",12,0)
 N ORRXSTAT,GO,PSOACT
"RTN","ORDV06",13,0)
 Q:'$L(OREXT)
"RTN","ORDV06",14,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV06",15,0)
 Q:'$L($T(@GO))
"RTN","ORDV06",16,0)
 S PSOACT=1,ORRXSTAT="^ACTIVE^ACTIVE/SUSP^"
"RTN","ORDV06",17,0)
 D GET
"RTN","ORDV06",18,0)
 Q
"RTN","ORDV06",19,0)
RXOP(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;All Outpatient Pharmacy
"RTN","ORDV06",20,0)
 ;Call to PSOHCSUM
"RTN","ORDV06",21,0)
 ;
"RTN","ORDV06",22,0)
 I $L($T(GCPR^OMGCOAS1)) D  ; Call if FHIE station 200
"RTN","ORDV06",23,0)
 . N BEG,END,MAX
"RTN","ORDV06",24,0)
 . S BEG=0,END=9999999,MAX=9999
"RTN","ORDV06",25,0)
 . D GCPR^OMGCOAS1(DFN,"RXOP",BEG,END,MAX)
"RTN","ORDV06",26,0)
 ;
"RTN","ORDV06",27,0)
 N ORRXSTAT,GO
"RTN","ORDV06",28,0)
 Q:'$L(OREXT)
"RTN","ORDV06",29,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV06",30,0)
 Q:'$L($T(@GO))
"RTN","ORDV06",31,0)
 S ORRXSTAT=""
"RTN","ORDV06",32,0)
 D GET
"RTN","ORDV06",33,0)
 Q
"RTN","ORDV06",34,0)
GET N J,ORDT,ORI,ORDRGIEN,ORDRG,ORRXNO,ORSTAT,ORQTY,OREXP,ORISSUE,ORLAST,ORREF,ORPRVD,ORCOST,ORSIG
"RTN","ORDV06",35,0)
 N ECD,GMR,GMW,IX,PSOBEGIN,GMTSNDM,GMTS1,GMTS2,ORSITE,SITE
"RTN","ORDV06",36,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV06",37,0)
 S PSOBEGIN=0
"RTN","ORDV06",38,0)
 K ^TMP("ORDATA")
"RTN","ORDV06",39,0)
 I '$L($T(GCPR^OMGCOAS1)) D
"RTN","ORDV06",40,0)
 . K ^TMP("PSOO",$J)
"RTN","ORDV06",41,0)
 . D @GO
"RTN","ORDV06",42,0)
 S (ORDT,ORI)=0
"RTN","ORDV06",43,0)
 F  S ORDT=$O(^TMP("PSOO",$J,ORDT)) Q:(ORDT'>0)  S ORX0=$G(^(ORDT,0)) I ORX0'="" D
"RTN","ORDV06",44,0)
 . I $L(ORRXSTAT),ORRXSTAT'[(U_$P($P(ORX0,U,5),";",2)) Q  ;Check status
"RTN","ORDV06",45,0)
 . S ORI=ORI+1
"RTN","ORDV06",46,0)
 . S SITE=$S($L($G(^TMP("PSOO",$J,ORDT,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV06",47,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",1)="1^"_SITE ;Station ID
"RTN","ORDV06",48,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",2)="2^"_$P($P(ORX0,U,3),";",2) ;Drug Name
"RTN","ORDV06",49,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",3)="3^"_$P($P(ORX0,U,3),";") ;Drug IEN
"RTN","ORDV06",50,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",4)="4^"_$P(ORX0,U,6) ;RX #
"RTN","ORDV06",51,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",5)="5^"_$P($P(ORX0,U,5),";",2) ;Status
"RTN","ORDV06",52,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",6)="6^"_$P(ORX0,U,7) ;Quantity
"RTN","ORDV06",53,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",7)="7^"_$$DATE^ORDVU($P(ORX0,U,11)) ;Exp/Cancel Date
"RTN","ORDV06",54,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",8)="8^"_$$DATE^ORDVU($P(ORX0,U)) ;Issue Date
"RTN","ORDV06",55,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",9)="9^"_$$DATE^ORDVU($P(ORX0,U,2)) ;Last Fill Date
"RTN","ORDV06",56,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",10)="10^"_$P(ORX0,U,8) ;#Refills
"RTN","ORDV06",57,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",11)="11^"_$P($P(ORX0,U,4),";",2) ;Provider
"RTN","ORDV06",58,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",12)="12^"_$P(ORX0,U,10) ;Cost-fill
"RTN","ORDV06",59,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",15)="15^"_$P(ORX0,U,9) ;PharmID
"RTN","ORDV06",60,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",16)="16^"_$P(ORX0,U,11) ;Order Number
"RTN","ORDV06",61,0)
 . S J=0
"RTN","ORDV06",62,0)
 . F  S J=$O(^TMP("PSOO",$J,ORDT,J)) Q:'J  S X=^(J,0),^TMP("ORDATA",$J,ORDT,"WP",14,J)="14^"_X
"RTN","ORDV06",63,0)
 . I $O(^TMP("PSOO",$J,ORDT,1)) S ^TMP("ORDATA",$J,ORDT,"WP",13)="13^[+]" ;flag for detail
"RTN","ORDV06",64,0)
 K ^TMP("PSOO",$J)
"RTN","ORDV06",65,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV06",66,0)
 Q
"RTN","ORDV06",67,0)
RXAV(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;Active IV Pharmacy
"RTN","ORDV06",68,0)
 ;Call to ENHS^PSJEEU0
"RTN","ORDV06",69,0)
 N ORIVSTAT,GO
"RTN","ORDV06",70,0)
 Q:'$L(OREXT)
"RTN","ORDV06",71,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV06",72,0)
 Q:'$L($T(@GO))
"RTN","ORDV06",73,0)
 S ORIVSTAT="^ACTIVE^"
"RTN","ORDV06",74,0)
 D GET1
"RTN","ORDV06",75,0)
 Q
"RTN","ORDV06",76,0)
RXIV(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;  All IV Pharmcy
"RTN","ORDV06",77,0)
 ;Call to ENHS^PSJEEU0
"RTN","ORDV06",78,0)
 N ORIVSTAT,GO
"RTN","ORDV06",79,0)
 Q:'$L(OREXT)
"RTN","ORDV06",80,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV06",81,0)
 Q:'$L($T(@GO))
"RTN","ORDV06",82,0)
 S ORIVSTAT=""
"RTN","ORDV06",83,0)
 D GET1
"RTN","ORDV06",84,0)
 Q
"RTN","ORDV06",85,0)
GET1 N ORDT,ORI,ORX0,ORIDRG,ORDRGIEN,ORDRG,ORDOSE,ORREC,ORSTAT,ORSTRTDT,ORSTOPDT,ORROUT,ORSIG,ORWII,ORMORE
"RTN","ORDV06",86,0)
 N GMI,GMTSIDT,MAX,ON,PS,PSIVREA,PSJEDT,PSJNKF,PSJPFWD,TN,GMTSNDM,GMTS1,GMTS2,ORSITE,SITE
"RTN","ORDV06",87,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV06",88,0)
 S PSJEDT=1,PSJNKF=1
"RTN","ORDV06",89,0)
 K ^TMP("ORDATA"),^UTILITY("PSG",$J),^UTILITY("PSIV",$J)
"RTN","ORDV06",90,0)
 D @GO
"RTN","ORDV06",91,0)
 S ORDT=-9999999,ORI=0
"RTN","ORDV06",92,0)
 F  S ORDT=$O(^UTILITY("PSIV",$J,ORDT)) Q:(ORDT="")  S ORX0=$G(^(ORDT,0)) I ORX0'="" D
"RTN","ORDV06",93,0)
 . I $L(ORIVSTAT),ORIVSTAT'[(U_$P($P(ORX0,U,4),";",2)_U) Q  ;Check status
"RTN","ORDV06",94,0)
 . S ORMORE=0,SITE=$S($L($G(^UTILITY("PSIV",$J,ORDT,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV06",95,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",1)="1^"_SITE  ;Station ID
"RTN","ORDV06",96,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",2)="2^"_$$DATE^ORDVU($P(ORX0,U))  ;Start Date
"RTN","ORDV06",97,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",3)="3^"_$$DATE^ORDVU($P(ORX0,U,2))  ;Stop Date
"RTN","ORDV06",98,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",4)="4^"_$P(ORX0,U,5)  ;Rate
"RTN","ORDV06",99,0)
 . S ORIDRG=0
"RTN","ORDV06",100,0)
 . F  S ORIDRG=$O(^UTILITY("PSIV",$J,ORDT,"A",ORIDRG)) Q:'ORIDRG  S ORREC=$G(^(ORIDRG)) S:ORIDRG>1 ORMORE=1 D  ;Additives
"RTN","ORDV06",101,0)
 .. S ^TMP("ORDATA",$J,ORDT,"WP",5,ORIDRG)="5^"_$P($P(ORREC,U),";",2)_"  "_$P(ORREC,U,2) ;Additive  Dose
"RTN","ORDV06",102,0)
 . S ORIDRG=0
"RTN","ORDV06",103,0)
 . F  S ORIDRG=$O(^UTILITY("PSIV",$J,ORDT,"S",ORIDRG)) Q:'ORIDRG  S ORREC=$G(^(ORIDRG)) S:ORIDRG>1 ORMORE=1 D  ;Solutions
"RTN","ORDV06",104,0)
 .. S ^TMP("ORDATA",$J,ORDT,"WP",6,ORIDRG)="6^"_$P($P(ORREC,U),";",2)_"  "_$P(ORREC,U,2) ;Solution  Dose
"RTN","ORDV06",105,0)
 . I ORMORE S ^TMP("ORDATA",$J,ORDT,"WP",7)="7^[+]" ;flag for detail
"RTN","ORDV06",106,0)
 K ^UTILITY("PSG",$J),^UTILITY("PSIV",$J)
"RTN","ORDV06",107,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV06",108,0)
 Q
"RTN","ORDV06",109,0)
RXUD(ROOT,ORALPHA,OROMEGA,ORMAX,ORDBEG,ORDEND,OREXT) ;  Get Unit Dose Pharmacy Component
"RTN","ORDV06",110,0)
 ;Call to ENHS^PSJEEU0
"RTN","ORDV06",111,0)
 N J,ORDT,ORI,ORX0,ORDRGIEN,ORDRG,ORDOSE,ORSTAT,ORSTRTDT,ORSTOPDT,ORROUT,ORSIG,GO
"RTN","ORDV06",112,0)
 N GMI,IX,MAX,ON,PS,PSIVREA,PSJEDT,PSJNKF,PSJPFWD,GMR,TN,UDS,GMTSNDM,GMTS1,GMTS2,ORSITE,SITE
"RTN","ORDV06",113,0)
 Q:'$L(OREXT)
"RTN","ORDV06",114,0)
 S GO=$P(OREXT,";")_"^"_$P(OREXT,";",2)
"RTN","ORDV06",115,0)
 Q:'$L($T(@GO))
"RTN","ORDV06",116,0)
 S ORSITE=$$SITE^VASITE,ORSITE=$P(ORSITE,"^",2)_";"_$P(ORSITE,"^",3)
"RTN","ORDV06",117,0)
 S PSJEDT=1,PSJNKF=1
"RTN","ORDV06",118,0)
 K ^TMP("ORDATA",$J),^UTILITY("PSG",$J),^UTILITY("PSIV",$J)
"RTN","ORDV06",119,0)
 D @GO
"RTN","ORDV06",120,0)
 S ORDT=-9999999,ORI=0
"RTN","ORDV06",121,0)
 F  S ORDT=$O(^UTILITY("PSG",$J,ORDT)) Q:(ORDT="")  S ORX0=$G(^(ORDT)) I ORX0'="" D
"RTN","ORDV06",122,0)
 . S SITE=$S($L($G(^UTILITY("PSG",$J,ORDT,"facility"))):^("facility"),1:ORSITE)
"RTN","ORDV06",123,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",1)="1^"_SITE  ;Station ID
"RTN","ORDV06",124,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",2)="2^"_$P($P(ORX0,U,3),":")  ;DRUG IEN
"RTN","ORDV06",125,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",3)="3^"_$P($P(ORX0,U,3),";",2)  ;Drug Name
"RTN","ORDV06",126,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",4)="4^"_$P(ORX0,U,6)  ;Dose
"RTN","ORDV06",127,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",5)="5^"_$P($P(ORX0,U,5),";",2)  ;Status
"RTN","ORDV06",128,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",6)="6^"_$$DATE^ORDVU($P(ORX0,U))  ;START Date
"RTN","ORDV06",129,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",7)="7^"_$$DATE^ORDVU($P(ORX0,U,2))  ;Stop Date
"RTN","ORDV06",130,0)
 . S ^TMP("ORDATA",$J,ORDT,"WP",8)="8^"_$P($P(ORX0,U,7),";",3)  ;Route
"RTN","ORDV06",131,0)
 . S J=0,ORI=ORI+1
"RTN","ORDV06",132,0)
 . F  S J=$O(^UTILITY("PSG",$J,ORDT,J)) Q:'J  S X=^(J,0),^TMP("ORDATA",$J,ORDT,"WP",10,J)="10^"_X ;SIG
"RTN","ORDV06",133,0)
 . I $O(^UTILITY("PSG",$J,ORDT,1)) S ^TMP("ORDATA",$J,ORDT,"WP",9)="9^[+]" ;flag for detail
"RTN","ORDV06",134,0)
 K ^UTILITY("PSG",$J),^UTILITY("PSIV",$J)
"RTN","ORDV06",135,0)
 S ROOT=$NA(^TMP("ORDATA",$J))
"RTN","ORDV06",136,0)
 Q
"RTN","ORWSR")
0^4^B26083948^B21774260
"RTN","ORWSR",1,0)
ORWSR ;SLC/REV-Surgery RPCs ;08/27/03
"RTN","ORWSR",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**109,116,132,148,160,190,274**;Dec 17, 1997;Build 20
"RTN","ORWSR",3,0)
 ;
"RTN","ORWSR",4,0)
SHOWSURG(ORY) ;is Surgery ES patch installed?
"RTN","ORWSR",5,0)
 S ORY=$$PATCH^XPDUTL("SR*3.0*100")
"RTN","ORWSR",6,0)
 Q:+ORY=0
"RTN","ORWSR",7,0)
 S ORY=$$GET^XPAR("ALL","ORWOR SHOW SURGERY TAB",1)
"RTN","ORWSR",8,0)
 Q
"RTN","ORWSR",9,0)
LIST(ORY,ORDFN,ORBDT,OREDT,ORCTXT,ORMAX,ORFHIE) ;RETURN LIST OF SURGERY CASES FOR A PATIENT
"RTN","ORWSR",10,0)
 Q:'$$PATCH^XPDUTL("SR*3.0*100")
"RTN","ORWSR",11,0)
 N I,J,X,SHOWADD,SHOWDOCS
"RTN","ORWSR",12,0)
 S ORY=$NA(^TMP("ORLIST",$J))
"RTN","ORWSR",13,0)
 Q:'+ORDFN
"RTN","ORWSR",14,0)
 S:'$G(ORCTXT) ORCTXT=1
"RTN","ORWSR",15,0)
 S:'$G(ORBDT) ORBDT=""
"RTN","ORWSR",16,0)
 S:'$G(OREDT) OREDT=""
"RTN","ORWSR",17,0)
 S:'$G(ORMAX) ORMAX=""
"RTN","ORWSR",18,0)
 S (SHOWDOCS,SHOWADD)=1
"RTN","ORWSR",19,0)
 D LIST^SROESTV(.ORY,ORDFN,ORBDT,OREDT,ORMAX,SHOWDOCS)
"RTN","ORWSR",20,0)
 S I=0
"RTN","ORWSR",21,0)
 F  S I=$O(@ORY@(I)) Q:+I=0  D
"RTN","ORWSR",22,0)
 . S X=@ORY@(I),J=0
"RTN","ORWSR",23,0)
 . S $P(X,U,6)=$$NON^SROESTV(+X)
"RTN","ORWSR",24,0)
 . S $P(X,U,14)=ORCTXT
"RTN","ORWSR",25,0)
 . S $P(X,U,13)=$P(X,U,5),$P(X,U,5)=""
"RTN","ORWSR",26,0)
 . S @ORY@(I)=X
"RTN","ORWSR",27,0)
 . F  S J=$O(@ORY@(I,J)) Q:+J=0  D
"RTN","ORWSR",28,0)
 . . S X=@ORY@(I,J)
"RTN","ORWSR",29,0)
 . . S:(($P(X,U,14)=ORCTXT)!($P(X,U,14)="")) $P(X,U,14)=+$P(X,U,10)
"RTN","ORWSR",30,0)
 . . S @ORY@(I,J)=X
"RTN","ORWSR",31,0)
 Q
"RTN","ORWSR",32,0)
CASELIST(ORY,ORDFN) ; retrieve list of cases, but no documents
"RTN","ORWSR",33,0)
 Q:'$$PATCH^XPDUTL("SR*3.0*100")
"RTN","ORWSR",34,0)
 Q:'+ORDFN
"RTN","ORWSR",35,0)
 N ORBDT,OREDT,ORMAX,I,SHOWDOCS S (ORBDT,OREDT,ORMAX)="",SHOWDOCS=0
"RTN","ORWSR",36,0)
 S ORY=$NA(^TMP("ORLIST",$J))
"RTN","ORWSR",37,0)
 D LIST^SROESTV(.ORY,ORDFN,ORBDT,OREDT,ORMAX,SHOWDOCS)
"RTN","ORWSR",38,0)
 S I=0
"RTN","ORWSR",39,0)
 F  S I=$O(@ORY@(I)) Q:+I=0  D
"RTN","ORWSR",40,0)
 . S $P(@ORY@(I),U,4)=$P($P(@ORY@(I),U,4),";",2)
"RTN","ORWSR",41,0)
 Q
"RTN","ORWSR",42,0)
GTSURCTX(Y,ORUSER) ; Returns current Notes view context for user
"RTN","ORWSR",43,0)
 N OCCLIM,SHOWSUB
"RTN","ORWSR",44,0)
 S Y=$$GET^XPAR("ALL","ORCH CONTEXT SURGERY",1)
"RTN","ORWSR",45,0)
 Q
"RTN","ORWSR",46,0)
SVSURCTX(Y,ORCTXT) ; Save new Notes view preferences for user
"RTN","ORWSR",47,0)
 N TMP
"RTN","ORWSR",48,0)
 S TMP=$$GET^XPAR(DUZ_";VA(200,","ORCH CONTEXT SURGERY",1)
"RTN","ORWSR",49,0)
 I TMP'="" D  Q
"RTN","ORWSR",50,0)
 . D CHG^XPAR(DUZ_";VA(200,","ORCH CONTEXT SURGERY",1,ORCTXT)
"RTN","ORWSR",51,0)
 D ADD^XPAR(DUZ_";VA(200,","ORCH CONTEXT SURGERY",1,ORCTXT)
"RTN","ORWSR",52,0)
 Q
"RTN","ORWSR",53,0)
 ;
"RTN","ORWSR",54,0)
ONECASE(ORY,ORTIUDA) ;Given a TIU document, return the case and related documents
"RTN","ORWSR",55,0)
 Q:'$$PATCH^XPDUTL("SR*3.0*100")!(+$G(ORTIUDA)=0)
"RTN","ORWSR",56,0)
 N ORCASE
"RTN","ORWSR",57,0)
 D GET1405^TIUSRVR(.ORCASE,ORTIUDA)
"RTN","ORWSR",58,0)
 I +ORCASE'>0 S ORY=ORCASE Q
"RTN","ORWSR",59,0)
 D GETONE(.ORY,+ORCASE)
"RTN","ORWSR",60,0)
 Q
"RTN","ORWSR",61,0)
GETONE(ORY,ORCASE) ; called by ONECASE and RPTTEXT 
"RTN","ORWSR",62,0)
 ;Q:'$$PATCH^XPDUTL("SR*3.0*100")
"RTN","ORWSR",63,0)
 N ORTMP,J,SHOWADD,ORCTXT
"RTN","ORWSR",64,0)
 S SHOWADD=1,ORCTXT=1
"RTN","ORWSR",65,0)
 D ONE^SROESTV("ORY",+ORCASE)
"RTN","ORWSR",66,0)
 S X=ORY(+ORCASE),J=0
"RTN","ORWSR",67,0)
 S $P(X,U,6)=$$NON^SROESTV(+X)
"RTN","ORWSR",68,0)
 S $P(X,U,14)=ORCTXT
"RTN","ORWSR",69,0)
 S $P(X,U,13)=$P(X,U,5),$P(X,U,5)=""
"RTN","ORWSR",70,0)
 S ORTMP(0)=X
"RTN","ORWSR",71,0)
 F  S J=$O(ORY(+ORCASE,J)) Q:+J=0  D
"RTN","ORWSR",72,0)
 . S X=ORY(+ORCASE,J)
"RTN","ORWSR",73,0)
 . S:(($P(X,U,14)=ORCTXT)!($P(X,U,14)="")) $P(X,U,14)=+$P(X,U,10)
"RTN","ORWSR",74,0)
 . S ORTMP(J)=X
"RTN","ORWSR",75,0)
 K ORY M ORY=ORTMP
"RTN","ORWSR",76,0)
 Q
"RTN","ORWSR",77,0)
SHOWOPTP(ORY,ORCASE) ;Should OpTop be displayed on signature?
"RTN","ORWSR",78,0)
 I '$$PATCH^XPDUTL("SR*3.0*100") S ORY=0 Q
"RTN","ORWSR",79,0)
 S ORY=$$OPTOP^SROESTV(+ORCASE)
"RTN","ORWSR",80,0)
 Q
"RTN","ORWSR",81,0)
ISNONOR(ORY,ORCASE) ;Is the procedure a non-OR procedure?
"RTN","ORWSR",82,0)
 I '$$PATCH^XPDUTL("SR*3.0*100") S ORY=0 Q
"RTN","ORWSR",83,0)
 S ORY=$$NON^SROESTV(+ORCASE)
"RTN","ORWSR",84,0)
 Q
"RTN","ORWSR",85,0)
RPTLIST(ORY,ORDFN) ;Return list of surgery reports for reports tab
"RTN","ORWSR",86,0)
 ;I '$$PATCH^XPDUTL("SR*3.0*100") D NOTYET(.ORY)  Q
"RTN","ORWSR",87,0)
 Q:'$$PATCH^XPDUTL("SR*3.0*100")
"RTN","ORWSR",88,0)
 Q:'+ORDFN
"RTN","ORWSR",89,0)
 N ORBDT,OREDT,ORMAX,I,SHOWDOCS,X,SITE
"RTN","ORWSR",90,0)
 S (ORBDT,OREDT,ORMAX)="",SHOWDOCS=0
"RTN","ORWSR",91,0)
 S ORY=$NA(^TMP("ORLIST",$J))
"RTN","ORWSR",92,0)
 S SITE=$$SITE^VASITE,SITE=$P(SITE,"^",2)_";"_$P(SITE,"^",3)
"RTN","ORWSR",93,0)
 D LIST^SROESTV(.ORY,ORDFN,ORBDT,OREDT,ORMAX,SHOWDOCS)
"RTN","ORWSR",94,0)
 S I=0
"RTN","ORWSR",95,0)
 F  S I=$O(@ORY@(I)) Q:+I=0  D
"RTN","ORWSR",96,0)
 . S X=$P(@ORY@(I),U,2),$P(@ORY@(I),U,2)=$P(@ORY@(I),U,3),$P(@ORY@(I),U,3)=X
"RTN","ORWSR",97,0)
 . S $P(@ORY@(I),U,4)=$P($P(@ORY@(I),U,4),";",2)
"RTN","ORWSR",98,0)
 . S GMN=$P(@ORY@(I),U)
"RTN","ORWSR",99,0)
 . S $P(@ORY@(I),U,6)="LAB WORK-"_$S($O(^SRF(GMN,9,0)):"Yes",1:"No") ; Lab work
"RTN","ORWSR",100,0)
 . D STATUS^GMTSROB S:'$D(STATUS) STATUS="UNKNOWN"
"RTN","ORWSR",101,0)
 . S $P(@ORY@(I),U,7)="STATUS-"_STATUS ; op status
"RTN","ORWSR",102,0)
 . S Z=$P(^SRF(GMN,0),U,4) I Z>0 S Y=Z,C=$P(^DD(130,.04,0),U,2) D Y^DIQ S SPEC=Y K Y
"RTN","ORWSR",103,0)
 . S $P(@ORY@(I),U,8)="SPEC-"_$G(SPEC) ; Surgical specialty
"RTN","ORWSR",104,0)
 . S Z=$P($G(^SRF(GMN,31)),U,6) S:Z>0 DCTDTM=$$DATE^ORDVU(Z)
"RTN","ORWSR",105,0)
 . S $P(@ORY@(I),U,9)="DICT-"_$G(DCTDTM) ; Dictation Time
"RTN","ORWSR",106,0)
 . S Z=$P($G(^SRF(GMN,31)),U,7) S:Z>0 TRSDTM=$$DATE^ORDVU(Z)
"RTN","ORWSR",107,0)
 . S $P(@ORY@(I),U,10)="TRANS-"_$G(TRSDTM) ; Transcription Time
"RTN","ORWSR",108,0)
 . S @ORY@(I)=SITE_U_@ORY@(I)
"RTN","ORWSR",109,0)
 Q
"RTN","ORWSR",110,0)
RPTTEXT(ROOT,DFN,ORID,ALPHA,OMEGA,DTRANGE,REMOTE,ORMAX,ORFHIE) ; -- return surgery report
"RTN","ORWSR",111,0)
 ;I '$$PATCH^XPDUTL("SR*3.0*100") D NOTYET(.ROOT)  Q
"RTN","ORWSR",112,0)
 Q:'$$PATCH^XPDUTL("SR*3.0*100")
"RTN","ORWSR",113,0)
 Q:+ORID=0
"RTN","ORWSR",114,0)
 N X,ORI,J,ORDOC,ORCASE,CNT,LINES,ORSEP,ORTMP
"RTN","ORWSR",115,0)
 S (X,ORI)="",$P(ORSEP,"=",74)=""
"RTN","ORWSR",116,0)
 S ROOT=$NA(^TMP("ORXPND",$J))
"RTN","ORWSR",117,0)
 K @ROOT
"RTN","ORWSR",118,0)
 S CNT=0
"RTN","ORWSR",119,0)
 D GETONE(.ORCASE,ORID)
"RTN","ORWSR",120,0)
 S (ORI,J)=""
"RTN","ORWSR",121,0)
 F  S ORI=$O(ORCASE(ORI)) Q:ORI=""  D
"RTN","ORWSR",122,0)
 . S ORTMP(ORID,ORI)=ORCASE(ORI)
"RTN","ORWSR",123,0)
 K ORCASE M ORCASE=ORTMP
"RTN","ORWSR",124,0)
 S ORI=""
"RTN","ORWSR",125,0)
 F  S ORI=$O(ORCASE(ORID,ORI)) Q:ORI=""  D
"RTN","ORWSR",126,0)
 . Q:'$L($P(ORCASE(ORID,ORI),U,10))
"RTN","ORWSR",127,0)
 . Q:$E($P(ORCASE(ORID,ORI),U,2),1,8)="Addendum"
"RTN","ORWSR",128,0)
 . D TGET^TIUSRVR1(.ORDOC,+ORCASE(ORID,ORI),"VIEW")
"RTN","ORWSR",129,0)
 . S J="",LINES=0
"RTN","ORWSR",130,0)
 . F  S J=$O(@ORDOC@(J)) Q:J=""  D
"RTN","ORWSR",131,0)
 . . I $D(@ORDOC@(J))=10 D
"RTN","ORWSR",132,0)
 . . . S @ROOT@(J+CNT,0)=@ORDOC@(J,0),LINES=LINES+1
"RTN","ORWSR",133,0)
 . . E  S @ROOT@(J+CNT,0)=@ORDOC@(J),LINES=LINES+1
"RTN","ORWSR",134,0)
 . K ORDOC,ORY(ORID) S CNT=CNT+LINES+1
"RTN","ORWSR",135,0)
 . S @ROOT@(CNT,0)=ORSEP,CNT=CNT+1
"RTN","ORWSR",136,0)
 I CNT=0 S @ROOT@(CNT,0)="No reports are available for this case."
"RTN","ORWSR",137,0)
 Q
"RTN","ORWSR",138,0)
NOTYET(ROOT) ; -- standard not available display text
"RTN","ORWSR",139,0)
 D SETITEM(.ROOT,"Report not available at this time.")
"RTN","ORWSR",140,0)
 Q
"RTN","ORWSR",141,0)
SETITEM(ROOT,X) ; -- set item in list
"RTN","ORWSR",142,0)
 S @ROOT@($O(@ROOT@(9999),-1)+1)=X
"RTN","ORWSR",143,0)
 Q
"RTN","ORY274")
0^^B16637485^n/a
"RTN","ORY274",1,0)
ORY274 ;SLC/SLCOIFO-Pre and Post-init for patch OR*3*274 ;09/27/07 13:44
"RTN","ORY274",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**274**;Dec 17, 1997;Build 20
"RTN","ORY274",3,0)
 ;
"RTN","ORY274",4,0)
PRE ; initiate pre-init processes
"RTN","ORY274",5,0)
 D PEOMRPT
"RTN","ORY274",6,0)
 Q
"RTN","ORY274",7,0)
 ;
"RTN","ORY274",8,0)
PEOMRPT ;Remove new & changed reports from OE/RR REPORTS file (101.24)
"RTN","ORY274",9,0)
 N ORI,ORVIT
"RTN","ORY274",10,0)
 S ORVIT=0
"RTN","ORY274",11,0)
 I $P($G(^ORD(101.24,1032,0)),"^",1)="ORRPW ALLERGIES ADV" D
"RTN","ORY274",12,0)
 . S ORVIT=1,DA=1032,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",13,0)
 . S ^ORD(101.24,1032,0)="ORRPW ALLERGIES ADV",^ORD(101.24,"B","ORRPW ALLERGIES ADV",1032)=""
"RTN","ORY274",14,0)
 I $P($G(^ORD(101.24,1100,0)),"^",1)="ORRPW ORDERS CURRENT" D
"RTN","ORY274",15,0)
 . S ORVIT=1,DA=1100,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",16,0)
 . S ^ORD(101.24,1100,0)="ORRPW ORDERS CURRENT",^ORD(101.24,"B","ORRPW ORDERS CURRENT",1100)=""
"RTN","ORY274",17,0)
 I $P($G(^ORD(101.24,1079,0)),"^",1)="ORRPW PHARMACY ALL OUT" D
"RTN","ORY274",18,0)
 . S ORVIT=1,DA=1079,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",19,0)
 . S ^ORD(101.24,1079,0)="ORRPW PHARMACY ALL OUT",^ORD(101.24,"B","ORRPW PHARMACY ALL OUT",1079)=""
"RTN","ORY274",20,0)
 I $P($G(^ORD(101.24,48,0)),"^",1)="ORRP SURGERIES" D
"RTN","ORY274",21,0)
 . S ORVIT=1,DA=48,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",22,0)
 . S ^ORD(101.24,48,0)="ORRP SURGERIES",^ORD(101.24,"B","ORRP SURGERIES",48)=""
"RTN","ORY274",23,0)
 I $P($G(^ORD(101.24,1137,0)),"^",1)="ORRPW DOD ALLERGIES ADV" D
"RTN","ORY274",24,0)
 . S ORVIT=1,DA=1137,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",25,0)
 . S ^ORD(101.24,1137,0)="ORRPW DOD ALLERGIES ADV",^ORD(101.24,"B","ORRPW DOD ALLERGIES ADV",1137)=""
"RTN","ORY274",26,0)
 I $P($G(^ORD(101.24,1551,0)),"^",1)="ORRPW HDR ALLERGIES" D
"RTN","ORY274",27,0)
 . S ORVIT=1,DA=1551,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",28,0)
 . S ^ORD(101.24,1551,0)="ORRPW HDR ALLERGIES",^ORD(101.24,"B","ORRPW HDR ALLERGIES",1551)=""
"RTN","ORY274",29,0)
 I $P($G(^ORD(101.24,1553,0)),"^",1)="ORRPW HDR PHARMACY OUT" D
"RTN","ORY274",30,0)
 . S ORVIT=1,DA=1553,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",31,0)
 . S ^ORD(101.24,1553,0)="ORRPW HDR PHARMACY OUT",^ORD(101.24,"B","ORRPW HDR PHARMACY OUT",1553)=""
"RTN","ORY274",32,0)
 I $P($G(^ORD(101.24,1105,0)),"^",1)="ORRPW DOD PHARM ALL OUT" D
"RTN","ORY274",33,0)
 . S ORVIT=1,DA=1105,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",34,0)
 . S ^ORD(101.24,1105,0)="ORRPW DOD PHARM ALL OUT",^ORD(101.24,"B","ORRPW DOD PHARM ALL OUT",1105)=""
"RTN","ORY274",35,0)
 I $P($G(^ORD(101.24,1078,0)),"^",1)="ORRPW PHARMACY ACT OUT" D
"RTN","ORY274",36,0)
 . S ORVIT=1,DA=1078,DIK="^ORD(101.24," D ^DIK
"RTN","ORY274",37,0)
 . S ^ORD(101.24,1078,0)="ORRPW PHARMACY ACT OUT",^ORD(101.24,"B","ORRPW PHARMACY ACT OUT",1078)=""
"RTN","ORY274",38,0)
 Q
"RTN","ORY274",39,0)
POST ; initiate post-init processes
"RTN","ORY274",40,0)
 ;
"RTN","ORY274",41,0)
 N RESULT
"RTN","ORY274",42,0)
 S RESULT=$$BSESETUP
"RTN","ORY274",43,0)
 I '+RESULT W "***BSE SETUP FAILED: POST INSTALL *NOT* COMPLETED SUCCESSFULLY***",! Q
"RTN","ORY274",44,0)
 S RESULT=$$DETSETUP
"RTN","ORY274",45,0)
 I '+RESULT W "***DETAIL SETUP FAILED: POST INSTALL *NOT* COMPLETED SUCCESSFULLY***",! Q
"RTN","ORY274",46,0)
 W "=== POST INSTALL COMPLETED SUCCESSFULLY ==="
"RTN","ORY274",47,0)
 Q
"RTN","ORY274",48,0)
 ;
"RTN","ORY274",49,0)
BSESETUP() ;
"RTN","ORY274",50,0)
 N NAME S NAME=".w387LyM\4E-t7g*SgPl"
"RTN","ORY274",51,0)
 W !,"REMOVING OLD BSE V/W ENTRY",!
"RTN","ORY274",52,0)
 I +$$DELBSE(NAME) D  Q $$SAVEBSE(NAME)
"RTN","ORY274",53,0)
 .W "ADDING NEW BSE V/W ENTRY",!
"RTN","ORY274",54,0)
 W "V/W BSE SETUP *NOT* COMPLETED SUCCESSFULLY",!
"RTN","ORY274",55,0)
 Q 0
"RTN","ORY274",56,0)
 ;
"RTN","ORY274",57,0)
DETSETUP() ;
"RTN","ORY274",58,0)
 Q 1
"RTN","ORY274",59,0)
 ;
"RTN","ORY274",60,0)
DELBSE(NAME) ;
"RTN","ORY274",61,0)
 W "LOOKING FOR OLD V/W ENTRY",!
"RTN","ORY274",62,0)
 N ERR,LIST
"RTN","ORY274",63,0)
 D FIND^DIC(8994.5,"","@","X",NAME,"*","ACODE","","","LIST","ERR")
"RTN","ORY274",64,0)
 I '+$D(LIST("DILIST",0)) D  Q 0
"RTN","ORY274",65,0)
 .W "ERROR LOOKING UP OLD V/W ENTRY",!
"RTN","ORY274",66,0)
 .W ERR
"RTN","ORY274",67,0)
 I '+$P(LIST("DILIST",0),"^",1) D  Q 1
"RTN","ORY274",68,0)
 .W "NO OLD V/W ENTRIES FOUND",!
"RTN","ORY274",69,0)
 N I,FDA S I=0
"RTN","ORY274",70,0)
 F  S I=$O(LIST("DILIST",2,I)) Q:'I  D
"RTN","ORY274",71,0)
 .K FDA S FDA(8994.5,LIST("DILIST",2,I)_",",.01)="@"
"RTN","ORY274",72,0)
 .D FILE^DIE("","FDA","ERR")
"RTN","ORY274",73,0)
 .W "REMOVED OLD V/W BSE ENTRY:"_LIST("DILIST",2,I),!
"RTN","ORY274",74,0)
 .I $D(ERR) D
"RTN","ORY274",75,0)
 ..W "ERROR LOOKING UP OLD V/W ENTRY",!
"RTN","ORY274",76,0)
 ..W ERR
"RTN","ORY274",77,0)
 Q 1
"RTN","ORY274",78,0)
 ;
"RTN","ORY274",79,0)
SAVEBSE(NAME) ;
"RTN","ORY274",80,0)
 N FDA,ERR,INDEX
"RTN","ORY274",81,0)
 S FDA(8994.5,"+1,",.01)="VISTAWEB"
"RTN","ORY274",82,0)
 S INDEX=$$CPRSOPT
"RTN","ORY274",83,0)
 I +$G(INDEX)'>0 D  Q 0
"RTN","ORY274",84,0)
 .W "COULD NOT FIND CPRS OPTION:"_INDEX,!
"RTN","ORY274",85,0)
 S FDA(8994.5,"+1,",.02)=INDEX
"RTN","ORY274",86,0)
 S FDA(8994.5,"+1,",.03)=NAME
"RTN","ORY274",87,0)
 S FDA(8994.51,"+2,+1,",.01)="H"
"RTN","ORY274",88,0)
 S FDA(8994.51,"+2,+1,",.02)="12181"
"RTN","ORY274",89,0)
 S FDA(8994.51,"+2,+1,",.03)="10.2.48.11"
"RTN","ORY274",90,0)
 S FDA(8994.51,"+2,+1,",.04)="/resolve.do"
"RTN","ORY274",91,0)
 W "WRITING TO (BSE) REMOTE APPLICATION FILE",!
"RTN","ORY274",92,0)
 D UPDATE^DIE("","FDA","","ERR")
"RTN","ORY274",93,0)
 I +$D(ERR) D  Q 0
"RTN","ORY274",94,0)
 .W ERR
"RTN","ORY274",95,0)
 W "VISTAWEB ENTRY SUCCESSFULLY ADDED",!
"RTN","ORY274",96,0)
 Q 1
"RTN","ORY274",97,0)
 ;
"RTN","ORY274",98,0)
CPRSOPT() ;Finds the IEN of the option for "OR CPRS GUI CHART"
"RTN","ORY274",99,0)
 N OPTNAME S OPTNAME="OR CPRS GUI CHART"
"RTN","ORY274",100,0)
 W "LOOKING FOR '"_OPTNAME_"'",!
"RTN","ORY274",101,0)
 N INDEX,ERR S INDEX=$$FIND1^DIC(19,"","X",OPTNAME,"B","","ERR")
"RTN","ORY274",102,0)
 I +$D(ERR) D  Q 0
"RTN","ORY274",103,0)
 .W "ERROR TRYING TO FIND OPTION",!
"RTN","ORY274",104,0)
 .W ERR
"RTN","ORY274",105,0)
 W "FOUND OPTION",!
"RTN","ORY274",106,0)
 Q INDEX
"RTN","ORY274",107,0)
 ;
"VER")
8.0^22.0
"^DD",101.24,101.24,0)
FIELD^^.47^40
"^DD",101.24,101.24,0,"DDA")
N
"^DD",101.24,101.24,0,"DT")
3051006
"^DD",101.24,101.24,0,"ID",.23)
W:$D(^(2)) "   ",$P(^(2),U,3)
"^DD",101.24,101.24,0,"ID",.24)
W:$D(^(2)) "   ",$P(^(2),U,4)
"^DD",101.24,101.24,0,"IX","AC",101.24,.02)

"^DD",101.24,101.24,0,"IX","B",101.24,.01)

"^DD",101.24,101.24,0,"NM","OE/RR REPORT")

"^DD",101.24,101.24,0,"PT",101.24,.18)

"^DD",101.24,101.24,0,"PT",101.241,.01)

"^DD",101.24,101.24,0,"VRPK")
OR
"^DD",101.24,101.24,.001,0)
NUMBER^NJ5,0^^ ^K:+X'=X!(X>10000)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.24,101.24,.001,3)
Type a Number between 1 and 10000, 0 Decimal Digits
"^DD",101.24,101.24,.001,21,0)
^^1^1^3000921^
"^DD",101.24,101.24,.001,21,1,0)
This is the Number field for the file.
"^DD",101.24,101.24,.001,"DT")
3000920
"^DD",101.24,101.24,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",101.24,101.24,.01,1,0)
^.1^^-1
"^DD",101.24,101.24,.01,1,1,0)
101.24^B
"^DD",101.24,101.24,.01,1,1,1)
S ^ORD(101.24,"B",$E(X,1,30),DA)=""
"^DD",101.24,101.24,.01,1,1,2)
K ^ORD(101.24,"B",$E(X,1,30),DA)
"^DD",101.24,101.24,.01,3)
Answer must be 3-30 characters in length.
"^DD",101.24,101.24,.01,21,0)
^^1^1^3000921^
"^DD",101.24,101.24,.01,21,1,0)
This is the Name of the report.
"^DD",101.24,101.24,.01,"DT")
3010510
"^DD",101.24,101.24,.02,0)
ID^RF^^0;2^K:$L(X)>10!($L(X)<1) X
"^DD",101.24,101.24,.02,1,0)
^.1
"^DD",101.24,101.24,.02,1,1,0)
101.24^AC
"^DD",101.24,101.24,.02,1,1,1)
S ^ORD(101.24,"AC",$E(X,1,30),DA)=""
"^DD",101.24,101.24,.02,1,1,2)
K ^ORD(101.24,"AC",$E(X,1,30),DA)
"^DD",101.24,101.24,.02,1,1,"DT")
3001005
"^DD",101.24,101.24,.02,3)
Answer must be 1-10 characters in length.
"^DD",101.24,101.24,.02,21,0)
^^4^4^3000921^
"^DD",101.24,101.24,.02,21,1,0)
This is the code that identifies the report.  Each tab in CPRS that
"^DD",101.24,101.24,.02,21,2,0)
uses reports looks for this ID in order to process the report.
"^DD",101.24,101.24,.02,21,3,0)
Each tab also uses a unique set of ID's.  An ID of 5 on the Reports
"^DD",101.24,101.24,.02,21,4,0)
Tab may not identify the same report on a different tab.
"^DD",101.24,101.24,.02,"DT")
3001005
"^DD",101.24,101.24,.03,0)
REMOTE^S^1:YES;2:REMOTE ONLY;^0;3^Q
"^DD",101.24,101.24,.03,21,0)
^^2^2^3000921^
"^DD",101.24,101.24,.03,21,1,0)
This field is used to identify which reports allow remote access through
"^DD",101.24,101.24,.03,21,2,0)
Remote Data Views.
"^DD",101.24,101.24,.03,"DT")
3050512
"^DD",101.24,101.24,.04,0)
QUALIFIER^S^1:HSType;2:DateTime;3:Imaging;4:NutrAssess;19:MedicineProcedure;39:ListView;5:HSComponent;6:HSWPComponent;28:Surgery;^0;4^Q
"^DD",101.24,101.24,.04,21,0)
^.001^2^2^3010531^^^
"^DD",101.24,101.24,.04,21,1,0)
This field identifies which qualifier to use when processing the report.
"^DD",101.24,101.24,.04,21,2,0)
Examples of qualifiers are HSType, DateTime, Imaging and NutrAssess.
"^DD",101.24,101.24,.04,"DT")
3011004
"^DD",101.24,101.24,.05,0)
ROUTINE^FI^^0;5^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.05,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.05,8.5)
@
"^DD",101.24,101.24,.05,9)
@
"^DD",101.24,101.24,.05,21,0)
^.001^1^1^3001026^^^
"^DD",101.24,101.24,.05,21,1,0)
This is the routine that is invoked to produce the report.
"^DD",101.24,101.24,.05,23,0)
^.001^2^2^3001026^^
"^DD",101.24,101.24,.05,23,1,0)
The Labs Tab does not have a value for this field.  The CPRS executable
"^DD",101.24,101.24,.05,23,2,0)
calls separate RPC's for each report.
"^DD",101.24,101.24,.05,"DT")
3040126
"^DD",101.24,101.24,.06,0)
ENTRY POINT^FI^^0;6^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.06,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.06,8.5)
@
"^DD",101.24,101.24,.06,9)
@
"^DD",101.24,101.24,.06,21,0)
^.001^2^2^3001026^^
"^DD",101.24,101.24,.06,21,1,0)
This is the entry point for the ROUTINE that is invoked to produce the
"^DD",101.24,101.24,.06,21,2,0)
report.
"^DD",101.24,101.24,.06,23,0)
^.001^2^2^3001026^^
"^DD",101.24,101.24,.06,23,1,0)
The Labs Tab does not have a value for this field.  The CPRS executable
"^DD",101.24,101.24,.06,23,2,0)
calls separate RPC's for each report.
"^DD",101.24,101.24,.06,"DT")
3040126
"^DD",101.24,101.24,.07,0)
CATEGORY^S^0:FIXED;1:FIXED W/DATE;2:FIXED W/HEADER;3:FIXED W/DATE&HEADER;4:SPECIALIZED;5:GRAPHIC;6:LISTVIEW;^0;7^Q
"^DD",101.24,101.24,.07,3)
Enter a category for this report
"^DD",101.24,101.24,.07,21,0)
^^2^2^3001004^
"^DD",101.24,101.24,.07,21,1,0)
This field puts reports into a category that is evaluated by the GUI
"^DD",101.24,101.24,.07,21,2,0)
when the report is processed.
"^DD",101.24,101.24,.07,"DT")
3010215
"^DD",101.24,101.24,.08,0)
TAB^S^R:REPORTS TAB;L:LABS TAB;C:COVER SHEET;CD:COVER SHEET DETAILS;^0;8^Q
"^DD",101.24,101.24,.08,3)
Enter the appropriate code for this report.
"^DD",101.24,101.24,.08,21,0)
^.001^1^1^3001003^^
"^DD",101.24,101.24,.08,21,1,0)
This fields identifies the appropriate tab for a report in CPRS.
"^DD",101.24,101.24,.08,"DT")
3001011
"^DD",101.24,101.24,.09,0)
MIXEDCASE^S^1:YES;^0;9^Q
"^DD",101.24,101.24,.09,3)
Enter YES to display the list in mixed case
"^DD",101.24,101.24,.09,21,0)
^^2^2^3001004^
"^DD",101.24,101.24,.09,21,1,0)
This is used in the cover sheet and is used to display the returned
"^DD",101.24,101.24,.09,21,2,0)
list in mixed case.
"^DD",101.24,101.24,.09,"DT")
3001004
"^DD",101.24,101.24,.1,0)
INVERT^S^1:YES;^0;10^Q
"^DD",101.24,101.24,.1,3)
Enter YES to have the returned list inverted.
"^DD",101.24,101.24,.1,21,0)
^^1^1^3001004^
"^DD",101.24,101.24,.1,21,1,0)
This field is used to invert a list of data returned in the Cover sheet
"^DD",101.24,101.24,.1,"DT")
3001004
"^DD",101.24,101.24,.11,0)
TEXT COLOR^S^Black:BLACK;Maroon:MAROON;Green:GREEN;Olive:OLIVE;Purple:PURPLE;Teal:TEAL;Red:RED;Lime:LIME;Yellow:YELLOW;Blue:BLUE;Fuchsia:FUCHSIA;Aqua:AQUA;^0;11^Q
"^DD",101.24,101.24,.11,3)
Enter the color for the text
"^DD",101.24,101.24,.11,21,0)
^^1^1^3001004^
"^DD",101.24,101.24,.11,21,1,0)
This field determines the text color for the returned data.
"^DD",101.24,101.24,.11,"DT")
3001004
"^DD",101.24,101.24,.12,0)
TYPE^S^R:REPORT;H:HTML;L:LISTMAN ONLY;S:SELECTION LIST;V:LISTVIEW;M:MENU;G:GRAPH;^0;12^Q
"^DD",101.24,101.24,.12,3)
Enter the type for this entry.
"^DD",101.24,101.24,.12,21,0)
^.001^1^1^3001017^^
"^DD",101.24,101.24,.12,21,1,0)
This field identifies the type for an entry.
"^DD",101.24,101.24,.12,"DT")
3041208
"^DD",101.24,101.24,.13,0)
RPC^P8994'^XWB(8994,^0;13^Q
"^DD",101.24,101.24,.13,3)
Select the RPC that produces this report.
"^DD",101.24,101.24,.13,21,0)
^^1^1^3001004^
"^DD",101.24,101.24,.13,21,1,0)
This is the RPC that is called inside the GUI to produce the report.
"^DD",101.24,101.24,.13,"DT")
3001004
"^DD",101.24,101.24,.14,0)
DATE FORMAT^S^D:DATE ONLY;T:DATE WITH TIME;^0;14^Q
"^DD",101.24,101.24,.14,3)
Enter the code for the desired date format.
"^DD",101.24,101.24,.14,21,0)
^^1^1^3001004^
"^DD",101.24,101.24,.14,21,1,0)
This field determines what kind of format to display date/time fields.
"^DD",101.24,101.24,.14,"DT")
3001004
"^DD",101.24,101.24,.15,0)
DATE PIECE^NJ2,0^^0;15^K:+X'=X!(X>15)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.24,101.24,.15,3)
Type a Number between 1 and 15, 0 Decimal Digits
"^DD",101.24,101.24,.15,21,0)
^^2^2^3001004^
"^DD",101.24,101.24,.15,21,1,0)
This is used on the Cover Sheet to determine which piece the date field
"^DD",101.24,101.24,.15,21,2,0)
occupies.
"^DD",101.24,101.24,.15,"DT")
3001004
"^DD",101.24,101.24,.16,0)
TAB POSITIONS^F^^0;16^K:$L(X)>15!($L(X)<1) X
"^DD",101.24,101.24,.16,3)
Answer must be 1-15 characters in length.
"^DD",101.24,101.24,.16,21,0)
^^2^2^3001005^
"^DD",101.24,101.24,.16,21,1,0)
This is the value that will be used for the Tab property for the listbox
"^DD",101.24,101.24,.16,21,2,0)
associated with this report on the Cover Sheet.
"^DD",101.24,101.24,.16,"DT")
3001005
"^DD",101.24,101.24,.17,0)
PIECES^F^^0;17^K:$L(X)>20!($L(X)<1) X
"^DD",101.24,101.24,.17,3)
Answer must be 1-20 characters in length.
"^DD",101.24,101.24,.17,21,0)
^^2^2^3001011^
"^DD",101.24,101.24,.17,21,1,0)
This field is used by the Cover Sheet to determine what pieces of data
"^DD",101.24,101.24,.17,21,2,0)
to display in the listbox.
"^DD",101.24,101.24,.17,"DT")
3001011
"^DD",101.24,101.24,.18,0)
DETAIL REPORT^*P101.24'^ORD(101.24,^0;18^S DIC("S")="I $P(^(0),""^"",8)=""CD""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",101.24,101.24,.18,3)
Enter the report to get the details for this report.
"^DD",101.24,101.24,.18,12)
Allow only Cover sheet detail type reports
"^DD",101.24,101.24,.18,12.1)
S DIC("S")="I $P(^(0),""^"",8)=""CD"""
"^DD",101.24,101.24,.18,21,0)
^^1^1^3001011^
"^DD",101.24,101.24,.18,21,1,0)
This field is used to get the details of an item on the cover sheet.
"^DD",101.24,101.24,.18,"DT")
3001011
"^DD",101.24,101.24,.19,0)
REPORT TAG^FI^^0;19^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.19,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.19,21,0)
^.001^1^1^3010503^^
"^DD",101.24,101.24,.19,21,1,0)
This is the entry point tag for a report extract.
"^DD",101.24,101.24,.19,"DT")
3040126
"^DD",101.24,101.24,.191,0)
REPORT ROUTINE^FI^^0;20^K:$L(X)>8!($L(X)<3) X
"^DD",101.24,101.24,.191,3)
Answer must be 3-8 characters in length.
"^DD",101.24,101.24,.191,21,0)
^.001^1^1^3010503^^
"^DD",101.24,101.24,.191,21,1,0)
This is the routine associated with the REPORT TAG for report extracts.
"^DD",101.24,101.24,.191,"DT")
3040126
"^DD",101.24,101.24,.192,0)
REPORT COMPONENT^P142.1'^GMT(142.1,^0;21^Q
"^DD",101.24,101.24,.192,21,0)
^.001^1^1^3010503^^
"^DD",101.24,101.24,.192,21,1,0)
This is the report component associated with this report.
"^DD",101.24,101.24,.192,"DT")
3010503
"^DD",101.24,101.24,.21,0)
PARAM 1^F^^2;1^K:$L(X)>30!($L(X)<1) X
"^DD",101.24,101.24,.21,3)
Answer must be 1-30 characters in length.
"^DD",101.24,101.24,.21,21,0)
^^1^1^3001004^
"^DD",101.24,101.24,.21,21,1,0)
This is the 1st parameter passed to the RPC, if needed.
"^DD",101.24,101.24,.21,"DT")
3001004
"^DD",101.24,101.24,.22,0)
PARAM 2^F^^2;2^K:$L(X)>30!($L(X)<1) X
"^DD",101.24,101.24,.22,3)
Answer must be 1-30 characters in length.
"^DD",101.24,101.24,.22,21,0)
^^1^1^3001004^
"^DD",101.24,101.24,.22,21,1,0)
This is the 2nd parameter passed to the RPC, if needed.
"^DD",101.24,101.24,.22,"DT")
3001004
"^DD",101.24,101.24,.23,0)
HEADING^F^^2;3^K:$L(X)>75!($L(X)<1) X
"^DD",101.24,101.24,.23,1,0)
^.1^^0
"^DD",101.24,101.24,.23,3)
Answer must be 1-75 characters in length.
"^DD",101.24,101.24,.23,21,0)
^^1^1^3001031^
"^DD",101.24,101.24,.23,21,1,0)
This is the heading used on the Cover sheet for the list of items.
"^DD",101.24,101.24,.23,"DT")
3010510
"^DD",101.24,101.24,.24,0)
DESCRIPTIVE TEXT^RF^^2;4^K:$L(X)>55!($L(X)<2) X
"^DD",101.24,101.24,.24,3)
Answer must be 2-55 characters in length.
"^DD",101.24,101.24,.24,21,0)
^.001^2^2^3010510^^
"^DD",101.24,101.24,.24,21,1,0)
This is a more descriptive name than what might be included in the 
"^DD",101.24,101.24,.24,21,2,0)
NAME field.
"^DD",101.24,101.24,.24,"DT")
3010510
"^DD",101.24,101.24,.25,0)
NODE^F^^2;5^K:$L(X)>10!($L(X)<1) X
"^DD",101.24,101.24,.25,3)
Answer must be 1-10 characters in length.
"^DD",101.24,101.24,.25,21,0)
^^2^2^3001005^
"^DD",101.24,101.24,.25,21,1,0)
This is used by the Cover Sheet routines to define the node in the ^XTMP
"^DD",101.24,101.24,.25,21,2,0)
global to store the data.
"^DD",101.24,101.24,.25,"DT")
3001005
"^DD",101.24,101.24,.26,0)
PRINT TAG^FI^^2;6^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.26,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.26,21,0)
^^2^2^3010614^
"^DD",101.24,101.24,.26,21,1,0)
This is the entry point tag used when printing reports that do their own
"^DD",101.24,101.24,.26,21,2,0)
Write statements.
"^DD",101.24,101.24,.26,"DT")
3040126
"^DD",101.24,101.24,.27,0)
PRINT ROUTINE^FI^^2;7^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.27,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.27,21,0)
^^2^2^3010614^
"^DD",101.24,101.24,.27,21,1,0)
This is the entry point routine used when printing reports that do their own
"^DD",101.24,101.24,.27,21,2,0)
Write statements.
"^DD",101.24,101.24,.27,"DT")
3040126
"^DD",101.24,101.24,.28,0)
EXTRACT TAG^FI^^2;8^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.28,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.28,21,0)
^^2^2^3010711^
"^DD",101.24,101.24,.28,21,1,0)
This is the entry point for the extract routine that pulls the data from
"^DD",101.24,101.24,.28,21,2,0)
package API's and/or package files.
"^DD",101.24,101.24,.28,"DT")
3060524
"^DD",101.24,101.24,.29,0)
EXTRACT ROUTINE^FI^^2;9^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.29,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.29,21,0)
^^2^2^3010711^
"^DD",101.24,101.24,.29,21,1,0)
This is the extract routine that pulls data from package API's and/or
"^DD",101.24,101.24,.29,21,2,0)
package files.
"^DD",101.24,101.24,.29,"DT")
3060524
"^DD",101.24,101.24,.41,0)
SORT ORDER^F^^4;1^K:$L(X)>15!($L(X)<3)!'(X?1N1":"1N) X
"^DD",101.24,101.24,.41,3)
Answer must be 3-15 characters in length.
"^DD",101.24,101.24,.41,21,0)
^^6^6^3010717^
"^DD",101.24,101.24,.41,21,1,0)
This field is used when sorting columns of data on at grid within CPRS.
"^DD",101.24,101.24,.41,21,2,0)
It determines the sort order to be used in a multi-column sort.  The
"^DD",101.24,101.24,.41,21,3,0)
primary sort column is always the column header clicked on by the user.
"^DD",101.24,101.24,.41,21,4,0)
If this field has values in the form #:#, then a multi-column sort is
"^DD",101.24,101.24,.41,21,5,0)
done, using the column numbers identified in this field for the second
"^DD",101.24,101.24,.41,21,6,0)
and third level sorting.
"^DD",101.24,101.24,.41,"DT")
3010717
"^DD",101.24,101.24,.42,0)
MAXIMUM DAYS BACK^NJ4,0^^4;2^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.24,101.24,.42,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",101.24,101.24,.42,21,0)
^^1^1^3011004^
"^DD",101.24,101.24,.42,21,1,0)
This field restricts the report date range to the maximum value specified.
"^DD",101.24,101.24,.42,"DT")
3011004
"^DD",101.24,101.24,.43,0)
FHIE REPORT^F^^4;3^K:$L(X)>10!($L(X)<2) X
"^DD",101.24,101.24,.43,3)
Answer must be 2-10 characters in length.
"^DD",101.24,101.24,.43,21,0)
^.001^3^3^3040126^^^^
"^DD",101.24,101.24,.43,21,1,0)
This field identifies reports that are available through FHIE.
"^DD",101.24,101.24,.43,21,2,0)
The item in this field is the code for the report available through
"^DD",101.24,101.24,.43,21,3,0)
the FHIE server.
"^DD",101.24,101.24,.43,23,0)
^.001^3^3^3040126^^^^
"^DD",101.24,101.24,.43,23,1,0)
This field is not looked at by reports that have a 'listview' format.
"^DD",101.24,101.24,.43,23,2,0)
It is only used by straight text reports that go through the routine:
"^DD",101.24,101.24,.43,23,3,0)
  ORDV01
"^DD",101.24,101.24,.43,"DT")
3031008
"^DD",101.24,101.24,.44,0)
DIRECT^S^0:NO;1:YES;^4;4^Q
"^DD",101.24,101.24,.44,3)
ENTER YES TO MAKE DIRECT REMOTE DATA CALLS
"^DD",101.24,101.24,.44,21,0)
^^4^4^3050201^
"^DD",101.24,101.24,.44,21,1,0)
This field allows a report to make a direct remote data call to
"^DD",101.24,101.24,.44,21,2,0)
a remote site.  Use caution in setting this field to yes.  It has
"^DD",101.24,101.24,.44,21,3,0)
the effect of disabling CPRS until the remote call is finished, but
"^DD",101.24,101.24,.44,21,4,0)
also may speed up the query by bypassing taskman latency.
"^DD",101.24,101.24,.44,"DT")
3050201
"^DD",101.24,101.24,.45,0)
HDR REPORT^S^1:YES;^4;5^Q
"^DD",101.24,101.24,.45,3)
Enter 'YES' if this report comes from the HDR.
"^DD",101.24,101.24,.45,21,0)
^^1^1^3051006^
"^DD",101.24,101.24,.45,21,1,0)
This field flags reports that are generated from the HDR.
"^DD",101.24,101.24,.45,"DT")
3051006
"^DD",101.24,101.24,.46,0)
HDR ROUTINE^F^^4;6^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.46,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.46,21,0)
^^1^1^3051006^
"^DD",101.24,101.24,.46,21,1,0)
This is the HDR routine that modifies HDR data for CPRS.
"^DD",101.24,101.24,.46,"DT")
3051006
"^DD",101.24,101.24,.47,0)
HDR ENTRY POINT^F^^4;7^K:$L(X)>8!($L(X)<1) X
"^DD",101.24,101.24,.47,3)
Answer must be 1-8 characters in length.
"^DD",101.24,101.24,.47,21,0)
^^1^1^3051006^
"^DD",101.24,101.24,.47,21,1,0)
This is the HDR entry point that modifies HDR data for CPRS.
"^DD",101.24,101.24,.47,"DT")
3051006
"^DD",101.24,101.24,3,0)
COLUMN HEADERS^101.243^^3;0
"^DD",101.24,101.24,10,0)
ITEM^101.241P^^10;0
"^DD",101.24,101.241,0)
ITEM SUB-FIELD^^.03^3
"^DD",101.24,101.241,0,"DT")
3010215
"^DD",101.24,101.241,0,"IX","B",101.241,.01)

"^DD",101.24,101.241,0,"NM","ITEM")

"^DD",101.24,101.241,0,"UP")
101.24
"^DD",101.24,101.241,.01,0)
ITEM^MP101.24^ORD(101.24,^0;1^Q
"^DD",101.24,101.241,.01,1,0)
^.1
"^DD",101.24,101.241,.01,1,1,0)
101.241^B
"^DD",101.24,101.241,.01,1,1,1)
S ^ORD(101.24,DA(1),10,"B",$E(X,1,30),DA)=""
"^DD",101.24,101.241,.01,1,1,2)
K ^ORD(101.24,DA(1),10,"B",$E(X,1,30),DA)
"^DD",101.24,101.241,.01,3)

"^DD",101.24,101.241,.01,21,0)
^^1^1^3010215^
"^DD",101.24,101.241,.01,21,1,0)
This is used in building a treeview of reports for CPRS GUI.
"^DD",101.24,101.241,.01,"DT")
3010215
"^DD",101.24,101.241,.02,0)
HEADER TEXT^F^^0;2^K:$L(X)>30!($L(X)<1) X
"^DD",101.24,101.241,.02,3)
Answer must be 1-30 characters in length.
"^DD",101.24,101.241,.02,21,0)
^^1^1^3010215^
"^DD",101.24,101.241,.02,21,1,0)
This is the header to be used.
"^DD",101.24,101.241,.02,"DT")
3010215
"^DD",101.24,101.241,.03,0)
SEQUENCE^NJ7,1^^0;3^K:+X'=X!(X>99999)!(X<.1)!(X?.E1"."2N.N) X
"^DD",101.24,101.241,.03,3)
Type a Number between .1 and 99999, 1 Decimal Digit
"^DD",101.24,101.241,.03,21,0)
^^1^1^3010215^
"^DD",101.24,101.241,.03,21,1,0)
This is the sequence number for this report.
"^DD",101.24,101.241,.03,"DT")
3010215
"^DD",101.24,101.243,0)
COLUMN HEADERS SUB-FIELD^^1^11
"^DD",101.24,101.243,0,"DT")
3051006
"^DD",101.24,101.243,0,"IX","B",101.243,.01)

"^DD",101.24,101.243,0,"IX","C",101.243,.03)

"^DD",101.24,101.243,0,"NM","COLUMN HEADERS")

"^DD",101.24,101.243,0,"UP")
101.24
"^DD",101.24,101.243,.01,0)
COLUMN HEADERS^MF^^0;1^K:$L(X)>60!($L(X)<1) X
"^DD",101.24,101.243,.01,1,0)
^.1
"^DD",101.24,101.243,.01,1,1,0)
101.243^B
"^DD",101.24,101.243,.01,1,1,1)
S ^ORD(101.24,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",101.24,101.243,.01,1,1,2)
K ^ORD(101.24,DA(1),3,"B",$E(X,1,30),DA)
"^DD",101.24,101.243,.01,3)
Answer must be 1-60 characters in length.
"^DD",101.24,101.243,.01,21,0)
^.001^1^1^3010709^^^^
"^DD",101.24,101.243,.01,21,1,0)
These are the column headings used on a report in ListView format.
"^DD",101.24,101.243,.01,"DT")
3010709
"^DD",101.24,101.243,.02,0)
VISIBLE^S^0:YES;1:NO;^0;2^Q
"^DD",101.24,101.243,.02,3)
Set this field to NO to hide the column.
"^DD",101.24,101.243,.02,21,0)
^^1^1^3010420^
"^DD",101.24,101.243,.02,21,1,0)
This field determines the visible property of the column.
"^DD",101.24,101.243,.02,"DT")
3010420
"^DD",101.24,101.243,.03,0)
SEQUENCE^NJ6,1^^0;3^K:+X'=X!(X>9999)!(X<.1)!(X?.E1"."2N.N) X
"^DD",101.24,101.243,.03,1,0)
^.1
"^DD",101.24,101.243,.03,1,1,0)
101.243^C
"^DD",101.24,101.243,.03,1,1,1)
S ^ORD(101.24,DA(1),3,"C",$E(X,1,30),DA)=""
"^DD",101.24,101.243,.03,1,1,2)
K ^ORD(101.24,DA(1),3,"C",$E(X,1,30),DA)
"^DD",101.24,101.243,.03,1,1,"DT")
3010321
"^DD",101.24,101.243,.03,3)
Type a Number between .1 and 9999, 1 Decimal Digit
"^DD",101.24,101.243,.03,21,0)
^^1^1^3010215^
"^DD",101.24,101.243,.03,21,1,0)
This is the sequence for the column header.
"^DD",101.24,101.243,.03,"DT")
3010321
"^DD",101.24,101.243,.04,0)
TYPE^S^0:SINGLE PIECE VALUE;1:WORD PROCESSING;^0;4^Q
"^DD",101.24,101.243,.04,3)
Enter '1' if the value of this column contains multiple lines of text.
"^DD",101.24,101.243,.04,21,0)
^^1^1^3010420^
"^DD",101.24,101.243,.04,21,1,0)
This field identifies columns that contain multiple lines of text.
"^DD",101.24,101.243,.04,"DT")
3010420
"^DD",101.24,101.243,.05,0)
INCLUDE ON DETAIL^S^0:NO;1:YES;^0;5^Q
"^DD",101.24,101.243,.05,3)
Enter YES to include this field in detailed report
"^DD",101.24,101.243,.05,21,0)
^.001^2^2^3010628^^^^
"^DD",101.24,101.243,.05,21,1,0)
This field is used to determine what data to include in the details of
"^DD",101.24,101.243,.05,21,2,0)
a report.
"^DD",101.24,101.243,.05,"DT")
3010628
"^DD",101.24,101.243,.06,0)
PRINT LENGTH^NJ2,0^^0;6^K:+X'=X!(X>20)!(X<1)!(X?.E1"."1N.N) X
"^DD",101.24,101.243,.06,3)
Type a Number between 1 and 20, 0 Decimal Digits
"^DD",101.24,101.243,.06,21,0)
^^1^1^3010628^
"^DD",101.24,101.243,.06,21,1,0)
This is the field length used when printing this column on a report.
"^DD",101.24,101.243,.06,"DT")
3010628
"^DD",101.24,101.243,.07,0)
INCLUDE ON PRINT^S^0:NO;1:YES;^0;7^Q
"^DD",101.24,101.243,.07,21,0)
^^2^2^3010628^
"^DD",101.24,101.243,.07,21,1,0)
This field determines which columns are included when a printout is
"^DD",101.24,101.243,.07,21,2,0)
requested.
"^DD",101.24,101.243,.07,"DT")
3010628
"^DD",101.24,101.243,.08,0)
PRINT TITLE^F^^0;8^K:$L(X)>20!($L(X)<1) X
"^DD",101.24,101.243,.08,3)
Answer must be 1-20 characters in length.
"^DD",101.24,101.243,.08,21,0)
^^1^1^3010628^
"^DD",101.24,101.243,.08,21,1,0)
This field is used when printing this field in lieu of the Column Header.
"^DD",101.24,101.243,.08,"DT")
3010628
"^DD",101.24,101.243,.09,0)
DATA TYPE^S^0:FREE TEXT;1:NUMERIC;2:DATE/TIME;^0;9^Q
"^DD",101.24,101.243,.09,3)
Enter the type of data that is in this column.
"^DD",101.24,101.243,.09,21,0)
^.001^3^3^3010718^^
"^DD",101.24,101.243,.09,21,1,0)
This is the data type of the column.  It is used when sorting columns.
"^DD",101.24,101.243,.09,21,2,0)
The default data type is 0 - FREE TEXT.  If no value is entered, it is
"^DD",101.24,101.243,.09,21,3,0)
assumed to be FREE TEXT.
"^DD",101.24,101.243,.09,"DT")
3010718
"^DD",101.24,101.243,.1,0)
WIDTH^NJ4,0^^0;10^K:+X'=X!(X>4000)!(X<-2)!(X?.E1"."1N.N) X
"^DD",101.24,101.243,.1,3)
Type a Number between -2 and 4000, 0 Decimal Digits
"^DD",101.24,101.243,.1,21,0)
^^5^5^3010727^
"^DD",101.24,101.243,.1,21,1,0)
This field is for the column width.  No value needs to be entered because
"^DD",101.24,101.243,.1,21,2,0)
the value is actually obtained from a User level parameter.  The field
"^DD",101.24,101.243,.1,21,3,0)
is defined here to reserve the 10 piece of this node so that future
"^DD",101.24,101.243,.1,21,4,0)
field definitions won't break the RPC used in CPRS to get column properties
"^DD",101.24,101.243,.1,21,5,0)
where the width is stored in the 10 piece.
"^DD",101.24,101.243,.1,"DT")
3010727
"^DD",101.24,101.243,1,0)
HDR MODIFIER^K^^1;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",101.24,101.243,1,3)
This is Standard MUMPS code.
"^DD",101.24,101.243,1,9)
@
"^DD",101.24,101.243,1,21,0)
^^5^5^3051006^
"^DD",101.24,101.243,1,21,1,0)
This is code executed when HDR data needs to be modified.
"^DD",101.24,101.243,1,21,2,0)
When this field is executed, the variable ORX will have the value
"^DD",101.24,101.243,1,21,3,0)
passed in from the HDR.  If this value needs to be manipulated, set the
"^DD",101.24,101.243,1,21,4,0)
new value into ORX.  If the value is ignored (not to be displayed),
"^DD",101.24,101.243,1,21,5,0)
then set the value of ORX="-1-"
"^DD",101.24,101.243,1,"DT")
3051006
"^DIC",101.24,101.24,0)
OE/RR REPORT^101.24
"^DIC",101.24,101.24,0,"GL")
^ORD(101.24,
"^DIC",101.24,101.24,"%",0)
^1.005^^0
"^DIC",101.24,101.24,"%D",0)
^1.001^7^7^3020924^^^
"^DIC",101.24,101.24,"%D",1,0)
This file contains definitions and parameters used in various reports
"^DIC",101.24,101.24,"%D",2,0)
within CPRS.
"^DIC",101.24,101.24,"%D",3,0)
 
"^DIC",101.24,101.24,"%D",4,0)
Entry numbers >1000 are reserved for national use.  Any local entries
"^DIC",101.24,101.24,"%D",5,0)
should be added to a number <1000.  If this convention is not followed,
"^DIC",101.24,101.24,"%D",6,0)
you run the risk of having your local entries overwritten by a patch
"^DIC",101.24,101.24,"%D",7,0)
or future release of CPRS.
"^DIC",101.24,"B","OE/RR REPORT",101.24)

"BLD",6656,6)
^254
**END**
**END**
