$TXT Created by SMITH,ROBERT at INPVAA.FO-BIRM.MED.VA.GOV  (KIDS) on Thursday, 07/22/04 at 07:25
=============================================================================
Run Date: DEC 22, 2004                     Designation: SR*3*131
Package : SR - SURGERY                        Priority: Mandatory
Version : 3       SEQ #132                      Status: Released
                  Compliance Date: JAN 22, 2005
=============================================================================

Associated patches: (v)SR*3*92     <<= must be installed BEFORE `SR*3*131'
                    (v)SR*3*100    <<= must be installed BEFORE `SR*3*131'

Subject: FIELDS INCORRECTLY POPULATED IN SCHEDULE AN OPERATION

Category: 
  - Routine

Description:
============

 This patch will clean up old variables after the call to
 EN^DIQ1. It will also replace the Anesthesia Agent Dose that was
 removed during the install of SR*3*100.
   
 ASSOCIATED NOIS:
 ================
 HWH-0604-41388   Populated fields in Schedule an operation
 SBY-0604-31672   Anesthesia dosage not displaying in CPRS
  
 ASSOCIATED E3RS:
 ================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 Montana- ALPHA/ISM (NT)   
 Salisbury, NC - VMS/CACHE  
 Kansas City, Heartland-West - ALPHA/DSM  
 North Texas - VMS/CACHE 
  
 NOIS OVERVIEW:
 ==============
 1) HWH-0604-41388  Populated fields in Schedule an operation
  
 Problem:
 --------
 After Patch 100 was loaded some of the fields in the option to
 Schedule an Unrequested Operation are already populated
 (OR, attending, procedure). It appears to load it from whatever was
 the last entry in the scheduling module. If the data was entered
 into the Request an Operation option first, the fields remained blank.
  
 After the call to EN^DIQ1 the variables left are causing problems
 with other FileMan calls that use the same variable names.
   
 Resolution:
 -----------
 Modified routines SRSCHD, SRSCHDC, SRSREQ and SRSUP1 to kill
 the DA, DIC, DIQ and DR variable after the call to EN^DIQ1.
  
 2) SBY-0604-31672  Anesthesia dosage not displaying in CPRS
  
 Problem:
 --------
 The site has noticed that the anesthesia dose is not displaying
 in CPRS or the Anesthesia report.  
  
 Resolution:
 -----------
 Modify SROANR0 to include the agent dosage.
  
 TECHNICAL:
 ==========
  
 HWH-0604-41388   Populated fields in Schedule an operation
  
    When using the Schedule an Unrequested Operation option within the
 SURGERY application, the FileMan date is retained in the DA variable
 after the user enters the date of the operation. If a surgery case
 exists that has the same IEN (Internal Entry Number) as the DA variable, that
 information is used as the default when prompting the user for information.
  
    Modified routines SRSCHD, SRSCHDC, SRSREQ and SRSUP1 to kill
 the DA, DIC, DIQ and DR variable after the call to EN^DIQ1.
  
  
 SBY-0604-31672   Anesthesia dosage not displaying in CPRS
  
    The anesthesia dose is not displaying in CPRS or the Anesthesia
 report.
  
    Modify SROANR0 to include the agent dosage.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
            ;;3.0;;Surgery ;**[Patch List]**;24 Jun 93
  
                         CHECK^XTSUMBLD results
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
 SRSCHD                 7303705              7381452         77,100,131
 SRSCHDC               15476994             15554741         67,77,100
                                                             ,131
 SRSREQ                13323728             13390651         8,12,23,30
                                                             ,37,92,131
 SRSUP1                18372041             18438964         7,16,19,
                                                             47,58,67,
                                                             77,50,93,
                                                             107,114,
                                                             100,131
 SROANR0               15675240             15961896         100,131
  
 INSTALLATION INSTRUCTIONS
 =========================
 This patch can be loaded with users in the system. 
 Installation will take less than 2 minutes.
   
 1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.
  
 2.  (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
  
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
  
 3.  Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: INStallation
  
           Load a Distribution 
           Print Transport Global 
           Compare Transport Global to Current System 
           Verify Checksums in Transport Global 
           Install Package(s) 
           Restart Install of Package(s) 
           Unload a Distribution 
           Backup a Transport Global  
  
 4.  From this menu, you may elect to use the following options
      (when prompted for the INSTALL NAME, enter SR*3.0*131):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
 5.  Use the Install Package(s) option and select the package SR*3.0*131
  
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          YES//', answer NO (unless otherwise indicated).
      b.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
          and Protocols? YES//', answer NO
  
 6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
  
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.

Routine Information:
====================

Routine Name:
  - SRSCHD


Routine Checksum:

Routine Name:
  - SRSCHDC


Routine Checksum:

Routine Name:
  - SRSREQ


Routine Checksum:

Routine Name:
  - SRSUP1


Routine Checksum:

Routine Name:
  - SROANR0


Routine Checksum:

=============================================================================
User Information:
Entered By  : SMITH,ROBERT J                Date Entered  : JUN 23, 2004
Completed By: ANDERSON,MAXINE               Date Completed: DEC 21, 2004
Released By : MUSGROVE,STEVE                Date Released : DEC 22, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
