$TXT Created by MORGAN,BRIAN at MNTVBB.ISC-ALBANY.VA.GOV  (KIDS) on TUESDAY, 01/29/02 at 11:45
=============================================================================
Run Date: FEB 06, 2002                     Designation: EAS*1*8
Package : EAS - ENROLLMENT APPLICATION Priority: Mandatory
Version : 1         SEQ #6                     Status: Released
=============================================================================

Associated patches: (v)EAS*1*4     <<= must be installed BEFORE `EAS*1*8'

Subject: EAS MT SIG REPORT ISSUE

Category: 
  - Routine

Description: 
============

  Developed in [MNT,VBB]
 
  This patch addresses an issue identified in OKL-0102-70666 and MAC-0102-60937
  where it has been discovered that the EAS Means Test Signature Detailed and 
  Summary Reports do not print to a printer, just to the screen.  It has also 
  been noted that the printed report should allow queueing.
 
  Modifications have been made to resolve both of the above issues.
 
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
 
      <tab>;;1.0;ENROLLMENT APPLICATION SYSTEM;**[patch list]**;Mar 15, 2001
 
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  EASSIGDT              11873092             11749194             4,8
  EASSIGOV               7563041              7364604             4,8
 
 
  INSTALLATION INSTRUCTIONS:
  ==========================  
  This patch may be loaded with users on the system.  You may wish
  to install it during non-peak hours.  Installation will take less
  than 1 minute.
     
    1. Use the INSTALL/CHECK MESSAGE option on the Packman menu.  [Note: 
       TEXT PRINT/DISPLAY option in the PackMan menu will display the 
       patch text only.]
 
    2. Review your mapped set.  If the routines listed in the ROUTINE
       SUMMARY section are mapped, then they should be removed from the
       mapped set at this time.
     
    3. From the Kernel Installation and Distribution System Menu, select the
       Installation menu.
     
    4. From this menu, you may elect to use the following options (when
       prompted for the INSTALL NAME, enter EAS*1.0*8):
     
       a. Backup a Transport Global - this option will create a backup 
          message of any routines exported with this patch.  It will not 
          backup any other changes such as DDs or templates.
 
       b. Compare the Transport Global to Current System - this option 
          will allow you to view all changes that will be made when the
          patch is installed.  It compares all components of the patch
          (routines, DDs, templates, etc.)
     
       c. Verify Checksums in Transport Global - this option will allow 
          you to ensure the integrity of the routines that are in the 
          transport global.
     
       d. Print Transport Global - this option will allow you to view the 
          components of the KIDS build.
     
    5. Use the Install Package(s) option and select EAS*1.0*8
 
    6. When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
       YES//,' answer NO.
     
    7. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', respond NO.  
                                                      
    8. If any routines were unmapped as part of step 2, they should be
       returned to the mapped set once the installation has run to
       completion.
 

Routine Information:
====================

Routine Name:
  - EASSIGOV

 The following modifications have been made to the MT Signature Summary Report
 to allow for printing and queueing of the output:
 
 New:
 
   9)             D DEVSEL
   10)  END       Q
 
 Old:
 
   9)             D EN
   10)  END       Q
 
 ***************
 New:
 
   11)  EN        W:$E(IOST,1)="C" @IOF
   12)            S (CATA,CATC,PENDA)=""
 
 Old:
 
   11)  EN        W @IOF
   12)            S (CATA,CATC,PENDA)=""
 
 ***************
 New:
 
   57)  PRINT     ;
   58)            U IO
   59)            W !,?2,"This purpose of this report is to help sites monitor
 the Means Test images"
   60)            W !?2,"returned to them by the HEC.  The report only shows
 signature indicators"
   61)            W !?2,"for MTs that were submitted by the local site (which
 may or may not be"
   62)            w !?2,"designated as the primary site).  It does NOT take
 into account that the"
   63)            W !?2,"HEC may already have a signature on file for the vet
 as sent from a"
   64)            W !?2,"different, primary site."
   65)            W !!,?2,"Means Test Signature Data for Income Year",$E(DISPDT,
 1,3)+1699,":",!
 
 Old:
 
   57)  PRINT     D ^%ZIS I POP D ^%ZISC Q
   58)            W !,?2,"This purpose of this report is to help sites monitor
 the Means Test images returned to them by the HEC."
   59)            W "  The report only shows signature indicators for MTs that
 were submitted by the local site (which may or may not be designated as the
 primary site)."
   60)            W "  It does NOT take into account that the HEC may already
 have a signature on file for the vet as sent from a different, primary site."
   61)            W !!,?2,"Means Test Signature Data for Income Year",$E(DISPDT,
 1,3)+1699,":",!
 
 ***************
 Added:
 
   74)  DEVSEL    ;Select IO Device
   75)            K DIRUT
   76)            S %ZIS="Q" D ^%ZIS
   77)            I POP W !!?5,"Report cancelled!" D ^%ZISC Q
   78)            I $D(IO("Q")) D QUEUE Q
   79)            D EN
   80)            Q
   81)  QUEUE     ;
   82)            S ZTRTN="EN^EASSIGOV",ZTDESC="MT Signature Summary Rpt"
   83)            S(ZTSAVE("YRSEL"),ZTSAVE("NOW"),ZTSAVE("SIGNO"),ZTSAVE("SIGNUL
 "),ZTSAVE("SIGYES"),ZTSAVE("SIGDEL"),ZTSAVE("SITE"))=""
   84)            D ^%ZTLOAD
   85)            I $D(ZTSK)[0 W !!?5,"Report cancelled!"
   86)            E  W !!?5,"Report queued!"
   87)            D HOME^%ZIS Q
   88)            
 

Routine Checksum:

Routine Name:
  - EASSIGDT

 The following changes were made to allow printing and queueing of the MT
 Signature Detailed Report:
 
 New:
 
   13)            D DEVSEL
   14)  END       K ^TMP("EAS SIG RPT",$J) Q
 
 Old:
 
   13)            D EN
   14)  END       K ^TMP("EAS SIG RPT",$J) Q
 
 ***********************
 New:
 
   15)  EN        ;
   16)            ;Set start date:
 
 Old:
 
   15)  EN        W @IOF
   16)            D ^%ZIS I POP D ^%ZISC Q
   17)            ;Set start date:
 
 ***************
 New:
 
   71)  PRINT     ;
   72)            U IO
   73)            W:$E(IOST,1)="C" @IOF
   74)            W !?2,"The purpose of this report is to list those veterans
 at a particular site for"
   75)            W !?2,"which a signature still needs to be obtained.  A
 veteran will ONLY be listed"
   76)            W !?2,"if NEITHER the local site NOR the primary site (if
 different) has obtained a"
   77)            W !?2,"signature.  Once a signature has been obtained by
 EITHER the local OR"
   78)            W !?2,"primary (if different) site, the veteran will be
 removed from this list."
   79)            W !!,?2,"Signature Status For Means Tests Dated Within Income
 Year",$S(YRSEL="A":$E(NOW,1,3)+1698,YRSEL="B":$E(NOW,1,3)+1699,YRSEL="C":$E(NOW,
 1,3)+1700),!
 
 Old:
 
   72)  PRINT     W @IOF
   73)            W !,?2,"The purpose of this report is to list those veterans
 at a particular site for which a signature still needs to be obtained."
   74)            W "  A veteran will ONLY be listed if NEITHER the local site
 NOR the primary site (if different) has obtained a signature."
   75)            W "  Once a signature has been obtained by EITHER the local
 OR primary (if different) site, the veteran will be removed from this list."
   76)            W !!,?2,"Signature Status For Means Tests Dated Within Income
 Year",$S(YRSEL="A":$E(NOW,1,3)+1698,YRSEL="B":$E(NOW,1,3)+1699,YRSEL="C":$E(NOW,
 1,3)+1700),!
 
 ***************
 Added:
 
   94)  DEVSEL    ;Select IO Device
   95)            K DIRUT
   96)            S %ZIS="Q" D ^%ZIS
   97)            I POP W !!?5,"Report cancelled!" D ^%ZISC Q
   98)            I $D(IO("Q")) D QUEUE Q
   99)            D EN
   100)           Q
   101) QUEUE     ;
   102)           S ZTRTN="EN^EASSIGDT",ZTDESC="MT Signature Details Rpt"
   103)           S
 (ZTSAVE("YRSEL"),ZTSAVE("NOW"),ZTSAVE("NOSIG"),ZTSAVE("NULLSI
 G"),ZTSAVE("DELSIG"),ZTSAVE("MTCNT"))=""
   104)           D ^%ZTLOAD
   105)           I $D(ZTSK)[0 W !!?5,"Report cancelled!"
   106)           E  W !!?5,"Report queued!"
   107)           D HOME^%ZIS Q
   108)           
 

Routine Checksum:

=============================================================================
User Information:                               
Entered By  : MORGAN,BRIAN                   Date Entered : JAN 16, 2002
Completed By: MONGER,GARY                   Date Completed: FEB 06, 2002
Released By : NELSON,VICKI M               Date Released : FEB 06, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
