$TXT Created by HSU,RAYMOND at NXT.KERNEL.ISC-SF.VA.GOV  (KIDS) on WEDNESDAY, 06/16/99 at 15:13
=============================================================================
Run Date: JUL 09, 1999                     Designation: HL*1.6*47
Package : HL - HEALTH LEVEL SEVEN            Priority: Mandatory
Version : 1.6        SEQ #44                    Status: Released
=============================================================================


Subject: Message Status, Error lists & purging

Category: 
  - Routine
  - Data Dictionary

Description: 
============

  This patch has made changes for the following:
   
   1. Adds three new fields in HL COMMUNICATION SERVER PARAMETERS file
      (#869.3): 
  
     - Field #869.3,41 PURGE COMPLETED MESSAGES:  The number of days
       "Successfully Completed" messages are retained before they are
       purged.  If no value is entered, the default is 7 days.  Used as the
       actual value when the "Purge Messages" option is scheduled through
       TaskMan, and as the default when run interactively.
  
     - Field #869.3,42   PURGE AWAITING ACK MESSAGES:  The number of days
       "Awaiting Application Acknowledgement" messages are retained before
       they are purged.  If no value is entered, the default is 30 days.
       Used as the actual value when the "Purge Messages" option is
       scheduled through TaskMan, and as the default when run
       interactively.
  
     - Field #869.3,43  PURGE ALL MESSAGES:  The number of days that any
       status message are retained before they are purged(except for ERROR
       status messages).  If no value is entered, the default is 90 days.
       Used as the actual value when the "Purge Messages" option is
       scheduled through TaskMan, and as the default when run
       interactively.
   
      Please find the following HL7 options to enter or change data for
      fields described above:
   
        step 1. HL MAIN MENU
        step 2. Communications Server ...
        step 3. Edit Communication Server parameters
   
        And then you will enter the FileMan ScreenMan form as follows:
   
       --------------------------------------------------------------------
   
                                Edit HL7 Site Parameters
   
   
                             Current Domain: NXT.KERNEL.ISC-SF.VA.GOV      
                        Current Institution: ISC SAN FRANCISCO             
       Is this a Production or Test Account? test      
   
          Default Number of Incoming Filers: 1 
          Default Number of Outgoing Filers: 1 
   
                      Mail Group for Alerts: HL7                           
   
            Days to Keep Completed Messages: 7  
         Days to Keep Awaiting ACK Messages: 30 
           Days Before Purging All Messages: 90 
   
        ________________________________________________________________
   
   
        COMMAND:                                    Press <PF1>H for help
        Insert
   
        -----------------------------------------------------------------
   
      The old method which was used to change the data for the above three
      fields, by entering numbers in the TASK PARAMETERS field of the OPTION
      SCHEDULING FILE, will be replaced by this new method as described
      above, when the "Purge Message Text File Entries [HL PURGE
      TRANSMISSIONS]" OPTION is scheduled to TaskMan.
      No Error status messages can be purged in the background.  Error
      status messages should be investigated before purging them in the 
      foreground.
   
  2.  Brings in updated data for files: HL7 MESSAGE STATUS and HL7 ERROR
      MESSAGE, these two files can only be used by HL7 routines.
  
  3.  Solves problems for NOIS ISF-0499-63255: Entries existed in file #773
      with broken pointers to file #772.
  
   
  Routine Summary:
  ================
  The following is a list of the routines included in this patch.  The
  second line of each of these routines now looks like:
   
       <tab>;;1.6;HEALTH LEVEL SEVEN;**[patch list]**;Oct 13, 1995
   
   
  Checksums:
  ==========
   
    Routine Name    Checksum Before    Checksum After       Patch List
    ------------    ---------------    --------------     -----------------
      HL47PRE            new               613093                 47
      HLUOPT1          11568432          13112533         10,13,21,36,19,47
      HLTP01            5246181           5245980             2,25,34,47
      HLTP1             4286152           4286011               34,47    
   
      From CHECK^XTSUMBLD 
   
   
  Installation Instructions:
  ==========================
    1.  Users are allowed to be on the system during the installation.
    2.  Check and make sure that the 'HL PURGE TRANSMISSIONS' option is not
        scheduled during the time of installation.
    3.  Stop all the Logical links, incoming and outgoing filers.
    4.  DSM SITES: Review your mapped set.  If any of the routines listed in
        the Routine Summary section are mapped, they should be removed from
        the mapped set at this time.
    5.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.  
    6.  The patch has now been loaded into a Transport global on your
        system. You now need to use KIDS to install the Transport global.
        On the KIDS menu, under the 'Installation' menu, use the following
        options:
   
           Verify Checksums in Transport Global
           Print Transport Global 
           Compare Transport Global to Current System 
           Backup a Transport Global
           Install Package(s) 
           INSTALL NAME: HL*1.6*47
                         =========
           Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu Options,
           and Protocols?'.
    7.  DSM Sites: Rebuild your mapped set if necessary.
    8.  Restart all the Logical links, incoming and outgoing filers, which
        have been stopped in step #3.
    9.  Re-schedule 'HL PURGE TRANSMISSIONS' option if this option was
        scheduled and has been stopped in step #2.
   10.  You may use the "Edit Communication Server parameters" option to
        change the data described in DESCRIPTION section for fields-
        (#869.3,41), (#869.3,42), and (#869.3,43) if you want to.

Routine Information:
====================

Routine Name:
  - HL47PRE


Routine Checksum:

Routine Name:
  - HLUOPT1


Routine Checksum:

Routine Name:
  - HLTP01


Routine Checksum:

Routine Name:
  - HLTP1


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : HSU,RAYMOND JL                Date Entered : FEB 03, 1999
Completed By: DIMICELI,RON                  Date Completed: JUN 28, 1999
Released By : SINGH,GURBIR                  Date Released : JUL 09, 1999
=============================================================================


Packman Mail Message:
=====================

$END TXT
