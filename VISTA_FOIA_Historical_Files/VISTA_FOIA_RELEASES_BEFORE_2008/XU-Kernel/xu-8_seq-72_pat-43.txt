$TXT Created by FORT,WALLY at NXT.KERNEL.ISC-SF.VA.GOV  (KIDS) on TUESDAY, 07/07/98 at 09:52
=============================================================================
Run Date: JUL 14, 1998                     Designation: XU*8*43
Package : XU - KERNEL                          Priority: Mandatory
Version : 8        SEQ #72                      Status: Released
=============================================================================


Subject: CIRN Institution file update

Category: 
  - Routine
  - Data Dictionary

Description: 
============

  
  This patch is in support of CIRN.  It will add fields to the Institution
  file, an entry to the Facility Type file, and add new Institution file
  associations.
  **NOTE: It will add all 22 VISN's in the format 'VISN xx' and
  build the associations for each station in that VISN.
  
  There is a new form OPTION; EVE:OPERATIONS:KERNEL:INSTITUTION to edit the
  Institution file.
  
  Includes a routine with several APIs for the CIRN developers to use.
  
  Supported References
  
  PARENT^XUAF4(array, station, association) - for a specified institution which 
  is the parent for this association type.
  
  INPUT Variables
  Array - As input, it is the $NAME reference for the Array name you want 
      results back in. (This needs to be in your namespace)
  Station - The lookup value - either ien, station number, station name.
     If IEN it will need to have the ` in front of it.
  Association - The type of assocation from the Institution Association Types 
      file.  (in CIRN's case it is = VISN) 
  
  Output Variable - array("p",ien)=station name ^ station number
  
  Note: We have a business rule that institution can only have one parent per
  association.
  
  SIBLING^XUAF4(array, child ,association) - all sibling institutions of a
   given institution of a given association.
  
  INPUT Variables
  Array - As input it is the $NAME reference for the Array name you want 
      results back in. (This needs to be in your namespace)
  Child - The lookup value - either ien, station number, station name. 
      If IEN it will need to have the ` in front of it.
  Association - The type of assocation from the Institution Association Types 
      file.  (in CIRN's case it is = VISN)
  
  Output Variable - array("p",pien,"c",cien)=station name ^ station number
  
  Note: We have a business rule that institution can only have one parent per
  association.
  
  CHILDREN^XUAF4(array, parent, association) - for a specified parent return a 
     list of all child institutions for a given association.
   
  Input Variables 
  Array - As input it is the $NAME reference for the Array name you want
     results back in. (This needs to be in your namespace)
  Parent - The lookup value either ien, station number, station name. 
     If IEN it will need to have the ` in front of it.
  Association - The type of assocation from the Institution Association Types 
     file.  (in CIRN's case it is = VISN)
      
  Output Variable - array ("c" , ien)=station name ^ station number
  
  NNT^XUAF4(ien) - 
     This will return the station name ^ station number ^ station type
     IEN - The pointer value into file 4.
  
  CIRN^XUAF4(inst [,value]) - This function returns the value of the CIRN 
     enabled field from the institution file.
  
  inst - The pointer value (IEN) into file 4.
  
  value - (optional) Restricted to use by CIRN. This allows the setting of the
     field to a new value (Yes, No or @ to delete)
  
  Output - "Yes", "No" or the empty string
  
                   Checksum
  Routine         Old       New      2nd Line
  XU8P43P                 1825656    **43**
  XUAF4                   1190987    **43**
  
  ========================================================================= 
  Installation:
  
    1.  DSM sites - New routine.
       
    2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
       
    3.  The patch has now been loaded into a Transport global on your
        system. You now need to use KIDS to install the Transport global.
        On the KIDS menu, under the 'Installation' menu, use the following
        options:
        
           Verify Checksum's in Transport Global
           Print Transport Global
           Compare Transport Global to Current System
           Backup a Transport Global
       
   4.  Users can remain on the system. This patch can be loaded any
       non-peak time.
       
    5.  On the KIDS menu, under the 'Installation' menu, use the following
        option:
          Install Package(s)  'XU*8.0*43'
                               =========
          
  
   =========================================================================

Routine Information:
====================

Routine Name:
  - XUAF4


Routine Checksum:

Routine Name:
  - XU8P43P


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : FORT,WALLY                     Date Entered : AUG 19, 1996
Completed By: SHEPPARD,JEAN                 Date Completed: JUL 14, 1998
Released By : GIBBONS,JOE                   Date Released : JUL 14, 1998
=============================================================================


Packman Mail Message:
=====================

$END TXT
