$TXT Created by PAJERSKI,JAN at MNTVBB.ISC-ALBANY.VA.GOV  (KIDS) on THURSDAY, 06/25/98 at 13:56
=============================================================================
Run Date: JUL 07, 1998                     Designation: ES*1*24
Package : ES - POLICE & SECURITY             Priority: Mandatory
Version : 1        SEQ #23                      Status: Released
=============================================================================

Associated patches: (v)ES*1*23     <<= must be installed BEFORE `ES*1*24'

Subject: PREVENT NEGATIVE TIME IN JOURNAL ENTRY

Category: 
  - Routine
  - Data Dictionary

Description: 
============

   The routine modification included in this patch has been made to 
   address the issue raised in NOIS ANN-0598-42095.
    
   When using the Add a Journal Entry [ESP ADD JOURNAL ENTRY] option it
   is possible to see a negative value as the default for the TIME prompt.
   This can occur only at sites that create daily journals covering a
   period of time that begins before midnight and ends after midnight.
   For example:
     
      Select ESP DAILY JOURNAL DATE: 5/28/98   MAY 28, 1998
        Are you adding 'MAY 28, 1998' as a new ESP DAILY JOURNAL 
          (the 23RD)? No// Y (Yes)
      DATE: MAY 28,1998// 
      FROM: 98-05-28-0700
      TO: 98-05-29-0659
     
   If all the TIME entries made into that journal are for times which
   are numerically greater than the ending time of the journal, then a
   negative value will be seen as a default for the TIME prompt when 
   using the Add a Journal Entry [ESP ADD JOURNAL ENTRY] option.
     
   Continuing the example above, if the user had made journal entries 
   for 1030, 1245, and 1400, then he would see the following on his
   next journal entry:
   
         AJE    Add a Journal Entry
         CDJ    Create a Daily Journal
         DJS    Daily Journal Statistics
         PDJ    Print Daily Journal
         PSJ    Print Shift Journal
     
      Select Daily Operations Journal Option:  Add a Journal Entry
      Select ESP DAILY JOURNAL DATE:    5-28-1998
      Select TIME: -1400//
   
   It should be noted that this is a problem with the display only.  
   The time entries in the ESP DAILY JOURNAL file (#916) do NOT
   contain negative values.  But because the value is negative, it
   cannot be used to find an actual journal entry and the user is
   forced to re-type a valid journal time.
   
   A modification has been made to the LAST function in routine ESPAJE
   to correct the time display.
   
   Also included in this patch is a minor data dictionary update.  The TO
   field (#2) of the ESP DAILY JOURNAL file (#916) contained a typographical
   error in its Description.  Since that Description is displayed whenever
   help is requested during input (i.e., whenever the user enters "??" at
   the "TO:" prompt), it should provide correct information.
   
   
   ROUTINE SUMMARY:
   ================
   The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
   
       <tab>;;1.0;POLICE & SECURITY;[patch list];Mar 31, 1994
   
                              CHECK^XTSUMBLD results
   
   Routine name        Before Patch       After Patch         Patch List
   ============        ============       ===========         ==========
   ESPAJE                 2009742            1966903         17,18,23,24
     
    
   INSTALLATION INSTRUCTIONS:
   ==========================
   
   This patch can be loaded with users on the system. 
   
   Installation will take less than 2 minutes.  
    
   1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
       the KIDS distribution included with this message.
     
   2.  Review your mapped set.  If any of the routines listed in the
       ROUTINE SUMMARY section are mapped, they should be removed
       from the mapped set at this time.
   
   3.  From the Kernel Installation and Distribution System Menu, select 
       the Installation menu.  
    
   4.  From this menu, you may elect to use the following options
       (when prompted for INSTALL NAME, enter ES*1.0*24):
   
       a. Backup a Transport Global - This option will create a backup 
          message of any routines exported with this patch. It will not 
          backup any other changes such as DD's or templates.  
       b. Compare Transport Global to Current System - This option will 
          allow you to view all changes that will be made when this patch 
          is installed. It compares all components of this patch 
          (routines, DD's, templates, etc.).  
       c. Verify Checksums in Transport Global - This option will allow 
          you to ensure the integrity of the routines that are in the 
          transport global.  
    
   5.  Use the Install Package(s) option and select the package ES*1.0*24.
   
   6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', respond YES.  When prompted to select the options
       you would like to place out of order, enter the following:
      
          Daily Operations Journal      [ESP DAILY OPERATIONS JOURNAL]
      
   7.  If routines were unmapped as part of step 2, they should be returned
       to the mapped set once the installation has run to completion.
   

Routine Information:
====================

Routine Name:
  - ESPAJE


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : PAJERSKI,JAN                   Date Entered : JUN 01, 1998
Completed By: RUBIN,ALICE                   Date Completed: JUL 07, 1998
Released By : HUTCHINSON,PATRICIA ANN      Date Released : JUL 07, 1998
=============================================================================


Packman Mail Message:
=====================

$END TXT
