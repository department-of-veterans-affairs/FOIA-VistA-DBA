
=============================================================================
Run Date: JAN 31, 2005                     Designation: IB*2*297
Package : IB - INTEGRATED BILLING             Priority: Mandatory
Version : 2       SEQ #268                      Status: Released
                  Compliance Date: MAR 03, 2005
=============================================================================

Associated patches: (v)IB*2*267    <<= must be installed BEFORE `IB*2*297'

Subject: INSURANCE API UPDATE/CLEAN UP

Category: 
  - Routine

Description:
============

 This patch corrects a problem with the recent Update to Insurance API
 patch IB*2*267 and includes an insurance database report.
   
 1.  The recently released Update to Insurance API patch would cause an M 
 error if insurance plan data was requested and the patient had insurance
 data with no plan data.  The API is being updated to avoid the hard M
 error and return no plan coverage information if no plan data is
 available.  This is a data issue caused by old insurance data that was
 never associated with a group or individual plan.  Current Integrated 
 Billing (IB) functionality to store insurance information requires either
 a group or individual plan always be selected and associated with a
 patient's insurance.
   
 2.  With the install of this patch a post-init routine  will run to
 examine the sites insurance database and report any issues with plan
 data.  The post-init should be queued to run off hours and will produce a
 MailMan message to the group specified in the IB SITE PARAMETERS (#350.9)
 file, NEW INSURANCE MAIL GROUP (#4.04) field, which is typically the IB
 NEW INSURANCE mail group.  The post-init will:
   
   o Go through the whole patient file, making sure the "AB" cross 
     reference is set for every patient's insurance information, if it is
     not there, the "AB" cross reference will be set.
  
   o Go through the "AB" cross reference to make sure every entry is valid 
     and remove invalid entries in that cross reference.
  
   o Verify there is a plan for every insurance company in the PATIENT 
     (#2) file, INSURANCE TYPE (#.3121) multiple, GROUP PLAN (#.18) field.
  
   o Verify the INSURANCE COMPANY (#36) file pointer is valid from the
     PATIENT (#2) file, INSURANCE TYPE (#.3121) multiple, INSURANCE TYPE
     (#.01) field.
  
   o Verify the plan pointer is valid from the PATIENT (#2) file, 
     INSURANCE TYPE (#.3121) multiple, GROUP PLAN (#.18) field.
  
   o Verify the plan's insurance company is the same as the patient's 
     insurance company.  There is a comparison of the patient's insurance 
     company information (PATIENT (#2) file, INSURANCE TYPE (#.3121)
     multiple, INSURANCE TYPE (#.01) field) and plan information (PATIENT
     (#2) file, INSURANCE TYPE (#.3121) multiple, GROUP PLAN (#.18) field)
     to verify the plan's insurance company (GROUP INSURANCE PLAN (#355.3)
     file, INSURANCE COMPANY (#.01) field) is the same as the patient's
     insurance company.
  
  
 At the completion of the verification a MailMan message will be generated 
 to report any issues found.  Some of the issues can be corrected using the
 "Patient Insurance Info View/Edit [IBCN PATIENT INSURANCE]" menu option,
 but some will require IRM assistance in resolution.  This is not meant to
 be an insurance clean up report, but an insurance database validation
 report, therefore there are no limiting factors built into the report such
 as inactive or deceased patient.  The post init routine can be deleted
 after completion of compiling of the report or can be kept by the site to
 run again in the future.  If a site continues to see significant numbers
 of entries added to the report, the site should review any local software
 for insurance data capture.  Estimated time for the post-init process to 
 run is 2 hours and will depend on the size of your PATIENT (#2) file, 
 number of patients with insurance data and system processes running at 
 the same time.
   
   
  This patch addresses the following New Service Request (NSR):
  -------------------------------------------------------------
  There are no NSR(s) associated with this patch
   
   
   
  This patch addresses the following NOIS message(s):
  ------------------------------------------------------------
  NYH-1204-11675      IB Error $ZE= <SUBSCRIPT>PLCOV+7^IBBFAPI
   
   
  Overview of NOIS Message(s):
  ----------------------------
  NYH-1204-11675
  Problem:  Hard error - A null subscript error occurred when an insurance 
  company had no plan in the patient's insurance multiple. 
  Resolution:  Modification to the routine IBBFAPI was made to ensure that 
  plan data was present prior to looking up plan coverage limitations.
   
   
 Technical Description
 --------------------
 IB20P297 is the post init routine that will verify the insurance data 
 base integrity and report any issues found that need to be manually 
 resolved.  This routine can be deleted after it has completed running, 
 but may be kept so the site can re-run in the future to see that there 
 are no new database problems found.
  
 IBBFAPI is updated to resolve NOIS NYH-1204-11675.  The routine will now 
 make sure it has a plan prior to retrieving plan coverage data.
  
   
 COMPONENTS SENT WITH PATCH:
 ---------------------------
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;2.0;INTEGRATED BILLING;**[patch list]**;21-MAR-94
  
                             CHECK^XTSUMBLD results
    Routine name      Before Patch          After Patch         Patch List
    ============      ============          ===========         ==========
    IB20P297                   N/A             10802601             297
    IBBFAPI                8995641              9515379           267,297
  
        Total number of routines - 2
  
  
  
 Install time less than 5 minutes.
 Estimated post install time 2 hours.
  
  
 SOFTWARE RETRIEVAL
 ====================================
 The software for this patch is being distributed in host file 
 RMPR_3_96.KID.  The host file will contain two KIDS builds. The patches
 contained in the RMPR multi-package distribution are:
  
       Package                         Patch
       ------------------              -----------
       PROSTHETICS                     RMPR*3.0*96
       INTEGRATED BILLING              IB*2.0*297
   
   
 Please refer to the 'Software and Documentation Retrieval' section of the 
 RMPR*3.0*96 patch description for instructions on how to acquire the patch
 software and install instructions.

Routine Information:
====================

Routine Name:
  - IBBFAPI


Routine Checksum:

Routine Name:
  - IB20P297


Routine Checksum:

=============================================================================
User Information:
Entered By  : ZEIGLER,EDWARD L              Date Entered  : JAN 03, 2005
Completed By: LYNCH,MARY F.                 Date Completed: JAN 27, 2005
Released By : JACKSON,SHERYL                Date Released : JAN 31, 2005
=============================================================================


Packman Mail Message:
=====================

No routines included
