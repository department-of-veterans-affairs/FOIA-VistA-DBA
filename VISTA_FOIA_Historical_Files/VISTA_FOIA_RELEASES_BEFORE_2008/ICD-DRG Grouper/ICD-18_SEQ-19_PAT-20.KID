Released ICD*18*20 SEQ #19
Extracted from mail message
**KIDS**:ICD*18.0*20^

**INSTALL NAME**
ICD*18.0*20
"BLD",6387,0)
ICD*18.0*20^DRG GROUPER^0^3051130^y
"BLD",6387,1,0)
^^2^2^3050920^
"BLD",6387,1,1,0)
Provides the annual update of the DRG Grouper for FY 2006 and
"BLD",6387,1,2,0)
resolves Remedy tickets.  
"BLD",6387,4,0)
^9.64PA^^
"BLD",6387,6)
7^
"BLD",6387,"INI")
ICD1820P
"BLD",6387,"INID")
n^^n
"BLD",6387,"KRN",0)
^9.67PA^8989.52^19
"BLD",6387,"KRN",.4,0)
.4
"BLD",6387,"KRN",.401,0)
.401
"BLD",6387,"KRN",.402,0)
.402
"BLD",6387,"KRN",.403,0)
.403
"BLD",6387,"KRN",.5,0)
.5
"BLD",6387,"KRN",.84,0)
.84
"BLD",6387,"KRN",3.6,0)
3.6
"BLD",6387,"KRN",3.8,0)
3.8
"BLD",6387,"KRN",9.2,0)
9.2
"BLD",6387,"KRN",9.8,0)
9.8
"BLD",6387,"KRN",9.8,"NM",0)
^9.68A^22^22
"BLD",6387,"KRN",9.8,"NM",1,0)
ICDDRG^^0^B25160111
"BLD",6387,"KRN",9.8,"NM",2,0)
ICDDRG0^^0^B33851546
"BLD",6387,"KRN",9.8,"NM",3,0)
ICDDRGX^^0^B15940302
"BLD",6387,"KRN",9.8,"NM",4,0)
ICDDRG5^^0^B19783386
"BLD",6387,"KRN",9.8,"NM",5,0)
ICDDRG8^^0^B9006336
"BLD",6387,"KRN",9.8,"NM",6,0)
ICDHLPD^^0^B5666760
"BLD",6387,"KRN",9.8,"NM",7,0)
ICD1820A^^0^B38076793
"BLD",6387,"KRN",9.8,"NM",8,0)
ICD1820B^^0^B14430753
"BLD",6387,"KRN",9.8,"NM",9,0)
ICD1820C^^0^B34780352
"BLD",6387,"KRN",9.8,"NM",10,0)
ICD1820D^^0^B32278361
"BLD",6387,"KRN",9.8,"NM",11,0)
ICD1820E^^0^B16635319
"BLD",6387,"KRN",9.8,"NM",12,0)
ICD1820P^^0^B283361
"BLD",6387,"KRN",9.8,"NM",13,0)
ICD1820V^^0^B732333
"BLD",6387,"KRN",9.8,"NM",14,0)
ICD1820X^^0^B20929129
"BLD",6387,"KRN",9.8,"NM",15,0)
ICD1820Y^^0^B21429448
"BLD",6387,"KRN",9.8,"NM",16,0)
ICD1820Z^^0^B13782689
"BLD",6387,"KRN",9.8,"NM",17,0)
ICDTLB1B^^0^B17764004
"BLD",6387,"KRN",9.8,"NM",18,0)
ICDTLB2B^^0^B25384998
"BLD",6387,"KRN",9.8,"NM",19,0)
ICDTLB3B^^0^B21430728
"BLD",6387,"KRN",9.8,"NM",20,0)
ICDTLB4B^^0^B17888498
"BLD",6387,"KRN",9.8,"NM",21,0)
ICDTLB5B^^0^B21200427
"BLD",6387,"KRN",9.8,"NM",22,0)
ICDTLB6B^^0^B50884849
"BLD",6387,"KRN",9.8,"NM","B","ICD1820A",7)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820B",8)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820C",9)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820D",10)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820E",11)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820P",12)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820V",13)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820X",14)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820Y",15)

"BLD",6387,"KRN",9.8,"NM","B","ICD1820Z",16)

"BLD",6387,"KRN",9.8,"NM","B","ICDDRG",1)

"BLD",6387,"KRN",9.8,"NM","B","ICDDRG0",2)

"BLD",6387,"KRN",9.8,"NM","B","ICDDRG5",4)

"BLD",6387,"KRN",9.8,"NM","B","ICDDRG8",5)

"BLD",6387,"KRN",9.8,"NM","B","ICDDRGX",3)

"BLD",6387,"KRN",9.8,"NM","B","ICDHLPD",6)

"BLD",6387,"KRN",9.8,"NM","B","ICDTLB1B",17)

"BLD",6387,"KRN",9.8,"NM","B","ICDTLB2B",18)

"BLD",6387,"KRN",9.8,"NM","B","ICDTLB3B",19)

"BLD",6387,"KRN",9.8,"NM","B","ICDTLB4B",20)

"BLD",6387,"KRN",9.8,"NM","B","ICDTLB5B",21)

"BLD",6387,"KRN",9.8,"NM","B","ICDTLB6B",22)

"BLD",6387,"KRN",19,0)
19
"BLD",6387,"KRN",19.1,0)
19.1
"BLD",6387,"KRN",101,0)
101
"BLD",6387,"KRN",409.61,0)
409.61
"BLD",6387,"KRN",771,0)
771
"BLD",6387,"KRN",870,0)
870
"BLD",6387,"KRN",8989.51,0)
8989.51
"BLD",6387,"KRN",8989.52,0)
8989.52
"BLD",6387,"KRN",8994,0)
8994
"BLD",6387,"KRN","B",.4,.4)

"BLD",6387,"KRN","B",.401,.401)

"BLD",6387,"KRN","B",.402,.402)

"BLD",6387,"KRN","B",.403,.403)

"BLD",6387,"KRN","B",.5,.5)

"BLD",6387,"KRN","B",.84,.84)

"BLD",6387,"KRN","B",3.6,3.6)

"BLD",6387,"KRN","B",3.8,3.8)

"BLD",6387,"KRN","B",9.2,9.2)

"BLD",6387,"KRN","B",9.8,9.8)

"BLD",6387,"KRN","B",19,19)

"BLD",6387,"KRN","B",19.1,19.1)

"BLD",6387,"KRN","B",101,101)

"BLD",6387,"KRN","B",409.61,409.61)

"BLD",6387,"KRN","B",771,771)

"BLD",6387,"KRN","B",870,870)

"BLD",6387,"KRN","B",8989.51,8989.51)

"BLD",6387,"KRN","B",8989.52,8989.52)

"BLD",6387,"KRN","B",8994,8994)

"BLD",6387,"PRE")
ICD1820V
"BLD",6387,"QUES",0)
^9.62^^
"BLD",6387,"REQB",0)
^9.611^4^4
"BLD",6387,"REQB",1,0)
ICD*18.0*10^1
"BLD",6387,"REQB",2,0)
ICD*18.0*14^1
"BLD",6387,"REQB",3,0)
ICD*18.0*17^1
"BLD",6387,"REQB",4,0)
LEX*2.0*37^1
"BLD",6387,"REQB","B","ICD*18.0*10",1)

"BLD",6387,"REQB","B","ICD*18.0*14",2)

"BLD",6387,"REQB","B","ICD*18.0*17",3)

"BLD",6387,"REQB","B","LEX*2.0*37",4)

"INI")
ICD1820P
"MBREQ")
0
"PKG",151,-1)
1^1
"PKG",151,0)
DRG GROUPER^ICD^DRG GROUPER
"PKG",151,20,0)
^9.402P^^
"PKG",151,22,0)
^9.49I^1^1
"PKG",151,22,1,0)
18.0^3001024^3010118^66481
"PKG",151,22,1,"PAH",1,0)
20^3051130^100850
"PKG",151,22,1,"PAH",1,1,0)
^^2^2^3051130
"PKG",151,22,1,"PAH",1,1,1,0)
Provides the annual update of the DRG Grouper for FY 2006 and
"PKG",151,22,1,"PAH",1,1,2,0)
resolves Remedy tickets.  
"PRE")
ICD1820V
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
22
"RTN","ICD1820A")
0^7^B38076793
"RTN","ICD1820A",1,0)
ICD1820A ;;ALB/EG/JAT - ADD NEW DRGs; 6/19/05 4:08pm ; 6/24/05 3:29pm
"RTN","ICD1820A",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13,2000
"RTN","ICD1820A",3,0)
 ;
"RTN","ICD1820A",4,0)
 Q
"RTN","ICD1820A",5,0)
ADDDRG  ;-- Add new DRGs
"RTN","ICD1820A",6,0)
 N DIC,X,Y,DINUM,LINE,ICDDRG,DA,DRGX,DRGY,MDC,SURG,ROUTINE,ICDIEN
"RTN","ICD1820A",7,0)
 D BMES^XPDUTL(">>> Adding New DRGs - Please verify that 16 added")
"RTN","ICD1820A",8,0)
 ; create top-level record (weights & trims will be added later)
"RTN","ICD1820A",9,0)
 F LINE=1:1 S X=$T(ADD+LINE) S ICDDRG=$P(X,";;",2) Q:ICDDRG="EXIT"  D
"RTN","ICD1820A",10,0)
 .S DIC="^ICD(",DIC(0)="L"
"RTN","ICD1820A",11,0)
 .S MDC=$P(ICDDRG,U,2) I MDC="PRE" S MDC=98
"RTN","ICD1820A",12,0)
 .S SURG=$P(ICDDRG,U,3)
"RTN","ICD1820A",13,0)
 .S DIC("DR")="5///^S X=MDC;.06///^S X=SURG"
"RTN","ICD1820A",14,0)
 .S X="DRG",X=X_$P(ICDDRG,U)
"RTN","ICD1820A",15,0)
 .; check for duplicates in case install is being rerun
"RTN","ICD1820A",16,0)
 .I $D(^ICD($P(ICDDRG,U),0)) Q
"RTN","ICD1820A",17,0)
 .K DO D FILE^DICN
"RTN","ICD1820A",18,0)
 .K DIC,DA
"RTN","ICD1820A",19,0)
 .;create 80.21A subfile
"RTN","ICD1820A",20,0)
 .S DA(1)=$P(ICDDRG,U)
"RTN","ICD1820A",21,0)
 .S DIC="^ICD("_DA(1)_",1,"
"RTN","ICD1820A",22,0)
 .S DIC(0)="L"
"RTN","ICD1820A",23,0)
 .S X=$P(ICDDRG,U,4)
"RTN","ICD1820A",24,0)
 .K DO D FILE^DICN
"RTN","ICD1820A",25,0)
 .;create 80.266 subfile
"RTN","ICD1820A",26,0)
 .K DIC,DA
"RTN","ICD1820A",27,0)
 .S DA(1)=$P(ICDDRG,U)
"RTN","ICD1820A",28,0)
 .S DIC="^ICD("_DA(1)_",66,"
"RTN","ICD1820A",29,0)
 .S DIC(0)="L"
"RTN","ICD1820A",30,0)
 .I SURG="" S SURG=0
"RTN","ICD1820A",31,0)
 .S DIC("DR")=".03///1;.05///^S X=MDC;.06///^S X=SURG"
"RTN","ICD1820A",32,0)
 .S X=3051001
"RTN","ICD1820A",33,0)
 .K DO D FILE^DICN
"RTN","ICD1820A",34,0)
 .; create 80.271 subfile
"RTN","ICD1820A",35,0)
 .K DIC,DA
"RTN","ICD1820A",36,0)
 .S DA(1)=$P(ICDDRG,U)
"RTN","ICD1820A",37,0)
 .S DIC="^ICD("_DA(1)_",2,"
"RTN","ICD1820A",38,0)
 .S DIC(0)="L"
"RTN","ICD1820A",39,0)
 .S ROUTINE=$P(ICDDRG,U,5)
"RTN","ICD1820A",40,0)
 .S DIC("DR")="1///^S X=ROUTINE"
"RTN","ICD1820A",41,0)
 .S X=3051001
"RTN","ICD1820A",42,0)
 .K DO D FILE^DICN
"RTN","ICD1820A",43,0)
 .; create 80.268 and 80.2681 subfiles
"RTN","ICD1820A",44,0)
 .K DIC,DA
"RTN","ICD1820A",45,0)
 .N FDA
"RTN","ICD1820A",46,0)
 .S ICDIEN=$P(ICDDRG,U)
"RTN","ICD1820A",47,0)
 .S FDA(1820,80.2,"?1,",.01)=ICDIEN
"RTN","ICD1820A",48,0)
 .S FDA(1820,80.268,"+2,?1,",.01)=3051001
"RTN","ICD1820A",49,0)
 .D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820A",50,0)
 .S FDA(1820,80.2,"?1,",.01)=ICDIEN
"RTN","ICD1820A",51,0)
 .S FDA(1820,80.268,"?2,?1,",.01)=3051001
"RTN","ICD1820A",52,0)
 .S FDA(1820,80.2681,"+3,?2,?1,",.01)=$P(ICDDRG,U,4)
"RTN","ICD1820A",53,0)
 .D UPDATE^DIE("","FDA(1820)")
"RTN","ICD1820A",54,0)
 .; displays listing
"RTN","ICD1820A",55,0)
 .S DRGX=$P(ICDDRG,U),DRGY=$P(ICDDRG,U,4)
"RTN","ICD1820A",56,0)
 .D MES^XPDUTL("  DRG"_DRGX_"     "_DRGY_" added.")
"RTN","ICD1820A",57,0)
 ; now update entire file
"RTN","ICD1820A",58,0)
 D UPDTDRG^ICD1820B
"RTN","ICD1820A",59,0)
 ; inactivate DRGs for this year
"RTN","ICD1820A",60,0)
 D INACTDRG^ICD1820B
"RTN","ICD1820A",61,0)
 Q
"RTN","ICD1820A",62,0)
 ;
"RTN","ICD1820A",63,0)
ADD ;New DRGs
"RTN","ICD1820A",64,0)
 ;;544^8^1^MAJOR JOINT REPLACEMENT OR REATTACHMENT OF LOWER EXTREMITY^ICDTLB6B
"RTN","ICD1820A",65,0)
 ;;545^8^1^REVISION OF HIP OR KNEE REPLACEMENT^ICDTLB6B
"RTN","ICD1820A",66,0)
 ;;546^8^1^SPINAL FUSION EXC CERV WITH CURVATURE OF THE SPINE OR MALIG^ICDTLB6B
"RTN","ICD1820A",67,0)
 ;;547^5^1^CORONARY BYPASS W CARDIAC CATH W MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",68,0)
 ;;548^5^1^CORONARY BYPASS W CARDIAC CATH W/O MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",69,0)
 ;;549^5^1^CORONARY BYPASS W/O CARDIAC CATH W MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",70,0)
 ;;550^5^1^CORONARY BYPASS W/O CARDIAC CATH W/O MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",71,0)
 ;;551^5^1^PERMANENT CARDIAC PACEMAKER IMPL W MAJ CV OR AICD LEAD OR GNRTR^ICDTLB6B
"RTN","ICD1820A",72,0)
 ;;552^5^1^OTHER PERMANENT CARDIAC PACEMAKER IMPLANT W/O MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",73,0)
 ;;553^5^1^OTHER VASCULAR PROCEDURES W CC W MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",74,0)
 ;;554^5^1^OTHER VASCULAR PROCEDURES W CC W/O MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",75,0)
 ;;555^5^1^PERCUTANEOUS CARDIOVASCULAR PROC W MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",76,0)
 ;;556^5^1^PERCUTANEOUS CARDIOVASCULAR PROC W NON-DRUG-ELUTING STENT W/O MAJ CV DX^ICDTLB6B
"RTN","ICD1820A",77,0)
 ;;557^5^1^PERCUTANEOUS CARDIOVASCULAR PROC W DRUG-ELUTING STENT W MAJOR CV DX^ICDTLB6B
"RTN","ICD1820A",78,0)
 ;;558^5^1^PERCUTANEOUS CARDIOVASCULAR PROC W DRUG-ELUTING STENT W/O MAJ CV DX^ICDTLB6B
"RTN","ICD1820A",79,0)
 ;;559^1^^ACUTE ISCHEMIC STROKE WITH USE OF THROMBOLYTIC AGENT^ICDTLB6B
"RTN","ICD1820A",80,0)
 ;;EXIT
"RTN","ICD1820A",81,0)
 ;
"RTN","ICD1820A",82,0)
PRO ;-update operation/procedure codes
"RTN","ICD1820A",83,0)
 ; from Table 6B in Fed Reg - assumes new codes already added by Lexicon
"RTN","ICD1820A",84,0)
 D BMES^XPDUTL(">>>Modifying new op/pro codes - file 80.1")
"RTN","ICD1820A",85,0)
 N LINE,X,ICDPROC,ENTRY,DA,DIE,DR,IDENT,MDC24,SUBLINE,DATA,FDA
"RTN","ICD1820A",86,0)
 F LINE=1:1 S X=$T(REV+LINE) S ICDPROC=$P(X,";;",2) Q:ICDPROC="EXIT"  D
"RTN","ICD1820A",87,0)
 .Q:ICDPROC["+"
"RTN","ICD1820A",88,0)
 .S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",0))
"RTN","ICD1820A",89,0)
 .I ENTRY D
"RTN","ICD1820A",90,0)
 ..;check for possible inactive dupe
"RTN","ICD1820A",91,0)
 ..I $P($G(^ICD0(ENTRY,0)),U,9)=1 S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",ENTRY)) I 'ENTRY Q
"RTN","ICD1820A",92,0)
 ..S DA=ENTRY,DIE="^ICD0("
"RTN","ICD1820A",93,0)
 ..S IDENT=$P(ICDPROC,U,2)
"RTN","ICD1820A",94,0)
 ..;this is from the OR column in Table 6B 
"RTN","ICD1820A",95,0)
 ..I IDENT="Y" S IDENT="O"
"RTN","ICD1820A",96,0)
 ..I DA=4284 S IDENT="O1"
"RTN","ICD1820A",97,0)
 ..S MDC24=$P(ICDPROC,U,3)
"RTN","ICD1820A",98,0)
 ..S DR="2///^S X=IDENT;5///^S X=MDC24"
"RTN","ICD1820A",99,0)
 ..I IDENT=""&(MDC24="") Q
"RTN","ICD1820A",100,0)
 ..D ^DIE
"RTN","ICD1820A",101,0)
 ..; check if already created in case patch being re-installed
"RTN","ICD1820A",102,0)
 ..Q:$D(^ICD0(ENTRY,2))
"RTN","ICD1820A",103,0)
 ..;add 80.171, 80.1711 and 80.17111 records
"RTN","ICD1820A",104,0)
 ..F SUBLINE=1:1 S X=$T(REV+LINE+SUBLINE) S DATA=$P(X,";;",2) Q:DATA'["+"  D
"RTN","ICD1820A",105,0)
 ...I SUBLINE=1 D
"RTN","ICD1820A",106,0)
 ....S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1820A",107,0)
 ....S FDA(1820,80.171,"+2,?1,",.01)=3051001
"RTN","ICD1820A",108,0)
 ....D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820A",109,0)
 ...S DATA=$E(DATA,2,99)
"RTN","ICD1820A",110,0)
 ...S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1820A",111,0)
 ...S FDA(1820,80.171,"?2,?1,",.01)=3051001
"RTN","ICD1820A",112,0)
 ...S FDA(1820,80.1711,"+3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1820A",113,0)
 ...D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820A",114,0)
 ...S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1820A",115,0)
 ...S FDA(1820,80.171,"?2,?1,",.01)=3051001
"RTN","ICD1820A",116,0)
 ...S FDA(1820,80.1711,"?3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1820A",117,0)
 ...S FDA(1820,80.17111,"+4,?3,?2,?1,",.01)=$P(DATA,U,2)
"RTN","ICD1820A",118,0)
 ...I $P(DATA,U,3) S FDA(1820,80.17111,"+5,?3,?2,?1,",.01)=$P(DATA,U,3)
"RTN","ICD1820A",119,0)
 ...I $P(DATA,U,4) S FDA(1820,80.17111,"+6,?3,?2,?1,",.01)=$P(DATA,U,4)
"RTN","ICD1820A",120,0)
 ...I $P(DATA,U,5) S FDA(1820,80.17111,"+7,?3,?2,?1,",.01)=$P(DATA,U,5)
"RTN","ICD1820A",121,0)
 ...I $P(DATA,U,6) S FDA(1820,80.17111,"+8,?3,?2,?1,",.01)=$P(DATA,U,6)
"RTN","ICD1820A",122,0)
 ...I $P(DATA,U,7) S FDA(1820,80.17111,"+9,?3,?2,?1,",.01)=$P(DATA,U,7)
"RTN","ICD1820A",123,0)
 ...D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820A",124,0)
 Q
"RTN","ICD1820A",125,0)
 ; 
"RTN","ICD1820A",126,0)
REV ;
"RTN","ICD1820A",127,0)
 ;;00.18^^
"RTN","ICD1820A",128,0)
 ;;00.40^^
"RTN","ICD1820A",129,0)
 ;;00.41^^
"RTN","ICD1820A",130,0)
 ;;00.42^^
"RTN","ICD1820A",131,0)
 ;;00.43^^
"RTN","ICD1820A",132,0)
 ;;00.45^^
"RTN","ICD1820A",133,0)
 ;;00.46^^
"RTN","ICD1820A",134,0)
 ;;00.47^^
"RTN","ICD1820A",135,0)
 ;;00.48^^
"RTN","ICD1820A",136,0)
 ;;00.66^Y^
"RTN","ICD1820A",137,0)
 ;;+5^106^518^555^556^557^558
"RTN","ICD1820A",138,0)
 ;;00.70^Y^2
"RTN","ICD1820A",139,0)
 ;;+8^471^545
"RTN","ICD1820A",140,0)
 ;;+10^292^293
"RTN","ICD1820A",141,0)
 ;;+21^442^443
"RTN","ICD1820A",142,0)
 ;;+24^485
"RTN","ICD1820A",143,0)
 ;;00.71^Y^2
"RTN","ICD1820A",144,0)
 ;;+8^471^545
"RTN","ICD1820A",145,0)
 ;;+10^292^293
"RTN","ICD1820A",146,0)
 ;;+21^442^443
"RTN","ICD1820A",147,0)
 ;;+24^485 
"RTN","ICD1820A",148,0)
 ;;00.72^Y^2
"RTN","ICD1820A",149,0)
 ;;+8^471^545
"RTN","ICD1820A",150,0)
 ;;+10^292^293
"RTN","ICD1820A",151,0)
 ;;+21^442^443
"RTN","ICD1820A",152,0)
 ;;+24^485
"RTN","ICD1820A",153,0)
 ;;00.73^Y^2
"RTN","ICD1820A",154,0)
 ;;+8^471^545
"RTN","ICD1820A",155,0)
 ;;+10^292^293
"RTN","ICD1820A",156,0)
 ;;+21^442^443
"RTN","ICD1820A",157,0)
 ;;+24^485
"RTN","ICD1820A",158,0)
 ;;00.74^^
"RTN","ICD1820A",159,0)
 ;;00.75^^
"RTN","ICD1820A",160,0)
 ;;00.76^^
"RTN","ICD1820A",161,0)
 ;;00.80^Y^2
"RTN","ICD1820A",162,0)
 ;;+8^471^545
"RTN","ICD1820A",163,0)
 ;;+21^442^443
"RTN","ICD1820A",164,0)
 ;;+24^486
"RTN","ICD1820A",165,0)
 ;;00.81^Y^2
"RTN","ICD1820A",166,0)
 ;;+8^471^545
"RTN","ICD1820A",167,0)
 ;;+21^442^443
"RTN","ICD1820A",168,0)
 ;;+24^486
"RTN","ICD1820A",169,0)
 ;;00.82^Y^2
"RTN","ICD1820A",170,0)
 ;;+8^471^545
"RTN","ICD1820A",171,0)
 ;;+21^442^443
"RTN","ICD1820A",172,0)
 ;;+24^486
"RTN","ICD1820A",173,0)
 ;;00.83^Y^2
"RTN","ICD1820A",174,0)
 ;;+8^471^545
"RTN","ICD1820A",175,0)
 ;;+21^442^443
"RTN","ICD1820A",176,0)
 ;;+24^486
"RTN","ICD1820A",177,0)
 ;;00.84^Y^2
"RTN","ICD1820A",178,0)
 ;;+8^471^545
"RTN","ICD1820A",179,0)
 ;;+21^442^443
"RTN","ICD1820A",180,0)
 ;;+24^486
"RTN","ICD1820A",181,0)
 ;;01.26^^
"RTN","ICD1820A",182,0)
 ;;01.27^^
"RTN","ICD1820A",183,0)
 ;;37.41^Y^
"RTN","ICD1820A",184,0)
 ;;+5^110^111
"RTN","ICD1820A",185,0)
 ;;37.49^Y^2
"RTN","ICD1820A",186,0)
 ;;+5^110^111
"RTN","ICD1820A",187,0)
 ;;+21^442^443
"RTN","ICD1820A",188,0)
 ;;+24^486
"RTN","ICD1820A",189,0)
 ;;39.73^Y^2
"RTN","ICD1820A",190,0)
 ;;+5^110^111
"RTN","ICD1820A",191,0)
 ;;+11^315
"RTN","ICD1820A",192,0)
 ;;+21^442^443
"RTN","ICD1820A",193,0)
 ;;+24^486
"RTN","ICD1820A",194,0)
 ;;81.18^Y^2
"RTN","ICD1820A",195,0)
 ;;+8^233^234
"RTN","ICD1820A",196,0)
 ;;+21^442^443
"RTN","ICD1820A",197,0)
 ;;+24^486
"RTN","ICD1820A",198,0)
 ;;84.56^^
"RTN","ICD1820A",199,0)
 ;;84.57^^
"RTN","ICD1820A",200,0)
 ;;84.58^Y^2
"RTN","ICD1820A",201,0)
 ;;+1^531^532
"RTN","ICD1820A",202,0)
 ;;+8^499^500
"RTN","ICD1820A",203,0)
 ;;+21^442^443
"RTN","ICD1820A",204,0)
 ;;+24^486
"RTN","ICD1820A",205,0)
 ;;84.71^^
"RTN","ICD1820A",206,0)
 ;;84.72^^
"RTN","ICD1820A",207,0)
 ;;84.73^^
"RTN","ICD1820A",208,0)
 ;;86.97^Y^
"RTN","ICD1820A",209,0)
 ;;+1^7^8
"RTN","ICD1820A",210,0)
 ;;86.98^Y^
"RTN","ICD1820A",211,0)
 ;;+1^7^8
"RTN","ICD1820A",212,0)
 ;;92.20^^
"RTN","ICD1820A",213,0)
 ;;EXIT
"RTN","ICD1820B")
0^8^B14430753
"RTN","ICD1820B",1,0)
ICD1820B ;ALB/ESD/JAT - ICD/DRG; 6/22/01 2:43pm ; 6/29/05 3:30pm
"RTN","ICD1820B",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13,2000
"RTN","ICD1820B",3,0)
 ; continue updating DRGs
"RTN","ICD1820B",4,0)
 ; - Weights & ALOS for FY 2006
"RTN","ICD1820B",5,0)
 ; - update 80.272 multiple with new table routines for FY 2006
"RTN","ICD1820B",6,0)
 ; - inactivate DRGs (from DRG Reclassification section in Fed Reg)        
"RTN","ICD1820B",7,0)
 Q
"RTN","ICD1820B",8,0)
 ;
"RTN","ICD1820B",9,0)
UPDTDRG ;
"RTN","ICD1820B",10,0)
 N DRG,FYR,ICDLOW,ICDHIGH,ICDLOS,ICDWWU,ICDCNT,WT,I,J
"RTN","ICD1820B",11,0)
 N ICDREF,ICDDRG,ICDFDA
"RTN","ICD1820B",12,0)
 D UPD01
"RTN","ICD1820B",13,0)
 D UPD02
"RTN","ICD1820B",14,0)
 Q
"RTN","ICD1820B",15,0)
 ;
"RTN","ICD1820B",16,0)
 ;
"RTN","ICD1820B",17,0)
UPD01 ;- Load FY 2006 weights & ALOS into DRG file (#80.2)
"RTN","ICD1820B",18,0)
 S FYR=3060000
"RTN","ICD1820B",19,0)
 D BMES^XPDUTL(">>>  Adding FY 2006 Weights & ALOS...")
"RTN","ICD1820B",20,0)
 ; check if already done in case patch being re-installed
"RTN","ICD1820B",21,0)
 Q:$D(^ICD(559,"FY",3060000,0))
"RTN","ICD1820B",22,0)
 F I=1:1 S WT=$P($T(WEIGHTS+I^ICD1820X),";;",2,99) Q:I>200  D SETVAR,FY,MORE
"RTN","ICD1820B",23,0)
 F I=1:1 S WT=$P($T(WEIGHTS+I^ICD1820Y),";;",2,99) Q:I>200  D SETVAR,FY,MORE
"RTN","ICD1820B",24,0)
 F I=1:1 S WT=$P($T(WEIGHTS+I^ICD1820Z),";;",2,99) Q:$E(WT,1,4)="EXIT"  D SETVAR,FY,MORE
"RTN","ICD1820B",25,0)
 S ^ICD("AFY",3060000)=""
"RTN","ICD1820B",26,0)
 D MES^XPDUTL(">>>  ...completed.")
"RTN","ICD1820B",27,0)
 D MES^XPDUTL("")
"RTN","ICD1820B",28,0)
 Q
"RTN","ICD1820B",29,0)
 ;
"RTN","ICD1820B",30,0)
 ;
"RTN","ICD1820B",31,0)
FY ;- Set FY multiple with FYR stats
"RTN","ICD1820B",32,0)
 ; check if already done in case patch being re-installed
"RTN","ICD1820B",33,0)
 I $D(^ICD(DRG,"FY",FYR,0)) Q
"RTN","ICD1820B",34,0)
 S $P(^ICD(DRG,"FY",FYR,0),"^",1,4)=FYR_"^"_ICDWWU_"^"_ICDLOW_"^"_ICDHIGH,$P(^(0),"^",9)=ICDLOS
"RTN","ICD1820B",35,0)
 I '$D(^ICD(DRG,"FY",0)) S ^ICD(DRG,"FY",0)="^80.22^"_FYR_"^1" Q
"RTN","ICD1820B",36,0)
 S ICDCNT="" F J=0:1 S ICDCNT=$O(^ICD(DRG,"FY",ICDCNT)) Q:ICDCNT=""
"RTN","ICD1820B",37,0)
 S $P(^ICD(DRG,"FY",0),"^",3,4)=FYR_"^"_J
"RTN","ICD1820B",38,0)
 Q
"RTN","ICD1820B",39,0)
 ;
"RTN","ICD1820B",40,0)
 ;
"RTN","ICD1820B",41,0)
SETVAR ;- Set variables
"RTN","ICD1820B",42,0)
 S DRG=$P(WT,U),ICDLOW=1,ICDHIGH=99,ICDWWU=$P(WT,U,2),ICDLOS=$P(WT,U,3)
"RTN","ICD1820B",43,0)
DRG I DRG<544 S ICDLOW=$P(^ICD(DRG,"FY",3050000,0),U,3),ICDHIGH=$P(^ICD(DRG,"FY",3050000,0),U,4)
"RTN","ICD1820B",44,0)
 Q
"RTN","ICD1820B",45,0)
 ;
"RTN","ICD1820B",46,0)
 ;
"RTN","ICD1820B",47,0)
MORE ;- Set zero node with FY 2006 stats
"RTN","ICD1820B",48,0)
 S $P(^ICD(DRG,0),"^",2,4)=ICDWWU_"^"_ICDLOW_"^"_ICDHIGH,$P(^(0),"^",8)=ICDLOS
"RTN","ICD1820B",49,0)
 Q
"RTN","ICD1820B",50,0)
 ;
"RTN","ICD1820B",51,0)
UPD02 ; create new entries for FY 2006 versioning
"RTN","ICD1820B",52,0)
 S DRG=0
"RTN","ICD1820B",53,0)
 F  S DRG=$O(^ICD(DRG)) Q:'DRG  D
"RTN","ICD1820B",54,0)
 .; check if already done in case patch being re-installed
"RTN","ICD1820B",55,0)
 .Q:$D(^ICD(DRG,2,3,0))
"RTN","ICD1820B",56,0)
 .; it's also already done if DRG new this year 
"RTN","ICD1820B",57,0)
 .Q:DRG>543&($D(^ICD(DRG,2)))
"RTN","ICD1820B",58,0)
 .S (ICDDRG,ICDREF)=""
"RTN","ICD1820B",59,0)
 .S ICDDRG=$P($G(^ICD(DRG,0)),U,1)
"RTN","ICD1820B",60,0)
 .;"A"= FY 2005 "B"=FY 2006 "C"=FY 2007, etc.
"RTN","ICD1820B",61,0)
 .I $D(^ICD(DRG,2,2,0)) S ICDREF=$P(^ICD(DRG,2,2,0),U,3),ICDREF=$E(ICDREF,1,7)_"B"
"RTN","ICD1820B",62,0)
 .;Create FY 2006 reference table entries used for FY 2006
"RTN","ICD1820B",63,0)
 .I ICDDRG'="",ICDREF'="" D
"RTN","ICD1820B",64,0)
 ..S ICDFDA(80.2,"?1,",.01)=ICDDRG
"RTN","ICD1820B",65,0)
 ..S ICDFDA(80.271,"+2,?1,",.01)=3051001
"RTN","ICD1820B",66,0)
 ..S ICDFDA(80.271,"+2,?1,",1)=ICDREF
"RTN","ICD1820B",67,0)
 ..D UPDATE^DIE("","ICDFDA")
"RTN","ICD1820B",68,0)
 Q
"RTN","ICD1820B",69,0)
 ;
"RTN","ICD1820B",70,0)
INACTDRG ;
"RTN","ICD1820B",71,0)
 N LINE,X,ICDDRG,DESC,DA,DIE,DR,MDC,SURG,ICDFDA
"RTN","ICD1820B",72,0)
 D BMES^XPDUTL(">>> Inactivating 10 DRGs...")
"RTN","ICD1820B",73,0)
 F LINE=1:1 S X=$T(INAC+LINE) S ICDDRG=$P(X,";;",2) Q:ICDDRG="EXIT"  D
"RTN","ICD1820B",74,0)
 .S DESC="NO LONGER VALID"
"RTN","ICD1820B",75,0)
 .S DA(1)=$P(ICDDRG,U)
"RTN","ICD1820B",76,0)
 .S DA=1
"RTN","ICD1820B",77,0)
 .S DIE="^ICD("_DA(1)_",1,"
"RTN","ICD1820B",78,0)
 .S DR=".01///^S X=DESC"
"RTN","ICD1820B",79,0)
 .D ^DIE
"RTN","ICD1820B",80,0)
 .; check if already done in case patch being re-installed
"RTN","ICD1820B",81,0)
 .Q:$D(^ICD($P(ICDDRG,U),66,"B",3051001))
"RTN","ICD1820B",82,0)
 .; add entry to 80.266
"RTN","ICD1820B",83,0)
 .S MDC=$P(ICDDRG,U,2)
"RTN","ICD1820B",84,0)
 .S SURG=$P(ICDDRG,U,3)
"RTN","ICD1820B",85,0)
 .S ICDDRG=$P(ICDDRG,U)
"RTN","ICD1820B",86,0)
 .S ICDFDA(80.2,"?1,",.01)=ICDDRG
"RTN","ICD1820B",87,0)
 .S ICDFDA(80.266,"+2,?1,",.01)=3051001
"RTN","ICD1820B",88,0)
 .S ICDFDA(80.266,"+2,?1,",.03)=0
"RTN","ICD1820B",89,0)
 .S ICDFDA(80.266,"+2,?1,",.05)=MDC
"RTN","ICD1820B",90,0)
 .S ICDFDA(80.266,"+2,?1,",.06)=SURG
"RTN","ICD1820B",91,0)
 .D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1820B",92,0)
 .; add entry to 80.268 and 80.2681 
"RTN","ICD1820B",93,0)
 .S ICDFDA(80.2,"?1,",.01)=ICDDRG
"RTN","ICD1820B",94,0)
 .S ICDFDA(80.268,"+2,?1,",.01)=3051001
"RTN","ICD1820B",95,0)
 .D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1820B",96,0)
 .S ICDFDA(80.2,"?1,",.01)=ICDDRG
"RTN","ICD1820B",97,0)
 .S ICDFDA(80.268,"?2,?1,",.01)=3051001
"RTN","ICD1820B",98,0)
 .S ICDFDA(80.2681,"+3,?2,?1,",.01)=DESC
"RTN","ICD1820B",99,0)
 .D UPDATE^DIE("","ICDFDA") K ICDFDA
"RTN","ICD1820B",100,0)
 Q
"RTN","ICD1820B",101,0)
 ;
"RTN","ICD1820B",102,0)
INAC ;
"RTN","ICD1820B",103,0)
 ;;107^5^1
"RTN","ICD1820B",104,0)
 ;;109^5^1
"RTN","ICD1820B",105,0)
 ;;115^5^1
"RTN","ICD1820B",106,0)
 ;;116^5^1
"RTN","ICD1820B",107,0)
 ;;209^8^1
"RTN","ICD1820B",108,0)
 ;;478^5^1
"RTN","ICD1820B",109,0)
 ;;516^5^1
"RTN","ICD1820B",110,0)
 ;;517^5^1
"RTN","ICD1820B",111,0)
 ;;526^5^1
"RTN","ICD1820B",112,0)
 ;;527^5^1
"RTN","ICD1820B",113,0)
 ;;EXIT
"RTN","ICD1820C")
0^9^B34780352
"RTN","ICD1820C",1,0)
ICD1820C   ; ALB/JAT - NEW DIAGNOSIS CODES; 7/27/05 14:50;
"RTN","ICD1820C",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13,2000
"RTN","ICD1820C",3,0)
 Q
"RTN","ICD1820C",4,0)
 ;
"RTN","ICD1820C",5,0)
DIAG ;
"RTN","ICD1820C",6,0)
 ; from Table 6A in Fed Reg - assumes new codes already added by Lexicon
"RTN","ICD1820C",7,0)
 D BMES^XPDUTL(">>>Modifying new diagnosis codes - file 80")
"RTN","ICD1820C",8,0)
 N LINE,X,ICDDIAG,ENTRY,DA,DIE,DR,IDENT,MDC,MDC25,FDA
"RTN","ICD1820C",9,0)
 F LINE=1:1 S X=$T(REVD+LINE) S ICDDIAG=$P(X,";;",2) Q:ICDDIAG="EXIT"  D
"RTN","ICD1820C",10,0)
 .S ENTRY=+$O(^ICD9("BA",$P(ICDDIAG,U)_" ",0))
"RTN","ICD1820C",11,0)
 .I ENTRY D
"RTN","ICD1820C",12,0)
    ..;check for possible inactive dupe
"RTN","ICD1820C",13,0)
 ..I $P($G(^ICD9(ENTRY,0)),U,9)=1 S ENTRY=+$O(^ICD9("BA",$P(ICDDIAG,U)_" ",ENTRY)) I 'ENTRY Q 
"RTN","ICD1820C",14,0)
 ..S DA=ENTRY,DIE="^ICD9("
"RTN","ICD1820C",15,0)
 ..S IDENT=$P(ICDDIAG,U,2)
"RTN","ICD1820C",16,0)
 ..S MDC=$P(ICDDIAG,U,3)
"RTN","ICD1820C",17,0)
 ..;this would only apply to diagnoses who have no other MDC than a pre-MDC
"RTN","ICD1820C",18,0)
 ..I MDC="PRE" S MDC=98
"RTN","ICD1820C",19,0)
 ..S MDC25=$P(ICDDIAG,U,4)
"RTN","ICD1820C",20,0)
 ..S DR="2///^S X=IDENT;5///^S X=MDC;5.9///^S X=MDC25"
"RTN","ICD1820C",21,0)
 ..D ^DIE
"RTN","ICD1820C",22,0)
 ..;check if already created in case patch being re-installed
"RTN","ICD1820C",23,0)
 ..Q:$D(^ICD9(ENTRY,3))
"RTN","ICD1820C",24,0)
 ..; add 80.071 and 80.711 and 80.072 records
"RTN","ICD1820C",25,0)
 ..N FDA
"RTN","ICD1820C",26,0)
 ..S FDA(1820,80,"?1,",.01)="`"_ENTRY
"RTN","ICD1820C",27,0)
 ..S FDA(1820,80.071,"+2,?1,",.01)=3051001
"RTN","ICD1820C",28,0)
 ..S FDA(1820,80.072,"+3,?1,",.01)=3051001
"RTN","ICD1820C",29,0)
 ..S FDA(1820,80.072,"+3,?1,",1)=$P(ICDDIAG,U,3)
"RTN","ICD1820C",30,0)
 ..D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820C",31,0)
 ..S FDA(1820,80,"?1,",.01)="`"_ENTRY
"RTN","ICD1820C",32,0)
 ..S FDA(1820,80.071,"?2,?1,",.01)=3051001
"RTN","ICD1820C",33,0)
 ..S FDA(1820,80.711,"+3,?2,?1,",.01)=$P(ICDDIAG,U,5)
"RTN","ICD1820C",34,0)
 ..I $P(ICDDIAG,U,6) S FDA(1820,80.711,"+4,?2,?1,",.01)=$P(ICDDIAG,U,6)
"RTN","ICD1820C",35,0)
 ..I $P(ICDDIAG,U,7) S FDA(1820,80.711,"+5,?2,?1,",.01)=$P(ICDDIAG,U,7)
"RTN","ICD1820C",36,0)
 ..I $P(ICDDIAG,U,8) S FDA(1820,80.711,"+6,?2,?1,",.01)=$P(ICDDIAG,U,8)
"RTN","ICD1820C",37,0)
 ..I $P(ICDDIAG,U,9) S FDA(1820,80.711,"+7,?2,?1,",.01)=$P(ICDDIAG,U,9)
"RTN","ICD1820C",38,0)
 ..I $P(ICDDIAG,U,10) S FDA(1820,80.711,"+8,?2,?1,",.01)=$P(ICDDIAG,U,10)
"RTN","ICD1820C",39,0)
 ..D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820C",40,0)
 Q
"RTN","ICD1820C",41,0)
REVD ;
"RTN","ICD1820C",42,0)
 ;;259.5^^10^^300^301
"RTN","ICD1820C",43,0)
 ;;276.50^HJC^10^2^296^297^298^490
"RTN","ICD1820C",44,0)
 ;;276.51^HJC^10^2^296^297^298^490
"RTN","ICD1820C",45,0)
 ;;276.52^HJC^10^2^296^297^298^490
"RTN","ICD1820C",46,0)
 ;;278.02^^10^^296^297^298
"RTN","ICD1820C",47,0)
 ;;287.30^^16^^397
"RTN","ICD1820C",48,0)
 ;;287.31^^16^^397
"RTN","ICD1820C",49,0)
 ;;287.32^^16^^397
"RTN","ICD1820C",50,0)
 ;;287.33^^16^^397
"RTN","ICD1820C",51,0)
 ;;287.39^^16^^397
"RTN","ICD1820C",52,0)
 ;;291.82^^20^^521^522^523
"RTN","ICD1820C",53,0)
 ;;292.85^^20^^521^522^523
"RTN","ICD1820C",54,0)
 ;;327.00^^19^^432
"RTN","ICD1820C",55,0)
 ;;327.01^^19^^432
"RTN","ICD1820C",56,0)
 ;;327.02^^19^^432
"RTN","ICD1820C",57,0)
 ;;327.09^^19^^432
"RTN","ICD1820C",58,0)
 ;;327.10^^19^^422
"RTN","ICD1820C",59,0)
 ;;327.11^^19^^422
"RTN","ICD1820C",60,0)
 ;;327.12^^19^^422
"RTN","ICD1820C",61,0)
 ;;327.13^^19^^422
"RTN","ICD1820C",62,0)
 ;;327.14^^19^^422
"RTN","ICD1820C",63,0)
 ;;327.15^^19^^422
"RTN","ICD1820C",64,0)
 ;;327.19^^19^^422
"RTN","ICD1820C",65,0)
 ;;327.20^^3^^73^74
"RTN","ICD1820C",66,0)
 ;;327.21^^1^^34^35
"RTN","ICD1820C",67,0)
 ;;327.22^^4^^99^100
"RTN","ICD1820C",68,0)
 ;;327.23^^3^^73^74
"RTN","ICD1820C",69,0)
 ;;327.24^^3^^73^74
"RTN","ICD1820C",70,0)
 ;;327.25^^1^^34^35
"RTN","ICD1820C",71,0)
 ;;327.26^^3^^73^74
"RTN","ICD1820C",72,0)
 ;;327.27^^1^^34^35
"RTN","ICD1820C",73,0)
 ;;327.29^^3^^73^74
"RTN","ICD1820C",74,0)
 ;;327.30^^1^^34^35
"RTN","ICD1820C",75,0)
 ;;327.31^^1^^34^35
"RTN","ICD1820C",76,0)
 ;;327.32^^1^^34^35
"RTN","ICD1820C",77,0)
 ;;327.33^^1^^34^35
"RTN","ICD1820C",78,0)
 ;;327.34^^1^^34^35
"RTN","ICD1820C",79,0)
 ;;327.35^^1^^34^35
"RTN","ICD1820C",80,0)
 ;;327.36^^1^^34^35
"RTN","ICD1820C",81,0)
 ;;327.37^^1^^34^35
"RTN","ICD1820C",82,0)
 ;;327.39^^1^^34^35
"RTN","ICD1820C",83,0)
 ;;327.40^^3^^73^74
"RTN","ICD1820C",84,0)
 ;;327.41^^1^^34^35
"RTN","ICD1820C",85,0)
 ;;327.42^^3^^73^74
"RTN","ICD1820C",86,0)
 ;;327.43^^1^^34^35
"RTN","ICD1820C",87,0)
 ;;327.44^^3^^73^74
"RTN","ICD1820C",88,0)
 ;;327.49^^3^^73^74
"RTN","ICD1820C",89,0)
 ;;327.51^^1^^34^35
"RTN","ICD1820C",90,0)
 ;;327.52^^1^^34^35
"RTN","ICD1820C",91,0)
 ;;327.53^^3^^73^74
"RTN","ICD1820C",92,0)
 ;;327.59^^3^^73^74
"RTN","ICD1820C",93,0)
 ;;327.8^^3^^73^74
"RTN","ICD1820C",94,0)
 ;;362.03^^2^^46^47^48
"RTN","ICD1820C",95,0)
 ;;362.04^^2^^46^47^48
"RTN","ICD1820C",96,0)
 ;;362.05^^2^^46^47^48
"RTN","ICD1820C",97,0)
 ;;362.06^^2^^46^47^48
"RTN","ICD1820C",98,0)
 ;;362.07^^2^^46^47^48
"RTN","ICD1820C",99,0)
 ;;426.82^^5^^138^139
"RTN","ICD1820C",100,0)
 ;;443.82^^5^^130^131
"RTN","ICD1820C",101,0)
 ;;525.40^^3^^185^186^187
"RTN","ICD1820C",102,0)
 ;;525.41^^3^^185^186^187
"RTN","ICD1820C",103,0)
 ;;525.42^^3^^185^186^187
"RTN","ICD1820C",104,0)
 ;;525.43^^3^^185^186^187
"RTN","ICD1820C",105,0)
 ;;525.44^^3^^185^186^187
"RTN","ICD1820C",106,0)
 ;;525.50^^3^^185^186^187
"RTN","ICD1820C",107,0)
 ;;525.51^^3^^185^186^187
"RTN","ICD1820C",108,0)
 ;;525.52^^3^^185^186^187
"RTN","ICD1820C",109,0)
 ;;525.53^^3^^185^186^187
"RTN","ICD1820C",110,0)
 ;;525.54^^3^^185^186^187
"RTN","ICD1820C",111,0)
 ;;567.21^^6^^188^189^190
"RTN","ICD1820C",112,0)
 ;;567.22^^6^^188^189^190
"RTN","ICD1820C",113,0)
 ;;567.23^^6^^188^189^190
"RTN","ICD1820C",114,0)
 ;;567.29^^6^^188^189^190
"RTN","ICD1820C",115,0)
 ;;567.31^^6^^188^189^190
"RTN","ICD1820C",116,0)
 ;;567.38^^6^^188^189^190
"RTN","ICD1820C",117,0)
 ;;567.39^^6^^188^189^190
"RTN","ICD1820C",118,0)
 ;;567.81^^6^^188^189^190
"RTN","ICD1820C",119,0)
 ;;567.82^^6^^188^189^190
"RTN","ICD1820C",120,0)
 ;;567.89^^6^^188^189^190
"RTN","ICD1820C",121,0)
 ;;585.1^^11^^315^316
"RTN","ICD1820C",122,0)
 ;;585.2^^11^^315^316
"RTN","ICD1820C",123,0)
 ;;585.3^^11^^315^316
"RTN","ICD1820C",124,0)
 ;;585.4^^11^^315^316
"RTN","ICD1820C",125,0)
 ;;585.5^^11^^315^316
"RTN","ICD1820C",126,0)
 ;;585.6^^11^^315^316
"RTN","ICD1820C",127,0)
 ;;585.9^^11^^315^316
"RTN","ICD1820C",128,0)
 ;;599.60^^11^^331^332^333
"RTN","ICD1820C",129,0)
 ;;599.69^^11^^331^332^333
"RTN","ICD1820C",130,0)
 ;;651.70^^14^^469
"RTN","ICD1820C",131,0)
 ;;651.71^^14^^370^371^372^373^374^375
"RTN","ICD1820C",132,0)
 ;;651.73^^14^^383^384
"RTN","ICD1820C",133,0)
 ;;760.77^^15^^390
"RTN","ICD1820C",134,0)
 ;;760.78^^15^^390
"RTN","ICD1820C",135,0)
 ;;763.84^^15^^390
"RTN","ICD1820C",136,0)
 ;;770.10^^15^^387^389
"RTN","ICD1820C",137,0)
 ;;770.11^^15^^387^389
"RTN","ICD1820C",138,0)
 ;;770.12^^15^^387^389
"RTN","ICD1820C",139,0)
 ;;770.13^^15^^387^389
"RTN","ICD1820C",140,0)
 ;;770.14^^15^^387^389
"RTN","ICD1820C",141,0)
 ;;770.15^^15^^387^389
"RTN","ICD1820C",142,0)
 ;;770.16^^15^^387^389
"RTN","ICD1820C",143,0)
 ;;770.17^^15^^387^389
"RTN","ICD1820C",144,0)
 ;;770.18^^15^^387^389
"RTN","ICD1820C",145,0)
 ;;770.85^^15^^387^389
"RTN","ICD1820C",146,0)
 ;;770.86^^15^^387^389
"RTN","ICD1820C",147,0)
 ;;779.84^^15^^390
"RTN","ICD1820C",148,0)
 ;;780.95^^23^^463^464
"RTN","ICD1820C",149,0)
 ;;799.01^^4^^101^102
"RTN","ICD1820C",150,0)
 ;;799.02^^4^^101^102
"RTN","ICD1820C",151,0)
 ;;996.40^^8^^249
"RTN","ICD1820C",152,0)
 ;;996.41^^8^^249
"RTN","ICD1820C",153,0)
 ;;996.42^^8^^249
"RTN","ICD1820C",154,0)
 ;;996.43^^8^^249
"RTN","ICD1820C",155,0)
 ;;996.44^^8^^249
"RTN","ICD1820C",156,0)
 ;;996.45^^8^^249
"RTN","ICD1820C",157,0)
 ;;996.46^^8^^249
"RTN","ICD1820C",158,0)
 ;;996.47^^8^^249
"RTN","ICD1820C",159,0)
 ;;996.49^^8^^249
"RTN","ICD1820C",160,0)
 ;;V12.42^^23^^467
"RTN","ICD1820C",161,0)
 ;;V12.60^^23^^467
"RTN","ICD1820C",162,0)
 ;;V12.61^^23^^467
"RTN","ICD1820C",163,0)
 ;;V12.69^^23^^467
"RTN","ICD1820C",164,0)
 ;;V13.02^^23^^467
"RTN","ICD1820C",165,0)
 ;;V13.03^^23^^467
"RTN","ICD1820C",166,0)
 ;;V15.88^^23^^467
"RTN","ICD1820C",167,0)
 ;;V17.81^^23^^467
"RTN","ICD1820C",168,0)
 ;;V17.89^^23^^467
"RTN","ICD1820C",169,0)
 ;;V18.9^^23^^467
"RTN","ICD1820C",170,0)
 ;;V26.31^^23^^467
"RTN","ICD1820C",171,0)
 ;;V26.32^^23^^467
"RTN","ICD1820C",172,0)
 ;;V26.33^^23^^467
"RTN","ICD1820C",173,0)
 ;;V46.13^^23^^467
"RTN","ICD1820C",174,0)
 ;;V46.14^^23^^467
"RTN","ICD1820C",175,0)
 ;;V49.84^^23^^467
"RTN","ICD1820C",176,0)
 ;;V58.11^^17^^410^492
"RTN","ICD1820C",177,0)
 ;;V58.12^^17^^410^492
"RTN","ICD1820C",178,0)
 ;;V59.70^^23^^467
"RTN","ICD1820C",179,0)
 ;;V59.71^^23^^467
"RTN","ICD1820C",180,0)
 ;;V59.72^^23^^467
"RTN","ICD1820C",181,0)
 ;;V59.73^^23^^467
"RTN","ICD1820C",182,0)
 ;;V59.74^^23^^467
"RTN","ICD1820C",183,0)
 ;;V62.84^^19^^425
"RTN","ICD1820C",184,0)
 ;;V64.00^^23^^467
"RTN","ICD1820C",185,0)
 ;;V64.01^^23^^467
"RTN","ICD1820C",186,0)
 ;;V64.02^^23^^467
"RTN","ICD1820C",187,0)
 ;;V64.03^^23^^467
"RTN","ICD1820C",188,0)
 ;;V64.04^^23^^467
"RTN","ICD1820C",189,0)
 ;;V64.05^^23^^467
"RTN","ICD1820C",190,0)
 ;;V64.06^^23^^467
"RTN","ICD1820C",191,0)
 ;;V64.07^^23^^467
"RTN","ICD1820C",192,0)
 ;;V64.08^^23^^467
"RTN","ICD1820C",193,0)
 ;;V64.09^^23^^467
"RTN","ICD1820C",194,0)
 ;;V69.5^^23^^467
"RTN","ICD1820C",195,0)
 ;;V72.42^^23^^467
"RTN","ICD1820C",196,0)
 ;;V72.86^^23^^467
"RTN","ICD1820C",197,0)
 ;;V85.0^^23^^467
"RTN","ICD1820C",198,0)
 ;;V85.1^^23^^467
"RTN","ICD1820C",199,0)
 ;;V85.21^^23^^467
"RTN","ICD1820C",200,0)
 ;;V85.22^^23^^467
"RTN","ICD1820C",201,0)
 ;;V85.23^^23^^467
"RTN","ICD1820C",202,0)
 ;;V85.24^^23^^467
"RTN","ICD1820C",203,0)
 ;;V85.25^^23^^467
"RTN","ICD1820C",204,0)
 ;;V85.30^^23^^467
"RTN","ICD1820C",205,0)
 ;;V85.31^^23^^467
"RTN","ICD1820C",206,0)
 ;;V85.32^^23^^467
"RTN","ICD1820C",207,0)
 ;;V85.33^^23^^467
"RTN","ICD1820C",208,0)
 ;;V85.34^^23^^467
"RTN","ICD1820C",209,0)
 ;;V85.35^^23^^467
"RTN","ICD1820C",210,0)
 ;;V85.36^^23^^467
"RTN","ICD1820C",211,0)
 ;;V85.37^^23^^467
"RTN","ICD1820C",212,0)
 ;;V85.38^^23^^467
"RTN","ICD1820C",213,0)
 ;;V85.39^^23^^467
"RTN","ICD1820C",214,0)
 ;;V85.4^^10^^296^297^298
"RTN","ICD1820C",215,0)
 ;;EXIT
"RTN","ICD1820D")
0^10^B32278361
"RTN","ICD1820D",1,0)
ICD1820D ;;ALB/JAT - 2006 FY DRG GROUPER UPDATE; 7/27/05 14:50
"RTN","ICD1820D",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13,2000
"RTN","ICD1820D",3,0)
 ;
"RTN","ICD1820D",4,0)
 ; DRG Reclassification
"RTN","ICD1820D",5,0)
 Q
"RTN","ICD1820D",6,0)
DRGRECL ;
"RTN","ICD1820D",7,0)
 D BMES^XPDUTL(">>> Doing DRG Reclassification updates ...")
"RTN","ICD1820D",8,0)
 D MCV
"RTN","ICD1820D",9,0)
 D DRGTITLE
"RTN","ICD1820D",10,0)
 D MISC
"RTN","ICD1820D",11,0)
 Q
"RTN","ICD1820D",12,0)
MCV ; update diagnoses with new or additional identifiers
"RTN","ICD1820D",13,0)
 ; c or s = DRGs 547 thru 558 (see MCV^ICDTLB6B)
"RTN","ICD1820D",14,0)
 ; 6 = DRG 546
"RTN","ICD1820D",15,0)
 N LINE,X,ICDDIAG,ENTRY,IDENT,DA,DIE,DR,DUPE
"RTN","ICD1820D",16,0)
 F LINE=1:1 S X=$T(DXID+LINE) S ICDDIAG=$P(X,";;",2) Q:ICDDIAG="EXIT"  D
"RTN","ICD1820D",17,0)
 .S ENTRY=+$O(^ICD9("BA",$P(ICDDIAG,U)_" ",0)) I ENTRY D
"RTN","ICD1820D",18,0)
 ..; check for any dupe (some are in MNTVBB)
"RTN","ICD1820D",19,0)
 ..S DUPE=+$O(^ICD9("BA",$P(ICDDIAG,U)_" ",ENTRY)) I DUPE Q
"RTN","ICD1820D",20,0)
 ..S IDENT=$P($G(^ICD9(ENTRY,0)),U,2)
"RTN","ICD1820D",21,0)
 ..; check if already there in case patch is being re-installed
"RTN","ICD1820D",22,0)
 ..I IDENT["c" Q
"RTN","ICD1820D",23,0)
 ..I IDENT["s" Q
"RTN","ICD1820D",24,0)
 ..I IDENT["6" Q
"RTN","ICD1820D",25,0)
 ..S IDENT=IDENT_$P(ICDDIAG,U,2)
"RTN","ICD1820D",26,0)
 ..S DA=ENTRY,DIE="^ICD9("
"RTN","ICD1820D",27,0)
 ..S DR="2///^S X=IDENT"
"RTN","ICD1820D",28,0)
 ..D ^DIE
"RTN","ICD1820D",29,0)
 Q
"RTN","ICD1820D",30,0)
DRGTITLE ; modify titles of DRGs
"RTN","ICD1820D",31,0)
 N LINE,X,ICDDRG,DESC,DA,DIE,DR
"RTN","ICD1820D",32,0)
 F LINE=1:1 S X=$T(TITLE+LINE) S ICDDRG=$P(X,";;",2) Q:ICDDRG="EXIT"  D
"RTN","ICD1820D",33,0)
 .S DESC=$P(ICDDRG,U,2)
"RTN","ICD1820D",34,0)
 .S DA(1)=$P(ICDDRG,U)
"RTN","ICD1820D",35,0)
 .S DA=1
"RTN","ICD1820D",36,0)
 .S DIE="^ICD("_DA(1)_",1,"
"RTN","ICD1820D",37,0)
 .S DR=".01///^S X=DESC"
"RTN","ICD1820D",38,0)
 .D ^DIE
"RTN","ICD1820D",39,0)
 .S DA(2)=$P(ICDDRG,U)
"RTN","ICD1820D",40,0)
 .S DA(1)=1
"RTN","ICD1820D",41,0)
 .S DA=1
"RTN","ICD1820D",42,0)
 .S DIE="^ICD("_DA(2)_",68,"_DA(1)_",1,"
"RTN","ICD1820D",43,0)
 .S DR=".01///^S X=DESC"
"RTN","ICD1820D",44,0)
 .D ^DIE
"RTN","ICD1820D",45,0)
 Q
"RTN","ICD1820D",46,0)
MISC ; create field #71 entries for pro codes (see patch description) 
"RTN","ICD1820D",47,0)
 N LINE,X,ICDPROC,ENTRY,DA,DIE,DR,IDENT,MDC24,SUBLINE,DATA,FDA
"RTN","ICD1820D",48,0)
 F LINE=1:1 S X=$T(REVP+LINE) S ICDPROC=$P(X,";;",2) Q:ICDPROC="EXIT"  D
"RTN","ICD1820D",49,0)
 .Q:ICDPROC["+"
"RTN","ICD1820D",50,0)
 .S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",0))
"RTN","ICD1820D",51,0)
 .I ENTRY D
"RTN","ICD1820D",52,0)
 ..;check for possible inactive dupe
"RTN","ICD1820D",53,0)
 ..I $P($G(^ICD0(ENTRY,0)),U,9)=1 S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",ENTRY)) I 'ENTRY Q
"RTN","ICD1820D",54,0)
 ..S DA=ENTRY,DIE="^ICD0("
"RTN","ICD1820D",55,0)
 ..S IDENT=$P(ICDPROC,U,2)
"RTN","ICD1820D",56,0)
 ..S MDC24=$P(ICDPROC,U,3)
"RTN","ICD1820D",57,0)
 ..S DR="2///^S X=IDENT;5///^S X=MDC24"
"RTN","ICD1820D",58,0)
 ..D ^DIE
"RTN","ICD1820D",59,0)
 ..;add 80.171 and 80.1711 and 80.17111 records
"RTN","ICD1820D",60,0)
 ..F SUBLINE=1:1 S X=$T(REVP+LINE+SUBLINE) S DATA=$P(X,";;",2) Q:DATA'["+"  D
"RTN","ICD1820D",61,0)
 ...; check if already created in case patch being re-installed
"RTN","ICD1820D",62,0)
 ...I $D(^ICD0(ENTRY,2,"B",3051001)) Q
"RTN","ICD1820D",63,0)
 ...S DATA=$E(DATA,2,99)
"RTN","ICD1820D",64,0)
 ...I SUBLINE=1 D
"RTN","ICD1820D",65,0)
 ....S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1820D",66,0)
 ....S FDA(1820,80.171,"+2,?1,",.01)=3051001
"RTN","ICD1820D",67,0)
 ....D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820D",68,0)
 ...S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1820D",69,0)
 ...S FDA(1820,80.171,"?2,?1,",.01)=3051001
"RTN","ICD1820D",70,0)
 ...S FDA(1820,80.1711,"+3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1820D",71,0)
 ...D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820D",72,0)
 ...S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1820D",73,0)
 ...S FDA(1820,80.171,"?2,?1,",.01)=3051001
"RTN","ICD1820D",74,0)
 ...S FDA(1820,80.1711,"?3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1820D",75,0)
 ...S FDA(1820,80.17111,"+4,?3,?2,?1,",.01)=$P(DATA,U,2)
"RTN","ICD1820D",76,0)
 ...I $P(DATA,U,3) S FDA(1820,80.17111,"+5,?3,?2,?1,",.01)=$P(DATA,U,3)
"RTN","ICD1820D",77,0)
 ...I $P(DATA,U,4) S FDA(1820,80.17111,"+6,?3,?2,?1,",.01)=$P(DATA,U,4)
"RTN","ICD1820D",78,0)
 ...I $P(DATA,U,5) S FDA(1820,80.17111,"+7,?3,?2,?1,",.01)=$P(DATA,U,5)
"RTN","ICD1820D",79,0)
 ...D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820D",80,0)
 Q
"RTN","ICD1820D",81,0)
DXID ;
"RTN","ICD1820D",82,0)
 ;;398.91^c
"RTN","ICD1820D",83,0)
 ;;402.01^c
"RTN","ICD1820D",84,0)
 ;;402.11^c
"RTN","ICD1820D",85,0)
 ;;402.91^c
"RTN","ICD1820D",86,0)
 ;;404.01^c
"RTN","ICD1820D",87,0)
 ;;404.03^c
"RTN","ICD1820D",88,0)
 ;;404.11^c
"RTN","ICD1820D",89,0)
 ;;404.13^c
"RTN","ICD1820D",90,0)
 ;;404.91^c
"RTN","ICD1820D",91,0)
 ;;404.93^c
"RTN","ICD1820D",92,0)
 ;;410.01^c
"RTN","ICD1820D",93,0)
 ;;410.11^c
"RTN","ICD1820D",94,0)
 ;;410.21^c
"RTN","ICD1820D",95,0)
 ;;410.31^c
"RTN","ICD1820D",96,0)
 ;;410.41^c
"RTN","ICD1820D",97,0)
 ;;410.51^c
"RTN","ICD1820D",98,0)
 ;;410.61^c
"RTN","ICD1820D",99,0)
 ;;410.71^c
"RTN","ICD1820D",100,0)
 ;;410.81^c
"RTN","ICD1820D",101,0)
 ;;410.91^c
"RTN","ICD1820D",102,0)
 ;;411.0^c
"RTN","ICD1820D",103,0)
 ;;414.10^c
"RTN","ICD1820D",104,0)
 ;;414.11^c
"RTN","ICD1820D",105,0)
 ;;414.12^c
"RTN","ICD1820D",106,0)
 ;;414.19^c
"RTN","ICD1820D",107,0)
 ;;415.0^c
"RTN","ICD1820D",108,0)
 ;;415.11^s
"RTN","ICD1820D",109,0)
 ;;415.19^s
"RTN","ICD1820D",110,0)
 ;;420.0^c
"RTN","ICD1820D",111,0)
 ;;420.90^c
"RTN","ICD1820D",112,0)
 ;;420.91^c
"RTN","ICD1820D",113,0)
 ;;420.99^c
"RTN","ICD1820D",114,0)
 ;;421.0^c
"RTN","ICD1820D",115,0)
 ;;421.1^c
"RTN","ICD1820D",116,0)
 ;;421.9^c
"RTN","ICD1820D",117,0)
 ;;422.92^c
"RTN","ICD1820D",118,0)
 ;;423.0^c
"RTN","ICD1820D",119,0)
 ;;424.90^c
"RTN","ICD1820D",120,0)
 ;;427.1^c
"RTN","ICD1820D",121,0)
 ;;427.41^c
"RTN","ICD1820D",122,0)
 ;;427.5^c
"RTN","ICD1820D",123,0)
 ;;428.0^c
"RTN","ICD1820D",124,0)
 ;;428.1^c
"RTN","ICD1820D",125,0)
 ;;428.20^c
"RTN","ICD1820D",126,0)
 ;;428.21^c
"RTN","ICD1820D",127,0)
 ;;428.22^c
"RTN","ICD1820D",128,0)
 ;;428.23^c
"RTN","ICD1820D",129,0)
 ;;428.30^c
"RTN","ICD1820D",130,0)
 ;;428.31^c
"RTN","ICD1820D",131,0)
 ;;428.32^c
"RTN","ICD1820D",132,0)
 ;;428.33^c
"RTN","ICD1820D",133,0)
 ;;428.40^c
"RTN","ICD1820D",134,0)
 ;;428.41^c
"RTN","ICD1820D",135,0)
 ;;428.42^c
"RTN","ICD1820D",136,0)
 ;;428.43^c
"RTN","ICD1820D",137,0)
 ;;428.9^c
"RTN","ICD1820D",138,0)
 ;;429.5^c
"RTN","ICD1820D",139,0)
 ;;429.6^c
"RTN","ICD1820D",140,0)
 ;;429.71^c
"RTN","ICD1820D",141,0)
 ;;429.79^c
"RTN","ICD1820D",142,0)
 ;;429.81^c
"RTN","ICD1820D",143,0)
 ;;430.^s
"RTN","ICD1820D",144,0)
 ;;431.^s
"RTN","ICD1820D",145,0)
 ;;432.0^s
"RTN","ICD1820D",146,0)
 ;;432.1^s
"RTN","ICD1820D",147,0)
 ;;432.9^s
"RTN","ICD1820D",148,0)
 ;;433.01^s
"RTN","ICD1820D",149,0)
 ;;433.11^s
"RTN","ICD1820D",150,0)
 ;;433.21^s
"RTN","ICD1820D",151,0)
 ;;433.31^s
"RTN","ICD1820D",152,0)
 ;;433.81^s
"RTN","ICD1820D",153,0)
 ;;433.91^s
"RTN","ICD1820D",154,0)
 ;;434.00^s
"RTN","ICD1820D",155,0)
 ;;434.01^s
"RTN","ICD1820D",156,0)
 ;;434.10^s
"RTN","ICD1820D",157,0)
 ;;434.11^s
"RTN","ICD1820D",158,0)
 ;;434.90^s
"RTN","ICD1820D",159,0)
 ;;434.91^s
"RTN","ICD1820D",160,0)
 ;;436.^s
"RTN","ICD1820D",161,0)
 ;;441.00^c
"RTN","ICD1820D",162,0)
 ;;441.01^c
"RTN","ICD1820D",163,0)
 ;;441.02^c
"RTN","ICD1820D",164,0)
 ;;441.03^c
"RTN","ICD1820D",165,0)
 ;;441.1^c
"RTN","ICD1820D",166,0)
 ;;441.3^c
"RTN","ICD1820D",167,0)
 ;;441.5^c
"RTN","ICD1820D",168,0)
 ;;441.6^c
"RTN","ICD1820D",169,0)
 ;;443.22^c
"RTN","ICD1820D",170,0)
 ;;443.29^c
"RTN","ICD1820D",171,0)
 ;;444.0^c
"RTN","ICD1820D",172,0)
 ;;444.1^c
"RTN","ICD1820D",173,0)
 ;;445.81^s
"RTN","ICD1820D",174,0)
 ;;453.2^c
"RTN","ICD1820D",175,0)
 ;;785.50^c
"RTN","ICD1820D",176,0)
 ;;785.51^c
"RTN","ICD1820D",177,0)
 ;;861.02^c
"RTN","ICD1820D",178,0)
 ;;861.03^c
"RTN","ICD1820D",179,0)
 ;;861.10^c
"RTN","ICD1820D",180,0)
 ;;861.11^c
"RTN","ICD1820D",181,0)
 ;;861.12^c
"RTN","ICD1820D",182,0)
 ;;861.13^c
"RTN","ICD1820D",183,0)
 ;;862.9^s
"RTN","ICD1820D",184,0)
 ;;996.61^c
"RTN","ICD1820D",185,0)
 ;;996.62^c
"RTN","ICD1820D",186,0)
 ;;996.72^c
"RTN","ICD1820D",187,0)
 ;;996.83^c
"RTN","ICD1820D",188,0)
 ;;170.2^6
"RTN","ICD1820D",189,0)
 ;;198.5^6
"RTN","ICD1820D",190,0)
 ;;213.2^6
"RTN","ICD1820D",191,0)
 ;;238.0^6
"RTN","ICD1820D",192,0)
 ;;239.2^6
"RTN","ICD1820D",193,0)
 ;;732.0^6
"RTN","ICD1820D",194,0)
 ;;733.13^6
"RTN","ICD1820D",195,0)
 ;;737.0^6
"RTN","ICD1820D",196,0)
 ;;737.10^6
"RTN","ICD1820D",197,0)
 ;;737.11^6
"RTN","ICD1820D",198,0)
 ;;737.12^6
"RTN","ICD1820D",199,0)
 ;;737.19^6
"RTN","ICD1820D",200,0)
 ;;737.20^6
"RTN","ICD1820D",201,0)
 ;;737.21^6
"RTN","ICD1820D",202,0)
 ;;737.22^6
"RTN","ICD1820D",203,0)
 ;;737.29^6
"RTN","ICD1820D",204,0)
 ;;737.30^6
"RTN","ICD1820D",205,0)
 ;;737.31^6
"RTN","ICD1820D",206,0)
 ;;737.32^6
"RTN","ICD1820D",207,0)
 ;;737.33^6
"RTN","ICD1820D",208,0)
 ;;737.34^6
"RTN","ICD1820D",209,0)
 ;;737.39^6
"RTN","ICD1820D",210,0)
 ;;737.8^6
"RTN","ICD1820D",211,0)
 ;;737.9^6
"RTN","ICD1820D",212,0)
 ;;754.2^6
"RTN","ICD1820D",213,0)
 ;;756.51^6
"RTN","ICD1820D",214,0)
 ;;EXIT
"RTN","ICD1820D",215,0)
 Q
"RTN","ICD1820D",216,0)
TITLE ;
"RTN","ICD1820D",217,0)
 ;;541^ECMO OR TRACH W/MV 96+ HRS OR PDX EXC FACE,MOUTH,& NECK W/MAJOR OR
"RTN","ICD1820D",218,0)
 ;;542^TRACH W/MV 96+ HRS OR PDX EXC FACE,MOUTH,& NECK W/O MAJOR OR
"RTN","ICD1820D",219,0)
 ;;14^INTRACRANIAL HEMORRHAGE OR CEREBRAL INFARCTION
"RTN","ICD1820D",220,0)
 ;;315^OTHER KIDNEY & URINARY TRACT PROCEDURES
"RTN","ICD1820D",221,0)
 ;;276^NON-MALIGNANT BREAST DISORDERS
"RTN","ICD1820D",222,0)
 ;;EXIT
"RTN","ICD1820D",223,0)
 Q
"RTN","ICD1820D",224,0)
REVP ;
"RTN","ICD1820D",225,0)
 ;;99.10^^
"RTN","ICD1820D",226,0)
 ;;+1^559
"RTN","ICD1820D",227,0)
 ;;35.52^Oo^
"RTN","ICD1820D",228,0)
 ;;+5^518
"RTN","ICD1820D",229,0)
 ;;81.51^OM^2
"RTN","ICD1820D",230,0)
 ;;+8^471^544
"RTN","ICD1820D",231,0)
 ;;81.52^OM^2
"RTN","ICD1820D",232,0)
 ;;+8^471^544
"RTN","ICD1820D",233,0)
 ;;81.53^OM^2
"RTN","ICD1820D",234,0)
 ;;+8^471^545
"RTN","ICD1820D",235,0)
 ;;81.54^OM^3
"RTN","ICD1820D",236,0)
 ;;+8^471^544
"RTN","ICD1820D",237,0)
 ;;81.55^OM^3
"RTN","ICD1820D",238,0)
 ;;+8^471^545
"RTN","ICD1820D",239,0)
 ;;81.56^OM^3
"RTN","ICD1820D",240,0)
 ;;+8^471^544
"RTN","ICD1820D",241,0)
 ;;84.26^O^2
"RTN","ICD1820D",242,0)
 ;;+8^544
"RTN","ICD1820D",243,0)
 ;;84.27^O^2
"RTN","ICD1820D",244,0)
 ;;+8^544
"RTN","ICD1820D",245,0)
 ;;84.28^O^2
"RTN","ICD1820D",246,0)
 ;;+8^544
"RTN","ICD1820D",247,0)
 ;;EXIT
"RTN","ICD1820D",248,0)
 Q 
"RTN","ICD1820E")
0^11^B16635319
"RTN","ICD1820E",1,0)
ICD1820E ;;ALB/JAT - 2006 FY DRG GROUPER UPDATE; 7/27/05 14:50
"RTN","ICD1820E",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13,2000
"RTN","ICD1820E",3,0)
 ;
"RTN","ICD1820E",4,0)
 ; fix latest tickets
"RTN","ICD1820E",5,0)
 Q
"RTN","ICD1820E",6,0)
 ;
"RTN","ICD1820E",7,0)
REMEDY ;
"RTN","ICD1820E",8,0)
 D BMES^XPDUTL("...Repairing Remedy tickets...")
"RTN","ICD1820E",9,0)
 ; HD102030
"RTN","ICD1820E",10,0)
 ; modify Identifier field (#2) in file 80.1 - add a "B" for bone marrow
"RTN","ICD1820E",11,0)
 N LINE,X,ICDPROC,ENTRY,DA,DIE,DR,IDENT,DIC
"RTN","ICD1820E",12,0)
 F LINE=1:1 S X=$T(REVID+LINE) S ICDPROC=$P(X,";;",2) Q:ICDPROC="EXIT"  D
"RTN","ICD1820E",13,0)
 .S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",0)) I ENTRY D
"RTN","ICD1820E",14,0)
 ..S DA=ENTRY,DIE="^ICD0("
"RTN","ICD1820E",15,0)
 ..S IDENT=$P(ICDPROC,U,2)
"RTN","ICD1820E",16,0)
 ..S DR="2///^S X=IDENT"
"RTN","ICD1820E",17,0)
 ..D ^DIE
"RTN","ICD1820E",18,0)
 ;
"RTN","ICD1820E",19,0)
 ; HD97884
"RTN","ICD1820E",20,0)
 ; change MDC from 1 to 18 for diags 995.90 thru 995.94
"RTN","ICD1820E",21,0)
 F X=13722,13723,13724,13725,13726 D
"RTN","ICD1820E",22,0)
 .S DA=X,DIE="^ICD9(",IDENT=18
"RTN","ICD1820E",23,0)
 .S DR="5///^S X=IDENT"
"RTN","ICD1820E",24,0)
 .D ^DIE
"RTN","ICD1820E",25,0)
 ; kill 80.071, 80.711 and 80.072 subfile records for diags 995.90 thru 995.94
"RTN","ICD1820E",26,0)
 N X,DA,DIK
"RTN","ICD1820E",27,0)
 F X=13722,13723,13724,13725,13726 D
"RTN","ICD1820E",28,0)
 .S DA(1)=X
"RTN","ICD1820E",29,0)
 .S DA=2
"RTN","ICD1820E",30,0)
 .S DIK="^ICD9("_DA(1)_",""3"","
"RTN","ICD1820E",31,0)
 .D ^DIK
"RTN","ICD1820E",32,0)
 .S DIK="^ICD9("_DA(1)_",""4"","
"RTN","ICD1820E",33,0)
 .D ^DIK
"RTN","ICD1820E",34,0)
 ;
"RTN","ICD1820E",35,0)
 ; HD 106613
"RTN","ICD1820E",36,0)
 ; routine ICDDRG changed - no code set changes
"RTN","ICD1820E",37,0)
 ; 
"RTN","ICD1820E",38,0)
 ; HD 107571
"RTN","ICD1820E",39,0)
 ; add additional MDCs and associated DRGs for new op/pro codes from last year (FY 2005)
"RTN","ICD1820E",40,0)
PRO ;
"RTN","ICD1820E",41,0)
 N LINE,X,ICDPROC,ENTRY,DA,DIE,DR,IDENT,MDC24,SUBLINE,DATA,FDA
"RTN","ICD1820E",42,0)
 F LINE=1:1 S X=$T(REVP+LINE) S ICDPROC=$P(X,";;",2) Q:ICDPROC="EXIT"  D
"RTN","ICD1820E",43,0)
 .Q:ICDPROC["+"
"RTN","ICD1820E",44,0)
 .S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",0))
"RTN","ICD1820E",45,0)
 .I ENTRY D
"RTN","ICD1820E",46,0)
 ..;check for possible inactive dupe
"RTN","ICD1820E",47,0)
 ..I $P($G(^ICD0(ENTRY,0)),U,9)=1 S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",ENTRY)) I 'ENTRY Q
"RTN","ICD1820E",48,0)
 ..S DA=ENTRY,DIE="^ICD0("
"RTN","ICD1820E",49,0)
 ..S IDENT=$P(ICDPROC,U,2)
"RTN","ICD1820E",50,0)
 ..;this is from the OR column in Table 6B - the Y translates to the letter O (OR) 
"RTN","ICD1820E",51,0)
 ..I IDENT="Y" S IDENT="O"
"RTN","ICD1820E",52,0)
 ..I DA=4254 S IDENT="OK"
"RTN","ICD1820E",53,0)
 ..I DA=4215!(DA=4216) S IDENT="Oz"
"RTN","ICD1820E",54,0)
 ..S MDC24=$P(ICDPROC,U,3)
"RTN","ICD1820E",55,0)
 ..S DR="2///^S X=IDENT;5///^S X=MDC24"
"RTN","ICD1820E",56,0)
 ..D ^DIE
"RTN","ICD1820E",57,0)
 ..; add 80.1711 and 80.17111 records
"RTN","ICD1820E",58,0)
 ..F SUBLINE=1:1 S X=$T(REVP+LINE+SUBLINE) S DATA=$P(X,";;",2) Q:DATA'["+"  D
"RTN","ICD1820E",59,0)
 ...S DATA=$E(DATA,2,99)
"RTN","ICD1820E",60,0)
 ...; check if already created in case patch being re-installed
"RTN","ICD1820E",61,0)
 ...I $D(^ICD0(ENTRY,2,1,1,"B",$P(DATA,U))) Q
"RTN","ICD1820E",62,0)
 ...S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1820E",63,0)
 ...S FDA(1820,80.171,"?2,?1,",.01)=3041001
"RTN","ICD1820E",64,0)
 ...S FDA(1820,80.1711,"+3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1820E",65,0)
 ...D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820E",66,0)
 ...S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1820E",67,0)
 ...S FDA(1820,80.171,"?2,?1,",.01)=3041001
"RTN","ICD1820E",68,0)
 ...S FDA(1820,80.1711,"?3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1820E",69,0)
 ...S FDA(1820,80.17111,"+4,?3,?2,?1,",.01)=$P(DATA,U,2)
"RTN","ICD1820E",70,0)
 ...I $P(DATA,U,3) S FDA(1820,80.17111,"+5,?3,?2,?1,",.01)=$P(DATA,U,3)
"RTN","ICD1820E",71,0)
 ...I $P(DATA,U,4) S FDA(1820,80.17111,"+6,?3,?2,?1,",.01)=$P(DATA,U,4)
"RTN","ICD1820E",72,0)
 ...I $P(DATA,U,5) S FDA(1820,80.17111,"+7,?3,?2,?1,",.01)=$P(DATA,U,5)
"RTN","ICD1820E",73,0)
 ...D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1820E",74,0)
 ;
"RTN","ICD1820E",75,0)
 ; HD 112348 - add identifier "1" to Dx 852.06
"RTN","ICD1820E",76,0)
 S DA=6391
"RTN","ICD1820E",77,0)
 S DIE="^ICD9("
"RTN","ICD1820E",78,0)
 S IDENT=1
"RTN","ICD1820E",79,0)
 S DR="2///^S X=IDENT"
"RTN","ICD1820E",80,0)
 D ^DIE
"RTN","ICD1820E",81,0)
 Q
"RTN","ICD1820E",82,0)
REVID ;
"RTN","ICD1820E",83,0)
 ;;41.04^OB
"RTN","ICD1820E",84,0)
 ;;41.05^OB
"RTN","ICD1820E",85,0)
 ;;41.06^OB
"RTN","ICD1820E",86,0)
 ;;41.07^OB
"RTN","ICD1820E",87,0)
 ;;41.08^OB
"RTN","ICD1820E",88,0)
 ;;41.09^OB
"RTN","ICD1820E",89,0)
 ;;EXIT
"RTN","ICD1820E",90,0)
 ;;
"RTN","ICD1820E",91,0)
REVP ;
"RTN","ICD1820E",92,0)
 ;;00.61^Y^2
"RTN","ICD1820E",93,0)
 ;;+21^442^443
"RTN","ICD1820E",94,0)
 ;;+24^486
"RTN","ICD1820E",95,0)
 ;;00.62^Y^2
"RTN","ICD1820E",96,0)
 ;;+1^533^534
"RTN","ICD1820E",97,0)
 ;;+21^442^443
"RTN","ICD1820E",98,0)
 ;;+24^486
"RTN","ICD1820E",99,0)
 ;;44.38^Y^
"RTN","ICD1820E",100,0)
 ;;+5^120
"RTN","ICD1820E",101,0)
 ;;+7^201
"RTN","ICD1820E",102,0)
 ;;+10^288
"RTN","ICD1820E",103,0)
 ;;+17^406^407^539^540
"RTN","ICD1820E",104,0)
 ;;44.67^Y^2
"RTN","ICD1820E",105,0)
 ;;+21^442^443
"RTN","ICD1820E",106,0)
 ;;+24^486
"RTN","ICD1820E",107,0)
 ;;44.68^Y^2
"RTN","ICD1820E",108,0)
 ;;+10^288
"RTN","ICD1820E",109,0)
 ;;+21^442^443
"RTN","ICD1820E",110,0)
 ;;+24^486
"RTN","ICD1820E",111,0)
 ;;81.65^Y^2
"RTN","ICD1820E",112,0)
 ;;+21^442^443
"RTN","ICD1820E",113,0)
 ;;+24^486
"RTN","ICD1820E",114,0)
 ;;81.66^Y^2
"RTN","ICD1820E",115,0)
 ;;+21^442^443
"RTN","ICD1820E",116,0)
 ;;+24^486
"RTN","ICD1820E",117,0)
 ;;84.59^Y^2
"RTN","ICD1820E",118,0)
 ;;+1^531^532
"RTN","ICD1820E",119,0)
 ;;+21^442^443
"RTN","ICD1820E",120,0)
 ;;+24^486
"RTN","ICD1820E",121,0)
 ;;84.60^Y^2
"RTN","ICD1820E",122,0)
 ;;+1^531^532
"RTN","ICD1820E",123,0)
 ;;+21^442^443
"RTN","ICD1820E",124,0)
 ;;+24^486
"RTN","ICD1820E",125,0)
 ;;84.61^Y^2
"RTN","ICD1820E",126,0)
 ;;+1^531^532
"RTN","ICD1820E",127,0)
 ;;+21^442^443
"RTN","ICD1820E",128,0)
 ;;+24^486
"RTN","ICD1820E",129,0)
 ;;84.62^Y^2
"RTN","ICD1820E",130,0)
 ;;+1^531^532
"RTN","ICD1820E",131,0)
 ;;+21^442^443
"RTN","ICD1820E",132,0)
 ;;+24^486
"RTN","ICD1820E",133,0)
 ;;84.63^Y^2
"RTN","ICD1820E",134,0)
 ;;+1^531^532
"RTN","ICD1820E",135,0)
 ;;+21^442^443
"RTN","ICD1820E",136,0)
 ;;+24^486
"RTN","ICD1820E",137,0)
 ;;84.64^Y^2
"RTN","ICD1820E",138,0)
 ;;+1^531^532
"RTN","ICD1820E",139,0)
 ;;+21^442^443
"RTN","ICD1820E",140,0)
 ;;+24^486
"RTN","ICD1820E",141,0)
 ;;84.65^Y^2
"RTN","ICD1820E",142,0)
 ;;+1^531^532
"RTN","ICD1820E",143,0)
 ;;+21^442^443
"RTN","ICD1820E",144,0)
 ;;+24^486
"RTN","ICD1820E",145,0)
 ;;84.66^Y^2
"RTN","ICD1820E",146,0)
 ;;+1^531^532
"RTN","ICD1820E",147,0)
 ;;+21^442^443
"RTN","ICD1820E",148,0)
 ;;+24^486
"RTN","ICD1820E",149,0)
 ;;84.67^Y^2
"RTN","ICD1820E",150,0)
 ;;+1^531^532
"RTN","ICD1820E",151,0)
 ;;+21^442^443
"RTN","ICD1820E",152,0)
 ;;+24^486
"RTN","ICD1820E",153,0)
 ;;84.68^Y^2
"RTN","ICD1820E",154,0)
 ;;+1^531^532
"RTN","ICD1820E",155,0)
 ;;+21^442^443
"RTN","ICD1820E",156,0)
 ;;+24^486
"RTN","ICD1820E",157,0)
 ;;84.69^Y^2
"RTN","ICD1820E",158,0)
 ;;+1^531^532
"RTN","ICD1820E",159,0)
 ;;+21^442^443
"RTN","ICD1820E",160,0)
 ;;+24^486
"RTN","ICD1820E",161,0)
 ;;EXIT
"RTN","ICD1820E",162,0)
 ;
"RTN","ICD1820E",163,0)
       
"RTN","ICD1820E",164,0)
                         
"RTN","ICD1820P")
0^12^B283361
"RTN","ICD1820P",1,0)
ICD1820P   ;;ALB/JAT - 2006 FY DRG GROUPER UPDATE; 7/27/05 14:50
"RTN","ICD1820P",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13,2000
"RTN","ICD1820P",3,0)
 ;       
"RTN","ICD1820P",4,0)
 ; fix Remedy tickets
"RTN","ICD1820P",5,0)
 D REMEDY^ICD1820E
"RTN","ICD1820P",6,0)
 ; add new DRGs
"RTN","ICD1820P",7,0)
 D ADDDRG^ICD1820A
"RTN","ICD1820P",8,0)
 ; update operation/procedure codes
"RTN","ICD1820P",9,0)
 D PRO^ICD1820A
"RTN","ICD1820P",10,0)
 ; update diagnosis codes
"RTN","ICD1820P",11,0)
 D DIAG^ICD1820C
"RTN","ICD1820P",12,0)
 ; DRG reclassification changes
"RTN","ICD1820P",13,0)
 D DRGRECL^ICD1820D
"RTN","ICD1820P",14,0)
 S ^DD(80.2,0,"VRRV")="20^3051001"
"RTN","ICD1820P",15,0)
 Q
"RTN","ICD1820V")
0^13^B732333
"RTN","ICD1820V",1,0)
ICD1820V ;ALB/MRY - ENVIRONMENT CHECK; 10/2/03 3:32pm
"RTN","ICD1820V",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13,2000
"RTN","ICD1820V",3,0)
 ;;
"RTN","ICD1820V",4,0)
EN ;
"RTN","ICD1820V",5,0)
 S XPDABORT=""
"RTN","ICD1820V",6,0)
 D PROGCHK(.XPDABORT)
"RTN","ICD1820V",7,0)
 I XPDABORT="" K XPDABORT
"RTN","ICD1820V",8,0)
 ;
"RTN","ICD1820V",9,0)
 Q
"RTN","ICD1820V",10,0)
 ;
"RTN","ICD1820V",11,0)
PROGCHK(XPDABORT) ;
"RTN","ICD1820V",12,0)
 I '$G(DUZ)!($G(DUZ(0))'="@")!('$G(DT))!($G(U)'="^") DO
"RTN","ICD1820V",13,0)
 .D BMES^XPDUTL("*****")
"RTN","ICD1820V",14,0)
 .D MES^XPDUTL("Your programming variables are not set up properly.")
"RTN","ICD1820V",15,0)
 .D MES^XPDUTL("Installation aborted.")
"RTN","ICD1820V",16,0)
 .D MES^XPDUTL("*****")
"RTN","ICD1820V",17,0)
 .S XPDABORT=2
"RTN","ICD1820V",18,0)
 .Q
"RTN","ICD1820V",19,0)
 Q
"RTN","ICD1820V",20,0)
 ;
"RTN","ICD1820X")
0^14^B20929129
"RTN","ICD1820X",1,0)
ICD1820X ;ALB/MRY - FY 2004 DRG Weights & Trims;  ; 6/28/05 3:01pm
"RTN","ICD1820X",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13,2000
"RTN","ICD1820X",3,0)
WEIGHTS ;;DRG^RELATIVE WEIGHTS^GEOMETRIC MEAN LOS
"RTN","ICD1820X",4,0)
 ;;1^3.4347^7.6
"RTN","ICD1820X",5,0)
 ;;2^1.9587^3.5
"RTN","ICD1820X",6,0)
 ;;3^1.9860^12.7
"RTN","ICD1820X",7,0)
 ;;4^0^0^0
"RTN","ICD1820X",8,0)
 ;;5^0^0^0
"RTN","ICD1820X",9,0)
 ;;6^0.7878^2.2
"RTN","ICD1820X",10,0)
 ;;7^2.6978^6.7
"RTN","ICD1820X",11,0)
 ;;8^1.5635^2.0
"RTN","ICD1820X",12,0)
 ;;9^1.4045^4.5
"RTN","ICD1820X",13,0)
 ;;10^1.2222^4.6
"RTN","ICD1820X",14,0)
 ;;11^0.8736^2.9
"RTN","ICD1820X",15,0)
 ;;12^0.8998^4.3
"RTN","ICD1820X",16,0)
 ;;13^0.8575^4.0
"RTN","ICD1820X",17,0)
 ;;14^1.2456^4.5
"RTN","ICD1820X",18,0)
 ;;15^0.9421^3.7
"RTN","ICD1820X",19,0)
 ;;16^1.3351^5.0
"RTN","ICD1820X",20,0)
 ;;17^0.7229^2.5
"RTN","ICD1820X",21,0)
 ;;18^0.9903^4.1
"RTN","ICD1820X",22,0)
 ;;19^0.7077^2.7
"RTN","ICD1820X",23,0)
 ;;20^2.7865^8.0
"RTN","ICD1820X",24,0)
 ;;21^1.4451^4.9
"RTN","ICD1820X",25,0)
 ;;22^1.1304^4.0
"RTN","ICD1820X",26,0)
 ;;23^0.7712^3.0
"RTN","ICD1820X",27,0)
 ;;24^0.9970^3.6
"RTN","ICD1820X",28,0)
 ;;25^0.6180^2.5
"RTN","ICD1820X",29,0)
 ;;26^1.8191^3.4
"RTN","ICD1820X",30,0)
 ;;27^1.3531^3.2
"RTN","ICD1820X",31,0)
 ;;28^1.3353^4.4
"RTN","ICD1820X",32,0)
 ;;29^0.7212^2.6
"RTN","ICD1820X",33,0)
 ;;30^0.3359^2.0
"RTN","ICD1820X",34,0)
 ;;31^0.9567^3.0
"RTN","ICD1820X",35,0)
 ;;32^0.6194^1.9
"RTN","ICD1820X",36,0)
 ;;33^0.2109^1.6
"RTN","ICD1820X",37,0)
 ;;34^1.0062^3.7
"RTN","ICD1820X",38,0)
 ;;35^0.6241^2.4
"RTN","ICD1820X",39,0)
 ;;36^0.7288^1.3
"RTN","ICD1820X",40,0)
 ;;37^1.1858^2.7
"RTN","ICD1820X",41,0)
 ;;38^0.6975^2.5
"RTN","ICD1820X",42,0)
 ;;39^0.7108^1.7
"RTN","ICD1820X",43,0)
 ;;40^0.9627^3.0
"RTN","ICD1820X",44,0)
 ;;41^0.3419^1.6
"RTN","ICD1820X",45,0)
 ;;42^0.7852^2.0
"RTN","ICD1820X",46,0)
 ;;43^0.6141^2.4
"RTN","ICD1820X",47,0)
 ;;44^0.6874^3.9
"RTN","ICD1820X",48,0)
 ;;45^0.7474^2.5
"RTN","ICD1820X",49,0)
 ;;46^0.7524^3.2
"RTN","ICD1820X",50,0)
 ;;47^0.5203^2.3
"RTN","ICD1820X",51,0)
 ;;48^0.3012^2.9
"RTN","ICD1820X",52,0)
 ;;49^1.6361^3.1
"RTN","ICD1820X",53,0)
 ;;50^0.8690^1.5
"RTN","ICD1820X",54,0)
 ;;51^0.8809^1.9
"RTN","ICD1820X",55,0)
 ;;52^0.8348^1.5
"RTN","ICD1820X",56,0)
 ;;53^1.3269^2.4
"RTN","ICD1820X",57,0)
 ;;54^0.4882^3.2
"RTN","ICD1820X",58,0)
 ;;55^0.9597^2.0
"RTN","ICD1820X",59,0)
 ;;56^0.8711^1.8
"RTN","ICD1820X",60,0)
 ;;57^1.0428^2.3
"RTN","ICD1820X",61,0)
 ;;58^0.2772^1.5
"RTN","ICD1820X",62,0)
 ;;59^0.8082^1.8
"RTN","ICD1820X",63,0)
 ;;60^0.2110^1.5
"RTN","ICD1820X",64,0)
 ;;61^1.2867^3.3
"RTN","ICD1820X",65,0)
 ;;62^0.2989^1.3
"RTN","ICD1820X",66,0)
 ;;63^1.3983^3.0
"RTN","ICD1820X",67,0)
 ;;64^1.1663^4.1
"RTN","ICD1820X",68,0)
 ;;65^0.5991^2.3
"RTN","ICD1820X",69,0)
 ;;66^0.5958^2.4
"RTN","ICD1820X",70,0)
 ;;67^0.7725^2.9
"RTN","ICD1820X",71,0)
 ;;68^0.6611^3.2
"RTN","ICD1820X",72,0)
 ;;69^0.4850^2.5
"RTN","ICD1820X",73,0)
 ;;70^0.4210^2.1
"RTN","ICD1820X",74,0)
 ;;71^0.7524^3.2
"RTN","ICD1820X",75,0)
 ;;72^0.7449^2.6
"RTN","ICD1820X",76,0)
 ;;73^0.8527^3.3
"RTN","ICD1820X",77,0)
 ;;74^0.3398^2.1
"RTN","ICD1820X",78,0)
 ;;75^3.0732^7.6
"RTN","ICD1820X",79,0)
 ;;76^2.8830^8.4
"RTN","ICD1820X",80,0)
 ;;77^1.1857^3.3
"RTN","ICD1820X",81,0)
 ;;78^1.2427^5.4
"RTN","ICD1820X",82,0)
 ;;79^1.6238^6.7
"RTN","ICD1820X",83,0)
 ;;80^0.8947^4.4
"RTN","ICD1820X",84,0)
 ;;81^1.5383^6.1
"RTN","ICD1820X",85,0)
 ;;82^1.3936^5.1
"RTN","ICD1820X",86,0)
 ;;83^0.9828^4.2
"RTN","ICD1820X",87,0)
 ;;84^0.5799^2.6
"RTN","ICD1820X",88,0)
 ;;85^1.2405^4.8
"RTN","ICD1820X",89,0)
 ;;86^0.6974^2.8
"RTN","ICD1820X",90,0)
 ;;87^1.3654^4.9
"RTN","ICD1820X",91,0)
 ;;88^0.8778^4.0
"RTN","ICD1820X",92,0)
 ;;89^1.0320^4.7
"RTN","ICD1820X",93,0)
 ;;90^0.6104^3.2
"RTN","ICD1820X",94,0)
 ;;91^0.8124^3.4
"RTN","ICD1820X",95,0)
 ;;92^1.1853^4.8
"RTN","ICD1820X",96,0)
 ;;93^0.7150^3.1
"RTN","ICD1820X",97,0)
 ;;94^1.1354^4.6
"RTN","ICD1820X",98,0)
 ;;95^0.6035^2.9
"RTN","ICD1820X",99,0)
 ;;96^0.7303^3.6
"RTN","ICD1820X",100,0)
 ;;97^0.5364^2.8
"RTN","ICD1820X",101,0)
 ;;98^0.5560^3.7
"RTN","ICD1820X",102,0)
 ;;99^0.7094^2.4
"RTN","ICD1820X",103,0)
 ;;100^0.5382^1.7
"RTN","ICD1820X",104,0)
 ;;101^0.8733^3.3
"RTN","ICD1820X",105,0)
 ;;102^0.5402^2.0
"RTN","ICD1820X",106,0)
 ;;103^18.5617^23.7
"RTN","ICD1820X",107,0)
 ;;104^8.2201^12.7
"RTN","ICD1820X",108,0)
 ;;105^6.0192^8.4
"RTN","ICD1820X",109,0)
 ;;106^7.0346^9.5
"RTN","ICD1820X",110,0)
 ;;107^0^0
"RTN","ICD1820X",111,0)
 ;;108^5.8789^8.6
"RTN","ICD1820X",112,0)
 ;;109^0^0
"RTN","ICD1820X",113,0)
 ;;110^3.8417^5.7
"RTN","ICD1820X",114,0)
 ;;111^2.4840^2.6
"RTN","ICD1820X",115,0)
 ;;112^0^0^0
"RTN","ICD1820X",116,0)
 ;;113^3.1682^10.8
"RTN","ICD1820X",117,0)
 ;;114^1.7354^6.7
"RTN","ICD1820X",118,0)
 ;;115^0^0
"RTN","ICD1820X",119,0)
 ;;116^0^0
"RTN","ICD1820X",120,0)
 ;;117^1.3223^2.6
"RTN","ICD1820X",121,0)
 ;;118^1.6380^2.1
"RTN","ICD1820X",122,0)
 ;;119^1.3456^3.3
"RTN","ICD1820X",123,0)
 ;;120^2.3853^5.9
"RTN","ICD1820X",124,0)
 ;;121^1.6136^5.3
"RTN","ICD1820X",125,0)
 ;;122^0.9847^2.8
"RTN","ICD1820X",126,0)
 ;;123^1.5407^2.9
"RTN","ICD1820X",127,0)
 ;;124^1.4425^3.3
"RTN","ICD1820X",128,0)
 ;;125^1.0948^2.1
"RTN","ICD1820X",129,0)
 ;;126^2.7440^9.4
"RTN","ICD1820X",130,0)
 ;;127^1.0345^4.1
"RTN","ICD1820X",131,0)
 ;;128^0.6949^4.4
"RTN","ICD1820X",132,0)
 ;;129^1.0404^1.7
"RTN","ICD1820X",133,0)
 ;;130^0.9425^4.4
"RTN","ICD1820X",134,0)
 ;;131^0.5566^3.2
"RTN","ICD1820X",135,0)
 ;;132^0.6273^2.2
"RTN","ICD1820X",136,0)
 ;;133^0.5337^1.8
"RTN","ICD1820X",137,0)
 ;;134^0.6068^2.4
"RTN","ICD1820X",138,0)
 ;;135^0.8917^3.2
"RTN","ICD1820X",139,0)
 ;;136^0.6214^2.2
"RTN","ICD1820X",140,0)
 ;;137^0.8288^3.3
"RTN","ICD1820X",141,0)
 ;;138^0.8287^3.0
"RTN","ICD1820X",142,0)
 ;;139^0.5227^2.0
"RTN","ICD1820X",143,0)
 ;;140^0.5116^2.0
"RTN","ICD1820X",144,0)
 ;;141^0.7521^2.7
"RTN","ICD1820X",145,0)
 ;;142^0.5852^2.0
"RTN","ICD1820X",146,0)
 ;;143^0.5659^1.7
"RTN","ICD1820X",147,0)
 ;;144^1.2761^4.1
"RTN","ICD1820X",148,0)
 ;;145^0.5835^2.1
"RTN","ICD1820X",149,0)
 ;;146^2.6621^8.6
"RTN","ICD1820X",150,0)
 ;;147^1.4781^5.2
"RTN","ICD1820X",151,0)
 ;;148^3.4479^10.0
"RTN","ICD1820X",152,0)
 ;;149^1.4324^5.4
"RTN","ICD1820X",153,0)
 ;;150^2.8061^8.9
"RTN","ICD1820X",154,0)
 ;;151^1.2641^4.0
"RTN","ICD1820X",155,0)
 ;;152^1.8783^6.7
"RTN","ICD1820X",156,0)
 ;;153^1.0821^4.5
"RTN","ICD1820X",157,0)
 ;;154^4.0399^9.9
"RTN","ICD1820X",158,0)
 ;;155^1.2889^3.1
"RTN","ICD1820X",159,0)
 ;;156^0.8535^6.0
"RTN","ICD1820X",160,0)
 ;;157^1.3356^4.1
"RTN","ICD1820X",161,0)
 ;;158^0.6657^2.1
"RTN","ICD1820X",162,0)
 ;;159^1.4081^3.8
"RTN","ICD1820X",163,0)
 ;;160^0.8431^2.2
"RTN","ICD1820X",164,0)
 ;;161^1.1931^3.1
"RTN","ICD1820X",165,0)
 ;;162^0.6785^1.7
"RTN","ICD1820X",166,0)
 ;;163^0.6723^2.2
"RTN","ICD1820X",167,0)
 ;;164^2.2476^6.6
"RTN","ICD1820X",168,0)
 ;;165^1.1868^3.6
"RTN","ICD1820X",169,0)
 ;;166^1.4521^3.3
"RTN","ICD1820X",170,0)
 ;;167^0.8929^1.9
"RTN","ICD1820X",171,0)
 ;;168^1.2662^3.3
"RTN","ICD1820X",172,0)
 ;;169^0.7297^1.8
"RTN","ICD1820X",173,0)
 ;;170^2.9612^7.8
"RTN","ICD1820X",174,0)
 ;;171^1.1905^3.1
"RTN","ICD1820X",175,0)
 ;;172^1.4125^5.1
"RTN","ICD1820X",176,0)
 ;;173^0.7443^2.7
"RTN","ICD1820X",177,0)
 ;;174^1.0060^3.8
"RTN","ICD1820X",178,0)
 ;;175^0.5646^2.4
"RTN","ICD1820X",179,0)
 ;;176^1.1246^4.1
"RTN","ICD1820X",180,0)
 ;;177^0.9166^3.6
"RTN","ICD1820X",181,0)
 ;;178^0.7013^2.6
"RTN","ICD1820X",182,0)
 ;;179^1.0911^4.5
"RTN","ICD1820X",183,0)
 ;;180^0.9784^4.2
"RTN","ICD1820X",184,0)
 ;;181^0.5614^2.8
"RTN","ICD1820X",185,0)
 ;;182^0.8413^3.4
"RTN","ICD1820X",186,0)
 ;;183^0.5848^2.3
"RTN","ICD1820X",187,0)
 ;;184^0.5663^2.5
"RTN","ICD1820X",188,0)
 ;;185^0.8702^3.2
"RTN","ICD1820X",189,0)
 ;;186^0.3253^2.9
"RTN","ICD1820X",190,0)
 ;;187^0.8363^3.1
"RTN","ICD1820X",191,0)
 ;;188^1.1290^4.2
"RTN","ICD1820X",192,0)
 ;;189^0.6064^2.4
"RTN","ICD1820X",193,0)
 ;;190^0.6179^3.1
"RTN","ICD1820X",194,0)
 ;;191^3.9680^9.0
"RTN","ICD1820X",195,0)
 ;;192^1.6793^4.3
"RTN","ICD1820X",196,0)
 ;;193^3.2818^9.9
"RTN","ICD1820X",197,0)
 ;;194^1.5748^5.6
"RTN","ICD1820X",198,0)
 ;;195^3.0530^8.8
"RTN","ICD1820X",199,0)
 ;;196^1.6031^4.9
"RTN","ICD1820X",200,0)
 ;;197^2.5425^7.5
"RTN","ICD1820X",201,0)
 ;;198^1.1604^3.7
"RTN","ICD1820X",202,0)
 ;;199^2.4073^6.8
"RTN","ICD1820X",203,0)
 ;;200^2.7868^6.5
"RTN","ICD1820X",204,0)
 Q
"RTN","ICD1820Y")
0^15^B21429448
"RTN","ICD1820Y",1,0)
ICD1820Y ;ALB/MRY - FY 2004 DRG Weights & Trims; 10/2/03 ; 6/28/05 1:27pm
"RTN","ICD1820Y",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13, 2000
"RTN","ICD1820Y",3,0)
WEIGHTS ;;DRG^RELATIVE WEIGHTS^GEOMETRIC MEAN LOS
"RTN","ICD1820Y",4,0)
 ;;201^3.7339^9.9
"RTN","ICD1820Y",5,0)
 ;;202^1.3318^4.7
"RTN","ICD1820Y",6,0)
 ;;203^1.3552^4.9
"RTN","ICD1820Y",7,0)
 ;;204^1.1249^4.2
"RTN","ICD1820Y",8,0)
 ;;205^1.2059^4.4
"RTN","ICD1820Y",9,0)
 ;;206^0.7292^3.0
"RTN","ICD1820Y",10,0)
 ;;207^1.1746^4.1
"RTN","ICD1820Y",11,0)
 ;;208^0.6895^2.3
"RTN","ICD1820Y",12,0)
 ;;209^0^0^0
"RTN","ICD1820Y",13,0)
 ;;210^1.9059^6.1
"RTN","ICD1820Y",14,0)
 ;;211^1.2690^4.4
"RTN","ICD1820Y",15,0)
 ;;212^1.2877^2.4
"RTN","ICD1820Y",16,0)
 ;;213^2.0428^7.2
"RTN","ICD1820Y",17,0)
 ;;214^0^0^0
"RTN","ICD1820Y",18,0)
 ;;215^0^0^0
"RTN","ICD1820Y",19,0)
 ;;216^1.9131^3.3
"RTN","ICD1820Y",20,0)
 ;;217^3.0596^9.3
"RTN","ICD1820Y",21,0)
 ;;218^1.6648^4.4
"RTN","ICD1820Y",22,0)
 ;;219^1.0443^2.6
"RTN","ICD1820Y",23,0)
 ;;220^0.5913^5.3
"RTN","ICD1820Y",24,0)
 ;;221^0^0^0
"RTN","ICD1820Y",25,0)
 ;;222^0^0^0
"RTN","ICD1820Y",26,0)
 ;;223^1.1164^2.3
"RTN","ICD1820Y",27,0)
 ;;224^0.8185^1.6
"RTN","ICD1820Y",28,0)
 ;;225^1.2251^3.7
"RTN","ICD1820Y",29,0)
 ;;226^1.5884^4.5
"RTN","ICD1820Y",30,0)
 ;;227^0.8311^2.1
"RTN","ICD1820Y",31,0)
 ;;228^1.1459^2.8
"RTN","ICD1820Y",32,0)
 ;;229^0.6976^1.9
"RTN","ICD1820Y",33,0)
 ;;230^1.3174^3.7
"RTN","ICD1820Y",34,0)
 ;;231^0^0^0
"RTN","ICD1820Y",35,0)
 ;;232^0.9702^1.8
"RTN","ICD1820Y",36,0)
 ;;233^1.9184^4.6
"RTN","ICD1820Y",37,0)
 ;;234^1.2219^2.0
"RTN","ICD1820Y",38,0)
 ;;235^0.7768^3.8
"RTN","ICD1820Y",39,0)
 ;;236^0.7407^3.8
"RTN","ICD1820Y",40,0)
 ;;237^0.6090^3.0
"RTN","ICD1820Y",41,0)
 ;;238^1.4401^6.7
"RTN","ICD1820Y",42,0)
 ;;239^1.0767^5.0
"RTN","ICD1820Y",43,0)
 ;;240^1.4051^5.0
"RTN","ICD1820Y",44,0)
 ;;241^0.6629^3.0
"RTN","ICD1820Y",45,0)
 ;;242^1.1504^5.1
"RTN","ICD1820Y",46,0)
 ;;243^0.7658^3.6
"RTN","ICD1820Y",47,0)
 ;;244^0.7200^3.6
"RTN","ICD1820Y",48,0)
 ;;245^0.4583^2.5
"RTN","ICD1820Y",49,0)
 ;;246^0.5932^2.8
"RTN","ICD1820Y",50,0)
 ;;247^0.5795^2.6
"RTN","ICD1820Y",51,0)
 ;;248^0.8554^3.8
"RTN","ICD1820Y",52,0)
 ;;249^0.7095^2.7
"RTN","ICD1820Y",53,0)
 ;;250^0.6974^3.2
"RTN","ICD1820Y",54,0)
 ;;251^0.4749^2.3
"RTN","ICD1820Y",55,0)
 ;;252^0.2567^1.8
"RTN","ICD1820Y",56,0)
 ;;253^0.7747^3.8
"RTN","ICD1820Y",57,0)
 ;;254^0.4588^2.6
"RTN","ICD1820Y",58,0)
 ;;255^0.2990^2.9
"RTN","ICD1820Y",59,0)
 ;;256^0.8509^3.9
"RTN","ICD1820Y",60,0)
 ;;257^0.8967^2.0
"RTN","ICD1820Y",61,0)
 ;;258^0.7138^1.5
"RTN","ICD1820Y",62,0)
 ;;259^0.9671^1.8
"RTN","ICD1820Y",63,0)
 ;;260^0.7032^1.2
"RTN","ICD1820Y",64,0)
 ;;261^0.9732^1.6
"RTN","ICD1820Y",65,0)
 ;;262^0.9766^3.3
"RTN","ICD1820Y",66,0)
 ;;263^2.1130^8.6
"RTN","ICD1820Y",67,0)
 ;;264^1.0635^5.0
"RTN","ICD1820Y",68,0)
 ;;265^1.6593^4.4
"RTN","ICD1820Y",69,0)
 ;;266^0.8637^2.3
"RTN","ICD1820Y",70,0)
 ;;267^0.8962^2.8
"RTN","ICD1820Y",71,0)
 ;;268^1.1326^2.4
"RTN","ICD1820Y",72,0)
 ;;269^1.8352^6.2
"RTN","ICD1820Y",73,0)
 ;;270^0.8513^2.7
"RTN","ICD1820Y",74,0)
 ;;271^1.0195^5.6
"RTN","ICD1820Y",75,0)
 ;;272^0.9860^4.5
"RTN","ICD1820Y",76,0)
 ;;273^0.5539^2.9
"RTN","ICD1820Y",77,0)
 ;;274^1.1294^4.7
"RTN","ICD1820Y",78,0)
 ;;275^0.5340^2.4
"RTN","ICD1820Y",79,0)
 ;;276^0.6892^3.5
"RTN","ICD1820Y",80,0)
 ;;277^0.8676^4.6
"RTN","ICD1820Y",81,0)
 ;;278^0.5391^3.4
"RTN","ICD1820Y",82,0)
 ;;279^0.7822^4.2
"RTN","ICD1820Y",83,0)
 ;;280^0.7313^3.2
"RTN","ICD1820Y",84,0)
 ;;281^0.4913^2.3
"RTN","ICD1820Y",85,0)
 ;;282^0.2600^2.2
"RTN","ICD1820Y",86,0)
 ;;283^0.7423^3.5
"RTN","ICD1820Y",87,0)
 ;;284^0.4563^2.4
"RTN","ICD1820Y",88,0)
 ;;285^2.1831^8.2
"RTN","ICD1820Y",89,0)
 ;;286^1.9390^4.0
"RTN","ICD1820Y",90,0)
 ;;287^1.9470^7.8
"RTN","ICD1820Y",91,0)
 ;;288^2.0384^3.2
"RTN","ICD1820Y",92,0)
 ;;289^0.9315^1.7
"RTN","ICD1820Y",93,0)
 ;;290^0.8891^1.6
"RTN","ICD1820Y",94,0)
 ;;291^1.0877^1.6
"RTN","ICD1820Y",95,0)
 ;;292^2.6395^7.3
"RTN","ICD1820Y",96,0)
 ;;293^1.3472^3.2
"RTN","ICD1820Y",97,0)
 ;;294^0.7652^3.3
"RTN","ICD1820Y",98,0)
 ;;295^0.7267^2.8
"RTN","ICD1820Y",99,0)
 ;;296^0.8187^3.7
"RTN","ICD1820Y",100,0)
 ;;297^0.4879^2.5
"RTN","ICD1820Y",101,0)
 ;;298^0.5486^2.5
"RTN","ICD1820Y",102,0)
 ;;299^1.0329^3.7
"RTN","ICD1820Y",103,0)
 ;;300^1.0922^4.6
"RTN","ICD1820Y",104,0)
 ;;301^0.6118^2.7
"RTN","ICD1820Y",105,0)
 ;;302^3.1679^7.0
"RTN","ICD1820Y",106,0)
 ;;303^2.2183^5.8
"RTN","ICD1820Y",107,0)
 ;;304^2.3761^6.1
"RTN","ICD1820Y",108,0)
 ;;305^1.1595^2.6
"RTN","ICD1820Y",109,0)
 ;;306^1.2700^3.6
"RTN","ICD1820Y",110,0)
 ;;307^0.6202^1.7
"RTN","ICD1820Y",111,0)
 ;;308^1.6349^3.9
"RTN","ICD1820Y",112,0)
 ;;309^0.9085^1.6
"RTN","ICD1820Y",113,0)
 ;;310^1.1898^3.0
"RTN","ICD1820Y",114,0)
 ;;311^0.6432^1.5
"RTN","ICD1820Y",115,0)
 ;;312^1.1159^3.2
"RTN","ICD1820Y",116,0)
 ;;313^0.6783^1.7
"RTN","ICD1820Y",117,0)
 ;;314^0.5012^2.3
"RTN","ICD1820Y",118,0)
 ;;315^2.0823^3.6
"RTN","ICD1820Y",119,0)
 ;;316^1.2692^4.9
"RTN","ICD1820Y",120,0)
 ;;317^0.7942^2.4
"RTN","ICD1820Y",121,0)
 ;;318^1.1539^4.2
"RTN","ICD1820Y",122,0)
 ;;319^0.6385^2.1
"RTN","ICD1820Y",123,0)
 ;;320^0.8658^4.2
"RTN","ICD1820Y",124,0)
 ;;321^0.5652^3.0
"RTN","ICD1820Y",125,0)
 ;;322^0.5498^2.9
"RTN","ICD1820Y",126,0)
 ;;323^0.8214^2.3
"RTN","ICD1820Y",127,0)
 ;;324^0.5050^1.6
"RTN","ICD1820Y",128,0)
 ;;325^0.6436^2.9
"RTN","ICD1820Y",129,0)
 ;;326^0.4391^2.1
"RTN","ICD1820Y",130,0)
 ;;327^0.3748^3.1
"RTN","ICD1820Y",131,0)
 ;;328^0.7079^2.6
"RTN","ICD1820Y",132,0)
 ;;329^0.4701^1.5
"RTN","ICD1820Y",133,0)
 ;;330^0.3227^1.6
"RTN","ICD1820Y",134,0)
 ;;331^1.0619^4.1
"RTN","ICD1820Y",135,0)
 ;;332^0.6160^2.4
"RTN","ICD1820Y",136,0)
 ;;333^0.9669^3.5
"RTN","ICD1820Y",137,0)
 ;;334^1.4368^3.5
"RTN","ICD1820Y",138,0)
 ;;335^1.1004^2.4
"RTN","ICD1820Y",139,0)
 ;;336^0.8425^2.5
"RTN","ICD1820Y",140,0)
 ;;337^0.5747^1.7
"RTN","ICD1820Y",141,0)
 ;;338^1.3772^3.9
"RTN","ICD1820Y",142,0)
 ;;339^1.1866^3.2
"RTN","ICD1820Y",143,0)
 ;;340^0.2868^2.4
"RTN","ICD1820Y",144,0)
 ;;341^1.2622^1.9
"RTN","ICD1820Y",145,0)
 ;;342^0.8737^2.5
"RTN","ICD1820Y",146,0)
 ;;343^0.1559^1.7
"RTN","ICD1820Y",147,0)
 ;;344^1.2475^1.7
"RTN","ICD1820Y",148,0)
 ;;345^1.1472^3.1
"RTN","ICD1820Y",149,0)
 ;;346^1.0441^4.2
"RTN","ICD1820Y",150,0)
 ;;347^0.6104^2.2
"RTN","ICD1820Y",151,0)
 ;;348^0.7188^3.2
"RTN","ICD1820Y",152,0)
 ;;349^0.4210^1.9
"RTN","ICD1820Y",153,0)
 ;;350^0.7289^3.5
"RTN","ICD1820Y",154,0)
 ;;351^0.2392^1.3
"RTN","ICD1820Y",155,0)
 ;;352^0.7360^2.9
"RTN","ICD1820Y",156,0)
 ;;353^1.8504^4.7
"RTN","ICD1820Y",157,0)
 ;;354^1.5135^4.6
"RTN","ICD1820Y",158,0)
 ;;355^0.8824^2.8
"RTN","ICD1820Y",159,0)
 ;;356^0.7428^1.7
"RTN","ICD1820Y",160,0)
 ;;357^2.2237^6.5
"RTN","ICD1820Y",161,0)
 ;;358^1.1448^3.2
"RTN","ICD1820Y",162,0)
 ;;359^0.7948^2.2
"RTN","ICD1820Y",163,0)
 ;;360^0.8582^2.0
"RTN","ICD1820Y",164,0)
 ;;361^1.0847^2.2
"RTN","ICD1820Y",165,0)
 ;;362^0.3057^1.4
"RTN","ICD1820Y",166,0)
 ;;363^0.9728^2.7
"RTN","ICD1820Y",167,0)
 ;;364^0.8709^3.0
"RTN","ICD1820Y",168,0)
 ;;365^2.0408^5.3
"RTN","ICD1820Y",169,0)
 ;;366^1.2348^4.8
"RTN","ICD1820Y",170,0)
 ;;367^0.5728^2.3
"RTN","ICD1820Y",171,0)
 ;;368^1.1684^5.2
"RTN","ICD1820Y",172,0)
 ;;369^0.6310^2.4
"RTN","ICD1820Y",173,0)
 ;;370^0.8974^4.1
"RTN","ICD1820Y",174,0)
 ;;371^0.6066^3.1
"RTN","ICD1820Y",175,0)
 ;;372^0.5027^2.5
"RTN","ICD1820Y",176,0)
 ;;373^0.3556^2.0
"RTN","ICD1820Y",177,0)
 ;;374^0.6712^2.5
"RTN","ICD1820Y",178,0)
 ;;375^0.5837^4.4
"RTN","ICD1820Y",179,0)
 ;;376^0.5242^2.6
"RTN","ICD1820Y",180,0)
 ;;377^1.6996^2.9
"RTN","ICD1820Y",181,0)
 ;;378^0.7442^1.9
"RTN","ICD1820Y",182,0)
 ;;379^0.3578^2.0
"RTN","ICD1820Y",183,0)
 ;;380^0.3925^1.6
"RTN","ICD1820Y",184,0)
 ;;381^0.6034^1.6
"RTN","ICD1820Y",185,0)
 ;;382^0.2070^1.3
"RTN","ICD1820Y",186,0)
 ;;383^0.5053^2.6
"RTN","ICD1820Y",187,0)
 ;;384^0.3225^1.8
"RTN","ICD1820Y",188,0)
 ;;385^1.3930^1.8
"RTN","ICD1820Y",189,0)
 ;;386^4.5935^17.9
"RTN","ICD1820Y",190,0)
 ;;387^3.1372^13.3
"RTN","ICD1820Y",191,0)
 ;;388^1.8929^8.6
"RTN","ICD1820Y",192,0)
 ;;389^3.2226^4.7
"RTN","ICD1820Y",193,0)
 ;;390^1.1406^3.4
"RTN","ICD1820Y",194,0)
 ;;391^0.1544^3.1
"RTN","ICD1820Y",195,0)
 ;;392^3.0459^6.5
"RTN","ICD1820Y",196,0)
 ;;393^1.3645^9.1
"RTN","ICD1820Y",197,0)
 ;;394^1.9109^4.5
"RTN","ICD1820Y",198,0)
 ;;395^0.8328^3.2
"RTN","ICD1820Y",199,0)
 ;;396^0.8323^2.6
"RTN","ICD1820Y",200,0)
 ;;397^1.2986^3.7
"RTN","ICD1820Y",201,0)
 ;;398^1.2082^4.4
"RTN","ICD1820Y",202,0)
 ;;399^0.6674^2.7
"RTN","ICD1820Y",203,0)
 ;;400^0^0^0
"RTN","ICD1820Y",204,0)
 Q
"RTN","ICD1820Z")
0^16^B13782689
"RTN","ICD1820Z",1,0)
ICD1820Z ;ALB/MRY - FY 2004 DRG Weights & Trims; 10/2/03 ; 6/28/05 2:31pm
"RTN","ICD1820Z",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 13, 2000
"RTN","ICD1820Z",3,0)
WEIGHTS ;;DRG^RELATIVE WEIGHTS^GEOMETRIC MEAN LOS
"RTN","ICD1820Z",4,0)
 ;;401^2.9678^8.0
"RTN","ICD1820Z",5,0)
 ;;402^1.1810^2.8
"RTN","ICD1820Z",6,0)
 ;;403^1.8432^5.8
"RTN","ICD1820Z",7,0)
 ;;404^0.9265^3.0
"RTN","ICD1820Z",8,0)
 ;;405^1.9346^4.9
"RTN","ICD1820Z",9,0)
 ;;406^2.7897^7.0
"RTN","ICD1820Z",10,0)
 ;;407^1.2289^3.0
"RTN","ICD1820Z",11,0)
 ;;408^2.2460^4.8
"RTN","ICD1820Z",12,0)
 ;;409^1.2074^4.3
"RTN","ICD1820Z",13,0)
 ;;410^1.1069^3.0
"RTN","ICD1820Z",14,0)
 ;;411^0.3635^2.5
"RTN","ICD1820Z",15,0)
 ;;412^0.8451^1.8
"RTN","ICD1820Z",16,0)
 ;;413^1.3048^5.0
"RTN","ICD1820Z",17,0)
 ;;414^0.7788^3.0
"RTN","ICD1820Z",18,0)
 ;;415^3.9890^11.0
"RTN","ICD1820Z",19,0)
 ;;416^1.6774^5.6
"RTN","ICD1820Z",20,0)
 ;;417^1.1689^3.2
"RTN","ICD1820Z",21,0)
 ;;418^1.0716^4.8
"RTN","ICD1820Z",22,0)
 ;;419^0.8453^3.4
"RTN","ICD1820Z",23,0)
 ;;420^0.6077^2.7
"RTN","ICD1820Z",24,0)
 ;;421^0.7664^3.1
"RTN","ICD1820Z",25,0)
 ;;422^0.6171^2.6
"RTN","ICD1820Z",26,0)
 ;;423^1.9196^6.0
"RTN","ICD1820Z",27,0)
 ;;424^2.2773^7.3
"RTN","ICD1820Z",28,0)
 ;;425^0.6191^2.6
"RTN","ICD1820Z",29,0)
 ;;426^0.4656^3.0
"RTN","ICD1820Z",30,0)
 ;;427^0.5135^3.2
"RTN","ICD1820Z",31,0)
 ;;428^0.6981^4.6
"RTN","ICD1820Z",32,0)
 ;;429^0.7919^4.3
"RTN","ICD1820Z",33,0)
 ;;430^0.6483^5.8
"RTN","ICD1820Z",34,0)
 ;;431^0.5178^4.0
"RTN","ICD1820Z",35,0)
 ;;432^0.6282^2.9
"RTN","ICD1820Z",36,0)
 ;;433^0.2776^2.2
"RTN","ICD1820Z",37,0)
 ;;434^0^0^0
"RTN","ICD1820Z",38,0)
 ;;435^0^0^0
"RTN","ICD1820Z",39,0)
 ;;436^0^0^0
"RTN","ICD1820Z",40,0)
 ;;437^0^0^0
"RTN","ICD1820Z",41,0)
 ;;438^0^0^0
"RTN","ICD1820Z",42,0)
 ;;439^1.9398^5.4
"RTN","ICD1820Z",43,0)
 ;;440^1.9457^5.9
"RTN","ICD1820Z",44,0)
 ;;441^0.9382^2.3
"RTN","ICD1820Z",45,0)
 ;;442^2.5660^6.0
"RTN","ICD1820Z",46,0)
 ;;443^0.9943^2.6
"RTN","ICD1820Z",47,0)
 ;;444^0.7556^3.2
"RTN","ICD1820Z",48,0)
 ;;445^0.5033^2.2
"RTN","ICD1820Z",49,0)
 ;;446^0.2999^2.4
"RTN","ICD1820Z",50,0)
 ;;447^0.5569^1.9
"RTN","ICD1820Z",51,0)
 ;;448^0.0987^2.9
"RTN","ICD1820Z",52,0)
 ;;449^0.8529^2.6
"RTN","ICD1820Z",53,0)
 ;;450^0.4282^1.6
"RTN","ICD1820Z",54,0)
 ;;451^0.2663^2.1
"RTN","ICD1820Z",55,0)
 ;;452^1.0462^3.5
"RTN","ICD1820Z",56,0)
 ;;453^0.5285^2.2
"RTN","ICD1820Z",57,0)
 ;;454^0.8141^2.9
"RTN","ICD1820Z",58,0)
 ;;455^0.4725^1.7
"RTN","ICD1820Z",59,0)
 ;;456^0^0^0
"RTN","ICD1820Z",60,0)
 ;;457^0^0^0
"RTN","ICD1820Z",61,0)
 ;;458^0^0^0
"RTN","ICD1820Z",62,0)
 ;;459^0^0^0
"RTN","ICD1820Z",63,0)
 ;;460^0^0^0
"RTN","ICD1820Z",64,0)
 ;;461^1.3974^3.0
"RTN","ICD1820Z",65,0)
 ;;462^0.8700^8.9
"RTN","ICD1820Z",66,0)
 ;;463^0.6960^3.1
"RTN","ICD1820Z",67,0)
 ;;464^0.5055^2.4
"RTN","ICD1820Z",68,0)
 ;;465^0.6224^2.4
"RTN","ICD1820Z",69,0)
 ;;466^0.7806^2.8
"RTN","ICD1820Z",70,0)
 ;;467^0.4803^2.0
"RTN","ICD1820Z",71,0)
 ;;468^4.0031^9.7
"RTN","ICD1820Z",72,0)
 ;;469^0^0^0
"RTN","ICD1820Z",73,0)
 ;;470^0^0^0
"RTN","ICD1820Z",74,0)
 ;;471^3.1391^4.5
"RTN","ICD1820Z",75,0)
 ;;472^0^0^0
"RTN","ICD1820Z",76,0)
 ;;473^3.4231^7.4
"RTN","ICD1820Z",77,0)
 ;;474^0^0^0
"RTN","ICD1820Z",78,0)
 ;;475^3.6091^8.1
"RTN","ICD1820Z",79,0)
 ;;476^2.1822^7.4
"RTN","ICD1820Z",80,0)
 ;;477^2.0607^5.8
"RTN","ICD1820Z",81,0)
 ;;478^0^0
"RTN","ICD1820Z",82,0)
 ;;479^1.4434^2.1
"RTN","ICD1820Z",83,0)
 ;;480^8.9693^13.7
"RTN","ICD1820Z",84,0)
 ;;481^6.2321^18.2
"RTN","ICD1820Z",85,0)
 ;;482^3.3387^9.6
"RTN","ICD1820Z",86,0)
 ;;483^0^0^0
"RTN","ICD1820Z",87,0)
 ;;484^5.1438^9.3
"RTN","ICD1820Z",88,0)
 ;;485^3.4952^8.4
"RTN","ICD1820Z",89,0)
 ;;486^4.7323^8.5
"RTN","ICD1820Z",90,0)
 ;;487^1.9459^5.3
"RTN","ICD1820Z",91,0)
 ;;488^4.4353^11.8
"RTN","ICD1820Z",92,0)
 ;;489^1.8058^5.9
"RTN","ICD1820Z",93,0)
 ;;490^1.0639^3.8
"RTN","ICD1820Z",94,0)
 ;;491^1.6780^2.6
"RTN","ICD1820Z",95,0)
 ;;492^3.5926^8.8
"RTN","ICD1820Z",96,0)
 ;;493^1.8333^4.5
"RTN","ICD1820Z",97,0)
 ;;494^1.0285^2.1
"RTN","ICD1820Z",98,0)
 ;;495^8.5736^14.0
"RTN","ICD1820Z",99,0)
 ;;496^6.0932^6.4
"RTN","ICD1820Z",100,0)
 ;;497^3.6224^5.0
"RTN","ICD1820Z",101,0)
 ;;498^2.7791^3.4
"RTN","ICD1820Z",102,0)
 ;;499^1.3831^3.1
"RTN","ICD1820Z",103,0)
 ;;500^0.9046^1.8
"RTN","ICD1820Z",104,0)
 ;;501^2.6462^8.5
"RTN","ICD1820Z",105,0)
 ;;502^1.4462^4.9
"RTN","ICD1820Z",106,0)
 ;;503^1.2038^2.9
"RTN","ICD1820Z",107,0)
 ;;504^11.8018^21.7
"RTN","ICD1820Z",108,0)
 ;;505^2.2953^2.4
"RTN","ICD1820Z",109,0)
 ;;506^4.0939^11.2
"RTN","ICD1820Z",110,0)
 ;;507^1.7369^5.8
"RTN","ICD1820Z",111,0)
 ;;508^1.2767^5.1
"RTN","ICD1820Z",112,0)
 ;;509^0.8217^3.6
"RTN","ICD1820Z",113,0)
 ;;510^1.1817^4.4
"RTN","ICD1820Z",114,0)
 ;;511^0.7424^2.6
"RTN","ICD1820Z",115,0)
 ;;512^5.3660^10.7
"RTN","ICD1820Z",116,0)
 ;;513^5.9669^8.9
"RTN","ICD1820Z",117,0)
 ;;514^0^0^0
"RTN","ICD1820Z",118,0)
 ;;515^5.5205^2.6
"RTN","ICD1820Z",119,0)
 ;;516^0^0^0
"RTN","ICD1820Z",120,0)
 ;;517^0^0
"RTN","ICD1820Z",121,0)
 ;;518^1.6544^1.8
"RTN","ICD1820Z",122,0)
 ;;519^2.4695^3.0
"RTN","ICD1820Z",123,0)
 ;;520^1.6788^1.6
"RTN","ICD1820Z",124,0)
 ;;521^0.6939^4.2
"RTN","ICD1820Z",125,0)
 ;;522^0.4794^7.7
"RTN","ICD1820Z",126,0)
 ;;523^0.3793^3.2
"RTN","ICD1820Z",127,0)
 ;;524^0.7288^2.6
"RTN","ICD1820Z",128,0)
 ;;525^11.4282^7.2
"RTN","ICD1820Z",129,0)
 ;;526^0^0^0
"RTN","ICD1820Z",130,0)
 ;;527^0^0
"RTN","ICD1820Z",131,0)
 ;;528^7.0505^13.8
"RTN","ICD1820Z",132,0)
 ;;529^2.3160^5.3
"RTN","ICD1820Z",133,0)
 ;;530^1.2041^2.4
"RTN","ICD1820Z",134,0)
 ;;531^3.1279^6.5
"RTN","ICD1820Z",135,0)
 ;;532^1.4195^2.8
"RTN","ICD1820Z",136,0)
 ;;533^1.5767^2.4
"RTN","ICD1820Z",137,0)
 ;;534^1.0201^1.5
"RTN","ICD1820Z",138,0)
 ;;535^7.9738^7.9
"RTN","ICD1820Z",139,0)
 ;;536^6.9144^5.9
"RTN","ICD1820Z",140,0)
 ;;537^1.8360^4.8
"RTN","ICD1820Z",141,0)
 ;;538^0.9833^2.1
"RTN","ICD1820Z",142,0)
 ;;539^3.2782^7.0
"RTN","ICD1820Z",143,0)
 ;;540^1.1940^2.6
"RTN","ICD1820Z",144,0)
 ;;541^19.8038^38.1
"RTN","ICD1820Z",145,0)
 ;;542^12.8719^29.1
"RTN","ICD1820Z",146,0)
 ;;543^4.4184^8.5
"RTN","ICD1820Z",147,0)
 ;;544^1.9643^4.1
"RTN","ICD1820Z",148,0)
 ;;545^2.4827^4.5
"RTN","ICD1820Z",149,0)
 ;;546^5.0739^7.1
"RTN","ICD1820Z",150,0)
 ;;547^6.1948^10.8
"RTN","ICD1820Z",151,0)
 ;;548^4.7198^8.2
"RTN","ICD1820Z",152,0)
 ;;549^5.0980^8.7
"RTN","ICD1820Z",153,0)
 ;;550^3.6151^6.2
"RTN","ICD1820Z",154,0)
 ;;551^3.1007^4.4
"RTN","ICD1820Z",155,0)
 ;;552^2.0996^2.5
"RTN","ICD1820Z",156,0)
 ;;553^3.0957^6.6
"RTN","ICD1820Z",157,0)
 ;;554^2.0721^4.0
"RTN","ICD1820Z",158,0)
 ;;555^2.4315^3.4
"RTN","ICD1820Z",159,0)
 ;;556^1.9132^1.6
"RTN","ICD1820Z",160,0)
 ;;557^2.8717^3.0
"RTN","ICD1820Z",161,0)
 ;;558^2.2108^1.5
"RTN","ICD1820Z",162,0)
 ;;559^2.2473^5.8
"RTN","ICD1820Z",163,0)
 ;;EXIT
"RTN","ICD1820Z",164,0)
 Q
"RTN","ICDDRG")
0^1^B25160111
"RTN","ICDDRG",1,0)
ICDDRG ;ALB/GRR/EG/ADL - ASSIGNS DRG CODES ; 5/19/05 12:52pm
"RTN","ICDDRG",2,0)
 ;;18.0;DRG Grouper;**2,7,10,14,20**;Oct 20, 2000
"RTN","ICDDRG",3,0)
 ;ADL - UPDATED FOR CSV;3/10/03
"RTN","ICDDRG",4,0)
TOP S (ICDDRG,ICDMDC,ICDRTC)=""
"RTN","ICDDRG",5,0)
 ;*********************************************************
"RTN","ICDDRG",6,0)
 ;FOLLOWING LINES CHECK FOR INVALID INPUT VARIABLES
"RTN","ICDDRG",7,0)
 ;
"RTN","ICDDRG",8,0)
 I '$D(ICDDX(1)) S ICDRTC=1 G ERR
"RTN","ICDDRG",9,0)
 I ICDEXP'=0&(ICDEXP'=1)&(ICDEXP'="") S ICDRTC=5 G ERR
"RTN","ICDDRG",10,0)
 I ICDTRS'=0&(ICDTRS'=1)&(ICDTRS'="") S ICDRTC=6 G ERR
"RTN","ICDDRG",11,0)
 I ICDDMS'=0&(ICDDMS'=1)&(ICDDMS'="") S ICDRTC=7 G ERR
"RTN","ICDDRG",12,0)
 I SEX'="M"&(SEX'="F")&(SEX'="") S ICDRTC=4 G ERR
"RTN","ICDDRG",13,0)
 I '$D(ICDDATE) S ICDDATE=DT  ;default is today's FileMan date
"RTN","ICDDRG",14,0)
 ;********************************************************
"RTN","ICDDRG",15,0)
 ;FOLLOWING ESTABLISHES PRIMARY DIAGNOSIS RELATED VARIABLES
"RTN","ICDDRG",16,0)
 ;
"RTN","ICDDRG",17,0)
 D KILL S ICDSEX($S(SEX="M":1,SEX="F":2,1:0))=""
"RTN","ICDDRG",18,0)
 S ICDTMP=$$ICDDX^ICDCODE(ICDDX(1),ICDDATE)
"RTN","ICDDRG",19,0)
 I ICDTMP<0 S ICDRTC=1 G ERR
"RTN","ICDDRG",20,0)
 S ICDY(0)=$P(ICDTMP,U,2,99) I $P(ICDY(0),"^",4)=1!($P(ICDY(0),"^",9)=0) S ICDRTC=1 G ERR  ;flag has changed from inactive flag to status flag
"RTN","ICDDRG",21,0)
 S ICDMDC=$P(ICDY(0),"^",5),ICDPD=$P(ICDY(0),"^",2),ICDRG=0 I 'ICDMDC S ICDDRG=469,ICDRTC=1 G ERR
"RTN","ICDDRG",22,0)
 D MDCG
"RTN","ICDDRG",23,0)
 I $D(ICDMDC(12))!($D(ICDMDC(13))) S ICDMDC=$S(SEX="F":13,1:12) I SEX="" S ICDRTC=4 G ERR
"RTN","ICDDRG",24,0)
 ;I $D(^ICD9(ICDDX(1),"DRG")) S ICDPDRG=^("DRG") F ICDI=1:1 Q:$P(ICDPDRG,"^",ICDI)']""  S ICDPDRG($P(ICDPDRG,"^",ICDI))="",ICDRG($P(ICDPDRG,"^",ICDI))=""
"RTN","ICDDRG",25,0)
 ;Setup DRG arrays ICDPDRG(x) and ICDDRG(x) and SEX array
"RTN","ICDDRG",26,0)
 S ICDTMP=$$GETDRG^ICDGTDRG(ICDDX(1),ICDDATE,9) I ICDTMP>0 S ICDPDRG=$P(ICDTMP,";") D
"RTN","ICDDRG",27,0)
 . F ICDI=1:1 Q:$P(ICDPDRG,"^",ICDI)']""  S ICDPDRG($P(ICDPDRG,"^",ICDI))="",ICDRG($P(ICDPDRG,"^",ICDI))=""
"RTN","ICDDRG",28,0)
 S ICD104=0,ICDP24=$P(ICDY(0),"^",12),ICDP25=$P(ICDY(0),"^",13) D SEX9
"RTN","ICDDRG",29,0)
 ;
"RTN","ICDDRG",30,0)
 ;FOLLOWING ESTABLISHES SECONDARY DIAGNOSIS VARIABLES
"RTN","ICDDRG",31,0)
 ;
"RTN","ICDDRG",32,0)
 S (ICDCCT,ICDSD)="",ICDCC=0,ICDI=1
"RTN","ICDDRG",33,0)
 F ICDIZ=0:0 S ICDI=$O(ICDDX(ICDI)) Q:ICDI'>0  D  G:ICDRTC]"" ERR
"RTN","ICDDRG",34,0)
 . S ICDTMP=$$ICDDX^ICDCODE(ICDDX(ICDI),ICDDATE) I ICDTMP<0!'($P(ICDTMP,U,10)) S ICDRTC=8 Q
"RTN","ICDDRG",35,0)
 . S ICDY(0)=$P(ICDTMP,U,2,99),ICDDXT($P(ICDY(0),"^",1))=""
"RTN","ICDDRG",36,0)
 . S ICDP15($S($P(ICDY(0),"^",2)["J":1,1:0))=""
"RTN","ICDDRG",37,0)
 . D SEC,SEX9 G:ICDRTC]"" ERR
"RTN","ICDDRG",38,0)
 S:$D(ICDCCT(1)) ICDCC=1 K ICDCCT
"RTN","ICDDRG",39,0)
 ;********************************************************
"RTN","ICDDRG",40,0)
 ;FOLLOWING ESTABLISHES OPERATION/PROCEDURE VARIABLES
"RTN","ICDDRG",41,0)
 ;
"RTN","ICDDRG",42,0)
 N ICDOTMP S (ICDMAJ,ICDORNI,ICDOP,ICDOR,ICDOTMP)="",(ICDOCNT,ICDONR,ICDORNR,ICDNOR,ICDOPCT,ICDOPNR)=0
"RTN","ICDDRG",43,0)
 ;Return ICD Operation/Procedure code info check if active
"RTN","ICDDRG",44,0)
 I $D(ICDPRC) F ICDI=1:1 Q:'$D(ICDPRC(ICDI))  X "S ICDTMP=$$ICDOP^ICDCODE(ICDPRC(ICDI),ICDDATE) I ICDTMP<0!'($P(ICDTMP,U,10)) S ICDRTC=2 Q" I ICDRTC="" D 
"RTN","ICDDRG",45,0)
 . S ICDY(0)=$P(ICDTMP,U,2,99),ICDNOR=ICDNOR+1,ICDY=ICDPRC(ICDI),ICDO24($S($P(ICDY(0),"^",3)'="":$P(ICDY(0),"^",3),1:"N"))="" D OPSTUF,SEX9
"RTN","ICDDRG",46,0)
 K ICDO24("N") G:ICDRTC]"" ERR
"RTN","ICDDRG",47,0)
 G ^ICDDRG0
"RTN","ICDDRG",48,0)
SEC S ICDCC=$S($D(^ICD9("ACC",ICDDX(ICDI),ICDDX(1))):0,$P(ICDY(0),"^",7)=1:1,1:ICDCC),ICDCCT(ICDCC)=""
"RTN","ICDDRG",49,0)
 ;Group ICD identifiers in one variable
"RTN","ICDDRG",50,0)
 S ICDSD=ICDSD_$P(ICDY(0),"^",2)
"RTN","ICDDRG",51,0)
 S ICDTMP=$$GETDRG^ICDGTDRG(ICDDX(ICDI),ICDDATE,9)
"RTN","ICDDRG",52,0)
 ;If any of the following conditions are met set ICDSDRG array
"RTN","ICDDRG",53,0)
 I (($P(ICDY(0),"^",7)=1)!(ICDPD["h")!(ICDPD["J")!(ICDSD["h")),'$P(ICDTMP,";",3) D
"RTN","ICDDRG",54,0)
 . S ICDSDRG=$P(ICDTMP,";")
"RTN","ICDDRG",55,0)
 . F ICDK=1:1 Q:$P(ICDSDRG,"^",ICDK)']""  S ICDSDRG($P(ICDSDRG,"^",ICDK))=""
"RTN","ICDDRG",56,0)
 S ICDS24($S($P(ICDY(0),"^",12)'="":$P(ICDY(0),"^",12),1:"N"))="",ICDS25($S($P(ICDY(0),"^",13)'="":$P(ICDY(0),"^",13),1:0))=""
"RTN","ICDDRG",57,0)
 K ICDS24("N"),ICDS25(0) Q
"RTN","ICDDRG",58,0)
OPSTUF I '$D(ICDOP(" "_$P(ICDY(0),"^",1))) S ICDOP(" "_$P(ICDY(0),"^",1))="",ICDOCNT=ICDOCNT+1
"RTN","ICDDRG",59,0)
 I $S($D(ICDMDC(12))!($D(ICDMDC(13)))>0:'$$MDCT("ICDMDC",0),1:'$D(^ICD0(ICDY,2,1,1,"B",ICDMDC))) D
"RTN","ICDDRG",60,0)
 .S ICDONR=ICDONR+1,ICDORNI=ICDORNI_$P(ICDY(0),"^",2),ICDORNI($S($P(ICDY(0),"^",2)'="":$P(ICDY(0),"^",2),1:0))="" S:ICDORNR'=0 ICDORNR=1
"RTN","ICDDRG",61,0)
 S ICDOR=ICDOR_$P(ICDY(0),"^",2)
"RTN","ICDDRG",62,0)
 I +ICDY(0)>37.69,+ICDY(0)<37.84,ICDOR'["p" D
"RTN","ICDDRG",63,0)
 .N ICDCC3
"RTN","ICDDRG",64,0)
 .D EN1^ICDDRG5 I ICDCC3 S ICDOR=ICDOR_"p" S:ICDOR'["O" ICDOR=ICDOR_"O"
"RTN","ICDDRG",65,0)
 .Q
"RTN","ICDDRG",66,0)
 I +ICDY(0)>80.999 I +ICDY(0)<81.40 N ICDCC3 D EN1^ICDDRG8 I ICDCC3 S ICDOR=ICDOR_"F"
"RTN","ICDDRG",67,0)
 S:$D(^ICD0(ICDY,"M")) ICDMAJ=ICDMAJ_$P(^ICD0(ICDY,"M"),"^")_"^"
"RTN","ICDDRG",68,0)
 ;Set ICDOTMP with DRGs for doing checks
"RTN","ICDDRG",69,0)
 S ICDOTMP=$P($$GETDRG^ICDGTDRG(ICDY,ICDDATE,0),";",1)
"RTN","ICDDRG",70,0)
 I $P(ICDY(0),"^",2)["O" D
"RTN","ICDDRG",71,0)
 .S ICDOPCT=ICDOPCT+1
"RTN","ICDDRG",72,0)
 .I ICDOPNR=0 D
"RTN","ICDDRG",73,0)
 ..I $S($D(ICDMDC(12))!($D(ICDMDC(13)))>0:'$$MDCT("ICDMDC",0),1:'$D(ICDOTMP)) S ICDOPNR=1
"RTN","ICDDRG",74,0)
 I +ICDOTMP>0 S ICDF=ICDOTMP F ICDFX=1:1 Q:$P(ICDF,"^",ICDFX)']""  S ICDODRG($P(ICDF,"^",ICDFX))=$P(ICDF,"^",ICDFX)
"RTN","ICDDRG",75,0)
 ;translate specific identifiers into common symbol, check for symbol
"RTN","ICDDRG",76,0)
 S ICD104=$S($P(ICDY(0),"^",2)["P":1,1:0),ICDNMDC($S($TR($P(ICDY(0),"^",2),"lqtrB","\\\\")["\":1,1:0))="" Q
"RTN","ICDDRG",77,0)
ERR S ICDDRG=470
"RTN","ICDDRG",78,0)
 Q  ;ERR
"RTN","ICDDRG",79,0)
SEX9 ;get sex for dx or proc
"RTN","ICDDRG",80,0)
 S ICDSEX($S($P(ICDY(0),"^",10)="M":1,$P(ICDY(0),"^",10)="F":2,1:0))=""
"RTN","ICDDRG",81,0)
 Q
"RTN","ICDDRG",82,0)
MDCG ;set up ICDMDC() array
"RTN","ICDDRG",83,0)
 N X,Y,I,N,DRG,MDC,ICDTMP
"RTN","ICDDRG",84,0)
 S ICDTMP=$$GETDRG^ICDGTDRG(ICDDX(1),ICDDATE,9) Q:'$P(ICDTMP,";",3)
"RTN","ICDDRG",85,0)
 S Y=$P(ICDTMP,";")
"RTN","ICDDRG",86,0)
 S N=$L(Y)-$L($TR(Y,"^"))
"RTN","ICDDRG",87,0)
 F I=1:1:N+1 D
"RTN","ICDDRG",88,0)
 .S DRG=$P(Y,"^",I) Q:DRG=""
"RTN","ICDDRG",89,0)
 .S MDC=$P($$DRG^ICDGTDRG(DRG,ICDDATE),"^",5) Q:MDC=""
"RTN","ICDDRG",90,0)
 .S ICDMDC(MDC)=""
"RTN","ICDDRG",91,0)
 Q
"RTN","ICDDRG",92,0)
MDCT(MDC,PAR) ;for multiple mdc dx codes
"RTN","ICDDRG",93,0)
 ;MDC is array of MDC's (MDC(ICDMDC)=""), PAR global node to test
"RTN","ICDDRG",94,0)
 ;
"RTN","ICDDRG",95,0)
 N I,MD,BOOL,DRGFY
"RTN","ICDDRG",96,0)
 S MD="" F I=1:1 S MD=$O(@MDC@(MD)) Q:MD=""  D
"RTN","ICDDRG",97,0)
 . S DRGFY=$O(^ICD0(CODE,2,"B",+ICDDATE),-1),DADRGFY=$O(^ICD0(CODE,2,"B",+DRGFY,DADRGFY)),MDC=$O(^ICD0(CODE,2,+DADRGFY,1,"B",MD))
"RTN","ICDDRG",98,0)
 .I $D(MDC) S BOOL(1)=""
"RTN","ICDDRG",99,0)
 .S BOOL(0)=""
"RTN","ICDDRG",100,0)
 I '$D(BOOL(1)) Q 0
"RTN","ICDDRG",101,0)
 Q 1
"RTN","ICDDRG",102,0)
KILL K ICD104,ICDJ,ICDJJ,ICDOCNT,ICDOR,ICDNOR,ICDP15,ICDPDRG,ICDRG,ICDSEX
"RTN","ICDDRG",103,0)
 K ICDSDRG,ICDODRG,ICDCC,ICDOP,ICDORNR,ICDORNI,ICDP24,ICDP25,ICDPD
"RTN","ICDDRG",104,0)
 K ICDSD,ICDI,ICDK,ICDF,ICDFX,ICDFK,ICDY,ICDDXT,ICDIZ,ICDONR,ICDOPCT
"RTN","ICDDRG",105,0)
 K ICD,ICDCC2,ICDCC3,ICDGH,ICDL39,ICDMAJ,ICDNMDC,ICDNSD,ICDORNA,ICDREF,ICDS25
"RTN","ICDDRG",106,0)
 K ICDOPNR,ICDO24
"RTN","ICDDRG",107,0)
 Q
"RTN","ICDDRG0")
0^2^B33851546
"RTN","ICDDRG0",1,0)
ICDDRG0 ;ALB/GRR/EG/ADL - DRG GROUPER PROCESSING BEGINS ; 5/16/05 9:05pm
"RTN","ICDDRG0",2,0)
 ;;18.0;DRG Grouper;**1,2,7,10,14,17,20**;Oct 20, 2000
"RTN","ICDDRG0",3,0)
 ;GROUPING PROCESS BEGINS
"RTN","ICDDRG0",4,0)
 ;
"RTN","ICDDRG0",5,0)
GROUP ;
"RTN","ICDDRG0",6,0)
 I $D(ICDSEX(1))&($D(ICDSEX(2))) S ICDRTC=4,ICDDRG=470 G KILL^ICDDRG
"RTN","ICDDRG0",7,0)
 I ICDMDC'=14,ICDMDC'=17,ICDMDC'=18,ICDMDC'=19,ICDMDC'=20,ICDMDC'=23,ICDMDC'=15 D:ICDOPCT<2  I "468^476^477"[ICDRG G END
"RTN","ICDDRG0",8,0)
 . ;I ICDPD["M",ICDOR'["a" S ICDPDRG(344)="",ICDOPCT=0
"RTN","ICDDRG0",9,0)
 . I $D(ICDF) Q
"RTN","ICDDRG0",10,0)
 . I ICDPD["M",ICDOR'["y" S ICDOPCT=0 Q
"RTN","ICDDRG0",11,0)
 .I ICDORNI["O",ICDNOR=ICDONR,ICDNOR>0,'$D(ICDPDRG(377)),ICDORNI'["p" S ICDRG=$S($D(ICDORNI("O")):468,ICDORNI["y":476,ICDORNI["z":477,1:468) Q
"RTN","ICDDRG0",12,0)
 .I ICDOPNR S ICDRG=$S(ICDORNI["y":476,1:468),ICDOPNR=0 Q
"RTN","ICDDRG0",13,0)
 ;
"RTN","ICDDRG0",14,0)
 ;if number of non-extensive ORs eqs # OR, 477
"RTN","ICDDRG0",15,0)
 ;
"RTN","ICDDRG0",16,0)
 I ICDMDC'=14,ICDMDC'=17,ICDMDC'=18,ICDMDC'=19,ICDMDC'=20,ICDMDC'=23,ICDMDC'=15,ICDORNI'["y"&(ICDORNI'="")&(ICDORNI["z") D  I ICDRG=477 G END
"RTN","ICDDRG0",17,0)
 . I $D(ICDF) Q
"RTN","ICDDRG0",18,0)
 . NEW K S K=$$ORNI(ICDORNI) I K=ICDOPCT S ICDRG=477 Q
"RTN","ICDDRG0",19,0)
 ;
"RTN","ICDDRG0",20,0)
 ;if number of non-extensive ORs+prostatics eqs # OR, 476
"RTN","ICDDRG0",21,0)
 ;
"RTN","ICDDRG0",22,0)
 I ICDMDC'=14,ICDMDC'=17,ICDMDC'=18,ICDMDC'=19,ICDMDC'=20,ICDMDC'=23,ICDMDC'=15,ICDORNI["y"&(ICDORNI'="") D  I ICDRG=476 G END
"RTN","ICDDRG0",23,0)
 .N K S K=$$ORNI(ICDORNI) I K=ICDOPCT&(ICDNOR=ICDONR) S ICDRG=476 Q
"RTN","ICDDRG0",24,0)
 I ICDMDC'=14,ICDMDC'=17,ICDMDC'=18,ICDMDC'=19,ICDMDC'=20,ICDMDC'=23,ICDMDC'=15,ICDNOR=ICDONR&(ICDOPCT>0) S ICDRG=468 G END
"RTN","ICDDRG0",25,0)
 I ICDMDC=5,ICDOR'["O" S ICDRTC=$S(ICDEXP="":5,1:"") S:ICDRTC'="" ICDRG=470 D:ICDRTC="" MI G END
"RTN","ICDDRG0",26,0)
 I ICDMDC=18,ICDOR["O"!(ICDORNI["O") S ICDRG=415 G END
"RTN","ICDDRG0",27,0)
 I ICDMDC=19,ICDOCNT>0,ICDOR["O" S (ICDRG,HICDRG)=424 D CKDRG
"RTN","ICDDRG0",28,0)
 I ICDMDC=23,ICDOR["O"!(ICDORNI["O") S ICDRG=461 G END
"RTN","ICDDRG0",29,0)
 I ICDMDC=14 D ^ICDDRG14 I ICDRG]"" G END
"RTN","ICDDRG0",30,0)
 I ICDMDC=20 S ICDRTC=$S(ICDDMS="":7,1:"") I ICDDMS'=0 S ICDRG=$S(ICDDMS="":470,1:433) G END
"RTN","ICDDRG0",31,0)
 I ICDMDC=22 S ICDRTC=$S(ICDTRS="":6,1:"") S:ICDRTC'="" ICDRG=470 D:ICDRTC="" CKBURN G END
"RTN","ICDDRG0",32,0)
 I ICDMDC=15 S ICDRTC=$S(ICDEXP="":5,ICDTRS="":6,1:"") I ICDTRS'=0 S ICDRG=$S(ICDRTC'="":470,1:385) G END
"RTN","ICDDRG0",33,0)
NEONATE I 'ICDNOR!('$D(ICDODRG)) S ICDRG=$O(ICDPDRG(0)) X "I ICDMDC=15,$D(ICDSDRG),$O(ICDSDRG(0))<ICDRG S ICDRG=$S($D(ICDPDRG(391)):391,$D(ICDPDRG(387)):387,1:$O(ICDSDRG(0)))" D  D DODRG G GETMOR:ICDRG="",END
"RTN","ICDDRG0",34,0)
 . N X,X1,X2,%
"RTN","ICDDRG0",35,0)
 . S X1=$S($G(DGADM):$G(DGADM),1:DT),X2=$G(DOB) I X1,X2 D ^%DTC I X<29 D NBCOMP Q
"RTN","ICDDRG0",36,0)
 . I ICDRG<385!(ICDRG>391) Q
"RTN","ICDDRG0",37,0)
 .; I "^11917^11918^11921^"[("^"_ICDDX(1)_"^") S ICDRG=395 Q
"RTN","ICDDRG0",38,0)
 . I $O(ICDRG(391)) S ICDRG=$O(ICDRG(391)) Q
"RTN","ICDDRG0",39,0)
 . I 'ICDRG S ICDRG=470,ICDRTC=8
"RTN","ICDDRG0",40,0)
 I AGE="",ICDMDC=3 S ICDRTC=3,ICDRG=470 G END
"RTN","ICDDRG0",41,0)
 D ^ICDDRG1:ICDMDC=1,^ICDDRG2:ICDMDC=2,^ICDDRG3:ICDMDC=3,^ICDDRG5:ICDMDC=5,^ICDDRG6:ICDMDC=6,^ICDDRG7:ICDMDC=7,^ICDDRG8:ICDMDC=8,^ICDDRG9:ICDMDC=9,^ICDDRG10:ICDMDC=10,^ICDDRG12:ICDMDC=12,^ICDDRG13:ICDMDC=13,^ICDDRG17:ICDMDC=17
"RTN","ICDDRG0",42,0)
CONT G:ICDMDC=15 GETMOR S (ICDRG,HICDRG)=$O(ICDODRG(0)) G:ICDRG'>0 ENTER
"RTN","ICDDRG0",43,0)
 D DODRG
"RTN","ICDDRG0",44,0)
 G:ICDRG'>0 LOOK8:ICDMDC=8,AGAIN G END
"RTN","ICDDRG0",45,0)
ENTER I 'ICDNOR,ICDORNR'=0,ICDMDC'=20,ICDMDC'=15 S ICDRG=468 G END
"RTN","ICDDRG0",46,0)
GETMOR S (ICDRG,HICDRG)=$O(ICDPDRG(0)) S:ICDRG'>0 (ICDRG,HICDRG)=469 ;I ICDMDC=15,'$D(ICDODRG),$D(ICDSDRG),$O(ICDSDRG(0))<ICDRG S (ICDRG,HICDRG)=$O(ICDSDRG(0))
"RTN","ICDDRG0",47,0)
CKDRG D DODRG
"RTN","ICDDRG0",48,0)
 I ICDRG="" K ICDPDRG(HICDRG) G GETMOR
"RTN","ICDDRG0",49,0)
DODRG ;Go to DRG file and retrieve table entry to use if defined
"RTN","ICDDRG0",50,0)
 N ICDMCV,ICDMCV1,ICDMCV2
"RTN","ICDDRG0",51,0)
 N DRGFY,ICDREF S (DRGFY,ICDREF)=""
"RTN","ICDDRG0",52,0)
 I ICDRG S DRGFY=$O(^ICD(ICDRG,2,"B",$P(+$G(ICDDATE),".")_.01),-1)
"RTN","ICDDRG0",53,0)
 I 'DRGFY S DRGFY=3051001 ;default to current fiscal year
"RTN","ICDDRG0",54,0)
 S ICDREF=$O(^ICD(+ICDRG,2,"B",+DRGFY,ICDREF))
"RTN","ICDDRG0",55,0)
 I ICDREF'="" D
"RTN","ICDDRG0",56,0)
 . S ICDREF=$P($G(^ICD(+ICDRG,2,ICDREF,0)),U,3)
"RTN","ICDDRG0",57,0)
 . S ICDREF="DRG"_ICDRG_"^"_ICDREF D @ICDREF K ICDREF
"RTN","ICDDRG0",58,0)
 I ICDOR["4" D DRG232^ICDTLB3
"RTN","ICDDRG0",59,0)
 Q
"RTN","ICDDRG0",60,0)
ORNI(X) ;
"RTN","ICDDRG0",61,0)
 N I,K
"RTN","ICDDRG0",62,0)
 S K=0 F I=1:1:$L(ICDORNI) I $E(ICDORNI,I,I)="z"!($E(ICDORNI,I,I)="y") S K=K+1
"RTN","ICDDRG0",63,0)
 Q K
"RTN","ICDDRG0",64,0)
END ;
"RTN","ICDDRG0",65,0)
 D:ICDP24'=""!($D(ICDS24)) CKMST^ICDDRGX S ICDDRG=ICDRG
"RTN","ICDDRG0",66,0)
 D:$G(ICDP25)=1!(($G(ICDP25)>1)&($D(ICDS25(1)))) CKHIV^ICDDRGX S ICDDRG=ICDRG
"RTN","ICDDRG0",67,0)
 ; this will effectively make DRG 103 into a pre-MDC (ICD*18*1)
"RTN","ICDDRG0",68,0)
 I $D(ICDOP(" 33.6"))!$D(ICDOP(" 37.5"))!(ICDDATE>3030930.9&($D(ICDOP(" 37.51"))!$D(ICDOP(" 37.66")))) S ICDRG=103,ICDNMDC(1)=""
"RTN","ICDDRG0",69,0)
 I (ICDDATE>3050930.9)&($D(ICDOP(" 37.64")))&($D(ICDOP(" 37.65"))) S ICDRG=103,ICDNMDC(1)=""
"RTN","ICDDRG0",70,0)
 ; this will create DRGs 512/513 as pre-MDC
"RTN","ICDDRG0",71,0)
 I $D(ICDOP(" 52.80"))!$D(ICDOP(" 52.82")) S ICDRG=513,ICDNMDC(1)=""
"RTN","ICDDRG0",72,0)
 I ICDRG=513 I $D(ICDOP(" 55.69")) S ICDRG=512
"RTN","ICDDRG0",73,0)
 ; this will create DRG 481 as pre-MDC - loops thru 41.00 thru .09
"RTN","ICDDRG0",74,0)
 N X S X=0 F  S X=$O(ICDOP(X)) Q:X=""  I X["41.0" S ICDRG=481,ICDNMDC(1)=""
"RTN","ICDDRG0",75,0)
 I $D(ICDNMDC(1)) I ICDNMDC(1)="" D CKNMDC^ICDDRGX S ICDDRG=ICDRG K ICDNMDC
"RTN","ICDDRG0",76,0)
 I ICDRG=468 D CHKMDC4^ICDDRGX D DODRG S ICDDRG=ICDRG
"RTN","ICDDRG0",77,0)
 S:ICDRTC="" ICDRTC=0
"RTN","ICDDRG0",78,0)
 S ICDTMP=$$DRG^ICDGTDRG(ICDDRG,ICDDATE) I '$P(ICDTMP,U,14) S ICDDRG=470
"RTN","ICDDRG0",79,0)
 G KILL^ICDDRG
"RTN","ICDDRG0",80,0)
MI ;
"RTN","ICDDRG0",81,0)
 ; if PTCA and not a bypass
"RTN","ICDDRG0",82,0)
 I ICDOR["1"!($D(ICDOP(" 37.90"))) I ICDOR'["b"&(ICDOR'["6") I ICDDATE>3050930.9 D DRG516^ICDTLB6B Q
"RTN","ICDDRG0",83,0)
 I ICDPD["A" D EN1^ICDDRG5 I ICDCC3 S ICDRG=$O(ICDODRG(0)) D DODRG Q
"RTN","ICDDRG0",84,0)
 I ICDPD["AI"!(ICDSD["AI") D  Q
"RTN","ICDDRG0",85,0)
 . I $D(ICDOP(" 36.07")) I $D(ICDOP(" 37.26"))!($D(ICDOP(" 37.27"))) S ICDRG=526 Q
"RTN","ICDDRG0",86,0)
 . S ICDRG=$S($S($D(ICDEXP):ICDEXP,1:0):123,ICDPD["V"!(ICDSD["V"):121,1:122)
"RTN","ICDDRG0",87,0)
 I $D(ICDOP(" 37.26"))&($D(ICDOP(" 39.61"))) S ICDRG=108 Q
"RTN","ICDDRG0",88,0)
 ;I $D(ICDOP(" 37.26")) S ICDRG=112 Q
"RTN","ICDDRG0",89,0)
 I $D(ICDOP(" 36.07")) I $D(ICDOP(" 37.26"))!($D(ICDOP(" 37.27"))) S ICDRG=527 Q
"RTN","ICDDRG0",90,0)
 I $D(ICDOP(" 36.06")) I $D(ICDOP(" 37.26"))!$D(ICDOP(" 37.27")) S ICDRG=517 Q
"RTN","ICDDRG0",91,0)
 I $D(ICDOP(" 37.26"))!$D(ICDOP(" 37.27")) S ICDRG=518 Q 
"RTN","ICDDRG0",92,0)
 I ICDOR["H" S ICDRG=$S(ICDPD["X"!(ICDSD["X"):124,1:125) Q
"RTN","ICDDRG0",93,0)
 K ICDPDRG(124)
"RTN","ICDDRG0",94,0)
 I ICDOR["p" S ICDRG=$O(ICDODRG(0)) D DODRG Q
"RTN","ICDDRG0",95,0)
 I ICDOR["F" S ICDRG=$O(ICDODRG(0)) D DODRG Q
"RTN","ICDDRG0",96,0)
 E  K ICDPDRG(121) S ICDRG=$O(ICDPDRG(0)) D DODRG Q
"RTN","ICDDRG0",97,0)
 ;
"RTN","ICDDRG0",98,0)
CKBURN ; MDC22 - Burns (extensive, full thickness, or non-extensive)
"RTN","ICDDRG0",99,0)
 D
"RTN","ICDDRG0",100,0)
 . I ICDPD["*"!(ICDSD["*") S ICDRG=$S(ICDOR["k":504,1:505) Q
"RTN","ICDDRG0",101,0)
 . I ICDPD["b"!(ICDSD["b") D FTBURN Q
"RTN","ICDDRG0",102,0)
 . S ICDRG=$S(ICDCC!(ICDPD["T")!(ICDSD["T"):510,1:511)
"RTN","ICDDRG0",103,0)
 Q
"RTN","ICDDRG0",104,0)
 ;
"RTN","ICDDRG0",105,0)
AGAIN G:'$D(ICDODRG) ENTER
"RTN","ICDDRG0",106,0)
 K ICDODRG(HICDRG) I $O(ICDODRG(HICDRG))'>0 K ICDODRG G GROUP
"RTN","ICDDRG0",107,0)
 S ICDRG=$O(ICDODRG(HICDRG)) G GROUP
"RTN","ICDDRG0",108,0)
 ;
"RTN","ICDDRG0",109,0)
 ;
"RTN","ICDDRG0",110,0)
LOOK8 G:'$D(ICDJ) GETMOR
"RTN","ICDDRG0",111,0)
 S ICDJ=$O(ICDJ(0)) G:ICDJ'>0 GETMOR
"RTN","ICDDRG0",112,0)
 K ICDJ(ICDJ),ICDODRG D END^ICDDRG8 G GETMOR:'$D(ICDODRG),CONT
"RTN","ICDDRG0",113,0)
 Q
"RTN","ICDDRG0",114,0)
 ;
"RTN","ICDDRG0",115,0)
NBCOMP ; check for complication related to NB
"RTN","ICDDRG0",116,0)
 I ICDSD'["J"!'$D(ICDSDRG) Q
"RTN","ICDDRG0",117,0)
 N ICDSDXCK
"RTN","ICDDRG0",118,0)
 S ICDSDXCK=$O(ICDSDRG(0))
"RTN","ICDDRG0",119,0)
 I ICDSDXCK<ICDRG,ICDSDXCK>384,ICDSDXCK<392 D
"RTN","ICDDRG0",120,0)
 . S ICDRG=$S($D(ICDPDRG(391)):391,$D(ICDPDRG(387)):387,1:$O(ICDSDRG(0)))
"RTN","ICDDRG0",121,0)
 Q
"RTN","ICDDRG0",122,0)
 ;
"RTN","ICDDRG0",123,0)
FTBURN ; full thickness burn check
"RTN","ICDDRG0",124,0)
 I ICDSD["j"!(ICDOR["k") D
"RTN","ICDDRG0",125,0)
 . I ICDCC!(ICDPD["T")!(ICDSD["T") S ICDRG=506
"RTN","ICDDRG0",126,0)
 . E  S ICDRG=507
"RTN","ICDDRG0",127,0)
 E  D
"RTN","ICDDRG0",128,0)
 . I ICDCC!(ICDPD["T")!(ICDSD["T") S ICDRG=508
"RTN","ICDDRG0",129,0)
 . E  S ICDRG=509
"RTN","ICDDRG0",130,0)
 Q
"RTN","ICDDRG5")
0^4^B19783386
"RTN","ICDDRG5",1,0)
ICDDRG5 ;ALB/GRR/EG/MRY/ADL - FIX SURGERY HIERARCHY ; 3/20/03 10:36am
"RTN","ICDDRG5",2,0)
 ;;18.0;DRG Grouper;**2,5,7,10,20**;Oct 20, 2000
"RTN","ICDDRG5",3,0)
 Q:$O(ICDODRG(0))'>0  K ICDJ,ICDJJ F ICDJ=0:0 S ICDJ=$O(ICDODRG(ICDJ)) Q:ICDJ'>0  S ICDJJ(ICDJ)="" D
"RTN","ICDDRG5",4,0)
 .I ICDDATE<3051001 D F
"RTN","ICDDRG5",5,0)
 .E  D FY2006
"RTN","ICDDRG5",6,0)
END S ICDJ=$O(ICDJ(0)) Q:ICDJ'>0  S ICDJ=ICDJ(ICDJ) K ICDODRG S ICDODRG(ICDJ)="" Q
"RTN","ICDDRG5",7,0)
F I ICDJ=103 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG5",8,0)
 I ICDJ=525 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG5",9,0)
 I ICDJ=104 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG5",10,0)
 I ICDJ=535 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG5",11,0)
 I ICDJ=536 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG5",12,0)
 I ICDJ=515 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG5",13,0)
 I ICDJ=108 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG5",14,0)
 I ICDJ=106 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG5",15,0)
 I ICDJ=110 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG5",16,0)
 I ICDJ=111 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG5",17,0)
 I ICDJ=113 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG5",18,0)
 I ICDJ=115 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG5",19,0)
 I ICDJ=116 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG5",20,0)
 I ICDJ=526 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG5",21,0)
 I ICDJ=527 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG5",22,0)
 I ICDJ=516 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG5",23,0)
 I ICDJ=517 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG5",24,0)
 I ICDJ=518 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG5",25,0)
 I ICDJ=478 S ICDJ(19)=ICDJ Q
"RTN","ICDDRG5",26,0)
 I ICDJ=479 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG5",27,0)
 ;I ICDJ=112 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG5",28,0)
 I ICDJ=114 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG5",29,0)
 I ICDJ=118 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG5",30,0)
 I ICDJ=117 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG5",31,0)
 I ICDJ=119 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG5",32,0)
 I ICDJ=120 S ICDJ(25)=ICDJ
"RTN","ICDDRG5",33,0)
 Q
"RTN","ICDDRG5",34,0)
FY2006 ;
"RTN","ICDDRG5",35,0)
 I ICDJ=103 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG5",36,0)
 I ICDJ=525 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG5",37,0)
 I ICDJ=104 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG5",38,0)
 I ICDJ=535 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG5",39,0)
 I ICDJ=536 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG5",40,0)
 I ICDJ=515 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG5",41,0)
 I ICDJ=108 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG5",42,0)
 I ICDJ=106 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG5",43,0)
 I ICDJ=110 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG5",44,0)
 I ICDJ=111 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG5",45,0)
 I ICDJ=547 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG5",46,0)
 I ICDJ=548 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG5",47,0)
 I ICDJ=549 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG5",48,0)
 I ICDJ=550 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG5",49,0)
 I ICDJ=113 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG5",50,0)
 I ICDJ=551 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG5",51,0)
 I ICDJ=552 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG5",52,0)
 I ICDJ=557 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG5",53,0)
 I ICDJ=555 S ICDJ(19)=ICDJ Q
"RTN","ICDDRG5",54,0)
 I ICDJ=558 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG5",55,0)
 I ICDJ=556 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG5",56,0)
 I ICDJ=518 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG5",57,0)
 I ICDJ=553 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG5",58,0)
 I ICDJ=554 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG5",59,0)
 I ICDJ=479 S ICDJ(25)=ICDJ Q
"RTN","ICDDRG5",60,0)
 I ICDJ=114 S ICDJ(26)=ICDJ Q
"RTN","ICDDRG5",61,0)
 I ICDJ=118 S ICDJ(27)=ICDJ Q
"RTN","ICDDRG5",62,0)
 I ICDJ=117 S ICDJ(28)=ICDJ Q
"RTN","ICDDRG5",63,0)
 I ICDJ=119 S ICDJ(29)=ICDJ Q
"RTN","ICDDRG5",64,0)
 I ICDJ=120 S ICDJ(30)=ICDJ
"RTN","ICDDRG5",65,0)
 Q
"RTN","ICDDRG5",66,0)
EN1 S (ICDCC3,ICDCC2)=0
"RTN","ICDDRG5",67,0)
 I $D(ICDOP(" 00.50")) S ICDCC3=1
"RTN","ICDDRG5",68,0)
 I $D(ICDOP(" 00.52")) I $D(ICDOP(" 00.53")) S ICDCC3=1
"RTN","ICDDRG5",69,0)
 I $D(ICDOP(" 37.70"))!($D(ICDOP(" 37.71")))!($D(ICDOP(" 37.73"))) D MORE Q
"RTN","ICDDRG5",70,0)
 I $D(ICDOP(" 37.72")) I $D(ICDOP(" 37.80"))!($D(ICDOP(" 37.83"))) S ICDCC3=1 Q
"RTN","ICDDRG5",71,0)
 I $D(ICDOP(" 37.74")) I $D(ICDOP(" 37.80"))!($D(ICDOP(" 37.81")))!($D(ICDOP(" 37.82")))!($D(ICDOP(" 37.83")))!($D(ICDOP(" 37.85")))!($D(ICDOP(" 37.86")))!($D(ICDOP(" 37.87"))) S ICDCC3=1 Q
"RTN","ICDDRG5",72,0)
 I $D(ICDOP(" 37.76")) I $D(ICDOP(" 37.80"))!($D(ICDOP(" 37.85")))!($D(ICDOP(" 37.86")))!($D(ICDOP(" 37.87"))) S ICDCC3=1 Q
"RTN","ICDDRG5",73,0)
 I $D(ICDOP(" 00.53")) I $D(ICDOP(" 37.70"))!($D(ICDOP(" 37.71")))!($D(ICDOP(" 37.72")))!($D(ICDOP(" 37.73")))!($D(ICDOP("37.74 ")))!($D(ICDOP(" 37.76"))) S ICDCC3=1
"RTN","ICDDRG5",74,0)
 I $D(ICDOP(" 00.54"))!$D(ICDOP(" 37.95"))!$D(ICDOP(" 37.96"))!$D(ICDOP(" 37.97"))!$D(ICDOP(" 37.98"))!$D(ICDOP(" 00.52")) S ICDCC2=1
"RTN","ICDDRG5",75,0)
 Q
"RTN","ICDDRG5",76,0)
MORE I $D(ICDOP(" 37.80"))!($D(ICDOP(" 37.81")))!($D(ICDOP(" 37.82")))!($D(ICDOP(" 37.85")))!($D(ICDOP(" 37.86")))!($D(ICDOP(" 37.87"))) S ICDCC3=1 Q
"RTN","ICDDRG5",77,0)
 Q
"RTN","ICDDRG5",78,0)
VALV ;valve procedure
"RTN","ICDDRG5",79,0)
 N ICDTMP
"RTN","ICDDRG5",80,0)
 S (ICDCATH,ICDAJ)="" F ICDI=1:1 Q:'$D(ICDPRC(ICDI))  S ICDAJ=ICDPRC(ICDI),ICDTMP=$$ICDOP^ICDCODE(ICDAJ,$G(ICDDATE)),ICDY(0)=$S((ICDTMP>0&$P(ICDTMP,U,10)):$P(ICDTMP,U,2,99),1:0) I ICDY(0) D
"RTN","ICDDRG5",81,0)
 . S ICDOP($P(ICDY(0),"^",1))="",ICDCATH=ICDCATH_$P(ICDY(0),"^",2)
"RTN","ICDDRG5",82,0)
 S ICDE1=$S($D(ICDOP(37.95))&($D(ICDOP(37.96))):1,1:0),ICDE2=$S($D(ICDOP(37.97))&($D(ICDOP(37.98))):1,1:0)
"RTN","ICDDRG5",83,0)
 Q
"RTN","ICDDRG5",84,0)
 S:ICDCATH["H" ICDRG=$S(ICDCATH["N"&ICDE1:104,ICDCATH["N"&ICDE2:104,ICDCATH["O":104,1:ICDRG)
"RTN","ICDDRG5",85,0)
 S:ICDCATH'["H" ICDRG=$S(ICDCATH["N"&ICDE1:105,ICDCATH["N"&ICDE2:105,ICDCATH["O":105,1:ICDRG)
"RTN","ICDDRG5",86,0)
 K ICDCATH,ICDAJ,ICDE1,ICDE2,ICDI,ICDOP,ICDY Q
"RTN","ICDDRG5",87,0)
VALV1 ;dx combo's for DRG120
"RTN","ICDDRG5",88,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDDRG5",89,0)
 S ICDRG=$S((ICDE1&(ICDOR["H")):104,(ICDE1&(ICDOR'["H")):105,(ICDE2&(ICDOR["H")):104,(ICDE2&(ICDOR'["H")):105,1:120)
"RTN","ICDDRG5",90,0)
 K ICDE1,ICDE2
"RTN","ICDDRG5",91,0)
 Q
"RTN","ICDDRG8")
0^5^B9006336
"RTN","ICDDRG8",1,0)
ICDDRG8 ;ALB/GRR/EG - FIX SURGERY HIERARCHY ; 7/18/01 10:40am
"RTN","ICDDRG8",2,0)
 ;;18.0;DRG Grouper;**1,2,10,20**;Oct 20, 2000
"RTN","ICDDRG8",3,0)
 Q:$O(ICDODRG(0))'>0  K ICDJ,ICDJJ F ICDJ=0:0 S ICDJ=$O(ICDODRG(ICDJ)) Q:ICDJ'>0  S ICDJJ(ICDJ)="" D
"RTN","ICDDRG8",4,0)
 .I ICDDATE<3051001 D F
"RTN","ICDDRG8",5,0)
 .E  D FY2006
"RTN","ICDDRG8",6,0)
END S ICDJ=$O(ICDJ(0)) Q:ICDJ'>0  S ICDJ=ICDJ(ICDJ) K ICDODRG S ICDODRG(ICDJ)="" Q
"RTN","ICDDRG8",7,0)
F I ICDJ=471 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG8",8,0)
 I ICDJ=217 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG8",9,0)
 I ICDJ=209 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG8",10,0)
 I ICDJ=216 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG8",11,0)
 I ICDJ=210 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG8",12,0)
 I ICDJ=213 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG8",13,0)
 I ICDJ=491 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG8",14,0)
 I ICDJ=497 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG8",15,0)
 I ICDJ=519 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG8",16,0)
 I ICDJ=520 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG8",17,0)
 I ICDJ=499 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG8",18,0)
 I ICDJ=501 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG8",19,0)
 I ICDJ=218 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG8",20,0)
 I ICDJ=231 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG8",21,0)
 I ICDJ=537 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG8",22,0)
 I ICDJ=230 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG8",23,0)
 I ICDJ=226 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG8",24,0)
 I ICDJ=227 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG8",25,0)
 I ICDJ=225 S ICDJ(19)=ICDJ Q
"RTN","ICDDRG8",26,0)
 I ICDJ=228 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG8",27,0)
 I ICDJ=223 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG8",28,0)
 I ICDJ=232 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG8",29,0)
 I ICDJ=224 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG8",30,0)
 I ICDJ=229 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG8",31,0)
 I ICDJ=233 S ICDJ(25)=ICDJ Q
"RTN","ICDDRG8",32,0)
 Q
"RTN","ICDDRG8",33,0)
FY2006 ;
"RTN","ICDDRG8",34,0)
 I ICDJ=496 S ICDJ(1)=ICDJ Q
"RTN","ICDDRG8",35,0)
 I ICDJ=546 S ICDJ(2)=ICDJ Q
"RTN","ICDDRG8",36,0)
 I ICDJ=497 S ICDJ(3)=ICDJ Q
"RTN","ICDDRG8",37,0)
 I ICDJ=498 S ICDJ(4)=ICDJ Q
"RTN","ICDDRG8",38,0)
 I ICDJ=471 S ICDJ(5)=ICDJ Q
"RTN","ICDDRG8",39,0)
 I ICDJ=217 S ICDJ(6)=ICDJ Q
"RTN","ICDDRG8",40,0)
 I ICDJ=545 S ICDJ(7)=ICDJ Q
"RTN","ICDDRG8",41,0)
 I ICDJ=544 S ICDJ(8)=ICDJ Q
"RTN","ICDDRG8",42,0)
 I ICDJ=519 S ICDJ(9)=ICDJ Q
"RTN","ICDDRG8",43,0)
 I ICDJ=520 S ICDJ(10)=ICDJ Q
"RTN","ICDDRG8",44,0)
 I ICDJ=216 S ICDJ(11)=ICDJ Q
"RTN","ICDDRG8",45,0)
 I ICDJ=213 S ICDJ(12)=ICDJ Q
"RTN","ICDDRG8",46,0)
 I ICDJ=210 S ICDJ(13)=ICDJ Q
"RTN","ICDDRG8",47,0)
 I ICDJ=211 S ICDJ(14)=ICDJ Q
"RTN","ICDDRG8",48,0)
 I ICDJ=212 S ICDJ(15)=ICDJ Q
"RTN","ICDDRG8",49,0)
 I ICDJ=491 S ICDJ(16)=ICDJ Q
"RTN","ICDDRG8",50,0)
 I ICDJ=501 S ICDJ(17)=ICDJ Q
"RTN","ICDDRG8",51,0)
 I ICDJ=502 S ICDJ(18)=ICDJ Q
"RTN","ICDDRG8",52,0)
 I ICDJ=503 S ICDJ(19)=ICDJ Q 
"RTN","ICDDRG8",53,0)
 I ICDJ=499 S ICDJ(20)=ICDJ Q
"RTN","ICDDRG8",54,0)
 I ICDJ=500 S ICDJ(21)=ICDJ Q
"RTN","ICDDRG8",55,0)
 I ICDJ=218 S ICDJ(22)=ICDJ Q
"RTN","ICDDRG8",56,0)
 I ICDJ=219 S ICDJ(23)=ICDJ Q
"RTN","ICDDRG8",57,0)
 I ICDJ=220 S ICDJ(24)=ICDJ Q
"RTN","ICDDRG8",58,0)
 I ICDJ=537 S ICDJ(25)=ICDJ Q
"RTN","ICDDRG8",59,0)
 I ICDJ=538 S ICDJ(26)=ICDJ Q
"RTN","ICDDRG8",60,0)
 I ICDJ=230 S ICDJ(27)=ICDJ Q
"RTN","ICDDRG8",61,0)
 I ICDJ=226 S ICDJ(28)=ICDJ Q
"RTN","ICDDRG8",62,0)
 I ICDJ=227 S ICDJ(29)=ICDJ Q
"RTN","ICDDRG8",63,0)
 I ICDJ=225 S ICDJ(30)=ICDJ Q
"RTN","ICDDRG8",64,0)
 I ICDJ=228 S ICDJ(31)=ICDJ Q
"RTN","ICDDRG8",65,0)
 I ICDJ=223 S ICDJ(32)=ICDJ Q
"RTN","ICDDRG8",66,0)
 I ICDJ=232 S ICDJ(33)=ICDJ Q
"RTN","ICDDRG8",67,0)
 I ICDJ=224 S ICDJ(34)=ICDJ Q
"RTN","ICDDRG8",68,0)
 I ICDJ=229 S ICDJ(35)=ICDJ Q
"RTN","ICDDRG8",69,0)
 I ICDJ=233 S ICDJ(36)=ICDJ Q
"RTN","ICDDRG8",70,0)
 I ICDJ=234 S ICDJ(37)=ICDJ Q
"RTN","ICDDRG8",71,0)
 Q
"RTN","ICDDRG8",72,0)
EN1 ; paired spinal fusion codes
"RTN","ICDDRG8",73,0)
 S ICDCC3=0
"RTN","ICDDRG8",74,0)
 ;I $D(ICDOP(" 81.02"))!$D(ICDOP(" 81.04"))!$D(ICDOP(" 81.06"))&($D(ICDOP(" 81.03"))!$D(ICDOP(" 81.05"))!$D(ICDOP(" 81.08"))) S ICDCC3=1
"RTN","ICDDRG8",75,0)
 N ICDA,ICDB S (ICDA,ICDB)=0
"RTN","ICDDRG8",76,0)
 I $D(ICDOP(" 81.02"))!$D(ICDOP(" 81.04"))!$D(ICDOP(" 81.06"))!$D(ICDOP(" 81.32"))!$D(ICDOP(" 81.34"))!$D(ICDOP(" 81.36")) S ICDA=1
"RTN","ICDDRG8",77,0)
 I $D(ICDOP(" 81.03"))!$D(ICDOP(" 81.05"))!$D(ICDOP(" 81.07"))!$D(ICDOP(" 81.08"))!$D(ICDOP(" 81.33"))!$D(ICDOP(" 81.35"))!$D(ICDOP(" 81.37"))!$D(ICDOP(" 81.38")) S ICDB=1
"RTN","ICDDRG8",78,0)
 I ICDA&ICDB S ICDCC3=1
"RTN","ICDDRG8",79,0)
 Q
"RTN","ICDDRGX")
0^3^B15940302
"RTN","ICDDRGX",1,0)
ICDDRGX ;ALB/EG/MRY/ADL - GROUPER PROCESS ; 3/14/05 1:38pm
"RTN","ICDDRGX",2,0)
 ;;18.0;DRG Grouper;**1,2,5,7,10,14,20**;Oct 20, 2000
"RTN","ICDDRGX",3,0)
CKHIV ;MDC25 grouping
"RTN","ICDDRGX",4,0)
 ;Q:ICDP25=""
"RTN","ICDDRGX",5,0)
 I ICDPD'["h"&(ICDSD'["h") Q
"RTN","ICDDRGX",6,0)
 S ICDRG=$S(ICDOR["x":488,ICDPD["i"&($D(ICDS25(1))):490,1:ICDRG)
"RTN","ICDDRGX",7,0)
 S ICDGH=$S("488^489^490"[ICDRG:1,1:0),ICDORNI=$S(ICDOCNT>0:ICDORNI,1:0),ICDORNA=$F(ICDORNI,"O",$F(ICDORNI,"O"))
"RTN","ICDDRGX",8,0)
 S:ICDORNI="" ICDORNI=ICDOR
"RTN","ICDDRGX",9,0)
 S ICDRG=$S(ICDP25=1&(ICDORNA>0):488,1:ICDRG) I 'ICDGH&(ICDRG=488) Q
"RTN","ICDDRGX",10,0)
 S:(ICDOCNT>0) ICDRG=$S(ICDP25>1&(ICDORNA>0)&($D(ICDS25(1))):488,1:ICDRG) I 'ICDGH&(ICDRG=488) Q
"RTN","ICDDRGX",11,0)
 I ICDOPCT>0 D  I ICDRG=488 Q
"RTN","ICDDRGX",12,0)
 .;count the non-extensive "z" vs the "O"
"RTN","ICDDRGX",13,0)
 .N K1,K2,I
"RTN","ICDDRGX",14,0)
 .S (K1,K2)=0
"RTN","ICDDRGX",15,0)
 .F I=1:1:$L(ICDORNI) S:$E(ICDORNI,I,I)="z" K1=K1+1 S:$E(ICDORNI,I,I)="O" K2=K2+1
"RTN","ICDDRGX",16,0)
 .I ICDP25=1!(ICDP25>1&($D(ICDS25)>0)) D
"RTN","ICDDRGX",17,0)
 ..I K1<K2&(K1<ICDOPCT) D
"RTN","ICDDRGX",18,0)
 ...S ICDRG=488 Q
"RTN","ICDDRGX",19,0)
 ..I ICDOPCT=1&(ICDORNI'["z") D
"RTN","ICDDRGX",20,0)
 ...S ICDRG=488 Q
"RTN","ICDDRGX",21,0)
 S ICDRG=$S(ICDP25=1&('$D(ICDS25))&('$O(^ICD9(ICDDX(1),"R",0))):490,1:ICDRG) I 'ICDGH&(ICDRG=490) Q
"RTN","ICDDRGX",22,0)
 S ICDRG=$S(ICDP25=1&($D(ICDS25(2))):489,ICDP25=1&($D(ICDS25(3))):490,1:ICDRG) I 'ICDGH&((ICDRG=489)!(ICDRG=490)) Q
"RTN","ICDDRGX",23,0)
 S ICDRG=$S(ICDP25=2&($D(ICDS25(1))):489,ICDP25=3&($D(ICDS25(1))):490,1:ICDRG) I 'ICDGH&((ICDRG=489)!(ICDRG=490)) Q
"RTN","ICDDRGX",24,0)
 S ICDRG=$S((ICDP25&(ICDOCNT=0)&('$D(ICDS25))):490,1:ICDRG) I 'ICDGH&(ICDRG=490) Q
"RTN","ICDDRGX",25,0)
 S:(ICDRG=488)!(ICDRG=489)!(ICDRG=490) ICDRTC=0
"RTN","ICDDRGX",26,0)
 K ICDGH,ICDP25,ICDS25,ICDORNA Q
"RTN","ICDDRGX",27,0)
CKMST ;MDC24 grouping
"RTN","ICDDRGX",28,0)
 S ICDAJ=0 F ICDS24K=1:1 S ICDAJ=$O(ICDS24(ICDAJ)) Q:ICDAJ=""
"RTN","ICDDRGX",29,0)
 S ICDS24K=ICDS24K-1,ICDS24L=0 F ICDI=1:1:8 S:$D(ICDS24(ICDI))&(ICDI'=ICDP24) ICDS24L=$S($D(ICDS24(ICDI)):1,1:0)
"RTN","ICDDRGX",30,0)
 I ICDOR["u" S ICDS24K=ICDS24K+1
"RTN","ICDDRGX",31,0)
 G:((ICDP24=0)&(ICDS24K<2))!((ICDP24>0)&('ICDS24L)) CKMSTE
"RTN","ICDDRGX",32,0)
 S ICDRG=$S(ICDP24=0&(ICDS24K>1)&($D(ICDO24(1))):484,ICDP24>0&($D(ICDO24(1)))&(ICDS24L):484,1:ICDRG) I ICDRG=484 D CKMSTE Q
"RTN","ICDDRGX",33,0)
 S:ICDRG'=484 ICDRG=$S(ICDP24=0&(ICDS24K>1)&($D(ICDO24(2))):485,ICDP24>0&($D(ICDO24(2)))&(ICDS24L):485,1:ICDRG) I ICDRG=485 D CKMSTE Q
"RTN","ICDDRGX",34,0)
 S:ICDRG'=485 ICDRG=$S(ICDP24=0&(ICDS24K>1)&($D(ICDO24(3))):486,ICDP24>0&($D(ICDO24(3)))&(ICDS24L):486,1:ICDRG) I ICDRG=486 D CKMSTE Q
"RTN","ICDDRGX",35,0)
 S ICDRG=$S(ICDP24=0&(ICDS24K>1):487,ICDP24>0&ICDS24L:487,1:ICDRG)
"RTN","ICDDRGX",36,0)
 S:(ICDRG>483)&(ICDRG<488) ICDRTC=0
"RTN","ICDDRGX",37,0)
CKMSTE K ICDAJ,ICDP24,ICDS24,ICDO24,ICDS24K,ICDO24,ICDS24L
"RTN","ICDDRGX",38,0)
 Q
"RTN","ICDDRGX",39,0)
CKNMDC ;non MDC drg's
"RTN","ICDDRGX",40,0)
 S:(ICDRG>479)&(ICDRG<484) ICDRG=470
"RTN","ICDDRGX",41,0)
 ; ICD*18*1 - reorder drg 103 higher than all Pre-MDCs 480-83 & 495
"RTN","ICDDRGX",42,0)
 I ICDRG=103 S ICDRTC=0 Q
"RTN","ICDDRGX",43,0)
 ;use FY logic to resolve DRG if no FY defined user current FY
"RTN","ICDDRGX",44,0)
 N ICDDXFY S ICDDXFY=""
"RTN","ICDDRGX",45,0)
 I ICDDATE>3040930.9 D  Q:ICDRG=541!(ICDRG=542)  ;Use DRG FY 05 logic
"RTN","ICDDRGX",46,0)
 .S ICDRG=$S($D(ICDOP(" 31.1"))!($D(ICDOP(" 31.21")))!($D(ICDOP(" 31.29")))&(($P($$ICDDX^ICDCODE(ICDDX(1),ICDDATE),"^",3)'["Y")!($D(ICDOP(" 96.72")))):541,1:ICDRG)
"RTN","ICDDRGX",47,0)
 .I ICDRG=541&(($P($$ICDDX^ICDCODE(ICDDX(1),ICDDATE),"^",3))["Y") S ICDRG=542 S ICDRTC=0
"RTN","ICDDRGX",48,0)
 I ICDDATE<3041001 D  Q:ICDRG=483  ;Use DRG FY 04 logic
"RTN","ICDDRGX",49,0)
 .S ICDRG=$S($D(ICDOP(" 31.1"))!($D(ICDOP(" 31.21")))!($D(ICDOP(" 31.29")))&(($P($$ICDDX^ICDCODE(ICDDX(1),ICDDATE),"^",3)'["Y")!($D(ICDOP(" 96.72")))):483,1:ICDRG) I ICDRG=483 S ICDRTC=0
"RTN","ICDDRGX",50,0)
 S ICDRG=$S(ICDOR["l":480,1:ICDRG) I ICDRG=480 S ICDRTC=0 Q
"RTN","ICDDRGX",51,0)
 I ICDRG=512!(ICDRG=513) S ICDRTC=0 Q
"RTN","ICDDRGX",52,0)
 S ICDRG=$S(ICDOR["r":495,1:ICDRG) I ICDRG=495 S ICDRTC=0 Q  ;check for lung tx
"RTN","ICDDRGX",53,0)
 S ICDRG=$S(ICDOR["q":103,1:ICDRG) I ICDRG=103 S ICDRTC=0 Q  ;check for heart tx
"RTN","ICDDRGX",54,0)
 S ICDRG=$S(ICDOR["B":481,1:ICDDRG) I ICDRG=481 S ICDRTC=0 Q
"RTN","ICDDRGX",55,0)
 S ICDRG=$S($D(ICDOP(" 30.3"))!$D(ICDOP(" 30.4")):482,1:ICDRG) I ICDRG=482 S ICDRTC=0 Q
"RTN","ICDDRGX",56,0)
 S ICDRG=$S(ICDOR["t"&($P($$ICDDX^ICDCODE(ICDDX(1),ICDDATE),"^",3)["Y"):482,1:ICDRG) I ICDRG=482 S ICDRTC=0 Q
"RTN","ICDDRGX",57,0)
 Q
"RTN","ICDDRGX",58,0)
 ;
"RTN","ICDDRGX",59,0)
 ;
"RTN","ICDDRGX",60,0)
CHKMDC4 ;MDC 4 drg's
"RTN","ICDDRGX",61,0)
 I (ICDMDC=4!(ICDMDC=98)),(ICDOR["f") S ICDRG=76
"RTN","ICDDRGX",62,0)
 I ICDDRG=468,$G(ICDMDC)=5,$D(ICDOP(" 86.06")) S ICDRG=120
"RTN","ICDDRGX",63,0)
 I ICDDRG=468,$G(ICDMDC)=5,$D(ICDOP(" 92.27")),ICDNOR=1 S ICDRG=120 ;ICD*18*5
"RTN","ICDDRGX",64,0)
 Q
"RTN","ICDHLPD")
0^6^B5666760
"RTN","ICDHLPD",1,0)
ICDHLPD ;ALB/GRR/EG - HELP DISPLAY DIAGNOSIS IDENTIFIERS ; 9/22/04 9:41am
"RTN","ICDHLPD",2,0)
 ;;18.0;DRG Grouper;**10,14,20**;Oct 20, 2000
"RTN","ICDHLPD",3,0)
EN ;routine revised 12/94
"RTN","ICDHLPD",4,0)
 N ICDID,I,J,ID
"RTN","ICDHLPD",5,0)
 F ID="DXCODE","DNCODE" D
"RTN","ICDHLPD",6,0)
 . F I=1:1 S ICDID=$T(@ID+I),ICDID=$P(ICDID,";;",2) Q:ICDID="EXIT"  D
"RTN","ICDHLPD",7,0)
 .. S ICDID($P(ICDID,"="))=ICDID
"RTN","ICDHLPD",8,0)
 . W ! S I="" F J=0:1 S I=$O(ICDID(I)) Q:I=""  D
"RTN","ICDHLPD",9,0)
 .. I J#3 W ?(J#3*27)
"RTN","ICDHLPD",10,0)
 .. I '(J#3) W !
"RTN","ICDHLPD",11,0)
 .. W ICDID(I)
"RTN","ICDHLPD",12,0)
 . K ICDID
"RTN","ICDHLPD",13,0)
 W !
"RTN","ICDHLPD",14,0)
 Q
"RTN","ICDHLPD",15,0)
MAJ ;display major or procedure identifier
"RTN","ICDHLPD",16,0)
 W !,"1=Bowel",?20,"2=Chest",?50,"3=Lymphoma/Leukemia"
"RTN","ICDHLPD",17,0)
 W !,"4=Joint",?20,"5=Pancreas/Liver",?50,"6=Pelvic"
"RTN","ICDHLPD",18,0)
 W !,"7=Shoulder/Elbow",?20,"8=Thumb/Joint",?50,"9=Head/Neck"
"RTN","ICDHLPD",19,0)
 W !,"A=Cardio",?20,"M=Musculoskeletal",?50,"B=Spine"
"RTN","ICDHLPD",20,0)
 Q
"RTN","ICDHLPD",21,0)
DXCODE ;DIAGNOSIS CODES
"RTN","ICDHLPD",22,0)
 ;;H=any DX
"RTN","ICDHLPD",23,0)
 ;;V=CV cmplctn
"RTN","ICDHLPD",24,0)
 ;;p=prematurity
"RTN","ICDHLPD",25,0)
 ;;F=fem
"RTN","ICDHLPD",26,0)
 ;;J=Maj prblm
"RTN","ICDHLPD",27,0)
 ;;T=Trauma
"RTN","ICDHLPD",28,0)
 ;;A=AMI/CHF
"RTN","ICDHLPD",29,0)
 ;;P=Pruritis
"RTN","ICDHLPD",30,0)
 ;;d=Postpartum
"RTN","ICDHLPD",31,0)
 ;;Y=Mouth,Larynx,Pharynx
"RTN","ICDHLPD",32,0)
 ;;t=Therapy
"RTN","ICDHLPD",33,0)
 ;;r=Breast Malig
"RTN","ICDHLPD",34,0)
 ;;l=Acute leuk.
"RTN","ICDHLPD",35,0)
 ;;E=extrm immtrty
"RTN","ICDHLPD",36,0)
 ;;K=Intracranial Hemorrhage
"RTN","ICDHLPD",37,0)
 ;;R=full term
"RTN","ICDHLPD",38,0)
 ;;O=only
"RTN","ICDHLPD",39,0)
 ;;I=Acute MI
"RTN","ICDHLPD",40,0)
 ;;G=Ganglion
"RTN","ICDHLPD",41,0)
 ;;D=Delivered
"RTN","ICDHLPD",42,0)
 ;;m=hist malig as 2ry dx
"RTN","ICDHLPD",43,0)
 ;;S=Significant problem
"RTN","ICDHLPD",44,0)
 ;;u=antepartum cmplx
"RTN","ICDHLPD",45,0)
 ;;X=cmplx/cmplctd
"RTN","ICDHLPD",46,0)
 ;;a=Adenoidectomy/Tonsillect
"RTN","ICDHLPD",47,0)
 ;;B=abrtn
"RTN","ICDHLPD",48,0)
 ;;b=full thickness burn
"RTN","ICDHLPD",49,0)
 ;;z=not sig 2ry dx
"RTN","ICDHLPD",50,0)
 ;;M=malignancy/Neoplasm
"RTN","ICDHLPD",51,0)
 ;;U=Ulcer/itis
"RTN","ICDHLPD",52,0)
 ;;L=Leukemia/lymphoma
"RTN","ICDHLPD",53,0)
 ;;v=Dx comp vag delivry
"RTN","ICDHLPD",54,0)
 ;;k=infection
"RTN","ICDHLPD",55,0)
 ;;h=HIV
"RTN","ICDHLPD",56,0)
 ;;i=hiv related cond
"RTN","ICDHLPD",57,0)
 ;;j=inhalation injury
"RTN","ICDHLPD",58,0)
 ;;Q=Acute CNS DX
"RTN","ICDHLPD",59,0)
 ;;W=Severe Sepsis
"RTN","ICDHLPD",60,0)
 ;;Z=2ndry HF (2ndry dx of heart failure)
"RTN","ICDHLPD",61,0)
 ;;c=MCV in prime or 2ndry
"RTN","ICDHLPD",62,0)
 ;;s=MCV in 2ndry 
"RTN","ICDHLPD",63,0)
 ;;EXIT
"RTN","ICDHLPD",64,0)
 Q
"RTN","ICDHLPD",65,0)
DNCODE ;  NUMERIC/OTHER ID CODES
"RTN","ICDHLPD",66,0)
 ;;1=coma>1hr
"RTN","ICDHLPD",67,0)
 ;;2=DRG492
"RTN","ICDHLPD",68,0)
 ;;3=DRG480
"RTN","ICDHLPD",69,0)
 ;;4=DRG481
"RTN","ICDHLPD",70,0)
 ;;5=DRG481 w/leuk
"RTN","ICDHLPD",71,0)
 ;;6=DRG546 curvature of spine or malignancy
"RTN","ICDHLPD",72,0)
 ;;*=extensive burn
"RTN","ICDHLPD",73,0)
 ;;EXIT
"RTN","ICDHLPD",74,0)
 Q
"RTN","ICDTLB1B")
0^17^B17764004
"RTN","ICDTLB1B",1,0)
ICDTLB1B ;ALB/EG - GROUPER UTILITY FUNCTIONS FY 2006; 8/19/04 3:19pm ; 6/28/05 4:01pm
"RTN","ICDTLB1B",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 20, 2000
"RTN","ICDTLB1B",3,0)
DRG1 D DRG528 D:ICDRG'=528 DRG543^ICDTLB6B D:ICDRG'=543 DRG529
"RTN","ICDTLB1B",4,0)
 S ICDRG=$S(AGE<18:3,ICDRG=528:528,ICDRG=543:543,ICDRG=529:529,ICDRG=530:530,ICDCC:1,1:2) I AGE="" S ICDRTC=3,ICDRG=470
"RTN","ICDTLB1B",5,0)
 Q
"RTN","ICDTLB1B",6,0)
DRG2 D DRG1
"RTN","ICDTLB1B",7,0)
 Q
"RTN","ICDTLB1B",8,0)
DRG3 D DRG1
"RTN","ICDTLB1B",9,0)
 Q
"RTN","ICDTLB1B",10,0)
DRG7 S ICDRG=$S(ICDCC:7,1:8) Q
"RTN","ICDTLB1B",11,0)
DRG8 S ICDRG=$S(ICDCC:7,1:8) Q
"RTN","ICDTLB1B",12,0)
DRG10 S ICDRG=$S(ICDCC:10,1:11) Q
"RTN","ICDTLB1B",13,0)
DRG11 S ICDRG=$S(ICDCC:10,1:11) Q
"RTN","ICDTLB1B",14,0)
DRG16 S ICDRG=$S(ICDCC:16,1:17) Q
"RTN","ICDTLB1B",15,0)
DRG17 S ICDRG=$S(ICDCC:16,1:17) Q
"RTN","ICDTLB1B",16,0)
DRG18 S ICDRG=$S(ICDCC:18,1:19) Q
"RTN","ICDTLB1B",17,0)
DRG19 S ICDRG=$S(ICDCC:18,1:19) Q
"RTN","ICDTLB1B",18,0)
DRG24 S ICDRG=$S(AGE<18:26,ICDCC:24,1:25) I AGE="" S ICDRTC=3,ICDRG=470
"RTN","ICDTLB1B",19,0)
 Q
"RTN","ICDTLB1B",20,0)
DRG25 S ICDRG=$S(AGE<18:26,ICDCC:24,1:25) I AGE="" S ICDRTC=3,ICDRG=470
"RTN","ICDTLB1B",21,0)
 Q
"RTN","ICDTLB1B",22,0)
DRG26 S ICDRG=$S(AGE<18:26,ICDCC:24,1:25) I AGE="" S ICDRTC=3,ICDRG=470
"RTN","ICDTLB1B",23,0)
 Q
"RTN","ICDTLB1B",24,0)
DRG27 S ICDRG=$S(ICDPD[1!(ICDSD[1):27,AGE="":470,AGE<18:30,ICDCC:28,1:29),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB1B",25,0)
DRG28 D DRG27 Q
"RTN","ICDTLB1B",26,0)
DRG29 D DRG27 Q
"RTN","ICDTLB1B",27,0)
DRG30 D DRG27 Q
"RTN","ICDTLB1B",28,0)
DRG31 S ICDRG=$S(AGE<18:33,ICDCC:31,1:32) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",29,0)
 Q
"RTN","ICDTLB1B",30,0)
DRG32 S ICDRG=$S(AGE<18:33,ICDCC:31,1:32) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",31,0)
 Q
"RTN","ICDTLB1B",32,0)
DRG33 S ICDRG=$S(AGE<18:33,ICDCC:31,1:32) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",33,0)
 Q
"RTN","ICDTLB1B",34,0)
DRG34 S ICDRG=$S(ICDCC:34,1:35) Q
"RTN","ICDTLB1B",35,0)
DRG35 S ICDRG=$S(ICDCC:34,1:35) Q
"RTN","ICDTLB1B",36,0)
DRG39 D VER^ICDDRG2 Q
"RTN","ICDTLB1B",37,0)
DRG40 S ICDRG=$S(AGE>17:40,1:41) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",38,0)
 Q
"RTN","ICDTLB1B",39,0)
DRG41 S ICDRG=$S(AGE>17:40,1:41) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",40,0)
 Q
"RTN","ICDTLB1B",41,0)
DRG46 S ICDRG=$S(AGE<18:48,ICDCC:46,1:47) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",42,0)
 Q
"RTN","ICDTLB1B",43,0)
DRG47 S ICDRG=$S(AGE<18:48,ICDCC:46,1:47) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",44,0)
 Q
"RTN","ICDTLB1B",45,0)
DRG48 S ICDRG=$S(AGE<18:48,ICDCC:46,1:47) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",46,0)
 Q
"RTN","ICDTLB1B",47,0)
DRG53 S ICDRG=$S(AGE>17:53,1:54) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",48,0)
 Q
"RTN","ICDTLB1B",49,0)
DRG54 S ICDRG=$S(AGE>17:53,1:54) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",50,0)
 Q
"RTN","ICDTLB1B",51,0)
DRG57 S ICDRG=$S((ICDOPCT>0)&($P(ICDY(0),U,1)="28.3"):$S(AGE>17:59,1:60),ICDOPCT>0:$S(AGE>17:57,1:58),AGE>17:59,1:60) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",52,0)
 Q
"RTN","ICDTLB1B",53,0)
DRG58 S ICDRG=$S(ICDOPCT>1:$S(AGE>17:57,1:58),AGE>17:59,1:60) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",54,0)
 Q
"RTN","ICDTLB1B",55,0)
DRG59 D EN1^ICDDRG3 I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",56,0)
 Q
"RTN","ICDTLB1B",57,0)
DRG60 D EN1^ICDDRG3 I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",58,0)
 Q
"RTN","ICDTLB1B",59,0)
DRG61 S ICDRG=$S(AGE>17:61,1:62) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",60,0)
 Q
"RTN","ICDTLB1B",61,0)
DRG62 S ICDRG=$S(AGE>17:61,1:62) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",62,0)
 Q
"RTN","ICDTLB1B",63,0)
DRG68 S ICDRG=$S(AGE<18:70,ICDCC:68,1:69) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",64,0)
 Q
"RTN","ICDTLB1B",65,0)
DRG69 S ICDRG=$S(AGE<18:70,ICDCC:68,1:69) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",66,0)
 Q
"RTN","ICDTLB1B",67,0)
DRG70 S ICDRG=$S(AGE<18:70,ICDCC:68,1:69) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",68,0)
 Q
"RTN","ICDTLB1B",69,0)
DRG73 S ICDRG=$S(AGE>17:73,1:74) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",70,0)
 Q
"RTN","ICDTLB1B",71,0)
DRG74 S ICDRG=$S(AGE>17:73,1:74) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",72,0)
 Q
"RTN","ICDTLB1B",73,0)
DRG75 S ICDRG=$S($D(ICDODRG(474)):474,1:ICDRG) Q
"RTN","ICDTLB1B",74,0)
DRG76 S ICDRG=$S($D(ICDODRG(474)):474,ICDCC:76,1:77) Q
"RTN","ICDTLB1B",75,0)
DRG77 S ICDRG=$S($D(ICDODRG(474)):474,ICDCC:76,1:77) Q
"RTN","ICDTLB1B",76,0)
DRG78 S ICDRG=$S(ICDPD["X"&(ICDOR["H"):124,ICDSD["X"&(ICDOR["H"):124,1:78) Q
"RTN","ICDTLB1B",77,0)
DRG79 S ICDRG=$S(AGE<18:81,ICDCC:79,1:80) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",78,0)
 Q
"RTN","ICDTLB1B",79,0)
DRG80 S ICDRG=$S(AGE<18:81,ICDCC:79,1:80) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",80,0)
 Q
"RTN","ICDTLB1B",81,0)
DRG81 S ICDRG=$S(AGE<18:81,ICDCC:79,1:80) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",82,0)
 Q
"RTN","ICDTLB1B",83,0)
DRG83 S ICDRG=$S(ICDCC:83,1:84) Q
"RTN","ICDTLB1B",84,0)
DRG84 S ICDRG=$S(ICDCC:83,1:84) Q
"RTN","ICDTLB1B",85,0)
DRG85 S ICDRG=$S(ICDCC:85,1:86) Q
"RTN","ICDTLB1B",86,0)
DRG86 S ICDRG=$S(ICDCC:85,1:86) Q
"RTN","ICDTLB1B",87,0)
DRG89 S ICDRG=$S(AGE<18:91,ICDCC:89,1:90) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",88,0)
 Q
"RTN","ICDTLB1B",89,0)
DRG90 S ICDRG=$S(AGE<18:91,ICDCC:89,1:90) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",90,0)
 Q
"RTN","ICDTLB1B",91,0)
DRG91 S ICDRG=$S(AGE<18:91,ICDCC:89,1:90) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB1B",92,0)
 Q
"RTN","ICDTLB1B",93,0)
DRG92 S ICDRG=$S(ICDCC!($D(ICDSDRG(92))):92,1:93) Q
"RTN","ICDTLB1B",94,0)
DRG93 S ICDRG=$S(ICDCC:92,1:93) Q
"RTN","ICDTLB1B",95,0)
DRG94 S ICDRG=$S(ICDCC:94,1:95) Q
"RTN","ICDTLB1B",96,0)
DRG528 S ICDRG=$S((ICDPD["K")&(ICDOR["K"):528,1:ICDRG) Q
"RTN","ICDTLB1B",97,0)
DRG529 S ICDRG=$S((ICDOR["S")&(ICDCC):529,(ICDOR["S")&('ICDCC):530,1:ICDRG) Q
"RTN","ICDTLB1B",98,0)
DRG530 D DRG529 Q
"RTN","ICDTLB2B")
0^18^B25384998
"RTN","ICDTLB2B",1,0)
ICDTLB2B ;ALB/EG - GROUPER UTILITY FUNCTIONS FY 2006; 9/19/03 1:09pm ; 6/28/05 4:02pm
"RTN","ICDTLB2B",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 20, 2000
"RTN","ICDTLB2B",3,0)
DRG95 S ICDRG=$S(ICDCC:94,1:95) Q
"RTN","ICDTLB2B",4,0)
DRG96 S ICDRG=$S(AGE<18:98,ICDCC:96,1:97) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",5,0)
 Q
"RTN","ICDTLB2B",6,0)
DRG97 S ICDRG=$S(AGE<18:98,ICDCC:96,1:97) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",7,0)
 Q
"RTN","ICDTLB2B",8,0)
DRG98 S ICDRG=$S(AGE<18:98,ICDCC:96,1:97) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",9,0)
 Q
"RTN","ICDTLB2B",10,0)
DRG99 S ICDRG=$S(ICDCC!($D(ICDSDRG(99))):99,1:100) Q
"RTN","ICDTLB2B",11,0)
DRG100 S ICDRG=$S(ICDCC:99,1:100) Q
"RTN","ICDTLB2B",12,0)
DRG101 S ICDRG=$S(ICDCC:101,1:102) Q
"RTN","ICDTLB2B",13,0)
DRG102 S ICDRG=$S(ICDCC:101,1:102) Q
"RTN","ICDTLB2B",14,0)
DRG104 ;valve procedure
"RTN","ICDTLB2B",15,0)
 N ICDE1,ICDE2
"RTN","ICDTLB2B",16,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTLB2B",17,0)
 ;I ICDOR'["P",'ICDE1&'ICDE2&($D(ICDOP(" 37.95"))!$D(ICDOP(" 37.96"))!$D(ICDOP(" 37.97"))!$D(ICDOP(" 37.98"))) S ICDRG=116 Q
"RTN","ICDTLB2B",18,0)
 S:ICDOR["H" ICDRG=$S(ICDOR["N"&ICDE1:104,ICDOR["N"&ICDE2:104,ICDOR["O":104,1:ICDRG)
"RTN","ICDTLB2B",19,0)
 S:ICDOR'["H" ICDRG=$S(ICDOR["N"&ICDE1:105,ICDOR["N"&ICDE2:105,ICDOR["O":105,1:ICDRG)
"RTN","ICDTLB2B",20,0)
 I ICDOR["P"&(ICDE1+ICDE2=0) S ICDRG=$S(ICDOR["H":104,1:105)
"RTN","ICDTLB2B",21,0)
 Q
"RTN","ICDTLB2B",22,0)
DRG105 D DRG104 Q
"RTN","ICDTLB2B",23,0)
 ; NOIS ANN-0801-41869 ignore 37.26 which has "HN1" for identifier
"RTN","ICDTLB2B",24,0)
DRG106 ;S ICDRG=$S(ICDOR["b"&(ICDOR["6")&(ICDOR["1"):106,ICDOR["6"&(ICDOR'["1")&(ICDOR["H"):107,ICDOR["6"&(ICDOR'["1")&(ICDOR'["H"):109,1:470) I "106^107^109"'[ICDRG D 
"RTN","ICDTLB2B",25,0)
 S ICDRG=470
"RTN","ICDTLB2B",26,0)
 I ICDOR["b" D DRG549^ICDTLB6B
"RTN","ICDTLB2B",27,0)
 I ICDOR["b" I $D(ICDOP(" 35.96"))!($D(ICDOP(" 00.66"))) S ICDRG=106 Q
"RTN","ICDTLB2B",28,0)
 I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG547^ICDTLB6B Q
"RTN","ICDTLB2B",29,0)
 I ICDOR["b" I $D(ICDOP(" 88.52"))!($D(ICDOP(" 88.53")))!($D(ICDOP(" 88.54")))!($D(ICDOP(" 88.55")))!($D(ICDOP(" 88.56")))!($D(ICDOP(" 88.57")))!($D(ICDOP(" 88.58"))) D DRG547^ICDTLB6B Q
"RTN","ICDTLB2B",30,0)
 I ICDRG'=106&(ICDRG'=547)&(ICDRG'=548)&(ICDRG'=549)&(ICDRG'=550) S ICDRG=470 D
"RTN","ICDTLB2B",31,0)
 .;I ICDCC D DRG110 Q
"RTN","ICDTLB2B",32,0)
 .;I ICDOR'["b" D DRG112 I +ICDRG>0&(+ICDRG<470) Q
"RTN","ICDTLB2B",33,0)
 .;I ICDOR'["b" D DRG516^ICDTLB6A I +ICDRG>0 Q
"RTN","ICDTLB2B",34,0)
 .I ICDCC D DRG110 Q
"RTN","ICDTLB2B",35,0)
 .D DRG111
"RTN","ICDTLB2B",36,0)
 Q
"RTN","ICDTLB2B",37,0)
DRG107 D DRG106 Q
"RTN","ICDTLB2B",38,0)
DRG108 S ICDRG=$S(ICDOR["Oo":108,$D(ICDOP(" 38.44"))&$D(ICDOP(" 38.45")):108,ICDCC:110,1:111) Q
"RTN","ICDTLB2B",39,0)
DRG109 D DRG106 Q
"RTN","ICDTLB2B",40,0)
DRG110 D DRG111 Q
"RTN","ICDTLB2B",41,0)
DRG111 S ICDRG=$S(ICDOR["Oo":108,ICDCC&(ICDOR[7):110,ICDOR[7:111,1:ICDRG)
"RTN","ICDTLB2B",42,0)
 I "108^110^111"[ICDRG Q
"RTN","ICDTLB2B",43,0)
 I $D(ICDJJ(478))&('$D(ICDJJ(110))&'($D(ICDJJ(111)))) D DRG478^ICDTLB6B
"RTN","ICDTLB2B",44,0)
 D DRG113 I ICDRG=113 Q
"RTN","ICDTLB2B",45,0)
 I ICDOR["p" D DRG117
"RTN","ICDTLB2B",46,0)
 I ICDOR["1" D DRG516^ICDTLB6B
"RTN","ICDTLB2B",47,0)
 Q
"RTN","ICDTLB2B",48,0)
DRG112 S ICDRG=$S(ICDOR["Oo":108,(ICDOR["1")&($D(ICDOP(" 36.06"))):116,ICDOR["1":112,1:470) I ICDRG=470 D
"RTN","ICDTLB2B",49,0)
 .I ICDPD["A" D DRG115 Q
"RTN","ICDTLB2B",50,0)
 .I ICDOR["p" D DRG117 Q
"RTN","ICDTLB2B",51,0)
 .D DRG111
"RTN","ICDTLB2B",52,0)
 Q
"RTN","ICDTLB2B",53,0)
DRG113 S ICDRG=$S($D(ICDJJ(113)):113,1:ICDRG) Q
"RTN","ICDTLB2B",54,0)
DRG115 D EN1^ICDDRG5
"RTN","ICDTLB2B",55,0)
 I ICDPD'["I"&(ICDCC2=0)&(ICDCC3=0) S ICDRG=127 Q
"RTN","ICDTLB2B",56,0)
 I ICDCC2=1!(ICDCC3=1) D DRG551^ICDTLB6B
"RTN","ICDTLB2B",57,0)
 I ICDRG=551 Q
"RTN","ICDTLB2B",58,0)
 ; ICDCC2 identifies AICD LEAD OR GNRTR
"RTN","ICDTLB2B",59,0)
 I ICDCC2=1&(ICDCC3=0) S ICDRG=551 Q
"RTN","ICDTLB2B",60,0)
 I ICDCC3=1 S ICDRG=552
"RTN","ICDTLB2B",61,0)
 Q
"RTN","ICDTLB2B",62,0)
DRG116 D DRG115 Q
"RTN","ICDTLB2B",63,0)
DRG117 D DRG115 I ICDRG=551!(ICDRG=552) Q
"RTN","ICDTLB2B",64,0)
 I ICDOR["p" S ICDRG=117
"RTN","ICDTLB2B",65,0)
 Q
"RTN","ICDTLB2B",66,0)
DRG118 D DRG115 I ICDRG=551!(ICDRG=552) Q
"RTN","ICDTLB2B",67,0)
 S ICDRG=118 Q
"RTN","ICDTLB2B",68,0)
DRG120 ;dx combo's for DRG120
"RTN","ICDTLB2B",69,0)
 N ICDE1,ICDE2
"RTN","ICDTLB2B",70,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTLB2B",71,0)
 S ICDRG=$S((ICDE1&(ICDOR["H")):104,(ICDE1&(ICDOR'["H")):105,(ICDE2&(ICDOR["H")):104,(ICDE2&(ICDOR'["H")):105,1:120)
"RTN","ICDTLB2B",72,0)
 Q
"RTN","ICDTLB2B",73,0)
DRG121 S ICDRG=$S(ICDSD["CV":121,ICDEXP=0:122,ICDEXP=1:123,1:470) I ICDRG=470 S ICDRTC=5
"RTN","ICDTLB2B",74,0)
 Q
"RTN","ICDTLB2B",75,0)
DRG122 S ICDRG=$S(ICDSD["CV":121,ICDEXP=0:122,ICDEXP=1:123,1:470) I ICDRG=470 S ICDRTC=5
"RTN","ICDTLB2B",76,0)
 Q
"RTN","ICDTLB2B",77,0)
DRG123 S ICDRG=$S(ICDSD["CV":121,ICDEXP=0:122,ICDEXP=1:123,1:470) I ICDRG=470 S ICDRTC=5
"RTN","ICDTLB2B",78,0)
 Q
"RTN","ICDTLB2B",79,0)
DRG124 S ICDRG=$S(ICDPD["X"!(ICDSD["X"):124,1:125) Q
"RTN","ICDTLB2B",80,0)
DRG125 S ICDRG=$S(ICDPD["X"!(ICDSD["X"):124,1:125) Q
"RTN","ICDTLB2B",81,0)
DRG130 S ICDRG=$S(ICDCC:130,1:131) Q
"RTN","ICDTLB2B",82,0)
DRG131 S ICDRG=$S(ICDCC!($D(ICDSDRG(130))):130,1:131) Q
"RTN","ICDTLB2B",83,0)
DRG132 S ICDRG=$S(ICDCC:132,1:133) Q
"RTN","ICDTLB2B",84,0)
DRG133 S ICDRG=$S(ICDCC:132,1:133) Q
"RTN","ICDTLB2B",85,0)
DRG135 S ICDRG=$S(AGE<18:137,ICDCC:135,1:136) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",86,0)
 Q
"RTN","ICDTLB2B",87,0)
DRG136 S ICDRG=$S(AGE<18:137,ICDCC:135,1:136) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",88,0)
 Q
"RTN","ICDTLB2B",89,0)
DRG137 S ICDRG=$S(AGE<18:137,ICDCC:135,1:136) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",90,0)
 Q
"RTN","ICDTLB2B",91,0)
DRG138 S ICDRG=$S(ICDCC:138,1:139) Q
"RTN","ICDTLB2B",92,0)
DRG139 S ICDRG=$S(ICDCC:138,1:139) Q
"RTN","ICDTLB2B",93,0)
DRG140 S ICDRG=$S(ICDOR["H":124,ICDNOR["H":124,1:140) Q
"RTN","ICDTLB2B",94,0)
DRG141 S ICDRG=$S(ICDCC:141,1:142) Q
"RTN","ICDTLB2B",95,0)
DRG142 S ICDRG=$S(ICDCC:141,1:142) Q
"RTN","ICDTLB2B",96,0)
DRG144 S ICDRG=$S(ICDCC:144,1:145) Q
"RTN","ICDTLB2B",97,0)
DRG145 S ICDRG=$S(ICDCC:144,1:145) Q
"RTN","ICDTLB2B",98,0)
DRG146 S ICDRG=$S(ICDCC:146,1:147) Q
"RTN","ICDTLB2B",99,0)
DRG147 S ICDRG=$S(ICDCC:146,1:147) Q
"RTN","ICDTLB2B",100,0)
DRG148 S ICDRG=$S(ICDCC:148,1:149) Q
"RTN","ICDTLB2B",101,0)
DRG149 S ICDRG=$S(ICDCC:148,1:149) Q
"RTN","ICDTLB2B",102,0)
DRG150 S ICDRG=$S(ICDCC:150,1:151) Q
"RTN","ICDTLB2B",103,0)
DRG151 S ICDRG=$S(ICDCC:150,1:151) Q
"RTN","ICDTLB2B",104,0)
DRG152 S ICDRG=$S(ICDCC:152,1:153) Q
"RTN","ICDTLB2B",105,0)
DRG153 S ICDRG=$S(ICDCC:152,1:153) Q
"RTN","ICDTLB2B",106,0)
DRG154 S ICDRG=$S(AGE<18:156,ICDCC:154,1:155) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",107,0)
 Q
"RTN","ICDTLB2B",108,0)
DRG155 S ICDRG=$S(AGE<18:156,ICDCC:154,1:155) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",109,0)
 Q
"RTN","ICDTLB2B",110,0)
DRG156 S ICDRG=$S(AGE<18:156,ICDCC:154,1:155) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",111,0)
 Q
"RTN","ICDTLB2B",112,0)
DRG157 S ICDRG=$S(ICDCC:157,1:158) Q
"RTN","ICDTLB2B",113,0)
DRG158 S ICDRG=$S(ICDCC:157,1:158) Q
"RTN","ICDTLB2B",114,0)
DRG159 S ICDRG=$S(AGE<18:163,ICDCC:159,1:160) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",115,0)
 Q
"RTN","ICDTLB2B",116,0)
DRG160 S ICDRG=$S(AGE<18:163,ICDCC:159,1:160) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",117,0)
 Q
"RTN","ICDTLB2B",118,0)
DRG161 S ICDRG=$S(AGE<18:163,ICDCC:161,ICDSD["J":161,1:162) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",119,0)
 Q
"RTN","ICDTLB2B",120,0)
DRG162 S ICDRG=$S(AGE<18:163,ICDCC:161,1:162) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB2B",121,0)
 Q
"RTN","ICDTLB3B")
0^19^B21430728
"RTN","ICDTLB3B",1,0)
ICDTLB3B ;ALB/EG - GROUPER UTILITY FUNCTIONS FY 2006; 10/23/00 11:48am ; 6/28/05 4:03pm
"RTN","ICDTLB3B",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 20, 2000
"RTN","ICDTLB3B",3,0)
DRG164 S ICDRG=$S(ICDPD["X"&(ICDCC):164,ICDPD["X":165,ICDCC:166,1:167) Q
"RTN","ICDTLB3B",4,0)
DRG165 S ICDRG=$S(ICDPD["X"&(ICDCC):164,ICDPD["X":165,ICDCC:166,1:167) Q
"RTN","ICDTLB3B",5,0)
DRG166 S ICDRG=$S(ICDPD["X"&(ICDCC):164,ICDPD["X":165,ICDCC:166,1:167) Q
"RTN","ICDTLB3B",6,0)
DRG167 S ICDRG=$S(ICDPD["X"&(ICDCC):164,ICDPD["X":165,ICDCC:166,1:167) Q
"RTN","ICDTLB3B",7,0)
DRG168 S ICDRG=$S(ICDCC:168,1:169) Q
"RTN","ICDTLB3B",8,0)
DRG169 S ICDRG=$S(ICDCC:168,1:169) Q
"RTN","ICDTLB3B",9,0)
DRG170 S ICDRG=$S(ICDCC:170,1:171) Q
"RTN","ICDTLB3B",10,0)
DRG171 S ICDRG=$S(ICDCC:170,1:171) Q
"RTN","ICDTLB3B",11,0)
DRG172 S ICDRG=$S(ICDCC:172,1:173) Q
"RTN","ICDTLB3B",12,0)
DRG173 S ICDRG=$S(ICDCC:172,1:173) Q
"RTN","ICDTLB3B",13,0)
DRG174 S ICDRG=$S(ICDCC:174,1:175) Q
"RTN","ICDTLB3B",14,0)
DRG175 S ICDRG=$S(ICDCC:174,1:175) Q
"RTN","ICDTLB3B",15,0)
DRG177 S ICDRG=$S(ICDCC:177,1:178) Q
"RTN","ICDTLB3B",16,0)
DRG178 S ICDRG=$S(ICDCC:177,1:178) Q
"RTN","ICDTLB3B",17,0)
DRG180 S ICDRG=$S(ICDCC:180,1:181) Q
"RTN","ICDTLB3B",18,0)
DRG181 S ICDRG=$S(ICDCC:180,1:181) Q
"RTN","ICDTLB3B",19,0)
DRG182 S ICDRG=$S(AGE<18:184,ICDCC:182,1:183) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",20,0)
 Q
"RTN","ICDTLB3B",21,0)
DRG183 S ICDRG=$S(AGE<18:184,ICDCC:182,1:183) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",22,0)
 Q
"RTN","ICDTLB3B",23,0)
DRG184 S ICDRG=$S(AGE<18:184,ICDCC:182,1:183) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",24,0)
 Q
"RTN","ICDTLB3B",25,0)
DRG185 S ICDRG=$S(ICDOR["e":187,AGE="":470,AGE<18:186,1:185),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB3B",26,0)
DRG186 S ICDRG=$S(ICDOR["e":187,AGE="":470,AGE<18:186,1:185),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB3B",27,0)
DRG187 S ICDRG=$S($D(ICDPDRG(187)):187,$D(ICDPDRG):ICDPDRG,1:"")
"RTN","ICDTLB3B",28,0)
 I ICDRG?.N&(+ICDRG>0) Q
"RTN","ICDTLB3B",29,0)
 I +ICDRG=0 S ICDRG=470 Q
"RTN","ICDTLB3B",30,0)
 S ICDREF=$$RTABLE^ICDREF(+ICDRG,+ICDDATE)
"RTN","ICDTLB3B",31,0)
 I ICDRG["^"&(ICDREF'="") X "D DRG"_+ICDRG_"^"_ICDREF Q
"RTN","ICDTLB3B",32,0)
 S ICDRG=+ICDPDRG
"RTN","ICDTLB3B",33,0)
 Q
"RTN","ICDTLB3B",34,0)
DRG188 S ICDRG=$S(AGE<18:190,ICDCC:188,1:189) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",35,0)
 Q
"RTN","ICDTLB3B",36,0)
DRG189 S ICDRG=$S(AGE<18:190,ICDCC:188,1:189) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",37,0)
 Q
"RTN","ICDTLB3B",38,0)
DRG190 S ICDRG=$S(AGE<18:190,ICDCC:188,1:189) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",39,0)
 Q
"RTN","ICDTLB3B",40,0)
DRG191 S ICDRG=$S(ICDCC:191,1:192) Q
"RTN","ICDTLB3B",41,0)
DRG192 S ICDRG=$S(ICDCC:191,1:192) Q
"RTN","ICDTLB3B",42,0)
DRG193 ;
"RTN","ICDTLB3B",43,0)
 I ICDOR["T"&(ICDOR'["3"!(ICDOR'["h")) D  Q:"195^196^197^198"[ICDRG
"RTN","ICDTLB3B",44,0)
 .I ICDOR["E" S ICDRG=$S(ICDCC:195,1:196) Q
"RTN","ICDTLB3B",45,0)
 .I ICDOR'["E" S ICDRG=$S(ICDCC:197,1:198)
"RTN","ICDTLB3B",46,0)
 I ICDOR["3"!(ICDOR["E") S ICDRG=$S(ICDCC:193,1:194) Q
"RTN","ICDTLB3B",47,0)
 I ICDPD["M"&(ICDOR["h") S ICDRG=199 Q
"RTN","ICDTLB3B",48,0)
 I ICDPD'["M"&(ICDOR["h") S ICDRG=200 Q
"RTN","ICDTLB3B",49,0)
 I ICDPD["M"&(ICDOR'["h") S ICDRG=203 Q
"RTN","ICDTLB3B",50,0)
 S ICDRG=204
"RTN","ICDTLB3B",51,0)
 Q
"RTN","ICDTLB3B",52,0)
DRG194 D DRG193 Q
"RTN","ICDTLB3B",53,0)
DRG195 G:ICDOR["TT" DRG493^ICDTLB6B D DRG193 Q
"RTN","ICDTLB3B",54,0)
DRG196 D DRG193 Q
"RTN","ICDTLB3B",55,0)
DRG197 S ICDRG=$S(ICDCC:197,1:198) Q
"RTN","ICDTLB3B",56,0)
DRG198 S ICDRG=$S(ICDCC:197,1:198) Q
"RTN","ICDTLB3B",57,0)
DRG199 D DRG193 Q
"RTN","ICDTLB3B",58,0)
DRG200 D DRG193 Q
"RTN","ICDTLB3B",59,0)
DRG205 S ICDRG=$S(ICDCC:205,1:206) Q
"RTN","ICDTLB3B",60,0)
DRG206 S ICDRG=$S(ICDCC:205,1:206) Q
"RTN","ICDTLB3B",61,0)
DRG207 S ICDRG=$S(ICDCC:207,1:208) Q
"RTN","ICDTLB3B",62,0)
DRG208 S ICDRG=$S(ICDCC:207,1:208) Q
"RTN","ICDTLB3B",63,0)
DRG209 S ICDRG=$S($F($P(ICDOR,"M",2,99),"M"):471,1:209) Q
"RTN","ICDTLB3B",64,0)
DRG210 S ICDRG=$S(AGE<18:212,ICDCC:210,1:211) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",65,0)
 Q
"RTN","ICDTLB3B",66,0)
DRG211 S ICDRG=$S(AGE<18:212,ICDCC:210,1:211) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",67,0)
 Q
"RTN","ICDTLB3B",68,0)
DRG212 S ICDRG=$S(AGE<18:212,ICDCC:210,1:211) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",69,0)
 Q
"RTN","ICDTLB3B",70,0)
DRG214 Q
"RTN","ICDTLB3B",71,0)
DRG215 Q
"RTN","ICDTLB3B",72,0)
DRG218 S ICDRG=$S(AGE<18:220,ICDCC:218,1:219) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",73,0)
 Q
"RTN","ICDTLB3B",74,0)
DRG219 S ICDRG=$S(AGE<18:220,ICDCC:218,1:219) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",75,0)
 Q
"RTN","ICDTLB3B",76,0)
DRG220 S ICDRG=$S(AGE<18:220,ICDCC:218,1:219) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",77,0)
 Q
"RTN","ICDTLB3B",78,0)
DRG221 Q
"RTN","ICDTLB3B",79,0)
DRG222 Q
"RTN","ICDTLB3B",80,0)
DRG224 S ICDRG=$S(ICDCC:223,1:224) Q
"RTN","ICDTLB3B",81,0)
DRG226 S ICDRG=$S(ICDCC:226,1:227) Q
"RTN","ICDTLB3B",82,0)
DRG227 S ICDRG=$S(ICDCC:226,1:227) Q
"RTN","ICDTLB3B",83,0)
DRG228 S ICDRG=$S(ICDOR["O2":228,ICDCC:228,1:229) Q
"RTN","ICDTLB3B",84,0)
DRG229 S ICDRG=$S(ICDOR["O2":228,ICDCC:228,1:229) Q
"RTN","ICDTLB3B",85,0)
DRG232 S ICDRG=232 Q
"RTN","ICDTLB3B",86,0)
DRG233 S ICDRG=$S(ICDCC:233,1:234) Q
"RTN","ICDTLB3B",87,0)
DRG234 S ICDRG=$S(ICDCC:233,1:234) Q
"RTN","ICDTLB3B",88,0)
DRG240 S ICDRG=$S(ICDCC:240,1:241) Q
"RTN","ICDTLB3B",89,0)
DRG241 S ICDRG=$S(ICDCC:240,1:241) Q
"RTN","ICDTLB3B",90,0)
DRG244 S ICDRG=$S(ICDCC:244,1:245) Q
"RTN","ICDTLB3B",91,0)
DRG245 S ICDRG=$S(ICDCC:244,1:245) Q
"RTN","ICDTLB3B",92,0)
DRG250 S ICDRG=$S(AGE<18:252,ICDCC:250,1:251) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",93,0)
 Q
"RTN","ICDTLB3B",94,0)
DRG251 S ICDRG=$S(AGE<18:252,ICDCC:250,1:251) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",95,0)
 Q
"RTN","ICDTLB3B",96,0)
DRG252 S ICDRG=$S(AGE<18:252,ICDCC:250,1:251) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",97,0)
 Q
"RTN","ICDTLB3B",98,0)
DRG253 S ICDRG=$S(AGE<18:255,ICDCC:253,1:254) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",99,0)
 Q
"RTN","ICDTLB3B",100,0)
DRG254 S ICDRG=$S(AGE<18:255,ICDCC:253,1:254) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",101,0)
 Q
"RTN","ICDTLB3B",102,0)
DRG255 S ICDRG=$S(AGE<18:255,ICDCC:253,1:254) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB3B",103,0)
 Q
"RTN","ICDTLB3B",104,0)
DRG256 S ICDRG=256 Q
"RTN","ICDTLB3B",105,0)
DRG257 I ICDOR'=""&(ICDOR["M") D
"RTN","ICDTLB3B",106,0)
 .S ICDRG=$S(ICDPD["r"&(ICDCC):257,ICDSD["r"&(ICDCC):257,ICDPD["r":258,ICDSD["r":258,1:"")
"RTN","ICDTLB3B",107,0)
 S:ICDRG="" ICDRG=261
"RTN","ICDTLB3B",108,0)
 Q
"RTN","ICDTLB3B",109,0)
DRG258 D DRG257 Q
"RTN","ICDTLB3B",110,0)
DRG259 I ICDOR'=""&(ICDOR["m") D
"RTN","ICDTLB3B",111,0)
 .S ICDRG=$S(ICDPD["r"&(ICDCC):259,ICDSD["r"&(ICDCC):259,ICDPD["r":260,ICDSD["r":260,ICDOR["L":262,1:"")
"RTN","ICDTLB3B",112,0)
 .I $D(ICDOP("85.12 "))!$D(ICDOP("85.20 "))!$D(ICDOP("85.21 ")) S ICDRG=262
"RTN","ICDTLB3B",113,0)
 S:ICDRG="" ICDRG=261
"RTN","ICDTLB3B",114,0)
 Q
"RTN","ICDTLB3B",115,0)
DRG260 D DRG259 Q
"RTN","ICDTLB3B",116,0)
DRG262 D DRG259 Q
"RTN","ICDTLB4B")
0^20^B17888498
"RTN","ICDTLB4B",1,0)
ICDTLB4B ;ALB/EG - GROUPER UTILITY FUNCTIONS FY 2006; 10/23/00 11:48am ; 6/28/05 4:04pm
"RTN","ICDTLB4B",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 20, 2000
"RTN","ICDTLB4B",3,0)
DRG263 S ICDRG=$S(ICDPD["U"&(ICDCC):263,ICDPD["U":264,ICDCC:265,1:266) Q
"RTN","ICDTLB4B",4,0)
DRG264 S ICDRG=$S(ICDPD["U"&(ICDCC):263,ICDPD["U":264,ICDCC:265,1:266) Q
"RTN","ICDTLB4B",5,0)
DRG265 S ICDRG=$S(ICDPD["U"&(ICDCC):263,ICDPD["U":264,ICDCC:265,1:266) Q
"RTN","ICDTLB4B",6,0)
DRG266 S ICDRG=$S(ICDPD["U"&(ICDCC):263,ICDPD["U":264,ICDCC:265,1:266) Q
"RTN","ICDTLB4B",7,0)
DRG269 S ICDRG=$S(ICDCC:269,1:270) Q
"RTN","ICDTLB4B",8,0)
DRG270 S ICDRG=$S(ICDCC:269,1:270) Q
"RTN","ICDTLB4B",9,0)
DRG272 S ICDRG=$S(ICDCC:272,1:273) Q
"RTN","ICDTLB4B",10,0)
DRG273 S ICDRG=$S(ICDCC:272,1:273) Q
"RTN","ICDTLB4B",11,0)
DRG274 S ICDRG=$S(ICDCC:274,1:275) Q
"RTN","ICDTLB4B",12,0)
DRG275 S ICDRG=$S(ICDCC:274,1:275) Q
"RTN","ICDTLB4B",13,0)
DRG277 S ICDRG=$S(AGE<18:279,ICDCC:277,1:278) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",14,0)
 Q
"RTN","ICDTLB4B",15,0)
DRG278 D DRG277 Q
"RTN","ICDTLB4B",16,0)
 Q
"RTN","ICDTLB4B",17,0)
DRG279 D DRG277 Q
"RTN","ICDTLB4B",18,0)
 Q
"RTN","ICDTLB4B",19,0)
DRG280 S ICDRG=$S(AGE<18:282,ICDCC:280,1:281) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",20,0)
 Q
"RTN","ICDTLB4B",21,0)
DRG281 S ICDRG=$S(AGE<18:282,ICDCC:280,1:281) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",22,0)
 Q
"RTN","ICDTLB4B",23,0)
DRG282 S ICDRG=$S(AGE<18:282,ICDCC:280,1:281) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",24,0)
 Q
"RTN","ICDTLB4B",25,0)
DRG283 S ICDRG=$S('$D(ICDODRG)&(ICDORNR>0):468,ICDCC=1:283,1:284) Q
"RTN","ICDTLB4B",26,0)
DRG284 S ICDRG=$S('$D(ICDODRG)&(ICDORNR>0):468,ICDCC:283,1:284) Q
"RTN","ICDTLB4B",27,0)
DRG292 S ICDRG=$S($D(ICDOP(" 55.69")):302,ICDCC:292,1:293) Q
"RTN","ICDTLB4B",28,0)
DRG293 S ICDRG=$S($D(ICDOP(" 55.69")):302,ICDCC:292,1:293) Q
"RTN","ICDTLB4B",29,0)
DRG294 S ICDRG=$S(AGE<36:295,1:294) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",30,0)
 Q
"RTN","ICDTLB4B",31,0)
DRG295 S ICDRG=$S(AGE<36:295,1:294) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",32,0)
 Q
"RTN","ICDTLB4B",33,0)
DRG296 S ICDRG=$S(AGE<18:298,ICDCC:296,1:297) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",34,0)
 Q
"RTN","ICDTLB4B",35,0)
DRG297 S ICDRG=$S(AGE<18:298,ICDCC:296,1:297) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",36,0)
 Q
"RTN","ICDTLB4B",37,0)
DRG298 S ICDRG=$S(AGE<18:298,ICDCC:296,1:297) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",38,0)
 Q
"RTN","ICDTLB4B",39,0)
DRG299 S ICDRG=299 Q
"RTN","ICDTLB4B",40,0)
DRG300 S ICDRG=$S(ICDCC:300,1:301) Q
"RTN","ICDTLB4B",41,0)
DRG301 S ICDRG=$S(ICDCC:300,1:301) Q
"RTN","ICDTLB4B",42,0)
DRG302 S ICDRG=$S($D(ICDOP(" 55.69")):302,1:ICDRG) Q
"RTN","ICDTLB4B",43,0)
DRG303 S ICDRG=$S(ICDPD["M":303,ICDCC:304,1:305) Q
"RTN","ICDTLB4B",44,0)
DRG304 S ICDRG=$S(ICDPD["M":303,ICDCC:304,1:305) Q
"RTN","ICDTLB4B",45,0)
DRG305 S ICDRG=$S(ICDPD["M":303,ICDCC:304,1:305) Q
"RTN","ICDTLB4B",46,0)
DRG306 S ICDRG=$S($D(ICDODRG(308))!($D(ICDODRG(309))):$S(ICDCC:308,1:309),ICDCC:306,1:307) Q
"RTN","ICDTLB4B",47,0)
DRG307 S ICDRG=$S($D(ICDODRG(308))!($D(ICDODRG(309))):$S(ICDCC:308,1:309),ICDCC:306,1:307) Q
"RTN","ICDTLB4B",48,0)
DRG308 S ICDRG=$S($D(ICDODRG(308))!($D(ICDODRG(309))):$S(ICDCC:308,1:309),ICDCC:306,1:307) Q
"RTN","ICDTLB4B",49,0)
DRG309 S ICDRG=$S($D(ICDODRG(308))!($D(ICDODRG(309))):$S(ICDCC:308,1:309),ICDCC:306,1:307) Q
"RTN","ICDTLB4B",50,0)
DRG310 S ICDRG=$S(ICDCC:310,1:311) Q
"RTN","ICDTLB4B",51,0)
DRG311 S ICDRG=$S(ICDCC:310,1:311) Q
"RTN","ICDTLB4B",52,0)
DRG312 S ICDRG=$S(AGE<18:314,ICDCC:312,1:313) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",53,0)
 Q
"RTN","ICDTLB4B",54,0)
DRG313 S ICDRG=$S(AGE<18:314,ICDCC:312,1:313) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",55,0)
 Q
"RTN","ICDTLB4B",56,0)
DRG314 S ICDRG=$S(AGE<18:314,ICDCC:312,1:313) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",57,0)
 Q
"RTN","ICDTLB4B",58,0)
DRG315 I ICDORNI["V"&($D(ICDOP(" 86.07")))!((ICDDX(1)=$O(^ICD9("AB","250.41 ",0))!(ICDDX(1)=$O(^ICD9("AB","250.43 ",0))))&($D(ICDOP(" 52.84"))!$D(ICDOP(" 52.85")))) S ICDDRG=315
"RTN","ICDTLB4B",59,0)
 Q
"RTN","ICDTLB4B",60,0)
DRG318 S ICDRG=$S(ICDCC:318,1:319) Q
"RTN","ICDTLB4B",61,0)
DRG319 S ICDRG=$S(ICDCC:318,1:319) Q
"RTN","ICDTLB4B",62,0)
DRG320 S ICDRG=$S(AGE<18:322,ICDCC:320,1:321) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",63,0)
 Q
"RTN","ICDTLB4B",64,0)
DRG321 S ICDRG=$S(AGE<18:322,ICDCC:320,1:321) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",65,0)
 Q
"RTN","ICDTLB4B",66,0)
DRG322 S ICDRG=$S(AGE<18:322,ICDCC:320,1:321) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",67,0)
 Q
"RTN","ICDTLB4B",68,0)
DRG323 S ICDRG=$S('$D(ICDPDRG(323)):"",ICDCC!($D(ICDOP(" 98.51")))!($D(ICDSDRG(323))):323,1:324) Q
"RTN","ICDTLB4B",69,0)
DRG324 S ICDRG=$S(ICDCC!($D(ICDOP(" 98.51")))!($D(ICDSDRG(323))):323,1:324) Q
"RTN","ICDTLB4B",70,0)
DRG325 S ICDRG=$S(AGE<18:327,ICDCC:325,1:326) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",71,0)
 Q
"RTN","ICDTLB4B",72,0)
DRG326 S ICDRG=$S(AGE<18:327,ICDCC:325,1:326) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",73,0)
 Q
"RTN","ICDTLB4B",74,0)
DRG327 S ICDRG=$S(AGE<18:327,ICDCC:325,1:326) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",75,0)
 Q
"RTN","ICDTLB4B",76,0)
DRG328 S ICDRG=$S(AGE<18:330,ICDCC:328,1:329) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",77,0)
 Q
"RTN","ICDTLB4B",78,0)
DRG329 S ICDRG=$S(AGE<18:330,ICDCC:328,1:329) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",79,0)
 Q
"RTN","ICDTLB4B",80,0)
DRG330 S ICDRG=$S(AGE<18:330,ICDCC:328,1:329) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",81,0)
 Q
"RTN","ICDTLB4B",82,0)
DRG331 S ICDRG=$S(AGE<18:333,ICDCC:331,1:332) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",83,0)
 Q
"RTN","ICDTLB4B",84,0)
DRG332 S ICDRG=$S(AGE<18:333,ICDCC:331,1:332) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",85,0)
 Q
"RTN","ICDTLB4B",86,0)
DRG333 S ICDRG=$S(AGE<18:333,ICDCC:331,1:332) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB4B",87,0)
 Q
"RTN","ICDTLB5B")
0^21^B21200427
"RTN","ICDTLB5B",1,0)
ICDTLB5B ;ALB/EG/ADL - GROUPER UTILITY FUNCTIONS FY 2006; 10/23/00 11:49am ; 6/28/05 4:05pm
"RTN","ICDTLB5B",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 20, 2000
"RTN","ICDTLB5B",3,0)
 ;;ADL;UPDATE FOR CSV PROJECT;Mar 12, 2003
"RTN","ICDTLB5B",4,0)
DRG334 S ICDRG=$S(ICDCC:334,1:335) Q
"RTN","ICDTLB5B",5,0)
DRG335 S ICDRG=$S(ICDCC:334,1:335) Q
"RTN","ICDTLB5B",6,0)
DRG336 S ICDRG=$S(ICDCC:336,1:337) Q
"RTN","ICDTLB5B",7,0)
DRG337 S ICDRG=$S(ICDCC:336,1:337) Q
"RTN","ICDTLB5B",8,0)
DRG338 I SEX="M" D  Q
"RTN","ICDTLB5B",9,0)
 .S ICDRG=$S(ICDPD["M":338,AGE="":470,AGE>17:339,SEX="":470,1:340),ICDRTC=$S(ICDRG=470:3,SEX="":4,1:ICDRTC) Q
"RTN","ICDTLB5B",10,0)
 I SEX="F" D  Q
"RTN","ICDTLB5B",11,0)
 .I ICDOR["O" D DRG354 Q
"RTN","ICDTLB5B",12,0)
 .I ICDOR["Ogz" D DRG363 Q
"RTN","ICDTLB5B",13,0)
 .I ICDOR=""!(ICDOR["N") D DRG366
"RTN","ICDTLB5B",14,0)
 Q
"RTN","ICDTLB5B",15,0)
DRG339 D DRG338 Q
"RTN","ICDTLB5B",16,0)
DRG340 D DRG338 Q
"RTN","ICDTLB5B",17,0)
DRG342 S ICDRG=$S(AGE>17:342,1:343) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB5B",18,0)
 Q
"RTN","ICDTLB5B",19,0)
DRG343 S ICDRG=$S(AGE>17:342,1:343) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB5B",20,0)
 Q
"RTN","ICDTLB5B",21,0)
DRG344 S ICDRG=$S(ICDPD["M":344,1:345) Q
"RTN","ICDTLB5B",22,0)
DRG345 S ICDRG=$S(ICDPD["M":344,1:345) Q
"RTN","ICDTLB5B",23,0)
DRG346 S ICDRG=$S(ICDCC:346,1:347) I ICDMDC=13 S ICDRG=$S(ICDRG=346:366,1:367)
"RTN","ICDTLB5B",24,0)
 Q
"RTN","ICDTLB5B",25,0)
DRG347 S ICDRG=$S(ICDCC:346,1:347) I ICDMDC=13 S ICDRG=$S(ICDRG=346:366,1:367)
"RTN","ICDTLB5B",26,0)
 Q
"RTN","ICDTLB5B",27,0)
DRG348 S ICDRG=$S(ICDCC:348,1:349) Q
"RTN","ICDTLB5B",28,0)
DRG349 S ICDRG=$S(ICDCC:348,1:349) Q
"RTN","ICDTLB5B",29,0)
DRG350 S ICDRG=$S(SEX="M":350,1:368) I SEX="" S ICDRG=470,ICDRTC=4
"RTN","ICDTLB5B",30,0)
 Q
"RTN","ICDTLB5B",31,0)
DRG351 S ICDRG=$S('$D(ICDODRG)&(ICDORNR>0):468,SEX="":470,SEX="F":369,1:351),ICDRTC=$S(ICDRG=470:4,1:ICDRTC) Q
"RTN","ICDTLB5B",32,0)
DRG352 S ICDRG=$S(SEX="M":352,ICDPD["P":368,1:369) I SEX="" S ICDRG=470,ICDRTC=4
"RTN","ICDTLB5B",33,0)
 Q
"RTN","ICDTLB5B",34,0)
DRG354 S ICDRG=$S(ICDPD["M":$S(ICDPD["o":357,ICDCC:354,1:355),ICDCC:358,1:359) Q
"RTN","ICDTLB5B",35,0)
DRG355 D DRG354 Q
"RTN","ICDTLB5B",36,0)
DRG357 S ICDRG=$S(ICDPD["M":$S(ICDPD["o":357,ICDCC:354,1:355),ICDCC:358,1:359) D:'ICDOPCT DRG368 Q
"RTN","ICDTLB5B",37,0)
DRG358 D DRG357 Q
"RTN","ICDTLB5B",38,0)
DRG359 D DRG357 Q
"RTN","ICDTLB5B",39,0)
DRG363 S ICDRG=$S(ICDPD["M":363,1:364) Q
"RTN","ICDTLB5B",40,0)
DRG364 S ICDRG=$S(ICDPD["M":363,1:364) Q
"RTN","ICDTLB5B",41,0)
DRG366 S ICDRG=$S(ICDCC:366,1:367) Q
"RTN","ICDTLB5B",42,0)
DRG367 S ICDRG=$S(ICDCC:366,1:367) Q
"RTN","ICDTLB5B",43,0)
DRG368 S ICDRG=$S(SEX="F":368,1:470) I SEX="" S ICDRG=470,ICDRTC=4
"RTN","ICDTLB5B",44,0)
 Q
"RTN","ICDTLB5B",45,0)
DRG369 S ICDRG=$S(SEX="F":369,1:470) I SEX="" S ICDRTC=4 Q
"RTN","ICDTLB5B",46,0)
DRG370 S ICDRG=$S(ICDOR["c"&(ICDCC):370,ICDOR["c":371,ICDOR'["s"&(ICDOR'["g")&(ICDSD["v"!(ICDPD["v")):372,ICDOR'["s"&(ICDOR'["g"):373,ICDOR["s":374,ICDOR["g":375,1:470) Q
"RTN","ICDTLB5B",47,0)
DRG371 S ICDRG=$S(ICDPD["D"&(ICDCC):370,ICDPD["D":371,1:469) I $D(ICDOR)<11!(ICDOR["n") D DRG372
"RTN","ICDTLB5B",48,0)
 Q
"RTN","ICDTLB5B",49,0)
DRG372 S ICDRG=$S(ICDPD["v"!(ICDSD["v"):372,ICDOR["s":374,ICDOR["g":375,1:373) Q
"RTN","ICDTLB5B",50,0)
DRG373 S ICDRG=$S(ICDPD["D"&(ICDPD["v"!(ICDPD["D"&(ICDSD["v"))):372,1:373) Q
"RTN","ICDTLB5B",51,0)
DRG374 S ICDRG=$S($D(ICDPDRG(374)):374,1:"") Q
"RTN","ICDTLB5B",52,0)
DRG375 S ICDRG=$S(ICDPD["D"!(ICDSD["D"):375,1:"") Q
"RTN","ICDTLB5B",53,0)
DRG376 S ICDRG=$S(ICDOR["O":377,1:376) Q
"RTN","ICDTLB5B",54,0)
DRG377 S ICDRG=$S(ICDOR["O":377,1:376) Q
"RTN","ICDTLB5B",55,0)
DRG380 S ICDRG=$S(ICDOR["d":381,1:380) Q
"RTN","ICDTLB5B",56,0)
DRG381 S ICDRG=$S('$D(ICDPDRG(381)):"",ICDOR["d":381,1:380) Q
"RTN","ICDTLB5B",57,0)
DRG383 S ICDRG=$S(ICDPD["F"&(ICDSD["u"):383,ICDSD["u"!(ICDPD["v"):383,ICDPD["u":383,1:384) Q
"RTN","ICDTLB5B",58,0)
DRG384 D DRG383 Q
"RTN","ICDTLB5B",59,0)
DRG387 ;
"RTN","ICDTLB5B",60,0)
 S ICDRG=$S(ICDPD["E":386,ICDSD["E":386,ICDPD["Hp"&(ICDSD["J"):387,ICDPD["J"&(ICDSD["Hp"):387,ICDPD["p"!(ICDSD["p")&((ICDPD'["J")!(ICDSD'["J")):388,1:"") D:ICDRG="" DRG389 Q
"RTN","ICDTLB5B",61,0)
DRG388 D DRG387 Q
"RTN","ICDTLB5B",62,0)
DRG389 S ICDRG=$S(ICDPD["HR"&(ICDSD["J"):389,ICDPD["J"&(ICDSD["HR"):389,ICDSD["J":389,ICDPD["J":389,'$D(ICDODRG)&('$D(ICDSDRG)):391,1:390) D:ICDRG=391 DRG391 Q
"RTN","ICDTLB5B",63,0)
DRG390 D DRG389 Q
"RTN","ICDTLB5B",64,0)
DRG391 S ICDRG=$S(ICDPD["E"!(ICDSD["E"):386,ICDPD["J"&(ICDPD["p"):387,ICDSD["J"&(ICDSD["p"):387,ICDPD["p"&(ICDPD'["J"):388,ICDSD["p"&(ICDSD'["J"):388,ICDPD["J"!(ICDSD["J"):389,1:"") I ICDRG'="" Q
"RTN","ICDTLB5B",65,0)
 I ICDPD["R" D  Q:ICDRG=391
"RTN","ICDTLB5B",66,0)
 .I '$D(ICDDX(2)) S ICDRG=391 Q
"RTN","ICDTLB5B",67,0)
 .;ALL SECONDARIES CONTAIN "R", DRG=>391
"RTN","ICDTLB5B",68,0)
 .N I
"RTN","ICDTLB5B",69,0)
 .F I=1:1 Q:'$D(ICDDX(I))  S ICDRG=$S($P($$ICDDX^ICDCODE(ICDDX(1),ICDDATE),"^",3)["R":391,1:390) Q:ICDRG=390
"RTN","ICDTLB5B",70,0)
 I ICDSD["R"&('$D(ICDDX(3))) S ICDRG=391 Q
"RTN","ICDTLB5B",71,0)
 S ICDRG=390
"RTN","ICDTLB5B",72,0)
 Q
"RTN","ICDTLB5B",73,0)
DRG392 S ICDRG=$S(AGE>17:392,1:393) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB5B",74,0)
 Q
"RTN","ICDTLB5B",75,0)
DRG393 S ICDRG=$S(AGE>17:392,1:393) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB5B",76,0)
 Q
"RTN","ICDTLB5B",77,0)
DRG395 S ICDRG=$S(AGE>17:395,1:396) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB5B",78,0)
 Q
"RTN","ICDTLB5B",79,0)
DRG396 S ICDRG=$S(AGE>17:395,1:396) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB5B",80,0)
 Q
"RTN","ICDTLB5B",81,0)
DRG398 S ICDRG=$S(ICDCC:398,1:399) Q
"RTN","ICDTLB5B",82,0)
DRG399 S ICDRG=$S(ICDCC:398,1:399) Q
"RTN","ICDTLB5B",83,0)
DRG400 I ICDPD["L"&(ICDMAJ'[3) D DRG401 Q:"401^402^403^404^405^470^473"[ICDRG
"RTN","ICDTLB5B",84,0)
 S ICDRG=$S(ICDPD["L":400,ICDCC:406,1:407) Q
"RTN","ICDTLB5B",85,0)
DRG401 S ICDRG=$S(ICDPD["l":$S(AGE="":470,AGE<18:405,1:473),ICDOR["O"!(ICDORNI["O"):$S(ICDCC:401,1:402),ICDCC:403,1:404),ICDRTC=$S(ICDRG=470:3,1:ICDRTC)
"RTN","ICDTLB5B",86,0)
 Q
"RTN","ICDTLB5B",87,0)
DRG402 D DRG401
"RTN","ICDTLB5B",88,0)
 Q
"RTN","ICDTLB6B")
0^22^B50884849
"RTN","ICDTLB6B",1,0)
ICDTLB6B ;ALB/EG/MRY - GROUPER UTILITY FUNCTIONS FY 2006; 9/29/03 2:47pm ; 6/28/05 4:06pm
"RTN","ICDTLB6B",2,0)
 ;;18.0;DRG Grouper;**20**;Oct 20, 2000
"RTN","ICDTLB6B",3,0)
DRG403 S ICDRG=$S(ICDPD["l":$S(AGE="":470,AGE<18:405,1:473),ICDOR["O"!(ICDORNI["O"):$S(ICDCC:401,1:402),ICDCC:403,1:404),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB6B",4,0)
DRG404 S ICDRG=$S(ICDPD["l":$S(AGE="":470,AGE<18:405,1:473),ICDOR["O"!(ICDORNI["O"):$S(ICDCC:401,1:402),ICDCC:403,1:404),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB6B",5,0)
DRG405 D DRG404 Q
"RTN","ICDTLB6B",6,0)
DRG406 ;
"RTN","ICDTLB6B",7,0)
 I ICDORNI["K" D
"RTN","ICDTLB6B",8,0)
 .S ICDRG=$S((ICDPD["L")&(ICDCC):539,ICDPD["L":540,ICDCC:406,1:407)
"RTN","ICDTLB6B",9,0)
 I ICDORNI'["K" D DRG408
"RTN","ICDTLB6B",10,0)
 Q
"RTN","ICDTLB6B",11,0)
DRG407 D DRG406 Q
"RTN","ICDTLB6B",12,0)
DRG408 I $D(ICDDX(1))&(ICDOPCT=0) D  Q:ICDRG=409
"RTN","ICDTLB6B",13,0)
 .I ICDDX(1)=$O(^ICD9("AB","V58.0 ",0)) S ICDRG=409 Q
"RTN","ICDTLB6B",14,0)
 .I ICDDX(1)=$O(^ICD9("AB","V67.1 ",0)) S ICDRG=409 Q
"RTN","ICDTLB6B",15,0)
 .Q
"RTN","ICDTLB6B",16,0)
 I $D(ICDDX(1))&(ICDOPCT=0) D  Q:"410^492"[ICDRG
"RTN","ICDTLB6B",17,0)
 .I ICDDX(1)=$O(^ICD9("AB","V58.1 ",0)) S ICDRG=$S(ICDSD["2":492,1:410) Q
"RTN","ICDTLB6B",18,0)
 .I ICDDX(1)=$O(^ICD9("AB","V67.2 ",0)) S ICDRG=$S(ICDSD["2":492,1:410) Q
"RTN","ICDTLB6B",19,0)
 I ICDOPCT>0 S ICDRG=$S(ICDPD'["L":408,ICDCC:401,1:402) Q
"RTN","ICDTLB6B",20,0)
 I ICDOPCT=0 D DRG412
"RTN","ICDTLB6B",21,0)
 Q
"RTN","ICDTLB6B",22,0)
DRG411 S ICDRG=$S(ICDOR["O"!(ICDORNI["O"):408,ICDOR["N":412,1:411) Q
"RTN","ICDTLB6B",23,0)
DRG412 ;S ICDRG=$S(ICDOR["O"!(ICDORNI["O"):408,ICDOR["N"&($D(ICDPDRG(412))):412,$D(ICDPDRG(411)):411,ICDCC:413,1:414)
"RTN","ICDTLB6B",24,0)
 I ICDOPCT>0 D DRG408 Q
"RTN","ICDTLB6B",25,0)
 D DRG412^ICDTLB61
"RTN","ICDTLB6B",26,0)
 Q
"RTN","ICDTLB6B",27,0)
DRG413 S ICDRG=$S(ICDCC:413,1:414) Q
"RTN","ICDTLB6B",28,0)
DRG414 S ICDRG=$S(ICDCC:413,1:414) Q
"RTN","ICDTLB6B",29,0)
DRG416 S ICDRG=$S(ICDOR["O":415,AGE="":470,AGE>17:416,1:417),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB6B",30,0)
DRG417 S ICDRG=$S(ICDOR["O":415,AGE="":470,AGE>17:416,1:417),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB6B",31,0)
DRG418 S ICDRG=$S(ICDOR["O":415,1:418) Q
"RTN","ICDTLB6B",32,0)
DRG419 S ICDRG=$S(ICDOR["O":415,AGE="":470,AGE<18:422,ICDCC:419,1:420),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB6B",33,0)
DRG420 S ICDRG=$S(ICDOR["O":415,AGE="":470,AGE<18:422,ICDCC:419,1:420),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB6B",34,0)
DRG421 S ICDRG=$S(ICDOR["O":415,AGE="":470,AGE>17:421,1:422),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB6B",35,0)
DRG422 S ICDRG=$S(ICDOR["O":415,AGE="":470,AGE>17:421,1:422),ICDRTC=$S(ICDRG=470:3,1:ICDRTC) Q
"RTN","ICDTLB6B",36,0)
DRG423 S ICDRG=$S(ICDOR["O":415,1:423) Q
"RTN","ICDTLB6B",37,0)
DRG424 S ICDRG=$S(ICDOR["O":424,1:425) Q
"RTN","ICDTLB6B",38,0)
DRG425 S ICDRG=$S(ICDOR["O":424,1:425) Q
"RTN","ICDTLB6B",39,0)
DRG426 S ICDRG=$S(ICDOR["O":424,1:426) Q
"RTN","ICDTLB6B",40,0)
DRG427 S ICDRG=$S(ICDOR["O":424,1:427) Q
"RTN","ICDTLB6B",41,0)
DRG428 S ICDRG=$S(ICDOR["O":424,1:428) Q
"RTN","ICDTLB6B",42,0)
DRG429 S ICDRG=$S(ICDOR["O":424,1:429) Q
"RTN","ICDTLB6B",43,0)
DRG430 S ICDRG=$S(ICDOR["O":424,1:430) Q
"RTN","ICDTLB6B",44,0)
DRG431 S ICDRG=$S(ICDOR["O":424,1:431) Q
"RTN","ICDTLB6B",45,0)
DRG432 S ICDRG=$S(ICDOR["O":424,1:432) Q
"RTN","ICDTLB6B",46,0)
DRG434 S ICDRG=$S(ICDPD["t"!(ICDSD["t"):$S(ICDOR["D":437,ICDOR["R":436,ICDCC:434,1:435),ICDCC:434,1:435) Q
"RTN","ICDTLB6B",47,0)
DRG435 S ICDRG=$S(ICDPD["t"!(ICDSD["t"):$S(ICDOR["D":437,ICDOR["R":436,ICDCC:434,1:435),ICDCC:434,1:435) Q
"RTN","ICDTLB6B",48,0)
DRG436 S ICDRG=$S(ICDPD["t"!(ICDSD["t"):$S(ICDOR["D":437,ICDOR["R":436,ICDCC:434,1:435),ICDCC:434,1:435) Q
"RTN","ICDTLB6B",49,0)
DRG437 S ICDRG=$S(ICDPD["t"!(ICDSD["t"):$S(ICDOR["D":437,ICDOR["R":436,ICDCC:434,1:435),ICDCC:434,1:435) Q
"RTN","ICDTLB6B",50,0)
DRG439 S ICDRG=$S($D(ICDODRG(440)):440,1:439) Q
"RTN","ICDTLB6B",51,0)
DRG442 S ICDRG=$S(ICDCC:442,1:443) Q
"RTN","ICDTLB6B",52,0)
DRG443 D EN1^ICDDRG5 S ICDRG=$S(ICDCC3:$S(ICDCC:442,1:443),1:"") Q
"RTN","ICDTLB6B",53,0)
DRG444 S ICDRG=$S(AGE<18:446,ICDCC:444,1:445) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB6B",54,0)
 Q
"RTN","ICDTLB6B",55,0)
DRG445 S ICDRG=$S(AGE<18:446,ICDCC:444,1:445) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB6B",56,0)
 Q
"RTN","ICDTLB6B",57,0)
DRG446 S ICDRG=$S(AGE<18:446,ICDCC:444,1:445) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB6B",58,0)
 Q
"RTN","ICDTLB6B",59,0)
DRG447 S ICDRG=$S(AGE>17:447,1:448) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB6B",60,0)
 Q
"RTN","ICDTLB6B",61,0)
DRG448 S ICDRG=$S(AGE>17:447,1:448) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB6B",62,0)
 Q
"RTN","ICDTLB6B",63,0)
DRG449 S ICDRG=$S(AGE<18:451,ICDCC:449,1:450) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB6B",64,0)
 Q
"RTN","ICDTLB6B",65,0)
DRG450 S ICDRG=$S(AGE<18:451,ICDCC:449,1:450) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB6B",66,0)
 Q
"RTN","ICDTLB6B",67,0)
DRG451 S ICDRG=$S(AGE<18:451,ICDCC:449,1:450) I AGE="" S ICDRG=470,ICDRTC=3
"RTN","ICDTLB6B",68,0)
 Q
"RTN","ICDTLB6B",69,0)
DRG452 S ICDRG=$S(ICDCC:452,1:453) Q
"RTN","ICDTLB6B",70,0)
DRG453 S ICDRG=$S(ICDCC:452,1:453) Q
"RTN","ICDTLB6B",71,0)
DRG454 S ICDRG=$S(ICDCC:454,1:455) Q
"RTN","ICDTLB6B",72,0)
DRG455 S ICDRG=$S(ICDCC:454,1:455) Q
"RTN","ICDTLB6B",73,0)
DRG462 S ICDRG=$S(ICDOR["O":461,1:462) Q
"RTN","ICDTLB6B",74,0)
DRG463 S ICDRG=$S(ICDOR["O":461,ICDCC:463,1:464) Q
"RTN","ICDTLB6B",75,0)
DRG464 S ICDRG=$S(ICDOR["O":461,ICDCC:463,1:464) Q
"RTN","ICDTLB6B",76,0)
DRG465 S ICDRG=$S(ICDOR["O":461,ICDSD["m":465,1:466) Q
"RTN","ICDTLB6B",77,0)
DRG466 S ICDRG=$S(ICDOR["O":461,ICDSD["m":465,1:466) Q
"RTN","ICDTLB6B",78,0)
DRG467 S ICDRG=$S(ICDOR["O":461,1:467) Q
"RTN","ICDTLB6B",79,0)
DRG471 S ICDRG=$S($F($P(ICDOR,"M",2,99),"M"):471,1:"") Q
"RTN","ICDTLB6B",80,0)
DRG475 S ICDRG=$S(ICDOR["V":475,1:$S($D(ICDPDRG):$O(ICDPDRG(0)),1:468)) I ICDRG<468 D DODRG^ICDDRG0
"RTN","ICDTLB6B",81,0)
 Q
"RTN","ICDTLB6B",82,0)
DRG478 S ICDRG=$S(ICDOR["O"&ICDCC:478,1:479)
"RTN","ICDTLB6B",83,0)
 I ICDRG=478 D DRG553^ICDTLB6B
"RTN","ICDTLB6B",84,0)
 Q
"RTN","ICDTLB6B",85,0)
DRG479 G DRG478
"RTN","ICDTLB6B",86,0)
DRG493 ;I (ICDI-1)=1,'ICDCC S ICDCC=$S($D(^ICD9("ACC",ICDDX(1),ICDDX(1))):1,1:0)
"RTN","ICDTLB6B",87,0)
 S ICDRG=$S(ICDCC:493,1:494) Q
"RTN","ICDTLB6B",88,0)
DRG494 ;I (ICD-1),'ICDCC S ICDCC=$S($D(^ICD9("ACC",ICDDX(1),ICDDX(1))):1,1:0)
"RTN","ICDTLB6B",89,0)
 S ICDRG=$S(ICDCC:493,1:494) Q
"RTN","ICDTLB6B",90,0)
DRG495 Q
"RTN","ICDTLB6B",91,0)
DRG496 S ICDRG=$S(ICDOR["F":496,ICDCC:497,1:498)
"RTN","ICDTLB6B",92,0)
     I ICDRG=497!(ICDRG=498) I ICDPD["6" S ICDRG=546 Q
"RTN","ICDTLB6B",93,0)
     I ICDRG=497!(ICDRG=498) I $D(ICDDXT("737.40"))!($D(ICDDXT("737.41")))!($D(ICDDXT("737.42")))!($D(ICDDXT("737.43"))) S ICDRG=546
"RTN","ICDTLB6B",94,0)
     Q 
"RTN","ICDTLB6B",95,0)
DRG497 G DRG496  ;S ICDRG=$S(ICDOR["F":496,ICDCC:497,1:498) Q
"RTN","ICDTLB6B",96,0)
DRG498 G DRG496  ;S ICDRG=$S(ICDOR["F":496,ICDCC:497,1:498) Q
"RTN","ICDTLB6B",97,0)
DRG499 S ICDRG=$S(ICDCC:499,1:500) Q
"RTN","ICDTLB6B",98,0)
DRG500 S ICDRG=$S(ICDCC:499,1:500) Q
"RTN","ICDTLB6B",99,0)
DRG501 D
"RTN","ICDTLB6B",100,0)
 . I (ICDPD["k") D
"RTN","ICDTLB6B",101,0)
 .. I ICDCC S ICDRG=501
"RTN","ICDTLB6B",102,0)
 .. I 'ICDCC S ICDRG=502
"RTN","ICDTLB6B",103,0)
 . E  S ICDRG=503
"RTN","ICDTLB6B",104,0)
 Q
"RTN","ICDTLB6B",105,0)
DRG502 D DRG501 Q
"RTN","ICDTLB6B",106,0)
DRG503 D DRG501 Q
"RTN","ICDTLB6B",107,0)
DRG514 ; Replaced with DRG535
"RTN","ICDTLB6B",108,0)
 N ICDE1,ICDE2
"RTN","ICDTLB6B",109,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0)
"RTN","ICDTLB6B",110,0)
 S ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTLB6B",111,0)
 S ICDRG=470
"RTN","ICDTLB6B",112,0)
 I $D(ICDOP(" 37.94")) I ICDE1+ICDE2=0 S ICDRG=515
"RTN","ICDTLB6B",113,0)
 I '$D(ICDOP(" 37.94")) I ICDE1!ICDE2 S ICDRG=515
"RTN","ICDTLB6B",114,0)
 ; "HN" in ICDOR represents OR proc 37.21-.23, 37.26, 88.52-.58
"RTN","ICDTLB6B",115,0)
 I ICDRG=515 I ICDOR["HN" S ICDRG=514
"RTN","ICDTLB6B",116,0)
 Q
"RTN","ICDTLB6B",117,0)
DRG515 D DRG535 Q
"RTN","ICDTLB6B",118,0)
DRG516 ; DRG 516,517,526 and 527 replaced by DRG 555-558 respectively
"RTN","ICDTLB6B",119,0)
 S ICDRG=518
"RTN","ICDTLB6B",120,0)
 D DRG555
"RTN","ICDTLB6B",121,0)
 I $D(ICDOP(" 36.06"))!$D(ICDOP(" 92.27")) D DRG556
"RTN","ICDTLB6B",122,0)
 I $D(ICDOP(" 36.07")) D DRG557
"RTN","ICDTLB6B",123,0)
 Q
"RTN","ICDTLB6B",124,0)
DRG517 D DRG516 Q
"RTN","ICDTLB6B",125,0)
DRG518 D DRG516 Q
"RTN","ICDTLB6B",126,0)
DRG519 S ICDRG=$S(ICDOR["F":496,ICDCC:519,1:520) Q
"RTN","ICDTLB6B",127,0)
DRG520 D DRG519 Q
"RTN","ICDTLB6B",128,0)
DRG521 S ICDRG=$S(ICDCC:521,ICDOR["D"!(ICDOR["R"):522,1:523) Q
"RTN","ICDTLB6B",129,0)
DRG522 D DRG521 Q
"RTN","ICDTLB6B",130,0)
DRG523 D DRG521 Q
"RTN","ICDTLB6B",131,0)
DRG526 D DRG516 Q
"RTN","ICDTLB6B",132,0)
DRG527 D DRG516 Q
"RTN","ICDTLB6B",133,0)
DRG531 S ICDRG=$S(ICDCC:531,1:532) Q
"RTN","ICDTLB6B",134,0)
DRG532 D DRG531 Q
"RTN","ICDTLB6B",135,0)
DRG533 S ICDRG=$S(ICDCC:533,1:534) Q
"RTN","ICDTLB6B",136,0)
DRG534 D DRG533 Q
"RTN","ICDTLB6B",137,0)
DRG535 N ICDE1,ICDE2,ICDE3
"RTN","ICDTLB6B",138,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTLB6B",139,0)
 S ICDE2=$S($D(ICDOP(" 37.97"))&(($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTLB6B",140,0)
 S ICDE3=$S($D(ICDOP(" 00.52"))&($D(ICDOP(" 00.54"))):1,1:0)
"RTN","ICDTLB6B",141,0)
 ;S ICDE4=$S($D(ICDOP(" 00.54"))&($D(ICDOP(" 37.95"))):1,1:0)
"RTN","ICDTLB6B",142,0)
 S ICDRG=470
"RTN","ICDTLB6B",143,0)
 I $D(ICDOP(" 37.94"))!$D(ICDOP(" 00.51")) I ICDE1+ICDE2+ICDE3=0 S ICDRG=515
"RTN","ICDTLB6B",144,0)
 I '$D(ICDOP(" 37.94"))&('$D(ICDOP(" 00.51"))) I ICDE1!ICDE2!ICDE3 S ICDRG=515
"RTN","ICDTLB6B",145,0)
 ; "HN" in ICDOR represents OR proc 37.21-.23, 37.26, 88.52-.58
"RTN","ICDTLB6B",146,0)
 I ICDRG=515 I ICDOR["HN" I '$D(ICDOP(" 37.26")) S ICDRG=$S(ICDPD["A":535,1:536)
"RTN","ICDTLB6B",147,0)
 I ICDRG=470 D DRG115^ICDTLB2B
"RTN","ICDTLB6B",148,0)
 Q
"RTN","ICDTLB6B",149,0)
DRG536 D DRG535 Q
"RTN","ICDTLB6B",150,0)
DRG537 S ICDRG=$S(ICDCC:537,1:538) Q
"RTN","ICDTLB6B",151,0)
DRG538 D DRG537 Q
"RTN","ICDTLB6B",152,0)
DRG539 I ICDPD["L"&(ICDMAJ'[3) D DRG401^ICDTLB5B Q:"401^402^403^404^405^470^473"[ICDRG
"RTN","ICDTLB6B",153,0)
 S ICDRG=$S((ICDPD["L")&(ICDCC):539,ICDPD["L":540,ICDCC:406,1:407) Q
"RTN","ICDTLB6B",154,0)
DRG540 D DRG539 Q
"RTN","ICDTLB6B",155,0)
DRG543 S ICDRG=$S((ICDPD["Q")&(ICDOR["Q"):543,ICDOR["Q"&$D(ICDOP(" 00.10")):543,1:ICDRG) Q
"RTN","ICDTLB6B",156,0)
DRG544 Q
"RTN","ICDTLB6B",157,0)
DRG545 Q
"RTN","ICDTLB6B",158,0)
DRG546 Q
"RTN","ICDTLB6B",159,0)
DRG547 ; called from DRG106^ICDTLB2B     
"RTN","ICDTLB6B",160,0)
 D MCV
"RTN","ICDTLB6B",161,0)
 S ICDRG=$S(ICDMCV:547,ICDMCV1:547,1:548) Q
"RTN","ICDTLB6B",162,0)
DRG548 G DRG547
"RTN","ICDTLB6B",163,0)
DRG549 ; called from DRG106^ICDTLB2B
"RTN","ICDTLB6B",164,0)
 D MCV
"RTN","ICDTLB6B",165,0)
 S ICDRG=$S(ICDMCV:549,ICDMCV1:549,1:550) Q
"RTN","ICDTLB6B",166,0)
DRG550 G DRG549
"RTN","ICDTLB6B",167,0)
DRG551 ; called from DRG115^ICDTLB2B 
"RTN","ICDTLB6B",168,0)
 D MCV
"RTN","ICDTLB6B",169,0)
 I ICDMCV!(ICDMCV2) S ICDRG=551
"RTN","ICDTLB6B",170,0)
 Q
"RTN","ICDTLB6B",171,0)
DRG552 Q
"RTN","ICDTLB6B",172,0)
DRG553 ; called from DRG478
"RTN","ICDTLB6B",173,0)
 D MCV
"RTN","ICDTLB6B",174,0)
 S ICDRG=$S(ICDMCV:553,ICDMCV1:553,1:554) Q
"RTN","ICDTLB6B",175,0)
DRG554 G DRG553
"RTN","ICDTLB6B",176,0)
DRG555 ; called from DRG516
"RTN","ICDTLB6B",177,0)
 D MCV
"RTN","ICDTLB6B",178,0)
 I ICDMCV!(ICDMCV1) S ICDRG=555
"RTN","ICDTLB6B",179,0)
 Q
"RTN","ICDTLB6B",180,0)
DRG556 ; called from DRG516
"RTN","ICDTLB6B",181,0)
 D MCV
"RTN","ICDTLB6B",182,0)
 I 'ICDMCV&('ICDMCV1) S ICDRG=556
"RTN","ICDTLB6B",183,0)
 Q
"RTN","ICDTLB6B",184,0)
DRG557 ; called from DRG516
"RTN","ICDTLB6B",185,0)
 D MCV
"RTN","ICDTLB6B",186,0)
 I ICDMCV!ICDMCV1 S ICDRG=557
"RTN","ICDTLB6B",187,0)
 E  S ICDRG=558
"RTN","ICDTLB6B",188,0)
 Q
"RTN","ICDTLB6B",189,0)
DRG558 G DRG516
"RTN","ICDTLB6B",190,0)
DRG559 ;I DGDX(1)["433.01"!(DGDX(1)["433.11")!(DGDX(1)["433.21")!(DGDX(1)["433.31")!(DGDX(1)["433.81")!(DGDX(1)["433.91")!(DGDX(1)["434.01")!(DGDX(1)["434.11")!(DGDX(1)["434.91") S ICDRG=559
"RTN","ICDTLB6B",191,0)
 I $G(ICDDX(1))=12856!($G(ICDDX(1))=12858)!($G(ICDDX(1))=12860)!($G(ICDDX(1))=12862)!($G(ICDDX(1))=12864)!($G(ICDDX(1))=12866)!($G(ICDDX(1))=12868)!($G(ICDDX(1))=12870)!($G(ICDDX(1))=12872) S ICDRG=559
"RTN","ICDTLB6B",192,0)
 Q
"RTN","ICDTLB6B",193,0)
MCV ; checks to see if case qualifies as an MCV (major cardiovascular complications or complex conditions)
"RTN","ICDTLB6B",194,0)
 S (ICDMCV,ICDMCV1,ICDMCV2)=0
"RTN","ICDTLB6B",195,0)
 ; ICDPD=identifier for prime dx  ICDSD=identifier for any secondary dx
"RTN","ICDTLB6B",196,0)
 ; DGDX(1)=prime dx  ICDDX(1)=ien of prime dx ICDDXT=any secondary dx  
"RTN","ICDTLB6B",197,0)
 I ICDPD["c"!(ICDSD["c") S ICDMCV=1
"RTN","ICDTLB6B",198,0)
 I ICDSD["s" S ICDMCV=1
"RTN","ICDTLB6B",199,0)
 ;I DGDX(1)["426.0"!(DGDX(1)["426.53")!(DGDX(1)["426.54") S ICDMCV1=1
"RTN","ICDTLB6B",200,0)
 I $G(ICDDX(1))=9056!($G(ICDDX(1))=2548)!($G(ICDDX(1))=2549) S ICDMCV1=1
"RTN","ICDTLB6B",201,0)
 I $D(ICDDXT("426.0"))!($D(ICDDXT("426.53")))!($D(ICDDXT("426.54"))) S ICDMCV1=1
"RTN","ICDTLB6B",202,0)
 ;I DGDX(1)["411.1"!(DGDX(1)["411.81") S ICDMCV2=1
"RTN","ICDTLB6B",203,0)
 I $G(ICDDX(1))=2500!($G(ICDDX(1))=12477) S ICDMCV2=1
"RTN","ICDTLB6B",204,0)
 I $D(ICDDXT("411.1"))!($D(ICDDXT("411.81"))) S ICDMCV2=1
"RTN","ICDTLB6B",205,0)
 Q
"VER")
8.0^22.0
"BLD",6387,6)
^19
**END**
**END**
