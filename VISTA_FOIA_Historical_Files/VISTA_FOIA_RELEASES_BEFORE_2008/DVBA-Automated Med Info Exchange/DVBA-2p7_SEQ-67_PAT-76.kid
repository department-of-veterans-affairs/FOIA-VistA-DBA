Released DVBA*2.7*76 SEQ #67
Extracted from mail message
**KIDS**:DVBA*2.7*76^

**INSTALL NAME**
DVBA*2.7*76
"BLD",5706,0)
DVBA*2.7*76^AUTOMATED MED INFO EXCHANGE^0^3040924^y
"BLD",5706,1,0)
^^1^1^3040820^
"BLD",5706,1,1,0)
NEW EYE EXAMINATION WORK SHEET
"BLD",5706,4,0)
^9.64PA^^
"BLD",5706,"INID")
^y
"BLD",5706,"INIT")
DVBA76PI
"BLD",5706,"KRN",0)
^9.67PA^8989.52^19
"BLD",5706,"KRN",.4,0)
.4
"BLD",5706,"KRN",.401,0)
.401
"BLD",5706,"KRN",.402,0)
.402
"BLD",5706,"KRN",.403,0)
.403
"BLD",5706,"KRN",.5,0)
.5
"BLD",5706,"KRN",.84,0)
.84
"BLD",5706,"KRN",3.6,0)
3.6
"BLD",5706,"KRN",3.8,0)
3.8
"BLD",5706,"KRN",9.2,0)
9.2
"BLD",5706,"KRN",9.8,0)
9.8
"BLD",5706,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",5706,"KRN",9.8,"NM",1,0)
DVBCWEEA^^0^B2634645
"BLD",5706,"KRN",9.8,"NM",2,0)
DVBCWEE2^^0^B35488680
"BLD",5706,"KRN",9.8,"NM","B","DVBCWEE2",2)

"BLD",5706,"KRN",9.8,"NM","B","DVBCWEEA",1)

"BLD",5706,"KRN",19,0)
19
"BLD",5706,"KRN",19.1,0)
19.1
"BLD",5706,"KRN",101,0)
101
"BLD",5706,"KRN",409.61,0)
409.61
"BLD",5706,"KRN",771,0)
771
"BLD",5706,"KRN",870,0)
870
"BLD",5706,"KRN",8989.51,0)
8989.51
"BLD",5706,"KRN",8989.52,0)
8989.52
"BLD",5706,"KRN",8994,0)
8994
"BLD",5706,"KRN","B",.4,.4)

"BLD",5706,"KRN","B",.401,.401)

"BLD",5706,"KRN","B",.402,.402)

"BLD",5706,"KRN","B",.403,.403)

"BLD",5706,"KRN","B",.5,.5)

"BLD",5706,"KRN","B",.84,.84)

"BLD",5706,"KRN","B",3.6,3.6)

"BLD",5706,"KRN","B",3.8,3.8)

"BLD",5706,"KRN","B",9.2,9.2)

"BLD",5706,"KRN","B",9.8,9.8)

"BLD",5706,"KRN","B",19,19)

"BLD",5706,"KRN","B",19.1,19.1)

"BLD",5706,"KRN","B",101,101)

"BLD",5706,"KRN","B",409.61,409.61)

"BLD",5706,"KRN","B",771,771)

"BLD",5706,"KRN","B",870,870)

"BLD",5706,"KRN","B",8989.51,8989.51)

"BLD",5706,"KRN","B",8989.52,8989.52)

"BLD",5706,"KRN","B",8994,8994)

"BLD",5706,"QUES",0)
^9.62^^
"INIT")
DVBA76PI
"MBREQ")
0
"PKG",223,-1)
1^1
"PKG",223,0)
AUTOMATED MED INFO EXCHANGE^DVBA^The entire AMIE package 7131/2507.
"PKG",223,20,0)
^9.402P^^
"PKG",223,22,0)
^9.49I^1^1
"PKG",223,22,1,0)
2.7^2950410^2950508
"PKG",223,22,1,"PAH",1,0)
76^3040924
"PKG",223,22,1,"PAH",1,1,0)
^^1^1^3040924
"PKG",223,22,1,"PAH",1,1,1,0)
NEW EYE EXAMINATION WORK SHEET
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","DVBA76PI")
0^^B8683482
"RTN","DVBA76PI",1,0)
DVBA76PI ;ALB/JEH - Post Init Exam file Update ; 25 May 2004
"RTN","DVBA76PI",2,0)
 ;;2.7;AMIE;**76**;AUG 7,2003
"RTN","DVBA76PI",3,0)
 ;
"RTN","DVBA76PI",4,0)
 ; This is the post-install for DVBA*2.7*74 to inactivate the old
"RTN","DVBA76PI",5,0)
 ; entries and create new entries in the AMIE EXAM file (#396.6).
"RTN","DVBA76PI",6,0)
 ;
"RTN","DVBA76PI",7,0)
EN ;
"RTN","DVBA76PI",8,0)
 D BMES^XPDUTL("DVBA*2.7*76 Post Installation --")
"RTN","DVBA76PI",9,0)
 D MES^XPDUTL("   Update to AMIE EXAM file (#396.6).")
"RTN","DVBA76PI",10,0)
 D MES^XPDUTL("  ")
"RTN","DVBA76PI",11,0)
 I '$D(^DVB(396.6)) D BMES^XPDUTL("Missing AMIE EXAM (#396.6) file") Q
"RTN","DVBA76PI",12,0)
 I $D(^DVB(396.6)) D
"RTN","DVBA76PI",13,0)
 .D INACT
"RTN","DVBA76PI",14,0)
 .D NEW
"RTN","DVBA76PI",15,0)
 Q
"RTN","DVBA76PI",16,0)
 ;
"RTN","DVBA76PI",17,0)
INACT ;inactivate exams
"RTN","DVBA76PI",18,0)
 N LINE,IEN,EXM,PNM,BDY,ROU,STAT,WKS,DIE,DR,DA,X,Y,DVBAI
"RTN","DVBA76PI",19,0)
 D BMES^XPDUTL("Inactivating AMIE EXAM file entries..")
"RTN","DVBA76PI",20,0)
 F DVBAI=1:1 S LINE=$P($T(TXTOLD+DVBAI),";;",2) Q:LINE="QUIT"  D
"RTN","DVBA76PI",21,0)
 .D GET K X,Y,DA
"RTN","DVBA76PI",22,0)
 .I $P($G(^DVB(396.6,IEN,0)),"^",1)'=EXM D  Q
"RTN","DVBA76PI",23,0)
 ..D BMES^XPDUTL("  *** Warning - Entry #"_IEN)
"RTN","DVBA76PI",24,0)
 ..D MES^XPDUTL("                for exam "_EXM)
"RTN","DVBA76PI",25,0)
 ..D MES^XPDUTL("                could not be inactivated.")
"RTN","DVBA76PI",26,0)
 .S DIE="^DVB(396.6,",DA=IEN,DR=".5///I" D ^DIE
"RTN","DVBA76PI",27,0)
 .D BMES^XPDUTL("  Entry #"_IEN_" for exam "_EXM)
"RTN","DVBA76PI",28,0)
 .D MES^XPDUTL("     successfully inactivated.")
"RTN","DVBA76PI",29,0)
 D MES^XPDUTL("  ")
"RTN","DVBA76PI",30,0)
 Q
"RTN","DVBA76PI",31,0)
 ;
"RTN","DVBA76PI",32,0)
NEW ;add new exam
"RTN","DVBA76PI",33,0)
 N LINE,IEN,EXM,PNM,BDY,ROU,STAT,WKS,DIC,DIE,DR,DA,X,Y,DINUM,DVBAI
"RTN","DVBA76PI",34,0)
 D BMES^XPDUTL("Adding new AMIE EXAM file entries...")
"RTN","DVBA76PI",35,0)
 F DVBAI=1:1 S LINE=$P($T(TXTNEW+DVBAI),";;",2) Q:LINE="QUIT"  D
"RTN","DVBA76PI",36,0)
 .D GET K X,Y,DA
"RTN","DVBA76PI",37,0)
 .D BMES^XPDUTL("  Attempting to add Entry #"_IEN_"...")
"RTN","DVBA76PI",38,0)
 .I $D(^DVB(396.6,IEN,0)) D  Q
"RTN","DVBA76PI",39,0)
 ..D MES^XPDUTL("  You have an Entry #"_IEN_".")
"RTN","DVBA76PI",40,0)
 ..D MES^XPDUTL("  Updating "_EXM_".")
"RTN","DVBA76PI",41,0)
 ..S DIE="^DVB(396.6,",DA=IEN,DR=".01///"_EXM_";.07///"_WKS_";.5///"_STAT_";2///"_BDY_";6///"_PNM_";7///"_ROU
"RTN","DVBA76PI",42,0)
 ..D ^DIE
"RTN","DVBA76PI",43,0)
 .S DIC="^DVB(396.6,",DIC(0)="LZ",X=EXM,DINUM=IEN
"RTN","DVBA76PI",44,0)
 .S DIC("DR")=".07///"_WKS_";.5///"_STAT_";2///"_BDY_";6///"_PNM_";7///"_ROU
"RTN","DVBA76PI",45,0)
 .K DD,DO D FILE^DICN
"RTN","DVBA76PI",46,0)
 .I +Y=IEN D  Q
"RTN","DVBA76PI",47,0)
 ..D MES^XPDUTL("  Successfully added Entry #"_IEN)
"RTN","DVBA76PI",48,0)
 ..D MES^XPDUTL("  for exam "_EXM_".")
"RTN","DVBA76PI",49,0)
 .I +Y=-1 D
"RTN","DVBA76PI",50,0)
 ..D MES^XPDUTL("  *** Warning - Unable to add Entry #"_IEN)
"RTN","DVBA76PI",51,0)
 ..D MES^XPDUTL("                for exam "_EXM_".")
"RTN","DVBA76PI",52,0)
 Q
"RTN","DVBA76PI",53,0)
GET ;get exam data
"RTN","DVBA76PI",54,0)
 S (IEN,EXM,PNM,BDY,ROU,STAT,WKS)=""
"RTN","DVBA76PI",55,0)
 S IEN=$P(LINE,";",1) ;ien
"RTN","DVBA76PI",56,0)
 S EXM=$P(LINE,";",2) ;exam name
"RTN","DVBA76PI",57,0)
 S PNM=$P(LINE,";",3) ;print name
"RTN","DVBA76PI",58,0)
 S BDY=$P(LINE,";",4) ;body system
"RTN","DVBA76PI",59,0)
 S ROU=$P(LINE,";",5) ;routine name
"RTN","DVBA76PI",60,0)
 S STAT=$P(LINE,";",6) ;status
"RTN","DVBA76PI",61,0)
 S WKS=$P(LINE,";",8) ;worksheet number
"RTN","DVBA76PI",62,0)
 Q
"RTN","DVBA76PI",63,0)
 ;
"RTN","DVBA76PI",64,0)
 ; Entries to be inactivated.
"RTN","DVBA76PI",65,0)
 ; format:  ien;exam name;;;routine;status;;wks#
"RTN","DVBA76PI",66,0)
TXTOLD ;
"RTN","DVBA76PI",67,0)
 ;;145;EYE EXAMINATION; ; ;DVBCWEE;I; ;1330
"RTN","DVBA76PI",68,0)
 ;;QUIT
"RTN","DVBA76PI",69,0)
 ;
"RTN","DVBA76PI",70,0)
 ;
"RTN","DVBA76PI",71,0)
 ; New exam to activate 
"RTN","DVBA76PI",72,0)
 ; format:  ien;exam name;print name;body system;routine;status;;wks#
"RTN","DVBA76PI",73,0)
TXTNEW ;
"RTN","DVBA76PI",74,0)
 ;;189;EYE EXAMINATION;EYE;ORGANS OF SENSE;DVBCWEEA;A; ;1330
"RTN","DVBA76PI",75,0)
 ;;QUIT
"RTN","DVBCWEE2")
0^2^B35488680
"RTN","DVBCWEE2",1,0)
DVBCWEE2 ;ALB/CMM EYE EXAMINATION WKS TEXT - 1 ; 6 MARCH 1997
"RTN","DVBCWEE2",2,0)
 ;;2.7;AMIE;**76*;Apr 10, 1995
"RTN","DVBCWEE2",3,0)
 ;
"RTN","DVBCWEE2",4,0)
 ;
"RTN","DVBCWEE2",5,0)
TXT ;
"RTN","DVBCWEE2",6,0)
 ;;A.  Review of Medical Records:
"RTN","DVBCWEE2",7,0)
 ;;
"RTN","DVBCWEE2",8,0)
 ;;B.  Medical History (Subjective Complaints):
"RTN","DVBCWEE2",9,0)
 ;;
"RTN","DVBCWEE2",10,0)
 ;;    Comment on:
"RTN","DVBCWEE2",11,0)
 ;;    1.  Pain.
"RTN","DVBCWEE2",12,0)
 ;;    2.  Duration and frequency of periods of incapacitation, and rest
"RTN","DVBCWEE2",13,0)
 ;;    requirements.
"RTN","DVBCWEE2",14,0)
 ;;    3.  Visual symptoms, including distorted or enlarged image, etc.
"RTN","DVBCWEE2",15,0)
 ;;    4.  Current ophthalmologic treatment.
"RTN","DVBCWEE2",16,0)
 ;;    5.  For malignant neoplasms, state type of treatment and last date.
"RTN","DVBCWEE2",17,0)
 ;;    If treatment is current, describe.
"RTN","DVBCWEE2",18,0)
 ;;
"RTN","DVBCWEE2",19,0)
 ;;C.  Physical Examination (Objective Findings):
"RTN","DVBCWEE2",20,0)
 ;;
"RTN","DVBCWEE2",21,0)
 ;;    Address each of the following, as applicable, and fully describe 
"RTN","DVBCWEE2",22,0)
 ;;    current findings:
"RTN","DVBCWEE2",23,0)
 ;;    1.  Visual Acuity:
"RTN","DVBCWEE2",24,0)
 ;;        a. Examine each eye independently and record the refractive 
"RTN","DVBCWEE2",25,0)
 ;;         information indicated below.
"RTN","DVBCWEE2",26,0)
 ;;        b. Use conventional lenses for correction unless the patient
"RTN","DVBCWEE2",27,0)
 ;;         has keratoconus, is well adapted to contact lenses and wishes
"RTN","DVBCWEE2",28,0)
 ;;         to wear them, and contact lenses result in best corrected 
"RTN","DVBCWEE2",29,0)
 ;;         visual acuity.
"RTN","DVBCWEE2",30,0)
 ;;        c. Use Snellen's test type or its equivalent.
"RTN","DVBCWEE2",31,0)
 ;;        d. Carry out an examination with the pupils dilated unless 
"RTN","DVBCWEE2",32,0)
 ;;         contraindicated, and record the ophthalmic findings.
"RTN","DVBCWEE2",33,0)
 ;;        e. For visual acuity worse than 5/200 in either or both eyes,
"RTN","DVBCWEE2",34,0)
 ;;         report the distance in feet/inches (or meters/centimeters) 
"RTN","DVBCWEE2",35,0)
 ;;         from the face at which the veteran can count fingers/detect 
"RTN","DVBCWEE2",36,0)
 ;;         hand motion/read the largest line on the chart.  If the 
"RTN","DVBCWEE2",37,0)
 ;;         veteran cannot detect hand motion or count fingers at any
"RTN","DVBCWEE2",38,0)
 ;;         distance, state whether he or she has light perception.
"RTN","DVBCWEE2",39,0)
 ;;        f. If keratoconus is present, state whether contact lenses 
"RTN","DVBCWEE2",40,0)
 ;;         are required or adequate correction is possible by other means.
"RTN","DVBCWEE2",41,0)
 ;;
"RTN","DVBCWEE2",42,0)
 ;;
"RTN","DVBCWEE2",43,0)
 ;;                                        FAR            NEAR
"RTN","DVBCWEE2",44,0)
 ;;
"RTN","DVBCWEE2",45,0)
 ;;        RIGHT EYE     UNCORRECTED    __________      _________
"RTN","DVBCWEE2",46,0)
 ;;
"RTN","DVBCWEE2",47,0)
 ;;        RIGHT EYE     CORRECTED      __________      _________
"RTN","DVBCWEE2",48,0)
 ;;
"RTN","DVBCWEE2",49,0)
 ;;
"RTN","DVBCWEE2",50,0)
 ;;
"RTN","DVBCWEE2",51,0)
 ;;                                        FAR            NEAR
"RTN","DVBCWEE2",52,0)
 ;;
"RTN","DVBCWEE2",53,0)
 ;;        LEFT EYE      UNCORRECTED    __________      _________
"RTN","DVBCWEE2",54,0)
 ;;
"RTN","DVBCWEE2",55,0)
 ;;        LEFT EYE      CORRECTED      __________      _________
"RTN","DVBCWEE2",56,0)
 ;;
"RTN","DVBCWEE2",57,0)
 ;;
"RTN","DVBCWEE2",58,0)
 ;;    2.  Diplopia:
"RTN","DVBCWEE2",59,0)
 ;;        a. Perform the measurement of muscle function using a 
"RTN","DVBCWEE2",60,0)
 ;;         Goldmann Perimeter Chart and chart the areas in which diplopia
"RTN","DVBCWEE2",61,0)
 ;;         exists.  Include the chart as part of the examination report 
"RTN","DVBCWEE2",62,0)
 ;;         to be sent to the regional office.
"RTN","DVBCWEE2",63,0)
 ;;        b. If diplopia is present, state whether it is constant or 
"RTN","DVBCWEE2",64,0)
 ;;         intermittent, whether it is present at all distances or only 
"RTN","DVBCWEE2",65,0)
 ;;         for near or distant vision, and whether it is correctable by 
"RTN","DVBCWEE2",66,0)
 ;;         use of lenses or prisms.
"RTN","DVBCWEE2",67,0)
 ;;        c. If diplopia is constant and not correctable, indicate which 
"RTN","DVBCWEE2",68,0)
 ;;         of the sectors of the visual field are affected: 
"RTN","DVBCWEE2",69,0)
 ;;         central 20 degrees; 
"RTN","DVBCWEE2",70,0)
 ;;         21 to 30 degrees: Upward; Downward; Right Lateral; Left Lateral
"RTN","DVBCWEE2",71,0)
 ;;         31 to 40 degrees: Upward; Downward; Right Lateral; Left Lateral  
"RTN","DVBCWEE2",72,0)
 ;; 
"RTN","DVBCWEE2",73,0)
 ;;         On the Goldmann perimeter chart, chart the actual areas of all
"RTN","DVBCWEE2",74,0)
 ;;         diplopia, even when the diplopia is not within the sectors listed
"RTN","DVBCWEE2",75,0)
 ;;         above. Provide the Goldmann perimeter chart with your examination
"RTN","DVBCWEE2",76,0)
 ;;         report. 
"RTN","DVBCWEE2",77,0)
 ;;
"RTN","DVBCWEE2",78,0)
 ;;
"RTN","DVBCWEE2",79,0)
 ;;    3.  Visual Field Deficit:
"RTN","DVBCWEE2",80,0)
 ;;        a. Chart any visual field defect using a Goldmann Perimeter
"RTN","DVBCWEE2",81,0)
 ;;         Chart and include the chart as part of the examination report
"RTN","DVBCWEE2",82,0)
 ;;         to be sent to the regional office.
"RTN","DVBCWEE2",83,0)
 ;;        b. For an aphakic eye which cannot be fitted with contact 
"RTN","DVBCWEE2",84,0)
 ;;         lenses or intra-ocular implant, use the IV/4e test object.  
"RTN","DVBCWEE2",85,0)
 ;;         For all other cases, use the III/4e test object.
"RTN","DVBCWEE2",86,0)
 ;;        c. If the examiner determines that charting with other test 
"RTN","DVBCWEE2",87,0)
 ;;         objects is indicated, those test results should be reported 
"RTN","DVBCWEE2",88,0)
 ;;         on a separate chart.  All charts, along with an explanation 
"RTN","DVBCWEE2",89,0)
 ;;         of the need for using a different test object and an 
"RTN","DVBCWEE2",90,0)
 ;;         explanation of any discrepancies in results, should be 
"RTN","DVBCWEE2",91,0)
 ;;         included as part of the examination report.
"RTN","DVBCWEE2",92,0)
 ;;        d. All scotomas should be plotted carefully in order to 
"RTN","DVBCWEE2",93,0)
 ;;         allow measurements to be made for adjustments in the 
"RTN","DVBCWEE2",94,0)
 ;;         calculation of visual field defects.
"RTN","DVBCWEE2",95,0)
 ;;
"RTN","DVBCWEE2",96,0)
 ;;     4. Details of eye disease or injury (including eyebrows, 
"RTN","DVBCWEE2",97,0)
 ;;        eyelashes, eyelids) other than loss of visual acuity, diplopia, 
"RTN","DVBCWEE2",98,0)
 ;;        or visual field defect:
"RTN","DVBCWEE2",99,0)
 ;;
"RTN","DVBCWEE2",100,0)
 ;;D.   Diagnostic and Clinical Tests:  (Other than for visual acuity, 
"RTN","DVBCWEE2",101,0)
 ;;     diplopia, and visual fields, as described above.)
"RTN","DVBCWEE2",102,0)
 ;;
"RTN","DVBCWEE2",103,0)
 ;;     1. Include results of all diagnostic and clinical tests 
"RTN","DVBCWEE2",104,0)
 ;;        conducted in the examination report.
"RTN","DVBCWEE2",105,0)
 ;;
"RTN","DVBCWEE2",106,0)
 ;;E.  Diagnosis:
"RTN","DVBCWEE2",107,0)
 ;;
"RTN","DVBCWEE2",108,0)
 ;;Signature:                                   Date:
"RTN","DVBCWEE2",109,0)
 ;;END
"RTN","DVBCWEEA")
0^1^B2634645
"RTN","DVBCWEEA",1,0)
DVBCWEEA ;ALB/CMM EYE EXAMINATION WKS ; 6 MARCH 1997
"RTN","DVBCWEEA",2,0)
 ;;2.7;AMIE;**76**;Apr 10, 1995
"RTN","DVBCWEEA",3,0)
 ;
"RTN","DVBCWEEA",4,0)
EN D:'$D(IOF) SETIOF W:(IOST?1"C-".E) @IOF
"RTN","DVBCWEEA",5,0)
 S DVBAX="For EYE EXAMINATION",PG=1
"RTN","DVBCWEEA",6,0)
 W !?22,"Compensation and Pension Examination",!,?(IOM-$L(DVBAX)\2),DVBAX,!?33,"# 1330 Worksheet",!!
"RTN","DVBCWEEA",7,0)
 W "Name: ",NAME,?45,"SSN: ",SSN,!,?45,"C-number: ",CNUM,!,"Date of exam: ____________________",!!,"Place of exam: ___________________",!!
"RTN","DVBCWEEA",8,0)
 S DIF="^TMP($J,""DVBAW"",",XCNP=0
"RTN","DVBCWEEA",9,0)
 K ^TMP($J,"DVBAW")
"RTN","DVBCWEEA",10,0)
 F ROU="DVBCWEE2" S X=ROU X ^%ZOSF("LOAD")
"RTN","DVBCWEEA",11,0)
 K DIF,XCNP,ROU
"RTN","DVBCWEEA",12,0)
 N LP,TEXT
"RTN","DVBCWEEA",13,0)
 S LP=0,STOP=0
"RTN","DVBCWEEA",14,0)
 F  S LP=$O(^TMP($J,"DVBAW",LP)) Q:(LP="")!(STOP)  D
"RTN","DVBCWEEA",15,0)
 .S TEXT=^TMP($J,"DVBAW",LP,0)
"RTN","DVBCWEEA",16,0)
 .I (TEXT'[";;")!(TEXT[";AMIE;") Q
"RTN","DVBCWEEA",17,0)
 .I TEXT["TOF" D HD2
"RTN","DVBCWEEA",18,0)
 .I TEXT["END" S STOP=1 Q
"RTN","DVBCWEEA",19,0)
 .W:TEXT'["TOF" $P(TEXT,";;",2),! I $Y>55 D HD2
"RTN","DVBCWEEA",20,0)
 K ^TMP($J,"DVBAW"),TEXT,STOP,LP,PG,DVBAX,X
"RTN","DVBCWEEA",21,0)
 Q
"RTN","DVBCWEEA",22,0)
 ;
"RTN","DVBCWEEA",23,0)
HD2 S PG=PG+1 W @IOF,!,"Page: ",PG,!!,"Compensation and Pension Exam for "_NAME,!
"RTN","DVBCWEEA",24,0)
 W "For EYE EXAMINATION",!!!
"RTN","DVBCWEEA",25,0)
 Q
"RTN","DVBCWEEA",26,0)
SETIOF ;  ** Set device control var's
"RTN","DVBCWEEA",27,0)
 D HOME^%ZIS
"RTN","DVBCWEEA",28,0)
 Q
"VER")
8.0^22
**END**
**END**
