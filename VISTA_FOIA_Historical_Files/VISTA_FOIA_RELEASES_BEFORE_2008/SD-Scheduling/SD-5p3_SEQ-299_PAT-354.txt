$TXT Created by HOUTCHENS,THOMAS at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 06/29/04 at 11:51
=============================================================================
Run Date: JUL 12, 2004                     Designation: SD*5.3*354
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #299                    Status: Released
                  Compliance Date: AUG 12, 2004
=============================================================================

Associated patches: (v)SD*5.3*187  <<= must be installed BEFORE `SD*5.3*354'

Subject: REMOVE DISPLAY OF CHECK OUT PARAMETERS FROM CLINIC PROFILE

Category: 
  - Routine

Description:
============

 This patch addresses a problem associated with the
 SCHEDULING/5.3 Package. The problem is associated with the display
 of clinic profiles. The current display is showing check out parameters
 Which are no longer valid fields in the HOSPITAL LOCATION file (#44). 
 This is apparently confusing the users and they have requested the 
 removal of this display.
  
 ASSOCIATED E3R(S):
 ==================
  
 N/A
  
 ASSOCIATED NOIS:
 ================
  
 1.  TOG-0301-11468   Clinic Profile
  
  
 PARTICIPATING TEST SITES:
 =========================
  
   N. Chicago, IL
   Shreveport, LA
   Cheyenne, WY
   White City, OR
  
 NOIS OVERVIEW:
 ==============
  
 1. TOG-0301-11468   Clinic Profile
  
  
   Problem:
   --------
   The display of the check out parameter in the clinic profile is no 
 longer valid and the users are requesting that this display be removed. 
 It is apparently confusing and misleading to the users. 
   
   Resolution:
   -----------
   The following is an example of the display that is currently be seen by 
 the users:
  
 CLINIC PROFILES AS OF: 03/25/2004
  
            Clinic: 3060                                Abbr.: 
          Location:                                 Telephone: 
 Days clinic meets: TH                             Start date: 10/04/1990
        Increments: 30 Minutes            Hour display begins: 8 AM
      Appt. length: 30 Minutes         Variable length appts.: NO
         Stop Code: 301             Maximum overbooks per day: 2
  Credit Stop Code:                          Non-count clinic: NO
   Prohibit access: NO        Maximum days for future booking: 60
   
                          **** Check Out Parameters ****
      >> Ask for Check In/Out Time:      >> Ask Stop Codes at Check-Out: 
      >> Ask Provider at Check-Out: 
      >> Ask Diagnosis at Check-Out:
  
 A modification will be made and the following is an example of the new
 functionality:
  
 CLINIC PROFILES AS OF: 03/25/2004
  
            Clinic: 3060                                Abbr.: 
          Location:                                 Telephone: 
 Days clinic meets: TH                             Start date: 10/04/1990
        Increments: 30 Minutes            Hour display begins: 8 AM
      Appt. length: 30 Minutes         Variable length appts.: NO
         Stop Code: 301             Maximum overbooks per day: 2
  Credit Stop Code:                          Non-count clinic: NO
   Prohibit access: NO        Maximum days for future booking: 60
  
  
 TECHNICAL:
 ==========
  
 1.  TOG-0301-11468 -  CLINIC PROFILE
  
 A modification to routine SDCP was made to remove the call to sub-routine
 CO(SDCL) and all the code associated with the sub-routine.
  
 Before:
 -------
  
 D CO(SC)
  
 CO(SDCL)        ; -- print co profile info
         N I,C,X,DA,DR,DIQ,DIC,SDCO,SDLN,SDESC
         S DIC="^SC(",DA=SDCL,DR="24;26;27;28",DIQ="SDCO",DIQ(0)="E"
         D EN^DIQ1
         W !!?25,"**** Check Out Parameters ****"
         W !?5,">> Ask for Check In/Out Time: ",$G(SDCO(44,SDCL,24,"E"))
         W ?40,">> Ask Stop Codes at Check-Out: ",$G(SDCO(44,SDCL,28,"E"))
         W !?5,">> Ask Provider at Check-Out: ",$G(SDCO(44,SDCL,26,"E"))
         S SDLN=12,SDESC=1
         S (C,I)=0 F  S I=$O(^SC(SDCL,"PR",I)) Q:'I  S X=$G(^(I,0)) D  G
 COQ:'SDE
 SC
         .I 'C S SDESC=$$PAUSE(.SDLN) Q:'SDESC  W !?10
         .W:C ?50 S C='C
         .W $E($P($G(^VA(200,+X,0)),U),1,20),$S($P(X,U,2):" (default)",1:"")
         ;
         W !?5,">> Ask Diagnosis at Check-Out: ",$G(SDCO(44,SC,27,"E"))
         S (C,I)=0 F  S I=$O(^SC(SDCL,"DX",I)) Q:'I  S X=$G(^(I,0)) D  G
 COQ:'SDE
 SC
         .I 'C S SDESC=$$PAUSE(.SDLN) Q:'SDESC  W !?10
         .I C=1 W ?30
         .I C=2 W ?50
         .S C=C+1 S:C=3 C=0
         .W $E($P($G(^ICD9(+X,0)),U),1,20),$S($P(X,U,2):" (default)",1:"")
 COQ     Q
  
 After:
 ------
   
 The above code was removed.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;Aug 13, 1993
  
                             CHECK^XTSUMBLD results
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
 SDCP                  14342369             12827980       140,171,187,354
  
  
 INSTALLATION INSTRUCTIONS: 
 ========================== 
  
 This patch can be loaded with users in the system.  This patch should not
 be installed while File #19 is in use.  Installation time will be less than 
 5 minutes. 
  
  1.  Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
  
  2.  (DSM for Open VMS sites only) Disable routine mapping on all systems
      for the routines listed in the Routine Summary.
  
      NOTE:  If the routines included in this patch are not currently
      in your mapped routine set, please skip this step.
  
  3.  Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
  
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
  4.  From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter SD*5.3*354):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  5.  Use the Install Package(s) option and select the package
      SD*5.3*354.
  
      a.  When prompted "Want KIDS to INHIBIT LOGONs during the
          install? YES//", answer NO.
      b.  When prompted "Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//", answer YES.
      c.  When prompted "Enter options you wish to mark as 'Out Of Order':",
          enter the following option:
  
            CLINIC PROFILE  SDCLINIC     Clinic Profile
  
      d.  When prompted "Enter protocols you wish to mark as 'Out Of
          Order':", press <return>
  
  
       e.  When prompted "Delay Install (Minutes):  (0-60): 0//", press
          <return>.
  
  6.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
  
      NOTE: This step is only necessary if you performed step 2 or if
      you wish to include the routines in your mapped set.
          

Routine Information:
====================

Routine Name:
  - SDCP


Routine Checksum:

=============================================================================
User Information:
Entered By  : HOUTCHENS,THOMAS              Date Entered  : MAR 25, 2004
Completed By: BAUMAN,HELENE                 Date Completed: JUN 30, 2004
Released By : WASHINGTON,JANET P            Date Released : JUL 12, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
