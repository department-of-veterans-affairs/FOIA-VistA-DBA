$TXT Created by MCNEILE,KEN at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Monday, 06/11/07 at 07:00
=============================================================================
Run Date: SEP 04, 2007                     Designation: ROR*1.5*2
Package : ROR - CLINICAL CASE REGISTRIES      Priority: Mandatory
Version : 1.5         SEQ #2                    Status: Released
                  Compliance Date: OCT 05, 2007
=============================================================================

Associated patches: (v)ROR*1.5*1   <<= must be installed BEFORE `ROR*1.5*2'

Subject: MISC FIXES AND GUI UPDATE

Category: 
  - Routine
  - Other

Description:
============

 This patch will resolve the following 6 issues.
 1. RPC Broker timeouts and duplicates in patient list.  Some sites are 
    experiencing timeouts and duplicate patients when searching for patients.  
           
 2. Sites are experiencing issues when attempting to search for lab tests 
    and medications when the data contains lower-case letters.
           
 3. When attempting to use the "Cutoff Field" for date entry in Reporting, 
    "T-" is not accepted.   
      
 4. Un-checking of local fields in the Patient Data Editor portion of
    Clinical Case Registries GUI not being saved. 
      
 5. Installations using M-Platforms other than CACHE experience a run-time 
    error when $QUERY is used with two parameters.
      
 6. On non-VA sites a patient identifier other than the last 4 digits of
    the Social Security Number is printing on the reports. 
                
 IMPORTANT NOTE: This patch includes a new GUI application which must be 
                 distributed to the appropriate workstations.  After the
                 patch is installed correctly and the GUI is updated, the 
                 version of the GUI will be 1.5.2.3
 
 Associated Remedy Tickets:
 ==========================
 **Issue 1**
 HD181068  Duplicate patient lists displayed
   HD176334 - duplicate
   HD183029 - duplicate
   HD186317 - duplicate
   HD190719 - duplicate
      
 **Issue 2**
 HD171924  Can't specify low or high values for lab tests
      
 **Issue 3**
 HD176810  Cutoff field validation
      
 **Issue 4**
 HD190108  Un-checking all patient's local fields
      
 **Issue 5**
 HD190114  Invalid usage of the $QUERY function
                    
 **Issue 6**
 HD192061  Last 4 digits of SSN on non-VA systems
 
 
      
 Remedy Overview:
 ================
 
 Problem 1
 ---------
 Due to an error in the code, patient search on the Registry tab of the GUI
 often timed out despite long timeout values defined in the GUI preferences. 
 Moreover, subsequent searches often generated duplicate (and invalid) 
 records on the list of patients.
                
 Resolution 1
 ------------
 The GUI source code has been modified to assign the Broker timeout to the 
 RPC Broker property correctly (eliminating the time-out issue) and set the 
 output buffer to clear after a timeout or run-time error (eliminating the 
 double display).
              
 Problem 2
 ---------
 During lab test and medication searches, search patterns are converted to 
 upper-case  making it impossible to select names entered in VistA in 
 lower-case.
           
 Resolution 2
 ------------
 GUI forms will be modified to disable the character case conversion for the 
 lab test and medication search fields.    
           
 Problem 3
 ---------
 Report date range "Cut Off" field on report parameter panels defines number 
 of days, weeks, or months from today to the past and neither "TODAY-" nor "T-" 
 should be added before the value. However, users were accustomed to this 
 format in "roll-and-scroll" applications and used it in the GUI as well. 
 The software allowed "T-" in the field but interpreted it incorrectly.
 
 Affected reports using the Cut Off field:
   Clinic Follow Up
   Combined Meds and Labs
   Diagnosis
   General Utilization and Demographics
   Inpatient Utilization
   Lab Utilization
   Outpatient Utilization
   Patient Medication History
   Pharmacy Prescription Utilization
   Procedures
   Radiology Utilization
   Registry Lab Tests by Range
   Registry Medications
           
 Resolution 3
 ------------
 The RORTSK14 routine and the GUI code have been amended. The recommended 
 format of the field value is still the same: number of days (example 30), 
 weeks (example 6W), or months (example 4M). However, a value like "T-30" 
 also can be entered and it will be parsed correctly.
         
 Problem 4
 ---------
 In the Patient Data Editor screen within Clinical Case Registries GUI, if 
 the user un-checks a box for a local field, the box does not remain un-checked 
 when the user chooses to save the data.
           
 Resolution 4
 ------------
 Modifications will be made to routines RORRP034, RORRP037 and RORUTL19 to
 save the data correctly. 
      
 Problem 5
 ---------
 VistA installations utilizing an M platform other than CACHE will experience 
 a run time error during the data extraction process because of the use of a 
 function call using $QUERY in the M code.  
           
 Resolution 5
 ------------
 Modifications will be made to routines RORHL7A and RORUTL18 to replace the 
 $QUERY function call which will eliminate the run-time error.
      
 Problem 6
 ---------
 Non-VA sites are reporting patient identifiers other than the last four digits 
 of the patients Social Security Number printing on the Clinical Case Registry 
 reports. 
      
 Resolution 6
 ------------
 A modification will be made to routine RORUTL05 to use the correct patient 
 identifier.
           
           
 Participating Test Sites:
 =========================
 PALO ALTO HCS
 SOUTH TEXAS HCS
 COATESVILLE, PA
 
           
 Installation Files:
 ===================
       
 The following software is exported as part of this patch:
        
   File Name         Contents                 Transfer Mode  Size
   ----------------  -----------------------  -------------  ---------
   ROR1_5P2GUI.ZIP   Zipped GUI distributive  BINARY         7200
       
 The file listed above may be obtained via FTP.  The preferred method is 
 to FTP the files from:
        
   download.vista.med.va.gov
        
 This transmits the file from the first available FTP server.  Sites may 
 also elect to retrieve software directly from a specific server as
 follows:
        
   CIO Field Office  FTP Address                Directory
   ----------------  -------------------------  --------------------
   Albany            ftp.fo-albany.med.va.gov   [anonymous.software]
   Hines             ftp.fo-hines.med.va.gov    [anonymous.software]
   Salt Lake City    ftp.fo-slc.med.va.gov      [anonymous.software]
  
 
 Install Instructions:
 =====================
      
 M Server
 --------
 This patch can be installed at any time.  Users do not need to be off
 the system.  Install time will be less than 2 minutes.
      
  1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note:
     TEXT PRINT/DISPLAY option in the PackMan menu will display the
     patch text only].
      
  2. From the Kernel Installation and Distribution System (KIDS)
     menu, select the Installation menu.
      
  3. From this menu, you may elect to use the following options:
     (when prompted for INSTALL NAME, enter ROR*1.5*2)
          a.  Verify Checksums in Transport Global - This option will allow
              you to ensure the integrity of the routines that are in the
              transport global.
          b.  Print Transport Global - This option will allow you to view
              the components of the KIDS build.
          c.  Compare Transport Global to Current System - This option will
              allow you to view all changes that will be made when this patch
              is installed.  It compares all components of this patch
              (routines, DD's, templates, etc.).
          d.  Backup a Transport Global - This option will create a backup
              message of any routines exported with this patch. It will not
              backup any other changes such as DD's or templates.     
     
  4. Use the Install Package(s) option and select the package
     ROR*1.5*2.
      
  5. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO
      
  6. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond NO.
          
  CCR GUI
 -------
       
  1. Unzip the ROR1_5P2GUI.ZIP into a temporary directory.
       
  2. Run CCRSetup.exe by selecting Start | Run | CCRSetup.exe.
       
  3. Wait until the InstallShield Wizard prepares the setup 
     procedure. A welcome message displays.
       
  4. Click Next to continue the installation.
       
  5. Select the directory in which to install the CCR GUI. 
     We recommend that you accept the default directory: 
     C:\Program Files\VistA\Clinical Case Registries. To 
     select a different location, click Change  and select 
     the directory. Click Next to proceed with installation.
       
  6. Review the installation settings and click Install to 
     proceed. The InstallShield Wizard finishes the installation
     and a confirmation screen displays.
       
  7. Click Finish.
      
 
 Routine Summary:
 ================
 The following routines are included in this patch.  The second line of each
 of these routines now looks like:
  ;;1.5;CLINICAL CASE REGISTRIES;**[Patch List]**;Feb 17, 2006
 
                        CHECK^XTSUMBLD results
  
 Routine         Before Patch     After Patch     Patch List 
 -------         ------------     -----------     ----------     
 RORHL7A         4554021          4584235         **2**
 RORRP034        3041648          3048198         **2**
 RORRP037        2638742          2649436         **2**
 RORTSK14        2157270          2410703         **2**
 RORUTL05        7047621          7154499         **1,2**
 RORUTL18        3250231          3497374         **2**
 RORUTL19        1203624          1276503         **2**
      
 
 
 
 
 
 

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RORHL7A
    Before: B35053076   After: B35139964  **2**
Routine Name: RORRP034
    Before: B12664578   After: B12580586  **2**
Routine Name: RORRP037
    Before: B11590629   After: B11518664  **2**
Routine Name: RORTSK14
    Before:  B6333918   After:  B7015337  **2**
Routine Name: RORUTL05
    Before: B57340264   After: B58374925  **1,2**
Routine Name: RORUTL18
    Before: B22624377   After: B26583151  **2**
Routine Name: RORUTL19
    Before:  B2739501   After:  B2923874  **2**
 
Routine list of preceding patches: 1

=============================================================================
User Information:
Entered By  : MCNEILE,KEN                   Date Entered  : JAN 09, 2007
Completed By: GOLDSMITH,JAMES H             Date Completed: AUG 30, 2007
Released By : BELSCHWINDER,MICHAEL          Date Released : SEP 04, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
