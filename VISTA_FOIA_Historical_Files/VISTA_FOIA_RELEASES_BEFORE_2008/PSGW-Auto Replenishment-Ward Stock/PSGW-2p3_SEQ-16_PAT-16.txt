$TXT Created by ROWLANDS,ELMER at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 08/21/03 at 12:59
=============================================================================
Run Date: NOV 04, 2003                     Designation: PSGW*2.3*16
Package : PSGW - AUTO REPLENISHMENT/WARD STOC Priority: Mandatory
Version : 2.3        SEQ #16                    Status: Released
                  Compliance Date: DEC 08, 2003
=============================================================================


Subject: TIGHTEN SELECTION PROCESS FOR USAGE REPORT

Category: 
  - Routine

Description:
============

 This patch will prevent a null subscript error from occurring when using
 the option Usage Report for an Item (80 Column)[PSGW USAGE REPORT]. 
  
 ASSOCIATED E3R(S):
 ==================
  
 N/A
  
 ASSOCIATED NOIS:
 ================
  
 OKL-0403-72236
  
 PARTICIPATING TEST SITES:
 =========================
  
 Los Angeles, CA
 Big Spring, TX
 Salisbury, NC
 Oklahoma City, OK 
  
 NOIS OVERVIEW:
 ==============
  
 Problem:
 --------
  
 When using the option, Usage Report for an Item (80 column) 
 [PSGW USAGE REPORT], if a user enters ^^ALL at the "Select ITEM:"
 prompt, rather than ^ALL, a subscript error occurs. Despite the
 fact the directions say to enter ^ALL, entering ^^ALL should not
 cause an error. The error occurs when anything other than "^ALL" 
 is entered at the PHARMACY AOU STOCK AREA OF USE (AOU): prompt. 
  
 Below is an example: 
   
 Select OPTION NAME: PSGW USAGE REPORT  Usage Report for an Item (80 
 column)
 Usage Report for an Item (80 column)
 Usage Report may be printed for:
                a single item for one AOU,
                a single item for ALL AOUs,
                ALL items for one AOU, or
                ALL items for ALL AOUs.
  
 To select all AOUs, enter "^ALL" at the
 "Select PHARMACY AOU STOCK AREA OF USE (AOU):" prompt.
 To select all items, enter "^ALL" at the "Select ITEM:" prompt.
  
 BEGINNING date for report: 7/11/2003  (JUL 11, 2003)
 ENDING date for report: 7/12/2003  (JUL 12, 2003)
 Select PHARMACY AOU STOCK AREA OF USE (AOU): DOM    
 Select ITEM: ^^ALL
  
 %DSM-E-NULLSUBSCR, Null subscript
 %DSM-I-ATLABEL, ASKITEM+2^PSGWTOT:2     I (AOUFL=0)&(X'="^ALL") I '
 $O(^PSDRUG(DRGNM,0)) S DIK="^PSI(58.1,"_AOU_",1,",DA=$P(Y,"^"),
 DA(1)=AOU D ^DIK K DIK W " ??" ,*7,*7 G ASKITEM
  
 Resolution:
 -----------
 The report selection routine has been modified to not error when 
 ^^ALL is entered at the Select ITEM prompt.  If ^^ALL is entered,
 the user will be returned to the Auto Replenishment Reports Menu.
   
 ROUTINE SUMMARY:
 ================
   
 The following list of routines included in this patch.
 The second line of each of these routines now looks like:
  
 <tab>;;2.3; Automatic Replenishment/Ward Stock ;**[patch list]**;4 JAN 94
   
                       CHECK^XTSUMBLD results
   
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  PSGWTOT                8644984              8642494             16
  
 Total number of routines = 1 
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch can be loaded with users in the system.  Installation time
  
 will be less than 5 minutes.
  
  1.   Choose the PackMan message containing this patch and invoke the 
       INSTALL/CHECK MESSAGE PackMan option.  
  
  2.   (DSM for Open VMS sites only) Disable routine mapping on all systems
       for the routines listed in the Routine Summary.  
  
       NOTE:  If the routines included in this patch are not currently in 
       your mapped routine set, please skip this step.
  
  3.   Start up the Kernel Installation and Distribution System Menu 
       [XPD MAIN]: 
  
            Edits and Distribution ...  
            Utilities ...  
            Installation ...  
  
    Select Kernel Installation & Distribution System Option: INStallation 
                                                             ---
  
            1      Load a Distribution
            2      Verify Checksums in Transport Global
            3      Print Transport Global
            4      Compare Transport Global to Current System
            5      Backup a Transport Global
            6      Install Package(s)
                   Restart Install of Package(s)
                   Unload a Distribution
  
    Select Installation Option: 
  
  4.   From this menu, you may elect to use the following options
       (When prompted for the INSTALL NAME, enter PSGW*2.3*16):
  
       a.  Backup a Transport Global - This option will create a backup
           message of any routines exported with this patch. It will not
           backup any other changes such as DD's or templates.
       b.  Compare Transport Global to Current System - This option will
           allow you to view all changes that will be made when this patch
           is installed. It compares all components of this patch
           (routines, DD's, templates, etc.).
       c.  Verify Checksums in Transport Global - This option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
  
  5.   Use the Install Package(s) option and select the package PSGW*2.3*16
  
       a. When prompted 'Want KIDS to INHIBIT LOGONs during the
          install? YES//', answer NO.
       b. When prompted 'Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//', answer YES.
       c. When prompted 'Enter options you wish to mark as 'Out Of 
          Order':',
          enter the following options:
  
             PSGW USAGE REPORT       Usage Report for an Item (80 column)
  
       d. When prompted 'Enter protocols you wish to mark as 'Out Of 
          Order':',press <return>.
  
  6.   (DSM for Open VMS sites only) Optional - Include the routines
       distributed with this patch in the mapped routine set. 
       NOTE: This step is only necessary if you performed step 2 or if
       you wish to include the routines in your mapped set.

Routine Information:
====================

=============================================================================
User Information:
Entered By  : ROWLANDS,ELMER                Date Entered  : JUL 16, 2003
Completed By: PEREZ,CAROL                   Date Completed: OCT 31, 2003
Released By : KIMBLE,BRUCE                  Date Released : NOV 04, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
