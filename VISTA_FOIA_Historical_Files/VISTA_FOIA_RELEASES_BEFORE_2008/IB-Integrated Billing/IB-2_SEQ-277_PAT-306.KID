Released IB*2*306 SEQ #277
Extracted from mail message
**KIDS**:IB*2.0*306^

**INSTALL NAME**
IB*2.0*306
"BLD",6179,0)
IB*2.0*306^INTEGRATED BILLING^0^3050513^y
"BLD",6179,1,0)
^^15^15^3050513^
"BLD",6179,1,1,0)
The purpose of this patch is to update VistA DSS Stop Codes for outpatient
"BLD",6179,1,2,0)
copay in the IB CLINIC STOP CODE BILLABLE TYPES file (#352.5), which 
"BLD",6179,1,3,0)
begins May 2, 2005. The required copay for the smoking cessation
"BLD",6179,1,4,0)
counseling (individual and group) codes will be changed to a non-copay
"BLD",6179,1,5,0)
status.
"BLD",6179,1,6,0)
 
"BLD",6179,1,7,0)
The patch will update the billable type for the following stop codes in
"BLD",6179,1,8,0)
the file.
"BLD",6179,1,9,0)
 
"BLD",6179,1,10,0)
   Clinic Stop  Description            Effective   Billable      Override
"BLD",6179,1,11,0)
   Code                                Date        Type          Flag
"BLD",6179,1,12,0)
   -----------  ---------------------  ----------  ------------  ---------
"BLD",6179,1,13,0)
   533707       SMOKING CESSATION IND  05/02/2005  Non-Billable  Y
"BLD",6179,1,14,0)
   566707       SMOKING CESSATION GRP  05/02/2005  Non-Billable  Y
"BLD",6179,1,15,0)
   707          SMOKING CESSATION      05/02/2005  Non-Billable  Y
"BLD",6179,4,0)
^9.64PA^^
"BLD",6179,"INIT")
POST^IB20P306
"BLD",6179,"KRN",0)
^9.67PA^8989.52^19
"BLD",6179,"KRN",.4,0)
.4
"BLD",6179,"KRN",.401,0)
.401
"BLD",6179,"KRN",.402,0)
.402
"BLD",6179,"KRN",.403,0)
.403
"BLD",6179,"KRN",.5,0)
.5
"BLD",6179,"KRN",.84,0)
.84
"BLD",6179,"KRN",3.6,0)
3.6
"BLD",6179,"KRN",3.8,0)
3.8
"BLD",6179,"KRN",9.2,0)
9.2
"BLD",6179,"KRN",9.8,0)
9.8
"BLD",6179,"KRN",9.8,"NM",0)
^9.68A^^
"BLD",6179,"KRN",19,0)
19
"BLD",6179,"KRN",19.1,0)
19.1
"BLD",6179,"KRN",101,0)
101
"BLD",6179,"KRN",409.61,0)
409.61
"BLD",6179,"KRN",771,0)
771
"BLD",6179,"KRN",870,0)
870
"BLD",6179,"KRN",8989.51,0)
8989.51
"BLD",6179,"KRN",8989.52,0)
8989.52
"BLD",6179,"KRN",8994,0)
8994
"BLD",6179,"KRN","B",.4,.4)

"BLD",6179,"KRN","B",.401,.401)

"BLD",6179,"KRN","B",.402,.402)

"BLD",6179,"KRN","B",.403,.403)

"BLD",6179,"KRN","B",.5,.5)

"BLD",6179,"KRN","B",.84,.84)

"BLD",6179,"KRN","B",3.6,3.6)

"BLD",6179,"KRN","B",3.8,3.8)

"BLD",6179,"KRN","B",9.2,9.2)

"BLD",6179,"KRN","B",9.8,9.8)

"BLD",6179,"KRN","B",19,19)

"BLD",6179,"KRN","B",19.1,19.1)

"BLD",6179,"KRN","B",101,101)

"BLD",6179,"KRN","B",409.61,409.61)

"BLD",6179,"KRN","B",771,771)

"BLD",6179,"KRN","B",870,870)

"BLD",6179,"KRN","B",8989.51,8989.51)

"BLD",6179,"KRN","B",8989.52,8989.52)

"BLD",6179,"KRN","B",8994,8994)

"BLD",6179,"QUES",0)
^9.62^^
"BLD",6179,"REQB",0)
^9.611^2^2
"BLD",6179,"REQB",1,0)
IB*2.0*224^2
"BLD",6179,"REQB",2,0)
IB*2.0*242^2
"BLD",6179,"REQB","B","IB*2.0*224",1)

"BLD",6179,"REQB","B","IB*2.0*242",2)

"INIT")
POST^IB20P306
"MBREQ")
0
"PKG",200,-1)
1^1
"PKG",200,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",200,20,0)
^9.402P^1^1
"PKG",200,20,1,0)
2^^IBAXDR
"PKG",200,20,1,1)

"PKG",200,20,"B",2,1)

"PKG",200,22,0)
^9.49I^1^1
"PKG",200,22,1,0)
2.0^2940321^2990406^2447
"PKG",200,22,1,"PAH",1,0)
306^3050513
"PKG",200,22,1,"PAH",1,1,0)
^^15^15^3050513
"PKG",200,22,1,"PAH",1,1,1,0)
The purpose of this patch is to update VistA DSS Stop Codes for outpatient
"PKG",200,22,1,"PAH",1,1,2,0)
copay in the IB CLINIC STOP CODE BILLABLE TYPES file (#352.5), which 
"PKG",200,22,1,"PAH",1,1,3,0)
begins May 2, 2005. The required copay for the smoking cessation
"PKG",200,22,1,"PAH",1,1,4,0)
counseling (individual and group) codes will be changed to a non-copay
"PKG",200,22,1,"PAH",1,1,5,0)
status.
"PKG",200,22,1,"PAH",1,1,6,0)
 
"PKG",200,22,1,"PAH",1,1,7,0)
The patch will update the billable type for the following stop codes in
"PKG",200,22,1,"PAH",1,1,8,0)
the file.
"PKG",200,22,1,"PAH",1,1,9,0)
 
"PKG",200,22,1,"PAH",1,1,10,0)
   Clinic Stop  Description            Effective   Billable      Override
"PKG",200,22,1,"PAH",1,1,11,0)
   Code                                Date        Type          Flag
"PKG",200,22,1,"PAH",1,1,12,0)
   -----------  ---------------------  ----------  ------------  ---------
"PKG",200,22,1,"PAH",1,1,13,0)
   533707       SMOKING CESSATION IND  05/02/2005  Non-Billable  Y
"PKG",200,22,1,"PAH",1,1,14,0)
   566707       SMOKING CESSATION GRP  05/02/2005  Non-Billable  Y
"PKG",200,22,1,"PAH",1,1,15,0)
   707          SMOKING CESSATION      05/02/2005  Non-Billable  Y
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","IB20P306")
0^^B7045573
"RTN","IB20P306",1,0)
IB20P306 ;ALB/CXW-FY05 DSS CLINIC STOP CODES IB*2.0*306 POST INIT ;10-MAY-05
"RTN","IB20P306",2,0)
 ;;2.0;INTEGRATED BILLING;**306**;21-MAR-94
"RTN","IB20P306",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","IB20P306",4,0)
 ;
"RTN","IB20P306",5,0)
POST ;
"RTN","IB20P306",6,0)
 D MES^XPDUTL("Now adding entries of NON-BILLABLE type codes to file 352.5")
"RTN","IB20P306",7,0)
 I $$PATCH^XPDUTL("IB*2.0*306") D BMES^XPDUTL("  Skipping since the patch was previously installed.") Q
"RTN","IB20P306",8,0)
 N IBEFFDT,U
"RTN","IB20P306",9,0)
 S U="^",IBEFFDT=3050502 ;effective date MAY 2, 2005 
"RTN","IB20P306",10,0)
 D START,FNONB(IBEFFDT),FINISH
"RTN","IB20P306",11,0)
 Q
"RTN","IB20P306",12,0)
 ;
"RTN","IB20P306",13,0)
START D MES^XPDUTL("")
"RTN","IB20P306",14,0)
 D MES^XPDUTL("FY05 DSS Clinic Stop Codes, Post-Install Starting")
"RTN","IB20P306",15,0)
 Q
"RTN","IB20P306",16,0)
 ;
"RTN","IB20P306",17,0)
FINISH ;
"RTN","IB20P306",18,0)
 D MES^XPDUTL("")
"RTN","IB20P306",19,0)
 D MES^XPDUTL("FY05 DSS Clinic Stop Codes, Post-Install Complete")
"RTN","IB20P306",20,0)
 Q
"RTN","IB20P306",21,0)
 ;
"RTN","IB20P306",22,0)
FNONB(IBEFFDT) ;
"RTN","IB20P306",23,0)
 ;update billable type (add a new entry with new type if code exists)
"RTN","IB20P306",24,0)
 ;
"RTN","IB20P306",25,0)
 N Y,IBC,IB1,IBT,IBX,IBCODE,IBDES,IBOVER,IBLSTDT
"RTN","IB20P306",26,0)
 S IBC=0
"RTN","IB20P306",27,0)
 F IBX=1:1 S IBT=$P($T(BTYPE+IBX),";",3) Q:'$L(IBT)  D
"RTN","IB20P306",28,0)
 . S IBCODE=+$P(IBT,"^",1)
"RTN","IB20P306",29,0)
 . I $D(^IBE(352.5,"AEFFDT",IBCODE,-IBEFFDT)) D  Q
"RTN","IB20P306",30,0)
 . . D BMES^XPDUTL(" Duplication of non-billable type code "_IBCODE)
"RTN","IB20P306",31,0)
 . S IBLSTDT=$O(^IBE(352.5,"AEFFDT",IBCODE,-9999999))
"RTN","IB20P306",32,0)
 . I +IBLSTDT=0 D  Q
"RTN","IB20P306",33,0)
 . . D BMES^XPDUTL(" Code "_IBCODE_" not found for non-billable update")
"RTN","IB20P306",34,0)
 . S IB1=$O(^IBE(352.5,"AEFFDT",IBCODE,IBLSTDT,0))
"RTN","IB20P306",35,0)
 . S IBDES=$P($G(^IBE(352.5,IB1,0)),U,4)
"RTN","IB20P306",36,0)
 . S IBOVER=+$P($G(^IBE(352.5,IB1,0)),U,5)
"RTN","IB20P306",37,0)
 . S Y=+$$ADD3525(IBCODE,IBEFFDT,$P(IBT,U,2),IBDES,IBOVER) S:Y>0 IBC=IBC+1
"RTN","IB20P306",38,0)
 D MES^XPDUTL("")
"RTN","IB20P306",39,0)
 D MES^XPDUTL(IBC_$S('IBC:" entry has ",1:" entries have ")_"been added to file 352.5.")
"RTN","IB20P306",40,0)
 Q
"RTN","IB20P306",41,0)
 ;
"RTN","IB20P306",42,0)
 ;add a new entry
"RTN","IB20P306",43,0)
ADD3525(IBCODE,IBEFFDT,IBTYPE,IBDES,IBOVER) ;
"RTN","IB20P306",44,0)
 D BMES^XPDUTL(" Non-billable type code "_IBCODE)
"RTN","IB20P306",45,0)
 N IBIENS,IBFDA,IBER,IBRET
"RTN","IB20P306",46,0)
 S IBRET=""
"RTN","IB20P306",47,0)
 S IBIENS="+1,"
"RTN","IB20P306",48,0)
 S IBFDA(352.5,IBIENS,.01)=IBCODE
"RTN","IB20P306",49,0)
 S IBFDA(352.5,IBIENS,.02)=IBEFFDT
"RTN","IB20P306",50,0)
 S IBFDA(352.5,IBIENS,.03)=IBTYPE
"RTN","IB20P306",51,0)
 S IBFDA(352.5,IBIENS,.04)=IBDES
"RTN","IB20P306",52,0)
 S:IBOVER IBFDA(352.5,IBIENS,.05)=1
"RTN","IB20P306",53,0)
 D UPDATE^DIE("","IBFDA","IBRET","IBER")
"RTN","IB20P306",54,0)
 I $D(IBER) D BMES^XPDUTL(IBER("DIERR",1,"TEXT",1))
"RTN","IB20P306",55,0)
 Q $G(IBRET(1))
"RTN","IB20P306",56,0)
 ;
"RTN","IB20P306",57,0)
 ;;billable type data
"RTN","IB20P306",58,0)
BTYPE ;;code^non-billable type
"RTN","IB20P306",59,0)
 ;;533707^0
"RTN","IB20P306",60,0)
 ;;566707^0
"RTN","IB20P306",61,0)
 ;;707^0
"RTN","IB20P306",62,0)
 ;;
"RTN","IB20P306",63,0)
 ;
"VER")
8.0^22.0
"BLD",6179,6)
^SEQ #277
**END**
**END**
