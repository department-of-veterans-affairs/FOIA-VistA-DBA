$TXT Created by CLARKE,KYLE E at VL-III.FO-OAKLAND.MED.VA.GOV  (KIDS) on Thursday, 07/20/06 at 11:15
=============================================================================
Run Date: SEP 26, 2006                     Designation: XOBV*1.5*1
Package : XOBV - VISTALINK                    Priority: Mandatory
Version : 1.5         SEQ #1                    Status: Released
                  Compliance Date: OCT 27, 2006
=============================================================================

Associated patches: (v)XOBU*1.5*0  <<= must be installed BEFORE `XOBV*1.5*1'
                    (v)XOBV*1.5*0  <<= must be installed BEFORE `XOBV*1.5*1'
                    (v)XOBS*1.5*0  <<= must be installed BEFORE `XOBV*1.5*1'

Subject: CLASSCASTEXCEPTION, LOGGING INFO, PARENT WINDOW, CONSOLE FIXES

Category: 
  - Routine

Description:
============

 This patch fixes the following problems:
  
 1. Several sites using auto-signon reported that after upgrading to
    VistALink v1.5, attempting to sign on from a client java application
    (i.e., Care Management) using VistALink v1.0 client-side libraries
    resulted in a java-side ClassCastException and the inability to logon.
  
    The issue occurs if all the following conditions are met: 
      1) auto-signon is enabled for the user
      2) the Broker client agent is running on the end-user workstation
      3) an initial auto-signon session has already been established such
         that a/v codes are no longer prompted for when attempting logon
         from the client java application
  
    The fix for VistALink v1.0 clients (such as the original Care
    Management 1.0) is an M-side fix only. The fix for any client/server
    applications using VistALink v1.5 client jars would require updating
    the client with the new VistALink v1.5 jars provided in this patch.
  
 2. Propagation of security information into application server logs. If a 
    DEBUG-level log4j logging is enabled for a particular VistALink class
    on a J2EE application server, the encrypted security credentials are
    written to the log output.
  
    J2EE application servers should be updated with the new VistALink v1.5 
    jar files provided in this patch. 
  
 3. Client/Server loss of focus during login. In a client/server 
    application, with the login dialog open, if the user switches focus to 
    another application, subsequent clicking of the client/server
    application's icon on the task bar does *not* help to get the focus
    back on the login window.
  
    This fix is only needed for client/server applications using VistALink 
    v1.5 jar files. Those applications should be updated with the new 
    VistALink v1.5 jars provided in this patch.
  
 4. The VistALink console plug-in application for WebLogic J2EE application
    servers fails to display "Live VistALink M/VistA Server Query"-derived
    detailed information for a connector if the M system's default
    institution name contains XML special characters.
  
  
 Associated Remedy tickets:
 ==========================
 HD0000000147322
 HD0000000151218 
  
  
 Test Sites:
 ===========
 Boston HCS
 Sheridan
 Upstate NY HCS
 West Palm Beach
 White City
 Hines/Enterprise Management Center (EMC) 
  
  
 Blood Bank Team Coordination:
 =============================
 Clearance - 09/13/06 
  
  
 M Installation Instructions:
 ============================
 >>>Stop VistALink users.
 >>>All other users may remain on the system.
 >>>TaskMan does *not* need to be stopped.
 >>>If you accept a slight risk of jobs getting a CLOBBER/EDITED error,
 >>>VistALink/Care Management users may remain running. Otherwise, stop all
 >>>other VistALink/Care Management jobs on the system. 
  
  1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
     option will load the KIDS package onto your system.
  
  2. From the Kernel Installation and Distribution System (KIDS) Menu, 
     select the Installation menu.
  
  3. From this menu, you may elect to use the following options (when
     prompted for INSTALL NAME, enter XOBV*1.5*1):
  
        Verify Checksums in Transport Global
        Compare Transport Global to Current System
        Print Transport Global
        Backup a Transport Global
  
  4. Installation will take less than 1 minute.  This patch can be loaded
     at any non-peak time.
  
  5. During the installation, do not run any VistALink-based     
     client/server software (e.g., Care Management). You can identify these
     jobs by checking the system status and verifying if any XOBVSKT
     routines are running (i.e., VistALink Handler). If you find any of
     these jobs running on the system, notify users to logoff or 
     terminate the jobs. Active users may get NOSOURCE or CLOBBER errors.
  
  6. Stop the VistALink Listener on the server. Follow your normal 
     procedures to stop the VistALink Listener:
     
     a. If your VistALink listener runs via VMS TCP Services, use VMS
        TCP Services to disable the listener.
        
     b. If your VistALink listener runs within M (i.e., not via VMS
        TCP Services), use the Foundations menu to stop the listener.
        
  7. Use the Install Package(s) option and select the package 
     XOBV*1.5*1.
  
  8. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     YES//',respond NO. It is *NOT* necessary to inhibit users' login 
     into the system when installing this patch.
  
  9. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//', respond NO.  
   
 10. Restart the VistALink Listener on the server. Follow your normal 
     procedures to start the listener.
  
     a. If your VistALink listener runs via VMS TCP Services, use VMS 
        TCP Services to enable the listener.
        
     b. If your VistALink listener is started within M (i.e., not 
        via VMS TCP Services), use the Foundations menu to start the  
        listener.
  
 This is the end of the M-side installation. Please read both the
 'Client/Server Application Installation Instructions' and 'J2EE 
 Installation Instructions' below to discern whether you need to upgrade
 the client-side VistALink jars provided in this patch as well.
  
  
 Client/Server Application Installation Instructions:
 ====================================================
 The Care Management application will manage its own upgrade of the 
 client-side VistALink jars, so no site action is required to upgrade Care
 Management at this time.
  
 For any site-developed applications using VistALink v1.5 for client/server
 access, sites should upgrade those applications to use the new jars
 distributed with this patch.
  
  
 J2EE Installation Instructions:
 ===============================
 J2EE system managers should upgrade J2EE servers using VistALink 
 connectors with the new jars provided with this patch.
  
  
 Java Components Retrieval:
 =========================
 The software for this package is available for retrieval via FTP. A 
 single XOB_1_5_1.ZIP file contains all the files necessary to a) update
 VistALink J2EE server installations, and b) update any client/server
 applications using v1.5 VistALink jars.  The zip file contains three jar
 files and the installation instructions:
  
    vljConnector 1.5.1.002.jar
    vljFoundationsLib 1.5.1.002.jar
    vljSecurity 1.5.1.002.jar
    readme.txt
  
  
 You are encouraged to use the TCP/IP FTP utility to obtain the software 
 from one of the following OI Field Office ANONYMOUS.SOFTWARE directories.
  
    OI Field Office                           FTP Address
    ---------------                           -----------
      Albany                            ftp.fo-albany.med.va.gov
      Hines                             ftp.fo-hines.med.va.gov
      Salt Lake City                    ftp.fo-slc.med.va.gov
      VistA Download Site               download.vista.med.va.gov

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: XOBSCAV1
    Before: B79287263  After: B79358675  **1**
Routine Name: XOBVSYSI
    Before: B49378284  After: B50785262  **1**

=============================================================================
User Information:
Entered By  : MIKHAILUTSA,ARSEN             Date Entered  : JUN 30, 2006
Completed By: ZALLAR,KERRY                  Date Completed: SEP 14, 2006
Released By : LASHLEY,ANTHONY               Date Released : SEP 26, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
