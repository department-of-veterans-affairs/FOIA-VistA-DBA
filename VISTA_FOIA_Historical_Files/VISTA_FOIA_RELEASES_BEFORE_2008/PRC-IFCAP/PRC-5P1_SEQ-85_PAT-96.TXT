$TXT Created by SCHMITZ,STEVEN at MNTVBB.FO-WASH.MED.VA.GOV  (KIDS) on Monday, 02/06/06 at 11:42
=============================================================================
Run Date: SEP 07, 2006                     Designation: PRC*5.1*96
Package : PRC - IFCAP                         Priority: Mandatory
Version : 5.1        SEQ #85                    Status: Released
                  Compliance Date: OCT 08, 2006
=============================================================================


Subject: CORRECT HANDLING OF PAYROLL FMS TRANSACTIONS - HD125377

Category: 
  - Routine

Description:
============

 This patch corrects an issue with FMS transactions that have a Transcode 
 of PR (payroll).  The issue occurs when payroll transactions use the same 
 common number series for transaction numbers as Purchase Orders.  The 
 code initially looked at file 442 to find a transaction number match, if 
 one did not exist it then searched for payroll transactions.  
 Unfortunately, if the same common number series was used to create both 
 types of transactions there are instances where two separate transactions 
 have the same exact transaction number causing an incorrect posting of 
 payroll data to Purchase Order transactions.
  
  
 ASSOCIATED REMEDY TICKET:
 =========================
 HD125377 REC trans updating wrong FCP based on PP Common Numbering Series 
  
  
 PARTICIPATING TEST SITES:
 =========================
 Sioux Falls VAMC
 Cheyenne VAMC
 VA Heartland West HCS
  
  
 REMEDY OVERVIEW:
 ================
 HD125377 REC trans updating wrong FCP based on PP Common Numbering Series 
  
 Problem:
 --------
 Payroll transactions are being processed incorrectly as Procurement & 
 Accounting transactions during the FMS transmission if the same common 
 numbering series is used in both type of transactions.
  
 Resolution:
 -----------
 A change needed to be made to routine PRCSREC to handle payroll 
 transactions differently than the Procurement & Accounting transactions.
  
  
 Technical Description:
 ======================
 During the processing of the FMS transmission payroll (Transcode='PR')
 transactions were being used to update Fund Control Points
 that were set up to handle Procurement & Accounting transactions.  This 
 was occurring because the same common numbering series was being used by 
 the site for both types of transactions.  Routine PRCSREC was changed to 
 not look in file 442 for the transaction number if the Transcode='PR'.
  
  
 ============INSTALLATION INSTRUCTIONS=========================
   
    This patch can be installed with users on the system.
    Install Time - less than 2 minutes.  
   
   
    1.   LOAD TRANSPORT GLOBAL 
         ---------------------
         Choose the PackMan message containing this patch and invoke the 
         INSTALL/CHECK MESSAGE PackMan option.  
   
    2.   START UP KIDS
         -------------
         Start up the Kernel Installation and Distribution System Menu 
         [XPD MAIN]: 
   
                Edits and Distribution ...  
                Utilities ...  
                Installation ...  
   
        Select Kernel Installation & Distribution System Option: 
                                                 INStallation 
                                                                  ---
                Load a Distribution 
                Print Transport Global 
                Compare Transport Global to Current System 
                Verify Checksums in Transport Global 
                Install Package(s) 
                Restart Install of Package(s)
                Unload a Distribution 
                Backup a Transport Global 
   
    3.   Select Installation Option: 
         ---------------------------
         NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
                NAME, enter PRC*5.1*96):
   
         a.  Backup a Transport Global - This option will create a backup
             message of any routines exported with this patch. It will not
             backup any other changes such as DD's or templates.
         b.  Compare Transport Global to Current System - This option will
             allow you to view all changes that will be made when this 
             patch is installed.  It compares all components of this patch
             (routines, DD's, templates, etc.).
         c.  Verify Checksums in Transport Global - This option will allow
             you to ensure the integrity of the routines that are in the
             transport global.
   
    4.   Select Installation Option: Install Package(s) 
                                     ------------------
         **This is the step to start the installation of this KIDS patch: 
   
         a. Choose the Install Package(s) option to start the patch 
            install.
   
         b. When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
            YES//' answer NO
   
         c. When prompted 'Want to DISABLE Scheduled Options, Menu 
            Options, and Protocols? YES//' answer NO
      
         d. When prompted 'Enter protocols you wish to mark as 'Out Of 
            Order':' press <return>.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routines included in this patch.
 The second line of the routine looks like:
  
         V       ;;5.1;IFCAP;**96**;Oct 20, 2000
  
  
                  CHECK^XTSUMBLD results
  
   Routine        Before Patch   After Patch     Patch List
   -------        ------------   -----------     ----------
   PRCSREC        8504593        8162750         96

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PRCSREC
    Before: B22254107  After: B22653875  **96**

=============================================================================
User Information:
Entered By  : SCHMITZ,STEVEN                Date Entered  : JAN 25, 2006
Completed By: WERNER,GARY                   Date Completed: SEP 01, 2006
Released By : NELSON,VICKI M                Date Released : SEP 07, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
