KIDS Distribution saved on Jul 08, 2004@11:21:27
1010EZ Phase 2.5 Enhancements
**KIDS**:DG*5.3*597^EAS*1.0*51^

**INSTALL NAME**
DG*5.3*597
"BLD",4880,0)
DG*5.3*597^REGISTRATION^0^3040708^y
"BLD",4880,1,0)
^^1^1^3040707^
"BLD",4880,1,1,0)
New VistA fields for 1010EZ Phase 2.5 enhancements.
"BLD",4880,4,0)
^9.64PA^408.22^3
"BLD",4880,4,2,0)
2
"BLD",4880,4,2,2,0)
^9.641^2^1
"BLD",4880,4,2,2,2,0)
PATIENT  (File-top level)
"BLD",4880,4,2,2,2,1,0)
^9.6411^1010.159^7
"BLD",4880,4,2,2,2,1,.133,0)
EMAIL ADDRESS
"BLD",4880,4,2,2,2,1,.2516,0)
SPOUSE'S RETIREMENT DATE
"BLD",4880,4,2,2,2,1,.31116,0)
DATE OF RETIREMENT
"BLD",4880,4,2,2,2,1,1010.156,0)
MOST RECENT 1010EZ
"BLD",4880,4,2,2,2,1,1010.157,0)
COMBAT INDICATED ON 1010EZ
"BLD",4880,4,2,2,2,1,1010.158,0)
DISABILITY DISCHARGE ON 1010EZ
"BLD",4880,4,2,2,2,1,1010.159,0)
APPOINTMENT REQUEST ON 1010EZ
"BLD",4880,4,2,222)
y^n^p^^^^n^^n
"BLD",4880,4,2,224)

"BLD",4880,4,408.13,0)
408.13
"BLD",4880,4,408.13,2,0)
^9.641^408.13^1
"BLD",4880,4,408.13,2,408.13,0)
INCOME PERSON  (File-top level)
"BLD",4880,4,408.13,2,408.13,1,0)
^9.6411^1.8^8
"BLD",4880,4,408.13,2,408.13,1,1.1,0)
MAIDEN NAME
"BLD",4880,4,408.13,2,408.13,1,1.2,0)
STREET ADDRESS 1
"BLD",4880,4,408.13,2,408.13,1,1.3,0)
STREET ADDRESS 2
"BLD",4880,4,408.13,2,408.13,1,1.4,0)
STREET ADDRESS 3
"BLD",4880,4,408.13,2,408.13,1,1.5,0)
CITY
"BLD",4880,4,408.13,2,408.13,1,1.6,0)
STATE
"BLD",4880,4,408.13,2,408.13,1,1.7,0)
ZIP
"BLD",4880,4,408.13,2,408.13,1,1.8,0)
TELEPHONE NUMBER
"BLD",4880,4,408.13,222)
y^n^p^^^^n^^n
"BLD",4880,4,408.13,224)

"BLD",4880,4,408.22,0)
408.22
"BLD",4880,4,408.22,2,0)
^9.641^408.22^1
"BLD",4880,4,408.22,2,408.22,0)
INCOME RELATION  (File-top level)
"BLD",4880,4,408.22,2,408.22,1,0)
^9.6411^.18^1
"BLD",4880,4,408.22,2,408.22,1,.18,0)
CHILD 18-23 IN SCHOOL
"BLD",4880,4,408.22,222)
y^n^p^^^^n^^n
"BLD",4880,4,408.22,224)

"BLD",4880,4,"APDD",2,2)

"BLD",4880,4,"APDD",2,2,.133)

"BLD",4880,4,"APDD",2,2,.2516)

"BLD",4880,4,"APDD",2,2,.31116)

"BLD",4880,4,"APDD",2,2,1010.156)

"BLD",4880,4,"APDD",2,2,1010.157)

"BLD",4880,4,"APDD",2,2,1010.158)

"BLD",4880,4,"APDD",2,2,1010.159)

"BLD",4880,4,"APDD",408.13,408.13)

"BLD",4880,4,"APDD",408.13,408.13,1.1)

"BLD",4880,4,"APDD",408.13,408.13,1.2)

"BLD",4880,4,"APDD",408.13,408.13,1.3)

"BLD",4880,4,"APDD",408.13,408.13,1.4)

"BLD",4880,4,"APDD",408.13,408.13,1.5)

"BLD",4880,4,"APDD",408.13,408.13,1.6)

"BLD",4880,4,"APDD",408.13,408.13,1.7)

"BLD",4880,4,"APDD",408.13,408.13,1.8)

"BLD",4880,4,"APDD",408.22,408.22)

"BLD",4880,4,"APDD",408.22,408.22,.18)

"BLD",4880,4,"B",2,2)

"BLD",4880,4,"B",408.13,408.13)

"BLD",4880,4,"B",408.22,408.22)

"BLD",4880,"INID")
^n
"BLD",4880,"INIT")
POST^DG53P597
"BLD",4880,"KRN",0)
^9.67PA^8989.52^19
"BLD",4880,"KRN",.4,0)
.4
"BLD",4880,"KRN",.401,0)
.401
"BLD",4880,"KRN",.402,0)
.402
"BLD",4880,"KRN",.403,0)
.403
"BLD",4880,"KRN",.5,0)
.5
"BLD",4880,"KRN",.84,0)
.84
"BLD",4880,"KRN",3.6,0)
3.6
"BLD",4880,"KRN",3.8,0)
3.8
"BLD",4880,"KRN",9.2,0)
9.2
"BLD",4880,"KRN",9.8,0)
9.8
"BLD",4880,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",4880,"KRN",9.8,"NM",1,0)
DG53P597^^0^B13460520
"BLD",4880,"KRN",9.8,"NM","B","DG53P597",1)

"BLD",4880,"KRN",19,0)
19
"BLD",4880,"KRN",19.1,0)
19.1
"BLD",4880,"KRN",101,0)
101
"BLD",4880,"KRN",409.61,0)
409.61
"BLD",4880,"KRN",771,0)
771
"BLD",4880,"KRN",870,0)
870
"BLD",4880,"KRN",8989.51,0)
8989.51
"BLD",4880,"KRN",8989.52,0)
8989.52
"BLD",4880,"KRN",8994,0)
8994
"BLD",4880,"KRN","B",.4,.4)

"BLD",4880,"KRN","B",.401,.401)

"BLD",4880,"KRN","B",.402,.402)

"BLD",4880,"KRN","B",.403,.403)

"BLD",4880,"KRN","B",.5,.5)

"BLD",4880,"KRN","B",.84,.84)

"BLD",4880,"KRN","B",3.6,3.6)

"BLD",4880,"KRN","B",3.8,3.8)

"BLD",4880,"KRN","B",9.2,9.2)

"BLD",4880,"KRN","B",9.8,9.8)

"BLD",4880,"KRN","B",19,19)

"BLD",4880,"KRN","B",19.1,19.1)

"BLD",4880,"KRN","B",101,101)

"BLD",4880,"KRN","B",409.61,409.61)

"BLD",4880,"KRN","B",771,771)

"BLD",4880,"KRN","B",870,870)

"BLD",4880,"KRN","B",8989.51,8989.51)

"BLD",4880,"KRN","B",8989.52,8989.52)

"BLD",4880,"KRN","B",8994,8994)

"BLD",4880,"QUES",0)
^9.62^^
"BLD",4880,"REQB",0)
^9.611^^
"FIA",2)
PATIENT
"FIA",2,0)
^DPT(
"FIA",2,0,0)
2I
"FIA",2,0,1)
y^n^p^^^^n^^n
"FIA",2,0,10)

"FIA",2,0,11)

"FIA",2,0,"RLRO")

"FIA",2,0,"VR")
5.3^DG
"FIA",2,2)
1
"FIA",2,2,.133)

"FIA",2,2,.2516)

"FIA",2,2,.31116)

"FIA",2,2,1010.156)

"FIA",2,2,1010.157)

"FIA",2,2,1010.158)

"FIA",2,2,1010.159)

"FIA",408.13)
INCOME PERSON
"FIA",408.13,0)
^DGPR(408.13,
"FIA",408.13,0,0)
408.13
"FIA",408.13,0,1)
y^n^p^^^^n^^n
"FIA",408.13,0,10)

"FIA",408.13,0,11)

"FIA",408.13,0,"RLRO")

"FIA",408.13,0,"VR")
5.3^DG
"FIA",408.13,408.13)
1
"FIA",408.13,408.13,1.1)

"FIA",408.13,408.13,1.2)

"FIA",408.13,408.13,1.3)

"FIA",408.13,408.13,1.4)

"FIA",408.13,408.13,1.5)

"FIA",408.13,408.13,1.6)

"FIA",408.13,408.13,1.7)

"FIA",408.13,408.13,1.8)

"FIA",408.22)
INCOME RELATION
"FIA",408.22,0)
^DGMT(408.22,
"FIA",408.22,0,0)
408.22IP
"FIA",408.22,0,1)
y^n^p^^^^n^^n
"FIA",408.22,0,10)

"FIA",408.22,0,11)

"FIA",408.22,0,"RLRO")

"FIA",408.22,0,"VR")
5.3^DG
"FIA",408.22,408.22)
1
"FIA",408.22,408.22,.18)

"INIT")
POST^DG53P597
"MBREQ")
0
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,20,0)
^9.402P^^
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2941102^2941102
"PKG",5,22,1,"PAH",1,0)
597^3040708
"PKG",5,22,1,"PAH",1,1,0)
^^1^1^3040708
"PKG",5,22,1,"PAH",1,1,1,0)
New VistA fields for 1010EZ Phase 2.5 enhancements.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","DG53P597")
0^1^B13460520
"RTN","DG53P597",1,0)
DG53P597 ; BAY/JAP- Patch DG*5.3*597 Post-Installation ; 04/19/2004
"RTN","DG53P597",2,0)
 ;;5.3;Registration;**597**;AUG 13, 1993
"RTN","DG53P597",3,0)
 ;
"RTN","DG53P597",4,0)
 ;be sure that all existing 1010EZ applications in 1010EZ HOLDING file (#712)
"RTN","DG53P597",5,0)
 ;are linked to file #2 thru the new field MOST RECENT 1010EZ (#1010.156);
"RTN","DG53P597",6,0)
 ;also update APPOINTMENT REQUEST ON 1010EZ field (#1010.159) using data from field #4.4/file #712
"RTN","DG53P597",7,0)
 ;and EMAIL ADDRESS field (#.133) using data from field #4.3/file #712
"RTN","DG53P597",8,0)
 ;in the applicant's file #2 record.
"RTN","DG53P597",9,0)
 ;
"RTN","DG53P597",10,0)
POST ;
"RTN","DG53P597",11,0)
 ;queue the task to background for 5:00 AM following date of install
"RTN","DG53P597",12,0)
 ;ZTRTN="QUE^DG53P597"
"RTN","DG53P597",13,0)
 N QUETIME,X1,X2
"RTN","DG53P597",14,0)
 S X1=DT,X2=1 D C^%DTC
"RTN","DG53P597",15,0)
 S QUETIME=X_".05"
"RTN","DG53P597",16,0)
 S ZTDTH=QUETIME
"RTN","DG53P597",17,0)
 S ZTIO="",ZTDESC="DG*5.3*597 POST-INSTALLATION TASK"
"RTN","DG53P597",18,0)
 S ZTRTN="QUE^DG53P597"
"RTN","DG53P597",19,0)
 D ^%ZTLOAD
"RTN","DG53P597",20,0)
 I '$G(ZTSK) W !!,"POST-INSTALL BACKGROUND TASK NOT QUEUED",! D NOTASK
"RTN","DG53P597",21,0)
 Q
"RTN","DG53P597",22,0)
 ;
"RTN","DG53P597",23,0)
QUE ;entry point from TaskManager
"RTN","DG53P597",24,0)
 ;
"RTN","DG53P597",25,0)
 ;only update file #2 with data from file #712 record if date filed exists
"RTN","DG53P597",26,0)
 ;(#3.4) LINK TO FILE #2 [10P:2]
"RTN","DG53P597",27,0)
 ;(#4.3) APPLICANT E-MAIL [4F]
"RTN","DG53P597",28,0)
 ;(#4.4) APPOINTMENT REQUESTED [5S]
"RTN","DG53P597",29,0)
 ;(#7.1) FILING DATE [5D]
"RTN","DG53P597",30,0)
 S START=$$NOW^XLFDT()
"RTN","DG53P597",31,0)
 S REC712=0,TOTAL=0,UPDATES=0
"RTN","DG53P597",32,0)
 F  S REC712=$O(^EAS(712,REC712)) Q:'REC712  D
"RTN","DG53P597",33,0)
 .S TOTAL=TOTAL+1,NEW=0
"RTN","DG53P597",34,0)
 .S DFN=+$P(^EAS(712,REC712,0),U,10),FILED=+$P($G(^EAS(712,REC712,2)),U,5)
"RTN","DG53P597",35,0)
 .Q:'DFN
"RTN","DG53P597",36,0)
 .Q:'$D(^DPT(DFN,0))
"RTN","DG53P597",37,0)
 .Q:'FILED
"RTN","DG53P597",38,0)
 .S EMAIL=$P($G(^EAS(712,REC712,1)),U,4),APPTREQ=$P($G(^EAS(712,REC712,1)),U,5)
"RTN","DG53P597",39,0)
 .I $P($G(^DPT(DFN,1010.15)),U,6)="" S NEW=1
"RTN","DG53P597",40,0)
 .S IENS=DFN_","
"RTN","DG53P597",41,0)
 .K DATA S DATA(2,IENS,.133)=EMAIL,DATA(2,IENS,1010.156)=REC712,DATA(2,IENS,1010.159)=APPTREQ
"RTN","DG53P597",42,0)
 .K ERRMSG D FILE^DIE("","DATA","ERRMSG")
"RTN","DG53P597",43,0)
 .I '$D(ERRMSG),NEW S UPDATES=UPDATES+1
"RTN","DG53P597",44,0)
 ;when process of file #712 is complete
"RTN","DG53P597",45,0)
 D MESS(TOTAL,UPDATES,$G(ZTSK),START)
"RTN","DG53P597",46,0)
 Q
"RTN","DG53P597",47,0)
 ;
"RTN","DG53P597",48,0)
MESS(TOTAL,UPDATES,ZTSK,START) ;
"RTN","DG53P597",49,0)
 ;send MailMan message to members of G.VA1010EZ as well installer of patch
"RTN","DG53P597",50,0)
 ;to inform that job has completed and number of file #2 records updated.
"RTN","DG53P597",51,0)
 ;
"RTN","DG53P597",52,0)
 S Y=START D DD^%DT S START=Y
"RTN","DG53P597",53,0)
 I $G(ZTSK) S MSG(1)="The post-installation background task (#"_ZTSK_") for DG*5.3*597,"
"RTN","DG53P597",54,0)
 I '$G(ZTSK) S MSG(1)="A post-installation update process for DG*5.3*597,"
"RTN","DG53P597",55,0)
 S MSG(2)="which started on "_START_", has completed."
"RTN","DG53P597",56,0)
 S MSG(3)=" "
"RTN","DG53P597",57,0)
 S MSG(4)="A total of "_TOTAL_" records in the 1010EZ HOLDING file (#712)"
"RTN","DG53P597",58,0)
 S MSG(5)="were processed."
"RTN","DG53P597",59,0)
 S MSG(6)=" "
"RTN","DG53P597",60,0)
 S MSG(7)=UPDATES_" records in the PATIENT file (#2) were updated as follows:"
"RTN","DG53P597",61,0)
 S MSG(8)="   Field #.133 from #712/#4.3"
"RTN","DG53P597",62,0)
 S MSG(9)="   Field #1010.156 from #712 IEN"
"RTN","DG53P597",63,0)
 S MSG(10)="   Field #1010.159 from #712/#4.4"
"RTN","DG53P597",64,0)
 S MSG(11)=" "
"RTN","DG53P597",65,0)
 K XMY
"RTN","DG53P597",66,0)
 S XMDUZ=.5,XMTEXT="MSG(",XMY(DUZ)="",WHERE=^XMB("NETNAME"),XMY("G.VA1010EZ@"_WHERE)=""
"RTN","DG53P597",67,0)
 S XMSUB="DG*5.3*597 Post-Installation Task Complete"
"RTN","DG53P597",68,0)
 D ^XMD
"RTN","DG53P597",69,0)
 K DFN,MSG,NEW,REC712,TOTAL,UPDATES,WHERE,XMZ,XMY,XMDUZ
"RTN","DG53P597",70,0)
 Q
"RTN","DG53P597",71,0)
 ;
"RTN","DG53P597",72,0)
NOTASK ;
"RTN","DG53P597",73,0)
 ;send MailMan message to members of G.VA1010EZ as well installer of patch
"RTN","DG53P597",74,0)
 ;to inform that post-install job was not successfully tasked.
"RTN","DG53P597",75,0)
 ;
"RTN","DG53P597",76,0)
 S MSG(1)="The post-installation background job for DG*5.3*597"
"RTN","DG53P597",77,0)
 S MSG(2)="was not successfully queued."
"RTN","DG53P597",78,0)
 S MSG(3)=" "
"RTN","DG53P597",79,0)
 S MSG(4)="Please have a member of IRM Service at your facility"
"RTN","DG53P597",80,0)
 S MSG(5)="run the post-installation update directly from"
"RTN","DG53P597",81,0)
 S MSG(6)="programmer mode by entering the following command:"
"RTN","DG53P597",82,0)
 S MSG(7)=" "
"RTN","DG53P597",83,0)
 S MSG(8)="D QUE^DG53P597"
"RTN","DG53P597",84,0)
 S MSG(9)=" "
"RTN","DG53P597",85,0)
 S MSG(10)="The process should take less than 30 minutes to complete."
"RTN","DG53P597",86,0)
 K XMY
"RTN","DG53P597",87,0)
 S XMDUZ=.5,XMTEXT="MSG(",XMY(DUZ)="",WHERE=^XMB("NETNAME"),XMY("G.VA1010EZ@"_WHERE)=""
"RTN","DG53P597",88,0)
 S XMSUB="DG*5.3*597 Post-Installation Failure"
"RTN","DG53P597",89,0)
 D ^XMD
"RTN","DG53P597",90,0)
 K MSG,WHERE,XMZ,XMY,XMDUZ
"RTN","DG53P597",91,0)
 Q
"VER")
8.0^22.0
"^DD",2,2,.133,0)
EMAIL ADDRESS^F^^.13;3^K:$L(X)>50!($L(X)<3)!'(X?1.E1"@"1.E1"."1.E) X
"^DD",2,2,.133,3)
Answer must be 3-50 characters in length.
"^DD",2,2,.133,21,0)
^.001^16^16^3040419^^^
"^DD",2,2,.133,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",2,2,.133,21,2,0)
 
"^DD",2,2,.133,21,3,0)
The purpose of this field is to store within the PATIENT file the
"^DD",2,2,.133,21,4,0)
Veteran's e-mail address as reported on the 1010EZ.
"^DD",2,2,.133,21,5,0)
  
"^DD",2,2,.133,21,6,0)
Please note: 
"^DD",2,2,.133,21,7,0)
This address was reported on the date of the Veteran's
"^DD",2,2,.133,21,8,0)
most recent 1010EZ submission.  As of the date of this
"^DD",2,2,.133,21,9,0)
patch (DG*5.3*597), there are no VistA applications
"^DD",2,2,.133,21,10,0)
other than 1010EZ capable of updating this data item.
"^DD",2,2,.133,21,11,0)
  
"^DD",2,2,.133,21,12,0)
See the MOST RECENT 1010EZ field (#1010.156) for the
"^DD",2,2,.133,21,13,0)
internal entry number in the 1010EZ HOLDING file (#712)
"^DD",2,2,.133,21,14,0)
for the 1010EZ application on which this address was
"^DD",2,2,.133,21,15,0)
reported.
"^DD",2,2,.133,21,16,0)
 
"^DD",2,2,.133,"DT")
3040422
"^DD",2,2,.2516,0)
SPOUSE'S RETIREMENT DATE^D^^.25;16^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",2,2,.2516,21,0)
^.001^17^17^3040419^^
"^DD",2,2,.2516,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",2,2,.2516,21,2,0)
 
"^DD",2,2,.2516,21,3,0)
The purpose of this field is to store within the PATIENT file the
"^DD",2,2,.2516,21,4,0)
date of retirement from employment of the Veteran's spouse as
"^DD",2,2,.2516,21,5,0)
reported on the 1010EZ.
"^DD",2,2,.2516,21,6,0)
 
"^DD",2,2,.2516,21,7,0)
Please note: 
"^DD",2,2,.2516,21,8,0)
This date was reported on the date of the Veteran's
"^DD",2,2,.2516,21,9,0)
most recent 1010EZ submission.  As of the date of this
"^DD",2,2,.2516,21,10,0)
patch (DG*5.3*597), there are no VistA applications
"^DD",2,2,.2516,21,11,0)
other than 1010EZ capable of updating this data item.
"^DD",2,2,.2516,21,12,0)
  
"^DD",2,2,.2516,21,13,0)
See the MOST RECENT 1010EZ field (#1010.156) for the
"^DD",2,2,.2516,21,14,0)
internal entry number in the 1010EZ HOLDING file (#712)
"^DD",2,2,.2516,21,15,0)
for the 1010EZ application on which this date was
"^DD",2,2,.2516,21,16,0)
reported.
"^DD",2,2,.2516,21,17,0)
 
"^DD",2,2,.2516,"DT")
3040416
"^DD",2,2,.31116,0)
DATE OF RETIREMENT^D^^.311;16^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",2,2,.31116,21,0)
^.001^17^17^3040419^^^^
"^DD",2,2,.31116,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",2,2,.31116,21,2,0)
 
"^DD",2,2,.31116,21,3,0)
The purpose of this field is to store within the PATIENT file the
"^DD",2,2,.31116,21,4,0)
Veteran's date of retirement from employment as reported on the
"^DD",2,2,.31116,21,5,0)
1010EZ.
"^DD",2,2,.31116,21,6,0)
 
"^DD",2,2,.31116,21,7,0)
Please note: 
"^DD",2,2,.31116,21,8,0)
This date was reported on the date of the Veteran's
"^DD",2,2,.31116,21,9,0)
most recent 1010EZ submission.  As of the date of this
"^DD",2,2,.31116,21,10,0)
patch (DG*5.3*597), there are no VistA applications
"^DD",2,2,.31116,21,11,0)
other than 1010EZ capable of updating this data item.
"^DD",2,2,.31116,21,12,0)
  
"^DD",2,2,.31116,21,13,0)
See the MOST RECENT 1010EZ field (#1010.156) for the
"^DD",2,2,.31116,21,14,0)
internal entry number in the 1010EZ HOLDING file (#712)
"^DD",2,2,.31116,21,15,0)
for the 1010EZ application on which this date was
"^DD",2,2,.31116,21,16,0)
reported.
"^DD",2,2,.31116,21,17,0)
 
"^DD",2,2,.31116,"DT")
3040416
"^DD",2,2,1010.156,0)
MOST RECENT 1010EZ^P712'I^EAS(712,^1010.15;6^Q
"^DD",2,2,1010.156,21,0)
^.001^7^7^3040419^^^^
"^DD",2,2,1010.156,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",2,2,1010.156,21,2,0)
  
"^DD",2,2,1010.156,21,3,0)
The purpose of this field is to link the PATIENT file record with
"^DD",2,2,1010.156,21,4,0)
the Veteran's latest 1010EZ Application to this site.  The 1010EZ
"^DD",2,2,1010.156,21,5,0)
data is retained in 1010EZ HOLDING File (#712).  The internal entry
"^DD",2,2,1010.156,21,6,0)
number to file #712 is stored in the MOST RECENT 1010EZ field.
"^DD",2,2,1010.156,21,7,0)
  
"^DD",2,2,1010.156,"DT")
3040420
"^DD",2,2,1010.157,0)
COMBAT INDICATED ON 1010EZ^S^0:NO;1:YES;^1010.15;7^Q
"^DD",2,2,1010.157,21,0)
^^13^13^3040416^
"^DD",2,2,1010.157,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",2,2,1010.157,21,2,0)
 
"^DD",2,2,1010.157,21,3,0)
The purpose of this field is to store within the PATIENT file the
"^DD",2,2,1010.157,21,4,0)
applicant's answer to the 1010EZ question:
"^DD",2,2,1010.157,21,5,0)
 
"^DD",2,2,1010.157,21,6,0)
    DID YOU SERVE IN COMBAT AFTER 11/11/1998?
"^DD",2,2,1010.157,21,7,0)
 
"^DD",2,2,1010.157,21,8,0)
This field may contain any of the following:
"^DD",2,2,1010.157,21,9,0)
 
"^DD",2,2,1010.157,21,10,0)
    0 for "NO"
"^DD",2,2,1010.157,21,11,0)
    1 for "YES"
"^DD",2,2,1010.157,21,12,0)
    null (i.e., not answered)
"^DD",2,2,1010.157,21,13,0)
 
"^DD",2,2,1010.157,"DT")
3040416
"^DD",2,2,1010.158,0)
DISABILITY DISCHARGE ON 1010EZ^S^0:NO;1:YES;^1010.15;8^Q
"^DD",2,2,1010.158,21,0)
^.001^14^14^3040419^^
"^DD",2,2,1010.158,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",2,2,1010.158,21,2,0)
 
"^DD",2,2,1010.158,21,3,0)
The purpose of this field is to store within the PATIENT file the
"^DD",2,2,1010.158,21,4,0)
applicant's answer to the 1010EZ question:
"^DD",2,2,1010.158,21,5,0)
 
"^DD",2,2,1010.158,21,6,0)
WAS DISCHARGE FROM MILITARY FOR A DISABILITY INCURRED OR
"^DD",2,2,1010.158,21,7,0)
AGGRAVATED IN THE LINE OF DUTY?
"^DD",2,2,1010.158,21,8,0)
 
"^DD",2,2,1010.158,21,9,0)
This field may contain any of the following:
"^DD",2,2,1010.158,21,10,0)
 
"^DD",2,2,1010.158,21,11,0)
    0 for "NO"
"^DD",2,2,1010.158,21,12,0)
    1 for "YES"
"^DD",2,2,1010.158,21,13,0)
    null (i.e., not answered)
"^DD",2,2,1010.158,21,14,0)
 
"^DD",2,2,1010.158,"DT")
3040416
"^DD",2,2,1010.159,0)
APPOINTMENT REQUEST ON 1010EZ^S^0:NO;1:YES;^1010.15;9^Q
"^DD",2,2,1010.159,21,0)
^^14^14^3040419^
"^DD",2,2,1010.159,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",2,2,1010.159,21,2,0)
 
"^DD",2,2,1010.159,21,3,0)
The purpose of this field is to store within the PATIENT file the
"^DD",2,2,1010.159,21,4,0)
applicant's answer to the 1010EZ question:
"^DD",2,2,1010.159,21,5,0)
 
"^DD",2,2,1010.159,21,6,0)
DO YOU WANT AN APPOINTMENT WITH A VA DOCTOR OR PROVIDER AS SOON AS
"^DD",2,2,1010.159,21,7,0)
ONE BECOMES AVAILABLE?
"^DD",2,2,1010.159,21,8,0)
 
"^DD",2,2,1010.159,21,9,0)
This field may contain any of the following:
"^DD",2,2,1010.159,21,10,0)
 
"^DD",2,2,1010.159,21,11,0)
    0 for "NO" 
"^DD",2,2,1010.159,21,12,0)
    1 for "YES"
"^DD",2,2,1010.159,21,13,0)
    null (i.e., not answered)
"^DD",2,2,1010.159,21,14,0)
 
"^DD",2,2,1010.159,"DT")
3040419
"^DD",408.13,408.13,1.1,0)
MAIDEN NAME^F^^1;1^K:$L(X)>30!($L(X)<2) X
"^DD",408.13,408.13,1.1,3)
Answer must be 2-30 characters in length.
"^DD",408.13,408.13,1.1,21,0)
^.001^8^8^3040416^^
"^DD",408.13,408.13,1.1,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.13,408.13,1.1,21,2,0)
 
"^DD",408.13,408.13,1.1,21,3,0)
The purpose of this field is to store in the INCOME PERSON file
"^DD",408.13,408.13,1.1,21,4,0)
the maiden name of the Veteran's spouse as reported on the
"^DD",408.13,408.13,1.1,21,5,0)
1010EZ application.
"^DD",408.13,408.13,1.1,21,6,0)
 
"^DD",408.13,408.13,1.1,21,7,0)
However, the field may be used to add the maiden name of any
"^DD",408.13,408.13,1.1,21,8,0)
dependent of the Veteran.
"^DD",408.13,408.13,1.1,"DT")
3040416
"^DD",408.13,408.13,1.2,0)
STREET ADDRESS 1^F^^1;2^K:$L(X)>35!($L(X)<3) X
"^DD",408.13,408.13,1.2,3)
Answer must be 3-35 characters in length.
"^DD",408.13,408.13,1.2,21,0)
^.001^8^8^3040416^^
"^DD",408.13,408.13,1.2,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.13,408.13,1.2,21,2,0)
 
"^DD",408.13,408.13,1.2,21,3,0)
The purpose of this field is to store in the INCOME PERSON file
"^DD",408.13,408.13,1.2,21,4,0)
line 1 of the street address of the Veteran's spouse as reported
"^DD",408.13,408.13,1.2,21,5,0)
on the 1010EZ.
"^DD",408.13,408.13,1.2,21,6,0)
 
"^DD",408.13,408.13,1.2,21,7,0)
However, the field may be used for the address of any dependent
"^DD",408.13,408.13,1.2,21,8,0)
of the Veteran.
"^DD",408.13,408.13,1.2,"DT")
3040416
"^DD",408.13,408.13,1.3,0)
STREET ADDRESS 2^F^^1;3^K:$L(X)>30!($L(X)<3) X
"^DD",408.13,408.13,1.3,3)
Answer must be 3-30 characters in length.
"^DD",408.13,408.13,1.3,21,0)
^^8^8^3040416^
"^DD",408.13,408.13,1.3,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.13,408.13,1.3,21,2,0)
 
"^DD",408.13,408.13,1.3,21,3,0)
The purpose of this field is to store in the INCOME PERSON file
"^DD",408.13,408.13,1.3,21,4,0)
line 2 of the street address of the Veteran's spouse as reported
"^DD",408.13,408.13,1.3,21,5,0)
on the 1010EZ.
"^DD",408.13,408.13,1.3,21,6,0)
 
"^DD",408.13,408.13,1.3,21,7,0)
However, the field may be used for the address of any dependent
"^DD",408.13,408.13,1.3,21,8,0)
of the Veteran.
"^DD",408.13,408.13,1.3,"DT")
3040416
"^DD",408.13,408.13,1.4,0)
STREET ADDRESS 3^F^^1;4^K:$L(X)>30!($L(X)<3) X
"^DD",408.13,408.13,1.4,3)
Answer must be 3-30 characters in length.
"^DD",408.13,408.13,1.4,21,0)
^^8^8^3040416^
"^DD",408.13,408.13,1.4,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.13,408.13,1.4,21,2,0)
 
"^DD",408.13,408.13,1.4,21,3,0)
The purpose of this field is to store in the INCOME PERSON file
"^DD",408.13,408.13,1.4,21,4,0)
line 3 of the street address of the Veteran's spouse as reported
"^DD",408.13,408.13,1.4,21,5,0)
on the 1010EZ.
"^DD",408.13,408.13,1.4,21,6,0)
 
"^DD",408.13,408.13,1.4,21,7,0)
However, the field may be used for the address of any dependent
"^DD",408.13,408.13,1.4,21,8,0)
of the Veteran.
"^DD",408.13,408.13,1.4,"DT")
3040416
"^DD",408.13,408.13,1.5,0)
CITY^F^^1;5^K:$L(X)>30!($L(X)<3) X
"^DD",408.13,408.13,1.5,3)
Answer must be 3-30 characters in length.
"^DD",408.13,408.13,1.5,21,0)
^^8^8^3040416^
"^DD",408.13,408.13,1.5,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.13,408.13,1.5,21,2,0)
 
"^DD",408.13,408.13,1.5,21,3,0)
The purpose of this field is to store in the INCOME PERSON file
"^DD",408.13,408.13,1.5,21,4,0)
city name from the address of the Veteran's spouse as reported
"^DD",408.13,408.13,1.5,21,5,0)
on the 1010EZ.
"^DD",408.13,408.13,1.5,21,6,0)
 
"^DD",408.13,408.13,1.5,21,7,0)
However, the field may be used for the address of any dependent
"^DD",408.13,408.13,1.5,21,8,0)
of the Veteran.
"^DD",408.13,408.13,1.5,"DT")
3040416
"^DD",408.13,408.13,1.6,0)
STATE^P5'^DIC(5,^1;6^Q
"^DD",408.13,408.13,1.6,21,0)
^^8^8^3040416^
"^DD",408.13,408.13,1.6,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.13,408.13,1.6,21,2,0)
 
"^DD",408.13,408.13,1.6,21,3,0)
The purpose of this field is to store in the INCOME PERSON file
"^DD",408.13,408.13,1.6,21,4,0)
state name from the address of the Veteran's spouse as reported
"^DD",408.13,408.13,1.6,21,5,0)
on the 1010EZ.
"^DD",408.13,408.13,1.6,21,6,0)
 
"^DD",408.13,408.13,1.6,21,7,0)
However, the field may be used for the address of any dependent
"^DD",408.13,408.13,1.6,21,8,0)
of the Veteran.
"^DD",408.13,408.13,1.6,"DT")
3040416
"^DD",408.13,408.13,1.7,0)
ZIP^F^^1;7^K:$L(X)>10!($L(X)<5)!'((X?5N)!(X?5N1"-"4N)) X
"^DD",408.13,408.13,1.7,3)
Answer must be 5-10 characters in length.
"^DD",408.13,408.13,1.7,21,0)
^^8^8^3040416^
"^DD",408.13,408.13,1.7,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.13,408.13,1.7,21,2,0)
 
"^DD",408.13,408.13,1.7,21,3,0)
The purpose of this field is to store in the INCOME PERSON file
"^DD",408.13,408.13,1.7,21,4,0)
zip code from the address of the Veteran's spouse as reported
"^DD",408.13,408.13,1.7,21,5,0)
on the 1010EZ.
"^DD",408.13,408.13,1.7,21,6,0)
 
"^DD",408.13,408.13,1.7,21,7,0)
However, the field may be used for the address of any dependent
"^DD",408.13,408.13,1.7,21,8,0)
of the Veteran.
"^DD",408.13,408.13,1.7,"DT")
3040416
"^DD",408.13,408.13,1.8,0)
TELEPHONE NUMBER^F^^1;8^K:$L(X)>13!($L(X)<10)!'((X?10N)!(X?3N1"."3N1"."4N)!(X?1"("3N1")"3N1"-"4N)) X
"^DD",408.13,408.13,1.8,3)
Answer must be 10-13 characters in length.
"^DD",408.13,408.13,1.8,21,0)
^.001^8^8^3040419^^^
"^DD",408.13,408.13,1.8,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.13,408.13,1.8,21,2,0)
 
"^DD",408.13,408.13,1.8,21,3,0)
The purpose of this field is to store in the INCOME PERSON file
"^DD",408.13,408.13,1.8,21,4,0)
telephone number of the Veteran's spouse as reported on the
"^DD",408.13,408.13,1.8,21,5,0)
1010EZ.
"^DD",408.13,408.13,1.8,21,6,0)
 
"^DD",408.13,408.13,1.8,21,7,0)
However, the field may be used for the telephone number of any 
"^DD",408.13,408.13,1.8,21,8,0)
dependent of the Veteran.
"^DD",408.13,408.13,1.8,23,0)
^.001^9^9^3040419^^^
"^DD",408.13,408.13,1.8,23,1,0)
Telephone number should always contain Area Code.
"^DD",408.13,408.13,1.8,23,2,0)
 
"^DD",408.13,408.13,1.8,23,3,0)
May be exactly 10 digits or may be formatted upto 13 characters as:
"^DD",408.13,408.13,1.8,23,4,0)
 
"^DD",408.13,408.13,1.8,23,5,0)
   (nnn)nnn-nnnn
"^DD",408.13,408.13,1.8,23,6,0)
   i.e., (<area_code>)<exchange>-<number>
"^DD",408.13,408.13,1.8,23,7,0)
   or
"^DD",408.13,408.13,1.8,23,8,0)
   nnn.nnn.nnnn
"^DD",408.13,408.13,1.8,23,9,0)
   i.e., <area_code>.<exchange>.<number>
"^DD",408.13,408.13,1.8,"DT")
3040419
"^DD",408.22,408.22,.18,0)
CHILD 18-23 IN SCHOOL^S^0:NO;1:YES;^0;18^Q
"^DD",408.22,408.22,.18,3)

"^DD",408.22,408.22,.18,21,0)
^.001^10^10^3040416^^
"^DD",408.22,408.22,.18,21,1,0)
This field was added via patch DG*5.3*597, distributed with EAS*1.0*51.
"^DD",408.22,408.22,.18,21,2,0)
 
"^DD",408.22,408.22,.18,21,3,0)
The purpose of this field is to store with the INCOME RELATION file
"^DD",408.22,408.22,.18,21,4,0)
the in-school status of a child claimed as a dependent on the
"^DD",408.22,408.22,.18,21,5,0)
Veteran's 1010EZ application.
"^DD",408.22,408.22,.18,21,6,0)
 
"^DD",408.22,408.22,.18,21,7,0)
This field may contain any of the following:
"^DD",408.22,408.22,.18,21,8,0)
 
"^DD",408.22,408.22,.18,21,9,0)
    0 for "NO"
"^DD",408.22,408.22,.18,21,10,0)
    1 for "YES"
"^DD",408.22,408.22,.18,"DT")
3040416
**INSTALL NAME**
EAS*1.0*51
"BLD",4906,0)
EAS*1.0*51^ENROLLMENT APPLICATION SYSTEM^0^3040708^y
"BLD",4906,1,0)
^^1^1^3040707^
"BLD",4906,1,1,0)
1010EZ Phase 2.5 enhancements.
"BLD",4906,4,0)
^9.64PA^711^1
"BLD",4906,4,711,0)
711
"BLD",4906,4,711,222)
y^y^f^^n^^y^o^n
"BLD",4906,4,"B",711,711)

"BLD",4906,"KRN",0)
^9.67PA^8989.52^19
"BLD",4906,"KRN",.4,0)
.4
"BLD",4906,"KRN",.4,"NM",0)
^9.68A^^
"BLD",4906,"KRN",.401,0)
.401
"BLD",4906,"KRN",.402,0)
.402
"BLD",4906,"KRN",.403,0)
.403
"BLD",4906,"KRN",.5,0)
.5
"BLD",4906,"KRN",.84,0)
.84
"BLD",4906,"KRN",3.6,0)
3.6
"BLD",4906,"KRN",3.8,0)
3.8
"BLD",4906,"KRN",9.2,0)
9.2
"BLD",4906,"KRN",9.8,0)
9.8
"BLD",4906,"KRN",9.8,"NM",0)
^9.68A^23^23
"BLD",4906,"KRN",9.8,"NM",1,0)
EASEZC1^^0^B43867404
"BLD",4906,"KRN",9.8,"NM",2,0)
EASEZC3^^0^B18473049
"BLD",4906,"KRN",9.8,"NM",3,0)
EASEZU4^^0^B23520819
"BLD",4906,"KRN",9.8,"NM",4,0)
EASEZF1^^0^B47097767
"BLD",4906,"KRN",9.8,"NM",5,0)
EASEZF2^^0^B68800848
"BLD",4906,"KRN",9.8,"NM",6,0)
EASEZF5^^0^B17556182
"BLD",4906,"KRN",9.8,"NM",7,0)
EASEZPF^^0^B22616026
"BLD",4906,"KRN",9.8,"NM",8,0)
EASEZP6F^^0^B13477174
"BLD",4906,"KRN",9.8,"NM",9,0)
EASEZP61^^0^B44351694
"BLD",4906,"KRN",9.8,"NM",10,0)
EASEZP62^^0^B69678725
"BLD",4906,"KRN",9.8,"NM",11,0)
EASEZP63^^0^B62330141
"BLD",4906,"KRN",9.8,"NM",12,0)
EASEZP6I^^0^B3119021
"BLD",4906,"KRN",9.8,"NM",13,0)
EASEZP6D^^0^B9356764
"BLD",4906,"KRN",9.8,"NM",14,0)
EASEZP6M^^0^B21281109
"BLD",4906,"KRN",9.8,"NM",15,0)
EASEZP6U^^0^B41294227
"BLD",4906,"KRN",9.8,"NM",16,0)
EASEZT1^^0^B15357517
"BLD",4906,"KRN",9.8,"NM",17,0)
EASEZI^^0^B57651225
"BLD",4906,"KRN",9.8,"NM",18,0)
EASEZF4^^0^B17639360
"BLD",4906,"KRN",9.8,"NM",19,0)
EASEZT2^^0^B15320253
"BLD",4906,"KRN",9.8,"NM",20,0)
EASEZW^^0^B77350187
"BLD",4906,"KRN",9.8,"NM",21,0)
EASEZU5^^0^B59440365
"BLD",4906,"KRN",9.8,"NM",22,0)
EASEZC2^^0^B37750019
"BLD",4906,"KRN",9.8,"NM",23,0)
EASEZPU2^^0^B19296333
"BLD",4906,"KRN",9.8,"NM","B","EASEZC1",1)

"BLD",4906,"KRN",9.8,"NM","B","EASEZC2",22)

"BLD",4906,"KRN",9.8,"NM","B","EASEZC3",2)

"BLD",4906,"KRN",9.8,"NM","B","EASEZF1",4)

"BLD",4906,"KRN",9.8,"NM","B","EASEZF2",5)

"BLD",4906,"KRN",9.8,"NM","B","EASEZF4",18)

"BLD",4906,"KRN",9.8,"NM","B","EASEZF5",6)

"BLD",4906,"KRN",9.8,"NM","B","EASEZI",17)

"BLD",4906,"KRN",9.8,"NM","B","EASEZP61",9)

"BLD",4906,"KRN",9.8,"NM","B","EASEZP62",10)

"BLD",4906,"KRN",9.8,"NM","B","EASEZP63",11)

"BLD",4906,"KRN",9.8,"NM","B","EASEZP6D",13)

"BLD",4906,"KRN",9.8,"NM","B","EASEZP6F",8)

"BLD",4906,"KRN",9.8,"NM","B","EASEZP6I",12)

"BLD",4906,"KRN",9.8,"NM","B","EASEZP6M",14)

"BLD",4906,"KRN",9.8,"NM","B","EASEZP6U",15)

"BLD",4906,"KRN",9.8,"NM","B","EASEZPF",7)

"BLD",4906,"KRN",9.8,"NM","B","EASEZPU2",23)

"BLD",4906,"KRN",9.8,"NM","B","EASEZT1",16)

"BLD",4906,"KRN",9.8,"NM","B","EASEZT2",19)

"BLD",4906,"KRN",9.8,"NM","B","EASEZU4",3)

"BLD",4906,"KRN",9.8,"NM","B","EASEZU5",21)

"BLD",4906,"KRN",9.8,"NM","B","EASEZW",20)

"BLD",4906,"KRN",19,0)
19
"BLD",4906,"KRN",19.1,0)
19.1
"BLD",4906,"KRN",101,0)
101
"BLD",4906,"KRN",409.61,0)
409.61
"BLD",4906,"KRN",771,0)
771
"BLD",4906,"KRN",870,0)
870
"BLD",4906,"KRN",8989.51,0)
8989.51
"BLD",4906,"KRN",8989.52,0)
8989.52
"BLD",4906,"KRN",8994,0)
8994
"BLD",4906,"KRN","B",.4,.4)

"BLD",4906,"KRN","B",.401,.401)

"BLD",4906,"KRN","B",.402,.402)

"BLD",4906,"KRN","B",.403,.403)

"BLD",4906,"KRN","B",.5,.5)

"BLD",4906,"KRN","B",.84,.84)

"BLD",4906,"KRN","B",3.6,3.6)

"BLD",4906,"KRN","B",3.8,3.8)

"BLD",4906,"KRN","B",9.2,9.2)

"BLD",4906,"KRN","B",9.8,9.8)

"BLD",4906,"KRN","B",19,19)

"BLD",4906,"KRN","B",19.1,19.1)

"BLD",4906,"KRN","B",101,101)

"BLD",4906,"KRN","B",409.61,409.61)

"BLD",4906,"KRN","B",771,771)

"BLD",4906,"KRN","B",870,870)

"BLD",4906,"KRN","B",8989.51,8989.51)

"BLD",4906,"KRN","B",8989.52,8989.52)

"BLD",4906,"KRN","B",8994,8994)

"BLD",4906,"QUES",0)
^9.62^^
"BLD",4906,"REQB",0)
^9.611^2^2
"BLD",4906,"REQB",1,0)
DG*5.3*597^2
"BLD",4906,"REQB",2,0)
EAS*1.0*44^2
"BLD",4906,"REQB","B","DG*5.3*597",1)

"BLD",4906,"REQB","B","EAS*1.0*44",2)

"DATA",711,.1,0)
UNKNOWN^UNKNOWN^A^^1.0
"DATA",711,.1,1)
0^0^0
"DATA",711,1,0)
TYPE OF BENEFIT-HEALTH SERVICES^I;1A.1^A^^1.0
"DATA",711,1,1)
0^0^0
"DATA",711,1,2)
Applying for Health Services
"DATA",711,1,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,1,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,2,0)
TYPE OF BENEFIT-NURSING HOME^I;1A.2^A^^1.0
"DATA",711,2,1)
0^0^0
"DATA",711,2,2)
Applying for Nursing Home
"DATA",711,2,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,2,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,3,0)
TYPE OF BENEFIT-DOMICILIARY^I;1A.3^A^^1.0
"DATA",711,3,1)
0^0^0
"DATA",711,3,2)
Applying for Domiciliary
"DATA",711,3,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,3,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,4,0)
TYPE OF BENEFIT-DENTAL^I;1A.4^A^^1.0
"DATA",711,4,1)
0^0^0
"DATA",711,4,2)
Applying for Dental
"DATA",711,4,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,4,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,5,0)
TYPE OF BENEFIT-ENROLLMENT^I;1A.5^A^^1.0
"DATA",711,5,1)
0^0^0
"DATA",711,5,2)
Applying for Enrollment
"DATA",711,5,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,5,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,6,0)
FACILITY TO RECEIVE 1010EZ^I;1B.^A^^1.0
"DATA",711,6,1)
0^0^0
"DATA",711,6,2)
Facility Applying To
"DATA",711,6,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,7,0)
APPLICANT LAST NAME^I;2.1^A^^1.0
"DATA",711,7,1)
2^2^.01
"DATA",711,7,2)
Applicant Name
"DATA",711,7,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,7,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"APPLICANT",EASMULT)
"DATA",711,8,0)
APPLICANT FIRST NAME^I;2.2^A^^1.0
"DATA",711,8,1)
2^2^.01
"DATA",711,8,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,9,0)
APPLICANT MIDDLE NAME^I;2.3^A^^1.0
"DATA",711,9,1)
2^2^.01
"DATA",711,9,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,10,0)
APPLICANT SUFFIX NAME^I;2.4^A^^1.0
"DATA",711,10,1)
2^2^.01
"DATA",711,10,3)
S DIR(0)="FO^1:6^K:X'?1.A X"
"DATA",711,11,0)
APPLICANT OTHER NAME^I;3.^A^^1.0
"DATA",711,11,1)
2^2.01^.01
"DATA",711,11,2)
Alias
"DATA",711,11,3)
S DIR(0)="FO^2:30"
"DATA",711,11,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,12,0)
APPLICANT SEX^I;4.^A^^1.0
"DATA",711,12,1)
2^2^.02
"DATA",711,12,2)
Sex
"DATA",711,12,"T")
S EASRTR=$$SEX^EASEZT1(EZDATA)
"DATA",711,13,0)
APPLICANT SOCIAL SECURITY NUMBER^I;5.^A^^1.0
"DATA",711,13,1)
2^2^.09
"DATA",711,13,2)
SSN
"DATA",711,13,3)
S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"DATA",711,14,0)
APPLICANT CLAIM NUMBER^I;6.^A^^1.0
"DATA",711,14,1)
2^2^.313
"DATA",711,14,2)
Claim #
"DATA",711,15,0)
APPLICANT DATE OF BIRTH^I;7.^A^^1.0
"DATA",711,15,1)
2^2^.03
"DATA",711,15,2)
DOB
"DATA",711,16,0)
RELIGION^I;8.^A^^1.0
"DATA",711,16,1)
2^2^.08
"DATA",711,16,2)
Religion
"DATA",711,16,"T")
S EASRTR=$$RELIGION^EASEZT2(EZDATA)
"DATA",711,17,0)
APPLICANT STREET ADDRESS^I;9A.^A^^1.0
"DATA",711,17,1)
2^2^.111
"DATA",711,17,2)
Street Address
"DATA",711,17,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,18,0)
APPLICANT CITY^I;9B.^A^^1.0
"DATA",711,18,1)
2^2^.114
"DATA",711,18,2)
City
"DATA",711,18,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,19,0)
APPLICANT STATE^I;9C.^A^^1.0
"DATA",711,19,1)
2^2^.115
"DATA",711,19,2)
State
"DATA",711,19,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,20,0)
APPLICANT ZIP^I;9D.^A^^1.0
"DATA",711,20,1)
2^2^.1112
"DATA",711,20,2)
Zipcode
"DATA",711,20,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,20,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,21,0)
APPLICANT COUNTY^I;9E.^A^^1.0
"DATA",711,21,1)
2^2^.117
"DATA",711,21,2)
County
"DATA",711,21,"T")
S EASRTR=$$UC^EASEZT1(EZDATA),EASRTR=$$COUNTY^EASEZT1(EASAPP,EASRTR)
"DATA",711,22,0)
APPLICANT HOME PHONE AREA CODE^I;10.1^A^^1.0
"DATA",711,22,1)
2^2^.131
"DATA",711,22,2)
Home Phone
"DATA",711,22,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,22,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"APPLICANT")
"DATA",711,23,0)
APPLICANT HOME PHONE NUMBER^I;10.2^A^^1.0
"DATA",711,23,1)
2^2^.131
"DATA",711,23,2)
Home Phone
"DATA",711,23,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,24,0)
APPLICANT WORK PHONE AREA CODE^I;11.1^A^^1.0
"DATA",711,24,1)
2^2^.132
"DATA",711,24,2)
Work Phone
"DATA",711,24,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,24,"T")
S EASRTR=$$WORKPH^EASEZT2(EASAPP,"APPLICANT")
"DATA",711,25,0)
APPLICANT WORK PHONE NUMBER^I;11.2^A^^1.0
"DATA",711,25,1)
2^2^.132
"DATA",711,25,2)
Work Phone
"DATA",711,25,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,26,0)
APPLICANT WORK PHONE EXTENSION^I;11.3^A^^1.0
"DATA",711,26,1)
2^2^.132
"DATA",711,26,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,27,0)
MARITAL STATUS^I;12.^A^^1.0
"DATA",711,27,1)
2^2^.05
"DATA",711,27,2)
Marital Status
"DATA",711,27,"T")
S EASRTR=$$MARR^EASEZT2(EZDATA)
"DATA",711,28,0)
LAST BRANCH OF SERVICE^I;13A.^A^^1.0
"DATA",711,28,1)
2^2^.325
"DATA",711,28,2)
Last Br. of Service
"DATA",711,28,"T")
S EASRTR=$$SVCBRCH^EASEZT2(EZDATA)
"DATA",711,29,0)
LAST ENTRY DATE^I;13B.^A^^1.0
"DATA",711,29,1)
2^2^.326
"DATA",711,29,2)
Last Entry Date
"DATA",711,29,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,30,0)
LAST DISCHARGE DATE^I;13C.^A^^1.0
"DATA",711,30,1)
2^2^.327
"DATA",711,30,2)
Last Discharge Date
"DATA",711,30,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,31,0)
LAST DISCHARGE TYPE^I;13D.^A^^1.0
"DATA",711,31,1)
2^2^.324
"DATA",711,31,2)
Discharge Type
"DATA",711,32,0)
SERVICE NUMBER^I;13E.^A^^1.0
"DATA",711,32,1)
2^2^.328
"DATA",711,32,2)
Service Number
"DATA",711,33,0)
PURPLE HEART^I;14A1.^A^^1.0
"DATA",711,33,1)
2^2^.531
"DATA",711,33,2)
Purple Heart?
"DATA",711,33,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,34,0)
PRISONER OF WAR^I;14A2.^A^^1.0
"DATA",711,34,1)
2^2^.525
"DATA",711,34,2)
POW?
"DATA",711,34,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,35,0)
SERVICE-CONNECTED^I;14B.^A^^1.0
"DATA",711,35,1)
2^2^.301
"DATA",711,35,2)
Service-Connected?
"DATA",711,35,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,36,0)
RATED PERCENTAGE^I;14B1.^A^^1.0
"DATA",711,36,1)
2^2^.302
"DATA",711,36,2)
SC %
"DATA",711,37,0)
VA PENSION^I;14C.^A^^1.0
"DATA",711,37,1)
2^2^.36235
"DATA",711,37,2)
VA Pension?
"DATA",711,37,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,38,0)
RETIRED FROM MILITARY^I;14D.^A^^1.0
"DATA",711,38,1)
2^2^.36255
"DATA",711,38,2)
Ret. From Military?
"DATA",711,38,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,39,0)
DISABILITY RETIREMENT FROM MILITARY^I;14D1.^A^^1.0
"DATA",711,39,1)
2^2^.362
"DATA",711,39,2)
Mil. Disab. Ret.?
"DATA",711,39,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,40,0)
REGULAR RETIREMENT FROM MILITARY^I;14D2.^A^^1.0
"DATA",711,40,1)
2^2^.36255
"DATA",711,40,2)
Mil. Regular Ret.?
"DATA",711,40,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,41,0)
TOXINS IN GULF WAR^I;14E.^A^^1.0
"DATA",711,41,1)
2^2^.322013
"DATA",711,41,2)
Gulf War Toxin Exp.?
"DATA",711,41,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,42,0)
AGENT ORANGE^I;14F.^A^^1.0
"DATA",711,42,1)
2^2^.32102
"DATA",711,42,2)
Agent Orange Exp.?
"DATA",711,42,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,43,0)
RADIATION EXPOSURE^I;14G.^A^^1.0
"DATA",711,43,1)
2^2^.32103
"DATA",711,43,2)
Radiation Exp.?
"DATA",711,43,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,44,0)
DENTAL INJURY^I;14H.^A^^1.0
"DATA",711,44,1)
2^2^.368
"DATA",711,44,2)
Mil. Dental Injury?
"DATA",711,44,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,45,0)
SPINAL CORD INJURY^I;14I.^A^^1.0
"DATA",711,45,1)
2^2^57.4
"DATA",711,45,2)
Spinal Cord Injury?
"DATA",711,45,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,46,0)
ELIGIBLE FOR MEDICAID^I;14J.^A^^1.0
"DATA",711,46,1)
2^2^.381
"DATA",711,46,2)
Elig. For Medicaid?
"DATA",711,46,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,47,0)
MEDICARE PART A^I;14K.^A^^1.0
"DATA",711,47,1)
355.33^355.33^20.01
"DATA",711,47,2)
Medicare Part A?
"DATA",711,47,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,47,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,48,0)
MEDICARE PART A EFFECTIVE DATE^I;14K1.^A^^1.0
"DATA",711,48,1)
355.33^355.33^60.02
"DATA",711,48,2)
Part A Effective DT
"DATA",711,48,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,49,0)
MEDICARE PART B^I;14L.^A^^1.0
"DATA",711,49,1)
355.33^355.33^20.01
"DATA",711,49,2)
Medicare Part B?
"DATA",711,49,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,49,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,50,0)
MEDICARE PART B EFFECTIVE DATE^I;14L1.^A^^1.0
"DATA",711,50,1)
355.33^355.33^60.02
"DATA",711,50,2)
Part B Effective DT
"DATA",711,50,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,51,0)
MEDICARE CLAIM NUMBER^I;14M.^A^^1.0
"DATA",711,51,1)
0^0^0
"DATA",711,51,2)
Medicare Claim #
"DATA",711,52,0)
SIGNEE ON MEDICARE CARD^I;14N.^A^^1.0
"DATA",711,52,1)
355.33^355.33^60.07
"DATA",711,52,2)
Medicare Card Name
"DATA",711,52,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,53,0)
APPLICANT EMPLOYMENT STATUS^I;15A.1^A^^1.0
"DATA",711,53,1)
2^2^.31115
"DATA",711,53,2)
Emp. Status
"DATA",711,53,"T")
S EASRTR=$$EMPLOY^EASEZT2(EZDATA)
"DATA",711,54,0)
APPLICANT DATE OF RETIREMENT^I;15A.2^A^^2.5
"DATA",711,54,1)
2^2^.31116
"DATA",711,54,2)
Retirement Date
"DATA",711,54,3)
S DIR(0)="D^::AEP"
"DATA",711,54,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,55,0)
APPLICANT EMPLOYER^I;15B.1^A^^1.0
"DATA",711,55,1)
2^2^.3111
"DATA",711,55,2)
Employer
"DATA",711,55,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,56,0)
APPLICANT EMPLOYER STREET ADDRESS^I;15B.2^A^^1.0
"DATA",711,56,1)
2^2^.3113
"DATA",711,56,2)
Emp. Street Addr.
"DATA",711,56,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,57,0)
APPLICANT EMPLOYER CITY^I;15B.3^A^^1.0
"DATA",711,57,1)
2^2^.3116
"DATA",711,57,2)
Emp. City
"DATA",711,57,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,58,0)
APPLICANT EMPLOYER STATE^I;15B.4^A^^1.0
"DATA",711,58,1)
2^2^.3117
"DATA",711,58,2)
Emp. State
"DATA",711,58,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,59,0)
APPLICANT EMPLOYER ZIP^I;15B.5^A^^1.0
"DATA",711,59,1)
2^2^.2205
"DATA",711,59,2)
Emp. Zip
"DATA",711,59,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,59,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,60,0)
APPLICANT EMPLOYER PHONE AREA CODE^I;15B.6^A^^1.0
"DATA",711,60,1)
2^2^.3119
"DATA",711,60,2)
Emp. Phone Number
"DATA",711,60,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,60,"T")
S EASRTR=$$EMPLPH^EASEZT2(EASAPP,"APPLICANT")
"DATA",711,61,0)
APPLICANT EMPLOYER PHONE NUMBER^I;15B.7^A^^1.0
"DATA",711,61,1)
2^2^.3119
"DATA",711,61,2)
Emp. Phone
"DATA",711,61,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,62,0)
APPLICANT EMPLOYER PHONE EXTENSION^I;15B.8^A^^1.0
"DATA",711,62,1)
2^2^.3119
"DATA",711,62,2)
Emp. Phone Ext.
"DATA",711,62,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,63,0)
SPOUSE EMPLOYMENT STATUS^I;16A.1^A^^1.0
"DATA",711,63,1)
2^2^.2515
"DATA",711,63,2)
Sp. Empl. Status
"DATA",711,63,"T")
S EASRTR=$$EMPLOY^EASEZT2(EZDATA)
"DATA",711,64,0)
SPOUSE DATE OF RETIREMENT^I;16A.2^A^^2.5
"DATA",711,64,1)
2^2^.2516
"DATA",711,64,2)
Sp. Retirement Date
"DATA",711,64,3)
S DIR(0)="D^::AEP"
"DATA",711,64,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,65,0)
SPOUSE EMPLOYER^I;16B.1^A^^1.0
"DATA",711,65,1)
2^2^.251
"DATA",711,65,2)
Sp. Employer
"DATA",711,65,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,66,0)
SPOUSE EMPLOYER STREET ADDRESS^I;16B.2^A^^1.0
"DATA",711,66,1)
2^2^.252
"DATA",711,66,2)
Sp. Empl. Street Addr.
"DATA",711,66,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,67,0)
SPOUSE EMPLOYER CITY^I;16B.3^A^^1.0
"DATA",711,67,1)
2^2^.255
"DATA",711,67,2)
Sp. Employer City
"DATA",711,67,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,68,0)
SPOUSE EMPLOYER STATE^I;16B.4^A^^1.0
"DATA",711,68,1)
2^2^.256
"DATA",711,68,2)
Sp. Employer State
"DATA",711,68,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,69,0)
SPOUSE EMPLOYER ZIP^I;16B.5^A^^1.0
"DATA",711,69,1)
2^2^.2206
"DATA",711,69,2)
Sp. Employer Zip
"DATA",711,69,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,69,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,70,0)
SPOUSE EMPLOYER PHONE AREA CODE^I;16B.6^A^^1.0
"DATA",711,70,1)
2^2^.258
"DATA",711,70,2)
Sp. Employer Phone Number
"DATA",711,70,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,70,"T")
S EASRTR=$$EMPLPH^EASEZT2(EASAPP,"SPOUSE")
"DATA",711,71,0)
SPOUSE EMPLOYER PHONE NUMBER^I;16B.7^A^^1.0
"DATA",711,71,1)
2^2^.258
"DATA",711,71,2)
Sp. Employer Phone
"DATA",711,71,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,72,0)
SPOUSE EMPLOYER PHONE EXTENSION^I;16B.8^A^^1.0
"DATA",711,72,1)
2^2^.258
"DATA",711,72,2)
Sp. Employer Phone Ext.
"DATA",711,72,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,73,0)
APPLICANT HAS INSURANCE^I;17.^A^^1.0
"DATA",711,73,1)
0^0^0
"DATA",711,73,2)
Health Insurance?
"DATA",711,73,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,73,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,74,0)
APPLICANT INSURANCE COMPANY^I;17A.^A^^1.0
"DATA",711,74,1)
355.33^355.33^20.01
"DATA",711,74,2)
Health Insurer
"DATA",711,74,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,75,0)
APPLICANT INSURANCE POLICY HOLDER^I;17B.^A^^1.0
"DATA",711,75,1)
355.33^355.33^60.07
"DATA",711,75,2)
Policy Holder Name
"DATA",711,75,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,76,0)
APPLICANT INSURANCE POLICY NUMBER^I;17C.^A^^1.0
"DATA",711,76,1)
355.33^355.33^60.04
"DATA",711,76,2)
Policy #
"DATA",711,76,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,77,0)
APPLICANT INSURANCE GROUP CODE^I;17D.^A^^1.0
"DATA",711,77,1)
355.33^355.33^40.03
"DATA",711,77,2)
Group Code
"DATA",711,77,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,78,0)
SPOUSE HAS INSURANCE^I;18.^A^^1.0
"DATA",711,78,1)
0^0^0
"DATA",711,78,2)
Sp. Health Ins.?
"DATA",711,78,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,78,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,79,0)
SPOUSE INSURANCE COMPANY^I;18A.^A^^1.0
"DATA",711,79,1)
355.33^355.33^20.01
"DATA",711,79,2)
Sp. Insurance Co.
"DATA",711,79,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,80,0)
SPOUSE INSURANCE POLICY HOLDER^I;18B.^A^^1.0
"DATA",711,80,1)
355.33^355.33^60.07
"DATA",711,80,2)
Sp. Pol. Holder Name
"DATA",711,80,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,81,0)
SPOUSE INSURANCE POLICY NUMBER^I;18C.^A^^1.0
"DATA",711,81,1)
355.33^355.33^60.04
"DATA",711,81,2)
Sp. Policy #
"DATA",711,81,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,82,0)
SPOUSE INSURANCE GROUP CODE^I;18D.^A^^1.0
"DATA",711,82,1)
355.33^355.33^40.03
"DATA",711,82,2)
Sp. Group Code
"DATA",711,82,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,83,0)
NEXT-OF-KIN LAST NAME^I;19A.1^A^^1.0
"DATA",711,83,1)
2^2^.211
"DATA",711,83,2)
NOK Name
"DATA",711,83,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,83,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"NEXT-OF-KIN",EASMULT)
"DATA",711,84,0)
NEXT-OF-KIN FIRST NAME^I;19A.2^A^^1.0
"DATA",711,84,1)
2^2^.211
"DATA",711,84,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,85,0)
NEXT-OF-KIN STREET ADDRESS^I;19A.3^A^^1.0
"DATA",711,85,1)
2^2^.213
"DATA",711,85,2)
NOK Street Address
"DATA",711,85,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,86,0)
NEXT-OF-KIN CITY^I;19A.4^A^^1.0
"DATA",711,86,1)
2^2^.216
"DATA",711,86,2)
NOK City
"DATA",711,86,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,87,0)
NEXT-OF-KIN STATE^I;19A.5^A^^1.0
"DATA",711,87,1)
2^2^.217
"DATA",711,87,2)
NOK State
"DATA",711,87,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,88,0)
NEXT-OF-KIN ZIP^I;19A.6^A^^1.0
"DATA",711,88,1)
2^2^.2207
"DATA",711,88,2)
NOK Zipcode
"DATA",711,88,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,88,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,89,0)
NEXT-OF-KIN RELATIONSHIP^I;19A.7^A^^1.0
"DATA",711,89,1)
2^2^.212
"DATA",711,89,2)
NOK Relationship
"DATA",711,89,3)
S DIR(0)="S^1:SELF;2:SPOUSE;3:SON;4:DAUGHTER;5:FATHER;6:MOTHER;99:OTHER"
"DATA",711,89,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,90,0)
NEXT-OF-KIN HOME PHONE AREA CODE^I;19B.1^A^^1.0
"DATA",711,90,1)
2^2^.219
"DATA",711,90,2)
NOK Home Phone
"DATA",711,90,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,90,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"NEXT-OF-KIN")
"DATA",711,91,0)
NEXT-OF-KIN HOME PHONE NUMBER^I;19B.2^A^^1.0
"DATA",711,91,1)
2^2^.219
"DATA",711,91,2)
NOK Home Phone
"DATA",711,91,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,92,0)
NEXT-OF-KIN WORK PHONE AREA CODE^I;19C.1^A^^1.0
"DATA",711,92,1)
2^2^.21011
"DATA",711,92,2)
NOK Work Phone
"DATA",711,92,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,92,"T")
S EASRTR=$$WORKPH^EASEZT2(EASAPP,"NEXT-OF-KIN")
"DATA",711,93,0)
NEXT-OF-KIN WORK PHONE NUMBER^I;19C.2^A^^1.0
"DATA",711,93,1)
2^2^.21011
"DATA",711,93,2)
NOK Work Phone
"DATA",711,93,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,94,0)
NEXT-OF-KIN WORK PHONE EXTENSION^I;19C.3^A^^1.0
"DATA",711,94,1)
2^2^.21011
"DATA",711,94,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,95,0)
E-CONTACT LAST NAME^I;20A.1^A^^1.0
"DATA",711,95,1)
2^2^.331
"DATA",711,95,2)
E-Cont. Name
"DATA",711,95,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,95,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"E-CONTACT",EASMULT)
"DATA",711,96,0)
E-CONTACT FIRST NAME^I;20A.2^A^^1.0
"DATA",711,96,1)
2^2^.331
"DATA",711,96,2)
E-Cont. First Name
"DATA",711,96,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,97,0)
E-CONTACT STREET ADDRESS^I;20A.3^A^^1.0
"DATA",711,97,1)
2^2^.333
"DATA",711,97,2)
E-Cont. Street Addr.
"DATA",711,97,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,98,0)
E-CONTACT CITY^I;20A.4^A^^1.0
"DATA",711,98,1)
2^2^.336
"DATA",711,98,2)
E-Cont. City
"DATA",711,98,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,99,0)
E-CONTACT STATE^I;20A.5^A^^1.0
"DATA",711,99,1)
2^2^.337
"DATA",711,99,2)
E-Cont. State
"DATA",711,99,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,100,0)
E-CONTACT ZIP^I;20A.6^A^^1.0
"DATA",711,100,1)
2^2^.2201
"DATA",711,100,2)
E-Cont. Zip
"DATA",711,100,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,100,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,101,0)
E-CONTACT RELATIONSHIP^I;20A.7^A^^1.0
"DATA",711,101,1)
2^2^.332
"DATA",711,101,2)
E-Cont. Relationship
"DATA",711,101,3)
S DIR(0)="S^1:SELF;2:SPOUSE;3:SON;4:DAUGHTER;5:FATHER;6:MOTHER;99:OTHER"
"DATA",711,101,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,102,0)
E-CONTACT HOME PHONE AREA CODE^I;20B.1^A^^1.0
"DATA",711,102,1)
2^2^.339
"DATA",711,102,2)
E-Cont. Home Phone
"DATA",711,102,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,102,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"E-CONTACT")
"DATA",711,103,0)
E-CONTACT HOME PHONE NUMBER^I;20B.2^A^^1.0
"DATA",711,103,1)
2^2^.339
"DATA",711,103,2)
E-Cont. Home Phone
"DATA",711,103,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,104,0)
E-CONTACT WORK PHONE AREA CODE^I;20C.1^A^^1.0
"DATA",711,104,1)
2^2^.33011
"DATA",711,104,2)
E-Cont. Work Number
"DATA",711,104,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,104,"T")
S EASRTR=$$WORKPH^EASEZT2(EASAPP,"E-CONTACT")
"DATA",711,105,0)
E-CONTACT WORK PHONE NUMBER^I;20C.2^A^^1.0
"DATA",711,105,1)
2^2^.33011
"DATA",711,105,2)
E-Cont. Work Phone
"DATA",711,105,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,106,0)
E-CONTACT WORK PHONE EXTENSION^I;20C.3^A^^1.0
"DATA",711,106,1)
2^2^.33011
"DATA",711,106,2)
E-Cont. Work Ext.
"DATA",711,106,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,107,0)
DESIGNEE^I;21.^A^^1.0
"DATA",711,107,1)
2^2^.3405
"DATA",711,107,2)
Designee
"DATA",711,107,3)
S DIR(0)="SM^N:NEXT OF KIN;E:EMERGENCY CONTACT"
"DATA",711,108,0)
NEED RELATED TO JOB INJURY^I;22A.^A^^1.0
"DATA",711,108,1)
0^0^0
"DATA",711,108,2)
Need Due to Job Inj.?
"DATA",711,108,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,109,0)
NEED RELATED TO ACCIDENT^I;22B.^A^^1.0
"DATA",711,109,1)
0^0^0
"DATA",711,109,2)
Need Due to Accid.?
"DATA",711,109,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,110,0)
SPOUSE LAST NAME^IIA;1.1^A^^1.0
"DATA",711,110,1)
408.13^408.13^.01
"DATA",711,110,2)
Sp. Name
"DATA",711,110,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,110,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"SPOUSE",EASMULT)
"DATA",711,111,0)
SPOUSE FIRST NAME^IIA;1.2^A^^1.0
"DATA",711,111,1)
408.13^408.13^.01
"DATA",711,111,2)
Sp. First Name
"DATA",711,111,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,112,0)
SPOUSE MIDDLE NAME^IIA;1.3^A^^1.0
"DATA",711,112,1)
408.13^408.13^.01
"DATA",711,112,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,113,0)
SPOUSE SUFFIX NAME^IIA;1.4^A^^1.0
"DATA",711,113,1)
408.13^408.13^.01
"DATA",711,113,3)
S DIR(0)="FO^1:6^K:X'?1.A X"
"DATA",711,114,0)
CHILD1 LAST NAME^IIA;2.1^A^^1.0
"DATA",711,114,1)
408.13^408.13^.01
"DATA",711,114,2)
Child Name
"DATA",711,114,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,114,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"CHILD1",EASMULT)
"DATA",711,115,0)
CHILD1 FIRST NAME^IIA;2.2^A^^1.0
"DATA",711,115,1)
408.13^408.13^.01
"DATA",711,115,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,116,0)
CHILD1 MIDDLE NAME^IIA;2.3^A^^1.0
"DATA",711,116,1)
408.13^408.13^.01
"DATA",711,116,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,117,0)
CHILD1 SUFFIX NAME^IIA;2.4^A^^1.0
"DATA",711,117,1)
408.13^408.13^.01
"DATA",711,117,3)
S DIR(0)="FO^1:6^K:X'?1.A X"
"DATA",711,118,0)
SPOUSE SOCIAL SECURITY NUMBER^IIA;3.^A^^1.0
"DATA",711,118,1)
408.13^408.13^.09
"DATA",711,118,2)
Sp. SSN
"DATA",711,118,3)
S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"DATA",711,118,"T")
S EASRTR=$$SSNOUT^EASEZT1(EZDATA)
"DATA",711,119,0)
SPOUSE DATE OF BIRTH^IIA;4.^A^^1.0
"DATA",711,119,1)
408.13^408.13^.03
"DATA",711,119,2)
Sp. DOB
"DATA",711,119,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,120,0)
CHILD1 DATE OF BIRTH^IIA;5.^A^^1.0
"DATA",711,120,1)
408.13^408.13^.03
"DATA",711,120,2)
Child DOB
"DATA",711,120,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,121,0)
SPOUSE STREET^IIA;6.1^A^^2.5
"DATA",711,121,1)
408.13^408.13^1.2
"DATA",711,121,2)
Sp. Street Addr.
"DATA",711,121,3)
S DIR(0)="F^3:35"
"DATA",711,121,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,122,0)
SPOUSE CITY^IIA;6.2^A^^2.5
"DATA",711,122,1)
408.13^408.13^1.5
"DATA",711,122,2)
Sp. City
"DATA",711,122,3)
S DIR(0)="F^2:15"
"DATA",711,122,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,123,0)
SPOUSE STATE^IIA;6.3^A^^2.5
"DATA",711,123,1)
408.13^408.13^1.6
"DATA",711,123,2)
Sp. State
"DATA",711,123,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,124,0)
SPOUSE ZIP^IIA;6.4^A^^2.5
"DATA",711,124,1)
408.13^408.13^1.7
"DATA",711,124,2)
Sp. Zip
"DATA",711,124,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,124,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,125,0)
CHILD1 SOCIAL SECURITY NUMBER^IIA;7.^A^^1.0
"DATA",711,125,1)
408.13^408.13^.09
"DATA",711,125,2)
Child SSN
"DATA",711,125,3)
S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"DATA",711,125,"T")
S EASRTR=$$SSNOUT^EASEZT1(EZDATA)
"DATA",711,126,0)
SPOUSE HOME PHONE AREA CODE^IIA;8.1^A^^2.5
"DATA",711,126,1)
408.13^408.13^1.8
"DATA",711,126,2)
Sp. Home Phone
"DATA",711,126,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,126,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"SPOUSE")
"DATA",711,127,0)
SPOUSE HOME PHONE NUMBER^IIA;8.2^A^^2.5
"DATA",711,127,1)
408.13^408.13^1.8
"DATA",711,127,2)
Sp. Home Phone
"DATA",711,127,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,128,0)
CHILD1 RELATIONSHIP^IIA;9.^A^^1.0
"DATA",711,128,1)
408.12^408.12^.02
"DATA",711,128,2)
Child Relationship
"DATA",711,128,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,129,0)
DATE OF MARRIAGE TO SPOUSE^IIA;10.^A^^1.0
"DATA",711,129,1)
408.12^408.1275^.01
"DATA",711,129,2)
Sp. Effective Date
"DATA",711,129,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,130,0)
DATE CHILD1 BECAME DEPENDENT^IIA;11.^A^^1.0
"DATA",711,130,1)
408.12^408.1275^.01
"DATA",711,130,2)
Child Effective Date
"DATA",711,130,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,131,0)
AMOUNT CONTRIBUTED TO SPOUSE^IIA;12.1^A^^1.0
"DATA",711,131,1)
408.22^408.22^.07
"DATA",711,131,2)
Amt To Sp. Support
"DATA",711,132,0)
AMOUNT CONTRIBUTED TO CHILD1^IIA;12.2^A^^1.0
"DATA",711,132,1)
408.22^408.22^.1
"DATA",711,132,2)
Amt To Child Support
"DATA",711,132,3)
S DIR("?")="Enter Yes if the veteran contributed $600.00 or more to the child's support last calendar year.  Enter No if the veteran contributed less than $600.00 to the child's support last calendar year."
"DATA",711,133,0)
CHILD1 EDUCATION EXPENSES^IIA;13.^A^^1.0
"DATA",711,133,1)
408.21^408.21^1.03
"DATA",711,133,2)
Ed. $ Paid by Child
"DATA",711,134,0)
CHILD1 PERMANENTLY DISABLED^IIA;14.^A^^1.0
"DATA",711,134,1)
408.22^408.22^.09
"DATA",711,134,2)
Child Perm. Disab.?
"DATA",711,134,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,135,0)
CHILD1 18-23 IN SCHOOL^IIA;15.^A^^2.5
"DATA",711,135,1)
408.22^408.22^.18
"DATA",711,135,2)
Age 18-23 in School?
"DATA",711,135,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,135,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,136,0)
CHILD(N) LAST NAME^IIB;1.1^A^^1.0
"DATA",711,136,1)
408.13^408.13^.01
"DATA",711,136,2)
Child Name
"DATA",711,136,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,136,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"CHILD(N)",EASMULT)
"DATA",711,137,0)
CHILD(N) FIRST NAME^IIB;1.2^A^^1.0
"DATA",711,137,1)
408.13^408.13^.01
"DATA",711,137,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,138,0)
CHILD(N) MIDDLE NAME^IIB;1.3^A^^1.0
"DATA",711,138,1)
408.13^408.13^.01
"DATA",711,138,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,139,0)
CHILD(N) SUFFIX NAME^IIB;1.4^A^^1.0
"DATA",711,139,1)
408.13^408.13^.01
"DATA",711,139,3)
S DIR(0)="FO^1:6^K:X'?1.A X"
"DATA",711,140,0)
CHILD(N) SOCIAL SECURITY NUMBER^IIB;2.^A^^1.0
"DATA",711,140,1)
408.13^408.13^.09
"DATA",711,140,2)
Child SSN
"DATA",711,140,3)
S DIR(0)="F^11:11^K:X'?3N1""-""2N1""-""4N X",DIR("?")="Use format nnn-nnn-nnn.  Example: ***********"
"DATA",711,140,"T")
S EASRTR=$$SSNOUT^EASEZT1(EZDATA)
"DATA",711,141,0)
CHILD(N) DATE OF BIRTH^IIB;3.^A^^1.0
"DATA",711,141,1)
408.13^408.13^.03
"DATA",711,141,2)
Child DOB
"DATA",711,141,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,142,0)
CHILD(N) RELATIONSHIP^IIB;4.^A^^1.0
"DATA",711,142,1)
408.12^408.12^.02
"DATA",711,142,2)
Child Relationship
"DATA",711,142,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,143,0)
DATE CHILD(N) BECAME DEPENDENT^IIB;5.^A^^1.0
"DATA",711,143,1)
408.12^408.1275^.01
"DATA",711,143,2)
Child Effective Date
"DATA",711,143,"T")
S EASRTR=$$XDATE^EASEZT1(EZDATA)
"DATA",711,144,0)
AMOUNT CONTRIBUTED TO CHILD(N)^IIB;6.^A^^1.0
"DATA",711,144,1)
408.22^408.22^.1
"DATA",711,144,2)
Amt To Child Support
"DATA",711,145,0)
CHILD(N) EDUCATION EXPENSES^IIB;7.^A^^1.0
"DATA",711,145,1)
408.21^408.21^1.03
"DATA",711,145,2)
Ed. $ Paid by Child
"DATA",711,146,0)
CHILD(N) PERMANENTLY DISABLED^IIB;8.^A^^1.0
"DATA",711,146,1)
408.22^408.22^.09
"DATA",711,146,2)
Child Perm. Disab.?
"DATA",711,146,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,147,0)
CHILD(N) 18-23 IN SCHOOL^IIB;9.^A^^2.5
"DATA",711,147,1)
408.22^408.22^.18
"DATA",711,147,2)
Age 18-23 in School?
"DATA",711,147,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,147,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,148,0)
APPLICANT GROSS ANNUAL INCOME^IIC;1.1^A^^1.0
"DATA",711,148,1)
408.21^408.21^.14
"DATA",711,148,2)
Gross Annual Inc.
"DATA",711,149,0)
SPOUSE GROSS ANNUAL INCOME^IIC;1.2^A^^1.0
"DATA",711,149,1)
408.21^408.21^.14
"DATA",711,149,2)
Gross Ann. Inc. (Sp)
"DATA",711,150,0)
CHILD1 GROSS ANNUAL INCOME^IIC;1.3^A^^1.0
"DATA",711,150,1)
408.21^408.21^.14
"DATA",711,150,2)
Gross Ann. Inc. (Ch)
"DATA",711,151,0)
APPLICANT OTHER INCOME^IIC;2.1^A^^2.5
"DATA",711,151,1)
408.21^408.21^.08
"DATA",711,151,2)
Other Income
"DATA",711,152,0)
SPOUSE OTHER INCOME^IIC;2.2^A^^2.5
"DATA",711,152,1)
408.21^408.21^.08
"DATA",711,152,2)
Other Income (Sp)
"DATA",711,153,0)
CHILD1 OTHER INCOME^IIC;2.3^A^^2.5
"DATA",711,153,1)
408.21^408.21^.08
"DATA",711,153,2)
Other Income (Ch+)
"DATA",711,154,0)
APPLICANT FARM OR BUSINESS^IIC;3.^A^^1.0
"DATA",711,154,1)
0^0^0
"DATA",711,154,2)
Farm/Bus. Income?
"DATA",711,154,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,154,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,155,0)
APPLICANT MEDICAL EXPENSES^IID;1.^A^^1.0
"DATA",711,155,1)
408.21^408.21^1.01
"DATA",711,155,2)
Medical Expenses
"DATA",711,156,0)
APPLICANT FUNERAL EXPENSES^IID;2.^A^^1.0
"DATA",711,156,1)
408.21^408.21^1.02
"DATA",711,156,2)
Funeral Expenses
"DATA",711,157,0)
APPLICANT EDUCATION EXPENSES^IID;3.^A^^1.0
"DATA",711,157,1)
408.21^408.21^1.03
"DATA",711,157,2)
Education Expenses
"DATA",711,158,0)
APPLICANT CASH IN BANK^IIE;1.1^A^^1.0
"DATA",711,158,1)
408.21^408.21^2.01
"DATA",711,158,2)
Cash in Bank
"DATA",711,158,3)
S DIR("?")="This response must be a number.  The Cash in Bank value represents the cash in bank dollar amount of the veteran PLUS the cash in bank dollar amounts of all the children."
"DATA",711,159,0)
SPOUSE CASH IN BANK^IIE;1.2^A^^1.0
"DATA",711,159,1)
408.21^408.21^2.01
"DATA",711,159,2)
Cash in Bank (Sp.)
"DATA",711,160,0)
APPLICANT REAL PROPERTY LESS MORTGAGES^IIE;2.1^A^^1.0
"DATA",711,160,1)
408.21^408.21^2.03
"DATA",711,160,2)
Real Property
"DATA",711,160,3)
S DIR("?")="This response must be a number.  The Real Property value represents the real property amount of the veteran PLUS the real property amounts of all the children."
"DATA",711,161,0)
SPOUSE REAL PROPERTY LESS MORTGAGES^IIE;2.2^A^^1.0
"DATA",711,161,1)
408.21^408.21^2.03
"DATA",711,161,2)
Real Property (Sp.)
"DATA",711,162,0)
APPLICANT STOCKS BONDS ASSETS LESS DEBTS^IIE;3.1^A^^1.0
"DATA",711,162,1)
408.21^408.21^2.04
"DATA",711,162,2)
Other Property
"DATA",711,162,3)
S DIR("?")="This response must be a number.  The Other Property value represents the other property amount of the veteran PLUS the other property amounts of all the children."
"DATA",711,163,0)
SPOUSE STOCKS BONDS ASSETS LESS DEBTS^IIE;3.2^A^^1.0
"DATA",711,163,1)
408.21^408.21^2.04
"DATA",711,163,2)
Other Property (Sp.)
"DATA",711,164,0)
DESIGNEE LAST NAME^I;21A.1^A^^1.0
"DATA",711,164,1)
2^2^.341
"DATA",711,164,2)
Designee Name
"DATA",711,164,3)
S DIR(0)="FO^1:50^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,164,"T")
S EASRTR=$$NAME^EASEZT1(EASAPP,"DESIGNEE",EASMULT)
"DATA",711,165,0)
DESIGNEE FIRST NAME^I;21A.2^A^^1.0
"DATA",711,165,1)
2^2^.341
"DATA",711,165,3)
S DIR(0)="FO^1:25^I X'?1.A,X'?1.A1""-""1.A,X'?1.A1"" ""1.A K X"
"DATA",711,166,0)
DESIGNEE STREET ADDRESS^I;21A.3^A^^1.0
"DATA",711,166,1)
2^2^.343
"DATA",711,166,2)
Designee Street Address
"DATA",711,166,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,167,0)
DESIGNEE CITY^I;21A.4^A^^1.0
"DATA",711,167,1)
2^2^.346
"DATA",711,167,2)
Designee City
"DATA",711,167,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,168,0)
DESIGNEE STATE^I;21A.5^A^^1.0
"DATA",711,168,1)
2^2^.347
"DATA",711,168,2)
Designee State
"DATA",711,168,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,169,0)
DESIGNEE ZIP^I;21A.6^A^^1.0
"DATA",711,169,1)
2^2^.2202
"DATA",711,169,2)
Designee Zipcode
"DATA",711,169,3)
S DIR(0)="FO^5:10^S XX=$TR(X,""-"","""") I XX'?5N,(XX'?9N) K X"
"DATA",711,169,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,170,0)
DESIGNEE RELATIONSHIP^I;21A.7^A^^1.0
"DATA",711,170,1)
2^2^.342
"DATA",711,170,2)
Designee Relationship
"DATA",711,170,3)
S DIR(0)="S^1:SELF;2:SPOUSE;3:SON;4:DAUGHTER;5:FATHER;6:MOTHER;99:OTHER"
"DATA",711,170,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,171,0)
DESIGNEE HOME PHONE AREA CODE^I;21B.1^A^^1.0
"DATA",711,171,1)
2^2^.349
"DATA",711,171,2)
Designee Home Phone
"DATA",711,171,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,171,"T")
S EASRTR=$$HOMEPH^EASEZT2(EASAPP,"DESIGNEE")
"DATA",711,172,0)
DESIGNEE HOME PHONE NUMBER^I;21B.2^A^^1.0
"DATA",711,172,1)
2^2^.349
"DATA",711,172,2)
Designee Home Phone
"DATA",711,172,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,173,0)
DESIGNEE WORK PHONE AREA CODE^I;21C.1^A^^1.0
"DATA",711,173,1)
2^2^.34011
"DATA",711,173,2)
Designee Work Phone
"DATA",711,173,3)
S DIR(0)="FO^3:3^K:X'?3N X"
"DATA",711,173,"T")
S EASRTR=$$WORKPH^EASEZT2(EASAPP,"DESIGNEE")
"DATA",711,174,0)
DESIGNEE WORK PHONE NUMBER^I;21C.2^A^^1.0
"DATA",711,174,1)
2^2^.34011
"DATA",711,174,2)
Designee Work Phone
"DATA",711,174,3)
S DIR(0)="FO^8:8^K:X'?3N1""-""4N"
"DATA",711,175,0)
DESIGNEE WORK PHONE EXTENSION^I;21C.3^A^^1.0
"DATA",711,175,1)
2^2^.34011
"DATA",711,175,3)
S DIR(0)="FO^1:5^K:X'?1.N X"
"DATA",711,176,0)
APPLICANT MOTHER MAIDEN NAME^I;3A.^A^^2.5
"DATA",711,176,1)
2^2^.2403
"DATA",711,176,2)
Mother's Maiden Name
"DATA",711,176,3)
S DIR(0)="F^2:35"
"DATA",711,176,"T")
S EASRTR=$$LAST^EASEZT1(EZDATA)
"DATA",711,177,0)
APPLICANT SPANISH, HISPANIC, OR LATIN^I;4A.^A^^2.5
"DATA",711,177,1)
2^2.06^.01
"DATA",711,177,2)
Span/Hisp/Latino?
"DATA",711,177,3)
S DIR(0)="S^Y:YES;N:NO;U:UNKNOWN"
"DATA",711,177,"T")
S EASRTR=$$ETHNIC^EASEZT1(EZDATA)
"DATA",711,178,0)
APPLICANT RACE - AMERICAN INDIAN OR ALASKA NATIVE^I;4B.^A^^2.5
"DATA",711,178,1)
2^2.02^.01
"DATA",711,178,2)
Am. Indian/AK Native?
"DATA",711,178,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,178,"T")
S EASRTR=$$RACE^EASEZT1(EZDATA)
"DATA",711,179,0)
APPLICANT RACE - BLACK OR AFRICAN AMERICAN^I;4C.^A^^2.5
"DATA",711,179,1)
2^2.02^.01
"DATA",711,179,2)
Black/African Am.?
"DATA",711,179,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,179,"T")
S EASRTR=$$RACE^EASEZT1(EZDATA)
"DATA",711,180,0)
APPLICANT RACE - NATIVE HAWAIIAN OR OTHER PACIFIC^I;4D.^A^^2.5
"DATA",711,180,1)
2^2.02^.01
"DATA",711,180,2)
Hawaiian/Pac. Isl.?
"DATA",711,180,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,180,"T")
S EASRTR=$$RACE^EASEZT1(EZDATA)
"DATA",711,181,0)
APPLICANT RACE - ASIAN^I;4E.^A^^2.5
"DATA",711,181,1)
2^2.02^.01
"DATA",711,181,2)
Asian?
"DATA",711,181,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,181,"T")
S EASRTR=$$RACE^EASEZT1(EZDATA)
"DATA",711,182,0)
APPLICANT RACE - WHITE^I;4F.^A^^2.5
"DATA",711,182,1)
2^2.02^.01
"DATA",711,182,2)
White?
"DATA",711,182,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,182,"T")
S EASRTR=$$RACE^EASEZT1(EZDATA)
"DATA",711,183,0)
APPLICANT RACE - UNANSWERED^I;4G.^A^^2.5
"DATA",711,183,1)
2^2.02^.01
"DATA",711,183,2)
Race - Unanswered
"DATA",711,183,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,183,"T")
S EASRTR=$$RACE^EASEZT1(EZDATA)
"DATA",711,184,0)
APPLICANT PLACE OF BIRTH CITY^I;8A.^A^^2.5
"DATA",711,184,1)
2^2^.092
"DATA",711,184,2)
Place of Birth City
"DATA",711,184,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,185,0)
APPLICANT PLACE OF BIRTH STATE^I;8B.^A^^2.5
"DATA",711,185,1)
2^2^.093
"DATA",711,185,2)
Place of Birth State
"DATA",711,185,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,186,0)
SEEN AT VA LOCATION^I;11D.^A^^2.5
"DATA",711,186,1)
2^2^1010.152
"DATA",711,186,2)
Seen at VA Location
"DATA",711,186,3)
S DIR(0)="P^4:EMZ"
"DATA",711,186,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,187,0)
SEEN AT VA MED FACILITY^I;11C.^A^^2.5
"DATA",711,187,1)
2^2^1010.15
"DATA",711,187,2)
Seen at VA Med. Fac
"DATA",711,187,3)
S DIR(0)="S^Y:YES;N:NO"
"DATA",711,187,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,188,0)
EMAIL^I;11A.^A^^2.5
"DATA",711,188,1)
2^2^.133
"DATA",711,188,2)
Email
"DATA",711,189,0)
APPOINTMENT REQUESTED^I;11B.^A^^2.5
"DATA",711,189,1)
2^2^1010.159
"DATA",711,189,2)
Appointment Request
"DATA",711,189,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,190,0)
COMBAT AFTER 11/11/1998^I;14B2.^A^^2.5
"DATA",711,190,1)
2^2^1010.157
"DATA",711,190,2)
Combat Aft. 11/11/98
"DATA",711,190,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,191,0)
NOSE/THROAT RADIUM^I;14G1.^A^^2.5
"DATA",711,191,1)
0^0^0
"DATA",711,191,2)
Nose/Throat Radium
"DATA",711,191,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,192,0)
APPLICANT INSURANCE ADDRESS^I;17E.^A^^2.5
"DATA",711,192,1)
355.33^355.33^21.01
"DATA",711,192,2)
Ins. Address
"DATA",711,193,0)
APPLICANT INSURANCE CITY^I;17F.^A^^2.5
"DATA",711,193,1)
355.33^355.33^21.04
"DATA",711,193,2)
Ins. City
"DATA",711,194,0)
APPLICANT INSURANCE STATE^I;17G.^A^^2.5
"DATA",711,194,1)
355.33^355.33^21.05
"DATA",711,194,2)
Ins. State
"DATA",711,194,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,195,0)
APPLICANT INSURANCE ZIP^I;17H.^A^^2.5
"DATA",711,195,1)
355.33^355.33^21.06
"DATA",711,195,2)
Ins. ZIP
"DATA",711,195,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,196,0)
APPLICANT INSURANCE PHONE AREA CODE^I;17I.^A^^2.5
"DATA",711,196,1)
355.33^355.33^20.02
"DATA",711,196,2)
Ins. Phone
"DATA",711,196,"T")
S EASRTR=$$INSPH^EASEZT2(EASAPP,"APPLICANT",EASMULT)
"DATA",711,197,0)
APPLICANT INSURANCE PHONE NUMBER^I;17J.^A^^2.5
"DATA",711,197,1)
355.33^355.33^20.02
"DATA",711,197,2)
Ins. Phone
"DATA",711,197,"T")

"DATA",711,198,0)
OTHER(N) INSURANCE COMPANY^IA;17A.^A^^2.5
"DATA",711,198,1)
355.33^355.33^20.01
"DATA",711,198,2)
Other Health Insurer
"DATA",711,198,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,199,0)
OTHER(N) INSURANCE POLICY HOLDER^IA;17B.^A^^2.5
"DATA",711,199,1)
355.33^355.33^60.07
"DATA",711,199,2)
 Policy Holder Name
"DATA",711,199,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,200,0)
OTHER(N) INSURANCE POLICY NUMBER^IA;17C.^A^^2.5
"DATA",711,200,1)
355.33^355.33^60.04
"DATA",711,200,2)
 Policy #
"DATA",711,200,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,201,0)
OTHER(N) INSURANCE GROUP CODE^IA;17D.^A^^2.5
"DATA",711,201,1)
355.33^355.33^40.03
"DATA",711,201,2)
 Group Code
"DATA",711,201,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,202,0)
OTHER(N) INSURANCE ADDRESS^IA;17E.^A^^2.5
"DATA",711,202,1)
355.33^355.33^21.01
"DATA",711,202,2)
 Ins. Address
"DATA",711,202,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,203,0)
OTHER(N) INSURANCE CITY^IA;17F.^A^^2.5
"DATA",711,203,1)
355.33^355.33^21.04
"DATA",711,203,2)
 Ins. City
"DATA",711,203,"T")
S EASRTR=$$UC^EASEZT1(EZDATA)
"DATA",711,204,0)
OTHER(N) INSURANCE STATE^IA;17G.^A^^2.5
"DATA",711,204,1)
355.33^355.33^21.05
"DATA",711,204,2)
 Ins. State
"DATA",711,204,"T")
S EASRTR=$$STATE^EASEZT1(EZDATA)
"DATA",711,205,0)
OTHER(N) INSURANCE ZIP^IA;17H.^A^^2.5
"DATA",711,205,1)
355.33^355.33^21.06
"DATA",711,205,2)
 Ins. ZIP
"DATA",711,205,"T")
S EASRTR=$$ZIP^EASEZT2(EZDATA)
"DATA",711,206,0)
OTHER(N) INSURANCE PHONE AREA CODE^IA;17I.^A^^2.5
"DATA",711,206,1)
355.33^355.33^20.02
"DATA",711,206,2)
 Ins. Phone
"DATA",711,206,"T")
S EASRTR=$$INSPH^EASEZT2(EASAPP,"OTHER(N)",EASMULT)
"DATA",711,207,0)
OTHER(N) INSURANCE PHONE NUMBER^IA;17J.^A^^2.5
"DATA",711,207,1)
355.33^355.33^20.02
"DATA",711,207,2)
 Ins. Phone
"DATA",711,207,"T")

"DATA",711,208,0)
MILITARY COMP NOT VA COMP^I;14D3.^A^^2.5
"DATA",711,208,1)
2^2^.362
"DATA",711,208,2)
Mil. Comp. Lieu VA
"DATA",711,208,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"DATA",711,209,0)
SPOUSE MAIDEN NAME^IIA;1.5^A^^2.5
"DATA",711,209,1)
408.13^408.13^1.1
"DATA",711,209,2)
Sp. Maiden Name
"DATA",711,209,"T")
S EASRTR=$$LAST^EASEZT1(EZDATA)
"DATA",711,210,0)
APPLICANT FARM OR BUSINESS INCOME^IIC;3.1^A^^2.5
"DATA",711,210,1)
408.21^408.21^.17
"DATA",711,210,2)
Farm/Bus. Income
"DATA",711,211,0)
SPOUSE FARM OR BUSINESS INCOME^IIC;3.2^A^^2.5
"DATA",711,211,1)
408.21^408.21^.17
"DATA",711,211,2)
Farm/Bus. Inc. (Sp)
"DATA",711,212,0)
CHILD1 FARM OR BUSINESS INCOME^IIC;3.3^A^^2.5
"DATA",711,212,1)
408.21^408.21^.17
"DATA",711,212,2)
Farm/Bus. Inc. (Ch+)
"DATA",711,213,0)
CHILD(N) CHILD #^IIF;7.^A^^2.5
"DATA",711,213,1)
0^0^0
"DATA",711,213,2)
Additional Income of
"DATA",711,214,0)
CHILD(N) GROSS ANNUAL INCOME^IIF;7.1^A^^2.5
"DATA",711,214,1)
408.21^408.21^.14
"DATA",711,214,2)
 Gross Annual Inc.
"DATA",711,215,0)
CHILD(N) FARM/BUS INCOME^IIF;7.2^A^^2.5
"DATA",711,215,1)
408.21^408.21^.17
"DATA",711,215,2)
 Farm/Bus. Inc.
"DATA",711,216,0)
CHILD(N) OTHER INCOME^IIF;7.3^A^^2.5
"DATA",711,216,1)
408.21^408.21^.08
"DATA",711,216,2)
 Other Income
"DATA",711,217,0)
ASSET(N) CHILD #^IIG;9.^A^^2.5
"DATA",711,217,1)
0^0^0
"DATA",711,217,2)
Additional Assets of
"DATA",711,218,0)
ASSET(N) CHILD CASH^IIG;9.1^A^^2.5
"DATA",711,218,1)
0^0^0
"DATA",711,218,2)
 Cash in Bank
"DATA",711,219,0)
ASSET(N) CHILD REAL PROPERTY^IIG;9.2^A^^2.5
"DATA",711,219,1)
0^0^0
"DATA",711,219,2)
 Real Property
"DATA",711,220,0)
ASSET(N) CHILD OTHER PROPERTY^IIG;9.3^A^^2.5
"DATA",711,220,1)
0^0^0
"DATA",711,220,2)
 Other Property
"DATA",711,221,0)
CHILD1 CASH IN BANK^IIE;1.3^A^^2.5
"DATA",711,221,1)
0^0^0
"DATA",711,221,2)
Cash in Bank (Ch+)
"DATA",711,222,0)
CHILD1 REAL PROPERTY LESS MORTGAGES^IIE;2.3^A^^2.5
"DATA",711,222,1)
0^0^0
"DATA",711,222,2)
Real Property (Ch+)
"DATA",711,223,0)
CHILD1 STOCKS BONDS ASSETS LESS DEBTS^IIE;3.3^A^^2.5
"DATA",711,223,1)
0^0^0
"DATA",711,223,2)
Other Property (Ch+)
"DATA",711,227,0)
APPLICANT CASH IN BANK2^IIE;1.^A^^2.5
"DATA",711,227,1)
0^0^0
"DATA",711,227,2)
Cash in Bank
"DATA",711,228,0)
APPLICANT REAL PROPERTY LESS MORTGAGES2^IIE;2.^A^^2.5
"DATA",711,228,1)
0^0^0
"DATA",711,228,2)
Real Property
"DATA",711,229,0)
APPLICANT STOCKS BONDS ASSETS LESS DEBTS2^IIE;3.^A^^2.5
"DATA",711,229,1)
0^0^0
"DATA",711,229,2)
Other Property
"DATA",711,231,0)
APPLICANT GROSS ANNUAL INCOME2^IIC;1.4^A^^2.5
"DATA",711,231,1)
408.21^408.21^.14
"DATA",711,231,2)
Gross Annual Inc.
"DATA",711,232,0)
SPOUSE GROSS ANNUAL INCOME2^IIC;1.5^A^^2.5
"DATA",711,232,1)
408.21^408.21^.14
"DATA",711,232,2)
Gross Ann. Inc. (Sp)
"DATA",711,233,0)
CHILD1 GROSS ANNUAL INCOME2^IIC;1.6^A^^2.5
"DATA",711,233,1)
0^0^0
"DATA",711,233,2)
Gross Ann. Inc. (Ch+)
"DATA",711,234,0)
DISABILITY DISCHARGE CLAIMED^I;14D4.^A^^2.5
"DATA",711,234,1)
2^2^1010.158
"DATA",711,234,2)
Disab. Discharge?   
"DATA",711,234,"T")
S EASRTR=$$YN^EASEZT1(EZDATA)
"FIA",711)
1010EZ MAPPING
"FIA",711,0)
^EAS(711,
"FIA",711,0,0)
711
"FIA",711,0,1)
y^y^f^^n^^y^o^n
"FIA",711,0,10)

"FIA",711,0,11)

"FIA",711,0,"RLRO")

"FIA",711,0,"VR")
1.0^EAS
"FIA",711,711)
0
"MBREQ")
0
"PKG",477,-1)
1^1
"PKG",477,0)
ENROLLMENT APPLICATION SYSTEM^EAS^ENROLLMENT
"PKG",477,20,0)
^9.402P^1^1
"PKG",477,20,1,0)
2^^EASXDR
"PKG",477,20,1,1)
 
"PKG",477,20,"B",2,1)

"PKG",477,22,0)
^9.49I^1^1
"PKG",477,22,1,0)
1.0^3010315^3010328^66476
"PKG",477,22,1,"PAH",1,0)
51^3040708
"PKG",477,22,1,"PAH",1,1,0)
^^1^1^3040708
"PKG",477,22,1,"PAH",1,1,1,0)
1010EZ Phase 2.5 enhancements.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
23
"RTN","EASEZC1")
0^1^B43867404
"RTN","EASEZC1",1,0)
EASEZC1 ;ALB/jap - Compare 1010EZ Data with VistA Database ;10/16/00  13:08
"RTN","EASEZC1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,51**;Mar 15, 2001
"RTN","EASEZC1",3,0)
 ;
"RTN","EASEZC1",4,0)
EN(EASAPP,EASDFN) ;this entry point is called as soon as user has selected an Application
"RTN","EASEZC1",5,0)
 ;
"RTN","EASEZC1",6,0)
 ;input  
"RTN","EASEZC1",7,0)
 ;  EASAPP = application ien in file #712
"RTN","EASEZC1",8,0)
 ;  EASDFN = ien in file #2; if 0, then application not yet linked to file #2
"RTN","EASEZC1",9,0)
 ;output
"RTN","EASEZC1",10,0)
 ;  ^TMP("EZDATA"  where
"RTN","EASEZC1",11,0)
 ;  ^TMP("EZDATA",$J,ien_file711)=file#^subfile#^field#^data_id
"RTN","EASEZC1",12,0)
 ;  ^TMP("EZDATA",$J,ien_file711,multiple,1)=ezdata^accept_flag^subien_subfile712.01
"RTN","EASEZC1",13,0)
 ;  ^TMP("EZDATA",$J,ien_file711,multiple,2)=vista_data^link_ien
"RTN","EASEZC1",14,0)
 ;
"RTN","EASEZC1",15,0)
 N IEN,KEY,SUBIEN,ACCEPT,FFF,LINK,MULTIPLE,ORIG,UPD,X,Y,C2711KEY
"RTN","EASEZC1",16,0)
 ;don't continue if passed in dfn doesn't match link
"RTN","EASEZC1",17,0)
 I $G(EASDFN),$P($G(^EAS(712,EASAPP,0)),U,10)'=EASDFN S EASDFN="" Q
"RTN","EASEZC1",18,0)
 ;don't continue if link to file #2 not available
"RTN","EASEZC1",19,0)
 I '$G(EASDFN) S EASDFN=+$P($G(^EAS(712,EASAPP,0)),U,10)
"RTN","EASEZC1",20,0)
 ;if applicant is new to database, user accept/not accept of data elements is constrained 
"RTN","EASEZC1",21,0)
 S EASEZNEW=$P(^EAS(712,EASAPP,0),U,11)
"RTN","EASEZC1",22,0)
 ;display/file/print varies with version
"RTN","EASEZC1",23,0)
 S EASVRSN=$$VERSION^EASEZU4(EASAPP)  ;alb/cmf/51
"RTN","EASEZC1",24,0)
 ;
"RTN","EASEZC1",25,0)
 ; setup local mapping array
"RTN","EASEZC1",26,0)
 D LOCAL711^EASEZU2
"RTN","EASEZC1",27,0)
 ;need this for later
"RTN","EASEZC1",28,0)
 S C2711KEY=+$$KEY711^EASEZU1("TYPE OF BENEFIT-ENROLLMENT")
"RTN","EASEZC1",29,0)
 ;correlate #712 data with tmp mapping array
"RTN","EASEZC1",30,0)
 S SUBIEN=0 F  S SUBIEN=$O(^EAS(712,EASAPP,10,SUBIEN)) Q:'SUBIEN  D
"RTN","EASEZC1",31,0)
 .S X=^EAS(712,EASAPP,10,SUBIEN,0)
"RTN","EASEZC1",32,0)
 .S (IEN,KEY)=$P(X,U,1),MULTIPLE=$P(X,U,2),ACCEPT=$P(X,U,3),FFF=$P(^TMP("EZDATA",$J,IEN),U,1,3)
"RTN","EASEZC1",33,0)
 .S X=$G(^EAS(712,EASAPP,10,SUBIEN,1)),ORIG=$P(X,U,1),UPD=$P(X,U,2)
"RTN","EASEZC1",34,0)
 .;if link exists, it is pointer to Vista database record for an existing patient
"RTN","EASEZC1",35,0)
 .;  or possibly a 'new' patient (i.e., this applicant's data), if this is done post filing
"RTN","EASEZC1",36,0)
 .S LINK=$P($G(^EAS(712,EASAPP,10,SUBIEN,2)),U,2)
"RTN","EASEZC1",37,0)
 .;eliminate some garbage from web app
"RTN","EASEZC1",38,0)
 .I (ORIG="-")!(ORIG="--")!(ORIG="//") S ORIG=""
"RTN","EASEZC1",39,0)
 .Q:((ORIG="")&(UPD=""))
"RTN","EASEZC1",40,0)
 .I UPD="" S ^TMP("EZDATA",$J,IEN,MULTIPLE,1)=ORIG_U_ACCEPT_U_SUBIEN
"RTN","EASEZC1",41,0)
 .E  S ^TMP("EZDATA",$J,IEN,MULTIPLE,1)=UPD_U_ACCEPT_U_SUBIEN
"RTN","EASEZC1",42,0)
 .;if this applicant is new to VistA database, there is no existing patient data for comparison
"RTN","EASEZC1",43,0)
 .;just pickup name,ssn,dob anyway;
"RTN","EASEZC1",44,0)
 .I EASEZNEW,EASDFN D
"RTN","EASEZC1",45,0)
 ..S F=$P(FFF,U,1),SF=$P(FFF,U,2),FD=$P(FFF,U,3)
"RTN","EASEZC1",46,0)
 ..I F=2,SF=2 I (FD=.01)!(FD=.02)!(FD=.03)!(FD=.09) S LINK=EASDFN
"RTN","EASEZC1",47,0)
 ..K F,SF,FD
"RTN","EASEZC1",48,0)
 .;if link to database exists then get VistA data into tmp array
"RTN","EASEZC1",49,0)
 .I 'LINK,$P(FFF,U,1)=2 S LINK=EASDFN
"RTN","EASEZC1",50,0)
 .I LINK D
"RTN","EASEZC1",51,0)
 ..S X=$$GET(LINK,FFF) S:X=-1 X="" S ^TMP("EZDATA",$J,IEN,MULTIPLE,2)=X_U_LINK
"RTN","EASEZC1",52,0)
 ..;special for file #27.11 (Enrollment) data
"RTN","EASEZC1",53,0)
 ..I KEY=C2711KEY D 
"RTN","EASEZC1",54,0)
 ...S CUR=$P($G(^EAS(712,EASAPP,10,SUBIEN,2)),U,2)
"RTN","EASEZC1",55,0)
 ...D ENR(CUR,.VDATA) K CUR
"RTN","EASEZC1",56,0)
 ...S ^TMP("EZDATA",$J,IEN,MULTIPLE,2)=VDATA_U_LINK K VDATA
"RTN","EASEZC1",57,0)
 ..I $G(^TMP("EZDATA",$J,IEN,MULTIPLE,1))="" S ^TMP("EZDATA",$J,IEN,MULTIPLE,1)=U_ACCEPT_U_SUBIEN
"RTN","EASEZC1",58,0)
 D C206^EASEZC3  ;alb/cmf/51 special for ethnicity multiple
"RTN","EASEZC1",59,0)
 D C202^EASEZC3  ;alb/cmf/51 special for race multiple
"RTN","EASEZC1",60,0)
 ;set 'transformed' data into ^TMP("EZDISP" array
"RTN","EASEZC1",61,0)
 D SORT^EASEZC3(EASAPP)
"RTN","EASEZC1",62,0)
 Q
"RTN","EASEZC1",63,0)
 ;
"RTN","EASEZC1",64,0)
GET(EASLINK,EASFFF) ;get data from existing Patient database
"RTN","EASEZC1",65,0)
 ;input EASLINK  = IEN(s) needed
"RTN","EASEZC1",66,0)
 ;              format: file_ien;subfile_ien
"RTN","EASEZC1",67,0)
 ;       EASFFF = field # for file or subfile
"RTN","EASEZC1",68,0)
 ;              format: file#^subfile#^field#
"RTN","EASEZC1",69,0)
 ;output RTR = data obtained from Patient database; external format;
"RTN","EASEZC1",70,0)
 ;             OR -1 if invalid input
"RTN","EASEZC1",71,0)
 ;
"RTN","EASEZC1",72,0)
 N FILE,SUBFILE,FIELD,RTR,ARRAY,DA,DR,DIC,DIQ,X,Y
"RTN","EASEZC1",73,0)
 S FILE=$P(EASFFF,U,1),SUBFILE=$P(EASFFF,U,2),FIELD=$P(EASFFF,U,3)
"RTN","EASEZC1",74,0)
 I ('FILE)!('FIELD) Q -1
"RTN","EASEZC1",75,0)
 I SUBFILE,SUBFILE'=FILE,EASLINK'[";" Q -1
"RTN","EASEZC1",76,0)
 I EASLINK[";",SUBFILE="" Q -1
"RTN","EASEZC1",77,0)
 ;
"RTN","EASEZC1",78,0)
 I (SUBFILE="")!(SUBFILE=FILE) D
"RTN","EASEZC1",79,0)
 .;data in main file
"RTN","EASEZC1",80,0)
 .S DIQ="ARRAY",DIQ(0)="E",DA=EASLINK,DR=FIELD,DIC=FILE
"RTN","EASEZC1",81,0)
 .D EN^DIQ1
"RTN","EASEZC1",82,0)
 .S RTR=$G(ARRAY(FILE,EASLINK,FIELD,"E"))
"RTN","EASEZC1",83,0)
 I SUBFILE'="",SUBFILE'=FILE D
"RTN","EASEZC1",84,0)
 .;data in subfile
"RTN","EASEZC1",85,0)
 .;in this case EASLINK = file_ien;subfile_ien
"RTN","EASEZC1",86,0)
 .S DIQ="ARRAY",DIQ(0)="E",DA=$P(EASLINK,";",1),DIC=FILE
"RTN","EASEZC1",87,0)
 .;get field # for subfile
"RTN","EASEZC1",88,0)
 .S DR=$O(^DD(FILE,"SB",SUBFILE,0))
"RTN","EASEZC1",89,0)
 .S DR(SUBFILE)=FIELD,DA(SUBFILE)=$P(EASLINK,";",2)
"RTN","EASEZC1",90,0)
 .D EN^DIQ1
"RTN","EASEZC1",91,0)
 .S RTR=$G(ARRAY(SUBFILE,$P(EASLINK,";",2),FIELD,"E"))
"RTN","EASEZC1",92,0)
 Q RTR
"RTN","EASEZC1",93,0)
 ;
"RTN","EASEZC1",94,0)
 ;
"RTN","EASEZC1",95,0)
C2 ;get data from file #2 into local array L711
"RTN","EASEZC1",96,0)
 ;there are alot of fields; quickest just to order thru local mapping file
"RTN","EASEZC1",97,0)
 ;
"RTN","EASEZC1",98,0)
 N KEY,MAP,VDATA,EASAEL
"RTN","EASEZC1",99,0)
 ;2nd subscript for array is always 1 (no multiples)
"RTN","EASEZC1",100,0)
 S KEY=0 F  S KEY=$O(^TMP("EZDATA",$J,KEY)) Q:'KEY  S MAP=^TMP("EZDATA",$J,KEY) I ($P(MAP,U,1)=2)&($P(MAP,U,2)=2) D
"RTN","EASEZC1",101,0)
 .S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC1",102,0)
 .S VDATA=$$GET(EASDFN,MAP)
"RTN","EASEZC1",103,0)
 .Q:VDATA=-1  Q:VDATA=""
"RTN","EASEZC1",104,0)
 .;special handling for field #.362
"RTN","EASEZC1",105,0)
 .I ($P(MAP,U,1)=5)="I;14D3." D
"RTN","EASEZC1",106,0)
 ..I VDATA["IN LIEU OF VA COMP" S VDATA="YES"
"RTN","EASEZC1",107,0)
 ..I VDATA="YES, RECEIVING MILITARY RETIREMENT" S VDATA="NO"
"RTN","EASEZC1",108,0)
 .;ien to #711 is 1st subscript of local array is 
"RTN","EASEZC1",109,0)
 .S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC1",110,0)
 .;if data exists in 1010EZ then insert link to file #2
"RTN","EASEZC1",111,0)
 .I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,EASDFN)
"RTN","EASEZC1",112,0)
 .;if data does not exist in 1010EZ add subrecord to hold link
"RTN","EASEZC1",113,0)
 .I 'EASAEL D ADD71201^EASEZU1(EASAPP,KEY,EASDFN,1)
"RTN","EASEZC1",114,0)
 Q
"RTN","EASEZC1",115,0)
 ;
"RTN","EASEZC1",116,0)
C201 ;get data in Alias subfile #2.01 into local array L711
"RTN","EASEZC1",117,0)
 ;  using ien(s) local array ALIAS
"RTN","EASEZC1",118,0)
 ;
"RTN","EASEZC1",119,0)
 ;for Alias name(s) - if other name on 1010EZ doesn't match any on file
"RTN","EASEZC1",120,0)
 ;   then it will be auto-accepted; comparision only with matching name if any.
"RTN","EASEZC1",121,0)
 N X,M,B,ADATA,VDATA,KEY,EASAEL
"RTN","EASEZC1",122,0)
 S KEY=+$$KEY711^EASEZU1("APPLICANT OTHER NAME")
"RTN","EASEZC1",123,0)
 S M=0 F  S M=$O(^TMP("EZDATA",$J,KEY,M)) Q:'M  D
"RTN","EASEZC1",124,0)
 .S ADATA=$P(^TMP("EZDATA",$J,KEY,M,1),U,1)
"RTN","EASEZC1",125,0)
 .S B=0 F  S B=$O(ALIAS(B)) Q:'B  D
"RTN","EASEZC1",126,0)
 ..S VDATA=$$GET(ALIAS(B),^TMP("EZDATA",$J,KEY)) Q:VDATA=-1
"RTN","EASEZC1",127,0)
 ..I VDATA=ADATA D
"RTN","EASEZC1",128,0)
 ...S ^TMP("EZDATA",$J,KEY,M,2)=VDATA
"RTN","EASEZC1",129,0)
 ...S EASAEL=$P(^TMP("EZDATA",$J,KEY,M,1),U,3)
"RTN","EASEZC1",130,0)
 ...;only insert link if data exists in 1010EZ
"RTN","EASEZC1",131,0)
 ...I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,ALIAS(B))
"RTN","EASEZC1",132,0)
 Q
"RTN","EASEZC1",133,0)
 ;
"RTN","EASEZC1",134,0)
C2101 ;get data in Disposition subfile #2.101 into local array L711
"RTN","EASEZC1",135,0)
 ;  using ien(s) local array DISPOS
"RTN","EASEZC1",136,0)
 ;
"RTN","EASEZC1",137,0)
 ;display data on most recent registration if any
"RTN","EASEZC1",138,0)
 ;2nd subscript of local array always 1 (no multiples)
"RTN","EASEZC1",139,0)
 N B,X,FLD,KEY,ADATA,VDATA,EASAEL
"RTN","EASEZC1",140,0)
 S FLD=0 F  S FLD=$O(^TMP("EZINDEX","A",2,2.101,FLD)) Q:FLD=""  D
"RTN","EASEZC1",141,0)
 .S KEY=$O(^TMP("EZINDEX","A",2,2.101,FLD,0))
"RTN","EASEZC1",142,0)
 .S ADATA=$G(^TMP("EZDATA",$J,KEY,1,1))
"RTN","EASEZC1",143,0)
 .S VDATA=$$GET(DISPOS(1),^TMP("EZDATA",$J,KEY))
"RTN","EASEZC1",144,0)
 .Q:VDATA=-1  Q:VDATA=""
"RTN","EASEZC1",145,0)
 .S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC1",146,0)
 .S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC1",147,0)
 .;if data exists in 1010EZ then insert link
"RTN","EASEZC1",148,0)
 .I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,DISPOS(1)) Q
"RTN","EASEZC1",149,0)
 .;if data does not exist in 1010EZ add subrecord to hold link
"RTN","EASEZC1",150,0)
 .I 'EASAEL D ADD71201^EASEZU1(EASAPP,KEY,DISPOS(1),1)
"RTN","EASEZC1",151,0)
 Q
"RTN","EASEZC1",152,0)
 ;
"RTN","EASEZC1",153,0)
C2711 ;get data in Current Enrollment #27.11 into local array L711
"RTN","EASEZC1",154,0)
 ;  using ien(s) local array ENROLL
"RTN","EASEZC1",155,0)
 ;
"RTN","EASEZC1",156,0)
 ;2nd subscript of local array always 1 (no multiples)
"RTN","EASEZC1",157,0)
 N X,M,B,ADATA,CUR,DGENR,VDATA,KEY,EASAEL
"RTN","EASEZC1",158,0)
 S KEY=+$$KEY711^EASEZU1("TYPE OF BENEFIT-ENROLLMENT")
"RTN","EASEZC1",159,0)
 S CUR=$G(ENROLL(1)),VDATA=""
"RTN","EASEZC1",160,0)
 Q:CUR=-1
"RTN","EASEZC1",161,0)
 Q:CUR=""
"RTN","EASEZC1",162,0)
 D ENR(CUR,.VDATA)
"RTN","EASEZC1",163,0)
 S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC1",164,0)
 S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC1",165,0)
 ;if data exists in 1010EZ then insert link
"RTN","EASEZC1",166,0)
 I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,CUR)
"RTN","EASEZC1",167,0)
 ;if data does not exist in 1010EZ add subrecord to hold link
"RTN","EASEZC1",168,0)
 I 'EASAEL D ADD71201^EASEZU1(EASAPP,KEY,CUR,1)
"RTN","EASEZC1",169,0)
 Q
"RTN","EASEZC1",170,0)
 ;
"RTN","EASEZC1",171,0)
ENR(CUR,VDATA) ;get data for current enrollment from VistA database
"RTN","EASEZC1",172,0)
 ;input CUR = pointer to file #27.11
"RTN","EASEZC1",173,0)
 N DGENCAT
"RTN","EASEZC1",174,0)
 S VDATA=""
"RTN","EASEZC1",175,0)
 I $$GET^DGENA(CUR,.DGENR) D
"RTN","EASEZC1",176,0)
 .I $G(DGENR("STATUS"))=10!($G(DGENR("STATUS"))=19)!($G(DGENR("STATUS"))=20) D  Q
"RTN","EASEZC1",177,0)
 ..S VDATA=$S($G(DGENR("STATUS")):$$EXT^DGENU("STATUS",DGENR("STATUS")),1:"")
"RTN","EASEZC1",178,0)
 .S DGENCAT=$$CATEGORY^DGENA4(+EASDFN)
"RTN","EASEZC1",179,0)
 .S DGENCAT=$$EXTERNAL^DILFD(27.15,.02,"",DGENCAT)
"RTN","EASEZC1",180,0)
 .S VDATA=$S($G(DGENR("PRIORITY")):$$EXT^DGENU("PRIORITY",DGENR("PRIORITY")),1:"")
"RTN","EASEZC1",181,0)
 .S VDATA=VDATA_$S($G(DGENR("SUBGRP"))="":"",1:$$EXT^DGENU("SUBGRP",$G(DGENR("SUBGRP"))))
"RTN","EASEZC1",182,0)
 .S VDATA=VDATA_" | "_DGENCAT
"RTN","EASEZC1",183,0)
 Q
"RTN","EASEZC1",184,0)
 ;
"RTN","EASEZC1",185,0)
C408 ;get data from financial files into tmp mapping array
"RTN","EASEZC1",186,0)
 ;  using ien(s) local array INCREL
"RTN","EASEZC1",187,0)
 ;if no iens for veteran then nothing at all; exit
"RTN","EASEZC1",188,0)
 I $G(INCREL(408,"V",1))="" Q
"RTN","EASEZC1",189,0)
 ;link EZ applicant to veteran data
"RTN","EASEZC1",190,0)
 D A408^EASEZC2
"RTN","EASEZC1",191,0)
 ;link EZ spouse to spouse data
"RTN","EASEZC1",192,0)
 D SP408^EASEZC2
"RTN","EASEZC1",193,0)
 ;link EZ child to child/dependent data
"RTN","EASEZC1",194,0)
 D C1N408^EASEZC2
"RTN","EASEZC1",195,0)
 Q
"RTN","EASEZC2")
0^22^B37750019
"RTN","EASEZC2",1,0)
EASEZC2 ;ALB/jap - Compare 1010EZ Data with VistA Database ;10/16/00  13:08
"RTN","EASEZC2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,51**;Mar 15, 2001
"RTN","EASEZC2",3,0)
 ;
"RTN","EASEZC2",4,0)
A408 ;get applicant financial data from VistA
"RTN","EASEZC2",5,0)
 N IENS,IEN,B,FF,FILE,SUBF,FLD,MAP,VDATA,KEY,EASAEL
"RTN","EASEZC2",6,0)
 S IENS=$G(INCREL(408,"V",1))
"RTN","EASEZC2",7,0)
 Q:IENS=""
"RTN","EASEZC2",8,0)
 ;associate each ien with file/subfile
"RTN","EASEZC2",9,0)
 S B=0 F FF=408.12,2,408.21,408.22 D
"RTN","EASEZC2",10,0)
 .S B=B+1,IEN=+$P(IENS,U,B)
"RTN","EASEZC2",11,0)
 .Q:'IEN  Q:FF=2
"RTN","EASEZC2",12,0)
 .S (FILE,SUBF)=FF
"RTN","EASEZC2",13,0)
 .S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,"A",FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",14,0)
 ..S MAP=FILE_U_SUBF_U_FLD
"RTN","EASEZC2",15,0)
 ..;get patient database data
"RTN","EASEZC2",16,0)
 ..S VDATA=$$GET^EASEZC1(IEN,MAP)
"RTN","EASEZC2",17,0)
 ..;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",18,0)
 ..;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",19,0)
 ..S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,"A",FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",20,0)
 ...S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC2",21,0)
 ...S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC2",22,0)
 ...I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,IEN)
"RTN","EASEZC2",23,0)
 ...I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,IEN,1)
"RTN","EASEZC2",24,0)
 Q
"RTN","EASEZC2",25,0)
 ;
"RTN","EASEZC2",26,0)
SP408 ;get spouse financial data from VistA
"RTN","EASEZC2",27,0)
 ;
"RTN","EASEZC2",28,0)
 N B,TYPE,MAP,M,MM,NSD,OUT,X,IEN,IENS,KEY,FILE,FF,FFF,FLD,SUBF,SUBIEN,VDATA,WHERE
"RTN","EASEZC2",29,0)
 ;get identifying data for database spouse
"RTN","EASEZC2",30,0)
 S IENS=$G(INCREL(408,"S",1))
"RTN","EASEZC2",31,0)
 Q:IENS=""
"RTN","EASEZC2",32,0)
 ;associate each ien with file/subfile
"RTN","EASEZC2",33,0)
 S B=0 F FF=408.12,408.13,408.21,408.22 D
"RTN","EASEZC2",34,0)
 .S B=B+1,IEN=+$P(IENS,U,B)
"RTN","EASEZC2",35,0)
 .Q:'IEN
"RTN","EASEZC2",36,0)
 .S (FILE,SUBF)=FF
"RTN","EASEZC2",37,0)
 .S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,"S",FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",38,0)
 ..S MAP=FILE_U_SUBF_U_FLD
"RTN","EASEZC2",39,0)
 ..;get patient database data
"RTN","EASEZC2",40,0)
 ..S VDATA=$$GET^EASEZC1(IEN,MAP)
"RTN","EASEZC2",41,0)
 ..;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",42,0)
 ..;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",43,0)
 ..S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,"S",FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",44,0)
 ...S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC2",45,0)
 ...S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC2",46,0)
 ...I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,IEN)
"RTN","EASEZC2",47,0)
 ...I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,IEN,1)
"RTN","EASEZC2",48,0)
 .;get data in subfile #408.1275
"RTN","EASEZC2",49,0)
 .I FILE=408.12 S SUBF=408.1275 S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,"S",FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",50,0)
 ..S SUBIEN=$$I1275^EASEZI(IEN)
"RTN","EASEZC2",51,0)
 ..S MAP=FILE_U_SUBF_U_FLD,WHERE=IEN_";"_SUBIEN
"RTN","EASEZC2",52,0)
 ..S VDATA=$$GET^EASEZC1(WHERE,MAP)
"RTN","EASEZC2",53,0)
 ..;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",54,0)
 ..;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",55,0)
 ..S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,"S",FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",56,0)
 ...S ^TMP("EZDATA",$J,KEY,1,2)=VDATA
"RTN","EASEZC2",57,0)
 ...S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,1,1)),U,3)
"RTN","EASEZC2",58,0)
 ...I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,WHERE)
"RTN","EASEZC2",59,0)
 ...I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,WHERE,1)
"RTN","EASEZC2",60,0)
 Q
"RTN","EASEZC2",61,0)
 ;
"RTN","EASEZC2",62,0)
C1N408 ;get child/dependent financial data from VistA
"RTN","EASEZC2",63,0)
 N B,PERS,EZ,PT,TYPE,GRP,GRP1,MAP,M,MM,NSD,OUT,X,IEN,IENS,FLD,FF,FFF,FILE,SUBF,SUBIEN,VDATA,WHERE
"RTN","EASEZC2",64,0)
 ;
"RTN","EASEZC2",65,0)
 ;get identifying data for 1010EZ child dependents
"RTN","EASEZC2",66,0)
 K PERS("EZ")
"RTN","EASEZC2",67,0)
 S TYPE="CHILD1" S X=$$NSD^EASEZU3(EASAPP,TYPE,1) I X'="" S PERS("EZ",TYPE,1)=X
"RTN","EASEZC2",68,0)
 S TYPE="CHILD(N)",M=0,OUT=0 F  S M=M+1 D  Q:OUT
"RTN","EASEZC2",69,0)
 .S X=$$NSD^EASEZU3(EASAPP,TYPE,M)
"RTN","EASEZC2",70,0)
 .I X="" S OUT=1 Q
"RTN","EASEZC2",71,0)
 .S PERS("EZ",TYPE,M)=X
"RTN","EASEZC2",72,0)
 ;
"RTN","EASEZC2",73,0)
 ;get identifying data for all database dependents
"RTN","EASEZC2",74,0)
 K PERS("PT")
"RTN","EASEZC2",75,0)
 S M=0,MM=0 F  S M=$O(INCREL(408,"C",M)) Q:'M  D
"RTN","EASEZC2",76,0)
 .S IEN=+$P(INCREL(408,"C",M),U,2)
"RTN","EASEZC2",77,0)
 .S NSD="" F FLD=".01",".09",".03" D
"RTN","EASEZC2",78,0)
 ..S FFF="408.13^408.13^"_FLD S X=$$GET^EASEZC1(IEN,FFF)
"RTN","EASEZC2",79,0)
 ..I FLD=".09" S X=$$SSNOUT^EASEZT1(X)
"RTN","EASEZC2",80,0)
 ..S NSD=NSD_X_U
"RTN","EASEZC2",81,0)
 .S MM=MM+1,PERS("PT","CHILD",MM)=NSD,PERS("PT","CHILD",MM,"IENS")=INCREL(408,"C",M)
"RTN","EASEZC2",82,0)
 ;
"RTN","EASEZC2",83,0)
 ;match each EZ child dependent to database dependent if possible
"RTN","EASEZC2",84,0)
 F TYPE="CHILD1","CHILD(N)" S M=0 F  S M=$O(PERS("EZ",TYPE,M)) Q:'M  D
"RTN","EASEZC2",85,0)
 .S EZ=PERS("EZ",TYPE,M)
"RTN","EASEZC2",86,0)
 .S MM=0 F  S MM=$O(PERS("PT","CHILD",MM)) Q:'MM  S PT=PERS("PT","CHILD",MM) D
"RTN","EASEZC2",87,0)
 ..I ($P(EZ,U,2,3)=$P(PT,U,2,3))!($$CMORE^EASEZC2(EZ,PT)) D
"RTN","EASEZC2",88,0)
 ...S PERS("EZ",TYPE,M,"IENS")=PERS("PT","CHILD",MM,"IENS")
"RTN","EASEZC2",89,0)
 ...K PERS("PT","CHILD",MM)
"RTN","EASEZC2",90,0)
 ;
"RTN","EASEZC2",91,0)
 ;get identifying data for child in database
"RTN","EASEZC2",92,0)
 F TYPE="CHILD1","CHILD(N)" S M=0 F  S M=$O(PERS("EZ",TYPE,M)) Q:'M  D
"RTN","EASEZC2",93,0)
 .S IENS=$G(PERS("EZ",TYPE,M,"IENS"))
"RTN","EASEZC2",94,0)
 .Q:IENS=""
"RTN","EASEZC2",95,0)
 .S GRP=$S(TYPE="CHILD1":"C1",1:"CN")
"RTN","EASEZC2",96,0)
 .;associate each ien with file/subfile
"RTN","EASEZC2",97,0)
 .S B=0 F FF=408.12,408.13,408.21,408.22 D
"RTN","EASEZC2",98,0)
 ..S B=B+1,IEN=+$P(IENS,U,B)
"RTN","EASEZC2",99,0)
 ..Q:'IEN
"RTN","EASEZC2",100,0)
 ..S (FILE,SUBF)=FF
"RTN","EASEZC2",101,0)
 ..S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,GRP,FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",102,0)
 ...S MAP=FILE_U_SUBF_U_FLD
"RTN","EASEZC2",103,0)
 ...S GRP1=GRP I EASVRSN>5.99,FILE=408.21,".08;.14;.17"[FLD S GRP1="CN"
"RTN","EASEZC2",104,0)
 ...;get patient database data
"RTN","EASEZC2",105,0)
 ...S VDATA=$$GET^EASEZC1(IEN,MAP)
"RTN","EASEZC2",106,0)
 ...;I FILE=408.21 W !,FLD,?8,TYPE,?18,M,?21,VDATA ;instrumentation for testing
"RTN","EASEZC2",107,0)
 ...;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",108,0)
 ...;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",109,0)
 ...S KEY=$O(^TMP("EZINDEX",$J,GRP1,FILE,SUBF,FLD,0)) Q:'KEY  D
"RTN","EASEZC2",110,0)
 ....S MM=M I EASVRSN>5.99,FILE=408.21,".08;.14;.17"[FLD S:(TYPE="CHILD(N)") MM=M+1
"RTN","EASEZC2",111,0)
 ....;I FILE=408.21 W !,"*",FLD,?8,TYPE,?18,MM,?21,VDATA ;instrumentation for testing
"RTN","EASEZC2",112,0)
 ....S ^TMP("EZDATA",$J,KEY,MM,2)=VDATA
"RTN","EASEZC2",113,0)
 ....S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,MM,1)),U,3)
"RTN","EASEZC2",114,0)
 ....I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,IEN)
"RTN","EASEZC2",115,0)
 ....I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,IEN,1)
"RTN","EASEZC2",116,0)
 ..;get data in subfile #408.1275
"RTN","EASEZC2",117,0)
 ..I FILE=408.12 S SUBF=408.1275 S FLD=0 F  S FLD=$O(^TMP("EZINDEX",$J,GRP,FILE,SUBF,FLD)) Q:FLD=""  D
"RTN","EASEZC2",118,0)
 ...S SUBIEN=$$I1275^EASEZI(IEN)
"RTN","EASEZC2",119,0)
 ...S MAP=FILE_U_SUBF_U_FLD,WHERE=IEN_";"_SUBIEN
"RTN","EASEZC2",120,0)
 ...S VDATA=$$GET^EASEZC1(WHERE,MAP)
"RTN","EASEZC2",121,0)
 ...;store link in all 1010EZ elements associated with this file/subfile
"RTN","EASEZC2",122,0)
 ...;store patient data in tmp array and link in subfile #712.01; KEY is ien to file #711
"RTN","EASEZC2",123,0)
 ...S KEY=0 F  S KEY=$O(^TMP("EZINDEX",$J,GRP,FILE,SUBF,FLD,KEY)) Q:'KEY  D
"RTN","EASEZC2",124,0)
 ....S ^TMP("EZDATA",$J,KEY,MM,2)=VDATA
"RTN","EASEZC2",125,0)
 ....S EASAEL=$P($G(^TMP("EZDATA",$J,KEY,MM,1)),U,3)
"RTN","EASEZC2",126,0)
 ....I EASAEL D LINKUP^EASEZU1(EASAPP,EASAEL,WHERE)
"RTN","EASEZC2",127,0)
 ....I 'EASAEL,VDATA'="" D ADD71201^EASEZU1(EASAPP,KEY,WHERE,1)
"RTN","EASEZC2",128,0)
 Q
"RTN","EASEZC2",129,0)
 ;
"RTN","EASEZC2",130,0)
CMORE(EZ,PT) ;
"RTN","EASEZC2",131,0)
 ;input EZ = name^ssn^dob of child on 1010EZ
"RTN","EASEZC2",132,0)
 ;      PT = name^ssn^dob of child in database
"RTN","EASEZC2",133,0)
 ;output MATCH = 0, if no match
"RTN","EASEZC2",134,0)
 N PSSN,PDOB,ESSN,EDOB,K,MATCH,MATCH1,MATCH2
"RTN","EASEZC2",135,0)
 S (MATCH,MATCH1,MATCH2)=0
"RTN","EASEZC2",136,0)
 S ESSN=$P(EZ,U,2),EDOB=$P(EZ,U,3),PSSN=$P(PT,U,2),PDOB=$P(PT,U,3)
"RTN","EASEZC2",137,0)
 S MATCH1=0 F K=1,2,3,5,6,8,9,10,11 I $P(ESSN,U,K)=$P(PSSN,U,K) S MATCH1=MATCH1+1
"RTN","EASEZC2",138,0)
 I $P(EDOB,"/",3)=$P(PDOB,"/",3) S MATCH2=1
"RTN","EASEZC2",139,0)
 I MATCH1>7,MATCH2 S MATCH=1
"RTN","EASEZC2",140,0)
 Q MATCH
"RTN","EASEZC3")
0^2^B18473049
"RTN","EASEZC3",1,0)
EASEZC3 ;ALB/jap - Compare 1010EZ Data with VistA Database (cont.) ;10/16/00  13:08
"RTN","EASEZC3",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZC3",3,0)
 ;
"RTN","EASEZC3",4,0)
SORT(EASAPP) ;resort ^TMP("EZDATA", to prepare for screen display
"RTN","EASEZC3",5,0)
 N KEYIEN,DATAKEY,ALL,EZDATA,DISPNM,PTDATA,EASMULT,TRNSFORM,QUES,Q1,QQ,QX,NQ,SECT,FFF,XNAME,MULT
"RTN","EASEZC3",6,0)
 K ^TMP("EZTEMP",$J),^TMP("EZDISP",$J)
"RTN","EASEZC3",7,0)
 S KEYIEN=.1 F  S KEYIEN=$O(^TMP("EZDATA",$J,KEYIEN)) Q:'KEYIEN  I $D(^(KEYIEN))>1 D
"RTN","EASEZC3",8,0)
 .S DATAKEY=$P(^TMP("EZDATA",$J,KEYIEN),U,4),SECT=$P(DATAKEY,";",1),QUES=$P(DATAKEY,";",2)
"RTN","EASEZC3",9,0)
 .;must use variable name EASMULT,EASRTR for any Transform
"RTN","EASEZC3",10,0)
 .S EASMULT=0 F  S EASMULT=$O(^TMP("EZDATA",$J,KEYIEN,EASMULT)) Q:'EASMULT  D
"RTN","EASEZC3",11,0)
 ..;here ALL=ezdata^accept^712.01ien
"RTN","EASEZC3",12,0)
 ..S ALL=$G(^TMP("EZDATA",$J,KEYIEN,EASMULT,1)),EZDATA=$P(ALL,U,1)
"RTN","EASEZC3",13,0)
 ..;ez data conversion for display
"RTN","EASEZC3",14,0)
 ..K EASRTR S TRNSFORM=$G(^EAS(711,KEYIEN,"T")) I TRNSFORM'="" X TRNSFORM S EZDATA=$G(EASRTR)
"RTN","EASEZC3",15,0)
 ..S PTDATA=$P($G(^TMP("EZDATA",$J,KEYIEN,EASMULT,2)),U,1)
"RTN","EASEZC3",16,0)
 ..I EZDATA="" S $P(^TMP("EZDATA",$J,KEYIEN,EASMULT,1),U,1)=""
"RTN","EASEZC3",17,0)
 ..Q:(EZDATA="")&(PTDATA="")
"RTN","EASEZC3",18,0)
 ..S DISPNM=$P($G(^TMP("EZDATA",$J,KEYIEN)),U,5)
"RTN","EASEZC3",19,0)
 ..S ^TMP("EZTEMP",$J,SECT,EASMULT,QUES)=KEYIEN_U_EZDATA_U_$P(ALL,U,2)_U_$P(ALL,U,3)_U_PTDATA
"RTN","EASEZC3",20,0)
 ..Q:$$SUPPRESS^EASEZU4(EASAPP,DATAKEY,0,EASVRSN)  ;alb/cmf/51
"RTN","EASEZC3",21,0)
 ..;set another array so questions fall in proper display order
"RTN","EASEZC3",22,0)
 ..I QUES=+QUES D  Q
"RTN","EASEZC3",23,0)
 ...S ^TMP("EZDISP",$J,SECT,EASMULT,QUES,0)=^TMP("EZTEMP",$J,SECT,EASMULT,QUES)_U_DISPNM
"RTN","EASEZC3",24,0)
 ..S Q1=$E(QUES,1) I Q1=+QUES D  Q
"RTN","EASEZC3",25,0)
 ...S QX=$E(QUES,2,99) S:QX="." QX=0
"RTN","EASEZC3",26,0)
 ...S ^TMP("EZDISP",$J,SECT,EASMULT,Q1,QX)=^TMP("EZTEMP",$J,SECT,EASMULT,QUES)_U_DISPNM
"RTN","EASEZC3",27,0)
 ..S Q1=$E(QUES,1,2) I Q1=+QUES D
"RTN","EASEZC3",28,0)
 ...S QX=$E(QUES,3,99) S:QX="." QX=0
"RTN","EASEZC3",29,0)
 ...S ^TMP("EZDISP",$J,SECT,EASMULT,Q1,QX)=^TMP("EZTEMP",$J,SECT,EASMULT,QUES)_U_DISPNM
"RTN","EASEZC3",30,0)
 ;rearrange Section IIA
"RTN","EASEZC3",31,0)
 S SECT="IIA",MULT=1,QQ="" F  S QQ=$O(^TMP("EZDISP",$J,SECT,MULT,QQ)) Q:QQ>99  Q:QQ=""  D
"RTN","EASEZC3",32,0)
 .S XNAME=$P(^TMP("EZDISP",$J,SECT,MULT,QQ,0),U,6),NQ=$S(XNAME["Sp.":100,1:200)
"RTN","EASEZC3",33,0)
 .S ^TMP("EZDISP",$J,SECT,MULT,NQ,QQ)=^TMP("EZDISP",$J,SECT,MULT,QQ,0)
"RTN","EASEZC3",34,0)
 .K ^TMP("EZDISP",$J,SECT,MULT,QQ,0)
"RTN","EASEZC3",35,0)
 Q
"RTN","EASEZC3",36,0)
 ;
"RTN","EASEZC3",37,0)
OUT ;output current contents of ^TMP("EZTEMP",
"RTN","EASEZC3",38,0)
 ;only used for development from programmer mode
"RTN","EASEZC3",39,0)
 N S,M,OLDM,QUES,Q1,QX,KEYIEN,DISPNM,EZDATA,PTDATA,X
"RTN","EASEZC3",40,0)
 S S="" F  S S=$O(^TMP("EZDISP",$J,S)) Q:S=""  D
"RTN","EASEZC3",41,0)
 .W !!!,"SECTION "_S
"RTN","EASEZC3",42,0)
 .S M=0,OLDM=0 F  S M=$O(^TMP("EZDISP",$J,S,M)) Q:'M  D
"RTN","EASEZC3",43,0)
 ..I M'=OLDM W !
"RTN","EASEZC3",44,0)
 ..S OLDM=M
"RTN","EASEZC3",45,0)
 ..S Q1="" F  S Q1=$O(^TMP("EZDISP",$J,S,M,Q1)) Q:Q1=""  S QX="" F  S QX=$O(^TMP("EZDISP",$J,S,M,Q1,QX)) Q:QX=""  D
"RTN","EASEZC3",46,0)
 ...S (EZDATA,PTDATA)=""
"RTN","EASEZC3",47,0)
 ...S X=^TMP("EZDISP",$J,S,M,Q1,QX),KEYIEN=$P(X,U,1),EZDATA=$P(X,U,2),PTDATA=$P(X,U,5),DISPNM=$P(X,U,6)
"RTN","EASEZC3",48,0)
 ...I Q1>99 S QUES=QX_"."
"RTN","EASEZC3",49,0)
 ...E  S QUES=Q1_$S(QX=0:".",1:QX)
"RTN","EASEZC3",50,0)
 ...W !,"QUESTION "_QUES_"  "_DISPNM
"RTN","EASEZC3",51,0)
 ...W !,?3,"1010EZ : "_EZDATA
"RTN","EASEZC3",52,0)
 ...W !,?3,"VistA  : "_PTDATA
"RTN","EASEZC3",53,0)
 Q
"RTN","EASEZC3",54,0)
 ;
"RTN","EASEZC3",55,0)
C202 ;alb/cmf/51 place race info into local711 array
"RTN","EASEZC3",56,0)
 N M,B,VDATA,KEY,RAC
"RTN","EASEZC3",57,0)
 D GETS^DIQ(2,EASDFN_",","2*","","RAC")
"RTN","EASEZC3",58,0)
 Q:'$D(RAC)
"RTN","EASEZC3",59,0)
 D D202("APPLICANT RACE - AMERICAN INDIAN OR ALASKA NATIVE","AMERI")
"RTN","EASEZC3",60,0)
 D D202("APPLICANT RACE - BLACK OR AFRICAN AMERICAN","BLACK")
"RTN","EASEZC3",61,0)
 D D202("APPLICANT RACE - HAWAIIAN OR PAC ISLANDER","NATIV")
"RTN","EASEZC3",62,0)
 D D202("APPLICANT RACE - ASIAN","ASIAN")
"RTN","EASEZC3",63,0)
 D D202("APPLICANT RACE - WHITE","WHITE")
"RTN","EASEZC3",64,0)
 D D202("APPLICANT RACE - UNANSWERED","UNKNO")
"RTN","EASEZC3",65,0)
 Q
"RTN","EASEZC3",66,0)
 ;
"RTN","EASEZC3",67,0)
D202(AKEY,ARACE) ;
"RTN","EASEZC3",68,0)
 S KEY=+$$KEY711^EASEZU1(AKEY)
"RTN","EASEZC3",69,0)
 S M=0 F  S M=$O(^TMP("EZDATA",$J,KEY,M)) Q:'M  D
"RTN","EASEZC3",70,0)
 .S VDATA=""
"RTN","EASEZC3",71,0)
 .S B=$$Q202(ARACE) I +B S VDATA="YES"_$P(B,U,2)
"RTN","EASEZC3",72,0)
 .S $P(^TMP("EZDATA",$J,KEY,M,2),U,1)=VDATA
"RTN","EASEZC3",73,0)
 Q
"RTN","EASEZC3",74,0)
 ;
"RTN","EASEZC3",75,0)
Q202(X) ;
"RTN","EASEZC3",76,0)
 N I,FLAG
"RTN","EASEZC3",77,0)
 S FLAG=0
"RTN","EASEZC3",78,0)
 Q:'$D(RAC) FLAG
"RTN","EASEZC3",79,0)
 D:'$D(RAC("B"))
"RTN","EASEZC3",80,0)
 .S I=""
"RTN","EASEZC3",81,0)
 .F  S I=$O(RAC(2.02,I)) Q:I=""  D
"RTN","EASEZC3",82,0)
 ..S RAC("B",$E(RAC(2.02,I,.01),1,5))=$E(RAC(2.02,I,.02),1)
"RTN","EASEZC3",83,0)
 I $D(RAC("B",X)) S FLAG=1_U_" ("_RAC("B",X)_")"
"RTN","EASEZC3",84,0)
 ;S I=""
"RTN","EASEZC3",85,0)
 ;F  S I=$O(RAC(2.02,I)) Q:(I="")!(+FLAG)  D
"RTN","EASEZC3",86,0)
 ;.I $E(RAC(2.02,I,.01),1,5)=X S FLAG=1_U_" ("_$E(RAC(2.02,I,.02),1)_")"
"RTN","EASEZC3",87,0)
 Q FLAG
"RTN","EASEZC3",88,0)
 ;              
"RTN","EASEZC3",89,0)
C206 ;alb/cmf/51 place ethnicity info into local711 array
"RTN","EASEZC3",90,0)
 N X,M,B,VDATA,KEY,ETH
"RTN","EASEZC3",91,0)
 D GETS^DIQ(2,EASDFN_",","6*","","ETH")
"RTN","EASEZC3",92,0)
 Q:'$D(ETH)
"RTN","EASEZC3",93,0)
 S KEY=+$$KEY711^EASEZU1("APPLICANT SPANISH, HISPANIC, OR LATIN")
"RTN","EASEZC3",94,0)
 S M=0 F  S M=$O(^TMP("EZDATA",$J,KEY,M)) Q:'M  D
"RTN","EASEZC3",95,0)
 .S VDATA="",B=""
"RTN","EASEZC3",96,0)
 .D  S $P(^TMP("EZDATA",$J,KEY,M,2),U,1)=VDATA
"RTN","EASEZC3",97,0)
 ..S B=$$Q206("NOT") I +B S VDATA="NO"_$P(B,U,2) Q
"RTN","EASEZC3",98,0)
 ..S B=$$Q206("HIS") I +B S VDATA="YES"_$P(B,U,2) Q
"RTN","EASEZC3",99,0)
 ..S B=$$Q206("DEC") I +B S VDATA="DECLINED"_$P(B,U,2) Q
"RTN","EASEZC3",100,0)
 ..S B=$$Q206("UNK") I +B S VDATA="UNKNOWN"_$P(B,U,2) Q
"RTN","EASEZC3",101,0)
 ..Q
"RTN","EASEZC3",102,0)
 .Q
"RTN","EASEZC3",103,0)
 Q
"RTN","EASEZC3",104,0)
 ;
"RTN","EASEZC3",105,0)
Q206(X) ;
"RTN","EASEZC3",106,0)
 N I,FLAG
"RTN","EASEZC3",107,0)
 S FLAG=0
"RTN","EASEZC3",108,0)
 Q:'$D(ETH) FLAG
"RTN","EASEZC3",109,0)
 D:'$D(ETH("B")) 
"RTN","EASEZC3",110,0)
 .S I=""
"RTN","EASEZC3",111,0)
 .F  S I=$O(ETH(2.06,I)) Q:I=""  D 
"RTN","EASEZC3",112,0)
 ..S ETH("B",$E(ETH(2.06,I,.01),1,3))=$E(ETH(2.06,I,.02),1)
"RTN","EASEZC3",113,0)
 I $D(ETH("B",X)) S FLAG=1_U_" ("_ETH("B",X)_")"
"RTN","EASEZC3",114,0)
 ;S I=""
"RTN","EASEZC3",115,0)
 ;F  S I=$O(ETH(2.06,I)) Q:(I="")!(+FLAG)  D
"RTN","EASEZC3",116,0)
 ;.I $E(ETH(2.06,I,.01),1,3)=X S FLAG=1_U_" ("_$E(ETH(2.06,I,.02),1)_")"
"RTN","EASEZC3",117,0)
 Q FLAG
"RTN","EASEZC3",118,0)
 ;
"RTN","EASEZF1")
0^4^B47097767
"RTN","EASEZF1",1,0)
EASEZF1 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/12/00  13:07
"RTN","EASEZF1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,51**;Mar 15, 2001
"RTN","EASEZF1",3,0)
 ;
"RTN","EASEZF1",4,0)
F2(EASAPP,EASDFN) ;file to Patient record in #2
"RTN","EASEZF1",5,0)
 ;input EASDFN = ien to #2
"RTN","EASEZF1",6,0)
 N KEYIEN,FILE,SUBFILE,FLD,DATAKEY,MULTIPLE,SECT,QUES,SUBIEN,ACCEPT,EZDATA,PTDATA,LINK,EROOT,EAS,ERR,IENS,ARRAY,ELIGVER
"RTN","EASEZF1",7,0)
 N DIC,DIQ,DA,DR,X,Y
"RTN","EASEZF1",8,0)
 Q:'$G(EASDFN)
"RTN","EASEZF1",9,0)
 L +^DPT(EASDFN)
"RTN","EASEZF1",10,0)
 I '$G(EASVRSN) S EASVRSN=$$VERSION^EASEZU4(EASAPP)
"RTN","EASEZF1",11,0)
 S KEYIEN=0
"RTN","EASEZF1",12,0)
 F  S KEYIEN=$O(^TMP("EZDATA",$J,KEYIEN)) Q:'KEYIEN  D
"RTN","EASEZF1",13,0)
 .S LN=^TMP("EZDATA",$J,KEYIEN),FILE=$P(LN,U,1)
"RTN","EASEZF1",14,0)
 .Q:FILE'=2
"RTN","EASEZF1",15,0)
 .S SUBFILE=$P(LN,U,2),FLD=$P(LN,U,3),DATAKEY=$P(LN,U,4)
"RTN","EASEZF1",16,0)
 .S SECT=$P(DATAKEY,";",1),QUES=$P(DATAKEY,";",2)
"RTN","EASEZF1",17,0)
 .;call to suppress may be redundant
"RTN","EASEZF1",18,0)
 .Q:$$SUPPRESS^EASEZU4(EASAPP,DATAKEY,1,EASVRSN)
"RTN","EASEZF1",19,0)
 .;in file #2, multiple is always 1
"RTN","EASEZF1",20,0)
 .S MULTIPLE=1
"RTN","EASEZF1",21,0)
 .Q:'$D(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1))
"RTN","EASEZF1",22,0)
 .S X=$G(^TMP("EZTEMP",$J,SECT,MULTIPLE,QUES))
"RTN","EASEZF1",23,0)
 .Q:$P(X,U,1)'=KEYIEN
"RTN","EASEZF1",24,0)
 .S EZDATA=$P(X,U,2),ACCEPT=$P(X,U,3),SUBIEN=$P(X,U,4),PTDATA=$P(X,U,5)
"RTN","EASEZF1",25,0)
 .Q:EZDATA=""
"RTN","EASEZF1",26,0)
 .Q:'SUBIEN
"RTN","EASEZF1",27,0)
 .;special handling for Designee
"RTN","EASEZF1",28,0)
 .I FLD=.3405 S EZDATA=$S(EZDATA="NEXT OF KIN":"YES",1:"NO")
"RTN","EASEZF1",29,0)
 .;strip off code display from county
"RTN","EASEZF1",30,0)
 .I SECT="I",QUES="9E." S EZDATA=$P(EZDATA," (",1)
"RTN","EASEZF1",31,0)
 .;get file #2 ien; always same as EASDFN
"RTN","EASEZF1",32,0)
 .S LINK=EASDFN
"RTN","EASEZF1",33,0)
 .;don't continue if data item not accepted
"RTN","EASEZF1",34,0)
 .Q:ACCEPT<1
"RTN","EASEZF1",35,0)
 .;process subfile data elsewhere
"RTN","EASEZF1",36,0)
 .I SUBFILE=2.01 Q
"RTN","EASEZF1",37,0)
 .I SUBFILE=2.101 Q
"RTN","EASEZF1",38,0)
 .I SUBFILE=2.02 D F202^EASEZF1(SUBFILE,DATAKEY,EZDATA,SUBIEN,KEYIEN) Q
"RTN","EASEZF1",39,0)
 .I SUBFILE=2.06 D F206^EASEZF1(SUBFILE,DATAKEY,EZDATA,SUBIEN) Q
"RTN","EASEZF1",40,0)
 .;special conversion to file data to field #.328
"RTN","EASEZF1",41,0)
 .I FLD=.328 D
"RTN","EASEZF1",42,0)
 ..S X=$$UC^EASEZT1(EZDATA) I X="SSN" D
"RTN","EASEZF1",43,0)
 ...;allow SSN as Service Number only if field #.328 in patient record is null;
"RTN","EASEZF1",44,0)
 ...S PTSSN=$$GETANY^EASEZU1(EASAPP,EASDFN,SUBIEN)
"RTN","EASEZF1",45,0)
 ...I PTSSN="" S EZDATA="SS" Q
"RTN","EASEZF1",46,0)
 ...;otherwise Applicant SSN must match Patient SSN
"RTN","EASEZF1",47,0)
 ...S KK=$$KEY711^EASEZU1("APPLICANT SOCIAL SECURITY NUMBER")
"RTN","EASEZF1",48,0)
 ...S EZSSN=$P($G(^TMP("EZDATA",$J,KK,1,1)),U,1),EZSSN=$TR(EZSSN,"-","")
"RTN","EASEZF1",49,0)
 ...I EZSSN=PTSSN S EZDATA="SS" Q
"RTN","EASEZF1",50,0)
 ...S EZDATA="ssn"
"RTN","EASEZF1",51,0)
 ..K KK,PTSSN,EZSSN
"RTN","EASEZF1",52,0)
 .;special for fields #.092 & #.093
"RTN","EASEZF1",53,0)
 .I FILE=2,((FLD=.092)!(FLD=.093)) D FPOB(DATAKEY,EZDATA,SUBIEN,PTDATA) Q
"RTN","EASEZF1",54,0)
 .;special for field #.362
"RTN","EASEZF1",55,0)
 .I FILE=2,FLD=.362,EASVRSN>5.99 I (EZDATA="Y")!(EZDATA="YES") S EZDATA="YES, RECEIVING MILITARY RETIREMENT IN LIEU OF VA COMPENSATION"
"RTN","EASEZF1",56,0)
 .Q:EZDATA=PTDATA
"RTN","EASEZF1",57,0)
 .;repeat check for verified eligibility;
"RTN","EASEZF1",58,0)
 .;do not file certain fields if eligibility verified
"RTN","EASEZF1",59,0)
 .K ARRAY
"RTN","EASEZF1",60,0)
 .S DA=EASDFN,DIC="^DPT(",DR=".3611;.3613",DIQ(0)="I",DIQ="ARRAY"
"RTN","EASEZF1",61,0)
 .D EN^DIQ1 K DA,DIC,DIQ,DR
"RTN","EASEZF1",62,0)
 .I $G(ARRAY(2,EASDFN,.3611,"I"))="V",$G(ARRAY(2,EASDFN,.3613,"I"))="H" S ELIGVER=1
"RTN","EASEZF1",63,0)
 .I FLD=.313,$G(ARRAY(2,EASDFN,.3611,"I"))="V" Q
"RTN","EASEZF1",64,0)
 .I $G(ELIGVER),((FLD=.301)!(FLD=.302)!(FLD=.36235)) Q
"RTN","EASEZF1",65,0)
 .;setup to call FM database server using EASDFN as file #2 record
"RTN","EASEZF1",66,0)
 .K EAS,ERR
"RTN","EASEZF1",67,0)
 .S IENS=EASDFN_","
"RTN","EASEZF1",68,0)
 .S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF1",69,0)
 .D VAL^DIE(2,IENS,FLD,"F",EZDATA,,EROOT,"ERR")
"RTN","EASEZF1",70,0)
 .;try to resolve possible invalid input for free text fields due to length
"RTN","EASEZF1",71,0)
 .I $D(ERR) D RESOLVE
"RTN","EASEZF1",72,0)
 .I $D(ERR) D ERROR^EASEZF2("AP",MULTIPLE,.ERR,"LINK")
"RTN","EASEZF1",73,0)
 .;file to database if input is valid
"RTN","EASEZF1",74,0)
 .I '$D(ERR) D
"RTN","EASEZF1",75,0)
 ..;2/1/2001 - don't attempt to file Name, SSN, DOB; too many complications;
"RTN","EASEZF1",76,0)
 ..;  example: if system assigns pseudo-SSN to new patient, user could overwrite;
"RTN","EASEZF1",77,0)
 ..;  example: if applicant matched to existing patient, all critical identifying
"RTN","EASEZF1",78,0)
 ..;           data could be overwritten; could impact HEC as well
"RTN","EASEZF1",79,0)
 ..D FILE^DIE("S",EROOT,"ERR")
"RTN","EASEZF1",80,0)
 ..;set any replaced data into subfile #712.01 for audit
"RTN","EASEZF1",81,0)
 ..S ^EAS(712,EASAPP,10,SUBIEN,2)=PTDATA_U_LINK
"RTN","EASEZF1",82,0)
 ;
"RTN","EASEZF1",83,0)
 L -^DPT(EASDFN)
"RTN","EASEZF1",84,0)
 Q
"RTN","EASEZF1",85,0)
 ;
"RTN","EASEZF1",86,0)
RESOLVE ;try to resolve invalid input for free text fields only
"RTN","EASEZF1",87,0)
 ;see if mapped to free text field
"RTN","EASEZF1",88,0)
 N FDEF,FTYPE,MAX
"RTN","EASEZF1",89,0)
 I (SUBFILE=FILE)!(SUBFILE="") S FDEF=FILE
"RTN","EASEZF1",90,0)
 E  S FDEF=SUBFILE
"RTN","EASEZF1",91,0)
 S FTYPE=$$GET1^DID(FDEF,FLD,"","TYPE")
"RTN","EASEZF1",92,0)
 Q:FTYPE'="FREE TEXT"
"RTN","EASEZF1",93,0)
 S MAX=$$GET1^DID(FDEF,FLD,"","FIELD LENGTH")
"RTN","EASEZF1",94,0)
 S EZDATA=$E(EZDATA,1,MAX)
"RTN","EASEZF1",95,0)
 K ERR
"RTN","EASEZF1",96,0)
 D VAL^DIE(2,IENS,FLD,"F",EZDATA,,EROOT,"ERR")
"RTN","EASEZF1",97,0)
 ;if still sets ERR array then won't be filed to database
"RTN","EASEZF1",98,0)
 Q
"RTN","EASEZF1",99,0)
 ;
"RTN","EASEZF1",100,0)
F202(SUBFILE,DATAKEY,EZDATA,SUBIEN,KEYIEN) ;add or edit subrecord in subfile #2.02
"RTN","EASEZF1",101,0)
 ;input SUBFILE = 2.02
"RTN","EASEZF1",102,0)
 ;      DATAKEY = data item identifier, e.g., I;4B.
"RTN","EASEZF1",103,0)
 ;      EZDATA  = in these cases, either "N(o)" or "Y(es)"
"RTN","EASEZF1",104,0)
 ;      SUBIEN  = subrecord # for data in #712/#10
"RTN","EASEZF1",105,0)
 ;      KEYIEN  = record # for data element in #711
"RTN","EASEZF1",106,0)
 N X,N,DATANM,EROOT,EAS,EIEN,ERR,FLD,IENS,EASARRAY,LINK,OUT,K1,K3
"RTN","EASEZF1",107,0)
 Q:EZDATA'["Y"
"RTN","EASEZF1",108,0)
 Q:SUBFILE'=2.02
"RTN","EASEZF1",109,0)
 ;covert data to corresponding file #10 pointer
"RTN","EASEZF1",110,0)
 S X=$$KEY711^EASEZU1(DATAKEY)
"RTN","EASEZF1",111,0)
 S K1=$P(X,U,1),DATANM=$P(X,U,2),K3=$P(X,U,3)
"RTN","EASEZF1",112,0)
 Q:(DATANM="")
"RTN","EASEZF1",113,0)
 Q:(K1'=KEYIEN)
"RTN","EASEZF1",114,0)
 Q:(K3'=DATAKEY)
"RTN","EASEZF1",115,0)
 S DATANM=$P(DATANM," - ",2),DATANM=$E(DATANM,1,30)
"RTN","EASEZF1",116,0)
 I DATANM["UNANSWERED" S DATANM="UNKNOWN BY PATIENT"
"RTN","EASEZF1",117,0)
 S EZDATA=$O(^DIC(10,"B",DATANM,0))
"RTN","EASEZF1",118,0)
 Q:EZDATA=""
"RTN","EASEZF1",119,0)
 D I202^EASEZI(EASDFN,.EASARRAY)
"RTN","EASEZF1",120,0)
 ;if matching race already exists, edit method only
"RTN","EASEZF1",121,0)
 S OUT=0,N=0 F  S N=$O(EASARRAY(N)) Q:'N  D
"RTN","EASEZF1",122,0)
 .Q:($P(EASARRAY(N),";",2)'=EZDATA)
"RTN","EASEZF1",123,0)
 .K EAS,ERR
"RTN","EASEZF1",124,0)
 .S IENS=EZDATA_","_EASDFN_","
"RTN","EASEZF1",125,0)
 .S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF1",126,0)
 .S FLD=.02,EAS(EASAPP,SUBFILE,IENS,FLD)=1
"RTN","EASEZF1",127,0)
 .D FILE^DIE("S",EROOT,"ERR")
"RTN","EASEZF1",128,0)
 .S OUT=1
"RTN","EASEZF1",129,0)
 ;no matching race in patient record, add new subrecord
"RTN","EASEZF1",130,0)
 I 'OUT D
"RTN","EASEZF1",131,0)
 .K ERR
"RTN","EASEZF1",132,0)
 .S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF1",133,0)
 .S IENS="+1,"_EASDFN_",",EIEN(1)=EZDATA
"RTN","EASEZF1",134,0)
 .S FLD=.01,EAS(EASAPP,SUBFILE,IENS,FLD)=EZDATA
"RTN","EASEZF1",135,0)
 .S FLD=.02,EAS(EASAPP,SUBFILE,IENS,FLD)=1
"RTN","EASEZF1",136,0)
 .D UPDATE^DIE("S",EROOT,"EIEN","ERR")
"RTN","EASEZF1",137,0)
 .I $D(ERR) D ERROR^EASEZF2("AP",1,.ERR,"LINK") Q
"RTN","EASEZF1",138,0)
 .S LINK=EASDFN_";"_EZDATA
"RTN","EASEZF1",139,0)
 .S ^EAS(712,EASAPP,10,SUBIEN,2)=U_LINK
"RTN","EASEZF1",140,0)
 Q
"RTN","EASEZF1",141,0)
 ;
"RTN","EASEZF1",142,0)
F206(SUBFILE,DATAKEY,EZDATA,SUBIEN) ;add subrecord in subfile #2.06 
"RTN","EASEZF1",143,0)
 ;input SUBFILE = 2.06
"RTN","EASEZF1",144,0)
 ;      DATAKEY = data item identifier, e.g., I;4A.
"RTN","EASEZF1",145,0)
 ;      EZDATA  = in these cases, either "N(o)" or "Y(es)"
"RTN","EASEZF1",146,0)
 N X,EROOT,EAS,EIEN,ERR,FLD,EASARRAY,IENS,LINK,PTDATA
"RTN","EASEZF1",147,0)
 Q:SUBFILE'=2.06
"RTN","EASEZF1",148,0)
 D I206^EASEZI(EASDFN,.EASARRAY)
"RTN","EASEZF1",149,0)
 S LINK=$P($G(EASARRAY(1)),";",2),PTDATA="" I LINK S PTDATA=$P(^DPT(EASDFN,.06,LINK,0),U,1)
"RTN","EASEZF1",150,0)
 I DATAKEY="I;4A." S EZDATA=$S(EZDATA["Y":"H",$E(EZDATA,1)="N":"N",1:"U") D
"RTN","EASEZF1",151,0)
 .S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF1",152,0)
 .S IENS="+1,"_EASDFN_","
"RTN","EASEZF1",153,0)
 .S FLD=.01,EAS(EASAPP,SUBFILE,IENS,FLD)=EZDATA
"RTN","EASEZF1",154,0)
 .S FLD=.02,EAS(EASAPP,SUBFILE,IENS,FLD)="SELF IDENTIFICATION"
"RTN","EASEZF1",155,0)
 .D UPDATE^DIE("ES",EROOT,"EIEN","ERR")
"RTN","EASEZF1",156,0)
 .S LINK=EASDFN_";"_$G(EIEN(1))
"RTN","EASEZF1",157,0)
 .S ^EAS(712,EASAPP,10,SUBIEN,2)=PTDATA_U_LINK
"RTN","EASEZF1",158,0)
 Q
"RTN","EASEZF1",159,0)
 ;
"RTN","EASEZF1",160,0)
FPOB(DATAKEY,EZDATA,SUBIEN,PTDATA) ;add or edit pob city & state
"RTN","EASEZF1",161,0)
 ;input DATAKEY = data item identifier, either, I;8A. or I;8B.
"RTN","EASEZF1",162,0)
 ;      EZDATA  = free text if city or 
"RTN","EASEZF1",163,0)
 ;                state abbrv if state
"RTN","EASEZF1",164,0)
 ;filing for both city & state only done when datakey=I;8A.
"RTN","EASEZF1",165,0)
 N X,EROOT,EAS,EIEN,ERR,FLD,EASARRAY,IENS,LINK,SECT,QUES,XIEN,XDATA
"RTN","EASEZF1",166,0)
 Q:(DATAKEY'="I;8A.")
"RTN","EASEZF1",167,0)
 Q:(EZDATA="")
"RTN","EASEZF1",168,0)
 Q:(EZDATA=PTDATA)
"RTN","EASEZF1",169,0)
 ;file pob city
"RTN","EASEZF1",170,0)
 K EAS,ERR
"RTN","EASEZF1",171,0)
 S FLD=.092,LINK=EASDFN
"RTN","EASEZF1",172,0)
 S IENS=EASDFN_","
"RTN","EASEZF1",173,0)
 S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF1",174,0)
 D VAL^DIE(2,IENS,FLD,"F",EZDATA,,EROOT,"ERR")
"RTN","EASEZF1",175,0)
 I $D(ERR) D RESOLVE
"RTN","EASEZF1",176,0)
 I $D(ERR) D ERROR^EASEZF2("AP",1,.ERR,"LINK") Q
"RTN","EASEZF1",177,0)
 D FILE^DIE("ES",EROOT,"ERR")
"RTN","EASEZF1",178,0)
 ;set any replaced data into subfile #712.01 for audit
"RTN","EASEZF1",179,0)
 S ^EAS(712,EASAPP,10,SUBIEN,2)=PTDATA_U_LINK
"RTN","EASEZF1",180,0)
 ;file pob state
"RTN","EASEZF1",181,0)
 S (EZDATA,XDATA)=""
"RTN","EASEZF1",182,0)
 S DATAKEY="I;8B.",SECT=$P(DATAKEY,";",1),QUES=$P(DATAKEY,";",2)
"RTN","EASEZF1",183,0)
 S X=$G(^TMP("EZTEMP",$J,SECT,1,QUES)),EZDATA=$P(X,U,2),XIEN=$P(X,U,4),XDATA=$P(X,U,5)
"RTN","EASEZF1",184,0)
 Q:(EZDATA="")
"RTN","EASEZF1",185,0)
 Q:(EZDATA=XDATA)
"RTN","EASEZF1",186,0)
 I (EZDATA["FOREIGN")!(EZDATA="FC")!(EZDATA="FG") S EZDATA="FOREIGN"
"RTN","EASEZF1",187,0)
 K EAS,ERR
"RTN","EASEZF1",188,0)
 S FLD=.093
"RTN","EASEZF1",189,0)
 S IENS=EASDFN_","
"RTN","EASEZF1",190,0)
 S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF1",191,0)
 D VAL^DIE(2,IENS,FLD,"F",EZDATA,,EROOT,"ERR")
"RTN","EASEZF1",192,0)
 I $D(ERR) D ERROR^EASEZF2("AP",1,.ERR,"LINK") Q
"RTN","EASEZF1",193,0)
 D FILE^DIE("ES",EROOT,"ERR")
"RTN","EASEZF1",194,0)
 S ^EAS(712,EASAPP,10,XIEN,2)=XDATA_U_LINK
"RTN","EASEZF1",195,0)
 Q
"RTN","EASEZF2")
0^5^B68800848
"RTN","EASEZF2",1,0)
EASEZF2 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/31/00  13:07
"RTN","EASEZF2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,9,51**;Mar 15, 2001
"RTN","EASEZF2",3,0)
 ;
"RTN","EASEZF2",4,0)
F408(EASAPP,EASDFN) ;
"RTN","EASEZF2",5,0)
 N KEYIEN,FILE,SUBFILE,FLD,DATAKEY,MULTIPLE,MM,SECT,QUES,SUBIEN,ACCEPT,EZDATA,PTDATA,LINK
"RTN","EASEZF2",6,0)
 N DFN,DGPR12,INCYR,TESTYR,LASTINC,XLINK,EROOT,EAS,ERR,IENS,MSG,X,Y
"RTN","EASEZF2",7,0)
 Q:'$G(EASDFN)
"RTN","EASEZF2",8,0)
 ;determine income year for financial data
"RTN","EASEZF2",9,0)
 S Y=$P($G(^EAS(712,EASAPP,0)),U,6) I Y="" S Y=DT
"RTN","EASEZF2",10,0)
 S %F=5,X=$$FMTE^XLFDT(Y,%F),X=+$P(X,"/",3)-1,%DT="P" D ^%DT S INCYR=Y
"RTN","EASEZF2",11,0)
 S YREND=$E(DT,1,3)_"1231"
"RTN","EASEZF2",12,0)
 ;don't file any 408 data if applicant has income test for current year at this site
"RTN","EASEZF2",13,0)
 S LASTINC=$$LST^DGMTU(EASDFN,YREND,1) I LASTINC="" S LASTINC=$$LST^DGMTU(EASDFN,YREND,2)
"RTN","EASEZF2",14,0)
 S TESTYR=$P(LASTINC,U,2)
"RTN","EASEZF2",15,0)
 Q:($E(TESTYR,1,3)=$E(DT,1,3))&($P(LASTINC,U,5)>1)
"RTN","EASEZF2",16,0)
 ;
"RTN","EASEZF2",17,0)
 ;DGPR12("AP") is the Applicant's (veteran's) IEN in file #408.12
"RTN","EASEZF2",18,0)
 S DGPR12("AP")=""
"RTN","EASEZF2",19,0)
 ;add Applicant to file #408.12 if not there already;
"RTN","EASEZF2",20,0)
 ;make this addition even if no other financial data is available;
"RTN","EASEZF2",21,0)
 I '$D(^DGPR(408.12,"B",EASDFN)) D
"RTN","EASEZF2",22,0)
 .;create the file #408.12 record
"RTN","EASEZF2",23,0)
 .K EAS,ERR,EZIENS
"RTN","EASEZF2",24,0)
 .S EAS(EASAPP,408.12,"+1,",".01")=EASDFN
"RTN","EASEZF2",25,0)
 .S EAS(EASAPP,408.12,"+1,",".02")=1
"RTN","EASEZF2",26,0)
 .S EAS(EASAPP,408.12,"+1,",".03")=EASDFN_";DPT("
"RTN","EASEZF2",27,0)
 .S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF2",28,0)
 .D UPDATE^DIE("S",EROOT,"EZIENS","ERR")
"RTN","EASEZF2",29,0)
 .S DGPR12("AP")=$G(EZIENS(1))
"RTN","EASEZF2",30,0)
 .Q:DGPR12("AP")=""
"RTN","EASEZF2",31,0)
 .;create the subfile #408.1275 record
"RTN","EASEZF2",32,0)
 .K EAS,ERR,EZIENS
"RTN","EASEZF2",33,0)
 .;S KEY=+$$KEY711^EASEZU1("APPLICANT DATE OF BIRTH")
"RTN","EASEZF2",34,0)
 .;S DOB=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1)
"RTN","EASEZF2",35,0)
 .;use DOB from file #2
"RTN","EASEZF2",36,0)
 .S X=$P($G(^DPT(EASDFN,0)),U,3),%DT="PX" D ^%DT S DOB=Y
"RTN","EASEZF2",37,0)
 .S EAS(EASAPP,408.1275,"+1,"_DGPR12("AP")_",",".01")=DOB
"RTN","EASEZF2",38,0)
 .S EAS(EASAPP,408.1275,"+1,"_DGPR12("AP")_",",".02")="YES"
"RTN","EASEZF2",39,0)
 .D UPDATE^DIE("ES",EROOT,"EZIENS","ERR")
"RTN","EASEZF2",40,0)
 .;link 1010EZ data with new record in #408.12
"RTN","EASEZF2",41,0)
 I DGPR12("AP")="" S DGPR12("AP")=$O(^DGPR(408.12,"B",EASDFN,0))
"RTN","EASEZF2",42,0)
 ;if no record for Applicant in file #408.12 exists, then don't continue
"RTN","EASEZF2",43,0)
 Q:DGPR12("AP")=""
"RTN","EASEZF2",44,0)
 ;
"RTN","EASEZF2",45,0)
 ;kill local holding arrays
"RTN","EASEZF2",46,0)
 K AP,SP,CN,FLINK
"RTN","EASEZF2",47,0)
 ;get data for file #408.12,#408.13,#408.21,#408.22 into local arrays 
"RTN","EASEZF2",48,0)
 S SECT=""
"RTN","EASEZF2",49,0)
 F  S SECT=$O(^TMP("EZTEMP",$J,SECT)) Q:SECT=""  S MULTIPLE=0 D
"RTN","EASEZF2",50,0)
 .F  S MULTIPLE=$O(^TMP("EZTEMP",$J,SECT,MULTIPLE)) Q:MULTIPLE=""  S QUES="" D
"RTN","EASEZF2",51,0)
 ..F  S QUES=$O(^TMP("EZTEMP",$J,SECT,MULTIPLE,QUES)) Q:QUES=""  D
"RTN","EASEZF2",52,0)
 ...S DATAKEY=SECT_";"_QUES
"RTN","EASEZF2",53,0)
 ...;call to suppress may be redundant
"RTN","EASEZF2",54,0)
 ...Q:$$SUPPRESS^EASEZU4(EASAPP,DATAKEY,1,EASVRSN)
"RTN","EASEZF2",55,0)
 ...S X=^TMP("EZTEMP",$J,SECT,MULTIPLE,QUES)
"RTN","EASEZF2",56,0)
 ...S KEYIEN=$P(X,U,1),EZDATA=$P(X,U,2),ACCEPT=$P(X,U,3),SUBIEN=$P(X,U,4),PTDATA=$P(X,U,5)
"RTN","EASEZF2",57,0)
 ...S LN=^TMP("EZDATA",$J,KEYIEN),FILE=$P(LN,U,1),SUBFILE=$P(LN,U,2),FLD=$P(LN,U,3)
"RTN","EASEZF2",58,0)
 ...Q:($P(FILE,".",1)'=408)
"RTN","EASEZF2",59,0)
 ...S LINK=$P($G(^EAS(712,EASAPP,10,SUBIEN,2)),U,2)
"RTN","EASEZF2",60,0)
 ...S DATANM=$P($G(^EAS(711,KEYIEN,0)),U,1)
"RTN","EASEZF2",61,0)
 ...S MM=MULTIPLE S:DATANM["CHILD(N)" MM=MULTIPLE+1
"RTN","EASEZF2",62,0)
 ...I (SECT="IIF")!(SECT="IIG") S MM=MULTIPLE
"RTN","EASEZF2",63,0)
 ...S ARR=$S(DATANM["SPOUSE":"SP",DATANM["CHILD":"CN",1:"AP")
"RTN","EASEZF2",64,0)
 ...S @ARR@(MM,FILE,SUBFILE,FLD)=EZDATA_U_ACCEPT_U_SUBIEN_U_PTDATA_U_LINK
"RTN","EASEZF2",65,0)
 ;delete any Spouse or Dependent data if #.01 field for file #408.13 does not exist
"RTN","EASEZF2",66,0)
 I $D(SP(1,408.13,408.13,.01))'=1 K SP
"RTN","EASEZF2",67,0)
 I $P($G(SP(1,408.22,408.22,.1)),U,1) D
"RTN","EASEZF2",68,0)
 .I $P($G(SP(1,408.22,408.22,.1)),U,1)>599 S SP(1,408.22,408.22,.06)="NO^2^^^"_$P(SP(1,408.22,408.22,.1),U,5)
"RTN","EASEZF2",69,0)
 S MM=0 F  S MM=$O(CN(MM)) Q:'MM  D
"RTN","EASEZF2",70,0)
 .I $D(CN(MM,408.13,408.13,.01))'=1 K CN(MM) Q
"RTN","EASEZF2",71,0)
 .;check for amt contributed to child
"RTN","EASEZF2",72,0)
 .I $P($G(CN(MM,408.22,408.22,.1)),U,1) D
"RTN","EASEZF2",73,0)
 ..I +$P($G(CN(MM,408.22,408.22,.1)),U,1)>599 S $P(CN(MM,408.22,408.22,.1),U,1)="YES"
"RTN","EASEZF2",74,0)
 ..E  S $P(CN(MM,408.22,408.22,.1),U,1)="NO"
"RTN","EASEZF2",75,0)
 ..S CN(MM,408.22,408.22,.06)="NO^2^^^"_$P(CN(MM,408.22,408.22,.1),U,5)
"RTN","EASEZF2",76,0)
 ;
"RTN","EASEZF2",77,0)
 ;gather links to VistA for Applicant
"RTN","EASEZF2",78,0)
 S FLINK("AP",1,408.12)=DGPR12("AP")
"RTN","EASEZF2",79,0)
 F FILE=408.21,408.22 D
"RTN","EASEZF2",80,0)
 .S XLINK="",MULTIPLE=1,SUBFILE=FILE,FLD=""
"RTN","EASEZF2",81,0)
 .F  S FLD=$O(AP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",82,0)
 ..S FLINK("AP",1,FILE)=+$P(AP(MULTIPLE,FILE,SUBFILE,FLD),U,5)
"RTN","EASEZF2",83,0)
 ;gather links to VistA for Spouse
"RTN","EASEZF2",84,0)
 F FILE=408.12,408.13,408.21,408.22 D
"RTN","EASEZF2",85,0)
 .S XLINK="",MULTIPLE=1,SUBFILE=FILE,FLD=""
"RTN","EASEZF2",86,0)
 .F  S FLD=$O(SP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",87,0)
 ..S FLINK("SP",MULTIPLE,FILE)=+$P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,5)
"RTN","EASEZF2",88,0)
 .I FILE=408.12 S SUBFILE=408.1275 F  S FLD=$O(SP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",89,0)
 ..S FLINK("SP",MULTIPLE,SUBFILE)=$P($P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,5),";",2)
"RTN","EASEZF2",90,0)
 ..S FLINK("SP",MULTIPLE,FILE)=$P($P(SP(MULTIPLE,FILE,SUBFILE,FLD),U,5),";",1)
"RTN","EASEZF2",91,0)
 ;gather links to VistA for Dependents
"RTN","EASEZF2",92,0)
 S MULTIPLE=0 F  S MULTIPLE=$O(CN(MULTIPLE)) Q:'MULTIPLE  D
"RTN","EASEZF2",93,0)
 .F FILE=408.13,408.12,408.21,408.22 D
"RTN","EASEZF2",94,0)
 ..S XLINK="",SUBFILE=FILE,FLD=""
"RTN","EASEZF2",95,0)
 ..F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",96,0)
 ...S FLINK("CN",MULTIPLE,FILE)=+$P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,5)
"RTN","EASEZF2",97,0)
 ..I FILE=408.12 S SUBFILE=408.1275 F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",98,0)
 ...S FLINK("CN",MULTIPLE,SUBFILE)=$P($P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,5),";",2)
"RTN","EASEZF2",99,0)
 ...S FLINK("CN",MULTIPLE,FILE)=$P($P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,5),";",1)
"RTN","EASEZF2",100,0)
 ;
"RTN","EASEZF2",101,0)
 ;file data
"RTN","EASEZF2",102,0)
 Q:DGPR12("AP")=""
"RTN","EASEZF2",103,0)
 S DFN=EASDFN
"RTN","EASEZF2",104,0)
 D AP
"RTN","EASEZF2",105,0)
 I $D(FLINK("SP")) D SP^EASEZF3
"RTN","EASEZF2",106,0)
 I $D(FLINK("CN")) D CN^EASEZF4
"RTN","EASEZF2",107,0)
 D LINKUP^EASEZF4
"RTN","EASEZF2",108,0)
 ;
"RTN","EASEZF2",109,0)
 Q
"RTN","EASEZF2",110,0)
 ;
"RTN","EASEZF2",111,0)
AP ;file Applicant data
"RTN","EASEZF2",112,0)
 N MT,P22,MULTIPLE,FILE,SUBFILE,FLD,XDATA,ACCEPT,SUBIEN,EZDATA,EAS,ERR,KEY
"RTN","EASEZF2",113,0)
 F FILE=408.21,408.22 D
"RTN","EASEZF2",114,0)
 .S MULTIPLE=1,SUBFILE=FILE,FLD=""
"RTN","EASEZF2",115,0)
 .S XLINK=$G(FLINK("AP",1,FILE))
"RTN","EASEZF2",116,0)
 .;record in file #408.21 needed for all further data filing
"RTN","EASEZF2",117,0)
 .Q:(FILE'=408.21)&('$G(FLINK("AP",1,408.21)))
"RTN","EASEZF2",118,0)
 .;for data elements with link to database, 
"RTN","EASEZF2",119,0)
 .;only file 1010EZ data if accepted by user;
"RTN","EASEZF2",120,0)
 .;data in external format
"RTN","EASEZF2",121,0)
 .I XLINK D
"RTN","EASEZF2",122,0)
 ..S FLD="" F  S FLD=$O(AP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",123,0)
 ...S XDATA=AP(MULTIPLE,FILE,SUBFILE,FLD),ACCEPT=$P(XDATA,U,2)
"RTN","EASEZF2",124,0)
 ...I ACCEPT D LINK(XDATA,FILE,FLD,"AP",MULTIPLE)
"RTN","EASEZF2",125,0)
 .;for data elements with no link to database, 
"RTN","EASEZF2",126,0)
 .;always create new record(s) to store 1010EZ data;
"RTN","EASEZF2",127,0)
 .;use internal data format
"RTN","EASEZF2",128,0)
 .I 'XLINK D
"RTN","EASEZF2",129,0)
 ..K EAS,ERR
"RTN","EASEZF2",130,0)
 ..S FLD="" F  S FLD=$O(AP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",131,0)
 ...S EZDATA=$P(AP(MULTIPLE,FILE,SUBFILE,FLD),U,1)
"RTN","EASEZF2",132,0)
 ...S EAS(EASAPP,FILE,"+1,",FLD)=EZDATA
"RTN","EASEZF2",133,0)
 ..I FILE=408.21 D
"RTN","EASEZF2",134,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=INCYR
"RTN","EASEZF2",135,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("AP",1,408.12)
"RTN","EASEZF2",136,0)
 ...S EAS(EASAPP,FILE,"+1,","101")=DUZ
"RTN","EASEZF2",137,0)
 ...S EAS(EASAPP,FILE,"+1,","102")=DT
"RTN","EASEZF2",138,0)
 ...S EAS(EASAPP,FILE,"+1,","103")=DUZ
"RTN","EASEZF2",139,0)
 ...S EAS(EASAPP,FILE,"+1,","104")=DT
"RTN","EASEZF2",140,0)
 ..I FILE=408.22,$G(FLINK("AP",1,408.21)) D
"RTN","EASEZF2",141,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=EASDFN
"RTN","EASEZF2",142,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("AP",1,408.21)
"RTN","EASEZF2",143,0)
 ...I $G(SP(1,408.13,408.13,.01))'="" S EAS(EASAPP,FILE,"+1,",".05")=1
"RTN","EASEZF2",144,0)
 ...I $G(CN(1,408.13,408.13,.01))'="" S EAS(EASAPP,FILE,"+1,",".08")=1
"RTN","EASEZF2",145,0)
 ..S FLINK("AP",MULTIPLE,FILE)=$$NOLINK(.EAS,"AP",MULTIPLE)
"RTN","EASEZF2",146,0)
 ..S FLD="" F  S FLD=$O(AP(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF2",147,0)
 ...S SUBIEN=$P(AP(MULTIPLE,FILE,SUBFILE,FLD),U,3)
"RTN","EASEZF2",148,0)
 ...;store link to new record in subfile #712.01
"RTN","EASEZF2",149,0)
 ...S $P(AP(MULTIPLE,FILE,SUBFILE,FLD),U,5)=FLINK("AP",1,FILE)
"RTN","EASEZF2",150,0)
 ;
"RTN","EASEZF2",151,0)
 Q
"RTN","EASEZF2",152,0)
 ;
"RTN","EASEZF2",153,0)
LINK(XDATA,FILE,FLD,GRP,MULTIPLE) ;setup to call FM database server if link to file exists & data accepted
"RTN","EASEZF2",154,0)
 N MSG,EZDATA,SUBIEN,PTDATA,XLINK
"RTN","EASEZF2",155,0)
 K EAS,ERR
"RTN","EASEZF2",156,0)
 S EZDATA=$P(XDATA,U,1),SUBIEN=$P(XDATA,U,3),PTDATA=$P(XDATA,U,4),XLINK=$P(XDATA,U,5)
"RTN","EASEZF2",157,0)
 S IENS=XLINK_","
"RTN","EASEZF2",158,0)
 S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF2",159,0)
 D VAL^DIE(FILE,IENS,FLD,"F",EZDATA,,EROOT,"ERR")
"RTN","EASEZF2",160,0)
 I $D(ERR) D ERROR(GRP,MULTIPLE,.ERR,"LINK") Q
"RTN","EASEZF2",161,0)
 ;file to database if input is valid
"RTN","EASEZF2",162,0)
 I '$D(ERR) D
"RTN","EASEZF2",163,0)
 .I FILE=408.21 D
"RTN","EASEZF2",164,0)
 ..S EAS(EASAPP,FILE,IENS,103)=DUZ
"RTN","EASEZF2",165,0)
 ..S EAS(EASAPP,FILE,IENS,104)=DT
"RTN","EASEZF2",166,0)
 .D FILE^DIE("S",EROOT,"ERR")
"RTN","EASEZF2",167,0)
 .;set any replaced data into subfile #712.01 for audit
"RTN","EASEZF2",168,0)
 .I SUBIEN S $P(^EAS(712,EASAPP,10,SUBIEN,2),U,1)=PTDATA
"RTN","EASEZF2",169,0)
 Q
"RTN","EASEZF2",170,0)
 ;
"RTN","EASEZF2",171,0)
NOLINK(EAS,GRP,MULTIPLE) ;add new record with accepted data if no link exists;
"RTN","EASEZF2",172,0)
 ;
"RTN","EASEZF2",173,0)
 K EZIENS,ERR,LINK
"RTN","EASEZF2",174,0)
 S EROOT="EAS("_EASAPP_")"
"RTN","EASEZF2",175,0)
 D UPDATE^DIE("S",EROOT,"EZIENS","ERR")
"RTN","EASEZF2",176,0)
 ;call to UPDATE should not return ERR since internal data formats are used, but just in case;
"RTN","EASEZF2",177,0)
 I $D(ERR) D ERROR(GRP,MULTIPLE,.ERR,"NOLINK")
"RTN","EASEZF2",178,0)
 ;return ien to new record
"RTN","EASEZF2",179,0)
 S LINK=$G(EZIENS(1))
"RTN","EASEZF2",180,0)
 Q LINK
"RTN","EASEZF2",181,0)
 ;
"RTN","EASEZF2",182,0)
ERROR(GRP,MULTIPLE,ERR,FROM) ;add FM error text to error msg
"RTN","EASEZF2",183,0)
 N L,LSTLN,ECODE,ENUMBER
"RTN","EASEZF2",184,0)
 S ECODE="" F  S ECODE=$O(ERR("DIERR","E",ECODE)) Q:ECODE=""  S ENUMBER=0 F  S ENUMBER=$O(ERR("DIERR","E",ECODE,ENUMBER)) Q:'ENUMBER  D
"RTN","EASEZF2",185,0)
 .S LSTLN=+$O(^TMP("1010EZERROR",$J,""),-1) I 'LSTLN S LSTLN=6
"RTN","EASEZF2",186,0)
 .S WHO=$S(GRP="SP":"SPOUSE",GRP="CN":"CHILD",1:"APPLICANT")
"RTN","EASEZF2",187,0)
 .I WHO="CHILD" S WHO=WHO_" #"_MULTIPLE
"RTN","EASEZF2",188,0)
 .S FIELD=$G(ERR("DIERR",ENUMBER,"PARAM","FIELD")),FILE=$G(ERR("DIERR",ENUMBER,"PARAM","FILE"))
"RTN","EASEZF2",189,0)
 .I FROM="LINK" D
"RTN","EASEZF2",190,0)
 ..S LSTLN=LSTLN+1,^TMP("1010EZERROR",$J,LSTLN,0)="1010EZ data for "_WHO_" was not filed to"
"RTN","EASEZF2",191,0)
 ..S LSTLN=LSTLN+1,^TMP("1010EZERROR",$J,LSTLN,0)="Field #"_FIELD_" of File #"_FILE_" because:"
"RTN","EASEZF2",192,0)
 .I FROM="NOLINK" D
"RTN","EASEZF2",193,0)
 ..S LSTLN=LSTLN+1,^TMP("1010EZERROR",$J,LSTLN,0)="A new record for "_WHO_" could not be created in"
"RTN","EASEZF2",194,0)
 ..S LSTLN=LSTLN+1,^TMP("1010EZERROR",$J,LSTLN,0)="File #"_FILE_" because Field #"_FIELD_" produced an error:"
"RTN","EASEZF2",195,0)
 .S L=0 F  S L=$O(ERR("DIERR",ENUMBER,"TEXT",L)) Q:'L  D
"RTN","EASEZF2",196,0)
 ..S LN=ERR("DIERR",ENUMBER,"TEXT",L)
"RTN","EASEZF2",197,0)
 ..I $L(LN)<50 S LSTLN=LSTLN+1,^TMP("1010EZERROR",$J,LSTLN,0)=LN Q
"RTN","EASEZF2",198,0)
 ..D WRAP(LN,.LSTLN)
"RTN","EASEZF2",199,0)
 .S LSTLN=LSTLN+1,^TMP("1010EZERROR",$J,LSTLN,0)=" "
"RTN","EASEZF2",200,0)
 Q
"RTN","EASEZF2",201,0)
 ;
"RTN","EASEZF2",202,0)
WRAP(LN,LSTLN) ;parse a long error text line into several message lines
"RTN","EASEZF2",203,0)
 N PART,BB
"RTN","EASEZF2",204,0)
 F  D  Q:$L(LN)<41
"RTN","EASEZF2",205,0)
 .S PART=""
"RTN","EASEZF2",206,0)
 .F BB=1:1:99 S PART=PART_$P(LN," ",BB)_" " I $L(PART)>40 D  Q
"RTN","EASEZF2",207,0)
 ..S LSTLN=LSTLN+1,^TMP("1010EZERROR",$J,LSTLN,0)=PART
"RTN","EASEZF2",208,0)
 ..S LN=$P(LN," ",BB+1,99)
"RTN","EASEZF2",209,0)
 S LSTLN=LSTLN+1,^TMP("1010EZERROR",$J,LSTLN,0)=LN
"RTN","EASEZF2",210,0)
 Q
"RTN","EASEZF4")
0^18^B17639360
"RTN","EASEZF4",1,0)
EASEZF4 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/31/00  13:07
"RTN","EASEZF4",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,51**;Mar 15, 2001
"RTN","EASEZF4",3,0)
 ;
"RTN","EASEZF4",4,0)
CN ;file Dependent/Child data
"RTN","EASEZF4",5,0)
 N MULTIPLE,FILE,SUBFILE,FLD,XDATA,ACCEPT,SUBIEN,SEX,SSN,EZDATA,EAS,ERR,X,Y
"RTN","EASEZF4",6,0)
 ;process sequence must be 408.13 - 408.12 - 408.21 - 408.22
"RTN","EASEZF4",7,0)
 S MULTIPLE=0 F  S MULTIPLE=$O(CN(MULTIPLE)) Q:'MULTIPLE  F FILE=408.13,408.12,408.21,408.22 D
"RTN","EASEZF4",8,0)
 .S SUBFILE=FILE,FLD=""
"RTN","EASEZF4",9,0)
 .S XLINK=$G(FLINK("CN",MULTIPLE,FILE))
"RTN","EASEZF4",10,0)
 .;record in file #408.13 is needed for all further data filng
"RTN","EASEZF4",11,0)
 .Q:(FILE'=408.13)&('$G(FLINK("CN",MULTIPLE,408.13)))
"RTN","EASEZF4",12,0)
 .;for data elements with link to database, 
"RTN","EASEZF4",13,0)
 .;only file 1010EZ data if accepted by user;
"RTN","EASEZF4",14,0)
 .;data in external format
"RTN","EASEZF4",15,0)
 .I XLINK D
"RTN","EASEZF4",16,0)
 ..;when #408.12 record exists, don't try to update subfile #408.1275
"RTN","EASEZF4",17,0)
 ..S FLD="" F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF4",18,0)
 ...S XDATA=CN(MULTIPLE,FILE,SUBFILE,FLD),ACCEPT=$P(XDATA,U,2)
"RTN","EASEZF4",19,0)
 ...I FILE=408.13,FLD=.09 S XDATA=$TR(XDATA,"-","")
"RTN","EASEZF4",20,0)
 ...I ACCEPT D LINK^EASEZF2(XDATA,FILE,FLD,"CN",MULTIPLE)
"RTN","EASEZF4",21,0)
 .;for data elements with no link to database, 
"RTN","EASEZF4",22,0)
 .;always create new record(s) to store 1010EZ data;
"RTN","EASEZF4",23,0)
 .;put data in internal format
"RTN","EASEZF4",24,0)
 .I 'XLINK D
"RTN","EASEZF4",25,0)
 ..K EAS,ERR
"RTN","EASEZF4",26,0)
 ..S FLD="" F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF4",27,0)
 ...S EZDATA=$P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,1)
"RTN","EASEZF4",28,0)
 ...S EAS(EASAPP,FILE,"+1,",FLD)=EZDATA
"RTN","EASEZF4",29,0)
 ..;supplement data and convert to internal format
"RTN","EASEZF4",30,0)
 ..I FILE=408.13 D
"RTN","EASEZF4",31,0)
 ...S X=$G(EAS(EASAPP,FILE,"+1,",".03")) I X'="" D ^%DT S EAS(EASAPP,FILE,"+1,",".03")=Y
"RTN","EASEZF4",32,0)
 ...S X=$G(EAS(EASAPP,FILE,"+1,",".09")) I X'="" D
"RTN","EASEZF4",33,0)
 ....S SSN=$TR(X,"-","") S EAS(EASAPP,FILE,"+1,",".09")=SSN
"RTN","EASEZF4",34,0)
 ....I $D(^DGPR(408.13,"SSN",SSN)) S EAS(EASAPP,FILE,"+1,",".09")=""
"RTN","EASEZF4",35,0)
 ...S X=$P($G(CN(MULTIPLE,408.12,408.12,.02)),U,1) S SEX=$S(X["SON":"M",X["DAUGHTER":"F",1:"")
"RTN","EASEZF4",36,0)
 ...I SEX'="" S EAS(EASAPP,FILE,"+1,",".02")=SEX
"RTN","EASEZF4",37,0)
 ..I FILE=408.12,$G(FLINK("CN",MULTIPLE,408.13)) D F40812^EASEZF3("CN",MULTIPLE)
"RTN","EASEZF4",38,0)
 ..I FILE=408.21,$G(FLINK("CN",MULTIPLE,408.12)) D
"RTN","EASEZF4",39,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=INCYR
"RTN","EASEZF4",40,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("CN",MULTIPLE,408.12)
"RTN","EASEZF4",41,0)
 ...S EAS(EASAPP,FILE,"+1,","101")=DUZ
"RTN","EASEZF4",42,0)
 ...S EAS(EASAPP,FILE,"+1,","102")=DT
"RTN","EASEZF4",43,0)
 ...S EAS(EASAPP,FILE,"+1,","103")=DUZ
"RTN","EASEZF4",44,0)
 ...S EAS(EASAPP,FILE,"+1,","104")=DT
"RTN","EASEZF4",45,0)
 ..I FILE=408.22,$G(FLINK("CN",MULTIPLE,408.21)) D
"RTN","EASEZF4",46,0)
 ...S EAS(EASAPP,FILE,"+1,",".01")=EASDFN
"RTN","EASEZF4",47,0)
 ...S EAS(EASAPP,FILE,"+1,",".02")=FLINK("CN",MULTIPLE,408.21)
"RTN","EASEZF4",48,0)
 ...S X=$P($G(CN(MULTIPLE,FILE,SUBFILE,".1")),U,1) I X S EAS(EASAPP,FILE,"+1,",".1")="Y"
"RTN","EASEZF4",49,0)
 ...S X=$P($G(CN(MULTIPLE,FILE,SUBFILE,".09")),U,1),EAS(EASAPP,FILE,"+1,",".09")=$S(X["Y":1,1:0)
"RTN","EASEZF4",50,0)
 ...S X=$P($G(CN(MULTIPLE,408.21,408.21,".14")),U,1) I X S EAS(EASAPP,FILE,"+1,",".11")=1
"RTN","EASEZF4",51,0)
 ...S X=$P($G(CN(MULTIPLE,FILE,SUBFILE,".18")),U,1),EAS(EASAPP,FILE,"+1,",".18")=$S(X["Y":1,1:0)
"RTN","EASEZF4",52,0)
 ..I FILE'=408.12 D
"RTN","EASEZF4",53,0)
 ...S FLINK("CN",MULTIPLE,FILE)=$$NOLINK^EASEZF2(.EAS)
"RTN","EASEZF4",54,0)
 ...S FLD="" F  S FLD=$O(CN(MULTIPLE,FILE,SUBFILE,FLD)) Q:FLD=""  D
"RTN","EASEZF4",55,0)
 ....S $P(CN(MULTIPLE,FILE,SUBFILE,FLD),U,5)=FLINK("CN",MULTIPLE,FILE)
"RTN","EASEZF4",56,0)
 Q
"RTN","EASEZF4",57,0)
 ;
"RTN","EASEZF4",58,0)
LINKUP ;
"RTN","EASEZF4",59,0)
 N SUBIEN,KEYIEN,MULTIPLE,FILE,SUBFILE,FIELD,DATAKEY,DATANM,TYPE,LINK,X
"RTN","EASEZF4",60,0)
 S SUBIEN=0 F  S SUBIEN=$O(^EAS(712,EASAPP,10,SUBIEN)) Q:+SUBIEN=0  D
"RTN","EASEZF4",61,0)
 .S X=$G(^EAS(712,EASAPP,10,SUBIEN,1))
"RTN","EASEZF4",62,0)
 .;quit if no data to file
"RTN","EASEZF4",63,0)
 .Q:(($P(X,U,1)="")&($P(X,U,2)=""))
"RTN","EASEZF4",64,0)
 .S TYPE=""
"RTN","EASEZF4",65,0)
 .S KEYIEN=$P(^EAS(712,EASAPP,10,SUBIEN,0),U,1),MULTIPLE=$P(^(0),U,2)
"RTN","EASEZF4",66,0)
 .S DATANM=$P(^EAS(711,KEYIEN,0),U,1),DATAKEY=$P(^(0),U,2),FILE=$P(^EAS(711,KEYIEN,1),U,1),SUBFILE=$P(^(1),U,2),FIELD=$P(^(1),U,3)
"RTN","EASEZF4",67,0)
 .Q:FILE<408
"RTN","EASEZF4",68,0)
 .Q:FILE>408.22
"RTN","EASEZF4",69,0)
 .I SUBFILE=408.1275 S FILE=SUBFILE
"RTN","EASEZF4",70,0)
 .I DATANM["CHILD" S TYPE="CN"
"RTN","EASEZF4",71,0)
 .I DATANM["CHILD(N)" D
"RTN","EASEZF4",72,0)
 ..;necessary because some version 6 income data for child1 is brought-in via a child(n) multiple
"RTN","EASEZF4",73,0)
 ..S MULTIPLE=MULTIPLE+1
"RTN","EASEZF4",74,0)
 ..Q:$G(EASVRSN)<6
"RTN","EASEZF4",75,0)
 ..I FILE=408.21,(".08;.14;.17"[FIELD) S MULTIPLE=MULTIPLE-1
"RTN","EASEZF4",76,0)
 .I DATANM["SPOUSE" S TYPE="SP"
"RTN","EASEZF4",77,0)
 .I TYPE="" S TYPE="AP"
"RTN","EASEZF4",78,0)
 .S LINK=$G(FLINK(TYPE,MULTIPLE,FILE))
"RTN","EASEZF4",79,0)
 .Q:'LINK
"RTN","EASEZF4",80,0)
 .Q:$$SUPPRESS^EASEZU4(EASAPP,DATAKEY,1,$G(EASVRSN))
"RTN","EASEZF4",81,0)
 .I FILE=408.1275 S LINK=FLINK(TYPE,MULTIPLE,408.12)_";"_FLINK(TYPE,MULTIPLE,FILE)
"RTN","EASEZF4",82,0)
 .S $P(^EAS(712,EASAPP,10,SUBIEN,2),U,2)=LINK
"RTN","EASEZF4",83,0)
 Q
"RTN","EASEZF5")
0^6^B17556182
"RTN","EASEZF5",1,0)
EASEZF5 ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/31/00  13:07
"RTN","EASEZF5",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZF5",3,0)
 ;
"RTN","EASEZF5",4,0)
IBINS(EASAPP,EASDFN) ;setup for call to IB API
"RTN","EASEZF5",5,0)
 ;
"RTN","EASEZF5",6,0)
 N DATANM,X,IBDATA,OK,PARTA,PARTB,LSTNM,FRSTNM
"RTN","EASEZF5",7,0)
 ;file Medicare data
"RTN","EASEZF5",8,0)
 K IBDATA
"RTN","EASEZF5",9,0)
 S DATANM="MEDICARE PART A EFFECTIVE DATE" S PARTA=$$GET(DATANM)
"RTN","EASEZF5",10,0)
 S IBDATA("M","PART A")=PARTA
"RTN","EASEZF5",11,0)
 S DATANM="MEDICARE PART B EFFECTIVE DATE" S PARTB=$$GET(DATANM)
"RTN","EASEZF5",12,0)
 S IBDATA("M","PART B")=PARTB
"RTN","EASEZF5",13,0)
 I (PARTA'="")!(PARTB'="") D
"RTN","EASEZF5",14,0)
 .S IBDATA("M","DFN")=EASDFN
"RTN","EASEZF5",15,0)
 .S IBDATA("M","SOURCE")=1
"RTN","EASEZF5",16,0)
 .S DATANM="MEDICARE CLAIM NUMBER" S X=$$GET(DATANM)
"RTN","EASEZF5",17,0)
 .S IBDATA("M","HICN")=X
"RTN","EASEZF5",18,0)
 .S DATANM="SIGNEE ON MEDICARE CARD" S X=$$GET(DATANM)
"RTN","EASEZF5",19,0)
 .S IBDATA("M","NAME")=X
"RTN","EASEZF5",20,0)
 .S OK=$$BUFF^IBCNBES1(.IBDATA)
"RTN","EASEZF5",21,0)
 ;
"RTN","EASEZF5",22,0)
 ;applicant health insurance
"RTN","EASEZF5",23,0)
 K IBDATA
"RTN","EASEZF5",24,0)
 S DATANM="APPLICANT INSURANCE COMPANY" S X=$$GET(DATANM)
"RTN","EASEZF5",25,0)
 I X'="" D
"RTN","EASEZF5",26,0)
 .S IBDATA(1,20.01)=X
"RTN","EASEZF5",27,0)
 .S DATANM="APPLICANT INSURANCE GROUP CODE" S X=$$GET(DATANM)
"RTN","EASEZF5",28,0)
 .S IBDATA(1,40.03)=X
"RTN","EASEZF5",29,0)
 .S DATANM="APPLICANT INSURANCE POLICY HOLDER" S X=$$GET(DATANM)
"RTN","EASEZF5",30,0)
 .S IBDATA(1,60.07)=X
"RTN","EASEZF5",31,0)
 .S IBDATA(1,60.05)=$$INSREL(IBDATA(1,60.07))
"RTN","EASEZF5",32,0)
 .S X=IBDATA(1,60.05) S IBDATA(1,60.06)=$S(X="v":"01",X="s":"02",1:"09")
"RTN","EASEZF5",33,0)
 .S DATANM="APPLICANT INSURANCE POLICY NUMBER" S X=$$GET(DATANM)
"RTN","EASEZF5",34,0)
 .S IBDATA(1,60.04)=X
"RTN","EASEZF5",35,0)
 .S DATANM="APPLICANT INSURANCE ADDRESS" S X=$$GET(DATANM)
"RTN","EASEZF5",36,0)
 .S IBDATA(1,21.01)=X
"RTN","EASEZF5",37,0)
 .S DATANM="APPLICANT INSURANCE CITY" S X=$$GET(DATANM)
"RTN","EASEZF5",38,0)
 .S IBDATA(1,21.04)=X
"RTN","EASEZF5",39,0)
 .S DATANM="APPLICANT INSURANCE STATE" S X=$$GET(DATANM)
"RTN","EASEZF5",40,0)
 .S IBDATA(1,21.05)=X
"RTN","EASEZF5",41,0)
 .S DATANM="APPLICANT INSURANCE ZIP" S X=$$GET(DATANM)
"RTN","EASEZF5",42,0)
 .S IBDATA(1,21.06)=X
"RTN","EASEZF5",43,0)
 .S X=$$INSPH^EASEZT2(EASAPP,"APPLICANT",1)
"RTN","EASEZF5",44,0)
 .S IBDATA(1,20.02)=X
"RTN","EASEZF5",45,0)
 .S IBDATA(1,.03)=1
"RTN","EASEZF5",46,0)
 .S IBDATA(1,60.01)=EASDFN
"RTN","EASEZF5",47,0)
 .S OK=$$BUFF^IBCNBES1(.IBDATA)
"RTN","EASEZF5",48,0)
 ;applicant additional health insurance
"RTN","EASEZF5",49,0)
 K IBDATA
"RTN","EASEZF5",50,0)
 F MM=1:1 S DATANM="OTHER(N) INSURANCE COMPANY" S X=$$GET(DATANM,MM) Q:(X="")  D
"RTN","EASEZF5",51,0)
 .S IBDATA(1,20.01)=X
"RTN","EASEZF5",52,0)
 .S DATANM="OTHER(N) INSURANCE GROUP CODE" S X=$$GET(DATANM,MM)
"RTN","EASEZF5",53,0)
 .S IBDATA(1,40.03)=X
"RTN","EASEZF5",54,0)
 .S DATANM="OTHER(N) INSURANCE POLICY HOLDER" S X=$$GET(DATANM,MM)
"RTN","EASEZF5",55,0)
 .S IBDATA(1,60.07)=X
"RTN","EASEZF5",56,0)
 .S IBDATA(1,60.05)=$$INSREL(IBDATA(1,60.07))
"RTN","EASEZF5",57,0)
 .S X=IBDATA(1,60.05) S IBDATA(1,60.06)=$S(X="v":"01",X="s":"02",1:"09")
"RTN","EASEZF5",58,0)
 .S DATANM="OTHER(N) INSURANCE POLICY NUMBER" S X=$$GET(DATANM,MM)
"RTN","EASEZF5",59,0)
 .S IBDATA(1,60.04)=X
"RTN","EASEZF5",60,0)
 .S DATANM="OTHER(N) INSURANCE ADDRESS" S X=$$GET(DATANM,MM)
"RTN","EASEZF5",61,0)
 .S IBDATA(1,21.01)=X
"RTN","EASEZF5",62,0)
 .S DATANM="OTHER(N) INSURANCE CITY" S X=$$GET(DATANM,MM)
"RTN","EASEZF5",63,0)
 .S IBDATA(1,21.04)=X
"RTN","EASEZF5",64,0)
 .S DATANM="OTHER(N) INSURANCE STATE" S X=$$GET(DATANM,MM)
"RTN","EASEZF5",65,0)
 .S IBDATA(1,21.05)=X
"RTN","EASEZF5",66,0)
 .S DATANM="OTHER(N) INSURANCE ZIP" S X=$$GET(DATANM,MM)
"RTN","EASEZF5",67,0)
 .S IBDATA(1,21.06)=X
"RTN","EASEZF5",68,0)
 .S X=$$INSPH^EASEZT2(EASAPP,"OTHER(N)",MM)
"RTN","EASEZF5",69,0)
 .S IBDATA(1,20.02)=X
"RTN","EASEZF5",70,0)
 .S IBDATA(1,.03)=1
"RTN","EASEZF5",71,0)
 .S IBDATA(1,60.01)=EASDFN
"RTN","EASEZF5",72,0)
 .S OK=$$BUFF^IBCNBES1(.IBDATA)
"RTN","EASEZF5",73,0)
 ;
"RTN","EASEZF5",74,0)
 ;spouse health insurance
"RTN","EASEZF5",75,0)
 ;retain for backward compatibility
"RTN","EASEZF5",76,0)
 K IBDATA
"RTN","EASEZF5",77,0)
 S DATANM="SPOUSE INSURANCE COMPANY" S X=$$GET(DATANM)
"RTN","EASEZF5",78,0)
 I X'="" D
"RTN","EASEZF5",79,0)
 .S IBDATA(2,20.01)=X
"RTN","EASEZF5",80,0)
 .S DATANM="SPOUSE INSURANCE GROUP CODE" S X=$$GET(DATANM)
"RTN","EASEZF5",81,0)
 .S IBDATA(2,40.03)=X
"RTN","EASEZF5",82,0)
 .S DATANM="SPOUSE INSURANCE POLICY HOLDER" S X=$$GET(DATANM)
"RTN","EASEZF5",83,0)
 .S IBDATA(2,60.07)=X
"RTN","EASEZF5",84,0)
 .S DATANM="SPOUSE INSURANCE POLICY NUMBER" S X=$$GET(DATANM)
"RTN","EASEZF5",85,0)
 .S IBDATA(2,60.04)=X
"RTN","EASEZF5",86,0)
 .S IBDATA(2,60.05)="s"
"RTN","EASEZF5",87,0)
 .S IBDATA(2,.03)=1
"RTN","EASEZF5",88,0)
 .S IBDATA(2,60.06)="02"
"RTN","EASEZF5",89,0)
 .S IBDATA(2,60.01)=EASDFN
"RTN","EASEZF5",90,0)
 .S OK=$$BUFF^IBCNBES1(.IBDATA)
"RTN","EASEZF5",91,0)
 ;
"RTN","EASEZF5",92,0)
 ;update field #.3192 in file #2 for Reg. screen 5
"RTN","EASEZF5",93,0)
 S X=$P($G(^DPT(EASDFN,.31)),U,11) I ((X="")!(X="U")) S $P(^DPT(EASDFN,.31),U,11)="N"
"RTN","EASEZF5",94,0)
 Q
"RTN","EASEZF5",95,0)
 ;
"RTN","EASEZF5",96,0)
GET(DATANM,MM) ;get 1010EZ data as needed by IB
"RTN","EASEZF5",97,0)
 ;
"RTN","EASEZF5",98,0)
 N KEY,XDATA
"RTN","EASEZF5",99,0)
 I '$G(MM) S MM=1
"RTN","EASEZF5",100,0)
 S KEY=+$$KEY711^EASEZU1(DATANM)
"RTN","EASEZF5",101,0)
 S XDATA=$P($$DATA712^EASEZU1(EASAPP,KEY,MM),U,1)
"RTN","EASEZF5",102,0)
 I DATANM["DATE",XDATA'="" D
"RTN","EASEZF5",103,0)
 .S X=XDATA D ^%DT S XDATA=$P(Y,".",1)
"RTN","EASEZF5",104,0)
 S XDATA=$$UC^EASEZT1(XDATA)
"RTN","EASEZF5",105,0)
 Q XDATA
"RTN","EASEZF5",106,0)
 ;
"RTN","EASEZF5",107,0)
INSREL(INSNM) ;
"RTN","EASEZF5",108,0)
 N FRSTNM,LSTNM
"RTN","EASEZF5",109,0)
 I INSNM="" Q ""
"RTN","EASEZF5",110,0)
 S DATANM="APPLICANT LAST NAME" S LSTNM=$$GET(DATANM)
"RTN","EASEZF5",111,0)
 S DATANM="APPLICANT FIRST NAME" S FRSTNM=$$GET(DATANM)
"RTN","EASEZF5",112,0)
 I INSNM[LSTNM,INSNM[FRSTNM Q "v"
"RTN","EASEZF5",113,0)
 S DATANM="SPOUSE LAST NAME" S LSTNM=$$GET(DATANM)
"RTN","EASEZF5",114,0)
 S DATANM="SPOUSE FIRST NAME" S FRSTNM=$$GET(DATANM)
"RTN","EASEZF5",115,0)
 I INSNM[LSTNM,INSNM[FRSTNM Q "s"
"RTN","EASEZF5",116,0)
 Q "o"
"RTN","EASEZI")
0^17^B57651225
"RTN","EASEZI",1,0)
EASEZI ;ALB/jap - Database Inquiry & Record Finder for 1010EZ Processing ;10/12/00  13:08
"RTN","EASEZI",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,9,44,51**;Mar 15, 2001
"RTN","EASEZI",3,0)
 ;
"RTN","EASEZI",4,0)
DFN(EASAPP,EASDFN) ;match or add 1010EZ applicant to Patient file #2
"RTN","EASEZI",5,0)
 ;
"RTN","EASEZI",6,0)
 ;input  
"RTN","EASEZI",7,0)
 ;  EASAPP = application ien in file #712
"RTN","EASEZI",8,0)
 ;output 
"RTN","EASEZI",9,0)
 ;  EASDFN = valid ien in file #2; passed by reference
"RTN","EASEZI",10,0)
 ;           OR -1 if no patient match made;
"RTN","EASEZI",11,0)
 ;           note: this may be an existing patient or one newly created by user action
"RTN","EASEZI",12,0)
 ;
"RTN","EASEZI",13,0)
 ;This entry point it used only for initial match of Applicant with Patient database.
"RTN","EASEZI",14,0)
 ;
"RTN","EASEZI",15,0)
 N DFN,DGNEWPF,DGRPTOUT,EZDATA,KEY,NAME,SSN,DOB,SEX,KEYIEN,ACCEPT,ARRAY,RECD
"RTN","EASEZI",16,0)
 N VETTYPE,NEW,TSSN,REM,N,X,DA,DR,DIE,DIC,DIQ,ALREADY,OUT,FILE,SUBFILE,FLD,ELIGVER,SVCVER
"RTN","EASEZI",17,0)
 Q:'EASAPP
"RTN","EASEZI",18,0)
 ;do not proceed if link to file #2 already established
"RTN","EASEZI",19,0)
 S EASDFN=$P($G(^EAS(712,EASAPP,0)),U,10) Q:EASDFN
"RTN","EASEZI",20,0)
 D FULL^VALM1 W @IOF
"RTN","EASEZI",21,0)
 S EASEZNEW="",ELIGVER=0,SVCVER=0
"RTN","EASEZI",22,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT SEX")
"RTN","EASEZI",23,0)
 S SEX=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1),SEX=$S(SEX="M":"Male",SEX="F":"Female",1:"")
"RTN","EASEZI",24,0)
 S DIQ="ARRAY",DIQ(0)="E",DA=EASAPP,DR="1;2;3;3.3",DIC=712 D EN^DIQ1
"RTN","EASEZI",25,0)
 S NAME=$G(ARRAY(712,EASAPP,1,"E"))
"RTN","EASEZI",26,0)
 S SSN=$P($G(ARRAY(712,EASAPP,2,"E")),"&",1)
"RTN","EASEZI",27,0)
 S DOB=$P($G(ARRAY(712,EASAPP,2,"E")),"&",2)
"RTN","EASEZI",28,0)
 S RECD=$G(ARRAY(712,EASAPP,3,"E"))
"RTN","EASEZI",29,0)
 S VETTYPE=$G(ARRAY(712,EASAPP,3.3,"E"))
"RTN","EASEZI",30,0)
 W !,"Applicant Data",?24,"Application #: ",EASAPP,?48,"Received: ",RECD,!
"RTN","EASEZI",31,0)
 W !,"Name: ",NAME
"RTN","EASEZI",32,0)
 W !,"SSN: ",SSN,?24,"DOB: ",DOB,?48,"Sex: ",SEX
"RTN","EASEZI",33,0)
 W !,"Veteran Type: ",VETTYPE
"RTN","EASEZI",34,0)
 W !!,"Enter Applicant data as prompted --"
"RTN","EASEZI",35,0)
 ;
"RTN","EASEZI",36,0)
 ;Get Patient file (#2) IEN - DFN
"RTN","EASEZI",37,0)
 D GETPAT^DGRPTU("",1,.DFN,.DGNEWPF)
"RTN","EASEZI",38,0)
 Q:($G(DFN)'>0)
"RTN","EASEZI",39,0)
 ;if DGNEWPF=1 then applicant has just been added to file #2 as new patient
"RTN","EASEZI",40,0)
 S NEW=""
"RTN","EASEZI",41,0)
 I DGNEWPF D
"RTN","EASEZI",42,0)
 .S NEW=1
"RTN","EASEZI",43,0)
 .;add a remark to file #2 record to help keep track of new patients added by 1010EZ
"RTN","EASEZI",44,0)
 .S REM="NEW PT. FROM ELECTRONIC 10-10EZ -- IN PROCESS"
"RTN","EASEZI",45,0)
 .S DA=DFN,DIE="^DPT(",DR=".091///^S X=REM"
"RTN","EASEZI",46,0)
 .D ^DIE
"RTN","EASEZI",47,0)
 ;if seems to be not new, check remark field just to make sure
"RTN","EASEZI",48,0)
 I NEW="" D
"RTN","EASEZI",49,0)
 .S REM="NEW PT. FROM ELECTRONIC 10-10EZ -- IN PROCESS"
"RTN","EASEZI",50,0)
 .I $P(^DPT(DFN,0),U,10)=REM S NEW=1
"RTN","EASEZI",51,0)
 ;MPI Query
"RTN","EASEZI",52,0)
 S X="MPIFAPI" X ^%ZOSF("TEST")  D
"RTN","EASEZI",53,0)
 .Q:'$T
"RTN","EASEZI",54,0)
 .K MPIFRTN
"RTN","EASEZI",55,0)
 .D MPIQ^MPIFAPI(DFN)
"RTN","EASEZI",56,0)
 .K MPIFRTN,MPIQRYNM
"RTN","EASEZI",57,0)
 ;check for an in-process application already linked to this DFN
"RTN","EASEZI",58,0)
 S OUT=0,ALREADY=0 F  S ALREADY=$O(^EAS(712,"AC",DFN,ALREADY)) Q:'ALREADY  D  Q:OUT
"RTN","EASEZI",59,0)
 .S FILDATE=$P($G(^EAS(712,ALREADY,2)),U,5)
"RTN","EASEZI",60,0)
 .S CLSDATE=$P($G(^EAS(712,ALREADY,2)),U,9)
"RTN","EASEZI",61,0)
 .I 'FILDATE,'CLSDATE S OUT=1 D
"RTN","EASEZI",62,0)
 ..W !!?3,"Sorry... cannot link to selected Patient."
"RTN","EASEZI",63,0)
 ..W !?3,"Application #"_ALREADY_" is already linked to this Patient,"
"RTN","EASEZI",64,0)
 ..W !?3,"and is still in-process."
"RTN","EASEZI",65,0)
 ..D PAUSE^VALM1 K FILDATE,CLSDATE
"RTN","EASEZI",66,0)
 Q:OUT
"RTN","EASEZI",67,0)
RESET ;
"RTN","EASEZI",68,0)
 ;set link in file #712 record
"RTN","EASEZI",69,0)
 ; EAS*1*44 Modifications - SCK
"RTN","EASEZI",70,0)
 N FDA,ERR
"RTN","EASEZI",71,0)
 S FDA(712,EASAPP_",",3.4)=DFN
"RTN","EASEZI",72,0)
 I NEW D
"RTN","EASEZI",73,0)
 . S FDA(712,EASAPP_",",3.5)=NEW
"RTN","EASEZI",74,0)
 D FILE^DIE("","FDA","ERR")
"RTN","EASEZI",75,0)
 ;
"RTN","EASEZI",76,0)
 W !,"One moment please...",!
"RTN","EASEZI",77,0)
 S EASDFN=DFN
"RTN","EASEZI",78,0)
 ;setup tmp array for data mapping
"RTN","EASEZI",79,0)
 D LOCAL711^EASEZU2
"RTN","EASEZI",80,0)
 I '$G(EASVRSN) S EASVRSN=$$VERSION^EASEZU4(EASAPP)
"RTN","EASEZI",81,0)
 ;if applicant is new to database, user accept/not accept of data elements is constrained; 
"RTN","EASEZI",82,0)
 ;if applicant is new to VistA, mark all data elements 'accepted';
"RTN","EASEZI",83,0)
 I NEW S N=0 F  S N=$O(^EAS(712,EASAPP,10,N)) Q:'N  I $G(^EAS(712,EASAPP,10,N,1))'="" D
"RTN","EASEZI",84,0)
 .S ACCEPT="",FLD="",SUBFILE="",FILE=""
"RTN","EASEZI",85,0)
 .S KEYIEN=$P(^EAS(712,EASAPP,10,N,0),U,1)
"RTN","EASEZI",86,0)
 .I KEYIEN S X=$G(^TMP("EZDATA",$J,KEYIEN)),FILE=$P(X,U,1),SUBFILE=$P(X,U,2),FLD=$P(X,U,3),DATAKEY=$P(X,U,4),SECT=$P(DATAKEY,";",1)
"RTN","EASEZI",87,0)
 .I FLD S ACCEPT=1
"RTN","EASEZI",88,0)
 .I 'FLD S ACCEPT=-1
"RTN","EASEZI",89,0)
 .I (FILE=355.33)!(FILE>408) S ACCEPT=2
"RTN","EASEZI",90,0)
 .I FILE=2,SUBFILE=2,((FLD=.01)!(FLD=.03)!(FLD=.09)!(FLD=.531)) S ACCEPT=-1
"RTN","EASEZI",91,0)
 .I ((SUBFILE=2.01)!(SUBFILE=2.101)) S ACCEPT=-1
"RTN","EASEZI",92,0)
 .I (EASVRSN>5.99),((SECT="IIC")!(SECT="IIE")) D
"RTN","EASEZI",93,0)
 ..S QUES=$P(DATAKEY,";",2)
"RTN","EASEZI",94,0)
 ..I SECT="IIC","1.6;2.3;3.3"[QUES S ACCEPT=-1 Q
"RTN","EASEZI",95,0)
 ..I SECT="IIE","1.3;2.3;3.3"[QUES S ACCEPT=-1
"RTN","EASEZI",96,0)
 .S $P(^EAS(712,EASAPP,10,N,0),U,3)=ACCEPT
"RTN","EASEZI",97,0)
 ;for applicants matched to existing patients check for verified eligibility
"RTN","EASEZI",98,0)
 I 'NEW D
"RTN","EASEZI",99,0)
 .K ARRAY
"RTN","EASEZI",100,0)
 .S DA=EASDFN,DIC="^DPT(",DR=".3611;.3613",DIQ(0)="I",DIQ="ARRAY"
"RTN","EASEZI",101,0)
 .D EN^DIQ1
"RTN","EASEZI",102,0)
 .I ARRAY(2,EASDFN,.3611,"I")="V",ARRAY(2,EASDFN,.3613,"I")="H" S ELIGVER=1
"RTN","EASEZI",103,0)
 ;correlate #712 data with mapping array
"RTN","EASEZI",104,0)
 S N=0 F  S N=$O(^EAS(712,EASAPP,10,N)) Q:'N  S X=^(N,0) D
"RTN","EASEZI",105,0)
 .;don't set array node if no 1010EZ data
"RTN","EASEZI",106,0)
 .S EZDATA=$P($G(^EAS(712,EASAPP,10,N,1)),U,1)
"RTN","EASEZI",107,0)
 .Q:EZDATA=""
"RTN","EASEZI",108,0)
 .S IEN=$P(X,U,1),MULTIPLE=$P(X,U,2),ACCEPT=$P(X,U,3)
"RTN","EASEZI",109,0)
 .S ^TMP("EZDATA",$J,IEN,MULTIPLE,1)=EZDATA_U_ACCEPT_U_N
"RTN","EASEZI",110,0)
 ;
"RTN","EASEZI",111,0)
 ;if applicant new to VistA, stop here;
"RTN","EASEZI",112,0)
 I NEW S EASEZNEW=1
"RTN","EASEZI",113,0)
 Q:$G(EASEZNEW)
"RTN","EASEZI",114,0)
 ;if matched to existing patient, get all iens needed
"RTN","EASEZI",115,0)
 W !,"Preparing for data comparison to VistA Patient database...",!
"RTN","EASEZI",116,0)
 K ALIAS,DISPOS,ENROLL,INCREL,RACE,ETHNC
"RTN","EASEZI",117,0)
 D I201^EASEZI(EASDFN,.ALIAS) W "."
"RTN","EASEZI",118,0)
 I $D(ALIAS)>1 D C201^EASEZC1
"RTN","EASEZI",119,0)
 D I2101^EASEZI(EASDFN,.DISPOS) W "."
"RTN","EASEZI",120,0)
 I $D(DISPOS)>1 D C2101^EASEZC1
"RTN","EASEZI",121,0)
 ;finish getting the rest of file #2 data needed for comparison 
"RTN","EASEZI",122,0)
 D C2^EASEZC1
"RTN","EASEZI",123,0)
 D I2711^EASEZI(EASDFN,.ENROLL) W "."
"RTN","EASEZI",124,0)
 I $D(ENROLL)>1 D C2711^EASEZC1
"RTN","EASEZI",125,0)
 D I408^EASEZI(EASDFN,EASAPP,.INCREL) W "."
"RTN","EASEZI",126,0)
 I $D(INCREL)>1 D C408^EASEZC1
"RTN","EASEZI",127,0)
 D I202^EASEZI(EASDFN,.RACE) W "."
"RTN","EASEZI",128,0)
 I $D(RACE)>1 D C202^EASEZC3
"RTN","EASEZI",129,0)
 D I206^EASEZI(EASDFN,.ETHNC) W "."
"RTN","EASEZI",130,0)
 I $D(ETHNC)>1 D C206^EASEZC3
"RTN","EASEZI",131,0)
 ;set file #355.33 data to 'always accept';
"RTN","EASEZI",132,0)
 ;set unmatched data for files #408.12, #408.13, #408.21, #408.22 to 'always accept';
"RTN","EASEZI",133,0)
 S N=0 F  S N=$O(^EAS(712,EASAPP,10,N)) Q:'N  S X=^(N,0) D
"RTN","EASEZI",134,0)
 .S KEYIEN=$P(X,U,1),MULTIPLE=$P(X,U,2)
"RTN","EASEZI",135,0)
 .I KEYIEN S X=$G(^TMP("EZDATA",$J,KEYIEN)),FILE=$P(X,U,1),SUBFILE=$P(X,U,2),FLD=$P(X,U,3),DATAKEY=$P(X,U,4),SECT=$P(DATAKEY,";",1)
"RTN","EASEZI",136,0)
 .S ACCEPT=""
"RTN","EASEZI",137,0)
 .I 'FLD S ACCEPT=-1
"RTN","EASEZI",138,0)
 .I FILE=2,SUBFILE=2,((FLD=.01)!(FLD=.03)!(FLD=.09)!(FLD=.531)) S ACCEPT=-1
"RTN","EASEZI",139,0)
 .;set certain eligibility related data elements to 'never accept' if eligibility verified
"RTN","EASEZI",140,0)
 .I FILE=2,FLD=.313,$G(ARRAY(2,EASDFN,.3611,"I"))="V" S ACCEPT=-1
"RTN","EASEZI",141,0)
 .I FILE=2,$G(ELIGVER),((FLD=.301)!(FLD=.302)!(FLD=.36235)) S ACCEPT=-1
"RTN","EASEZI",142,0)
 .I FILE=355.33 S ACCEPT=2
"RTN","EASEZI",143,0)
 .I FILE>408 S ACCEPT=2
"RTN","EASEZI",144,0)
 .I (EASVRSN>5.99),((SECT="IIC")!(SECT="IIE")) D
"RTN","EASEZI",145,0)
 ..S QUES=$P(DATAKEY,";",2)
"RTN","EASEZI",146,0)
 ..I SECT="IIC","1.6;2.3;3.3"[QUES S ACCEPT=-1 Q
"RTN","EASEZI",147,0)
 ..I SECT="IIE","1.3;2.3;3.3"[QUES S ACCEPT=-1
"RTN","EASEZI",148,0)
 .S $P(^EAS(712,EASAPP,10,N,0),U,3)=ACCEPT
"RTN","EASEZI",149,0)
 .S $P(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1),U,2)=ACCEPT
"RTN","EASEZI",150,0)
 K ALIAS,DISPOS,ENROLL,INCREL
"RTN","EASEZI",151,0)
 Q
"RTN","EASEZI",152,0)
 ;
"RTN","EASEZI",153,0)
I201(EASDFN,EASARRAY) ;retrieve ien(s) in subfile #2.01
"RTN","EASEZI",154,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",155,0)
 ;output EASARRAY = ien(s) to #2.01
"RTN","EASEZI",156,0)
 ;                  each array element = EASDFN;subfile_ien
"RTN","EASEZI",157,0)
 ;
"RTN","EASEZI",158,0)
 N N,IEN
"RTN","EASEZI",159,0)
 S IEN=0,N=0 F  S IEN=$O(^DPT(EASDFN,.01,IEN)) Q:'IEN  S N=N+1,EASARRAY(N)=EASDFN_";"_IEN
"RTN","EASEZI",160,0)
 Q
"RTN","EASEZI",161,0)
 ;
"RTN","EASEZI",162,0)
I202(EASDFN,EASARRAY) ;retrieve ien(s) in subfile #2.02
"RTN","EASEZI",163,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",164,0)
 ;output EASARRAY = ien(s) to #2.01
"RTN","EASEZI",165,0)
 ;                  each array element = EASDFN;subfile_ien
"RTN","EASEZI",166,0)
 ;
"RTN","EASEZI",167,0)
 N N,IEN
"RTN","EASEZI",168,0)
 S IEN=0,N=0 F  S IEN=$O(^DPT(EASDFN,.02,IEN)) Q:'IEN  S N=N+1,EASARRAY(N)=EASDFN_";"_IEN
"RTN","EASEZI",169,0)
 Q
"RTN","EASEZI",170,0)
 ;
"RTN","EASEZI",171,0)
I206(EASDFN,EASARRAY) ;retrieve ien(s) in subfile #2.06
"RTN","EASEZI",172,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",173,0)
 ;output EASARRAY = ien(s) to #2.01
"RTN","EASEZI",174,0)
 ;                  each array element = EASDFN;subfile_ien
"RTN","EASEZI",175,0)
 ;
"RTN","EASEZI",176,0)
 N N,IEN
"RTN","EASEZI",177,0)
 S IEN=0,N=0 F  S IEN=$O(^DPT(EASDFN,.06,IEN)) Q:'IEN  S N=N+1,EASARRAY(N)=EASDFN_";"_IEN
"RTN","EASEZI",178,0)
 Q
"RTN","EASEZI",179,0)
 ;
"RTN","EASEZI",180,0)
I2101(EASDFN,EASARRAY) ;retrieve ien to subfile #2.101
"RTN","EASEZI",181,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",182,0)
 ;output EASARRAY = most recent ien in #2.101;
"RTN","EASEZI",183,0)
 ;                  array element = EASDFN;subfile_ien
"RTN","EASEZI",184,0)
 ;
"RTN","EASEZI",185,0)
 N N,IEN,ARR,LAST
"RTN","EASEZI",186,0)
 S IEN=0,N=0 F  S IEN=$O(^DPT(EASDFN,"DIS",IEN)) Q:'IEN  D
"RTN","EASEZI",187,0)
 .S RDATE=$P(^DPT(EASDFN,"DIS",IEN,0),U,1),ARR(RDATE)=IEN
"RTN","EASEZI",188,0)
 I $D(ARR) D
"RTN","EASEZI",189,0)
 .S LAST=$O(ARR(999999999),-1),IEN=ARR(LAST)
"RTN","EASEZI",190,0)
 .S EASARRAY(1)=EASDFN_";"_IEN
"RTN","EASEZI",191,0)
 Q
"RTN","EASEZI",192,0)
 ;
"RTN","EASEZI",193,0)
I2711(EASDFN,EASARRAY) ;retrieve ien to file #27.11
"RTN","EASEZI",194,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",195,0)
 ;output EASARRAY = current enrollment ien in #27.11;
"RTN","EASEZI",196,0)
 ;                  array element = ien
"RTN","EASEZI",197,0)
 N CUR
"RTN","EASEZI",198,0)
 S CUR=$$FINDCUR^DGENA(+EASDFN)
"RTN","EASEZI",199,0)
 S EASARRAY(1)=CUR
"RTN","EASEZI",200,0)
 Q
"RTN","EASEZI",201,0)
 ;
"RTN","EASEZI",202,0)
I408(EASDFN,EASAPP,EASARRAY) ;retrieve ien(s) to files #408.12,#408.13,#408.21,#408.22
"RTN","EASEZI",203,0)
 ;
"RTN","EASEZI",204,0)
 ;input EASDFN    = ien to #2
"RTN","EASEZI",205,0)
 ;      EASAPP    = ien to #712
"RTN","EASEZI",206,0)
 ;output EASARRAY = ien(s) to files; passed by reference
"RTN","EASEZI",207,0)
 ;       array(408,"V",1) = ien_#408.12^ien_#408.13^ien_#408.21^ien#408.22 ;veteran data
"RTN","EASEZI",208,0)
 ;       array(408,"S",1) = ien_#408.12^ien_#408.13^ien_#408.21^ien#408.22 ;spouse data
"RTN","EASEZI",209,0)
 ;       array(408,"C",multiple) = ien_#408.12^ien_#408.13^ien_#408.21^ien#408.22 ;child data
"RTN","EASEZI",210,0)
 ;   where ien_#408.13 = ien;global_root
"RTN","EASEZI",211,0)
 ;
"RTN","EASEZI",212,0)
 N CURINCYR,X,Y,DIC,DA,DR,DIQ,EAS,DEP,REL,IX,JX,KX,I13,SUB1,SUB2,INCYR,PT
"RTN","EASEZI",213,0)
 ;
"RTN","EASEZI",214,0)
 Q:'EASDFN
"RTN","EASEZI",215,0)
 S Y=$P($G(^EAS(712,EASAPP,0)),U,6) I Y="" S Y=DT
"RTN","EASEZI",216,0)
 S %F=5,X=$$FMTE^XLFDT(Y,%F),X=+$P(X,"/",3)-1,%DT="P" D ^%DT S CURINCYR=Y
"RTN","EASEZI",217,0)
 ;find all associated 408 records, even if no actual income test
"RTN","EASEZI",218,0)
 ; get #408.12, #408.13, #408.21, #408.22 iens
"RTN","EASEZI",219,0)
 K EAS S DEP=0
"RTN","EASEZI",220,0)
 S IX=0 F  S IX=$O(^DGPR(408.12,"B",EASDFN,IX)) Q:'IX  D
"RTN","EASEZI",221,0)
 .S DIC=408.12,DA=IX,DIQ="EAS",DIQ(0)="I",DR=".02;.03" D EN^DIQ1
"RTN","EASEZI",222,0)
 .S REL=$G(EAS(408.12,IX,.02,"I")),I13=$G(EAS(408.12,IX,.03,"I"))
"RTN","EASEZI",223,0)
 .S (SUB1,SUB2)="" S:REL=1 SUB1="V",SUB2=1 S:REL=2 SUB1="S",SUB2=1 S:REL>2 SUB1="C",DEP=DEP+1,SUB2=DEP
"RTN","EASEZI",224,0)
 .I SUB1]"" S EASARRAY(408,SUB1,SUB2)=IX_U_I13 D
"RTN","EASEZI",225,0)
 ..S JX=$O(^DGMT(408.21,"C",IX,""),-1)
"RTN","EASEZI",226,0)
 ..I JX D
"RTN","EASEZI",227,0)
 ...S DIC=408.21,DA=JX,DIQ="EAS",DIQ(0)="I",DR=".01;.02" D EN^DIQ1
"RTN","EASEZI",228,0)
 ...S INCYR=$G(EAS(408.21,JX,.01,"I")),PT=$G(EAS(408.21,JX,.02,"I"))
"RTN","EASEZI",229,0)
 ...Q:PT'=IX
"RTN","EASEZI",230,0)
 ...Q:(INCYR<CURINCYR)
"RTN","EASEZI",231,0)
 ...S KX=$O(^DGMT(408.22,"AIND",JX,0))
"RTN","EASEZI",232,0)
 ...S EASARRAY(408,SUB1,SUB2)=EASARRAY(408,SUB1,SUB2)_U_JX_U_KX
"RTN","EASEZI",233,0)
 Q
"RTN","EASEZI",234,0)
 ;
"RTN","EASEZI",235,0)
I1275(IEN) ;get the active subrecord from subfile #408.1275
"RTN","EASEZI",236,0)
 ;input     IEN = internal record number to file #408.12
"RTN","EASEZI",237,0)
 ;output SUBIEN = internal record number for active subrecord,
"RTN","EASEZI",238,0)
 ;                or -1 if invalid
"RTN","EASEZI",239,0)
 N B,ACT,SUBIEN
"RTN","EASEZI",240,0)
 I 'IEN Q -1
"RTN","EASEZI",241,0)
 S SUBIEN=-1
"RTN","EASEZI",242,0)
 S B=0 F  S B=$O(^DGPR(408.12,IEN,"E",B)) Q:'B  D
"RTN","EASEZI",243,0)
 .S ACT=$P(^DGPR(408.12,IEN,"E",B,0),U,2)
"RTN","EASEZI",244,0)
 .I ACT S SUBIEN=B
"RTN","EASEZI",245,0)
 Q SUBIEN
"RTN","EASEZP61")
0^9^B44351694
"RTN","EASEZP61",1,0)
EASEZP61 ;ALB/AMA - Print 1010EZ, Version 6 or greater, Cont. ; 10/19/2000
"RTN","EASEZP61",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZP61",3,0)
 ;
"RTN","EASEZP61",4,0)
 ; This routine copied from EASEZPF1; if the version # of the 1010EZ
"RTN","EASEZP61",5,0)
 ; application is 6.0 or greater, then this routine will be executed.
"RTN","EASEZP61",6,0)
 ;
"RTN","EASEZP61",7,0)
EN(EALNE,EAINFO) ;Entry point for VA 10-10EZ, Version 6 or greater, page 1
"RTN","EASEZP61",8,0)
 ; Called from EN^EASEZP6F
"RTN","EASEZP61",9,0)
 N X,EASD
"RTN","EASEZP61",10,0)
 ;
"RTN","EASEZP61",11,0)
 S EASD=$NA(^TMP("EASEZ",$J,1))
"RTN","EASEZP61",12,0)
 D HDRMAIN^EASEZP6F(.EALNE)
"RTN","EASEZP61",13,0)
 D DEM
"RTN","EASEZP61",14,0)
 D II
"RTN","EASEZP61",15,0)
 D EI
"RTN","EASEZP61",16,0)
 ;
"RTN","EASEZP61",17,0)
 D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP61",18,0)
 S EAINFO("VET")=@EASD@(2),EAINFO("SSN")=@EASD@(5)
"RTN","EASEZP61",19,0)
 Q
"RTN","EASEZP61",20,0)
 ;
"RTN","EASEZP61",21,0)
DEM ; Print VA 10-10 Section I, Demographic information
"RTN","EASEZP61",22,0)
 ;
"RTN","EASEZP61",23,0)
 W !?50,"SECTION I - GENERAL INFORMATION"
"RTN","EASEZP61",24,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",25,0)
 ;
"RTN","EASEZP61",26,0)
 W !,"1A. Type of Benefits Applied For:  ",@EASD@("1A")
"RTN","EASEZP61",27,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",28,0)
 ;
"RTN","EASEZP61",29,0)
 W !,"1B. If Applying For Health Services or Enrollment, Which VA Medical Center or Outpatient Clinic Do You Prefer?"
"RTN","EASEZP61",30,0)
 W !?4,@EASD@("1B")
"RTN","EASEZP61",31,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",32,0)
 ;
"RTN","EASEZP61",33,0)
 W !,"2. Veteran's Name (Last, First, Middle, Suffix)",?51,"|3. Other Names Used",?88,"|4. Mother's Maiden Name"
"RTN","EASEZP61",34,0)
 W !?3,@EASD@(2),?51,"|   ",@EASD@(3),?88,"|   ",@EASD@("3A")
"RTN","EASEZP61",35,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",36,0)
 ;
"RTN","EASEZP61",37,0)
 W !,"5. Gender  |6. Current Marital Status |7. Are You Spanish, Hispanic, or Latino? |8. Place of Birth (City & State)"
"RTN","EASEZP61",38,0)
 W !?3,@EASD@(4),?11,"|   ",@EASD@(12),?38,"|   ",@EASD@("4A"),?80,"|   ",@EASD@("8A")
"RTN","EASEZP61",39,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",40,0)
 ;
"RTN","EASEZP61",41,0)
 N EZYES,EZNO S EZYES=" X ",EZNO="___"
"RTN","EASEZP61",42,0)
 W !,"9. What Is Your Race?   ",@EASD@("4B"),"AMERICAN INDIAN OR ALASKA NATIVE"
"RTN","EASEZP61",43,0)
 W ?73,@EASD@("4E"),"ASIAN",?86,@EASD@("4C"),"BLACK OR AFRICAN AMERICAN"
"RTN","EASEZP61",44,0)
 W !,?24,@EASD@("4D"),"NATIVE HAWAIIAN OR OTHER PACIFIC ISLANDER"
"RTN","EASEZP61",45,0)
 W ?73,@EASD@("4F"),"WHITE",?86,@EASD@("4G"),"UNKNOWN BY PATIENT"
"RTN","EASEZP61",46,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",47,0)
 ;
"RTN","EASEZP61",48,0)
 W !,"10. Social Security Number",?30,"|11. Claim Number",?51,"|12. Date of Birth",?73,"|13. Religion"
"RTN","EASEZP61",49,0)
 W !?4,@EASD@(5),?30,"|    ",@EASD@(6),?51,"|    ",@EASD@(7),?73,"|    ",@EASD@(8)
"RTN","EASEZP61",50,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",51,0)
 ;
"RTN","EASEZP61",52,0)
 W !,"14. Permanent Address (Street)",?43,"|14B. City",?68,"|14C. State",?108,"|14D. Zip (9 digits)"
"RTN","EASEZP61",53,0)
 W !?4,@EASD@("9A"),?43,"|     ",@EASD@("9B"),?68,"|     ",@EASD@("9C"),?108,"|     ",@EASD@("9D")
"RTN","EASEZP61",54,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",55,0)
 ;
"RTN","EASEZP61",56,0)
 W !,"14E. County ",?40,"|15. Home Telephone Number ",?70,"|16. E-mail Address"
"RTN","EASEZP61",57,0)
 W !?5,@EASD@("9E"),?40,"|    ",@EASD@(10),?70,"|    ",@EASD@("11A")
"RTN","EASEZP61",58,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",59,0)
 ;
"RTN","EASEZP61",60,0)
 W !,"17. Do You Want An Appointment With a VA Doctor or Provider As Soon As One Becomes Available?  ",@EASD@("11B")
"RTN","EASEZP61",61,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",62,0)
 ;
"RTN","EASEZP61",63,0)
 W !,"18A. Have You Been Seen At a VA Health Care Facility?",?55,"|18B. Location:"
"RTN","EASEZP61",64,0)
 W !?5,@EASD@("11C"),?55,"|     ",@EASD@("11D")
"RTN","EASEZP61",65,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",66,0)
 ;
"RTN","EASEZP61",67,0)
 W !,"19A. Name, Address and Relationship of Next of Kin",?84,"|19B. Home Telephone:  ",@EASD@("19B")
"RTN","EASEZP61",68,0)
 W !?5,$P(@EASD@("19A"),U)," - ",$P(@EASD@("19A"),U,4),?84,"|"
"RTN","EASEZP61",69,0)
 W !?5,$P(@EASD@("19A"),U,2),?84,"|19C. Work Telephone:  ",@EASD@("19C")
"RTN","EASEZP61",70,0)
 W !?5,$P(@EASD@("19A"),U,3),?84,"|"
"RTN","EASEZP61",71,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",72,0)
 ;
"RTN","EASEZP61",73,0)
 W !,"20A. Name, Address and Relationship of Emergency Contact",?84,"|20B. Home Telephone:  ",@EASD@("20B")
"RTN","EASEZP61",74,0)
 W !?5,$P(@EASD@("20A"),U)," - ",$P(@EASD@("20A"),U,4),?84,"|"
"RTN","EASEZP61",75,0)
 W !?5,$P(@EASD@("20A"),U,2),?84,"|20C. Work Telephone:  ",@EASD@("20C")
"RTN","EASEZP61",76,0)
 W !?5,$P(@EASD@("20A"),U,3),?84,"|"
"RTN","EASEZP61",77,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",78,0)
 ;
"RTN","EASEZP61",79,0)
 W !,"21. INDIVIDUAL TO RECEIVE POSSESSION OF YOUR PERSONAL PROPERTY LEFT ON PREMISES UNDER VA CONTROL AFTER YOUR DEPARTURE OR AT THE"
"RTN","EASEZP61",80,0)
 W !,"THE TIME OF DEATH.  NOTE: This does not constitute a will or transfer of title."
"RTN","EASEZP61",81,0)
 W !?4,@EASD@(21)
"RTN","EASEZP61",82,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",83,0)
 Q
"RTN","EASEZP61",84,0)
 ;
"RTN","EASEZP61",85,0)
II ; Print SECTION II - INSURANCE INFORMATION
"RTN","EASEZP61",86,0)
 ;
"RTN","EASEZP61",87,0)
 W !?25,"SECTION II - INSURANCE INFORMATION  (Use Separate Sheet for Additional Insurance)"
"RTN","EASEZP61",88,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",89,0)
 ;
"RTN","EASEZP61",90,0)
 W !,"22A. Are You Covered By Health Insurance?  (Including coverage through a spouse or another person)  ",@EASD@(17)
"RTN","EASEZP61",91,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",92,0)
 ;
"RTN","EASEZP61",93,0)
 W !,"22B. Health Insurance Company Name 1",?38,"|22C. Address",?104,"|22D. Telephone"
"RTN","EASEZP61",94,0)
 W !?5,@EASD@("17A"),?38,"|     ",$P(@EASD@("17E"),U),?104,"|     ",@EASD@("17I")
"RTN","EASEZP61",95,0)
 W !?38,"|     ",$P(@EASD@("17E"),U,2),?104,"|"
"RTN","EASEZP61",96,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",97,0)
 ;
"RTN","EASEZP61",98,0)
 W !,"22E. Name of Policy Holder",?50,"|22F. Policy Number",?85,"|22G. Group Code"
"RTN","EASEZP61",99,0)
 W !?5,@EASD@("17B"),?50,"|     ",@EASD@("17C"),?85,"|     ",@EASD@("17D")
"RTN","EASEZP61",100,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",101,0)
 ;
"RTN","EASEZP61",102,0)
 W !,"23A. Is Need for Care Due To On The Job Injury?  ",@EASD@("22A"),?70,"|23B. Is Need For Care Due To Accident?  ",@EASD@("22B")
"RTN","EASEZP61",103,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",104,0)
 Q
"RTN","EASEZP61",105,0)
 ;
"RTN","EASEZP61",106,0)
EI ; Print SECTION III - EMPLOYMENT INFORMATION
"RTN","EASEZP61",107,0)
 ;
"RTN","EASEZP61",108,0)
 W !?48,"SECTION III - EMPLOYMENT INFORMATION"
"RTN","EASEZP61",109,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",110,0)
 ;
"RTN","EASEZP61",111,0)
 W !,"24A. Veteran's Employment Status",?45,"|24B. Company Name, Address, Telephone"
"RTN","EASEZP61",112,0)
 W !?5,$P(@EASD@("15A"),U),?45,"|     ",$P(@EASD@("15B"),U),"  ",$P(@EASD@("15B"),U,4)
"RTN","EASEZP61",113,0)
 W !,"Date of Retirement:  ",$P(@EASD@("15A"),U,2),?45,"|     ",$P(@EASD@("15B"),U,2)
"RTN","EASEZP61",114,0)
 W !,"(If employed or retired, complete 24B)",?45,"|     ",$P(@EASD@("15B"),U,3)
"RTN","EASEZP61",115,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",116,0)
 ;
"RTN","EASEZP61",117,0)
 W !,"25A. Spouse's Employment Status",?45,"|25B. Company Name, Address, Telephone"
"RTN","EASEZP61",118,0)
 W !?5,$P(@EASD@("16A"),U),?45,"|     ",$P(@EASD@("16B"),U),"  ",$P(@EASD@("16B"),U,4)
"RTN","EASEZP61",119,0)
 W !,"Date of Retirement:  ",$P(@EASD@("16A"),U,2),?45,"|     ",$P(@EASD@("16B"),U,2)
"RTN","EASEZP61",120,0)
 W !,"(If employed or retired, complete 25B)",?45,"|     ",$P(@EASD@("16B"),U,3)
"RTN","EASEZP61",121,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",122,0)
 ;
"RTN","EASEZP61",123,0)
 W !,"26A. Are You Enrolled in Medicare Hospital Insurance Part A?  ",@EASD@("14K"),?85,"26B. Effective Date  ",@EASD@("14K1")
"RTN","EASEZP61",124,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",125,0)
 ;
"RTN","EASEZP61",126,0)
 W !,"27A. Are You Enrolled in Medicare Hospital Insurance Part B?  ",@EASD@("14L"),?85,"27B. Effective Date  ",@EASD@("14L1")
"RTN","EASEZP61",127,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",128,0)
 ;
"RTN","EASEZP61",129,0)
 W !,"28. Medicare Claim Number",?65,"|29. Name Exactly as it Appears on your Medicare Card"
"RTN","EASEZP61",130,0)
 W !?4,@EASD@("14M"),?65,"|    ",@EASD@("14N")
"RTN","EASEZP61",131,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",132,0)
 ;
"RTN","EASEZP61",133,0)
 W !,"30. Are You Eligible for Medicaid?  ",@EASD@("14J")
"RTN","EASEZP61",134,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP61",135,0)
 Q
"RTN","EASEZP62")
0^10^B69678725
"RTN","EASEZP62",1,0)
EASEZP62 ;ALB/AMA - Print 1010EZ, Version 6 or greater, Cont., Page 2 ; 10/19/2000
"RTN","EASEZP62",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZP62",3,0)
 ;
"RTN","EASEZP62",4,0)
 ;This routine copied from EASEZPF2; if the version # of the 1010EZ
"RTN","EASEZP62",5,0)
 ;application is 6.0 or greater, then this routine will be executed.
"RTN","EASEZP62",6,0)
 ;
"RTN","EASEZP62",7,0)
EN(EALNE,EAINFO) ; Entry point, called from EN^EASEZP6F
"RTN","EASEZP62",8,0)
 ;  Input
"RTN","EASEZP62",9,0)
 ;     EALNE  - Array of line formats for output
"RTN","EASEZP62",10,0)
 ;     EAINFO - Application Data array, see SETUP^EASEZP6F
"RTN","EASEZP62",11,0)
 ;
"RTN","EASEZP62",12,0)
 N EASD
"RTN","EASEZP62",13,0)
 ;
"RTN","EASEZP62",14,0)
 D HDR^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP62",15,0)
 S EASD=$NA(^TMP("EASEZ",$J,1))
"RTN","EASEZP62",16,0)
 D MIL
"RTN","EASEZP62",17,0)
 D FIN
"RTN","EASEZP62",18,0)
 ;
"RTN","EASEZP62",19,0)
 S EASD=$NA(^TMP("EASEZ",$J,2))
"RTN","EASEZP62",20,0)
 D DEP
"RTN","EASEZP62",21,0)
 D INC
"RTN","EASEZP62",22,0)
 ;
"RTN","EASEZP62",23,0)
 D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP62",24,0)
 Q
"RTN","EASEZP62",25,0)
 ;
"RTN","EASEZP62",26,0)
MIL ;  Print out VA 10-10EZ Section IV, Military Service Information
"RTN","EASEZP62",27,0)
 ;
"RTN","EASEZP62",28,0)
 W !?45,"SECTION IV - MILITARY SERVICE INFORMATION"
"RTN","EASEZP62",29,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",30,0)
 ;
"RTN","EASEZP62",31,0)
 W !,"31A. Last Branch of Service |31B. Last Entry Date |31C. Last Discharge Date |31D. Discharge Type",?103,"|31E. Military Service Number"
"RTN","EASEZP62",32,0)
 W !?5,@EASD@("13A"),?28,"|     ",@EASD@("13B"),?50,"|     ",@EASD@("13C"),?76,"|     ",@EASD@("13D"),?103,"|     ",@EASD@("13E")
"RTN","EASEZP62",33,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",34,0)
 ;
"RTN","EASEZP62",35,0)
 W !,"32. Answer Yes or No for the Following Questions:"
"RTN","EASEZP62",36,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",37,0)
 ;
"RTN","EASEZP62",38,0)
 W !,"  A1. Are You a Purple Heart Award Recipient?",?58,"| ",@EASD@("14A1"),?64,"|  F. Were You Exposed to Environmental Contaminants While",?124,"| ",@EASD@("14E")
"RTN","EASEZP62",39,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W $E(EALNE("UL"),1,64)
"RTN","EASEZP62",40,0)
 ;
"RTN","EASEZP62",41,0)
 W !,"  A2. Are You a Former Prisoner of War?",?58,"| ",@EASD@("14A2"),?64,"|     Serving in SW Asia During the Gulf War?",?124,"|"
"RTN","EASEZP62",42,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",43,0)
 ;
"RTN","EASEZP62",44,0)
 W !,"  B.  Do You Have a VA Service Connected Rating?",?58,"| ",@EASD@("14B"),?64,"|  G. Were You Exposed to Agent Orange While Serving in",?124,"| ",@EASD@("14F")
"RTN","EASEZP62",45,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W $E(EALNE("UL"),1,64)
"RTN","EASEZP62",46,0)
 ;
"RTN","EASEZP62",47,0)
 W !,"  B1. If Yes, What is Your Rated Percentage?",?58,"| ",@EASD@("14B1"),"%",?64,"|     Vietnam?",?124,"|"
"RTN","EASEZP62",48,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",49,0)
 ;
"RTN","EASEZP62",50,0)
 W !,"  C.  Did You Serve in Combat After 11/11/1998?",?58,"| ",@EASD@("14B2"),?64,"|  H. Were You Exposed to Radiation While in the Military?",?124,"| ",@EASD@("14G")
"RTN","EASEZP62",51,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",52,0)
 ;
"RTN","EASEZP62",53,0)
 W !,"  D.  Was Your Discharge From Military For A Disability",?58,"| ",@EASD@("14D4"),?64,"|  I. Did You Receive Nose & Throat Radium Treatments",?124,"| ",@EASD@("14G1")
"RTN","EASEZP62",54,0)
 W !?6,"Incurred or Aggravated in the Line of Duty?",?58,"|     |     While in the Military?",?124,"|"
"RTN","EASEZP62",55,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",56,0)
 ;
"RTN","EASEZP62",57,0)
 W !,"  E.  Are You Receiving Disability Retirement Pay",?58,"| ",@EASD@("14D3"),?64,"|  J. Do You Have a Spinal Cord Injury?",?124,"| ",@EASD@("14I")
"RTN","EASEZP62",58,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! F X=1:1:65 W " "
"RTN","EASEZP62",59,0)
 W $E(EALNE("UL"),1,67)
"RTN","EASEZP62",60,0)
 W !?6,"Instead of VA Compensation?",?58,"|     |",?124,"|"
"RTN","EASEZP62",61,0)
 ;
"RTN","EASEZP62",62,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",63,0)
 Q
"RTN","EASEZP62",64,0)
 ;
"RTN","EASEZP62",65,0)
FIN ; Print out VA 10-10EZ Section V, Financial Disclosure information
"RTN","EASEZP62",66,0)
 ;
"RTN","EASEZP62",67,0)
 W !?50,"SECTION V - FINANCIAL DISCLOSURE"
"RTN","EASEZP62",68,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",69,0)
 ;
"RTN","EASEZP62",70,0)
 W !,"You are not required to provide the financial eligibility information in Sections VI through IX. However, current law may require"
"RTN","EASEZP62",71,0)
 W !,"VA to consider your household financial situation to determine your eligibility for enrollment, and/or requirement to pay"
"RTN","EASEZP62",72,0)
 W !,"copayments for medical care, medications, long-term care and/or receive beneficiary travel benefits for care of your nonservice-"
"RTN","EASEZP62",73,0)
 W !,"connected conditions.  Review the table in Step 1 of the instructions to see what benefits are based on your financial status and"
"RTN","EASEZP62",74,0)
 W !,"what sections you should complete.  If you are a 0% service-connected noncompensable or nonservice-connected veteran (and are not"
"RTN","EASEZP62",75,0)
 W !,"an Ex-POW, WWI veteran, Purple Heart recipient or VA pensioner) and your annual household income (or combined income and net"
"RTN","EASEZP62",76,0)
 W !,"worth) exceeds the established threshold, you must agree to pay VA copayments for care of your non-service connected conditions to"
"RTN","EASEZP62",77,0)
 W !,"be eligible for enrollment.  See Section X - Consent To Copayments."
"RTN","EASEZP62",78,0)
 ;
"RTN","EASEZP62",79,0)
 S (EAY,EAN)="___"
"RTN","EASEZP62",80,0)
 S:EAINFO("DISC")="YES" EAY=" X "
"RTN","EASEZP62",81,0)
 S:EAINFO("DISC")="NO" EAN=" X "
"RTN","EASEZP62",82,0)
 ;
"RTN","EASEZP62",83,0)
 W !!?3,EAN," NO, I DO NOT WISH TO PROVIDE INFORMATION IN SECTIONS VI THROUGH IX.  I understand that my financial information will not"
"RTN","EASEZP62",84,0)
 W !,"be used to determine my eligibility for VA health care benefits that apply to me.  I am agreeing to pay the applicable VA"
"RTN","EASEZP62",85,0)
 W !,"copayments.  (Sign and date the application in Section XII.)"
"RTN","EASEZP62",86,0)
 ;
"RTN","EASEZP62",87,0)
 W !!?3,EAY," YES, I WILL PROVIDE SPECIFIC INCOME AND/OR ASSET INFORMATION TO ESTABLISH MY ELIGIBILITY FOR CARE.  Complete all sections"
"RTN","EASEZP62",88,0)
 W !,"below that apply to you with last calendar year's information.  Sign and date the application in Section XII."
"RTN","EASEZP62",89,0)
 W !?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",90,0)
 Q
"RTN","EASEZP62",91,0)
 ;
"RTN","EASEZP62",92,0)
DEP ;  Print out VA 10-10EZ Section VI, Dependent Information
"RTN","EASEZP62",93,0)
 ;
"RTN","EASEZP62",94,0)
 W !?24,"SECTION VI - DEPENDENT INFORMATION  (Use a separate sheet for additional dependents)"
"RTN","EASEZP62",95,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",96,0)
 ;
"RTN","EASEZP62",97,0)
 W !,"1. Spouse's Name (Last, First, Middle, Suffix)",?51,"|2. Spouse's Maiden Name",?93,"|3. Spouse's DOB",?112,"|4. Spouse's SSN"
"RTN","EASEZP62",98,0)
 W !?3,$P(@EASD@(1),U),?51,"|   ",$P(@EASD@(1),U,2),?93,"|   ",@EASD@(4),?112,"|   ",@EASD@(3)
"RTN","EASEZP62",99,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",100,0)
 ;
"RTN","EASEZP62",101,0)
 W !,"5. Spouse's Address",?64,"|6. Spouse's Telephone Number",?98,"|7. Date of Marriage"
"RTN","EASEZP62",102,0)
 W !?3,$P(@EASD@(6),U),?64,"|   ",@EASD@(8),?98,"|   ",@EASD@(10)
"RTN","EASEZP62",103,0)
 W !?3,$P(@EASD@(6),U,2),?64,"|",?98,"|"
"RTN","EASEZP62",104,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",105,0)
 ;
"RTN","EASEZP62",106,0)
 W !,"8. Child's Name (Last, First, Middle, Suffix)",?64,"|9. Child's Date of Birth",?92,"|10. Child's Social Security Number"
"RTN","EASEZP62",107,0)
 W !?3,@EASD@(2),?64,"|   ",@EASD@(5),?92,"|   ",@EASD@(7)
"RTN","EASEZP62",108,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",109,0)
 ;
"RTN","EASEZP62",110,0)
 W !,"11. Date Child Became Your Dependent:  ",@EASD@(11),?64,"|12. Child's Relationship To You:  ",@EASD@(9)
"RTN","EASEZP62",111,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",112,0)
 ;
"RTN","EASEZP62",113,0)
 W !,"13. If Your Spouse or Dependent Child Did Not Live With You",?64,"|14. Expenses Paid By YOUR Dependent Child for College, Vocational"
"RTN","EASEZP62",114,0)
 W !,"Last Year, Enter the Amount You Contributed To Their Support",?64,"|Rehabilitation or Training (tuition, books, materials, etc.)"
"RTN","EASEZP62",115,0)
 W !,"    Spouse  $ ",$P(@EASD@(12),U),?33,"Child  $ ",$P(@EASD@(12),U,2),?64,"|    $ ",@EASD@(13)
"RTN","EASEZP62",116,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",117,0)
 ;
"RTN","EASEZP62",118,0)
 W !,"15. Was Child Permanently And Totally Disabled Before The",?64,"|16. If Child is Between 18 and 23 Years Of Age, Did Child"
"RTN","EASEZP62",119,0)
 W !,"Age Of 18?  ",@EASD@(14),?64,"|Attend School Last Calendar Year?  ",@EASD@(15)
"RTN","EASEZP62",120,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",121,0)
 Q
"RTN","EASEZP62",122,0)
 ;
"RTN","EASEZP62",123,0)
INC ; Print out VA 10-10EZ Section VII, Gross Annual Income information
"RTN","EASEZP62",124,0)
 ;
"RTN","EASEZP62",125,0)
 W !?17,"SECTION VII - PREVIOUS CALENDAR YEAR GROSS ANNUAL INCOME OF VETERAN, SPOUSE AND DEPENDENT CHILDREN"
"RTN","EASEZP62",126,0)
 W !?30,"(Use a separate sheet for additional dependents' financial information)"
"RTN","EASEZP62",127,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",128,0)
 ;
"RTN","EASEZP62",129,0)
 W !?76,"VETERAN",?97,"SPOUSE",?117,"CHILD 1"
"RTN","EASEZP62",130,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",131,0)
 ;
"RTN","EASEZP62",132,0)
 W !,"1. GROSS ANNUAL INCOME FROM EMPLOYMENT (wages, bonuses, tips, etc.)",?69,"| $ ",$P(@EASD@("2C1"),U),?90,"| $ ",$P(@EASD@("2C1"),U,2),?110,"| $ ",$P(@EASD@("2C1"),U,3)
"RTN","EASEZP62",133,0)
 W !,"EXCLUDING INCOME FROM YOUR FARM, RANCH, PROPERTY OR BUSINESS",?69,"|",?90,"|",?110,"|"
"RTN","EASEZP62",134,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",135,0)
 ;
"RTN","EASEZP62",136,0)
 W !,"2. NET INCOME FROM YOUR FARM, RANCH, PROPERTY OR BUSINESS",?69,"| $ ",$P(@EASD@("2C3"),U),?90,"| $ ",$P(@EASD@("2C3"),U,2),?110,"| $ ",$P(@EASD@("2C3"),U,3)
"RTN","EASEZP62",137,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",138,0)
 ;
"RTN","EASEZP62",139,0)
 W !,"3. LIST OTHER INCOME AMOUNTS (Social Security, compensation,",?69,"| $ ",$P(@EASD@("2C2"),U),?90,"| $ ",$P(@EASD@("2C2"),U,2),?110,"| $ ",$P(@EASD@("2C2"),U,3)
"RTN","EASEZP62",140,0)
 W !,"pension, interest, dividends.  Exclude welfare)",?69,"|",?90,"|",?110,"|"
"RTN","EASEZP62",141,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP62",142,0)
 Q
"RTN","EASEZP63")
0^11^B62330141
"RTN","EASEZP63",1,0)
EASEZP63 ; ALB/AMA - Print 1010EZ, Version 6 or greater, Cont. ; 10/25/2000
"RTN","EASEZP63",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZP63",3,0)
 ;
"RTN","EASEZP63",4,0)
 ;This routine copied from EASEZPF3; if the version # of the 1010EZ
"RTN","EASEZP63",5,0)
 ;application is 6.0 or greater, then this routine will be executed.
"RTN","EASEZP63",6,0)
 ;
"RTN","EASEZP63",7,0)
EN(EALNE,EAINFO) ; Entry point to print Page 3, called from EN^EASEZP6F
"RTN","EASEZP63",8,0)
 N EASIGN
"RTN","EASEZP63",9,0)
 ;
"RTN","EASEZP63",10,0)
 I $$GET1^DIQ(712,EAINFO("EASAPP")_",",4)]"" D
"RTN","EASEZP63",11,0)
 . S EASIGN=$$GET1^DIQ(712,EAINFO("EASAPP")_",",4.1)
"RTN","EASEZP63",12,0)
 S EASIGN=$G(EASIGN)
"RTN","EASEZP63",13,0)
 ;
"RTN","EASEZP63",14,0)
 D HDR^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP63",15,0)
 S EASD=$NA(^TMP("EASEZ",$J,2))
"RTN","EASEZP63",16,0)
 ;
"RTN","EASEZP63",17,0)
 D EXP
"RTN","EASEZP63",18,0)
 D NET
"RTN","EASEZP63",19,0)
 D CON
"RTN","EASEZP63",20,0)
 D PAP
"RTN","EASEZP63",21,0)
 D AOB
"RTN","EASEZP63",22,0)
 D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP63",23,0)
 ;
"RTN","EASEZP63",24,0)
 Q
"RTN","EASEZP63",25,0)
 ;
"RTN","EASEZP63",26,0)
EXP ; Print out VA 10-10EZ Section VIII, Deductible Expense Information
"RTN","EASEZP63",27,0)
 ;
"RTN","EASEZP63",28,0)
 W !?37,"SECTION VIII - PREVIOUS CALENDAR YEAR DEDUCTIBLE EXPENSES"
"RTN","EASEZP63",29,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",30,0)
 ;
"RTN","EASEZP63",31,0)
 W !,"1. NON-REIMBURSED MEDICAL EXPENSES PAID BY YOU OR YOUR SPOUSE (e.g., payments for doctors, dentists,",?110,"| $ ",@EASD@("2D1")
"RTN","EASEZP63",32,0)
 W !,"medications, Medicare, health insurance, hospital and nursing home)",?110,"|"
"RTN","EASEZP63",33,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",34,0)
 ;
"RTN","EASEZP63",35,0)
 W !,"2. AMOUNT YOU PAID LAST CALENDAR YEAR FOR FUNERAL AND BURIAL EXPENSES FOR YOUR DECEASED SPOUSE OR DEPENDENT",?110,"| $ ",@EASD@("2D2")
"RTN","EASEZP63",36,0)
 W !,"CHILD (Also enter spouse or child's information in Section VI.)",?110,"|"
"RTN","EASEZP63",37,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",38,0)
 ;
"RTN","EASEZP63",39,0)
 W !,"3. AMOUNT YOU PAID LAST CALENDAR YEAR FOR YOUR COLLEGE OR VOCATIONAL EDUCATIONAL EXPENSES (e.g., tuition,",?110,"| $ ",@EASD@("2D3")
"RTN","EASEZP63",40,0)
 W !,"books, fees, materials)  DO NOT LIST YOUR DEPENDENT'S EDUCATIONAL EXPENSES",?110,"|"
"RTN","EASEZP63",41,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",42,0)
 Q
"RTN","EASEZP63",43,0)
 ;
"RTN","EASEZP63",44,0)
NET ;  Print SECTION IX - PREVIOUS CALENDAR YEAR NET WORTH
"RTN","EASEZP63",45,0)
 ;
"RTN","EASEZP63",46,0)
 W !?18,"SECTION IX - PREVIOUS CALENDAR YEAR NET WORTH  (Use a separate sheet for additional dependents)"
"RTN","EASEZP63",47,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",48,0)
 ;
"RTN","EASEZP63",49,0)
 W !?76,"VETERAN",?97,"SPOUSE",?117,"CHILD 1"
"RTN","EASEZP63",50,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",51,0)
 ;
"RTN","EASEZP63",52,0)
 W !,"1. CASH, AMOUNT IN BANK ACCOUNTS (e.g., checking and savings",?69,"| $ ",$P(@EASD@("2E1"),U),?90,"| $ ",$P(@EASD@("2E1"),U,2),?110,"| $ ",$P(@EASD@("2E1"),U,3)
"RTN","EASEZP63",53,0)
 W !,"accounts, certificates of deposit, individual retirement accounts,",?69,"|",?90,"|",?110,"|"
"RTN","EASEZP63",54,0)
 W !,"stocks and bonds)",?69,"|",?90,"|",?110,"|"
"RTN","EASEZP63",55,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",56,0)
 ;
"RTN","EASEZP63",57,0)
 W !,"2. MARKET VALUE OF LAND AND BUILDINGS MINUS MORTGAGE AND LIENS",?69,"| $ ",$P(@EASD@("2E2"),U),?90,"| $ ",$P(@EASD@("2E2"),U,2),?110,"| $ ",$P(@EASD@("2E2"),U,3)
"RTN","EASEZP63",58,0)
 W !,"(e.g., second homes and non-income-producing property.  Do not count",?69,"|",?90,"|",?110,"|"
"RTN","EASEZP63",59,0)
 W !,"your primary home.)",?69,"|",?90,"|",?110,"|"
"RTN","EASEZP63",60,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",61,0)
 ;
"RTN","EASEZP63",62,0)
 W !,"3. VALUE OF OTHER PROPERTY OR ASSETS (e.g., art, rare coins,",?69,"| $ ",$P(@EASD@("2E3"),U),?90,"| $ ",$P(@EASD@("2E3"),U,2),?110,"| $ ",$P(@EASD@("2E3"),U,3)
"RTN","EASEZP63",63,0)
 W !,"collectibles) MINUS THE AMOUNT YOU OWE ON THESE ITEMS.  Exclude",?69,"|",?90,"|",?110,"|"
"RTN","EASEZP63",64,0)
 W !,"household effects and family vehicles.",?69,"|",?90,"|",?110,"|"
"RTN","EASEZP63",65,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",66,0)
 Q
"RTN","EASEZP63",67,0)
 ;
"RTN","EASEZP63",68,0)
CON ;  Print SECTION X - CONSENT TO COPAYMENTS
"RTN","EASEZP63",69,0)
 ;
"RTN","EASEZP63",70,0)
 W !?49,"SECTION X - CONSENT TO COPAYMENTS"
"RTN","EASEZP63",71,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",72,0)
 ;
"RTN","EASEZP63",73,0)
 W !,"If you are a 0% service-connected veteran and do not receive VA monetary benefits or a nonservice-connected veteran (and you are"
"RTN","EASEZP63",74,0)
 W !,"not an Ex-POW, Purple Heart Recipient, WWI veteran or VA pensioner) and your household income (or combined income and net worth)"
"RTN","EASEZP63",75,0)
 W !,"exceeds the established threshold, this application will be considered for enrollment, but only if you agree to pay VA copayments"
"RTN","EASEZP63",76,0)
 W !,"for treatment of your nonservice-connected conditions.  If you are such a veteran, by signing this application you are agreeing"
"RTN","EASEZP63",77,0)
 W !,"to pay the applicable VA copayment as required by law.",!
"RTN","EASEZP63",78,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",79,0)
 Q
"RTN","EASEZP63",80,0)
 ;
"RTN","EASEZP63",81,0)
PAP ;  Print SECTION XI - PAPERWORK AND PRIVACY ACT INFORMATION
"RTN","EASEZP63",82,0)
 ;
"RTN","EASEZP63",83,0)
 W !?41,"SECTION XI - PAPERWORK AND PRIVACY ACT INFORMATION"
"RTN","EASEZP63",84,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",85,0)
 ;
"RTN","EASEZP63",86,0)
 W !,"The Paperwork Reduction Act of 1995 requires us to notify you that this information collection is in accordance with the clearance"
"RTN","EASEZP63",87,0)
 W !,"requirements of section 3507 of the Paperwork Reduction Act of 1995.  We may not conduct or sponsor, and you are not required to"
"RTN","EASEZP63",88,0)
 W !,"respond to, a collection of information unless it displays a valid OMB number.  We anticipate that the time expended by all"
"RTN","EASEZP63",89,0)
 W !,"individuals who must complete this form will average 20 minutes.  This includes the time it will take to read instructions,"
"RTN","EASEZP63",90,0)
 W !,"gather the necessary facts and fill out the form."
"RTN","EASEZP63",91,0)
 W !!,"Privacy Act Information:  The VA is asking you to provide the information on this form under 38 U.S.C., sections 1705, 1710,"
"RTN","EASEZP63",92,0)
 W !,"1712, and 1722 in order for VA to determine your eligibility for medical benefits.  Information you supply may be verified through"
"RTN","EASEZP63",93,0)
 W !,"a computer-matching program.  VA may disclose the information that you put on the form as permitted by law.  VA may make a"
"RTN","EASEZP63",94,0)
 W !,"""routine use"" disclosure of the information as outlined in the Privacy Act systems of records notices and in accordance with the"
"RTN","EASEZP63",95,0)
 W !,"VHA Notice of Privacy Practices.  You do not have to provide the information to VA, but if you don't, VA may be unable to process"
"RTN","EASEZP63",96,0)
 W !,"your request and serve your medical needs. Failure to furnish the information will not have any affect on any other benefits to"
"RTN","EASEZP63",97,0)
 W !,"which you may be entitled.  If you provide VA your Social Security Number, VA will use it to administer your VA benefits.  VA may"
"RTN","EASEZP63",98,0)
 W !,"also use this information to identify veterans and persons claiming or receiving VA benefits and their records, and for other"
"RTN","EASEZP63",99,0)
 W !,"purposes authorized or required by law.",!
"RTN","EASEZP63",100,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",101,0)
 Q
"RTN","EASEZP63",102,0)
 ;
"RTN","EASEZP63",103,0)
AOB ;  Print SECTION XII - ASSIGNMENT OF BENEFITS
"RTN","EASEZP63",104,0)
 ;
"RTN","EASEZP63",105,0)
 W !?48,"SECTION XII - ASSIGNMENT OF BENEFITS"
"RTN","EASEZP63",106,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",107,0)
 ;
"RTN","EASEZP63",108,0)
 W !,"I understand that pursuant to 38 U.S.C. section 1729, VA is authorized to recover or collect from my health plan (HP) for the"
"RTN","EASEZP63",109,0)
 W !,"reasonable charges of nonservice-connected VA medical care or services furnished or provided to me.  I hereby authorize payment"
"RTN","EASEZP63",110,0)
 W !,"directly to VA from any HP under which I am covered (including coverage provided under my spouse's HP) that is responsible for"
"RTN","EASEZP63",111,0)
 W !,"payment of the charges for my medical care, including benefits otherwise payable to me or my spouse.",!
"RTN","EASEZP63",112,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",113,0)
 ;
"RTN","EASEZP63",114,0)
 W !?25,"ALL APPLICANTS MUST SIGN AND DATE THIS APPLICATION FOR HEALTH BENEFITS.  REFER TO"
"RTN","EASEZP63",115,0)
 W !?34,"INSTRUCTIONS WHICH DEFINE WHO CAN SIGN ON BEHALF OF THE VETERAN.",!
"RTN","EASEZP63",116,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",117,0)
 ;
"RTN","EASEZP63",118,0)
 W !,"SIGNATURE OF APPLICANT",?90,"| DATE"
"RTN","EASEZP63",119,0)
 I $G(EASIGN)]"" W !,"SIGNATURE OF APPLICANT OR APPLICANT'S REPRESENTATIVE HAS BEEN VERIFIED",?90,"| ",EASIGN,!?90,"|"
"RTN","EASEZP63",120,0)
 E  W !?90,"|",!?90,"|"
"RTN","EASEZP63",121,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP63",122,0)
 Q
"RTN","EASEZP6D")
0^13^B9356764
"RTN","EASEZP6D",1,0)
EASEZP6D ;ALB/AMA - Print 1010EZ, Version 6 or greater, Cont., - OTHER DEPENDENT(S) PAGE(S) ; 10/19/2000
"RTN","EASEZP6D",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZP6D",3,0)
 ;
"RTN","EASEZP6D",4,0)
 ;New page, to print multiple dependent information
"RTN","EASEZP6D",5,0)
EN(EALNE,EAINFO) ;Entry point, called from EN^EASEZP6F
"RTN","EASEZP6D",6,0)
 ;  Input
"RTN","EASEZP6D",7,0)
 ;     EALNE  - Array of line formats for output
"RTN","EASEZP6D",8,0)
 ;     EAINFO - Application Data array, see SETUP^EASEZP6F
"RTN","EASEZP6D",9,0)
 ;
"RTN","EASEZP6D",10,0)
 N X,Y,EASD,NEWPG
"RTN","EASEZP6D",11,0)
 S EASD=$NA(^TMP("EASEZ",$J,"D"))
"RTN","EASEZP6D",12,0)
 ; assuming 55 print lines per page, 8 lines per entry, 1 line for
"RTN","EASEZP6D",13,0)
 ; title and 1 blank dividing line, 6 entries will fit on one page
"RTN","EASEZP6D",14,0)
 S NEWPG=6
"RTN","EASEZP6D",15,0)
 D BEGIN
"RTN","EASEZP6D",16,0)
 ;
"RTN","EASEZP6D",17,0)
 F X=1:1 Q:'$D(@EASD@(X))  D
"RTN","EASEZP6D",18,0)
 . ;Check to see if a new page is needed
"RTN","EASEZP6D",19,0)
 . I (X>1),'((X-1)#NEWPG) D
"RTN","EASEZP6D",20,0)
 . . D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6D",21,0)
 . . D BEGIN
"RTN","EASEZP6D",22,0)
 . I (X#NEWPG)'=1 W !?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6D",23,0)
 . S Y=X+1
"RTN","EASEZP6D",24,0)
 . D ADEP
"RTN","EASEZP6D",25,0)
 ;
"RTN","EASEZP6D",26,0)
 D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6D",27,0)
 Q
"RTN","EASEZP6D",28,0)
 ;
"RTN","EASEZP6D",29,0)
BEGIN ; Print page header info
"RTN","EASEZP6D",30,0)
 ;
"RTN","EASEZP6D",31,0)
 D HDR^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6D",32,0)
 W !?42,"SECTION VI - DEPENDENT INFORMATION - ADDITIONAL"
"RTN","EASEZP6D",33,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6D",34,0)
 Q
"RTN","EASEZP6D",35,0)
 ;
"RTN","EASEZP6D",36,0)
ADEP ;  Print out VA 10-10EZ Section VI, Additional Dependent Information
"RTN","EASEZP6D",37,0)
 ;
"RTN","EASEZP6D",38,0)
 W !,"8."_Y_" Child's Name (Last, First, Middle, Suffix)",?64,"|9."_Y_" Child's Date of Birth",?92,"|10."_Y_" Child's Social Security Number"
"RTN","EASEZP6D",39,0)
 W !?4,@EASD@(X,2),?64,"|    ",@EASD@(X,5),?92,"|    ",@EASD@(X,7)
"RTN","EASEZP6D",40,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6D",41,0)
 ;
"RTN","EASEZP6D",42,0)
 W !,"11."_Y_" Date Child Became Your Dependent:  ",@EASD@(X,11),?64,"|12."_Y_" Child's Relationship To You:  ",@EASD@(X,9)
"RTN","EASEZP6D",43,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6D",44,0)
 ;
"RTN","EASEZP6D",45,0)
 W !,"13."_Y_" If Your Dependent Child Did Not Live With You Last",?64,"|14."_Y_" Expenses Paid By YOUR Dependent Child for College, Vocational"
"RTN","EASEZP6D",46,0)
 W !,"Year, Enter the Amount You Contributed To Their Support",?64,"|Rehabilitation or Training (tuition, books, materials, etc.)"
"RTN","EASEZP6D",47,0)
 W !,"     Child  $ ",$P(@EASD@(X,12),U,2),?64,"|     $ ",@EASD@(X,13)
"RTN","EASEZP6D",48,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6D",49,0)
 ;
"RTN","EASEZP6D",50,0)
 W !,"15."_Y_" Was Child Permanently And Totally Disabled Before The",?64,"|16."_Y_" If Child is Between 18 and 23 Years Of Age, Did Child"
"RTN","EASEZP6D",51,0)
 W !,"Age Of 18?  ",@EASD@(X,14),?64,"|Attend School Last Calendar Year?  ",@EASD@(X,15)
"RTN","EASEZP6D",52,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6D",53,0)
 Q
"RTN","EASEZP6F")
0^8^B13477174
"RTN","EASEZP6F",1,0)
EASEZP6F ;ALB/AMA - Print 1010EZ, Version 6 or greater ; 10/19/2000
"RTN","EASEZP6F",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZP6F",3,0)
 ;
"RTN","EASEZP6F",4,0)
 ; These routines print a version of the OMB approved VA10-10EZ form.
"RTN","EASEZP6F",5,0)
 ; No local modifications to these routines will be made.  Any changes
"RTN","EASEZP6F",6,0)
 ; will be provided through the National Patch Module  release process.
"RTN","EASEZP6F",7,0)
 ;
"RTN","EASEZP6F",8,0)
 ; This routine was copied from EASEZPF; if the version # of the 1010EZ
"RTN","EASEZP6F",9,0)
 ; application is 6.0 or greater, then this routine will be executed.
"RTN","EASEZP6F",10,0)
 ;
"RTN","EASEZP6F",11,0)
EN ; Entry point to print 1010EZ, Version 6 or greater
"RTN","EASEZP6F",12,0)
 N EALNE,EAINFO,EAABRT,EAADL,ERR,EAMULT
"RTN","EASEZP6F",13,0)
 ;
"RTN","EASEZP6F",14,0)
 D SETUP(.EALNE,.EAINFO,EASAPP,EASDFN)
"RTN","EASEZP6F",15,0)
 ;
"RTN","EASEZP6F",16,0)
 D PAGE1^EASEZP6U
"RTN","EASEZP6F",17,0)
 D EN^EASEZP61(.EALNE,.EAINFO)
"RTN","EASEZP6F",18,0)
 ;
"RTN","EASEZP6F",19,0)
 D PAGE2^EASEZPU2
"RTN","EASEZP6F",20,0)
 D EN^EASEZP62(.EALNE,.EAINFO)
"RTN","EASEZP6F",21,0)
 ;
"RTN","EASEZP6F",22,0)
 D EN^EASEZP63(.EALNE,.EAINFO)
"RTN","EASEZP6F",23,0)
 ;
"RTN","EASEZP6F",24,0)
 ;Print additional insurance pages if more than 1 insurance company
"RTN","EASEZP6F",25,0)
 F EAADL=1:1 D  Q:$G(EAABRT)
"RTN","EASEZP6F",26,0)
 . I '$D(^TMP("EZTEMP",$J,"IA",EAADL)) S EAABRT=1 Q
"RTN","EASEZP6F",27,0)
 . S EAMULT=1
"RTN","EASEZP6F",28,0)
 . D PAGEI^EASEZP6U(EAADL)
"RTN","EASEZP6F",29,0)
 I $G(EAMULT) D EN^EASEZP6I(.EALNE,.EAINFO)
"RTN","EASEZP6F",30,0)
 ;
"RTN","EASEZP6F",31,0)
 ;Print additional dependent pages if more than 1 dependent
"RTN","EASEZP6F",32,0)
 S (EAABRT,EAMULT)=0 F EAADL=1:1 D  Q:$G(EAABRT)
"RTN","EASEZP6F",33,0)
 . I '$D(^TMP("EZTEMP",$J,"IIB",EAADL)) S EAABRT=1 Q
"RTN","EASEZP6F",34,0)
 . S EAMULT=1
"RTN","EASEZP6F",35,0)
 . D PAGEN^EASEZP6U(EAADL)
"RTN","EASEZP6F",36,0)
 I EAMULT D EN^EASEZP6D(.EALNE,.EAINFO)
"RTN","EASEZP6F",37,0)
 ;
"RTN","EASEZP6F",38,0)
 ;Print additional dependent financial pages if more
"RTN","EASEZP6F",39,0)
 ;than 1 dependent, starting with the 2nd one
"RTN","EASEZP6F",40,0)
 ;(since Child 1 info already displayed on pages 2 & 3)
"RTN","EASEZP6F",41,0)
 S (EAABRT,EAMULT)=0 F EAADL=2:1 D  Q:$G(EAABRT)
"RTN","EASEZP6F",42,0)
 . I '$D(^TMP("EZTEMP",$J,"IIF",EAADL)) S EAABRT=1 Q
"RTN","EASEZP6F",43,0)
 . S EAMULT=1
"RTN","EASEZP6F",44,0)
 . D PAGEDFF^EASEZPU2(EAADL)
"RTN","EASEZP6F",45,0)
 S EAABRT=0 F EAADL=2:1 D  Q:$G(EAABRT)
"RTN","EASEZP6F",46,0)
 . I '$D(^TMP("EZTEMP",$J,"IIG",EAADL)) S EAABRT=1 Q
"RTN","EASEZP6F",47,0)
 . S EAMULT=1
"RTN","EASEZP6F",48,0)
 . D PAGEDFG^EASEZPU2(EAADL)
"RTN","EASEZP6F",49,0)
 I EAMULT D EN^EASEZP6M(.EALNE,.EAINFO)
"RTN","EASEZP6F",50,0)
 ;
"RTN","EASEZP6F",51,0)
ENQUIT ; Clean up temp globals after printing is complete
"RTN","EASEZP6F",52,0)
 K ^TMP("EASEZ",$J)
"RTN","EASEZP6F",53,0)
 K ^TMP("EZDATA",$J)
"RTN","EASEZP6F",54,0)
 K ^TMP("EZINDEX",$J)
"RTN","EASEZP6F",55,0)
 K ^TMP("EZTEMP",$J)
"RTN","EASEZP6F",56,0)
 K ^TMP("EZDISP",$J)
"RTN","EASEZP6F",57,0)
 Q
"RTN","EASEZP6F",58,0)
 ;
"RTN","EASEZP6F",59,0)
SETUP(EALNE,EAINFO,EASAPP,EASDFN) ; Set-up print variables
"RTN","EASEZP6F",60,0)
 ; Input
"RTN","EASEZP6F",61,0)
 ;   EALNE   - Line format array
"RTN","EASEZP6F",62,0)
 ;   EAINFO  - Misc Data
"RTN","EASEZP6F",63,0)
 ;      ("CLRK") - Clerk's intials
"RTN","EASEZP6F",64,0)
 ;      ("ID")   - Web ID from #712
"RTN","EASEZP6F",65,0)
 ;      ("PGE")  - Page number
"RTN","EASEZP6F",66,0)
 ;      ("VET" ) - Veteran's name submitting the application
"RTN","EASEZP6F",67,0)
 ;      ("SSN")  - Veteran's SSN
"RTN","EASEZP6F",68,0)
 ;      ("DISC") - Financial Disclosure status
"RTN","EASEZP6F",69,0)
 ;   EASAPP  - IEN of applicant on the 1010EZ HOLDING File, #712
"RTN","EASEZP6F",70,0)
 ;   EASDFN  - DFN of applicant in the PATIENT File, #2
"RTN","EASEZP6F",71,0)
 ;
"RTN","EASEZP6F",72,0)
 N X
"RTN","EASEZP6F",73,0)
 ;
"RTN","EASEZP6F",74,0)
 ; Build Line array for printout
"RTN","EASEZP6F",75,0)
 S EALNE("ULC")=$S('($D(IOST)#2):"-",IOST["C-":"-",1:"_")
"RTN","EASEZP6F",76,0)
 S EALNE("D")="",EALNE("DD")="",EALNE("UL")=""
"RTN","EASEZP6F",77,0)
 S $P(EALNE("D"),"-",133)="",$P(EALNE("DD"),"=",133)="",$P(EALNE("UL"),EALNE("ULC"),133)=""
"RTN","EASEZP6F",78,0)
 ;
"RTN","EASEZP6F",79,0)
 ; Set up information array & get clerk's initals
"RTN","EASEZP6F",80,0)
 S ZUSR=$G(ZUSR)
"RTN","EASEZP6F",81,0)
 I +ZUSR>0 D
"RTN","EASEZP6F",82,0)
 . S EAINFO("CLRK")=$$GET1^DIQ(200,ZUSR,1)
"RTN","EASEZP6F",83,0)
 . I EAINFO("CLRK")']"" D
"RTN","EASEZP6F",84,0)
 . . S X=$$GET1^DIQ(200,ZUSR,.01)
"RTN","EASEZP6F",85,0)
 . . S EAINFO("CLRK")=$E($P(X,",",2),1)_$E($P(X,","),1)
"RTN","EASEZP6F",86,0)
 E  D
"RTN","EASEZP6F",87,0)
 . S EAINFO("CLRK")="unk"
"RTN","EASEZP6F",88,0)
 ;
"RTN","EASEZP6F",89,0)
 ; Set data elements
"RTN","EASEZP6F",90,0)
 S EAINFO("PGE")=0
"RTN","EASEZP6F",91,0)
 S EAINFO("ID")=$$GET1^DIQ(712,EASAPP_",",.1)
"RTN","EASEZP6F",92,0)
 S EAINFO("PD")=$$FMTE^XLFDT($$NOW^XLFDT)
"RTN","EASEZP6F",93,0)
 S EAINFO("DISC")=$$GET1^DIQ(712,EASAPP_",",3.8)
"RTN","EASEZP6F",94,0)
 S EAINFO("EASAPP")=EASAPP
"RTN","EASEZP6F",95,0)
 S EAINFO("VET")=$$GET1^DIQ(712,EASAPP_",",1)
"RTN","EASEZP6F",96,0)
 S EAINFO("SSN")=$$GET1^DIQ(712,EASAPP_",",2)
"RTN","EASEZP6F",97,0)
 ;
"RTN","EASEZP6F",98,0)
 ; Retrieve application data from holding file, #712
"RTN","EASEZP6F",99,0)
 D EN^EASEZC1(EASAPP)
"RTN","EASEZP6F",100,0)
 D SORT^EASEZC3(EASAPP)
"RTN","EASEZP6F",101,0)
SETQ Q
"RTN","EASEZP6F",102,0)
 ;
"RTN","EASEZP6F",103,0)
HDRMAIN(EALNE) ;
"RTN","EASEZP6F",104,0)
 W @IOF
"RTN","EASEZP6F",105,0)
 W ?75,"OMB APPROVED NO. 2900-0091 / Est. Burden Avg. 45 min.",!,EALNE("DD")
"RTN","EASEZP6F",106,0)
 W !,"D E P A R T M E N T   O F   V E T E R A N S   A F F A I R S",?96,"APPLICATION FOR HEALTH BENEFITS",!,EALNE("DD")
"RTN","EASEZP6F",107,0)
 Q
"RTN","EASEZP6F",108,0)
 ;
"RTN","EASEZP6F",109,0)
HDR(EALNE,EAINFO) ;
"RTN","EASEZP6F",110,0)
 W @IOF
"RTN","EASEZP6F",111,0)
 W !,"APPLICATION FOR HEALTH BENEFITS, Continued",?65,"| ",EAINFO("VET"),?100,"| ",EAINFO("SSN")
"RTN","EASEZP6F",112,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6F",113,0)
 Q
"RTN","EASEZP6F",114,0)
 ;
"RTN","EASEZP6F",115,0)
FT(EALNE,EAINFO) ;
"RTN","EASEZP6F",116,0)
 N %,Y
"RTN","EASEZP6F",117,0)
 ;
"RTN","EASEZP6F",118,0)
 W !,EALNE("DD")
"RTN","EASEZP6F",119,0)
 W !,"AUTOMATED VA FORM 10-10EZ JUN 2004",?40,"PRINTED: ",EAINFO("PD")
"RTN","EASEZP6F",120,0)
 W ?80,"Clerk: ",EAINFO("CLRK"),"/",EAINFO("ID")
"RTN","EASEZP6F",121,0)
 W ?120,"Page " S EAINFO("PGE")=EAINFO("PGE")+1 W EAINFO("PGE")
"RTN","EASEZP6F",122,0)
 Q
"RTN","EASEZP6I")
0^12^B3119021
"RTN","EASEZP6I",1,0)
EASEZP6I ;ALB/AMA - Print 1010EZ, Version 6 or greater, Cont. - OTHER INSURANCE PAGE ; 10/19/2000
"RTN","EASEZP6I",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZP6I",3,0)
 ;
"RTN","EASEZP6I",4,0)
 ;New page, to print multiple insurance companies
"RTN","EASEZP6I",5,0)
EN(EALNE,EAINFO) ;Entry point for VA 10-10EZ, Version 6 or greater, page "I"
"RTN","EASEZP6I",6,0)
 ; Called from EN^EASEZP6F
"RTN","EASEZP6I",7,0)
 N X,EASD
"RTN","EASEZP6I",8,0)
 ;
"RTN","EASEZP6I",9,0)
 ;Expecting 4 additional insurance companies or less, and with only 5
"RTN","EASEZP6I",10,0)
 ;lines per entry, so no need to worry about going to another page
"RTN","EASEZP6I",11,0)
 S EASD=$NA(^TMP("EASEZ",$J,"I"))
"RTN","EASEZP6I",12,0)
 D HDR^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6I",13,0)
 W !?42,"SECTION II - INSURANCE INFORMATION - ADDITIONAL"
"RTN","EASEZP6I",14,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6I",15,0)
 ;
"RTN","EASEZP6I",16,0)
 F X=1:1 Q:'$D(@EASD@(X))  D
"RTN","EASEZP6I",17,0)
 . I X>1 W !?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6I",18,0)
 . D AI
"RTN","EASEZP6I",19,0)
 ;
"RTN","EASEZP6I",20,0)
 D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6I",21,0)
 Q
"RTN","EASEZP6I",22,0)
 ;
"RTN","EASEZP6I",23,0)
AI ; Print SECTION II - ADDITIONAL INSURANCE INFORMATION
"RTN","EASEZP6I",24,0)
 ;
"RTN","EASEZP6I",25,0)
 W !,"22B"_(X+1)_". Health Insurance Company Name "_(X+1),?38,"|22C"_(X+1)_". Address",?104,"|22D"_(X+1)_". Telephone"
"RTN","EASEZP6I",26,0)
 W !?6,@EASD@(X,"17A"),?38,"|      ",$P(@EASD@(X,"17E"),U),?104,"|      ",@EASD@(X,"17I")
"RTN","EASEZP6I",27,0)
 W !?38,"|      ",$P(@EASD@(X,"17E"),U,2),?104,"|"
"RTN","EASEZP6I",28,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6I",29,0)
 ;
"RTN","EASEZP6I",30,0)
 W !,"22E"_(X+1)_". Name of Policy Holder",?50,"|22F"_(X+1)_". Policy Number",?85,"|22G"_(X+1)_". Group Code"
"RTN","EASEZP6I",31,0)
 W !?6,@EASD@(X,"17B"),?50,"|      ",@EASD@(X,"17C"),?85,"|      ",@EASD@(X,"17D")
"RTN","EASEZP6I",32,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6I",33,0)
 Q
"RTN","EASEZP6M")
0^14^B21281109
"RTN","EASEZP6M",1,0)
EASEZP6M ;ALB/AMA - Print 1010EZ, Version 6 or greater, Cont., Other Dependent Financial Pages ; 10/19/2000
"RTN","EASEZP6M",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZP6M",3,0)
 ;
"RTN","EASEZP6M",4,0)
 ;New page, to print multiple dependent financial information
"RTN","EASEZP6M",5,0)
EN(EALNE,EAINFO) ;Entry point, called from EN^EASEZP6F
"RTN","EASEZP6M",6,0)
 ;  Input
"RTN","EASEZP6M",7,0)
 ;     EALNE  - Array of line formats for output
"RTN","EASEZP6M",8,0)
 ;     EAINFO - Application Data array, see SETUP^EASEZP6F
"RTN","EASEZP6M",9,0)
 ;
"RTN","EASEZP6M",10,0)
 N IIFNP,IIGNP,F,G,EASF,EASG,NEWPG,SECOND
"RTN","EASEZP6M",11,0)
 ;Assuming 55 print lines per page, 5 lines per IIF entry, 6 lines
"RTN","EASEZP6M",12,0)
 ;per IIG entry, plus lines for titles and blank dividing lines:
"RTN","EASEZP6M",13,0)
 S FNP=9   ;can fit 9 dependents on one page for Section IIF
"RTN","EASEZP6M",14,0)
 S GNP=8   ;can fit 8 dependents on one page for Section IIG
"RTN","EASEZP6M",15,0)
 ;
"RTN","EASEZP6M",16,0)
 ;Find additional dependents from Section IIF
"RTN","EASEZP6M",17,0)
 S EASF=$NA(^TMP("EASEZ",$J,"DFF"))
"RTN","EASEZP6M",18,0)
 I $O(@EASF@(1)) D BEGINF
"RTN","EASEZP6M",19,0)
 ;
"RTN","EASEZP6M",20,0)
 ;Start printing with 2nd dependent
"RTN","EASEZP6M",21,0)
 F F=2:1 Q:'$D(@EASF@(F))  D
"RTN","EASEZP6M",22,0)
 . ;Check to see if a new page is needed
"RTN","EASEZP6M",23,0)
 . I (F>2),'((F-2)#FNP) D
"RTN","EASEZP6M",24,0)
 . . D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6M",25,0)
 . . D BEGINF
"RTN","EASEZP6M",26,0)
 . I (F#FNP)'=2 W !?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",27,0)
 . D ADFF
"RTN","EASEZP6M",28,0)
 S F=F-2   ;Get actual number of dependents to print
"RTN","EASEZP6M",29,0)
 ;
"RTN","EASEZP6M",30,0)
 ;Find additional dependents from Section IIG
"RTN","EASEZP6M",31,0)
 S EASG=$NA(^TMP("EASEZ",$J,"DFG"))
"RTN","EASEZP6M",32,0)
 I $O(@EASG@(1)) D
"RTN","EASEZP6M",33,0)
 . I $O(@EASF@(1)) D  I 1
"RTN","EASEZP6M",34,0)
 . . I ((F#FNP)'=0),((F#FNP)'=GNP) W !!,?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",35,0)
 . . ;At the end of IIF, to find when to jump to the next page, 
"RTN","EASEZP6M",36,0)
 . . ;55 print lines, minus 3 lines for Section IIG title header,
"RTN","EASEZP6M",37,0)
 . . ;minus the number of lines already used on current page,
"RTN","EASEZP6M",38,0)
 . . ;divided by the number of lines for a Section IIG entry
"RTN","EASEZP6M",39,0)
 . . S NEWPG=(52-((F#FNP)*6))\7
"RTN","EASEZP6M",40,0)
 . . I '(F#FNP)!'NEWPG!(NEWPG=GNP) S NEWPG=GNP D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6M",41,0)
 . E  S NEWPG=GNP
"RTN","EASEZP6M",42,0)
 . D BEGING
"RTN","EASEZP6M",43,0)
 ;
"RTN","EASEZP6M",44,0)
 ;Start printing with 2nd dependent
"RTN","EASEZP6M",45,0)
 F G=2:1 Q:'$D(@EASG@(G))  D
"RTN","EASEZP6M",46,0)
 . ;Check to see if a new page is needed
"RTN","EASEZP6M",47,0)
 . I (G>2),'((G-$G(SECOND)-2)#NEWPG) D
"RTN","EASEZP6M",48,0)
 . . D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6M",49,0)
 . . I NEWPG'=GNP S SECOND=NEWPG,NEWPG=GNP
"RTN","EASEZP6M",50,0)
 . . D BEGING
"RTN","EASEZP6M",51,0)
 . I (G-$G(SECOND))#GNP'=2 W !?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",52,0)
 . D ADFG
"RTN","EASEZP6M",53,0)
 ;
"RTN","EASEZP6M",54,0)
 D FT^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6M",55,0)
 Q
"RTN","EASEZP6M",56,0)
 ;
"RTN","EASEZP6M",57,0)
BEGINF ; Print page header info
"RTN","EASEZP6M",58,0)
 ;
"RTN","EASEZP6M",59,0)
 D HDR^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6M",60,0)
 W !?20,"SECTION VII - PREVIOUS CALENDAR YEAR GROSS ANNUAL INCOME OF ADDITIONAL DEPENDENT CHILD(REN)"
"RTN","EASEZP6M",61,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",62,0)
 Q
"RTN","EASEZP6M",63,0)
 ;
"RTN","EASEZP6M",64,0)
BEGING ; Print page header info
"RTN","EASEZP6M",65,0)
 ;
"RTN","EASEZP6M",66,0)
 I NEWPG=GNP D HDR^EASEZP6F(.EALNE,.EAINFO)
"RTN","EASEZP6M",67,0)
 W !?25,"SECTION IX - PREVIOUS CALENDAR YEAR NET WORTH FOR ADDITIONAL DEPENDENT CHILD(REN)"
"RTN","EASEZP6M",68,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",69,0)
 Q
"RTN","EASEZP6M",70,0)
 ;
"RTN","EASEZP6M",71,0)
ADFF ; Print out VA 10-10EZ Section VII, Gross Annual Income information - Additional Dependents
"RTN","EASEZP6M",72,0)
 ;
"RTN","EASEZP6M",73,0)
 W !,"1. GROSS ANNUAL INCOME FROM EMPLOYMENT (wages, bonuses, tips, etc.)",?90,"| $ ",$P(@EASF@(F,7),U,2)
"RTN","EASEZP6M",74,0)
 W !,"EXCLUDING INCOME FROM YOUR FARM, RANCH, PROPERTY OR BUSINESS -- ",$P(@EASF@(F,7),U),?90,"|"
"RTN","EASEZP6M",75,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",76,0)
 ;
"RTN","EASEZP6M",77,0)
 W !,"2. NET INCOME FROM YOUR FARM, RANCH, PROPERTY OR BUSINESS -- ",$P(@EASF@(F,7),U),?90,"| $ ",$P(@EASF@(F,7),U,3)
"RTN","EASEZP6M",78,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",79,0)
 ;
"RTN","EASEZP6M",80,0)
 W !,"3. LIST OTHER INCOME AMOUNTS (Social Security, compensation,",?90,"| $ ",$P(@EASF@(F,7),U,4)
"RTN","EASEZP6M",81,0)
 W !,"pension, interest, dividends.  Exclude welfare) -- ",$P(@EASF@(F,7),U),?90,"|"
"RTN","EASEZP6M",82,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",83,0)
 Q
"RTN","EASEZP6M",84,0)
 ;
"RTN","EASEZP6M",85,0)
ADFG ;  Print SECTION IX - PREVIOUS CALENDAR YEAR NET WORTH - ADDITIONAL DEPENDENTS
"RTN","EASEZP6M",86,0)
 ;
"RTN","EASEZP6M",87,0)
 W !,"1. CASH, AMOUNT IN BANK ACCOUNTS (e.g., checking and savings accounts,",?110,"| $ ",$P(@EASG@(G,9),U,2)
"RTN","EASEZP6M",88,0)
 W !,"certificates of deposit, individual retirement accounts, stocks and bonds)  -- ",$P(@EASG@(G,9),U),?110,"|"
"RTN","EASEZP6M",89,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",90,0)
 ;
"RTN","EASEZP6M",91,0)
 W !,"2. MARKET VALUE OF LAND AND BUILDINGS MINUS MORTGAGE AND LIENS (e.g., second",?110,"| $ ",$P(@EASG@(G,9),U,3)
"RTN","EASEZP6M",92,0)
 W !,"homes and non-income-producing property.  Do not count your primary home.)  -- ",$P(@EASG@(G,9),U),?110,"|"
"RTN","EASEZP6M",93,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",94,0)
 ;
"RTN","EASEZP6M",95,0)
 W !,"3. VALUE OF OTHER PROPERTY OR ASSETS (e.g., art, rare coins, collectibles) MINUS",?110,"| $ ",$P(@EASG@(G,9),U,4)
"RTN","EASEZP6M",96,0)
 W !,"THE AMOUNT YOU OWE ON THESE ITEMS.  Exclude household effects and family vehicles.  -- ",$P(@EASG@(G,9),U),?110,"|"
"RTN","EASEZP6M",97,0)
 W ?131,$C(13) W:EALNE("ULC")="-" ! W EALNE("UL")
"RTN","EASEZP6M",98,0)
 Q
"RTN","EASEZP6U")
0^15^B41294227
"RTN","EASEZP6U",1,0)
EASEZP6U ; ALB/AMA - Format VA10-10EZ, Version 6 or greater, print output utility ; 10/23/00
"RTN","EASEZP6U",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZP6U",3,0)
 ;
"RTN","EASEZP6U",4,0)
 Q
"RTN","EASEZP6U",5,0)
 ;Parts of this routine were copied from EASEZPU (the other parts are
"RTN","EASEZP6U",6,0)
 ;in EASEZPU2); if the version # of the 1010EZ application is 6.0 or
"RTN","EASEZP6U",7,0)
 ;greater, then this routine will be executed.
"RTN","EASEZP6U",8,0)
 ;
"RTN","EASEZP6U",9,0)
PAGE1 ;This function retrieves and formats the page 1 application data from
"RTN","EASEZP6U",10,0)
 ;the 1010EZ Holding File, #712, for the printed version of the VistA
"RTN","EASEZP6U",11,0)
 ;10-10EZ form.  If the holding file entry has not been accepted, and
"RTN","EASEZP6U",12,0)
 ;a vista entry is available, the vista entry is printed.
"RTN","EASEZP6U",13,0)
 ;   Called from EN^EASEZP6F
"RTN","EASEZP6U",14,0)
 ;
"RTN","EASEZP6U",15,0)
 ;The ^TMP("EZTEMP") global is built in SETUP^EASEZP6F and
"RTN","EASEZP6U",16,0)
 ;remains until the printed form is complete.
"RTN","EASEZP6U",17,0)
 ; Variables
"RTN","EASEZP6U",18,0)
 ;   ZDATA   - references TMP global for output data
"RTN","EASEZP6U",19,0)
 ;   EZDATA  - references available data from 1010EZ holding file
"RTN","EASEZP6U",20,0)
 ;   EAX     - Temporary data variable
"RTN","EASEZP6U",21,0)
 ;   EASTR   - Temporary String data variable
"RTN","EASEZP6U",22,0)
 ;
"RTN","EASEZP6U",23,0)
 N ZDATA,EZDATA,EAX,EASTR,X,EAST
"RTN","EASEZP6U",24,0)
 ;
"RTN","EASEZP6U",25,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"I",1))
"RTN","EASEZP6U",26,0)
 S ZDATA=$NA(^TMP("EASEZ",$J,1))
"RTN","EASEZP6U",27,0)
 K @ZDATA
"RTN","EASEZP6U",28,0)
 ;
"RTN","EASEZP6U",29,0)
 S EASTR="" F EAX="1A.1","1A.2","1A.3","1A.4","1A.5" D
"RTN","EASEZP6U",30,0)
 . I $$PROCESS(EAX)="YES" S EASTR=EASTR_$$BENEFIT(EAX)_", "
"RTN","EASEZP6U",31,0)
 S @ZDATA@("1A")=$E(EASTR,1,($L(EASTR)-2))   ;remove last comma & space
"RTN","EASEZP6U",32,0)
 ;
"RTN","EASEZP6U",33,0)
 S @ZDATA@("1B")=$$PROCESS("1B.")
"RTN","EASEZP6U",34,0)
 S @ZDATA@(2)=$$PROCESS(2.1)
"RTN","EASEZP6U",35,0)
 S @ZDATA@(3)=$E($$PROCESS("3."),1,35)
"RTN","EASEZP6U",36,0)
 S @ZDATA@("3A")=$E($$PROCESS("3A."),1,35)
"RTN","EASEZP6U",37,0)
 S @ZDATA@(4)=$$PROCESS("4.")
"RTN","EASEZP6U",38,0)
 ;
"RTN","EASEZP6U",39,0)
 S X=$$PROCESS("4A.")
"RTN","EASEZP6U",40,0)
 S @ZDATA@("4A")=$S($E(X)="Y"!($E(X,1,3)="YES"):"YES",$E(X)="N"!($E(X,1,3)="NO"):"NO",$E(X,1,7)="UNKNOWN":"UNKNOWN",1:"")
"RTN","EASEZP6U",41,0)
 ;
"RTN","EASEZP6U",42,0)
 F EAX="4B","4C","4D","4E","4F","4G" D
"RTN","EASEZP6U",43,0)
 . I $E($$PROCESS(EAX_"."),1,3)="YES" S @ZDATA@(EAX)=" X "
"RTN","EASEZP6U",44,0)
 . E  S @ZDATA@(EAX)="___"
"RTN","EASEZP6U",45,0)
 ;
"RTN","EASEZP6U",46,0)
 S @ZDATA@(5)=$$PROCESS("5.")
"RTN","EASEZP6U",47,0)
 S @ZDATA@(6)=$$PROCESS("6.")
"RTN","EASEZP6U",48,0)
 S @ZDATA@(7)=$$PROCESS("7.")
"RTN","EASEZP6U",49,0)
 S @ZDATA@(8)=$$PROCESS("8.")
"RTN","EASEZP6U",50,0)
 S @ZDATA@("8A")=$$PROCESS("8A.")_", "_$$PROCESS("8B.")
"RTN","EASEZP6U",51,0)
 S @ZDATA@("9A")=$E($$PROCESS("9A."),1,35)
"RTN","EASEZP6U",52,0)
 S @ZDATA@("9B")=$E($$PROCESS("9B."),1,32)
"RTN","EASEZP6U",53,0)
 S @ZDATA@("9C")=$$PROCESS("9C.")
"RTN","EASEZP6U",54,0)
 S @ZDATA@("9D")=$$PROCESS("9D.")
"RTN","EASEZP6U",55,0)
 S @ZDATA@("9E")=$$PROCESS("9E.")
"RTN","EASEZP6U",56,0)
 S @ZDATA@(10)=$$PROCESS("10.1")
"RTN","EASEZP6U",57,0)
 S @ZDATA@(11)=$$PROCESS("11.1")
"RTN","EASEZP6U",58,0)
 S @ZDATA@("11A")=$$PROCESS("11A.")
"RTN","EASEZP6U",59,0)
 S @ZDATA@("11B")=$$PROCESS("11B.")
"RTN","EASEZP6U",60,0)
 S @ZDATA@("11C")=$$PROCESS("11C.")
"RTN","EASEZP6U",61,0)
 S @ZDATA@("11D")=$$PROCESS("11D.")
"RTN","EASEZP6U",62,0)
 S @ZDATA@(12)=$$PROCESS("12.")
"RTN","EASEZP6U",63,0)
 S @ZDATA@("13A")=$$PROCESS("13A.")
"RTN","EASEZP6U",64,0)
 S @ZDATA@("13B")=$$PROCESS("13B.")
"RTN","EASEZP6U",65,0)
 S @ZDATA@("13C")=$$PROCESS("13C.")
"RTN","EASEZP6U",66,0)
 S @ZDATA@("13D")=$$PROCESS("13D.")
"RTN","EASEZP6U",67,0)
 S @ZDATA@("13E")=$$PROCESS("13E.")
"RTN","EASEZP6U",68,0)
 ;
"RTN","EASEZP6U",69,0)
 K EAX
"RTN","EASEZP6U",70,0)
 F EAX="14A1","14A2","14B","14B2","14D3","14D4","14E","14F","14G","14G1","14I","14J","14K","14L" D
"RTN","EASEZP6U",71,0)
 . S X=$$PROCESS(EAX_".")
"RTN","EASEZP6U",72,0)
 . S @ZDATA@(EAX)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZP6U",73,0)
 ;
"RTN","EASEZP6U",74,0)
 S @ZDATA@("14B1")=$$PROCESS("14B1.")
"RTN","EASEZP6U",75,0)
 S @ZDATA@("14K1")=$$PROCESS("14K1.")
"RTN","EASEZP6U",76,0)
 S @ZDATA@("14L1")=$$PROCESS("14L1.")
"RTN","EASEZP6U",77,0)
 S @ZDATA@("14M")=$$PROCESS("14M.")
"RTN","EASEZP6U",78,0)
 S @ZDATA@("14N")=$$PROCESS("14N.")
"RTN","EASEZP6U",79,0)
 S @ZDATA@("15A")=$$PROCESS("15A.1")_U_$$PROCESS("15A.2")
"RTN","EASEZP6U",80,0)
 ;
"RTN","EASEZP6U",81,0)
 K EAX
"RTN","EASEZP6U",82,0)
 S EAX=$E($$PROCESS("15B.1"),1,30)
"RTN","EASEZP6U",83,0)
 S EAST="",EAST=$E($$PROCESS("15B.3"),1,30)
"RTN","EASEZP6U",84,0)
 I EAST]"" S EAST=EAST_", "   ;if there's a street, add comma & space
"RTN","EASEZP6U",85,0)
 S EAX=EAX_U_$E($$PROCESS("15B.2"),1,30)_U_EAST_$$PROCESS("15B.4")_" "_$E($$PROCESS("15B.5"),1,10)_U_$$PROCESS("15B.6")
"RTN","EASEZP6U",86,0)
 S @ZDATA@("15B")=EAX
"RTN","EASEZP6U",87,0)
 ;
"RTN","EASEZP6U",88,0)
 S @ZDATA@("16A")=$$PROCESS("16A.1")_U_$$PROCESS("16A.2")
"RTN","EASEZP6U",89,0)
 ;
"RTN","EASEZP6U",90,0)
 K EAX
"RTN","EASEZP6U",91,0)
 S EAX=$E($$PROCESS("16B.1"),1,30)
"RTN","EASEZP6U",92,0)
 S EAST="",EAST=$E($$PROCESS("16B.3"),1,30)
"RTN","EASEZP6U",93,0)
 I EAST]"" S EAST=EAST_", "   ;if there's a street, add comma & space
"RTN","EASEZP6U",94,0)
 S EAX=EAX_U_$E($$PROCESS("16B.2"),1,30)_U_EAST_$$PROCESS("16B.4")_" "_$E($$PROCESS("16B.5"),1,10)_U_$$PROCESS("16B.6")
"RTN","EASEZP6U",95,0)
 S @ZDATA@("16B")=EAX
"RTN","EASEZP6U",96,0)
 ;
"RTN","EASEZP6U",97,0)
 S X=$$PROCESS("17.")
"RTN","EASEZP6U",98,0)
 S @ZDATA@(17)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZP6U",99,0)
 ;
"RTN","EASEZP6U",100,0)
 S @ZDATA@("17A")=$$PROCESS("17A.")
"RTN","EASEZP6U",101,0)
 S @ZDATA@("17B")=$E($$PROCESS("17B."),1,30)
"RTN","EASEZP6U",102,0)
 S @ZDATA@("17C")=$$PROCESS("17C.")
"RTN","EASEZP6U",103,0)
 S @ZDATA@("17D")=$$PROCESS("17D.")
"RTN","EASEZP6U",104,0)
 ;
"RTN","EASEZP6U",105,0)
 S EAST="",EAST=$$PROCESS("17F.")
"RTN","EASEZP6U",106,0)
 I EAST]"" S EAST=EAST_", "   ;if there's a street, add comma & space
"RTN","EASEZP6U",107,0)
 S @ZDATA@("17E")=$$PROCESS("17E.")_U_EAST_$$PROCESS("17G.")_" "_$$PROCESS("17H.")
"RTN","EASEZP6U",108,0)
 S @ZDATA@("17I")=$$PROCESS("17I.")
"RTN","EASEZP6U",109,0)
 ;
"RTN","EASEZP6U",110,0)
 S EAST="",EAST=$E($$PROCESS("19A.4"),1,30)
"RTN","EASEZP6U",111,0)
 I EAST]"" S EAST=EAST_", "   ;if there's a street, add comma & space
"RTN","EASEZP6U",112,0)
 S @ZDATA@("19A")=$$PROCESS("19A.1")_U_$E($$PROCESS("19A.3"),1,30)_U_EAST_$$PROCESS("19A.5")_" "_$E($$PROCESS("19A.6"),1,10)_"^"_$$PROCESS("19A.7")
"RTN","EASEZP6U",113,0)
 S @ZDATA@("19B")=$$PROCESS("19B.1")
"RTN","EASEZP6U",114,0)
 S @ZDATA@("19C")=$$PROCESS("19C.1")
"RTN","EASEZP6U",115,0)
 ;
"RTN","EASEZP6U",116,0)
 S EAST="",EAST=$E($$PROCESS("20A.4"),1,30)
"RTN","EASEZP6U",117,0)
 I EAST]"" S EAST=EAST_", "   ;if there's a street, add comma & space
"RTN","EASEZP6U",118,0)
 S @ZDATA@("20A")=$$PROCESS("20A.1")_U_$E($$PROCESS("20A.3"),1,30)_U_EAST_$$PROCESS("20A.5")_" "_$E($$PROCESS("20A.6"),1,10)_"^"_$$PROCESS("20A.7")
"RTN","EASEZP6U",119,0)
 S @ZDATA@("20B")=$$PROCESS("20B.1")
"RTN","EASEZP6U",120,0)
 S @ZDATA@("20C")=$$PROCESS("20C.1")
"RTN","EASEZP6U",121,0)
 ;
"RTN","EASEZP6U",122,0)
 S @ZDATA@("21")=$$PROCESS("21.")
"RTN","EASEZP6U",123,0)
 S X=$$PROCESS("22A.")
"RTN","EASEZP6U",124,0)
 S @ZDATA@("22A")=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",(X="UNKNOWN"):"UNK",1:"")
"RTN","EASEZP6U",125,0)
 ;
"RTN","EASEZP6U",126,0)
 S X=$$PROCESS("22B.")
"RTN","EASEZP6U",127,0)
 S @ZDATA@("22B")=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",(X="UNKNOWN"):"UNK",1:"")
"RTN","EASEZP6U",128,0)
 Q
"RTN","EASEZP6U",129,0)
 ;
"RTN","EASEZP6U",130,0)
PAGEI(EAINS) ;  Additional Insurance pages
"RTN","EASEZP6U",131,0)
 ; Called from EN^EASEZP6F
"RTN","EASEZP6U",132,0)
 N ZDATA,EZDATA,EAST
"RTN","EASEZP6U",133,0)
 ;
"RTN","EASEZP6U",134,0)
 S ZDATA=$NA(^TMP("EASEZ",$J,"I",EAINS))
"RTN","EASEZP6U",135,0)
 K @ZDATA
"RTN","EASEZP6U",136,0)
 ;
"RTN","EASEZP6U",137,0)
 ; Process Section IA
"RTN","EASEZP6U",138,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IA",EAINS))
"RTN","EASEZP6U",139,0)
 ;
"RTN","EASEZP6U",140,0)
 S @ZDATA@("17A")=$$PROCESS("17A.")
"RTN","EASEZP6U",141,0)
 S @ZDATA@("17B")=$E($$PROCESS("17B."),1,30)
"RTN","EASEZP6U",142,0)
 S @ZDATA@("17C")=$$PROCESS("17C.")
"RTN","EASEZP6U",143,0)
 S @ZDATA@("17D")=$$PROCESS("17D.")
"RTN","EASEZP6U",144,0)
 S EAST="",EAST=$$PROCESS("17F.")
"RTN","EASEZP6U",145,0)
 I EAST]"" S EAST=EAST_", "   ;if there's a street, add comma & space
"RTN","EASEZP6U",146,0)
 S @ZDATA@("17E")=$$PROCESS("17E.")_U_EAST_$$PROCESS("17G.")_" "_$$PROCESS("17H.")
"RTN","EASEZP6U",147,0)
 S @ZDATA@("17I")=$$PROCESS("17I.")
"RTN","EASEZP6U",148,0)
 ;
"RTN","EASEZP6U",149,0)
 Q
"RTN","EASEZP6U",150,0)
 ;
"RTN","EASEZP6U",151,0)
PAGEN(EADEP) ;  Additional dependent page(s)
"RTN","EASEZP6U",152,0)
 ; Called from EN^EASEZP6F
"RTN","EASEZP6U",153,0)
 N ZDATA,EZDATA,X
"RTN","EASEZP6U",154,0)
 ;
"RTN","EASEZP6U",155,0)
 S ZDATA=$NA(^TMP("EASEZ",$J,"D",EADEP))
"RTN","EASEZP6U",156,0)
 K @ZDATA
"RTN","EASEZP6U",157,0)
 ;
"RTN","EASEZP6U",158,0)
 ; Process Section IIB
"RTN","EASEZP6U",159,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IIB",EADEP))
"RTN","EASEZP6U",160,0)
 ;
"RTN","EASEZP6U",161,0)
 S @ZDATA@(2)=$$PROCESS(1.1)
"RTN","EASEZP6U",162,0)
 S @ZDATA@(5)=$$PROCESS("3.")
"RTN","EASEZP6U",163,0)
 S @ZDATA@(7)=$$PROCESS("2.")
"RTN","EASEZP6U",164,0)
 S @ZDATA@(9)=$$PROCESS("4.")
"RTN","EASEZP6U",165,0)
 S @ZDATA@(11)=$$PROCESS("5.")
"RTN","EASEZP6U",166,0)
 S X=$$PROCESS("6."),@ZDATA@(12)=U_$J(X,0,2)
"RTN","EASEZP6U",167,0)
 S X=$$PROCESS("7."),@ZDATA@(13)=$J(X,0,2)
"RTN","EASEZP6U",168,0)
 ;
"RTN","EASEZP6U",169,0)
 S X=$$PROCESS("8.")
"RTN","EASEZP6U",170,0)
 S @ZDATA@(14)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZP6U",171,0)
 S X=$$PROCESS("9.")
"RTN","EASEZP6U",172,0)
 S @ZDATA@(15)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZP6U",173,0)
 ;
"RTN","EASEZP6U",174,0)
 Q
"RTN","EASEZP6U",175,0)
 ;
"RTN","EASEZP6U",176,0)
PROCESS(KEY) ; Process data value from EZTEMP array, take #712 value
"RTN","EASEZP6U",177,0)
 ; if it's accepted, otherwise take the Patient File value
"RTN","EASEZP6U",178,0)
 ;
"RTN","EASEZP6U",179,0)
 N EAV,RSLT
"RTN","EASEZP6U",180,0)
 ;
"RTN","EASEZP6U",181,0)
 I '$D(@EZDATA@(KEY)) G PQ
"RTN","EASEZP6U",182,0)
 S EAV=@EZDATA@(KEY)
"RTN","EASEZP6U",183,0)
 S RSLT=$S(+$P(EAV,U,3):$P(EAV,U,2),1:$P(EAV,U,5))
"RTN","EASEZP6U",184,0)
PQ Q $G(RSLT)
"RTN","EASEZP6U",185,0)
 ;
"RTN","EASEZP6U",186,0)
BENEFIT(X) ; Return External format of benefit applied
"RTN","EASEZP6U",187,0)
 ; for for printing on the VA 1010EZ form.
"RTN","EASEZP6U",188,0)
 ;
"RTN","EASEZP6U",189,0)
 Q $S(X="1A.1":"HEALTH SERVICES",X="1A.2":"NURSING HOME",X="1A.3":"DOMICILIARY",X="1A.4":"DENTAL",X="1A.5":"ENROLLMENT",1:"")
"RTN","EASEZPF")
0^7^B22616026
"RTN","EASEZPF",1,0)
EASEZPF ;ALB/SCK - Print 1010EZ Enrollment form ; 10/19/2000
"RTN","EASEZPF",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**44,51**;Mar 15, 2001
"RTN","EASEZPF",3,0)
 ;
"RTN","EASEZPF",4,0)
 ; These routines print a version of the OMB approved VA10-10EZ form.
"RTN","EASEZPF",5,0)
 ; No local modifications to these routines will be made.  Any changes
"RTN","EASEZPF",6,0)
 ; will be provided through the National Patch Module  release process.
"RTN","EASEZPF",7,0)
 ;
"RTN","EASEZPF",8,0)
QUE(EASAPP,EASDFN) ; Queue the 1010EZ print
"RTN","EASEZPF",9,0)
 ;  Input
"RTN","EASEZPF",10,0)
 ;      EASAPP - Internal entry number in the 1010EZ HOLDING File, #712
"RTN","EASEZPF",11,0)
 ;      EASDFN - [Optionla] Patient DFN
"RTN","EASEZPF",12,0)
 ;
"RTN","EASEZPF",13,0)
 ;  Output
"RTN","EASEZPF",14,0)
 ;      ZTSK   - Task Number returned from call to Task Manager
"RTN","EASEZPF",15,0)
 ;
"RTN","EASEZPF",16,0)
 ;  
"RTN","EASEZPF",17,0)
 N ZTDESC,ZTIO,ZTRTN,ZTSAVE,ZTSK,ZUSR,POP,X,ERR
"RTN","EASEZPF",18,0)
 ;
"RTN","EASEZPF",19,0)
 ; Check for conditions to print form.  If conditions not met, quit
"RTN","EASEZPF",20,0)
 G:$$CHECKS(EASAPP) EXIT
"RTN","EASEZPF",21,0)
 ;
"RTN","EASEZPF",22,0)
 W !!?5,*7,"Do not select a slave device for output."
"RTN","EASEZPF",23,0)
 W !?5,"This output requires a 132 column output printer."
"RTN","EASEZPF",24,0)
 W !?5,"Output to SCREEN will be unreadable.",!
"RTN","EASEZPF",25,0)
 ;
"RTN","EASEZPF",26,0)
 S EASAPP=$G(EASAPP),EASDFN=$G(EASDFN)
"RTN","EASEZPF",27,0)
 ;
"RTN","EASEZPF",28,0)
 S %ZIS="Q",%ZIS("S")="I $P($G(^(1)),U)'[""SLAVE""&($P($G(^(0)),U)'[""SLAVE"")"
"RTN","EASEZPF",29,0)
 D ^%ZIS
"RTN","EASEZPF",30,0)
 ;
"RTN","EASEZPF",31,0)
 G:POP EXIT
"RTN","EASEZPF",32,0)
 S ZUSR=DUZ,ZTRTN="EN^EASEZPF",ZTDESC="1010EZ PRINT"
"RTN","EASEZPF",33,0)
 ;EAS*1*51 -- if version # 6 or greater, use new print format
"RTN","EASEZPF",34,0)
 I '$G(EASVRSN) S EASVRSN=$$VERSION^EASEZU4(EASAPP)
"RTN","EASEZPF",35,0)
 I '(EASVRSN<6) S ZTRTN="EN^EASEZP6F"
"RTN","EASEZPF",36,0)
 ;
"RTN","EASEZPF",37,0)
 F X="ZUSR","EASAPP","EASDFN" S ZTSAVE(X)=""
"RTN","EASEZPF",38,0)
 D ^%ZTLOAD
"RTN","EASEZPF",39,0)
 D HOME^%ZIS
"RTN","EASEZPF",40,0)
 ;
"RTN","EASEZPF",41,0)
EXIT Q +$G(ZTSK)
"RTN","EASEZPF",42,0)
 ;
"RTN","EASEZPF",43,0)
CHECKS(EASAPP) ; Check for quit conditions
"RTN","EASEZPF",44,0)
 ;
"RTN","EASEZPF",45,0)
 Q 0
"RTN","EASEZPF",46,0)
 N RSLT
"RTN","EASEZPF",47,0)
 ;
"RTN","EASEZPF",48,0)
 S X=$$GET1^DIQ(712,EASAPP_",",3.4,"I") D
"RTN","EASEZPF",49,0)
 . I +X'>0 S ERR(3.4)="The applicant has not been linked to the PATIENT File, #2"
"RTN","EASEZPF",50,0)
 ;
"RTN","EASEZPF",51,0)
 S X=$$GET1^DIQ(712,EASAPP_",",5.1,"I") D
"RTN","EASEZPF",52,0)
 . I +X'>0 S ERR(5.1)="This application has not been reviewed"
"RTN","EASEZPF",53,0)
 ;
"RTN","EASEZPF",54,0)
 S X=$$GET1^DIQ(712,EASAPP_",",9.1,"I") D
"RTN","EASEZPF",55,0)
 . I X>0 S ERR(9.1)="This application has already been closed, thE VA10-10EZ cannot be printed"
"RTN","EASEZPF",56,0)
 ;
"RTN","EASEZPF",57,0)
 I $D(ERR)>0 D
"RTN","EASEZPF",58,0)
 . W !!?3,*7,"The VA10-10EZ for "
"RTN","EASEZPF",59,0)
 . W $$GET1^DIQ(712,EASAPP_",",1),", ",$$GET1^DIQ(712,EASAPP_",",2),", "
"RTN","EASEZPF",60,0)
 . W !?3,"WEB submission ID: ",$$GET1^DIQ(712,EASAPP_",",.1)
"RTN","EASEZPF",61,0)
 . W !?3,"could not be printed for the following reason(s): "
"RTN","EASEZPF",62,0)
 . S X=0
"RTN","EASEZPF",63,0)
 . F  S X=$O(ERR(X)) Q:'X  D
"RTN","EASEZPF",64,0)
 . . W !?5,">> ",ERR(X)
"RTN","EASEZPF",65,0)
 . S RSLT=1
"RTN","EASEZPF",66,0)
 ;
"RTN","EASEZPF",67,0)
 Q $G(RSLT)
"RTN","EASEZPF",68,0)
 ;
"RTN","EASEZPF",69,0)
EN ; Entry point to print 1010EZ
"RTN","EASEZPF",70,0)
 N EALNE,EAINFO,EAABRT,EAADL,ERR
"RTN","EASEZPF",71,0)
 ;
"RTN","EASEZPF",72,0)
 D SETUP(.EALNE,.EAINFO,EASAPP,EASDFN)
"RTN","EASEZPF",73,0)
 ;
"RTN","EASEZPF",74,0)
 D PAGE1^EASEZPU
"RTN","EASEZPF",75,0)
 D EN^EASEZPF1(.EALNE,.EAINFO)
"RTN","EASEZPF",76,0)
 ;
"RTN","EASEZPF",77,0)
 D PAGE2^EASEZPU
"RTN","EASEZPF",78,0)
 D EN^EASEZPF2(.EALNE,.EAINFO)
"RTN","EASEZPF",79,0)
 ;
"RTN","EASEZPF",80,0)
 D EN^EASEZPF3(.EALNE,.EAINFO)
"RTN","EASEZPF",81,0)
 ;
"RTN","EASEZPF",82,0)
 ; Print additional second pages if more than 1 dependent.
"RTN","EASEZPF",83,0)
 F EAADL=1:1 D  Q:$G(EAABRT)
"RTN","EASEZPF",84,0)
 . I '$D(^TMP("EZTEMP",$J,"IIB",EAADL)) S EAABRT=1 Q
"RTN","EASEZPF",85,0)
 . D PAGEN^EASEZPU(EAADL)
"RTN","EASEZPF",86,0)
 . D EN^EASEZPF2(.EALNE,.EAINFO)
"RTN","EASEZPF",87,0)
 ;
"RTN","EASEZPF",88,0)
ENQUIT ; Cleanup temp globals after printing is complete
"RTN","EASEZPF",89,0)
 K ^TMP("EASEZ",$J)
"RTN","EASEZPF",90,0)
 K ^TMP("EZDATA",$J)
"RTN","EASEZPF",91,0)
 K ^TMP("EZINDEX",$J)
"RTN","EASEZPF",92,0)
 K ^TMP("EZTEMP",$J)
"RTN","EASEZPF",93,0)
 K ^TMP("EZDISP",$J)
"RTN","EASEZPF",94,0)
 Q
"RTN","EASEZPF",95,0)
 ;
"RTN","EASEZPF",96,0)
SETUP(EALNE,EAINFO,EASAPP,EASDFN) ; Set-up print variables
"RTN","EASEZPF",97,0)
 ; Input
"RTN","EASEZPF",98,0)
 ;   EALNE   - Line format array
"RTN","EASEZPF",99,0)
 ;   EAINFO  - Misc Data
"RTN","EASEZPF",100,0)
 ;      ("CLRK") - Clerk's intials
"RTN","EASEZPF",101,0)
 ;      ("ID")   - Web ID from #712
"RTN","EASEZPF",102,0)
 ;      ("PGE")  - Page number
"RTN","EASEZPF",103,0)
 ;      ("VET" ) - Veteran's name submitting the application
"RTN","EASEZPF",104,0)
 ;      ("SSN")  - Veteran's SSN
"RTN","EASEZPF",105,0)
 ;      ("DISC") - Financial Disclosure status
"RTN","EASEZPF",106,0)
 ;   EASAPP  - IEN of applicant on the 1010EZ HOLDING File, #712
"RTN","EASEZPF",107,0)
 ;   EASDFN  - DFN of applicant in the PATIENT File, #2
"RTN","EASEZPF",108,0)
 ;
"RTN","EASEZPF",109,0)
 N X
"RTN","EASEZPF",110,0)
 ;
"RTN","EASEZPF",111,0)
 ; Build Line array for printout
"RTN","EASEZPF",112,0)
 S EALNE("ULC")=$S('($D(IOST)#2):"-",IOST["C-":"-",1:"_")
"RTN","EASEZPF",113,0)
 S EALNE("D")="",EALNE("DD")="",EALNE("UL")=""
"RTN","EASEZPF",114,0)
 S $P(EALNE("D"),"-",131)="",$P(EALNE("DD"),"=",131)="",$P(EALNE("UL"),EALNE("ULC"),131)=""
"RTN","EASEZPF",115,0)
 ;
"RTN","EASEZPF",116,0)
 ; Setup information array
"RTN","EASEZPF",117,0)
 ; Get clerk's initals
"RTN","EASEZPF",118,0)
 S ZUSR=$G(ZUSR)
"RTN","EASEZPF",119,0)
 I +ZUSR>0 D
"RTN","EASEZPF",120,0)
 . S EAINFO("CLRK")=$$GET1^DIQ(200,ZUSR,1)
"RTN","EASEZPF",121,0)
 . I EAINFO("CLRK")']"" D
"RTN","EASEZPF",122,0)
 . . S X=$$GET1^DIQ(200,ZUSR,.01)
"RTN","EASEZPF",123,0)
 . . S EAINFO("CLRK")=$E($P(X,",",2),1)_$E($P(X,","),1)
"RTN","EASEZPF",124,0)
 E  D
"RTN","EASEZPF",125,0)
 . S EAINFO("CLRK")="unk"
"RTN","EASEZPF",126,0)
 ;
"RTN","EASEZPF",127,0)
 ; Set data elements
"RTN","EASEZPF",128,0)
 S EAINFO("PGE")=0
"RTN","EASEZPF",129,0)
 S EAINFO("ID")=$$GET1^DIQ(712,EASAPP_",",.1)
"RTN","EASEZPF",130,0)
 S EAINFO("PD")=$$FMTE^XLFDT($$NOW^XLFDT)
"RTN","EASEZPF",131,0)
 S EAINFO("DISC")=$$GET1^DIQ(712,EASAPP_",",3.8)
"RTN","EASEZPF",132,0)
 S EAINFO("EASAPP")=EASAPP
"RTN","EASEZPF",133,0)
 S EAINFO("VET")=$$GET1^DIQ(712,EASAPP_",",1)
"RTN","EASEZPF",134,0)
 S EAINFO("SSN")=$$GET1^DIQ(712,EASAPP_",",2)
"RTN","EASEZPF",135,0)
 ;
"RTN","EASEZPF",136,0)
 ; Retrieve applciation data from holding file, #712
"RTN","EASEZPF",137,0)
 D EN^EASEZC1(EASAPP)
"RTN","EASEZPF",138,0)
 D SORT^EASEZC3(EASAPP)
"RTN","EASEZPF",139,0)
SETQ Q
"RTN","EASEZPF",140,0)
 ;
"RTN","EASEZPF",141,0)
HDRMAIN(EALNE) ;
"RTN","EASEZPF",142,0)
 W @IOF
"RTN","EASEZPF",143,0)
 W ?75,"OMB APPROVED NO. 2900-0091 / Est. Burden Avg. 20 min.",!,EALNE("DD")
"RTN","EASEZPF",144,0)
 W !,"D E P A R T M E N T   O F   V E T E R A N S   A F F A I R S",?96,"APPLICATION FOR HEALTH BENEFITS",!,EALNE("DD")
"RTN","EASEZPF",145,0)
 W !?50,"SECTION I - GENERAL INFORMATION",!,EALNE("D")
"RTN","EASEZPF",146,0)
 Q
"RTN","EASEZPF",147,0)
 ;
"RTN","EASEZPF",148,0)
HDR(EALNE,EAINFO) ;
"RTN","EASEZPF",149,0)
 W @IOF
"RTN","EASEZPF",150,0)
 W !,"APPLICATION FOR HEALTH BENEFITS, Continued",?65,"| ",EAINFO("VET"),?100,"| ",EAINFO("SSN")
"RTN","EASEZPF",151,0)
 W !,EALNE("DD")
"RTN","EASEZPF",152,0)
 Q
"RTN","EASEZPF",153,0)
 ;
"RTN","EASEZPF",154,0)
FT(EALNE,EAINFO) ;
"RTN","EASEZPF",155,0)
 N %,Y
"RTN","EASEZPF",156,0)
 ;
"RTN","EASEZPF",157,0)
 W !,EALNE("DD")
"RTN","EASEZPF",158,0)
 W !,"AUTOMATED VA FORM 10-10EZ APR 1998",?40,"PRINTED: ",EAINFO("PD")
"RTN","EASEZPF",159,0)
 W ?80,"Clerk: ",EAINFO("CLRK"),"/",EAINFO("ID")
"RTN","EASEZPF",160,0)
 W ?120,"Page " S EAINFO("PGE")=EAINFO("PGE")+1 W EAINFO("PGE")
"RTN","EASEZPF",161,0)
 Q
"RTN","EASEZPU2")
0^23^B19296333
"RTN","EASEZPU2",1,0)
EASEZPU2 ; ALB/AMA - Format VA10-10EZ, Version 6 or greater, print output utility ; 10/23/00
"RTN","EASEZPU2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZPU2",3,0)
 ;
"RTN","EASEZPU2",4,0)
 Q
"RTN","EASEZPU2",5,0)
 ;Parts of this routine were copied from EASEZPU (this is the second
"RTN","EASEZPU2",6,0)
 ;part of EASEZP6U); if the version # of the 1010EZ application is
"RTN","EASEZPU2",7,0)
 ;6.0 or greater, then this routine will be executed.
"RTN","EASEZPU2",8,0)
 ;
"RTN","EASEZPU2",9,0)
PAGE2 ;  Retrieve page 2 data and format for output on 10-10EZ form
"RTN","EASEZPU2",10,0)
 ;     Called from EN^EASEZP6F
"RTN","EASEZPU2",11,0)
 ;
"RTN","EASEZPU2",12,0)
 ; Variables
"RTN","EASEZPU2",13,0)
 ;   ZDATA, EZDATA, EAX - See above
"RTN","EASEZPU2",14,0)
 ;   EAV, EAS, EAC, X12A, X12B  - temporary storage variables
"RTN","EASEZPU2",15,0)
 ;
"RTN","EASEZPU2",16,0)
 N ZDATA,EZDATA,X12A,X12B,X,EAV,EAS,EAC,EAST
"RTN","EASEZPU2",17,0)
 ;
"RTN","EASEZPU2",18,0)
 S ZDATA=$NA(^TMP("EASEZ",$J,2))
"RTN","EASEZPU2",19,0)
 K @ZDATA
"RTN","EASEZPU2",20,0)
 ;
"RTN","EASEZPU2",21,0)
 ; Process Section IIA
"RTN","EASEZPU2",22,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IIA",1))
"RTN","EASEZPU2",23,0)
 ;
"RTN","EASEZPU2",24,0)
 S @ZDATA@(1)=$$PROCESS(1.1)_U_$$PROCESS(1.5)
"RTN","EASEZPU2",25,0)
 S @ZDATA@(2)=$$PROCESS(2.1)
"RTN","EASEZPU2",26,0)
 S @ZDATA@(3)=$$PROCESS("3.")
"RTN","EASEZPU2",27,0)
 S @ZDATA@(4)=$$PROCESS("4.")
"RTN","EASEZPU2",28,0)
 S @ZDATA@(5)=$$PROCESS("5.")
"RTN","EASEZPU2",29,0)
 S EAST="",EAST=$$PROCESS(6.2)
"RTN","EASEZPU2",30,0)
 I EAST]"" S EAST=EAST_", "   ;if there's a street, add comma & space
"RTN","EASEZPU2",31,0)
 S @ZDATA@(6)=$$PROCESS(6.1)_U_EAST_$$PROCESS(6.3)_" "_$$PROCESS(6.4)
"RTN","EASEZPU2",32,0)
 ;
"RTN","EASEZPU2",33,0)
 S @ZDATA@(7)=$$PROCESS("7.")
"RTN","EASEZPU2",34,0)
 S @ZDATA@(8)=$$PROCESS(8.1)
"RTN","EASEZPU2",35,0)
 S @ZDATA@(9)=$$PROCESS("9.")
"RTN","EASEZPU2",36,0)
 S @ZDATA@(10)=$$PROCESS("10.")
"RTN","EASEZPU2",37,0)
 S @ZDATA@(11)=$$PROCESS("11.")
"RTN","EASEZPU2",38,0)
 ;
"RTN","EASEZPU2",39,0)
 S X12A=$$PROCESS(12.1)
"RTN","EASEZPU2",40,0)
 S X12B=$$PROCESS(12.2)
"RTN","EASEZPU2",41,0)
 S @ZDATA@(12)=$J(X12A,0,2)_U_$J(X12B,0,2)
"RTN","EASEZPU2",42,0)
 ;
"RTN","EASEZPU2",43,0)
 S @ZDATA@(13)=$$PROCESS("13.")
"RTN","EASEZPU2",44,0)
 S @ZDATA@(13)=$J(@ZDATA@(13),0,2)
"RTN","EASEZPU2",45,0)
 ;
"RTN","EASEZPU2",46,0)
 S X=$$PROCESS("14.")
"RTN","EASEZPU2",47,0)
 S @ZDATA@(14)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU2",48,0)
 S X=$$PROCESS("15.")
"RTN","EASEZPU2",49,0)
 S @ZDATA@(15)=$S(X="Y"!(X="YES"):"YES",X="N"!(X="NO"):"NO",X="UNKNOWN":"UNK",1:"")
"RTN","EASEZPU2",50,0)
 ;
"RTN","EASEZPU2",51,0)
 ; Process Section IIC
"RTN","EASEZPU2",52,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IIC",1))
"RTN","EASEZPU2",53,0)
 ;
"RTN","EASEZPU2",54,0)
 S EAV=$$PROCESS(1.4),EAS=$$PROCESS(1.5)
"RTN","EASEZPU2",55,0)
 S @ZDATA@("2C1")=$J(EAV,0,2)_U_$J(EAS,0,2)
"RTN","EASEZPU2",56,0)
 ;
"RTN","EASEZPU2",57,0)
 K EAV,EAS,EAC
"RTN","EASEZPU2",58,0)
 S EAV=$$PROCESS(2.1),EAS=$$PROCESS(2.2)
"RTN","EASEZPU2",59,0)
 S @ZDATA@("2C2")=$J(EAV,0,2)_U_$J(EAS,0,2)
"RTN","EASEZPU2",60,0)
 ;
"RTN","EASEZPU2",61,0)
 K EAV,EAS,EAC
"RTN","EASEZPU2",62,0)
 S EAV=$$PROCESS(3.1),EAS=$$PROCESS(3.2)
"RTN","EASEZPU2",63,0)
 S @ZDATA@("2C3")=$J(EAV,0,2)_U_$J(EAS,0,2)
"RTN","EASEZPU2",64,0)
 ;
"RTN","EASEZPU2",65,0)
 ;Since Child amounts in Section IIC are for ALL dependents,
"RTN","EASEZPU2",66,0)
 ;get just Child 1 amounts from Section IIF
"RTN","EASEZPU2",67,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IIF",1))
"RTN","EASEZPU2",68,0)
 S EAC=$$PROCESS(7.1)
"RTN","EASEZPU2",69,0)
 S @ZDATA@("2C1")=@ZDATA@("2C1")_U_$J(EAC,0,2)
"RTN","EASEZPU2",70,0)
 S EAC=$$PROCESS(7.2)
"RTN","EASEZPU2",71,0)
 S @ZDATA@("2C3")=@ZDATA@("2C3")_U_$J(EAC,0,2)
"RTN","EASEZPU2",72,0)
 S EAC=$$PROCESS(7.3)
"RTN","EASEZPU2",73,0)
 S @ZDATA@("2C2")=@ZDATA@("2C2")_U_$J(EAC,0,2)
"RTN","EASEZPU2",74,0)
 ;
"RTN","EASEZPU2",75,0)
 ; Process Section IID
"RTN","EASEZPU2",76,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IID",1))
"RTN","EASEZPU2",77,0)
 ;
"RTN","EASEZPU2",78,0)
 S X=$$PROCESS("1."),@ZDATA@("2D1")=$J(X,0,2)
"RTN","EASEZPU2",79,0)
 S X=$$PROCESS("2."),@ZDATA@("2D2")=$J(X,0,2)
"RTN","EASEZPU2",80,0)
 S X=$$PROCESS("3."),@ZDATA@("2D3")=$J(X,0,2)
"RTN","EASEZPU2",81,0)
 ;
"RTN","EASEZPU2",82,0)
 ; Process Section IIE
"RTN","EASEZPU2",83,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IIE",1))
"RTN","EASEZPU2",84,0)
 ;
"RTN","EASEZPU2",85,0)
 K EAV,EAS
"RTN","EASEZPU2",86,0)
 S EAV=$$PROCESS("1."),EAS=$$PROCESS(1.2)
"RTN","EASEZPU2",87,0)
 S @ZDATA@("2E1")=$J(EAV,0,2)_U_$J(EAS,0,2)
"RTN","EASEZPU2",88,0)
 ;
"RTN","EASEZPU2",89,0)
 K EAV,EAS
"RTN","EASEZPU2",90,0)
 S EAV=$$PROCESS("2."),EAS=$$PROCESS(2.2)
"RTN","EASEZPU2",91,0)
 S @ZDATA@("2E2")=$J(EAV,0,2)_U_$J(EAS,0,2)
"RTN","EASEZPU2",92,0)
 ;
"RTN","EASEZPU2",93,0)
 K EAV,EAS
"RTN","EASEZPU2",94,0)
 S EAV=$$PROCESS("3."),EAS=$$PROCESS(3.2)
"RTN","EASEZPU2",95,0)
 S @ZDATA@("2E3")=$J(EAV,0,2)_U_$J(EAS,0,2)
"RTN","EASEZPU2",96,0)
 ;
"RTN","EASEZPU2",97,0)
 ;Since Child amounts in Section IIE are for ALL dependents,
"RTN","EASEZPU2",98,0)
 ;get just Child 1 amounts from Section IIG
"RTN","EASEZPU2",99,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IIG",1))
"RTN","EASEZPU2",100,0)
 S EAC=$$PROCESS(9.1)
"RTN","EASEZPU2",101,0)
 S @ZDATA@("2E1")=@ZDATA@("2E1")_U_$J(EAC,0,2)
"RTN","EASEZPU2",102,0)
 S EAC=$$PROCESS(9.2)
"RTN","EASEZPU2",103,0)
 S @ZDATA@("2E2")=@ZDATA@("2E2")_U_$J(EAC,0,2)
"RTN","EASEZPU2",104,0)
 S EAC=$$PROCESS(9.3)
"RTN","EASEZPU2",105,0)
 S @ZDATA@("2E3")=@ZDATA@("2E3")_U_$J(EAC,0,2)
"RTN","EASEZPU2",106,0)
 ;
"RTN","EASEZPU2",107,0)
 Q
"RTN","EASEZPU2",108,0)
 ;
"RTN","EASEZPU2",109,0)
PAGEDFF(EADEP) ;  Additional dependent financial page(s) for Section IIF
"RTN","EASEZPU2",110,0)
 ; Called from EN^EASEZP6F
"RTN","EASEZPU2",111,0)
 N ZDATA,EZDATA,EANAME,EAGROSS,EANET,EAOTHER
"RTN","EASEZPU2",112,0)
 ;
"RTN","EASEZPU2",113,0)
 S ZDATA=$NA(^TMP("EASEZ",$J,"DFF",EADEP))
"RTN","EASEZPU2",114,0)
 K @ZDATA
"RTN","EASEZPU2",115,0)
 ;
"RTN","EASEZPU2",116,0)
 ; Process Section IIF
"RTN","EASEZPU2",117,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IIF",EADEP))
"RTN","EASEZPU2",118,0)
 ;
"RTN","EASEZPU2",119,0)
 S EANAME=$$PROCESS("7.")
"RTN","EASEZPU2",120,0)
 S EAGROSS=$$PROCESS(7.1),EANET=$$PROCESS(7.2),EAOTHER=$$PROCESS(7.3)
"RTN","EASEZPU2",121,0)
 S @ZDATA@(7)=EANAME_U_$J(EAGROSS,0,2)_U_$J(EANET,0,2)_U_$J(EAOTHER,0,2)
"RTN","EASEZPU2",122,0)
 ;
"RTN","EASEZPU2",123,0)
 Q
"RTN","EASEZPU2",124,0)
 ;
"RTN","EASEZPU2",125,0)
PAGEDFG(EADEP)  ; Additional dependent financial page(s) for Section IIG
"RTN","EASEZPU2",126,0)
 ; Called from EN^EASEZP6F
"RTN","EASEZPU2",127,0)
 N ZDATA,EZDATA,EANAME,EACASH,EAREAL,EAOTHER
"RTN","EASEZPU2",128,0)
 ;
"RTN","EASEZPU2",129,0)
 S ZDATA=$NA(^TMP("EASEZ",$J,"DFG",EADEP))
"RTN","EASEZPU2",130,0)
 K @ZDATA
"RTN","EASEZPU2",131,0)
 ;
"RTN","EASEZPU2",132,0)
 ; Process Section IIG
"RTN","EASEZPU2",133,0)
 S EZDATA=$NA(^TMP("EZTEMP",$J,"IIG",EADEP))
"RTN","EASEZPU2",134,0)
 ;
"RTN","EASEZPU2",135,0)
 S EANAME=$$PROCESS("9.")
"RTN","EASEZPU2",136,0)
 S EACASH=$$PROCESS(9.1),EAREAL=$$PROCESS(9.2),EAOTHER=$$PROCESS(9.3)
"RTN","EASEZPU2",137,0)
 S @ZDATA@(9)=EANAME_U_$J(EACASH,0,2)_U_$J(EAREAL,0,2)_U_$J(EAOTHER,0,2)
"RTN","EASEZPU2",138,0)
 ;
"RTN","EASEZPU2",139,0)
 Q
"RTN","EASEZPU2",140,0)
 ;
"RTN","EASEZPU2",141,0)
PROCESS(KEY) ; Process data value from EZTEMP array, take #712 value
"RTN","EASEZPU2",142,0)
 ; if it's accepted, otherwise take the Patient File value
"RTN","EASEZPU2",143,0)
 ;
"RTN","EASEZPU2",144,0)
 N EAV,RSLT
"RTN","EASEZPU2",145,0)
 ;
"RTN","EASEZPU2",146,0)
 I '$D(@EZDATA@(KEY)) G PQ
"RTN","EASEZPU2",147,0)
 S EAV=@EZDATA@(KEY)
"RTN","EASEZPU2",148,0)
 S RSLT=$S(+$P(EAV,U,3):$P(EAV,U,2),1:$P(EAV,U,5))
"RTN","EASEZPU2",149,0)
PQ Q $G(RSLT)
"RTN","EASEZT1")
0^16^B15357517
"RTN","EASEZT1",1,0)
EASEZT1 ;ALB/jap - Data Transformation Logic for 1010EZ Processing ;10/12/00  13:08
"RTN","EASEZT1",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZT1",3,0)
 ;
"RTN","EASEZT1",4,0)
 ;
"RTN","EASEZT1",5,0)
NAME(EASAPP,TYPE,MULTIPLE) ;get full name for person of interest
"RTN","EASEZT1",6,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT1",7,0)
 ;         TYPE = "APPLICANT", "SPOUSE", "CHILD1", "CHILD(N)", "NEXT-OF-KIN", "E-CONTACT"
"RTN","EASEZT1",8,0)
 ;     MULTIPLE = default to 1, unless TYPE="CHILD(N)"
"RTN","EASEZT1",9,0)
 ;output  NAME   =  LAST,FIRST MIDDLE SUFFIX
"RTN","EASEZT1",10,0)
 ;
"RTN","EASEZT1",11,0)
 ;sets entire name in Vista format;
"RTN","EASEZT1",12,0)
 ;places result in the first data element associated with name;
"RTN","EASEZT1",13,0)
 ;nulls unneeded ^TMP("EZDATA" nodes to avoid use in SORT^EASEZC3
"RTN","EASEZT1",14,0)
 N RTR,KEY,NAME,LAST,FIRST,MDL,SUFF,T
"RTN","EASEZT1",15,0)
 S NAME=""
"RTN","EASEZT1",16,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" LAST NAME") I KEY D
"RTN","EASEZT1",17,0)
 .S LAST=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT1",18,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" FIRST NAME") I KEY D
"RTN","EASEZT1",19,0)
 .S FIRST=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT1",20,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT1",21,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" MIDDLE NAME") I KEY D
"RTN","EASEZT1",22,0)
 .S MDL=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT1",23,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT1",24,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" SUFFIX NAME") I KEY D
"RTN","EASEZT1",25,0)
 .S SUFF=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT1",26,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT1",27,0)
 I (LAST="")!(FIRST="") Q NAME
"RTN","EASEZT1",28,0)
 S NAME=LAST_","_FIRST
"RTN","EASEZT1",29,0)
 I $L(NAME)+$L(MDL)>45 S MDL=$E(MDL,1)
"RTN","EASEZT1",30,0)
 I MDL'="" S NAME=NAME_" "_MDL
"RTN","EASEZT1",31,0)
 I SUFF'="" S NAME=NAME_" "_SUFF
"RTN","EASEZT1",32,0)
 S NAME=$$UC^EASEZT1($E(NAME,1,45))
"RTN","EASEZT1",33,0)
 Q NAME
"RTN","EASEZT1",34,0)
 ;
"RTN","EASEZT1",35,0)
SSNOUT(EASSSN) ;format ssn for output to display or print
"RTN","EASEZT1",36,0)
 ; input  EASSSN = 9 digit OR 9-digit+P ssn
"RTN","EASEZT1",37,0)
 ; output    SSN = nnn-nn-nnnn OR nnn-nn-nnnnP
"RTN","EASEZT1",38,0)
 N SSN,P,X1,X2,X3
"RTN","EASEZT1",39,0)
 I EASSSN="--" Q ""
"RTN","EASEZT1",40,0)
 I $L(EASSSN)'=9 Q EASSSN
"RTN","EASEZT1",41,0)
 S X1=$E(EASSSN,1,3),X2=$E(EASSSN,4,5),X3=$E(EASSSN,6,9),P=$E(EASSSN,10)
"RTN","EASEZT1",42,0)
 S SSN=X1_"-"_X2_"-"_X3 I P="P" S SSN=SSN_P
"RTN","EASEZT1",43,0)
 Q SSN
"RTN","EASEZT1",44,0)
 ;
"RTN","EASEZT1",45,0)
UC(STRING) ;convert to uppercase
"RTN","EASEZT1",46,0)
 ;input  STRING = alpha character string; mixed-case
"RTN","EASEZT1",47,0)
 ;output      X = alpha character string; uppercase
"RTN","EASEZT1",48,0)
 ;
"RTN","EASEZT1",49,0)
 N %,X
"RTN","EASEZT1",50,0)
 S X=STRING
"RTN","EASEZT1",51,0)
 F %=1:1:$L(X) S:$E(X,%)?1L X=$E(X,0,%-1)_$C($A(X,%)-32)_$E(X,%+1,999)
"RTN","EASEZT1",52,0)
 Q X
"RTN","EASEZT1",53,0)
 ;
"RTN","EASEZT1",54,0)
XDATE(XDATE) ;check date
"RTN","EASEZT1",55,0)
 ;input  XDATE = external date mm/dd/yyyy where
"RTN","EASEZT1",56,0)
 ;               mm, dd, and /or yyyy may be null
"RTN","EASEZT1",57,0)
 ;output    XD = FM external date or null
"RTN","EASEZT1",58,0)
 ;
"RTN","EASEZT1",59,0)
 N X,XD,X1,X2,X3,Y,%DT
"RTN","EASEZT1",60,0)
 I XDATE="//" Q ""
"RTN","EASEZT1",61,0)
 S X1=$P(XDATE,"/",1),X2=$P(XDATE,"/",2),X3=$P(XDATE,"/",3)
"RTN","EASEZT1",62,0)
 ;remove invalid portions
"RTN","EASEZT1",63,0)
 I $L(X3)'=4 S X3=""
"RTN","EASEZT1",64,0)
 I X1="" S X2=""
"RTN","EASEZT1",65,0)
 I X3="" S X1="",X2=""
"RTN","EASEZT1",66,0)
 ;if no month, day, year, then null
"RTN","EASEZT1",67,0)
 I X1="",X2="",X3="" Q ""
"RTN","EASEZT1",68,0)
 S X="" S:X1 X=X_X1_" " S:X2 X=X_X2_" " S X=X_X3
"RTN","EASEZT1",69,0)
 ;convert to FM external format
"RTN","EASEZT1",70,0)
 S %DT="P" D ^%DT
"RTN","EASEZT1",71,0)
 D DD^%DT
"RTN","EASEZT1",72,0)
 S XD=Y
"RTN","EASEZT1",73,0)
 I XD=1699 S XD=""
"RTN","EASEZT1",74,0)
 Q XD
"RTN","EASEZT1",75,0)
 ;
"RTN","EASEZT1",76,0)
YN(XDATA) ;
"RTN","EASEZT1",77,0)
 N X
"RTN","EASEZT1",78,0)
 I $L(XDATA)>1 Q XDATA
"RTN","EASEZT1",79,0)
 S X=$S(XDATA="Y":"YES",XDATA="N":"NO",1:"")
"RTN","EASEZT1",80,0)
 Q X
"RTN","EASEZT1",81,0)
 ;
"RTN","EASEZT1",82,0)
SEX(XDATA) ;
"RTN","EASEZT1",83,0)
 N X
"RTN","EASEZT1",84,0)
 I $L(XDATA)>1 Q XDATA
"RTN","EASEZT1",85,0)
 S X=$S(XDATA="M":"MALE",XDATA="F":"FEMALE",1:"UNKNOWN")
"RTN","EASEZT1",86,0)
 Q X
"RTN","EASEZT1",87,0)
 ;
"RTN","EASEZT1",88,0)
STATE(XDATA) ;
"RTN","EASEZT1",89,0)
 N X,XI
"RTN","EASEZT1",90,0)
 I $L(XDATA)'=2 Q XDATA
"RTN","EASEZT1",91,0)
 I XDATA="AS" Q "AMERICAN SAMOA"
"RTN","EASEZT1",92,0)
 I XDATA="DC" Q "DISTRICT OF COLUMBIA"
"RTN","EASEZT1",93,0)
 I XDATA="FM" Q "FEDERATED STATES OF MICRONESIA"
"RTN","EASEZT1",94,0)
 I XDATA="GU" Q "GUAM"
"RTN","EASEZT1",95,0)
 I XDATA="MH" Q "MARSHALL ISLANDS"
"RTN","EASEZT1",96,0)
 I XDATA="MP" Q "NORTHERN MARIANA ISLANDS"
"RTN","EASEZT1",97,0)
 I XDATA="PW" Q "PALAU (TRUST TERRITORY)"
"RTN","EASEZT1",98,0)
 I XDATA="PR" Q "PUERTO RICO"
"RTN","EASEZT1",99,0)
 I XDATA="VI" Q "VIRGIN ISLANDS"
"RTN","EASEZT1",100,0)
 I XDATA="FG" Q "FOREIGN COUNTRY"
"RTN","EASEZT1",101,0)
 S XI=$O(^DIC(5,"C",XDATA,0)) I 'XI Q XDATA
"RTN","EASEZT1",102,0)
 S X=$P($G(^DIC(5,XI,0)),U,1)
"RTN","EASEZT1",103,0)
 Q X
"RTN","EASEZT1",104,0)
 ;
"RTN","EASEZT1",105,0)
COUNTY(EASAPP,XDATA) ;include county code
"RTN","EASEZT1",106,0)
 ;this transform can only be used for APPLICANT COUNTY
"RTN","EASEZT1",107,0)
 N X,ABBR,STATE,SIEN,CIEN,CCODE
"RTN","EASEZT1",108,0)
 I XDATA="" Q XDATA
"RTN","EASEZT1",109,0)
 S KEY=+$$KEY711^EASEZU1("APPLICANT STATE")
"RTN","EASEZT1",110,0)
 I 'KEY Q XDATA
"RTN","EASEZT1",111,0)
 S ABBR="",STATE="",SIEN="",CIEN="",CCODE=""
"RTN","EASEZT1",112,0)
 I KEY D
"RTN","EASEZT1",113,0)
 .S ABBR=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1)
"RTN","EASEZT1",114,0)
 .I ABBR'="" S STATE=$$STATE^EASEZT1(ABBR)
"RTN","EASEZT1",115,0)
 .I STATE'="" S SIEN=$O(^DIC(5,"B",STATE,0))
"RTN","EASEZT1",116,0)
 .I SIEN'="" S CIEN=$O(^DIC(5,SIEN,1,"B",XDATA,0))
"RTN","EASEZT1",117,0)
 .I CIEN'="" S CCODE=$P($G(^DIC(5,SIEN,1,CIEN,0)),U,3)
"RTN","EASEZT1",118,0)
 I CCODE'="" S XDATA=XDATA_" ("_CCODE_")"
"RTN","EASEZT1",119,0)
 Q XDATA
"RTN","EASEZT1",120,0)
 ;
"RTN","EASEZT1",121,0)
ETHNIC(XDATA) ;
"RTN","EASEZT1",122,0)
 N X
"RTN","EASEZT1",123,0)
 I ($L(XDATA)>1)!(XDATA="") Q XDATA
"RTN","EASEZT1",124,0)
 S X=$S(XDATA="Y":"YES",XDATA="N":"NO",XDATA="U":"UNKNOWN",1:"")
"RTN","EASEZT1",125,0)
 I X'="" S X=X_" (S)"
"RTN","EASEZT1",126,0)
 Q X
"RTN","EASEZT1",127,0)
 ;
"RTN","EASEZT1",128,0)
RACE(XDATA) ;
"RTN","EASEZT1",129,0)
 N X
"RTN","EASEZT1",130,0)
 I $L(XDATA)>1 Q XDATA
"RTN","EASEZT1",131,0)
 S X=$S(XDATA="Y":"YES (S)",1:"")
"RTN","EASEZT1",132,0)
 Q X
"RTN","EASEZT1",133,0)
 ;
"RTN","EASEZT1",134,0)
LAST(XDATA) ; return LAST NAME, first middle
"RTN","EASEZT1",135,0)
 Q $$UC($P($G(XDATA),","))
"RTN","EASEZT1",136,0)
 ;
"RTN","EASEZT2")
0^19^B15320253
"RTN","EASEZT2",1,0)
EASEZT2 ;ALB/jap - Data Transformation Logic for 1010EZ Processing ;10/12/00  13:08
"RTN","EASEZT2",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZT2",3,0)
 ;
"RTN","EASEZT2",4,0)
WORKPH(EASAPP,TYPE) ;
"RTN","EASEZT2",5,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT2",6,0)
 ;         TYPE = "APPLICANT", "SPOUSE", "NEXT-OF-KIN", "E-CONTACT",
"RTN","EASEZT2",7,0)
 ;output  PHONE = formatted work phone or null;
"RTN","EASEZT2",8,0)
 ;                example: (432)987-1234 X123
"RTN","EASEZT2",9,0)
 ;
"RTN","EASEZT2",10,0)
 N PHONE,MULTIPLE,AC,NUM,EXT,KEY,T
"RTN","EASEZT2",11,0)
 S PHONE="",MULTIPLE=1
"RTN","EASEZT2",12,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" WORK PHONE AREA CODE") I KEY D
"RTN","EASEZT2",13,0)
 .S AC=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",14,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" WORK PHONE NUMBER") I KEY D
"RTN","EASEZT2",15,0)
 .S NUM=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",16,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",17,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" WORK PHONE EXTENSION") I KEY D
"RTN","EASEZT2",18,0)
 .S EXT=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",19,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",20,0)
 I AC'="" S AC="("_AC_")"
"RTN","EASEZT2",21,0)
 I NUM="-" S NUM=""
"RTN","EASEZT2",22,0)
 I NUM'="" S:NUM'["-" NUM=$E(NUM,1,3)_"-"_$E(NUM,4,7)
"RTN","EASEZT2",23,0)
 I EXT'="" S EXT=" X"_EXT
"RTN","EASEZT2",24,0)
 I NUM="" Q PHONE
"RTN","EASEZT2",25,0)
 S PHONE=AC_NUM_EXT
"RTN","EASEZT2",26,0)
 Q PHONE
"RTN","EASEZT2",27,0)
 ;
"RTN","EASEZT2",28,0)
HOMEPH(EASAPP,TYPE) ;
"RTN","EASEZT2",29,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT2",30,0)
 ;         TYPE = "APPLICANT", "SPOUSE", "NEXT-OF-KIN", "E-CONTACT"
"RTN","EASEZT2",31,0)
 ;output  PHONE = formatted home phone;
"RTN","EASEZT2",32,0)
 ;                example: (432)987-1234
"RTN","EASEZT2",33,0)
 ;
"RTN","EASEZT2",34,0)
 N PHONE,MULTIPLE,AC,NUM,KEY,T
"RTN","EASEZT2",35,0)
 S PHONE="",MULTIPLE=1
"RTN","EASEZT2",36,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" HOME PHONE AREA CODE") I KEY D
"RTN","EASEZT2",37,0)
 .S AC=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",38,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" HOME PHONE NUMBER") I KEY D
"RTN","EASEZT2",39,0)
 .S NUM=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",40,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",41,0)
 I AC'="" S AC="("_AC_")"
"RTN","EASEZT2",42,0)
 I NUM="-" S NUM=""
"RTN","EASEZT2",43,0)
 I NUM'="" S:NUM'["-" NUM=$E(NUM,1,3)_"-"_$E(NUM,4,7)
"RTN","EASEZT2",44,0)
 I NUM="" Q PHONE
"RTN","EASEZT2",45,0)
 S PHONE=AC_NUM
"RTN","EASEZT2",46,0)
 Q PHONE
"RTN","EASEZT2",47,0)
 ;
"RTN","EASEZT2",48,0)
INSPH(EASAPP,TYPE,MULTIPLE) ;
"RTN","EASEZT2",49,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT2",50,0)
 ;         TYPE = "APPLICANT", "OTHER(N)"
"RTN","EASEZT2",51,0)
 ;     MULTIPLE = EASMULT Value def=1
"RTN","EASEZT2",52,0)
 ;output  PHONE = formatted home phone;
"RTN","EASEZT2",53,0)
 ;                example: (432)987-1234
"RTN","EASEZT2",54,0)
 ;
"RTN","EASEZT2",55,0)
 N PHONE,AC,NUM,KEY,T
"RTN","EASEZT2",56,0)
 S PHONE="",MULTIPLE=+$G(MULTIPLE) I MULTIPLE<2 S MULTIPLE=1
"RTN","EASEZT2",57,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" INSURANCE PHONE AREA CODE") I KEY D
"RTN","EASEZT2",58,0)
 .S AC=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",59,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" INSURANCE PHONE NUMBER") I KEY D
"RTN","EASEZT2",60,0)
 .S NUM=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",61,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",62,0)
 I AC'="" S AC="("_AC_")"
"RTN","EASEZT2",63,0)
 I NUM="-" S NUM=""
"RTN","EASEZT2",64,0)
 I NUM'="" S:NUM'["-" NUM=$E(NUM,1,3)_"-"_$E(NUM,4,7)
"RTN","EASEZT2",65,0)
 I NUM="" Q PHONE
"RTN","EASEZT2",66,0)
 S PHONE=AC_NUM
"RTN","EASEZT2",67,0)
 Q PHONE
"RTN","EASEZT2",68,0)
 ;
"RTN","EASEZT2",69,0)
EMPLPH(EASAPP,TYPE) ;
"RTN","EASEZT2",70,0)
 ;input  EASAPP = application ien in file #712
"RTN","EASEZT2",71,0)
 ;         TYPE = "APPLICANT", "SPOUSE" 
"RTN","EASEZT2",72,0)
 ;output  PHONE = formatted employer phone or null;
"RTN","EASEZT2",73,0)
 ;                example: (432)987-1234 X123
"RTN","EASEZT2",74,0)
 ;
"RTN","EASEZT2",75,0)
 N PHONE,MULTIPLE,AC,NUM,EXT,KET,T
"RTN","EASEZT2",76,0)
 S PHONE="",MULTIPLE=1
"RTN","EASEZT2",77,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" EMPLOYER PHONE AREA CODE") I KEY D
"RTN","EASEZT2",78,0)
 .S AC=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",79,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" EMPLOYER PHONE NUMBER") I KEY D
"RTN","EASEZT2",80,0)
 .S NUM=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",81,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",82,0)
 S KEY=+$$KEY711^EASEZU1(TYPE_" EMPLOYER PHONE EXTENSION") I KEY D
"RTN","EASEZT2",83,0)
 .S EXT=$P($$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),U,1)
"RTN","EASEZT2",84,0)
 .F T=1,2 S ^TMP("EZDATA",$J,KEY,MULTIPLE,T)=""
"RTN","EASEZT2",85,0)
 I AC'="" S AC="("_AC_")"
"RTN","EASEZT2",86,0)
 I NUM="-" S NUM=""
"RTN","EASEZT2",87,0)
 I NUM'="" S:NUM'["-" NUM=$E(NUM,1,3)_"-"_$E(NUM,4,7)
"RTN","EASEZT2",88,0)
 I EXT'="" S EXT=" X"_EXT
"RTN","EASEZT2",89,0)
 I NUM="" Q PHONE
"RTN","EASEZT2",90,0)
 S PHONE=AC_NUM_EXT
"RTN","EASEZT2",91,0)
 Q PHONE
"RTN","EASEZT2",92,0)
 ;
"RTN","EASEZT2",93,0)
ZIP(XDATA) ;
"RTN","EASEZT2",94,0)
 N X
"RTN","EASEZT2",95,0)
 I XDATA="-" S XDATA=""
"RTN","EASEZT2",96,0)
 I XDATA["-",($L(XDATA)'=10) Q $E(XDATA,1,5)
"RTN","EASEZT2",97,0)
 I $L(XDATA)<5 S XDATA=""
"RTN","EASEZT2",98,0)
 Q XDATA
"RTN","EASEZT2",99,0)
 ;
"RTN","EASEZT2",100,0)
EMPLOY(XDATA) ;
"RTN","EASEZT2",101,0)
 N X
"RTN","EASEZT2",102,0)
 I XDATA="" Q "UNKNOWN"
"RTN","EASEZT2",103,0)
 I XDATA="EMPLOYED" Q "EMPLOYED FULL TIME"
"RTN","EASEZT2",104,0)
 Q XDATA
"RTN","EASEZT2",105,0)
 ;
"RTN","EASEZT2",106,0)
MARR(XDATA) ;
"RTN","EASEZT2",107,0)
 N X
"RTN","EASEZT2",108,0)
 I XDATA="" Q "UNKNOWN"
"RTN","EASEZT2",109,0)
 I XDATA["WIDOW" S XDATA="WIDOW/WIDOWER"
"RTN","EASEZT2",110,0)
 S X=$O(^DIC(11,"B",XDATA,0))
"RTN","EASEZT2",111,0)
 I X="" Q "UNKNOWN"
"RTN","EASEZT2",112,0)
 Q XDATA
"RTN","EASEZT2",113,0)
 ;
"RTN","EASEZT2",114,0)
RELIGION(XDATA) ;
"RTN","EASEZT2",115,0)
 N X
"RTN","EASEZT2",116,0)
 I XDATA="" Q "UNKNOWN/NO PREFERENCE"
"RTN","EASEZT2",117,0)
 S X=$O(^DIC(13,"B",XDATA,0))
"RTN","EASEZT2",118,0)
 I X="" Q "UNKNOWN/NO PREFERENCE"
"RTN","EASEZT2",119,0)
 Q XDATA
"RTN","EASEZT2",120,0)
 ;
"RTN","EASEZT2",121,0)
SVCBRCH(XDATA) ;
"RTN","EASEZT2",122,0)
 N X
"RTN","EASEZT2",123,0)
 I XDATA="" Q "OTHER"
"RTN","EASEZT2",124,0)
 S X=$O(^DIC(23,"B",XDATA,0))
"RTN","EASEZT2",125,0)
 I X="" Q "OTHER"
"RTN","EASEZT2",126,0)
 Q XDATA
"RTN","EASEZU4")
0^3^B23520819
"RTN","EASEZU4",1,0)
EASEZU4 ;ALB/jap - Utilities for 1010EZ Processing ;10/25/00  08:08
"RTN","EASEZU4",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**51**;Mar 15, 2001
"RTN","EASEZU4",3,0)
 ;
"RTN","EASEZU4",4,0)
PRT1010 ;print 10-10EZ form with data
"RTN","EASEZU4",5,0)
 ;
"RTN","EASEZU4",6,0)
 N TASK,REVDATE,PRTDATE,ACTION,DIR
"RTN","EASEZU4",7,0)
 S ACTION="'Print 10-10EZ'"
"RTN","EASEZU4",8,0)
 ;no action if closed
"RTN","EASEZU4",9,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU4",10,0)
 ;don't print if not at least reviewed
"RTN","EASEZU4",11,0)
 S REVDATE=$P($G(^EAS(712,EASAPP,2)),U,1)
"RTN","EASEZU4",12,0)
 I 'REVDATE D NOACT^EASEZLM("Unreviewed",ACTION) Q
"RTN","EASEZU4",13,0)
 ;just in case
"RTN","EASEZU4",14,0)
 I EASPSTAT="NEW" D NOACT^EASEZLM("New",ACTION) Q
"RTN","EASEZU4",15,0)
 ;call to Steve's routine to print 10-10EZ
"RTN","EASEZU4",16,0)
 D FULL^VALM1
"RTN","EASEZU4",17,0)
 S TASK=$$QUE^EASEZPF(EASAPP,EASDFN)
"RTN","EASEZU4",18,0)
 ;should return Task # if actually queued to print
"RTN","EASEZU4",19,0)
 ;if printed, update processing status if necessary; can be printed multiple times
"RTN","EASEZU4",20,0)
 S PRTDATE=$P(^EAS(712,EASAPP,2),U,3)
"RTN","EASEZU4",21,0)
 I 'PRTDATE,$G(TASK) D
"RTN","EASEZU4",22,0)
 .D SETDATE^EASEZU2(EASAPP,"PRT") S EASPSTAT="PRT"
"RTN","EASEZU4",23,0)
 .;rebuild selection list since this application is removed from list
"RTN","EASEZU4",24,0)
 .D BLD^EASEZLM,HDR2^EASEZL1
"RTN","EASEZU4",25,0)
 S VALMBCK="R"
"RTN","EASEZU4",26,0)
 D PAUSE^VALM1
"RTN","EASEZU4",27,0)
 Q
"RTN","EASEZU4",28,0)
 ;
"RTN","EASEZU4",29,0)
VERSIG ;verify Applicant signature on 10-10EZ
"RTN","EASEZU4",30,0)
 ;
"RTN","EASEZU4",31,0)
 N REVDATE,ACTION,DIR
"RTN","EASEZU4",32,0)
 S ACTION="'Verify Signature'"
"RTN","EASEZU4",33,0)
 ;no action if closed
"RTN","EASEZU4",34,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU4",35,0)
 ;can't verify sig if not at least reviewed
"RTN","EASEZU4",36,0)
 S REVDATE=$P($G(^EAS(712,EASAPP,2)),U,1)
"RTN","EASEZU4",37,0)
 I 'REVDATE D NOACT^EASEZLM("Unreviewed",ACTION) Q
"RTN","EASEZU4",38,0)
 ;can't sign if already done
"RTN","EASEZU4",39,0)
 I EASPSTAT="SIG" D NOACT^EASEZLM("Previously Signed",ACTION) Q
"RTN","EASEZU4",40,0)
 ;just in case
"RTN","EASEZU4",41,0)
 I EASPSTAT="NEW" D NOACT^EASEZLM("New",ACTION) Q
"RTN","EASEZU4",42,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU4",43,0)
 ;update processing status
"RTN","EASEZU4",44,0)
 D SETDATE^EASEZU2(EASAPP,"SIG")
"RTN","EASEZU4",45,0)
 S EASPSTAT="SIG"
"RTN","EASEZU4",46,0)
 W !,"Applicant signature is verified...",!
"RTN","EASEZU4",47,0)
 ;rebuild selection list since this application is removed from list
"RTN","EASEZU4",48,0)
 D BLD^EASEZLM,HDR2^EASEZL1
"RTN","EASEZU4",49,0)
 S VALMBCK="Q"
"RTN","EASEZU4",50,0)
 D PAUSE^VALM1
"RTN","EASEZU4",51,0)
 Q
"RTN","EASEZU4",52,0)
 ;
"RTN","EASEZU4",53,0)
FILE ;file 10-10EZ 'accepted' data to VistA Patient database
"RTN","EASEZU4",54,0)
 ;
"RTN","EASEZU4",55,0)
 N SIGDATE,ACTION,SAVE,ZTSK,STAT,DIR
"RTN","EASEZU4",56,0)
 S ACTION="'File 10-10EZ'"
"RTN","EASEZU4",57,0)
 ;no action if closed
"RTN","EASEZU4",58,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU4",59,0)
 ;must be signed before filing
"RTN","EASEZU4",60,0)
 S SIGDATE=$P($G(^EAS(712,EASAPP,1)),U,1)
"RTN","EASEZU4",61,0)
 I 'SIGDATE D NOACT^EASEZLM("Unsigned",ACTION) Q
"RTN","EASEZU4",62,0)
 ;can't repeat filing
"RTN","EASEZU4",63,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Previously Filed",ACTION) Q
"RTN","EASEZU4",64,0)
 S STAT=$$CURRSTAT^EASEZU2(EASAPP) I STAT="FIL" D NOACT^EASEZLM("Previously Filed",ACTION) Q
"RTN","EASEZU4",65,0)
 ;just in case
"RTN","EASEZU4",66,0)
 I EASPSTAT="NEW" D NOACT^EASEZLM("New",ACTION) Q
"RTN","EASEZU4",67,0)
 I EASPSTAT="REV" D NOACT^EASEZLM("Unsigned",ACTION) Q
"RTN","EASEZU4",68,0)
 I EASPSTAT="PRT" D NOACT^EASEZLM("Unsigned",ACTION) Q
"RTN","EASEZU4",69,0)
 ;
"RTN","EASEZU4",70,0)
 D FILE2
"RTN","EASEZU4",71,0)
 ;rebuild selection list since this application is removed from list
"RTN","EASEZU4",72,0)
 S VALMBCK="R"
"RTN","EASEZU4",73,0)
 I $D(ZTSK) D
"RTN","EASEZU4",74,0)
 .D SETDATE^EASEZU2(EASAPP,"FIL")
"RTN","EASEZU4",75,0)
 .S EASPSTAT="FIL"
"RTN","EASEZU4",76,0)
 .S $P(^EAS(712,EASAPP,2),U,11)=ZTSK
"RTN","EASEZU4",77,0)
 .D BLD^EASEZLM S VALMBCK="Q"
"RTN","EASEZU4",78,0)
 Q
"RTN","EASEZU4",79,0)
 ;
"RTN","EASEZU4",80,0)
CLOSE ;close/inactivate the Application
"RTN","EASEZU4",81,0)
 ;
"RTN","EASEZU4",82,0)
 N SIGDATE,FILDATE,ACTION
"RTN","EASEZU4",83,0)
 S ACTION="'Inactivate'"
"RTN","EASEZU4",84,0)
 ;not allowed if signed or filed
"RTN","EASEZU4",85,0)
 S FILDATE=$P($G(^EAS(712,EASAPP,2)),U,5)
"RTN","EASEZU4",86,0)
 I FILDATE D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU4",87,0)
 S SIGDATE=$P($G(^EAS(712,EASAPP,1)),U,1)
"RTN","EASEZU4",88,0)
 I SIGDATE D NOACT^EASEZLM("Signed",ACTION) Q
"RTN","EASEZU4",89,0)
 ;no action if already closed
"RTN","EASEZU4",90,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Previously Inactivated",ACTION) Q
"RTN","EASEZU4",91,0)
 ;clear accept flags and updates
"RTN","EASEZU4",92,0)
 D OKRESET^EASEZU3
"RTN","EASEZU4",93,0)
 ;update processing status
"RTN","EASEZU4",94,0)
 D SETDATE^EASEZU2(EASAPP,"CLS")
"RTN","EASEZU4",95,0)
 S EASPSTAT="CLS"
"RTN","EASEZU4",96,0)
 W !,"Application has been closed/inactivated...",!
"RTN","EASEZU4",97,0)
 D PAUSE^VALM1
"RTN","EASEZU4",98,0)
 ;rebuild selection list since this application is removed from list
"RTN","EASEZU4",99,0)
 D BLD^EASEZLM
"RTN","EASEZU4",100,0)
 S VALMBCK="Q"
"RTN","EASEZU4",101,0)
 Q
"RTN","EASEZU4",102,0)
 ;
"RTN","EASEZU4",103,0)
FILE2 ;
"RTN","EASEZU4",104,0)
 N VALMDDF,ZTSAVE,ZTDESC,ZTRTN,ZTIO
"RTN","EASEZU4",105,0)
 K ZTSAVE
"RTN","EASEZU4",106,0)
 S ZTDESC="Filing 10-10EZ Data (Appl. #"_EASAPP_") to VistA",ZTRTN="QUE^EASEZFM",ZTIO=""
"RTN","EASEZU4",107,0)
 S ZTSAVE("EASAPP")=""
"RTN","EASEZU4",108,0)
 D ^%ZTLOAD
"RTN","EASEZU4",109,0)
 I $D(ZTSK) D
"RTN","EASEZU4",110,0)
 .;update processing status
"RTN","EASEZU4",111,0)
 .W !,"10-10EZ data is being filed as a background job."
"RTN","EASEZU4",112,0)
 .W !,"Task #: ",ZTSK,!
"RTN","EASEZU4",113,0)
 .K DIR D PAUSE^VALM1
"RTN","EASEZU4",114,0)
 Q
"RTN","EASEZU4",115,0)
 ;
"RTN","EASEZU4",116,0)
SUPPRESS(EASAPP,DATAKEY,TYPE,VERSION) ;alb/cmf/51
"RTN","EASEZU4",117,0)
 ;return 1 if node should not be displayed, filed, or accepted
"RTN","EASEZU4",118,0)
 ;easapp = file 712 ien
"RTN","EASEZU4",119,0)
 ;datakey = file 711/.1
"RTN","EASEZU4",120,0)
 ;type = 0:display[default], 1:file, 2:accept
"RTN","EASEZU4",121,0)
 N FLAG
"RTN","EASEZU4",122,0)
 Q:$G(EASAPP)="" 0
"RTN","EASEZU4",123,0)
 Q:$G(DATAKEY)="" 0
"RTN","EASEZU4",124,0)
 S:$G(VERSION)="" VERSION=$$VERSION(EASAPP)
"RTN","EASEZU4",125,0)
 Q:+VERSION<6 0
"RTN","EASEZU4",126,0)
 S FLAG=0
"RTN","EASEZU4",127,0)
 S TYPE=$S($G(TYPE)=1:1,$G(TYPE)=2:2,1:0)
"RTN","EASEZU4",128,0)
 I TYPE=0 D  Q FLAG
"RTN","EASEZU4",129,0)
 .I "^I;18A.^I;18B.^I;18C.^I;18D.^"[DATAKEY S FLAG=1 Q   ;obs
"RTN","EASEZU4",130,0)
 .I "^IIC;1.1^IIC;1.2^IIC;1.3^"[DATAKEY S FLAG=1 Q       ;obs
"RTN","EASEZU4",131,0)
 .I "^I;1A.5^IIC;3.^I;14D1.^I;17.^"[DATAKEY S FLAG=1 Q   ;obs
"RTN","EASEZU4",132,0)
 .I "^I;14C.^I;14D.^I;14D2.^I;14H.^"[DATAKEY S FLAG=1 Q  ;obs
"RTN","EASEZU4",133,0)
 .I "^IIE;1.^IIE;2.^IIE;3.^"[DATAKEY S FLAG=1 Q          ;print only
"RTN","EASEZU4",134,0)
 .Q
"RTN","EASEZU4",135,0)
 I TYPE=1 D  Q FLAG
"RTN","EASEZU4",136,0)
 .I "^I;14D.^I;14D1.^I;14D2.^"[DATAKEY S FLAG=1 Q        ;obs
"RTN","EASEZU4",137,0)
 .I "^IIC;1.1^IIC;1.2^IIC;1.3^"[DATAKEY S FLAG=1 Q       ;obs
"RTN","EASEZU4",138,0)
 .I "^IIE;1.^IIE;2.^IIE;3.^"[DATAKEY S FLAG=1 Q          ;print only
"RTN","EASEZU4",139,0)
 .I "^IIC;1.6^IIC;2.3^IIC;3.3^"[DATAKEY S FLAG=1 Q       ;disp only
"RTN","EASEZU4",140,0)
 .Q
"RTN","EASEZU4",141,0)
 ;
"RTN","EASEZU4",142,0)
 Q FLAG
"RTN","EASEZU4",143,0)
 ;
"RTN","EASEZU4",144,0)
VERSION(EASAPP) ;alb/cmf/51
"RTN","EASEZU4",145,0)
 ;return the version # of an application
"RTN","EASEZU4",146,0)
 Q:$G(EASAPP)="" -1
"RTN","EASEZU4",147,0)
 Q:'$D(^EAS(712,EASAPP)) -1
"RTN","EASEZU4",148,0)
 Q +$P(^EAS(712,EASAPP,0),U,12)
"RTN","EASEZU4",149,0)
 ;
"RTN","EASEZU5")
0^21^B59440365
"RTN","EASEZU5",1,0)
EASEZU5 ;ALB/jap - Utilities for 1010EZ Processing ;10/25/00  13:08
"RTN","EASEZU5",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,51**;Mar 15, 2001
"RTN","EASEZU5",3,0)
 ;
"RTN","EASEZU5",4,0)
PRTCOMP ;print comparison of 10-10EZ data with VistA data
"RTN","EASEZU5",5,0)
 N ACTION
"RTN","EASEZU5",6,0)
 S ACTION="'Print Data'"
"RTN","EASEZU5",7,0)
 ;no action if closed
"RTN","EASEZU5",8,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU5",9,0)
 ;proceed with print of data comparison
"RTN","EASEZU5",10,0)
 W !,"Data Print queued to background...",!
"RTN","EASEZU5",11,0)
 S VALMBCK="R"
"RTN","EASEZU5",12,0)
 D PAUSE^VALM1
"RTN","EASEZU5",13,0)
 Q
"RTN","EASEZU5",14,0)
 ;
"RTN","EASEZU5",15,0)
UPDATE ;update/overwrite a 10-10EZ data element
"RTN","EASEZU5",16,0)
 N ACTION,SIGDATE,EASSEL,EASERR,EASLN,LN,SUBIEN,MULTIPLE,KEYIEN,UPDATE,UPDATE2,FILE,SUBFILE,FLD,FFF
"RTN","EASEZU5",17,0)
 N ORIGINAL,DATANM,UPDATE,CODE,FILE,SUBFILE,FLD,FDEF,FTYPE,ROOT,SETCODES,MIN,MAX,X,Y,DA,DR,DIC,DIE,DIR,X1,X2,X3
"RTN","EASEZU5",18,0)
 ;variable ORIGINAL holds original 1010EZ data
"RTN","EASEZU5",19,0)
 S ACTION="'Update Field'"
"RTN","EASEZU5",20,0)
 ;no action if closed
"RTN","EASEZU5",21,0)
 I EASPSTAT="CLS" D NOACT^EASEZLM("Inactivated",ACTION) Q
"RTN","EASEZU5",22,0)
 ;invalid for the following process status
"RTN","EASEZU5",23,0)
 I EASPSTAT="NEW" D NOACT^EASEZLM("New",ACTION) Q
"RTN","EASEZU5",24,0)
 I EASPSTAT="PRT" D NOACT^EASEZLM("Unsigned",ACTION) Q
"RTN","EASEZU5",25,0)
 I EASPSTAT="FIL" D NOACT^EASEZLM("Filed",ACTION) Q
"RTN","EASEZU5",26,0)
 ;select data item to update
"RTN","EASEZU5",27,0)
 S VALMBCK="R"
"RTN","EASEZU5",28,0)
 D SEL^EASEZLM
"RTN","EASEZU5",29,0)
 Q:$G(EASERR)
"RTN","EASEZU5",30,0)
 Q:'$G(EASSEL)
"RTN","EASEZU5",31,0)
 S EASLN=EASSEL
"RTN","EASEZU5",32,0)
 ;
"RTN","EASEZU5",33,0)
 ;use DIR reader to get input from user which overwrites 1010EZ data
"RTN","EASEZU5",34,0)
 D FULL^VALM1
"RTN","EASEZU5",35,0)
 S DIR(0)="",(FDEF,FTYPE)=""
"RTN","EASEZU5",36,0)
 S LN=^TMP("EASEXP",$J,"IDX",EASLN),SUBIEN=$P(LN,U,1),MULTIPLE=$P(LN,U,2),KEYIEN=$P(LN,U,3)
"RTN","EASEZU5",37,0)
 S X=$G(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1)),ORIGINAL=$P(X,U,1),ACCEPT=$P(X,U,2)
"RTN","EASEZU5",38,0)
 S DATANM=$P($G(^EAS(711,KEYIEN,0)),U,1)
"RTN","EASEZU5",39,0)
 S DIR("A")=DATANM
"RTN","EASEZU5",40,0)
 ;if #3 of file #711 is defined then use to set DIR(0);
"RTN","EASEZU5",41,0)
 S X=$G(^EAS(711,KEYIEN,3)) I X'="" X X
"RTN","EASEZU5",42,0)
 S FFF=$G(^EAS(711,KEYIEN,1)),FILE=$P(FFF,U,1),SUBFILE=$P(FFF,U,2),FLD=$P(FFF,U,3)
"RTN","EASEZU5",43,0)
 ;don't allow updates to data which cannot be filed
"RTN","EASEZU5",44,0)
 I ((FILE=0)!(ACCEPT=-1)) D  Q
"RTN","EASEZU5",45,0)
 .W !!,?5,"Sorry...the selected data element cannot be 'Updated'."
"RTN","EASEZU5",46,0)
 .D ADDMSG ;alb/cmf/51
"RTN","EASEZU5",47,0)
 .W !!,?5,"After filing this Application to VistA, use Register a Patient "
"RTN","EASEZU5",48,0)
 .W !,?5,"or Patient Enrollment to enter/update data as needed.",!
"RTN","EASEZU5",49,0)
 .K DIR D PAUSE^VALM1 S VALMBCK="R"
"RTN","EASEZU5",50,0)
 ;exceptions for data input; too complex for simple DIR call;
"RTN","EASEZU5",51,0)
 I DATANM["NAME",DATANM'["OTHER" D ANAME^EASEZU6(EASLN,LN,DATANM) Q
"RTN","EASEZU5",52,0)
 I DATANM["PHONE" D APHONE^EASEZU6(EASLN,LN,DATANM) Q
"RTN","EASEZU5",53,0)
 I DATANM["COUNTY" D ACOUNTY^EASEZU6(EASLN,LN,DATANM) Q
"RTN","EASEZU5",54,0)
 I DATANM["STATE" D ASTATE^EASEZU6(EASLN,LN,DATANM) Q
"RTN","EASEZU5",55,0)
 I DATANM["SOCIAL SECURITY NUMBER",FILE'=2 D ASSN^EASEZU6(EASLN,LN,DATANM,ACCEPT) Q
"RTN","EASEZU5",56,0)
 ;setup DIR(0) for remaining mapped-to data elements
"RTN","EASEZU5",57,0)
 I DIR(0)="",FLD'=0 D
"RTN","EASEZU5",58,0)
 .;use DIR read based on mapped-to file/field for all other data elements
"RTN","EASEZU5",59,0)
 .I (SUBFILE=FILE)!(SUBFILE="") S FDEF=FILE
"RTN","EASEZU5",60,0)
 .E  S FDEF=SUBFILE
"RTN","EASEZU5",61,0)
 .S FTYPE=$$GET1^DID(FDEF,FLD,"","TYPE")
"RTN","EASEZU5",62,0)
 .;can't use DD type read, some fields will error because DA is not defined for the input transform;
"RTN","EASEZU5",63,0)
 .;so set DIR(0) according to field type of VistA target location instead;
"RTN","EASEZU5",64,0)
 .I FTYPE["POINTER" D
"RTN","EASEZU5",65,0)
 ..;mapped to pointer field
"RTN","EASEZU5",66,0)
 ..S ROOT=$$GET1^DID(FDEF,FLD,"","POINTER")
"RTN","EASEZU5",67,0)
 ..I ROOT'="" S DIR(0)="P"_U_ROOT_":EMZ"
"RTN","EASEZU5",68,0)
 .I FTYPE="SET" D
"RTN","EASEZU5",69,0)
 ..;mapped to set of codes field
"RTN","EASEZU5",70,0)
 ..S X=^DD(FDEF,FLD,0)
"RTN","EASEZU5",71,0)
 ..S SETCODES=$P(X,U,3) K X
"RTN","EASEZU5",72,0)
 ..S DIR(0)="S"_U_SETCODES
"RTN","EASEZU5",73,0)
 .I FTYPE="DATE/TIME" D
"RTN","EASEZU5",74,0)
 ..;mapped to date/time field
"RTN","EASEZU5",75,0)
 ..S DIR(0)="D^::AEP"
"RTN","EASEZU5",76,0)
 .I FTYPE="FREE TEXT" D
"RTN","EASEZU5",77,0)
 ..;mapped to free text field
"RTN","EASEZU5",78,0)
 ..S MAX=$$GET1^DID(FDEF,FLD,"","FIELD LENGTH")
"RTN","EASEZU5",79,0)
 ..I MAX S DIR(0)="F^1:"_MAX
"RTN","EASEZU5",80,0)
 ..E  S DIR(0)="F^1:80"
"RTN","EASEZU5",81,0)
 .I FTYPE="NUMERIC" D
"RTN","EASEZU5",82,0)
 ..;mapped to numeric field
"RTN","EASEZU5",83,0)
 ..S FINP=$$GET1^DID(FDEF,FLD,"","INPUT TRANSFORM")
"RTN","EASEZU5",84,0)
 ..S MIN=+$P(FINP,"X<",2),MAX=+$P(FINP,"X>",2)
"RTN","EASEZU5",85,0)
 ..I MAX S DIR(0)="N"_U_MIN_":"_MAX_":0"
"RTN","EASEZU5",86,0)
 ..E  S DIR(0)="N^0:9999999:0"
"RTN","EASEZU5",87,0)
 I FLD=0 D
"RTN","EASEZU5",88,0)
 .;unmapped data element
"RTN","EASEZU5",89,0)
 .I DIR(0)="" S DIR(0)="F^1:80"
"RTN","EASEZU5",90,0)
 ;make the DIR call for user input only if DIR(0) has been set
"RTN","EASEZU5",91,0)
 Q:DIR(0)=""
"RTN","EASEZU5",92,0)
 D ^DIR
"RTN","EASEZU5",93,0)
 ;don't continue if user exited w/o input
"RTN","EASEZU5",94,0)
 Q:($D(DTOUT)!$D(DUOUT))
"RTN","EASEZU5",95,0)
 K DIR,DTOUT,DUOUT,DIRUT
"RTN","EASEZU5",96,0)
 ;pickup the DIR output
"RTN","EASEZU5",97,0)
 S UPDATE=$P($G(Y(0)),U,1) S:UPDATE="" UPDATE=$P($G(Y),U,1)
"RTN","EASEZU5",98,0)
 ;don't continue if no data
"RTN","EASEZU5",99,0)
 Q:UPDATE=""
"RTN","EASEZU5",100,0)
 ;convert dates to mm/dd/yyyy
"RTN","EASEZU5",101,0)
 I FTYPE="DATE/TIME" D
"RTN","EASEZU5",102,0)
 .;Y holds date from DIR call in internal format 
"RTN","EASEZU5",103,0)
 .S %F=5,UPDATE2=$$FMTE^XLFDT(Y,%F) I $L(UPDATE2)<10 D
"RTN","EASEZU5",104,0)
 ..S X1=$P(UPDATE2,"/",1),X2=$P(UPDATE2,"/",2),X3=$P(UPDATE2,"/",3)
"RTN","EASEZU5",105,0)
 ..S:$L(X1)=1 X1="0"_X1 S:$L(X2)=1 X2="0"_X2
"RTN","EASEZU5",106,0)
 ..S UPDATE2=X1_"/"_X2_"/"_X3
"RTN","EASEZU5",107,0)
 ..S UPDATE=UPDATE2
"RTN","EASEZU5",108,0)
 ;special handling for field #.362
"RTN","EASEZU5",109,0)
 I FILE=2,FLD=.362,EASVRSN>5.99 D
"RTN","EASEZU5",110,0)
 .I UPDATE["IN LIEU OF VA COMP" S UPDATE="YES"
"RTN","EASEZU5",111,0)
 .I UPDATE="YES, RECEIVING MILITARY RETIREMENT" S UPDATE="NO"
"RTN","EASEZU5",112,0)
 ;don't continue if no change to data
"RTN","EASEZU5",113,0)
 Q:(UPDATE=ORIGINAL)
"RTN","EASEZU5",114,0)
 Q:(UPDATE="")
"RTN","EASEZU5",115,0)
 ;
"RTN","EASEZU5",116,0)
 I 'ACCEPT S ACCEPT=1
"RTN","EASEZU5",117,0)
 S $P(^TMP("EZDATA",$J,KEYIEN,MULTIPLE,1),U,1,2)=UPDATE_U_ACCEPT
"RTN","EASEZU5",118,0)
 ;file data element; any manually updated element is 'accepted'
"RTN","EASEZU5",119,0)
 S DIE="^EAS(712,EASAPP,10,",DA=SUBIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZU5",120,0)
 S DR="1.5///^S X=UPDATE;1.1///^S X=ACCEPT;1.2///^S X=DT;1.3////^S X=DUZ"
"RTN","EASEZU5",121,0)
 D ^DIE
"RTN","EASEZU5",122,0)
 S VALMBCK="R"
"RTN","EASEZU5",123,0)
 ;update screen list
"RTN","EASEZU5",124,0)
 D FLDTEXT^VALM10(EASLN,"EZDATA",UPDATE)
"RTN","EASEZU5",125,0)
 D FLDCTRL^VALM10(EASLN,"EZDATA",IORVON,IORVOFF)
"RTN","EASEZU5",126,0)
 D WRITE^VALM10(EASLN)
"RTN","EASEZU5",127,0)
 Q
"RTN","EASEZU5",128,0)
 ;
"RTN","EASEZU5",129,0)
REMSIG ;remove signature verification from selected Application
"RTN","EASEZU5",130,0)
 N APP,STATUS,DA,DIC,DR,DIR,DIRUT,DUOUT,DTOUT,S,X,Y
"RTN","EASEZU5",131,0)
 W @IOF
"RTN","EASEZU5",132,0)
 W !!,"Lookup and selection for Signature Verification Removal"
"RTN","EASEZU5",133,0)
 W !,"is by Application # only."
"RTN","EASEZU5",134,0)
 W !!,"Only Applications with a Signature Verification Date, but no"
"RTN","EASEZU5",135,0)
 W !,"Filing Date may be selected.",!!
"RTN","EASEZU5",136,0)
 S DIC="^EAS(712,",DIC(0)="AENQXZ",DIC("S")="I +$P($G(^(1)),U,2)>0,+$P($G(^(2)),U,5)=0"
"RTN","EASEZU5",137,0)
 D ^DIC
"RTN","EASEZU5",138,0)
 S APP=+Y
"RTN","EASEZU5",139,0)
 I APP>0 D
"RTN","EASEZU5",140,0)
 .S DIR(0)="YA",DIR("A")="Are you sure Signature Verification should be removed? (Y/N): " D ^DIR
"RTN","EASEZU5",141,0)
 .Q:$D(DIRUT)
"RTN","EASEZU5",142,0)
 .Q:'Y
"RTN","EASEZU5",143,0)
 .W !!,"One moment please...",!
"RTN","EASEZU5",144,0)
 .;remove signature verification data; update audit fields for sig. removal
"RTN","EASEZU5",145,0)
 .S DA=APP K X,Y
"RTN","EASEZU5",146,0)
 .S DIE=DIC,DR="4///^S X=""@"";4.1///^S X=""@"";4.2///^S X=""@"";4.6///^S X=DT;4.7////^S X=DUZ"
"RTN","EASEZU5",147,0)
 .D ^DIE
"RTN","EASEZU5",148,0)
 .D APPINDEX^EASEZU2(APP)
"RTN","EASEZU5",149,0)
 .S S=$$CURRSTAT^EASEZU2(APP),STATUS=$S(S="PRT":"Printed, Pending Signature",1:"In Review")
"RTN","EASEZU5",150,0)
 .W !!,"Signature Verification removed..."
"RTN","EASEZU5",151,0)
 .W !!,"Application #"_APP_" STATUS -- ",STATUS
"RTN","EASEZU5",152,0)
 W !!
"RTN","EASEZU5",153,0)
 Q
"RTN","EASEZU5",154,0)
 ;
"RTN","EASEZU5",155,0)
ADDMSG ;alb/cmf/51 - special update messages by field
"RTN","EASEZU5",156,0)
 N SECT,S1,S2
"RTN","EASEZU5",157,0)
 Q:EASVRSN<6
"RTN","EASEZU5",158,0)
 S SECT=$P($P(^EAS(711,KEYIEN,0),U,2),";")
"RTN","EASEZU5",159,0)
 Q:SECT'["II"
"RTN","EASEZU5",160,0)
 ;
"RTN","EASEZU5",161,0)
 I SECT="IIC" D  Q
"RTN","EASEZU5",162,0)
 .I DATANM="CHILD1 GROSS ANNUAL INCOME2" D  Q
"RTN","EASEZU5",163,0)
 ..D INCTOT("Gross Annual","gross annual")
"RTN","EASEZU5",164,0)
 .I DATANM="CHILD1 OTHER INCOME" D  Q
"RTN","EASEZU5",165,0)
 ..D INCTOT("Other","other")
"RTN","EASEZU5",166,0)
 .I DATANM="CHILD1 FARM OR BUSINESS INCOME" D  Q
"RTN","EASEZU5",167,0)
 ..D INCTOT("Farm/Business","farm/business")
"RTN","EASEZU5",168,0)
 ;
"RTN","EASEZU5",169,0)
 I SECT="IIE" D  Q
"RTN","EASEZU5",170,0)
 .I DATANM="CHILD1 CASH IN BANK" D  Q
"RTN","EASEZU5",171,0)
 ..D ASSTOT("Cash in Bank","cash in bank")
"RTN","EASEZU5",172,0)
 .I DATANM="CHILD1 REAL PROPERTY LESS MORTGAGES" D  Q
"RTN","EASEZU5",173,0)
 ..D ASSTOT("Real Property","real property")
"RTN","EASEZU5",174,0)
 .I DATANM="CHILD1 STOCKS BONDS ASSETS LESS DEBTS" D  Q
"RTN","EASEZU5",175,0)
 ..D ASSTOT("Other Property","other property")
"RTN","EASEZU5",176,0)
 ;
"RTN","EASEZU5",177,0)
 I SECT="IIG" D  Q
"RTN","EASEZU5",178,0)
 .I DATANM="ASSET(N) CHILD CASH" D CHLDASS("Cash in Bank") Q
"RTN","EASEZU5",179,0)
 .I DATANM="ASSET(N) CHILD REAL PROPERTY" D CHLDASS("Real Property") Q
"RTN","EASEZU5",180,0)
 .I DATANM="ASSET(N) CHILD OTHER PROPERTY" D CHLDASS("Other Property") Q
"RTN","EASEZU5",181,0)
 Q
"RTN","EASEZU5",182,0)
 ;
"RTN","EASEZU5",183,0)
INCTOT(S1,S2) ; income total messages
"RTN","EASEZU5",184,0)
 W !!,?5,"The "_S1_" Income Child Total is the sum of the"
"RTN","EASEZU5",185,0)
 W !,?5,"individual child "_S2_" income values.  The Child Total"
"RTN","EASEZU5",186,0)
 W !,?5,"may only be updated by adjusting the individual child"
"RTN","EASEZU5",187,0)
 W !,?5,S2_" income values.  - or..."
"RTN","EASEZU5",188,0)
 Q
"RTN","EASEZU5",189,0)
 ;
"RTN","EASEZU5",190,0)
ASSTOT(S1,S2) ; asset total messages
"RTN","EASEZU5",191,0)
 W !!,?5,"The "_S1_" Child Total is the sum of the individual"
"RTN","EASEZU5",192,0)
 W !,?5,"child "_S2_" values and this total has been added to"
"RTN","EASEZU5",193,0)
 W !,?5,"the "_S1_" Veteran amount.  The Child Total may only be"
"RTN","EASEZU5",194,0)
 W !,?5,"adjusted by updating the "_S1_" Veteran amount.  - or..."
"RTN","EASEZU5",195,0)
 Q
"RTN","EASEZU5",196,0)
 ;
"RTN","EASEZU5",197,0)
CHLDASS(S1) ; child asset messages
"RTN","EASEZU5",198,0)
 W !!,?5,"The "_S1_" child amount has been added to the "_S1
"RTN","EASEZU5",199,0)
 W !,?5,"Veteran amount.  The "_S1_" child amount may only"
"RTN","EASEZU5",200,0)
 W !,?5,"be adjusted by updating the "_S1_" Veteran amount."
"RTN","EASEZU5",201,0)
 W !,?5,"  - or..."
"RTN","EASEZU5",202,0)
 Q
"RTN","EASEZU5",203,0)
 ;
"RTN","EASEZW")
0^20^B77350187
"RTN","EASEZW",1,0)
EASEZW ;ALB/jap - Auto-process 1010EZ from Web-based Application ;10/12/00  13:08
"RTN","EASEZW",2,0)
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**2,51**;Mar 15, 2001
"RTN","EASEZW",3,0)
 ;
"RTN","EASEZW",4,0)
EN ;entry point from server option
"RTN","EASEZW",5,0)
 ;standard server variables XMZ,XMRG,XMER
"RTN","EASEZW",6,0)
 ;new incoming 1010EZ application data to be filed in #712
"RTN","EASEZW",7,0)
 ;
"RTN","EASEZW",8,0)
 Q:'$G(XMZ)
"RTN","EASEZW",9,0)
 S X=$P(^XMB(3.9,XMZ,0),U,1)
"RTN","EASEZW",10,0)
 ;won't always know the exact format of message subject
"RTN","EASEZW",11,0)
 S X=$P(X,"SID ",2),X=$P(X,U,1),X=$P(X,":",1)
"RTN","EASEZW",12,0)
 S EASWEBID=$TR(X," ","")
"RTN","EASEZW",13,0)
 Q:EASWEBID=""
"RTN","EASEZW",14,0)
 ;don't process if this web submission has been previously rec'd;
"RTN","EASEZW",15,0)
 I $D(^EAS(712,"W",EASWEBID)) D  Q
"RTN","EASEZW",16,0)
 .S EASAPP=$O(^EAS(712,"W",EASWEBID,0))
"RTN","EASEZW",17,0)
 .;make sure this is an automated 1010EZ data msg
"RTN","EASEZW",18,0)
 .S OK=0 F  X XMREC Q:XMER=-1  S LINE=XMRG D  Q:OK
"RTN","EASEZW",19,0)
 ..I (LINE["SECTION")!(LINE["Section") S LINE=$$UC^EASEZT1(LINE)
"RTN","EASEZW",20,0)
 ..I LINE["VISTA AUTOMATION" S OK=1
"RTN","EASEZW",21,0)
 .;send receipt confirmation to get Forum in sync and quit
"RTN","EASEZW",22,0)
 .I OK D CONFIRM(EASWEBID,EASAPP,XMZ)
"RTN","EASEZW",23,0)
 ;continue processing if this web submission is new
"RTN","EASEZW",24,0)
 ;get facility applying to (station #)
"RTN","EASEZW",25,0)
 S X=$P($P(^XMB(3.9,XMZ,0),U,1),":",1) I X'="" D
"RTN","EASEZW",26,0)
 .S EASFAC=X,X=$E(X,1,3)
"RTN","EASEZW",27,0)
 .I +X'=X S EASFAC=""
"RTN","EASEZW",28,0)
 ;get message receipt date
"RTN","EASEZW",29,0)
 S EASRECD=$P($P($G(^XMB(3.9,XMZ,.6)),U,1),".",1)
"RTN","EASEZW",30,0)
 ;set next ien for file #712 to match #.01 field, not less than 101
"RTN","EASEZW",31,0)
 S OUT=0,CYCLE=0 F  D  Q:OUT  Q:CYCLE>5
"RTN","EASEZW",32,0)
 .S CYCLE=CYCLE+1
"RTN","EASEZW",33,0)
 .S DINUM=$O(^EAS(712,"B",""),-1) S:'DINUM DINUM=$O(^EAS(712,999999999),-1)
"RTN","EASEZW",34,0)
 .S DINUM=DINUM+1 S:DINUM<100 DINUM=DINUM+100
"RTN","EASEZW",35,0)
 .S DIC="^EAS(712,",DIC(0)="L",DLAYGO="",(NEWIEN,X)=DINUM
"RTN","EASEZW",36,0)
 .K DD,DO D FILE^DICN
"RTN","EASEZW",37,0)
 .;repair faulty "B" index
"RTN","EASEZW",38,0)
 .I Y=-1,$D(^EAS(712,NEWIEN,0)) S ^EAS(712,"B",NEWIEN,NEWIEN)="" H 3
"RTN","EASEZW",39,0)
 .I Y>0 S OUT=1
"RTN","EASEZW",40,0)
 Q:+Y<0
"RTN","EASEZW",41,0)
 S (DA,EASAPP)=+Y
"RTN","EASEZW",42,0)
 S DIE="^EAS(712,"
"RTN","EASEZW",43,0)
 S DR=".2///^S X=XMZ;3////^S X=EASRECD;3.1///^S X=.5;3.2///^S X=""W"";4.5///^S X=EASFAC"
"RTN","EASEZW",44,0)
 D ^DIE
"RTN","EASEZW",45,0)
 S LINES=$$LINES()
"RTN","EASEZW",46,0)
 I 'LINES D
"RTN","EASEZW",47,0)
 .S DA=EASAPP,DIK="^EAS(712," D ^DIK
"RTN","EASEZW",48,0)
 I LINES D NMSSNDOB D DESIGNEE D CONFIRM(EASWEBID,EASAPP,XMZ)
"RTN","EASEZW",49,0)
 Q
"RTN","EASEZW",50,0)
 ;
"RTN","EASEZW",51,0)
LINES() ;parse data lines from message into #712 record
"RTN","EASEZW",52,0)
 N OUT,SECT,LINE,KEYIEN,DATANM,ADDCHILD,MULTIPLE,ZM,ZMM,OUT,DA,DR,DIC,DIE,DINUM,DLAYGO
"RTN","EASEZW",53,0)
 N ADDINSUR,ADDINCOM,ADDASSET
"RTN","EASEZW",54,0)
 ;find beginning of data lines
"RTN","EASEZW",55,0)
 S OUT=0 F  X XMREC Q:XMER=-1  S LINE=XMRG D  Q:OUT
"RTN","EASEZW",56,0)
 .I (LINE["SECTION")!(LINE["Section") S LINE=$$UC^EASEZT1(LINE)
"RTN","EASEZW",57,0)
 .I LINE["VISTA AUTOMATION" S OUT=1
"RTN","EASEZW",58,0)
 .I LINE["SECTION" D  Q
"RTN","EASEZW",59,0)
 ..S SECT=$P(LINE," - ",1),SECT=$TR(SECT," ",""),SECT=$P(SECT,"SECTION",2)
"RTN","EASEZW",60,0)
 ..S EASSECT=$TR(SECT,".","")
"RTN","EASEZW",61,0)
 I 'OUT Q 0
"RTN","EASEZW",62,0)
 ;file data lines
"RTN","EASEZW",63,0)
 ;variable EASIEN is the subrecord ien for data filing in file #712
"RTN","EASEZW",64,0)
 S EASIEN=0,OUT=0,ADDCHILD=0
"RTN","EASEZW",65,0)
 S ADDINSUR=0,ADDINCOM=0,ADDASSET=0
"RTN","EASEZW",66,0)
 F  X XMREC Q:XMER=-1  D  Q:OUT
"RTN","EASEZW",67,0)
 .S LINE=XMRG
"RTN","EASEZW",68,0)
 .I (LINE["SECTION")!(LINE["Section") S LINE=$$UC^EASEZT1(LINE)
"RTN","EASEZW",69,0)
 .I LINE["SECTION III" D SEC3 S OUT=1 Q
"RTN","EASEZW",70,0)
 .I $E(LINE,1,3)="EOF" Q
"RTN","EASEZW",71,0)
 .I LINE["ADDITIONAL CHILD" S ADDCHILD=ADDCHILD+1 Q
"RTN","EASEZW",72,0)
 .I LINE["ADDITIONAL INSURANCE" S ADDINSUR=ADDINSUR+1 Q
"RTN","EASEZW",73,0)
 .I LINE["ADDITIONAL INCOME" S ADDINCOM=ADDINCOM+1 Q
"RTN","EASEZW",74,0)
 .I LINE["ADDITIONAL ASSET" S ADDASSET=ADDASSET+1 Q
"RTN","EASEZW",75,0)
 .I LINE["SECTION" D  Q
"RTN","EASEZW",76,0)
 ..S SECT=$P(LINE," - ",1),SECT=$TR(SECT," ",""),SECT=$P(SECT,"SECTION",2)
"RTN","EASEZW",77,0)
 ..S EASSECT=$TR(SECT,".","")
"RTN","EASEZW",78,0)
 .S ZM=1,ZMM=2
"RTN","EASEZW",79,0)
 .F  D  Q:EASKEY=""  S ZM=ZM+2,ZMM=ZM+1
"RTN","EASEZW",80,0)
 ..S EASKEY=$P(LINE,U,ZM),EASKEY=$TR(EASKEY," ","")
"RTN","EASEZW",81,0)
 ..Q:EASKEY=""
"RTN","EASEZW",82,0)
 ..S EASDATA=$E($P(LINE,U,ZMM),1,240)
"RTN","EASEZW",83,0)
 ..;don't file null data
"RTN","EASEZW",84,0)
 ..Q:(EASDATA=" ")!(EASDATA="")
"RTN","EASEZW",85,0)
 ..;don't file 'empty' dates, phone numbers, ssns, etc.
"RTN","EASEZW",86,0)
 ..Q:(EASDATA="/")  Q:(EASDATA="//")  Q:(EASDATA="-")  Q:(EASDATA="--")  Q:(EASDATA["?")
"RTN","EASEZW",87,0)
 ..I EASKEY["." S EASKEY=EASSECT_";"_EASKEY
"RTN","EASEZW",88,0)
 ..;find this data element in the mapping file #711
"RTN","EASEZW",89,0)
 ..S X=$$KEY711^EASEZU1(EASKEY),KEYIEN=+X,DATANM=$P(X,U,2)
"RTN","EASEZW",90,0)
 ..S EASIEN=EASIEN+1
"RTN","EASEZW",91,0)
 ..;create subrecord
"RTN","EASEZW",92,0)
 ..S DIC="^EAS(712,EASAPP,10,",DIC(0)="L",DLAYGO="",X=KEYIEN,DINUM=EASIEN
"RTN","EASEZW",93,0)
 ..S DA(1)=EASAPP,DIC("P")=$P(^DD(712,10,0),U,2)
"RTN","EASEZW",94,0)
 ..K DD,DO D FILE^DICN
"RTN","EASEZW",95,0)
 ..;file data element
"RTN","EASEZW",96,0)
 ..S DIE="^EAS(712,EASAPP,10,",DA=EASIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZW",97,0)
 ..S MULTIPLE=1
"RTN","EASEZW",98,0)
 ..;I DATANM["CHILD(N)" S MULTIPLE=ADDCHILD
"RTN","EASEZW",99,0)
 ..I DATANM["CHILD(N)" S MULTIPLE=$S(ADDINCOM:ADDINCOM,1:ADDCHILD)
"RTN","EASEZW",100,0)
 ..I DATANM["C(N)" S MULTIPLE=ADDCHILD
"RTN","EASEZW",101,0)
 ..I DATANM["OTHER(N)" S MULTIPLE=ADDINSUR
"RTN","EASEZW",102,0)
 ..;I DATANM["INCOME(N)" S MULTIPLE=ADDINCOM
"RTN","EASEZW",103,0)
 ..I DATANM["ASSET(N)" S MULTIPLE=ADDASSET
"RTN","EASEZW",104,0)
 ..S DR=".1///^S X=MULTIPLE;1///^S X=EASDATA;"
"RTN","EASEZW",105,0)
 ..D ^DIE
"RTN","EASEZW",106,0)
 Q 1
"RTN","EASEZW",107,0)
 ;
"RTN","EASEZW",108,0)
SEC3 ;special parsing for Section III
"RTN","EASEZW",109,0)
 N OUT,DA,DIE,DR,X,C,LINE,EMAIL,EVERS,EXPECT,EDETL,ESERV,EAPREQ,ECOMM,ERR
"RTN","EASEZW",110,0)
 ;find the Submission ID
"RTN","EASEZW",111,0)
 S EASWEBID="",EMAIL="",EVERS="",EXPECT="",EDETL="",ESERV="",EAPREQ="" S OUT=0
"RTN","EASEZW",112,0)
 F  X XMREC Q:XMER=-1  D  Q:OUT
"RTN","EASEZW",113,0)
 .S LINE=XMRG
"RTN","EASEZW",114,0)
 .I LINE["EOF",LINE["III" S OUT=1 Q
"RTN","EASEZW",115,0)
 .I LINE["Comment" S NOCOMM=0,JJ=1 F  D  Q:NOCOMM  Q:OUT
"RTN","EASEZW",116,0)
 ..I JJ=1 S C=$P(LINE,U,2) S ECOMM(JJ)=C
"RTN","EASEZW",117,0)
 ..I JJ>1,$L(LINE)>1 S ECOMM(JJ)=LINE
"RTN","EASEZW",118,0)
 ..S JJ=JJ+1
"RTN","EASEZW",119,0)
 ..X XMREC
"RTN","EASEZW",120,0)
 ..I XMER=-1 S NOCOMM=1,OUT=1
"RTN","EASEZW",121,0)
 ..S LINE=XMRG
"RTN","EASEZW",122,0)
 ..I $E(LINE,1,30)["Services Request" S NOCOMM=1
"RTN","EASEZW",123,0)
 .I LINE["Submit ID" S EASWEBID=$P(LINE,U,2)
"RTN","EASEZW",124,0)
 .I LINE["Email Address" S EMAIL=$P(LINE,U,2)
"RTN","EASEZW",125,0)
 .I LINE["Version #" S EVERS=$P(LINE,U,2)
"RTN","EASEZW",126,0)
 .I LINE["Veteran To Mail" S X=$P(LINE,U,2),EXPECT=$S(X["Vet":1,1:"")
"RTN","EASEZW",127,0)
 .I LINE["Provide",LINE["Details" S EDETL=$P(LINE,U,2)
"RTN","EASEZW",128,0)
 .I LINE["Appointment Request" S X=$P(LINE,U,2),EAPREQ=$S(X="YES":1,1:0)
"RTN","EASEZW",129,0)
 .I LINE["Services Request" S ESERV=$P(LINE,U,2)
"RTN","EASEZW",130,0)
 ;file the Submission ID into #712 record
"RTN","EASEZW",131,0)
 S DA=EASAPP
"RTN","EASEZW",132,0)
 S DIE="^EAS(712,"
"RTN","EASEZW",133,0)
 S DR=".1///^S X=EASWEBID;3.6///^S X=EVERS;3.7///^S X=EXPECT;3.8///^S X=EDETL;4.3///^S X=EMAIL;"
"RTN","EASEZW",134,0)
 S DR=DR_"4.4///^S X=EAPREQ;12///^S X=ESERV"
"RTN","EASEZW",135,0)
 D ^DIE
"RTN","EASEZW",136,0)
 K DA,DIE,DR,X,Y
"RTN","EASEZW",137,0)
 I $D(ECOMM) D WP^DIE(712,EASAPP_",",13,,"ECOMM","ERR")
"RTN","EASEZW",138,0)
 Q
"RTN","EASEZW",139,0)
 ;
"RTN","EASEZW",140,0)
NMSSNDOB ;find applicant's name,ssn,dob in data subrecords & file in main record
"RTN","EASEZW",141,0)
 ;get applicant name
"RTN","EASEZW",142,0)
 N KEY,MDL,SUFF,N,X,Y,ZX,DA,DR,DIE
"RTN","EASEZW",143,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT LAST NAME"),EASNAME=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",144,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT FIRST NAME"),EASNAME=EASNAME_","_$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",145,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT MIDDLE NAME"),MDL=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",146,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT SUFFIX NAME"),SUFF=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",147,0)
 I $L(EASNAME)+$L(MDL)>45 S MDL=$E(MDL,1)
"RTN","EASEZW",148,0)
 I MDL'="" S EASNAME=EASNAME_" "_MDL
"RTN","EASEZW",149,0)
 I SUFF'="" S EASNAME=EASNAME_" "_SUFF
"RTN","EASEZW",150,0)
 S EASNAME=$$UC^EASEZT1($E(EASNAME,1,45))
"RTN","EASEZW",151,0)
 ;get applicant ssn & dob
"RTN","EASEZW",152,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT SOCIAL SECURITY NUMBER")
"RTN","EASEZW",153,0)
 S EASSSN=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1),EASSSN=$$SSNOUT^EASEZT1(EASSSN)
"RTN","EASEZW",154,0)
 S KEY=$$KEY711^EASEZU1("APPLICANT DATE OF BIRTH")
"RTN","EASEZW",155,0)
 S EASDOB=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",156,0)
 S VETTYPE=$$VETTYPE(EASAPP)
"RTN","EASEZW",157,0)
 S N(1)=$O(^EAS(711,"AB","APPLICANT FIRST NAME",0)),KEY(1)=$P($G(^EAS(711,N(1),0)),U,2)
"RTN","EASEZW",158,0)
 K DA,DR S DA=EASAPP,DIE="^EAS(712,"
"RTN","EASEZW",159,0)
 S ZX=EASSSN_"&"_EASDOB
"RTN","EASEZW",160,0)
 S DR="1///^S X=EASNAME;2///^S X=ZX;3.3///^S X=VETTYPE"
"RTN","EASEZW",161,0)
 D ^DIE
"RTN","EASEZW",162,0)
 Q
"RTN","EASEZW",163,0)
 ;
"RTN","EASEZW",164,0)
VETTYPE(EASAPP) ;derive a veteran type categorization for this Applicant
"RTN","EASEZW",165,0)
 ;input  EASAPP = ien in file #712 for Application
"RTN","EASEZW",166,0)
 ;output TYPE   = veteran type
"RTN","EASEZW",167,0)
 ;
"RTN","EASEZW",168,0)
 N KEY,PH,POW,SC,SCPC,MRET,VETTYPE
"RTN","EASEZW",169,0)
 ;get application data needed to determine veteran type
"RTN","EASEZW",170,0)
 S KEY=$$KEY711^EASEZU1("PURPLE HEART"),PH=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",171,0)
 S KEY=$$KEY711^EASEZU1("PRISONER OF WAR"),POW=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",172,0)
 S KEY=$$KEY711^EASEZU1("SERVICE-CONNECTED"),SC=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",173,0)
 S KEY=$$KEY711^EASEZU1("RATED PERCENTAGE"),SCPC=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",174,0)
 S KEY=$$KEY711^EASEZU1("RETIRED FROM MILITARY"),MRET=$P($$DATA712^EASEZU1(EASAPP,KEY),U,1)
"RTN","EASEZW",175,0)
 ;set veteran type
"RTN","EASEZW",176,0)
 I PH="Y" Q 5
"RTN","EASEZW",177,0)
 I POW="Y" Q 4
"RTN","EASEZW",178,0)
 I SC="Y" S TYPE=$S(+SCPC>49:1,+SCPC=0:3,1:2) Q TYPE
"RTN","EASEZW",179,0)
 I MRET="Y" Q 6
"RTN","EASEZW",180,0)
 Q 7
"RTN","EASEZW",181,0)
 ;
"RTN","EASEZW",182,0)
DESIGNEE ;set either NOK or E-CONTACT data into DESIGNEE
"RTN","EASEZW",183,0)
 N DIC,DIE,DA,DR,X,Y,EASDATA,TYPE,MULTIPLE,XPART,KEY,EASIEN
"RTN","EASEZW",184,0)
 S KEY=$$KEY711^EASEZU1("DESIGNEE")
"RTN","EASEZW",185,0)
 S EZDATA=$P($$DATA712^EASEZU1(EASAPP,KEY,1),U,1)
"RTN","EASEZW",186,0)
 I (EZDATA["EMERGENCY")!(EZDATA["CONTACT") S TYPE="E-CONTACT"
"RTN","EASEZW",187,0)
 E  S TYPE="NEXT-OF-KIN"
"RTN","EASEZW",188,0)
 ;place all NOK or E-CONTACT data in DESIGNEE data lements
"RTN","EASEZW",189,0)
 F I=1:1 S X=$P($T(DSGDAT+I),";;",2) Q:X="QUIT"  D
"RTN","EASEZW",190,0)
 .S XPART=$P(X,";",1)
"RTN","EASEZW",191,0)
 .S KEY=$$KEY711^EASEZU1(TYPE_" "_XPART)
"RTN","EASEZW",192,0)
 .Q:KEY=.1
"RTN","EASEZW",193,0)
 .S KEYIEN=+$P(KEY,U,1),DATAKEY=$P(KEY,U,3)
"RTN","EASEZW",194,0)
 .;in file #2, multiple is always 1
"RTN","EASEZW",195,0)
 .S MULTIPLE=1
"RTN","EASEZW",196,0)
 .;get the data element for the NOK or E-CONT
"RTN","EASEZW",197,0)
 .S X=$$DATA712^EASEZU1(EASAPP,KEY,MULTIPLE),EASDATA=$P(X,U,1)
"RTN","EASEZW",198,0)
 .Q:EASDATA=""
"RTN","EASEZW",199,0)
 .;and file it as DESIGNEE
"RTN","EASEZW",200,0)
 .;create subrecord
"RTN","EASEZW",201,0)
 .S X=$$KEY711^EASEZU1("DESIGNEE"_" "_XPART),KEYIEN=+X
"RTN","EASEZW",202,0)
 .S EASIEN=$O(^EAS(712,EASAPP,10,999),-1)+1
"RTN","EASEZW",203,0)
 .S DIC="^EAS(712,EASAPP,10,",DIC(0)="L",DLAYGO="",X=KEYIEN,DINUM=EASIEN
"RTN","EASEZW",204,0)
 .S DA(1)=EASAPP,DIC("P")=$P(^DD(712,10,0),U,2)
"RTN","EASEZW",205,0)
 .K DD,DO D FILE^DICN
"RTN","EASEZW",206,0)
 .;file data element
"RTN","EASEZW",207,0)
 .S DIE="^EAS(712,EASAPP,10,",DA=EASIEN,DA(1)=EASAPP,DR(1)="10;"
"RTN","EASEZW",208,0)
 .S DR=".1///^S X=1;1///^S X=EASDATA;"
"RTN","EASEZW",209,0)
 .D ^DIE
"RTN","EASEZW",210,0)
 Q
"RTN","EASEZW",211,0)
 ;
"RTN","EASEZW",212,0)
DSGDAT ;
"RTN","EASEZW",213,0)
 ;;LAST NAME;
"RTN","EASEZW",214,0)
 ;;FIRST NAME;
"RTN","EASEZW",215,0)
 ;;STREET ADDRESS;
"RTN","EASEZW",216,0)
 ;;CITY;
"RTN","EASEZW",217,0)
 ;;STATE;
"RTN","EASEZW",218,0)
 ;;ZIP;;
"RTN","EASEZW",219,0)
 ;;HOME PHONE AREA CODE;
"RTN","EASEZW",220,0)
 ;;HOME PHONE NUMBER;
"RTN","EASEZW",221,0)
 ;;WORK PHONE AREA CODE;
"RTN","EASEZW",222,0)
 ;;WORK PHONE NUMBER;
"RTN","EASEZW",223,0)
 ;;WORK PHONE EXTENSION;
"RTN","EASEZW",224,0)
 ;;RELATIONSHIP;
"RTN","EASEZW",225,0)
 ;;QUIT
"RTN","EASEZW",226,0)
 ;
"RTN","EASEZW",227,0)
CONFIRM(EASWEBID,EASAPP,EASXMZ) ;confirm receipt of web submission message to Forum
"RTN","EASEZW",228,0)
 ;input EASAPP   = ien in file #712
"RTN","EASEZW",229,0)
 ;      EASWEBID = web submission id
"RTN","EASEZW",230,0)
 ;      EASXMZ   = ien in file #3.9 for msg being processed
"RTN","EASEZW",231,0)
 N ARRAY,DIC,DIQ,DA,DR,STN,XMSUB,XMDUZ,XMTEXT,XMY,XMZ
"RTN","EASEZW",232,0)
 Q:$G(EASAPP)=""  Q:$G(EASWEBID)=""
"RTN","EASEZW",233,0)
 S DA=EASAPP,DIC="^EAS(712,",DIQ="ARRAY",DIQ(0)="I",DR=".2;4.5"
"RTN","EASEZW",234,0)
 D EN^DIQ1
"RTN","EASEZW",235,0)
 S STN=$G(ARRAY(712,EASAPP,4.5,"I")),STN=$TR(STN," ",""),STN=STN_U_"G.VA1010EZ@"_^XMB("NETNAME")
"RTN","EASEZW",236,0)
 S ^TMP("1010EZRC",$J,1)="Receipt Confirmation for: "_EASWEBID
"RTN","EASEZW",237,0)
 S ^TMP("1010EZRC",$J,2)="Sent from: "_STN
"RTN","EASEZW",238,0)
 ;send msg # from holding file record just in case current msg is a duplicate
"RTN","EASEZW",239,0)
 S ^TMP("1010EZRC",$J,3)="Site msg #: "_$G(ARRAY(712,EASAPP,.2,"I"))
"RTN","EASEZW",240,0)
 S XMSUB="1010EZ CONFIRMATION for SID "_EASWEBID,XMDUZ=.5
"RTN","EASEZW",241,0)
 S XMY("1010EZ.1010EZ@FORUM.VA.GOV")=""
"RTN","EASEZW",242,0)
 S XMTEXT="^TMP(""1010EZRC"",$J,"
"RTN","EASEZW",243,0)
 D ^XMD
"RTN","EASEZW",244,0)
 K ^TMP("1010EZRC",$J)
"RTN","EASEZW",245,0)
 Q
"SEC","^DIC",711,711,0,"AUDIT")
@
"SEC","^DIC",711,711,0,"DD")
@
"SEC","^DIC",711,711,0,"DEL")
@
"SEC","^DIC",711,711,0,"LAYGO")
@
"SEC","^DIC",711,711,0,"RD")
@
"SEC","^DIC",711,711,0,"WR")
@
"VER")
8.0^22.0
"^DD",711,711,0)
FIELD^^10^11
"^DD",711,711,0,"DDA")
N
"^DD",711,711,0,"DT")
3010303
"^DD",711,711,0,"IX","A",711,1)

"^DD",711,711,0,"IX","AB",711,.01)

"^DD",711,711,0,"IX","B",711,.01)

"^DD",711,711,0,"IX","C",711,.1)

"^DD",711,711,0,"NM","1010EZ MAPPING")

"^DD",711,711,0,"NM","1010EZ MAPPING ")

"^DD",711,711,0,"PT",712.01,.01)

"^DD",711,711,0,"VRPK")
EAS
"^DD",711,711,.01,0)
ASSIGNED DATA NAME^RF^^0;1^K:$L(X)>50!($L(X)<3)!'(X'?1P.E) X
"^DD",711,711,.01,1,0)
^.1
"^DD",711,711,.01,1,1,0)
711^B
"^DD",711,711,.01,1,1,1)
S ^EAS(711,"B",$E(X,1,30),DA)=""
"^DD",711,711,.01,1,1,2)
K ^EAS(711,"B",$E(X,1,30),DA)
"^DD",711,711,.01,1,2,0)
711^AB^MUMPS
"^DD",711,711,.01,1,2,1)
S ^EAS(711,"AB",X,DA)=""
"^DD",711,711,.01,1,2,2)
K ^EAS(711,"AB",X,DA)
"^DD",711,711,.01,1,2,3)
DO NOT DELETE
"^DD",711,711,.01,1,2,"DT")
3001012
"^DD",711,711,.01,3)
Answer must be 3-50 characters in length.
"^DD",711,711,.01,21,0)
^^2^2^3010303^
"^DD",711,711,.01,21,1,0)
This unique descriptive name is used to group related 10-10EZ
"^DD",711,711,.01,21,2,0)
data elements.
"^DD",711,711,.01,"DT")
3001009
"^DD",711,711,.1,0)
DATA KEY^F^^0;2^K:$L(X)>12!($L(X)<1) X
"^DD",711,711,.1,1,0)
^.1
"^DD",711,711,.1,1,1,0)
711^C
"^DD",711,711,.1,1,1,1)
S ^EAS(711,"C",$E(X,1,30),DA)=""
"^DD",711,711,.1,1,1,2)
K ^EAS(711,"C",$E(X,1,30),DA)
"^DD",711,711,.1,1,1,3)
DO NOT DELETE
"^DD",711,711,.1,1,1,"DT")
3001009
"^DD",711,711,.1,3)
Answer must be 1-12 characters in length.
"^DD",711,711,.1,21,0)
^.001^6^6^3010307^^
"^DD",711,711,.1,21,1,0)
The Data Key is a unique identifier that associates this data element
"^DD",711,711,.1,21,2,0)
with a specific Section and Question in the On-Line 10-10EZ.
"^DD",711,711,.1,21,3,0)
Format is:  Section_;_Question
"^DD",711,711,.1,21,4,0)
            where Section and Question refer to specific data locations
"^DD",711,711,.1,21,5,0)
            on the 10-10EZ; each Section;Question identifier has been
"^DD",711,711,.1,21,6,0)
            mapped to a particular VistA database field (in most cases).
"^DD",711,711,.1,"DT")
3001009
"^DD",711,711,1,0)
ACTIVE^RS^A:ACTIVE;I:INACTIVE;^0;3^Q
"^DD",711,711,1,1,0)
^.1
"^DD",711,711,1,1,1,0)
711^A
"^DD",711,711,1,1,1,1)
S ^EAS(711,"A",$E(X,1,30),DA)=""
"^DD",711,711,1,1,1,2)
K ^EAS(711,"A",$E(X,1,30),DA)
"^DD",711,711,1,1,1,3)
DO NOT DELETE
"^DD",711,711,1,1,1,"DT")
3001017
"^DD",711,711,1,21,0)
^^3^3^3010303^
"^DD",711,711,1,21,1,0)
This provides a means to inactivate the mapping between a 10-10EZ
"^DD",711,711,1,21,2,0)
data element and the VistA database without destroying the mapping
"^DD",711,711,1,21,3,0)
for Applications already processed and filed to VistA.
"^DD",711,711,1,"DT")
3001017
"^DD",711,711,1.1,0)
INACTIVATE DATE^D^^0;4^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",711,711,1.1,21,0)
^^3^3^3010303^
"^DD",711,711,1.1,21,1,0)
If the mapping between a 10-10EZ data element and the VistA database
"^DD",711,711,1.1,21,2,0)
is 'inactivated', this field holds the date on which the inactivation
"^DD",711,711,1.1,21,3,0)
occurred.
"^DD",711,711,1.1,"DT")
3001008
"^DD",711,711,1.2,0)
VERSION #^RF^^0;5^K:$L(X)>8!($L(X)<1) X
"^DD",711,711,1.2,3)
Answer must be 1-8 characters in length.
"^DD",711,711,1.2,21,0)
^^2^2^3010303^
"^DD",711,711,1.2,21,1,0)
The version number of the On-Line 10-10EZ software which utilizes
"^DD",711,711,1.2,21,2,0)
this 1010EZ-to-VistA mapping.
"^DD",711,711,1.2,"DT")
3001211
"^DD",711,711,2,0)
MAP-TO FILE^RF^^1;1^K:$L(X)>8!($L(X)<1) X
"^DD",711,711,2,3)
Answer must be 1-8 characters in length.
"^DD",711,711,2,21,0)
^.001^2^2^3010307^^
"^DD",711,711,2,21,1,0)
This is the file number of the VistA database file which holds the
"^DD",711,711,2,21,2,0)
field to which this 10-10EZ data element has been mapped.
"^DD",711,711,2,"DT")
3001006
"^DD",711,711,3,0)
MAP-TO SUB-FILE^RF^^1;2^K:$L(X)>8!($L(X)<1) X
"^DD",711,711,3,3)
Answer must be 1-8 characters in length.
"^DD",711,711,3,21,0)
^.001^2^2^3010307^^
"^DD",711,711,3,21,1,0)
This is the sub-file number of the VistA database sub-file which holds
"^DD",711,711,3,21,2,0)
the field to which this 10-10EZ data element has been mapped.
"^DD",711,711,3,"DT")
3001006
"^DD",711,711,4,0)
MAP-TO FIELD^RF^^1;3^K:$L(X)>8!($L(X)<1) X
"^DD",711,711,4,3)
Answer must be 1-8 characters in length.
"^DD",711,711,4,21,0)
^^2^2^3010303^
"^DD",711,711,4,21,1,0)
This is the field number within the VistA database file or sub-file
"^DD",711,711,4,21,2,0)
to which this 10-10EZ data element has been mapped.
"^DD",711,711,4,"DT")
3010303
"^DD",711,711,5,0)
DISPLAY NAME^F^^2;1^K:$L(X)>30!($L(X)<3) X
"^DD",711,711,5,3)
Answer must be 3-30 characters in length.
"^DD",711,711,5,21,0)
^^2^2^3010303^
"^DD",711,711,5,21,1,0)
The shortened name for this 10-10EZ data element employed within the
"^DD",711,711,5,21,2,0)
1010EZ module List Manager interface.
"^DD",711,711,5,"DT")
3001024
"^DD",711,711,6,0)
DIR(0)^K^^3;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",711,711,6,3)
This is Standard MUMPS code.
"^DD",711,711,6,9)
@
"^DD",711,711,6,21,0)
^^4^4^3010303^
"^DD",711,711,6,21,1,0)
M code to set DIR(0) for a call to the FileMan Reader can be placed
"^DD",711,711,6,21,2,0)
here.  If present, this code will be used when the data element is
"^DD",711,711,6,21,3,0)
being updated within the "Update Field (UF)" action of the 
"^DD",711,711,6,21,4,0)
EAS EZ 1010EZ PROCESSING option.
"^DD",711,711,6,"DT")
3001102
"^DD",711,711,10,0)
TRANSFORM^K^^T;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",711,711,10,3)
This is Standard MUMPS code.
"^DD",711,711,10,9)
@
"^DD",711,711,10,21,0)
^^4^4^3010303^
"^DD",711,711,10,21,1,0)
Certain 10-10EZ data elements cannot be used directly to overwrite
"^DD",711,711,10,21,2,0)
VistA database fields; instead they require some transformation.
"^DD",711,711,10,21,3,0)
This field contains the M code needed to perform the needed data
"^DD",711,711,10,21,4,0)
transformation.
"^DD",711,711,10,"DT")
3001006
"^DIC",711,711,0)
1010EZ MAPPING^711
"^DIC",711,711,0,"GL")
^EAS(711,
"^DIC",711,711,"%",0)
^1.005^^0
"^DIC",711,711,"%D",0)
^^10^10^3010307^^^
"^DIC",711,711,"%D",1,0)
The 1010EZ MAPPING File holds the mapping between each data element
"^DIC",711,711,"%D",2,0)
in the On-Line 10-10EZ Application and the VistA Patient database.
"^DIC",711,711,"%D",3,0)
Each record in this file is uniquely identified by a Data Key which
"^DIC",711,711,"%D",4,0)
correlates exactly with a specific 10-10EZ form question within a
"^DIC",711,711,"%D",5,0)
specific 10-10EZ section.  Each record also contains the exact VistA
"^DIC",711,711,"%D",6,0)
database location (i.e., file/sub-file/field) where the data will be
"^DIC",711,711,"%D",7,0)
stored.
"^DIC",711,711,"%D",8,0)
 
"^DIC",711,711,"%D",9,0)
Local modifications to this file will cause the the 1010EZ module
"^DIC",711,711,"%D",10,0)
to malfunction and may jeopardize database integrity.
"^DIC",711,"B","1010EZ MAPPING",711)

**END**
**END**
