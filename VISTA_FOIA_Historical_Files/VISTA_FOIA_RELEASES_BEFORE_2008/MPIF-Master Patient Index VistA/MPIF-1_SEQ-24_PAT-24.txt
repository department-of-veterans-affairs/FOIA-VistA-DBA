$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 11/21/02 at 13:04
=============================================================================
Run Date: NOV 26, 2002                     Designation: MPIF*1*24
Package : MPIF - MASTER PATIENT INDEX VISTA Priority: Mandatory
Version : 1        SEQ #24                      Status: Released
=============================================================================

Associated patches: (v)MPIF*1*20   <<= must be installed BEFORE `MPIF*1*24'
                    (v)MPIF*1*21   <<= must be installed BEFORE `MPIF*1*24'
                    (v)MPIF*1*22   <<= must be installed BEFORE `MPIF*1*24'
                    (v)DG*5.3*474  <<= must be installed BEFORE `MPIF*1*24'

Subject: NEW MESSAGE STRUCTURE - PHASE 2

Category: 
  - Enhancement (Mandatory)
  - Routine

Description: 
============

  IMPORTANT NOTE:
  Although this patch is NOT being sent out as an EMERGENCY patch,
  the Master Patient Index/Patient Demographics (MPI/PD) development
  team and the Master Patient Index Data Quality Management team
  request that you install the patch as soon as your schedule allows.
  Additional development in progress, described below, is dependent
  upon this patch being installed at all facilities.
   
  Also, the MPI/PD development team's facility access should
  remain active until all phases in this process are completed.
   
  DG*5.3*474, MPIF*1.0*20, MPIF*1.0*21, and MPIF*1.0*22 are required
  builds for patch MPIF*1*24.
   
  NOTE:  RG* and MPIF* patches should NOT be installed on legacy
  systems to avoid issues with the legacy systems ending up as
  Coordinating Master of Records (CMORs), treating facilities,
  or subscribers.
   
  This patch includes enhancements that are proposed in the Master
  Patient Index/Patient Demographics, Phase III Enhancements, Software
  Design Document.
   
  A series of patches will be distributed to implement a new messaging
  structure for Master Patient Index/Patient Demographics (MPI/PD). 
  Our current message scheme uses the Coordinating Master of Record
  (CMOR) as the origination point for a number of update messages to
  other treating facilities.  Overall, our objective is to reduce the
  amount of facility to facility messaging.  This will be done by using
  the Master Patient Index (MPI) as the source for update messages. 
  For those message types that require CMOR action, the CMOR will update
  the MPI, and the MPI will distribute updates to the appropriate
  treating facilities.
   
  Changes to messaging will include using a new generic Health Level
  Seven (HL7) 2.4 message builder for the ENV, PD1, and PID segments. 
  Additionally, HL7 application acknowledgements will be incorporated
  in all MPI/PD messages.
   
  These changes will take place in three phases.  Phase one consisted
  of patches DG*5.3*428, MPIF*1*22, and RG*1*26.  Those patches
  contained the protocols and routines to execute the protocols for the
  new messaging.
      
  Patches DG*5.3*474, MPIF*1*24, and RG*1*27 constitute phase two.
  The second phase will update the necessary routines to call the new
  trigger events using the updated messaging structure.  The trigger
  events will include the following.
  - Add new patient to the MPI
  - Link to an existing patient on the MPI
  - Update to non-key fields on an existing MPI entry
  - Update to key fields on an existing MPI entry
  - Update to date last treated
  - Resolution of duplicates at the site where both entries
    exist on the MPI
  - Resolution of duplicates on the MPI
  - Identification and resolution of a mismatched patient
  - Inactivation of existing entry on the MPI
   
  After the second phase patches are installed at a facility,
  the subsequent steps can begin.
   
  The next step is a data synchronization process to populate new fields
  in the MPI FACILITY ASSOCIATION (#985.5) file on the MPI for each
  facility associated with a national integration control number. 
  The MPI/PD development team will do this "re-seeding" process.
   
  The third phase will contain additional messaging functionality
  that can not be implemented until the synchronization process has
  completed.  A final group of patches will clean up obsolete routines,
  protocols, options, etc. that are no longer used.
   
  To summarize, patches DG*5.3*474, MPIF*1*24, and RG*1*27 contain
  the necessary routines to call the new trigger events using the
  updated messaging structure.
   
  Test Sites:
  ===========
  Battle Creek, MI
  Bay Pines, FL
  Montana HCS
  San Francisco, CA
  VA Greater Los Angeles HCS
  White River Junction, VT
     
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
    
  <TAB>;;1.0; MASTER PATIENT INDEX VISTA ;**[Patch List]**;30 Apr 99
  CHECK^XTSUMBLD results:
    
  Routine       Before Patch       After Patch       Patch List
  --------      ------------       ------------      ----------
  MPIFA24         4793396            4838635         22,24
  MPIFA31B        2515799            2522935         22,24
  MPIFBT3        11390859           11674142         1,3,10,17,21,24
  MPIFQ0         25267283           25359794         1,3,8,14,13,16,
                                                     17,21,20,24
  MPIFQ1         19812830           20077621         1,8,12,16,17,21,
                                                     23,24
  MPIFQUE4       15678319           15858614         1,3,11,24
  MPIFRPC2        6443079            7430748         20,24
  MPIFSEED        5260987            4199966         22,24
   
  INSTALLATION INSTRUCTIONS:
  =========================
  This patch may be loaded with users on the system.  You may wish
  to install it during non-peak hours to minimize disruption to the
  users.  Installation will take less than 3 minutes.
   
     1.  Users are allowed on the system during patch installation.
         
     2.  TaskMan does not need to be stopped or placed in a wait state. 
    
     3.  These routines are not usually mapped, so you will probably not
         have to disable mapping. 
   
     4.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note:
         TEXT PRINT/DISPLAY option in the PackMan menu will display the
         patch text only.
   
     5.  From the Kernel Installation and Distribution System Menu, select
         the Installation menu.  
   
     6.  From this menu, you may elect to use the following options:
         a.  Backup a Transport Global - this option will create a backup
             message of any routines exported with the patch.  It will NOT
             backup any other changes such as DDs or templates.
         b.  Compare Transport Global to Current System  - this option will
             allow you to view all changes that will be made when the patch
             is installed.  It compares all components of the patch
             (routines, DDs, templates, etc.).
         c.  Verify Checksums in Transport Global - this option will allow
             you to ensure the integrity of the routines that are in the
             transport global.
         d.  Print Transport Global - this option will allow you to view the
             components of the KIDS build.
   
     7.  Use the Install Package(s) option and select the package 
         MPIF*1.0*24.
    
     8.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? '
         YES//', respond No.
    
     9.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
         Protocols? YES//', respond Yes and enter the following options:
   
         Inactivate Patient from MPI     [MPIF PAT INACT]
         Single Patient Initialization to MPI  [MPIF IND MPI LOAD]
         Display Only Query              [MPIF DISPLAY ONLY QUERY TO MPI]
         Local/Missing ICN Resolution Background Job [MPIF LOC/MIS ICN RES]
   
         10-10T Registration             [DGRPT 10-10T REGISTRATION]
         Register a Patient              [DG REGISTER PATIENT]
         Load/Edit Patient Data          [DG LOAD PATIENT DATA]
         Electronic 10-10EZ Processing   [EAS EZ 1010EZ PROCESSING]
         
    10.  If you unmapped routines in step 3, remap them after installation
         has completed.

Routine Information:
====================

Routine Name:
  - MPIFA24


Routine Checksum:

Routine Name:
  - MPIFA31B


Routine Checksum:

Routine Name:
  - MPIFBT3


Routine Checksum:

Routine Name:
  - MPIFQ0


Routine Checksum:

Routine Name:
  - MPIFQUE4


Routine Checksum:

Routine Name:
  - MPIFRPC2


Routine Checksum:

Routine Name:
  - MPIFSEED


Routine Checksum:

Routine Name:
  - MPIFQ1


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : CHESNEY,CHRISTINE M           Date Entered : JUL 23, 2002
Completed By: HERREN,CATHRYN                Date Completed: NOV 21, 2002
Released By : BURTS,WANDA                   Date Released : NOV 26, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
