$TXT Created by WANG,DAN at VAB-RAD.FO-OAKLAND.MED.VA.GOV  (KIDS) on TUESDAY, 05/04/04 at 09:31
=============================================================================
Run Date: JUN 02, 2004                     Designation: XU*8*309
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #282                      Status: Released
                  Compliance Date: JUL 03, 2004
=============================================================================


Subject: Person Service Pre-migration Cleanup

Category: 
  - Routine
  - Data Dictionary

Description:
============

 HSDD Common Services//PS: Person Service has been tasked with standing
 up a central Person repository.  Each Person will be enumerated with a
 unique identifier called a VPID (VA Person ID).  The first Person data
 to be enumerated - prior to migrating the data to the central repository
 - will be entries in the NEW PERSON (#200) File (NPF).
  
 Before enumeration takes place, each Person must be uniquely identified.  
 The NPF data elements this patch will address, prior to enumeration, are 
 the DOB (#5) and  SEX (#4).  These data elements must be validated prior
 to any attempt to use them as identifying traits.  As a first step we will
 compare the values in the NPF against the same values in the PAID EMPLOYEE
 (#450) file.  This patch will provide four options that provide some of
 this information.
  
 It is recommended that before running the option XUPS UPDATE NEW PERSON 
 FILE DATA [XUPS UPDATE NEW PERSON FILE ] to clean up the NEW PERSON file,
 turn the audit on for the SEX (#4) and DOB (#5) field of the NEW PERSON
 file (#200). The audit may be turned off after the clean up is finished.
 The audit can be turned on or off via option Turn Data Audit On/Off
 [DIAUDI TURN ON/OFF], under the Audit Menu [DIAUDIT].
  
 FUNCTIONAL DESCRIPTION
 ======================
 The options provided by this patch can be found under NPF cleanup main 
 menu [XUPS NPF CLEANUP MAIN MENU] in the Kernel Management Menu
 [XUKERNEL].
  
 The functional changes that will be introduced with this patch include:
  
 1. Detailed NEW PERSON file clean up assessment report, under option XUPS
 ASSESSMENT DETAIL [XUPS ASSESSMENT DETAIL].
  
 2. NEW PERSON file clean up statistic report, under option XUPS ASSESSMENT
 STATS [XUPS ASSESSMENT STATS].
  
 3. NEW PERSON file clean up pre-update reports, under option XUPS
 PREUPDATE NPF REPORTS [XUPS PREUPDATE NPF REPORTS]. The reports will be
 emailed (MailMan) to the user who runs the reports. One report lists the
 NEW PERSON file entries with different LastName, Sex, or DOB from their
 linked PAID EMPLOYEE entries. The other report lists all NEW PERSON file
 entries that will be updated.
  
 4. NEW PERSON file clean up with data from the PAID EMPLOYEE file, under
 option XUPS UPDATE NEW PERSON FILE DATA [XUPS UPDATE NEW PERSON FILE 
 DATA].
  
 5. A new field, VPID (#9000), will be added to the NEW PERSON file. The 
 field will be used to store the VA Person ID after the NEW PERSON entries 
 are enumerated.
  
 The assessment reports are based on the NEW PERSON file.  They provide 
 statistics of the NEW PERSON file.
  
 The pre-update reports are based on linked NEW PERSON and PAID EMPLOYEE
 entries (the entries are linked if they have the same SSN). One report
 lists linked entries that have different LastName & FirstName, SEX, and/or
 DOB. The other report lists the NEW PERSON entries that will be updated,
 i.e. the entries that have the same LastName & FirstName with their linked
 PAID EMPLOYEE entries, but with SEX or DOB missing from the NEW PERSON
 file. The pre-update reports will be sent to the user who runs the option,
 as two MailMan messages.
  
 The option XUPS UPDATE NEW PERSON FILE [XUPS UPDATE NEW PERSON FILE] will
 run the pre-update reports first and update the NEW PERSON file with
 values from the PAID EMPLOYEE file. If a NEW PERSON entry has the same
 LastName & FirstName with its linked PAID EMPLOYEE entry, but its SEX
 and/or DOB is missing, the NEW PERSON entry will be updated with SEX
 and/or DOB from the PAID EMPLOYEE file. After the update is complete, an 
 email notification will be sent to the user who run the update as well as 
 a mail group, XUPS IDENTITY MANAGEMENT, on Forum.
  
  
 TECHNICAL DESCRIPTION
 =====================
 The following is a summary of the components included in this patch.
  
 Options
 =======
 XUPS NPF CLEANUP MAIN MENU
 XUPS ASSESSMENT DETAIL
 XUPS ASSESSMENT STATS
 XUPS PREUPDATE NPF REPORTS
 XUPS UPDATE NEW PERSON FILE
  
 Data Dictionary Change
 ======================
 A new field, VPID (#9000), will be added to the NEW PERSON file.
  
 Routine Summary
 ===============
 The following routines are included in this patch.  The second
 line of each of these routines now looks like:
  
      <tab>;;8.0;KERNEL;**[patch list]**;Jul 10, 1995
  
 Checksums
 =========
 Sites should use CHECK^XTSUMBLD to verify checksums. 
  
    Rtn Nm     Chksum Before   Chksum After  Patch List
    _______    _____________   ___________   ________
  
    XUPS       New             80516         **309**
    XUPS309P   New             166973        **309**
    XUPSCLR    New             9596341       **309**
    XUPSNAME   New             2887621       **309**
    XUPSNM1    New             4205133       **309**
    XUPSPAID   New             11140807      **309**
    XUPSPD1    New             1058778       **309**
    XUPSUTQ    New             2961998       **309**
  
  
 Test Sites
 ==========
 Montana HCS
 NORTHERN CALIFORNIA HCS
 MILWAUKEE VAMC
 TOMAH VAMC
 Battle Creek
  
  
 Blood Bank clearance
 ====================
 April 12, 2004 
  
  
 Installation Instructions
 =========================
  
 1.  Users ARE allowed to be on the system during the installation.
  
 2.  The patch may be installed at any time during the day.
  
 3.  The Installation will take less than 1 minute.
  
 4.  Use the "INSTALL/CHECK MESSAGE" option on the PackMan menu. This loads 
 the patch into a Transport Global onto your system. 
     
 5.  You DO NOT need to stop TaskMan or the background filers.
  
 6.  On the KIDS menu, select the "Installation" menu and use the following
 options to install the Transport Global:                                  
   
   Verify Checksums in Transport Global               
   Print Transport Global                             
   Compare Transport Global to Current System         
   Backup a Transport Global
   Install Package(s)                           
   INSTALL NAME: XU*8.0*309
                 ==========
  
   The install will ask if you wish to rebuild menu trees.  It is 
   recommended that you answer NO to this prompt.  The trees will be
   rebuilt the next time the system does this task.
  
   Want KIDS to INHIBIT LOGONs during the install?  YES// NO
                                                          ==
   Want to DISABLE Scheduled Options, Menu, Options, and Protocols?  YES// NO
                                                                           ==
   The post-install routine, XUPS309P, will be automatically deleted after 
   the installation. The after checksum for this routine will not be 
   available.
  
  
 POST INSTALLATION INSTRUCTION
 ==============================
  
 STEP 1
 ------ 
 It is recommended that before running the option XUPS UPDATE NEW PERSON 
 FILE DATA to clean up the NEW PERSON file, turn the audit on for the SEX 
 (#4) and DOB (#5) field of the NEW PERSON file (#200). Depending on the 
 amount of the update, the size of the AUDIT file will increase 
 accordingly. The audit may be turned off after the clean up is finished.
 The audit can be turned on or off via option Turn Data Audit 
 On/Off [DIAUDIT TURN ON/OFF], under the Audit Menu [DIAUDIT].
  
 When turning the audit on, at the "AUDIT" prompt, please choose
 "YES,ALWAYS", otherwise will not record the update in the AUDIT file:
   Select Audit Menu Option: TURN Data Audit On/Off
   AUDIT FROM WHAT FILE: NEW PERSON// 
   Select FIELD: SEX     y
   AUDIT: y// y  YES, ALWAYS
   Select FIELD: DOB     y
   AUDIT: y// y  YES, ALWAYS
  
 STEP 2
 ------
 Run the two assessment reports and the pre-update reports. These reports,
 as well as the update option, are in NPF cleanup main menu [XUPS NPF 
 CLEANUP MAIN MENU] of the Kernel Management menu [XUKERNEL].
  
   Select Operations Management Option: KERNEL Management Menu
  
   Select Kernel Management Menu Option: ?
  
           Enter/Edit Kernel Site Parameters
           IMF address edit
           Institution Edit
           Kernel New Features Help
           NPF cleanup main menu ...
  
   Enter ?? for more options, ??? for brief descriptions, ?OPTION for help 
   text.
  
   Select Kernel Management Menu Option: NPF cleanup main menu
  
   Select NPF cleanup main menu Option: ?
  
      STA    XUPS ASSESSMENT STATS
      DET    XUPS ASSESSMENT DETAIL
      PRE    XUPS PREUPDATE NPF REPORTS
      UPD    XUPS UPDATE NEW PERSON FILE DATA
  
 STEP 2a (optional)
 -------
 Review the assessment and the pre-update reports and correct NAME, SSN,
 DOB, and/or SEX fields in the NEW PERSON file with data from the PAID
 EMPLOYEE file, or by other validation methods (ie, contact employee),
 for records that require updating or show discrepancies.
  
 Please note:
 Depending on the number of SEX, DOB, SSN field missing data in the NEW 
 PERSON file, the XUPS ASSESSMENT DETAIL report could be EXTREMELY
 lengthy.  The report is for information only, and running the report is
 optional.
  
 STEP 3
 ------
 After reviewing the assessment and pre-update reports, run the XUPS UPDATE 
 NEW PERSON FILE DATA option to update the NPF with PAID EMPLOYEE data (DOB 
 and Sex fields only).
  
 STEP 4
 ------
 If you decided to turn on the data audit from STEP 1, the audit can now 
 be turned off.
  
 When it is decided that the audit data for the update is no longer 
 needed, the audit data can be purged using option Purge Data Audits 
 [DIAUDIT PURGE DATA], which is located under DIAUDIT [Audit Menu]. For 
 example:
 Select Audit Menu Option: PURGE DATA Audits
   AUDIT FROM WHAT FILE: NEW PERSON// 
   DO YOU WANT TO PURGE ALL DATA AUDIT RECORDS? NO// 
   PURGE AUDIT RECORDS BY: INTERNAL ENTRY NUMBER// 4.1  MENU OPTION USED
   START WITH MENU OPTION USED: FIRST// XUPS UPDATE NEW PERSON FILE
   GO TO MENU OPTION USED: LAST// XUPS UPDATE NEW PERSON FILE
  
 STEP 5
 ------
 You're done!

Routine Information:
====================

Routine Name:
  - XUPSCLR


Routine Checksum:

Routine Name:
  - XUPSUTQ


Routine Checksum:

Routine Name:
  - XUPSPAID


Routine Checksum:

Routine Name:
  - XUPS


Routine Checksum:

Routine Name:
  - XUPS309P


Routine Checksum:

Routine Name:
  - XUPSPD1


Routine Checksum:

Routine Name:
  - XUPSNAME


Routine Checksum:

Routine Name:
  - XUPSNM1


Routine Checksum:

=============================================================================
User Information:
Entered By  : ROY,JERRY                     Date Entered  : JUN 17, 2003
Completed By: ALDERMAN,MATT S               Date Completed: MAY 28, 2004
Released By : TILLIS,LEWIS                  Date Released : JUN 02, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
