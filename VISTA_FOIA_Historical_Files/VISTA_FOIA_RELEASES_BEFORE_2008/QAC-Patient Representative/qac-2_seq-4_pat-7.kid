EMERGENCY Released QAC*2*7 SEQ #4
Extracted from mail message
**KIDS**:QAC*2.0*7^

**INSTALL NAME**
QAC*2.0*7
"BLD",1037,0)
QAC*2.0*7^PATIENT REPRESENTATIVE^0^^y
"BLD",1037,4,0)
^9.64PA^^
"BLD",1037,"ABNS",0)
^9.66A^1^1
"BLD",1037,"ABNS",1,0)
QAC
"BLD",1037,"ABNS",1,1,0)
^9.661A^^
"BLD",1037,"ABNS","B","QAC",1)

"BLD",1037,"ABPKG")
n^n^G.QA TEST SITES@ISC-ALBANY.VA.GOV
"BLD",1037,"KRN",0)
^9.67PA^19^18
"BLD",1037,"KRN",.4,0)
.4
"BLD",1037,"KRN",.4,"NM",0)
^9.68A^^
"BLD",1037,"KRN",.401,0)
.401
"BLD",1037,"KRN",.402,0)
.402
"BLD",1037,"KRN",.403,0)
.403
"BLD",1037,"KRN",.5,0)
.5
"BLD",1037,"KRN",.84,0)
.84
"BLD",1037,"KRN",3.6,0)
3.6
"BLD",1037,"KRN",3.8,0)
3.8
"BLD",1037,"KRN",9.2,0)
9.2
"BLD",1037,"KRN",9.8,0)
9.8
"BLD",1037,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",1037,"KRN",9.8,"NM",1,0)
QACALRT1^^0^B20598878
"BLD",1037,"KRN",9.8,"NM",2,0)
QACCSSTD^^0^B21075208
"BLD",1037,"KRN",9.8,"NM","B","QACALRT1",1)

"BLD",1037,"KRN",9.8,"NM","B","QACCSSTD",2)

"BLD",1037,"KRN",19,0)
19
"BLD",1037,"KRN",19.1,0)
19.1
"BLD",1037,"KRN",101,0)
101
"BLD",1037,"KRN",409.61,0)
409.61
"BLD",1037,"KRN",771,0)
771
"BLD",1037,"KRN",869.2,0)
869.2
"BLD",1037,"KRN",870,0)
870
"BLD",1037,"KRN",8994,0)
8994
"BLD",1037,"KRN","B",.4,.4)

"BLD",1037,"KRN","B",.401,.401)

"BLD",1037,"KRN","B",.402,.402)

"BLD",1037,"KRN","B",.403,.403)

"BLD",1037,"KRN","B",.5,.5)

"BLD",1037,"KRN","B",.84,.84)

"BLD",1037,"KRN","B",3.6,3.6)

"BLD",1037,"KRN","B",3.8,3.8)

"BLD",1037,"KRN","B",9.2,9.2)

"BLD",1037,"KRN","B",9.8,9.8)

"BLD",1037,"KRN","B",19,19)

"BLD",1037,"KRN","B",19.1,19.1)

"BLD",1037,"KRN","B",101,101)

"BLD",1037,"KRN","B",409.61,409.61)

"BLD",1037,"KRN","B",771,771)

"BLD",1037,"KRN","B",869.2,869.2)

"BLD",1037,"KRN","B",870,870)

"BLD",1037,"KRN","B",8994,8994)

"BLD",1037,"QUES",0)
^9.62^^
"BLD",1037,"REQB",0)
^9.611^2^1
"BLD",1037,"REQB",2,0)
QAC*2.0*5^1
"BLD",1037,"REQB","B","QAC*2.0*5",2)

"PKG",380,-1)
1^1
"PKG",380,0)
PATIENT REPRESENTATIVE^QAC^PATIENT REPRESENTATIVE PACKAGE
"PKG",380,20,0)
^9.402P^^
"PKG",380,22,0)
^9.49I^1^1
"PKG",380,22,1,0)
2.0^2950725^2950914
"PKG",380,22,1,"PAH",1,0)
7
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","QACALRT1")
0^1^B20598878
"RTN","QACALRT1",1,0)
QACALRT1 ;HISC/DAD-PROCESS AN ALERT ;3/23/95  10:22
"RTN","QACALRT1",2,0)
 ;;2.0;Patient Representative;**3,7**;07/25/1995
"RTN","QACALRT1",3,0)
EN ;
"RTN","QACALRT1",4,0)
 S QACX=$P(XQADATA,U),QACD0=$P(XQADATA,U,2),QACDUZ=$P(XQADATA,U,3)
"RTN","QACALRT1",5,0)
 S QACXQAID=$P(XQAID,";")
"RTN","QACALRT1",6,0)
 ;
"RTN","QACALRT1",7,0)
 ; Display contact information when alert processed.
"RTN","QACALRT1",8,0)
 S QAC=QACD0,QACRES=0 D START^QACRPT
"RTN","QACALRT1",9,0)
 ;
"RTN","QACALRT1",10,0)
 S QAC=$S($D(^QA(745.1,QACD0,0))[0:1,$P($G(^(7)),U,2)="C":2,1:0)
"RTN","QACALRT1",11,0)
 I QAC D  G EXIT
"RTN","QACALRT1",12,0)
 . W !!?5,"*** The Patient Rep record associated with this alert"
"RTN","QACALRT1",13,0)
 . W ?63,"***",!?5,"*** has been ",$P("deleted^closed",U,QAC)
"RTN","QACALRT1",14,0)
 . W ".  No response needed, killing alert.",?63,"***",$C(7)
"RTN","QACALRT1",15,0)
 . D KILLALRT
"RTN","QACALRT1",16,0)
 . Q
"RTN","QACALRT1",17,0)
 ;
"RTN","QACALRT1",18,0)
 I $O(^XTMP(QACXQAID,"TXT",0)) D
"RTN","QACALRT1",19,0)
 . W !!?5,"*** You have an unsent response to this alert. ***",$C(7)
"RTN","QACALRT1",20,0)
 . Q
"RTN","QACALRT1",21,0)
 ;
"RTN","QACALRT1",22,0)
 ; Alert action (Respond / Ignore / Delete / Print)
"RTN","QACALRT1",23,0)
 K DIR S DIR("B")="Print",QACACTN=""
"RTN","QACALRT1",24,0)
 F  D  Q:QACACTN]""
"RTN","QACALRT1",25,0)
 . S DIR(0)="SOMB^R:Respond;I:Ignore;D:Delete;P:Print"
"RTN","QACALRT1",26,0)
 . S DIR("A")="Alert action"
"RTN","QACALRT1",27,0)
 . S DIR("?",1)="  Enter (R)espond to enter your response to this alert."
"RTN","QACALRT1",28,0)
 . S DIR("?",2)="  Enter (I)gnore to save this alert for a later response."
"RTN","QACALRT1",29,0)
 . S DIR("?",3)="  Enter (D)elete to delete this alert without a response."
"RTN","QACALRT1",30,0)
 . S DIR("?",4)="  Enter (P)rint to print the report of contact."
"RTN","QACALRT1",31,0)
 . S DIR("?")="  Enter one of the codes listed above."
"RTN","QACALRT1",32,0)
 . W ! D ^DIR S QACACTN=$S($D(DIRUT):U,1:Y)
"RTN","QACALRT1",33,0)
 . I QACACTN="P" D
"RTN","QACALRT1",34,0)
 .. S QAC=QACD0,QACRES=0
"RTN","QACALRT1",35,0)
 .. N QACD0,QACX,QACXQAID
"RTN","QACALRT1",36,0)
 .. D EN^QACRPT
"RTN","QACALRT1",37,0)
 .. S QACACTN="",DIR("B")="Ignore"
"RTN","QACALRT1",38,0)
 .. Q
"RTN","QACALRT1",39,0)
 . Q
"RTN","QACALRT1",40,0)
 I (QACACTN="I")!(QACACTN=U) D SAVEALRT
"RTN","QACALRT1",41,0)
 I QACACTN="D" D KILLALRT
"RTN","QACALRT1",42,0)
 I QACACTN="R" D RESPOND
"RTN","QACALRT1",43,0)
 G EXIT
"RTN","QACALRT1",44,0)
 ;
"RTN","QACALRT1",45,0)
RESPOND ; Get user's response
"RTN","QACALRT1",46,0)
 I $O(^XTMP(QACXQAID,"TXT",0))'>0 K ^XTMP(QACXQAID)
"RTN","QACALRT1",47,0)
 K DIC,DIWEPSE,DTOUT,DWLW,DWPK
"RTN","QACALRT1",48,0)
 S ^XTMP(QACXQAID,0)=$$FMADD^XLFDT(DT,14)_U_DT
"RTN","QACALRT1",49,0)
 S DIC="^XTMP("""_QACXQAID_""",""TXT"","
"RTN","QACALRT1",50,0)
 D EN^DIWE
"RTN","QACALRT1",51,0)
 I $O(^XTMP(QACXQAID,"TXT",0))'>0 K ^XTMP(QACXQAID) D SAVEALRT Q
"RTN","QACALRT1",52,0)
 I $D(DTOUT) D  Q
"RTN","QACALRT1",53,0)
 . W $C(7),!
"RTN","QACALRT1",54,0)
 . W !?5,"***     You have timed out while entering a response.     ***"
"RTN","QACALRT1",55,0)
 . W !?5,"*** The text can be recovered if you re-enter the alert.  ***"
"RTN","QACALRT1",56,0)
 . W !?5,"*** If not, it will be automatically purged in two weeks. ***"
"RTN","QACALRT1",57,0)
 . D SAVEALRT
"RTN","QACALRT1",58,0)
 . Q
"RTN","QACALRT1",59,0)
 S QACX(0)=$P($G(^VA(200,QACX,0)),U) I QACX(0)="" S QACX(0)="UNKNOWN"
"RTN","QACALRT1",60,0)
 S QACHDR="***  "_$$FMTE^XLFDT($$NOW^XLFDT,"2PS")_"  "_QACX(0)_"  ***"
"RTN","QACALRT1",61,0)
 S ^XTMP(QACXQAID,"TXT",.1,0)=""
"RTN","QACALRT1",62,0)
 S ^XTMP(QACXQAID,"TXT",.2,0)=QACHDR
"RTN","QACALRT1",63,0)
 S ^XTMP(QACXQAID,"TXT",.3,0)=""
"RTN","QACALRT1",64,0)
 ; Save user's response
"RTN","QACALRT1",65,0)
 W !!,"Saving your response, please wait . . . "
"RTN","QACALRT1",66,0)
 K ^TMP($J,"QACALRT1")
"RTN","QACALRT1",67,0)
 S %X="^XTMP("""_QACXQAID_""",""TXT"","
"RTN","QACALRT1",68,0)
 S %Y="^TMP($J,""QACALRT1"","
"RTN","QACALRT1",69,0)
 D %XY^%RCR
"RTN","QACALRT1",70,0)
 S ZTRTN="TASK^QACALRT1",ZTDESC="Patient Rep resolution comments update"
"RTN","QACALRT1",71,0)
 S (ZTSAVE("QACD0"),ZTSAVE("^TMP($J,""QACALRT1"","),ZTIO)="",ZTDTH=$H
"RTN","QACALRT1",72,0)
 S (ZTSAVE("QACX"),ZTSAVE("QACDUZ"))=""
"RTN","QACALRT1",73,0)
 D ^%ZTLOAD
"RTN","QACALRT1",74,0)
 W "Done"
"RTN","QACALRT1",75,0)
KILLALRT ; Kill this alert
"RTN","QACALRT1",76,0)
 K ^XTMP(QACXQAID)
"RTN","QACALRT1",77,0)
 S XQAKILL=1
"RTN","QACALRT1",78,0)
 Q
"RTN","QACALRT1",79,0)
SAVEALRT ; Do not kill this alert
"RTN","QACALRT1",80,0)
 K XQAKILL
"RTN","QACALRT1",81,0)
 Q
"RTN","QACALRT1",82,0)
 ;
"RTN","QACALRT1",83,0)
TASK ; Tasked entry point
"RTN","QACALRT1",84,0)
 F  L +^QA(745.1,QACD0):5 Q:$T  H 5
"RTN","QACALRT1",85,0)
 I $D(^QA(745.1,QACD0,0))[0 L -^QA(745.1,QACD0) G EXIT
"RTN","QACALRT1",86,0)
 S (QACD1,QACD1(0))=0
"RTN","QACALRT1",87,0)
 F  S QACD1=$O(^QA(745.1,QACD0,6,QACD1)) Q:QACD1'>0  S QACD1(0)=QACD1
"RTN","QACALRT1",88,0)
 S (QACTMP,QACOUNT)=0
"RTN","QACALRT1",89,0)
 F  S QACTMP=$O(^TMP($J,"QACALRT1",QACTMP)) Q:QACTMP'>0  D
"RTN","QACALRT1",90,0)
 . S QACOUNT=QACOUNT+1
"RTN","QACALRT1",91,0)
 . S ^QA(745.1,QACD0,6,QACD1(0)+QACOUNT,0)=^TMP($J,"QACALRT1",QACTMP,0)
"RTN","QACALRT1",92,0)
 . Q
"RTN","QACALRT1",93,0)
 S QACOUNT=QACOUNT+1
"RTN","QACALRT1",94,0)
 S ^QA(745.1,QACD0,6,QACD1(0)+QACOUNT,0)=""
"RTN","QACALRT1",95,0)
 S QACOUNT=QACOUNT+1
"RTN","QACALRT1",96,0)
 S ^QA(745.1,QACD0,6,QACD1(0)+QACOUNT,0)="***  End of response  ***"
"RTN","QACALRT1",97,0)
 S QACWPHDR=$G(^QA(745.1,QACD0,6,0))
"RTN","QACALRT1",98,0)
 S $P(QACWPHDR,U,3)=($P(QACWPHDR,U,3)+QACOUNT)
"RTN","QACALRT1",99,0)
 S $P(QACWPHDR,U,4)=($P(QACWPHDR,U,4)+QACOUNT)
"RTN","QACALRT1",100,0)
 S $P(QACWPHDR,U,5)=DT
"RTN","QACALRT1",101,0)
 S ^QA(745.1,QACD0,6,0)=QACWPHDR
"RTN","QACALRT1",102,0)
 L -^QA(745.1,QACD0)
"RTN","QACALRT1",103,0)
 S QACX(0)=$P($G(^VA(200,+QACX,0)),U) S:QACX(0)="" QACX(0)="UNKNOWN"
"RTN","QACALRT1",104,0)
 S QACCASE=$P($G(^QA(745.1,+QACD0,0)),U) S:QACCASE="" QACCASE="UNKNOWN"
"RTN","QACALRT1",105,0)
 S XQA(+QACDUZ)=""
"RTN","QACALRT1",106,0)
 S XQAMSG="Patient Rep response by "_QACX(0)_" to "_QACCASE_"."
"RTN","QACALRT1",107,0)
 D SETUP^XQALERT
"RTN","QACALRT1",108,0)
 ;D SET^QACALRT0(+QACDUZ,QACD0)
"RTN","QACALRT1",109,0)
EXIT ;
"RTN","QACALRT1",110,0)
 S:$D(ZTQUEUED) ZTREQ="@"
"RTN","QACALRT1",111,0)
 K DIC,DIR,DIROUT,DIRUT,DTOUT,DUOUT,QAC,QACACTN,QACCASE,QACD0,QACD1
"RTN","QACALRT1",112,0)
 K QACDUZ,QACHDR,QACOUNT,QACRES,QACTMP,QACWPHDR,QACX,QACXQAID,X,Y
"RTN","QACALRT1",113,0)
 K ZTDESC,ZTDTH,ZTIO,ZTRTN,ZTSAVE,^TMP($J,"QACALRT1"),%X,%Y
"RTN","QACALRT1",114,0)
 Q
"RTN","QACCSSTD")
0^2^B21075208
"RTN","QACCSSTD",1,0)
QACCSSTD  ;WCIOFO/ERC - Routine for CSS totals ;8/16/97
"RTN","QACCSSTD",2,0)
 ;;2.0;Patient Representative;**3,5,7**;07/25/1995
"RTN","QACCSSTD",3,0)
DATE ; Establish date range
"RTN","QACCSSTD",4,0)
 N QACDFLG,QACDC,QACCSS,QACSS,QACISS,QACSFLG,QACSRV,QACSV,QACYES
"RTN","QACCSSTD",5,0)
 S QACYES=0
"RTN","QACCSSTD",6,0)
 W !!,"Select the date range you want to print."
"RTN","QACCSSTD",7,0)
 D ^QAQDATE G:QAQQUIT EXIT I QAQNBEG>DT W !,?5,"*** Beginning date must be today or earlier! ***" G DATE
"RTN","QACCSSTD",8,0)
 S DIR(0)="YOA"
"RTN","QACCSSTD",9,0)
 S DIR("A")="Do you want to print this report for just one Discipline? "
"RTN","QACCSSTD",10,0)
 S DIR("B")="No"
"RTN","QACCSSTD",11,0)
 S DIR("?")="Enter 'YES' if you prefer to print this report for one specific Discipline."
"RTN","QACCSSTD",12,0)
 D ^DIR I Y=1 D DISC
"RTN","QACCSSTD",13,0)
 I QACYES=0 D
"RTN","QACCSSTD",14,0)
 . S DIR("A")="Do you want to print this report for just one Service/Discipline? "
"RTN","QACCSSTD",15,0)
 . S DIR("B")="No"
"RTN","QACCSSTD",16,0)
 . S DIR("?")="Enter 'Yes' if you prefer to print this report for one Service/Discipline."
"RTN","QACCSSTD",17,0)
 . D ^DIR
"RTN","QACCSSTD",18,0)
 . I Y=1 D SERV
"RTN","QACCSSTD",19,0)
 K %ZIS,IOP S %ZIS="MQ" W ! D ^%ZIS G:POP EXIT
"RTN","QACCSSTD",20,0)
 I $D(IO("Q")) D  G EXIT
"RTN","QACCSSTD",21,0)
 . S (ZTSAVE("QAQNBEG"),ZTSAVE("QAQNEND"),ZTSAVE("QAQ2HED"))=""
"RTN","QACCSSTD",22,0)
 . S (ZTSAVE("QACSFLG"),ZTSAVE("QACDFLG"))=""
"RTN","QACCSSTD",23,0)
 . S (ZTSAVE("QACDISC"),ZTSAVE("QACSRV"))=""
"RTN","QACCSSTD",24,0)
 . S ZTDESC="Customer Service Standard Totals"
"RTN","QACCSSTD",25,0)
 . S ZTSAVE("QACCSS")=""
"RTN","QACCSSTD",26,0)
 . S ZTRTN="TSK^QACCSSTD"
"RTN","QACCSSTD",27,0)
 . D ^%ZTLOAD
"RTN","QACCSSTD",28,0)
 . I $G(ZTSK) W !,"Task Number: ",ZTSK
"RTN","QACCSSTD",29,0)
 . Q
"RTN","QACCSSTD",30,0)
TSK ; Get data for totaling
"RTN","QACCSSTD",31,0)
 ;K ^TMP($J,"QACCSS")
"RTN","QACCSSTD",32,0)
 ;S ^TMP($J,"QACCSS")=0
"RTN","QACCSSTD",33,0)
 U IO
"RTN","QACCSSTD",34,0)
 ; set up counters for each CSS, discipline and for the total count
"RTN","QACCSSTD",35,0)
 F EE=1:1:$P(^QA(745.6,0),U,3) S QACSTD(EE)=0
"RTN","QACCSSTD",36,0)
 S QACDICS=0
"RTN","QACCSSTD",37,0)
 S QACTOT=0 ; counter for total
"RTN","QACCSSTD",38,0)
 K QACDT,QACD0
"RTN","QACCSSTD",39,0)
 ; get each record in date range
"RTN","QACCSSTD",40,0)
 N QACDCS,QACDIS,QACDS,QACISS
"RTN","QACCSSTD",41,0)
 S QACDT=QAQNBEG-.0000001 F  S QACDT=$O(^QA(745.1,"D",QACDT)) Q:(QACDT'>0)!(QACDT>QAQNEND)!(QACDT\1'?7N)  D
"RTN","QACCSSTD",42,0)
 . ; get contact number
"RTN","QACCSSTD",43,0)
 . S QACD0=0 F  S QACD0=$O(^QA(745.1,"D",QACDT,QACD0)) Q:QACD0'>0  D
"RTN","QACCSSTD",44,0)
 . . ; get issue number
"RTN","QACCSSTD",45,0)
 . . S QACISS=0 F  S QACISS=$O(^QA(745.1,QACD0,3,QACISS)) Q:QACISS'>0  D
"RTN","QACCSSTD",46,0)
 . . . S QACISSC=$G(^QA(745.1,QACD0,3,QACISS,0)) Q:QACISSC']""  ; iss #
"RTN","QACCSSTD",47,0)
 . . . S QACCSS=$P($G(^QA(745.2,QACISSC,0)),U,7) ; customer service code
"RTN","QACCSSTD",48,0)
 . . . Q:$G(QACCSS)']""
"RTN","QACCSSTD",49,0)
 . . . I ($G(QACDFLG)'>0)&($G(QACSFLG)'>0) D
"RTN","QACCSSTD",50,0)
 . . . . S QACSTD(QACCSS)=QACSTD(QACCSS)+1,QACTOT=QACTOT+1
"RTN","QACCSSTD",51,0)
 . . . I ($G(QACDFLG)>0) D
"RTN","QACCSSTD",52,0)
 . . . . S QACDS=0
"RTN","QACCSSTD",53,0)
 . . . . F  S QACDS=$O(^QA(745.1,QACD0,3,QACISS,3,QACDS)) Q:QACDS'>0  D
"RTN","QACCSSTD",54,0)
 . . . . . S QACDCS=$P($G(^QA(745.1,QACD0,3,QACISS,3,QACDS,0)),U,2)
"RTN","QACCSSTD",55,0)
 . . . . . S EE=0
"RTN","QACCSSTD",56,0)
 . . . . . I $G(QACDCS)]"",($G(QACDCS)=$O(^QA(745.5,"B",$G(QACDISC),EE))) S QACSTD(QACCSS)=QACSTD(QACCSS)+1,QACTOT=QACTOT+1
"RTN","QACCSSTD",57,0)
 . . . I ($G(QACSFLG)>0) D
"RTN","QACCSSTD",58,0)
 . . . . S QACDS=0
"RTN","QACCSSTD",59,0)
 . . . . F  S QACDS=$O(^QA(745.1,QACD0,3,QACISS,3,QACDS)) Q:QACDS'>0  D
"RTN","QACCSSTD",60,0)
 . . . . . S QACSER=$P($G(^QA(745.1,QACD0,3,QACISS,3,QACDS,0)),U)
"RTN","QACCSSTD",61,0)
 . . . . . I $G(QACSER)]"",($G(QACSER)=$G(QACSRV)) S QACSTD(QACCSS)=QACSTD(QACCSS)+1,QACTOT=QACTOT+1
"RTN","QACCSSTD",62,0)
PRINT ;
"RTN","QACCSSTD",63,0)
 D HEAD
"RTN","QACCSSTD",64,0)
 S QACSS=0
"RTN","QACCSSTD",65,0)
 F  S QACSS=$O(^QA(745.6,QACSS)) Q:QACSS'>0  D
"RTN","QACCSSTD",66,0)
 . W !?10,$P(^QA(745.6,QACSS,0),U,2),?55,QACSTD(QACSS)
"RTN","QACCSSTD",67,0)
 W !,?52,"-------"
"RTN","QACCSSTD",68,0)
 W !?40,"TOTAL",?54,QACTOT,!!
"RTN","QACCSSTD",69,0)
 I $E(IOST)="C" K DIR S DIR(0)="E" D ^DIR S QAQQUIT=$S(Y'>0:1,1:0)
"RTN","QACCSSTD",70,0)
 G EXIT
"RTN","QACCSSTD",71,0)
HEAD ;
"RTN","QACCSSTD",72,0)
 W:($E(IOST)="C") @IOF
"RTN","QACCSSTD",73,0)
 W !,"Customer Service Standards Reports" S Y=DT D DD^%DT W ?60,"Date: ",Y
"RTN","QACCSSTD",74,0)
 I $G(QACDFLG)>0 D
"RTN","QACCSSTD",75,0)
 . W !,"Report for Discipline - "
"RTN","QACCSSTD",76,0)
 . S QACDC=0
"RTN","QACCSSTD",77,0)
 . S QACDC=$O(^QA(745.5,"B",QACDISC,QACDC))
"RTN","QACCSSTD",78,0)
 . W $P($G(^QA(745.5,QACDC,0)),U,2)
"RTN","QACCSSTD",79,0)
 I $G(QACSFLG)>0 D
"RTN","QACCSSTD",80,0)
 . W !,"Report for Service/Discipline - "
"RTN","QACCSSTD",81,0)
 . S QACSV=0
"RTN","QACCSSTD",82,0)
 . S QACSV=$P(^QA(745.55,QACSRV,0),U)
"RTN","QACCSSTD",83,0)
 . W $P($G(^QA(745.55,QACSV,0)),U)
"RTN","QACCSSTD",84,0)
 W !,QAQ2HED
"RTN","QACCSSTD",85,0)
 W !!?51,"NUMBER OF"
"RTN","QACCSSTD",86,0)
 W !?10,"CUSTOMER SERVICE STANDARD",?50,"OCCURRENCES",!
"RTN","QACCSSTD",87,0)
 F EE=1:1:IOM W "-"
"RTN","QACCSSTD",88,0)
 Q
"RTN","QACCSSTD",89,0)
EXIT ;
"RTN","QACCSSTD",90,0)
 W ! D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","QACCSSTD",91,0)
 K IOP,%ZIS,ZTSAVE,ZTDESC,ZTRTN,QACDT,QACD0,ZTSK,Y,%DT,DIR,POP,DIRUT,DIROUT
"RTN","QACCSSTD",92,0)
 D K^QAQDATE
"RTN","QACCSSTD",93,0)
 Q
"RTN","QACCSSTD",94,0)
DISC ; Select one discipline for this report
"RTN","QACCSSTD",95,0)
 K DIR
"RTN","QACCSSTD",96,0)
 S DIR(0)="FAO^^K:X'?2U X"
"RTN","QACCSSTD",97,0)
 S DIR("A")="Enter the Discipline as a two letter abbreviation: "
"RTN","QACCSSTD",98,0)
 D ^DIR K DIR Q:$D(DIRUT)!($D(DIROUT))
"RTN","QACCSSTD",99,0)
 I $O(^QA(745.5,"B",Y,0)) S QACDISC=Y,QACDFLG=1,QACYES=1
"RTN","QACCSSTD",100,0)
 E  D  G DISC
"RTN","QACCSSTD",101,0)
 . W !!,"Not a valid Discipline, choose from:"
"RTN","QACCSSTD",102,0)
 . S EE=0
"RTN","QACCSSTD",103,0)
 . F  S EE=$O(^QA(745.5,EE)) Q:EE'>0  D
"RTN","QACCSSTD",104,0)
 . . W !?5,$P(^QA(745.5,EE,0),U),"   (",$P(^QA(745.5,EE,0),U,2),")"
"RTN","QACCSSTD",105,0)
 Q
"RTN","QACCSSTD",106,0)
SERV ; Select one Service/Discipline for this report
"RTN","QACCSSTD",107,0)
 K DIR
"RTN","QACCSSTD",108,0)
 S DIR(0)="POA^745.55:EMZ"
"RTN","QACCSSTD",109,0)
 S DIR("A")="Enter the Service/Discipline: "
"RTN","QACCSSTD",110,0)
 D ^DIR K DIR Q:$D(DIRUT)!($D(DIROUT))
"RTN","QACCSSTD",111,0)
 I $G(^QA(745.55,+Y,0))]"" S QACSRV=+Y,QACSFLG=1
"RTN","QACCSSTD",112,0)
 E  D  G SERV
"RTN","QACCSSTD",113,0)
 . W !!,"Not a valid service/discipline.  Try again."
"RTN","QACCSSTD",114,0)
 Q
"VER")
8.0^21.0
**END**
**END**
