Released XU*8*258 SEQ #239
Extracted from mail message
**KIDS**:XU*8.0*258^

**INSTALL NAME**
XU*8.0*258
"BLD",625,0)
XU*8.0*258^KERNEL^0^3030326^y
"BLD",625,1,0)
^^2^2^3021104^^^
"BLD",625,1,1,0)
Please refer to the Description in FORUM Patch Module for details.
"BLD",625,1,2,0)
XU*8*258 Multiple Sign on Update.
"BLD",625,4,0)
^9.64PA^3.081^3
"BLD",625,4,3.081,0)
3.081
"BLD",625,4,3.081,222)
y^y^f^^^^n
"BLD",625,4,200,0)
200
"BLD",625,4,200,2,0)
^9.641^200^1
"BLD",625,4,200,2,200,0)
NEW PERSON  (File-top level)
"BLD",625,4,200,2,200,1,0)
^9.6411^200.19^2
"BLD",625,4,200,2,200,1,200.04,0)
MULTIPLE SIGN-ON
"BLD",625,4,200,2,200,1,200.19,0)
MULTIPLE SIGN-ON LIMIT
"BLD",625,4,200,222)
y^y^p^^^^n^^n
"BLD",625,4,200,224)

"BLD",625,4,8989.3,0)
8989.3
"BLD",625,4,8989.3,2,0)
^9.641^8989.3^1
"BLD",625,4,8989.3,2,8989.3,0)
KERNEL SYSTEM PARAMETERS  (File-top level)
"BLD",625,4,8989.3,2,8989.3,1,0)
^9.6411^219^2
"BLD",625,4,8989.3,2,8989.3,1,204,0)
DEFAULT MULTIPLE SIGN-ON
"BLD",625,4,8989.3,2,8989.3,1,219,0)
MULTIPLE SIGN-ON LIMIT
"BLD",625,4,8989.3,222)
y^y^p^^^^n^^n
"BLD",625,4,8989.3,224)

"BLD",625,4,"APDD",200,200)

"BLD",625,4,"APDD",200,200,200.04)

"BLD",625,4,"APDD",200,200,200.19)

"BLD",625,4,"APDD",8989.3,8989.3)

"BLD",625,4,"APDD",8989.3,8989.3,204)

"BLD",625,4,"APDD",8989.3,8989.3,219)

"BLD",625,4,"B",3.081,3.081)

"BLD",625,4,"B",200,200)

"BLD",625,4,"B",8989.3,8989.3)

"BLD",625,"KRN",0)
^9.67PA^8989.52^19
"BLD",625,"KRN",.4,0)
.4
"BLD",625,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",625,"KRN",.4,"NM",1,0)
XUSEC LIST    FILE #3.081^3.081^0
"BLD",625,"KRN",.4,"NM","B","XUSEC LIST    FILE #3.081",1)

"BLD",625,"KRN",.401,0)
.401
"BLD",625,"KRN",.402,0)
.402
"BLD",625,"KRN",.403,0)
.403
"BLD",625,"KRN",.403,"NM",0)
^9.68A^2^2
"BLD",625,"KRN",.403,"NM",1,0)
XUSITEPARM    FILE #8989.3^8989.3^0
"BLD",625,"KRN",.403,"NM",2,0)
XUEXISTING USER    FILE #200^200^0
"BLD",625,"KRN",.403,"NM","B","XUEXISTING USER    FILE #200",2)

"BLD",625,"KRN",.403,"NM","B","XUSITEPARM    FILE #8989.3",1)

"BLD",625,"KRN",.5,0)
.5
"BLD",625,"KRN",.84,0)
.84
"BLD",625,"KRN",3.6,0)
3.6
"BLD",625,"KRN",3.8,0)
3.8
"BLD",625,"KRN",9.2,0)
9.2
"BLD",625,"KRN",9.8,0)
9.8
"BLD",625,"KRN",9.8,"NM",0)
^9.68A^6^6
"BLD",625,"KRN",9.8,"NM",1,0)
XUS1A^^0^B11947178
"BLD",625,"KRN",9.8,"NM",2,0)
XUP^^0^B8707124
"BLD",625,"KRN",9.8,"NM",3,0)
XQ82^^0^B6027603
"BLD",625,"KRN",9.8,"NM",4,0)
XUS6^^0^B1089245
"BLD",625,"KRN",9.8,"NM",5,0)
XUS9^^0^B4951888
"BLD",625,"KRN",9.8,"NM",6,0)
XUSMGR^^0^B8699082
"BLD",625,"KRN",9.8,"NM","B","XQ82",3)

"BLD",625,"KRN",9.8,"NM","B","XUP",2)

"BLD",625,"KRN",9.8,"NM","B","XUS1A",1)

"BLD",625,"KRN",9.8,"NM","B","XUS6",4)

"BLD",625,"KRN",9.8,"NM","B","XUS9",5)

"BLD",625,"KRN",9.8,"NM","B","XUSMGR",6)

"BLD",625,"KRN",19,0)
19
"BLD",625,"KRN",19.1,0)
19.1
"BLD",625,"KRN",101,0)
101
"BLD",625,"KRN",409.61,0)
409.61
"BLD",625,"KRN",771,0)
771
"BLD",625,"KRN",870,0)
870
"BLD",625,"KRN",8989.51,0)
8989.51
"BLD",625,"KRN",8989.51,"NM",0)
^9.68A^2^2
"BLD",625,"KRN",8989.51,"NM",1,0)
XUS-XUP SET ERROR TRAP^^0
"BLD",625,"KRN",8989.51,"NM",2,0)
XUS-XUP VPE^^0
"BLD",625,"KRN",8989.51,"NM","B","XUS-XUP SET ERROR TRAP",1)

"BLD",625,"KRN",8989.51,"NM","B","XUS-XUP VPE",2)

"BLD",625,"KRN",8989.52,0)
8989.52
"BLD",625,"KRN",8994,0)
8994
"BLD",625,"KRN","B",.4,.4)

"BLD",625,"KRN","B",.401,.401)

"BLD",625,"KRN","B",.402,.402)

"BLD",625,"KRN","B",.403,.403)

"BLD",625,"KRN","B",.5,.5)

"BLD",625,"KRN","B",.84,.84)

"BLD",625,"KRN","B",3.6,3.6)

"BLD",625,"KRN","B",3.8,3.8)

"BLD",625,"KRN","B",9.2,9.2)

"BLD",625,"KRN","B",9.8,9.8)

"BLD",625,"KRN","B",19,19)

"BLD",625,"KRN","B",19.1,19.1)

"BLD",625,"KRN","B",101,101)

"BLD",625,"KRN","B",409.61,409.61)

"BLD",625,"KRN","B",771,771)

"BLD",625,"KRN","B",870,870)

"BLD",625,"KRN","B",8989.51,8989.51)

"BLD",625,"KRN","B",8989.52,8989.52)

"BLD",625,"KRN","B",8994,8994)

"BLD",625,"QUES",0)
^9.62^^
"BLD",625,"REQB",0)
^9.611^4^4
"BLD",625,"REQB",1,0)
XU*8.0*157^2
"BLD",625,"REQB",2,0)
XU*8.0*183^2
"BLD",625,"REQB",3,0)
XU*8.0*208^2
"BLD",625,"REQB",4,0)
XU*8.0*263^2
"BLD",625,"REQB","B","XU*8.0*157",1)

"BLD",625,"REQB","B","XU*8.0*183",2)

"BLD",625,"REQB","B","XU*8.0*208",3)

"BLD",625,"REQB","B","XU*8.0*263",4)

"FIA",3.081)
SIGN-ON LOG
"FIA",3.081,0)
^XUSEC(0,
"FIA",3.081,0,0)
3.081P
"FIA",3.081,0,1)
y^y^f^^^^n
"FIA",3.081,0,10)

"FIA",3.081,0,11)

"FIA",3.081,0,"RLRO")

"FIA",3.081,0,"VR")
8.0^XU
"FIA",3.081,3.081)
0
"FIA",200)
NEW PERSON
"FIA",200,0)
^VA(200,
"FIA",200,0,0)
200I
"FIA",200,0,1)
y^y^p^^^^n^^n
"FIA",200,0,10)

"FIA",200,0,11)

"FIA",200,0,"RLRO")

"FIA",200,0,"VR")
8.0^XU
"FIA",200,200)
1
"FIA",200,200,200.04)

"FIA",200,200,200.19)

"FIA",8989.3)
KERNEL SYSTEM PARAMETERS
"FIA",8989.3,0)
^XTV(8989.3,
"FIA",8989.3,0,0)
8989.3P
"FIA",8989.3,0,1)
y^y^p^^^^n^^n
"FIA",8989.3,0,10)

"FIA",8989.3,0,11)

"FIA",8989.3,0,"RLRO")

"FIA",8989.3,0,"VR")
8.0^XU
"FIA",8989.3,8989.3)
1
"FIA",8989.3,8989.3,204)

"FIA",8989.3,8989.3,219)

"KRN",.4,3,-1)
0^1
"KRN",.4,3,0)
XUSEC LIST^3021114.1147^^3.081^^@^3030311
"KRN",.4,3,"F",2)
0;"Sign-on time"~99;R9~.01;L17~S X=$I W X K DIP;L9;Z;"$I"~10~11~
"KRN",.4,3,"H")
USERS WHO HAVE SIGNED ONTO THE COMPUTER
"KRN",.403,3,-1)
0^2
"KRN",.403,3,0)
XUEXISTING USER^^^^2920804^^^200^0^0^1
"KRN",.403,3,2)
1;33
"KRN",.403,3,11)
S XUNOTRIG=1 D CHKPTR^XLFNAME2
"KRN",.403,3,12)
K XUNOTRIG,XUITNAME
"KRN",.403,3,40,0)
^.4031I^9^7
"KRN",.403,3,40,1,0)
1^^1,1^2^4
"KRN",.403,3,40,1,1)
Page 1
"KRN",.403,3,40,1,40,0)
^.4032PI^47^2
"KRN",.403,3,40,1,40,28,0)
XUEXISTING USER 1^2^2,1^e
"KRN",.403,3,40,1,40,47,0)
XUEXISTING USER 0^1^1,1^d
"KRN",.403,3,40,2,0)
2^^1,1^3^1
"KRN",.403,3,40,2,1)
Page 2
"KRN",.403,3,40,2,15,0)
^^1^1^2941114^
"KRN",.403,3,40,2,15,1,0)
This is Page 2 of the edit existing user.
"KRN",.403,3,40,2,40,0)
^.4032PI^47^2
"KRN",.403,3,40,2,40,29,0)
XUEXISTING USER 2^2^2,1^e
"KRN",.403,3,40,2,40,47,0)
XUEXISTING USER 0^1^1,1^d
"KRN",.403,3,40,3,0)
1.1^^11,9^^^1^17,66^^
"KRN",.403,3,40,3,1)
SECONDARY MENU OPTIONS Subpage
"KRN",.403,3,40,3,40,0)
^.4032PI^30^1
"KRN",.403,3,40,3,40,30,0)
XUEXISTING USER 3^1^2,3^e
"KRN",.403,3,40,4,0)
1.2^^8,16^^^1^13,59^^
"KRN",.403,3,40,4,1)
DIVISION Subpage
"KRN",.403,3,40,4,40,0)
^.4032PI^31^1
"KRN",.403,3,40,4,40,31,0)
XUEXISTING USER 4^1^2,3^e
"KRN",.403,3,40,5,0)
3^^1,1^4^2
"KRN",.403,3,40,5,1)
Page 3
"KRN",.403,3,40,5,40,0)
^.4032PI^63^3
"KRN",.403,3,40,5,40,47,0)
XUEXISTING USER 0^1^1,1^d
"KRN",.403,3,40,5,40,50,0)
XUEXISTING USER 5^2^2,1^e
"KRN",.403,3,40,5,40,63,0)
XU-PERSON CLASS 2^3^12,1^e
"KRN",.403,3,40,5,40,63,2)
6^!IEN^n
"KRN",.403,3,40,8,0)
1.3^^8,12^^^1^17,65
"KRN",.403,3,40,8,1)
Page 1.3^
"KRN",.403,3,40,8,11)

"KRN",.403,3,40,8,12)
D:XLFNEW'=XLFNAME PUT^DDSVAL(200,XLFNDA,.01,XLFNEW,"","I") K XLFNDA,XLFNAME,XLFNEW
"KRN",.403,3,40,8,40,0)
^.4032IP^157^1
"KRN",.403,3,40,8,40,157,0)
XUEXISTING USER NAME COMPONENT^1^1,1^e
"KRN",.403,3,40,8,40,157,1)
10.1
"KRN",.403,3,40,9,0)
4^^1,1^1^3
"KRN",.403,3,40,9,1)
Page 4
"KRN",.403,3,40,9,40,0)
^.4032IP^172^3
"KRN",.403,3,40,9,40,47,0)
XUEXISTING USER 0^1^1,1^d
"KRN",.403,3,40,9,40,171,0)
XUEXISTING USER CPRS^2^2,1^e
"KRN",.403,3,40,9,40,172,0)
XUEXISTING USER CPRS TAB^3^8,1^e
"KRN",.403,3,40,9,40,172,2)
10^!IEN^n^^^
"KRN",.403,12,-1)
0^1
"KRN",.403,12,0)
XUSITEPARM^^^^2941116^^^8989.3^0^0^1
"KRN",.403,12,40,0)
^.4031I^5^5
"KRN",.403,12,40,1,0)
1^^1,1^2
"KRN",.403,12,40,1,1)
Page 1
"KRN",.403,12,40,1,40,0)
^.4032IP^52^2
"KRN",.403,12,40,1,40,51,0)
XUSITEPARM 0^1^1,1^d
"KRN",.403,12,40,1,40,52,0)
XUSITEPARM 1^2^2,1^e
"KRN",.403,12,40,2,0)
3^^1,1^4^2
"KRN",.403,12,40,2,1)
Page 3
"KRN",.403,12,40,2,40,0)
^.4032IP^53^2
"KRN",.403,12,40,2,40,51,0)
XUSITEPARM 0^1^1,1^d
"KRN",.403,12,40,2,40,53,0)
XUSITEPARM 3^2^4,1^e
"KRN",.403,12,40,3,0)
2^^1,1^3^1
"KRN",.403,12,40,3,1)
Page 2
"KRN",.403,12,40,3,40,0)
^.4032IP^56^4
"KRN",.403,12,40,3,40,51,0)
XUSITEPARM 0^1^1,1^d
"KRN",.403,12,40,3,40,54,0)
XUSITEPARM 2^2^4,1^e
"KRN",.403,12,40,3,40,55,0)
XUSITEPARM 2.1^3^5,12^e
"KRN",.403,12,40,3,40,55,2)
4^^^^
"KRN",.403,12,40,3,40,56,0)
XUSITEPARM 2.2^4^12,12^e
"KRN",.403,12,40,3,40,56,2)
4
"KRN",.403,12,40,4,0)
4^^1,1^5^3
"KRN",.403,12,40,4,1)
Page 4
"KRN",.403,12,40,4,40,0)
^.4032IP^61^6
"KRN",.403,12,40,4,40,51,0)
XUSITEPARM 0^1^1,1^d
"KRN",.403,12,40,4,40,57,0)
XUSITEPARM 4^2^4,1^e
"KRN",.403,12,40,4,40,58,0)
XUSITEPARM 4.1^3^8,4^e
"KRN",.403,12,40,4,40,58,2)
4
"KRN",.403,12,40,4,40,59,0)
XUSITEPARM 4.2^4^8,43^e
"KRN",.403,12,40,4,40,59,2)
4
"KRN",.403,12,40,4,40,60,0)
XUSITEPARM 4.4^6^13,43^e
"KRN",.403,12,40,4,40,60,2)
4
"KRN",.403,12,40,4,40,61,0)
XUSITEPARM 4.3^5^13,4^e
"KRN",.403,12,40,4,40,61,2)
4
"KRN",.403,12,40,5,0)
5^^1,1
"KRN",.403,12,40,5,1)
Page 5
"KRN",.403,12,40,5,40,0)
^.4032IP^181^2
"KRN",.403,12,40,5,40,51,0)
XUSITEPARM 0^1^1,1^e
"KRN",.403,12,40,5,40,181,0)
XUSITEPARM 5^2^4,1^e
"KRN",.404,28,0)
XUEXISTING USER 1^200^^^
"KRN",.404,28,40,0)
^.4044I^21^19
"KRN",.404,28,40,1,0)
2^NAME...^3
"KRN",.404,28,40,1,1)
.01
"KRN",.404,28,40,1,2)
3,12^35^3,4^1
"KRN",.404,28,40,1,10)
S XLFNDA=DA,XLFNAME=X,DDSBR="GIVEN^^1.3"
"KRN",.404,28,40,1,11)
S XUITNAME=1 D:'$D(XLFCOMP) HLP^DDSUTL(" *** Press <RET> to edit the component parts of this name. ***") I $D(XLFCOMP) S XLFNDA=DA,XLFNAME=X,DDSBR="GIVEN^^1.3" K XLFCOMP
"KRN",.404,28,40,1,13)
S XLFNDA=DA,XLFNAME=X,DDSBR="GIVEN^^1.3",XLFNCHG=1
"KRN",.404,28,40,2,0)
4^TITLE^3^^
"KRN",.404,28,40,2,1)
8
"KRN",.404,28,40,2,2)
4,12^30^4,5
"KRN",.404,28,40,3,0)
3^INITIAL^3
"KRN",.404,28,40,3,1)
1
"KRN",.404,28,40,3,2)
3,65^5^3,56
"KRN",.404,28,40,4,0)
5^NICK NAME^3
"KRN",.404,28,40,4,1)
13
"KRN",.404,28,40,4,2)
4,65^10^4,54
"KRN",.404,28,40,5,0)
13^PRIMARY MENU OPTION^3^
"KRN",.404,28,40,5,1)
201
"KRN",.404,28,40,5,2)
10,33^30^10,12
"KRN",.404,28,40,6,0)
14^Select SECONDARY MENU OPTIONS^3
"KRN",.404,28,40,6,1)
203
"KRN",.404,28,40,6,2)
11,33^30^11,2
"KRN",.404,28,40,6,7)
^1.1
"KRN",.404,28,40,7,0)
15^Want to edit ACCESS CODE (Y/N)^3
"KRN",.404,28,40,7,1)
2.1
"KRN",.404,28,40,7,2)
12,33^3^12,1
"KRN",.404,28,40,8,0)
17^Want to edit VERIFY CODE (Y/N)^3
"KRN",.404,28,40,8,1)
11.1
"KRN",.404,28,40,8,2)
13,33^3^13,1
"KRN",.404,28,40,9,0)
16^FILE MANAGER ACCESS CODE^3
"KRN",.404,28,40,9,1)
3
"KRN",.404,28,40,9,2)
12,65^15^12,39
"KRN",.404,28,40,12,0)
18^Select DIVISION^3
"KRN",.404,28,40,12,1)
16
"KRN",.404,28,40,12,2)
15,33^30^15,16
"KRN",.404,28,40,12,7)
^1.2
"KRN",.404,28,40,13,0)
19^SERVICE/SECTION^3^^
"KRN",.404,28,40,13,1)
29
"KRN",.404,28,40,13,2)
16,33^30^16,16
"KRN",.404,28,40,14,0)
9^MAIL CODE^3
"KRN",.404,28,40,14,1)
28
"KRN",.404,28,40,14,2)
6,65^10^6,54
"KRN",.404,28,40,15,0)
1^1^1^
"KRN",.404,28,40,15,2)
^^1,74
"KRN",.404,28,40,16,0)
6^SSN^3^^
"KRN",.404,28,40,16,1)
9
"KRN",.404,28,40,16,2)
5,12^9^5,7
"KRN",.404,28,40,17,0)
8^DEGREE^3^^
"KRN",.404,28,40,17,1)
10.6
"KRN",.404,28,40,17,2)
6,12^10^6,4
"KRN",.404,28,40,18,0)
10^DISUSER^3
"KRN",.404,28,40,18,1)
7
"KRN",.404,28,40,18,2)
7,12^3^7,3
"KRN",.404,28,40,19,0)
11^TERMINATION DATE^3
"KRN",.404,28,40,19,1)
9.2
"KRN",.404,28,40,19,2)
7,65^11^7,47
"KRN",.404,28,40,20,0)
12^Termination Reason^3
"KRN",.404,28,40,20,1)
9.4
"KRN",.404,28,40,20,2)
8,23^45^8,3
"KRN",.404,28,40,21,0)
7^DOB^3
"KRN",.404,28,40,21,1)
5
"KRN",.404,28,40,21,2)
5,65^11^5,60
"KRN",.404,29,0)
XUEXISTING USER 2^200^^^
"KRN",.404,29,40,0)
^.4044I^18^15
"KRN",.404,29,40,1,0)
2^TIMED READ (# OF SECONDS)^3
"KRN",.404,29,40,1,1)
200.1
"KRN",.404,29,40,1,2)
4,31^5^4,4
"KRN",.404,29,40,2,0)
3^MULTIPLE SIGN-ON^3
"KRN",.404,29,40,2,1)
200.04
"KRN",.404,29,40,2,2)
6,31^11^6,13
"KRN",.404,29,40,2,11)
D EN^DDIOL("If you select 'Only one IP' be sure to put a value into the MULTIPLE SIGN-ON LIMIT field so users can sign-on at least once.")
"KRN",.404,29,40,3,0)
5.2^AUTO MENU^3
"KRN",.404,29,40,3,1)
200.06
"KRN",.404,29,40,3,2)
7,60^20^7,49
"KRN",.404,29,40,4,0)
5^ASK DEVICE TYPE AT SIGN-ON^3
"KRN",.404,29,40,4,1)
200.05
"KRN",.404,29,40,4,2)
7,31^9^7,3
"KRN",.404,29,40,5,0)
6^TYPE-AHEAD^3
"KRN",.404,29,40,5,1)
200.09
"KRN",.404,29,40,5,2)
8,60^11^8,48
"KRN",.404,29,40,6,0)
7^PROHIBITED TIMES FOR SIGN-ON^3
"KRN",.404,29,40,6,1)
15
"KRN",.404,29,40,6,2)
8,31^9^8,1
"KRN",.404,29,40,7,0)
10^ALLOWED TO USE SPOOLER^3
"KRN",.404,29,40,7,1)
41
"KRN",.404,29,40,7,2)
12,31^3^12,7
"KRN",.404,29,40,8,0)
12^CAN MAKE INTO A MAIL MESSAGE^3
"KRN",.404,29,40,8,1)
41.2
"KRN",.404,29,40,8,2)
13,31^3^13,1
"KRN",.404,29,40,10,0)
13^FILE RANGE^3
"KRN",.404,29,40,10,1)
31.1
"KRN",.404,29,40,10,2)
15,31^30^15,19
"KRN",.404,29,40,12,0)
14^ALWAYS SHOW SECONDARIES^3
"KRN",.404,29,40,12,1)
200.11
"KRN",.404,29,40,12,2)
16,31^3^16,6
"KRN",.404,29,40,13,0)
1^2^1^
"KRN",.404,29,40,13,2)
^^1,74^1
"KRN",.404,29,40,14,0)
11^PAC^3
"KRN",.404,29,40,14,1)
14
"KRN",.404,29,40,14,2)
12,63^8^12,58
"KRN",.404,29,40,16,0)
8^AUTO SIGN-ON^3
"KRN",.404,29,40,16,1)
200.18
"KRN",.404,29,40,16,2)
9,60^3^9,46
"KRN",.404,29,40,17,0)
9^Preferred Editor^3
"KRN",.404,29,40,17,1)
31.3
"KRN",.404,29,40,17,2)
10,31^30^10,13
"KRN",.404,29,40,17,3)
SCREEN EDITOR
"KRN",.404,29,40,18,0)
3.2^MULTIPLE SIGN-ON LIMIT^3
"KRN",.404,29,40,18,1)
200.19
"KRN",.404,29,40,18,2)
6,70^3^6,46
"KRN",.404,30,0)
XUEXISTING USER 3^200.03
"KRN",.404,30,40,0)
^.4044I^3^3
"KRN",.404,30,40,1,0)
1^SECONDARY MENU OPTIONS^1^
"KRN",.404,30,40,1,2)
^^1,33^
"KRN",.404,30,40,2,0)
2^SECONDARY MENU OPTIONS^3
"KRN",.404,30,40,2,1)
.01
"KRN",.404,30,40,2,2)
3,25^30^3,1
"KRN",.404,30,40,3,0)
3^SYNONYM^3
"KRN",.404,30,40,3,1)
2
"KRN",.404,30,40,3,2)
4,25^4^4,16
"KRN",.404,31,0)
XUEXISTING USER 4^200.02
"KRN",.404,31,40,0)
^.4044I^3^3
"KRN",.404,31,40,1,0)
1^DIVISION^1^
"KRN",.404,31,40,1,2)
^^1,33^
"KRN",.404,31,40,2,0)
2^DIVISION^3
"KRN",.404,31,40,2,1)
.01
"KRN",.404,31,40,2,2)
3,11^30^3,1
"KRN",.404,31,40,3,0)
3^DEFAULT^3
"KRN",.404,31,40,3,1)
1
"KRN",.404,31,40,3,2)
4,11^3^4,2
"KRN",.404,47,0)
XUEXISTING USER 0^200^
"KRN",.404,47,40,0)
^.4044I^5^5
"KRN",.404,47,40,1,0)
2^NAME^3
"KRN",.404,47,40,1,1)
.01
"KRN",.404,47,40,1,2)
2,7^30^2,1
"KRN",.404,47,40,1,4)
^^^1
"KRN",.404,47,40,2,0)
1^Edit an Existing User^1^
"KRN",.404,47,40,2,2)
^^1,30^1
"KRN",.404,47,40,3,0)
3^Page^1^
"KRN",.404,47,40,3,2)
^^2,69
"KRN",.404,47,40,4,0)
5^_______________________________________________________________________________^1^
"KRN",.404,47,40,4,2)
^^3,1^1
"KRN",.404,47,40,5,0)
4^of 4^1^
"KRN",.404,47,40,5,2)
^^2,76
"KRN",.404,50,0)
XUEXISTING USER 5^200
"KRN",.404,50,40,0)
^.4044I^10^10
"KRN",.404,50,40,1,0)
1^3^1^
"KRN",.404,50,40,1,2)
^^1,74^
"KRN",.404,50,40,2,0)
2^PROHIBITED TIMES FOR SIGN-ON^3
"KRN",.404,50,40,2,1)
15
"KRN",.404,50,40,2,2)
3,31^21^3,1
"KRN",.404,50,40,3,0)
3^PHONE^3
"KRN",.404,50,40,3,1)
.131
"KRN",.404,50,40,3,2)
5,19^20^5,12
"KRN",.404,50,40,4,0)
4^OFFICE PHONE^3
"KRN",.404,50,40,4,1)
.132
"KRN",.404,50,40,4,2)
5,56^20^5,42
"KRN",.404,50,40,5,0)
7^VOICE PAGER^3
"KRN",.404,50,40,5,1)
.137
"KRN",.404,50,40,5,2)
7,19^20^7,6
"KRN",.404,50,40,6,0)
6^FAX NUMBER^3
"KRN",.404,50,40,6,1)
.136
"KRN",.404,50,40,6,2)
6,56^20^6,44
"KRN",.404,50,40,7,0)
5^COMMERCIAL PHONE^3
"KRN",.404,50,40,7,1)
.135
"KRN",.404,50,40,7,2)
6,19^20^6,1
"KRN",.404,50,40,8,0)
8^DIGITAL PAGER^3
"KRN",.404,50,40,8,1)
.138
"KRN",.404,50,40,8,2)
7,56^20^7,41
"KRN",.404,50,40,9,0)
9^LANGUAGE^3
"KRN",.404,50,40,9,1)
200.07
"KRN",.404,50,40,9,2)
8,19^10^8,9
"KRN",.404,50,40,10,0)
10^Person Class                                         Effective     Expired^1
"KRN",.404,50,40,10,2)
^^10,2
"KRN",.404,51,0)
XUSITEPARM 0^8989.3^
"KRN",.404,51,40,0)
^.4044I^3^2
"KRN",.404,51,40,2,0)
2^Kernel Site Parameter edit^1
"KRN",.404,51,40,2,2)
^^1,24^1
"KRN",.404,51,40,3,0)
1^DOMAIN^3
"KRN",.404,51,40,3,1)
.01
"KRN",.404,51,40,3,2)
2,20^42^2,13
"KRN",.404,52,0)
XUSITEPARM 1^8989.3
"KRN",.404,52,40,0)
^.4044I^18^17
"KRN",.404,52,40,1,0)
1^DEFAULT # OF ATTEMPTS^3
"KRN",.404,52,40,1,1)
202
"KRN",.404,52,40,1,2)
3,31^3^3,8
"KRN",.404,52,40,1,3)
5
"KRN",.404,52,40,2,0)
2^DEFAULT LOCK-OUT TIME^3
"KRN",.404,52,40,2,1)
203
"KRN",.404,52,40,2,2)
4,31^4^4,8
"KRN",.404,52,40,2,3)
30
"KRN",.404,52,40,3,0)
3^DEFAULT MULTIPLE SIGN-ON^3
"KRN",.404,52,40,3,1)
204
"KRN",.404,52,40,3,2)
5,31^8^5,5
"KRN",.404,52,40,3,3)
YES
"KRN",.404,52,40,3,11)
D EN^DDIOL("If you select 'Only one IP' be sure to put a value into the MULTIPLE SIGN-ON LIMIT field so users can sign-on at least once.")
"KRN",.404,52,40,4,0)
4^ASK DEVICE TYPE AT SIGN-ON^3
"KRN",.404,52,40,4,1)
205
"KRN",.404,52,40,4,2)
11,69^3^11,41
"KRN",.404,52,40,4,3)
ASK
"KRN",.404,52,40,5,0)
5^DEFAULT AUTO-MENU^3
"KRN",.404,52,40,5,1)
206
"KRN",.404,52,40,5,2)
6,31^3^6,12
"KRN",.404,52,40,5,3)
NO
"KRN",.404,52,40,6,0)
6^DEFAULT TYPE-AHEAD^3
"KRN",.404,52,40,6,1)
209
"KRN",.404,52,40,6,2)
8,31^3^8,11
"KRN",.404,52,40,6,3)
YES
"KRN",.404,52,40,7,0)
7^DEFAULT TIMED-READ (SECONDS)^3
"KRN",.404,52,40,7,1)
210
"KRN",.404,52,40,7,2)
9,31^5^9,1
"KRN",.404,52,40,7,3)
300
"KRN",.404,52,40,8,0)
8^BYPASS DEVICE LOCK-OUT^3
"KRN",.404,52,40,8,1)
211
"KRN",.404,52,40,8,2)
11,31^3^11,7
"KRN",.404,52,40,9,0)
9^LIFETIME OF VERIFY CODE^3
"KRN",.404,52,40,9,1)
214
"KRN",.404,52,40,9,2)
12,31^3^12,6
"KRN",.404,52,40,9,3)
90
"KRN",.404,52,40,11,0)
5.5^DEFAULT LANGUAGE^3
"KRN",.404,52,40,11,1)
207
"KRN",.404,52,40,11,2)
7,31^10^7,13
"KRN",.404,52,40,12,0)
11^DEFAULT INSTITUTION^3
"KRN",.404,52,40,12,1)
217
"KRN",.404,52,40,12,2)
13,31^30^13,10
"KRN",.404,52,40,13,0)
12^AUTO-GENERATE ACCESS CODES^3
"KRN",.404,52,40,13,1)
11
"KRN",.404,52,40,13,2)
14,31^3^14,3
"KRN",.404,52,40,14,0)
13^AGENCY CODE^3
"KRN",.404,52,40,14,1)
9
"KRN",.404,52,40,14,2)
3,66^9^3,53
"KRN",.404,52,40,14,3)
VA
"KRN",.404,52,40,15,0)
14^LOG RESOURCE USAGE?^3
"KRN",.404,52,40,15,1)
300
"KRN",.404,52,40,15,2)
15,31^3^15,10
"KRN",.404,52,40,16,0)
3.4^DEFAULT AUTO SIGN-ON^3
"KRN",.404,52,40,16,1)
218
"KRN",.404,52,40,16,2)
6,66^8^6,44
"KRN",.404,52,40,17,0)
15^BROKER TIMEOUT^3
"KRN",.404,52,40,17,1)
230
"KRN",.404,52,40,17,2)
9,66^5^9,50
"KRN",.404,52,40,17,3)
180
"KRN",.404,52,40,18,0)
3.2^MULTIPLE SIGN-ON LIMIT^3
"KRN",.404,52,40,18,1)
219
"KRN",.404,52,40,18,2)
5,66^3^5,42
"KRN",.404,53,0)
XUSITEPARM 3^8989.3
"KRN",.404,53,40,0)
^.4044I^7^7
"KRN",.404,53,40,1,0)
1^MAX SPOOL LINES PER USER^3
"KRN",.404,53,40,1,1)
31.1
"KRN",.404,53,40,1,2)
1,31^7^1,5
"KRN",.404,53,40,2,0)
2^MAX SPOOL DOCUMENTS PER USER^3
"KRN",.404,53,40,2,1)
31.2
"KRN",.404,53,40,2,2)
2,31^3^2,1
"KRN",.404,53,40,3,0)
3^MAX SPOOL DOCUMENT LIFE-SPAN^3
"KRN",.404,53,40,3,1)
31.3
"KRN",.404,53,40,3,2)
3,31^3^3,1
"KRN",.404,53,40,4,0)
4^LOG RESOURCE USAGE?^3
"KRN",.404,53,40,4,1)
300
"KRN",.404,53,40,4,2)
5,22^3^5,1
"KRN",.404,53,40,5,0)
5^NEW PERSON IDENTIFIERS^3
"KRN",.404,53,40,5,1)
21
"KRN",.404,53,40,5,2)
13,4^65^12,1
"KRN",.404,53,40,6,0)
6^DEFAULT DIRECTORY FOR HFS^3
"KRN",.404,53,40,6,1)
320
"KRN",.404,53,40,6,2)
8,4^50^7,1
"KRN",.404,53,40,7,0)
7^DNS IP^3
"KRN",.404,53,40,7,1)
51
"KRN",.404,53,40,7,2)
10,9^60^10,1
"KRN",.404,53,40,7,4)
1
"KRN",.404,54,0)
XUSITEPARM 2^8989.3
"KRN",.404,54,40,0)
^.4044I^3^3
"KRN",.404,54,40,1,0)
1^Vol Set      Max Sign-ons       Log RT?^1
"KRN",.404,54,40,1,2)
^^1,12^1
"KRN",.404,54,40,2,0)
2^ROUTINE MONITORING^3
"KRN",.404,54,40,2,1)
9.8
"KRN",.404,54,40,2,2)
8,22^8^8,2
"KRN",.404,54,40,3,0)
3^Routine Namespace's^1
"KRN",.404,54,40,3,2)
^^9,12^1
"KRN",.404,55,0)
XUSITEPARM 2.1^8989.304
"KRN",.404,55,40,0)
^.4044I^3^3
"KRN",.404,55,40,1,0)
1^^3
"KRN",.404,55,40,1,1)
.01
"KRN",.404,55,40,1,2)
1,1^9
"KRN",.404,55,40,2,0)
2^^3
"KRN",.404,55,40,2,1)
2
"KRN",.404,55,40,2,2)
1,14^4
"KRN",.404,55,40,3,0)
3^^3
"KRN",.404,55,40,3,1)
6
"KRN",.404,55,40,3,2)
1,33^3
"KRN",.404,56,0)
XUSITEPARM 2.2^8989.309
"KRN",.404,56,40,0)
^.4044I^1^1
"KRN",.404,56,40,1,0)
1^^3
"KRN",.404,56,40,1,1)
.01
"KRN",.404,56,40,1,2)
2,5^8
"KRN",.404,57,0)
XUSITEPARM 4^8989.3
"KRN",.404,57,40,0)
^.4044I^8^8
"KRN",.404,57,40,1,0)
1^OPTION AUDIT^3
"KRN",.404,57,40,1,1)
19
"KRN",.404,57,40,1,2)
1,15^24^1,1
"KRN",.404,57,40,2,0)
2^INITIATE AUDIT^3
"KRN",.404,57,40,2,1)
19.4
"KRN",.404,57,40,2,2)
2,20^17^2,4
"KRN",.404,57,40,3,0)
3^TERMINATE AUDIT^3
"KRN",.404,57,40,3,1)
19.5
"KRN",.404,57,40,3,2)
2,60^17^2,43
"KRN",.404,57,40,4,0)
4^Option to audit^1
"KRN",.404,57,40,4,2)
^^4,4^1
"KRN",.404,57,40,5,0)
5^Namespace to audit^1
"KRN",.404,57,40,5,2)
^^4,43^1
"KRN",.404,57,40,6,0)
6^User to audit^1
"KRN",.404,57,40,6,2)
^^9,4^1
"KRN",.404,57,40,7,0)
7^Device to audit^1
"KRN",.404,57,40,7,2)
^^9,43
"KRN",.404,57,40,8,0)
8^FAILED ACCESS ATTEMPTS^3
"KRN",.404,57,40,8,1)
212.5
"KRN",.404,57,40,8,2)
1,67^8^1,43
"KRN",.404,58,0)
XUSITEPARM 4.1^8989.36
"KRN",.404,58,40,0)
^.4044I^1^1
"KRN",.404,58,40,1,0)
1^^3
"KRN",.404,58,40,1,1)
.01
"KRN",.404,58,40,1,2)
1,1^30
"KRN",.404,59,0)
XUSITEPARM 4.2^8989.35
"KRN",.404,59,40,0)
^.4044I^1^1
"KRN",.404,59,40,1,0)
1^^3
"KRN",.404,59,40,1,1)
.01
"KRN",.404,59,40,1,2)
1,1^5
"KRN",.404,60,0)
XUSITEPARM 4.4^8989.33
"KRN",.404,60,40,0)
^.4044I^1^1
"KRN",.404,60,40,1,0)
1^^3
"KRN",.404,60,40,1,1)
.01
"KRN",.404,60,40,1,2)
1,1^20
"KRN",.404,61,0)
XUSITEPARM 4.3^8989.34
"KRN",.404,61,40,0)
^.4044I^1^1
"KRN",.404,61,40,1,0)
1^^3
"KRN",.404,61,40,1,1)
.01
"KRN",.404,61,40,1,2)
1,1^30
"KRN",.404,63,0)
XU-PERSON CLASS 2^200.05
"KRN",.404,63,40,0)
^.4044I^3^3
"KRN",.404,63,40,1,0)
1^^3
"KRN",.404,63,40,1,1)
.01
"KRN",.404,63,40,1,2)
1,2^40
"KRN",.404,63,40,1,11)
D DDS1^XUA4A72
"KRN",.404,63,40,1,14)
S:$L(DDSOLD)&(X'=DDSOLD) DDSERROR=1
"KRN",.404,63,40,2,0)
2^^3
"KRN",.404,63,40,2,1)
2
"KRN",.404,63,40,2,2)
1,52^12
"KRN",.404,63,40,2,4)
^^^0
"KRN",.404,63,40,2,12)
D DDS2^XUA4A72
"KRN",.404,63,40,2,14)
D DDS3^XUA4A72(2)
"KRN",.404,63,40,3,0)
3^^3
"KRN",.404,63,40,3,1)
3
"KRN",.404,63,40,3,2)
1,67^12
"KRN",.404,63,40,3,14)
D DDS3^XUA4A72(3)
"KRN",.404,157,0)
XUEXISTING USER NAME COMPONENT^20
"KRN",.404,157,11)
I $G(XLFNCHG),$D(XLFNC) N FLD,NC,SUB M NC=XLFNC K XLFNC S (XLFNAME,XLFNEW)=NC K XLFNCHG S FLD=0 F SUB="FAMILY","GIVEN","MIDDLE","","SUFFIX" S FLD=FLD+1 D:SUB]"" PUT^DDSVAL(DIE,DA,FLD,$G(NC(SUB)),"","I")
"KRN",.404,157,40,0)
^.4044I^8^7
"KRN",.404,157,40,1,0)
1^NAME COMPONENTS^1
"KRN",.404,157,40,1,2)
^^2,38
"KRN",.404,157,40,2,0)
5^Family (Last)^3
"KRN",.404,157,40,2,1)
1
"KRN",.404,157,40,2,2)
6,18^35^6,3
"KRN",.404,157,40,3,0)
3^Given (First)^3^^GIVEN
"KRN",.404,157,40,3,1)
2
"KRN",.404,157,40,3,2)
4,18^25^4,3
"KRN",.404,157,40,4,0)
4^Middle^3
"KRN",.404,157,40,4,1)
3
"KRN",.404,157,40,4,2)
5,18^25^5,10
"KRN",.404,157,40,5,0)
2^Prefix^3
"KRN",.404,157,40,5,1)
4
"KRN",.404,157,40,5,2)
3,18^10^3,10
"KRN",.404,157,40,6,0)
6^Suffix^3
"KRN",.404,157,40,6,1)
5
"KRN",.404,157,40,6,2)
7,18^10^7,10
"KRN",.404,157,40,8,0)
8^^4
"KRN",.404,157,40,8,2)
9,3^35
"KRN",.404,157,40,8,30)
N NC S NC("FAMILY")={1},NC("GIVEN")={2},NC("MIDDLE")={3},NC("SUFFIX")={5},(XLFNEW,Y)=$$BLDNAME^XLFNAME(.NC,35)
"KRN",.404,171,0)
XUEXISTING USER CPRS^200
"KRN",.404,171,40,0)
^.4044I^8^8
"KRN",.404,171,40,1,0)
1^4^1
"KRN",.404,171,40,1,2)
^^1,74
"KRN",.404,171,40,2,0)
2^RESTRICT PATIENT SELECTION^3
"KRN",.404,171,40,2,1)
101.01
"KRN",.404,171,40,2,2)
3,29^3^3,1
"KRN",.404,171,40,3,0)
3^OE/RR LIST^3
"KRN",.404,171,40,3,1)
101.02
"KRN",.404,171,40,3,2)
3,48^30^3,36
"KRN",.404,171,40,4,0)
4^CPRS TAB ACCESS:^1
"KRN",.404,171,40,4,2)
^^5,1
"KRN",.404,171,40,5,0)
5^Effective Date^1
"KRN",.404,171,40,5,2)
^^6,46
"KRN",.404,171,40,6,0)
6^Expiration Date^1
"KRN",.404,171,40,6,2)
^^6,62
"KRN",.404,171,40,7,0)
7^Name^1
"KRN",.404,171,40,7,2)
^^6,3
"KRN",.404,171,40,8,0)
8^Description^1
"KRN",.404,171,40,8,2)
^^6,9
"KRN",.404,172,0)
XUEXISTING USER CPRS TAB^200.010113
"KRN",.404,172,40,0)
^.4044I^4^4
"KRN",.404,172,40,1,0)
1^^3
"KRN",.404,172,40,1,1)
.01
"KRN",.404,172,40,1,2)
1,3^3
"KRN",.404,172,40,2,0)
2^^3
"KRN",.404,172,40,2,1)
.02
"KRN",.404,172,40,2,2)
1,47^11
"KRN",.404,172,40,3,0)
3^^3
"KRN",.404,172,40,3,1)
.03
"KRN",.404,172,40,3,2)
1,64^11
"KRN",.404,172,40,3,14)
I X]"" N XUD,XUM S XUD=$$GET^DDSVAL(DIE,.DA,.02,"","I") S XUM=$S(XUD="":"You must first enter an EFFECTIVE DATE.",X<XUD:"The EXPIRATION DATE must not precede the EFFECTIVE DATE.",1:"") I $G(XUM)]"" S DDSERROR=1 D HLP^DDSUTL(XUM)
"KRN",.404,172,40,4,0)
4^^4
"KRN",.404,172,40,4,2)
1,9^35
"KRN",.404,172,40,4,30)
=$S($D(^DD(101.13,1,0))#2:$$GET^DDSVAL(101.13,{.01;I},1),1:"")
"KRN",.404,181,0)
XUSITEPARM 5^8989.3
"KRN",.404,181,40,0)
^.4044I^2^2
"KRN",.404,181,40,1,0)
1^IRM MAIL GROUP^3
"KRN",.404,181,40,1,1)
.02
"KRN",.404,181,40,1,2)
1,27^50^1,11
"KRN",.404,181,40,2,0)
2^AFTER HOURS MAIL GROUP^3
"KRN",.404,181,40,2,1)
.03
"KRN",.404,181,40,2,2)
3,27^50^3,3
"KRN",8989.51,212,-1)
0^1
"KRN",8989.51,212,0)
XUS-XUP SET ERROR TRAP^Set error trap in XUP^0^
"KRN",8989.51,212,1)
Y
"KRN",8989.51,212,4,0)
^8989.514^2^2
"KRN",8989.51,212,4,1,0)
DEVELOPER
"KRN",8989.51,212,4,2,0)
ERROR
"KRN",8989.51,212,4,"B","DEVELOPER",1)

"KRN",8989.51,212,4,"B","ERROR",2)

"KRN",8989.51,212,20,0)
^^1^1^3010710^
"KRN",8989.51,212,20,1,0)
This parameter controls if XUP will set up a ERROR trap for the user.
"KRN",8989.51,212,30,0)
^8989.513I^2^2
"KRN",8989.51,212,30,1,0)
1^200
"KRN",8989.51,212,30,2,0)
2^4.2
"KRN",8989.51,213,-1)
0^2
"KRN",8989.51,213,0)
XUS-XUP VPE^Drop into VPE^0
"KRN",8989.51,213,1)
Y^^Should XUP drop the user into the VPE environment.
"KRN",8989.51,213,4,0)
^8989.514^1^1
"KRN",8989.51,213,4,1,0)
DEVELOPER
"KRN",8989.51,213,4,"B","DEVELOPER",1)

"KRN",8989.51,213,20,0)
^8989.512^2^2^3010726^^
"KRN",8989.51,213,20,1,0)
This parameter controls if a user when exiting XUP is dropped into VPE or
"KRN",8989.51,213,20,2,0)
right to the ">" prompt.
"KRN",8989.51,213,30,0)
^8989.513I^2^2
"KRN",8989.51,213,30,1,0)
1^200
"KRN",8989.51,213,30,2,0)
2^4.2
"MBREQ")
0
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",8,.403)
.403;8;;;EDEOUT^DIFROMSO(.403,DA,"",XPDA);FPRE^DIFROMSI(.403,"",XPDA);EPRE^DIFROMSI(.403,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.403,DA,"",XPDA);DEL^DIFROMSK(.403,"",%)
"ORD",8,.403,0)
FORM
"ORD",20,8989.51)
8989.51;20;;;PAR1E1^XPDTA2;PAR1F1^XPDIA3;PAR1E1^XPDIA3;PAR1F2^XPDIA3
"ORD",20,8989.51,0)
PARAMETER DEFINITION
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^^0
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^2950703^2970507^.5
"PKG",3,22,1,"PAH",1,0)
258^3030326
"PKG",3,22,1,"PAH",1,1,0)
^^2^2^3030326
"PKG",3,22,1,"PAH",1,1,1,0)
Please refer to the Description in FORUM Patch Module for details.
"PKG",3,22,1,"PAH",1,1,2,0)
XU*8*258 Multiple Sign on Update.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","XQ82")
0^3^B6027603
"RTN","XQ82",1,0)
XQ82 ;SF-ISC.SEA/JLI - CLEAN OLD $JOB DATA OUT OF XUTL("XQ", & OTHERS ;03/26/2003  14:35
"RTN","XQ82",2,0)
 ;;8.0;KERNEL;**59,67,157,258**;Jul 10, 1995
"RTN","XQ82",3,0)
 S DDATE=$$HTFM^XLFDT($H-7) ;Get seven days ago in FM format
"RTN","XQ82",4,0)
 ;For any entry in user stack w/ date older than 7 days or w/o zero node
"RTN","XQ82",5,0)
 ;kill XUTL("XQ",n) and corresponding UTILITY(n) and TMP(n) nodes.
"RTN","XQ82",6,0)
 F J=0:0 S J=$O(^XUTL("XQ",J)) Q:J'>0  I $S('$D(^(J,0)):1,1:^(0)<DDATE) D
"RTN","XQ82",7,0)
 . I $D(^XUTL("XQ",J,"ZTSKNUM")) L +^%ZTSCH("TASK",^XUTL("XQ",J,"ZTSKNUM")):0 Q:'$T  L -^%ZTSCH("TASK",^XUTL("XQ",J,"ZTSKNUM"))
"RTN","XQ82",8,0)
 . K ^XUTL("XQ",J),^UTILITY(J),^TMP(J)
"RTN","XQ82",9,0)
 . Q
"RTN","XQ82",10,0)
 ;
"RTN","XQ82",11,0)
 ;Loop thru UTILITY and look for nodes w/o corresponding XUTL("XQ",n)
"RTN","XQ82",12,0)
L1 S A="" F  S A=$O(^UTILITY(A)) Q:A=""  D
"RTN","XQ82",13,0)
 . I A>0,'$D(^XUTL("XQ",A)) K ^UTILITY(A) Q  ;UTILITY($J) w/o XUTL("XQ",$J) node.
"RTN","XQ82",14,0)
 . Q:A>0  Q:"^ROU^GLO^LRLTR^"[("^"_A_"^")
"RTN","XQ82",15,0)
 . F J=0:0 S J=$O(^UTILITY(A,J)) Q:J'>0  I '$D(^XUTL("XQ",J)) K ^UTILITY(A,J) ;Remove UTILITY(namespace,$J) w/o XUTL("XQ",$J)
"RTN","XQ82",16,0)
 . Q
"RTN","XQ82",17,0)
 ;
"RTN","XQ82",18,0)
 ;Loop thru TMP and look for nodes w/o corresponding XUTL("XQ",n)
"RTN","XQ82",19,0)
L2 S A="" F  S A=$O(^TMP(A)) Q:A=""  D
"RTN","XQ82",20,0)
 . I A>0,'$D(^XUTL("XQ",A)) K ^TMP(A) Q  ;TMP($J) w/o XUTL("XQ",$J) node.
"RTN","XQ82",21,0)
 . Q:A>0  ;Q:"^ROU^GLO^LRLTR^"[("^"_A_"^")
"RTN","XQ82",22,0)
 . F J=0:0 S J=$O(^TMP(A,J)) Q:J'>0  I '$D(^XUTL("XQ",J)) K ^TMP(A,J) ;Remove TMP(namespace,$J) w/o XUTL("XQ",$J)
"RTN","XQ82",23,0)
 . Q
"RTN","XQ82",24,0)
 ;
"RTN","XQ82",25,0)
L3 ;Now to cleanup the XTMP global w/ XTMP(namespace,0)<DT
"RTN","XQ82",26,0)
 S A="" F  S A=$O(^XTMP(A)) Q:A=""  S J=$G(^XTMP(A,0)) I J<DT K ^XTMP(A)
"RTN","XQ82",27,0)
 ;
"RTN","XQ82",28,0)
L4 ;Now go thru and clean old ^XUSEC(0,"CUR",duz,sign-on) nodes.
"RTN","XQ82",29,0)
 D L51("CUR") ;F I=0:0 S I=$O(^XUSEC(0,"CUR",I)) Q:I'>0  F J=0:0 S J=$O(^XUSEC(0,"CUR",I,J)) Q:(J'>0)!(J'<DDATE)  D
"RTN","XQ82",30,0)
L5 ;Now go through and clean old ^XUSEC(0,"AS*" nodes.
"RTN","XQ82",31,0)
 D L51("AS1"),L51("AS2")
"RTN","XQ82",32,0)
L6 ;Clean out old build nodes from ^XUTL
"RTN","XQ82",33,0)
 S K="" F  S K=$O(^XUTL("XQO",K)) Q:K=""  I $D(^XUTL("XQO",K,"^BUILD")),($P($H,",",2)-^("^BUILD")>1800)!(^("^BUILD")>$P($H,",",2)) K ^("^BUILD")
"RTN","XQ82",34,0)
EXIT ;
"RTN","XQ82",35,0)
 K A,X,%DT,Y,J,K,DDATE
"RTN","XQ82",36,0)
 Q
"RTN","XQ82",37,0)
L51(NDX) ;
"RTN","XQ82",38,0)
 N I,J,FDA,NOW
"RTN","XQ82",39,0)
 S I="",NOW=$$NOW^XLFDT
"RTN","XQ82",40,0)
 F  S I=$O(^XUSEC(0,NDX,I)) Q:I=""  F J=0:0 S J=$O(^XUSEC(0,NDX,I,J)) Q:(J'>0)!(J'<DDATE)  D
"RTN","XQ82",41,0)
 . S FDA(3.081,J_",",3)=NOW,FDA(3.081,J_",",16)=1 D UPDATE^DIE("","FDA")
"RTN","XQ82",42,0)
 . ;was K ^XUSEC(0,NDX,I,J)
"RTN","XQ82",43,0)
 . Q
"RTN","XQ82",44,0)
 Q
"RTN","XUP")
0^2^B8707124
"RTN","XUP",1,0)
XUP ;SFISC/RWF - Setup enviroment for programmers ;03/26/2003  14:23
"RTN","XUP",2,0)
 ;;8.0;KERNEL;**208,258**;Jul 10, 1995
"RTN","XUP",3,0)
 W !,"Setting up programmer environment"
"RTN","XUP",4,0)
 N $ESTACK,$ETRAP S $ECODE="",$ETRAP="" ;Clear and error trap
"RTN","XUP",5,0)
 X ^%ZOSF("TYPE-AHEAD")
"RTN","XUP",6,0)
 K ^UTILITY($J),^XUTL("XQ",$J) D KILL1^XUSCLEAN
"RTN","XUP",7,0)
 S U="^",DT=$$DT^XLFDT
"RTN","XUP",8,0)
 S XUEOFF=^%ZOSF("EOFF"),XUEON=^%ZOSF("EON"),U="^",XUTT=0,XUIOP=""
"RTN","XUP",9,0)
 D GETENV^%ZOSV S XUENV=Y,XUVOL=$P(Y,U,2),XUCI=$P(Y,U,1)
"RTN","XUP",10,0)
 ;Reset DUZ if user "Switched Identities".
"RTN","XUP",11,0)
 I $D(DUZ("SAV")) S DUZ=+DUZ("SAV"),DUZ(0)=$P(DUZ("SAV"),U,2) K DUZ("SAV")
"RTN","XUP",12,0)
 ;Get user info
"RTN","XUP",13,0)
 I $G(DUZ)>0 D
"RTN","XUP",14,0)
 . N XUDUZ S:$D(DUZ(0)) XUDUZ=DUZ(0) D DUZ(DUZ) S:$D(XUDUZ) DUZ(0)=XUDUZ
"RTN","XUP",15,0)
 I $G(DUZ)'>0!('$D(DUZ(0))) D ASKDUZ G:Y'>0 EXIT
"RTN","XUP",16,0)
 I '$D(XQUSER) S XQUSER=$S($D(^VA(200,DUZ,20)):$P(^(20),"^",2),1:"Unk")
"RTN","XUP",17,0)
 S DTIME=600 ;Set a temp DTIME
"RTN","XUP",18,0)
 ;Getting Terminal Type
"RTN","XUP",19,0)
ZIS I XUTT D ENQ^XUS1 G:$D(XUIOP(1)) ZIS2 S Y=0 D TT^XUS3 I Y>0 S XUIOP(1)=$P(XUIOP,";",2) G ZIS2
"RTN","XUP",20,0)
 S X="`"_+$G(^VA(200,DUZ,1.2)),DIC="^%ZIS(2,",DIC(0)="MQ"_$S(X]"`0":"",1:"AE") D ^DIC G:Y'>0 EXIT
"RTN","XUP",21,0)
 S XUIOP(1)=$P(Y,U,2) I DIC(0)["A",$G(^VA(200,+DUZ,0))]"" S $P(^VA(200,DUZ,1.2),U,1)=+Y
"RTN","XUP",22,0)
ZIS2 S %ZIS="L",IOP="HOME;"_XUIOP(1) D ^%ZIS G EXIT:POP W !,"Terminal Type set to: ",IOST,!
"RTN","XUP",23,0)
 S DTIME=$$DTIME(DUZ,IOS),DUZ("BUF")=1,XUDEV=IOS
"RTN","XUP",24,0)
 ;Save info, Set last sign-on
"RTN","XUP",25,0)
 D SAVE^XUS1 S $P(^VA(200,DUZ,1.1),"^",1)=$$NOW^XLFDT
"RTN","XUP",26,0)
 ;Check Mail
"RTN","XUP",27,0)
 S Y=$P($G(^XMB(3.7,DUZ,0)),U,6) I Y W !,"You have "_Y_" new message"_$S(Y=1:"",1:"s")_"."
"RTN","XUP",28,0)
 ;Setup error trap
"RTN","XUP",29,0)
 I $$GET^XPAR("USR^SYS","XUS-XUP SET ERROR TRAP",1,"Q") S $ETRAP="D ERR^XUP"
"RTN","XUP",30,0)
 D KILL1^XUSCLEAN S $P(XQXFLG,U,3)="XUP" D ^XQ1
"RTN","XUP",31,0)
EXIT D KILL1^XUSCLEAN K XQY,XQY0
"RTN","XUP",32,0)
 I $$GET^XPAR("USR^SYS","XUS-XUP VPE",1,"Q"),$D(^%ZVEMS) X ^%ZVEMS ;Run VPE
"RTN","XUP",33,0)
 Q
"RTN","XUP",34,0)
 ;
"RTN","XUP",35,0)
ASKDUZ X XUEOFF S DIR(0)="FO",DIR("A")="Access Code" D ^DIR W ! X XUEON I $D(DIRUT) S Y=-1 Q
"RTN","XUP",36,0)
 S X=$$UP^XLFSTR(X) S:X[":" XUTT=1,X=$P(X,":",1)_$P(X,":",2)
"RTN","XUP",37,0)
 D ^XUSHSH S Y=$O(^VA(200,"A",X,0))
"RTN","XUP",38,0)
 D DUZ(+Y) Q
"RTN","XUP",39,0)
 ;
"RTN","XUP",40,0)
DUZ(DA) ;Build DUZ for a user.  Used by Mailman.
"RTN","XUP",41,0)
 N Y S Y(0)=$G(^VA(200,+DA,0)),Y("XUS")=$G(^XTV(8989.3,1,"XUS"))
"RTN","XUP",42,0)
 S DUZ=DA,DUZ(0)=$P(Y(0),"^",4),DUZ(1)="",DUZ("AG")=$P($G(^XTV(8989.3,1,0)),"^",8),DUZ(2)=$O(^VA(200,DUZ,2,0))
"RTN","XUP",43,0)
 S:'DUZ(2) DUZ(2)=+$P(Y("XUS"),U,17)
"RTN","XUP",44,0)
 S DUZ("LANG")=$P(Y("XUS"),U,7)
"RTN","XUP",45,0)
 Q
"RTN","XUP",46,0)
 ;
"RTN","XUP",47,0)
DTIME(E,D) ;Return DTIME value for user E, device D.
"RTN","XUP",48,0)
 N P S P=$P($G(^VA(200,+$G(E),200)),"^",10) S:P="" P=$P($G(^%ZIS(1,+$G(D),"XUS")),"^",10) S:P="" P=$P($G(^XTV(8989.3,1,"XUS")),"^",10)
"RTN","XUP",49,0)
 Q $S(P]"":P,1:300)
"RTN","XUP",50,0)
 ;
"RTN","XUP",51,0)
ERR ;
"RTN","XUP",52,0)
 W !,"$ECODE=",$ECODE,"   $STACK=",$STACK
"RTN","XUP",53,0)
 R !!,"Want to record the error: No// ",%x:600 I "Yy"[$E(%x_"N") D ^%ZTER
"RTN","XUP",54,0)
 D UNWIND^%ZTER ;S:'$ESTACK $ECODE="" S $ETRAP="" Q:$QUIT "" Q
"RTN","XUP",55,0)
 ;
"RTN","XUS1A")
0^1^B11947178
"RTN","XUS1A",1,0)
XUS1A ;SF-ISC/STAFF - SIGNON overflow from XUS1 ;03/26/2003  14:33
"RTN","XUS1A",2,0)
 ;;8.0;KERNEL;**153,149,183,258**;Jul 10, 1995
"RTN","XUS1A",3,0)
 Q
"RTN","XUS1A",4,0)
USER() ;
"RTN","XUS1A",5,0)
 N %B,%E,%T,I1,X1,X2
"RTN","XUS1A",6,0)
 S XUTEXT=0,DUZ(2)=0
"RTN","XUS1A",7,0)
 F I=0:0 S I=$O(^XTV(8989.3,1,"POST",I)) Q:I'>0  D SET("!"_$G(^(I,0)))
"RTN","XUS1A",8,0)
 D SET("!"),XOPT
"RTN","XUS1A",9,0)
 S %H=$P($H,",",2)
"RTN","XUS1A",10,0)
 D SET("!Good "_$S(%H<43200:"morning ",%H<61200:"afternoon ",1:"evening ")_$S($P(XUSER(1),U,4)]"":$P(XUSER(1),U,4),1:$P(XUSER(0),U,1)))
"RTN","XUS1A",11,0)
 S I1=$G(^VA(200,DUZ,1.1)),X=(+I1_"0000")
"RTN","XUS1A",12,0)
 I X D SET("!     You last signed on "_$S(X\1=DT:"today",X\1+1=DT:"yesterday",1:$$FMTE^XLFDT(X,"1D"))_" at "_$E(X,9,10)_":"_$E(X,11,12))
"RTN","XUS1A",13,0)
 I $P(I1,"^",2) S I=$P(I1,"^",2) D SET("!There "_$S(I>1:"were ",1:"was ")_I_" unsuccessful attempt"_$S(I>1:"s",1:"")_" since you last signed on.")
"RTN","XUS1A",14,0)
 I $P(XUSER(0),U,12),$$PROHIBIT(%H,$P(XUSER(0),U,12)) Q 17 ;Time frame
"RTN","XUS1A",15,0)
 I +$P(XOPT,U,15) S %=$P(XOPT,U,15)-($H-XUSER(1)) I %<6,%>0 D SET("!     Your Verify code will expire in "_%_" days")
"RTN","XUS1A",16,0)
 ;Report new Mail
"RTN","XUS1A",17,0)
 N XUXM S %=$$NU^XMGAPI4(1,1,"XUXM") I $G(XUXM) F %=0:0 S %=$O(XUXM(%)) Q:%'>0  D SET("!"_XUXM(%))
"RTN","XUS1A",18,0)
 S:$P(XOPT,"^",5) XUTT=1 S DTIME=$P(XOPT,U,10)
"RTN","XUS1A",19,0)
 ;Check Multiple Sign-on allowed, X1 signed on flag, X2 0=No,1=Yes,2=1IP
"RTN","XUS1A",20,0)
 S X1=$P($G(^VA(200,DUZ,1.1)),U,3),X2=$P(XOPT,U,4)
"RTN","XUS1A",21,0)
 I 'X2,X1 Q 9 ;Multi Sign-on not allowed
"RTN","XUS1A",22,0)
 I X2=2 D  Q:%B>0 %B ;Only from one IP
"RTN","XUS1A",23,0)
 . S %B=0 I '$D(IO("IP")) S:X1 %B=9 Q  ;Can't tell IP, 
"RTN","XUS1A",24,0)
 . S X1=$$COUNT(DUZ,IO("IP")),%B=$S(X1<0:9,(X1+1)>$P(XOPT,U,19):9,1:0)
"RTN","XUS1A",25,0)
USX S $P(^VA(200,DUZ,1.1),U,3)=1
"RTN","XUS1A",26,0)
 ;Call XQOR to handle SIGN-ON protocall.
"RTN","XUS1A",27,0)
 N XUSER,XUSQUIT ;Protect ourself.
"RTN","XUS1A",28,0)
 S DIC="^DIC(19,",X="XU USER SIGN-ON",XUSQUIT=0
"RTN","XUS1A",29,0)
 D EN^XQOR
"RTN","XUS1A",30,0)
 K X,DIC
"RTN","XUS1A",31,0)
 Q XUSQUIT ;If protocol set XUSQUIT will stop sign-on.
"RTN","XUS1A",32,0)
 ;
"RTN","XUS1A",33,0)
SET(V) ;Set into XUTEXT(XUTEXT), Called from XU USER SIGN-ON protocol.
"RTN","XUS1A",34,0)
 S XUTEXT=$G(XUTEXT)+1,XUTEXT(XUTEXT)=V
"RTN","XUS1A",35,0)
 Q
"RTN","XUS1A",36,0)
 ;
"RTN","XUS1A",37,0)
DUZ ;setup duz, also see XUS5
"RTN","XUS1A",38,0)
 ;Called from XUSRB, XUESSO1
"RTN","XUS1A",39,0)
 S:'$D(XUSER(0)) XUSER(0)=^VA(200,DUZ,0) D:$D(XOPT)[0 XOPT
"RTN","XUS1A",40,0)
 S DUZ(0)=$P(XUSER(0),U,4),DUZ(1)="",DUZ("AUTO")=$P(XOPT,"^",6)
"RTN","XUS1A",41,0)
 S DUZ(2)=$S($G(DUZ(2))>0:DUZ(2),1:+$P(XOPT,U,17))
"RTN","XUS1A",42,0)
 S X=$P($G(^DIC(4,DUZ(2),99)),U,5),DUZ("AG")=$S(X]"":X,1:$P(^XTV(8989.3,1,0),U,8))
"RTN","XUS1A",43,0)
 S DUZ("BUF")=($P(XOPT,U,9)="Y"),DUZ("LANG")=$P(XOPT,U,7)
"RTN","XUS1A",44,0)
 Q
"RTN","XUS1A",45,0)
XOPT ;Build the XOPT string
"RTN","XUS1A",46,0)
 N X,I
"RTN","XUS1A",47,0)
 S:'$D(XOPT) XOPT=$G(^XTV(8989.3,1,"XUS"))
"RTN","XUS1A",48,0)
 S X=$G(^VA(200,DUZ,200))
"RTN","XUS1A",49,0)
 F I=4:1:7,9,10,19 I $P(X,U,I)]"" S $P(XOPT,"^",I)=$P(X,U,I)
"RTN","XUS1A",50,0)
 Q
"RTN","XUS1A",51,0)
 ;
"RTN","XUS1A",52,0)
COUNT(IEN,IP) ;Count sign-on log active connect from this IP
"RTN","XUS1A",53,0)
 N CNT,IX
"RTN","XUS1A",54,0)
 S CNT="",IX=0
"RTN","XUS1A",55,0)
 I '$D(^XUSEC(0,"AS3",IEN)) Q 0 ;First sign-on
"RTN","XUS1A",56,0)
 I $O(^XUSEC(0,"AS3",IEN,""))'=IP Q -1 ;Diff IP
"RTN","XUS1A",57,0)
 I $O(^XUSEC(0,"AS3",IEN,""),-1)'=IP Q -1 ;Diff IP
"RTN","XUS1A",58,0)
 F  S IX=$O(^XUSEC(0,"AS3",IEN,IP,IX)) Q:'IX  S CNT=CNT+1
"RTN","XUS1A",59,0)
 Q CNT ;Return Count
"RTN","XUS1A",60,0)
 ;
"RTN","XUS1A",61,0)
INTRO(WNM) ;
"RTN","XUS1A",62,0)
 Q:'$D(^XTV(8989.3,1,"INTRO",0))
"RTN","XUS1A",63,0)
 F I=0:0 S I=$O(^XTV(8989.3,1,"INTRO",I)) Q:I'>0  S X=^(I,0) D
"RTN","XUS1A",64,0)
 . I $D(WNM) S @WNM@(I)=X
"RTN","XUS1A",65,0)
 . I '$D(WNM) W X,!
"RTN","XUS1A",66,0)
 . Q
"RTN","XUS1A",67,0)
 Q
"RTN","XUS1A",68,0)
 ;
"RTN","XUS1A",69,0)
DD(Y) Q $$FMTE^XLFDT(X,"1D")
"RTN","XUS1A",70,0)
 ;
"RTN","XUS1A",71,0)
PROHIBIT(%T,%R) ;See if a prohibited time, (Current time, restrict range)
"RTN","XUS1A",72,0)
 N XMSG,%B,%E
"RTN","XUS1A",73,0)
 S %T=%T\60#60+(%T\3600*100),%B=$P(%R,"-",1),%E=$P(%R,"-",2)
"RTN","XUS1A",74,0)
 S XMSG=$P($$FMTE^XLFDT(DT_"."_%B,"2P")," ",2,3)_" thru "_$P($$FMTE^XLFDT(DT_"."_%E,"2P")," ",2,3)
"RTN","XUS1A",75,0)
 I $S(%E'<%B:%T'>%E&(%T'<%B),1:%T>%B!(%T<%E)) S XUM(0)=XMSG Q 1 ;No
"RTN","XUS1A",76,0)
 D SET("!")
"RTN","XUS1A",77,0)
 D SET("! Your access is restricted during this time frame "_XMSG)
"RTN","XUS1A",78,0)
 Q 0
"RTN","XUS6")
0^4^B1089245
"RTN","XUS6",1,0)
XUS6 ;ISCSF/RWF - Clear users at startup. ;01/28/2003  15:02
"RTN","XUS6",2,0)
 ;;8.0;KERNEL;**258**;Jul 10, 1995
"RTN","XUS6",3,0)
 I '$D(ZTQUEUED) W !,"This is only to be run by taskman at startup." Q
"RTN","XUS6",4,0)
A ;
"RTN","XUS6",5,0)
 N I,J,NOW,FDA S I=0,NOW=$$NOW^XLFDT
"RTN","XUS6",6,0)
 F  S I=$O(^XUSEC(0,"CUR",I)),J=0 Q:I'>0  F  S J=$O(^XUSEC(0,"CUR",I,J)) Q:J'>0  D  ;K ^XUSEC(0,"CUR",I)
"RTN","XUS6",7,0)
 . S FDA(3.081,J_",",3)=NOW,FDA(3.081,J_",",16)=1 D UPDATE^DIE("","FDA")
"RTN","XUS6",8,0)
 . Q
"RTN","XUS6",9,0)
 ;Clear the signed on flag.
"RTN","XUS6",10,0)
 F I=0:0 S I=$O(^VA(200,I)) Q:I'>0  I $P($G(^VA(200,I,1.1)),U,3) S $P(^VA(200,I,1.1),U,3)=0
"RTN","XUS6",11,0)
 Q
"RTN","XUS9")
0^5^B4951888
"RTN","XUS9",1,0)
XUS9 ;SF/RWF - Find a user ;01/21/2003  08:45
"RTN","XUS9",2,0)
 ;;8.0;KERNEL;**258**;Jul 10, 1995
"RTN","XUS9",3,0)
 N %,%H,DA,DIC,I,Y,X,XU1,XU2,XU3,XU4,XU5,XU6,XUSER,XUJOB,XUVOL,XUCI,XUDT
"RTN","XUS9",4,0)
1 X ^%ZOSF("UCI") S XU1=$P(Y,",",1),XU2=^%ZOSF("VOL"),X="T-1",%DT="" D ^%DT S XU4=Y
"RTN","XUS9",5,0)
A S DIC="^VA(200,",DIC(0)="AEMQ",DIC("A")="Find User: " D ^DIC G EXIT:Y'>0 S DA=+Y,XUSER=$P(Y,"^",2)
"RTN","XUS9",6,0)
 W !!,"User: ",XUSER,$S($D(^XUSEC(0,"CUR",DA))=10:" is found on;",1:" isn't currently on the system")
"RTN","XUS9",7,0)
 F XU5=0:0 S XU5=$O(^XUSEC(0,"CUR",DA,XU5)) Q:XU5'>0  D B
"RTN","XUS9",8,0)
 W !,"DONE" G A
"RTN","XUS9",9,0)
EXIT ;K %,%H,DA,DIC,I,Y,X
"RTN","XUS9",10,0)
EX2 ;K XU1,XU2,XU3,XU4,XU5,XU6,XUSER,XUJOB,XUVOL,XUCI,XUDT
"RTN","XUS9",11,0)
 Q
"RTN","XUS9",12,0)
B ;Find
"RTN","XUS9",13,0)
 G:XU5<XU4 REMOVE ;Sign-on more than 24 hours old.
"RTN","XUS9",14,0)
 S XU3=$S($D(^XUSEC(0,XU5,0)):^(0),1:"") G REMOVE:'$L(XU3),REMOVE:$P(XU3,"^",4)
"RTN","XUS9",15,0)
 S XUCI=$P(XU3,"^",8),XUVOL=$P(XU3,"^",5),Y=XU5,XUJOB=$P(XU3,"^",3),XU6=XUJOB D DD^%DT S XUDT=Y
"RTN","XUS9",16,0)
 I XUJOB>2048 S X1=16,X=XUJOB D CNV^XTBASE S XU6=XUJOB_" ("_Y_")"
"RTN","XUS9",17,0)
 W !,"Job: ",XU6," on ",XUCI,",",XUVOL,$S($P(XU3,"^",10)]"":":"_$P(XU3,"^",10),1:"")," from ",XUDT
"RTN","XUS9",18,0)
 W !,"Device: ",$P(XU3,"^",2) W:$P(XU3,"^",9)]"" "  (",$P(XU3,"^",9),")"
"RTN","XUS9",19,0)
 Q:XUCI'=XU1!(XUVOL'=XU2)  G:$S($D(^XUTL("XQ",XUJOB,"DUZ")):^("DUZ"),1:0)'=DA REMOVE
"RTN","XUS9",20,0)
 W !?3,"Menu path:"
"RTN","XUS9",21,0)
 I $D(^XUTL("XQ",XUJOB,"T")) F I=1:1:^XUTL("XQ",XUJOB,"T") Q:'$D(^XUTL("XQ",XUJOB,I))  S Y=^(I) W !,?I*3+2,$P(Y,"^",3)
"RTN","XUS9",22,0)
 W !
"RTN","XUS9",23,0)
 Q
"RTN","XUS9",24,0)
REMOVE ;Questionable entry removed
"RTN","XUS9",25,0)
 ;If we have a sign-off time just remove the "CUR" X-ref.
"RTN","XUS9",26,0)
 I $P($G(^XUSEC(0,XU5,0)),"^",4) K ^XUSEC(0,"CUR",DA,XU5) Q
"RTN","XUS9",27,0)
 N FDA
"RTN","XUS9",28,0)
 S FDA(3.081,XU5_",",3)=$$NOW^XLFDT,FDA(3.081,XU5_",",16)=1
"RTN","XUS9",29,0)
 D UPDATE^DIE("","FDA")
"RTN","XUS9",30,0)
 Q
"RTN","XUS9",31,0)
INQ Q:'$D(D0)  N DA X ^%ZOSF("UCI") S XU1=$P(Y,",",1),XU2=^%ZOSF("VOL"),DA=D0,XU4=DT-1
"RTN","XUS9",32,0)
 F XU5=0:0 S XU5=$O(^XUSEC(0,"CUR",DA,XU5)) Q:XU5'>0  D B
"RTN","XUS9",33,0)
 G EX2
"RTN","XUSMGR")
0^6^B8699082
"RTN","XUSMGR",1,0)
XUSMGR ;SF-ISC/STAFF - SECURITY UTILITIES ROUTINE ;03/26/2003  14:31
"RTN","XUSMGR",2,0)
 ;;8.0;KERNEL;**263,258**;Jul 10, 1995
"RTN","XUSMGR",3,0)
 W !!,"Use the MENU system",!! Q
"RTN","XUSMGR",4,0)
X1 ;Old intro test edit
"RTN","XUSMGR",5,0)
 N DIE,DA,DR
"RTN","XUSMGR",6,0)
 W !!,"Please use menu option 'Inrtoductory text edit'" H 4 ;Sign-on intro text.
"RTN","XUSMGR",7,0)
 S DIE="^XTV(8989.3,",DA=1,DR=240 D ^DIE Q
"RTN","XUSMGR",8,0)
 ;
"RTN","XUSMGR",9,0)
X6 ;Clear Terminal
"RTN","XUSMGR",10,0)
 N %ZIS
"RTN","XUSMGR",11,0)
 S %ZIS="QN" D ^%ZIS G:POP EX6 I '$D(^DISV("XU",IOS)) W !!,$C(7),"Terminal does not need to be cleared!!!",! G X6
"RTN","XUSMGR",12,0)
 K ^DISV("XU",IOS),%ZIS W !,"Terminal has been CLEARED!!",!
"RTN","XUSMGR",13,0)
EX6 D HOME^%ZIS Q
"RTN","XUSMGR",14,0)
 ;
"RTN","XUSMGR",15,0)
X8 ;Release user
"RTN","XUSMGR",16,0)
 N DIC,DIR,J,X,Y,FDA,IEN,X1,X2,X3
"RTN","XUSMGR",17,0)
X8A W !!,"This will clear the user from the list of currently sign-on users."
"RTN","XUSMGR",18,0)
 W !,"And/or release from invalid sign on lock."
"RTN","XUSMGR",19,0)
 S DIC="^VA(200,",DIC(0)="AEMQ" D ^DIC S IEN=+Y G:Y<1 EX8
"RTN","XUSMGR",20,0)
 S (X1,X2,X3)=0
"RTN","XUSMGR",21,0)
 I $P($G(^VA(200,IEN,1.1)),"^",3) S X1=1
"RTN","XUSMGR",22,0)
 I $P($G(^VA(200,IEN,1.1)),"^",5) S X2=1
"RTN","XUSMGR",23,0)
 I $D(^XUSEC(0,"CUR",IEN)) S X3=1
"RTN","XUSMGR",24,0)
 I '(X1+X2+X3) D  G X8
"RTN","XUSMGR",25,0)
 . W !!,$C(7),"User is not currently recorded as being signed on the system!!!",!
"RTN","XUSMGR",26,0)
 ;Show user info
"RTN","XUSMGR",27,0)
 W !,"User: ",$P(Y,U,2)," is listed with the following connections."
"RTN","XUSMGR",28,0)
 S J=0 F  S J=$O(^XUSEC(0,"CUR",IEN,J)) Q:J'>0  D
"RTN","XUSMGR",29,0)
 . S X=^XUSEC(0,J,0)
"RTN","XUSMGR",30,0)
 . W !,"Connected: ",$$FMTE^XLFDT(J,"1"),?39," Device: ",$P(X,U,2)
"RTN","XUSMGR",31,0)
 . W !,?2,"   Node: ",$P(X,U,10),?39,"     IP: ",$S($L($P(X,U,11)):$P(X,U,11),1:$P(X,U,12))
"RTN","XUSMGR",32,0)
 . Q
"RTN","XUSMGR",33,0)
 I $P(^VA(200,IEN,1.1),U,5) W !,"Locked out until ",$$FMTE^XLFDT($P(^VA(200,IEN,1.1),U,5))," because of too many invalid attempts."
"RTN","XUSMGR",34,0)
 ;
"RTN","XUSMGR",35,0)
 S DIR(0)="Y",DIR("A")="Release this user",DIR("B")="Yes" D ^DIR
"RTN","XUSMGR",36,0)
 I 'Y G X8A
"RTN","XUSMGR",37,0)
 S $P(^VA(200,IEN,1.1),"^",3)=0,$P(^VA(200,IEN,1.1),U,5)="" ;Clear flag,Lockout time
"RTN","XUSMGR",38,0)
 S J=0 F  S J=$O(^XUSEC(0,"CUR",IEN,J)) Q:J'>0  D
"RTN","XUSMGR",39,0)
 . S FDA(3.081,J_",",3)=$$NOW^XLFDT,FDA(3.081,J_",",16)=1 D UPDATE^DIE("","FDA")
"RTN","XUSMGR",40,0)
 W !,"User is RELEASED!!",!
"RTN","XUSMGR",41,0)
EX8 Q
"RTN","XUSMGR",42,0)
 ;
"RTN","XUSMGR",43,0)
SCPURG ;Purge sign-on log
"RTN","XUSMGR",44,0)
 S XUDT=$$HTFM^XLFDT($H-30) I $O(^XUSEC(0,0))'>0 G SCEXIT
"RTN","XUSMGR",45,0)
 S DIK="^XUSEC(0," F DA=0:0 S DA=$O(^XUSEC(0,DA)) Q:(DA'>0)!(DA>XUDT)  D ^DIK
"RTN","XUSMGR",46,0)
SCEXIT K DIK,DA,XUDT,X1,X2 Q
"RTN","XUSMGR",47,0)
IXKEY ;Re-Index the New Person file Key sub-file
"RTN","XUSMGR",48,0)
 N DA,DIK,ACT
"RTN","XUSMGR",49,0)
 W:'$D(ZTQUEUED) !,"Starting"
"RTN","XUSMGR",50,0)
 ;we only want to reindex the "AC" x-ref
"RTN","XUSMGR",51,0)
 S DIK(1)=".01^AC"
"RTN","XUSMGR",52,0)
 ;loop through New Person file and index entries
"RTN","XUSMGR",53,0)
 F DA(1)=0:0 S DA(1)=$O(^VA(200,DA(1))) Q:DA(1)'>0  D
"RTN","XUSMGR",54,0)
 .;skip inactive person 
"RTN","XUSMGR",55,0)
 .;Q:$P($G(^VA(200,DA(1),0)),"^",11)
"RTN","XUSMGR",56,0)
 .S ACT=+$$ACTIVE^XUSER(DA(1))
"RTN","XUSMGR",57,0)
 .I ACT'=1 Q
"RTN","XUSMGR",58,0)
 .;global root for multiple
"RTN","XUSMGR",59,0)
 .S DIK="^VA(200,DA(1),51,"
"RTN","XUSMGR",60,0)
 .;reindex
"RTN","XUSMGR",61,0)
 .D ENALL^DIK W:'(DA(1)#50) "."
"RTN","XUSMGR",62,0)
 .;
"RTN","XUSMGR",63,0)
 W:'$D(ZTQUEUED) !,"Done"
"RTN","XUSMGR",64,0)
 ;
"RTN","XUSMGR",65,0)
 ;the old codes
"RTN","XUSMGR",66,0)
 ;W:'$D(ZTQUEUED) !,"Starting "
"RTN","XUSMGR",67,0)
 ;S DIK="^VA(200,DA(1),51,",DIK(1)=".01^1^2^3^4"
"RTN","XUSMGR",68,0)
 ;F DA(1)=0:0 S DA(1)=$O(^VA(200,DA(1))) Q:DA(1)'>0  D ENALL^DIK W:'(DA(1)#50) "."
"RTN","XUSMGR",69,0)
 ;W:'$D(ZTQUEUED) !,"Done"
"RTN","XUSMGR",70,0)
 Q
"SEC","^DD",3.081,3.081,.01,8.5)
#
"SEC","^DD",3.081,3.081,.01,9)
#
"SEC","^DIC",3.081,3.081,0,"DD")
@
"SEC","^DIC",3.081,3.081,0,"DEL")
@
"SEC","^DIC",3.081,3.081,0,"LAYGO")
@
"SEC","^DIC",3.081,3.081,0,"RD")
@
"SEC","^DIC",3.081,3.081,0,"WR")
@
"VER")
8.0^22.0
"^DD",3.081,3.081,0)
FIELD^^16^20
"^DD",3.081,3.081,0,"DDA")
N
"^DD",3.081,3.081,0,"DIK")
XUCT03
"^DD",3.081,3.081,0,"DIKOLD")
XUCT03
"^DD",3.081,3.081,0,"DT")
3021023
"^DD",3.081,3.081,0,"IX","AC",3.081,3)

"^DD",3.081,3.081,0,"IX","AC2",3.081,3)

"^DD",3.081,3.081,0,"IX","AC3",3.081,3)

"^DD",3.081,3.081,0,"IX","ALDEV",3.081,5)

"^DD",3.081,3.081,0,"IX","AS1",3.081,11)

"^DD",3.081,3.081,0,"IX","AS2",3.081,12)

"^DD",3.081,3.081,0,"IX","AS3",3.081,11)

"^DD",3.081,3.081,0,"IX","CUR",3.081,.01)

"^DD",3.081,3.081,0,"NM","SIGN-ON LOG")

"^DD",3.081,3.081,0,"VRPK")
XU
"^DD",3.081,3.081,.001,0)
DATE/TIME^D^^ ^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",3.081,3.081,.001,21,0)
^^3^3^3030326^
"^DD",3.081,3.081,.001,21,1,0)
This is the date/time that the user signed on.
"^DD",3.081,3.081,.001,21,2,0)
Two allow more than one sign-on per second the time may have values that 
"^DD",3.081,3.081,.001,21,3,0)
show hundredth of a second.
"^DD",3.081,3.081,.001,"DT")
3030326
"^DD",3.081,3.081,.01,0)
USER^RP200'^VA(200,^0;1^Q
"^DD",3.081,3.081,.01,1,0)
^.1
"^DD",3.081,3.081,.01,1,1,0)
3.081^CUR^MUMPS
"^DD",3.081,3.081,.01,1,1,1)
S ^XUSEC(0,"CUR",$E(X,1,30),DA)=""
"^DD",3.081,3.081,.01,1,1,2)
K ^XUSEC(0,"CUR",$E(X,1,30),DA)
"^DD",3.081,3.081,.01,3)

"^DD",3.081,3.081,.01,10)
SIGN-ON SYSTEM
"^DD",3.081,3.081,.01,21,0)
^^1^1^2920528^^^
"^DD",3.081,3.081,.01,21,1,0)
This is the user that signed on.
"^DD",3.081,3.081,.01,"DT")
2910618
"^DD",3.081,3.081,1,0)
DEVICE $I^F^^0;2^K:$L(X)>30!($L(X)<1) X
"^DD",3.081,3.081,1,3)
Answer must be 1-30 characters in length.
"^DD",3.081,3.081,1,21,0)
^^1^1^3030326^
"^DD",3.081,3.081,1,21,1,0)
This is the device $I that the user signed on to.
"^DD",3.081,3.081,1,"DT")
3030326
"^DD",3.081,3.081,2,0)
JOB^NJ7,0^^0;3^K:+X'=X!(X>9999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",3.081,3.081,2,3)
$J (PARTITION NUMBER) OF SIGN-ON
"^DD",3.081,3.081,2,21,0)
1^^1^1^2920528^^^
"^DD",3.081,3.081,2,21,1,0)
This is the job number of the user's job.
"^DD",3.081,3.081,3,0)
SIGNOFF TIME^D^^0;4^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",3.081,3.081,3,1,0)
^.1
"^DD",3.081,3.081,3,1,1,0)
3.081^AC^MUMPS
"^DD",3.081,3.081,3,1,1,1)
K ^XUSEC(0,"CUR",+^XUSEC(0,DA,0),DA)
"^DD",3.081,3.081,3,1,1,2)
Q
"^DD",3.081,3.081,3,1,1,3)
The CUR x-ref.
"^DD",3.081,3.081,3,1,1,"%D",0)
^^2^2^2920528^
"^DD",3.081,3.081,3,1,1,"%D",1,0)
This X-ref clears ^XUSEC(0,'CUR' that keeps a list of user sign-ons
"^DD",3.081,3.081,3,1,1,"%D",2,0)
that is used by the FIND USER option.
"^DD",3.081,3.081,3,1,2,0)
3.081^AC2^MUMPS
"^DD",3.081,3.081,3,1,2,1)
N % S %=^XUSEC(0,DA,0) K:$L($P(%,U,11)) ^XUSEC(0,"AS1",$P($P(%,U,11),":"),DA) K:$L($P(%,U,12)) ^XUSEC(0,"AS2",$P($P(%,U,12),":"),DA)
"^DD",3.081,3.081,3,1,2,2)
Q
"^DD",3.081,3.081,3,1,2,3)
Remove the 'AS1' and 'AS2' x-ref
"^DD",3.081,3.081,3,1,2,"%D",0)
^^2^2^2970128^
"^DD",3.081,3.081,3,1,2,"%D",1,0)
This cross-reference removes the 'AS1' and 'AS2' indexs when the signoff
"^DD",3.081,3.081,3,1,2,"%D",2,0)
time is entered.
"^DD",3.081,3.081,3,1,2,"DT")
2970128
"^DD",3.081,3.081,3,1,3,0)
3.081^AC3^MUMPS
"^DD",3.081,3.081,3,1,3,1)
N % S %=^XUSEC(0,DA,0) I $L($P(%,U,11)) K ^XUSEC(0,"AS3",$P(%,U),$P($P(%,U,11),":"),DA)
"^DD",3.081,3.081,3,1,3,2)
Q
"^DD",3.081,3.081,3,1,3,3)
Remove the AS3 x-ref
"^DD",3.081,3.081,3,1,3,"%D",0)
^.101^2^2^3021021^^
"^DD",3.081,3.081,3,1,3,"%D",1,0)
The cross reference removes the AS3 entry when the user is signed off.
"^DD",3.081,3.081,3,1,3,"%D",2,0)
See field #11 for more info.
"^DD",3.081,3.081,3,1,3,"DT")
3021021
"^DD",3.081,3.081,3,21,0)
^^1^1^2920528^^
"^DD",3.081,3.081,3,21,1,0)
This is the time that the user signed-off through H^XUS.
"^DD",3.081,3.081,3,"DT")
3021021
"^DD",3.081,3.081,4,0)
CPU^F^^0;5^K:$L(X)>16!($L(X)<1) X
"^DD",3.081,3.081,4,3)
ANSWER MUST BE 1-16 CHARACTERS IN LENGTH
"^DD",3.081,3.081,4,21,0)
^^1^1^2920528^^^
"^DD",3.081,3.081,4,21,1,0)
This is the name of the CPU the user signed on to.
"^DD",3.081,3.081,4,"DT")
2841005
"^DD",3.081,3.081,5,0)
DEVICE^P3.5'^%ZIS(1,^0;7^Q
"^DD",3.081,3.081,5,1,0)
^.1
"^DD",3.081,3.081,5,1,1,0)
3.081^ALDEV^MUMPS
"^DD",3.081,3.081,5,1,1,1)
S ^XUSEC(0,"ALDEV",X)=+^XUSEC(0,DA,0)
"^DD",3.081,3.081,5,1,1,2)
Q
"^DD",3.081,3.081,5,1,1,3)
ALDEV
"^DD",3.081,3.081,5,1,1,"%D",0)
^^3^3^2920528^
"^DD",3.081,3.081,5,1,1,"%D",1,0)
The 'ALDEV' X-ref is used to tell which user last sign-on to this
"^DD",3.081,3.081,5,1,1,"%D",2,0)
device and the X-ref is not killed.  At the most there would be one entry
"^DD",3.081,3.081,5,1,1,"%D",3,0)
for each entry in the device file.
"^DD",3.081,3.081,5,21,0)
^^7^7^3030326^
"^DD",3.081,3.081,5,21,1,0)
This is a pointer to the Device file showing which device the user
"^DD",3.081,3.081,5,21,2,0)
signed-on to. 
"^DD",3.081,3.081,5,21,3,0)
With network devices this is not a very useful field anymore.
"^DD",3.081,3.081,5,21,4,0)
 
"^DD",3.081,3.081,5,21,5,0)
The 'ALDEV' X-ref is used to tell which user last sign-on to this
"^DD",3.081,3.081,5,21,6,0)
device and the X-ref is not killed.  At the most there would be one entry 
"^DD",3.081,3.081,5,21,7,0)
for each entry in the device file.
"^DD",3.081,3.081,5,"DT")
3030326
"^DD",3.081,3.081,6,0)
UCI^F^^0;8^K:$L(X)>8!($L(X)<1) X
"^DD",3.081,3.081,6,3)
Answer with the UCI the user signed into.
"^DD",3.081,3.081,6,21,0)
^^1^1^2920528^^
"^DD",3.081,3.081,6,21,1,0)
This field records the UCI account area where the user had signed on.
"^DD",3.081,3.081,6,"DT")
2880701
"^DD",3.081,3.081,7,0)
TASK?^S^1:TASK;^0;6^Q
"^DD",3.081,3.081,7,.1)
Was this entry made by TaskMan?
"^DD",3.081,3.081,7,3)
This field should never be filled in by a user.
"^DD",3.081,3.081,7,21,0)
^^4^4^3030326^
"^DD",3.081,3.081,7,21,1,0)
This field is set to 1 for entries that are created by TaskMan.  A field
"^DD",3.081,3.081,7,21,2,0)
in the Kernel Site Parameters file can be used to make TaskMan "log
"^DD",3.081,3.081,7,21,3,0)
sign-ons" for tasks.  When that feature is active, TaskMan makes an entry
"^DD",3.081,3.081,7,21,4,0)
in this file every time it runs a task.
"^DD",3.081,3.081,7,"DT")
3030326
"^DD",3.081,3.081,9,0)
$ZIO (optional)^F^^0;9^K:$L(X)>30!($L(X)<1) X
"^DD",3.081,3.081,9,3)
ANSWER MUST BE 1-30 CHARACTERS IN LENGTH
"^DD",3.081,3.081,9,21,0)
^^3^3^2920528^^^
"^DD",3.081,3.081,9,21,1,0)
On a system with terminal servers this may be the port and server
"^DD",3.081,3.081,9,21,2,0)
that the user is signed-on to.  It can provide information not contained
"^DD",3.081,3.081,9,21,3,0)
in $I.
"^DD",3.081,3.081,9,"DT")
2880801
"^DD",3.081,3.081,10,0)
NODE NAME^F^^0;10^K:$L(X)>15!($L(X)<2) X
"^DD",3.081,3.081,10,3)
Answer must be 2-15 characters in length.
"^DD",3.081,3.081,10,21,0)
^^2^2^3030326^
"^DD",3.081,3.081,10,21,1,0)
The VAX/VMS cluster node name or system name on other systems.
"^DD",3.081,3.081,10,21,2,0)
Comes from the GETENV^%ZOSV api.
"^DD",3.081,3.081,10,23,0)
^^1^1^2891013^^
"^DD",3.081,3.081,10,23,1,0)
This is the 4th piece of $ZC(%GETSYI).
"^DD",3.081,3.081,10,"DT")
3030326
"^DD",3.081,3.081,11,0)
IP ADDRESS^F^^0;11^K:$L(X)>20!($L(X)<7)!'(X?1.3N1P1.3N1P1.3N1P1.3N.E) X
"^DD",3.081,3.081,11,1,0)
^.1
"^DD",3.081,3.081,11,1,1,0)
3.081^AS1^MUMPS
"^DD",3.081,3.081,11,1,1,1)
S:'$P(^XUSEC(0,DA,0),U,4) ^XUSEC(0,"AS1",$P(X,":"),DA)=""
"^DD",3.081,3.081,11,1,1,2)
K ^XUSEC(0,"AS1",$P(X,":"),DA)
"^DD",3.081,3.081,11,1,1,3)
For Single sign-on
"^DD",3.081,3.081,11,1,1,"%D",0)
^^1^1^2970210^^
"^DD",3.081,3.081,11,1,1,"%D",1,0)
This index builds a list of IP addresses that the user may be at.
"^DD",3.081,3.081,11,1,1,"DT")
2970210
"^DD",3.081,3.081,11,1,2,0)
3.081^AS3^MUMPS
"^DD",3.081,3.081,11,1,2,1)
N % S %=^XUSEC(0,DA,0) I '$P(%,U,4) S ^XUSEC(0,"AS3",$P(%,U),$P(X,":"),DA)=""
"^DD",3.081,3.081,11,1,2,2)
N % S %=^XUSEC(0,DA,0) K ^XUSEC(0,"AS3",$P(%,U),$P(X,":"),DA)
"^DD",3.081,3.081,11,1,2,3)
Multi sign-on control
"^DD",3.081,3.081,11,1,2,"%D",0)
^.101^3^3^3021021^^
"^DD",3.081,3.081,11,1,2,"%D",1,0)
This cross reference builds a list of the IP or DNS name used by a device.
"^DD",3.081,3.081,11,1,2,"%D",2,0)
This is used to limit users to multiple sign-on from one IP address.
"^DD",3.081,3.081,11,1,2,"%D",3,0)
The X-ref in by DUZ,IP,DA.
"^DD",3.081,3.081,11,1,2,"DT")
3021021
"^DD",3.081,3.081,11,3)
IP address, Answer must be 7-20 characters in length.
"^DD",3.081,3.081,11,21,0)
^^3^3^2970117^
"^DD",3.081,3.081,11,21,1,0)
This field holds the IP address of the calling system.
"^DD",3.081,3.081,11,21,2,0)
Note that under DHCP IP address are dynamically allocated so more that one
"^DD",3.081,3.081,11,21,3,0)
client could have used the same IP address over some time period.
"^DD",3.081,3.081,11,"DT")
3021021
"^DD",3.081,3.081,12,0)
WORKSTATION NAME^F^^0;12^K:$L(X)>20!($L(X)<3) X
"^DD",3.081,3.081,12,1,0)
^.1
"^DD",3.081,3.081,12,1,1,0)
3.081^AS2^MUMPS
"^DD",3.081,3.081,12,1,1,1)
S:'$P(^XUSEC(0,DA,0),U,4) ^XUSEC(0,"AS2",$P(X,":"),DA)=""
"^DD",3.081,3.081,12,1,1,2)
K ^XUSEC(0,"AS2",$P(X,":"),DA)
"^DD",3.081,3.081,12,1,1,3)
For single sign-on
"^DD",3.081,3.081,12,1,1,"%D",0)
^^1^1^2970210^^^
"^DD",3.081,3.081,12,1,1,"%D",1,0)
This index builds a list of WORKSTATION names that the user may be at.
"^DD",3.081,3.081,12,1,1,"DT")
2970210
"^DD",3.081,3.081,12,3)
Answer must be 3-20 characters in length.
"^DD",3.081,3.081,12,21,0)
^^2^2^2970117^
"^DD",3.081,3.081,12,21,1,0)
This field holds the workstation name if it has been provide by the
"^DD",3.081,3.081,12,21,2,0)
underlaying OS or as part of a RPCBroker signon.
"^DD",3.081,3.081,12,"DT")
2970210
"^DD",3.081,3.081,13,0)
AUTO SIGNON HANDLE^F^^0;13^K:$L(X)>15!($L(X)<7) X
"^DD",3.081,3.081,13,3)
Answer must be 7-15 characters in length.
"^DD",3.081,3.081,13,21,0)
^^2^2^2991213^
"^DD",3.081,3.081,13,21,1,0)
This field is used internally by the Kernel Auto Sign-on code to store the
"^DD",3.081,3.081,13,21,2,0)
handle returned by the ClientAgent on the users system.
"^DD",3.081,3.081,13,"DT")
2991213
"^DD",3.081,3.081,14,0)
REMOTE STATION ID^F^^0;14^K:$L(X)>6!($L(X)<3) X
"^DD",3.081,3.081,14,3)
Answer must be 3-6 characters in length.
"^DD",3.081,3.081,14,21,0)
^^5^5^3000208^
"^DD",3.081,3.081,14,21,1,0)
This field holds the station id (station #) of a remote site that did the
"^DD",3.081,3.081,14,21,2,0)
user authentication. Having this field filled in implies that the user did
"^DD",3.081,3.081,14,21,3,0)
not sign-on to the local system but was authenticated at some remote site
"^DD",3.081,3.081,14,21,4,0)
that has requested data or services from this system.  The Enterprise
"^DD",3.081,3.081,14,21,5,0)
Single Sign-on, and the CPRS remote patient data projects use this field.
"^DD",3.081,3.081,14,"DT")
3000208
"^DD",3.081,3.081,15,0)
REMOTE USER IEN^NJ9,0^^0;15^K:+X'=X!(X>999999999)!(X<.5)!(X?.E1"."1N.N) X
"^DD",3.081,3.081,15,3)
Type a Number between .5 and 999999999, 0 Decimal Digits
"^DD",3.081,3.081,15,21,0)
^^6^6^3000208^
"^DD",3.081,3.081,15,21,1,0)
This field holds the user IEN of a remote user that was authenticated at a
"^DD",3.081,3.081,15,21,2,0)
remote site (field #14).
"^DD",3.081,3.081,15,21,3,0)
Having this field filled in implies that the user did not sign-on to the
"^DD",3.081,3.081,15,21,4,0)
local system but was authenticated at some remote site that has requested
"^DD",3.081,3.081,15,21,5,0)
data or services from this system.  The Enterprise Single Sign-on, and the
"^DD",3.081,3.081,15,21,6,0)
CPRS remote patient data projects use this field.
"^DD",3.081,3.081,15,"DT")
3000208
"^DD",3.081,3.081,16,0)
FORCE CLOSE^S^0:No;1:Yes;^0;16^Q
"^DD",3.081,3.081,16,21,0)
^^4^4^3030326^
"^DD",3.081,3.081,16,21,1,0)
This field is a flag to indicate that the sign-on record was closed by
"^DD",3.081,3.081,16,21,2,0)
some action other than a normal sign-off. IRM used the 'Release User'
"^DD",3.081,3.081,16,21,3,0)
option.  The nightly cleanup job closed the record because it was open to
"^DD",3.081,3.081,16,21,4,0)
long.
"^DD",3.081,3.081,16,"DT")
3030326
"^DD",3.081,3.081,97,0)
ELAPSED TIME (SECONDS)^CJ8^^ ; ^X ^DD(3.081,97,9.4) S X=$S(Y(3.081,97,5):Y(3.081,97,6),Y(3.081,97,7):X) S Y=X,X=Y(3.081,97,3),X=X_Y
"^DD",3.081,3.081,97,9)
^
"^DD",3.081,3.081,97,9.01)
3.081^16;3.081^3;3.081^.001
"^DD",3.081,3.081,97,9.1)
XUDELTATIME(#.001,#3)_$S(INTERNAL(#16):"*",1:" ")
"^DD",3.081,3.081,97,9.2)
S Y(3.081,97,2)=$S($D(^XUSEC(0,D0,0)):^(0),1:"") S X=$S('$D(D0):"",D0<0:"",1:D0),Y(3.081,97,1)=X S X=$P(Y(3.081,97,2),U,4)
"^DD",3.081,3.081,97,9.3)
X ^DD(3.081,97,9.2) S X1=Y(3.081,97,1) S X=$S(X&X1:X,1:"") Q:'X  D H^%DTC S XUS1=%H*86400+%T,X=X1 D H^%DTC S XUS2=%H*86400+%T,X=$S(XUS1>XUS2:XUS1-XUS2,1:XUS2-XUS1) S X=X
"^DD",3.081,3.081,97,9.4)
X ^DD(3.081,97,9.3) S Y(3.081,97,3)=X,Y(3.081,97,4)=X S X=$P(Y(3.081,97,2),U,16),X=X S X=X,Y(3.081,97,5)=X S X="*",Y(3.081,97,6)=X S X=1,Y(3.081,97,7)=X S X=" "
"^DD",3.081,3.081,97,21,0)
^^2^2^2920528^^
"^DD",3.081,3.081,97,21,1,0)
This field calculates the number of seconds between sign-on time
"^DD",3.081,3.081,97,21,2,0)
and sign-off time.
"^DD",3.081,3.081,97,"DT")
3021114
"^DD",3.081,3.081,98,0)
LOCATION^CJ15^^ ; ^X ^DD(3.081,98,9.2) S Y(3.081,98,101)=$S($D(^%ZIS(1,D0,1)):^(1),1:"") S X=$P(Y(3.081,98,101),U,1) S D0=Y(3.081,98,80)
"^DD",3.081,3.081,98,9)
^
"^DD",3.081,3.081,98,9.01)
3.5^.02;3.081^5
"^DD",3.081,3.081,98,9.1)
DEVICE:LOCATION
"^DD",3.081,3.081,98,9.2)
S Y(3.081,98,80)=$S($D(D0):D0,1:""),Y(3.081,98,1)=$S($D(^XUSEC(0,D0,0)):^(0),1:""),D0=$P(Y(3.081,98,1),U,7) S:'$D(^%ZIS(1,+D0,0)) D0=-1
"^DD",3.081,3.081,98,21,0)
^^1^1^2920528^^
"^DD",3.081,3.081,98,21,1,0)
This is the location of the device which was used to sign on.
"^DD",3.081,3.081,98,"DT")
2931216
"^DD",3.081,3.081,99,0)
ELAPSED TIME (MINUTES)^CJ8^^ ; ^X ^DD(3.081,99,9.4) S X=$S(Y(3.081,99,5):Y(3.081,99,6),Y(3.081,99,7):X) S Y=X,X=Y(3.081,99,3),X=X_Y
"^DD",3.081,3.081,99,9)
^
"^DD",3.081,3.081,99,9.01)
3.081^16;3.081^.001;3.081^3
"^DD",3.081,3.081,99,9.1)
MINUTES(#3,#.001)_$S(INTERNAL(#16):"*",1:" ")
"^DD",3.081,3.081,99,9.2)
S Y(3.081,99,1)=$S($D(^XUSEC(0,D0,0)):^(0),1:"") S X=$P(Y(3.081,99,1),U,4),Y(3.081,99,2)=X S X=$S('$D(D0):"",D0<0:"",1:D0)
"^DD",3.081,3.081,99,9.3)
X ^DD(3.081,99,9.2) S X1=Y(3.081,99,2) S Y=$E(X1_"000",9,10)-$E(X_"000",9,10)*60+$E(X1_"00000",11,12)-$E(X_"00000",11,12),X2=X,X=$P(X,".",1)'=$P(X1,".",1) D ^%DTC:X S X=X*1440+Y S X=X
"^DD",3.081,3.081,99,9.4)
X ^DD(3.081,99,9.3) S Y(3.081,99,3)=X,Y(3.081,99,4)=X S X=$P(Y(3.081,99,1),U,16),X=X S X=X,Y(3.081,99,5)=X S X="*",Y(3.081,99,6)=X S X=1,Y(3.081,99,7)=X S X=" "
"^DD",3.081,3.081,99,21,0)
^^1^1^2920528^^
"^DD",3.081,3.081,99,21,1,0)
This is the amount of time the user has been signed on.
"^DD",200,200,200.04,0)
MULTIPLE SIGN-ON^S^0:NOT ALLOWED;1:ALLOWED;2:Only one IP;^200;4^Q
"^DD",200,200,200.04,3)
Answer '0' to limit this USER to ONE connection, '2' will limit USER to one workstation.
"^DD",200,200,200.04,21,0)
^^9^9^3030130^
"^DD",200,200,200.04,21,1,0)
This field, if filled in, overrides the SITE and DEVICE Files as to
"^DD",200,200,200.04,21,2,0)
whether this user can sign-on to multiple terminals at the same time, 
"^DD",200,200,200.04,21,3,0)
or is limited to one workstation (IP), only one connection.
"^DD",200,200,200.04,21,4,0)
If you select "Only one IP" be sure to put a value into the "MULTIPLE
"^DD",200,200,200.04,21,5,0)
SIGN-ON LIMIT" field so users can sign-on at least once.
"^DD",200,200,200.04,21,6,0)
Values are:
"^DD",200,200,200.04,21,7,0)
0 = Only one connection.
"^DD",200,200,200.04,21,8,0)
1 = Multiple connections from multiple IP's.
"^DD",200,200,200.04,21,9,0)
2 = Only one IP address.
"^DD",200,200,200.04,"DT")
3030130
"^DD",200,200,200.19,0)
MULTIPLE SIGN-ON LIMIT^NJ3,0^^200;19^K:+X'=X!(X>100)!(X<1)!(X?.E1"."1N.N) X
"^DD",200,200,200.19,.1)
Multiple Sign-on Limit
"^DD",200,200,200.19,3)
Type a Number between 1 and 100, 0 Decimal Digits
"^DD",200,200,200.19,21,0)
^^4^4^3021021^
"^DD",200,200,200.19,21,1,0)
This field, if filled in, overrides the SITE file. This field sets an
"^DD",200,200,200.19,21,2,0)
upper limit on the number of concurrent sessions that this user can have
"^DD",200,200,200.19,21,3,0)
from one IP address when the Multiple Sign-on field (#204) is set to "One
"^DD",200,200,200.19,21,4,0)
IP"
"^DD",200,200,200.19,"DT")
3021021
"^DD",8989.3,8989.3,204,0)
DEFAULT MULTIPLE SIGN-ON^S^0:NO;1:YES;2:Only one IP;^XUS;4^Q
"^DD",8989.3,8989.3,204,20,0)
^.3LA^1^1
"^DD",8989.3,8989.3,204,20,1,0)
XUS
"^DD",8989.3,8989.3,204,21,0)
^^9^9^3030130^
"^DD",8989.3,8989.3,204,21,1,0)
This is the default value for whether users may sign-on at more
"^DD",8989.3,8989.3,204,21,2,0)
than one terminal at a time. It is overridden by similar fields
"^DD",8989.3,8989.3,204,21,3,0)
in the DEVICE and NEW PERSON Files. If you select "Only one IP" be sure to
"^DD",8989.3,8989.3,204,21,4,0)
put a value into the "MULTIPLE SIGN-ON LIMIT" field so users can sign-on
"^DD",8989.3,8989.3,204,21,5,0)
at least once.
"^DD",8989.3,8989.3,204,21,6,0)
Current Values
"^DD",8989.3,8989.3,204,21,7,0)
0 = Multiple signon not allowed.
"^DD",8989.3,8989.3,204,21,8,0)
1 = Multiple signon Allowed.
"^DD",8989.3,8989.3,204,21,9,0)
2 = Multiple sign only allowed from one IP address.
"^DD",8989.3,8989.3,204,"DT")
3030130
"^DD",8989.3,8989.3,219,0)
DEFAULT MULTIPLE SIGN-ON LIMIT^NJ3,0^^XUS;19^K:+X'=X!(X>100)!(X<1)!(X?.E1"."1.N) X
"^DD",8989.3,8989.3,219,.1)
Multiple Sign-On Limit
"^DD",8989.3,8989.3,219,3)
Type a number between 1 and 100, 0 Decimal Digits
"^DD",8989.3,8989.3,219,21,0)
^^3^3^3021021^
"^DD",8989.3,8989.3,219,21,1,0)
This field sets an upper limit on the number of concurrent sessions that 
"^DD",8989.3,8989.3,219,21,2,0)
one user can have from one IP address when the Multiple Sign-on field 
"^DD",8989.3,8989.3,219,21,3,0)
(#204) is set to "One IP"
"^DD",8989.3,8989.3,219,"DT")
3030326
"^DIC",3.081,3.081,0)
SIGN-ON LOG^3.081P
"^DIC",3.081,3.081,0,"GL")
^XUSEC(0,
"^DIC",3.081,3.081,"%",0)
^1.005^1^1
"^DIC",3.081,3.081,"%",1,0)
XU
"^DIC",3.081,3.081,"%","B","XU",1)

"^DIC",3.081,3.081,"%D",0)
^^2^2^2940913^^^^
"^DIC",3.081,3.081,"%D",1,0)
This file records sign-on/sign-off times by user, device, job, UCI,
"^DIC",3.081,3.081,"%D",2,0)
and CPU.  It is cross-referenced by user, device, and sign-off time.
"^DIC",3.081,"B","SIGN-ON LOG",3.081)

**END**
**END**
