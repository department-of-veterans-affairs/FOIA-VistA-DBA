Released HBH*1*21 SEQ #19
Extracted from mail message
**KIDS**:HBH*1.0*21^

**INSTALL NAME**
HBH*1.0*21
"BLD",5247,0)
HBH*1.0*21^HOSPITAL BASED HOME CARE^0^3040827^y
"BLD",5247,1,0)
^^1^1^3040827^^^^
"BLD",5247,1,1,0)
HBH*1.0*21, Patient Days of Care Report & Report Updates
"BLD",5247,4,0)
^9.64PA^^0
"BLD",5247,"ABPKG")
n
"BLD",5247,"KRN",0)
^9.67PA^8989.52^20
"BLD",5247,"KRN",.4,0)
.4
"BLD",5247,"KRN",.4,"NM",0)
^9.68A^^
"BLD",5247,"KRN",.401,0)
.401
"BLD",5247,"KRN",.401,"NM",0)
^9.68A^^
"BLD",5247,"KRN",.402,0)
.402
"BLD",5247,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",5247,"KRN",.403,0)
.403
"BLD",5247,"KRN",.5,0)
.5
"BLD",5247,"KRN",.84,0)
.84
"BLD",5247,"KRN",3.6,0)
3.6
"BLD",5247,"KRN",3.8,0)
3.8
"BLD",5247,"KRN",3.8,"NM",0)
^9.68A^^0
"BLD",5247,"KRN",9.2,0)
9.2
"BLD",5247,"KRN",9.8,0)
9.8
"BLD",5247,"KRN",9.8,"NM",0)
^9.68A^11^6
"BLD",5247,"KRN",9.8,"NM",6,0)
HBHCFILE^^0^B30445019
"BLD",5247,"KRN",9.8,"NM",7,0)
HBHCRP7^^0^B21865582
"BLD",5247,"KRN",9.8,"NM",8,0)
HBHCRP23^^0^B17451223
"BLD",5247,"KRN",9.8,"NM",9,0)
HBHCRP24^^0^B17845685
"BLD",5247,"KRN",9.8,"NM",10,0)
HBHCRP25^^0^B21320242
"BLD",5247,"KRN",9.8,"NM",11,0)
HBHCRP12^^0^B16118550
"BLD",5247,"KRN",9.8,"NM","B","HBHCFILE",6)

"BLD",5247,"KRN",9.8,"NM","B","HBHCRP12",11)

"BLD",5247,"KRN",9.8,"NM","B","HBHCRP23",8)

"BLD",5247,"KRN",9.8,"NM","B","HBHCRP24",9)

"BLD",5247,"KRN",9.8,"NM","B","HBHCRP25",10)

"BLD",5247,"KRN",9.8,"NM","B","HBHCRP7",7)

"BLD",5247,"KRN",19,0)
19
"BLD",5247,"KRN",19,"NM",0)
^9.68A^22^22
"BLD",5247,"KRN",19,"NM",1,0)
HBHCRP2^^0
"BLD",5247,"KRN",19,"NM",2,0)
HBHCRP3^^0
"BLD",5247,"KRN",19,"NM",3,0)
HBHCRP5^^0
"BLD",5247,"KRN",19,"NM",4,0)
HBHCRP12^^0
"BLD",5247,"KRN",19,"NM",5,0)
HBHCRP7^^0
"BLD",5247,"KRN",19,"NM",6,0)
HBHCRP16^^0
"BLD",5247,"KRN",19,"NM",7,0)
HBHCRP4^^0
"BLD",5247,"KRN",19,"NM",8,0)
HBHCRP17^^0
"BLD",5247,"KRN",19,"NM",9,0)
HBHCRP22^^0
"BLD",5247,"KRN",19,"NM",10,0)
HBHCR19A^^0
"BLD",5247,"KRN",19,"NM",11,0)
HBHCRP20^^0
"BLD",5247,"KRN",19,"NM",12,0)
HBHCRP21^^0
"BLD",5247,"KRN",19,"NM",13,0)
HBHCRP23^^0
"BLD",5247,"KRN",19,"NM",14,0)
HBHC REPORTS MENU^^0
"BLD",5247,"KRN",19,"NM",15,0)
HBHC CENSUS REPORTS MENU^^0
"BLD",5247,"KRN",19,"NM",16,0)
HBHCRP25^^0
"BLD",5247,"KRN",19,"NM",17,0)
HBHCRP24^^0
"BLD",5247,"KRN",19,"NM",18,0)
HBHCRP18^^0
"BLD",5247,"KRN",19,"NM",19,0)
HBHCRP11^^0
"BLD",5247,"KRN",19,"NM",20,0)
HBHCRP6^^0
"BLD",5247,"KRN",19,"NM",21,0)
HBHCRP9^^0
"BLD",5247,"KRN",19,"NM",22,0)
HBHCRP10^^0
"BLD",5247,"KRN",19,"NM","B","HBHC CENSUS REPORTS MENU",15)

"BLD",5247,"KRN",19,"NM","B","HBHC REPORTS MENU",14)

"BLD",5247,"KRN",19,"NM","B","HBHCR19A",10)

"BLD",5247,"KRN",19,"NM","B","HBHCRP10",22)

"BLD",5247,"KRN",19,"NM","B","HBHCRP11",19)

"BLD",5247,"KRN",19,"NM","B","HBHCRP12",4)

"BLD",5247,"KRN",19,"NM","B","HBHCRP16",6)

"BLD",5247,"KRN",19,"NM","B","HBHCRP17",8)

"BLD",5247,"KRN",19,"NM","B","HBHCRP18",18)

"BLD",5247,"KRN",19,"NM","B","HBHCRP2",1)

"BLD",5247,"KRN",19,"NM","B","HBHCRP20",11)

"BLD",5247,"KRN",19,"NM","B","HBHCRP21",12)

"BLD",5247,"KRN",19,"NM","B","HBHCRP22",9)

"BLD",5247,"KRN",19,"NM","B","HBHCRP23",13)

"BLD",5247,"KRN",19,"NM","B","HBHCRP24",17)

"BLD",5247,"KRN",19,"NM","B","HBHCRP25",16)

"BLD",5247,"KRN",19,"NM","B","HBHCRP3",2)

"BLD",5247,"KRN",19,"NM","B","HBHCRP4",7)

"BLD",5247,"KRN",19,"NM","B","HBHCRP5",3)

"BLD",5247,"KRN",19,"NM","B","HBHCRP6",20)

"BLD",5247,"KRN",19,"NM","B","HBHCRP7",5)

"BLD",5247,"KRN",19,"NM","B","HBHCRP9",21)

"BLD",5247,"KRN",19.1,0)
19.1
"BLD",5247,"KRN",19.1,"NM",0)
^9.68A^^0
"BLD",5247,"KRN",101,0)
101
"BLD",5247,"KRN",409.61,0)
409.61
"BLD",5247,"KRN",771,0)
771
"BLD",5247,"KRN",869.2,0)
869.2
"BLD",5247,"KRN",870,0)
870
"BLD",5247,"KRN",8989.51,0)
8989.51
"BLD",5247,"KRN",8989.52,0)
8989.52
"BLD",5247,"KRN",8994,0)
8994
"BLD",5247,"KRN","B",.4,.4)

"BLD",5247,"KRN","B",.401,.401)

"BLD",5247,"KRN","B",.402,.402)

"BLD",5247,"KRN","B",.403,.403)

"BLD",5247,"KRN","B",.5,.5)

"BLD",5247,"KRN","B",.84,.84)

"BLD",5247,"KRN","B",3.6,3.6)

"BLD",5247,"KRN","B",3.8,3.8)

"BLD",5247,"KRN","B",9.2,9.2)

"BLD",5247,"KRN","B",9.8,9.8)

"BLD",5247,"KRN","B",19,19)

"BLD",5247,"KRN","B",19.1,19.1)

"BLD",5247,"KRN","B",101,101)

"BLD",5247,"KRN","B",409.61,409.61)

"BLD",5247,"KRN","B",771,771)

"BLD",5247,"KRN","B",869.2,869.2)

"BLD",5247,"KRN","B",870,870)

"BLD",5247,"KRN","B",8989.51,8989.51)

"BLD",5247,"KRN","B",8989.52,8989.52)

"BLD",5247,"KRN","B",8994,8994)

"BLD",5247,"QUES",0)
^9.62^^
"BLD",5247,"REQB",0)
^9.611^1^1
"BLD",5247,"REQB",1,0)
HBH*1.0*16^1
"BLD",5247,"REQB","B","HBH*1.0*16",1)

"KRN",19,3518,-1)
0^18
"KRN",19,3518,0)
HBHCRP18^Active Census with ICD9 Code/Text Report  (132)^^R^^^^^^^^
"KRN",19,3518,1,0)
^^5^5^2970207^^^^
"KRN",19,3518,1,1,0)
This option prints the HBPC Active Census with ICD9 Codes/Text Report.
"KRN",19,3518,1,2,0)
The user is prompted to enter the date range for inclusion on the
"KRN",19,3518,1,3,0)
report.  The report is sorted by patient name, then by admission date,
"KRN",19,3518,1,4,0)
and includes:  Patient Name, SSN, Admission Date, ICD9 Code, and ICD9
"KRN",19,3518,1,5,0)
Text.  Report prints in 132 column format.
"KRN",19,3518,25)
HBHCRP18
"KRN",19,3518,598000)
2
"KRN",19,3518,"U")
ACTIVE CENSUS WITH ICD9 CODE/T
"KRN",19,9337,-1)
0^1
"KRN",19,9337,0)
HBHCRP2^Evaluation/Admission Data Report by Patient  (80)^^R^^^^^^^^
"KRN",19,9337,1,0)
^^3^3^2970207^^^^
"KRN",19,9337,1,1,0)
This option prints the HBPC Patient Evaluation/Admission Data Report.
"KRN",19,9337,1,2,0)
The report includes all evaluation/admission (Form 3) fields, plus
"KRN",19,9337,1,3,0)
Case Manager and prints in 80 column format.
"KRN",19,9337,25)
HBHCRP2
"KRN",19,9337,598000)
3
"KRN",19,9337,"U")
EVALUATION/ADMISSION DATA REPO
"KRN",19,9338,-1)
0^2
"KRN",19,9338,0)
HBHCRP3^Patient Visit Data Report  (80)^^R^^^^^^^^
"KRN",19,9338,1,0)
^19.06^3^3^3000421^^^^
"KRN",19,9338,1,1,0)
This option prints the HBPC Patient Visit Data Report.  The user is 
"KRN",19,9338,1,2,0)
prompted to enter the date range for inclusion on the report.  The
"KRN",19,9338,1,3,0)
report includes all visit (Form 4) fields and prints in 80 column format.
"KRN",19,9338,25)
HBHCRP3
"KRN",19,9338,99)
55775,38173
"KRN",19,9338,598000)
3
"KRN",19,9338,"U")
PATIENT VISIT DATA REPORT  (80
"KRN",19,9340,-1)
0^3
"KRN",19,9340,0)
HBHCRP5^Discharge Data Report by Patient  (80)^^R^^^^^^^^
"KRN",19,9340,1,0)
^^3^3^2970207^^^^
"KRN",19,9340,1,1,0)
This option prints the HBPC Patient Discharge Data Report.  The 
"KRN",19,9340,1,2,0)
report includes all discharge (Form 5) fields and prints in 80 
"KRN",19,9340,1,3,0)
column format.
"KRN",19,9340,25)
HBHCRP5
"KRN",19,9340,598000)
3
"KRN",19,9340,"U")
DISCHARGE DATA REPORT BY PATIE
"KRN",19,9342,-1)
0^5
"KRN",19,9342,0)
HBHCRP7^Admissions/Discharges by Date Range Report  (132)^^R^^^^^^^^
"KRN",19,9342,1,0)
^19.06^5^5^3030904^^^^
"KRN",19,9342,1,1,0)
This option prints the HBPC Admissions or Discharges by Date Range Report.
"KRN",19,9342,1,2,0)
The  report is sorted Alphabetically by Patient or by Admission/Discharge
"KRN",19,9342,1,3,0)
Date and  includes:  Admission/Discharge Date, Patient Name, SSN, and ICD9
"KRN",19,9342,1,4,0)
Code and  Diagnosis Text  (Primary Diagnosis @ Admission/Discharge), with
"KRN",19,9342,1,5,0)
Totals.  Report prints in 132 column format. 
"KRN",19,9342,25)
HBHCRP7
"KRN",19,9342,598000)
3
"KRN",19,9342,"U")
ADMISSIONS/DISCHARGES BY DATE 
"KRN",19,9344,-1)
0^7
"KRN",19,9344,0)
HBHCRP4^Visit Data by Date Range Report  (80)^^R^^^^^^^^
"KRN",19,9344,1,0)
^19.06^5^5^3000421^^^^
"KRN",19,9344,1,1,0)
This option prints the HBPC Visit Data by Date Range Report.  The
"KRN",19,9344,1,2,0)
report is sorted by provider, then by visit date and includes:
"KRN",19,9344,1,3,0)
Provider Name, Visit Date, Patient Last Name, SSN, DX, & CPT Codes with
"KRN",19,9344,1,4,0)
Modifiers, with totals by provider & all providers total if All providers
"KRN",19,9344,1,5,0)
included on report.  Report prints in 80 column format. 
"KRN",19,9344,25)
HBHCRP4
"KRN",19,9344,99)
55775,28786
"KRN",19,9344,598000)
3
"KRN",19,9344,"U")
VISIT DATA BY DATE RANGE REPOR
"KRN",19,9345,-1)
0^20
"KRN",19,9345,0)
HBHCRP6^Case Manager Census Report  (132)^^R^^^^^^^^
"KRN",19,9345,1,0)
^^7^7^2970207^^^^
"KRN",19,9345,1,1,0)
This option prints the HBPC Case Manager Census Report.  The report
"KRN",19,9345,1,2,0)
can be run for All or Individual Case Managers.  The user is prompted
"KRN",19,9345,1,3,0)
to enter the date range for inclusion on the report.  The report is 
"KRN",19,9345,1,4,0)
sorted by Case Manager and includes:  Case Manager, Patient Name, SSN,
"KRN",19,9345,1,5,0)
Admission Date, Street Address, City, ZIP Code, and Phone, with Totals
"KRN",19,9345,1,6,0)
for each Case Manager and Final Totals if 'All' selected.  Report
"KRN",19,9345,1,7,0)
prints in 132 column format.
"KRN",19,9345,25)
HBHCRP6
"KRN",19,9345,598000)
3
"KRN",19,9345,"U")
CASE MANAGER CENSUS REPORT  (1
"KRN",19,11307,-1)
0^6
"KRN",19,11307,0)
HBHCRP16^Rejections from HBPC Program Report  (132)^^R^^^^^^^^
"KRN",19,11307,1,0)
^^5^5^2970509^^^^
"KRN",19,11307,1,1,0)
This option prints the HBPC Rejections from Program Report.  (Admit/Reject
"KRN",19,11307,1,2,0)
Action field = Reject)  The user is prompted to enter the date range for
"KRN",19,11307,1,3,0)
inclusion on the report.  The report is sorted by patient name and
"KRN",19,11307,1,4,0)
includes:  Patient Name, SSN, Date, and Reject/Withdraw Reason.  Report
"KRN",19,11307,1,5,0)
prints in 132 column format. 
"KRN",19,11307,25)
HBHCRP16
"KRN",19,11307,598000)
3
"KRN",19,11307,"U")
REJECTIONS FROM HBPC PROGRAM R
"KRN",19,2892965,-1)
0^21
"KRN",19,2892965,0)
HBHCRP9^Provider Census Report  (132)^^R^^^^^^^^
"KRN",19,2892965,1,0)
^^8^8^2970207^^^^
"KRN",19,2892965,1,1,0)
This option prints the HBPC Provider Census Report.  The report can
"KRN",19,2892965,1,2,0)
be run for All or Individual Providers.  The user is prompted to enter
"KRN",19,2892965,1,3,0)
the date range of visits for inclusion on the report.  Only patients
"KRN",19,2892965,1,4,0)
with a current admission will be included.  The report is sorted by
"KRN",19,2892965,1,5,0)
Provider and includes:  Provider Name, Provider Number, Patient Name,
"KRN",19,2892965,1,6,0)
SSN, Admission Date, Street Address, City, ZIP Code, and Phone, with
"KRN",19,2892965,1,7,0)
Totals for each Provider and Final Totals if 'All' selected.  Report
"KRN",19,2892965,1,8,0)
prints in 132 column format.
"KRN",19,2892965,25)
HBHCRP9
"KRN",19,2892965,598000)
3
"KRN",19,2892965,"U")
PROVIDER CENSUS REPORT  (132)
"KRN",19,2892966,-1)
0^22
"KRN",19,2892966,0)
HBHCRP10^Program Census Report  (80)^^R^^^^^^^^
"KRN",19,2892966,1,0)
^^4^4^2970207^^^^
"KRN",19,2892966,1,1,0)
This option prints the HBPC Program Census Report.  The user is prompted
"KRN",19,2892966,1,2,0)
to enter the date range for inclusion on the report.  The report is
"KRN",19,2892966,1,3,0)
sorted by patient name and includes:  Patient Name, SSN, and Admission
"KRN",19,2892966,1,4,0)
Date.  Report prints in 80 column format.
"KRN",19,2892966,25)
HBHCRP10
"KRN",19,2892966,99)
55776,30342
"KRN",19,2892966,598000)
3
"KRN",19,2892966,"U")
PROGRAM CENSUS REPORT  (80)
"KRN",19,2892967,-1)
0^19
"KRN",19,2892967,0)
HBHCRP11^Team Census Report  (80)^^R^^^^^^^^
"KRN",19,2892967,1,0)
^^5^5^2970207^^^^
"KRN",19,2892967,1,1,0)
This option prints the HBPC Team Census Report.  The user is prompted
"KRN",19,2892967,1,2,0)
to enter the date range for inclusion on the report.  The report is
"KRN",19,2892967,1,3,0)
sorted by Team and includes:  Team Name, Patient Name, SSN, and
"KRN",19,2892967,1,4,0)
Admission Date, with Totals for each Team and Final Totals for all
"KRN",19,2892967,1,5,0)
Teams.  Report prints in 80 column format.
"KRN",19,2892967,25)
HBHCRP11
"KRN",19,2892967,598000)
3
"KRN",19,2892967,"U")
TEAM CENSUS REPORT  (80)
"KRN",19,2892968,-1)
0^4
"KRN",19,2892968,0)
HBHCRP12^Episode of Care/Length of Stay Report  (80)^^R^^^^^^^^
"KRN",19,2892968,1,0)
^19.06^5^5^3040624^^^^
"KRN",19,2892968,1,1,0)
This option prints the HBPC Episode of Care/Length of Stay Report.  The
"KRN",19,2892968,1,2,0)
user is prompted to enter the date range for inclusion on the report.
"KRN",19,2892968,1,3,0)
The report is sorted by patient and includes:  Patient Name, SSN,
"KRN",19,2892968,1,4,0)
Admission Date, Discharge Date, and Length of Stay.  Report prints in
"KRN",19,2892968,1,5,0)
80 columm format.
"KRN",19,2892968,25)
HBHCRP12
"KRN",19,2892968,99)
55782,38792
"KRN",19,2892968,598000)
3
"KRN",19,2892968,"U")
EPISODE OF CARE/LENGTH OF STAY
"KRN",19,2893432,-1)
0^14
"KRN",19,2893432,0)
HBHC REPORTS MENU^Reports Menu^^M^^^^^^^^
"KRN",19,2893432,1,0)
^19.06^16^16^3040624^^^^
"KRN",19,2893432,1,1,0)
This option is the HBPC Reports Menu.  The option includes:
"KRN",19,2893432,1,2,0)

"KRN",19,2893432,1,3,0)
  Evaluation/Admission Data Report by Patient  (80) [HBHCRP2]
"KRN",19,2893432,1,4,0)
  Patient Visit Data Report  (80) [HBHCRP3]
"KRN",19,2893432,1,5,0)
  Discharge Data Report by Patient  (80) [HBHCRP5]
"KRN",19,2893432,1,6,0)
  Episode of Care/Length of Stay Report  (80) [HBHCRP12]
"KRN",19,2893432,1,7,0)
  Admissions/Discharges by Date Range Report  (132) [HBHCRP7]
"KRN",19,2893432,1,8,0)
  Rejections from HBPC Program Report  (80) [HBHCRP16]
"KRN",19,2893432,1,9,0)
  Visit Data by Date Range Report  (80) [HBHCRP4]
"KRN",19,2893432,1,10,0)
  CPT Code Summary Report  (80) [HBHCRP17]
"KRN",19,2893432,1,11,0)
  Provider CPT Code Summary Report  (80) [HBHCRP22]
"KRN",19,2893432,1,12,0)
  ICD9 Code/Dx Text by Date Range Report  (80) [HBHCR19A]
"KRN",19,2893432,1,13,0)
  Unique Patients by Date Range Summary Report  (80) [HBHCRP20]
"KRN",19,2893432,1,14,0)
  Total Visits by Date Range Report  (80) [HBHCRP21]
"KRN",19,2893432,1,15,0)
  Patient Days of Care by Date Range Report  (80) [HBHCRP23]
"KRN",19,2893432,1,16,0)
  Census Reports Menu ... [HBHC CENSUS REPORTS MENU]
"KRN",19,2893432,10,0)
^19.01IP^14^14
"KRN",19,2893432,10,1,0)
9337^^1
"KRN",19,2893432,10,1,"^")
HBHCRP2
"KRN",19,2893432,10,2,0)
9338^^2
"KRN",19,2893432,10,2,"^")
HBHCRP3
"KRN",19,2893432,10,3,0)
9340^^3
"KRN",19,2893432,10,3,"^")
HBHCRP5
"KRN",19,2893432,10,4,0)
2892968^^4
"KRN",19,2893432,10,4,"^")
HBHCRP12
"KRN",19,2893432,10,5,0)
9342^^5
"KRN",19,2893432,10,5,"^")
HBHCRP7
"KRN",19,2893432,10,6,0)
11307^^6
"KRN",19,2893432,10,6,"^")
HBHCRP16
"KRN",19,2893432,10,7,0)
9344^^7
"KRN",19,2893432,10,7,"^")
HBHCRP4
"KRN",19,2893432,10,8,0)
2894447^^8
"KRN",19,2893432,10,8,"^")
HBHCRP17
"KRN",19,2893432,10,9,0)
2895381^^9
"KRN",19,2893432,10,9,"^")
HBHCRP22
"KRN",19,2893432,10,10,0)
2894634^^10
"KRN",19,2893432,10,10,"^")
HBHCR19A
"KRN",19,2893432,10,11,0)
2894817^^11
"KRN",19,2893432,10,11,"^")
HBHCRP20
"KRN",19,2893432,10,12,0)
2895379^^12
"KRN",19,2893432,10,12,"^")
HBHCRP21
"KRN",19,2893432,10,13,0)
2899060^^13
"KRN",19,2893432,10,13,"^")
HBHCRP23
"KRN",19,2893432,10,14,0)
2894448^^14
"KRN",19,2893432,10,14,"^")
HBHC CENSUS REPORTS MENU
"KRN",19,2893432,99)
59710,58835
"KRN",19,2893432,99.1)
59749,54172
"KRN",19,2893432,"U")
REPORTS MENU
"KRN",19,2894447,-1)
0^8
"KRN",19,2894447,0)
HBHCRP17^CPT Code Summary Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2894447,1,0)
^^4^4^2980707^^^
"KRN",19,2894447,1,1,0)
This option prints the HBPC CPT Code Summary Report.  The user is prompted
"KRN",19,2894447,1,2,0)
to enter the date range, and CPT Code(s) or range of codes for inclusion on
"KRN",19,2894447,1,3,0)
the report.  The report is sorted by CPT Code with totals for each CPT Code
"KRN",19,2894447,1,4,0)
plus a grand total.  Report prints in 80 column format. 
"KRN",19,2894447,25)
HBHCRP17
"KRN",19,2894447,598000)
3
"KRN",19,2894447,"U")
CPT CODE SUMMARY REPORT  (80)
"KRN",19,2894448,-1)
0^15
"KRN",19,2894448,0)
HBHC CENSUS REPORTS MENU^Census Reports Menu^^M^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2894448,1,0)
^19.06^11^11^3030912^^^
"KRN",19,2894448,1,1,0)
This option is the HBPC Census Reports Menu.  The menu includes:
"KRN",19,2894448,1,2,0)

"KRN",19,2894448,1,3,0)
  Program Census Report  (80) [HBHCRP10]
"KRN",19,2894448,1,4,0)
  Address Included Program Census  (132) [HBHCRP25]
"KRN",19,2894448,1,5,0)
  Expanded Program Census Report  (80) [HBHCRP24]
"KRN",19,2894448,1,6,0)
  Active Census with ICD9 Code/Text Report  (132) [HBHCRP18]
"KRN",19,2894448,1,7,0)
  Team Census Report  (80) [HBHCRP11]
"KRN",19,2894448,1,8,0)
  Case Manager Census Report  (132) [HBHCRP6]
"KRN",19,2894448,1,9,0)
  Provider Census Report  (132) [HBHCRP9]
"KRN",19,2894448,1,10,0)

"KRN",19,2894448,1,11,0)
This option is accessible from the HBHC REPORTS MENU option.
"KRN",19,2894448,10,0)
^19.01IP^7^7
"KRN",19,2894448,10,1,0)
2892966^^1
"KRN",19,2894448,10,1,"^")
HBHCRP10
"KRN",19,2894448,10,2,0)
2899062^^2
"KRN",19,2894448,10,2,"^")
HBHCRP25
"KRN",19,2894448,10,3,0)
2899061^^3
"KRN",19,2894448,10,3,"^")
HBHCRP24
"KRN",19,2894448,10,4,0)
3518^^4
"KRN",19,2894448,10,4,"^")
HBHCRP18
"KRN",19,2894448,10,5,0)
2892967^^5
"KRN",19,2894448,10,5,"^")
HBHCRP11
"KRN",19,2894448,10,6,0)
9345^^6
"KRN",19,2894448,10,6,"^")
HBHCRP6
"KRN",19,2894448,10,7,0)
2892965^^7
"KRN",19,2894448,10,7,"^")
HBHCRP9
"KRN",19,2894448,99)
59710,58835
"KRN",19,2894448,"U")
CENSUS REPORTS MENU
"KRN",19,2894634,-1)
0^10
"KRN",19,2894634,0)
HBHCR19A^ICD9 Code/Dx Text by Date Range Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2894634,1,0)
^^10^10^2971118^^^^
"KRN",19,2894634,1,1,0)
This option prints the HBPC ICD9 Code/Diagnosis Text by Date Range Report.
"KRN",19,2894634,1,2,0)
The user is prompted to enter the date range, and the ICD9 Code(s), or 
"KRN",19,2894634,1,3,0)
category of codes, for inclusion on the report.  If the user responds 'yes'
"KRN",19,2894634,1,4,0)
to the 'include All codes within category xxx' prompt, simply selecting ANY
"KRN",19,2894634,1,5,0)
code from the category will be category inclusive.  (e.g.  selecting 250.00
"KRN",19,2894634,1,6,0)
or 250.60 will produce the same report results) 
"KRN",19,2894634,1,7,0)

"KRN",19,2894634,1,8,0)
The report is sorted by ICD9 Code category, then alphabetically by patient
"KRN",19,2894634,1,9,0)
within category, with totals for each ICD9 Code category plus a grand
"KRN",19,2894634,1,10,0)
total.  Report prints in 80 column format. 
"KRN",19,2894634,25)
HBHCR19A
"KRN",19,2894634,598000)
2
"KRN",19,2894634,"U")
ICD9 CODE/DX TEXT BY DATE RANG
"KRN",19,2894817,-1)
0^11
"KRN",19,2894817,0)
HBHCRP20^Unique Patients by Date Range Summary Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2894817,1,0)
^^4^4^2971118^
"KRN",19,2894817,1,1,0)
This option prints the HBPC Unique patients by Date Range Report.  The user is
"KRN",19,2894817,1,2,0)
prompted to enter the date range for inclusion on the report.  The report
"KRN",19,2894817,1,3,0)
prints separate totals for patients with single visit only or multiple visits,
"KRN",19,2894817,1,4,0)
plus grand total of unique patients.  Reports prints in 80 column format. 
"KRN",19,2894817,25)
HBHCRP20
"KRN",19,2894817,"U")
UNIQUE PATIENTS BY DATE RANGE 
"KRN",19,2895379,-1)
0^12
"KRN",19,2895379,0)
HBHCRP21^Total Visits by Date Range Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2895379,1,0)
^^19^19^2980707^
"KRN",19,2895379,1,1,0)
This option prints HBPC Total Visits by Date Range Report.  User is prompted to
"KRN",19,2895379,1,2,0)
enter date range for inclusion on report.  Visit is omitted from report if
"KRN",19,2895379,1,3,0)
contains any of the following CPT codes: 
"KRN",19,2895379,1,4,0)
 
"KRN",19,2895379,1,5,0)
  99358  PROLONGED SERV, W/O CONTACT
"KRN",19,2895379,1,6,0)
  99359  PROLONGED SERV, W/O CONTACT
"KRN",19,2895379,1,7,0)
  99361  PHYSICIAN/TEAM CONFERENCE
"KRN",19,2895379,1,8,0)
  99362  PHYSICIAN/TEAM CONFERENCE
"KRN",19,2895379,1,9,0)
  99371  PHYSICIAN PHONE CONSULTATION
"KRN",19,2895379,1,10,0)
  99372  PHYSICIAN PHONE CONSULTATION
"KRN",19,2895379,1,11,0)
  99373  PHYSICIAN PHONE CONSULTATION
"KRN",19,2895379,1,12,0)
  99374  HOME HEALTH CARE SUPERVISION
"KRN",19,2895379,1,13,0)
  99375  HOME HEALTH CARE SUPERVISION
"KRN",19,2895379,1,14,0)
  99376  CARE PLAN OVERSIGHT/OVER 60
"KRN",19,2895379,1,15,0)

"KRN",19,2895379,1,16,0)
User can also select additional CPT codes to omit from report.  Report
"KRN",19,2895379,1,17,0)
includes:  Patient Name, SSN Last Four, Total Visits per patient, Date
"KRN",19,2895379,1,18,0)
(admitted to HBPC program) & Discharge Date (if applicable), with grand totals
"KRN",19,2895379,1,19,0)
of patients & visits.  Report prints in 80 column format. 
"KRN",19,2895379,25)
HBHCRP21
"KRN",19,2895379,"U")
TOTAL VISITS BY DATE RANGE REP
"KRN",19,2895381,-1)
0^9
"KRN",19,2895381,0)
HBHCRP22^Provider CPT Code Summary Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2895381,1,0)
^19.06^5^5^3030814^^
"KRN",19,2895381,1,1,0)
This option prints HBPC Provider CPT Code Summary Report.  User is prompted
"KRN",19,2895381,1,2,0)
to enter date range, CPT code(s) (can be range of CPTs), & Provider for
"KRN",19,2895381,1,3,0)
inclusion on report.   Report includes:  Provider Name in header, CPT code(s)
"KRN",19,2895381,1,4,0)
with summary total(s) & grand total for all CPTs.  Report prints in 80 column
"KRN",19,2895381,1,5,0)
format. 
"KRN",19,2895381,25)
HBHCRP22
"KRN",19,2895381,"U")
PROVIDER CPT CODE SUMMARY REPO
"KRN",19,2899060,-1)
0^13
"KRN",19,2899060,0)
HBHCRP23^Patient Days of Care by Date Range Report (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2899060,1,0)
^19.06^8^8^3040624^^
"KRN",19,2899060,1,1,0)
The option prints HBPC Patient Days of Care by Date Range Report.  Report
"KRN",19,2899060,1,2,0)
includes:  file internal entry number (IEN), Patient Name, Social Security
"KRN",19,2899060,1,3,0)
Number (SSN), Date, Discharge Date, & Patient Days.  Patient Days is calculated
"KRN",19,2899060,1,4,0)
based on the user selectable date range.  Summary totals of Patients and
"KRN",19,2899060,1,5,0)
Patient Days are included for both Complete Episodes of Care and Active Cases. 
"KRN",19,2899060,1,6,0)
Date of Discharge is omitted from the Patient Days total (e.g.  Adm Date:
"KRN",19,2899060,1,7,0)
7/1/03, D/C Date: 7/5/03  would total 4 Patient Days, not 5).  Report prints in
"KRN",19,2899060,1,8,0)
80 column format. 
"KRN",19,2899060,25)
HBHCRP23
"KRN",19,2899060,"U")
PATIENT DAYS OF CARE BY DATE R
"KRN",19,2899061,-1)
0^17
"KRN",19,2899061,0)
HBHCRP24^Expanded Program Census Report  (80)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2899061,1,0)
^^5^5^3030911^
"KRN",19,2899061,1,1,0)
This option prints the HBPC Expanded Program Census Report.  The user is 
"KRN",19,2899061,1,2,0)
prompted to enter the date range for inclusion on the report.  The report
"KRN",19,2899061,1,3,0)
is sorted by patient name and includes:  Patient Name, Last 4, Admission
"KRN",19,2899061,1,4,0)
Date, Case Manager, Most Recent Visit Date, Visit Discipline, & total. 
"KRN",19,2899061,1,5,0)
Report prints in 80 column format. 
"KRN",19,2899061,25)
HBHCRP24
"KRN",19,2899061,"U")
EXPANDED PROGRAM CENSUS REPORT
"KRN",19,2899062,-1)
0^16
"KRN",19,2899062,0)
HBHCRP25^Address Included Program Census  (132)^^R^^^^^^^^HOSPITAL BASED HOME CARE
"KRN",19,2899062,1,0)
^19.06^5^5^3030912^^
"KRN",19,2899062,1,1,0)
This option prints the HBPC Address Included Program Census Report.  The
"KRN",19,2899062,1,2,0)
user is prompted to enter a date range for inclusion on the report.  The
"KRN",19,2899062,1,3,0)
report is sorted alphabetically by patient name & includes:  Patient Name,
"KRN",19,2899062,1,4,0)
Last 4, Admission Date, Address, City, ZIP Code, Phone Number, Case Manager
"KRN",19,2899062,1,5,0)
& Total.  Report prints in 132 column format. 
"KRN",19,2899062,25)
HBHCRP25
"KRN",19,2899062,"U")
ADDRESS INCLUDED PROGRAM CENSU
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",455,-1)
1^1
"PKG",455,0)
HOSPITAL BASED HOME CARE^HBH^Hospital Based Home Care
"PKG",455,20,0)
^9.402P^^
"PKG",455,22,0)
^9.49I^1^1
"PKG",455,22,1,0)
1.0^2931101
"PKG",455,22,1,"PAH",1,0)
21^3040827^3779
"PKG",455,22,1,"PAH",1,1,0)
^^1^1^3040827
"PKG",455,22,1,"PAH",1,1,1,0)
HBH*1.0*21, Patient Days of Care Report & Report Updates
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","HBHCFILE")
0^6^B30445019
"RTN","HBHCFILE",1,0)
HBHCFILE ; LR VAMC(IRMS)/MJT-HBHC populates ^HBHC(632) visit file, & ^HBHC(634), file for transmitting to Austin, calls ^HBHCAPPT, ^HBHCXMC, ^HBHCXMA, ^HBHCXMV, & ^HBHCXMD ; Nov 1999
"RTN","HBHCFILE",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**2,5,6,8,9,10,16,21**;NOV 01, 1993
"RTN","HBHCFILE",3,0)
 I $P(^HBHC(631.9,1,0),U,5)="" W !!,"***  NOTICE:  Hospital Number is missing from System Parameter file (#631.9).",!,"Transmission file building CANNOT proceed without this information.  Contact"
"RTN","HBHCFILE",4,0)
 I $P(^HBHC(631.9,1,0),U,5)="" W !,"IRM to enter this information using FileMan.",! H 10 Q
"RTN","HBHCFILE",5,0)
 L +^HBHC(634.5,0):0 I '$T W *7,!!,"Another user has the pseudo SSN file locked." H 3 G EXIT
"RTN","HBHCFILE",6,0)
 I ($D(^HBHC(634.1,"B")))!($D(^HBHC(634.2,"B")))!($D(^HBHC(634.3,"B")))!($D(^HBHC(634.5,"B"))) W *7,!!,"Records containing errors exist and must be corrected before transmit",!,"file can be created or updated.",!! H 3 Q
"RTN","HBHCFILE",7,0)
EN ; Entry point
"RTN","HBHCFILE",8,0)
 I $P(^HBHC(631.9,1,0),U,8)]"" W *7,!,"File Update in progress.  Please try again later." H 3 Q
"RTN","HBHCFILE",9,0)
 W !!,"This option builds the file for transmission to Austin.  Do you wish to",!,"continue" S %=2 D YN^DICN
"RTN","HBHCFILE",10,0)
 I %=0 W !!,"A 'Yes' response will add records to the file.  A 'No' response will return",!,"to the menu without updating the file." G EN
"RTN","HBHCFILE",11,0)
 G:%'=1 EXIT
"RTN","HBHCFILE",12,0)
MONTH ; Calculate default month value & last date to be included for transmission
"RTN","HBHCFILE",13,0)
 S X="T" D ^%DT S X1=$P(Y,"."),X2=-28 D C^%DTC S DIR("B")=+$E(X,4,5)
"RTN","HBHCFILE",14,0)
 S DIR(0)="SX^1:January;2:February;3:March;4:April;5:May;6:June;7:July;8:August;9:September;10:October;11:November;12:December;"
"RTN","HBHCFILE",15,0)
 S DIR("A")="Month for which data is to be transmitted"
"RTN","HBHCFILE",16,0)
 S DIR("?")="Month entered controls the ending date for data transmitted to Austin.  (e.g.  An August 5 transmission with July selected as month, will include data thru July 31.)"
"RTN","HBHCFILE",17,0)
 D ^DIR Q:$D(DIRUT)  S HBHCDIR=Y
"RTN","HBHCFILE",18,0)
 S X="T" D ^%DT S HBHCYEAR=$S(HBHCDIR>(+$E(Y,4,5)):($E(Y,1,3))-1,1:$E(Y,1,3))
"RTN","HBHCFILE",19,0)
 S Y=1700+HBHCYEAR,HBHCLEAP=$S(Y#400=0:1,Y#4=0&'(Y#100=0):1,1:0)
"RTN","HBHCFILE",20,0)
 S HBHCLSDT=HBHCYEAR_$S(HBHCDIR<10:"0"_HBHCDIR,1:HBHCDIR)_$S(((HBHCDIR=2)&('HBHCLEAP)):28,((HBHCDIR=2)&(HBHCLEAP)):29,"^1^3^5^7^8^10^12^"[HBHCDIR:31,1:30)_.9999
"RTN","HBHCFILE",21,0)
 S Y=$P(HBHCLSDT,".") D DD^%DT S HBHCCKDT=Y
"RTN","HBHCFILE",22,0)
NUMBER ; Edit Number of Visit Days to Scan system parameter
"RTN","HBHCFILE",23,0)
 W !
"RTN","HBHCFILE",24,0)
 K DIR S DIR(0)="631.9,3",DIR("A")="Number of Visit Days to Scan",DIR("B")=$P($G(^HBHC(631.9,1,0)),U,4)
"RTN","HBHCFILE",25,0)
 S DIR("?",1)="Enter number of days to be included when the system creates records in the",DIR("?",2)="HBHC Visit File from the appointment data entered via the Appointment",DIR("?")="Management  [HBHC APPOINTMENT]  option."
"RTN","HBHCFILE",26,0)
 D ^DIR
"RTN","HBHCFILE",27,0)
 G:($D(DTOUT))!($D(DUOUT)) EXIT
"RTN","HBHCFILE",28,0)
 S HBHCDIR=Y
"RTN","HBHCFILE",29,0)
 I (HBHCDIR'=DIR("B"))&(HBHCDIR?1.3N) K DIE S HBHCDAYS=Y,DIE="^HBHC(631.9,",DA=1,DR="3///^S X=HBHCDAYS" D ^DIE
"RTN","HBHCFILE",30,0)
 ; Check to ensure Number of Visit Days to Scan date < HBHCLSDT
"RTN","HBHCFILE",31,0)
 K %DT S X="T"-($S(HBHCDIR'=DIR("B"):HBHCDIR,1:DIR("B"))) D ^%DT
"RTN","HBHCFILE",32,0)
 I (Y_".9999")'<HBHCLSDT D DD^%DT W *7,!!,"Date Range is invalid.  Transmit Month Ending Date of:  ",HBHCCKDT,"  must",!,"be closer to today than the Number of Days to Scan Date:  ",Y,".",! G NUMBER
"RTN","HBHCFILE",33,0)
CLEANUP ; Cleanup ^HBHC(634) if new transmit cycle => all records flagged as transmitted
"RTN","HBHCFILE",34,0)
 I ('$D(^HBHC(631,"AE","F")))&('$D(^HBHC(631,"AF","F")))&('$D(^HBHC(632,"AC","F"))) K ^HBHC(634) S ^HBHC(634,0)="HBHC TRANSMIT^634"
"RTN","HBHCFILE",35,0)
 ; Flag used to control killing HBHCDAT, HBHCDTE, & HBHCNOW in HBHCAPPT
"RTN","HBHCFILE",36,0)
 S HBHCFLAG=1
"RTN","HBHCFILE",37,0)
QUEUE ; Queue
"RTN","HBHCFILE",38,0)
 S ZTIO="",ZTDTH=$H,ZTRTN="PLOOP^HBHCFILE",ZTSAVE("HBHC*")="",ZTDESC="HBPC Build Transmit File" D ^%ZTLOAD
"RTN","HBHCFILE",39,0)
 W *7,!!,"Build Transmit File processing has been queued.  Task number:  ",ZTSK H 3
"RTN","HBHCFILE",40,0)
 G EXIT
"RTN","HBHCFILE",41,0)
PLOOP ; Loop thru ^HBHC(632,"C" Appointment Date cross-ref & flag as 'P' (Record Prior to Package Startup Date) in Form 4 Transmit Status field if date < Package Startup Date
"RTN","HBHCFILE",42,0)
 S X1=$P(^HBHC(631.9,1,0),U,3),X2=-1 D C^%DTC S HBHCSTDT=X_.9999
"RTN","HBHCFILE",43,0)
 S HBHCAPDT=0,DIE="^HBHC(632,",DR="7///P"
"RTN","HBHCFILE",44,0)
 F  S HBHCAPDT=$O(^HBHC(632,"C",HBHCAPDT)) Q:(HBHCAPDT'>0)!(HBHCAPDT>HBHCSTDT)  S DA="" F  S DA=$O(^HBHC(632,"C",HBHCAPDT,DA)) Q:DA'>0  D:'$D(^HBHC(632,"AC","P",DA)) ^DIE
"RTN","HBHCFILE",45,0)
POP ; Populate ^HBHC(634) or ^HBHC(634.1/634.2/634.3/634.5 Error files
"RTN","HBHCFILE",46,0)
 D ^HBHCAPPT,^HBHCXMC,^HBHCXMA,^HBHCXMV,^HBHCXMD
"RTN","HBHCFILE",47,0)
 ; Cleanup potential scrogged HBHC(632,"AC" cross-ref on Form 4 Transmit Status field (#7) as failsafe
"RTN","HBHCFILE",48,0)
 K ^HBHC(632,"AC") S DIK="^HBHC(632,",DIK(1)=7 D ENALL^DIK
"RTN","HBHCFILE",49,0)
 ; Send mail message
"RTN","HBHCFILE",50,0)
 D:('$D(^HBHC(634.1,"B")))&('$D(^HBHC(634.2,"B")))&('$D(^HBHC(634.3,"B")))&('$D(^HBHC(634.5,"B"))) MAIL
"RTN","HBHCFILE",51,0)
EXIT ; Exit module
"RTN","HBHCFILE",52,0)
 L -^HBHC(634.5,0)
"RTN","HBHCFILE",53,0)
 K DA,DIE,DIR,DIRUT,DR,DTOUT,DUOUT,HBHCAPDT,HBHCCKDT,HBHCDAT,HBHCDAYS,HBHCDTE,HBHCDIR,HBHCFLAG,HBHCLEAP,HBHCLSDT,HBHCNOW,HBHCSTDT,HBHCYEAR,%,TMP,X,X1,X2,Y
"RTN","HBHCFILE",54,0)
 Q
"RTN","HBHCFILE",55,0)
MAIL ; Send completed mail message
"RTN","HBHCFILE",56,0)
 S TMP(1)=$P(HBHCDAT,"@")_" HBHC Build Transmit File is complete with no errors found.",TMP(2)="",TMP(3)="   Number of Visit Days to Scan system parameter:  "_$P(^HBHC(631.9,1,0),U,4),TMP(4)=""
"RTN","HBHCFILE",57,0)
 S Y=$P($P(HBHCDTE,U),"@") X ^DD("DD") S HBHCINFO=Y,Y=$P($P(HBHCDTE,U,2),"@") X ^DD("DD") S TMP(5)="   Date range:  "_$P(HBHCINFO,"@")_"  thru  "_$P(Y,"@"),TMP(6)=""
"RTN","HBHCFILE",58,0)
 D NOW^%DTC S Y=% X ^DD("DD")
"RTN","HBHCFILE",59,0)
 S TMP(7)="   Start time:  "_$P(HBHCDAT,"@",2)_"   End time:  "_$P(Y,"@",2)_"   Elapsed minutes:  "_($E(%_"000",9,10)-$E(HBHCNOW_"000",9,10)*60+$E(%_"00000",11,12)-$E(HBHCNOW_"00000",11,12)),TMP(8)=""
"RTN","HBHCFILE",60,0)
 S TMP(9)="*****   Reminder:  Please run Transmit File to Austin option.   *****"
"RTN","HBHCFILE",61,0)
 S XMDUZ="HBHC Build Transmit File Mail Group",XMSUB=$P(HBHCDAT,"@")_" HBHC Build Transmit File",XMY(DUZ)="",XMTEXT="TMP("
"RTN","HBHCFILE",62,0)
 D ^XMD
"RTN","HBHCFILE",63,0)
 Q
"RTN","HBHCRP12")
0^11^B16118550
"RTN","HBHCRP12",1,0)
HBHCRP12 ; LR VAMC(IRMS)/MJT-HBHC report on file 631, Episode of Care/Length of Stay, by date range, sorted by patient name, includes: patient name, SSN, admission date, discharge date, & length of stay, plus pt & day totals ;9205
"RTN","HBHCRP12",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**6,21**;NOV 01, 1993
"RTN","HBHCRP12",3,0)
 ; Also includes pt & day totals, plus avg LOS for complete episodes only
"RTN","HBHCRP12",4,0)
 D START^HBHCUTL
"RTN","HBHCRP12",5,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP12",6,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP12",7,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP12",ZTDESC="HBPC Episode of Care/Length of Stay Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP12",8,0)
DQ ; De-queue
"RTN","HBHCRP12",9,0)
 U IO
"RTN","HBHCRP12",10,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP12",11,0)
 S $P(HBHCY,"-",81)="",HBHCHEAD="Episode of Care/Length of Stay",HBHCHDR="W !?63,""Discharge"",?74,""Length"",!,""Patient Name"",?34,""SSN"",?50,""Date"",?63,""Date"",?74,""/Stay""",(HBHCCNT,HBHCCNT1,HBHCTOT,HBHCTOT1)=0
"RTN","HBHCRP12",12,0)
 S HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP12",13,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDRRANGE^HBHCUTL
"RTN","HBHCRP12",14,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRRANGE^HBHCUTL
"RTN","HBHCRP12",15,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) cross-ref to build report
"RTN","HBHCRP12",16,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCADDT=X
"RTN","HBHCRP12",17,0)
 F  S HBHCADDT=$O(^HBHC(631,"AD",HBHCADDT)) Q:(HBHCADDT="")!(HBHCADDT>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AD",HBHCADDT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP12",18,0)
 D PRTLOOP
"RTN","HBHCRP12",19,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<7) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP12",20,0)
 W !!,HBHCZ,!,"Complete Episodes of Care Only:",!?2,"Total Patients:  ",HBHCCNT1,"    Total Days:  ",$FN(HBHCTOT1,","),"    Average Length of Stay:  ",$S(((HBHCTOT1>0)&(HBHCCNT1>0)):(HBHCTOT1\HBHCCNT1),1:0)
"RTN","HBHCRP12",21,0)
 W !,HBHCZ,!?2,"Total Patients:  ",HBHCCNT,"    Total Days:  ",$FN(HBHCTOT,","),!,HBHCZ
"RTN","HBHCRP12",22,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP12",23,0)
EXIT ; Exit module
"RTN","HBHCRP12",24,0)
 D ^%ZISC
"RTN","HBHCRP12",25,0)
 K HBHCADDT,HBHCBEG1,HBHCBEG2,HBHCCOLM,HBHCCC,HBHCCNT,HBHCCNT1,HBHCDFN,HBHCDPT0,HBHCDSDT,HBHCEND1,HBHCEND2,HBHCHDR,HBHCHEAD,HBHCLOS,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCTOT1,HBHCY,HBHCZ,X,X1,X2,Y,^TMP("HBHC",$J)
"RTN","HBHCRP12",26,0)
 Q
"RTN","HBHCRP12",27,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP12",28,0)
 S HBHCDSDT=$P(HBHCNOD0,U,40)
"RTN","HBHCRP12",29,0)
 S HBHCCNT=HBHCCNT+1
"RTN","HBHCRP12",30,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0),HBHCLOS=""
"RTN","HBHCRP12",31,0)
 I HBHCDSDT]"" S X1=$S((HBHCDSDT>HBHCEND1):HBHCEND1,1:HBHCDSDT),X2=HBHCADDT D ^%DTC S HBHCLOS=X
"RTN","HBHCRP12",32,0)
 ; handles Admission Date being same as date range ending date, OR Adm & D/C dates being equal
"RTN","HBHCRP12",33,0)
 S:HBHCLOS=0 HBHCLOS=1
"RTN","HBHCRP12",34,0)
 ; '> below handles counting as complete episode of care ONLY if Discharge Date is within date range
"RTN","HBHCRP12",35,0)
 S:(HBHCDSDT]"")&(HBHCDSDT'>HBHCEND1) HBHCCNT1=HBHCCNT1+1,HBHCTOT1=HBHCTOT1+HBHCLOS
"RTN","HBHCRP12",36,0)
 S HBHCDSDT=$S(HBHCDSDT="":" Active",(HBHCDSDT>HBHCEND1):" Active",1:$E(HBHCDSDT,4,5)_"-"_$E(HBHCDSDT,6,7)_"-"_$E(HBHCDSDT,2,3),1:" Active")
"RTN","HBHCRP12",37,0)
 ; Add 1 to HBHCLOS to be current/ending day inclusive
"RTN","HBHCRP12",38,0)
 I (HBHCDSDT="")!(HBHCDSDT=" Active") S X1=HBHCEND1,X2=HBHCADDT D ^%DTC S HBHCLOS=(X+1)
"RTN","HBHCRP12",39,0)
 S HBHCTOT=HBHCTOT+HBHCLOS
"RTN","HBHCRP12",40,0)
 S ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCADDT)=$E($P(HBHCDPT0,U,9),1,3)_"-"_$E($P(HBHCDPT0,U,9),4,5)_"-"_$E($P(HBHCDPT0,U,9),6,9)_U_HBHCDSDT_U_HBHCLOS
"RTN","HBHCRP12",41,0)
 Q
"RTN","HBHCRP12",42,0)
PRTLOOP ; Print loop
"RTN","HBHCRP12",43,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCADDT="" F  S HBHCADDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCADDT)) Q:HBHCADDT=""  D PRINT
"RTN","HBHCRP12",44,0)
 Q
"RTN","HBHCRP12",45,0)
PRINT ; Print report
"RTN","HBHCRP12",46,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP12",47,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCADDT)
"RTN","HBHCRP12",48,0)
 W !,HBHCNAME,?34,$P(HBHCTMP,U),?50,$E(HBHCADDT,4,5)_"-"_$E(HBHCADDT,6,7)_"-"_$E(HBHCADDT,2,3),?63,$P(HBHCTMP,U,2),?76,$J($P(HBHCTMP,U,3),4),!,HBHCY
"RTN","HBHCRP12",49,0)
 Q
"RTN","HBHCRP23")
0^8^B17451223
"RTN","HBHCRP23",1,0)
HBHCRP23 ; LR VAMC(IRMS)/MJT-HBHC report on file 631, Patient Days by date range, sorted by patient name, includes: IEN, patient name, SSN, admission date, discharge date, & pt days w/totals ; Aug 03
"RTN","HBHCRP23",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**21**;NOV 01, 1993
"RTN","HBHCRP23",3,0)
 ; Notes:  date range should be inclusion of all days; D/C date is not included in patient day count
"RTN","HBHCRP23",4,0)
 D START^HBHCUTL
"RTN","HBHCRP23",5,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP23",6,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP23",7,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP23",ZTDESC="HBPC Patient Days of Care by Date Range Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP23",8,0)
DQ ; De-queue
"RTN","HBHCRP23",9,0)
 U IO
"RTN","HBHCRP23",10,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP23",11,0)
 S $P(HBHCY,"-",81)="",HBHCHEAD="Patient Days of Care by Date Range",HBHCHDR="W !?63,""Discharge"",?73,""Patient"",!,""IEN"",?7,""Patient Name"",?34,""SSN"",?50,""Date"",?63,""Date"",?73,""Days""",(HBHCCNT,HBHCCNT1,HBHCTOT,HBHCTOT1)=0
"RTN","HBHCRP23",12,0)
 S HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP23",13,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDRRANGE^HBHCUTL
"RTN","HBHCRP23",14,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRRANGE^HBHCUTL
"RTN","HBHCRP23",15,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) cross-ref to build report
"RTN","HBHCRP23",16,0)
 S HBHCADDT=0 F  S HBHCADDT=$O(^HBHC(631,"AD",HBHCADDT)) Q:(HBHCADDT'>0)!(HBHCADDT>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AD",HBHCADDT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP23",17,0)
 D PRTLOOP
"RTN","HBHCRP23",18,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<14) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP23",19,0)
 W !!,HBHCZ,!?14,">>>  Date Range:  ",HBHCBEG2," to ",HBHCEND2,"  <<<"
"RTN","HBHCRP23",20,0)
 W !,HBHCZ,!,"Total Active Patients:  ",$J($FN((HBHCCNT-HBHCCNT1),","),6)
"RTN","HBHCRP23",21,0)
 W !,HBHCZ,!,"Complete Episodes of Care Only:",!?4,"Total Patients:  ",$J($FN(HBHCCNT1,","),6),"     Total Patient Days in Date Range:  ",$J($FN(HBHCTOT1,","),10)
"RTN","HBHCRP23",22,0)
 W !,HBHCZ,!?4,"Total Patients:  ",$J($FN(HBHCCNT,","),6),"     Total Patient Days in Date Range:  ",$J($FN(HBHCTOT,","),10),!,HBHCZ
"RTN","HBHCRP23",23,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP23",24,0)
EXIT ; Exit module
"RTN","HBHCRP23",25,0)
 D ^%ZISC
"RTN","HBHCRP23",26,0)
 K HBHCADDT,HBHCBEG1,HBHCBEG2,HBHCCOLM,HBHCCC,HBHCCNT,HBHCCNT1,HBHCDATE,HBHCDFN,HBHCDPT0,HBHCDSDT,HBHCEND1,HBHCEND2,HBHCHDR,HBHCHEAD,HBHCLOS,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCTOT1,HBHCY,HBHCZ,X,X1,X2
"RTN","HBHCRP23",27,0)
 K Y,^TMP("HBHC",$J)
"RTN","HBHCRP23",28,0)
 Q
"RTN","HBHCRP23",29,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP23",30,0)
 S HBHCDSDT=$P(HBHCNOD0,U,40)
"RTN","HBHCRP23",31,0)
 ; Add 1 to ending date to handle date range being inclusive
"RTN","HBHCRP23",32,0)
 S X1=HBHCEND1,X2=1 D C^%DTC S HBHCDATE=X
"RTN","HBHCRP23",33,0)
 ; '> below handles Discharge Date being same as date range beginning date
"RTN","HBHCRP23",34,0)
 I HBHCDSDT]"" Q:(HBHCDSDT'>HBHCBEG1)  I HBHCEND1>HBHCDSDT S HBHCDATE=HBHCDSDT
"RTN","HBHCRP23",35,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0),HBHCLOS="",HBHCCNT=HBHCCNT+1
"RTN","HBHCRP23",36,0)
 S HBHCDAT=$S(HBHCADDT>HBHCBEG1:HBHCADDT,1:HBHCBEG1)
"RTN","HBHCRP23",37,0)
 S X1=HBHCDATE,X2=HBHCDAT
"RTN","HBHCRP23",38,0)
 D ^%DTC S HBHCLOS=X
"RTN","HBHCRP23",39,0)
 ; handles Admission Date being same as date range ending date, OR Adm & D/C dates being equal
"RTN","HBHCRP23",40,0)
 S:HBHCLOS=0 HBHCLOS=1
"RTN","HBHCRP23",41,0)
 S HBHCTOT=HBHCTOT+HBHCLOS
"RTN","HBHCRP23",42,0)
 ; '> below handles counting as complete episode of care ONLY if Discharge Date is within date range
"RTN","HBHCRP23",43,0)
 S:(HBHCDSDT]"")&(HBHCDSDT'>HBHCEND1) HBHCCNT1=HBHCCNT1+1,HBHCTOT1=HBHCTOT1+HBHCLOS
"RTN","HBHCRP23",44,0)
 S HBHCDSDT=$S(HBHCDSDT]"":$E(HBHCDSDT,4,5)_"-"_$E(HBHCDSDT,6,7)_"-"_$E(HBHCDSDT,2,3),1:"")
"RTN","HBHCRP23",45,0)
 S ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCADDT)=$E($P(HBHCDPT0,U,9),1,3)_"-"_$E($P(HBHCDPT0,U,9),4,5)_"-"_$E($P(HBHCDPT0,U,9),6,9)_U_HBHCDSDT_U_HBHCLOS_U_HBHCDFN
"RTN","HBHCRP23",46,0)
 Q
"RTN","HBHCRP23",47,0)
PRTLOOP ; Print loop
"RTN","HBHCRP23",48,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCADDT="" F  S HBHCADDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCADDT)) Q:HBHCADDT=""  D PRINT
"RTN","HBHCRP23",49,0)
 Q
"RTN","HBHCRP23",50,0)
PRINT ; Print report
"RTN","HBHCRP23",51,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP23",52,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCADDT)
"RTN","HBHCRP23",53,0)
 I $P(HBHCTMP,U,3)>0 W !,$J("`"_$P(HBHCTMP,U,4),5)_"  "_$E(HBHCNAME,1,24),?34,$P(HBHCTMP,U),?50,$E(HBHCADDT,4,5)_"-"_$E(HBHCADDT,6,7)_"-"_$E(HBHCADDT,2,3),?63,$P(HBHCTMP,U,2),?76,$J($P(HBHCTMP,U,3),4),!,HBHCY
"RTN","HBHCRP23",54,0)
 Q
"RTN","HBHCRP24")
0^9^B17845685
"RTN","HBHCRP24",1,0)
HBHCRP24 ; LR VAMC(IRMS)/MJT-HBHC report on file 631, All active (admitted but not D/C) cases by date range, sorted by patient name, includes: patient name, last 4, date, case manager, most recent visit date, visit discipline, & total ; Sep 03
"RTN","HBHCRP24",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**21**;NOV 01, 1993
"RTN","HBHCRP24",3,0)
 D START^HBHCUTL
"RTN","HBHCRP24",4,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP24",5,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP24",6,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP24",ZTDESC="HBPC Expanded Program Census Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP24",7,0)
DQ ; De-queue
"RTN","HBHCRP24",8,0)
 U IO
"RTN","HBHCRP24",9,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP24",10,0)
 S HBHCTOT=0,$P(HBHCY,"-",81)=""
"RTN","HBHCRP24",11,0)
 S HBHCHEAD="Expanded Program Census",HBHCHDR="W !,?16,""Last"",?23,""Admission"",?38,""Case"",?49,""Most Recent"",?70,""Visit"",!,""Patient Name"",?16,""Four"",?23,""Date"",?38,""Manager"",?49,""Visit Date/Time"",?70,""Discipline"""
"RTN","HBHCRP24",12,0)
 S HBHCCOLM=(80-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP24",13,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDRRANGE^HBHCUTL
"RTN","HBHCRP24",14,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDRRANGE^HBHCUTL
"RTN","HBHCRP24",15,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) cross-ref to build report
"RTN","HBHCRP24",16,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCADDT=X
"RTN","HBHCRP24",17,0)
 F  S HBHCADDT=$O(^HBHC(631,"AD",HBHCADDT)) Q:(HBHCADDT="")!(HBHCADDT>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AD",HBHCADDT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP24",18,0)
 W:'$D(^TMP("HBHC",$J)) !!,"No data found for Date Range selected."
"RTN","HBHCRP24",19,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP W !!,HBHCZ,!,"Program Census Total: ",HBHCTOT,!,HBHCZ
"RTN","HBHCRP24",20,0)
 D ENDRPT^HBHCUTL1
"RTN","HBHCRP24",21,0)
EXIT ; Exit module
"RTN","HBHCRP24",22,0)
 D ^%ZISC
"RTN","HBHCRP24",23,0)
 K HBHCADDT,HBHCBEG1,HBHCBEG2,HBHCCASE,HBHCCOLM,HBHCCC,HBHCDAT,HBHCDATE,HBHCDFN,HBHCDISC,HBHCDPT,HBHCDPT0,HBHCEND1,HBHCEND2,HBHCHDR,HBHCHEAD,HBHCI,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCSTOP,HBHCTDY,HBHCTMP,HBHCTOT,HBHCY,HBHCZ,X,X1,X2,Y,^TMP("HBHC",$J)
"RTN","HBHCRP24",24,0)
 Q
"RTN","HBHCRP24",25,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP24",26,0)
 Q:($P(HBHCNOD0,U,40)]"")&($P(HBHCNOD0,U,40)<HBHCEND1)
"RTN","HBHCRP24",27,0)
 S HBHCDPT=$P(HBHCNOD0,U),HBHCDPT0=^DPT(HBHCDPT,0),(HBHCCASE,HBHCDAT,HBHCDATE)=""
"RTN","HBHCRP24",28,0)
 S HBHCNOD1=$G(^HBHC(631,HBHCDFN,1)) S:$P(HBHCNOD1,U,13)]"" HBHCCASE=$P(^VA(200,$P(^HBHC(631.4,$P(HBHCNOD1,U,13),0),U,2),0),U)
"RTN","HBHCRP24",29,0)
 S HBHCI=0 F  S HBHCI=$O(^HBHC(632,"B",HBHCDPT,HBHCI)) Q:HBHCI'>0  S:$P(^HBHC(632,HBHCI,0),U,2)>HBHCDAT HBHCDATE=$P(^HBHC(632,HBHCI,0),U,2)_U_HBHCI S HBHCDAT=$P(^HBHC(632,HBHCI,0),U,2)
"RTN","HBHCRP24",30,0)
 S HBHCSTOP=$P(^DIC(40.7,$P(^SC($P(^HBHC(632,$P(HBHCDATE,U,2),0),U,3),0),U,7),0),U,2)
"RTN","HBHCRP24",31,0)
 S HBHCDISC=$S(HBHCSTOP=170:"Physician",HBHCSTOP=171:"RN/RNP/PA",HBHCSTOP=172:"Nurse Ext",HBHCSTOP=173:"Soc Worker",HBHCSTOP=174:"Therapist",HBHCSTOP=175:"Dietician",HBHCSTOP=176:"Pharmacist",HBHCSTOP=177:"Other",HBHCSTOP=178:"Phone",1:"")
"RTN","HBHCRP24",32,0)
 S ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCADDT)=$E($P(HBHCDPT0,U,9),6,9)_U_HBHCCASE_U_$P(HBHCDATE,U)_U_HBHCDISC
"RTN","HBHCRP24",33,0)
 Q
"RTN","HBHCRP24",34,0)
PRTLOOP ; Print loop
"RTN","HBHCRP24",35,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCADDT="" F  S HBHCADDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCADDT)) Q:HBHCADDT=""  D PRINT
"RTN","HBHCRP24",36,0)
 Q
"RTN","HBHCRP24",37,0)
PRINT ; Print report
"RTN","HBHCRP24",38,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDRRANGE^HBHCUTL
"RTN","HBHCRP24",39,0)
 S Y=HBHCADDT D DD^%DT S HBHCDAT=Y
"RTN","HBHCRP24",40,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCADDT)
"RTN","HBHCRP24",41,0)
 S Y=$P(HBHCTMP,U,3) D DD^%DT
"RTN","HBHCRP24",42,0)
 W !,$E(HBHCNAME,1,14),?16,$P(HBHCTMP,U),?23,HBHCDAT,?38,$S(($L($P($P(HBHCTMP,U,2),","))>8):$E($P(HBHCTMP,U,2),1,8),1:$P($P(HBHCTMP,U,2),",")),?49,$E(Y,1,18),?70,$P(HBHCTMP,U,4),!,HBHCY
"RTN","HBHCRP24",43,0)
 S HBHCTOT=HBHCTOT+1
"RTN","HBHCRP24",44,0)
 Q
"RTN","HBHCRP25")
0^10^B21320242
"RTN","HBHCRP25",1,0)
HBHCRP25 ; LR VAMC(IRMS)/MJT-HBHC report on file 631, All active (admitted but not D/C) cases by date range, sorted by patient name, includes: patient name, last 4, date, address, city, ZIP code, phone, case manager & total ; Sep 03
"RTN","HBHCRP25",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**21**;NOV 01, 1993
"RTN","HBHCRP25",3,0)
 D START^HBHCUTL
"RTN","HBHCRP25",4,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP25",5,0)
 S %ZIS="Q",HBHCCC=0 K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP25",6,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP25",ZTDESC="HBPC Address Included Program Census Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP25",7,0)
DQ ; De-queue
"RTN","HBHCRP25",8,0)
 U IO
"RTN","HBHCRP25",9,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP25",10,0)
 S HBHCTOT=0,$P(HBHCY,"-",133)="",$P(HBHCZ,"=",133)="",HBHCHEAD="Address Included Program Census",HBHCCOLM=(132-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP25",11,0)
 S HBHCHDR="W !,?20,""Last"",?29,""Admission"",?124,""Case"",!,""Patient Name"",?20,""Four"",?29,""Date"",?41,""Street Address"",?74,""City"",?94,""ZIP Code"",?108,""Phone"",?124,""Manager"""
"RTN","HBHCRP25",12,0)
 D TODAY^HBHCUTL D:IO'=IO(0)!($D(IO("S"))) HDR132^HBHCUTL
"RTN","HBHCRP25",13,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDR132^HBHCUTL
"RTN","HBHCRP25",14,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) cross-ref to build report
"RTN","HBHCRP25",15,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCADDT=X
"RTN","HBHCRP25",16,0)
 F  S HBHCADDT=$O(^HBHC(631,"AD",HBHCADDT)) Q:(HBHCADDT="")!(HBHCADDT>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,"AD",HBHCADDT,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP25",17,0)
 W:'$D(^TMP("HBHC",$J)) !!,"No data found for Date Range selected."
"RTN","HBHCRP25",18,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP W !!,HBHCZ,!,"Program Census Total: ",HBHCTOT,!,HBHCZ
"RTN","HBHCRP25",19,0)
 D END132^HBHCUTL1
"RTN","HBHCRP25",20,0)
EXIT ; Exit module
"RTN","HBHCRP25",21,0)
 D ^%ZISC
"RTN","HBHCRP25",22,0)
 K HBHCADDT,HBHCBEG1,HBHCBEG2,HBHCCASE,HBHCCOLM,HBHCCC,HBHCDAT,HBHCDATE,HBHCDFN,HBHCDISC,HBHCDPT,HBHCDPTA,HBHCDPT0,HBHCEND1,HBHCEND2,HBHCHDR,HBHCHEAD,HBHCI,HBHCNAME,HBHCNOD0,HBHCNOD1,HBHCPAGE,HBHCPHON,HBHCSTOP,HBHCTDY,HBHCTMP
"RTN","HBHCRP25",23,0)
 K HBHCTOT,HBHCY,HBHCZ,HBHCZIP,X,X1,X2,Y,^TMP("HBHC",$J)
"RTN","HBHCRP25",24,0)
 Q
"RTN","HBHCRP25",25,0)
PROCESS ; Process record & build ^TMP("HBHC",$J) global
"RTN","HBHCRP25",26,0)
 Q:($P(HBHCNOD0,U,40)]"")&($P(HBHCNOD0,U,40)<HBHCEND1)
"RTN","HBHCRP25",27,0)
 S HBHCNOD1=$G(^HBHC(631,HBHCDFN,1)),HBHCCASE="" S:$P(HBHCNOD1,U,13)]"" HBHCCASE=$P(^VA(200,$P(^HBHC(631.4,$P(HBHCNOD1,U,13),0),U,2),0),U)
"RTN","HBHCRP25",28,0)
 S HBHCDPT=$P(HBHCNOD0,U),HBHCDPT0=^DPT(HBHCDPT,0),HBHCDPTA=$G(^DPT($P(HBHCNOD0,U),.11))
"RTN","HBHCRP25",29,0)
 S HBHCZIP=$S(($P(HBHCDPTA,U,12)]""):$E($P(HBHCDPTA,U,12),1,5)_$S($E($P(HBHCDPTA,U,12),6,9)]"":"-"_$E($P(HBHCDPTA,U,12),6,9),1:""),1:$E($P(HBHCDPTA,U,6),1,5)_$S($E($P(HBHCDPTA,U,6),6,9)]"":"-"_$E($P(HBHCDPTA,U,6),6,9),1:""))
"RTN","HBHCRP25",30,0)
 S HBHCPHON=$P($G(^DPT($P(HBHCNOD0,U),.13)),U)
"RTN","HBHCRP25",31,0)
 ; Remove alpha characters, (, ), -, & blanks from phone number
"RTN","HBHCRP25",32,0)
 S HBHCPHON=$TR(HBHCPHON,"("),HBHCPHON=$TR(HBHCPHON,")"),HBHCPHON=$TR(HBHCPHON,"-"),HBHCPHON=$TR(HBHCPHON," "),HBHCPHON=$TR(HBHCPHON,"ABCEDFGHIJKLMNOPQRSTUVWXYZ"),HBHCPHON=$TR(HBHCPHON,"abcdefghijklmnopqrstuvwxyz")
"RTN","HBHCRP25",33,0)
 S:$L(HBHCPHON>10) HBHCPHON=$E(HBHCPHON,1,10)
"RTN","HBHCRP25",34,0)
 S:HBHCPHON?7N HBHCPHON=$E(HBHCPHON,1,3)_"-"_$E(HBHCPHON,4,7) S:HBHCPHON?10N HBHCPHON="("_$E(HBHCPHON,1,3)_") "_$E(HBHCPHON,4,6)_"-"_$E(HBHCPHON,7,10)
"RTN","HBHCRP25",35,0)
 S ^TMP("HBHC",$J,$P(HBHCDPT0,U),$E(HBHCADDT,4,5)_"-"_$E(HBHCADDT,6,7)_"-"_$E(HBHCADDT,2,3))=$E($P(HBHCDPT0,U,9),6,9)_U_$P(HBHCDPTA,U)_U_$P(HBHCDPTA,U,2)_U_$P(HBHCDPTA,U,3)_U_$E($P(HBHCDPTA,U,4),1,15)_U_HBHCZIP_U_HBHCPHON_U_HBHCCASE
"RTN","HBHCRP25",36,0)
 Q
"RTN","HBHCRP25",37,0)
PRTLOOP ; Print loop
"RTN","HBHCRP25",38,0)
 S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCADDT="" F  S HBHCADDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCADDT)) Q:HBHCADDT=""  D PRINT
"RTN","HBHCRP25",39,0)
 Q
"RTN","HBHCRP25",40,0)
PRINT ; Print report
"RTN","HBHCRP25",41,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDR132^HBHCUTL
"RTN","HBHCRP25",42,0)
 S HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCADDT)
"RTN","HBHCRP25",43,0)
 W !,$E(HBHCNAME,1,17),?20,$P(HBHCTMP,U),?29,HBHCADDT,?41,$P(HBHCTMP,U,2),?74,$P(HBHCTMP,U,5),?94,$P(HBHCTMP,U,6),?108,$P(HBHCTMP,U,7),?124,$S(($L($P($P(HBHCTMP,U,8),","))>8):$E($P(HBHCTMP,U,8),1,8),1:$P($P(HBHCTMP,U,8),","))
"RTN","HBHCRP25",44,0)
 W:$P(HBHCTMP,U,3)]"" !?41,$P(HBHCTMP,U,3)
"RTN","HBHCRP25",45,0)
 W:$P(HBHCTMP,U,4)]"" !?41,$P(HBHCTMP,U,4)
"RTN","HBHCRP25",46,0)
 W !,HBHCY
"RTN","HBHCRP25",47,0)
 S HBHCTOT=HBHCTOT+1
"RTN","HBHCRP25",48,0)
 Q
"RTN","HBHCRP7")
0^7^B21865582
"RTN","HBHCRP7",1,0)
HBHCRP7 ; LR VAMC(IRMS)/MJT-HBHC report on file 631, user selects: adm or D/C by date range, & sort alphabetic by patient or date of adm or D/C; includes adm/D/C date, patient name, SSN, & primary diagnosis @ adm/D/C (code & text) ; May 2003 
"RTN","HBHCRP7",2,0)
 ;;1.0;HOSPITAL BASED HOME CARE;**5,6,21**;NOV 01, 1993
"RTN","HBHCRP7",3,0)
 S DIR(0)="SB^A:Admissions;D:Discharges;",DIR("A")="Select Admissions or Discharges",DIR("?")="Enter 'A' to include Admissions on the report, 'D' to choose Discharges." D ^DIR
"RTN","HBHCRP7",4,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCRP7",5,0)
 S HBHCTYPS=Y(0),HBHCTYP=$E(Y(0),1,9),HBHCXREF=$S(Y="A":"AD",1:"AC"),HBHCDXPC=$S(Y="A":19,1:47),HBHCCC=0
"RTN","HBHCRP7",6,0)
 ; Prompt user for sort preference: alphabetical by patient or date of admission or D/C
"RTN","HBHCRP7",7,0)
 K DIR S DIR(0)="SB^A:Alphabetical;D:Date of Admission or D/C",DIR("A")="Sort Alphabetically by Patient or by Date",DIR("?")="Sort report alphabetically by patient (A), or by date of admission or D/C (D)." D ^DIR
"RTN","HBHCRP7",8,0)
 G:$D(DIRUT) EXIT
"RTN","HBHCRP7",9,0)
 ; HBHCFLG exists if alphabetic sort selected
"RTN","HBHCRP7",10,0)
 S:Y="A" HBHCFLG=1
"RTN","HBHCRP7",11,0)
 D START^HBHCUTL
"RTN","HBHCRP7",12,0)
 G:(HBHCBEG1=-1)!(HBHCEND1=-1) EXIT
"RTN","HBHCRP7",13,0)
 S %ZIS="Q" K IOP,ZTIO,ZTSAVE D ^%ZIS G:POP EXIT
"RTN","HBHCRP7",14,0)
 I $D(IO("Q")) S ZTRTN="DQ^HBHCRP7",ZTDESC="HBPC "_HBHCTYP_"Alphabetic Date Range Report",ZTSAVE("HBHC*")="" D ^%ZTLOAD G EXIT
"RTN","HBHCRP7",15,0)
DQ ; De-queue
"RTN","HBHCRP7",16,0)
 U IO
"RTN","HBHCRP7",17,0)
 K ^TMP("HBHC",$J)
"RTN","HBHCRP7",18,0)
 S $P(HBHCY,"-",133)="",$P(HBHCZ,"=",133)=""
"RTN","HBHCRP7",19,0)
 S:'$D(HBHCFLG) HBHCHEAD=HBHCTYPS_" by Date Range, Date Range Sort"
"RTN","HBHCRP7",20,0)
 S:$D(HBHCFLG) HBHCHEAD=HBHCTYPS_" by Date Range, Alphabetic Sort"
"RTN","HBHCRP7",21,0)
 S:'$D(HBHCFLG) HBHCHDR="W HBHCTYP_"" Date"",?19,""Patient Name"",?60,""SSN"",?82,""ICD9 Code"",?100,""Diagnosis Text"""
"RTN","HBHCRP7",22,0)
 S:$D(HBHCFLG) HBHCHDR="W ""Patient Name"",?38,HBHCTYP_"" Date"",?60,""SSN"",?82,""ICD9 Code"",?100,""Diagnosis Text"""
"RTN","HBHCRP7",23,0)
 S HBHCCOLM=(132-(30+$L(HBHCHEAD))\2) S:HBHCCOLM'>0 HBHCCOLM=1
"RTN","HBHCRP7",24,0)
 D TODAY^HBHCUTL
"RTN","HBHCRP7",25,0)
LOOP ; Loop thru ^HBHC(631) "AD" (admission date) or "AC" (discharge date) cross-ref to build report
"RTN","HBHCRP7",26,0)
 S X1=HBHCBEG1,X2=-1 D C^%DTC S HBHCDATE=X
"RTN","HBHCRP7",27,0)
 F  S HBHCDATE=$O(^HBHC(631,HBHCXREF,HBHCDATE)) Q:(HBHCDATE="")!(HBHCDATE>HBHCEND1)  S HBHCDFN="" F  S HBHCDFN=$O(^HBHC(631,HBHCXREF,HBHCDATE,HBHCDFN)) Q:HBHCDFN=""  S HBHCNOD0=^HBHC(631,HBHCDFN,0) D:$P(HBHCNOD0,U,15)=1 PROCESS
"RTN","HBHCRP7",28,0)
 D:IO'=IO(0)!($D(IO("S"))) HDR132^HBHCUTL
"RTN","HBHCRP7",29,0)
 I '$D(IO("S")),(IO=IO(0)) S HBHCCC=HBHCCC+1 D HDR132^HBHCUTL
"RTN","HBHCRP7",30,0)
 W:'$D(^TMP("HBHC",$J)) !!,"No "_HBHCTYPS_" found for Date Range selected."
"RTN","HBHCRP7",31,0)
 I $D(^TMP("HBHC",$J)) D PRTLOOP W !!,HBHCZ,!,"Total "_HBHCTYPS_": ",HBHCTOT,!,HBHCZ
"RTN","HBHCRP7",32,0)
 D END132^HBHCUTL1
"RTN","HBHCRP7",33,0)
EXIT ; Exit module
"RTN","HBHCRP7",34,0)
 D ^%ZISC
"RTN","HBHCRP7",35,0)
 K DIR,DIRUT,HBHCBEG1,HBHCBEG2,HBHCCOLM,HBHCCC,HBHCDATE,HBHCDFN,HBHCDPT0,HBHCDT,HBHCDXPC,HBHCEND1,HBHCEND2,HBHCFLG,HBHCHDR,HBHCHEAD,HBHCICD0,HBHCNAME,HBHCNOD0,HBHCPAGE,HBHCTDY,HBHCTMP,HBHCTOT,HBHCTYP,HBHCTYPS,HBHCXREF,HBHCY,HBHCZ
"RTN","HBHCRP7",36,0)
 K X,X1,X2,Y,^TMP("HBHC",$J)
"RTN","HBHCRP7",37,0)
 Q
"RTN","HBHCRP7",38,0)
PROCESS ; Process record & create ^TMP("HBHC",$J global
"RTN","HBHCRP7",39,0)
 S HBHCDPT0=^DPT($P(HBHCNOD0,U),0),HBHCICD0=$S($P(HBHCNOD0,U,HBHCDXPC)]"":^ICD9($P(HBHCNOD0,U,HBHCDXPC),0),1:"")
"RTN","HBHCRP7",40,0)
 S:'$D(HBHCFLG) ^TMP("HBHC",$J,HBHCDATE,$P(HBHCDPT0,U))=$E($P(HBHCDPT0,U,9),1,3)_"-"_$E($P(HBHCDPT0,U,9),4,5)_"-"_$E($P(HBHCDPT0,U,9),6,9)_U_$P(HBHCICD0,U)_U_$P(HBHCICD0,U,3)
"RTN","HBHCRP7",41,0)
 S:$D(HBHCFLG) ^TMP("HBHC",$J,$P(HBHCDPT0,U),HBHCDATE)=$E($P(HBHCDPT0,U,9),1,3)_"-"_$E($P(HBHCDPT0,U,9),4,5)_"-"_$E($P(HBHCDPT0,U,9),6,9)_U_$P(HBHCICD0,U)_U_$P(HBHCICD0,U,3)
"RTN","HBHCRP7",42,0)
 Q
"RTN","HBHCRP7",43,0)
PRTLOOP ; Print loop
"RTN","HBHCRP7",44,0)
 S HBHCTOT=0
"RTN","HBHCRP7",45,0)
 I '$D(HBHCFLG) S HBHCDT="" F  S HBHCDT=$O(^TMP("HBHC",$J,HBHCDT)) Q:HBHCDT=""  S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCDT,HBHCNAME)) Q:HBHCNAME=""  D PRT
"RTN","HBHCRP7",46,0)
 I $D(HBHCFLG) S HBHCNAME="" F  S HBHCNAME=$O(^TMP("HBHC",$J,HBHCNAME)) Q:HBHCNAME=""  S HBHCDT="" F  S HBHCDT=$O(^TMP("HBHC",$J,HBHCNAME,HBHCDT)) Q:HBHCDT=""  D PRT
"RTN","HBHCRP7",47,0)
 Q
"RTN","HBHCRP7",48,0)
PRT ; Print report
"RTN","HBHCRP7",49,0)
 I ($D(ZTRTN)!(HBHCCC=0))&((IOSL-$Y)<5) W @IOF D HDR132^HBHCUTL
"RTN","HBHCRP7",50,0)
 S HBHCTOT=HBHCTOT+1
"RTN","HBHCRP7",51,0)
 S:'$D(HBHCFLG) HBHCTMP=^TMP("HBHC",$J,HBHCDT,HBHCNAME)
"RTN","HBHCRP7",52,0)
 S:$D(HBHCFLG) HBHCTMP=^TMP("HBHC",$J,HBHCNAME,HBHCDT)
"RTN","HBHCRP7",53,0)
 W:'$D(HBHCFLG) !,$E(HBHCDT,4,5)_"-"_$E(HBHCDT,6,7)_"-"_$E(HBHCDT,2,3),?19,HBHCNAME,?60,$P(HBHCTMP,U),?82,$P(HBHCTMP,U,2),?100,$P(HBHCTMP,U,3),!,HBHCY
"RTN","HBHCRP7",54,0)
 W:$D(HBHCFLG) !,HBHCNAME,?38,$E(HBHCDT,4,5)_"-"_$E(HBHCDT,6,7)_"-"_$E(HBHCDT,2,3),?60,$P(HBHCTMP,U),?82,$P(HBHCTMP,U,2),?100,$P(HBHCTMP,U,3),!,HBHCY
"RTN","HBHCRP7",55,0)
 Q
"VER")
8.0^22.0
**END**
**END**
