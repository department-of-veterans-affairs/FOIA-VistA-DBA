$TXT Created by WANG,CHI at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 07/23/03 at 12:51
=============================================================================
Run Date: JUL 24, 2003                     Designation: PRCN*1*12
Package : PRCN - EQUIPMENT/TURN-IN REQUEST    Priority: Mandatory
Version : 1        SEQ #11                      Status: Released
                  Compliance Date: AUG 24, 2003
=============================================================================

Associated patches: (v)PRCN*1*1    <<= must be installed BEFORE `PRCN*1*12'
                    (v)PRCN*1*11   <<= must be installed BEFORE `PRCN*1*12'

Subject: PROBLEM WITH ENTERING AN EQUIPMENT REQUEST

Category: 
  - Routine

Description: 
============

 This patch addresses 3 issues. The first issue is when using the option
 Enter New Equipment Requests [PRCN NX NEW], only one replacement item 
 is saved to the record even when a user adds more than one. The second 
 issue is an undefined error occurring when a user edited the replacement
 information and then returned to the LINE ITEM NUMBER prompt. The third
 issue concerns an undefined error occurring when requests are processed
 in the option Create 2237 (PPM) [PRCN NX PPM 2237].
  
 ASSOCIATED E3R(s):
 ------------------ 
 N/A
  
 ASSOCIATED NOIS:
 ----------------
 1. NAS-0598-31587   Problem with entering an equip request
    Duplicate:
    FNC-0699-32153   Equipment Request/Turn-in Module not working
 2. LEX-0203-41613   ITEMS NOT TRANSFERRING FROM EQUIP/TURN-IN
  
 PARTICIPATING TEST SITES:
 -------------------------
 Feyetteville, NC
 Charleston, SC
  
  
  
 NOIS/PROBLEM OVERVIEW
 -------------
  
 1. NAS-0598-31587   Problem with entering an equip request
  
    Problem:
    --------
    Site reported that when using the option Enter New Equipment
    Request [PRCN NX NEW]and entering more than one line item, only 
    the replacement item information from the last line item was saved
    to the record even though he entered replacement information for 
    all the line items. The problem can be seen when the record is 
    reviewed using either the option Display/Print Equipment Requests
    (Requestor) [PRCN NX DISPLAY], or using a FileMan Inquiry to the
    Turn In Request file (File 413.1).
     
    Resolution:
    -----------
    Modified routines PRCNREQE and PRCNREQN so that the replacement 
    information is not overwritten in the database and it displays
    on the report correctly.
  
 2. A problem discovered by the developer
  
    Problem: 
    --------
    An undefined error was occurring at MR^DIE:1 when editing the replacement
    information and then returned to the LINE ITEM NUMBER prompt. If a new 
    line item is entered at the prompt, the error occurs.
  
    Resolution:
    -----------
    The variable is newed in the routine to avoid the undefined error.
  
 3. LEX-0203-41613   ITEMS NOT TRANSFERRING FROM EQUIP/TURN-IN
  
    Problem:
    --------
    A site reported that an error was occurring at L2+4^PRCN2237:1.
    when the request was processed under the option Create 2237 (PPM) [PRCN
    NX PPM 2237]. If a line item is deleted after the request has
    been created and the line item numbers left on the request are not in
    sequence, an error occurs.
  
    Resolution:
    -----------
    Modified routine PRCN2237 to handle the line item numbers left on the
    request if they are out of order so a user will no longer receive the
    undefined error.
    
  
 ROUTINE SUMMARY 
 ---------------
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like:
  
   <tab>;;1.0;Equipment/Turn-In Request;**[patch list]**;Sep 13, 1996
  
                      CHECK^XTSUMBLD results
  
   Routine Name     Before Patch     After Patch     Patch List 
   ------------     ------------     -----------     ----------
   PRCNREQN           7000664          6988699         1,12                  
   PRCNREQE           4670449          4688107         3,11,12
   PRCN2237           7934919          8049313         3,11,12
  
   Total number of routines = 3
   
 INSTALLATION INSTRUCTIONS
 =========================
 This patch can be loaded with users in the system.  Installation time
 will be less than 5 minutes.
     
  1.   Choose the PackMan message containing this patch and invoke the 
       INSTALL/CHECK MESSAGE PackMan option.  
              
  2.   (DSM for Open VMS sites only) Disable routine mapping on all systems
       for the routines listed in the Routine Summary.  
   
       NOTE:  If the routines included in this patch are not currently in 
       your mapped routine set, please skip this step.
   
  3.   Start up the Kernel Installation and Distribution System Menu 
       [XPD MAIN]: 
     
            Edits and Distribution ...  
            Utilities ...  
            Installation ...  
     
    Select Kernel Installation & Distribution System Option: INStallation 
                                                             ---
            1      Load a Distribution
            2      Verify Checksums in Transport Global
            3      Print Transport Global
            4      Compare Transport Global to Current System
            5      Backup a Transport Global
            6      Install Package(s)
                   Restart Install of Package(s)
                   Unload a Distribution
      
    Select Installation Option: 
     
  4.   From this menu, you may elect to use the following options
       (When prompted for the INSTALL NAME, enter PRCN*1.0*12):
       
       a.  Backup a Transport Global - This option will create a backup
           message of any routines exported with this patch. It will not
           backup any other changes such as DD's or templates.
       b.  Compare Transport Global to Current System - This option will
           allow you to view all changes that will be made when this patch
           is installed. It compares all components of this patch
           (routines, DD's, templates, etc.).
       c.  Verify Checksums in Transport Global - This option will allow
           you to ensure the integrity of the routines that are in the
           transport global.
  
  5.   Use the Install Package(s) option and select the package
       PRCN*1.0*12.
  
       a. When prompted 'Want KIDS to INHIBIT LOGONs during the
          install? YES//', answer NO.
       b. When prompted 'Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//', answer YES.
       c. When prompted 'Enter options you wish to mark as 'Out Of Order':',
          enter the following options:
    
          Enter New Equipment Request     [PRCN NX NEW]
          Edit Equipment Request          [PRCN NX EDIT]
          Create 2237 (PPM)               [PRCN NX PPM 2237]
  
       d. When prompted 'Enter protocols you wish to mark as 'Out Of Order':'
          ,press <return>.
   
  6.   (DSM for Open VMS sites only) Optional - Include the routines
       distributed with this patch in the mapped routine set.
  
       NOTE: This step is only necessary if you performed step 2 or if
       you wish to include the routines in your mapped set.

Routine Information:
====================

Routine Name:
  - PRCN2237


Routine Checksum:

Routine Name:
  - PRCNREQE


Routine Checksum:

Routine Name:
  - PRCNREQN


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : WANG,CHI                       Date Entered : FEB 25, 2003
Completed By: PEREZ,CAROL                   Date Completed: JUL 24, 2003
Released By : HUTCHINSON,PATRICIA ANN      Date Released : JUL 24, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
