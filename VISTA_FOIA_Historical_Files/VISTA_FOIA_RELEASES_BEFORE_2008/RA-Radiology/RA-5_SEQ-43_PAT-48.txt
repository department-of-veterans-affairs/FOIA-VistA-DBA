$TXT Created by MO,SELINA at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Friday, 07/16/04 at 10:23
=============================================================================
Run Date: SEP 27, 2004                     Designation: RA*5*48
Package : RA - RADIOLOGY/NUCLEAR MEDICINE     Priority: Mandatory
Version : 5        SEQ #43                      Status: Released
                  Compliance Date: OCT 28, 2004
=============================================================================

Associated patches: (v)RA*5*27     <<= must be installed BEFORE `RA*5*48'
                    (v)RA*5*44     <<= must be installed BEFORE `RA*5*48'

Subject: Miscellaneous -- duplicate alerts

Category: 
  - Routine

Description:
============

  
 This is a maintenance patch for fixing bugs and providing minor 
 enhancements.
  
 1.  Routine RAHLO1 has been changed to prevent triggering the "Imaging
     Results" alert when draft and other non-verified reports are sent
     from a COTS application or Vista application that uses HL7 messaging 
     to upload reports.  Previously, when a draft report was uploaded from
     the TIU application via EN1^RAHLO, this routine called RAHLO1, which
     incorrectly triggered the "Imaging Results" alert.
  
     This routine has been changed again to exclude stub reports in 
     determining whether the report is being edited or not, when report
     data is being sent from a voice dictation system, like Talkstation.
     Previously, if a stub report exists (setup by the Imaging package upon
     capture of an image), the logic didn't update file 74 RAD/NUC MED
     REPORTS field 6 DATE REPORT ENTERED with the current system date and
     time, so that the transcription time in the Performance Indicator
     report showed the image capture date (no time) instead of the voice
     dictated date and time.
  
     Nois:
  
           UNY-0204-11504
           ALX-0604-70230
  
 2.  Routine RAPM has been changed to omit exams that have no credit
     from the 'Summary/Detail report' [RA PERFORMIN RPTS] option.
     Those exams were registered under an imaging location that had CREDIT 
     METHOD = "No Credit".  This is an enhancement request placed via
     NOIS.
     NOIS:  WRJ-0304-11347
  
 3.  Routine RAPM1 has been changed to avoid division by 0 from the task  
     that was scheduled via the 'Schedule Perf. Indic. Summary for 15th of 
     month' [RA PERFORMIN SCHEDULE] option.  This was noticed in the error
     trap of development systems that had no data for an entire previous
     month.
  
 4.  Routine RAPM2 has been changed to prevent an allocation error from 
     occurring in the 'Summary/Detail report' [RA PERFORMIN RPTS] option
     if the INSTITUTION file had extra fields added to it.  This 
     change reflects what has been locally modified at the site that
     reported this problem.
  
     NOIS:  ECH-0404-52023
  
 5.  Routine RAESR1 has been changed to prevent a null subscript error 
     from occurring in the 'Examination Statistics' [RA DAISTATS] option.
     This error was seen in the development system where there was no
     data for the specified date range.
  
 6.  Routine RASTEXT has been changed to prevent the header from scrolling
     off the screen if the listing of locations in the header requires more
     than 2 lines.  This error was seen in the development system where
     4 lines were required to display 10 locations in the header, so that
     the "Division", "Date", and "Status" in the header scrolled off the
     screen when either options were used:            
           Exam Status Display [RA STATLOOK]
           Status Tracking of Exams [RA STATRACK]
  
  
  
 -- Documentation --
    
      There are no documentation changes associated with this patch.
   
  
  
 -- Test Sites --
                                    Op.Sys. / M-Type 
                                    ----------------
    1.  VISN2                        VMS/DSM
    2.  Alexandria, LA               VMS/Cache
    3.  Birmingham, AL               VMS/DSM
    4.  San Antonio, TX              VMS/DSM
  
  
 The second line of the routine now looks like:
 ;;5.0;Radiology/Nuclear Medicine;**[Patch List]**;Mar 16, 1998
  
                        CHECK^XTSUMBLD results
 Name          Before Patch       After Patch       Patch List
 ----------------------------------------------------------------
 RAESR1           4346322          4369686     48
 RAHLO1          18985390         19898773     4,5,12,17,21,27,48
 RAPM            12128195         12241305     37,44,48
 RAPM1           23236936         23236936     37,44,48
 RAPM2           16734740         16755789     37,44,48
 RASTEXT         14672541         14778292     48
  
 INSTALLATION INSTRUCTIONS
 =========================
   The install time for this patch should take less than 5 minutes.  Since 
 the changes apply to a routine that may be used by Vista applications that
 invoke EN1^RAHLO, this patch must be installed when there are no Rad/Nuc
 Med users on the system.  Also, any HL7 link that invokes a RAHL* routine
 must be brought down before this patch can be installed, for example, a 
 TIU link that invokes routine RAHLO, or a Powerscribe link that invokes 
 routine RAHLTCPB.
  
  
   
  NOTE:  MailMan and Kernel patches must be current on the target system to
         avoid problems loading and installing this patch.
   
  1. If the above routines are mapped, disable mapping for them.
  
  2. Use the 'INSTALL/CHECK MESSAGE' option of your PackMan menu to load
     the KIDS distribution onto your system.
   
  3. On the 'Kernel Installation & Distribution System' Menu (KIDS), select
     the 'Installation' menu.
   
     From this menu you may choose the following options prior to
     installing this patch:
   
      a. Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch.  It will NOT
         backup any other changes such as data dictionaries or templates.
  
      b. Compare Transport Global to Current System - this option will
         allow you to view all changes that will be made when the patch is 
         installed.  It compares all components of the patch (routines,
         DDs, templates, etc.)
   
      c. Verify Checksums in Transport Global - this option will allow you
         to ensure the integrity of the routine that is in the transport
         global.
   
  4. Use the 'Install Package(s)' option under the 'Installation' menu.
        When prompted for INSTALL NAME, enter: RA*5.0*48.
   
        When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of 
        Install? YES//, respond NO if you don't want to rebuild menu trees
        now; otherwise, respond YES.
  
        When prompted "Want KIDS to INHIBIT LOGONs during the install?
        YES//", respond NO.
   
        When prompted "Want to DISABLE Scheduled Options and Menu Options?
        YES//", respond YES.      
  
        When prompted "Enter options you wish to mark
        as 'Out of Order':", enter the following to disable all Rad/Nuc Med
        options:
      
           RA*
   
        When prompted "Enter protocols you wish to mark as 'Out of
        Order':", enter the following to disable all Rad/Nuc Med protocols:
   
           RA*
   
     5. Verify that the patch installation completed correctly by using the
        KIDS 'Utilities...' [XPD UTILITY] option 'Install File Print' [XPD
        PRINT INSTALL FILE] and selecting this patch (RA*5.0*48).
  
     6. On a mapped system, rebuild your map set.

Routine Information:
====================

Routine Name:
  - RAHLO1


Routine Checksum:

Routine Name:
  - RAPM


Routine Checksum:

Routine Name:
  - RAPM1


Routine Checksum:

Routine Name:
  - RAPM2


Routine Checksum:

Routine Name:
  - RAESR1


Routine Checksum:

Routine Name:
  - RASTEXT


Routine Checksum:

=============================================================================
User Information:
Entered By  : MO,SELINA                     Date Entered  : MAR 25, 2004
Completed By: PATRICK,PAT                   Date Completed: SEP 23, 2004
Released By : THORNTON,NANCY                Date Released : SEP 27, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
