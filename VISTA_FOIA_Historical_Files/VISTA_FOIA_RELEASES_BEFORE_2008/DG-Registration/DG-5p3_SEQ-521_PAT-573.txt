$TXT Created by FISHER,BRAD at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 03/12/04 at 11:18
=============================================================================
Run Date: JUL 30, 2004                     Designation: DG*5.3*573
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #521                    Status: Released
                  Compliance Date: AUG 30, 2004
=============================================================================

Associated patches: (v)DG*5.3*111  <<= must be installed BEFORE `DG*5.3*573'
                    (v)DG*5.3*494  <<= must be installed BEFORE `DG*5.3*573'

Subject: ACCESS TO PAI, CHECK IN LODGER FIX, DELETING DUMMY REGISTRATION.

Category: 
  - Routine
  - Input Template

Description:
============

 This patch resolves problems with access to PAI, changed check-in 
 lodgers and an error deleting a dummy registration.
  
 ASSOCIATED NOIS:
 ================
 SAJ-0897-70830   RUG SUPERVISOR KEY REQUIRED
 CMO-1297-40806   Problem with editing CHECK-IN LODGER
 SBY-0601-30327   Error - <UNDEF(ECODE)>EN+48^VAFHCPV:3
  
  
 ASSOCIATED E3R(s):
 ==================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
  
 El Paso, TX
 New York Harbor, NY
 Fargo, ND 
 Salisbury, NC
  
 NOIS OVERVIEW:
 ==============
  
   1. SAJ-0897-70830  RUG SUPERVISOR KEY REQUIRED
      
      Problem:
      --------
  
      Users are unable to close a PAI or open a closed/transmitted PAI 
      without the DG RUG SUPERVISOR key.  DG RUG SUPERVISOR key holders 
      may access both hospital and Contract Nursing Home PAIs.  Non-key 
      holders may access hospital PAIs from the [DG RUG MENU], RUG-II Menu, 
      options and contract hospital PAIs from the [DG CNH RUG MENU], Contract 
      Nursing Home RUG Menu. 
  
      Resolution:
      -----------
  
      Routine DGRUGU1 was modified to allow non-key holders access to 
      hospital PAI records from the DG RUG MENU.
  
   2. CMO-1297-40806   Problem with editing CHECK-IN LODGER
  
      The Ward Location is not deleted from the Patient Movement file if 
      the Check-In Type is changed from Check-In Lodger to Check-in Lodger 
      (Other Facility).  Consequently, the patient appears on both a ward and 
      in another facility on the Current Lodger List.
      
      Resolution:
      -----------
    
      The DGPM CHECK-IN LODGER input template has been modified to correct
      this problem. 
  
   3. SBY-0601-30327 - An Error occurs while trying to delete a dummy    
      registration. Note: This may have been caused by the user timing
      out.
  
      Resolution:
      -----------
  
      Routine VAFHCPV will be modified to prevent this error.
  
 TECHNICAL:
 ==========
  
 SAJ-0897-70830 - The DG RUG SUPERVISOR key was hard coded into the 
 routine so when a user would try to select a list of patients, the list 
 would not appear. The code was modified in DGRUGU1 to prevent this from 
 happening
  
 CMO-1297-40806 - Input template [DGPM CHECK-IN LODGER] was modified to 
 prevent the above listed problem from occurring.
  
 SBY-0601-30327 - This application was designed to not send any error 
 messages if an error occurs while processing (see documentation in VDL).
 In this case we will not change the way the software functions, but rather 
 allow the software to complete without a processing error. The code will 
 be modified to make sure VAFILE is at least set to null, so when the post 
 conditional quit executes, the process will never fail
  
 ROUTINE SUMMARY:
 ================
  
 The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Aug 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DGRUGU1                3064577              3302111         89,111,573
  VAFHCPV                6909244              6956185       91,151,298,494
                                                                 573
  
 INSTALLATION INSTRUCTIONS:
 ===========================
  
 This patch may be run with users on the system, but it is recommended
 that it be queued to run after normal business hours to minimize the 
 impact on users of the Registration package. Installation will take 
 less than 5 minutes.
  
 1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
     the KIDS distribution included with this message.
  
 2.  Review your mapped set.  If any of the routines listed in the 
     ROUTINE section are mapped, they should be removed from the mapped
     set at this time.
  
 3.  From the Kernel Installation and Distribution System Menu, select
     the Installation menu.
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter DG*5.3*573):
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
     b.  Compare Transport Global to Current System  - this option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch (routines,
         DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are in
     d.  Print Transport Global - this option will allow you to view the
         components of the KIDS build.
  
 5.  Use the Install Package(s) option and select the package DG*5.3*573.
  
 6.  When prompted ' Want KIDS to INHIBIT LOGONs during the install?
     YES//', respond NO.
  
  7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond YES.  When prompted to select the options
      you would like to place out of order, enter:
  
      OPTIONS:
  
      Close a PAI Record [DG RUG CLOSE]
      Check-In Lodger [DGPM CHECK-IN]
  
 8.  If routines were unmapped as part of step 2, they should be returned
     to the mapped set once the installation has run to completion.

Routine Information:
====================

Routine Name:
  - DGRUGU1


Routine Checksum:

Routine Name:
  - VAFHCPV


Routine Checksum:

=============================================================================
User Information:
Entered By  : FISHER,BRAD                   Date Entered  : DEC 04, 2003
Completed By: BAUMAN,HELENE                 Date Completed: JUL 26, 2004
Released By : ALEXANDER,DIANNE              Date Released : JUL 30, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
