$TXT Created by PAJERSKI,JAN at DEVVCC.ISC-ALBANY.VA.GOV  (KIDS) on FRIDAY, 04/23/99 at 18:16
=============================================================================
Run Date: MAY 04, 1999                     Designation: ECX*3*23
Package : ECX - DSS EXTRACTS                  Priority: Mandatory
Version : 3        SEQ #22                      Status: Released
=============================================================================

Associated patches: (v)ECX*3*14    <<= must be installed BEFORE `ECX*3*23'

Subject: SITE ADJUSTABLE TRANSMISSION MESSAGE

Category: 
  - Data Dictionary
  - Routine
  - Other
  - Enhancement (Mandatory)

Description: 
============

   ********************* IMPORTANT NOTE *************************** 
    
   This patch ONLY applies to DSS sites that have installed DSS 
   EXTRACTS V3.0 (dated DEC 22,1997 on the second line of routines)  
   and are generating extracts for FY1999 data.
   
   Please insure that the DSS Site Manager obtains a copy of this
   patch description.
   
   ****************************************************************
    
   Patch ECX*3*23 resolves NOIS TAM-0399-30282, which reports a reject
   of the FY1999 PRE extract by AAC because of excessive message
   size. 
   
   Previous to this patch, the MailMan message size of the DSS extract
   transmission messages was programmed into routine ECXTRANS.  The
   message size was set at 200 lines.  (The first line is a header
   record and each additional line is an extract data record.)
     
   With the release of the FY1999 update, a number of sites began
   experiencing rejects because message lines for certain extracts
   were becoming too large, thus causing the transmission message 
   to overflow the 32 Kbytes input limit at AAC.  The remedy for 
   this problem is to decrease the number of lines per transmission
   message.  Past patches have modified routine ECXTRANS to lower
   the message line count for the ADM, CLI, and PRO extracts. 
   
   After installation of this patch, each DSS Site Manager will be
   able to increase or decrease the message line count in the 
   transmission messages for each extract type.  
   
   This following revisions are included in ECX*3*23:
   
   (1) A new field, MAX. LINES PER MESSAGE (#12) is added to the
       EXTRACT DEFINITIONS file (#727.1).  A numeric value between
       2 and 500 may be placed in the field.
   
   (2) A new option, Set Maximum Line Count for Transmission [ECX
       SET MAX LINES], is added to the Transmission Management 
       [ECX TRANSMISSION] menu.  The option is locked with the
       ECXMGR key.
   
   (3) Routine ECXTRANS will obtain the maximum line count per message
       from field #12 of the file #727.1.  Routine ECXUTL2 has a new
       subroutine, SETMAX, containing the programming logic for the
       Set Maximum Line Count for Transmission option.
    
   (4) The post-installation routine included with the patch sets the
       default maximum line count for each extract type in file #727.1.
     
   Here is an example of the output that should be seen during the 
   run of the post-installation routine contained in the patch:
   
   -------------------------------------------------------------------
   
   Updating EXTRACT DEFINITIONS file (#727.1) with default
   value for new MAX. LINES PER MESSAGE field (#12)...
   
        Setting record #1 for the ADM extract with a
        default value of 100 in field #12.
   
        Setting record #2 for the CLI extract with a
        default value of 150 in field #12.
   
        Setting record #3 for the NOS extract with a
        default value of 200 in field #12.
   
        Setting record #4 for the NUR extract with a
        default value of 200 in field #12.
   
        Setting record #5 for the DEN extract with a
        default value of 200 in field #12.
   
        Setting record #7 for the MOV extract with a
        default value of 200 in field #12.
   
        Setting record #8 for the UDP extract with a
        default value of 200 in field #12.
   
        Setting record #9 for the PRE extract with a
        default value of 200 in field #12.
   
        Setting record #10 for the SUR extract with a
        default value of 200 in field #12.
   
        Setting record #12 for the LAB extract with a
        default value of 200 in field #12.
   
        Setting record #13 for the RAD extract with a
        default value of 200 in field #12.
   
        Setting record #14 for the ECS extract with a
        default value of 200 in field #12.
   
        Setting record #15 for the IVP extract with a
        default value of 200 in field #12.
   
        Setting record #16 for the TRT extract with a
        default value of 200 in field #12.
   
        Setting record #17 for the PAS extract with a
        default value of 200 in field #12.
   
        Setting record #18 for the LAR extract with a
        default value of 200 in field #12.
   
        Setting record #19 for the ECQ extract with a
        default value of 200 in field #12.
   
        Setting record #20 for the PRO extract with a
        default value of 150 in field #12.
   
   -------------------------------------------------------------------
   
   These defaults should work well for all sites.  But if AAC rejects 
   extract transmission messages because of size, the DSS Site Manager
   should reduce the allowable maximum line count for the extract
   transmission messages.  Of course, the allowable maximum line count
   can also be increased above the current default, but this is not
   advised.  Most often this will result in rejects by AAC and the need
   to retransmit the extract.
   
   Please note: If this patch is re-installed after the site has made
                local modifications to the default values in field #12,
                those local settings for field #12 will be overwritten
                with the default values contained in the patch.
   
   The allowable number of lines per transmission message may be reset by
   using the Set Maximum Line Count for Transmission option as follows:
   
   Extract Manager's Options
   
    M      Maintenance ...
    P      Package Extracts ...
    S      SAS Extract Audit Reports ...
    E      Extract Audit Reports Menu ...
    T      Transmission Management ...
   
   Select Extract Manager's Options Option: T  Transmission Management
   
    M      Set Maximum Line Count for Transmission
    P      Purge Data from Extract Files
    R      Review a Particular Extract for Transmission
    S      Summary Report of Extract Logs
    T      Transmit Data from Extract Files
   
   Select Transmission Management Option: M  Set Maximum Line Count for 
                                             Transmission
   
   
   Select EXTRACT DEFINITIONS EXTRACT NAME: PRESCRIPTION  
   MAX. LINES PER MESSAGE: 200// 150
   
   Select EXTRACT DEFINITIONS EXTRACT NAME:
   
     
   ROUTINE SUMMARY:
   ================
   The following is a list of the routine(s) included in this patch.  The
   second line of each of these routine(s) will look like:
    
       <tab>;;3.0;DSS EXTRACTS;[patch list];Dec 22, 1997
    
                              CHECK^XTSUMBLD results
    
   Routine name      Before Patch          After Patch         Patch List
   ============      ============          ===========         ==========
   ECX323PT               NA                 1829349               23
   ECXTRANS            11462078             12580479       2,9,12,8,13,14,23
   ECXUTL2              4898313              5169335             8,13,23
   
   
   INSTALLATION INSTRUCTIONS:
   ==========================
    
   This patch can be loaded with users on the system. 
    
   Installation will take less than 2 minutes.  
     
   1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
       the KIDS distribution included with this message.
      
   2.  Review your mapped set.  If any of the routines listed in the
       ROUTINE SUMMARY section are mapped, they should be removed
       from the mapped set at this time.
    
   3.  From the Kernel Installation and Distribution System Menu, select 
       the Installation menu.  
     
   4.  From this menu, you may elect to use the following options
       (when prompted for INSTALL NAME, enter ECX*3.0*23):
    
       a. Backup a Transport Global - This option will create a backup 
          message of any routines exported with this patch. It will not 
          backup any other changes such as DD's or templates.  
       b. Compare Transport Global to Current System - This option will 
          allow you to view all changes that will be made when this patch 
          is installed. It compares all components of this patch 
          (routines, DD's, templates, etc.).  
       c. Verify Checksums in Transport Global - This option will allow 
          you to ensure the integrity of the routines that are in the 
          transport global.  
     
   5.  Use the Install Package(s) option and select the package ECX*3.0*23.
     
   6.  If you do not intend to queue the installation to run after normal
       business hours, then answer "NO" to the following prompt:
    
       Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
    
       If you answer "YES", then the installation will require much more 
       than 2 minutes to run due to the menu rebuild process. 
     
   7.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//', respond YES.  When prompted to select the options
       you would like to place out of order, enter the following:
   
       Transmit Data from Extract Files         ECXTRANS
   
   8.  If routines were unmapped as part of step 2, they should be returned
       to the mapped set once the installation has run to completion.
   
   9.  After successful installation of the patch, post-installation routine
       ECX323PT may be deleted from the system.

Routine Information:
====================

Routine Name:
  - ECXTRANS


Routine Checksum:

Routine Name:
  - ECXUTL2


Routine Checksum:

Routine Name:
  - ECX323PT


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : PAJERSKI,JAN                   Date Entered : MAR 17, 1999
Completed By: MORRISON,JENNIFER             Date Completed: MAY 03, 1999
Released By : COOPER,SAMANTHA               Date Released : MAY 04, 1999
=============================================================================


Packman Mail Message:
=====================

$END TXT
