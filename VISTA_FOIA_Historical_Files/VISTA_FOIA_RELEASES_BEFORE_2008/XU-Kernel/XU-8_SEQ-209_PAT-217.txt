$TXT Created by METCALF,ROGER at VAB-RAD.FO-OAKLAND.MED.VA.GOV  (KIDS) on FRIDAY, 09/13/02 at 13:23
=============================================================================
Run Date: SEP 24, 2002                     Designation: XU*8*217
Package : XU - KERNEL                          Priority: Mandatory
Version : 8       SEQ #209                       Status: Released
=============================================================================

Associated patches: (v)XU*8*206    <<= must be installed BEFORE `XU*8*217'
                    (v)XU*8*209    <<= must be installed BEFORE `XU*8*217'

Subject: Institution file & the Reasonable Charges project

Category: 
  - Enhancement (Mandatory)
  - Routine
  - Data Dictionary

Description: 
============

 This patch implements a new INSTITUTION (#4) file option to locally edit 
 address information and trigger a Health Level Seven (HL7) message to the  
 Institution Master File (IMF.)  A handler at the IMF server will update the 
 master file and broadcast the updated information to all subscriber medical 
 centers / links.  The Master File Server (MFS) mechanism handler at each    
 medical center / site will update the local INSTITUTION (#4) file with the  
 updated Institution data; a MailMan message will notify the XUMF INSTITUTION 
 mail group about the updates (displaying old and new values of the affected 
 entry) or an error message (mail group XUMF SERVER) if there was a problem.
 
 The patch adds mailing address fields and modifies the existing address 
 fields descriptions to denote the fact they represent the physical address.
 
 After installing this patch please use the edit option, IMF address edit 
 [XUMF IMF ADD EDIT], to update both your physical and mailing address 
 information (say YES to 'update the Institution Master File') for your 
 medical center and associated facilities (all your divisions and clinics.)
 
 The Post-Install checks the status of Institution File Redesign (IFR) 
 cleanup at the site.  This information will then be sent to National VistA 
 Support (NVS) for tracking purposes.  At the same time a background job will 
 update the INSTITUTION (#4) file with the latest copy of the Institution    
 Master File (IMF) on FORUM.  Also a new entry for VISN 23 will be added to  
 the INSTITUTION (#4) file.
 
 The background job to update the INSTITUTION (#4) file will NOT be 
 performed on sites that have not performed the IFR cleanup.  The 
 background job will be performed on all other sites.  The reason for the 
 job is to insure every site is up-to-date with the latest copy of the IMF; 
 some links may have been down or not enabled, for various reasons, when an 
 update was broadcast during the initial phase of the project.  Any new      
 updates to the file will be documented in a MailMan message and sent to     
 the members of the XUMF INSTITUTION mail group and to the installer of the  
 patch.
 
 Note: XU*8*206 and XU*8*209 are required patches.  The post installation 
 instructions (the IFR cleanup) documented in patch XU*8*206 should have 
 already been preformed.  If your site has not performed the IFR cleanup, 
 you may contact NVS, by sending a message to the XUMF INSTITUTION mail group 
 on FORUM or by logging a NOIS, to get assistance.
 
 The patch also implements four new programmer API in XUAF4.
 
   NAME(IEN)       ; -- Official Name
         ;
   ACTIVE(IEN)     ; -- active facility (1=active, 0=inactive)
         ;
   PADD(IEN)       ; -- physical address (street addr^city^state^zip)
         ;
   MADD(IEN)       ; -- mailing address (street addr^city^state^zip)
 
 DATA DICTIONARY MODIFICATIONS
 =============================
 
 File 4 NEW FIELDS
 -----------------
 
 ST. ADDR. 1 (MAILING)                4,4.01     FREE TEXT
                                     ANSWER MUST BE 2-40 CHARACTERS IN LENGTH
 First line of the street address (mailing) of the facility.
  
 ST. ADDR. 2 (MAILING)                4,4.02     FREE TEXT
                                     ANSWER MUST BE 2-40 CHARACTERS IN LENGTH
 Second line of the street address (mailing) of the facility.
 
 CITY (MAILING)                          4,4.03     FREE TEXT
                                     ANSWER MUST BE 2-40 CHARACTERS IN LENGTH
 The City of the facility's mailing address.
 
 STATE (MAILING)                         4,4.04      POINTER TO STATE FILE (#5)
                                        Enter the state
 The State of the facility's mailing address.
 
 ZIP (MAILING)                           4,4.05     FREE TEXT 
                                     Enter ZIP code or ZIP + 4
 Postal ZIP code for the mailing address of the facility.
 
 File 4 description changes to existing fields
 ---------------------------------------------
 
 (#1.01)        STREET ADDR. 1
 First line of the street address (physical) of the facility.
 
 (#1.02)        STREET ADDR. 2
 Second line of the street address (physical) of the facility.
 
 (#1.03)        CITY
 The city the facility is physically located.
 
 (#.02)         STATE
 State that the institution is physically located.
 
 (#1.04)        ZIP
 Postal ZIP code for the physical address of the facility.
 
 NEW PROTOCOLS
 =============
 
 XUMF IMF MFK       XUMF IMF App ACK  
 XUMF IMF MFN       XUMF IMF handler
 
 NEW HL7 APPLICATION PARAMETERS
 ==============================
 
 XUMF IMF MFK
 XUMF IMF MFN
 
 List of Test Sites
 ==================
 Asheville VAMC
 Muskogee VAMC
 
 Blood Bank Team Coordination
 ============================
 Clearance - August 13, 2002
 
 Routine Summary
 ==============
 The following routines are included in this patch.  The second
 line of each of these routines now looks like:
 
      <tab>;;8.0;KERNEL;**[patch list]**;Jul 10, 1995
 
 Checksums
 =========
 Sites should use CHECK^XTSUMBLD to verify checksums. 
 
    Rtn Nm        Chksum Before     Chksum After    Patch List
    _______       ____________      ___________     ________
 
    XUAF4         4388897           4849437         **43,112,206,209,232,217**
    XUMF4L0       New               5458875         **217**
    XUMF4L1       New               4882844         **217**
    XUMF4L2       New               7442933         **217**
    XUMFEIMF      New               2371912         **217**
    XUMFH         7771379           7112068         **206,209,217**
    XUMFH4        New               6092767         **217**
    XUMFI         8135336           9343954         **206,217**
    XUMFMFE       New               919612          **217**
    XUMFMFI       New               1274836         **217**
    XUMFP         1454622           1862290         **206,217**
    XUMFP4        8721287           9408785         **206,217**
    XUMFP4C       6015828           7148235         **206,209,217**
    XUMFPFT       5599821           5595144         **206,217**
 
 Installation Instructions
 =========================
 
 1.  Users ARE allowed to be on the system during the installation.
 
 2.  It is recommended to install during non peak hours.
 
 3.  The Installation will take less than 2 minutes.  The background job 
 will take about 10 minutes.
 
 4.  DSM/AXP sites: These routines are not usually mapped, so you will
 probably not have to disable mapping. 
 
 5.  Use the "INSTALL/CHECK MESSAGE" option on the PackMan menu. This loads 
 the patch into a Transport Global onto your system. 
     
 6.  You DO NOT need to stop TaskMan or the background filers.
 
 7.  On the KIDS menu, select the "Installation" menu and use the following 
 options to install the Transport Global: 
                        Verify Checksums in Transport Global
                        Print Transport Global 
                        Compare Transport Global to Current System
                        Backup a Transport Global
 
                        Install Package(s) 
                             INSTALL NAME: XU*8.0*217
                                           ==========
                              Want KIDS to Rebuild Menu Trees Upon Completion
 of Install? YES// NO
                   ==                               
                              Want KIDS to INHIBIT LOGONs during the 
 install?  YES// NO
                 ==
                              Want to DISABLE Scheduled Options, Menu Options, 
 and Protocols?  YES// NO                                                    
                       ==
 
 8. If you unmapped routines in step 4, remap them after installation has 
 completed.
 
 
 POST INSTALLATION
 =================
 
 1.  Update the address information for your medical center, divisions, AND 
 clinics using the IMF address edit [XUMF IMF ADD EDIT] option.
 
 Note: The option [XUMF IMF ADD EDIT] is locked with key XUMF INSTITUTION.
 
 Example:
 ****************************************************************************
 Select Kernel Management Menu Option: ?
 
           Enter/Edit Kernel Site Parameters
           IMF address edit
           Institution Edit
           Kernel New Features Help
 
 Enter ?? for more options, ??? for brief descriptions, ?OPTION for help 
 text.
 
 Select Kernel Management Menu Option: IMF address edit
 Enter Station Number: 662 <---enter your STATION NUMBER here
 
 Physical address:
 
 STREET ADDR. 1: 301 HOWARD ST., SUITE 600  Replace <---update if necessary 
 CITY: SAN FRANCISCO// <---...etc... (check/update each field)
 STATE: CALIFORNIA// 
 ZIP: 94105// 
 
 Mailing address:
 
 ST. ADDR. 1 (MAILING): 301 HOWARD ST. SUITE 600 <---enter mailing address
 CITY (MAILING): SAN FRANCISCO <---...etc....
 STATE (MAILING): CALIFORNIA
 ZIP (MAILING): 94105
 
 Are you ready to update the Institution Master File? YES// <---say YES if OK
 ...send HL7 message to Master File Server...
 Sent.
 
 Select Kernel Management Menu Option:
 ***************************************************************************
 
 
 That's it!  Log on to FORUM and use the DBA menu option 'Institution file 
 inquire' to verify the entry updated correctly (optional.)

Routine Information:
====================

Routine Name:
  - XUAF4


Routine Checksum:

Routine Name:
  - XUMFEIMF


Routine Checksum:

Routine Name:
  - XUMFH


Routine Checksum:

Routine Name:
  - XUMFH4


Routine Checksum:

Routine Name:
  - XUMFI


Routine Checksum:

Routine Name:
  - XUMFP


Routine Checksum:

Routine Name:
  - XUMFP4


Routine Checksum:

Routine Name:
  - XUMFP4C


Routine Checksum:

Routine Name:
  - XUMF4L0


Routine Checksum:

Routine Name:
  - XUMF4L1


Routine Checksum:

Routine Name:
  - XUMF4L2


Routine Checksum:

Routine Name:
  - XUMFMFI


Routine Checksum:

Routine Name:
  - XUMFMFE


Routine Checksum:

Routine Name:
  - XUMFPFT


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : METCALF,ROGER A               Date Entered : DEC 18, 2001
Completed By: HERREN,CATHRYN                Date Completed: SEP 19, 2002
Released By : GAYFIELD,LISA                 Date Released : SEP 24, 2002
=============================================================================


Packman Mail Message:
=====================

$END TXT
