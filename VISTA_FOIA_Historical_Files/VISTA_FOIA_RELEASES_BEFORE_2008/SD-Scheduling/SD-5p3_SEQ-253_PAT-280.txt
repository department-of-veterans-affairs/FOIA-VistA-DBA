$TXT Created by HARRIS,DONNA H at DEVFEY.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 03/05/03 at 13:35
=============================================================================
Run Date: MAR 06, 2003                     Designation: SD*5.3*280
Package : SD - SCHEDULING                      Priority: EMERGENCY
Version : 5.3       SEQ #253                     Status: Released
                  Compliance Date: MAR 11, 2003
=============================================================================

Associated patches: (v)SD*5.3*263  <<= must be installed BEFORE `SD*5.3*280'
                    (v)SD*5.3*273  <<= must be installed BEFORE `SD*5.3*280'

Subject: EWL INSTITUTION FILE CLEAN UP

Category: 
  - Other
  - Data Dictionary
  - Routine

Description: 
============

 This patch addresses the SD WAIT LIST file (#409.3), providing an option 
 SD Wait List Cleanup [SD WAIT LIST CLEANUP] to correct invalid 
 institutions.  The EWL parameter files SD WL SERVICE/SPECIALTY (#409.31) 
 and SD WL CLINIC LOCATION (#409.32) must contain institutions that have a
 status of 'NATIONAL' and is a medical facility. In support of the above
 cleanup of SD Wait List files, sites will no longer be permitted to enter
 'LOCAL' institutions.  When entering parameters, 'NATIONAL' institutions
 are only permitted in conjunction with SD Wait List software. The option
 SD Wait List Cleanup [SD WAIT LIST CLEANUP], is introduced with this
 patch.  It should be assigned to the SD Wait List coordinator to correct
 any institution problems.  Files', SD WAIT LIST (#409.3), SD WL 
 SERVICE/SPECIALTY (#409.31), and SD WL CLINIC LOCATION (#409.32), data 
 dictionaries will be modified.   See below for a list of each field to be 
 modified.
  
 FILE                                      INSTITUTION FIELD
 -----                                     -----------------
 SD WAIT LIST (#409.3)                            #2
 SD WL SERVICE/SPECIALTY (#409.31)       #.01 of multiple (#409.311)
 SD WL CLINIC LOCATION (#409.32)                 #.02
  
 This patch also addresses the PCMM side of the EWL. TEAM (#404.51) file
 data dictionary will be modified.  INSTITUTION (#.07) field will be
 screened to only allow "NATIONAL" institution entries in TEAM (#404.51) 
 file. The PCMM GUI option is also modified to screen institution.
 The GUI functionality of the patch is distributed by distribution files
 and may be obtained using FTP from the ANONYMOUS.SOFTWARE directory at
 DOWNLOAD.VISTA.MED.VA.GOV or from specific servers at the Albany
 (ftp.fo-albany.med.va.gov), Hines (ftp.fo-hines.med.va.gov) or Salt Lake
 City (ftp.fo-slc.med.va.gov) OI.   During the POSTINIT, PCMM CLIENT PATCH 
 (#404.46) file will be updated with the current (1.2.3.2) version of the
 GUI.
  
 NOTE:  If entries exist containing inappropriate institutions and are a 
 WAIT LIST TYPE of SPECIFIC CLINIC, the SPECIFIC CLINIC is cleaned as well 
 as the INSTITUTION in the HOSPITAL LOCATION file (#44).
  
 This patch addresses the following E3R(s):
 ------------------------------------------
 There are no E3Rs associated with this patch.
  
  
 This patch addresses the following NOIS message(s):
 ---------------------------------------------------
 ANC-0103-50128  SD WAIT LIST file - Deleting Duplicate Rcds
  
  
 Overview of NOIS Message(s):
 ----------------------------
 ANC-0103-50128  SD WAIT LIST file - Deleting Duplicate Rcds
  
 Problem:
 --------
 Incorrect institutions transmitting to Austin.
  
 Resolution:
 -----------
 Modified SD Wait List related files to no longer allow for institutions 
 with a status field of "LOCAL", or institutions that are not medical 
 treating facilities.  Clean-up routines are being distributed to clean up
 existing entries.
  
 Test Sites
 ----------
 Prescott,AZ VAMC
 Battle Creek,MI VAMC
 Houston, TX VAMC
 Huntington, WV VAMC 
  
  
  
          ================INSTALLATION INSTRUCTIONS =================
  
 If installed during the normal workday it is recommended that the
 following menu options (File #19) and all of their descendants be
 disabled to prevent possible conflicts while running the KIDS Install.
 Other VISTA users will not be affected.
  
     Wait List (Sch/PCMM) Menu  [SD WAIT LIST MENU]
  
 Install Time - less than 5 minutes.
  
  
   1.   LOAD TRANSPORT GLOBAL 
        ---------------------
        Choose the PackMan message containing this patch and invoke the 
        INSTALL/CHECK MESSAGE PackMan option.  
              
   2.   DISABLE ROUTINE MAPPING   (DSM for Open VMS sites only) 
        -----------------------
        Disable routine mapping on all systems for the routines listed in 
        step 3 below.  
       
        NOTE:  If the routines included in this patch are not currently in 
        your mapped routine set, please skip this step.
   
   3.   COMPONENTS SENT WITH PATCH 
        ------------------------
        The following is a list of the routines included in this patch.  
        The second line of each of these routines now looks like: 
   
            ;;5.3;scheduling;**[patch list]**;AUG 13 1993
   
                            CHECK^XTSUMBLD results
  
        Routine         Before Patch     After Patch   Patch List 
        -------         ------------     -----------   ----------
        SDWLCU1         N/A              11996732      280
        SDWLCU2         N/A              4340783       280
        SDWLCU3         N/A              5843000       280
        SDWLCU4         N/A              761372        280
        SDWLCU5         N/A              10849176      280
        SDWLE111        8770870          8501275       263,273,280  
        SDWLPE          6844628          7339331       263,280
  
  
        Total number of routines modified: 2
        Total number of new routines: 5
        Total number of routines: 7
  
  
        Files Sent With Patch:
        ----------------------
                                           UP    SEND  DATA    USER
                                            DATE  SEC.  COMES   OVER
        FILE #      NAME                    DD    CODE  W/FILE  RIDE
        ------------------------------------------------------------
        404.51      TEAM                    YES   YES   NO      NO
        Partial DD: subDD: 404.51     fld: .07
  
        409.3       SD WAIT LIST            YES   YES   NO      NO
        Partial DD: subDD: 409.3      fld: 2
  
        409.31      SD WL SERVICE/SPECIALTY YES   YES   NO      NO
        Partial DD: subDD: 409.311    fld: .01
  
        409.32      SD WL CLINIC LOCATION   YES   YES   NO      NO
        Partial DD: subDD: 409.32     fld: .02
  
  
        Options Sent With Patch:
        ------------------------
        SD WAIT LIST CLEANUP         
  
  
   4.   START UP KIDS 
        -------------
        Start up the Kernel Installation and Distribution System Menu 
        [XPD MAIN]: 
    
             Edits and Distribution ...  
             Utilities ...  
             Installation ...  
    
   Select Kernel Installation & Distribution System Option: INStallation 
                                                            ---
             Load a Distribution 
             Print Transport Global 
             Compare Transport Global to Current System 
             Verify Checksums in Transport Global 
             Install Package(s) 
             Restart Install of Package(s) 
             Unload a Distribution 
             Backup a Transport Global 
    
   Select Installation Option: 
    
   5.   Select Installation Option: 
        --------------------------
        NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
               NAME, enter SD*5.3*280):
       
        a.  Backup a Transport Global - This option will create a backup
            message of any routines exported with this patch. It will not
            backup any other changes such as DD's or templates.
        b.  Compare Transport Global to Current System - This option will
            allow you to view all changes that will be made when this patch
            is installed.  It compares all components of this patch
            (routines, DD's, templates, etc.).
        c.  Verify Checksums in Transport Global - This option will allow
            you to ensure the integrity of the routines that are in the
            transport global.
      
   6.   Select Installation Option: Install Package(s) 
                                    ----------------
        **This is the step to start the installation of this KIDS patch: 
    
        a. Choose the Install Package(s) option to start the patch install.
        b. When prompted 'Want KIDS to Rebuild Menu Trees Upon Completion 
           of Install? YES// ', answer NO
        c. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
           YES//' answer NO (unless otherwise indicated)
        d. When prompted 'Want to DISABLE Scheduled Options, Menu 
           Options, and Protocols? YES//' answer YES
        e. When prompted 'Enter options you wish to mark as 'Out 
           Of Order':', enter
  
              Wait List (Sch/PCMM) Menu  [SD WAIT LIST MENU] 
  
        f. When prompted 'Enter protocols you wish to mark as 'Out Of
           Order':', press enter.
  
   7.   REBUILD MAPPED ROUTINE(S)  (DSM for Open VMS sites only)
        -------------------------
        Optional - Include the routines distributed with this patch
        in the mapped routine set.
      
        NOTE: This step is only necessary if you performed step 2 or
        if you wish to include the routines in your mapped set.
  
   8.   The following software file is exported as part of this patch:
  
  
        File Name               Contents               Retrieval Format
        ---------               --------               ----------------
        SD_53_P280.ZIP File(s)  indented below         BINARY
         - PCMM.EXE             PCMM Executable
  
        The file listed above may be obtained via FTP.  The preferred
        method is to FTP the files from:
  
            download.vista.med.va.gov
  
        This transmits the files from the first available FTP server.  
        Sites may also elect to retrieve software directly from a specific
        server as follows:
  
        CIO FIELD OFFICE   FTP ADDRESS                 DIRECTORY
        ----------------   -------------------------   --------------------
        Albany             ftp.fo-albany.med.va.gov    [anonymous.software]
        Hines              ftp.fo-hines.med.va.gov     [anonymous.software]
        Salt Lake City     ftp.fo-slc.med.va.gov       [anonymous.software]
  
  
        PCMM.EXE will replace the existing Pcmm.EXE, which is usually found
        in the Program File/VISTA/PCMM directory of the client workstation.
        Workstations without an existing PCMM GUI application installed
        should first download and run SD_53_P204.EXE to install the
        previous version of PCMM. Then the PCMM.exe should be replaced with
        the new version.
  
   9.   Example of Clean-up.  Notice-- the clean-up option will only allow 
        the user to select a type of EWL entry if there are entries to be
        cleaned up.  There are four different types of wait list entries
        (PCMM TEAM ASSIGNMENT, PCMM POSITION ASSIGNMENT, SERVICE/SPECIALTY,
        and SPECIFIC CLINIC).  The user will have to enter an '^' at each 
        level to exit.  This may require the user to enter '^' more than 
        once.
  
  
 Select OPTION NAME:    SD WAIT LIST CLEANUP     SD Wait List Cleanup
 SD Wait List Cleanup
  
 7 ENTRIES IN SD WAIT LIST POINT TO AN INSTITUTION WITH A STATUS NOT EQUAL 
   TO NATIONAL OR ISN'T A TREATING FACILITY, THE FOLLOWING IS A SUMMARY 
   REPORT OF THOSE ENTRIES.
  
 1 ENTRIES POINT TO FILE TEAM (404.51) AND 1 INSTITUTION(S) MUST BE 
   CORRECTED.
  
 3 ENTRIES POINT TO FILE SD WL SERVICE/SPECIALTY (409.31) AND 1 
   INSTITUTION(S) MUST BE CORRECTED.
  
 2 ENTRIES POINT TO FILE SD WL CLINIC LOCATION (409.32) AND 1 
   INSTITUTION(S) MUST BE CORRECTED.
  
      Select one of the following:
  
           1         PCMM TEAM ASSIGNMENT
           3         SERVICE/SPECIALTY
           4         SPECIFIC CLINIC
  
 Enter response: 1  PCMM TEAM ASSIGNMENT
                ---
 Please enter a national institution!
 TEAM: TEST PCMM TEAM    INSTITUTION: TEST INSTITUTION
 Select Institution: ENTER A VALID INSTITUTION  
                     -------
 6 ENTRIES IN SD WAIT LIST POINT TO AN INSTITUTION WITH A STATUS NOT
   EQUAL TO NATIONAL OR ISN'T A TREATING FACILITY, THE FOLLOWING IS A
   SUMMARY REPORT OF THOSE ENTRIES.
  
 3 ENTRIES POINT TO FILE SD WL SERVICE/SPECIALTY (409.31) AND 1 
   INSTITUTION(S) MUST BE CORRECTED.
  
 2 ENTRIES POINT TO FILE SD WL CLINIC LOCATION (409.32) AND 1 
   INSTITUTION(S) MUST BE CORRECTED.
  
      Select one of the following:
  
           3         SERVICE/SPECIALTY
           4         SPECIFIC CLINIC
  
 Enter response: 3  SERVICE/SPECIALTY
                ---
 SERVICE SPECIALTY: MEDICAL/SURGICAL DAY UNIT MSDU   INSTITUTION: TEST 
 INSTITUTION
 Select Institution: ENTER A VALID INSTITUTION  
                     ------
  
 3 ENTRIES IN SD WAIT LIST POINT TO AN INSTITUTION WITH A STATUS NOT EQUAL 
   TO NATIONAL OR ISN'T A TREATING FACILITY, THE FOLLOWING IS A SUMMARY 
   REPORT OF THOSE ENTRIES.
 2 ENTRIES POINT TO FILE SD WL CLINIC LOCATION (409.32) AND 1 
   INSTITUTION(S) MUST BE CORRECTED.
  
      Select one of the following:
  
           4         SPECIFIC CLINIC
  
 Enter response: 4  SPECIFIC CLINIC
                ---
 Invalid Institution. Please select a National Institution.
  
 CLINIC: TEST'S CLINIC   INSTITUTION:TEST INSTITUTION
 Select Institution: ENTER A VALID INSTITUTION  
                    ---------
 1 ENTRIES IN SD WAIT LIST POINT TO AN INSTITUTION WITH A STATUS NOT EQUAL
   TO NATIONAL OR ISN'T A TREATING FACILITY, THE FOLLOWING IS A SUMMARY 
   REPORT OF THOSE ENTRIES.
  
      Select one of the following:
  
 Enter response: ^  <<<=  Enter ^ to EXIT
                ---
  
 The following is an example of a mail message that will be sent to the 
 user and G.EWL PROBLEMS@FORUM.VA.GOV.
  
 Subj: SD*5.3*280 EWL REPORT STATION#XXX  [#323965] 02/24/03@08:52
 5 lines
 From: POSTMASTER  In 'IN' basket.   Page 1  *New*
 --------------------------------------------------------------------------
 STATION: XXX
 The following EWL entries have no Institution field entry.
 NAME: PATIENT,ONE      IEN: 7
 TOTAL null Institution entries: 1
 PATCH SD*5.3*280 EWL  CLEANUP IS COMPLETE.
  
 Enter message action (in IN basket): Ignore//

Routine Information:
====================

Routine Name:
  - SDWLCU1


Routine Checksum:

Routine Name:
  - SDWLCU2


Routine Checksum:

Routine Name:
  - SDWLCU3


Routine Checksum:

Routine Name:
  - SDWLPE


Routine Checksum:

Routine Name:
  - SDWLE111


Routine Checksum:

Routine Name:
  - SDWLCU4

 AFTER:
  
 SDWLCU4 ;IOFO BAY PINES/JS - EWL FILE 409.3 CLEANUP 2/4/03
         ;;5.3;scheduling;**280**;AUG 13 1993
         I '$D(^SCTM(404.46,"B","1.2.3.2")) D
                 .K DO S DIC(0)="LM",DIC("DR")=".02////1;
 .03////"_DT,DIC="^SCTM(404.46,",X="1.2.3.2" D FILE^DICN
                 I '$D(^SCTM(404.45,"B","SD*5.3*280")) D
                 .S ENTRY=$O(^SCTM(404.46,"B","1.2.3.2",0))
                 .S DIC("DR")=".02////"_(+ENTRY)_";
 .03////"_DT_";.04////1",DIC(0)="LM"

Routine Checksum:

Routine Name:
  - SDWLCU5


Routine Checksum:

=============================================================================
User Information:                               Hold Date : FEB 14, 2003
Entered By  : HOUTCHENS,THOMAS               Date Entered : FEB 04, 2003
Completed By: ROBBINS,BRADLEY               Date Completed: MAR 06, 2003
Released By : WASHINGTON,JANET P           Date Released : MAR 06, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
