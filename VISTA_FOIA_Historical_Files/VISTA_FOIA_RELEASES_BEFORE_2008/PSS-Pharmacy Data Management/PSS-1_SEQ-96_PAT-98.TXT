$TXT Created by SMITH,ROBERT J at CHEY20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Thursday, 10/20/05 at 08:58
=============================================================================
Run Date: MAR 09, 2006                     Designation: PSS*1*98
Package : PSS - PHARMACY DATA MANAGEMENT      Priority: Mandatory
Version : 1        SEQ #96                      Status: Released
                  Compliance Date: APR 09, 2006
=============================================================================

Associated patches: (v)PSS*1*20    <<= must be installed BEFORE `PSS*1*98'
                    (v)PSS*1*87    <<= must be installed BEFORE `PSS*1*98'

Subject: WARNING BUILDER ERROR MESSAGE & ESS LEADING ZERO

Category: 
  - Routine
  - Data Dictionary

Description:
============

 This patch will correct the reported problems within the 
 WARNING BUILDER option [PSS WARNING BUILDER].  It will also
 modify the input transform for the VOLUME field (#2) in the IV 
 SOLUTIONS file (#52.7) to allow a leading zero.
  
 ASSOCIATED REMEDY:
 =================
 1) HD97953 WARNING BUILDER ERROR MESSAGE 
 2) HD98924 ESS: Leading zeroes
  
 ASSOCIATED E3RS:
 ================
 N/A
  
 PARTICIPATING TEST SITES
 ========================
 Puget Sound HCS
 Milwaukee, WI
 San Francisco, CA
   
 DATA DICTIONARY CHANGES:
 =========================
 The Data Dictionary changes required for this patch are associated 
 with Remedy ticket HD98924.  It was reported that the VOLUME field (#2) in
 the IV SOLUTIONS file (#52.7) will not accept a leading zero.  During
 testing, it was found that the input transform for the VOLUME field (#2)
 in the IV SOLUTIONS file (#52.7) strips leading zeroes during data entry.
  
 Before:
 ------- 
 52.7,2        VOLUME                 0;3 FREE TEXT (Required)
  
               INPUT TRANSFORM:  K:X[""""!($A(X)=45)!(X'=+X)!(X>9999)!(X<.01) X 
                                 I $D(X) S X=X_" ML" D EN^DDIOL(" ML","","?0")
               LAST EDITED:      JUN 26, 1997 
               HELP-PROMPT:      Enter a number from .01-9999. 
  
 After:
 ------
 52.7,2        VOLUME                 0;3 FREE TEXT (Required)
  
               INPUT TRANSFORM:  K:X[""""!($A(X)=45)!(X'?.N0.1".".N)!(X>9999)!(X
                                 <.01) X I $D(X) S X=X_" ML" D EN^DDIOL(" ML",""
                                 ,"?0")
               LAST EDITED:      JUN 24, 2005 
               HELP-PROMPT:      Enter a number from 0.01-9999. 
  
 REMEDY OVERVIEW:
 ===============
  
 1) HD97953 WARNING BUILDER GENERATES ERROR MESSAGE
  
 Problem:
 --------
 When using the WARNING BUILDER option [PSS WARNING BUILDER] 
 in the Pharmacy Data Management application two problems were
 reported. 
  
 A) The option generates a null subscript error at ASK+77^PSSWRNB
    if the user does not enter a value at the "Select drugs containing
    New warning number:" prompt.
  
 B) The option is quitting after displaying the warning for one drug.
    This is caused by variables that were not cleaned up after using
    the DRUG ENTER/EDIT option [PSS DRUG ENTER/EDIT].
  
 Resolution:
 -----------
 A) PSSWRNB routine will be modified to check for a null value.  If the
    user presses the enter key without entering a value, the selection
    will quit normally.
  
 B) PSSDEE2 routine is called at the end of the DRUG ENTER/EDIT option
    [PSS DRUG ENTER/EDIT] to clean up the variables.  PSSDEE2 will be 
    modified to kill variables left behind.
  
 2) HD98924 ESS: Leading zeroes
  
 Problem:
 --------
 It was reported that the VOLUME field (#2) in the IV SOLUTIONS file
 (#52.7) will not accept leading zeroes.  During testing it was found that
 the input transform for the VOLUME field (#2) in the IV SOLUTIONS file
 (#52.7) strips leading zeroes during data entry.
  
 Resolution:
 -----------
 The input transform with the VOLUME field (#2) in the IV SOLUTIONS file
 (#52.7) Data Dictionary will be modified where the leading zero will not
 be stripped during data entry.
  
 TECHNICAL
 =========
  
 Modify routine PSSDEE2 to clean up the symbol table.  Also add logic to
 routine PSSWRNB to check for a null entry at the "Select drugs 
 containing New warning number: " prompt for selection 7.  Also add logic
 to routine PSSWRNB that will quit if a user enters "^" and help 
 information when a user enters "?" to comply with SAC standards.  Once
 these changes were made, routine PSSWRNB exceeded SAC size limits.  
 Routine PSSWRNC was created so that some of the functionality contained in
 PSSWRNB could be moved into this routine to meet SAC size limits.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routine(s) included in this patch.  The
 second line of each of these routine(s) will look like:
  
           ;;1.0;PHARMACY DATA MANAGEMENT;**[Patch List]**;9/30/97
  
                             CHECK1^XTSUMBLD results
  
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
 PSSDEE2                5921982              6848354         16,20,98
 PSSWRNB               87809916             44691265         87,98
 PSSWRNC                    N/A             22115721         98
  
                             CHECK^XTSUMBLD results
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
 PSSDEE2                5682809              6532607         16,20,98
 PSSWRNB               23479711             16202131         87,98
 PSSWRNC                    N/A              7870387         98
  
 INSTALLATION INSTRUCTIONS
 =========================
 Users should be off the system when this patch is installed.  
 Failure to do so may result in errors.  Installation will take
 less than 2 minutes.
  
 Suggested Time to install:  non-peak requirement hours.
  
  1.  Choose the PackMan message containing this patch and invoke the
      INSTALL/CHECK MESSAGE PackMan option.
  
  2.  Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]:
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
     Select Kernel Installation & Distribution System Option: INStallation
           Load a Distribution
           Print Transport Global
           Compare Transport Global to Current System
           Verify Checksums in Transport Global
           Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
           Backup a Transport Global
  
  3.  From this menu, you may elect to use the following options
      (when prompted for the INSTALL NAME, enter PSS*1.0*98):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
  4.  Use the Install Package(s) option and select the package PSS*1.0*98.
  
    a.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
        YES//', answer NO (unless otherwise indicated).
    b.  When prompted 'Want to DISABLE Scheduled Options, Menu Options,
        and Protocols? YES//', answer NO.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSSDEE2
    Before:  B5921982  After:  B6848354  **16,20,98**
Routine Name: PSSWRNB
    Before: B87809916  After: B44691265  **87,98**
Routine Name: PSSWRNC
    Before:            After: B22115721  **98**

=============================================================================
User Information:
Entered By  : SMITH,ROBERT J                Date Entered  : JUN 13, 2005
Completed By: CROSSMAN,PAM                  Date Completed: MAR 08, 2006
Released By : TEAGUE,LYN                    Date Released : MAR 09, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
