$TXT Created by THEROUX,JOHN at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 11/04/05 at 17:55
=============================================================================
Run Date: DEC 28, 2005                     Designation: DG*5.3*685
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #596                    Status: Released
                  Compliance Date: JAN 28, 2006
=============================================================================

Associated patches: (v)DG*5.3*477  <<= must be installed BEFORE `DG*5.3*685'

Subject: MPI PATIENT DATA REVIEW

Category: 
  - Routine

Description:
============

   Prevents error in MPI's Patient Data Review and cleans up the PATIENT 
 DATA EXCEPTION file #391.98.
  
 Associated tickets:
 ==================
 HD 101079 - Problems with Patient Data Review
 duplicates:
 HD 102052 - PATIENT DATA REVIEW - PATIENTS NAME IS BEING REVIEWED
 HD 102196 - Patient Data Review Problem
 HD 103169 - PATIENT LOCKED OR BEING REVIEWED
 HD 103500 - Patient Data Review
 HD 103734 - Review of merging of this data is not allowed
 HD 103891 - PATIENT DATA REVIEW
 HD 104302 - mpi problem - same as 102196 & 101079
 HD 108935 - MPI Patient Data error
 HD 114230 - Patient data review problem. Entry states "patient name is 
             being reviewed".
 HD 114321 - Exception Handling troubles
 HD 117767 - Problems with Patient Data Review (PDR)
 HD 118559 - Demographic exception records are locked
 HD 123212 - Patient data review problems 
  
 Associated E3R(s):
 ==================
 N/A
  
 Test Sites:
 ===========
 Milwaukee, WI           Tomah, WI       Baltimore, MD
 Richmond, VA            Cheyenne, WY    Dublin, GA
 Grand Junction, CO
  
 Problem:
 ========
 A series of recently released lab patches (LA*5.2*67, LR*5.2*290 and 
 LR*5.2*257) implemented the use of proxy users, in this case proxy user 
 LRLAB,HL.  When lab messages are processed by the HL7 filers the setting 
 of DUZ to the LRLAB,HL user occurs.  When subsequent HL7 Master 
 Patient Index messages are processed by this filer, the Patient Data
 Review is filed incorrectly.  This occurs because the proxy 
 user fails the patient security check (since proxy users do not have a 
 valid SSN).
  
 Solution:
 =========
 A temporary solution is implemented by this patch (avoiding
 the Patient Security check for this non-person proxy user).
 A permanent solution is being addressed by a combination of
 XU*8*361, a later DG patch and possibly a Mailman patch. 
  
 DG*5.3*685 also provides post installation routine DG685PST which 
 will do a cleanup of the PATIENT DATA EXCEPTION FILE (#391.98). When an
 entry exists in the PATIENT DATA EXCEPTION (391.98) file and the 
 corresponding data is missing from the PATIENT DATA ELEMENT (391.99) file 
 the exception will be retired. The length of time to run is minimal but
 depends on the size of the file at each site.
  
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Registration;**[patch list]**;Aug 13,1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DG685PST                   N/A               269678              685
  VAFCEHU1               8751376              8752359    149,255,307,477,
                                                                  685
                            CHECK1^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  DG685PST                   N/A               410389              685
  VAFCEHU1              53748283             53757953     149,255,307,477,
                                                                  685
  
  
  
 INSTALLATION INSTRUCTIONS:
  ===========================
  This patch may be run with users on the system.
  Installation will take less than 2 minutes for sites with few, if
  any, entries in file #391.98, but may take a few minutes longer 
  for sites with a large number of entries needing updating.  
   
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
      the KIDS distribution included with this message.
   
      NOTE:  If the required patches are not installed, the transport 
             global will be removed.  If the transport global is removed
             you will need to repeat this step.
   
  2.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  3.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter DG*5.3*685):
      a.  Compare Transport Global to Current System  - this option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch (routines,
          DDs, templates, etc.).
      b.  Verify Checksums in Transport Global - this option will
          allow you to ensure the integrity of the routines that are in
          the transport global.
      c.  Print Transport Global - this option will allow you to view the
          components of the KIDS build.
      d.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
   
  4.  Use the Install Package(s) option and select the package DG*5.3*685.
   
  5.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
      YES//', respond NO.
  
  6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and 
      Protocols? YES//', enter Y
  
      Patient Data Review [VAFC EXCEPTION HANDLER]  
  
  7.  Routine DG685PST can be removed after the patch installation.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DG685PST
    Before:            After:   B410389  **685**
Routine Name: VAFCEHU1
    Before: B53748283  After: B53757953  **149,255,307,477,685**
 Description of Changes:
  VAFCEHU1.INT.1                |"PATVEE"|VAFCEHU1.INT.1  
  **************************************************************************
  *****
  VAFCEHU1.INT.1
   +2         ;;5.3;Registration;**149,255,307,477,685**;Aug 13, 1993
  ...................
  |"PATVEE"|VAFCEHU1.INT.1
   +2         ;;5.3;Registration;**149,255,307,477**;Aug 13, 1993
  ---------------------------------------
  VAFCEHU1.INT.1
   +119       S DIC(0)="LI"
  ...................
  |"PATVEE"|VAFCEHU1.INT.1
   +119       S DIC(0)="L"


=============================================================================
User Information:
Entered By  : THEROUX,JOHN                  Date Entered  : OCT 31, 2005
Completed By: SNOOK,APRIL L                 Date Completed: DEC 28, 2005
Released By : HEUER,CINDY                   Date Released : DEC 28, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
