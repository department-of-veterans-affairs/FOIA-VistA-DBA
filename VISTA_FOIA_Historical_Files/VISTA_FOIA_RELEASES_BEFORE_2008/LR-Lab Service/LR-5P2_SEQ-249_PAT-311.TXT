
=============================================================================
Run Date: FEB 24, 2005                     Designation: LR*5.2*311
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #249                    Status: Released
                  Compliance Date: APR 01, 2005
=============================================================================

Associated patches: (v)LR*5.2*248  <<= must be installed BEFORE `LR*5.2*311'

Subject: LRWOMEN ROUTINE CHANGE

Category: 
  - Routine
  - Enhancement (Mandatory)
  - Informational

Description:
============

  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*311 does not 
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
 DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*311 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*311 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the changes 
 made, no specific validation requirements exist as a result of 
 installation of this patch.
  
  
   NOTE: This patch is part of a multi-KIDS build that includes PXRM*2*1
         (CLINICAL REMINDERS), WV*1*16 (WOMEN'S HEALTH) and OR*3*210
         (ORDER ENTRY/RESULTS REPORTING) (CPRS). Please see the patch
         description for PXRM*2*1 for information on retrieving the host
         file containing these patches.
  
  
 1) Currently the ADD^LRWOMEN utility notifies a Women's Health package
 utility whenever a Cytology or Surgical Pathology report is verified for a
 female patient. This functionality was provided with LR*5.2*231.
  
 After installation of patch LR*5.2*311, the ADD^LRWOMEN utility will also
 notify a new CPRS utility (LAB^ORB3LAB) for all patients, not just female
 patients. Integration Agreement #4287 grants the LABORATORY package
 permission to call the ORB3LAB routine.
  
 2) The code in the MOVE entry point of the LRWOMEN routine was replaced 
 with a QUIT command. With the release of LR*5.2*259, this entry point is 
 no longer called. The entry point will be deleted in a future patch.
  
 3) A new entry point, SNOMED, is added to the LRWOMEN routine. This entry 
 point is called by the new indexes created with this patch (see #4 
 below) when a SNOMED code is changed for a Cytology or Surgical Pathology 
 entry. This entry point will call a Women's Health package routine.
 Integration Agreement #4525 grants the LABORATORY package permission to
 call the WVLABCHK routine.
  
 4) Two new-style indexes are added to the LAB DATA (#63) file. These 
 indexes will be executed when a SNOMED code is changed for a Cytology or 
 Surgical Pathology entry.
  
 The first index is on Subfile 63.12, Field .01 (ORGAN/TISSUE).
  FILE: 63.12
  NAME: AC
  SHORT DESCRIPTION: Notify Women's Health of SNOMED change
  TYPE: MUMPS    
  EXECUTION: FIELD
  ROOT TYPE: INDEX FILE  
  ROOT FILE: 63.12
  USE: ACTION
  DESCRIPTION:   This MUMPS cross reference calls SNOMED^LRWOMEN any time a
  change to a SNOMED code is made.  The SNOMED line tag notifies the 
  Women's Health package that a SNOMED change has been made on an already
  verified pathology report for a female patient.
  SET LOGIC: Q:$D(DIU(0))  D SNOMED^LRWOMEN
  KILL LOGIC: Q
  ORDER NUMBER: 1                       
  TYPE OF VALUE: FIELD
  FILE: 63.12           
  FIELD: .01
  SUBSCRIPT NUMBER: 1       
  COLLATION: forwards
  
 The second index is on Subfile 63.912, Field .01 (CYTOPATH ORGAN/TISSUE).
  FILE: 63.912
  NAME: AC
  SHORT DESCRIPTION: Notify Women's Health of SNOMED change
  TYPE: MUMPS      
  EXECUTION: FIELD
  ROOT TYPE: INDEX FILE        
  ROOT FILE: 63.912
  USE: ACTION
  DESCRIPTION:   This MUMPS cross reference calls SNOMED^LRWOMEN any time a
  change to a SNOMED code is made.  The SNOMED line tag notifies the 
  Women's Health package that a SNOMED change has been made on an already
  verified pathology report for a female patient.
  SET LOGIC: Q:$D(DIU(0))  D SNOMED^LRWOMEN
  KILL LOGIC: Q
  ORDER NUMBER: 1                      
  TYPE OF VALUE: FIELD
  FILE: 63.912   
  FIELD: .01
  SUBSCRIPT NUMBER: 1    
  COLLATION: forwards
  
 Documentation:
 ==============
 There are no documentation changes for this patch.
  
  
 ROUTINE SUMMARY:
 ================
  
 Below is a list of the routines included in this patch. The second line of
 each of these routines now looks like:
  
  <tab> ;;5.2;LAB SERVICE;**[patch list]**;Sep 27, 1994 
  
  
                 Checksum        Checksum
  Routine Name   Before Patch    After Patch     Patch List
  ============   ============    ===========     =============
  LR311PST       new             3501668         311
  LRWOMEN        953781          627506          231,248,311
  
 Associated NOIS: <None>
  
 Associated E3Rs: <None>
  
 Test Sites:
 ===========
  Loma Linda, CA - VMS/Cache
  Northern California HCS - VMS/DSM
  Washington, DC VAMC - VMS/DSM
  
  
 Installation Instructions:
 ==========================
  
 This patch can be installed with users on the system.  However, it is 
 recommended that installation occur when there is no Anatomic Pathology
 activity or activity is at a minimum.  This will prevent 'Cannot return to
 source routine' errors.  
  
 This patch is part of a multi-KIDS transport global. Please see the patch
 description for PXRM*2*1 for instructions to load and install this patch. 

Routine Information:
====================

Routine Name:
  - LRWOMEN


Routine Checksum:

Routine Name:
  - LR311PST


Routine Checksum:

=============================================================================
User Information:
Entered By  : TRAXLER,FRANK                 Date Entered  : OCT 09, 2003
Completed By: THOMAS,KATIE                  Date Completed: FEB 14, 2005
Released By : THORNTON,NANCY                Date Released : FEB 24, 2005
=============================================================================


Packman Mail Message:
=====================

No routines included
