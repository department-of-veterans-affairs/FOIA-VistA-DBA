$TXT Created by REDINGTON,PATRICK at DVA.ISC-SLC.VA.GOV  (KIDS) on TUESDAY, 02/24/98 at 14:19
=============================================================================
Run Date: APR 21, 1998                     Designation: USR*1*2
Package : USR - AUTHORIZATION/SUBSCRIPTION     Priority: Mandatory
Version : 1         SEQ #2                     Status: Released
=============================================================================

Associated patches: (v)USR*1*1     <<= must be installed BEFORE `USR*1*2'
                    (v)XU*8*73     <<= must be installed BEFORE `USR*1*2'

Subject: TERMINATED USERS

Category: 
  - Routine

Description: 
============

 General Overview:
 =================
 Previously a user could be added as a member of a class even if they
 had been terminated by adding the termination date in the TERMINATION
 DATE field (#9.2) of NEW PERSON file (#200). This patch changes the
 selection process so that users whose termination date has passed
 cannot be selected for inclusion as class members.
  
 This patch also adds automatic user deactivation functionality.
 Whenever a user is "deactivated" via Kernel's user management options
 termination dates will be set for all of the classes the user is a
 member of. This is done according to the following rules:
 1. If there is no termination date it is set to the current date and time.
 2. If there is a termination date and it is in the future it is set to
    the current date and time.
 3. If there is a termination date and it is in the past it is not
    changed.
 
 When useing the option USR CLASS MANAGEMENT MENU, terminated users will be
 flagged in the "list of class membership by user" by appending a
 "(terminated)" to the user's name.  In the "list of members by class"
 the user's name will be preceeded with a "(T)".
  
 ASU will now keep a complete history of a user's class memberships even after
 they have been terminated. 
  
 As part of the installation post-init, all users who have a class
 membership will be checked to see if they have been deactivated. If a
 deactivated user is found then the automatic deactivation process,
 described above, will be invoked.
  
  
 Routine Summary:
 ================
 The following is a list of the routines included in this patch.  The 
 second line of each routine looks like:
  
 <tab>;;1.0;AUTHORIZATION/SUBSCRIPTION;**[Patch List]**;Jun 20, 1997
          
  Routine         Old Checksum    New Checksum     Patch List
  =======         ============    ============     ==========
  USRLM              7452829         7802287            2
  USRMEMBR           6782366         6968606            2
  USRMLST            3036644         3688290            2
  USRP2INI             NEW            272417            2
  USRULST            2959706         3080129            2
  USRUMMBR           4688938         4919495            2 
                 
  
 NOIS Messages:
 ==============
   DAY-1097-40618
  
  
 Detailed Description:
 =====================
 1. Routines:  USRLM, USRMEMBR, USRMLST, USRUMMBR, USRULST
 A new function, $$ISTERM(USER) was added to USRLM. USRMLST and USRULST
 use this function to determine if a user has been terminated so they can
 be flagged.  This function is also used to prevent adding new class
 memberships for terminated users in USRMEMBR and USRUMMBR.
  
 2. Option:  USR USER TERMINATE
 This new option was added to the XU USER TERMINATE option so that when a user
 is deactivated the termination date is set as described in the General
 Overview.
  
 3. List Template:  USR LIST MEMBERSHIP BY CLASS
 Then entity was changed from User to Class so that the selection prompt reads
 Class(s) instead of User(s).
  
 4. Data Dictionary:  File 8930.3, USR CLASS MEMBERSHIP
 Removed the .03 and .04 fields from the "ACU" and "AUC" cross-reference.
  
 5. Routine:  USRP2INI
 This contains the pre and post-init routines. It can be deleted after
 the patch is installed. 
  
  
 Installation:
 =============
 This patch can be loaded with users on the system.  Installation will take
 less than 15 minutes.
  
 1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
  
 2. Review your mapped set.  If any of the routines are mapped, they should be
    removed from the mapped set at this time.
  
 3. On the KIDS menu under the 'INSTALLATION' menu, you may use any of the
    following options as desired:
        Print Transport Global
        Compare Transport Global to Current System
        Verify Checksums in Transport Global
        Backup a Transport Global
  
    To install the patch use the following option:
        Install Package(s) (USR*1.0*2)
  
 4. When prompted "Want to DISABLE Scheduled Options, Menu Options,
    and Protocols? YES//," respond "YES." Disable the following options:
  
    USR CLASS MANAGEMENT MENU          User Class Management
  
  
 5. If any routines were unmapped as part of step 2, they should be returned
    to the mapped set once the installation has run to completion.
  
 6. You may delete the initialization routine USRP2INI from your system.

Routine Information:
====================

Routine Name:
  - USRLM


Routine Checksum:

Routine Name:
  - USRMEMBR


Routine Checksum:

Routine Name:
  - USRMLST


Routine Checksum:

Routine Name:
  - USRP2INI


Routine Checksum:

Routine Name:
  - USRULST


Routine Checksum:

Routine Name:
  - USRUMMBR


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : REDINGTON,PATRICK              Date Entered : DEC 22, 1997
Completed By: SMITH,VAUGHN                  Date Completed: APR 17, 1998
Released By : SCOTT,JEAN M                 Date Released : APR 21, 1998
=============================================================================


Packman Mail Message:
=====================

$END TXT
