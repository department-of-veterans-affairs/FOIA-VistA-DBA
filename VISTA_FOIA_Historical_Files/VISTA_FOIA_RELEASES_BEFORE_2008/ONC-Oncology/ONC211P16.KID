KIDS Distribution saved on Mar 24, 1998@10:41:34
Oncology Patch 16
**KIDS**:ONC*2.11*16^

**INSTALL NAME**
ONC*2.11*16
"BLD",259,0)
ONC*2.11*16^ONCOLOGY^0^^y
"BLD",259,1,0)
^^1^1^2980317^^^^
"BLD",259,1,1,0)
YK2 patch for ONCOLOGY 2.11
"BLD",259,4,0)
^9.64PA^165.5^1
"BLD",259,4,165.5,0)
165.5
"BLD",259,4,165.5,2,0)
^9.641^165.5^1
"BLD",259,4,165.5,2,165.5,0)
ONCOLOGY PRIMARY  (File-top level)
"BLD",259,4,165.5,2,165.5,1,0)
^9.6411^133^11
"BLD",259,4,165.5,2,165.5,1,3.5,0)
YEAR DX
"BLD",259,4,165.5,2,165.5,1,50,0)
SURGERY OF PRIMARY SITE DATE
"BLD",259,4,165.5,2,165.5,1,51,0)
RADIATION DATE
"BLD",259,4,165.5,2,165.5,1,52,0)
RADIATION THERAPY TO CNS DATE
"BLD",259,4,165.5,2,165.5,1,53,0)
CHEMOTHERAPY DATE
"BLD",259,4,165.5,2,165.5,1,54,0)
HORMONE THERAPY DATE
"BLD",259,4,165.5,2,165.5,1,55,0)
IMMUNOTHERAPY DATE
"BLD",259,4,165.5,2,165.5,1,57,0)
OTHER TREATMENT DATE
"BLD",259,4,165.5,2,165.5,1,130,0)
RADIATION AUXILIARY DATE
"BLD",259,4,165.5,2,165.5,1,133,0)
YEAR PUT ON PROTOCOL
"BLD",259,4,165.5,2,165.5,1,136,0)
SERUM TUMOR MARKERS
"BLD",259,4,165.5,222)
y^y^p^^^^n
"BLD",259,4,"APDD",165.5,165.5)

"BLD",259,4,"APDD",165.5,165.5,3.5)

"BLD",259,4,"APDD",165.5,165.5,50)

"BLD",259,4,"APDD",165.5,165.5,51)

"BLD",259,4,"APDD",165.5,165.5,52)

"BLD",259,4,"APDD",165.5,165.5,53)

"BLD",259,4,"APDD",165.5,165.5,54)

"BLD",259,4,"APDD",165.5,165.5,55)

"BLD",259,4,"APDD",165.5,165.5,57)

"BLD",259,4,"APDD",165.5,165.5,130)

"BLD",259,4,"APDD",165.5,165.5,133)

"BLD",259,4,"APDD",165.5,165.5,136)

"BLD",259,4,"B",165.5,165.5)

"BLD",259,"ABPKG")
n
"BLD",259,"INI")
ONCPRE16
"BLD",259,"KRN",0)
^9.67PA^19^18
"BLD",259,"KRN",.4,0)
.4
"BLD",259,"KRN",.4,"NM",0)
^9.68A^41^41
"BLD",259,"KRN",.4,"NM",1,0)
ONCO ANNUAL ACCREG80    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",2,0)
ONCO ANNUAL HIST/SITE/ICDO    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",3,0)
ONCO ACCREG-ACOS80    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",4,0)
ONCO ACCREG-SITE/GP80    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",5,0)
ONCO ANNUAL CLASS/PATIENT    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",6,0)
ONCO ANNUAL ICDO/STAGE/TX    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",7,0)
ONCO ANNUAL PATIENT INDX    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",8,0)
ONCO ANNUAL PATIENT INDX-HDR    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",9,0)
ONCO ANNUAL PATIENT INFO    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",10,0)
ONCO ANNUAL SITE/GP    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",11,0)
ONCO ANNUAL SITE/GP-HDR    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",12,0)
ONCO ANNUAL SITE/STAGE/TX    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",13,0)
ONCO ANNUAL SITE/STG/TX    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",14,0)
ONCO ICDO-SITE132    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",15,0)
ONCO ICDO-SITE132-HDR    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",16,0)
ONCO ICDO-SITE80    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",17,0)
ONCO ICDO-SITE80-HDR    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",18,0)
ONCO SITE/GP80    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",19,0)
ONCO SITE/GP80-HDR    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",20,0)
ONCO SITE80    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",21,0)
ONCO SITE80-HEADER    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",22,0)
ONCOX10    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",23,0)
ONCOY49    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",24,0)
ONCOY52    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",25,0)
ONCOY55    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",26,0)
ONCOY56    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",27,0)
ONCOY57    FILE #165.5^165.5^0
"BLD",259,"KRN",.4,"NM",28,0)
ONCO DELINQUENT(LTF) LIST    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",29,0)
ONCO DUE FOLLOWUP    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",30,0)
ONCO DUE FOLLOWUP-ADM/DIS    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",31,0)
ONCO DUE FOLLOWUP-ADM/DIS-HDR    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",32,0)
ONCO DUE FOLLOWUP-HDR    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",33,0)
ONCO DUE FOLLOWUP/TERMDIG    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",34,0)
ONCO DUE FOLLOWUP/TERMDIG-HDR    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",35,0)
ONCO FOLLOW-UP STATUS LIST    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",36,0)
ONCO FOLLOWUP STATUS RPT    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",37,0)
ONCO PATIENT INDX-ACOS    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",38,0)
ONCO PATIENT INDX-ACOS-HDR    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",39,0)
ONCO PATIENT INDX-EOVA132    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",40,0)
ONCO PATIENT INDX80    FILE #160^160^0
"BLD",259,"KRN",.4,"NM",41,0)
ONCO PTF-CASEFINDING-HDR    FILE #160^160^0
"BLD",259,"KRN",.4,"NM","B","ONCO ACCREG-ACOS80    FILE #165.5",3)

"BLD",259,"KRN",.4,"NM","B","ONCO ACCREG-SITE/GP80    FILE #165.5",4)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL ACCREG80    FILE #165.5",1)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL CLASS/PATIENT    FILE #165.5",5)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL HIST/SITE/ICDO    FILE #165.5",2)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL ICDO/STAGE/TX    FILE #165.5",6)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL PATIENT INDX    FILE #165.5",7)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL PATIENT INDX-HDR    FILE #165.5",8)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL PATIENT INFO    FILE #165.5",9)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL SITE/GP    FILE #165.5",10)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL SITE/GP-HDR    FILE #165.5",11)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL SITE/STAGE/TX    FILE #165.5",12)

"BLD",259,"KRN",.4,"NM","B","ONCO ANNUAL SITE/STG/TX    FILE #165.5",13)

"BLD",259,"KRN",.4,"NM","B","ONCO DELINQUENT(LTF) LIST    FILE #160",28)

"BLD",259,"KRN",.4,"NM","B","ONCO DUE FOLLOWUP    FILE #160",29)

"BLD",259,"KRN",.4,"NM","B","ONCO DUE FOLLOWUP-ADM/DIS    FILE #160",30)

"BLD",259,"KRN",.4,"NM","B","ONCO DUE FOLLOWUP-ADM/DIS-HDR    FILE #160",31)

"BLD",259,"KRN",.4,"NM","B","ONCO DUE FOLLOWUP-HDR    FILE #160",32)

"BLD",259,"KRN",.4,"NM","B","ONCO DUE FOLLOWUP/TERMDIG    FILE #160",33)

"BLD",259,"KRN",.4,"NM","B","ONCO DUE FOLLOWUP/TERMDIG-HDR    FILE #160",34)

"BLD",259,"KRN",.4,"NM","B","ONCO FOLLOW-UP STATUS LIST    FILE #160",35)

"BLD",259,"KRN",.4,"NM","B","ONCO FOLLOWUP STATUS RPT    FILE #160",36)

"BLD",259,"KRN",.4,"NM","B","ONCO ICDO-SITE132    FILE #165.5",14)

"BLD",259,"KRN",.4,"NM","B","ONCO ICDO-SITE132-HDR    FILE #165.5",15)

"BLD",259,"KRN",.4,"NM","B","ONCO ICDO-SITE80    FILE #165.5",16)

"BLD",259,"KRN",.4,"NM","B","ONCO ICDO-SITE80-HDR    FILE #165.5",17)

"BLD",259,"KRN",.4,"NM","B","ONCO PATIENT INDX-ACOS    FILE #160",37)

"BLD",259,"KRN",.4,"NM","B","ONCO PATIENT INDX-ACOS-HDR    FILE #160",38)

"BLD",259,"KRN",.4,"NM","B","ONCO PATIENT INDX-EOVA132    FILE #160",39)

"BLD",259,"KRN",.4,"NM","B","ONCO PATIENT INDX80    FILE #160",40)

"BLD",259,"KRN",.4,"NM","B","ONCO PTF-CASEFINDING-HDR    FILE #160",41)

"BLD",259,"KRN",.4,"NM","B","ONCO SITE/GP80    FILE #165.5",18)

"BLD",259,"KRN",.4,"NM","B","ONCO SITE/GP80-HDR    FILE #165.5",19)

"BLD",259,"KRN",.4,"NM","B","ONCO SITE80    FILE #165.5",20)

"BLD",259,"KRN",.4,"NM","B","ONCO SITE80-HEADER    FILE #165.5",21)

"BLD",259,"KRN",.4,"NM","B","ONCOX10    FILE #165.5",22)

"BLD",259,"KRN",.4,"NM","B","ONCOY49    FILE #165.5",23)

"BLD",259,"KRN",.4,"NM","B","ONCOY52    FILE #165.5",24)

"BLD",259,"KRN",.4,"NM","B","ONCOY55    FILE #165.5",25)

"BLD",259,"KRN",.4,"NM","B","ONCOY56    FILE #165.5",26)

"BLD",259,"KRN",.4,"NM","B","ONCOY57    FILE #165.5",27)

"BLD",259,"KRN",.401,0)
.401
"BLD",259,"KRN",.401,"NM",0)
^9.68A^^
"BLD",259,"KRN",.402,0)
.402
"BLD",259,"KRN",.402,"NM",0)
^9.68A^2^2
"BLD",259,"KRN",.402,"NM",1,0)
ONCO ABSTRACT-I    FILE #165.5^165.5^0
"BLD",259,"KRN",.402,"NM",2,0)
ONCO RECURRENCE FOLLOWUP    FILE #165.5^165.5^0
"BLD",259,"KRN",.402,"NM","B","ONCO ABSTRACT-I    FILE #165.5",1)

"BLD",259,"KRN",.402,"NM","B","ONCO RECURRENCE FOLLOWUP    FILE #165.5",2)

"BLD",259,"KRN",.403,0)
.403
"BLD",259,"KRN",.5,0)
.5
"BLD",259,"KRN",.84,0)
.84
"BLD",259,"KRN",3.6,0)
3.6
"BLD",259,"KRN",3.8,0)
3.8
"BLD",259,"KRN",9.2,0)
9.2
"BLD",259,"KRN",9.8,0)
9.8
"BLD",259,"KRN",9.8,"NM",0)
^9.68A^53^53
"BLD",259,"KRN",9.8,"NM",1,0)
ONCODSR^^0^B44313522
"BLD",259,"KRN",9.8,"NM",2,0)
ONCTPC8A^^0^B27189048
"BLD",259,"KRN",9.8,"NM",3,0)
ONCTPC4^^0^B32657444
"BLD",259,"KRN",9.8,"NM",4,0)
ONCSPC8A^^0^B39737162
"BLD",259,"KRN",9.8,"NM",5,0)
ONCSPC4^^0^B38181307
"BLD",259,"KRN",9.8,"NM",6,0)
ONCNPC8B^^0^B33295209
"BLD",259,"KRN",9.8,"NM",7,0)
ONCNPC4^^0^B24135246
"BLD",259,"KRN",9.8,"NM",8,0)
ONCCPC9A^^0^B36996984
"BLD",259,"KRN",9.8,"NM",9,0)
ONCCPC4^^0^B42722216
"BLD",259,"KRN",9.8,"NM",10,0)
ONCBPC8A^^0^B33284452
"BLD",259,"KRN",9.8,"NM",11,0)
ONCBPC4^^0^B21169006
"BLD",259,"KRN",9.8,"NM",12,0)
ONCOPA1^^0^B33419999
"BLD",259,"KRN",9.8,"NM",13,0)
ONCPRE16^^0^B34578885
"BLD",259,"KRN",9.8,"NM",14,0)
ONCNTX^^0^B48486071
"BLD",259,"KRN",9.8,"NM",15,0)
ONCOAIP^^0^B52453013
"BLD",259,"KRN",9.8,"NM",16,0)
ONCOANCQ^^0^B24352851
"BLD",259,"KRN",9.8,"NM",17,0)
ONCOCC^^0^B5609959
"BLD",259,"KRN",9.8,"NM",18,0)
ONCOCOM^^0^B29353954
"BLD",259,"KRN",9.8,"NM",19,0)
ONCACDU1^^0^B21265561
"BLD",259,"KRN",9.8,"NM",20,0)
ONCBPC4A^^0^B38587962
"BLD",259,"KRN",9.8,"NM",21,0)
ONCCPC4A^^0^B23893949
"BLD",259,"KRN",9.8,"NM",22,0)
ONCOCOS^^0^B18121982
"BLD",259,"KRN",9.8,"NM",23,0)
ONCODXD^^0^B21123078
"BLD",259,"KRN",9.8,"NM",24,0)
ONCOES^^0^B40100327
"BLD",259,"KRN",9.8,"NM",25,0)
ONCOFDP^^0^B12054339
"BLD",259,"KRN",9.8,"NM",26,0)
ONCOPCE^^0^B23770067
"BLD",259,"KRN",9.8,"NM",27,0)
ONCSTX^^0^B4007089
"BLD",259,"KRN",9.8,"NM",28,0)
ONCUTX^^0^B42651740
"BLD",259,"KRN",9.8,"NM",29,0)
ONCODIS^^0^B1484817
"BLD",259,"KRN",9.8,"NM",30,0)
ONCOCON^^0^B15833158
"BLD",259,"KRN",9.8,"NM",31,0)
ONCNTX1^^0^B7080321
"BLD",259,"KRN",9.8,"NM",32,0)
ONCNPC4A^^0^B24957911
"BLD",259,"KRN",9.8,"NM",33,0)
ONCPPC9^^0^B28400203
"BLD",259,"KRN",9.8,"NM",34,0)
ONCPPC9A^^0^B22989622
"BLD",259,"KRN",9.8,"NM",35,0)
ONCPPC9B^^0^B27551132
"BLD",259,"KRN",9.8,"NM",36,0)
ONCPPC2^^0^B9874323
"BLD",259,"KRN",9.8,"NM",37,0)
ONCOAIF^^0^B17267344
"BLD",259,"KRN",9.8,"NM",38,0)
ONCOCKI^^0^B9392260
"BLD",259,"KRN",9.8,"NM",39,0)
ONCOCOC^^0^B10533316
"BLD",259,"KRN",9.8,"NM",40,0)
ONCODLF^^0^B22082296
"BLD",259,"KRN",9.8,"NM",41,0)
ONCOGEN^^0^B36541515
"BLD",259,"KRN",9.8,"NM",42,0)
ONCOLRU^^0^B11178200
"BLD",259,"KRN",9.8,"NM",43,0)
ONCBPC8^^0^B46622611
"BLD",259,"KRN",9.8,"NM",44,0)
ONCCPC9^^0^B43870744
"BLD",259,"KRN",9.8,"NM",45,0)
ONCNPC8^^0^B22195913
"BLD",259,"KRN",9.8,"NM",46,0)
ONCNPC8A^^0^B15586292
"BLD",259,"KRN",9.8,"NM",47,0)
ONCSPC8^^0^B42493745
"BLD",259,"KRN",9.8,"NM",48,0)
ONCTPC8^^0^B43688630
"BLD",259,"KRN",9.8,"NM",49,0)
ONCOCOML^^0^B2671216
"BLD",259,"KRN",9.8,"NM",50,0)
ONCOCRF^^0^B16172095
"BLD",259,"KRN",9.8,"NM",51,0)
ONCOPA2A^^0^B11531946
"BLD",259,"KRN",9.8,"NM",52,0)
ONCENV16^^0^B603636
"BLD",259,"KRN",9.8,"NM",53,0)
ONCOTN2A^^0^B8570168
"BLD",259,"KRN",9.8,"NM","B","ONCACDU1",19)

"BLD",259,"KRN",9.8,"NM","B","ONCBPC4",11)

"BLD",259,"KRN",9.8,"NM","B","ONCBPC4A",20)

"BLD",259,"KRN",9.8,"NM","B","ONCBPC8",43)

"BLD",259,"KRN",9.8,"NM","B","ONCBPC8A",10)

"BLD",259,"KRN",9.8,"NM","B","ONCCPC4",9)

"BLD",259,"KRN",9.8,"NM","B","ONCCPC4A",21)

"BLD",259,"KRN",9.8,"NM","B","ONCCPC9",44)

"BLD",259,"KRN",9.8,"NM","B","ONCCPC9A",8)

"BLD",259,"KRN",9.8,"NM","B","ONCENV16",52)

"BLD",259,"KRN",9.8,"NM","B","ONCNPC4",7)

"BLD",259,"KRN",9.8,"NM","B","ONCNPC4A",32)

"BLD",259,"KRN",9.8,"NM","B","ONCNPC8",45)

"BLD",259,"KRN",9.8,"NM","B","ONCNPC8A",46)

"BLD",259,"KRN",9.8,"NM","B","ONCNPC8B",6)

"BLD",259,"KRN",9.8,"NM","B","ONCNTX",14)

"BLD",259,"KRN",9.8,"NM","B","ONCNTX1",31)

"BLD",259,"KRN",9.8,"NM","B","ONCOAIF",37)

"BLD",259,"KRN",9.8,"NM","B","ONCOAIP",15)

"BLD",259,"KRN",9.8,"NM","B","ONCOANCQ",16)

"BLD",259,"KRN",9.8,"NM","B","ONCOCC",17)

"BLD",259,"KRN",9.8,"NM","B","ONCOCKI",38)

"BLD",259,"KRN",9.8,"NM","B","ONCOCOC",39)

"BLD",259,"KRN",9.8,"NM","B","ONCOCOM",18)

"BLD",259,"KRN",9.8,"NM","B","ONCOCOML",49)

"BLD",259,"KRN",9.8,"NM","B","ONCOCON",30)

"BLD",259,"KRN",9.8,"NM","B","ONCOCOS",22)

"BLD",259,"KRN",9.8,"NM","B","ONCOCRF",50)

"BLD",259,"KRN",9.8,"NM","B","ONCODIS",29)

"BLD",259,"KRN",9.8,"NM","B","ONCODLF",40)

"BLD",259,"KRN",9.8,"NM","B","ONCODSR",1)

"BLD",259,"KRN",9.8,"NM","B","ONCODXD",23)

"BLD",259,"KRN",9.8,"NM","B","ONCOES",24)

"BLD",259,"KRN",9.8,"NM","B","ONCOFDP",25)

"BLD",259,"KRN",9.8,"NM","B","ONCOGEN",41)

"BLD",259,"KRN",9.8,"NM","B","ONCOLRU",42)

"BLD",259,"KRN",9.8,"NM","B","ONCOPA1",12)

"BLD",259,"KRN",9.8,"NM","B","ONCOPA2A",51)

"BLD",259,"KRN",9.8,"NM","B","ONCOPCE",26)

"BLD",259,"KRN",9.8,"NM","B","ONCOTN2A",53)

"BLD",259,"KRN",9.8,"NM","B","ONCPPC2",36)

"BLD",259,"KRN",9.8,"NM","B","ONCPPC9",33)

"BLD",259,"KRN",9.8,"NM","B","ONCPPC9A",34)

"BLD",259,"KRN",9.8,"NM","B","ONCPPC9B",35)

"BLD",259,"KRN",9.8,"NM","B","ONCPRE16",13)

"BLD",259,"KRN",9.8,"NM","B","ONCSPC4",5)

"BLD",259,"KRN",9.8,"NM","B","ONCSPC8",47)

"BLD",259,"KRN",9.8,"NM","B","ONCSPC8A",4)

"BLD",259,"KRN",9.8,"NM","B","ONCSTX",27)

"BLD",259,"KRN",9.8,"NM","B","ONCTPC4",3)

"BLD",259,"KRN",9.8,"NM","B","ONCTPC8",48)

"BLD",259,"KRN",9.8,"NM","B","ONCTPC8A",2)

"BLD",259,"KRN",9.8,"NM","B","ONCUTX",28)

"BLD",259,"KRN",19,0)
19
"BLD",259,"KRN",19.1,0)
19.1
"BLD",259,"KRN",101,0)
101
"BLD",259,"KRN",409.61,0)
409.61
"BLD",259,"KRN",771,0)
771
"BLD",259,"KRN",869.2,0)
869.2
"BLD",259,"KRN",870,0)
870
"BLD",259,"KRN",8994,0)
8994
"BLD",259,"KRN","B",.4,.4)

"BLD",259,"KRN","B",.401,.401)

"BLD",259,"KRN","B",.402,.402)

"BLD",259,"KRN","B",.403,.403)

"BLD",259,"KRN","B",.5,.5)

"BLD",259,"KRN","B",.84,.84)

"BLD",259,"KRN","B",3.6,3.6)

"BLD",259,"KRN","B",3.8,3.8)

"BLD",259,"KRN","B",9.2,9.2)

"BLD",259,"KRN","B",9.8,9.8)

"BLD",259,"KRN","B",19,19)

"BLD",259,"KRN","B",19.1,19.1)

"BLD",259,"KRN","B",101,101)

"BLD",259,"KRN","B",409.61,409.61)

"BLD",259,"KRN","B",771,771)

"BLD",259,"KRN","B",869.2,869.2)

"BLD",259,"KRN","B",870,870)

"BLD",259,"KRN","B",8994,8994)

"BLD",259,"PRE")
ONCENV16
"BLD",259,"QUES",0)
^9.62^^
"BLD",259,"REQB",0)
^9.611^^
"FIA",165.5)
ONCOLOGY PRIMARY
"FIA",165.5,0)
^ONCO(165.5,
"FIA",165.5,0,0)
165.5IP
"FIA",165.5,0,1)
y^y^p^^^^n
"FIA",165.5,0,10)

"FIA",165.5,0,11)

"FIA",165.5,0,"RLRO")

"FIA",165.5,0,"VR")
2.11^ONC
"FIA",165.5,165.5)
1
"FIA",165.5,165.5,3.5)

"FIA",165.5,165.5,50)

"FIA",165.5,165.5,51)

"FIA",165.5,165.5,52)

"FIA",165.5,165.5,53)

"FIA",165.5,165.5,54)

"FIA",165.5,165.5,55)

"FIA",165.5,165.5,57)

"FIA",165.5,165.5,130)

"FIA",165.5,165.5,133)

"FIA",165.5,165.5,136)

"INI")
ONCPRE16
"KRN",.4,688,-1)
0^39
"KRN",.4,688,0)
ONCO PATIENT INDX-EOVA132^2980317.1133^^160^^@^2980317
"KRN",.4,688,"DXS",1,9.2)
S D=0 F  S (D,D0)=$O(^ONCO(165.5,"C",I(0,0),D)) S:D="" (D,D0)=-1 Q:D'>0  I $D(^ONCO(165.5,D,0)) S X=$P(^(0),U,1) S:$D(^ONCO(164.2,+X,0)) X=$P(^(0),U,1) S DIXX=DIXX(1) D M Q:'$D(D)  S D=D0
"KRN",.4,688,"DXS",2,9.2)
S DIP(101)=$S($D(^ONCO(165.5,D0,7)):^(7),1:"") S X=$S('$D(^VA(200,+$P(DIP(101),U,3),0)):"",1:$P(^(0),U,1)),DIP(102)=X S X=",",DIP(103)=X S X=1
"KRN",.4,688,"DXS",3,9.2)
S I(100,0)=$S($D(D0):D0,1:""),I(101,0)=$S($D(D1):D1,1:"") S DIP(203)=$C(59)_$S($D(^DD(160.04,1,0)):$P(^(0),U,3),1:""),DIP(202)=""
"KRN",.4,688,"DXS",3,9.3)
X DXS(3,9.2) X "F D1=0:0 S D1=$O(^ONCO(160,I(0,0),""F"",D1)) Q:D1'>0  S Y=$S($D(^(D1,0)):$P(^(0),U,2),1:"""") S:Y'?."" "" DIP(202)=Y" S D(1)=D1 S X=DIP(202)
"KRN",.4,688,"F",1)
.01;C1;L23~2;C25;L11~D DOB^ONCOES,DATEOT^ONCOES;X;Z;"D DOB^ONCOES,DATEOT^ONCOES"~W X;C41;L8;"DOB";Z;"W X"~8;C54;L10~
"KRN",.4,688,"F",2)
-165.5,^ONCO(165.5,^1^S I(0,0)=$S($D(D0):D0,1:"") X DXS(1,9.2) S X="" S D0=I(0,0);Z;"ONCO:"~
"KRN",.4,688,"F",3)
-165.5,X DXS(2,9.2) S X=$P(DIP(102),DIP(103),X) W X K DIP;"ABSTRACTER";C66;L14;Z;"$P(ABSTRACTER,",",1)"~-165.5,.05;"ACC #";C82~-165.5,.01;C90;L20~
"KRN",.4,688,"F",4)
-165.5,3;"DX DATE";C112;L10~
"KRN",.4,688,"F",5)
-165.5,X DXS(3,9.3) S X=$P($P(DIP(203),$C(59)_X_":",2),$C(59),1) S D0=I(100,0) S D1=I(101,0) W X K DIP;"STATUS";C124;L6;Z;"LAST(400:VITAL STATUS)"~
"KRN",.4,688,"H")
ONCOLOGY PATIENT LIST
"KRN",.4,692,-1)
0^40
"KRN",.4,692,0)
ONCO PATIENT INDX80^2980317.1127^^160^^@^2980318
"KRN",.4,692,"DXS",1,9.2)
S D=0 F  S (D,D0)=$O(^ONCO(165.5,"C",I(0,0),D)) S:D="" (D,D0)=-1 Q:D'>0  I $D(^ONCO(165.5,D,0)) S X=$P(^(0),U,1) S:$D(^ONCO(164.2,+X,0)) X=$P(^(0),U,1) S DIXX=DIXX(1) D M Q:'$D(D)  S D=D0
"KRN",.4,692,"F",1)
.01;C1;L20~2;C22;L11~10;"SX";C35;L1~-165.5,^ONCO(165.5,^1^S I(0,0)=$S($D(D0):D0,1:"") X DXS(1,9.2) S X="" S D0=I(0,0);Z;"ONCO:"~
"KRN",.4,692,"F",2)
-165.5,.061;"ACC/SEQ #";C38;L10~-165.5,.01;"PRIMARY SITE/GP";C50;L19~-165.5,3;"DATE DX";C71;L10~
"KRN",.4,692,"H")
ONCOLOGY PATIENT LIST
"KRN",.4,693,-1)
0^37
"KRN",.4,693,0)
ONCO PATIENT INDX-ACOS^2980317.105^^160^^@^2980317
"KRN",.4,693,"DXS",1,9.2)
S D=0 F  S (D,D0)=$O(^ONCO(165.5,"C",I(0,0),D)) S:D="" (D,D0)=-1 Q:D'>0  I $D(^ONCO(165.5,D,0)) S X=$P(^(0),U,1) S:$D(^ONCO(164.2,+X,0)) X=$P(^(0),U,1) S DIXX=DIXX(1) D M Q:'$D(D)  S D=D0
"KRN",.4,693,"DXS",2,9)
X $P(^DD(165.5,20.1,0),U,5,99) S DIP(101)=X S DIP(102)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=DIP(101)_" "_$S('$D(^ONCO(164,+$P(DIP(102),U,1),0)):"",1:$P(^(0),U,1))
"KRN",.4,693,"DXS",3,9)
X $P(^DD(165.5,22.1,0),U,5,99) S DIP(101)=X S DIP(102)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=DIP(101)_" "_$S('$D(^ONCO(164.1,+$P(DIP(102),U,3),0)):"",1:$P(^(0),U,1))
"KRN",.4,693,"F",1)
.01;C1;L20~2;C22;L11;X~10;C35;L1;X~D DOB^ONCOES,DATEOT^ONCOES;X;Z;"D DOB^ONCOES,DATEOT^ONCOES"~W X;C38;L10;Z;"W X"~29;C50;L10~
"KRN",.4,693,"F",2)
-165.5,^ONCO(165.5,^1^S I(0,0)=$S($D(D0):D0,1:"") X DXS(1,9.2) S X="" S D0=I(0,0);Z;"ONCOLOGY PRIMARY:"~-165.5,.061;C62;L11;X~-165.5,3;C74;L10~
"KRN",.4,693,"F",3)
-165.5,X DXS(2,9) W X K DIP;C86;L22;X;Z;"ICDO TOPOGRAPHY-CODE_" "_ICDO-TOPOGRAPHY"~
"KRN",.4,693,"F",4)
-165.5,X DXS(3,9) W X K DIP;;C110;L23;X;Z;"ICDO HISTOLOGY-CODE_" "_HISTOLOGY"~
"KRN",.4,693,"H")
[ONCO PATIENT INDX-ACOS-HDR]
"KRN",.4,698,-1)
0^29
"KRN",.4,698,0)
ONCO DUE FOLLOWUP^2980317.0929^^160^^@^2980317
"KRN",.4,698,"DXS",1,9.2)
S D=0 F  S (D,D0)=$O(^ONCO(165.5,"C",I(0,0),D)) S:D="" (D,D0)=-1 Q:D'>0  I $D(^ONCO(165.5,D,0)) S X=$P(^(0),U,1) S:$D(^ONCO(164.2,+X,0)) X=$P(^(0),U,1) S DIXX=DIXX(1) D M Q:'$D(D)  S D=D0
"KRN",.4,698,"F",1)
.01;C1;L22~2;C25;L11~D DLC^ONCOCRF,DATEOT^ONCOES;Z;"D DLC^ONCOCRF,DATEOT^ONCOES"~W X;C38;L8;Z;"W X"~
"KRN",.4,698,"F",2)
-165.5,^ONCO(165.5,^1^S I(0,0)=$S($D(D0):D0,1:"") X DXS(1,9.2) S X="" S D0=I(0,0);Z;"ONCOLOGY PRIMARY:"~-165.5,.01;C50;L17~-165.5,3;C69;L10~
"KRN",.4,698,"H")
[ONCO DUE FOLLOWUP-HDR]
"KRN",.4,700,-1)
0^28
"KRN",.4,700,0)
ONCO DELINQUENT(LTF) LIST^2980317.0917^^160^^@^2980317
"KRN",.4,700,"DXS",1,9.2)
S D=0 F  S (D,D0)=$O(^ONCO(165.5,"C",I(0,0),D)) S:D="" (D,D0)=-1 Q:D'>0  I $D(^ONCO(165.5,D,0)) S X=$P(^(0),U,1) S:$D(^ONCO(164.2,+X,0)) X=$P(^(0),U,1) S DIXX=DIXX(1) D M Q:'$D(D)  S D=D0
"KRN",.4,700,"F",1)
.01;C1;L22~2;C24;L11~D DLC^ONCOCRF,DATEOT^ONCOES;X;Z;"D DLC^ONCOCRF,DATEOT^ONCOES"~W X;C37;L8;"DATE LAST CONTACT";Z;"W X"~
"KRN",.4,700,"F",2)
-165.5,^ONCO(165.5,^1^S I(0,0)=$S($D(D0):D0,1:"") X DXS(1,9.2) S X="" S D0=I(0,0);Z;"ONCOLOGY PRIMARY:"~-165.5,.01;C49;L17~-165.5,3;C69;L10~
"KRN",.4,700,"H")
ONCOLOGY DELINQUENT (LTF) LIST
"KRN",.4,701,-1)
0^36
"KRN",.4,701,0)
ONCO FOLLOWUP STATUS RPT^2980317.1022^^160^^@^2980317
"KRN",.4,701,"DCL","160^2")
!
"KRN",.4,701,"DXS",1,9.2)
S D=0 F  S (D,D0)=$O(^ONCO(165.5,"C",I(0,0),D)) S:D="" (D,D0)=-1 Q:D'>0  I $D(^ONCO(165.5,D,0)) S X=$P(^(0),U,1) S:$D(^ONCO(164.2,+X,0)) X=$P(^(0),U,1) S DIXX=DIXX(1) D M Q:'$D(D)  S D=D0
"KRN",.4,701,"F",1)
.01;C1;L22~2;C24;L11~D DLC^ONCOCRF,DATEOT^ONCOES;X;Z;"D DLC^ONCOCRF,DATEOT^ONCOES"~W X;C37;L8;"DATE LAST CONTACT";Z;"W X"~15;C49;L5~15.2;C56;L8~
"KRN",.4,701,"F",2)
27;C66;L10~-165.5,^ONCO(165.5,^1^S I(0,0)=$S($D(D0):D0,1:"") X DXS(1,9.2) S X="" S D0=I(0,0);Z;"ONCOLOGY PRIMARY:"~-165.5,.01;C78;L18~-165.5,3;C98;L10~
"KRN",.4,701,"F",3)
-165.5,.042;C110;L12~-165.5,.061;C123~
"KRN",.4,701,"H")
ONCOLOGY FOLLOW-UP STATUS LIST
"KRN",.4,703,-1)
0^30
"KRN",.4,703,0)
ONCO DUE FOLLOWUP-ADM/DIS^2980317.0947^^160^^@^2980317
"KRN",.4,703,"DXS",1,9.2)
S D=0 F  S (D,D0)=$O(^ONCO(165.5,"C",I(0,0),D)) S:D="" (D,D0)=-1 Q:D'>0  I $D(^ONCO(165.5,D,0)) S X=$P(^(0),U,1) S:$D(^ONCO(164.2,+X,0)) X=$P(^(0),U,1) S DIXX=DIXX(1) D M Q:'$D(D)  S D=D0
"KRN",.4,703,"F",1)
.01;C1;L17~2;C19;L11~-165.5,^ONCO(165.5,^1^S I(0,0)=$S($D(D0):D0,1:"") X DXS(1,9.2) S X="" S D0=I(0,0);Z;"ONCO:"~-165.5,.01;C32;L15~-165.5,3;C48;L10~
"KRN",.4,703,"F",2)
D LAD^ONCOCON,DATEOT^ONCOES;X;Z;"D LAD^ONCOCON,DATEOT^ONCOES"~W X;C59;L10;"LAST ADMIT DATE";Z;"W X"~
"KRN",.4,703,"F",3)
D LDD^ONCOCON,DATEOT^ONCOES;X;Z;"D LDD^ONCOCON,DATEOT^ONCOES"~W X;C70;L10;"LAST DISCHARGE DATE";Z;"W X"~
"KRN",.4,703,"H")
[ONCO DUE FOLLOWUP-ADM/DIS-HDR]
"KRN",.4,704,-1)
0^31
"KRN",.4,704,0)
ONCO DUE FOLLOWUP-ADM/DIS-HDR^2980317.0951^^160^^@^2980317
"KRN",.4,704,"F",1)
"********************************************************************************";C1;~"ONCOLOGY Patient DUE FOLLOW-UP LIST";C1~45;C45;L18~
"KRN",.4,704,"F",2)
"PAGE: ";C73~S X=$S($D(DC)#2:DC,1:"") W X K DIP;C79;R2;Z;"PAGE"~" ";C1~"Patient Name";C1;X~"Med Rec #";C19;X~"Primary Site/Gp";C32;X~"Date Dx";C48;X~
"KRN",.4,704,"F",3)
"Last Adm";C59;X~"Last Dis";C70;X~"********************************************************************************";C1~
"KRN",.4,704,"H")
@
"KRN",.4,704,"SUB")
1
"KRN",.4,707,-1)
0^33
"KRN",.4,707,0)
ONCO DUE FOLLOWUP/TERMDIG^2980317.0954^^160^^@^2980317
"KRN",.4,707,"DCL","160^2")
!
"KRN",.4,707,"F",1)
.01;C1;L30~2;C35;L11~D LAD^ONCOCON,DATEOT^ONCOES;Z;"D LAD^ONCOCON,DATEOT^ONCOES"~W X;C55;L8;Z;"W X"~
"KRN",.4,707,"F",2)
D LDD^ONCOCON,DATEOT^ONCOES;Z;"D LDD^ONCOCON,DATEOT^ONCOES"~W X;C71;L10;Z;"W X"~
"KRN",.4,707,"H")
[ONCO DUE FOLLOWUP/TERMDIG-HDR]
"KRN",.4,709,-1)
0^34
"KRN",.4,709,0)
ONCO DUE FOLLOWUP/TERMDIG-HDR^2980317.0956^^160^^@^2980317
"KRN",.4,709,"F",1)
"********************************************************************************";C1~"ONCOLOGY 'DUE Follow-up' CHART Request - FILEROOM";C1~
"KRN",.4,709,"F",2)
45;C58;L12~"PAGE: ";C73;L5~S X=$S($D(DC)#2:DC,1:"") W X K DIP;C79;R2;Z;"PAGE"~W " ";C1;Z;"W " ""~"Patient";C1;X~"Medical";C35;X~"LAST";C58;X~
"KRN",.4,709,"F",3)
"LAST";C74;X~"NAME";C4;X~"Record#";C35;X~"Admission";X;C55~"Discharge";X;C71~
"KRN",.4,709,"F",4)
W "********************************************************************************";C1;Z;;Z;"W "********************************************************************************""~
"KRN",.4,709,"F",5)
33.2~
"KRN",.4,709,"H")
@
"KRN",.4,709,"SUB")
1
"KRN",.4,711,-1)
0^32
"KRN",.4,711,0)
ONCO DUE FOLLOWUP-HDR^2980317.0932^^160^^@^2980317
"KRN",.4,711,"F",1)
"********************************************************************************";C1~"TUMOR REGISTRY - DUE FOLLOW-UP";C1~
"KRN",.4,711,"F",2)
S X=$G(^DD("SITE")) W X;C35;Z;"S X=$G(^DD("SITE")) W X"~45;C58;L18~"PAGE: ";C73~S X=$S($D(DC)#2:DC,1:"") W X K DIP;C79;R2;Z;"PAGE"~" ";C1~
"KRN",.4,711,"F",3)
"Patient Name";C1;X~"Med Rec#";C25;X~"Contact";C38;X~"Primary Site/Gp";C50;X~"Date Dx";C69;X~
"KRN",.4,711,"F",4)
"********************************************************************************";C1~
"KRN",.4,711,"H")
@
"KRN",.4,711,"SUB")
1
"KRN",.4,712,-1)
0^38
"KRN",.4,712,0)
ONCO PATIENT INDX-ACOS-HDR^2980317.1107^^160^^@^2980317
"KRN",.4,712,"%D",0)
^^1^1^2910319^
"KRN",.4,712,"%D",1,0)
HEADER TEMPLATE for ACOS Patient Index in 132 column format.
"KRN",.4,712,"F",1)
"************************************************************************************************************************************";C1~
"KRN",.4,712,"F",2)
"ACOS PATIENT INDEX: ";C1~.012;C21~W ^DD("SITE");C55;Z;"W ^DD("SITE")"~
"KRN",.4,712,"F",3)
S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100) S Y=X D DT K DIP;C90;L18;Z;"NOW"~"PAGE: ";C122~
"KRN",.4,712,"F",4)
S X=$S($D(DC)#2:DC,1:"") W X K DIP;C128;R5;Z;"PAGE"~" ";C1~"PATIENT NAME";C1~"MED RECORD#";C22~"SEX";C34~"DT-BIRTH";C39~"DT-DEATH";C51~
"KRN",.4,712,"F",5)
"ACC/SEQ-NO";C62~"DATE DX";C74~"ICDO - TOPOGRAPHY";C86;~"ICDO - MORPHOLOGY";C110;~
"KRN",.4,712,"F",6)
"************************************************************************************************************************************";C1~
"KRN",.4,712,"H")
@
"KRN",.4,712,"SUB")
1
"KRN",.4,715,-1)
0^35
"KRN",.4,715,0)
ONCO FOLLOW-UP STATUS LIST^2980317.1007^^160^^@^2980317
"KRN",.4,715,"DCL","160^2")
!
"KRN",.4,715,"DXS",1,9.2)
S D=0 F  S (D,D0)=$O(^ONCO(165.5,"C",I(0,0),D)) S:D="" (D,D0)=-1 Q:D'>0  I $D(^ONCO(165.5,D,0)) S X=$P(^(0),U,1) S:$D(^ONCO(164.2,+X,0)) X=$P(^(0),U,1) S DIXX=DIXX(1) D M Q:'$D(D)  S D=D0
"KRN",.4,715,"F",1)
.01;C1;L22~2;C24;L11~D DLC^ONCOCRF,DATEOT^ONCOES;X;Z;"D DLC^ONCOCRF,DATEOT^ONCOES"~W X;C37;L10;"DATE LAST CONTACT";Z;"W X"~15;C49;L5~27;C56;L8~
"KRN",.4,715,"F",2)
-165.5,^ONCO(165.5,^1^S I(0,0)=$S($D(D0):D0,1:"") X DXS(1,9.2) S X="" S D0=I(0,0);Z;"ONCOLOGY PRIMARY:"~-165.5,.01;C66;L18~-165.5,3;C86;L10~-165.5,95;C98;L10~
"KRN",.4,715,"F",3)
-165.5,.042;C110;L12~-165.5,.061;C123~
"KRN",.4,715,"H")
ONCOLOGY FOLLOW-UP STATUS LIST
"KRN",.4,718,-1)
0^41
"KRN",.4,718,0)
ONCO PTF-CASEFINDING-HDR^2980317.1134^^160^^@^2980317
"KRN",.4,718,"F",1)

"KRN",.4,718,"F",2)
W !,"--------------------------------------------------------------------------------";Z;;Z;"W !,"--------------------------------------------------------------------------------""~
"KRN",.4,718,"F",3)
"PTF-CASEFINDING LIST";C1~W ^DD("SITE");C35;X;"W ^DD("SITE")";Z;"W ^DD("SITE")"~S X=DT D DD^ONCOES W X;C70;X;;Z;"S X=DT D DD^ONCOES W X"~
"KRN",.4,718,"F",4)
"Patient Name";C1;X~"PtID#";C23;X~"Admit - Disch";X;C32~"Level/ICD9";X;C49~"Description";X;C65~
"KRN",.4,718,"F",5)
W !,"--------------------------------------------------------------------------------";Z;;Z;"W !,"--------------------------------------------------------------------------------""~
"KRN",.4,718,"H")
@
"KRN",.4,718,"SUB")
1
"KRN",.4,730,-1)
0^25
"KRN",.4,730,0)
ONCOY55^2980318.0931^^165.5^^@^2980318
"KRN",.4,730,"DXS",1,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,53.2,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,3)):^(3),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,13)_":",2),$C(59),1)
"KRN",.4,730,"DXS",2,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,54.2,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,3)):^(3),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,16)_":",2),$C(59),1)
"KRN",.4,730,"DXS",3,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,55.2,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,3)):^(3),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,19)_":",2),$C(59),1)
"KRN",.4,730,"DXS",4,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,57.2,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,3)):^(3),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,25)_":",2),$C(59),1)
"KRN",.4,730,"DXS",5,0)
Not available
"KRN",.4,730,"DXS",5,1)
On protocol
"KRN",.4,730,"DXS",5,2)
Ineligible (age,stage,etc.)
"KRN",.4,730,"DXS",5,3)
Ineligible (comorbidity, preexist cond)
"KRN",.4,730,"DXS",5,4)
Entered but withdrawn
"KRN",.4,730,"DXS",5,6)
Eligible, not entered
"KRN",.4,730,"DXS",5,7)
Eligible, refused
"KRN",.4,730,"DXS",5,8)
Not recommended
"KRN",.4,730,"DXS",5,9)
Unknown
"KRN",.4,730,"DXS",6,10)
ACS
"KRN",.4,730,"DXS",6,11)
National protocol, NOS
"KRN",.4,730,"DXS",6,99)
Unknown
"KRN",.4,730,"DXS",6,"00")
Not on/NA
"KRN",.4,730,"DXS",6,"01")
NSABP
"KRN",.4,730,"DXS",6,"02")
GOG
"KRN",.4,730,"DXS",6,"03")
RTOG
"KRN",.4,730,"DXS",6,"04")
SWOG
"KRN",.4,730,"DXS",6,"05")
ECOG
"KRN",.4,730,"DXS",6,"06")
POG
"KRN",.4,730,"DXS",6,"07")
CCG
"KRN",.4,730,"DXS",6,"08")
CALGB
"KRN",.4,730,"DXS",6,"09")
NCI
"KRN",.4,730,"F",1)
"Chemotherapy:  ";C5;S1~53;X;L10~
"KRN",.4,730,"F",2)
X DXS(1,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;C32;Z;"LOWERCASE(CHEMOTHERAPY)"~
"KRN",.4,730,"F",3)
"Hormone Therapy:  ";C2~54;X;L10~
"KRN",.4,730,"F",4)
X DXS(2,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;C32;Z;"LOWERCASE(HORMONE THERAPY)"~
"KRN",.4,730,"F",5)
"Immunotherapy:  ";C4~55;X;L10~
"KRN",.4,730,"F",6)
X DXS(3,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;C32;Z;"LOWERCASE(IMMUNOTHERAPY (BRM))"~
"KRN",.4,730,"F",7)
"Other Treatment:  ";C2~57;X;L10~
"KRN",.4,730,"F",8)
X DXS(4,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;C32;Z;"LOWERCASE(OTHER TREATMENT)"~
"KRN",.4,730,"F",9)
"Protocol Eligibility Status:  ";C2;S~346;X;L40~"Year Put on Protocol:  ";C2~133;X;C32~"Protocol Participation:  ";C2~560;C32;X~" ";C2~
"KRN",.4,730,"H")
@
"KRN",.4,730,"IOM")
80
"KRN",.4,730,"LAST")

"KRN",.4,730,"ROU")
^ONCOY55
"KRN",.4,730,"ROUOLD")
ONCOY55
"KRN",.4,730,"SUB")
1
"KRN",.4,731,-1)
0^26
"KRN",.4,731,0)
ONCOY56^2980318.0758^^165.5^^@^2980318
"KRN",.4,731,"DXS",1,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,5)):^(5),1:""),Y=$P(DIP(1),U,2) X:$D(^DD(165.5,71,2)) ^(2) S X=Y
"KRN",.4,731,"DXS",2,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,71.1,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,5)):^(5),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,3)_":",2),$C(59),1)
"KRN",.4,731,"DXS",3,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,71.2,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,5)):^(5),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,4)_":",2),$C(59),1)
"KRN",.4,731,"DXS",4,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,71.3,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,5)):^(5),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,5)_":",2),$C(59),1)
"KRN",.4,731,"DXS",5,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,23,D1,0)):^(0),1:""),Y=$P(DIP(1),U,2) X:$D(^DD(165.572,.02,2)) ^(2) S X=Y
"KRN",.4,731,"DXS",6,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.572,.03,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,23,D1,0)):^(0),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,3)_":",2),$C(59),1)
"KRN",.4,731,"DXS",7,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.572,.031,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,23,D1,0)):^(0),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,4)_":",2),$C(59),1)
"KRN",.4,731,"DXS",8,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.572,.032,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,23,D1,0)):^(0),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,5)_":",2),$C(59),1)
"KRN",.4,731,"F",1)
"** RECURRENCES **";C5;S1;X~"Recurrence Date:  ";C2;S1~70;X;L10~"Type of 1st Recurrence:  ";C2~
"KRN",.4,731,"F",2)
X DXS(1,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(TYPE of FIRST RECURRENCE)"~
"KRN",.4,731,"F",3)
"Distant Site 1:  ";C2~
"KRN",.4,731,"F",4)
X DXS(2,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DISTANT SITE 1)"~
"KRN",.4,731,"F",5)
"Distant Site 2:  ";C2~
"KRN",.4,731,"F",6)
X DXS(3,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DISTANT SITE 2)"~
"KRN",.4,731,"F",7)
"Distant Site 3:  ";C2~
"KRN",.4,731,"F",8)
X DXS(4,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DISTANT SITE 3)"~
"KRN",.4,731,"F",9)
72,"Subsequent Recurrence Date:  ";C2;S1~72,.01;X;L10~72,"Type of Subsequent Recurrence:  ";C2~
"KRN",.4,731,"F",10)
72,X DXS(5,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(TYPE)"~
"KRN",.4,731,"F",11)
72,"Distant Site 1:  ";C2~
"KRN",.4,731,"F",12)
72,X DXS(6,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DISTANT SITE 1)"~
"KRN",.4,731,"F",13)
72,"Distant Site 2:  ";C2~
"KRN",.4,731,"F",14)
72,X DXS(7,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DISTANT SITE 2)"~
"KRN",.4,731,"F",15)
72,"Distant Site 3:  ";C2~
"KRN",.4,731,"F",16)
72,X DXS(8,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DISTANT SITE 3)"~
"KRN",.4,731,"H")
@
"KRN",.4,731,"IOM")
80
"KRN",.4,731,"LAST")

"KRN",.4,731,"ROU")
^ONCOY56
"KRN",.4,731,"ROUOLD")
ONCOY56
"KRN",.4,731,"SUB")
1
"KRN",.4,732,-1)
0^27
"KRN",.4,732,0)
ONCOY57^2980318.0822^^165.5^^@^2980318
"KRN",.4,732,"DXS",1,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,4,D1,0)):^(0),1:""),Y=$P(DIP(1),U,3) X:$D(^DD(165.51,2,2)) ^(2) S X=Y
"KRN",.4,732,"DXS",2,0)
None
"KRN",.4,732,"DXS",2,1)
Beam Radiation
"KRN",.4,732,"DXS",2,2)
Radioactive Implants
"KRN",.4,732,"DXS",2,3)
Radioisotopes
"KRN",.4,732,"DXS",2,4)
Combination of Beam + Implants or Isotopes
"KRN",.4,732,"DXS",2,5)
Radiation NOS
"KRN",.4,732,"DXS",2,7)
Radiation Therapy Refused
"KRN",.4,732,"DXS",2,8)
Recommended, Unknown if Given
"KRN",.4,732,"DXS",2,9)
Unknown if Recommended/Given
"KRN",.4,732,"DXS",3,0)
None
"KRN",.4,732,"DXS",3,1)
Radiation Given
"KRN",.4,732,"DXS",3,7)
Refused Radiation
"KRN",.4,732,"DXS",3,8)
Recommended, Unknown if Given
"KRN",.4,732,"DXS",3,9)
Unknown if Recommended/Given or Not Applic
"KRN",.4,732,"DXS",4,0)
None
"KRN",.4,732,"DXS",4,1)
Chemotherapy NOS
"KRN",.4,732,"DXS",4,2)
Chemotherapy, single agent
"KRN",.4,732,"DXS",4,3)
Chemotherapy, multiple agents
"KRN",.4,732,"DXS",4,7)
Chemotherapy refused
"KRN",.4,732,"DXS",4,8)
Recommended, unknown if given
"KRN",.4,732,"DXS",4,9)
Unknown if Recommended/Given
"KRN",.4,732,"DXS",5,0)
None
"KRN",.4,732,"DXS",5,1)
Hormones (inc NOS & antihormones)
"KRN",.4,732,"DXS",5,2)
Endocrine surgery and/or Radiation Therapy
"KRN",.4,732,"DXS",5,3)
Comb. Hormones/Endocrine Surgery +/ Rad. Ther.
"KRN",.4,732,"DXS",5,7)
Hormonal therapy refused
"KRN",.4,732,"DXS",5,8)
Recommended, unknown if given
"KRN",.4,732,"DXS",5,9)
Unknown
"KRN",.4,732,"DXS",6,0)
None
"KRN",.4,732,"DXS",6,1)
BRM
"KRN",.4,732,"DXS",6,2)
Bone marrow trans-autologous
"KRN",.4,732,"DXS",6,3)
Bone marrow trans-allogenic
"KRN",.4,732,"DXS",6,4)
Bone marrow trans, NOS
"KRN",.4,732,"DXS",6,5)
Stem cell transplant
"KRN",.4,732,"DXS",6,6)
Combination 1 and 2,3,4 or 5
"KRN",.4,732,"DXS",6,7)
Patient refused
"KRN",.4,732,"DXS",6,8)
BRM recommended
"KRN",.4,732,"DXS",6,9)
Unknown
"KRN",.4,732,"DXS",7,0)
None
"KRN",.4,732,"DXS",7,1)
Other Cancer-directed therapy
"KRN",.4,732,"DXS",7,2)
Experimental therapy given
"KRN",.4,732,"DXS",7,3)
Double-blind clinical trial, code not broken
"KRN",.4,732,"DXS",7,6)
Unproven therapy given
"KRN",.4,732,"DXS",7,7)
Refused therapy of codes 1-3
"KRN",.4,732,"DXS",7,8)
Recommended, unknown if given
"KRN",.4,732,"DXS",7,9)
Unknown
"KRN",.4,732,"F",1)
"** SUBSEQUENT THERAPY **";C5;S1;X~60,"Subsequent Treatment Date:  ";C2;S1~60,.01;X;L10~
"KRN",.4,732,"F",2)
60,X DXS(1,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;C42;X;Z;"LOWERCASE(PLACE)"~
"KRN",.4,732,"F",3)
60,"Surgery of Primary Site: ";C2;S~60,.04;X;L42~60," ";X~60,.041;X~60,"Scope of Lymph Node Surgery: ";C2~60,35;X;L42~60,"Number of Nodes Removed: ";C2~
"KRN",.4,732,"F",4)
60,37;X~60,"Surgery of Other Sites/Nodes: ";C2~60,36;X;L42~60,"Recon/Restore - Delayed: ";C2~60,34~60," ";X~60,33;X;L42~60,"Radiation: ";C2~60,.05;X~
"KRN",.4,732,"F",5)
60," ";X~60,.051;X~60,"Radiation Therapy to CNS: ";C2~60,.03;X;L42~60," ";X~60,.031;X~60,"Chemotherapy: ";C2~60,.06;X~60," ";X~60,.061;X~
"KRN",.4,732,"F",6)
60,"Hormone Therapy: ";C2~60,.07;X~60," ";X~60,.071;X~60,"Immunotherapy: ";C2~60,.08;X~60," ";X~60,.081;X~60,"Other Cancer Therapy: ";C2~60,.09;X~
"KRN",.4,732,"F",7)
60," ";X~60,.091;X~
"KRN",.4,732,"H")
@
"KRN",.4,732,"IOM")
80
"KRN",.4,732,"LAST")

"KRN",.4,732,"ROU")
^ONCOY57
"KRN",.4,732,"ROUOLD")
ONCOY57
"KRN",.4,732,"SUB")
1
"KRN",.4,734,-1)
0^23
"KRN",.4,734,0)
ONCOY49^2980317.1611^^165.5^^@^2980324
"KRN",.4,734,"DXS",1,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,7)):^(7),1:"") S X=$S('$D(^VA(200,+$P(DIP(1),U,3),0)):"",1:$P(^(0),U,1))
"KRN",.4,734,"DXS",2,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,3) X:$D(^DD(165.5,.03,2)) ^(2) S X=Y
"KRN",.4,734,"DXS",3,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),D0=$P(DIP(1),U,2) S:'$D(^ONCO(160,+D0,0)) D0=-1 X $P(^DD(160,2,0),U,5,99) S DIP(101)=X
"KRN",.4,734,"DXS",4,9.2)
S DIP(2)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X="  ",DIP(1)=X S X=$S('$D(^ONCO(164.2,+$P(DIP(2),U,1),0)):"",1:$P(^(0),U,1))
"KRN",.4,734,"F",1)
"CANCER REGISTRY ABSTRACT";C20~"Abstracted by: ";C5;S1~
"KRN",.4,734,"F",2)
X DXS(1,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(ABSTRACTER)"~" - ";X~
"KRN",.4,734,"F",3)
X DXS(2,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(#.03)"~" - ";X~90;X;L10~
"KRN",.4,734,"F",4)
"Patient Summary/Abstract for: ";C5~.02;X~"  ";X~X DXS(3,9.2) S X=DIP(101) S D0=I(0,0) W X K DIP;X;Z;".02:2"~
"KRN",.4,734,"F",5)
X DXS(4,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" S Y=X,X=DIP(1),X=X S X=X_Y W X K DIP;C3;Z;""  "_LOWERCASE(SITE/GP)"~
"KRN",.4,734,"H")
@
"KRN",.4,734,"IOM")
80
"KRN",.4,734,"LAST")

"KRN",.4,734,"ROU")
^ONCOY49
"KRN",.4,734,"ROUOLD")
ONCOY49
"KRN",.4,734,"SUB")
1
"KRN",.4,735,-1)
0^11
"KRN",.4,735,0)
ONCO ANNUAL SITE/GP-HDR^2980317.16^^165.5^^@^2980317
"KRN",.4,735,"DXS",1,9)
X $P(^DD(165.5,.0101,0),U,5,99) S DIP(2)=X S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X="ACOS SITE/GP INDEX - "_$P(DIP(1),U,7)_": "_DIP(2)
"KRN",.4,735,"F",1)
"************************************************************************************************************************************";C1~
"KRN",.4,735,"F",2)
X DXS(1,9) W X K DIP;C1;Z;""ACOS SITE/GP INDEX - "_ACCESSION YEAR_": "_PRIMARY SITE/GP"~S X=^DD("SITE") W X;C60;Z;"S X=^DD("SITE") W X"~
"KRN",.4,735,"F",3)
S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100) S Y=X D DT K DIP;C90;L18;Z;"NOW"~"PAGE ";C122;L5~
"KRN",.4,735,"F",4)
S X=$S($D(DC)#2:DC,1:"") W X K DIP;C127;R6;Z;"PAGE"~" ";C1~"PATIENT NAME";C1~"MED RECORD#";C24;~"S";C36;~"DT-BIRTH";C38;~"DT-DEATH";C49;~
"KRN",.4,735,"F",5)
"ACC/SEQ-NO";C60;~"DATE DX";C72;~"ICDO - TOPOGRAPHY";C83;~"ICDO - MORPHOPLOGY";C107;~
"KRN",.4,735,"F",6)
"************************************************************************************************************************************";C1~
"KRN",.4,735,"H")
@
"KRN",.4,735,"SUB")
1
"KRN",.4,736,-1)
0^10
"KRN",.4,736,0)
ONCO ANNUAL SITE/GP^2980317.1555^^165.5^^@^2980317
"KRN",.4,736,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L22;X~-160,2;C24;L11;X~
"KRN",.4,736,"F",2)
-160,10;C36;L1;X~-160,D DOB^ONCOES,DATEOT^ONCOES;Z;"D DOB^ONCOES,DATEOT^ONCOES"~-160,W X;C38;L8;X;Z;"W X"~-160,29;C49;L10;X~.061;C60;L10;X~3;C72;L10;X~
"KRN",.4,736,"F",3)
-164,^ONCO(164,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,1),X=X S D(0)=+X;Z;"20:"~-164,1;C83;L5;X~-164,.01;C89;L17;X~
"KRN",.4,736,"F",4)
-164.1,^ONCO(164.1,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,3),X=X S D(0)=+X;Z;"22:"~-164.1,1;C107;L6;X~
"KRN",.4,736,"F",5)
-164.1,.01;C114;L18;X~
"KRN",.4,736,"H")
[ONCO ANNUAL SITE/GP-HDR]
"KRN",.4,737,-1)
0^17
"KRN",.4,737,0)
ONCO ICDO-SITE80-HDR^2980317.1433^^165.5^^@^2980317
"KRN",.4,737,"DXS",1,9)
W !,"--------------------------------------------------------------------------------"
"KRN",.4,737,"DXS",2,9)
X $P(^DD(165.5,.023,0),U,5,99) S DIP(1)=X S DIP(2)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X="ICDO-SITE: "_DIP(1)_"-"_$S('$D(^ONCO(164.08,+$P(DIP(2),U,22),0)):"",1:$P(^(0),U,1))
"KRN",.4,737,"F",1)
X DXS(1,9);C1;;Z;"W !,"--------------------------------------------------------------------------------""~
"KRN",.4,737,"F",2)
X DXS(2,9) W X K DIP;C1;L52;Z;""ICDO-SITE: "_ICDO-SITE CODE_"-"_ICDO-SITE"~S X=DT S Y=X D DT K DIP;C55;L12;Z;"TODAY"~"PAGE";C73;L5;X~
"KRN",.4,737,"F",3)
S X=$S($D(DC)#2:DC,1:"") W X K DIP;C78;R3;X;Z;;Z;"S X=$S($D(DC)#2:DC,1:"") W X K DIP"~" ";C1~"PATIENT NAME";C1~"Med Rec#";C23~"YR";C36~
"KRN",.4,737,"F",4)
"ACCESS/SEQ";C41~"ICDO-Topography";C53~"Dt Diag.";C70~"--------------------------------------------------------------------------------";C1~
"KRN",.4,737,"H")
@
"KRN",.4,737,"SUB")
1
"KRN",.4,738,-1)
0^16
"KRN",.4,738,0)
ONCO ICDO-SITE80^2980317.143^^165.5^^@^2980317
"KRN",.4,738,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L21~-160,2;C23;L11~
"KRN",.4,738,"F",2)
.07;C36;L4~.061;C41;L10~20;C53;L15~3;C70;L10~
"KRN",.4,738,"H")
[ONCO ICDO-SITE80-HDR]
"KRN",.4,739,-1)
0^15
"KRN",.4,739,0)
ONCO ICDO-SITE132-HDR^2980317.1425^^165.5^^@^2980317
"KRN",.4,739,"DXS",1,9)
X $P(^DD(165.5,.023,0),U,5,99) S DIP(1)=X S DIP(2)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X="PRIMARY ICDO: "_DIP(1)_"-"_$S('$D(^ONCO(164.08,+$P(DIP(2),U,22),0)):"",1:$P(^(0),U,1))
"KRN",.4,739,"F",1)
"************************************************************************************************************************************";C1~
"KRN",.4,739,"F",2)
X DXS(1,9) W X K DIP;C1;Z;""PRIMARY ICDO: "_ICDO-SITE CODE_"-"_ICDO-SITE"~S X=^DD("SITE") W X;C65;Z;"S X=^DD("SITE") W X"~
"KRN",.4,739,"F",3)
S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100) S Y=X D DT K DIP;C90;L18;Z;"NOW"~"PAGE ";C122;L5~
"KRN",.4,739,"F",4)
S X=$S($D(DC)#2:DC,1:"") W X K DIP;C127;R6;Z;"PAGE"~" ";C1~"PATIENT NAME";C1~"MED RECORD#";C22~"DT-BIRTH";C35;~"DT-DEATH";C47~"YR";C59~
"KRN",.4,739,"F",5)
"ACC/SEQ-NO";C65~"DATE DX";C77~"ICDO - TOPOGRAPHY";C89;~"ICDO - MORPHOPLOGY";C112;~
"KRN",.4,739,"F",6)
"************************************************************************************************************************************";C1~
"KRN",.4,739,"H")
@
"KRN",.4,739,"SUB")
1
"KRN",.4,740,-1)
0^14
"KRN",.4,740,0)
ONCO ICDO-SITE132^2980317.1419^^165.5^^@^2980317
"KRN",.4,740,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L20;X~-160,2;C22;L11;X~
"KRN",.4,740,"F",2)
-160,D DOB^ONCOES,DATEOT^ONCOES;Z;"D DOB^ONCOES,DATEOT^ONCOES"~-160,W X;C35;L10;X;Z;"W X"~-160,29;C47;L10;X~.07;C59;L4;X~.061;C65;L10;X~3;C77;L10;X~
"KRN",.4,740,"F",3)
-164,^ONCO(164,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,1),X=X S D(0)=+X;Z;"20:"~-164,1;C89;L5;X~-164,.01;C95;L15;X~
"KRN",.4,740,"F",4)
-164.1,^ONCO(164.1,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,3),X=X S D(0)=+X;Z;"22:"~-164.1,1;C112;L6;X~
"KRN",.4,740,"F",5)
-164.1,.01;C119;L14;X~
"KRN",.4,740,"H")
[ONCO ICDO-SITE132-HDR]
"KRN",.4,741,-1)
0^20
"KRN",.4,741,0)
ONCO SITE80^2980317.1503^^165.5^^@^2980317
"KRN",.4,741,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L21~-160,2;C23;L11~
"KRN",.4,741,"F",2)
.07;C36;L4~.061;C41;L10~20;C53;L16~3;C71;L10~
"KRN",.4,741,"H")
[ONCO SITE80-HEADER]
"KRN",.4,742,-1)
0^21
"KRN",.4,742,0)
ONCO SITE80-HEADER^2980317.1507^^165.5^^@^2980317
"KRN",.4,742,"F",1)

"KRN",.4,742,"F",2)
W !,"-------------------------------------------------------------------------------";Z;"W !,"-------------------------------------------------------------------------------""~
"KRN",.4,742,"F",3)
"ICDO TOPOGRAPHY by SITE/GP";C1~S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100) S Y=X D DT K DIP;C45;L18;Z;"NOW"~"PAGE";C70;L5;X~
"KRN",.4,742,"F",4)
S X=$S($D(DC)#2:DC,1:"") W X K DIP;C75;R5;X;Z;;Z;"S X=$S($D(DC)#2:DC,1:"") W X K DIP"~" ";C1~"PATIENT NAME";C1~"Med Red#";C23~"YR";C36~
"KRN",.4,742,"F",5)
"ACCESS/SEQ";C41~"ICDO-Topography";C53~"DT DIAG";C71~"-------------------------------------------------------------------------------";C1~
"KRN",.4,742,"H")
@
"KRN",.4,742,"SUB")
1
"KRN",.4,747,-1)
0^3
"KRN",.4,747,0)
ONCO ACCREG-ACOS80^2980317.0927^^165.5^^@^2980318
"KRN",.4,747,"F",1)
.061;"ACC/SEQ#";C1;L10~-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~
"KRN",.4,747,"F",2)
-160,.01;"PATIENT NAME";C13;L22~-164,^ONCO(164,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,1),X=X S D(0)=+X;Z;"20:"~
"KRN",.4,747,"F",3)
-164,1;"ICDO";C37;L5~20;"TOPOGRAPHY";C44;L19~3;"DATE DX";C65;L10~.07;"YEAR";C77~
"KRN",.4,747,"H")
ACCESSON LIST (ACOS) complete
"KRN",.4,749,-1)
0^4
"KRN",.4,749,0)
ONCO ACCREG-SITE/GP80^2980317.0932^^165.5^^@^2980317
"KRN",.4,749,"F",1)
.061;"ACC/SEQ#";C1;L10~-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~
"KRN",.4,749,"F",2)
-160,.01;"PATIENT NAME";C13;L19~-160,2;"MED REC#";C34;L11~.01;"PRIMARY SITE/GP";C47;L16~3;"DATE DX";C65;L10~.07;"YEAR";C77~
"KRN",.4,749,"H")
ACCESSION REGISTER - SITE/GP complete
"KRN",.4,750,-1)
0^1
"KRN",.4,750,0)
ONCO ANNUAL ACCREG80^2980317.0942^^165.5^^@^2980317
"KRN",.4,750,"DCL","165.5^.061")
!
"KRN",.4,750,"F",1)
.061;C1;L10~.02;C13;L22~-164,^ONCO(164,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,1),X=X S D(0)=+X;Z;"20:"~-164,1;C36;L5~
"KRN",.4,750,"F",2)
-164,.01;C43;L20~3;C66;L10~S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,4),X=X W X K DIP;C78;L1;Z;"INTERNAL(CLASS OF CASE)"~
"KRN",.4,750,"F",3)
S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,8),X=X W X K DIP;C80;L1;Z;"INTERNAL(LATERALITY)"~
"KRN",.4,750,"H")
[ONCO ANNUAL ACCREG80-HDR]
"KRN",.4,753,-1)
0^18
"KRN",.4,753,0)
ONCO SITE/GP80^2980317.1459^^165.5^^@^2980317
"KRN",.4,753,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L21~-160,2;C23;L11~
"KRN",.4,753,"F",2)
.07;C36;L4~.061;C41;L10~20;C53;L16~3;C70;L10~.061;C41;L10~20;C53;L16~3;C70;L10~
"KRN",.4,753,"H")
[ONCO SITE/GP80-HDR]
"KRN",.4,754,-1)
0^19
"KRN",.4,754,0)
ONCO SITE/GP80-HDR^2980317.1443^^165.5^^@^2980317
"KRN",.4,754,"DXS",1,9)
W !,"--------------------------------------------------------------------------------"
"KRN",.4,754,"F",1)
X DXS(1,9);C1;;Z;"W !,"--------------------------------------------------------------------------------""~
"KRN",.4,754,"F",2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X="SITE/GP: "_$S('$D(^ONCO(164.2,+$P(DIP(1),U,1),0)):"",1:$P(^(0),U,1)) W X K DIP;C1;Z;""SITE/GP: "_SITE/GP"~
"KRN",.4,754,"F",3)
S X=DT S Y=X D DT K DIP;C55;L12;Z;"TODAY"~"PAGE";C73;L5;X~S X=$S($D(DC)#2:DC,1:"") W X K DIP;C78;R3;X;Z;;Z;"S X=$S($D(DC)#2:DC,1:"") W X K DIP"~" ";C1~
"KRN",.4,754,"F",4)
"PATIENT NAME";C1~"Med Rec#";C23~"YR";C36~"ACCESS/SEQ";C41~"ICDO-Topography";C53~"Dt Diag.";C70~
"KRN",.4,754,"F",5)
"--------------------------------------------------------------------------------";C1~
"KRN",.4,754,"H")
@
"KRN",.4,754,"SUB")
1
"KRN",.4,757,-1)
0^7
"KRN",.4,757,0)
ONCO ANNUAL PATIENT INDX^2980317.1443^^165.5^^@^2980317
"KRN",.4,757,"DCL","165.5^.061")
!
"KRN",.4,757,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L20;X~-160,2;C22;L11;X~
"KRN",.4,757,"F",2)
-160,10;C34;L1;X~-160,D DOB^ONCOES,DATEOT^ONCOES;Z;"D DOB^ONCOES,DATEOT^ONCOES"~-160,W X;C36;L8;X;Z;"W X"~-160,29;C47;L10;X~.061;C58;L10;X~3;C70;L10;X~
"KRN",.4,757,"F",3)
-164,^ONCO(164,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,1),X=X S D(0)=+X;Z;"20:"~-164,1;C81;L5;X~-164,.01;C87;L17;X~
"KRN",.4,757,"F",4)
-164.1,^ONCO(164.1,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,3),X=X S D(0)=+X;Z;"22:"~-164.1,1;C105;L6;X~
"KRN",.4,757,"F",5)
-164.1,.01;C112;L18;X~S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P(DIP(1),U,8),X=X W X K DIP;C132;L1;X;Z;"INTERNAL(LATERALITY)"~
"KRN",.4,757,"H")
[ONCO ANNUAL PATIENT INDX-HDR]
"KRN",.4,758,-1)
0^8
"KRN",.4,758,0)
ONCO ANNUAL PATIENT INDX-HDR^2980317.1507^^165.5^^@^2980317
"KRN",.4,758,"F",1)
"************************************************************************************************************************************";C1~
"KRN",.4,758,"F",2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X="ACOS ANNUAL PATIENT INDEX - "_$P(DIP(1),U,7) W X K DIP;C1;Z;""ACOS ANNUAL PATIENT INDEX - "_ACCESSION YEAR"~
"KRN",.4,758,"F",3)
S X=^DD("SITE") W X;C55;Z;"S X=^DD("SITE") W X"~S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100) S Y=X D DT K DIP;C90;L18;Z;"NOW"~
"KRN",.4,758,"F",4)
"PAGE ";C122;L5~S X=$S($D(DC)#2:DC,1:"") W X K DIP;C127;R6;Z;"PAGE"~" ";C1~"PATIENT NAME";C1~"MED RECORD#";C22;~"S";C34~"DT-BIRTH";C36;~"DT-DEATH";C47~
"KRN",.4,758,"F",5)
"ACC/SEQ-NO";C58~"DATE DX";C70~"ICDO - TOPOGRAPHY";C81;~"ICDO - MORPHOLOGY";C105;~"L";C132;~
"KRN",.4,758,"F",6)
"************************************************************************************************************************************";C1~
"KRN",.4,758,"H")
@
"KRN",.4,758,"SUB")
1
"KRN",.4,768,-1)
0^22
"KRN",.4,768,0)
ONCOX10^2980316.1434^^165.5^^@^2980317
"KRN",.4,768,"DXS",1,9)
X DXS(1,9.2) S X=$J("",$S($D(DIWR)+$D(DIWL)=2:DIWR-DIWL+1,$D(IOM):IOM,1:80)-$L(X)\2-$X)_X
"KRN",.4,768,"DXS",1,9.2)
S X="******************    SUBSEQUENT COURSE OF THERAPY    *******************"
"KRN",.4,768,"DXS",2,9.2)
S I(0)="^ONCO(165.5,",J(0)=165.5 F D=0:0 S (D,D2)=$O(^ONCO(165.5,D0,4,D1,1,D)) Q:D'>0  I $D(^(D,0))#2 S X=^(0) X DICMX Q:'$D(D)  S D=D2
"KRN",.4,768,"DXS",3,0)
None
"KRN",.4,768,"DXS",3,1)
Beam Radiation
"KRN",.4,768,"DXS",3,2)
Radioactive Implants
"KRN",.4,768,"DXS",3,3)
Radioisotopes
"KRN",.4,768,"DXS",3,4)
Combination of Beam + Implants or Isotopes
"KRN",.4,768,"DXS",3,5)
Radiation NOS
"KRN",.4,768,"DXS",3,7)
Radiation Therapy Refused
"KRN",.4,768,"DXS",3,8)
Recommended, Unknown if Given
"KRN",.4,768,"DXS",3,9)
Unknown if Recommended/Given
"KRN",.4,768,"DXS",4,0)
Not Applicable
"KRN",.4,768,"DXS",4,2)
Radiation Before Surgery
"KRN",.4,768,"DXS",4,3)
Radiation After Surgery
"KRN",.4,768,"DXS",4,4)
Both Before AND After Surgery
"KRN",.4,768,"DXS",4,5)
Intraoperative Radiation
"KRN",.4,768,"DXS",4,6)
Intraoperative Radiation with other radiation before/after surgery
"KRN",.4,768,"DXS",4,9)
Sequence Unknown
"KRN",.4,768,"DXS",5,0)
None
"KRN",.4,768,"DXS",5,1)
Radiation Given
"KRN",.4,768,"DXS",5,7)
Refused Radiation
"KRN",.4,768,"DXS",5,8)
Recommended, Unknown if Given
"KRN",.4,768,"DXS",5,9)
Unknown if Recommended/Given or Not Applicable
"KRN",.4,768,"DXS",6,0)
None
"KRN",.4,768,"DXS",6,1)
Chemotherapy NOS
"KRN",.4,768,"DXS",6,2)
Chemotherapy, single agent
"KRN",.4,768,"DXS",6,3)
Chemotherapy, multiple agents
"KRN",.4,768,"DXS",6,7)
Chemotherapy refused
"KRN",.4,768,"DXS",6,8)
Recommended, unknown if given
"KRN",.4,768,"DXS",6,9)
Unknown if Recommended/Given
"KRN",.4,768,"DXS",7,0)
None
"KRN",.4,768,"DXS",7,1)
Hormones (inc NOS & antihormones)
"KRN",.4,768,"DXS",7,2)
Endocrine surgery and/or Radiation Therapy
"KRN",.4,768,"DXS",7,3)
Comb. Hormones/Endocrine Surgery +/ Rad. Ther.
"KRN",.4,768,"DXS",7,7)
Hormonal therapy refused
"KRN",.4,768,"DXS",7,8)
Recommended, unknown if given
"KRN",.4,768,"DXS",7,9)
Unknown
"KRN",.4,768,"DXS",8,0)
None
"KRN",.4,768,"DXS",8,1)
BRM
"KRN",.4,768,"DXS",8,2)
Bone marrow trans-autologous
"KRN",.4,768,"DXS",8,3)
Bone marrow trans-allogenic
"KRN",.4,768,"DXS",8,4)
Bone marrow trans, NOS
"KRN",.4,768,"DXS",8,5)
Stem cell transplant
"KRN",.4,768,"DXS",8,6)
Combination 1 and 2,3,4 or 5
"KRN",.4,768,"DXS",8,7)
Patient refused
"KRN",.4,768,"DXS",8,8)
BRM recommended
"KRN",.4,768,"DXS",8,9)
Unknown
"KRN",.4,768,"DXS",9,0)
None
"KRN",.4,768,"DXS",9,1)
Other Cancer-directed therapy
"KRN",.4,768,"DXS",9,2)
Experimental therapy given
"KRN",.4,768,"DXS",9,3)
Double-blind clinical trial, code not broken
"KRN",.4,768,"DXS",9,6)
Unproven therapy given
"KRN",.4,768,"DXS",9,7)
Refused therapy of codes 1-3
"KRN",.4,768,"DXS",9,8)
Recommended, unknown if given
"KRN",.4,768,"DXS",9,9)
Unknown
"KRN",.4,768,"F",1)
X DXS(1,9) W X K DIP;S1;X;Z;"CENTER("******************    SUBSEQUENT COURSE OF THERAPY    *******************")"~60,"Date started:  ";C30;S1~60,.01;X~
"KRN",.4,768,"F",2)
60,"Cancer-Directed Surgery:  ";C10~60,.041;X~60," ";X~60,.04;X~60,"Radiation:  ";C10~60,.051;X~60," ";X~60,.05;X~60,"Radiation Sequence: ";C10~60,1;X~
"KRN",.4,768,"F",3)
60,"Radiation Therapy to CNS:  ";C10~60,.031;X~60," ";X~60,.03;X~60,"Chemotherapy: ";C10~60,.061;X~60," ";X~60,.06;X~60,"Hormone/Therapy: ";C10~60,.071;X~
"KRN",.4,768,"F",4)
60," ";X~60,.07;X~60,"Immunotherapy (BRM): ";C10~60,.081;X;L18~60," ";X~60,.08;X~60,"Other Cancer Therapy: ";C10~60,.091;X~60," ";X~60,.09;X~
"KRN",.4,768,"F",5)
60,"Place: ";C2~60,2;X~60,"Comment(s): ";C2~
"KRN",.4,768,"F",6)
60,X DXS(2,9.2):D1>0 S X="" X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;m;w;Z;"LOWERCASE(SUBSEQUENT THERAPY COMMENTS)"~
"KRN",.4,768,"H")
@
"KRN",.4,768,"IOM")
132
"KRN",.4,768,"LAST")

"KRN",.4,768,"ROU")
^ONCOX10
"KRN",.4,768,"ROUOLD")
ONCOX10
"KRN",.4,768,"SUB")
1
"KRN",.4,771,-1)
0^5
"KRN",.4,771,0)
ONCO ANNUAL CLASS/PATIENT^2980317.0957^^165.5^^@^2980317
"KRN",.4,771,"DCL","165.5^.061")
!
"KRN",.4,771,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L20~-160,2;C22;L11~
"KRN",.4,771,"F",2)
-160,10;C34;L1~.061;C36;L10~.01;C48;L19~3;"DATE DX";C71;L10~
"KRN",.4,771,"H")
[ONCO ANNUAL CLASS/PATIENT-HDR]
"KRN",.4,779,-1)
0^24
"KRN",.4,779,0)
ONCOY52^2980317.1615^^165.5^^@^2980317
"KRN",.4,779,"DXS",1,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,.04,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,4)_":",2),$C(59),1)
"KRN",.4,779,"DXS",2,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$S('$D(^ONCO(164.1,+$P(DIP(1),U,3),0)):"",1:$P(^(0),U,1))
"KRN",.4,779,"DXS",3,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:""),D0=$P(DIP(1),U,5) S:'$D(^ONCO(164.43,+D0,0)) D0=-1 S DIP(101)=$S($D(^ONCO(164.43,D0,0)):^(0),1:"")
"KRN",.4,779,"DXS",4,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:""),D0=$P(DIP(1),U,1) S:'$D(^ONCO(164,+D0,0)) D0=-1 S DIP(101)=$S($D(^ONCO(164,D0,0)):^(0),1:"")
"KRN",.4,779,"DXS",5,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$S('$D(^ONCO(164,+$P(DIP(1),U,1),0)):"",1:$P(^(0),U,1))
"KRN",.4,779,"DXS",6,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,28,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,8)_":",2),$C(59),1)
"KRN",.4,779,"DXS",7,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,26,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,2)):^(2),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,6)_":",2),$C(59),1)
"KRN",.4,779,"DXS",8,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$S('$D(^ONCO(164.2,+$P(DIP(1),U,1),0)):"",1:$P(^(0),U,1))
"KRN",.4,779,"DXS",9,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,17) X:$D(^DD(165.5,5,2)) ^(2) S X=Y
"KRN",.4,779,"DXS",10,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,18) X:$D(^DD(165.5,6,2)) ^(2) S X=Y
"KRN",.4,779,"DXS",11,9.2)
S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:""),Y=$P(DIP(1),U,19) X:$D(^DD(165.5,7,2)) ^(2) S X=Y
"KRN",.4,779,"DXS",12,9.2)
S DIP(2)=$C(59)_$S($D(^DD(165.5,123,0)):$P(^(0),U,3),1:""),DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P($P(DIP(2),$C(59)_$P(DIP(1),U,23)_":",2),$C(59),1)
"KRN",.4,779,"DXS",13,"I")
INFRATENTORIAL
"KRN",.4,779,"DXS",13,"S")
SUPRATENTORIAL
"KRN",.4,779,"DXS",14,"C")
Ciliary body
"KRN",.4,779,"DXS",14,"I")
Iris
"KRN",.4,779,"DXS",15,"L")
Lower 1/3
"KRN",.4,779,"DXS",15,"U")
Upper 2/3
"KRN",.4,779,"DXS",16,0)
Within normal limits
"KRN",.4,779,"DXS",16,1)
Abnormal/not suggestive of cancer
"KRN",.4,779,"DXS",16,2)
Abnormal/suggestive of cancer
"KRN",.4,779,"DXS",16,3)
Equivocal/no followup necessary
"KRN",.4,779,"DXS",16,4)
Equivocal/evaluation recommended
"KRN",.4,779,"DXS",16,8)
NA
"KRN",.4,779,"DXS",16,9)
Unknown result, not specified
"KRN",.4,779,"DXS",17,0)
Not presented
"KRN",.4,779,"DXS",17,1)
Prospective (diagnostic)
"KRN",.4,779,"DXS",17,2)
Prospective (treatment)
"KRN",.4,779,"DXS",17,3)
Prospective (follow-up)
"KRN",.4,779,"DXS",17,4)
Prospective (combinations)
"KRN",.4,779,"DXS",17,5)
Prospective, NOS
"KRN",.4,779,"DXS",17,6)
Retrospective
"KRN",.4,779,"DXS",17,7)
Follow-up
"KRN",.4,779,"DXS",17,8)
Presentation, NOS
"KRN",.4,779,"DXS",17,9)
Unknown
"KRN",.4,779,"DXS",18,0)
No
"KRN",.4,779,"DXS",18,1)
Yes
"KRN",.4,779,"DXS",18,9)
Unknown
"KRN",.4,779,"F",1)
"** CANCER IDENTIFICATION **";S1~"Date DX:  ";C15;S1~3;X;L10~"Class of Case:  ";C9~
"KRN",.4,779,"F",2)
X DXS(1,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(CLASS OF CASE)"~
"KRN",.4,779,"F",3)
"Histology:  ";C13~
"KRN",.4,779,"F",4)
X DXS(2,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(HISTOLOGY)"~
"KRN",.4,779,"F",5)
"Grade:";C17~24~X DXS(3,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) W X K DIP;C25;Z;"GRADE:EXPLANATION"~
"KRN",.4,779,"F",6)
S TM1=$$PRINT^ONCOTM(D0,1);Z;"S TM1=$$PRINT^ONCOTM(D0,1)"~
"KRN",.4,779,"F",7)
I TM1["UMOR" S $E(TM1,2,5)="umor",$E(TM1,8,12)="arker";Z;"I TM1["UMOR" S $E(TM1,2,5)="umor",$E(TM1,8,12)="arker""~
"KRN",.4,779,"F",8)
S TM2=$$PRINT^ONCOTM(D0,2);Z;"S TM2=$$PRINT^ONCOTM(D0,2)"~
"KRN",.4,779,"F",9)
I TM2["UMOR" S $E(TM2,2,5)="umor",$E(TM2,8,12)="arker";Z;"I TM2["UMOR" S $E(TM2,2,5)="umor",$E(TM2,8,12)="arker""~
"KRN",.4,779,"F",10)
S TM3=$$PRINT^ONCOTM(D0,3);Z;"S TM3=$$PRINT^ONCOTM(D0,3)"~
"KRN",.4,779,"F",11)
I TM3["UMOR" S $E(TM3,2,5)="umor",$E(TM3,8,12)="arker";Z;"I TM3["UMOR" S $E(TM3,2,5)="umor",$E(TM3,8,12)="arker""~
"KRN",.4,779,"F",12)
S LEN=$L(TM1) W !?(21-LEN),TM1_":";Z;"S LEN=$L(TM1) W !?(21-LEN),TM1_":""~25.1;C25~
"KRN",.4,779,"F",13)
S LEN=$L(TM2) W !?(21-LEN),TM2_":";Z;"S LEN=$L(TM2) W !?(21-LEN),TM2_":""~25.2;C25~
"KRN",.4,779,"F",14)
S LEN=$L(TM3) W !?(21-LEN),TM3_":";Z;"S LEN=$L(TM3) W !?(21-LEN),TM3_":""~25.3;C25~"ICDO-Site:  ";C13;S1~
"KRN",.4,779,"F",15)
X DXS(4,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) W X K DIP;X;Z;"ICDO-TOPOGRAPHY:CODE"~" ";X~
"KRN",.4,779,"F",16)
X DXS(5,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(ICDO-TOPOGRAPHY)"~" ";X~
"KRN",.4,779,"F",17)
21.5;X~21.51;X~21.52;X~"Laterality:  ";C12~
"KRN",.4,779,"F",18)
X DXS(6,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(LATERALITY)"~
"KRN",.4,779,"F",19)
"DX Confirmation:  ";C7~
"KRN",.4,779,"F",20)
X DXS(7,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(DIAGNOSTIC CONFIRMATION)"~
"KRN",.4,779,"F",21)
"Primary Site:  ";C10~
"KRN",.4,779,"F",22)
X DXS(8,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(SITE)"~
"KRN",.4,779,"F",23)
"Primary Sequence No:  ";C3~.06;X~"Dx Facility:  ";C11~
"KRN",.4,779,"F",24)
X DXS(9,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;L55;Z;"LOWERCASE(DX FACILITY)"~
"KRN",.4,779,"F",25)
"Referring Facility:  ";C4~
"KRN",.4,779,"F",26)
X DXS(10,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(REFERRING FACILITY)"~
"KRN",.4,779,"F",27)
"Transfer Facility:  ";C5~
"KRN",.4,779,"F",28)
X DXS(11,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(TRANSFER FACILITY)"~
"KRN",.4,779,"F",29)
"IP/OP status:  ";C10~
"KRN",.4,779,"F",30)
X DXS(12,9.2) X "F %=2:1:$L(X) I $E(X,%)?1U,$E(X,%-1)?1A S X=$E(X,0,%-1)_$C($A(X,%)+32)_$E(X,%+1,999)" W X K DIP;X;Z;"LOWERCASE(INPATIENT/OUTPATIENT STATUS)"~
"KRN",.4,779,"F",31)
"Screening Result:  ";C6~119;X~"Screening Date:  ";C8~79;X~"Presentation at Cancer Conference:  ";S1;C3~120;X;L30~"Date of Cancer Conference:  ";C11~
"KRN",.4,779,"F",32)
121;X~"Referral to Support Services:  ";C8~122;X;L12~
"KRN",.4,779,"H")
@
"KRN",.4,779,"IOM")
80
"KRN",.4,779,"LAST")
1
"KRN",.4,779,"ROU")
^ONCOY52
"KRN",.4,779,"ROUOLD")
ONCOY52
"KRN",.4,779,"SUB")
1
"KRN",.4,781,-1)
0^6
"KRN",.4,781,0)
ONCO ANNUAL ICDO/STAGE/TX^2980317.1428^^165.5^^@^2980317
"KRN",.4,781,"DCL","165.5^43")
!
"KRN",.4,781,"F",1)
.025;X;C1;L5~20.1;X;C7;L5~43;X;C14;L7~50;X;C23;L10~58.2;X;C34;L16~51;X;C52;L10~51.2;X;C63;L15~53;X;C80;L10~53.2;X;C91;L15~54;X;C108;L10~
"KRN",.4,781,"F",2)
54.2;X;C119;L14~
"KRN",.4,781,"H")
PRIMARY SITE/GP by STAGE by TREATMENT
"KRN",.4,783,-1)
0^2
"KRN",.4,783,0)
ONCO ANNUAL HIST/SITE/ICDO^2980317.1006^^165.5^^@^2980317
"KRN",.4,783,"DCL","165.5^.061")
!
"KRN",.4,783,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L20~-160,2;C22;L11~
"KRN",.4,783,"F",2)
-160,10;C34;L1~.061;C36;L10~20;C48;L19~3;C71;L10~
"KRN",.4,783,"H")
[ONCO ANNUAL CLASS/PATIENT-HDR]
"KRN",.4,785,-1)
0^9
"KRN",.4,785,0)
ONCO ANNUAL PATIENT INFO^2980317.1545^^165.5^^@^2980317
"KRN",.4,785,"DCL","165.5^.061")
!
"KRN",.4,785,"F",1)
-160,^ONCO(160,^^S I(0,0)=D0 S DIP(1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(DIP(1),U,2),X=X S D(0)=+X;Z;".02:"~-160,.01;C1;L20~-160,2;C22;L11~
"KRN",.4,785,"F",2)
-160,10;C34;L1~.061;C36;L10~20;C48;L19~3;C71;L10~
"KRN",.4,785,"H")
[ONCO ANNUAL PATIENT INFO-HDR]
"KRN",.4,786,-1)
0^13
"KRN",.4,786,0)
ONCO ANNUAL SITE/STG/TX^2980317.1405^^165.5^^@^2980317
"KRN",.4,786,"F",2)
.02;C1;L20~.091;C23;L5~3;C30;L10~37;C42;L8~38;C52;L3~35.1;C57;L10~43;C69~
"KRN",.4,786,"H")
PRIMARY LIST
"KRN",.4,788,-1)
0^12
"KRN",.4,788,0)
ONCO ANNUAL SITE/STAGE/TX^2980317.1357^^165.5^^@^2980317
"KRN",.4,788,"DCL","165.5^43")
!
"KRN",.4,788,"F",1)
.025;X;C1;L5~20.1;X;C7;L5~43;X;C14;L7~50;X;C23;L10~58.1;X;C35;L18~51;X;C54;L10~51.2;C66;L14;X~53;X;C82;L10~53.2;X;C94;L14~54;X;C110;L10~
"KRN",.4,788,"F",2)
54.2;X;C122;L11~
"KRN",.4,788,"H")
[ONCO ANNUAL SITE/STAGE/TX-HDR]
"KRN",.402,898,-1)
0^2
"KRN",.402,898,0)
ONCO RECURRENCE FOLLOWUP^2980318.1459^^165.5^^^2980319
"KRN",.402,898,"DR",1,165.5)
D RE^ONCOAIF;71;S:X="" Y="@111";S XR="" I X'="" S XR=$P(^ONCO(160.12,X,0),"^",1);70;71.4;S:XR'=40 Y="@98" K XR;71.1;S:X=0 Y="@96";71.2;S:X=0 Y="@97";71.3;S Y="@99";@96;71.2////0;W !,"DISTANT SITE 2: None";@97;71.3////0;
"KRN",.402,898,"DR",1,165.5,1)
W !,"DISTANT SITE 3: None";S Y="@99";@98;S $P(^ONCO(165.5,D0,5),U,3,5)="0^0^0";W !,"DISTANT SITE 1: None";W !,"DISTANT SITE 2: None";W !,"DISTANT SITE 3: None";@99;93;D CN5^ONCOTN,CN6^ONCOTN;98;99;I '$D(SKAJCC) D CN5^ONCOTN;
"KRN",.402,898,"DR",1,165.5,2)
I SKAJCC S Y="@100";S STGIND="O" D ES^ONCOTN;@100;118;W !;72;@111;D STX^ONCOAIF;60;
"KRN",.402,898,"DR",2,165.51)
.01;S SSTOP=$P($G(^ONCO(164,TX,0)),U,16);.04;I X="" S Y=.05;S X=X;S SPS=$P($G(^ONCO(165.5,D0,4,DA,0)),U,4);I (SPS="00")!(SPS=1) D NO^ONCSTX;I SPS'="",DATEDX>2971231,$G(^ONCO(164,SSTOP,"SPS",SPS,0))["Unknown" D UNK^ONCSTX;.041;
"KRN",.402,898,"DR",2,165.51,1)
S Y=$S(DATEDX<2980101:.05,1:"@35");@35;35;I X=1 S Y="@350";I X'="",^ONCO(164,SSTOP,"SC5",X,0)["Unknown" S Y="@359";37;S Y=36;@350;37///00;W !,?2,"NUMBER OF NODES REMOVED: No nodes removed";S Y=36;@359;37///99;
"KRN",.402,898,"DR",2,165.51,2)
W !,?2,"NUMBER OF NODES REMOVED: Unknown, not stated, death certificate ONLY";36;I ($G(SPS)="00")!($G(SPS)=1) S Y=.05;I SPS'="",DATEDX>2971231,$G(^ONCO(164,SSTOP,"SPS",SPS,0))["Unknown" S Y=.05;33;I X=1 S Y="@330";
"KRN",.402,898,"DR",2,165.51,3)
I X'="",^ONCO(164,SSTOP,"RR5",X,0)["Unknown" S Y="@339";34;S Y=.05;@330;34////0000000;W !,?2,"RECON/RESTORE - DELAYED DATE: 00/00/0000";S Y=.05;@339;34////9999999;W !,?2,"RECON/RESTORE - DELAYED DATE: 99/99/9999";.05;
"KRN",.402,898,"DR",2,165.51,4)
S:(X=0)!(X=7) Y="@20";S:(X=8)!(X=9) Y="@29";.051;1;S Y=.03;@20;.051////0000000;W !,?2,"RADIATION DATE: 00/00/0000";1///0;W !,?2,"RADIATION SEQUENCE: Not Applicable";S Y=.03;@29;.051////9999999;W !,?2,"RADIATION DATE: 99/99/9999";
"KRN",.402,898,"DR",2,165.51,5)
1///0;W !,?2,"RADIATION SEQUENCE: Not Applicable";.03;S:(X=0)!(X=7) Y="@30";S:(X=8)!(X=9) Y="@39";.031;S Y=.06;@30;.031////0000000;W !,?2,"RADIATION THERAPY TO CNS DATE: 00/00/0000";S Y=.06;@39;.031////9999999;
"KRN",.402,898,"DR",2,165.51,6)
W !,?2,"RADIATION THERAPY TO CNS DATE: 99/99/9999";.06;S:(X=0)!(X=7) Y="@40";S:(X=8)!(X=9) Y="@49";.061;S Y=.07;@40;.061////0000000;W !,?2,"CHEMOTHERAPY DATE: 00/00/0000";S Y=.07;@49;.061////9999999;
"KRN",.402,898,"DR",2,165.51,7)
W !,?2,"CHEMOTHERAPY DATE: 99/99/9999";.07;S:(X=0)!(X=7) Y="@50";S:(X=8)!(X=9) Y="@59";.071;S Y=.08;@50;.071////0000000;W !,?2,"HORMONE/STEROID DATE: 00/00/0000";S Y=.08;@59;.071////9999999;
"KRN",.402,898,"DR",2,165.51,8)
W !,?2,"HORMONE/STEROID DATE: 99/99/9999";.08;I (X=0)!(X=7) S Y="@60";I (X=8)!(X=9) S Y="@69";.081;S Y=.09;@60;.081////0000000;W !,?2,"IMMUNOTHERAPY DATE: 00/00/0000";S Y=.09;@69;.081////9999999;
"KRN",.402,898,"DR",2,165.51,9)
W !,?2,"IMMUNOTHERAPY DATE: 99/99/9999";.09;S:(X=0)!(X=7) Y="@70";S:(X=8)!(X=9) Y="@79";.091;S Y=2;@70;.091////0000000;W !,?2,"OTHER CANCER THERAPY DATE: 00/00/0000";S Y=2;@79;.091////9999999;
"KRN",.402,898,"DR",2,165.51,10)
W !,?2,"OTHER CANCER THERAPY DATE: 99/99/9999";2;3;
"KRN",.402,898,"DR",2,165.572)
.01;S:X="" Y="@111";.02;I X'="" S:$P(^ONCO(160.12,X,0),"^",1)'=40 Y="@109";S:X="" Y="@110";.03;S:X=0 Y="@107";.031;S:X=0 Y="@108";.032;S Y="@110";@107;.031////0;W !,"  DISTANT SITE 2: None";@108;.032////0;
"KRN",.402,898,"DR",2,165.572,1)
W !,"  DISTANT SITE 3: None";S Y="@110";@109;S $P(^ONCO(165.5,D0,23,D1,0),U,3,5)="0^0^0";W !,"  DISTANT SITE 1: None";W !,"  DISTANT SITE 2: None";W !,"  DISTANT SITE 3: None";@110;1;D RECN5^ONCOTN,RECN6^ONCOTN;2;3;
"KRN",.402,898,"DR",2,165.572,2)
I '$D(SKAJCC) D RECN5^ONCOTN;I SKAJCC S Y="@1105";S STGIND="R" D ES^ONCOTN;@1105;5;@1107;
"KRN",.402,899,-1)
0^1
"KRN",.402,899,0)
ONCO ABSTRACT-I^2980318.1451^^165.5^^^2980324
"KRN",.402,899,"%D",0)
^^2^2^2960125^^^^
"KRN",.402,899,"%D",1,0)
Template for complete abstract for fields in Primary file: data relevant
"KRN",.402,899,"%D",2,0)
to particular cancer only as opposed to specific to Patient.
"KRN",.402,899,"DIAB",1,0,165.5,11)
849;"TYPE OF STAGING SYSTEM (PEDIATRIC)"
"KRN",.402,899,"DIAB",1,1,165.52,0)
ALL
"KRN",.402,899,"DR",1,165.5)
@0;D MEN^ONCOAIP;.01;.05;.06;.07;S Y="@0";@1;D PAT^ONCOAIP;.03///^S X=IIN;W !,"REPORTING HOSPITAL: "_RH;11;8;8.1;16;9;10;2;2.1;S:'X Y="@190";2.2;S:'X Y="@190";2.3;S:'X Y="@190";2.4;@190;18;1.2;S Y=$S(ONCOANS="A":"@2",1:"@0");@2;
"KRN",.402,899,"DR",1,165.5,1)
D CAN^ONCOAIP;3;.04;I (X=5)!(X=8) D ^ONCOCC;6;7;D ADM^ONCOCON;1//^S X=$G(ONCOAD);S X=X;1.1//^S X=$G(ONCODD);123;119;I X'=8 S Y="@79";79////0000000;W !,"SCREENING DATE: 00/00/0000" S Y=5;@79;79;5;20;D PAIR^ONCOAIP;S ONCOICD=X;
"KRN",.402,899,"DR",1,165.5,2)
S Y=$$TOP^ONCOAIT;21.5;S Y=100;21.51;S Y=100;21.52;100;28;22;101;24;26;D TMARKER^ONCOU55 I TM1=0 S Y="@26";D TM^ONCOTM(D0,1);@2510;I $G(TM2)=0 S Y="@27";D TM^ONCOTM(D0,2);@2520;I $G(TM3)=0 S Y="@28";D TM^ONCOTM(D0,3);@2530;S Y=120;
"KRN",.402,899,"DR",1,165.5,3)
@26;25.1///9;W !,"TUMOR MARKER 1: Unknown or no information";@27;25.2///9;W !,"TUMOR MARKER 2: Unknown or no information";@28;I DATEDX<2980101 S Y=120;25.3///9;W !,"TUMOR MARKER 3: Unknown or no information";S Y=120;25.1;25.2;
"KRN",.402,899,"DR",1,165.5,4)
I DATEDX<2980101 S Y=120;25.3;120;I X=0 S Y="@1210";I X=9 S Y="@1219";121;S Y=122;@1210;121////0000000;W !,"DATE OF CANCER CONF: 00/00/0000";S Y=122;@1219;121////9999999;W !,"DATE OF CANCER CONF: 99/99/9999";122;104;105;106;116;
"KRN",.402,899,"DR",1,165.5,5)
103;107;S Y=$S(ONCOANS="A":"@3",1:"@0");@3;D EXT^ONCOAIP;@310;20;101;@3105;D MO^ONCOAIP;41;S Y=30;29;30;D AIDS^ONCOAIP2;@301;41;@302;D BLOOD^ONCOAIP2;30.5;@31;D LN^ONCOAIP;31;S L=X;S:X<9 Y="@311";33;S X=X;32;S Y=34;@311;33;
"KRN",.402,899,"DR",1,165.5,6)
S Y=$S(X=0:32,X=99:"@313",1:"@312");32////98;W !,"REGIONAL NODES POSITIVE: No nodes examined";S Y=34;@313;32;S Y=34;@312;32;34;S:X=0 Y="@320";34.1;S:X=0 Y="@321";34.2;S Y="@322";@320;34.1////0;W !,"METASTASIS 2: None";@321;
"KRN",.402,899,"DR",1,165.5,7)
34.2////0;W !,"METASTASIS 3: None";@322;35;D CK^ONCOTN;69;I DATEDX>2971231 S $P(^ONCO(165.5,D0,7),U,16)="",Y="@35";69.3;@35;S:$P($G(^ONCO(165.5,D0,2)),U)'=67692 Y="@36";69.1;69.2;@36;Q;37.1;D CN1^ONCOTN,CN2^ONCOTN;37.2;37.3;
"KRN",.402,899,"DR",1,165.5,8)
I '$$GTT^ONCOU55(D0) S Y="@361";134;@361;I '$$T^ONCOU55(D0) S Y="@3611";136;@3611;I '$D(SKAJCC) D CN1^ONCOTN;I SKAJCC=1 S Y="@365";S STGIND="C" D ES^ONCOTN;Q;I $$TNMED^ONCOU55(D0)>2 S Y="@365";38;@365;I DATEDX<2960101 S Y="@37";19;
"KRN",.402,899,"DR",1,165.5,9)
W !;@37;69.4;85;D CN3^ONCOTN,CN4^ONCOTN;86;87;I '$$GTT^ONCOU55(D0) S Y="@362";135;@362;I '$$T^ONCOU55(D0) S Y="@3621";136;@3621;I '$D(SKAJCC) D CN3^ONCOTN;I SKAJCC=1 S Y="@375";S STGIND="P" D ES^ONCOTN;
"KRN",.402,899,"DR",1,165.5,10)
I $$TNMED^ONCOU55(D0)>2 S Y="@375";88;@375;I DATEDX<2960101 S Y="@38";89;W !;S Y="@38";@376;38;I DATEDX<2960101 S Y=88;19;88;I DATEDX<2960101 S Y="@38";89;@38;39;D AGE^ONCOCOM;I X>21 S Y="@391";
"KRN",.402,899,"DR",1,165.5,11)
849TYPE OF STAGING SYSTEM (PEDIATRIC)~;I X=1 S Y="@8500";850;851;S Y="@392";@8500;850///99;W !,"PEDIATRIC STAGE: Unknown";S Y="@8510";@391;849////88;W !,"TYPE OF STAGING SYSTEM (PEDIATRIC): NA";850///88;W !,"PEDIATRIC STAGE: NA";
"KRN",.402,899,"DR",1,165.5,12)
@8510;851///0;W !,"STAGED BY (PEDIATRIC): Not staged";@392;137;I DATEDX<2980101 S Y="@395";D BPCHECK^ONCOTNE;141;I $G(XCODE)=0 D NOBP^ONCOTNE;I $G(XCODE)=9 D UNKBP^ONCOTNE;I BPSITE'=67500 S Y="@1445";142;143;144;@1445;
"KRN",.402,899,"DR",1,165.5,13)
I BPSITE'=67619 S Y="@395";142;145;146;@395;S Y=$S(ONCOANS="A":"@4",1:"@0");@4;S:$P(^ONCO(165.5,D0,0),U,4)=5 Y="@8";D FST^ONCOAIP;58.1;I X="" S $P(^ONCO(165.5,D0,3),U,31)="",Y="@124";I (X=0)!(X="00") D NCDS^ONCNTX S Y="@124";
"KRN",.402,899,"DR",1,165.5,14)
I (X=9)!(X="09") D NCDS^ONCUTX S Y="@124";58.3;@124;W !;124;I (X="")!(X="0000000")!(X=9999999) S Y="@582";D NTX^ONCOAIP;@582;D CDS^ONCPTX;58.2;S SR=$S((X="00")!(X=99):0,1:1);I X="" S Y="@512";S X=X;
"KRN",.402,899,"DR",1,165.5,15)
S SPS=$P($G(^ONCO(165.5,D0,3)),"^",38);I SPS="00"!(SPS=1) D SUR^ONCNTX S Y="@139";S TPX=$P($G(^ONCO(165.5,D0,2)),"^",1);S SGRP=$P($G(^ONCO(164,TPX,0)),"^",16);I $G(^ONCO(164,SGRP,"SPS",SPS,0))["Unknown" D SUR^ONCUTX S Y="@139";
"KRN",.402,899,"DR",1,165.5,16)
58///0;W !,"REASON FOR NO SURGERY.........: Surgery performed";50;S SD=X;50.1;I DATEDX<2960101 S Y=59;74;59;I DATEDX<2980101 S Y="@23";138;S X=X;S SCOPE=$P($G(^ONCO(165.5,D0,3)),"^",40);I SCOPE=1 D NODE^ONCNTX S Y="@139";
"KRN",.402,899,"DR",1,165.5,17)
I $G(^ONCO(164,SGRP,"SC5",SCOPE,0))["Unknown" D NODE^ONCUTX S Y="@139";140;@139;I DATEDX<2980101 S Y="@58";139;I SPS="00"!(SPS=1) S Y="@58";I $G(^ONCO(164,SGRP,"SPS",SPS,0))["Unknown" S Y="@58";@23;I DATEDX<2960101 S Y=108;23;108;
"KRN",.402,899,"DR",1,165.5,18)
S Y="@512";@58;58;@512;I DATEDX<2970101 D RAD1^ONCPTX;I DATEDX>2961231 D RAD2^ONCPTX;51.2;S R=$S(X&(X<7):1,1:0);I X="" S Y="@522";I (X=0)!(X=7) D RAD^ONCNTX S Y="@75";I (X=8)!(X=9) D RAD^ONCUTX S Y="@522";I DATEDX<2960101 S Y=51;
"KRN",.402,899,"DR",1,165.5,19)
75///0;W !,"REASON FOR NO RADIATION.......: Radiation performed";51;S RD=X;51.1;I DATEDX<2970101 S Y="@80";442;56;125;126;127;363;D RS^ONCOAIP;S X=X;51.3;128;132;129;130;131;S Y=109;@80;363;80;D RS^ONCOAIP;S X=X;51.3;109;
"KRN",.402,899,"DR",1,165.5,20)
S Y="@522";@75;I DATEDX<2960101 S Y="@522";75;@522;D CNS^ONCOAIP;@5221;D CNS^ONCPTX;52.2;I X="" S Y="@532";I (X=0)!(X=7) D CNS0^ONCNTX S Y="@532";I X=8 D CNS9^ONCUTX S Y="@532";I X=9,(S=31!(S>65&(S<70))) D CNS9^ONCUTX S Y="@532";
"KRN",.402,899,"DR",1,165.5,21)
I X=9 D CNS0^ONCNTX S Y="@532";52;52.1;110;@532;D CHE^ONCPTX;53.2;I X="" S Y="@542";I (X=0)!(X=7) D CHE^ONCNTX S Y="@76";I (X=8)!(X=9) D CHE^ONCUTX S Y="@542";I DATEDX<2960101 S Y=53;76///0;
"KRN",.402,899,"DR",1,165.5,22)
W !,"REASON FOR NO CHEMOTHERAPY.....: Chemo administered";53;53.1;111;S Y="@542";@76;I DATEDX<2960101 S Y="@542";76;@542;D HOR^ONCPTX;54.2;I X="" S Y="@552";I (X=0)!(X=7) D HOR^ONCNTX1 S Y="@77";
"KRN",.402,899,"DR",1,165.5,23)
I (X=8)!(X=9) D HOR^ONCUTX S Y="@552";I DATEDX<2960101 S Y=54;77///0;W !,"REASON FOR NO HORMONE THERAPY.: HT administered";54;54.1;112;S Y="@552";@77;I DATEDX<2960101 S Y="@552";77;@552;D IMM^ONCPTX;55.2;I X="" S Y="@572";
"KRN",.402,899,"DR",1,165.5,24)
I (X=0)!(X=7) D IMM^ONCNTX1 S Y="@572";I (X=8)!(X=9) D IMM^ONCUTX S Y="@572";55;55.1;114;@572;D OTH^ONCPTX;57.2;I X="" S Y="@346";I (X=0)!(X=7) D OTH^ONCNTX1 S Y="@346";I (X=8)!(X=9) D OTH^ONCUTX S Y="@346";57;57.1;115;@346;
"KRN",.402,899,"DR",1,165.5,25)
D PRO^ONCPTX;346;I X=9 D PRO^ONCUTX S Y="@113";I (X=0)!(X=2)!(X=3)!(X=4)!(X=5)!(X=6)!(X=7)!(X=8) D PRO^ONCNTX1 S Y="@113";560;133;@113;W !;113;S Y=$S(ONCOANS="A":"@5",1:"@0");@5;D ^ONCOPCE;S Y=$S(ONCOANS="A":"@8",1:"@0");@8;
"KRN",.402,899,"DR",1,165.5,26)
D AB^ONCOAIP;90//^S X=$P(DT,".");91;94////^S X=$P(DT,".");W !,"REPORTING DATE: "_$E(DT,4,5)_"/"_$E(DT,6,7)_"/"_($E(DT,1,3)+1700);S X=$P(^VA(200,DUZ,0),U,1);92//^S X=X;96////^S X=DUZ;W !,"ENTERED BY: "_$P(^VA(200,DUZ,0),U,1);W !!;
"KRN",.402,899,"DR",1,165.5,27)
65;S:X="" Y="@500";66;@500;S:$P(^ONCO(165.5,D0,7),U,4)="" Y="@505";W !!?5,"Selected for QA=>",!;63;S:X="N" Y="@505";64;@505;D DD^ONCOAIP;S Y="";62;@999999;
"KRN",.402,899,"DR",2,165.52)
.01:9
"KRN",.402,899,"DR",3,165.529)
.01
"OER",123,0)
123^GMRA^1^
"OER",123,1,0)
^100.9951PA^1^1
"OER",123,1,1,0)
115
"OER",123,1,1,1,0)
^100.99511PA^1^1
"OER",123,1,1,1,1,0)
110
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",123,-1)
1^1
"PKG",123,0)
ONCOLOGY^ONCO^Oncology treatment tracking & tumor registry package.
"PKG",123,22,0)
^9.49I^1^1
"PKG",123,22,1,0)
2.11^2950307^2951204
"PKG",123,22,1,"PAH",1,0)
16
"PKG",123,22,1,"PAH",1,1,0)
^^1^1^2980324
"PKG",123,22,1,"PAH",1,1,1,0)
YK2 patch for ONCOLOGY 2.11
"PRE")
ONCENV16
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
53
"RTN","ONCACDU1")
0^19^B21265561
"RTN","ONCACDU1",1,0)
ONCACDU1 ;HIRMFO/WAA - UTILITY ROUTINE #1;5/9/97  10:14
"RTN","ONCACDU1",2,0)
 ;;2.11;Oncology;**12,14,16**;Mar 07, 1995
"RTN","ONCACDU1",3,0)
DATE(FMDT) ; Translate date to needed format
"RTN","ONCACDU1",4,0)
 N DATE
"RTN","ONCACDU1",5,0)
 S DATE=""
"RTN","ONCACDU1",6,0)
 I FMDT'="" D
"RTN","ONCACDU1",7,0)
 .  N MM,DD,YYYY,YYYMMDD,MMDDCCYY
"RTN","ONCACDU1",8,0)
 .  S YYYMMDD=FMDT
"RTN","ONCACDU1",9,0)
 .  I YYYMMDD="0000000" S DATE="00000000" Q  ; 2/2/98 WAA
"RTN","ONCACDU1",10,0)
 .  I YYYMMDD="9999999" S DATE="99999999" Q  ; 2/2/98 WAA
"RTN","ONCACDU1",11,0)
 .  D
"RTN","ONCACDU1",12,0)
 .  .  S YYYY=($E(YYYMMDD,1,3)+1700)
"RTN","ONCACDU1",13,0)
 .  .  I YYYY=1900,$E(YYYMMDD,4,7)="0000" S YYYY="0000"
"RTN","ONCACDU1",14,0)
 .  .  Q
"RTN","ONCACDU1",15,0)
 .  S MM=$S($E(YYYMMDD,4,5)'="00":$E(YYYMMDD,4,5),1:99)
"RTN","ONCACDU1",16,0)
 .  S DD=$S($E(YYYMMDD,6,7)'="00":$E(YYYMMDD,6,7),1:99)
"RTN","ONCACDU1",17,0)
 .  S MMDDCCYY=MM_DD_YYYY
"RTN","ONCACDU1",18,0)
 .  S DATE=MMDDCCYY
"RTN","ONCACDU1",19,0)
 .  Q
"RTN","ONCACDU1",20,0)
 Q DATE
"RTN","ONCACDU1",21,0)
SSN(DFN) ; This function will return the patient ssn for a given record
"RTN","ONCACDU1",22,0)
 N VADM,VA
"RTN","ONCACDU1",23,0)
 D DEM^VADPT
"RTN","ONCACDU1",24,0)
 S ACDSSN="000"_$E(VADM(1),1)_VA("BID")
"RTN","ONCACDU1",25,0)
 Q ACDSSN
"RTN","ONCACDU1",26,0)
RI(IEN) ; This function will return the registry ID.
"RTN","ONCACDU1",27,0)
 N ACDRI
"RTN","ONCACDU1",28,0)
 S ACDRI=STAT1
"RTN","ONCACDU1",29,0)
 I ACDRI'="" S ACDRI=6_ACDRI_6
"RTN","ONCACDU1",30,0)
 Q ACDRI
"RTN","ONCACDU1",31,0)
 Q
"RTN","ONCACDU1",32,0)
CNTY(IEN) ; County Code at dx
"RTN","ONCACDU1",33,0)
 N ACDCNTY
"RTN","ONCACDU1",34,0)
 S ACDCNTY=$$GET1^DIQ(165.5,IEN,10,"I")
"RTN","ONCACDU1",35,0)
 I ACDCNTY'="" D
"RTN","ONCACDU1",36,0)
 .S ACDCNTY=$$GET1^DIQ(5.1,ACDCNTY,2,"I")
"RTN","ONCACDU1",37,0)
 .S ACDCNTY=$S((ACDCNTY>0):ACDCNTY,1:999)
"RTN","ONCACDU1",38,0)
 .S ACDCNTY="T"_$E(000000,1,3-$L(ACDCNTY))_ACDCNTY
"RTN","ONCACDU1",39,0)
 .Q
"RTN","ONCACDU1",40,0)
 Q $E(ACDCNTY,2,4)
"RTN","ONCACDU1",41,0)
AGEDX(IEN) ; Get age at Diagnosis
"RTN","ONCACDU1",42,0)
 N ACDAGE,D0,X
"RTN","ONCACDU1",43,0)
 S D0=IEN
"RTN","ONCACDU1",44,0)
 D AGE^ONCOCOM S ACDAGE=$S(X=""!(X<0)!(X>999):"",1:X)
"RTN","ONCACDU1",45,0)
 Q ACDAGE
"RTN","ONCACDU1",46,0)
OCCUP(ACD160) ; Get Occupation
"RTN","ONCACDU1",47,0)
 N X,OCCUP
"RTN","ONCACDU1",48,0)
 S X=""
"RTN","ONCACDU1",49,0)
 S OCCUP=$O(^ONCO(160,ACD160,7,0))
"RTN","ONCACDU1",50,0)
 I OCCUP'<1 D
"RTN","ONCACDU1",51,0)
 .N OCP
"RTN","ONCACDU1",52,0)
 .S OCP=$P($G(^ONCO(160,ACD160,7,OCCUP,0)),U)
"RTN","ONCACDU1",53,0)
 .Q:OCP<1
"RTN","ONCACDU1",54,0)
 .S X=$$GET1^DIQ(61.6,OCP,.01,"I")
"RTN","ONCACDU1",55,0)
 .Q
"RTN","ONCACDU1",56,0)
 Q X
"RTN","ONCACDU1",57,0)
IEN160(IEN) ; Get the IEN number for and entry from 165.5 to 160
"RTN","ONCACDU1",58,0)
 N Y,Z
"RTN","ONCACDU1",59,0)
 S Y=""
"RTN","ONCACDU1",60,0)
 S Z=$G(^ONCO(165.5,IEN,0))
"RTN","ONCACDU1",61,0)
 S Y=$P(Z,U,2)
"RTN","ONCACDU1",62,0)
 I $G(^ONCO(160,Y,0))="" S Y=""
"RTN","ONCACDU1",63,0)
 Q Y
"RTN","ONCACDU1",64,0)
BLAD(IEN) ; This will determine if bladder
"RTN","ONCACDU1",65,0)
 N X,Y,Z,FLG
"RTN","ONCACDU1",66,0)
 S FLG=0 D
"RTN","ONCACDU1",67,0)
 .S X=$$GET1^DIQ(165.5,IEN,20,"I") Q:X=""
"RTN","ONCACDU1",68,0)
 .S Y=$$GET1^DIQ(164,X,1,"E") Q:Y=""
"RTN","ONCACDU1",69,0)
 .I $E(Y,1)'="C" Q
"RTN","ONCACDU1",70,0)
 .S Z=$E(Y,2,$L(Y))
"RTN","ONCACDU1",71,0)
 .I Z<67.0!(Z>68.0) Q
"RTN","ONCACDU1",72,0)
 .S FLG=1
"RTN","ONCACDU1",73,0)
 .Q
"RTN","ONCACDU1",74,0)
 Q FLG
"RTN","ONCACDU1",75,0)
TOB(IEN) ; Patient Tobacco History
"RTN","ONCACDU1",76,0)
 N X,AASTOB
"RTN","ONCACDU1",77,0)
 S ACD160=$$IEN160^ONCACDU1(IEN)
"RTN","ONCACDU1",78,0)
 S X=$G(^ONCO(160,ACD160,8))
"RTN","ONCACDU1",79,0)
 S AASTOB=$S($P(X,U,2)="Y":"Y",$P(X,U,2)="N":0,$P(X,U,2)="U":9,1:" ")
"RTN","ONCACDU1",80,0)
 I AASTOB="Y" D  ; Tobacco
"RTN","ONCACDU1",81,0)
 . N X S X=""
"RTN","ONCACDU1",82,0)
 . S X=$O(^ONCO(160,ACD160,5,X),-1)
"RTN","ONCACDU1",83,0)
 . I X'<1 I $G(^ONCO(160,ACD160,5,X,0))'="" D
"RTN","ONCACDU1",84,0)
 . . N Y S Y=^ONCO(160,ACD160,5,X,0)
"RTN","ONCACDU1",85,0)
 . . I $P(Y,U,3)'="" S AASTOB=5 Q  ; Previous use
"RTN","ONCACDU1",86,0)
 . . S AASTOB=$S($P(Y,U)=1:1,$P(Y,U)=2:2,$P(Y,U)=3:2,$P(Y,U)=4:3,$P(Y,U)=5:3,$P(Y,U)=7:4,1:9)
"RTN","ONCACDU1",87,0)
 . . Q
"RTN","ONCACDU1",88,0)
 . I AASTOB="Y" S AASTOB=9
"RTN","ONCACDU1",89,0)
 . Q
"RTN","ONCACDU1",90,0)
 Q AASTOB
"RTN","ONCACDU1",91,0)
ALC(IEN) ; Alcohol History
"RTN","ONCACDU1",92,0)
 N X,AASALCO
"RTN","ONCACDU1",93,0)
 S ACD160=$$IEN160^ONCACDU1(IEN)
"RTN","ONCACDU1",94,0)
 S X=$G(^ONCO(160,ACD160,8))
"RTN","ONCACDU1",95,0)
 S AASALCO=$S($P(X,U,3)="Y":"Y",$P(X,U,3)="N":0,$P(X,U,3)="U":9,1:" ")
"RTN","ONCACDU1",96,0)
 I AASALCO="Y" D  ; Alcohol
"RTN","ONCACDU1",97,0)
 . N X S X=""
"RTN","ONCACDU1",98,0)
 . S X=$O(^ONCO(160,ACD160,6,X),-1)
"RTN","ONCACDU1",99,0)
 . I X'<1 I $G(^ONCO(160,ACD160,6,X,0))'="" D
"RTN","ONCACDU1",100,0)
 . . N Y S Y=^ONCO(160,ACD160,6,X,0)
"RTN","ONCACDU1",101,0)
 . . I $P(Y,U,4)'="" S AASALCO=2 Q  ; Previous use
"RTN","ONCACDU1",102,0)
 . . S AASALCO=1
"RTN","ONCACDU1",103,0)
 . . Q
"RTN","ONCACDU1",104,0)
 . I AASALCO="Y" S AASALCO=9
"RTN","ONCACDU1",105,0)
 . Q
"RTN","ONCACDU1",106,0)
 Q AASALCO
"RTN","ONCACDU1",107,0)
HIST(IEN,FLAG) ;Get patient Histology
"RTN","ONCACDU1",108,0)
 N HIST
"RTN","ONCACDU1",109,0)
 S FLAG=$G(FLAG,0)
"RTN","ONCACDU1",110,0)
 S HIST=$$GET1^DIQ(165.5,IEN,221,"I")
"RTN","ONCACDU1",111,0)
 I HIST="" S HIST=$$GET1^DIQ(165.5,IEN,22,"I")
"RTN","ONCACDU1",112,0)
 S:$L(HIST)<5 HIST=$E(ZERO,1,5-$L(HIST))
"RTN","ONCACDU1",113,0)
 I 'FLAG S HIST=$E(HIST,1,4)
"RTN","ONCACDU1",114,0)
 E  S HIST=$E(HIST,5)
"RTN","ONCACDU1",115,0)
 K FLAG
"RTN","ONCACDU1",116,0)
 Q HIST
"RTN","ONCACDU1",117,0)
BEHAV(IEN) ;Get Patient Behavor
"RTN","ONCACDU1",118,0)
 N BEHAV
"RTN","ONCACDU1",119,0)
 S BEHAV=$$HIST(IEN,1)
"RTN","ONCACDU1",120,0)
 Q BEHAV
"RTN","ONCACDU1",121,0)
OLDDATE(X) ;CONVERT A DATE FROM A FILE MANAGER DATE TO A EXTERNAL FORMAT
"RTN","ONCACDU1",122,0)
 N DATE
"RTN","ONCACDU1",123,0)
 I X="" S DATE="        "
"RTN","ONCACDU1",124,0)
 E  D
"RTN","ONCACDU1",125,0)
 . S DATE=$E(X,4,5)_$E(X,6,7)_(1700+$E(X,1,3))
"RTN","ONCACDU1",126,0)
 . I $E(DATE,1,4)="9999" S DATE="99999999"
"RTN","ONCACDU1",127,0)
 . I $E(DATE,1,4)="0000" S DATE="00000000"
"RTN","ONCACDU1",128,0)
 . Q
"RTN","ONCACDU1",129,0)
 Q DATE
"RTN","ONCACDU1",130,0)
SG(IEN,TYPE) ; Stage Group
"RTN","ONCACDU1",131,0)
 N GS
"RTN","ONCACDU1",132,0)
 S GS=""
"RTN","ONCACDU1",133,0)
 I TYPE="" Q GS
"RTN","ONCACDU1",134,0)
 I TYPE="P" S GS=$$GET1^DIQ(165.5,IEN,88,"I")
"RTN","ONCACDU1",135,0)
 I TYPE="O" S GS=$$GET1^DIQ(165.5,IEN,117,"I")
"RTN","ONCACDU1",136,0)
 I TYPE="C" S GS=$$GET1^DIQ(165.5,IEN,38,"I")
"RTN","ONCACDU1",137,0)
 I GS'="" S GS=$S("^0^0A^1^1A^1B^1C^2^2A^2B^2C^3^3A^3B^3C^4^4A^4B^4C^9^"[("^"_GS_"^"):GS,GS["0":"0",1:"9")
"RTN","ONCACDU1",138,0)
 I GS="9" S GS="99"
"RTN","ONCACDU1",139,0)
 Q GS
"RTN","ONCACDU1",140,0)
ALIAS(ACD160) ; get the patient alias
"RTN","ONCACDU1",141,0)
 N X,DO,ONCOX,XD0,XD1
"RTN","ONCACDU1",142,0)
 S X=""
"RTN","ONCACDU1",143,0)
 S D0=ACD160
"RTN","ONCACDU1",144,0)
 I $D(^ONCO(160,D0,0)) D
"RTN","ONCACDU1",145,0)
 .D SETUP^ONCOES
"RTN","ONCACDU1",146,0)
 .Q:$P(ONCOX,";",2)'="DPT("  S XD0=$P(ONCOX,";")
"RTN","ONCACDU1",147,0)
 .S XD1=0 F  S XD1=$O(^DPT(XD0,.01,XD1)) Q:XD1'>0  S X=$P(^(XD1,0),U) Q
"RTN","ONCACDU1",148,0)
 .Q
"RTN","ONCACDU1",149,0)
 Q X
"RTN","ONCACDU1",150,0)
TNM(IEN) ; TNM Coding System
"RTN","ONCACDU1",151,0)
 N CNT,DOD,OUT
"RTN","ONCACDU1",152,0)
 S CNT=0
"RTN","ONCACDU1",153,0)
 S DOD=$$GET1^DIQ(165.5,IEN,3,"I")
"RTN","ONCACDU1",154,0)
 S:DOD'="" DOD=($E(DOD,1,3)+1700)
"RTN","ONCACDU1",155,0)
 S CNT=$P($G(^ONCO(160.1,+$O(^ONCO(160.1,0)),5)),U)
"RTN","ONCACDU1",156,0)
 S OUT=$S(DOD<1983:1,DOD<1988:2,DOD<1992:3,DOD=1992:$S(+CNT=92:4,1:3),1:4)
"RTN","ONCACDU1",157,0)
 Q OUT
"RTN","ONCBPC4")
0^11^B21169006
"RTN","ONCBPC4",1,0)
ONCBPC4 ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder Table IV;6/19/96
"RTN","ONCBPC4",2,0)
 ;;2.11;ONCOLOGY;**6,11,16**;Mar 07, 1995
"RTN","ONCBPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCBPC4",4,0)
 S TABLE("DATE OF INITIAL TREATMENT")="DOIT^ONCBPC4"
"RTN","ONCBPC4",5,0)
 S TABLE("PROTOCOL ELIGIBILITY STATUS")="PES^ONCBPC4"
"RTN","ONCBPC4",6,0)
 S TABLE("MANAGING PHYSICIANS")="MP^ONCBPC4"
"RTN","ONCBPC4",7,0)
 S TABLE("SURGERY")="SUR^ONCBPC4"
"RTN","ONCBPC4",8,0)
 S TABLE("RADIATION THERAPY")="RAD^ONCBPC4A"
"RTN","ONCBPC4",9,0)
 S TABLE("CHEMOTHERAPY")="CHEMO^ONCBPC4A"
"RTN","ONCBPC4",10,0)
 S TABLE("IMMUNOTHERAPY")="BRM^ONCBPC4A"
"RTN","ONCBPC4",11,0)
 S HTABLE(1)="DATE OF INITIAL TREATMENT"
"RTN","ONCBPC4",12,0)
 S HTABLE(2)="PROTOCOL ELIGIBILITY STATUS"
"RTN","ONCBPC4",13,0)
 S HTABLE(3)="MANAGING PHYSICIANS"
"RTN","ONCBPC4",14,0)
 S HTABLE(4)="SURGERY"
"RTN","ONCBPC4",15,0)
 S HTABLE(5)="RADIATION THERAPY"
"RTN","ONCBPC4",16,0)
 S HTABLE(6)="CHEMOTHERAPY"
"RTN","ONCBPC4",17,0)
 S HTABLE(7)="IMMUNOTHERAPY"
"RTN","ONCBPC4",18,0)
 S CHOICES=7
"RTN","ONCBPC4",19,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCBPC4",20,0)
 S DIC="^ONCO(165.5,",DR="51.2;53.2;55.2;58.1;58.2",DA=ONCONUM,DIQ="ONC"
"RTN","ONCBPC4",21,0)
 S DIQ(0)="IE" D EN^DIQ1
"RTN","ONCBPC4",22,0)
 W @IOF D HEAD^ONCBPC0 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT",!
"RTN","ONCBPC4",23,0)
DOIT W !,"DATE OF INITIAL TREATMENT...........: ",DOIT
"RTN","ONCBPC4",24,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC4",25,0)
PES S DR="346PROTOCOL ELIGIBILITY STATUS........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",26,0)
MP W !!,"MANAGING PHYSICIANS:",!
"RTN","ONCBPC4",27,0)
 S DR="347  PRIMARY PHYSICIAN................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",28,0)
 S DR="348  SECONDARY PHYSICIAN..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",29,0)
SUR W !!,"SURGERY:",!
"RTN","ONCBPC4",30,0)
 S NCDS=ONC(165.5,ONCONUM,58.1,"I"),NCDSOT=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCBPC4",31,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"I"),CDSOT=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCBPC4",32,0)
 I (CDS="")!(CDS="00") D
"RTN","ONCBPC4",33,0)
 .S SURG=NCDSOT,SURGDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,31)
"RTN","ONCBPC4",34,0)
 I ((CDS'="")&(CDS'="00"))!(NCDS="") D
"RTN","ONCBPC4",35,0)
 .S SURG=CDSOT,SURGDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCBPC4",36,0)
 S (SURG1,SURG2)="",LOS=$L(SURG) I LOS<43 S SURG1=SURG G DOS
"RTN","ONCBPC4",37,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCBPC4",38,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCBPC4",39,0)
DOS S Y=SURGDT D DATEOT^ONCOPCE S SURGDT=Y
"RTN","ONCBPC4",40,0)
 W !,"  DATE OF SURGERY...................: ",SURGDT
"RTN","ONCBPC4",41,0)
 W !,"  TYPE OF SURGERY...................: ",SURG1
"RTN","ONCBPC4",42,0)
 W:SURG2'="" !,?41,SURG2
"RTN","ONCBPC4",43,0)
TURB I (SURG="")!($E(SURG,1)=0)!($E(SURG,1,2)'=10)!(TOPCOD="C68.0") D  G TOUD
"RTN","ONCBPC4",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,4)=8
"RTN","ONCBPC4",45,0)
 .W !,"  TUMOR RESECTION DURING TURB.......: Not applicable"
"RTN","ONCBPC4",46,0)
 S DR="349  TUMOR RESECTION DURING TURB......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",47,0)
TOUD I (SURG="")!($E(SURG,1)=0)!($E(SURG,1,2)<20)!($E(SURG,1,2)>70) D  G PLND
"RTN","ONCBPC4",48,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,5)=8
"RTN","ONCBPC4",49,0)
 .W !,"  TYPE OF URINARY DIVERSION.........: Not applicable"
"RTN","ONCBPC4",50,0)
 S DR="350  TYPE OF URINARY DIVERSION........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",51,0)
PLND I (SURG="")!($E(SURG,1)=0)!($E(SURG,1,2)'=70) D  G SC
"RTN","ONCBPC4",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,6)=8
"RTN","ONCBPC4",53,0)
 .W !,"  PELVIC LYMPH NODE DISSECTION......: Not applicable"
"RTN","ONCBPC4",54,0)
 S DR="351  PELVIC LYMPH NODE DISSECTION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",55,0)
SC I (SURG="")!($E(SURG,1)=0) D  G:(Y=0)!(Y="") EXIT W @IOF G RAD^ONCBPC4A
"RTN","ONCBPC4",56,0)
 .W !!,"  SURGICAL COMPLICATIONS:",!
"RTN","ONCBPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,7)=0
"RTN","ONCBPC4",58,0)
 .W !,"    BLEEDING REQUIRING TRANSFUSION..: No"
"RTN","ONCBPC4",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,8)=0
"RTN","ONCBPC4",60,0)
 .W !,"    DEEP VENOUS THROMBOSIS..........: No"
"RTN","ONCBPC4",61,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,9)=0
"RTN","ONCBPC4",62,0)
 .W !,"    MYOCARDIAL INFARCTION/ARRHYTHMIA: No"
"RTN","ONCBPC4",63,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,10)=0
"RTN","ONCBPC4",64,0)
 .W !,"    PELVIC ABSCESS..................: No"
"RTN","ONCBPC4",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,11)=0
"RTN","ONCBPC4",66,0)
 .W !,"    PNEUMONIA REQUIRING ANTIBIOTICS.: No"
"RTN","ONCBPC4",67,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,12)=0
"RTN","ONCBPC4",68,0)
 .W !,"    POST-OPERATIVE DEATH (30 DAYS)..: No"
"RTN","ONCBPC4",69,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,13)=0
"RTN","ONCBPC4",70,0)
 .W !,"    PULMONARY EMBOLISM/THROMBOSIS...: No"
"RTN","ONCBPC4",71,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,14)=0
"RTN","ONCBPC4",72,0)
 .W !,"    REOPERATION.....................: No"
"RTN","ONCBPC4",73,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,15)=0
"RTN","ONCBPC4",74,0)
 .W !,"    OTHER...........................: No"
"RTN","ONCBPC4",75,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4",76,0)
 W !!,"  SURGICAL COMPLICATIONS:",!
"RTN","ONCBPC4",77,0)
 S DR="352    BLEEDING REQUIRING TRANSFUSION.." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",78,0)
 S DR="353    DEEP VENOUS THROMBOSIS.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",79,0)
 S DR="354    MYOCARDIAL INFARCTION/ARRHYTHMIA" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",80,0)
 S DR="355    PELVIC ABSCESS.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",81,0)
 S DR="356    PNEUMONIA REQUIRING ANTIBIOTICS." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",82,0)
 S DR="357    POST-OPERATIVE DEATH (30 DAYS).." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",83,0)
 S DR="358    PULMONARY EMBOLISM/THROMBOSIS..." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",84,0)
 S DR="359    REOPERATION....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",85,0)
 S DR="360    OTHER..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",86,0)
 G ^ONCBPC4A
"RTN","ONCBPC4",87,0)
JUMP ;Jump to prompts
"RTN","ONCBPC4",88,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBPC4",89,0)
 I X["?" D  G JUMP
"RTN","ONCBPC4",90,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC4",91,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC4",92,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC4",93,0)
 S X=TABLE(X)
"RTN","ONCBPC4",94,0)
 G @X
"RTN","ONCBPC4",95,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBPC4",96,0)
 K CDS,CDSOT,CHEDT,CHEMO,DOIT,LOS,NCDS,NCDSOT,NOP,RAD,RADDT,SURG,SURG1
"RTN","ONCBPC4",97,0)
 K SURG2,SURGDT
"RTN","ONCBPC4",98,0)
 K DIC
"RTN","ONCBPC4",99,0)
 Q
"RTN","ONCBPC4A")
0^20^B38587962
"RTN","ONCBPC4A",1,0)
ONCBPC4A ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder Table IV;6/19/96
"RTN","ONCBPC4A",2,0)
 ;;2.11;ONCOLOGY;**6,16**;Mar 07, 1995
"RTN","ONCBPC4A",3,0)
RAD W !!,"RADIATION THERAPY:",!
"RTN","ONCBPC4A",4,0)
 S RAD=ONC(165.5,ONCONUM,51.2,"I"),RADOT=ONC(165.5,ONCONUM,51.2,"E")
"RTN","ONCBPC4A",5,0)
 W !,"  RADIATION THERAPY.................: ",RADOT
"RTN","ONCBPC4A",6,0)
 S RADDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,4)
"RTN","ONCBPC4A",7,0)
 S Y=RADDT D DATEOT^ONCOPCE S RADDT=Y
"RTN","ONCBPC4A",8,0)
 W !,"  DATE RADIATION THERAPY STARTED....: ",RADDT
"RTN","ONCBPC4A",9,0)
 I (RAD=0)!(RAD=7) D  G:(Y=0)!(Y="") EXIT W @IOF G CHEMO
"RTN","ONCBPC4A",10,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)="0000000" ; 2/2/98 WAA
"RTN","ONCBPC4A",11,0)
 .W !,"  DATE RADIATION THERAPY ENDED......: 00/00/0000"
"RTN","ONCBPC4A",12,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,17)=0
"RTN","ONCBPC4A",13,0)
 .W !,"  TOTAL RAD (cGy/rad) DOSE..........: 00000"
"RTN","ONCBPC4A",14,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,18)=1
"RTN","ONCBPC4A",15,0)
 .W !,"  REGIONAL TREATMENT MODALITY.......: No radiation therapy"
"RTN","ONCBPC4A",16,0)
 .W !!,"  RADIATION COMPLICATIONS:",!
"RTN","ONCBPC4A",17,0)
 .F PIECE=19:1:21 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=8
"RTN","ONCBPC4A",18,0)
 .W !,"    URINARY INCONTINENCE............: Not applicable"
"RTN","ONCBPC4A",19,0)
 .W !,"    HEMATURIA.......................: Not applicable"
"RTN","ONCBPC4A",20,0)
 .W !,"    RADIATION BOWEL INJURY..........: Not applicable"
"RTN","ONCBPC4A",21,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",22,0)
 I (RAD=8)!(RAD=9) D  G:(Y=0)!(Y="") EXIT W @IOF G CHEMO
"RTN","ONCBPC4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)=9999999 ; 2/2/98 WAA
"RTN","ONCBPC4A",24,0)
 .W !,"  DATE RADIATION THERAPY ENDED......: 99/99/9999"
"RTN","ONCBPC4A",25,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,17)=99999
"RTN","ONCBPC4A",26,0)
 .W !,"  TOTAL RAD (cGy/rad) DOSE..........: 99999"
"RTN","ONCBPC4A",27,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,18)=19
"RTN","ONCBPC4A",28,0)
 .W !,"  REGIONAL TREATMENT MODALITY.......: Unknown"
"RTN","ONCBPC4A",29,0)
 .W !!,"  RADIATION COMPLICATIONS:",!
"RTN","ONCBPC4A",30,0)
 .F PIECE=19:1:21 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=9
"RTN","ONCBPC4A",31,0)
 .W !,"    URINARY INCONTINENCE............: Unknown"
"RTN","ONCBPC4A",32,0)
 .W !,"    HEMATURIA.......................: Unknown"
"RTN","ONCBPC4A",33,0)
 .W !,"    RADIATION BOWEL INJURY..........: Unknown"
"RTN","ONCBPC4A",34,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",35,0)
 S DR="361  DATE RADIATION THERAPY ENDED......" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",36,0)
 S DR="362  TOTAL RAD (cGy/rad) DOSE.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",37,0)
 S DR="363  REGIONAL TREATMENT MODALITY......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",38,0)
 W !!,"  RADIATION COMPLICATIONS:",!
"RTN","ONCBPC4A",39,0)
 S DR="364    URINARY INCONTINENCE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",40,0)
 S DR="365    HEMATURIA......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",41,0)
 S DR="366    RADIATION BOWEL INJURY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",42,0)
CHEMO W !!,"CHEMOTHERAPY:",!
"RTN","ONCBPC4A",43,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCBPC4A",44,0)
 W !,"  CHEMOTHERAPY......................: ",CHEMOT
"RTN","ONCBPC4A",45,0)
 S CHEDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,11)
"RTN","ONCBPC4A",46,0)
 S Y=CHEDT D DATEOT^ONCOPCE S CHEDT=Y
"RTN","ONCBPC4A",47,0)
 W !,"  DATE CHEMOTHERAPY STARTED.........: ",CHEDT
"RTN","ONCBPC4A",48,0)
 I (CHEMO=0)!(CHEMO=7) D  G:(Y=0)!(Y="") EXIT W @IOF G BRM
"RTN","ONCBPC4A",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,22)="0000000" ; 2/2/98 WAA
"RTN","ONCBPC4A",50,0)
 .W !,"  DATE CHEMOTHERAPY ENDED...........: 00/00/0000"
"RTN","ONCBPC4A",51,0)
 .F PIECE=23:1:36 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=0
"RTN","ONCBPC4A",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=0
"RTN","ONCBPC4A",53,0)
 .W !,"  ROUTE CHEMOTHERAPY ADMINISTERED...: No chemotherapy"
"RTN","ONCBPC4A",54,0)
 .W !!,"  TYPES OF AGENTS ADMINISTERED:",!
"RTN","ONCBPC4A",55,0)
 .W !,"    ADRIAMYCIN......: None      IFOSFAMIDE......: None"
"RTN","ONCBPC4A",56,0)
 .W !,"    CARBOPLATINUM...: None      METHOTREXATE....: None"
"RTN","ONCBPC4A",57,0)
 .W !,"    CISPLATIN.......: None      TAXOL...........: None"
"RTN","ONCBPC4A",58,0)
 .W !,"    CYCLOPHOSPHAMIDE: None      THIOTEPA........: None"
"RTN","ONCBPC4A",59,0)
 .W !,"    5-FLUOROURACIL..: None      VINBLASTINE.....: None"
"RTN","ONCBPC4A",60,0)
 .W !,"    GALLIUM NITRATE.: None      OTHER...........: None"
"RTN","ONCBPC4A",61,0)
 .W !!,"  INDICATION FOR ADMIN OF AGENTS....: No agents administered, NA"
"RTN","ONCBPC4A",62,0)
 .W !!,"  REASON CHEMOTHERAPY STOPPED.......: Treatment completed, NA"
"RTN","ONCBPC4A",63,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",64,0)
 I (CHEMO=8)!(CHEMO=9) D  G:(Y=0)!(Y="") EXIT W @IOF G BRM
"RTN","ONCBPC4A",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,22)=9999999 ; 2/2/98 WAA
"RTN","ONCBPC4A",66,0)
 .W !,"  DATE CHEMOTHERAPY ENDED...........: 99/99/9999"
"RTN","ONCBPC4A",67,0)
 .F PIECE=23:1:36 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=9
"RTN","ONCBPC4A",68,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=9
"RTN","ONCBPC4A",69,0)
 .W !,"  ROUTE CHEMOTHERAPY ADMINISTERED...: Unknown"
"RTN","ONCBPC4A",70,0)
 .W !!,"  TYPES OF AGENTS ADMINISTERED:",!
"RTN","ONCBPC4A",71,0)
 .W !,"    ADRIAMYCIN......: Unknown   IFOSFAMIDE......: Unknown"
"RTN","ONCBPC4A",72,0)
 .W !,"    CARBOPLATINUM...: Unknown   METHOTREXATE....: Unknown"
"RTN","ONCBPC4A",73,0)
 .W !,"    CISPLATIN.......: Unknown   TAXOL...........: Unknown"
"RTN","ONCBPC4A",74,0)
 .W !,"    CYCLOPHOSPHAMIDE: Unknown   THIOTEPA........: Unknown"
"RTN","ONCBPC4A",75,0)
 .W !,"    5-FLUOROURACIL..: Unknown   VINBLASTINE.....: Unknown"
"RTN","ONCBPC4A",76,0)
 .W !,"    GALLIUM NITRATE.: Unknown   OTHER...........: Unknown"
"RTN","ONCBPC4A",77,0)
 .W !!,"  INDICATION FOR ADMIN OF AGENTS....: Unknown"
"RTN","ONCBPC4A",78,0)
 .W !!,"  REASON CHEMOTHERAPY STOPPED.......: Unknown"
"RTN","ONCBPC4A",79,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",80,0)
 S DR="367  DATE CHEMOTHERAPY ENDED..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",81,0)
 S DR="368  ROUTE CHEMOTHERAPY ADMINISTERED..." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",82,0)
 W !!,"  TYPES OF AGENTS ADMINISTERED:",!
"RTN","ONCBPC4A",83,0)
 S DR="369    ADRIAMYCIN......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",84,0)
 S DR="370    CARBOPLATINUM..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",85,0)
 S DR="371    CISPLATIN......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",86,0)
 S DR="372    CYCLOPHOSPHAMIDE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",87,0)
 S DR="373    5-FLUOROURACIL.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",88,0)
 S DR="374    GALLIUM NITRATE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",89,0)
 S DR="375    IFOSFAMIDE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",90,0)
 S DR="376    METHOTREXATE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",91,0)
 S DR="377    TAXOL..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",92,0)
 S DR="378    THIOTEPA........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",93,0)
 S DR="379    VINBLASTINE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",94,0)
 S DR="380    OTHER AGENT....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",95,0)
 W !
"RTN","ONCBPC4A",96,0)
 S DR="381  INDICATION FOR ADMIN OF AGENTS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",97,0)
 S DR="382  REASON CHEMOTHERAPY STOPPED......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",98,0)
BRM W !!,"IMMUNOTHERAPY:",!
"RTN","ONCBPC4A",99,0)
 S BRM=ONC(165.5,ONCONUM,55.2,"I"),BRMOT=ONC(165.5,ONCONUM,55.2,"E")
"RTN","ONCBPC4A",100,0)
 W !,"  IMMUNOTHERAPY (BRM)...............: ",BRMOT
"RTN","ONCBPC4A",101,0)
 W !!,"  TYPE OF IMMUNOTHERAPY (BRM):",!
"RTN","ONCBPC4A",102,0)
 I (BRM=6)!(BRM=7) D  W ! K DIR S DIR(0)="E" D ^DIR G EXIT
"RTN","ONCBPC4A",103,0)
 .F PIECE=37:1:40 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=0
"RTN","ONCBPC4A",104,0)
 .W !,"    BCG......................: None"
"RTN","ONCBPC4A",105,0)
 .W !,"    INTERFERON...............: None"
"RTN","ONCBPC4A",106,0)
 .W !,"    INTERLEUKIN-II...........: None"
"RTN","ONCBPC4A",107,0)
 .W !,"    OTHER....................: None"
"RTN","ONCBPC4A",108,0)
 I (BRM=8)!(BRM=9) D  W ! K DIR S DIR(0)="E" D ^DIR G EXIT
"RTN","ONCBPC4A",109,0)
 .F PIECE=37:1:40 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=9
"RTN","ONCBPC4A",110,0)
 .W !,"    BCG......................: Unknown"
"RTN","ONCBPC4A",111,0)
 .W !,"    INTERFERON...............: Unknown"
"RTN","ONCBPC4A",112,0)
 .W !,"    INTERLEUKIN-II...........: Unknown"
"RTN","ONCBPC4A",113,0)
 .W !,"    OTHER....................: Unknown"
"RTN","ONCBPC4A",114,0)
 S DR="383    BCG............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",115,0)
 S DR="384    INTERFERON......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",116,0)
 S DR="385    INTERLEUKIN-II.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",117,0)
 S DR="386    OTHER..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",118,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",119,0)
 G EXIT
"RTN","ONCBPC4A",120,0)
JUMP ;Jump to prompts
"RTN","ONCBPC4A",121,0)
 S XX="" R !!,"GO TO: ",X:DTIME G:(X="")!(X[U) EXIT
"RTN","ONCBPC4A",122,0)
 I X["?" D  G JUMP
"RTN","ONCBPC4A",123,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC4A",124,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC4A",125,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC4A",126,0)
 S X=TABLE(X)
"RTN","ONCBPC4A",127,0)
 G @X
"RTN","ONCBPC4A",128,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBPC4A",129,0)
 K BRM,CDS,CDSOT,CHEDT,CHEMO,DOIT,LOS,NCDS,NCDSOT,NOP,PIECE,RAD,RADDT
"RTN","ONCBPC4A",130,0)
 K SURG,SURG1,SURG2,SURGDT,Z
"RTN","ONCBPC4A",131,0)
 K DIC
"RTN","ONCBPC4A",132,0)
 Q
"RTN","ONCBPC8")
0^43^B46622611
"RTN","ONCBPC8",1,0)
ONCBPC8 ;HIRMFO/GWB -PCE Study of Cancers of the Urinary Bladder - Print ;8/15/96
"RTN","ONCBPC8",2,0)
 ;;2.11;ONCOLOGY;**6,16**;Mar 07, 1995
"RTN","ONCBPC8",3,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCBPC8",4,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCBPC8",5,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCBPC8",6,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6)
"RTN","ONCBPC8",7,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=Y
"RTN","ONCBPC8",8,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCBPC8",9,0)
 D HDR W !?15,TABLE,!
"RTN","ONCBPC8",10,0)
 S PRINODE0=^ONCO(165.5,ONCONUM,0)
"RTN","ONCBPC8",11,0)
 S ACCSEQ=$P(PRINODE0,U,5)_"/"_$P(PRINODE0,U,6)
"RTN","ONCBPC8",12,0)
 S IEN=ONCONUM
"RTN","ONCBPC8",13,0)
 K DIQ S DIC="^ONCO(160,",DR="3;9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCBPC8",14,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCBPC8",15,0)
 S DR=".04;.1;.12;3;9;18;19;20;22;24;29;32;33;34;34.1;34.2;37.1;37.2;37.3;38;50;51;51.2;53;53.2;55.2;58.1;58.2;58.3;70;71.1;71.2;71.3;81;82;85;86;87;88;89;300:387"
"RTN","ONCBPC8",16,0)
 S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCBPC8",17,0)
 W !,"ACCESSION/SEQUENCE NUMBER...........: ",ACCSEQ D P Q:EX=U
"RTN","ONCBPC8",18,0)
 W !,"CLASS OF CASE.......................: ",ONC(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCBPC8",19,0)
 W !,"PATIENT REFERRED FOR TREATMENT......: ",ONC(165.5,IEN,300) D P Q:EX=U
"RTN","ONCBPC8",20,0)
 W !,"ZIP CODE AT DIAGNOSIS...............: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCBPC8",21,0)
 W !,"BIRTHDATE...........................: ",ONC(160,ONCOPA,3) D P Q:EX=U
"RTN","ONCBPC8",22,0)
 W !,"RACE................................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCBPC8",23,0)
 W !,"SPANISH ORIGIN......................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCBPC8",24,0)
 W !,"SEX.................................: ",ONC(165.5,IEN,.1) D P Q:EX=U
"RTN","ONCBPC8",25,0)
 W !,"PRIMARY PAYOR AT DIAGNOSIS..........: ",ONC(165.5,IEN,18) D P Q:EX=U
"RTN","ONCBPC8",26,0)
 W !,"LENGTH OF STAY......................: ",ONC(165.5,IEN,301)
"RTN","ONCBPC8",27,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G PHOOC
"RTN","ONCBPC8",28,0)
 D P Q:EX=U
"RTN","ONCBPC8",29,0)
PHOOC W !!,"PATIENT HISTORY OF OTHER CANCER:",?41,"FAMILY HISTORY OF CANCER:",! D P Q:EX=U
"RTN","ONCBPC8",30,0)
 W !,"  CERVIX.......: ",ONC(165.5,IEN,302),?41,"  BLADDER......: ",ONC(165.5,IEN,309) D P Q:EX=U
"RTN","ONCBPC8",31,0)
 W !,"  COLON........: ",ONC(165.5,IEN,303),?41,"  COLON........: ",ONC(165.5,IEN,310) D P Q:EX=U
"RTN","ONCBPC8",32,0)
 W !,"  BLADDER......: ",ONC(165.5,IEN,304),?41,"  LUNG.........: ",ONC(165.5,IEN,311) D P Q:EX=U
"RTN","ONCBPC8",33,0)
 W !,"  HEAD AND NECK: ",ONC(165.5,IEN,305),?41,"  PROSTATE.....: ",ONC(165.5,IEN,312) D P Q:EX=U
"RTN","ONCBPC8",34,0)
 W !,"  KIDNEY.......: ",ONC(165.5,IEN,306),?41,"  OTHER........: ",ONC(165.5,IEN,313) D P Q:EX=U
"RTN","ONCBPC8",35,0)
 W !,"  PROSTATE.....: ",ONC(165.5,IEN,307) D P Q:EX=U
"RTN","ONCBPC8",36,0)
 W !,"  OTHER........: ",ONC(165.5,IEN,308) D P Q:EX=U
"RTN","ONCBPC8",37,0)
 W !!,"SMOKING HISTORY.....................: ",ONC(165.5,IEN,314) D P Q:EX=U
"RTN","ONCBPC8",38,0)
 W !,"DURATION OF SMOKING HISTORY.........: ",ONC(165.5,IEN,315) D P Q:EX=U
"RTN","ONCBPC8",39,0)
 W !,"DURATION OF SMOKE FREE HISTORY......: ",ONC(165.5,IEN,315)
"RTN","ONCBPC8",40,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCBPC8",41,0)
 D P Q:EX=U
"RTN","ONCBPC8",42,0)
II S TABLE="TABLE II - DIAGNOSTIC INFORMATION"
"RTN","ONCBPC8",43,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCBPC8",44,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8",45,0)
 W !,"CLINICAL DETECTION:",! D P Q:EX=U
"RTN","ONCBPC8",46,0)
 W !,"  GROSS HEMATURIA...................: ",ONC(165.5,IEN,317) D P Q:EX=U
"RTN","ONCBPC8",47,0)
 W !,"  MICROSCOPIC HEMATURIA.............: ",ONC(165.5,IEN,318) D P Q:EX=U
"RTN","ONCBPC8",48,0)
 W !,"  URINARY FREQUENCY.................: ",ONC(165.5,IEN,319) D P Q:EX=U
"RTN","ONCBPC8",49,0)
 W !,"  BLADDER IRRITIBILITY..............: ",ONC(165.5,IEN,320) D P Q:EX=U
"RTN","ONCBPC8",50,0)
 W !,"  DYSURIA...........................: ",ONC(165.5,IEN,321) D P Q:EX=U
"RTN","ONCBPC8",51,0)
 W !,"  OTHER.............................: ",ONC(165.5,IEN,322) D P Q:EX=U
"RTN","ONCBPC8",52,0)
 W !!,"ONSET OF SYMPTOMS...................: ",ONC(165.5,IEN,323)
"RTN","ONCBPC8",53,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DOS
"RTN","ONCBPC8",54,0)
 D P Q:EX=U
"RTN","ONCBPC8",55,0)
DOS W !!,"DURATION OF SYMPTOMS:",! D P Q:EX=U
"RTN","ONCBPC8",56,0)
 W !,"  GROSS HEMTURIA....................: ",ONC(165.5,IEN,324) D P Q:EX=U
"RTN","ONCBPC8",57,0)
 W !,"  DYSURIA...........................: ",ONC(165.5,IEN,325) D P Q:EX=U
"RTN","ONCBPC8",58,0)
 W !!,"DIAGNOSTIC PROCEDURES:" D P Q:EX=U
"RTN","ONCBPC8",59,0)
 W !!,"  BIMANUAL EXAMINATION OF BLADDER...: ",ONC(165.5,IEN,326) D P Q:EX=U
"RTN","ONCBPC8",60,0)
 W !,"  CYSTOSCOPY WITH BIOPSY............: ",ONC(165.5,IEN,327) D P Q:EX=U
"RTN","ONCBPC8",61,0)
 W !,"  CYSTOSCOPY WITHOUT BIOPSY.........: ",ONC(165.5,IEN,328) D P Q:EX=U
"RTN","ONCBPC8",62,0)
 W !,"  FLOW CYTOMETRY....................: ",ONC(165.5,IEN,329) D P Q:EX=U
"RTN","ONCBPC8",63,0)
 W !,"  INTRAVENOUS PYELOGRAM.............: ",ONC(165.5,IEN,330) D P Q:EX=U
"RTN","ONCBPC8",64,0)
 W !,"  URINE CYTOLOGY....................: ",ONC(165.5,IEN,331) D P Q:EX=U
"RTN","ONCBPC8",65,0)
 W !,"  URINALYSIS........................: ",ONC(165.5,IEN,332) D P Q:EX=U
"RTN","ONCBPC8",66,0)
 W !,"  OTHER.............................: ",ONC(165.5,IEN,333)
"RTN","ONCBPC8",67,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DOID
"RTN","ONCBPC8",68,0)
 D P Q:EX=U
"RTN","ONCBPC8",69,0)
DOID W !!,"DATE OF INITIAL DIAGNOSIS...........: ",ONC(165.5,IEN,3) D P Q:EX=U
"RTN","ONCBPC8",70,0)
 W !,"SPECIALTY MAKING DIAGNOSIS..........: ",ONC(165.5,IEN,334) D P Q:EX=U
"RTN","ONCBPC8",71,0)
 W !,"PRIMARY SITE (ICD-O-2)..............: ",TOPCOD," ",ONC(165.5,IEN,20)
"RTN","ONCBPC8",72,0)
 W !,"HISTOLOGY (ICD-O-2).................: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCBPC8",73,0)
 W !,"GRADE...............................: ",ONC(165.5,IEN,24)
"RTN","ONCBPC8",74,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCBPC8",75,0)
 D P Q:EX=U
"RTN","ONCBPC8",76,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCBPC8",77,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCBPC8",78,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8",79,0)
 W !,"STAGING PROCEDURES:",! D P Q:EX=U
"RTN","ONCBPC8",80,0)
 W !,"  ABDOMINAL ULTRASOUND: ",ONC(165.5,IEN,335),?36,"CT OTHER............: ",ONC(165.5,IEN,340) D P Q:EX=U
"RTN","ONCBPC8",81,0)
 W !,"  BONE IMAGING........: ",ONC(165.5,IEN,336),?36,"MRI PELVIS/ABDOMEN..: ",ONC(165.5,IEN,341) D P Q:EX=U
"RTN","ONCBPC8",82,0)
 W !,"  CHEST X-RAY.........: ",ONC(165.5,IEN,337),?36,"MRI OTHER...........: ",ONC(165.5,IEN,342) D P Q:EX=U
"RTN","ONCBPC8",83,0)
 W !,"  CT CHEST/LUNG.......: ",ONC(165.5,IEN,338),?36,"OTHER...............: ",ONC(165.5,IEN,343) D P Q:EX=U
"RTN","ONCBPC8",84,0)
 W !,"  CT ABDOMEN/PELVIS...: ",ONC(165.5,IEN,339) D P Q:EX=U
"RTN","ONCBPC8",85,0)
 W !!,"PRESENCE OF HYDRONEPHROSIS..........: ",ONC(165.5,IEN,344) D P Q:EX=U
"RTN","ONCBPC8",86,0)
 W !,"TUMOR SIZE (mm).....................: ",ONC(165.5,IEN,29) D P Q:EX=U
"RTN","ONCBPC8",87,0)
 W !,"PRESENCE OF MULTIPLE TUMORS.........: ",ONC(165.5,IEN,345) D P Q:EX=U
"RTN","ONCBPC8",88,0)
 W !,"REGIONAL NODES EXAMINED.............: ",ONC(165.5,IEN,33) D P Q:EX=U
"RTN","ONCBPC8",89,0)
 W !,"REGIONAL NODES POSITIVE.............: ",ONC(165.5,IEN,32)
"RTN","ONCBPC8",90,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)"
"RTN","ONCBPC8",91,0)
SODM W !!,"SITE(S) OF DISTANT METASTASIS:",! D P Q:EX=U
"RTN","ONCBPC8",92,0)
 W !,"  SITE OF DISTANT METASTASIS #1.....: ",ONC(165.5,IEN,34) D P Q:EX=U
"RTN","ONCBPC8",93,0)
 W !,"  SITE OF DISTANT METASTASIS #2.....: ",ONC(165.5,IEN,34.1) D P Q:EX=U
"RTN","ONCBPC8",94,0)
 W !,"  SITE OF DISTANT METASTASIS #3.....: ",ONC(165.5,IEN,34.2) D P Q:EX=U
"RTN","ONCBPC8",95,0)
 W !!,"AJCC CLINICAL STAGE (cTNM):",! D P Q:EX=U
"RTN","ONCBPC8",96,0)
 W !,"  T-CODE............................: ",ONC(165.5,IEN,37.1) D P Q:EX=U
"RTN","ONCBPC8",97,0)
 W !,"  N-CODE............................: ",ONC(165.5,IEN,37.2) D P Q:EX=U
"RTN","ONCBPC8",98,0)
 W !,"  M-CODE............................: ",ONC(165.5,IEN,37.3) D P Q:EX=U
"RTN","ONCBPC8",99,0)
 W !,"  AJCC STAGE........................: ",ONC(165.5,IEN,38)
"RTN","ONCBPC8",100,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)"
"RTN","ONCBPC8",101,0)
 W !!,"AJCC PATHOLOGIC STAGE (pTNM):",! D P Q:EX=U
"RTN","ONCBPC8",102,0)
 W !,"  T-CODE............................: ",ONC(165.5,IEN,85) D P Q:EX=U
"RTN","ONCBPC8",103,0)
 W !,"  N-CODE............................: ",ONC(165.5,IEN,86) D P Q:EX=U
"RTN","ONCBPC8",104,0)
 W !,"  M-CODE............................: ",ONC(165.5,IEN,87) D P Q:EX=U
"RTN","ONCBPC8",105,0)
 W !,"  AJCC STAGE........................: ",ONC(165.5,IEN,88) D P Q:EX=U
"RTN","ONCBPC8",106,0)
 W !!,"STAGED BY:" D P Q:EX=U
"RTN","ONCBPC8",107,0)
 W !!,"  CLINICAL STAGE....................: ",ONC(165.5,IEN,19) D P Q:EX=U
"RTN","ONCBPC8",108,0)
 W !,"  PATHOLOGIC STAGE..................: ",ONC(165.5,IEN,89)
"RTN","ONCBPC8",109,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G IV
"RTN","ONCBPC8",110,0)
 D P Q:EX=U
"RTN","ONCBPC8",111,0)
IV D ^ONCBPC8A
"RTN","ONCBPC8",112,0)
KILL ;Kill Variables and Exit
"RTN","ONCBPC8",113,0)
 K ACCSEQ,CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCBPC8",114,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCBPC8",115,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCBPC8",116,0)
 Q
"RTN","ONCBPC8",117,0)
P ;Print
"RTN","ONCBPC8",118,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCBPC8",119,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCBPC8",120,0)
 .D HDR Q
"RTN","ONCBPC8",121,0)
 Q
"RTN","ONCBPC8",122,0)
TASK ;Queue a task
"RTN","ONCBPC8",123,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCBPC8",124,0)
 S ZTRTN="PRT^ONCBPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCBPC8",125,0)
 S ZTDESC="Print Bladder PCE"
"RTN","ONCBPC8",126,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCBPC8",127,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCBPC8",128,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCBPC8",129,0)
HDR ;Header
"RTN","ONCBPC8",130,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCBPC8",131,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCBPC8",132,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCBPC8",133,0)
 W !," PCE Study of Cancers of the Urinary Bladder"
"RTN","ONCBPC8",134,0)
 W ?59,ONDATE,!,DASHES
"RTN","ONCBPC8",135,0)
 Q
"RTN","ONCBPC8A")
0^10^B33284452
"RTN","ONCBPC8A",1,0)
ONCBPC8A ;HIRMFO/GWB -PCE Study of Cancers of the Urinary Bladder -Print (continued) ;8/15/96
"RTN","ONCBPC8A",2,0)
 ;;2.11;ONCOLOGY;**6,11,16**;Mar 07, 1995
"RTN","ONCBPC8A",3,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCBPC8A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCBPC8
"RTN","ONCBPC8A",5,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8A",6,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCBPC8A",7,0)
 W !,"DATE OF INITIAL TREATMENT...........: ",DOIT D P Q:EX=U
"RTN","ONCBPC8A",8,0)
 W !,"PROTOCOL ELIGIBILITY STATUS.........: ",ONC(165.5,IEN,346) D P Q:EX=U
"RTN","ONCBPC8A",9,0)
 W !!,"MANAGING PHYSICIANS:",! D P Q:EX=U
"RTN","ONCBPC8A",10,0)
 W !,"  PRIMARY PHYSICIAN.................: ",ONC(165.5,IEN,347) D P Q:EX=U
"RTN","ONCBPC8A",11,0)
 W !,"  SECONDARY PHYSICIAN...............: ",ONC(165.5,IEN,348) D P Q:EX=U
"RTN","ONCBPC8A",12,0)
 W !!,"SURGERY:",! D P Q:EX=U
"RTN","ONCBPC8A",13,0)
 S NCDS=$E(ONC(165.5,IEN,58.1),1,2),NCDSOT=ONC(165.5,IEN,58.1)
"RTN","ONCBPC8A",14,0)
 S CDS=$E(ONC(165.5,IEN,58.2),1,2),CDSOT=ONC(165.5,IEN,58.2)
"RTN","ONCBPC8A",15,0)
 I (CDS="")!(CDS="00") D
"RTN","ONCBPC8A",16,0)
 .S SURG=NCDSOT,SURGDT=ONC(165.5,IEN,58.3)
"RTN","ONCBPC8A",17,0)
 I ((CDS'="")&(CDS'="00"))!(NCDS="") D
"RTN","ONCBPC8A",18,0)
 .S SURG=CDSOT,SURGDT=ONC(165.5,IEN,50)
"RTN","ONCBPC8A",19,0)
 S (SURG1,SURG2)=""
"RTN","ONCBPC8A",20,0)
 S LOS=$L(SURG) I LOS<56 S SURG1=SURG G SURG
"RTN","ONCBPC8A",21,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCBPC8A",22,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCBPC8A",23,0)
SURG I (SURG1="")!($E(SURG1,1,2)="00") S SURGDT="00/00/0000"
"RTN","ONCBPC8A",24,0)
 W !,"  DATE OF SURGERY...................: ",SURGDT D P Q:EX=U
"RTN","ONCBPC8A",25,0)
 W !,"  TYPE OF SURGERY...................: ",SURG1 D P Q:EX=U
"RTN","ONCBPC8A",26,0)
 W:SURG2'="" !,?41,SURG2 D P Q:EX=U
"RTN","ONCBPC8A",27,0)
 W !,"  TUMOR RESECTION DURING TURB.......: ",ONC(165.5,IEN,349) D P Q:EX=U
"RTN","ONCBPC8A",28,0)
 W !,"  TYPE OF URINARY DIVERSION.........: ",ONC(165.5,IEN,350) ;D P Q:EX=U
"RTN","ONCBPC8A",29,0)
 W !,"  PELVIC LYMPH NODE DISSECTION......: ",ONC(165.5,IEN,351)
"RTN","ONCBPC8A",30,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 W !?15,TABLE_" (continued)"
"RTN","ONCBPC8A",31,0)
SC W !!,"  SURGICAL COMPLICATIONS:",! D P Q:EX=U
"RTN","ONCBPC8A",32,0)
 W !,"    BLEEDING REQUIRING TRANSFUSION..: ",ONC(165.5,IEN,352) D P Q:EX=U
"RTN","ONCBPC8A",33,0)
 W !,"    DEEP VENOUS THROMBOSIS..........: ",ONC(165.5,IEN,353) D P Q:EX=U
"RTN","ONCBPC8A",34,0)
 W !,"    MYOCARDIAL INFARCTION/ARRHYTHMIA: ",ONC(165.5,IEN,354) D P Q:EX=U
"RTN","ONCBPC8A",35,0)
 W !,"    PELVIC ABSCESS..................: ",ONC(165.5,IEN,355) D P Q:EX=U
"RTN","ONCBPC8A",36,0)
 W !,"    PNEUMONIA REQUIRING ANTIBIOTICS.: ",ONC(165.5,IEN,356) D P Q:EX=U
"RTN","ONCBPC8A",37,0)
 W !,"    POST-OPERATIVE DEATH (30 DAYS)..: ",ONC(165.5,IEN,357) D P Q:EX=U
"RTN","ONCBPC8A",38,0)
 W !,"    PULMONARY EMBOLISM/THROMBOSIS...: ",ONC(165.5,IEN,358) D P Q:EX=U
"RTN","ONCBPC8A",39,0)
 W !,"    REOPERATION.....................: ",ONC(165.5,IEN,359) D P Q:EX=U
"RTN","ONCBPC8A",40,0)
 W !,"    OTHER...........................: ",ONC(165.5,IEN,360)
"RTN","ONCBPC8A",41,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 W !?15,TABLE_" (continued)"
"RTN","ONCBPC8A",42,0)
RT W !!,"RADIATION THERAPY:",! D P Q:EX=U
"RTN","ONCBPC8A",43,0)
 W !,"  RADIATION THERAPY.................: ",ONC(165.5,IEN,51.2) D P Q:EX=U
"RTN","ONCBPC8A",44,0)
 W !,"  DATE RADIATION THERAPY STARTED....: ",ONC(165.5,IEN,51) D P Q:EX=U
"RTN","ONCBPC8A",45,0)
 W !,"  DATE RADIATION THERAPY ENDED......: ",ONC(165.5,IEN,361) D P Q:EX=U
"RTN","ONCBPC8A",46,0)
 W !,"  TOTAL RAD (cGy/rad) DOSE..........: ",ONC(165.5,IEN,362) D P Q:EX=U
"RTN","ONCBPC8A",47,0)
 W !,"  REGIONAL TREATMENT MODALITY.......: ",ONC(165.5,IEN,363) D P Q:EX=U
"RTN","ONCBPC8A",48,0)
 W !!,"  RADIATION COMPLICATIONS:",! D P Q:EX=U
"RTN","ONCBPC8A",49,0)
 W !,"    URINARY INCONTINENCE............: ",ONC(165.5,IEN,364) D P Q:EX=U
"RTN","ONCBPC8A",50,0)
 W !,"    HEMATURIA.......................: ",ONC(165.5,IEN,365) D P Q:EX=U
"RTN","ONCBPC8A",51,0)
 W !,"    RADIATION BOWEL INJURY..........: ",ONC(165.5,IEN,366) D P Q:EX=U
"RTN","ONCBPC8A",52,0)
 W ! D P Q:EX=U
"RTN","ONCBPC8A",53,0)
 W !,"CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCBPC8A",54,0)
 W !,"  CHEMOTHERAPY......................: ",ONC(165.5,IEN,53.2) D P Q:EX=U
"RTN","ONCBPC8A",55,0)
 W !,"  DATE CHEMOTHERAPY STARTED.........: ",ONC(165.5,IEN,53) D P Q:EX=U
"RTN","ONCBPC8A",56,0)
 W !,"  DATE CHEMOTHERAPY ENDED...........: ",ONC(165.5,IEN,367) D P Q:EX=U
"RTN","ONCBPC8A",57,0)
 W !,"  ROUTE CHEMOTHERAPY ADMINISTERED...: ",ONC(165.5,IEN,368) D P Q:EX=U
"RTN","ONCBPC8A",58,0)
 W !!,"  TYPES OF AGENTS ADMINISTERED:",! D P Q:EX=U
"RTN","ONCBPC8A",59,0)
 W !,"    ADRIAMYCIN......: ",ONC(165.5,IEN,369),?33,"IFOSFAMIDE......: ",ONC(165.5,IEN,375) D P Q:EX=U
"RTN","ONCBPC8A",60,0)
 W !,"    CARBOPLATINUM...: ",ONC(165.5,IEN,370),?33,"METHOTREXATE....: ",ONC(165.5,IEN,376) D P Q:EX=U
"RTN","ONCBPC8A",61,0)
 W !,"    CISPLATIN.......: ",ONC(165.5,IEN,371),?33,"TAXOL...........: ",ONC(165.5,IEN,377) D P Q:EX=U
"RTN","ONCBPC8A",62,0)
 W !,"    CYCLOPHOSPHAMIDE: ",ONC(165.5,IEN,372),?33,"THIOTEPA........: ",ONC(165.5,IEN,378) D P Q:EX=U
"RTN","ONCBPC8A",63,0)
 W !,"    5-FLUOROURACIL..: ",ONC(165.5,IEN,373),?33,"VINBLASTINE.....: ",ONC(165.5,IEN,379) ;D P Q:EX=U
"RTN","ONCBPC8A",64,0)
 W !,"    GALLIUM NITRATE.: ",ONC(165.5,IEN,374),?33,"OTHER...........: ",ONC(165.5,IEN,380)
"RTN","ONCBPC8A",65,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 W !?15,TABLE_" (continued)"
"RTN","ONCBPC8A",66,0)
IFAOA W !!,"  INDICATION FOR ADMIN OF AGENTS...: ",ONC(165.5,IEN,381) D P Q:EX=U
"RTN","ONCBPC8A",67,0)
 W !,"  REASON CHEMOTHERAPY STOPPED......: ",ONC(165.5,IEN,382) D P Q:EX=U
"RTN","ONCBPC8A",68,0)
 W !!,"IMMUNOTHERAPY:",! D P Q:EX=U
"RTN","ONCBPC8A",69,0)
 W !,"  IMMUNOTHERAPY (BRM)...............: ",ONC(165.5,IEN,55.2) D P Q:EX=U
"RTN","ONCBPC8A",70,0)
 W !!,"  TYPE OF IMMUNOTHERAPY (BRM):",! D P Q:EX=U
"RTN","ONCBPC8A",71,0)
 W !,"    BCG.............................: ",ONC(165.5,IEN,383) D P Q:EX=U
"RTN","ONCBPC8A",72,0)
 W !,"    INTERFERON......................: ",ONC(165.5,IEN,384) D P Q:EX=U
"RTN","ONCBPC8A",73,0)
 W !,"    INTERLEUKIN-II..................: ",ONC(165.5,IEN,385) D P Q:EX=U
"RTN","ONCBPC8A",74,0)
 W !,"    OTHER...........................: ",ONC(165.5,IEN,386)
"RTN","ONCBPC8A",75,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 G V
"RTN","ONCBPC8A",76,0)
 D P Q:EX=U
"RTN","ONCBPC8A",77,0)
V S TABLE="TABLE V - FIRST RECURRENCE"
"RTN","ONCBPC8A",78,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCBPC8
"RTN","ONCBPC8A",79,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8A",80,0)
 W !,"TYPE OF FIRST RECURRENCE............: ",ONC(165.5,IEN,387) D P Q:EX=U
"RTN","ONCBPC8A",81,0)
 W !,"DATE OF FIRST RECURRENCE............: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCBPC8A",82,0)
 W !,"DISTANT SITE OF FIRST RECURRENCE 1..: ",ONC(165.5,IEN,71.1) D P Q:EX=U
"RTN","ONCBPC8A",83,0)
 W !,"DISTANT SITE OF FIRST RECURRENCE 2..: ",ONC(165.5,IEN,71.2) D P Q:EX=U
"RTN","ONCBPC8A",84,0)
 W !,"DISTANT SITE OF FIRST RECURRENCE 3..: ",ONC(165.5,IEN,71.3) D P Q:EX=U
"RTN","ONCBPC8A",85,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 G VI
"RTN","ONCBPC8A",86,0)
 D P Q:EX=U
"RTN","ONCBPC8A",87,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCBPC8A",88,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCBPC8
"RTN","ONCBPC8A",89,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8A",90,0)
 S DLC=""
"RTN","ONCBPC8A",91,0)
 I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCBPC8A",92,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCBPC8A",93,0)
 W !,"DATE OF LAST CONTACT OR DEATH......: ",DLC
"RTN","ONCBPC8A",94,0)
 W !,"VITAL STATUS.......................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCBPC8A",95,0)
 S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCBPC8A",96,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCBPC8A",97,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCBPC8A",98,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCBPC8A",99,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCBPC8A",100,0)
 W !,"CANCER STATUS......................: ",CS
"RTN","ONCBPC8A",101,0)
 W !,"COMPLETED BY.......................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCBPC8A",102,0)
 W !,"REVIEWED BY CANCER COMMITTEE.......: ",ONC(165.5,IEN,82)
"RTN","ONCBPC8A",103,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC8A",104,0)
KILL ;Kill Variables and Exit
"RTN","ONCBPC8A",105,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,LP,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN
"RTN","ONCBPC8A",106,0)
 Q
"RTN","ONCBPC8A",107,0)
P ;Display Data
"RTN","ONCBPC8A",108,0)
 I ($Y'<(LIN-2)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCBPC8A",109,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCBPC8A",110,0)
 .D HDR^ONCBPC8 Q
"RTN","ONCBPC8A",111,0)
 Q
"RTN","ONCCPC4")
0^9^B42722216
"RTN","ONCCPC4",1,0)
ONCCPC4 ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table IV;2/20/97
"RTN","ONCCPC4",2,0)
 ;;2.11;ONCOLOGY;**11,15,16**;Mar 07, 1995
"RTN","ONCCPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCCPC4",4,0)
 S TABLE("PHYSICIAN PROVIDING TREATMENT")="PPT^ONCCPC4"
"RTN","ONCCPC4",5,0)
 S TABLE("DATE OF FIRST COURSE TREATMENT")="DOFCT^ONCCPC4"
"RTN","ONCCPC4",6,0)
 S TABLE("DATE OF INPATIENT ADMISSION")="DOIA^ONCCPC4"
"RTN","ONCCPC4",7,0)
 S TABLE("DATE OF INPATIENT DISCHARGE")="DOID^ONCCPC4"
"RTN","ONCCPC4",8,0)
 S TABLE("SURGERY")="S^ONCCPC4"
"RTN","ONCCPC4",9,0)
 S TABLE("RADIATION THERAPY")="R^ONCCPC4A"
"RTN","ONCCPC4",10,0)
 S TABLE("CHEMOTHERAPY")="C^ONCCPC4A"
"RTN","ONCCPC4",11,0)
 S HTABLE(1)="PHYSICIAN PROVIDING TREATMENT"
"RTN","ONCCPC4",12,0)
 S HTABLE(2)="DATE OF FIRST COURSE TREATMENT"
"RTN","ONCCPC4",13,0)
 S HTABLE(3)="DATE OF INPATIENT ADMISSION"
"RTN","ONCCPC4",14,0)
 S HTABLE(4)="DATE OF INPATIENT DISCHARGE"
"RTN","ONCCPC4",15,0)
 S HTABLE(5)="SURGERY"
"RTN","ONCCPC4",16,0)
 S HTABLE(6)="RADIATION THERAPY"
"RTN","ONCCPC4",17,0)
 S HTABLE(7)="CHEMOTHERAPY"
"RTN","ONCCPC4",18,0)
 S CHOICES=7
"RTN","ONCCPC4",19,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCCPC4",20,0)
 S DIC="^ONCO(165.5,",DR="50;51.2;53;53.2;58.1;58.2;58.3",DA=ONCONUM
"RTN","ONCCPC4",21,0)
 S DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCCPC4",22,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E"),RAD=ONC(165.5,ONCONUM,51.2,"I")
"RTN","ONCCPC4",23,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCCPC4",24,0)
 W @IOF D HEAD^ONCCPC0
"RTN","ONCCPC4",25,0)
 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCCPC4",26,0)
 W !?22,"------------------------------------"
"RTN","ONCCPC4",27,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC4",28,0)
PPT S DR="762PHYSICIAN PROVIDING TREATMENT....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",29,0)
DOFCT W !,"DATE OF FIRST COURSE TREATMENT....: ",DOFCT
"RTN","ONCCPC4",30,0)
DOIA S DR="1DATE OF INPATIENT ADMISSION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",31,0)
DOID S DR="1.1DATE OF INPATIENT DISCHARGE......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",32,0)
S W !!,"SURGERY"
"RTN","ONCCPC4",33,0)
 W !,"-------"
"RTN","ONCCPC4",34,0)
NCDSDT S NCDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,31)
"RTN","ONCCPC4",35,0)
 S Y=NCDSDT D DATEOT^ONCOPCE S NCDSDT=Y
"RTN","ONCCPC4",36,0)
 S NCDS=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCCPC4",37,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<46 S NCDS1=NCDS G CDSDT
"RTN","ONCCPC4",38,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCCPC4",39,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCCPC4",40,0)
CDSDT S CDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCCPC4",41,0)
 S Y=CDSDT D DATEOT^ONCOPCE S CDSDT=Y
"RTN","ONCCPC4",42,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<46 S CDS1=CDS G NCDS
"RTN","ONCCPC4",43,0)
 S NOP=$L($E(CDS,1,46)," ")
"RTN","ONCCPC4",44,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCCPC4",45,0)
NCDS W !,"  NON CANCER-DIRECTED SURGERY DATE: ",NCDSDT
"RTN","ONCCPC4",46,0)
 W !,"  NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?39,NCDS2
"RTN","ONCCPC4",47,0)
 W !,"  SURGERY OF PRIMARY SITE DATE....: ",CDSDT
"RTN","ONCCPC4",48,0)
CDS W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCCPC4",49,0)
SC I (CDS="")!($E(CDS,1,2)="00") D  G:(Y=0)!(Y="") EXIT G R^ONCCPC4A
"RTN","ONCCPC4",50,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,12)=88
"RTN","ONCCPC4",52,0)
 .W !!,"  ADDITIONAL SURGICAL PROCEDURES..: NA, none performed"
"RTN","ONCCPC4",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,13)=8
"RTN","ONCCPC4",54,0)
 .W !,"  LAPAROSCOPY USED DURING SURGERY.: NA"
"RTN","ONCCPC4",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,14)=0
"RTN","ONCCPC4",56,0)
 .W !,"  METHOD OF ANASTOMOSIS...........: Not done"
"RTN","ONCCPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,15)=0
"RTN","ONCCPC4",58,0)
 .W !,"  DIST OF ANASTOMOSIS FROM DENTATE: 0"
"RTN","ONCCPC4",59,0)
 .S $P(^ONCO(165.5,ONCONUM,3),U,28)=8
"RTN","ONCCPC4",60,0)
 .W !,"  RESIDUAL PRIMARY TUMOR..........: NA"
"RTN","ONCCPC4",61,0)
 .W !!,"  OTHER SURGERY:",!
"RTN","ONCCPC4",62,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,16)=0
"RTN","ONCCPC4",63,0)
 .W !,"    COLOSTOMY.....................: No"
"RTN","ONCCPC4",64,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,17)=0
"RTN","ONCCPC4",65,0)
 .W !,"    OOPHORECTOMY..................: No"
"RTN","ONCCPC4",66,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,18)=8
"RTN","ONCCPC4",67,0)
 .W !,"    PATHOLOGICAL STATUS...........: NA"
"RTN","ONCCPC4",68,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4",69,0)
 .W !,"  COMPLICATIONS AFTER FIRST COURSE OF TREATMENT:",!
"RTN","ONCCPC4",70,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,19)=8
"RTN","ONCCPC4",71,0)
 .W !,"    ABDOMINAL INFECTION..............: NA, no treatment"
"RTN","ONCCPC4",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,20)=8
"RTN","ONCCPC4",73,0)
 .W !,"    ABSCESS..........................: NA, no treatment"
"RTN","ONCCPC4",74,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,21)=8
"RTN","ONCCPC4",75,0)
 .W !,"    ADMISSION FOR NEUTROPENIA........: NA, no treatment"
"RTN","ONCCPC4",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,22)=8
"RTN","ONCCPC4",77,0)
 .W !,"    ANASTOMOTIC DEHISCENCE...........: NA, no treatment"
"RTN","ONCCPC4",78,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,38)=8
"RTN","ONCCPC4",79,0)
 .W !,"    BLEEDING/HEMATOMA................: NA, no treatment"
"RTN","ONCCPC4",80,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,23)=8
"RTN","ONCCPC4",81,0)
 .W !,"    DEHYDRATION......................: NA, no treatment"
"RTN","ONCCPC4",82,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,24)=8
"RTN","ONCCPC4",83,0)
 .W !,"    DIARRHEA.........................: NA, no treatment"
"RTN","ONCCPC4",84,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,25)=8
"RTN","ONCCPC4",85,0)
 .W !,"    EARLY BOWEL OBSTRUCTION..........: NA, no treatment"
"RTN","ONCCPC4",86,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,26)=8
"RTN","ONCCPC4",87,0)
 .W !,"    PERINEAL INFECTION...............: NA, no treatment"
"RTN","ONCCPC4",88,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,27)=8
"RTN","ONCCPC4",89,0)
 .W !,"    PNEUMONIA........................: NA, no treatment"
"RTN","ONCCPC4",90,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,28)=8
"RTN","ONCCPC4",91,0)
 .W !,"    PROCTITIS........................: NA, no treatment"
"RTN","ONCCPC4",92,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,29)=8
"RTN","ONCCPC4",93,0)
 .W !,"    PULMONARY EMBOLISM...............: NA, no treatment"
"RTN","ONCCPC4",94,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,30)=8
"RTN","ONCCPC4",95,0)
 .W !,"    RADIATION ENTERITIS..............: NA, no treatment"
"RTN","ONCCPC4",96,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,31)=8
"RTN","ONCCPC4",97,0)
 .W !,"    STOMA COMPLICATION...............: NA, no treatment"
"RTN","ONCCPC4",98,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,32)=8
"RTN","ONCCPC4",99,0)
 .W !,"    URINARY TRACT INFECTION..........: NA, no treatment"
"RTN","ONCCPC4",100,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,42)=8
"RTN","ONCCPC4",101,0)
 .K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4",102,0)
 .W !!,"  POSTOPERATIVE DEATH W/I 30 DAYS: NA, no surgery",!
"RTN","ONCCPC4",103,0)
 S DR="763  ADDITIONAL SURGICAL PROCEDURES.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",104,0)
 S DR="764  LAPAROSCOPY USED DURING SURGERY." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",105,0)
 S DR="765  METHOD OF ANASTOMOSIS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",106,0)
 S DR="766  DIST OF ANASTOMOSIS FROM DENTATE" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",107,0)
 S DR="59  RESIDUAL PRIMARY TUMOR.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",108,0)
 W !!,"  OTHER SURGERY:",!
"RTN","ONCCPC4",109,0)
 S DR="767    COLOSTOMY....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",110,0)
 S DR="768    OOPHORECTOMY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",111,0)
 S DR="769    PATHOLOGICAL STATUS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",112,0)
 W !!,"  COMPLICATIONS AFTER FIRST COURSE OF TREATMENT:",!
"RTN","ONCCPC4",113,0)
 S DR="770    ABDOMINAL INFECTION..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",114,0)
 S DR="771    ABSCESS......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",115,0)
 S DR="772    ADMISSION FOR NEUTROPENIA....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",116,0)
 S DR="773    ANASTOMOTIC DEHISCENCE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",117,0)
 S DR="437    BLEEDING/HEMATOMA............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",118,0)
 S DR="774    DEHYDRATION..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",119,0)
 S DR="775    DIARRHEA......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",120,0)
 S DR="776    EARLY BOWEL OBSTRUCTION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",121,0)
 S DR="777    PERINEAL INFECTION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",122,0)
 S DR="778    PNEUMONIA....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",123,0)
 S DR="779    PROCTITIS....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",124,0)
 S DR="780    PULMONARY EMBOLISM............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",125,0)
 S DR="781    RADIATION ENTERITIS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",126,0)
 S DR="782    STOMA COMPLICATION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",127,0)
 S DR="783    URINARY TRACT INFECTION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",128,0)
 W !
"RTN","ONCCPC4",129,0)
 S DR="441  POSTOPERATIVE DEATH W/I 30 DAYS." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",130,0)
 W ! G R^ONCCPC4A
"RTN","ONCCPC4",131,0)
JUMP ;Jump to prompts
"RTN","ONCCPC4",132,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC4",133,0)
 I X["?" D  G JUMP
"RTN","ONCCPC4",134,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC4",135,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC4",136,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC4",137,0)
 S X=TABLE(X)
"RTN","ONCCPC4",138,0)
 G @X
"RTN","ONCCPC4",139,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCCPC4",140,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCCPC4",141,0)
 K RADDT,DIQ
"RTN","ONCCPC4",142,0)
 Q
"RTN","ONCCPC4A")
0^21^B23893949
"RTN","ONCCPC4A",1,0)
ONCCPC4A ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table IV (continued);2/20/97
"RTN","ONCCPC4A",2,0)
 ;;2.11;ONCOLOGY;**11,16**;Mar 07, 1995
"RTN","ONCCPC4A",3,0)
R W !,"RADIATION THERAPY"
"RTN","ONCCPC4A",4,0)
 W !,"-----------------"
"RTN","ONCCPC4A",5,0)
 S RADDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,4)
"RTN","ONCCPC4A",6,0)
 S Y=RADDT D DATEOT^ONCOPCE S RADDT=Y
"RTN","ONCCPC4A",7,0)
 W !,"  DATE RADIATION STARTED..........: ",RADDT
"RTN","ONCCPC4A",8,0)
 I (RAD=0)!(RAD=7) D  G C
"RTN","ONCCPC4A",9,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)="0000000"
"RTN","ONCCPC4A",10,0)
 .W !,"  DATE RADIATION THERAPY ENDED....: 00/00/0000"
"RTN","ONCCPC4A",11,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,33)=0
"RTN","ONCCPC4A",12,0)
 .W !,"  ENDOCAVITARY RADIATION..........: None"
"RTN","ONCCPC4A",13,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,34)=0
"RTN","ONCCPC4A",14,0)
 .W !,"  INTRA-OPERATIVE RAD THERAPY.....: No"
"RTN","ONCCPC4A",15,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,35)=0
"RTN","ONCCPC4A",16,0)
 .W !,"  PRIMARY TUMOR RAD DOSE W BOOST..: No radiation therapy"
"RTN","ONCCPC4A",17,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,36)=0
"RTN","ONCCPC4A",18,0)
 .W !,"  NUMBER OF RADIATION TREATMENTS..: None"
"RTN","ONCCPC4A",19,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4A",20,0)
 I (RAD=8)!(RAD=9) D  G C
"RTN","ONCCPC4A",21,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)=9999999
"RTN","ONCCPC4A",22,0)
 .W !,"  DATE RADIATION THERAPY ENDED....: 99/99/9999"
"RTN","ONCCPC4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,33)=9
"RTN","ONCCPC4A",24,0)
 .W !,"  ENDOCAVITARY RADIATION..........: Unknown"
"RTN","ONCCPC4A",25,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,34)=9
"RTN","ONCCPC4A",26,0)
 .W !,"  INTRA-OPERATIVE RAD THERAPY.....: Unknown"
"RTN","ONCCPC4A",27,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,35)=99999
"RTN","ONCCPC4A",28,0)
 .W !,"  PRIMARY TUMOR RAD DOSE W BOOST..: Unknown if received radiation therapy"
"RTN","ONCCPC4A",29,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,36)=99
"RTN","ONCCPC4A",30,0)
 .W !,"  NUMBER OF RADIATION TREATMENTS..: Unknown if radiation given"
"RTN","ONCCPC4A",31,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4A",32,0)
 S DR="361  DATE RADIATION THERAPY ENDED...." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",33,0)
 S DR="784  ENDOCAVITARY RADIATION.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",34,0)
 S DR="785  INTRA-OPERATIVE RAD THERAPY....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",35,0)
 S DR="786  PRIMARY TUMOR RAD DOSE W BOOST.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",36,0)
 S DR="787  NUMBER OF RADIATION TREATMENTS.." D ^DIE G:$D(Y) JUMP W !
"RTN","ONCCPC4A",37,0)
C W !,"CHEMOTHERAPY"
"RTN","ONCCPC4A",38,0)
 W !,"------------"
"RTN","ONCCPC4A",39,0)
 W !,"  CHEMOTHERAPY....................: ",CHEMOT
"RTN","ONCCPC4A",40,0)
 S CHEDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,11)
"RTN","ONCCPC4A",41,0)
 S Y=CHEDT D DATEOT^ONCOPCE S CHEDT=Y
"RTN","ONCCPC4A",42,0)
 W !,"  DATE CHEMOTHERAPY STARTED.......: ",CHEDT
"RTN","ONCCPC4A",43,0)
 I (CHEMO=0)!(CHEMO=7) D  G EXIT
"RTN","ONCCPC4A",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,37)=0
"RTN","ONCCPC4A",45,0)
 .W !,"  ADJUVANT CHEMO W BEAM RADIATION.: No concomitant treatment"
"RTN","ONCCPC4A",46,0)
 .W !!,"  ADJUVANT THERAPY:",!
"RTN","ONCCPC4A",47,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,38)=0
"RTN","ONCCPC4A",48,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,39)=0
"RTN","ONCCPC4A",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,40)=0
"RTN","ONCCPC4A",50,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,41)=0
"RTN","ONCCPC4A",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,32)=0
"RTN","ONCCPC4A",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,42)=0
"RTN","ONCCPC4A",53,0)
 .W !,"    5 FU (FLUOROCIL)...: No" W "    CPT 11.............: No"
"RTN","ONCCPC4A",54,0)
 .W !,"    LEUCOVORIN.........: No" W "    TAXOL..............: No"
"RTN","ONCCPC4A",55,0)
 .W !,"    LEVAMISOLE.........: No" W "    OTHER..............: No",!
"RTN","ONCCPC4A",56,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,43)=0
"RTN","ONCCPC4A",57,0)
 .W !,"  DURATION OF ADJUVANT THERAPY....: No adjuvant therapy"
"RTN","ONCCPC4A",58,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,44)=0
"RTN","ONCCPC4A",59,0)
 .W !,"  COMPLETED DURATION OF THERAPY...: No (0-1 cycle)"
"RTN","ONCCPC4A",60,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4A",61,0)
 I (CHEMO=8)!(CHEMO=9) D  G EXIT
"RTN","ONCCPC4A",62,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,37)=9
"RTN","ONCCPC4A",63,0)
 .W !,"  ADJUVANT CHEMO W BEAM RADIATION.: Unknown if therapy concomitant"
"RTN","ONCCPC4A",64,0)
 .W !!,"  ADJUVANT THERAPY:",!
"RTN","ONCCPC4A",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,38)=9
"RTN","ONCCPC4A",66,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,39)=9
"RTN","ONCCPC4A",67,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,40)=9
"RTN","ONCCPC4A",68,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,41)=9
"RTN","ONCCPC4A",69,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,32)=9
"RTN","ONCCPC4A",70,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,42)=9
"RTN","ONCCPC4A",71,0)
 .W !,"    5 FU (FLUOROCIL)...: Unknown" W "    CPT 11.............: Unknown"
"RTN","ONCCPC4A",72,0)
 .W !,"    LEUCOVORIN.........: Unknown" W "    TAXOL..............: Unknown"
"RTN","ONCCPC4A",73,0)
 .W !,"    LEVAMISOLE.........: Unknown" W "    OTHER..............: Unknown",!
"RTN","ONCCPC4A",74,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,43)=9
"RTN","ONCCPC4A",75,0)
 .W !,"  DURATION OF ADJUVANT THERAPY....: Unknown if therapy given"
"RTN","ONCCPC4A",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,44)=9
"RTN","ONCCPC4A",77,0)
 .W !,"  COMPLETED DURATION OF THERAPY...: Unknown if therapy given"
"RTN","ONCCPC4A",78,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4A",79,0)
 S DR="788  ADJUVANT CHEMO W BEAM RADIATION." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",80,0)
 W !!,"  ADJUVANT THERAPY:",!
"RTN","ONCCPC4A",81,0)
 S DR="789    5 FU (FLUOROURACIL)..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",82,0)
 S DR="790    LEUCOVORIN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",83,0)
 S DR="791    LEVAMISOLE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",84,0)
 S DR="792    CPT 11........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",85,0)
 S DR="377    TAXOL........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",86,0)
 S DR="793    OTHER........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",87,0)
 W !
"RTN","ONCCPC4A",88,0)
 S DR="794  DURATION OF ADJUVANT THERAPY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",89,0)
 S DR="795  COMPLETED DURATION OF THERAPY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",90,0)
 W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")
"RTN","ONCCPC4A",91,0)
 G EXIT
"RTN","ONCCPC4A",92,0)
JUMP ;Jump to prompts
"RTN","ONCCPC4A",93,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC4A",94,0)
 I X["?" D  G JUMP
"RTN","ONCCPC4A",95,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC4A",96,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC4A",97,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC4A",98,0)
 S X=TABLE(X)
"RTN","ONCCPC4A",99,0)
 G @X
"RTN","ONCCPC4A",100,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCCPC4A",101,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCCPC4A",102,0)
 K RADDT,DIQ
"RTN","ONCCPC4A",103,0)
 Q
"RTN","ONCCPC9")
0^44^B43870744
"RTN","ONCCPC9",1,0)
ONCCPC9 ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Print;4/1/97
"RTN","ONCCPC9",2,0)
 ;;2.11;ONCOLOGY;**11,16**;Mar 07, 1995
"RTN","ONCCPC9",3,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCCPC9",4,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCCPC9",5,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCCPC9",6,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),IE=ONCONUM
"RTN","ONCCPC9",7,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCCPC9",8,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCCPC9",9,0)
 S DR=".04;.05;.06;.1;.12;1;1.1;3;9;18;20;22;24;26;29;32;33;37.1;37.2;37.3;38;19;50;51;53;53.2;58.1;58.2;58.3;59;70;71;81;82;85;86;87;88;89;302;307;308;361;377;421;430;437;441;563;700:799"
"RTN","ONCCPC9",10,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCCPC9",11,0)
 S OSP=$O(^ONCO(160.1,0))
"RTN","ONCCPC9",12,0)
 S IIN=$P($G(^ONCO(160.1,OSP,1)),U,4)
"RTN","ONCCPC9",13,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCCPC9",14,0)
 D HDR
"RTN","ONCCPC9",15,0)
 W !," 1. INSTITUTION ID NUMBER............: H6",IIN D P Q:EX=U
"RTN","ONCCPC9",16,0)
 W !!?4,TABLE,!?4,"-----------------------------"
"RTN","ONCCPC9",17,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCCPC9",18,0)
 W !," 2. ACCESSION NUMBER.................: ",ONC(165.5,IE,.05) D P Q:EX=U
"RTN","ONCCPC9",19,0)
 W !," 3. SEQUENCE NUMBER..................: ",ONC(165.5,IE,.06) D P Q:EX=U
"RTN","ONCCPC9",20,0)
 W !," 4. POSTAL CODE AT DIAGNOSIS.........: ",ONC(165.5,IE,9) D P Q:EX=U
"RTN","ONCCPC9",21,0)
 W !," 5. DATE OF BIRTH....................: ",DOB D P Q:EX=U
"RTN","ONCCPC9",22,0)
 W !," 6. RACE.............................: ",ONC(165.5,IE,.12) D P Q:EX=U
"RTN","ONCCPC9",23,0)
 W !," 7. SPANISH ORIGIN...................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCCPC9",24,0)
 W !," 8. SEX..............................: ",ONC(165.5,IE,.1) D P Q:EX=U
"RTN","ONCCPC9",25,0)
 W !," 9. PRIMARY PAYOR AT DIAGNOSIS.......: ",ONC(165.5,IE,18) D P Q:EX=U
"RTN","ONCCPC9",26,0)
 W !,"10. FAMILY HISTORY OF COLORECTAL CA..: ",ONC(165.5,IE,700)
"RTN","ONCCPC9",27,0)
 W !,"11. PERSONAL HISTORY OF COLORECTAL CA: ",ONC(165.5,IE,701)
"RTN","ONCCPC9",28,0)
 W !,"12. MULTI 1997 COLON/RECTUM PRIMARIES: ",ONC(165.5,IE,702)
"RTN","ONCCPC9",29,0)
 K LINE S $P(LINE,"-",41)="-"
"RTN","ONCCPC9",30,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G PHNCC
"RTN","ONCCPC9",31,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",32,0)
PHNCC W !,"13. PERSONAL HISTORY OF NON-COLORECTAL CANCER:" D P Q:EX=U
"RTN","ONCCPC9",33,0)
 W !,"      BREAST...........: ",ONC(165.5,IE,703),?39,"PROSTATE.........: ",ONC(165.5,IE,307) D P Q:EX=U
"RTN","ONCCPC9",34,0)
 W !,"      CERVIX...........: ",ONC(165.5,IE,302),?39,"STOMACH..........: ",ONC(165.5,IE,707) D P Q:EX=U
"RTN","ONCCPC9",35,0)
 W !,"      LUNG.............: ",ONC(165.5,IE,704),?39,"THYROID..........: ",ONC(165.5,IE,708) D P Q:EX=U
"RTN","ONCCPC9",36,0)
 W !,"      OVARY............: ",ONC(165.5,IE,705),?39,"UTERUS...........: ",ONC(165.5,IE,709) D P Q:EX=U
"RTN","ONCCPC9",37,0)
 W !,"      OVARIAN CARCINOMA: ",ONC(165.5,IE,706),?39,"OTHER............: ",ONC(165.5,IE,308) D P Q:EX=U
"RTN","ONCCPC9",38,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",39,0)
 W !,"14. PREVIOUS TAH/BSO.................: ",ONC(165.5,IE,710) D P Q:EX=U
"RTN","ONCCPC9",40,0)
 W !!,"15. OTHER PRIOR CONDITIONS:" D P Q:EX=U
"RTN","ONCCPC9",41,0)
 W !,"      FAP..............: ",ONC(165.5,IE,711),?39,"PRIOR POLYPS.....: ",ONC(165.5,IE,714) D P Q:EX=U
"RTN","ONCCPC9",42,0)
 W !,"      HNPCC............: ",ONC(165.5,IE,712),?39,"POLYPS...........: ",ONC(165.5,IE,715) D P Q:EX=U
"RTN","ONCCPC9",43,0)
 W !,"      IBD..............: ",ONC(165.5,IE,713)
"RTN","ONCCPC9",44,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCCPC9",45,0)
 D P Q:EX=U
"RTN","ONCCPC9",46,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCCPC9",47,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCCPC9",48,0)
 W !?4,TABLE,!?4,"----------------------------" D P Q:EX=U
"RTN","ONCCPC9",49,0)
 W !,"16. CLASS OF CASE....................: ",ONC(165.5,IE,.04) D P Q:EX=U
"RTN","ONCCPC9",50,0)
 W !!,"17. DURATION OF SIGNS/SYMPTOMS PRESENT AT INITIAL DIAGNOSIS (months):" D P Q:EX=U
"RTN","ONCCPC9",51,0)
 W !,"      ANEMIA.........................: ",ONC(165.5,IE,716) D P Q:EX=U
"RTN","ONCCPC9",52,0)
 W !,"      BOWEL OBSTRUCTION..............: ",ONC(165.5,IE,717) D P Q:EX=U
"RTN","ONCCPC9",53,0)
 W !,"      CHANGE IN BOWEL HABIT..........: ",ONC(165.5,IE,718) D P Q:EX=U
"RTN","ONCCPC9",54,0)
 W !,"      EMER PRESENTATION-OBSTRUCTION..: ",ONC(165.5,IE,719) D P Q:EX=U
"RTN","ONCCPC9",55,0)
 W !,"      JAUNDICE.......................: ",ONC(165.5,IE,720) D P Q:EX=U
"RTN","ONCCPC9",56,0)
 W !,"      MALAISE........................: ",ONC(165.5,IE,721) D P Q:EX=U
"RTN","ONCCPC9",57,0)
 W !,"      OCCULT BLOOD ONLY IN STOOL.....: ",ONC(165.5,IE,722) D P Q:EX=U
"RTN","ONCCPC9",58,0)
 W !,"      PAIN (ABDOMINAL)...............: ",ONC(165.5,IE,723) D P Q:EX=U
"RTN","ONCCPC9",59,0)
 W !,"      PAIN (PELVIC)..................: ",ONC(165.5,IE,724) D P Q:EX=U
"RTN","ONCCPC9",60,0)
 W !,"      RECTAL BLEEDING (MELENA).......: ",ONC(165.5,IE,725) D P Q:EX=U
"RTN","ONCCPC9",61,0)
 W !,"      OTHER..........................: ",ONC(165.5,IE,726)
"RTN","ONCCPC9",62,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCCPC9",63,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G IMD
"RTN","ONCCPC9",64,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",65,0)
IMD W !,"18. INITIAL METHODS OF DIAGNOSIS:" D P Q:EX=U
"RTN","ONCCPC9",66,0)
 W !,"      ENDOSCOPIC.....................: ",ONC(165.5,IE,727) D P Q:EX=U
"RTN","ONCCPC9",67,0)
 W !,"      RADIOGRAPHIC...................: ",ONC(165.5,IE,728) D P Q:EX=U
"RTN","ONCCPC9",68,0)
 W !,"      SCREENING DIGITAL RECTAL EXAM..: ",ONC(165.5,IE,729) D P Q:EX=U
"RTN","ONCCPC9",69,0)
 W !,"      SCREENING PHYSICAL EXAM........: ",ONC(165.5,IE,730) D P Q:EX=U
"RTN","ONCCPC9",70,0)
 W !,"      OTHER..........................: ",ONC(165.5,IE,731) D P Q:EX=U
"RTN","ONCCPC9",71,0)
 W !!,"19. REASON LEADING TO EVENTUAL DX....: ",ONC(165.5,IE,732) D P Q:EX=U
"RTN","ONCCPC9",72,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",73,0)
 W !,"20. DIAGNOSTIC EVALUATION:" D P Q:EX=U
"RTN","ONCCPC9",74,0)
 W !,"      BARIUM ENEMA, DOUBLE CONTRAST..: ",ONC(165.5,IE,733) D P Q:EX=U
"RTN","ONCCPC9",75,0)
 W !,"      BARIUM ENEMA, SINGLE CONTRAST..: ",ONC(165.5,IE,734) D P Q:EX=U
"RTN","ONCCPC9",76,0)
 W !,"      BARIUM ENEMA, NOS..............: ",ONC(165.5,IE,735) D P Q:EX=U
"RTN","ONCCPC9",77,0)
 W !,"      BIOPSY OF PRIMARY SITE.........: ",ONC(165.5,IE,736) D P Q:EX=U
"RTN","ONCCPC9",78,0)
 W !,"      BIOPSY OF METASTATIC SITE......: ",ONC(165.5,IE,737) D P Q:EX=U
"RTN","ONCCPC9",79,0)
 W !,"      CT SCAN OF CHEST...............: ",ONC(165.5,IE,421) D P Q:EX=U
"RTN","ONCCPC9",80,0)
 W !,"      CT SCAN OF LIVER...............: ",ONC(165.5,IE,738) D P Q:EX=U
"RTN","ONCCPC9",81,0)
 W !,"      CT SCAN OF PRIMARY SITE........: ",ONC(165.5,IE,739) D P Q:EX=U
"RTN","ONCCPC9",82,0)
 W !,"      CEA (PREOPERATIVE).............: ",ONC(165.5,IE,740) D P Q:EX=U
"RTN","ONCCPC9",83,0)
 W !,"      CHEST ROENTGENOGRAM............: ",ONC(165.5,IE,741) D P Q:EX=U
"RTN","ONCCPC9",84,0)
 W !,"      COLONOSCOPY....................: ",ONC(165.5,IE,742) D P Q:EX=U
"RTN","ONCCPC9",85,0)
 W !,"      DIGITAL RECTAL EXAM............: ",ONC(165.5,IE,743) D P Q:EX=U
"RTN","ONCCPC9",86,0)
 W !,"      FLEXIBLE SIGMOIDOSCOPY.........: ",ONC(165.5,IE,744) D P Q:EX=U
"RTN","ONCCPC9",87,0)
 W !,"      INTRAVENOUS PYELOGRAM..........: ",ONC(165.5,IE,745) D P Q:EX=U
"RTN","ONCCPC9",88,0)
 W !,"      SERUM-LIVER FUNCTION TEST......: ",ONC(165.5,IE,746) D P Q:EX=U
"RTN","ONCCPC9",89,0)
 W !,"      MRI............................: ",ONC(165.5,IE,747) D P Q:EX=U
"RTN","ONCCPC9",90,0)
 W !,"      PROCTOSCOPY (RIGID)............: ",ONC(165.5,IE,748) D P Q:EX=U
"RTN","ONCCPC9",91,0)
 W !,"      STOOL GUAIAC (OCCULT BLOOD)....: ",ONC(165.5,IE,749) D P Q:EX=U
"RTN","ONCCPC9",92,0)
 W !,"      ULTRASOUND, LIVER, ABDOMEN.....: ",ONC(165.5,IE,750) D P Q:EX=U
"RTN","ONCCPC9",93,0)
 W !,"      ULTRASOUND, ENDORECTAL.........: ",ONC(165.5,IE,751) D P Q:EX=U
"RTN","ONCCPC9",94,0)
 W !,"      OTHER..........................: ",ONC(165.5,IE,430)
"RTN","ONCCPC9",95,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",96,0)
 W !,"21. LEVEL OF TUMOR BY ENDOSCOPIC EXAM: ",ONC(165.5,IE,752) D P Q:EX=U
"RTN","ONCCPC9",97,0)
 W !,"22. LEVEL OF RECTAL TUMOR............: ",ONC(165.5,IE,753) D P Q:EX=U
"RTN","ONCCPC9",98,0)
 W !,"23. DATE OF INITIAL DIAGNOSIS........: ",ONC(165.5,IE,3) D P Q:EX=U
"RTN","ONCCPC9",99,0)
 W !,"24. PRIMARY SITE.....................: ",TOPCOD," ",ONC(165.5,IE,20)
"RTN","ONCCPC9",100,0)
 W !,"25. HISTOLOGY/26. BEHAVIOR CODE......: ",ONC(165.5,IE,22) D P Q:EX=U
"RTN","ONCCPC9",101,0)
 W !,"27. GRADE............................: ",ONC(165.5,IE,24) D P Q:EX=U
"RTN","ONCCPC9",102,0)
 W !,"28. DIAGNOSTIC CONFIRMATION..........: ",ONC(165.5,IE,26)
"RTN","ONCCPC9",103,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCCPC9",104,0)
 D P Q:EX=U
"RTN","ONCCPC9",105,0)
III D ^ONCCPC9A
"RTN","ONCCPC9",106,0)
KILL ;Kill Variables and Exit
"RTN","ONCCPC9",107,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCCPC9",108,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCCPC9",109,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y,OSP,IIN
"RTN","ONCCPC9",110,0)
 Q
"RTN","ONCCPC9",111,0)
P ;Print
"RTN","ONCCPC9",112,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCCPC9",113,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCCPC9",114,0)
 .D HDR Q
"RTN","ONCCPC9",115,0)
 Q
"RTN","ONCCPC9",116,0)
TASK ;Queue a task
"RTN","ONCCPC9",117,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCCPC9",118,0)
 S ZTRTN="PRT^ONCCPC9",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCCPC9",119,0)
 S ZTDESC="Print Colorectal Cancer PCE"
"RTN","ONCCPC9",120,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCCPC9",121,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCCPC9",122,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCCPC9",123,0)
HDR ;Header
"RTN","ONCCPC9",124,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCCPC9",125,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCCPC9",126,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCCPC9",127,0)
 W !?20," PCE Study of Colorectal Cancer"
"RTN","ONCCPC9",128,0)
 W ?62,ONDATE,!,DASHES
"RTN","ONCCPC9",129,0)
 Q
"RTN","ONCCPC9A")
0^8^B36996984
"RTN","ONCCPC9A",1,0)
ONCCPC9A ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Print (continued);4/1/97
"RTN","ONCCPC9A",2,0)
 ;;2.11;ONCOLOGY;**11,15,16**;Mar 07, 1995
"RTN","ONCCPC9A",3,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCCPC9A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCCPC9
"RTN","ONCCPC9A",5,0)
 W !?4,TABLE,!?4,"--------------------------------------------" D P Q:EX=U
"RTN","ONCCPC9A",6,0)
 W !,"29. SIZE OF TUMOR (mm)...............: ",ONC(165.5,IE,29) D P Q:EX=U
"RTN","ONCCPC9A",7,0)
 W !,"30. REGIONAL NODES EXAMINED..........: ",ONC(165.5,IE,33) D P Q:EX=U
"RTN","ONCCPC9A",8,0)
 W !,"31. REGIONAL NODES POSITIVE..........: ",ONC(165.5,IE,32) D P Q:EX=U
"RTN","ONCCPC9A",9,0)
ACS W !!,"32. AJCC CLINICAL STAGE (cTNM):" D P Q:EX=U
"RTN","ONCCPC9A",10,0)
 W !,"      T-CODE.........................: ",ONC(165.5,IE,37.1) D P Q:EX=U
"RTN","ONCCPC9A",11,0)
 W !,"      N-CODE.........................: ",ONC(165.5,IE,37.2) D P Q:EX=U
"RTN","ONCCPC9A",12,0)
 W !,"      M-CODE.........................: ",ONC(165.5,IE,37.3) D P Q:EX=U
"RTN","ONCCPC9A",13,0)
 W !,"      AJCC STAGE.....................: ",ONC(165.5,IE,38) D P Q:EX=U
"RTN","ONCCPC9A",14,0)
APS W !!,"33. AJCC PATHOLOGIC STAGE (pTNM):" D P Q:EX=U
"RTN","ONCCPC9A",15,0)
 W !,"      T-CODE.........................: ",ONC(165.5,IE,85) D P Q:EX=U
"RTN","ONCCPC9A",16,0)
 W !,"      N-CODE.........................: ",ONC(165.5,IE,86) D P Q:EX=U
"RTN","ONCCPC9A",17,0)
 W !,"      M-CODE.........................: ",ONC(165.5,IE,87) D P Q:EX=U
"RTN","ONCCPC9A",18,0)
 W !,"      AJCC STAGE.....................: ",ONC(165.5,IE,88)
"RTN","ONCCPC9A",19,0)
 K LINE S $P(LINE,"-",56)="-"
"RTN","ONCCPC9A",20,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 W !?4,TABLE_" (continued)",!?4,LINE G SB
"RTN","ONCCPC9A",21,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9A",22,0)
SB W !,"34. STAGED BY:" D P Q:EX=U
"RTN","ONCCPC9A",23,0)
 W !,"      CLINICAL STAGE.................: ",ONC(165.5,IE,19) D P Q:EX=U
"RTN","ONCCPC9A",24,0)
 W !,"      PATHOLOGIC STAGE...............: ",ONC(165.5,IE,89) D P Q:EX=U
"RTN","ONCCPC9A",25,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9A",26,0)
 W !,"35. MARGIN OF RESECTION:" D P Q:EX=U
"RTN","ONCCPC9A",27,0)
 W !,"      PROXIMAL MARGIN................: ",ONC(165.5,IE,754) D P Q:EX=U
"RTN","ONCCPC9A",28,0)
 W !,"      DISTAL MARGIN..................: ",ONC(165.5,IE,755) D P Q:EX=U
"RTN","ONCCPC9A",29,0)
 W !,"      RADIAL MARGIN..................: ",ONC(165.5,IE,756) D P Q:EX=U
"RTN","ONCCPC9A",30,0)
 W !!,"36. DISTANCE TO MUCOSAL MARGIN.......: ",ONC(165.5,IE,757) D P Q:EX=U
"RTN","ONCCPC9A",31,0)
 W !,"37. DISTANCE TO RADIAL MARGIN........: ",ONC(165.5,IE,758) D P Q:EX=U
"RTN","ONCCPC9A",32,0)
 W !,"38. BLOOD VESSEL/LYMPHATIC INVASION..: ",ONC(165.5,IE,759) D P Q:EX=U
"RTN","ONCCPC9A",33,0)
 W !,"39. EXTRAMURAL VENOUS INVASION.......: ",ONC(165.5,IE,760) D P Q:EX=U
"RTN","ONCCPC9A",34,0)
 W !,"40. PROMINENT LYMPHOID INFILTRATE....: ",ONC(165.5,IE,761) D P Q:EX=U
"RTN","ONCCPC9A",35,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 G IV
"RTN","ONCCPC9A",36,0)
 D P Q:EX=U
"RTN","ONCCPC9A",37,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCCPC9A",38,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCCPC9
"RTN","ONCCPC9A",39,0)
 K LINE S $P(LINE,"-",36)="-"
"RTN","ONCCPC9A",40,0)
 W !?4,TABLE,!?4,LINE D P Q:EX=U
"RTN","ONCCPC9A",41,0)
 K LINE S $P(LINE,"-",48)="-"
"RTN","ONCCPC9A",42,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCCPC9A",43,0)
 W !,"41. PHYSICIAN PROVIDING TREATMENT....: ",ONC(165.5,IE,762) D P Q:EX=U
"RTN","ONCCPC9A",44,0)
 W !,"42. FIRST COURSE OF TREATMENT DATE...: ",DOFCT D P Q:EX=U
"RTN","ONCCPC9A",45,0)
 W !,"43. DATE OF INPATIENT ADMISSION......: ",ONC(165.5,IE,1) D P Q:EX=U
"RTN","ONCCPC9A",46,0)
 W !,"44. DATE OF INPATIENT DISCHARGE......: ",ONC(165.5,IE,1.1) D P Q:EX=U
"RTN","ONCCPC9A",47,0)
 W !!?4,"SURGERY",!?4,"-------" D P Q:EX=U
"RTN","ONCCPC9A",48,0)
 S NCDS=ONC(165.5,IE,58.1)
"RTN","ONCCPC9A",49,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<45 S NCDS1=NCDS G CDS
"RTN","ONCCPC9A",50,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCCPC9A",51,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCCPC9A",52,0)
CDS S CDS=ONC(165.5,IE,58.2)
"RTN","ONCCPC9A",53,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<45 S CDS1=CDS G S
"RTN","ONCCPC9A",54,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCCPC9A",55,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCCPC9A",56,0)
S W !,"45. NON CANCER-DIRECTED SURGERY DATE.: ",ONC(165.5,IE,58.3) D P Q:EX=U
"RTN","ONCCPC9A",57,0)
 W !,"46. NON CANCER-DIRECTED SURGERY......: ",NCDS1 W:NCDS2'="" !,?39,NCDS2 D P Q:EX=U
"RTN","ONCCPC9A",58,0)
 W !,"47. SURGERY OF PRIMARY SITE DATE.....: ",ONC(165.5,IE,50) D P Q:EX=U
"RTN","ONCCPC9A",59,0)
 W !,"48. SURGERY OF PRIMARY SITE..........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCCPC9A",60,0)
 W !,"49. ADDITIONAL SURGICAL PROCEDURES...: ",ONC(165.5,IE,763) D P Q:EX=U
"RTN","ONCCPC9A",61,0)
 W !,"50. LAPAROSCOPY USED DURING SURGERY..: ",ONC(165.5,IE,764) D P Q:EX=U
"RTN","ONCCPC9A",62,0)
 W !,"51. METHOD OF ANASTOMOSIS............: ",ONC(165.5,IE,765) D P Q:EX=U
"RTN","ONCCPC9A",63,0)
 W !,"52. DIST OF ANASTOMOSIS FROM DENTATE.: ",ONC(165.5,IE,766) D P Q:EX=U
"RTN","ONCCPC9A",64,0)
 W !,"53. RESIDUAL PRIMARY TUMOR...........: ",ONC(165.5,IE,59) D P Q:EX=U
"RTN","ONCCPC9A",65,0)
 W !!,"54. OTHER SURGERY:" D P Q:EX=U
"RTN","ONCCPC9A",66,0)
 W !,"      COLOSTOMY......................: ",ONC(165.5,IE,767) D P Q:EX=U
"RTN","ONCCPC9A",67,0)
 W !,"      OOPHORECTOMY...................: ",ONC(165.5,IE,768) D P Q:EX=U
"RTN","ONCCPC9A",68,0)
 W !,"      PATHOLOGICAL STATUS............: ",ONC(165.5,IE,769) D P Q:EX=U
"RTN","ONCCPC9A",69,0)
CAFCOT W !!,"55. COMPLICATIONS AFTER FIRST COURSE OF TREATMENT:" D P Q:EX=U
"RTN","ONCCPC9A",70,0)
 W !,"      ABDOMINAL INFECTION......: ",ONC(165.5,IE,770),?44,"PERINEAL INFECTION.......: ",ONC(165.5,IE,777) D P Q:EX=U
"RTN","ONCCPC9A",71,0)
 W !,"      ABSCESS..................: ",ONC(165.5,IE,771),?44,"PNEUMONIA................: ",ONC(165.5,IE,778) D P Q:EX=U
"RTN","ONCCPC9A",72,0)
 W !,"      ADMISSION FOR NEUTROPENIA: ",ONC(165.5,IE,772),?44,"PROCTITIS................: ",ONC(165.5,IE,779) D P Q:EX=U
"RTN","ONCCPC9A",73,0)
 W !,"      ANASTOMOTIC DEHISCENCE...: ",ONC(165.5,IE,773),?44,"PULMONARY EMBOLISM.......: ",ONC(165.5,IE,780) D P Q:EX=U
"RTN","ONCCPC9A",74,0)
 W !,"      BLEEDING/HEMATOMA........: ",ONC(165.5,IE,437),?44,"RADIATION ENTERITIS......: ",ONC(165.5,IE,781) D P Q:EX=U
"RTN","ONCCPC9A",75,0)
 W !,"      DEHYDRATION..............: ",ONC(165.5,IE,774),?44,"STOMA COMPLICATION.......: ",ONC(165.5,IE,782) D P Q:EX=U
"RTN","ONCCPC9A",76,0)
 W !,"      DIARRHEA.................: ",ONC(165.5,IE,775),?44,"URINARY TRACT INFECTION..: ",ONC(165.5,IE,783) D P Q:EX=U
"RTN","ONCCPC9A",77,0)
 W !,"      EARLY BOWEL OBSTRUCTION..: ",ONC(165.5,IE,776)
"RTN","ONCCPC9A",78,0)
 W !!,"56. POSTOPERATIVE DEATH W/I 30 DAYS: ",ONC(165.5,IE,441)
"RTN","ONCCPC9A",79,0)
R W !!?4,"RADIATION THERAPY",!?4,"-----------------" D P Q:EX=U
"RTN","ONCCPC9A",80,0)
 W !,"57. DATE RADIATION STARTED...........: ",ONC(165.5,IE,51) D P Q:EX=U
"RTN","ONCCPC9A",81,0)
 W !,"58. DATE RADIATION THERAPY ENDED.....: ",ONC(165.5,IE,361) D P Q:EX=U
"RTN","ONCCPC9A",82,0)
 W !,"59. ENDOCAVITARY RADIATION...........: ",ONC(165.5,IE,784) D P Q:EX=U
"RTN","ONCCPC9A",83,0)
 W !,"60. INTRA-OPERATIVE RAD THERAPY......: ",ONC(165.5,IE,785) D P Q:EX=U
"RTN","ONCCPC9A",84,0)
 W !,"61. PRIMARY TUMOR RAD DOSE W BOOST...: ",ONC(165.5,IE,786) D P Q:EX=U
"RTN","ONCCPC9A",85,0)
 W !,"62. NUMBER OF RADIATION TREATMENTS...: ",ONC(165.5,IE,787) D P Q:EX=U
"RTN","ONCCPC9A",86,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 W !?4,TABLE_" (continued)",!?4,LINE G C
"RTN","ONCCPC9A",87,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9A",88,0)
C W !?4,"CHEMOTHERAPY",!?4,"------------" D P Q:EX=U
"RTN","ONCCPC9A",89,0)
 W !,"63. CHEMOTHERAPY.....................: ",ONC(165.5,IE,53.2) D P Q:EX=U
"RTN","ONCCPC9A",90,0)
 W !,"64. DATE CHEMOTHERAPY STARTED........: ",ONC(165.5,IE,53) D P Q:EX=U
"RTN","ONCCPC9A",91,0)
 W !,"65. ADJUVANT CHEMO W BEAM RADIATION..: ",ONC(165.5,IE,788) D P Q:EX=U
"RTN","ONCCPC9A",92,0)
 W !!,"66. ADJUVANT THERAPY:" D P Q:EX=U
"RTN","ONCCPC9A",93,0)
 W !,"      5 FU (FLUOROURACIL): ",ONC(165.5,IE,789),?39,"CPT 11.............: ",ONC(165.5,IE,792) D P Q:EX=U
"RTN","ONCCPC9A",94,0)
 W !,"      LEUCOVORIN.........: ",ONC(165.5,IE,790),?39,"TAXOL..............: ",ONC(165.5,IE,377) D P Q:EX=U
"RTN","ONCCPC9A",95,0)
 W !,"      LEVAMISOLE.........: ",ONC(165.5,IE,791),?39,"OTHER..............: ",ONC(165.5,IE,793) D P Q:EX=U
"RTN","ONCCPC9A",96,0)
 W !!,"67. DURATION OF ADJUVANT THERAPY.....: ",ONC(165.5,IE,794) D P Q:EX=U
"RTN","ONCCPC9A",97,0)
 W !,"68. COMPLETED DURATION OF THERAPY....: ",ONC(165.5,IE,795) D P Q:EX=U
"RTN","ONCCPC9A",98,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 G V
"RTN","ONCCPC9A",99,0)
 D P Q:EX=U
"RTN","ONCCPC9A",100,0)
V D ^ONCCPC9B
"RTN","ONCCPC9A",101,0)
KILL ;Kill Variables and Exit
"RTN","ONCCPC9A",102,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y
"RTN","ONCCPC9A",103,0)
 Q
"RTN","ONCCPC9A",104,0)
P ;Display Data
"RTN","ONCCPC9A",105,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCCPC9A",106,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCCPC9A",107,0)
 .D HDR^ONCCPC9 Q
"RTN","ONCCPC9A",108,0)
 Q
"RTN","ONCENV16")
0^52^B603636
"RTN","ONCENV16",1,0)
ONCENV16 ;Hines CIOFO/WAA - Enviroment Check for Patch ONC*2.11*16;3/20/98
"RTN","ONCENV16",2,0)
 ;;2.11;Oncology;**16**;Mar 07, 1995
"RTN","ONCENV16",3,0)
EN1 ;Enviroment check routine
"RTN","ONCENV16",4,0)
 ;
"RTN","ONCENV16",5,0)
 I +$$PATCH^XPDUTL("ONC*2.11*15")=0 D BMES^XPDUTL("Please install ONC*2.11*15 first. Installation Halted.") S XPDABORT=2
"RTN","ONCENV16",6,0)
 Q
"RTN","ONCNPC4")
0^7^B24135246
"RTN","ONCNPC4",1,0)
ONCNPC4 ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Table IV;4/18/97
"RTN","ONCNPC4",2,0)
 ;;2.11;ONCOLOGY;**11,15,16**;Mar 07, 1995
"RTN","ONCNPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCNPC4",4,0)
 S TABLE("DATE OF FIRST COURSE OF TREATMENT")="DOFCT^ONCNPC4"
"RTN","ONCNPC4",5,0)
 S TABLE("SURGERY")="S^ONCNPC4"
"RTN","ONCNPC4",6,0)
 S TABLE("RADIATION THERAPY")="R^ONCNPC4"
"RTN","ONCNPC4",7,0)
 S TABLE("CHEMOTHERAPY")="C^ONCNPC4"
"RTN","ONCNPC4",8,0)
 S TABLE("SYSTEMIC CHEMOTHERAPY")="SC^ONCNPC4A"
"RTN","ONCNPC4",9,0)
 S TABLE("INTRATHECAL CHEMOTHERAPY")="IC^ONCNPC4A"
"RTN","ONCNPC4",10,0)
 S TABLE("IMMUNOTHERAPY")="I^ONCNPC4A"
"RTN","ONCNPC4",11,0)
 S HTABLE(1)="DATE OF FIRST COURSE OF TREATMENT"
"RTN","ONCNPC4",12,0)
 S HTABLE(2)="SURGERY"
"RTN","ONCNPC4",13,0)
 S HTABLE(3)="RADIATION THERAPY"
"RTN","ONCNPC4",14,0)
 S HTABLE(4)="CHEMOTHERAPY"
"RTN","ONCNPC4",15,0)
 S HTABLE(5)="SYSTEMIC CHEMOTHERAPY"
"RTN","ONCNPC4",16,0)
 S HTABLE(6)="INTRATHECAL CHEMOTHERAPY"
"RTN","ONCNPC4",17,0)
 S HTABLE(7)="IMMUNOTHERAPY"
"RTN","ONCNPC4",18,0)
 S CHOICES=7
"RTN","ONCNPC4",19,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCNPC4",20,0)
 S DIC="^ONCO(165.5,",DR="50;51.2;53;53.2;58.2",DA=ONCONUM
"RTN","ONCNPC4",21,0)
 S DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCNPC4",22,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCNPC4",23,0)
 S RAD=ONC(165.5,ONCONUM,51.2,"I"),RADOT=ONC(165.5,ONCONUM,51.2,"E")
"RTN","ONCNPC4",24,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCNPC4",25,0)
 W @IOF D HEAD^ONCNPC0
"RTN","ONCNPC4",26,0)
 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCNPC4",27,0)
 W !?22,"------------------------------------"
"RTN","ONCNPC4",28,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC4",29,0)
DOFCT W !,"DATE OF FIRST COURSE OF TREATMENT.: ",DOFCT
"RTN","ONCNPC4",30,0)
S W !!,"SURGERY"
"RTN","ONCNPC4",31,0)
 W !,"-------"
"RTN","ONCNPC4",32,0)
CDSDT S CDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCNPC4",33,0)
 S Y=CDSDT D DATEOT^ONCOPCE S CDSDT=Y
"RTN","ONCNPC4",34,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<46 S CDS1=CDS G CDS
"RTN","ONCNPC4",35,0)
 S NOP=$L($E(CDS,1,46)," ")
"RTN","ONCNPC4",36,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCNPC4",37,0)
CDS W !,"  SURGERY OF PRIMARY SITE DATE....: ",CDSDT
"RTN","ONCNPC4",38,0)
 W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCNPC4",39,0)
 I (CDS="")!($E(CDS,1,2)="00") D  G:(Y=0)!(Y="") EXIT G R
"RTN","ONCNPC4",40,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,10)=888
"RTN","ONCNPC4",41,0)
 .W !,"  EXTRANODAL SURGERY SITE.........: None"
"RTN","ONCNPC4",42,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,11)="00"
"RTN","ONCNPC4",43,0)
 .W !,"  EXTRANODAL SURGICAL PROCEDURE...: 00 No additional surgical procedures"
"RTN","ONCNPC4",44,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCNPC0
"RTN","ONCNPC4",45,0)
 S DR="855  EXTRANODAL SURGERY SITE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",46,0)
 S DR="856  EXTRANODAL SURGICAL PROCEDURE..." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",47,0)
R W !!,"RADIATION THERAPY"
"RTN","ONCNPC4",48,0)
 W !,"-----------------"
"RTN","ONCNPC4",49,0)
 S RADDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,4)
"RTN","ONCNPC4",50,0)
 S Y=RADDT D DATEOT^ONCOPCE S RADDT=Y
"RTN","ONCNPC4",51,0)
 W !,"  RADIATION DATE..................: ",RADDT
"RTN","ONCNPC4",52,0)
 W !,"  RADIATION ......................: ",RADOT
"RTN","ONCNPC4",53,0)
 I RAD=0 D  G C
"RTN","ONCNPC4",54,0)
 .W !!,"  IRRADIATED FIELDS:",!
"RTN","ONCNPC4",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,12)=2
"RTN","ONCNPC4",56,0)
 .W !,"    LYMPH NODES ABOVE DIAPHRAGM...: Not irradiated"
"RTN","ONCNPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,13)=2
"RTN","ONCNPC4",58,0)
 .W !,"    LYMPH NODES BELOW DIAPHRAGM...: Not irradiated"
"RTN","ONCNPC4",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,14)=2
"RTN","ONCNPC4",60,0)
 .W !,"    BRAIN.........................: Not irradiated"
"RTN","ONCNPC4",61,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,15)=2
"RTN","ONCNPC4",62,0)
 .W !,"    OTHER EXTRANODAL SITE(S)......: Not irradiated"
"RTN","ONCNPC4",63,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,16)=2
"RTN","ONCNPC4",64,0)
 .W !,"    TOTAL BODY....................: Not irradiated"
"RTN","ONCNPC4",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,17)=8
"RTN","ONCNPC4",66,0)
 .W !!,"  RADIATION/CHEMOTHERAPY SEQUENCE.: NA, no radiation and/or no chemo given"
"RTN","ONCNPC4",67,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCNPC0
"RTN","ONCNPC4",68,0)
 I RAD=9 D  G C
"RTN","ONCNPC4",69,0)
 .W !!,"  IRRADIATED FIELDS:",!
"RTN","ONCNPC4",70,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,12)=8
"RTN","ONCNPC4",71,0)
 .W !,"    LYMPH NODES ABOVE DIAPHRAGM...: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,13)=8
"RTN","ONCNPC4",73,0)
 .W !,"    LYMPH NODES BELOW DIAPHRAGM...: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",74,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,14)=8
"RTN","ONCNPC4",75,0)
 .W !,"    BRAIN.........................: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,15)=8
"RTN","ONCNPC4",77,0)
 .W !,"    OTHER EXTRANODAL SITE(S)......: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",78,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,16)=8
"RTN","ONCNPC4",79,0)
 .W !,"    TOTAL BODY....................: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",80,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,17)=7
"RTN","ONCNPC4",81,0)
 .W !!,"  RADIATION/CHEMOTHERAPY SEQUENCE.: Unknown if radiation and/or chemo given"
"RTN","ONCNPC4",82,0)
 W !!,"  IRRADIATED FIELDS:",!
"RTN","ONCNPC4",83,0)
 S DR="857    LYMPH NODES ABOVE DIAPHRAGM..." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",84,0)
 S DR="858    LYMPH NODES BELOW DIAPHRAGM..." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",85,0)
 S DR="859    BRAIN........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",86,0)
 S DR="860    OTHER EXTRANODAL SITE(S)......" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",87,0)
 S DR="861    TOTAL BODY...................." D ^DIE G:$D(Y) JUMP W !
"RTN","ONCNPC4",88,0)
 S DR="862  RADIATION/CHEMOTHERAPY SEQUENCE." D ^DIE G:$D(Y) JUMP W !
"RTN","ONCNPC4",89,0)
C W !!,"CHEMOTHERAPY"
"RTN","ONCNPC4",90,0)
 W !,"------------"
"RTN","ONCNPC4",91,0)
 S DR="863  PROTOCOL........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",92,0)
 D SC^ONCNPC4A
"RTN","ONCNPC4",93,0)
 G EXIT
"RTN","ONCNPC4",94,0)
JUMP ;Jump to prompts
"RTN","ONCNPC4",95,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCNPC4",96,0)
 I X["?" D  G JUMP
"RTN","ONCNPC4",97,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC4",98,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC4",99,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC4",100,0)
 S X=TABLE(X)
"RTN","ONCNPC4",101,0)
 G @X
"RTN","ONCNPC4",102,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCNPC4",103,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,LOS,NOP,RAD,RADOT,RADDT,DIQ
"RTN","ONCNPC4",104,0)
 Q
"RTN","ONCNPC4A")
0^32^B24957911
"RTN","ONCNPC4A",1,0)
ONCNPC4A ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Table IV;4/18/97
"RTN","ONCNPC4A",2,0)
 ;;2.11;ONCOLOGY;**15,16**;Mar 07, 1995
"RTN","ONCNPC4A",3,0)
SC W !!,"SYSTEMIC CHEMOTHERAPY"
"RTN","ONCNPC4A",4,0)
 W !,"---------------------"
"RTN","ONCNPC4A",5,0)
 S DR="864  SYSTEMIC CHEMOTHERAPY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",6,0)
 I X=0 D  G IC
"RTN","ONCNPC4A",7,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,20)="0000000"
"RTN","ONCNPC4A",8,0)
 .W !,"  SYSTEMIC CHEMOTHERAPY DATE......: 00/00/0000"
"RTN","ONCNPC4A",9,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,21)=88
"RTN","ONCNPC4A",10,0)
 .W !,"  NUMBER OF PLANNED CYCLES........: NA"
"RTN","ONCNPC4A",11,0)
 .W !!,"  AGENT ADMINISTERED DURING SYSTEMIC CHEMOTHERAPY:",!
"RTN","ONCNPC4A",12,0)
 .W !,"    SINGLE-AGENT CHEMOTHERAPY:",!
"RTN","ONCNPC4A",13,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,22)=8
"RTN","ONCNPC4A",14,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,23)=8
"RTN","ONCNPC4A",15,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,24)=8
"RTN","ONCNPC4A",16,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,25)=8
"RTN","ONCNPC4A",17,0)
 .W !,"      CHLORAMBUCIL.....: NA   DOXORUBICIN......: NA"
"RTN","ONCNPC4A",18,0)
 .W !,"      CYCLOPHOSPHAMIDE.: NA   FLUDARABINE......: NA"
"RTN","ONCNPC4A",19,0)
 .W !!,"    COMBINATION CHEMOTHERAPY:",!
"RTN","ONCNPC4A",20,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,26)=8
"RTN","ONCNPC4A",21,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,27)=8
"RTN","ONCNPC4A",22,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,28)=8
"RTN","ONCNPC4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,29)=8
"RTN","ONCNPC4A",24,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,30)=8
"RTN","ONCNPC4A",25,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,31)=8
"RTN","ONCNPC4A",26,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,32)=8
"RTN","ONCNPC4A",27,0)
 .W !,"      CHOP.............: NA   M-BACOD..........: NA"
"RTN","ONCNPC4A",28,0)
 .W !,"      CVP..............: NA   PRO-MACE-Cyta BOM: NA"
"RTN","ONCNPC4A",29,0)
 .W !,"      COMLA............: NA   OTHER............: NA"
"RTN","ONCNPC4A",30,0)
 .W !,"      MACOP-B..........: NA"
"RTN","ONCNPC4A",31,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,33)=0
"RTN","ONCNPC4A",32,0)
 .W !!,"    HIGH DOSE W STEM CELL RESCUE..: No"
"RTN","ONCNPC4A",33,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCNPC0
"RTN","ONCNPC4A",34,0)
 I X=9 D  G IC
"RTN","ONCNPC4A",35,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,20)="0000000"
"RTN","ONCNPC4A",36,0)
 .W !,"  SYSTEMIC CHEMOTHERAPY DATE......: 00/00/0000"
"RTN","ONCNPC4A",37,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,21)=99
"RTN","ONCNPC4A",38,0)
 .W !,"  NUMBER OF PLANNED CYCLES........: Unknown if chemotherapy given"
"RTN","ONCNPC4A",39,0)
 .W !!,"  AGENT ADMINISTERED DURING SYSTEMIC CHEMOTHERAPY:",!
"RTN","ONCNPC4A",40,0)
 .W !,"    SINGLE-AGENT CHEMOTHERAPY:",!
"RTN","ONCNPC4A",41,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,22)=9
"RTN","ONCNPC4A",42,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,23)=9
"RTN","ONCNPC4A",43,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,24)=9
"RTN","ONCNPC4A",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,25)=9
"RTN","ONCNPC4A",45,0)
 .W !,"      CHLORAMBUCIL.....: Unknown if given   DOXORUBICIN......: Unknown if given"
"RTN","ONCNPC4A",46,0)
 .W !,"      CYCLOPHOSPHAMIDE.: Unknown if given   FLUDARABINE......: Unknown if given"
"RTN","ONCNPC4A",47,0)
 .W !!,"    COMBINATION CHEMOTHERAPY:",!
"RTN","ONCNPC4A",48,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,26)=9
"RTN","ONCNPC4A",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,27)=9
"RTN","ONCNPC4A",50,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,28)=9
"RTN","ONCNPC4A",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,29)=9
"RTN","ONCNPC4A",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,30)=9
"RTN","ONCNPC4A",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,31)=9
"RTN","ONCNPC4A",54,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,32)=9
"RTN","ONCNPC4A",55,0)
 .W !,"      CHOP.............: Unknown if given   M-BACOD..........: Unknown if given"
"RTN","ONCNPC4A",56,0)
 .W !,"      CVP..............: Unknown if given   PRO-MACE-Cyta BOM: Unknown if given"
"RTN","ONCNPC4A",57,0)
 .W !,"      COMLA............: Unknown if given   OTHER............: Unknown if given"
"RTN","ONCNPC4A",58,0)
 .W !,"      MACOP-B..........: Unknown if given"
"RTN","ONCNPC4A",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,33)=9
"RTN","ONCNPC4A",60,0)
 .W !!,"    HIGH DOSE W STEM CELL RESCUE..: Unknown if given"
"RTN","ONCNPC4A",61,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCNPC0
"RTN","ONCNPC4A",62,0)
 S DR="865  SYSTEMIC CHEMOTHERAPY DATE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",63,0)
 S DR="866  NUMBER OF PLANNED CYCLES........" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",64,0)
 W !!,"  AGENT ADMINISTERED DURING SYSTEMIC CHEMOTHERAPY:",!
"RTN","ONCNPC4A",65,0)
 W !,"    SINGLE-AGENT CHEMOTHERAPY:",!
"RTN","ONCNPC4A",66,0)
 S DR="867      CHLORAMBUCIL................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",67,0)
 S DR="868      CYCLOPHOSPHAMIDE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",68,0)
 S DR="869      DOXORUBICIN................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",69,0)
 S DR="870      FLUDARABINE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",70,0)
 W !!,"    COMBINATION CHEMOTHERAPY:",!
"RTN","ONCNPC4A",71,0)
 S DR="871      CHOP........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",72,0)
 S DR="872      CVP........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",73,0)
 S DR="873      COMLA......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",74,0)
 S DR="874      MACOP-B....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",75,0)
 S DR="875      M-BACOD....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",76,0)
 S DR="876      PRO-MACE-Cyta BOM..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",77,0)
 S DR="877      OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",78,0)
 W !
"RTN","ONCNPC4A",79,0)
 S DR="878  HIGH DOSE W STEM CELL RESCUE...." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",80,0)
IC W !!,"INTRATHECAL CHEMOTHERAPY"
"RTN","ONCNPC4A",81,0)
 W !,"------------------------"
"RTN","ONCNPC4A",82,0)
 S DR="879  INTRATHECAL CHEMOTHERAPY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",83,0)
 I X=0 D  G I
"RTN","ONCNPC4A",84,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,35)=7
"RTN","ONCNPC4A",85,0)
 .W !,"  PURPOSE.........................: NA, not administered"
"RTN","ONCNPC4A",86,0)
 I X=9 D  G I
"RTN","ONCNPC4A",87,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,35)=9
"RTN","ONCNPC4A",88,0)
 .W !,"  PURPOSE.........................: Unknown if administered"
"RTN","ONCNPC4A",89,0)
 S DR="880  PURPOSE........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",90,0)
I W !!,"IMMUNOTHERAPY"
"RTN","ONCNPC4A",91,0)
 W !,"-------------"
"RTN","ONCNPC4A",92,0)
 S DR="881  INTERLEUKIN-2 (IL-2)............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",93,0)
 S DR="882  INTERFERON......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",94,0)
 S DR="883  MONOCLONAL ANTIBODIES..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",95,0)
 S DR="884  VACCINE THERAPY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",96,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC4A",97,0)
 Q
"RTN","ONCNPC4A",98,0)
JUMP ;Jump to prompts
"RTN","ONCNPC4A",99,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT^ONCNPC4
"RTN","ONCNPC4A",100,0)
 I X["?" D  G JUMP
"RTN","ONCNPC4A",101,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC4A",102,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC4A",103,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC4A",104,0)
 S X=TABLE(X)
"RTN","ONCNPC4A",105,0)
 G @X
"RTN","ONCNPC8")
0^45^B22195913
"RTN","ONCNPC8",1,0)
ONCNPC8 ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Print;5/13/97
"RTN","ONCNPC8",2,0)
 ;;2.11;ONCOLOGY;**11,13,16**;Mar 07, 1995
"RTN","ONCNPC8",3,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCNPC8",4,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCNPC8",5,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCNPC8",6,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),IEN=ONCONUM,LINE=""
"RTN","ONCNPC8",7,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCNPC8",8,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCNPC8",9,0)
 S DR=".04;.05;.06;.1;.12;3;4;9;18;19;20;22;26;38;50;51;51.2;58.2;70;71;71.4;81;82;88;89;313;421;504;505;506;512;514;516;563;800:899"
"RTN","ONCNPC8",10,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCNPC8",11,0)
 S OSPIEN=$O(^ONCO(160.1,0))
"RTN","ONCNPC8",12,0)
 S IIN=$P($G(^ONCO(160.1,OSPIEN,1)),U,4)
"RTN","ONCNPC8",13,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCNPC8",14,0)
 D HDR
"RTN","ONCNPC8",15,0)
 W !," 1. INSTITUTION ID NUMBER...........: H6",IIN D P Q:EX=U
"RTN","ONCNPC8",16,0)
 W !!?4,TABLE,!?4,"-----------------------------"
"RTN","ONCNPC8",17,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCNPC8",18,0)
 W !," 2. ACCESSION NUMBER................: ",ONC(165.5,IEN,.05) D P Q:EX=U
"RTN","ONCNPC8",19,0)
 W !," 3. SEQUENCE NUMBER.................: ",ONC(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCNPC8",20,0)
 W !," 4. POSTAL CODE AT DIAGNOSIS........: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCNPC8",21,0)
 W !," 5. DATE OF BIRTH...................: ",DOB D P Q:EX=U
"RTN","ONCNPC8",22,0)
 W !," 6. AGE AT DIAGNOSIS................: ",ONC(165.5,IEN,4) D P Q:EX=U
"RTN","ONCNPC8",23,0)
 W !," 7. RACE............................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCNPC8",24,0)
 W !," 8. SPANISH ORIGIN..................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCNPC8",25,0)
 W !," 9. SEX.............................: ",ONC(165.5,IEN,.1) D P Q:EX=U
"RTN","ONCNPC8",26,0)
 W !,"10. PRIMARY PAYOR AT DIAGNOSIS......: ",ONC(165.5,IEN,18)
"RTN","ONCNPC8",27,0)
 S LINE="-----------------------------------------"
"RTN","ONCNPC8",28,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G FHC
"RTN","ONCNPC8",29,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",30,0)
FHC W !,"11. FAMILY HISTORY OF CANCER:" D P Q:EX=U
"RTN","ONCNPC8",31,0)
 W !,"      LEUKEMIA......................: ",ONC(165.5,IEN,800) D P Q:EX=U
"RTN","ONCNPC8",32,0)
 W !,"      NON-HODGKIN'S LYMPHOMA........: ",ONC(165.5,IEN,801) D P Q:EX=U
"RTN","ONCNPC8",33,0)
 W !,"      HODGKIN'S LYMPHOMA............: ",ONC(165.5,IEN,802) D P Q:EX=U
"RTN","ONCNPC8",34,0)
 W !,"      OTHER CANCER..................: ",ONC(165.5,IEN,313) D P Q:EX=U
"RTN","ONCNPC8",35,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",36,0)
PHAC W !,"12. PERSONAL HISTORY OF ANY CANCER:" D P Q:EX=U
"RTN","ONCNPC8",37,0)
 W !,"      1ST PRIMARY SITE..............: ",ONC(165.5,IEN,803) D P Q:EX=U
"RTN","ONCNPC8",38,0)
 W !,"      1ST PRIMARY HISTOLOGY.........: ",ONC(165.5,IEN,804) D P Q:EX=U
"RTN","ONCNPC8",39,0)
 W !,"      2ND PRIMARY SITE..............: ",ONC(165.5,IEN,805) D P Q:EX=U
"RTN","ONCNPC8",40,0)
 W !,"      2ND PRIMARY HISTOLOGY.........: ",ONC(165.5,IEN,806)
"RTN","ONCNPC8",41,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G PC
"RTN","ONCNPC8",42,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",43,0)
PC W !,"13. PRE-EXISTING CONDITIONS:" D P Q:EX=U
"RTN","ONCNPC8",44,0)
 W !,"      ORGAN TRANSPLANT..............: ",ONC(165.5,IEN,807) D P Q:EX=U
"RTN","ONCNPC8",45,0)
 W !,"      HIV POSITIVE..................: ",ONC(165.5,IEN,808) D P Q:EX=U
"RTN","ONCNPC8",46,0)
 W !,"      CROHN'S DIS/ULCERATIVE COLITIS: ",ONC(165.5,IEN,809) D P Q:EX=U
"RTN","ONCNPC8",47,0)
 W !,"      HASHIMOTO'S THYROIDITIS.......: ",ONC(165.5,IEN,810) D P Q:EX=U
"RTN","ONCNPC8",48,0)
 W !,"      SYSTEMIC LUPUS ERYTHEMATOSUS..: ",ONC(165.5,IEN,811) D P Q:EX=U
"RTN","ONCNPC8",49,0)
 W !,"      RHEUMATOID ARTHRITIS/SJOGREN'S: ",ONC(165.5,IEN,812) D P Q:EX=U
"RTN","ONCNPC8",50,0)
 W !,"      PNEUMOCYSTIS CARINII..........: ",ONC(165.5,IEN,813) D P Q:EX=U
"RTN","ONCNPC8",51,0)
 W !,"      CMV INFECTION.................: ",ONC(165.5,IEN,814) D P Q:EX=U
"RTN","ONCNPC8",52,0)
 W !,"      TUBERCULOSIS..................: ",ONC(165.5,IEN,815) D P Q:EX=U
"RTN","ONCNPC8",53,0)
 W !,"      MYCOBACTERIUM AVIUM...........: ",ONC(165.5,IEN,816) D P Q:EX=U
"RTN","ONCNPC8",54,0)
 W !,"      OTHER PARASITIC INFECTIONS....: ",ONC(165.5,IEN,817) D P Q:EX=U
"RTN","ONCNPC8",55,0)
 W !,"      OTHER CONGENITAL DISEASES.....: ",ONC(165.5,IEN,818) D P Q:EX=U
"RTN","ONCNPC8",56,0)
 W !,"      OPPORTUNISTIC DISEASE.........: ",ONC(165.5,IEN,819)
"RTN","ONCNPC8",57,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G PCRT
"RTN","ONCNPC8",58,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",59,0)
PCRT W !,"14. PREVIOUS CHEMOTHERAPY/RADIATION THERAPY:" D P Q:EX=U
"RTN","ONCNPC8",60,0)
 W !,"      CHEMOTHERAPY..................: ",ONC(165.5,IEN,820) D P Q:EX=U
"RTN","ONCNPC8",61,0)
 W !,"      RADIATION THERAPY.............: ",ONC(165.5,IEN,821) D P Q:EX=U
"RTN","ONCNPC8",62,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",63,0)
 W !,"15. AIDS RISK CATEGORY..............: ",ONC(165.5,IEN,822)
"RTN","ONCNPC8",64,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCNPC8",65,0)
 D P Q:EX=U
"RTN","ONCNPC8",66,0)
II D ^ONCNPC8A
"RTN","ONCNPC8",67,0)
KILL ;Kill Variables and Exit
"RTN","ONCNPC8",68,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS,LINE
"RTN","ONCNPC8",69,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCNPC8",70,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCNPC8",71,0)
 Q
"RTN","ONCNPC8",72,0)
P ;Print
"RTN","ONCNPC8",73,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCNPC8",74,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCNPC8",75,0)
 .D HDR Q
"RTN","ONCNPC8",76,0)
 Q
"RTN","ONCNPC8",77,0)
TASK ;Queue a task
"RTN","ONCNPC8",78,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCNPC8",79,0)
 S ZTRTN="PRT^ONCNPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCNPC8",80,0)
 S ZTDESC="Print Non-Hodgkin's Lymphoma PCE"
"RTN","ONCNPC8",81,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCNPC8",82,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCNPC8",83,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCNPC8",84,0)
HDR ;Header
"RTN","ONCNPC8",85,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCNPC8",86,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCNPC8",87,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCNPC8",88,0)
 W !?19,"PCE Study of Non-Hodgkin's Lymphoma"
"RTN","ONCNPC8",89,0)
 W ?62,ONDATE,!,DASHES
"RTN","ONCNPC8",90,0)
 Q
"RTN","ONCNPC8A")
0^46^B15586292
"RTN","ONCNPC8A",1,0)
ONCNPC8A ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Print (continued);5/13/97
"RTN","ONCNPC8A",2,0)
 ;;2.11;ONCOLOGY;**11,16**;Mar 07, 1995
"RTN","ONCNPC8A",3,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCNPC8A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCNPC8
"RTN","ONCNPC8A",5,0)
 W !?4,TABLE,!?4,"----------------------------" D P Q:EX=U
"RTN","ONCNPC8A",6,0)
 W !,"16. CLASS OF CASE...................: ",ONC(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCNPC8A",7,0)
 W !,"17. DIAGNOSTIC CONFIRMATION.........: ",ONC(165.5,IEN,26)
"RTN","ONCNPC8A",8,0)
 I IOST'?1"C".E W ! D P Q:EX=U
"RTN","ONCNPC8A",9,0)
DW W !,"18. DIAGNOSTIC WORKUP:" D P Q:EX=U
"RTN","ONCNPC8A",10,0)
 W !,"      CHEST X-RAY...................: ",ONC(165.5,IEN,505) D P Q:EX=U
"RTN","ONCNPC8A",11,0)
 W !,"      SKELETAL X-RAY................: ",ONC(165.5,IEN,512) D P Q:EX=U
"RTN","ONCNPC8A",12,0)
 W !,"      CT SCAN OF BRAIN..............: ",ONC(165.5,IEN,823) D P Q:EX=U
"RTN","ONCNPC8A",13,0)
 W !,"      CT SCAN OF CHEST..............: ",ONC(165.5,IEN,506) D P Q:EX=U
"RTN","ONCNPC8A",14,0)
 W !,"      CT SCAN OF ABDOMEN/PELVIS.....: ",ONC(165.5,IEN,824) D P Q:EX=U
"RTN","ONCNPC8A",15,0)
 W !,"      MRI OF BRAIN..................: ",ONC(165.5,IEN,825) D P Q:EX=U
"RTN","ONCNPC8A",16,0)
 W !,"      MRI OF CHEST..................: ",ONC(165.5,IEN,826) D P Q:EX=U
"RTN","ONCNPC8A",17,0)
 W !,"      MRI OF ABDOMEN/PELVIS.........: ",ONC(165.5,IEN,827) D P Q:EX=U
"RTN","ONCNPC8A",18,0)
 W !,"      BONE SCAN.....................: ",ONC(165.5,IEN,504) D P Q:EX=U
"RTN","ONCNPC8A",19,0)
 W !,"      GALLIUM SCAN..................: ",ONC(165.5,IEN,828) D P Q:EX=U
"RTN","ONCNPC8A",20,0)
 W !,"      PET SCAN......................: ",ONC(165.5,IEN,829)
"RTN","ONCNPC8A",21,0)
 W !,"      LUMBAR PUNCTURE...............: ",ONC(165.5,IEN,830)
"RTN","ONCNPC8A",22,0)
 S LINE="----------------------------------------"
"RTN","ONCNPC8A",23,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G RLT
"RTN","ONCNPC8A",24,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8A",25,0)
RLT W !,"19. RESULTS OF LABORATORY TESTS:" D P Q:EX=U
"RTN","ONCNPC8A",26,0)
 W !,"      HEMOGLOBIN/HEMATOCRIT.........: ",ONC(165.5,IEN,831) D P Q:EX=U
"RTN","ONCNPC8A",27,0)
 W !,"      WHITE COUNT...................: ",ONC(165.5,IEN,832) D P Q:EX=U
"RTN","ONCNPC8A",28,0)
 W !,"      PLATELET COUNT................: ",ONC(165.5,IEN,833) D P Q:EX=U
"RTN","ONCNPC8A",29,0)
 W !,"      LACTIC DEHYDROGENASE (LDH)....: ",ONC(165.5,IEN,834) D P Q:EX=U
"RTN","ONCNPC8A",30,0)
 W !,"      LIVER FUNCTION STUDIES........: ",ONC(165.5,IEN,835) D P Q:EX=U
"RTN","ONCNPC8A",31,0)
 W !,"      TOTAL PROTEIN/ALBUMIN.........: ",ONC(165.5,IEN,836)
"RTN","ONCNPC8A",32,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8A",33,0)
AT W !,"20. ADDITIONAL TESTS:" D P Q:EX=U
"RTN","ONCNPC8A",34,0)
 W !,"      TUMOR SURFACE MARKER..........: ",ONC(165.5,IEN,516) D P Q:EX=U
"RTN","ONCNPC8A",35,0)
 W !,"      CYTOGENETIC TESTING...........: ",ONC(165.5,IEN,514) D P Q:EX=U
"RTN","ONCNPC8A",36,0)
 W !,"      GENE REARRANGEMENTS...........: ",ONC(165.5,IEN,833) D P Q:EX=U
"RTN","ONCNPC8A",37,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8A",38,0)
 W !,"21. REVIEW OF PATHOLOGY/OTH INST....: ",ONC(165.5,IEN,838)
"RTN","ONCNPC8A",39,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G DB
"RTN","ONCNPC8A",40,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8A",41,0)
DB W !,"22. DIAGNOSTIC BIOPSIES:" D P Q:EX=U
"RTN","ONCNPC8A",42,0)
 W !,"      LYMPH NODE....................: ",ONC(165.5,IEN,839) D P Q:EX=U
"RTN","ONCNPC8A",43,0)
 W !,"      BONE MARROW...................: ",ONC(165.5,IEN,840) D P Q:EX=U
"RTN","ONCNPC8A",44,0)
 W !,"      CSF CYTOLOGY..................: ",ONC(165.5,IEN,841) D P Q:EX=U
"RTN","ONCNPC8A",45,0)
 W !,"      OTHER SITE....................: ",ONC(165.5,IEN,842) D P Q:EX=U
"RTN","ONCNPC8A",46,0)
 W !!,"23. SYSTEMIC SYSTEMS................: ",ONC(165.5,IEN,843) D P Q:EX=U
"RTN","ONCNPC8A",47,0)
DTSRTHD W !!,"24. DIAGNOSTIC TESTS SPECIFICALLY RELATED TO HIV DISEASE:" D P Q:EX=U
"RTN","ONCNPC8A",48,0)
 W !,"      CD4 COUNT.....................: ",ONC(165.5,IEN,844) D P Q:EX=U
"RTN","ONCNPC8A",49,0)
 W !,"      HIV VIRAL LOADS...............: ",ONC(165.5,IEN,845) D P Q:EX=U
"RTN","ONCNPC8A",50,0)
 W !!,"25. DATE OF INITIAL DIAGNOSIS.......: ",ONC(165.5,IEN,3) D P Q:EX=U
"RTN","ONCNPC8A",51,0)
 W !,"26. PRIMARY SITE....................: ",TOPCOD," ",ONC(165.5,IEN,20)
"RTN","ONCNPC8A",52,0)
 W !,"27. HISTOLOGY/29. BEHAVIOR CODE.....: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCNPC8A",53,0)
 W !,"28. SPECIFIC HISTOLOGIC INFO........: ",ONC(165.5,IEN,846) D P Q:EX=U
"RTN","ONCNPC8A",54,0)
 W !,"30. CELL TYPE OF LYMPHOMA...........: ",ONC(165.5,IEN,847) D P Q:EX=U
"RTN","ONCNPC8A",55,0)
 W !,"31. PATIENT STATUS OF DIAGNOSIS.....: ",ONC(165.5,IEN,848) D P Q:EX=U
"RTN","ONCNPC8A",56,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 G III
"RTN","ONCNPC8A",57,0)
 D P Q:EX=U
"RTN","ONCNPC8A",58,0)
III D ^ONCNPC8B
"RTN","ONCNPC8A",59,0)
KILL ;Kill Variables and Exit
"RTN","ONCNPC8A",60,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS,LINE
"RTN","ONCNPC8A",61,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCNPC8A",62,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCNPC8A",63,0)
 Q
"RTN","ONCNPC8A",64,0)
P ;Print
"RTN","ONCNPC8A",65,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCNPC8A",66,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCNPC8A",67,0)
 .D HDR^ONCNPC8 Q
"RTN","ONCNPC8A",68,0)
 Q
"RTN","ONCNPC8B")
0^6^B33295209
"RTN","ONCNPC8B",1,0)
ONCNPC8B ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Print (continued);5/14/97
"RTN","ONCNPC8B",2,0)
 ;;2.11;ONCOLOGY;**11,15,16**;Mar 07, 1995
"RTN","ONCNPC8B",3,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCNPC8B",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCNPC8
"RTN","ONCNPC8B",5,0)
 W !?4,TABLE,!?4,"--------------------------------------------" D P Q:EX=U
"RTN","ONCNPC8B",6,0)
ACSG W !,"32. AJCC CLINICAL STAGE GROUP.......: ",ONC(165.5,IEN,38) D P Q:EX=U
"RTN","ONCNPC8B",7,0)
CSB W !,"33. CLINICALLY STAGED BY............: ",ONC(165.5,IEN,19) D P Q:EX=U
"RTN","ONCNPC8B",8,0)
APSG W !,"34. AJCC PATHOLOGIC STAGE GROUP.....: ",ONC(165.5,IEN,88) D P Q:EX=U
"RTN","ONCNPC8B",9,0)
PSB W !,"35. PATHOLOGICALLY STAGED BY........: ",ONC(165.5,IEN,89) D P Q:EX=U
"RTN","ONCNPC8B",10,0)
TOSS W !,"36. TYPE OF STAGING SYS (PEDIATRIC).: ",ONC(165.5,IEN,849) D P Q:EX=U
"RTN","ONCNPC8B",11,0)
PS W !,"37. PEDIATRIC STAGE.................: ",ONC(165.5,IEN,850) D P Q:EX=U
"RTN","ONCNPC8B",12,0)
SB W !,"38. STAGED BY (PEDIATRIC STAGE).....: ",ONC(165.5,IEN,851) D P Q:EX=U
"RTN","ONCNPC8B",13,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",14,0)
ES W !,"39. EXTRANODAL SITES:"
"RTN","ONCNPC8B",15,0)
 W !,"      EXTRANODAL SITE 1.............: ",ONC(165.5,IEN,852) D P Q:EX=U
"RTN","ONCNPC8B",16,0)
 W !,"      EXTRANODAL SITE 2.............: ",ONC(165.5,IEN,853) D P Q:EX=U
"RTN","ONCNPC8B",17,0)
 W !,"      EXTRANODAL SITE 3.............: ",ONC(165.5,IEN,854) D P Q:EX=U
"RTN","ONCNPC8B",18,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 G IV
"RTN","ONCNPC8B",19,0)
 D P Q:EX=U
"RTN","ONCNPC8B",20,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCNPC8B",21,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCNPC8
"RTN","ONCNPC8B",22,0)
 W !?4,TABLE,!?4,"------------------------------------" D P Q:EX=U
"RTN","ONCNPC8B",23,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCNPC8B",24,0)
 W !,"40. FIRST COURSE OF TREATMENT DATE..: ",DOIT D P Q:EX=U
"RTN","ONCNPC8B",25,0)
 W !!?4,"SURGERY",!?4,"-------" D P Q:EX=U
"RTN","ONCNPC8B",26,0)
CDS S CDS=ONC(165.5,IEN,58.2)
"RTN","ONCNPC8B",27,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<45 S CDS1=CDS G S
"RTN","ONCNPC8B",28,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCNPC8B",29,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCNPC8B",30,0)
S W !,"41. SURGERY OF PRIMARY SITE DATE....: ",ONC(165.5,IEN,50) D P Q:EX=U
"RTN","ONCNPC8B",31,0)
 W !,"42A.SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCNPC8B",32,0)
 W !,"42B.EXTRANODAL SURGERY SITE.........: ",ONC(165.5,IEN,855) D P Q:EX=U
"RTN","ONCNPC8B",33,0)
 W !,"42C.EXTRANODAL SURGICAL PROCEDURE...: ",ONC(165.5,IEN,856) D P Q:EX=U
"RTN","ONCNPC8B",34,0)
 S LINE="------------------------------------------------"
"RTN","ONCNPC8B",35,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G R
"RTN","ONCNPC8B",36,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",37,0)
R W !?4,"RADIATION THERAPY",!?4,"-----------------" D P Q:EX=U
"RTN","ONCNPC8B",38,0)
 W !,"43. DATE RADIATION STARTED..........: ",ONC(165.5,IEN,51) D P Q:EX=U
"RTN","ONCNPC8B",39,0)
 W !,"44. RADIATION.......................: ",ONC(165.5,IEN,51.2) D P Q:EX=U
"RTN","ONCNPC8B",40,0)
 W !!,"45. IRRADIATED FIELDS:" D P Q:EX=U
"RTN","ONCNPC8B",41,0)
 W !,"      LYMPH NODES ABOVE DIAPHRAGM...: ",ONC(165.5,IEN,857) D P Q:EX=U
"RTN","ONCNPC8B",42,0)
 W !,"      LYMPH NODES BELOW DIAPHRAGM...: ",ONC(165.5,IEN,858) D P Q:EX=U
"RTN","ONCNPC8B",43,0)
 W !,"      BRAIN.........................: ",ONC(165.5,IEN,859) D P Q:EX=U
"RTN","ONCNPC8B",44,0)
 W !,"      OTHER EXTRANODAL SITE(S)......: ",ONC(165.5,IEN,860) D P Q:EX=U
"RTN","ONCNPC8B",45,0)
 W !,"      TOTAL BODY....................: ",ONC(165.5,IEN,861) D P Q:EX=U
"RTN","ONCNPC8B",46,0)
 W !!,"46. RADIATION/CHEMOTHERAPY SEQUENCE.: ",ONC(165.5,IEN,862)
"RTN","ONCNPC8B",47,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G C
"RTN","ONCNPC8B",48,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",49,0)
C W !?4,"CHEMOTHERAPY",!?4,"------------" D P Q:EX=U
"RTN","ONCNPC8B",50,0)
 W !,"47. PROTOCOL........................: ",ONC(165.5,IEN,863) D P Q:EX=U
"RTN","ONCNPC8B",51,0)
SC W !!?4,"SYSTEMIC CHEMOTHERAPY",!?4,"---------------------" D P Q:EX=U
"RTN","ONCNPC8B",52,0)
 W !,"48. SYSTEMIC CHEMOTHERAPY...........: ",ONC(165.5,IEN,864) D P Q:EX=U
"RTN","ONCNPC8B",53,0)
 W !,"49. SYSTEMIC CHEMOTHERAPY DATE......: ",ONC(165.5,IEN,865) D P Q:EX=U
"RTN","ONCNPC8B",54,0)
 W !,"50. NUMBER OF PLANNED CYCLES........: ",ONC(165.5,IEN,866)
"RTN","ONCNPC8B",55,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G AADSC
"RTN","ONCNPC8B",56,0)
 D P Q:EX=U
"RTN","ONCNPC8B",57,0)
AADSC W !,"51. AGENT ADMINISTERED DURING SYSTEMIC CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCNPC8B",58,0)
 W !,"    SINGLE-AGENT CHEMOTHERAPY:",?42,"COMBINATION CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCNPC8B",59,0)
 W !,"    CHLORAMBUCIL.....: ",ONC(165.5,IEN,867),?42,"CHOP.............: ",ONC(165.5,IEN,871) D P Q:EX=U
"RTN","ONCNPC8B",60,0)
 W !,"    CYCLOPHOSPHAMIDE.: ",ONC(165.5,IEN,868),?42,"CVP..............: ",ONC(165.5,IEN,872) D P Q:EX=U
"RTN","ONCNPC8B",61,0)
 W !,"    DOXORUBICIN......: ",ONC(165.5,IEN,869),?42,"COMLA............: ",ONC(165.5,IEN,873) D P Q:EX=U
"RTN","ONCNPC8B",62,0)
 W !,"    FLUDARABINE......: ",ONC(165.5,IEN,870),?42,"MACOP-B..........: ",ONC(165.5,IEN,874) D P Q:EX=U
"RTN","ONCNPC8B",63,0)
 W !,?42,"M-BACOD..........: ",ONC(165.5,IEN,875) D P Q:EX=U
"RTN","ONCNPC8B",64,0)
 W !,?42,"PRO-MACE-Cyta BOM: ",ONC(165.5,IEN,876) D P Q:EX=U
"RTN","ONCNPC8B",65,0)
 W !,?42,"OTHER............: ",ONC(165.5,IEN,877) D P Q:EX=U
"RTN","ONCNPC8B",66,0)
 W !!,"52. HIGH DOSE W STEM CELL RESCUE....: ",ONC(165.5,IEN,878)
"RTN","ONCNPC8B",67,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G IC
"RTN","ONCNPC8B",68,0)
 D P Q:EX=U
"RTN","ONCNPC8B",69,0)
IC W !?4,"INTRATHECAL CHEMOTHERAPY",!?4,"------------------------" D P Q:EX=U
"RTN","ONCNPC8B",70,0)
 W !,"53. INTRATHECAL CHEMOTHERAPY........: ",ONC(165.5,IEN,879) D P Q:EX=U
"RTN","ONCNPC8B",71,0)
 W !,"54. PURPOSE.........................: ",ONC(165.5,IEN,880) D P Q:EX=U
"RTN","ONCNPC8B",72,0)
I W !!?4,"IMMUNMOTHERAPY",!?4,"--------------" D P Q:EX=U
"RTN","ONCNPC8B",73,0)
 W !,"55. IMMUNOTHERAPY:"
"RTN","ONCNPC8B",74,0)
 W !,"      INTERLEUKIN-2 (IL-2)..........: ",ONC(165.5,IEN,881) D P Q:EX=U
"RTN","ONCNPC8B",75,0)
 W !,"      INTERFERON....................: ",ONC(165.5,IEN,882) D P Q:EX=U
"RTN","ONCNPC8B",76,0)
 W !,"      MONOCLONAL ANTIBODIES.........: ",ONC(165.5,IEN,883) D P Q:EX=U
"RTN","ONCNPC8B",77,0)
 W !,"      VACCINE THERAPY...............: ",ONC(165.5,IEN,884) D P Q:EX=U
"RTN","ONCNPC8B",78,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 G V
"RTN","ONCNPC8B",79,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",80,0)
V S TABLE="TABLE V - FIRST RECURRENCE"
"RTN","ONCNPC8B",81,0)
 W !?4,TABLE,!?4,"--------------------------" D P Q:EX=U
"RTN","ONCNPC8B",82,0)
 W !,"56. DATE OF FIRST RECURRENCE........: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCNPC8B",83,0)
 W !,"57. TYPE OF FIRST RECURRENCE........: ",ONC(165.5,IEN,71) D P Q:EX=U
"RTN","ONCNPC8B",84,0)
 W !,"58. OTHER TYPE OF FIRST RECURRENCE..: ",ONC(165.5,IEN,71.4) D P Q:EX=U
"RTN","ONCNPC8B",85,0)
 ;I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 G VI
"RTN","ONCNPC8B",86,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",87,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCNPC8B",88,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCNPC8
"RTN","ONCNPC8B",89,0)
 W !?4,TABLE,!?4,"---------------------------------" D P Q:EX=U
"RTN","ONCNPC8B",90,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCNPC8B",91,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCNPC8B",92,0)
 W !,"59. DATE OF LAST CONTACT OR DEATH...: ",DLC
"RTN","ONCNPC8B",93,0)
 W !,"60. VITAL STATUS....................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCNPC8B",94,0)
 S CS="" I $D(^ONCO(165.5,IEN,"TS","AA")) D
"RTN","ONCNPC8B",95,0)
 .S CSDAT=$O(^ONCO(165.5,IEN,"TS","AA",""))
"RTN","ONCNPC8B",96,0)
 .S CSIEN=$O(^ONCO(165.5,IEN,"TS","AA",CSDAT,""))
"RTN","ONCNPC8B",97,0)
 .S CSPNT=$P(^ONCO(165.5,IEN,"TS",CSIEN,0),U,2)
"RTN","ONCNPC8B",98,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCNPC8B",99,0)
 W !,"61. CANCER STATUS...................: ",CS
"RTN","ONCNPC8B",100,0)
 W !,"62. COMPLETED BY....................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCNPC8B",101,0)
 W !,"63. REVIEWED BY CANCER COMMITTEE....: ",ONC(165.5,IEN,82) D P Q:EX=U
"RTN","ONCNPC8B",102,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC8B",103,0)
KILL ;Kill Variables and Exit
"RTN","ONCNPC8B",104,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN,LINE
"RTN","ONCNPC8B",105,0)
 Q
"RTN","ONCNPC8B",106,0)
P ;Display Data
"RTN","ONCNPC8B",107,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCNPC8B",108,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCNPC8B",109,0)
 .D HDR^ONCNPC8 Q
"RTN","ONCNPC8B",110,0)
 Q
"RTN","ONCNTX")
0^14^B48486071
"RTN","ONCNTX",1,0)
ONCNTX ;HINES CIOFO/GWB,RTK;NO TREATMENT STUFFING; 08/27/97
"RTN","ONCNTX",2,0)
 ;;2.11;ONCOLOGY;**13,15,16**;Mar 07, 1995
"RTN","ONCNTX",3,0)
NTX ;No treatment
"RTN","ONCNTX",4,0)
 W @IOF S NTX=""
"RTN","ONCNTX",5,0)
 D SUR,RFNS W !
"RTN","ONCNTX",6,0)
 S $P(^ONCO(165.5,DA,3),U,6)=0 D RAD,RFNR W !  ;51.2;RADIATION
"RTN","ONCNTX",7,0)
 D CNS
"RTN","ONCNTX",8,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNTX",9,0)
 W @IOF
"RTN","ONCNTX",10,0)
 S $P(^ONCO(165.5,DA,3),U,13)=0 D CHE,RFNC W !     ;53.2;CHEMOTHERAPY
"RTN","ONCNTX",11,0)
 S $P(^ONCO(165.5,DA,3),U,16)=0 D HOR^ONCNTX1
"RTN","ONCNTX",12,0)
 D RFNH^ONCNTX1 W !                                ;54.2;HORMONE THERAPY
"RTN","ONCNTX",13,0)
 S $P(^ONCO(165.5,DA,3),U,19)=0 D IMM^ONCNTX1 W !  ;55.2;IMMUNOTHERAPY
"RTN","ONCNTX",14,0)
 S $P(^ONCO(165.5,DA,3),U,25)=0 D OTH^ONCNTX1      ;57.2;OTHER TREATMENT
"RTN","ONCNTX",15,0)
 K NTX G EXIT
"RTN","ONCNTX",16,0)
NCDS ;Non cancer-directed surgery
"RTN","ONCNTX",17,0)
 S $P(^ONCO(165.5,D0,3),U,31)="0000000"
"RTN","ONCNTX",18,0)
 W !,"NON CANCER-DIRECTED SURG DATE.: 00/00/0000"
"RTN","ONCNTX",19,0)
 Q
"RTN","ONCNTX",20,0)
SUR ;Cancer directed surgery
"RTN","ONCNTX",21,0)
 S $P(^ONCO(165.5,DA,3),U,38)=$S(DATEDX>2971231:1,1:"00")    ;58.2;
"RTN","ONCNTX",22,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,1)_"S"
"RTN","ONCNTX",23,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",24,0)
 S $P(^ONCO(165.5,DA,3),U,1)="0000000"                         ;50
"RTN","ONCNTX",25,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S")=""
"RTN","ONCNTX",26,0)
 I DATEDX>2951231 D
"RTN","ONCNTX",27,0)
 .S $P(^ONCO(165.5,DA,3),U,34)=1                             ;74
"RTN","ONCNTX",28,0)
 S SMTOP=$P(^ONCO(165.5,DA,2),U,1) S SURMAR=$S($P(^ONCO(164,SMTOP,0),U,16)=67500:8,$P(^ONCO(164,SMTOP,0),U,16)=67619:8,1:6)
"RTN","ONCNTX",29,0)
 S $P(^ONCO(165.5,DA,3),U,28)=$S(DATEDX>2971231:SURMAR,1:8)  ;59
"RTN","ONCNTX",30,0)
 I DATEDX>2951231 D
"RTN","ONCNTX",31,0)
 .S $P(^ONCO(165.5,DA,3),U,33)=$S(DATEDX>2971231:1,1:9)      ;23
"RTN","ONCNTX",32,0)
 S $P(^ONCO(165.5,DA,3),U,40)=$S(DATEDX>2971231:1,1:"")      ;138
"RTN","ONCNTX",33,0)
 S $P(^ONCO(165.5,DA,3),U,42)=$S(DATEDX>2971231:0,1:"")      ;140
"RTN","ONCNTX",34,0)
 S $P(^ONCO(165.5,DA,3),U,2)=""                              ;50.1
"RTN","ONCNTX",35,0)
 K ^ONCO(165.5,DA,14)                                        ;108
"RTN","ONCNTX",36,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX",37,0)
 S DR="58.2;50;58;74;59;23;138;140" D EN^DIQ1
"RTN","ONCNTX",38,0)
 W:$D(NTX) !,"SURGERY OF PRIMARY SITE.......: "_ONC(165.5,DA,58.2,"E")
"RTN","ONCNTX",39,0)
 W !,"SURGERY OF PRIMARY SITE DATE..: "_ONC(165.5,DA,50,"E")
"RTN","ONCNTX",40,0)
 I DATEDX>2951231 D
"RTN","ONCNTX",41,0)
 .W !,"SURGICAL APPROACH.............: "_ONC(165.5,DA,74,"E")
"RTN","ONCNTX",42,0)
 W !,"SURGICAL MARGINS..............: "_ONC(165.5,DA,59,"E")
"RTN","ONCNTX",43,0)
 I DATEDX>2971231 D
"RTN","ONCNTX",44,0)
 .W !,"SCOPE OF LYMPH NODE SURGERY...: "_ONC(165.5,DA,138,"E")
"RTN","ONCNTX",45,0)
 .W !,"NUMBER OF NODES REMOVED.......: "_ONC(165.5,DA,140,"E")
"RTN","ONCNTX",46,0)
 .Q
"RTN","ONCNTX",47,0)
 I DATEDX>2951231 D
"RTN","ONCNTX",48,0)
 .W !,"RECONSTRUCTION/RESTORATION....: "_ONC(165.5,DA,23,"E")
"RTN","ONCNTX",49,0)
 K ONC,SMTOP,SURMAR,TXDT Q
"RTN","ONCNTX",50,0)
NODE ;
"RTN","ONCNTX",51,0)
 S $P(^ONCO(165.5,DA,3),U,42)=$S(DATEDX>2971231:0,1:"")      ;140
"RTN","ONCNTX",52,0)
 W !,"NUMBER OF NODES REMOVED.......: No nodes removed"
"RTN","ONCNTX",53,0)
 Q
"RTN","ONCNTX",54,0)
RFNS ;Reason for no surgery
"RTN","ONCNTX",55,0)
 S $P(^ONCO(165.5,DA,3),U,26)=1      ;58  ;REASON FOR NO SURGERY
"RTN","ONCNTX",56,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX",57,0)
 S DR="58" D EN^DIQ1
"RTN","ONCNTX",58,0)
 W !,"REASON FOR NO SURGERY.........: "_ONC(165.5,DA,58,"E")
"RTN","ONCNTX",59,0)
 K ONC Q
"RTN","ONCNTX",60,0)
RAD ;Radiation
"RTN","ONCNTX",61,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,4)_"R"
"RTN","ONCNTX",62,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",63,0)
 S $P(^ONCO(165.5,DA,3),U,4)="0000000"    ;51  ;RADIATION DATE
"RTN","ONCNTX",64,0)
 S ^ONCO(165.5,"ATX",DA,"0000000R")=""
"RTN","ONCNTX",65,0)
 I DATEDX<2970101 D
"RTN","ONCNTX",66,0)
 .S $P(^ONCO(165.5,DA,"THY1"),U,43)=""  ;442 ;REGIONAL DOSE:cGy
"RTN","ONCNTX",67,0)
 .S $P(^ONCO(165.5,DA,3),U,20)=""       ;56  ;NUMBER OF TREATMENTS
"RTN","ONCNTX",68,0)
 .S $P(^ONCO(165.5,DA,3),U,21)=""       ;125 ;RADIATION TREATMENT VOLUME
"RTN","ONCNTX",69,0)
 .S $P(^ONCO(165.5,DA,3),U,22)=""       ;126 ;LOCATION OF RADIATION
"RTN","ONCNTX",70,0)
 .S $P(^ONCO(165.5,DA,3),U,29)=""       ;127 ;INTENT OF RADIATION
"RTN","ONCNTX",71,0)
 .S $P(^ONCO(165.5,DA,3),U,39)=""       ;128 ;RADIATION COMPLETION STATUS
"RTN","ONCNTX",72,0)
 .S $P(^ONCO(165.5,DA,3.1),U,3)=""      ;132 ;RADIATION LOCAL CONTROL STATUS
"RTN","ONCNTX",73,0)
 .S $P(^ONCO(165.5,DA,3.1),U,1)=""      ;129 ;RADIATION AUXILIARY VOLUME
"RTN","ONCNTX",74,0)
 .S $P(^ONCO(165.5,DA,3.1),U,2)=""      ;130;RADIATION AUXILIARY DATE
"RTN","ONCNTX",75,0)
 E  D
"RTN","ONCNTX",76,0)
 .S $P(^ONCO(165.5,DA,"THY1"),U,43)=0   ;442 ;REGIONAL DOSE:cGy
"RTN","ONCNTX",77,0)
 .S $P(^ONCO(165.5,DA,3),U,20)=0        ;56  ;NUMBER OF TREATMENTS
"RTN","ONCNTX",78,0)
 .S $P(^ONCO(165.5,DA,3),U,21)=1        ;125 ;RADIATION TREATMENT VOLUME
"RTN","ONCNTX",79,0)
 .S $P(^ONCO(165.5,DA,3),U,22)=0        ;126 ;LOCATION OF RADIATION
"RTN","ONCNTX",80,0)
 .S $P(^ONCO(165.5,DA,3),U,29)=0        ;127 ;INTENT OF RADIATION
"RTN","ONCNTX",81,0)
 .S $P(^ONCO(165.5,DA,3),U,39)=1        ;128 ;RADIATION COMPLETION STATUS
"RTN","ONCNTX",82,0)
 .S $P(^ONCO(165.5,DA,3.1),U,3)=0       ;132 ;RADIATION LOCAL CONTROL STATUS
"RTN","ONCNTX",83,0)
 .S $P(^ONCO(165.5,DA,3.1),U,1)=1       ;129 ;RADIATION AUXILIARY VOLUME
"RTN","ONCNTX",84,0)
 .S $P(^ONCO(165.5,DA,3.1),U,2)="0000000" ;130;RADIATION AUXILIARY DATE
"RTN","ONCNTX",85,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,18)=1    ;363 ;REGIONAL TREATMENT MODALITY
"RTN","ONCNTX",86,0)
 S $P(^ONCO(165.5,DA,3),U,7)=0          ;51.3;RADIATION/SURGERY SEQUENCE
"RTN","ONCNTX",87,0)
 S $P(^ONCO(165.5,DA,3),U,5)=""         ;51.1;RADIATION HOSPITAL
"RTN","ONCNTX",88,0)
 K ^ONCO(165.5,DA,6)                    ;80  ;RADIATION TREATMENT
"RTN","ONCNTX",89,0)
 K ^ONCO(165.5,DA,15)                   ;109 ;TEXT-RX-RAD (BEAM)
"RTN","ONCNTX",90,0)
 K ^ONCO(165.5,DA,15.1)                 ;131 ;RADIATION AUXILIARY TEXT
"RTN","ONCNTX",91,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX",92,0)
 S DR="51.2;51;442;56;125;126;127;363;52.2;52;51.3;128;132" D EN^DIQ1
"RTN","ONCNTX",93,0)
 W:$D(NTX) !,"RADIATION:....................: "_ONC(165.5,DA,51.2,"E")
"RTN","ONCNTX",94,0)
 W !,"RADIATION DATE:...............: "_ONC(165.5,DA,51,"E")
"RTN","ONCNTX",95,0)
 I DATEDX>2961231 D
"RTN","ONCNTX",96,0)
 .W !,"REGIONAL DOSE:cGy.............: "_ONC(165.5,DA,442,"E")
"RTN","ONCNTX",97,0)
 .W !,"NUMBER OF TREATMENTS..........: "_ONC(165.5,DA,56,"E")
"RTN","ONCNTX",98,0)
 .W !,"RADIATION TREATMENT VOLUME....: "_ONC(165.5,DA,125,"E")
"RTN","ONCNTX",99,0)
 .W !,"LOCATION OF RADIATION.........: "_ONC(165.5,DA,126,"E")
"RTN","ONCNTX",100,0)
 .W !,"INTENT OF RADIATION...........: "_ONC(165.5,DA,127,"E")
"RTN","ONCNTX",101,0)
 W !,"REGIONAL TREATMENT MODALITY...: "_ONC(165.5,DA,363,"E")
"RTN","ONCNTX",102,0)
 W !,"RADIATION/SURGERY SEQUENCE....: "_ONC(165.5,DA,51.3,"E")
"RTN","ONCNTX",103,0)
 I DATEDX>2961231 D
"RTN","ONCNTX",104,0)
 .W !,"RADIATION COMPLETION STATUS...: "_ONC(165.5,DA,128,"E")
"RTN","ONCNTX",105,0)
 .W !,"RADIATION LOCAL CONTROL STATUS: "_ONC(165.5,DA,132,"E")
"RTN","ONCNTX",106,0)
 K ONC,TXDT Q
"RTN","ONCNTX",107,0)
RFNR ;Reason for no radiation
"RTN","ONCNTX",108,0)
 S $P(^ONCO(165.5,DA,3),U,35)=1        ;75  ;REASON FOR NO RADIATION
"RTN","ONCNTX",109,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX",110,0)
 S DR="75" D EN^DIQ1
"RTN","ONCNTX",111,0)
 W !,"REASON FOR NO RADIATION.......: "_ONC(165.5,DA,75,"E")
"RTN","ONCNTX",112,0)
 K ONC Q
"RTN","ONCNTX",113,0)
CNS ;Radiation therapy to CNS
"RTN","ONCNTX",114,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,8)_"P"
"RTN","ONCNTX",115,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",116,0)
 S SITE=$P(^ONCO(165.5,D0,0),U)
"RTN","ONCNTX",117,0)
 I (SITE=31)!(SITE=35)!($$LEUKEMIA^ONCOAIP2(D0))!((SITE>65)&(SITE<70)) D
"RTN","ONCNTX",118,0)
 .S $P(^ONCO(165.5,DA,3),U,10)=0       ;52.2;RADIATION THERAPY TO CNS  
"RTN","ONCNTX",119,0)
 .S $P(^ONCO(165.5,DA,3),U,8)="0000000"  ;52  ;RAD THERAPY TO CNS DATE
"RTN","ONCNTX",120,0)
 .S ^ONCO(165.5,"ATX",DA,"0000000P")=""
"RTN","ONCNTX",121,0)
 E  D
"RTN","ONCNTX",122,0)
 .S $P(^ONCO(165.5,DA,3),U,10)=9       ;52.2;RADIATION THERAPY TO CNS  
"RTN","ONCNTX",123,0)
 .S $P(^ONCO(165.5,DA,3),U,8)=9999999  ;52  ;RAD THERAPY TO CNS DATE
"RTN","ONCNTX",124,0)
 .S ^ONCO(165.5,"ATX",DA,"9999999P")=""
"RTN","ONCNTX",125,0)
 S $P(^ONCO(165.5,DA,3),U,9)=""        ;52.1;RAD THERAPY TO CNS HOSP
"RTN","ONCNTX",126,0)
 K ^ONCO(165.5,DA,16)                  ;110 ;TEXT-RX-RAD/CNS
"RTN","ONCNTX",127,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX",128,0)
 S DR="52.2;52" D EN^DIQ1
"RTN","ONCNTX",129,0)
 W:$D(NTX) !,"RADIATION THERAPY TO CNS .....: "_ONC(165.5,DA,52.2,"E")
"RTN","ONCNTX",130,0)
 W !,"RADIATION THERAPY TO CNS DATE.: "_ONC(165.5,DA,52,"E")
"RTN","ONCNTX",131,0)
 K SITE,ONC,TXDT Q
"RTN","ONCNTX",132,0)
CNS0 ;Radiation therapy to CNS
"RTN","ONCNTX",133,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,8)_"P"
"RTN","ONCNTX",134,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",135,0)
 S $P(^ONCO(165.5,DA,3),U,8)="0000000"  ;52  ;RAD THERAPY TO CNS DATE
"RTN","ONCNTX",136,0)
 S ^ONCO(165.5,"ATX",DA,"0000000P")=""
"RTN","ONCNTX",137,0)
 S $P(^ONCO(165.5,DA,3),U,9)=""       ;52.1;RAD THERAPY TO CNS HOSP
"RTN","ONCNTX",138,0)
 K ^ONCO(165.5,DA,16)                 ;110 ;TEXT-RX-RAD/CNS
"RTN","ONCNTX",139,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX",140,0)
 S DR="52" D EN^DIQ1
"RTN","ONCNTX",141,0)
 W !,"RADIATION THERAPY TO CNS DATE.: "_ONC(165.5,DA,52,"E")
"RTN","ONCNTX",142,0)
 K ONC,TXDT Q
"RTN","ONCNTX",143,0)
CHE ;Chemotherapy
"RTN","ONCNTX",144,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,11)_"C"
"RTN","ONCNTX",145,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",146,0)
 S $P(^ONCO(165.5,DA,3),U,11)="0000000"  ;53  ;CHEMOTHERAPY DATE
"RTN","ONCNTX",147,0)
 S ^ONCO(165.5,"ATX",DA,"0000000C")=""
"RTN","ONCNTX",148,0)
 S $P(^ONCO(165.5,DA,3),U,12)=""       ;53.1;CHEMOTHERAPY HOSPITAL
"RTN","ONCNTX",149,0)
 K ^ONCO(165.5,DA,17)                  ;111 ;TEXT-RX-CHEMO
"RTN","ONCNTX",150,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX",151,0)
 S DR="53.2;53"
"RTN","ONCNTX",152,0)
 D EN^DIQ1
"RTN","ONCNTX",153,0)
 W:$D(NTX) !,"CHEMOTHERAPY..................: "_ONC(165.5,DA,53.2,"E")
"RTN","ONCNTX",154,0)
 W !,"CHEMOTHERAPY DATE:............: "_ONC(165.5,DA,53,"E")
"RTN","ONCNTX",155,0)
 K ONC Q
"RTN","ONCNTX",156,0)
RFNC ;Reason for no chemotherapy
"RTN","ONCNTX",157,0)
 S $P(^ONCO(165.5,DA,3),U,36)=1        ;76  ;REASON FOR NO CHEMOTHERAPY
"RTN","ONCNTX",158,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX",159,0)
 S DR="76" D EN^DIQ1
"RTN","ONCNTX",160,0)
 W !,"REASON FOR NO CHEMOTHERAPY....: "_ONC(165.5,DA,76,"E")
"RTN","ONCNTX",161,0)
 K ONC Q
"RTN","ONCNTX",162,0)
EXIT W ! S Y="@346"
"RTN","ONCNTX1")
0^31^B7080321
"RTN","ONCNTX1",1,0)
ONCNTX1 ;HINES CIOFO/RTK;NO TREATMENT STUFFING (CONT.); 02/5/98
"RTN","ONCNTX1",2,0)
 ;;2.11;ONCOLOGY;**15,16**;Mar 07, 1995
"RTN","ONCNTX1",3,0)
HOR ;Hormone therapy
"RTN","ONCNTX1",4,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,14)_"H"
"RTN","ONCNTX1",5,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX1",6,0)
 S $P(^ONCO(165.5,DA,3),U,14)="0000000"  ;54  ;HORMONE THERAPY DATE
"RTN","ONCNTX1",7,0)
 S ^ONCO(165.5,"ATX",DA,"0000000H")=""
"RTN","ONCNTX1",8,0)
 S $P(^ONCO(165.5,DA,3),U,15)=""       ;54.1;HORMONE THERAPY HOSPITAL
"RTN","ONCNTX1",9,0)
 K ^ONCO(165.5,DA,18)                  ;112 ;TEXT-RX-HORMONE
"RTN","ONCNTX1",10,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",11,0)
 S DR="54.2;54" D EN^DIQ1
"RTN","ONCNTX1",12,0)
 W:$D(NTX) !,"HORMONE THERAPY...............: "_ONC(165.5,DA,54.2,"E")
"RTN","ONCNTX1",13,0)
 W !,"HORMONE THERAPY DATE:.........: "_ONC(165.5,DA,54,"E")
"RTN","ONCNTX1",14,0)
 K ONC Q
"RTN","ONCNTX1",15,0)
RFNH ;Reason for no hormone therapy
"RTN","ONCNTX1",16,0)
 S $P(^ONCO(165.5,DA,3),U,37)=1        ;77  ;REASON FOR NO HT
"RTN","ONCNTX1",17,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",18,0)
 S DR="77" D EN^DIQ1
"RTN","ONCNTX1",19,0)
 W !,"REASON FOR NO HORMONE THERAPY.: "_ONC(165.5,DA,77,"E")
"RTN","ONCNTX1",20,0)
 K ONC Q
"RTN","ONCNTX1",21,0)
IMM ;Immunotherapy
"RTN","ONCNTX1",22,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,17)_"B"
"RTN","ONCNTX1",23,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX1",24,0)
 S $P(^ONCO(165.5,DA,3),U,17)="0000000"  ;55  ;IMMUNOTHERAPY DATE
"RTN","ONCNTX1",25,0)
 S ^ONCO(165.5,"ATX",DA,"0000000B")=""
"RTN","ONCNTX1",26,0)
 S $P(^ONCO(165.5,DA,3),U,18)=""       ;55.1;IMMUNOTHERAPY HOSPITAL
"RTN","ONCNTX1",27,0)
 K ^ONCO(165.5,DA,20)                  ;114 ;TEXT-RX-IMMUNOTHERAPY
"RTN","ONCNTX1",28,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",29,0)
 S DR="55.2;55" D EN^DIQ1
"RTN","ONCNTX1",30,0)
 W:$D(NTX) !,"IMMUNOTHERAPY.................: "_ONC(165.5,DA,55.2,"E")
"RTN","ONCNTX1",31,0)
 W !,"IMMUNOTHERAPY DATE:...........: "_ONC(165.5,DA,55,"E")
"RTN","ONCNTX1",32,0)
 K ONC Q
"RTN","ONCNTX1",33,0)
OTH ;Other treatment
"RTN","ONCNTX1",34,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,23)_"O"
"RTN","ONCNTX1",35,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX1",36,0)
 S $P(^ONCO(165.5,DA,3),U,23)="0000000"  ;57  ;OTHER TREATMENT DATE
"RTN","ONCNTX1",37,0)
 S ^ONCO(165.5,"ATX",DA,"0000000O")=""
"RTN","ONCNTX1",38,0)
 S $P(^ONCO(165.5,DA,3),U,24)=""       ;57.1;OTHER TREATMENT HOSPITAL
"RTN","ONCNTX1",39,0)
 K ^ONCO(165.5,DA,21)                  ;115 ;TEXT-RX-OTHER
"RTN","ONCNTX1",40,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",41,0)
 S DR="57.2;57" D EN^DIQ1
"RTN","ONCNTX1",42,0)
 W:$D(NTX) !,"OTHER TREATMENT...............: "_ONC(165.5,DA,57.2,"E")
"RTN","ONCNTX1",43,0)
 W !,"OTHER TREATMENT DATE:.........: "_ONC(165.5,DA,57,"E")
"RTN","ONCNTX1",44,0)
 K ONC Q
"RTN","ONCNTX1",45,0)
PRO ;Protocol
"RTN","ONCNTX1",46,0)
 S $P(^ONCO(165.5,DA,"STS2"),U,31)="00" ;560 ;PROTOCOL PARTICIPATION
"RTN","ONCNTX1",47,0)
 S $P(^ONCO(165.5,DA,3.1),U,4)="0000"   ;133 ;YEAR PUT ON PROTOCOL
"RTN","ONCNTX1",48,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",49,0)
 S DR="133;560" D EN^DIQ1
"RTN","ONCNTX1",50,0)
 W !,"PROTOCOL PARTICIPATION........: "_ONC(165.5,DA,560,"E")
"RTN","ONCNTX1",51,0)
 W !,"YEAR PUT ON PROTOCOL..........: "_ONC(165.5,DA,133,"E")
"RTN","ONCNTX1",52,0)
 K ONC Q
"RTN","ONCNTX1",53,0)
EXIT W ! S Y="@346"
"RTN","ONCNTX1",54,0)
 Q
"RTN","ONCOAIF")
0^37^B17267344
"RTN","ONCOAIF",1,0)
ONCOAIF ;WASH ISC/SRR,MLH-POST FOLLOW-UP:EXTENDED DATA SET ;7/20/93  10:11
"RTN","ONCOAIF",2,0)
 ;;2.11;ONCOLOGY;**11,15,16**;Mar 07, 1995
"RTN","ONCOAIF",3,0)
 ;
"RTN","ONCOAIF",4,0)
BEG ;begin
"RTN","ONCOAIF",5,0)
 W @IOF,!!!?10,"******************* POST/EDIT FOLLOW-UP *******************",!!
"RTN","ONCOAIF",6,0)
 W:$D(ONCONM) ?10,"for patient "_ONCONM I $D(AB) W !! Q
"RTN","ONCOAIF",7,0)
 W:'$D(AB)&$D(ONCONM) ?45,"OR Select another Patient",!!
"RTN","ONCOAIF",8,0)
 Q
"RTN","ONCOAIF",9,0)
PAT ;SELECT PATIENT
"RTN","ONCOAIF",10,0)
 D KIL,SET,BEG S DIC("A")=" Post/Edit Follow-up for Patient: ",DIC="^ONCO(160,",DIC(0)="AEMQZ" D ^DIC K DIC G EX:Y<0!'$T S (ONCOD0,DA,D0)=+Y,ONCONM=Y(0,0) W !! D SDD^ONCOCOM,LST^ONCODLF G DIE
"RTN","ONCOAIF",11,0)
 ;
"RTN","ONCOAIF",12,0)
LST ;Abstract Follow-up baseline information-date last contact
"RTN","ONCOAIF",13,0)
 W @IOF,!!!?15,"***************DATE of LAST CONTACT***************",!! W ?15,"for ",ONCONM W:$D(XDD) ?40,"Date of Discharge: ",XDD,!!
"RTN","ONCOAIF",14,0)
 Q
"RTN","ONCOAIF",15,0)
EN ;entry point for follow-up for DA defined
"RTN","ONCOAIF",16,0)
 D SET K XR S XDT=$S('$D(ONCOD0P):"",1:$P($G(^ONCO(165.5,ONCOD0P,0)),U,9)) I XDT="" D LST G DIE
"RTN","ONCOAIF",17,0)
 D DD S F=$P($G(^ONCO(160,ONCOD0,"F",0)),U,4) I F<1 D DLC,LST S F=1 G DIE
"RTN","ONCOAIF",18,0)
RF S D0=ONCOD0 W !! K DXS,DIOT D BEG,^ONCOXPU W !! D LST^ONCODLF G DIE
"RTN","ONCOAIF",19,0)
DIE K DXS S ONCOSTAT=1,DA=ONCOD0,DR="[ONCO FOLLOWUP]",DIE="^ONCO(160,",FG=0 W !! D ^DIE I 'FG S ONCOVS="" G UPOUT
"RTN","ONCOAIF",20,0)
 ;
"RTN","ONCOAIF",21,0)
UPDAT ;
"RTN","ONCOAIF",22,0)
 S D0=ONCOD0 K DXS,DIOT D TS^ONCOCOF,LST^ONCODLF,UPD^ONCOCRF W !!,?10,"**********Following fields have been updated********",!!! K DXS,DIOT D ^ONCOXPU W !! D SDD^ONCOCOM
"RTN","ONCOAIF",23,0)
C K DIR S DIR("A")="   DATA OK",DIR("B")="Yes",DIR(0)="Y" W !! D ^DIR Q:Y="^"!(Y="")  G DIE:'Y I ONCOVS G PAT:'$D(REC),REC
"RTN","ONCOAIF",24,0)
 D DEAD^ONCOFDP Q:$D(ONCOAI)  G REC:$D(REC) D KIL K ONCONM S ONCOD=1 G PAT:'$D(QA) Q
"RTN","ONCOAIF",25,0)
 ;
"RTN","ONCOAIF",26,0)
UPOUT ;UPARROW out-check before deleting
"RTN","ONCOAIF",27,0)
 Q:'$D(ONCOD1)  Q:'$D(^ONCO(160,ONCOD0,"F",ONCOD1,0))  Q:$P(^(0),U,8)=1  D DEL
"RTN","ONCOAIF",28,0)
 Q
"RTN","ONCOAIF",29,0)
DEL ;delete entry
"RTN","ONCOAIF",30,0)
 S DA(1)=ONCOD0,DA=ONCOD1,DIK="^ONCO(160,"_DA(1)_",""F""," D ^DIK S ONCOVS=""
"RTN","ONCOAIF",31,0)
 W:$D(^ONCO(160,ONCOD0,"F",ONCOD1,0)) "*",$P(^(0),U,8) W !!,?10,"*********************ENTRY DELETED*************************",!!,?10,"you have not entered ALL required information to complete entry",!!
"RTN","ONCOAIF",32,0)
 W ?10,"(Last Tumor Status(es) have been reset for this patient's primary site(s).)",!!
"RTN","ONCOAIF",33,0)
 H 1
"RTN","ONCOAIF",34,0)
 Q
"RTN","ONCOAIF",35,0)
SET ;setup for variables needed
"RTN","ONCOAIF",36,0)
 K F,DIC,DO,ONCOD1,LC,VS,NF,XDT,XDD Q
"RTN","ONCOAIF",37,0)
REC ;RECURRENCE FOLLOW-UP OPTION
"RTN","ONCOAIF",38,0)
 D SET S XR=1 W @IOF,!!!?15,"@@@@@@@@@@@@@@@ RECURRENCE FOLLOW UP @@@@@@@@@@@@@@@@@",!!
"RTN","ONCOAIF",39,0)
 S DIC("A")="     Select Patient (for Recurrence): ",DIC(0)="AEQMZ",DIC="^ONCO(160," D ^DIC K DIC G EX:Y<0!'$T S (D0,ONCOD0)=+Y,ONCONM=Y(0,0) K DXS,DIOT D ^ONCOXPI
"RTN","ONCOAIF",40,0)
LI ;LIST PRIMARIES
"RTN","ONCOAIF",41,0)
 I '$D(^ONCO(165.5,"C",ONCOD0)) W *7,!!!?25,"NO PRIMARIES" G REC
"RTN","ONCOAIF",42,0)
 W !!?5,ONCONM_" has the following site/gps entered:",!! D SDD^ONCOCOM
"RTN","ONCOAIF",43,0)
DIER K DIC W !!?10,"SELECT Primary Site/Gp for Recurrence: ",!!
"RTN","ONCOAIF",44,0)
 S D="C",DIC="^ONCO(165.5,",X=ONCOD0,DIC(0)="EZ" D IX^DIC G:Y<0 PAT
"RTN","ONCOAIF",45,0)
 I Y'=" " S (ONCOD0P,DA)=+Y,DR="[ONCO RECURRENCE FOLLOWUP]",DIE="^ONCO(165.5,",DATEDX=$P(^ONCO(165.5,DA,0),U,16),TX=$P($G(^ONCO(165.5,DA,2)),U,1) D ^DIE S AB=2,ONCOD0P=D0 G EN
"RTN","ONCOAIF",46,0)
 ;
"RTN","ONCOAIF",47,0)
RE ;Recurrence
"RTN","ONCOAIF",48,0)
 W @IOF,!!!?20,"************** RECURRENCE ************",!!!
"RTN","ONCOAIF",49,0)
 Q
"RTN","ONCOAIF",50,0)
 ;
"RTN","ONCOAIF",51,0)
STX ;Subsequent Course of Therapy
"RTN","ONCOAIF",52,0)
 W !!!?15,"********** SUBSEQUENT COURSE of TREATMENT ***********",!!
"RTN","ONCOAIF",53,0)
 Q
"RTN","ONCOAIF",54,0)
KIL ;kill variables at exit
"RTN","ONCOAIF",55,0)
 K ONCOSTAT,XR,ED0,DA,DIC,DIE,DIK,DIOT,DIR,DO,DR,DQ,DXS,F,FDOC,FG,FS
"RTN","ONCOAIF",56,0)
 K ONCOD1,ONCOLC,TM,TS,CS,K,I,XY,XX,XDA,XD1,XD0,LC,ONCONF,ONCOVS,REC,AB
"RTN","ONCOAIF",57,0)
 K DATEDX
"RTN","ONCOAIF",58,0)
 Q
"RTN","ONCOAIF",59,0)
EX ;EXIT
"RTN","ONCOAIF",60,0)
 D KIL Q
"RTN","ONCOAIF",61,0)
DD ;DATE format
"RTN","ONCOAIF",62,0)
 S XDD=$E(XDT,4,5)_"/"_$E(XDT,6,7)_"/"_($E(XDT,1,3)+1700) Q
"RTN","ONCOAIF",63,0)
DLC ;create entry in follow-up multiple
"RTN","ONCOAIF",64,0)
 K DA S DA(1)=ONCOD0,DIC="^ONCO(160,"_DA(1)_","_"""F"""_",",DLAYGO=160,X=XDT,DIC(0)="ZL" I '$D(^ONCO(160,DA(1),"F")) S ^ONCO(160,DA(1),"F",0)="^160.04DAI^^"
"RTN","ONCOAIF",65,0)
 D FILE^DICN S ONCOLC=XDT,DIE=DIC,DR="1////1;2////2;" D ^DIE W "*"
"RTN","ONCOAIF",66,0)
 K DA,DIC,DLAYGO,DIE
"RTN","ONCOAIF",67,0)
 Q
"RTN","ONCOAIP")
0^15^B52453013
"RTN","ONCOAIP",1,0)
ONCOAIP ;HINES IRMFO/GWB,RTK-ONCO ABSTRACT-I  2/5/96  10:33
"RTN","ONCOAIP",2,0)
 ;;2.11;ONCOLOGY;**1,5,6,7,11,13,15,16**;Mar 07, 1995
"RTN","ONCOAIP",3,0)
ED ;Entry Edit Primary-call from ONCOAI
"RTN","ONCOAIP",4,0)
 W @IOF,!!!?10,"***************** Edit Primary ****************",!!!
"RTN","ONCOAIP",5,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQZM",DIC("A")="      Select Accession/Sequence# (or Patient name): " D ^DIC K DIC G EX:Y<0 S ONCOD0P=+Y,ONCOD0=$P(^ONCO(165.5,+Y,0),U,2),ONCOEDIT=1
"RTN","ONCOAIP",6,0)
EN ;ENTRY from ONCOAI:New primary, Add data
"RTN","ONCOAIP",7,0)
 I '$D(^ONCO(160.1,"AJ")) W *7,!!?10,"Define YEAR for AJCC 4th Edition in Site Parameters File" G EX
"RTN","ONCOAIP",8,0)
 D YR^ONCOTN(ONCOD0P) ;get diagnosis year, etc.
"RTN","ONCOAIP",9,0)
 S DIE="^ONCO(165.5,",DA=ONCOD0P,DR="[ONCO ABSTRACT-I]",ONCOL1=0
"RTN","ONCOAIP",10,0)
 L +^ONCO(165.5,DA):0 I $T D ^DIE L -^ONCO(165.5,DA) S ONCOL1=1
"RTN","ONCOAIP",11,0)
 I 'ONCOL1 W !,"Primary being edited by another user" Q:'$D(ONCOEDIT)  K ONCOL1 G ED
"RTN","ONCOAIP",12,0)
 K ONCOL1,LYMPHOMA
"RTN","ONCOAIP",13,0)
 I $D(ONCOOUT) Q
"RTN","ONCOAIP",14,0)
 I $D(Y) Q:'$D(ONCOEDIT)  G ED
"RTN","ONCOAIP",15,0)
 S Y=$P(^ONCO(165.5,D0,0),U,4) I Y<3!(Y=5)!(Y=8) K DIR S DIR("A")="Data OK",DIR(0)="Y" D ^DIR G EN:Y=0
"RTN","ONCOAIP",16,0)
 Q
"RTN","ONCOAIP",17,0)
PAIR ;PAIRED ORGAN TEST
"RTN","ONCOAIP",18,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOAIP",19,0)
 Q:TOP=""
"RTN","ONCOAIP",20,0)
 S PO=$P($G(^ONCO(164,TOP,0)),U,7)
"RTN","ONCOAIP",21,0)
 I PO="" S $P(^ONCO(165.5,D0,2),U,8)=0
"RTN","ONCOAIP",22,0)
 K PO
"RTN","ONCOAIP",23,0)
 Q
"RTN","ONCOAIP",24,0)
MEN ;Primary File Sub-Menu
"RTN","ONCOAIP",25,0)
SUB K DXS,ONCOOUT,DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCOAIP",26,0)
 S NODE0=^ONCO(165.5,D0,0)
"RTN","ONCOAIP",27,0)
 S S=$P(NODE0,U,1),SITEGP=$P(^ONCO(164.2,S,0),U,1)
"RTN","ONCOAIP",28,0)
 S Y=$P(NODE0,U,2),C=$P(^DD(165.5,.02,0),U,2) D Y^DIQ S PATNAM=Y
"RTN","ONCOAIP",29,0)
 S SAVED0=D0 S D0=$P(NODE0,U,2) D SSN^ONCOES S SSN=X,D0=SAVED0
"RTN","ONCOAIP",30,0)
 S DATEDX=$P(NODE0,U,16)
"RTN","ONCOAIP",31,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD="",TOPNAM=""
"RTN","ONCOAIP",32,0)
 I TOP'="" S TOPNAM=$P(^ONCO(164,TOP,0),U,1),TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOAIP",33,0)
 S SITTAB=79-$L(SITEGP),TOPTAB=79-$L(TOPNAM_" "_TOPCOD)
"RTN","ONCOAIP",34,0)
 S NOS=TOPTAB-$L(PATNAM),NOS=NOS-1 K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOAIP",35,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCOAIP",36,0)
 S HDL=$L("Primary Sub-menu Options"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",37,0)
 W !,?TAB,"Primary Sub-menu Options",!,DASHES
"RTN","ONCOAIP",38,0)
 W !?20,"1.  Patient Identification"
"RTN","ONCOAIP",39,0)
 W !?20,"2.  Cancer Identification"
"RTN","ONCOAIP",40,0)
 W !?20,"3.  Stage of Disease at Diagnosis"
"RTN","ONCOAIP",41,0)
 W !?20,"4.  First Course of Treatment"
"RTN","ONCOAIP",42,0)
 W !?20,"5.  Patient Care Evaluation"
"RTN","ONCOAIP",43,0)
 W !!?20,"A   All - Complete Abstract"
"RTN","ONCOAIP",44,0)
A K AN,ONCOANS,X,Y R !!?26,"Enter option: All//",X:DTIME S:X="" (ONCOANS,X)="A" G:X["?" HP I X=U!'$T S Y="",ONCOOUT=U Q
"RTN","ONCOAIP",45,0)
 I X?1.A S X=$E(X),ONCOANS=X,Y=$S("Aa"[X:1,1:"") G:'(Y="") Y W *7,"??" G A
"RTN","ONCOAIP",46,0)
N ;# answer
"RTN","ONCOAIP",47,0)
 S (ONCOANS,Y)=X I X<1!(X>5) W *7,"??" G A
"RTN","ONCOAIP",48,0)
Y S Y="@"_Y Q
"RTN","ONCOAIP",49,0)
HP ;HELP message
"RTN","ONCOAIP",50,0)
 W !!,?10,"Select 'A' for the complete abstract"
"RTN","ONCOAIP",51,0)
 W !?10,"Select the appropriate number (1-5) for the desired subsection",! G A
"RTN","ONCOAIP",52,0)
PAT S HDL=$L("Patient Identification"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",53,0)
 W @IOF,DASHES,!,?1,PATNAM,?TAB,"Patient Identification",?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCOAIP",54,0)
 S OSPIEN=$O(^ONCO(160.1,0)),IIN=""
"RTN","ONCOAIP",55,0)
 I $D(^ONCO(160.1,OSPIEN,1)) S IIN=$P(^ONCO(160.1,OSPIEN,1),U,4)
"RTN","ONCOAIP",56,0)
 S YSAV=Y S Y=IIN,C=$P(^DD(165.5,.03,0),U,2) D Y^DIQ S RH=Y,Y=YSAV
"RTN","ONCOAIP",57,0)
 K OSPIEN
"RTN","ONCOAIP",58,0)
 K DXS,DIOT D ^ONCOY51 W !
"RTN","ONCOAIP",59,0)
 Q
"RTN","ONCOAIP",60,0)
CAN S HDL=$L("Cancer Identification"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",61,0)
 W @IOF,DASHES,!,?1,PATNAM,?TAB,"Cancer Identification",?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCOAIP",62,0)
 D PAIR
"RTN","ONCOAIP",63,0)
 ;K DXS,DIOT S D0=ONCOD0P D ^ONCOY52 W !
"RTN","ONCOAIP",64,0)
 K DXS,DIOT S D0=ONCOD0P D ^ONCPCI
"RTN","ONCOAIP",65,0)
 Q
"RTN","ONCOAIP",66,0)
EXT S HDL=$L("Stage of Disease at Diagnosis"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",67,0)
 W @IOF,DASHES,!,?1,PATNAM,?TAB,"Stage of Disease at Diagnosis",?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCOAIP",68,0)
 ;S=site group;T=ICDO Topography;H=Histology
"RTN","ONCOAIP",69,0)
2 S SY="@3105",S=$P(^ONCO(165.5,D0,0),U,1),N2=$G(^(2)),T=$P(N2,U,1)
"RTN","ONCOAIP",70,0)
 I T="" S Y="@310" W *7,?15,"ICDO CODE is NOT defined - CANNOT continue",!! Q
"RTN","ONCOAIP",71,0)
 S H=$P(N2,U,3)
"RTN","ONCOAIP",72,0)
 I (($E(H,1,3)>958)&($E(H,1,3)<972))!(S=62) S LYMPHOMA=1 G 1
"RTN","ONCOAIP",73,0)
3 I (S=35)!($$LEUKEMIA^ONCOAIP2(D0))!((S>64)&(S<71)) D
"RTN","ONCOAIP",74,0)
 .S M=$E($P(N2,U,3),1,4) ;histology code
"RTN","ONCOAIP",75,0)
 .S N=$S(M=9731:"999^10^9",1:"999^80^9") ;PLASMACYTOMA NOS
"RTN","ONCOAIP",76,0)
 .I S=65 S N="999^99^9" ;Unknown primary
"RTN","ONCOAIP",77,0)
 .S N=$S(S=65:N_"^99^99^9^0^0^9",1:N_"^99^99^9^0^0^7") ;Unknown primary
"RTN","ONCOAIP",78,0)
 .I (T=67422)&(L'=1)&(H'=91403) S $P(N,U,2)=99,$P(N,U,9)=9 ;Spleen
"RTN","ONCOAIP",79,0)
 .S $P(^ONCO(165.5,D0,2),U,9,17)=N
"RTN","ONCOAIP",80,0)
 .S $P(^ONCO(165.5,D0,2),U,20)=88
"RTN","ONCOAIP",81,0)
 .S $P(^ONCO(165.5,D0,2),U,25)=88
"RTN","ONCOAIP",82,0)
 .S $P(^ONCO(165.5,D0,2),U,26)=88
"RTN","ONCOAIP",83,0)
 .S $P(^ONCO(165.5,D0,2),U,27)=88
"RTN","ONCOAIP",84,0)
 .S $P(^ONCO(165.5,D0,2),U,28)="NA"
"RTN","ONCOAIP",85,0)
 .S $P(^ONCO(165.5,D0,2.1),U,1)=88
"RTN","ONCOAIP",86,0)
 .S $P(^ONCO(165.5,D0,2.1),U,2)=88
"RTN","ONCOAIP",87,0)
 .S $P(^ONCO(165.5,D0,2.1),U,3)=88
"RTN","ONCOAIP",88,0)
 .S $P(^ONCO(165.5,D0,2.1),U,4)=88
"RTN","ONCOAIP",89,0)
 .S $P(^ONCO(165.5,D0,2.1),U,5)=0
"RTN","ONCOAIP",90,0)
 .S $P(^ONCO(165.5,D0,3),U,32)=0
"RTN","ONCOAIP",91,0)
 .S SY=39
"RTN","ONCOAIP",92,0)
 .W:$P(N,U,2)'=99 !?18,"====> SYSTEMIC DISEASE - No AJCC coding <===="
"RTN","ONCOAIP",93,0)
1 I S=58 S $P(^ONCO(165.5,D0,2),U,11,13)="9^99^99"
"RTN","ONCOAIP",94,0)
 ;K DXS,DIOT S D0=ONCOD0P D ^ONCOY53
"RTN","ONCOAIP",95,0)
 K DXS,DIOT S D0=ONCOD0P D ^ONCPSD
"RTN","ONCOAIP",96,0)
 S Y=SY K DXS
"RTN","ONCOAIP",97,0)
 Q
"RTN","ONCOAIP",98,0)
MO ;check
"RTN","ONCOAIP",99,0)
 S S=$P(^ONCO(165.5,D0,0),U),M=$E($P($G(^(2)),U,3),1,4) S Y=$S(S=62:30,S=63:30,S=40:30,M=9140:41,1:29) Q:Y=29  S $P(^ONCO(165.5,D0,2),U,9)=999
"RTN","ONCOAIP",100,0)
 Q
"RTN","ONCOAIP",101,0)
LN ;check brain
"RTN","ONCOAIP",102,0)
 S S=$P(^ONCO(165.5,D0,0),U) S Y=$S(S=58:34,1:31)
"RTN","ONCOAIP",103,0)
 Q
"RTN","ONCOAIP",104,0)
 K DXS
"RTN","ONCOAIP",105,0)
FST S HDL=$L("First Course of Treatment"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",106,0)
 W @IOF,DASHES,!,?1,PATNAM,?TAB,"First Course of Treatment",?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCOAIP",107,0)
 ;K DXS,DIOT S D0=ONCOD0P D ^ONCOY54
"RTN","ONCOAIP",108,0)
 K DXS,DIOT S D0=ONCOD0P D ^ONCPTX
"RTN","ONCOAIP",109,0)
 Q
"RTN","ONCOAIP",110,0)
NTX ;DATE OF NO TREATMENT
"RTN","ONCOAIP",111,0)
 I '$D(NTDD) S Y="@346" Q
"RTN","ONCOAIP",112,0)
 K NTDD
"RTN","ONCOAIP",113,0)
 W !!?5,"You have entered a DATE OF NO TREATMENT.  All treatment fields"
"RTN","ONCOAIP",114,0)
 W !?5,"will be stuffed with the appropriate value indicating no treatment.",!
"RTN","ONCOAIP",115,0)
 S DIR("A")="Are you sure you want to do this",DIR("B")="No"
"RTN","ONCOAIP",116,0)
 S DIR(0)="Y" D ^DIR
"RTN","ONCOAIP",117,0)
 I (Y=0)!(Y="") D  S Y=124 W ! Q
"RTN","ONCOAIP",118,0)
 .S TXDT=$P(^ONCO(165.5,D0,2.1),U,11)_"N"
"RTN","ONCOAIP",119,0)
 .K ^ONCO(165.5,"ATX",D0,TXDT)
"RTN","ONCOAIP",120,0)
 .S $P(^ONCO(165.5,D0,2.1),U,11)=""
"RTN","ONCOAIP",121,0)
 I Y["^" S $P(^ONCO(165.5,D0,2.1),U,11)="",Y="@0" Q
"RTN","ONCOAIP",122,0)
 D NTX^ONCNTX
"RTN","ONCOAIP",123,0)
 Q
"RTN","ONCOAIP",124,0)
CNS ;Radiation Therapy to CNS
"RTN","ONCOAIP",125,0)
 S X=9,CC="",S=$P(^ONCO(165.5,D0,0),U,1)    ;SITE/GP
"RTN","ONCOAIP",126,0)
 I (S=31)!(S=35)!($$LEUKEMIA^ONCOAIP2(D0))!((S>65)&(S<70)) S CC=$P(^(0),U,4),X=$S(CC=5:0,CC=8:9,1:"") I X="" S Y="@5221" Q
"RTN","ONCOAIP",127,0)
 S $P(^ONCO(165.5,D0,3),U,10)=X       ;RADIATION THERAPY TO CNS
"RTN","ONCOAIP",128,0)
 I CC=8 D  S Y="@532" Q
"RTN","ONCOAIP",129,0)
 .S TXDT=$P(^ONCO(165.5,DA,3),U,8)_"P"
"RTN","ONCOAIP",130,0)
 .K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCOAIP",131,0)
 .S $P(^ONCO(165.5,D0,3),U,8)=9999999 ;RADIATION THERAPY TO CNS DATE
"RTN","ONCOAIP",132,0)
 .S ^ONCO(165.5,"ATX",DA,"9999999P")=""
"RTN","ONCOAIP",133,0)
 .W !!,"RADIATION THERAPY TO CNS: Unknown/NA"
"RTN","ONCOAIP",134,0)
 .W !,"RADIATION THERAPY TO CNS DATE: 99/99/9999"
"RTN","ONCOAIP",135,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,8)_"P"
"RTN","ONCOAIP",136,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCOAIP",137,0)
 S $P(^ONCO(165.5,D0,3),U,8)="0000000" ;RADIATION THERAPY TO CNS DATE
"RTN","ONCOAIP",138,0)
 S ^ONCO(165.5,"ATX",DA,"0000000P")=""
"RTN","ONCOAIP",139,0)
 W !!,"RADIATION THERAPY TO CNS: No radiation to CNS"
"RTN","ONCOAIP",140,0)
 W !,"RADIATION THERAPY TO CNS DATE: 00/00/0000"
"RTN","ONCOAIP",141,0)
 S Y="@532"
"RTN","ONCOAIP",142,0)
 Q
"RTN","ONCOAIP",143,0)
RS ;Radiation/Surgery Sequence
"RTN","ONCOAIP",144,0)
 I ($G(SR)&$G(R)) D
"RTN","ONCOAIP",145,0)
 .S SURDT=$P($G(^ONCO(165.5,D0,3)),U,1)
"RTN","ONCOAIP",146,0)
 .S RADDT=$P($G(^ONCO(165.5,D0,3)),U,4)
"RTN","ONCOAIP",147,0)
 .I RADDT<SURDT S $P(^ONCO(165.5,D0,3),U,7)=2
"RTN","ONCOAIP",148,0)
 .I RADDT>SURDT S $P(^ONCO(165.5,D0,3),U,7)=3
"RTN","ONCOAIP",149,0)
 .K SURDT,RADDT
"RTN","ONCOAIP",150,0)
 E  D
"RTN","ONCOAIP",151,0)
 .S $P(^ONCO(165.5,D0,3),U,7)=0
"RTN","ONCOAIP",152,0)
 Q
"RTN","ONCOAIP",153,0)
C ;K DXS,DIOT S D0=ONCOD0P D ^ONCOY55 W !
"RTN","ONCOAIP",154,0)
AB S HDL=$L("Abstract Status"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",155,0)
 W @IOF,DASHES,!,?1,PATNAM,?TAB,"Abstract Status",?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCOAIP",156,0)
DD S X=$E(DT,4,5)_"/"_$E(DT,6,7)_"/"_($E(DT,1,3)+1700)
"RTN","ONCOAIP",157,0)
 W !!,"Abstracted by: "_$P(^VA(200,DUZ,0),U),!,"Reporting date: ",X,!
"RTN","ONCOAIP",158,0)
 N DIR,Y S DIR(0)="E" D ^DIR
"RTN","ONCOAIP",159,0)
 Q
"RTN","ONCOAIP",160,0)
NAN ;NEW ACCESSION #
"RTN","ONCOAIP",161,0)
 K DIR S DIR(0)="N^:"_($E(DT,1,3)+1700),DIR("A")="YEAR of Accession Number: ",DIR("B")=($E(DT,1,3)+1700) W !! D ^DIR Q:(Y=U)!(Y="")
"RTN","ONCOAIP",162,0)
NA S YR=Y,MR=YR_"0001",XR=999999-((YR+1)_"0000"),NR=$O(^ONCO(165.5,"AF",XR))
"RTN","ONCOAIP",163,0)
 I NR<(990002-MR) W *7,!!?5,"SYSTEM appears out of numbers-looking for unassigned ones" G FND
"RTN","ONCOAIP",164,0)
 I NR>(999999-MR) S NR=""
"RTN","ONCOAIP",165,0)
 S AC=$S(NR="":YR_"0001",1:(1000000-NR)),SEQ="00"
"RTN","ONCOAIP",166,0)
 Q
"RTN","ONCOAIP",167,0)
FND ;SEARCH for unused accession #s
"RTN","ONCOAIP",168,0)
 S NR=YR_"0000",MR=(YR+1)_"0000"
"RTN","ONCOAIP",169,0)
NR S NR=NR+1 I NR<MR G:$D(^ONCO(165.5,"AA",NR)) NR S AC=NR,SEQ="00" Q
"RTN","ONCOAIP",170,0)
 W *7,!!?10,"OUT of ACCESSION Numbers for 19"_YR S Y=U Q
"RTN","ONCOAIP",171,0)
EX ;KILL VARIABLES
"RTN","ONCOAIP",172,0)
K D KILL^ONCOAI K ONCOEDIT
"RTN","ONCOAIP",173,0)
 Q
"RTN","ONCOANCQ")
0^16^B24352851
"RTN","ONCOANCQ",1,0)
ONCOANCQ ;WASH ISC/MLH-ACOS DATA TAPE ANCILLARY FOR QUEUE UP ;7/20/93  10:39
"RTN","ONCOANCQ",2,0)
 ;;2.11;ONCOLOGY;**1,16**;Mar 07, 1995
"RTN","ONCOANCQ",3,0)
 ;
"RTN","ONCOANCQ",4,0)
 S AASTYPNC="A"
"RTN","ONCOANCQ",5,0)
LINE N AASAY ;    year to gather for
"RTN","ONCOANCQ",6,0)
 N READY ;    our UNTIL-condition variable
"RTN","ONCOANCQ",7,0)
 FOR  D  Q:READY  ;    ask over and over again UNTIL ok or bailout
"RTN","ONCOANCQ",8,0)
 .  S READY=0 ;    initialize UNTIL condition
"RTN","ONCOANCQ",9,0)
 .  I '$$SITEPAR^ONCOU("ERRMSG") S READY=-1 ;    if no site parameters on file, notify user and bail out
"RTN","ONCOANCQ",10,0)
 .  E  I '$$GETDATA S READY=-1 ;    get data - did user bail out?  yes, note in UNTIL-condition
"RTN","ONCOANCQ",11,0)
 .  E  S READY=$$DEFOK ;    no, make sure definitions are OK
"RTN","ONCOANCQ",12,0)
 .  I 'READY W !!!?10,"OK, restarting from the beginning...",!!!
"RTN","ONCOANCQ",13,0)
 .  Q
"RTN","ONCOANCQ",14,0)
 ;END FOR
"RTN","ONCOANCQ",15,0)
 ;
"RTN","ONCOANCQ",16,0)
 I READY>0 D ^ONCOANC0 ;    A-OK, proceed
"RTN","ONCOANCQ",17,0)
 QUIT  ;    we bailed out
"RTN","ONCOANCQ",18,0)
 ;
"RTN","ONCOANCQ",19,0)
GETDATA() ;    main data-gathering loop
"RTN","ONCOANCQ",20,0)
 N ALLOK ;    bailout flag
"RTN","ONCOANCQ",21,0)
 S ALLOK=$$SHOINST ;    display instructions
"RTN","ONCOANCQ",22,0)
 I ALLOK S AASAY=0,ALLOK=$$GETYEAR(.AASAY) ;    get accession year
"RTN","ONCOANCQ",23,0)
 I ALLOK D STATE S:'$D(BYR("B")) BYR("B")=(200+EYR)_"0000" S:'$D(BYR("E")) BYR("E")=(201+EYR)_"0000"
"RTN","ONCOANCQ",24,0)
 I ALLOK S AASDXH=0,ALLOK=$$GETDXH(.AASDXH) ;    get ACoS hosp number
"RTN","ONCOANCQ",25,0)
 Q ALLOK
"RTN","ONCOANCQ",26,0)
 ;
"RTN","ONCOANCQ",27,0)
SHOINST() ;    display instructions
"RTN","ONCOANCQ",28,0)
 N OKSHO,OKHERE S OKHERE=1 ;    assume the best
"RTN","ONCOANCQ",29,0)
 S OKSHO=$$ASKY^ONCOU("    DISPLAY/PRINT on-line instructions for Help")
"RTN","ONCOANCQ",30,0)
 I $D(DIRUT)!$D(DIROUT) S OKHERE=0 ;    they bailed out
"RTN","ONCOANCQ",31,0)
 E  I OKSHO,'($D(ONCOREP)!$D(ONCOREQ)) S OKHERE=$$SHOWEM ;    display the instructions
"RTN","ONCOANCQ",32,0)
    E  I OKSHO,($D(ONCOREP)!$D(ONCOREQ)) D TEMPHLP
"RTN","ONCOANCQ",33,0)
 Q OKHERE
"RTN","ONCOANCQ",34,0)
 ;
"RTN","ONCOANCQ",35,0)
TEMPHLP N X,DIWL,DIWR,DIWF
"RTN","ONCOANCQ",36,0)
 S DIWL=10,DIWR=70,DIWF="W"
"RTN","ONCOANCQ",37,0)
 W !!
"RTN","ONCOANCQ",38,0)
 I $D(ONCOREQ) D
"RTN","ONCOANCQ",39,0)
 .S X="This report displays incomplete records for data to be transmitted to the ACOS, for a time period specified.  The report does not specify exactly where in the database to fix problems.  It is intended only as an aid."
"RTN","ONCOANCQ",40,0)
 E  D
"RTN","ONCOANCQ",41,0)
 .S X="This report will display what will be transmitted on the ACOS disk.  It is intended as an aid in correcting and validating the ACOS data.  There is no extensive help for this report at this time."
"RTN","ONCOANCQ",42,0)
 D ^DIWP,^DIWW W !
"RTN","ONCOANCQ",43,0)
 Q
"RTN","ONCOANCQ",44,0)
SHOWEM() ;    main body of instruction display
"RTN","ONCOANCQ",45,0)
 N OKHERE
"RTN","ONCOANCQ",46,0)
 W !! S DIC="^ONCO(160.2,",L=0,DHD="@"
"RTN","ONCOANCQ",47,0)
 I AASTYPNC="A" S BY="[ONCO ACOS DOCUMENTATION]",DA=4
"RTN","ONCOANCQ",48,0)
 I AASTYPNC="I" S FLDS="1",FR="PRIMARY ACOS INFO (850)",TO="STATE REPORTING ACOS INFOA",BY="@.01"
"RTN","ONCOANCQ",49,0)
 D EN1^DIP
"RTN","ONCOANCQ",50,0)
 S OKHERE=($D(DTOUT)+$D(DUOUT)=0)
"RTN","ONCOANCQ",51,0)
 I 'OKHERE S OKHERE=$$ASKY^ONCOU("Continue")
"RTN","ONCOANCQ",52,0)
 Q OKHERE
"RTN","ONCOANCQ",53,0)
 ;
"RTN","ONCOANCQ",54,0)
GETYEAR(YR) ;    get the year to return
"RTN","ONCOANCQ",55,0)
 N OKHERE
"RTN","ONCOANCQ",56,0)
 S BYR=1980,EYR=(1700+$E(DT,1,3))-1 ;            Why restrict the year?
"RTN","ONCOANCQ",57,0)
 S:AASTYPNC'="A" YR=$$ASKNUM^ONCOU("    Select YEAR for ACOS Call for Data",BYR_":"_BYR+20,EYR)
"RTN","ONCOANCQ",58,0)
 I AASTYPNC="A" S YR=$$ASKNUM^ONCOU("    Select Accession Year",BYR_":"_BYR+20,EYR)
"RTN","ONCOANCQ",59,0)
 S OKHERE=($D(DTOUT)+$D(DUOUT)=0)
"RTN","ONCOANCQ",60,0)
 Q OKHERE
"RTN","ONCOANCQ",61,0)
 ;
"RTN","ONCOANCQ",62,0)
GETDXH(DXH) ;    get the ACoS hospital number
"RTN","ONCOANCQ",63,0)
 N OKHERE
"RTN","ONCOANCQ",64,0)
 S DIE=160.1,DA=$O(^ONCO(160.1,0)),DR=27_$J("",20)_"ACOS Number",ONCOL=0
"RTN","ONCOANCQ",65,0)
 L +^ONCO(160.1,DA):0 I $T D ^DIE L -^ONCO(160.1,DA) S ONCOL=1
"RTN","ONCOANCQ",66,0)
 I 'ONCOL W !,"The Site paramaters file record is being edited by another user."
"RTN","ONCOANCQ",67,0)
 K ONCOL
"RTN","ONCOANCQ",68,0)
 K DIE S DXH=X
"RTN","ONCOANCQ",69,0)
 S OKHERE=($D(Y)=0) ;    Y is defined if user answered all prompts
"RTN","ONCOANCQ",70,0)
 Q OKHERE
"RTN","ONCOANCQ",71,0)
 ;
"RTN","ONCOANCQ",72,0)
DEFOK() ;    confirm definitions
"RTN","ONCOANCQ",73,0)
 N OKHERE
"RTN","ONCOANCQ",74,0)
 S AC=$G(^ONCO(160.1,"AC"))
"RTN","ONCOANCQ",75,0)
 W !!!?20,"ACOS Number is ",$S(AC'="":AC,1:"NOT defined in Site Parameters File") S:AC'="" AASDXH=AC
"RTN","ONCOANCQ",76,0)
 W:AASTYPNC="I" !?20,"Year for ACOS data is ",AASAY
"RTN","ONCOANCQ",77,0)
 I AASTYPNC="A" W !?20,"Accession Year for State data is ",AASAY,!?20,"Abstract Completed Date, Start is ",BYR("BY"),!?20,"Abstract Completed Date, End is ",BYR("BE")
"RTN","ONCOANCQ",78,0)
 W ! S OKHERE=$$ASKY^ONCOU("     Definitions OK")
"RTN","ONCOANCQ",79,0)
 Q OKHERE
"RTN","ONCOANCQ",80,0)
REPORT ;Set variable for report to run instead of tape
"RTN","ONCOANCQ",81,0)
 N ONCOREP
"RTN","ONCOANCQ",82,0)
 S ONCOREP=1,AASTYPNC="I" D LINE^ONCOANCQ,CLEANUP^ONCOANC9 Q
"RTN","ONCOANCQ",83,0)
REQREP ;Set variable for required field report to run
"RTN","ONCOANCQ",84,0)
 N ONCOREQ
"RTN","ONCOANCQ",85,0)
 S ONCOREQ=1 D ^ONCOANCQ,CLEANUP^ONCOANC9 Q 
"RTN","ONCOANCQ",86,0)
STATE ;Identifies desired date range for state data collection disk
"RTN","ONCOANCQ",87,0)
 Q:AASTYPNC'="A"  I AASAY'>1 S ALLOK=0 Q
"RTN","ONCOANCQ",88,0)
 S DIR(0)="D",DIR("A")="      Abstract Completed Date, Start"
"RTN","ONCOANCQ",89,0)
 S DIR("B")="Jan 1, "_AASAY D ^DIR K DIR("B") I $D(DIRUT) S ALLOK=0 Q
"RTN","ONCOANCQ",90,0)
 S BYR("B")=Y X ^DD("DD") W "   ",Y S BYR("BY")=Y
"RTN","ONCOANCQ",91,0)
 S DIR("A")="      Abstract Completed Date, End",DIR("B")="Dec 31, "_AASAY
"RTN","ONCOANCQ",92,0)
 D ^DIR I $D(DIRUT) S ALLOK=0 Q
"RTN","ONCOANCQ",93,0)
 S BYR("E")=Y X ^DD("DD") W "   ",Y S BYR("BE")=Y
"RTN","ONCOANCQ",94,0)
 K DIR
"RTN","ONCOANCQ",95,0)
 Q
"RTN","ONCOCC")
0^17^B5609959
"RTN","ONCOCC",1,0)
ONCOCC ;HINES IRMFO/GWB CLASS OF CASE 5 OR 8  06/03/96
"RTN","ONCOCC",2,0)
 ;;2.11;ONCOLOGY;**5,13,16**;Mar 07, 1995
"RTN","ONCOCC",3,0)
COC58 ;If Class of Case = 5 or 8
"RTN","ONCOCC",4,0)
 S COC=X N X,Y,DK,DL,DM,DP,DQ,DI,DIEL,DOV,DIE,DR,DA
"RTN","ONCOCC",5,0)
 S $P(^ONCO(165.5,D0,3),U,27)="00",$P(^ONCO(165.5,D0,3),U,38)="00"
"RTN","ONCOCC",6,0)
 S $P(^ONCO(165.5,D0,3),U,28)=8
"RTN","ONCOCC",7,0)
 I COC=5 D
"RTN","ONCOCC",8,0)
 .F PIECE=6,10,13,16,25 S $P(^ONCO(165.5,D0,3),U,PIECE)=0
"RTN","ONCOCC",9,0)
 .S $P(^ONCO(165.5,D0,3),U,19)=0
"RTN","ONCOCC",10,0)
 .S REC=$O(^ONCO(160.4,"B",8,0)),$P(^ONCO(165.5,D0,3),U,33)=REC
"RTN","ONCOCC",11,0)
 .S SA=$O(^ONCO(160.6,"B",0,0)),$P(^ONCO(165.5,D0,3),U,34)=SA
"RTN","ONCOCC",12,0)
 .F FLD=50,51,52,53,54,55,57,58.3 S DIE="^ONCO(165.5,",DA=D0,DR=FLD_"////0000000" D ^DIE
"RTN","ONCOCC",13,0)
 .S $P(^ONCO(165.5,D0,3),U,26)=2
"RTN","ONCOCC",14,0)
 .S $P(^ONCO(165.5,D0,3),U,35)=2
"RTN","ONCOCC",15,0)
 .S $P(^ONCO(165.5,D0,3),U,36)=2
"RTN","ONCOCC",16,0)
 .S $P(^ONCO(165.5,D0,3),U,37)=2
"RTN","ONCOCC",17,0)
 I COC=8 D
"RTN","ONCOCC",18,0)
 .F PIECE=6,10,13,16,25 S $P(^ONCO(165.5,D0,3),U,PIECE)=9
"RTN","ONCOCC",19,0)
 .S $P(^ONCO(165.5,D0,3),U,19)=9
"RTN","ONCOCC",20,0)
 .S REC=$O(^ONCO(160.4,"B",9,0)),$P(^ONCO(165.5,D0,3),U,33)=REC
"RTN","ONCOCC",21,0)
 .S SA=$O(^ONCO(160.6,"B",9,0)),$P(^ONCO(165.5,D0,3),U,34)=SA
"RTN","ONCOCC",22,0)
 .F FLD=50,51,52,53,54,55,57,58.3 S DIE="^ONCO(165.5,",DA=D0,DR=FLD_"////9999999" D ^DIE
"RTN","ONCOCC",23,0)
 .S $P(^ONCO(165.5,D0,3),U,26)=9
"RTN","ONCOCC",24,0)
 .S $P(^ONCO(165.5,D0,3),U,35)=9
"RTN","ONCOCC",25,0)
 .S $P(^ONCO(165.5,D0,3),U,36)=9
"RTN","ONCOCC",26,0)
 .S $P(^ONCO(165.5,D0,3),U,37)=9
"RTN","ONCOCC",27,0)
 I $D(^ONCO(165.5,D0,4)) S SCTIEN=0 F  S SCTIEN=$O(^ONCO(165.5,D0,4,SCTIEN)) Q:SCTIEN'>0  D
"RTN","ONCOCC",28,0)
 .S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,4)="00"
"RTN","ONCOCC",29,0)
 .I COC=5 D
"RTN","ONCOCC",30,0)
 ..F PIECE=11,12,13,14,15,16,17 S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,PIECE)="0000000"
"RTN","ONCOCC",31,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,5)=0
"RTN","ONCOCC",32,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,6)=0
"RTN","ONCOCC",33,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,7)=0
"RTN","ONCOCC",34,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,9)=0
"RTN","ONCOCC",35,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,10)=0
"RTN","ONCOCC",36,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,3),U,19)=0
"RTN","ONCOCC",37,0)
 .I COC=8 D
"RTN","ONCOCC",38,0)
 ..F PIECE=11,12,13,14,15,16,17 S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,PIECE)=9999999
"RTN","ONCOCC",39,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,5)=9
"RTN","ONCOCC",40,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,6)=9
"RTN","ONCOCC",41,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,7)=9
"RTN","ONCOCC",42,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,9)=9
"RTN","ONCOCC",43,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,0),U,10)=9
"RTN","ONCOCC",44,0)
 ..S $P(^ONCO(165.5,D0,4,SCTIEN,3),U,19)=9
"RTN","ONCOCC",45,0)
 K COC,FLD,PIECE,BRM,REC,SA,RFNR,RFNC,RFNHT,SCTIEN
"RTN","ONCOCC",46,0)
 Q
"RTN","ONCOCKI")
0^38^B9392260
"RTN","ONCOCKI",1,0)
ONCOCKI ;WASH ISC/SRR,MLH,RTK-EDIT CHECKS/INPUT TRANSFORM EDIT CHECKS ;6/7/94  08:02
"RTN","ONCOCKI",2,0)
 ;;2.11;ONCOLOGY;**1,6,16**;Mar 07, 1995
"RTN","ONCOCKI",3,0)
 ;edit check for data compatiabiltiy
"RTN","ONCOCKI",4,0)
DXDT ;Date of diagnosis - valid for site, etc.?
"RTN","ONCOCKI",5,0)
 ;    input transform logic for the DATE DX field (#3) of the
"RTN","ONCOCKI",6,0)
 ;    ONCOLOGY PRIMARY File (#165.5)
"RTN","ONCOCKI",7,0)
 ;
"RTN","ONCOCKI",8,0)
 ;    site valid only for Edition 4 (small intestine)?
"RTN","ONCOCKI",9,0)
 ;    07Jun94:  MLH corrected logic in following line for ONC*2.1*11
"RTN","ONCOCKI",10,0)
 S DATEDX=X
"RTN","ONCOCKI",11,0)
 I $P($G(^ONCO(165.5,D0,0)),U)=71,("2"_^ONCO(160.1,"AJ")_"0000")>X W !,"  Site not valid for this edition." K X ;    diagnosed before effective date of 4th edition
"RTN","ONCOCKI",12,0)
 Q
"RTN","ONCOCKI",13,0)
11 S Y=$P(^ONCO(165.5,D0,0),U,2),Y=$S($D(^ONCO(160,+Y,1)):$P(^(1),U,2),1:"") Q:(Y=""!(X<Y)!(X=Y))
"RTN","ONCOCKI",14,0)
 S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_($E(Y,1,3)+1700) W !!,"*****DATE DX is after LAST DATE CONTACT***** ",Y,! K X,Y
"RTN","ONCOCKI",15,0)
 Q
"RTN","ONCOCKI",16,0)
ACN ;Accession Number check
"RTN","ONCOCKI",17,0)
 Q:$D(^ONCO(165.5,"AE",X,$P(^ONCO(165.5,D0,0),U,2)))  Q:'$D(^ONCO(165.5,"AE",X))  W *7,?50,"Number is already assigned!!" K X
"RTN","ONCOCKI",18,0)
 Q
"RTN","ONCOCKI",19,0)
 ;
"RTN","ONCOCKI",20,0)
SGAN ;SET GREATEST ACCESSION NUMBER @ ACCESSION YEAR
"RTN","ONCOCKI",21,0)
 S YR=$E(X,1,2) I '$D(^ONCO(165.5,"AGAN",YR)) S ^ONCO(165.5,"AGAN",YR)=X G EX
"RTN","ONCOCKI",22,0)
 S:X>^ONCO(165.5,"AGAN",YR) ^(YR)=X G EX
"RTN","ONCOCKI",23,0)
 ;
"RTN","ONCOCKI",24,0)
KGAN ;RESET GREATEST ACCESSION NUMBER @YEAR
"RTN","ONCOCKI",25,0)
 S YR=$E(X,1,2) G RE:'$D(^ONCO(165.5,"AGAN",YR)),EX:X<^(YR),GN:X=^(YR)
"RTN","ONCOCKI",26,0)
RE W !?10,"NEED TO RE-INITIALIAZE FILE" G EX
"RTN","ONCOCKI",27,0)
GN ;GET NEXT GREATEST ACCESSION NUMBER
"RTN","ONCOCKI",28,0)
 F AC=X-1:-1:YR_"0001" I $D(^ONCO(165.5,"AE",X)) S ^ONCO(165.5,"AGAN",YR)=AC G EX
"RTN","ONCOCKI",29,0)
 K ^ONCO(165.5,"AGAN",YR) G EX
"RTN","ONCOCKI",30,0)
 ;
"RTN","ONCOCKI",31,0)
KACD ;CHECK DELETED NUMBER
"RTN","ONCOCKI",32,0)
 S ^ONCO(165.5,"ACD",YR,$E(X,3,6))="" G EX ;THIS WILL LEAVE LARGE NUMBER IN DELGLED LIST IF NOT CHECKED
"RTN","ONCOCKI",33,0)
 ;
"RTN","ONCOCKI",34,0)
SEQ ;Check Sequence number
"RTN","ONCOCKI",35,0)
 S XX=$P(^ONCO(165.5,D0,0),U,5) I XX="" K X,XX W *7,?50,"N0 Accession Number assigned!!",!! Q
"RTN","ONCOCKI",36,0)
 ; S XX2=$E(XX,1,2)_"-"_$E(XX,3,6) I '$O(^ONCO(165.5,"D",XX2)),"00^01^99^AA^BB^XX"'[X K X,XX,XX2 W *7,!?5,"Not an acceptable value for the first SEQUENCE NO.",!! Q
"RTN","ONCOCKI",37,0)
 S XX=$E(XX,1,2)_"-"_$E(XX,3,6)_"/"_X Q:'$D(^ONCO(165.5,"D",XX))  W *7,?40,XX," is assigned.",! D SDP^ONCOCOM K X,XX Q
"RTN","ONCOCKI",38,0)
 ;
"RTN","ONCOCKI",39,0)
TSEX ;CHECK ICDO CODE (FIELD#8  for SEX)
"RTN","ONCOCKI",40,0)
 S XD0=$P(^ONCO(165.5,D0,0),U,2) I XD0="" K X W !!,*7,?10,"Patient name not entered",!! Q
"RTN","ONCOCKI",41,0)
 S SX=$P(^ONCO(160,XD0,0),U,8),TSX=$P(^ONCO(164,X,0),U,8) Q:TSX=""  Q:SX=TSX  G SERT
"RTN","ONCOCKI",42,0)
 ;
"RTN","ONCOCKI",43,0)
PSEX ;CHECK PRIMARY SITE/GP(#.01) with patient (.02) SEX in #160 (INPUT TRANS ON #.02)
"RTN","ONCOCKI",44,0)
 S XX=$P(^ONCO(165.5,D0,0),U),XD0=X
"RTN","ONCOCKI",45,0)
SEX ;Look at SEX related SITE/GPs
"RTN","ONCOCKI",46,0)
 Q:(XX<43!(XX>52))  S SX=$P(^ONCO(160,XD0,0),U,8) I SX=1 Q:(XX>49&(XX<53))  G SERP
"RTN","ONCOCKI",47,0)
 I SX=2 Q:(XX>42&(XX<49))
"RTN","ONCOCKI",48,0)
SERP ;SEX ERROR MESSAGE
"RTN","ONCOCKI",49,0)
 K X S X2=$P($G(^ONCO(164.47,+SX,0)),U) ;S X1=$P(^DD(160,10,0),U,3),X2=$P($P(X1,";",SX),":",2)
"RTN","ONCOCKI",50,0)
 G:SX<3 W ;S:SX=9 X2="Not Stated"
"RTN","ONCOCKI",51,0)
 W !!?10,"WARNING: Sex related SITE/GP.",! Q
"RTN","ONCOCKI",52,0)
SERT K X S X2=$P($G(^ONCO(164.47,SX,0)),U) ;S X1=$P(^DD(160,10,0),U,3),X2=$P($P(X1,";",SX),":",2)
"RTN","ONCOCKI",53,0)
 G:SX<3 W ;S:SX=9 X2="Not Stated"
"RTN","ONCOCKI",54,0)
 W !!?10,"WARNING: Sex related ICDO code",! Q
"RTN","ONCOCKI",55,0)
W W *7,!!?10,"SEX is ",X2," !!",! Q
"RTN","ONCOCKI",56,0)
 Q
"RTN","ONCOCKI",57,0)
 ;
"RTN","ONCOCKI",58,0)
EX ;Kill variables and Exit
"RTN","ONCOCKI",59,0)
 K AC,YR,XX,XD0,SX
"RTN","ONCOCKI",60,0)
 Q
"RTN","ONCOCOC")
0^39^B10533316
"RTN","ONCOCOC",1,0)
ONCOCOC ;WASH ISC/SRR-COMPUTED FIELDS FOR CASEFINDING REPORTS ;8/9/93  09:25
"RTN","ONCOCOC",2,0)
 ;;2.11;ONCOLOGY;**13,16**;Mar 07, 1995
"RTN","ONCOCOC",3,0)
 ;
"RTN","ONCOCOC",4,0)
 ;GET LRDFN
"RTN","ONCOCOC",5,0)
 Q
"RTN","ONCOCOC",6,0)
 ;
"RTN","ONCOCOC",7,0)
TOM ;GET TOPOGRAPHY for Suspense Date
"RTN","ONCOCOC",8,0)
 Q
"RTN","ONCOCOC",9,0)
LAB ;LAB CASEFINDING REPORT
"RTN","ONCOCOC",10,0)
 ;RE-WRITTEN for data saved in ^ONCO(160,D0,2)
"RTN","ONCOCOC",11,0)
 D GET Q:XD0=""  I LRDFN="" S LRDFN=$G(@(GLO_",""LR"")")) G EX:LRDFN=""
"RTN","ONCOCOC",12,0)
 G EX:O2="" S SR=$P(O2,U,2) G EX:$E(SR)'="L" S SR=$E(SR,2),LRSS=$S(SR="S":"SP",SR="C":"CY",SR="E":"EM",1:"AU") S XDT=$P(O2,U,3),TO=$P(O2,U,5),MO=$P(O2,U,4) ;,LRI=$P(O2,U,11) G EX:LRI=""
"RTN","ONCOCOC",13,0)
 ;get values
"RTN","ONCOCOC",14,0)
 S TO=$S(TO="":"None",1:$P(^LAB(61,+TO,0),U)),MO=$S(MO="":"None",1:$P(^LAB(61.1,+MO,0),U,2)_"-"_$P(^(0),U)) D DT
"RTN","ONCOCOC",15,0)
W W $E(XNM,1,20),?22,$E(XSN,1,6),?29,XDT_"-"_LRSS,?44,$E(TO,1,13),?60,$E(MO,1,20) G LST
"RTN","ONCOCOC",16,0)
 ;
"RTN","ONCOCOC",17,0)
DT S XDT=$E(XDT,4,5)_"/"_$E(XDT,6,7)_"/"_($E(XDT,1,3)+1700) Q
"RTN","ONCOCOC",18,0)
 ;
"RTN","ONCOCOC",19,0)
GET ;Get variables
"RTN","ONCOCOC",20,0)
G S XD0=$G(^ONCO(160,D0,0)),O2=$G(^ONCO(160,D0,2)) I XD0="" Q
"RTN","ONCOCOC",21,0)
 S LRDFN=$P(XD0,U,2),VPR=$P(XD0,U),GLO="^"_$P(VPR,";",2)_$P(VPR,";"),GL0=GLO_",0)",XPI=$G(@GL0),XNM=$P(XPI,U),SN=$P(XPI,U,9),XSN=$E(XNM,1)_$E(SN,6,9)
"RTN","ONCOCOC",22,0)
 Q
"RTN","ONCOCOC",23,0)
 ;
"RTN","ONCOCOC",24,0)
AU I LRSS="AU" S TO=$G(^LR(LRDFN,"AY",1,0)),MO="",XMO=0 F  S XMO=$O(^LR(LRDFN,"AY",1,2,XMO)) Q:XMO'>0  S XM1=^(XMO,0),XM1=$G(^LAB(61.1,+XM1,0)),MX=$P(XM1,U,2) I $E(MX)>7 S MO=MX G GT
"RTN","ONCOCOC",25,0)
EAU ;END AUTOPSY
"RTN","ONCOCOC",26,0)
AP ;ANATOMIC PATH LAB
"RTN","ONCOCOC",27,0)
 S (TO,MO)="" F  S LRI=$O(^LR(LRDFN,LRSS,LRI)) Q:LRI'>0  D  Q:MO'=""
"RTN","ONCOCOC",28,0)
 .S XT0=0 F  S XT0=$O(^LR(LRDFN,LRSS,LRI,2,XT0)) Q:XT0'>0  S TO=^(XT0,0) D  Q:MO'=""
"RTN","ONCOCOC",29,0)
 ..S XMO=0 F  S XMO=$O(^LR(LRDFN,LRSS,LRI,2,XT0,2,XMO)) Q:XMO'>0  S XM1=^(XMO,0),XM1=$G(^LAB(61.1,+XM1,0)),MX=$P(XM1,U,2) I $E(MX)>7!(MX=69760) S MO=MX Q
"RTN","ONCOCOC",30,0)
 ;
"RTN","ONCOCOC",31,0)
GT S TO=$P($G(^LAB(61,+TO,0)),U),MO=$S(MO="":"None",1:MO_"-"_$P(XM1,U)) D DT
"RTN","ONCOCOC",32,0)
 ;
"RTN","ONCOCOC",33,0)
PTF ;PTF-CASEFINDING REPORT
"RTN","ONCOCOC",34,0)
 D GET G EX:O2="" S IC=$G(^ICD9(+$P(O2,U,8),0)) G EX:IC="" S IC=$S($L(+IC)=3:+IC_".0",1:+IC)_"-"_$P(IC,U,3),CD=$P(O2,U,9),CD=$S(CD="":"",CD=1:"DXLS*",CD=10:"ICD10",1:"ICD-"_CD),XDT=+$P(O2,U,7) D DT S XDD=XDT,XDT=$P(O2,U,3) D DT
"RTN","ONCOCOC",35,0)
WP W $E(XNM,1,20),?22,XSN,?29,XDT_"-"_XDD,?48,CD_"/",?54,$E(IC,1,26) G LST
"RTN","ONCOCOC",36,0)
 ;
"RTN","ONCOCOC",37,0)
RAD ;RAD-CASEFINDING REPORT
"RTN","ONCOCOC",38,0)
 D GET G EX:O2="" S XDT=$P(O2,U,3),RAD=$P($G(^RAMIS(71,+$P(O2,U,6),0)),U) G EX:RAD="" D DT
"RTN","ONCOCOC",39,0)
WR W $E(XNM,1,29),?31,XSN,?39,XDT,?49,$E(RAD,1,30) G LST
"RTN","ONCOCOC",40,0)
 ;
"RTN","ONCOCOC",41,0)
LST G EX:'$D(^ONCO(165.5,"C",D0)) D DLC^ONCOCRF,DATEOT^ONCOES W !!?25,"Last Contact: ",X,! D SDD^ONCOCOM W ! G EX
"RTN","ONCOCOC",42,0)
 ;
"RTN","ONCOCOC",43,0)
EX ;EXIT
"RTN","ONCOCOC",44,0)
 S X="" K MO,MX,LRDFN,LRSS,LRI,XMO,XM1,XD0,VPR,GLO,XPI,XNM,SN,XSN,XD0,XDT,TO
"RTN","ONCOCOC",45,0)
MO ;MORPHOLOGIES
"RTN","ONCOCOC",46,0)
 Q
"RTN","ONCOCOC",47,0)
MOC ;MORPHLOGY CODE
"RTN","ONCOCOC",48,0)
 Q
"RTN","ONCOCOC",49,0)
OT ;
"RTN","ONCOCOC",50,0)
 Q
"RTN","ONCOCOM")
0^18^B29353954
"RTN","ONCOCOM",1,0)
ONCOCOM ;WASH ISC/SRR,MLH,RTK-CREATE SPECIAL COMPUTED FIELDS ;7/23/93  08:21
"RTN","ONCOCOM",2,0)
 ;;2.11;ONCOLOGY;**1,6,11,12,13,14,16**;Mar 07, 1995
"RTN","ONCOCOM",3,0)
 ;
"RTN","ONCOCOM",4,0)
SIT ;SITE/PG & Diagnosis Date from file 160
"RTN","ONCOCOM",5,0)
 F XD0=0:0 S XD0=$O(^ONCO(165.5,"C",D0,XD0)) G:XD0'>0 EX S X1=$S($D(^ONCO(165.5,XD0,0)):^(0),1:"") I X1'="" S Y=$P(X1,U,16),X1=$P(^ONCO(164.2,$P(X1,U),0),U) D DD W ?55,$E(X1,1,16),?72,Y,!
"RTN","ONCOCOM",6,0)
 ;
"RTN","ONCOCOM",7,0)
SDA ;LIST ALL Primaries from 165.5
"RTN","ONCOCOM",8,0)
 S XD0=$P(^ONCO(165.5,D0,0),U,2) G CX
"RTN","ONCOCOM",9,0)
 ;
"RTN","ONCOCOM",10,0)
SDP ;get Other Primary Sites & dates Diagnosis: from #165.5
"RTN","ONCOCOM",11,0)
 D XD0 G:XD0="" EX
"RTN","ONCOCOM",12,0)
D ;LIST all Primary Sites and Dates of Diagnosis-EXCEPT current primary
"RTN","ONCOCOM",13,0)
X N J S J=0 F XD1=0:0 S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) G:XD1'>0 NO I $D(^ONCO(165.5,XD1,0)),XD1'=D0 S J=J+1 W:J=1 ?5,"Acc/Seq#",?17,"Primary Site",?39,"Last Tumor Status",?58,"Date DX",?68,"Abst Status",! D LIST
"RTN","ONCOCOM",14,0)
 ;
"RTN","ONCOCOM",15,0)
NO ;No other primaries
"RTN","ONCOCOM",16,0)
 G:J>0 EX W ?24,"None" G EX
"RTN","ONCOCOM",17,0)
 ;
"RTN","ONCOCOM",18,0)
SDD ;LIST all Primary Sites and Dates of Diagnosis;XD0=D0=#160,field#100 
"RTN","ONCOCOM",19,0)
 Q:'$D(^ONCO(160,D0))  S XD0=D0 ;XD0,D0=internal #160,patient
"RTN","ONCOCOM",20,0)
CX ;Display all primaries for given patient;entry point with XD0 defined,not D0
"RTN","ONCOCOM",21,0)
 N J,XD1
"RTN","ONCOCOM",22,0)
 S J=0,XD1=0 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $D(^ONCO(165.5,XD1,0)) S J=J+1 W:J=1 ?3,"Acc/Seq#",?15,"Primary Site",?37,"Last Tumor Status",?56,"Date DX",?68,"Abst Status",! D LIST
"RTN","ONCOCOM",23,0)
 QUIT
"RTN","ONCOCOM",24,0)
 ;
"RTN","ONCOCOM",25,0)
LIST D ^ONCOCOML ;list a single primary: show site, CS, DateDX, Abst Stat
"RTN","ONCOCOM",26,0)
 Q
"RTN","ONCOCOM",27,0)
 ;
"RTN","ONCOCOM",28,0)
CLS ;CLass of Case (ANALYTIC/NON-ANALYTIC)
"RTN","ONCOCOM",29,0)
 ;Computed field #165.5, field#.042 CASE-CLASS
"RTN","ONCOCOM",30,0)
 S XD0=D0,X=$S($D(^ONCO(165.5,XD0,0)):$P(^(0),U,4),1:""),X=$S(X="":"",X<3:"Analytic",1:"Non-Analytic")
"RTN","ONCOCOM",31,0)
 K XD0 Q
"RTN","ONCOCOM",32,0)
 ;
"RTN","ONCOCOM",33,0)
DFC1 I '$D(^ONCO(165.5,"ATX",D0)) S X="" Q
"RTN","ONCOCOM",34,0)
 S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT'>0  Q:($E(TDT,1,7)'="0000000")&($E(TDT,1,7)'=9999999)
"RTN","ONCOCOM",35,0)
 I TDT="" S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT'>0  Q:$E(TDT,1,7)=9999999
"RTN","ONCOCOM",36,0)
 I TDT="" S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT'>0  Q:$E(TDT,1,7)="0000000"
"RTN","ONCOCOM",37,0)
 I TDT="" S TDT="9999999X"
"RTN","ONCOCOM",38,0)
 S X=$E(TDT,1,7)
"RTN","ONCOCOM",39,0)
 K TDT Q
"RTN","ONCOCOM",40,0)
 ;
"RTN","ONCOCOM",41,0)
DFC ;Computed algorithm for FIRST COURSE DATE (165.5,49)
"RTN","ONCOCOM",42,0)
 ;D DFC1 S Y=X D DD S X=Y
"RTN","ONCOCOM",43,0)
 D DFC1,DATEOT^ONCOES
"RTN","ONCOCOM",44,0)
 Q
"RTN","ONCOCOM",45,0)
DD ;Y=date in FM format (2yrmoda); convert to da/mo/yr
"RTN","ONCOCOM",46,0)
 S Y=$S(Y="":"",1:$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_(1700+$E(Y,1,3))) ;_$S(Y#1:" "_$E(Y_0,9,10)_":"_$E(Y_"0000",11,12),1:"")
"RTN","ONCOCOM",47,0)
 Q
"RTN","ONCOCOM",48,0)
AGE ;AGE AT DIAGNOSIS
"RTN","ONCOCOM",49,0)
 S X=$P(^ONCO(165.5,D0,0),U,16) Q:X=""  S X1=X,XD0=D0,D0=$P(^ONCO(165.5,XD0,0),U,2) D DOB1^ONCOES S X2=X,D0=XD0 D ^%DTC S X=X\365.25 K X1,X2
"RTN","ONCOCOM",50,0)
 Q
"RTN","ONCOCOM",51,0)
DEC ;AGE DX DECADE
"RTN","ONCOCOM",52,0)
 D AGE Q:X=""  S AG=X,X=$S(AG<20:"0-20",AG<30:"20-29",AG<40:"30-39",AG<50:"40-49",AG<60:"50-59",AG<70:"60-69",AG<80:"70-79",1:"80-99")
"RTN","ONCOCOM",53,0)
 K AG Q
"RTN","ONCOCOM",54,0)
XD0 S XD0=$S($D(^ONCO(165.5,D0,0)):$P(^(0),U,2),1:"") ;XD0=internal #160
"RTN","ONCOCOM",55,0)
 Q
"RTN","ONCOCOM",56,0)
PAT ;Get Patient pointer
"RTN","ONCOCOM",57,0)
V0 S OD0=$S($D(^ONCO(160,XD0,0)):$P(^(0),U),1:"") Q:OD0=""  S OF=$P(OD0,";",2),OD0=$P(OD0,";",1),VPR="^"_OF_OD0_",0)",VP0=$S($D(@VPR):^(0),1:"")
"RTN","ONCOCOM",58,0)
 Q
"RTN","ONCOCOM",59,0)
PID ;PATIENT NAME,SSN,DOB
"RTN","ONCOCOM",60,0)
 S X="" D PAT G EX:OD0="" S ONCONM=$P(VP0,U),SN=$P(VP0,U,9),XD=$P(VP0,U,3),ONCOPID=$E(ONCONM)_$E(SN,6,9)
"RTN","ONCOCOM",61,0)
 Q
"RTN","ONCOCOM",62,0)
SID ;PID# (A1234)
"RTN","ONCOCOM",63,0)
PID5 S XD0=$P(^ONCO(165.5,D0,0),U,2) D PAT,PID S X=$E(ONCONM)_$E(SN,6,9) G EX
"RTN","ONCOCOM",64,0)
PID0 S XD0=D0 D PAT,PID S X=$E(ONCONM)_$E(SN,6,9) G EX
"RTN","ONCOCOM",65,0)
PIN ;PATIENT INQUIRY FUNCTION
"RTN","ONCOCOM",66,0)
 S XD0=D0 D PAT G EX:OD0="" S XX=$P(VP0,U),ONCONM=$P(XX,",",2)_" "_$P(XX,","),XX=$P(VP0,U,9),ONCOSN=$E(XX,1,3)_"-"_$E(XX,4,5)_"-"_$E(XX,6,9),Y=$P(VP0,U,3) D DD S ONCODB=Y,(ONCOLC,ONCOCA,ONCOVS)=""
"RTN","ONCOCOM",67,0)
 S XX=$O(^ONCO(160,XD0,"F","AA",0)) G W:XX="" S XX=$O(^(XX,0)),LC0=^ONCO(160,XD0,"F",XX,0),Y=$P(LC0,U) D DD S ONCOLC=Y,XX=$P(LC0,U,2),ONCOVS=$S(XX=0:"Dead",XX=1:"Alive",1:"Unstated")
"RTN","ONCOCOM",68,0)
 S XX=$P(LC0,U,3),ONCOCA=$S(XX=1:"No Evidence of CA",XX=2:"Evidence of CA",9:"Unknown",1:"")
"RTN","ONCOCOM",69,0)
W W !?10,"Name: ",ONCONM,?40,"Date Last Contact: ",ONCOLC
"RTN","ONCOCOM",70,0)
 W !?10,"SSN:  ",ONCOSN,?40,"Vital Status:      ",ONCOVS
"RTN","ONCOCOM",71,0)
 W !?10,"DOB:  ",ONCODB,?40,"Cancer Status:     ",ONCOCA
"RTN","ONCOCOM",72,0)
 Q
"RTN","ONCOCOM",73,0)
 ;
"RTN","ONCOCOM",74,0)
MS ;Marital status at Diagnosis FROM #165.5
"RTN","ONCOCOM",75,0)
 S X="" D XD0 G:XD0="" EX D PAT G:OD0="" EX S MS=$P(VP0,U,5),MC=$P($G(^DIC(11,+MS,0)),U,3),X1=$S(MC="N":1,MC="M":2,MC="S":3,MC="D":4,MC="W":5,1:9),$P(^ONCO(165.5,D0,1),U,5)=X1
"RTN","ONCOCOM",76,0)
ADX ;Address at DX
"RTN","ONCOCOM",77,0)
PT S GLR="^"_OF_OD0_",",X11=$G(@(GLR_".11)")),CITY=$P(X11,U,4),ST=$P(X11,U,5),CT=$P(X11,U,7),ZIP=$P(X11,U,6),ZP=$O(^VIC(5.11,"B",ZIP_" ",0))
"RTN","ONCOCOM",78,0)
 I CITY'="" S $P(^ONCO(165.5,D0,1),"^",12)=CITY
"RTN","ONCOCOM",79,0)
 I ST'="" S STDXABV=$P($G(^DIC(5,ST,0)),"^",2),STDXIEN=$O(^ONCO(160.15,"B",STDXABV,"")),$P(^ONCO(165.5,D0,1),"^",4)=STDXIEN
"RTN","ONCOCOM",80,0)
 S ADX=$P(X11,U)_" "_$P(X11,U,2)_U_ZIP,$P(^ONCO(165.5,D0,1),U,1)=$S($P(ADX,U,1)=" ":"",1:$P(ADX,U,1)),$P(^ONCO(165.5,D0,1),U,2)=$P(ADX,U,2) D CTY G EX
"RTN","ONCOCOM",81,0)
CTY ;Obtain county ptr
"RTN","ONCOCOM",82,0)
 Q:ST=""!(CT="")  I $D(^DIC(5,ST,1,CT,0)) S CTY=$P(^(0),U),VI=0 F  S VI=$O(^VIC(5.1,"B",CTY,VI)) Q:VI'>0  I $P(^VIC(5.1,VI,0),U,2)=ST S $P(^ONCO(165.5,D0,1),U,3)=VI
"RTN","ONCOCOM",83,0)
 Q
"RTN","ONCOCOM",84,0)
 G EX
"RTN","ONCOCOM",85,0)
 ;
"RTN","ONCOCOM",86,0)
ONCPRI ;Computed expression for ICD0-TOPOGRAPHY LIST (160,49)
"RTN","ONCOCOM",87,0)
 S XD0=0 F  S XD0=$O(^ONCO(165.5,"C",D0,XD0)) Q:XD0'>0  D
"RTN","ONCOCOM",88,0)
 .Q:'$D(^ONCO(165.5,XD0,2))
"RTN","ONCOCOM",89,0)
 .S TOPIEN=$P(^ONCO(165.5,XD0,2),U,1)
"RTN","ONCOCOM",90,0)
 .Q:TOPIEN=""
"RTN","ONCOCOM",91,0)
 .S TOPNAME=$P(^ONCO(164,TOPIEN,0),U,1)
"RTN","ONCOCOM",92,0)
 .S TOPCODE=$P(^ONCO(164,TOPIEN,0),U,2)
"RTN","ONCOCOM",93,0)
 .S TOP(TOPCODE)=TOPNAME
"RTN","ONCOCOM",94,0)
 I $D(TOP) S TOPCODE="" W ! F  S TOPCODE=$O(TOP(TOPCODE)) Q:TOPCODE=""  W ?5,TOP(TOPCODE),!
"RTN","ONCOCOM",95,0)
 S X="" K XD0,TOPIEN,TOP,TOPCODE Q
"RTN","ONCOCOM",96,0)
 ;
"RTN","ONCOCOM",97,0)
SET ;SET VARIABLES
"RTN","ONCOCOM",98,0)
 K SDD,XTS,ABS,SD,ACS,ST Q
"RTN","ONCOCOM",99,0)
EX ;KILL ALL VARIABLES
"RTN","ONCOCOM",100,0)
 K ACS,ADX,CT,CTY,GLR,OD0,X11,ZIP,ZP,VI,MS,ST,SD,SDD,XD1,X1,X2,XD0,OD0,OF,VPR,VP0,Y
"RTN","ONCOCOM",101,0)
 Q
"RTN","ONCOCOML")
0^49^B2671216
"RTN","ONCOCOML",1,0)
ONCOCOML ;WASH ISC/MLH-ONCOLOGY-LIST SINGLE PRIMARY ;7/23/93  08:21
"RTN","ONCOCOML",2,0)
 ;;2.11;ONCOLOGY;**16**;Mar 07, 1995
"RTN","ONCOCOML",3,0)
 N SDD,SD2,SD7,XTS,ABS,SD,ST,AC,ACS,P
"RTN","ONCOCOML",4,0)
 S SDD=^ONCO(165.5,XD1,0),SD2=$G(^(2)),SD7=$G(^(7))
"RTN","ONCOCOML",5,0)
 S XTS=$P(SD7,U,6),XTS=$S('XTS:"Not stated",'$D(^ONCO(164.42,XTS,0)):"Not stated",1:$P(^(0),U,3)) ;    last cancer status
"RTN","ONCOCOML",6,0)
 S ABS=$P(SD7,U,2),ABS=$S(ABS=0:"Incomplete",ABS=1:"Minimal data",ABS=2:"Partial",ABS=3:"Complete",1:"") ;,ABS=$S(ABS="":"",1:$P($P($P(^DD(165.5,91,0),U,3),";",ABS+1),":",2))
"RTN","ONCOCOML",7,0)
 S SD=$P(SDD,"^",16),SD=$S(SD="":"",1:$E(SD,4,5)_"/"_$E(SD,6,7)_"/"_($E(SD,1,3)+1700))
"RTN","ONCOCOML",8,0)
 S ST=$S($D(^ONCO(164,+$P(SD2,"^"),0)):$P(^(0),"^",1),$D(^ONCO(164.2,+$P(SDD,"^"),0)):$P(^(0),"^",1),1:"")
"RTN","ONCOCOML",9,0)
 S AC=$P(SDD,U,5),ACS=$S(AC="":"",1:$E(AC,1,2)_"-"_$E(AC,3,6)_"/"_$P(SDD,U,6)),P(J)=XD1_U_ST
"RTN","ONCOCOML",10,0)
 W ?3,ACS,?15,$E(ST,1,22),?38,XTS,?56,SD,?68,ABS,!
"RTN","ONCOCOML",11,0)
 QUIT
"RTN","ONCOCON")
0^30^B15833158
"RTN","ONCOCON",1,0)
ONCOCON ;WASH ISC/SRR,MLH-COMPUTED CONVERSIONS ADMISSION/DISCHARGE (VADPT) ;7/22/93  11:06
"RTN","ONCOCON",2,0)
 ;;2.11;ONCOLOGY;**11,16**;Mar 07, 1995
"RTN","ONCOCON",3,0)
 ;Using Calls to VADPT for patients in ^DPT
"RTN","ONCOCON",4,0)
VP S OP=$S($D(^ONCO(160,XD0,0)):$P(^(0),U),1:""),OF=$P(OP,";",2),DFN=$P(OP,";",1),OP=$S(OF="LRT(67,":"",1:OP)
"RTN","ONCOCON",5,0)
 Q
"RTN","ONCOCON",6,0)
NOK ;NEXT OF KIN
"RTN","ONCOCON",7,0)
 S XD0=D0 D VP G EX:OP="" N I,X D OAD^VADPT G EX:VAERR S ST=$S(VAOA(5)="":"",1:$P(^DIC(5,$P(VAOA(5),U),0),U,2)),CSZ=VAOA(4) I CSZ'="" S CSZ=CSZ_", "
"RTN","ONCOCON",8,0)
 S CSZ=CSZ_ST_" "_VAOA(6),SP="?25" S:'$D(NOK) NOK="NOK" D WT G EX
"RTN","ONCOCON",9,0)
 ;
"RTN","ONCOCON",10,0)
NOK1 ;NEXT OF KIN-1
"RTN","ONCOCON",11,0)
 S NOK="NOK1" G NOK
"RTN","ONCOCON",12,0)
 ;
"RTN","ONCOCON",13,0)
NOK2 ;NEXT OF KIN-2 #.2191
"RTN","ONCOCON",14,0)
 S VAOA("A")=3,NOK="NOK2" G NOK
"RTN","ONCOCON",15,0)
CON ;Retrieve Contacts (NOK1 and NOK@)
"RTN","ONCOCON",16,0)
 S XD0=D0 D VP G EX:OP="" N I,X D OAD^VADPT F I=1:1:10 S ONCO(I)=VAOA(I)
"RTN","ONCOCON",17,0)
 K VAOA S VAOA("A")=3 D OAD^VADPT F I=1:1:10 S ONCO(I+10)=VAOA(I)
"RTN","ONCOCON",18,0)
 G EX
"RTN","ONCOCON",19,0)
 ;
"RTN","ONCOCON",20,0)
WT W !,@SP,NOK,": ",@SP,VAOA(10)
"RTN","ONCOCON",21,0)
2 ;W !?25,VAOA(10)
"RTN","ONCOCON",22,0)
3 W !,@SP,$P(VAOA(9),",",2)_" "_$P(VAOA(9),",")
"RTN","ONCOCON",23,0)
4 W !,@SP,VAOA(1)
"RTN","ONCOCON",24,0)
5 W:VAOA(2)'="" !,@SP,VAOA(2)
"RTN","ONCOCON",25,0)
6 W:VAOA(3)'="" !,@SP,VAOA(3)
"RTN","ONCOCON",26,0)
 W:CSZ'="" !,@SP,CSZ
"RTN","ONCOCON",27,0)
 Q
"RTN","ONCOCON",28,0)
 ;
"RTN","ONCOCON",29,0)
REL2 ;NOK2
"RTN","ONCOCON",30,0)
 S VAOA("A")=3 G REL
"RTN","ONCOCON",31,0)
REL ;NOK relationship and Name
"RTN","ONCOCON",32,0)
 S XD0=D0 D VP G EX:OP="" N I D OAD^VADPT G EX:VAERR S X=$S(VAOA(9)="":"",1:VAOA(10)_": "_$P(VAOA(9),",",2)_" "_$P(VAOA(9),",",1)_" * "_VAOA(1)) K ONCOD0 G EX:X="" I VAOA(2)'="" S X=X_" "_VAOA(2)
"RTN","ONCOCON",33,0)
 S:VAOA(3)'="" X=X_" "_VAOA(3) S X=X_"  "_VAOA(4)_", "_$P(VAOA(5),U,2)_"  "_VAOA(6) G EX
"RTN","ONCOCON",34,0)
 ;
"RTN","ONCOCON",35,0)
ADM ;Admission date/Discharge date
"RTN","ONCOCON",36,0)
 ;FOR NON-DHCP (EAST-ORANGE)
"RTN","ONCOCON",37,0)
 S (ONCOAD,ONCODD)="" I $G(^DG(43,1,"VERSION"))<4.6 Q  ;FOR NON-DHCP EAST-ORANGE
"RTN","ONCOCON",38,0)
 S XX=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") Q:XX=""  S XD0=$P(XX,U,2) D VP Q:OP=""  S XD=$P(XX,U,16),VAIP("D")=$S(XD="":"L",1:XD)
"RTN","ONCOCON",39,0)
A5 I $G(^DG(43,1,"VERSION"))>4.8 N I,X D IN5 G:VAIP(1)'="" SV G:XD="" EX G NO
"RTN","ONCOCON",40,0)
A4 G:XD="" EX S VAINDT=XD N I,X D INP G:VAIN(1)="" NO G SV
"RTN","ONCOCON",41,0)
IN5 ;MAS VERSION 5.0
"RTN","ONCOCON",42,0)
 N I,X D IN5^VADPT Q:VAIP(1)=""  S (XAD,XD)=$P(VAIP(13,1),".") D DD S AD=XD,(XDD,XD)=$P(VAIP(17,1),".") D DD
"RTN","ONCOCON",43,0)
 ;S AD=$P($P(VAIP(13,1),U,2),"@"),XD=$P($P(VAIP(17,1),U,2),"@") ;
"RTN","ONCOCON",44,0)
 Q
"RTN","ONCOCON",45,0)
SV S ONCOAD=AD,ONCODD=XD
"RTN","ONCOCON",46,0)
WE W !!?15,"Admit: ",AD_"  Discharge: "_XD,! G EX
"RTN","ONCOCON",47,0)
NO D DD W !,"No admission for ",XD G EX
"RTN","ONCOCON",48,0)
 ;
"RTN","ONCOCON",49,0)
INP ;MAS VERSIONS less than 5.0
"RTN","ONCOCON",50,0)
 N I,X D INP^VADPT Q:VAIN(1)=""  S XD=$P($P(VAIN(7),U),".") D DD S AD=XD,XD=$S($D(^DPT(DFN,"DA",VAIN(1),1)):$P(^(1),U),1:"") D DD Q
"RTN","ONCOCON",51,0)
 ;
"RTN","ONCOCON",52,0)
DD ;Format date
"RTN","ONCOCON",53,0)
 S XD=$S(XD="":XD,1:$E(XD,4,5)_"/"_$E(XD,6,7)_"/"_(1700+$E(XD,1,3))) Q
"RTN","ONCOCON",54,0)
LST ;LST ADMISSION
"RTN","ONCOCON",55,0)
 S XD0=D0 D VP G:OP="" EX
"RTN","ONCOCON",56,0)
 I $G(^DG(43,1,"VERSION"))'>4.8 G LV4 ;G LV4:^DG(43,1,"VERSION")'>4.8
"RTN","ONCOCON",57,0)
LV5 ;Latest ADM:MAS V5
"RTN","ONCOCON",58,0)
 S VAIP("D")="L" D IN5 Q
"RTN","ONCOCON",59,0)
LV4 ;VERSIONs less than 5.0
"RTN","ONCOCON",60,0)
 S XD1=$O(^DPT(DFN,"DA","AA",0)) G:XD1'>0 EX S XD1=$O(^(XD1,0)),XD=$S($D(^DPT(DFN,"DA",XD1,0)):$P($P(^(0),U),"."),1:""),XAD=XD D DD S AD=XD ;both formats
"RTN","ONCOCON",61,0)
 S XD=$S($D(^DPT(DFN,"DA",XD1,1)):$P($P(^(1),U),"."),1:""),XDD=XD D DD ;both formats/null
"RTN","ONCOCON",62,0)
 Q
"RTN","ONCOCON",63,0)
 ;
"RTN","ONCOCON",64,0)
SUS ;SUSPENSE EPISODE CARE
"RTN","ONCOCON",65,0)
 S XD0=D0,SD=$S($D(^ONCO(160,XD0,2)):$P(^(2),U,3),1:"") Q:SD=""  D VP Q:OP=""
"RTN","ONCOCON",66,0)
S5 I $G(^DG(43,1,"VERSION"))>4.8 S VAIP("D")=SD D IN5 Q
"RTN","ONCOCON",67,0)
S4 S VAINDT=SD D INP Q
"RTN","ONCOCON",68,0)
 ;
"RTN","ONCOCON",69,0)
SAD ;SUSPENSE ADMIT DAT
"RTN","ONCOCON",70,0)
 D SUS S X=$S($D(AD):AD,1:"") G EX
"RTN","ONCOCON",71,0)
SDD ;SUSPENSE DISCHARGE DATE
"RTN","ONCOCON",72,0)
 D SUS S X=$S($D(XD):XD,1:"") G EX
"RTN","ONCOCON",73,0)
SEC ;SUSPENSE EPISODE CARE
"RTN","ONCOCON",74,0)
 D SUS S X="" G:SD="" EX I '$D(AD) S XD=SD G NO
"RTN","ONCOCON",75,0)
 S XD=$S($D(XD):XD,1:"") G WE
"RTN","ONCOCON",76,0)
LAD ;LAST ADMIT DATE
"RTN","ONCOCON",77,0)
 D LST S X=$S($D(AD):AD,1:"")
"RTN","ONCOCON",78,0)
 I X'="" S X=($E(X,7,10)-1700)_$E(X,1,2)_$E(X,4,5)
"RTN","ONCOCON",79,0)
 G EX
"RTN","ONCOCON",80,0)
LDD ;LAST DISCHARGE DATE
"RTN","ONCOCON",81,0)
 D LST S X=$S($D(XD):XD,1:"")
"RTN","ONCOCON",82,0)
 I X'="" S X=($E(X,7,10)-1700)_$E(X,1,2)_$E(X,4,5)
"RTN","ONCOCON",83,0)
 G EX
"RTN","ONCOCON",84,0)
LEC ;LAST EPISODE of CARE
"RTN","ONCOCON",85,0)
 D LST S X="" I '$D(AD) W !?15,"No admission data" G EX
"RTN","ONCOCON",86,0)
 I $D(XD) G:XD'="" WE
"RTN","ONCOCON",87,0)
 W !?15,"Admission: "_AD_"  active" G EX
"RTN","ONCOCON",88,0)
NOKEO ;Print Next of Kin - ONCOX2 East Orange
"RTN","ONCOCON",89,0)
 I $D(^ONCO(160,D0,0)) S RCDT=^(0) I $P(RCDT,";",2)["DPT",$D(^DPT($P(RCDT,";",1),.21)) W $P(^(.21),U)_" ("_$P(^(.21),U,2)_")"
"RTN","ONCOCON",90,0)
EX ;Kill variables & exit
"RTN","ONCOCON",91,0)
 K AD,CSZ,DFN,NOK,OF,OP,XX,XD0,XD,RD,PN,RCDT,SD,SP,ST,VAIN,VAIP,VAINDT,VAOA Q
"RTN","ONCOCOS")
0^22^B18121982
"RTN","ONCOCOS",1,0)
ONCOCOS ;WASH ISC/SRR-COMPUTED FIELDS for Statistics ;3/28/94  10:58
"RTN","ONCOCOS",2,0)
 ;;2.11;ONCOLOGY;**5,13,16**;Mar 07, 1995
"RTN","ONCOCOS",3,0)
 ;
"RTN","ONCOCOS",4,0)
 ;ROUTINE written to correct for erroneous computed fields-incomplete
"RTN","ONCOCOS",5,0)
 ;These fields have been defined correctly in #165.5
"RTN","ONCOCOS",6,0)
 ;This routine will not be completed unless necessary for #17,#18,#22
"RTN","ONCOCOS",7,0)
 ;Fields #17,#18,#22 will * for deletion
"RTN","ONCOCOS",8,0)
FYR ;LENGTH FOLLOW-UP YEARS #17
"RTN","ONCOCOS",9,0)
 ;DATE LAST CONTACT-DATE DX 1ST PRIMARY (fileman dates gives years)
"RTN","ONCOCOS",10,0)
 S X="" Q  ;code
"RTN","ONCOCOS",11,0)
FWK ;LENGTH FOLLOW-UP WEEKS #18
"RTN","ONCOCOS",12,0)
 ;(DATE LAST CONTACT-DATE DX 1ST PRIMARY)/7
"RTN","ONCOCOS",13,0)
 S X="" Q  ;code
"RTN","ONCOCOS",14,0)
SMO ;SURVIVAL MONTHS; #22
"RTN","ONCOCOS",15,0)
 ;(DATE LAST CONTACT-DATE DX 1ST PRIMARY)/30.4375
"RTN","ONCOCOS",16,0)
 S X="" Q  ;code
"RTN","ONCOCOS",17,0)
 ;
"RTN","ONCOCOS",18,0)
CC ;CASE CLASS/Renamed Class of Case
"RTN","ONCOCOS",19,0)
 S X=$P(^ONCO(165.5,D0,0),U,4),X=$S(X=0:"Dx H,Rx Ew",X=1:"Dx,Rx Here",X=2:"Dx Ew,Rx H",X=3:"Dx,Tx Ew",X=4:"Before Ref Dt",X=5:"Autopsy",X=6:"Death Cert",1:"Unknown") Q
"RTN","ONCOCOS",20,0)
RSX ;COMBINED RACE & SEX
"RTN","ONCOCOS",21,0)
 ;RACE ONLY
"RTN","ONCOCOS",22,0)
 ;COMING FROM 165.5 with D0=primary
"RTN","ONCOCOS",23,0)
 D GT G EX:XD0="",EX:XP0=""
"RTN","ONCOCOS",24,0)
1 S X=$S(SX=1:"M",SX=2:"F",1:""),XRX=$S(RC=1:"White-"_X,RC=2:"Black-"_X,1:"Other-"_X),X=XRX G EX
"RTN","ONCOCOS",25,0)
 ;for Race and Sex data
"RTN","ONCOCOS",26,0)
SXR ;SEX-RACE
"RTN","ONCOCOS",27,0)
 D GT G EX:XD0="",EX:XP0=""
"RTN","ONCOCOS",28,0)
 S X=$S(RC=1:"WT",RC=2:"BK",1:"OT"),XRX=$S(SX=1:"Male-"_X,SX=2:"Female-"_X,1:""),X=XRX G EX
"RTN","ONCOCOS",29,0)
GT S XP0="",XD0=$S($D(^ONCO(165.5,D0,0)):$P(^(0),U,2),1:"") Q:XD0=""  Q:'$D(^ONCO(160,XD0,0))  S XP0=^(0),RC=+$P(XP0,U,6),SX=$P(XP0,U,8)
"RTN","ONCOCOS",30,0)
 Q
"RTN","ONCOCOS",31,0)
SSG ;AJCC SUMMARY STAGE GROUP (combined 0,I,II,III,IV,U)
"RTN","ONCOCOS",32,0)
G D SG Q:X=""  S X=+X,X=$S(X=0:0,X=1:"I",X=2:"II",X=3:"III",X=4:"IV",1:"U")
"RTN","ONCOCOS",33,0)
 Q
"RTN","ONCOCOS",34,0)
SSG1 ;AJCC SUMMARY STAGE GROUPI (I,IA,IB,IC)
"RTN","ONCOCOS",35,0)
 D SG S X=$S(+X=1:"I"_$E(X,2),1:"") G EX
"RTN","ONCOCOS",36,0)
SSG2 ;AJCC SUMMARY STAGE GROUP-II (II,IIA,IIB,IIC)
"RTN","ONCOCOS",37,0)
 D SG S X=$S(+X=2:"II"_$E(X,2),1:"") G EX
"RTN","ONCOCOS",38,0)
SSG3 ;AJCC SUMMARY STAGE GROUP-III (III,IIIA,IIIB)
"RTN","ONCOCOS",39,0)
 D SG S X=$S(+X=3:"III"_$E(X,2),1:"") G EX
"RTN","ONCOCOS",40,0)
SSG4 ;AJCC SUMMARY STAGE GROUP-IV (IV,IVA,IVB)
"RTN","ONCOCOS",41,0)
 D SG S X=$S(+X=4:"IV"_$E(X,2),1:"") G EX
"RTN","ONCOCOS",42,0)
SG S X=$S($D(^ONCO(165.5,D0,2)):$P(^(2),U,20),1:"")
"RTN","ONCOCOS",43,0)
 Q
"RTN","ONCOCOS",44,0)
TRX ;COMBINATIONS OF THERAPY
"RTN","ONCOCOS",45,0)
TX ;DETERMINE course of treatment i.e. order of therapies
"RTN","ONCOCOS",46,0)
 S XD0=D0,XX=0
"RTN","ONCOCOS",47,0)
 F  S XX=$O(^ONCO(165.5,"ATX",XD0,XX)) Q:XX'>0  I (XX'="0000000")&(XX'=9999999) S T=$E(XX,8),TX=$S(T="S":"SUR",T="C":"CMX",T="R":"XRT",T="H":"HOR",T="B":"BRM",T="P":"CNS",T="N":"NTX",1:"OTR"),X=$S(X="":TX,1:X_"/"_TX)
"RTN","ONCOCOS",48,0)
 S X=$S(X="":"NONE",1:X) G EX
"RTN","ONCOCOS",49,0)
 ;
"RTN","ONCOCOS",50,0)
TXS ;TX SEQ
"RTN","ONCOCOS",51,0)
 S X="",XD0=D0,XX=0 F  S XX=$O(^ONCO(165.5,"ATX",XD0,XX)) Q:XX'>0  I (XX'="0000000")&(XX'=9999999) S X=$S(X="":$E(XX,8),1:X_"/"_$E(XX,8))
"RTN","ONCOCOS",52,0)
 Q
"RTN","ONCOCOS",53,0)
 ;
"RTN","ONCOCOS",54,0)
 G EX
"RTN","ONCOCOS",55,0)
 ;
"RTN","ONCOCOS",56,0)
GSS ;GENERAL SUMMARY STAGE 35.1
"RTN","ONCOCOS",57,0)
 S X=$P($G(^ONCO(165.5,D0,2)),U,17),X=$S(X="":X,X=0:"In Situ",X=1:"Local",X=2:"Reg Ext",X=3:"Reg Nodes",X=4:"Reg Ext/Nodes",X=5:"Reg NOS",X=7:"Dist Met/Sys",X=9:"Unst/Unk")
"RTN","ONCOCOS",58,0)
 Q
"RTN","ONCOCOS",59,0)
SICD ;SELECTED IDCO-SITE CODES for cross-tabs
"RTN","ONCOCOS",60,0)
 G SS
"RTN","ONCOCOS",61,0)
 ;S Z=$P($G(^ONCO(165.5,D0,0)),U,22) G EX:Z=""
"RTN","ONCOCOS",62,0)
 ;S X=$S(Z=140:"LIP",Z=153:"COLON",Z=154:"RECTUM",Z=160:"NASAL CAVITY",Z=162:"LUNG",Z=188:"BLADDER",Z=193:"THYROID",Z=185:"PROSTATE",Z=186:"TESTES",Z=196:"LYMPH",1:"") Q:X'=""
"RTN","ONCOCOS",63,0)
SS ;site/gprs
"RTN","ONCOCOS",64,0)
 S X=$P(^ONCO(165.5,D0,0),U),X=$S(X=31:"LUNG",X=62:"LYMPH-H",X=63:"LYMPH-NH",X=54:"BLADDER",X=17:"COLON",X>65&(X<70):"LEUK",X=39:"MELANOMA",X=50:"PROSTATE",X=9:"ORAL CAV",1:"OTHER")
"RTN","ONCOCOS",65,0)
 Q
"RTN","ONCOCOS",66,0)
 S X=$P(^ONCO(165.5,D0,0),U),X=$S(X=63:"LYMPH-NH",1:"ALL OTHERS") G EX
"RTN","ONCOCOS",67,0)
 ;
"RTN","ONCOCOS",68,0)
MAJ ;MAJOR SITES
"RTN","ONCOCOS",69,0)
 Q
"RTN","ONCOCOS",70,0)
 ;
"RTN","ONCOCOS",71,0)
OSYS ;ICDO SYSTEMS-OLD
"RTN","ONCOCOS",72,0)
 S X=$P($G(^ONCO(165.5,D0,0)),U,22) Q:X=""
"RTN","ONCOCOS",73,0)
 S X=$S(X<150:40,X=161:40,X=160:40,X=193:90,X=191:90,X<160&(X>149):50,X>184&(X<190):85,X>169&(X<174):70,1:X)
"RTN","ONCOCOS",74,0)
 S X=$S(X=162:"LUNG",X=196:"LYMPH",X=40:"H&N",X=50:"GI",X=70:"MS",X=85:"GU",X=90:"ENDO",X=191!(X=192):"NS",1:"") Q:X'=""  S X=$P(^ONCO(165.5,D0,0),U),X=$S(X=63:"LYMPH-H",1:"OTH") Q
"RTN","ONCOCOS",75,0)
 ;
"RTN","ONCOCOS",76,0)
SYS ;SYSTEMS
"RTN","ONCOCOS",77,0)
 S X=$P(^ONCO(165.5,D0,0),U),X=$S(X=63:"LYMPH-NH",X=62:"LYMPH",1:"") Q:X'=""  S X=$P($G(^ONCO(165.5,D0,0)),U,22)
"RTN","ONCOCOS",78,0)
 Q:X=""  S X=$S(X<6715:"H&N",X<6726:"DS",X<6739:"RS",X<6747:"MS",(X>6751&(X<6768)):"GU",X=6747!(X>6769&(X<6772)):"NS",1:"OTH")
"RTN","ONCOCOS",79,0)
 Q
"RTN","ONCOCOS",80,0)
TRS ;VITAL STATUS/TUMOR STATUS
"RTN","ONCOCOS",81,0)
 S XD0=D0
"RTN","ONCOCOS",82,0)
 S XTS="."_$P($G(^ONCO(165.5,XD0,7)),U,6)_".",XTS=$S(".1.4."[XTS:"NO-Evidence",".2.5.6.7."[XTS:"CA-Evidence",1:"Unknown"),XD1=$P(^(0),U,2)
"RTN","ONCOCOS",83,0)
 S VS=$P($G(^ONCO(160,XD1,1)),U),VS=$S(VS=0:"Dead",1:"Alive")
"RTN","ONCOCOS",84,0)
 S STS=VS_"/"_XTS,X=STS G EX
"RTN","ONCOCOS",85,0)
EX ;EXIT ROUTINE
"RTN","ONCOCOS",86,0)
 K SG,XD0,XRC,XSX,XRSX
"RTN","ONCOCOS",87,0)
 Q
"RTN","ONCOCRF")
0^50^B16172095
"RTN","ONCOCRF",1,0)
ONCOCRF ;WASH ISC/SRR-CREATE/USE SPECIAL CROSS-REFERENCES - FOLLOWUP ;1/16/96
"RTN","ONCOCRF",2,0)
 ;;2.11;ONCOLOGY;**6,11,16**;Mar 07, 1995
"RTN","ONCOCRF",3,0)
 Q  ;NOT A RUN ROUTINE
"RTN","ONCOCRF",4,0)
TRIGGER ;    MUMPS cross-references to trigger fields from FOLLOW-UP Field
"RTN","ONCOCRF",5,0)
 ;    (#400) of ONCOLOGY PRIMARY File (#160)
"RTN","ONCOCRF",6,0)
 ;
"RTN","ONCOCRF",7,0)
LD ;    return index of follow-up record for last date of contact 
"RTN","ONCOCRF",8,0)
 ;    alive or first dead
"RTN","ONCOCRF",9,0)
 N O1,O2,STOP S LD="",STOP=0
"RTN","ONCOCRF",10,0)
 S O1=""
"RTN","ONCOCRF",11,0)
 FOR  S O1=$O(^ONCO(160,XD0,"F","B",O1)) Q:'O1  D  Q:STOP
"RTN","ONCOCRF",12,0)
 .  S O2=""
"RTN","ONCOCRF",13,0)
 .  FOR  S O2=$O(^ONCO(160,XD0,"F","B",O1,O2)) Q:'O2  D  Q:STOP
"RTN","ONCOCRF",14,0)
 ..    S LD=$G(^ONCO(160,XD0,"F",O2,0))
"RTN","ONCOCRF",15,0)
 ..    I $P(LD,U,2)=0 S STOP=1 ;    stop, dead
"RTN","ONCOCRF",16,0)
 ..    Q
"RTN","ONCOCRF",17,0)
 .  ;END FOR
"RTN","ONCOCRF",18,0)
 .  ;
"RTN","ONCOCRF",19,0)
 .  Q
"RTN","ONCOCRF",20,0)
 ;END FOR
"RTN","ONCOCRF",21,0)
 ;
"RTN","ONCOCRF",22,0)
 Q
"RTN","ONCOCRF",23,0)
 ;
"RTN","ONCOCRF",24,0)
LDXT ;    return follow-up record for last date of contact excluding this one
"RTN","ONCOCRF",25,0)
 S LD=$O(^ONCO(160,XD0,"F","AA",0)) I LD'="" S:$D(^(LD,DA)) LD=$O(^ONCO(160,XD0,"F","AA",LD)) I LD'="" S LD=+$O(^(LD,0)),LD=$G(^ONCO(160,XD0,"F",LD,0))
"RTN","ONCOCRF",26,0)
 Q
"RTN","ONCOCRF",27,0)
 ;
"RTN","ONCOCRF",28,0)
SLF ;Set DATE LAST CONTACT #16(1;2)
"RTN","ONCOCRF",29,0)
 S XD0=DA(1),X1=9999999-X,^ONCO(160,XD0,"F","AA",X1,DA)="" G EX
"RTN","ONCOCRF",30,0)
 ;
"RTN","ONCOCRF",31,0)
KLF ;Kill .01 of FOLLOW-UP MULTILE-RESETS: #16(1;2), STATUS #15(1;1), FOLLOWUP STATUS #15.2(1;7), DUE FOLLOW-UP #27(2;3), if alive, DATE DEATH #29 (1;8)
"RTN","ONCOCRF",32,0)
 ;CODE MODIFIED TO ILIMIATE FM RE-INCDEXING DATA LOSS
"RTN","ONCOCRF",33,0)
 ;CHANGE MADE TO PREVENT DELETING DEATH DATA, IN FM CROSS-REFERENCING
"RTN","ONCOCRF",34,0)
 S XD0=DA(1),X1=9999999-X K ^ONCO(160,XD0,"F","AA",X1,DA) G EX
"RTN","ONCOCRF",35,0)
 ;
"RTN","ONCOCRF",36,0)
SVS ;VITAL STATUS->STATUS #15 (1;1) trigger AND UPDATE DUE FOLLOW-UP IF DEAD
"RTN","ONCOCRF",37,0)
 ;    Invoked by "AC" xref on VITAL STATUS Sub-field (#1)
"RTN","ONCOCRF",38,0)
 S XD0=DA(1) D LD ;    get the last sub-record alive (or the first dead)
"RTN","ONCOCRF",39,0)
 D UVS^ONCOCRFA ;    update vital status
"RTN","ONCOCRF",40,0)
 Q
"RTN","ONCOCRF",41,0)
 ;
"RTN","ONCOCRF",42,0)
KVS ;Kill: reset STATUS
"RTN","ONCOCRF",43,0)
 S XD0=DA(1) D LDXT ;    get the last sub-record (excluding this one)
"RTN","ONCOCRF",44,0)
 D UVS^ONCOCRFA ;    update vital status
"RTN","ONCOCRF",45,0)
 Q
"RTN","ONCOCRF",46,0)
 ;
"RTN","ONCOCRF",47,0)
SDF ;DUE FOLLOW-UP-TIGGERED BY NEXT FOLLOW-UP METHOD of FOLLOW-UP MULTIPLE
"RTN","ONCOCRF",48,0)
 Q  ;S XD0=DA(1) D LD G EX:LD="",EX:I'=DA S FVS=$P(LD,U,2),NM=$P(LD,U,6),FS=$S(NM="":1,NM<8:1,FVS=0:0,1:0),LC=$P(LD,U),NF=$P(^ONCO(160,XD0,1),U,2),$P(^(1),U,7)=FS,$P(^(1),U)=FVS D KF G:'FS EX D NF G EX
"RTN","ONCOCRF",49,0)
KDF ;KILL DUE FOLLOW-UP
"RTN","ONCOCRF",50,0)
 Q  ;W !,"WRITE CODE" Q
"RTN","ONCOCRF",51,0)
R1 S XD=$G(^ONCO(160,XD0,1)) Q:XD=""  S OS=$P(XD,U) K:OS'="" ^ONCO(160,"AS",OS,XD0) S OD=$P(XD,U,2) K:OD'="" ^ONCO(160,"AD",OD,XD0)
"RTN","ONCOCRF",52,0)
 Q
"RTN","ONCOCRF",53,0)
NF S NF=$S(FS=0:"",1:$E(LC,1,3)+1_$E(LC,4,5)_"00"),$P(^ONCO(160,XD0,1),U,2)=NF I NF'="" S ^ONCO(160,"AD",NF,XD0)=""
"RTN","ONCOCRF",54,0)
 Q
"RTN","ONCOCRF",55,0)
 ;
"RTN","ONCOCRF",56,0)
UPD ;UPDATE FIELDS TO MOST RECENT FOLLOW-UP DATE
"RTN","ONCOCRF",57,0)
 ;UNDER PROGRAM CONTOL to update all upper level fiels
"RTN","ONCOCRF",58,0)
 ;UPDATE: DATE LAST CONTACT,STATUS,FOLLOW-UP STATUS,DUE FOLLOW-UP, DATE DEATH
"RTN","ONCOCRF",59,0)
XD0 ;ENTER WITH D0=XD0
"RTN","ONCOCRF",60,0)
 I '$D(XD0) Q:'$D(D0)  S XD0=D0
"RTN","ONCOCRF",61,0)
 D LD,R1 G EX:LD="" S LC=$P(LD,U),ONCOVS=$P(LD,U,2),NM=$P(LD,U,6),FS=$S(NM="":1,NM<8:1,ONCOVS=0:0,1:0) I FS S X1=DT,X2=LC D ^%DTC S FS=$S(X>456.25:8,1:FS)
"RTN","ONCOCRF",62,0)
 S $P(^ONCO(160,XD0,1),U)=ONCOVS,$P(^(1),U,7)=FS,$P(^(1),U,4)=$S(ONCOVS=0:9,1:0) D NF I FS S Y=NF D DD^%DT W !!?20,"DUE Follow-up: ",Y G EX
"RTN","ONCOCRF",63,0)
 S:ONCOVS=0 $P(^ONCO(160,XD0,1),U,8)=LC W !!?20,"NOT FOLLOWED" G EX
"RTN","ONCOCRF",64,0)
 ;
"RTN","ONCOCRF",65,0)
LFU ;LAST FOLLOW-UP SUMMARY-SELCTED DATA from Last Follow-up
"RTN","ONCOCRF",66,0)
 S XD0=D0 D GD I X="" W !?10,"NO Last Contact Information on Patient",! G EX
"RTN","ONCOCRF",67,0)
DLC ;DATE LAST CONTACT (160,16) from "AF" cross-reference
"RTN","ONCOCRF",68,0)
 S XD0=D0 D GD G EX
"RTN","ONCOCRF",69,0)
 ;
"RTN","ONCOCRF",70,0)
CAS ;CANCER STATUS Last Date Contact
"RTN","ONCOCRF",71,0)
DOD ;computed Date of Death
"RTN","ONCOCRF",72,0)
 I $D(^ONCO(160,D0,1)),$P(^(1),U)=0 G DLC
"RTN","ONCOCRF",73,0)
 S X="" G EX
"RTN","ONCOCRF",74,0)
GD ;DATE LAST CONTACT (160,16)
"RTN","ONCOCRF",75,0)
 S X=$S('$D(^ONCO(160,XD0,"F","AA")):"",1:9999999-$O(^ONCO(160,XD0,"F","AA",0))) Q
"RTN","ONCOCRF",76,0)
 ;
"RTN","ONCOCRF",77,0)
PDLC ;DATE LAST CONTACT (165.5,200)
"RTN","ONCOCRF",78,0)
 S X=$S('$D(^ONCO(165.5,D0,"TS","AA")):"",1:9999999-$O(^ONCO(165.5,D0,"TS","AA",0))) G EX
"RTN","ONCOCRF",79,0)
 ;
"RTN","ONCOCRF",80,0)
PDLC1 ;DATE LAST CONTACT FILMANAGER FORMAT
"RTN","ONCOCRF",81,0)
 D P0 G EX:XD0="" D GD G EX
"RTN","ONCOCRF",82,0)
 ;
"RTN","ONCOCRF",83,0)
P0 S XD0=$P($G(^ONCO(165.5,D0,0)),U,2)
"RTN","ONCOCRF",84,0)
 Q
"RTN","ONCOCRF",85,0)
 ;
"RTN","ONCOCRF",86,0)
SDA ;SURVIVAL DAYS
"RTN","ONCOCRF",87,0)
 D P0 G EX:XD0="" D SD G EX ;PRESENTS SURVIVAL IN DAYS
"RTN","ONCOCRF",88,0)
 ;
"RTN","ONCOCRF",89,0)
SUR ;SURVIVAL (MONTHS)
"RTN","ONCOCRF",90,0)
 D P0 G EX:XD0="" D SD G EX:X="" S X=X/30.4375 G EX
"RTN","ONCOCRF",91,0)
 ;
"RTN","ONCOCRF",92,0)
SYR ;SURVIVAL YEARS
"RTN","ONCOCRF",93,0)
 D P0 G EX:XD0="" D SD G EX:X="" S X=X/365.25 G EX
"RTN","ONCOCRF",94,0)
 ;
"RTN","ONCOCRF",95,0)
SWK ;WEEKS FOLLOWUP
"RTN","ONCOCRF",96,0)
 D P0 G EX:XD0="" D SD G EX:X="" S X=X/7 G EX
"RTN","ONCOCRF",97,0)
 ;
"RTN","ONCOCRF",98,0)
SD S XDX=$P(^ONCO(165.5,D0,0),U,16) D GD,DC
"RTN","ONCOCRF",99,0)
 Q
"RTN","ONCOCRF",100,0)
DC ;DATE COMPARE
"RTN","ONCOCRF",101,0)
 S X2=XDX,X1=X S X=$S(X2="":"",X1="":"",1:0) Q:X=""  I X2>X1 S X="" Q
"RTN","ONCOCRF",102,0)
 D ^%DTC Q
"RTN","ONCOCRF",103,0)
DD ;DATE FORMATING
"RTN","ONCOCRF",104,0)
 S XD=$S(XD="":"",$E(XD,6,7)="00":$E(XD,4,5)_"/"_($E(XD,1,3)+1700),1:$E(XD,4,5)_"/"_$E(XD,6,7)_"/"_($E(XD,1,3)+1700))
"RTN","ONCOCRF",105,0)
 Q
"RTN","ONCOCRF",106,0)
EX ;KILL VARAIBLES and EXIT
"RTN","ONCOCRF",107,0)
 K ONCODF,FS,NF,LC,LD,XD0,FVS,X1,XD,Y,XX
"RTN","ONCOCRF",108,0)
 Q
"RTN","ONCOCRF",109,0)
T ;TEST
"RTN","ONCOCRF",110,0)
 W:$D(^ONCO(160,XD0,1)) ^(1) Q
"RTN","ONCODIS")
0^29^B1484817
"RTN","ONCODIS",1,0)
ONCODIS ;WASH ISC/SRR-ONCOLOGY DISPLAYS ;6/2/92  22:22
"RTN","ONCODIS",2,0)
 ;;2.11;Oncology;**6,7,9,10,11,12,13,14,15,16**;Mar 07, 1995
"RTN","ONCODIS",3,0)
MAIN ;Begin main menu VA display
"RTN","ONCODIS",4,0)
 S VR=$P($T(ONCODIS+1),";",3),NM="ONCOLOGY TUMOR REGISTRY" D LOGO,FUNCT Q
"RTN","ONCODIS",5,0)
FUNCT ;INTRODUCTION
"RTN","ONCODIS",6,0)
 W !!?10,"Choose among the following functions:"
"RTN","ONCODIS",7,0)
 Q
"RTN","ONCODIS",8,0)
LOGO ;DISPLAY LOGO
"RTN","ONCODIS",9,0)
 S:'$D(IOF) IOP="HOME" D:'$D(IOF) ^%ZIS W *7,@IOF W !!!!!!! F I=1:1:9 W !,?22,$P($T(DISP+I),";",3)
"RTN","ONCODIS",10,0)
 W !!,?23,"Department of Veterans Affairs",!!?23,NM_" V"_VR_"P16" Q
"RTN","ONCODIS",11,0)
DISP ;
"RTN","ONCODIS",12,0)
 ;;VVVV            VVAA
"RTN","ONCODIS",13,0)
 ;; VVVV          VVAAAA
"RTN","ONCODIS",14,0)
 ;;  VVVV        VVAAAAAA
"RTN","ONCODIS",15,0)
 ;;   VVVV      VVAA  AAAA
"RTN","ONCODIS",16,0)
 ;;    VVVV    VVAA    AAAA
"RTN","ONCODIS",17,0)
 ;;     VVVV  VVAA      AAAA
"RTN","ONCODIS",18,0)
 ;;      VVVVVVAA        AAAA
"RTN","ONCODIS",19,0)
 ;;       VVVVAA   AAAAAAAAAAA
"RTN","ONCODIS",20,0)
 ;;        VVAA     AAAAAAAAAAA
"RTN","ONCODIS",21,0)
D W !!?30,"INSTALLATION",!!,?20,NM," PACKAGE",!!,?31,"VERSION ",VR Q
"RTN","ONCODLF")
0^40^B22082296
"RTN","ONCODLF",1,0)
ONCODLF ;WASH ISC/SRR,MLH-DISPLAY FOLLOW-UP DATA, ALL/LATEST ;5/12/94  14:37
"RTN","ONCODLF",2,0)
 ;;2.11;ONCOLOGY;**16**;Mar 07, 1995
"RTN","ONCODLF",3,0)
 ;
"RTN","ONCODLF",4,0)
LFS ;LAST FOLLOW-UP STATUS (from D0 #165.59 - computed primary
"RTN","ONCODLF",5,0)
 S XD0=$P(^ONCO(165.5,D0,0),U,2) G LF
"RTN","ONCODLF",6,0)
 ;
"RTN","ONCODLF",7,0)
LST ;LAST FOLLOW-UP (Most Recent);D0 #160
"RTN","ONCODLF",8,0)
 S (XD0,OD0)=D0
"RTN","ONCODLF",9,0)
LF S XD1=$O(^ONCO(160,XD0,"F","AA",0)) G:XD1'>0 EX S XD1=$O(^(XD1,0)),XXD0=$S($D(^ONCO(160,XD0,"F",XD1)):^(XD1,0),1:""),NL=$S($D(^ONCO(160,XD0,"F",XD1,1,0)):$P(^(0),U,4),1:"") D:XD1 WD G EX
"RTN","ONCODLF",10,0)
 ;
"RTN","ONCODLF",11,0)
FHC ;HISTORY-FOLLOWUP (COMPLETE) #46;D0=#160
"RTN","ONCODLF",12,0)
 S (OD0,XD0)=D0,LST=9999999,HIS=1
"RTN","ONCODLF",13,0)
F N XXD1,OJ S (XXD1,OJ)=0
"RTN","ONCODLF",14,0)
 F  S XXD1=$O(^ONCO(160,XD0,"F","AA",XXD1)) S OJ=OJ+1 G END:XXD1'>0,END:XXD1>LST S XD1=$O(^(XXD1,0)),XXD0=$G(^ONCO(160,XD0,"F",XD1,0)),FDAT=$P(XXD0,U) K NL D C:XXD0'="",HD S D0=XD0,D1=XD1 D MTS^ONCOCOFA,WD
"RTN","ONCODLF",15,0)
END ;End follow-up
"RTN","ONCODLF",16,0)
 G EX:'$D(XD1) D HD:OJ>1,C S VS=$S($D(^ONCO(160,XD0,1)):$P(^(1),U),1:"") G DEAD:VS=0,EX
"RTN","ONCODLF",17,0)
 ;
"RTN","ONCODLF",18,0)
DEAD ;DEATH INFORMATION
"RTN","ONCODLF",19,0)
 S D0=XD0 K DXS,DIOT D ^ONCOXDI G EX
"RTN","ONCODLF",20,0)
 ;
"RTN","ONCODLF",21,0)
FHP ;FOLLOW-UP HISTORY #150 (for particular primary):D0=#165.5
"RTN","ONCODLF",22,0)
 N FDAT,OJ
"RTN","ONCODLF",23,0)
 S (XD0,OD0)=D0
"RTN","ONCODLF",24,0)
P S XD0=$G(^ONCO(165.5,XD0,0)) G EX:XD0="" D DAT S LST=9999999-XLC,XD0=$P(XD0,U,2)
"RTN","ONCODLF",25,0)
 ;12May94 MLH inserted K NL below between ,FDAT=$P(XXD0,U
"RTN","ONCODLF",26,0)
 ;        and D C:XXD0'="",  for Patch ONC*2.1*9
"RTN","ONCODLF",27,0)
 S (XXD1,OJ)=0 F  S XXD1=$O(^ONCO(160,XD0,"F","AA",XXD1)) S OJ=OJ+1 G FIN:XXD1'>0,FIN:XXD1>LST S XD1=$O(^(XXD1,0)),XXD0=$G(^ONCO(160,XD0,"F",XD1,0)),FDAT=$P(XXD0,U) K NL D C:XXD0'="",HD I XXD0'="" S D0=XD0,D1=XD1 D MTS^ONCOCOFA,WD
"RTN","ONCODLF",28,0)
FIN D:OJ>1 HD G EX
"RTN","ONCODLF",29,0)
 ;
"RTN","ONCODLF",30,0)
 ;
"RTN","ONCODLF",31,0)
DAT ;Get Reference date
"RTN","ONCODLF",32,0)
 S XLC=$P(XD0,U,16) Q:XLC'=""  S XLC=$P(XD0,U,9) Q:XLC'=""  S XLC=$P(XD0,U,8) Q
"RTN","ONCODLF",33,0)
 ;
"RTN","ONCODLF",34,0)
 S YR=$P(XD0,U,7) I XDD'="" Q:($E(XDD,1,3)+1700)'<YR
"RTN","ONCODLF",35,0)
 S XDD=2_$E(YR,3,4)_"0000"
"RTN","ONCODLF",36,0)
 Q
"RTN","ONCODLF",37,0)
HD ;header for Follow-up History
"RTN","ONCODLF",38,0)
 W !!,"--------------------------------------------------------------------------------"
"RTN","ONCODLF",39,0)
 Q
"RTN","ONCODLF",40,0)
WD S X(6)=$P(XXD0,U,6) F I=1:1:5 S X(I-1)=$P(XXD0,U,I)
"RTN","ONCODLF",41,0)
0 ;LAST DATE CONTACT
"RTN","ONCODLF",42,0)
 S Y=X(0) D:Y DD^%DT S X(0)=Y
"RTN","ONCODLF",43,0)
1 S X=X(1),X(1)=$S(X=0:"Dead",X=1:"Alive",1:"") ;$S(X="":"",1:$P($P($P(^DD(160.04,1,0),U,3),";",X+1),":",2))
"RTN","ONCODLF",44,0)
2 S X=X(2),X(2)=$P($G(^ONCO(164.48,+X,0)),U) ; S:X'="" XX=$P(^DD(160.04,2,0),U,3),X(2)=$E($S(X=9:$P($P(XX,";",3),":",2),1:$P($P(XX,";",X),":",2)),1,18)
"RTN","ONCODLF",45,0)
3 S X=X(3),X(3)=$S(X=0:"Reported Hospitalization",X=1:"Readmission (inpatient or outpatient",X=2:"Physician",X=3:"Patient",X=4:"Department of Motor Vehicles",X=5:"Medicare/Medicaid file",X=7:"Death certificate",X=8:"Other",1:"Unknown")
"RTN","ONCODLF",46,0)
4 S X=X(4),X(4)=$S(X=0:"Normal",X=1:"Symptomatic & Ambulatory",X=2:"More than 50% Ambulatory",X=3:"Less than 50% Ambulatory",X=4:"Bedridden",X=8:"Not applicable, dead",1:"Unknown or unspecified")
"RTN","ONCODLF",47,0)
6 S X=X(6),X(6)=$S(X=0:"Chart requisition",X=1:"Physician",X=2:"Contact letter",X=3:"Phone call",X=4:"Other hospital contact",X=5:"Other",X=8:"Foreign residents (not allowed)",1:"Not followed")
"RTN","ONCODLF",48,0)
 ;
"RTN","ONCODLF",49,0)
DIS ;Display last follow-up data
"RTN","ONCODLF",50,0)
TS ;TS
"RTN","ONCODLF",51,0)
 ;S D0=XD0,D1=XD1 D MTS^ONCOCOM
"RTN","ONCODLF",52,0)
 W !,"Last Contact: ",?15,X(0),?34,"Follow-up Method: ",?56,$E(X(3),1,24)
"RTN","ONCODLF",53,0)
 W !,"Vital Status: ",?15,X(1),?34,"Quality of Survival: ",?56,$E(X(4),1,24)
"RTN","ONCODLF",54,0)
 ;W !,"Cancer Status: ",?15,X(2),
"RTN","ONCODLF",55,0)
 W !?34,"Nxt Follow-up Method: ",?56,$E(X(6),1,24)
"RTN","ONCODLF",56,0)
 Q:NL=""  W !,"Comments:"
"RTN","ONCODLF",57,0)
PC S X=0 F I=0:0 S X=$O(^ONCO(160,XD0,"F",XD1,1,X)) Q:X'>0  W !,^(X,0)
"RTN","ONCODLF",58,0)
 ;
"RTN","ONCODLF",59,0)
C Q:$D(NL)  S NL=$S($D(^ONCO(160,XD0,"F",+XD1,1,0)):($P(^(0),U,4)+1),1:""),TL=6+NL Q:TL<(IOSL-($Y))  D HD W # I $D(^UTILITY($J,1)) X ^(1) Q
"RTN","ONCODLF",60,0)
 W ?10,"*************** FOLLOWUP HISTORY ***************",!!
"RTN","ONCODLF",61,0)
 Q
"RTN","ONCODLF",62,0)
DT I Y W $P("JAN^FEB^MAR^APR^MAY^JUN^JUL^AUG^SEP^OCT^NOV^DEC",U,$E(Y,4,5))_" " W:Y#100 $J(Y#100\1,2)_"," W Y\10000+1700 W:Y#1 "  "_$E(Y_0,9,10)_":"_$E(Y_"000",11,12) Q
"RTN","ONCODLF",63,0)
 Q
"RTN","ONCODLF",64,0)
N W !
"RTN","ONCODLF",65,0)
T W:$X ! I '$D(DIOT(2)),DN,$D(IOSL),$S('$D(DIWF):1,$P(DIWF,"B",2):$P(DIWF,"B",2),1:1)+$Y'<IOSL,$D(^UTILITY($J,1))#2,^(1)?1U1P1E X ^(1)
"RTN","ONCODLF",66,0)
 Q
"RTN","ONCODLF",67,0)
EX ;Kill and Exit
"RTN","ONCODLF",68,0)
 S D0=OD0 ;RESET wherever came from
"RTN","ONCODLF",69,0)
 K OD0,HIS,NL,XD1,XD0,I,X1,X2,XXD0,XX,VS S X=""
"RTN","ONCODLF",70,0)
 Q
"RTN","ONCODSR")
0^1^B44313522
"RTN","ONCODSR",1,0)
ONCODSR ;WASH ISC/SRR,MLH,RTK-CANCER DIRECTED SURGERY ;8/12/94  16:51
"RTN","ONCODSR",2,0)
 ;;2.11;ONCOLOGY;**1,5,6,7,11,13,15,16**;Mar 07, 1995
"RTN","ONCODSR",3,0)
 ;7/12/94 MLH MODIFIED for Oncology 2.11 to use new file 164.5
"RTN","ONCODSR",4,0)
 ;
"RTN","ONCODSR",5,0)
SS ;SITE SPECIFIC SURGERY (CANCER DIRECTED)
"RTN","ONCODSR",6,0)
 ;^ONCO(164.2,9,"S",1-10) hold NON-CANCER-DIRECTED surgery codes 0-9
"RTN","ONCODSR",7,0)
 ;^ONCO(164.2,SITE/GP,"S",11-100) holds CANCER-DIRECTED surgery coes 10-99
"RTN","ONCODSR",8,0)
 ;
"RTN","ONCODSR",9,0)
CDSIT ;INPUT TRANSFORM FOR SURGERY OF PRIMARY SITE #58.2
"RTN","ONCODSR",10,0)
 N T,TOPGRPHY,SS
"RTN","ONCODSR",11,0)
 K:$L(X)>2!(X'?1.N) X G EX:'$D(X)
"RTN","ONCODSR",12,0)
 I X="00" W "  No surgical procedure" G EX
"RTN","ONCODSR",13,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G ER:TOPGRPHY=""
"RTN","ONCODSR",14,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",15,0)
 I '$D(^ONCO(164.5,SS,1,X+1,0)) K X G EX
"RTN","ONCODSR",16,0)
 I ($P(^ONCO(165.5,D0,0),"^",16)>2951231),$E(X,2)=8 K X G EX
"RTN","ONCODSR",17,0)
 W "  ",^ONCO(164.5,SS,1,X+1,0) G EX
"RTN","ONCODSR",18,0)
 ;
"RTN","ONCODSR",19,0)
NCDSIT ;INPUT TRANSFORM FOR NON CANCER-DIRECTED SURGERY #58.1
"RTN","ONCODSR",20,0)
 I '$D(^ONCO(160.14,"B",X)) K X G EX
"RTN","ONCODSR",21,0)
 I $P(^ONCO(165.5,D0,0),"^",16)<2960000,$L(X)>1 K X G EX
"RTN","ONCODSR",22,0)
 I $P(^ONCO(165.5,D0,0),"^",16)>2951231,$L(X)=1 K X G EX
"RTN","ONCODSR",23,0)
 S NCDSIEN=$O(^ONCO(160.14,"B",X,0))
"RTN","ONCODSR",24,0)
 W "  ",$P(^ONCO(160.14,NCDSIEN,0),"^",2)
"RTN","ONCODSR",25,0)
 K NCDSIEN Q
"RTN","ONCODSR",26,0)
 ;
"RTN","ONCODSR",27,0)
CDSOT ;OUTPUT TRANSFORM FOR SURGERY OF PRIMARY SITE #58.2
"RTN","ONCODSR",28,0)
 I Y="00" S Y=Y_" No surgical procedure" G EX
"RTN","ONCODSR",29,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",30,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G EX:TOPGRPHY=""
"RTN","ONCODSR",31,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",32,0)
 S Y=Y_" "_$G(^ONCO(164.5,SS,1,Y+1,0)) G EX
"RTN","ONCODSR",33,0)
 ;
"RTN","ONCODSR",34,0)
NCDSOT ;OUTPUT TRANSFORM FOR NON CANCER-DIRECTED SURGERY #58.1
"RTN","ONCODSR",35,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",36,0)
 Q:Y=""
"RTN","ONCODSR",37,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G EX:TOPGRPHY=""
"RTN","ONCODSR",38,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",39,0)
 S NCDSIEN=$O(^ONCO(160.14,"B",Y,0))
"RTN","ONCODSR",40,0)
 I NCDSIEN'="" S Y=Y_" "_$P(^ONCO(160.14,NCDSIEN,0),"^",2)
"RTN","ONCODSR",41,0)
 G EX
"RTN","ONCODSR",42,0)
 ;
"RTN","ONCODSR",43,0)
HP0 ;NON CANCER-DIRECTED SURGERY HELP
"RTN","ONCODSR",44,0)
 N TOPGRPHY,TPGRPHYR,XX
"RTN","ONCODSR",45,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G:TOPGRPHY="" ER
"RTN","ONCODSR",46,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",47,0)
 W !?5,"NON CANCER-DIRECTED SURGERY Codes for site ",$P(TPGRPHYR,U,2)
"RTN","ONCODSR",48,0)
 W " ",$P(TPGRPHYR,U),!!
"RTN","ONCODSR",49,0)
 I $P(^ONCO(165.5,D0,0),"^",16)>2951231 F XX="00","01","02","03","04","05","06","07","09" S NCDSIEN=$O(^ONCO(160.14,"B",XX,0)) W " ",$P(^ONCO(160.14,NCDSIEN,0),"^",1),"  ",$P(^ONCO(160.14,NCDSIEN,0),"^",2),!
"RTN","ONCODSR",50,0)
 I $P(^ONCO(165.5,D0,0),"^",16)<2960000 F XX=0:1:9 S NCDSIEN=$O(^ONCO(160.14,"B",XX,0)) W " ",$P(^ONCO(160.14,NCDSIEN,0),"^",1),"  ",$P(^ONCO(160.14,NCDSIEN,0),"^",2),!
"RTN","ONCODSR",51,0)
 K NCDSIEN G EX
"RTN","ONCODSR",52,0)
 ;
"RTN","ONCODSR",53,0)
HP1 ;SURGERY OF PRIMARY SITE HELP
"RTN","ONCODSR",54,0)
 N TOPGRPHY,TPGRPHYR,SS,XX
"RTN","ONCODSR",55,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G:TOPGRPHY="" ER
"RTN","ONCODSR",56,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",57,0)
 S SS=$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",58,0)
 W !?5,"SURGERY OF PRIMARY SITE Codes for site ",$P(TPGRPHYR,U,2)," "
"RTN","ONCODSR",59,0)
 W $P(TPGRPHYR,U),!?5,"(",$P(^ONCO(164.5,SS,0),U),")",!!
"RTN","ONCODSR",60,0)
 W " ","00  No surgical procedure",!
"RTN","ONCODSR",61,0)
 S XX=10 F  S XX=$O(^ONCO(164.5,SS,1,XX)) Q:XX'=+XX  D
"RTN","ONCODSR",62,0)
 .S XXX=XX-1
"RTN","ONCODSR",63,0)
 .I ($P(^ONCO(165.5,D0,0),"^",16)<2960000)!($E(XXX,2)'=8) W " ",(XX-1)_"  "_^ONCO(164.5,SS,1,XX,0),!
"RTN","ONCODSR",64,0)
 G EX
"RTN","ONCODSR",65,0)
 ;
"RTN","ONCODSR",66,0)
ER ;ERROR
"RTN","ONCODSR",67,0)
 W !!,?10,"ICDO CODE NOT defined!! - cannot continue",! G EX
"RTN","ONCODSR",68,0)
 ;
"RTN","ONCODSR",69,0)
EX ;EXIT
"RTN","ONCODSR",70,0)
 K AN,SS,ONCOSR
"RTN","ONCODSR",71,0)
 Q
"RTN","ONCODSR",72,0)
 ;
"RTN","ONCODSR",73,0)
TOPGRPHY(PRIMIX) ; returns ICDO-2 topography code for primary site PRIMIX
"RTN","ONCODSR",74,0)
 Q $P($G(^ONCO(165.5,PRIMIX,2)),U)
"RTN","ONCODSR",75,0)
ESSPIT ;INPUT TRANSFORM FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",76,0)
 N T,TOPGRPHY,SS
"RTN","ONCODSR",77,0)
 K:$L(X)>2!(X'?1.N) X G EX:'$D(X)
"RTN","ONCODSR",78,0)
 I X="00" W "  No additional surgical procedure" G EX
"RTN","ONCODSR",79,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),"^",10) G ER:TOPGRPHY=""
"RTN","ONCODSR",80,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") K X G EX
"RTN","ONCODSR",81,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",82,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",83,0)
 I '$D(^ONCO(164.5,SS,1,X+1,0)) K X G EX
"RTN","ONCODSR",84,0)
 I ($P(^ONCO(165.5,D0,0),"^",16)>2951231),$E(X,2)=8 K X G EX
"RTN","ONCODSR",85,0)
 W "  ",^ONCO(164.5,SS,1,X+1,0) G EX
"RTN","ONCODSR",86,0)
 ;
"RTN","ONCODSR",87,0)
ESSPOT ;OUTPUT TRANSFORM FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",88,0)
 I Y="00" S Y=Y_"  No additional surgical procedure" G EX
"RTN","ONCODSR",89,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",90,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),"^",10) G EX:TOPGRPHY=""
"RTN","ONCODSR",91,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") G EX
"RTN","ONCODSR",92,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",93,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",94,0)
 S Y=Y_" "_$G(^ONCO(164.5,SS,1,Y+1,0)) G EX
"RTN","ONCODSR",95,0)
 ;
"RTN","ONCODSR",96,0)
ESSHP ;EXECUTABLE HELP FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",97,0)
 N TOPGRPHY,TPGRPHYR,SS,XX
"RTN","ONCODSR",98,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),"^",10) G ER:TOPGRPHY=""
"RTN","ONCODSR",99,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") W !,?5,"No extranodal site or unknown extranodal site!!",!!,?5,"00 No additional surgical procedure",! G EX
"RTN","ONCODSR",100,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",101,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",102,0)
 S SS=$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",103,0)
 W !!,"SURGERY OF PRIMARY SITE Codes for site ",$P(TPGRPHYR,U,2)," "
"RTN","ONCODSR",104,0)
 W $P(TPGRPHYR,U),!,"(",$P(^ONCO(164.5,SS,0),U),")",!!
"RTN","ONCODSR",105,0)
 W " ","00 No additional surgical procedure",!
"RTN","ONCODSR",106,0)
 S XX=10 F  S XX=$O(^ONCO(164.5,SS,1,XX)) Q:XX'=+XX  D
"RTN","ONCODSR",107,0)
 .S XXX=XX-1
"RTN","ONCODSR",108,0)
 .I ($P(^ONCO(165.5,D0,0),"^",16)<2960000)!($E(XXX,2)'=8) W " ",(XX-1)_" "_^ONCO(164.5,SS,1,XX,0),!
"RTN","ONCODSR",109,0)
 W !,"Enter a code from the above list." G EX
"RTN","ONCODSR",110,0)
 Q
"RTN","ONCODSR",111,0)
FADIT ;FIRST ADMIT DATE INPUT TRANSFORM (NOT FUTURE, FAD <= DISCHARGE)
"RTN","ONCODSR",112,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $D(X) S DISDT=$P($G(^ONCO(165.5,D0,0)),"^",9) I DISDT'="" K:X>DISDT X K %DT(0)
"RTN","ONCODSR",113,0)
 Q
"RTN","ONCODSR",114,0)
DSDTIT ;DISCHARGE DATE INPUT TRANSFORM (NOT FUTURE, DISCHARGE >= FAD)
"RTN","ONCODSR",115,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $D(X) S FAD=$P($G(^ONCO(165.5,D0,0)),"^",8) I FAD'="" K:X<FAD X K %DT(0)
"RTN","ONCODSR",116,0)
 Q
"RTN","ONCODSR",117,0)
DFIT ;INPUT TRANSFORM FOR DATE FIELDS (NO FUTURE DATES AND >= DATE DX)
"RTN","ONCODSR",118,0)
 I $G(DIFLD)=124 S NTDD=""
"RTN","ONCODSR",119,0)
 I X="00/00/00" S X="0000000" Q
"RTN","ONCODSR",120,0)
 I X="00/00/0000" S X="0000000" Q
"RTN","ONCODSR",121,0)
 I X="00000000" S X="0000000" Q
"RTN","ONCODSR",122,0)
 I X="99/99/99" S X=9999999 Q
"RTN","ONCODSR",123,0)
 I X="99/99/9999" S X=9999999 Q
"RTN","ONCODSR",124,0)
 I X="99999999" S X=9999999 Q
"RTN","ONCODSR",125,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y I Y<1 K X W !!?5,"Future dates are not allowed.",! K %DT(0) Q
"RTN","ONCODSR",126,0)
 S DTDX=$P($G(^ONCO(165.5,D0,0)),"^",16) I DTDX'="" I X<DTDX K X W !!?5,"This date must be later than or equal to the DATE DX of ",$E(DTDX,4,5)_"/"_$E(DTDX,6,7)_"/"_($E(DTDX,1,3)+1700)_".",! K DTDX Q
"RTN","ONCODSR",127,0)
 Q
"RTN","ONCODSR",128,0)
NTIT ;INPUT TRANSFORM FOR DATE OF NO TREATMENT (165.5,124)
"RTN","ONCODSR",129,0)
 ;(NO FUTURE DATES AND >= DATE DX)
"RTN","ONCODSR",130,0)
 S NTDD=""
"RTN","ONCODSR",131,0)
 I (X="00/00/00")!(X="00/00/0000")!(X="00000000") K X Q
"RTN","ONCODSR",132,0)
 I (X="99/99/99")!(X="99/99/9999")!(X="99999999") K X Q
"RTN","ONCODSR",133,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y I Y<1 K X W !!?5,"Future dates are not allowed.",! K %DT(0) Q
"RTN","ONCODSR",134,0)
 S DTDX=$P($G(^ONCO(165.5,D0,0)),"^",16) I DTDX'="" I X<DTDX K X W !!?5,"This date must be later than or equal to the DATE DX of ",$E(DTDX,4,5)_"/"_$E(DTDX,6,7)_"/"_($E(DTDX,1,3)+1700)_".",! K DTDX Q
"RTN","ONCODSR",135,0)
 Q
"RTN","ONCODSR",136,0)
NT ;DATE OF NO TREATMENT (Input transform for treatment fields)
"RTN","ONCODSR",137,0)
 S NTDD=$P($G(^ONCO(165.5,D0,2.1)),"^",11)
"RTN","ONCODSR",138,0)
 I (NTDD'="")&(X'=V) K X W !!?5,"This primary has a DATE OF NO TREATMENT of ",$E(NTDD,4,5)_"/"_$E(NTDD,6,7)_"/"_($E(NTDD,1,3)+1700)_".",!?5,"Treatments are not allowed unless the DATE OF NO TREATMENT is deleted.",!
"RTN","ONCODSR",139,0)
 K NTDD,V Q
"RTN","ONCODSR",140,0)
DBTS ;DATE BRACHYTHERAPY STARTED INPUT TRANSFORM (NOT FUTURE, DX<=DBS<=DBE)
"RTN","ONCODSR",141,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X Q:'$D(X)
"RTN","ONCODSR",142,0)
 S DBE=$P($G(^ONCO(165.5,D0,"STS2")),"^",13),DTDX=$P($G(^ONCO(165.5,D0,0)),"^",16)
"RTN","ONCODSR",143,0)
 I DBE'="" K:X>DBE X Q:'$D(X)
"RTN","ONCODSR",144,0)
 I DTDX'="" K:X<DTDX X K %DT(0)
"RTN","ONCODSR",145,0)
 Q
"RTN","ONCODSR",146,0)
DBTE ;DATE BRACHYTHERAPY ENDED INPUT TRANSFORM (NOT FUTURE, DBS<=DBE)
"RTN","ONCODSR",147,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $D(X) S DBS=$P($G(^ONCO(165.5,D0,"STS2")),"^",12) I DBS'="" K:X<DBS X K %DT(0)
"RTN","ONCODSR",148,0)
 Q
"RTN","ONCODXD")
0^23^B21123078
"RTN","ONCODXD",1,0)
ONCODXD ;HIRMFO/RTK-INPUT TRANSFORM FOR DATE DX FIELD ;4/9/97
"RTN","ONCODXD",2,0)
 ;;2.11;ONCOLOGY;**11,13,15,16**;Mar 07,1995
"RTN","ONCODXD",3,0)
 ;
"RTN","ONCODXD",4,0)
DTDXIT ; Check that date entered is BEFORE or EQUAL to all other DATE fields
"RTN","ONCODXD",5,0)
 S DTXFLAG=1,C=0,MULT="" K LIST,SBCT,SUBR,RADT D CHKDTS
"RTN","ONCODXD",6,0)
 I DTXFLAG=1 D KLL Q
"RTN","ONCODXD",7,0)
 K X W !?4,"The DATE DX must be BEFORE or EQUAL TO certain date fields.  The date"
"RTN","ONCODXD",8,0)
 W !?4,"you have entered is unacceptable because it is AFTER the"
"RTN","ONCODXD",9,0)
 W !?4,"following date field(s):",!
"RTN","ONCODXD",10,0)
 F RTK=0:0 S RTK=$O(LIST(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",11,0)
 .S INDT=$P(LIST(RTK),"^",2) D DT
"RTN","ONCODXD",12,0)
 .W !?4,EXDT," - ",$P(LIST(RTK),"^",1) Q
"RTN","ONCODXD",13,0)
 F RTK=0:0 S RTK=$O(SBCT(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",14,0)
 .S INDT=$P(SBCT(RTK),"^",2) D DT
"RTN","ONCODXD",15,0)
 .W !?4,EXDT," - SUBSEQUENT COURSE TREATMENT ",$P(SBCT(RTK),"^",3)
"RTN","ONCODXD",16,0)
 .W " - ",$P(SBCT(RTK),"^",1) Q
"RTN","ONCODXD",17,0)
 F RTK=0:0 S RTK=$O(SUBR(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",18,0)
 .S INDT=$P(SUBR(RTK),"^",2) D DT
"RTN","ONCODXD",19,0)
 .W !?4,EXDT," - SUBSEQUENT RECURRENCE ",$P(SUBR(RTK),"^",3)
"RTN","ONCODXD",20,0)
 .W " - ",$P(SUBR(RTK),"^",1) Q
"RTN","ONCODXD",21,0)
 F RTK=0:0 S RTK=$O(RADT(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",22,0)
 .S INDT=$P(RADT(RTK),"^",2) D DT
"RTN","ONCODXD",23,0)
 .W !?4,EXDT," - RADIATION TREATMENT ",$P(RADT(RTK),"^",3)
"RTN","ONCODXD",24,0)
 .W " - ",$P(RADT(RTK),"^",1) Q
"RTN","ONCODXD",25,0)
 W !
"RTN","ONCODXD",26,0)
KLL K C,DTXFLAG,EXDT,FLD,FLDNM,INDT,LIST,MULT,NODE0,NODE1,NODE22
"RTN","ONCODXD",27,0)
 K NODE3,NODE31,NODE5,NODE7,NODEBL1,NODEBL2,NODENH2,NODEST2,NODETH1
"RTN","ONCODXD",28,0)
 K RADT,RADTZND,RDZ,RTK,SBCT,SBCTZND,SRZ,SUBR,SUBRZND,SZ Q
"RTN","ONCODXD",29,0)
CHKDTS ; Check it against all other DATE fields
"RTN","ONCODXD",30,0)
 S NODE0=$G(^ONCO(165.5,D0,0)),NODE1=$G(^ONCO(165.5,D0,1))
"RTN","ONCODXD",31,0)
 S NODE3=$G(^ONCO(165.5,D0,3)),NODE31=$G(^ONCO(165.5,D0,3.1))
"RTN","ONCODXD",32,0)
 S NODE5=$G(^ONCO(165.5,D0,5)),NODE7=$G(^ONCO(165.5,D0,7))
"RTN","ONCODXD",33,0)
 S NODENH2=$G(^ONCO(165.5,D0,"NHL2")),NODE22=$G(^ONCO(165.5,D0,2.2))
"RTN","ONCODXD",34,0)
 S NODEBL1=$G(^ONCO(165.5,D0,"BLA1")),NODEBL2=$G(^ONCO(165.5,D0,"BLA2"))
"RTN","ONCODXD",35,0)
 S NODETH1=$G(^ONCO(165.5,D0,"THY1")),NODEST2=$G(^ONCO(165.5,D0,"STS2"))
"RTN","ONCODXD",36,0)
 ;
"RTN","ONCODXD",37,0)
 S FLD=$P(NODE1,"^",10),FLDNM=$P($G(^DD(165.5,17,0)),"^",1) D EDCHK
"RTN","ONCODXD",38,0)
 S FLD=$P(NODE3,"^",1),FLDNM=$P($G(^DD(165.5,50,0)),"^",1) D EDCHK
"RTN","ONCODXD",39,0)
 S FLD=$P(NODE3,"^",4),FLDNM=$P($G(^DD(165.5,51,0)),"^",1) D EDCHK
"RTN","ONCODXD",40,0)
 S FLD=$P(NODE3,"^",8),FLDNM=$P($G(^DD(165.5,52,0)),"^",1) D EDCHK
"RTN","ONCODXD",41,0)
 S FLD=$P(NODE3,"^",11),FLDNM=$P($G(^DD(165.5,53,0)),"^",1) D EDCHK
"RTN","ONCODXD",42,0)
 S FLD=$P(NODE3,"^",14),FLDNM=$P($G(^DD(165.5,54,0)),"^",1) D EDCHK
"RTN","ONCODXD",43,0)
 S FLD=$P(NODE3,"^",17),FLDNM=$P($G(^DD(165.5,55,0)),"^",1) D EDCHK
"RTN","ONCODXD",44,0)
 S FLD=$P(NODE3,"^",23),FLDNM=$P($G(^DD(165.5,57,0)),"^",1) D EDCHK
"RTN","ONCODXD",45,0)
 S FLD=$P(NODE3,"^",31),FLDNM=$P($G(^DD(165.5,58.3,0)),"^",1) D EDCHK
"RTN","ONCODXD",46,0)
 S FLD=$P(NODE7,"^",9),FLDNM=$P($G(^DD(165.5,64,0)),"^",1) D EDCHK
"RTN","ONCODXD",47,0)
 S FLD=$P(NODE5,"^",1),FLDNM=$P($G(^DD(165.5,70,0)),"^",1) D EDCHK
"RTN","ONCODXD",48,0)
 S FLD=$P(NODE7,"^",1),FLDNM=$P($G(^DD(165.5,90,0)),"^",1) D EDCHK
"RTN","ONCODXD",49,0)
 S FLD=$P(NODE7,"^",5),FLDNM=$P($G(^DD(165.5,94,0)),"^",1) D EDCHK
"RTN","ONCODXD",50,0)
 S FLD=$P(NODE0,"^",27),FLDNM=$P($G(^DD(165.5,121,0)),"^",1) D EDCHK
"RTN","ONCODXD",51,0)
 S FLD=$P(NODEBL1,"^",24),FLDNM=$P($G(^DD(165.5,323,0)),"^",1) D EDCHK
"RTN","ONCODXD",52,0)
 S FLD=$P(NODEBL2,"^",16),FLDNM=$P($G(^DD(165.5,361,0)),"^",1) D EDCHK
"RTN","ONCODXD",53,0)
 S FLD=$P(NODEBL2,"^",22),FLDNM=$P($G(^DD(165.5,367,0)),"^",1) D EDCHK
"RTN","ONCODXD",54,0)
 S FLD=$P(NODETH1,"^",36),FLDNM=$P($G(^DD(165.5,435,0)),"^",1) D EDCHK
"RTN","ONCODXD",55,0)
 S FLD=$P(NODEST2,"^",12),FLDNM=$P($G(^DD(165.5,541,0)),"^",1) D EDCHK
"RTN","ONCODXD",56,0)
 S FLD=$P(NODEST2,"^",38),FLDNM=$P($G(^DD(165.5,567,0)),"^",1) D EDCHK
"RTN","ONCODXD",57,0)
 S FLD=$P(NODENH2,"^",20),FLDNM=$P($G(^DD(165.5,865,0)),"^",1) D EDCHK
"RTN","ONCODXD",58,0)
 S FLD=$P(NODE31,"^",2),FLDNM=$P($G(^DD(165.5,130,0)),"^",1) D EDCHK
"RTN","ONCODXD",59,0)
 S FLD=$P(NODE22,"^",1),FLDNM=$P($G(^DD(165.5,137,0)),"^",1) D EDCHK
"RTN","ONCODXD",60,0)
 F SBCT=0:0 S SBCT=$O(^ONCO(165.5,D0,4,SBCT)) Q:SBCT'>0  D
"RTN","ONCODXD",61,0)
 .S SBCTZND=$G(^ONCO(165.5,D0,4,SBCT,0)),SZ=SBCTZND,MULT="SCT"
"RTN","ONCODXD",62,0)
 .S FLD=$P(SZ,"^",1),FLDNM=$P($G(^DD(165.51,.01,0)),"^",1) D EDCHK
"RTN","ONCODXD",63,0)
 .S FLD=$P(SZ,"^",17),FLDNM=$P($G(^DD(165.51,.031,0)),"^",1) D EDCHK
"RTN","ONCODXD",64,0)
 .S FLD=$P(SZ,"^",11),FLDNM=$P($G(^DD(165.51,.041,0)),"^",1) D EDCHK
"RTN","ONCODXD",65,0)
 .S FLD=$P(SZ,"^",12),FLDNM=$P($G(^DD(165.51,.051,0)),"^",1) D EDCHK
"RTN","ONCODXD",66,0)
 .S FLD=$P(SZ,"^",13),FLDNM=$P($G(^DD(165.51,.061,0)),"^",1) D EDCHK
"RTN","ONCODXD",67,0)
 .S FLD=$P(SZ,"^",14),FLDNM=$P($G(^DD(165.51,.071,0)),"^",1) D EDCHK
"RTN","ONCODXD",68,0)
 .S FLD=$P(SZ,"^",15),FLDNM=$P($G(^DD(165.51,.081,0)),"^",1) D EDCHK
"RTN","ONCODXD",69,0)
 .S FLD=$P(SZ,"^",16),FLDNM=$P($G(^DD(165.51,.091,0)),"^",1) D EDCHK
"RTN","ONCODXD",70,0)
 .Q
"RTN","ONCODXD",71,0)
 F SUBR=0:0 S SUBR=$O(^ONCO(165.5,D0,23,SUBR)) Q:SUBR'>0  D
"RTN","ONCODXD",72,0)
 .S SUBRZND=$G(^ONCO(165.5,D0,23,SUBR,0)),SRZ=SUBRZND,MULT="SR"
"RTN","ONCODXD",73,0)
 .S FLD=$P(SRZ,"^",1),FLDNM=$P($G(^DD(165.572,.01,0)),"^",1) D EDCHK
"RTN","ONCODXD",74,0)
 .Q
"RTN","ONCODXD",75,0)
 F RADT=0:0 S RADT=$O(^ONCO(165.5,D0,6,RADT)) Q:RADT'>0  D
"RTN","ONCODXD",76,0)
 .S RADTZND=$G(^ONCO(165.5,D0,6,RADT,0)),RDZ=RADTZND,MULT="RDT"
"RTN","ONCODXD",77,0)
 .S FLD=$P(RDZ,"^",8),FLDNM=$P($G(^DD(165.52,7,0)),"^",1) D EDCHK
"RTN","ONCODXD",78,0)
 .Q
"RTN","ONCODXD",79,0)
 Q
"RTN","ONCODXD",80,0)
EDCHK ; If its a legitimate date check it against the date entered for DT DX
"RTN","ONCODXD",81,0)
 ; If its a partial date (no month or no day) just check year or year/mo
"RTN","ONCODXD",82,0)
 I FLD=""!(FLD="0000000")!(FLD=9999999) Q
"RTN","ONCODXD",83,0)
 I $E(FLD,4,7)="0000" D  Q  ;no DAY or MONTH
"RTN","ONCODXD",84,0)
 .I $E(X,1,3)>$E(FLD,1,3) D ERRDATE Q
"RTN","ONCODXD",85,0)
 .Q
"RTN","ONCODXD",86,0)
 I $E(FLD,6,7)="00" D  Q  ;MONTH but no DAY
"RTN","ONCODXD",87,0)
 .I $E(X,1,5)>$E(FLD,1,5) D ERRDATE Q
"RTN","ONCODXD",88,0)
 .Q
"RTN","ONCODXD",89,0)
 I X>FLD D ERRDATE Q
"RTN","ONCODXD",90,0)
 Q
"RTN","ONCODXD",91,0)
ERRDATE ; Set DTXFLAG=0 and add FLDNM to the LIST of fields it must be before
"RTN","ONCODXD",92,0)
 S DTXFLAG=0,C=C+1
"RTN","ONCODXD",93,0)
 I MULT="SCT" S SBCT(C)=FLDNM_"^"_FLD_"^"_SBCT Q
"RTN","ONCODXD",94,0)
 I MULT="SR" S SUBR(C)=FLDNM_"^"_FLD_"^"_SUBR Q
"RTN","ONCODXD",95,0)
 I MULT="RDT" S RADT(C)=FLDNM_"^"_FLD_"^"_RADT Q
"RTN","ONCODXD",96,0)
 S LIST(C)=FLDNM_"^"_FLD
"RTN","ONCODXD",97,0)
 Q
"RTN","ONCODXD",98,0)
DT ; CHANGE INTERNAL DATE TO EXTERNAL DATE FORMAT
"RTN","ONCODXD",99,0)
 S EXDT=$E(INDT,4,5)_"/"_$E(INDT,6,7)_"/"_($E(INDT,1,3)+1700)
"RTN","ONCODXD",100,0)
 Q
"RTN","ONCOES")
0^24^B40100327
"RTN","ONCOES",1,0)
ONCOES ;WASH ISC/SRR-#160 COMPUTED FIELDS FR #2 and #67 ;12/8/92  09:57
"RTN","ONCOES",2,0)
 ;;2.11;ONCOLOGY;**1,5,6,11,15,16**;Mar 07, 1995
"RTN","ONCOES",3,0)
 ;
"RTN","ONCOES",4,0)
SETUP ;SETUP INITIAL PARAMETERS
"RTN","ONCOES",5,0)
 S X="",ONCON=^ONCO(160,D0,0),ONCOX=$P(ONCON,U),ONCOX1="^"_$P(ONCOX,";",2)_+ONCOX_",0)"
"RTN","ONCOES",6,0)
 Q
"RTN","ONCOES",7,0)
SETUP1 I $D(^ONCO(160,D0,0)) D SETUP S ONCOX1=$P(ONCOX,";",2)_+ONCOX_",.11)",ONCOX1=U_ONCOX1
"RTN","ONCOES",8,0)
 Q
"RTN","ONCOES",9,0)
SETUP2 I $D(^ONCO(160,D0,0)) D SETUP S ONCOX1=$P(ONCOX,";",2)_+ONCOX_",.13)",ONCOX1=U_ONCOX1
"RTN","ONCOES",10,0)
 Q
"RTN","ONCOES",11,0)
SSN ;SSN (160,2)
"RTN","ONCOES",12,0)
 S X="" Q:'$D(^ONCO(160,D0,0))  D SETUP
"RTN","ONCOES",13,0)
 S X=$S($D(@ONCOX1):$P(@ONCOX1,U,9),1:"") G:X="" END1
"RTN","ONCOES",14,0)
 I X?9N S X=$E(X,1,3)_"-"_$E(X,4,5)_"-"_$E(X,6,9)
"RTN","ONCOES",15,0)
 G END1
"RTN","ONCOES",16,0)
TRM ;TERMINAL DIGIT FILING, TO SORT BY FOR MEDICAL RECORDS
"RTN","ONCOES",17,0)
 I $D(^ONCO(160,D0,0)) D SETUP S X=$S($D(@ONCOX1):$P(@ONCOX1,U,9),1:"") I X'="" S X="T"_$E(X,8,9)_$E(X,6,7)_$E(X,4,5)_$E(X,1,3)
"RTN","ONCOES",18,0)
 G END1
"RTN","ONCOES",19,0)
DOB ;DOB
"RTN","ONCOES",20,0)
 I $D(^ONCO(160,D0,0)) D SETUP S X=$S($D(@ONCOX1):$P(@ONCOX1,U,3),1:"")
"RTN","ONCOES",21,0)
 G END1
"RTN","ONCOES",22,0)
RACE ;RACE
"RTN","ONCOES",23,0)
 I $D(^ONCO(160,D0,0)) D SETUP S X=$S($D(@ONCOX1):$P(@ONCOX1,U,6),1:"")
"RTN","ONCOES",24,0)
 G END1
"RTN","ONCOES",25,0)
DATEOT ;Date output transform
"RTN","ONCOES",26,0)
 I X="0000000" D DD Q
"RTN","ONCOES",27,0)
 I $E(X,4,5)="00" S $E(X,4,5)=99
"RTN","ONCOES",28,0)
 I $E(X,6,7)="00" S $E(X,6,7)=99
"RTN","ONCOES",29,0)
 D DD
"RTN","ONCOES",30,0)
 Q
"RTN","ONCOES",31,0)
 ;
"RTN","ONCOES",32,0)
DOB1 ;date of birth returned in X in File Manager format
"RTN","ONCOES",33,0)
 I $D(^ONCO(160,D0,0)) D SETUP S X=$S($D(@ONCOX1):$P(@ONCOX1,U,3),1:"")
"RTN","ONCOES",34,0)
 G END
"RTN","ONCOES",35,0)
MS ;
"RTN","ONCOES",36,0)
 I $D(^ONCO(160,D0,0)) D SETUP S ONCOX2=$S($D(@ONCOX1):$P(@ONCOX1,U,5),1:""),X=$S((ONCOX2>0):$P(^DIC(11,ONCOX2,0),U,1),1:"")
"RTN","ONCOES",37,0)
 G END
"RTN","ONCOES",38,0)
REL ;
"RTN","ONCOES",39,0)
 I $D(^ONCO(160,D0,0)) D SETUP S ONCOX2=$S($D(@ONCOX1):$P(@ONCOX1,U,8),1:""),X=$S((ONCOX2>0):$P(^DIC(13,ONCOX2,0),U,1),1:"")
"RTN","ONCOES",40,0)
 G END
"RTN","ONCOES",41,0)
 ;
"RTN","ONCOES",42,0)
OCC ;Current Occupation from MAS
"RTN","ONCOES",43,0)
 I $D(^ONCO(160,D0,0)) D SETUP S X=$S($D(@ONCOX1):$P(@ONCOX1,U,7),1:"")
"RTN","ONCOES",44,0)
 G END
"RTN","ONCOES",45,0)
 ;
"RTN","ONCOES",46,0)
ALIAS ;
"RTN","ONCOES",47,0)
 Q:'$D(^ONCO(160,D0,0))  D SETUP Q:$P(ONCOX,";",2)'="DPT("  S XD0=$P(ONCOX,";")
"RTN","ONCOES",48,0)
 S XD1=0 F  S XD1=$O(^DPT(XD0,.01,XD1)) Q:XD1'>0  W !,$P(^(XD1,0),U)
"RTN","ONCOES",49,0)
 Q
"RTN","ONCOES",50,0)
 G EXIT
"RTN","ONCOES",51,0)
SA1 ;
"RTN","ONCOES",52,0)
 D SETUP1 S X=$S($D(@ONCOX1):$P(@ONCOX1,U,1),1:"")
"RTN","ONCOES",53,0)
 G END
"RTN","ONCOES",54,0)
SA2 ;
"RTN","ONCOES",55,0)
 D SETUP1 S X=$S($D(@ONCOX1):$P(@ONCOX1,U,2),1:"")
"RTN","ONCOES",56,0)
 G END
"RTN","ONCOES",57,0)
SA3 ;
"RTN","ONCOES",58,0)
 D SETUP1 S X=$S($D(@ONCOX1):$P(@ONCOX1,U,3),1:"")
"RTN","ONCOES",59,0)
 G END
"RTN","ONCOES",60,0)
NOTE ;NONE OF THE COMPUTED FIELDS BELOW USING ZIPCODE FILE CAN BE USED SO LONG AS MAS DOES NOT USE THE ZICODE FILE;THE ZIPCODE PICKED WILL BE THE FIRST IF THE LIST IF MORE THAN ONE SELECTION
"RTN","ONCOES",61,0)
ZIPCT ;gets City, State ZIP  County
"RTN","ONCOES",62,0)
 D ZIP1 S X=Z_"   "_$P($G(^VIC(5.1,+($P($G(^VIC(5.11,+Y,0)),U,3)),0)),U)
"RTN","ONCOES",63,0)
 G END
"RTN","ONCOES",64,0)
 ;
"RTN","ONCOES",65,0)
ADD ;Address from MAS
"RTN","ONCOES",66,0)
 D SETUP1 S X=$G(@ONCOX1),X=$P(X,U)_" "_$P(X,U,2)
"RTN","ONCOES",67,0)
 G END
"RTN","ONCOES",68,0)
ZIP ;gets City, State ZIP
"RTN","ONCOES",69,0)
 ;get fields from MAS fields
"RTN","ONCOES",70,0)
 I $D(^ONCO(160,D0,0)) D SETUP1 S Y=$S($D(@ONCOX1):$P(@ONCOX1,U,4,6),1:""),X=$P(Y,U,2),X=$S(X="":"",1:", "_$P(^DIC(5,X,0),U,2)),X=$P(Y,U)_X_" "_$P(Y,U,3)
"RTN","ONCOES",71,0)
 G END
"RTN","ONCOES",72,0)
 ;
"RTN","ONCOES",73,0)
CTY ;County from MAS (State file)
"RTN","ONCOES",74,0)
 I $D(^ONCO(160,D0,0)) D SETUP1 S Y=$S($D(@ONCOX1):$P(@ONCOX1,U,5,7),1:""),X=$P(Y,U),Y=+$P(Y,U,3),X=$S(X="":"",1:$P($G(^DIC(5,X,1,Y,0)),U))
"RTN","ONCOES",75,0)
 G END
"RTN","ONCOES",76,0)
ZIP1 I $D(^ONCO(160,D0,0)) D SETUP1 S X=$S($D(@ONCOX1):$P(@ONCOX1,U,6),1:"")
"RTN","ONCOES",77,0)
 S Y=$O(^VIC(5.11,"B",X_" ",0)),Z=$S(Y="":Y,$D(^VIC(5.11,Y,0))#2:$P(^(0),U,2)_","_$P(^DIC(5,$P(^VIC(5.1,$P(^VIC(5.11,Y,0),U,3),0),U,2),0),U,2)_" "_$P(^VIC(5.11,Y,0),U,1),1:"") Q
"RTN","ONCOES",78,0)
 G END
"RTN","ONCOES",79,0)
CT ;Get County from Zipcode
"RTN","ONCOES",80,0)
 I $D(^ONCO(160,D0,0)) D SETUP1 S X=$S($D(@ONCOX1):$P(@ONCOX1,U,6),1:"") Q:X=""  S X=$O(^VIC(5.11,"B",X_" ",0)) Q:X=""  S X=$P(^VIC(5.1,$P(^VIC(5.11,X,0),U,3),0),U)
"RTN","ONCOES",81,0)
 G END
"RTN","ONCOES",82,0)
ZCTY ;Gets County from Zipcode
"RTN","ONCOES",83,0)
 D ZIP1 S X=$P(^VIC(5.1,$P(^VIC(5.11,Y,0),U,3),0),U)
"RTN","ONCOES",84,0)
 G END
"RTN","ONCOES",85,0)
ST ;gets State #.11:5
"RTN","ONCOES",86,0)
 I $D(^ONCO(160,D0,0)) D SETUP1 S Y=$P($G(@ONCOX1),U,5),X=$P($G(^DIC(5,+Y,0)),U,2)
"RTN","ONCOES",87,0)
 G END
"RTN","ONCOES",88,0)
PH ;
"RTN","ONCOES",89,0)
 S X="" Q:'$D(^ONCO(160,D0,0))  D SETUP2 S X=$S($D(@ONCOX1):$P(@ONCOX1,U,1),1:9999999999)
"RTN","ONCOES",90,0)
 G END
"RTN","ONCOES",91,0)
 ;
"RTN","ONCOES",92,0)
EMP ;Employment Status
"RTN","ONCOES",93,0)
 I $D(^ONCO(160,D0,0)) D SETUP S X1=$P(ONCOX1,";",2) G END:X1="LRT(" S X1="^DPT("_$P(ONCOX,";")_",.311)",X=$P($G(@X1),U,15),X=$P($P($P(^DD(2,.31115,0),U,3),";",X),":",2) G END
"RTN","ONCOES",94,0)
 ;
"RTN","ONCOES",95,0)
AO ;AGENT ORANGE
"RTN","ONCOES",96,0)
 ;I $D(^ONCO(160,D0,0)) D SETUP S ONCOX1=$P(ONCOX,";",2)_+ONCOX_",.321)",ONCOX1=U_ONCOX1
"RTN","ONCOES",97,0)
 ;I $P(^ONCO(160,D0,0),U,1)["LRT(67," S X="" Q
"RTN","ONCOES",98,0)
 ;S DPTIEN=$P(^ONCO(160,D0,0),";",1)
"RTN","ONCOES",99,0)
 ;S AO=$P($G(^DPT(DPTIEN,.321),U,2
"RTN","ONCOES",100,0)
 I $D(^ONCO(160,D0,0)) D SETUP S X1=$P(ONCOX1,";",2) G END:X1="LRT(" S X1="^DPT("_$P(ONCOX,";")_",.321)",X=$P($G(@X1),U,2),X=$P($P($P(^DD(2,.32102,0),U,3),";",X),":",2) G END
"RTN","ONCOES",101,0)
 Q
"RTN","ONCOES",102,0)
DD S (X,Y)=$S(X="":"",X="0000000":"00/00/0000",X="9999999":"99/99/9999",1:$E(X,4,5)_"/"_$E(X,6,7)_"/"_(1700+$E(X,1,3)))
"RTN","ONCOES",103,0)
 Q
"RTN","ONCOES",104,0)
END ;
"RTN","ONCOES",105,0)
 K ONCON,ONCOX,ONCOX1,ONCOX2,ONCODIWL,Z
"RTN","ONCOES",106,0)
END1 ;
"RTN","ONCOES",107,0)
 K ONCOX1
"RTN","ONCOES",108,0)
 Q
"RTN","ONCOES",109,0)
EXIT ;
"RTN","ONCOES",110,0)
 S X="" G END
"RTN","ONCOES",111,0)
AAD ;ADDRESS AT DX
"RTN","ONCOES",112,0)
 S PCAD=$P($G(^ONCO(165.5,D0,1)),U,2)
"RTN","ONCOES",113,0)
 S SADP=$P($G(^ONCO(165.5,D0,1)),U,4)
"RTN","ONCOES",114,0)
 S SAD="" I SADP'="" S SAD=$P($G(^ONCO(160.15,SADP,0)),U,1)
"RTN","ONCOES",115,0)
 S CTAD=$P($G(^ONCO(165.5,D0,1)),U,12)
"RTN","ONCOES",116,0)
 S AAD=CTAD_" "_SAD_" "_PCAD
"RTN","ONCOES",117,0)
 Q
"RTN","ONCOES",118,0)
W17AAD W !,?17,AAD G AADEX
"RTN","ONCOES",119,0)
W9AAD W !,?9,AAD G AADEX
"RTN","ONCOES",120,0)
AADEX K PCAD,SADP,SAD,CTAD,AAD
"RTN","ONCOES",121,0)
 Q
"RTN","ONCOES",122,0)
TLEEOT ;TUMOR LEVEL FROM ENDOSCOPIC EXAM OUTPUT TRANSFORM
"RTN","ONCOES",123,0)
 S:$L(Y)=1 Y="0"_Y
"RTN","ONCOES",124,0)
 I Y="00" S Y="Endoscopic exam not performed" Q
"RTN","ONCOES",125,0)
 I Y=61 S Y="Splenic flexure" Q
"RTN","ONCOES",126,0)
 I Y=62 S Y="Transverse colon" Q
"RTN","ONCOES",127,0)
 I Y=63 S Y="Hepatic flexure" Q
"RTN","ONCOES",128,0)
 I Y=64 S Y="Ascending colon" Q
"RTN","ONCOES",129,0)
 I Y=65 S Y="Cecum" Q
"RTN","ONCOES",130,0)
 I Y=70 S Y="Endoscopic exam, tumor not visualized" Q
"RTN","ONCOES",131,0)
 I Y=80 S Y="Endoscopic exam, results unknown" Q
"RTN","ONCOES",132,0)
 I Y=99 S Y="Unknown if exam done" Q
"RTN","ONCOES",133,0)
 S Y=Y_" centimeters" Q
"RTN","ONCOES",134,0)
ASPIT ;ADDITIONAL SURGICAL PROCEDURES INPUT TRANSFORM
"RTN","ONCOES",135,0)
 I X<10 K X Q
"RTN","ONCOES",136,0)
 I "10^20^30^40^41^42^43^44^50^60^88^99"'[X K X Q
"RTN","ONCOES",137,0)
 S Y=X D ASPOT W "  ",Y K Y Q
"RTN","ONCOES",138,0)
ASPOT ;ADDITIONAL SURGICAL PROCEDURES OUTPUT TRANSFORM
"RTN","ONCOES",139,0)
 D SETASP
"RTN","ONCOES",140,0)
 S Y=ASP(Y) K ASP Q
"RTN","ONCOES",141,0)
ASPHP D SETASP
"RTN","ONCOES",142,0)
 F ASPX=0:0 S ASPX=$O(ASP(ASPX)) Q:ASPX'>0  W !,"  ",ASPX,"  ",ASP(ASPX)
"RTN","ONCOES",143,0)
 W ! K ASP,ASPX Q
"RTN","ONCOES",144,0)
SETASP ;
"RTN","ONCOES",145,0)
 S ASP(10)="Transanal excision"
"RTN","ONCOES",146,0)
 S ASP(20)="Posterior sacral"
"RTN","ONCOES",147,0)
 S ASP(30)="Anterior resection w/o anastomosis"
"RTN","ONCOES",148,0)
 S ASP(40)="Anterior resection w anastomosis, NOS"
"RTN","ONCOES",149,0)
 S ASP(41)="Anterior resection w simple anastomosis"
"RTN","ONCOES",150,0)
 S ASP(42)="Ant res w colo pouch coloanal anastomosis"
"RTN","ONCOES",151,0)
 S ASP(43)="Anterior resection w ilioanal anastomosis"
"RTN","ONCOES",152,0)
 S ASP(44)="Anterior resection w coloanal anastomosis"
"RTN","ONCOES",153,0)
 S ASP(50)="Colostomy w/o resection"
"RTN","ONCOES",154,0)
 S ASP(60)="Abdomino perineal resection (APR)"
"RTN","ONCOES",155,0)
 S ASP(88)="NA, none performed"
"RTN","ONCOES",156,0)
 S ASP(99)="Unknown if performed" Q
"RTN","ONCOES",157,0)
PTRDOT ;PRIMARY TUMOR RAD DOSE (cGy) OUTPUT TRANSFORM
"RTN","ONCOES",158,0)
 S Y=$S($L(Y)=1:"0000"_Y,$L(Y)=2:"000"_Y,$L(Y)=3:"00"_Y,$L(Y)=4:"0"_Y,1:Y)
"RTN","ONCOES",159,0)
 I Y="00000" S Y="No radiation therapy"
"RTN","ONCOES",160,0)
 I Y="88888" S Y="Received radiation therapy, dose unknown"
"RTN","ONCOES",161,0)
 I Y="99999" S Y="Unknown if received radiation therapy"
"RTN","ONCOES",162,0)
 Q
"RTN","ONCOFDP")
0^25^B12054339
"RTN","ONCOFDP",1,0)
ONCOFDP ;WASH ISC/SRR,MLH-FOLLOW DEAD PATIENTS ;11/1/93  12:10
"RTN","ONCOFDP",2,0)
 ;;2.11;ONCOLOGY;**1,5,16**;Mar 07, 1995
"RTN","ONCOFDP",3,0)
DEAD ;PATIENT IS DEAD ask for death fields
"RTN","ONCOFDP",4,0)
 K DXS,DIOT S D0=ONCOD0,DIR("A")="    Edit Data",DIR("B")="Y",DIR(0)="Y" D ^ONCOXDI D ^DIR G ED:Y,RC:'Y,EX
"RTN","ONCOFDP",5,0)
ED W !! S DA=ONCOD0,DR="[ONCO DEATH]",DIE="^ONCO(160," D ^DIE W !! K DXS,DIOT D ^ONCOXDI
"RTN","ONCOFDP",6,0)
 S DIR("A")="    Data OK",DIR("B")="Yes",DIR(0)="Y" D ^DIR G ED:'Y,RC:Y,EX
"RTN","ONCOFDP",7,0)
 ;
"RTN","ONCOFDP",8,0)
RC W !!,"First Recurrence Information..."
"RTN","ONCOFDP",9,0)
 S XD1=0,UPOUT=""
"RTN","ONCOFDP",10,0)
 F  S XD1=$O(^ONCO(165.5,"C",ONCOD0,XD1)) Q:XD1'>0  D  Q:UPOUT="Y"
"RTN","ONCOFDP",11,0)
 .S ONCOX2=$G(^ONCO(165.5,XD1,2)),ONCOTOP=$P(ONCOX2,U,1)
"RTN","ONCOFDP",12,0)
 .S TOP=$P($G(^ONCO(164,+ONCOTOP,0)),U,1)
"RTN","ONCOFDP",13,0)
 .S SITEGP=$P(^ONCO(165.5,XD1,0),U,1)
"RTN","ONCOFDP",14,0)
 .S ACCNO=$P(^ONCO(165.5,XD1,0),U,5),SEQNO=$P(^ONCO(165.5,XD1,0),U,6)
"RTN","ONCOFDP",15,0)
 .W !!,"Primary: ",$E(ACCNO,1,2),"-",$E(ACCNO,3,6),"/",SEQNO,"  ",TOP,!
"RTN","ONCOFDP",16,0)
 .S DIE="^ONCO(165.5,",DA=XD1,DR="71;D CHECK^ONCOFDP;70;@1" D ^DIE I $D(Y) S UPOUT="Y"
"RTN","ONCOFDP",17,0)
DC ;Delete Contacts
"RTN","ONCOFDP",18,0)
 Q:'$D(^ONCO(160,"APC",ONCOD0))  ;There are no contacts
"RTN","ONCOFDP",19,0)
H W @IOF,!!!?15,"--------------DELETE PATIENT'S CONTACTS---------------" S D0=ONCOD0 K DXS,DIOT D ^ONCOXCL
"RTN","ONCOFDP",20,0)
 W !!?5,"Patient is dead - please delete contacts as soon as possible!",!?5,"Deletion will affect this patient's contacts only!!",!! S DIR("A")="     Delete Contacts",DIR(0)="Y",DIR("B")="Yes" D ^DIR,KC:Y
"RTN","ONCOFDP",21,0)
 Q
"RTN","ONCOFDP",22,0)
 ;
"RTN","ONCOFDP",23,0)
KC ;Kill Contact Multiple, and contact file entries
"RTN","ONCOFDP",24,0)
 D WAIT^DICD W !?50,"DELETING contacts...  " D EN1 G EX
"RTN","ONCOFDP",25,0)
 ;
"RTN","ONCOFDP",26,0)
EN1 ;Look at list 
"RTN","ONCOFDP",27,0)
 S XDC=0 F  S XDC=$O(^ONCO(160,"APC",ONCOD0,XDC)) Q:XDC'>0  S ONCOC0=XDC D
"RTN","ONCOFDP",28,0)
 .S C=0,XDP=0 F  S XDP=$O(^ONCO(160,"ACP",ONCOC0,XDP)) Q:XDP'>0  I XDP'=ONCOD0 S C=1 Q
"RTN","ONCOFDP",29,0)
 .I 'C S DIK="^ONCO(165,",DA=ONCOC0 D ^DIK W "*"
"RTN","ONCOFDP",30,0)
 ;Deleting Contact Multiple
"RTN","ONCOFDP",31,0)
 S DA=0,DA(1)=ONCOD0 F  S DA=$O(^ONCO(160,DA(1),"C",DA)) Q:DA'?1.N  S DIK="^ONCO(160,"_DA(1)_",""C""," D ^DIK
"RTN","ONCOFDP",32,0)
 I '$D(ONCODAC) S D0=ONCOD0 D ^ONCOXCL W ?35,"(None - Patient is Deceased)"
"RTN","ONCOFDP",33,0)
 N ONCOC0 S ONCOC0=$P(^ONCO(160,ONCOD0,1),U,6) G KA:ONCOC0="",KA:$D(^ONCO(165,ONCOC0,0))
"RTN","ONCOFDP",34,0)
CD S X="<CONTACT DELETED>",Y=$O(^ONCO(165,"B",X,0)) I Y="" S (DIC,DLAYGO)="^ONCO(165,",DIC(0)="ZL" D FILE^DICN
"RTN","ONCOFDP",35,0)
 S $P(^ONCO(160,ONCOD0,1),U,6)=+Y
"RTN","ONCOFDP",36,0)
KA W:'$D(ONCODAC) !!?10,"Deleting 'Follow-up Attempts'..."
"RTN","ONCOFDP",37,0)
 S XX=$P($G(^ONCO(160,ONCOD0,"A",0)),U,3) I XX'="" S DIK="^ONCO(160,"_DA(1)_",""A""," F DA=1:1:XX I $D(^(DA)) D ^DIK
"RTN","ONCOFDP",38,0)
 F I="A","C" K ^ONCO(160,DA(1),I)
"RTN","ONCOFDP",39,0)
 Q
"RTN","ONCOFDP",40,0)
 ;
"RTN","ONCOFDP",41,0)
 ;
"RTN","ONCOFDP",42,0)
DAC ;Delete dead patients's Contacts
"RTN","ONCOFDP",43,0)
 W @IOF,"ARCHIVING of Contact File, Attempts and Contacts"
"RTN","ONCOFDP",44,0)
 W !!?5,"For Dead Patients - clean out unnecessary data.",!!!
"RTN","ONCOFDP",45,0)
 W ?5,"Working..."
"RTN","ONCOFDP",46,0)
 S XD0=0 F  S XD0=$O(^ONCO(160,"AS",0,XD0)) Q:XD0'>0  S ONCOD0=XD0,ONCODAC=1 D EN1 W:'(XD0#100) "."
"RTN","ONCOFDP",47,0)
 ;S XD0=0 F  S D0=$O(^ONCO(165,XD0)) Q:XD0'>0  I '$D(^ONCO(165,"ACP",XD0))
"RTN","ONCOFDP",48,0)
 ;S D0=0 F  S D0=$O(^ONCO(160,D0)) Q:D0'>0  I $P($G(^(D0,1)),U)=0 D
"RTN","ONCOFDP",49,0)
 ;. S C0=0 F  S C0=$O(^ONCO(160,"APC",D0,C0)) Q:C0'>0  D
"RTN","ONCOFDP",50,0)
 ;..S P0=0 F  S P0=$O(^(ONCO(160,"ACP",C0,P0)) Q:P0'=D0  I P0="" D
"RTN","ONCOFDP",51,0)
 ;...S DIK="^ONCO(160,",DA=C0 D ^DIK
"RTN","ONCOFDP",52,0)
EX ;RETURN from calling program, ONCOAIF/ONCOFUL
"RTN","ONCOFDP",53,0)
 K RC,RT,XD0,XX,XD1,XDC,I,DIK,DIC,XDP,ONCOD1
"RTN","ONCOFDP",54,0)
 Q
"RTN","ONCOFDP",55,0)
CHECK ;Check TYPE of FIRST RECURRENCE
"RTN","ONCOFDP",56,0)
 ;If 99, stuff 99/99/9999 into DATE of FIRST RECURRENCE
"RTN","ONCOFDP",57,0)
 ;If 00 or 70, stuff 00/00/0000 into DATE of FIRST RECURRENCE
"RTN","ONCOFDP",58,0)
 S TOFR=$P($G(^ONCO(165.5,XD1,5)),U,2)
"RTN","ONCOFDP",59,0)
 Q:TOFR=""
"RTN","ONCOFDP",60,0)
 I $P($G(^ONCO(160.12,TOFR,0)),U,1)=99 D
"RTN","ONCOFDP",61,0)
 .S $P(^ONCO(165.5,XD1,5),U,1)=9999999
"RTN","ONCOFDP",62,0)
 .W !,"DATE of FIRST RECURRENCE: 99/99/9999//"
"RTN","ONCOFDP",63,0)
 .S Y="@1"
"RTN","ONCOFDP",64,0)
 I ($P($G(^ONCO(160.12,TOFR,0)),U,1)="00")!($P($G(^ONCO(160.12,TOFR,0)),U,1)=70) D
"RTN","ONCOFDP",65,0)
 .S $P(^ONCO(165.5,XD1,5),U,1)="0000000"
"RTN","ONCOFDP",66,0)
 .W !,"DATE of FIRST RECURRENCE: 00/00/0000//"
"RTN","ONCOFDP",67,0)
 .S Y="@1"
"RTN","ONCOGEN")
0^41^B36541515
"RTN","ONCOGEN",1,0)
ONCOGEN ;WASH ISC/SRR,MLH-GENERAL REPORT DRIVER FOR SELECTED FORMATS  ;7/22/93  16:24
"RTN","ONCOGEN",2,0)
 ;;2.11;ONCOLOGY;**6,7,11,13,16**;Mar 07, 1995
"RTN","ONCOGEN",3,0)
 ;
"RTN","ONCOGEN",4,0)
ST ;ENTRY POINT FOR FOLLOWUP RECORD PRINT
"RTN","ONCOGEN",5,0)
 S DIC="^ONCO(160,",DIC(0)="AEQM",DA=0
"RTN","ONCOGEN",6,0)
 D ^DIC G:Y=-1 END S NUMBER=$P(Y,U,1),FLDS="[ONCO FOLLOWUP HISTORY]"
"RTN","ONCOGEN",7,0)
 D PRT1 G END
"RTN","ONCOGEN",8,0)
SU ;ENTRY POINT FOR SUSPENSE REPORT PRINT
"RTN","ONCOGEN",9,0)
 S DIC="^ONCO(160,",DIC(0)="AEQMZ" D ^DIC G EX:Y<0 S (X,ONCOD0)=+Y
"RTN","ONCOGEN",10,0)
 ;K ^DISV(DUZ,"^ONCO(165.5,")
"RTN","ONCOGEN",11,0)
 S D="C",DIC="^ONCO(165.5,",DIC(0)="EQ" D IX^DIC G EX:Y<0 S D0=+Y W !!! D ^ONCOXU W !!,"You may PRINT a hardcopy",! ;S TEM="ONCO ABSTRACT RECORD" D TEM G EX:TEM=""
"RTN","ONCOGEN",12,0)
 ;K ^DIBT(TEM,1) S ^DIBT(TEM,1,D0)="",BY="[ONCO ABSTRACT RECORD]"
"RTN","ONCOGEN",13,0)
 S BY="NUMBER",(FR,TO)=D0,FLDS="[ONCO XABSTRACT RECORD]",L=0
"RTN","ONCOGEN",14,0)
 G PRT65
"RTN","ONCOGEN",15,0)
SEER ;ENTRY POINT FOR SEER REPORT PRINT
"RTN","ONCOGEN",16,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQM",DA=0
"RTN","ONCOGEN",17,0)
 D ^DIC G:Y=-1 END S NUMBER=$P(Y,U,1),DA=+Y
"RTN","ONCOGEN",18,0)
 S DIOEND="S DN=2,D0=ONCODA F II=2,3 K DXS D @(""^ONCOXA""_II)"
"RTN","ONCOGEN",19,0)
 S ONCODA=DA,FLDS="[ONCOXA1]"
"RTN","ONCOGEN",20,0)
 D PRT G END
"RTN","ONCOGEN",21,0)
ABSEO ;ENTRY POINT FOR ABSTRACT-EAST ORANGE REPORT PRINT
"RTN","ONCOGEN",22,0)
 S DIC="^ONCO(160,",DIC(0)="AEMQ" D ^DIC G:Y=-1 END
"RTN","ONCOGEN",23,0)
 S (HI,DA)=0 I $D(^ONCO(165.5,"C",$P(Y,U,1))) W !,"Choose one :  " F I=1:1 S DA=$O(^ONCO(165.5,"C",$P(Y,U,1),DA)) Q:DA'>0  S SI=$P(^ONCO(165.5,DA,0),U,1) W:$D(^ONCO(164.2,SI,0)) !?10,I_". "_$P(^(0),U,1) D TEXT S ^TMP($J,I)=DA S HI=I
"RTN","ONCOGEN",24,0)
 I HI=0 W !,"No Primaries Entered for this Patient" G EX
"RTN","ONCOGEN",25,0)
ANS ;W !!,"Please select a number from 1 to ",HI R "// ",ANS:DTIME G EX:('$T)!(ANS["^")!(ANS=""&(HI'=1)) S:ANS="" ANS=1 G ANS:(ANS'?.N)!(ANS<1)!(ANS>HI)
"RTN","ONCOGEN",26,0)
 S ANS=$$ASKNUM^ONCOU("Enter your selection","1:"_HI,1) G EX:$D(DIRUT)
"RTN","ONCOGEN",27,0)
 S DA=$P(^TMP($J,ANS),U,1),(Y,DA,NUMBER,HDA)=DA
"RTN","ONCOGEN",28,0)
 S PRTPCE=0 I $P($G(^ONCO(165.5,DA,7)),"^",15)'="" W ! K DIR S DIR(0)="YA",DIR("A")="Print PCE data attached to this primary? ",DIR("B")="NO" D ^DIR S PRTPCE=Y G EX:$D(DIRUT)
"RTN","ONCOGEN",29,0)
 G DS:$D(NS),X:III<49,Y
"RTN","ONCOGEN",30,0)
X S (ONCODA,ONCOIEN)=DA D ^ONCOPA1
"RTN","ONCOGEN",31,0)
 G EX
"RTN","ONCOGEN",32,0)
 ; I III<12 S DIOEND="S DN=1,D0=ONCODA F II=III:1:IIII K DXS D @(""^ONCOX""_II)"
"RTN","ONCOGEN",33,0)
 ; G PT
"RTN","ONCOGEN",34,0)
Y I III<59 S DIOEND="S DN=1,D0=ONCODA F II=III:1:IIII K DXS D @(""^ONCOY""_II)"
"RTN","ONCOGEN",35,0)
PT S ONCODA=DA,FLDS=$S(III<12:"[ONCOX1]",III<59:"[ONCOY49]",1:"ERROR")
"RTN","ONCOGEN",36,0)
 D PRT G END
"RTN","ONCOGEN",37,0)
PRT S FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0
"RTN","ONCOGEN",38,0)
 D EN1^DIP
"RTN","ONCOGEN",39,0)
 Q
"RTN","ONCOGEN",40,0)
 ;
"RTN","ONCOGEN",41,0)
PRT1 S FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(160,",L=0
"RTN","ONCOGEN",42,0)
 D EN1^DIP
"RTN","ONCOGEN",43,0)
 Q
"RTN","ONCOGEN",44,0)
PRT65 ;PRINT FOR 165.5
"RTN","ONCOGEN",45,0)
 S DIC="^ONCO(165.5,",L=0 D EN1^DIP G EX
"RTN","ONCOGEN",46,0)
TEXT W:$D(^ONCO(165.5,DA,8)) "  "_$P(^ONCO(165.5,DA,8),U,1) Q
"RTN","ONCOGEN",47,0)
DD S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_($E(Y,1,3)+1700)_$S(Y#1:" "_$E(Y_0,9,10)_":"_$E(Y_"0000",11,12),1:"")
"RTN","ONCOGEN",48,0)
 Q
"RTN","ONCOGEN",49,0)
 ;
"RTN","ONCOGEN",50,0)
DIS ;Dislay Screens
"RTN","ONCOGEN",51,0)
 W @IOF,?20,"**************  Select Screen *************",!!! G ABSEO
"RTN","ONCOGEN",52,0)
 K DXS S DIC("A")="     Select patient: ",DIC="^ONCO(160,",DIC(0)="AEMQ" D ^DIC G:Y<0 END
"RTN","ONCOGEN",53,0)
 S ONCOD0P=DA I $D(^ONCO(165.5,"C",+Y)) S X=+Y,DIC="^ONCO(165.5,",D="C",DIC(0)="EX" D IX^DIC G END:Y<0
"RTN","ONCOGEN",54,0)
DS S (D0,ONCODA)=DA K DXS I NS=3 W @IOF D ^ONCOY49 K DXS D ^ONCOX3 D RD Q 
"RTN","ONCOGEN",55,0)
 S (D0,ONCODA)=DA K DXS S ONCOR="^ONCOY"_NS W @IOF K DXS D ^ONCOY49 K DXS D @ONCOR
"RTN","ONCOGEN",56,0)
 D RD Q:$G(QDS)=1  I $D(NN) S NS=NN K DXS D @("^ONCOY"_NS) D RD Q
"RTN","ONCOGEN",57,0)
 Q:'$D(NF)  F NS=51:1:58 K DXS D @("^ONCOY"_NS) D RD:NS'=54 Q:NS=58!($G(QDS)=1)
"RTN","ONCOGEN",58,0)
 Q
"RTN","ONCOGEN",59,0)
 ;
"RTN","ONCOGEN",60,0)
RD K DIR S DIR(0)="E",DIR("A")="Hit Enter to continue" D ^DIR
"RTN","ONCOGEN",61,0)
 K QDS I Y'=1 S QDS=1
"RTN","ONCOGEN",62,0)
 Q
"RTN","ONCOGEN",63,0)
TEM ;GET TEMPLATE
"RTN","ONCOGEN",64,0)
 ;S TEM=$O(^DIBT("B",TEM,0))
"RTN","ONCOGEN",65,0)
 Q
"RTN","ONCOGEN",66,0)
END K ANS,BY,DA,DHCOPIES,DHD,DIC,DIOEND,DN,DXS,HDA,I,NUMBER,L,ONCODA,ONCOTEMP,PG,BY,FR,TO,FLDS,HI,ANS,SI,XD0
"RTN","ONCOGEN",67,0)
 D ^%ZISC S IOP=ION D ^%ZIS
"RTN","ONCOGEN",68,0)
EX ;Exit and Kill
"RTN","ONCOGEN",69,0)
 K %DT,X,Y,DIC,DIC,DIC1,DISH,II,D,DIJ,DIW,DIWT,DIYS,DP,FIL,ST,XXD1
"RTN","ONCOGEN",70,0)
 K ONCOX1,ONCOD0,ONCON,ONCOX,%W,%ZISOS,ONTEMP,ONCOX2,ONCOR,ONCOYR
"RTN","ONCOGEN",71,0)
 K TEM,%Y,F,L,O,W,%T,B,LST,O2,OG,OP,OS,OT,P,TL,TX,YY,OIO,%ZISOS,DIP
"RTN","ONCOGEN",72,0)
 K ONCX,PCESEL,M,DIYS,DISH,PRTPCE,PCEABS,QDS,STGP,STGPNM
"RTN","ONCOGEN",73,0)
 Q
"RTN","ONCOGEN",74,0)
 ;
"RTN","ONCOGEN",75,0)
PCEPRT ; PRINT PCE DATA (IF ANY) FOR A PARTICULAR PRIMARY AFTER COMPLETE
"RTN","ONCOGEN",76,0)
 ; ABSTRACT PRINT.  CALLED BY ROUTINE ^ONCOPA3A (FORMERLY CALLED BY
"RTN","ONCOGEN",77,0)
 ; ONCOX11 PRINT TEMPLATE).  ALSO CALLED BY [ONCOY58] PRINT TEMPLATE.
"RTN","ONCOGEN",78,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="" Q  ;IF NO PCE DATA, QUIT
"RTN","ONCOGEN",79,0)
 S STGP=$P($G(^ONCO(165.5,ONCODA,0)),"^",1)
"RTN","ONCOGEN",80,0)
 S STGPNM=$P($G(^ONCO(164.2,STGP,0)),"^",1),SITTAB=79-(STGPNM)
"RTN","ONCOGEN",81,0)
PRINT ;
"RTN","ONCOGEN",82,0)
 D PCEVARS
"RTN","ONCOGEN",83,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="BLA" D PRT^ONCBPC8 Q
"RTN","ONCOGEN",84,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="THY" D PRT^ONCTPC8 Q
"RTN","ONCOGEN",85,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="STS" D PRT^ONCSPC8 Q
"RTN","ONCOGEN",86,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="PRO" D PRT^ONCPPC9 Q
"RTN","ONCOGEN",87,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="COL" D PRT^ONCCPC9 Q
"RTN","ONCOGEN",88,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),"^",15)="NHL" D PRT^ONCNPC8 Q
"RTN","ONCOGEN",89,0)
 Q
"RTN","ONCOGEN",90,0)
PCEPRT2 ; PRINT ALL PCE'S FOR A PARTICULAR SITE.
"RTN","ONCOGEN",91,0)
 S ONCQ=0
"RTN","ONCOGEN",92,0)
 W !!?5,"Print PCE's for a particular site"
"RTN","ONCOGEN",93,0)
 K DIR S DIR(0)="SM^1:Bladder;2:Thyroid;3:Soft Tissue Sarcoma;4:Prostate;5:Colorectal;6:Non-Hodgkin's Lymphoma" D ^DIR Q:$D(DIRUT)
"RTN","ONCOGEN",94,0)
 S PCESEL=$S(Y=1:"BLA",Y=2:"THY",Y=3:"STS",Y=4:"PRO",Y=5:"COL",Y=6:"NHL",1:"") Q:PCESEL=""
"RTN","ONCOGEN",95,0)
 W ! K DIR S DIR(0)="YA",DIR("A")="Print PCE's AND Abstracts? ",DIR("B")="Y" D ^DIR S PCEABS=Y G EX:$D(DIRUT)
"RTN","ONCOGEN",96,0)
 K IOP,%ZIS S %ZIS="Q" W ! D ^%ZIS S ONCOIO=ION_";"_IOST_";"_IOM_";"_IOSL G:POP EX
"RTN","ONCOGEN",97,0)
 I $D(IO("Q")) S ONCQ=1 D TASK G EX
"RTN","ONCOGEN",98,0)
RTN ;
"RTN","ONCOGEN",99,0)
 S ONCOQUIT=0,ONCIOST=IOST
"RTN","ONCOGEN",100,0)
 I PCEABS'=1 F ONCX=0:0 S ONCX=$O(^ONCO(165.5,"APCE",PCESEL,ONCX)) Q:ONCX'>""  S ONCODA=ONCX D PRINT Q:$G(Y)=0
"RTN","ONCOGEN",101,0)
 I PCEABS=1 F ONCX=0:0 S ONCX=$O(^ONCO(165.5,"APCE",PCESEL,ONCX)) Q:ONCX'>""!ONCOQUIT  D
"RTN","ONCOGEN",102,0)
 .S ONCODA=ONCX,PRTPCE=1
"RTN","ONCOGEN",103,0)
 .S ONCOIEN=ONCX D MULT^ONCOPA1
"RTN","ONCOGEN",104,0)
 .; S DIOEND="S DN=1,D0=ONCODA F RK=2:1:11 K DXS D @(""^ONCOX""_RK)"
"RTN","ONCOGEN",105,0)
 .; S (DA,NUMBER,FR,TO)=ONCODA,BY="@NUMBER",L=0,DIC="^ONCO(165.5,"
"RTN","ONCOGEN",106,0)
 .; S FLDS="[ONCOX1]"
"RTN","ONCOGEN",107,0)
 .; S IOP=ONCOIO D EN1^DIP
"RTN","ONCOGEN",108,0)
 .; I $E(ONCIOST)="C" K DIR S DIR(0)="E" D ^DIR S ONCOQUIT=$S(Y'>0:1,1:0)
"RTN","ONCOGEN",109,0)
 .Q
"RTN","ONCOGEN",110,0)
 G EX
"RTN","ONCOGEN",111,0)
PCEVARS ; SET VARIABLES NEEDED TO PRINT THE PCE(S).
"RTN","ONCOGEN",112,0)
 K DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCOGEN",113,0)
 S D0=ONCODA,NODE0=^ONCO(165.5,D0,0)
"RTN","ONCOGEN",114,0)
 S S=$P(NODE0,U,1),SITEGP=$P(^ONCO(164.2,S,0),U,1),DATEDX=$P(NODE0,U,16)
"RTN","ONCOGEN",115,0)
 S Y=$P(NODE0,U,2),C=$P(^DD(165.5,.02,0),U,2) D Y^DIQ S PATNAM=Y
"RTN","ONCOGEN",116,0)
 S SAVED0=D0 S D0=$P(NODE0,U,2) D SSN^ONCOES S SSN=X,D0=SAVED0
"RTN","ONCOGEN",117,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD="",TOPNAM=""
"RTN","ONCOGEN",118,0)
 I TOP'="" S TOPNAM=$P(^ONCO(164,TOP,0),U,1),TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOGEN",119,0)
 S TOPTAB=79-$L(TOPNAM),TTAB=79-$L(TOPCOD)
"RTN","ONCOGEN",120,0)
 S NOS=TOPTAB-$L(PATNAM),NOS=NOS-1 K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOGEN",121,0)
 S ONCONUM=D0,ONCOPA=$P(NODE0,U,2)
"RTN","ONCOGEN",122,0)
 Q
"RTN","ONCOGEN",123,0)
TASK ;Queue a task
"RTN","ONCOGEN",124,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCOGEN",125,0)
 S ZTRTN="RTN^ONCOGEN"
"RTN","ONCOGEN",126,0)
 S ZTREQ="@",ZTSAVE("ZTREQ")="",ZTSAVE("ONCODA")="",ZTSAVE("PCESEL")=""
"RTN","ONCOGEN",127,0)
 S ZTSAVE("DATEDX")="",ZTSAVE("PCEABS")="",ZTSAVE("ONCOIO")=""
"RTN","ONCOGEN",128,0)
 S ZTSAVE("ONCQ")="",ZTDESC="Print PCE Data"
"RTN","ONCOGEN",129,0)
 D ^%ZTLOAD W !,"Request Queued",!
"RTN","ONCOGEN",130,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCOLRU")
0^42^B11178200
"RTN","ONCOLRU",1,0)
ONCOLRU ;WASH ISC/REG(AVAMC),MLH-LAB UTILITY ;8/21/93  14:36
"RTN","ONCOLRU",2,0)
 ;;2.11;ONCOLOGY;**16**;Mar 07, 1995
"RTN","ONCOLRU",3,0)
 S X="T",%DT="" D ^%DT,D S H(10)=Y Q
"RTN","ONCOLRU",4,0)
 ;
"RTN","ONCOLRU",5,0)
D S %=$E(Y,4,5)*3,Y=$E("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC",%-2,%)_" "_$S($E(Y,6,7):$J(+$E(Y,6,7),2)_", ",1:"")_($E(Y,1,3)+1700)_$S(Y[".":"  "_$E(Y_0,9,10)_":"_$E(Y_"000",11,12),1:"") S:Y[1700 Y="" Q
"RTN","ONCOLRU",6,0)
 ;
"RTN","ONCOLRU",7,0)
SSN S SSN(2)=SSN
"RTN","ONCOLRU",8,0)
 I $L(DUZ("AG")),"NAFARMY"[DUZ("AG") S SSN=$S($L(SSN)<11:$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,10),1:$E(SSN,10,11)_"/"_$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,9)) S SSN(1)=$S($P(SSN,"-",3):$P(SSN,"-",3),1:$E(SSN,9,12)) Q
"RTN","ONCOLRU",9,0)
 S:$L(SSN)>8 SSN=$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,99) S SSN(1)=$S($P(SSN,"-",3):$P(SSN,"-",3),1:"????") S:'$L(SSN) SSN="?" Q
"RTN","ONCOLRU",10,0)
 ;
"RTN","ONCOLRU",11,0)
B ;
"RTN","ONCOLRU",12,0)
 D ONCOLRU
"RTN","ONCOLRU",13,0)
 S %DT="",X="T-1M" D ^%DT K %DT S Y=$E(Y,4,5)_"-"_$E(Y,6,7)_"-"_($E(Y,1,3)+1700) ;    generate default date
"RTN","ONCOLRU",14,0)
 S %DT="AEX",%DT(0)="-"_DT,%DT("A")="Start with Date: ",%DT("B")=Y D ^%DT K %DT I X="" S Y=DT W H(10)
"RTN","ONCOLRU",15,0)
 Q:Y<1  S LRSDT=Y
"RTN","ONCOLRU",16,0)
 S %DT="AEX",%DT(0)="-"_DT,%DT("A")="Go    to   Date: ",%DT("B")="TODAY" D ^%DT K %DT I X="" S Y=DT W H(10)
"RTN","ONCOLRU",17,0)
 Q:Y<1  S LRLDT=Y I LRSDT>LRLDT S X=LRSDT,LRSDT=LRLDT,LRLDT=X
"RTN","ONCOLRU",18,0)
 S Y=LRSDT D D S LRSTR=Y,Y=LRLDT D D S LRLST=Y Q
"RTN","ONCOLRU",19,0)
 ;
"RTN","ONCOLRU",20,0)
K K A,B,C,D,DEF,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,V,W,X,Y,Z Q
"RTN","ONCOLRU",21,0)
 ;
"RTN","ONCOLRU",22,0)
V D K K ZTRTN,LRWHO,AGE,DIC,DIE,DR,DFN,LRSDT,LRLDT,LRSTR,LRLST,LRXR,LRXREF,LRADM,LRADX,LRABV,LRAWRD,LRAX,LRAD,LRDPAF,LRFNAM,LRMD,LRPF,LRPFN,LRSVC,LRID,LRAP,LRSAV,LREP,LRDTI,LRODT,LRSN,LRBL,LRCPT,%Y,%X,LRFND,LRPPT,LRIDT,LRPMD,LRRMD
"RTN","ONCOLRU",23,0)
 K LR,LRA,LRB,LRC,LRD,LRE,LRF,LRG,LRH,LRI,LRJ,LRK,LRL,LRM,LRN,LRO,LRP,LRQ,LRR,LRS,LRT,LRU,LRV,LRW,LRX,LRY,LRZ,ZTSK,ZTRTN,ZTSAVE,ZTDESC,LRAU,LRFLN,LRLIDT,LRND,LRST,LRTK,LRWW,LRAC,DIWL,DIWR,DIWF,LROLLOC,LRCAPLOC
"RTN","ONCOLRU",24,0)
 K ^TMP($J),^TMP("LRBL",$J),DIWF,D0,LRDFN,LRSF,DQ,LR,LRAN,DA,DX,DOB,SEX,LRAA,LRSOP,LROPT,LRRH,SSN,LRLLOC,LRDPF,LREND,LREXP,LRTOD,LRABO,LRPABO,LRPRH,LRSS,PNM,DE,DG,DA,LRCS,LRRC,LRSIT,LRWHN,POP,LRSA,LRIFN,LRBLT Q
"RTN","ONCOPA1")
0^12^B33419999
"RTN","ONCOPA1",1,0)
ONCOPA1 ;HIRMFO/RTK-PRINT COMPLETE ABSTRACT (132c)  08/25/97
"RTN","ONCOPA1",2,0)
 ;;2.11;ONCOLOGY;**13,15,16**;Mar 07, 1995
"RTN","ONCOPA1",3,0)
 ; Routines for PRINT COMPLETE ABSTRACT, replacing templates ONCOX1-X11.
"RTN","ONCOPA1",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP EXIT
"RTN","ONCOPA1",5,0)
 I $D(IO("Q")) S ONCOLST="ONCOIEN^PTIEN^STARS^LENGTH^TITLE^PRTPCE^ONCODA" D TASK G EXIT
"RTN","ONCOPA1",6,0)
 U IO D PRINT D ^%ZISC K %ZIS,IOP G EXIT
"RTN","ONCOPA1",7,0)
PRINT ;
"RTN","ONCOPA1",8,0)
 Q:$G(ONCOIEN)=""
"RTN","ONCOPA1",9,0)
 W @IOF
"RTN","ONCOPA1",10,0)
 S (IEN,D0)=ONCOIEN,PTIEN=$P($G(^ONCO(165.5,IEN,0)),"^",2)
"RTN","ONCOPA1",11,0)
 S PG=0,EX="",LINE=$S(IOST?1"C".E:IOSL-2,1:IOSL-6)
"RTN","ONCOPA1",12,0)
 S STARS="******************************************************************************"
"RTN","ONCOPA1",13,0)
 D NOW^%DTC S Y=% D DD^%DT S PRTDATE=Y
"RTN","ONCOPA1",14,0)
 K DIQ S DIC="^ONCO(160,",DIQ(0)="C"
"RTN","ONCOPA1",15,0)
 S DR=".111:.131;2;7:10;13;18.9:29;38:44",DA=PTIEN,DIQ="ONCAB"
"RTN","ONCOPA1",16,0)
 D EN^DIQ1
"RTN","ONCOPA1",17,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",18,0)
 S DR=".01;.02;.03;.04;.05;.06;.07;1;1.1;1.2;2:2.4;3;4:11;16;18;19;20.1;22:26;28:35.1;37;37.1;37.2;37.3;38;39;40.2;41;49:59;62:67;70:71.3;74:79;85:92;95;100;101;108;117:130;132;133;137:146;200;346;363;442;560;787;849:851"
"RTN","ONCOPA1",19,0)
 S DA=ONCOIEN,DIQ="ONCAB" D EN^DIQ1
"RTN","ONCOPA1",20,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",21,0)
 S DR="72",DA=ONCOIEN,DR(165.572)=".01;.02;.03;.031;.032",DIQ="ONCAB"
"RTN","ONCOPA1",22,0)
 F SR=0:0 S SR=$O(^ONCO(165.5,IEN,23,SR)) Q:SR'>0  D
"RTN","ONCOPA1",23,0)
 .S DA(165.572)=SR D EN^DIQ1 Q
"RTN","ONCOPA1",24,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",25,0)
 S DR="60",DA=ONCOIEN,DR(165.51)=".01:2;33:37",DIQ="ONCAB"
"RTN","ONCOPA1",26,0)
 F SCT=0:0 S SCT=$O(^ONCO(165.5,IEN,4,SCT)) Q:SCT'>0  D
"RTN","ONCOPA1",27,0)
 .S DA(165.51)=SCT D EN^DIQ1 Q
"RTN","ONCOPA1",28,0)
 K DIQ S DIC="^ONCO(160,",DIQ(0)="C"
"RTN","ONCOPA1",29,0)
 S DR="44",DA=PTIEN,DR(160.044)=".01:1",DIQ="ONCAB"
"RTN","ONCOPA1",30,0)
 F CHST=0:0 S CHST=$O(^ONCO(160,PTIEN,9,CHST)) Q:CHST'>0  D
"RTN","ONCOPA1",31,0)
 .S DA(160.044)=CHST D EN^DIQ1 Q
"RTN","ONCOPA1",32,0)
CRA ;
"RTN","ONCOPA1",33,0)
 S PATNAME=$G(ONCAB(165.5,IEN,.02)),SSAN=$G(ONCAB(160,PTIEN,2))
"RTN","ONCOPA1",34,0)
 S NAME="CANCER REGISTRY ABSTRACT" D FORMAT
"RTN","ONCOPA1",35,0)
 S CRA=TITLE W !!,TITLE
"RTN","ONCOPA1",36,0)
 W !!?21,$E(ONCAB(165.5,IEN,.03),1,26)
"RTN","ONCOPA1",37,0)
 W "    ACOS #:  ",ONCAB(165.5,IEN,67)
"RTN","ONCOPA1",38,0)
 W ?76,"Print Date:  ",PRTDATE D P Q:EX=U
"RTN","ONCOPA1",39,0)
 W !,"      Patient Name:  ",ONCAB(165.5,IEN,.02),?76,"SSN:  ",ONCAB(160,PTIEN,2) D P Q:EX=U
"RTN","ONCOPA1",40,0)
 S DOB="",VRBLPTR=$P($G(^ONCO(160,PTIEN,0)),"^",1) I VRBLPTR'="" D
"RTN","ONCOPA1",41,0)
 .S FILE="^"_$P(VRBLPTR,";",2)_$P(VRBLPTR,";",1)_",0)"
"RTN","ONCOPA1",42,0)
 .S Y=$S($D(@FILE):$P(@FILE,"^",3),1:"") I Y'="" D DD^%DT S DOB=Y Q
"RTN","ONCOPA1",43,0)
 W !,"      Home Address:  ",ONCAB(160,PTIEN,.119) D P Q:EX=U
"RTN","ONCOPA1",44,0)
 W !,"                     ",ONCAB(160,PTIEN,.116) D P Q:EX=U
"RTN","ONCOPA1",45,0)
 W !,"            County:  ",ONCAB(160,PTIEN,.12) D P Q:EX=U
"RTN","ONCOPA1",46,0)
 W !,"               Sex:  ",$E(ONCAB(160,PTIEN,10),1,14),?44,"Race:  ",$E(ONCAB(160,PTIEN,8),1,21),?76,"Ethnicity:  ",ONCAB(160,PTIEN,9) D P Q:EX=U
"RTN","ONCOPA1",47,0)
 W !,"     Date of Birth:  ",DOB
"RTN","ONCOPA1",48,0)
 W ?38," Age at DX:  ",ONCAB(165.5,IEN,4) D P Q:EX=U
"RTN","ONCOPA1",49,0)
 ;
"RTN","ONCOPA1",50,0)
CI ;
"RTN","ONCOPA1",51,0)
 S NAME="CANCER IDENTIFICATION" D FORMAT
"RTN","ONCOPA1",52,0)
 W !!,TITLE
"RTN","ONCOPA1",53,0)
 S NODE2=$G(^ONCO(165.5,IEN,2))
"RTN","ONCOPA1",54,0)
 W !!,"   Accession Number:  ",ONCAB(165.5,IEN,.05),?38,"Accession Year:  ",ONCAB(165.5,IEN,.07),?76,"Sequence Number:  ",ONCAB(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCOPA1",55,0)
 W !,"            Date Dx:  ",ONCAB(165.5,IEN,3),?38,"   Dx Facility:  ",ONCAB(165.5,IEN,5) D P Q:EX=U
"RTN","ONCOPA1",56,0)
 W !,"     Admission Date:  ",ONCAB(165.5,IEN,1),?38,"Discharge Date:  ",ONCAB(165.5,IEN,1.1) D P Q:EX=U
"RTN","ONCOPA1",57,0)
 W !,"      Class of Case:  ",ONCAB(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCOPA1",58,0)
 W !,"  Type of Reporting Source:  ",ONCAB(165.5,IEN,1.2) D P Q:EX=U
"RTN","ONCOPA1",59,0)
 W !,"              IP/OP Status:  ",ONCAB(165.5,IEN,123) D P Q:EX=U
"RTN","ONCOPA1",60,0)
 W !,"                Site/Group:  ",ONCAB(165.5,IEN,.01) D P Q:EX=U
"RTN","ONCOPA1",61,0)
 W !,"                 ICDO-Site:  ",ONCAB(165.5,IEN,20.1),"  "
"RTN","ONCOPA1",62,0)
 S TOP=$P(NODE2,"^",1) I TOP'="" W $P(^ONCO(164,TOP,0),"^",1) D P Q:EX=U
"RTN","ONCOPA1",63,0)
 W !,"         Text-Primary Site:  ",ONCAB(165.5,IEN,100) D P Q:EX=U
"RTN","ONCOPA1",64,0)
 W !,"                Laterality:  ",ONCAB(165.5,IEN,28) D P Q:EX=U
"RTN","ONCOPA1",65,0)
 W !,"                 Histology:  "
"RTN","ONCOPA1",66,0)
 S HIST=$P(NODE2,"^",3) I HIST'="" W $P(^ONCO(164.1,HIST,0),"^",2)
"RTN","ONCOPA1",67,0)
 W "  ",ONCAB(165.5,IEN,22) D P Q:EX=U
"RTN","ONCOPA1",68,0)
 W !,"            Text-Histology:  ",ONCAB(165.5,IEN,101) D P Q:EX=U
"RTN","ONCOPA1",69,0)
 W !,"                     Grade:  ",ONCAB(165.5,IEN,24),"  "
"RTN","ONCOPA1",70,0)
 S GR=$P(NODE2,"^",5) I GR'="" W $P(^ONCO(164.43,GR,0),"^",2) D P Q:EX=U
"RTN","ONCOPA1",71,0)
 W !,"   Diagnostic Confirmation:  ",ONCAB(165.5,IEN,26) D P Q:EX=U
"RTN","ONCOPA1",72,0)
 ;W !,"            Tumor Marker 1:  ",ONCAB(165.5,IEN,25.1) D P Q:EX=U
"RTN","ONCOPA1",73,0)
 ;W !,"            Tumor Marker 2:  ",ONCAB(165.5,IEN,25.2) D P Q:EX=U
"RTN","ONCOPA1",74,0)
 ;W !,"            Tumor Marker 3:  ",ONCAB(165.5,IEN,25.3) D P Q:EX=U
"RTN","ONCOPA1",75,0)
 S TM1=$$PRINT^ONCOTM(IEN,1)
"RTN","ONCOPA1",76,0)
 I TM1["UMOR" S $E(TM1,2,5)="umor" I TM1["ARKER" S $E(TM1,8,12)="arker"
"RTN","ONCOPA1",77,0)
 S TM2=$$PRINT^ONCOTM(IEN,2)
"RTN","ONCOPA1",78,0)
 I TM2["UMOR" S $E(TM2,2,5)="umor" I TM2["ARKER" S $E(TM2,8,12)="arker"
"RTN","ONCOPA1",79,0)
 S TM3=$$PRINT^ONCOTM(IEN,3)
"RTN","ONCOPA1",80,0)
 I TM3["UMOR" S $E(TM3,2,5)="umor" I TM3["ARKER" S $E(TM3,8,12)="arker"
"RTN","ONCOPA1",81,0)
 S LEN=$L(TM1) W !?(26-LEN),TM1,":  ",ONCAB(165.5,IEN,25.1) D P Q:EX=U
"RTN","ONCOPA1",82,0)
 S LEN=$L(TM2) W !?(26-LEN),TM2,":  ",ONCAB(165.5,IEN,25.2) D P Q:EX=U
"RTN","ONCOPA1",83,0)
 S LEN=$L(TM3) W !?(26-LEN),TM3,":  ",ONCAB(165.5,IEN,25.3) D P Q:EX=U
"RTN","ONCOPA1",84,0)
 W !,"        Referring Facility:  ",ONCAB(165.5,IEN,6) D P Q:EX=U
"RTN","ONCOPA1",85,0)
 W !,"         Transfer Facility:  ",ONCAB(165.5,IEN,7) D P Q:EX=U
"RTN","ONCOPA1",86,0)
 W !,"   Presentation at Cancer Conference:  ",ONCAB(165.5,IEN,120) D P Q:EX=U
"RTN","ONCOPA1",87,0)
 W !,"           Date of Cancer Conference:  ",ONCAB(165.5,IEN,121) D P Q:EX=U
"RTN","ONCOPA1",88,0)
 W !,"                      Screening Date:  ",ONCAB(165.5,IEN,79) D P Q:EX=U
"RTN","ONCOPA1",89,0)
 W !,"                    Screening Result:  ",ONCAB(165.5,IEN,119) D P Q:EX=U
"RTN","ONCOPA1",90,0)
 ;
"RTN","ONCOPA1",91,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G PA1A
"RTN","ONCOPA1",92,0)
 D P Q:EX=U
"RTN","ONCOPA1",93,0)
PA1A D ^ONCOPA1A
"RTN","ONCOPA1",94,0)
 ; WILL CALL ONCOPA2 ROUTINE FROM HERE TO CONTINUE...
"RTN","ONCOPA1",95,0)
 ;
"RTN","ONCOPA1",96,0)
EXIT K CHF,CHST,CRA,DOB,DXDT,EX,FHDT,FHIEN,FHZN,FILE,FLG,FM,FOLH,FR,GR
"RTN","ONCOPA1",97,0)
 K HIST,IEN,J,LEN,LENGTH,LINE,NAME,NF,NODE2,NOK,NUM,ONCAB,ONCOIEN,OTHPRI
"RTN","ONCOPA1",98,0)
 K PATNAME,PG,PRTDATE,PRZN,PTIEN,QS,RCDT,SCT,SITE,SR,SSAN,ST,STARS
"RTN","ONCOPA1",99,0)
 K TITLE,TM1,TM2,TM3,TOP,TSTAT,TX,VRBLPTR,VS,XDX,XD1
"RTN","ONCOPA1",100,0)
 Q
"RTN","ONCOPA1",101,0)
P ;
"RTN","ONCOPA1",102,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA1",103,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA1",104,0)
 .D HDR Q
"RTN","ONCOPA1",105,0)
 Q
"RTN","ONCOPA1",106,0)
FORMAT ;
"RTN","ONCOPA1",107,0)
 S LENGTH=$L(NAME),NUM=(((132-LENGTH)/2)\1)-10
"RTN","ONCOPA1",108,0)
 S TITLE="     "_$E(STARS,1,NUM)_"     "_NAME_"     "_$E(STARS,1,NUM)
"RTN","ONCOPA1",109,0)
 Q
"RTN","ONCOPA1",110,0)
TASK ; If report is queued
"RTN","ONCOPA1",111,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCOPA1",112,0)
 S ZTRTN="PRINT^ONCOPA1",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCOPA1",113,0)
 S ZTDESC="Print Complete Abstract"
"RTN","ONCOPA1",114,0)
 F RK=1:1 S RK1=$P(ONCOLST,"^",RK) Q:RK1=""  S ZTSAVE(RK1)=""
"RTN","ONCOPA1",115,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Report Queued",!
"RTN","ONCOPA1",116,0)
 K RK,RK1,ONCOLST,ZTSK Q
"RTN","ONCOPA1",117,0)
HDR ; Header
"RTN","ONCOPA1",118,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA1",119,0)
 W CRA,!
"RTN","ONCOPA1",120,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA1",121,0)
 Q
"RTN","ONCOPA1",122,0)
MULT ; Entry point from routine ONCOPMA. This is for printing MULTIPLE
"RTN","ONCOPA1",123,0)
 ; abstracts (option ABS...MA...3). The ONCOPM routines do the device
"RTN","ONCOPA1",124,0)
 ; prompt code so we don't need it here, just the following.
"RTN","ONCOPA1",125,0)
 ; Also called from PCEPRT2^ONCOGEN. This is for printing all PCE's and
"RTN","ONCOPA1",126,0)
 ; attached abstracts for a particular site (option ABS...MA...5).
"RTN","ONCOPA1",127,0)
 ; ONCOGEN does the device prompt code so it is not needed here.
"RTN","ONCOPA1",128,0)
 I $D(IO("Q")) S ONCOLST="ONCOIEN^PTIEN^STARS^LENGTH^TITLE^PRTPCE^ONCODA" D TASK G EXIT
"RTN","ONCOPA1",129,0)
 U IO D PRINT K %ZIS,IOP G EXIT
"RTN","ONCOPA1",130,0)
 Q
"RTN","ONCOPA2A")
0^51^B11531946
"RTN","ONCOPA2A",1,0)
ONCOPA2A ;HIRMFO/RTK-PRINT COMPLETE ABSTRACT (132c)...CONTINUED  09/05/97
"RTN","ONCOPA2A",2,0)
 ;;2.11;ONCOLOGY;**15,16**;Mar 07, 1995
"RTN","ONCOPA2A",3,0)
 ; ONCO PRINT ABSTRACT CONTINUED
"RTN","ONCOPA2A",4,0)
 S NAME="RECURRENCES" D FORMAT^ONCOPA1
"RTN","ONCOPA2A",5,0)
 W !!,TITLE
"RTN","ONCOPA2A",6,0)
 W !!,"   Date of First Recurrence:  ",ONCAB(165.5,IEN,70)
"RTN","ONCOPA2A",7,0)
 W ?50,"   Type of First Recurrence:  ",ONCAB(165.5,IEN,71) D P Q:EX=U
"RTN","ONCOPA2A",8,0)
 W !,"   Distant Site 1:  ",ONCAB(165.5,IEN,71.1) D P Q:EX=U
"RTN","ONCOPA2A",9,0)
 W !,"   Distant Site 2:  ",ONCAB(165.5,IEN,71.2) D P Q:EX=U
"RTN","ONCOPA2A",10,0)
 W !,"   Distant Site 3:  ",ONCAB(165.5,IEN,71.3) D P Q:EX=U
"RTN","ONCOPA2A",11,0)
 F SR=0:0 S SR=$O(ONCAB(165.572,SR)) Q:SR'>0  D
"RTN","ONCOPA2A",12,0)
 .W !!,"   Subsequent Recurrence Date:  ",ONCAB(165.572,SR,.01)
"RTN","ONCOPA2A",13,0)
 .W ?50,"   Type of Subsequent Recurrence:  ",ONCAB(165.572,SR,.02) D P Q:EX=U
"RTN","ONCOPA2A",14,0)
 .W !,"   Distant Site 1:  ",ONCAB(165.572,SR,.03) D P Q:EX=U
"RTN","ONCOPA2A",15,0)
 .W !,"   Distant Site 2:  ",ONCAB(165.572,SR,.031) D P Q:EX=U
"RTN","ONCOPA2A",16,0)
 .W !,"   Distant Site 3:  ",ONCAB(165.572,SR,.032) D P Q:EX=U
"RTN","ONCOPA2A",17,0)
 .Q
"RTN","ONCOPA2A",18,0)
 S NAME="SUBSEQUENT COURSE OF THERAPY" D FORMAT^ONCOPA1
"RTN","ONCOPA2A",19,0)
 W !!,TITLE
"RTN","ONCOPA2A",20,0)
 F SCT=0:0 S SCT=$O(ONCAB(165.51,SCT)) Q:SCT'>0  D
"RTN","ONCOPA2A",21,0)
 .W !!?30,"   Date Started:  ",ONCAB(165.51,SCT,.01) D P Q:EX=U
"RTN","ONCOPA2A",22,0)
 .W !?8,"   Surgery of Primary Site:  ",ONCAB(165.51,SCT,.041)
"RTN","ONCOPA2A",23,0)
 .W "   ",ONCAB(165.51,SCT,.04) D P Q:EX=U
"RTN","ONCOPA2A",24,0)
 .W !?8,"   Scope of Lymph Node Surgery:  ",ONCAB(165.51,SCT,35) D P Q:EX=U
"RTN","ONCOPA2A",25,0)
 .W !?8,"   Number of Nodes Removed:  ",ONCAB(165.51,SCT,37) D P Q:EX=U
"RTN","ONCOPA2A",26,0)
 .W !?8,"   Surgery of Other Sites/Nodes:  ",ONCAB(165.51,SCT,36) D P Q:EX=U
"RTN","ONCOPA2A",27,0)
 .W !?8,"   Recon/Restore - Delayed:  ",ONCAB(165.51,SCT,34)
"RTN","ONCOPA2A",28,0)
 .W "   ",ONCAB(165.51,SCT,33) D P Q:EX=U
"RTN","ONCOPA2A",29,0)
 .W !?8,"   Radiation:  ",ONCAB(165.51,SCT,.051)
"RTN","ONCOPA2A",30,0)
 .W "   ",ONCAB(165.51,SCT,.05) D P Q:EX=U
"RTN","ONCOPA2A",31,0)
 .W !?8,"   Radiation Sequence:  ",ONCAB(165.51,SCT,1) D P Q:EX=U
"RTN","ONCOPA2A",32,0)
 .W !?8,"   Radiation Therapy to CNS:  ",ONCAB(165.51,SCT,.031)
"RTN","ONCOPA2A",33,0)
 .W "   ",ONCAB(165.51,SCT,.03) D P Q:EX=U
"RTN","ONCOPA2A",34,0)
 .W !?8,"   Chemotherapy:  ",ONCAB(165.51,SCT,.061)
"RTN","ONCOPA2A",35,0)
 .W "   ",ONCAB(165.51,SCT,.06) D P Q:EX=U
"RTN","ONCOPA2A",36,0)
 .W !?8,"   Hormone Therapy:  ",ONCAB(165.51,SCT,.071)
"RTN","ONCOPA2A",37,0)
 .W "   ",ONCAB(165.51,SCT,.07) D P Q:EX=U
"RTN","ONCOPA2A",38,0)
 .W !?8,"   Immunotherapy (BRM):  ",ONCAB(165.51,SCT,.081)
"RTN","ONCOPA2A",39,0)
 .W "   ",ONCAB(165.51,SCT,.08) D P Q:EX=U
"RTN","ONCOPA2A",40,0)
 .W !?8,"   Other Cancer Therapy:  ",ONCAB(165.51,SCT,.091)
"RTN","ONCOPA2A",41,0)
 .W "   ",ONCAB(165.51,SCT,.09) D P Q:EX=U
"RTN","ONCOPA2A",42,0)
 .W !,"   Place:  ",ONCAB(165.51,SCT,2) D P Q:EX=U
"RTN","ONCOPA2A",43,0)
 .W !,"   Comment(s):  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,4,SCT,1,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,4,SCT,1,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",44,0)
 .Q
"RTN","ONCOPA2A",45,0)
 S NAME="OTHER PRIMARY SITES" D FORMAT^ONCOPA1
"RTN","ONCOPA2A",46,0)
 W !!,TITLE,!
"RTN","ONCOPA2A",47,0)
 S XDX=$O(^ONCO(165.5,"C",PTIEN,"")) I $O(^ONCO(165.5,"C",PTIEN,XDX)) W !?3,"Acc/Seq#",?15,"Primary Site",?37,"Last Tumor Status",?56,"Date DX",?68,"Abst Status",!
"RTN","ONCOPA2A",48,0)
 S (FLG,J)=0 F XD1=0:0 S XD1=$O(^ONCO(165.5,"C",PTIEN,XD1)) Q:XD1'>""!(FLG=1)  D
"RTN","ONCOPA2A",49,0)
 .I $D(^ONCO(165.5,XD1,0)),XD1'=IEN S J=J+1 D ^ONCOCOML D P I EX=U S FLG=1
"RTN","ONCOPA2A",50,0)
 .Q
"RTN","ONCOPA2A",51,0)
 I J=0 W !?24,"No Other Primary Sites"
"RTN","ONCOPA2A",52,0)
 ;
"RTN","ONCOPA2A",53,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G PA3
"RTN","ONCOPA2A",54,0)
 D P Q:EX=U
"RTN","ONCOPA2A",55,0)
PA3 D ^ONCOPA3
"RTN","ONCOPA2A",56,0)
 ; WILL CALL ONCOPA3 ROUTINE FROM HERE TO CONTINUE...
"RTN","ONCOPA2A",57,0)
 Q
"RTN","ONCOPA2A",58,0)
P ;
"RTN","ONCOPA2A",59,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA2A",60,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA2A",61,0)
 .D HDR Q
"RTN","ONCOPA2A",62,0)
 Q
"RTN","ONCOPA2A",63,0)
HDR ; Header
"RTN","ONCOPA2A",64,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA2A",65,0)
 W CRA,!
"RTN","ONCOPA2A",66,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA2A",67,0)
 Q
"RTN","ONCOPCE")
0^26^B23770067
"RTN","ONCOPCE",1,0)
ONCOPCE ;HIRMFO/GWB PCE MAIN ROUTINE ;5/21/96
"RTN","ONCOPCE",2,0)
 ;;2.11;ONCOLOGY;**6,7,11,13,16**;Mar 07, 1995
"RTN","ONCOPCE",3,0)
 N D0,DA,DD,DIC,DIE,DINUM,DIR,DLAYGO,DO,DR,DP,DL,DQ,DM,DK,DI,DIEL,DOV
"RTN","ONCOPCE",4,0)
 G:'ONCOD0P EXIT S ONCONUM=+ONCOD0P N ONCOD0P
"RTN","ONCOPCE",5,0)
 G:'ONCOD0 EXIT S ONCOPA=ONCOD0 N ONCOD0
"RTN","ONCOPCE",6,0)
 K PCEITC
"RTN","ONCOPCE",7,0)
 S PCEITC("C18.0")="" ;Cecum
"RTN","ONCOPCE",8,0)
 S PCEITC("C18.1")="" ;Appendix
"RTN","ONCOPCE",9,0)
 S PCEITC("C18.2")="" ;Ascending
"RTN","ONCOPCE",10,0)
 S PCEITC("C18.3")="" ;Hepatic flexure
"RTN","ONCOPCE",11,0)
 S PCEITC("C18.4")="" ;Transverse
"RTN","ONCOPCE",12,0)
 S PCEITC("C18.5")="" ;Splenic flexure
"RTN","ONCOPCE",13,0)
 S PCEITC("C18.6")="" ;Descending
"RTN","ONCOPCE",14,0)
 S PCEITC("C18.7")="" ;Sigmoid
"RTN","ONCOPCE",15,0)
 S PCEITC("C18.8")="" ;Overlapping lesion
"RTN","ONCOPCE",16,0)
 S PCEITC("C18.9")="" ;Colon, NOS
"RTN","ONCOPCE",17,0)
 S PCEITC("C19.9")="" ;Rectosigmoid junction
"RTN","ONCOPCE",18,0)
 S PCEITC("C20.9")="" ;Rectum
"RTN","ONCOPCE",19,0)
 S PCEITC("C38.0")="" ;Heart
"RTN","ONCOPCE",20,0)
 S PCEITC("C38.1")="" ;Mediastinum, anterior
"RTN","ONCOPCE",21,0)
 S PCEITC("C38.2")="" ;Mediastinum, posterior
"RTN","ONCOPCE",22,0)
 S PCEITC("C38.3")="" ;Mediastinum, NOS
"RTN","ONCOPCE",23,0)
 S PCEITC("C38.4")="" ;Pleura, NOS
"RTN","ONCOPCE",24,0)
 S PCEITC("C38.8")="" ;Heart/Medias/Pleura, overlap
"RTN","ONCOPCE",25,0)
 S PCEITC("C44.0")="" ;Skin of lip, NOS
"RTN","ONCOPCE",26,0)
 S PCEITC("C44.2")="" ;External ear
"RTN","ONCOPCE",27,0)
 S PCEITC("C44.3")="" ;Skin of other and unspecified parts of face
"RTN","ONCOPCE",28,0)
 S PCEITC("C44.4")="" ;Skin of scalp and neck
"RTN","ONCOPCE",29,0)
 S PCEITC("C44.5")="" ;Skin of trunk
"RTN","ONCOPCE",30,0)
 S PCEITC("C44.6")="" ;Skin of upper limb and shoulder
"RTN","ONCOPCE",31,0)
 S PCEITC("C44.7")="" ;Skin of lower limb and hip
"RTN","ONCOPCE",32,0)
 S PCEITC("C44.8")="" ;Overlapping lesion
"RTN","ONCOPCE",33,0)
 S PCEITC("C44.9")="" ;Skin, NOS
"RTN","ONCOPCE",34,0)
 S PCEITC("C47.0")="" ;Nerves, head & neck
"RTN","ONCOPCE",35,0)
 S PCEITC("C47.1")="" ;Nerves, upper limb
"RTN","ONCOPCE",36,0)
 S PCEITC("C47.2")="" ;Nerves, lower limb
"RTN","ONCOPCE",37,0)
 S PCEITC("C47.3")="" ;Nerves, thorax
"RTN","ONCOPCE",38,0)
 S PCEITC("C47.4")="" ;Nerves, abdomen
"RTN","ONCOPCE",39,0)
 S PCEITC("C47.5")="" ;Nerves, pelvis
"RTN","ONCOPCE",40,0)
 S PCEITC("C47.6")="" ;Nerves, trunk
"RTN","ONCOPCE",41,0)
 S PCEITC("C47.8")="" ;Nerves, overlap
"RTN","ONCOPCE",42,0)
 S PCEITC("C47.9")="" ;Autonomic nervous system, NOS
"RTN","ONCOPCE",43,0)
 S PCEITC("C48.0")="" ;Retroperitoneum
"RTN","ONCOPCE",44,0)
 S PCEITC("C48.1")="" ;Peritoneum, specified
"RTN","ONCOPCE",45,0)
 S PCEITC("C48.2")="" ;Peritoneum, NOS
"RTN","ONCOPCE",46,0)
 S PCEITC("C48.8")="" ;Retroperitoneum overlap
"RTN","ONCOPCE",47,0)
 S PCEITC("C49.0")="" ;Soft tissues, head & neck
"RTN","ONCOPCE",48,0)
 S PCEITC("C49.1")="" ;Soft tissues, upper limb
"RTN","ONCOPCE",49,0)
 S PCEITC("C49.2")="" ;Soft tissues, lower limb
"RTN","ONCOPCE",50,0)
 S PCEITC("C49.3")="" ;Soft tissues, thorax
"RTN","ONCOPCE",51,0)
 S PCEITC("C49.4")="" ;Soft tissues, abdomen
"RTN","ONCOPCE",52,0)
 S PCEITC("C49.5")="" ;Soft tissues, pelvis
"RTN","ONCOPCE",53,0)
 S PCEITC("C49.6")="" ;Soft tissues, trunk
"RTN","ONCOPCE",54,0)
 S PCEITC("C49.8")="" ;Soft tissues overlap
"RTN","ONCOPCE",55,0)
 S PCEITC("C49.9")="" ;Soft tissues NOS
"RTN","ONCOPCE",56,0)
 S PCEITC("C61.9")="" ;Prostate
"RTN","ONCOPCE",57,0)
 S PCEITC("C67.0")="" ;Urinary Bladder
"RTN","ONCOPCE",58,0)
 S PCEITC("C67.1")="" ;Urinary Bladder
"RTN","ONCOPCE",59,0)
 S PCEITC("C67.2")="" ;Urinary Bladder
"RTN","ONCOPCE",60,0)
 S PCEITC("C67.3")="" ;Urinary Bladder
"RTN","ONCOPCE",61,0)
 S PCEITC("C67.4")="" ;Urinary Bladder
"RTN","ONCOPCE",62,0)
 S PCEITC("C67.5")="" ;Urinary Bladder
"RTN","ONCOPCE",63,0)
 S PCEITC("C67.6")="" ;Urinary Bladder
"RTN","ONCOPCE",64,0)
 S PCEITC("C67.7")="" ;Urinary Bladder
"RTN","ONCOPCE",65,0)
 S PCEITC("C67.8")="" ;Urinary Bladder
"RTN","ONCOPCE",66,0)
 S PCEITC("C67.9")="" ;Urinary Bladder
"RTN","ONCOPCE",67,0)
 S PCEITC("C68.0")="" ;Urinary Bladder (Urethra)
"RTN","ONCOPCE",68,0)
 S PCEITC("C73.9")="" ;Thyroid gland
"RTN","ONCOPCE",69,0)
 ;Check if HISTOLOGY is relevant to NON-HODGKIN'S LYMPHOMA and if 
"RTN","ONCOPCE",70,0)
 ;ACCESSION YEAR is 1997
"RTN","ONCOPCE",71,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCOPCE",72,0)
 S HIST1234=$E(HIST,1,4),BEH=$E(HIST,5)
"RTN","ONCOPCE",73,0)
 I ((HIST1234>9589)&(HIST1234<9596))!((HIST1234>9669)&(HIST1234<9718)),$P(^ONCO(165.5,ONCONUM,0),U,7)=1997 D ^ONCNPC0 G EXIT
"RTN","ONCOPCE",74,0)
 ;Check for pediatric cases of rhabdomyosarcoma (Soft Tissue Sarcoma)
"RTN","ONCOPCE",75,0)
 S D0=ONCOPA D DOB1^ONCOES S X1=DT,X2=X D ^%DTC S AGE=X\365.25,D0=ONCONUM
"RTN","ONCOPCE",76,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCOPCE",77,0)
 I AGE<21,((HIST=89003)!(HIST=89013)!(HIST=89023)!(HIST=89103)!(HIST=89203)) D ^ONCSPC0 G EXIT
"RTN","ONCOPCE",78,0)
 ;Check ICDO code
"RTN","ONCOPCE",79,0)
 S ICDO=0,NODE2=$G(^ONCO(165.5,ONCONUM,2)),ICDOTOP=$P(NODE2,U,1)
"RTN","ONCOPCE",80,0)
 I ICDOTOP'="" S ICDO=$P(^ONCO(164,ICDOTOP,0),U,2)
"RTN","ONCOPCE",81,0)
 I ICDO=0 G:ONCOANS'=5 EXIT W !!,?10,"There is no ICDO-TOPOGRAPHY for this primary." R Z:10 G EXIT
"RTN","ONCOPCE",82,0)
 I '$D(PCEITC(ICDO)) G:ONCOANS'=5 EXIT W !!,?10,"There is currently no PCE for this primary site",!,?10,"nor is it a 1997 Non-Hodgkin's Lymphoma." R Z:10 G EXIT
"RTN","ONCOPCE",83,0)
 I ($E(ICDO,2,3)=67)!($E(ICDO,2,3)=68) D ^ONCBPC0 G EXIT
"RTN","ONCOPCE",84,0)
 I ($E(ICDO,2,3)=38)!($E(ICDO,2,3)=47)!($E(ICDO,2,3)=48)!($E(ICDO,2,3)=49)!($E(ICDO,2,3)=44) D ^ONCSPC0 G EXIT
"RTN","ONCOPCE",85,0)
 I ICDO="C73.9" D ^ONCTPC0 G EXIT
"RTN","ONCOPCE",86,0)
 I ICDO="C61.9" D ^ONCPPC0 G EXIT
"RTN","ONCOPCE",87,0)
 I ($E(ICDO,2,3)=18)!($E(ICDO,2,3)=19)!($E(ICDO,2,3)=20) D ^ONCCPC0 G EXIT
"RTN","ONCOPCE",88,0)
 Q
"RTN","ONCOPCE",89,0)
EXIT K PCEITC,NODE2,ICDOTOP,ICDO,Z,X1,X2,AGE,HIST,HIST1234,BEH
"RTN","ONCOPCE",90,0)
 Q
"RTN","ONCOPCE",91,0)
DATEIT ;Date input transform
"RTN","ONCOPCE",92,0)
 I X="00/00/00" S X="0000000" S ITFLAG="YES" Q
"RTN","ONCOPCE",93,0)
 I X="00/00/0000" S X="0000000" S ITFLAG="YES" W "  00/00/0000" Q
"RTN","ONCOPCE",94,0)
 I X="00000000" S X="0000000" S ITFLAG="YES" W "  00/00/0000" Q
"RTN","ONCOPCE",95,0)
 I X="99/99/99" S X=9999999 S ITFLAG="YES" Q
"RTN","ONCOPCE",96,0)
 I X="99/99/9999" S X=9999999 S ITFLAG="YES" W "  99/99/9999" Q
"RTN","ONCOPCE",97,0)
 I X="99999999" S X=9999999 S ITFLAG="YES" W "  99/99/9999" Q
"RTN","ONCOPCE",98,0)
 Q
"RTN","ONCOPCE",99,0)
DATEOT ;Date output transform in format MM/DD/YYYY
"RTN","ONCOPCE",100,0)
 Q:Y=""
"RTN","ONCOPCE",101,0)
 S Y=$S(Y="0000000":"00/00/0000",Y=9999999:"99/99/9999",1:$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_($E(Y,1,3)+1700))
"RTN","ONCOPCE",102,0)
 Q
"RTN","ONCOTN2A")
0^53^B8570168
"RTN","ONCOTN2A",1,0)
ONCOTN2A ;WISC/MLH - ONCOLOGY - CH20-29 STAGING CONTINUED ;7/6/93  15:43
"RTN","ONCOTN2A",2,0)
 ;;2.11;ONCOLOGY;**1,13,15,16**;Mar 07, 1995
"RTN","ONCOTN2A",3,0)
28 ;Vulva
"RTN","ONCOTN2A",4,0)
 D @$S(ONCOED=5:"VU5",ONCOED=4:"VU4",1:"VU3")
"RTN","ONCOTN2A",5,0)
 Q
"RTN","ONCOTN2A",6,0)
VU3 ;Vulva - 3rd ed
"RTN","ONCOTN2A",7,0)
 I M!($E(N)=3)!(T=4) S SG=4
"RTN","ONCOTN2A",8,0)
 E  I T="IS" S SG=0
"RTN","ONCOTN2A",9,0)
 E  I T=1,($E(N)=0)!($E(N)=1),$E(M)=0 S SG=1
"RTN","ONCOTN2A",10,0)
 E  I T=2,($E(N)=0)!($E(N)=1),$E(M)=0 S SG=2
"RTN","ONCOTN2A",11,0)
 E  I T=3,($E(N)=0)!($E(N)=1)!($E(N)=2),$E(M)=0 S SG=3
"RTN","ONCOTN2A",12,0)
 E  I (T=1)!(T=2),$E(N)=2,$E(M)=0 S SG=3
"RTN","ONCOTN2A",13,0)
 E  S SG=99
"RTN","ONCOTN2A",14,0)
 Q
"RTN","ONCOTN2A",15,0)
VU4 ;Vulva - 4th ed
"RTN","ONCOTN2A",16,0)
 I M S SG="4B"
"RTN","ONCOTN2A",17,0)
 E  I T=4,$E(M)=0 S SG="4A"
"RTN","ONCOTN2A",18,0)
 E  I (T=1)!(T=2)!(T=3),$E(N)=2,$E(M)=0 S SG="4A"
"RTN","ONCOTN2A",19,0)
 E  I T="IS",$E(N)=0,$E(M)=0 S SG=0
"RTN","ONCOTN2A",20,0)
 E  I T=1,$E(N)=0,$E(M)=0 S SG=1
"RTN","ONCOTN2A",21,0)
 E  I T=2,$E(N)=0,$E(M)=0 S SG=2
"RTN","ONCOTN2A",22,0)
 E  I (T=1)!(T=2),$E(N)=1,$E(M)=0 S SG=3
"RTN","ONCOTN2A",23,0)
 E  I T=3,($E(N)=0)!($E(N)=1),$E(M)=0 S SG=3
"RTN","ONCOTN2A",24,0)
 E  S SG=99
"RTN","ONCOTN2A",25,0)
 Q
"RTN","ONCOTN2A",26,0)
VU5 ;Vulva - 5th ed
"RTN","ONCOTN2A",27,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCOTN2A",28,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCOTN2A",29,0)
 .I TNM="1A00" S SG="1A" Q  ;IA   T1a   N0    M0
"RTN","ONCOTN2A",30,0)
 .I TNM="1B00" S SG="1B" Q  ;IB   T1b   N0    M0
"RTN","ONCOTN2A",31,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCOTN2A",32,0)
 .I TNM=110 S SG=3 Q        ;III  T1    N1    M0
"RTN","ONCOTN2A",33,0)
 .I TNM=210 S SG=3 Q        ;     T2    N1    M0
"RTN","ONCOTN2A",34,0)
 .I TNM=300 S SG=3 Q        ;     T3    N0    M0
"RTN","ONCOTN2A",35,0)
 .I TNM=310 S SG=3 Q        ;     T3    N1    M0
"RTN","ONCOTN2A",36,0)
 .I TNM=120 S SG="4A" Q     ;IVA  T1    N2    M0
"RTN","ONCOTN2A",37,0)
 .I TNM=220 S SG="4A" Q     ;     T2    N2    M0
"RTN","ONCOTN2A",38,0)
 .I TNM=320 S SG="4A" Q     ;     T3    N2    M0
"RTN","ONCOTN2A",39,0)
 .I T=4,M=0 S SG="4A" Q     ;     T4    Any N M0
"RTN","ONCOTN2A",40,0)
 .I M=1 S SG="4B" Q         ;IVB  Any T Any N M1
"RTN","ONCOTN2A",41,0)
29 ;Prostate
"RTN","ONCOTN2A",42,0)
 S ONCOMAN=$$TNMED^ONCOU55(D0)
"RTN","ONCOTN2A",43,0)
 D @$S(ONCOMAN=4:"P4",ONCOMAN=5:"P5",1:"P3")
"RTN","ONCOTN2A",44,0)
 Q
"RTN","ONCOTN2A",45,0)
P3 ;Prostate - 3rd ed
"RTN","ONCOTN2A",46,0)
 I M!(N=1)!(N=2)!(N=3)!(T[4) S SG=4
"RTN","ONCOTN2A",47,0)
 E  I T="1A"!(T="2A"),$E(N)=0,$E(M)=0,G,G'=9 S SG=$S(G=1:0,G>1:1)
"RTN","ONCOTN2A",48,0)
 E  I T="1B"!(T="2B"),$E(N)=0,$E(M)=0 S SG=2
"RTN","ONCOTN2A",49,0)
 E  I T=3,$E(N)=0,$E(M)=0 S SG=3
"RTN","ONCOTN2A",50,0)
 E  S SG=99
"RTN","ONCOTN2A",51,0)
 Q
"RTN","ONCOTN2A",52,0)
P4 ;Prostate - 4th ed
"RTN","ONCOTN2A",53,0)
 I M!(N=1)!(N=2)!(N=3)!(T[4) S SG=4
"RTN","ONCOTN2A",54,0)
 E  I T="1A",$E(N)=0,$E(M)=0,G,G'=9 S SG=$S(G=1:0,G>1:1)
"RTN","ONCOTN2A",55,0)
 E  I T="1B"!(T="1C")!(T=1),$E(N)=0,$E(M)=0 S SG=1
"RTN","ONCOTN2A",56,0)
 E  I T[2,$E(N)=0,$E(M)=0 S SG=2
"RTN","ONCOTN2A",57,0)
 E  I T[3,$E(N)=0,$E(M)=0 S SG=3
"RTN","ONCOTN2A",58,0)
 E  S SG=99
"RTN","ONCOTN2A",59,0)
 Q 
"RTN","ONCOTN2A",60,0)
P5 ;Prostate - 5th ed
"RTN","ONCOTN2A",61,0)
 S TNM=T_N_$E(M,1) D  K TNM Q
"RTN","ONCOTN2A",62,0)
 .I (G=1)&(TNM="1A00") S SG=1 Q                ;I    T1a   N0 M0 G1
"RTN","ONCOTN2A",63,0)
 .I ((G=2)!(G=3)!(G=4))&(TNM="1A00") S SG=2 Q  ;II   T1a   N0 M0 G2, 3-4
"RTN","ONCOTN2A",64,0)
 .I TNM="1B00" S SG=2 Q                        ;     T1b   N0    M0 Any G
"RTN","ONCOTN2A",65,0)
 .I TNM="1C00" S SG=2 Q                        ;     T1c   N0    M0 Any G
"RTN","ONCOTN2A",66,0)
 .I TNM=100 S SG=2 Q                           ;     T1    N0    M0 Any G
"RTN","ONCOTN2A",67,0)
 .I $E(T,1)=2,N=0,M=0 S SG=2 Q                 ;     T2    N0    M0 Any G
"RTN","ONCOTN2A",68,0)
 .I $E(T,1)=3,N=0,M=0 S SG=3 Q                 ;III  T3    N0    M0 Any G
"RTN","ONCOTN2A",69,0)
 .I TNM=400 S SG=4 Q                           ;IV   T4    N0    M0 Any G
"RTN","ONCOTN2A",70,0)
 .I N=1,M=0 S SG=4 Q                           ;     Any T N1    M0 Any G
"RTN","ONCOTN2A",71,0)
 .I $E(M,1)=1 S SG=4 Q                         ;     Any T Any N M1 Any G
"RTN","ONCPPC2")
0^36^B9874323
"RTN","ONCPPC2",1,0)
ONCPPC2 ;HIRMFO/GWB - PCE Studies of Prostate Cancer - Table II;7/22/96
"RTN","ONCPPC2",2,0)
 ;;2.11;ONCOLOGY;**6,16**;Mar 07, 1995
"RTN","ONCPPC2",3,0)
 K TABLE,HTABLE
"RTN","ONCPPC2",4,0)
 S TABLE("METHOD OF DIAGNOSIS")="MOD"
"RTN","ONCPPC2",5,0)
 S TABLE("DATE OF INITIAL DIAGNOSIS")="DATEDX"
"RTN","ONCPPC2",6,0)
 S TABLE("DIAGNOSITC INFORMATION")="DI"
"RTN","ONCPPC2",7,0)
 S TABLE("HISTOLOGY (ICD-O)")="HIST"
"RTN","ONCPPC2",8,0)
 S TABLE("DIFFERENTIATION/GRADE")="GRADE"
"RTN","ONCPPC2",9,0)
 S TABLE("GLEASON'S SCORE")="GS"
"RTN","ONCPPC2",10,0)
 S HTABLE(1)="METHOD OF DIAGNOSIS"
"RTN","ONCPPC2",11,0)
 S HTABLE(2)="DATE OF INITIAL DIAGNOSIS"
"RTN","ONCPPC2",12,0)
 S HTABLE(3)="DIAGNOSTIC INFORMATION"
"RTN","ONCPPC2",13,0)
 S HTABLE(4)="HISTOLOGY (ICD-O)"
"RTN","ONCPPC2",14,0)
 S HTABLE(5)="DIFFERENTIATION/GRADE"
"RTN","ONCPPC2",15,0)
 S HTABLE(6)="GLEASON'S SCORE"
"RTN","ONCPPC2",16,0)
 S CHOICES=6
"RTN","ONCPPC2",17,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC2",18,0)
 W @IOF D HEAD^ONCPPC0 W !?26,"TABLE II - INITIAL DIAGNOSIS",!
"RTN","ONCPPC2",19,0)
MOD W !,"METHOD OF DIAGNOSIS:",!
"RTN","ONCPPC2",20,0)
 S DR="600  CLINICAL DX WITH BONE LESION" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",21,0)
 S DR="601  CLINICAL DX BY RECTAL EXAM.." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",22,0)
 S DR="602  CYTOLOGY...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",23,0)
 S DR="603  INCIDENTAL FINDING IN TURP.." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",24,0)
 S DR="604  NEEDLE ASPIRATION BIOPSY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",25,0)
 S DR="605  NEEDLE BIOPSY, NOS.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",26,0)
 S DR="606  PERINEAL BIOPSY............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",27,0)
 S DR="607  TRANSRECTAL BIOPSY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",28,0)
 S DR="608  TRUS GUIDED BIOPSY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",29,0)
 S DR="609  TRANSURETHRAL RESECTION, NOS" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",30,0)
 S DR="610  OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",31,0)
DATEDX S DOID=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCPPC2",32,0)
 W !!,"DATE OF INITIAL DIAGNOSIS.....: ",DOID
"RTN","ONCPPC2",33,0)
DI W !!,"DIAGNOSTIC INFORMATION:",!
"RTN","ONCPPC2",34,0)
 S DR="611  BONE MARROW ASPIRATION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",35,0)
 S DR="612  BONE SCAN..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",36,0)
 S DR="613  BONE X-RAY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",37,0)
 S DR="614  CHEST X-RAY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",38,0)
 S DR="615  CT SCAN OF PRIMARY SITE....." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",39,0)
 S DR="616  IVP........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",40,0)
 S DR="617  LIVER SCAN.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",41,0)
 S DR="618  MRI........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",42,0)
 S DR="619  PELVIC LYMPH NODE DISSECTION" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",43,0)
 S DR="620  PAP........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",44,0)
 S DR="621  PSA........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",45,0)
 S DR="622  OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",46,0)
 W !
"RTN","ONCPPC2",47,0)
HIST S DR="22HISTOLOGY (ICD-O)............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",48,0)
GRADE S DR="24DIFFERENTIATION/GRADE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",49,0)
GS S DR="623GLEASON'S SCORE..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",50,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC2",51,0)
 G EXIT
"RTN","ONCPPC2",52,0)
JUMP ;Jump to prompts
"RTN","ONCPPC2",53,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCPPC2",54,0)
 I X["?" D  G JUMP
"RTN","ONCPPC2",55,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC2",56,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCPPC2",57,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC2",58,0)
 S X=TABLE(X)
"RTN","ONCPPC2",59,0)
 G @X
"RTN","ONCPPC2",60,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCPPC2",61,0)
 K DOID
"RTN","ONCPPC2",62,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCPPC2",63,0)
 Q
"RTN","ONCPPC9")
0^33^B28400203
"RTN","ONCPPC9",1,0)
ONCPPC9 ;HIRMFO/GWB - PCE Studies of Prostate Cancer -Print ;8/15/96
"RTN","ONCPPC9",2,0)
 ;;2.11;ONCOLOGY;**6,16**;Mar 07, 1995
"RTN","ONCPPC9",3,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCPPC9",4,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPCOD^DASHES^TOPTAB^DATEDX^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCPPC9",5,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCPPC9",6,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6)
"RTN","ONCPPC9",7,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=Y
"RTN","ONCPPC9",8,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCPPC9",9,0)
 D HDR W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9",10,0)
 S PRINODE0=^ONCO(165.5,ONCONUM,0)
"RTN","ONCPPC9",11,0)
 S ACCSEQ=$P(PRINODE0,U,5)_"/"_$P(PRINODE0,U,6)
"RTN","ONCPPC9",12,0)
 S COCIN=$P(PRINODE0,U,4),Y=COCIN,C=$P(^DD(165.5,.04,0),U,2) D Y^DIQ
"RTN","ONCPPC9",13,0)
 S COCEX=Y,IEN=ONCONUM
"RTN","ONCPPC9",14,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCPPC9",15,0)
 S DIC="^ONCO(160,",DR="15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCPPC9",16,0)
 S DIC="^ONCO(165.5,",DR="1;.12;1.1;9;18;19;22;24;37.1;37.2;37.3;38;50;51;54;58.1;58.2;58.3;58;70;71;74;81;82;83;85;86;87;88;89;600:656"
"RTN","ONCPPC9",17,0)
 S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCPPC9",18,0)
 W !,"ACCESSION/SEQUENCE NUMBER..........: ",ACCSEQ D P Q:EX=U
"RTN","ONCPPC9",19,0)
 W !,"CLASS OF CASE......................: ",COCEX D P Q:EX=U
"RTN","ONCPPC9",20,0)
 W !,"ZIP CODE...........................: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCPPC9",21,0)
 W !,"BIRTHDATE..........................: ",DOB D P Q:EX=U
"RTN","ONCPPC9",22,0)
 W !,"RACE...............................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCPPC9",23,0)
 W !,"PRIMARY PAYOR AT DIAGNOSIS.........: ",ONC(165.5,IEN,18) D P Q:EX=U
"RTN","ONCPPC9",24,0)
 W !,"DATE OF ADMISSION..................: ",ONC(165.5,IEN,1) D P Q:EX=U
"RTN","ONCPPC9",25,0)
 W !,"DATE OF DISCHARGE..................: ",ONC(165.5,IEN,1.1)
"RTN","ONCPPC9",26,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCPPC9",27,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9",28,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCPPC9",29,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCPPC9",30,0)
 W !?25,TABLE D P Q:EX=U
"RTN","ONCPPC9",31,0)
 W !,"METHOD OF DIAGNOSIS:",! D P Q:EX=U
"RTN","ONCPPC9",32,0)
 W !,"  CLINICAL DX WITH BONE LESION.....: ",ONC(165.5,IEN,600) D P Q:EX=U
"RTN","ONCPPC9",33,0)
 W !,"  CLINICAL DX BY RECTAL EXAM.......: ",ONC(165.5,IEN,601) D P Q:EX=U
"RTN","ONCPPC9",34,0)
 W !,"  CYTOLOGY.........................: ",ONC(165.5,IEN,602) D P Q:EX=U
"RTN","ONCPPC9",35,0)
 W !,"  INCIDENTAL FINDING IN TURP.......: ",ONC(165.5,IEN,603) D P Q:EX=U
"RTN","ONCPPC9",36,0)
 W !,"  NEEDLE ASPIRATION BIOPSY.........: ",ONC(165.5,IEN,604) D P Q:EX=U
"RTN","ONCPPC9",37,0)
 W !,"  NEEDLE BIOPSY, NOS...............: ",ONC(165.5,IEN,605) D P Q:EX=U
"RTN","ONCPPC9",38,0)
 W !,"  PERINEAL BIOPSY..................: ",ONC(165.5,IEN,606) D P Q:EX=U
"RTN","ONCPPC9",39,0)
 W !,"  TRANSRECTAL BIOPSY...............: ",ONC(165.5,IEN,607) D P Q:EX=U
"RTN","ONCPPC9",40,0)
 W !,"  TRUS GUIDED BIOPSY...............: ",ONC(165.5,IEN,608) D P Q:EX=U
"RTN","ONCPPC9",41,0)
 W !,"  TRANSURETHRAL RESECTION, NOS.....: ",ONC(165.5,IEN,609) D P Q:EX=U
"RTN","ONCPPC9",42,0)
 W !,"  OTHER............................: ",ONC(165.5,IEN,610) D P Q:EX=U
"RTN","ONCPPC9",43,0)
 S DOID=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCPPC9",44,0)
 W !!,"DATE OF INITIAL DIAGNOSIS..........: ",DOID
"RTN","ONCPPC9",45,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DI
"RTN","ONCPPC9",46,0)
 D P Q:EX=U
"RTN","ONCPPC9",47,0)
DI W !!,"DIAGNOSTIC INFORMATION:" D P Q:EX=U
"RTN","ONCPPC9",48,0)
 W !,"  BONE MARROW ASPIRATION...........: ",ONC(165.5,IEN,611) D P Q:EX=U
"RTN","ONCPPC9",49,0)
 W !,"  BONE SCAN........................: ",ONC(165.5,IEN,612) D P Q:EX=U
"RTN","ONCPPC9",50,0)
 W !,"  BONE X-RAY.......................: ",ONC(165.5,IEN,613) D P Q:EX=U
"RTN","ONCPPC9",51,0)
 W !,"  CHEST X-RAY......................: ",ONC(165.5,IEN,614) D P Q:EX=U
"RTN","ONCPPC9",52,0)
 W !,"  CT SCAN OF PRIMARY SITE..........: ",ONC(165.5,IEN,615) D P Q:EX=U
"RTN","ONCPPC9",53,0)
 W !,"  IVP..............................: ",ONC(165.5,IEN,616) D P Q:EX=U
"RTN","ONCPPC9",54,0)
 W !,"  LIVER SCAN.......................: ",ONC(165.5,IEN,617) D P Q:EX=U
"RTN","ONCPPC9",55,0)
 W !,"  MRI..............................: ",ONC(165.5,IEN,618) D P Q:EX=U
"RTN","ONCPPC9",56,0)
 W !,"  PELVIC LYMPH NODE DISSECTION.....: ",ONC(165.5,IEN,619) D P Q:EX=U
"RTN","ONCPPC9",57,0)
 W !,"  PAP..............................: ",ONC(165.5,IEN,620) D P Q:EX=U
"RTN","ONCPPC9",58,0)
 W !,"  PSA..............................: ",ONC(165.5,IEN,621) D P Q:EX=U
"RTN","ONCPPC9",59,0)
 W !,"  OTHER............................: ",ONC(165.5,IEN,622) D P Q:EX=U
"RTN","ONCPPC9",60,0)
 W ! D P Q:EX=U
"RTN","ONCPPC9",61,0)
 W !,"HISTOLOGY (ICD-O)..................: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCPPC9",62,0)
 W !,"DIFFERENTIATION/GRADE..............: ",ONC(165.5,IEN,24) D P Q:EX=U
"RTN","ONCPPC9",63,0)
 W !,"GLEASON'S SCORE....................: ",ONC(165.5,IEN,623)
"RTN","ONCPPC9",64,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCPPC9",65,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9",66,0)
III S TABLE="TABLE III - STAGE OF DISEASE"
"RTN","ONCPPC9",67,0)
 I IOST'?1"C".E W ! D:($Y'<(LIN-1)) HDR W ! D:($Y'<(LIN-1)) HDR
"RTN","ONCPPC9",68,0)
 W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9",69,0)
AJCCCS W !,"AJCC CLINICAL STAGE (cTNM):",! D P Q:EX=U
"RTN","ONCPPC9",70,0)
 W !,"  T-CODE........................: ",ONC(165.5,IEN,37.1) D P Q:EX=U
"RTN","ONCPPC9",71,0)
 W !,"  N-CODE........................: ",ONC(165.5,IEN,37.2) D P Q:EX=U
"RTN","ONCPPC9",72,0)
 W !,"  M-CODE........................: ",ONC(165.5,IEN,37.3) D P Q:EX=U
"RTN","ONCPPC9",73,0)
 W !,"  AJCC STAGE....................: ",ONC(165.5,IEN,38) D P Q:EX=U
"RTN","ONCPPC9",74,0)
AJCCPS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",! D P Q:EX=U
"RTN","ONCPPC9",75,0)
 W !,"  T-CODE........................: ",ONC(165.5,IEN,85) D P Q:EX=U
"RTN","ONCPPC9",76,0)
 W !,"  N-CODE........................: ",ONC(165.5,IEN,86) D P Q:EX=U
"RTN","ONCPPC9",77,0)
 W !,"  M-CODE........................: ",ONC(165.5,IEN,87) D P Q:EX=U
"RTN","ONCPPC9",78,0)
 W !,"  AJCC STAGE....................: ",ONC(165.5,IEN,88)
"RTN","ONCPPC9",79,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G SB
"RTN","ONCPPC9",80,0)
 D P Q:EX=U
"RTN","ONCPPC9",81,0)
SB W !!,"STAGED BY:",! D P Q:EX=U
"RTN","ONCPPC9",82,0)
 W !,"CLINICAL STAGE..................: ",ONC(165.5,IEN,19) D P Q:EX=U
"RTN","ONCPPC9",83,0)
 W !,"PATHOLOGIC STAGE.................: ",ONC(165.5,IEN,89)
"RTN","ONCPPC9",84,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G IV
"RTN","ONCPPC9",85,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9",86,0)
IV D ^ONCPPC9A
"RTN","ONCPPC9",87,0)
 G KILL
"RTN","ONCPPC9",88,0)
KILL ;Kill Variables and Exit
"RTN","ONCPPC9",89,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,EOT
"RTN","ONCPPC9",90,0)
 Q
"RTN","ONCPPC9",91,0)
P ;Display Data
"RTN","ONCPPC9",92,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W:EOT="N" !?15,TABLE_" (continued)",!
"RTN","ONCPPC9",93,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCPPC9",94,0)
 .D HDR Q
"RTN","ONCPPC9",95,0)
 S EOT="N" Q
"RTN","ONCPPC9",96,0)
TASK ;Queue a task
"RTN","ONCPPC9",97,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCPPC9",98,0)
 S ZTRTN="PRT^ONCPPC9",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCPPC9",99,0)
 S ZTDESC="Print Prostate PCE Data."
"RTN","ONCPPC9",100,0)
 F V3=1:1 S V1=$P(ONCOLST,"^",V3) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCPPC9",101,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCPPC9",102,0)
 K V1,V3,ONCOLST,ZTSK Q
"RTN","ONCPPC9",103,0)
HDR ;Header
"RTN","ONCPPC9",104,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCPPC9",105,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCPPC9",106,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCPPC9",107,0)
 W !?20,"PCE Studies of Cancer of the Prostate"
"RTN","ONCPPC9",108,0)
 W ?59,ONDATE,!,DASHES
"RTN","ONCPPC9",109,0)
 Q
"RTN","ONCPPC9A")
0^34^B22989622
"RTN","ONCPPC9A",1,0)
ONCPPC9A ;HIRMFO/GWB - PCE Studies of Prostate Cancer -Print ;8/15/96
"RTN","ONCPPC9A",2,0)
 ;;2.11;ONCOLOGY;**6,16**;Mar 07, 1995
"RTN","ONCPPC9A",3,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCPPC9A",4,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCPPC9A",5,0)
 W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9A",6,0)
 S DIC="^ONCO(165.5,",DR=""
"RTN","ONCPPC9A",7,0)
 W !,"SURGERY:",! D P Q:EX=U
"RTN","ONCPPC9A",8,0)
 S NCDS=$E(ONC(165.5,IEN,58.1),1,2),NCDSOT=ONC(165.5,IEN,58.1)
"RTN","ONCPPC9A",9,0)
 S CDS=$E(ONC(165.5,IEN,58.2),1,2),CDSOT=ONC(165.5,IEN,58.2)
"RTN","ONCPPC9A",10,0)
 I (CDS="")!(CDS="00") D
"RTN","ONCPPC9A",11,0)
 .S SURG=NCDSOT,SURGDT=ONC(165.5,IEN,58.3)
"RTN","ONCPPC9A",12,0)
 I ((CDS'="")&(CDS'="00"))!(NCDS="") D
"RTN","ONCPPC9A",13,0)
 .S SURG=CDSOT,SURGDT=ONC(165.5,IEN,50)
"RTN","ONCPPC9A",14,0)
 S (SURG1,SURG2)=""
"RTN","ONCPPC9A",15,0)
 S LOS=$L(SURG) I LOS<56 S SURG1=SURG G TOS
"RTN","ONCPPC9A",16,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCPPC9A",17,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCPPC9A",18,0)
TOS W !,"  TYPE OF SURGERY...................: ",SURG1 D P Q:EX=U
"RTN","ONCPPC9A",19,0)
 W:SURG2'="" !,?41,SURG2 D P Q:EX=U
"RTN","ONCPPC9A",20,0)
 I (SURG1="")!($E(SURG1,1,2)="00") S SURGDT="88/88"
"RTN","ONCPPC9A",21,0)
 W !,"  DATE OF SURGERY...................: ",SURGDT D P Q:EX=U
"RTN","ONCPPC9A",22,0)
 W !,"  REASON FOR NO SURGERY.............: ",ONC(165.5,IEN,58) D P Q:EX=U
"RTN","ONCPPC9A",23,0)
 W !,"  SURGICAL APPROACH.................: ",ONC(165.5,IEN,74) D P Q:EX=U
"RTN","ONCPPC9A",24,0)
 W !,"  RESEARCH PROTOCOL.................: ",ONC(165.5,IEN,624) D P Q:EX=U
"RTN","ONCPPC9A",25,0)
 W !!,"RADIATION THERAPY:",! D P Q:EX=U
"RTN","ONCPPC9A",26,0)
 W !,"  RADIATION THERAPY.................: ",ONC(165.5,IEN,625) D P Q:EX=U
"RTN","ONCPPC9A",27,0)
 W !,"  DATE RADIATION THERAPY BEGAN......: ",ONC(165.5,IEN,51)
"RTN","ONCPPC9A",28,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G IR
"RTN","ONCPPC9A",29,0)
 D P Q:EX=U
"RTN","ONCPPC9A",30,0)
IR W !,"  INTERSTITIAL RADIATION............: ",ONC(165.5,IEN,626) D P Q:EX=U
"RTN","ONCPPC9A",31,0)
 W !!,"  INTERSTITIAL RADIATION ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9A",32,0)
 W !,"    IODINE 125......................: ",ONC(165.5,IEN,627) D P Q:EX=U
"RTN","ONCPPC9A",33,0)
 W !,"    GOLD 198........................: ",ONC(165.5,IEN,628) D P Q:EX=U
"RTN","ONCPPC9A",34,0)
 W !,"    PALLADIUM 103...................: ",ONC(165.5,IEN,629) D P Q:EX=U
"RTN","ONCPPC9A",35,0)
 W !,"    IRIDIUM 192.....................: ",ONC(165.5,IEN,630) D P Q:EX=U
"RTN","ONCPPC9A",36,0)
 W !,"    OTHER INTERSTITIAL, NOS.........: ",ONC(165.5,IEN,631)
"RTN","ONCPPC9A",37,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G ER
"RTN","ONCPPC9A",38,0)
 D P Q:EX=U
"RTN","ONCPPC9A",39,0)
ER W !,"  EXTERNAL RADIATION................: ",ONC(165.5,IEN,632) D P Q:EX=U
"RTN","ONCPPC9A",40,0)
 W !!,"  EXTERNAL RADIATION ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9A",41,0)
 W !,"    PROSTATE REGION ONLY............: ",ONC(165.5,IEN,633) D P Q:EX=U
"RTN","ONCPPC9A",42,0)
 W !,"    PROSTATE/PELVIC NODES...........: ",ONC(165.5,IEN,634) D P Q:EX=U
"RTN","ONCPPC9A",43,0)
 W !,"    PARA-AORTIC NODES...............: ",ONC(165.5,IEN,635) D P Q:EX=U
"RTN","ONCPPC9A",44,0)
 W !,"    DISTANT METASTATIC SITES........: ",ONC(165.5,IEN,636) D P Q:EX=U
"RTN","ONCPPC9A",45,0)
 W !,"    OTHER EXTERNAL SITES, NOS.......: ",ONC(165.5,IEN,637)
"RTN","ONCPPC9A",46,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G TRD
"RTN","ONCPPC9A",47,0)
 D P Q:EX=U
"RTN","ONCPPC9A",48,0)
TRD W !!,"  TOTAL RAD DOSE:",! D P Q:EX=U
"RTN","ONCPPC9A",49,0)
 W !,"    PROSTATE........................: ",ONC(165.5,IEN,638) D P Q:EX=U
"RTN","ONCPPC9A",50,0)
 W !,"    PELVIC NODES....................: ",ONC(165.5,IEN,639) D P Q:EX=U
"RTN","ONCPPC9A",51,0)
 W !,"    PARA-AORTIC NODES...............: ",ONC(165.5,IEN,640) D P Q:EX=U
"RTN","ONCPPC9A",52,0)
 W !,"    RESEARCH PROTOCOL...............: ",ONC(165.5,IEN,641)
"RTN","ONCPPC9A",53,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G HT
"RTN","ONCPPC9A",54,0)
 D P Q:EX=U
"RTN","ONCPPC9A",55,0)
HT W !!,"HORMONE THERAPY:",! D P Q:EX=U
"RTN","ONCPPC9A",56,0)
 W !,"  HORMONE THERAPY...................: ",ONC(165.5,IEN,642) D P Q:EX=U
"RTN","ONCPPC9A",57,0)
 W !,"  DATE HORMONE THERAPY BEGAN........: ",ONC(165.5,IEN,54) D P Q:EX=U
"RTN","ONCPPC9A",58,0)
 W !!,"  HORMONES ADMINISTERED:" D P Q:EX=U
"RTN","ONCPPC9A",59,0)
 W ! D P Q:EX=U
"RTN","ONCPPC9A",60,0)
 W !,"    ESTROGENS.......................: ",ONC(165.5,IEN,643) D P Q:EX=U
"RTN","ONCPPC9A",61,0)
 W !,"    ANTIANDROGENS...................: ",ONC(165.5,IEN,644) D P Q:EX=U
"RTN","ONCPPC9A",62,0)
 W !,"    PROGESTATIONAL AGENTS...........: ",ONC(165.5,IEN,645) D P Q:EX=U
"RTN","ONCPPC9A",63,0)
 W !,"    LUTEINIZING HORMONE-RELEASING...: ",ONC(165.5,IEN,646) D P Q:EX=U
"RTN","ONCPPC9A",64,0)
 W !,"    ORCHIECTOMY.....................: ",ONC(165.5,IEN,647) D P Q:EX=U
"RTN","ONCPPC9A",65,0)
 W !,"    OTHER...........................: ",ONC(165.5,IEN,648)
"RTN","ONCPPC9A",66,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 G V
"RTN","ONCPPC9A",67,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9A",68,0)
V S TABLE="TABLE V - FIRST RECURRENCE"
"RTN","ONCPPC9A",69,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCPPC9A",70,0)
 W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9A",71,0)
 W !,"TYPE OF FIRST RECURRENCE............: ",ONC(165.5,IEN,71) D P Q:EX=U
"RTN","ONCPPC9A",72,0)
 W !,"DATE OF FIRST RECURRENCE............: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCPPC9A",73,0)
 W !!,"METHODS USED TO DIAGNOSE FIRST RECURRENCE:",! D P Q:EX=U
"RTN","ONCPPC9A",74,0)
 W !,"  BACKACHE..........................: ",ONC(165.5,IEN,649) D P Q:EX=U
"RTN","ONCPPC9A",75,0)
 W !,"  BONE SCAN.........................: ",ONC(165.5,IEN,650) D P Q:EX=U
"RTN","ONCPPC9A",76,0)
 W !,"  LETHARGY..........................: ",ONC(165.5,IEN,651) D P Q:EX=U
"RTN","ONCPPC9A",77,0)
 W !,"  RECTAL EXAM WITH NEEDLE BIOSPY....: ",ONC(165.5,IEN,652) D P Q:EX=U
"RTN","ONCPPC9A",78,0)
 W !,"  TUMOR MARKER ELEVATION............: ",ONC(165.5,IEN,653) D P Q:EX=U
"RTN","ONCPPC9A",79,0)
 W !,"  WEIGHT LOSS.......................: ",ONC(165.5,IEN,654) D P Q:EX=U
"RTN","ONCPPC9A",80,0)
 W !,"  OTHER.............................: ",ONC(165.5,IEN,655)
"RTN","ONCPPC9A",81,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 G VI
"RTN","ONCPPC9A",82,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9A",83,0)
VI D ^ONCPPC9B
"RTN","ONCPPC9A",84,0)
KILL ;Kill Variables and Exit
"RTN","ONCPPC9A",85,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN,EOT
"RTN","ONCPPC9A",86,0)
 Q
"RTN","ONCPPC9A",87,0)
P ;Display Data
"RTN","ONCPPC9A",88,0)
 I ($Y'<(LIN-2)) D  Q:EX=U  W:EOT="N" !?25,TABLE_" (continued)",!
"RTN","ONCPPC9A",89,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCPPC9A",90,0)
 .D HDR^ONCPPC9 Q
"RTN","ONCPPC9A",91,0)
 S EOT="N" Q
"RTN","ONCPPC9B")
0^35^B27551132
"RTN","ONCPPC9B",1,0)
ONCPPC9B ;HIRMFO/GWB - PCE Studies of Prostate Cancer -Print ;8/15/96
"RTN","ONCPPC9B",2,0)
 ;;2.11;ONCOLOGY;**6,16**;Mar 07, 1995
"RTN","ONCPPC9B",3,0)
VI S TABLE="TABLE VI - SUBSEQUENT TREATMENT"
"RTN","ONCPPC9B",4,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCPPC9B",5,0)
 W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9B",6,0)
 W !,"REASON FOR SECOND COURSE OF THERAPY: ",ONC(165.5,IEN,656) D P Q:EX=U
"RTN","ONCPPC9B",7,0)
ST I $D(^ONCO(165.5,ONCONUM,4,0)) S SCTIEN=0 F  S SCTIEN=$O(^ONCO(165.5,ONCONUM,4,SCTIEN)) Q:SCTIEN'>0  D SCT I IOST?1"C".E Q:'Y
"RTN","ONCPPC9B",8,0)
 I IOST?1"C".E G:'Y KILL
"RTN","ONCPPC9B",9,0)
 G PRTC
"RTN","ONCPPC9B",10,0)
SCT S DIC="^ONCO(165.5,",DR=60,DA=ONCONUM,DIQ="ONC"
"RTN","ONCPPC9B",11,0)
 S DR(165.51)=".01:32",DA(165.51)=SCTIEN D EN^DIQ1
"RTN","ONCPPC9B",12,0)
 S SURG=ONC(165.51,SCTIEN,.04),(SURG1,SURG2)=""
"RTN","ONCPPC9B",13,0)
 S LOS=$L(SURG) I LOS<43 S SURG1=SURG G SS
"RTN","ONCPPC9B",14,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCPPC9B",15,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCPPC9B",16,0)
 I IOST?1"C".E,SCTIEN>1 W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G SS
"RTN","ONCPPC9B",17,0)
 D P Q:EX=U
"RTN","ONCPPC9B",18,0)
SS W !!,"SUBSEQUENT SURGERY #",SCTIEN,":",! D P Q:EX=U
"RTN","ONCPPC9B",19,0)
 W !,"TYPE OF SURGERY....................: ",SURG1 D P Q:EX=U
"RTN","ONCPPC9B",20,0)
 W:SURG2'="" !,?40,SURG2 D P Q:EX=U
"RTN","ONCPPC9B",21,0)
 W !,"DATE OF SURGERY....................: ",ONC(165.51,SCTIEN,.041) D P Q:EX=U
"RTN","ONCPPC9B",22,0)
 W !!,"SUBSEQUENT RADIATION THERAPY #",SCTIEN,":",! D P Q:EX=U
"RTN","ONCPPC9B",23,0)
 W !,"RADIATION THERAPY..................: ",ONC(165.51,SCTIEN,16) D P Q:EX=U
"RTN","ONCPPC9B",24,0)
 W !,"DATE RADIATON THERAPY BEGAN........: ",ONC(165.51,SCTIEN,.051)
"RTN","ONCPPC9B",25,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G IR
"RTN","ONCPPC9B",26,0)
 D P Q:EX=U
"RTN","ONCPPC9B",27,0)
IR W !,"INTERSTITIAL RADIATION.............: ",ONC(165.51,SCTIEN,4) D P Q:EX=U
"RTN","ONCPPC9B",28,0)
 W !!,"  INTERSTITIAL RADIATION ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9B",29,0)
 W !,"    IODINE 125.....................: ",ONC(165.51,SCTIEN,5) D P Q:EX=U
"RTN","ONCPPC9B",30,0)
 W !,"    GOLD 198.......................: ",ONC(165.51,SCTIEN,6) D P Q:EX=U
"RTN","ONCPPC9B",31,0)
 W !,"    PALLADIUM 103..................: ",ONC(165.51,SCTIEN,7) D P Q:EX=U
"RTN","ONCPPC9B",32,0)
 W !,"    IRIDIUM 192....................: ",ONC(165.51,SCTIEN,8) D P Q:EX=U
"RTN","ONCPPC9B",33,0)
 W !,"    OTHER INTERSTITIAL, NOS........: ",ONC(165.51,SCTIEN,9)
"RTN","ONCPPC9B",34,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G ER
"RTN","ONCPPC9B",35,0)
 D P Q:EX=U
"RTN","ONCPPC9B",36,0)
ER W !,"EXTERNAL RADIATION.................: ",ONC(165.51,SCTIEN,10) D P Q:EX=U
"RTN","ONCPPC9B",37,0)
 W !!,"  EXTERNAL RADIATION ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9B",38,0)
 W !,"    PROSTATE REGION ONLY...........: ",ONC(165.51,SCTIEN,11) D P Q:EX=U
"RTN","ONCPPC9B",39,0)
 W !,"    PROSTATE & PELVIC NODES........: ",ONC(165.51,SCTIEN,12) D P Q:EX=U
"RTN","ONCPPC9B",40,0)
 W !,"    PARA-AORTIC NODES..............: ",ONC(165.51,SCTIEN,13) D P Q:EX=U
"RTN","ONCPPC9B",41,0)
 W !,"    DISTANT METASTATIC SITES.......: ",ONC(165.51,SCTIEN,14) D P Q:EX=U
"RTN","ONCPPC9B",42,0)
 W !,"    OTHER EXTERNAL, NOS............: ",ONC(165.51,SCTIEN,15)
"RTN","ONCPPC9B",43,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G TRD
"RTN","ONCPPC9B",44,0)
 D P Q:EX=U
"RTN","ONCPPC9B",45,0)
TRD W !!,"  TOTAL RAD DOSE:",! D P Q:EX=U
"RTN","ONCPPC9B",46,0)
 W !,"    PROSTATE.......................: ",ONC(165.51,SCTIEN,17) D P Q:EX=U
"RTN","ONCPPC9B",47,0)
 W !,"    PELVIC NODES...................: ",ONC(165.51,SCTIEN,18) D P Q:EX=U
"RTN","ONCPPC9B",48,0)
 W !,"    PARA-AORTIC NODES..............: ",ONC(165.51,SCTIEN,19)
"RTN","ONCPPC9B",49,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G SC
"RTN","ONCPPC9B",50,0)
 D P Q:EX=U
"RTN","ONCPPC9B",51,0)
SC W !!,"SUBSEQUENT CHEMOTHERAPY #",SCTIEN,":",! D P Q:EX=U
"RTN","ONCPPC9B",52,0)
 W !,"CHEMOTHERAPY.......................: ",ONC(165.51,SCTIEN,20) D P Q:EX=U
"RTN","ONCPPC9B",53,0)
 W !,"DATE CHEMOTHERAPY BEGAN............: ",ONC(165.51,SCTIEN,.061) D P Q:EX=U
"RTN","ONCPPC9B",54,0)
 W !!,"  DRUGS ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9B",55,0)
 W !,"    ADRIAMYCIN.....................: ",ONC(165.51,SCTIEN,21) D P Q:EX=U
"RTN","ONCPPC9B",56,0)
 W !,"    CYTOXAN........................: ",ONC(165.51,SCTIEN,22) D P Q:EX=U
"RTN","ONCPPC9B",57,0)
 W !,"    METHOTREXATE...................: ",ONC(165.51,SCTIEN,23) D P Q:EX=U
"RTN","ONCPPC9B",58,0)
 W !,"    FLUOROURACIL...................: ",ONC(165.51,SCTIEN,24) D P Q:EX=U
"RTN","ONCPPC9B",59,0)
 W !,"    OTHER..........................: ",ONC(165.51,SCTIEN,25)
"RTN","ONCPPC9B",60,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G SHT
"RTN","ONCPPC9B",61,0)
 D P Q:EX=U
"RTN","ONCPPC9B",62,0)
SHT W !!,"SUBSEQUENT HORMONE THERAPY #",SCTIEN,":",! D P Q:EX=U
"RTN","ONCPPC9B",63,0)
 W !,"HORMONE THERAPY....................: ",ONC(165.51,SCTIEN,26) D P Q:EX=U
"RTN","ONCPPC9B",64,0)
 W !,"DATE HORMONE THERAPY BEGAN.........: ",ONC(165.51,SCTIEN,.071) D P Q:EX=U
"RTN","ONCPPC9B",65,0)
 W !!,"  HORMONES ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9B",66,0)
 W !,"    ESTROGENS......................: ",ONC(165.51,SCTIEN,27) D P Q:EX=U
"RTN","ONCPPC9B",67,0)
 W !,"    ANTIANDROGENS..................: ",ONC(165.51,SCTIEN,28) D P Q:EX=U
"RTN","ONCPPC9B",68,0)
 W !,"    PROGESTATIONAL AGENTS..........: ",ONC(165.51,SCTIEN,29) D P Q:EX=U
"RTN","ONCPPC9B",69,0)
 W !,"    LUTEINIZING HORMONE-RELEASING..: ",ONC(165.51,SCTIEN,30) D P Q:EX=U
"RTN","ONCPPC9B",70,0)
 W !,"    ORCHIECTOMY....................: ",ONC(165.51,SCTIEN,31) D P Q:EX=U
"RTN","ONCPPC9B",71,0)
 W !,"    OTHER..........................: ",ONC(165.51,SCTIEN,32)
"RTN","ONCPPC9B",72,0)
 Q
"RTN","ONCPPC9B",73,0)
PRTC I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 G VII
"RTN","ONCPPC9B",74,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9B",75,0)
VII S TABLE="TABLE VII - STATUS AT LAST CONTACT"
"RTN","ONCPPC9B",76,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCPPC9
"RTN","ONCPPC9B",77,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCPPC9B",78,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCPPC9B",79,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCPPC9B",80,0)
 W !,"DATE OF LAST CONTACT OR DEATH.....: ",DLC
"RTN","ONCPPC9B",81,0)
 W !,"VITAL STATUS......................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCPPC9B",82,0)
 S CS="" I $D(^ONCO(165.5,IEN,"TS","AA")) D
"RTN","ONCPPC9B",83,0)
 .S CSDAT=$O(^ONCO(165.5,IEN,"TS","AA",""))
"RTN","ONCPPC9B",84,0)
 .S CSIEN=$O(^ONCO(165.5,IEN,"TS","AA",CSDAT,""))
"RTN","ONCPPC9B",85,0)
 .S CSPNT=$P(^ONCO(165.5,IEN,"TS",CSIEN,0),U,2)
"RTN","ONCPPC9B",86,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCPPC9B",87,0)
 W !,"CANCER STATUS.....................: ",CS
"RTN","ONCPPC9B",88,0)
 W !,"AUTOPSY...........................: ",ONC(165.5,IEN,83) D P Q:EX=U
"RTN","ONCPPC9B",89,0)
 W !!,"COMPLETED BY......................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCPPC9B",90,0)
 W !,"REVIEWED BY CANCER COMMITTEE......: ",ONC(165.5,IEN,82)
"RTN","ONCPPC9B",91,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC9B",92,0)
KILL ;Kill Variables and Exit
"RTN","ONCPPC9B",93,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN
"RTN","ONCPPC9B",94,0)
 Q
"RTN","ONCPPC9B",95,0)
P ;Display Data
"RTN","ONCPPC9B",96,0)
 I ($Y'<(LIN-2)) D  Q:EX=U  W:EOT="N" !?25,TABLE_" (continued)",!
"RTN","ONCPPC9B",97,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCPPC9B",98,0)
 .D HDR^ONCPPC9 Q
"RTN","ONCPPC9B",99,0)
 S EOT="N" Q
"RTN","ONCPRE16")
0^13^B34578885
"RTN","ONCPRE16",1,0)
ONCPRE16 ;Hines CIOFO/WAA - Pre-Install for Patch ONC*2.11*16;1/29/98
"RTN","ONCPRE16",2,0)
 ;;2.11;Oncology;**16**;Mar 07, 1995
"RTN","ONCPRE16",3,0)
EN1 ;This routine will loop though the ONCOLOGY PRIMARY file, find all of
"RTN","ONCPRE16",4,0)
 ;the 2000000 and 2999999 date values and convert them to "0000000" and 
"RTN","ONCPRE16",5,0)
 ;9999999 respectively.
"RTN","ONCPRE16",6,0)
 N IEN
"RTN","ONCPRE16",7,0)
 S IEN=0
"RTN","ONCPRE16",8,0)
 F  S IEN=$O(^ONCO(165.5,IEN)) Q:IEN'>0  D D1655(IEN)
"RTN","ONCPRE16",9,0)
 Q
"RTN","ONCPRE16",10,0)
D1655(IEN) ;ONCOLOGY PRIMARY (165.5)
"RTN","ONCPRE16",11,0)
 N OLDLINE,NEWLINE
"RTN","ONCPRE16",12,0)
 L +^ONCO(165.5,IEN)
"RTN","ONCPRE16",13,0)
 S (OLDLINE(0),NEWLINE(0))=$G(^ONCO(165.5,IEN,0))
"RTN","ONCPRE16",14,0)
 S (OLDLINE(1),NEWLINE(1))=$G(^ONCO(165.5,IEN,1))
"RTN","ONCPRE16",15,0)
 S (OLDLINE(2.2),NEWLINE(2.2))=$G(^ONCO(165.5,IEN,2.2))
"RTN","ONCPRE16",16,0)
 S (OLDLINE(3),NEWLINE(3))=$G(^ONCO(165.5,IEN,3))
"RTN","ONCPRE16",17,0)
 S (OLDLINE(3.1),NEWLINE(3.1))=$G(^ONCO(165.5,IEN,3.1))
"RTN","ONCPRE16",18,0)
 S (OLDLINE(5),NEWLINE(5))=$G(^ONCO(165.5,IEN,5))
"RTN","ONCPRE16",19,0)
 S (OLDLINE(7),NEWLINE(7))=$G(^ONCO(165.5,IEN,7))
"RTN","ONCPRE16",20,0)
 S (OLDLINE("BLA1"),NEWLINE("BLA1"))=$G(^ONCO(165.5,IEN,"BLA1"))
"RTN","ONCPRE16",21,0)
 S (OLDLINE("BLA2"),NEWLINE("BLA2"))=$G(^ONCO(165.5,IEN,"BLA2"))
"RTN","ONCPRE16",22,0)
 S (OLDLINE("THY1"),NEWLINE("THY1"))=$G(^ONCO(165.5,IEN,"THY1"))
"RTN","ONCPRE16",23,0)
 S (OLDLINE("STS2"),NEWLINE("STS2"))=$G(^ONCO(165.5,IEN,"STS2"))
"RTN","ONCPRE16",24,0)
 S (OLDLINE("NHL2"),NEWLINE("NHL2"))=$G(^ONCO(165.5,IEN,"NHL2"))
"RTN","ONCPRE16",25,0)
 S:$P(NEWLINE(1),U,10)'="" $P(NEWLINE(1),U,10)=$$FIX($P(OLDLINE(1),U,10)) ;17 SUSPENSE
"RTN","ONCPRE16",26,0)
 S:$P(NEWLINE(3),U,1)'="" $P(NEWLINE(3),U,1)=$$FIX($P(OLDLINE(3),U,1))   ;50 SURG OF PRIM SITE
"RTN","ONCPRE16",27,0)
 S:$P(NEWLINE(3),U,4)'="" $P(NEWLINE(3),U,4)=$$FIX($P(OLDLINE(3),U,4))   ;51 RADIATION
"RTN","ONCPRE16",28,0)
 S:$P(NEWLINE(3),U,8)'="" $P(NEWLINE(3),U,8)=$$FIX($P(OLDLINE(3),U,8))   ;52 RADIATION TO CNS
"RTN","ONCPRE16",29,0)
 S:$P(NEWLINE(3),U,11)'="" $P(NEWLINE(3),U,11)=$$FIX($P(OLDLINE(3),U,11)) ;53 CHEMOTHERAPY
"RTN","ONCPRE16",30,0)
 S:$P(NEWLINE(3),U,14)'="" $P(NEWLINE(3),U,14)=$$FIX($P(OLDLINE(3),U,14)) ;54 HORMONE THERAPY
"RTN","ONCPRE16",31,0)
 S:$P(NEWLINE(3),U,17)'="" $P(NEWLINE(3),U,17)=$$FIX($P(OLDLINE(3),U,17)) ;55 IMMUNOTHERAPY
"RTN","ONCPRE16",32,0)
 S:$P(NEWLINE(3),U,23)'="" $P(NEWLINE(3),U,23)=$$FIX($P(OLDLINE(3),U,23)) ;57 OTHER TREATMENT
"RTN","ONCPRE16",33,0)
 S:$P(NEWLINE(3),U,31)'="" $P(NEWLINE(3),U,31)=$$FIX($P(OLDLINE(3),U,31)) ;58.3 NON CA-DIR SURG
"RTN","ONCPRE16",34,0)
 I $G(^ONCO(165.5,IEN,4,0))'="" N X S X=0 F  S X=$O(^ONCO(165.5,IEN,4,X)) Q:X<1  D
"RTN","ONCPRE16",35,0)
 .N LINE ;165.51 SUBSEQUENT COURSE OF TREATMENT subfile
"RTN","ONCPRE16",36,0)
 .S LINE(0)=$G(^ONCO(165.5,IEN,4,X,0))
"RTN","ONCPRE16",37,0)
 .S LINE(2)=$G(^ONCO(165.5,IEN,4,X,2))
"RTN","ONCPRE16",38,0)
 .S:$P(LINE(0),U,1)'="" $P(LINE(0),U,1)=$$FIX($P(LINE(0),U,1))   ;.01  INITIATION DATE
"RTN","ONCPRE16",39,0)
 .S:$P(LINE(0),U,17)'="" $P(LINE(0),U,17)=$$FIX($P(LINE(0),U,17)) ;.031 RAD TO CNS DATE
"RTN","ONCPRE16",40,0)
 .S:$P(LINE(0),U,11)'="" $P(LINE(0),U,11)=$$FIX($P(LINE(0),U,11)) ;.041 SURG OF PRIM SITE DT
"RTN","ONCPRE16",41,0)
 .S:$P(LINE(0),U,12)'="" $P(LINE(0),U,12)=$$FIX($P(LINE(0),U,12)) ;.051 RADIATION DATE
"RTN","ONCPRE16",42,0)
 .S:$P(LINE(0),U,13)'="" $P(LINE(0),U,13)=$$FIX($P(LINE(0),U,13)) ;.061 CHEMOTHERAPY DATE
"RTN","ONCPRE16",43,0)
 .S:$P(LINE(0),U,14)'="" $P(LINE(0),U,14)=$$FIX($P(LINE(0),U,14)) ;.071 HORMONE/STEROID DATE
"RTN","ONCPRE16",44,0)
 .S:$P(LINE(0),U,15)'="" $P(LINE(0),U,15)=$$FIX($P(LINE(0),U,15)) ;.081 IMMUNOTHERAPY DATE
"RTN","ONCPRE16",45,0)
 .S:$P(LINE(0),U,16)'="" $P(LINE(0),U,16)=$$FIX($P(LINE(0),U,16)) ;.091 OTH CA THERAPY DATE
"RTN","ONCPRE16",46,0)
 .S:$P(LINE(2),U,31)'="" $P(LINE(2),U,31)=$$FIX($P(LINE(2),U,31)) ;34   REC/RES DELALYED DATE
"RTN","ONCPRE16",47,0)
 .S:LINE(0)'="" ^ONCO(165.5,IEN,4,X,0)=LINE(0)
"RTN","ONCPRE16",48,0)
 .S:LINE(2)'="" ^ONCO(165.5,IEN,4,X,2)=LINE(2)
"RTN","ONCPRE16",49,0)
 .Q
"RTN","ONCPRE16",50,0)
 S:$P(NEWLINE(5),U,1)'="" $P(NEWLINE(5),U,1)=$$FIX($P(OLDLINE(5),U,1)) ;70 FIRST RECURRENCE
"RTN","ONCPRE16",51,0)
 I $G(^ONCO(165.5,IEN,23,0))'="" N X S X=0 F  S X=$O(^ONCO(165.5,IEN,23,X)) Q:X<1  D
"RTN","ONCPRE16",52,0)
 .N LINE ;165.572 SUBSEQUENT RECURRENCES subfile
"RTN","ONCPRE16",53,0)
 .S LINE(0)=$G(^ONCO(165.5,IEN,23,X,0))
"RTN","ONCPRE16",54,0)
 .S:$P(LINE(0),U,1)'="" $P(LINE(0),U,1)=$$FIX($P(LINE(0),U,1)) ;.01 DATE OF SUBSEQUENT REC
"RTN","ONCPRE16",55,0)
 .S:LINE(0)'="" ^ONCO(165.5,IEN,23,X,0)=LINE(0)
"RTN","ONCPRE16",56,0)
 .K ^ONCO(165.5,IEN,23,"B",2000000,X)
"RTN","ONCPRE16",57,0)
 .K ^ONCO(165.5,IEN,23,"B",2999999,X)
"RTN","ONCPRE16",58,0)
 .S DOSR=$P(^ONCO(165.5,IEN,23,X,0),U,1)
"RTN","ONCPRE16",59,0)
 .S ^ONCO(165.5,IEN,23,"B",DOSR,X)=""
"RTN","ONCPRE16",60,0)
 .K DOSR Q
"RTN","ONCPRE16",61,0)
 S:$P(NEWLINE(0),U,24)'="" $P(NEWLINE(0),U,24)=$$FIX($P(OLDLINE(0),U,24))   ;79  SCREENING DATE
"RTN","ONCPRE16",62,0)
 S:$P(NEWLINE(7),U,1)'="" $P(NEWLINE(7),U,1)=$$FIX($P(OLDLINE(7),U,1))     ;90  ABSTRACT DATE
"RTN","ONCPRE16",63,0)
 S:$P(NEWLINE(7),U,5)'="" $P(NEWLINE(7),U,5)=$$FIX($P(OLDLINE(7),U,5))     ;94  REPORTING DATE
"RTN","ONCPRE16",64,0)
 S:$P(NEWLINE(0),U,27)'="" $P(NEWLINE(0),U,27)=$$FIX($P(OLDLINE(0),U,27))   ;121 CANCER CONF
"RTN","ONCPRE16",65,0)
 S:$P(NEWLINE(3.1),U,2)'="" $P(NEWLINE(3.1),U,2)=$$FIX($P(OLDLINE(3.1),U,2)) ;130 RADIATION AUX
"RTN","ONCPRE16",66,0)
 S:$P(NEWLINE(2.2),U,1)'="" $P(NEWLINE(2.2),U,1)=$$FIX($P(OLDLINE(2.2),U,1)) ;137 1ST BIOPSY
"RTN","ONCPRE16",67,0)
 S:$P(NEWLINE("BLA1"),U,24)'="" $P(NEWLINE("BLA1"),U,24)=$$FIX($P(OLDLINE("BLA1"),U,24)) ;323 ONSET OF SYMPTOMS
"RTN","ONCPRE16",68,0)
 S:$P(NEWLINE("BLA2"),U,16)'="" $P(NEWLINE("BLA2"),U,16)=$$FIX($P(OLDLINE("BLA2"),U,16)) ;361 DATE RADIATION THERAPY ENDED
"RTN","ONCPRE16",69,0)
 S:$P(NEWLINE("BLA2"),U,22)'="" $P(NEWLINE("BLA2"),U,22)=$$FIX($P(OLDLINE("BLA2"),U,22)) ;367 DATE CHEMOTHERAPY ENDED
"RTN","ONCPRE16",70,0)
 S:$P(NEWLINE("THY1"),U,36)'="" $P(NEWLINE("THY1"),U,36)=$$FIX($P(OLDLINE("THY1"),U,36)) ;435 DATE OF DISCHARGE AFTER SURG
"RTN","ONCPRE16",71,0)
 S:$P(NEWLINE("STS2"),U,12)'="" $P(NEWLINE("STS2"),U,12)=$$FIX($P(OLDLINE("STS2"),U,12)) ;541 DATE BRACHYTHERAPY STARTED
"RTN","ONCPRE16",72,0)
 S:$P(NEWLINE("STS2"),U,13)'="" $P(NEWLINE("STS2"),U,13)=$$FIX($P(OLDLINE("STS2"),U,13)) ;542 DATE BRACHYTHERAPY ENDED
"RTN","ONCPRE16",73,0)
 S:$P(NEWLINE("STS2"),U,38)'="" $P(NEWLINE("STS2"),U,38)=$$FIX($P(OLDLINE("STS2"),U,38)) ;567 DATE EXT BEAM RAD STARTED
"RTN","ONCPRE16",74,0)
 S:$P(NEWLINE("NHL2"),U,20)'="" $P(NEWLINE("NHL2"),U,20)=$$FIX($P(OLDLINE("NHL2"),U,20)) ;865 SYSTEMIC CHEMOTHERAPY DATE
"RTN","ONCPRE16",75,0)
 S:OLDLINE(0)'=NEWLINE(0) ^ONCO(165.5,IEN,0)=NEWLINE(0)
"RTN","ONCPRE16",76,0)
 S:OLDLINE(1)'=NEWLINE(1) ^ONCO(165.5,IEN,1)=NEWLINE(1)
"RTN","ONCPRE16",77,0)
 S:OLDLINE(2.2)'=NEWLINE(2.2) ^ONCO(165.5,IEN,2.2)=NEWLINE(2.2)
"RTN","ONCPRE16",78,0)
 S:OLDLINE(3)'=NEWLINE(3) ^ONCO(165.5,IEN,3)=NEWLINE(3)
"RTN","ONCPRE16",79,0)
 S:OLDLINE(3.1)'=NEWLINE(3.1) ^ONCO(165.5,IEN,3.1)=NEWLINE(3.1)
"RTN","ONCPRE16",80,0)
 S:OLDLINE(5)'=NEWLINE(5) ^ONCO(165.5,IEN,5)=NEWLINE(5)
"RTN","ONCPRE16",81,0)
 S:OLDLINE(7)'=NEWLINE(7) ^ONCO(165.5,IEN,7)=NEWLINE(7)
"RTN","ONCPRE16",82,0)
 S:OLDLINE("BLA1")'=NEWLINE("BLA1") ^ONCO(165.5,IEN,"BLA1")=NEWLINE("BLA1")
"RTN","ONCPRE16",83,0)
 S:OLDLINE("BLA2")'=NEWLINE("BLA2") ^ONCO(165.5,IEN,"BLA2")=NEWLINE("BLA2")
"RTN","ONCPRE16",84,0)
 S:OLDLINE("THY1")'=NEWLINE("THY1") ^ONCO(165.5,IEN,"THY1")=NEWLINE("THY1")
"RTN","ONCPRE16",85,0)
 S:OLDLINE("STS2")'=NEWLINE("STS2") ^ONCO(165.5,IEN,"STS2")=NEWLINE("STS2")
"RTN","ONCPRE16",86,0)
 S:OLDLINE("NHL2")'=NEWLINE("NHL2") ^ONCO(165.5,IEN,"NHL2")=NEWLINE("NHL2")
"RTN","ONCPRE16",87,0)
 K ^ONCO(165.5,"ATX",IEN)
"RTN","ONCPRE16",88,0)
 K ^ONCO(165.5,"AAD",2000000,IEN)
"RTN","ONCPRE16",89,0)
 K ^ONCO(165.5,"AAD",2999999,IEN)
"RTN","ONCPRE16",90,0)
 ;Re-index this entry
"RTN","ONCPRE16",91,0)
 S DIK="^ONCO(165.5,",DA=IEN,DIK(1)=50 D EN1^DIK
"RTN","ONCPRE16",92,0)
 S DIK="^ONCO(165.5,",DA=IEN,DIK(1)=51 D EN1^DIK
"RTN","ONCPRE16",93,0)
 S DIK="^ONCO(165.5,",DA=IEN,DIK(1)=52 D EN1^DIK
"RTN","ONCPRE16",94,0)
 S DIK="^ONCO(165.5,",DA=IEN,DIK(1)=53 D EN1^DIK
"RTN","ONCPRE16",95,0)
 S DIK="^ONCO(165.5,",DA=IEN,DIK(1)=54 D EN1^DIK
"RTN","ONCPRE16",96,0)
 S DIK="^ONCO(165.5,",DA=IEN,DIK(1)=55 D EN1^DIK
"RTN","ONCPRE16",97,0)
 S DIK="^ONCO(165.5,",DA=IEN,DIK(1)=57 D EN1^DIK
"RTN","ONCPRE16",98,0)
 S DIK="^ONCO(165.5,",DA=IEN,DIK(1)=90 D EN1^DIK
"RTN","ONCPRE16",99,0)
 L -^ONCO(165.5,IEN)
"RTN","ONCPRE16",100,0)
 Q
"RTN","ONCPRE16",101,0)
FIX(DATE) ;Conversion function
"RTN","ONCPRE16",102,0)
 N NDATE
"RTN","ONCPRE16",103,0)
 S NDATE=$S(DATE="2000000":"0000000",DATE="2999999":"9999999",1:DATE)
"RTN","ONCPRE16",104,0)
 Q NDATE
"RTN","ONCSPC4")
0^5^B38181307
"RTN","ONCSPC4",1,0)
ONCSPC4 ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma Table IV;6/19/96
"RTN","ONCSPC4",2,0)
 ;;2.11;ONCOLOGY;**6,11,15,16**;Mar 07, 1995
"RTN","ONCSPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCSPC4",4,0)
 S TABLE("DATE OF FIRST COURSE TREATMENT")="DOFCT^ONCSPC4"
"RTN","ONCSPC4",5,0)
 S TABLE("SURGERY")="S^ONCSPC4"
"RTN","ONCSPC4",6,0)
 S TABLE("RADIATION THERAPY")="R^ONCSPC4"
"RTN","ONCSPC4",7,0)
 S TABLE("CHEMOTHERAPY")="C^ONCSPC4A"
"RTN","ONCSPC4",8,0)
 S HTABLE(1)="DATE OF FIRST COURSE TREATMENT"
"RTN","ONCSPC4",9,0)
 S HTABLE(2)="SURGERY"
"RTN","ONCSPC4",10,0)
 S HTABLE(3)="RADIATION THERAPY"
"RTN","ONCSPC4",11,0)
 S HTABLE(4)="CHEMOTHERAPY"
"RTN","ONCSPC4",12,0)
 S CHOICES=4
"RTN","ONCSPC4",13,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCSPC4",14,0)
 S DIC="^ONCO(165.5,",DR="50;51.2;53;53.2;58.1;58.2;58.3",DA=ONCONUM
"RTN","ONCSPC4",15,0)
 S DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCSPC4",16,0)
 W @IOF D HEAD^ONCSPC0 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT",!
"RTN","ONCSPC4",17,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC4",18,0)
DOFCT W !,"DATE OF FIRST COURSE TREATMENT....: ",DOFCT
"RTN","ONCSPC4",19,0)
S W !!,"SURGERY:",!
"RTN","ONCSPC4",20,0)
 S NCDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,31)
"RTN","ONCSPC4",21,0)
 S Y=NCDSDT D DATEOT^ONCOPCE S NCDSDT=Y
"RTN","ONCSPC4",22,0)
 S NCDS=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCSPC4",23,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<42 S NCDS1=NCDS G CDSDT
"RTN","ONCSPC4",24,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCSPC4",25,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCSPC4",26,0)
CDSDT S CDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCSPC4",27,0)
 S Y=CDSDT D DATEOT^ONCOPCE S CDSDT=Y
"RTN","ONCSPC4",28,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCSPC4",29,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<42 S CDS1=CDS G NCDS
"RTN","ONCSPC4",30,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCSPC4",31,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCSPC4",32,0)
NCDS W !,"  NON CANCER-DIRECTED SURGERY DATE: ",NCDSDT
"RTN","ONCSPC4",33,0)
 W !,"  NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?39,NCDS2
"RTN","ONCSPC4",34,0)
 W !,"  SURGERY OF PRIMARY SITE DATE....: ",CDSDT
"RTN","ONCSPC4",35,0)
CDS W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCSPC4",36,0)
 I (CDS="")!($E(CDS,1,2)="00") D  W @IOF G R
"RTN","ONCSPC4",37,0)
 .S $P(^ONCO(165.5,ONCONUM,3),U,28)=8
"RTN","ONCSPC4",38,0)
 .W !,"  RESIDUAL PRIMARY TUMOR..........: NA"
"RTN","ONCSPC4",39,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,1)=8
"RTN","ONCSPC4",40,0)
 .W !,"  TREATING SURGEON................: Not applicable, no surgery"
"RTN","ONCSPC4",41,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,2)=9
"RTN","ONCSPC4",42,0)
 .W !,"  ASA CLASS.......................: Class unknown or not applicable"
"RTN","ONCSPC4",43,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,42)=8
"RTN","ONCSPC4",44,0)
 .W !,"  POSTOPERATIVE DEATH.............: Not applicable, no surgery"
"RTN","ONCSPC4",45,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC4",46,0)
 S DR="59  RESIDUAL PRIMARY TUMOR.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",47,0)
 S DR="526  TREATING SURGEON................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",48,0)
 S DR="527  ASA CLASS......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",49,0)
 S DR="441  POSTOPERATIVE DEATH............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",50,0)
R W !!,"RADIATION THERAPY:",!
"RTN","ONCSPC4",51,0)
 S RAD=ONC(165.5,ONCONUM,51.2,"I")
"RTN","ONCSPC4",52,0)
 I RAD=0 D  W !,"  EXTERNAL BEAM RADIATION.........: No" D EB0 W !!,"  INTRAOPERATIVE RADIATION........: No" D IR0 W !!,"  BRACHYTHERAPY...................: No" D B0 G RSS
"RTN","ONCSPC4",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,3)=0
"RTN","ONCSPC4",54,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,6)=0
"RTN","ONCSPC4",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,9)=0
"RTN","ONCSPC4",56,0)
 I RAD=9 D  W !,"  EXTERNAL BEAM RADIATION.........: Unknown" D EB9 W !!,"  INTRAOPERATIVE RADIATION........: Unknown" D IR9 W !!,"  BRACHYTHERAPY...................: Unknown" D B9 G RSS
"RTN","ONCSPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,3)=9
"RTN","ONCSPC4",58,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,6)=9
"RTN","ONCSPC4",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,9)=9
"RTN","ONCSPC4",60,0)
 S DR="532  EXTERNAL BEAM RADIATION........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",61,0)
 I X=0 D EB0 G IR
"RTN","ONCSPC4",62,0)
 I X=9 D EB9 G IR
"RTN","ONCSPC4",63,0)
 S DR="533    NUMBER OF FRACTIONS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",64,0)
 S DR="362    DOSE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",65,0)
 S DR="534    RADIATION ENERGY (MV)........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",66,0)
 S DR="567    DATE THERAPY STARTED.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",67,0)
 S DR="361    DATE THERAPY ENDED............" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",68,0)
IR W ! S DR="535  INTRAOPERATIVE RADIATION........" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",69,0)
 I X=0 D IR0 G B
"RTN","ONCSPC4",70,0)
 I X=9 D IR9 G B
"RTN","ONCSPC4",71,0)
 S DR="536    DOSE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",72,0)
 S DR="537    RADIATION ENERGY (MV)........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",73,0)
B W ! S DR="538  BRACHYTHERAPY..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",74,0)
 I X=0 D B0 G RSS
"RTN","ONCSPC4",75,0)
 I X=9 D B9 G RSS
"RTN","ONCSPC4",76,0)
 S DR="539    NUMBER OF DAYS GIVEN.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",77,0)
 S DR="540    DOSE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",78,0)
 S DR="541    DATE THERAPY STARTED.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",79,0)
 S DR="542    DATE THERAPY ENDED............" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",80,0)
RSS W ! S DR="51.3  RADIATION/SURGERY SEQUENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",81,0)
 D ^ONCSPC4A
"RTN","ONCSPC4",82,0)
 I $G(OUT)'="Y" W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC4",83,0)
 G EXIT
"RTN","ONCSPC4",84,0)
JUMP ;Jump to prompts
"RTN","ONCSPC4",85,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCSPC4",86,0)
 I X["?" D  G JUMP
"RTN","ONCSPC4",87,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC4",88,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCSPC4",89,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC4",90,0)
 S X=TABLE(X)
"RTN","ONCSPC4",91,0)
 G @X
"RTN","ONCSPC4",92,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCSPC4",93,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,HT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCSPC4",94,0)
 K RADDT
"RTN","ONCSPC4",95,0)
 Q
"RTN","ONCSPC4",96,0)
EB0 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,4)=0
"RTN","ONCSPC4",97,0)
 W !,"    NUMBER OF FRACTIONS...........: 000"
"RTN","ONCSPC4",98,0)
 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,17)=0
"RTN","ONCSPC4",99,0)
 W !,"    DOSE..........................: 00000"
"RTN","ONCSPC4",100,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,5)=0
"RTN","ONCSPC4",101,0)
 W !,"    RADIATION ENERGY (MV).........: 00"
"RTN","ONCSPC4",102,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,38)="0000000"
"RTN","ONCSPC4",103,0)
 W !,"    DATE THERAPY STARTED..........: 00/00/0000"
"RTN","ONCSPC4",104,0)
 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)="0000000"
"RTN","ONCSPC4",105,0)
 W !,"    DATE THERAPY ENDED............: 00/00/0000"
"RTN","ONCSPC4",106,0)
 Q
"RTN","ONCSPC4",107,0)
EB9 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,4)=999
"RTN","ONCSPC4",108,0)
 W !,"    NUMBER OF FRACTIONS...........: 999"
"RTN","ONCSPC4",109,0)
 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,17)=99999
"RTN","ONCSPC4",110,0)
 W !,"    DOSE..........................: 99999"
"RTN","ONCSPC4",111,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,5)=99
"RTN","ONCSPC4",112,0)
 W !,"    RADIATION ENERGY (MV).........: 99"
"RTN","ONCSPC4",113,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,38)=9999999
"RTN","ONCSPC4",114,0)
 W !,"    DATE THERAPY STARTED..........: 99/99/9999"
"RTN","ONCSPC4",115,0)
 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)=9999999
"RTN","ONCSPC4",116,0)
 W !,"    DATE THERAPY ENDED............: 99/99/9999"
"RTN","ONCSPC4",117,0)
 Q
"RTN","ONCSPC4",118,0)
IR0 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,7)=0
"RTN","ONCSPC4",119,0)
 W !,"    DOSE..........................: 00000"
"RTN","ONCSPC4",120,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,8)=0
"RTN","ONCSPC4",121,0)
 W !,"    RADIATION ENERGY (MV).........: 00"
"RTN","ONCSPC4",122,0)
 Q
"RTN","ONCSPC4",123,0)
IR9 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,7)=99999
"RTN","ONCSPC4",124,0)
 W !,"    DOSE..........................: 99999"
"RTN","ONCSPC4",125,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,8)=99
"RTN","ONCSPC4",126,0)
 W !,"    RADIATION ENERGY (MV).........: 99"
"RTN","ONCSPC4",127,0)
 Q
"RTN","ONCSPC4",128,0)
B0 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,10)=0
"RTN","ONCSPC4",129,0)
 W !,"    NUMBER OF DAYS GIVEN..........: 000"
"RTN","ONCSPC4",130,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,11)=0
"RTN","ONCSPC4",131,0)
 W !,"    DOSE..........................: 00000"
"RTN","ONCSPC4",132,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,12)="0000000"
"RTN","ONCSPC4",133,0)
 W !,"    DATE THERAPY STARTED..........: 00/00/0000"
"RTN","ONCSPC4",134,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,13)="0000000"
"RTN","ONCSPC4",135,0)
 W !,"    DATE THERAPY ENDED............: 00/00/0000"
"RTN","ONCSPC4",136,0)
 Q
"RTN","ONCSPC4",137,0)
B9 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,10)=999
"RTN","ONCSPC4",138,0)
 W !,"    NUMBER OF DAYS GIVEN..........: 999"
"RTN","ONCSPC4",139,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,11)=99999
"RTN","ONCSPC4",140,0)
 W !,"    DOSE..........................: 99999"
"RTN","ONCSPC4",141,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,12)=9999999
"RTN","ONCSPC4",142,0)
 W !,"    DATE THERAPY STARTED..........: 99/99/9999"
"RTN","ONCSPC4",143,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,13)=9999999
"RTN","ONCSPC4",144,0)
 W !,"    DATE THERAPY ENDED............: 99/99/9999"
"RTN","ONCSPC4",145,0)
 Q
"RTN","ONCSPC8")
0^47^B42493745
"RTN","ONCSPC8",1,0)
ONCSPC8 ;HIRMFO/GWB -PCE Study of Soft Tissue Sarcoma - Print ;8/15/96
"RTN","ONCSPC8",2,0)
 ;;2.11;ONCOLOGY;**6,16**;Mar 07, 1995
"RTN","ONCSPC8",3,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCSPC8",4,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCSPC8",5,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCSPC8",6,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),IEN=ONCONUM
"RTN","ONCSPC8",7,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=Y
"RTN","ONCSPC8",8,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCSPC8",9,0)
 S DR=".04;.05;.06;.1;.12;3;9;18;20;22;24;26;29;32;33;34;34.1;34.2;37.1;37.2;37.3;38;19;50;51;51.2;51.3;53;53.2;54.2;58.1;58.2;58.3;59;70;71;71.1;71.2;71.3;71.4;81;82;83;85;86;87;88;89;308;329;361;362;371;375;433;441;500:567"
"RTN","ONCSPC8",10,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCSPC8",11,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCSPC8",12,0)
 D HDR W !?25,TABLE,!
"RTN","ONCSPC8",13,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCSPC8",14,0)
 W !,"ACCESSION NUMBER..................: ",ONC(165.5,IEN,.05) D P Q:EX=U
"RTN","ONCSPC8",15,0)
 W !,"SEQUENCE NUMBER...................: ",ONC(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCSPC8",16,0)
 W !,"POSTAL CODE AT DIAGNOSIS..........: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCSPC8",17,0)
 W !,"DATE OF BIRTH.....................: ",DOB D P Q:EX=U
"RTN","ONCSPC8",18,0)
 W !,"RACE..............................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCSPC8",19,0)
 W !,"SPANISH ORIGIN....................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCSPC8",20,0)
 W !,"SEX...............................: ",ONC(165.5,IEN,.1) D P Q:EX=U
"RTN","ONCSPC8",21,0)
 W !,"PRIMARY PAYOR AT DIAGNOSIS........: ",ONC(165.5,IEN,18) D P Q:EX=U
"RTN","ONCSPC8",22,0)
 W !,"FAMILY HIST OF SOFT TISSUE SARCOMA: ",ONC(165.5,IEN,500) D P Q:EX=U
"RTN","ONCSPC8",23,0)
 W !,"PERSONAL HISTORY OF ANY CANCER....: ",ONC(165.5,IEN,501)
"RTN","ONCSPC8",24,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCSPC8",25,0)
 D P Q:EX=U
"RTN","ONCSPC8",26,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCSPC8",27,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8",28,0)
 W !?20,TABLE,! D P Q:EX=U
"RTN","ONCSPC8",29,0)
 W !,"CLASS OF CASE.....................: ",ONC(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCSPC8",30,0)
 W !,"DIAGNOSTIC WORKUP:" D P Q:EX=U
"RTN","ONCSPC8",31,0)
 W !!,"  ANGIOGRAM OF PRIMARY............: ",ONC(165.5,IEN,502) D P Q:EX=U
"RTN","ONCSPC8",32,0)
 W !,"  BONE MARROW ASPIRATE/BIOPSY.....: ",ONC(165.5,IEN,503) D P Q:EX=U
"RTN","ONCSPC8",33,0)
 W !,"  BONE SCAN.......................: ",ONC(165.5,IEN,504) D P Q:EX=U
"RTN","ONCSPC8",34,0)
 W !,"  CHEST X-RAY.....................: ",ONC(165.5,IEN,505) D P Q:EX=U
"RTN","ONCSPC8",35,0)
 W !,"  CT SCAN OF CHEST................: ",ONC(165.5,IEN,506) D P Q:EX=U
"RTN","ONCSPC8",36,0)
 W !,"  CT SCAN OF PRIMARY..............: ",ONC(165.5,IEN,507) D P Q:EX=U
"RTN","ONCSPC8",37,0)
 W !,"  LIVER FUNCTION STUDIES..........: ",ONC(165.5,IEN,508) D P Q:EX=U
"RTN","ONCSPC8",38,0)
 W !,"  LYMPHANGIOGRAM..................: ",ONC(165.5,IEN,509) D P Q:EX=U
"RTN","ONCSPC8",39,0)
 W !,"  MRI OF PRIMARY..................: ",ONC(165.5,IEN,510) D P Q:EX=U
"RTN","ONCSPC8",40,0)
 W !,"  MRI OF OTHER....................: ",ONC(165.5,IEN,511) D P Q:EX=U
"RTN","ONCSPC8",41,0)
 W !,"  SKELETAL X-RAY..................: ",ONC(165.5,IEN,512) D P Q:EX=U
"RTN","ONCSPC8",42,0)
 W !,"  SONOGRAM........................: ",ONC(165.5,IEN,513)
"RTN","ONCSPC8",43,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G HW
"RTN","ONCSPC8",44,0)
 D P Q:EX=U
"RTN","ONCSPC8",45,0)
HW W !!,"HISTOLOGIC WORKUP:",! D P Q:EX=U
"RTN","ONCSPC8",46,0)
 W !,"  CYTOGENETICS....................: ",ONC(165.5,IEN,514) D P Q:EX=U
"RTN","ONCSPC8",47,0)
 W !,"  ELECTRON MICROSCOPY.............: ",ONC(165.5,IEN,515) D P Q:EX=U
"RTN","ONCSPC8",48,0)
 W !,"  FLOW CYTOMETRY..................: ",ONC(165.5,IEN,329) D P Q:EX=U
"RTN","ONCSPC8",49,0)
 W !,"  IMMUNOHISTOCHEMISTRY............: ",ONC(165.5,IEN,516) D P Q:EX=U
"RTN","ONCSPC8",50,0)
 W !,"  IN SITU HYBRIDIZATION...........: ",ONC(165.5,IEN,517) D P Q:EX=U
"RTN","ONCSPC8",51,0)
B W !!,"BIOPSIES:                           HISTOLOGY/BEHAVIOR/GRADE",! D P Q:EX=U
"RTN","ONCSPC8",52,0)
 W !,"  FINE NEEDLE ASPIRATION..........: ",ONC(165.5,IEN,528) D P Q:EX=U
"RTN","ONCSPC8",53,0)
 W !,"  CORE NEEDLE ASPIRATION..........: ",ONC(165.5,IEN,529) D P Q:EX=U
"RTN","ONCSPC8",54,0)
 W !,"  INCISIONAL BIOPSY...............: ",ONC(165.5,IEN,530) D P Q:EX=U
"RTN","ONCSPC8",55,0)
 W !,"  EXCISIONAL BIOPSY...............: ",ONC(165.5,IEN,531) D P Q:EX=U
"RTN","ONCSPC8",56,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G OCOB
"RTN","ONCSPC8",57,0)
 D P Q:EX=U
"RTN","ONCSPC8",58,0)
OCOB W !!,"OUTSIDE CONFIRMATION OF BIOPSY....: ",ONC(165.5,IEN,518) D P Q:EX=U
"RTN","ONCSPC8",59,0)
DOID W !,"DATE OF INITIAL DIAGNOSIS.........: ",ONC(165.5,IEN,3) D P Q:EX=U
"RTN","ONCSPC8",60,0)
 W !,"PRIMARY SITE......................: ",TOPCOD," ",ONC(165.5,IEN,20) D P Q:EX=U
"RTN","ONCSPC8",61,0)
 S SUB=ONC(165.5,IEN,519)
"RTN","ONCSPC8",62,0)
 S (SUB1,SUB2)="",LOS=$L(SUB) I LOS<45 S SUB1=SUB G SUB
"RTN","ONCSPC8",63,0)
 S NOP=$L($E(SUB,1,44)," ")
"RTN","ONCSPC8",64,0)
 S SUB1=$P(SUB," ",1,NOP-1),SUB2=$P(SUB," ",NOP,999)
"RTN","ONCSPC8",65,0)
SUB W !,"SUBSITE...........................: ",SUB1 W:SUB2'="" !,?36,SUB2 D P Q:EX=U
"RTN","ONCSPC8",66,0)
 W !,"HISTOLOGY/BEHAVIOR CODE...........: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCSPC8",67,0)
 W !,"GRADE.............................: ",ONC(165.5,IEN,24) D P Q:EX=U
"RTN","ONCSPC8",68,0)
 W !,"ADDNL GRADE CODING SYSTEM.........: ",ONC(165.5,IEN,520) D P Q:EX=U
"RTN","ONCSPC8",69,0)
 W !,"VALUE OF ADDNL CODING SYSTEM......: ",ONC(165.5,IEN,521) D P Q:EX=U
"RTN","ONCSPC8",70,0)
 W !,"DIAGNOSTIC CONFIRMATION...........: ",ONC(165.5,IEN,26)
"RTN","ONCSPC8",71,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCSPC8",72,0)
 D P Q:EX=U
"RTN","ONCSPC8",73,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCSPC8",74,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8",75,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCSPC8",76,0)
 W !,"PRETREATMENT TUMOR SIZE (mm)......: ",ONC(165.5,IEN,29) D P Q:EX=U
"RTN","ONCSPC8",77,0)
 W !,"PATHOLOGIC TUMOR SIZE (mm)........: ",ONC(165.5,IEN,522) D P Q:EX=U
"RTN","ONCSPC8",78,0)
 W !,"DEPTH OF TUMOR....................: ",ONC(165.5,IEN,523) D P Q:EX=U
"RTN","ONCSPC8",79,0)
 W !,"MULTIFOCAL........................: ",ONC(165.5,IEN,433) D P Q:EX=U
"RTN","ONCSPC8",80,0)
 W !,"REGIONAL NODES EXAMINED...........: ",ONC(165.5,IEN,33) D P Q:EX=U
"RTN","ONCSPC8",81,0)
 W !,"REGIONAL NODES POSITIVE...........: ",ONC(165.5,IEN,32) D P Q:EX=U
"RTN","ONCSPC8",82,0)
 W !!,"SITE(S) OF DISTANT METASTASIS:",! D P Q:EX=U
"RTN","ONCSPC8",83,0)
 W !,"  SITE OF DISTANT METASTASIS #1...: ",ONC(165.5,IEN,34) D P Q:EX=U
"RTN","ONCSPC8",84,0)
 W !,"  SITE OF DISTANT METASTASIS #2...: ",ONC(165.5,IEN,34.1) D P Q:EX=U
"RTN","ONCSPC8",85,0)
 W !,"  SITE OF DISTANT METASTASIS #3...: ",ONC(165.5,IEN,34.2)
"RTN","ONCSPC8",86,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G AJCCCS
"RTN","ONCSPC8",87,0)
 D P Q:EX=U
"RTN","ONCSPC8",88,0)
AJCCCS W !!,"AJCC CLINICAL STAGE (cTNM):",! D P Q:EX=U
"RTN","ONCSPC8",89,0)
 W !,"  T-CODE..........................: ",ONC(165.5,IEN,37.1) D P Q:EX=U
"RTN","ONCSPC8",90,0)
 W !,"  N-CODE..........................: ",ONC(165.5,IEN,37.2) D P Q:EX=U
"RTN","ONCSPC8",91,0)
 W !,"  M-CODE..........................: ",ONC(165.5,IEN,37.3) D P Q:EX=U
"RTN","ONCSPC8",92,0)
 W !,"  AJCC STAGE......................: ",ONC(165.5,IEN,38) D P Q:EX=U
"RTN","ONCSPC8",93,0)
 W !,"  CLINICAL STAGED BY..............: ",ONC(165.5,IEN,19)
"RTN","ONCSPC8",94,0)
AJCCPS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",! D P Q:EX=U
"RTN","ONCSPC8",95,0)
 W !,"  T-CODE..........................: ",ONC(165.5,IEN,85) D P Q:EX=U
"RTN","ONCSPC8",96,0)
 W !,"  N-CODE..........................: ",ONC(165.5,IEN,86) D P Q:EX=U
"RTN","ONCSPC8",97,0)
 W !,"  M-CODE..........................: ",ONC(165.5,IEN,87) D P Q:EX=U
"RTN","ONCSPC8",98,0)
 W !,"  AJCC STAGE......................: ",ONC(165.5,IEN,88) D P Q:EX=U
"RTN","ONCSPC8",99,0)
 W !,"  PATHOLOGIC STAGED BY............: ",ONC(165.5,IEN,89)
"RTN","ONCSPC8",100,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G CON
"RTN","ONCSPC8",101,0)
 D P Q:EX=U
"RTN","ONCSPC8",102,0)
CON W !!,"CONSULTATIONS:",! D P Q:EX=U
"RTN","ONCSPC8",103,0)
 W !,"  MEDICAL ONCOLOGIST..............: ",ONC(165.5,IEN,524) D P Q:EX=U
"RTN","ONCSPC8",104,0)
 W !,"  RADIATION ONCOLOGIST............: ",ONC(165.5,IEN,525)
"RTN","ONCSPC8",105,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G IV
"RTN","ONCSPC8",106,0)
 D P Q:EX=U
"RTN","ONCSPC8",107,0)
IV D ^ONCSPC8A
"RTN","ONCSPC8",108,0)
KILL ;Kill Variables and Exit
"RTN","ONCSPC8",109,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCSPC8",110,0)
 K NCDSIEN,NCDSOT,NOP,ONC,ONDATE,PG,SUB,SUB1,SUB2,SURG,SURG1,SURG2,SURGDT
"RTN","ONCSPC8",111,0)
 K TABLE
"RTN","ONCSPC8",112,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCSPC8",113,0)
 Q
"RTN","ONCSPC8",114,0)
P ;Print
"RTN","ONCSPC8",115,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCSPC8",116,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCSPC8",117,0)
 .D HDR Q
"RTN","ONCSPC8",118,0)
 Q
"RTN","ONCSPC8",119,0)
TASK ;Queue a task
"RTN","ONCSPC8",120,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCSPC8",121,0)
 S ZTRTN="PRT^ONCSPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCSPC8",122,0)
 S ZTDESC="Print Soft Tissue Sarcoma PCE"
"RTN","ONCSPC8",123,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCSPC8",124,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCSPC8",125,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCSPC8",126,0)
HDR ;Header
"RTN","ONCSPC8",127,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCSPC8",128,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCSPC8",129,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCSPC8",130,0)
 W !?20,"PCE Study of Soft Tissue Sarcoma"
"RTN","ONCSPC8",131,0)
 W ?59,ONDATE,!,DASHES
"RTN","ONCSPC8",132,0)
 Q
"RTN","ONCSPC8A")
0^4^B39737162
"RTN","ONCSPC8A",1,0)
ONCSPC8A ;HIRMFO/GWB -PCE Study of Soft Tissue Sarcoma - Print (continued) ;8/15/96
"RTN","ONCSPC8A",2,0)
 ;;2.11;ONCOLOGY;**6,15,16**;Mar 07, 1995
"RTN","ONCSPC8A",3,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8A",4,0)
 S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCSPC8A",5,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCSPC8A",6,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCSPC8A",7,0)
 W !,"FIRST COURSE TREATMENT DATE.......: ",DOIT D P Q:EX=U
"RTN","ONCSPC8A",8,0)
 W !!,"SURGERY:",! D P Q:EX=U
"RTN","ONCSPC8A",9,0)
 S NCDS=ONC(165.5,IEN,58.1)
"RTN","ONCSPC8A",10,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<45 S NCDS1=NCDS G CDS
"RTN","ONCSPC8A",11,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCSPC8A",12,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCSPC8A",13,0)
CDS S CDS=ONC(165.5,IEN,58.2)
"RTN","ONCSPC8A",14,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<45 S CDS1=CDS G S
"RTN","ONCSPC8A",15,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCSPC8A",16,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCSPC8A",17,0)
S W !,"  NON CANCER-DIRECTED SURGERY DATE: ",ONC(165.5,IEN,58.3) D P Q:EX=U
"RTN","ONCSPC8A",18,0)
 W !,"  NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?39,NCDS2 D P Q:EX=U
"RTN","ONCSPC8A",19,0)
 W !,"  SURGERY OF PRIMARY SITE DATE....: ",ONC(165.5,IEN,50) D P Q:EX=U
"RTN","ONCSPC8A",20,0)
 W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCSPC8A",21,0)
 W !,"  RESIDUAL PRIMARY TUMOR..........: ",ONC(165.5,IEN,59)
"RTN","ONCSPC8A",22,0)
 W !,"  TREATING SURGEON................: ",ONC(165.5,IEN,526) D P Q:EX=U
"RTN","ONCSPC8A",23,0)
 W !,"  ASA CLASS.......................: ",ONC(165.5,IEN,527) D P Q:EX=U
"RTN","ONCSPC8A",24,0)
 W !,"  POSTOPERATIVE DEATH.............: ",ONC(165.5,IEN,441)
"RTN","ONCSPC8A",25,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 W !?15,TABLE_" (continued)" G R
"RTN","ONCSPC8A",26,0)
 D P Q:EX=U
"RTN","ONCSPC8A",27,0)
R W !!,"RADIATION THERAPY:",! D P Q:EX=U
"RTN","ONCSPC8A",28,0)
 W !,"  EXTERNAL BEAM RADIATION...: ",ONC(165.5,IEN,532),?42,"BRACHYTHERAPY...........: ",ONC(165.5,IEN,538) D P Q:EX=U
"RTN","ONCSPC8A",29,0)
 W !,"  NUMBER OF FRACTIONS.......: ",ONC(165.5,IEN,533),?42,"NUMBER OF DAYS GIVEN....: ",ONC(165.5,IEN,539) D P Q:EX=U
"RTN","ONCSPC8A",30,0)
 W !,"  DOSE......................: ",ONC(165.5,IEN,362),?42,"DOSE....................: ",ONC(165.5,IEN,540) D P Q:EX=U
"RTN","ONCSPC8A",31,0)
 W !,"  RADIATION ENERGY (MV).....: ",ONC(165.5,IEN,534),?42,"DATE THERAPY STARTED....: ",ONC(165.5,IEN,541) D P Q:EX=U
"RTN","ONCSPC8A",32,0)
 W !,"  DATE THERAPY STARTED......: ",ONC(165.5,IEN,567),?42,"DATE THERAPY ENDED......: ",ONC(165.5,IEN,542) D P Q:EX=U
"RTN","ONCSPC8A",33,0)
 W !,"  DATE THERAPY ENDED........: ",ONC(165.5,IEN,361)
"RTN","ONCSPC8A",34,0)
 W !!,"  INTRAOPERATIVE RADIATION..: ",ONC(165.5,IEN,535) D P Q:EX=U
"RTN","ONCSPC8A",35,0)
 W !,"  DOSE......................: ",ONC(165.5,IEN,536) D P Q:EX=U
"RTN","ONCSPC8A",36,0)
 W !,"  RADIATION ENERGY (MV).....: ",ONC(165.5,IEN,537) D P Q:EX=U
"RTN","ONCSPC8A",37,0)
 W !!,"  RADIATION/SURGERY SEQUENCE: ",ONC(165.5,IEN,51.3)
"RTN","ONCSPC8A",38,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 W !?15,TABLE_" (continued)" G C
"RTN","ONCSPC8A",39,0)
 D P Q:EX=U
"RTN","ONCSPC8A",40,0)
C W !!,"CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCSPC8A",41,0)
 W !,"  CHEMOTHERAPY........: ",ONC(165.5,IEN,53.2) D P Q:EX=U
"RTN","ONCSPC8A",42,0)
 W !,"  DATE OF CHEMOTHERAPY: ",ONC(165.5,IEN,53) D P Q:EX=U
"RTN","ONCSPC8A",43,0)
 W !!,"  AGENT ADMINISTERED    METHOD OF DELIVERY  LOCATION" D P Q:EX=U
"RTN","ONCSPC8A",44,0)
 W !,"  ------------------    ------------------  --------" D P Q:EX=U
"RTN","ONCSPC8A",45,0)
 W !,"  CISPLATIN..: ",ONC(165.5,IEN,371),?24,ONC(165.5,IEN,547),?44,ONC(165.5,IEN,553) D P Q:EX=U
"RTN","ONCSPC8A",46,0)
 W !,"  CYTOXAN....: ",ONC(165.5,IEN,543),?24,ONC(165.5,IEN,548),?44,ONC(165.5,IEN,554) D P Q:EX=U
"RTN","ONCSPC8A",47,0)
 W !,"  DTIC.......: ",ONC(165.5,IEN,544),?24,ONC(165.5,IEN,549),?44,ONC(165.5,IEN,555) D P Q:EX=U
"RTN","ONCSPC8A",48,0)
 W !,"  DOXORUBICIN: ",ONC(165.5,IEN,545),?24,ONC(165.5,IEN,550),?44,ONC(165.5,IEN,556) D P Q:EX=U
"RTN","ONCSPC8A",49,0)
 W !,"  ETOPOSIDE..: ",ONC(165.5,IEN,546),?24,ONC(165.5,IEN,551),?44,ONC(165.5,IEN,557) D P Q:EX=U
"RTN","ONCSPC8A",50,0)
 W !,"  IFOSFAMIDE.: ",ONC(165.5,IEN,375),?24,ONC(165.5,IEN,552),?44,ONC(165.5,IEN,558) D P Q:EX=U
"RTN","ONCSPC8A",51,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 W !?15,TABLE_" (continued)" G CSF
"RTN","ONCSPC8A",52,0)
 D P Q:EX=U
"RTN","ONCSPC8A",53,0)
CSF W !!,"  COLONY STIMULATION FACTOR........: ",ONC(165.5,IEN,559) D P Q:EX=U
"RTN","ONCSPC8A",54,0)
 W !,"  NATIONAL TREATMENT PROTOCOL......: ",ONC(165.5,IEN,560) D P Q:EX=U
"RTN","ONCSPC8A",55,0)
 W !,"  OTHER PROTOCOL...................: ",ONC(165.5,IEN,561) D P Q:EX=U
"RTN","ONCSPC8A",56,0)
 W !,"  REFERRED TO REHAB SERVICES.......: ",ONC(165.5,IEN,562) D P Q:EX=U
"RTN","ONCSPC8A",57,0)
 W !,"  CONSULT W PHYSICAL THERAPY/REHAB.: ",ONC(165.5,IEN,563) D P Q:EX=U
"RTN","ONCSPC8A",58,0)
 W !,"  TRANSFERRED TO REHAB FACILITY....: ",ONC(165.5,IEN,564) D P Q:EX=U
"RTN","ONCSPC8A",59,0)
 W !,"  NO OF HOSPITALIZATIONS W/I 6 MO..: ",ONC(165.5,IEN,565) D P Q:EX=U
"RTN","ONCSPC8A",60,0)
 W !,"  TOTAL LENGTH OF STAYS............: ",ONC(165.5,IEN,566) D P Q:EX=U
"RTN","ONCSPC8A",61,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 G V
"RTN","ONCSPC8A",62,0)
 D P Q:EX=U
"RTN","ONCSPC8A",63,0)
V S TABLE="TABLE V - FIRST RECURRENCE AND SUBSEQUENT TREATMENT"
"RTN","ONCSPC8A",64,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8A",65,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCSPC8A",66,0)
 W !,"DATE OF FIRST RECURRENCE..........: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCSPC8A",67,0)
 W !,"TYPE OF FIRST RECURRENCE..........: ",ONC(165.5,IEN,71) D P Q:EX=U
"RTN","ONCSPC8A",68,0)
 W !,"OTHER TYPE OF FIRST RECURRENCE....: ",ONC(165.5,IEN,71.4) D P Q:EX=U
"RTN","ONCSPC8A",69,0)
DSOFR W !!,"DISTANT SITE(S) OF FIRST RECURRENCE:",!
"RTN","ONCSPC8A",70,0)
 W !,"RECURRENCE SITE 1.................: ",ONC(165.5,IEN,71.1) D P Q:EX=U
"RTN","ONCSPC8A",71,0)
 W !,"RECURRENCE SITE 2.................: ",ONC(165.5,IEN,71.2) D P Q:EX=U
"RTN","ONCSPC8A",72,0)
 W !,"RECURRENCE SITE 3.................: ",ONC(165.5,IEN,71.3) D P Q:EX=U
"RTN","ONCSPC8A",73,0)
 I '$D(^ONCO(165.5,IEN,4,0)) D STFROP W !!,"  NO SUBSEQUENT TREATMENT" G VEXIT
"RTN","ONCSPC8A",74,0)
 I $O(^ONCO(165.5,IEN,4,0))="" D STFROP W !!,"  NO SUBSEQUENT TREATMENT" G VEXIT
"RTN","ONCSPC8A",75,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 W !?15,TABLE_" (continued)" G ST
"RTN","ONCSPC8A",76,0)
 D P Q:EX=U
"RTN","ONCSPC8A",77,0)
ST D STFROP I $D(^ONCO(165.5,IEN,4,0)) S SCTIEN=0 F CRSE=1:1 S SCTIEN=$O(^ONCO(165.5,IEN,4,SCTIEN)) Q:(SCTIEN'>0)!(CRSE=4)!(EX=U)  D SCT
"RTN","ONCSPC8A",78,0)
 G:EX=U KILL G VI
"RTN","ONCSPC8A",79,0)
SCT S DIC="^ONCO(165.5,",DR=60,DA=IEN,DIQ="ONC"
"RTN","ONCSPC8A",80,0)
 S DR(165.51)=".01:32",DA(165.51)=SCTIEN D EN^DIQ1
"RTN","ONCSPC8A",81,0)
 S SURG=ONC(165.51,SCTIEN,.04),(SURG1,SURG2)=""
"RTN","ONCSPC8A",82,0)
 S LOS=$L(SURG) I LOS<62 S SURG1=SURG G TOS
"RTN","ONCSPC8A",83,0)
 S NOP=$L($E(SURG,1,61)," ")
"RTN","ONCSPC8A",84,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCSPC8A",85,0)
TOS S COURSE=$S(CRSE=1:"SECOND",CRSE=2:"THIRD",CRSE=3:"FOURTH",1:"")
"RTN","ONCSPC8A",86,0)
 I IOST?1"C".E,CRSE>1 W !?15,TABLE_" (continued)"
"RTN","ONCSPC8A",87,0)
 W !!,"  ",COURSE," COURSE:",! D P Q:EX=U
"RTN","ONCSPC8A",88,0)
 W !,"  DATE...........: ",ONC(165.51,SCTIEN,.01) D P Q:EX=U
"RTN","ONCSPC8A",89,0)
 W !,"  SURGERY........: ",SURG1 W:SURG2'="" !,?22,SURG2 D P Q:EX=U
"RTN","ONCSPC8A",90,0)
 D P Q:EX=U
"RTN","ONCSPC8A",91,0)
 W !,"  RADIATION......: ",ONC(165.51,SCTIEN,.05) D P Q:EX=U
"RTN","ONCSPC8A",92,0)
 W !,"  CHEMOTHERAPY...: ",ONC(165.51,SCTIEN,.06) D P Q:EX=U
"RTN","ONCSPC8A",93,0)
 W !,"  HORMONE THERAPY: ",ONC(165.51,SCTIEN,.07)
"RTN","ONCSPC8A",94,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR S:'Y EX=U Q:'Y  D HDR^ONCSPC8 Q
"RTN","ONCSPC8A",95,0)
 D P Q:EX=U
"RTN","ONCSPC8A",96,0)
 Q
"RTN","ONCSPC8A",97,0)
VEXIT I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 G VI
"RTN","ONCSPC8A",98,0)
 D P Q:EX=U
"RTN","ONCSPC8A",99,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCSPC8A",100,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8A",101,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCSPC8A",102,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCSPC8A",103,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCSPC8A",104,0)
 W !,"DATE OF LAST CONTACT OR DEATH.....: ",DLC
"RTN","ONCSPC8A",105,0)
 W !,"VITAL STATUS......................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCSPC8A",106,0)
 S CS="" I $D(^ONCO(165.5,IEN,"TS","AA")) D
"RTN","ONCSPC8A",107,0)
 .S CSDAT=$O(^ONCO(165.5,IEN,"TS","AA",""))
"RTN","ONCSPC8A",108,0)
 .S CSIEN=$O(^ONCO(165.5,IEN,"TS","AA",CSDAT,""))
"RTN","ONCSPC8A",109,0)
 .S CSPNT=$P(^ONCO(165.5,IEN,"TS",CSIEN,0),U,2)
"RTN","ONCSPC8A",110,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCSPC8A",111,0)
 W !,"CANCER STATUS.....................: ",CS
"RTN","ONCSPC8A",112,0)
 W !!,"COMPLETED BY......................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCSPC8A",113,0)
 W !,"REVIEWED BY CANCER COMMITTEE......: ",ONC(165.5,IEN,82) D P Q:EX=U
"RTN","ONCSPC8A",114,0)
 W !
"RTN","ONCSPC8A",115,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC8A",116,0)
KILL ;Kill Variables and Exit
"RTN","ONCSPC8A",117,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN
"RTN","ONCSPC8A",118,0)
 Q
"RTN","ONCSPC8A",119,0)
P ;Display Data
"RTN","ONCSPC8A",120,0)
 I ($Y'<(LIN-2)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCSPC8A",121,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCSPC8A",122,0)
 .D HDR^ONCSPC8 Q
"RTN","ONCSPC8A",123,0)
 Q
"RTN","ONCSPC8A",124,0)
STFROP W !!,"SUBSEQUENT TREATMENT FOR RECURRENCE OR PROGRESSION:"
"RTN","ONCSPC8A",125,0)
 Q
"RTN","ONCSTX")
0^27^B4007089
"RTN","ONCSTX",1,0)
ONCSTX ;HINES CIOFO/RTK;SUBSEQUENT COURSE OF THERAPY STUFFING; 02/12/98
"RTN","ONCSTX",2,0)
 ;;2.11;ONCOLOGY;**15,16**;Mar 07, 1995
"RTN","ONCSTX",3,0)
NO ;
"RTN","ONCSTX",4,0)
 N DA,DR,DIQ,DIC,DI
"RTN","ONCSTX",5,0)
 S SCTIEN=D1
"RTN","ONCSTX",6,0)
 S $P(^ONCO(165.5,D0,4,D1,0),U,11)="0000000"
"RTN","ONCSTX",7,0)
 S $P(^ONCO(165.5,D0,4,D1,2),"^",30)=$S(DATEDX>2971231:1,1:"")
"RTN","ONCSTX",8,0)
 S $P(^ONCO(165.5,D0,4,D1,2),"^",31)=$S(DATEDX>2971231:"0000000",1:"")
"RTN","ONCSTX",9,0)
 S $P(^ONCO(165.5,D0,4,D1,2),"^",32)=$S(DATEDX>2971231:1,1:"")
"RTN","ONCSTX",10,0)
 S $P(^ONCO(165.5,D0,4,D1,2),"^",34)=$S(DATEDX>2971231:0,1:"")
"RTN","ONCSTX",11,0)
 D WRITE
"RTN","ONCSTX",12,0)
 S Y=$S(DATEDX>2971231:36,1:.05)
"RTN","ONCSTX",13,0)
 Q
"RTN","ONCSTX",14,0)
UNK ;
"RTN","ONCSTX",15,0)
 N DA,DR,DIQ,DIC,DI
"RTN","ONCSTX",16,0)
 S SCTIEN=D1
"RTN","ONCSTX",17,0)
 S $P(^ONCO(165.5,D0,4,D1,0),U,11)=9999999
"RTN","ONCSTX",18,0)
 F RR=0:0 S RR=$O(^ONCO(164,SSTOP,"RR5",RR)) Q:RR="B"  S LASTRR=RR
"RTN","ONCSTX",19,0)
 F SC=0:0 S SC=$O(^ONCO(164,SSTOP,"SC5",SC)) Q:SC="B"  S LASTSC=SC
"RTN","ONCSTX",20,0)
 S $P(^ONCO(165.5,D0,4,D1,2),"^",30)=$S(DATEDX>2971231:LASTRR,1:"")
"RTN","ONCSTX",21,0)
 S $P(^ONCO(165.5,D0,4,D1,2),"^",31)=$S(DATEDX>2971231:9999999,1:"")
"RTN","ONCSTX",22,0)
 S $P(^ONCO(165.5,D0,4,D1,2),"^",32)=$S(DATEDX>2971231:LASTSC,1:"")
"RTN","ONCSTX",23,0)
 S $P(^ONCO(165.5,D0,4,D1,2),"^",34)=$S(DATEDX>2971231:99,1:"")
"RTN","ONCSTX",24,0)
 D WRITE
"RTN","ONCSTX",25,0)
 S Y=$S(DATEDX>2971231:36,1:.05)
"RTN","ONCSTX",26,0)
 K SCTIEN,RR,LASTRR,SC,LASTSC Q
"RTN","ONCSTX",27,0)
WRITE ;
"RTN","ONCSTX",28,0)
 K ONC,DIQ S DIC="^ONCO(165.5,"
"RTN","ONCSTX",29,0)
 S DR=60,DA=D0,DR(165.51)=".041;33;34;35;37",DA(165.51)=SCTIEN
"RTN","ONCSTX",30,0)
 S DIQ="ONC" D EN^DIQ1
"RTN","ONCSTX",31,0)
 W !?2,"SURGERY OF PRIMARY SITE DATE..: "_ONC(165.51,SCTIEN,.041)
"RTN","ONCSTX",32,0)
 I DATEDX>2971231 D
"RTN","ONCSTX",33,0)
 .W !?2,"SCOPE OF LYMPH NODE SURGERY...: "_ONC(165.51,SCTIEN,35)
"RTN","ONCSTX",34,0)
 .W !?2,"NUMBER OF NODES REMOVED.......: "_ONC(165.51,SCTIEN,37)
"RTN","ONCSTX",35,0)
 .W !?2,"RECON/RESTORE - DELAYED.......: "_ONC(165.51,SCTIEN,33)
"RTN","ONCSTX",36,0)
 .W !?2,"RECON/RESTORE - DELAYED DATE..: "_ONC(165.51,SCTIEN,34)
"RTN","ONCSTX",37,0)
 K ONC,SCTIEN
"RTN","ONCTPC4")
0^3^B32657444
"RTN","ONCTPC4",1,0)
ONCTPC4 ;HIRMFO/GWB - PCE Study of Thyroid Cancer Table IV;6/19/96
"RTN","ONCTPC4",2,0)
 ;;2.11;ONCOLOGY;**6,11,15,16**;Mar 07, 1995
"RTN","ONCTPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCTPC4",4,0)
 S TABLE("DATE OF FIRST COURSE TREATMENT")="DOFCT"
"RTN","ONCTPC4",5,0)
 S TABLE("SURGERY")="S"
"RTN","ONCTPC4",6,0)
 S TABLE("RADIATION")="R"
"RTN","ONCTPC4",7,0)
 S TABLE("CHEMOTHERAPY")="C"
"RTN","ONCTPC4",8,0)
 S TABLE("HORMONE THERAPY")="HT"
"RTN","ONCTPC4",9,0)
 S HTABLE(1)="DATE OF FIRST COURSE TREATMENT"
"RTN","ONCTPC4",10,0)
 S HTABLE(2)="SURGERY"
"RTN","ONCTPC4",11,0)
 S HTABLE(3)="RADIATION"
"RTN","ONCTPC4",12,0)
 S HTABLE(4)="CHEMOTHERAPY"
"RTN","ONCTPC4",13,0)
 S HTABLE(5)="HORMONE THERAPY"
"RTN","ONCTPC4",14,0)
 S CHOICES=5
"RTN","ONCTPC4",15,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCTPC4",16,0)
 S DIC="^ONCO(165.5,",DR="50;51.2;53.2;54.2;58.1;58.2;58.3",DA=ONCONUM
"RTN","ONCTPC4",17,0)
 S DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCTPC4",18,0)
 W @IOF D HEAD^ONCTPC0 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT",!
"RTN","ONCTPC4",19,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC4",20,0)
DOFCT W !,"DATE OF FIRST COURSE TREATMENT.......: ",DOFCT
"RTN","ONCTPC4",21,0)
S W !!,"SURGERY:",!
"RTN","ONCTPC4",22,0)
 S NCDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,31)
"RTN","ONCTPC4",23,0)
 S Y=NCDSDT D DATEOT^ONCOPCE S NCDSDT=Y
"RTN","ONCTPC4",24,0)
 S NCDS=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCTPC4",25,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<42 S NCDS1=NCDS G CDSDT
"RTN","ONCTPC4",26,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCTPC4",27,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCTPC4",28,0)
CDSDT S CDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCTPC4",29,0)
 S Y=CDSDT D DATEOT^ONCOPCE S CDSDT=Y
"RTN","ONCTPC4",30,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCTPC4",31,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<42 S CDS1=CDS G NCDS
"RTN","ONCTPC4",32,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCTPC4",33,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCTPC4",34,0)
NCDS W !,"  DATE OF NON CANCER-DIRECTED SURGERY: ",NCDSDT
"RTN","ONCTPC4",35,0)
 W !,"  NON CANCER-DIRECTED SURGERY........: ",NCDS1 W:NCDS2'="" !,?42,NCDS2
"RTN","ONCTPC4",36,0)
 W !,"  DATE OF SURGERY OF PRIMARY SITE....: ",CDSDT
"RTN","ONCTPC4",37,0)
 I (CDS="")!($E(CDS,1,2)="00") D  G CDS
"RTN","ONCTPC4",38,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,36)="0000000"
"RTN","ONCTPC4",39,0)
 .W !,"  DATE OF DISCHARGE AFTER SURGERY....: 00/00/0000"
"RTN","ONCTPC4",40,0)
 S DR="435  DATE OF DISCHARGE AFTER SURGERY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",41,0)
CDS W !,"  SURGERY OF PRIMARY SITE............: ",CDS1 W:CDS2'="" !,?42,CDS2
"RTN","ONCTPC4",42,0)
SC I (CDS="")!($E(CDS,1,2)="00") D  G:(Y=0)!(Y="") EXIT W @IOF G R
"RTN","ONCTPC4",43,0)
 .S $P(^ONCO(165.5,ONCONUM,3),U,28)=8
"RTN","ONCTPC4",44,0)
 .W !,"  RESIDUAL PRIMARY TUMOR.............: NA"
"RTN","ONCTPC4",45,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  W @IOF
"RTN","ONCTPC4",46,0)
 .W !!,"  SURGICAL COMPLICATIONS:",!
"RTN","ONCTPC4",47,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,37)=8
"RTN","ONCTPC4",48,0)
 .W !,"    AIRWAY PROBLEM REQ TRACHEOSTOMY..: Not applicable, no surgery"
"RTN","ONCTPC4",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,38)=8
"RTN","ONCTPC4",50,0)
 .W !,"    BLEEDING HEMATOMA................: Not applicable, no surgery"
"RTN","ONCTPC4",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,39)=8
"RTN","ONCTPC4",52,0)
 .W !,"    HYPOCALCEMIA.....................: Not applicable, no surgery"
"RTN","ONCTPC4",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,40)=8
"RTN","ONCTPC4",54,0)
 .W !,"    RECURRENT NERVE INJURY...........: Not applicable, no surgery"
"RTN","ONCTPC4",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,41)=8
"RTN","ONCTPC4",56,0)
 .W !,"    WOUND INFECTION..................: Not applicable, no surgery"
"RTN","ONCTPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,42)=8
"RTN","ONCTPC4",58,0)
 .W !!,"  POSTOPERATIVE DEATH WITH 30 DAYS.: Not applicable, no surgery"
"RTN","ONCTPC4",59,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC4",60,0)
 S DR="59  RESIDUAL PRIMARY TUMOR............." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",61,0)
 W !!,"  SURGICAL COMPLICATIONS:",!
"RTN","ONCTPC4",62,0)
 S DR="436    AIRWAY PROBLEM REQ TRACHEOSTOMY.." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",63,0)
 S DR="437    BLEEDING HEMATOMA................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",64,0)
 S DR="438    HYPOCALCEMIA....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",65,0)
 S DR="439    RECURRENT NERVE INJURY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",66,0)
 S DR="440    WOUND INFECTION.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",67,0)
 W !
"RTN","ONCTPC4",68,0)
 S DR="441  POSTOPERATIVE DEATH WITHIN 30 DAYS." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",69,0)
R W !!,"RADIATION:",!
"RTN","ONCTPC4",70,0)
 S RADDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,4)
"RTN","ONCTPC4",71,0)
 S Y=RADDT D DATEOT^ONCOPCE S RADDT=Y
"RTN","ONCTPC4",72,0)
 W !,"  DATE RADIATION STARTED.............: ",RADDT
"RTN","ONCTPC4",73,0)
 S RAD=ONC(165.5,ONCONUM,51.2,"I"),RADOT=ONC(165.5,ONCONUM,51.2,"E")
"RTN","ONCTPC4",74,0)
 W !,"  RADIATION .........................: ",RADOT
"RTN","ONCTPC4",75,0)
 I (RAD=0)!(RAD=7) D  G C
"RTN","ONCTPC4",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,43)=0
"RTN","ONCTPC4",77,0)
 .W !,"  REGIONAL RAD (cGy) DOSE............: 00000"
"RTN","ONCTPC4",78,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,44)=0
"RTN","ONCTPC4",79,0)
 .W !,"  BOOST DOSAGE.......................: 00000"
"RTN","ONCTPC4",80,0)
 .W !!,"  TOTAL MILLICURIES (mCi) OF RADIOIODINE:"
"RTN","ONCTPC4",81,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,45)=0
"RTN","ONCTPC4",82,0)
 .W !,"  INITAL DOSE........................: 00000"
"RTN","ONCTPC4",83,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,46)=0
"RTN","ONCTPC4",84,0)
 .W !,"  SECOND DOSE........................: 00000"
"RTN","ONCTPC4",85,0)
 I ($E(RAD,1)=8)!($E(RAD,1)=9) D  G C
"RTN","ONCTPC4",86,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,43)=99999
"RTN","ONCTPC4",87,0)
 .W !,"  REGIONAL RAD (cGy) DOSE............: 99999"
"RTN","ONCTPC4",88,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,44)=99999
"RTN","ONCTPC4",89,0)
 .W !,"  BOOST DOSAGE.......................: 99999"
"RTN","ONCTPC4",90,0)
 .W !!,"  TOTAL MILLICURIES (mCi) OF RADIOIODINE:"
"RTN","ONCTPC4",91,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,45)=99999
"RTN","ONCTPC4",92,0)
 .W !,"  INITAL DOSE........................: 99999"
"RTN","ONCTPC4",93,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,46)=99999
"RTN","ONCTPC4",94,0)
 .W !,"  SECOND DOSE........................: 99999"
"RTN","ONCTPC4",95,0)
 S DR="442  REGIONAL RAD (cGy) DOSE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",96,0)
 S DR="443  BOOST DOSAGE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",97,0)
 W !!,"  TOTAL MILLICURIES (mCi) OF RADIOIODINE:",!
"RTN","ONCTPC4",98,0)
 S DR="444  INITIAL DOSE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",99,0)
 S DR="445  SECOND DOSE........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",100,0)
C W !!,"CHEMOTHERAPY:",!
"RTN","ONCTPC4",101,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCTPC4",102,0)
 W !,"  CHEMOTHERAPY.......................: ",CHEMOT
"RTN","ONCTPC4",103,0)
 I ($E(CHEMO,1)=0)!($E(CHEMO,1)=7) D  G HT
"RTN","ONCTPC4",104,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,47)=0
"RTN","ONCTPC4",105,0)
 .W !,"  ADJUVANT CHEMO W BEAM RADIATION....: No concomitant treatment"
"RTN","ONCTPC4",106,0)
 I ($E(CHEMO,1)=8)!($E(CHEMO,1)=9) D  G HT
"RTN","ONCTPC4",107,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,47)=9
"RTN","ONCTPC4",108,0)
 .W !,"  ADJUVANT CHEMO W BEAM RADIATION....: Unknown if therapy concomitant"
"RTN","ONCTPC4",109,0)
 S DR="446  ADJUVANT CHEMO W BEAM RADIATION...." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",110,0)
HT W !!,"HORMONE THERAPY:",!
"RTN","ONCTPC4",111,0)
 S HT=ONC(165.5,ONCONUM,54.2,"I")
"RTN","ONCTPC4",112,0)
 S HT=$S((HT=0)!(HT=7):"No",(HT=1)!(HT=2)!(HT=3):"Yes",1:"Unknown")
"RTN","ONCTPC4",113,0)
 W !,"  THYROID HORMONE THERAPY............: ",HT
"RTN","ONCTPC4",114,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC4",115,0)
 G EXIT
"RTN","ONCTPC4",116,0)
JUMP ;Jump to prompts
"RTN","ONCTPC4",117,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCTPC4",118,0)
 I X["?" D  G JUMP
"RTN","ONCTPC4",119,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC4",120,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCTPC4",121,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC4",122,0)
 S X=TABLE(X)
"RTN","ONCTPC4",123,0)
 G @X
"RTN","ONCTPC4",124,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCTPC4",125,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,HT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCTPC4",126,0)
 K RADDT
"RTN","ONCTPC4",127,0)
 Q
"RTN","ONCTPC8")
0^48^B43688630
"RTN","ONCTPC8",1,0)
ONCTPC8 ;HIRMFO/GWB -PCE Study of Thyroid Cancer - Print ;8/15/96
"RTN","ONCTPC8",2,0)
 ;;2.11;ONCOLOGY;**6,11;16**;Mar 07, 1995
"RTN","ONCTPC8",3,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCTPC8",4,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCTPC8",5,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCTPC8",6,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),IEN=ONCONUM
"RTN","ONCTPC8",7,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=Y
"RTN","ONCTPC8",8,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCTPC8",9,0)
 S DR=".04;.05;.06;.1;.12;3;9;18;20;22;24;26;29;32;33;34;34.1;34.2;37.1;37.2;37.3;38;19;50;51;51.2;53.2;54.2;58.1;58.2;58.3;59;70;71;71.1;71.2;71.3;71.4;81;82;83;85;86;87;88;89;308;400:446"
"RTN","ONCTPC8",10,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCTPC8",11,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCTPC8",12,0)
 D HDR W !?25,TABLE,!
"RTN","ONCTPC8",13,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCTPC8",14,0)
 W !,"ACCESSION NUMBER..................: ",ONC(165.5,IEN,.05) D P Q:EX=U
"RTN","ONCTPC8",15,0)
 W !,"SEQUENCE NUMBER...................: ",ONC(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCTPC8",16,0)
 W !,"POSTAL CODE AT DIAGNOSIS..........: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCTPC8",17,0)
 W !,"DATE OF BIRTH.....................: ",DOB D P Q:EX=U
"RTN","ONCTPC8",18,0)
 W !,"RACE..............................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCTPC8",19,0)
 W !,"SPANISH ORIGIN....................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCTPC8",20,0)
 W !,"SEX...............................: ",ONC(165.5,IEN,.1) D P Q:EX=U
"RTN","ONCTPC8",21,0)
 W !,"PRIMARY PAYOR AT DIAGNOSIS........: ",ONC(165.5,IEN,18) D P Q:EX=U
"RTN","ONCTPC8",22,0)
 W !,"FAMILY HISTORY OF THYROID CANCER..: ",ONC(165.5,IEN,400)
"RTN","ONCTPC8",23,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G PHNTC
"RTN","ONCTPC8",24,0)
 D P Q:EX=U
"RTN","ONCTPC8",25,0)
PHNTC W !!,"PERSONAL HISTORY OF NON-THYROID CANCER:" D P Q:EX=U
"RTN","ONCTPC8",26,0)
 W ! D P Q:EX=U
"RTN","ONCTPC8",27,0)
 W !,"  LYMPHOMA........................: ",ONC(165.5,IEN,401) D P Q:EX=U
"RTN","ONCTPC8",28,0)
 W !,"  CHILDHOOD MALIGNANCY............: ",ONC(165.5,IEN,402) D P Q:EX=U
"RTN","ONCTPC8",29,0)
 W !,"  OTHER...........................: ",ONC(165.5,IEN,308) D P Q:EX=U
"RTN","ONCTPC8",30,0)
 W ! D P Q:EX=U
"RTN","ONCTPC8",31,0)
 W !,"PRIOR EXPOSURE TO RADIATION.......: ",ONC(165.5,IEN,403) D P Q:EX=U
"RTN","ONCTPC8",32,0)
 W !,"PERSONAL HISTORY OF GOITER........: ",ONC(165.5,IEN,404) D P Q:EX=U
"RTN","ONCTPC8",33,0)
 W !,"FAMILY HISTORY OF THYROID DISEASE.: ",ONC(165.5,IEN,405) D P Q:EX=U
"RTN","ONCTPC8",34,0)
 W !,"PERSONAL HISTORY OF GRAVES DISEASE: ",ONC(165.5,IEN,406) D P Q:EX=U
"RTN","ONCTPC8",35,0)
 W !,"PERSONAL HISTORY OF THYROIDITIS...: ",ONC(165.5,IEN,406)
"RTN","ONCTPC8",36,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCTPC8",37,0)
 D P Q:EX=U
"RTN","ONCTPC8",38,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS/CANCER IDENTIFICATION"
"RTN","ONCTPC8",39,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCTPC8",40,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8",41,0)
 W !,"CLASS OF CASE.....................: ",ONC(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCTPC8",42,0)
 W !!,"SYMPTOMS/SIGNS PRESENT:",! D P Q:EX=U
"RTN","ONCTPC8",43,0)
 W !,"  DYSPHAGIA.......................: ",ONC(165.5,IEN,408) D P Q:EX=U
"RTN","ONCTPC8",44,0)
 W !,"  HOARSENESS OR VOICE CHANGE......: ",ONC(165.5,IEN,409) D P Q:EX=U
"RTN","ONCTPC8",45,0)
 W !,"  NECK NODAL MASS.................: ",ONC(165.5,IEN,410) D P Q:EX=U
"RTN","ONCTPC8",46,0)
 W !,"  PAIN, BONE......................: ",ONC(165.5,IEN,411) D P Q:EX=U
"RTN","ONCTPC8",47,0)
 W !,"  PAIN, NECK......................: ",ONC(165.5,IEN,412) D P Q:EX=U
"RTN","ONCTPC8",48,0)
 W !,"  PATHOLOGIC FRACTURE.............: ",ONC(165.5,IEN,413) D P Q:EX=U
"RTN","ONCTPC8",49,0)
 W !,"  STRIDOR/DIFFICULTY BREATHING....: ",ONC(165.5,IEN,414) D P Q:EX=U
"RTN","ONCTPC8",50,0)
 W !,"  THYROID MASS....................: ",ONC(165.5,IEN,415) D P Q:EX=U
"RTN","ONCTPC8",51,0)
 W !,"  WEIGHT LOSS.....................: ",ONC(165.5,IEN,416) D P Q:EX=U
"RTN","ONCTPC8",52,0)
 W !,"  OTHER...........................: ",ONC(165.5,IEN,417)
"RTN","ONCTPC8",53,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DSW
"RTN","ONCTPC8",54,0)
 D P Q:EX=U
"RTN","ONCTPC8",55,0)
DSW W !!,"DIAGNOISTIC/SURGICAL WORKUP:",! D P Q:EX=U
"RTN","ONCTPC8",56,0)
 W !,"  BONE SCAN.......................: ",ONC(165.5,IEN,418) D P Q:EX=U
"RTN","ONCTPC8",57,0)
 W !,"  CHEST X-RAY.....................: ",ONC(165.5,IEN,419) D P Q:EX=U
"RTN","ONCTPC8",58,0)
 W !,"  CT SCAN OF NECK.................: ",ONC(165.5,IEN,420) D P Q:EX=U
"RTN","ONCTPC8",59,0)
 W !,"  CT SCAN OF CHEST................: ",ONC(165.5,IEN,421) D P Q:EX=U
"RTN","ONCTPC8",60,0)
 W !,"  INCISIONAL BIOPSY...............: ",ONC(165.5,IEN,422) D P Q:EX=U
"RTN","ONCTPC8",61,0)
 W !,"  LARYNGOSCOPY....................: ",ONC(165.5,IEN,423) D P Q:EX=U
"RTN","ONCTPC8",62,0)
 W !,"  NECK X-RAY (AP & LATERAL........: ",ONC(165.5,IEN,424) D P Q:EX=U
"RTN","ONCTPC8",63,0)
 W !,"  NEEDLE ASPIRATION OF NECK NODE..: ",ONC(165.5,IEN,425) D P Q:EX=U
"RTN","ONCTPC8",64,0)
 W !,"  NEEDLE ASPIRATION OF THYROID....: ",ONC(165.5,IEN,426) D P Q:EX=U
"RTN","ONCTPC8",65,0)
 W !,"  MRI OF NECK.....................: ",ONC(165.5,IEN,427) D P Q:EX=U
"RTN","ONCTPC8",66,0)
 W !,"  THYROID SCAN....................: ",ONC(165.5,IEN,428) D P Q:EX=U
"RTN","ONCTPC8",67,0)
 W !,"  ULTRASOUND OF THYROID...........: ",ONC(165.5,IEN,429) D P Q:EX=U
"RTN","ONCTPC8",68,0)
 W !,"  OTHER...........................: ",ONC(165.5,IEN,430)
"RTN","ONCTPC8",69,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DOID
"RTN","ONCTPC8",70,0)
 D P Q:EX=U
"RTN","ONCTPC8",71,0)
DOID W !!,"DATE OF INITIAL DIAGNOSIS.........: ",ONC(165.5,IEN,3) D P Q:EX=U
"RTN","ONCTPC8",72,0)
 W !,"PRIMARY SITE (ICD-O-2)............: ",TOPCOD," ",ONC(165.5,IEN,20)
"RTN","ONCTPC8",73,0)
 W !,"HISTOLOGY/BEHAVIOR CODE (ICD-O-2).: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCTPC8",74,0)
 W !,"GRADE.............................: ",ONC(165.5,IEN,24) D P Q:EX=U
"RTN","ONCTPC8",75,0)
 W !,"BLOOD VESSEL INVASION.............: ",ONC(165.5,IEN,431) D P Q:EX=U
"RTN","ONCTPC8",76,0)
 W !,"EXTRA-THYROIDAL EXTENSION.........: ",ONC(165.5,IEN,432) D P Q:EX=U
"RTN","ONCTPC8",77,0)
 W !,"DIAGNOSTIC CONFIRMATION...........: ",ONC(165.5,IEN,26)
"RTN","ONCTPC8",78,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCTPC8",79,0)
 D P Q:EX=U
"RTN","ONCTPC8",80,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCTPC8",81,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCTPC8",82,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8",83,0)
 W !,"SIZE OF TUMOR (mm)................: ",ONC(165.5,IEN,29) D P Q:EX=U
"RTN","ONCTPC8",84,0)
 W !,"MULTIFOCAL........................: ",ONC(165.5,IEN,433) D P Q:EX=U
"RTN","ONCTPC8",85,0)
 W !,"REGIONAL NODES EXAMINED...........: ",ONC(165.5,IEN,33) D P Q:EX=U
"RTN","ONCTPC8",86,0)
 W !,"REGIONAL NODES POSITIVE...........: ",ONC(165.5,IEN,32) D P Q:EX=U
"RTN","ONCTPC8",87,0)
 W !,"LOCATION OF POSITIVE NODES........: ",ONC(165.5,IEN,434) D P Q:EX=U
"RTN","ONCTPC8",88,0)
 W !!,"SITE(S) OF DISTANT METASTASIS:",! D P Q:EX=U
"RTN","ONCTPC8",89,0)
 W !,"  SITE OF DISTANT METASTASIS #1...: ",ONC(165.5,IEN,34) D P Q:EX=U
"RTN","ONCTPC8",90,0)
 W !,"  SITE OF DISTANT METASTASIS #2...: ",ONC(165.5,IEN,34.1) D P Q:EX=U
"RTN","ONCTPC8",91,0)
 W !,"  SITE OF DISTANT METASTASIS #3...: ",ONC(165.5,IEN,34.2)
"RTN","ONCTPC8",92,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G AJCCCS
"RTN","ONCTPC8",93,0)
 D P Q:EX=U
"RTN","ONCTPC8",94,0)
AJCCCS W !!,"AJCC CLINICAL STAGE (cTNM):",! D P Q:EX=U
"RTN","ONCTPC8",95,0)
 W !,"  T-CODE........................: ",ONC(165.5,IEN,37.1) D P Q:EX=U
"RTN","ONCTPC8",96,0)
 W !,"  N-CODE........................: ",ONC(165.5,IEN,37.2) D P Q:EX=U
"RTN","ONCTPC8",97,0)
 W !,"  M-CODE........................: ",ONC(165.5,IEN,37.3) D P Q:EX=U
"RTN","ONCTPC8",98,0)
 W !,"  AJCC STAGE....................: ",ONC(165.5,IEN,38) D P Q:EX=U
"RTN","ONCTPC8",99,0)
AJCCPS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",! D P Q:EX=U
"RTN","ONCTPC8",100,0)
 W !,"  T-CODE........................: ",ONC(165.5,IEN,85) D P Q:EX=U
"RTN","ONCTPC8",101,0)
 W !,"  N-CODE........................: ",ONC(165.5,IEN,86) D P Q:EX=U
"RTN","ONCTPC8",102,0)
 W !,"  M-CODE........................: ",ONC(165.5,IEN,87) D P Q:EX=U
"RTN","ONCTPC8",103,0)
 W !,"  AJCC STAGE....................: ",ONC(165.5,IEN,88)
"RTN","ONCTPC8",104,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G SB
"RTN","ONCTPC8",105,0)
 D P Q:EX=U
"RTN","ONCTPC8",106,0)
SB W !!,"STAGED BY:",! D P Q:EX=U
"RTN","ONCTPC8",107,0)
 W !,"  CLINICAL STAGE................: ",ONC(165.5,IEN,19) D P Q:EX=U
"RTN","ONCTPC8",108,0)
 W !,"  PATHOLOGIC STAGE..............: ",ONC(165.5,IEN,89)
"RTN","ONCTPC8",109,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G IV
"RTN","ONCTPC8",110,0)
 D P Q:EX=U
"RTN","ONCTPC8",111,0)
IV D ^ONCTPC8A
"RTN","ONCTPC8",112,0)
KILL ;Kill Variables and Exit
"RTN","ONCTPC8",113,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCTPC8",114,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCTPC8",115,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCTPC8",116,0)
 Q
"RTN","ONCTPC8",117,0)
P ;Print
"RTN","ONCTPC8",118,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCTPC8",119,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCTPC8",120,0)
 .D HDR Q
"RTN","ONCTPC8",121,0)
 Q
"RTN","ONCTPC8",122,0)
TASK ;Queue a task
"RTN","ONCTPC8",123,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCTPC8",124,0)
 S ZTRTN="PRT^ONCTPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCTPC8",125,0)
 S ZTDESC="Print Thyroid PCE"
"RTN","ONCTPC8",126,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCTPC8",127,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCTPC8",128,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCTPC8",129,0)
HDR ;Header
"RTN","ONCTPC8",130,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCTPC8",131,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCTPC8",132,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCTPC8",133,0)
 W !?20," PCE Study of Thyroid Cancer"
"RTN","ONCTPC8",134,0)
 W ?59,ONDATE,!,DASHES
"RTN","ONCTPC8",135,0)
 Q
"RTN","ONCTPC8A")
0^2^B27189048
"RTN","ONCTPC8A",1,0)
ONCTPC8A ;HIRMFO/GWB -PCE Study of Thyroid Cancer -Print (continued) ;8/15/96
"RTN","ONCTPC8A",2,0)
 ;;2.11;ONCOLOGY;**6,15,16**;Mar 07, 1995
"RTN","ONCTPC8A",3,0)
 S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCTPC8A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCTPC8
"RTN","ONCTPC8A",5,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8A",6,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCTPC8A",7,0)
 W !,"FIRST COURSE TREATMENT DATE.......: ",DOIT D P Q:EX=U
"RTN","ONCTPC8A",8,0)
 W !!,"SURGERY:",! D P Q:EX=U
"RTN","ONCTPC8A",9,0)
 S NCDS=ONC(165.5,IEN,58.1)
"RTN","ONCTPC8A",10,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<45 S NCDS1=NCDS G CDS
"RTN","ONCTPC8A",11,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCTPC8A",12,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCTPC8A",13,0)
CDS S CDS=ONC(165.5,IEN,58.2)
"RTN","ONCTPC8A",14,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<45 S CDS1=CDS G S
"RTN","ONCTPC8A",15,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCTPC8A",16,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCTPC8A",17,0)
S W !,"  NON CANCER-DIRECTED SURGERY DATE: ",ONC(165.5,IEN,58.3) D P Q:EX=U
"RTN","ONCTPC8A",18,0)
 W !,"  NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?39,NCDS2 D P Q:EX=U
"RTN","ONCTPC8A",19,0)
 W !,"  SURGERY OF PRIMARY SITE DATE....: ",ONC(165.5,IEN,50) D P Q:EX=U
"RTN","ONCTPC8A",20,0)
 W !,"  DISCHARGE AFTER SURGERY DATE....: ",ONC(165.5,IEN,435) D P Q:EX=U
"RTN","ONCTPC8A",21,0)
 W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCTPC8A",22,0)
 W !,"  RESIDUAL PRIMARY TUMOR..........: ",ONC(165.5,IEN,59)
"RTN","ONCTPC8A",23,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 W !?15,TABLE_" (continued)" G SC
"RTN","ONCTPC8A",24,0)
 D P Q:EX=U
"RTN","ONCTPC8A",25,0)
SC W !!,"  SURGICAL COMPLICATIONS:",! D P Q:EX=U
"RTN","ONCTPC8A",26,0)
 W !,"    AIRWAY PROBLEM W TRACHEOSTOMY.: ",ONC(165.5,IEN,436) D P Q:EX=U
"RTN","ONCTPC8A",27,0)
 W !,"    BLEEDING HEMOTOMA.............: ",ONC(165.5,IEN,437) D P Q:EX=U
"RTN","ONCTPC8A",28,0)
 W !,"    HYPOCALCEMIA..................: ",ONC(165.5,IEN,438) D P Q:EX=U
"RTN","ONCTPC8A",29,0)
 W !,"    RECURRENT NERVE INJURY........: ",ONC(165.5,IEN,439) D P Q:EX=U
"RTN","ONCTPC8A",30,0)
 W !,"    WOUND INFECTION...............: ",ONC(165.5,IEN,440) D P Q:EX=U
"RTN","ONCTPC8A",31,0)
 W !!,"  POSTOPERATIVE DEATH W/I 30 DAYS.: ",ONC(165.5,IEN,441)
"RTN","ONCTPC8A",32,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 W !?15,TABLE_" (continued)" G R
"RTN","ONCTPC8A",33,0)
 D P Q:EX=U
"RTN","ONCTPC8A",34,0)
R W !!,"RADIATION:",! D P Q:EX=U
"RTN","ONCTPC8A",35,0)
 W !,"  DATE RADIATION STARTED..........: ",ONC(165.5,IEN,51) D P Q:EX=U
"RTN","ONCTPC8A",36,0)
 W !,"  RADIATION ......................: ",ONC(165.5,IEN,51.2) D P Q:EX=U
"RTN","ONCTPC8A",37,0)
 W !,"  REGIONAL RAD (cGy) DOSE.........: ",ONC(165.5,IEN,442) D P Q:EX=U
"RTN","ONCTPC8A",38,0)
 W !,"  BOOST DOSAGE....................: ",ONC(165.5,IEN,443) D P Q:EX=U
"RTN","ONCTPC8A",39,0)
 W !!,"  TOTAL MILLICURIES (mCi) OF RADIOIODINE:",! D P Q:EX=U
"RTN","ONCTPC8A",40,0)
 W !,"    INITIAL DOSE..................: ",ONC(165.5,IEN,444) D P Q:EX=U
"RTN","ONCTPC8A",41,0)
 W !,"    SECOND DOSE...................: ",ONC(165.5,IEN,445)
"RTN","ONCTPC8A",42,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 W !?15,TABLE_" (continued)" G C
"RTN","ONCTPC8A",43,0)
 D P Q:EX=U
"RTN","ONCTPC8A",44,0)
C W !!,"CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCTPC8A",45,0)
 W !,"  CHEMOTHERAPY....................: ",ONC(165.5,IEN,53.2) D P Q:EX=U
"RTN","ONCTPC8A",46,0)
 W !,"  ADJUVANT CHEMO W BEAM RADIATION.: ",ONC(165.5,IEN,446) D P Q:EX=U
"RTN","ONCTPC8A",47,0)
 W !!,"HORMONE THERAPY:",! D P Q:EX=U
"RTN","ONCTPC8A",48,0)
 W !,"  THYROID HORMONE THERAPY.........: ",ONC(165.5,IEN,54.2)
"RTN","ONCTPC8A",49,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 G V
"RTN","ONCTPC8A",50,0)
 D P Q:EX=U
"RTN","ONCTPC8A",51,0)
V S TABLE="TABLE V - FIRST RECURRENCE AND SUBSEQUENT TREATMENT"
"RTN","ONCTPC8A",52,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCTPC8
"RTN","ONCTPC8A",53,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8A",54,0)
 W !,"DATE OF FIRST RECURRENCE..........: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCTPC8A",55,0)
 W !,"TYPE OF FIRST RECURRENCE..........: ",ONC(165.5,IEN,71) D P Q:EX=U
"RTN","ONCTPC8A",56,0)
 W !,"OTHER TYPE OF FIRST RECURRENCE....: ",ONC(165.5,IEN,71.4) D P Q:EX=U
"RTN","ONCTPC8A",57,0)
ST I $D(^ONCO(165.5,IEN,4,0)) S SCTIEN=0 F CRSE=1:1 S SCTIEN=$O(^ONCO(165.5,IEN,4,SCTIEN)) Q:(SCTIEN'>0)!(CRSE=4)!(EX=U)  D SCT
"RTN","ONCTPC8A",58,0)
 G:EX=U KILL G DSOFR
"RTN","ONCTPC8A",59,0)
SCT S DIC="^ONCO(165.5,",DR=60,DA=IEN,DIQ="ONC"
"RTN","ONCTPC8A",60,0)
 S DR(165.51)=".01:32",DA(165.51)=SCTIEN D EN^DIQ1
"RTN","ONCTPC8A",61,0)
 S SURG=ONC(165.51,SCTIEN,.04),(SURG1,SURG2)=""
"RTN","ONCTPC8A",62,0)
 S LOS=$L(SURG) I LOS<62 S SURG1=SURG G TOS
"RTN","ONCTPC8A",63,0)
 S NOP=$L($E(SURG,1,61)," ")
"RTN","ONCTPC8A",64,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCTPC8A",65,0)
TOS S COURSE=$S(CRSE=1:"SECOND",CRSE=2:"THIRD",CRSE=3:"FOURTH",1:"")
"RTN","ONCTPC8A",66,0)
 W !!,"  ",COURSE," COURSE:",! D P Q:EX=U
"RTN","ONCTPC8A",67,0)
 W !,"  DATE...........: ",ONC(165.51,SCTIEN,.01) D P Q:EX=U
"RTN","ONCTPC8A",68,0)
 W !,"  SURGERY........: ",SURG1 W:SURG2'="" !,?22,SURG2 D P Q:EX=U
"RTN","ONCTPC8A",69,0)
 D P Q:EX=U
"RTN","ONCTPC8A",70,0)
 W !,"  RADIATION......: ",ONC(165.51,SCTIEN,.05) D P Q:EX=U
"RTN","ONCTPC8A",71,0)
 W !,"  CHEMOTHERAPY...: ",ONC(165.51,SCTIEN,.06) D P Q:EX=U
"RTN","ONCTPC8A",72,0)
 W !,"  HORMONE THERAPY: ",ONC(165.51,SCTIEN,.07)
"RTN","ONCTPC8A",73,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 W !?15,TABLE_" (continued)" Q
"RTN","ONCTPC8A",74,0)
 D P Q:EX=U
"RTN","ONCTPC8A",75,0)
 Q
"RTN","ONCTPC8A",76,0)
DSOFR W !!,"DISTANT SITE(S) OF FIRST RECURRENCE:",!
"RTN","ONCTPC8A",77,0)
 W !,"RECURRENCE SITE 1.................: ",ONC(165.5,IEN,71.1) D P Q:EX=U
"RTN","ONCTPC8A",78,0)
 W !,"RECURRENCE SITE 2.................: ",ONC(165.5,IEN,71.2) D P Q:EX=U
"RTN","ONCTPC8A",79,0)
 W !,"RECURRENCE SITE 3.................: ",ONC(165.5,IEN,71.3)
"RTN","ONCTPC8A",80,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 G VI
"RTN","ONCTPC8A",81,0)
 D P Q:EX=U
"RTN","ONCTPC8A",82,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCTPC8A",83,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCTPC8
"RTN","ONCTPC8A",84,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8A",85,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCTPC8A",86,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCTPC8A",87,0)
 W !,"DATE OF LAST CONTACT OR DEATH.....: ",DLC
"RTN","ONCTPC8A",88,0)
 W !,"VITAL STATUS......................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCTPC8A",89,0)
 S CS="" I $D(^ONCO(165.5,IEN,"TS","AA")) D
"RTN","ONCTPC8A",90,0)
 .S CSDAT=$O(^ONCO(165.5,IEN,"TS","AA",""))
"RTN","ONCTPC8A",91,0)
 .S CSIEN=$O(^ONCO(165.5,IEN,"TS","AA",CSDAT,""))
"RTN","ONCTPC8A",92,0)
 .S CSPNT=$P(^ONCO(165.5,IEN,"TS",CSIEN,0),U,2)
"RTN","ONCTPC8A",93,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCTPC8A",94,0)
 W !,"CANCER STATUS.....................: ",CS
"RTN","ONCTPC8A",95,0)
 W !,"AUTOPSY...........................: ",ONC(165.5,IEN,83) D P Q:EX=U
"RTN","ONCTPC8A",96,0)
 W !!,"COMPLETED BY......................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCTPC8A",97,0)
 W !,"REVIEWED BY CANCER COMMITTEE......: ",ONC(165.5,IEN,82) D P Q:EX=U
"RTN","ONCTPC8A",98,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC8A",99,0)
KILL ;Kill Variables and Exit
"RTN","ONCTPC8A",100,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN
"RTN","ONCTPC8A",101,0)
 Q
"RTN","ONCTPC8A",102,0)
P ;Display Data
"RTN","ONCTPC8A",103,0)
 I ($Y'<(LIN-4)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCTPC8A",104,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCTPC8A",105,0)
 .D HDR^ONCTPC8 Q
"RTN","ONCTPC8A",106,0)
 Q
"RTN","ONCUTX")
0^28^B42651740
"RTN","ONCUTX",1,0)
ONCUTX ;HINES CIOFO/GWB;UNKNOWN TREATMENT STUFFING; 08/27/97
"RTN","ONCUTX",2,0)
 ;;2.11;ONCOLOGY;**13,15,16**;Mar 07, 1995
"RTN","ONCUTX",3,0)
 ;==========================
"RTN","ONCUTX",4,0)
NCDS ;Non cancer-directed sugery
"RTN","ONCUTX",5,0)
 ;==========================
"RTN","ONCUTX",6,0)
 S $P(^ONCO(165.5,D0,3),U,31)=9999999
"RTN","ONCUTX",7,0)
 W !,"NON CANCER-DIRECTED SURG DATE.: 99/99/9999"
"RTN","ONCUTX",8,0)
 Q
"RTN","ONCUTX",9,0)
 ;==========================
"RTN","ONCUTX",10,0)
SUR ;Surgery of primary site
"RTN","ONCUTX",11,0)
 ;==========================
"RTN","ONCUTX",12,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,1)_"S"
"RTN","ONCUTX",13,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",14,0)
 S $P(^ONCO(165.5,DA,3),U,1)=9999999   ;50 ;SURGERY OF PRIMARY SITE DATE
"RTN","ONCUTX",15,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S")=""
"RTN","ONCUTX",16,0)
 S $P(^ONCO(165.5,DA,3),U,2)=""        ;50.1;SURGERY HOSPITAL
"RTN","ONCUTX",17,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),"^",1) I TOP="" Q
"RTN","ONCUTX",18,0)
 S SCG=$P($G(^ONCO(164,TOP,0)),"^",16) I SCG="" Q
"RTN","ONCUTX",19,0)
 ;SURGICAL APPROACH (FIELD #74)
"RTN","ONCUTX",20,0)
 F SA=0:0 S SA=$O(^ONCO(164,SCG,"SUA",SA)) Q:SA="B"  S LAST=SA
"RTN","ONCUTX",21,0)
 S $P(^ONCO(165.5,D0,3),"^",34)=LAST
"RTN","ONCUTX",22,0)
 ;SURGICAL MARGINS (#59)
"RTN","ONCUTX",23,0)
 F SM=0:0 S SM=$O(^ONCO(164,SCG,"SM5",SM)) Q:SM="B"  S LAST=SM
"RTN","ONCUTX",24,0)
 S $P(^ONCO(165.5,D0,3),"^",28)=LAST
"RTN","ONCUTX",25,0)
 ;SCOPE OF LYMPH NODE SURGERY (#138)
"RTN","ONCUTX",26,0)
 F SC=0:0 S SC=$O(^ONCO(164,SCG,"SC5",SC)) Q:SC="B"  S LAST=SC
"RTN","ONCUTX",27,0)
 S $P(^ONCO(165.5,D0,3),"^",40)=LAST
"RTN","ONCUTX",28,0)
 ;NUMBER OF NODES REMOVED (#140)
"RTN","ONCUTX",29,0)
 S $P(^ONCO(165.5,D0,3),"^",42)=99
"RTN","ONCUTX",30,0)
 ;RECONSTRUCTION/RESTORATION (#23)
"RTN","ONCUTX",31,0)
 F RR=0:0 S RR=$O(^ONCO(164,SCG,"RR5",RR)) Q:RR="B"  S LAST=RR
"RTN","ONCUTX",32,0)
 S $P(^ONCO(165.5,D0,3),"^",33)=LAST
"RTN","ONCUTX",33,0)
 S $P(^ONCO(165.5,DA,3),U,26)=9         ;58  ;REASON FOR NO SURGERY
"RTN","ONCUTX",34,0)
 ;
"RTN","ONCUTX",35,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",36,0)
 S DR="50;58;74;59;23;138;140" D EN^DIQ1
"RTN","ONCUTX",37,0)
 W !,"SURGERY OF PRIMARY SITE DATE..: "_ONC(165.5,DA,50,"E")
"RTN","ONCUTX",38,0)
 W !,"SURGICAL APPROACH.............: "_ONC(165.5,DA,74,"E")
"RTN","ONCUTX",39,0)
 W !,"SURGICAL MARGINS..............: "_$E(ONC(165.5,DA,59,"E"),1,40)
"RTN","ONCUTX",40,0)
 W !,"SCOPE OF LYMPH NODE SURGERY...: "_ONC(165.5,DA,138,"E")
"RTN","ONCUTX",41,0)
 W !,"NUMBER OF NODES REMOVED.......: "_ONC(165.5,DA,140,"E")
"RTN","ONCUTX",42,0)
 W !,"RECONSTRUCTION/RESTORATION....: "_ONC(165.5,DA,23,"E")
"RTN","ONCUTX",43,0)
 Q
"RTN","ONCUTX",44,0)
NODE ;
"RTN","ONCUTX",45,0)
 S $P(^ONCO(165.5,D0,3),"^",42)=99
"RTN","ONCUTX",46,0)
 W !,"NUMBER OF NODES REMOVED.......: Unknown, not stated, death certificate ONLY"
"RTN","ONCUTX",47,0)
 Q
"RTN","ONCUTX",48,0)
RAD ;Radiation
"RTN","ONCUTX",49,0)
 ;==========================
"RTN","ONCUTX",50,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,4)_"R"
"RTN","ONCUTX",51,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",52,0)
 S $P(^ONCO(165.5,DA,3),U,4)=9999999   ;51  ;RADIATION DATE
"RTN","ONCUTX",53,0)
 S ^ONCO(165.5,"ATX",DA,"9999999R")=""
"RTN","ONCUTX",54,0)
 S $P(^ONCO(165.5,DA,3),U,5)=""        ;51.1;RADIATION HOSPITAL
"RTN","ONCUTX",55,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,43)=0   ;442 ;REGIONAL DOSE:cGy
"RTN","ONCUTX",56,0)
 S $P(^ONCO(165.5,DA,3),U,20)=99       ;56  ;NUMBER OF TREATMENTS
"RTN","ONCUTX",57,0)
 S $P(^ONCO(165.5,DA,3),U,21)=42       ;125 ;RADIATION TREATMENT VOLUME
"RTN","ONCUTX",58,0)
 S $P(^ONCO(165.5,DA,3),U,22)=9        ;126 ;LOCATION OF RADIATION
"RTN","ONCUTX",59,0)
 S $P(^ONCO(165.5,DA,3),U,29)=9        ;127 ;INTENT OF RADIATION
"RTN","ONCUTX",60,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,18)=19  ;363 ;REGIONAL TREATMENT MODALITY
"RTN","ONCUTX",61,0)
 S $P(^ONCO(165.5,DA,3),U,7)=9         ;51.3;RADIATION/SURGERY SEQUENCE
"RTN","ONCUTX",62,0)
 S $P(^ONCO(165.5,DA,3),U,39)=1        ;128 ;RADIATION COMPLETION STATUS
"RTN","ONCUTX",63,0)
 S $P(^ONCO(165.5,DA,3.1),U,3)=9       ;132 ;RADIATION LOCAL CONTROL STATUS
"RTN","ONCUTX",64,0)
 K ^ONCO(165.5,DA,6)                   ;80  ;RADIATION TREATMENT
"RTN","ONCUTX",65,0)
 S $P(^ONCO(165.5,DA,3.1),U,1)=42      ;129 ;RADIATION AUXILIARY VOLUME
"RTN","ONCUTX",66,0)
 S $P(^ONCO(165.5,DA,3.1),U,2)=9999999 ;130 ;RADIATION AUXILIARY DATE
"RTN","ONCUTX",67,0)
 K ^ONCO(165.5,DA,15.1)                ;131 ;RADIATION AUXILIARY TEXT
"RTN","ONCUTX",68,0)
 K ^ONCO(165.5,DA,15)                  ;109 ;TEXT-RX-RAD (BEAM)
"RTN","ONCUTX",69,0)
 S $P(^ONCO(165.5,DA,3),U,35)=9        ;75  ;REASON FOR NO RADIATION
"RTN","ONCUTX",70,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",71,0)
 S DR="51;442;56;125;126;127;363;52.2;52;51.3;128;132;75"
"RTN","ONCUTX",72,0)
 D EN^DIQ1
"RTN","ONCUTX",73,0)
 W !,"RADIATION DATE................: "_ONC(165.5,DA,51,"E")
"RTN","ONCUTX",74,0)
 W !,"REGIONAL DOSE:cGy.............: "_ONC(165.5,DA,442,"E")
"RTN","ONCUTX",75,0)
 W !,"NUMBER OF TREATMENTS..........: "_ONC(165.5,DA,56,"E")
"RTN","ONCUTX",76,0)
 W !,"RADIATION TREATMENT VOLUME....: "_ONC(165.5,DA,125,"E")
"RTN","ONCUTX",77,0)
 W !,"LOCATION OF RADIATION.........: "_ONC(165.5,DA,126,"E")
"RTN","ONCUTX",78,0)
 W !,"INTENT OF RADIATION...........: "_ONC(165.5,DA,127,"E")
"RTN","ONCUTX",79,0)
 W !,"REGIONAL TREATMENT MODALITY...: "_ONC(165.5,DA,363,"E")
"RTN","ONCUTX",80,0)
 W !,"RADIATION/SURGERY SEQUENCE....: "_ONC(165.5,DA,51.3,"E")
"RTN","ONCUTX",81,0)
 W !,"RADIATION COMPLETION STATUS...: "_ONC(165.5,DA,128,"E")
"RTN","ONCUTX",82,0)
 W !,"RADIATION LOCAL CONTROL STATUS: "_ONC(165.5,DA,132,"E")
"RTN","ONCUTX",83,0)
 W !,"REASON FOR NO RADIATION.......: "_ONC(165.5,DA,75,"E")
"RTN","ONCUTX",84,0)
 K ONC Q
"RTN","ONCUTX",85,0)
 ;==========================
"RTN","ONCUTX",86,0)
CNS9 ;Radiation therapy to CNS
"RTN","ONCUTX",87,0)
 ;==========================
"RTN","ONCUTX",88,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,8)_"P"
"RTN","ONCUTX",89,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",90,0)
 S $P(^ONCO(165.5,DA,3),U,8)=9999999   ;52  ;RAD THERAPY TO CNS DATE
"RTN","ONCUTX",91,0)
 S ^ONCO(165.5,"ATX",DA,"9999999P")=""
"RTN","ONCUTX",92,0)
 S $P(^ONCO(165.5,DA,3),U,9)=""        ;52.1;RAD THERAPY TO CNS HOSP
"RTN","ONCUTX",93,0)
 K ^ONCO(165.5,DA,16)                  ;110 ;TEXT-RX-RAD/CNS
"RTN","ONCUTX",94,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",95,0)
 S DR="52" D EN^DIQ1
"RTN","ONCUTX",96,0)
 W !,"RADIATION THERAPY TO CNS DATE.: "_ONC(165.5,DA,52,"E")
"RTN","ONCUTX",97,0)
 K ONC Q
"RTN","ONCUTX",98,0)
 ;==========================
"RTN","ONCUTX",99,0)
CHE ;Chemotherapy
"RTN","ONCUTX",100,0)
 ;==========================
"RTN","ONCUTX",101,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,11)_"C"
"RTN","ONCUTX",102,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",103,0)
 S $P(^ONCO(165.5,DA,3),U,11)=9999999   ;53  ;CHEMOTHERAPY DATE
"RTN","ONCUTX",104,0)
 S ^ONCO(165.5,"ATX",DA,"9999999C")=""
"RTN","ONCUTX",105,0)
 S $P(^ONCO(165.5,DA,3),U,12)=""        ;53.1;CHEMOTHERAPY HOSPITAL
"RTN","ONCUTX",106,0)
 K ^ONCO(165.5,DA,17)                   ;111 ;TEXT-RX-CHEMO
"RTN","ONCUTX",107,0)
 S $P(^ONCO(165.5,DA,3),U,36)=9         ;76  ;REASON FOR NO CHEMOTHERAPY
"RTN","ONCUTX",108,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",109,0)
 S DR="53;76"
"RTN","ONCUTX",110,0)
 D EN^DIQ1
"RTN","ONCUTX",111,0)
 W !,"CHEMOTHERAPY DATE:............: "_ONC(165.5,DA,53,"E")
"RTN","ONCUTX",112,0)
 W !,"REASON FOR NO CHEMOTHERAPY....: "_ONC(165.5,DA,76,"E")
"RTN","ONCUTX",113,0)
 K ONC Q
"RTN","ONCUTX",114,0)
 ;==========================
"RTN","ONCUTX",115,0)
HOR ;Hormone therapy
"RTN","ONCUTX",116,0)
 ;==========================
"RTN","ONCUTX",117,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,14)_"H"
"RTN","ONCUTX",118,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",119,0)
 S $P(^ONCO(165.5,DA,3),U,14)=9999999   ;54  ;HORMONE THERAPY DATE
"RTN","ONCUTX",120,0)
 S ^ONCO(165.5,"ATX",DA,"9999999H")=""
"RTN","ONCUTX",121,0)
 S $P(^ONCO(165.5,DA,3),U,15)=""        ;54.1;HORMONE THERAPY HOSPITAL
"RTN","ONCUTX",122,0)
 K ^ONCO(165.5,DA,18)                   ;112 ;TEXT-RX-HORMONE
"RTN","ONCUTX",123,0)
 S $P(^ONCO(165.5,DA,3),U,37)=9         ;77  ;REASON FOR NO HT
"RTN","ONCUTX",124,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",125,0)
 S DR="54;77" D EN^DIQ1
"RTN","ONCUTX",126,0)
 W !,"HORMONE THERAPY DATE:.........: "_ONC(165.5,DA,54,"E")
"RTN","ONCUTX",127,0)
 W !,"REASON FOR NO HORMONE THERAPY.: "_ONC(165.5,DA,77,"E")
"RTN","ONCUTX",128,0)
 K ONC Q
"RTN","ONCUTX",129,0)
 ;==========================
"RTN","ONCUTX",130,0)
IMM ;Immunotherapy
"RTN","ONCUTX",131,0)
 ;==========================
"RTN","ONCUTX",132,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,17)_"B"
"RTN","ONCUTX",133,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",134,0)
 S $P(^ONCO(165.5,DA,3),U,17)=9999999   ;55  ;IMMUNOTHERAPY DATE
"RTN","ONCUTX",135,0)
 S ^ONCO(165.5,"ATX",DA,"9999999B")=""
"RTN","ONCUTX",136,0)
 S $P(^ONCO(165.5,DA,3),U,18)=""        ;55.1;IMMUNOTHERAPY HOSPITAL
"RTN","ONCUTX",137,0)
 K ^ONCO(165.5,DA,20)                   ;114 ;TEXT-RX-IMMUNOTHERAPY
"RTN","ONCUTX",138,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",139,0)
 S DR="55" D EN^DIQ1
"RTN","ONCUTX",140,0)
 W !,"IMMUNOTHERAPY DATE:...........: "_ONC(165.5,DA,55,"E")
"RTN","ONCUTX",141,0)
 K ONC Q
"RTN","ONCUTX",142,0)
 ;==========================
"RTN","ONCUTX",143,0)
OTH ;Other treatment
"RTN","ONCUTX",144,0)
 ;==========================
"RTN","ONCUTX",145,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,23)_"O"
"RTN","ONCUTX",146,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",147,0)
 S $P(^ONCO(165.5,DA,3),U,23)=9999999   ;57  ;OTHER TREATMENT DATE
"RTN","ONCUTX",148,0)
 S ^ONCO(165.5,"ATX",DA,"9999999O")=""
"RTN","ONCUTX",149,0)
 S $P(^ONCO(165.5,DA,3),U,24)=""        ;57.1;OTHER TREATMENT HOSPITAL
"RTN","ONCUTX",150,0)
 K ^ONCO(165.5,DA,21)                   ;115 ;TEXT-RX-OTHER
"RTN","ONCUTX",151,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",152,0)
 S DR="57" D EN^DIQ1
"RTN","ONCUTX",153,0)
 W !,"OTHER TREATMENT DATE:.........: "_ONC(165.5,DA,57,"E")
"RTN","ONCUTX",154,0)
 K ONC Q
"RTN","ONCUTX",155,0)
 ;==========================
"RTN","ONCUTX",156,0)
PRO ;Protocol
"RTN","ONCUTX",157,0)
 ;==========================
"RTN","ONCUTX",158,0)
 S $P(^ONCO(165.5,DA,"STS2"),U,31)=99   ;560 ;PROTOCOL PARTICIPATION
"RTN","ONCUTX",159,0)
 S $P(^ONCO(165.5,DA,3.1),U,4)="9999"   ;133 ;YEAR PUT ON PROTOCOL
"RTN","ONCUTX",160,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",161,0)
 S DR="133;560" D EN^DIQ1
"RTN","ONCUTX",162,0)
 W !,"PROTOCOL PARTICIPATION........: "_ONC(165.5,DA,560,"E")
"RTN","ONCUTX",163,0)
 W !,"YEAR PUT ON PROTOCOL..........: "_ONC(165.5,DA,133,"E")
"RTN","ONCUTX",164,0)
 K ONC Q
"RTN","ONCUTX",165,0)
EXIT W ! S Y="@113"
"VER")
8.0^21.0
"^DD",165.5,165.5,3.5,0)
YEAR DX^DC^^ ; ^S Y(165.5,3.5,1)=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") S X=$P(Y(165.5,3.5,1),U,16),X=X S X=X,X=$E(X,1,3)_"0000" S:'X X=""
"^DD",165.5,165.5,3.5,9)
^
"^DD",165.5,165.5,3.5,9.01)
165.5^3
"^DD",165.5,165.5,3.5,9.1)
YEAR(INTERNAL(DATE DX))
"^DD",165.5,165.5,3.5,21,0)
^^1^1^2980310^^^^
"^DD",165.5,165.5,3.5,21,1,0)
DATE DX (165.5,3) year
"^DD",165.5,165.5,3.5,"DT")
2980310
"^DD",165.5,165.5,50,0)
SURGERY OF PRIMARY SITE DATE^DXO^^3;1^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,50,1,0)
^.1
"^DD",165.5,165.5,50,1,1,0)
165.5^ATS^MUMPS
"^DD",165.5,165.5,50,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"S")=""
"^DD",165.5,165.5,50,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"S")
"^DD",165.5,165.5,50,1,1,"%D",0)
^^1^1^2960216^^^
"^DD",165.5,165.5,50,1,1,"%D",1,0)
Records *cancer-directed* surgery on the unified treatment index.
"^DD",165.5,165.5,50,1,1,"DT")
2960216
"^DD",165.5,165.5,50,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,50,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,50,3)
*** CANCER-DIRECTED SURGERY DATE MUST BE AFTER OR EQUAL TO DATE DX ***
"^DD",165.5,165.5,50,21,0)
^^4^4^2980121^^^^
"^DD",165.5,165.5,50,21,1,0)

"^DD",165.5,165.5,50,21,2,0)
CANCER-DIRECTED SURGERY DATE is the date that cancer-directed surgery
"^DD",165.5,165.5,50,21,3,0)
was performed.
"^DD",165.5,165.5,50,21,4,0)

"^DD",165.5,165.5,50,"DT")
2980311
"^DD",165.5,165.5,51,0)
RADIATION DATE^DXO^^3;4^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,51,1,0)
^.1
"^DD",165.5,165.5,51,1,1,0)
165.5^ATR^MUMPS
"^DD",165.5,165.5,51,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"R")=""
"^DD",165.5,165.5,51,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"R")
"^DD",165.5,165.5,51,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,51,1,1,"%D",1,0)
Records radiation date on the unified treatment index.
"^DD",165.5,165.5,51,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,51,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,51,3)
*** RADIATION DATE MUST BE AFTER OR EQUAL TO DATE DX ***
"^DD",165.5,165.5,51,21,0)
^^1^1^2970812^^^^
"^DD",165.5,165.5,51,21,1,0)
RADIATION DATE is the date the first course of radiation therapy was started.
"^DD",165.5,165.5,51,"DT")
2980311
"^DD",165.5,165.5,52,0)
RADIATION THERAPY TO CNS DATE^DXO^^3;8^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,52,.1)

"^DD",165.5,165.5,52,1,0)
^.1
"^DD",165.5,165.5,52,1,1,0)
165.5^ATP^MUMPS
"^DD",165.5,165.5,52,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"P")=""
"^DD",165.5,165.5,52,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"P")
"^DD",165.5,165.5,52,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,52,1,1,"%D",1,0)
Records brain/CNS radiation date on the unified treatment index.
"^DD",165.5,165.5,52,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,52,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,52,3)
*** RADIATION THERAPY TO CNS DATE MUST BE AFTER OR EQUAL TO DATE DX ***
"^DD",165.5,165.5,52,21,0)
^^5^5^2970523^^^^
"^DD",165.5,165.5,52,21,1,0)

"^DD",165.5,165.5,52,21,2,0)
FOR LUNG AND LEUKEMIA ONLY:  record the date radiation therapy
"^DD",165.5,165.5,52,21,3,0)
to the brain and CNS was initiated.
"^DD",165.5,165.5,52,21,4,0)
 
"^DD",165.5,165.5,52,21,5,0)
ALL OTHER SITES:  not a valid entry.
"^DD",165.5,165.5,52,"DT")
2980311
"^DD",165.5,165.5,53,0)
CHEMOTHERAPY DATE^DXO^^3;11^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,53,1,0)
^.1
"^DD",165.5,165.5,53,1,1,0)
165.5^ATC^MUMPS
"^DD",165.5,165.5,53,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"C")=""
"^DD",165.5,165.5,53,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"C")
"^DD",165.5,165.5,53,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,53,1,1,"%D",1,0)
Records chemotheraphy date on the unified treatment index.
"^DD",165.5,165.5,53,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,53,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,53,3)
*** CHEMOTHERAPY DATE MUST BE AFTER OR EQUAL TO DATE DX ***
"^DD",165.5,165.5,53,21,0)
^^3^3^2970919^^^^
"^DD",165.5,165.5,53,21,1,0)

"^DD",165.5,165.5,53,21,2,0)
Record the date first course of CHEMOTHERAPY was started.
"^DD",165.5,165.5,53,21,3,0)

"^DD",165.5,165.5,53,"DT")
2980311
"^DD",165.5,165.5,54,0)
HORMONE THERAPY DATE^DXO^^3;14^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,54,1,0)
^.1
"^DD",165.5,165.5,54,1,1,0)
165.5^ATH^MUMPS
"^DD",165.5,165.5,54,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"H")=""
"^DD",165.5,165.5,54,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"H")
"^DD",165.5,165.5,54,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,54,1,1,"%D",1,0)
Records hormone therapy date on the unified treatment index.
"^DD",165.5,165.5,54,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,54,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,54,3)
*** HORMONE THERAPY DATE MUST BE AFTER OR EQUAL TO DATE DX ***
"^DD",165.5,165.5,54,21,0)
^^3^3^2970919^^^
"^DD",165.5,165.5,54,21,1,0)

"^DD",165.5,165.5,54,21,2,0)
Record the date HORMONE THERAPY was started.
"^DD",165.5,165.5,54,21,3,0)

"^DD",165.5,165.5,54,"DT")
2980311
"^DD",165.5,165.5,55,0)
IMMUNOTHERAPY DATE^DXO^^3;17^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,55,.1)

"^DD",165.5,165.5,55,1,0)
^.1
"^DD",165.5,165.5,55,1,1,0)
165.5^ATB^MUMPS
"^DD",165.5,165.5,55,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"B")=""
"^DD",165.5,165.5,55,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"B")
"^DD",165.5,165.5,55,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,55,1,1,"%D",1,0)
Records biological response modifier date on the unified treatment index.
"^DD",165.5,165.5,55,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,55,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,55,3)
*** IMMUNOTHERAPY DATE MUST BE AFTER OR EQUAL TO DATE DX ***
"^DD",165.5,165.5,55,21,0)
^^2^2^2970523^^^
"^DD",165.5,165.5,55,21,1,0)

"^DD",165.5,165.5,55,21,2,0)
The date immunotherapy was started.
"^DD",165.5,165.5,55,"DT")
2980311
"^DD",165.5,165.5,57,0)
OTHER TREATMENT DATE^DXO^^3;23^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,57,.1)
Other treatment date
"^DD",165.5,165.5,57,1,0)
^.1
"^DD",165.5,165.5,57,1,1,0)
165.5^ATO^MUMPS
"^DD",165.5,165.5,57,1,1,1)
S ^ONCO(165.5,"ATX",DA,X_"O")=""
"^DD",165.5,165.5,57,1,1,2)
K ^ONCO(165.5,"ATX",DA,X_"O")
"^DD",165.5,165.5,57,1,1,"%D",0)
^^1^1^2930910^
"^DD",165.5,165.5,57,1,1,"%D",1,0)
Records other cancer-directed therapy date on the unified treatment index.
"^DD",165.5,165.5,57,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,57,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,57,3)
*** OTHER TREATMENT DATE MUST BE AFTER OR EQUAL TO DATE DX ***
"^DD",165.5,165.5,57,21,0)
^^5^5^2970812^^^^
"^DD",165.5,165.5,57,21,1,0)
Record the month, day, and year first course of other treatment was started.
"^DD",165.5,165.5,57,21,2,0)

"^DD",165.5,165.5,57,21,3,0)
Collecting dates for each treatment modality allows sequencing of multiple
"^DD",165.5,165.5,57,21,4,0)
treatments and aids evaluation of time intervals (from diagnosis to
"^DD",165.5,165.5,57,21,5,0)
treatment and from treatment to recurrence).
"^DD",165.5,165.5,57,"DT")
2980311
"^DD",165.5,165.5,130,0)
RADIATION AUXILIARY DATE^DXO^^3.1;2^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,130,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,130,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,130,"DT")
2980311
"^DD",165.5,165.5,133,0)
YEAR PUT ON PROTOCOL^F^^3.1;4^K:$L(X)>4!($L(X)<4)!'(X?4N) X
"^DD",165.5,165.5,133,3)
Answer must be a 4-digit year.
"^DD",165.5,165.5,133,21,0)
^^3^3^2980318^
"^DD",165.5,165.5,133,21,1,0)

"^DD",165.5,165.5,133,21,2,0)
Record the year in which the patient was entered into a protocol.
"^DD",165.5,165.5,133,21,3,0)

"^DD",165.5,165.5,133,"DT")
2980318
"^DD",165.5,165.5,136,0)
SERUM TUMOR MARKERS^SO^SX:Not available;S0:Normal;S1:LDH < 1.5XN, hCG < 5000 mIU/ml, AFP < 1000 ng/ml;S2:LDH 1.5-10XN or hCG 5000-50,000 mIu/ml or AFP 1000-10,000 ng/ml;S3:LDH > 10XN or hCG > 50,000 mIu/ml or AFP > 10,000 ng/ml;^24;8^Q
"^DD",165.5,165.5,136,2)
S Y(0)=Y S FILNUM=165.5,FLDNUM=136 D SOC^ONCOOT
"^DD",165.5,165.5,136,2.1)
S FILNUM=165.5,FLDNUM=136 D SOC^ONCOOT
"^DD",165.5,165.5,136,21,0)
^^16^16^2980128^^^^
"^DD",165.5,165.5,136,21,1,0)
Serum Tumor Markers (S)
"^DD",165.5,165.5,136,21,2,0)

"^DD",165.5,165.5,136,21,3,0)
SX  Marker studies not available or not performed
"^DD",165.5,165.5,136,21,4,0)
S0  Marker study levels within normal limits*
"^DD",165.5,165.5,136,21,5,0)
S1  LDH          < 1.5 X N   AND
"^DD",165.5,165.5,136,21,6,0)
    hCG (mIU/ml) < 5000      AND
"^DD",165.5,165.5,136,21,7,0)
    AFP (ng/ml)  < 1000
"^DD",165.5,165.5,136,21,8,0)
S2  LDH          1.5-10 X N  OR
"^DD",165.5,165.5,136,21,9,0)
    hCG (mIu/ml) 5000-50,000 OR
"^DD",165.5,165.5,136,21,10,0)
    AFP (ng/ml)  1000-10,000
"^DD",165.5,165.5,136,21,11,0)
S3  LDH          > 10 X N    OR
"^DD",165.5,165.5,136,21,12,0)
    hCG (mIu/ml) > 50,000    OR
"^DD",165.5,165.5,136,21,13,0)
    AFP (ng/ml)  > 10,000
"^DD",165.5,165.5,136,21,14,0)

"^DD",165.5,165.5,136,21,15,0)
N indicates the upper limit of normal for the LDH assay.
"^DD",165.5,165.5,136,21,16,0)
* Check with your laboratory for normal limits values.
"^DD",165.5,165.5,136,"DT")
2980129
**END**
**END**
