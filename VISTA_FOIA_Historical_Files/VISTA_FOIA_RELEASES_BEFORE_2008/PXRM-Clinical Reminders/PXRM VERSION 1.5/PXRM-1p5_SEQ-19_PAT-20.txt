$TXT Created by REDINGTON,PATRICK at DVF.FO-SLC.MED.VA.GOV  (KIDS) on Friday, 09/12/03 at 08:59
=============================================================================
Run Date: DEC 22, 2003                     Designation: PXRM*1.5*20
Package : PXRM - CLINICAL REMINDERS           Priority: Mandatory
Version : 1.5        SEQ #19                    Status: Released
                  Compliance Date: JAN 22, 2004
=============================================================================


Subject: CLINICAL REMINDERS INDEX SIZE ESTIMATE

Category: 
  - Routine

Description:
============

 General Overview:
 =================
 Clinical Reminders, along with Registration, Problem List, Vitals,
 Laboratory, Order Entry, Inpatient Medications, Pharmacy Data Management,
 Outpatient Pharmacy, PCE, Radiology, and Mental Health will be releasing a
 coordinated set of patches that creates an index of clinical data. This
 index will provide for very fast lookup of data for individual patients and
 for rapid creation of patient lists. 
 
 This index will be stored in a new global, ^PXRMINDX, which should be
 placed in its own volume set. The purpose of this patch (PXRM*1.5*20)
 is to help sites prepare for creating and managing this index global.
 This patch creates a utility that will estimate the initial size of the
 index global.
 
 The size estimation is made by a simple mathematical calculation. For each 
 global that is being indexed, the number of index entries is estimated. 
 This number is multiplied by the appropriate (blocks/index entry) factor 
 listed below to obtain the estimated number of blocks for that global. The 
 estimated sizes for each global are summed to give the total estimated 
 size.
 
 The blocks/index entry factors were determined using test site data,
 which included seven DSM sites and four Cache sites. The blocks/index
 entry factors used to make the estimates are listed in the following
 table. They are based on 2K blocks for Cache and 1K blocks for DSM.
 
 Global       Cache blocks/index entry  DSM blocks/index entry
 ------       ------------------------  ----------------------
 AUPNVCPT            0.022636608               0.07300721
 AUPNVXAM            0.02297879                0.079978059
 AUPNVHF             0.024028924               0.082573858
 AUPNVIMM            0.023919113               0.077488311
 AUPNVPED            0.023290489               0.080224754
 AUPNVPOV            0.022569777               0.071967779
 AUPNVSK             0.022938475               0.069942116
 AUPNPROB            0.023941427               0.07777772
 DGPT                0.034578654               0.099921811
 GMR(120.5)          0.01879364                0.063012241
 LR                  0.075656684               0.163250688
 OR(100)             0.046423473               0.136755671
 PS(55)              0.047974217               0.138609592
 PSRX                0.044820784               0.138842661
 RADPT               0.053003195               0.136531655
 YTD(601.2)          0.04392942                0.111356128
 
 Once PXRM*1.5*20 is been installed, you obtain the size estimate by typing
 D ESTTASK^PXRMISE at the programmer prompt. This will start a TaskMan job
 that will make the estimate and send the results in a MailMan message to
 the members of the mail group defined in the MAILGROUP FOR ERRORS field
 [#3] of the CLINICAL REMINDERS PARAMETER file (#800). The estimate is
 accurate within +/- 10%. The person installing the patch should be a
 member of the mail group or the mail group should be public, otherwise the
 message will not get delivered. 
 
 The most recent version of Cache allows for 8K blocks but this is such a 
 recent development that we only have data from one site on how this affects 
 the number of blocks used by the index. Although the block size is 4 times 
 larger the number of blocks used does not decrease by a factor of 4. The 
 actual factors from the site are listed in the following table:
 
 GLOBAL       8K/2K ratio
 --------     -----------
 AUPNVCPT     0.271785247
 AUPNVXAM     0.264406778
 AUPNVHF      0.278490736
 AUPNVIMM     0.274459581
 AUPNVPED     0.278307394
 AUPNVPOV     0.273993058
 AUPNVSK      0.233333335
 AUPNPROB     0.274497225
 DGPT         0.267342968
 GMR(120.5)   0.286588517
 LR           0.260255854
 OR(100)      0.260094978
 PS(55)        no data
 PSRX         0.258578069
 RADPT        0.26021053
 YTD(601.2)   0.279747291
 Average      0.268139437
 
 If you are using 8K blocks to store the index global you can multiply the 
 predicted number of blocks by the above factors to get an estimate of the 
 number of 8K blocks that will be used.
 
 Build Components:
 =================
 
  Routines:
  =========
  The following is a list of the routines included in this patch. The 
  second line of each routine looks like:
 
 <tab>;;1.5;CLINICAL REMINDERS;**[Patch List]**;Jun 19, 2000
 
  Routine         Old Checksum    New Checksum     Patch List
  =======         ============    ============     ==========
  PXRMISE             N/A            7780862           20
  PXRMISF             N/A            1555000           20
  PXRMLABS            N/A            6625584           20
 
 
 Installation:
 =============
 This patch can be loaded with users on the system. Installation will take
 less than 2 minutes.
 
 1. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.
 
 2. On the KIDS menu under the 'INSTALLATION' menu, use the following
    options, as desired:
        Print Transport Global
        Compare Transport Global to Current System
        Verify Checksums in Transport Global
        Backup a Transport Global
 
 3. On the KIDS menu under the 'INSTALLATION' menu, use the following
    option to install the patch:
        Install Package(s) (PXRM*1.5*20)
 
 4. When prompted "Want KIDS to INHIBIT LOGONs during the install? YES//",
    respond 'NO'.
 
 5. When prompted "Want to DISABLE Scheduled Options, Menu Options,
    and Protocols? YES//," respond 'NO'.
 
 6. When prompted 'Delay Install (Minutes):  (0-60): 0//; respond '0'.
 
 7. After PXRM*1.5*20 has been installed, you must type D ESTTASK^PXRMISE at
    the programmer prompt to obtain the size estimate. This will start a
    TaskMan job that will calculate the estimate and send the results in a
    MailMan message to the members of the mail group defined in the MAILGROUP 
    FOR ERRORS field [#3] of the CLINICAL REMINDERS PARAMETER file (#800).

Routine Information:
====================

Routine Name:
  - PXRMISE


Routine Checksum:

Routine Name:
  - PXRMISF


Routine Checksum:

Routine Name:
  - PXRMLABS


Routine Checksum:

=============================================================================
User Information:
Entered By  : REDINGTON,PATRICK             Date Entered  : SEP 10, 2003
Completed By: HOANG,CATHERINE               Date Completed: DEC 22, 2003
Released By : BELSCHWINDER,MICHAEL          Date Released : DEC 22, 2003
=============================================================================


Packman Mail Message:
=====================

$END TXT
