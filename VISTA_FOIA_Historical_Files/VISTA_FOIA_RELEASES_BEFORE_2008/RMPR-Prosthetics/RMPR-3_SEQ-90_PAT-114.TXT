$TXT Created by ZEIGLER,EDWARD L at DEVVII.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 09/06/05 at 12:27
=============================================================================
Run Date: SEP 19, 2005                     Designation: RMPR*3*114
Package : RMPR - PROSTHETICS                  Priority: Mandatory
Version : 3        SEQ #90                      Status: Released
                  Compliance Date: OCT 20, 2005
=============================================================================

Associated patches: (v)RMPR*3*78   <<= must be installed BEFORE `RMPR*3*114'

Subject: SUBSCRIPT ERROR/PCE ERROR MESSAGE

Category: 
  - Routine

Description:
============

 This patch resolves two issues identified in the Prosthetics package.
  
 When a user is reconciling/closing out a purchase card transaction with  
 more than one item the system may hang at the Shipment Date prompt and  
 error out with a subscript error (GETDT+7^RMPR4E23).  With the install of 
 this patch the system will no longer hang for a long time and will no 
 longer error out.
  
 With the release of CIDC (RMPR*3*78) the Prosthetics to PCE error message 
 lost some detail as to what exactly caused the error such as "???? The 
 Provider does not have an ACTIVE person class!  during the nightly PCE 
 data feed.  With the install of this patch the details of the error will 
 be restored to the MailMan  message.
  
  
  
 Technical Description
 ---------------------
 RMPR4E21 and RMPR4E23 are being modified to check for DA'="" to avoid 
 erroring out.  If DA is null the routines will no longer prompt for 
 additional shipment dates that could not be filed.
  
 RMPRPCEA and RMPRPCEB are being modified to restore the details of the 
 PCE filing error in the nightly Prosthetics PCE MailMan message.  The 
 Newing and Killing of a variable was rearranged to resolve this issue.
  
  
   ASSOCIATED Remedy:
   =======================
   1. HD99925   Station: BOSTON H, File #660 IEN=683345 - Error in PCE
   
   ASSOCIATED E3R(s):
   ==================
   N/A
     
   PARTICIPATING TEST SITES:
   =========================
   Loma Linda, CA
   Boston, MA
  
  
         ================INSTALLATION INSTRUCTIONS =================
   
 If installed during the normal workday, it is recommended that the
 following menu options (File #19) and all of their descendants be disabled
 to prevent possible conflicts while running the KIDS Install. Other VISTA
 users will not be affected.
   
     Reconcile/Close Out Purchase Card Transaction [RMPR4 CLOSE OUT]
  
 It is also recommended this patch not be installed while the PROSTHETICS 
 PCE BACKGROUND TASK [RMPR PCE BACKGROUND TASK] is running.  If the 
 install is queued to run at night make sure it is not queued to run when 
 the nightly job is scheduled.
   
   
  Install Time - 2 minutes
   
   
    1.   LOAD TRANSPORT GLOBAL
         ---------------------
         Choose the PackMan message containing this patch and invoke the
         INSTALL/CHECK MESSAGE PackMan option.
   
    2.   COMPONENTS SENT WITH PATCH
         ------------------------
         The following is a list of the routines included in this patch.
         The second line of each of these routines now looks like:
   
               3.0;PROSTHETICS;**[patch list]**;Feb 09, 1996
   
                             CHECK^XTSUMBLD results
   
     Routine       Before Patch     After Patch    Patch List
     --------      ------------     -----------    ----------
     RMPR4E21        22573686         22583155     3,12,26,28,30,34,41,45,
                                                   62,111,78,114
     RMPR4E23         1573568          1577432     78,114
     RMPRPCEA        10196139         10165049     62,82,78,114
     RMPRPCEB         6619677          6669351     62,69,77,82,78,114
   
            Total number of routines - 4
   
    3.   START UP KIDS
         -------------
         Start up the Kernel Installation and Distribution System Menu
         [XPD MAIN]:
   
              Edits and Distribution ...
              Utilities ...
              Installation ...
   
    Select Kernel Installation & Distribution System Option: INStallation
                                                             ---
              Load a Distribution
              Print Transport Global
              Compare Transport Global to Current System
              Verify Checksums in Transport Global
              Install Package(s)
              Restart Install of Package(s)
              Unload a Distribution
              Backup a Transport Global
   
    Select Installation Option:
   
    4.   Select Installation Option:
         --------------------------
         NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
                NAME, enter RMPR*3.0*114):
   
         a.  Backup a Transport Global - This option will create a backup
             message of any routines exported with this patch. It will not
             backup any other changes such as DD's or templates.
         b.  Compare Transport Global to Current System - This option will
             allow you to view all changes that will be made when this patch
             is installed.  It compares all components of this patch
             (routines, DD's, templates, etc.).
         c.  Verify Checksums in Transport Global - This option will allow
             you to ensure the integrity of the routines that are in the
             transport global.
   
    5.   Select Installation Option: Install Package(s)
                                     ----------------
         **This is the step to start the installation of this KIDS patch:
   
        a.  Choose the Install Package(s) option to start the patch install.
        b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
            YES//' answer NO (unless otherwise indicated)
        c.  When prompted 'Want to DISABLE Scheduled Options, Menu
            Options, and Protocols? YES//' answer YES (unless otherwise
            indicated)
        d.  When prompted 'Enter options you wish to mark as 'Out Of
            Order':'  Enter the following options:
  
   
          Reconcile/Close Out Purchase Card Transaction [RMPR4 CLOSE OUT]
   
  
        e.  When prompted 'Enter protocols you wish to mark as 'Out Of
            Order':' press <return>.

Routine Information:
====================

Routine Name:
  - RMPR4E23


Routine Checksum:

Routine Name:
  - RMPRPCEA


Routine Checksum:

Routine Name:
  - RMPRPCEB


Routine Checksum:

Routine Name:
  - RMPR4E21


Routine Checksum:

=============================================================================
User Information:
Entered By  : ZEIGLER,EDWARD L              Date Entered  : AUG 23, 2005
Completed By: LYNCH,MARY F.                 Date Completed: SEP 19, 2005
Released By : DIETRICH,JON                  Date Released : SEP 19, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
