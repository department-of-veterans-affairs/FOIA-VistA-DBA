$TXT Created by WESLEY,PAUL at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 02/03/05 at 12:41
=============================================================================
Run Date: MAR 17, 2005                     Designation: RA*5*54
Package : RA - RADIOLOGY/NUCLEAR MEDICINE     Priority: Mandatory
Version : 5        SEQ #48                      Status: Released
                  Compliance Date: APR 17, 2005
=============================================================================

Associated patches: (v)RA*5*25     <<= must be installed BEFORE `RA*5*54'
                    (v)RA*5*50     <<= must be installed BEFORE `RA*5*54'

Subject: RADIOLOGY PROCEDURE MESSAGE EDIT, HL7 RESEND

Category: 
  - Routine

Description:
============

 This patch address two problems:
  
 1)      A RAD/NUC MED PROCEDURE MESSAGE file (#71.4) entry may be edited 
 by more than one user at a time with the Procedure Message Entry/Edit
 [RA PROCMSGEDIT] option.
  
 2)      The Resend Radiology HL7 Message [RA HL7 MESSAGE RESEND] option
 is missing the 'exam registered' HL7 messages in subsequent cases after
 the first case.
  
 ASSOCIATED NOIS:
 ================
 REN-0904-60917  Multiple users editing the same RAD/NUC MED PROCEDURE
 MESSAGE file (#71.4) entries.
  
 LON-0704-60702  Missing 'exam registered' messages when resending 
 HL7 messages.
  
 ASSOCIATED E3R(s):
 ==================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 Long Beach, CA
 Puget Sound HCS
 VA Greater Los Angeles
  
 NOIS OVERVIEW:
 ==============
 1. REN-0904-60917       Multiple user editing the same RAD/NUC
 MED PROCEDURE MESSAGE file (#71.4) entries.
  
  
    Problem:
    --------
 Several users are allowed to edit the same RAD/NUC MED PROCEDURE 
 MESSAGE file (#71.4) entry with the Procedure Message Entry/Edit
 [RA PROCMSGEDIT] option.
  
    Resolution:
    -----------
 Data lock checks have been put into place to prevent multiple editing of
 the same entry in the RAD/NUC MED PROCEDURE MESSAGE file (#71.4).
  
 2. LON-0704-60702       Missing 'exam registered' messages when resending 
 HL7 messages.
  
    Problem:
    --------
 The subsequent case 'exam registered' messages are missing from the
 Resend Radiology HL7 Message [RA HL7 MESSAGE RESEND] option.
  
    Resolution:
    -----------
 The setting of an unnecessary variable that was blocking subsequent 
 message generation in now being bypassed.
  
 TECHNICAL:
 ==========
 Routine RAMAIN now includes global locking tests to insure no other users 
 are attempting to edit the same entry in the RAD/NUC MED PROCEDURE 
 MESSAGE file (#71.4).
  
 Routines RAHLRS and RAHLRPC have been modified to skip the setting of the 
 variable RAEXMDUN when processing 'exam registered' messages.
  
 DOCUMENTATION:
 ==============
 There is no associated documentation for this patch.
  
 ROUTINE SUMMARY 
 ===============
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like: 
  
   <tab>;; 5.0;Radiology/Nuclear Medicine;**[PATCH LIST]**;Mar 16, 1998
  
                        CHECK^XTSUMBLD results
 Routine name      Before Patch        After Patch       Patch List
 ============      ============        ===========       ===========
 RAHLRPC           3249523             3309397           12,25,54
 RAHLRS            3507495             3512870           25,54
 RAMAIN            11581978            12095447          31,43,50,54
  
 INSTALLATION INSTRUCTIONS
 =========================
 This patch can be loaded with users in the system.  Installation time
 will be less than one minute. 
  
  Select Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
   
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
   
      Select Kernel Installation & Distribution System Option: Installation
                                                               ---
           1      Load a Distribution
           2      Verify Checksums in Transport Global
           3      Print Transport Global
           4      Compare Transport Global to Current System
           5      Backup a Transport Global
           6      Install Package(s)
                  Restart Install of Package(s)
                  Unload a Distribution
  
  5.  From this menu, you may elect to use the following options
      (When prompted for the INSTALL NAME, enter RA*5.0*54):
      
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will
          not backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option
          will allow you to view all changes that will be made when
          this patch is installed.  It compares all components of this
          patch (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will
          allow you to ensure the integrity of the routines that are
          in the transport global.
  
  6.  Use the Install Package(s) option and select the package
      RA*5.0*54.
  
      a.  When prompted 'Want KIDS to INHIBIT LOGONs during the
          install? YES//', answer NO.
      b.  When prompted 'Want to DISABLE Scheduled Options and Menu 
          Options and Protocols? YES//', answer YES.
  
           Disable the following options: 
             Procedure Message Entry/Edit [RA PROCMSGEDIT]
             Resend Radiology HL7 Message [RA HL7 MESSAGE RESEND]
  
  7.  (DSM for Open VMS sites only) Optional - Include the routines
      distributed with this patch in the mapped routine set.
  
      NOTE: This step is only necessary if you performed step 3 or if
      you wish to include the routines in your mapped set.
  
  
 INSTALLATION EXAMPLE:
 ===================== 
   
    1      Load a Distribution
    2      Verify Checksums in Transport Global
    3      Print Transport Global
    4      Compare Transport Global to Current System
    5      Backup a Transport Global
    6      Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME:    RA*5.0*54     Loaded from Distribution
 3/16/05@11:25:37
      => RA*5*54 TEST v3
  
 This Distribution was loaded on Mar 16, 2005@11:25:37 with header of 
    RA*5*54 TEST v3
    It consisted of the following Install(s):
       RA*5.0*54
 Checking Install for Package RA*5.0*54
  
 Install Questions for RA*5.0*54
  
  
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// 
  
 Enter options you wish to mark as 'Out Of Order': RA PROCMSGEDIT       
 Procedure Message Entry/Edit
  
 Enter options you wish to mark as 'Out Of Order': RA HL7 MESSAGE 
 RESEND       Re send Radiology HL7 Message
  
 Enter options you wish to mark as 'Out Of Order': 
  
 Enter protocols you wish to mark as 'Out Of Order': 
  
 Delay Install (Minutes):  (0-60): 0// 
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   UCX/TELNET
  
                                    
 RA*5.0*54                                    
 ------------------------------------------------------------------------
  
  Install Started for RA*5.0*54 : 
                Mar 16, 2005@11:28:15
  
 Build Distribution Date: Feb 03, 2005
  
  Installing Routines:
                Mar 16, 2005@11:28:15
  
  Updating Routine file...
  
  Updating KIDS files...
  
  RA*5.0*54 Installed. 
                Mar 16, 2005@11:28:15
  
  Install Message sent #66997
  
 --------------------------------------------------------------------------
  
 Install Completed

Routine Information:
====================

Routine Name:
  - RAMAIN


Routine Checksum:

Routine Name:
  - RAHLRS


Routine Checksum:

Routine Name:
  - RAHLRPC


Routine Checksum:

=============================================================================
User Information:
Entered By  : WESLEY,PAUL                   Date Entered  : JUL 27, 2004
Completed By: CROSSMAN,PAM                  Date Completed: MAR 16, 2005
Released By : THORNTON,NANCY                Date Released : MAR 17, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
