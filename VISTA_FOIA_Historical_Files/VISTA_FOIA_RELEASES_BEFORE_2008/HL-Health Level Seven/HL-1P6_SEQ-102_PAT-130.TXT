$TXT Created by MOORE,JIM at NXT.KERNEL.FO-OAKLAND.MED.VA.GOV  (KIDS) on Monday, 12/05/05 at 09:26
=============================================================================
Run Date: DEC 27, 2005                     Designation: HL*1.6*130
Package : HL - HEALTH LEVEL SEVEN             Priority: Mandatory
Version : 1.6       SEQ #102                    Status: Released
                  Compliance Date: JAN 27, 2006
=============================================================================

Associated patches: (v)HL*1.6*126  <<= must be installed BEFORE `HL*1.6*130'

Subject: HLO STATISTICS AND ON/OFF SWITCH

Category: 
  - Enhancement (Mandatory)
  - Routine

Description:
============

  This patch provides two enhancements to HLO.  These new features affect only
  the new HLO software that was released in patch HL*1.6*126. It does NOT
  affect messages produced by the 'old' HL7 1.6 software, which still accounts
  for the vast majority of VistA's HL7 messaging activity.  
   
   1) A new message statistics report for the HL7 Optimized (HLO) software.
   Statistics are maintained in a new global, ^HLSTATS.  The only statistics
   kept are message counts by application over hourly, daily, and monthly
   periods. The global will remain quite small, as only the monthly statistics
   are kept permanently.  Hourly statistics are purged after 48 hours and daily
   statistics are purged after 31 days. No special effort is needed to create
   the global.  Journaling is NOT required, though it could be without adverse
   effects. 
  
   To produce a messages statistics report, a new option HLO MESSAGE STATISTICS
   [HLO MESSAGE STATISTICS] located on the HLO MAIN MENU. In addition, the 
   daily totals of messages sent and received have been added to the Brief
   System Overview screen of the HLO System Monitor.
 
   2) A new field, SHUTDOWN OUTGOING HLO MESSAGES (#16), has been added to the
   HL Logical Link file (#870) to  serve as an on/off switch for outgoing
   HLO messages to a particular link.  It is anticipated that its primary
   use will be in setting up test environments to prevent messages from
   accidentally 'leaking' out of the test system.
 
  To use this new functionality:
  
  Step 1: Use the HLO System Monitor option.
  Step 2: Select the Down links action on that screen.
          This will produce a list of links that are known to be down -
          either deliberately shutdown or inactive due to communications
          problems. The links that have been deliberately shutdown are
          annotated with the word 'SHUTDOWN'.
  Step 3: Use the action SHUTDOWN LINK to stop messages from being transmitted
          over a particular link.  Applications may continue to create messages
          for that link, but they will not be transmitted.  The count of
          messages pending transmission over that link will build up. 
  Step 4: Use the action RESTART LINK to reenable transmission of messages over
          that link.
 
  In addition, the list of Down Links has been added to the Brief System
  Overview screen of the HLO System Monitor.
 
  Test sites:
  ===========
  CMOP-NAT
  Montana HCS
  West Palm Beach
  Oklahoma City
  
  
  REMEDY:  none
  =====
   
   
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
  
                            CHECK^XTSUMBLD results
  Routine name      Before Patch      After Patch    Patch List
  ============      ============      ===========    ==========
  HLOCLNT              16771796         17315711       126,130
  HLOCLNT1              7133917          7474141       126,130
  HLOCLNT2              5582950          7656358       126,130
  HLOSRVR              17845812         18454241       126,130
  HLOSRVR1             16949751         18207361       126,130
  HLOSTAT                 NA            13784615         130
  HLOTLNK               3770582          4085432       126,130
  HLOUSR               18703118         19476594       126,130
  HLOUSRA                 NA             4032601         130
  
  
  INSTALLATION INSTRUCTIONS
  =========================
    1.  Users are allowed to be on the system during the installation.
    
    2.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
        option will load the KIDS package onto your system.
  
    3.  Use the STOP HLO action of the HLO System Monitor option to
        temporarily stop the transmission of HLO messages. 
  
    4.  The next step is to use KIDS to install the Transport global.  On
        the KIDS menu, under the 'Installation' menu, use the following
        options:
  
           Verify Checksums in Transport Global
           Print Transport Global 
           Compare Transport Global to Current System 
           Backup a Transport Global
           Install Package(s) 
  
        When using the Install Package(s) menu option to install the 
        patch build, you will be asked several questions.  The questions,
        and the answers you should supply, are shown below.
  
        INSTALL NAME: <HL*1.6*130>
        Want KIDS to Rebuild Menu Trees Upon Completion of Install?  YES// <NO>
        Want KIDS to INHIBIT LOGONS during the install?  <NO>
        Want to DISABLE Scheduled Options, Menu Options,
          and Protocols?  <NO>
 
    5.  Use the START HLO action of the HLO System Monitor option to 
        resume transmission of HLO messages. NOTE: statistics will start
        gathering in the new ^HLSTATS global as of this point. The global
        will be created automatically on Cache systems the first time it
        is referenced.
 
 
 
 
 
 
 

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: HLOCLNT
    Before: B65447935  After: B55768085  **126,130**
Routine Name: HLOCLNT1
    Before: B25822354  After: B27548481  **126,130**
Routine Name: HLOCLNT2
    Before: B12124771  After: B23345410  **126,130**
Routine Name: HLOSRVR
    Before: B67857069  After: B70554107  **126,130**
Routine Name: HLOSRVR1
    Before: B62638202  After: B65124218  **126,130**
Routine Name: HLOSTAT
    Before:            After: B55434883  **130**
Routine Name: HLOTLNK
    Before: B15931185  After: B20724359  **126,130**
Routine Name: HLOUSR
    Before: B88426707  After: B88410850  **126,130**
Routine Name: HLOUSRA
    Before:            After: B10710992  **130**

=============================================================================
User Information:
Entered By  : MOORE,CHARLES J               Date Entered  : OCT 14, 2005
Completed By: SINGH,GURBIR                  Date Completed: DEC 21, 2005
Released By : GAYFIELD,LISA                 Date Released : DEC 27, 2005
=============================================================================


Packman Mail Message:
=====================

$END TXT
