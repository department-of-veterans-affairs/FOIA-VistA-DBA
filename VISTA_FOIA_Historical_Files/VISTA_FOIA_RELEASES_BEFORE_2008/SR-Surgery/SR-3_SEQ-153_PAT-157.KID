Released SR*3*157 SEQ #153
Extracted from mail message
**KIDS**:SR*3.0*157^

**INSTALL NAME**
SR*3.0*157
"BLD",5955,0)
SR*3.0*157^SURGERY^0^3060912^y
"BLD",5955,1,0)
^^20^20^3060830^^
"BLD",5955,1,1,0)
1. The Surgery-Tracking Prosthesis Items project enhances the Surgery
"BLD",5955,1,2,0)
   software, adding new fields to the PROSTHESIS INSTALLED sub-file
"BLD",5955,1,3,0)
   (#130.01) in the SURGERY file (#130). These new fields will
"BLD",5955,1,4,0)
   function to mark the prosthesis item as sterile and record the
"BLD",5955,1,5,0)
   expiration date of the sterile implant. The information entered into
"BLD",5955,1,6,0)
   these fields will display on the Nurse Intraoperative Report. As an
"BLD",5955,1,7,0)
   added safety/quality measure, the new fields will be mandatory for
"BLD",5955,1,8,0)
   signing the Nurse Intraoperative Report. The report cannot be signed
"BLD",5955,1,9,0)
   until all documentation is completed.
"BLD",5955,1,10,0)
 
"BLD",5955,1,11,0)
2. Unrelated to the Prosthesis features, the trigger event for
"BLD",5955,1,12,0)
   discontinuing orders will be moved from the TIME PAT OUT OR field
"BLD",5955,1,13,0)
   (#.232) of the SURGERY file (#130) to the TIME PAT IN OR field (#.205)
"BLD",5955,1,14,0)
   of the SURGERY file (#130). This enhancement is required as part of
"BLD",5955,1,15,0)
   the Documenting Preoperative Antibiotics (Gainesville Solution)
"BLD",5955,1,16,0)
   project.
"BLD",5955,1,17,0)
 
"BLD",5955,1,18,0)
3. On the Nurse Intraoperative Report, replace references to CORRECT
"BLD",5955,1,19,0)
   SURGERY COMMENTS to TIME OUT VERIFIED COMMENTS, IMAGING CONFIRMED
"BLD",5955,1,20,0)
   COMMENTS, and MARKED SITE COMMENTS, as appropriate.
"BLD",5955,4,0)
^9.64PA^130^1
"BLD",5955,4,130,0)
130
"BLD",5955,4,130,2,0)
^9.641^130^2
"BLD",5955,4,130,2,130,0)
SURGERY  (File-top level)
"BLD",5955,4,130,2,130,1,0)
^9.6411^.205^2
"BLD",5955,4,130,2,130,1,.205,0)
TIME PAT IN OR
"BLD",5955,4,130,2,130,1,.232,0)
TIME PAT OUT OR
"BLD",5955,4,130,2,130.01,0)
PROSTHESIS INSTALLED  (sub-file)
"BLD",5955,4,130,2,130.01,1,0)
^9.6411^10^3
"BLD",5955,4,130,2,130.01,1,8,0)
IMPLANT STERILITY CHECKED
"BLD",5955,4,130,2,130.01,1,9,0)
STERILITY EXPIRATION
"BLD",5955,4,130,2,130.01,1,10,0)
RN VERIFIER
"BLD",5955,4,130,222)
y^y^p^^^^n^^n
"BLD",5955,4,130,224)

"BLD",5955,4,"APDD",130,130)

"BLD",5955,4,"APDD",130,130,.205)

"BLD",5955,4,"APDD",130,130,.232)

"BLD",5955,4,"APDD",130,130.01)

"BLD",5955,4,"APDD",130,130.01,8)

"BLD",5955,4,"APDD",130,130.01,9)

"BLD",5955,4,"APDD",130,130.01,10)

"BLD",5955,4,"B",130,130)

"BLD",5955,6)
1^
"BLD",5955,6.3)
3
"BLD",5955,"INI")
PRE^SR157UTL
"BLD",5955,"INID")
^^y
"BLD",5955,"KRN",0)
^9.67PA^8989.52^19
"BLD",5955,"KRN",.4,0)
.4
"BLD",5955,"KRN",.401,0)
.401
"BLD",5955,"KRN",.402,0)
.402
"BLD",5955,"KRN",.402,"NM",0)
^9.68A^2^2
"BLD",5955,"KRN",.402,"NM",1,0)
SROMEN-OPER    FILE #130^130^0
"BLD",5955,"KRN",.402,"NM",2,0)
SRONRPT    FILE #130^130^0
"BLD",5955,"KRN",.402,"NM","B","SROMEN-OPER    FILE #130",1)

"BLD",5955,"KRN",.402,"NM","B","SRONRPT    FILE #130",2)

"BLD",5955,"KRN",.403,0)
.403
"BLD",5955,"KRN",.5,0)
.5
"BLD",5955,"KRN",.84,0)
.84
"BLD",5955,"KRN",3.6,0)
3.6
"BLD",5955,"KRN",3.8,0)
3.8
"BLD",5955,"KRN",9.2,0)
9.2
"BLD",5955,"KRN",9.8,0)
9.8
"BLD",5955,"KRN",9.8,"NM",0)
^9.68A^5^5
"BLD",5955,"KRN",9.8,"NM",1,0)
SRONRPT1^^0^B25866896
"BLD",5955,"KRN",9.8,"NM",2,0)
SRONRPT0^^0^B53136625
"BLD",5955,"KRN",9.8,"NM",3,0)
SRONIN^^0^B72477973
"BLD",5955,"KRN",9.8,"NM",4,0)
SROESNR1^^0^B41003395
"BLD",5955,"KRN",9.8,"NM",5,0)
SROVAR^^0^B34682563
"BLD",5955,"KRN",9.8,"NM","B","SROESNR1",4)

"BLD",5955,"KRN",9.8,"NM","B","SRONIN",3)

"BLD",5955,"KRN",9.8,"NM","B","SRONRPT0",2)

"BLD",5955,"KRN",9.8,"NM","B","SRONRPT1",1)

"BLD",5955,"KRN",9.8,"NM","B","SROVAR",5)

"BLD",5955,"KRN",19,0)
19
"BLD",5955,"KRN",19.1,0)
19.1
"BLD",5955,"KRN",101,0)
101
"BLD",5955,"KRN",409.61,0)
409.61
"BLD",5955,"KRN",771,0)
771
"BLD",5955,"KRN",870,0)
870
"BLD",5955,"KRN",8989.51,0)
8989.51
"BLD",5955,"KRN",8989.52,0)
8989.52
"BLD",5955,"KRN",8994,0)
8994
"BLD",5955,"KRN","B",.4,.4)

"BLD",5955,"KRN","B",.401,.401)

"BLD",5955,"KRN","B",.402,.402)

"BLD",5955,"KRN","B",.403,.403)

"BLD",5955,"KRN","B",.5,.5)

"BLD",5955,"KRN","B",.84,.84)

"BLD",5955,"KRN","B",3.6,3.6)

"BLD",5955,"KRN","B",3.8,3.8)

"BLD",5955,"KRN","B",9.2,9.2)

"BLD",5955,"KRN","B",9.8,9.8)

"BLD",5955,"KRN","B",19,19)

"BLD",5955,"KRN","B",19.1,19.1)

"BLD",5955,"KRN","B",101,101)

"BLD",5955,"KRN","B",409.61,409.61)

"BLD",5955,"KRN","B",771,771)

"BLD",5955,"KRN","B",870,870)

"BLD",5955,"KRN","B",8989.51,8989.51)

"BLD",5955,"KRN","B",8989.52,8989.52)

"BLD",5955,"KRN","B",8994,8994)

"BLD",5955,"QUES",0)
^9.62^^
"BLD",5955,"REQB",0)
^9.611^2^2
"BLD",5955,"REQB",1,0)
SR*3.0*153^2
"BLD",5955,"REQB",2,0)
SR*3.0*144^2
"BLD",5955,"REQB","B","SR*3.0*144",2)

"BLD",5955,"REQB","B","SR*3.0*153",1)

"FIA",130)
SURGERY
"FIA",130,0)
^SRF(
"FIA",130,0,0)
130IP
"FIA",130,0,1)
y^y^p^^^^n^^n
"FIA",130,0,10)

"FIA",130,0,11)

"FIA",130,0,"RLRO")

"FIA",130,0,"VR")
3.0^SR
"FIA",130,130)
1
"FIA",130,130,.205)

"FIA",130,130,.232)

"FIA",130,130.01)
1
"FIA",130,130.01,8)

"FIA",130,130.01,9)

"FIA",130,130.01,10)

"INI")
PRE^SR157UTL
"IX",130,130,"AES",0)
130^AES^Create/delete stub entries in TIU for nurse/operation reports.^MU^^F^^I^130^^^^^A
"IX",130,130,"AES",.1,0)
^^6^6^3010412^
"IX",130,130,"AES",.1,1,0)
This cross reference is responsible for creating stub entries in TIU for
"IX",130,130,"AES",.1,2,0)
the nurse intraoperative report and the operation report when the TIME PAT
"IX",130,130,"AES",.1,3,0)
OUT OR field (#.232) is entered.  It is also responsible for deleting the
"IX",130,130,"AES",.1,4,0)
stub entries in TIU for these same reports, if unsigned, when the TIME PAT
"IX",130,130,"AES",.1,5,0)
OUT OR field (#.232) is deleted.  No action occurs if the value in the
"IX",130,130,"AES",.1,6,0)
TIME PATOUT OR field (#.232) is modified.
"IX",130,130,"AES",1)
D AES^SROESX
"IX",130,130,"AES",1.4)
S X=X1(1)=""
"IX",130,130,"AES",2)
D KAES^SROESX
"IX",130,130,"AES",2.4)
S X=X2(1)=""
"IX",130,130,"AES",11.1,0)
^.114IA^1^1
"IX",130,130,"AES",11.1,1,0)
1^F^130^.232^^^F
"KRN",.402,743,-1)
0^1
"KRN",.402,743,0)
SROMEN-OPER^3060629.1259^^130^^^3060629
"KRN",.402,743,"DIAB",1,0,130,0)
.203;T
"KRN",.402,743,"DIAB",1,1,130.01,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.0129,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.013,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.02,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.04,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.08,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.213,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.32,0)
.01;T
"KRN",.402,743,"DIAB",1,1,130.33,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.0134,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.34,0)
.01;T
"KRN",.402,743,"DIAB",1,2,130.39,0)
.01;T
"KRN",.402,743,"DIAB",2,0,130,0)
.205;T
"KRN",.402,743,"DIAB",2,1,130.01,0)
8;T
"KRN",.402,743,"DIAB",2,1,130.0129,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.013,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.02,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.04,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.08,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.16,0)
3;T
"KRN",.402,743,"DIAB",2,1,130.213,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.32,0)
1;T
"KRN",.402,743,"DIAB",2,1,130.33,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.0134,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.34,0)
1;T
"KRN",.402,743,"DIAB",2,2,130.39,0)
1;T
"KRN",.402,743,"DIAB",3,0,130,0)
73;T
"KRN",.402,743,"DIAB",3,1,130.01,0)
9;T
"KRN",.402,743,"DIAB",3,1,130.0129,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.013,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.02,0)
2;T
"KRN",.402,743,"DIAB",3,1,130.04,0)
3;T
"KRN",.402,743,"DIAB",3,1,130.16,0)
1.5;T
"KRN",.402,743,"DIAB",3,1,130.32,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.0134,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.34,0)
2;T
"KRN",.402,743,"DIAB",3,2,130.39,0)
2;T
"KRN",.402,743,"DIAB",4,0,130,0)
72;T
"KRN",.402,743,"DIAB",4,1,130.01,0)
10;T
"KRN",.402,743,"DIAB",4,1,130.0129,0)
4;T
"KRN",.402,743,"DIAB",4,1,130.013,0)
3;T
"KRN",.402,743,"DIAB",4,1,130.02,0)
3;T
"KRN",.402,743,"DIAB",4,1,130.04,0)
4;T
"KRN",.402,743,"DIAB",4,1,130.32,0)
3;T
"KRN",.402,743,"DIAB",4,2,130.34,0)
3;T
"KRN",.402,743,"DIAB",5,0,130,0)
71;T
"KRN",.402,743,"DIAB",5,1,130.01,0)
1;T
"KRN",.402,743,"DIAB",5,1,130.0129,0)
3;T
"KRN",.402,743,"DIAB",5,1,130.013,0)
4;T
"KRN",.402,743,"DIAB",5,1,130.02,0)
4;T
"KRN",.402,743,"DIAB",5,1,130.04,0)
5;T
"KRN",.402,743,"DIAB",5,2,130.34,0)
4;T
"KRN",.402,743,"DIAB",6,0,130,0)
84;T
"KRN",.402,743,"DIAB",6,1,130.01,0)
2;T
"KRN",.402,743,"DIAB",6,1,130.0129,0)
5;T
"KRN",.402,743,"DIAB",6,2,130.34,0)
5;T
"KRN",.402,743,"DIAB",7,0,130,0)
83;T
"KRN",.402,743,"DIAB",7,1,130.01,0)
2.5;T
"KRN",.402,743,"DIAB",8,0,130,0)
82;T
"KRN",.402,743,"DIAB",8,1,130.01,0)
5;T
"KRN",.402,743,"DIAB",9,0,130,0)
.213;T
"KRN",.402,743,"DIAB",9,1,130.01,0)
6;T
"KRN",.402,743,"DIAB",10,0,130,0)
.22;T
"KRN",.402,743,"DIAB",10,1,130.01,0)
7;T
"KRN",.402,743,"DIAB",16,0,130,0)
49;T
"KRN",.402,743,"DIAB",17,0,130,0)
64;T
"KRN",.402,743,"DIAB",18,0,130,0)
.757;T
"KRN",.402,743,"DIAB",19,0,130,0)
.75;T
"KRN",.402,743,"DIAB",20,0,130,0)
57;T
"KRN",.402,743,"DIAB",21,0,130,0)
58;T
"KRN",.402,743,"DIAB",22,0,130,0)
.48;T
"KRN",.402,743,"DIAB",23,0,130,0)
.47;T
"KRN",.402,743,"DIAB",24,0,130,0)
.27;T
"KRN",.402,743,"DIAB",25,0,130,0)
.39;T
"KRN",.402,743,"DIAB",26,0,130,0)
.375;T
"KRN",.402,743,"DIAB",27,0,130,0)
44;T
"KRN",.402,743,"DIAB",28,0,130,0)
45;T
"KRN",.402,743,"DIAB",29,0,130,0)
46;T
"KRN",.402,743,"DIAB",30,0,130,0)
47;T
"KRN",.402,743,"DIAB",31,0,130,0)
48;T
"KRN",.402,743,"DIAB",32,0,130,0)
127;T
"KRN",.402,743,"DIAB",33,0,130,0)
129;T
"KRN",.402,743,"DIAB",34,0,130,0)
130;T
"KRN",.402,743,"DIAB",35,0,130,0)
.29;T
"KRN",.402,743,"DIAB",36,0,130,0)
32;T
"KRN",.402,743,"DIAB",37,0,130,0)
32.5;T
"KRN",.402,743,"DIAB",38,0,130,0)
26;T
"KRN",.402,743,"DIAB",39,0,130,0)
27;T
"KRN",.402,743,"DIAB",40,0,130,0)
.42;T
"KRN",.402,743,"DIAB",41,0,130,0)
55;T
"KRN",.402,743,"DIAB",42,0,130,0)
60;T
"KRN",.402,743,"DR",1,130)
.203T~;.205T~;73T~;72T~;71T~;84T~;83T~;82T~;.213T~;.22T~;W !;W !;W !;W !;W !;49T~;64T~;.757T~;.75T~;57T~;58T~;.48T~;.47T~;.27T~;.39T~;.375T~;44T~;45T~;46T~;47T~;48T~;127T~;129T~;130T~;.29T~;32T~;32.5T~;26T~;27T~;.42T~;55T~;60T~;
"KRN",.402,743,"DR",2,130.01)
.01T~;8T~;9T~;10T~;1T~;2T~;2.5T~;5T~;6T~;7T~;
"KRN",.402,743,"DR",2,130.0129)
.01T~;1T~;2T~;4T~;3T~;5T~;
"KRN",.402,743,"DR",2,130.013)
.01T~;1T~;2T~;3T~;4T~;
"KRN",.402,743,"DR",2,130.02)
.01T~;1T~;2T~;3T~;4T~;
"KRN",.402,743,"DR",2,130.04)
.01T~;1T~;3T~;4T~;5T~;
"KRN",.402,743,"DR",2,130.08)
.01T~;1T~;
"KRN",.402,743,"DR",2,130.16)
.01T~;3T~;1.5T~;
"KRN",.402,743,"DR",2,130.213)
.01T~;1T~;
"KRN",.402,743,"DR",2,130.32)
.01T~;1T~;2T~;3T~;
"KRN",.402,743,"DR",2,130.33)
.01T~;1T~;
"KRN",.402,743,"DR",3,130.0134)
.01T~;1T~;2T~;
"KRN",.402,743,"DR",3,130.34)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,743,"DR",3,130.39)
.01T~;1T~;2T~;
"KRN",.402,2137,-1)
0^2
"KRN",.402,2137,0)
SRONRPT^3060721.0936^^130^^^3060721
"KRN",.402,2137,"DIAB",1,0,130,0)
44;T
"KRN",.402,2137,"DIAB",1,0,130,1)
.12;T
"KRN",.402,2137,"DIAB",1,1,130.01,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.0129,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.013,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.02,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.04,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.06,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.065,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.08,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.16,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.23,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.24,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.28,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.31,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.32,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.33,0)
.01;T
"KRN",.402,2137,"DIAB",1,1,130.36,0)
.01;T
"KRN",.402,2137,"DIAB",1,2,130.0134,0)
.01;T
"KRN",.402,2137,"DIAB",1,2,130.34,0)
.01;T
"KRN",.402,2137,"DIAB",1,2,130.39,0)
.01;T
"KRN",.402,2137,"DIAB",2,0,130,0)
45;T
"KRN",.402,2137,"DIAB",2,0,130,1)
506;T
"KRN",.402,2137,"DIAB",2,1,130.01,0)
8;T
"KRN",.402,2137,"DIAB",2,1,130.0129,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.013,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.02,0)
3;T
"KRN",.402,2137,"DIAB",2,1,130.04,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.065,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.08,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.23,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.24,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.28,0)
3;T
"KRN",.402,2137,"DIAB",2,1,130.31,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.32,0)
2;T
"KRN",.402,2137,"DIAB",2,1,130.33,0)
1;T
"KRN",.402,2137,"DIAB",2,1,130.36,0)
3;T
"KRN",.402,2137,"DIAB",2,2,130.0134,0)
1;T
"KRN",.402,2137,"DIAB",2,2,130.34,0)
1;T
"KRN",.402,2137,"DIAB",2,2,130.39,0)
1;T
"KRN",.402,2137,"DIAB",3,0,130,0)
46;T
"KRN",.402,2137,"DIAB",3,0,130,1)
508;T
"KRN",.402,2137,"DIAB",3,1,130.01,0)
9;T
"KRN",.402,2137,"DIAB",3,1,130.0129,0)
2;T
"KRN",.402,2137,"DIAB",3,1,130.013,0)
2;T
"KRN",.402,2137,"DIAB",3,1,130.02,0)
1;T
"KRN",.402,2137,"DIAB",3,1,130.04,0)
3;T
"KRN",.402,2137,"DIAB",3,1,130.31,0)
2;T
"KRN",.402,2137,"DIAB",3,1,130.32,0)
1;T
"KRN",.402,2137,"DIAB",3,2,130.0134,0)
2;T
"KRN",.402,2137,"DIAB",3,2,130.34,0)
2;T
"KRN",.402,2137,"DIAB",3,2,130.39,0)
2;T
"KRN",.402,2137,"DIAB",4,0,130,0)
47;T
"KRN",.402,2137,"DIAB",4,0,130,1)
.18;T
"KRN",.402,2137,"DIAB",4,1,130.01,0)
10;T
"KRN",.402,2137,"DIAB",4,1,130.0129,0)
4;T
"KRN",.402,2137,"DIAB",4,1,130.013,0)
3;T
"KRN",.402,2137,"DIAB",4,1,130.02,0)
4;T
"KRN",.402,2137,"DIAB",4,1,130.04,0)
4;T
"KRN",.402,2137,"DIAB",4,1,130.32,0)
3;T
"KRN",.402,2137,"DIAB",4,2,130.34,0)
3;T
"KRN",.402,2137,"DIAB",5,0,130,0)
48;T
"KRN",.402,2137,"DIAB",5,0,130,1)
4;T
"KRN",.402,2137,"DIAB",5,1,130.01,0)
1;T
"KRN",.402,2137,"DIAB",5,1,130.0129,0)
3;T
"KRN",.402,2137,"DIAB",5,1,130.013,0)
4;T
"KRN",.402,2137,"DIAB",5,1,130.02,0)
2;T
"KRN",.402,2137,"DIAB",5,1,130.04,0)
5;T
"KRN",.402,2137,"DIAB",5,2,130.34,0)
4;T
"KRN",.402,2137,"DIAB",6,0,130,0)
.203;T
"KRN",.402,2137,"DIAB",6,0,130,1)
.175;T
"KRN",.402,2137,"DIAB",6,1,130.01,0)
2;T
"KRN",.402,2137,"DIAB",6,1,130.0129,0)
5;T
"KRN",.402,2137,"DIAB",6,1,130.013,0)
5;T
"KRN",.402,2137,"DIAB",6,2,130.34,0)
5;T
"KRN",.402,2137,"DIAB",7,0,130,0)
.205;T
"KRN",.402,2137,"DIAB",7,0,130,1)
8;T
"KRN",.402,2137,"DIAB",7,1,130.01,0)
2.5;T
"KRN",.402,2137,"DIAB",8,0,130,0)
73;T
"KRN",.402,2137,"DIAB",8,0,130,1)
65;T
"KRN",.402,2137,"DIAB",8,1,130.01,0)
5;T
"KRN",.402,2137,"DIAB",9,0,130,0)
72;T
"KRN",.402,2137,"DIAB",9,0,130,1)
.13;T
"KRN",.402,2137,"DIAB",9,1,130.01,0)
6;T
"KRN",.402,2137,"DIAB",10,0,130,0)
71;T
"KRN",.402,2137,"DIAB",10,0,130,1)
.75;T
"KRN",.402,2137,"DIAB",10,1,130.01,0)
7;T
"KRN",.402,2137,"DIAB",11,0,130,0)
84;T
"KRN",.402,2137,"DIAB",11,0,130,1)
57;T
"KRN",.402,2137,"DIAB",12,0,130,0)
83;T
"KRN",.402,2137,"DIAB",12,0,130,1)
58;T
"KRN",.402,2137,"DIAB",13,0,130,0)
82;T
"KRN",.402,2137,"DIAB",13,0,130,1)
.55;T
"KRN",.402,2137,"DIAB",14,0,130,0)
.22;T
"KRN",.402,2137,"DIAB",14,0,130,1)
6;T
"KRN",.402,2137,"DIAB",15,0,130,0)
.23;T
"KRN",.402,2137,"DIAB",15,0,130,1)
49;T
"KRN",.402,2137,"DIAB",16,0,130,0)
.206;T
"KRN",.402,2137,"DIAB",16,0,130,1)
64;T
"KRN",.402,2137,"DIAB",17,0,130,0)
.232;T
"KRN",.402,2137,"DIAB",17,0,130,1)
.37;T
"KRN",.402,2137,"DIAB",18,0,130,0)
26;T
"KRN",.402,2137,"DIAB",18,0,130,1)
22;T
"KRN",.402,2137,"DIAB",19,0,130,0)
.42;T
"KRN",.402,2137,"DIAB",19,0,130,1)
.48;T
"KRN",.402,2137,"DIAB",20,0,130,0)
1.09;T
"KRN",.402,2137,"DIAB",20,0,130,1)
.757;T
"KRN",.402,2137,"DIAB",21,0,130,0)
.46;T
"KRN",.402,2137,"DIAB",21,0,130,1)
.47;T
"KRN",.402,2137,"DIAB",22,0,130,0)
.03;T
"KRN",.402,2137,"DIAB",22,0,130,1)
.375;T
"KRN",.402,2137,"DIAB",23,0,130,0)
.02;T
"KRN",.402,2137,"DIAB",23,0,130,1)
.39;T
"KRN",.402,2137,"DIAB",24,0,130,0)
.035;T
"KRN",.402,2137,"DIAB",24,0,130,1)
.27;T
"KRN",.402,2137,"DIAB",25,0,130,0)
.14;T
"KRN",.402,2137,"DIAB",25,0,130,1)
41;T
"KRN",.402,2137,"DIAB",26,0,130,0)
.164;T
"KRN",.402,2137,"DIAB",26,0,130,1)
.875;T
"KRN",.402,2137,"DIAB",27,0,130,0)
.15;T
"KRN",.402,2137,"DIAB",27,0,130,1)
.25;T
"KRN",.402,2137,"DIAB",28,0,130,0)
.16;T
"KRN",.402,2137,"DIAB",28,0,130,1)
.255;T
"KRN",.402,2137,"DIAB",29,0,130,0)
.31;T
"KRN",.402,2137,"DIAB",29,0,130,1)
.81;T
"KRN",.402,2137,"DIAB",30,0,130,0)
.33;T
"KRN",.402,2137,"DIAB",30,0,130,1)
.821;T
"KRN",.402,2137,"DIAB",31,0,130,0)
30;T
"KRN",.402,2137,"DIAB",31,0,130,1)
.76;T
"KRN",.402,2137,"DIAB",32,0,130,0)
.112;T
"KRN",.402,2137,"DIAB",32,0,130,1)
.77;T
"KRN",.402,2137,"DIAB",33,0,130,0)
.111;T
"KRN",.402,2137,"DIAB",33,0,130,1)
129;T
"KRN",.402,2137,"DIAB",34,0,130,0)
31;T
"KRN",.402,2137,"DIAB",34,0,130,1)
127;T
"KRN",.402,2137,"DIAB",35,0,130,0)
.19;T
"KRN",.402,2137,"DIAB",35,0,130,1)
25;T
"KRN",.402,2137,"DIAB",36,0,130,0)
.196;T
"KRN",.402,2137,"DIAB",36,0,130,1)
130;T
"KRN",.402,2137,"DIAB",37,0,130,0)
.07;T
"KRN",.402,2137,"DIAB",37,0,130,1)
131;T
"KRN",.402,2137,"DIAB",38,0,130,0)
.195;T
"KRN",.402,2137,"DIAB",38,0,130,1)
.29;T
"KRN",.402,2137,"DIAB",39,0,130,0)
.69;T
"KRN",.402,2137,"DR",1,130)
44T~;45T~;46T~;47T~;48T~;.203T~;.205T~;73T~;72T~;71T~;84T~;83T~;82T~;.22T~;.23T~;.206T~;.232T~;26T~;.42T~;1.09T~;.46T~;.03T~;.02T~;.035T~;.14T~;.164T~;.15T~;.16T~;.31T~;.33T~;30T~;.112T~;.111T~;31T~;.19T~;.196T~;.07T~;.195T~;.69T~;
"KRN",.402,2137,"DR",1,130,1)
.12T~;506T~;508T~;.18T~;4T~;.175T~;8T~;65T~;.13T~;.75T~;57T~;58T~;.55T~;6T~;49T~;64T~;.37T~;22T~;.48T~;.757T~;.47T~;.375T~;.39T~;.27T~;41T~;.875T~;.25T~;.255T~;.81T~;.821T~;.76T~;.77T~;129T~;127T~;25T~;130T~;131T~;.29T~;
"KRN",.402,2137,"DR",2,130.01)
.01T~;8T~;9T~;10T~;1T~;2T~;2.5T~;5T~;6T~;7T~;
"KRN",.402,2137,"DR",2,130.0129)
.01T~;1T~;2T~;4T~;3T~;5T~;
"KRN",.402,2137,"DR",2,130.013)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,2137,"DR",2,130.02)
.01T~;3T~;1T~;4T~;2T~;
"KRN",.402,2137,"DR",2,130.04)
.01T~;1T~;3T~;4T~;5T~;
"KRN",.402,2137,"DR",2,130.06)
.01T~;
"KRN",.402,2137,"DR",2,130.065)
.01T~;1T~;
"KRN",.402,2137,"DR",2,130.08)
.01T~;1T~;
"KRN",.402,2137,"DR",2,130.16)
.01T~;
"KRN",.402,2137,"DR",2,130.23)
.01T~;1T~;
"KRN",.402,2137,"DR",2,130.24)
.01T~;1T~;
"KRN",.402,2137,"DR",2,130.28)
.01T~;3T~;
"KRN",.402,2137,"DR",2,130.31)
.01T~;1T~;2T~;
"KRN",.402,2137,"DR",2,130.32)
.01T~;2T~;1T~;3T~;
"KRN",.402,2137,"DR",2,130.33)
.01T~;1T~;
"KRN",.402,2137,"DR",2,130.36)
.01T~;3T~;
"KRN",.402,2137,"DR",3,130.0134)
.01T~;1T~;2T~;
"KRN",.402,2137,"DR",3,130.34)
.01T~;1T~;2T~;3T~;4T~;5T~;
"KRN",.402,2137,"DR",3,130.39)
.01T~;1T~;2T~;
"MBREQ")
0
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",167,-1)
1^1
"PKG",167,0)
SURGERY^SR^SURGICAL DATA COLLECTION AND OPERATIONS SCHEDULING
"PKG",167,20,0)
^9.402P^^
"PKG",167,22,0)
^9.49I^1^1
"PKG",167,22,1,0)
3.0^2930624^2930811
"PKG",167,22,1,"PAH",1,0)
157^3060912^517
"PKG",167,22,1,"PAH",1,1,0)
^^20^20^3060912
"PKG",167,22,1,"PAH",1,1,1,0)
1. The Surgery-Tracking Prosthesis Items project enhances the Surgery
"PKG",167,22,1,"PAH",1,1,2,0)
   software, adding new fields to the PROSTHESIS INSTALLED sub-file
"PKG",167,22,1,"PAH",1,1,3,0)
   (#130.01) in the SURGERY file (#130). These new fields will
"PKG",167,22,1,"PAH",1,1,4,0)
   function to mark the prosthesis item as sterile and record the
"PKG",167,22,1,"PAH",1,1,5,0)
   expiration date of the sterile implant. The information entered into
"PKG",167,22,1,"PAH",1,1,6,0)
   these fields will display on the Nurse Intraoperative Report. As an
"PKG",167,22,1,"PAH",1,1,7,0)
   added safety/quality measure, the new fields will be mandatory for
"PKG",167,22,1,"PAH",1,1,8,0)
   signing the Nurse Intraoperative Report. The report cannot be signed
"PKG",167,22,1,"PAH",1,1,9,0)
   until all documentation is completed.
"PKG",167,22,1,"PAH",1,1,10,0)
 
"PKG",167,22,1,"PAH",1,1,11,0)
2. Unrelated to the Prosthesis features, the trigger event for
"PKG",167,22,1,"PAH",1,1,12,0)
   discontinuing orders will be moved from the TIME PAT OUT OR field
"PKG",167,22,1,"PAH",1,1,13,0)
   (#.232) of the SURGERY file (#130) to the TIME PAT IN OR field (#.205)
"PKG",167,22,1,"PAH",1,1,14,0)
   of the SURGERY file (#130). This enhancement is required as part of
"PKG",167,22,1,"PAH",1,1,15,0)
   the Documenting Preoperative Antibiotics (Gainesville Solution)
"PKG",167,22,1,"PAH",1,1,16,0)
   project.
"PKG",167,22,1,"PAH",1,1,17,0)
 
"PKG",167,22,1,"PAH",1,1,18,0)
3. On the Nurse Intraoperative Report, replace references to CORRECT
"PKG",167,22,1,"PAH",1,1,19,0)
   SURGERY COMMENTS to TIME OUT VERIFIED COMMENTS, IMAGING CONFIRMED
"PKG",167,22,1,"PAH",1,1,20,0)
   COMMENTS, and MARKED SITE COMMENTS, as appropriate.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","SR157UTL")
0^^B73174^n/a
"RTN","SR157UTL",1,0)
SR157UTL ;BIR/SJA - SR*3*157 UTILITY ROUTINE ;07/05/06
"RTN","SR157UTL",2,0)
 ;;3.0; Surgery ;**157**;24 Jun 93;Build 3
"RTN","SR157UTL",3,0)
 Q
"RTN","SR157UTL",4,0)
PRE ; pre-install action for SR*3*157
"RTN","SR157UTL",5,0)
 ;
"RTN","SR157UTL",6,0)
 ;delete DD for modified field #.232
"RTN","SR157UTL",7,0)
 S DIK="^DD(130,",DA=.232,DA(1)=130 D ^DIK
"RTN","SR157UTL",8,0)
 Q
"RTN","SROESNR1")
0^4^B41003395^B38834626
"RTN","SROESNR1",1,0)
SROESNR1 ;BIR/ADM - NURSE REPORT E-SIG UTILITY ;02/20/05
"RTN","SROESNR1",2,0)
 ;;3.0; Surgery ;**100,143,157**;24 Jun 93;Build 3
"RTN","SROESNR1",3,0)
 ;
"RTN","SROESNR1",4,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SROESNR1",5,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SROESNR1",6,0)
 ;**         are prohibited.
"RTN","SROESNR1",7,0)
 ;
"RTN","SROESNR1",8,0)
MULT ; process multiples
"RTN","SROESNR1",9,0)
 N I,SRFF,SRI,SRK1,SRP,SRJ,SRFLD,SRNP,SRN,SRCAT,SRP,SRSUB,SRL,SRE,SRE1,SRW,X,Y
"RTN","SROESNR1",10,0)
 S SRI="."_$P(SRK,".",2) D TR S SRK1=SRP
"RTN","SROESNR1",11,0)
 F SRJ=0:1 S SRFLD=$P($T(@SRK1+SRJ),";;",2) Q:SRFLD=""  D ^SROESNRA
"RTN","SROESNR1",12,0)
 Q
"RTN","SROESNR1",13,0)
REV N SRP D TR S SRK1=SRP D
"RTN","SROESNR1",14,0)
 .I SRCAT="Anesthesia Technique(s)" D REV^SROESNR3 Q
"RTN","SROESNR1",15,0)
 .S SRFLD=$P($T(@SRK1+SRJ),";;",2)
"RTN","SROESNR1",16,0)
 Q
"RTN","SROESNR1",17,0)
TR S SRP=SRI,SRP=$TR(SRP,"1234567890.,","ABCDEFGHIJPK")
"RTN","SROESNR1",18,0)
 Q
"RTN","SROESNR1",19,0)
 ;;
"RTN","SROESNR1",20,0)
PBC ;;Other Scrubbed Assistant(s)^0;30^28,0
"RTN","SROESNR1",21,0)
 ;;Other Scrubbed Assistant(s)^01-Other Scrubbed Assistant-130.23,.01-2^28,0;1
"RTN","SROESNR1",22,0)
 ;;Other Scrubbed Assistant(s)^02-Comments-130.23,1;W-4^28,1,0;1
"RTN","SROESNR1",23,0)
 ;;
"RTN","SROESNR1",24,0)
PBH ;;O.R. Circulating Nurse(s)^0;.111^19,0
"RTN","SROESNR1",25,0)
 ;;O.R. Circulating Nurse(s)^01-O.R. Circulating Nurse-130.28,.01-2^19,0;1
"RTN","SROESNR1",26,0)
 ;;O.R. Circulating Nurse(s)^02-Educational Status-130.28,3-4^19,0;3
"RTN","SROESNR1",27,0)
PBI ;;O.R. Circulating Nurse(s)^03X-Time On-130.29,.01-4^19,1,0;1
"RTN","SROESNR1",28,0)
 ;;O.R. Circulating Nurse(s)^04X-Time Off-130.29,1-6^19,1,0;2
"RTN","SROESNR1",29,0)
 ;;O.R. Circulating Nurse(s)^05X-Reason for Relief-130.29,2-6^19,1,0;3
"RTN","SROESNR1",30,0)
 ;;O.R. Circulating Nurse(s)^06X-Comment-130.29,3;W-6^19,1,1,0;1
"RTN","SROESNR1",31,0)
 ;;
"RTN","SROESNR1",32,0)
PCF ;;O.R. Scrub Nurse(s)^0;.112^23,0
"RTN","SROESNR1",33,0)
 ;;O.R. Scrub Nurse(s)^01-O.R. Scrub Nurse-130.36,.01-2^23,0;1
"RTN","SROESNR1",34,0)
 ;;O.R. Scrub Nurse(s)^02-Educational Status-130.36,3-4^23,0;3
"RTN","SROESNR1",35,0)
 ;;O.R. Scrub Nurse(s)^03X-Time On-130.36,.01-4^19,1,0;1
"RTN","SROESNR1",36,0)
 ;;O.R. Scrub Nurse(s)^04X-Time Off-130.36,1-6^19,1,0;2
"RTN","SROESNR1",37,0)
 ;;O.R. Scrub Nurse(s)^05X-Reason for Relief-130.36,2-6^19,1,0;3
"RTN","SROESNR1",38,0)
 ;;O.R. Scrub Nurse(s)^06X-Comment-130.36,3;W-6^19,1,1,0;1
"RTN","SROESNR1",39,0)
 ;;
"RTN","SROESNR1",40,0)
PBD ;;Other Persons in O.R.^0;31^32,0
"RTN","SROESNR1",41,0)
 ;;Other Persons in O.R.^01-Other Person in O.R.-130.24,.01-2^32,0;1
"RTN","SROESNR1",42,0)
 ;;Other Persons in O.R.^02-Title/Organization-130.24,1-4^32,0;2
"RTN","SROESNR1",43,0)
 ;;
"RTN","SROESNR1",44,0)
PJFE ;;Surgery Position(s)^0;65^42,0
"RTN","SROESNR1",45,0)
 ;;Surgery Position(s)^01-Position-130.065,.01-2^42,0;1
"RTN","SROESNR1",46,0)
 ;;Surgery Position(s)^02-Placed-130.065,1-4^42,0;2
"RTN","SROESNR1",47,0)
 ;;
"RTN","SROESNR1",48,0)
PCA ;;Restraints and Position Aids^0;.13^20,0
"RTN","SROESNR1",49,0)
 ;;Restraints and Position Aids^01-Restraint/Position Aid-130.31,.01-2^20,0;1
"RTN","SROESNR1",50,0)
 ;;Restraints and Position Aids^02-Applied By-130.31,1-4^20,0;2
"RTN","SROESNR1",51,0)
 ;;Restraints and Position Aids^03-Comments-130.31,2-4^20,0;3
"RTN","SROESNR1",52,0)
 ;;
"RTN","SROESNR1",53,0)
PJBH ;;Principal CPT Modifier^0;28^OPMOD,0
"RTN","SROESNR1",54,0)
 ;;Principal CPT Modifier^01-CPT Modifier-130.028,.01-2^OPMOD,0;1
"RTN","SROESNR1",55,0)
 ;;
"RTN","SROESNR1",56,0)
PAF ;;Other Procedures Performed^0;.42^13,0
"RTN","SROESNR1",57,0)
 ;;Other Procedures Performed^01-Other Procedure-130.16,.01-2^13,0;1
"RTN","SROESNR1",58,0)
 ;;Other Procedures Performed^02-CPT Code-130.16,3-4^13,2;1
"RTN","SROESNR1",59,0)
PAFD ;;Other Procedures Performed^03-CPT Modifier-130.164,.01-4^13,MOD,0;1
"RTN","SROESNR1",60,0)
 ;;Other Procedures Performed^04X-Completed-130.16,2-4^13,0;3
"RTN","SROESNR1",61,0)
 ;;Other Procedures Performed^05X-Procedure Code Comments-130.16,1.5;W-4^13,1,0;1
"RTN","SROESNR1",62,0)
 ;;
"RTN","SROESNR1",63,0)
PJB ;;Tourniquet^0;.48^2,0
"RTN","SROESNR1",64,0)
 ;;Tourniquet^01-Time Applied-130.02,.01-2^2,0;1
"RTN","SROESNR1",65,0)
 ;;Tourniquet^02-Time Released-130.02,3-4^2,0;4
"RTN","SROESNR1",66,0)
 ;;Tourniquet^03-Site Applied-130.02,1-4^2,0;2
"RTN","SROESNR1",67,0)
 ;;Tourniquet^04-Pressure Applied (in TORR)-130.02,4-4^2,0;5
"RTN","SROESNR1",68,0)
 ;;Tourniquet^05-Applied By-130.02,2-4^2,0;3
"RTN","SROESNR1",69,0)
 ;;
"RTN","SROESNR1",70,0)
PCB ;;Thermal Unit^0;.757^21,0
"RTN","SROESNR1",71,0)
 ;;Thermal Unit^01-Thermal Unit-130.32,.01-2^21,0;1
"RTN","SROESNR1",72,0)
 ;;Thermal Unit^02-Temperature-130.32,2-4^21,0;3
"RTN","SROESNR1",73,0)
 ;;Thermal Unit^03-Time On-130.32,1-4^21,0;2
"RTN","SROESNR1",74,0)
 ;;Thermal Unit^04-Time Off-130.32,3-4^21,0;4
"RTN","SROESNR1",75,0)
 ;;
"RTN","SROESNR1",76,0)
PJA ;;Prosthesis Installed^0;.47^1,0
"RTN","SROESNR1",77,0)
 ;;Prosthesis Installed^01-Item-130.01,.01-2^1,0;1
"RTN","SROESNR1",78,0)
 ;;Prosthesis Installed^02-Sterility Checked-130.01,8-4^1,2;1
"RTN","SROESNR1",79,0)
 ;;Prosthesis Installed^03-Sterility Expiration Date-130.01,9-4^1,2;2
"RTN","SROESNR1",80,0)
 ;;Prosthesis Installed^04-RN Verifier-130.01,10-4^1,2;3
"RTN","SROESNR1",81,0)
 ;;Prosthesis Installed^05-Vendor-130.01,1-4^1,0;2
"RTN","SROESNR1",82,0)
 ;;Prosthesis Installed^06-Model-130.01,2-4^1,0;3
"RTN","SROESNR1",83,0)
 ;;Prosthesis Installed^07-Lot/Serial Number-130.01,2.5-4^1,0;5
"RTN","SROESNR1",84,0)
 ;;Prosthesis Installed^08-Sterile Resp-130.01,5-4^1,0;7
"RTN","SROESNR1",85,0)
 ;;Prosthesis Installed^09-Size-130.01,6-4^1,1;1
"RTN","SROESNR1",86,0)
 ;;Prosthesis Installed^10-Quantity-130.01,7-4^1,1;2
"RTN","SROESNR1",87,0)
 ;;
"RTN","SROESNR1",88,0)
PCC ;;Medications^0;.375^22,0
"RTN","SROESNR1",89,0)
 ;;Medications^01-Medication-130.33,.01-2^22,0;1
"RTN","SROESNR1",90,0)
PCD ;;Medications^02-Time Administered-130.34,.01-4^22,1,0;1
"RTN","SROESNR1",91,0)
 ;;Medications^03-Route-130.34,4-6^22,1,0;5
"RTN","SROESNR1",92,0)
 ;;Medications^04-Dose-130.34,1-6^22,1,0;2
"RTN","SROESNR1",93,0)
 ;;Medications^05-Ordered By-130.34,2-6^22,1,0;3
"RTN","SROESNR1",94,0)
 ;;Medications^06-Administered By-130.34,3-6^22,1,0;4
"RTN","SROESNR1",95,0)
 ;;Medications^07-Comments-130.34,5-6^22,1,0;6
"RTN","SROESNR1",96,0)
 ;;
"RTN","SROESNR1",97,0)
PJH ;;Irrigation Solution(s)^0;.39^26,0
"RTN","SROESNR1",98,0)
 ;;Irrigation Solution(s)^01-Irrigation Solution-130.08,.01-2^26,0;1
"RTN","SROESNR1",99,0)
PCI ;;Irrigation Solution(s)^02-Time Utilized-130.39,.01-4^26,1,0;1
"RTN","SROESNR1",100,0)
 ;;Irrigation Solution(s)^03-Amount-130.39,1-6^26,1,0;2
"RTN","SROESNR1",101,0)
 ;;Irrigation Solution(s)^04-Provider-130.39,2-6^26,1,0;3
"RTN","SROESNR1",102,0)
 ;;
"RTN","SROESNR1",103,0)
PJD ;;Blood Replacement Fluids^0;.27^4,0
"RTN","SROESNR1",104,0)
 ;;Blood Replacement Fluids^01-Replacement Fluid Type-130.04,.01-2^4,0;1
"RTN","SROESNR1",105,0)
 ;;Blood Replacement Fluids^02-Quantity (ml)-130.04,1-4^4,0;2
"RTN","SROESNR1",106,0)
 ;;Blood Replacement Fluids^03-Source Identification-130.04,3-4^4,0;4
"RTN","SROESNR1",107,0)
 ;;Blood Replacement Fluids^04-VA Identification-130.04,4-4^4,0;5
"RTN","SROESNR1",108,0)
 ;;Blood Replacement Fluids^05-Comments-130.04,5;W-4^4,1,0;1
"RTN","SROESNR1",109,0)
 ;;
"RTN","SROESNR1",110,0)
PJABI ;;Laser Unit(s)^0;129^44,0
"RTN","SROESNR1",111,0)
 ;;Laser Unit(s)^01-Laser Unit/ID-130.0129,.01-2^44,0;1
"RTN","SROESNR1",112,0)
 ;;Laser Unit(s)^02-Duration-130.0129,1-4^44,0;2
"RTN","SROESNR1",113,0)
 ;;Laser Unit(s)^03-Wattage-130.0129,2-4^44,0;3
"RTN","SROESNR1",114,0)
 ;;Laser Unit(s)^04-Operator-130.0129,3-4^44,0;4
"RTN","SROESNR1",115,0)
 ;;Laser Unit(s)^05-Plume Evacuator-130.0129,4-4^44,0;5
"RTN","SROESNR1",116,0)
 ;;Laser Unit(s)^06-Comments-130.0129,5;W-4^44,1,0;1
"RTN","SROESNR1",117,0)
 ;;
"RTN","SROESNR1",118,0)
PJAC ;;Cell Saver(s)^0;130^45,0
"RTN","SROESNR1",119,0)
 ;;Cell Saver(s)^01-Cell Saver ID-130.013,.01-2^45,0;1
"RTN","SROESNR1",120,0)
 ;;Cell Saver(s)^02-Operator-130.013,1-4^45,0;2
"RTN","SROESNR1",121,0)
 ;;Cell Saver(s)^03-Amount Salvaged (ml)-130.013,2-4^45,0;3
"RTN","SROESNR1",122,0)
 ;;Cell Saver(s)^04-Amount Reinfused (ml)-130.013,3-4^45,0;4
"RTN","SROESNR1",123,0)
 ;;Cell Saver(s)^05-Comments-130.013,5;W-4^45,2,0;1
"RTN","SROESNR1",124,0)
PJACD ;;Cell Saver(s)^06-Disposables Name-130.0134,.01-4^45,1,0;1
"RTN","SROESNR1",125,0)
 ;;Cell Saver(s)^07-Lot Number-130.0134,1-6^45,1,0;2
"RTN","SROESNR1",126,0)
 ;;Cell Saver(s)^08-Quantity-130.0134,2-6^45,1,0;3
"RTN","SROESNR1",127,0)
 ;;
"RTN","SROESNR1",128,0)
PAH ;;Other Diagnosis^0;.74^15,0
"RTN","SROESNR1",129,0)
 ;;Other Diagnosis^01X-Other Diagnosis-130.18,.01-2^15,0;1
"RTN","SROESNR1",130,0)
 ;;Other Diagnosis^02-ICD Diagnosis Code-130.18,3-2^15,0;3
"RTN","SROESNR1",131,0)
 ;;Other Diagnosis^03X-Diagnosis Comments-130.18,2;W-4^15,1,0;1
"RTN","SRONIN")
0^3^B72477973^B64007780
"RTN","SRONIN",1,0)
SRONIN ;BIR/MAM,ADM - NURSE INTRAOPERATIVE REPORT ;05/30/06
"RTN","SRONIN",2,0)
 ;;3.0; Surgery ;**68,50,100,129,134,153,157**;24 Jun 93;Build 3
"RTN","SRONIN",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONIN",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SRONIN",5,0)
 ;**         are prohibited.
"RTN","SRONIN",6,0)
 ;
"RTN","SRONIN",7,0)
 ; Reference to UPDATE^TIUSRVP supported by DBIA #3535
"RTN","SRONIN",8,0)
 ; Reference to ES^TIUSROI supported by DBIA #3537
"RTN","SRONIN",9,0)
 ; Reference to EXTRACT^TIULQ supported by DBIA #2693
"RTN","SRONIN",10,0)
 ;
"RTN","SRONIN",11,0)
 I '$D(SRSITE) D ^SROVAR G:'$D(SRSITE) END S SRSITE("KILL")=1
"RTN","SRONIN",12,0)
 I '$D(SRTN) K SRNEWOP D ^SROPS G:'$D(SRTN) END S SRTN("KILL")=1
"RTN","SRONIN",13,0)
 N SRAGE,SRDIV,SRDIVNM,SRDO,SRFUNCT,SRHDR,SRINUSE,SRLEAVE,SRLOC,SRPARAM,SRPRINT,SRSEL,SRSINED,SRDTITL,SRTIU,SRAT,SRXX
"RTN","SRONIN",14,0)
 S SRDTITL="Nurse Intraoperative Report"
"RTN","SRONIN",15,0)
 S (SRFUNCT,SRLEAVE,SRSINED)=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",16,0)
 I SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",17,0)
 D:SRSINED FUNCT D:'SRSINED EN
"RTN","SRONIN",18,0)
ENF I 'SRLEAVE,SRFUNCT S SRSEL="" D FUNCT
"RTN","SRONIN",19,0)
 D END
"RTN","SRONIN",20,0)
 Q
"RTN","SRONIN",21,0)
DISPLY I SRSINED S SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2) I SRTIU D PRNT^SROESPR(SRTN,SRTIU,SRDTITL) S SRLEAVE=1 Q
"RTN","SRONIN",22,0)
 K %ZIS,IO("Q") S %ZIS="Q" D ^%ZIS I POP S SRLEAVE=1 Q
"RTN","SRONIN",23,0)
 I $D(IO("Q")) K IO("Q") N ZTRTN,ZTDESC,ZTSAVE,ZTQUEUED S ZTRTN="PRNT^SRONIN",ZTDESC=SRDTITL,(ZTSAVE("SRTN"),ZTSAVE("SRSITE*"))="" D ^%ZTLOAD,^%ZISC Q
"RTN","SRONIN",24,0)
EN D RPT^SRONRPT(SRTN) S DFN=$P(^SRF(SRTN,0),"^"),VAINDT=$P(^SRF(SRTN,0),"^",9)
"RTN","SRONIN",25,0)
 S Y=$E(VAINDT,1,7) D D^DIQ S SRSDATE=Y D OERR^VADPT
"RTN","SRONIN",26,0)
 S SRHDR=" "_VADM(1)_" ("_VA("PID")_")   Case #"_SRTN_" - "_SRSDATE
"RTN","SRONIN",27,0)
 S Y=$E($$NOW^XLFDT,1,12) D DD^%DT S SRPRINT="Printed: "_Y
"RTN","SRONIN",28,0)
 S SRLOC=" Pt Loc: "_$P(VAIN(4),"^",2)_"  "_VAIN(5)
"RTN","SRONIN",29,0)
 S SRAGE="",Z=$P(VADM(3),"^") I Z S X=$E($P(^SRF(SRTN,0),"^",9),1,12),Y=$E(X,1,7),SRAGE=$E(Y,1,3)-$E(Z,1,3)-($E(Y,4,7)<$E(Z,4,7))
"RTN","SRONIN",30,0)
 S SRDIV=$$SITE^SROUTL0(SRTN),SRDIVNM="" I SRDIV S X=$P(^SRO(133,SRDIV,0),"^"),SRDIVNM=$$EXTERNAL^DILFD(133,.01,"",X)
"RTN","SRONIN",31,0)
 S SRDIVNM=$S(SRDIVNM'="":SRDIVNM,1:SRSITE("SITE"))
"RTN","SRONIN",32,0)
 U IO S (SRPAGE,SRSOUT)=0,$P(SRLINE,"-",80)="" D HDR
"RTN","SRONIN",33,0)
 S SRI=0 F  S SRI=$O(^TMP("SRNIR",$J,SRTN,SRI)) Q:'SRI  D  Q:SRSOUT
"RTN","SRONIN",34,0)
 .I $E(IOST)="P",$Y+11>IOSL D FOOT Q:SRSOUT  D HDR
"RTN","SRONIN",35,0)
 .I $E(IOST)'="P",$Y+4>IOSL D FOOT Q:SRSOUT  D HDR
"RTN","SRONIN",36,0)
 .W !,^TMP("SRNIR",$J,SRTN,SRI)
"RTN","SRONIN",37,0)
 I SRSOUT D ^%ZISC Q 
"RTN","SRONIN",38,0)
 D FOOT D  D ^%ZISC
"RTN","SRONIN",39,0)
 .I $D(SRALRT) S SRFUNCT=1 Q
"RTN","SRONIN",40,0)
 .I '$G(SRFUNCT) S SRLEAVE=1
"RTN","SRONIN",41,0)
 Q
"RTN","SRONIN",42,0)
SRHDR S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT
"RTN","SRONIN",43,0)
 S Y=$E($P(^SRF(SRTN,0),"^",9),1,7) D D^DIQ S SRSDATE=Y
"RTN","SRONIN",44,0)
 S SRHDR=" "_VADM(1)_" ("_VA("PID")_")   Case #"_SRTN_" - "_SRSDATE
"RTN","SRONIN",45,0)
 Q
"RTN","SRONIN",46,0)
PRNT N SRDIV,SRFUNCT,SRLEAVE D EN
"RTN","SRONIN",47,0)
END K ^TMP("SRNIR",$J)
"RTN","SRONIN",48,0)
 W @IOF I $D(ZTQUEUED) Q:$G(ZTSTOP)  S ZTREQ="@" Q
"RTN","SRONIN",49,0)
 D ^SRSKILL K VAIN,VAINDT I $D(SRSITE("KILL")) K SRSITE
"RTN","SRONIN",50,0)
 I $D(SRTN("KILL")) K SRTN
"RTN","SRONIN",51,0)
 Q
"RTN","SRONIN",52,0)
PAGE I $D(SRNOEDIT) D LAST Q
"RTN","SRONIN",53,0)
 S (SRFUNCT,SRSOUT)=0
"RTN","SRONIN",54,0)
 W ! K DIR S DIR(0)="FOA",DIR("A",1)=" Press <return> to continue, 'A' to access Nurse Intraoperative Report",DIR("A")=" functions, or '^' to exit: " D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S (SRLEAVE,SRSOUT)=1 Q
"RTN","SRONIN",55,0)
 I X="A"!(X="a") S (SRFUNCT,SRSOUT)=1
"RTN","SRONIN",56,0)
 Q
"RTN","SRONIN",57,0)
LAST W ! K DIR S DIR(0)="E" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S SRSOUT=1
"RTN","SRONIN",58,0)
 Q
"RTN","SRONIN",59,0)
FOOT ; print footer
"RTN","SRONIN",60,0)
 Q:SRSOUT  I $E(IOST)'="P" D PAGE Q
"RTN","SRONIN",61,0)
 I IOSL-9>$Y F X=$Y:1:(IOSL-10) W !
"RTN","SRONIN",62,0)
 W !,SRLINE,!,VADM(1),?50,SRPRINT,!,VA("PID")_"  Age: "_SRAGE,?50,SRLOC,!,SRDIVNM,?59,"Vice SF 509",!,SRLINE
"RTN","SRONIN",63,0)
 Q
"RTN","SRONIN",64,0)
HDR ; heading
"RTN","SRONIN",65,0)
 I $D(ZTQUEUED) D ^SROSTOP I SRHALT S SRSOUT=1 Q
"RTN","SRONIN",66,0)
 S SRPAGE=SRPAGE+1 I $Y'=0 W @IOF
"RTN","SRONIN",67,0)
 I $E(IOST)'="P",SRPAGE=1 S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRXX=VADM(1)_" ("_VA("PID")_")" W !,?(80-$L(SRXX)\2),SRXX
"RTN","SRONIN",68,0)
 W:$E(IOST)="P" !!!!,SRLINE W !,?3,"MEDICAL RECORD       NURSE INTRAOPERATIVE REPORT - CASE #"_SRTN,?(79-$L("PAGE "_SRPAGE)),"PAGE "_SRPAGE,!
"RTN","SRONIN",69,0)
 W:$E(IOST)="P" SRLINE,!
"RTN","SRONIN",70,0)
 Q
"RTN","SRONIN",71,0)
FUNCT ; nurse intraop report functions
"RTN","SRONIN",72,0)
 K SRALRT
"RTN","SRONIN",73,0)
 D:'$D(SRHDR) SRHDR S SRSOUT=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",74,0)
 I 'SRSINED,SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",75,0)
 W @IOF,!,SRHDR I SRSINED W !!," * * The Nurse Intraoperative Report has been electronically signed. * *"
"RTN","SRONIN",76,0)
 W !!," Nurse Intraoperative Report Functions:",!
"RTN","SRONIN",77,0)
 S DIR("A",1)="  1. Edit report information",DIR("A",2)="  2. Print/View report from beginning"
"RTN","SRONIN",78,0)
 S DIR("A",3)=$S('SRTIU:"",'SRSINED:"  3. Sign the report electronically",1:"") I SRTIU,'SRSINED S DIR("A",4)=""
"RTN","SRONIN",79,0)
 S DIR("A")="Select number: ",DIR("B")=2,DIR(0)="SAM^1:Edit report information;2:Print/View report from beginning"_$S(('SRSINED&SRTIU):";3:Sign the report electronically",1:"")
"RTN","SRONIN",80,0)
 D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) S (SRLEAVE,SRSOUT)=1 D END Q
"RTN","SRONIN",81,0)
 S SRSEL=Y,SRDO=$S(SRSEL=1:"EDIT",SRSEL=3:"SIGN",1:"DISPLY")
"RTN","SRONIN",82,0)
 D @SRDO D UNLOCK^SROUTL(SRTN)
"RTN","SRONIN",83,0)
 S SRSOUT=0,SRFUNCT=1 D ENF
"RTN","SRONIN",84,0)
 Q
"RTN","SRONIN",85,0)
EDIT ; edit report data fields
"RTN","SRONIN",86,0)
 D CHECK^SROES I SRSOUT Q
"RTN","SRONIN",87,0)
 N SROLOCK,SRX,SRZ D ^SROLOCK I SROLOCK S Q3("VIEW")=""
"RTN","SRONIN",88,0)
 N SRLCK S SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK Q
"RTN","SRONIN",89,0)
 K DA,DR,DIE S SRDTIME=DTIME,DTIME=3600,DIE=130,DA=SRTN,DR="[SRONRPT]",ST="NURSE INTRAOP"_$S(SROLOCK:" **LOCKED",1:"") D EN2^SROVAR,^SRCUSS S DTIME=SRDTIME K Q3("VIEW")
"RTN","SRONIN",90,0)
 I '$P(^SRF(SRTN,0),"^",20) D ^SROPCE1
"RTN","SRONIN",91,0)
 I $D(SRODR) D ^SROCON1
"RTN","SRONIN",92,0)
 S SROERR=SRTN D ^SROERR0
"RTN","SRONIN",93,0)
 D EXIT^SROES
"RTN","SRONIN",94,0)
 Q
"RTN","SRONIN",95,0)
SIGN ; sign report if appropriate user
"RTN","SRONIN",96,0)
 N SRLCK,SRESIG S SRESIG=1,SRLCK=$$LOCK^SROUTL(SRTN) I 'SRLCK Q
"RTN","SRONIN",97,0)
 N SRMISS,SRNUR,SROK,SRA,SRII,SRJ,Y S SRII=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",98,0)
 S (SROK,SRNUR,SRJ)=0 F  S SRNUR=$O(^SRF(SRTN,19,SRNUR)) Q:'SRNUR  S SRJ=1 I $P(^SRF(SRTN,19,SRNUR,0),"^")=DUZ S SROK=1 Q
"RTN","SRONIN",99,0)
 I $D(^XUSEC("SROCHIEF",DUZ)) S SROK=1
"RTN","SRONIN",100,0)
 I 'SROK,'SRJ,SRII D EXTRACT^TIULQ(SRII,"SRA",.SRERR,"1302") I +$G(SRA(SRII,1302,"I"))=DUZ S SROK=1
"RTN","SRONIN",101,0)
 I 'SROK W !!,"Sorry, you are not authorized to sign this report." H 2 Q
"RTN","SRONIN",102,0)
 S SRMISS=0 D ALLIN Q:SRSOUT!SRMISS
"RTN","SRONIN",103,0)
ES D RPT^SRONRPT(SRTN) N SRAY,SRERR,SRI,SRP,SRSIG,SRTIU,X1
"RTN","SRONIN",104,0)
 S SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",105,0)
 D SIG^XUSESIG I X1="" W !!,"Signature failed." H 2 Q
"RTN","SRONIN",106,0)
 F I=1:1 Q:'$D(^TMP("SRNIR",$J,SRTN,I))  S SRAY("TEXT",I,0)=^TMP("SRNIR",$J,SRTN,I)
"RTN","SRONIN",107,0)
 S SRAY(.05)=5 D UPDATE^TIUSRVP(.SRERR,SRTIU,.SRAY,1) K SRAY
"RTN","SRONIN",108,0)
 I +SRERR S SRSINED=1 D
"RTN","SRONIN",109,0)
 .D ES^TIUSROI(SRTIU,DUZ)
"RTN","SRONIN",110,0)
 .S XQAID="SRNIR-"_SRTN,XQAKILL=0 D DELETEA^XQALERT
"RTN","SRONIN",111,0)
 W ! K DIR S DIR(0)="FOA",DIR("A")="Press RETURN to continue... " D ^DIR K DIR
"RTN","SRONIN",112,0)
 Q
"RTN","SRONIN",113,0)
ALLIN N SRFLD,SRI,SRJJ,SRJK,SRM,SRMISS1,SRMISS2,SRMISS3,SRMISS82,SRMISS83,SRMISS84,SRMIS508,SRO,SROO,SRP,SRX,SRY,SRZ
"RTN","SRONIN",114,0)
 K DA,DIC,DIQ,DR S (SREDIT,SRMISS,SRMISS1,SRMISS2,SRMISS3,SRMISS82,SRMISS83,SRMISS84,SRMIS508,SRSOUT)=0
"RTN","SRONIN",115,0)
 S DIC="^SRF(",DA=SRTN,DIQ="SRY",DIQ(0)="I",DR=".205;.232;44;45;46;47;48;71;72;73;506" D EN^DIQ1
"RTN","SRONIN",116,0)
 F SRJJ=82,83,84,49 I '$O(^SRF(SRTN,SRJJ,0)) S SRJK=$S(SRJJ=49:508,1:SRJJ),SRY(130,SRTN,SRJK,"I")=""
"RTN","SRONIN",117,0)
 I $O(^SRF(SRTN,1,0)) S SRO=0 F  S SRO=$O(^SRF(SRTN,1,SRO)) Q:'SRO  S SROO=$G(^SRF(SRTN,1,SRO,2)) D
"RTN","SRONIN",118,0)
 .F SRM=1,2,3 S:$P(SROO,"^",SRM)']"" SRY(130.47,SRTN,SRO_";"_(SRM+7),"I")=""
"RTN","SRONIN",119,0)
 K DA,DIC,DIQ,DR D LIST
"RTN","SRONIN",120,0)
 I $G(SRX(.205))'=""!($G(SRX(.232))'="")!($G(SRX(71))'="")!($G(SRX(72))'="")!($G(SRX(73))'="")!($G(SRX(506))'="") S SRMISS1=1
"RTN","SRONIN",121,0)
 F SRJJ=71,72,73 I (SRY(130,SRTN,SRJJ,"I")="N")!(SRY(130,SRTN,SRJJ,"I")=""),('$O(^SRF(SRTN,SRJJ+11,0))) S @("SRMISS"_(SRJJ+11))=1
"RTN","SRONIN",122,0)
 I SRY(130,SRTN,506,"I")="S"!(SRY(130,SRTN,506,"I")="O"),('$O(^SRF(SRTN,49,0))) S SRMIS508=1
"RTN","SRONIN",123,0)
 I $G(SRX(48))="" F SRZ=44,45,46,47 I $G(SRX(SRZ))'="" S SRMISS2=1 Q
"RTN","SRONIN",124,0)
 I $O(^SRF(SRTN,1,0)) F SRZ=8,9,10 I $O(SRX(130.47,0)) S SRMISS3=1 Q
"RTN","SRONIN",125,0)
 I SRMISS1!SRMISS2!$G(SRMISS82)!$G(SRMISS83)!$G(SRMISS84)!$G(SRMIS508)!(SRMISS3) S SRMISS=1 D MESS Q:SRSOUT  I SREDIT D EDIT Q
"RTN","SRONIN",126,0)
 Q
"RTN","SRONIN",127,0)
MESS ; display list of missing items
"RTN","SRONIN",128,0)
 W @IOF,!,"The following information is required before this report may be signed:",!
"RTN","SRONIN",129,0)
 I SRMISS1 F SRZ=.205,.232,71,72,73,506 I $G(SRX(SRZ))'="" W !,?5,SRX(SRZ)
"RTN","SRONIN",130,0)
 I SRMISS2 F SRZ=44:1:47 I $G(SRX(SRZ))'="" W !,?5,SRX(SRZ)
"RTN","SRONIN",131,0)
 F SRJJ=82,83,84 I $G(@("SRMISS"_SRJJ)),$G(SRX(SRJJ))'="" W !,?5,SRX(SRJJ)
"RTN","SRONIN",132,0)
 I $G(SRMIS508),$G(SRX(508))'="" W !,?5,SRX(508)
"RTN","SRONIN",133,0)
 I SRMISS3 I $O(SRX(130.47,0)) S SRJ=0 F  S SRJ=$O(SRX(130.47,SRJ)) Q:'SRJ  S SRJJ=$P($G(^SRF(SRTN,1,SRJ,0)),"^") D
"RTN","SRONIN",134,0)
 .W !!,?5,"PROSTHESIS INSTALLED item: "_$P(^SRO(131.9,SRJJ,0),"^"),!,?6,"is missing at least one of the three required sterility fields."
"RTN","SRONIN",135,0)
 W ! K DIR S DIR("A")="Do you want to enter this information",DIR("B")="YES",DIR(0)="Y" D ^DIR K DIR,SRX I $D(DTOUT)!$D(DUOUT) S SRSOUT=1 Q
"RTN","SRONIN",136,0)
 I Y S SREDIT=1
"RTN","SRONIN",137,0)
 Q
"RTN","SRONIN",138,0)
CODE ; entry point from coding menu
"RTN","SRONIN",139,0)
 N SRAGE,SRDIV,SRDIVNM,SRDO,SRFUNCT,SRHDR,SRINUSE,SRLEAVE,SRLOC,SRNOEDIT,SRPARAM,SRPRINT,SRSEL,SRSINED,SRDTITL,SRTIU,SRSTAT,SRXX
"RTN","SRONIN",140,0)
 S SRNOEDIT=1,SRDTITL="Nurse Intraoperative Report"
"RTN","SRONIN",141,0)
 S (SRFUNCT,SRLEAVE,SRSINED)=0,SRTIU=$P($G(^SRF(SRTN,"TIU")),"^",2)
"RTN","SRONIN",142,0)
 I SRTIU,$$STATUS^SROESUTL(SRTIU)=7 S SRSINED=1
"RTN","SRONIN",143,0)
 D DISPLY,END
"RTN","SRONIN",144,0)
 Q
"RTN","SRONIN",145,0)
LIST S SRZ=0 F  S SRZ=$O(SRY(130,SRTN,SRZ)) Q:'SRZ  I SRY(130,SRTN,SRZ,"I")="" D TR S X=$T(@SRP),SRFLD=$P(X,";;",2),SRX(SRZ)=$P(SRFLD,"^",2)
"RTN","SRONIN",146,0)
 S SRZ=0,SROO="" F  S SROO=$O(SRY(130.47,SRTN,SROO)) Q:'SROO  I SRY(130.47,SRTN,SROO,"I")="" D
"RTN","SRONIN",147,0)
 .S SRX(130.47,$P(SROO,";"),$P(SROO,";",2))=""
"RTN","SRONIN",148,0)
 Q
"RTN","SRONIN",149,0)
TR S SRP=SRZ,SRP=$TR(SRP,"1234567890.","ABCDEFGHIJP")
"RTN","SRONIN",150,0)
 Q
"RTN","SRONIN",151,0)
PBJE ;;.205^TIME PAT IN OR
"RTN","SRONIN",152,0)
PBCB ;;.232^TIME PAT OUT OR
"RTN","SRONIN",153,0)
DD ;;44^SPONGE COUNT CORRECT (Y/N)
"RTN","SRONIN",154,0)
DE ;;45^SHARPS COUNT CORRECT (Y/N)
"RTN","SRONIN",155,0)
DF ;;46^INSTRUMENT COUNT CORRECT (Y/N)
"RTN","SRONIN",156,0)
DG ;;47^SPONGE, SHARPS, & INST COUNTER
"RTN","SRONIN",157,0)
DH ;;48^COUNT VERIFIER
"RTN","SRONIN",158,0)
GA ;;71^TIME OUT VERIFIED
"RTN","SRONIN",159,0)
GB ;;72^PREOPERATIVE IMAGING CONFIRMED
"RTN","SRONIN",160,0)
GC ;;73^MARKED SITE CONFIRMED
"RTN","SRONIN",161,0)
HB ;;82^TIME OUT VERIFY COMMENTS
"RTN","SRONIN",162,0)
HC ;;83^IMAGING CONFIRMED COMMENTS
"RTN","SRONIN",163,0)
HD ;;84^MARKED SITE COMMENTS
"RTN","SRONIN",164,0)
EJF ;;506^HAIR REMOVAL METHOD
"RTN","SRONIN",165,0)
EJH ;;508^HAIR REMOVAL COMMENTS
"RTN","SRONRPT0")
0^2^B53136625^B53211823
"RTN","SRONRPT0",1,0)
SRONRPT0 ;BIR/ADM - NURSE INTRAOP REPORT ;05/31/06
"RTN","SRONRPT0",2,0)
 ;;3.0; Surgery ;**100,129,147,153,157**;24 Jun 93;Build 3
"RTN","SRONRPT0",3,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT0",4,0)
 ;**         controlled procedure. Local modifications to this routine
"RTN","SRONRPT0",5,0)
 ;**         are prohibited.
"RTN","SRONRPT0",6,0)
 ;
"RTN","SRONRPT0",7,0)
 D LINE(2) S @SRG@(SRI)="OR Support Personnel:" D LINE(1) S @SRG@(SRI)="  Scrubbed",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Circulating" D NURSE
"RTN","SRONRPT0",8,0)
 S SRLF=1,SRLINE="Other Persons in OR: " I '$O(^SRF(SRTN,32,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",9,0)
 I $O(^SRF(SRTN,32,0)) D LINE(1) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT0",10,0)
 .S OTH=0 F  S OTH=$O(^SRF(SRTN,32,OTH)) Q:'OTH  D
"RTN","SRONRPT0",11,0)
 ..S X=^SRF(SRTN,32,OTH,0),SRLINE="  "_$P(X,"^")
"RTN","SRONRPT0",12,0)
 ..S Y=$P(X,"^",2) S:Y'="" SRLINE=SRLINE_" ("_Y_")"
"RTN","SRONRPT0",13,0)
 ..D LINE(1) S @SRG@(SRI)=SRLINE
"RTN","SRONRPT0",14,0)
 S SRLF=1
"RTN","SRONRPT0",15,0)
 S X=$P(SR(.1),"^",9),SRMOOD=$S(X:$E($P(^SRO(135.3,X,0),"^"),1,20),1:"N/A")
"RTN","SRONRPT0",16,0)
 S X=$P(SR(.1),"^",15),SRCONS=$S(X:$E($P(^SRO(135.4,X,0),"^"),1,24),1:"N/A")
"RTN","SRONRPT0",17,0)
 S X=$P(SR(0),"^",7),SRSKIN=$S(X:$E($P(^SRO(135.2,X,0),"^"),1,20),1:"N/A")
"RTN","SRONRPT0",18,0)
 S Y=$P(SR(.1),"^",14),C=$P(^DD(130,.195,0),"^",2) D:Y'="" Y^DIQ S SRCONV=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT0",19,0)
 I 'SRALL,SRMOOD="N/A",SRCONS="N/A" G SKIN
"RTN","SRONRPT0",20,0)
 D LINE(1) S @SRG@(SRI)="Preop Mood:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(18)_SRMOOD,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Preop Consc:",@SRG@(SRI)=@SRG@(SRI)_$$SPACE(56)_SRCONS
"RTN","SRONRPT0",21,0)
SKIN I 'SRALL,SRSKIN="N/A",SRCONV="N/A" G VAL
"RTN","SRONRPT0",22,0)
 D LINE(1) S @SRG@(SRI)="Preop Skin Integ: "_SRSKIN,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Preop Converse: "_SRCONV
"RTN","SRONRPT0",23,0)
VAL S SRLF=1,Y=$P(SR(.6),"^",9),C=$P(^DD(130,.69,0),"^",2) D:Y'="" Y^DIQ S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",24,0)
 I 'SRALL,SRUSER="N/A" G VER
"RTN","SRONRPT0",25,0)
 D LINE(1) S @SRG@(SRI)="Valid Consent/ID Band Confirmed By: "_SRUSER
"RTN","SRONRPT0",26,0)
 ;
"RTN","SRONRPT0",27,0)
VER N II,SROIM,SROUT,SROIN,SRHRM
"RTN","SRONRPT0",28,0)
 S Y=$P(SR("VER"),"^",5),SROIN=$S(Y="Y":"YES",Y="M":"MARKING NOT REQUIRED FOR THIS PROCEDURE",Y="N":"NO - MARKING REQUIRED BUT NOT DONE (see MARKED SITE COMMENTS)",1:"* NOT ENTERED *")
"RTN","SRONRPT0",29,0)
 D LINE(1) S @SRG@(SRI)="Mark on Surgical Site Confirmed: "_$S($L(SROIN)>43:"",1:SROIN)
"RTN","SRONRPT0",30,0)
 I $L(SROIN)>43 D LINE(1) S @SRG@(SRI)=$$SPACE(2)_SROIN
"RTN","SRONRPT0",31,0)
 S II=84 D ENSC,LINE(1)
"RTN","SRONRPT0",32,0)
 S Y=$P(SR("VER"),"^",4),SROIM=$S(Y="Y":"YES",Y="I":"IMAGING NOT REQUIRED FOR THIS PROCEDURE",Y="N":"IMAGING REQUIRED BUT NOT VIEWED (see IMAGING CONFIRMED COMMENTS)",1:"* NOT ENTERED *")
"RTN","SRONRPT0",33,0)
 D LINE(1) S @SRG@(SRI)="Preoperative Imaging Confirmed:  "_$S($L(SROIM)>43:"",1:SROIM)
"RTN","SRONRPT0",34,0)
 I $L(SROIM)>43 D LINE(1) S @SRG@(SRI)=$$SPACE(2)_SROIM
"RTN","SRONRPT0",35,0)
 S II=83 D ENSC,LINE(1)
"RTN","SRONRPT0",36,0)
 S Y=$P(SR("VER"),"^",3),SROUT=$S(Y="Y":"YES",Y="N":"NO (see TIME OUT VERIFIED COMMENTS)",1:"* NOT ENTERED *")
"RTN","SRONRPT0",37,0)
 D LINE(1) S @SRG@(SRI)="Time Out Verification Completed: "_$S($L(SROUT)>43:"",1:SROUT)
"RTN","SRONRPT0",38,0)
 S II=82 D ENSC
"RTN","SRONRPT0",39,0)
 S SRLF=1
"RTN","SRONRPT0",40,0)
 ;
"RTN","SRONRPT0",41,0)
PREP N SRSKIP S SRSKIP=0
"RTN","SRONRPT0",42,0)
 S Y=$P(SR(.1),"^",8),C=$P(^DD(130,.18,0),"^",2) D:Y'="" Y^DIQ,N(25) S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",43,0)
 S Y=$P(SR(.1),"^",7),C=$P(^DD(130,.175,0),"^",2) D:Y'="" Y^DIQ S SRAGNT=$S(Y="":"N/A",1:$E(Y,1,22))
"RTN","SRONRPT0",44,0)
 I 'SRALL,SRUSER="N/A",SRAGNT="N/A" G PREP2
"RTN","SRONRPT0",45,0)
 D LINE(1) S @SRG@(SRI)="Skin Prep By: "_SRUSER,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Skin Prep Agent: "_SRAGNT
"RTN","SRONRPT0",46,0)
 S SRSKIP=1
"RTN","SRONRPT0",47,0)
PREP2 S Y=$P(SR(.1),"^",12),C=$P(^DD(130,4,0),"^",2) D:Y'="" Y^DIQ,N(21) S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",48,0)
 S Y=$P(SR(31),"^",2),C=$P(^DD(130,8,0),"^",2) D:Y'="" Y^DIQ S SRAGNT=$S(Y="":"N/A",1:$E(Y,1,18))
"RTN","SRONRPT0",49,0)
 I 'SRALL,SRUSER="N/A",SRAGNT="N/A" G PREOP
"RTN","SRONRPT0",50,0)
 D LINE(1) S @SRG@(SRI)="Skin Prep By (2): "_SRUSER,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"2nd Skin Prep Agent: "_SRAGNT
"RTN","SRONRPT0",51,0)
 S SRSKIP=0 D LINE(1)
"RTN","SRONRPT0",52,0)
PREOP S Y=$P(SR(.1),"^",2),C=$P(^DD(130,.12,0),"^",2) D:Y'="" Y^DIQ S SRUSER=$S(Y="":"N/A",1:Y)
"RTN","SRONRPT0",53,0)
 D:SRSKIP LINE(1) D LINE(1) S @SRG@(SRI)="Preop Surgical Site Hair Removal by: "_SRUSER
"RTN","SRONRPT0",54,0)
 S Y=$P(SR("VER"),"^",6),C=$P(^DD(130,506,0),"^",2) D:Y'="" Y^DIQ S SRHRM=$S(Y="":"* NOT ENTERED *",1:Y)
"RTN","SRONRPT0",55,0)
 D LINE(1) S @SRG@(SRI)="Surgical Site Hair Removal Method: "_$S($L(SRHRM)>43:"",1:SRHRM)
"RTN","SRONRPT0",56,0)
 I $L(SRHRM)>43 D LINE(1) S @SRG@(SRI)=$$SPACE(2)_SRHRM
"RTN","SRONRPT0",57,0)
 S II=49 D ENSC
"RTN","SRONRPT0",58,0)
 ;
"RTN","SRONRPT0",59,0)
POS S SRLF=1,SRLINE="Surgery Position(s): " I '$O(^SRF(SRTN,42,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",60,0)
 I $O(^SRF(SRTN,42,0)) D LINE(1) S @SRG@(SRI)=SRLINE D
"RTN","SRONRPT0",61,0)
 .S SRP=0 F  S SRP=$O(^SRF(SRTN,42,SRP)) Q:'SRP  S X=^SRF(SRTN,42,SRP,0),Z=$P(X,"^"),Y=$P(X,"^",2) D
"RTN","SRONRPT0",62,0)
 ..S SRPOS=$P(^SRO(132,Z,0),"^") D:Y D^DIQ S SRTIME=$S(Y'="":$P(Y,"@")_"  "_$P(Y,"@",2),1:"N/A")
"RTN","SRONRPT0",63,0)
 ..D LINE(1) S @SRG@(SRI)="  "_SRPOS,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Placed: "_SRTIME
"RTN","SRONRPT0",64,0)
 S SRLF=1,SRLINE="Restraints and Position Aids: "
"RTN","SRONRPT0",65,0)
 I '$O(^SRF(SRTN,20,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT0",66,0)
 I $O(^SRF(SRTN,20,0)) N SRRP D LINE(1) S @SRG@(SRI)=SRLINE,(SRRP,CNT)=0 F  S SRRP=$O(^SRF(SRTN,20,SRRP)) Q:'SRRP  S CNT=CNT+1,X=^SRF(SRTN,20,SRRP,0),Z=$P(X,"^"),Y=$P(X,"^",2),W=$P(X,"^",3) D
"RTN","SRONRPT0",67,0)
 .S SREST=$P(^SRO(132.05,Z,0),"^"),C=$P(^DD(130.31,1,0),"^",2) D:Y'="" Y^DIQ,N(31) S:Y="" Y="N/A"
"RTN","SRONRPT0",68,0)
 .D LINE(1) S @SRG@(SRI)="  "_SREST,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(36)_"Applied By: "_Y
"RTN","SRONRPT0",69,0)
 .I W'="" D LINE(1) S @SRG@(SRI)="      Comments: "_W
"RTN","SRONRPT0",70,0)
 S SRLF=1,X=$P(SR(.7),"^",5),SREL=$S(X'="":X,1:"N/A")
"RTN","SRONRPT0",71,0)
 S X=$P(SR(.5),"^",4),SRELP=$S(X:$P(^SRO(138,X,0),"^"),1:"N/A")
"RTN","SRONRPT0",72,0)
 S X=$P(SR(.5),"^",13),SRELP2=$S(X:$P(^SRO(138,X,0),"^"),1:"")
"RTN","SRONRPT0",73,0)
 S X=$P(SR(.7),"^"),SRC=$S(X'="":X,1:"N/A"),X=$P(SR(.7),"^",2),SRCT=$S(X'="":X,1:"N/A")
"RTN","SRONRPT0",74,0)
 I 'SRALL,SREL="N/A",SRELP="N/A",SRELP2="" G LAB
"RTN","SRONRPT0",75,0)
 D LINE(1) S @SRG@(SRI)="Electrocautery Unit:       "_SREL
"RTN","SRONRPT0",76,0)
 D LINE(1) S @SRG@(SRI)="ESU Coagulation Range:     "_SRC
"RTN","SRONRPT0",77,0)
 D LINE(1) S @SRG@(SRI)="ESU Cutting Range:         "_SRCT
"RTN","SRONRPT0",78,0)
 D LINE(1) S @SRG@(SRI)="Electroground Position(s): "_SRELP
"RTN","SRONRPT0",79,0)
 I SRELP2'="" D LINE(1) S @SRG@(SRI)=$$SPACE(27)_SRELP2
"RTN","SRONRPT0",80,0)
LAB S SRLF=1 I $O(^SRF(SRTN,9,0))!SRALL D LAB1
"RTN","SRONRPT0",81,0)
 S SRLF=1 I $O(^SRF(SRTN,6,0)) D LINE(1) S @SRG@(SRI)="Anesthesia Technique(s):" S ANE=0 F  S ANE=$O(^SRF(SRTN,6,ANE)) Q:'ANE  D ANE
"RTN","SRONRPT0",82,0)
 I '$O(^SRF(SRTN,6,0)),SRALL D LINE(1) S @SRG@(SRI)="Anesthesia Technique(s): N/A"
"RTN","SRONRPT0",83,0)
 D ^SRONRPT1
"RTN","SRONRPT0",84,0)
 Q
"RTN","SRONRPT0",85,0)
NURSE ; nurse info
"RTN","SRONRPT0",86,0)
 N CNT,CIRC,I,NURSE,SCRU,X,Y,Z
"RTN","SRONRPT0",87,0)
 S (CNT,CIRC)=0 F  S CIRC=$O(^SRF(SRTN,19,CIRC)) Q:'CIRC  S CNT=CNT+1 D
"RTN","SRONRPT0",88,0)
 .S Z=^SRF(SRTN,19,CIRC,0),Y=$P(Z,"^"),C=$P(^DD(130.28,.01,0),"^",2) D Y^DIQ,N(21) S SRX=Y
"RTN","SRONRPT0",89,0)
 .S Y=$P(Z,"^",3),C=$P(^DD(130.28,3,0),"^",2) D:Y'="" Y^DIQ S CIRC(CNT)=SRX_" ("_Y_")"
"RTN","SRONRPT0",90,0)
 S (CNT,SCRU)=0 F  S SCRU=$O(^SRF(SRTN,23,SCRU)) Q:'SCRU  S CNT=CNT+1 D
"RTN","SRONRPT0",91,0)
 .S Z=^SRF(SRTN,23,SCRU,0),Y=$P(Z,"^"),C=$P(^DD(130.36,.01,0),"^",2) D Y^DIQ,N(21) S SRX=Y
"RTN","SRONRPT0",92,0)
 .S Y=$P(Z,"^",3),C=$P(^DD(130.36,3,0),"^",2) D:Y'="" Y^DIQ S SCRU(CNT)=SRX_" ("_Y_")"
"RTN","SRONRPT0",93,0)
 S:'$D(SCRU(1)) SCRU(1)="N/A" S:'$D(CIRC(1)) CIRC(1)="N/A"
"RTN","SRONRPT0",94,0)
 F I=1:1 Q:('$D(SCRU(I))&'$D(CIRC(I)))  S NURSE(I)=$S($D(SCRU(I)):SCRU(I),1:"")_"^"_$S($D(CIRC(I)):CIRC(I),1:"")
"RTN","SRONRPT0",95,0)
 S I=0 F  S I=$O(NURSE(I)) Q:'I  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_$P(NURSE(I),"^") S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_$P(NURSE(I),"^",2)
"RTN","SRONRPT0",96,0)
 Q
"RTN","SRONRPT0",97,0)
LAB1 N SRSP S SRLF=1 D LINE(1) S @SRG@(SRI)="Material Sent to Laboratory for Analysis: "
"RTN","SRONRPT0",98,0)
 I 'SRALL,'$O(^SRF(SRTN,9,0)),'$O(^SRF(SRTN,41,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",99,0)
 D LINE(1) S @SRG@(SRI)="Specimens: " D
"RTN","SRONRPT0",100,0)
 .I '$O(^SRF(SRTN,9,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",101,0)
 .S SRSP=0 F  S SRSP=$O(^SRF(SRTN,9,SRSP)) Q:'SRSP  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_^SRF(SRTN,9,SRSP,0)
"RTN","SRONRPT0",102,0)
 D LINE(1) S @SRG@(SRI)="Cultures:  " D
"RTN","SRONRPT0",103,0)
 .I '$O(^SRF(SRTN,41,0)) S @SRG@(SRI)=@SRG@(SRI)_"N/A" Q
"RTN","SRONRPT0",104,0)
 .S SRSP=0 F  S SRSP=$O(^SRF(SRTN,41,SRSP)) Q:'SRSP  D LINE(1) S @SRG@(SRI)=$$SPACE(2)_^SRF(SRTN,41,SRSP,0)
"RTN","SRONRPT0",105,0)
 Q
"RTN","SRONRPT0",106,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT0",107,0)
 Q
"RTN","SRONRPT0",108,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT0",109,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT0",110,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT0",111,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT0",112,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT0",113,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT0",114,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT0",115,0)
 Q
"RTN","SRONRPT0",116,0)
ANE ; print anesthesia technique
"RTN","SRONRPT0",117,0)
 N A,AGNT,C,CNT,DRUG
"RTN","SRONRPT0",118,0)
 S A=^SRF(SRTN,6,ANE,0),Y=$P(A,"^"),C=$P(^DD(130.06,.01,0),"^",2) D:Y'="" Y^DIQ D LINE(1) S Y=Y_$S($P(A,"^",3)="Y":"  (PRINCIPAL)",1:""),@SRG@(SRI)=$$SPACE(2)_Y
"RTN","SRONRPT0",119,0)
 Q
"RTN","SRONRPT0",120,0)
ENSC N X,SRLINE
"RTN","SRONRPT0",121,0)
 D LINE(1) S @SRG@(SRI)="  "_$S(II=82:"Time Out Verified Comments: ",II=83:"Imaging Confirmed Comments: ",II=84:"Marked Site Comments: ",II=49:"Hair Removal Comments: ",1:"") D
"RTN","SRONRPT0",122,0)
 .I '$O(^SRF(SRTN,II,0)) S @SRG@(SRI)=@SRG@(SRI)_"NO COMMENTS ENTERED" Q
"RTN","SRONRPT0",123,0)
 .S SRLINE=0 F  S SRLINE=$O(^SRF(SRTN,II,SRLINE)) Q:'SRLINE  S X=^SRF(SRTN,II,SRLINE,0) D COMM^SRONRPT3(X,3)
"RTN","SRONRPT0",124,0)
 Q
"RTN","SRONRPT1")
0^1^B25866896^B22642104
"RTN","SRONRPT1",1,0)
SRONRPT1 ;BIR/ADM - NURSE INTRAOP REPORT ;02/20/05
"RTN","SRONRPT1",2,0)
 ;;3.0; Surgery ;**100,143,157**;24 Jun 93;Build 3
"RTN","SRONRPT1",3,0)
 ;
"RTN","SRONRPT1",4,0)
 ;** NOTICE: This routine is part of an implementation of a nationally
"RTN","SRONRPT1",5,0)
 ;**         controlled procedure.  Local modifications to this routine
"RTN","SRONRPT1",6,0)
 ;**         are prohibited.
"RTN","SRONRPT1",7,0)
 ;
"RTN","SRONRPT1",8,0)
 S SRLF=1 N SRTD S SRTD=$P($G(^SRF(SRTN,3)),"^") I SRTD="",SRALL D LINE(1) S @SRG@(SRI)="Tubes and Drains: N/A"
"RTN","SRONRPT1",9,0)
 I SRTD'="" D LINE(1) S @SRG@(SRI)="Tubes and Drains: " D LINE(1) S @SRG@(SRI)="  "_SRTD
"RTN","SRONRPT1",10,0)
 S SRLF=1 I '$O(^SRF(SRTN,2,0)),SRALL D LINE(1) S @SRG@(SRI)="Tourniquet: N/A"
"RTN","SRONRPT1",11,0)
 I $O(^SRF(SRTN,2,0)) D LINE(1) S @SRG@(SRI)="Tourniquet:" D TOUR
"RTN","SRONRPT1",12,0)
 S SRLF=1,SRLINE="Thermal Unit: " I '$O(^SRF(SRTN,21,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",13,0)
 I $O(^SRF(SRTN,21,0)) D LINE(1) S @SRG@(SRI)=SRLINE D THERM
"RTN","SRONRPT1",14,0)
 S SRLF=1,SRLINE="Prosthesis Installed: " I '$O(^SRF(SRTN,1,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",15,0)
 I $O(^SRF(SRTN,1,0)) D LINE(1) S @SRG@(SRI)=SRLINE D PRO
"RTN","SRONRPT1",16,0)
 S SRLF=1,SRLINE="Medications: " I '$O(^SRF(SRTN,22,0)),SRALL D LINE(1) S @SRG@(SRI)=SRLINE_"N/A"
"RTN","SRONRPT1",17,0)
 I $O(^SRF(SRTN,22,0)) D LINE(1) S @SRG@(SRI)=SRLINE D MED
"RTN","SRONRPT1",18,0)
 D ^SRONRPT2
"RTN","SRONRPT1",19,0)
 Q
"RTN","SRONRPT1",20,0)
MED ; medications
"RTN","SRONRPT1",21,0)
 N ADBY,ADM,COMMENT,DOSE,DRUG,MED,MM,ORBY,ROUTE,TIME
"RTN","SRONRPT1",22,0)
 S MED=0 F  S MED=$O(^SRF(SRTN,22,MED)) Q:'MED  D
"RTN","SRONRPT1",23,0)
 .S Y=$P(^SRF(SRTN,22,MED,0),"^"),C=$P(^DD(130.33,.01,0),"^",2) D Y^DIQ,LINE(1) S @SRG@(SRI)="  "_Y,ADM=0 F  S ADM=$O(^SRF(SRTN,22,MED,1,ADM)) Q:'ADM  D
"RTN","SRONRPT1",24,0)
 ..S MM=^SRF(SRTN,22,MED,1,ADM,0),Y=$P(MM,"^") D D^DIQ S TIME=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT1",25,0)
 ..S DOSE=$P(MM,"^",2),X=$P(MM,"^",3) S:X="" ORBY="N/A" I X S Y=$P(^VA(200,X,0),"^") D N(20) S ORBY=Y
"RTN","SRONRPT1",26,0)
 ..S X=$P(MM,"^",4) S:X="" ADBY="N/A" I X S Y=$P(^VA(200,X,0),"^") D N(29) S ADBY=Y
"RTN","SRONRPT1",27,0)
 ..S Y=$P(MM,"^",5),C=$P(^DD(130.34,4,0),"^",2) D:Y'="" Y^DIQ S ROUTE=Y
"RTN","SRONRPT1",28,0)
 ..S COMMENT=$P(MM,"^",6) S:COMMENT="" COMMENT="N/A"
"RTN","SRONRPT1",29,0)
 ..D LINE(1) S @SRG@(SRI)="    Time Administered: "_TIME D LINE(1) S @SRG@(SRI)="      Route: "_ROUTE,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Dosage: "_DOSE
"RTN","SRONRPT1",30,0)
 ..D LINE(1) S @SRG@(SRI)="      Ordered By: "_ORBY S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Admin By: "_ADBY
"RTN","SRONRPT1",31,0)
 ..D LINE(1) S @SRG@(SRI)="      Comments: "_COMMENT
"RTN","SRONRPT1",32,0)
 Q
"RTN","SRONRPT1",33,0)
N(SRL) N SRN I $L(Y)>SRL S SRN=$P(Y,",")_","_$E($P(Y,",",2))_".",Y=SRN
"RTN","SRONRPT1",34,0)
 Q
"RTN","SRONRPT1",35,0)
PRO ; prosthesis
"RTN","SRONRPT1",36,0)
 N C,ITEM,MODEL,PRO,QTY,SERIAL,SIZE,SRISC,SRSED,SRRN,STERILE,VENDOR
"RTN","SRONRPT1",37,0)
 S PRO=0 F  S PRO=$O(^SRF(SRTN,1,PRO)) Q:'PRO  D
"RTN","SRONRPT1",38,0)
 .S X=^SRF(SRTN,1,PRO,0),ITEM=$P(X,"^"),VENDOR=$P(X,"^",2),MODEL=$P(X,"^",3),SERIAL=$P(X,"^",5),Y=$P(X,"^",7),C=$P(^DD(130.01,5,0),"^",2) D:Y'="" Y^DIQ S STERILE=$S(Y'="":Y,1:"N/A")
"RTN","SRONRPT1",39,0)
 .S X=$G(^SRF(SRTN,1,PRO,1)),SIZE=$P(X,"^"),QTY=$P(X,"^",2)
"RTN","SRONRPT1",40,0)
 .S X=$G(^SRF(SRTN,1,PRO,2)),SRISC=$S($P(X,"^")="Y":"YES",1:$P(X,"^"))
"RTN","SRONRPT1",41,0)
 .S Y=$P(X,"^",2),C=$P(^DD(130.01,9,0),"^",2) D:Y'="" Y^DIQ S SRSED=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT1",42,0)
 .S Y=$P(X,"^",3),C=$P(^DD(130.01,10,0),"^",2) D:Y'="" Y^DIQ S SRRN=$S(Y="":"NOT ENTERED",1:Y)
"RTN","SRONRPT1",43,0)
 .D LINE(1) S @SRG@(SRI)="  Item: "_$P(^SRO(131.9,ITEM,0),"^")
"RTN","SRONRPT1",44,0)
 .D LINE(1) S @SRG@(SRI)="    Implant Sterility Checked (Y/N): "_$S(SRISC'="":SRISC,1:"NOT ENTERED")
"RTN","SRONRPT1",45,0)
 .D LINE(1) S @SRG@(SRI)="    Sterility Expiration Date: "_SRSED
"RTN","SRONRPT1",46,0)
 .D LINE(1) S @SRG@(SRI)="    RN Verifier: "_SRRN
"RTN","SRONRPT1",47,0)
 .D LINE(1) S @SRG@(SRI)="    Vendor: "_$S(VENDOR'="":VENDOR,1:"N/A")
"RTN","SRONRPT1",48,0)
 .D LINE(1) S @SRG@(SRI)="    Model: "_$S(MODEL'="":MODEL,1:"N/A")
"RTN","SRONRPT1",49,0)
 .D LINE(1) S @SRG@(SRI)="    Lot/Serial Number: "_$S(SERIAL'="":SERIAL,1:"N/A"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(53)_"Sterile Resp: "_STERILE
"RTN","SRONRPT1",50,0)
 .D LINE(1) S @SRG@(SRI)="    Size: "_$S(SIZE'="":SIZE,1:"N/A"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(53)_"Quantity: "_$S(QTY'="":QTY,1:"N/A")
"RTN","SRONRPT1",51,0)
 Q
"RTN","SRONRPT1",52,0)
THERM ; thermal unit
"RTN","SRONRPT1",53,0)
 N OFF,ON,TEMP,TH,UNIT S TH=0 F  S TH=$O(^SRF(SRTN,21,TH)) Q:'TH  D
"RTN","SRONRPT1",54,0)
 .S UNIT=^SRF(SRTN,21,TH,0),TEMP=$P(UNIT,"^",3),TEMP=$S(TEMP'="":TEMP,1:"N/A"),ON=$P(UNIT,"^",2),OFF=$P(UNIT,"^",4)
"RTN","SRONRPT1",55,0)
 .D LINE(1) S @SRG@(SRI)="  "_$P(UNIT,"^"),@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Temperature: "_TEMP
"RTN","SRONRPT1",56,0)
 .S Y=ON D:Y D^DIQ S ON=$S(Y="":"N/A",1:$P(Y,"@")_"  "_$P(Y,"@",2)),Y=OFF D:Y D^DIQ S OFF=$S(Y="":"N/A",1:$P(Y,"@")_"  "_$P(Y,"@",2))
"RTN","SRONRPT1",57,0)
 .D LINE(1) S @SRG@(SRI)="    Time On: "_ON,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Time Off: "_OFF
"RTN","SRONRPT1",58,0)
 Q
"RTN","SRONRPT1",59,0)
TOUR ; tourniquet info
"RTN","SRONRPT1",60,0)
 N APBY,C,M,PRESS,SITE,TIME,TIME2,TOUR
"RTN","SRONRPT1",61,0)
 S TOUR=0 F  S TOUR=$O(^SRF(SRTN,2,TOUR)) Q:'TOUR  D
"RTN","SRONRPT1",62,0)
 .S M=^SRF(SRTN,2,TOUR,0),Y=$P(M,"^") D D^DIQ S TIME=$P(Y,"@")_"  "_$P(Y,"@",2),Y=$P(M,"^",4) S TIME2="NOT ENTERED" I Y D D^DIQ S TIME2=$P(Y,"@")_"  "_$P(Y,"@",2)
"RTN","SRONRPT1",63,0)
 .D LINE(1) S @SRG@(SRI)="  Time Applied: "_TIME S @SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Time Released: "_TIME2
"RTN","SRONRPT1",64,0)
 .S Y=$P(M,"^",2),C=$P(^DD(130.02,1,0),"^",2) D:Y'="" Y^DIQ S SITE=$S(Y="":"NOT ENTERED",1:Y),X=$P(M,"^",5),PRESS=$S(X="":"N/A",1:X)
"RTN","SRONRPT1",65,0)
 .D LINE(1) S @SRG@(SRI)="    Site Applied: "_SITE,@SRG@(SRI)=@SRG@(SRI)_$$SPACE(40)_"Pressure Applied (in TORR): "_PRESS
"RTN","SRONRPT1",66,0)
 .S Y=$P(M,"^",3),C=$P(^DD(130.02,2,0),"^",2) D:Y'="" Y^DIQ S APBY=$S(Y="":"N/A",1:Y) D LINE(1) S @SRG@(SRI)="    Applied By: "_APBY
"RTN","SRONRPT1",67,0)
 Q
"RTN","SRONRPT1",68,0)
SPACE(NUM) ; create spaces
"RTN","SRONRPT1",69,0)
 ;pass in position returns number of needed spaces
"RTN","SRONRPT1",70,0)
 I '$D(@SRG@(SRI)) S @SRG@(SRI)=""
"RTN","SRONRPT1",71,0)
 Q $J("",NUM-$L(@SRG@(SRI)))
"RTN","SRONRPT1",72,0)
LINE(NUM) ; create carriage returns
"RTN","SRONRPT1",73,0)
 I $G(SRLF) S NUM=NUM+1,SRLF=0
"RTN","SRONRPT1",74,0)
 F J=1:1:NUM S SRI=SRI+1,@SRG@(SRI)=""
"RTN","SRONRPT1",75,0)
 Q
"RTN","SROVAR")
0^5^B34682563^B31317243
"RTN","SROVAR",1,0)
SROVAR ;BIR/MAM,ADM - SITE PARAMETERS ;10/04/05
"RTN","SROVAR",2,0)
 ;;3.0; Surgery ;**17,38,48,67,77,50,87,88,102,107,100,134,144,157**;24 Jun 93;Build 3
"RTN","SROVAR",3,0)
 ;
"RTN","SROVAR",4,0)
 ; Reference to ^TMP("CSLSUR1" supported by DBIA #3498
"RTN","SROVAR",5,0)
 ;
"RTN","SROVAR",6,0)
 K ^TMP("CSLSUR1",$J),^TMP("SRPFSS",$J) D CLEAR
"RTN","SROVAR",7,0)
 I $D(SRSITE) Q
"RTN","SROVAR",8,0)
 D CPT
"RTN","SROVAR",9,0)
 K SRL S (SRCNT,X)=0 F  S X=$O(^SRO(133,X)) Q:'X  I '$P($G(^SRO(133,X,0)),"^",21) S SRCNT=SRCNT+1,SRL(SRCNT)=X
"RTN","SROVAR",10,0)
 I SRCNT=1 S SRSITE=SRL(1) G SET
"RTN","SROVAR",11,0)
 K XQUIT,DIR W ! I SRCNT>1 S DIR("?",1)="  Because there is more than one division in the SURGERY SITE PARAMETERS",DIR("?")="  file, a division must be selected."
"RTN","SROVAR",12,0)
 S DIR(0)="P^133:EM",DIR("A")="Select Division",DIR("S")="I '$P(^SRO(133,+Y,0),U,21)" D ^DIR K DIR I $D(DTOUT)!$D(DUOUT) D ^SRSKILL S XQUIT="" Q
"RTN","SROVAR",13,0)
 S SRSITE=+Y
"RTN","SROVAR",14,0)
SET ; set site parameters
"RTN","SROVAR",15,0)
 S S(0)=^SRO(133,SRSITE,0),SRSITE("AML")=$P(S(0),"^",4),SRSITE("REQ")=$P(S(0),"^",2) K:SRSITE("REQ")="" SRSITE("REQ")
"RTN","SROVAR",16,0)
 S SRSITE("IV")=$P(S(0),"^",7) K:SRSITE("IV")="" SRSITE("IV")
"RTN","SROVAR",17,0)
 S SRSITE("DIV")=$P(S(0),"^"),SRSITE("SITE")=$$GET1^DIQ(4,SRSITE("DIV"),.01)
"RTN","SROVAR",18,0)
 S SRSITE("NRPT")=$P(S(0),"^",6) I SRSITE("NRPT")="" S SRSITE("NRPT")=1
"RTN","SROVAR",19,0)
 I '$D(SRSITE("OPTION")),$D(XQY) S SRSITE("OPTION")=XQY
"RTN","SROVAR",20,0)
 K S
"RTN","SROVAR",21,0)
 Q
"RTN","SROVAR",22,0)
CPT ; display CPT copyright notice
"RTN","SROVAR",23,0)
 N SRCPT,SRDIV S (SRCPT,SRDIV)=0 F  S SRDIV=$O(^SRO(133,SRDIV)) Q:'SRDIV  I $D(^SRO(133,SRDIV,6,DT,1,DUZ)) S SRCPT=1 Q
"RTN","SROVAR",24,0)
 Q:SRCPT  D COPY^ICPTAPIU I $G(IOST)'["P-" W ! K DIR S DIR("A")="Press the 'Return' key to continue",DIR(0)="FOA" D ^DIR K DIR
"RTN","SROVAR",25,0)
 K DD,DO,DA,DIC S SRDIV=$O(^SRO(133,0))
"RTN","SROVAR",26,0)
 I '$D(^SRO(133,SRDIV,6,DT,0)) S X=DT,DA(1)=SRDIV,DIC="^SRO(133,SRDIV,6,",DIC("P")=$P(^DD(133,36,0),"^",2),DIC(0)="L",DINUM=X D FILE^DICN K DD,DO,DA,DIC I Y=-1 Q
"RTN","SROVAR",27,0)
 S X=DUZ,DA(2)=SRDIV,DA(1)=DT,DIC="^SRO(133,SRDIV,6,DT,1,",DIC("P")=$P(^DD(133.036,1,0),"^",2),DIC(0)="L",DINUM=X D FILE^DICN K DA,DD,DIC,DO
"RTN","SROVAR",28,0)
 Q
"RTN","SROVAR",29,0)
EN2 ; set view only and titles for screens
"RTN","SROVAR",30,0)
 I '$D(^XUSEC("SROEDIT",DUZ)) S Q3("VIEW")=""
"RTN","SROVAR",31,0)
 Q:'$D(SRTN)  Q:SRTN<1  S:'$D(ST) ST="SCHEDULING" S DFN=$P(^SRF(SRTN,0),"^") D DEM^VADPT S SRN=$E(VADM(1),1,20),Q3(1)="** "_ST_" **   CASE #"_SRTN_"  "_SRN_" "
"RTN","SROVAR",32,0)
 Q
"RTN","SROVAR",33,0)
DEV S SRION=$S($D(ION):ION,1:"HOME") K %ZIS S %ZIS="QN",IOP=X D ^%ZIS I POP S IOP=SRION D ^%ZIS K %ZIS,IOP,SRION,X Q
"RTN","SROVAR",34,0)
 W $S(X=$E(ION,1,$L(X)):$E(ION,$L(X)+1,$L(ION)),1:"  "_ION) S X=ION D ^%ZISC K %ZIS,SRION,IOP Q
"RTN","SROVAR",35,0)
 Q
"RTN","SROVAR",36,0)
TIME ; transform time to date of operation at that time
"RTN","SROVAR",37,0)
 I $D(SRSMED) S DA=SRTN
"RTN","SROVAR",38,0)
 S:$D(SRTN) SRTDA=DA,DA=SRTN S X=$S(X?1.4N.A!(X?1.2N1":"2N.A):Z_"@"_X,1:X)
"RTN","SROVAR",39,0)
 S %DT="EPTXR" D ^%DT S X=Y G:'$D(^SRF(DA,.2)) RESET I X>0 S SRSTART=$P(^SRF($S($D(SRTN):SRTN,1:DA),.2),"^",15) I SRSTART'="" D BEFORE
"RTN","SROVAR",40,0)
 S:$D(SRTDA) DA=SRTDA Q
"RTN","SROVAR",41,0)
BEFORE W:X<SRSTART !!,"The time entered is before the 'TIME PAT IN HOLD AREA'.  Please check the",!,"DATE/TIME entered for this field." H 2
"RTN","SROVAR",42,0)
 Q
"RTN","SROVAR",43,0)
RESET S:$D(SRTDA) DA=SRTDA Q
"RTN","SROVAR",44,0)
INPUT ; input transfor for ASA CLASS
"RTN","SROVAR",45,0)
 S:'$D(DA) DA=SRTN S SRFLD=1.13 I $D(^SRF(DA,"CON")),$P(^("CON"),"^") D ^SROCON Q
"RTN","SROVAR",46,0)
 Q
"RTN","SROVAR",47,0)
PARAM ; enter/edit site parameters
"RTN","SROVAR",48,0)
 W @IOF K DIC,DINUM S DIC=133,DIC(0)="QEAMZL",DLAYGO=133,DIC("A")="Edit Parameters for which Surgery Site: " D ^DIC K DIC I Y<0 W @IOF Q
"RTN","SROVAR",49,0)
 N SRDIV,SRN,SRNAME,SRNUM S SRDIV=+Y,SRN=+Y(0),SRNAME=Y(0,0),SRNUM=$$GET1^DIQ(4,SRN,99),Q3(1)=" "_SRNAME_"  ("_SRNUM_") "
"RTN","SROVAR",50,0)
 K DIE,DR,DA,Y S DA=SRDIV,DR="[SRPARAM]",DIE=133 D ^SRCUSS K DR,DIE,DA,ST W @IOF I $D(SRSITE) D SET
"RTN","SROVAR",51,0)
 Q
"RTN","SROVAR",52,0)
EXIT ; exit action for all Surgery options
"RTN","SROVAR",53,0)
 I $D(XQY),$G(SRSITE("OPTION"))=XQY K SRSITE,SRTN,^TMP("SRCUSS",$J)
"RTN","SROVAR",54,0)
 D CLEAR
"RTN","SROVAR",55,0)
 Q
"RTN","SROVAR",56,0)
SITE() ; extrinsic call to output Institution file pointer (from Default Institution field in file 4.3)^Institution name^Station number
"RTN","SROVAR",57,0)
 N SITE,SRI,SRX,SRY
"RTN","SROVAR",58,0)
 S SITE=$$KSP^XUPARAM("INST") I 'SITE Q SITE
"RTN","SROVAR",59,0)
 S SRX=SITE F SRI=.01,99 S SRY=$$GET1^DIQ(4,SRX,SRI),SITE=SITE_"^"_SRY
"RTN","SROVAR",60,0)
 Q SITE
"RTN","SROVAR",61,0)
OFF1 ; compare time off with time on
"RTN","SROVAR",62,0)
 S Z=$E($P(^SRF($S($D(SRTN):SRTN,1:DA(1)),0),"^",9),1,7),X=$S(X?1.4N.A!(X?1.2N1":"2N.A):Z_"@"_X,1:X) K %DT,Z S %DT="PTXR" D ^%DT S X=Y I Y<1 D OUT Q
"RTN","SROVAR",63,0)
 S SRSTART=$P(^SRF(DA(1),SRSUB,DA,0),"^",SRP) D COMP
"RTN","SROVAR",64,0)
 Q
"RTN","SROVAR",65,0)
OFF2 ; compare time off with time on
"RTN","SROVAR",66,0)
 S Z=$E($P(^SRF($S($D(SRTN):SRTN,1:DA(2)),0),"^",9),1,7),X=$S(X?1.4N.A!(X?1.2N1":"2N.A):Z_"@"_X,1:X) K %DT,Z S %DT="PTXR" D ^%DT S X=Y I Y<1 D OUT Q
"RTN","SROVAR",67,0)
 S SRSTART=$P(^SRF(DA(2),SRSUB,DA(1),1,DA,0),"^",SRP)
"RTN","SROVAR",68,0)
COMP I X<SRSTART W !!,"Time Off should be later than Time On.",! S X=-1
"RTN","SROVAR",69,0)
OUT K %DT,SR130,SRN,SRP,SRSTART,SRSUB
"RTN","SROVAR",70,0)
 Q
"RTN","SROVAR",71,0)
TERM ; compare stop time with start time
"RTN","SROVAR",72,0)
 N SRINOR,SRSTART,SRV,SRY,T,Z
"RTN","SROVAR",73,0)
 I $D(DA) S SRINOR=$S($P($G(^SRF(DA,"NON")),"^")="Y":$P($G(^SRF(DA,"NON")),"^",4),1:$P($G(^SRF(DA,.2)),"^",10)) I 'SRINOR D  K X D OUT Q
"RTN","SROVAR",74,0)
 .D EN^DDIOL(">>> Please enter 'TIME "_$S($P($G(^SRF(DA,"NON")),"^")="Y":"PROCEDURE BEGAN",1:"PAT IN OR")_"' first !! <<<","","!!?5")
"RTN","SROVAR",75,0)
 .D EN^DDIOL("","","!")
"RTN","SROVAR",76,0)
 S Z=$E(SRINOR,1,7),X=$S(X?1.4N.A!(X?1.2N1":"2N.A):Z_"@"_X,1:X)
"RTN","SROVAR",77,0)
 K %DT,Z S %DT="PTXR" D ^%DT S X=Y I Y<1 D OUT Q
"RTN","SROVAR",78,0)
 I $D(DA) S Z=$P($G(^SRF(DA,SRN)),"^",SRP),SRSTART=$S(Z:Z,1:SRINOR),SRNULL=$S(Z:0,1:1) I X<SRSTART S Z=$P(SRINOR,"."),T=$P(X,".",2),X1=Z_"."_T,X2=1 D C^%DTC D PLUS24 I '$D(X) D OUT Q
"RTN","SROVAR",79,0)
 K %DT S %DT="EPTXR" D ^%DT S X=Y D OUT
"RTN","SROVAR",80,0)
 Q
"RTN","SROVAR",81,0)
PLUS24 S:SRNULL SR130="TIME PAT IN OR" S (SRV,Y)=X X ^DD("DD") S SRY=Y
"RTN","SROVAR",82,0)
 K DIR S DIR("A",1)="",DIR("A",2)="The time you have entered is earlier than "_SR130_".",DIR("A")="Do you mean "_SRY_" (Y/N) ? ",DIR(0)="YA" D ^DIR K DIR I 'Y!$D(DTOUT)!$D(DUOUT) K X Q
"RTN","SROVAR",83,0)
 S X=SRV
"RTN","SROVAR",84,0)
 Q
"RTN","SROVAR",85,0)
CLEAR ; clean-up case edit/lock flags in ^XTMP
"RTN","SROVAR",86,0)
 N SRC,SRJ,SRL,SRNOW,SRNOW1,SRZ S SRNOW=$$NOW^XLFDT
"RTN","SROVAR",87,0)
 S SRC="SRLOCK-0" F  S SRC=$O(^XTMP(SRC)) Q:SRC'["SRLOCK-"  D
"RTN","SROVAR",88,0)
 .S SRJ=0 F  S SRJ=$O(^XTMP(SRC,DUZ,SRJ)) Q:'SRJ  D
"RTN","SROVAR",89,0)
 ..I SRJ=$J L -^XTMP(SRC,DUZ,SRJ) K ^XTMP(SRC,DUZ,SRJ) I '$O(^XTMP(SRC,0)) L -^XTMP(SRC) K ^XTMP(SRC) Q
"RTN","SROVAR",90,0)
 ..S SRNOW1=$P($G(^XTMP(SRC,0)),"^") I SRNOW>SRNOW1 L -^XTMP(SRC) K ^XTMP(SRC)
"RTN","SROVAR",91,0)
 Q
"RTN","SROVAR",92,0)
EN3 ; the Sterility Expiration Date should be after the Date of Operation
"RTN","SROVAR",93,0)
 S:$D(SRTN) SRTDA=DA,DA=SRTN S X=$S(X?1.4N.A!(X?1.2N1":"2N.A):Z_"@"_X,1:X)
"RTN","SROVAR",94,0)
 S %DT="E" D ^%DT S X=Y I X>0 S SRSTART=$E($P(^SRF($S($D(SRTN):SRTN,1:D0),0),U,9),1,7) I SRSTART'="" D BEF
"RTN","SROVAR",95,0)
 S:$D(SRTDA) DA=SRTDA Q
"RTN","SROVAR",96,0)
BEF I X<SRSTART W !!,"The date entered is before the 'DATE OF OPERATION'.  Please check the",!,"DATE entered for this field." K X H 2
"RTN","SROVAR",97,0)
 Q
"UP",130,130.01,-1)
130^1
"UP",130,130.01,0)
130.01
"VER")
8.0^22.0
"^DD",130,130,.205,0)
TIME PAT IN OR^DX^^.2;10^S Z=$E($P(^SRF(DA,0),U,9),1,7) D TIME^SROVAR K:Y<1!(X'[".") X I $D(X),$D(^SRF(DA,"CON")),$P(^("CON"),"^") S SRFLD=.205 D ^SROCON Q
"^DD",130,130,.205,.1)
Time Patient In the O.R.
"^DD",130,130,.205,1,0)
^.1
"^DD",130,130,.205,1,1,0)
^^TRIGGER^130^.09
"^DD",130,130,.205,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRF(D0,0)):^(0),1:"") S X=$P(Y(1),U,9),X=X S DIU=X K Y S X=DIV S X=DIV S DIH=$S($D(^SRF(DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,9)=DIV,DIH=130,DIG=.09 D ^DICR
"^DD",130,130,.205,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^SRF(D0,0)):^(0),1:"") S X=$P(Y(1),U,9),X=X S DIU=X K Y X ^DD(130,.205,1,1,2.1) X ^DD(130,.205,1,1,2.4)
"^DD",130,130,.205,1,1,2.1)
S X=DIV S X=X,Y(1)=X S X=1,Y(2)=X S X=7,X=$E(Y(1),Y(2),X)
"^DD",130,130,.205,1,1,2.4)
S DIH=$S($D(^SRF(DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,9)=DIV,DIH=130,DIG=.09 D ^DICR
"^DD",130,130,.205,1,1,"%D",0)
^^2^2^2930128^
"^DD",130,130,.205,1,1,"%D",1,0)
This trigger on the TIME PAT IN OR field updates the DATE OF OPERATION
"^DD",130,130,.205,1,1,"%D",2,0)
field with the date/time the patient went into the operating room.
"^DD",130,130,.205,1,1,"CREATE VALUE")
TIME PAT IN OR
"^DD",130,130,.205,1,1,"DELETE VALUE")
$E(OLD TIME PAT IN OR,1,7)
"^DD",130,130,.205,1,1,"FIELD")
DATE OF OPERATION
"^DD",130,130,.205,1,2,0)
130^APCE6^MUMPS
"^DD",130,130,.205,1,2,1)
D APCE^SROPCEX
"^DD",130,130,.205,1,2,2)
Q
"^DD",130,130,.205,1,2,"%D",0)
^.101^1^1^3050616^^^^
"^DD",130,130,.205,1,2,"%D",1,0)
This MUMPS cross reference updates PCE.
"^DD",130,130,.205,1,2,"DT")
3050531
"^DD",130,130,.205,1,3,0)
130^AD^MUMPS
"^DD",130,130,.205,1,3,1)
D VALIDAT^SROCVER
"^DD",130,130,.205,1,3,2)
Q
"^DD",130,130,.205,1,3,"%D",0)
^^2^2^3030319^
"^DD",130,130,.205,1,3,"%D",1,0)
This MUMPS cross-reference on the TIME PAT IN OR field is used to 
"^DD",130,130,.205,1,3,"%D",2,0)
invoke the CPT and ICD-9 codes revalidation checks in routine ^SROCVER.
"^DD",130,130,.205,1,3,"DT")
3030303
"^DD",130,130,.205,1,4,0)
130^AOE^MUMPS
"^DD",130,130,.205,1,4,1)
I $L($T(OR1^ORMEVNT1)) D OR1^ORMEVNT1(DA,X)
"^DD",130,130,.205,1,4,2)
I $L($T(OR2^ORMEVNT1)) D OR2^ORMEVNT1(DA)
"^DD",130,130,.205,1,4,"%D",0)
^^2^2^3060824^
"^DD",130,130,.205,1,4,"%D",1,0)
This MUMPS cross reference allows the CPRS to automatic discontinue or
"^DD",130,130,.205,1,4,"%D",2,0)
release orders when the patient enters the OR.
"^DD",130,130,.205,1,4,"DT")
3060705
"^DD",130,130,.205,3)
Enter the date/time that the patient was transported into the operating room.
"^DD",130,130,.205,21,0)
^^6^6^3040316^
"^DD",130,130,.205,21,1,0)
This is the date and time that the patient was transported into the
"^DD",130,130,.205,21,2,0)
operation room. Times entered without a date will be converted to the
"^DD",130,130,.205,21,3,0)
date of operation at that time.
"^DD",130,130,.205,21,4,0)
 
"^DD",130,130,.205,21,5,0)
NSQIP Definition (2004):
"^DD",130,130,.205,21,6,0)
Patient in Room (PIR): Time when patient enters the OR/PR.
"^DD",130,130,.205,"DT")
3060705
"^DD",130,130,.232,0)
TIME PAT OUT OR^DX^^.2;12^S SRN=.2,SRP=10,SR130="TIME PAT IN OR" D TERM^SROVAR K:Y<1 X I $D(X) D ATT^SROUTL1 I $D(DA),$D(X),$D(^SRF(DA,"CON")),$P(^("CON"),"^") S SRFLD=.232 D ^SROCON Q
"^DD",130,130,.232,.1)
Time Patient Out of the O.R.
"^DD",130,130,.232,1,0)
^.1^^-1
"^DD",130,130,.232,1,1,0)
130^AH^MUMPS
"^DD",130,130,.232,1,1,1)
I $D(^SRF(DA,14)),'$D(^(15)) S %X="^SRF(DA,14,",%Y="^SRF(DA,15," D %XY^%RCR S ^(0)="^130.18A"_U_$P(^SRF(DA,15,0),U,3,4) K %X,%Y
"^DD",130,130,.232,1,1,2)
Q
"^DD",130,130,.232,1,1,"%D",0)
^^3^3^2930128^^
"^DD",130,130,.232,1,1,"%D",1,0)
The AH cross reference on the TIME PAT OUT OR field moves the OTHER PREOP
"^DD",130,130,.232,1,1,"%D",2,0)
DIAGNOSIS information into the OTHER POSTOP DIAGS subfile when the TIME
"^DD",130,130,.232,1,1,"%D",3,0)
PAT OUT OR is entered.
"^DD",130,130,.232,1,3,0)
130^AM1^MUMPS
"^DD",130,130,.232,1,3,1)
D AM1^SROXR2
"^DD",130,130,.232,1,3,2)
Q
"^DD",130,130,.232,1,3,"%D",0)
^^4^4^2930301^^^
"^DD",130,130,.232,1,3,"%D",1,0)
The AM1 cross reference on the TIME PAT OUT OR field is responsible for
"^DD",130,130,.232,1,3,"%D",2,0)
removing the AMM cross reference for the case and for updating the
"^DD",130,130,.232,1,3,"%D",3,0)
scheduling display graph.  In addition, if the case is a reqested case,
"^DD",130,130,.232,1,3,"%D",4,0)
the AR cross reference is removed if it still exists.
"^DD",130,130,.232,1,4,0)
130^APCE7^MUMPS
"^DD",130,130,.232,1,4,1)
D APCE^SROPCEX
"^DD",130,130,.232,1,4,2)
Q
"^DD",130,130,.232,1,4,"%D",0)
^.101^1^1^3050616^^^^
"^DD",130,130,.232,1,4,"%D",1,0)
This MUMPS cross reference updates PCE.
"^DD",130,130,.232,1,4,"DT")
3050531
"^DD",130,130,.232,1,5,0)
130^AQ^MUMPS
"^DD",130,130,.232,1,5,1)
D AQ^SROXR4
"^DD",130,130,.232,1,5,2)
D KAQ^SROXR4
"^DD",130,130,.232,1,5,"%D",0)
^^2^2^2970123^
"^DD",130,130,.232,1,5,"%D",1,0)
This MUMPS cross reference is used by the transmission process to the
"^DD",130,130,.232,1,5,"%D",2,0)
national database.
"^DD",130,130,.232,1,5,"DT")
2970123
"^DD",130,130,.232,3)
Enter the time that the patient is taken from the operating room, i.e. 7:45, 0745, 745, T@7:45, JAN 1@745 ...
"^DD",130,130,.232,21,0)
^^12^12^3040721^
"^DD",130,130,.232,21,1,0)
This is the date and time that the patient is taken from the operating
"^DD",130,130,.232,21,2,0)
room. Times entered without a date will be converted to the date of
"^DD",130,130,.232,21,3,0)
operation at that time. This information is very significant for
"^DD",130,130,.232,21,4,0)
operating room management studies.
"^DD",130,130,.232,21,5,0)
 
"^DD",130,130,.232,21,6,0)
NSQIP Definition (2004):
"^DD",130,130,.232,21,7,0)
Patient Out of Room (POR): Time at which patient leaves OR/PR.
"^DD",130,130,.232,21,8,0)
 
"^DD",130,130,.232,21,9,0)
CICSP Definition (2004):
"^DD",130,130,.232,21,10,0)
Indicate the time the patient was transported out of the operating 
"^DD",130,130,.232,21,11,0)
room. If the patient dies prior to leaving the OR, then indicate the
"^DD",130,130,.232,21,12,0)
time of death for this data element.
"^DD",130,130,.232,"DEL",1,0)
I $$DEL^SROESX(DA,"1,2") D EN^DDIOL("The TIME PAT OUT OR can't be deleted. This case has one or more operative",,"!!,?2") D EN^DDIOL("reports associated with it.",,"!,?2")
"^DD",130,130,.232,"DT")
3060705
"^DD",130,130.01,8,0)
IMPLANT STERILITY CHECKED^S^Y:YES;N:NO;^2;1^Q
"^DD",130,130.01,8,.1)
Implant Sterility Checked (Y/N)
"^DD",130,130.01,8,3)
Enter YES or NO, documenting whether implant sterility was checked.
"^DD",130,130.01,8,21,0)
^^3^3^3060629^^
"^DD",130,130.01,8,21,1,0)
This field documents whether or not the implant sterility was checked.
"^DD",130,130.01,8,21,2,0)
Your answer should be YES or NO.  This field is required for all
"^DD",130,130.01,8,21,3,0)
prosthesis items entered for a surgery case.
"^DD",130,130.01,8,"DT")
3060629
"^DD",130,130.01,9,0)
STERILITY EXPIRATION DATE^DX^^2;2^S Z=$E($P(^SRF($S($D(SRTN):SRTN,1:D0),0),U,9),1,7) D EN3^SROVAR K:Y<1 X
"^DD",130,130.01,9,.1)
Sterility Expiration Date
"^DD",130,130.01,9,3)
Enter the sterility expiration date.
"^DD",130,130.01,9,21,0)
^^3^3^3060821^
"^DD",130,130.01,9,21,1,0)
This field documents the sterility expiration date. This field is
"^DD",130,130.01,9,21,2,0)
required for all prosthesis items entered for a surgery case. 
"^DD",130,130.01,9,21,3,0)
Expiration Date can not be prior to Date of Operation.
"^DD",130,130.01,9,"DT")
3060821
"^DD",130,130.01,10,0)
RN VERIFIER^*P200'^VA(200,^2;3^S DIC("S")="S RESTRICT=""130.01,10"" D KEY^SROXPR I $D(SROK)" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",130,130.01,10,.1)
RN Verifier
"^DD",130,130.01,10,3)
Enter the name of the person that verified the sterility information.
"^DD",130,130.01,10,12)
Entries in this field may be restricted based on already selected keys.
"^DD",130,130.01,10,12.1)
S DIC("S")="S RESTRICT=""130.01,10"" D KEY^SROXPR I $D(SROK)"
"^DD",130,130.01,10,21,0)
^^3^3^3060818^
"^DD",130,130.01,10,21,1,0)
This is the name of the person that verified the sterility information. 
"^DD",130,130.01,10,21,2,0)
This field may be restricted by locally determined keys so that only
"^DD",130,130.01,10,21,3,0)
people with the appropriate keys can be entered.
"^DD",130,130.01,10,"DT")
3060818
"BLD",5955,6)
^153
**END**
**END**
