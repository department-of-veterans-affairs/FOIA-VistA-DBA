Released MPR*1*6 SEQ #5
Extracted from mail message
**KIDS**:MPR*1.0*6^

**INSTALL NAME**
MPR*1.0*6
"BLD",5362,0)
MPR*1.0*6^Missing Patient Register^0^3040129^y
"BLD",5362,1,0)
^^1^1^3040129^
"BLD",5362,1,1,0)
REMOVE MISSING PATIENT REGISTER FROM SYSTEM
"BLD",5362,4,0)
^9.64PA^^
"BLD",5362,"INID")
^n
"BLD",5362,"INIT")
START^MPRBYE
"BLD",5362,"KRN",0)
^9.67PA^8989.52^19
"BLD",5362,"KRN",.4,0)
.4
"BLD",5362,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",5362,"KRN",.4,"NM",1,0)
MPRP LOCAL    FILE #850^850^1^
"BLD",5362,"KRN",.4,"NM","B","MPRP LOCAL    FILE #850",1)

"BLD",5362,"KRN",.401,0)
.401
"BLD",5362,"KRN",.401,"NM",0)
^9.68A^1^1
"BLD",5362,"KRN",.401,"NM",1,0)
MPRS LOCAL    FILE #850^850^1^
"BLD",5362,"KRN",.401,"NM","B","MPRS LOCAL    FILE #850",1)

"BLD",5362,"KRN",.402,0)
.402
"BLD",5362,"KRN",.403,0)
.403
"BLD",5362,"KRN",.5,0)
.5
"BLD",5362,"KRN",.84,0)
.84
"BLD",5362,"KRN",3.6,0)
3.6
"BLD",5362,"KRN",3.6,"NM",0)
^9.68A^1^1
"BLD",5362,"KRN",3.6,"NM",1,0)
MPR MISSING PATIENT^^1^
"BLD",5362,"KRN",3.6,"NM","B","MPR MISSING PATIENT",1)

"BLD",5362,"KRN",3.8,0)
3.8
"BLD",5362,"KRN",3.8,"NM",0)
^9.68A^2^2
"BLD",5362,"KRN",3.8,"NM",1,0)
MPR COORDINATORS^^1^
"BLD",5362,"KRN",3.8,"NM",2,0)
MPR MESSAGES^^1^
"BLD",5362,"KRN",3.8,"NM","B","MPR COORDINATORS",1)

"BLD",5362,"KRN",3.8,"NM","B","MPR MESSAGES",2)

"BLD",5362,"KRN",9.2,0)
9.2
"BLD",5362,"KRN",9.2,"NM",0)
^9.68A^^
"BLD",5362,"KRN",9.8,0)
9.8
"BLD",5362,"KRN",9.8,"NM",0)
^9.68A^30^30
"BLD",5362,"KRN",9.8,"NM",1,0)
MPRBYE^^0^B8681484
"BLD",5362,"KRN",9.8,"NM",2,0)
MPRCHK^^1^
"BLD",5362,"KRN",9.8,"NM",3,0)
MPREFN^^1^
"BLD",5362,"KRN",9.8,"NM",4,0)
MPREFTSK^^1^
"BLD",5362,"KRN",9.8,"NM",5,0)
MPREM1^^1^
"BLD",5362,"KRN",9.8,"NM",6,0)
MPREM2^^1^
"BLD",5362,"KRN",9.8,"NM",7,0)
MPREMTSK^^1^
"BLD",5362,"KRN",9.8,"NM",8,0)
MPRIENV^^1^
"BLD",5362,"KRN",9.8,"NM",9,0)
MPRIN001^^1^
"BLD",5362,"KRN",9.8,"NM",10,0)
MPRIN002^^1^
"BLD",5362,"KRN",9.8,"NM",11,0)
MPRIN003^^1^
"BLD",5362,"KRN",9.8,"NM",12,0)
MPRIN004^^1^
"BLD",5362,"KRN",9.8,"NM",13,0)
MPRIN005^^1^
"BLD",5362,"KRN",9.8,"NM",14,0)
MPRIN006^^1^
"BLD",5362,"KRN",9.8,"NM",15,0)
MPRIN007^^1^
"BLD",5362,"KRN",9.8,"NM",16,0)
MPRIN008^^1^
"BLD",5362,"KRN",9.8,"NM",17,0)
MPRIN009^^1^
"BLD",5362,"KRN",9.8,"NM",18,0)
MPRINIS^^1^
"BLD",5362,"KRN",9.8,"NM",19,0)
MPRINIT^^1^
"BLD",5362,"KRN",9.8,"NM",20,0)
MPRINIT1^^1^
"BLD",5362,"KRN",9.8,"NM",21,0)
MPRINIT2^^1^
"BLD",5362,"KRN",9.8,"NM",22,0)
MPRINIT3^^1^
"BLD",5362,"KRN",9.8,"NM",23,0)
MPRINIT4^^1^
"BLD",5362,"KRN",9.8,"NM",24,0)
MPRINIT5^^1^
"BLD",5362,"KRN",9.8,"NM",25,0)
MPRIPOS1^^1^
"BLD",5362,"KRN",9.8,"NM",26,0)
MPRIPOS2^^1^
"BLD",5362,"KRN",9.8,"NM",27,0)
MPRIPOST^^1^
"BLD",5362,"KRN",9.8,"NM",28,0)
MPRNTEG^^1^
"BLD",5362,"KRN",9.8,"NM",29,0)
MPRSACK^^1^
"BLD",5362,"KRN",9.8,"NM",30,0)
MPRSDATA^^1^
"BLD",5362,"KRN",9.8,"NM","B","MPRBYE",1)

"BLD",5362,"KRN",9.8,"NM","B","MPRCHK",2)

"BLD",5362,"KRN",9.8,"NM","B","MPREFN",3)

"BLD",5362,"KRN",9.8,"NM","B","MPREFTSK",4)

"BLD",5362,"KRN",9.8,"NM","B","MPREM1",5)

"BLD",5362,"KRN",9.8,"NM","B","MPREM2",6)

"BLD",5362,"KRN",9.8,"NM","B","MPREMTSK",7)

"BLD",5362,"KRN",9.8,"NM","B","MPRIENV",8)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN001",9)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN002",10)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN003",11)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN004",12)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN005",13)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN006",14)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN007",15)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN008",16)

"BLD",5362,"KRN",9.8,"NM","B","MPRIN009",17)

"BLD",5362,"KRN",9.8,"NM","B","MPRINIS",18)

"BLD",5362,"KRN",9.8,"NM","B","MPRINIT",19)

"BLD",5362,"KRN",9.8,"NM","B","MPRINIT1",20)

"BLD",5362,"KRN",9.8,"NM","B","MPRINIT2",21)

"BLD",5362,"KRN",9.8,"NM","B","MPRINIT3",22)

"BLD",5362,"KRN",9.8,"NM","B","MPRINIT4",23)

"BLD",5362,"KRN",9.8,"NM","B","MPRINIT5",24)

"BLD",5362,"KRN",9.8,"NM","B","MPRIPOS1",25)

"BLD",5362,"KRN",9.8,"NM","B","MPRIPOS2",26)

"BLD",5362,"KRN",9.8,"NM","B","MPRIPOST",27)

"BLD",5362,"KRN",9.8,"NM","B","MPRNTEG",28)

"BLD",5362,"KRN",9.8,"NM","B","MPRSACK",29)

"BLD",5362,"KRN",9.8,"NM","B","MPRSDATA",30)

"BLD",5362,"KRN",19,0)
19
"BLD",5362,"KRN",19,"NM",0)
^9.68A^6^6
"BLD",5362,"KRN",19,"NM",1,0)
MPR FOUND ENTER/EDIT^^1^
"BLD",5362,"KRN",19,"NM",2,0)
MPR MAIN^^1^
"BLD",5362,"KRN",19,"NM",3,0)
MPR MISSING ENTER/EDIT^^1^
"BLD",5362,"KRN",19,"NM",4,0)
MPR MISSING PATIENT PRINT^^1^
"BLD",5362,"KRN",19,"NM",5,0)
MPRSACK^^1^
"BLD",5362,"KRN",19,"NM",6,0)
MPRSDATA^^1^
"BLD",5362,"KRN",19,"NM","B","MPR FOUND ENTER/EDIT",1)

"BLD",5362,"KRN",19,"NM","B","MPR MAIN",2)

"BLD",5362,"KRN",19,"NM","B","MPR MISSING ENTER/EDIT",3)

"BLD",5362,"KRN",19,"NM","B","MPR MISSING PATIENT PRINT",4)

"BLD",5362,"KRN",19,"NM","B","MPRSACK",5)

"BLD",5362,"KRN",19,"NM","B","MPRSDATA",6)

"BLD",5362,"KRN",19.1,0)
19.1
"BLD",5362,"KRN",101,0)
101
"BLD",5362,"KRN",409.61,0)
409.61
"BLD",5362,"KRN",771,0)
771
"BLD",5362,"KRN",870,0)
870
"BLD",5362,"KRN",8989.51,0)
8989.51
"BLD",5362,"KRN",8989.52,0)
8989.52
"BLD",5362,"KRN",8994,0)
8994
"BLD",5362,"KRN","B",.4,.4)

"BLD",5362,"KRN","B",.401,.401)

"BLD",5362,"KRN","B",.402,.402)

"BLD",5362,"KRN","B",.403,.403)

"BLD",5362,"KRN","B",.5,.5)

"BLD",5362,"KRN","B",.84,.84)

"BLD",5362,"KRN","B",3.6,3.6)

"BLD",5362,"KRN","B",3.8,3.8)

"BLD",5362,"KRN","B",9.2,9.2)

"BLD",5362,"KRN","B",9.8,9.8)

"BLD",5362,"KRN","B",19,19)

"BLD",5362,"KRN","B",19.1,19.1)

"BLD",5362,"KRN","B",101,101)

"BLD",5362,"KRN","B",409.61,409.61)

"BLD",5362,"KRN","B",771,771)

"BLD",5362,"KRN","B",870,870)

"BLD",5362,"KRN","B",8989.51,8989.51)

"BLD",5362,"KRN","B",8989.52,8989.52)

"BLD",5362,"KRN","B",8994,8994)

"BLD",5362,"QUES",0)
^9.62^^
"BLD",5362,"REQB",0)
^9.611^^
"INIT")
START^MPRBYE
"KRN",.4,2647,-1)
1^1
"KRN",.4,2647,0)
MPRP LOCAL    FILE #850
"KRN",.401,1980,-1)
1^1
"KRN",.401,1980,0)
MPRS LOCAL    FILE #850
"KRN",3.6,262,-1)
1^1
"KRN",3.6,262,0)
MPR MISSING PATIENT
"KRN",3.8,6147,-1)
1^1
"KRN",3.8,6147,0)
MPR COORDINATORS
"KRN",3.8,6148,-1)
1^2
"KRN",3.8,6148,0)
MPR MESSAGES
"KRN",19,11990,-1)
1^1
"KRN",19,11990,0)
MPR FOUND ENTER/EDIT
"KRN",19,11991,-1)
1^2
"KRN",19,11991,0)
MPR MAIN
"KRN",19,11992,-1)
1^3
"KRN",19,11992,0)
MPR MISSING ENTER/EDIT
"KRN",19,11993,-1)
1^4
"KRN",19,11993,0)
MPR MISSING PATIENT PRINT
"KRN",19,11994,-1)
1^5
"KRN",19,11994,0)
MPRSACK
"KRN",19,11995,-1)
1^6
"KRN",19,11995,0)
MPRSDATA
"MBREQ")
0
"ORD",0,9.8)
9.8;;1;RTNF^XPDTA;RTNE^XPDTA
"ORD",0,9.8,0)
ROUTINE
"ORD",2,3.6)
3.6;2;1;;BUL^XPDTA1;;BULE1^XPDIA1;;;BULDEL^XPDIA1
"ORD",2,3.6,0)
BULLETIN
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",6,.401)
.401;6;;;EDEOUT^DIFROMSO(.401,DA,"",XPDA);FPRE^DIFROMSI(.401,"",XPDA);EPRE^DIFROMSI(.401,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.401,DA,"",XPDA);DEL^DIFROMSK(.401,"",%)
"ORD",6,.401,0)
SORT TEMPLATE
"ORD",11,3.8)
3.8;11;;;MAILG^XPDTA1;MAILGF1^XPDIA1;MAILGE1^XPDIA1;MAILGF2^XPDIA1;;MAILGDEL^XPDIA1(%)
"ORD",11,3.8,0)
MAIL GROUP
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",563,-1)
1^1
"PKG",563,0)
Missing Patient Register^MPR^Missing Patient Register
"PKG",563,20,0)
^9.402P^^
"PKG",563,22,0)
^9.49I^1^1
"PKG",563,22,1,0)
1.0^2941110^2950912
"PKG",563,22,1,"PAH",1,0)
6^3040129
"PKG",563,22,1,"PAH",1,1,0)
^^1^1^3040129
"PKG",563,22,1,"PAH",1,1,1,0)
REMOVE MISSING PATIENT REGISTER FROM SYSTEM
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
30
"RTN","MPRBYE")
0^1^B8681484
"RTN","MPRBYE",1,0)
MPRBYE ;OIOFO BAY PINES/ELR - REMOVE MPR APPLICATION ;7/20/2003
"RTN","MPRBYE",2,0)
 ;;1.0;Missing Patient Register;**6**;July 30, 2003
"RTN","MPRBYE",3,0)
 Q
"RTN","MPRBYE",4,0)
START ;DELETE DICTIONARIES AND DATA FILES
"RTN","MPRBYE",5,0)
 I $D(^XTMP("MPRDEL","RUNNING")) D  Q
"RTN","MPRBYE",6,0)
 . S ^XTMP("MPRELR")="MPR DELETE PROGRAM ALREADY RUNNING" D MAIL
"RTN","MPRBYE",7,0)
 S DIU="^MPR(850,",DIU(0)="DT" D EN^DIU2
"RTN","MPRBYE",8,0)
 S DIU="^MPR(850.1,",DIU(0)="DT" D EN^DIU2
"RTN","MPRBYE",9,0)
 S DIU="^MPR(850.9,",DIU(0)="DT" D EN^DIU2
"RTN","MPRBYE",10,0)
 K DIU
"RTN","MPRBYE",11,0)
 D ZTQUE
"RTN","MPRBYE",12,0)
 S ^XTMP("MPRELR")="Background Utility for MPR removal, Task #"_$G(ZTSK)_", has been tasked to start at "_MPRELR1
"RTN","MPRBYE",13,0)
 D MAIL
"RTN","MPRBYE",14,0)
 Q
"RTN","MPRBYE",15,0)
 ;CALLED BY TASKMAN AFTER ALL OTHER DATA HAS BEEN REMOVED
"RTN","MPRBYE",16,0)
LAST ;DELETE THE BUILDS
"RTN","MPRBYE",17,0)
 NEW ZZNMSP,ZNODE,ZI
"RTN","MPRBYE",18,0)
 S ZZNMSP="MPR"
"RTN","MPRBYE",19,0)
 S DIK="^XPD(9.6," F ZI=0:0 S ZI=$O(^XPD(9.6,ZI)) Q:ZI'?.N  S ZNODE=$G(^XPD(9.6,ZI,0)) I $E(($P(ZNODE,U,1)),1,$L(ZZNMSP))[ZZNMSP!($P($G(^DIC(9.4,+$P(ZNODE,U,2),0)),U,2)=ZZNMSP) S DA=ZI D ^DIK
"RTN","MPRBYE",20,0)
 ;DELETE INSTALLS
"RTN","MPRBYE",21,0)
 S DIK="^XPD(9.7," F ZI=0:0 S ZI=$O(^XPD(9.7,ZI)) Q:ZI'?.N  S ZNODE=$G(^XPD(9.7,ZI,0)) I $E(($P(ZNODE,U,1)),1,$L(ZZNMSP))[ZZNMSP!($P($G(^DIC(9.4,+$P(ZNODE,U,2),0)),U,2)=ZZNMSP) S DA=ZI D ^DIK
"RTN","MPRBYE",22,0)
 ;DELETE PACKAGES
"RTN","MPRBYE",23,0)
 S DIK="^DIC(9.4," F ZI=0:0 S ZI=$O(^DIC(9.4,ZI)) Q:ZI'?.N  S ZNODE=$G(^DIC(9.4,ZI,0)) I $E(($P(ZNODE,U,2)),1,$L(ZZNMSP))[ZZNMSP S DA=ZI D ^DIK
"RTN","MPRBYE",24,0)
 ;DELETE VISTA APPLICATIONS
"RTN","MPRBYE",25,0)
 S DIK="^DIC(1200036," F ZI=0:0 S ZI=$O(^DIC(1200036,ZI)) Q:ZI'?.N  S ZNODE=$G(^DIC(1200036,ZI,0)) I $P(ZNODE,U,3)=ZZNMSP S DA=ZI D ^DIK
"RTN","MPRBYE",26,0)
 S MPRELR="Background Utility for MPR removal, Task #"_$G(ZTSK)_" has completed"
"RTN","MPRBYE",27,0)
 D DONE
"RTN","MPRBYE",28,0)
 K DIK,MPRELR,MPRELR1,%H,DA,Y,ZTSK
"RTN","MPRBYE",29,0)
 K ^XTMP("MPRDEL","RUNNING")
"RTN","MPRBYE",30,0)
 K ^XTMP("MPRELR")
"RTN","MPRBYE",31,0)
 Q
"RTN","MPRBYE",32,0)
ZTQUE ;
"RTN","MPRBYE",33,0)
 N ZTIO,ZTDTH,ZTDESC,ZTRTN,ZTSAVE
"RTN","MPRBYE",34,0)
 S ZTIO="",ZTDTH=$H,$P(ZTDTH,",",2)=$P(ZTDTH,",",2)+300,ZTDESC="MPR DELETION UTILITY"
"RTN","MPRBYE",35,0)
 S ZTRTN="LAST^MPRBYE"
"RTN","MPRBYE",36,0)
 S %H=ZTDTH D YX^%DTC S MPRELR1=Y
"RTN","MPRBYE",37,0)
 D ^%ZTLOAD
"RTN","MPRBYE",38,0)
 S ^XTMP("MPRDEL","RUNNING")=$G(ZTSK)
"RTN","MPRBYE",39,0)
 Q
"RTN","MPRBYE",40,0)
DONE N MPRX,XMSUB,XMY,XMTEXT,XMDUZ
"RTN","MPRBYE",41,0)
 S XMY($S(DUZ:DUZ,1:.5))=""
"RTN","MPRBYE",42,0)
 S XMSUB="BACKGROUND FOR DELETING MPR PACKAGE"
"RTN","MPRBYE",43,0)
 S XMTEXT="MPRX("
"RTN","MPRBYE",44,0)
 S XMDUZ="POSTMASTER"
"RTN","MPRBYE",45,0)
 I $D(MPRELR) S MPRX(1)=MPRELR
"RTN","MPRBYE",46,0)
 E  S MPRX(1)=$G(^XTMP("MPRELR"))
"RTN","MPRBYE",47,0)
 D ^XMD
"RTN","MPRBYE",48,0)
 Q
"RTN","MPRBYE",49,0)
MAIL ;
"RTN","MPRBYE",50,0)
 N ZTIO,ZTDTH,ZTDESC,ZTRTN,ZTSAVE
"RTN","MPRBYE",51,0)
 S ZTIO="",ZTDTH=$H,$P(ZTDTH,",",2)=$P(ZTDTH,",",2)+60,ZTDESC="MPR DELETE MAIL"
"RTN","MPRBYE",52,0)
 S ZTRTN="DONE^MPRBYE"
"RTN","MPRBYE",53,0)
 D ^%ZTLOAD
"RTN","MPRBYE",54,0)
 Q
"RTN","MPRCHK")
1^2
"RTN","MPREFN")
1^3
"RTN","MPREFTSK")
1^4
"RTN","MPREM1")
1^5
"RTN","MPREM2")
1^6
"RTN","MPREMTSK")
1^7
"RTN","MPRIENV")
1^8
"RTN","MPRIN001")
1^9
"RTN","MPRIN002")
1^10
"RTN","MPRIN003")
1^11
"RTN","MPRIN004")
1^12
"RTN","MPRIN005")
1^13
"RTN","MPRIN006")
1^14
"RTN","MPRIN007")
1^15
"RTN","MPRIN008")
1^16
"RTN","MPRIN009")
1^17
"RTN","MPRINIS")
1^18
"RTN","MPRINIT")
1^19
"RTN","MPRINIT1")
1^20
"RTN","MPRINIT2")
1^21
"RTN","MPRINIT3")
1^22
"RTN","MPRINIT4")
1^23
"RTN","MPRINIT5")
1^24
"RTN","MPRIPOS1")
1^25
"RTN","MPRIPOS2")
1^26
"RTN","MPRIPOST")
1^27
"RTN","MPRNTEG")
1^28
"RTN","MPRSACK")
1^29
"RTN","MPRSDATA")
1^30
"VER")
8.0^22
**END**
**END**
