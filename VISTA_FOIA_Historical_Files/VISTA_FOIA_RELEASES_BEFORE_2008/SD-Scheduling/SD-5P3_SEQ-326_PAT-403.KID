Released SD*5.3*403 SEQ #326
Extracted from mail message
**KIDS**:SD*5.3*403^

**INSTALL NAME**
SD*5.3*403
"BLD",5888,0)
SD*5.3*403^SCHEDULING^0^3041201^y
"BLD",5888,1,0)
^^1^1^3041201^
"BLD",5888,1,1,0)
Scrolling past enrollment data in Scheduling Management.
"BLD",5888,4,0)
^9.64PA^^
"BLD",5888,"KRN",0)
^9.67PA^8989.52^19
"BLD",5888,"KRN",.4,0)
.4
"BLD",5888,"KRN",.401,0)
.401
"BLD",5888,"KRN",.402,0)
.402
"BLD",5888,"KRN",.403,0)
.403
"BLD",5888,"KRN",.5,0)
.5
"BLD",5888,"KRN",.84,0)
.84
"BLD",5888,"KRN",3.6,0)
3.6
"BLD",5888,"KRN",3.8,0)
3.8
"BLD",5888,"KRN",9.2,0)
9.2
"BLD",5888,"KRN",9.8,0)
9.8
"BLD",5888,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",5888,"KRN",9.8,"NM",1,0)
SDAM10^^0^B7404313
"BLD",5888,"KRN",9.8,"NM","B","SDAM10",1)

"BLD",5888,"KRN",19,0)
19
"BLD",5888,"KRN",19.1,0)
19.1
"BLD",5888,"KRN",101,0)
101
"BLD",5888,"KRN",409.61,0)
409.61
"BLD",5888,"KRN",771,0)
771
"BLD",5888,"KRN",870,0)
870
"BLD",5888,"KRN",8989.51,0)
8989.51
"BLD",5888,"KRN",8989.52,0)
8989.52
"BLD",5888,"KRN",8994,0)
8994
"BLD",5888,"KRN","B",.4,.4)

"BLD",5888,"KRN","B",.401,.401)

"BLD",5888,"KRN","B",.402,.402)

"BLD",5888,"KRN","B",.403,.403)

"BLD",5888,"KRN","B",.5,.5)

"BLD",5888,"KRN","B",.84,.84)

"BLD",5888,"KRN","B",3.6,3.6)

"BLD",5888,"KRN","B",3.8,3.8)

"BLD",5888,"KRN","B",9.2,9.2)

"BLD",5888,"KRN","B",9.8,9.8)

"BLD",5888,"KRN","B",19,19)

"BLD",5888,"KRN","B",19.1,19.1)

"BLD",5888,"KRN","B",101,101)

"BLD",5888,"KRN","B",409.61,409.61)

"BLD",5888,"KRN","B",771,771)

"BLD",5888,"KRN","B",870,870)

"BLD",5888,"KRN","B",8989.51,8989.51)

"BLD",5888,"KRN","B",8989.52,8989.52)

"BLD",5888,"KRN","B",8994,8994)

"BLD",5888,"QUES",0)
^9.62^^
"BLD",5888,"REQB",0)
^9.611^1^1
"BLD",5888,"REQB",1,0)
SD*5.3*258^2
"BLD",5888,"REQB","B","SD*5.3*258",1)

"MBREQ")
0
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813
"PKG",16,22,1,"PAH",1,0)
403^3041201
"PKG",16,22,1,"PAH",1,1,0)
^^1^1^3041201
"PKG",16,22,1,"PAH",1,1,1,0)
Scrolling past enrollment data in Scheduling Management.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","SDAM10")
0^1^B7404313
"RTN","SDAM10",1,0)
SDAM10 ;MJK/ALB - Appt Mgt (Patient cont.); 12/1/91
"RTN","SDAM10",2,0)
 ;;5.3;Scheduling;**189,258,403**;Aug 13, 1993
"RTN","SDAM10",3,0)
 ;
"RTN","SDAM10",4,0)
HDR ; -- list screen header
"RTN","SDAM10",5,0)
 ;   input:       SDFN := ifn of pat
"RTN","SDAM10",6,0)
 ;  output:  VALMHDR() := hdr array
"RTN","SDAM10",7,0)
 ;
"RTN","SDAM10",8,0)
 N VAERR,VA,X
"RTN","SDAM10",9,0)
 S DFN=SDFN D PID^VADPT
"RTN","SDAM10",10,0)
 S VALMHDR(1)=$E($P("Patient: "_$G(^DPT(SDFN,0)),U),1,46)_" ("_VA("BID")_")"  ;for proper display of patient name for SD*5.3*189
"RTN","SDAM10",11,0)
 S X=$P($$FMT^SDUTL2(SDFN),U,2),X=$S(X["GMT":X,X]"":"MT: "_X,1:"")
"RTN","SDAM10",12,0)
 S VALMHDR(1)=$$SETSTR^VALM1(X,VALMHDR(1),47,15)  ;repositioned header to display clinic or patient name properly for SD*5.3*189
"RTN","SDAM10",13,0)
 S X=$S($D(^DPT(SDFN,.1)):"Ward: "_^(.1),1:"Outpatient")
"RTN","SDAM10",14,0)
 S VALMHDR(1)=$$SETSTR^VALM1(X,VALMHDR(1),81-$L(X),$L(X))
"RTN","SDAM10",15,0)
 Q
"RTN","SDAM10",16,0)
 ;
"RTN","SDAM10",17,0)
PAT ; -- change pat
"RTN","SDAM10",18,0)
 D FULL^VALM1 S VALMBCK="R"
"RTN","SDAM10",19,0)
 K X I $D(XQORNOD(0)) S X=$P($P(XQORNOD(0),U,4),"=",2)
"RTN","SDAM10",20,0)
 I X="" R !!,"Select Patient: ",X:DTIME
"RTN","SDAM10",21,0)
 D RT^SDAMEX S DIC="^DPT(",DIC(0)="EMQ" D ^DIC K DIC G PAT:X["?"
"RTN","SDAM10",22,0)
PAT1 S %=1 W !,"   ...OK" D YN^DICN I %=0 W "   Answer with 'Yes' or 'No'" G PAT1
"RTN","SDAM10",23,0)
 I %'=1 S Y=-1
"RTN","SDAM10",24,0)
 I Y<0 D  G PATQ
"RTN","SDAM10",25,0)
 .I SDAMTYP="P" S VALMSG=$C(7)_"Patient has not been changed."
"RTN","SDAM10",26,0)
 .I SDAMTYP="C" S VALMSG=$C(7)_"View of clinic remains in affect."
"RTN","SDAM10",27,0)
 I SDAMTYP'="P" D CHGCAP^VALM("NAME","Clinic") S SDAMTYP="P"
"RTN","SDAM10",28,0)
 S SDFN=+Y K SDCLN D BLD^SDAM1
"RTN","SDAM10",29,0)
PATQ Q
"RTN","SDAM10",30,0)
 ;
"RTN","SDAM10",31,0)
INIT ; -- init bld vars
"RTN","SDAM10",32,0)
 K VALMHDR,SDDA,^TMP("SDAMIDX",$J)
"RTN","SDAM10",33,0)
 D CLEAN^VALM10
"RTN","SDAM10",34,0)
 S VALMBG=1,(VALMCNT,SDACNT)=0,BL="",$P(BL," ",30)="",SDMAX=100
"RTN","SDAM10",35,0)
 S SDAMDD=$P(^DD(2.98,3,0),U,3)
"RTN","SDAM10",36,0)
 ; -- format vars     |- column -| |- width -|
"RTN","SDAM10",37,0)
 S X=VALMDDF("APPT#"),AC=$P(X,U,2),AW=$P(X,U,3) ; A for appt
"RTN","SDAM10",38,0)
 S X=VALMDDF("DATE"),XC=$P(X,U,2),XW=$P(X,U,3) ;  X for date
"RTN","SDAM10",39,0)
 S X=VALMDDF("NAME"),NC=$P(X,U,2),NW=$P(X,U,3) ;  N for name
"RTN","SDAM10",40,0)
 S X=VALMDDF("STAT"),SC=$P(X,U,2),SW=$P(X,U,3) ;  S for status
"RTN","SDAM10",41,0)
 S X=VALMDDF("TIME"),TC=$P(X,U,2),TW=$P(X,U,3) ;  T for time
"RTN","SDAM10",42,0)
 Q
"RTN","SDAM10",43,0)
 ;
"RTN","SDAM10",44,0)
LARGE ; -- too large note
"RTN","SDAM10",45,0)
 W !!?5,*7,"Note: Ending Date was changed to '",$$FDATE^VALM1(SDEND),"' because"
"RTN","SDAM10",46,0)
 W !?11,"too many appointments met date range criteria." D PAUSE^VALM1
"RTN","SDAM10",47,0)
 Q
"RTN","SDAM10",48,0)
 ;
"RTN","SDAM10",49,0)
NUL ; -- set nul message
"RTN","SDAM10",50,0)
 I '$O(^TMP("SDAM",$J,0)) D SET^SDAM1(" "),SET^SDAM1("    No appointments meet criteria.")
"RTN","SDAM10",51,0)
 Q
"RTN","SDAM10",52,0)
 ;
"VER")
8.0^22
**END**
**END**
