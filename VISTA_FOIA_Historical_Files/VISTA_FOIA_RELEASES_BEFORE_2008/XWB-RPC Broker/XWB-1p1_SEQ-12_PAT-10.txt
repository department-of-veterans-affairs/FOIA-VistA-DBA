$TXT Created by CREAVEN,DONALD P at DEV-XWB.ISC-SF.VA.GOV  (KIDS) on MONDAY, 05/01/00 at 10:56
=============================================================================
Run Date: AUG 04, 2000                     Designation: XWB*1.1*10
Package : XWB - RPC BROKER                    Priority: Mandatory
Version : 1.1        SEQ #12                    Status: Released
=============================================================================

Associated patches: (v)XWB*1.1*4   <<= must be installed BEFORE `XWB*1.1*10'
                    (v)XWB*1.1*6   <<= must be installed BEFORE `XWB*1.1*10'

Subject: RPC AVAILABILITY

Category: 
  - Routine
  - Data Dictionary

Description: 
============

 This patch gives greater information about and control of RPCs.  Specific
 new abilities are:
  
 1. Blocking an RPC either locally*, remotely*, or in both contexts by
 setting a value in the INACTIVE field of the Remote Procedure file.  The
 field can be set either by a package developer and exported by KIDS or by
 a site manager using FileMan.  (Prior to this patch, values in this field
 had no effect.)
  
 2. Assuring that an RPC is at least a specified version when it is run
 remotely* by setting a value in the new VERSION field of the Remote
 Procedure file.
  
 3. Querying a server regarding the status of RPCs by using new Remote
 Procedures: XWB IS RPC AVAILABLE and XWB ARE RPCS AVAILABLE.
  
 Please see the on-line descriptions of the INACTIVE and VERSION fields in
 the Remote Procedure file and of the XWB IS RPC AVAILABLE and XWB ARE RPCS
 AVAILABLE Remote Procedure file entries for details of the use of the new
 functionality.
  
 In addition, this patch stops M errors from occurring when a client
 application 1) attempts to create a context that does not exist on the
 server or 2) attempts to run a remote procedure that does not exist on the
 server.  With this patch in both these situations, the user is shown a
 specific error message explaining the problem.  Several developers have
 requested this fix, and the following NOIS calls are resolved:
  
 ISP-0399-N2813     Broker Error When Client Calls Non-Existent RPC
 MWV-1099-20408     Error encountered with XWBBRK
 MWV-0499-21483     broker error since *169
 SLC-1298-50740     NULL SUBSCRIPT ERROR
 TOM-0798-41277     RPC ERRORS
 DES-1296-40252     ERROR AT PRSA+18^XWBBRK
 DAY-1196-42040     Error when PCMM not installed in the environment
  
 --------
 *'Locally' means an RPC is being run at the site which the user is logged
 on to; 'remotely' means an RPC is being run at a site the user is not
 directly logged on to.
  
  
 NOTES: 
 =====
  
 1. The packman message containing the XWB*1.1*10 KIDS build installs 3
 modified XWB* routines, one modified and one new field in the Remote
 Procedure file, and two new RPCs (entries in the Remote Procedure file).  
  
 Routine Summary: 
 ======= ========
  
 The following is a list of the routines included in this patch.  The
 second line of each of these routines now looks like: 
  
 <tab>;;1.1;RPC BROKER;[patch list];date 
  
 CHECK^XTSUMBLD results: 
  
 Routine Name      Before Patch     After Patch     Patch List 
 XWBBRK              4567623          5912545         2,4,10
 XWBLIB              720789           3253016         6,10        
 XWBSEC              2113752          2425405         3,6,10
  
 Fields in Remote Procedure file (#8994):
 ====== == ====== ========= ==== 
  
 INACTIVE (#.06) is modified
 VERSION  (#.09) is new
  
 Remote Procedure:
 ====== =========
  
 XWB IS RPC AVAILABLE is new
 XWB ARE RPCS AVAILABLE is new
  
 2. There is no client portion of this patch.
  
  
 INSTALLATION: 
 ============
  
 1.  Do not run any RPC-Broker-based Client/Server software (e.g., CPRS,
 PCMM) during the installation.  No Broker-based client/server software
 should be running while installing this patch on the server.  To identify
 these jobs, check the system status and see if any XWBTCPC routine is
 running (i.e., Broker Handler).  Once identified, notify users to logoff
 or forcex the jobs.  Active users may get NOSOURCE or CLOBBER errors.  
  
  2.  Stop the Broker Listener(s) on the server.  Check the system status
 and see if the XWBTCPL routine is running (i.e., Broker Listener).  If it
 is running stop it.  There are several ways to stop the Listeners -- see
 the current version of the RPC Broker System Manual for details.
  
  3.  These routines are not usually mapped on systems that support
 mapping; so, you will probably not have to disable mapping.  
  
  4.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
 option will load the KIDS (Kernel Installation and Distribution System)
 package onto your system.  
     
  5.  The patch has now been loaded into a Transport global on your system.
  On the KIDS menu, select the 'Installation' menu, use the following
 options: 
          Verify Checksum's in Transport Global 
          Print Transport Global 
          Compare Transport Global to Current System 
          Backup a Transport Global 
     
  6.  On the KIDS menu, under the 'Installation' menu, use the following
 option: 
         Install Package(s)  'XWB*1.1*10' 
                              ==========
  
  7.  When asked, answer these questions NO:
   
    Want KIDS to INHIBIT LOGONs during the install? YES// NO
                                                          ==
    Want to DISABLE Scheduled Options, Menu Options, and Protocols?
      YES// NO
            ==
  
  8.  MSM Sites - Answer YES to the question 'Want to MOVE routines to
 other CPUs?'. Enter the names of your Compute and Print server(s).  
      AXP Sites - Answer NO to this question.  
     
  9.  If the routines were unmapped as part of step 3, the mapped set
 should be rebuilt once the installation has run to completion.  
  
  10. Restart the Broker Listener on the Server: see the current RPC Broker
 System Manual for details.

Routine Information:
====================

Routine Name:
  - XWBLIB


Routine Checksum:

Routine Name:
  - XWBSEC


Routine Checksum:

Routine Name:
  - XWBBRK


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : CREAVEN,DONALD P              Date Entered : OCT 06, 1999
Completed By: CHAN,ALAN                     Date Completed: JUL 11, 2000
Released By : LASHLEY,ANTHONY               Date Released : AUG 04, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
