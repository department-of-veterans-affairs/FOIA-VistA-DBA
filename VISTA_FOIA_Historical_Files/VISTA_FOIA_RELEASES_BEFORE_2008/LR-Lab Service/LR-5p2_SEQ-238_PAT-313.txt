$TXT Created by MCCORMACK,JOHN J at FS.ISC-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 04/13/04 at 09:52
=============================================================================
Run Date: JUN 14, 2004                     Designation: LR*5.2*313
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #238                    Status: Released
                  Compliance Date: JUL 15, 2004
=============================================================================

Associated patches: (v)LR*5.2*289  <<= must be installed BEFORE `LR*5.2*313'

Subject: EGFR DELTA CHECK AND AUTOMATED INSTRUMENT INTERFACES

Category: 
  - Routine

Description:
============

 Description
 ===========
  
 This patch corrects several defects reported with the eGFR delta check
 released in patch LR*5.2*289 DELTA CHECK FOR EGFR TEST.
  
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*313 does not
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA
 DIRECTIVE 99-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*313 does not
 alter or modify any software design safeguards or safety critical elements
 functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*313 have no effect on Blood
 Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION:  Because of the nature of the changes
 made, no specific validation requirements exist as a result of installation
 of this patch.
  
 1. NOIS DUR-0803-30566 and NYH-1203-10526 reported the eGFR calculation
 delta check was not triggered when processing creatinine results via
 option Enter/verify data (autoinstrument) [LRVR]. The delta check will be
 triggered when the creatinine value is entered and/or changed or when the
 eGFR has not been calculated. If the eGFR is a required test and the result
 is 'pending' then the delta check will attempt to calculate the eGFR.
  
 2. The comment "MISSING PARAMETER" generated when the patient's race is
 'Undeclared' or 'Unanswered' is changed to "For eGFR: Race unknown, if
 African American multiply result by 1.210".
  
 3. The delta check will determine the patient's race using the following
 criteria:
  a. If specimen for a PATIENT file (#2) patient, the race is determine
     using supported API VADPT.
  b. If specimen for a REFERRAL PATIENT file (#67) patient, the race is
     determined based on RACE field (#.06) in REFERRAL PATIENT file.
  c. All other patient types will not use race as a parameter in the
     calculation. These patient types will generate the 'race unknown'
     comment.
  
 4. During patch development it was determined that the lock placed on the
 accession being verified could be prematurely released. This defect could
 allow two or more users to edit the accession concurrently. The delta check
 has been changed to eliminate the releasing of the lock. The lock will now
 be released by the lab verifying options.
  
 5. During patch testing a potential safety issue was identified with the
 delta check with regards to display of abnormal/critical creatinine values.
 The delta check displayed eGFR exception messages as part of the display
 of creatinine abnormal/critical flags. These eGFR exception messages will
 be added as accession comments and not displayed as part of the creatinine
 result display.
  
 The eGFR exception messages that will be added as comments are.
     Condition                             Comment
     ---------                             -------
  no patient age   - "For eGFR: **eGFR not Calculated - No Age Recorded**"
  no patient sex   - "For eGFR: **eGFR not Calculated - No Sex Recorded**"
  race unknown     - "For eGFR: Race unknown, if African American multiply
                      result by 1.210"
  delta check
  incorrectly
  configured       - "For eGFR: **eGFR not Calculated - Delta check not
                      configured**"
                      Note: this comment generated when field TEST NAME FOR
                            OUTPUT VALUE 1 (#61.1) is blank for the eGFR
                            delta check entry in DELTA CHECKS file (#62.1).
  creatinine
  changed and eGFR
  not in editing
  profile          - "For eGFR: **eGFR not in test editing profile -
                      Creatinine Changed**"
  
 When no patient age or sex is identified, "canc" will be entered as the
 eGFR test result.
  
 6. NOIS  FGH-0304-32518 reported the eGFR calculation was being performed
 and the result added to the accession when there was no ordered test for
 the eGFR. This prevents user from verifying and releasing test results.
 The eGFR delta check will check for the eGFR test in the test editing
 profile selected by the user. If the eGFR test is not in the editing
 profile then it will not be calculated. If the creatinine value is
 changed, the eGFR test is not in the editing profile and there is a
 previous eGFR result then the exception message "For eGFR: **eGFR not in
 test editing profile - Creatinine Changed**" will be generated
  
 7. When the eGFR delta check is called by option Group data review
 (verified & EM) [LRGVP] the delta check will quit with no action taken.
  
 8. See patch LR*5.2*289 DELTA CHECK FOR EGFR TEST for instructions on
 setting up and configuring the eGFR delta check.
  
  
 ASSOCIATED E3R
 --------------
  None
  
  
 ASSOCIATED NOIS
 ---------------
 DUR-0803-30566
 FGH-0304-32518
 NYH-1203-10526
  
  
 TEST SITES
 ----------
 Albuquerque VAMC - VMS/DSM
 Durham VAMC - VMS/DSM
 Iron Mountain VAMC - VMS/Cache
 Maryland HCS - VMS/DSM
 Milwaukee VAMC - VMS/DSM
 North Florida/South Georgia HCS - VMS/DSM
 Shreveport VAMC - VMS/DSM
 Tomah VAMC - VMS/Cache
 Upstate New York HCS - VMS/DSM
  
  
 ROUTINE SUMMARY
 ===============
   The following routines are included in this patch.  The second line
   of each of these routines now looks like:
   <tab> ;;5.2;LAB SERVICE;<patchlist>;Sep 27, 1994
  
                     Checksum       Checksum
    Routine Name     Before Patch   After Patch    Patch List
    ------------     ------------   -----------    ------------
    LR313            N/A            4332118        **313** (Deleted by KIDS)
    LREGFR           2490467        3964631        **289,313**
  
  List of preceding patches: 289
  Sites should use CHECK^XTSUMBLD to verify checksums.
  
  
 INSTALLATION INSTRUCTIONS
 -------------------------
  
  The install time for this patch is less than 5 minute. This patch can be
  installed when Laboratory users are on the system. However these users
  should not be using any of the Laboratory's package verifying options.
  Suggested time to install: non-peak requirement hours.
  
  
 NOTE: Kernel patches must be current on the target system to avoid
       problems loading and/or installing this patch.
  
       Patch installation needs to be coordinated with the Laboratory
       Information Manager (LIM/ADPAC).
  
  
   1.  If any of the above routines are mapped, disable mapping for them.
  
   2.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   3.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   4.  Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   5.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
  
   6.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LR*5.2*313'.
  
       When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//
       choose 'NO'.
  
       When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols?  YES//', choose 'NO' unless site has additional local
       laboratory verifying options that should be disabled during install.
  
       The install will automatically disable the following options:
       Accession order then immediately enter data         LR ACC THEN DATA
       Batch data entry (chem, hem, tox, etc.)             LRSTUF
       Bypass normal data entry                            LRFAST
       Enter/verify data (Load list)                       LRVRW2
       Enter/verify data (Work list)                       LRVRW
       Enter/verify data (auto instrument)                 LRVR
       Enter/verify/modify data (manual)                   LRENTER
       Fast Bypass Data Entry/Verify                       LRFASTS
       Group data review (verified & EM)                   LRGVP
       Group verify (EA, EL, EW)                           LRGV
  
  
   7. On a mapped system, rebuild your map set.
  
  Note: Routine LR313 will be deleted after successful patch installation.
  
  
  
 INSTALLATION EXAMPLE
 ====================
  
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME: LR*5.2*313  Loaded from Distribution  1/26/04@11:22:51
      => LR*5.2*313
  
 This Distribution was loaded on Jan 26, 2004@11:22:51 with header of
    LR*5.2*313
    It consisted of the following Install(s):
      LR*5.2*313
 Checking Install for Package LR*5.2*313
 Will first run the Environment Check Routine, LR313
  
  
                Sending install started alert to mail group G.LMI
  
                         --- Environment Check is Ok ---
  
 Install Questions for LR*5.2*313
  
  
 Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES// NO
  
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//  TELNET VIRTUAL
  
  
  Install Started for LR*5.2*313 :
                Jan 26, 2004@11:26:28
  
 Build Distribution Date: Jan 26, 2004
  
  Installing Routines:...
                Jan 26, 2004@11:26:28
  
  Running Pre-Install Routine: PRE^LR313.
  
                           *** Pre install started ***
  
                            *** No action required ***
  
                          *** Pre install completed ***
  
  Installing PACKAGE COMPONENTS:
  
  Installing OPTION...........
                Jan 26, 2004@11:26:28
  
  Running Post-Install Routine: POST^LR313.
  
                           *** Post install started ***
  
                            *** No action required ***
  
                          *** Post install completed ***
  
               Sending install completion alert to mail group G.LMI
  
  Updating Routine file......
  
  Updating KIDS files.......
  
  LR*5.2*313 Installed.
                Jan 26, 2004@11:26:28
  
  Install Message sent #xxxxx

Routine Information:
====================

Routine Name:
  - LREGFR


Routine Checksum:

Routine Name:
  - LR313


Routine Checksum:

=============================================================================
User Information:
Entered By  : MCCORMACK,JOHN                Date Entered  : DEC 09, 2003
Completed By: HSU,YUI LI                    Date Completed: MAY 20, 2004
Released By : BELSCHWINDER,MICHAEL          Date Released : JUN 14, 2004
=============================================================================


Packman Mail Message:
=====================

$END TXT
