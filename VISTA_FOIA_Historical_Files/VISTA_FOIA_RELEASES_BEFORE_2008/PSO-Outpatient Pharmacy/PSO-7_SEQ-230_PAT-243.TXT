$TXT Created by WHITE,ELAINE at CMNT.FO-BIRM.MED.VA.GOV  (KIDS) on Wednesday, 02/07/07 at 09:35
=============================================================================
Run Date: MAR 29, 2007                     Designation: PSO*7*243
Package : PSO - OUTPATIENT PHARMACY           Priority: Mandatory
Version : 7       SEQ #230                      Status: Released
                  Compliance Date: APR 29, 2007
=============================================================================

Associated patches: (v)PSO*7*25    <<= must be installed BEFORE `PSO*7*243'
                    (v)PSO*7*222   <<= must be installed BEFORE `PSO*7*243'
                    (v)PSO*7*233   <<= must be installed BEFORE `PSO*7*243'

Subject: RDI - REMOTE DATA INTEROPERABILITY DELETED AND EXPIRED

Category: 
  - Routine
  - Enhancement (Mandatory)

Description:
============

 Remote Data Interoperability (RDI) functionality includes receiving data
 from the Health Data Repository (HDR) in order to perform order checking
 against outpatient prescription and allergy data from remote VA or
 Department of Defense (DoD) facilities.
  
 When RDI is turned on (by the Computerized Patient Record System (CPRS)
 patch OR*3*238), the RDI order checking checks the current drug being 
 ordered for duplicate drugs, duplicate drug classes, drug-drug
 interactions, and drug allergies.
  
  
 This patch contains the following changes for RDI order checking:
  
 1. Prescriptions with a status of "DELETED" in the STATUS field (#100) in
 the PRESCRIPTION file (#52) from a remote facility should not be included
 in order checks. This patch filters out DELETED remote prescriptions.
  
 2. Some older prescriptions do not have an expiration date in the 
 EXPIRATION DATE field (#26) of the PRESCRIPTION file (#52). This patch
 restricts prescriptions with a missing expiration date from being used in
 remote order checks unless the ISSUE DATE (#1) field of the PRESCRIPTION
 file (#52) is within the past year.
  
 3. Drugs not matched to the National Drug file were not performing remote 
 order checks. These drugs could have a drug class defined. This patch 
 adds the remote order check for drug class when orders are placed for 
 locally defined drugs.
  
 Note: For remote order checking, if the remote order does not have a VA 
 PRODUCT file VUID, then it will not be included in drug-drug order 
 checks. However, future patches are planned to send/receive the drug 
 class to the HDR, and then it will be possible to use non-standardized 
 remote orders for duplicate drug class checks.
  
  
 4. When Adverse Reaction Tracking (ART) patch GMRA*4*26 is installed at a
 site, this patch adds the display of LOCAL, REMOTE SITE(S), or LOCAL AND
 REMOTE SITE(S) to allergy order checks to indicate whether the allergy
 entry originated at the local site or it came from a remote site. For
 backdoor outpatient pharmacy, currently only the drug class code and not
 the drug class name is displayed for an allergy drug class order check.
 This patch adds the display of the class name.
  
 Example:
  
 A Drug-Allergy Reaction exists for this medication and/or class!
  
 Drug: AMOXICILLIN 250MG CAP
 Drug Class: AM110 PENICILLIN-G RELATED PENICILLINS (LOCAL)
  
  
 5. When the VUID field (#99.99) of the VA PRODUCT file (#50.68) of a
 remote prescription is inactive, every order being placed incorrectly
 displayed a duplicate drug order check. This patch corrects that problem.
  
 6. Remote order checking against remote discontinued or expired outpatient
 prescriptions is changed to perform the order check if the remote 
 prescription was expired or discontinued in the last 30 days instead of 
 within the last 120 days.
  
 7. During testing of RDI, a problem was discovered with the order checks
 involving remote allergy classes. Not all of the remote allergies were
 being retrieved from the HDR. A change was made to use a different
 Application Program Interface (API) to the allergy package that does 
 retrieve the remote data.
  
 8. An issue with too many false positive order checks was discovered when 
 doing allergy order checks on certain drug classes. Analgesics, as a
 class, were performing order checks across all members. For example: class
 CN101 was generating an order check for class CN102. This patch corrects
 this problem by ensuring that allergy Analgesic class order checks only
 match against the specific 5-character class if the class begins with 
 "CN10".
  
 9. One feature of RDI is the notification to the user when processing 
 orders that only local data is being used if the remote data is 
 unavailable. Several sites reported issues with this mechanism. This 
 patch corrects this problem by performing the check for remote data 
 availability upon entering the patient's profile, rather than on each
 order.
  
 10. The list of remote allergies is added to allergy/adverse reaction 
 portion of the Medication Profile. If a patient has the same allergy
 information from several remote sites, it will only be listed once.
  
 Associated Remedy Tickets:
 ==========================
 147573
 161499
  
 Associated E3Rs:
 ================
 N/A
  
  
 Test Sites:
 ===========
 AUGUSTA, GA
 BILOXI, MS
 CHARLESTON, SC       
 EL PASO, TX    
 LAS VEGAS, NV
 LOMA LINDA, CA
 NORTH CHICAGO, IL 
 OKLAHOMA CITY, OK          
 PUGET SOUND HCS, WA
 SAN DIEGO, CA
 TUSCALOOSA, AL
  
  
  Documentation Retrieval:
  ========================
  Sites will retrieve VISTA documentation from the following FTP
  addresses.  The preferred method is to FTP the files from
  download.vista.med.va.gov. This transmits the files from the first
  available FTP server. Sites may also elect to retrieve documentation
  directly from a specific server as follows:
  
  OI FIELD OFFICE  FTP ADDRESS               DIRECTORY
  
  Albany           ftp.fo-albany.med.va.gov  anonymous.software
  Hines            ftp.fo-hines.med.va.gov   anonymous.software
  Salt Lake City   ftp.fo-slc.med.va.gov     anonymous.software
  
   FILE NAME                            DESCRIPTION
  PSO_7_UM_R0307.PDF            Outpatient Pharmacy V. 7.0 User Manual
  PSO_7_P243_UM_CP.PDF          Outpatient Pharmacy V. 7.0 User Manual 
                                Change Pages
  
  
  Once released, documentation can also be retrieved from VISTA
  Documentation Library (VDL) on the Internet at the following address,
  http://www.va.gov/vdl
  
 Installation Instructions:
 ==========================
 Before installing this patch, use the List Tasks [XUTM INQ] option on the
 Taskman Management [XUTM MGR] menu to list currently running tasks. Do not
 install this patch while Outpatient Pharmacy users are using the software.
 Installation will take no longer than 3 minutes. There are no scheduling
 restrictions or recommendations.
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2. From the Kernel Installation & Distribution System menu, select the
    Installation menu.
                                                                       
 3. From this menu, you may select to use the following options:
    (when prompted for INSTALL NAME, enter PSO*7.0*243)
  
     a. Backup a Transport Global - this option will create a backup
        message of any routines exported with the patch. It will NOT
        backup any other changes such as DDs or templates.
  
     b. Compare Transport Global to Current System - this option will
        allow you to view all changes that will be made when the patch
        is installed. It compares all components of the patch (routines,
        DDs, templates, etc.).
  
     c. Verify Checksums in Transport Global - this option will ensure
        the integrity of the routines that are in the transport global.
     
     d. Print Transport Global - this option will allow you to view the
        components of the KIDS build.
  
  
 4. Use the Install Package(s) option and select the package PSO*7.0*243.
  
 5. When Prompted "Want KIDS to INHIBIT LOGONs during the install? YES//"
    respond NO.
  
 6. When Prompted "Want to DISABLE Scheduled Options, Menu Options, and 
    Protocols? YES//" respond NO.
  
 Routine Summary:
 ================
 The second line now reads as follows:
  
    <TAB>;;7.0;OUTPATIENT PHARMACY;**[patch list]**;DEC 1997
  
 CHECK^XTSUMBLD results:
  
 Routine    Before Patch  After Patch     Patch List
 ==============================================================
 PSOCPDUP   20490621      20624058        11,27,32,130,132,192,207,222,243
 PSODGAL     5434933       7042851        26,243
 PSODGDGI   26178294      26556775        10,27,48,130,144,132,188,207,243
 PSODRDUP   26447273      26060865        11,23,27,32,39,56,130,132,192,
                                          207,222,243
 PSODRG     11176015      11243785        20,23,36,53,54,46,112,139,207,
                                          148,243
 PSOORDRG   16892093      16864699        3,29,49,46,81,105,134,144,132,
                                          188,207,148,243
 PSOORRDI   16705317      19480363        207,243
 PSOORUT2   15342826      17946239        11,146,132,182,233,243   
 PSOORUT3    6979035       6992147        5,25,243
 PSOVER1    26251869      26675786        32,46,90,131,202,207,148,243
  
 Total number of routines modified: 10

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSOCPDUP
    Before: B33098913  After: B32544518  **11,27,32,130,132,192,207,222,243**
Routine Name: PSODGAL
    Before:  B9980681  After: B16555138  **26,243**
Routine Name: PSODGDGI
    Before: B54723266  After: B56649321  **10,27,48,130,144,132,188,207,243**
Routine Name: PSODRDUP
    Before: B44003984  After: B40100457  **11,23,27,32,39,56,130,132,192,
                                          207,222,243**
Routine Name: PSODRG
    Before: B30303688  After: B30705564  **20,23,36,53,54,46,112,139,207,
                                          148,243**
Routine Name: PSOORDRG
    Before: B42987232  After: B43080029  **3,29,49,46,81,105,134,144,132,
                                          188,207,148,243**
Routine Name: PSOORRDI
    Before: B48531879  After: B63177422  **207,243**
Routine Name: PSOORUT2
    Before: B24070552  After: B32770288  **11,146,132,182,233,243**
 Description of Changes:
   

Routine Name: PSOORUT3
    Before:  B9624283  After:  B9741935  **5,25,243**
 Description of Changes:
   
   
   

Routine Name: PSOVER1
    Before: B52134870  After: B53965789  **32,46,90,131,202,207,148,243**

=============================================================================
User Information:
Entered By  : WHITE,ELAINE                  Date Entered  : MAR 27, 2006
Completed By: LEONARD,KEN                   Date Completed: MAR 27, 2007
Released By : BARRON,LUANNE                 Date Released : MAR 29, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
